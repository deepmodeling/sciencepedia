{"hands_on_practices": [{"introduction": "Quantifying and comparing diverse health problems requires a common language of measurement. This exercise provides hands-on practice with two of the most fundamental metrics in health economics: the Disability-Adjusted Life Year (DALY) and the Quality-Adjusted Life Year (QALY). Mastering the calculation of health gains using these standardized units, as explored in this problem [@problem_id:5022636], is the essential first step toward making robust, evidence-based prioritization decisions.", "problem": "A health system in a middle-income country seeks to identify unmet clinical needs and prioritize interventions using rigorous, evidence-based metrics grounded in core burden-of-disease definitions. The health technology assessment team is evaluating two programs that address distinct unmet needs: a trauma system upgrade focused on reducing mortality and disability from road traffic injuries, and a structured osteoarthritis management program aimed at reducing long-term disability in older adults. Use the following scientifically standard definitions as the foundational base: Years Lived with Disability (YLD) is determined by the product of incidence, average duration, and disability weight, with time-discounting applied to the duration; Years of Life Lost (YLL) is determined by the product of the number of deaths and the standard remaining life expectancy at age of death, with time-discounting applied to the future life years. A Disability-Adjusted Life Year (DALY) is the sum of YLD and YLL. Quality-Adjusted Life Year (QALY) gains are computed as the time-discounted integral of utility during health states avoided or added.\n\nAssume constant annual exponential discounting at rate $r = 0.03$ applied to all future time flows.\n\nCondition $\\mathrm{X}$ (road traffic injury, primarily affecting young adults):\n- Baseline incidence $I_{\\mathrm{X}} = 500$ cases per year.\n- Average duration of disability from nonfatal cases $D_{\\mathrm{X}} = 1$ year.\n- Disability weight $w_{\\mathrm{X}} = 0.3$.\n- Baseline deaths $N_{\\mathrm{X}} = 50$ per year.\n- Average age at death $30$ years; standard remaining life expectancy at age $30$ is $L_{30} = 50$ years.\n- For QALY calculations, assume the average utility during added life after death aversion is $u_{\\mathrm{X}} = 0.90$ (reflecting modest sequelae and comorbidities).\n\nCondition $\\mathrm{Y}$ (symptomatic knee osteoarthritis in older adults):\n- Baseline incidence $I_{\\mathrm{Y}} = 1000$ cases per year.\n- Average duration of disability $D_{\\mathrm{Y}} = 10$ years.\n- Disability weight $w_{\\mathrm{Y}} = 0.15$.\n- Nonfatal; ignore YLL for condition $\\mathrm{Y}$.\n- Average age at onset $60$ years (this is relevant for clinical context but not for calculations below given the nonfatal nature and constant discounting).\n\nPrograms:\n- Program $\\mathrm{A}$ (trauma system): reduces deaths from condition $\\mathrm{X}$ by $40\\%$ and reduces the average disability duration for nonfatal cases from $D_{\\mathrm{X}} = 1$ year to $D_{\\mathrm{X}}' = 0.8$ years.\n- Program $\\mathrm{B}$ (osteoarthritis management): reduces incidence of condition $\\mathrm{Y}$ by $10\\%$ and reduces the disability weight among remaining incident cases by $\\Delta w_{\\mathrm{Y}} = 0.05$ (so $w_{\\mathrm{Y}}' = 0.10$ for those cases).\n\nAssume a continuous-time discounting kernel for any stream of health over a duration $T$ of $\\int_{0}^{T} \\exp(-r t) \\, dt$, and that the health utility for nondisabled life is $1$. For condition $\\mathrm{Y}$, when disease is prevented entirely, the QALY gain equals the time-discounted avoided disutility $w_{\\mathrm{Y}}$. For condition $\\mathrm{X}$, QALY gains from averted deaths equal the time-discounted added life expectancy weighted by $u_{\\mathrm{X}}$.\n\nTasks:\n1. Using the core definitions and discounting, compute the YLD and YLL components relevant to each program’s health gains and thereby the total DALYs averted by Program $\\mathrm{A}$ and by Program $\\mathrm{B}$.\n2. Compute the total QALYs gained by Program $\\mathrm{A}$ and by Program $\\mathrm{B}$ under the assumptions given.\n3. To enable a quantitative comparison across metrics, compute the unitless ratio $$R = \\frac{\\text{DALYs averted by Program } \\mathrm{A}}{\\text{QALYs gained by Program } \\mathrm{B}}.$$\n\nExpress the final numerical answer for $R$ as a unitless quantity, and round your answer to four significant figures. Do not include any units in your final boxed answer.", "solution": "## PROBLEM VALIDATION\n\n### Step 1: Extract Givens\n- **Discount rate**: $r = 0.03$ (constant annual exponential).\n- **Discounting kernel**: $\\int_{0}^{T} \\exp(-r t) \\, dt$ for a stream over duration $T$.\n- **Health utility**: $1$ for nondisabled life.\n- **Metric Definitions**:\n    - YLD (Years Lived with Disability) = Incidence $\\times$ Average Duration $\\times$ Disability Weight, with time-discounting.\n    - YLL (Years of Life Lost) = Number of deaths $\\times$ Standard remaining life expectancy, with time-discounting.\n    - DALY (Disability-Adjusted Life Year) = YLD + YLL.\n    - QALY (Quality-Adjusted Life Year) Gain = Time-discounted integral of utility change.\n\n- **Condition X (Road Traffic Injury)**:\n    - Baseline incidence: $I_{\\mathrm{X}} = 500$ cases/year.\n    - Baseline duration of disability: $D_{\\mathrm{X}} = 1$ year.\n    - Disability weight: $w_{\\mathrm{X}} = 0.3$.\n    - Baseline deaths: $N_{\\mathrm{X}} = 50$ deaths/year.\n    - Average age at death: $30$ years.\n    - Standard remaining life expectancy at age 30: $L_{30} = 50$ years.\n    - Utility of added life after death aversion: $u_{\\mathrm{X}} = 0.90$.\n\n- **Condition Y (Osteoarthritis)**:\n    - Baseline incidence: $I_{\\mathrm{Y}} = 1000$ cases/year.\n    - Average duration of disability: $D_{\\mathrm{Y}} = 10$ years.\n    - Disability weight: $w_{\\mathrm{Y}} = 0.15$.\n    - Nonfatal condition.\n\n- **Program A (Trauma System for Condition X)**:\n    - Reduces deaths by $40\\%$.\n    - Reduces disability duration from $D_{\\mathrm{X}} = 1$ year to $D_{\\mathrm{X}}' = 0.8$ years.\n\n- **Program B (Osteoarthritis Management for Condition Y)**:\n    - Reduces incidence by $10\\%$.\n    - Reduces disability weight for remaining cases by $\\Delta w_{\\mathrm{Y}} = 0.05$.\n\n### Step 2: Validate Using Extracted Givens\n- **Scientifically Grounded**: The problem is based on standard, well-established methodologies in health economics and public health, namely Disability-Adjusted Life Years (DALYs) and Quality-Adjusted Life Years (QALYs). The definitions provided for YLL, YLD, and discounting are consistent with peer-reviewed literature (e.g., Global Burden of Disease studies). The numerical values are plausible for the described conditions.\n- **Well-Posed**: The problem provides all necessary data (incidences, durations, weights, efficacies, discount rates) to calculate the required metrics. The tasks are clearly defined, leading to a unique numerical solution.\n- **Objective**: The language is precise and quantitative. It avoids subjective or ambiguous terminology.\n- **Completeness and Consistency**: The problem is self-contained. There are no contradictions in the provided data or definitions. The assumptions (e.g., constant exponential discounting, utility for QALYs) are explicitly stated.\n\n### Step 3: Verdict and Action\nThe problem is valid as it is scientifically grounded, well-posed, objective, and internally consistent. It represents a formalizable and relevant problem in health technology assessment. Proceeding to solution.\n\n## REASONED SOLUTION\nThe problem requires the calculation and comparison of health gains from two different programs using two distinct metrics: Disability-Adjusted Life Years (DALYs) and Quality-Adjusted Life Years (QALYs). We will compute the DALYs averted and QALYs gained for each program and then compute the required ratio.\n\nThe continuous-time discount factor for a health benefit stream lasting for a duration $T$ is given by the integral of the discounting kernel:\n$$ \\text{Discount Factor}(T) = \\int_{0}^{T} \\exp(-rt) \\, dt = \\left[-\\frac{1}{r} \\exp(-rt)\\right]_{0}^{T} = \\frac{1 - \\exp(-rT)}{r} $$\nWe are given the discount rate $r = 0.03$.\n\n### Task 1: DALYs Averted\n\n**Program A (Trauma System)**\nThe DALYs averted by Program A ($\\Delta \\text{DALY}_{\\mathrm{A}}$) are the sum of the Years of Life Lost (YLL) averted and the Years Lived with Disability (YLD) averted.\n\n1.  **YLL Averted ($\\Delta \\text{YLL}_{\\mathrm{A}}$)**:\n    Program A reduces deaths from condition X by $40\\%$.\n    - Number of deaths averted per year: $N_{\\mathrm{X,averted}} = N_{\\mathrm{X}} \\times 0.40 = 50 \\times 0.40 = 20$.\n    - Each averted death restores a standard remaining life expectancy of $L_{30} = 50$ years.\n    - The discounted value of these life years is: $\\frac{1 - \\exp(-rL_{30})}{r} = \\frac{1 - \\exp(-0.03 \\times 50)}{0.03} = \\frac{1 - \\exp(-1.5)}{0.03}$.\n    - YLL averted per year:\n    $$ \\Delta \\text{YLL}_{\\mathrm{A}} = N_{\\mathrm{X,averted}} \\times \\frac{1 - \\exp(-rL_{30})}{r} = 20 \\times \\frac{1 - \\exp(-1.5)}{0.03} $$\n\n2.  **YLD Averted ($\\Delta \\text{YLD}_{\\mathrm{A}}$)**:\n    For the $I_{\\mathrm{X}} = 500$ nonfatal cases, the program reduces the duration of disability from $D_{\\mathrm{X}} = 1$ year to $D_{\\mathrm{X}}' = 0.8$ years. The disability weight is $w_{\\mathrm{X}} = 0.3$.\n    - The YLD averted per case is the disability weight multiplied by the change in discounted duration.\n    - Change in discounted duration: $\\int_{D_{\\mathrm{X}}'}^{D_{\\mathrm{X}}} \\exp(-rt) dt = \\frac{\\exp(-rD_{\\mathrm{X}}') - \\exp(-rD_{\\mathrm{X}})}{r}$.\n    - Total YLD averted per year:\n    $$ \\Delta \\text{YLD}_{\\mathrm{A}} = I_{\\mathrm{X}} \\times w_{\\mathrm{X}} \\times \\frac{\\exp(-rD_{\\mathrm{X}}') - \\exp(-rD_{\\mathrm{X}})}{r} = 500 \\times 0.3 \\times \\frac{\\exp(-0.03 \\times 0.8) - \\exp(-0.03 \\times 1)}{0.03} $$\n    $$ \\Delta \\text{YLD}_{\\mathrm{A}} = 150 \\times \\frac{\\exp(-0.024) - \\exp(-0.03)}{0.03} = 5000 (\\exp(-0.024) - \\exp(-0.03)) $$\n\n3.  **Total DALYs Averted by Program A**:\n    $$ \\Delta \\text{DALY}_{\\mathrm{A}} = \\Delta \\text{YLL}_{\\mathrm{A}} + \\Delta \\text{YLD}_{\\mathrm{A}} = \\frac{20 (1 - \\exp(-1.5))}{0.03} + 5000 (\\exp(-0.024) - \\exp(-0.03)) $$\n\n**Program B (Osteoarthritis Management)**\nProgram B is for a nonfatal condition, so all DALYs averted are from YLD reduction ($\\Delta \\text{DALY}_{\\mathrm{B}} = \\Delta \\text{YLD}_{\\mathrm{B}}$). The gain has two components.\n\n1.  **YLD Averted from Incidence Reduction**:\n    - The program reduces incidence by $10\\%$, preventing $I_{\\mathrm{Y,averted}} = 1000 \\times 0.10 = 100$ cases per year.\n    - For each prevented case, YLDs are averted over a duration $D_{\\mathrm{Y}}=10$ years with disability weight $w_{\\mathrm{Y}} = 0.15$.\n    - YLD averted from this component:\n    $$ \\Delta \\text{YLD}_{\\mathrm{B,1}} = I_{\\mathrm{Y,averted}} \\times w_{\\mathrm{Y}} \\times \\frac{1 - \\exp(-rD_{\\mathrm{Y}})}{r} = 100 \\times 0.15 \\times \\frac{1 - \\exp(-0.03 \\times 10)}{0.03} $$\n\n2.  **YLD Averted from Disability Weight Reduction**:\n    - For the remaining $I_{\\mathrm{Y,rem}} = 1000 \\times 0.90 = 900$ incident cases, the disability weight is reduced by $\\Delta w_{\\mathrm{Y}} = 0.05$.\n    - The reduction in YLD for these cases is over duration $D_{\\mathrm{Y}}=10$ years.\n    - YLD averted from this component:\n    $$ \\Delta \\text{YLD}_{\\mathrm{B,2}} = I_{\\mathrm{Y,rem}} \\times \\Delta w_{\\mathrm{Y}} \\times \\frac{1 - \\exp(-rD_{\\mathrm{Y}})}{r} = 900 \\times 0.05 \\times \\frac{1 - \\exp(-0.03 \\times 10)}{0.03} $$\n\n3.  **Total DALYs Averted by Program B**:\n    $$ \\Delta \\text{DALY}_{\\mathrm{B}} = \\Delta \\text{YLD}_{\\mathrm{B,1}} + \\Delta \\text{YLD}_{\\mathrm{B,2}} = \\frac{(100 \\times 0.15 + 900 \\times 0.05)(1 - \\exp(-0.3))}{0.03} $$\n    $$ \\Delta \\text{DALY}_{\\mathrm{B}} = \\frac{(15 + 45)(1 - \\exp(-0.3))}{0.03} = \\frac{60(1 - \\exp(-0.3))}{0.03} = 2000(1 - \\exp(-0.3)) $$\n\n### Task 2: QALYs Gained\n\n**Program A**\nThe total QALYs gained are the sum of gains from averting deaths and reducing disability.\n- **Gain from averted deaths**: Differs from YLL by using the utility of saved life, $u_{\\mathrm{X}}=0.90$, instead of an implicit utility of $1$.\n$$ \\Delta \\text{QALY}_{\\mathrm{A,death}} = N_{\\mathrm{X,averted}} \\times u_{\\mathrm{X}} \\times \\frac{1 - \\exp(-rL_{30})}{r} = 20 \\times 0.90 \\times \\frac{1 - \\exp(-1.5)}{0.03} $$\n- **Gain from reduced disability**: The QALY gain from reducing morbidity is equivalent to the YLD averted, as the utility gain is $\\Delta u = (1 - w_{\\mathrm{X}}') - (1 - w_{\\mathrm{X}}) = w_{\\mathrm{X}}$ over the gained healthy time. $w_{\\mathrm{X}}'$ here would refer to the disability weight of health, which is $0$.\n$$ \\Delta \\text{QALY}_{\\mathrm{A,dis}} = I_{\\mathrm{X}} \\times w_{\\mathrm{X}} \\times \\frac{\\exp(-rD_{\\mathrm{X}}') - \\exp(-rD_{\\mathrm{X}})}{r} = \\Delta \\text{YLD}_{\\mathrm{A}} $$\n- **Total QALYs gained from Program A**:\n$$ \\Delta \\text{QALY}_{\\mathrm{A}} = \\frac{18 (1 - \\exp(-1.5))}{0.03} + 5000 (\\exp(-0.024) - \\exp(-0.03)) $$\n\n**Program B**\nFor non-fatal outcomes where utility in a state of disability is assumed to be $1-w$, the QALYs gained from reducing disability are equivalent to the YLDs averted. The problem confirms this by stating \"the QALY gain equals the time-discounted avoided disutility $w_{\\mathrm{Y}}$\" for prevented cases. The same logic applies to reducing the weight.\n$$ \\Delta \\text{QALY}_{\\mathrm{B}} = \\Delta \\text{DALY}_{\\mathrm{B}} = 2000(1 - \\exp(-0.3)) $$\n\n### Task 3: The Ratio R\n\nWe need to compute the ratio $R = \\frac{\\text{DALYs averted by Program } \\mathrm{A}}{\\text{QALYs gained by Program } \\mathrm{B}}$.\n$$ R = \\frac{\\Delta \\text{DALY}_{\\mathrm{A}}}{\\Delta \\text{QALY}_{\\mathrm{B}}} = \\frac{\\frac{20 (1 - \\exp(-1.5))}{0.03} + 5000 (\\exp(-0.024) - \\exp(-0.03))}{2000(1 - \\exp(-0.3))} $$\n\nNow, we substitute the numerical values:\n- Numerator:\n    - $\\Delta \\text{YLL}_{\\mathrm{A}} = \\frac{20}{0.03}(1 - \\exp(-1.5)) \\approx 666.6667 \\times (1 - 0.223130) = 666.6667 \\times 0.776870 \\approx 517.9132$\n    - $\\Delta \\text{YLD}_{\\mathrm{A}} = 5000 (\\exp(-0.024) - \\exp(-0.03)) \\approx 5000 (0.976286 - 0.970446) = 5000 \\times 0.005840 \\approx 29.2000$\n    - Numerator = $\\Delta \\text{DALY}_{\\mathrm{A}} \\approx 517.9132 + 29.2000 = 547.1132$\n\n- Denominator:\n    - $\\Delta \\text{QALY}_{\\mathrm{B}} = 2000(1 - \\exp(-0.3)) \\approx 2000(1 - 0.740818) = 2000 \\times 0.259182 \\approx 518.3636$\n\n- Ratio $R$:\n$$ R \\approx \\frac{547.1132}{518.3636} \\approx 1.0554617 $$\n\nRounding to four significant figures, we get $R = 1.055$.", "answer": "$$\\boxed{1.055}$$", "id": "5022636"}, {"introduction": "Effective prioritization moves beyond simply measuring disease burden to consider the real-world complexities of diagnosis and fairness. This practice problem [@problem_id:5022618] demonstrates how to model the total harm—including that from diagnostic errors—and incorporate the crucial dimension of health equity into decision-making. You will construct a sophisticated prioritization index that quantifies the unmet need by weighting both the magnitude of health loss and the disparity in outcomes between populations.", "problem": "A translational medicine team is assessing whether to prioritize development of an improved diagnostic for a chronic condition with substantial outcome disparities. Two subpopulations are routinely screened:\n\n- A High-risk Historically Underserved Population (HUP)\n- The General Population (GP)\n\nFor the current diagnostic test, assume the following epidemiologic parameters and test operating characteristics for each subpopulation:\n\n- Prevalence in HUP: $p_{\\mathrm{HUP}} = 0.15$\n- Sensitivity in HUP: $Se_{\\mathrm{HUP}} = 0.86$\n- Specificity in HUP: $Sp_{\\mathrm{HUP}} = 0.91$\n\n- Prevalence in GP: $p_{\\mathrm{GP}} = 0.04$\n- Sensitivity in GP: $Se_{\\mathrm{GP}} = 0.93$\n- Specificity in GP: $Sp_{\\mathrm{GP}} = 0.96$\n\nLet $N = 1{,}000$ denote the number of individuals tested per subpopulation. Assume expected values may be fractional.\n\nTo quantify clinical impact, use the Quality-Adjusted Life Year (QALY) framework. The following per-error expected losses are estimated from historical outcomes and current care pathways:\n\n- HUP missed diagnosis False Negative (FN) QALY loss: $L_{\\mathrm{FN,HUP}} = 0.9$ QALY\n- HUP false alarm False Positive (FP) QALY loss: $L_{\\mathrm{FP,HUP}} = 0.08$ QALY\n- GP missed diagnosis FN QALY loss: $L_{\\mathrm{FN,GP}} = 0.6$ QALY\n- GP false alarm FP QALY loss: $L_{\\mathrm{FP,GP}} = 0.05$ QALY\n\nDefine the unmet-need prioritization index that integrates total harm and equity disparity as\n$$U \\;=\\; w_{\\mathrm{HUP}}\\,H_{\\mathrm{HUP}} \\;+\\; w_{\\mathrm{GP}}\\,H_{\\mathrm{GP}} \\;+\\; \\lambda\\,\\big| H_{\\mathrm{HUP}} - H_{\\mathrm{GP}} \\big|,$$\nwhere $H_{\\mathrm{HUP}}$ and $H_{\\mathrm{GP}}$ are the expected total QALY losses per $1{,}000$ tested in HUP and GP, respectively, and the policy weights are\n- $w_{\\mathrm{HUP}} = 1.3$\n- $w_{\\mathrm{GP}} = 1.0$\n- $\\lambda = 0.4$\n\nTasks:\n1. Using core definitions of sensitivity, specificity, and prevalence, compute the expected numbers of False Positives (FP) and False Negatives (FN) per $1{,}000$ tested for HUP and for GP.\n2. Compute $H_{\\mathrm{HUP}}$ and $H_{\\mathrm{GP}}$.\n3. Compute the prioritization index $U$.\n\nExpress the final index $U$ in Quality-Adjusted Life Years (QALY) per $1{,}000$ tested. Round your final answer to four significant figures. In addition to producing the numerical result, your reasoning must explicitly consider clinical and equity implications based on the computed quantities, but the final reported answer must be the single value of $U$.", "solution": "The problem statement is critically evaluated and deemed valid. It is scientifically grounded in standard epidemiological and health economic principles, well-posed with all necessary data provided, and objective in its formulation. The problem is a formalizable calculation based on clear definitions and does not violate any of the invalidity criteria. We may therefore proceed with a full solution.\n\nThe problem requires the calculation of an unmet-need prioritization index, $U$, based on diagnostic test performance and associated quality-adjusted life year (QALY) losses in two distinct subpopulations: a High-risk Historically Underserved Population (HUP) and the General Population (GP).\n\n**Task 1: Compute Expected Numbers of False Positives (FP) and False Negatives (FN)**\n\nLet $D^+$ be the event that an individual has the condition, and $D^-$ be the event that they do not. Let $T^+$ be the event of a positive test result, and $T^-$ be the event of a negative test result. The key epidemiological parameters are prevalence ($p = P(D^+)$), sensitivity ($Se = P(T^+|D^+)$), and specificity ($Sp = P(T^-|D^-)$).\n\nThe number of individuals tested in each subpopulation is $N = 1{,}000$.\n\nThe expected number of individuals with the disease is $N \\times p$.\nThe expected number of individuals without the disease is $N \\times (1-p)$.\n\nA False Negative (FN) occurs when a diseased individual tests negative. The probability of this is $P(T^-|D^+) = 1 - Se$.\nAn expected number of FNs, $E[\\text{FN}]$, is given by:\n$$E[\\text{FN}] = N \\times p \\times (1 - Se)$$\n\nA False Positive (FP) occurs when a non-diseased individual tests positive. The probability of this is $P(T^+|D^-) = 1 - Sp$.\nAn expected number of FPs, $E[\\text{FP}]$, is given by:\n$$E[\\text{FP}] = N \\times (1 - p) \\times (1 - Sp)$$\n\nWe apply these formulas to each subpopulation.\n\n**For the HUP subpopulation:**\nThe given parameters are $p_{\\mathrm{HUP}} = 0.15$, $Se_{\\mathrm{HUP}} = 0.86$, and $Sp_{\\mathrm{HUP}} = 0.91$.\nExpected number of individuals with the disease: $1{,}000 \\times 0.15 = 150$.\nExpected number of individuals without the disease: $1{,}000 \\times (1 - 0.15) = 850$.\n\nExpected number of False Negatives in HUP:\n$$E[\\text{FN}_{\\mathrm{HUP}}] = 150 \\times (1 - 0.86) = 150 \\times 0.14 = 21$$\nExpected number of False Positives in HUP:\n$$E[\\text{FP}_{\\mathrm{HUP}}] = 850 \\times (1 - 0.91) = 850 \\times 0.09 = 76.5$$\n\n**For the GP subpopulation:**\nThe given parameters are $p_{\\mathrm{GP}} = 0.04$, $Se_{\\mathrm{GP}} = 0.93$, and $Sp_{\\mathrm{GP}} = 0.96$.\nExpected number of individuals with the disease: $1{,}000 \\times 0.04 = 40$.\nExpected number of individuals without the disease: $1{,}000 \\times (1 - 0.04) = 960$.\n\nExpected number of False Negatives in GP:\n$$E[\\text{FN}_{\\mathrm{GP}}] = 40 \\times (1 - 0.93) = 40 \\times 0.07 = 2.8$$\nExpected number of False Positives in GP:\n$$E[\\text{FP}_{\\mathrm{GP}}] = 960 \\times (1 - 0.96) = 960 \\times 0.04 = 38.4$$\n\n**Task 2: Compute Total QALY Losses, $H_{\\mathrm{HUP}}$ and $H_{\\mathrm{GP}}$**\n\nThe total expected QALY loss, $H$, for a subpopulation is the sum of losses from FNs and FPs.\n$$H = E[\\text{FN}] \\times L_{\\mathrm{FN}} + E[\\text{FP}] \\times L_{\\mathrm{FP}}$$\nwhere $L_{\\mathrm{FN}}$ and $L_{\\mathrm{FP}}$ are the per-error QALY losses.\n\n**For the HUP subpopulation:**\nThe given QALY losses are $L_{\\mathrm{FN,HUP}} = 0.9$ and $L_{\\mathrm{FP,HUP}} = 0.08$.\n$$H_{\\mathrm{HUP}} = E[\\text{FN}_{\\mathrm{HUP}}] \\times L_{\\mathrm{FN,HUP}} + E[\\text{FP}_{\\mathrm{HUP}}] \\times L_{\\mathrm{FP,HUP}}$$\n$$H_{\\mathrm{HUP}} = (21 \\times 0.9) + (76.5 \\times 0.08) = 18.9 + 6.12 = 25.02$$\nSo, the total expected QALY loss in the HUP is $25.02$ QALYs per $1{,}000$ individuals tested.\n\n**For the GP subpopulation:**\nThe given QALY losses are $L_{\\mathrm{FN,GP}} = 0.6$ and $L_{\\mathrm{FP,GP}} = 0.05$.\n$$H_{\\mathrm{GP}} = E[\\text{FN}_{\\mathrm{GP}}] \\times L_{\\mathrm{FN,GP}} + E[\\text{FP}_{\\mathrm{GP}}] \\times L_{\\mathrm{FP,GP}}$$\n$$H_{\\mathrm{GP}} = (2.8 \\times 0.6) + (38.4 \\times 0.05) = 1.68 + 1.92 = 3.60$$\nThe total expected QALY loss in the GP is $3.60$ QALYs per $1{,}000$ individuals tested.\n\n**Clinical and Equity Implications:**\nThe disparity in outcomes is stark. The total harm (QALY loss) in the HUP ($H_{\\mathrm{HUP}} = 25.02$) is nearly $7$ times greater than in the GP ($H_{\\mathrm{GP}} = 3.60$). This large difference quantifies a significant health inequity driven by the current diagnostic strategy. In the HUP, the harm is dominated by missed diagnoses (FNs), which contribute $18.9$ QALYs of loss, reflecting high prevalence and a substantial per-case impact. The high number of false alarms (FPs) also contributes a notable $6.12$ QALY loss. In contrast, the harm in the GP is much lower overall and more balanced between FN-related loss ($1.68$ QALYs) and FP-related loss ($1.92$ QALYs). The lower prevalence in the GP is a major factor in its lower total harm. This analysis highlights that an improved diagnostic is most critically needed for the HUP, where the current test appears unfit for purpose, causing substantial harm and exacerbating health disparities.\n\n**Task 3: Compute the Prioritization Index, $U$**\n\nThe prioritization index $U$ is defined as:\n$$U = w_{\\mathrm{HUP}} H_{\\mathrm{HUP}} + w_{\\mathrm{GP}} H_{\\mathrm{GP}} + \\lambda | H_{\\mathrm{HUP}} - H_{\\mathrm{GP}} |$$\nThe policy weights are given as $w_{\\mathrm{HUP}} = 1.3$, $w_{\\mathrm{GP}} = 1.0$, and $\\lambda = 0.4$.\n\nThe index is composed of three parts:\n1.  The HUP harm, weighted by $w_{\\mathrm{HUP}}$ to reflect a policy of prioritizing this group.\n2.  The GP harm, with a standard weight of $w_{\\mathrm{GP}}=1.0$.\n3.  An equity component, which is the absolute difference in harm between the two groups, weighted by $\\lambda$. This term explicitly penalizes disparity.\n\nSubstituting the calculated values:\n$$H_{\\mathrm{HUP}} = 25.02$$\n$$H_{\\mathrm{GP}} = 3.60$$\n\nThe three components of $U$ are:\n$$w_{\\mathrm{HUP}} H_{\\mathrm{HUP}} = 1.3 \\times 25.02 = 32.526$$\n$$w_{\\mathrm{GP}} H_{\\mathrm{GP}} = 1.0 \\times 3.60 = 3.60$$\n$$\\lambda | H_{\\mathrm{HUP}} - H_{\\mathrm{GP}} | = 0.4 \\times |25.02 - 3.60| = 0.4 \\times 21.42 = 8.568$$\n\nSumming these components gives the value of $U$:\n$$U = 32.526 + 3.60 + 8.568 = 44.694$$\n\nThe problem asks for the final answer to be rounded to four significant figures.\n$U \\approx 44.69$.\n\nThis final index $U$ synthesizes the total magnitude of clinical harm with an explicit penalty for the inequitable distribution of that harm, providing a single quantitative metric for prioritization. A higher value of $U$ indicates a greater unmet need.", "answer": "$$\\boxed{44.69}$$", "id": "5022618"}, {"introduction": "The ultimate goal of identifying and measuring unmet needs is to guide action under real-world constraints. This final exercise [@problem_id:5022631] translates the principles of prioritization into a formal optimization problem, a powerful method for resource allocation. By framing the selection of interventions as a 0-1 knapsack problem, you will learn how to use computational techniques to determine the optimal portfolio of projects that maximizes health gains within a fixed budget.", "problem": "You are given a finite set of candidate clinical interventions for distinct unmet clinical needs in translational medicine. For each intervention $i \\in \\{0,1,\\dots,n-1\\}$, you are provided three quantities: the monetary cost $c_i$ in United States dollars (USD), the expected Disability-Adjusted Life Year (DALY) averted $d_i$, and a priority weight $w_i$ reflecting evidence-based prioritization of unmet need severity. Assume the following foundational facts and principles: the total expected DALYs averted from a set of independent interventions is the sum of individual expected DALYs averted, priority weights multiply the clinical effect sizes to form a weighted objective $b_i = w_i \\cdot d_i$, and resource constraints are represented by a hard budget $B$ under which the sum of selected costs must not exceed $B$. The goal is to select a subset of interventions that maximizes total weighted DALYs averted under the budget constraint.\n\nYour task is to implement a $0$-$1$ knapsack optimization that, for a provided test suite, returns the maximal total weighted DALYs averted and the indices of the selected interventions. The optimization problem is:\nmaximize $\\sum_{i \\in S} b_i$ subject to $\\sum_{i \\in S} c_i \\le B$ and $S \\subseteq \\{0,1,\\dots,n-1\\}$.\nYou must assume all costs and budgets are given in discrete increments of size $\\Delta$ (a positive real number), and all $c_i$ and $B$ are integral multiples of $\\Delta$. You must implement the optimization in integer capacity units by dividing all costs and the budget by $\\Delta$, using dynamic programming with the standard $0$-$1$ recurrence rooted in the additivity of benefits and the capacity constraint. To ensure determinism, if two subsets yield equal total weighted DALYs averted (differences less than $\\epsilon = 10^{-9}$), choose the subset with the smaller total cost, and if both total weighted DALYs and total costs are equal within $\\epsilon$, choose the lexicographically minimal index list (ascending order by indices).\n\nYour program must produce a single line of output containing the results as a comma-separated list enclosed in square brackets with no spaces. Each result element must itself be a two-element list: the first element is the maximal total weighted DALYs averted, rounded to three decimal places, and the second element is the list of chosen indices in ascending order. For example, a single result would be formatted as $[x,[i_1,i_2,\\dots]]$, and the full output for multiple test cases would be $[[x_1,[\\dots]],[x_2,[\\dots]],\\dots]$.\n\nUse the following test suite, which covers general, boundary, and tie-breaking cases. All costs $c_i$ and budgets $B$ are in USD, and all are multiples of $\\Delta = 50$ USD. DALY values are dimensionless. Priority weights are dimensionless.\n\nTest Case $1$ (general case, nontrivial trade-offs):\n- $\\Delta = 50$\n- $c = [300,500,400,200,800,0,350]$\n- $d = [1.2,2.0,1.6,0.7,3.5,0.2,1.4]$\n- $w = [1.0,0.9,1.2,1.5,0.8,1.0,1.1]$\n- $B = 1200$\n\nTest Case $2$ (zero budget boundary; includes a zero-cost item):\n- $\\Delta = 50$\n- $c = [300,500,400,200,800,0,350]$\n- $d = [1.2,2.0,1.6,0.7,3.5,0.2,1.4]$\n- $w = [1.0,0.9,1.2,1.5,0.8,1.0,1.1]$\n- $B = 0$\n\nTest Case $3$ (budget sufficient for all items):\n- $\\Delta = 50$\n- $c = [300,500,400,200,800,0,350]$\n- $d = [1.2,2.0,1.6,0.7,3.5,0.2,1.4]$\n- $w = [1.0,0.9,1.2,1.5,0.8,1.0,1.1]$\n- $B = 3000$\n\nTest Case $4$ (tie-breaking on lexicographic order of indices):\n- $\\Delta = 50$\n- $c = [400,400,400]$\n- $d = [2.0,2.0,2.0]$\n- $w = [1.0,1.0,1.0]$\n- $B = 800$\n\nTest Case $5$ (tie-breaking on minimal total cost):\n- $\\Delta = 50$\n- $c = [500,400]$\n- $d = [1.9,1.9]$\n- $w = [1.0,1.0]$\n- $B = 500$\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, with each test case represented as $[x,[i_1,i_2,\\dots]]$ and no spaces, where $x$ is rounded to three decimal places. For example: $[[x_1,[i_{1,1},i_{1,2}]], [x_2,[i_{2,1}]], \\dots]$ but with no spaces anywhere in the line.", "solution": "The problem is first validated to ensure its scientific and logical integrity.\n\n### Step 1: Extract Givens\n-   **Interventions**: A finite set indexed by $i \\in \\{0, 1, \\dots, n-1\\}$.\n-   **Intervention Data**: For each intervention $i$, we are given its cost $c_i$ (USD), DALYs averted $d_i$, and priority weight $w_i$.\n-   **Objective Function**: Maximize the total weighted DALYs averted, where the benefit of an intervention is $b_i = w_i \\cdot d_i$. The total benefit for a selected set $S$ is $\\sum_{i \\in S} b_i$.\n-   **Constraint**: The total cost of selected interventions must not exceed the budget $B$, i.e., $\\sum_{i \\in S} c_i \\le B$.\n-   **Optimization Model**: The problem is defined as a $0$-$1$ knapsack problem.\n-   **Discretization**: Costs $c_i$ and budget $B$ are integral multiples of a value $\\Delta > 0$. The optimization must use integer capacity units derived by dividing by $\\Delta$.\n-   **Algorithm**: Dynamic Programming (DP) with the standard $0$-$1$ recurrence.\n-   **Tie-Breaking Rules**: A strict hierarchy for selecting between subsets with equal outcomes:\n    1.  If total benefits are equal (difference less than $\\epsilon = 10^{-9}$), choose the subset with the smaller total cost.\n    2.  If benefits and costs are both equal (within $\\epsilon$), choose the subset with the lexicographically minimal list of indices.\n-   **Output Format**: A single-line, comma-separated list of results `[[benefit1,[indices1]],[benefit2,[indices2]],...]` with no spaces, where benefits are rounded to three decimal places.\n-   **Test Suite**: Five specific test cases are provided with all necessary parameters.\n\n### Step 2: Validate Using Extracted Givens\n-   **Scientifically Grounded**: The problem is valid. It formalizes a resource allocation problem common in health economics and translational medicine using the well-established $0$-$1$ knapsack model. DALYs, intervention costs, and budget constraints are standard concepts in this domain.\n-   **Well-Posed**: The problem is well-posed. It provides a clear objective function, an unambiguous constraint, and all necessary data. The inclusion of a comprehensive, deterministic tie-breaking procedure ensures that a unique and stable solution exists for any given input.\n-   **Objective**: The problem is stated objectively, using precise mathematical and domain-specific terminology without ambiguity or subjective elements.\n\n### Step 3: Verdict and Action\nThe problem is valid as it is scientifically grounded, well-posed, and objective. A solution will be developed.\n\n### Principle-Based Design\n\nThe problem is a classic $0$-$1$ knapsack problem, which aims to select items to maximize total value subject to a weight limit. Here, interventions are \"items,\" their weighted DALYs averted $b_i$ are their \"values,\" and their costs $c_i$ are their \"weights.\" The budget $B$ is the knapsack's \"capacity.\"\n\nA standard and efficient method for solving the $0$-$1$ knapsack problem is dynamic programming. The problem specifies that costs and the budget are integer multiples of a base unit $\\Delta$. We can define integer costs $c'_i = c_i / \\Delta$ and an integer budget $B' = B / \\Delta$. This allows for a DP approach with complexity related to the number of items $n$ and the integer budget $B'$.\n\nThe standard DP recurrence for maximizing value is:\n$DP(i, j) = \\max(DP(i-1, j), b_i + DP(i-1, j - c'_i))$\nwhere $DP(i, j)$ is the maximum benefit using items from $\\{0, \\dots, i\\}$ with budget $j$.\n\nHowever, the specified tie-breaking rules require tracking more than just the maximum benefit. The state of our DP must be augmented to include the information needed for these decisions. We define a DP state for a given integer budget $j$ as a tuple: $(\\text{benefit}, \\text{cost}, \\text{indices})$. The goal is to maximize benefit, then minimize cost, then minimize the index list lexicographically.\n\nWe can use a one-dimensional DP array, `dp`, of size $B' + 1$, where `dp[j]` stores the optimal state tuple for an integer budget of $j$. The array is initialized to represent the \"empty set\" solution: $(0.0, 0.0, [])$ for all possible budgets.\n\nWe iterate through each intervention $i$ from $0$ to $n-1$. For each intervention, we iterate through the integer budget $j$ from $B'$ down to the item's integer cost $c'_i$. The backward iteration is crucial for a $1$D DP array to ensure that each item is considered at most once (the \"$0$-$1$\" property).\n\nIn the inner loop, for each budget $j$, we consider two possibilities:\n1.  **Do not include item $i$**: The optimal solution for budget $j$ remains `dp[j]` as determined by the preceding items.\n2.  **Include item $i$**: This is possible if $j \\ge c'_i$. The new candidate solution is formed by taking the optimal solution for the remaining budget, `dp[j - c'_i]`, and adding item $i$. The candidate state is:\n    -   `new_benefit` = `dp[j - c'_i].benefit + b_i`\n    -   `new_cost` = `dp[j - c'_i].cost + c_i` (using the original monetary cost for tie-breaking)\n    -   `new_indices` = `dp[j - c'_i].indices + [i]`\n\nWe then compare this new candidate state with the current state `dp[j]` using the precise, hierarchical tie-breaking rules:\n-   If `new_benefit` is greater than `current_benefit` (by more than $\\epsilon = 10^{-9}$), we update `dp[j]`.\n-   Else, if `new_benefit` and `current_benefit` are effectively equal, we compare costs. If `new_cost` is less than `current_cost` (by more than $\\epsilon$), we update `dp[j]`.\n-   Else, if both benefit and cost are equal, we compare the index lists lexicographically. If `new_indices` is smaller than `current_indices`, we update `dp[j]`.\n\nBy processing items in increasing order of their index $i$ (from $0$ to $n-1$), the list of indices in any state `dp[...].indices` will be naturally sorted. When we form `new_indices` by appending $i$ to `dp[j - c'_i].indices`, the resulting list remains sorted because all indices in the previous list are less than $i$. This avoids an expensive sorting operation inside the tightest loop of the algorithm, making the lexicographical comparison efficient.\n\nAfter iterating through all items, the entry `dp[B']` will contain the tuple corresponding to the optimal solution for the full budget $B$. The final answer is then extracted from this tuple and formatted as required.", "answer": "[[5.120,[0,1,2,5]],[0.200,[5]],[10.510,[0,1,2,3,4,5,6]],[4.000,[0,1]],[1.900,[1]]]", "id": "5022631"}]}