{"hands_on_practices": [{"introduction": "To understand how hairstyles cause hair damage, we must first translate external pulling forces into the internal load experienced by the hair fiber. This exercise applies the fundamental engineering concept of tensile stress ($\\sigma = F/A$) to a single hair shaft. By calculating the stress induced by a typical grooming force, we can quantitatively assess whether this load approaches the material's fracture limit, providing a crucial link between macroscopic styling practices and microscopic hair damage. [@problem_id:4498057]", "problem": "A patient presents with early-stage traction alopecia characterized by perifollicular erythema and broken hairs at the frontal hairline after chronic tight braiding. To assess whether the mechanical load on individual hair shafts approaches fracture risk, model a single hair as a homogeneous cylindrical fiber with circular cross-section. Assume the hair shaft diameter is $d = 80 \\times 10^{-6}\\,\\mathrm{m}$ and the instantaneous tensile force transmitted to one hair during grooming is $F = 0.5\\,\\mathrm{N}$. Starting from the definition of Cauchy tensile stress and basic Euclidean geometry, compute the tensile stress $\\sigma$ on the hair shaft. Express the final stress in megapascals (MPa) and round your answer to four significant figures. Then, interpret within your derivation whether the computed value exceeds typical human hair fracture thresholds reported in the literature for untreated terminal scalp hair.", "solution": "The problem statement is first validated against the required criteria.\n\n### Step 1: Extract Givens\n-   Model: A single hair is a homogeneous cylindrical fiber with a circular cross-section.\n-   Hair shaft diameter: $d = 80 \\times 10^{-6}\\,\\mathrm{m}$.\n-   Instantaneous tensile force: $F = 0.5\\,\\mathrm{N}$.\n-   Task 1: Compute the tensile stress $\\sigma$ on the hair shaft.\n-   Task 2: Express the final stress in megapascals (MPa).\n-   Task 3: Round the answer to four significant figures.\n-   Task 4: Interpret the result in the context of hair fracture thresholds.\n\n### Step 2: Validate Using Extracted Givens\n1.  **Scientifically Grounded**: The problem is grounded in fundamental principles of solid mechanics (Cauchy stress) and biology (biomechanics of hair). The model of a hair as a cylindrical fiber is a standard and appropriate simplification. The values for hair diameter ($d = 80\\,\\mu\\mathrm{m}$) and tensile force ($F = 0.5\\,\\mathrm{N}$, approximately the weight of a $50\\,\\mathrm{g}$ mass) are physically realistic. Traction alopecia is a recognized medical condition resulting from chronic mechanical stress on hair follicles. The problem is scientifically sound.\n2.  **Well-Posed**: The problem is well-posed. It provides all necessary information (force $F$ and diameter $d$) to calculate the cross-sectional area and subsequently the tensile stress $\\sigma$. The instructions for units and rounding are unambiguous. A unique and meaningful solution exists.\n3.  **Objective**: The problem is stated in objective, quantitative terms, free from subjective language or opinion.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid**. A complete solution will be provided.\n\nThe objective is to calculate the tensile stress, $\\sigma$, on a single hair shaft. Tensile stress is defined as the force $F$ applied perpendicularly to a surface, divided by the cross-sectional area $A$ over which the force is distributed.\n\nThe governing equation for tensile stress is:\n$$\n\\sigma = \\frac{F}{A}\n$$\n\nThe hair shaft is modeled as a cylinder with a circular cross-section. The diameter of this circle is given as $d$. The radius, $r$, is half the diameter:\n$$\nr = \\frac{d}{2}\n$$\n\nThe cross-sectional area $A$ of the hair shaft is the area of this circle, which is given by the formula:\n$$\nA = \\pi r^2\n$$\n\nSubstituting the expression for the radius $r$ in terms of the diameter $d$, we find the area $A$:\n$$\nA = \\pi \\left(\\frac{d}{2}\\right)^2 = \\frac{\\pi d^2}{4}\n$$\n\nNow, we can substitute this expression for the area $A$ back into the formula for stress $\\sigma$:\n$$\n\\sigma = \\frac{F}{\\frac{\\pi d^2}{4}} = \\frac{4F}{\\pi d^2}\n$$\n\nThe given values are the force $F = 0.5\\,\\mathrm{N}$ and the diameter $d = 80 \\times 10^{-6}\\,\\mathrm{m}$. We can now substitute these numerical values into the derived expression for $\\sigma$:\n$$\n\\sigma = \\frac{4(0.5\\,\\mathrm{N})}{\\pi (80 \\times 10^{-6}\\,\\mathrm{m})^2}\n$$\n$$\n\\sigma = \\frac{2\\,\\mathrm{N}}{\\pi (6400 \\times 10^{-12}\\,\\mathrm{m}^2)}\n$$\n$$\n\\sigma = \\frac{2}{\\pi (6.4 \\times 10^{-9})}\\,\\mathrm{Pa}\n$$\nCalculating the numerical value:\n$$\n\\sigma \\approx 99471839.4\\,\\mathrm{Pa}\n$$\nThe unit of pascals ($\\mathrm{Pa}$) is equivalent to newtons per square meter ($\\mathrm{N/m^2}$).\n\nThe problem requires the answer to be expressed in megapascals (MPa). The conversion is $1\\,\\mathrm{MPa} = 10^6\\,\\mathrm{Pa}$. Therefore, to convert our result from Pa to MPa, we divide by $10^6$:\n$$\n\\sigma \\approx \\frac{99471839.4}{10^6}\\,\\mathrm{MPa} \\approx 99.4718394\\,\\mathrm{MPa}\n$$\n\nThe problem also requires rounding the final answer to four significant figures.\n$$\n\\sigma \\approx 99.47\\,\\mathrm{MPa}\n$$\n\nFinally, we must interpret this value. The ultimate tensile strength (the stress at which fracture occurs) of human terminal scalp hair is reported in the literature to typically range from approximately $150\\,\\mathrm{MPa}$ to $250\\,\\mathrm{MPa}$, depending on factors such as ethnicity, age, and chemical treatments. The calculated stress of $\\sigma \\approx 99.47\\,\\mathrm{MPa}$ is below this fracture threshold. However, this value represents approximately $40\\%$ to $66\\%$ of the typical fracture strength. While a single application of this force might not break a healthy hair, the chronic and repetitive application of such a substantial sub-fracture load is the definitive mechanism for traction alopecia. This chronic stress induces a subclinical inflammatory response (perifollicular erythema), which can lead to follicular damage, miniaturization of the hair follicle, and eventual permanent hair loss. The presence of broken hairs in the clinical presentation suggests that either peak forces can exceed $0.5\\,\\mathrm{N}$, or that some hairs are structurally weaker, or that material fatigue from repeated loading has lowered the fracture strength of the hair shafts. Therefore, the calculated stress is of high clinical and pathological significance.", "answer": "$$\n\\boxed{99.47}\n$$", "id": "4498057"}, {"introduction": "In clinical practice, a single hair follicle is rarely subjected to a simple, unidirectional pull; instead, it often serves as an anchor point for multiple braids or sections of hair. This practice moves from analyzing a single hair to modeling the combined effect of multiple forces acting on one follicle. By applying the principles of vector addition, you will determine the net resultant force, demonstrating how the specific geometry of a hairstyle can amplify or concentrate mechanical stress at the hairline. [@problem_id:4498020]", "problem": "A marginal hair follicle at the anterior hairline is subject to sustained tensile loads due to three adjacent braids. In traction alopecia, chronic tensile loading at the follicular insertion can be approximated by the vector sum of externally applied hair-shaft tensions in the local plane of the scalp, and the balance of forces at the follicle is governed by superposition and equilibrium from classical mechanics (sum of forces equals the net force) together with trigonometric projection of vectors into orthogonal axes. Consider a local two-dimensional coordinate system with the $x$-axis tangent to the hairline and the $y$-axis orthogonal to it in the plane of the scalp. Three braids exert equal-magnitude tensile forces of $F$ (measured in Newtons) on the follicle along directions defined by angles relative to the $x$-axis of $0^{\\circ}$, $30^{\\circ}$, and $-30^{\\circ}$. Assume quasi-static conditions with no acceleration, planar loading, and that each braid’s tension is transmitted along a straight-line direction given by its angle.\n\nUsing only the principles that the net force is the vector sum of the individual forces and that any planar force vector can be decomposed into $x$- and $y$-components via trigonometric functions of its orientation angle, compute the magnitude of the net force at the follicle produced by these three braids. Express your final result as a single closed-form symbolic expression in terms of $F$. You do not need to provide a numerical value, and you should not include units in your final expression.", "solution": "The problem statement is evaluated for validity before attempting a solution.\n\n### Step 1: Extract Givens\n- A marginal hair follicle is subject to tensile loads from three adjacent braids.\n- The physical model is based on the vector sum of externally applied tensions.\n- The principle of superposition applies: the net force is the vector sum of individual forces.\n- A local two-dimensional Cartesian coordinate system is defined with the $x$-axis tangent to the hairline and the $y$-axis orthogonal to it.\n- There are three tensile forces, each with an equal magnitude denoted by $F$.\n- The directions of the three forces are given by the angles $\\theta_1 = 0^{\\circ}$, $\\theta_2 = 30^{\\circ}$, and $\\theta_3 = -30^{\\circ}$ relative to the positive $x$-axis.\n- The system is under quasi-static conditions (no acceleration).\n- The loading is planar.\n- The task is to compute the magnitude of the net force at the follicle.\n- The result must be a single closed-form symbolic expression in terms of $F$.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is assessed against the validation criteria:\n- **Scientifically Grounded**: The problem is grounded in the fundamental principles of classical mechanics, specifically the vector addition of forces. This is a valid and standard method for analyzing systems of forces in equilibrium or quasi-static conditions. The application to the biomechanics of traction alopecia is a reasonable physical idealization.\n- **Well-Posed**: The problem is well-posed. All necessary information (magnitudes and directions of all forces) is provided to calculate a unique resultant force vector and its magnitude. The objective is clearly stated.\n- **Objective**: The problem is stated in precise, quantitative, and unbiased language.\n- **Completeness and Consistency**: The problem is self-contained and free of contradictions. The given data are sufficient and consistent.\n- **Realism**: While a simplification of a complex biological system, the model is physically plausible and does not invoke impossible or scientifically unsound conditions.\n- **Structure**: The problem is clearly structured and asks for a specific, derivable quantity.\n\n### Step 3: Verdict and Action\nThe problem is **valid**. It is a straightforward application of vector analysis within a well-defined physical context. A solution will now be derived.\n\nThe net force, $\\vec{F}_{\\text{net}}$, acting on the hair follicle is the vector sum of the three individual tensile forces, which we denote as $\\vec{F}_1$, $\\vec{F}_2$, and $\\vec{F}_3$. This is expressed by the principle of superposition:\n$$\n\\vec{F}_{\\text{net}} = \\vec{F}_1 + \\vec{F}_2 + \\vec{F}_3\n$$\nEach force vector can be decomposed into its components along the orthogonal $x$ and $y$ axes. For a force vector $\\vec{F}_i$ with magnitude $F$ and direction given by the angle $\\theta_i$ with respect to the positive $x$-axis, the components are:\n$$\nF_{ix} = F \\cos(\\theta_i)\n$$\n$$\nF_{iy} = F \\sin(\\theta_i)\n$$\nThe problem specifies three forces of equal magnitude $F$ at angles $\\theta_1 = 0^{\\circ}$, $\\theta_2 = 30^{\\circ}$, and $\\theta_3 = -30^{\\circ}$. We now compute the components for each force.\n\nFor the first force, $\\vec{F}_1$, with magnitude $F$ and angle $\\theta_1 = 0^{\\circ}$:\n$$\nF_{1x} = F \\cos(0^{\\circ}) = F \\cdot 1 = F\n$$\n$$\nF_{1y} = F \\sin(0^{\\circ}) = F \\cdot 0 = 0\n$$\n\nFor the second force, $\\vec{F}_2$, with magnitude $F$ and angle $\\theta_2 = 30^{\\circ}$:\n$$\nF_{2x} = F \\cos(30^{\\circ}) = F \\left(\\frac{\\sqrt{3}}{2}\\right)\n$$\n$$\nF_{2y} = F \\sin(30^{\\circ}) = F \\left(\\frac{1}{2}\\right)\n$$\n\nFor the third force, $\\vec{F}_3$, with magnitude $F$ and angle $\\theta_3 = -30^{\\circ}$:\n$$\nF_{3x} = F \\cos(-30^{\\circ}) = F \\cos(30^{\\circ}) = F \\left(\\frac{\\sqrt{3}}{2}\\right)\n$$\n$$\nF_{3y} = F \\sin(-30^{\\circ}) = -F \\sin(30^{\\circ}) = -F \\left(\\frac{1}{2}\\right)\n$$\nHere, we have used the properties of trigonometric functions that $\\cos(-\\theta) = \\cos(\\theta)$ and $\\sin(-\\theta) = -\\sin(\\theta)$.\n\nThe components of the net force, $F_{\\text{net},x}$ and $F_{\\text{net},y}$, are the sums of the individual components:\n$$\nF_{\\text{net},x} = F_{1x} + F_{2x} + F_{3x} = F + F\\left(\\frac{\\sqrt{3}}{2}\\right) + F\\left(\\frac{\\sqrt{3}}{2}\\right)\n$$\n$$\nF_{\\text{net},x} = F + 2 F\\left(\\frac{\\sqrt{3}}{2}\\right) = F + F\\sqrt{3} = F(1 + \\sqrt{3})\n$$\n$$\nF_{\\text{net},y} = F_{1y} + F_{2y} + F_{3y} = 0 + F\\left(\\frac{1}{2}\\right) - F\\left(\\frac{1}{2}\\right) = 0\n$$\nThe net force vector is therefore $\\vec{F}_{\\text{net}} = F(1 + \\sqrt{3})\\hat{i} + 0\\hat{j}$, where $\\hat{i}$ and $\\hat{j}$ are the unit vectors in the $x$ and $y$ directions, respectively. The net force acts entirely along the positive $x$-axis.\n\nThe magnitude of the net force, denoted as $|\\vec{F}_{\\text{net}}|$, is calculated using the Pythagorean theorem:\n$$\n|\\vec{F}_{\\text{net}}| = \\sqrt{(F_{\\text{net},x})^2 + (F_{\\text{net},y})^2}\n$$\nSubstituting the calculated components:\n$$\n|\\vec{F}_{\\text{net}}| = \\sqrt{\\left(F(1 + \\sqrt{3})\\right)^2 + 0^2}\n$$\n$$\n|\\vec{F}_{\\text{net}}| = \\sqrt{F^2(1 + \\sqrt{3})^2} = |F(1 + \\sqrt{3})|\n$$\nSince $F$ represents a magnitude of force, it is a non-negative scalar ($F \\ge 0$), and the term $(1 + \\sqrt{3})$ is positive. Therefore, the absolute value is redundant.\n$$\n|\\vec{F}_{\\text{net}}| = F(1 + \\sqrt{3})\n$$\nThis is the final closed-form symbolic expression for the magnitude of the net force.", "answer": "$$\n\\boxed{F(1 + \\sqrt{3})}\n$$", "id": "4498020"}, {"introduction": "Traction alopecia is a chronic condition, developing from a long-term imbalance between repeated mechanical injury and the scalp's capacity for biological repair. This final, integrative practice challenges you to synthesize these concepts into a dynamic computational model. You will develop a data-processing pipeline that simulates damage accumulation and recovery over time, incorporating variables such as force thresholds, protective factors, and healing kinetics to generate a longitudinal risk score, reflecting the sophisticated, time-dependent nature of the disease process. [@problem_id:4497933]", "problem": "You are asked to formalize and implement a principled data-processing pipeline that aggregates daily mechanical traction profiles and outputs a final mechanical-risk score for traction alopecia at the end of a fixed horizon. The intent is to connect fundamental mechanobiology and basic kinetics to the algorithmic procedure. Your program must follow the requirements below and compute the risk scores for the provided test suite. The final outputs must be floats, one per test case, and printed in the exact format specified at the end.\n\nFundamental base and modeling constraints:\n- Micro-injury in soft tissue accumulates when local mechanical load exceeds a tolerance threshold. Below the threshold, no injury accrues. Above the threshold, the instantaneous injury production rate grows with the relative excess load. Use a general power-law growth above threshold to reflect nonlinear damage susceptibility observed in tissues.\n- Recovery of micro-injury over time follows first-order linear kinetics: the rate of healing at any moment is proportional to the current damage burden. This is a standard assumption in linear tissue recovery and is represented by a first-order ordinary differential equation (ODE).\n- Traction exposure is time-varying across a day and can be aggregated as the time integral of the instantaneous damage-production rate. Protective practices effectively reduce applied force multiplicatively, and local susceptibility weights scale the effective load at high-risk scalp zones.\n- A risk score must be a monotone, saturating mapping of the final cumulative damage to the unit interval. Use the unique, simplest continuously differentiable function whose log-odds are an affine function of the damage and which has a specified slope at its midpoint.\n\nDefinitions, parameters, and units to be used:\n- Each day consists of zero or more segments. Each segment is a quadruple $\\left(F, t, p, w\\right)$, where $F$ is force in Newtons (N), $t$ is duration in hours (h), $p$ is a protective factor in $\\left[0, 1\\right]$, and $w$ is a dimensionless susceptibility weight (nonnegative).\n- Preprocessing per segment:\n  - Clip $F$ below to $0$.\n  - Clip $t$ below to $0$.\n  - Clip $p$ into $\\left[0, 1\\right]$.\n  - Clip $w$ below to $0$.\n- Effective traction per segment: $F_{eff} = F \\cdot \\left(1 - p\\right) \\cdot w$.\n- Damage production rate per segment at effective traction $F_{eff}$ uses a power above a threshold:\n  - Threshold: $F_{th} = 0.6 \\ \\mathrm{N}$.\n  - Exponent: $\\alpha = 2$.\n  - Instantaneous rate $r\\left(F_{eff}\\right)$ (in damage units per hour) is $0$ if $F_{eff} \\le F_{th}$ and otherwise grows as a power of the relative excess load; you must derive the explicit form consistent with the above constraints and units.\n- Daily damage is the time integral over all segments in that day, which reduces to a sum over segments of the instantaneous rate times the segment duration.\n- Inter-day recovery (healing) follows first-order linear kinetics with rate constant $k_{rec} = 0.7 \\ \\mathrm{day}^{-1}$. Over one day with no new exposure, damage $D$ decays by a factor $e^{-k_{rec}}$.\n- Initialize cumulative damage at day $0$ as $D_0 = 0$ and update across days $n = 1, 2, \\dots$ using the daily damage and one-day recovery interval.\n- Map the final cumulative damage $D$ after the last day to a unitless risk $R \\in \\left(0, 1\\right)$ via the unique saturating, monotone function whose log-odds are an affine function of $D$, with midpoint at $D_{50} = 3.0$ and slope parameter $\\beta = 1.1$ governing the steepness in damage units. You must derive and implement the explicit mapping consistent with these constraints.\n\nTest suite (a week is $7$ days; each day is a list of segments $\\left(F, t, p, w\\right)$). Units: $F$ in Newtons (N), $t$ in hours (h). If a day’s list is empty, that day has zero exposure.\n\n- Case A (sustained low sub-threshold load; expect low risk):\n  - $7$ days, each day has $\\left(0.3, 6, 0.2, 1.0\\right)$.\n\n- Case B (sustained high supra-threshold load; expect near-saturation risk):\n  - $7$ days, each day has $\\left(1.5, 8, 0.0, 1.2\\right)$.\n\n- Case C (moderate daily load; expect intermediate risk):\n  - $7$ days, each day has $\\left(1.2, 8, 0.3, 1.0\\right)$.\n\n- Case D (edge conditions with clipping, zero-exposure days, and multiple segments):\n  - Day $1$: $\\left(-0.5, 5, 0.5, 1.0\\right)$\n  - Day $2$: $\\left(0.7, 3, 1.2, 0.9\\right)$\n  - Day $3$: no segments\n  - Day $4$: $\\left(0.9, 4, -0.2, 1.1\\right)$ and $\\left(1.1, 2, 0.4, -0.5\\right)$\n  - Day $5$: $\\left(0.6, 6, 0.0, 1.0\\right)$\n  - Day $6$: $\\left(1.0, 1, 0.0, 1.0\\right)$\n  - Day $7$: $\\left(0.5, 10, 0.0, 1.5\\right)$\n\nImplementation requirements:\n- Derive the explicit mathematical expressions from the constraints above and implement them.\n- Compute the final risk $R$ after day $7$ for each case, using the same parameter values for all cases.\n- Numerical output requirements:\n  - Each test case produces a single float $R$ in $\\left(0, 1\\right)$.\n  - Round each $R$ to $4$ decimal places.\n  - Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, in the order $\\left[\\text{Case A}, \\text{Case B}, \\text{Case C}, \\text{Case D}\\right]$. For example: $\\left[\\text{resultA},\\text{resultB},\\text{resultC},\\text{resultD}\\right]$.", "solution": "The problem statement constitutes a request to construct a computational model for assessing the risk of traction alopecia based on a set of mechanobiological and kinetic principles. This requires the formal derivation of the governing mathematical equations from the provided constraints, followed by their implementation in a data-processing pipeline. We shall proceed by first validating the problem's integrity and then, upon confirmation of its validity, deriving the explicit formulae and constructing the solution algorithm.\n\n**Problem Validation**\n\nA critical preliminary step is to validate the problem statement according to the specified criteria.\n\n1.  **Givens Extraction**: The problem provides:\n    *   A conceptual framework for damage accumulation (threshold-based, power-law growth) and recovery (first-order kinetics).\n    *   Specific definitions for model entities: daily segments $(F, t, p, w)$, effective traction $F_{eff}$, and a risk score $R$.\n    *   Explicit parameter values: force threshold $F_{th} = 0.6 \\ \\mathrm{N}$, power-law exponent $\\alpha = 2$, recovery rate constant $k_{rec} = 0.7 \\ \\mathrm{day}^{-1}$, risk function midpoint $D_{50} = 3.0$, and risk function slope parameter $\\beta = 1.1$.\n    *   A set of rules for preprocessing input data (clipping).\n    *   A defined sequence of operations: daily processing over a $7$-day horizon with initial damage $D_0 = 0$.\n    *   Four distinct test cases with specific traction profiles.\n\n2.  **Validation Assessment**:\n    *   **Scientific Grounding**: The model is a simplification but is grounded in established biophysical and kinetic principles. Threshold phenomena, power-law responses, and first-order decay are standard modeling constructs in physics, chemistry, and biology. The problem does not assert these as empirical fact but as the basis for a model, which is a scientifically valid approach.\n    *   **Well-Posedness**: The problem requires the derivation of two key functions: the damage rate and the risk score mapping. The constraints provided are sufficient for these derivations under standard interpretations common to the respective scientific fields (physics and statistics).\n        *   The damage rate's dependence on \"relative excess load\" is most reasonably formalized as a function of the dimensionless quantity $(F_{eff} - F_{th}) / F_{th}$. The absence of a specified proportionality constant dictates, under the principle of parsimony, a leading constant of unity with appropriate units.\n        *   The risk score defined by an affine log-odds relationship is a standard logistic function, uniquely determined by the given midpoint and slope parameters.\n    *   **Completeness and Consistency**: The problem is self-contained. All necessary parameters are provided. The test cases include edge conditions (negative inputs, zero-exposure days) that are handled by the specified preprocessing rules, demonstrating internal consistency.\n    *   **Objectivity**: The problem is stated in precise, objective language.\n\n3.  **Verdict**: The problem is deemed **valid**. It is a well-posed, scientifically grounded computational modeling task that requires rigorous derivation and implementation.\n\n**Mathematical Formalization and Algorithmic Design**\n\nWe now derive the explicit equations and outline the computational algorithm.\n\n**1. Effective Traction, $F_{eff}$**\nFor each segment, defined by a tuple $(F, t, p, w)$, the inputs are first preprocessed (clipped) to ensure they lie in their valid ranges: $F_c = \\max(0, F)$, $t_c = \\max(0, t)$, $p_c = \\text{clip}(p, 0, 1)$, $w_c = \\max(0, w)$.\nThe effective force is then calculated as:\n$$F_{eff} = F_c \\cdot (1 - p_c) \\cdot w_c$$\n\n**2. Instantaneous Damage Rate, $r(F_{eff})$**\nThe problem states that the instantaneous rate of injury production, $r$, is zero below a force threshold $F_{th}$ and grows as a power $\\alpha$ of the relative excess load above it. The relative excess load is the dimensionless ratio of the force exceeding the threshold to the threshold itself. With the proportionality constant set to unity, the rate, in units of damage per hour, is:\n$$r(F_{eff}) = \\begin{cases} \\left(\\frac{F_{eff} - F_{th}}{F_{th}}\\right)^{\\alpha} & \\text{if } F_{eff} > F_{th} \\\\ 0 & \\text{if } F_{eff} \\le F_{th} \\end{cases}$$\nSubstituting the given parameters $F_{th} = 0.6 \\ \\mathrm{N}$ and $\\alpha = 2$:\n$$r(F_{eff}) = \\begin{cases} \\left(\\frac{F_{eff} - 0.6}{0.6}\\right)^{2} & \\text{if } F_{eff} > 0.6 \\ \\mathrm{N} \\\\ 0 & \\text{if } F_{eff} \\le 0.6 \\ \\mathrm{N} \\end{cases}$$\n\n**3. Daily Damage Production, $D_{prod,n}$**\nThe total damage produced on day $n$ is the sum of damages from all segments within that day. For a segment $i$ with constant effective force $F_{eff,i}$ and duration $t_i$, the damage produced is $r(F_{eff,i}) \\cdot t_i$. Thus, for a day with $M_n$ segments:\n$$D_{prod,n} = \\sum_{i=1}^{M_n} r(F_{eff,i}) \\cdot t_i$$\n\n**4. Cumulative Damage Dynamics**\nThe cumulative damage, $D_n$, at the end of day $n$, evolves based on recovery from the previous day's damage, $D_{n-1}$, and the new damage produced during day $n$. The recovery follows first-order kinetics, $\\frac{dD}{dt} = -k_{rec}D$. Over a one-day interval, this results in a multiplicative decay factor of $e^{-k_{rec}}$. The recurrence relation for cumulative damage is:\n$$D_n = D_{n-1} \\cdot e^{-k_{rec}} + D_{prod,n}$$\nWith initial condition $D_0 = 0$ and $k_{rec} = 0.7 \\ \\mathrm{day}^{-1}$.\n\n**5. Final Risk Score, $R(D)$**\nThe final risk score $R$ is a mapping of the final cumulative damage, $D_{final}$, to the interval $(0, 1)$. The log-odds, or logit, of $R$ is an affine function of $D_{final}$:\n$$\\ln\\left(\\frac{R}{1-R}\\right) = m \\cdot D_{final} + c$$\nThe parameters are specified as a midpoint $D_{50} = 3.0$ and a slope parameter $\\beta = 1.1$. At the midpoint, $R=0.5$, which implies $\\ln(1) = 0$. The standard interpretation is that $\\beta$ is the slope of the affine function, $m=\\beta$.\n$$0 = \\beta \\cdot D_{50} + c \\implies c = -\\beta D_{50}$$\nThus, the equation becomes:\n$$\\ln\\left(\\frac{R}{1-R}\\right) = \\beta(D_{final} - D_{50})$$\nSolving for $R$ yields the logistic function:\n$$R(D_{final}) = \\frac{e^{\\beta(D_{final} - D_{50})}}{1 + e^{\\beta(D_{final} - D_{50})}} = \\frac{1}{1 + e^{-\\beta(D_{final} - D_{50})}}$$\nSubstituting the given parameters $\\beta = 1.1$ and $D_{50} = 3.0$:\n$$R(D_{final}) = \\frac{1}{1 + e^{-1.1 \\cdot (D_{final} - 3.0)}}$$\n\nThe overall algorithm proceeds by initializing cumulative damage to zero, then iterating through each of the seven days. In each daily step, it first applies the recovery decay factor and then calculates and adds the newly produced damage. After seven days, the final cumulative damage is passed to the risk score function to obtain the result, which is then rounded. This process is repeated for each test case.", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Main function to orchestrate the risk score calculation for all test cases.\n    \"\"\"\n\n    # Define the fundamental parameters for the model.\n    # All units are consistent with the problem statement (N, h, day).\n    params = {\n        'F_th': 0.6,    # Force threshold in Newtons (N)\n        'alpha': 2,       # Power-law exponent (dimensionless)\n        'k_rec': 0.7,     # Recovery rate constant in day^-1\n        'D_50': 3.0,      # Damage midpoint for risk function\n        'beta': 1.1,      # Slope parameter for risk function\n    }\n\n    # Define the test suite. Each case is a list of days, and each day\n    # is a list of segments (F, t, p, w).\n    test_cases = {\n        \"Case A\": [\n            [(0.3, 6, 0.2, 1.0)]\n        ] * 7,\n        \"Case B\": [\n            [(1.5, 8, 0.0, 1.2)]\n        ] * 7,\n        \"Case C\": [\n            [(1.2, 8, 0.3, 1.0)]\n        ] * 7,\n        \"Case D\": [\n            [(-0.5, 5, 0.5, 1.0)],         # Day 1\n            [(0.7, 3, 1.2, 0.9)],         # Day 2\n            [],                           # Day 3\n            [(0.9, 4, -0.2, 1.1), (1.1, 2, 0.4, -0.5)], # Day 4\n            [(0.6, 6, 0.0, 1.0)],         # Day 5\n            [(1.0, 1, 0.0, 1.0)],         # Day 6\n            [(0.5, 10, 0.0, 1.5)]         # Day 7\n        ]\n    }\n\n    results = []\n    # The order of processing is fixed to match the required output format.\n    case_order = [\"Case A\", \"Case B\", \"Case C\", \"Case D\"]\n    for case_name in case_order:\n        daily_segments_list = test_cases[case_name]\n        risk_score = calculate_risk_score(daily_segments_list, params)\n        results.append(risk_score)\n\n    # Format the final output as specified.\n    print(f\"[{','.join(map(str, results))}]\")\n\ndef calculate_risk_score(daily_segments_list, params):\n    \"\"\"\n    Calculates the final traction alopecia risk score for a given schedule.\n\n    Args:\n        daily_segments_list (list): A list of lists, where each inner list\n                                    represents a day and contains segment tuples.\n        params (dict): A dictionary containing the model parameters.\n\n    Returns:\n        float: The final risk score, rounded to 4 decimal places.\n    \"\"\"\n    F_th = params['F_th']\n    alpha = params['alpha']\n    k_rec = params['k_rec']\n    D_50 = params['D_50']\n    beta = params['beta']\n\n    # Pre-calculate the multi-day recovery factor from the rate constant.\n    recovery_factor = np.exp(-k_rec)\n    cumulative_damage = 0.0\n\n    # Iterate through the time horizon day by day.\n    for day_segments in daily_segments_list:\n        # 1. Apply inter-day recovery to the existing damage burden.\n        cumulative_damage *= recovery_factor\n\n        # 2. Calculate and aggregate new damage produced during the current day.\n        daily_damage_production = 0.0\n        for segment in day_segments:\n            F, t, p, w = segment\n\n            # Preprocessing: Clip inputs to their valid physical ranges.\n            F_c = max(0.0, F)\n            t_c = max(0.0, t)\n            p_c = max(0.0, min(1.0, p))\n            w_c = max(0.0, w)\n\n            # Calculate the effective traction force for the segment.\n            F_eff = F_c * (1.0 - p_c) * w_c\n\n            # Calculate the instantaneous damage rate based on the effective force.\n            # Damage only occurs if the effective force exceeds the threshold.\n            rate = 0.0\n            if F_eff > F_th:\n                # Power-law growth of damage rate with relative excess load.\n                relative_excess_load = (F_eff - F_th) / F_th\n                rate = relative_excess_load ** alpha\n\n            # Add the damage from this segment to the daily total.\n            daily_damage_production += rate * t_c\n\n        # 3. Update the cumulative damage with the day's production.\n        cumulative_damage += daily_damage_production\n\n    # The final damage is the cumulative damage after the last day.\n    final_damage = cumulative_damage\n\n    # 4. Map the final cumulative damage to a saturating risk score (0, 1).\n    # This uses the logistic function as derived from the log-odds constraint.\n    exponent = -beta * (final_damage - D_50)\n    risk = 1.0 / (1.0 + np.exp(exponent))\n\n    return round(risk, 4)\n\nsolve()\n```", "id": "4497933"}]}