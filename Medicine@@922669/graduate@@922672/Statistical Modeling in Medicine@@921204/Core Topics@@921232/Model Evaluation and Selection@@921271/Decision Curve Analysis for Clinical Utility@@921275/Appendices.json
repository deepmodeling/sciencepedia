{"hands_on_practices": [{"introduction": "This first practice provides a direct, hands-on calculation of Net Benefit ($NB$) from a standard confusion matrix. By working through this scenario [@problem_id:4790853], you will solidify your understanding of how the decision threshold ($p_t$) weights the harm of false positives against the benefit of true positives. This exercise is foundational for interpreting the clinical value of a model at a specific, clinically relevant threshold.", "problem": "A hospital evaluates a risk prediction model for imminent sepsis using Decision Curve Analysis (DCA). Consider a clinical context in which a clinician will initiate early sepsis therapy for a patient if the model’s estimated risk exceeds a threshold probability $p_{t}$ that encodes the clinician’s trade-off between the expected benefit of treating a true case and the expected harm of treating a non-case. At a chosen threshold of $p_{t}=0.15$, the model is applied to a cohort of $n=2000$ patients with the following confusion matrix with respect to the observed outcome (incident sepsis within $48$ hours):\n\n- True positives: $TP=220$\n- False positives: $FP=480$\n- False negatives: $FN=130$\n- True negatives: $TN=1170$\n\nUsing only core definitions of expected utility that underlie DCA and the meaning of the threshold probability $p_{t}$, derive the expression for the model’s net benefit $NB(p_{t})$ per patient and compute it at $p_{t}=0.15$ from the given counts. Then, by computing the net benefits for the “treat all” and “treat none” strategies using the same $p_{t}$ and this cohort’s event rate, interpret the magnitude of the model’s $NB(p_{t})$ relative to those two strategies in terms of net true positives per patient.\n\nReport only the model’s $NB(p_{t})$ as a decimal, rounded to four significant figures. Do not include any units or a percent sign in your reported value.", "solution": "The problem asks for the derivation and calculation of the net benefit ($NB$) of a clinical prediction model for sepsis at a specific risk threshold, $p_t$, and for an interpretation of this value relative to default clinical strategies.\n\nFirst, we must validate the problem statement.\n\n**Step 1: Extract Givens**\n- Clinical context: A decision is made to treat if a model's predicted risk exceeds a threshold probability, $p_t$.\n- Chosen threshold probability: $p_t = 0.15$.\n- Total number of patients in the cohort: $n = 2000$.\n- Confusion matrix data for the model at $p_t = 0.15$:\n  - True positives: $TP=220$.\n  - False positives: $FP=480$.\n  - False negatives: $FN=130$.\n  - True negatives: $TN=1170$.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded in the established statistical methodology of Decision Curve Analysis (DCA), a standard for evaluating the clinical utility of prediction models. All terms like net benefit, threshold probability, and confusion matrix components are well-defined within this field. The problem is self-contained and numerically consistent, as the sum of the confusion matrix elements ($220 + 480 + 130 + 1170$) equals the total patient count, $n=2000$. The problem is objective, well-posed, and requires a formal derivation and calculation based on the provided data. No invalidating flaws are present.\n\n**Step 3: Verdict and Action**\nThe problem is deemed valid. We may proceed with the solution.\n\n**Derivation of Net Benefit ($NB$)**\n\nThe concept of Net Benefit ($NB$) is rooted in expected utility theory. The threshold probability, $p_t$, represents the point of clinical equipoise, where the expected benefit of administering treatment to a patient with probability of disease $p_t$ is exactly equal to the expected harm of withholding it. Let $b$ be the net benefit of treating a patient who has the disease (a true positive), and let $c$ be the net harm (or cost) of treating a patient who does not have the disease (a false positive). A rational clinician would choose to treat a patient with an estimated risk $p$ if the expected benefit exceeds the expected harm:\n$$p \\cdot b > (1-p) \\cdot c$$\nThe threshold probability $p_t$ is the specific value of $p$ where the clinician is indifferent:\n$$p_t \\cdot b = (1-p_t) \\cdot c$$\nFrom this equality, we can derive the \"exchange rate\" between harm and benefit that is encoded by the threshold $p_t$:\n$$\\frac{c}{b} = \\frac{p_t}{1-p_t}$$\nThe total net benefit for a given strategy across a population of $n$ patients is the sum of the benefits accrued from correctly treating patients with the disease, minus the sum of harms from unnecessarily treating patients without the disease. To standardize this measure, the net benefit is expressed in units of true positives. This is achieved by dividing the total harm by the benefit unit $b$. For a cohort, the total standardized net benefit is the number of true positives ($TP$) minus the harm-weighted number of false positives ($FP$):\n$$\\text{Total Standardized NB} = TP - FP \\cdot \\left(\\frac{c}{b}\\right)$$\nSubstituting the exchange rate derived from $p_t$:\n$$\\text{Total Standardized NB} = TP - FP \\cdot \\frac{p_t}{1-p_t}$$\nThe net benefit per patient, denoted $NB(p_t)$, is found by dividing this total by the number of patients, $n$:\n$$NB(p_t) = \\frac{TP}{n} - \\frac{FP}{n} \\cdot \\frac{p_t}{1-p_t}$$\nThis is the formal expression for the net benefit of a model at a given threshold $p_t$.\n\n**Calculation of Net Benefit for the Model and Reference Strategies**\n\nThe problem provides all necessary values to compute the model's net benefit at $p_t=0.15$.\nGiven: $TP=220$, $FP=480$, $n=2000$, and $p_t=0.15$.\n\nFirst, we calculate the harm-to-benefit ratio, or odds at the threshold:\n$$\\frac{p_t}{1-p_t} = \\frac{0.15}{1-0.15} = \\frac{0.15}{0.85} = \\frac{15}{85} = \\frac{3}{17}$$\nNow, we compute the net benefit of the sepsis prediction model, $NB_{\\text{model}}(0.15)$:\n$$NB_{\\text{model}}(0.15) = \\frac{220}{2000} - \\frac{480}{2000} \\cdot \\frac{3}{17}$$\n$$NB_{\\text{model}}(0.15) = 0.11 - 0.24 \\cdot \\frac{3}{17}$$\n$$NB_{\\text{model}}(0.15) = 0.11 - \\frac{0.72}{17}$$\n$$NB_{\\text{model}}(0.15) \\approx 0.11 - 0.04235294...$$\n$$NB_{\\text{model}}(0.15) \\approx 0.06764706...$$\nRounding to four significant figures, the model's net benefit is $0.06765$.\n\nNext, we calculate the net benefit for the two default strategies: \"treat all\" and \"treat none\".\n\nFor the \"treat none\" strategy, no patients are treated, so $TP=0$ and $FP=0$. The net benefit is therefore always zero:\n$$NB_{\\text{none}}(p_t) = \\frac{0}{n} - \\frac{0}{n} \\cdot \\frac{p_t}{1-p_t} = 0$$\n\nFor the \"treat all\" strategy, every patient is treated. Thus, all patients with sepsis are true positives, and all patients without sepsis are false positives. First, we determine the prevalence of sepsis ($\\pi$) in the cohort:\n$$\\pi = \\frac{TP + FN}{n} = \\frac{220 + 130}{2000} = \\frac{350}{2000} = 0.175$$\nFor the \"treat all\" strategy, the proportion of patients who are true positives is $\\pi$, and the proportion who are false positives is $1-\\pi$. The net benefit is:\n$$NB_{\\text{all}}(p_t) = \\pi - (1-\\pi) \\cdot \\frac{p_t}{1-p_t}$$\nSubstituting the values for $\\pi=0.175$ and $p_t=0.15$:\n$$NB_{\\text{all}}(0.15) = 0.175 - (1-0.175) \\cdot \\frac{0.15}{0.85}$$\n$$NB_{\\text{all}}(0.15) = 0.175 - 0.825 \\cdot \\frac{3}{17}$$\n$$NB_{\\text{all}}(0.15) = 0.175 - \\frac{2.475}{17}$$\n$$NB_{\\text{all}}(0.15) \\approx 0.175 - 0.14558824...$$\n$$NB_{\\text{all}}(0.15) \\approx 0.02941176...$$\n\n**Interpretation**\n\nAt the clinical threshold of $p_t=0.15$, we have:\n- $NB_{\\text{model}} \\approx 0.06765$\n- $NB_{\\text{all}} \\approx 0.02941$\n- $NB_{\\text{none}} = 0$\n\nThe net benefit value represents the net gain in true positives per patient, after accounting for the harm of false positives as dictated by the threshold $p_t$. A net benefit of $0.06765$ means that using the model to guide decisions is equivalent in value to a strategy that, compared to treating no one, correctly identifies and treats an additional $6.765$ septic patients per $100$ patients in the cohort, without creating any harm-weighted increase in interventions on non-septic patients.\n\nSince $NB_{\\text{model}} > NB_{\\text{all}}$ and $NB_{\\text{model}} > NB_{\\text{none}}$, the model provides superior clinical utility compared to the default strategies of treating all patients or treating no patients, for a clinician whose benefit-harm trade-off corresponds to a threshold of $p_t=0.15$. The use of the model leads to better net outcomes. The magnitude of this advantage is substantial: the model's net benefit is more than double that of the \"treat all\" strategy ($0.06765$ vs. $0.02941$). This indicates that the model is effective at identifying high-risk patients while avoiding a large number of unnecessary and harmful interventions that would occur under a \"treat all\" policy.\n\nThe final requested value is the model's net benefit, rounded to four significant figures.\n$$NB(p_t=0.15) \\approx 0.06765$$", "answer": "$$\\boxed{0.06765}$$", "id": "4790853"}, {"introduction": "A common pitfall is to equate high discrimination, often measured by the Area Under the Curve ($AUC$), with high clinical utility. This practice [@problem_id:4958466] presents a critical thought experiment where a model with a high $AUC$ is nevertheless clinically harmful at a relevant threshold due to poor calibration. By analyzing this scenario, you will learn to use Net Benefit to quantitatively explain this discrepancy, reinforcing why Decision Curve Analysis is an essential tool beyond traditional performance metrics.", "problem": "A hospital is evaluating a probabilistic clinical prediction model for initiating empiric antibiotics for suspected sepsis at emergency department (ED) triage. The clinical team has agreed that the action threshold probability should be $p_t = 0.10$ based on the relative harm of unnecessary antibiotics versus the benefit of timely treatment. In an external validation set of $N = 1000$ patients, the disease prevalence is $\\pi = 0.05$ ($50$ sepsis cases). The model’s area under the receiver operating characteristic curve (AUC) is $0.86$, indicating strong discrimination. A calibration assessment shows a calibration intercept $\\alpha = 0.20$ and slope $\\beta = 0.65$, consistent with systematic overprediction and attenuated calibration.\n\nAt the clinically chosen threshold $p_t = 0.10$, the following classification results are observed from the model’s predicted probabilities: among the $50$ cases, $32$ have predicted risk above $0.10$ (treated, true positives), and among the $950$ non-cases, $480$ have predicted risk above $0.10$ (treated, false positives). The default strategies are “treat-none” and “treat-all.”\n\nWhich option best explains, on conceptual and quantitative grounds using first principles of decision curve analysis (net benefit), how a model with high discrimination can nonetheless yield low net benefit at the clinically relevant threshold $p_t = 0.10$ in this scenario?\n\nA. At $p_t = 0.10$, the model’s net benefit is lower than treating none because the harm-weighted contribution of $480$ false positives dominates the benefit of $32$ true positives; miscalibration that inflates risks in non-cases increases false positives near $p_t$. High $AUC$ reflects ranking ability but does not guarantee favorable threshold-specific decisions.\n\nB. High $AUC$ guarantees that net benefit is maximal at any $p_t$, so the low net benefit must reflect an error in the estimated prevalence $\\pi$.\n\nC. The low net benefit is due solely to the small sample size $N$; with a larger $N$, $AUC$ would increase and net benefit would necessarily increase at $p_t = 0.10$.\n\nD. Because $\\pi$ is low, the “treat-all” strategy must dominate any prediction model at every $p_t$, making negative net benefit unavoidable regardless of calibration or discrimination.", "solution": "The problem statement is evaluated to be valid. It is scientifically grounded in the established statistical framework of decision curve analysis for evaluating clinical prediction models. The provided data are internally consistent and realistic for a medical setting. The question is well-posed, objective, and asks for a quantitative and conceptual explanation that can be derived from the given information.\n\nThe core of this problem lies in understanding and calculating the Net Benefit (NB) of a prediction model and comparing it to the net benefit of default strategies. The net benefit of a model at a given threshold probability $p_t$ is defined as:\n$$\n\\text{NB}(p_t) = \\frac{\\text{TP}}{N} - \\frac{\\text{FP}}{N} \\left( \\frac{p_t}{1-p_t} \\right)\n$$\nwhere $\\text{TP}$ is the number of true positives, $\\text{FP}$ is the number of false positives, and $N$ is the total sample size. The term $\\frac{p_t}{1-p_t}$ represents the odds of disease at the threshold, which functions as an exchange rate for the relative harms of a false-positive and a false-negative decision. A decision to intervene (e.g., treat) is judged to be correct for a true positive, adding a benefit of $1$ (scaled by prevalence), and incorrect for a false positive, adding a harm of $\\frac{p_t}{1-p_t}$ (scaled by $1$-prevalence). The net benefit averages these across all patients.\n\nLet us calculate the net benefit for the three strategies at the clinically chosen threshold $p_t = 0.10$.\n\n**1. Net Benefit of the \"Treat-None\" Strategy:**\nUnder this strategy, no one is treated. Therefore, $\\text{TP} = 0$ and $\\text{FP} = 0$. The net benefit is:\n$$\n\\text{NB}_{\\text{treat-none}}(p_t) = \\frac{0}{1000} - \\frac{0}{1000} \\left( \\frac{p_t}{1-p_t} \\right) = 0\n$$\nBy definition, the net benefit of treating no one is always $0$. This serves as the reference against which other strategies are compared. A model is only useful if its net benefit is greater than $0$ (and greater than the net benefit of treating all).\n\n**2. Net Benefit of the \"Treat-All\" Strategy:**\nUnder this strategy, everyone is treated. All $50$ cases are correctly treated (true positives), and all $950$ non-cases are incorrectly treated (false positives).\n$$\n\\text{TP}_{\\text{treat-all}} = 50\n$$\n$$\n\\text{FP}_{\\text{treat-all}} = 950\n$$\nThe exchange rate at $p_t = 0.10$ is $\\frac{0.10}{1-0.10} = \\frac{0.1}{0.9} = \\frac{1}{9}$.\nThe net benefit is:\n$$\n\\text{NB}_{\\text{treat-all}}(0.10) = \\frac{50}{1000} - \\frac{950}{1000} \\left( \\frac{1}{9} \\right) = 0.05 - \\frac{0.95}{9} \\approx 0.05 - 0.1056 = -0.0556\n$$\nThe \"treat-all\" strategy yields a negative net benefit. This is expected when the threshold $p_t$ is greater than the disease prevalence $\\pi$ ($0.10 > 0.05$).\n\n**3. Net Benefit of the Prediction Model:**\nThe problem states that at the threshold $p_t = 0.10$, the model yields:\n$$\n\\text{TP}_{\\text{model}} = 32\n$$\n$$\n\\text{FP}_{\\text{model}} = 480\n$$\nThe net benefit of using the model at this threshold is:\n$$\n\\text{NB}_{\\text{model}}(0.10) = \\frac{32}{1000} - \\frac{480}{1000} \\left( \\frac{1}{9} \\right) = 0.032 - \\frac{0.48}{9} \\approx 0.032 - 0.0533 = -0.0213\n$$\nThe model has a negative net benefit. Comparing the three strategies:\n- $\\text{NB}_{\\text{treat-none}} = 0$\n- $\\text{NB}_{\\text{model}} \\approx -0.0213$\n- $\\text{NB}_{\\text{treat-all}} \\approx -0.0556$\n\nThe best strategy at $p_t=0.10$ is to treat no one. The model is harmful; using it leads to worse outcomes on average than simply doing nothing.\n\n**Conceptual Explanation:**\nThe question is why a model with high discrimination ($AUC = 0.86$) performs so poorly in terms of net benefit.\n- **Discrimination (AUC) vs. Calibration:** AUC measures a model's ability to rank patients correctly (i.e., assign higher risk scores to cases than to non-cases). It is a global, threshold-independent measure of rank-ordering. A high AUC ($0.86$ is high) means the model is good at separating cases and non-cases. However, AUC is insensitive to whether the predicted probabilities are *accurate*. This accuracy is called calibration.\n- **Role of Miscalibration:** The problem states the model has a calibration intercept $\\alpha = 0.20$ and slope $\\beta = 0.65$. An intercept $\\alpha > 0$ indicates that, on average, the predicted probabilities are too high. A slope $\\beta < 1$ indicates that the model overpredicts risk for low-risk individuals and underpredicts risk for high-risk individuals. Both of these calibration issues can lead to a large number of non-cases being assigned a predicted probability above the decision threshold $p_t$.\n- **Impact on Net Benefit:** At $p_t = 0.10$, the model's miscalibration has evidently pushed a large number of non-cases ($480$ out of $950$, a False Positive Rate of $\\frac{480}{950} \\approx 50.5\\%$) above the treatment threshold. The net benefit calculation penalizes these $480$ false positives. The \"benefit\" term is $\\frac{\\text{TP}}{N} = \\frac{32}{1000}=0.032$, while the \"harm\" term is $\\frac{\\text{FP}}{N} \\left( \\frac{p_t}{1-p_t} \\right) = \\frac{480}{1000} \\left( \\frac{1}{9} \\right) \\approx 0.0533$. Because the harm from the very high number of false positives outweighs the benefit from the true positives, the net benefit is negative. This demonstrates that high discrimination is not sufficient for clinical utility; good calibration is also crucial, especially near the clinically relevant decision threshold.\n\n**Option-by-Option Analysis:**\n\n**A. At $p_t = 0.10$, the model’s net benefit is lower than treating none because the harm-weighted contribution of $480$ false positives dominates the benefit of $32$ true positives; miscalibration that inflates risks in non-cases increases false positives near $p_t$. High $AUC$ reflects ranking ability but does not guarantee favorable threshold-specific decisions.**\nThis option is entirely consistent with our analysis.\n- \"net benefit is lower than treating none\": Correct, we calculated $\\text{NB}_{\\text{model}} \\approx -0.0213$ which is less than $\\text{NB}_{\\text{treat-none}} = 0$.\n- \"harm-weighted contribution of $480$ false positives dominates the benefit of $32$ true positives\": Correct, our calculation shows the harm term ($\\approx 0.0533$) is larger than the benefit term ($0.032$).\n- \"miscalibration that inflates risks in non-cases increases false positives near $p_t$\": Correct, the given calibration parameters ($\\alpha=0.20, \\beta=0.65$) indicate systematic overprediction, which explains the high False Positive count at the low threshold of $p_t = 0.10$.\n- \"High $AUC$ reflects ranking ability but does not guarantee favorable threshold-specific decisions\": Correct, this is the key conceptual lesson of this scenario.\n**Verdict: Correct.**\n\n**B. High $AUC$ guarantees that net benefit is maximal at any $p_t$, so the low net benefit must reflect an error in the estimated prevalence $\\pi$.**\nThe premise \"High $AUC$ guarantees that net benefit is maximal at any $p_t$\" is fundamentally false. Net benefit depends on calibration, not just discrimination (AUC). A model with high AUC can have poor net benefit at specific thresholds if it is miscalibrated. Therefore, the conclusion drawn from this false premise is also invalid. There is no reason to assume the prevalence $\\pi$ is in error.\n**Verdict: Incorrect.**\n\n**C. The low net benefit is due solely to the small sample size $N$; with a larger $N$, $AUC$ would increase and net benefit would necessarily increase at $p_t = 0.10$.**\nNet benefit is a per-patient average, its value is independent of the sample size $N$. A larger sample size would provide a *more precise estimate* of the net benefit, but it would not systematically change its value. Similarly, a larger $N$ provides a more precise estimate of AUC but does not guarantee it will increase. Therefore, blaming the low net benefit on the sample size is incorrect.\n**Verdict: Incorrect.**\n\n**D. Because $\\pi$ is low, the “treat-all” strategy must dominate any prediction model at every $p_t$, making negative net benefit unavoidable regardless of calibration or discrimination.**\nThis statement makes several false claims. First, \"treat-all\" does not dominate at every $p_t$; for $p_t > \\pi$, the \"treat-none\" strategy is the superior default. Second, a good prediction model can and should have a higher net benefit than both \"treat-all\" and \"treat-none\" in a range of thresholds. Third, a positive net benefit is achievable. For instance, a perfect model would have $\\text{NB} = \\pi = 0.05$, which is positive. The negative net benefit is not an unavoidable consequence of low prevalence but a result of the model's specific performance characteristics (many false positives) at the chosen threshold.\n**Verdict: Incorrect.**", "answer": "$$\\boxed{A}$$", "id": "4958466"}, {"introduction": "The clinical utility of any prediction model must be judged against simple, default strategies like 'treat all' or 'treat none'. This exercise [@problem_id:4790867] challenges you to derive and analyze how the Net Benefit of the 'treat-all' strategy changes with disease prevalence ($\\pi$). Mastering this relationship is crucial for correctly interpreting decision curves across different populations and understanding why the choice of the best default strategy depends critically on the clinical setting.", "problem": "A hospital is considering deploying a binary treatment strategy for a condition in two distinct clinical populations that differ in disease prevalence. Let the disease prevalence be $\\pi$ in a population, and let the decision threshold probability for initiating treatment be $p_t \\in (0,1)$, defined as the probability at which a clinician is indifferent between treating and not treating based on the balance of benefit from correctly treating a diseased patient and harm from treating a non-diseased patient. In Decision Curve Analysis (DCA), net benefit is measured in units of true positives per patient by scaling harms relative to benefits through the threshold probability. Assume that under a \"treat-all\" policy, the fraction of true positives is $\\pi$ and the fraction of false positives is $1-\\pi$. \n\nStarting from decision-theoretic definitions that map the threshold probability $p_t$ to the relative harm-to-benefit weight, derive the net benefit of the \"treat-all\" policy, denoted $NB_{\\text{all}}(p_t)$, as a function of $p_t$ and $\\pi$. Then, for a prevalence shift from $\\pi = 0.05$ to $\\pi = 0.20$, compute the change in $NB_{\\text{all}}(p_t)$ as a closed-form function of $p_t$. Finally, interpret the implication of this change for the choice between \"treat-all\" and \"treat-none\" baselines across populations with different $\\pi$, referencing how the decision threshold $p_t$ interacts with prevalence in determining clinical utility. \n\nExpress the change in $NB_{\\text{all}}(p_t)$ as a single closed-form analytic expression in $p_t$. No rounding is required.", "solution": "The problem requires the derivation of the net benefit for a \"treat-all\" strategy and an analysis of how this net benefit changes with disease prevalence.\n\nFirst, we must formalize the concept of net benefit ($NB$) within the framework of decision theory. The net benefit of a treatment strategy is defined as the average benefit per patient. It is calculated by taking the proportion of true positives ($TP/N$) and subtracting the proportion of false positives ($FP/N$) weighted by the relative harm of a false positive versus the benefit of a true positive. Let $N$ be the total number of patients. The formula for net benefit is:\n$$NB = \\frac{TP}{N} - \\frac{FP}{N} \\times \\omega$$\nwhere $\\omega$ is the harm-to-benefit weight.\n\nThe problem states that the decision threshold probability, $p_t$, is the point of indifference between treating and not treating. Let $B$ be the benefit gained from correctly treating a diseased patient (a True Positive) and $H$ be the harm incurred from unnecessarily treating a non-diseased patient (a False Positive). For a patient with an estimated probability of disease $p$, the expected utility of treating is $p \\times B - (1-p) \\times H$. The utility of not treating is defined as the baseline, $0$. At the threshold probability $p_t$, a clinician is indifferent, meaning the expected utility is zero:\n$$p_t \\times B - (1-p_t) \\times H = 0$$\nSolving for the ratio $H/B$ gives the harm-to-benefit weight $\\omega$:\n$$\\omega = \\frac{H}{B} = \\frac{p_t}{1-p_t}$$\nSubstituting this expression for $\\omega$ into the net benefit equation gives the standard formula used in Decision Curve Analysis:\n$$NB = \\frac{TP}{N} - \\frac{FP}{N} \\times \\frac{p_t}{1-p_t}$$\n\nNext, we apply this formula to the \"treat-all\" policy. In a \"treat-all\" strategy, every patient receives the treatment.\nThe fraction of patients who have the disease is given by the prevalence, $\\pi$. Since all patients are treated, the fraction of true positives ($TP/N$) is equal to the fraction of patients with the disease.\n$$\\frac{TP}{N} = \\pi$$\nThe fraction of patients who do not have the disease is $1-\\pi$. Since all patients are treated, the fraction of false positives ($FP/N$) is equal to the fraction of patients without the disease.\n$$\\frac{FP}{N} = 1-\\pi$$\nThese values are consistent with the problem statement.\n\nWe can now substitute these expressions into the net benefit formula to derive the net benefit of the \"treat-all\" policy, $NB_{\\text{all}}(p_t)$, as a function of prevalence $\\pi$ and threshold probability $p_t$:\n$$NB_{\\text{all}}(p_t) = \\pi - (1-\\pi) \\frac{p_t}{1-p_t}$$\nThis completes the first part of the derivation.\n\nThe second part of the task is to compute the change in $NB_{\\text{all}}(p_t)$ when the prevalence shifts from $\\pi_1 = 0.05$ to $\\pi_2 = 0.20$.\nLet $NB_{\\text{all},1}(p_t)$ be the net benefit for prevalence $\\pi_1$:\n$$NB_{\\text{all},1}(p_t) = \\pi_1 - (1-\\pi_1) \\frac{p_t}{1-p_t}$$\nLet $NB_{\\text{all},2}(p_t)$ be the net benefit for prevalence $\\pi_2$:\n$$NB_{\\text{all},2}(p_t) = \\pi_2 - (1-\\pi_2) \\frac{p_t}{1-p_t}$$\nThe change, $\\Delta NB_{\\text{all}}(p_t)$, is the difference between these two quantities:\n$$\\Delta NB_{\\text{all}}(p_t) = NB_{\\text{all},2}(p_t) - NB_{\\text{all},1}(p_t)$$\n$$\\Delta NB_{\\text{all}}(p_t) = \\left( \\pi_2 - (1-\\pi_2) \\frac{p_t}{1-p_t} \\right) - \\left( \\pi_1 - (1-\\pi_1) \\frac{p_t}{1-p_t} \\right)$$\nGroup the terms with and without the factor $\\frac{p_t}{1-p_t}$:\n$$\\Delta NB_{\\text{all}}(p_t) = (\\pi_2 - \\pi_1) - \\left[ (1-\\pi_2) - (1-\\pi_1) \\right] \\frac{p_t}{1-p_t}$$\n$$\\Delta NB_{\\text{all}}(p_t) = (\\pi_2 - \\pi_1) - (1 - \\pi_2 - 1 + \\pi_1) \\frac{p_t}{1-p_t}$$\n$$\\Delta NB_{\\text{all}}(p_t) = (\\pi_2 - \\pi_1) - (\\pi_1 - \\pi_2) \\frac{p_t}{1-p_t}$$\nFactoring out the term $(\\pi_2 - \\pi_1)$:\n$$\\Delta NB_{\\text{all}}(p_t) = (\\pi_2 - \\pi_1) \\left( 1 + \\frac{p_t}{1-p_t} \\right)$$\nSimplify the expression in the parenthesis:\n$$1 + \\frac{p_t}{1-p_t} = \\frac{1-p_t}{1-p_t} + \\frac{p_t}{1-p_t} = \\frac{1-p_t+p_t}{1-p_t} = \\frac{1}{1-p_t}$$\nSubstituting this back gives the general expression for the change in net benefit:\n$$\\Delta NB_{\\text{all}}(p_t) = \\frac{\\pi_2 - \\pi_1}{1-p_t}$$\nNow, we substitute the given numerical values for the prevalences $\\pi_1 = 0.05$ and $\\pi_2 = 0.20$:\n$$\\Delta NB_{\\text{all}}(p_t) = \\frac{0.20 - 0.05}{1-p_t} = \\frac{0.15}{1-p_t}$$\nThis is the required closed-form analytic expression for the change in the net benefit of the \"treat-all\" policy.\n\nFinally, we interpret the implication of this result. The net benefit of the \"treat-none\" policy is always $0$, serving as a reference. A strategy is considered clinically useful if its net benefit is greater than that of the reference strategies. The \"treat-all\" strategy is superior to \"treat-none\" if $NB_{\\text{all}}(p_t) > 0$.\n$$NB_{\\text{all}}(p_t) = \\pi - (1-\\pi) \\frac{p_t}{1-p_t} > 0$$\n$$\\pi > (1-\\pi) \\frac{p_t}{1-p_t}$$\n$$\\pi(1-p_t) > (1-\\pi)p_t$$\n$$\\pi - \\pi p_t > p_t - \\pi p_t$$\n$$\\pi > p_t$$\nThis means the \"treat-all\" policy is the preferred baseline strategy whenever the clinician's decision threshold $p_t$ is lower than the disease prevalence $\\pi$.\n\nFor the low-prevalence population ($\\pi_1 = 0.05$), \"treat-all\" is superior to \"treat-none\" only for clinicians with very low thresholds, $p_t < 0.05$.\nFor the high-prevalence population ($\\pi_2 = 0.20$), \"treat-all\" is superior for a much wider range of thresholds, $p_t < 0.20$.\n\nThe change, $\\Delta NB_{\\text{all}}(p_t) = \\frac{0.15}{1-p_t}$, is always positive for $p_t \\in (0,1)$. This confirms that for any given threshold $p_t$, the \"treat-all\" strategy is always more beneficial (or less harmful) in the higher prevalence population. The implication is that increasing disease prevalence makes the \"treat-all\" strategy a more robust and appealing default strategy. For a clinician whose decision threshold falls between the two prevalences (e.g., $p_t=0.10$), the optimal default strategy shifts from \"treat-none\" in the low-prevalence population to \"treat-all\" in the high-prevalence population. The choice between baselines is therefore highly sensitive to disease prevalence.", "answer": "$$\\boxed{\\frac{0.15}{1-p_t}}$$", "id": "4790867"}]}