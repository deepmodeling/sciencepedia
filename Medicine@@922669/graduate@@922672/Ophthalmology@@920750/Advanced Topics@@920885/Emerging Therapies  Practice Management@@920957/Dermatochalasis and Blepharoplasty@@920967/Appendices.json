{"hands_on_practices": [{"introduction": "A key aspect of evaluating dermatochalasis is objectively quantifying the visual disability it causes. This exercise challenges you to translate the logarithmic decibel scale used in standard automated perimetry into a linear measure of visual sensitivity, providing a more intuitive understanding of the functional improvement gained by eyelid taping. Mastering this conversion is crucial for justifying blepharoplasty as a functional, rather than purely cosmetic, procedure [@problem_id:4669362].", "problem": "A patient with severe upper eyelid dermatochalasis presents with symptomatic superior visual field loss. Standard Automated Perimetry (SAP) using the Humphrey Field Analyzer (HFA) $24$-$2$ program demonstrates a superior hemifield mean deviation of $M_{\\text{pre}}=-6.0$ dB in the natural (untaped) condition and $M_{\\text{tape}}=-2.0$ dB with the upper eyelids mechanically elevated by tape. Using the physical definition of decibel as a logarithmic measure, $x_{\\text{dB}}=10\\log_{10}\\!\\left(\\frac{x}{x_{0}}\\right)$, where changes in decibel values represent ratios on the underlying linear sensitivity scale, derive from first principles an expression for the fractional improvement in linear visual sensitivity attributable to eyelid elevation and compute its value from the given data. Express the fractional improvement as a pure decimal (for example, $0.45$ to represent $45$ out of $100$) without a percent sign, and round your answer to four significant figures. In addition, justify whether this magnitude of improvement is functionally relevant in the context of dermatochalasis-related superior field occlusion and candidacy for upper blepharoplasty based on physiologic reasoning rather than institutional policy.", "solution": "The problem is valid as it is scientifically grounded in the principles of ophthalmic psychophysics, clinically relevant, and mathematically well-posed. We can proceed with a formal derivation.\n\nThe first step is to derive an expression for the fractional improvement in linear visual sensitivity. Let $S_{lin}$ represent the visual sensitivity on a linear scale, which is inversely proportional to the luminance threshold of a detected light stimulus. In perimetry, this linear sensitivity is converted to a logarithmic decibel ($dB$) scale. The problem provides the general formula for this conversion: $x_{\\text{dB}} = 10 \\log_{10}(x/x_0)$, where $x$ would be the linear sensitivity $S_{lin}$ and $x_0$ a reference sensitivity.\n\nThe Mean Deviation ($M$) reported by a Humphrey Field Analyzer represents the average deviation of the patient's measured sensitivity (in $dB$) from the age-corrected normal sensitivity (in $dB$) over a set of tested points. Let's consider the superior hemifield as a whole. Let $\\bar{S}_{\\text{pre}, g}$ and $\\bar{S}_{\\text{tape}, g}$ be the geometric mean of linear sensitivities across the superior hemifield for the pre-taping (natural) and taped conditions, respectively. Let $\\bar{S}_{\\text{norm}, g}$ be the corresponding geometric mean for an age-matched normal population. The Mean Deviation values can be expressed as:\n$$M_{\\text{pre}} = 10 \\log_{10} \\left( \\frac{\\bar{S}_{\\text{pre}, g}}{\\bar{S}_{\\text{norm}, g}} \\right)$$\n$$M_{\\text{tape}} = 10 \\log_{10} \\left( \\frac{\\bar{S}_{\\text{tape}, g}}{\\bar{S}_{\\text{norm}, g}} \\right)$$\nThe change in Mean Deviation, $\\Delta M$, resulting from eyelid taping is the difference between these two values:\n$$\\Delta M = M_{\\text{tape}} - M_{\\text{pre}} = 10 \\log_{10} \\left( \\frac{\\bar{S}_{\\text{tape}, g}}{\\bar{S}_{\\text{norm}, g}} \\right) - 10 \\log_{10} \\left( \\frac{\\bar{S}_{\\text{pre}, g}}{\\bar{S}_{\\text{norm}, g}} \\right)$$\nUsing the property of logarithms, $\\log(a) - \\log(b) = \\log(a/b)$, we can simplify this expression:\n$$\\Delta M = 10 \\log_{10} \\left( \\frac{\\bar{S}_{\\text{tape}, g}/\\bar{S}_{\\text{norm}, g}}{\\bar{S}_{\\text{pre}, g}/\\bar{S}_{\\text{norm}, g}} \\right) = 10 \\log_{10} \\left( \\frac{\\bar{S}_{\\text{tape}, g}}{\\bar{S}_{\\text{pre}, g}} \\right)$$\nThis equation directly relates the change in the decibel-scaled Mean Deviation to the ratio of the mean linear sensitivities. We need to find the fractional improvement in linear sensitivity, denoted by $F_I$. This is defined as the change in sensitivity divided by the original sensitivity:\n$$F_I = \\frac{\\bar{S}_{\\text{tape}, g} - \\bar{S}_{\\text{pre}, g}}{\\bar{S}_{\\text{pre}, g}} = \\frac{\\bar{S}_{\\text{tape}, g}}{\\bar{S}_{\\text{pre}, g}} - 1$$\nTo find an expression for $F_I$, we first solve the equation for $\\Delta M$ for the ratio of sensitivities:\n$$\\frac{\\Delta M}{10} = \\log_{10} \\left( \\frac{\\bar{S}_{\\text{tape}, g}}{\\bar{S}_{\\text{pre}, g}} \\right)$$\n$$\\frac{\\bar{S}_{\\text{tape}, g}}{\\bar{S}_{\\text{pre}, g}} = 10^{\\frac{\\Delta M}{10}}$$\nSubstituting this result into the equation for $F_I$ yields the desired expression:\n$$F_I = 10^{\\frac{\\Delta M}{10}} - 1$$\n\nNext, we compute the numerical value of this fractional improvement using the provided data. The given values are $M_{\\text{pre}} = -6.0$ dB and $M_{\\text{tape}} = -2.0$ dB.\nFirst, we calculate the change in Mean Deviation, $\\Delta M$:\n$$\\Delta M = M_{\\text{tape}} - M_{\\text{pre}} = (-2.0) - (-6.0) = 4.0 \\text{ dB}$$\nNow, we substitute this value into our derived expression for $F_I$:\n$$F_I = 10^{\\frac{4.0}{10}} - 1 = 10^{0.4} - 1$$\nCalculating the value of $10^{0.4}$:\n$$10^{0.4} \\approx 2.5118864...$$\nTherefore, the fractional improvement is:\n$$F_I \\approx 2.5118864 - 1 = 1.5118864...$$\nRounding to four significant figures as requested, we get:\n$$F_I \\approx 1.512$$\n\nFinally, we must justify the functional relevance of this improvement. Dermatochalasis is an anatomical condition where excess upper eyelid skin hangs over the eyelid margin, creating a mechanical obstruction of the superior visual field. The eyelid taping test is a diagnostic maneuver designed to simulate the effect of surgical correction (blepharoplasty) by temporarily removing this obstruction.\n\nA $\\Delta M$ of $+4.0$ dB in the superior hemifield is a substantial improvement. The decibel scale is logarithmic; a $3$ dB increase corresponds to a doubling of linear sensitivity, and a $10$ dB increase corresponds to a ten-fold increase. Our calculation shows that an improvement of $4.0$ dB corresponds to a sensitivity ratio of $10^{0.4} \\approx 2.512$. This means that after taping, the patient's average linear sensitivity in the superior field is approximately $2.5$ times higher than before. This represents a fractional improvement of $1.512$, or a $151.2\\%$ increase over the baseline obstructed state.\n\nFrom a physiologic and functional standpoint, this magnitude of improvement is highly significant. The superior visual field is critical for many activities of daily living, including driving (e.g., seeing traffic lights and overhead signs), ambulation (e.g., avoiding obstacles and navigating stairs), and overall environmental awareness. A severely constricted superior field can be a significant disability and safety hazard. The fact that a simple mechanical elevation of the eyelid results in such a profound restoration of measured visual function provides unequivocal evidence that the dermatochalasis is the direct cause of the patient's symptomatic visual field loss. This strong positive result from the taping test functionally justifies upper blepharoplasty as a medically necessary procedure to restore lost visual function, distinguishing it from a purely cosmetic intervention. The magnitude of the improvement confirms that surgery is likely to provide a significant benefit to the patient's quality of life and safety.", "answer": "$$\\boxed{1.512}$$", "id": "4669362"}, {"introduction": "Successful blepharoplasty hinges on a delicate balance: removing enough excess skin to clear the visual axis without removing so much that it prevents proper eyelid closure (lagophthalmos). This problem applies a fundamental principle from biomechanics—linear strain—to model the elasticity of the eyelid's anterior lamella. By constructing and solving a safety condition, you will determine the maximum allowable skin excision, a core skill in surgical planning that directly impacts patient outcomes and safety [@problem_id:4669346].", "problem": "An ophthalmic surgeon is planning an upper eyelid skin-only blepharoplasty in a patient with dermatochalasis. The anterior lamella (skin and orbicularis oculi muscle) is treated as a line segment whose effective length under gentle closure is governed by linear strain. The following preoperative measurements have been obtained centrally (mid-pupillary line):\n- Measured available anterior lamella length under gentle closure: $L_{\\text{present}} = 26 \\ \\mathrm{mm}$.\n- Minimum functional anterior lamella length required for tension-free gentle closure: $L_{\\text{req}} = 18 \\ \\mathrm{mm}$.\nThe orbicularis oculi muscle-skin complex displays a maximum safe linear strain (maximum fractional extension under gentle closure) of $\\epsilon_{\\max} = 0.12$. To mitigate the risks of postoperative edema and diurnal brow descent, the surgeon requires a positive redundancy reserve of $r = 1.0 \\ \\mathrm{mm}$ beyond the minimum functional requirement at the time of closure. The planned excision is an ellipse with central vertical height $x$ that reduces the available length to $L_{\\text{present}} - x$ before any elastic extension.\n\nUsing the fundamental definition of linear strain $\\epsilon = \\Delta L / L_{0}$, construct the condition that guarantees that the effective available length at closure (the sum of the actual length and its maximal elastic extension) is at least the functional requirement plus the reserve. Then, solve for the largest $x$ that satisfies this condition. Express your final result for $x$ in $\\mathrm{mm}$ and round your answer to three significant figures.", "solution": "The problem statement is first subjected to a rigorous validation process.\n\n### Step 1: Extract Givens\nThe following data and definitions are extracted verbatim from the problem statement:\n-   Measured available anterior lamella length under gentle closure: $L_{\\text{present}} = 26 \\ \\mathrm{mm}$.\n-   Minimum functional anterior lamella length required for tension-free gentle closure: $L_{\\text{req}} = 18 \\ \\mathrm{mm}$.\n-   Maximum safe linear strain: $\\epsilon_{\\max} = 0.12$.\n-   Positive redundancy reserve: $r = 1.0 \\ \\mathrm{mm}$.\n-   Central vertical height of excision: $x$.\n-   Length after excision (before elastic extension): $L_{\\text{present}} - x$.\n-   Definition of linear strain: $\\epsilon = \\Delta L / L_{0}$.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is evaluated against the validation criteria:\n-   **Scientifically Grounded**: The problem is based on the principles of linear elasticity (strain), applied to a biomechanical context. While a simplification, modeling soft tissue as a linear elastic material for small deformations is a standard and valid approach in biomechanics. The clinical scenario (blepharoplasty for dermatochalasis) is medically accurate. The problem is free of pseudoscience.\n-   **Well-Posed**: The problem is well-posed. It requests the maximization of a variable ($x$) subject to a single, clearly-defined inequality, which leads to a unique, stable, and meaningful solution.\n-   **Objective**: The language is quantitative, precise, and devoid of subjective or opinion-based statements.\n-   **Incomplete or Contradictory Setup**: The problem is self-contained. All variables necessary for the derivation ($L_{\\text{present}}$, $L_{\\text{req}}$, $\\epsilon_{\\max}$, $r$) are defined and have been assigned values. There are no contradictions.\n-   **Unrealistic or Infeasible**: The provided numerical values are plausible within the anatomical and physiological context of the human eyelid. The dimensions and strain limit are within realistic bounds for this type of surgical planning.\n-   **Ill-Posed or Poorly Structured**: The problem is clearly structured, guiding the solver to construct a condition and then solve for a variable. The terms are defined, and there is no ambiguity.\n\n### Step 3: Verdict and Action\nThe problem is deemed valid as it is scientifically grounded, well-posed, objective, and complete. A full, reasoned solution will be provided.\n\nThe problem requires us to determine the maximum height of excised tissue, $x$, such that the remaining tissue, when stretched to its maximum safe strain, meets a minimum required length.\n\nFirst, we define the initial, unstretched length of the anterior lamella after the excision. This is the new reference length, denoted as $L_0$. According to the problem, this length is:\n$$L_0 = L_{\\text{present}} - x$$\nGiven $L_{\\text{present}} = 26 \\ \\mathrm{mm}$, this becomes $L_0 = 26 - x$.\n\nNext, we calculate the elastic extension, $\\Delta L$, that this remaining tissue can undergo. The problem provides the definition of linear strain as $\\epsilon = \\Delta L / L_0$. The maximum safe strain is $\\epsilon_{\\max} = 0.12$. Therefore, the maximum possible extension, $\\Delta L_{\\max}$, is:\n$$\\Delta L_{\\max} = \\epsilon_{\\max} \\cdot L_0 = \\epsilon_{\\max} (L_{\\text{present}} - x)$$\n\nThe effective available length at closure, $L_{\\text{eff}}$, is the sum of the post-excision length and its maximal elastic extension.\n$$L_{\\text{eff}} = L_0 + \\Delta L_{\\max}$$\nSubstituting the expressions for $L_0$ and $\\Delta L_{\\max}$:\n$$L_{\\text{eff}} = (L_{\\text{present}} - x) + \\epsilon_{\\max} (L_{\\text{present}} - x)$$\nFactoring out the term $(L_{\\text{present}} - x)$:\n$$L_{\\text{eff}} = (L_{\\text{present}} - x) (1 + \\epsilon_{\\max})$$\n\nThe problem states that this effective length must be at least the functional requirement, $L_{\\text{req}}$, plus the redundancy reserve, $r$. Let us define this target length as $L_{\\text{target}}$.\n$$L_{\\text{target}} = L_{\\text{req}} + r$$\nWith the given values, $L_{\\text{req}} = 18 \\ \\mathrm{mm}$ and $r = 1.0 \\ \\mathrm{mm}$:\n$$L_{\\text{target}} = 18 + 1.0 = 19 \\ \\mathrm{mm}$$\n\nThe core condition of the problem is that the effective length must be greater than or equal to the target length:\n$$L_{\\text{eff}} \\ge L_{\\text{target}}$$\nSubstituting the derived expressions for $L_{\\text{eff}}$ and $L_{\\text{target}}$:\n$$(L_{\\text{present}} - x) (1 + \\epsilon_{\\max}) \\ge L_{\\text{req}} + r$$\n\nWe need to find the largest value of $x$ that satisfies this inequality. We can solve for $x$. Since $1 + \\epsilon_{\\max}$ is a positive quantity, we can divide both sides by it without changing the direction of the inequality.\n$$L_{\\text{present}} - x \\ge \\frac{L_{\\text{req}} + r}{1 + \\epsilon_{\\max}}$$\nRearranging the inequality to isolate $x$:\n$$L_{\\text{present}} - \\frac{L_{\\text{req}} + r}{1 + \\epsilon_{\\max}} \\ge x$$\nThis is equivalent to:\n$$x \\le L_{\\text{present}} - \\frac{L_{\\text{req}} + r}{1 + \\epsilon_{\\max}}$$\n\nThe largest value of $x$ is the upper bound of this inequality.\n$$x_{\\max} = L_{\\text{present}} - \\frac{L_{\\text{req}} + r}{1 + \\epsilon_{\\max}}$$\n\nNow we substitute the given numerical values: $L_{\\text{present}} = 26$, $L_{\\text{req}} = 18$, $r = 1.0$, and $\\epsilon_{\\max} = 0.12$.\n$$x_{\\max} = 26 - \\frac{18 + 1.0}{1 + 0.12}$$\n$$x_{\\max} = 26 - \\frac{19}{1.12}$$\nPerforming the division:\n$$\\frac{19}{1.12} \\approx 16.9642857...$$\nSubstituting this value back into the equation for $x_{\\max}$:\n$$x_{\\max} \\approx 26 - 16.9642857...$$\n$$x_{\\max} \\approx 9.0357143...$$\n\nThe problem requires the answer to be rounded to three significant figures. The first three significant figures are $9$, $0$, and $3$. The fourth digit is $5$, so we round up the third digit.\n$$x_{\\max} \\approx 9.04 \\ \\mathrm{mm}$$\nThus, the largest central vertical height of the elliptical excision is $9.04 \\ \\mathrm{mm}$.", "answer": "$$\\boxed{9.04}$$", "id": "4669346"}, {"introduction": "Modern clinical decision-making involves synthesizing multiple, uncertain pieces of information to predict an outcome. This advanced practice introduces a powerful probabilistic framework—Bayesian inference—to model the likelihood of functional benefit from surgery. By integrating data from visual field testing and patient-reported symptoms, you will learn how to quantitatively update your belief about a patient's prognosis, moving beyond simple heuristics to a more rigorous, evidence-based approach [@problem_id:4669407].", "problem": "You are modeling functional benefit from upper eyelid blepharoplasty in the context of dermatochalasis using a principled probabilistic framework. The fundamental base comprises Bayes' theorem and the definition of likelihood for continuous measurements under the normal distribution. Consider a binary latent state $B \\in \\{\\text{benefit}, \\text{no benefit}\\}$ and two observed, conditionally independent measurements: taped superior visual field improvement $\\Delta$ (in degrees) and preoperative brow strain score $s$ (on a $0$ to $10$ numeric scale). Assume the following scientifically plausible measurement models, grounded in the clinical observation that larger taped visual field improvements and higher brow strain tend to be associated with functional benefit:\n- For taped perimetry improvement $\\Delta$ (expressed in degrees), assume $\\Delta \\mid B=\\text{benefit} \\sim \\mathcal{N}(\\mu_{\\Delta,\\text{B}}, \\sigma_{\\Delta,\\text{B}}^2)$ and $\\Delta \\mid B=\\text{no benefit} \\sim \\mathcal{N}(\\mu_{\\Delta,\\text{NB}}, \\sigma_{\\Delta,\\text{NB}}^2)$ with parameters $\\mu_{\\Delta,\\text{B}} = 20$, $\\sigma_{\\Delta,\\text{B}} = 6$, $\\mu_{\\Delta,\\text{NB}} = 5$, $\\sigma_{\\Delta,\\text{NB}} = 5$.\n- For brow strain $s$ (unitless on the specified scale), assume $s \\mid B=\\text{benefit} \\sim \\mathcal{N}(\\mu_{s,\\text{B}}, \\sigma_{s,\\text{B}}^2)$ and $s \\mid B=\\text{no benefit} \\sim \\mathcal{N}(\\mu_{s,\\text{NB}}, \\sigma_{s,\\text{NB}}^2)$ with parameters $\\mu_{s,\\text{B}} = 7$, $\\sigma_{s,\\text{B}} = 1.5$, $\\mu_{s,\\text{NB}} = 3$, $\\sigma_{s,\\text{NB}} = 2$.\n\nAssume conditional independence of $\\Delta$ and $s$ given $B$. Let the prior probability of benefit be $p_0 \\in (0,1)$, corresponding to prior odds $O_0 = p_0/(1-p_0)$. Using only these modeling assumptions and the fundamental definitions of Bayes' theorem and normal likelihoods, design a Bayesian updating procedure that computes the posterior odds $O_{\\text{post}}$ of benefit after observing $(\\Delta, s)$.\n\nYour program must implement this model and compute $O_{\\text{post}}$ for each of the following test cases. Each test case is a tuple $(p_0, \\Delta, s)$ with $\\Delta$ in degrees and $s$ unitless on the $0$ to $10$ scale:\n- Case $1$: $(p_0 = 0.3, \\Delta = 15, s = 6)$.\n- Case $2$: $(p_0 = 0.5, \\Delta = 0, s = 0)$.\n- Case $3$: $(p_0 = 0.01, \\Delta = 30, s = 9)$.\n- Case $4$: $(p_0 = 0.9, \\Delta = 10, s = 2)$.\n- Case $5$: $(p_0 = 0.4, \\Delta = 5, s = 8)$.\n- Case $6$: $(p_0 = 0.99, \\Delta = 20, s = 7)$.\n\nExpress each result as a float representing posterior odds $O_{\\text{post}}$ (dimensionless), rounded to $6$ decimal places. Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., $[r_1,r_2,\\dots,r_6]$).", "solution": "The problem statement is scientifically grounded, well-posed, and objective. It presents a standard, albeit simplified, application of Bayesian inference to a medical decision-making problem. All necessary parameters and conditions are provided, and there are no internal contradictions or violations of fundamental principles. The modeling of continuous measurements with normal distributions is a common and valid statistical practice. Therefore, the problem is deemed valid and a solution can be derived.\n\nThe core of this problem is to update our belief about the latent state $B \\in \\{\\text{benefit}, \\text{no benefit}\\}$ based on observed evidence $(\\Delta, s)$. We will use Bayes' theorem, expressed in terms of odds, which provides a direct and intuitive way to quantify the change in belief.\n\nThe fundamental relationship is:\n$$ O_{\\text{post}} = O_{\\text{prior}} \\times \\text{BF} $$\nwhere $O_{\\text{post}}$ represents the posterior odds of benefit, $O_{\\text{prior}}$ represents the prior odds of benefit, and $\\text{BF}$ is the Bayes Factor, which quantifies the strength of the evidence provided by the data.\n\nFirst, we define the prior odds, $O_0$, using the given prior probability of benefit, $p_0 = P(B=\\text{benefit})$. The prior probability of no benefit is $1-p_0$. The prior odds are the ratio of these probabilities:\n$$ O_0 = \\frac{P(B=\\text{benefit})}{P(B=\\text{no benefit})} = \\frac{p_0}{1-p_0} $$\n\nNext, we define the Bayes Factor for the combined observation $(\\Delta, s)$. The Bayes Factor is the ratio of the likelihood of observing the data under the 'benefit' hypothesis to the likelihood of observing the data under the 'no benefit' hypothesis:\n$$ \\text{BF}_{(\\Delta, s)} = \\frac{P(\\Delta, s \\mid B=\\text{benefit})}{P(\\Delta, s \\mid B=\\text{no benefit})} $$\n\nThe problem states that the measurements $\\Delta$ and $s$ are conditionally independent given the state $B$. This crucial assumption allows us to separate the joint likelihood into a product of individual likelihoods:\n$$ P(\\Delta, s \\mid B) = P(\\Delta \\mid B) \\times P(s \\mid B) $$\nConsequently, the total Bayes Factor is the product of the Bayes Factors for each individual measurement:\n$$ \\text{BF}_{(\\Delta, s)} = \\frac{P(\\Delta \\mid B=\\text{benefit})}{P(\\Delta \\mid B=\\text{no benefit})} \\times \\frac{P(s \\mid B=\\text{benefit})}{P(s \\mid B=\\text{no benefit})} = \\text{BF}_{\\Delta} \\times \\text{BF}_{s} $$\n\nNow, we must calculate each individual Bayes Factor. The likelihoods $P(\\Delta \\mid B)$ and $P(s \\mid B)$ are given by the probability density function (PDF) of the normal distribution, $\\mathcal{N}(\\mu, \\sigma^2)$, which is:\n$$ f(x \\mid \\mu, \\sigma^2) = \\frac{1}{\\sqrt{2\\pi\\sigma^2}} \\exp\\left(-\\frac{(x - \\mu)^2}{2\\sigma^2}\\right) $$\n\nFor the measurement $\\Delta$, the likelihoods are:\n- $P(\\Delta \\mid B=\\text{benefit}) = f(\\Delta \\mid \\mu_{\\Delta,\\text{B}}, \\sigma_{\\Delta,\\text{B}}^2)$ with parameters $\\mu_{\\Delta,\\text{B}} = 20$ and $\\sigma_{\\Delta,\\text{B}} = 6$.\n- $P(\\Delta \\mid B=\\text{no benefit}) = f(\\Delta \\mid \\mu_{\\Delta,\\text{NB}}, \\sigma_{\\Delta,\\text{NB}}^2)$ with parameters $\\mu_{\\Delta,\\text{NB}} = 5$ and $\\sigma_{\\Delta,\\text{NB}} = 5$.\n\nThe Bayes Factor for $\\Delta$ is the ratio of these two densities:\n$$ \\text{BF}_{\\Delta} = \\frac{f(\\Delta \\mid \\mu_{\\Delta,\\text{B}}, \\sigma_{\\Delta,\\text{B}}^2)}{f(\\Delta \\mid \\mu_{\\Delta,\\text{NB}}, \\sigma_{\\Delta,\\text{NB}}^2)} $$\n\nSimilarly, for the measurement $s$, the likelihoods are:\n- $P(s \\mid B=\\text{benefit}) = f(s \\mid \\mu_{s,\\text{B}}, \\sigma_{s,\\text{B}}^2)$ with parameters $\\mu_{s,\\text{B}} = 7$ and $\\sigma_{s,\\text{B}} = 1.5$.\n- $P(s \\mid B=\\text{no benefit}) = f(s \\mid \\mu_{s,\\text{NB}}, \\sigma_{s,\\text{NB}}^2)$ with parameters $\\mu_{s,\\text{NB}} = 3$ and $\\sigma_{s,\\text{NB}} = 2$.\n\nThe Bayes Factor for $s$ is the ratio of these two densities:\n$$ \\text{BF}_{s} = \\frac{f(s \\mid \\mu_{s,\\text{B}}, \\sigma_{s,\\text{B}}^2)}{f(s \\mid \\mu_{s,\\text{NB}}, \\sigma_{s,\\text{NB}}^2)} $$\n\nFinally, we combine all components to find the posterior odds, $O_{\\text{post}}$:\n$$ O_{\\text{post}} = O_0 \\times \\text{BF}_{\\Delta} \\times \\text{BF}_{s} = \\left(\\frac{p_0}{1-p_0}\\right) \\times \\left(\\frac{f(\\Delta \\mid \\mu_{\\Delta,\\text{B}}, \\sigma_{\\Delta,\\text{B}}^2)}{f(\\Delta \\mid \\mu_{\\Delta,\\text{NB}}, \\sigma_{\\Delta,\\text{NB}}^2)}\\right) \\times \\left(\\frac{f(s \\mid \\mu_{s,\\text{B}}, \\sigma_{s,\\text{B}}^2)}{f(s \\mid \\mu_{s,\\text{NB}}, \\sigma_{s,\\text{NB}}^2)}\\right) $$\nThis equation forms the basis for the computational procedure. For each test case, we will substitute the given values of $p_0$, $\\Delta$, and $s$ into this formula, using the provided parameters for the normal distributions. The implementation will compute the values of the normal PDFs to find the likelihood ratios (Bayes Factors) and then multiply by the prior odds.", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.stats import norm\n\ndef solve():\n    \"\"\"\n    Computes the posterior odds of functional benefit from upper eyelid\n    blepharoplasty based on a Bayesian model.\n    \"\"\"\n\n    # Define the parameters for the normal distribution models.\n    # For taped perimetry improvement Delta (degrees).\n    params_delta = {\n        \"benefit\": {\"mu\": 20.0, \"sigma\": 6.0},\n        \"no_benefit\": {\"mu\": 5.0, \"sigma\": 5.0}\n    }\n\n    # For brow strain s (0-10 scale).\n    params_s = {\n        \"benefit\": {\"mu\": 7.0, \"sigma\": 1.5},\n        \"no_benefit\": {\"mu\": 3.0, \"sigma\": 2.0}\n    }\n\n    # Define the test cases from the problem statement.\n    # Each case is a tuple: (p_0, Delta, s)\n    test_cases = [\n        (0.3, 15.0, 6.0),\n        (0.5, 0.0, 0.0),\n        (0.01, 30.0, 9.0),\n        (0.9, 10.0, 2.0),\n        (0.4, 5.0, 8.0),\n        (0.99, 20.0, 7.0),\n    ]\n\n    results = []\n    \n    for case in test_cases:\n        p0, delta_obs, s_obs = case\n\n        # Step 1: Calculate prior odds.\n        # O_0 = p_0 / (1 - p_0)\n        # The problem states p_0 is in (0,1), so no division by zero.\n        prior_odds = p0 / (1.0 - p0)\n\n        # Step 2: Calculate the Bayes Factor for the Delta measurement.\n        # This is the ratio of likelihoods P(Delta|Benefit) / P(Delta|No Benefit).\n        likelihood_delta_benefit = norm.pdf(\n            delta_obs,\n            loc=params_delta[\"benefit\"][\"mu\"],\n            scale=params_delta[\"benefit\"][\"sigma\"]\n        )\n        likelihood_delta_no_benefit = norm.pdf(\n            delta_obs,\n            loc=params_delta[\"no_benefit\"][\"mu\"],\n            scale=params_delta[\"no_benefit\"][\"sigma\"]\n        )\n        # Handle potential division by zero, though unlikely with normal PDFs.\n        if likelihood_delta_no_benefit == 0:\n            bayes_factor_delta = np.inf if likelihood_delta_benefit > 0 else 0\n        else:\n            bayes_factor_delta = likelihood_delta_benefit / likelihood_delta_no_benefit\n\n        # Step 3: Calculate the Bayes Factor for the s measurement.\n        # This is the ratio of likelihoods P(s|Benefit) / P(s|No Benefit).\n        likelihood_s_benefit = norm.pdf(\n            s_obs,\n            loc=params_s[\"benefit\"][\"mu\"],\n            scale=params_s[\"benefit\"][\"sigma\"]\n        )\n        likelihood_s_no_benefit = norm.pdf(\n            s_obs,\n            loc=params_s[\"no_benefit\"][\"mu\"],\n            scale=params_s[\"no_benefit\"][\"sigma\"]\n        )\n        if likelihood_s_no_benefit == 0:\n            bayes_factor_s = np.inf if likelihood_s_benefit > 0 else 0\n        else:\n            bayes_factor_s = likelihood_s_benefit / likelihood_s_no_benefit\n        \n        # Step 4: Calculate the posterior odds.\n        # O_post = O_prior * BF_delta * BF_s\n        posterior_odds = prior_odds * bayes_factor_delta * bayes_factor_s\n\n        results.append(round(posterior_odds, 6))\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```", "id": "4669407"}]}