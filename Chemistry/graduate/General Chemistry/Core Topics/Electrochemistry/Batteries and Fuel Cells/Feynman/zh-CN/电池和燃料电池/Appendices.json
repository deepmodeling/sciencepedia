{
    "hands_on_practices": [
        {
            "introduction": "在我们深入探讨电池和燃料电池的复杂性之前，必须首先掌握其运行所依据的基本热力学原理。这个练习将指导你从第一和第二定律出发，推导出电化学势与吉布斯自由能 ($\\Delta G$) 和焓 ($\\Delta H$) 等关键状态函数之间的根本联系。通过计算氢氧燃料电池的理想可逆电压 ($E_{\\mathrm{rev}}^{\\circ}$) 和热中性电压 ($E_{\\mathrm{th}}$)，你将能定量地理解一个反应能产生的最大电功，以及其在运行过程中的热量管理需求 。",
            "id": "2921164",
            "problem": "一个质子交换膜氢氧燃料电池在温度 $T=298\\,\\mathrm{K}$ 和总压 $p=1\\,\\mathrm{bar}$ 的恒温恒压条件下运行。其总化学反应为\n$$\\mathrm{H}_{2}(g)+\\tfrac{1}{2}\\,\\mathrm{O}_{2}(g)\\to \\mathrm{H}_{2}\\mathrm{O}(l)。$$\n假设$\\mathrm{H}_{2}(g)$和$\\mathrm{O}_{2}(g)$表现为理想气体，所有物种在标准状态下的活度均为1，且液态水为纯水。对于该反应，每形成1摩尔液态水，伴随着$n=2$摩尔电子的转移。使用以下在 $T=298\\,\\mathrm{K}$ 和 $p^{\\circ}=1\\,\\mathrm{bar}$ 条件下的标准生成数据：\n- 标准摩尔生成吉布斯自由能：$\\Delta_{\\mathrm{f}} G^{\\circ}\\!\\left(\\mathrm{H}_{2}\\mathrm{O}(l),298\\,\\mathrm{K}\\right)=-237.13\\,\\mathrm{kJ\\,mol^{-1}}$, $\\Delta_{\\mathrm{f}} G^{\\circ}\\!\\left(\\mathrm{H}_{2}(g),298\\,\\mathrm{K}\\right)=0$, $\\Delta_{\\mathrm{f}} G^{\\circ}\\!\\left(\\mathrm{O}_{2}(g),298\\,\\mathrm{K}\\right)=0$。\n- 标准摩尔生成焓：$\\Delta_{\\mathrm{f}} H^{\\circ}\\!\\left(\\mathrm{H}_{2}\\mathrm{O}(l),298\\,\\mathrm{K}\\right)=-285.83\\,\\mathrm{kJ\\,mol^{-1}}$, $\\Delta_{\\mathrm{f}} H^{\\circ}\\!\\left(\\mathrm{H}_{2}(g),298\\,\\mathrm{K}\\right)=0$, $\\Delta_{\\mathrm{f}} H^{\\circ}\\!\\left(\\mathrm{O}_{2}(g),298\\,\\mathrm{K}\\right)=0$。\n物理常数：法拉第常数 (定义为每摩尔电子的电荷量) $F=96485\\,\\mathrm{C\\,mol^{-1}}$。\n\n从基本热力学恒等式（第一和第二定律）、吉布斯自由能$G$和焓$H$的定义，以及将在恒定$T$和$p$下电功视为非膨胀功的认识出发，推导所需表达式，以将可逆电势与吉布斯自由能变化、热中性条件与该反应的焓变联系起来。然后，在所述条件和标准组成下，计算以下两个量：\n- 上述反应的标准可逆电池电压 $E_{\\mathrm{rev}}^{\\circ}$，\n- 零净热交换的恒温、恒压操作下的热中性电压 $E_{\\mathrm{th}}$。\n\n两个答案均以伏特为单位表示，并将每个答案四舍五入至四位有效数字。按顺序 $\\left(E_{\\mathrm{rev}}^{\\circ},\\,E_{\\mathrm{th}}\\right)$ 提供您的最终数值结果。",
            "solution": "所提出的问题是化学热力学和电化学中的一个标准练习。该问题内容自洽，有科学依据，且提法明确。所有必要的数据都已提供，并与公认的科学数值一致。因此，该问题被认为是有效的，并将提供解答。\n\n该问题首先要求推导电化学势与状态函数之间的关系，其次要求计算氢氧燃料电池的两个特定电压。\n\n**第一部分：基本关系的推导**\n\n我们从一个能够同时做膨胀-压缩功（$\\delta w_{\\text{exp}}$）和非膨胀功（$\\delta w_{\\text{non-exp}}$）（在本例中为电功 $\\delta w_{\\text{elec}}$）的封闭系统的基本热力学定律开始。\n\n热力学第一定律指出，内能的变化 $dU$ 是系统吸收的热量 $\\delta q$ 和对系统做的功 $\\delta w$ 的总和：\n$$dU = \\delta q + \\delta w$$\n总功是膨胀功和非膨胀功之和：$\\delta w = \\delta w_{\\text{exp}} + \\delta w_{\\text{non-exp}}$。对于一个在恒定外压 $p$ 下发生的过程，对系统做的膨胀功为 $\\delta w_{\\text{exp}} = -p\\,dV$。\n$$dU = \\delta q - p\\,dV + \\delta w_{\\text{non-exp}}$$\n热力学第二定律，对于一个可逆过程，将在恒定温度 $T$ 下交换的热量与熵变 $dS$ 联系起来：$\\delta q_{\\text{rev}} = T\\,dS$。\n将此代入可逆过程的第一定律：\n$$dU = T\\,dS - p\\,dV + \\delta w_{\\text{non-exp, rev}}$$\n此处，$\\delta w_{\\text{non-exp, rev}}$ 代表最大可能的非膨胀功。\n\n接下来，我们引入状态函数焓（$H$）和吉布斯自由能（$G$）。\n焓定义为 $H = U + pV$。其微分形式为 $dH = dU + p\\,dV + V\\,dp$。\n代入 $dU$ 的表达式：\n$$dH = (T\\,dS - p\\,dV + \\delta w_{\\text{non-exp, rev}}) + p\\,dV + V\\,dp = T\\,dS + V\\,dp + \\delta w_{\\text{non-exp, rev}}$$\n吉布斯自由能定义为 $G = H - TS$。其微分形式为 $dG = dH - T\\,dS - S\\,dT$。\n代入 $dH$ 的表达式：\n$$dG = (T\\,dS + V\\,dp + \\delta w_{\\text{non-exp, rev}}) - T\\,dS - S\\,dT = V\\,dp - S\\,dT + \\delta w_{\\text{non-exp, rev}}$$\n对于在恒温（$dT=0$）和恒压（$dp=0$）下进行的过程，此基本关系式简化为：\n$$(dG)_{T,p} = \\delta w_{\\text{non-exp, rev}}$$\n对于在这些条件下从初态到末态的有限变化，吉布斯自由能的变化等于总可逆非膨胀功：\n$$(\\Delta G)_{T,p} = w_{\\text{non-exp, rev}}$$\n在电化学电池中，非膨胀功是电功。系统移动电荷 $Q$ 通过电势差 $E$ 所*做*的功是 $E \\times Q$。因此，对系统所*做*的功是 $w_{\\text{elec}} = -E \\times Q$。对于一摩尔物质的反应，涉及 $n$ 摩尔电子的转移，转移的总电荷量为 $Q = nF$，其中 $F$ 是法拉第常数。因此，可逆电功为 $w_{\\text{non-exp, rev}} = -nFE_{\\text{rev}}$，其中 $E_{\\text{rev}}$ 是可逆电池电压。\n将此代入吉布斯自由能表达式，我们得到关键关系式：\n$$\\Delta_{\\mathrm{r}}G = -nFE_{\\mathrm{rev}}$$\n在标准状态条件下（所有反应物和产物的活度均为1），该式变为：\n$$\\Delta_{\\mathrm{r}}G^{\\circ} = -nFE_{\\mathrm{rev}}^{\\circ}$$\n该方程将标准可逆电池电压 $E_{\\mathrm{rev}}^{\\circ}$ 与标准反应吉布斯自由能 $\\Delta_{\\mathrm{r}}G^{\\circ}$ 联系起来。\n\n现在我们推导热中性电压 $E_{\\mathrm{th}}$ 的表达式。热中性条件定义为与环境的净热交换为零，即 $q=0$。我们回到焓的定义 $H=U+pV$。对于恒压 $p$ 下的有限过程，焓变为：\n$$\\Delta H = \\Delta U + p\\Delta V$$\n根据第一定律，$\\Delta U = q + w = q + w_{\\text{exp}} + w_{\\text{non-exp}}$。在恒压下，$w_{\\text{exp}} = -p\\Delta V$。\n因此，$\\Delta U = q - p\\Delta V + w_{\\text{non-exp}}$。\n将此代入焓变方程：\n$$\\Delta H = (q - p\\Delta V + w_{\\text{non-exp}}) + p\\Delta V = q + w_{\\text{non-exp}}$$\n这个普遍的结论表明，对于任何恒压过程，其焓变等于系统吸收的热量与对系统做的非膨胀功之和。\n在热中性条件下，$q=0$。此条件下的电池电势即为热中性电压 $E_{\\mathrm{th}}$。相应的电功为 $w_{\\text{non-exp}} = -nFE_{\\mathrm{th}}$。\n焓变方程变为：\n$$\\Delta_{\\mathrm{r}}H = -nFE_{\\mathrm{th}}$$\n该方程将热中性电压 $E_{\\mathrm{th}}$ 与反应焓 $\\Delta_{\\mathrm{r}}H$ 联系起来。对于本题的条件，我们使用标准反应焓 $\\Delta_{\\mathrm{r}}H^{\\circ}$ 来计算。\n\n**第二部分：电压计算**\n\n总反应为 $\\mathrm{H}_{2}(g)+\\tfrac{1}{2}\\,\\mathrm{O}_{2}(g)\\to \\mathrm{H}_{2}\\mathrm{O}(l)$。对于该反应，每生成一摩尔水，转移 $n=2$ 摩尔的电子。\n\n标准可逆电池电压 $E_{\\mathrm{rev}}^{\\circ}$ 的计算：\n首先，我们使用提供的标准生成吉布斯自由能 $\\Delta_{\\mathrm{f}}G^{\\circ}$ 来计算标准反应吉布斯自由能 $\\Delta_{\\mathrm{r}}G^{\\circ}$。\n$$\\Delta_{\\mathrm{r}}G^{\\circ} = \\sum \\nu_i \\Delta_{\\mathrm{f}} G^{\\circ}(\\text{products}) - \\sum \\nu_j \\Delta_{\\mathrm{f}} G^{\\circ}(\\text{reactants})$$\n$$\\Delta_{\\mathrm{r}}G^{\\circ} = [1 \\times \\Delta_{\\mathrm{f}}G^{\\circ}(\\mathrm{H}_{2}\\mathrm{O}(l))] - [1 \\times \\Delta_{\\mathrm{f}}G^{\\circ}(\\mathrm{H}_{2}(g)) + \\tfrac{1}{2} \\times \\Delta_{\\mathrm{f}}G^{\\circ}(\\mathrm{O}_{2}(g))]$$\n处于其参考态 ($\\mathrm{H}_{2}(g)$ 和 $\\mathrm{O}_{2}(g)$) 的元素的标准生成吉布斯自由能根据定义为零。\n$$\\Delta_{\\mathrm{r}}G^{\\circ} = [1\\,\\mathrm{mol} \\times (-237.13\\,\\mathrm{kJ\\,mol^{-1}})] - [0 + 0] = -237.13\\,\\mathrm{kJ} = -237130\\,\\mathrm{J}$$\n现在我们使用推导出的关系式 $E_{\\mathrm{rev}}^{\\circ} = -\\frac{\\Delta_{\\mathrm{r}}G^{\\circ}}{nF}$。\n$$E_{\\mathrm{rev}}^{\\circ} = -\\frac{-237130\\,\\mathrm{J\\,mol^{-1}}}{2\\,\\mathrm{mol} \\times 96485\\,\\mathrm{C\\,mol^{-1}}} = \\frac{237130}{192970}\\,\\mathrm{V} \\approx 1.2288599\\,\\mathrm{V}$$\n按要求四舍五入至四位有效数字，我们得到 $E_{\\mathrm{rev}}^{\\circ} = 1.229\\,\\mathrm{V}$。\n\n热中性电压 $E_{\\mathrm{th}}$ 的计算：\n首先，我们使用提供的标准生成焓 $\\Delta_{\\mathrm{f}}H^{\\circ}$ 来计算标准反应焓 $\\Delta_{\\mathrm{r}}H^{\\circ}$。\n$$\\Delta_{\\mathrm{r}}H^{\\circ} = \\sum \\nu_i \\Delta_{\\mathrm{f}} H^{\\circ}(\\text{products}) - \\sum \\nu_j \\Delta_{\\mathrm{f}} H^{\\circ}(\\text{reactants})$$\n$$\\Delta_{\\mathrm{r}}H^{\\circ} = [1 \\times \\Delta_{\\mathrm{f}}H^{\\circ}(\\mathrm{H}_{2}\\mathrm{O}(l))] - [1 \\times \\Delta_{\\mathrm{f}}H^{\\circ}(\\mathrm{H}_{2}(g)) + \\tfrac{1}{2} \\times \\Delta_{\\mathrm{f}}H^{\\circ}(\\mathrm{O}_{2}(g))]$$\n处于其参考态的元素的标准生成焓为零。\n$$\\Delta_{\\mathrm{r}}H^{\\circ} = [1\\,\\mathrm{mol} \\times (-285.83\\,\\mathrm{kJ\\,mol^{-1}})] - [0 + 0] = -285.83\\,\\mathrm{kJ} = -285830\\,\\mathrm{J}$$\n现在我们使用推导出的关系式 $E_{\\mathrm{th}} = -\\frac{\\Delta_{\\mathrm{r}}H^{\\circ}}{nF}$。\n$$E_{\\mathrm{th}} = -\\frac{-285830\\,\\mathrm{J\\,mol^{-1}}}{2\\,\\mathrm{mol} \\times 96485\\,\\mathrm{C\\,mol^{-1}}} = \\frac{285830}{192970}\\,\\mathrm{V} \\approx 1.4812147\\,\\mathrm{V}$$\n四舍五入至四位有效数字，得到 $E_{\\mathrm{th}} = 1.481\\,\\mathrm{V}$。\n\n理想燃料电池的工作电压是 $E_{\\mathrm{rev}}^{\\circ}$。如果电池在低于 $E_{\\mathrm{th}}$ 的电压下工作，它必须释放热量。由于 $E_{\\mathrm{rev}}^{\\circ} < E_{\\mathrm{th}}$，一个在 $298\\,\\mathrm{K}$ 下恒温运行的理想、可逆氢燃料电池必须向环境释放热量，其量等于反应的熵变 $q_{\\text{rev}} = T\\Delta S = \\Delta H - \\Delta G$。\n\n所求的量是标准可逆电池电压 $E_{\\mathrm{rev}}^{\\circ}$ 和热中性电压 $E_{\\mathrm{th}}$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1.229 & 1.481\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "理论电压为我们提供了性能的上限，但在实际应用中，电池的性能受到其内部电阻和工作电流的显著影响。本练习将一个可充电锂离子电池简化为一个等效电路模型，让你亲手计算在恒定电流（以 C-rate 定义）下放电时，电池的实际放电时间、可提供的能量和功率。这项实践不仅能加深你对开路电压、终端电压和内部压降之间关系的理解，还让你掌握了评估电池在特定负载下性能输出的核心技能 。",
            "id": "2921187",
            "problem": "一块可充电锂离子电池在恒温下进行特性表征。其开路电压作为荷电状态分数 $z \\in [0,1]$（定义为剩余标称容量的分数）的函数，由线性关系 $V_{\\mathrm{oc}}(z) = v_{0} + k z$ 近似表示。该电池表现出欧姆内阻 $R$，该内阻不随电流和荷电状态变化。该电池以与指定倍率 $C$-rate $\\gamma$ 对应的恒定电流进行放电，直到端电压达到一个硬性截止电压 $V_{\\mathrm{cut}}$。\n\n该电池的数据：\n- 标称容量（在极低倍率下）：$C_{\\mathrm{Ah}} = 3.0$ 安时。\n- 电池质量：$m = 0.070$ 千克。\n- 开路电压参数：$v_{0} = 3.0$ 伏特 和 $k = 1.2$ 伏特（因此 $V_{\\mathrm{oc}}(1) = 4.2$ 伏特 且 $V_{\\mathrm{oc}}(0) = 3.0$ 伏特）。\n- 内阻：$R = 0.060$ 欧姆。\n- 放电截止端电压：$V_{\\mathrm{cut}} = 3.0$ 伏特。\n- 应用倍率：$\\gamma = 2.0$ 小时$^{-1}$。\n\n仅使用基本定义，推导放电终止条件、恒流负载下的放电时间以及截止前释放的能量。然后，使用给定参数对这些量进行数值计算。在整个计算过程中，时间 $t$ 的单位为小时。并使用以下事实：负载下的端电压为 $V(t) = V_{\\mathrm{oc}}(z(t)) - I R$，其中电流为恒定值 $I = \\gamma C_{\\mathrm{Ah}}$；恒流下的荷电状态动力学遵循 $dz/dt = -I/C_{\\mathrm{Ah}}$。\n\n报告以下三个量：\n- 到截止时的放电时间，单位为小时。\n- 到截止时释放的比能量，单位为瓦时每千克（Wh/kg）。\n- 放电过程中的平均比功率（释放的比能量与放电时间之比），单位为瓦特每千克（W/kg）。\n\n将您的最终数值结果四舍五入至四位有效数字。时间以小时为单位，比能量以 Wh/kg 为单位，平均比功率以 W/kg 为单位表示。将您的最终三个结果按上述顺序以单行向量的形式提供。",
            "solution": "在尝试求解之前，需对问题陈述进行验证。\n\n首先，我们逐字提取所有给定信息。\n- 荷电状态分数：$z \\in [0,1]$。\n- 开路电压模型：$V_{\\mathrm{oc}}(z) = v_{0} + k z$。\n- 内阻：$R$。\n- 放电电流：恒定，对应于倍率 $C$-rate $\\gamma$。\n- 标称容量：$C_{\\mathrm{Ah}} = 3.0$ 安时。\n- 电池质量：$m = 0.070$ 千克。\n- 开路电压参数：$v_{0} = 3.0$ 伏特， $k = 1.2$ 伏特。\n- 内阻值：$R = 0.060$ 欧姆。\n- 放电截止端电压：$V_{\\mathrm{cut}} = 3.0$ 伏特。\n- 应用倍率：$\\gamma = 2.0$ 小时$^{-1}$。\n- 端电压方程：$V(t) = V_{\\mathrm{oc}}(z(t)) - I R$。\n- 电流-倍率关系：$I = \\gamma C_{\\mathrm{Ah}}$。\n- 荷电状态动力学：$dz/dt = -I/C_{\\mathrm{Ah}}$。\n\n接下来，我们基于这些给定的信息来验证问题。该问题描述了一个标准的、尽管简化的电池等效电路模型。所提供的参数对于常见的锂离子化学体系是物理上现实的。控制电池行为的方程（$V(t)$、$I$ 和 $dz/dt$）是电池建模中的基本定义。该问题是自洽的，没有缺失信息或内部矛盾。它具有科学依据，提法得当，且客观。因此，该问题被认为是有效的，并将推导其解。\n\n按照要求，推导过程分三部分进行。\n\n首先，我们确定放电终止条件。放电过程以恒定电流 $I$ 进行。该电流值由倍率 $\\gamma$ 和标称容量 $C_{\\mathrm{Ah}}$ 定义：\n$$I = \\gamma C_{\\mathrm{Ah}}$$\n荷电状态 $z$ 由微分方程 $dz/dt = -I/C_{\\mathrm{Ah}}$ 控制。代入 $I$ 的表达式，我们得到：\n$$\\frac{dz}{dt} = -\\frac{\\gamma C_{\\mathrm{Ah}}}{C_{\\mathrm{Ah}}} = -\\gamma$$\n这是一个简单的一阶常微分方程。对于放电过程，初始条件是电池完全充电，因此 $z(t=0) = 1$。将该方程从 $t=0$ 积分到任意时间 $t$，可得出作为时间函数的荷电状态：\n$$\\int_{1}^{z(t)} dz' = \\int_{0}^{t} (-\\gamma) dt' \\implies z(t) - 1 = -\\gamma t \\implies z(t) = 1 - \\gamma t$$\n端电压 $V(t)$ 由下式给出：\n$$V(t) = V_{\\mathrm{oc}}(z(t)) - I R$$\n代入 $V_{\\mathrm{oc}}(z)$ 和 $z(t)$ 的模型，我们获得端电压的显式时间依赖关系：\n$$V(t) = (v_{0} + k z(t)) - I R = v_{0} + k(1 - \\gamma t) - I R$$\n当端电压达到截止电压时，放电在时间 $t_{\\mathrm{end}}$ 终止，即 $V(t_{\\mathrm{end}}) = V_{\\mathrm{cut}}$。\n$$V_{\\mathrm{cut}} = v_{0} + k(1 - \\gamma t_{\\mathrm{end}}) - I R$$\n由此，我们可以求解放电时间 $t_{\\mathrm{end}}$：\n$$k(1 - \\gamma t_{\\mathrm{end}}) = V_{\\mathrm{cut}} - v_{0} + I R$$\n$$1 - \\gamma t_{\\mathrm{end}} = \\frac{V_{\\mathrm{cut}} - v_{0} + I R}{k}$$\n请注意，项 $1 - \\gamma t_{\\mathrm{end}}$ 就是放电结束时的荷电状态，即 $z_{\\mathrm{end}} = z(t_{\\mathrm{end}})$。因此，放电终止条件是最终荷电状态的一个特定值：\n$$z_{\\mathrm{end}} = \\frac{V_{\\mathrm{cut}} - v_{0} + I R}{k}$$\n然后通过重新整理关系式 $z_{\\mathrm{end}} = 1 - \\gamma t_{\\mathrm{end}}$ 来求得放电时间：\n$$t_{\\mathrm{end}} = \\frac{1 - z_{\\mathrm{end}}}{\\gamma} = \\frac{1}{\\gamma} \\left( 1 - \\frac{V_{\\mathrm{cut}} - v_{0} + I R}{k} \\right) = \\frac{k - (V_{\\mathrm{cut}} - v_{0} + I R)}{k \\gamma}$$\n代入 $I = \\gamma C_{\\mathrm{Ah}}$，我们得到了放电时间的完整符号表达式：\n$$t_{\\mathrm{end}} = \\frac{k - V_{\\mathrm{cut}} + v_{0} - \\gamma C_{\\mathrm{Ah}} R}{k \\gamma}$$\n\n其次，我们推导放电期间释放的比能量的表达式。释放的总能量 $E_{\\mathrm{del}}$ 是电功率 $P(t) = V(t)I$ 的时间积分。\n$$E_{\\mathrm{del}} = \\int_{0}^{t_{\\mathrm{end}}} P(t) dt = \\int_{0}^{t_{\\mathrm{end}}} V(t) I dt$$\n由于电流 $I$ 是恒定的，这可以简化为：\n$$E_{\\mathrm{del}} = I \\int_{0}^{t_{\\mathrm{end}}} V(t) dt$$\n项 $\\int_{0}^{t_{\\mathrm{end}}} V(t) dt$ 可以直接计算。然而，更巧妙的方法是认识到 $V(t)$ 是时间的线性函数。因此，该积分就是放电持续时间 $t_{\\mathrm{end}}$ 与平均端电压 $\\bar{V}$ 的乘积，后者是初始电压和最终电压的算术平均值：\n$$\\bar{V} = \\frac{V(t=0) + V(t=t_{\\mathrm{end}})}{2}$$\n初始电压为 $V(0) = v_{0} + k(z(0)) - I R = v_{0} + k - I R$。根据定义，最终电压为 $V(t_{\\mathrm{end}}) = V_{\\mathrm{cut}}$。\n$$\\bar{V} = \\frac{(v_{0} + k - I R) + V_{\\mathrm{cut}}}{2}$$\n那么释放的总能量为：\n$$E_{\\mathrm{del}} = \\bar{V} I t_{\\mathrm{end}} = \\left( \\frac{v_{0} + k - I R + V_{\\mathrm{cut}}}{2} \\right) I t_{\\mathrm{end}}$$\n比能量 $E_{\\mathrm{spec}}$ 是总能量除以电池质量 $m$：\n$$E_{\\mathrm{spec}} = \\frac{E_{\\mathrm{del}}}{m} = \\frac{I t_{\\mathrm{end}}}{2m} (v_{0} + k - I R + V_{\\mathrm{cut}})$$\n\n第三，我们求平均比功率 $P_{\\mathrm{spec,avg}}$。这被定义为释放的比能量与放电时间之比。\n$$P_{\\mathrm{spec,avg}} = \\frac{E_{\\mathrm{spec}}}{t_{\\mathrm{end}}}$$\n代入 $E_{\\mathrm{spec}}$ 的表达式：\n$$P_{\\mathrm{spec,avg}} = \\frac{1}{t_{\\mathrm{end}}} \\left( \\frac{I t_{\\mathrm{end}}}{2m} (v_{0} + k - I R + V_{\\mathrm{cut}}) \\right) = \\frac{I}{2m} (v_{0} + k - I R + V_{\\mathrm{cut}})$$\n这等效于平均总功率 $\\bar{P} = \\bar{V}I$ 除以质量 $m$。\n\n现在我们使用所提供的数据对这些量进行数值计算。\n- $C_{\\mathrm{Ah}} = 3.0$ A·h\n- $m = 0.070$ kg\n- $v_{0} = 3.0$ V\n- $k = 1.2$ V\n- $R = 0.060$ Ω\n- $V_{\\mathrm{cut}} = 3.0$ V\n- $\\gamma = 2.0$ h⁻¹\n\n首先，计算恒定放电电流 $I$：\n$$I = \\gamma C_{\\mathrm{Ah}} = (2.0 \\text{ h}^{-1})(3.0 \\text{ A·h}) = 6.0 \\text{ A}$$\n接下来，计算由电阻引起的内部电压降：\n$$I R = (6.0 \\text{ A})(0.060 \\text{ Ω}) = 0.36 \\text{ V}$$\n\n现在我们可以计算放电时间 $t_{\\mathrm{end}}$：\n$$t_{\\mathrm{end}} = \\frac{k - V_{\\mathrm{cut}} + v_{0} - I R}{k \\gamma} = \\frac{1.2 - 3.0 + 3.0 - 0.36}{(1.2)(2.0)} = \\frac{0.84}{2.4} = 0.35 \\text{ h}$$\n保留四位有效数字，结果为 $0.3500$ 小时。\n\n接下来，计算比能量 $E_{\\mathrm{spec}}$。我们首先求出平均电压 $\\bar{V}$：\n$$V(0) = v_{0} + k - I R = 3.0 + 1.2 - 0.36 = 3.84 \\text{ V}$$\n$$V(t_{\\mathrm{end}}) = V_{\\mathrm{cut}} = 3.0 \\text{ V}$$\n$$\\bar{V} = \\frac{3.84 + 3.0}{2} = \\frac{6.84}{2} = 3.42 \\text{ V}$$\n总能量为：\n$$E_{\\mathrm{del}} = \\bar{V} I t_{\\mathrm{end}} = (3.42 \\text{ V})(6.0 \\text{ A})(0.35 \\text{ h}) = 7.182 \\text{ W·h}$$\n比能量为：\n$$E_{\\mathrm{spec}} = \\frac{E_{\\mathrm{del}}}{m} = \\frac{7.182 \\text{ W·h}}{0.070 \\text{ kg}} = 102.6 \\text{ Wh/kg}$$\n这已经是四位有效数字。\n\n最后，计算平均比功率 $P_{\\mathrm{spec,avg}}$：\n$$P_{\\mathrm{spec,avg}} = \\frac{E_{\\mathrm{spec}}}{t_{\\mathrm{end}}} = \\frac{102.6 \\text{ Wh/kg}}{0.35 \\text{ h}} \\approx 293.1428... \\text{ W/kg}$$\n四舍五入到四位有效数字，得到 $293.1$ W/kg。或者：\n$$P_{\\mathrm{spec,avg}} = \\frac{\\bar{V} I}{m} = \\frac{(3.42 \\text{ V})(6.0 \\text{ A})}{0.070 \\text{ kg}} = \\frac{20.52 \\text{ W}}{0.070 \\text{ kg}} \\approx 293.1428... \\text{ W/kg}$$\n结果是一致的。\n\n所要求的三个量，四舍五入到四位有效数字，分别是：\n- 放电时间：$0.3500$ h\n- 比能量：$102.6$ Wh/kg\n- 平均比功率：$293.1$ W/kg",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.3500 & 102.6 & 293.1\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "电池的价值不仅在于其单次循环的性能，更在于其长期使用的可靠性。本练习聚焦于由缓慢寄生反应引起的容量衰减，指导你从基本扩散定律推导出一个描述衰减过程的物理模型。通过使用模拟数据校准该模型并预测长期性能，你将掌握连接基础理论、实验数据和工程预测的关键方法 。",
            "id": "2921023",
            "problem": "一块可充电锂离子电池由于负极上的膜生长，会表现出循环锂的缓慢寄生损失。经验表明，累积损失随时间的平方根增加，这与半无限介质中扩散限制的输运一致。从 Fickian 扩散和电荷守恒的基本原理出发，推导一个关于累积损失容量随时间变化的最小参数模型，该模型需与观测到的时间平方根增长定律相兼容。然后，利用模型所蕴含的代数变换变量，通过线性最小二乘法对给定的一组观测数据进行模型参数校准。最后，使用校准后的模型预测在 $100$ 次充放电循环后的容量衰减。\n\n仅使用以下基本依据：\n- Fick 第二定律，用于一维扩散，$\\partial c / \\partial t = D \\, \\partial^2 c / \\partial x^2$，其中扩散系数为 $D$，几何结构为半无限。\n- Faraday 电解定律，将摩尔通量与电流密度和电荷联系起来，其中每摩尔物质涉及 $n$ 个电子，Faraday 常数为 $F$。\n- 标准线性最小二乘法，用于参数估计，通过最小化残差平方和实现。\n\n任务要求：\n1. 从上述基本依据出发，得到一个累积损失容量 $Q_{\\mathrm{loss}}(t)$ 的模型形式，该模型应与经验观测到的时间平方根增长相兼容。除了半无限扩散假设和界面处恒定驱动浓度所导出的结论外，不要引入任何额外的唯象指数或时间常数。您的模型必须是与 $t^{1/2}$ 时间依赖性一致，且能够拟合可能包含初始偏移量的数据的最简参数形式。\n2. 给定观测时间 $t_i$（小时）和测量的累积损失容量 $Q_i$（毫安时），通过对模型所蕴含的代数变换变量进行线性最小二乘法来估计模型参数，最小化 $\\sum_i \\left(Q_i - \\widehat{Q}(t_i)\\right)^2$。\n3. 对于每个测试案例，计算 $N = 100$ 次循环后的预测累积容量衰减，其中经过的日历时间建模为 $T = N \\, t_{\\mathrm{cycle}}$ 小时，$t_{\\mathrm{cycle}}$ 是每次循环所经过的时间（小时）。以毫安时为单位报告预测的容量衰减。\n4. 数值输出格式：对于每个测试案例，输出一个包含三个浮点数的列表，顺序为 $[\\alpha, b, Q_{\\mathrm{pred}}]$，其中 $\\alpha$ 和 $b$ 是校准后的模型参数，$Q_{\\mathrm{pred}}$ 是 $100$ 次循环后的预测容量衰减。参数 $\\alpha$ 的单位必须是毫安时/平方根小时（即 $\\mathrm{mAh}\\,\\mathrm{h}^{-1/2}$），$b$ 的单位是毫安时，$Q_{\\mathrm{pred}}$ 的单位是毫安时。将每个浮点数四舍五入到三位小数。您的程序应生成一行输出，其中包含所有测试案例的结果，格式为 Python 风格的列表的列表，例如 $[[\\alpha_1,b_1,Q_{\\mathrm{pred},1}], [\\alpha_2,b_2,Q_{\\mathrm{pred},2}], \\dots]$。\n\n测试套件 (每个案例都是独立的):\n- 案例 A:\n  - 时间 (小时): $t = [9, 100, 400]$\n  - 测量的累积损失容量 (mAh): $Q = [4.5, 15.0, 30.0]$\n  - 标称容量 (mAh): $Q_{\\mathrm{nom}} = 3000$\n  - 每循环经过时间 (小时): $t_{\\mathrm{cycle}} = 1.0$\n- 案例 B:\n  - 时间 (小时): $t = [9, 25, 49]$\n  - 测量的累积损失容量 (mAh): $Q = [5.6, 8.0, 10.4]$\n  - 标称容量 (mAh): $Q_{\\mathrm{nom}} = 3000$\n  - 每循环经过时间 (小时): $t_{\\mathrm{cycle}} = 0.5$\n- 案例 C:\n  - 时间 (小时): $t = [24, 168, 720]$\n  - 测量的累积损失容量 (mAh): $Q = [4.92, 11.17, 22.77]$\n  - 标称容量 (mAh): $Q_{\\mathrm{nom}} = 2500$\n  - 每循环经过时间 (小时): $t_{\\mathrm{cycle}} = 2.0$\n- 案例 D (包含 $t=0$ 边界):\n  - 时间 (小时): $t = [0, 1, 4, 9]$\n  - 测量的累积损失容量 (mAh): $Q = [0.0, 1.6, 3.2, 4.8]$\n  - 标称容量 (mAh): $Q_{\\mathrm{nom}} = 1000$\n  - 每循环经过时间 (小时): $t_{\\mathrm{cycle}} = 0.75$\n\n您的程序必须为这四个案例实现校准和预测，不接受任何输入，并且只打印一行：一个 Python 风格的列表的列表 $[[\\alpha,b,Q_{\\mathrm{pred}}], \\dots]$，用于这四个案例，每个浮点数四舍五入到三位小数，且 $Q_{\\mathrm{pred}}$ 以 $\\mathrm{mAh}$ 表示。",
            "solution": "反应物种通过生长的膜向反应界面进行的半无限扩散由 Fick 第二定律描述，$\\partial c / \\partial t = D \\, \\partial^2 c / \\partial x^2$，其中 $c(x,t)$ 是浓度，$D$ 是扩散系数，$x$ 是垂直于界面的坐标。对于一个具有恒定体相浓度 $c_{\\infty}$ 和固定界面浓度的边界条件的半无限域，其著名的误差函数解给出了一个随时间 $t^{-1/2}$ 衰减的表面通量。具体来说，对于在 $x=0$ 处存在恒定表面浓度边界条件的情况，浓度分布为\n$$\nc(x,t) = c_{\\infty} \\, \\mathrm{erfc}\\!\\left(\\frac{x}{2\\sqrt{D t}}\\right),\n$$\n导致（朝向界面的）表面摩尔通量为\n$$\nJ(t) = -D \\left.\\frac{\\partial c}{\\partial x}\\right|_{x=0} = \\frac{c_{\\infty}}{\\sqrt{\\pi}} \\sqrt{\\frac{D}{t}} \\propto t^{-1/2}.\n$$\n根据 Faraday 电解定律，寄生电流密度为 $i(t) = n F J(t)$，其中 $n$ 是每摩尔物质涉及的电子数，$F$ 是 Faraday 常数。因此 $i(t) \\propto t^{-1/2}$，截至时间 $t$ 累积的寄生电荷（容量）损失为\n$$\nQ_{\\mathrm{loss}}(t) = \\int_0^t i(\\tau) \\, d\\tau = A \\int_0^t \\tau^{-1/2} d\\tau = 2A \\sqrt{t} + \\text{constant},\n$$\n其中 $A$ 集合了 $n F$、$c_{\\infty}$、$D$ 和几何因子。考虑到由于化成过程和任何早期瞬态过程造成的初始偏移量，与时间平方根增长一致的最简参数模型因此是\n$$\nQ_{\\mathrm{loss}}(t) = b + \\alpha \\sqrt{t},\n$$\n其中 $\\alpha$（单位为 $\\mathrm{mAh}\\,\\mathrm{h}^{-1/2}$）代表了有效的扩散控制速率，$b$（单位为 $\\mathrm{mAh}$）吸收了 $t=0$ 时的初始损失。\n\n对于参数校准，定义 $x_i = \\sqrt{t_i}$ 和 $y_i = Q_i$，得到线性模型\n$$\ny_i = b + \\alpha x_i + \\varepsilon_i,\n$$\n其中残差为 $\\varepsilon_i$。普通最小二乘估计通过最小化 $\\sum_i \\varepsilon_i^2$ 得到，并由简单线性回归的正规方程给出：\n$$\n\\alpha = \\frac{\\sum_i (x_i - \\bar{x})(y_i - \\bar{y})}{\\sum_i (x_i - \\bar{x})^2}, \\quad b = \\bar{y} - \\alpha \\bar{x},\n$$\n其中 $\\bar{x}$ 和 $\\bar{y}$ 分别是 $x_i$ 和 $y_i$ 的样本均值。这种线性化是基于扩散的模型所蕴含的代数变换。\n\n在循环过程中的预测需要一个日历时间映射。设每次循环经过的时间为 $t_{\\mathrm{cycle}}$ 小时，循环次数为 $N=100$，则日历时间范围为\n$$\nT = N \\, t_{\\mathrm{cycle}}.\n$$\n模型预测\n$$\nQ_{\\mathrm{pred}} = Q_{\\mathrm{loss}}(T) = b + \\alpha \\sqrt{T},\n$$\n以 $\\mathrm{mAh}$ 为单位报告。虽然标称容量 $Q_{\\mathrm{nom}}$ 是为物理背景和合理性检查而提供的，但要求的输出是校准后的 $\\alpha$、$b$ 和 $Q_{\\mathrm{pred}}$。\n\n每个测试案例的算法步骤：\n1. 取所提供的时间 $t_i$ (小时) 和损失 $Q_i$ (mAh)。\n2. 计算 $x_i = \\sqrt{t_i}$ 和 $y_i = Q_i$。\n3. 计算 $\\bar{x}$ 和 $\\bar{y}$，然后使用上述最小二乘公式评估 $\\alpha$ 和 $b$。只要不是所有的 $t_i$ 都相同，这个问题就是良置的；测试套件包含了变化的时间，并有一个包含 $t=0$ 的明确边界案例。\n4. 计算 $T = 100 \\, t_{\\mathrm{cycle}}$ (小时)。\n5. 预测 $Q_{\\mathrm{pred}} = b + \\alpha \\sqrt{T}$ (mAh)。\n6. 将 $\\alpha$、$b$ 和 $Q_{\\mathrm{pred}}$ 四舍五入到三位小数，并以列表 $[\\alpha, b, Q_{\\mathrm{pred}}]$ 的形式输出它们。\n7. 将所有案例的结果汇总成一个 Python 风格的列表的列表，打印在单行上，例如 $[[\\alpha_1,b_1,Q_{\\mathrm{pred},1}], [\\alpha_2,b_2,Q_{\\mathrm{pred},2}], [\\alpha_3,b_3,Q_{\\mathrm{pred},3}], [\\alpha_4,b_4,Q_{\\mathrm{pred},4}]]$。\n\n科学真实性和边缘案例：\n- 时间平方根依赖性源于半无限扩散，是扩散限制生长的一个标准的、经过充分检验的极限行为，确保了真实性。\n- 案例 D 包含 $t=0$，用于测试对边界条件的处理，并确保回归能够处理精确的截距。\n- 案例 C 包含适度的噪声，以测试最小二乘法的稳健性。\n- 预测的衰减与标称容量相比很小，这与实际系统中早期循环老化的现象一致。\n\n本解决方案将控制输运定律与电化学电荷平衡相结合，以证明模型的合理性，然后应用标准线性回归来校准参数并以指定单位计算预测值。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef calibrate_alpha_b(t_hours, q_mAh):\n    \"\"\"\n    Fit Q_loss(t) = b + alpha * sqrt(t) by ordinary least squares.\n    Parameters:\n        t_hours: array-like of times in hours\n        q_mAh: array-like of measured cumulative lost capacities in mAh\n    Returns:\n        alpha (mAh h^{-1/2}), b (mAh)\n    \"\"\"\n    t = np.asarray(t_hours, dtype=float)\n    q = np.asarray(q_mAh, dtype=float)\n    x = np.sqrt(t)  # Predictor\n    y = q           # Response\n\n    x_mean = x.mean()\n    y_mean = y.mean()\n    denom = np.sum((x - x_mean) ** 2)\n    if denom == 0.0:\n        # Degenerate case (all times identical) - not expected in the provided test suite.\n        # Fall back to zero slope and intercept at mean.\n        alpha = 0.0\n        b = float(y_mean)\n    else:\n        cov = np.sum((x - x_mean) * (y - y_mean))\n        alpha = cov / denom\n        b = y_mean - alpha * x_mean\n    return alpha, b\n\ndef predict_fade(alpha, b, n_cycles, t_cycle_hours):\n    \"\"\"\n    Predict cumulative lost capacity after n_cycles, given per-cycle elapsed time.\n    Q_pred(T) = b + alpha * sqrt(T), where T = n_cycles * t_cycle_hours.\n    \"\"\"\n    T = n_cycles * t_cycle_hours\n    return b + alpha * np.sqrt(T)\n\ndef solve():\n    # Define the test cases from the problem statement.\n    # Each case: (times_hours_list, losses_mAh_list, Q_nom_mAh, t_cycle_hours)\n    test_cases = [\n        ([9, 100, 400], [4.5, 15.0, 30.0], 3000.0, 1.0),        # Case A\n        ([9, 25, 49],   [5.6, 8.0, 10.4],  3000.0, 0.5),        # Case B\n        ([24, 168, 720],[4.92, 11.17, 22.77], 2500.0, 2.0),     # Case C (noisy)\n        ([0, 1, 4, 9],  [0.0, 1.6, 3.2, 4.8], 1000.0, 0.75),    # Case D (includes t=0)\n    ]\n\n    n_cycles = 100  # Fixed as per problem statement\n\n    results = []\n    for times, losses, q_nom, t_cycle in test_cases:\n        alpha, b = calibrate_alpha_b(times, losses)\n        q_pred = predict_fade(alpha, b, n_cycles, t_cycle)\n        # Round to three decimal places as required\n        alpha_r = round(float(alpha), 3)\n        b_r = round(float(b), 3)\n        q_pred_r = round(float(q_pred), 3)\n        results.append([alpha_r, b_r, q_pred_r])\n\n    # Final print statement in the exact required format.\n    print(results)\n\nif __name__ == \"__main__\":\n    solve()\n```"
        }
    ]
}