## 引言
精确量化人体运动对于理解其功能、诊断病理以及优化性能至关重要。传统上，这项任务依赖于昂贵且空间受限的光学运动捕捉系统。然而，微[机电系统](@entry_id:264947)（MEMS）技术的飞速发展催生了小型、低成本的[惯性传感](@entry_id:202259)器，使得在真实世界环境中进行复杂运动分析成为可能。尽管潜力巨大，但从充满噪声和偏差的原始传感器信号中提取出准确、可靠的运动学信息，是一个充满挑战的科学与工程问题。这构成了从原始数据到有意义的生物力学洞见之间的核心知识鸿沟。

本文旨在系统性地填补这一鸿沟，为读者提供一个从底层原理到前沿应用的完整知识框架。我们将通过三个核心章节，引领您深入探索[惯性传感](@entry_id:202259)器运动分析的世界：

-   **第一章：原理与机制**，将奠定理论基础，深入剖析描述刚体运动的数学工具、[惯性传感](@entry_id:202259)器的工作原理、关键的误差模型，以及用于实现精确状态估计的捷联积分与高级[传感器融合](@entry_id:263414)算法（如扩展卡尔曼滤波）。

-   **第二章：应用与跨学科连接**，将理论付诸实践，展示[惯性传感](@entry_id:202259)器技术如何在核心生物力学问题（如步态分析、[多体动力学](@entry_id:1128293)）中发挥作用，讨论[软组织伪影](@entry_id:1131864)等实际挑战，并探索其在[数字孪生](@entry_id:171650)、[数字健康](@entry_id:919592)和[预防医学](@entry_id:923794)等交叉领域的创新应用。

-   **第三章：动手实践**，将提供一系列精心设计的编程练习，帮助您将理论知识转化为解决实际问题的能力，例如实现磁力计校准和设计鲁棒的姿态估计算法。

现在，让我们从构建这一知识体系的基石开始，深入探究基于[惯性传感](@entry_id:202259)器进行运动分析的核心科学原理与底层机制。

## 原理与机制

本章深入探讨了基于[惯性传感](@entry_id:202259)器进行运动分析的核心科学原理与底层机制。我们将从描述刚体运动的数学基础出发，剖析[惯性测量单元](@entry_id:1126479)（IMU）中各传感器的基本工作原理，进而建立符合物理现实的传感器误差模型，并最终介绍用于融合多源信息、获取精确运动状态估计的高级算法。本章旨在为读者构建一个从理论到实践的完整知识框架。

### [刚体运动学](@entry_id:203362)与传感器基本原理

精确描述运动是进行分析的前提。在生物力学中，我们将人[体节](@entry_id:187163)段近似为[刚体](@entry_id:1131033)，其空间位姿（位置和姿态）的变化构成了我们关注的运动学。[惯性传感](@entry_id:202259)器正是测量这些运动学量的关键工具。

#### 坐标系与[刚体变换](@entry_id:150396)

为了用数学语言描述运动，我们必须建立参考坐标系。在惯性运动分析中，通常涉及至少三个关键的坐标系：

1.  **世界坐标系 (World Frame, $w$)**: 也称为[惯性系](@entry_id:266190)或导航系。它是一个固定的参考系，例如实验室的地面。物体的全局位置和姿态在此坐标系下定义。

2.  **身体坐标系 (Body Frame, $b$)**: 固定在所研究的[刚体](@entry_id:1131033)（如人体的小腿或大腿节段）上的坐标系。它随[刚体](@entry_id:1131033)一同运动。

3.  **传感器坐标系 (Sensor Frame, $s$)**: 固定在惯性测量单元（IMU）设备外壳上的坐标系。理想情况下，它与身体坐标系重合或具有一个固定的相对位姿。

一个[刚体](@entry_id:1131033)的完整运动可以分解为平移和旋转。相应地，一个在某个坐标系下表示的向量，可以通过[旋转和平移](@entry_id:175994)变换到另一个坐标系下。设从身体坐标系 $b$ 到世界坐标系 $w$ 的变换由一个[旋转矩阵](@entry_id:140302) $R_{wb} \in \mathrm{SO}(3)$ 和一个平移向量 $p_w \in \mathbb{R}^3$ 定义，其中 $R_{wb}$ 将在 $b$ 系下表示的[坐标旋转](@entry_id:164444)到 $w$ 系，而 $p_w$ 是 $b$ 系原点在 $w$ 系下的位置向量。

考虑这样一个场景：一个点 $P$ 在传感器坐标系 $s$ 下的坐标为 $v_s$。我们希望求出该点在世界坐标系 $w$ 下的坐标 $x_w$。这需要进行一系列[坐标变换](@entry_id:172727) 。首先，我们需要将点 $P$ 的坐标从传感器系 $s$ 变换到身体坐标系 $b$。设从 $s$ 系到 $b$ 系的旋转为 $R_{bs}$，平移（即 $s$ 系原点在 $b$ 系下的位置）为 $p_b^s$。点 $P$ 在 $b$ 系下的坐标 $x_b$ 为：
$$
x_b = R_{bs} v_s + p_b^s
$$
这里，$R_{bs} v_s$ 是将向量 $v_s$ 从 $s$ 系旋转到 $b$ 系，然后加上平移向量 $p_b^s$。

接下来，我们将得到的 $b$ 系坐标 $x_b$ 变换到[世界坐标系](@entry_id:171029) $w$。利用从 $b$ 系到 $w$ 系的变换关系，我们得到：
$$
x_w = R_{wb} x_b + p_w
$$
将 $x_b$ 的表达式代入，即可得到最终的变换公式：
$$
x_w = R_{wb} (R_{bs} v_s + p_b^s) + p_w
$$
利用[矩阵乘法](@entry_id:156035)的[分配律](@entry_id:144084)，上式也可以展开为：
$$
x_w = R_{wb} R_{bs} v_s + R_{wb} p_b^s + p_w
$$
这个过程清晰地展示了如何通过连续的[旋转和平移](@entry_id:175994)操作，在不同坐标系之间传递运动学信息。这是所有惯性导航算法的基础。

#### [陀螺仪](@entry_id:172950)：测量角速度

陀螺仪测量的是身体坐标系 $b$ 相对于[惯性系](@entry_id:266190) $w$ 的**[角速度](@entry_id:192539)**，并以其自身所在的身体坐标系 $b$ 作为参考来表示这个[角速度](@entry_id:192539)向量，记为 $\omega_b(t)$。这个物理量与[刚体](@entry_id:1131033)姿态的变化率直接相关。

姿态可以用一个时间相关的[旋转矩阵](@entry_id:140302) $R_{ib}(t)$ 来表示，它将向量从身体坐标系 $b$ 变换到[惯性系](@entry_id:266190) $i$。这个[旋转矩阵](@entry_id:140302)的时间导数与[角速度](@entry_id:192539) $\omega_b(t)$ 的关系构成了[刚体](@entry_id:1131033)[旋转运动学](@entry_id:167851)的基本方程：
$$
\dot{R}_{ib}(t) = R_{ib}(t) [\omega_b(t)]_{\times}
$$
其中 $[\cdot]_{\times}$ 是一个将三维向量转换为三维[反对称矩阵](@entry_id:155998)的算子，即对于任意向量 $u, v \in \mathbb{R}^3$，有 $[u]_{\times}v = u \times v$。

这个关系揭示了[陀螺仪](@entry_id:172950)测量的核心意义：$\omega_b(t)$ 驱动了姿态矩阵 $R_{ib}(t)$ 的变化。反过来，这个关系也引出了一个重要的运动学定理，即**[输运定理](@entry_id:176504) (Transport Theorem)**。考虑一个在[惯性系](@entry_id:266190) $i$ 中固定的向量 $v_i$（即 $\dot{v}_i = 0$）。它在身体坐标系 $b$ 中的表示为 $v_b(t) = R_{bi}(t) v_i$，其中 $R_{bi} = R_{ib}^{\top}$。通过对 $v_b(t)$ 求导，我们可以看到它在[旋转参考系](@entry_id:174154)中的变化规律 ：
$$
\dot{v}_b(t) = \dot{R}_{bi}(t) v_i = (\dot{R}_{ib}(t)^{\top}) v_i = (R_{ib}(t) [\omega_b(t)]_{\times})^{\top} v_i = -[\omega_b(t)]_{\times} R_{bi}(t) v_i = -[\omega_b(t)]_{\times} v_b(t)
$$
利用叉乘的[反对称性](@entry_id:261893)（$a \times b = -b \times a$），我们得到最终形式：
$$
\dot{v}_b(t) = v_b(t) \times \omega_b(t)
$$
这个公式表明，一个[惯性系](@entry_id:266190)下的固定向量，在旋转的身体坐标系中看来，其变化率等于该向量与身[体角速度](@entry_id:1121729)的[叉积](@entry_id:156672)。这一定理在后续的卡尔曼滤波器等高级算法的推导中至关重要。

#### 加速度计：测量比力

与陀螺仪相比，加速度计的测量原理更为微妙，也更容易被误解。一个常见的误区是认为加速度计直接测量物体的[坐标加速度](@entry_id:264260)。实际上，加速度计测量的是**比力 (Specific Force)**，也称为**[固有加速度](@entry_id:184489) (Proper Acceleration)**。

为了理解这一点，我们可以将加速度计内部简化为一个带有质量块（proof mass）的弹簧系统。根据[牛顿第二定律](@entry_id:274217)，作用在质量块上的总力 $F_{total}$ 等于其质量 $m$ 与其在[惯性系](@entry_id:266190)下的[坐标加速度](@entry_id:264260) $a_{coord}$ 的乘积。总力由两部分组成：[引力](@entry_id:189550) $F_g = m g$ 和所有非[引力](@entry_id:189550)（例如来自弹簧的接触力）$F_{ng}$。因此：
$$
m a_{coord} = F_g + F_{ng} = m g + F_{ng}
$$
加速度计的设计原理是测量并输出支撑质量块所需的非[引力](@entry_id:189550)[接触力](@entry_id:165079)，并将其除以质量块的质量。这个输出就是比力 $f$：
$$
f \equiv \frac{F_{ng}}{m}
$$
结合以上两式，我们得到加速度计测量的基本方程 ：
$$
f = a_{coord} - g
$$
这个方程是理解所有基于加速度计的应用的基石。它明确指出，加速度计的读数是物体的**[坐标加速度](@entry_id:264260)**与**[引力场](@entry_id:169425)加速度**之差。换言之，它测量的是相对于一个局部自由落体参考系的加速度。

这个原理有两个重要的推论：
1.  当一个物体静止在地球表面时，其[坐标加速度](@entry_id:264260) $a_{coord} = 0$。此时，加速度计的读数为 $f = 0 - g = -g$。这意味着它会测量到一个方向指天、大小约为 $9.8 \, \mathrm{m/s^2}$ 的加速度。正是这个特性使得加速度计可以被用作倾角传感器。
2.  当一个物体处于自由落体状态时（忽略空气阻力），其[坐标加速度](@entry_id:264260)等于[引力](@entry_id:189550)加速度，即 $a_{coord} = g$。此时，加速度计的读数为 $f = g - g = 0$。这完美印证了爱因斯坦的[等效原理](@entry_id:157518)：在自由下落的电梯里，你是感觉不到自己体重的。这也是为什么宇航员在轨道上会经历“失重”状态。

### 传感器不完美性：误差模型

真实的MEMS（微[机电系统](@entry_id:264947)）传感器远非理想，其输出总是伴随着各种误差。为了在实际应用中获得可靠的结果，我们必须对这些误差进行精确的[数学建模](@entry_id:262517)和补偿。一个典型的线性误差模型通常包括偏置、比例因子、轴间非正交/串扰以及噪声。

#### 加速度计误差模型

一个经过校准的加速度计输出的应该是身体坐标系下的真实比力 $f_b$。然而，原始测量值会受到多种误差源的污染。我们可以通过一个综合的[线性模型](@entry_id:178302)来描述这个过程 。

首先，传感器的物理轴（传感器坐标系）与我们定义的身体坐标系之间可能存在一个小的**安装误差**或**轴间[非正交性](@entry_id:192553)**。这可以通过一个[变换矩阵](@entry_id:151616) $M_a$ 来建模，它将真实的比力从身体坐标系 $f_b$ 变换到传感器坐标系。

其次，在传感器坐标系下，每个轴的灵敏度（**比例因子**）不完全是1，并且一个轴向的加速度可能会在其他轴上产生不希望的输出（**轴间[串扰](@entry_id:136295)**）。这些效应可以统一用一个接近[单位矩阵](@entry_id:156724)的矩阵 $(I + S_a)$ 来描述，其中 $S_a$ 的对角线元素是比例因子误差，非对角[线元](@entry_id:196833)素是串扰系数。

最后，传感器还存在一个与输入无关的**偏置 (Bias)** $b_a$，它是一个会随温度和时间缓慢变化的[直流偏移](@entry_id:271748)量。此外，还存在一个高频的随机**噪声 (Noise)** $n_a$。

将这些误差源按其物理作用顺序组合起来，我们得到加速度计的综合测量模型：
$$
f_m = (I + S_a) M_a f_b + b_a + n_a
$$
其中 $f_m$ 是传感器的最终测量输出。这个模型是传感器标定的基础：通过设计特定的实验，我们可以辨识出模型中的参数（$M_a, S_a, b_a$），从而从原始测量值 $f_m$ 中反解出更精确的真实比力 $f_b$。

#### [陀螺仪](@entry_id:172950)误差模型

与加速度计类似，陀螺仪的测量也受到相同类型的误差影响。我们可以建立一个完全相似的误差模型 。设身体坐标系下的真实[角速度](@entry_id:192539)为 $\omega_b$，[陀螺仪](@entry_id:172950)的测量输出为 $\omega_m$。其误差模型可以写为：
$$
\omega_m = (I + S_\omega) M_\omega \omega_b + b_\omega + n_\omega
$$
各参数的物理意义如下：
-   $\omega_b$: 身体坐标系下的真实角速度。
-   $M_\omega$: 从身体坐标系到[陀螺仪](@entry_id:172950)传感器坐标系的**安装误差**与**轴间[非正交性](@entry_id:192553)**矩阵。
-   $S_\omega$: 陀螺仪的**比例因子误差**和**轴间串扰**矩阵。
-   $b_\omega$: [陀螺仪](@entry_id:172950)的加性**偏置**，它在传感器静止时仍会产生非零输出，是姿态积分漂移的主要来源。
-   $n_\omega$: 加性随机**噪声**。

这个模型同样构成了陀螺仪标定算法的理论基础。

#### 磁力计误差模型

磁力计通过测量当地的地球磁场向量来提供一个绝对的航向参考，从而辅助[陀螺仪](@entry_id:172950)抑制航向角的长期漂移。然而，磁力计的测量极易受到其周围环境中[铁磁性](@entry_id:137256)物质的干扰。这些干扰主要分为两类 ：

1.  **硬铁效应 (Hard-iron effects)**: 由设备上的[永磁体](@entry_id:189081)（如磁铁、扬声器）或被磁化的铁质元件产生。它们会产生一个**恒定**的附加磁场，不随设备姿态的改变而改变（在传感器坐标系看来）。这种效应可以建模为一个加性**偏置向量** $b_m$。

2.  **软铁效应 (Soft-iron effects)**: 由设备周围的[软磁材料](@entry_id:159225)（如铁、镍）在地球磁场中被感应磁化而产生。它们产生的附加磁场与当前设备所处的外部磁场方向**相关**。在准静态、线性、无[磁滞](@entry_id:145766)的假设下，这种效应可以建模为一个**[线性变换矩阵](@entry_id:186379)** $A$。

综合这两种效应，并考虑[加性噪声](@entry_id:194447) $n_m$，磁力计的测量模型可以写为：
$$
m_m = A m_b + b_m + n_m
$$
其中 $m_b$ 是身体坐标系下无干扰的真实地磁场向量，而 $m_m$ 是磁力计的测量输出。

根据电磁学中的**互易性原理**和**[磁场能量](@entry_id:267501)储存为正**的物理约束，可以证明软铁矩阵 $A$ 必须是一个**对称正定 (Symmetric Positive-Definite, SPD)** 矩阵。

这个模型具有清晰的几何解释：在旋转过程中，真实的地磁场向量 $m_b$ 的尖端会扫出一个以原点为中心的球面。经过硬铁偏置 $b_m$ 的平移和软铁矩阵 $A$ 的线性畸变（拉伸和剪切）后，测量值 $m_m$ 的尖端将扫出一个以 $b_m$ 为中心、形状和姿态由 $A$ 决定的**[椭球体](@entry_id:165811)**。磁力计标定的目标就是通过采集足够多的数据点，拟合出这个[椭球体](@entry_id:165811)的参数 $A$ 和 $b_m$，从而建立从测量值到真实值的逆向映射。

### 从测量到运动：积分与估计

拥有了传感器的基本原理和误差模型后，我们的最终目标是将这些离散的、带噪声的测量值转换成对物体连续运动状态（如姿态和位置）的可靠估计。这个过程涉及积分运算和[传感器融合](@entry_id:263414)算法。

#### 捷联积分与漂移问题

估计姿态最直接的方法是**捷联积分 (Strapdown Integration)**。该方法将[陀螺仪](@entry_id:172950)在每个采样间隔内测得的[角速度](@entry_id:192539)进行积分，以连续更新姿态。姿态更新的现代数学形式是基于[李群](@entry_id:137659)理论的[指数映射](@entry_id:137184) 。

假设在一个采样间隔 $\Delta t$ 内，测得的角速度 $\omega_{b,k}$ 为常数，则该时间段内的姿态变化可以表示为一个小的旋转。从上一时刻的姿态估计 $\hat{R}_k$ 更新到当前时刻 $\hat{R}_{k+1}$ 的公式为：
$$
\hat{R}_{k+1} = \hat{R}_k \exp([\Delta t \cdot \omega_{b,k}]_{\times})
$$
其中 $\exp(\cdot)$ 是矩阵指数函数，它将一个表示旋转轴和角度的[反对称矩阵](@entry_id:155998)映射到一个[旋转矩阵](@entry_id:140302)。

然而，这个积分过程对陀螺仪的误差极其敏感，尤其是**偏置**。考虑一个静止的物体（真实角速度 $\omega_b=0$），但陀螺仪存在一个恒定的偏置 $b$。此时，算法将错误地使用 $\omega_{b,k} = b$ 进行积分。经过时间 $T$ 后，累积的姿态误差角的大小将线性增长 ：
$$
|\theta_{err}| = \|T \cdot b\| = T \|b\|
$$
这意味着，即使是一个微小的[陀螺仪](@entry_id:172950)偏置，也会随着时间的推移导致姿态估计发生显著的、无休止的**漂移 (Drift)**。

#### 航位推算与重力误差

类似地，我们可以通过对加速度计的测量值进行两次积分来估计位置，这个过程称为**航位推算 (Dead Reckoning)**。首先，我们需要从加速度计的比力测量 $f_b$ 中恢复[坐标加速度](@entry_id:264260) $a_W$。这需要利用当前的姿态估计 $\hat{R}_{WB}$（从身体坐标系到[世界坐标系](@entry_id:171029)）将比力旋转到[世界坐标系](@entry_id:171029)，并加上[引力](@entry_id:189550)向量 $g_W$：
$$
\hat{a}_W = \hat{R}_{WB} f_b + g_W
$$
然后对 $\hat{a}_W$ 进行两次积分得到速度和位置。这个过程同样存在严重的漂移问题，其根源甚至比陀螺仪积分更为致命。

一个关键的误差来源是姿态估计的误差。考虑一个静止的物体，但我们的姿态估计存在一个微小的、恒定的俯仰角误差 $\theta$。这意味着我们用来补偿重力的 $\hat{R}_{WB}$ 是错误的。结果，巨大的重力向量 $g_W$ 的一小部分会被错误地投影到水平方向上，产生一个虚假的水平加速度偏置 。

这个恒定的加速度误差 $b_a$ 经过第一次积分后，会产生一个线性增长的速度误差 $v_{err}(T) = b_a T$。经过第二次积分后，将导致一个二次方增长的位置误差：
$$
p_{err}(T) = \frac{1}{2} b_a T^2
$$
例如，仅 $0.2$ 度的姿态误差，在 30 秒内就足以造成超过 15 米的位置漂移 。这种误差的快速增长特性决定了纯惯性航位推算只能在非常短的时间内（通常是几秒钟）保持可接受的精度。

#### [传感器融合](@entry_id:263414)：互补滤波

为了克服积分漂移，我们必须引入其他类型的传感器来提供绝对的参考信息，对漂移进行校正。这就是**[传感器融合](@entry_id:263414) (Sensor Fusion)**。加速度计（在准静态下）和磁力计分别可以提供竖直方向（重力）和水平方向（地磁北）的绝对参考。

**互补滤波器 (Complementary Filter)** 是一种简单而高效的融合算法，尤其适用于姿态估计。其核心思想是利用不同传感器在频域上的互补特性 。
-   **[陀螺仪](@entry_id:172950)**的积分在短时间内非常精确，能够捕捉高频的运动细节，但会因偏置而产生低频漂移。
-   **加速度计**在低频或静态条件下能提供准确的倾斜角（俯仰和横滚）信息，但在高频动态下，其输出会混入真实的身体运动加速度，使其作为倾角传感器的性能下降。

互补滤波器巧妙地将这两个信息源结合起来：它通过一个**[高通滤波器](@entry_id:274953)**提取[陀螺仪](@entry_id:172950)积分姿态中的高频成分，同时通过一个**低通滤波器**提取加速度计计算姿态中的低频成分，然后将两者相加。
$$
\hat{\Theta}(s) = H_{HP}(s) \left( \frac{\Omega_{gyro}(s)}{s} \right) + H_{LP}(s) \Theta_{accel}(s)
$$
其中 $H_{HP}(s) + H_{LP}(s) = 1$。这种结构确保了对真实角度的响应在所有频率上都是统一的，同时有效地抑制了陀螺仪的低频漂移和加速度计的高频噪声。

通过分析两种传感器的噪声特性（功率谱密度分别为 $S_\omega$ 和 $S_a$），可以找到一个最优的滤波器截止频率 $\omega_c$，使得最终的姿态估计[误差最小化](@entry_id:163081)。这个最优[截止频率](@entry_id:276383)为 ：
$$
\omega_c^{\star} = \sqrt{\frac{S_\omega}{S_a}}
$$
这个结果直观地表明：如果[陀螺仪](@entry_id:172950)噪声较大（$S_\omega$ 高），我们应该降低截止频率，更多地信任加速度计；反之亦然。

#### 状态估计：扩展卡尔曼滤波

**扩展卡尔曼滤波器 (Extended Kalman Filter, EKF)** 是一个更为强大和通用的[传感器融合](@entry_id:263414)框架。它是一个[基于模型的估计](@entry_id:1128001)算法，能够处理非线性系统，并能同时估计系统的状态（如姿态和位置）以及传感器自身的参数（如偏置）。

在姿态估计问题中，EKF通常采用**误差状态 (Error-state)** 的形式。它不直接估计姿态本身，而是估计名义姿态（通过[陀螺仪](@entry_id:172950)积分得到）与真实姿态之间的微小误差。这种方法的优势在于误差状态通常可以被线性化，并且避免了直接对姿态（一个非欧几里得流形上的量）进行操作的复杂性。

一个典型的姿态估计EKF的状态向量 $x$ 包括姿态误差 $\delta\theta$ 和陀螺仪偏置误差 $\delta b_\omega$。EKF的算法流程分为两步：
1.  **预测 (Prediction)**：使用[陀螺仪](@entry_id:172950)的测量值和上一时刻的偏置估计来向前积分，得到当前时刻的名义姿态，并预测误差状态的协方差。
2.  **更新 (Update)**：当有来自加速度计或磁力计的绝对测量时，计算预测的测量值与实际测量值之间的差异（新息），并用这个差异来校正误差状态的估计。校正后的误差状态再用于修正名义状态，从而得到更精确的最终状态估计。

更新步骤的核心是**测量[雅可比矩阵](@entry_id:178326) (Measurement Jacobian, $H$)**。它将微小的状态误差与测量值的变化线性地联系起来。例如，在使用加速度计测量值（假定为纯重力）来校正姿态时，测量函数为 $h(q) = R(q)^\top g_{inertial}$，即预测的身体坐标系下的重力向量。我们需要计算 $h(q)$ 相对于误差状态向量 $\delta x_k = [\delta\theta_k^\top, \delta b_{\omega,k}^\top]^\top$ 的导数 。

经过推导，这个[雅可比矩阵](@entry_id:178326)具有一个非常简洁的形式：
$$
H_k = \begin{pmatrix} [R(\hat{q}_k)^{\top} g]_\\times & 0_{3 \times 3} \end{pmatrix}
$$
这个矩阵的结构揭示了深刻的物理含义：
-   左边的 $3 \times 3$ 子矩阵 $[R(\hat{q}_k)^{\top} g]_\times$ 描述了姿态误差 $\delta\theta$ 如何导致预测的重力向量发生变化（具体来说，是一个叉乘关系）。这个叉积表明，当姿态误差轴与重力向量不平行时，测量更新最有效。
-   右边的 $3 \times 3$ [零矩阵](@entry_id:155836)表明，加速度计的测量值与[陀螺仪](@entry_id:172950)的偏置 $b_\omega$ 没有直接关系。这意味着仅凭一次加速度计测量无法直接校正陀螺仪偏置，但通过连续的EKF迭代，滤波器能够通过观察姿态校正量的变化趋势，间接地估计出偏置的大小。

通过这一系列精巧的数学工具，EKF能够最优地融合多传感器信息，在线估计并补偿传感器偏置，从而提供远比单一传感器或简单滤波器更稳定、更精确的运动状态估计。