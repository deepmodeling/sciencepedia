{
    "hands_on_practices": [
        {
            "introduction": "在生物力学中，我们经常将人体建模为一系列相连的刚性节段。为了分析远端节段（如足部）绕近端关节（如膝关节）的旋转，我们需要知道其相对于该关节轴的转动惯量。这个练习将通过推导并应用平行轴定理来解决这个问题，这是转换转动惯量参考轴的一个基本工具。",
            "id": "4208918",
            "problem": "考虑在深蹲姿势下对人体足部节段进行的矢状面分析，该足部节段被建模为刚体，其中足部的质心（COM）与膝关节屈曲轴的垂直距离为 $d=0.12\\ \\text{m}$。足部节段的质量为 $m_{f}=1.10\\ \\text{kg}$，其绕过质心且平行于膝关节屈曲轴的转动惯量为 $I_{C}=3.20\\times 10^{-3}\\ \\text{kg}\\cdot\\text{m}^{2}$。仅使用角动量、力矩和刚体转动惯量的基本定义，推导足部节段绕膝关节屈曲轴的转动惯量的表达式（用 $I_{C}$、$m_{f}$ 和 $d$ 表示），然后根据给定数据进行数值计算。最终的转动惯量以 $\\text{kg}\\cdot\\text{m}^{2}$ 为单位表示，并将答案四舍五入到四位有效数字。",
            "solution": "该问题陈述具有科学依据，提法恰当，客观，并为应用于生物力学的经典力学标准问题提供了一套完整且一致的数据。所有给定值在物理上都是现实的。该问题要求从基本原理推导一个已知的物理定理，这是一项有效且具有指导意义的任务。因此，该问题是有效的，并将提供解答。\n\n目标是求出足部节段绕膝关节屈曲轴的转动惯量 $I_K$。题目要求我们使用基本定义推导 $I_K$ 与绕足部质心的转动惯量 $I_C$ 之间的关系表达式。转动惯量 $I$ 是物体对角加速度的抵抗能力的度量。对于绕固定轴旋转的刚体，它是旋转动能 $K_{rot} = \\frac{1}{2}I\\omega^2$、角动量 $L=I\\omega$ 和力矩 $\\tau=I\\alpha$ 关系式中的比例常数，其中 $\\omega$ 是角速度，$\\alpha$ 是角加速度。我们将使用能量原理来推导所需的关系。\n\n设膝关节屈曲轴为一个固定的旋转轴，我们将其指定为轴 $K$。足部节段是绕此轴以角速度 $\\omega$ 旋转的刚体。足部节段的动能由下式给出：\n$$\nK = \\frac{1}{2}I_K \\omega^2\n$$\n其中 $I_K$ 是我们希望确定的绕膝关节屈曲轴的转动惯量。\n\n根据柯尼希定理（Koenig's theorem）（也称为动能的平行轴定理），刚体的总动能可以表示为其质心（COM）的平移动能与绕过其质心的轴的转动动能之和。\n$$\nK = K_{trans, COM} + K_{rot, COM}\n$$\n质心的平移动能由下式给出：\n$$\nK_{trans, COM} = \\frac{1}{2}m_f v_C^2\n$$\n其中 $m_f$ 是足部节段的质量，$v_C$ 是其质心的线速度。由于足部节段绕膝关节轴旋转，其质心绕该轴以半径为 $d$ 的圆周运动。质心的线速度与角速度 $\\omega$ 的关系为 $v_C = d\\omega$。将此代入平移动能的表达式中得到：\n$$\nK_{trans, COM} = \\frac{1}{2}m_f (d\\omega)^2 = \\frac{1}{2}m_f d^2 \\omega^2\n$$\n足部节段绕过其质心的平行轴的转动动能由下式给出：\n$$\nK_{rot, COM} = \\frac{1}{2}I_C \\omega^2\n$$\n其中 $I_C$ 是绕质心且平行于膝关节屈曲轴的转动惯量。对于平面运动中的刚体，绕质心旋转的角速度 $\\omega$ 与绕膝关节轴旋转的角速度相同。\n\n将这两个能量分量相加，得到总动能：\n$$\nK = \\frac{1}{2}m_f d^2 \\omega^2 + \\frac{1}{2}I_C \\omega^2\n$$\n提取公因式，我们得到：\n$$\nK = \\frac{1}{2}(I_C + m_f d^2)\\omega^2\n$$\n通过令总动能 $K$ 的两个表达式相等，我们有：\n$$\n\\frac{1}{2}I_K \\omega^2 = \\frac{1}{2}(I_C + m_f d^2)\\omega^2\n$$\n两边同除以 $\\frac{1}{2}\\omega^2$（假设 $\\omega \\neq 0$），即可得出绕膝关节轴的转动惯量的推导表达式，即平行轴定理：\n$$\nI_K = I_C + m_f d^2\n$$\n该表达式将绕膝关节轴的转动惯量 $I_K$ 与绕过质心的平行轴的转动惯量 $I_C$、节段质量 $m_f$ 以及两轴之间的垂直距离 $d$ 联系起来。\n\n现在，我们使用给定数据对该表达式进行数值计算：\n- 绕质心的转动惯量：$I_C = 3.20 \\times 10^{-3}\\ \\text{kg}\\cdot\\text{m}^{2}$\n- 足部节段的质量：$m_f = 1.10\\ \\text{kg}$\n- 质心到膝关节轴的垂直距离：$d = 0.12\\ \\text{m}$\n\n将这些值代入推导出的公式中：\n$$\nI_K = (3.20 \\times 10^{-3}) + (1.10) \\times (0.12)^2\n$$\n首先，计算 $m_f d^2$ 项：\n$$\nm_f d^2 = 1.10\\ \\text{kg} \\times (0.12\\ \\text{m})^2 = 1.10\\ \\text{kg} \\times 0.0144\\ \\text{m}^2 = 0.01584\\ \\text{kg}\\cdot\\text{m}^{2}\n$$\n现在，将其与 $I_C$ 相加：\n$$\nI_K = 0.00320\\ \\text{kg}\\cdot\\text{m}^{2} + 0.01584\\ \\text{kg}\\cdot\\text{m}^{2} = 0.01904\\ \\text{kg}\\cdot\\text{m}^{2}\n$$\n问题要求最终答案四舍五入到四位有效数字。计算出的值 $0.01904$ 已经有四位有效数字（数字 $1, 9, 0, 4$）。\n\n因此，足部节段绕膝关节屈曲轴的转动惯量为 $0.01904\\ \\text{kg}\\cdot\\text{m}^{2}$。",
            "answer": "$$\n\\boxed{0.01904}\n$$"
        },
        {
            "introduction": "人体运动本质上是三维的，通常涉及无法通过简单二维分析捕捉的复杂旋转。本练习通过应用欧拉方程，深入探讨三维刚体动力学的核心。你将计算产生特定三维旋转所需的肌肉力矩，从而揭示当旋转同时发生在多个轴上时产生的关键陀螺力矩的作用。",
            "id": "4208924",
            "problem": "一个关于盂肱(GH)关节的上臂（肱骨）的简化生物力学模型，将肱骨和手持器械视为一个单一刚体，其主轴与解剖轴对齐：前后轴（$x$）、上下轴（$y$）和沿长轴的内外旋轴（$z$）。关于盂肱关节的惯性张量，在此主轴坐标系中表示，是恒定的，等于$\\mathbf{I}=\\mathrm{diag}(0.8, 0.6, 0.5)\\ \\text{kg}\\cdot\\text{m}^2$。在某一瞬间，该节段的角速度为$\\boldsymbol{\\omega}=(0, 5, 0)\\ \\text{rad/s}$，一个运动程序试图施加一个角加速度$\\dot{\\boldsymbol{\\omega}}=(0, 0, 10)\\ \\text{rad/s}^2$，所有量均在同一主轴坐标系中表示。忽略重力和任何外部接触力矩，因此净肩部力矩等于该节段绕盂肱关节的角动量对时间的变化率。\n\n仅使用关于定点的刚体角动量基本平衡定律以及刚体运动学，推导所需净肩部力矩矢量$\\boldsymbol{\\tau}$的控制表达式，并根据上述数据计算其值。所有角度和角速度均以弧度为单位。以牛顿-米表示最终的力矩矢量。提供精确值，不要四舍五入。以$1\\times 3$行向量的形式给出最终答案。",
            "solution": "首先对问题进行验证，以确保其科学基础扎实、提法恰当且客观。\n\n### 步骤1：提取已知条件\n- **参考坐标系**：一个附着在刚体（肱骨加器械）上的主轴坐标系，其坐标轴表示为 $x$ (前后轴), $y$ (上下轴), 和 $z$ (长轴)。\n- **惯性张量**：在主轴坐标系中表示为 $\\mathbf{I}=\\mathrm{diag}(I_{xx}, I_{yy}, I_{zz})$，其中 $I_{xx} = 0.8\\ \\mathrm{kg\\ m}^{2}$，$I_{yy} = 0.6\\ \\mathrm{kg\\ m}^{2}$，以及 $I_{zz} = 0.5\\ \\mathrm{kg\\ m}^{2}$。\n- **角速度**：在主轴坐标系中表示为 $\\boldsymbol{\\omega} = (\\omega_x, \\omega_y, \\omega_z) = (0, 5, 0)\\ \\mathrm{rad/s}$。\n- **角加速度**：在主轴坐标系中表示为 $\\dot{\\boldsymbol{\\omega}} = (\\dot{\\omega}_x, \\dot{\\omega}_y, \\dot{\\omega}_z) = (0, 0, 10)\\ \\mathrm{rad/s}^{2}$。\n- **假设**：盂肱(GH)关节是一个定点。忽略重力和外部接触力矩。\n- **控制原理**：净肩部力矩 $\\boldsymbol{\\tau}$ 等于该节段绕盂肱关节的角动量 $\\mathbf{L}$ 对时间的变化率。\n\n### 步骤2：使用提取的已知条件进行验证\n- **科学依据**：该问题基于刚体运动的Euler方程，这是经典力学的基石之一。将其应用于生物力学是这些原理的标准和有效用法。对于人体肢体动力学的简化模型，这些数值是合理的。\n- **提法适定性**：该问题提供了所有必要的数据（惯性张量、角速度、角加速度），以唯一确定所需的力矩矢量。\n- **客观性**：问题以精确的、量化的语言陈述，没有歧义或主观论断。\n\n### 步骤3：结论与行动\n该问题有效。它是刚体动力学基本原理的直接应用。将提供完整的解题过程。\n\n### 解题推导\n控制刚体绕定点转动动力学的基本原理是，在惯性参考系中测量的净外力矩 $\\boldsymbol{\\tau}$ 等于角动量 $\\mathbf{L}$ 对时间的变化率。\n$$\n\\boldsymbol{\\tau} = \\frac{d\\mathbf{L}}{dt}\n$$\n问题在固连于刚体的主轴坐标系（这是一个非惯性的旋转坐标系）中给出了矢量和惯性张量。为了计算惯性系中角动量矢量 $\\mathbf{L}$ 的时间导数，我们必须使用输运定理，该定理将惯性（固定）坐标系中的导数与旋转坐标系中的导数联系起来：\n$$\n\\frac{d\\mathbf{L}}{dt} = \\left(\\frac{d\\mathbf{L}}{dt}\\right)_{\\text{body}} + \\boldsymbol{\\omega} \\times \\mathbf{L}\n$$\n此处，$\\boldsymbol{\\omega}$ 是刚体坐标系相对于惯性坐标系的角速度。\n\n刚体坐标系中的角动量矢量 $\\mathbf{L}$ 由惯性张量 $\\mathbf{I}$ 和角速度矢量 $\\boldsymbol{\\omega}$ 的乘积给出：\n$$\n\\mathbf{L} = \\mathbf{I}\\boldsymbol{\\omega}\n$$\n将此代入 $\\boldsymbol{\\tau}$ 的输运方程：\n$$\n\\boldsymbol{\\tau} = \\left(\\frac{d(\\mathbf{I}\\boldsymbol{\\omega})}{dt}\\right)_{\\text{body}} + \\boldsymbol{\\omega} \\times (\\mathbf{I}\\boldsymbol{\\omega})\n$$\n由于惯性张量 $\\mathbf{I}$ 在固连坐标系中是恒定的，其在此坐标系中的时间导数为零。因此，第一项简化为：\n$$\n\\left(\\frac{d(\\mathbf{I}\\boldsymbol{\\omega})}{dt}\\right)_{\\text{body}} = \\mathbf{I}\\left(\\frac{d\\boldsymbol{\\omega}}{dt}\\right)_{\\text{body}} + \\left(\\frac{d\\mathbf{I}}{dt}\\right)_{\\text{body}}\\boldsymbol{\\omega} = \\mathbf{I}\\dot{\\boldsymbol{\\omega}} + \\mathbf{0}\n$$\n其中 $\\dot{\\boldsymbol{\\omega}}$ 是刚体坐标系中的角加速度，这在问题中已经给出。力矩的完整表达式，即Euler运动方程，为：\n$$\n\\boldsymbol{\\tau} = \\mathbf{I}\\dot{\\boldsymbol{\\omega}} + \\boldsymbol{\\omega} \\times (\\mathbf{I}\\boldsymbol{\\omega})\n$$\n现在我们使用给定值分别计算每一项。\n\n惯性张量为 $\\mathbf{I} = \\begin{pmatrix} 0.8 & 0 & 0 \\\\ 0 & 0.6 & 0 \\\\ 0 & 0 & 0.5 \\end{pmatrix} \\ \\mathrm{kg\\ m^2}$。\n角速度为 $\\boldsymbol{\\omega} = \\begin{pmatrix} 0 \\\\ 5 \\\\ 0 \\end{pmatrix} \\ \\mathrm{rad/s}$。\n角加速度为 $\\dot{\\boldsymbol{\\omega}} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 10 \\end{pmatrix} \\ \\mathrm{rad/s^2}$。\n\n首先，我们计算 $\\mathbf{I}\\dot{\\boldsymbol{\\omega}}$ 项：\n$$\n\\mathbf{I}\\dot{\\boldsymbol{\\omega}} = \\begin{pmatrix} 0.8 & 0 & 0 \\\\ 0 & 0.6 & 0 \\\\ 0 & 0 & 0.5 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 0 \\\\ 10 \\end{pmatrix} = \\begin{pmatrix} (0.8)(0) \\\\ (0.6)(0) \\\\ (0.5)(10) \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 5 \\end{pmatrix} \\ \\mathrm{N\\ m}\n$$\n接下来，我们计算陀螺力矩项 $\\boldsymbol{\\omega} \\times (\\mathbf{I}\\boldsymbol{\\omega})$。首先，求出 $\\mathbf{L} = \\mathbf{I}\\boldsymbol{\\omega}$：\n$$\n\\mathbf{L} = \\mathbf{I}\\boldsymbol{\\omega} = \\begin{pmatrix} 0.8 & 0 & 0 \\\\ 0 & 0.6 & 0 \\\\ 0 & 0 & 0.5 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 5 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} (0.8)(0) \\\\ (0.6)(5) \\\\ (0.5)(0) \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 3 \\\\ 0 \\end{pmatrix} \\ \\mathrm{kg\\ m^2/s}\n$$\n现在，计算叉乘 $\\boldsymbol{\\omega} \\times \\mathbf{L}$：\n$$\n\\boldsymbol{\\omega} \\times \\mathbf{L} = \\begin{pmatrix} 0 \\\\ 5 \\\\ 0 \\end{pmatrix} \\times \\begin{pmatrix} 0 \\\\ 3 \\\\ 0 \\end{pmatrix} = \\begin{vmatrix} \\mathbf{\\hat{i}} & \\mathbf{\\hat{j}} & \\mathbf{\\hat{k}} \\\\ 0 & 5 & 0 \\\\ 0 & 3 & 0 \\end{vmatrix}\n$$\n$$\n= \\mathbf{\\hat{i}}((5)(0) - (0)(3)) - \\mathbf{\\hat{j}}((0)(0) - (0)(0)) + \\mathbf{\\hat{k}}((0)(3) - (5)(0)) = \\begin{pmatrix} 0 \\\\ 0 \\\\ 0 \\end{pmatrix} \\ \\mathrm{N\\ m}\n$$\n陀螺项为零。这是一个特殊情况，发生的原因是角速度矢量 $\\boldsymbol{\\omega}$ 与刚体的一个主轴对齐。\n\n最后，总力矩 $\\boldsymbol{\\tau}$ 是这两项的和：\n$$\n\\boldsymbol{\\tau} = \\mathbf{I}\\dot{\\boldsymbol{\\omega}} + \\boldsymbol{\\omega} \\times (\\mathbf{I}\\boldsymbol{\\omega}) = \\begin{pmatrix} 0 \\\\ 0 \\\\ 5 \\end{pmatrix} + \\begin{pmatrix} 0 \\\\ 0 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 5 \\end{pmatrix} \\ \\mathrm{N\\ m}\n$$\n所需的净肩部力矩矢量为 $\\boldsymbol{\\tau} = (0,\\, 0,\\, 5)\\ \\mathrm{N\\ m}$。",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 0 & 0 & 5 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "生物力学分析的一个关键目标是理解肌肉如何产生和吸收能量以实现运动。这项计算练习通过使用关节力矩和角速度的时间序列数据（类似于您在实验室中收集的数据），将理论与实践联系起来。你将计算瞬时关节功率，以确定关节是作为马达（产生能量）还是刹车（吸收能量），并量化在行走等运动过程中的总功。",
            "id": "4208946",
            "problem": "一个下肢模型专注于水平步行中站立后期和蹬伸阶段的踝关节。给定踝关节的关节力矩采样时间序列，记为 $\\tau(t)$，单位为牛顿·米 (N·m)；以及绕同一轴线的关节角速度，记为 $\\omega(t)$，单位为弧度/秒 (rad/s)。采样间隔是恒定的，记为 $\\Delta t$，单位为秒 (s)。目标是根据第一性原理计算通过踝关节的瞬时机械能传递率（机械功率），然后进行积分，以获得在该率分别为正或负的阶段内产生和吸收的总能量。您还必须为每个测试用例确定一个分类整数，以表明在分析窗口内踝关节是净产生还是净吸收机械能。所有角度和角速度都必须以弧度处理。\n\n使用的基本原理：\n- 关节的机械功定义为关节力矩沿角位移的曲线积分。\n- 机械功率是做机械功的时间变化率。\n\n离散时间计算要求：\n- 使用采样间隔 $\\Delta t$，通过给定采样序列上的黎曼和来近似任何所需的时间积分。\n\n每个测试用例待计算的输出定义：\n- 设瞬时机械功率样本为 $\\{P(t_i)\\}$，由给定的 $\\tau(t_i)$ 和 $\\omega(t_i)$ 计算得出。\n- 计算 $\\{P(t_i)\\}$ 的最大值 $P_{\\max}$ 和最小值 $P_{\\min}$，以瓦特 (W) 为单位表示。\n- 计算总正功 $W^{+} = \\sum_{i: P(t_i) > 0} P(t_i)\\,\\Delta t$ 和总负功 $W^{-} = \\sum_{i: P(t_i) < 0} P(t_i)\\,\\Delta t$，以焦耳 (J) 为单位表示。请注意，当能量被吸收时，$W^{-}$ 将为负值。\n- 通过先计算净功 $W_{\\text{net}} = W^{+} + W^{-}$ 并与容差 $\\varepsilon$ 进行比较来定义分类整数 $C$。使用 $\\varepsilon = 10^{-9}$ (J)。如果 $W_{\\text{net}} > \\varepsilon$，则设 $C = +1$；如果 $W_{\\text{net}} < -\\varepsilon$，则设 $C = -1$；否则设 $C = 0$。\n\n测试套件规范：\n对于每个用例，构建时间向量 $t_i = i\\,\\Delta t$，其中 $i = 0, 1, \\dots, N-1$，$N$ 是由总时长 $T$ 和采样间隔 $\\Delta t$ 隐含的样本数。\n\n- 用例 A (具有代表性的蹬伸及随后的吸收阶段)：\n  - 采样间隔 $\\Delta t = 0.001$ (s)，总时长 $T = 0.600$ (s)。\n  - 关节力矩 $\\tau(t)$：\n    - 对于 $t \\in [0.120, 0.370]$，$\\tau(t)$ 是一个持续时间为 $0.250$ (s)、幅度为 $110$ (N·m) 的半正弦脉冲。\n    - 对于 $t \\in [0.370, 0.500]$，增加一个 $25$ (N·m) 的恒定力矩偏移。\n    - 在其他情况下，$\\tau(t) = 0$ (N·m)。\n  - 关节角速度 $\\omega(t)$：\n    - 对于 $t \\in [0.120, 0.370]$，$\\omega(t)$ 是一个持续时间为 $0.250$ (s)、幅度为 $7$ (rad/s) 的半正弦脉冲。\n    - 对于 $t \\in [0.370, 0.500]$，$\\omega(t)$ 是一个持续时间为 $0.130$ (s)、幅度为 $3$ (rad/s) 的负半正弦脉冲。\n    - 在其他情况下，$\\omega(t) = 0$ (rad/s)。\n\n- 用例 B (具有净吸收的协同收缩)：\n  - 采样间隔 $\\Delta t = 0.001$ (s)，总时长 $T = 0.400$ (s)。\n  - 关节力矩 $\\tau(t)$：\n    - 对于 $t \\in [0.100, 0.350]$，$\\tau(t) = 80$ (N·m)。\n    - 在其他情况下，$\\tau(t) = 0$ (N·m)。\n  - 关节角速度 $\\omega(t)$：\n    - 对于 $t \\in [0.150, 0.350]$，$\\omega(t) = -6$ (rad/s)。\n    - 在其他情况下，$\\omega(t) = 0$ (rad/s)。\n\n- 用例 C (角速度为零的边界情况)：\n  - 采样间隔 $\\Delta t = 0.001$ (s)，总时长 $T = 0.300$ (s)。\n  - 关节力矩 $\\tau(t)$：\n    - 对于 $t \\in [0.050, 0.250]$，$\\tau(t)$ 是一个持续时间为 $0.200$ (s)、幅度为 $100$ (N·m) 的半正弦脉冲。\n    - 在其他情况下，$\\tau(t) = 0$ (N·m)。\n  - 关节角速度 $\\omega(t)$：\n    - 对于所有 $t$，$\\omega(t) = 0$ (rad/s)。\n\n- 用例 D (正角速度阶段力矩的符号反转)：\n  - 采样间隔 $\\Delta t = 0.001$ (s)，总时长 $T = 0.500$ (s)。\n  - 关节力矩 $\\tau(t)$：\n    - 对于 $t \\in [0.100, 0.250]$，$\\tau(t)$ 是一个持续时间为 $0.150$ (s)、幅度为 $100$ (N·m) 的半正弦脉冲。\n    - 对于 $t \\in [0.250, 0.400]$，$\\tau(t)$ 是一个持续时间为 $0.150$ (s)、幅度为 $90$ (N·m) 的负半正弦脉冲。\n    - 在其他情况下，$\\tau(t) = 0$ (N·m)。\n  - 关节角速度 $\\omega(t)$：\n    - 对于 $t \\in [0.100, 0.400]$，$\\omega(t)$ 是一个持续时间为 $0.300$ (s)、幅度为 $7$ (rad/s) 的半正弦脉冲。\n    - 在其他情况下，$\\omega(t) = 0$ (rad/s)。\n\n半正弦脉冲的实现细节：\n- 在 $[t_0, t_0 + D]$ 上的幅度为 $A$ 的半正弦脉冲逐点定义为：当 $t \\in [t_0, t_0 + D]$ 时为 $A \\sin\\!\\left(\\pi \\frac{t - t_0}{D}\\right)$，其他情况下为 $0$。幅度为 $A$ 的负半正弦脉冲在相同区间内为 $-A \\sin\\!\\left(\\pi \\frac{t - t_0}{D}\\right)$。\n\n所需输出及格式：\n- 对于每个测试用例，计算并返回列表 $[P_{\\max}, P_{\\min}, W^{+}, W^{-}, C]$。\n- 以瓦特 (W) 表示 $P_{\\max}$ 和 $P_{\\min}$，以焦耳 (J) 表示 $W^{+}$ 和 $W^{-}$。\n- 将所有浮点输出四舍五入到 $6$ 位小数。\n- 您的程序应生成单行输出，其中包含四个测试用例的结果，格式为由方括号括起来的逗号分隔列表，例如 $[[\\cdots],[\\cdots],[\\cdots],[\\cdots]]$。",
            "solution": "问题陈述经过了严格验证，被认为是科学可靠、定义明确且内部一致的，可以进行严谨的求解。用例 A 的问题描述中存在一个微小的歧义——具体来说，是在一个与前一区间共享边界点的时间段内为 $\\tau(t)$ “增加一个恒定力矩偏移”的指令——通过将“增加”解释为两个函数的叠加来解决，每个函数对应一个指定的区间。这意味着总力矩 $\\tau(t)$ 是一个半正弦函数（在 $[0.120, 0.370]$~s 上非零）和一个常数函数（在 $[0.370, 0.500]$~s 上非零）的和。在共享边界 $t=0.370$~s 处，半正弦分量的值为零，确保了函数的良定义性。这种解释在物理上和数学上都是合理的，并将在后续分析中使用。\n\n该问题要求基于关节力矩 $\\tau(t)$ 和角速度 $\\omega(t)$ 的时间序列数据，计算踝关节的机械功率和功。根据旋转力学的基本原理，由力矩 $\\tau(t)$ 作用于以角速度 $\\omega(t)$ 旋转的物体所产生或吸收的瞬时机械功率 $P(t)$ 由它们的标量积给出。由于问题是一维的（围绕单一踝关节轴线旋转），这可以简化为：\n\n$$\nP(t) = \\tau(t) \\omega(t)\n$$\n\n单位是一致的：力矩单位为牛顿·米 ($N \\cdot m$)，角速度单位为弧度/秒 ($rad/s$)，功率单位为瓦特 ($W$)，其中 $1~W = 1~J/s = 1~N \\cdot m/s$。正功率 $P(t) > 0$ 表示关节正在产生能量（向心收缩），而负功率 $P(t) < 0$ 表示关节正在吸收能量（离心收缩）。\n\n问题提供了采样时间序列，因此这些连续函数由在时间点 $t_i = i \\Delta t$（其中 $i \\in \\{0, 1, \\dots, N-1\\}$，$\\Delta t$ 是采样间隔，$N$ 是总样本数）的一组离散值表示。每个采样点的瞬时功率为：\n\n$$\nP(t_i) = P_i = \\tau(t_i) \\omega(t_i)\n$$\n\n根据这个离散功率序列 $\\{P_i\\}$，我们计算瞬时功率的最大值和最小值：\n\n$$\nP_{\\max} = \\max_{i} \\{P_i\\}\n$$\n$$\nP_{\\min} = \\min_{i} \\{P_i\\}\n$$\n\n机械功 $W$ 是功率对时间的积分，$W = \\int P(t) dt$。问题指定使用黎曼和来近似该积分。总正功 $W^{+}$（产生的能量）和总负功 $W^{-}$（吸收的能量）通过对各自的正功率和负功率样本的贡献求和来计算：\n\n$$\nW^{+} = \\sum_{i \\text{ such that } P_i > 0} P_i \\Delta t\n$$\n$$\nW^{-} = \\sum_{i \\text{ such that } P_i < 0} P_i \\Delta t\n$$\n\n在时间窗口内所做的净机械功是正功和负功分量的总和：\n\n$$\nW_{\\text{net}} = W^{+} + W^{-} = \\left( \\sum_{i} P_i \\right) \\Delta t\n$$\n\n最后，确定一个分类整数 $C$ 以对关节的净能量行为进行分类。该分类取决于净功 $W_{\\text{net}}$ 是显著为正、为负还是接近于零，判断依据是一个小的容差 $\\varepsilon = 10^{-9}$ 焦耳 ($J$)：\n\n$$\nC = \\begin{cases}\n+1 & \\text{if } W_{\\text{net}} > \\varepsilon \\\\\n-1 & \\text{if } W_{\\text{net}} < -\\varepsilon \\\\\n0 & \\text{otherwise}\n\\end{cases}\n$$\n\n求解过程通过将此框架应用于四个测试用例中的每一个来进行。对于每个用例：\n1.  生成一个离散时间向量 $t$，从 $t_0=0$ 到 $t_{N-1}=T-\\Delta t$，步长为 $\\Delta t$，其中 $N=T/\\Delta t$。\n2.  根据其分段定义，构建力矩 $\\tau(t_i)$ 和角速度 $\\omega(t_i)$ 的向量表示，包括半正弦脉冲函数 $A \\sin(\\pi(t-t_0)/D)$。\n3.  瞬时功率向量 $P$ 计算为 $\\tau$ 和 $\\omega$ 向量的逐元素乘积。\n4.  根据功率向量 $P$ 和采样间隔 $\\Delta t$ 计算 $P_{\\max}$、$P_{\\min}$、$W^{+}$ 和 $W^{-}$。\n5.  计算 $W_{\\text{net}}$ 并用其确定分类整数 $C$。\n6.  将得到的浮点数值（$P_{\\max}, P_{\\min}, W^{+}, W^{-}$）四舍五入到 $6$ 位小数。\n这个系统化的程序确保了为每个指定的测试用例提供准确且可验证的结果。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the biomechanics problem for four test cases.\n    For each case, it computes max/min power, positive/negative work, and a classification integer.\n    \"\"\"\n\n    # Tolerance for net work classification\n    EPSILON = 1e-9\n\n    def half_sine_pulse(t, t0, D, A):\n        \"\"\"Generates a half-sine pulse.\"\"\"\n        pulse = np.zeros_like(t)\n        mask = (t >= t0) & (t <= t0 + D)\n        pulse[mask] = A * np.sin(np.pi * (t[mask] - t0) / D)\n        return pulse\n\n    def calculate_metrics(dt, T, tau_func, omega_func):\n        \"\"\"\n        Calculates all required metrics for a given set of torque and velocity functions.\n        \"\"\"\n        if dt <= 0:\n            raise ValueError(\"Sampling interval dt must be positive.\")\n        if T <= 0:\n            raise ValueError(\"Total duration T must be positive.\")\n            \n        num_samples = int(round(T / dt))\n        t = np.linspace(0, T, num_samples, endpoint=False)\n\n        tau = tau_func(t)\n        omega = omega_func(t)\n\n        power = tau * omega\n\n        p_max = np.max(power) if power.size > 0 else 0.0\n        p_min = np.min(power) if power.size > 0 else 0.0\n\n        positive_power_samples = power[power > 0]\n        w_pos = np.sum(positive_power_samples) * dt\n\n        negative_power_samples = power[power < 0]\n        w_neg = np.sum(negative_power_samples) * dt\n\n        w_net = w_pos + w_neg\n\n        if w_net > EPSILON:\n            C = 1\n        elif w_net < -EPSILON:\n            C = -1\n        else:\n            C = 0\n        \n        return [\n            round(p_max, 6),\n            round(p_min, 6),\n            round(w_pos, 6),\n            round(w_neg, 6),\n            C\n        ]\n\n    # --- Test Case Definitions ---\n\n    # Case A\n    def tau_A(t):\n        tau = np.zeros_like(t)\n        # Half-sine pulse\n        tau += half_sine_pulse(t, t0=0.120, D=0.250, A=110.0)\n        # Constant offset added\n        mask_offset = (t >= 0.370) & (t <= 0.500)\n        tau[mask_offset] += 25.0\n        return tau\n\n    def omega_A(t):\n        w = np.zeros_like(t)\n        # Positive half-sine pulse\n        w += half_sine_pulse(t, t0=0.120, D=0.250, A=7.0)\n        # Negative half-sine pulse\n        w += half_sine_pulse(t, t0=0.370, D=0.130, A=-3.0)\n        return w\n\n    # Case B\n    def tau_B(t):\n        tau = np.zeros_like(t)\n        mask = (t >= 0.100) & (t <= 0.350)\n        tau[mask] = 80.0\n        return tau\n    \n    def omega_B(t):\n        omega = np.zeros_like(t)\n        mask = (t >= 0.150) & (t <= 0.350)\n        omega[mask] = -6.0\n        return omega\n\n    # Case C\n    def tau_C(t):\n        return half_sine_pulse(t, t0=0.050, D=0.200, A=100.0)\n\n    def omega_C(t):\n        return np.zeros_like(t)\n\n    # Case D\n    def tau_D(t):\n        tau = np.zeros_like(t)\n        # Positive half-sine pulse\n        tau += half_sine_pulse(t, t0=0.100, D=0.150, A=100.0)\n        # Negative half-sine pulse\n        tau += half_sine_pulse(t, t0=0.250, D=0.150, A=-90.0)\n        return tau\n\n    def omega_D(t):\n        return half_sine_pulse(t, t0=0.100, D=0.300, A=7.0)\n\n    test_cases = [\n        {'dt': 0.001, 'T': 0.600, 'tau_func': tau_A, 'omega_func': omega_A},\n        {'dt': 0.001, 'T': 0.400, 'tau_func': tau_B, 'omega_func': omega_B},\n        {'dt': 0.001, 'T': 0.300, 'tau_func': tau_C, 'omega_func': omega_C},\n        {'dt': 0.001, 'T': 0.500, 'tau_func': tau_D, 'omega_func': omega_D},\n    ]\n\n    all_results = []\n    for case in test_cases:\n        result = calculate_metrics(case['dt'], case['T'], case['tau_func'], case['omega_func'])\n        all_results.append(result)\n\n    # Manual string formatting to match the required output format without spaces\n    case_strings = []\n    for res_list in all_results:\n        formatted_items = []\n        for item in res_list:\n            if isinstance(item, float):\n                formatted_items.append(f\"{item:.6f}\")\n            else:\n                formatted_items.append(str(item))\n        case_strings.append(f\"[{','.join(formatted_items)}]\")\n    \n    final_output_string = f\"[{','.join(case_strings)}]\"\n    print(final_output_string)\n\nsolve()\n```"
        }
    ]
}