{
    "hands_on_practices": [
        {
            "introduction": "Before analyzing the complex dynamics of movement, we must first master the fundamental properties of the body segments themselves. A key property is the moment of inertia, $I$, which quantifies a body's resistance to angular acceleration. This exercise  tasks you with deriving the parallel axis theorem from first principles, providing a deep understanding of how to calculate the moment of inertia about any axis—a skill essential for building accurate biomechanical models.",
            "id": "4208918",
            "problem": "Consider a sagittal-plane analysis of a human foot segment modeled as a rigid body during a deep-knee-flexion posture in which the foot’s center of mass (COM) lies at a perpendicular distance of $d=0.12\\ \\text{m}$ from the knee flexion axis. The foot segment has mass $m_{f}=1.10\\ \\text{kg}$, and its moment of inertia about an axis through its COM that is parallel to the knee flexion axis is $I_{C}=3.20\\times 10^{-3}\\ \\mathrm{kg\\cdot m^{2}}$. Using only fundamental definitions of angular momentum, torque, and the moment of inertia for a rigid body, derive the expression for the foot segment’s moment of inertia about the knee flexion axis in terms of $I_{C}$, $m_{f}$, and $d$, and then evaluate it numerically for the given data. Express the final inertia in $\\mathrm{kg\\cdot m^{2}}$ and round your answer to four significant figures.",
            "solution": "The problem statement is scientifically grounded, well-posed, objective, and provides a complete and consistent set of data for a standard problem in classical mechanics applied to biomechanics. All provided values are physically realistic. The problem requires the derivation of a known physical theorem from fundamental principles, which is a valid and instructive task. Therefore, the problem is valid and a solution will be provided.\n\nThe objective is to find the moment of inertia of the foot segment, $I_K$, about the knee flexion axis. We are asked to derive the expression relating $I_K$ to the moment of inertia about the foot's center of mass, $I_C$, using fundamental definitions. The moment of inertia, $I$, is a measure of an object's resistance to angular acceleration. For a rigid body rotating about a fixed axis, it is the constant of proportionality in the relations for rotational kinetic energy, $K_{rot} = \\frac{1}{2}I\\omega^2$, angular momentum, $L=I\\omega$, and torque, $\\tau=I\\alpha$, where $\\omega$ is the angular velocity and $\\alpha$ is the angular acceleration. We will use the principle of energy to derive the required relationship.\n\nLet the knee flexion axis be a fixed axis of rotation, which we shall designate as axis $K$. The foot segment is a rigid body rotating about this axis with an angular velocity $\\omega$. The kinetic energy of the foot segment is given by:\n$$\nK = \\frac{1}{2}I_K \\omega^2\n$$\nwhere $I_K$ is the moment of inertia about the knee flexion axis that we wish to determine.\n\nAccording to Koenig's theorem (also known as the parallel axis theorem for kinetic energy), the total kinetic energy of a rigid body can be expressed as the sum of the translational kinetic energy of its center of mass (COM) and the rotational kinetic energy about an axis passing through its COM.\n$$\nK = K_{trans, COM} + K_{rot, COM}\n$$\nThe translational kinetic energy of the COM is given by:\n$$\nK_{trans, COM} = \\frac{1}{2}m_f v_C^2\n$$\nwhere $m_f$ is the mass of the foot segment and $v_C$ is the linear speed of its COM. Since the foot segment rotates about the knee axis, its COM moves in a circle of radius $d$ around this axis. The linear speed of the COM is related to the angular velocity $\\omega$ by $v_C = d\\omega$. Substituting this into the expression for translational kinetic energy gives:\n$$\nK_{trans, COM} = \\frac{1}{2}m_f (d\\omega)^2 = \\frac{1}{2}m_f d^2 \\omega^2\n$$\nThe rotational kinetic energy of the foot segment about a parallel axis passing through its COM is given by:\n$$\nK_{rot, COM} = \\frac{1}{2}I_C \\omega^2\n$$\nwhere $I_C$ is the moment of inertia about the COM for an axis parallel to the knee flexion axis. The angular velocity $\\omega$ of rotation about the COM is the same as the angular velocity of rotation about the knee axis for a rigid body in planar motion.\n\nSumming these two energy components gives the total kinetic energy:\n$$\nK = \\frac{1}{2}m_f d^2 \\omega^2 + \\frac{1}{2}I_C \\omega^2\n$$\nFactoring out the common terms, we get:\n$$\nK = \\frac{1}{2}(I_C + m_f d^2)\\omega^2\n$$\nBy equating the two expressions for the total kinetic energy $K$, we have:\n$$\n\\frac{1}{2}I_K \\omega^2 = \\frac{1}{2}(I_C + m_f d^2)\\omega^2\n$$\nDividing both sides by $\\frac{1}{2}\\omega^2$ (assuming $\\omega \\neq 0$) yields the derived expression for the moment of inertia about the knee axis, which is the parallel axis theorem:\n$$\nI_K = I_C + m_f d^2\n$$\nThis expression relates the moment of inertia about the knee axis, $I_K$, to the moment of inertia about the parallel axis through the center of mass, $I_C$, the mass of the segment, $m_f$, and the perpendicular distance between the two axes, $d$.\n\nNow, we will evaluate this expression numerically using the given data:\n- Moment of inertia about the COM: $I_C = 3.20 \\times 10^{-3}\\ \\mathrm{kg\\cdot m^{2}}$\n- Mass of the foot segment: $m_f = 1.10\\ \\text{kg}$\n- Perpendicular distance from COM to knee axis: $d = 0.12\\ \\text{m}$\n\nSubstituting these values into the derived formula:\n$$\nI_K = (3.20 \\times 10^{-3}) + (1.10) \\times (0.12)^2\n$$\nFirst, calculate the term $m_f d^2$:\n$$\nm_f d^2 = 1.10\\ \\text{kg} \\times (0.12\\ \\text{m})^2 = 1.10\\ \\text{kg} \\times 0.0144\\ \\text{m}^2 = 0.01584\\ \\mathrm{kg\\cdot m^{2}}\n$$\nNow, add this to $I_C$:\n$$\nI_K = 0.00320\\ \\mathrm{kg\\cdot m^{2}} + 0.01584\\ \\mathrm{kg\\cdot m^{2}} = 0.01904\\ \\mathrm{kg\\cdot m^{2}}\n$$\nThe problem specifies that the final answer should be rounded to four significant figures. The calculated value $0.01904$ already has four significant figures (the digits $1, 9, 0, 4$).\n\nThus, the moment of inertia of the foot segment about the knee flexion axis is $0.01904\\ \\mathrm{kg\\cdot m^{2}}$.",
            "answer": "$$\n\\boxed{0.01904}\n$$"
        },
        {
            "introduction": "While planar models are useful, human movement is fundamentally three-dimensional. This practice  delves into the complexities of 3D rigid body dynamics using Euler's equations, which govern the relationship between applied torque, angular velocity, and angular acceleration. By calculating the required shoulder torque, you will confront the emergence of non-intuitive gyroscopic torques, which are crucial for understanding and controlling rapid multi-axial movements.",
            "id": "4208924",
            "problem": "A simplified biomechanical model of the upper arm (humerus) about the glenohumeral (GH) joint treats the humerus plus a handheld instrument as a single rigid body with principal axes aligned to the anatomical axes: anterior–posterior ($x$), superior–inferior ($y$), and long-axis internal–external rotation ($z$). The inertia tensor about the GH joint, expressed in this principal-axis frame, is constant and equal to $\\mathbf{I}=\\mathrm{diag}(0.8,\\,0.6,\\,0.5)\\ \\mathrm{kg \\cdot m^{2}}$. At a particular instant, the segment’s angular velocity is $\\boldsymbol{\\omega}=(0,\\,5,\\,0)\\ \\mathrm{rad/s}$, and a motor program seeks to impose an angular acceleration $\\dot{\\boldsymbol{\\omega}}=(0,\\,0,\\,10)\\ \\mathrm{rad/s^{2}}$, all expressed in the same principal-axis frame. Neglect gravity and any external contact moments, so that the net shoulder torque equals the time rate of change of the segment’s angular momentum about the GH joint.\n\nUsing only fundamental balance laws for angular momentum of a rigid body about a fixed point together with rigid-body kinematics, derive the governing expression for the required net shoulder torque vector $\\boldsymbol{\\tau}$ and compute its value for the data above. Treat radians as the angle unit. Express your final torque vector in newton–meter. Provide exact values; no rounding. State your final answer as a $1\\times 3$ row vector.",
            "solution": "The problem is first validated to ensure it is scientifically grounded, well-posed, and objective.\n\n### Step 1: Extract Givens\n- **Frame of reference**: A principal-axis frame attached to the rigid body (humerus plus instrument), with axes denoted $x$ (anterior–posterior), $y$ (superior–inferior), and $z$ (long-axis).\n- **Inertia Tensor**: Expressed in the principal-axis frame, $\\mathbf{I}=\\mathrm{diag}(I_{xx}, I_{yy}, I_{zz})$ with $I_{xx} = 0.8\\ \\mathrm{kg\\cdot m^{2}}$, $I_{yy} = 0.6\\ \\mathrm{kg\\cdot m^{2}}$, and $I_{zz} = 0.5\\ \\mathrm{kg\\cdot m^{2}}$.\n- **Angular Velocity**: Expressed in the principal-axis frame, $\\boldsymbol{\\omega} = (\\omega_x, \\omega_y, \\omega_z) = (0, 5, 0)\\ \\mathrm{rad/s}$.\n- **Angular Acceleration**: Expressed in the principal-axis frame, $\\dot{\\boldsymbol{\\omega}} = (\\dot{\\omega}_x, \\dot{\\omega}_y, \\dot{\\omega}_z) = (0, 0, 10)\\ \\mathrm{rad/s^{2}}$.\n- **Assumptions**: The glenohumeral (GH) joint is a fixed point. Gravity and external contact moments are neglected.\n- **Governing Principle**: Net shoulder torque $\\boldsymbol{\\tau}$ equals the time rate of change of the segment’s angular momentum $\\mathbf{L}$ about the GH joint.\n\n### Step 2: Validate Using Extracted Givens\n- **Scientific Grounding**: The problem is based on Euler's equations of motion for a rigid body, a cornerstone of classical mechanics. The application to biomechanics is a standard and valid use of these principles. The numerical values are plausible for a simplified model of human limb dynamics.\n- **Well-Posedness**: The problem provides all necessary data (inertia tensor, angular velocity, angular acceleration) to uniquely determine the required torque vector.\n- **Objectivity**: The problem is stated using precise, quantitative language, free of ambiguity or subjective claims.\n\n### Step 3: Verdict and Action\nThe problem is valid. It is a direct application of fundamental principles of rigid body dynamics. A complete solution will be provided.\n\n### Solution Derivation\nThe fundamental principle governing the rotational dynamics of a rigid body about a fixed point is that the net external torque $\\boldsymbol{\\tau}$ equals the time rate of change of the angular momentum $\\mathbf{L}$ as measured in an inertial frame of reference.\n$$\n\\boldsymbol{\\tau} = \\frac{d\\mathbf{L}}{dt}\n$$\nThe problem provides vectors and the inertia tensor in a body-fixed principal-axis frame, which is a non-inertial, rotating frame. To compute the time derivative of the angular momentum vector $\\mathbf{L}$ in the inertial frame, we must use the transport theorem, which relates the derivative in an inertial (fixed) frame to the derivative in a rotating frame:\n$$\n\\frac{d\\mathbf{L}}{dt} = \\left(\\frac{d\\mathbf{L}}{dt}\\right)_{\\text{body}} + \\boldsymbol{\\omega} \\times \\mathbf{L}\n$$\nHere, $\\boldsymbol{\\omega}$ is the angular velocity of the body frame relative to the inertial frame.\n\nThe angular momentum vector $\\mathbf{L}$ in the body frame is given by the product of the inertia tensor $\\mathbf{I}$ and the angular velocity vector $\\boldsymbol{\\omega}$:\n$$\n\\mathbf{L} = \\mathbf{I}\\boldsymbol{\\omega}\n$$\nSubstituting this into the transport equation for $\\boldsymbol{\\tau}$:\n$$\n\\boldsymbol{\\tau} = \\left(\\frac{d(\\mathbf{I}\\boldsymbol{\\omega})}{dt}\\right)_{\\text{body}} + \\boldsymbol{\\omega} \\times (\\mathbf{I}\\boldsymbol{\\omega})\n$$\nSince the inertia tensor $\\mathbf{I}$ is constant in the body-fixed frame, its time derivative in this frame is zero. Therefore, the first term simplifies:\n$$\n\\left(\\frac{d(\\mathbf{I}\\boldsymbol{\\omega})}{dt}\\right)_{\\text{body}} = \\mathbf{I}\\left(\\frac{d\\boldsymbol{\\omega}}{dt}\\right)_{\\text{body}} + \\left(\\frac{d\\mathbf{I}}{dt}\\right)_{\\text{body}}\\boldsymbol{\\omega} = \\mathbf{I}\\dot{\\boldsymbol{\\omega}} + \\mathbf{0}\n$$\nwhere $\\dot{\\boldsymbol{\\omega}}$ is the angular acceleration in the body frame, which is given in the problem. The full expression for the torque, known as Euler's equation of motion, is:\n$$\n\\boldsymbol{\\tau} = \\mathbf{I}\\dot{\\boldsymbol{\\omega}} + \\boldsymbol{\\omega} \\times (\\mathbf{I}\\boldsymbol{\\omega})\n$$\nWe will now compute each term separately using the given values.\n\nThe inertia tensor is $\\mathbf{I} = \\begin{pmatrix} 0.8 & 0 & 0 \\\\ 0 & 0.6 & 0 \\\\ 0 & 0 & 0.5 \\end{pmatrix} \\ \\mathrm{kg\\cdot m^2}$.\nThe angular velocity is $\\boldsymbol{\\omega} = \\begin{pmatrix} 0 \\\\ 5 \\\\ 0 \\end{pmatrix} \\ \\mathrm{rad/s}$.\nThe angular acceleration is $\\dot{\\boldsymbol{\\omega}} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 10 \\end{pmatrix} \\ \\mathrm{rad/s^2}$.\n\nFirst, we compute the term $\\mathbf{I}\\dot{\\boldsymbol{\\omega}}$:\n$$\n\\mathbf{I}\\dot{\\boldsymbol{\\omega}} = \\begin{pmatrix} 0.8 & 0 & 0 \\\\ 0 & 0.6 & 0 \\\\ 0 & 0 & 0.5 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 0 \\\\ 10 \\end{pmatrix} = \\begin{pmatrix} (0.8)(0) \\\\ (0.6)(0) \\\\ (0.5)(10) \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 5 \\end{pmatrix} \\ \\mathrm{N\\cdot m}\n$$\nNext, we compute the gyroscopic torque term $\\boldsymbol{\\omega} \\times (\\mathbf{I}\\boldsymbol{\\omega})$. First, find $\\mathbf{L} = \\mathbf{I}\\boldsymbol{\\omega}$:\n$$\n\\mathbf{L} = \\mathbf{I}\\boldsymbol{\\omega} = \\begin{pmatrix} 0.8 & 0 & 0 \\\\ 0 & 0.6 & 0 \\\\ 0 & 0 & 0.5 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 5 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} (0.8)(0) \\\\ (0.6)(5) \\\\ (0.5)(0) \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 3 \\\\ 0 \\end{pmatrix} \\ \\mathrm{kg\\cdot m^2/s}\n$$\nNow, compute the cross product $\\boldsymbol{\\omega} \\times \\mathbf{L}$:\n$$\n\\boldsymbol{\\omega} \\times \\mathbf{L} = \\begin{pmatrix} 0 \\\\ 5 \\\\ 0 \\end{pmatrix} \\times \\begin{pmatrix} 0 \\\\ 3 \\\\ 0 \\end{pmatrix} = \\begin{vmatrix} \\mathbf{\\hat{i}} & \\mathbf{\\hat{j}} & \\mathbf{\\hat{k}} \\\\ 0 & 5 & 0 \\\\ 0 & 3 & 0 \\end{vmatrix}\n$$\n$$\n= \\mathbf{\\hat{i}}((5)(0) - (0)(3)) - \\mathbf{\\hat{j}}((0)(0) - (0)(0)) + \\mathbf{\\hat{k}}((0)(3) - (5)(0)) = \\begin{pmatrix} 0 \\\\ 0 \\\\ 0 \\end{pmatrix} \\ \\mathrm{N\\cdot m}\n$$\nThe gyroscopic term is zero. This is a special case that occurs because the angular velocity vector $\\boldsymbol{\\omega}$ is aligned with one of the principal axes of the rigid body.\n\nFinally, the total torque $\\boldsymbol{\\tau}$ is the sum of the two terms:\n$$\n\\boldsymbol{\\tau} = \\mathbf{I}\\dot{\\boldsymbol{\\omega}} + \\boldsymbol{\\omega} \\times (\\mathbf{I}\\boldsymbol{\\omega}) = \\begin{pmatrix} 0 \\\\ 0 \\\\ 5 \\end{pmatrix} + \\begin{pmatrix} 0 \\\\ 0 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 5 \\end{pmatrix} \\ \\mathrm{N\\cdot m}\n$$\nThe required net shoulder torque vector is $\\boldsymbol{\\tau} = (0,\\, 0,\\, 5)\\ \\mathrm{N\\cdot m}$.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 0 & 0 & 5 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "A primary goal in biomechanics is to understand how muscles perform work and transfer energy to produce movement. This computational practice  transitions from pure dynamics to energetics, a crucial link for evaluating performance and injury risk. By analyzing time-series data of joint torque and angular velocity, you will calculate mechanical power ($P = \\tau \\omega$) and work ($W = \\int P dt$), providing direct insight into muscle function during concentric and eccentric phases of motion.",
            "id": "4208946",
            "problem": "A lower-limb model focuses on the ankle joint during late stance and push-off in level walking. You are given sampled time series of joint torque about the ankle, denoted by $\\tau(t)$ with units Newton-meters ($\\mathrm{N\\cdot m}$), and joint angular velocity about the same axis, denoted by $\\omega(t)$ with units radians per second ($\\mathrm{rad/s}$). The sampling interval is constant and denoted by $\\Delta t$ with units seconds ($\\mathrm{s}$). The goal is to compute the instantaneous rate of mechanical energy transfer across the ankle joint (mechanical power) from first principles and then integrate to obtain total energy generated and absorbed over phases where this rate is positive or negative, respectively. You must also determine a classification integer for each test case indicating whether the ankle is net generating or absorbing mechanical energy over the analyzed window. All angles and angular velocities must be treated in radians.\n\nFundamental base to use:\n- The definition of mechanical work about a joint is the line integral of joint torque along angular displacement.\n- Mechanical power is the time rate of doing mechanical work.\n\nDiscrete-time computation requirement:\n- Approximate any required time integrals by Riemann sums over the given sampled series using the sampling interval $\\Delta t$.\n\nDefinitions for outputs to compute for each test case:\n- Let the instantaneous mechanical power samples be $\\{P(t_i)\\}$ computed from the provided $\\tau(t_i)$ and $\\omega(t_i)$.\n- Compute $P_{\\max}$ as the maximum of $\\{P(t_i)\\}$ and $P_{\\min}$ as the minimum of $\\{P(t_i)\\}$, expressed in Watts ($\\mathrm{W}$).\n- Compute the total positive work $W^{+} = \\sum_{i: P(t_i) > 0} P(t_i)\\,\\Delta t$ and the total negative work $W^{-} = \\sum_{i: P(t_i) < 0} P(t_i)\\,\\Delta t$, expressed in Joules ($\\mathrm{J}$). Note that $W^{-}$ will be negative when energy is absorbed.\n- Define the classification integer $C$ by first computing the net work $W_{\\text{net}} = W^{+} + W^{-}$ and comparing to a tolerance $\\varepsilon$. Use $\\varepsilon = 10^{-9}\\ \\mathrm{J}$. Set $C = +1$ if $W_{\\text{net}} > \\varepsilon$, $C = -1$ if $W_{\\text{net}} < -\\varepsilon$, and $C = 0$ otherwise.\n\nTest suite specification:\nFor each case, construct the time vector $t_i = i\\,\\Delta t$ for $i = 0, 1, \\dots, N-1$ where $N$ is the number of samples implied by the total duration $T$ and sampling interval $\\Delta t$.\n\n- Case A (Representative push-off with a subsequent absorption phase):\n  - Sampling interval $\\Delta t = 0.001$ (s), total duration $T = 0.600$ (s).\n  - Joint torque $\\tau(t)$:\n    - For $t \\in [0.120, 0.370]$, $\\tau(t)$ is a half-sine pulse of duration $0.250$ (s) with amplitude $110$ (N·m).\n    - For $t \\in [0.370, 0.500]$, add a constant torque offset of $25$ (N·m).\n    - Elsewhere, $\\tau(t) = 0$ (N·m).\n  - Joint angular velocity $\\omega(t)$:\n    - For $t \\in [0.120, 0.370]$, $\\omega(t)$ is a half-sine pulse of duration $0.250$ (s) with amplitude $7$ (rad/s).\n    - For $t \\in [0.370, 0.500]$, $\\omega(t)$ is a negative half-sine pulse of duration $0.130$ (s) with amplitude $3$ (rad/s).\n    - Elsewhere, $\\omega(t) = 0$ (rad/s).\n\n- Case B (Co-contraction with net absorption):\n  - Sampling interval $\\Delta t = 0.001$ (s), total duration $T = 0.400$ (s).\n  - Joint torque $\\tau(t)$:\n    - For $t \\in [0.100, 0.350]$, $\\tau(t) = 80$ (N·m).\n    - Elsewhere, $\\tau(t) = 0$ (N·m).\n  - Joint angular velocity $\\omega(t)$:\n    - For $t \\in [0.150, 0.350]$, $\\omega(t) = -6$ (rad/s).\n    - Elsewhere, $\\omega(t) = 0$ (rad/s).\n\n- Case C (Boundary case with zero angular velocity):\n  - Sampling interval $\\Delta t = 0.001$ (s), total duration $T = 0.300$ (s).\n  - Joint torque $\\tau(t)$:\n    - For $t \\in [0.050, 0.250]$, $\\tau(t)$ is a half-sine pulse of duration $0.200$ (s) with amplitude $100$ (N·m).\n    - Elsewhere, $\\tau(t) = 0$ (N·m).\n  - Joint angular velocity $\\omega(t)$:\n    - For all $t$, $\\omega(t) = 0$ (rad/s).\n\n- Case D (Sign reversal in torque during a positive angular velocity phase):\n  - Sampling interval $\\Delta t = 0.001$ (s), total duration $T = 0.500$ (s).\n  - Joint torque $\\tau(t)$:\n    - For $t \\in [0.100, 0.250]$, $\\tau(t)$ is a half-sine pulse of duration $0.150$ (s) with amplitude $100$ (N·m).\n    - For $t \\in [0.250, 0.400]$, $\\tau(t)$ is a negative half-sine pulse of duration $0.150$ (s) with amplitude $90$ (N·m).\n    - Elsewhere, $\\tau(t) = 0$ (N·m).\n  - Joint angular velocity $\\omega(t)$:\n    - For $t \\in [0.100, 0.400]$, $\\omega(t)$ is a half-sine pulse of duration $0.300$ (s) with amplitude $7$ (rad/s).\n    - Elsewhere, $\\omega(t) = 0$ (rad/s).\n\nImplementation detail for half-sine pulses:\n- A half-sine pulse of amplitude $A$ over $[t_0, t_0 + D]$ is defined pointwise by $A \\sin\\!\\left(\\pi \\frac{t - t_0}{D}\\right)$ for $t \\in [t_0, t_0 + D]$, and $0$ otherwise. A negative half-sine pulse of amplitude $A$ is $-A \\sin\\!\\left(\\pi \\frac{t - t_0}{D}\\right)$ over the same interval.\n\nRequired outputs and formatting:\n- For each test case, compute and return the list $[P_{\\max}, P_{\\min}, W^{+}, W^{-}, C]$.\n- Express $P_{\\max}$ and $P_{\\min}$ in Watts (W), and $W^{+}$ and $W^{-}$ in Joules (J).\n- Round all floating-point outputs to $6$ decimal places.\n- Your program should produce a single line of output containing the results for the four test cases as a comma-separated list of lists enclosed in square brackets, for example, $[[\\cdots],[\\cdots],[\\cdots],[\\cdots]]$.",
            "solution": "The problem statement has been critically validated and is deemed to be scientifically grounded, well-posed, and internally consistent, permitting a rigorous solution. A minor ambiguity in the problem description for Case A—specifically, the instruction \"add a constant torque offset\" for $\\tau(t)$ over an interval that shares a boundary point with the preceding interval—is resolved by interpreting \"add\" as the superposition of two functions, one for each specified interval. This means the total torque $\\tau(t)$ is the sum of a half-sine function (non-zero on $[0.120, 0.370]$~s) and a constant function (non-zero on $[0.370, 0.500]$~s). At the shared boundary $t=0.370$~s, the half-sine component evaluates to zero, ensuring the function is well-defined. This interpretation is physically and mathematically sound and will be used in the subsequent analysis.\n\nThe problem requires the calculation of mechanical power and work at the ankle joint based on time series data for joint torque $\\tau(t)$ and angular velocity $\\omega(t)$. The fundamental principle from rotational mechanics is that the instantaneous mechanical power $P(t)$ produced or absorbed by a torque $\\tau(t)$ acting on a body rotating with angular velocity $\\omega(t)$ is given by their scalar product. Since the problem is one-dimensional (rotation about a single ankle joint axis), this simplifies to:\n\n$$\nP(t) = \\tau(t) \\omega(t)\n$$\n\nThe units are consistent: torque in Newton-meters ($N \\cdot m$), angular velocity in radians per second ($rad/s$), and power in Watts ($W$), where $1~W = 1~J/s = 1~N \\cdot m/s$. A positive power $P(t) > 0$ indicates that the joint is generating energy (concentric contraction), while a negative power $P(t) < 0$ indicates that the joint is absorbing energy (eccentric contraction).\n\nThe problem provides sampled time series, so these continuous functions are represented by discrete sets of values at time points $t_i = i \\Delta t$ for $i \\in \\{0, 1, \\dots, N-1\\}$, where $\\Delta t$ is the sampling interval and $N$ is the total number of samples. The instantaneous power at each sample point is:\n\n$$\nP(t_i) = P_i = \\tau(t_i) \\omega(t_i)\n$$\n\nFrom this discrete power series $\\{P_i\\}$, we compute the maximum and minimum instantaneous power values:\n\n$$\nP_{\\max} = \\max_{i} \\{P_i\\}\n$$\n$$\nP_{\\min} = \\min_{i} \\{P_i\\}\n$$\n\nMechanical work, $W$, is the integral of power with respect to time, $W = \\int P(t) dt$. The problem specifies approximating this integral using a Riemann sum. The total positive work $W^{+}$ (energy generated) and total negative work $W^{-}$ (energy absorbed) are computed by summing the contributions from the respective positive and negative power samples:\n\n$$\nW^{+} = \\sum_{i \\text{ such that } P_i > 0} P_i \\Delta t\n$$\n$$\nW^{-} = \\sum_{i \\text{ such that } P_i < 0} P_i \\Delta t\n$$\n\nThe net mechanical work done over the time window is the sum of the positive and negative work components:\n\n$$\nW_{\\text{net}} = W^{+} + W^{-} = \\left( \\sum_{i} P_i \\right) \\Delta t\n$$\n\nFinally, a classification integer $C$ is determined to categorize the net energetic behavior of the joint. This classification depends on whether the net work $W_{\\text{net}}$ is significantly positive, negative, or close to zero, judged against a small tolerance $\\varepsilon = 10^{-9}$ Joules ($J$):\n\n$$\nC = \\begin{cases}\n+1 & \\text{if } W_{\\text{net}} > \\varepsilon \\\\\n-1 & \\text{if } W_{\\text{net}} < -\\varepsilon \\\\\n0 & \\text{otherwise}\n\\end{cases}\n$$\n\nThe solution proceeds by applying this framework to each of the four test cases. For each case:\n1.  A discrete time vector $t$ is generated from $t_0=0$ to $t_{N-1}=T-\\Delta t$ with a step of $\\Delta t$, where $N=T/\\Delta t$.\n2.  The vector representations of torque $\\tau(t_i)$ and angular velocity $\\omega(t_i)$ are constructed according to their piecewise definitions, including the half-sine pulse function $A \\sin(\\pi(t-t_0)/D)$.\n3.  The instantaneous power vector $P$ is computed as the element-wise product of the $\\tau$ and $\\omega$ vectors.\n4.  $P_{\\max}$, $P_{\\min}$, $W^{+}$, and $W^{-}$ are calculated from the power vector $P$ and the sampling interval $\\Delta t$.\n5.  $W_{\\text{net}}$ is computed and used to determine the classification integer $C$.\n6.  The resulting floating-point values ($P_{\\max}, P_{\\min}, W^{+}, W^{-}$) are rounded to $6$ decimal places.\n\nThis systematic procedure ensures accurate and verifiable results for each test case as specified.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the biomechanics problem for four test cases.\n    For each case, it computes max/min power, positive/negative work, and a classification integer.\n    \"\"\"\n\n    # Tolerance for net work classification\n    EPSILON = 1e-9\n\n    def half_sine_pulse(t, t0, D, A):\n        \"\"\"Generates a half-sine pulse.\"\"\"\n        pulse = np.zeros_like(t)\n        mask = (t >= t0) & (t <= t0 + D)\n        pulse[mask] = A * np.sin(np.pi * (t[mask] - t0) / D)\n        return pulse\n\n    def calculate_metrics(dt, T, tau_func, omega_func):\n        \"\"\"\n        Calculates all required metrics for a given set of torque and velocity functions.\n        \"\"\"\n        if dt <= 0:\n            raise ValueError(\"Sampling interval dt must be positive.\")\n        if T <= 0:\n            raise ValueError(\"Total duration T must be positive.\")\n            \n        num_samples = int(round(T / dt))\n        t = np.linspace(0, T, num_samples, endpoint=False)\n\n        tau = tau_func(t)\n        omega = omega_func(t)\n\n        power = tau * omega\n\n        p_max = np.max(power) if power.size > 0 else 0.0\n        p_min = np.min(power) if power.size > 0 else 0.0\n\n        positive_power_samples = power[power > 0]\n        w_pos = np.sum(positive_power_samples) * dt\n\n        negative_power_samples = power[power < 0]\n        w_neg = np.sum(negative_power_samples) * dt\n\n        w_net = w_pos + w_neg\n\n        if w_net > EPSILON:\n            C = 1\n        elif w_net < -EPSILON:\n            C = -1\n        else:\n            C = 0\n        \n        return [\n            round(p_max, 6),\n            round(p_min, 6),\n            round(w_pos, 6),\n            round(w_neg, 6),\n            C\n        ]\n\n    # --- Test Case Definitions ---\n\n    # Case A\n    def tau_A(t):\n        tau = np.zeros_like(t)\n        # Half-sine pulse\n        tau += half_sine_pulse(t, t0=0.120, D=0.250, A=110.0)\n        # Constant offset added\n        mask_offset = (t >= 0.370) & (t <= 0.500)\n        tau[mask_offset] += 25.0\n        return tau\n\n    def omega_A(t):\n        w = np.zeros_like(t)\n        # Positive half-sine pulse\n        w += half_sine_pulse(t, t0=0.120, D=0.250, A=7.0)\n        # Negative half-sine pulse\n        w += half_sine_pulse(t, t0=0.370, D=0.130, A=-3.0)\n        return w\n\n    # Case B\n    def tau_B(t):\n        tau = np.zeros_like(t)\n        mask = (t >= 0.100) & (t <= 0.350)\n        tau[mask] = 80.0\n        return tau\n    \n    def omega_B(t):\n        omega = np.zeros_like(t)\n        mask = (t >= 0.150) & (t <= 0.350)\n        omega[mask] = -6.0\n        return omega\n\n    # Case C\n    def tau_C(t):\n        return half_sine_pulse(t, t0=0.050, D=0.200, A=100.0)\n\n    def omega_C(t):\n        return np.zeros_like(t)\n\n    # Case D\n    def tau_D(t):\n        tau = np.zeros_like(t)\n        # Positive half-sine pulse\n        tau += half_sine_pulse(t, t0=0.100, D=0.150, A=100.0)\n        # Negative half-sine pulse\n        tau += half_sine_pulse(t, t0=0.250, D=0.150, A=-90.0)\n        return tau\n\n    def omega_D(t):\n        return half_sine_pulse(t, t0=0.100, D=0.300, A=7.0)\n\n    test_cases = [\n        {'dt': 0.001, 'T': 0.600, 'tau_func': tau_A, 'omega_func': omega_A},\n        {'dt': 0.001, 'T': 0.400, 'tau_func': tau_B, 'omega_func': omega_B},\n        {'dt': 0.001, 'T': 0.300, 'tau_func': tau_C, 'omega_func': omega_C},\n        {'dt': 0.001, 'T': 0.500, 'tau_func': tau_D, 'omega_func': omega_D},\n    ]\n\n    all_results = []\n    for case in test_cases:\n        result = calculate_metrics(case['dt'], case['T'], case['tau_func'], case['omega_func'])\n        all_results.append(result)\n\n    # Manual string formatting to match the required output format without spaces\n    case_strings = []\n    for res_list in all_results:\n        formatted_items = []\n        for item in res_list:\n            if isinstance(item, float):\n                formatted_items.append(f\"{item:.6f}\")\n            else:\n                formatted_items.append(str(item))\n        case_strings.append(f\"[{','.join(formatted_items)}]\")\n    \n    final_output_string = f\"[{','.join(case_strings)}]\"\n    print(final_output_string)\n\nsolve()\n```"
        }
    ]
}