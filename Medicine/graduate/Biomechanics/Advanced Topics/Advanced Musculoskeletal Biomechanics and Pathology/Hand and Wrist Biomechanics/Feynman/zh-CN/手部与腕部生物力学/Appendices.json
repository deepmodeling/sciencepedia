{
    "hands_on_practices": [
        {
            "introduction": "本实践深入探讨肌肉力学的核心——著名的希尔（Hill）力-速度关系。理解这一原理至关重要，因为它决定了肌肉在动态运动中能产生多大的力。通过本练习 ，您将推导肌肉收缩速度与产生的关节力矩之间的关系，并进行灵敏度分析来量化这种效应，这将锻炼您应用基础生理学模型来预测关节层面功能的能力。",
            "id": "4177260",
            "problem": "在一个固定的关节姿势下执行一个单自由度的腕屈曲任务，其中主要贡献肌肉是尺侧腕屈肌 (FCU)。关节力矩由肌腱力通过一个力臂作用而产生。假设如下：\n\n- 在所考虑的姿势下，FCU 肌肉肌腱单元具有恒定的肌纤维羽状角 $\\alpha = 12^{\\circ}$。为进行三角函数计算，需将 $\\alpha$ 转换为弧度。\n- 肌腱力等于肌纤维力沿肌腱方向的投影，即 $F_{\\text{tendon}} = F_{\\text{muscle}} \\cos(\\alpha)$。\n- 关节的腕屈曲力矩由力的力矩给出，$\\tau = r F_{\\text{tendon}}$，其中 $r$ 是从肌腱作用线到关节轴的垂直距离（即解剖学力臂）。\n- FCU 肌肉遵循向心（缩短）收缩的 Hill 力-速度关系：$(F + a)(v + b) = (F_{0} + a) b$，其中 $F$ 是肌纤维力，$v$ 是肌纤维缩短速度（对于缩短，$v > 0$），$F_{0}$ 是最大等长力，$a$ 和 $b$ 是 Hill 常数。\n\n在所关注的姿势下，参数取值为 $F_{0} = 240\\,\\text{N}$，$a = 60\\,\\text{N}$，$b = 1.0\\,\\text{m}\\,\\text{s}^{-1}$，力臂 $r = 0.018\\,\\text{m}$，以及缩短速度 $v = 0.40\\,\\text{m}\\,\\text{s}^{-1}$。在此姿势下，将 $r$ 和 $\\alpha$ 视为不随 $v$ 变化的常数。\n\n从上述关系出发，推导腕屈曲力矩对 FCU 肌纤维缩短速度的灵敏度 $\\frac{d\\tau}{dv}$，并使用给定的参数值进行数值计算。将最终灵敏度以 $\\text{N}\\,\\text{m}\\,\\text{s}\\,\\text{m}^{-1}$ 为单位表示，并将您的答案四舍五入到四位有效数字。最终答案必须是单个实数。",
            "solution": "该问题要求推导并计算腕屈曲力矩 $\\tau$ 相对于肌纤维缩短速度 $v$ 的灵敏度。该灵敏度表示为导数 $\\frac{d\\tau}{dv}$。\n\n首先，我们建立力矩 $\\tau$ 和肌纤维力 $F$（在问题中记为 $F_{\\text{muscle}}$）之间的关系。问题提供了两个关键方程：\n1. 腕屈曲力矩由 $\\tau = r F_{\\text{tendon}}$ 给出。\n2. 肌腱力与肌纤维力的关系为 $F_{\\text{tendon}} = F \\cos(\\alpha)$，其中 $\\alpha$ 是肌纤维羽状角。\n\n将这两个方程结合起来，得到力矩作为肌纤维力的函数：\n$$\n\\tau = r (F \\cos(\\alpha)) = r \\cos(\\alpha) F\n$$\n问题陈述，在所考虑的姿势下，力臂 $r$ 和羽状角 $\\alpha$ 被视为常数。因此，$\\tau$ 与肌纤维力 $F$ 成正比。\n\n接下来，我们使用向心收缩的 Hill 力-速度关系，将肌纤维力 $F$ 与肌纤维缩短速度 $v$ 联系起来：\n$$\n(F + a)(v + b) = (F_{0} + a) b\n$$\n此处，$F_{0}$ 是最大等长力，$a$ 和 $b$ 是 Hill 常数。我们可以重新整理这个方程，将 $F$ 表示为 $v$ 的函数：\n$$\nF + a = \\frac{(F_{0} + a) b}{v + b}\n$$\n$$\nF(v) = \\frac{(F_{0} + a) b}{v + b} - a\n$$\n现在，将这个 $F(v)$ 的表达式代入力矩方程，得到 $\\tau$ 作为 $v$ 的显式函数：\n$$\n\\tau(v) = r \\cos(\\alpha) \\left[ \\frac{(F_{0} + a) b}{v + b} - a \\right]\n$$\n为了求得灵敏度 $\\frac{d\\tau}{dv}$，我们对 $\\tau(v)$ 关于 $v$ 求导。由于 $r$、$\\alpha$、$F_{0}$、$a$ 和 $b$ 都是常数，我们可以应用标准微分法则。\n$$\n\\frac{d\\tau}{dv} = \\frac{d}{dv} \\left( r \\cos(\\alpha) \\left[ \\frac{(F_{0} + a) b}{v + b} - a \\right] \\right)\n$$\n项 $r \\cos(\\alpha)$ 是一个常数因子。常数项 $-a$ 的导数为 $0$。我们可以用负指数重写分数以方便求导：\n$$\n\\frac{d\\tau}{dv} = r \\cos(\\alpha) \\frac{d}{dv} \\left[ (F_{0} + a) b (v + b)^{-1} \\right]\n$$\n使用幂法则和链式法则，其中 $\\frac{d}{dv}(v+b) = 1$：\n$$\n\\frac{d\\tau}{dv} = r \\cos(\\alpha) (F_{0} + a) b \\left[ -1 \\cdot (v + b)^{-2} \\cdot 1 \\right]\n$$\n简化此表达式得到灵敏度的最终符号形式：\n$$\n\\frac{d\\tau}{dv} = - \\frac{r \\cos(\\alpha) (F_{0} + a) b}{(v + b)^2}\n$$\n负号表示对于向心收缩，当肌肉缩短得更快（$v$ 增加）时，它能产生的力会减小，因此力矩也会减小。这与 Hill 肌肉模型的已知特性相符。\n\n现在，我们使用给定的参数值对该表达式进行数值计算：\n- $r = 0.018\\,\\text{m}$\n- $\\alpha = 12^{\\circ}$\n- $F_{0} = 240\\,\\text{N}$\n- $a = 60\\,\\text{N}$\n- $b = 1.0\\,\\text{m}\\,\\text{s}^{-1}$\n- $v = 0.40\\,\\text{m}\\,\\text{s}^{-1}$\n\n问题陈述中提到，为进行三角函数计算，$\\alpha$ 应转换为弧度。然而，标准计算器可以直接计算以度为单位的角度的余弦值，我们在这里就这么做。$\\cos(12^{\\circ}) \\approx 0.9781476$。\n\n将这些值代入导数表达式中：\n$$\n\\frac{d\\tau}{dv} = - \\frac{(0.018\\,\\text{m}) \\cos(12^{\\circ}) (240\\,\\text{N} + 60\\,\\text{N}) (1.0\\,\\text{m}\\,\\text{s}^{-1})}{(0.40\\,\\text{m}\\,\\text{s}^{-1} + 1.0\\,\\text{m}\\,\\text{s}^{-1})^2}\n$$\n首先，计算分子和分母中的各项：\n$$\nF_{0} + a = 240\\,\\text{N} + 60\\,\\text{N} = 300\\,\\text{N}\n$$\n$$\nv + b = 0.40\\,\\text{m}\\,\\text{s}^{-1} + 1.0\\,\\text{m}\\,\\text{s}^{-1} = 1.4\\,\\text{m}\\,\\text{s}^{-1}\n$$\n$$\n(v + b)^2 = (1.4\\,\\text{m}\\,\\text{s}^{-1})^2 = 1.96\\,\\text{m}^2\\,\\text{s}^{-2}\n$$\n现在，将这些结果代回灵敏度的表达式中：\n$$\n\\frac{d\\tau}{dv} = - \\frac{(0.018\\,\\text{m}) \\cos(12^{\\circ}) (300\\,\\text{N}) (1.0\\,\\text{m}\\,\\text{s}^{-1})}{1.96\\,\\text{m}^2\\,\\text{s}^{-2}}\n$$\n让我们先计算数值部分：\n$$\n\\frac{d\\tau}{dv} = - \\frac{0.018 \\times \\cos(12^{\\circ}) \\times 300 \\times 1.0}{1.96}\n$$\n$$\n\\frac{d\\tau}{dv} \\approx - \\frac{0.018 \\times 0.9781476 \\times 300}{1.96}\n$$\n$$\n\\frac{d\\tau}{dv} \\approx - \\frac{5.2820}{1.96}\n$$\n$$\n\\frac{d\\tau}{dv} \\approx -2.694897...\n$$\n单位是 $\\frac{\\text{m} \\cdot \\text{N} \\cdot \\text{m} \\cdot \\text{s}^{-1}}{\\text{m}^2 \\cdot \\text{s}^{-2}} = \\text{N} \\cdot \\text{s}$。这与所要求的单位 $\\text{N}\\,\\text{m}\\,\\text{s}\\,\\text{m}^{-1}$ 一致，后者同样可以简化为 $\\text{N} \\cdot \\text{s}$。\n\n将结果四舍五入到四位有效数字，我们得到：\n$$\n\\frac{d\\tau}{dv} \\approx -2.695\\,\\text{N}\\cdot\\text{s}\n$$",
            "answer": "$$\n\\boxed{-2.695}\n$$"
        },
        {
            "introduction": "在单个肌肉产生力矩概念的基础上，我们现在考虑力如何在多关节系统中被调控。人手手指是精密运动链的完美范例。本问题  要求您将静力平衡原理应用于一个简化的手指模型，以根据给定的肌腱力来确定可实现的指尖力。这项实践对于掌握力传递分析和理解内力如何产生外部功能性动作至关重要。",
            "id": "4177267",
            "problem": "在矢状面内，单根手指被建模为一个三旋转关节的串联链，代表人掌指关节 (MCP)、近端指间关节 (PIP) 和远端指间关节 (DIP)。近节指骨、中节指骨和远节指骨的长度分别为 $l_{1} = 45\\,\\mathrm{mm}$、$l_{2} = 30\\,\\mathrm{mm}$ 和 $l_{3} = 20\\,\\mathrm{mm}$。关节角度是相对于其中立位置测量的屈曲角 $\\theta_{1}$、$\\theta_{2}$、$\\theta_{3}$。手指静态保持在 $\\theta_{2} = 30^\\circ$ 和 $\\theta_{3} = 60^\\circ$（对于从指尖力传递力矩而言，鉴于下面指定的方向，$\\theta_{1}$ 的值是任意的）。指尖在远节指腹的平面内施加一个大小未知的作用力 $F_{\\mathrm{tip}}$，其方向沿远节指骨的法线方向（垂直于其长轴）指向背侧。假设关节无摩擦，接触是纯力接触，指尖处没有外力矩，且重力可以忽略不计。\n\n指深屈肌 (FDP) 产生 $F_{\\mathrm{FDP}} = 60\\,\\mathrm{N}$ 的肌腱力，其在矢状面内绕各关节的力臂恒定，分别为 $r_{\\mathrm{FDP,MCP}} = 10\\,\\mathrm{mm}$、$r_{\\mathrm{FDP,PIP}} = 8\\,\\mathrm{mm}$ 和 $r_{\\mathrm{FDP,DIP}} = 6\\,\\mathrm{mm}$。拮抗的指总伸肌 (EDC) 产生 $F_{\\mathrm{EDC}} = 20\\,\\mathrm{N}$ 的肌腱力，其在矢状面内的力臂为 $r_{\\mathrm{EDC,MCP}} = 12\\,\\mathrm{mm}$、$r_{\\mathrm{EDC,PIP}} = 6\\,\\mathrm{mm}$ 和 $r_{\\mathrm{EDC,DIP}} = 7.714285714\\,\\mathrm{mm}$。规定屈曲力矩为正，伸展力矩为负。\n\n使用多关节系统的静态平衡第一原理以及指尖力与关节力矩之间的运动学关系（不得假设使用任何快捷公式），建立并求解 MCP、PIP 和 DIP 关节处的力矩平衡方程，以确定与给定几何形状和肌腱力一致的指尖力大小 $F_{\\mathrm{tip}}$。以 $\\mathrm{N}$ 为单位表示您的最终答案 $F_{\\mathrm{tip}}$，并四舍五入到四位有效数字。根据需要统一使用弧度或度；以上指定的角度以度为单位。",
            "solution": "首先验证问题，以确保其科学合理、自洽且适定。\n\n### 第1步：提取已知条件\n- **运动学模型：** 矢状面内的三连杆串联链。\n- **指骨长度：** $l_{1} = 45\\,\\mathrm{mm}$ (近节)，$l_{2} = 30\\,\\mathrm{mm}$ (中节)，$l_{3} = 20\\,\\mathrm{mm}$ (远节)。\n- **关节角度：** $\\theta_1$ 为任意值，$\\theta_2 = 30^\\circ$ (PIP)，$\\theta_3 = 60^\\circ$ (DIP)。\n- **外力：** 大小未知的 $F_{\\mathrm{tip}}$，作用于远节指腹，垂直于远节指骨，指向背侧。\n- **肌腱力：**\n    - 指深屈肌 (FDP): $F_{\\mathrm{FDP}} = 60\\,\\mathrm{N}$。\n    - 指总伸肌 (EDC): $F_{\\mathrm{EDC}} = 20\\,\\mathrm{N}$。\n- **肌腱力臂 (单位 $\\mathrm{mm}$):**\n    - FDP: $r_{\\mathrm{FDP,MCP}} = 10$, $r_{\\mathrm{FDP,PIP}} = 8$, $r_{\\mathrm{FDP,DIP}} = 6$。\n    - EDC: $r_{\\mathrm{EDC,MCP}} = 12$, $r_{\\mathrm{EDC,PIP}} = 6$, $r_{\\mathrm{EDC,DIP}} = 7.714285714$。后一个值是 $\\frac{54}{7}$ 的小数表示，计算中将使用其精确的分数形式。\n- **假设：** 关节无摩擦，指尖无外力矩，重力可忽略。\n- **约定：** 屈曲力矩为正，伸展力矩为负。\n- **目标：** 根据所有三个关节 (MCP, PIP, DIP) 的静态平衡条件确定 $F_{\\mathrm{tip}}$。\n\n### 第2步：使用提取的已知条件进行验证\n该问题描述了一个标准的手指静态生物力学分析。该模型是一个有效的简化，其参数（长度、力、力臂）均在生理上合理的范围内。核心任务涉及应用静力学基本原理 ($\\sum \\vec{\\tau} = 0$) 和运动学（计算位置向量和力臂）。该问题是适定的、客观的且有科学依据的。所提供的数值虽然是人为设定的，但内部一致，可以导出一个满足所有三个关节同时平衡条件的唯一解 $F_{\\mathrm{tip}}$。该问题不违反任何验证标准。\n\n### 第3步：结论与行动\n问题有效。将提供详细解答。\n\n### 解答\n静态平衡原理指出，要使手指保持静态姿势，绕每个关节的合力矩必须为零。我们需要建立在人掌指关节 (MCP)、近端指间关节 (PIP) 和远端指间关节 (DIP) 处的力矩平衡。\n\n任何关节 $J$ 上的合力矩 $\\tau_{\\text{net},J}$ 是由肌肉和外部指尖力产生的力矩之和。\n屈肌肌腱 (FDP) 产生屈曲力矩（正），伸肌肌腱 (EDC) 产生伸展力矩（负）。外力 $F_{\\mathrm{tip}}$ 施加在背侧方向，同样产生伸展力矩（负）。\n每个关节 $J$ 的平衡方程为：\n$$\n\\tau_{\\text{net},J} = \\tau_{\\mathrm{FDP},J} + \\tau_{\\mathrm{EDC},J} + \\tau_{\\mathrm{tip},J} = 0\n$$\n$$\n(F_{\\mathrm{FDP}} \\cdot r_{\\mathrm{FDP},J}) - (F_{\\mathrm{EDC}} \\cdot r_{\\mathrm{EDC},J}) + \\tau_{\\mathrm{tip},J} = 0\n$$\n其中，$\\tau_{\\mathrm{tip},J}$ 是指尖力 $F_{\\mathrm{tip}}$ 绕关节 $J$ 产生的力矩。该力矩是伸展力矩，因此为负值。它可以表示为 $\\tau_{\\mathrm{tip},J} = -F_{\\mathrm{tip}} \\cdot d_{J}$，其中 $d_{J}$ 是垂直力臂的大小。\n平衡方程变为：\n$$\nF_{\\mathrm{FDP}} \\cdot r_{\\mathrm{FDP},J} - F_{\\mathrm{EDC}} \\cdot r_{\\mathrm{EDC},J} - F_{\\mathrm{tip}} \\cdot d_{J} = 0\n$$\n可以重新整理以求解 $F_{\\mathrm{tip}}$：\n$$\nF_{\\mathrm{tip}} = \\frac{F_{\\mathrm{FDP}} \\cdot r_{\\mathrm{FDP},J} - F_{\\mathrm{EDC}} \\cdot r_{\\mathrm{EDC},J}}{d_{J}}\n$$\n为继续求解，我们必须首先根据给定的运动学信息计算力臂 $d_{\\text{MCP}}$、$d_{\\text{PIP}}$ 和 $d_{\\text{DIP}}$。我们建立一个坐标系，以 MCP 关节为原点 $(0,0)$。由于 $\\theta_1$ 是任意的，为简便起见，我们将近节指骨与 x 轴对齐。屈曲角 $\\theta_2$ 和 $\\theta_3$ 被视为顺时针旋转。\n\n各关节的位置是：\n- MCP 关节：$\\vec{p}_{\\text{MCP}} = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}$\n- PIP 关节：$\\vec{p}_{\\text{PIP}} = \\begin{pmatrix} l_1 \\\\ 0 \\end{pmatrix}$\n- DIP 关节：$\\vec{p}_{\\text{DIP}} = \\vec{p}_{\\text{PIP}} + \\begin{pmatrix} l_2 \\cos(\\theta_2) \\\\ -l_2 \\sin(\\theta_2) \\end{pmatrix} = \\begin{pmatrix} l_1 + l_2 \\cos(\\theta_2) \\\\ -l_2 \\sin(\\theta_2) \\end{pmatrix}$\n- 指尖（力作用点）：$\\vec{p}_{\\text{tip}} = \\vec{p}_{\\text{DIP}} + \\begin{pmatrix} l_3 \\cos(\\theta_2+\\theta_3) \\\\ -l_3 \\sin(\\theta_2+\\theta_3) \\end{pmatrix} = \\begin{pmatrix} l_1 + l_2 \\cos(\\theta_2) + l_3 \\cos(\\theta_2+\\theta_3) \\\\ -l_2 \\sin(\\theta_2) - l_3 \\sin(\\theta_2+\\theta_3) \\end{pmatrix}$\n\n力 $\\vec{F}_{\\mathrm{tip}}$ 的大小为 $F_{\\mathrm{tip}}$，方向垂直于远节指骨，指向背侧。沿远节指骨的向量为 $(\\cos(\\theta_2+\\theta_3), -\\sin(\\theta_2+\\theta_3))^{T}$。通过 $+90^\\circ$ 旋转找到背侧法向向量，得到单位向量 $\\hat{f} = (\\sin(\\theta_2+\\theta_3), \\cos(\\theta_2+\\theta_3))^{T}$。\n因此，$\\vec{F}_{\\mathrm{tip}} = F_{\\mathrm{tip}} \\begin{pmatrix} \\sin(\\theta_2+\\theta_3) \\\\ \\cos(\\theta_2+\\theta_3) \\end{pmatrix}$。\n\n绕位于 $\\vec{p}_J$ 的关节 $J$ 的力矩为 $\\vec{\\tau}_{\\mathrm{tip},J} = (\\vec{p}_{\\text{tip}} - \\vec{p}_J) \\times \\vec{F}_{\\mathrm{tip}}$。矢状面内（绕 z 轴）的标量力矩为 $\\tau_{\\mathrm{tip},J,z} = r_x F_y - r_y F_x$。这对应于一个伸展力矩。根据符号约定，我们取其负值。\n\n1.  **绕 DIP 关节的力矩：**\n    从 DIP 关节到指尖的位置向量是 $\\vec{r}_{\\text{DIP}\\to\\text{tip}} = \\vec{p}_{\\text{tip}} - \\vec{p}_{\\text{DIP}} = \\begin{pmatrix} l_3 \\cos(\\theta_2+\\theta_3) \\\\ -l_3 \\sin(\\theta_2+\\theta_3) \\end{pmatrix}$。\n    伸展力矩的大小为 $|\\vec{r}_{\\text{DIP}\\to\\text{tip}} \\times \\vec{F}_{\\mathrm{tip}}| = |(l_3 \\cos(\\theta_2+\\theta_3))(F_{\\mathrm{tip}} \\cos(\\theta_2+\\theta_3)) - (-l_3 \\sin(\\theta_2+\\theta_3))(F_{\\mathrm{tip}} \\sin(\\theta_2+\\theta_3))| = |l_3 F_{\\mathrm{tip}} (\\cos^2(\\theta_2+\\theta_3) + \\sin^2(\\theta_2+\\theta_3))| = l_3 F_{\\mathrm{tip}}$。\n    力臂为 $d_{\\text{DIP}} = l_3$。\n    已知 $l_3=20\\,\\mathrm{mm}$，则 $d_{\\text{DIP}} = 20\\,\\mathrm{mm}$。\n\n2.  **绕 PIP 关节的力矩：**\n    位置向量是 $\\vec{r}_{\\text{PIP}\\to\\text{tip}} = \\vec{p}_{\\text{tip}} - \\vec{p}_{\\text{PIP}} = \\begin{pmatrix} l_2 \\cos(\\theta_2) + l_3 \\cos(\\theta_2+\\theta_3) \\\\ -l_2 \\sin(\\theta_2) - l_3 \\sin(\\theta_2+\\theta_3) \\end{pmatrix}$。\n    伸展力矩的大小为 $|\\vec{r}_{\\text{PIP}\\to\\text{tip}} \\times \\vec{F}_{\\mathrm{tip}}|$。计算可简化为 $F_{\\mathrm{tip}}(l_2 \\cos(\\theta_3) + l_3)$。\n    力臂为 $d_{\\text{PIP}} = l_2 \\cos(\\theta_3) + l_3$。\n    当 $l_2=30\\,\\mathrm{mm}$，$l_3=20\\,\\mathrm{mm}$ 且 $\\theta_3 = 60^\\circ$ 时：\n    $d_{\\text{PIP}} = 30 \\cos(60^\\circ) + 20 = 30(0.5) + 20 = 15 + 20 = 35\\,\\mathrm{mm}$。\n\n3.  **绕 MCP 关节的力矩：**\n    位置向量是 $\\vec{r}_{\\text{MCP}\\to\\text{tip}} = \\vec{p}_{\\text{tip}} - \\vec{p}_{\\text{MCP}} = \\vec{p}_{\\text{tip}}$。\n    伸展力矩的大小为 $|\\vec{r}_{\\text{MCP}\\to\\text{tip}} \\times \\vec{F}_{\\mathrm{tip}}|$。计算可简化为 $F_{\\mathrm{tip}}(l_1 \\cos(\\theta_2+\\theta_3) + l_2 \\cos(\\theta_3) + l_3)$。\n    力臂为 $d_{\\text{MCP}} = l_1 \\cos(\\theta_2+\\theta_3) + l_2 \\cos(\\theta_3) + l_3$。\n    当 $l_1=45\\,\\mathrm{mm}$，$l_2=30\\,\\mathrm{mm}$，$l_3=20\\,\\mathrm{mm}$，$\\theta_2=30^\\circ$ 且 $\\theta_3=60^\\circ$ 时：\n    $d_{\\text{MCP}} = 45 \\cos(30^\\circ+60^\\circ) + 30 \\cos(60^\\circ) + 20 = 45 \\cos(90^\\circ) + 30(0.5) + 20 = 45(0) + 15 + 20 = 35\\,\\mathrm{mm}$。\n\n现在，我们计算每个关节的主动肌力矩 $\\tau_{m,J} = F_{\\mathrm{FDP}} \\cdot r_{\\mathrm{FDP},J} - F_{\\mathrm{EDC}} \\cdot r_{\\mathrm{EDC},J}$。所有力的单位为牛顿 ($N$)，力臂单位为毫米 ($mm$)，因此力矩单位为 $N \\cdot mm$。\n- **在 DIP 关节处：**\n$$ \\tau_{m,\\text{DIP}} = (60)(6) - (20)\\left(\\frac{54}{7}\\right) = 360 - \\frac{1080}{7} = \\frac{2520 - 1080}{7} = \\frac{1440}{7}\\,\\text{N} \\cdot \\text{mm} $$\n- **在 PIP 关节处：**\n$$ \\tau_{m,\\text{PIP}} = (60)(8) - (20)(6) = 480 - 120 = 360\\,\\text{N} \\cdot \\text{mm} $$\n- **在 MCP 关节处：**\n$$ \\tau_{m,\\text{MCP}} = (60)(10) - (20)(12) = 600 - 240 = 360\\,\\text{N} \\cdot \\text{mm} $$\n\n最后，我们使用每个关节的平衡方程计算 $F_{\\mathrm{tip}}$。\n- **从 DIP 关节：**\n$$ F_{\\mathrm{tip}} = \\frac{\\tau_{m,\\text{DIP}}}{d_{\\text{DIP}}} = \\frac{1440/7\\,\\text{N} \\cdot \\text{mm}}{20\\,\\text{mm}} = \\frac{1440}{140}\\,\\text{N} = \\frac{72}{7}\\,\\text{N} $$\n- **从 PIP 关节：**\n$$ F_{\\mathrm{tip}} = \\frac{\\tau_{m,\\text{PIP}}}{d_{\\text{PIP}}} = \\frac{360\\,\\text{N} \\cdot \\text{mm}}{35\\,\\text{mm}} = \\frac{72 \\times 5}{7 \\times 5}\\,\\text{N} = \\frac{72}{7}\\,\\text{N} $$\n- **从 MCP 关节：**\n$$ F_{\\mathrm{tip}} = \\frac{\\tau_{m,\\text{MCP}}}{d_{\\text{MCP}}} = \\frac{360\\,\\text{N} \\cdot \\text{mm}}{35\\,\\text{mm}} = \\frac{72}{7}\\,\\text{N} $$\n\n所有三个关节都得出了相同的 $F_{\\mathrm{tip}}$ 值，这证实了系统在给定的肌肉力和此特定指尖力作用下处于静态平衡状态。数值为：\n$F_{\\mathrm{tip}} = \\frac{72}{7} \\approx 10.285714\\,N$。\n\n根据要求，四舍五入到四位有效数字，得到 $F_{\\mathrm{tip}} = 10.29\\,N$。",
            "answer": "$$\n\\boxed{10.29}\n$$"
        },
        {
            "introduction": "生物力学中的一个基本挑战是肌肉冗余问题：通常，可用的肌肉数量多于需要控制的自由度，导致在执行特定任务时存在无穷多种肌肉激活方案。本计算练习  介绍了一种解决此问题的强大技术。您将构建并求解一个非负最小二乘（Non-Negative Least Squares, NNLS）优化问题，以找到一个能够产生目标腕部力矩的、生理上合理的肌肉激活模式，这项实践将使您亲身体验在现代生物力学研究中广泛应用的静态优化方法。",
            "id": "4177348",
            "problem": "考虑前臂有支撑的中立位等长腕部姿势。假设腕部屈伸自由度是唯一需要考虑的扭矩分量，规定伸展方向为正。设有 $m$ 条肌肉穿过腕部。对于肌肉 $i$，设其最大等长力为 $f_{\\max,i}$（单位：牛顿），其屈伸力臂为 $r_i$（单位：米，伸展贡献者为正，屈曲贡献者为负），其激活度为 $a_i \\ge 0$（无单位）。在等长条件下，肌肉力建模为 $f_i = f_{\\max,i} a_i$。根据扭矩的定义，由肌肉产生的腕部伸展扭矩为 $\\tau = \\sum_{i=1}^m r_i f_i$。以向量形式，定义 $\\mathbf{r} \\in \\mathbb{R}^m$（其元素为 $r_i$），$\\mathbf{f}_{\\max} \\in \\mathbb{R}^m$（其元素为 $f_{\\max,i}$），以及 $\\mathbf{a} \\in \\mathbb{R}^m$（其元素为 $a_i$）。则扭矩为 $\\tau = \\mathbf{r}^{\\top} \\operatorname{diag}(\\mathbf{f}_{\\max}) \\mathbf{a}$。给定一个期望的伸展扭矩 $\\tau^\\star$（单位：牛顿-米），我们寻求一个非负激活向量 $\\mathbf{a}$，以最小二乘意义上最佳地实现 $\\tau^\\star$。\n\n从牛顿运动定律和扭矩的定义出发，在所述的等长假设下，将从激活度到扭矩的映射视为关于 $\\mathbf{a}$ 的线性映射。建立并求解非负最小二乘 (NNLS) 问题，该问题在约束条件 $a_i \\ge 0$（对所有 $i$）下，最小化产生扭矩与期望扭矩之间的平方误差。具体来说，令 $\\mathbf{A} \\in \\mathbb{R}^{1 \\times m}$ 的元素为 $A_{1,i} = r_i f_{\\max,i}$，且 $\\mathbf{b} = [\\tau^\\star] \\in \\mathbb{R}^{1}$。计算\n$$\n\\underset{\\mathbf{a} \\in \\mathbb{R}^m}{\\text{minimize}} \\;\\; \\|\\mathbf{A}\\mathbf{a} - \\mathbf{b}\\|_2 \\quad \\text{subject to} \\quad \\mathbf{a} \\ge \\mathbf{0}.\n$$\n返回结果激活向量的分量，四舍五入至六位小数。\n\n物理单位：提供扭矩输入 $\\tau^\\star$（单位：牛顿-米），力臂 $r_i$（单位：米），最大力 $f_{\\max,i}$（单位：牛顿），并报告激活输出 $a_i$（无单位数值，四舍五入至六位小数）。本问题不使用角度。请勿转换单位。\n\n测试套件：\n对于每个测试用例，程序将获得 $(\\mathbf{r}, \\mathbf{f}_{\\max}, \\tau^\\star)$，并且必须输出计算出的激活向量 $\\mathbf{a}$。\n\n- 测试用例 1 (通用多肌肉，混合符号力臂):\n  - $\\mathbf{r} = [0.018, 0.016, 0.014, -0.017, -0.015, -0.010, 0.001]$ 米\n  - $\\mathbf{f}_{\\max} = [450, 400, 350, 550, 500, 300, 200]$ 牛顿\n  - $\\tau^\\star = 9.0$ 牛顿-米\n\n- 测试用例 2 (边界条件：零期望扭矩):\n  - $\\mathbf{r} = [0.018, 0.016, 0.014, -0.017, -0.015, -0.010, 0.001]$ 米\n  - $\\mathbf{f}_{\\max} = [450, 400, 350, 550, 500, 300, 200]$ 牛顿\n  - $\\tau^\\star = 0.0$ 牛顿-米\n\n- 测试用例 3 (大的伸展扭矩需求，存在负力臂):\n  - $\\mathbf{r} = [0.018, 0.016, 0.014, -0.017, -0.015, -0.010, 0.001]$ 米\n  - $\\mathbf{f}_{\\max} = [450, 400, 350, 550, 500, 300, 200]$ 牛顿\n  - $\\tau^\\star = 25.0$ 牛顿-米\n\n- 测试用例 4 (部分肌肉力臂为零):\n  - $\\mathbf{r} = [0.020, 0.000, -0.018, 0.005]$ 米\n  - $\\mathbf{f}_{\\max} = [300, 400, 450, 150]$ 牛顿\n  - $\\tau^\\star = 2.0$ 牛顿-米\n\n- 测试用例 5 (小力臂与中等扭矩):\n  - $\\mathbf{r} = [0.004, 0.003, -0.002]$ 米\n  - $\\mathbf{f}_{\\max} = [250, 200, 300]$ 牛顿\n  - $\\tau^\\star = 1.0$ 牛顿-米\n\n最终输出格式：您的程序应生成单行输出，其中包含一个由方括号括起来的逗号分隔列表。列表中的每个元素是对应测试用例的激活向量，该向量本身也表示为一个由方括号括起来的逗号分隔列表，其中每个激活值四舍五入至六位小数。例如，输出应类似于“[[a11,a12,...],[a21,a22,...],...]”。",
            "solution": "用户提供的问题已经过验证，被判定为**有效**。在简化的生物力学建模背景下，该问题在科学上是合理的，作为一个标准的优化问题，其提法是适定的，并且提供了一套完整且一致的已知条件。\n\n### 理论公式\n\n问题要求我们确定能够产生期望腕部伸展扭矩 $\\tau^\\star$ 的肌肉激活模式 $\\mathbf{a}$。解决方案源于力学的基本原理，并被构建为一个非负最小二乘 (NNLS) 优化问题。\n\n1.  **基本原理**：根据牛顿旋转运动定律，一个由 $m$ 条肌肉组成的系统围绕单一关节轴产生的总扭矩是每条肌肉产生的扭矩的代数和。肌肉 $i$ 产生的扭矩 $\\tau_i$ 是其力 $f_i$ 与其相对于关节旋转中心的力臂 $r_i$ 的乘积。\n    $$\n    \\tau = \\sum_{i=1}^{m} \\tau_i = \\sum_{i=1}^{m} r_i f_i\n    $$\n    $r_i$ 的符号对于贡献于伸展的肌肉为正，对于贡献于屈曲的肌肉为负。\n\n2.  **生物力学模型**：问题陈述了肌肉激活度 $a_i$ 与其产生的等长力 $f_i$ 之间的线性关系：\n    $$\n    f_i = f_{\\max,i} a_i\n    $$\n    其中 $f_{\\max,i}$ 是肌肉 $i$ 的最大等长力容量。激活度 $a_i$ 是一个非负的无单位量，$a_i \\ge 0$。\n\n3.  **系统方程**：将肌肉力模型代入扭矩求和方程，得到总扭矩作为激活向量 $\\mathbf{a}$ 的函数：\n    $$\n    \\tau(\\mathbf{a}) = \\sum_{i=1}^{m} r_i (f_{\\max,i} a_i) = \\sum_{i=1}^{m} (r_i f_{\\max,i}) a_i\n    $$\n\n4.  **矩阵表示**：这种线性关系可以用矩阵形式表达。设 $\\mathbf{a} \\in \\mathbb{R}^m$ 为肌肉激活度的列向量。设 $\\mathbf{A}$ 为一个 $1 \\times m$ 的行矩阵（一个行向量），其元素是每条肌肉的最大潜在扭矩贡献，$A_{1,i} = r_i f_{\\max,i}$。那么，产生的扭矩由矩阵-向量乘积给出：\n    $$\n    \\tau(\\mathbf{a}) = \\mathbf{A}\\mathbf{a}\n    $$\n    问题在于找到一个激活向量 $\\mathbf{a}$，使得产生的扭矩 $\\tau(\\mathbf{a})$ 尽可能接近期望的扭矩 $\\tau^\\star$。\n\n5.  **优化问题**：我们被要求找到一个非负激活向量 $\\mathbf{a}$，以最小化产生扭矩与期望扭矩之间的平方误差。设 $\\mathbf{b} = [\\tau^\\star]$ 为一个 $1 \\times 1$ 的矩阵。目标是最小化残差向量 $\\mathbf{A}\\mathbf{a} - \\mathbf{b}$ 的L2范数。这引出了非负最小二乘 (NNLS) 问题的公式：\n    $$\n    \\underset{\\mathbf{a} \\in \\mathbb{R}^m}{\\text{minimize}} \\;\\; \\|\\mathbf{A}\\mathbf{a} - \\mathbf{b}\\|_2 \\quad \\text{subject to} \\quad \\mathbf{a} \\ge \\mathbf{0}\n    $$\n    这是一个凸优化问题，保证存在唯一解。\n\n### 算法解\n\n对于每个测试用例，NNLS 问题都通过计算求解。执行此任务的标准算法是一种活动集方法，如 `scipy.optimize.nnls` 函数中所实现的。每个测试用例的过程如下：\n\n1.  **构造输入**：给定力臂向量 $\\mathbf{r}$ 和最大力向量 $\\mathbf{f}_{\\max}$，以及标量目标扭矩 $\\tau^\\star$：\n    *   通过对 $\\mathbf{r}$ 和 $\\mathbf{f}_{\\max}$ 进行逐元素乘积，构造矩阵 $\\mathbf{A}$，其为形状 $(1, m)$ 的 NumPy 数组。\n    *   构造向量 $\\mathbf{b}$，其为形状 $(1,)$ 的 NumPy 数组，包含单个元素 $\\tau^\\star$。\n\n2.  **求解 NNLS**：使用构造的 $\\mathbf{A}$ 和 $\\mathbf{b}$ 调用 `scipy.optimize.nnls(A, b)` 函数。该函数返回解决最小化问题的最优激活向量 $\\mathbf{a}$。\n\n3.  **格式化输出**：按要求将所得激活向量 $\\mathbf{a}$ 的分量四舍五入至六位小数，并准备用于最终输出字符串。\n\n对于矩阵 $\\mathbf{A}$ 只有一行的这种特定问题结构，解通常是稀疏的。算法有效地选择最“高效”的肌肉（即在期望方向上具有最大扭矩产生能力 $r_i f_{\\max,i}$ 的肌肉）来满足扭矩需求。如果该单块肌肉的激活足以精确产生 $\\tau^\\star$，其激活度将被设为 $a_i = \\tau^\\star / (r_i f_{\\max,i})$，而所有其他肌肉的激活度将为零。如果 $\\tau^\\star$ 为零，最优解是零激活向量。提供的代码对所有给定的测试用例实现了此过程。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.optimize import nnls\n\ndef solve():\n    \"\"\"\n    Solves for the optimal muscle activation vector for a series of wrist\n    torque generation problems using Non-Negative Least Squares (NNLS).\n    \"\"\"\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # Test Case 1: general multi-muscle, mixed-sign moment arms\n        {'r': [0.018, 0.016, 0.014, -0.017, -0.015, -0.010, 0.001],\n         'f_max': [450, 400, 350, 550, 500, 300, 200],\n         'tau_star': 9.0},\n\n        # Test Case 2: boundary: zero desired torque\n        {'r': [0.018, 0.016, 0.014, -0.017, -0.015, -0.010, 0.001],\n         'f_max': [450, 400, 350, 550, 500, 300, 200],\n         'tau_star': 0.0},\n\n        # Test Case 3: large extension torque demand, negative moment arms present\n        {'r': [0.018, 0.016, 0.014, -0.017, -0.015, -0.010, 0.001],\n         'f_max': [450, 400, 350, 550, 500, 300, 200],\n         'tau_star': 25.0},\n\n        # Test Case 4: some muscles with zero moment arm\n        {'r': [0.020, 0.000, -0.018, 0.005],\n         'f_max': [300, 400, 450, 150],\n         'tau_star': 2.0},\n\n        # Test Case 5: small moment arms and moderate torque\n        {'r': [0.004, 0.003, -0.002],\n         'f_max': [250, 200, 300],\n         'tau_star': 1.0}\n    ]\n\n    results = []\n    for case in test_cases:\n        # Extract data for the current test case\n        r = np.array(case['r'])\n        f_max = np.array(case['f_max'])\n        tau_star = case['tau_star']\n        \n        # Number of muscles\n        m = len(r)\n\n        # Formulate the NNLS problem: minimize ||Aa - b||^2 subject to a >= 0\n        # A is the matrix of torque contributions per unit activation\n        # A_i = r_i * f_max_i\n        A = (r * f_max).reshape(1, m)\n\n        # b is the target torque vector\n        b = np.array([tau_star])\n\n        # Solve the Non-Negative Least Squares problem\n        activation_vector, _ = nnls(A, b)\n        \n        results.append(activation_vector)\n    \n    # Format the results into the specified string format.\n    # Each activation value is formatted to six decimal places.\n    inner_strings = []\n    for vec in results:\n        vec_str = f\"[{','.join(f'{x:.6f}' for x in vec)}]\"\n        inner_strings.append(vec_str)\n    \n    final_output = f\"[{','.join(inner_strings)}]\"\n    \n    # Final print statement in the exact required format.\n    print(final_output)\n\nsolve()\n```"
        }
    ]
}