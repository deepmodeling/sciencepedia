{
    "hands_on_practices": [
        {
            "introduction": "细胞骨架是由多种蛋白丝（如肌动蛋白丝和中间丝）构成的复合材料，其整体力学特性源于各组分的贡献。本练习将细胞骨架束视为一个复合材料，应用材料科学中的混合定则（rule of mixtures）来推导其有效轴向模量。通过这个实践，您将学会如何从单个丝的力学性质和体积分数出发，来预测宏观尺度上细胞骨架结构的刚度，这是理解细胞整体力学响应的基础。",
            "id": "4168653",
            "problem": "一个与施加的轴向载荷对齐的机械连续的细胞骨架束，被建模为两个并联相：肌动蛋白丝相和中间丝 (IF) 相。由于强的交联和几何限制，这两个相共享相同的轴向应变。该网络维持在一个与张拉整体结构一致的预张紧状态，此处探测的有效轴向刚度对应于该预应力工作点附近的小应变切线响应。设该束沿加载方向的共同标距长度为 $L$，总横截面积为 $A_{\\text{tot}}$，其中各相的横截面积分别为 $A_{a}$ (肌动蛋白) 和 $A_{\\text{if}}$ (中间丝)。体积分数定义为 $\\phi_{a} = V_{a}/V_{\\text{tot}}$ 和 $\\phi_{\\text{if}} = V_{\\text{if}}/V_{\\text{tot}}$，其中对于每一相 $i \\in \\{a,\\text{if}\\}$，有 $V_{i} = A_{i} L$，且 $V_{\\text{tot}} = A_{\\text{tot}} L$。假设在工作点处为线性弹性小应变行为，其切线模量为 $E_{a} = 1.9 \\times 10^{9}$ Pa 和 $E_{\\text{if}} = 6.0 \\times 10^{7}$ Pa，体积分数为 $\\phi_{a} = 0.32$ 和 $\\phi_{\\text{if}} = 0.68$。仅使用应力、应变、平衡和线性弹性的基本定义，推导在共享应变下复合材料的有效轴向模量 $E_{\\text{eff}}$，并计算其数值。以帕斯卡为单位表示你的最终结果，并将答案四舍五入到四位有效数字。",
            "solution": "在共享应变下，并联复合材料的有效轴向模量 $E_{\\text{eff}}$ 可由应力、应变、力平衡和线性弹性的定义推导得出。考虑一个施加的小轴向应变 $\\epsilon$，由于强的交联和几何限制（等应变假设），该应变对两个相是共同的。根据定义，各相的轴向应变为\n$$\n\\epsilon_{a} = \\epsilon \\quad \\text{and} \\quad \\epsilon_{\\text{if}} = \\epsilon.\n$$\n对于每一相，在工作点附近的线性弹性行为意味着 Hooke 定律成立：\n$$\n\\sigma_{a} = E_{a} \\epsilon_{a} = E_{a} \\epsilon, \\quad \\sigma_{\\text{if}} = E_{\\text{if}} \\epsilon_{\\text{if}} = E_{\\text{if}} \\epsilon,\n$$\n其中 $\\sigma_{i}$ 表示相 $i$ 中的轴向应力，而 $E_{i}$ 是在预应力状态下相应的切线模量。该束所承受的总轴向力 $F_{\\text{tot}}$ 是各相中力的总和，\n$$\nF_{\\text{tot}} = F_{a} + F_{\\text{if}} = \\sigma_{a} A_{a} + \\sigma_{\\text{if}} A_{\\text{if}}.\n$$\n除以总横截面积 $A_{\\text{tot}}$，得到该束中的均质化轴向应力 $\\sigma$：\n$$\n\\sigma = \\frac{F_{\\text{tot}}}{A_{\\text{tot}}} = \\frac{\\sigma_{a} A_{a} + \\sigma_{\\text{if}} A_{\\text{if}}}{A_{\\text{tot}}}.\n$$\n使用体积分数和共同长度 $L$ 的定义，我们有 $V_{i} = A_{i} L$ 和 $V_{\\text{tot}} = A_{\\text{tot}} L$，所以\n$$\n\\phi_{i} = \\frac{V_{i}}{V_{\\text{tot}}} = \\frac{A_{i} L}{A_{\\text{tot}} L} = \\frac{A_{i}}{A_{\\text{tot}}}.\n$$\n因此，\n$$\n\\sigma = \\sigma_{a} \\phi_{a} + \\sigma_{\\text{if}} \\phi_{\\text{if}}.\n$$\n代入 $\\sigma_{a} = E_{a} \\epsilon$ 和 $\\sigma_{\\text{if}} = E_{\\text{if}} \\epsilon$，\n$$\n\\sigma = \\left( \\phi_{a} E_{a} + \\phi_{\\text{if}} E_{\\text{if}} \\right) \\epsilon.\n$$\n根据定义，对于小应变切线响应，有效轴向模量 $E_{\\text{eff}}$ 是均质化应力与共同应变之比：\n$$\nE_{\\text{eff}} = \\frac{\\sigma}{\\epsilon} = \\phi_{a} E_{a} + \\phi_{\\text{if}} E_{\\text{if}}.\n$$\n这个表达式直接由平衡和等应变条件得出。我们现在使用给定的参数计算数值：\n$$\nE_{\\text{eff}} = (0.32)(1.9 \\times 10^{9}) + (0.68)(6.0 \\times 10^{7}).\n$$\n计算每一项：\n$$\n(0.32)(1.9 \\times 10^{9}) = 0.608 \\times 10^{9} = 6.08 \\times 10^{8},\n$$\n$$\n(0.68)(6.0 \\times 10^{7}) = 4.08 \\times 10^{7}.\n$$\n求和，\n$$\nE_{\\text{eff}} = 6.08 \\times 10^{8} + 4.08 \\times 10^{7} = 6.488 \\times 10^{8}.\n$$\n四舍五入到四位有效数字并以帕斯卡表示，有效轴向模量为\n$$\n6.488 \\times 10^{8} \\text{ Pa}.\n$$",
            "answer": "$$\\boxed{6.488 \\times 10^{8}}$$"
        },
        {
            "introduction": "在张拉整体（tensegrity）模型中，细胞骨架的微管等构件作为受压的“支柱”，其稳定性对于维持细胞结构至关重要。这些支柱在压力下可能会发生屈曲，这是一种经典的结构失效模式。本练习运用欧拉-伯努利梁理论，分析并比较不同边界条件（如铰接或固定）对细胞骨架丝屈曲行为的影响，从而揭示了蛋白丝在细胞网络中的连接方式如何决定其抵抗压缩变形的能力。",
            "id": "4168699",
            "problem": "一个嵌入在细胞张拉整体框架中的细胞骨架丝（例如，微管或肌动蛋白束）被建模为一个长度为 $L$、抗弯刚度为 $\\kappa$ 的细长、均质、各向同性的 Euler–Bernoulli (EB) 梁段，该梁段承受由张拉整体网络产生的轴向预压缩应力 $F$。考虑梁段两端的两种不同边界条件体系：(i) 铰接-铰接（由柔性交联剂产生的简支支撑，传递力但不传递力矩），和 (ii) 固支-固支（由细胞骨架节点处的刚性锚定产生的内建连接，约束横向位移和转动）。使用小挠度 EB 梁理论和用于稳定性分析的总势能公式，推导每种边界情况下的屈曲条件，并确定相应的最小临界载荷 $F_{c,\\text{pinned}}$ 和 $F_{c,\\text{clamped}}$。计算比率 $F_{c,\\text{clamped}}/F_{c,\\text{pinned}}$。将最终答案表示为一个无量纲数。无需四舍五入。",
            "solution": "该问题要求使用总势能原理，为一根在两种不同边界条件下受力的 Euler-Bernoulli 梁推导其临界屈曲载荷。该梁代表一根细胞骨架丝。\n\n在轴向压缩载荷 $F$ 作用下，梁的总势能 $\\Pi$ 是弯曲中储存的弹性应变能 $U_b$ 与外载荷势能 $V_F$ 之和。\n\n对于具有小挠度 $y(x)$ 的 Euler-Bernoulli 梁，其曲率近似为 $y''(x) = \\frac{d^2y}{dx^2}$。弯曲应变能由下式给出：\n$$U_b = \\frac{1}{2} \\int_{0}^{L} \\kappa \\left( \\frac{d^2y}{dx^2} \\right)^2 dx$$\n其中 $\\kappa$ 是抗弯刚度，$L$ 是梁的长度。\n\n由横向挠度 $y(x)$ 引起的梁的轴向缩短量为 $\\Delta L = \\frac{1}{2} \\int_{0}^{L} \\left( \\frac{dy}{dx} \\right)^2 dx$。压缩力 $F$ 所做的功为 $F \\Delta L$，这对应于加载系统势能的减少。因此，外载荷的势能为：\n$$V_F = -F \\Delta L = -\\frac{F}{2} \\int_{0}^{L} \\left( \\frac{dy}{dx} \\right)^2 dx$$\n\n总势能泛函为 $\\Pi[y] = U_b + V_F$：\n$$\\Pi[y] = \\frac{1}{2} \\int_{0}^{L} \\left[ \\kappa (y'')^2 - F (y')^2 \\right] dx$$\n\n根据驻定势能原理，如果一个系统的总势能的一阶变分为零（即 $\\delta \\Pi = 0$），则该系统处于平衡状态。对于稳定性分析，这导出了泛函 $\\Pi[y]$ 的 Euler-Lagrange 方程。被积函数是一个函数 $G(y', y'')$。相应的 Euler-Lagrange 方程是：\n$$\\frac{d^2}{dx^2}\\left(\\frac{\\partial G}{\\partial y''}\\right) - \\frac{d}{dx}\\left(\\frac{\\partial G}{\\partial y'}\\right) + \\frac{\\partial G}{\\partial y} = 0$$\n这里，$G = \\frac{1}{2} \\left[ \\kappa (y'')^2 - F (y')^2 \\right]$，所以我们有：\n$\\frac{\\partial G}{\\partial y''} = \\kappa y''$\n$\\frac{\\partial G}{\\partial y'} = -F y'$\n$\\frac{\\partial G}{\\partial y} = 0$\n\n将这些代入 Euler-Lagrange 方程，得到屈曲的控制微分方程：\n$$\\frac{d^2}{dx^2}(\\kappa y'') - \\frac{d}{dx}(-F y') = 0$$\n$$\\kappa \\frac{d^4y}{dx^4} + F \\frac{d^2y}{dx^2} = 0$$\n我们定义 $k^2 = F/\\kappa$。方程变为：\n$$y'''' + k^2 y'' = 0$$\n这是一个四阶线性齐次常微分方程。其特征方程为 $r^4 + k^2 r^2 = 0$，或 $r^2(r^2 + k^2) = 0$。根为 $r = 0$（重数为 2）和 $r = \\pm ik$。挠曲形状 $y(x)$ 的通解为：\n$$y(x) = C_1 \\sin(kx) + C_2 \\cos(kx) + C_3 x + C_4$$\n\n现在我们应用指定的边界条件来求每种情况下的临界载荷。\n\n**情况 (i)：铰接-铰接边界条件**\n铰接-铰接梁的边界条件是两端的位移和弯矩 ($M = \\kappa y'' = 0$) 均为零：\n1. $y(0) = 0$\n2. $y(L) = 0$\n3. $y''(0) = 0$\n4. $y''(L) = 0$\n\n我们计算二阶导数：$y''(x) = -k^2 C_1 \\sin(kx) - k^2 C_2 \\cos(kx)$。\n应用 $y(0)=0$：$C_1 \\sin(0) + C_2 \\cos(0) + C_3(0) + C_4 = 0 \\implies C_2 + C_4 = 0$。\n应用 $y''(0)=0$：$-k^2 C_1 \\sin(0) - k^2 C_2 \\cos(0) = 0 \\implies -k^2 C_2 = 0$。由于屈曲时 $k \\neq 0$，我们必须有 $C_2 = 0$。\n从 $C_2 + C_4 = 0$，我们得到 $C_4 = 0$。\n解简化为 $y(x) = C_1 \\sin(kx) + C_3 x$。其二阶导数为 $y''(x) = -k^2 C_1 \\sin(kx)$。\n\n在 $x=L$ 处应用剩余的边界条件：\n$y(L)=0 \\implies C_1 \\sin(kL) + C_3 L = 0$。\n$y''(L)=0 \\implies -k^2 C_1 \\sin(kL) = 0$。\n\n从第二个方程，为了得到非平凡解（$C_1 \\neq 0$），我们要求 $\\sin(kL) = 0$。\n如果 $\\sin(kL) = 0$，第一个方程变为 $C_3 L = 0$，这意味着 $C_3 = 0$。\n因此，屈曲条件是 $\\sin(kL) = 0$。这意味着 $kL = n\\pi$，$n = 1, 2, 3, \\dots$。$n=0$ 的情况对应于 $F=0$（无载荷），是平凡解。\n代回 $k^2 = F/\\kappa$：\n$$F = k^2 \\kappa = \\left(\\frac{n\\pi}{L}\\right)^2 \\kappa = \\frac{n^2 \\pi^2 \\kappa}{L^2}$$\n能够引起屈曲的最小正载荷是临界载荷 $F_c$，它发生在 $n$ 取最小整数值时，即 $n=1$。\n$$F_{c,\\text{pinned}} = \\frac{\\pi^2 \\kappa}{L^2}$$\n\n**情况 (ii)：固支-固支边界条件**\n固支-固支梁的边界条件是两端的位移和斜率均为零：\n1. $y(0) = 0$\n2. $y(L) = 0$\n3. $y'(0) = 0$\n4. $y'(L) = 0$\n\n我们有通解 $y(x) = C_1 \\sin(kx) + C_2 \\cos(kx) + C_3 x + C_4$ 和其导数 $y'(x) = kC_1 \\cos(kx) - kC_2 \\sin(kx) + C_3$。\n应用 $y(0)=0$：$C_2 + C_4 = 0 \\implies C_4 = -C_2$。\n应用 $y'(0)=0$：$kC_1 + C_3 = 0 \\implies C_3 = -kC_1$。\n将这些代入解及其导数中：\n$y(x) = C_1 (\\sin(kx) - kx) + C_2 (\\cos(kx) - 1)$\n$y'(x) = C_1 (k\\cos(kx) - k) + C_2 (-k\\sin(kx)) = k[C_1(\\cos(kx)-1) - C_2\\sin(kx)]$\n\n在 $x=L$ 处应用条件：\n$y(L)=0 \\implies C_1(\\sin(kL) - kL) + C_2(\\cos(kL) - 1) = 0$。\n$y'(L)=0 \\implies C_1(\\cos(kL) - 1) - C_2\\sin(kL) = 0$。\n\n这是一个关于 $C_1$ 和 $C_2$ 的二元线性齐次方程组。为了得到非平凡解（即发生屈曲），系数矩阵的行列式必须为零：\n$$\\begin{vmatrix} \\sin(kL) - kL   \\cos(kL) - 1 \\\\ \\cos(kL) - 1   -\\sin(kL) \\end{vmatrix} = 0$$\n$$-\\sin(kL)(\\sin(kL) - kL) - (\\cos(kL) - 1)^2 = 0$$\n$$-\\sin^2(kL) + kL\\sin(kL) - (\\cos^2(kL) - 2\\cos(kL) + 1) = 0$$\n$$-(\\sin^2(kL) + \\cos^2(kL)) + kL\\sin(kL) + 2\\cos(kL) - 1 = 0$$\n$$-1 + kL\\sin(kL) + 2\\cos(kL) - 1 = 0$$\n$$kL\\sin(kL) + 2\\cos(kL) - 2 = 0$$\n这是超越屈曲条件。为了求解它，我们使用半角恒等式。令 $\\alpha = kL$。方程为 $\\alpha\\sin(\\alpha) + 2\\cos(\\alpha) - 2 = 0$。\n使用 $\\sin(\\alpha) = 2\\sin(\\alpha/2)\\cos(\\alpha/2)$ 和 $1-\\cos(\\alpha) = 2\\sin^2(\\alpha/2)$：\n$$\\alpha(2\\sin(\\alpha/2)\\cos(\\alpha/2)) - 2(1 - \\cos(\\alpha)) = 0$$\n$$2\\alpha\\sin(\\alpha/2)\\cos(\\alpha/2) - 4\\sin^2(\\alpha/2) = 0$$\n$$2\\sin(\\alpha/2)[\\alpha\\cos(\\alpha/2) - 2\\sin(\\alpha/2)] = 0$$\n这给出了两族解：\n1. $\\sin(\\alpha/2) = 0 \\implies \\alpha/2 = n\\pi \\implies \\alpha = kL = 2n\\pi$，$n = 1, 2, 3, \\dots$。\n2. $\\alpha\\cos(\\alpha/2) - 2\\sin(\\alpha/2) = 0 \\implies \\tan(\\alpha/2) = \\alpha/2$。\n\n让我们找到 $\\alpha = kL$ 的最小非零根。\n从第一族解中，最小正根在 $n=1$ 时取得，得到 $\\alpha = 2\\pi$。\n从第二族解中，我们寻找 $\\tan(\\beta) = \\beta$（其中 $\\beta = \\alpha/2$）的最小正根。平凡根是 $\\beta=0$（$\\alpha=0$）。第一个非平凡正根位于区间 $(\\pi, 3\\pi/2)$ 内。其值约等于 $\\beta \\approx 4.4934$，这给出 $\\alpha = 2\\beta \\approx 8.9868$。\n比较两族解的最小正根，$2\\pi \\approx 6.2832$ 和 $8.9868$，较小的值是 $2\\pi$。\n因此，满足屈曲条件的 $kL$ 的最小值是 $kL = 2\\pi$。\n通过代入该值可求得临界载荷：\n$$k_c = \\frac{2\\pi}{L} \\implies F_{c,\\text{clamped}} = k_c^2 \\kappa = \\left(\\frac{2\\pi}{L}\\right)^2 \\kappa = \\frac{4\\pi^2\\kappa}{L^2}$$\n\n**临界载荷之比**\n最后，我们计算固支-固支情况与铰接-铰接情况的临界载荷之比：\n$$\\frac{F_{c,\\text{clamped}}}{F_{c,\\text{pinned}}} = \\frac{\\frac{4\\pi^2\\kappa}{L^2}}{\\frac{\\pi^2\\kappa}{L^2}}$$\n项 $\\pi^2$、$\\kappa$ 和 $L^2$ 被消去。\n$$\\frac{F_{c,\\text{clamped}}}{F_{c,\\text{pinned}}} = 4$$\n这个结果表明，在轴向压缩下，两端固支的丝的抗屈曲能力是两端铰接的丝的四倍。",
            "answer": "$$\\boxed{4}$$"
        },
        {
            "introduction": "张拉整体结构的稳定性不仅取决于其材料本身的刚度，更关键地依赖于其内部的预应力状态，这一概念通过“几何刚度”矩阵来量化。本计算实践将让您通过构建一个二维张拉整体网络的切向刚度矩阵，直观地探索预应力对结构稳定性的影响。通过计算该刚度矩阵的特征值，您可以识别出结构在特定预应力或连接性改变下的不稳定模式（负特征值）或柔性模式（零或接近零的特征值），从而深入理解张拉整体结构“以张力塑形”的核心原理。",
            "id": "4168668",
            "problem": "给定一个二维销接细胞骨架张拉整体网络，该网络包含节点和杆件（受拉的缆索和受压的撑杆）。该结构在一个预应力构型下进行分析。全局切向刚度定义为 $\\mathbf{K}=\\mathbf{K}_m+\\mathbf{K}_g$，其中 $\\mathbf{K}_m$ 是由杆件轴向弹性产生的材料刚度，$\\mathbf{K}_g$ 是由轴向预应力产生的几何刚度。分析在小位移、小应变假设下进行，使用牛顿定律和虚功原理。每个杆件连接两个节点，表现为轴向可变形的线性弹性杆，无抗弯刚度，并因预应力而承受指定的轴向力。归类为缆索的杆件承受指定的正轴向力（拉力），归类为撑杆的杆件承受指定的负轴向力（压力）。移除一根缆索意味着它对 $\\mathbf{K}_m$ 或 $\\mathbf{K}_g$ 均无贡献。\n\n几何与连接性：\n- 节点（索引，坐标，单位：米）：节点 $1$ 位于 $(0.0,0.0)$，节点 $2$ 位于 $(1.0,0.0)$，节点 $3$ 位于 $(1.0,1.0)$，节点 $4$ 位于 $(0.0,1.0)$，节点 $5$ 位于 $(0.5,0.5)$。\n- 杆件（索引，端点节点，类型）：$1:(1,2)$ 缆索，$2:(2,3)$ 缆索，$3:(3,4)$ 缆索，$4:(4,1)$ 缆索，$5:(1,3)$ 缆索，$6:(2,4)$ 撑杆，$7:(5,1)$ 缆索，$8:(5,2)$ 缆索，$9:(5,3)$ 缆索，$10:(5,4)$ 缆索。\n- 边界条件：节点 $1$ 和 $3$ 在 $x$ 和 $y$ 方向均被固定。所有其他节点均为自由节点。\n\n推导与计算的基础：\n- 使用线性动量守恒和虚功原理，推导预应力状态周围的线性化平衡方程。对每个杆件，使用关联轴向力与轴向应变的胡克定律，并定义杆件的单位方向向量及其当前长度。材料刚度将轴向弹性沿杆件方向进行投影。几何刚度源于内力因轴向预应力而产生的二阶变分，并投影到与杆件垂直的方向上。通过将单元贡献的刚度块放入相应的节点自由度位置并对所有杆件求和，来组装全局刚度。通过提取与节点 $2$、$4$ 和 $5$ 对应的自由度子矩阵 $\\mathbf{K}_{ff}$ 来施加狄利克雷边界条件。\n\n任务：\n- 对于给定的参数集，计算 $\\mathbf{K}_{ff}$ 及其特征值。识别软模和不稳定模。定义软模为满足 $0 \\le \\lambda \\le \\epsilon$ 的特征值 $\\lambda$，不稳定模为满足 $\\lambda  0$ 的特征值 $\\lambda$。使用 $\\epsilon=10^{-6}$，单位为 $\\mathrm{N/m}$。最小特征值应以 $\\mathrm{N/m}$ 为单位，以浮点数形式报告。\n\n测试套件：\n- 每个测试用例是一个元组 $(\\text{removed}, E_c A_c, E_s A_s, T_c, N_s)$，其中 $\\text{removed}$ 是要移除的缆索杆件索引列表，$E_c A_c$ 是缆索杆件的轴向刚度（单位 $\\mathrm{N}$），$E_s A_s$ 是撑杆的轴向刚度（单位 $\\mathrm{N}$），$T_c$ 是缆索预应力（轴向力，单位 $\\mathrm{N}$），$N_s$ 是撑杆预应力（轴向力，压力为负，单位 $\\mathrm{N}$）。杆件长度 $L$ 根据给定的几何形状计算，材料刚度和几何刚度分别按 $E A / L$ 和 $N / L$ 的函数关系进行缩放。计算并报告以下四个测试用例的结果：\n    1. 基准情况：$( [], 0.01, 0.02, 2.0, -1.5 )$。\n    2. 移除缆索导致的软化：$( [8,10], 0.01, 0.02, 2.0, -1.5 )$ 移除缆索 $(5,2)$ 和 $(5,4)$。\n    3. 压缩失稳：$( [], 0.01, 0.02, 2.0, -8.0 )$ 增加撑杆的压力。\n    4. 高预应力强化：$( [], 0.01, 0.02, 5.0, -1.5 )$ 增加缆索的拉力。\n\n输出规范：\n- 对于每个测试用例，输出一个列表 $[\\lambda_{\\min}, n_{\\text{soft}}, n_{\\text{unstable}}]$，其中 $\\lambda_{\\min}$ 是 $\\mathbf{K}_{ff}$ 的最小特征值（单位 $\\mathrm{N/m}$，浮点数），$n_{\\text{soft}}$ 是软模的整数数量，$n_{\\text{unstable}}$ 是不稳定模的整数数量。\n- 您的程序应生成单行输出，其中包含所有四个测试用例的结果，格式为由逗号分隔的各用例列表构成的列表，并用方括号括起，例如 $[[\\lambda_1,n_{s1},n_{u1}],[\\lambda_2,n_{s2},n_{u2}],\\ldots]$。",
            "solution": "我们从准静态条件下的虚功原理和牛顿第二定律出发。在预应力状态附近的小位移下，增量平衡由 $\\delta \\mathbf{f}_{\\text{int}}=\\mathbf{K}\\,\\delta \\mathbf{u}$ 给出，其中 $\\mathbf{K}$ 是切向刚度，$\\delta \\mathbf{u}$ 是虚位移向量。对于销接网络，切向刚度分解为 $\\mathbf{K}=\\mathbf{K}_m+\\mathbf{K}_g$，其中 $\\mathbf{K}_m$ 是材料刚度，$\\mathbf{K}_g$ 是由预应力引起的几何刚度。\n\n考虑一个连接节点 $i$ 和 $j$ 的杆件，其位置分别为 $\\mathbf{x}_i \\in \\mathbb{R}^2$ 和 $\\mathbf{x}_j \\in \\mathbb{R}^2$，当前长度为 $L=\\|\\mathbf{x}_j-\\mathbf{x}_i\\|$，单位方向向量为 $\\mathbf{t}=(\\mathbf{x}_j-\\mathbf{x}_i)/L$。设轴向刚度为 $E A$，当前轴向力（预应力）为 $N$（拉力为正，压力为负）。在轴向可变形杆的小应变、小位移假设下，材料贡献与轴向方向一致。由轴向伸长引起的增量轴向力为 $\\delta N = (E A / L)\\, \\delta \\ell$，其中 $\\delta \\ell$ 是轴向伸长。从节点位移到轴向伸长的投影由方向余弦向量 $\\mathbf{t}$ 给出；因此，每个单元的材料刚度贡献由外积 $\\mathbf{t}\\mathbf{t}^\\top$ 构成，并组装到两个节点上，形式如下\n$$\n\\mathbf{K}_m^{(e)}=\\frac{E A}{L}\n\\begin{bmatrix}\n\\mathbf{t}\\mathbf{t}^\\top   -\\mathbf{t}\\mathbf{t}^\\top \\\\\n-\\mathbf{t}\\mathbf{t}^\\top   \\mathbf{t}\\mathbf{t}^\\top\n\\end{bmatrix}.\n$$\n这源于轴向应力的胡克定律以及杆件力相对于节点位移通过轴向方向的线性化。\n\n几何刚度源于在存在轴向力 $N$ 的情况下，内力平衡相对于节点转动和横向位移的二阶变分。对于一个二维销接桁架单元，其单元几何刚度作用于与 $\\mathbf{t}$ 正交的方向，并使用到横向子空间的投影算子表示：\n$$\n\\mathbf{P}=\\mathbf{I}-\\mathbf{t}\\mathbf{t}^\\top,\n$$\n得到单元几何刚度为\n$$\n\\mathbf{K}_g^{(e)}=\\frac{N}{L}\n\\begin{bmatrix}\n\\mathbf{P}   -\\mathbf{P} \\\\\n-\\mathbf{P}   \\mathbf{P}\n\\end{bmatrix}.\n$$\n当 $N0$（拉力）时，$\\mathbf{K}_g^{(e)}$ 增加刚度；当 $N0$（压力）时，$\\mathbf{K}_g^{(e)}$ 减小刚度，并在足够大的数值下可能引发失稳。$\\mathbf{K}_m^{(e)}$ 和 $\\mathbf{K}_g^{(e)}$ 都通过将其 $2\\times 2$ 的子块放入与节点自由度 $(i_x,i_y)$ 和 $(j_x,j_y)$ 相关联的行和列中，来组装成全局刚度矩阵 $\\mathbf{K}$。\n\n通过将完整的刚度矩阵划分为固定自由度和自由自由度来施加狄利克雷边界条件。由于节点 $1$ 和 $3$ 在两个方向上都被固定，自由节点为 $2$、$4$ 和 $5$，每个节点在 $x$ 和 $y$ 方向上均有两个自由度。提取自由-自由子矩阵 $\\mathbf{K}_{ff}$ 来分析无约束子结构的内在刚度。\n\n预应力下的稳定性评估：\n- 计算对称矩阵 $\\mathbf{K}_{ff}$ 的特征值 $\\{\\lambda_k\\}$。\n- 定义软模阈值 $\\epsilon=10^{-6}$，单位为 $\\mathrm{N/m}$。软模是满足 $0 \\le \\lambda_k \\le \\epsilon$ 的任何特征值。不稳定模是满足 $\\lambda_k0$ 的任何特征值。\n- 最小特征值 $\\lambda_{\\min}$（单位 $\\mathrm{N/m}$）量化了最弱的刚度方向。\n\n算法实现：\n1. 定义节点坐标 $\\mathbf{x}_1=(0.0,0.0)$，$\\mathbf{x}_2=(1.0,0.0)$，$\\mathbf{x}_3=(1.0,1.0)$，$\\mathbf{x}_4=(0.0,1.0)$，$\\mathbf{x}_5=(0.5,0.5)$，单位为米。\n2. 定义杆件连接性和类型：$1:(1,2)$ 缆索，$2:(2,3)$ 缆索，$3:(3,4)$ 缆索，$4:(4,1)$ 缆索，$5:(1,3)$ 缆索，$6:(2,4)$ 撑杆，$7:(5,1)$ 缆索，$8:(5,2)$ 缆索，$9:(5,3)$ 缆索，$10:(5,4)$ 缆索。\n3. 对于每个测试用例 $(\\text{removed}, E_c A_c, E_s A_s, T_c, N_s)$:\n   - 初始化一个大小为 $10\\times 10$ 的全局刚度矩阵 $\\mathbf{K}$（五个节点乘以两个自由度）。\n   - 对于每个杆件 $e=(i,j)$:\n     - 如果 $e$ 是缆索且 $e\\in\\text{removed}$，则跳过它。\n     - 计算 $L=\\|\\mathbf{x}_j-\\mathbf{x}_i\\|$ 和 $\\mathbf{t}=(\\mathbf{x}_j-\\mathbf{x}_i)/L$。\n     - 对于缆索，设置 $E A=E_c A_c$；对于撑杆，设置 $E A=E_s A_s$。\n     - 对于缆索，设置 $N=T_c$；对于撑杆，设置 $N=N_s$。\n     - 使用上述表达式构建 $\\mathbf{K}_m^{(e)}$ 和 $\\mathbf{K}_g^{(e)}$，并将其组装到 $\\mathbf{K}$ 中。\n   - 提取与节点 $2$、$4$ 和 $5$ 对应的自由-自由子矩阵 $\\mathbf{K}_{ff}$。\n   - 计算 $\\mathbf{K}_{ff}$ 的特征值，确定 $\\lambda_{\\min}$，计算软模数量 $n_{\\text{soft}}$（$0\\le \\lambda_k \\le \\epsilon$）和不稳定模数量 $n_{\\text{unstable}}$（$\\lambda_k0$）。\n4. 对每个用例，报告列表 $[\\lambda_{\\min}, n_{\\text{soft}}, n_{\\text{unstable}}]$，其中 $\\lambda_{\\min}$ 以 $\\mathrm{N/m}$ 为单位，为浮点数。\n\n该测试套件涵盖：\n- 一个普遍的稳定情况，具有中等缆索拉力 $T_c=2.0$ 和撑杆压力 $N_s=-1.5$，使用较小的轴向刚度 $E_c A_c=0.01$，$E_s A_s=0.02$ 以强调预应力稳定作用。\n- 一个移除缆索的情况，该情况会降低连接性并可能揭示软化效应。\n- 一个高压力情况，可能导致负特征值，表明失稳。\n- 一个高拉力情况，该情况会增加几何刚度并提高最小特征值。\n\n最终的程序实现了所述的组装、边界处理和特征分析，并打印出单行内容，其中包含四个测试用例的结果列表，格式符合指定要求。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef assemble_global_stiffness(nodes, members, removed, EA_cable, EA_strut, T_cable, N_strut):\n    \"\"\"\n    Assemble global tangent stiffness K = Km + Kg for a 2D pin-jointed prestressed network.\n    nodes: array of shape (n_nodes, 2)\n    members: list of dicts with keys: 'i', 'j', 'type' ('cable' or 'strut'), 'index'\n    removed: set of member indices (1-based) to remove (only applies to cables)\n    EA_cable, EA_strut: axial rigidities (N) for cables and strut\n    T_cable: axial force (N) for cables (tension, positive)\n    N_strut: axial force (N) for strut (compression, negative)\n    \"\"\"\n    n_nodes = nodes.shape[0]\n    dof = 2 * n_nodes\n    K = np.zeros((dof, dof), dtype=float)\n    I2 = np.eye(2)\n\n    for m in members:\n        i = m['i'] - 1  # zero-based\n        j = m['j'] - 1\n        idx = m['index']\n        mtype = m['type']\n\n        # Skip removed cables\n        if mtype == 'cable' and idx in removed:\n            continue\n\n        xi = nodes[i]\n        xj = nodes[j]\n        d = xj - xi\n        L = np.linalg.norm(d)\n        if L == 0.0:\n            # Degenerate; skip\n            continue\n        t = d / L\n        tt = np.outer(t, t)\n        P = I2 - tt\n\n        # Select axial rigidity and prestress\n        if mtype == 'cable':\n            EA = EA_cable\n            N = T_cable\n        elif mtype == 'strut':\n            EA = EA_strut\n            N = N_strut\n        else:\n            raise ValueError(\"Unknown member type\")\n\n        km_scal = EA / L  # material stiffness scalar\n        kg_scal = N / L   # geometric stiffness scalar\n\n        # Element blocks\n        Km_block = km_scal * tt\n        Kg_block = kg_scal * P\n\n        # Assemble 4 blocks into global K\n        # Global DOF indices\n        i_dofs = [2*i, 2*i+1]\n        j_dofs = [2*j, 2*j+1]\n\n        # Top-left (ii), top-right (ij), bottom-left (ji), bottom-right (jj)\n        # Material stiffness assembly\n        K[np.ix_(i_dofs, i_dofs)] += Km_block\n        K[np.ix_(i_dofs, j_dofs)] -= Km_block\n        K[np.ix_(j_dofs, i_dofs)] -= Km_block\n        K[np.ix_(j_dofs, j_dofs)] += Km_block\n\n        # Geometric stiffness assembly\n        K[np.ix_(i_dofs, i_dofs)] += Kg_block\n        K[np.ix_(i_dofs, j_dofs)] -= Kg_block\n        K[np.ix_(j_dofs, i_dofs)] -= Kg_block\n        K[np.ix_(j_dofs, j_dofs)] += Kg_block\n\n    return K\n\ndef apply_boundary_conditions(K, fixed_nodes, n_nodes):\n    \"\"\"\n    Extract free-free submatrix K_ff after applying Dirichlet BC on fixed_nodes.\n    fixed_nodes: list of node indices (1-based) that are fixed in both x and y.\n    \"\"\"\n    fixed_dofs = []\n    for fn in fixed_nodes:\n        idx = fn - 1\n        fixed_dofs.extend([2*idx, 2*idx+1])\n    all_dofs = np.arange(2*n_nodes)\n    free_dofs = np.array([d for d in all_dofs if d not in set(fixed_dofs)], dtype=int)\n    K_ff = K[np.ix_(free_dofs, free_dofs)]\n    return K_ff, free_dofs\n\ndef analyze_case(nodes, members, case, epsilon=1e-6):\n    \"\"\"\n    Analyze a single test case: assemble K, apply BC, compute eigenvalues and metrics.\n    case: tuple (removed_list, EA_cable, EA_strut, T_cable, N_strut)\n    returns [min_eigenvalue, n_soft, n_unstable]\n    \"\"\"\n    removed_list, EA_cable, EA_strut, T_cable, N_strut = case\n    removed = set(removed_list)\n    K = assemble_global_stiffness(nodes, members, removed, EA_cable, EA_strut, T_cable, N_strut)\n    # Fixed nodes: 1 and 3\n    K_ff, free_dofs = apply_boundary_conditions(K, fixed_nodes=[1,3], n_nodes=nodes.shape[0])\n    # Symmetrize to avoid minor numerical asymmetry\n    K_ff = 0.5 * (K_ff + K_ff.T)\n    # Eigenanalysis\n    evals = np.linalg.eigvalsh(K_ff)\n    # Metrics\n    min_eval = float(np.min(evals))\n    n_soft = int(np.sum((evals = 0.0)  (evals = epsilon)))\n    n_unstable = int(np.sum(evals  0.0))\n    return [min_eval, n_soft, n_unstable]\n\ndef solve():\n    # Define the node coordinates\n    nodes = np.array([\n        [0.0, 0.0],  # 1\n        [1.0, 0.0],  # 2\n        [1.0, 1.0],  # 3\n        [0.0, 1.0],  # 4\n        [0.5, 0.5],  # 5\n    ], dtype=float)\n\n    # Define members with indices and types\n    members = [\n        {'index': 1, 'i': 1, 'j': 2, 'type': 'cable'},\n        {'index': 2, 'i': 2, 'j': 3, 'type': 'cable'},\n        {'index': 3, 'i': 3, 'j': 4, 'type': 'cable'},\n        {'index': 4, 'i': 4, 'j': 1, 'type': 'cable'},\n        {'index': 5, 'i': 1, 'j': 3, 'type': 'cable'},\n        {'index': 6, 'i': 2, 'j': 4, 'type': 'strut'},\n        {'index': 7, 'i': 5, 'j': 1, 'type': 'cable'},\n        {'index': 8, 'i': 5, 'j': 2, 'type': 'cable'},\n        {'index': 9, 'i': 5, 'j': 3, 'type': 'cable'},\n        {'index': 10, 'i': 5, 'j': 4, 'type': 'cable'},\n    ]\n\n    # Define the test cases as specified in the problem statement\n    test_cases = [\n        ([], 0.01, 0.02, 2.0, -1.5),         # Baseline\n        ([8, 10], 0.01, 0.02, 2.0, -1.5),    # Cable removal softening: remove (5,2) and (5,4)\n        ([], 0.01, 0.02, 2.0, -8.0),         # Compressive instability\n        ([], 0.01, 0.02, 5.0, -1.5),         # High prestress stiffening\n    ]\n\n    results = []\n    for case in test_cases:\n        res = analyze_case(nodes, members, case, epsilon=1e-6)\n        # Round min eigenvalue to a reasonable number of decimals for display\n        res[0] = float(f\"{res[0]:.6f}\")\n        results.append(res)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}