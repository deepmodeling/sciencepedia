{
    "hands_on_practices": [
        {
            "introduction": "Before we can analyze neural activity, we must first acquire the data from thousands of individual recording sites. This exercise  explores the fundamental engineering challenge of this process by connecting the physical layout of a high-density probe to the required data bandwidth. By working through the constraints of Time-Division Multiplexing (TDM), you will develop a first-principles understanding of how hardware limitations dictate the data acquisition architecture for state-of-the-art electrophysiology experiments.",
            "id": "4138200",
            "problem": "A high-density linear array of extracellular recording sites is patterned along a single silicon shank of length $10\\,\\mathrm{mm}$. The centers of adjacent sites are separated along the shank by a uniform pitch of $20\\,\\mu\\mathrm{m}$. Each site is read out using Time-Division Multiplexing (TDM), where multiple channels share a single data bus. The signal chain must preserve single-unit spike waveforms whose energy is mostly confined below $7.5\\,\\mathrm{kHz}$, and the sampling is constrained by the Nyquist sampling theorem and engineering practice to use a per-channel sampling frequency of $30\\,\\mathrm{kHz}$. The shared bus is a single-ended metal line whose maximum symbol rate is limited by its resistance-capacitance product to $12\\,\\mathrm{MHz}$. Due to addressing, synchronization, and settling overhead, only a fraction $(1-\\gamma)$ of bus symbols can be used for actual sample transfers per second, with $\\gamma=0.20$.\n\nStarting from the definitions of pitch and sampling requirements and the constraints of TDM throughput, determine the number of recording sites along the shank and then derive, from first principles, the minimum number of independent parallel TDM buses required to guarantee that every site is sampled at $30\\,\\mathrm{kHz}$ under the stated bus constraints. Express your final answer as a single integer equal to the minimum number of parallel buses needed. No units are required for the final answer. Do not round intermediate steps beyond what is implied by the derivation; the final answer is exact by construction.",
            "solution": "The problem requires the determination of the minimum number of parallel Time-Division Multiplexing (TDM) buses needed to read out all recording sites on a high-density electrophysiology probe. The solution is derived from first principles, based on the provided physical and operational parameters.\n\nThe given parameters are:\n- Shank length: $L = 10\\,\\mathrm{mm}$\n- Pitch between adjacent recording sites: $p = 20\\,\\mu\\mathrm{m}$\n- Per-channel sampling frequency: $f_s = 30\\,\\mathrm{kHz}$\n- Maximum symbol rate of a single bus: $R_{bus,max} = 12\\,\\mathrm{MHz}$\n- Overhead factor for the bus: $\\gamma = 0.20$\n\nThe solution proceeds in four steps:\n1.  Calculate the total number of recording sites, $N_{sites}$.\n2.  Calculate the total required sampling throughput for the entire array, $R_{total, req}$.\n3.  Calculate the effective data throughput available from a single bus, $R_{bus, eff}$.\n4.  Determine the minimum number of parallel buses, $N_{buses}$.\n\n**Step 1: Determine the number of recording sites**\nThe recording sites are arranged in a linear array along the shank of length $L$. The centers of adjacent sites are separated by a uniform pitch $p$. Assuming a site is placed at the beginning (position $0$) and the end (position $L$) of this length, the number of intervals of length $p$ is $\\frac{L}{p}$. The total number of sites is one greater than the number of intervals, a standard result for discrete elements arranged along a continuous dimension.\nFirst, we ensure consistent units. We convert the shank length $L$ from millimeters to micrometers:\n$$L = 10\\,\\mathrm{mm} = 10 \\times 10^3\\,\\mu\\mathrm{m} = 10000\\,\\mu\\mathrm{m}$$\nThe pitch is given as $p = 20\\,\\mu\\mathrm{m}$.\nThe number of sites, $N_{sites}$, is therefore:\n$$N_{sites} = \\frac{L}{p} + 1 = \\frac{10000\\,\\mu\\mathrm{m}}{20\\,\\mu\\mathrm{m}} + 1 = 500 + 1 = 501$$\nThere are $501$ recording sites on the shank.\n\n**Step 2: Determine the total required sampling throughput**\nEach of the $N_{sites}$ channels is sampled at a frequency $f_s = 30\\,\\mathrm{kHz}$. The total required throughput, representing the aggregate number of samples to be transferred per second from all sites, is the product of the number of sites and the per-channel sampling frequency.\n$$R_{total, req} = N_{sites} \\times f_s$$\nThe problem statement provides context that the signal bandwidth is below $7.5\\,\\mathrm{kHz}$. According to the Nyquist sampling theorem, the minimum sampling rate required to avoid aliasing is twice the maximum frequency component, which would be $2 \\times 7.5\\,\\mathrm{kHz} = 15\\,\\mathrm{kHz}$. The chosen sampling frequency $f_s = 30\\,\\mathrm{kHz}$ is greater than this minimum, confirming the scientific validity of the setup.\nSubstituting the values:\n$$R_{total, req} = 501 \\times 30\\,\\mathrm{kHz} = 501 \\times 30 \\times 10^3\\,\\mathrm{s}^{-1} = 15030 \\times 10^3\\,\\mathrm{s}^{-1} = 15.03 \\times 10^6\\,\\mathrm{s}^{-1}$$\nThe total required throughput is $15.03$ million samples per second ($15.03\\,\\mathrm{MSamples/s}$).\n\n**Step 3: Determine the effective throughput of a single bus**\nA single TDM bus has a maximum symbol rate of $R_{bus,max} = 12\\,\\mathrm{MHz}$. In the context of sample transfers, we interpret this as a maximum rate of $12 \\times 10^6$ sample transfers per second. However, a fraction $\\gamma = 0.20$ of this capacity is lost to overhead. The fraction available for data transfer is $(1-\\gamma)$. The effective throughput of a single bus, $R_{bus, eff}$, is:\n$$R_{bus, eff} = R_{bus,max} \\times (1 - \\gamma)$$\nSubstituting the values:\n$$R_{bus, eff} = (12 \\times 10^6\\,\\mathrm{s}^{-1}) \\times (1 - 0.20) = (12 \\times 10^6\\,\\mathrm{s}^{-1}) \\times 0.80 = 9.6 \\times 10^6\\,\\mathrm{s}^{-1}$$\nA single bus can effectively handle $9.6$ million samples per second ($9.6\\,\\mathrm{MSamples/s}$).\n\n**Step 4: Determine the minimum number of parallel buses**\nTo meet the total required throughput $R_{total, req}$ using parallel buses each with an effective throughput of $R_{bus, eff}$, the number of buses must be at least the ratio of the total required rate to the single-bus rate. Since the number of buses must be an integer, we must take the ceiling of this ratio to ensure the capacity is sufficient.\nLet $N_{buses}$ be the minimum number of buses.\n$$N_{buses} = \\left\\lceil \\frac{R_{total, req}}{R_{bus, eff}} \\right\\rceil$$\nSubstituting the calculated throughput values:\n$$N_{buses} = \\left\\lceil \\frac{15.03 \\times 10^6\\,\\mathrm{s}^{-1}}{9.6 \\times 10^6\\,\\mathrm{s}^{-1}} \\right\\rceil = \\left\\lceil \\frac{15.03}{9.6} \\right\\rceil$$\nThe numerical value of the ratio is:\n$$\\frac{15.03}{9.6} = 1.565625$$\nApplying the ceiling function, which gives the smallest integer greater than or equal to its argument:\n$$N_{buses} = \\lceil 1.565625 \\rceil = 2$$\nTherefore, a minimum of $2$ independent parallel TDM buses are required to sample all $501$ sites at the specified frequency, given the bus constraints.",
            "answer": "$$\\boxed{2}$$"
        },
        {
            "introduction": "After ensuring the data stream can be physically acquired, the next critical step is converting the analog voltage into a digital representation. This practice  delves into the core of analog-to-digital conversion, examining how the choice of bit depth, $B$, impacts the precision of the recorded signal. Using a standard model for quantization noise, this exercise provides a quantitative method for determining the minimum resolution required to faithfully capture the subtle features of spike waveforms.",
            "id": "4138220",
            "problem": "A high-density electrophysiology probe digitizes spike amplitude features using an analog-to-digital converter (ADC). After appropriate analog gain, spike amplitudes are modeled as uniformly distributed on the interval $\\left[50\\,\\mu\\mathrm{V},\\,300\\,\\mu\\mathrm{V}\\right]$. The ADC employs a uniform scalar quantizer with $2^{B}$ codewords that exactly tessellate this dynamic range without clipping, where $B$ denotes the bit depth. Let the quantization error be $q$, defined as the difference between the true spike amplitude and its quantized representation, and let its standard deviation be $\\sigma_{q}$.\n\nStarting from the definition of the uniform quantizer step size across a finite interval and the well-tested fact about the variance of a uniform random variable on an interval, determine the minimal integer bit depth $B$ such that $\\sigma_{q} < 5\\,\\mu\\mathrm{V}$ under the stated model assumptions. Express your final answer as the integer $B$. No rounding is needed.",
            "solution": "The problem asks for the minimal integer bit depth $B$ of a uniform scalar quantizer such that the standard deviation of the quantization error, $\\sigma_q$, is less than $5\\,\\mu\\mathrm{V}$. The input signal, representing spike amplitudes, is modeled as a random variable uniformly distributed over the interval $[50\\,\\mu\\mathrm{V}, 300\\,\\mu\\mathrm{V}]$.\n\nFirst, we validate the problem statement.\n1.  **Extract Givens**:\n    *   Spike amplitude range: $[50\\,\\mu\\mathrm{V}, 300\\,\\mu\\mathrm{V}]$.\n    *   Spike amplitude distribution: Uniform over the given range.\n    *   Quantizer type: Uniform scalar quantizer.\n    *   Number of quantization levels (codewords): $2^B$, where $B$ is the integer bit depth.\n    *   Quantizer range: The quantizer exactly covers the signal's dynamic range, $[50\\,\\mu\\mathrm{V}, 300\\,\\mu\\mathrm{V}]$, without clipping.\n    *   Quantization error definition: $q$ is the difference between the true and quantized amplitude.\n    *   Constraint: The standard deviation of the quantization error, $\\sigma_q$, must satisfy $\\sigma_q < 5\\,\\mu\\mathrm{V}$.\n    *   Hint: Use the formula for the variance of a uniform random variable.\n\n2.  **Validate**:\n    *   The problem is scientifically grounded, employing standard models from digital signal processing (uniform quantization) and probability theory.\n    *   It is well-posed, providing all necessary information to establish a solvable inequality for the unknown variable $B$.\n    *   The language is objective and precise.\n    *   The setup is self-contained and free of contradictions. The physical values are realistic for electrophysiology.\n    *   The problem is therefore deemed **valid**.\n\nWe now proceed with the solution.\n\nThe dynamic range of the signal, which we denote as $R$, is the difference between the maximum and minimum amplitudes:\n$$R = 300\\,\\mu\\mathrm{V} - 50\\,\\mu\\mathrm{V} = 250\\,\\mu\\mathrm{V}$$\nA uniform quantizer with $2^B$ levels divides this dynamic range into $2^B$ equal quantization intervals. The size of each interval, known as the step size $\\Delta$, is given by:\n$$\\Delta = \\frac{R}{2^B} = \\frac{250\\,\\mu\\mathrm{V}}{2^B}$$\nThe problem states that the input signal is uniformly distributed across the entire dynamic range. For such a signal applied to a uniform quantizer, the quantization error $q$ is well-approximated as a random variable uniformly distributed over the interval $[-\\frac{\\Delta}{2}, \\frac{\\Delta}{2}]$.\n$$q \\sim U\\left(-\\frac{\\Delta}{2}, \\frac{\\Delta}{2}\\right)$$\nThe problem directs us to use the formula for the variance of a uniform random variable. For a random variable $X$ uniformly distributed on an interval $[a, b]$, its variance $\\sigma_X^2$ is:\n$$\\sigma_X^2 = \\frac{(b-a)^2}{12}$$\nApplying this to the quantization error $q$, we set $a = -\\frac{\\Delta}{2}$ and $b = \\frac{\\Delta}{2}$. The variance of the quantization error, $\\sigma_q^2$, is therefore:\n$$\\sigma_q^2 = \\frac{\\left(\\frac{\\Delta}{2} - \\left(-\\frac{\\Delta}{2}\\right)\\right)^2}{12} = \\frac{(\\Delta)^2}{12}$$\nThe standard deviation $\\sigma_q$ is the square root of the variance:\n$$\\sigma_q = \\sqrt{\\frac{\\Delta^2}{12}} = \\frac{\\Delta}{\\sqrt{12}}$$\nNow, we substitute the expression for the step size $\\Delta = \\frac{R}{2^B}$ into the equation for $\\sigma_q$:\n$$\\sigma_q = \\frac{1}{\\sqrt{12}} \\left( \\frac{R}{2^B} \\right) = \\frac{R}{2^B \\sqrt{12}}$$\nThe problem imposes the constraint that $\\sigma_q < 5\\,\\mu\\mathrm{V}$. We can write this as an inequality:\n$$\\frac{R}{2^B \\sqrt{12}} < 5\\,\\mu\\mathrm{V}$$\nSubstituting the value $R = 250\\,\\mu\\mathrm{V}$:\n$$\\frac{250\\,\\mu\\mathrm{V}}{2^B \\sqrt{12}} < 5\\,\\mu\\mathrm{V}$$\nThe units of $\\mu\\mathrm{V}$ cancel on both sides. We rearrange the inequality to solve for $B$:\n$$\\frac{250}{5} < 2^B \\sqrt{12}$$\n$$50 < 2^B \\sqrt{12}$$\n$$2^B > \\frac{50}{\\sqrt{12}}$$\nWe can simplify the term $\\sqrt{12}$ as $\\sqrt{4 \\times 3} = 2\\sqrt{3}$.\n$$2^B > \\frac{50}{2\\sqrt{3}}$$\n$$2^B > \\frac{25}{\\sqrt{3}}$$\nTo find $B$, we take the base-$2$ logarithm of both sides:\n$$B > \\log_2\\left(\\frac{25}{\\sqrt{3}}\\right)$$\nTo determine the minimal integer value for $B$, we must evaluate the right-hand side. We know that $\\sqrt{3} \\approx 1.732$.\n$$\\frac{25}{\\sqrt{3}} \\approx \\frac{25}{1.732} \\approx 14.434$$\nSo, the inequality becomes:\n$$2^B > 14.434$$\nWe examine integer powers of $2$:\n$2^3 = 8$\n$2^4 = 16$\nSince $16 > 14.434$ and $8 < 14.434$, the smallest integer $B$ that satisfies the inequality is $4$.\nMore formally, we can calculate the value of the logarithm:\n$$B > \\log_2(14.434) \\approx 3.851$$\nSince $B$ must be an integer, the minimal integer value satisfying $B > 3.851$ is $B=4$.\nThus, a minimum bit depth of $4$ is required.",
            "answer": "$$\\boxed{4}$$"
        },
        {
            "introduction": "Raw electrophysiological recordings are often contaminated by non-biological noise that is correlated across many channels, such as movement artifacts or mains hum. This exercise  introduces Common Average Referencing (CAR), a powerful and widely used preprocessing technique designed to suppress such artifacts. By analyzing a simplified but insightful model, you will derive how CAR affects both the desired neural signal and the underlying noise, and quantify its ultimate impact on the signal-to-noise ratio (SNR).",
            "id": "4138224",
            "problem": "A high-density silicon probe with $M = 384$ recording sites measures extracellular voltage. At a particular time $t_{0}$, a single neuron generates a spike that appears with identical peak amplitude $A$ on exactly $K = 3$ channels and is negligible on all other channels. Let each channel’s observed signal be the sum of a deterministic component and noise, written as $x_{i}(t) = s_{i}(t) + n_{i}(t)$, where the noise $n_{i}(t)$ is zero-mean, temporally white, identically distributed across channels with variance $\\sigma^{2}$, and uncorrelated between channels. The array applies Common Average Referencing (CAR), defined at each time $t$ by\n$$\ny_{i}(t) \\equiv x_{i}(t) - \\frac{1}{M} \\sum_{j=1}^{M} x_{j}(t).\n$$\nAssume CAR uses all $M$ channels, including the one being referenced. Define the signal-to-noise ratio (SNR) on a channel as the ratio of the spike’s peak amplitude to the noise standard deviation on that channel.\n\nStarting only from these definitions and assumptions:\n1) Derive the multiplicative factor by which CAR scales the spike’s peak amplitude on one of the $K$ spike-bearing channels at time $t_{0}$, expressed in terms of $K$ and $M$, and then evaluate it for $K = 3$ and $M = 384$ as an exact expression.\n2) Derive the multiplicative factor by which CAR rescales the SNR on a spike-bearing channel relative to the pre-CAR SNR, expressed in terms of $K$ and $M$, and then evaluate it exactly for $K = 3$ and $M = 384$.\n\nExpress your final answer as two exact unitless expressions ordered as [amplitude scaling factor, SNR scaling factor] in a single row matrix. Do not approximate or round; give exact closed-form expressions.",
            "solution": "The problem asks for two derivations related to the effect of Common Average Referencing (CAR) on a spike signal detected by a high-density electrophysiology probe. The first is the scaling factor for the spike's peak amplitude, and the second is the scaling factor for the signal-to-noise ratio (SNR).\n\nLet the set of all channels be $\\mathcal{M} = \\{1, 2, ..., M\\}$. The signal $x_i(t)$ on channel $i$ at time $t$ is given by $x_i(t) = s_i(t) + n_i(t)$, where $s_i(t)$ is the deterministic signal component and $n_i(t)$ is the noise. The noise $n_i(t)$ is zero-mean, $E[n_i(t)] = 0$, has variance $Var(n_i(t)) = \\sigma^2$ for all $i \\in \\mathcal{M}$, and is uncorrelated between channels, i.e., $E[n_i(t)n_j(t)] = 0$ for $i \\neq j$.\n\nAt the time of the spike peak, $t_0$, the signal from the neuron has amplitude $A$ on a specific set of $K$ channels, and is zero on the remaining $M-K$ channels. Without loss of generality, let the channels $\\{1, ..., K\\}$ be the spike-bearing channels.\nThe signal components at time $t_0$ are:\n$$\ns_i(t_0) =\n\\begin{cases}\nA & \\text{for } i \\in \\{1, ..., K\\} \\\\\n0 & \\text{for } i \\in \\{K+1, ..., M\\}\n\\end{cases}\n$$\nThe CAR-processed signal $y_i(t)$ is defined as:\n$$\ny_i(t) = x_i(t) - \\frac{1}{M} \\sum_{j=1}^{M} x_j(t)\n$$\nWe can separate the signal and noise components of $y_i(t)$:\n$$\ny_i(t) = \\left(s_i(t) - \\frac{1}{M} \\sum_{j=1}^{M} s_j(t)\\right) + \\left(n_i(t) - \\frac{1}{M} \\sum_{j=1}^{M} n_j(t)\\right)\n$$\nLet's define the post-CAR signal component as $s'_i(t) = s_i(t) - \\frac{1}{M} \\sum_{j=1}^{M} s_j(t)$ and the post-CAR noise component as $n'_i(t) = n_i(t) - \\frac{1}{M} \\sum_{j=1}^{M} n_j(t)$.\n\n**1) Amplitude Scaling Factor**\n\nWe need to find the multiplicative factor by which CAR scales the spike's peak amplitude on a spike-bearing channel (e.g., channel $i=1$). The original amplitude is $s_1(t_0) = A$. The post-CAR amplitude is $s'_1(t_0)$.\n\nFirst, calculate the sum of all signal components at $t_0$:\n$$\n\\sum_{j=1}^{M} s_j(t_0) = \\sum_{j=1}^{K} A + \\sum_{j=K+1}^{M} 0 = K A\n$$\nThe post-CAR signal amplitude on a spike-bearing channel ($i \\in \\{1, ..., K\\}$) is:\n$$\ns'_i(t_0) = s_i(t_0) - \\frac{1}{M} \\sum_{j=1}^{M} s_j(t_0) = A - \\frac{1}{M} (K A) = A \\left(1 - \\frac{K}{M}\\right)\n$$\nThe multiplicative scaling factor for the amplitude is the ratio of the post-CAR amplitude to the pre-CAR amplitude:\n$$\n\\text{Amplitude Scaling Factor} = \\frac{s'_i(t_0)}{s_i(t_0)} = \\frac{A \\left(1 - \\frac{K}{M}\\right)}{A} = 1 - \\frac{K}{M}\n$$\nFor the given values $K = 3$ and $M = 384$:\n$$\n\\text{Amplitude Scaling Factor} = 1 - \\frac{3}{384} = 1 - \\frac{1}{128} = \\frac{128 - 1}{128} = \\frac{127}{128}\n$$\n\n**2) SNR Scaling Factor**\n\nThe SNR is defined as the ratio of the peak amplitude to the noise standard deviation.\n\nThe pre-CAR SNR for a spike-bearing channel is:\n$$\n\\text{SNR}_{\\text{pre}} = \\frac{\\text{Amplitude}_{\\text{pre}}}{\\text{StdDev}_{\\text{pre}}} = \\frac{A}{\\sigma}\n$$\nsince the original noise standard deviation is $\\sqrt{\\sigma^2} = \\sigma$.\n\nTo find the post-CAR SNR, we need the standard deviation of the post-CAR noise, $n'_i(t)$. Let's calculate its variance, $Var(n'_i(t))$. Since the noise is zero-mean, the post-CAR noise is also zero-mean:\n$E[n'_i(t)] = E[n_i(t)] - \\frac{1}{M} \\sum_{j=1}^{M} E[n_j(t)] = 0 - 0 = 0$.\nThe variance is:\n$$\nVar(n'_i(t)) = Var\\left(n_i(t) - \\frac{1}{M} \\sum_{j=1}^{M} n_j(t)\\right) = Var\\left(\\left(1-\\frac{1}{M}\\right)n_i(t) - \\frac{1}{M} \\sum_{j \\neq i} n_j(t)\\right)\n$$\nSince the noise signals $n_j(t)$ are uncorrelated, the variance of the sum is the sum of the variances:\n$$\nVar(n'_i(t)) = Var\\left(\\left(1-\\frac{1}{M}\\right)n_i(t)\\right) + \\sum_{j \\neq i} Var\\left(-\\frac{1}{M} n_j(t)\\right)\n$$\nUsing the property $Var(cZ) = c^2 Var(Z)$:\n$$\nVar(n'_i(t)) = \\left(1-\\frac{1}{M}\\right)^2 Var(n_i(t)) + \\sum_{j \\neq i} \\left(\\frac{1}{M}\\right)^2 Var(n_j(t))\n$$\nWe know $Var(n_j(t)) = \\sigma^2$ for all $j$. The sum over $j \\neq i$ has $M-1$ terms.\n$$\nVar(n'_i(t)) = \\left(1-\\frac{2}{M}+\\frac{1}{M^2}\\right)\\sigma^2 + (M-1) \\frac{1}{M^2}\\sigma^2\n$$\n$$\nVar(n'_i(t)) = \\sigma^2 \\left( 1 - \\frac{2}{M} + \\frac{1}{M^2} + \\frac{M-1}{M^2} \\right) = \\sigma^2 \\left( 1 - \\frac{2}{M} + \\frac{1}{M^2} + \\frac{1}{M} - \\frac{1}{M^2} \\right)\n$$\n$$\nVar(n'_i(t)) = \\sigma^2 \\left(1 - \\frac{1}{M}\\right)\n$$\nThe post-CAR noise standard deviation is $\\sigma' = \\sqrt{Var(n'_i(t))} = \\sigma \\sqrt{1 - \\frac{1}{M}}$.\n\nThe post-CAR SNR for a spike-bearing channel is:\n$$\n\\text{SNR}_{\\text{post}} = \\frac{\\text{Amplitude}_{\\text{post}}}{\\text{StdDev}_{\\text{post}}} = \\frac{A \\left(1 - \\frac{K}{M}\\right)}{\\sigma \\sqrt{1 - \\frac{1}{M}}}\n$$\nThe SNR scaling factor is the ratio $\\frac{\\text{SNR}_{\\text{post}}}{\\text{SNR}_{\\text{pre}}}$:\n$$\n\\text{SNR Scaling Factor} = \\frac{A \\left(1 - \\frac{K}{M}\\right) / \\left(\\sigma \\sqrt{1 - \\frac{1}{M}}\\right)}{A / \\sigma} = \\frac{1 - \\frac{K}{M}}{\\sqrt{1 - \\frac{1}{M}}}\n$$\nFor the given values $K = 3$ and $M = 384$:\n$$\n\\text{SNR Scaling Factor} = \\frac{1 - \\frac{3}{384}}{\\sqrt{1 - \\frac{1}{384}}} = \\frac{1 - \\frac{1}{128}}{\\sqrt{\\frac{383}{384}}} = \\frac{\\frac{127}{128}}{\\frac{\\sqrt{383}}{\\sqrt{384}}}\n$$\nWe can simplify $\\sqrt{384} = \\sqrt{64 \\times 6} = 8\\sqrt{6}$.\n$$\n\\text{SNR Scaling Factor} = \\frac{127}{128} \\cdot \\frac{8\\sqrt{6}}{\\sqrt{383}} = \\frac{127\\sqrt{6}}{16\\sqrt{383}}\n$$\nThis is the exact expression for the SNR scaling factor.\n\nThe final results are the amplitude scaling factor, $\\frac{127}{128}$, and the SNR scaling factor, $\\frac{127\\sqrt{6}}{16\\sqrt{383}}$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{127}{128} & \\frac{127\\sqrt{6}}{16\\sqrt{383}}\n\\end{pmatrix}\n}\n$$"
        }
    ]
}