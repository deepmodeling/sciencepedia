{
    "hands_on_practices": [
        {
            "introduction": "Mastering Health Technology Assessment begins with understanding its core metric: the Incremental Cost-Effectiveness Ratio ($ICER$). This exercise provides hands-on practice in calculating the $ICER$ from given cost and effect data and applying the fundamental decision rule by comparing it to a willingness-to-pay threshold, $\\lambda$ (). By deriving this rule from the net benefit framework, you will solidify your understanding of the theoretical linkage between the two primary methods of cost-effectiveness analysis.",
            "id": "5019035",
            "problem": "A translational regenerative therapy seeking appraisal by the National Institute for Health and Care Excellence (NICE) within the United Kingdom must be evaluated through formal Health Technology Assessment (HTA) processes. Consider a base-case incremental analysis comparing the therapy to the current standard of care. You are given the following trial-synthesized incremental outcomes for the therapy: incremental cost $\\Delta C = 50000$ measured in British Pounds (GBP) and incremental health gain $\\Delta E = 1.5$ measured in Quality-Adjusted Life Years (QALYs). The cost-effectiveness decision is guided by a willingness-to-pay threshold $\\lambda = 30000$ expressed in GBP per QALY.\n\nStarting from foundational HTA definitions and decision rules, and without invoking any shortcut expressions not derivable from those foundations, compute the Incremental Cost-Effectiveness Ratio (ICER) and determine whether, under the base-case, the therapy would be deemed cost-effective at the stated threshold. For the ICER computation, treat $\\Delta E$ as strictly positive. You must:\n\n- Use the formal definition of the ICER in terms of incremental cost and incremental effect.\n- Apply the decision rule that follows from the net-benefit framework linking the threshold $\\lambda$ to incremental cost and effect.\n\nProvide the ICER as your final numerical answer, rounded to four significant figures. Express the ICER in GBP per QALY. In your reasoning, explicitly justify the cost-effectiveness decision using the threshold-based rule. Do not include units in the final boxed answer; units should be stated only in the problem statement.",
            "solution": "The problem is first subjected to validation.\n\n**Step 1: Extract Givens**\n- Incremental cost: $\\Delta C = 50000$ GBP\n- Incremental health gain: $\\Delta E = 1.5$ QALYs\n- Willingness-to-pay threshold: $\\lambda = 30000$ GBP per QALY\n- Constraint 1: Treat $\\Delta E$ as strictly positive ($\\Delta E > 0$).\n- Constraint 2: The solution must start from foundational HTA definitions.\n- Constraint 3: The decision rule must be derived from the net-benefit framework.\n- Constraint 4: The final ICER value must be rounded to four significant figures.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded in the established principles of health economics and Health Technology Assessment (HTA). The concepts of Incremental Cost-Effectiveness Ratio (ICER), Quality-Adjusted Life Years (QALYs), and willingness-to-pay thresholds are standard, well-defined metrics in this field. The problem is well-posed, providing all necessary data ($\\Delta C$, $\\Delta E$, $\\lambda$) for a unique solution. The language is objective and precise. The values provided are plausible within the context of evaluating a new regenerative therapy. No scientific or logical flaws are present.\n\n**Step 3: Verdict and Action**\nThe problem is deemed valid. A full solution will be formulated.\n\nThe solution proceeds by first defining and calculating the Incremental Cost-Effectiveness Ratio (ICER) and then deriving and applying the appropriate decision rule based on the net-benefit framework.\n\nThe formal definition of the ICER is the ratio of the incremental cost of a new intervention compared to a standard of care, to its incremental health effect. Let the new therapy be intervention $A$ and the standard of care be intervention $B$. The incremental cost is $\\Delta C = C_A - C_B$, and the incremental effect is $\\Delta E = E_A - E_B$. The ICER is thus defined as:\n$$\nICER = \\frac{\\Delta C}{\\Delta E}\n$$\nThe problem specifies that $\\Delta E$ is to be treated as strictly positive, which ensures the ICER is well-defined and avoids division by zero.\n\nUsing the provided values, we can compute the ICER:\n$$\n\\Delta C = 50000\n$$\n$$\n\\Delta E = 1.5\n$$\nSubstituting these values into the definition:\n$$\nICER = \\frac{50000}{1.5} = 33333.\\overline{3}\n$$\nThe problem requires this value to be rounded to four significant figures. The first four significant digits are $3$, $3$, $3$, and $3$. The fifth digit is $3$, which is less than $5$, so we round down. This means the digits following the fourth significant figure are replaced by zeros.\n$$\nICER \\approx 33330\n$$\n\nNext, we must determine if the therapy is cost-effective by applying the decision rule derived from the net-benefit framework. The net monetary benefit (NMB) of an intervention is defined as $NMB = (\\lambda \\times E) - C$, where $\\lambda$ is the willingness-to-pay threshold for a unit of health effect $E$. A new intervention is considered superior to the standard of care if its incremental net monetary benefit (INMB) is positive.\n$$\nINMB = NMB_A - NMB_B = ((\\lambda \\times E_A) - C_A) - ((\\lambda \\times E_B) - C_B)\n$$\nRearranging the terms:\n$$\nINMB = \\lambda(E_A - E_B) - (C_A - C_B) = (\\lambda \\times \\Delta E) - \\Delta C\n$$\nThe decision rule for cost-effectiveness is $INMB > 0$. Therefore, the therapy is deemed cost-effective if:\n$$\n(\\lambda \\times \\Delta E) - \\Delta C > 0\n$$\nThis can be rearranged to:\n$$\n\\lambda \\times \\Delta E > \\Delta C\n$$\nSince $\\Delta E > 0$ is given, we can divide both sides of the inequality by $\\Delta E$ without changing its direction:\n$$\n\\lambda > \\frac{\\Delta C}{\\Delta E}\n$$\nThis establishes the decision rule: a therapy is cost-effective if the willingness-to-pay threshold, $\\lambda$, is greater than the ICER.\n\nNow, we apply this rule using the given threshold and the calculated ICER.\n- The willingness-to-pay threshold is $\\lambda = 30000$.\n- The calculated ICER is approximately $33330$.\n\nWe must check if the condition $\\lambda > ICER$ is met.\n$$\n30000 > 33330\n$$\nThis inequality is false. Since the willingness-to-pay threshold is less than the incremental cost-effectiveness ratio ($\\lambda  ICER$), the therapy would not be deemed cost-effective under the specified base-case conditions and threshold.\n\nThe problem asks for the ICER as the final numerical answer, rounded to four significant figures.",
            "answer": "$$\\boxed{33330}$$"
        },
        {
            "introduction": "A base-case analysis provides a single answer, but real-world data is fraught with uncertainty. This practice introduces one-way sensitivity analysis, a critical tool used to test the robustness of a model's conclusions by varying one parameter at a time (). You will calculate how the $ICER$ changes in response to uncertainty in a health state utility value and determine the exact threshold at which a cost-effectiveness decision would be reversed, a common practice in HTA submissions.",
            "id": "5019080",
            "problem": "An oncology therapy is evaluated by a Health Technology Assessment (HTA) body using a state-transition model with two living health states, progression-free (PF) and progressed disease (PD), followed by death. The expected discounted incremental time in each living state for the new therapy versus the comparator is as follows: the progression-free time increases by $\\Delta t_{\\mathrm{PF}} = 0.30$ years and the progressed-disease time increases by $\\Delta t_{\\mathrm{PD}} = 0.25$ years. The base-case utility weights are $u_{\\mathrm{PF}} = 0.82$ for the progression-free state and $u_{\\mathrm{PD},0} = 0.58$ for the progressed state. The base-case incremental cost-effectiveness ratio ($ICER$) is $40000$ (currency units per quality-adjusted life year).\n\nIn accordance with the definition used by HTA bodies, quality-adjusted life years (QALYs) are the time in each health state weighted by its utility, and the incremental cost-effectiveness ratio is incremental costs divided by incremental QALYs. Assume that incremental costs and state-time estimates are unaffected by changes in the progressed-state utility, and that only the progressed-state utility is varied in a one-way sensitivity analysis.\n\nDesign a one-way sensitivity analysis plan in which the progressed-state utility $u_{\\mathrm{PD}}$ is varied by plus or minus $20$ percent around $u_{\\mathrm{PD},0}$ while holding all other inputs fixed, and determine the threshold value $u_{\\mathrm{PD}}^{\\ast}$ at which the $ICER$ would equal $50000$ (currency units per quality-adjusted life year), a decision criterion sometimes referenced by HTA bodies in specific contexts. Express the final utility threshold as a unitless number and round your answer to three significant figures.",
            "solution": "The problem is valid. It is scientifically grounded in the principles of health economics and Health Technology Assessment (HTA), is well-posed with sufficient information for a unique solution, and is formulated with objective, unambiguous language.\n\nThe problem requires us to first design a one-way sensitivity analysis plan and then determine a specific threshold value for a model parameter. Let us begin by defining the core concepts and equations based on the information provided.\n\nThe incremental quality-adjusted life years, denoted as $\\Delta Q$, are calculated by summing the incremental time spent in each health state, each weighted by its respective utility value. For the two living states, progression-free (PF) and progressed disease (PD), the equation is:\n$$\n\\Delta Q = u_{\\mathrm{PF}} \\Delta t_{\\mathrm{PF}} + u_{\\mathrm{PD}} \\Delta t_{\\mathrm{PD}}\n$$\nwhere $u_{\\mathrm{PF}}$ and $u_{\\mathrm{PD}}$ are the utility weights for the PF and PD states, and $\\Delta t_{\\mathrm{PF}}$ and $\\Delta t_{\\mathrm{PD}}$ are the incremental times in those states for the new therapy compared to the comparator.\n\nThe Incremental Cost-Effectiveness Ratio ($ICER$) is defined as the ratio of the incremental costs ($\\Delta C$) to the incremental QALYs ($\\Delta Q$):\n$$\nICER = \\frac{\\Delta C}{\\Delta Q}\n$$\nThe problem specifies the following base-case values:\n- Incremental time in PF state: $\\Delta t_{\\mathrm{PF}} = 0.30$ years\n- Incremental time in PD state: $\\Delta t_{\\mathrm{PD}} = 0.25$ years\n- Utility for PF state: $u_{\\mathrm{PF}} = 0.82$\n- Base-case utility for PD state: $u_{\\mathrm{PD},0} = 0.58$\n- Base-case $ICER_0 = 40000$ (currency units per QALY)\n\nThe one-way sensitivity analysis plan, as requested, is designed as follows:\n1.  **Parameter of Interest**: The utility of the progressed disease state, $u_{\\mathrm{PD}}$.\n2.  **Range of Variation**: The parameter $u_{\\mathrm{PD}}$ is to be varied by $\\pm 20\\%$ around its base-case value of $u_{\\mathrm{PD},0} = 0.58$. This corresponds to a range of $[0.58 \\times (1 - 0.20), 0.58 \\times (1 + 0.20)]$, which is $[0.464, 0.696]$.\n3.  **Output Metric**: The analysis will examine the effect of varying $u_{\\mathrm{PD}}$ on the $ICER$.\n4.  **Ceteris Paribus Condition**: All other model inputs, specifically the incremental cost $\\Delta C$ and the state-time estimates $\\Delta t_{\\mathrm{PF}}$ and $\\Delta t_{\\mathrm{PD}}$, as well as the utility $u_{\\mathrm{PF}}$, are held constant at their base-case values.\n5.  **Threshold Analysis**: A specific component of this analysis is to determine the threshold value of $u_{\\mathrm{PD}}$, denoted $u_{\\mathrm{PD}}^{\\ast}$, at which the $ICER$ equals a specified willingness-to-pay threshold of $50000$ currency units per QALY.\n\nTo execute the threshold analysis, we must first determine the incremental cost, $\\Delta C$. This value is assumed to be constant throughout the analysis. We can calculate it from the base-case scenario.\n\nFirst, we compute the base-case incremental QALYs, $\\Delta Q_0$:\n$$\n\\Delta Q_0 = u_{\\mathrm{PF}} \\Delta t_{\\mathrm{PF}} + u_{\\mathrm{PD},0} \\Delta t_{\\mathrm{PD}}\n$$\nSubstituting the given values:\n$$\n\\Delta Q_0 = (0.82)(0.30) + (0.58)(0.25) = 0.246 + 0.145 = 0.391 \\text{ QALYs}\n$$\nNext, using the base-case $ICER_0 = 40000$, we find the incremental cost $\\Delta C$:\n$$\n\\Delta C = ICER_0 \\times \\Delta Q_0 = 40000 \\times 0.391 = 15640 \\text{ currency units}\n$$\nNow, we can set up the equation for the new $ICER$ scenario. We are looking for the value $u_{\\mathrm{PD}}^{\\ast}$ that results in an $ICER$ of $50000$. Let this target $ICER$ be $ICER_{target} = 50000$. The corresponding incremental QALYs, $\\Delta Q_{new}$, will be:\n$$\n\\Delta Q_{new} = u_{\\mathrm{PF}} \\Delta t_{\\mathrm{PF}} + u_{\\mathrm{PD}}^{\\ast} \\Delta t_{\\mathrm{PD}}\n$$\nThe equation for the target $ICER$ is:\n$$\nICER_{target} = \\frac{\\Delta C}{\\Delta Q_{new}} = \\frac{\\Delta C}{u_{\\mathrm{PF}} \\Delta t_{\\mathrm{PF}} + u_{\\mathrm{PD}}^{\\ast} \\Delta t_{\\mathrm{PD}}}\n$$\nWe need to solve for $u_{\\mathrm{PD}}^{\\ast}$. Rearranging the equation:\n$$\nu_{\\mathrm{PF}} \\Delta t_{\\mathrm{PF}} + u_{\\mathrm{PD}}^{\\ast} \\Delta t_{\\mathrm{PD}} = \\frac{\\Delta C}{ICER_{target}}\n$$\n$$\nu_{\\mathrm{PD}}^{\\ast} \\Delta t_{\\mathrm{PD}} = \\frac{\\Delta C}{ICER_{target}} - u_{\\mathrm{PF}} \\Delta t_{\\mathrm{PF}}\n$$\n$$\nu_{\\mathrm{PD}}^{\\ast} = \\frac{1}{\\Delta t_{\\mathrm{PD}}} \\left( \\frac{\\Delta C}{ICER_{target}} - u_{\\mathrm{PF}} \\Delta t_{\\mathrm{PF}} \\right)\n$$\nNow we substitute the known values into this expression:\n- $\\Delta C = 15640$\n- $ICER_{target} = 50000$\n- $\\Delta t_{\\mathrm{PD}} = 0.25$\n- $u_{\\mathrm{PF}} = 0.82$\n- $\\Delta t_{\\mathrm{PF}} = 0.30$\n\nThe term $u_{\\mathrm{PF}} \\Delta t_{\\mathrm{PF}}$ is $0.82 \\times 0.30 = 0.246$.\nThe term $\\frac{\\Delta C}{ICER_{target}}$ is $\\frac{15640}{50000} = 0.3128$.\n\nSubstituting these into the equation for $u_{\\mathrm{PD}}^{\\ast}$:\n$$\nu_{\\mathrm{PD}}^{\\ast} = \\frac{1}{0.25} (0.3128 - 0.246)\n$$\n$$\nu_{\\mathrm{PD}}^{\\ast} = 4 \\times (0.0668)\n$$\n$$\nu_{\\mathrm{PD}}^{\\ast} = 0.2672\n$$\nThe problem requires the final answer to be rounded to three significant figures.\n$$\nu_{\\mathrm{PD}}^{\\ast} \\approx 0.267\n$$\nThis is the threshold value for the utility of the progressed disease state at which the ICER would be exactly $50000$ currency units per QALY, holding all other parameters constant.",
            "answer": "$$\n\\boxed{0.267}\n$$"
        },
        {
            "introduction": "To fully embrace uncertainty, HTA practitioners move from one-way to Probabilistic Sensitivity Analysis (PSA), where many model inputs are varied simultaneously. This exercise challenges you to process the outputs of a PSA by writing a program to construct a Cost-Effectiveness Acceptability Curve (CEAC), one of the most important tools in modern HTA (). This hands-on coding practice demystifies how decision uncertainty is quantified and presented to policymakers, translating thousands of data points into a clear statement of probable value for money.",
            "id": "5019037",
            "problem": "A Health Technology Assessment (HTA) decision process frequently interprets Probabilistic Sensitivity Analysis (PSA) results to make recommendations about a new intervention relative to standard care. The decision rule is grounded in the net benefit framework: for a given willingness-to-pay threshold per Quality-Adjusted Life Year (QALY), denoted by $\\lambda$ (monetary units per QALY), the Net Monetary Benefit (NMB) is defined as $NMB(\\lambda) = \\lambda \\times \\Delta E - \\Delta C$, where $\\Delta C$ is the incremental cost of the new intervention relative to the comparator and $\\Delta E$ is the incremental effectiveness in QALYs. A new intervention is preferred if $NMB(\\lambda) \\ge 0$, and the Cost-Effectiveness Acceptability Curve (CEAC) at threshold $\\lambda$ is the probability that $NMB(\\lambda) \\ge 0$ across PSA iterations. More generally, one constructs a CEAC by evaluating this probability across a range of $\\lambda$ values. The probability cost-effective at a specific threshold is the CEAC evaluated at that $\\lambda$.\n\nYour task is to write a program that, given $1000$ PSA iterations consisting of paired incremental costs and effects, constructs the CEAC across a specified grid of thresholds and computes the probability cost-effective at $\\lambda = 30000$ (monetary units per QALY). Use the following base definitions and rules, which are widely accepted in HTA practice:\n- Net Monetary Benefit (NMB) definition: $NMB(\\lambda) = \\lambda \\times \\Delta E - \\Delta C$.\n- Cost-effectiveness decision criterion: choose the new intervention if $NMB(\\lambda) \\ge 0$.\n- Monte Carlo approximation for probability: if $\\{(\\Delta C_i, \\Delta E_i)\\}_{i=1}^N$ are PSA draws, then the estimated probability cost-effective at $\\lambda$ is $\\hat{p}(\\lambda) = \\frac{1}{N} \\sum_{i=1}^N \\mathbf{1}\\{\\lambda \\Delta E_i - \\Delta C_i \\ge 0\\}$, where $\\mathbf{1}\\{\\cdot\\}$ is the indicator function and $N = 1000$.\n\nImplement the program to compute:\n- The probability cost-effective at $\\lambda = 30000$ for each test case, rounded to $4$ decimal places.\n- The CEAC, defined as the list of probabilities $\\hat{p}(\\lambda)$ computed at the threshold grid $\\lambda \\in \\{0, 10000, 20000, 30000, 40000, 50000\\}$, for each test case, each probability rounded to $4$ decimal places.\n\nUse the following test suite of parameterized PSA datasets to ensure coverage of typical and edge scenarios. In all cases, $N = 1000$ iterations. Where random generation is specified, use an independent pseudorandom number generator seeded as specified so that results are deterministic.\n\nTest Case $1$ (mixed-benefit scenario):\n- Seed: $314159$.\n- Incremental cost draws: $\\Delta C_i \\sim \\mathcal{N}(500, 2000^2)$.\n- Incremental effect draws: $\\Delta E_i \\sim \\mathcal{N}(0.05, 0.1^2)$.\n- Independence between $\\Delta C_i$ and $\\Delta E_i$.\n\nTest Case $2$ (symmetry around zero):\n- Seed: $271828$.\n- Incremental cost draws: $\\Delta C_i \\sim \\mathcal{N}(0, 1000^2)$.\n- Incremental effect draws: $\\Delta E_i \\sim \\mathcal{N}(0, 0.05^2)$.\n- Independence between $\\Delta C_i$ and $\\Delta E_i$.\n\nTest Case $3$ (dominated scenario, degenerate):\n- Deterministic arrays: $\\Delta C_i = 2000$ for all $i \\in \\{1, \\dots, 1000\\}$; $\\Delta E_i = 0$ for all $i \\in \\{1, \\dots, 1000\\}$.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets. For each test case, output a two-element list where the first element is the probability cost-effective at $\\lambda = 30000$ and the second element is the CEAC vector evaluated at $\\lambda \\in \\{0, 10000, 20000, 30000, 40000, 50000\\}$. Concretely, the final output must be of the form\n$[[p_{30000}^{(1)}, [p_{0}^{(1)}, p_{10000}^{(1)}, p_{20000}^{(1)}, p_{30000}^{(1)}, p_{40000}^{(1)}, p_{50000}^{(1)}]], [p_{30000}^{(2)}, [\\dots]], [p_{30000}^{(3)}, [\\dots]]]$,\nwhere each $p_{\\lambda}^{(k)}$ is rounded to $4$ decimal places for test case $k \\in \\{1,2,3\\}$.",
            "solution": "The problem is valid. It presents a well-defined computational task grounded in the standard principles of Health Technology Assessment (HTA) and decision analysis. The provided definitions for Net Monetary Benefit (NMB) and the Cost-Effectiveness Acceptability Curve (CEAC) are orthodox in the field. The use of Monte Carlo simulation with specified distributions and seeds for Probabilistic Sensitivity Analysis (PSA) is a standard and formalizable procedure. The problem is self-contained, scientifically sound, and computationally tractable.\n\nHerein, we provide a principled solution. The objective is to compute the probability that a new health intervention is cost-effective relative to a comparator for a series of scenarios. This is achieved by constructing a CEAC from simulated data.\n\nThe core of the analysis rests upon the Net Monetary Benefit framework. For a given willingness-to-pay threshold, $\\lambda$, which represents the monetary value society places on one Quality-Adjusted Life Year (QALY), the NMB is defined as:\n$$NMB(\\lambda) = \\lambda \\times \\Delta E - \\Delta C$$\nwhere $\\Delta C$ denotes the incremental cost and $\\Delta E$ denotes the incremental effectiveness (in QALYs) of the new intervention compared to the standard of care. A new intervention is deemed cost-effective if its NMB is non-negative, i.e., $NMB(\\lambda) \\ge 0$.\n\nDue to uncertainty in the estimates of $\\Delta C$ and $\\Delta E$, we are provided with $N=1000$ paired draws, $\\{(\\Delta C_i, \\Delta E_i)\\}_{i=1}^N$, from a PSA. The probability of cost-effectiveness at a given threshold $\\lambda$, denoted $\\hat{p}(\\lambda)$, is estimated using a Monte Carlo approach. This involves calculating the proportion of simulations where the cost-effectiveness criterion is met:\n$$ \\hat{p}(\\lambda) = \\frac{1}{N} \\sum_{i=1}^N \\mathbf{1}\\{\\lambda \\Delta E_i - \\Delta C_i \\ge 0\\} $$\nHere, $\\mathbf{1}\\{\\cdot\\}$ is the indicator function, which equals $1$ if the condition inside is true and $0$ otherwise. The CEAC is a plot of $\\hat{p}(\\lambda)$ against a range of $\\lambda$ values.\n\nThe algorithmic approach to solving this problem proceeds as follows for each test case:\n\n1.  **Data Generation**: The first step is to generate the $N=1000$ pairs of $(\\Delta C_i, \\Delta E_i)$.\n    *   For Test Cases $1$ and $2$, these are random variates drawn from specified Normal distributions, $\\mathcal{N}(\\mu, \\sigma^2)$. To ensure reproducibility, a pseudorandom number generator is seeded as specified for each case. We generate two vectors, one for $\\Delta C$ and one for $\\Delta E$, each of length $N=1000$.\n    *   For Test Case $3$, the values are deterministic. We construct two constant vectors of length $N=1000$, where all $\\Delta C_i$ are $2000$ and all $\\Delta E_i$ are $0$.\n\n2.  **CEAC Computation**: We compute the CEAC over the specified grid of thresholds, $\\lambda \\in \\{0, 10000, 20000, 30000, 40000, 50000\\}$.\n    *   For each value of $\\lambda$ in the grid, we compute the NMB for all $N=1000$ simulations. This is performed efficiently using vectorized operations: a scalar $\\lambda$ is multiplied by the vector of $\\Delta E$ values, and the vector of $\\Delta C$ values is subtracted. This yields a vector of $N=1000$ NMB values.\n    *   Next, we apply the condition $NMB \\ge 0$ to this vector, which results in a boolean vector of length $N=1000$.\n    *   The sum of this boolean vector (where `True` is implicitly treated as $1$ and `False` as $0$) gives the count of simulations where the intervention is cost-effective.\n    *   This count is divided by the total number of simulations, $N=1000$, to obtain the probability $\\hat{p}(\\lambda)$.\n    *   The computed probability is rounded to $4$ decimal places, as required.\n    *   This process is repeated for each $\\lambda$ in the grid, and the resulting probabilities are stored in a list, which constitutes the CEAC.\n\n3.  **Result Aggregation**: The final step is to assemble the results into the prescribed format.\n    *   For each test case, the probability of cost-effectiveness at $\\lambda = 30000$ is extracted. This value will be the fourth element (at index $3$) of the computed CEAC list, corresponding to the fourth value in the threshold grid.\n    *   The final output for each case is a two-element list containing this specific probability and the full CEAC list. These results are then aggregated into a single list for all test cases.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes the probability of cost-effectiveness and the CEAC for three test cases\n    based on the Net Monetary Benefit framework and Probabilistic Sensitivity Analysis results.\n    \"\"\"\n    \n    # Define global parameters\n    N = 1000\n    LAMBDA_GRID = [0, 10000, 20000, 30000, 40000, 50000]\n\n    # Define the test cases from the problem statement\n    test_cases = [\n        {\n            \"type\": \"random\",\n            \"params\": {\n                \"seed\": 314159,\n                \"cost_mean\": 500,\n                \"cost_std\": 2000,\n                \"effect_mean\": 0.05,\n                \"effect_std\": 0.1,\n            }\n        },\n        {\n            \"type\": \"random\",\n            \"params\": {\n                \"seed\": 271828,\n                \"cost_mean\": 0,\n                \"cost_std\": 1000,\n                \"effect_mean\": 0,\n                \"effect_std\": 0.05,\n            }\n        },\n        {\n            \"type\": \"deterministic\",\n            \"params\": {\n                \"cost_val\": 2000,\n                \"effect_val\": 0,\n            }\n        }\n    ]\n\n    all_results = []\n    \n    for case in test_cases:\n        delta_c = None\n        delta_e = None\n\n        # Step 1: Generate or define the PSA data\n        if case[\"type\"] == \"random\":\n            p = case[\"params\"]\n            rng = np.random.default_rng(p[\"seed\"])\n            delta_c = rng.normal(loc=p[\"cost_mean\"], scale=p[\"cost_std\"], size=N)\n            delta_e = rng.normal(loc=p[\"effect_mean\"], scale=p[\"effect_std\"], size=N)\n        elif case[\"type\"] == \"deterministic\":\n            p = case[\"params\"]\n            delta_c = np.full(N, p[\"cost_val\"])\n            delta_e = np.full(N, p[\"effect_val\"])\n\n        # Step 2: Compute the CEAC\n        ceac = []\n        for lambda_val in LAMBDA_GRID:\n            # Calculate Net Monetary Benefit for all N simulations\n            nmb = lambda_val * delta_e - delta_c\n            \n            # Count simulations where NMB >= 0\n            count_cost_effective = np.sum(nmb >= 0)\n            \n            # Calculate the probability and round to 4 decimal places\n            prob_cost_effective = round(count_cost_effective / N, 4)\n            ceac.append(prob_cost_effective)\n            \n        # Step 3: Extract the probability at lambda = 30000\n        # The index for lambda=30000 in LAMBDA_GRID is 3\n        p_30000 = ceac[3]\n        \n        # Step 4: Format the result for this case\n        case_result = [p_30000, ceac]\n        all_results.append(case_result)\n\n    # Format the final output string to match the exact requirement (no spaces)\n    final_output_str = str(all_results).replace(\" \", \"\")\n    \n    # Final print statement in the exact required format\n    print(final_output_str)\n\nsolve()\n```"
        }
    ]
}