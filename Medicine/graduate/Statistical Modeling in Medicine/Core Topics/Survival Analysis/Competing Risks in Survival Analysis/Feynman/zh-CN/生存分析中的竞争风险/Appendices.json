{
    "hands_on_practices": [
        {
            "introduction": "要掌握竞争风险分析，第一步是理解瞬时原因别定风险率（cause-specific hazard）与事件累积概率之间的基本联系。本练习将引导你从第一性原理出发，在一个简化的恒定风险情景中推导原因别累积发生函数（CIF）。这项实践将巩固核心的数学定义，为后续更复杂的分析打下坚实的理论基础。",
            "id": "4956483",
            "problem": "对一个患者队列进行随访，观察其事件发生时间结果，该结果有两种互斥的失败原因：原因 $1$ 对应于疾病特异性死亡，原因 $2$ 对应于非疾病性死亡。假设不存在右删失，并且特定原因风险在时间上是恒定的，对于所有 $t \\ge 0$，其特定原因风险函数为 $\\lambda_{1}(t)=0.02$ 和 $\\lambda_{2}(t)=0.01$。仅使用风险、生存和无穷小时间区间内事件概率的基本定义，从第一性原理推导原因 $1$ 的累积发生率函数（记为 $F_{1}(t)$）和总生存函数 $S(t)$ 的表达式。然后，计算 $F_{1}(3)$ 和 $S(3)$ 的值。\n\n将两个数值答案均表示为四舍五入到四位有效数字的小数。",
            "solution": "该问题是有效的，因为它在科学上基于生存分析中的竞争风险理论，问题提法严谨，并提供了所有必要数据，且用客观、正式的语言表述。我们可以开始推导。\n\n设 $T$ 为失败时间，$J \\in \\{1, 2\\}$ 为失败原因。给定特定原因风险函数，该函数不随时间变化，是常数：\n失败原因 $1$：$\\lambda_{1}(t) = \\lambda_{1} = 0.02$。\n失败原因 $2$：$\\lambda_{2}(t) = \\lambda_{2} = 0.01$。\n\n首先，我们推导总生存函数，$S(t) = P(T > t)$。总风险函数 $\\lambda(t)$ 是在时间 $t$ 时由任何原因导致的失败的瞬时速率，条件为存活至时间 $t$。由于各原因是互斥的，总风险是特定原因风险之和：\n$$ \\lambda(t) = \\lambda_1(t) + \\lambda_2(t) = 0.02 + 0.01 = 0.03 $$\n总风险 $\\lambda(t)$ 也是一个常数。\n\n根据其基本定义，风险函数与生存函数 $S(t)$ 的关系可表示为生存概率下降的瞬时速率，并由生存概率本身进行归一化。\n$$ \\lambda(t) = \\lim_{\\Delta t \\to 0} \\frac{P(t \\le T  t+\\Delta t | T \\ge t)}{\\Delta t} = \\lim_{\\Delta t \\to 0} \\frac{S(t) - S(t+\\Delta t)}{\\Delta t \\cdot S(t)} = -\\frac{1}{S(t)}\\frac{dS(t)}{dt} $$\n这就得到了一阶常微分方程：\n$$ \\frac{dS(t)}{dt} = -\\lambda(t)S(t) $$\n我们可以用分离变量法求解此方程：\n$$ \\frac{dS(t)}{S(t)} = -\\lambda(t)dt $$\n对两边从 $0$ 到 $t$ 积分，在初始条件 $S(0) = 1$（存活超过时间 $0$ 的概率为 $1$）下：\n$$ \\int_{S(0)}^{S(t)} \\frac{d S'}{S'} = -\\int_0^t \\lambda(u)du $$\n$$ \\ln(S(t)) - \\ln(S(0)) = -\\int_0^t \\lambda(u)du $$\n$$ \\ln(S(t)) = -\\int_0^t \\lambda(u)du $$\n对两边取指数，得到生存函数的一般表达式：\n$$ S(t) = \\exp\\left(-\\int_0^t \\lambda(u)du\\right) $$\n代入我们的常数总风险 $\\lambda(u) = 0.03$：\n$$ S(t) = \\exp\\left(-\\int_0^t 0.03 du\\right) = \\exp(-0.03[u]_0^t) = \\exp(-0.03t) $$\n这就是所求的总生存函数 $S(t)$ 的表达式。\n\n接下来，我们推导原因 $1$ 的累积发生率函数 (CIF)，$F_1(t) = P(T \\le t, J=1)$。这表示到时间 $t$ 为止因原因 $1$ 而失败的概率。\n从第一性原理出发，在无穷小时间区间 $[u, u+du)$ 内发生类型 $1$ 事件的概率，是存活至时间 $u$ 的概率 $S(u)$ 与给定存活至 $u$ 时、在 $[u, u+du)$ 内发生事件的条件概率 $\\lambda_1(u)du$ 的乘积。\n因此，无穷小概率为 $dP(T \\in [u, u+du), J=1) = S(u)\\lambda_1(u)du$。\n为了求得累积概率 $F_1(t)$，我们将此量从 $u=0$ 积分到 $u=t$：\n$$ F_1(t) = \\int_0^t S(u)\\lambda_1(u)du $$\n代入我们得到的 $S(u)$ 表达式和给定的 $\\lambda_1(u)$：\n$$ F_1(t) = \\int_0^t \\exp(-0.03u) \\cdot 0.02 du $$\n我们可以将常数 $0.02$ 提出积分：\n$$ F_1(t) = 0.02 \\int_0^t \\exp(-0.03u) du $$\n进行积分：\n$$ F_1(t) = 0.02 \\left[ \\frac{\\exp(-0.03u)}{-0.03} \\right]_0^t = -\\frac{0.02}{0.03} \\left[ \\exp(-0.03u) \\right]_0^t $$\n$$ F_1(t) = -\\frac{2}{3} \\left( \\exp(-0.03t) - \\exp(0) \\right) $$\n$$ F_1(t) = -\\frac{2}{3} \\left( \\exp(-0.03t) - 1 \\right) $$\n$$ F_1(t) = \\frac{2}{3} \\left( 1 - \\exp(-0.03t) \\right) $$\n这就是所求的原因 $1$ 的累积发生率函数的表达式。\n\n最后，我们计算 $t=3$ 时的 $S(t)$ 和 $F_1(t)$ 的值，并将结果四舍五入到四位有效数字。\n对于总生存函数 $S(3)$:\n$$ S(3) = \\exp(-0.03 \\times 3) = \\exp(-0.09) \\approx 0.91393118... $$\n四舍五入到四位有效数字得到 $0.9139$。\n\n对于原因 $1$ 的累积发生率函数 $F_1(3)$:\n$$ F_1(3) = \\frac{2}{3} \\left( 1 - \\exp(-0.03 \\times 3) \\right) = \\frac{2}{3} \\left( 1 - \\exp(-0.09) \\right) $$\n$$ F_1(3) \\approx \\frac{2}{3} (1 - 0.91393118) = \\frac{2}{3} (0.08606882) \\approx 0.05737921... $$\n四舍五入到四位有效数字得到 $0.05738$。\n\n$F_1(3)$ 和 $S(3)$ 的最终答案分别为 $0.05738$ 和 $0.9139$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.05738  0.9139\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "在生存分析中，一个最常见的陷阱是将竞争性事件错误地当作普通的删失（censoring）数据来处理。本练习将揭示这种错误方法所导致的显著偏差。通过将基于Kaplan-Meier方法的朴素估计（$1 - \\hat{S}_{KM}(t)$）与正确的原因别累积发生函数进行直接比较，我们可以量化这一误差，并深刻理解为何必须采用恰当的竞争风险框架。",
            "id": "4956481",
            "problem": "考虑一个假设的癌症登记处，其中有两种互斥的失败原因：原因 $1$（疾病特异性死亡）和原因 $2$（其他原因导致的死亡）。时间以年为单位，分析在 $t = 5$ 的固定时间范围内进行。假设一个离散时间的竞争风险结构，事件发生在 $t = 2$ 和 $t = 4$ 两个时间点，并在 $t = 5$ 进行管理性删失。在 $t = 2$ 时，在 $n = 10$ 名风险患者中，有 $d_{1,2} = 2$ 例来自原因 $1$ 的事件和 $d_{2,2} = 4$ 例来自原因 $2$ 的事件。在 $t = 4$ 时，在剩余的风险患者中，有 $d_{1,4} = 2$ 例来自原因 $1$ 的事件和 $d_{2,4} = 0$ 例来自原因 $2$ 的事件。所有剩余患者在 $t = 5$ 时被管理性删失。\n\n从基本定义出发，计算：\n- 当原因 $2$ 被视为独立删失时，在 $t = 5$ 时原因 $1$ 终点的Kaplan–Meier (KM)估计量的补集，记为 $1 - \\hat{S}_{KM}(5)$。\n- 在 $t = 5$ 时原因 $1$ 的真实累积发生率函数，记为 $F_{1}(5)$，基于多状态竞争风险模型（即，在离开初始状态的风险中考虑了两种原因）。\n\n最后，量化在 $t = 5$ 时的偏差，定义为 $\\left(1 - \\hat{S}_{KM}(5)\\right) - F_{1}(5)$。将最终偏差表示为一个无单位的十进制数。无需四舍五入。",
            "solution": "用户提供了一个离散时间竞争风险问题，并要求计算一个特定的偏差。我将首先验证问题陈述。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n-   两种互斥的失败原因：原因 $1$ 和原因 $2$。\n-   分析的时间范围：$t = 5$ 年。\n-   离散事件时间：$t = 2$ 和 $t = 4$。\n-   管理性删失时间：$t = 5$。\n-   初始风险患者数：$n = 10$。\n-   $t = 2$ 时的数据：\n    -   风险人数：“在 $n = 10$ 名风险患者中”。\n    -   来自原因 $1$ 的事件：$d_{1,2} = 2$。\n    -   来自原因 $2$ 的事件：$d_{2,2} = 4$。\n-   $t = 4$ 时的数据：\n    -   风险人数：“在剩余的风险患者中”。\n    -   来自原因 $1$ 的事件：$d_{1,4} = 2$。\n    -   来自原因 $2$ 的事件：$d_{2,4} = 0$。\n-   $t = 5$ 时的数据：“所有剩余患者在 $t = 5$ 时被管理性删失。”\n-   待计算的量：\n    1.  当原因 $2$ 被视为独立删失时，在 $t = 5$ 时原因 $1$ 终点的 Kaplan–Meier 估计量的补集，$1 - \\hat{S}_{KM}(5)$。\n    2.  在 $t = 5$ 时原因 $1$ 的累积发生率函数，$F_{1}(5)$。\n    3.  在 $t = 5$ 时的偏差，定义为 $\\left(1 - \\hat{S}_{KM}(5)\\right) - F_{1}(5)$。\n\n**步骤2：使用提取的已知条件进行验证**\n-   **科学依据：** 该问题是竞争风险生存分析中的一个标准练习，这是生物统计学和流行病学的一个核心课题。Kaplan-Meier估计量、累积发生率函数以及将竞争风险错误指定为删失所产生的偏差等概念是该领域的基本原则。\n-   **问题设定良好：** 该问题提供了计算所需量的所有必要数值数据和清晰定义。$t=4$ 时的风险患者数量没有明确说明，但可以由初始数量和 $t=2$ 时的事件唯一确定。问题是自洽且一致的。\n-   **客观性：** 语言正式、量化，没有任何主观或模糊的陈述。\n\n该问题没有表现出任何诸如科学不健全、信息缺失或模糊性等缺陷。这是一个定义明确且有效的问题陈述。\n\n**步骤3：结论与行动**\n问题有效。我将继续提供完整的解决方案。\n\n### 解答\n\n目标是计算将竞争风险视为独立删失事件所产生的偏差。该偏差是朴素计算的发生率（$1 - \\hat{S}_{KM}(5)$）与正确计算的累积发生率函数（$\\hat{F}_{1}(5)$）之间的差值。\n\n**第1部分：计算 $1 - \\hat{S}_{KM}(5)$**\n\n在这种方法中，来自原因 $1$ 的事件被视为目标事件，而来自原因 $2$ 的事件被视为独立删失。用于“生存”函数（即，免于原因1死亡）的 Kaplan-Meier 估计量由下式给出：\n$$\n\\hat{S}_{KM}(t) = \\prod_{t_j \\leq t} \\left(1 - \\frac{d_{1,j}}{n_j}\\right)\n$$\n其中 $t_j$ 是原因 $1$ 的事件时间，$d_{1,j}$ 是在 $t_j$ 时原因 $1$ 事件的数量，而 $n_j$ 是在 $t_j$ 之前刻的风险患者数量。\n\n让我们为这个分析构建生命表。\n-   在 $t=0$ 时，初始风险患者数量为 $n_0 = 10$。\n-   在第一个事件时间 $t=2$：\n    -   风险患者数量为 $n_2 = 10$。\n    -   目标事件（原因 $1$）的数量为 $d_{1,2} = 2$。\n    -   经历竞争事件（原因 $2$）的患者数量，此处被视为删失，为 $d_{2,2} = 4$。\n    -   超过此时间点的生存概率计算如下：\n    $$\n    \\hat{S}_{KM}(2) = \\left(1 - \\frac{d_{1,2}}{n_2}\\right) = \\left(1 - \\frac{2}{10}\\right) = \\frac{8}{10} = 0.8\n    $$\n-   对于下一个区间，我们确定仍然处于风险中的患者数量。这些是在 $t=2$ 时未发生任何原因事件的患者。\n    -   $t=4$ 时的风险人数：$n_4 = n_2 - d_{1,2} - d_{2,2} = 10 - 2 - 4 = 4$。\n-   在第二个事件时间 $t=4$：\n    -   风险患者数量为 $n_4 = 4$。\n    -   目标事件（原因 $1$）的数量为 $d_{1,4} = 2$。\n    -   累积生存概率更新为：\n    $$\n    \\hat{S}_{KM}(4) = \\hat{S}_{KM}(2) \\times \\left(1 - \\frac{d_{1,4}}{n_4}\\right) = 0.8 \\times \\left(1 - \\frac{2}{4}\\right) = 0.8 \\times 0.5 = 0.4\n    $$\n-   在分析终点 $t=5$：\n    -   在 $t=4$ 和 $t=5$ 之间没有事件发生。剩余的 $n_4 - d_{1,4} - d_{2,4} = 4 - 2 - 0 = 2$ 名患者在 $t=5$ 时被管理性删失。这不会改变生存估计。\n    -   因此，$\\hat{S}_{KM}(5) = \\hat{S}_{KM}(4) = 0.4$。\n\nKaplan-Meier 估计的补集是：\n$$\n1 - \\hat{S}_{KM}(5) = 1 - 0.4 = 0.6\n$$\n该值表示在独立删失的错误假设下对原因 $1$ 发生率的估计。\n\n**第2部分：计算累积发生率函数 $F_1(5)$**\n\n累积发生率函数（CIF）通过考虑在所有其他原因存在的情况下，由特定原因导致失败的概率，来正确处理竞争风险。原因 $k$ 的CIF估计量由下式给出：\n$$\n\\hat{F}_k(t) = \\sum_{t_j \\leq t} \\frac{d_{k,j}}{n_j} \\hat{S}(t_{j-1})\n$$\n其中 $\\hat{S}(t)$ 是**总**生存函数，它考虑了所有原因的事件。\n\n首先，我们必须计算总生存函数 $\\hat{S}(t)$。\n$$\n\\hat{S}(t) = \\prod_{t_j \\leq t} \\left(1 - \\frac{d_j}{n_j}\\right)\n$$\n其中 $d_j = d_{1,j} + d_{2,j}$ 是时间 $t_j$ 的总事件数。\n-   在 $t=0$ 时，$\\hat{S}(0) = 1$。风险人数为 $n_0 = 10$。\n-   在 $t=2$ 时：\n    -   风险人数为 $n_2 = 10$。\n    -   总事件数为 $d_2 = d_{1,2} + d_{2,2} = 2 + 4 = 6$。\n    -   总生存概率为：\n    $$\n    \\hat{S}(2) = \\hat{S}(0) \\times \\left(1 - \\frac{d_2}{n_2}\\right) = 1 \\times \\left(1 - \\frac{6}{10}\\right) = 0.4\n    $$\n-   在 $t=4$ 时：\n    -   风险人数为 $n_4 = n_2 - d_2 = 10 - 6 = 4$。\n    -   总事件数为 $d_4 = d_{1,4} + d_{2,4} = 2 + 0 = 2$。\n    -   总生存概率更新为：\n    $$\n    \\hat{S}(4) = \\hat{S}(2) \\times \\left(1 - \\frac{d_4}{n_4}\\right) = 0.4 \\times \\left(1 - \\frac{2}{4}\\right) = 0.4 \\times 0.5 = 0.2\n    $$\n-   由于在 $t=5$ 之前没有更多事件发生，$\\hat{S}(5) = \\hat{S}(4) = 0.2$。\n\n现在，我们可以计算原因 $1$ 的CIF，$\\hat{F}_1(5)$。这涉及到在发生原因 $1$ 事件的每个事件时间点上对增量进行求和。\n-   $t=2$ 时的增量：这是在 $t=2$ 时因原因 $1$ 失败的概率，即特定原因风险率乘以 $t=2$ 之前的生存概率。\n    $$\n    \\text{Increment}_1 = \\frac{d_{1,2}}{n_2} \\hat{S}(0) = \\frac{2}{10} \\times 1 = 0.2\n    $$\n-   $t=4$ 时的增量：这是在存活到 $t=4$ 之前的情况下，在 $t=4$ 时因原因 $1$ 失败的概率。\n    $$\n    \\text{Increment}_2 = \\frac{d_{1,4}}{n_4} \\hat{S}(2) = \\frac{2}{4} \\times 0.4 = 0.5 \\times 0.4 = 0.2\n    $$\n-   在 $t=5$ 时原因 $1$ 的累积发生率是这些增量之和，因为在 $t=4$ 之后没有原因 $1$ 的事件发生。\n    $$\n    \\hat{F}_1(5) = \\text{Increment}_1 + \\text{Increment}_2 = 0.2 + 0.2 = 0.4\n    $$\n\n**第3部分：偏差的计算**\n\n偏差是通过朴素的Kaplan-Meier方法估计的发生率与通过适当的竞争风险CIF方法估计的发生率之间的差值。\n$$\n\\text{Bias} = \\left(1 - \\hat{S}_{KM}(5)\\right) - \\hat{F}_{1}(5)\n$$\n代入计算出的值：\n$$\n\\text{Bias} = 0.6 - 0.4 = 0.2\n$$\n$0.2$ 的正偏差表明，将竞争事件视为删失会导致对目标事件概率的高估。这是因为朴素的方法未能将那些不再处于风险中（由于竞争事件）的个体从群体中移除，从而随着时间的推移低估了剩余群体中的真实风险。",
            "answer": "$$\\boxed{0.2}$$"
        },
        {
            "introduction": "现在我们探讨一个更高级的概念，它揭示了竞争风险分析中一个看似矛盾的现象。本练习将证明，某个因素（例如一种疗法）在增加某一事件的原因别定风险（cause-specific hazard）的同时，反而可能降低该事件的累积发生率（cumulative incidence）。这个反直觉的例子凸显了竞争性事件在决定最终风险中的关键作用，并加深了我们对如何在竞争风险背景下正确解读模型结果的理解。",
            "id": "4956518",
            "problem": "考虑一项对患者进行长达 $36$ 个月随访的医学队列研究，其中可能发生两种互斥的失效类型：原因 $1$ (疾病特异性死亡)和原因 $2$ (其他原因死亡)。令 $X \\in \\{0,1\\}$ 表示是否接受某种疗法，其中 $X=1$ 表示接受治疗， $X=0$ 表示未接受治疗。假设一个竞争风险框架，并作出以下科学上合理的假设：(i) 每个原因的特定原因风险率随时间恒定，(ii) 治疗暴露通过比例风险结构对每个特定原因风险率产生乘法效应，以及 (iii) 在给定 $X$ 的条件下，不同原因的事件是相互独立的。\n\n对于未接受治疗的患者 ($X=0$)，原因 $1$ 的特定原因风险率为每月 $\\lambda_{10} = 0.03$，原因 $2$ 的特定原因风险率为每月 $\\lambda_{20} = 0.02$。对于接受治疗的患者 ($X=1$)，原因 $1$ 的比例风险因子为 $\\exp(\\beta_{1}) = 1.2$，原因 $2$ 的比例风险因子为 $\\exp(\\beta_{2}) = 25$，因此 $\\lambda_{1}(1) = \\lambda_{10}\\exp(\\beta_{1})$ 且 $\\lambda_{2}(1) = \\lambda_{20}\\exp(\\beta_{2})$。\n\n仅使用特定原因风险率、总风险率、生存函数以及原因 $1$ 的累积发生函数 (CIF) 的基本定义，在这些假设下推导出 CIF $F_{1}(t \\mid X)$ 的显式形式。然后，使用所提供的数值参数，构建并论证一个反例，以表明尽管 $\\exp(\\beta_{1})  1$，但在区间 $[1,36]$ 个月内的每个临床相关时间点 $t$，接受治疗患者的原因 $1$ 的 CIF 严格低于未接受治疗患者的相应 CIF。\n\n最后，计算差值 $\\Delta = F_{1}(18 \\mid X=1) - F_{1}(18 \\mid X=0)$，并以小数形式给出其值。将最终答案四舍五入到四位有效数字。不要使用百分号。",
            "solution": "该问题是有效的，因为它在科学上基于竞争风险生存分析的原理，提法恰当且包含了所有必要信息，并且没有歧义或矛盾。\n\n我们首先陈述竞争风险框架中的基本定义。令 $T$ 为到首次事件发生的时间，$J$ 为事件类型。对于协变量向量为 $Z$ 的个体，在时间 $t$ 发生类型为 $j$ 的事件的特定原因风险率定义为：\n$$ \\lambda_j(t \\mid Z) = \\lim_{\\Delta t \\to 0} \\frac{P(t \\le T  t+\\Delta t, J=j \\mid T \\ge t, Z)}{\\Delta t} $$\n任何事件的总风险率是各特定原因风险率之和：\n$$ \\lambda_{all}(t \\mid Z) = \\sum_{j} \\lambda_j(t \\mid Z) $$\n总生存函数，即到时间 $t$ 仍未发生任何事件的概率，由下式给出：\n$$ S(t \\mid Z) = P(T > t \\mid Z) = \\exp\\left(-\\int_0^t \\lambda_{all}(u \\mid Z) \\,du\\right) $$\n原因 $j$ 的累积发生函数 (CIF) $F_j(t \\mid Z)$，是指到时间 $t$ 为止经历类型为 $j$ 的事件的概率。它通过对原因 $j$ 的特定原因风险率乘以存活到该时间的概率进行积分得到：\n$$ F_j(t \\mid Z) = P(T \\le t, J=j \\mid Z) = \\int_0^t \\lambda_j(u \\mid Z) S(u \\mid Z) \\,du $$\n\n题目指出特定原因风险率随时间是恒定的。令 $\\lambda_j(X)$ 为在给定暴露 $X \\in \\{0, 1\\}$ 条件下，原因 $j \\in \\{1, 2\\}$ 的恒定特定原因风险率。\n对于给定的 $X$，总风险率也是恒定的：$\\lambda_{all}(X) = \\lambda_1(X) + \\lambda_2(X)$。\n总生存函数变为：\n$$ S(t \\mid X) = \\exp\\left(-\\int_0^t (\\lambda_1(X) + \\lambda_2(X)) \\,du\\right) = \\exp(-(\\lambda_1(X) + \\lambda_2(X))t) $$\n现在我们可以推导原因 $1$ 的 CIF $F_1(t \\mid X)$ 的显式形式。\n$$ F_1(t \\mid X) = \\int_0^t \\lambda_1(u \\mid X) S(u \\mid X) \\,du $$\n由于 $\\lambda_1(u \\mid X) = \\lambda_1(X)$ 是常数，我们可以将其移到积分符号外：\n$$ F_1(t \\mid X) = \\lambda_1(X) \\int_0^t \\exp(-(\\lambda_1(X) + \\lambda_2(X))u) \\,du $$\n计算该积分：\n$$ \\int_0^t \\exp(-(\\lambda_1(X) + \\lambda_2(X))u) \\,du = \\left[ \\frac{\\exp(-(\\lambda_1(X) + \\lambda_2(X))u)}{-(\\lambda_1(X) + \\lambda_2(X))} \\right]_0^t $$\n$$ = \\frac{\\exp(-(\\lambda_1(X) + \\lambda_2(X))t) - 1}{-(\\lambda_1(X) + \\lambda_2(X))} = \\frac{1 - \\exp(-(\\lambda_1(X) + \\lambda_2(X))t)}{\\lambda_1(X) + \\lambda_2(X)} $$\n将此结果代回，得到原因 $1$ 的 CIF 的显式形式：\n$$ F_1(t \\mid X) = \\frac{\\lambda_1(X)}{\\lambda_1(X) + \\lambda_2(X)} \\left(1 - \\exp(-(\\lambda_1(X) + \\lambda_2(X))t)\\right) $$\n这个表达式可以解释为类型为 $1$ 的事件所占比例 ($\\frac{\\lambda_1(X)}{\\lambda_{all}(X)}$) 与到时间 $t$ 发生任一事件的概率 ($1 - S(t \\mid X)$) 的乘积。\n\n接下来，我们使用提供的数值来构建反例。\n对于未接受治疗的患者 ($X=0$)：\n$\\lambda_1(0) = \\lambda_{10} = 0.03$\n$\\lambda_2(0) = \\lambda_{20} = 0.02$\n总风险率为 $\\lambda_{all}(0) = \\lambda_1(0) + \\lambda_2(0) = 0.03 + 0.02 = 0.05$。\n原因 $1$ 的 CIF 为：\n$$ F_1(t \\mid X=0) = \\frac{0.03}{0.05} (1 - \\exp(-0.05t)) = 0.6(1 - \\exp(-0.05t)) $$\n\n对于接受治疗的患者 ($X=1$)：\n$\\lambda_1(1) = \\lambda_{10}\\exp(\\beta_1) = 0.03 \\times 1.2 = 0.036$\n$\\lambda_2(1) = \\lambda_{20}\\exp(\\beta_2) = 0.02 \\times 25 = 0.5$\n总风险率为 $\\lambda_{all}(1) = \\lambda_1(1) + \\lambda_2(1) = 0.036 + 0.5 = 0.536$。\n原因 $1$ 的 CIF 为：\n$$ F_1(t \\mid X=1) = \\frac{0.036}{0.536} (1 - \\exp(-0.536t)) $$\n\n对反例的论证：我们需要证明对于 $t \\in [1, 36]$，$F_1(t \\mid X=1)  F_1(t \\mid X=0)$。\n题目指出，尽管治疗暴露增加了原因 $1$ 的特定原因风险率 (因为 $\\exp(\\beta_1) = 1.2 > 1$)，但在接受治疗组中，原因 $1$ 的累积发生率可能反而更低。这种现象是竞争风险的一个关键特征。\nCIF 同时受到感兴趣事件的特定原因风险率 ($\\lambda_1$) 和总生存率 ($S_{all}$) 的影响，而总生存率由所有竞争原因的总风险率 ($\\lambda_{all}$) 决定。\n在接受治疗组中，该疗法使原因 $1$ 的风险率变为原来的 $1.2$ 倍。然而，它使原因 $2$ (其他原因死亡) 的风险率变为原来的 $25$ 倍，这是一个大得多的增幅。原因 $2$ 风险率的这种急剧增加导致了与未接受治疗组 ($\\lambda_{all}(0) = 0.05$) 相比非常高的总风险率 ($\\lambda_{all}(1) = 0.536$)。因此，接受治疗组的总生存函数 $S(t \\mid X=1) = \\exp(-0.536t)$ 比未接受治疗组的 $S(t \\mid X=0) = \\exp(-0.05t)$ 下降得快得多。接受治疗组的患者因原因 $2$ 死亡的风险非常高，这意味着他们被迅速地从风险人群中移除，以至于他们几乎没有机会经历原因 $1$ 的事件，尽管原因 $1$ 的风险率略有升高。\n原因 $1$ 发生的概率最终取决于比例 $\\frac{\\lambda_1(X)}{\\lambda_{all}(X)}$。对于未接受治疗组，这个比例是 $\\frac{0.03}{0.05}=0.6$。对于接受治疗组，它是 $\\frac{0.036}{0.536} \\approx 0.067$。尽管接受治疗组更快地经历事件 (项 $(1 - \\exp(-\\lambda_{all}t))$ 更快地接近其渐近线)，但这些事件中只有约 $6.7\\%$ 是由原因 $1$ 引起的 (而未接受治疗组为 $60\\%$)，这一事实导致在整个临床相关时间范围内，原因 $1$ 的累积发生率要低得多。\n\n为了在 $t \\in [1, 36]$ 上正式证明这一点，我们考虑函数 $g(t) = F_1(t \\mid X=0) - F_1(t \\mid X=1)$。我们必须证明对于 $t \\in [1, 36]$，$g(t) > 0$。\n当 $t=1$ 时：\n$F_1(1 \\mid 0) = 0.6(1 - \\exp(-0.05)) \\approx 0.02928$\n$F_1(1 \\mid 1) = \\frac{0.036}{0.536}(1 - \\exp(-0.536)) \\approx 0.02787$\n$g(1) \\approx 0.00141 > 0$。\n其导数为 $g'(t) = 0.03\\exp(-0.05t) - 0.036\\exp(-0.536t)$。令 $g'(t)=0$ 可得 $t = \\frac{\\ln(1.2)}{0.486} \\approx 0.375$。对于 $t > 0.375$，$g'(t) > 0$，因此 $g(t)$ 在 $[1, 36]$ 上是增函数。因为 $g(1) > 0$ 且 $g(t)$ 是增函数，所以对于所有 $t \\in [1, 36]$，$g(t) > 0$，这证实了在该区间上 $F_1(t \\mid X=1)  F_1(t \\mid X=0)$。\n\n最后，我们计算在 $t=18$ 个月时的差值 $\\Delta = F_1(18 \\mid X=1) - F_1(18 \\mid X=0)$。\n$F_1(18 \\mid X=0) = 0.6(1 - \\exp(-0.05 \\times 18)) = 0.6(1 - \\exp(-0.9))$\n$F_1(18 \\mid X=1) = \\frac{0.036}{0.536}(1 - \\exp(-0.536 \\times 18)) = \\frac{0.036}{0.536}(1 - \\exp(-9.648))$\n\n现在我们计算数值：\n$F_1(18 \\mid X=0) \\approx 0.6(1 - 0.40656966) = 0.6(0.59343034) \\approx 0.35605820$\n$F_1(18 \\mid X=1) \\approx \\frac{0.036}{0.536}(1 - 0.00006456) = (0.06716418)(0.99993544) \\approx 0.06715984$\n\n差值为：\n$\\Delta = F_1(18 \\mid X=1) - F_1(18 \\mid X=0) \\approx 0.06715984 - 0.35605820 \\approx -0.28889836$\n四舍五入到四位有效数字，我们得到 $\\Delta = -0.2889$。",
            "answer": "$$\n\\boxed{-0.2889}\n$$"
        }
    ]
}