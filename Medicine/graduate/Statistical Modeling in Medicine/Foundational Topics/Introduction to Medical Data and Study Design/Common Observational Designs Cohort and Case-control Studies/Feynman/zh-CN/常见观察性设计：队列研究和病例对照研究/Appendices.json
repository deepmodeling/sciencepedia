{
    "hands_on_practices": [
        {
            "introduction": "在观察性研究中，风险比（$RR$）和比值比（$OR$）是量化暴露与结局之间关联强度的基本指标。虽然比值比在病例对照研究和逻辑回归中至关重要，但将其解读为风险比的近似值需要对潜在假设有批判性的理解。本练习将指导您完成从队列数据中直接计算这些测量指标，并对其关系进行代数探索，从而阐明为何随着结局基线风险的增加，比值比会偏离风险比。",
            "id": "4955940",
            "problem": "一项封闭式队列研究旨在调查在为期一年的随访中，肾毒性暴露与新发急性肾损伤之间的关联。该队列是封闭的，意味着没有随访失访，且基线后没有新成员加入。观测计数的 $2 \\times 2$ 表格如下：\n\n- 暴露组：$a = 36$ 人出现结局，$b = 84$ 人未出现。\n- 非暴露组：$c = 12$ 人出现结局，$d = 108$ 人未出现。\n\n仅从队列研究中使用的基本定义出发：\n\n- 暴露组的风险 $p_{1}$ 定义为 $p_{1} = a/(a+b)$。\n- 非暴露组的风险 $p_{0}$ 定义为 $p_{0} = c/(c+d)$。\n- 风险比 (RR) 定义为 $\\mathrm{RR} = p_{1}/p_{0}$。\n- 组内比值定义为 $\\text{比值} = \\text{风险}/(1 - \\text{风险})$。\n- 比值比 (OR) 定义为暴露组比值与非暴露组比值的比率。\n\n任务：\n\n1. 根据给定表格计算风险比 $\\mathrm{RR}$ 和比值比 $\\mathrm{OR}$，并将每个结果表示为最简精确分数。无需四舍五入。\n2. 设 $p_{0}$ 表示非暴露组的基线风险，设 $R$ 表示一个固定的风险比。仅使用上述定义，在封闭队列中推导比值比作为 $R$ 和 $p_{0}$ 的函数的闭式解析表达式。使用此表达式代数证明，在正值约束 $0  p_{0}  1/R$（以确保概率有效）下，当 $p_{0}$ 增加时（保持 $R$ 固定），比值比为何会偏离风险比。\n\n报告您最终的 $\\mathrm{RR}$ 和 $\\mathrm{OR}$ 数值结果（以精确分数形式）以及您推导出的闭式表达式。无需单位，无需四舍五入。",
            "solution": "经评估，该问题陈述具有科学依据、提法恰当、客观且内部一致。它基于流行病学和统计建模中的标准基本定义。所提供的数据充分且合理，任务定义清晰且可形式化。因此，该问题被视为有效，并将提供解答。\n\n解答分为两部分，对应问题陈述中的两个任务。\n\n**第1部分：风险比 (RR) 和比值比 (OR) 的计算**\n\n从 $2 \\times 2$ 列联表中给出的数据如下：\n- 暴露组：$a = 36$ 人有结局，$b = 84$ 人无结局。\n- 非暴露组：$c = 12$ 人有结局，$d = 108$ 人无结局。\n\n首先，我们计算每组的总人数。\n- 暴露组总人数：$N_1 = a+b = 36 + 84 = 120$。\n- 非暴露组总人数：$N_0 = c+d = 12 + 108 = 120$。\n\n接下来，我们使用所提供的定义来计算每组的风险。\n- 暴露组的风险 $p_1$ 定义为 $p_{1} = \\frac{a}{a+b}$。\n  $$p_{1} = \\frac{36}{120} = \\frac{3 \\times 12}{10 \\times 12} = \\frac{3}{10}$$\n- 非暴露组的风险 $p_0$ 定义为 $p_{0} = \\frac{c}{c+d}$。\n  $$p_{0} = \\frac{12}{120} = \\frac{1}{10}$$\n\n现在，我们计算风险比 (RR)，其定义为 $\\mathrm{RR} = \\frac{p_{1}}{p_{0}}$。\n$$ \\mathrm{RR} = \\frac{3/10}{1/10} = 3 $$\n\n为了计算比值比 (OR)，我们首先需要计算每组的比值。比值定义为 $\\text{比值} = \\frac{\\text{风险}}{1 - \\text{风险}}$。\n- 暴露组出现结局的比值为：\n  $$ \\text{odds}_1 = \\frac{p_1}{1-p_1} = \\frac{3/10}{1 - 3/10} = \\frac{3/10}{7/10} = \\frac{3}{7} $$\n- 非暴露组出现结局的比值为：\n  $$ \\text{odds}_0 = \\frac{p_0}{1-p_0} = \\frac{1/10}{1 - 1/10} = \\frac{1/10}{9/10} = \\frac{1}{9} $$\n\n比值比 (OR) 是这些比值的比率。\n$$ \\mathrm{OR} = \\frac{\\text{odds}_1}{\\text{odds}_0} = \\frac{3/7}{1/9} = \\frac{3}{7} \\times 9 = \\frac{27}{7} $$\n或者，对于一个 $2 \\times 2$ 表格，比值比可以直接使用交叉乘积比计算：\n$$ \\mathrm{OR} = \\frac{ad}{bc} = \\frac{36 \\times 108}{84 \\times 12} = \\frac{3888}{1008} $$\n化简该分数：\n$$ \\mathrm{OR} = \\frac{3888 \\div 144}{1008 \\div 144} = \\frac{27}{7} $$\n两种方法得出的结果相同。数值结果（一个为整数，一个为最简精确分数）是 $\\mathrm{RR} = 3$ 和 $\\mathrm{OR} = \\frac{27}{7}$。\n\n**第2部分：OR(R, p_0) 的推导和代数分析**\n\n第二个任务是推导比值比 ($\\mathrm{OR}$) 作为风险比 ($R$) 和非暴露组基线风险 ($p_0$) 的函数表达式，并代数证明为何随着 $p_0$ 的增加，$\\mathrm{OR}$ 会偏离 $R$。\n\n我们从基本定义开始：\n1. 风险比：$R = \\frac{p_1}{p_0}$，这意味着 $p_1 = R \\cdot p_0$。\n2. 比值比：$\\mathrm{OR} = \\frac{p_1 / (1-p_1)}{p_0 / (1-p_0)}$。\n\n将定义 (1) 中 $p_1$ 的表达式代入定义 (2) 中 $\\mathrm{OR}$ 的表达式：\n$$ \\mathrm{OR} = \\frac{(R \\cdot p_0) / (1 - R \\cdot p_0)}{p_0 / (1-p_0)} $$\n我们可以整理这个表达式：\n$$ \\mathrm{OR} = \\frac{R \\cdot p_0}{1 - R \\cdot p_0} \\times \\frac{1-p_0}{p_0} $$\n由于问题涉及的是非平凡风险，即 $p_0 > 0$，我们可以消去 $p_0$ 项：\n$$ \\mathrm{OR} = R \\left( \\frac{1-p_0}{1 - R p_0} \\right) $$\n这就是所要求的比值比作为 $R$ 和 $p_0$ 的函数的闭式解析表达式。\n\n接下来，我们必须代数证明为何在保持 $R$ 固定的情况下，随着 $p_0$ 的增加，$\\mathrm{OR}$ 会偏离 $R$。关系式为 $\\mathrm{OR} = R \\cdot f(p_0)$，其中“校正因子”是 $f(p_0) = \\frac{1-p_0}{1 - R p_0}$。$\\mathrm{OR}$ 等于 $R$ 的充分必要条件是 $f(p_0) = 1$。这种情况发生在 $1-p_0 = 1 - R p_0$ 时，可简化为 $p_0 = R p_0$。对于 $p_0 > 0$，这要求 $R=1$（无效应）。对于任何 $R \\neq 1$，$\\mathrm{OR}$ 不等于 $R$（除非 $p_0=0$，这是平凡情况）。\n\n“偏离”意味着比率 $\\frac{\\mathrm{OR}}{R} = f(p_0)$ 随着 $p_0$ 的增加而进一步远离 1。我们通过考察 $f(p_0)$ 关于 $p_0$ 的一阶导数来分析其行为。使用商法则求导 $[\\frac{u}{v}]' = \\frac{u'v - uv'}{v^2}$，其中 $u(p_0)=1-p_0$ 且 $v(p_0)=1-R p_0$：\n$$ u' = -1, \\quad v' = -R $$\n$$ f'(p_0) = \\frac{d}{dp_0} \\left( \\frac{1-p_0}{1 - R p_0} \\right) = \\frac{(-1)(1 - R p_0) - (1-p_0)(-R)}{(1 - R p_0)^2} $$\n$$ f'(p_0) = \\frac{-1 + R p_0 + R - R p_0}{(1 - R p_0)^2} = \\frac{R-1}{(1 - R p_0)^2} $$\n分母 $(1 - R p_0)^2$ 总是正的。问题的正值约束 $0  p_0  1/R$ 确保了 $1-R p_0 > 0$，因此分母有良好定义且非零。所以，导数 $f'(p_0)$ 的符号仅由分子 $R-1$ 的符号决定。\n\n我们考虑 $R \\ne 1$ 的两种情况：\n\n情况1：$R > 1$（有害暴露）。\n在这种情况下，$R-1 > 0$，因此 $f'(p_0) > 0$。这意味着 $f(p_0)$ 是 $p_0$ 的一个严格增函数。此外，对于 $R>1$ 和 $p_0>0$，分母 $1-R p_0$ 小于分子 $1-p_0$，所以 $f(p_0) = \\frac{1-p_0}{1-R p_0} > 1$。随着 $p_0$ 的增加，$f(p_0)$ 也增加，从而更加远离 1。由于 $\\mathrm{OR} = R \\cdot f(p_0)$，$\\mathrm{OR}$ 对 $R$ 的高估程度越来越大。\n\n情况2：$0  R  1$（保护性暴露）。\n在这种情况下，$R-1  0$，因此 $f'(p_0)  0$。这意味着 $f(p_0)$ 是 $p_0$ 的一个严格减函数。对于 $0  R  1$ 和 $p_0>0$，分母 $1-R p_0$ 大于分子 $1-p_0$，所以 $f(p_0) = \\frac{1-p_0}{1-R p_0}  1$。随着 $p_0$ 的增加，$f(p_0)$ 减小，从而更加远离 1。由于 $\\mathrm{OR} = R \\cdot f(p_0)$，$\\mathrm{OR}$ 对 $R$ 的低估程度（即 OR 比 R 更接近 0）越来越大。",
            "answer": "$$ \\boxed{ \\begin{pmatrix} 3  \\frac{27}{7}  R \\left( \\frac{1-p_{0}}{1 - R p_{0}} \\right) \\end{pmatrix} } $$"
        },
        {
            "introduction": "比值比的一个奇特但关键的特性是其“不可合并性”（non-collapsibility），这是风险比所不具备的。这意味着，即便第三个变量不是混杂因素，从合并了该变量的分层表格中计算出的边际比值比，也可能不等于共同的层内比值比。本次动手实践通过一个精心构建的数值示例来展示这一现象，旨在加深您对分层分析重要性的理解，并强调在解释逻辑回归模型结果时需格外谨慎。",
            "id": "4955932",
            "problem": "考虑一项观察性队列研究，研究涉及一个二元暴露 $E \\in \\{0,1\\}$、一个二元结局 $Y \\in \\{0,1\\}$ 和一个二元分层变量 $Z \\in \\{0,1\\}$（例如，在基线时测量的一个预后因素）。数据被记录为分层的 $2 \\times 2$ 计数表。假设不存在由 $Z$ 引起的混杂，即暴露分布在 $Z$ 的各个分层中是相同的。\n\n各分层特异性计数如下：\n\n- 对于 $Z=0$：在非暴露组（$E=0$）中，有 $11$ 个病例（$Y=1$）和 $99$ 个非病例（$Y=0$）；在暴露组（$E=1$）中，有 $20$ 个病例和 $90$ 个非病例。\n- 对于 $Z=1$：在非暴露组（$E=0$）中，有 $14$ 个病例和 $21$ 个非病例；在暴露组（$E=1$）中，有 $20$ 个病例和 $15$ 个非病例。\n\n任务：\n1. 通过检查 $Z$ 的各分层中的暴露比例是否相同，以及各暴露组中 $Z$ 的分布是否相同，来验证 $E$ 与 $Z$ 独立。请使用给定的计数进行验证。\n2. 仅使用优势和优势比（OR）的标准定义，计算 $Z=0$ 和 $Z=1$ 的分层特异性条件优势比。\n3. 合并 $Z$ 的分层以获得 $E$ 和 $Y$ 的边际 $2 \\times 2$ 表，并计算忽略 $Z$ 的边际优势比。\n4. 作为您的最终数值答案，提供边际优势比与公共条件优势比的精确比率。答案需以精确形式表示，无需四舍五入，也不应包含单位。",
            "solution": "该问题提法恰当，有科学依据，且内部一致。计算所需的所有数据均已提供，所用术语均为流行病学和生物统计学领域的标准术语。我将开始解答。\n\n设 $E$、$Y$ 和 $Z$ 分别是代表暴露、结局和分层因素的二元变量，取值于 $\\{0, 1\\}$。这些变量每种组合的受试者计数表示为 $n_{eyz}$，其中 $e, y, z \\in \\{0, 1\\}$。提供的数据如下：\n\n对于分层 $Z=0$：\n- $n_{110} = 20$（暴露 $E=1$，病例 $Y=1$）\n- $n_{100} = 90$（暴露 $E=1$，非病例 $Y=0$）\n- $n_{010} = 11$（非暴露 $E=0$，病例 $Y=1$）\n- $n_{000} = 99$（非暴露 $E=0$，非病例 $Y=0$）\n\n对于分层 $Z=1$：\n- $n_{111} = 20$（暴露 $E=1$，病例 $Y=1$）\n- $n_{101} = 15$（暴露 $E=1$，非病例 $Y=0$）\n- $n_{011} = 14$（非暴露 $E=0$，病例 $Y=1$）\n- $n_{001} = 21$（非暴露 $E=0$，非病例 $Y=0$）\n\n**1. 验证暴露 $E$ 与分层变量 $Z$ 之间的独立性**\n\n问题陈述 $E$ 和 $Z$ 是独立的。我们通过检查两个条件来验证这一点：\na) 在 $Z$ 的各分层中，暴露受试者的比例相同，即 $P(E=1|Z=0) = P(E=1|Z=1)$。\nb) 在各暴露组中，$Z$ 的分布相同，即 $P(Z=1|E=0) = P(Z=1|E=1)$。\n\n对于条件 (a)：\n分层 $Z=0$ 中的总受试者人数为 $N_0 = n_{110} + n_{100} + n_{010} + n_{000} = 20 + 90 + 11 + 99 = 220$。\n分层 $Z=0$ 中的暴露受试者（$E=1$）人数为 $N_{E=1, Z=0} = n_{110} + n_{100} = 20 + 90 = 110$。\n分层 $Z=0$ 中的暴露比例为 $P(E=1|Z=0) = \\frac{N_{E=1, Z=0}}{N_0} = \\frac{110}{220} = \\frac{1}{2}$。\n\n分层 $Z=1$ 中的总受试者人数为 $N_1 = n_{111} + n_{101} + n_{011} + n_{001} = 20 + 15 + 14 + 21 = 70$。\n分层 $Z=1$ 中的暴露受试者（$E=1$）人数为 $N_{E=1, Z=1} = n_{111} + n_{101} = 20 + 15 = 35$。\n分层 $Z=1$ 中的暴露比例为 $P(E=1|Z=1) = \\frac{N_{E=1, Z=1}}{N_1} = \\frac{35}{70} = \\frac{1}{2}$。\n由于 $P(E=1|Z=0) = P(E=1|Z=1) = \\frac{1}{2}$，第一个条件得到满足。\n\n对于条件 (b)：\n两个分层中非暴露受试者（$E=0$）的总人数为 $N_{E=0} = (n_{010} + n_{000}) + (n_{011} + n_{001}) = (11+99) + (14+21) = 110 + 35 = 145$。\n分层 $Z=1$ 中非暴露受试者的人数为 $N_{Z=1, E=0} = n_{011} + n_{001} = 14 + 21 = 35$。\n非暴露组中 $Z=1$ 的受试者比例为 $P(Z=1|E=0) = \\frac{N_{Z=1, E=0}}{N_{E=0}} = \\frac{35}{145} = \\frac{7}{29}$。\n\n两个分层中暴露受试者（$E=1$）的总人数为 $N_{E=1} = (n_{110} + n_{100}) + (n_{111} + n_{101}) = (20+90) + (20+15) = 110 + 35 = 145$。\n分层 $Z=1$ 中暴露受试者的人数为 $N_{Z=1, E=1} = n_{111} + n_{101} = 20 + 15 = 35$。\n暴露组中 $Z=1$ 的受试者比例为 $P(Z=1|E=1) = \\frac{N_{Z=1, E=1}}{N_{E=1}} = \\frac{35}{145} = \\frac{7}{29}$。\n由于 $P(Z=1|E=0) = P(Z=1|E=1) = \\frac{7}{29}$，第二个条件也得到满足。因此，在该数据集中 $E$ 和 $Z$ 是独立的。这证实了 $Z$ 对 $E$ 和 $Y$ 之间的关联没有混杂作用。\n\n**2. 计算分层特异性条件优势比**\n\n在分层 $Z=z$ 内，暴露 $E$ 和结局 $Y$ 之间关联的优势比（$OR$）定义为暴露组中结局发生的优势与非暴露组中结局发生的优势之比。\n$$OR_z = \\frac{\\text{Odds}(Y=1|E=1, Z=z)}{\\text{Odds}(Y=1|E=0, Z=z)} = \\frac{n_{11z}/n_{10z}}{n_{01z}/n_{00z}} = \\frac{n_{11z}n_{00z}}{n_{10z}n_{01z}}$$\n\n对于分层 $Z=0$：\n$$OR_{Z=0} = \\frac{n_{110}n_{000}}{n_{100}n_{010}} = \\frac{20 \\times 99}{90 \\times 11} = \\frac{1980}{990} = 2$$\n\n对于分层 $Z=1$：\n$$OR_{Z=1} = \\frac{n_{111}n_{001}}{n_{101}n_{011}} = \\frac{20 \\times 21}{15 \\times 14} = \\frac{420}{210} = 2$$\n\n分层特异性条件优势比是相同的：$OR_{Z=0} = OR_{Z=1} = 2$。这表明在优势比尺度上，$Z$ 没有效应修饰作用。公共条件优势比为 $OR_{common} = 2$。\n\n**3. 计算边际优势比**\n\n为了计算边际优势比，我们首先合并 $Z$ 的各分层数据，以获得一个关于 $E$ 和 $Y$ 的单一 $2 \\times 2$ 表。边际表中的计数 $n_{ey}$ 是各分层特异性计数的总和：$n_{ey} = n_{ey0} + n_{ey1}$。\n\n- $n_{11} = n_{110} + n_{111} = 20 + 20 = 40$\n- $n_{10} = n_{100} + n_{101} = 90 + 15 = 105$\n- $n_{01} = n_{010} + n_{011} = 11 + 14 = 25$\n- $n_{00} = n_{000} + n_{001} = 99 + 21 = 120$\n\n忽略 $Z$ 的边际优势比由这个合并后的表格计算得出：\n$$OR_{marginal} = \\frac{n_{11}n_{00}}{n_{10}n_{01}} = \\frac{40 \\times 120}{105 \\times 25} = \\frac{4800}{2625}$$\n为简化分数，我们可以用公因数去除分子和分母。两者都可以被 $25$ 整除：\n$$OR_{marginal} = \\frac{4800/25}{2625/25} = \\frac{192}{105}$$\n两者都可以被 $3$ 整除：\n$$OR_{marginal} = \\frac{192/3}{105/3} = \\frac{64}{35}$$\n所以，边际优势比为 $\\frac{64}{35}$。请注意，这个值与公共条件优势比 $2$ 不同。这说明了优势比的不可合并性这一特性，即使在没有混杂的情况下，如果分层变量（$Z$）与结局（$Y$）相关，这种情况也可能发生。\n\n**4. 边际优势比与公共条件优势比的比率**\n\n最后的任务是计算边际优势比与公共条件优势比的比率。\n$$ \\text{Ratio} = \\frac{OR_{marginal}}{OR_{common}} = \\frac{64/35}{2} = \\frac{64}{35 \\times 2} = \\frac{32}{35} $$\n精确比率为 $\\frac{32}{35}$。",
            "answer": "$$\\boxed{\\frac{32}{35}}$$"
        },
        {
            "introduction": "现实世界中的数据很少是完美的，暴露错分是一种常见的测量误差，它可能会扭曲关联性测量的结果。掌握如何处理这一问题是研究人员的一项关键技能。本练习提供了一个实际情景，您将推导并应用一种校正方法，以调整因非差异性暴露错分而产生的原始比值比，从而揭示真实的关联强度。",
            "id": "4955991",
            "problem": "一项病例对照研究调查了二元暴露与二元疾病之间的关联。疾病状态通过临床裁定无误地确定。暴露的测量存在无差异错分，其特征是已知的灵敏度和特异度，并且在病例组和对照组中相同。基于易出错的暴露测量的观测 $2 \\times 2$ 表如下：\n- 病例组中：观测暴露 $= 60$，观测未暴露 $= 40$。\n- 对照组中：观测暴露 $= 30$，观测未暴露 $= 70$。\n\n设暴露测量的灵敏度为 $S_{e} = 0.80$，特异度为 $S_{p} = 0.90$，对病例组和对照组同样适用。假设暴露的错分是独立的、无差异的、无方向性的，且疾病的分类是完美的。\n\n仅使用灵敏度和特异度作为将观测暴露与真实暴露状态相关联的条件概率的基本定义，从第一性原理推导出暴露错分的校正方法，以在每个疾病分层内恢复预期的真实 $2 \\times 2$ 表，然后计算：\n- 基于观测表的原始比值比，\n- 基于校正表的错分校正后比值比，以及\n- 校正后比值比与原始比值比之比。\n\n仅报告比值 $\\mathrm{OR}_{\\text{corrected}} / \\mathrm{OR}_{\\text{naive}}$ 作为您的最终答案。将您的最终答案四舍五入至四位有效数字。无需单位。",
            "solution": "该问题要求在病例对照研究中对暴露错分进行校正，并计算校正后比值比与原始比值比的比值。我们首先验证问题陈述的有效性。该问题在流行病学和生物统计学领域具有科学依据，专门处理测量误差问题。该问题是适定的，提供了一套完整的观测数据和错分参数（$S_e$ 和 $S_p$）。语言客观且定量。因此，该问题是有效的。\n\n我们通过首先定义符号、从第一性原理推导校正公式，然后将其应用于给定数据来继续求解。\n\n令 $D$ 表示患病（病例），$\\bar{D}$ 表示未患病（对照）。\n令 $E_{\\mathrm{true}}$ 为真实暴露状态，$\\bar{E}_{\\mathrm{true}}$ 为真实未暴露状态。\n令 $E_{\\mathrm{obs}}$ 为观测暴露状态，$\\bar{E}_{\\mathrm{obs}}$ 为观测未暴露状态。\n\n问题在 $2 \\times 2$ 表中提供了以下观测数据：\n- 病例组：$a_{\\mathrm{obs}} = 60$（观测暴露），$c_{\\mathrm{obs}} = 40$（观测未暴露）。病例总数为 $N_{\\mathrm{cases}} = a_{\\mathrm{obs}} + c_{\\mathrm{obs}} = 60 + 40 = 100$。\n- 对照组：$b_{\\mathrm{obs}} = 30$（观测暴露），$d_{\\mathrm{obs}} = 70$（观测未暴露）。对照总数为 $N_{\\mathrm{controls}} = b_{\\mathrm{obs}} + d_{\\mathrm{obs}} = 30 + 70 = 100$。\n\n给出的错分参数如下：\n- 暴露测量的灵敏度：$S_e = P(E_{\\mathrm{obs}} | E_{\\mathrm{true}}) = 0.80$。\n- 暴露测量的特异度：$S_p = P(\\bar{E}_{\\mathrm{obs}} | \\bar{E}_{\\mathrm{true}}) = 0.90$。\n\n由于错分是无差异的，这些概率在病例组和对照组中是相同的。\n\n首先，我们根据观测数据计算原始比值比（$\\mathrm{OR}_{\\mathrm{naive}}$）：\n$$\n\\mathrm{OR}_{\\mathrm{naive}} = \\frac{a_{\\mathrm{obs}} \\cdot d_{\\mathrm{obs}}}{b_{\\mathrm{obs}} \\cdot c_{\\mathrm{obs}}} = \\frac{60 \\times 70}{30 \\times 40} = \\frac{4200}{1200} = 3.5\n$$\n\n接下来，我们推导用于校正错分的公式。令 $a_{\\mathrm{true}}$、$b_{\\mathrm{true}}$、$c_{\\mathrm{true}}$ 和 $d_{\\mathrm{true}}$ 为真实的、未观测到的计数。我们在每个疾病分层内推导观测计数与真实计数之间的关系。\n\n对于病例分层（$D$）：\n观测到的暴露病例数 $a_{\\mathrm{obs}}$，由被正确分类为暴露的真实暴露者（真阳性）和被错误分类为暴露的真实未暴露者（假阳性）组成。\n$$\na_{\\mathrm{obs}} = a_{\\mathrm{true}} \\cdot P(E_{\\mathrm{obs}} | E_{\\mathrm{true}}, D) + c_{\\mathrm{true}} \\cdot P(E_{\\mathrm{obs}} | \\bar{E}_{\\mathrm{true}}, D)\n$$\n在无差异错分的条件下，$P(E_{\\mathrm{obs}} | E_{\\mathrm{true}}, D) = S_e$，且假阳性概率为 $P(E_{\\mathrm{obs}} | \\bar{E}_{\\mathrm{true}}, D) = 1 - P(\\bar{E}_{\\mathrm{obs}} | \\bar{E}_{\\mathrm{true}}, D) = 1 - S_p$。\n因此，我们得到方程：\n$$\na_{\\mathrm{obs}} = a_{\\mathrm{true}} \\cdot S_e + c_{\\mathrm{true}} \\cdot (1 - S_p)\n$$\n我们还知道病例总数是保持不变的：$a_{\\mathrm{true}} + c_{\\mathrm{true}} = N_{\\mathrm{cases}}$。将 $c_{\\mathrm{true}} = N_{\\mathrm{cases}} - a_{\\mathrm{true}}$ 代入关于 $a_{\\mathrm{obs}}$ 的方程中：\n$$\na_{\\mathrm{obs}} = a_{\\mathrm{true}} \\cdot S_e + (N_{\\mathrm{cases}} - a_{\\mathrm{true}}) \\cdot (1 - S_p)\n$$\n$$\na_{\\mathrm{obs}} = a_{\\mathrm{true}} \\cdot S_e + N_{\\mathrm{cases}}(1 - S_p) - a_{\\mathrm{true}}(1 - S_p)\n$$\n$$\na_{\\mathrm{obs}} - N_{\\mathrm{cases}}(1 - S_p) = a_{\\mathrm{true}} (S_e - 1 + S_p)\n$$\n求解 $a_{\\mathrm{true}}$ 得到校正公式：\n$$\na_{\\mathrm{true}} = \\frac{a_{\\mathrm{obs}} - N_{\\mathrm{cases}}(1 - S_p)}{S_e + S_p - 1}\n$$\n对于对照分层，推导过程是相同的。我们将 $a_{\\mathrm{obs}}$ 替换为 $b_{\\mathrm{obs}}$，$N_{\\mathrm{cases}}$ 替换为 $N_{\\mathrm{controls}}$，以求得 $b_{\\mathrm{true}}$：\n$$\nb_{\\mathrm{true}} = \\frac{b_{\\mathrm{obs}} - N_{\\mathrm{controls}}(1 - S_p)}{S_e + S_p - 1}\n$$\n\n现在，我们使用给定值应用这些公式：$S_e = 0.80$，$S_p = 0.90$。\n分母为 $S_e + S_p - 1 = 0.80 + 0.90 - 1 = 0.70$。\n假阳性概率为 $1 - S_p = 1 - 0.90 = 0.10$。\n\n对于病例组（$N_{\\mathrm{cases}} = 100$）：\n$$\na_{\\mathrm{true}} = \\frac{60 - 100(0.10)}{0.70} = \\frac{60 - 10}{0.70} = \\frac{50}{0.70} = \\frac{500}{7}\n$$\n真实未暴露病例的数量是：\n$$\nc_{\\mathrm{true}} = N_{\\mathrm{cases}} - a_{\\mathrm{true}} = 100 - \\frac{500}{7} = \\frac{700 - 500}{7} = \\frac{200}{7}\n$$\n\n对于对照组（$N_{\\mathrm{controls}} = 100$）：\n$$\nb_{\\mathrm{true}} = \\frac{30 - 100(0.10)}{0.70} = \\frac{30 - 10}{0.70} = \\frac{20}{0.70} = \\frac{200}{7}\n$$\n真实未暴露对照的数量是：\n$$\nd_{\\mathrm{true}} = N_{\\mathrm{controls}} - b_{\\mathrm{true}} = 100 - \\frac{200}{7} = \\frac{700 - 200}{7} = \\frac{500}{7}\n$$\n\n校正后的预期真实计数的 $2 \\times 2$ 表如下：\n- 病例组：$a_{\\mathrm{true}} = \\frac{500}{7}$，$c_{\\mathrm{true}} = \\frac{200}{7}$。\n- 对照组：$b_{\\mathrm{true}} = \\frac{200}{7}$，$d_{\\mathrm{true}} = \\frac{500}{7}$。\n\n接下来，我们计算经错分校正后的比值比（$\\mathrm{OR}_{\\mathrm{corrected}}$）：\n$$\n\\mathrm{OR}_{\\mathrm{corrected}} = \\frac{a_{\\mathrm{true}} \\cdot d_{\\mathrm{true}}}{b_{\\mathrm{true}} \\cdot c_{\\mathrm{true}}} = \\frac{(\\frac{500}{7}) \\cdot (\\frac{500}{7})}{(\\frac{200}{7}) \\cdot (\\frac{200}{7})} = \\frac{500^2}{200^2} = \\left(\\frac{500}{200}\\right)^2 = (2.5)^2 = 6.25\n$$\n\n最后，我们计算校正后比值比与原始比值比的比值：\n$$\n\\frac{\\mathrm{OR}_{\\mathrm{corrected}}}{\\mathrm{OR}_{\\mathrm{naive}}} = \\frac{6.25}{3.5} = \\frac{25/4}{7/2} = \\frac{25}{4} \\cdot \\frac{2}{7} = \\frac{25}{14}\n$$\n换算成小数，即为 $25 \\div 14 \\approx 1.785714...$。四舍五入到四位有效数字，得到 $1.786$。\n暴露的无差异错分导致观测到的关联（$\\mathrm{OR}_{\\mathrm{naive}} = 3.5$）偏向于无效值 $1$，从而低估了关联的真实强度（$\\mathrm{OR}_{\\mathrm{corrected}} = 6.25$）。校正因子大于 $1$。",
            "answer": "$$\\boxed{1.786}$$"
        }
    ]
}