{
    "hands_on_practices": [
        {
            "introduction": "理论知识需要通过实践来巩固。本章节将指导您如何在临床情境中实际应用贝叶斯推理。我们将从基础的概率更新开始，逐步过渡到更复杂的临床决策场景。第一个练习将带您体验使用阳性似然比（$LR^{+}$）更新诊断概率的基本过程，这是将诊断从直觉判断转向结构化、循证思维的第一步。",
            "id": "4828305",
            "problem": "一名五十五岁的成年人因病因不明的未分化呼吸困难就诊。您根据临床直觉和现有的初步信息，估计目标疾病（例如，急性肺栓塞）的验前概率为 $p_{0}=0.30$。随后的一项诊断测试结果为阳性，其阳性似然比为 $LR^{+}=6$。您使用赔率形式的贝叶斯推理，从定义出发，更新此阳性测试后的患病概率。\n\n从核心定义和贝叶斯定理出发，使用 $LR^{+}$ 推导出从验前概率到验后概率的基于赔率的更新，计算后验概率 $p_{1}$，然后将 $p_{1}$ 与预先设定的治疗阈值 $T=0.65$ 进行比较。将决策余量定义为 $m=p_{1}-T$。\n\n报告 $m$ 作为您的最终答案。以小数形式表示您的最终答案，并四舍五入到四位有效数字。请勿在您的回答中任何地方使用百分号。",
            "solution": "此问题被认为是有效的，因为它科学地基于贝叶斯概率理论及其在医学诊断中的应用，问题陈述清晰且提供了所有必要数据，并以客观、正式的语言表达。因此，我们可以着手求解。\n\n该问题要求我们从核心定义出发，推导基于赔率的贝叶斯更新法则，计算疾病的验后概率，然后确定相对于给定治疗阈值的决策余量。\n\n设 $D$ 为患者患有目标疾病的事件，设 $T^{+}$ 为该疾病的诊断测试返回阳性结果的事件。\n给定的疾病验前概率为 $P(D) = p_{0} = 0.30$。\n在测试结果为阳性的条件下，疾病的验后概率记为 $p_{1} = P(D|T^{+})$。\n给定的阳性似然比为 $LR^{+} = 6$。\n\n事件 $E$ 的赔率定义为该事件发生的概率与不发生的概率之比：\n$$O(E) = \\frac{P(E)}{1-P(E)}$$\n验前赔率 $O_{pre}$ 是指在进行测试之前患病的赔率：\n$$O_{pre} = \\frac{P(D)}{1-P(D)} = \\frac{P(D)}{P(D^c)}$$\n其中 $D^c$ 是 $D$ 的补集，即患者没有患病。\n\n验后赔率 $O_{post}$ 是指在收到阳性测试结果后患病的赔率：\n$$O_{post} = \\frac{P(D|T^{+})}{1-P(D|T^{+})} = \\frac{P(D|T^{+})}{P(D^c|T^{+})}$$\n\n我们使用贝叶斯定理来表示后验概率 $P(D|T^{+})$ 和 $P(D^c|T^{+})$：\n$$P(D|T^{+}) = \\frac{P(T^{+}|D)P(D)}{P(T^{+})}$$\n$$P(D^c|T^{+}) = \\frac{P(T^{+}|D^c)P(D^c)}{P(T^{+})}$$\n将这些代入验后赔率的表达式中，得到：\n$$O_{post} = \\frac{\\frac{P(T^{+}|D)P(D)}{P(T^{+})}}{\\frac{P(T^{+}|D^c)P(D^c)}{P(T^{+})}}$$\n$P(T^{+})$ 项被消去，得到：\n$$O_{post} = \\frac{P(T^{+}|D)P(D)}{P(T^{+}|D^c)P(D^c)} = \\left(\\frac{P(T^{+}|D)}{P(T^{+}|D^c)}\\right) \\left(\\frac{P(D)}{P(D^c)}\\right)$$\n我们识别出该方程的组成部分。第一项是阳性似然比 $LR^{+}$ 的定义：\n$$LR^{+} = \\frac{P(T^{+}|D)}{P(T^{+}|D^c)}$$\n第二项是验前赔率 $O_{pre}$ 的定义。\n因此，我们推导出了基于赔率的更新法则：\n$$O_{post} = LR^{+} \\times O_{pre}$$\n该方程表明，验后赔率等于验前赔率乘以似然比。\n\n现在，我们可以使用给定值应用此公式。\n验前概率为 $p_{0} = 0.30$。\n验前赔率为：\n$$O_{pre} = \\frac{p_{0}}{1-p_{0}} = \\frac{0.30}{1-0.30} = \\frac{0.30}{0.70} = \\frac{3}{7}$$\n阳性似然比为 $LR^{+} = 6$。\n验后赔率为：\n$$O_{post} = LR^{+} \\times O_{pre} = 6 \\times \\frac{3}{7} = \\frac{18}{7}$$\n为了求得验后概率 $p_{1}$，我们必须将验后赔率转换回概率。通用转换公式为 $p = \\frac{O}{1+O}$。\n$$p_{1} = \\frac{O_{post}}{1+O_{post}} = \\frac{\\frac{18}{7}}{1+\\frac{18}{7}} = \\frac{\\frac{18}{7}}{\\frac{7}{7}+\\frac{18}{7}} = \\frac{\\frac{18}{7}}{\\frac{25}{7}} = \\frac{18}{25}$$\n将此分数转换为小数，我们得到：\n$$p_{1} = 0.72$$\n问题指定了治疗阈值 $T=0.65$ 并将决策余量定义为 $m=p_{1}-T$。我们现在可以计算 $m$：\n$$m = p_{1} - T = 0.72 - 0.65 = 0.07$$\n问题要求最终答案以小数形式表示，并四舍五入到四位有效数字。数字 $0.07$ 有一位有效数字（首位零不计）。为了用四位有效数字表示，我们添加后缀零：\n$$m = 0.07000$$",
            "answer": "$$\\boxed{0.07000}$$"
        },
        {
            "introduction": "一个看似强有力的检验结果可能给人一种结论性的感觉，但其真正的意义始终取决于初始概率。本练习  通过对比两个具有不同验前概率的患者，阐释了这一关键概念。尽管他们得到了相同的检验结果，但最终的验后概率和临床决策却截然不同。理解这一原理对于避免过度解读诊断检验（尤其是在筛查低概率疾病时）的常见认知误区至关重要。",
            "id": "4828288",
            "problem": "一名诊断不明的成年患者表现出非特异性全身症状和局灶性体征，这些症状可能归因于一种严重但可治疗的疾病（称此疾病为 $D$）。您正在考虑是否开始一项治疗，当疾病 $D$ 存在时，该治疗的效益为 $B_T$，当疾病 $D$ 不存在时，其伤害为 $H_T$，其中效益和伤害均以一致的期望效用单位来衡量。两名患者仅在疾病 $D$ 的检验前概率上有所不同：患者1的检验前概率为 $p_0 = 0.05$，患者2的检验前概率为 $p_0 = 0.40$。您为两名患者安排了相同的诊断性检验；当检验结果为阳性时，其阳性似然比 (LR+) 为 $LR_{+} = 5$。该治疗的 $B_T = 7$ 且 $H_T = 3$，如果在得到阳性检验结果后，疾病 $D$ 的检验后概率（记为 $p_{\\text{post}}$）达到或超过由这些值所隐含的治疗阈值，您将立即进行治疗。请仅使用诊断性检验的概率推断和期望效用决策阈值的基本原理，计算每位患者在得到阳性检验结果后的检验后概率 $p_{\\text{post}}$，并判断是否立即对每位患者进行治疗。然后选择下面最佳的陈述。\n\nA. 患者1的 $p_{\\text{post}} \\approx 0.21$，患者2的 $p_{\\text{post}} \\approx 0.77$；治疗阈值为 $p_T = 0.30$，因此在得到阳性检验结果后，不对患者1进行治疗，但对患者2进行治疗，因为只有当 $p_{\\text{post}} \\ge p_T$ 时，立即治疗才是合理的。\n\nB. $p_{\\text{post}} = p_0 \\times LR_{+}$，所以患者1的 $p_{\\text{post}} = 0.25$，患者2的 $p_{\\text{post}} = 2.00$（上限为 $1.00$）；两者都超过了 $p_T = 0.30$，所以都应该立即治疗。\n\nC. 因为 $LR_{+}$ 相同，所以两名患者的 $p_{\\text{post}}$ 也相同；因此，两种情况下的临床决策应该相同。\n\nD. 患者1的 $p_{\\text{post}} \\approx 0.33$，患者2的 $p_{\\text{post}} \\approx 0.67$；由于 $p_T = 0.30$，两名患者在得到阳性检验结果后都应该接受治疗。\n\nE. 患者1的 $p_{\\text{post}} \\approx 0.10$，患者2的 $p_{\\text{post}} \\approx 0.50$；这种差异可以用 $LR_{+}$ 带来的固定加性增加来解释，而治疗仅取决于 $p_{\\text{post}}$ 是否超过 $p_T$。",
            "solution": "评估问题陈述的有效性。\n\n### 第1步：提取已知条件\n-   关注的疾病：$D$\n-   当疾病 $D$ 存在时治疗的效益：$B_T = 7$（以期望效用单位计）\n-   当疾病 $D$ 不存在时治疗的伤害：$H_T = 3$（以期望效用单位计）\n-   患者1患疾病 $D$ 的检验前概率：$p_0 = 0.05$\n-   患者2患疾病 $D$ 的检验前概率：$p_0 = 0.40$\n-   诊断性检验的阳性似然比：$LR_{+} = 5$\n-   决策规则：如果检验后概率 $p_{\\text{post}}$ 达到或超过治疗阈值 $p_T$，则进行治疗。\n\n### 第2步：使用提取的已知条件进行验证\n该问题具有科学依据，采用了医学决策中标准的、公认的原则：用于更新概率的贝叶斯推断和用于确定行动阈值的期望效用理论。求解所需的所有数据均已提供（两种情况下的 $p_0$、$LR_{+}$ 以及效用值 $B_T$ 和 $H_T$）。在一个假设的临床情境中，这些参数在数值上是一致且合理的。该问题提法得当、客观，且没有内部矛盾或歧义。它要求基于基本原理进行定量推导和比较。\n\n### 第3步：结论与行动\n问题陈述有效。将推导解答。\n\n### 推导过程\n解答需要基于基本原理进行两项主要计算：治疗阈值概率（$p_T$）和每位患者的检验后概率（$p_{\\text{post}}$）。\n\n**1. 治疗阈值（$p_T$）的计算**\n\n治疗阈值是指当治疗的期望效用等于不治疗的期望效用时的疾病概率 $p$。设 $p$ 为患者患有疾病 $D$ 的概率。\n\n治疗的期望效用 $EU(\\text{Treat})$，由患病概率乘以正确治疗的效用，减去不患病概率乘以不正确治疗的伤害得出。“效益” $B_T$ 是治疗患病者的净效用增益，“伤害” $H_T$ 是治疗非患病者的净效用损失。当 $EU(\\text{Treat}) \\ge EU(\\text{Do not treat})$ 时，治疗决策是合理的。阈值 $p_T$ 是无差异点：\n$$EU(\\text{Treat}) = EU(\\text{Do not treat})$$\n基于给定的效益和伤害参数，一个标准的公式是：\n$$p_T \\cdot B_T = (1 - p_T) \\cdot H_T$$\n这个方程平衡了治疗真阳性患者的预期收益与治疗假阳性患者的预期伤害。我们可以解出 $p_T$：\n$$p_T \\cdot B_T = H_T - p_T \\cdot H_T$$\n$$p_T \\cdot B_T + p_T \\cdot H_T = H_T$$\n$$p_T (B_T + H_T) = H_T$$\n$$p_T = \\frac{H_T}{B_T + H_T}$$\n代入给定值 $B_T = 7$ 和 $H_T = 3$：\n$$p_T = \\frac{3}{7 + 3} = \\frac{3}{10} = 0.30$$\n因此，治疗阈值为 $p_T=0.30$。如果疾病的检验后概率 $p_{\\text{post}}$ 大于或等于 $0.30$，则应进行治疗。\n\n**2. 检验后概率（$p_{\\text{post}}$）的计算**\n\n检验后概率是通过使用检验结果的似然比来更新检验前概率计算得出的。最直接的方法是使用优势形式的贝叶斯定理。\n\n检验前优势定义为：\n$$\\text{Odds}_{\\text{pre}} = \\frac{p_0}{1 - p_0}$$\n检验后优势通过将检验前优势乘以似然比来计算：\n$$\\text{Odds}_{\\text{post}} = \\text{Odds}_{\\text{pre}} \\times LR_{+}$$\n最后，将检验后优势转换回概率：\n$$p_{\\text{post}} = \\frac{\\text{Odds}_{\\text{post}}}{1 + \\text{Odds}_{\\text{post}}}$$\n\n现在我们将此框架应用于每位患者。\n\n**患者1：**\n-   检验前概率：$p_{0,1} = 0.05$\n-   检验前优势：$\\text{Odds}_{\\text{pre},1} = \\frac{0.05}{1 - 0.05} = \\frac{0.05}{0.95} = \\frac{5}{95} = \\frac{1}{19}$\n-   检验后优势（阳性检验结果，$LR_{+} = 5$）：$\\text{Odds}_{\\text{post},1} = \\frac{1}{19} \\times 5 = \\frac{5}{19}$\n-   检验后概率：$p_{\\text{post},1} = \\frac{5/19}{1 + 5/19} = \\frac{5/19}{24/19} = \\frac{5}{24}$\n-   小数形式：$p_{\\text{post},1} \\approx 0.2083$\n\n**患者2：**\n-   检验前概率：$p_{0,2} = 0.40$\n-   检验前优势：$\\text{Odds}_{\\text{pre},2} = \\frac{0.40}{1 - 0.40} = \\frac{0.4}{0.6} = \\frac{2}{3}$\n-   检验后优势（阳性检验结果，$LR_{+} = 5$）：$\\text{Odds}_{\\text{post},2} = \\frac{2}{3} \\times 5 = \\frac{10}{3}$\n-   检验后概率：$p_{\\text{post},2} = \\frac{10/3}{1 + 10/3} = \\frac{10/3}{13/3} = \\frac{10}{13}$\n-   小数形式：$p_{\\text{post},2} \\approx 0.7692$\n\n**3. 对每位患者的临床决策**\n-   治疗阈值为 $p_T = 0.30$。\n-   对于患者1， $p_{\\text{post},1} \\approx 0.2083$。由于 $0.2083  0.30$，立即治疗是不合理的。\n-   对于患者2， $p_{\\text{post},2} \\approx 0.7692$。由于 $0.7692 \\ge 0.30$，立即治疗是合理的。\n\n### 逐项分析选项\n\n**A. 患者1的 $p_{\\text{post}} \\approx 0.21$，患者2的 $p_{\\text{post}} \\approx 0.77$；治疗阈值为 $p_T = 0.30$，因此在得到阳性检验结果后，不对患者1进行治疗，但对患者2进行治疗，因为只有当 $p_{\\text{post}} \\ge p_T$ 时，立即治疗才是合理的。**\n该陈述的各组成部分评估如下：\n-   患者1的 $p_{\\text{post}}$：$5/24 \\approx 0.2083$，四舍五入为 $0.21$。这是正确的。\n-   患者2的 $p_{\\text{post}}$：$10/13 \\approx 0.7692$，四舍五入为 $0.77$。这是正确的。\n-   治疗阈值 $p_T$：推导出的值为 $0.30$。该陈述正确使用了这个值。\n-   对患者1的决策：$p_{\\text{post},1} \\approx 0.21  0.30$，所以不治疗。这是正确的。\n-   对患者2的决策：$p_{\\text{post},2} \\approx 0.77 > 0.30$，所以治疗。这是正确的。\n-   所提供的推理与期望效用决策理论的原则一致。\n该陈述与推导结果完全一致。\n**结论：正确。**\n\n**B. $p_{\\text{post}} = p_0 \\times LR_{+}$，所以患者1的 $p_{\\text{post}} = 0.25$，患者2的 $p_{\\text{post}} = 2.00$（上限为 $1.00$）；两者都超过了 $p_T = 0.30$，所以都应该立即治疗。**\n该陈述提出了一个错误的概率更新公式。似然比是与优势相乘，而不是直接与概率相乘。公式 $p_{\\text{post}} = p_0 \\times LR_{+}$ 是一个常见但根本性的错误。根据定义，概率不能超过 $1.0$，而这个错误的公式为患者2得出了超过 $1.0$ 的结果。\n**结论：错误。**\n\n**C. 因为 $LR_{+}$ 相同，所以两名患者的 $p_{\\text{post}}$ 也相同；因此，两种情况下的临床决策应该相同。**\n该陈述是错误的。检验后概率是检验前概率和似然比的函数。如计算所示，即使检验性能（$LR_{+}$）相同，每位患者不同的检验前概率（$p_0$）也会导致不同的检验后概率（$p_{\\text{post}}$）。我们的结果显示 $p_{\\text{post},1} \\approx 0.21$ 和 $p_{\\text{post},2} \\approx 0.77$。\n**结论：错误。**\n\n**D. 患者1的 $p_{\\text{post}} \\approx 0.33$，患者2的 $p_{\\text{post}} \\approx 0.67$；由于 $p_T = 0.30$，两名患者在得到阳性检验结果后都应该接受治疗。**\n此选项中计算的检验后概率（$\\approx 0.33$ 和 $\\approx 0.67$）与正确推导出的值（$\\approx 0.21$ 和 $\\approx 0.77$）不符。此外，关于两名患者都应接受治疗的结论是错误的，因为患者1的检验后概率低于治疗阈值。\n**结论：错误。**\n\n**E. 患者1的 $p_{\\text{post}} \\approx 0.10$，患者2的 $p_{\\text{post}} \\approx 0.50$；这种差异可以用 $LR_{+}$ 带来的固定加性增加来解释，而治疗仅取决于 $p_{\\text{post}}$ 是否超过 $p_T$。**\n所引用的检验后概率是错误的。“$LR_{+}$ 带来的固定加性增加解释了这种差异”的推理从概率论的角度来看是无稽之谈。$LR_{+}$ 的效应是与优势相乘，这导致了概率的非线性变换。不存在固定的加性增加。\n**结论：错误。**",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "在真实的临床工作中，诊断是一个动态积累证据的过程，我们很少仅凭单一数据做出决策。本练习  模拟了这一现实，向您展示如何将在体格检查中获得的多个临床发现进行顺序整合，从而不断精确修正诊断的概率。这个实践操作体现了如何利用似然比链来构建一个更全面、更可靠的临床图像，前提是这些发现是条件独立的。",
            "id": "4828336",
            "problem": "一名患有未分化呼吸困难的患者来到急诊科。您正在考虑充血性心力衰竭（CHF）的诊断。在进行有针对性的床旁检查之前，根据初步的临床信息，您估计 CHF 的检验前概率为 $p_{0} = 0.20$。随后，您在检查中观察到颈静脉扩张（JVD），之后在听诊中注意到没有肺部湿罗音。根据一项经过验证的证据综合，JVD 阳性的似然比为 $\\text{LR}_{+} = 5$，而没有湿罗音的似然比为 $\\text{LR}_{-} = 0.3$。假设在真实的 CHF 状态条件下，这两个检查结果是相互独立的，并且可以适当地序贯应用似然比。\n\n仅使用贝叶斯定理的基本定义、优势比的定义和似然比的定义，在每次发现后序贯更新 CHF 的概率（首先应用颈静脉扩张的发现，然后应用没有湿罗音的发现），并报告在纳入两个发现后的最终后验概率。请将您的最终答案表示为小数，并四舍五入到 $4$ 位有效数字。不要使用百分号。",
            "solution": "该问题要求使用贝叶斯推断的基本原理，序贯更新诊断的概率。我们已知两个独立临床发现的检验前概率和似然比。\n\n设 $D$ 为患者患有充血性心力衰竭（CHF）的事件。\n设 $E_1$ 为观察到颈静脉扩张（JVD）的事件。\n设 $E_2$ 为观察到没有肺部湿罗音的事件。\n\n已知信息如下：\n1.  CHF 的检验前概率：$P(D) = p_0 = 0.20$。\n2.  JVD 阳性发现的似然比：$\\text{LR}_{+, E_1} = \\frac{P(E_1|D)}{P(E_1|D^c)} = 5$。\n3.  没有湿罗音的似然比：$\\text{LR}_{-, E_2} = \\frac{P(E_2|D)}{P(E_2|D^c)} = 0.3$。\n\n此过程依赖于概率和优势比之间的关系，以及贝叶斯定理的优势比形式。\n事件 $A$ 的优势比，记为 $O(A)$，定义为该事件发生的概率与不发生的概率之比：\n$$\nO(A) = \\frac{P(A)}{1-P(A)}\n$$\n反之，可以从优势比中恢复概率：\n$$\nP(A) = \\frac{O(A)}{1+O(A)}\n$$\n贝叶斯定理的优势比形式表明，检验后优势比是检验前优势比与该发现的似然比（LR）的乘积：\n$$\nO(D|\\text{finding}) = O(D) \\times \\text{LR}_{\\text{finding}}\n$$\n\n按要求，解题过程按序贯步骤进行。\n\n**步骤 1：计算 CHF 的检验前优势比。**\n使用检验前概率 $P(D) = 0.20$，检验前优势比 $O(D)$ 为：\n$$\nO(D) = \\frac{P(D)}{1-P(D)} = \\frac{0.20}{1-0.20} = \\frac{0.20}{0.80} = 0.25\n$$\n\n**步骤 2：在 JVD 发现（$E_1$）后更新优势比和概率。**\n我们将 JVD 的似然比 $\\text{LR}_{+, E_1} = 5$ 应用于检验前优势比，以求得中间检验后优势比 $O(D|E_1)$。\n$$\nO(D|E_1) = O(D) \\times \\text{LR}_{+, E_1} = 0.25 \\times 5 = 1.25\n$$\n这是观察到 JVD 后 CHF 的优势比。为了求出相应的中间概率 $P(D|E_1)$，我们将优势比转换回概率：\n$$\nP(D|E_1) = \\frac{O(D|E_1)}{1+O(D|E_1)} = \\frac{1.25}{1+1.25} = \\frac{1.25}{2.25} = \\frac{5}{9}\n$$\n\n**步骤 3：在发现没有湿罗音（$E_2$）后更新优势比和概率。**\n第一个发现后的概率 $P(D|E_1)$，可作为第二个发现的新检验前概率。等效地，我们可以使用中间优势比 $O(D|E_1) = 1.25$ 作为下一次更新的检验前优势比。问题假设了条件独立性，这允许似然比的这种序贯相乘。我们现在应用没有湿罗音的似然比 $\\text{LR}_{-, E_2} = 0.3$。\n最终的检验后优势比 $O(D|E_1, E_2)$ 为：\n$$\nO(D|E_1, E_2) = O(D|E_1) \\times \\text{LR}_{-, E_2} = 1.25 \\times 0.3 = 0.375\n$$\n\n**步骤 4：计算最终的后验概率。**\n最后一步是将最终的检验后优势比 $O(D|E_1, E_2)$ 转换为最终的后验概率 $P(D|E_1, E_2)$。\n$$\nP(D|E_1, E_2) = \\frac{O(D|E_1, E_2)}{1+O(D|E_1, E_2)} = \\frac{0.375}{1+0.375} = \\frac{0.375}{1.375}\n$$\n为了简化分数，我们可以将小数写成分数形式：$0.375 = \\frac{3}{8}$ 和 $1.375 = \\frac{11}{8}$。\n$$\nP(D|E_1, E_2) = \\frac{3/8}{11/8} = \\frac{3}{11}\n$$\n计算数值：\n$$\n\\frac{3}{11} \\approx 0.272727...\n$$\n\n**步骤 5：对最终答案进行四舍五入。**\n问题要求将最终答案四舍五入到 $4$ 位有效数字。\n数值 $0.272727...$ 四舍五入到 $4$ 位有效数字是 $0.2727$。",
            "answer": "$$\n\\boxed{0.2727}\n$$"
        }
    ]
}