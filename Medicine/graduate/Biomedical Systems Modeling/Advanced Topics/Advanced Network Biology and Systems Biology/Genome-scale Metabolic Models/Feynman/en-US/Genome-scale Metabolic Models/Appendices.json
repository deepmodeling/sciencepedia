{
    "hands_on_practices": [
        {
            "introduction": "The foundation of any genome-scale metabolic model is its mathematical structure, which begins with the stoichiometric matrix, denoted as $S$. This matrix provides a systematic and comprehensive account of every reaction in the network, encoding the precise quantitative relationships between metabolites. The following exercise  will guide you through the construction of an $S$ matrix for a simple network, reinforcing the fundamental sign conventions and organization that are essential for all subsequent modeling analyses.",
            "id": "3888980",
            "problem": "In genome-scale metabolic models, intracellular mass balances under the well-mixed assumption are represented by the linear relationship between metabolite concentration time derivatives and reaction fluxes, with a stoichiometric matrix encoding reaction participation. Starting from the conservation of mass at steady or dynamic state for a biochemical network, the balance for each intracellular metabolite can be written in the form $d\\mathbf{x}/dt = S\\,\\mathbf{v}$, where $S$ is the stoichiometric matrix with entries $s_{ij}$ equal to the signed stoichiometric coefficient of metabolite $i$ in reaction $j$ (negative for consumption, positive for production, and zero if not participating). Consider a minimal closed network with three metabolites and three irreversible reactions given by $R1: A \\to B$, $R2: B \\to C$, and $R3: C \\to A$, each with unit stoichiometric coefficients. Using the standard sign convention implied by the mass balance formulation, adopt the metabolite ordering $\\{A,B,C\\}$ for the rows and the reaction ordering $\\{R1,R2,R3\\}$ for the columns, and construct the stoichiometric matrix $S$. Write $S$ explicitly as an integer-valued $3 \\times 3$ matrix. The final answer must be the explicit matrix and does not require any rounding or units.",
            "solution": "The problem requires the construction of the stoichiometric matrix, denoted as $S$, for a given biochemical network. The fundamental relationship governing the system is the mass balance equation for intracellular metabolites, which is given in the form:\n$$\n\\frac{d\\mathbf{x}}{dt} = S\\,\\mathbf{v}\n$$\nIn this equation, $\\mathbf{x}$ is the vector of metabolite concentrations, $\\mathbf{v}$ is the vector of reaction fluxes, and $S$ is the stoichiometric matrix. An entry $s_{ij}$ of the matrix $S$ represents the signed stoichiometric coefficient of metabolite $i$ in reaction $j$. The problem specifies the standard sign convention: the coefficient is negative for a metabolite that is consumed (a reactant) and positive for a metabolite that is produced. If a metabolite does not participate in a reaction, its corresponding coefficient is zero.\n\nThe problem defines a network with $3$ metabolites and $3$ reactions. The ordering of metabolites, which corresponds to the rows of the matrix, is specified as $\\{A,B,C\\}$. Therefore, row $1$ corresponds to metabolite $A$, row $2$ to metabolite $B$, and row $3$ to metabolite $C$. The ordering of reactions, which corresponds to the columns of the matrix, is specified as $\\{R1,R2,R3\\}$. Thus, column $1$ corresponds to reaction $R1$, column $2$ to reaction $R2$, and column $3$ to reaction $R3$. The matrix $S$ will therefore be a $3 \\times 3$ matrix.\n\nThe reactions are given as:\n- $R1: A \\to B$\n- $R2: B \\to C$\n- $R3: C \\to A$\n\nAll reactions are stated to have \"unit stoichiometric coefficients,\" which implies that the absolute value of each non-zero coefficient is $1$.\n\nWe can now construct the matrix $S$ by determining the elements of each column, where each column represents a single reaction.\n\nFor the first column ($j=1$), which corresponds to reaction $R1: A \\to B$:\n- Metabolite $A$ (row $i=1$) is consumed. According to the sign convention, its stoichiometric coefficient is negative. Given the unit coefficient, we have $s_{11} = -1$.\n- Metabolite $B$ (row $i=2$) is produced. Its coefficient is positive, so $s_{21} = +1$.\n- Metabolite $C$ (row $i=3$) does not participate in this reaction. Therefore, $s_{31} = 0$.\nThe first column of $S$ is thus $\\begin{pmatrix} -1 \\\\ 1 \\\\ 0 \\end{pmatrix}$.\n\nFor the second column ($j=2$), which corresponds to reaction $R2: B \\to C$:\n- Metabolite $A$ (row $i=1$) does not participate. Thus, $s_{12} = 0$.\n- Metabolite $B$ (row $i=2$) is consumed. Its coefficient is negative, so $s_{22} = -1$.\n- Metabolite $C$ (row $i=3$) is produced. Its coefficient is positive, so $s_{32} = +1$.\nThe second column of $S$ is thus $\\begin{pmatrix} 0 \\\\ -1 \\\\ 1 \\end{pmatrix}$.\n\nFor the third column ($j=3$), which corresponds to reaction $R3: C \\to A$:\n- Metabolite $A$ (row $i=1$) is produced. Its coefficient is positive, so $s_{13} = +1$.\n- Metabolite $B$ (row $i=2$) does not participate. Therefore, $s_{23} = 0$.\n- Metabolite $C$ (row $i=3$) is consumed. Its coefficient is negative, so $s_{33} = -1$.\nThe third column of $S$ is thus $\\begin{pmatrix} 1 \\\\ 0 \\\\ -1 \\end{pmatrix}$.\n\nFinally, by assembling the three columns, we form the complete stoichiometric matrix $S$:\n$$\nS = \\begin{pmatrix} s_{11} & s_{12} & s_{13} \\\\ s_{21} & s_{22} & s_{23} \\\\ s_{31} & s_{32} & s_{33} \\end{pmatrix} = \\begin{pmatrix} -1 & 0 & 1 \\\\ 1 & -1 & 0 \\\\ 0 & 1 & -1 \\end{pmatrix}\n$$\nThis is the explicit integer-valued $3 \\times 3$ matrix that represents the stoichiometry of the given network according to the specified conventions.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} -1 & 0 & 1 \\\\ 1 & -1 & 0 \\\\ 0 & 1 & -1 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "Once the network's stoichiometry is captured in the $S$ matrix, we can begin to simulate its functional states. Flux Balance Analysis (FBA) is the cornerstone technique for this, which predicts metabolic flux distributions by optimizing a specific biological objective, such as growth rate or the production of a valuable compound. This exercise  introduces the core principles of FBA in a minimal system, demonstrating how the steady-state assumption, $S v=0$, combined with reaction bounds, allows for the prediction of an optimal metabolic phenotype.",
            "id": "3889046",
            "problem": "Consider a minimal genome-scale metabolic model fragment with a single internal metabolite and two irreversible exchange reactions representing uptake and secretion. The stoichiometric matrix is given by $S = \\begin{bmatrix}1 & -1\\end{bmatrix}$, where the first column corresponds to an uptake flux $v_{1}$ and the second column corresponds to a secretion flux $v_{2}$. Assume steady state so that the internal metabolite pool does not accumulate. The system is constrained by reaction bounds that capture biophysical capacity limits and thermodynamic irreversibility: $0 \\leq v_{1} \\leq 10$ and $v_{2} \\geq 0$, with no upper bound on $v_{2}$. Units for all fluxes are millimoles per gram dry weight per hour (mmol gDW$^{-1}$ h$^{-1}$), where gram dry weight (gDW) refers to the dry mass of cells.\n\nUsing the steady-state assumption for flux balance analysis, formulate and solve the linear optimization problem that maximizes the secretion rate $v_{2}$ subject to $S v = 0$ and the given bounds. Report the optimal objective value $v_{2}^{\\star}$ as a single number. Express your answer in mmol gDW$^{-1}$ h$^{-1}$. No rounding is required.",
            "solution": "The goal is to find the maximum secretion rate, $v_2$, by solving a Flux Balance Analysis (FBA) problem. The problem is a linear program defined by an objective function and a set of constraints.\n\n**1. Define the Linear Program**\n\nThe objective is to maximize the secretion flux:\n$$ \\text{Maximize } v_2 $$\n\nThis maximization is subject to two types of constraints: mass balance and flux bounds.\n\n**a) Mass Balance Constraint:**\nThe steady-state assumption requires that the net flux of the internal metabolite is zero. This is given by the equation $S v = 0$.\nGiven the stoichiometric matrix $S = \\begin{bmatrix}1 & -1\\end{bmatrix}$ and the flux vector $v = \\begin{bmatrix}v_1 \\\\ v_2\\end{bmatrix}$, the equation becomes:\n$$ \\begin{bmatrix}1 & -1\\end{bmatrix} \\begin{bmatrix}v_1 \\\\ v_2\\end{bmatrix} = 0 $$\nThis simplifies to the scalar equation:\n$$ v_1 - v_2 = 0 \\quad \\implies \\quad v_1 = v_2 $$\nThis means that for the system to be at steady state, the rate of uptake ($v_1$) must exactly equal the rate of secretion ($v_2$).\n\n**b) Flux Bound Constraints:**\nThe problem specifies the following bounds on the reaction fluxes:\n$$ 0 \\leq v_1 \\leq 10 $$\n$$ v_2 \\geq 0 $$\n\n**2. Solve the Optimization Problem**\n\nWe need to maximize $v_2$ while satisfying all the constraints.\nFrom the mass balance constraint, we know that $v_1 = v_2$. Therefore, maximizing $v_2$ is equivalent to maximizing $v_1$.\n\nThe constraints on $v_1$ are $0 \\leq v_1 \\leq 10$. The maximum value that $v_1$ can take is 10.\nSince $v_2 = v_1$, the maximum value for $v_2$ is also 10.\n\nLet's check if this solution is valid. If $v_1 = 10$ and $v_2 = 10$:\n- The mass balance $v_1 = v_2$ is satisfied.\n- The bound $0 \\leq v_1 \\leq 10$ is satisfied (as $v_1 = 10$).\n- The bound $v_2 \\geq 0$ is satisfied (as $v_2 = 10$).\n\nAll conditions are met. Therefore, the optimal (maximum) value for the secretion flux is $v_2^{\\star} = 10$.\n\nThe final answer is 10, with units of mmol gDW$^{-1}$ h$^{-1}$ as specified.",
            "answer": "$$\\boxed{10}$$"
        },
        {
            "introduction": "A key power of genome-scale models is their ability to predict the consequences of genetic perturbations and compare these predictions with experimental results. This requires connecting the metabolic network to the organism's genome through Gene-Protein-Reaction (GPR) associations. This final practice  provides a complete workflow, from simulating single-gene knockouts using GPR logic to critically evaluating the model's predictive power against experimental data, a crucial step in the iterative cycle of model refinement and validation.",
            "id": "3888933",
            "problem": "You are given a simplified genome-scale metabolic model fragment and a set of single-gene knockouts. Your task is to implement Flux Balance Analysis (FBA) to predict gene essentiality under single deletions, and then compare these predictions to provided experimental labels using confusion matrix statistics. The solution must proceed from first principles grounded in steady-state mass balance.\n\nThe fundamental base is the mass conservation of metabolites under steady state. Let $S \\in \\mathbb{R}^{m \\times n}$ be the stoichiometric matrix, where $m$ is the number of metabolites and $n$ is the number of reactions. Let $v \\in \\mathbb{R}^{n}$ be the reaction flux vector. Steady-state mass balance requires\n$$\nS v = 0.\n$$\nEach reaction $j$ has lower and upper bounds $l_j \\le v_j \\le u_j$. An objective function $c \\in \\mathbb{R}^n$ defines the biomass production rate, and the growth rate is obtained by solving the linear program:\n$$\n\\text{maximize } c^\\top v \\quad \\text{subject to } S v = 0, \\quad l \\le v \\le u.\n$$\n\nGene essentiality prediction under a single gene knockout uses Gene-Protein-Reaction (GPR) logic. For a reaction with alternative enzyme complexes, the mapping is modeled as disjunctive normal form: a reaction is active if at least one alternative enzyme complex is intact (logical OR across alternatives), and each alternative requires that all its genes are present (logical AND within an alternative). When a gene is deleted, any reaction whose GPR evaluates to false is disabled by setting $v_j = 0$.\n\nYou must use the following model, bounds, objective, GPRs, and experimental labels:\n\n- Metabolites: $\\{ \\text{GLC}, \\text{A}, \\text{B} \\}$.\n- Reactions (indices $j = 0,1,2,3,4$):\n  1. $j=0$: Uptake, $\\rightarrow \\text{GLC}$.\n  2. $j=1$: $\\text{GLC} \\rightarrow \\text{A}$, catalyzed by gene gA.\n  3. $j=2$: $\\text{A} \\rightarrow \\text{B}$, catalyzed by gene gB OR gene gC.\n  4. $j=3$: $\\text{B} \\rightarrow$ biomass drain, catalyzed by gene gD AND gene gE.\n  5. $j=4$: $\\text{GLC} \\rightarrow \\text{B}$, catalyzed by gene gF.\n\n- Stoichiometric matrix $S$ (rows ordered as $\\text{GLC}, \\text{A}, \\text{B}$; columns ordered as reactions $j=0,1,2,3,4$):\n$$\nS =\n\\begin{bmatrix}\n+1 & -1 & 0 & 0 & -1 \\\\\n0 & +1 & -1 & 0 & 0 \\\\\n0 & 0 & +1 & -1 & +1\n\\end{bmatrix}.\n$$\n\n- Bounds $l \\le v \\le u$:\n  - For $j=0$: $0 \\le v_0 \\le 10$.\n  - For $j=1$: $0 \\le v_1 \\le 1000$.\n  - For $j=2$: $0 \\le v_2 \\le 8$.\n  - For $j=3$: $0 \\le v_3 \\le 1000$.\n  - For $j=4$: $0 \\le v_4 \\le 6$.\n\n- Objective vector $c$ maximizes biomass drain: $c_j = 1$ if $j=3$, else $c_j = 0$.\n\n- GPR mapping (reaction index to logical requirement):\n  - $j=1$: gA.\n  - $j=2$: gB OR gC.\n  - $j=3$: gD AND gE.\n  - $j=4$: gF.\n  - $j=0$: no gene requirement (always active).\n\n- Genes to test: $\\{ \\text{gA}, \\text{gB}, \\text{gC}, \\text{gD}, \\text{gE}, \\text{gF} \\}$.\n\n- Experimental essentiality labels (binary, $1$ for essential, $0$ for non-essential):\n  - gA: $0$,\n  - gB: $0$,\n  - gC: $0$,\n  - gD: $1$,\n  - gE: $1$,\n  - gF: $0$.\n\nDefine the wild-type optimal growth rate as $\\mu_{\\mathrm{WT}} = \\max c^\\top v$ under the given bounds and constraints. For a single gene knockout $g$, define $\\mu_{\\mathrm{KO}}(g)$ as the optimal growth after disabling reactions whose GPR evaluates to false under the deletion of $g$. Classify gene $g$ as predicted essential if\n$$\n\\frac{\\mu_{\\mathrm{KO}}(g)}{\\mu_{\\mathrm{WT}}} < \\tau,\n$$\nwhere $\\tau \\in [0,1]$ is a threshold. Use strict inequality.\n\nConfusion matrix statistics over the full gene set are:\n- True positives $TP$: number of genes with predicted essentiality $1$ and experimental label $1$.\n- False positives $FP$: number of genes with predicted essentiality $1$ and experimental label $0$.\n- True negatives $TN$: number of genes with predicted essentiality $0$ and experimental label $0$.\n- False negatives $FN$: number of genes with predicted essentiality $0$ and experimental label $1$.\n\nFrom these, compute:\n- Accuracy $ACC = \\dfrac{TP + TN}{TP + FP + TN + FN}$.\n- Precision $P = \\dfrac{TP}{TP + FP}$, defined as $0$ if $TP + FP = 0$.\n- Recall $R = \\dfrac{TP}{TP + FN}$, defined as $0$ if $TP + FN = 0$.\n- F1-score $F1 = \\dfrac{2 P R}{P + R}$, defined as $0$ if $P + R = 0$.\n- Matthews correlation coefficient $MCC = \\dfrac{TP \\cdot TN - FP \\cdot FN}{\\sqrt{(TP+FP)(TP+FN)(TN+FP)(TN+FN)}}$, defined as $0$ if the denominator is $0$.\n- Balanced accuracy $BA = \\dfrac{1}{2}\\left( \\dfrac{TP}{TP + FN} + \\dfrac{TN}{TN + FP} \\right)$, using $0$ for any undefined fraction due to zero denominator.\n\nAll fluxes $v_j$ and growth rates $c^\\top v$ are in units of millimoles per gram dry weight per hour, abbreviated as $\\mathrm{mmol} \\cdot \\mathrm{gDW}^{-1} \\cdot \\mathrm{h}^{-1}$. Ratios, thresholds, and confusion matrix statistics are dimensionless; express all final numerical outputs without units.\n\nTest suite:\n- Threshold values $\\tau$: $0.01$, $0.5$, $0.6$, $0.9$.\n\nYour program must:\n1. Implement FBA to compute $\\mu_{\\mathrm{WT}}$ and $\\mu_{\\mathrm{KO}}(g)$ for each gene $g$ by solving the stated linear programs.\n2. Classify predicted essentiality using the ratio rule and each provided $\\tau$.\n3. Compute the confusion matrix statistics and derived metrics for each $\\tau$.\n4. Produce a single line of output containing the results as a comma-separated list enclosed in square brackets. The list must concatenate, in order for each $\\tau$, the values\n$$\n[TP, FP, TN, FN, ACC, P, R, F1, MCC, BA]\n$$\nfor $\\tau = 0.01$, then for $\\tau = 0.5$, then for $\\tau = 0.6$, then for $\\tau = 0.9$.\n\nFor example, the final output format must be exactly like\n$$\n[TP_{0.01},FP_{0.01},TN_{0.01},FN_{0.01},ACC_{0.01},P_{0.01},R_{0.01},F1_{0.01},MCC_{0.01},BA_{0.01},TP_{0.5},\\dots,BA_{0.9}],\n$$\nwith all values as integers or floating-point numbers, no additional text, and enclosed in a single pair of square brackets.",
            "solution": "The problem requires the implementation of Flux Balance Analysis (FBA) to predict gene essentiality in a simplified metabolic model and to evaluate these predictions against experimental data using various statistical metrics. The solution is derived from the fundamental principles of steady-state mass balance and linear programming.\n\n### 1. Formulation of the Flux Balance Analysis Problem\n\nThe core of FBA is the steady-state assumption, which posits that the concentration of internal metabolites does not change over time. This is expressed as a mass balance equation:\n$$\nS v = 0\n$$\nwhere $S \\in \\mathbb{R}^{m \\times n}$ is the stoichiometric matrix for $m$ metabolites and $n$ reactions, and $v \\in \\mathbb{R}^{n}$ is the vector of reaction fluxes. The optimization problem is formulated as a linear program (LP) to maximize a biological objective function, typically biomass production, represented by $c^\\top v$. The full LP is:\n$$\n\\text{maximize } z = c^\\top v \\\\\n\\text{subject to } S v = 0 \\\\\nl \\le v \\le u\n$$\nwhere $l$ and $u$ are vectors of lower and upper bounds on the fluxes $v_j$, respectively.\n\nThe model is defined by:\n- Stoichiometric matrix $S$ for metabolites $\\{\\text{GLC}, \\text{A}, \\text{B}\\}$ and reactions $\\{v_0, v_1, v_2, v_3, v_4\\}$:\n$$\nS =\n\\begin{bmatrix}\n1 & -1 & 0 & 0 & -1 \\\\\n0 & 1 & -1 & 0 & 0 \\\\\n0 & 0 & 1 & -1 & 1\n\\end{bmatrix}\n$$\n- The system of linear equations $S v = 0$ is:\n  1. $v_0 - v_1 - v_4 = 0$\n  2. $v_1 - v_2 = 0$\n  3. $v_2 - v_3 + v_4 = 0$\n- Flux bounds $l_j \\le v_j \\le u_j$:\n  - $0 \\le v_0 \\le 10$\n  - $0 \\le v_1 \\le 1000$\n  - $0 \\le v_2 \\le 8$\n  - $0 \\le v_3 \\le 1000$\n  - $0 \\le v_4 \\le 6$\n- Objective function: Maximize biomass flux $v_3$, so $c = [0, 0, 0, 1, 0]^\\top$.\n\n### 2. Wild-Type Growth Rate Calculation\n\nFirst, we solve the LP for the wild-type (unperturbed) model to find the maximum possible growth rate, $\\mu_{\\mathrm{WT}}$.\nFrom the constraints:\n- $v_1 = v_2$ from the second equation.\n- $v_3 = v_2 + v_4$ from the third equation.\n- $v_0 = v_1 + v_4 = v_2 + v_4$ from the first equation.\n\nThe objective is to maximize $v_3 = v_2 + v_4$. We must satisfy the flux bounds:\n- $0 \\le v_2 \\le 8$\n- $0 \\le v_4 \\le 6$\n- $v_0 = v_2 + v_4$, and $0 \\le v_0 \\le 10$, which implies $v_2 + v_4 \\le 10$.\n\nThe problem reduces to maximizing $v_2 + v_4$ subject to $v_2 + v_4 \\le 10$, $0 \\le v_2 \\le 8$, and $0 \\le v_4 \\le 6$. The maximum value of this sum is $10$. This can be achieved, for example, with $v_2 = 4$ and $v_4 = 6$ (since $4 \\le 8$ and $6 \\le 6$ and $4+6=10$), or with $v_2 = 8$ and $v_4=2$. In any case, the maximal objective value is $10$.\nThus, the wild-type optimal growth rate is $\\mu_{\\mathrm{WT}} = 10 \\, \\mathrm{mmol} \\cdot \\mathrm{gDW}^{-1} \\cdot \\mathrm{h}^{-1}$.\n\n### 3. Knockout Growth Rate Calculations\n\nFor each single gene knockout, we apply the Gene-Protein-Reaction (GPR) rules to determine which reactions are inactivated. A reaction $j$ is disabled by setting its bounds to zero, i.e., $l_j=u_j=0$, which forces $v_j=0$.\n\n- **Knockout of gA**: The GPR for reaction $j=1$ is 'gA'. Deleting gA disables this reaction, so $v_1=0$.\n  - Constraints become: $v_2 = v_1 = 0$. $v_3 = v_2 + v_4 = v_4$. $v_0 = v_4$.\n  - We maximize $v_3 = v_4$ subject to $0 \\le v_4 \\le 6$ and $0 \\le v_0 \\le 10$. Since $v_0=v_4$, the tightest constraint is $v_4 \\le 6$.\n  - $\\mu_{\\mathrm{KO}}(\\text{gA}) = 6$. Growth ratio: $6/10 = 0.6$.\n\n- **Knockout of gB**: The GPR for reaction $j=2$ is 'gB OR gC'. Deleting gB does not disable the reaction, as gene gC can still catalyze it. No reactions are disabled.\n  - $\\mu_{\\mathrm{KO}}(\\text{gB}) = \\mu_{\\mathrm{WT}} = 10$. Growth ratio: $10/10 = 1.0$.\n\n- **Knockout of gC**: Similar to gB, deleting gC does not disable reaction $j=2$.\n  - $\\mu_{\\mathrm{KO}}(\\text{gC}) = \\mu_{\\mathrm{WT}} = 10$. Growth ratio: $10/10 = 1.0$.\n\n- **Knockout of gD**: The GPR for reaction $j=3$ (biomass) is 'gD AND gE'. Deleting gD disables this reaction, so $v_3=0$. The objective is to maximize $v_3$.\n  - $\\mu_{\\mathrm{KO}}(\\text{gD}) = 0$. Growth ratio: $0/10 = 0.0$.\n\n- **Knockout of gE**: Similar to gD, deleting gE disables reaction $j=3$.\n  - $\\mu_{\\mathrm{KO}}(\\text{gE}) = 0$. Growth ratio: $0/10 = 0.0$.\n\n- **Knockout of gF**: The GPR for reaction $j=4$ is 'gF'. Deleting gF disables this reaction, so $v_4=0$.\n  - Constraints become: $v_3 = v_2 + 0 = v_2$. $v_1=v_2$. $v_0=v_1$. Hence $v_0=v_1=v_2=v_3$.\n  - We maximize $v_3$ subject to the bounds on all four fluxes. The tightest bound comes from $v_2 \\le 8$.\n  - $\\mu_{\\mathrm{KO}}(\\text{gF}) = 8$. Growth ratio: $8/10 = 0.8$.\n\n### 4. Performance Evaluation\n\nA gene $g$ is predicted to be essential if its knockout growth ratio $\\mu_{\\mathrm{KO}}(g)/\\mu_{\\mathrm{WT}}$ is strictly less than a threshold $\\tau$. We compare these predictions to the experimental labels $\\{gA:0, gB:0, gC:0, gD:1, gE:1, gF:0\\}$, where $1$ denotes essential and $0$ denotes non-essential.\n\n**Summary of Ratios and Experimental Data:**\n| Gene | Growth Ratio | Experimental (E) |\n|---|---|---|\n| gA | 0.6 | 0 |\n| gB | 1.0 | 0 |\n| gC | 1.0 | 0 |\n| gD | 0.0 | 1 |\n| gE | 0.0 | 1 |\n| gF | 0.8 | 0 |\n\n**Analysis for each threshold $\\tau$:**\n\n**- For $\\tau = 0.01$**:\n  - Predicted essential (ratio < 0.01): gD, gE.\n  - Predictions $P = [0, 0, 0, 1, 1, 0]$. Experimental $E = [0, 0, 0, 1, 1, 0]$.\n  - The prediction is perfect. $TP=2$ (gD, gE), $TN=4$ (gA, gB, gC, gF), $FP=0$, $FN=0$.\n  - $ACC = (2+4)/6 = 1.0$. $P = 2/(2+0) = 1.0$. $R = 2/(2+0) = 1.0$. $F1 = 2 \\cdot 1 \\cdot 1 / (1+1) = 1.0$.\n  - $MCC = (2 \\cdot 4 - 0 \\cdot 0) / \\sqrt{(2)(2)(4)(4)} = 1.0$.\n  - $BA = 0.5 \\cdot (2/2 + 4/4) = 1.0$.\n  - Results: $[2, 0, 4, 0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]$.\n\n**- For $\\tau = 0.5$**:\n  - Predicted essential (ratio < 0.5): gD, gE.\n  - Predictions $P = [0, 0, 0, 1, 1, 0]$. Same as for $\\tau = 0.01$.\n  - Results: $[2, 0, 4, 0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]$.\n\n**- For $\\tau = 0.6$**:\n  - Predicted essential (ratio < 0.6): gD, gE. Note that for gA, the ratio is $0.6$, and $0.6 \\not< 0.6$.\n  - Predictions $P = [0, 0, 0, 1, 1, 0]$. Same as for $\\tau = 0.01$.\n  - Results: $[2, 0, 4, 0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]$.\n\n**- For $\\tau = 0.9$**:\n  - Predicted essential (ratio < 0.9): gA, gD, gE, gF.\n  - Predictions $P = [1, 0, 0, 1, 1, 1]$. Experimental $E = [0, 0, 0, 1, 1, 0]$.\n  - $TP=2$ (gD, gE). $FP=2$ (gA, gF). $TN=2$ (gB, gC). $FN=0$.\n  - $ACC = (2+2)/6 \\approx 0.6667$.\n  - $P = 2/(2+2) = 0.5$.\n  - $R = 2/(2+0) = 1.0$.\n  - $F1 = 2 \\cdot 0.5 \\cdot 1 / (0.5+1) \\approx 0.6667$.\n  - $MCC = (2 \\cdot 2 - 2 \\cdot 0) / \\sqrt{(2+2)(2+0)(2+2)(2+0)} = 0.5$.\n  - $BA = 0.5 \\cdot (2/2 + 2/(2+2)) = 0.75$.\n  - Results: $[2, 2, 2, 0, 0.6666..., 0.5, 1.0, 0.6666..., 0.5, 0.75]$.\n\n### 5. Final Output Compilation\n\nThe final result is obtained by concatenating the list of $10$ metrics for each of the four thresholds, $\\tau = 0.01, 0.5, 0.6, 0.9$, in order.",
            "answer": "[2,0,4,0,1.0,1.0,1.0,1.0,1.0,1.0,2,0,4,0,1.0,1.0,1.0,1.0,1.0,1.0,2,0,4,0,1.0,1.0,1.0,1.0,1.0,1.0,2,2,2,0,0.6666666666666666,0.5,1.0,0.6666666666666666,0.5,0.75]"
        }
    ]
}