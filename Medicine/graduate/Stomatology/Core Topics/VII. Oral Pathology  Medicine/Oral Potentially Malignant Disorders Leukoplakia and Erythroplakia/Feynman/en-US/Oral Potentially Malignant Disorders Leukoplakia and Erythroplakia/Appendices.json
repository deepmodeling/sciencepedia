{
    "hands_on_practices": [
        {
            "introduction": "Understanding the factors that contribute to oral potentially malignant disorders is the first step in prevention and risk management. Case-control studies provide an efficient method for investigating these associations, and the odds ratio ($\\mathrm{OR}$) is the primary measure of effect derived from them. This exercise  offers a practical guide to calculating an $\\mathrm{OR}$ from fundamental principles and interpreting its magnitude, a crucial skill for critically appraising evidence on risk factors like tobacco use.",
            "id": "4744612",
            "problem": "A graduate-level stomatology researcher is evaluating the association between current tobacco use and oral leukoplakia, an Oral Potentially Malignant Disorder (OPMD). In a case-control study, the disease status is classified as leukoplakia (case) or no leukoplakia (control), and the exposure is current tobacco use (exposed) or no current tobacco use (unexposed). The counts are as follows: among exposed, there are $120$ cases and $80$ controls; among unexposed, there are $60$ cases and $140$ controls. Using the fundamental definition of odds as the ratio of the probability of an event to the probability of the non-event, derive the odds ratio $\\mathrm{OR}$ for leukoplakia associated with current tobacco use from first principles starting at these definitions and the observed counts, and finally compute its value. Round your final numerical answer to three significant figures and express it as a pure number without units. Additionally, discuss in your solution how the magnitude of the derived $\\mathrm{OR}$ informs etiologic plausibility for tobacco as a causal factor in leukoplakia within the constraints of case-control inference.",
            "solution": "The problem is valid as it is scientifically grounded in standard epidemiological principles, well-posed with sufficient data for a unique solution, and objectively stated.\n\nThe problem requires the derivation and calculation of the odds ratio ($\\mathrm{OR}$) from a case-control study and a discussion of its implications. We are given the following counts for a study on oral leukoplakia (the disease) and current tobacco use (the exposure).\n\nThe data can be organized into a standard $2 \\times 2$ contingency table, where the cells are commonly denoted by $a, b, c,$ and $d$.\n\n\\begin{itemize}\n    \\item $a$: Number of cases (leukoplakia) who are exposed (tobacco users) = $120$.\n    \\item $b$: Number of controls (no leukoplakia) who are exposed (tobacco users) = $80$.\n    \\item $c$: Number of cases (leukoplakia) who are unexposed (no tobacco use) = $60$.\n    \\item $d$: Number of controls (no leukoplakia) who are unexposed (no tobacco use) = $140$.\n\\end{itemize}\n\n$$\n\\begin{array}{c|cc|c}\n\\hline\n & \\textbf{Case (Leukoplakia)} & \\textbf{Control (No Leukoplakia)} & \\textbf{Total} \\\\\n\\hline\n\\textbf{Exposed (Tobacco)} & a = 120 & b = 80 & 200 \\\\\n\\textbf{Unexposed (No Tobacco)} & c = 60 & d = 140 & 200 \\\\\n\\hline\n\\textbf{Total} & 180 & 220 & 400 \\\\\n\\hline\n\\end{array}\n$$\n\nThe problem asks to derive the odds ratio from first principles. The odds of an event is defined as the ratio of the probability of the event occurring to the probability of the event not occurring. In a case-control study, we compare the odds of exposure among the cases to the odds of exposure among the controls.\n\nLet $E$ denote the event of being exposed (current tobacco use) and $D$ denote the event of having the disease (leukoplakia).\n\nFirst, we calculate the odds of exposure among the cases. This is the ratio of the probability of being exposed given one is a case, $P(E|D)$, to the probability of being unexposed given one is a case, $P(\\neg E|D)$.\n\n$$\n\\text{Odds}_{\\text{cases}} = \\frac{P(E|D)}{P(\\neg E|D)}\n$$\n\nUsing the counts from our study, we estimate these probabilities from the sample. The probability of a case being exposed is the number of exposed cases divided by the total number of cases.\n\n$$\nP(E|D) \\approx \\frac{a}{a+c} = \\frac{120}{120+60} = \\frac{120}{180}\n$$\n\nThe probability of a case being unexposed is the number of unexposed cases divided by the total number of cases.\n\n$$\nP(\\neg E|D) \\approx \\frac{c}{a+c} = \\frac{60}{120+60} = \\frac{60}{180}\n$$\n\nTherefore, the odds of exposure among cases is:\n\n$$\n\\text{Odds}_{\\text{cases}} \\approx \\frac{a/(a+c)}{c/(a+c)} = \\frac{a}{c}\n$$\n\nSubstituting the given values:\n\n$$\n\\text{Odds}_{\\text{cases}} = \\frac{120}{60} = 2\n$$\n\nNext, we calculate the odds of exposure among the controls. This is the ratio of the probability of being exposed given one is a control, $P(E|\\neg D)$, to the probability of being unexposed given one is a control, $P(\\neg E|\\neg D)$.\n\n$$\n\\text{Odds}_{\\text{controls}} = \\frac{P(E|\\neg D)}{P(\\neg E|\\neg D)}\n$$\n\nWe estimate these probabilities from the sample counts in the control group.\n\n$$\nP(E|\\neg D) \\approx \\frac{b}{b+d} = \\frac{80}{80+140} = \\frac{80}{220}\n$$\n$$\nP(\\neg E|\\neg D) \\approx \\frac{d}{b+d} = \\frac{140}{80+140} = \\frac{140}{220}\n$$\n\nTherefore, the odds of exposure among controls is:\n\n$$\n\\text{Odds}_{\\text{controls}} \\approx \\frac{b/(b+d)}{d/(b+d)} = \\frac{b}{d}\n$$\n\nSubstituting the given values:\n\n$$\n\\text{Odds}_{\\text{controls}} = \\frac{80}{140} = \\frac{8}{14} = \\frac{4}{7}\n$$\n\nThe odds ratio ($\\mathrm{OR}$) is defined as the ratio of the odds of exposure in the case group to the odds of exposure in the control group.\n\n$$\n\\mathrm{OR} = \\frac{\\text{Odds}_{\\text{cases}}}{\\text{Odds}_{\\text{controls}}}\n$$\n\nSubstituting the derived expressions in terms of $a, b, c,$ and $d$:\n\n$$\n\\mathrm{OR} = \\frac{a/c}{b/d} = \\frac{ad}{bc}\n$$\n\nThis is the standard formula for the odds ratio in a case-control study, derived here from first principles as required. Now, we compute its numerical value using the provided data.\n\n$$\n\\mathrm{OR} = \\frac{(120)(140)}{(80)(60)} = \\frac{16800}{4800} = \\frac{168}{48}\n$$\n\nTo simplify the fraction, we can divide the numerator and denominator by common factors. Both are divisible by $100$, then $12$, then $4$.\n\n$$\n\\frac{168}{48} = \\frac{168 \\div 24}{48 \\div 24} = \\frac{7}{2} = 3.5\n$$\n\nThe problem requires the answer to be rounded to three significant figures.\n\n$$\n\\mathrm{OR} = 3.50\n$$\n\nFinally, we discuss how the magnitude of this $\\mathrm{OR}$ informs etiologic plausibility. An odds ratio of $1$ indicates no association between the exposure and the outcome. An $\\mathrm{OR} > 1$ indicates a positive association (increased odds of outcome with exposure), and an $\\mathrm{OR} < 1$ indicates a negative or protective association.\n\nOur calculated odds ratio is $\\mathrm{OR} = 3.50$. This value is substantially greater than $1$. The interpretation is that the odds of being a current tobacco user are $3.5$ times higher for individuals with oral leukoplakia compared to those without the condition. Within the framework of causal inference, such as the Bradford Hill criteria, the \"strength of association\" is a key consideration. An odds ratio of $3.50$ is generally considered to represent a moderate to strong association. A strong association makes random error or confounding less likely, although not impossible, explanations for the finding.\n\nWhile a single case-control study cannot definitively prove causation (as it does not establish temporality and is susceptible to biases like selection and recall bias), a strong association significantly enhances the etiologic plausibility of tobacco as a causal factor for oral leukoplakia. It provides compelling evidence that supports the hypothesis that tobacco use contributes to the development of this oral potentially malignant disorder. This finding would justify further investigation through other study designs (e.g., cohort studies) and laboratory research to establish a full causal link.",
            "answer": "$$\n\\boxed{3.50}\n$$"
        },
        {
            "introduction": "Diagnosis of OPMDs hinges on histopathological analysis, but the heterogeneous nature of these lesions presents a significant clinical challenge: sampling error. A biopsy might miss the most severely dysplastic area, leading to a falsely reassuring diagnosis. This hypothetical exercise  uses a simple probability model to quantify the risk of a false-negative result, providing a clear mathematical illustration of why multiple, strategically placed biopsies are essential for accurate grading.",
            "id": "4744631",
            "problem": "In oral potentially malignant disorders (OPMD), such as oral leukoplakia and erythroplakia, histopathologic abnormalities are often heterogeneously distributed within the clinically visible lesion. Consider a single large homogeneous-appearing lesion in which severe epithelial dysplasia occupies a fraction $f$ of the total lesion area, with the remainder $1 - f$ showing lesser changes or normal epithelium. An incisional biopsy samples a small area whose location within the lesion can be considered uniformly random, and the sampling sites for repeated incisional biopsies are assumed independent due to sufficient spatial separation and randomization by the clinician. Detection of severe dysplasia occurs if at least one biopsy samples from the dysplastic subregion.\n\nStarting from the core definitions of probability and independence, derive an expression for the probability $P$ of detecting severe dysplasia with $k$ independent incisional biopsies under the area-fraction model described above. Then, for $f = 0.25$ and $k = 4$, compute the numeric value of $P$ implied by your derived expression. Round your final numeric answer to four significant figures and express it as a decimal. Briefly state the implications of your result for incisional biopsy sampling strategy in OPMD, specifically for leukoplakia and erythroplakia.",
            "solution": "This problem requires the derivation of a probability formula and a subsequent calculation based on a simple area-fraction model for biopsy sampling.\n\n**1. Derivation of the Detection Probability**\n\nLet $f$ be the fraction of the lesion's area that contains severe dysplasia. Under the assumption of uniform random sampling, the probability that a single incisional biopsy will sample from this dysplastic area is $f$.\n\nThe complementary event—that a single biopsy *misses* the dysplastic area—has a probability of $1-f$.\n\nThe problem states that $k$ independent biopsies are taken. Severe dysplasia is detected if *at least one* of these biopsies hits the target area. It is easier to first calculate the probability of the complementary event: that *all $k$ biopsies miss* the dysplastic area.\n\nBecause the biopsies are independent, the probability of all $k$ of them missing is the product of their individual probabilities:\n$$ P(\\text{all } k \\text{ miss}) = (1-f) \\times (1-f) \\times \\dots \\times (1-f) = (1-f)^k $$\nThe probability of detection, $P$, is the probability of the event that at least one biopsy hits. This is the complement of all biopsies missing. Therefore:\n$$ P(\\text{detection}) = 1 - P(\\text{all } k \\text{ miss}) $$\n$$ P = 1 - (1-f)^k $$\nThis is the required general expression.\n\n**2. Numerical Calculation**\n\nWe are given $f = 0.25$ and $k = 4$. Substituting these values into our derived formula:\n$$ P = 1 - (1 - 0.25)^4 $$\n$$ P = 1 - (0.75)^4 $$\n$$ P = 1 - 0.31640625 $$\n$$ P = 0.68359375 $$\nRounding to four significant figures, we get $P = 0.6836$.\n\n**3. Implications for Biopsy Strategy**\n\nThe result indicates that even with four biopsies of a lesion where $25\\%$ of the area is severely dysplastic, there is a substantial risk of approximately $1 - 0.6836 = 0.3164$, or about a $31.6\\%$, of completely missing the high-grade area and obtaining a false-negative result. This highlights the critical importance of taking multiple, spatially distinct biopsies from large or clinically heterogeneous OPMDs to minimize sampling error. A single negative biopsy from a high-risk lesion or patient is not sufficient to rule out severe dysplasia or carcinoma.",
            "answer": "$$\n\\boxed{0.6836}\n$$"
        },
        {
            "introduction": "Leukoplakia and erythroplakia are dynamic conditions that evolve over time. To understand their long-term prognosis and the potential for malignant transformation, we can use stochastic models to simulate disease progression. This practice  introduces the Markov chain as a tool for modeling these annual transitions between different states of disease severity, allowing you to project future outcomes and perform sensitivity analyses on key risk parameters.",
            "id": "4744688",
            "problem": "You are to construct and analyze a discrete-time Markov chain that captures annual transitions in oral potentially malignant disorders (OPMDs), focusing on leukoplakia and erythroplakia. The state space is $\\{\\text{no transformation}, \\text{dysplasia stable}, \\text{progressed}, \\text{cancer}\\}$, and the model evolves in $1$-year steps over $5$ years. Your program must compute, for each specified test case, the probability that an individual is in the $\\text{cancer}$ state at year $5$.\n\nStart from the following foundational bases:\n- Definition of a discrete-time Markov chain: a sequence of states where the probability of transitioning to the next state depends only on the current state via a row-stochastic transition matrix.\n- Clinical facts about oral potentially malignant disorders: leukoplakia and erythroplakia are lesions with varying risks of dysplastic progression and malignant transformation; once cancer occurs, it is considered absorbing over short annual horizons.\n\nModeling requirements:\n- Let the transition matrix be $P$, with entries $P_{ij}$ representing the probability of moving from state $i$ to state $j$ in one year. Each row must sum to $1$, and all entries must be in the interval $[0,1]$.\n- The $\\text{cancer}$ state is absorbing, represented by the last row $[0,0,0,1]$.\n- The state distribution after $n$ years is the initial distribution vector multiplied by the $n$-fold matrix product of $P$.\n- Sensitivity tests must change a single entry $P_{ij}$ in a specified row and then renormalize the remaining entries in that row proportionally so that the row remains stochastic. If the original row is $r = (r_1, r_2, r_3, r_4)$ and we edit index $j$ to a new value $\\tilde{r}_j$ with $0 \\le \\tilde{r}_j \\le 1$, compute the scaling factor $$\\alpha = \\frac{1 - \\tilde{r}_j}{1 - r_j}$$ and set, for $k \\ne j$, $$\\tilde{r}_k = \\alpha \\, r_k.$$ This preserves non-negativity and the unit row sum provided $\\tilde{r}_j \\in [0,1]$.\n\nSimulation requirements:\n- Use annual cycles of length $1$ year for a total of $5$ years (answer in units of years).\n- Express all probabilities as decimals in $[0,1]$.\n- For each test case, compute the probability of being in the $\\text{cancer}$ state after $5$ years, rounded to $6$ decimal places.\n\nTest suite:\nFor all matrices, the state order is $\\{\\text{no transformation}, \\text{dysplasia stable}, \\text{progressed}, \\text{cancer}\\}$. Initial distributions are row vectors.\n\n- Test case $1$ (leukoplakia baseline):\n  - Initial distribution $v_0 = [1,0,0,0]$.\n  - Transition matrix\n    $$P_{\\text{LP}} = \\begin{bmatrix}\n    0.88 & 0.08 & 0.03 & 0.01 \\\\\n    0.05 & 0.80 & 0.10 & 0.05 \\\\\n    0.01 & 0.09 & 0.83 & 0.07 \\\\\n    0 & 0 & 0 & 1\n    \\end{bmatrix}.$$\n- Test case $2$ (erythroplakia baseline):\n  - Initial distribution $v_0 = [1,0,0,0]$.\n  - Transition matrix\n    $$P_{\\text{EP}} = \\begin{bmatrix}\n    0.80 & 0.10 & 0.07 & 0.03 \\\\\n    0.03 & 0.72 & 0.15 & 0.10 \\\\\n    0.005 & 0.05 & 0.80 & 0.145 \\\\\n    0 & 0 & 0 & 1\n    \\end{bmatrix}.$$\n- Test case $3$ (leukoplakia sensitivity: increased progression-to-cancer):\n  - Start from $P_{\\text{LP}}$ and increase the entry in the $\\text{progressed} \\to \\text{cancer}$ position (row index $2$, column index $3$) by $+0.05$. Let the new value be $\\tilde{P}_{2,3} = P_{2,3} + 0.05$. Renormalize the rest of row $2$ using the proportional scheme above. Use initial distribution $v_0 = [1,0,0,0]$.\n- Test case $4$ (erythroplakia sensitivity: decreased progression-to-cancer):\n  - Start from $P_{\\text{EP}}$ and decrease the entry in the $\\text{progressed} \\to \\text{cancer}$ position (row index $2$, column index $3$) by $-0.04$. Let the new value be $\\tilde{P}_{2,3} = P_{2,3} - 0.04$. Renormalize the rest of row $2$ using the proportional scheme above. Use initial distribution $v_0 = [1,0,0,0]$.\n- Test case $5$ (edge initial condition: already progressed, erythroplakia baseline):\n  - Initial distribution $v_0 = [0,0,1,0]$.\n  - Transition matrix $P_{\\text{EP}}$ as above.\n\nOutput specification:\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, for example, $[\\text{result}_1,\\text{result}_2,\\dots,\\text{result}_5]$.\n- Each $\\text{result}_i$ is the probability (decimal) of being in the $\\text{cancer}$ state at year $5$, rounded to $6$ decimal places, for test case $i$ in the order listed above.",
            "solution": "The problem requires computing the probability of being in an absorbing 'cancer' state after 5 years, based on a discrete-time Markov chain model. The state distribution vector at year $n$, denoted $v_n$, is calculated by the formula $v_n = v_0 P^n$, where $v_0$ is the initial distribution and $P$ is the one-year transition matrix. The target probability is the fourth component of the vector $v_5$. The calculations involve matrix exponentiation and, for the sensitivity analyses, modification and renormalization of the transition matrix as specified.\n\n**Test Case 1: Leukoplakia Baseline**\nThe initial state is 'no transformation' ($v_0 = [1, 0, 0, 0]$). We compute $v_5 = v_0 P_{\\text{LP}}^5$ and extract the fourth component.\n\n**Test Case 2: Erythroplakia Baseline**\nThe initial state is 'no transformation' ($v_0 = [1, 0, 0, 0]$). We compute $v_5 = v_0 P_{\\text{EP}}^5$ and extract the fourth component.\n\n**Test Case 3: Leukoplakia Sensitivity Analysis**\nWe start with $P_{\\text{LP}}$. The transition probability from 'progressed' to 'cancer' ($P_{2,3}$) is increased from $0.07$ to $0.12$. The other elements in row 2 ($P_{2,0}, P_{2,1}, P_{2,2}$) are rescaled proportionally to maintain a row sum of 1. A new matrix $\\tilde{P}_{\\text{LP}}$ is formed. We then compute $v_5 = [1, 0, 0, 0] \\tilde{P}_{\\text{LP}}^5$ and extract the fourth component.\n\n**Test Case 4: Erythroplakia Sensitivity Analysis**\nWe start with $P_{\\text{EP}}$. The transition probability from 'progressed' to 'cancer' ($P_{2,3}$) is decreased from $0.145$ to $0.105$. The other elements in row 2 are rescaled. A new matrix $\\tilde{P}_{\\text{EP}}$ is formed. We then compute $v_5 = [1, 0, 0, 0] \\tilde{P}_{\\text{EP}}^5$ and extract the fourth component.\n\n**Test Case 5: Edge Initial Condition**\nThe initial state is 'progressed' ($v_0 = [0, 0, 1, 0]$). We use the baseline $P_{\\text{EP}}$ matrix, compute $v_5 = v_0 P_{\\text{EP}}^5$, and extract the fourth component.\n\nThe provided Python program implements these calculations using `numpy` for matrix operations, correctly applies the renormalization rule for the sensitivity tests, and outputs the final probabilities rounded to six decimal places as required.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes the probability of being in the 'cancer' state after 5 years\n    for five different scenarios involving oral potentially malignant disorders.\n    \"\"\"\n\n    # Define the baseline transition matrices as NumPy arrays.\n    # State order: {no transformation, dysplasia stable, progressed, cancer}\n    P_LP = np.array([\n        [0.88, 0.08, 0.03, 0.01],\n        [0.05, 0.80, 0.10, 0.05],\n        [0.01, 0.09, 0.83, 0.07],\n        [0.0,  0.0,  0.0,  1.0]\n    ])\n\n    P_EP = np.array([\n        [0.80, 0.10, 0.07, 0.03],\n        [0.03, 0.72, 0.15, 0.10],\n        [0.005, 0.05, 0.80, 0.145],\n        [0.0,  0.0,  0.0,  1.0]\n    ])\n    \n    # Store results for each test case\n    results = []\n    \n    # --- Test Case 1: Leukoplakia baseline ---\n    v0_case1 = np.array([1.0, 0.0, 0.0, 0.0])\n    v5_case1 = v0_case1 @ np.linalg.matrix_power(P_LP, 5)\n    result1 = round(v5_case1[3], 6)\n    results.append(result1)\n\n    # --- Test Case 2: Erythroplakia baseline ---\n    v0_case2 = np.array([1.0, 0.0, 0.0, 0.0])\n    v5_case2 = v0_case2 @ np.linalg.matrix_power(P_EP, 5)\n    result2 = round(v5_case2[3], 6)\n    results.append(result2)\n\n    # --- Test Case 3: Leukoplakia sensitivity ---\n    P_LP_mod = P_LP.copy()\n    row_idx = 2  # Row to modify ('progressed' state)\n    col_idx = 3  # Column to modify ('cancer' state)\n    \n    r = P_LP_mod[row_idx, :].copy()\n    r_j = r[col_idx]\n    r_j_tilde = r_j + 0.05\n    \n    alpha = (1.0 - r_j_tilde) / (1.0 - r_j)\n    \n    new_row = np.zeros_like(r)\n    new_row[col_idx] = r_j_tilde\n    for k in range(len(r)):\n        if k != col_idx:\n            new_row[k] = alpha * r[k]\n    \n    P_LP_mod[row_idx, :] = new_row\n    \n    v0_case3 = np.array([1.0, 0.0, 0.0, 0.0])\n    v5_case3 = v0_case3 @ np.linalg.matrix_power(P_LP_mod, 5)\n    result3 = round(v5_case3[3], 6)\n    results.append(result3)\n\n    # --- Test Case 4: Erythroplakia sensitivity ---\n    P_EP_mod = P_EP.copy()\n    row_idx = 2\n    col_idx = 3\n\n    r = P_EP_mod[row_idx, :].copy()\n    r_j = r[col_idx]\n    r_j_tilde = r_j - 0.04\n    \n    alpha = (1.0 - r_j_tilde) / (1.0 - r_j)\n    \n    new_row = np.zeros_like(r)\n    new_row[col_idx] = r_j_tilde\n    for k in range(len(r)):\n        if k != col_idx:\n            new_row[k] = alpha * r[k]\n      \n    P_EP_mod[row_idx, :] = new_row\n    \n    v0_case4 = np.array([1.0, 0.0, 0.0, 0.0])\n    v5_case4 = v0_case4 @ np.linalg.matrix_power(P_EP_mod, 5)\n    result4 = round(v5_case4[3], 6)\n    results.append(result4)\n\n    # --- Test Case 5: Edge initial condition, erythroplakia baseline ---\n    v0_case5 = np.array([0.0, 0.0, 1.0, 0.0])\n    v5_case5 = v0_case5 @ np.linalg.matrix_power(P_EP, 5)\n    result5 = round(v5_case5[3], 6)\n    results.append(result5)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(f'{r:.6f}' for r in results)}]\")\n\nsolve()\n```"
        }
    ]
}