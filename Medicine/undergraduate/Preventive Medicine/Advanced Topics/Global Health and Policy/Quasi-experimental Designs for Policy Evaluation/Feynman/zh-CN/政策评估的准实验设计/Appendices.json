{
    "hands_on_practices": [
        {
            "introduction": "双重差分法（Difference-in-Differences, DID）是政策评估中最核心的工具之一。本练习将带你亲手计算一个经典的DID估计量，通过比较政策实施前后处理组与控制组结果的变化，来量化一项公共卫生干预措施的净效应。这个实践旨在帮助你掌握DID方法的基本逻辑和计算步骤 ()。",
            "id": "4566513",
            "problem": "一个区域公共卫生主管机构在 $t=\\text{post}$ 年实施了一项新的预防性政策：为高风险成年人提供免费的社区流感疫苗接种诊所。一个相邻地区未实施此政策，作为对照。令 $g \\in \\{\\text{treated}, \\text{control}\\}$ 表示组别（处理区域或对照区域），令 $t \\in \\{\\text{pre}, \\text{post}\\}$ 表示时期（政策前或政策后）。将潜在结果 $Y_{gt}(1)$ 定义为，如果在时间 $t$ 对组别 $g$ 实施政策，将会观察到的流感相关住院率（每 $100{,}000$ 人），将 $Y_{gt}(0)$ 定义为不实施政策时的住院率。假设稳定单位处理值假设 (SUTVA) 成立，并且对于未经处理的潜在结果，平行趋势条件也成立，即对于 $g=\\text{treated}$ 和 $g=\\text{control}$，从未处理的潜在结果 $Y_{gt}(0)$ 从 $t=\\text{pre}$ 到 $t=\\text{post}$ 的预期变化是相同的。在这些前提下，使用观察到的分组-时间平均住院率和因果识别的逻辑，推导对处理组的平均处理效应的双重差分 (DID) 估计量 $\\hat{\\tau}_{\\text{DID}}$ 的表达式，然后计算其数值。\n\n观察到的平均流感相关住院率（每 $100{,}000$ 人）如下：\n- 处理区域，政策前：$22.4$\n- 处理区域，政策后：$16.1$\n- 对照区域，政策前：$20.7$\n- 对照区域，政策后：$19.8$\n\n仅使用这些分组均值计算 $\\hat{\\tau}_{\\text{DID}}$，并根据估计值的符号简要说明该政策是增加还是减少了住院率。将效应表示为每 $100{,}000$ 人中的住院人数。将最终数值答案四舍五入到三位有效数字。",
            "solution": "该问题要求推导和计算针对处理组的平均处理效应 (ATT) 的双重差分 (DID) 估计量。该分析基于一个准实验设计，涉及一个处理组和一个对照组，在政策干预前后进行观察。\n\n首先，我们定义关注的参数。对处理组的平均处理效应 (ATT) 是政策对实际接受处理的组别 ($g=\\text{treated}$) 在接受处理的时期 ($t=\\text{post}$) 的预期效应。使用潜在结果框架，ATT (记为 $\\tau_{\\text{ATT}}$) 定义为在政策后时期，处理组在接受处理下的预期潜在结果与未接受处理下的预期潜在结果之间的差异：\n$$\n\\tau_{\\text{ATT}} = E[Y_{\\text{treated, post}}(1) - Y_{\\text{treated, post}}(0)]\n$$\n此处，$Y_{\\text{treated, post}}(1)$ 是处理组在政策后时期实施政策时的潜在结果，$Y_{\\text{treated, post}}(0)$ 是同一组别和时期未实施政策时的潜在结果。\n\n估计 $\\tau_{\\text{ATT}}$ 的核心挑战在于 $E[Y_{\\text{treated, post}}(0)]$ 项代表了一个反事实状态；我们无法观察到如果处理组在政策后时期没有接受处理，会发生什么情况。DID 方法允许我们使用现有数据和一个关键假设来估计这个反事实量。\n\n观察到的结果与潜在结果的关系如下：\n- 对于处理组在政策后时期：$E[\\bar{Y}_{\\text{treated, post}}] = E[Y_{\\text{treated, post}}(1)]$。\n- 对于处理组在政策前时期（无政策）：$E[\\bar{Y}_{\\text{treated, pre}}] = E[Y_{\\text{treated, pre}}(0)]$。\n- 对于对照组在政策后时期（无政策）：$E[\\bar{Y}_{\\text{control, post}}] = E[Y_{\\text{control, post}}(0)]$。\n- 对于对照组在政策前时期（无政策）：$E[\\bar{Y}_{\\text{control, pre}}] = E[Y_{\\text{control, pre}}(0)]$。\n\n问题陈述中要求假设平行趋势条件对未经处理的潜在结果成立。这一假设假定，在没有政策干预的情况下，从政策前时期到政策后时期，处理组和对照组的结果预期变化是相同的。用数学方式表达为：\n$$\nE[Y_{\\text{treated, post}}(0) - Y_{\\text{treated, pre}}(0)] = E[Y_{\\text{control, post}}(0) - Y_{\\text{control, pre}}(0)]\n$$\n我们可以重新整理这个方程，以求解不可观察的反事实项 $E[Y_{\\text{treated, post}}(0)]$：\n$$\nE[Y_{\\text{treated, post}}(0)] = E[Y_{\\text{treated, pre}}(0)] + E[Y_{\\text{control, post}}(0)] - E[Y_{\\text{control, pre}}(0)]\n$$\n这个方程为处理组在政策后时期未接受处理时的预期结果提供了一个表达式。它由处理组的基线水平 ($E[Y_{\\text{treated, pre}}(0)]$) 加上在对照组中观察到的长期趋势 ($E[Y_{\\text{control, post}}(0)] - E[Y_{\\text{control, pre}}(0)]$) 构建而成。\n\n现在，我们将这个反事实的表达式代回到 $\\tau_{\\text{ATT}}$ 的定义中：\n$$\n\\tau_{\\text{ATT}} = E[Y_{\\text{treated, post}}(1)] - \\left( E[Y_{\\text{treated, pre}}(0)] + E[Y_{\\text{control, post}}(0)] - E[Y_{\\text{control, pre}}(0)] \\right)\n$$\nDID 估计量 $\\hat{\\tau}_{\\text{DID}}$ 是该表达式的样本类比，我们将期望值替换为观察到的样本均值，记为 $\\bar{Y}_{gt}$：\n$$\n\\hat{\\tau}_{\\text{DID}} = \\bar{Y}_{\\text{treated, post}} - \\left( \\bar{Y}_{\\text{treated, pre}} + \\bar{Y}_{\\text{control, post}} - \\bar{Y}_{\\text{control, pre}} \\right)\n$$\n重新整理这些项，得到 DID 估计量的标准公式：\n$$\n\\hat{\\tau}_{\\text{DID}} = (\\bar{Y}_{\\text{treated, post}} - \\bar{Y}_{\\text{treated, pre}}) - (\\bar{Y}_{\\text{control, post}} - \\bar{Y}_{\\text{control, pre}})\n$$\n这个表达式代表了处理组随时间的变化减去对照组随时间的变化。\n\n我们现在使用提供的数据计算其数值：\n- 处理区域，政策前 ($\\bar{Y}_{\\text{treated, pre}}$)：$22.4$\n- 处理区域，政策后 ($\\bar{Y}_{\\text{treated, post}}$)：$16.1$\n- 对照区域，政策前 ($\\bar{Y}_{\\text{control, pre}}$)：$20.7$\n- 对照区域，政策后 ($\\bar{Y}_{\\text{control, post}}$)：$19.8$\n\n首先，计算处理组住院率的变化：\n$$\n\\Delta_{\\text{treated}} = \\bar{Y}_{\\text{treated, post}} - \\bar{Y}_{\\text{treated, pre}} = 16.1 - 22.4 = -6.3\n$$\n接下来，计算对照组住院率的变化。这代表了在没有政策干预的情况下会影响两组的长期趋势。\n$$\n\\Delta_{\\text{control}} = \\bar{Y}_{\\text{control, post}} - \\bar{Y}_{\\text{control, pre}} = 19.8 - 20.7 = -0.9\n$$\n最后，通过从处理组的变化中减去对照组的变化来计算 DID 估计量：\n$$\n\\hat{\\tau}_{\\text{DID}} = \\Delta_{\\text{treated}} - \\Delta_{\\text{control}} = (-6.3) - (-0.9) = -6.3 + 0.9 = -5.4\n$$\n题目要求答案四舍五入到三位有效数字。结果为 $-5.40$。负号表示根据估计，该政策导致了流感相关住院率的下降。根据此模型，效应的大小是处理区域每 $100{,}000$ 人口的住院人数减少了 $5.40$ 人，这与没有该政策时期的预期情况相比。",
            "answer": "$$\n\\boxed{-5.40}\n$$"
        },
        {
            "introduction": "当政策或干预是基于某个清晰的“断点”（如分数线、年龄门槛）来分配时，断点回归设计（Regression Discontinuity, RD）便成为一种极其强大的评估工具。本练习聚焦于一种更贴近现实的“模糊”断点回归情景，你将学习如何利用断点两侧结果和处理概率的跳跃来估计局部平均处理效应（Local Average Treatment Effect, LATE）。通过这个练习，你将理解RD设计如何利用政策规则本身来识别因果效应 ()。",
            "id": "4566461",
            "problem": "某区域卫生系统实施了一项旨在预防肥胖的生活方式咨询项目，该项目由身体质量指数（BMI）的阈值规则触发。具体而言，基线BMI作为运行变量 $X$ 等于或高于临界值 $c = 30$ 的患者会被标记以接受咨询，但参与度不完美，一些低于临界值的患者也接受了咨询。研究人员计划使用模糊回归断点（fuzzy Regression Discontinuity, RD）设计来识别在临界值处的局部平均处理效应（Local Average Treatment Effect, LATE）。\n\n设 $D$ 为基线后第一季度接受咨询的指示变量，设 $Y$ 为十二个月后的BMI。研究团队使用带有三角核和数据驱动带宽的局部线性回归，估计了在临界值 $c = 30$ 处 $Y$ 和 $D$ 的条件期望的右极限和左极限。他们报告如下：\n- $Y$ 的估计右极限：$\\lim_{x \\to 30^{+}} \\mathbb{E}[Y \\mid X = x] = 29.91$。\n- $Y$ 的估计左极限：$\\lim_{x \\to 30^{-}} \\mathbb{E}[Y \\mid X = x] = 30.12$。\n- $D$ 的估计右极限：$\\lim_{x \\to 30^{+}} \\mathbb{E}[D \\mid X = x] = 0.61$。\n- $D$ 的估计左极限：$\\lim_{x \\to 30^{-}} \\mathbb{E}[D \\mid X = x] = 0.19$。\n\n假设标准的模糊RD识别条件在临界值处成立：潜在结果在 $X=c$ 处连续，在 $X=c$ 处不存在对 $X$ 的精确操纵，以及处理接受在运行变量上是单调的（无“反抗者”）。仅使用这些估计值和核心的RD识别逻辑，计算在临界值处咨询对十二个月后BMI的局部平均处理效应。答案以BMI单位表示，并四舍五入到三位有效数字。然后，用一句话简要解释这个局部效应对于在临界值处基于BMI的咨询项目意味着什么。",
            "solution": "目标是在模糊回归断点（fuzzy Regression Discontinuity, RD）框架下，识别对于在阈值 $X = c$ 处的个体，咨询对十二个月后身体质量指数（BMI）的因果效应。这一识别的基本基础是潜在结果模型和在临界值处的连续性假设，再结合处理接受在第一阶段存在断点。\n\n设 $Y(1)$ 和 $Y(0)$ 分别表示接受咨询和未接受咨询的潜在十二个月后BMI结果。观测到的结果满足\n$$\nY = Y(0) + D \\cdot \\big(Y(1) - Y(0)\\big).\n$$\n对运行变量 $X = x$ 取条件期望，得到\n$$\n\\mathbb{E}[Y \\mid X = x] = \\mathbb{E}[Y(0) \\mid X = x] + \\mathbb{E}[D \\cdot (Y(1) - Y(0)) \\mid X = x].\n$$\n在标准的模糊RD假设下：\n- 函数 $\\mathbb{E}[Y(0) \\mid X = x]$ 和 $\\mathbb{E}[Y(1) \\mid X = x]$ 在 $x = c$ 处是连续的。\n- 由于阈值规则，处理概率 $\\mathbb{E}[D \\mid X = x]$ 在 $x = c$ 处存在断点。\n- 单调性（无“反抗者”）确保了在临界值处改变处理状态的个体是“遵从者”。\n\n在 $x = c$ 处取右极限和左极限的差值，并利用潜在结果的连续性，我们得到观测结果的断点可归因于处理概率的断点乘以在临界值处“遵从者”的平均因果效应。这就得到了Wald估计量：\n$$\n\\text{LATE at } c \\;=\\; \\frac{\\lim_{x \\to c^{+}} \\mathbb{E}[Y \\mid X = x] - \\lim_{x \\to c^{-}} \\mathbb{E}[Y \\mid X = x]}{\\lim_{x \\to c^{+}} \\mathbb{E}[D \\mid X = x] - \\lim_{x \\to c^{-}} \\mathbb{E}[D \\mid X = x]}.\n$$\n\n现在我们代入在 $c=30$ 处提供的估计值：\n- 结果断点：\n$$\n\\Delta Y \\equiv \\lim_{x \\to 30^{+}} \\mathbb{E}[Y \\mid X = x] - \\lim_{x \\to 30^{-}} \\mathbb{E}[Y \\mid X = x] = 29.91 - 30.12 = -0.21.\n$$\n- 处理断点：\n$$\n\\Delta D \\equiv \\lim_{x \\to 30^{+}} \\mathbb{E}[D \\mid X = x] - \\lim_{x \\to 30^{-}} \\mathbb{E}[D \\mid X = x] = 0.61 - 0.19 = 0.42.\n$$\n\n因此，在临界值处的局部平均处理效应是\n$$\n\\text{LATE} = \\frac{\\Delta Y}{\\Delta D} = \\frac{-0.21}{0.42} = -0.5.\n$$\n\n四舍五入到三位有效数字，得到-0.500 BMI单位。\n\n解释：在那些处理状态受到跨越BMI为30的阈值影响的患者中（即“遵从者”），接受咨询使得十二个月后的BMI在临界值附近平均降低了约0.5个单位。",
            "answer": "$$\\boxed{-0.500}$$"
        }
    ]
}