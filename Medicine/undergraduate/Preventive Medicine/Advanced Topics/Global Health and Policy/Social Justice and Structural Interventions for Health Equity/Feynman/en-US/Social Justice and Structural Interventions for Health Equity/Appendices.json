{
    "hands_on_practices": [
        {
            "introduction": "This exercise introduces a foundational tool for quantifying structural inequality: the residential dissimilarity index. By calculating this index for a hypothetical city, you will gain a practical understanding of how segregation is measured and why it is a critical structural determinant of health. This skill is essential for diagnosing the extent of spatial inequities that can lead to differential access to health-promoting resources like preventive care .",
            "id": "4576487",
            "problem": "A city is partitioned into five census tracts. Two socio-demographic groups, denoted by $A$ and $B$, are distributed across these tracts with counts $\\{a_{i}\\}$ and $\\{b_{i}\\}$, respectively, where $i$ indexes tracts. Let $A=\\sum_{i} a_{i}$ and $B=\\sum_{i} b_{i}$ denote the total counts of the two groups citywide. The residential dissimilarity index is a widely used measure of unevenness that can be interpreted as the minimal fraction of one group that would need to relocate across tracts for the two groups to have identical tract-level shares. Starting from the fundamental definitions of tract-level normalized shares $p_{i}=a_{i}/A$ and $q_{i}=b_{i}/B$ and the concept of minimal mass transfer needed to equalize distributions, derive an analytic expression for the residential dissimilarity index in terms of $\\{p_{i}\\}$ and $\\{q_{i}\\}$. Then compute its value for the following tract data:\n- Tract $1$: $a_{1}=1200$, $b_{1}=300$.\n- Tract $2$: $a_{2}=800$, $b_{2}=700$.\n- Tract $3$: $a_{3}=300$, $b_{3}=900$.\n- Tract $4$: $a_{4}=200$, $b_{4}=500$.\n- Tract $5$: $a_{5}=500$, $b_{5}=100$.\n\nFinally, explain concisely how the magnitude of this index relates to differential access to preventive services (for example, influenza vaccination, blood pressure screening, or cancer screening) when service sites are spatially allocated in proportion to total population across tracts.\n\nReport the numerical value of the index as a decimal number with no units, and round your answer to four significant figures. Do not express the answer as a percentage; provide a decimal or a fraction only.",
            "solution": "### Derivation and Calculation\n\nThe residential dissimilarity index, $D$, measures the degree to which two groups are segregated from each other across different geographic areas (tracts). It can be interpreted as the proportion of one group's population that would have to move to different tracts to achieve an even distribution, identical to that of the other group.\n\nThe most common formula for the dissimilarity index is:\n$$D = \\frac{1}{2} \\sum_{i=1}^{N} \\left| \\frac{a_i}{A} - \\frac{b_i}{B} \\right|$$\nwhere:\n- $a_i$ and $b_i$ are the populations of group A and group B in tract $i$.\n- $A$ and $B$ are the total populations of group A and group B in the city.\n- $N$ is the total number of tracts.\n\nFirst, we compute the total citywide populations for groups A and B.\n$$A = \\sum_{i=1}^{5} a_i = 1200 + 800 + 300 + 200 + 500 = 3000$$\n$$B = \\sum_{i=1}^{5} b_i = 300 + 700 + 900 + 500 + 100 = 2500$$\n\nNext, we calculate the shares $p_i = a_i/A$ and $q_i = b_i/B$ for each of the $5$ tracts and find the absolute difference.\n- **Tract 1:** $|\\frac{1200}{3000} - \\frac{300}{2500}| = |0.400 - 0.120| = 0.280$\n- **Tract 2:** $|\\frac{800}{3000} - \\frac{700}{2500}| = |0.2667 - 0.280| \\approx 0.0133$\n- **Tract 3:** $|\\frac{300}{3000} - \\frac{900}{2500}| = |0.100 - 0.360| = 0.260$\n- **Tract 4:** $|\\frac{200}{3000} - \\frac{500}{2500}| = |0.0667 - 0.200| \\approx 0.1333$\n- **Tract 5:** $|\\frac{500}{3000} - \\frac{100}{2500}| = |0.1667 - 0.040| \\approx 0.1267$\n\nTo avoid rounding errors, we use fractions:\n- **Tract 1:** $|\\frac{2}{5} - \\frac{3}{25}| = |\\frac{10}{25} - \\frac{3}{25}| = \\frac{7}{25}$\n- **Tract 2:** $|\\frac{4}{15} - \\frac{7}{25}| = |\\frac{20}{75} - \\frac{21}{75}| = \\frac{1}{75}$\n- **Tract 3:** $|\\frac{1}{10} - \\frac{9}{25}| = |\\frac{5}{50} - \\frac{18}{50}| = \\frac{13}{50}$\n- **Tract 4:** $|\\frac{1}{15} - \\frac{1}{5}| = |\\frac{1}{15} - \\frac{3}{15}| = \\frac{2}{15}$\n- **Tract 5:** $|\\frac{1}{6} - \\frac{1}{25}| = |\\frac{25}{150} - \\frac{6}{150}| = \\frac{19}{150}$\n\nNow, we sum these absolute differences. Using a common denominator of $150$:\n$$ \\sum_{i=1}^{5} |p_i - q_i| = \\frac{7}{25} + \\frac{1}{75} + \\frac{13}{50} + \\frac{2}{15} + \\frac{19}{150} $$\n$$ = \\frac{42}{150} + \\frac{2}{150} + \\frac{39}{150} + \\frac{20}{150} + \\frac{19}{150} = \\frac{42+2+39+20+19}{150} = \\frac{122}{150} = \\frac{61}{75} $$\n\nFinally, we compute the index $D$:\n$$D = \\frac{1}{2} \\sum_{i=1}^{5} |p_i - q_i| = \\frac{1}{2} \\left(\\frac{61}{75}\\right) = \\frac{61}{150} \\approx 0.40666...$$\nRounding to four significant figures, we get $0.4067$.\n\n### Relation to Access to Preventive Services\nA high value of the dissimilarity index, such as the calculated $D \\approx 0.4067$, indicates a high degree of residential segregation. When preventive service sites are allocated in proportion to the total population of each tract ($T_i = a_i + b_i$), the spatial distribution of services may not align with the spatial distribution of a specific group, particularly if that group is residentially segregated. A high index value implies that the distributions of group A, $\\{p_i\\}$, and group B, $\\{q_i\\}$, are substantially different from each other. At least one of these distributions (and likely both) must also differ from the distribution of the total population, which dictates the allocation of services. This spatial mismatch means that members of a segregated group may live predominantly in tracts that receive a smaller share of services than would be proportional to that group's population in those tracts, creating a structural barrier to access. Therefore, a higher dissimilarity index quantifies a structural condition that can lead to inequities in access to spatially-dependent resources like preventive health services.",
            "answer": "$$\n\\boxed{0.4067}\n$$"
        },
        {
            "introduction": "Evaluating the real-world impact of a structural intervention is a core task in public health, and the Difference-in-Differences (DiD) method is a powerful quasi-experimental tool for this purpose. This practice will guide you through calculating the effect of an affordable housing intervention on health outcomes, providing you with hands-on experience in causal inference. Mastering the DiD estimator and its underlying parallel trends assumption is crucial for anyone seeking to produce credible evidence on what works to advance health equity .",
            "id": "4576430",
            "problem": "A metropolitan health department implements a structural intervention to advance health equity: a rapid expansion of permanently affordable housing paired with onsite primary care and social services in historically under-resourced neighborhoods. The goal is to reduce preventable hospitalizations for Ambulatory Care Sensitive Conditions (ACSC; conditions for which effective outpatient care can prevent complications or hospitalizations). Using matched comparison neighborhoods that did not receive the intervention, the department plans to estimate the average effect of the intervention on the ACSC hospitalization rate using Difference in Differences (DiD).\n\nAssume two groups (treated and control) and two time periods (pre-intervention and post-intervention). Let $Y_{t,g}$ denote the average annual ACSC hospitalization rate per $1{,}000$ adults for time $t \\in \\{\\text{pre}, \\text{post}\\}$ and group $g \\in \\{\\text{treated}, \\text{control}\\}$. The observed averages are:\n- Treated group, pre-intervention: $Y_{\\text{pre},\\text{treated}} = 42.0$.\n- Treated group, post-intervention: $Y_{\\text{post},\\text{treated}} = 31.6$.\n- Control group, pre-intervention: $Y_{\\text{pre},\\text{control}} = 35.5$.\n- Control group, post-intervention: $Y_{\\text{post},\\text{control}} = 33.9$.\n\nStarting from the causal inference framework with potential outcomes and the common trends (parallel trends) assumption appropriate for a two-period, two-group design, derive the estimator for the average treatment effect on the treated, and compute its numerical value using the observed averages provided. Express the final effect size in units of events per $1{,}000$ adults. Round your numerical answer to three significant figures.\n\nThen, briefly explain how, in practice, you would test the parallel trends assumption using additional pre-intervention years of data. Your explanation should state the formal null hypothesis, a regression specification that isolates differential trends in the pre-intervention period only, and the qualitative graphical pattern that would support the assumption. Do not perform any statistical test; only provide the conceptual and formal approach.",
            "solution": "### Part 1: Derivation and Calculation of the ATT\n\nThe parameter of interest is the Average Treatment Effect on the Treated (ATT), defined as the expected effect of the treatment on the group that actually received it, in the post-intervention period:\n$$ATT = E[Y(1) - Y(0) | \\text{group}=\\text{treated}, \\text{time}=\\text{post}]$$\nHere, $Y(1)$ is the potential outcome with treatment and $Y(0)$ without. We can observe $E[Y(1) | \\text{group}=\\text{treated}, \\text{time}=\\text{post}]$, which is estimated by $Y_{\\text{post},\\text{treated}}$. The term $E[Y(0) | \\text{group}=\\text{treated}, \\text{time}=\\text{post}]$ is the unobservable counterfactual: what would have happened to the treated group if they had not received the treatment.\n\nThe **parallel trends assumption** allows us to estimate this counterfactual. It states that the average change in the outcome for the treated group would have been the same as the average change for the control group in the absence of treatment.\n$$E[Y(0)_{\\text{post}} - Y(0)_{\\text{pre}} | \\text{treated}] = E[Y(0)_{\\text{post}} - Y(0)_{\\text{pre}} | \\text{control}]$$\nWe can estimate the right-hand side using observed data for the control group: $Y_{\\text{post},\\text{control}} - Y_{\\text{pre},\\text{control}}$.\nWe can then estimate the counterfactual for the treated group as their pre-treatment outcome plus the change observed in the control group:\n$$\\widehat{E}[Y(0) | \\text{treated, post}] = Y_{\\text{pre},\\text{treated}} + (Y_{\\text{post},\\text{control}} - Y_{\\text{pre},\\text{control}})$$\nSubstituting this into the ATT formula gives the Difference-in-Differences (DiD) estimator:\n$$\\hat{\\delta}_{ATT} = Y_{\\text{post},\\text{treated}} - \\left[ Y_{\\text{pre},\\text{treated}} + (Y_{\\text{post},\\text{control}} - Y_{\\text{pre},\\text{control}}) \\right]$$\nRearranging the terms yields the standard formula:\n$$\\hat{\\delta}_{ATT} = (Y_{\\text{post},\\text{treated}} - Y_{\\text{pre},\\text{treated}}) - (Y_{\\text{post},\\text{control}} - Y_{\\text{pre},\\text{control}})$$\nThis estimator is the difference in the change in outcomes for the treated group, adjusted for the change in outcomes that occurred over the same period in the control group.\n\nNow, we compute the numerical value using the provided data:\n- Change in outcome for the treated group: $\\Delta Y_{\\text{treated}} = 31.6 - 42.0 = -10.4$\n- Change in outcome for the control group: $\\Delta Y_{\\text{control}} = 33.9 - 35.5 = -1.6$\n\nThe DiD estimate is the difference between these two changes:\n$$\\hat{\\delta}_{ATT} = \\Delta Y_{\\text{treated}} - \\Delta Y_{\\text{control}} = -10.4 - (-1.6) = -10.4 + 1.6 = -8.8$$\nThe problem requires the answer to be rounded to three significant figures, which is $-8.80$. The units are ACSC hospitalization events per $1{,}000$ adults. The negative sign indicates a reduction in the rate attributable to the intervention.\n\n### Part 2: Testing the Parallel Trends Assumption\n\nThe validity of the DiD estimator hinges on the parallel trends assumption. This assumption is not directly testable for the post-intervention period, but its plausibility can be assessed by examining trends in the pre-intervention period, provided data from multiple pre-intervention years are available.\n\n**Formal Null Hypothesis:** The trend in the outcome variable is the same for both the treatment and control groups during the pre-intervention period.\n\n**Regression Specification:** To formally test this, we use data *only* from the pre-intervention years and fit a model with an interaction term between the group indicator and a time trend variable:\n$$Y_{g,t} = \\beta_0 + \\beta_1 D_g + \\beta_2 t + \\beta_3 (D_g \\times t) + \\epsilon_{g, t}$$\nwhere:\n- $Y_{g,t}$ is the ACSC rate for group $g$ in pre-intervention time period $t$.\n- $D_g$ is the treatment group indicator ($1$ for treated group, $0$ for control).\n- $t$ is a continuous variable for time (e.g., year).\n- $D_g \\times t$ is the interaction term.\nThe coefficient of interest is $\\beta_3$, which measures the difference in trends between the two groups. The null hypothesis for the parallel trends test is $H_0: \\beta_3 = 0$. A failure to reject this null hypothesis (i.e., a non-significant p-value for $\\beta_3$) provides evidence supporting the parallel trends assumption.\n\n**Qualitative Graphical Pattern:** The graphical test involves plotting the average outcome ($Y_{g,t}$) against time ($t$) for both groups using all available pre-intervention data. If the parallel trends assumption holds, the two lines representing the two groups should be approximately parallel during this period. The lines do not need to be at the same level, but their slopes should be visually similar. This visual evidence complements the formal statistical test.",
            "answer": "$$\n\\boxed{-8.80}\n$$"
        },
        {
            "introduction": "Beyond simple before-and-after comparisons, rigorous policy evaluation requires isolating an intervention's effect from other influential factors. This problem demonstrates how to use multivariable linear regression to estimate the total effect of a paid sick leave ordinance while statistically controlling for key confounders like income and pollution. By working through the mechanics of Ordinary Least Squares (OLS), you will learn how to parse complex relationships and produce more robust estimates of a policy's true impact on population health .",
            "id": "4576504",
            "problem": "A preventive medicine team is evaluating the total effect of a structural policy, a municipal paid sick leave ordinance, on a population health outcome while accounting for social and environmental confounders. Let the outcome be the annual age-adjusted rate of preventable emergency department visits per $100{,}000$ population, denoted by $Y$. Consider the linear model\n$$\nY = \\alpha + \\beta P + \\gamma_1 X_1 + \\gamma_2 X_2 + \\epsilon,\n$$\nwhere $P$ is a binary indicator ($1$ if the city has adopted the policy, $0$ otherwise), $X_1$ is the standardized median household income (in $z$-score units), and $X_2$ is standardized fine particulate matter with aerodynamic diameter less than or equal to $2.5$ micrometers (PM$_{2.5}$) concentration (in $z$-score units). All variables $P$, $X_1$, $X_2$, and $Y$ have been mean-centered, and the intercept $\\alpha$ captures the grand mean. Assume that the data come from $n=200$ cities and that the linear model assumptions hold: linearity of conditional expectations, consistency, and conditional exchangeability given $X_1$ and $X_2$, together with strict exogeneity $E[\\epsilon \\mid P, X_1, X_2]=0$.\n\nYou are given the following empirically estimated second moments (since variables are mean-centered, these are sample covariances):\n- Predictor covariance matrix for confounders $X_1$ and $X_2$:\n$$\n\\Sigma_{XX} = \n\\begin{pmatrix}\n1.0 & 0.20 \\\\\n0.20 & 1.0\n\\end{pmatrix}.\n$$\n- Variance of the policy indicator:\n$$\ns_{PP} = 0.25.\n$$\n- Covariances between the policy and confounders:\n$$\ns_{PX_1} = 0.05,\\quad s_{PX_2} = -0.02.\n$$\n- Covariances with the outcome:\n$$\ns_{PY} = -1.8,\\quad s_{X_1Y} = -8.0,\\quad s_{X_2Y} = 3.0.\n$$\n\nStarting from the definitions of Ordinary Least Squares (OLS) and the normal equations for the linear model, compute the OLS estimate $\\hat{\\beta}$ for the policy effect that appropriately controls for $X_1$ and $X_2$. Then, interpret the sign and magnitude of $\\hat{\\beta}$ as the total policy effect on $Y$ under the stated causal identification assumptions.\n\nRound your final numerical answer for $\\hat{\\beta}$ to four significant figures. Express the interpretation in events per $100{,}000$ population. The final boxed answer must be the numerical value of $\\hat{\\beta}$ only (no units).",
            "solution": "The problem requires the calculation of the Ordinary Least Squares (OLS) estimate $\\hat{\\beta}$ for the effect of a paid sick leave policy ($P$) on preventable emergency department visits ($Y$), while controlling for median household income ($X_1$) and air pollution ($X_2$).\n\n### Theoretical Framework\nThe linear model is given by:\n$$ Y = \\alpha + \\beta P + \\gamma_1 X_1 + \\gamma_2 X_2 + \\epsilon $$\nSince all variables are mean-centered, the OLS estimate $\\hat{\\beta}$ can be found using the Frisch-Waugh-Lovell (FWL) theorem. This theorem states that the coefficient for $P$ in a multiple regression is equivalent to the coefficient from a simple regression of the residuals of $Y$ on the residuals of $P$, where both sets of residuals are obtained from regressing the original variables on the other covariates ($X_1$ and $X_2$).\n\nThis gives the formula:\n$$ \\hat{\\beta} = \\frac{\\text{cov}(\\tilde{P}, \\tilde{Y})}{\\text{var}(\\tilde{P})} $$\nwhere $\\text{var}(\\tilde{P})$ is the variance of the residuals from regressing $P$ on $X = (X_1, X_2)$, and $\\text{cov}(\\tilde{P}, \\tilde{Y})$ is the covariance of the residuals from regressing $P$ on $X$ and $Y$ on $X$. In terms of the given sample covariance matrix, these are calculated as:\n$$ \\text{var}(\\tilde{P}) = s_{PP} - s_{PX} \\Sigma_{XX}^{-1} s_{XP} $$\n$$ \\text{cov}(\\tilde{P}, \\tilde{Y}) = s_{PY} - s_{PX} \\Sigma_{XX}^{-1} s_{XY} $$\nwhere $s_{PX}$ is the row vector of covariances $[s_{PX_1}, s_{PX_2}]$, $s_{XP}$ is its transpose, and $s_{XY}$ is the column vector of covariances $[s_{X_1Y}, s_{X_2Y}]^T$.\n\n### Calculation of $\\hat{\\beta}$\nFirst, we compute the inverse of the confounder covariance matrix $\\Sigma_{XX}$:\n$$ \\Sigma_{XX} = \\begin{pmatrix} 1.0 & 0.20 \\\\ 0.20 & 1.0 \\end{pmatrix} \\implies \\Sigma_{XX}^{-1} = \\frac{1}{(1.0)(1.0) - (0.20)(0.20)} \\begin{pmatrix} 1.0 & -0.20 \\\\ -0.20 & 1.0 \\end{pmatrix} = \\frac{1}{0.96} \\begin{pmatrix} 1.0 & -0.20 \\\\ -0.20 & 1.0 \\end{pmatrix} $$\n\nNext, we calculate the residual variance of $P$, $\\text{var}(\\tilde{P})$. We are given $s_{PP}=0.25$ and $s_{PX} = [0.05, -0.02]$.\n$$ \\text{var}(\\tilde{P}) = s_{PP} - s_{PX} \\Sigma_{XX}^{-1} s_{XP} = 0.25 - \\begin{pmatrix} 0.05 & -0.02 \\end{pmatrix} \\frac{1}{0.96} \\begin{pmatrix} 1.0 & -0.20 \\\\ -0.20 & 1.0 \\end{pmatrix} \\begin{pmatrix} 0.05 \\\\ -0.02 \\end{pmatrix} $$\n$$ = 0.25 - \\frac{1}{0.96} \\begin{pmatrix} 0.05 & -0.02 \\end{pmatrix} \\begin{pmatrix} 0.054 \\\\ -0.03 \\end{pmatrix} = 0.25 - \\frac{1}{0.96} (0.0027 + 0.0006) $$\n$$ = 0.25 - \\frac{0.0033}{0.96} = 0.25 - 0.0034375 = 0.2465625 $$\n\nNow, we calculate the residual covariance $\\text{cov}(\\tilde{P}, \\tilde{Y})$. We are given $s_{PY}=-1.8$ and $s_{XY} = [-8.0, 3.0]^T$.\n$$ \\text{cov}(\\tilde{P}, \\tilde{Y}) = s_{PY} - s_{PX} \\Sigma_{XX}^{-1} s_{XY} = -1.8 - \\begin{pmatrix} 0.05 & -0.02 \\end{pmatrix} \\frac{1}{0.96} \\begin{pmatrix} 1.0 & -0.20 \\\\ -0.20 & 1.0 \\end{pmatrix} \\begin{pmatrix} -8.0 \\\\ 3.0 \\end{pmatrix} $$\n$$ = -1.8 - \\frac{1}{0.96} \\begin{pmatrix} 0.05 & -0.02 \\end{pmatrix} \\begin{pmatrix} -8.6 \\\\ 4.6 \\end{pmatrix} = -1.8 - \\frac{1}{0.96} (-0.43 - 0.092) $$\n$$ = -1.8 - \\frac{-0.522}{0.96} = -1.8 - (-0.54375) = -1.25625 $$\n\nFinally, we compute $\\hat{\\beta}$:\n$$ \\hat{\\beta} = \\frac{\\text{cov}(\\tilde{P}, \\tilde{Y})}{\\text{var}(\\tilde{P})} = \\frac{-1.25625}{0.2465625} \\approx -5.09504... $$\nRounding to four significant figures, the OLS estimate is $-5.095$.\n\n### Interpretation\nUnder the stated causal identification assumptions (conditional exchangeability), the estimated coefficient $\\hat{\\beta} = -5.095$ represents the total effect of the paid sick leave policy on the outcome. The interpretation is that, holding median household income and PM$_{2.5}$ concentrations constant, cities with a paid sick leave ordinance have, on average, a rate of preventable emergency department visits that is $5.095$ events lower per $100{,}000$ population compared to cities without the ordinance. The negative sign indicates a beneficial effect of the policy.",
            "answer": "$$\n\\boxed{-5.095}\n$$"
        }
    ]
}