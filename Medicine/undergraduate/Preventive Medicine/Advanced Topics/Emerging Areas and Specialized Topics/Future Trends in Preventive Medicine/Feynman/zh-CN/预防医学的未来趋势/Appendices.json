{
    "hands_on_practices": [
        {
            "introduction": "精准预防的核心在于将正确的干预措施应用于正确的人群。本练习从第一性原理出发，探讨筛查试验的阳性预测值（$PPV$）如何依赖于疾病在目标人群中的患病率。通过推导$PPV$与患病率之间的数学关系 ，你将深刻理解为何将筛查集中于高风险群体能够极大地提升筛查效率和准确性，这是制定下一代风险分层预防策略的基础。",
            "id": "4527017",
            "problem": "一个卫生系统正在规划预防医学中的下一代、风险分层筛查，并考虑靶向选择（例如，使用多基因风险评分和连续数字表型分析）将如何改变疾病的验前概率。设 $D$ 表示个体患有所筛查疾病的事件，设 $T^{+}$ 表示二元筛查测试结果为阳性的事件。阳性预测值 (PPV) 定义为 $PPV = P(D \\mid T^{+})$。筛查测试的灵敏度 (Se) 和特异度 (Sp) 分别定义为 $Se = P(T^{+} \\mid D)$ 和 $Sp = P(T^{-} \\mid \\overline{D})$，其中 $\\overline{D}$ 表示 $D$ 的补集。\n\n仅从贝叶斯定理和全概率定律出发，用代数方法推导 $PPV$ 如何依赖于此二元筛查测试的疾病患病率 $P(D)$、$Se$ 和 $Sp$。然后，假设 $Se$ 和 $Sp$ 是测试的固定特性，而患病率 $P(D)$ 因风险分层而变化，计算导数 $\\frac{d\\,PPV}{d\\,P(D)}$ 的封闭形式解。将你的最终答案表示为关于 $Se$、$Sp$ 和 $P(D)$ 的单一解析表达式。无需四舍五入，最终表达式无需单位。",
            "solution": "该问题是有效的，因为它科学地基于概率论和流行病学的原理，提法明确，提供了所有必要信息，并且完全客观。\n\n第一个任务是推导阳性预测值 ($PPV$) 关于疾病患病率 $P(D)$、灵敏度 ($Se$) 和特异度 ($Sp$) 的代数表达式。我们从 $PPV$ 的定义开始：\n$$PPV = P(D \\mid T^{+})$$\n其中 $D$ 是患有疾病的事件，$T^{+}$ 是测试结果为阳性的事件。\n\n使用贝叶斯定理，我们可以将此条件概率表示为：\n$$P(D \\mid T^{+}) = \\frac{P(T^{+} \\mid D) P(D)}{P(T^{+})}$$\n\n分子中的项是已知的或与已知量直接相关。$P(T^{+} \\mid D)$ 是灵敏度 $Se$ 的定义。$P(D)$ 是疾病的患病率。因此，分子是 $Se \\cdot P(D)$。\n\n分母 $P(T^{+})$ 是测试结果为阳性的总概率。我们可以使用全概率定律，以个体是否患病 ($D$) 或未患病 ($\\overline{D}$) 为条件来展开此项：\n$$P(T^{+}) = P(T^{+} \\mid D) P(D) + P(T^{+} \\mid \\overline{D}) P(\\overline{D})$$\n\n我们可以将已知量代入此表达式中：\n1. $P(T^{+} \\mid D) = Se$ (灵敏度)。\n2. $P(D)$ 是患病率。\n3. $P(\\overline{D}) = 1 - P(D)$，因为 $\\overline{D}$ 是 $D$ 的补集。\n4. $P(T^{+} \\mid \\overline{D})$ 必须从特异度 $Sp$ 推导出来。特异度定义为 $Sp = P(T^{-} \\mid \\overline{D})$，其中 $T^{-}$ 是阴性测试结果。由于该测试是二元的，对于未患病的人，测试结果只能是阳性或阴性。因此，$P(T^{+} \\mid \\overline{D}) + P(T^{-} \\mid \\overline{D}) = 1$。这得到 $P(T^{+} \\mid \\overline{D}) = 1 - Sp$。该项也被称为假阳性率。\n\n将这些分量代回 $P(T^{+})$ 的方程中，得到：\n$$P(T^{+}) = Se \\cdot P(D) + (1 - Sp) (1 - P(D))$$\n\n现在，我们将分子和分母的表达式代回到 $PPV$ 的贝叶斯定理公式中：\n$$PPV = \\frac{Se \\cdot P(D)}{Se \\cdot P(D) + (1 - Sp) (1 - P(D))}$$\n这就是所要求的 $PPV$ 作为 $P(D)$、$Se$ 和 $Sp$ 的函数表达式。\n\n第二个任务是计算导数 $\\frac{d\\,PPV}{d\\,P(D)}$，假设 $Se$ 和 $Sp$ 是固定常数。为方便标记，设 $p = P(D)$。$PPV$ 的表达式变为：\n$$PPV(p) = \\frac{Se \\cdot p}{Se \\cdot p + (1 - Sp)(1 - p)}$$\n为了求关于 $p$ 的导数，我们使用微分的商法则，该法则指出，对于函数 $f(p) = \\frac{u(p)}{v(p)}$，其导数为 $f'(p) = \\frac{u'(p)v(p) - u(p)v'(p)}{[v(p)]^2}$。\n\n我们定义分子和分母函数：\n- $u(p) = Se \\cdot p$\n- $v(p) = Se \\cdot p + (1 - Sp)(1 - p)$\n\n首先，我们求它们关于 $p$ 的导数：\n- $u'(p) = \\frac{d}{dp}(Se \\cdot p) = Se$\n- 为了求 $v'(p)$，我们可以先展开 $v(p)$：\n  $v(p) = Se \\cdot p + 1 - p - Sp + Sp \\cdot p = (Se + Sp - 1)p + (1 - Sp)$\n  那么，导数是：\n  $v'(p) = \\frac{d}{dp}((Se + Sp - 1)p + (1 - Sp)) = Se + Sp - 1$\n\n现在，我们应用商法则：\n$$\\frac{d(PPV)}{dp} = \\frac{u'(p)v(p) - u(p)v'(p)}{[v(p)]^2}$$\n$$\\frac{d(PPV)}{dp} = \\frac{(Se)[Se \\cdot p + (1 - Sp)(1 - p)] - (Se \\cdot p)(Se + Sp - 1)}{[Se \\cdot p + (1 - Sp)(1 - p)]^2}$$\n\n让我们化简分子：\nNumerator $= Se \\cdot [Se \\cdot p + (1 - Sp)(1-p)] - Se \\cdot p \\cdot (Se + Sp - 1)$\nNumerator $= Se^2 \\cdot p + Se(1 - Sp)(1-p) - Se^2 \\cdot p - Se \\cdot Sp \\cdot p + Se \\cdot p$\nNumerator $= Se(1 - Sp)(1 - p) - Se \\cdot Sp \\cdot p + Se \\cdot p$\nNumerator $= Se(1 - Sp - p + p \\cdot Sp) - Se \\cdot Sp \\cdot p + Se \\cdot p$\nNumerator $= Se - Se \\cdot Sp - Se \\cdot p + Se \\cdot p \\cdot Sp - Se \\cdot Sp \\cdot p + Se \\cdot p$\n\n让我们使用 $v(p)$ 的简化形式，以便更容易地对分子进行代数操作：\nNumerator $= u'v - uv'$\nNumerator $= Se \\cdot [(Se + Sp - 1)p + (1 - Sp)] - (Se \\cdot p)(Se + Sp - 1)$\nNumerator $= Se(Se + Sp - 1)p + Se(1 - Sp) - Se(Se + Sp - 1)p$\n第一项和第三项相互抵消，剩下：\nNumerator $= Se(1 - Sp)$\n\n分母是 $[v(p)]^2$。将 $v(p)$ 的原始表达式和 $p=P(D)$ 代入，我们得到导数的最终表达式：\n$$\\frac{d\\,PPV}{d\\,P(D)} = \\frac{Se(1 - Sp)}{[Se \\cdot P(D) + (1 - Sp)(1 - P(D))]^2}$$\n这就是阳性预测值关于疾病患病率的导数的封闭形式解析表达式。",
            "answer": "$$ \\boxed{\\frac{Se(1 - Sp)}{[Se \\cdot P(D) + (1 - Sp)(1 - P(D))]^{2}}} $$"
        },
        {
            "introduction": "一项预防措施的理论效果与其在真实世界中的实际效果之间常常存在差距。本练习将带你从理想化的临床试验环境进入复杂的公共卫生现实，重点关注依从性（adherence）这一关键变量。通过构建一个量化模型来计算依从性校正后的风险比 ，你将学会如何评估一项干预措施在考虑了人群实际行为后的真实群体水平影响，这是现实世界干预项目效果评估的一项核心技能。",
            "id": "4527053",
            "problem": "一个公共卫生系统正在试行一个由智能手机引导的体育活动项目，以预防2型糖尿病的新发病例，该项目利用可穿戴传感器进行持续的依从性监测。在早期试验中，对于按规定遵循方案的参与者，与标准护理相比，该干预措施在发生2型糖尿病方面的风险比（RR）为 $RR=0.7$。在预期的采用自适应指导的真实世界部署中，系统估计依从比例将为 $a=0.6$，这意味着有比例为 $a$ 的参与者将达到规定的活动剂量，而剩余比例为 $1-a$ 的参与者其活动水平不会有实质性改变。\n\n请仅使用风险、风险比和子群体混合模型的基本定义，推导相对于基线的依从性调整后的人群水平风险比 $RR_{adj}$ 的表达式，并计算当 $RR=0.7$ 和 $a=0.6$ 时的值。将您计算出的依从性调整后的风险比四舍五入至三位有效数字。然后，用文字简要解释其预防效果（最终答案中无需进行数值解释）。",
            "solution": "在尝试解答之前，需对问题陈述进行验证。\n\n### 第1步：提取已知条件\n- 依从参与者的风险比：$RR = 0.7$。\n- 依从比例：$a = 0.6$。\n- 剩余比例为 $1-a$ 的参与者，其活动水平不会有实质性改变。\n- 目标是推导依从性调整后的人群水平风险比 $RR_{adj}$ 的表达式，并计算其值。\n- 计算值必须四舍五入至三位有效数字。\n- 解答正文中需要对预防效果进行简要的文字解释。\n\n### 第2步：使用提取的已知条件进行验证\n根据指定标准评估问题的有效性。\n- **科学依据**：风险、风险比（$RR$）和依从性是流行病学和临床试验分析中的基本概念。使用混合模型来解释子群体（依从者与不依从者）是估计人群水平或意向性治疗效果的标准有效方法。所提供的数值（$RR=0.7$, $a=0.6$）对于行为健康干预是合理的。该问题具有科学合理性。\n- **提法恰当**：该问题提供了推导所需表达式和计算数值的所有必要信息。关于不依从参与者“活动水平不会有实质性改变”的陈述提供了一个清晰、可形式化的假设：他们的风险等同于基线风险。目标明确。该问题提法恰当。\n- **客观性**：问题使用精确、定量的语言和公认的流行病学术语进行陈述。它不含主观或基于意见的内容。\n\n### 第3步：结论与行动\n问题有效。它具有科学依据、提法恰当且客观。将推导解答。\n\n### 解答推导\n目标是推导依从性调整后的人群水平风险比 $RR_{adj}$。我们首先定义基本术语。\n\n设 $R_0$ 表示对照组（标准护理）中发生2型糖尿病的基线风险。\n设 $R_{int}$ 表示干预组（一个混合群体）的总体风险。\n\n依从性调整后的风险比定义为总干预组的风险与对照组风险的比率：\n$$RR_{adj} = \\frac{R_{int}}{R_0}$$\n\n干预组由两个不同的子群体组成：\n1. 比例为 $a$ 的遵循方案的参与者。\n2. 比例为 $1-a$ 的不遵循方案的参与者。\n\n对于依从子群体，其风险 $R_{adherent}$ 可以用该群体的给定风险比 $RR$ 来表示：\n$$R_{adherent} = RR \\times R_0$$\n\n问题陈述指出，不依从的参与者“活动水平不会有实质性改变”。这意味着他们的风险与对照组的基线风险相同。因此，不依从子群体的风险 $R_{non-adherent}$ 为：\n$$R_{non-adherent} = R_0$$\n这相当于说，不依从子群体相对于对照组的风险比为1。\n\n干预组的总体风险 $R_{int}$ 是两个子群体风险的加权平均值，权重是它们在组中的各自比例：\n$$R_{int} = (a \\times R_{adherent}) + ((1-a) \\times R_{non-adherent})$$\n\n代入 $R_{adherent}$ 和 $R_{non-adherent}$ 的表达式：\n$$R_{int} = (a \\times RR \\times R_0) + ((1-a) \\times R_0)$$\n\n我们可以提取出基线风险 $R_0$：\n$$R_{int} = R_0 \\times (a \\times RR + 1 - a)$$\n\n现在，我们可以将 $R_{int}$ 的这个表达式代入其定义中，来推导 $RR_{adj}$ 的表达式：\n$$RR_{adj} = \\frac{R_0 \\times (a \\times RR + 1 - a)}{R_0}$$\n\n消去分子和分母中的 $R_0$ 项，得到依从性调整后风险比的一般表达式：\n$$RR_{adj} = a \\times RR + 1 - a$$\n\n接下来，我们使用给定值 $RR=0.7$ 和 $a=0.6$ 计算 $RR_{adj}$ 的数值：\n$$RR_{adj} = (0.6) \\times (0.7) + (1 - 0.6)$$\n$$RR_{adj} = 0.42 + 0.4$$\n$$RR_{adj} = 0.82$$\n\n问题要求答案四舍五入至三位有效数字。数值 $0.82$ 写作 $0.820$ 以满足此要求。\n\n### 解释\n推导出的依从性调整后风险比 $RR_{adj} = 0.820$ 代表了在部署干预措施时，考虑到不完全依从性的情况下，人群水平上的预期风险比。风险比为 $1.0$ 表示干预组和对照组之间的风险没有差异。对于完全依从者，风险比为 $0.7$ 表示风险降低了 $30\\%$。然而，由于只有 $60\\%$ 的人群依从，效果被减弱了。最终的人群水平风险比为 $0.820$，表示与标准护理相比，整个干预人群的平均风险降低了 $1 - 0.820 = 0.18$，即 $18\\%$。这表明，在真实世界环境中，干预措施的有效性会因不依从而被削弱。",
            "answer": "$$\\boxed{0.820}$$"
        },
        {
            "introduction": "预防医学的投资往往是“今天投入，未来获益”，因此，我们需要一种方法来公平地比较不同时间点的成本与健康收益。本练习介绍卫生经济学评估中的基本工具——贴现（discounting），它能将未来的成本和质量调整生命年（QALYs）等健康获益转换为当前的价值。掌握贴现值的计算 ，你就能为长期预防项目的成本效益分析提供关键的定量依据，从而在卫生决策和资源分配中做出更明智的判断。",
            "id": "4527040",
            "problem": "一个城市的卫生部门计划推广一个精准预防项目，该项目利用持续的数字监测和行为助推来降低心脏代谢风险。为了在标准跨期决策下评估其长期价值，假设年折现率恒为 $r=0.03$，采用按年离散复利和年末计提方式。对于一位代表性参与者，该项目预计在 $t=10$ 年的期限内，每年产生 $0.2$ 质量调整生命年（QALY）的恒定流，并需要每年 $C=5000$ 美元的恒定成本流。质量调整生命年（QALY）被定义为健康状态效用对时间的积分，因此，一个恒定的增量效用流会产生单位时间内恒定的QALY累积。\n\n从基本定义出发，即在第 $k$ 年末收到的一笔未来款项 $X$ 的现值是 $X$ 乘以折现因子，并利用恒定时间偏好下的离散时间折现的一般定义，请从第一性原理推导出一个在有限期限内恒定年末流的现值的闭式表达式。然后应用该表达式计算给定流和期限下QALY的现值和成本的现值。\n\n将您的最终数值结果以一个双元行矩阵的形式报告，其中第一个元素等于QALY的现值（单位为QALY），第二个元素等于成本的现值（单位为美元）。将每个元素四舍五入到四位有效数字。矩阵内不要包含单位。",
            "solution": "核心目标是在离散时间折现下，对有限期限内每年末发生的恒定流进行估值。我们从两个基本定义开始。\n\n首先，质量调整生命年（QALY）是健康状态效用对时间的积分。当一项干预措施产生恒定的增量效用流，并以恒定速率转换为QALY时，在 $n$ 年内的未折现QALY累积量是年QALY增量的 $n$ 倍。在本问题中，年增量为每年 $0.2$ QALY。\n\n其次，在恒定年折现率 $r$ 的离散时间折现下，第 $k$ 年末收到的款项 $X$ 的现值由 $X$ 乘以折现因子 $d_{k}$ 给出，其中\n$$\nd_{k} = \\frac{1}{(1+r)^{k}}.\n$$\n这源于基本的时间偏好和资本机会成本原则：未来实现的一个单位的收益在今天的价值会减少，减少的因子等于总累积因子 $(1+r)$ 应用 $k$ 期后的倒数。\n\n考虑一个为期 $n$ 年、每年金额为 $A$ 的恒定年末流。其现值 $\\mathrm{PV}(A;n,r)$ 为\n$$\n\\mathrm{PV}(A;n,r) = \\sum_{k=1}^{n} \\frac{A}{(1+r)^{k}} = A \\sum_{k=1}^{n} \\left(\\frac{1}{1+r}\\right)^{k}.\n$$\n令 $q = \\frac{1}{1+r}$。该和式是一个首项为 $q$、公比为 $q$、项数为 $n$ 的有限几何级数。根据几何级数求和公式可得\n$$\n\\sum_{k=1}^{n} q^{k} = q \\cdot \\frac{1 - q^{n}}{1 - q}.\n$$\n代入 $q = \\frac{1}{1+r}$ 可得\n$$\n\\sum_{k=1}^{n} \\left(\\frac{1}{1+r}\\right)^{k}\n= \\frac{1}{1+r} \\cdot \\frac{1 - \\left(\\frac{1}{1+r}\\right)^{n}}{1 - \\frac{1}{1+r}}\n= \\frac{1 - (1+r)^{-n}}{r}.\n$$\n因此，恒定年末流的现值闭式表达式为\n$$\n\\mathrm{PV}(A;n,r) = A \\cdot \\frac{1 - (1+r)^{-n}}{r}.\n$$\n\n现在我们将其应用于问题中的两个流，其中 $r=0.03$ 且 $n=t=10$：\n- 年度QALY流：$A_{Q} = 0.2$ QALY/年。\n- 年度成本流：$A_{C} = 5000$ 美元/年。\n\n首先计算公共现值因子 $S(n,r)$：\n$$\nS(10,0.03) = \\frac{1 - (1+0.03)^{-10}}{0.03}.\n$$\n计算 $(1+0.03)^{10}$：\n$$\n(1.03)^{10} \\approx 1.3439163793,\n$$\n所以\n$$\n(1.03)^{-10} \\approx \\frac{1}{1.3439163793} \\approx 0.744094.\n$$\n然后\n$$\n1 - (1.03)^{-10} \\approx 1 - 0.744094 = 0.255906,\n$$\n并且\n$$\nS(10,0.03) \\approx \\frac{0.255906}{0.03} \\approx 8.5302.\n$$\n\nQALY的现值：\n$$\n\\mathrm{PV}_{\\text{QALY}} = A_{Q} \\cdot S(10,0.03) \\approx 0.2 \\times 8.5302 = 1.70604 \\text{ QALY}.\n$$\n四舍五入到四位有效数字：\n$$\n\\mathrm{PV}_{\\text{QALY}} \\approx 1.706 \\text{ QALY}.\n$$\n\n成本的现值：\n$$\n\\mathrm{PV}_{\\text{Cost}} = A_{C} \\cdot S(10,0.03) \\approx 5000 \\times 8.5302 = 42651 \\text{ 美元}.\n$$\n四舍五入到四位有效数字，结果是\n$$\n\\mathrm{PV}_{\\text{Cost}} \\approx 4.265 \\times 10^{4} \\text{ 美元}.\n$$\n\n根据报告要求，我们将两个结果表示为一个行矩阵，第一个元素是QALY的现值（单位为QALY），第二个元素是成本的现值（单位为美元），每个元素都四舍五入到四位有效数字，并在矩阵内省略单位。",
            "answer": "$$\\boxed{\\begin{pmatrix}1.706  4.265 \\times 10^{4}\\end{pmatrix}}$$"
        }
    ]
}