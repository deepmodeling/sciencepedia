{
    "hands_on_practices": [
        {
            "introduction": "利用大数据进行的观察性研究功能强大，但也容易受到未测量混杂因素的影响，从而可能得出错误的结论。因此，评估一个观察到的关联对这种潜在偏倚的稳健性至关重要。本练习介绍E值，这是一种敏感性分析工具，用于量化将观察效应归零所需的混杂强度，从而培养您批判性评估非随机研究证据的关键技能。",
            "id": "4506149",
            "problem": "一个公共卫生部门使用人工智能（AI）模型对整合的电子健康记录和消费者营养数据进行训练，以优先安排预防性干预措施。在一个对基线无高血压的成年人进行的观察性队列研究中，从大规模数据管道中分类出的高钠饮食模式与新发高血压相关，在对已测量的协变量进行调整后，观测到的风险比为 $RR_{\\text{obs}} = 1.8$。为评估其对未测量混杂因素的稳健性，您需要形式化并计算E-值。\n\n将E-值定义为，在已测量协变量的条件下，一个未测量的混杂因素需要与暴露（高钠模式）和结局（高血压）同时具有的、以风险比为尺度的最小关联量级，才能将观测到的关联削弱至零值 $1$。请使用标准的Cornfield型界限作为基本依据，该界限适用于风险比尺度上的单个未测量的二元混杂因素：对于混杂因素-暴露风险比 $RR_{EU}$ 和混杂因素-结局风险比 $RR_{UY}$，最大混杂偏倚因子 $B$ 满足\n$$\nB \\le \\frac{RR_{EU} \\cdot RR_{UY}}{RR_{EU} + RR_{UY} - 1},\n$$\n且观测风险比通过 $RR_{\\text{obs}} = RR_{\\text{true}} \\times B$ 与因果风险比相关。\n\n从这些定义和事实出发（不引入任何额外的快捷公式），在“当 $RR_{EU} = RR_{UY}$ 时达到最小值”这一简化假设下，推导一个用 $RR_{\\text{obs}}$ 表示E-值的闭式表达式。然后，计算当 $RR_{\\text{obs}} = 1.8$ 时的E-值数值。将您的数值答案四舍五入至 $3$ 位有效数字。最后，结合这项关于饮食与高血压的大数据观察性研究中未测量混杂因素的合理性，简要解释您得到的量值。您最终报告的答案必须仅为E-值的数值。",
            "solution": "该问题要求推导E-值（一种衡量观察性研究对未测量混杂稳健性的指标），并为一个特定的观测风险比计算其数值。对问题陈述的验证已经完成，该问题被认为是科学上可靠、定义明确且客观的。因此，我们可以继续进行解答。\n\n问题将E-值定义为，一个未测量的混杂因素 $U$ 需要与暴露 $E$ 和结局 $Y$ 同时具有的最小关联量级，才能“解释掉”一个观测到的关联，即将真实的因果风险比 $RR_{\\text{true}}$ 降至零值 $1$。\n\n观测风险比 $RR_{\\text{obs}}$、真实因果风险比 $RR_{\\text{true}}$ 以及由混杂引入的偏倚因子 $B$ 之间的关系如下：\n$$\nRR_{\\text{obs}} = RR_{\\text{true}} \\times B\n$$\n要“解释掉”观测到的关联，意味着假设一种真实因果效应为零的情景，即 $RR_{\\text{true}} = 1$。在这种情景下，观测到的关联完全由混杂引起，偏倚因子 $B$ 必须等于观测风险比：\n$$\nRR_{\\text{obs}} = 1 \\times B \\implies B = RR_{\\text{obs}}\n$$\n问题提供了由单个未测量二元混杂因素引起的偏倚因子 $B$ 的Cornfield型上限：\n$$\nB \\le \\frac{RR_{EU} \\cdot RR_{UY}}{RR_{EU} + RR_{UY} - 1}\n$$\n其中，$RR_{EU}$ 是混杂因素 $U$ 与暴露 $E$ 之间关联的风险比，$RR_{UY}$ 是混杂因素 $U$ 与结局 $Y$ 之间关联的风险比，两者均以任何已测量的协变量为条件。\n\n为了解释掉这一发现，一个混杂因素可能导致的最大偏倚必须至少等于 $RR_{\\text{obs}}$。因此，我们将 $RR_{\\text{obs}}$ 设为可能的最大偏倚：\n$$\nRR_{\\text{obs}} = \\frac{RR_{EU} \\cdot RR_{UY}}{RR_{EU} + RR_{UY} - 1}\n$$\nE-值被定义为满足此条件所需的这些混杂因素-关联的最小量级。问题陈述我们应在“当混杂因素关联相等时达到该最小值”的简化假设下进行。我们将这个共同的风险比值表示为 $E_{\\text{val}}$，使得 $E_{\\text{val}} = RR_{EU} = RR_{UY}$。根据定义，这个 $E_{\\text{val}}$ 就是E-值。\n\n将 $E_{\\text{val}}$ 代入方程得到：\n$$\nRR_{\\text{obs}} = \\frac{E_{\\text{val}} \\cdot E_{\\text{val}}}{E_{\\text{val}} + E_{\\text{val}} - 1} = \\frac{E_{\\text{val}}^2}{2E_{\\text{val}} - 1}\n$$\n我们现在必须就 $E_{\\text{val}}$ 对此方程求解，以 $RR_{\\text{obs}}$ 表示。这将提供E-值的闭式表达式。\n$$\nRR_{\\text{obs}} (2E_{\\text{val}} - 1) = E_{\\text{val}}^2\n$$\n整理各项，得到一个关于变量 $E_{\\text{val}}$ 的二次方程：\n$$\nE_{\\text{val}}^2 - 2 \\cdot RR_{\\text{obs}} \\cdot E_{\\text{val}} + RR_{\\text{obs}} = 0\n$$\n这是一个形式为 $ax^2 + bx + c = 0$ 的二次方程，其中 $a = 1$，$b = -2 \\cdot RR_{\\text{obs}}$，且 $c = RR_{\\text{obs}}$。我们可以使用二次方程求根公式 $x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$ 来求解 $E_{\\text{val}}$：\n$$\nE_{\\text{val}} = \\frac{-(-2 \\cdot RR_{\\text{obs}}) \\pm \\sqrt{(-2 \\cdot RR_{\\text{obs}})^2 - 4(1)(RR_{\\text{obs}})}}{2(1)}\n$$\n$$\nE_{\\text{val}} = \\frac{2 \\cdot RR_{\\text{obs}} \\pm \\sqrt{4 \\cdot RR_{\\text{obs}}^2 - 4 \\cdot RR_{\\text{obs}}}}{2}\n$$\n$$\nE_{\\text{val}} = \\frac{2 \\cdot RR_{\\text{obs}} \\pm \\sqrt{4(RR_{\\text{obs}}^2 - RR_{\\text{obs}})}}{2}\n$$\n$$\nE_{\\text{val}} = \\frac{2 \\cdot RR_{\\text{obs}} \\pm 2\\sqrt{RR_{\\text{obs}}(RR_{\\text{obs}} - 1)}}{2}\n$$\n$$\nE_{\\text{val}} = RR_{\\text{obs}} \\pm \\sqrt{RR_{\\text{obs}}(RR_{\\text{obs}} - 1)}\n$$\n这给出了E-值的两个潜在解。然而，E-值代表一个风险比，并且通常为增加风险的混杂因素定义，意味着 $E_{\\text{val}} \\ge 1$。问题指定观测风险比 $RR_{\\text{obs}} = 1.8$，该值大于 $1$。对于任何 $RR_{\\text{obs}} > 1$，平方根下的项 $RR_{\\text{obs}}(RR_{\\text{obs}} - 1)$ 是正数。\n让我们分析较小的根 $E_{\\text{val}}^{-} = RR_{\\text{obs}} - \\sqrt{RR_{\\text{obs}}(RR_{\\text{obs}} - 1)}$。要使此根大于或等于 $1$，我们需要 $RR_{\\text{obs}} - 1 \\ge \\sqrt{RR_{\\text{obs}}(RR_{\\text{obs}} - 1)}$。两边平方（这是允许的，因为对于 $RR_{\\text{obs}} \\ge 1$，两边均为非负），我们得到 $(RR_{\\text{obs}} - 1)^2 \\ge RR_{\\text{obs}}(RR_{\\text{obs}} - 1)$。对于 $RR_{\\text{obs}} > 1$，我们可以除以正项 $(RR_{\\text{obs}} - 1)$ 得到 $RR_{\\text{obs}} - 1 \\ge RR_{\\text{obs}}$，这简化为 $-1 \\ge 0$，是一个矛盾。因此，对于 $RR_{\\text{obs}} > 1$，较小的根总是小于 $1$。\n唯一对应于增加风险的混杂因素（$E_{\\text{val}} \\ge 1$）的有效解是较大的根。因此，E-值的闭式表达式为：\n$$\nE_{\\text{val}} = RR_{\\text{obs}} + \\sqrt{RR_{\\text{obs}}(RR_{\\text{obs}} - 1)}\n$$\n现在，我们为给定的观测风险比 $RR_{\\text{obs}} = 1.8$ 计算数值。\n$$\nE_{\\text{val}} = 1.8 + \\sqrt{1.8(1.8 - 1)}\n$$\n$$\nE_{\\text{val}} = 1.8 + \\sqrt{1.8(0.8)}\n$$\n$$\nE_{\\text{val}} = 1.8 + \\sqrt{1.44}\n$$\n$$\nE_{\\text{val}} = 1.8 + 1.2\n$$\n$$\nE_{\\text{val}} = 3.0\n$$\n问题要求将答案四舍五入到 $3$ 位有效数字。精确值为 $3.0$，可以写成 $3.00$ 来表示这个精度。\n\n关于简要解释：$3.00$ 的E-值意味着，要使观测到的风险比 $1.8$ 完全由单个未测量的混杂因素解释，该混杂因素需要与高钠饮食模式和新发高血压均相关，且在模型已包含的协变量的条件下，每个关联的风险比至少为 $3.00$。如此强度的关联是相当强的。在营养与慢性病流行病学的背景下，特别是在一个“大数据”研究中，许多潜在的混杂因素很可能已被测量和调整，找到这样一个强大的未测量混杂因素通常被认为是不太可能的。因此，一个 $3.00$ 的E-值表明，观测到的关联对于未测量的混杂因素具有中等程度的稳健性。",
            "answer": "$$\n\\boxed{3.00}\n$$"
        },
        {
            "introduction": "预测模型的统计准确性并不直接等同于其在临床或公共卫生领域的实用价值，我们需要一个框架来判断使用模型进行决策是否利大于弊。这项练习将引导您完成决策曲线分析（DCA），这是一种在不同风险阈值下评估预测模型净获益的方法。通过推导和计算最优阈值，您将学会如何将预测分析与具体的政策决策联系起来。",
            "id": "4506189",
            "problem": "一个公共卫生部门正在部署一个人工智能 (AI) 风险模型，以支持一项旨在通过启用他汀类药物来减少动脉粥样硬化性心血管疾病 (ASCVD) 事件的预防医学政策。该模型输出未来10年发生 ASCVD 事件的校准后个体概率 $p \\in [0,1]$。在一个目标筛查队列中，疾病患病率为 $\\pi = 0.20$。对于将经历 ASCVD 事件的个体（患病者，$Y=1$），其预测风险的分布可以很好地用一个形状参数为 $(2,1)$ 的 Beta 分布来近似；而对于不会经历事件的个体（非患病者，$Y=0$），其预测风险的分布则可以用一个形状参数为 $(1,2)$ 的 Beta 分布来近似。也就是说，对于 $Y=1$，其概率密度为 $f_{1}(p) = 2p$（$p \\in [0,1]$）；对于 $Y=0$，其概率密度为 $f_{0}(p) = 2(1-p)$（$p \\in [0,1]$）。\n\n为了做出群体层面的政策决策，该部门将为所有预测风险达到或超过某一阈值 $c \\in [0,1]$ 的个体启用他汀类药物。将正确治疗一个将经历 ASCVD 事件的人所带来的收益定义为 $B>0$，并将不必要地治疗一个不会经历 ASCVD 事件的人所带来的危害定义为 $H>0$。因此，假阳性的危害与真阳性的收益之比为 $\\lambda = H/B$。对于这个队列，项目评估设定 $\\lambda = 0.05$。\n\n决策曲线分析 (DCA) 将阈值 $c$ 下的单位个体净收益定义为：来自真阳性的预期收益减去来自假阳性的预期危害，该值经人群规模归一化，并以 $B$ 为单位表示。请仅使用患病率、真阳性率和假阳性率的基本定义，以及 $\\lambda$、$H$ 和 $B$ 之间的关系，从基本原理出发，推导出作为 $c$ 函数的净收益的解析表达式，并在给定的 $\\pi$、$\\lambda$ 和所述分布下，计算使该净收益最大化的阈值 $c^{\\ast}$。将最终阈值 $c^{\\ast}$ 表示为 0 和 1 之间的小数，并将答案四舍五入至四位有效数字。",
            "solution": "用户提供了一个在尝试解答前需要进行验证的问题。\n\n### 步骤 1：提取已知条件\n-   **模型输出：** 未来10年发生动脉粥样硬化性心血管疾病 (ASCVD) 事件的校准后个体概率 $p \\in [0,1]$。\n-   **疾病患病率：** $\\pi = P(Y=1) = 0.20$。\n-   **患病者 ($Y=1$) 的分布：** 概率密度函数为 $f_{1}(p) = 2p$，$p \\in [0,1]$。这是一个参数为 $(\\alpha, \\beta) = (2,1)$ 的 Beta 分布。\n-   **非患病者 ($Y=0$) 的分布：** 概率密度函数为 $f_{0}(p) = 2(1-p)$，$p \\in [0,1]$。这是一个参数为 $(\\alpha, \\beta) = (1,2)$ 的 Beta 分布。\n-   **决策规则：** 为预测风险 $p$ 大于或等于阈值 $c$ 的个体启用他汀类药物，即当 $p \\ge c$ 时。\n-   **真阳性收益：** $B > 0$。\n-   **假阳性危害：** $H > 0$。\n-   **相对危害/收益比：** $\\lambda = \\frac{H}{B} = 0.05$。\n-   **目标：** 推导作为阈值 $c$ 函数的净收益的解析表达式。\n-   **目标：** 计算使该净收益最大化的最优阈值 $c^{\\ast}$。\n-   **约束：** 仅使用基本定义并从基本原理出发进行推导。\n-   **最终答案格式：** 将 $c^{\\ast}$ 表示为小数并四舍五入到四位有效数字。\n\n### 步骤 2：使用提取的已知条件进行验证\n1.  **科学性：** 该问题坚实地植根于统计决策理论及其在医疗决策中的应用。决策曲线分析 (DCA) 是评估预测模型和临床指南的一种标准且经过验证的方法。使用 Beta 分布来建模概率是常见的做法。给定的患病率和相对危害在公共卫生背景下是现实的。\n2.  **适定性：** 该问题是适定的。所有必要信息——患病率、风险评分的条件分布、决策规则和目标函数（净收益）——都已明确提供。在闭区间上最大化一个连续可微函数的目标确保了解的存在性。\n3.  **客观性：** 该问题以精确、定量和客观的语言陈述，没有歧义或主观论断。\n\n### 步骤 3：结论与行动\n该问题被认为是 **有效的**。它在科学上是合理的、适定的和客观的。将按要求推导解决方案。\n\n### 推导与求解\n\n目标是找到能使筛查和治疗策略的净收益最大化的决策阈值 $c$。\n\n首先，我们根据问题描述将净收益 (Net Benefit, NB) 形式化。NB 是来自真阳性的预期收益减去来自假阳性的预期危害，经人群规模归一化后，以收益单位 $B$ 表示。\n\n设 $TPR(c)$ 为真阳性率，即被正确识别需要治疗（$p \\ge c$）的患病个体（$Y=1$）的比例。\n设 $FPR(c)$ 为假阳性率，即被错误识别需要治疗（$p \\ge c$）的非患病个体（$Y=0$）的比例。\n\n在一个规模为 $N$ 的人群中，真阳性的总数为 $N \\cdot \\pi \\cdot TPR(c)$。总收益为 $N \\cdot \\pi \\cdot TPR(c) \\cdot B$。\n假阳性的总数为 $N \\cdot (1-\\pi) \\cdot FPR(c)$。总危害为 $N \\cdot (1-\\pi) \\cdot FPR(c) \\cdot H$。\n\n总净收益是总收益减去总危害：$N\\pi B \\cdot TPR(c) - N(1-\\pi)H \\cdot FPR(c)$。\n单位个体的净收益是此数量除以 $N$：$\\pi B \\cdot TPR(c) - (1-\\pi)H \\cdot FPR(c)$。\n最后，以 $B$ 为单位表示（通过除以 $B$），得到决策曲线分析中净收益的标准公式 $NB(c)$：\n$$NB(c) = \\pi \\cdot TPR(c) - (1-\\pi) \\frac{H}{B} \\cdot FPR(c)$$\n使用给定的定义 $\\lambda = \\frac{H}{B}$，该表达式变为：\n$$NB(c) = \\pi \\cdot TPR(c) - (1-\\pi)\\lambda \\cdot FPR(c)$$\n\n接下来，我们使用所提供的概率密度函数，从基本定义出发推导 $TPR(c)$ 和 $FPR(c)$ 的表达式。\n$TPR(c)$ 是一个患病个体的风险评分 $p \\ge c$ 的概率。\n$$TPR(c) = P(p \\ge c | Y=1) = \\int_{c}^{1} f_{1}(p) \\,dp$$\n给定 $f_{1}(p) = 2p$：\n$$TPR(c) = \\int_{c}^{1} 2p \\,dp = [p^2]_{c}^{1} = 1^2 - c^2 = 1 - c^2$$\n\n$FPR(c)$ 是一个非患病个体的风险评分 $p \\ge c$ 的概率。\n$$FPR(c) = P(p \\ge c | Y=0) = \\int_{c}^{1} f_{0}(p) \\,dp$$\n给定 $f_{0}(p) = 2(1-p)$：\n$$FPR(c) = \\int_{c}^{1} 2(1-p) \\,dp = 2\\left[p - \\frac{p^2}{2}\\right]_{c}^{1} = 2\\left( \\left(1 - \\frac{1}{2}\\right) - \\left(c - \\frac{c^2}{2}\\right) \\right) = 2\\left(\\frac{1}{2} - c + \\frac{c^2}{2}\\right) = 1 - 2c + c^2 = (1-c)^2$$\n\n现在，我们将 $TPR(c)$ 和 $FPR(c)$ 的表达式代入净收益方程。这就得到了作为 $c$ 函数的净收益的解析表达式：\n$$NB(c) = \\pi(1 - c^2) - (1-\\pi)\\lambda(1-c)^2$$\n为了找到使 $NB(c)$ 最大化的阈值 $c^{\\ast}$，我们对 $NB(c)$ 关于 $c$ 求导，并令其等于 $0$。\n$$\\frac{d(NB)}{dc} = \\frac{d}{dc} \\left[ \\pi(1 - c^2) - (1-\\pi)\\lambda(1-c)^2 \\right]$$\n$$\\frac{d(NB)}{dc} = \\pi(-2c) - (1-\\pi)\\lambda \\cdot 2(1-c)(-1)$$\n$$\\frac{d(NB)}{dc} = -2\\pi c + 2(1-\\pi)\\lambda(1-c)$$\n令导数为零以找到临界点：\n$$-2\\pi c^{\\ast} + 2(1-\\pi)\\lambda(1-c^{\\ast}) = 0$$\n$$\\pi c^{\\ast} = (1-\\pi)\\lambda(1-c^{\\ast})$$\n$$\\pi c^{\\ast} = (1-\\pi)\\lambda - (1-\\pi)\\lambda c^{\\ast}$$\n现在，我们求解 $c^{\\ast}$：\n$$\\pi c^{\\ast} + (1-\\pi)\\lambda c^{\\ast} = (1-\\pi)\\lambda$$\n$$c^{\\ast}[\\pi + \\lambda(1-\\pi)] = \\lambda(1-\\pi)$$\n$$c^{\\ast} = \\frac{\\lambda(1-\\pi)}{\\pi + \\lambda(1-\\pi)}$$\n为了确认这是一个最大值，我们检查二阶导数：\n$$\\frac{d^2(NB)}{dc^2} = \\frac{d}{dc} [-2\\pi c + 2(1-\\pi)\\lambda(1-c)] = -2\\pi - 2(1-\\pi)\\lambda$$\n由于 $\\pi > 0$，$(1-\\pi) > 0$，且 $\\lambda > 0$，我们有 $-2\\pi  0$ 和 $-2(1-\\pi)\\lambda  0$。因此，$\\frac{d^2(NB)}{dc^2}  0$，这证实了临界点 $c^{\\ast}$ 对应一个局部最大值。由于这是区间 $(0,1)$ 内唯一的临界点，因此它也是全局最大值。\n\n最后，我们将给定的数值 $\\pi = 0.20$ 和 $\\lambda = 0.05$ 代入 $c^{\\ast}$ 的表达式中。\n$$c^{\\ast} = \\frac{0.05(1-0.20)}{0.20 + 0.05(1-0.20)}$$\n$$c^{\\ast} = \\frac{0.05(0.80)}{0.20 + 0.05(0.80)}$$\n$$c^{\\ast} = \\frac{0.04}{0.20 + 0.04}$$\n$$c^{\\ast} = \\frac{0.04}{0.24} = \\frac{4}{24} = \\frac{1}{6}$$\n将分数转换为小数得到 $c^{\\ast} = 0.16666...$。\n四舍五入到四位有效数字，我们得到 $c^{\\ast} \\approx 0.1667$。",
            "answer": "$$\\boxed{0.1667}$$"
        }
    ]
}