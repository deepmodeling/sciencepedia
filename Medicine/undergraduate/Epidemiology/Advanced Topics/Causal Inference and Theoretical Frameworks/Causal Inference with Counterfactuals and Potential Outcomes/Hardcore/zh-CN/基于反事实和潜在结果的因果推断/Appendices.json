{
    "hands_on_practices": [
        {
            "introduction": "因果推断的核心挑战在于，我们永远无法同时观测到同一个体在接受和未接受干预时的两种潜在结果。这种“根本性问题”将因果推断巧妙地构建为一个缺失数据问题，这是一种强大而富有成效的类比。通过本练习，您将探索将因果问题形式化为缺失数据问题的过程，并阐明关键的可交换性假设与统计学中“随机缺失”等概念之间的深刻联系 。",
            "id": "4576125",
            "problem": "一名研究者分析一个观察性队列，以估计二元处理 $A \\in \\{0,1\\}$ 对一个标量结果 $Y$ 的因果效应。令潜在结果为 $Y(1)$ 和 $Y(0)$，并令观测结果满足稳定单位处理值假设（SUTVA）的一致性部分：$Y = Y(A)$。令 $X$ 表示一个测量的基线协变量向量。该研究者假设条件可交换性，即对于每个 $a \\in \\{0,1\\}$，$Y(a) \\perp A \\mid X$；并且还假设正值性，即对于每个具有正密度的协变量值，$0  \\Pr(A=1 \\mid X)  1$。\n\n考虑以下使用潜在结果进行因果推断的缺失数据框架：对于每个个体，两个潜在结果中有一个是未被观测到的。为潜在结果定义观测指示变量如下：对于每个 $a \\in \\{0,1\\}$，如果个体 $Y(a)$ 被观测到，则 $R_a$ 等于 $1$，否则等于 $0$。\n\n在条件可交换性下，哪个选项最好地描述了如何将此设置构建为一个缺失数据问题，并正确地对 $Y(1)$ 和 $Y(0)$ 的缺失机制进行分类？请选择唯一最佳选项。\n\nA. 定义 $R_a = \\mathbb{I}(A=a)$，使得当且仅当 $A=a$ 时观测到 $Y(a)$。在条件可交换性 $Y(a) \\perp A \\mid X$ 下，$Y(a)$ 的缺失在给定 $X$ 的条件下是随机缺失（MAR），因为给定 $(Y(a),X)$ 时 $R_a=1$ 的概率不依赖于 $Y(a)$。在一个具有 $A \\perp (X,Y(0),Y(1))$ 的完全随机试验中，缺失是完全随机缺失（MCAR）。\n\nB. 定义 $R_a = \\mathbb{I}(A=a)$，使得当且仅当 $A=a$ 时观测到 $Y(a)$。即使在条件可交换性 $Y(a) \\perp A \\mid X$ 下，$Y(a)$ 的缺失也是非随机缺失（MNAR），因为未观测到的 $Y(a)$ 必定在 $X$ 之外影响处理选择。\n\nC. 定义 $R_a = \\mathbb{I}(A=a)$，使得当且仅当 $A=a$ 时观测到 $Y(a)$。在任何具有正值性的观察性研究中，$Y(a)$ 的缺失都是完全随机缺失（MCAR），因为正值性意味着处理是随机分配的。\n\nD. 定义 $R_a = \\mathbb{I}(Y=a)$，使得当实现的结果等于 $a$ 时观测到 $Y(a)$。在条件可交换性 $Y(a) \\perp A \\mid X$ 下，$Y(a)$ 的缺失在不以 $X$ 为条件时是随机缺失（MAR），因为 $A$ 边际上独立于 $Y(a)$。",
            "solution": "该问题陈述已经过验证，被认为是合理的。它描述了现代因果推断中使用潜在结果框架的标准设置，并正确地提出了一个关于因果假设与缺失数据机制之间关系的问题。所有术语都有明确的定义，前提条件在内部是一致的，并且基于已建立的统计理论。\n\n该问题要求将潜在结果的观测构建为一个缺失数据问题，并对由此产生的缺失机制进行分类。\n\n首先，让我们形式化缺失数据框架。对于每个个体，“完整数据”可以被认为是潜在结果对 $(Y(0), Y(1))$ 以及基线协变量 $X$。由于处理分配的性质，这些潜在结果中只有一个能被观测到。观测到的结果 $Y$ 由一致性假设给出：$Y = Y(A)$。这意味着如果一个个体接受了处理 $A=1$，我们观测到 $Y=Y(1)$，而 $Y(0)$ 是未被观测到的（缺失）。如果一个个体接受了 $A=0$，我们观测到 $Y=Y(0)$，而 $Y(1)$ 是缺失的。\n\n因此，用于观测潜在结果 $Y(a)$ 的指示变量 $R_a$ 由处理分配 $A$ 定义。当且仅当个体接受了处理 $a$ 时，$Y(a)$ 才被观测到。因此，对于 $a \\in \\{0,1\\}$，观测指示变量是 $R_a = \\mathbb{I}(A=a)$，其中 $\\mathbb{I}(\\cdot)$ 是指示函数。\n\n接下来，我们对缺失机制进行分类。分类取决于缺失概率与数据（包括观测到的和未观测到的）之间的关系。让我们分析观测到 $Y(a)$ 的概率，即 $\\Pr(R_a=1, \\dots)$。\n\n标准定义如下：\n- **完全随机缺失 (MCAR):** 缺失的概率与观测数据和未观测数据都无关。形式上，$\\Pr(R_a = 1 \\mid Y(a), Y(1-a), X) = \\Pr(R_a = 1)$。\n- **随机缺失 (MAR):** 在以观测数据为条件时，缺失的概率与未观测数据无关。对于 $Y(a)$ 的缺失，这意味着观测到 $Y(a)$ 的概率可以依赖于观测变量（如 $X$），但不依赖于 $Y(a)$ 本身的值。形式上，$\\Pr(R_a = 1 \\mid Y(a), Y(1-a), X) = \\Pr(R_a = 1 \\mid Y(1-a), X)$。\n- **非随机缺失 (MNAR):** 即使在以观测数据为条件后，缺失的概率仍然依赖于未观测数据。\n\n让我们在给定的假设下评估观测到 $Y(a)$ 的概率。\n事件 $\\{R_a=1\\}$ 与事件 $\\{A=a\\}$ 是相同的。因此，我们正在研究概率 $\\Pr(A=a \\mid Y(a), Y(1-a), X)$。条件可交换性假设 $Y(a) \\perp A \\mid X$ 的一个更强且标准的版本是联合条件可交换性，即 $(Y(0),Y(1)) \\perp A \\mid X$。让我们基于这个标准假设进行分析。\n\n在条件可交换性下，我们有：\n$$ \\Pr(R_a = 1 \\mid Y(a), Y(1-a), X) = \\Pr(A=a \\mid Y(0), Y(1), X) = \\Pr(A=a \\mid X) $$\n这个结果概率 $\\Pr(A=a \\mid X)$ 依赖于协变量向量 $X$，它是完全被观测的。它不依赖于潜在结果 $Y(a)$（当 $A \\neq a$ 时，它将是“缺失值”），也不依赖于 $Y(1-a)$。这符合 MAR 的定义，其中 $Y(a)$ 的缺失是以观测变量 $X$ 为条件的。\n\n现在，让我们考虑完全随机试验的特殊情况。在此类试验中，处理分配 $A$ 与所有处理前变量无关，无论是测量的 ($X$) 还是未测量的（潜在结果 $Y(0), Y(1)$）。这对应于一个更强的假设，即无条件可交换性：$A \\perp (X, Y(0), Y(1))$。\n在此假设下：\n$$ \\Pr(R_a = 1 \\mid Y(a), Y(1-a), X) = \\Pr(A=a \\mid Y(0), Y(1), X) = \\Pr(A=a) $$\n观测到 $Y(a)$ 的概率是一个常数 $\\Pr(A=a)$，它不依赖于 $X$ 或潜在结果。这就是 MCAR 的定义。\n\n通过这个推导，我们现在可以评估各个选项。\n\nA. 定义 $R_a = \\mathbb{I}(A=a)$，使得当且仅当 $A=a$ 时观测到 $Y(a)$。在条件可交换性 $Y(a) \\perp A \\mid X$ 下，$Y(a)$ 的缺失在给定 $X$ 的条件下是随机缺失（MAR），因为给定 $(Y(a),X)$ 时 $R_a=1$ 的概率不依赖于 $Y(a)$。在一个具有 $A \\perp (X,Y(0),Y(1))$ 的完全随机试验中，缺失是完全随机缺失（MCAR）。\n- 定义 $R_a = \\mathbb{I}(A=a)$ 是正确的。\n- 根据我们的推导，在条件可交换性下将缺失机制分类为 MAR（给定 $X$）是正确的。所提供的理由也是正确的。$\\Pr(R_a=1 \\mid Y(a),X) = \\Pr(A=a \\mid Y(a),X)$，根据条件可交换性，这等于 $\\Pr(A=a \\mid X)$，一个不依赖于 $Y(a)$ 的量。\n- 在完全随机试验中将缺失机制分类为 MCAR 也是正确的，如上文推导所示。\n- **结论：正确。**\n\nB. 定义 $R_a = \\mathbb{I}(A=a)$，使得当且仅当 $A=a$ 时观测到 $Y(a)$。即使在条件可交换性 $Y(a) \\perp A \\mid X$ 下，$Y(a)$ 的缺失也是非随机缺失（MNAR），因为未观测到的 $Y(a)$ 必定在 $X$ 之外影响处理选择。\n- 定义 $R_a = \\mathbb{I}(A=a)$ 是正确的。\n- 声称缺失是 MNAR 是不正确的。条件可交换性假设 $Y(a) \\perp A \\mid X$ 正是确保一旦我们以 $X$ 为条件，缺失就*不是* MNAR（相对于 $Y(a)$）的条件。该选项的理由描述了一种违反给定假设的情景。\n- **结论：不正确。**\n\nC. 定义 $R_a = \\mathbb{I}(A=a)$，使得当且仅当 $A=a$ 时观测到 $Y(a)$。在任何具有正值性的观察性研究中，$Y(a)$ 的缺失都是完全随机缺失（MCAR），因为正值性意味着处理是随机分配的。\n- 定义 $R_a = \\mathbb{I}(A=a)$ 是正确的。\n- 声称在任何观察性研究中缺失都是 MCAR 是不正确的。要使缺失为 MCAR，我们需要 $\\Pr(A=a \\mid X)$ 在所有 $X$ 上都是常数，这是随机试验的定义特征，而不是一般观察性研究的特征，在后者中混杂（$A$ 对 $X$ 的依赖）是主要问题。\n- “正值性意味着处理是随机分配的”这一理由是错误的。正值性（$0  \\Pr(A=1|X)  1$）仅仅确保对于由 $X$ 定义的任何群体，都有一定的机会接受任一处理，这对于估计是必要的。它并不意味着这个机会对所有群体都是相同的。\n- **结论：不正确。**\n\nD. 定义 $R_a = \\mathbb{I}(Y=a)$，使得当实现的结果等于 $a$ 时观测到 $Y(a)$。在条件可交换性 $Y(a) \\perp A \\mid X$ 下，$Y(a)$ 的缺失在不以 $X$ 为条件时是随机缺失（MAR），因为 $A$ 边际上独立于 $Y(a)$。\n- 定义 $R_a = \\mathbb{I}(Y=a)$ 是无意义的。观测 $Y(a)$ 的指示变量不能以这种方式依赖于观测结果 $Y$。当分配的处理 $A=a$ 时，$Y(a)$ 被观测到。这个初始前提是有缺陷的。\n- 结论说在不以 $X$ 为条件时缺失是 MAR 也是不正确的，对于一般的观察性研究而言。这将需要边际独立性 $A \\perp Y(a)$，这是随机试验的无条件可交换性假设，而不是问题中给出的条件可交换性假设。通常，$Y(a) \\perp A \\mid X$ 并不意味着 $Y(a) \\perp A$。\n- **结论：不正确。**\n\n基于分析，选项 A 是唯一一个正确构建问题并根据指定条件准确分类缺失机制的选项。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "在现实世界的观察性研究中，由于混杂因素的存在，“可交换性”假设通常无法在总体层面直接成立，这导致关联不等于因果。本练习提供了一个具体的数值场景，旨在通过动手计算来揭示混杂如何引入偏倚。更重要的是，它将向您展示，在满足“条件可交换性”的条件下，我们如何通过对混杂因素进行分层或标准化来校正这种偏倚，从而准确估计因果效应 。",
            "id": "4576153",
            "problem": "考虑一项观察性队列研究，该研究评估二元处理 $A \\in \\{0,1\\}$ 对二元结局 $Y \\in \\{0,1\\}$ 的影响，其中基线混杂因素 $X \\in \\{0,1\\}$ 在处理前测量。令 $Y^1$ 和 $Y^0$ 分别表示接受处理和不接受处理下的潜在结局。本问题涉及以下核心概念与假设：一致性 ($Y = Y^A$)、可交换性 ($Y^a \\perp\\!\\!\\!\\perp A$ 对于 $a \\in \\{0,1\\}$)、条件可交换性 ($Y^a \\perp\\!\\!\\!\\perp A \\mid X$ 对于 $a \\in \\{0,1\\}$) 和正性 ($0  P(A=a \\mid X=x)  1$ 对于所有满足 $P(X=x) > 0$ 的 $x$)。平均处理效应 (ATE) 定义为 $E(Y^1) - E(Y^0)$。\n\n假设以下数据生成机制成立：\n- $P(X=1) = 0.5$ 且 $P(X=0) = 0.5$。\n- $P(A=1 \\mid X=1) = 0.8$ 且 $P(A=1 \\mid X=0) = 0.2$。\n- $E(Y^1 \\mid X=1) = 0.9$， $E(Y^1 \\mid X=0) = 0.5$； $E(Y^0 \\mid X=1) = 0.7$， $E(Y^0 \\mid X=0) = 0.2$。\n\n假设处理分配依赖于 $X$，但在给定 $X$ 的情况下，与潜在结局无关，并且所有模型假设在流行病学背景下都是科学上合理的。\n\n仅使用上述定义和给定的概率，评估以下哪些陈述是正确的：\n\nA. 因为一致性和正性成立，所以未调整的观测均值差异 $E(Y \\mid A=1) - E(Y \\mid A=0)$ 可以识别 $E(Y^1) - E(Y^0)$，因此不需要无条件可交换性。\n\nB. 在此设定中，无条件可交换性不成立，因为 $E(Y^1 \\mid A=1) \\neq E(Y^1)$，具体而言 $E(Y^1 \\mid A=1) = 0.82$ 而 $E(Y^1) = 0.7$。通过以 $X$ 为条件，条件可交换性得以满足，并且标准化方法恢复了 $E(Y^1) = 0.7$ 和 $E(Y^0) = 0.45$，得出的平均处理效应为 $0.25$。\n\nC. 对 $X$ 进行调整会引入选择偏倚，因为 $X$ 是一个受处理影响的对撞因子，因此在这种情况下对 $X$ 进行条件化是不恰当的。\n\nD. 正性被违反，因为 $P(A=1 \\mid X=0) = 0$，这意味着即使在以 $X$ 为条件后，$E(Y^a)$ 也不可识别。\n\nE. 在 $X$ 的各层内， $A=1$ 和 $A=0$ 之间的观测结局差异等于该层内的因果效应，将这些层特异性因果效应按 $P(X=x)$ 进行平均，即可得出真实的平均处理效应。\n\n选择所有适用的选项。",
            "solution": "用户提供了一个因果推断问题，并要求对几个陈述进行评估。我将首先验证问题陈述。\n\n### 步骤1：提取给定条件\n\n-   **变量**：二元处理 $A \\in \\{0,1\\}$，二元结局 $Y \\in \\{0,1\\}$，以及二元基线混杂因素 $X \\in \\{0,1\\}$。\n-   **潜在结局**：$Y^1$ (若 $A=1$ 时的结局)，$Y^0$ (若 $A=0$ 时的结局)。\n-   **定义与假设**：\n    -   一致性：$Y = Y^A$。\n    -   可交换性：$Y^a \\perp\\!\\!\\!\\perp A$ 对于 $a \\in \\{0,1\\}$。\n    -   条件可交换性：$Y^a \\perp\\!\\!\\!\\perp A \\mid X$ 对于 $a \\in \\{0,1\\}$。假定此项成立。\n    -   正性：$0  P(A=a \\mid X=x)  1$ 对于所有满足 $P(X=x) > 0$ 的 $x$。\n-   **目标量**：平均处理效应 (ATE) $= E(Y^1) - E(Y^0)$。\n-   **数据生成机制**：\n    -   $P(X=1) = 0.5$ 且 $P(X=0) = 0.5$。\n    -   $P(A=1 \\mid X=1) = 0.8$ 且 $P(A=1 \\mid X=0) = 0.2$。\n    -   $E(Y^1 \\mid X=1) = 0.9$ 且 $E(Y^1 \\mid X=0) = 0.5$。\n    -   $E(Y^0 \\mid X=1) = 0.7$ 且 $E(Y^0 \\mid X=0) = 0.2$。\n\n### 步骤2：使用提取的给定条件进行验证\n\n-   **科学基础**：该问题设置在潜在结局框架（也称为鲁宾因果模型）内，这是流行病学、统计学和其他定量科学中用于因果推断的标准且严格定义的方法。可交换性、正性、一致性、混杂和ATE等概念是该框架的基本原则。该设置描述了一个典型的混杂场景，其中变量 $X$ 是处理 $A$ 和结局 $Y$ 的共同原因。所有元素在科学上都是合理的。\n-   **定义明确**：问题提供了足够的数值数据和清晰的定义，以计算感兴趣的因果效应（ATE）和相应的关联系数（未调整的平均结局差异）。问题是明确的。\n-   **客观性**：问题使用精确、形式化的数学和统计语言陈述，没有主观性或模糊性。\n-   **缺陷检查**：\n    1.  **科学/事实不健全**：无。概率模型是自洽的，并遵守概率公理。\n    2.  **无法形式化/不相关**：无。该问题是一个应用概率和因果理论的形式化练习。\n    3.  **设置不完整/矛盾**：无。所有必要信息均已提供。例如，$P(A=0 \\mid X=1) = 1 - P(A=1 \\mid X=1) = 1 - 0.8 = 0.2$，且 $P(A=0 \\mid X=0) = 1 - P(A=1 \\mid X=0) = 1 - 0.2 = 0.8$。所有概率都是一致的。\n    4.  **不切实际/不可行**：无。这些值是假设的，但在观察性研究中代表了一个可能的情景。\n    5.  **病态/结构不良**：无。问题结构良好。\n    6.  **伪深刻/琐碎**：无。该问题测试了流行病学中的一个基本概念：关联与因果之间的区别，以及用于校正混杂的方法（标准化/分层）。\n    7.  **超出科学可验证范围**：无。所有主张都可以通过计算来验证。\n\n### 步骤3：结论与行动\n\n此问题是**有效的**。我将进行完整的推导并评估每个选项。\n\n### 因果量与关联量的推导\n\n**1. 计算平均处理效应 (ATE)**\n\nATE, $E(Y^1) - E(Y^0)$, 是一个因果量。由于假定条件可交换性 ($Y^a \\perp\\!\\!\\!\\perp A \\mid X$) 成立，我们可以通过对混杂因素 $X$ 的分布进行标准化来识别潜在结局的边际均值。\n\n标准化的公式为 $E(Y^a) = \\sum_{x} E(Y^a \\mid X=x) P(X=x)$。\n\n对于 $Y^1$：\n$$ E(Y^1) = E(Y^1 \\mid X=1)P(X=1) + E(Y^1 \\mid X=0)P(X=0) $$\n$$ E(Y^1) = (0.9)(0.5) + (0.5)(0.5) = 0.45 + 0.25 = 0.70 $$\n\n对于 $Y^0$：\n$$ E(Y^0) = E(Y^0 \\mid X=1)P(X=1) + E(Y^0 \\mid X=0)P(X=0) $$\n$$ E(Y^0) = (0.7)(0.5) + (0.2)(0.5) = 0.35 + 0.10 = 0.45 $$\n\n因此，ATE 为：\n$$ \\text{ATE} = E(Y^1) - E(Y^0) = 0.70 - 0.45 = 0.25 $$\n\n**2. 计算未调整的关联差异**\n\n这是处理组和未处理组之间非因果的“粗略”均值差异：$E(Y \\mid A=1) - E(Y \\mid A=0)$。我们使用全期望定律，以 $X$ 为条件。\n$$ E(Y \\mid A=a) = \\sum_{x} E(Y \\mid A=a, X=x) P(X=x \\mid A=a) $$\n在一致性 ($Y=Y^A$) 和条件可交换性 ($Y^a \\perp\\!\\!\\!\\perp A \\mid X$) 的假设下，我们有 $E(Y \\mid A=a, X=x) = E(Y^a \\mid A=a, X=x) = E(Y^a \\mid X=x)$。所以：\n$$ E(Y \\mid A=1, X=1) = E(Y^1 \\mid X=1) = 0.9 $$\n$$ E(Y \\mid A=1, X=0) = E(Y^1 \\mid X=0) = 0.5 $$\n$$ E(Y \\mid A=0, X=1) = E(Y^0 \\mid X=1) = 0.7 $$\n$$ E(Y \\mid A=0, X=0) = E(Y^0 \\mid X=0) = 0.2 $$\n\n接下来，我们需要条件概率 $P(X=x \\mid A=a)$，我们使用贝叶斯定理来找到它。首先，我们找到处理的边际概率 $P(A=1)$：\n$$ P(A=1) = P(A=1 \\mid X=1)P(X=1) + P(A=1 \\mid X=0)P(X=0) $$\n$$ P(A=1) = (0.8)(0.5) + (0.2)(0.5) = 0.4 + 0.1 = 0.5 $$\n因此，$P(A=0) = 1 - P(A=1) = 0.5$。\n\n现在使用贝叶斯定理：\n$$ P(X=1 \\mid A=1) = \\frac{P(A=1 \\mid X=1) P(X=1)}{P(A=1)} = \\frac{(0.8)(0.5)}{0.5} = 0.8 $$\n$$ P(X=0 \\mid A=1) = 1 - P(X=1 \\mid A=1) = 0.2 $$\n$$ P(X=1 \\mid A=0) = \\frac{P(A=0 \\mid X=1) P(X=1)}{P(A=0)} = \\frac{(1-0.8)(0.5)}{0.5} = 0.2 $$\n$$ P(X=0 \\mid A=0) = 1 - P(X=1 \\mid A=0) = 0.8 $$\n\n现在我们可以计算观测均值：\n$$ E(Y \\mid A=1) = E(Y \\mid A=1, X=1)P(X=1 \\mid A=1) + E(Y \\mid A=1, X=0)P(X=0 \\mid A=1) $$\n$$ E(Y \\mid A=1) = (0.9)(0.8) + (0.5)(0.2) = 0.72 + 0.10 = 0.82 $$\n\n$$ E(Y \\mid A=0) = E(Y \\mid A=0, X=1)P(X=1 \\mid A=0) + E(Y \\mid A=0, X=0)P(X=0 \\mid A=0) $$\n$$ E(Y \\mid A=0) = (0.7)(0.2) + (0.2)(0.8) = 0.14 + 0.16 = 0.30 $$\n\n未调整的关联差异为：\n$$ E(Y \\mid A=1) - E(Y \\mid A=0) = 0.82 - 0.30 = 0.52 $$\n\n### 逐项分析\n\n**A. 因为一致性和正性成立，所以未调整的观测均值差异 $E(Y \\mid A=1) - E(Y \\mid A=0)$ 可以识别 $E(Y^1) - E(Y^0)$，因此不需要无条件可交换性。**\n该陈述声称未调整的差异 ($0.52$) 可以识别 ATE ($0.25$)。我们的计算表明这是错误的 ($0.52 \\neq 0.25$)。这种差异的原因是混杂，这等同于无条件可交换性的不成立。要使未调整的差异能够识别ATE，需要三个假设：一致性、正性 和 无条件可交换性。该陈述错误地声称第三个假设不是必需的。\n**结论：错误。**\n\n**B. 在此设定中，无条件可交换性不成立，因为 $E(Y^1 \\mid A=1) \\neq E(Y^1)$，具体而言 $E(Y^1 \\mid A=1) = 0.82$ 而 $E(Y^1) = 0.7$。通过以 $X$ 为条件，条件可交换性得以满足，并且标准化方法恢复了 $E(Y^1) = 0.7$ 和 $E(Y^0) = 0.45$，得出的平均处理效应为 $0.25$。**\n让我们验证此陈述中的每个主张。\n1.  无条件可交换性不成立：这意味着 $E(Y^a \\mid A=1) \\neq E(Y^a)$。对于 $a=1$，我们需要检查是否 $E(Y^1 \\mid A=1) \\neq E(Y^1)$。\n    根据我们的ATE计算，$E(Y^1)=0.70$。\n    $E(Y^1 \\mid A=1)$ 可以计算为：\n    $E(Y^1 \\mid A=1) = \\sum_{x} E(Y^1 \\mid A=1, X=x)P(X=x \\mid A=1)$。由于条件可交换性，这等于 $\\sum_{x} E(Y^1 \\mid X=x)P(X=x \\mid A=1)$。\n    $E(Y^1 \\mid A=1) = E(Y^1 \\mid X=1)P(X=1 \\mid A=1) + E(Y^1 \\mid X=0)P(X=0 \\mid A=1) = (0.9)(0.8) + (0.5)(0.2) = 0.72 + 0.10 = 0.82$。\n    该陈述正确地断言 $E(Y^1 \\mid A=1) = 0.82 \\neq E(Y^1) = 0.7$。\n2.  可交换性的恢复： “条件可交换性得以满足”的说法稍显不正式；关键点在于，我们假设条件可交换性成立，这使得调整成为可能。\n3.  标准化值：该陈述声称标准化得出 $E(Y^1) = 0.7$ 和 $E(Y^0) = 0.45$。这与我们的计算完全匹配。\n4.  ATE 值：该陈述声称 ATE 为 $0.7 - 0.45 = 0.25$。这也与我们的计算相符。\n每个数值声明和核心概念点都是正确的。\n**结论：正确。**\n\n**C. 对 $X$ 进行调整会引入选择偏倚，因为 $X$ 是一个受处理影响的对撞因子，因此在这种情况下对 $X$ 进行条件化是不恰当的。**\n该陈述错误地描述了因果结构。$X$ 是在处理前测量的基线变量，因此它不可能“受处理影响”($A$)。数据生成过程意味着 $X$ 既影响处理分配（$P(A=1|X)$ 依赖于 $X$），也影响潜在结局（$E(Y^a|X)$ 依赖于 $X$）。这使得 $X$ 成为 $A$ 和 $Y$ 的共同原因，即一个混杂因素，其结构为 $A \\leftarrow X \\rightarrow Y$。对撞因子的结构会是 $A \\rightarrow X \\leftarrow Y$。对混杂因素进行条件化是阻断后门路径和消除混杂偏倚的标准且正确的程序。对对撞因子进行条件化会引入偏倚（选择偏倚），但在这里 $X$ 不是对撞因子。\n**结论：错误。**\n\n**D. 正性被违反，因为 $P(A=1 \\mid X=0) = 0$，这意味着即使在以 $X$ 为条件后，$E(Y^a)$ 也不可识别。**\n正性假设要求对于群体中存在的所有 $a$ 和 $x$ 的水平，$0  P(A=a \\mid X=x)  1$。我们已知 $P(A=1 \\mid X=0) = 0.2$。这个值大于 $0$。该陈述的前提 $P(A=1 \\mid X=0) = 0$ 基于所给定的条件在事实上是错误的。我们也可以检查其他条件：\n$P(A=0 \\mid X=0) = 1 - 0.2 = 0.8 > 0$。\n$P(A=1 \\mid X=1) = 0.8 > 0$。\n$P(A=0 \\mid X=1) = 1 - 0.8 = 0.2 > 0$。\n对于两个处理水平，在所有层中正性都得到满足。因此，效应不可识别（由于违反了正性）的结论也是错误的。\n**结论：错误。**\n\n**E. 在 $X$ 的各层内， $A=1$ 和 $A=0$ 之间的观测结局差异等于该层内的因果效应，将这些层特异性因果效应按 $P(X=x)$ 进行平均，即可得出真实的平均处理效应。**\n我们分两部分来分析这个陈述。\n1.  “在 $X$ 的各层内，观测结局的差异……等于该层内的因果效应”。\n    层 $x$ 内的观测差异是 $E(Y \\mid A=1, X=x) - E(Y \\mid A=0, X=x)$。\n    层 $x$ 内的因果效应是 $E(Y^1 \\mid X=x) - E(Y^0 \\mid X=x)$。\n    在一致性和条件可交换性的前提下，$E(Y \\mid A=a, X=x) = E(Y^a \\mid X=x)$。因此，一个层内的观测差异确实等于该层的因果效应。这部分是正确的。\n    对于 $X=1$：$E(Y^1|X=1)-E(Y^0|X=1) = 0.9 - 0.7 = 0.2$。\n    对于 $X=0$：$E(Y^1|X=0)-E(Y^0|X=0) = 0.5 - 0.2 = 0.3$。\n2.  “将这些层特异性因果效应按 $P(X=x)$ 进行平均，即可得出真实的平均处理效应。”\n    ATE是 $E(Y^1) - E(Y^0)$。根据全期望定律：\n    $E(Y^1) - E(Y^0) = \\sum_{x} E(Y^1 \\mid X=x)P(X=x) - \\sum_{x} E(Y^0 \\mid X=x)P(X=x) = \\sum_{x} [E(Y^1 \\mid X=x) - E(Y^0 \\mid X=x)]P(X=x)$。\n    这个方程表明，ATE 是层特异性因果效应的加权平均，权重由每个层的流行率 $P(X=x)$ 给出。这个原则被称为标准化或分层。这部分也是正确的。\n    计算检验：$(0.2)P(X=1) + (0.3)P(X=0) = (0.2)(0.5) + (0.3)(0.5) = 0.10 + 0.15 = 0.25$。这与我们的 ATE 相符。\n整个陈述正确地描述了通过分层进行识别的方法。\n**结论：正确。**",
            "answer": "$$\\boxed{BE}$$"
        }
    ]
}