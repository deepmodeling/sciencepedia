{
    "hands_on_practices": [
        {
            "introduction": "计算出 SMR 后，理解其局限性是至关重要的一步。本练习探讨了其中最关键的一点：标准人口的选择。通过使用两个不同的标准人口，本练习将具体展示 SMR 是一个相对而非绝对的衡量指标，其数值会随着参照对象的改变而变化。这项实践旨在培养对 SMR 解释和可比性的批判性思维。",
            "id": "4601227",
            "problem": "一个市政当局希望使用间接年龄标化方法，将其全因死亡率情况与外部人群进行比较。研究人群被观察了一年，该市的年龄分布和观测死亡数如下：\n- 年龄0–44岁：人口规模 $40{,}000$，观测死亡数 $40$。\n- 年龄45–64岁：人口规模 $15{,}000$，观测死亡数 $45$。\n- 年龄65–74岁：人口规模 $6{,}000$，观测死亡数 $60$。\n- 年龄75岁及以上：人口规模 $4{,}000$，观测死亡数 $160$。\n\n两个备选的外部标准提供了用于间接标化的年龄别全因死亡率（每人年）：\n- 标准A：年龄0–44岁死亡率 $0.0008$，年龄45–64岁死亡率 $0.0025$，年龄65–74岁死亡率 $0.0090$，年龄75岁及以上死亡率 $0.0500$。\n- 标准B：年龄0–44岁死亡率 $0.0012$，年龄45–64岁死亡率 $0.0030$，年龄65–74岁死亡率 $0.0110$，年龄75岁及以上死亡率 $0.0350$。\n\n仅使用间接标化的基本原理，按以下步骤进行：\n1) 通过将各标准的年龄别率应用于研究人群的年龄别人年，计算研究人群的总观测死亡数 $O$ 和在每个标准下的预期死亡数 $E$。\n2) 根据这些量，计算该市在每个标准下的标化死亡比 (SMR)。\n3) 定性解释为什么在标准A和标准B下，预期死亡数和SMR会有所不同，将你的解释与研究人群的年龄结构和外部年龄别率之间的相互作用联系起来。\n4) 最后，报告两个标化死亡比的比值，定义为 $\\text{SMR under Standard A} \\div \\text{SMR under Standard B}$。将你的答案四舍五入到四位有效数字。将最终结果表示为一个无单位的纯数。",
            "solution": "间接年龄标化的基本原理是通过将外部年龄别死亡率应用于研究人群的年龄别人时（这里，每个人为一年，所以人年等于人口数）来构建预期死亡数。设各年龄组的研究人群规模为 $N_{i}$，观测死亡数为 $O_{i}$，外部年龄别率为 $r_{i}^{(\\cdot)}$。那么，总观测死亡数为 $O=\\sum_{i} O_{i}$，对于一个选定的标准，预期死亡数为 $E=\\sum_{i} N_{i}\\,r_{i}^{(\\text{standard})}$。标化死亡比 (SMR) 为 $\\text{SMR}=O/E$。\n\n步骤 1：计算 $O$ 和每个标准下的预期死亡数。\n- 总观测死亡数：\n$$\nO \\;=\\; 40 \\;+\\; 45 \\;+\\; 60 \\;+\\; 160 \\;=\\; 305.\n$$\n\n- 标准A下的预期死亡数：\n各组的贡献如下\n$$\nE_{0\\text{–}44}^{(A)} \\;=\\; 40{,}000 \\times 0.0008 \\;=\\; 32.0,\n$$\n$$\nE_{45\\text{–}64}^{(A)} \\;=\\; 15{,}000 \\times 0.0025 \\;=\\; 37.5,\n$$\n$$\nE_{65\\text{–}74}^{(A)} \\;=\\; 6{,}000 \\times 0.0090 \\;=\\; 54.0,\n$$\n$$\nE_{75+}^{(A)} \\;=\\; 4{,}000 \\times 0.0500 \\;=\\; 200.0.\n$$\n因此，\n$$\nE^{(A)} \\;=\\; 32.0 \\;+\\; 37.5 \\;+\\; 54.0 \\;+\\; 200.0 \\;=\\; 323.5.\n$$\n\n- 标准B下的预期死亡数：\n各组的贡献如下\n$$\nE_{0\\text{–}44}^{(B)} \\;=\\; 40{,}000 \\times 0.0012 \\;=\\; 48.0,\n$$\n$$\nE_{45\\text{–}64}^{(B)} \\;=\\; 15{,}000 \\times 0.0030 \\;=\\; 45.0,\n$$\n$$\nE_{65\\text{–}74}^{(B)} \\;=\\; 6{,}000 \\times 0.0110 \\;=\\; 66.0,\n$$\n$$\nE_{75+}^{(B)} \\;=\\; 4{,}000 \\times 0.0350 \\;=\\; 140.0.\n$$\n因此，\n$$\nE^{(B)} \\;=\\; 48.0 \\;+\\; 45.0 \\;+\\; 66.0 \\;+\\; 140.0 \\;=\\; 299.0.\n$$\n\n步骤 2：计算每个标准下的 SMR。\n$$\n\\text{SMR}^{(A)} \\;=\\; \\frac{O}{E^{(A)}} \\;=\\; \\frac{305}{323.5} \\;\\approx\\; 0.94282,\n$$\n$$\n\\text{SMR}^{(B)} \\;=\\; \\frac{O}{E^{(B)}} \\;=\\; \\frac{305}{299.0} \\;\\approx\\; 1.02007.\n$$\n\n步骤 3：解释不同标准下 $E$ 和 SMR 的差异。\n预期死亡数取决于外部率 $r_{i}^{(\\cdot)}$ 和研究人群按年龄划分的 $N_{i}$。标准A在最高年龄组（75岁以上）的死亡率显著更高：$0.0500$，而标准B为 $0.0350$。鉴于研究人群中有 $4{,}000$ 名75岁以上的人，这使得该年龄层的 $E^{(A)}$ 相对于标准B增加了 $60$。尽管标准B在较年轻和中年年龄组的死亡率更高（例如，0–44岁年龄组为 $0.0012$ 对比 $0.0008$），但这些年龄组所增加的预期死亡数（0–44岁组增加 $16$，45–64岁组增加 $7.5$，65–74岁组增加 $12$）总共为 $+35.5$，这小于标准A因其在最高年龄组死亡率更高而多出的 $60$ 个预期死亡数。因此，$E^{(A)}$ 比 $E^{(B)}$ 多 $323.5 - 299.0 = 24.5$，这使得 $\\text{SMR}^{(A)}$ 小于 $\\text{SMR}^{(B)}$，因为在标准A下，相同的 $O$ 被一个更大的 $E$ 所除。\n\n步骤 4：报告 SMR 的比值，$\\text{SMR}^{(A)} \\div \\text{SMR}^{(B)}$。\n代数上，\n$$\n\\frac{\\text{SMR}^{(A)}}{\\text{SMR}^{(B)}} \\;=\\; \\frac{O/E^{(A)}}{O/E^{(B)}} \\;=\\; \\frac{E^{(B)}}{E^{(A)}} \\;=\\; \\frac{299.0}{323.5}.\n$$\n计算并四舍五入到四位有效数字：\n$$\n\\frac{299.0}{323.5} \\;\\approx\\; 0.9243.\n$$\n因此，SMR的比值为 $0.9243$（保留四位有效数字），这表明使用标准A得出的SMR比使用标准B得出的SMR低约 $7.57\\%$，这主要是由于标准A中最高年龄组的较高死亡率与研究人群中该较老年龄层的人口规模相互作用的结果。",
            "answer": "$$\\boxed{0.9243}$$"
        },
        {
            "introduction": "最后的这个练习将 SMR 与一个正式的统计模型联系起来，从而提升我们对它的理解。它揭示了 SMR 不仅仅是一个临时的比率，而是源于一个有原则的统计模型的估计值。本练习将间接标准化表述为一个泊松回归问题，并展示 SMR 如何作为率比（rate ratio）$\\theta$ 的最大似然估计量 $\\hat{\\theta}$ 被推导出来，为 SMR 提供了更深层次的理论依据。",
            "id": "4601154",
            "problem": "一个公共卫生团队正在评估一个研究城市的全因死亡率是否与该城市具有与标准人群相同的年龄别死亡率经验时所预期的死亡率有所不同。对于由 $a \\in \\{1,2,3,4\\}$ 索引的每个年龄组，令 $O_a$ 为一年期间内观测到的死亡人数，$N_a$ 为总风险人年数（在一年期间内等于年中人口），$r_a^{std}$ 为标准人群的年龄别死亡率（每人年）。假设在每个年龄组内，死亡人数服从均值为 $\\mu_a$ 的独立泊松分布，并且该城市的各年龄组特定死亡率是标准死亡率在所有年龄组上的一个恒定倍数。也就是说，假设一个具有对数连接的对数线性泊松模型，\n$$\nO_a \\sim \\text{Poisson}(\\mu_a), \\quad \\text{with} \\quad \\mu_a = \\theta \\, N_a \\, r_a^{std}, \\quad \\text{等价地} \\quad \\log(\\mu_a) = \\log(N_a) + \\log(r_a^{std}) + \\log(\\theta),\n$$\n其中 $\\theta$ 是一个未知标量，代表所有年龄组共有的城市与标准人群的比率。仅使用泊松计数间的独立性、泊松概率质量函数以及上述模型设定，从第一性原理推导最大似然估计量 $\\hat{\\theta}$，并将其等同于间接标准化死亡比（Standardized Mortality Ratio, SMR）。然后根据以下数据计算其数值：\n\n- 年龄组 1：$N_1 = 50{,}000$，$r^{std}_1 = 5.0 \\times 10^{-4}$ 每人年，$O_1 = 30$。\n- 年龄组 2：$N_2 = 30{,}000$，$r^{std}_2 = 2.0 \\times 10^{-3}$ 每人年，$O_2 = 50$。\n- 年龄组 3：$N_3 = 15{,}000$，$r^{std}_3 = 1.0 \\times 10^{-2}$ 每人年，$O_3 = 160$。\n- 年龄组 4：$N_4 = 5{,}000$，$r^{std}_4 = 4.0 \\times 10^{-2}$ 每人年，$O_4 = 210$。\n\n将 $\\hat{\\theta}$ 的最终数值报告为一个无量纲比率，并四舍五入到四位有效数字。",
            "solution": "该问题要求推导指定泊松回归模型中参数 $\\theta$ 的最大似然估计量（MLE），将其等同于标准化死亡比（SMR），并根据所提供的数据进行数值计算。\n\n该模型为四个年龄组定义，由 $a \\in \\{1, 2, 3, 4\\}$ 索引。对于每个年龄组，观测到的死亡人数 $O_a$ 假定服从泊松分布，$O_a \\sim \\text{Poisson}(\\mu_a)$。各年龄组的计数 $O_a$ 是相互独立的。泊松分布的均值 $\\mu_a$ 被建模为 $\\mu_a = \\theta \\, N_a \\, r_a^{std}$，其中 $N_a$ 是风险人年数，$r_a^{std}$ 是标准人群的年龄别死亡率，$\\theta$ 是我们希望估计的共同比率。\n\n首先，我们构建似然函数 $L(\\theta)$。对于均值为 $\\mu_a$ 的泊松随机变量，在观测计数 $O_a$ 处的概率质量函数（PMF）为：\n$$\nP(O_a | \\mu_a) = \\frac{e^{-\\mu_a} \\mu_a^{O_a}}{O_a!}\n$$\n将均值模型 $\\mu_a = \\theta N_a r_a^{std}$ 代入，我们得到：\n$$\nP(O_a | \\theta) = \\frac{\\exp(-\\theta N_a r_a^{std}) (\\theta N_a r_a^{std})^{O_a}}{O_a!}\n$$\n由于各年龄组的计数 $O_a$ 相互独立，总似然函数 $L(\\theta)$ 是每个年龄组个体概率的乘积：\n$$\nL(\\theta) = \\prod_{a=1}^{4} P(O_a | \\theta) = \\prod_{a=1}^{4} \\frac{\\exp(-\\theta N_a r_a^{std}) (\\theta N_a r_a^{std})^{O_a}}{O_a!}\n$$\n为了找到最大似然估计量，在数学上更方便的是最大化似然函数的自然对数，即对数似然函数 $\\ell(\\theta) = \\ln(L(\\theta))$。\n$$\n\\ell(\\theta) = \\ln \\left( \\prod_{a=1}^{4} \\frac{\\exp(-\\theta N_a r_a^{std}) (\\theta N_a r_a^{std})^{O_a}}{O_a!} \\right)\n$$\n利用对数的性质，乘积变成和：\n$$\n\\ell(\\theta) = \\sum_{a=1}^{4} \\ln \\left( \\frac{\\exp(-\\theta N_a r_a^{std}) (\\theta N_a r_a^{std})^{O_a}}{O_a!} \\right)\n$$\n$$\n\\ell(\\theta) = \\sum_{a=1}^{4} \\left[ \\ln(\\exp(-\\theta N_a r_a^{std})) + \\ln((\\theta N_a r_a^{std})^{O_a}) - \\ln(O_a!) \\right]\n$$\n$$\n\\ell(\\theta) = \\sum_{a=1}^{4} \\left[ -\\theta N_a r_a^{std} + O_a \\ln(\\theta N_a r_a^{std}) - \\ln(O_a!) \\right]\n$$\n我们可以进一步展开 $\\ln(\\theta N_a r_a^{std})$ 项，并将涉及 $\\theta$ 的项与常数项（不依赖于 $\\theta$ 的项）分开：\n$$\n\\ell(\\theta) = \\sum_{a=1}^{4} \\left[ -\\theta N_a r_a^{std} + O_a (\\ln(\\theta) + \\ln(N_a r_a^{std})) - \\ln(O_a!) \\right]\n$$\n$$\n\\ell(\\theta) = -\\theta \\sum_{a=1}^{4} N_a r_a^{std} + (\\ln\\theta) \\sum_{a=1}^{4} O_a + \\sum_{a=1}^{4} \\left[ O_a \\ln(N_a r_a^{std}) - \\ln(O_a!) \\right]\n$$\n为了找到使 $\\ell(\\theta)$ 最大化的 $\\theta$ 值，我们计算 $\\ell(\\theta)$ 关于 $\\theta$ 的一阶导数并令其为零。\n$$\n\\frac{d\\ell}{d\\theta} = \\frac{d}{d\\theta} \\left( -\\theta \\sum_{a=1}^{4} N_a r_a^{std} + (\\ln\\theta) \\sum_{a=1}^{4} O_a + \\text{constant} \\right)\n$$\n$$\n\\frac{d\\ell}{d\\theta} = -\\sum_{a=1}^{4} N_a r_a^{std} + \\frac{1}{\\theta} \\sum_{a=1}^{4} O_a\n$$\n将导数设为零，我们求解估计量 $\\hat{\\theta}$：\n$$\n-\\sum_{a=1}^{4} N_a r_a^{std} + \\frac{1}{\\hat{\\theta}} \\sum_{a=1}^{4} O_a = 0\n$$\n$$\n\\frac{1}{\\hat{\\theta}} \\sum_{a=1}^{4} O_a = \\sum_{a=1}^{4} N_a r_a^{std}\n$$\n$$\n\\hat{\\theta} = \\frac{\\sum_{a=1}^{4} O_a}{\\sum_{a=1}^{4} N_a r_a^{std}}\n$$\n为了确认这是一个最大值，我们检查二阶导数：\n$$\n\\frac{d^2\\ell}{d\\theta^2} = -\\frac{1}{\\theta^2} \\sum_{a=1}^{4} O_a\n$$\n由于 $O_a \\ge 0$ 是计数，且对于非平凡情况 $\\sum O_a > 0$，并且 $\\theta^2 > 0$，所以二阶导数总是负的。这证实了 $\\hat{\\theta}$ 确实是最大似然估计量。\n\n这个估计量 $\\hat{\\theta}$ 与间接年龄标准化中使用的标准化死亡比（SMR）是相同的。分子 $\\sum_{a=1}^{4} O_a$ 是研究人群中观测到的总死亡人数。分母中的项 $N_a r_a^{std}$ 代表研究人群中年龄组 $a$ 的预期死亡人数，即假设其死亡率与标准人群相同。因此，总和 $\\sum_{a=1}^{4} N_a r_a^{std}$ 是在标准人群死亡率下，研究人群的总预期死亡人数。因此，最大似然估计量是总观测死亡人数与总预期死亡人数之比，这正是 SMR 的定义。\n\n现在，我们使用提供的数据计算 $\\hat{\\theta}$ 的数值。\n首先，我们计算总观测死亡人数 $O_{total}$：\n$$\nO_{total} = \\sum_{a=1}^{4} O_a = 30 + 50 + 160 + 210 = 450\n$$\n接下来，我们计算每个年龄组的预期死亡人数 $E_a = N_a r_a^{std}$：\n-   $E_1 = N_1 r_1^{std} = 50000 \\times (5.0 \\times 10^{-4}) = 25$\n-   $E_2 = N_2 r_2^{std} = 30000 \\times (2.0 \\times 10^{-3}) = 60$\n-   $E_3 = N_3 r_3^{std} = 15000 \\times (1.0 \\times 10^{-2}) = 150$\n-   $E_4 = N_4 r_4^{std} = 5000 \\times (4.0 \\times 10^{-2}) = 200$\n\n然后，我们计算总预期死亡人数 $E_{total}$：\n$$\nE_{total} = \\sum_{a=1}^{4} E_a = 25 + 60 + 150 + 200 = 435\n$$\n最后，我们计算最大似然估计量 $\\hat{\\theta}$：\n$$\n\\hat{\\theta} = \\frac{O_{total}}{E_{total}} = \\frac{450}{435}\n$$\n$$\n\\hat{\\theta} \\approx 1.03448275...\n$$\n按要求四舍五入到四位有效数字，我们得到：\n$$\n\\hat{\\theta} \\approx 1.034\n$$\n这个值表明，研究城市的死亡率比其具有与标准人群相同的年龄别死亡率时所预期的死亡率高出约 $3.4\\%$。",
            "answer": "$$ \\boxed{1.034} $$"
        }
    ]
}