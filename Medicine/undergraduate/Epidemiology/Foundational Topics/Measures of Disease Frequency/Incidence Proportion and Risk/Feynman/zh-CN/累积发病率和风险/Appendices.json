{
    "hands_on_practices": [
        {
            "introduction": "本次实践从最基本的情景入手，即在一个理想化的“封闭队列”中计算发病比。这个练习旨在帮助你掌握发病比（或风险）的核心定义，它是衡量特定时期内新发病例在初始风险人群中所占比例的指标。理解这个基础计算是后续学习更复杂流行病学测量方法的基石。",
            "id": "4599565",
            "problem": "一个公共卫生团队在基线时招募了一个规模为 $N=10{,}000$ 的封闭队列，以研究在 $2$ 年内某一明确定义的首次不良健康事件的发生情况。在入组前，没有人发生过该事件。该队列被完整随访了 $2$ 年：没有失访，没有妨碍观察首次事件的竞争事件，并且每人最多只发生一次首次事件。到 $2$ 年结束时，恰好有 $400$ 名不同的个体经历了他们的首次事件。\n\n仅使用适用于无失访的封闭队列的基本定义，确定2年累积发病率，记为 $IP(2)$。将此量解释为在2年期间内，一名随机选择的队列成员发生事件的概率。将您的最终答案表示为小数。不要使用百分号。",
            "solution": "在尝试解答之前，将对问题陈述进行验证。\n\n### 第1步：提取已知条件\n- 基线队列规模：$N = 10{,}000$\n- 队列类型：封闭队列\n- 随访期：$T = 2$ 年\n- 初始条件：入组前无人发生过该事件。\n- 随访完整性：队列被完整随访了 $2$ 年。\n- 具体条件：没有失访，没有妨碍观察首次事件的竞争事件，并且每人最多只发生一次首次事件。\n- 事件数：到 $2$ 年结束时，恰好有 $400$ 名不同的个体经历了他们的首次事件。\n- 要求量：2年累积发病率，记为 $IP(2)$。\n- 要求解释：将此量解释为随机选择的队列成员的概率。\n- 最终答案的格式要求：小数。\n\n### 第2步：使用提取的已知条件进行验证\n1.  **科学依据**：该问题基于流行病学的基本原理，特别是队列研究中疾病发生率的测量。封闭队列、累积发病率（风险）和完整随访的概念是标准的流行病学定义。\n2.  **适定性**：该问题是适定的。它提供了计算累积发病率所需的所有数据：新发病例数和初始风险人群的规模。问题没有歧义。这些条件虽然理想化（例如，没有失访），但使得问题可以使用累积发病率的基本定义来解决，而无需使用更高级的方法，如生存分析。\n3.  **客观性**：该问题使用清晰、客观和定量的语言陈述。它不含任何主观性或意见。\n\n该问题不存在科学不健全、不完整、矛盾或模糊等任何缺陷。这是一个标准的、尽管理想化了的问题，旨在测试对核心流行病学概念的理解。\n\n### 第3步：结论与行动\n问题有效。将提供解答。\n\n### 解答\n待确定的量是2年累积发病率 $IP(2)$。在流行病学中，对于一个在指定时间段内被随访的封闭队列，累积发病率（也称为累积发生率或风险）定义为在該时期内，人群中最初未发生结局的个体中发生结局的个体所占的比例。\n\n累积发病率的公式是：\n$$\nIP(\\Delta t) = \\frac{\\text{时间段 } \\Delta t \\text{ 内的新发病例数}}{\\text{时间段开始时的风险人群数量}}\n$$\n\n设 $I$ 为随访期间观察到的新发病例数（首次事件），$N$ 为基线时的队列规模。问题陈述表明，在研究开始时，整个队列都没有发生该事件，因此所有 $N$ 名个体都处于风险之中。\n\n根据提取的已知条件，我们有：\n- $2$ 年期间的新发病例数，$I = 400$。\n- 基线时的风险人群数量，$N = 10{,}000$。\n- 时间段为 $\\Delta t = 2$ 年。\n\n现在我们可以计算2年累积发病率，$IP(2)$:\n$$\nIP(2) = \\frac{I}{N} = \\frac{400}{10{,}000}\n$$\n进行除法运算得到：\n$$\nIP(2) = 0.04\n$$\n\n问题还要求将此量解释为概率。对于本问题中规定的无竞争风险和完整随访的封闭队列，累积发病率是在指定时间段内个体发生事件的平均风险的直接度量。因此，$IP(2) = 0.04$ 可以解释为，从该队列中随机选择一名基线个体，在 $2$ 年随访期内经历其首次不良健康事件的概率。这种概率解释是有效的，因为分母（$N$）代表了期初风险人群所有可能结果的完整集合，而分子（$I$）代表了在规定时间内该人群中发生的特定关注事件的计数。因此，该比率符合有限样本空间的经典概率定义。",
            "answer": "$$\\boxed{0.04}$$"
        },
        {
            "introduction": "在实际研究中，我们常常使用发病率（单位人时内的事件数）来衡量疾病频率。这个练习将探讨发病率与发病比（风险）之间的重要数学关系，特别是在风险恒定的常见假设下。通过这个实践，你将推导出精确的风险计算公式，并理解为何简单的“发病率 × 时间”近似法仅在“罕见病”假设下才有效。",
            "id": "4599560",
            "problem": "一个因特定结局而处于风险中的个体队列被随访，随访期间的条件可以假定瞬时事件风险在日历时间和年龄上是恒定的。一位研究者报告的发病率（单位人时内的事件数）为每$100$人年$5$例，并对$3$年累积发病率（也称为发病比例或风险）感兴趣。假设在恒定风险情景下，报告的发病率等于该恒定风险。仅使用事件时间分析中联系风险函数、累积风险和生存函数的基本结果，从第一性原理推导出$3$年发病比例的精确表达式，并计算其数值。然后，在你的推理中，将此精确值与朴素线性（罕见病）近似法进行比较，该近似法用发病率与风险时间的乘积代替$t$年内的累积事件概率，并根据易感者耗竭和级数展开来解释差异的符号和大小。将$3$年发病比例表示为小数（而非百分比），并将你报告的答案四舍五入到四位有效数字。在最终答案框中只报告精确的$3$年发病比例。",
            "solution": "经过对指定标准的严格检查，发现该问题有效。它在科学上基于流行病学和事件时间分析的原理，问题提出得很好，信息充分且一致，并且陈述客观。因此，我们可以着手解决。\n\n问题要求在给定恒定风险率的情况下，从第一性原理推导$3$年累积发病率，也称为发病比例或风险。\n\n设$T$为一个非负随机变量，表示到事件发生的时间。我们首先定义事件时间分析的基本量。\n\n1.  **生存函数**，$S(t)$，是个体到时间$t$仍未经历事件的概率。\n    $$S(t) = P(T  t)$$\n2.  **风险函数**，$\\lambda(t)$，是在生存到时间$t$的条件下，在时间$t$的瞬时事件发生率。其定义为：\n    $$\\lambda(t) = \\lim_{\\Delta t \\to 0} \\frac{P(t  T \\le t + \\Delta t | T  t)}{\\Delta t}$$\n    分子中的概率可以用条件概率法则表示为$\\frac{P(t  T \\le t + \\Delta t \\text{ and } T  t)}{P(T  t)} = \\frac{P(t  T \\le t + \\Delta t)}{S(t)}$。\n    概率$P(t  T \\le t + \\Delta t)$等于$S(t) - S(t + \\Delta t)$。因此，\n    $$\\lambda(t) = \\frac{1}{S(t)} \\lim_{\\Delta t \\to 0} \\frac{S(t) - S(t + \\Delta t)}{\\Delta t} = -\\frac{1}{S(t)} \\frac{dS(t)}{dt}$$\n3.  **累积发病率**或**风险**，$F(t)$，是个体到时间$t$已经历事件的概率。它是生存函数的补集。\n    $$F(t) = P(T \\le t) = 1 - S(t)$$\n\n根据风险函数的定义，我们得到微分方程$\\frac{dS(t)}{S(t)} = -\\lambda(t) dt$。将两边从$0$到时间$t$积分，得到：\n$$\\int_0^t \\frac{dS(u)}{S(u)} = -\\int_0^t \\lambda(u) du$$\n$$[\\ln(S(u))]_0^t = -\\int_0^t \\lambda(u) du$$\n因为$S(0) = P(T  0) = 1$（假设整个队列在开始时都处于风险中），所以$\\ln(S(0)) = 0$。\n$$\\ln(S(t)) = -\\int_0^t \\lambda(u) du$$\n右边的积分是**累积风险函数**，$\\Lambda(t) = \\int_0^t \\lambda(u) du$。\n对两边取指数，得到生存函数和累积风险之间的基本关系：\n$$S(t) = \\exp(-\\Lambda(t)) = \\exp\\left(-\\int_0^t \\lambda(u) du\\right)$$\n\n问题指出风险随时间恒定，因此对于一个常数$\\lambda$，有$\\lambda(t) = \\lambda$。给定的发病率为每$100$人年$5$例，据称这等于该恒定风险。我们将其转换为年率：\n$$\\lambda = \\frac{5}{100 \\text{ person-years}} = 0.05 \\text{ year}^{-1}$$\n在此恒定风险假设下，累积风险函数变为：\n$$\\Lambda(t) = \\int_0^t \\lambda du = \\lambda \\int_0^t du = \\lambda t$$\n将此代回生存函数的表达式中：\n$$S(t) = \\exp(-\\lambda t)$$\n因此，累积发病率$F(t)$为：\n$$F(t) = 1 - S(t) = 1 - \\exp(-\\lambda t)$$\n这就是在恒定风险模型下（对应于事件时间的指数分布）累积发病率的精确表达式。\n\n我们被要求计算$3$年累积发病率，这意味着我们必须在$t=3$年时，使用$\\lambda = 0.05 \\text{ year}^{-1}$来计算$F(t)$。\n$$F(3) = 1 - \\exp(-0.05 \\times 3) = 1 - \\exp(-0.15)$$\n现在我们计算数值：\n$$F(3) \\approx 1 - 0.860707976... = 0.139292024...$$\n四舍五入到四位有效数字，$3$年累积发病率为$0.1393$。\n\n为了比较，问题提到了朴素线性（罕见病）近似法，它由发病率和风险时间的乘积给出：\n$$F_{approx}(t) = \\lambda \\times t$$\n对于$t=3$年：\n$$F_{approx}(3) = 0.05 \\text{ year}^{-1} \\times 3 \\text{ years} = 0.15$$\n近似值与精确值之间的差异是$0.15 - 0.1393 = 0.0107$。符号为正，意味着朴素近似高估了真实风险。\n\n对这种差异的解释在于两个相关的角度：\n\n1.  **易感者耗竭**：线性近似$F_{approx}(t) = \\lambda t$隐含地假设处于风险中的个体数量在整个随访期间保持不变。它计算预期事件数时，就好像初始人群规模得以维持一样。然而，在现实中，随着个体经历事件，他们会从风险人群中被移除。任何区间内发生的真实事件数与该区间开始时易感人群库的大小成正比，而这个库是持续减少的。精确公式$F(t) = 1 - \\exp(-\\lambda t)$正确地考虑了这种“易感者耗竭”。由于线性近似未能考虑风险人群的这种减少，它会系统地高估真实的累积风险。\n\n2.  **级数展开**：近似法及其误差的数学基础可以通过指数函数的泰勒级数展开来理解。精确风险是$F(t) = 1 - \\exp(-\\lambda t)$。$\\exp(x)$的麦克劳林级数是$\\exp(x) = 1 + x + \\frac{x^2}{2!} + \\frac{x^3}{3!} + \\dots$。\n    令$x = -\\lambda t$，我们得到：\n    $$\\exp(-\\lambda t) = 1 - \\lambda t + \\frac{(\\lambda t)^2}{2!} - \\frac{(\\lambda t)^3}{3!} + \\dots$$\n    将此代入$F(t)$的表达式中：\n    $$F(t) = 1 - \\left(1 - \\lambda t + \\frac{(\\lambda t)^2}{2} - \\frac{(\\lambda t)^3}{6} + \\dots\\right)$$\n    $$F(t) = \\lambda t - \\frac{(\\lambda t)^2}{2} + \\frac{(\\lambda t)^3}{6} - \\dots$$\n    朴素近似$F_{approx}(t) = \\lambda t$只是该级数的第一项。这种近似只有在$\\lambda t$非常小（“罕见病”假设）以至于高阶项可以忽略不计时才有效。\n    近似的误差是：\n    $$F_{approx}(t) - F(t) = (\\lambda t) - \\left(\\lambda t - \\frac{(\\lambda t)^2}{2} + \\dots\\right) = \\frac{(\\lambda t)^2}{2} - \\frac{(\\lambda t)^3}{6} + \\dots$$\n    首项误差项是$\\frac{(\\lambda t)^2}{2}$。由于$\\lambda  0$且$t  0$，该项总是正的，这在数学上证实了线性近似$\\lambda t$是对真实风险$1 - \\exp(-\\lambda t)$的高估。误差的大小主要由这个首项决定。在我们的例子中，$\\lambda t = 0.15$，首项误差为$\\frac{(0.15)^2}{2} = \\frac{0.0225}{2} = 0.01125$，这与实际差异$0.0107$非常接近。",
            "answer": "$$\\boxed{0.1393}$$"
        },
        {
            "introduction": "理论计算的准确性依赖于数据的质量。这个练习通过一个简洁而有力的反例，揭示了一个在流行病学实践中至关重要的偏差来源：错误分类风险人群。你将亲手量化当我们将不具备发病资格的免疫个体错误地计入分母时，对风险估计值会产生怎样的稀释效应和偏倚。",
            "id": "4599591",
            "problem": "一项针对短期爆发的封闭队列研究在固定的时间区间内进行，其目标是估计在该时间区间内有资格发病的个体中的发病比例（风险）。资格意味着在基线时是易感者；在基线时具有完全免疫力的个体在该时间区间内不能成为新发病例。考虑一个最小的队列，在该队列中，资格的错误分类（错误地将免疫个体计为有资格者）会改变估计的风险。假设该队列在基线时由 $2$ 个个体组成：$1$ 个因已证实的既往感染而完全免疫，$1$ 个是易感者。在该时间区间内，观察到恰好 $1$ 个新发病例，该病例发生在易感个体中。研究人员在计算发病比例时，错误地将所有基线队列成员都视为有资格者。\n\n仅使用核心定义，即一个时间区间内的发病比例（风险）是基线时有资格者中新发病例的比例，计算由错误分类引起的有符号相对偏差，该偏差定义为错误分类的发病比例与真实发病比例之比减一。仅以单个数字报告此有符号相对偏差。答案以小数或分数形式表示；不要使用百分号。无需四舍五入。",
            "solution": "该问题陈述经过了严格验证，被认为是流行病学中一个有效、独立且有科学依据的问题。它提法得当、客观，并且没有内部矛盾或歧义。\n\n核心概念是发病比例或风险，其定义是在指定时间区间内发生的新发病例数，除以在该时间区间开始时有风险发病的人群数量。令 $IP$ 表示发病比例，$C$ 表示新发病例数，$N_{elig}$ 表示有资格（有风险）的个体数。该定义正式表示为：\n$$IP = \\frac{C}{N_{elig}}$$\n\n我们必须首先计算真实的发病比例，记为 $IP_{true}$。根据问题陈述，该队列在基线时由 $2$ 个个体组成。其中，$1$ 个对该疾病易感，$1$ 个完全免疫。根据定义，只有易感个体有资格成为新发病例，因此被包含在风险人群中。\n因此，真实的有资格个体数为 $N_{elig, true} = 1$。\n问题陈述指出，在该时间区间内观察到恰好 $1$ 个新发病例。因此，$C = 1$。\n\n使用这些值，真实的发病比例是：\n$$IP_{true} = \\frac{C}{N_{elig, true}} = \\frac{1}{1} = 1$$\n发病比例为 $1$ 表示所有在时间区间开始时有风险的个体都在该时间区间内发病。\n\n接下来，我们计算错误分类的发病比例，记为 $IP_{misc}$。问题陈述指出，由于分类错误，研究人员“错误地将所有基线队列成员都视为有资格者”。基线时队列中的总个体数为 $2$。\n因此，错误分类的有资格个体数为 $N_{elig, misc} = 2$。\n观察到的病例数保持不变，所以 $C = 1$。\n\n错误分类的发病比例是：\n$$IP_{misc} = \\frac{C}{N_{elig, misc}} = \\frac{1}{2}$$\n\n问题要求计算有符号相对偏差，我们将其记为 $B_{rel}$。其定义为错误分类的发病比例与真实发病比例之比减一。\n$$B_{rel} = \\frac{IP_{misc}}{IP_{true}} - 1$$\n\n将计算出的 $IP_{true}$ 和 $IP_{misc}$ 的值代入此公式可得：\n$$B_{rel} = \\frac{1/2}{1} - 1$$\n$$B_{rel} = \\frac{1}{2} - 1$$\n$$B_{rel} = -\\frac{1}{2}$$\n\n以小数表示，这等于 $-0.5$。这个负值表明，错误分类导致了对真实风险的低估。具体来说，将免疫个体包含在分母中会人为地扩大风险人群的规模，从而降低了计算出的新发病例比例。相对偏差的幅度为 $50\\%$。",
            "answer": "$$\\boxed{-0.5}$$"
        }
    ]
}