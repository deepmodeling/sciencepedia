{
    "hands_on_practices": [
        {
            "introduction": "理论学习之后，通过动手实践来巩固知识至关重要。此练习旨在检验你对概率论基本公理的直接应用能力，例如补集法则和加法法则。通过处理事件的交集、并集及其补集，你将熟练掌握如何运用概率公理来求解未知事件的概率，这是解决更复杂生物统计问题的基础技能 。",
            "id": "6",
            "problem": "考虑一个样本空间 $S$ 和两个事件 $A$ 和 $B$，它们是 $S$ 的子集。事件 $A$ 的概率、事件 $A$ 和 $B$ 的交集的概率，以及事件 $A$ 和 $B$ 的并集的补集的概率是已知的。具体来说，设：\n- 事件 $A$ 的概率为 $P(A) = p_A$。\n- $A$ 和 $B$ 的交集的概率为 $P(A \\cap B) = p_{AB}$。\n- $A$ 和 $B$ 的并集的补集的概率为 $P((A \\cup B)^c) = p_C$。\n\n仅使用概率论的基本公理，推导事件 $B$ 的概率（记为 $P(B)$）关于 $p_A$、$p_{AB}$ 和 $p_C$ 的表达式。",
            "solution": "根据补集法则，\n$$P((A\\cup B)^c)=p_C\\quad\\implies\\quad P(A\\cup B)=1-p_C.$$\n根据容斥原理，\n$$P(A\\cup B)=P(A)+P(B)-P(A\\cap B).$$\n代入已知概率：\n$$1-p_C=p_A+P(B)-p_{AB}.$$\n整理以解出 $P(B)$：\n$$P(B)=1-p_C-p_A+p_{AB}.$$",
            "answer": "$$\\boxed{1 - p_A - p_C + p_{AB}}$$"
        },
        {
            "introduction": "本练习将引导你完成一个更高级的任务：不再仅仅是使用已知的概率，而是从第一性原理出发，构建一个完整的概率空间。你将学习如何为一系列独立的临床试验结果（伯努利试验）定义样本空间、$\\sigma$-代数和概率测度。这个过程清晰地展示了抽象的柯尔莫哥洛夫公理是如何具体化为生物统计学中最重要的概率分布之一——二项分布的，深刻揭示了理论与实践的联系 。",
            "id": "4942639",
            "problem": "一项随机临床研究招募了 $n$ 名患者接受一种新疗法。对于每位患者 $i \\in \\{1,\\dots,n\\}$，定义一个二元结果 $X_{i}$，其中 $X_{i}=1$ 表示有临床验证的响应，$X_{i}=0$ 表示无响应。假设每位患者具有相同的响应风险 $p \\in (0,1)$，并且从第一性原理的乘积构造意义上说，不同患者之间的结果是独立的。\n\n仅使用柯尔莫哥洛夫概率公理（非负性、规范性、可数可加性）和独立性的定义，构建一个表示 $n$ 个独立同分布伯努利风险的概率空间。明确指定样本空间 $\\Omega$、sigma-代数 $\\mathcal{F}$ 和概率测度 $\\mathbb{P}$，使得坐标结果是独立同分布的，对于每个 $i \\in \\{1,\\dots,n\\}$，有 $\\mathbb{P}(X_{i}=1)=p$ 和 $\\mathbb{P}(X_{i}=0)=1-p$。然后，从这些公理和计数论证出发，推导出恰好有 $k$ 个响应的概率，其中 $k \\in \\{0,1,\\dots,n\\}$。\n\n将您的最终答案表示为关于 $n$、$k$ 和 $p$ 的单个封闭形式解析表达式。无需四舍五入。",
            "solution": "该问题陈述是概率论中一个适定且基础的练习，具体涉及为一系列独立同分布（i.i.d.）的伯努利试验构建乘积概率空间。它在科学上是合理的，内部是一致的，并包含推导所要求概率的所有必要信息。因此，我们开始进行解答。\n\n我们的目标是首先构建一个概率空间 $(\\Omega, \\mathcal{F}, \\mathbb{P})$，用于模拟 $n$ 个独立患者的结果，每个患者都有一个二元响应。然后，我们必须使用这个构造和基本原理来推导出观察到恰好 $k$ 个响应的概率。\n\n**第1步：构建概率空间 $(\\Omega, \\mathcal{F}, \\mathbb{P})$**\n\n概率空间是一个三元组，由样本空间 $\\Omega$、事件的 sigma-代数 $\\mathcal{F}$ 和概率测度 $\\mathbb{P}$ 组成。\n\n**1. 样本空间 $\\Omega$**\n对于 $n$ 名患者的研究结果是一个长度为 $n$ 的序列，其中第 $i$ 个元素代表患者 $i$ 的结果。由于每个结果 $X_i$ 是二元的（1表示响应，0表示无响应），整个实验的一个基本结果是一个元组 $\\omega = (\\omega_1, \\omega_2, \\dots, \\omega_n)$，其中每个 $\\omega_i \\in \\{0, 1\\}$。样本空间 $\\Omega$ 是所有这种可能序列的集合。这是集合 $\\{0, 1\\}$ 与自身的 $n$ 次笛卡尔积。\n$$ \\Omega = \\{0, 1\\}^n = \\{(\\omega_1, \\omega_2, \\dots, \\omega_n) \\mid \\omega_i \\in \\{0, 1\\} \\text{ for } i=1, \\dots, n\\} $$\n这是一个有限样本空间，包含 $|\\Omega| = 2^n$ 个元素。\n\n**2. Sigma-代数 $\\mathcal{F}$**\n一个事件是 $\\Omega$ 的一个子集。所有事件的集合必须构成一个 sigma-代数 $\\mathcal{F}$。对于像 $\\Omega$ 这样的有限样本空间，最全面和标准的选择是 $\\Omega$ 的幂集，记为 $\\mathcal{P}(\\Omega)$。幂集是 $\\Omega$ 的所有子集的集合。\n$$ \\mathcal{F} = \\mathcal{P}(\\Omega) $$\n这个选择不言而喻地满足了 sigma-代数的公理：\n   - $\\Omega \\in \\mathcal{F}$ （因为 $\\Omega \\subseteq \\Omega$）。\n   - 如果 $A \\in \\mathcal{F}$，那么它的补集 $A^c = \\Omega \\setminus A$ 也是 $\\Omega$ 的一个子集，因此 $A^c \\in \\mathcal{F}$。\n   - 如果 $A_1, A_2, \\dots$ 是 $\\mathcal{F}$ 中任何（有限或可数）集合族，它们的并集 $\\bigcup_i A_i$ 也是 $\\Omega$ 的一个子集，因此属于 $\\mathcal{F}$。\n\n**3. 概率测度 $\\mathbb{P}$**\n概率测度 $\\mathbb{P}: \\mathcal{F} \\to [0, 1]$ 为 $\\mathcal{F}$ 中的每个事件分配一个概率。为了满足柯尔莫哥洛夫公理以及问题中独立性和同分布的条件，我们首先定义每个基本结果 $\\omega \\in \\Omega$ 的概率。\n\n问题陈述指出，患者的结果是独立的，并且对于每位患者 $i$，响应的概率是 $\\mathbb{P}(X_i=1) = p$，无响应的概率是 $\\mathbb{P}(X_i=0) = 1-p$。一个基本结果 $\\omega = (\\omega_1, \\dots, \\omega_n)$ 代表了 $n$ 个独立结果的联合发生。事件 $\\{\\omega\\}$ 是事件 $E_i = \\{\\text{outcome of patient } i \\text{ is } \\omega_i\\}$ (对于 $i=1, \\dots, n$) 的交集。\n\n根据独立性的定义，独立事件交集的概率是它们各自概率的乘积。\n$$ \\mathbb{P}(\\{\\omega\\}) = \\mathbb{P}(\\text{outcome 1 is } \\omega_1, \\dots, \\text{outcome } n \\text{ is } \\omega_n) = \\prod_{i=1}^{n} \\mathbb{P}(\\text{outcome } i \\text{ is } \\omega_i) $$\n我们已知 $\\mathbb{P}(\\text{outcome } i \\text{ is } 1) = p$ 以及 $\\mathbb{P}(\\text{outcome } i \\text{ is } 0) = 1-p$。这可以紧凑地写成 $\\mathbb{P}(\\text{outcome } i \\text{ is } \\omega_i) = p^{\\omega_i} (1-p)^{1-\\omega_i}$，因为如果 $\\omega_i=1$，此式为 $p^1(1-p)^0=p$，如果 $\\omega_i=0$，此式为 $p^0(1-p)^1=1-p$。\n\n因此，对于一个基本结果 $\\omega = (\\omega_1, \\dots, \\omega_n)$，其概率为：\n$$ \\mathbb{P}(\\{\\omega\\}) = \\prod_{i=1}^{n} p^{\\omega_i} (1-p)^{1-\\omega_i} = p^{\\sum_{i=1}^n \\omega_i} (1-p)^{\\sum_{i=1}^n (1-\\omega_i)} = p^{\\sum_{i=1}^n \\omega_i} (1-p)^{n - \\sum_{i=1}^n \\omega_i} $$\n令 $s(\\omega) = \\sum_{i=1}^n \\omega_i$ 为序列 $\\omega$ 中响应（1）的次数。那么这个特定序列的概率是：\n$$ \\mathbb{P}(\\{\\omega\\}) = p^{s(\\omega)} (1-p)^{n-s(\\omega)} $$\n对于任何事件 $A \\in \\mathcal{F}$（它是一组基本结果），柯尔莫哥洛夫第三公理（可数可加性，对于有限空间简化为有限可加性）规定其概率是它所包含的基本结果的概率之和：\n$$ \\mathbb{P}(A) = \\sum_{\\omega \\in A} \\mathbb{P}(\\{\\omega\\}) $$\n我们必须验证这个测度满足前两个柯尔莫哥洛夫公理。\n- **公理1（非负性）：** 因为 $p \\in (0, 1)$，所以我们有 $p > 0$ 和 $1-p > 0$。因此，对于任何 $\\omega$，$\\mathbb{P}(\\{\\omega\\}) = p^{s(\\omega)} (1-p)^{n-s(\\omega)} \\ge 0$。任何事件 $A$ 的概率是这些非负项的和，所以 $\\mathbb{P}(A) \\ge 0$。\n- **公理2（规范性）：** 我们必须证明 $\\mathbb{P}(\\Omega)=1$。\n$$ \\mathbb{P}(\\Omega) = \\sum_{\\omega \\in \\Omega} \\mathbb{P}(\\{\\omega\\}) = \\sum_{\\omega \\in \\Omega} p^{s(\\omega)} (1-p)^{n-s(\\omega)} $$\n我们可以根据响应的次数 $k = s(\\omega)$ 对基本结果进行分组。对于一个固定的 $k \\in \\{0, 1, \\dots, n\\}$，恰好有 $k$ 个响应的序列 $\\omega$ 的数量，等于从 $n$ 个位置中为“1”选择 $k$ 个位置的方式数，这由二项式系数 $\\binom{n}{k}$ 给出。每个这样的序列都具有相同的概率 $p^k(1-p)^{n-k}$。\n$$ \\mathbb{P}(\\Omega) = \\sum_{k=0}^{n} \\left( \\sum_{\\omega: s(\\omega)=k} p^k (1-p)^{n-k} \\right) = \\sum_{k=0}^{n} \\binom{n}{k} p^k (1-p)^{n-k} $$\n这个和是 $(p + (1-p))^n$ 的二项式展开。\n$$ \\mathbb{P}(\\Omega) = (p + (1-p))^n = 1^n = 1 $$\n规范性公理得到满足。概率空间现已完全并正确地构建。\n\n**第2步：推导恰好有 $k$ 个响应的概率**\n\n我们被要求找出恰好有 $k$ 个响应这一事件的概率。让我们用 $E_k$ 表示这个事件。在我们的样本空间的形式体系中，这个事件是所有恰好包含 $k$ 个1的基本结果 $\\omega$ 的集合。\n$$ E_k = \\{\\omega \\in \\Omega \\mid s(\\omega) = \\sum_{i=1}^n \\omega_i = k\\} $$\n由于 $E_k \\subseteq \\Omega$，$E_k$ 是我们 sigma-代数 $\\mathcal{F}$ 中的一个事件。利用概率测度的可加性，其概率是其组成的基本结果的概率之和：\n$$ \\mathbb{P}(E_k) = \\sum_{\\omega \\in E_k} \\mathbb{P}(\\{\\omega\\}) $$\n如第1步所述，对于任何单个结果 $\\omega \\in E_k$，响应的次数为 $s(\\omega)=k$。这个特定结果的概率是：\n$$ \\mathbb{P}(\\{\\omega\\}) = p^k (1-p)^{n-k} $$\n至关重要的是，事件 $E_k$ 中的每个基本结果都具有完全相同的概率。因此，总和可以简化为此类结果的数量乘以这个共同的概率值：\n$$ \\mathbb{P}(E_k) = |E_k| \\times p^k (1-p)^{n-k} $$\n最后的任务是确定 $|E_k|$，即 $E_k$ 中元素的数量。这是一个纯粹的组合问题：我们需要计算长度为 $n$ 且恰好有 $k$ 个1（因此有 $n-k$ 个0）的不同二进制序列的数量。这等同于从 $n$ 个可用位置中为1选择 $k$ 个位置。实现这一点的方式数由二项式系数“n选k”给出：\n$$ |E_k| = \\binom{n}{k} = \\frac{n!}{k!(n-k)!} $$\n将这个计数结果代入概率表达式，我们得到观察到恰好 $k$ 个响应的概率：\n$$ \\mathbb{P}(E_k) = \\binom{n}{k} p^k (1-p)^{n-k} $$\n这个结果，即二项分布的概率质量函数，已按要求从第一性原理推导得出。",
            "answer": "$$ \\boxed{\\binom{n}{k} p^k (1-p)^{n-k}} $$"
        },
        {
            "introduction": "这个实践挑战旨在加深你对“独立性”这一核心概念的理解，特别是揭示其一个微妙但至关重要的特性。虽然“两两独立”在直觉上似乎很强，但它并不足以保证一组事件是“联合独立”的。通过构建一个具体的反例，本练习将帮助你理解为什么在概率论中严格的定义是必不可少的，并让你记住两两独立与联合独立之间的关键区别 。",
            "id": "4942611",
            "problem": "在一项关于一种新发病毒感染的队列研究中，每位参与者在两次访视中都使用聚合酶链式反应 (PCR) 进行检测。设基线检测结果由二元变量 $X \\in \\{0,1\\}$ 编码，其中 $X=1$ 表示 PCR 阳性，$X=0$ 表示 PCR 阴性。设随访检测结果由二元变量 $Y \\in \\{0,1\\}$ 编码，其定义类似。为分离概率结构，假设以下简化的建模假设：\n- 在所有参与者中，基线和随访的 PCR 阳性是可交换的，即 $P(X=1)=P(Y=1)=\\frac{1}{2}$。\n- 在潜在感染动态的条件下，$X$ 和 $Y$ 是独立的，并且四个联合结果 $(X,Y) \\in \\{(0,0),(0,1),(1,0),(1,1)\\}$ 是等可能的。\n\n定义三个事件\n- $A=\\{X=1\\}$，\n- $B=\\{Y=1\\}$，\n- $C=\\{X \\neq Y\\}$ (参与者的 PCR 状态在两次访视之间发生变化的事件，对应于病毒清除或新发感染)。\n\n仅从概率论的基本公理（Kolmogorov 公理）和事件独立性的定义出发，构建此模型的样本空间和概率测度，计算 $P(A)$、$P(B)$、$P(C)$、$P(A \\cap B)$、$P(A \\cap C)$、$P(B \\cap C)$ 和 $P(A \\cap B \\cap C)$，并利用这些量来确定 $A$、$B$ 和 $C$ 是否两两独立以及它们是否联合独立。\n\n提供 $P(A \\cap B \\cap C)$ 的值作为您的最终答案。无需四舍五入。所有概率均以精确分数或小数表示。",
            "solution": "首先将验证问题陈述的科学合理性、一致性和完整性。\n\n### 步骤 1：提取已知条件\n-   基线检测结果是一个二元变量 $X \\in \\{0,1\\}$，其中 $X=1$ 表示阳性。\n-   随访检测结果是一个二元变量 $Y \\in \\{0,1\\}$，其中 $Y=1$ 表示阳性。\n-   假设 1：$P(X=1) = P(Y=1) = \\frac{1}{2}$。\n-   假设 2：“在潜在感染动态的条件下，$X$ 和 $Y$ 是独立的，并且四个联合结果 $(X,Y) \\in \\{(0,0),(0,1),(1,0),(1,1)\\}$ 是等可能的。”\n-   事件定义：\n    -   $A = \\{X=1\\}$\n    -   $B = \\{Y=1\\}$\n    -   $C = \\{X \\neq Y\\}$\n\n### 步骤 2：使用提取的已知条件进行验证\n对于一个简化的随机模型，该问题是适定的且科学上合理的。我们分析所提供的假设。陈述“四个联合结果 $(X,Y) \\in \\{(0,0),(0,1),(1,0),(1,1)\\}$ 是等可能的”是对样本空间上概率测度的精确而明确的定义。仅此陈述就足以构建整个模型。如果四个结果中的每一个都有 $\\frac{1}{4}$ 的概率，那么：\n-   $P(X=1) = P(\\{(1,0)\\}) + P(\\{(1,1)\\}) = \\frac{1}{4} + \\frac{1}{4} = \\frac{1}{2}$。\n-   $P(Y=1) = P(\\{(0,1)\\}) + P(\\{(1,1)\\}) = \\frac{1}{4} + \\frac{1}{4} = \\frac{1}{2}$。\n这表明假设 1，$P(X=1)=P(Y=1)=\\frac{1}{2}$，是“等可能结果”假设的直接推论，因此是多余的。\n\n此外，我们可以检验 $X$ 和 $Y$ 的独立性：\n-   $P(X=1 \\text{ and } Y=1) = P(\\{(1,1)\\}) = \\frac{1}{4}$。\n-   $P(X=1)P(Y=1) = \\frac{1}{2} \\times \\frac{1}{2} = \\frac{1}{4}$。\n由于 $P(X=1, Y=1) = P(X=1)P(Y=1)$，变量 $X$ 和 $Y$ 是独立的。这也是“等可能结果”假设的一个推论。\n\n“在潜在感染动态的条件下，$X$ 和 $Y$ 是独立的”这一短语是多余的，并且可能会引起混淆，因为 $X$ 和 $Y$ 的无条件独立性已经由所有联合结果等可能性的主要假设所确立。它似乎是叙述性的框架，而不是一个独立的数学约束。\n\n然而，该问题仍然有效，因为它取决于四个结果等可能这一清晰且自洽的陈述。这为唯一解提供了充分的基础。该问题不违反任何科学原理，不是不适定的，并且所有术语都定义明确。\n\n### 步骤 3：结论和行动\n问题有效。解题将通过基于等可能结果构建概率空间来进行。\n\n### 解答\n该实验包括观察一对检测结果 $(X,Y)$。所有可能结果的集合，即样本空间 $\\Omega$，由下式给出：\n$$\n\\Omega = \\{(0,0), (0,1), (1,0), (1,1)\\}\n$$\n问题陈述这四个基本结果是等可能的。根据概率公理，所有结果的概率之和必须为 $1$。因此，概率测度 $P$ 为每个基本结果分配了 $\\frac{1}{4}$ 的概率：\n$$\nP(\\{(0,0)\\}) = P(\\{(0,1)\\}) = P(\\{(1,0)\\}) = P(\\{(1,1)\\}) = \\frac{1}{4}\n$$\n现在，我们将事件 $A$、$B$ 和 $C$ 定义为样本空间 $\\Omega$ 的子集。\n-   事件 $A = \\{X=1\\}$ 对应于第一个元素为 $1$ 的结果。\n    $$\n    A = \\{(1,0), (1,1)\\}\n    $$\n-   事件 $B = \\{Y=1\\}$ 对应于第二个元素为 $1$ 的结果。\n    $$\n    B = \\{(0,1), (1,1)\\}\n    $$\n-   事件 $C = \\{X \\neq Y\\}$ 对应于两个元素不同的结果。\n    $$\n    C = \\{(0,1), (1,0)\\}\n    $$\n接下来，我们通过对构成这些事件的基本结果的概率求和来计算这些事件的概率。\n$$\nP(A) = P(\\{(1,0)\\}) + P(\\{(1,1)\\}) = \\frac{1}{4} + \\frac{1}{4} = \\frac{1}{2}\n$$\n$$\nP(B) = P(\\{(0,1)\\}) + P(\\{(1,1)\\}) = \\frac{1}{4} + \\frac{1}{4} = \\frac{1}{2}\n$$\n$$\nP(C) = P(\\{(0,1)\\}) + P(\\{(1,0)\\}) = \\frac{1}{4} + \\frac{1}{4} = \\frac{1}{2}\n$$\n为了检验独立性，我们必须计算这些事件交集的概率。\n-   $A \\cap B = \\{(1,0), (1,1)\\} \\cap \\{(0,1), (1,1)\\} = \\{(1,1)\\}$.\n    $$\n    P(A \\cap B) = P(\\{(1,1)\\}) = \\frac{1}{4}\n    $$\n-   $A \\cap C = \\{(1,0), (1,1)\\} \\cap \\{(0,1), (1,0)\\} = \\{(1,0)\\}$.\n    $$\n    P(A \\cap C) = P(\\{(1,0)\\}) = \\frac{1}{4}\n    $$\n-   $B \\cap C = \\{(0,1), (1,1)\\} \\cap \\{(0,1), (1,0)\\} = \\{(0,1)\\}$.\n    $$\n    P(B \\cap C) = P(\\{(0,1)\\}) = \\frac{1}{4}\n    $$\n现在我们检验两两独立性。如果 $P(E_1 \\cap E_2) = P(E_1)P(E_2)$，则两个事件 $E_1$ 和 $E_2$ 是独立的。\n-   对于 $A$ 和 $B$：$P(A)P(B) = \\frac{1}{2} \\times \\frac{1}{2} = \\frac{1}{4}$。由于 $P(A \\cap B) = \\frac{1}{4}$，事件 $A$ 和 $B$ 是独立的。\n-   对于 $A$ 和 $C$：$P(A)P(C) = \\frac{1}{2} \\times \\frac{1}{2} = \\frac{1}{4}$。由于 $P(A \\cap C) = \\frac{1}{4}$，事件 $A$ 和 $C$ 是独立的。\n-   对于 $B$ 和 $C$：$P(B)P(C) = \\frac{1}{2} \\times \\frac{1}{2} = \\frac{1}{4}$。由于 $P(B \\cap C) = \\frac{1}{4}$，事件 $B$ 和 $C$ 是独立的。\n因此，事件 $A$、$B$ 和 $C$ 是两两独立的。\n\n要使事件联合（或相互）独立，它们必须是两两独立的，并且还必须满足条件 $P(A \\cap B \\cap C) = P(A)P(B)P(C)$。我们计算交集 $A \\cap B \\cap C$：\n$$\nA \\cap B \\cap C = (A \\cap B) \\cap C = \\{(1,1)\\} \\cap \\{(0,1), (1,0)\\} = \\emptyset\n$$\n这三个事件的交集是空集。根据公理，空集的概率为零。\n$$\nP(A \\cap B \\cap C) = P(\\emptyset) = 0\n$$\n现在我们将其与各独立概率的乘积进行比较：\n$$\nP(A)P(B)P(C) = \\frac{1}{2} \\times \\frac{1}{2} \\times \\frac{1}{2} = \\frac{1}{8}\n$$\n由于 $P(A \\cap B \\cap C) = 0$ 但 $P(A)P(B)P(C) = \\frac{1}{8}$，我们有：\n$$\nP(A \\cap B \\cap C) \\neq P(A)P(B)P(C)\n$$\n因此，事件 $A$、$B$ 和 $C$ 尽管是两两独立的，但它们不是联合独立的。\n\n问题要求 $P(A \\cap B \\cap C)$ 的值，我们已计算出其为 $0$。",
            "answer": "$$\n\\boxed{0}\n$$"
        }
    ]
}