{
    "hands_on_practices": [
        {
            "introduction": "为了真正掌握时依协变量Cox模型的应用，我们需要从基本原理入手进行实践。这个练习将引导你为一个小型队列从头开始构建偏似然函数。通过追踪每个事件时间点的风险集和变化的协变量值，你将亲身体验时依协变量是如何影响每个事件发生时的风险计算的 。",
            "id": "4961492",
            "problem": "考虑一个由三名受试者组成的队列，索引为 $i \\in \\{1,2,3\\}$，每位受试者恰好经历一次事件，事件时间各不相同，分别为 $T_{1}=2$，$T_{2}=4$ 和 $T_{3}=6$。没有删失。令 $X_{i}(t)$ 表示受试者 $i$ 的单个标量时依协变量，定义如下：对于所有 $t$，$X_{1}(t)=0$；对于 $t3$，$X_{2}(t)=0$，对于 $t\\ge 3$，$X_{2}(t)=1$；对于 $t3$，$X_{3}(t)=0$，对于 $t\\ge 3$，$X_{3}(t)=2$。假设为单一层（即无分层），并采用 Cox 比例风险模型，其在时间 $t$ 对具有协变量历史 $X(t)$ 的受试者的风险为 $h(t \\mid X(t))=h_{0}(t)\\exp\\!\\big(\\beta X(t)\\big)$，其中 $h_{0}(t)$ 是一个未指明的基线风险，$\\beta$ 是一个未知的回归系数。\n\n仅使用上述模型定义以及将风险解释为瞬时事件率，通过以下步骤推导 $\\beta$ 的偏似然：（i）识别每个事件时间点的适当风险集；（ii）构造在每个事件时间点，给定该时间点的风险集，观测到的受试者是发生事件的那个受试者的条件概率的乘积。将您的结果简化为关于 $\\beta$ 的单个闭式解析表达式。请以精确表达式形式给出最终答案，无需四舍五入。",
            "solution": "该问题是有效的，因为它基于生存分析的科学原理，是良定的，提供了所有必要信息，并以客观的数学语言表述。它代表了为带有单个时依协变量的 Cox 比例风险模型构建偏似然的一个标准应用。\n\n偏似然 $L(\\beta)$ 是在观测到的事件时间集合上，通过条件概率的乘积构建的。对于在时间 $t$ 发生的事件，似然中的相应项是这样一个概率：在处于该时间点风险中的受试者集合（风险集）以及发生了一次事件的条件下，发生事件的特定受试者就是那个发生事件的受试者的概率。\n\nCox 比例风险模型将受试者 $i$ 在时间 $t$ 的风险指定为：\n$$ h(t \\mid X_i(t)) = h_0(t) \\exp(\\beta X_i(t)) $$\n其中 $h_0(t)$ 是基线风险，$X_i(t)$ 是受试者 $i$ 在时间 $t$ 的时依协变量的值，$\\beta$ 是回归系数。\n\n假设没有并列的事件时间，偏似然的通用公式为：\n$$ L(\\beta) = \\prod_{j=1}^{k} \\frac{h(t_{(j)} \\mid X_{i_j}(t_{(j)}))}{\\sum_{l \\in R(t_{(j)})} h(t_{(j)} \\mid X_l(t_{(j)}))} $$\n其中 $k$ 是不同事件时间的数量，$t_{(j)}$ 是排序后的事件时间，$i_j$ 是在时间 $t_{(j)}$ 发生事件的受试者的索引，$R(t_{(j)})$ 是在时间 $t_{(j)}$ 的风险集（即，在 $t_{(j)}$ 之前尚未发生事件或被删失的所有受试者的集合）。\n\n将 Cox 模型的风险函数代入此公式，基线风险项 $h_0(t_{(j)})$ 从分子和分母中消去：\n$$ L(\\beta) = \\prod_{j=1}^{k} \\frac{h_0(t_{(j)}) \\exp(\\beta X_{i_j}(t_{(j)}))}{\\sum_{l \\in R(t_{(j)})} h_0(t_{(j)}) \\exp(\\beta X_l(t_{(j)}))} = \\prod_{j=1}^{k} \\frac{\\exp(\\beta X_{i_j}(t_{(j)}))}{\\sum_{l \\in R(t_{(j)})} \\exp(\\beta X_l(t_{(j)}))} $$\n给定三名受试者，其事件时间各不相同，分别为 $T_1=2$，$T_2=4$ 和 $T_3=6$。没有删失。排序后的事件时间为 $t_{(1)}=2$（受试者 1 发生事件），$t_{(2)}=4$（受试者 2 发生事件）和 $t_{(3)}=6$（受试者 3 发生事件）。\n\n让我们计算每个事件的似然贡献。\n\n**事件 1：在 $t_{(1)} = 2$ 时发生事件**\n发生事件的受试者是受试者 1。风险集 $R(2)$ 包括在时间 2 之前所有处于风险中的受试者。由于这是第一个事件，所有三名受试者都处于风险中：$R(2)=\\{1, 2, 3\\}$。\n我们评估在 $t=2$ 时风险集中每个受试者的协变量：\n- 受试者 1：$X_1(2) = 0$。\n- 受试者 2：协变量定义为当 $t3$ 时 $X_2(t)=0$，所以 $X_2(2) = 0$。\n- 受试者 3：协变量定义为当 $t3$ 时 $X_3(t)=0$，所以 $X_3(2) = 0$。\n\n偏似然的第一项 $L_1(\\beta)$ 是发生事件的受试者的风险得分与风险集中所有风险得分总和的比率：\n$$ L_1(\\beta) = \\frac{\\exp(\\beta X_1(2))}{\\exp(\\beta X_1(2)) + \\exp(\\beta X_2(2)) + \\exp(\\beta X_3(2))} = \\frac{\\exp(\\beta \\cdot 0)}{\\exp(\\beta \\cdot 0) + \\exp(\\beta \\cdot 0) + \\exp(\\beta \\cdot 0)} = \\frac{1}{1+1+1} = \\frac{1}{3} $$\n\n**事件 2：在 $t_{(2)} = 4$ 时发生事件**\n发生事件的受试者是受试者 2。风险集 $R(4)$ 包括在时间 4 之前未发生事件的受试者。受试者 1 已发生事件，所以风险集为 $R(4)=\\{2, 3\\}$。\n我们评估在 $t=4$ 时风险集中每个受试者的协变量：\n- 受试者 2：协变量定义为当 $t \\ge 3$ 时 $X_2(t)=1$，所以 $X_2(4) = 1$。\n- 受试者 3：协变量定义为当 $t \\ge 3$ 时 $X_3(t)=2$，所以 $X_3(4) = 2$。\n\n偏似然的第二项 $L_2(\\beta)$ 是：\n$$ L_2(\\beta) = \\frac{\\exp(\\beta X_2(4))}{\\exp(\\beta X_2(4)) + \\exp(\\beta X_3(4))} = \\frac{\\exp(\\beta \\cdot 1)}{\\exp(\\beta \\cdot 1) + \\exp(\\beta \\cdot 2)} = \\frac{\\exp(\\beta)}{\\exp(\\beta) + \\exp(2\\beta)} $$\n该表达式可以通过从分母中提取公因式 $\\exp(\\beta)$ 来简化：\n$$ L_2(\\beta) = \\frac{\\exp(\\beta)}{\\exp(\\beta)(1 + \\exp(\\beta))} = \\frac{1}{1 + \\exp(\\beta)} $$\n\n**事件 3：在 $t_{(3)} = 6$ 时发生事件**\n发生事件的受试者是受试者 3。风险集 $R(6)$ 包括尚未发生事件的受试者。受试者 1 和 2 已发生事件，所以风险集为 $R(6)=\\{3\\}$。\n我们评估在 $t=6$ 时受试者 3 的协变量：\n- 受试者 3：协变量定义为当 $t \\ge 3$ 时 $X_3(t)=2$，所以 $X_3(6) = 2$。\n\n偏似然的第三项 $L_3(\\beta)$ 是：\n$$ L_3(\\beta) = \\frac{\\exp(\\beta X_3(6))}{\\exp(\\beta X_3(6))} = 1 $$\n这是一个普遍的结果：最后一个未删失观测的似然贡献总是 1。\n\n**总偏似然**\n总偏似然 $L(\\beta)$ 是每个事件项的乘积：\n$$ L(\\beta) = L_1(\\beta) \\cdot L_2(\\beta) \\cdot L_3(\\beta) = \\left(\\frac{1}{3}\\right) \\cdot \\left(\\frac{1}{1 + \\exp(\\beta)}\\right) \\cdot (1) $$\n$$ L(\\beta) = \\frac{1}{3(1 + \\exp(\\beta))} $$\n\n这就是偏似然的最终简化闭式解析表达式。",
            "answer": "$$\\boxed{\\frac{1}{3(1 + \\exp(\\beta))}}$$"
        },
        {
            "introduction": "在掌握了基本方法后，我们来增加一个复杂层次：分层。这个练习将向你展示分层Cox模型中偏似然的计算方法，它允许不同组别具有不同的基准风险函数。通过这个练习，你将理解为何计算必须在每个层内独立进行，这是控制不满足比例风险假定的分类变量的关键 。",
            "id": "4961494",
            "problem": "一个临床队列采用分层Cox比例风险（PH）模型进行分析，该模型包含一个随时间变化的协变量。对于层 $s \\in \\{1,2\\}$，假设协变量路径为 $X(t)$ 的个体的风险函数满足比例风险结构\n$$\nh_{s}(t \\mid X(t)) \\;=\\; h_{0,s}(t)\\,\\exp\\!\\big(\\beta\\,X(t)\\big),\n$$\n其中 $h_{0,s}(t)$ 是层 $s$ 中的未知基线风险，$\\beta$ 是所有层共有的未知回归系数。该随时间变化的协变量在离散的时间点进行记录，并被视为一个阶梯函数，其在测量时间点之间的开区间上为常数，并在右闭合端点取更新后的值。\n\n受试者 $A$ 属于层 $s=1$。该受试者有纵向协变量测量值 $Z(0)=0$、$Z(2)=1$ 和 $Z(5)=0$，并在时间 $t=6$ 时发生事件。请使用测量时间和事件时间，为受试者 $A$ 构建起始-终止表示法，其中事件指示符 $\\delta=1$ 在最后一个区间上，其他情况下 $\\delta=0$。\n\n在时间 $t=6$ 时，层 $s=1$ 内的风险集由受试者 $A$ 和另外两个个体组成：\n- 受试者 $B$（同样在层 $s=1$ 中），其测量值为 $W(0)=1$ 和 $W(4)=2$，且在 $t=6$ 之前没有发生事件。\n- 受试者 $C$（同样在层 $s=1$ 中），其从基线开始具有恒定协变量 $U(t)\\equiv 0.5$，且在 $t=6$ 之前没有发生事件。\n\n在时间 $t=6$ 时，层 $s=2$ 中有其他处于风险中的个体，但由于分层，他们不会对受试者 $A$ 事件的风险集做出贡献。\n\n仅从上述风险函数的定义以及风险集是在时间 $t$ 之前仍处于风险中的个体的解释出发，推导在分层模型下，受试者 $A$ 在时间 $t=6$ 发生的事件对Cox偏似然的贡献。将您的最终答案表示为关于 $\\beta$ 的单一简化解析表达式。无需四舍五入。",
            "solution": "用户提供的问题是一个有效的、定义明确的生物统计学问题。\n\n### 步骤1：提取已知条件\n- **模型**：用于层 $s \\in \\{1,2\\}$ 的分层Cox比例风险模型。\n- **风险函数**：$h_{s}(t \\mid X(t)) = h_{0,s}(t)\\,\\exp\\!\\big(\\beta\\,X(t)\\big)$，其中 $h_{0,s}(t)$ 是层 $s$ 的基线风险，$\\beta$ 是一个共同的回归系数。\n- **随时间变化的协变量**：一个阶梯函数，在测量点之间的开区间上为常数，在右闭合端点处更新。\n- **受试者A**：属于层 $s=1$。\n  - 协变量测量值：$Z(0)=0$, $Z(2)=1$, $Z(5)=0$。\n  - 事件时间：$t=6$。\n- **风险集**：在时间 $t=6$ 时，层 $s=1$ 中的风险集包括：\n  - **受试者A**：在 $t=6$ 时发生事件。协变量路径为 $Z(t)$。\n  - **受试者B**：在层 $s=1$ 中，在 $t=6$ 之前无事件发生。协变量测量值为 $W(0)=1$, $W(4)=2$。\n  - **受试者C**：在层 $s=1$ 中，在 $t=6$ 之前无事件发生。恒定协变量为 $U(t) \\equiv 0.5$。\n- **分层**：层 $s=2$ 中的个体不在层 $s=1$ 中事件的风险集内。\n- **任务1**：为受试者A构建起始-终止表示法。\n- **任务2**：推导受试者A在 $t=6$ 时发生的事件对Cox偏似然的贡献。\n\n### 步骤2：使用提取的已知条件进行验证\n该问题具有科学依据、定义明确且客观。它描述了生存分析中一个涉及带有随时间变化协变量的分层Cox模型的标准场景。所有必要信息均已提供，数据一致，术语精确。该问题是已建立的统计理论的教科书式应用，不违反任何无效标准。\n\n### 步骤3：结论与行动\n该问题是有效的。将提供完整解答。\n\n### 解答推导\n\n该问题需要两个部分：为受试者A构建起始-终止数据，然后推导其对偏似然的贡献。\n\n#### 第1部分：受试者A的起始-终止表示法\n\n对于具有随时间变化协变量的受试者，观察期被分解为由协变量测量时间和最终事件或删失时间定义的区间。每个区间在“起始-终止”格式中形成一条单独的记录。受试者A在时间 $t=0, 2, 5$ 有测量值，并在时间 $t=6$ 发生事件。协变量值在每个区间内是恒定的。问题陈述协变量“在测量时间点之间的开区间上为常数，并在右闭合端点取更新后的值”，这通常被解释为值在形如 $(t_{start}, t_{stop}]$ 的区间上是恒定的。\n\n对于受试者A，这些区间是 $(0, 2]$、$(2, 5]$ 和 $(5, 6]$。\n1.  **区间1**：从 $t=0$ 到 $t=2$。起始时间是 $0$，终止时间是 $2$。协变量值取自区间的开始，$t \\in (0, 2]$ 时 $X(t) = Z(0) = 0$。在此区间内没有事件发生，因此事件指示符 $\\delta$ 为 $0$。\n2.  **区间2**：从 $t=2$ 到 $t=5$。起始时间是 $2$，终止时间是 $5$。协变量值更新为 $t \\in (2, 5]$ 时 $X(t) = Z(2) = 1$。没有事件发生，因此 $\\delta=0$。\n3.  **区间3**：从 $t=5$ 到事件时间 $t=6$。起始时间是 $5$，终止时间是 $6$。协变量值更新为 $t \\in (5, 6]$ 时 $X(t) = Z(5) = 0$。事件在此区间的末尾发生，因此 $\\delta=1$。\n\n受试者A的起始-终止表示法如下：\n| 起始时间 ($t_{start}$) | 终止时间 ($t_{stop}$) | 协变量值 ($X$) | 事件指示符 ($\\delta$) |\n|--------------------------|------------------------|-----------------------|----------------------------|\n| $0$                      | $2$                    | $0$                   | $0$                        |\n| $2$                      | $5$                    | $1$                   | $0$                        |\n| $5$                      | $6$                    | $0$                   | $1$                        |\n\n#### 第2部分：对偏似然的贡献\n\nCox偏似然是由对应于每个观察到的事件的项构成的。对于在层 $s$ 中的个体 $i$ 在时间 $t_i$ 发生的事件，其对似然的贡献是，在层 $s$ 中处于风险的个体集合中于时间 $t_i$ 发生了一次失效的条件下，该特定个体失效的概率。这由失效个体的风险与风险集中所有个体风险之和的比值给出。\n\n在层 $s_i$ 中的个体 $i$ 在时间 $t_i$ 失效的贡献为：\n$$\nL_i = \\frac{h_i(t_i | X_i(t_i))}{\\sum_{j \\in R(t_i, s_i)} h_j(t_i | X_j(t_i))}\n$$\n其中 $R(t_i, s_i)$ 是在时间 $t_i$ 时层 $s_i$ 内的风险集。\n\n代入给定模型 $h_{s}(t \\mid X(t)) = h_{0,s}(t)\\exp(\\beta X(t))$：\n$$\nL_i = \\frac{h_{0,s_i}(t_i)\\exp(\\beta X_i(t_i))}{\\sum_{j \\in R(t_i, s_i)} h_{0,s_i}(t_i)\\exp(\\beta X_j(t_i))}\n$$\n层 $s_i$ 的公共基线风险项 $h_{0,s_i}(t_i)$ 从分子和分母中约去：\n$$\nL_i = \\frac{\\exp(\\beta X_i(t_i))}{\\sum_{j \\in R(t_i, s_i)} \\exp(\\beta X_j(t_i))}\n$$\n\n我们需要计算受试者A在时间 $t=6$ 在层 $s=1$ 中发生的事件的这一贡献。风险集 $R(6, 1)$ 已知为 $\\{A, B, C\\}$。我们必须确定在事件时间 $t=6$ 时，这些受试者中每一个的协变量值。\n\n- **受试者A**：事件发生在 $t=6$。最后一次协变量更新是 $Z(5)=0$。因此，受试者A在 $t=6$ 时的协变量值为 $X_A(6)=0$。\n\n- **受试者B**：在 $t=6$ 之前的最后一次协变量更新是 $W(4)=2$。因此，受试者B在 $t=6$ 时的协变量值为 $X_B(6)=2$。\n\n- **受试者C**：协变量是恒定的，$U(t) \\equiv 0.5$。因此，受试者C在 $t=6$ 时的协变量值为 $X_C(6)=0.5$。\n\n现在，我们可以构建受试者A事件的似然项。\n\n分子是针对发生事件的个体，即受试者A：\n$$\n\\text{Numerator} = \\exp(\\beta X_A(6)) = \\exp(\\beta \\cdot 0) = 1\n$$\n\n分母是在风险集 $R(6, 1) = \\{A, B, C\\}$ 中所有个体的总和：\n$$\n\\text{Denominator} = \\sum_{j \\in \\{A, B, C\\}} \\exp(\\beta X_j(6)) = \\exp(\\beta X_A(6)) + \\exp(\\beta X_B(6)) + \\exp(\\beta X_C(6))\n$$\n代入协变量值：\n$$\n\\text{Denominator} = \\exp(\\beta \\cdot 0) + \\exp(\\beta \\cdot 2) + \\exp(\\beta \\cdot 0.5)\n$$\n$$\n\\text{Denominator} = 1 + \\exp(2\\beta) + \\exp(0.5\\beta)\n$$\n\n受试者A的事件对偏似然的贡献是分子与分母的比值：\n$$\nL_A = \\frac{1}{1 + \\exp(2\\beta) + \\exp(0.5\\beta)}\n$$\n这就是用 $\\beta$ 表示的最终简化解析表达式。",
            "answer": "$$\n\\boxed{\\frac{1}{1 + \\exp(2\\beta) + \\exp(0.5\\beta)}}\n$$"
        },
        {
            "introduction": "真实世界的数据很少是完美的，一个常见问题是事件时间的“结点”（tied event times）。这个练习探讨了处理这一问题的两种常用近似方法：Breslow近似和Efron近似。通过具体的数值计算，你将深入了解不同策略如何影响似然估计，并体会到Efron近似为何在许多情况下被认为是更精确的选择 。",
            "id": "4961541",
            "problem": "考虑一个分层的 Cox 比例风险模型，其中在时间 $t$ 时，第 $s$ 层中个体 $i$ 的瞬时风险由 $h_{is}(t)=h_{0s}(t)\\exp\\{\\beta X_i(t)\\}$ 给出，其中 $h_{0s}(t)$ 是层特定的基线风险，$X_i(t)$ 是一个时依协变量。在时间 $t=5$ 时，层 $\\mathcal{S}_A$ 内恰好有三个来自受试者 1、2 和 3 的失败事件发生结，其协变量值分别为 $X_1(5)=1$、$X_2(5)=3$ 和 $X_3(5)=2$。在 $t=5$ 时，层特定的风险集 $\\mathcal{R}_A(5)$ 还额外包含其他五个处于风险中的个体（受试者 4–8），其协变量值分别为 $X_4(5)=0$、$X_5(5)=1.5$、$X_6(5)=2.2$、$X_7(5)=-0.5$ 和 $X_8(5)=3.1$。假设所有层的回归系数均为 $\\beta=0.4$，并且在 $t=5$ 时，失败事件结仅发生在 $\\mathcal{S}_A$ 层内。\n\n从 Cox 部分似然的定义和处理结的概念基础出发，推导在 $t=5$ 时，Breslow 近似（将结中的失败事件视为同时发生）和 Efron 近似（将结中的失败事件均匀分布在结区间内）下对部分似然的贡献。对给定数据，数值计算这两种贡献。然后，报告在 $t=5$ 时部分似然贡献的 Efron/Breslow 比值，四舍五入到四位有效数字。将最终比值表示为一个无单位的纯数。",
            "solution": "Cox 比例风险模型指定 $h_{is}(t)=h_{0s}(t)\\exp\\{\\beta X_i(t)\\}$。对于有序的不同失败时间，部分似然是通过将失败个体在失败时间的风险与该时间风险集上所有个体风险之和的比值，对所有失败时间进行连乘而形成的。当出现结时，精确似然需要对结内的未知顺序进行积分，因此通常采用广泛使用的近似方法。\n\n在 Breslow 近似下，在给定时间的所有 $d$ 个结中的失败事件被视为同时发生，其贡献的分子是 $d$ 个失败个体的相对风险的乘积，分母是风险集总和的 $d$ 次方。在 Efron 近似下， $d$ 个结中的失败事件被均匀地分布在结区间内，其贡献是 $d$ 个项的乘积，在每一步中，失败个体总风险的一部分会从风险集中移除。\n\n因为这是一个分层模型，贡献是在层内计算的，基线风险 $h_{0s}(t)$ 会从部分似然中抵消掉。令 $\\mathcal{R}_A(5)$ 为在 $t=5$ 时层 $\\mathcal{S}_A$ 内的风险集，令 $\\mathcal{D}_A(5)$ 为在 $t=5$ 时层 $\\mathcal{S}_A$ 内 $d=3$ 个结中失败事件的集合。为每个 $i \\in \\mathcal{R}_A(5)$ 定义权重 $\\exp\\{\\beta X_i(5)\\}$。\n\n计算三个失败事件的权重：\n- 对于受试者 1：$X_1(5)=1$，所以 $\\exp\\{\\beta X_1(5)\\}=\\exp\\{0.4\\times 1\\}=\\exp(0.4)\\approx 1.4918246976412703$。\n- 对于受试者 2：$X_2(5)=3$，所以 $\\exp\\{\\beta X_2(5)\\}=\\exp\\{0.4\\times 3\\}=\\exp(1.2)\\approx 3.3201169227365472$。\n- 对于受试者 3：$X_3(5)=2$，所以 $\\exp\\{\\beta X_3(5)\\}=\\exp\\{0.4\\times 2\\}=\\exp(0.8)\\approx 2.225540928492468$。\n\n令\n$$\nD \\equiv \\sum_{i\\in \\mathcal{D}_A(5)} \\exp\\{\\beta X_i(5)\\} \\approx 1.4918246976412703 + 3.3201169227365472 + 2.225540928492468 = 7.037482548870285.\n$$\n两种近似的分子都是失败个体相对风险的乘积，\n$$\nN \\equiv \\prod_{i\\in \\mathcal{D}_A(5)} \\exp\\{\\beta X_i(5)\\} = \\exp\\{\\beta[X_1(5)+X_2(5)+X_3(5)]\\} = \\exp(0.4\\times 6)=\\exp(2.4)\\approx 11.023176380641601.\n$$\n\n计算另外五个处于风险中但未失败的受试者的权重：\n- 受试者 4：$X_4(5)=0$，权重 $\\exp(0.4\\times 0)=\\exp(0)=1$。\n- 受试者 5：$X_5(5)=1.5$，权重 $\\exp(0.4\\times 1.5)=\\exp(0.6)\\approx 1.822118800390509$。\n- 受试者 6：$X_6(5)=2.2$，权重 $\\exp(0.4\\times 2.2)=\\exp(0.88)\\approx 2.410899706417119$。\n- 受试者 7：$X_7(5)=-0.5$，权重 $\\exp(0.4\\times (-0.5))=\\exp(-0.2)\\approx 0.8187307530779818$。\n- 受试者 8：$X_8(5)=3.1$，权重 $\\exp(0.4\\times 3.1)=\\exp(1.24)\\approx 3.455613845$ (使用 $\\exp(1.24)=\\exp(1.2)\\exp(0.04)\\approx 3.3201169227365472\\times 1.0408107741923889$)。\n\n对 $t=5$ 时的层特定风险集求和：\n$$\nW \\equiv \\sum_{i\\in \\mathcal{R}_A(5)} \\exp\\{\\beta X_i(5)\\} = D + \\sum_{j=4}^{8} \\exp\\{\\beta X_j(5)\\} \\approx 7.037482548870285 + (1 + 1.822118800390509 + 2.410899706417119 + 0.8187307530779818 + 3.455613845).\n$$\n因此，\n$$\nW \\approx 7.037482548870285 + 9.50736310488561 = 16.544845653755895.\n$$\n\nBreslow 近似：对于 $d=3$ 个结中的失败事件，其贡献为\n$$\nL_{\\text{Breslow}}(5) = \\frac{N}{W^d} = \\frac{\\exp(2.4)}{W^3}.\n$$\n计算 $W^3$：\n首先 $W^2\\approx 273.731916582$ (由 $(16.544845653755895)^2$ 得)，然后\n$$\nW^3 = W^2\\cdot W \\approx 273.731916582 \\times 16.544845653755895 \\approx 4{,}528.852303465874.\n$$\n因此，\n$$\nL_{\\text{Breslow}}(5) \\approx \\frac{11.023176380641601}{4{,}528.852303465874} \\approx 0.0024330.\n$$\n\nEfron 近似：对于 $d=3$，分母是 $\\left(W - \\frac{r}{d}D\\right)$ 对 $r=0,1,2$ 的连乘积，所以贡献为\n$$\nL_{\\text{Efron}}(5)=\\frac{N}{\\prod_{r=0}^{2}\\left(W - \\frac{r}{3}D\\right)}.\n$$\n计算这三个因子：\n$$\n\\frac{D}{3} \\approx \\frac{7.037482548870285}{3} \\approx 2.345827516290095,\n$$\n所以\n$$\n\\begin{aligned}\n\\text{项}_{0} = W \\approx 16.544845653755895,\\\\\n\\text{项}_{1} = W - \\frac{1}{3}D \\approx 16.544845653755895 - 2.345827516290095 \\approx 14.199018137465800,\\\\\n\\text{项}_{2} = W - \\frac{2}{3}D \\approx 16.544845653755895 - 4.691655032580190 \\approx 11.853190621175705.\n\\end{aligned}\n$$\n将分母相乘：\n$$\n\\prod_{r=0}^{2}\\left(W - \\frac{r}{3}D\\right) \\approx 16.544845653755895 \\times 14.199018137465800 \\times 11.853190621175705 \\approx 2{,}784.558009.\n$$\n因此，\n$$\nL_{\\text{Efron}}(5) \\approx \\frac{11.023176380641601}{2{,}784.558009} \\approx 0.0039601.\n$$\n\n所求的 Efron 贡献与 Breslow 贡献的比值为\n$$\nR \\equiv \\frac{L_{\\text{Efron}}(5)}{L_{\\text{Breslow}}(5)} = \\frac{W^3}{\\prod_{r=0}^{2}\\left(W - \\frac{r}{3}D\\right)} \\approx \\frac{4{,}528.852303465874}{2{,}784.558009} \\approx 1.62642.\n$$\n四舍五入到四位有效数字，该比值为 $1.626$。这个数值演示表明，当结中的失败事件具有不同的协变量值（影响 $D$）时，在这种情况下，Efron 校正产生的贡献比 Breslow 近似更大。这是因为 Efron 的分母是通过逐步减去失败风险总和的分数来减小风险集总和，而不是将完整的风险集总和提升到 $d$ 次方。",
            "answer": "$$\\boxed{1.626}$$"
        }
    ]
}