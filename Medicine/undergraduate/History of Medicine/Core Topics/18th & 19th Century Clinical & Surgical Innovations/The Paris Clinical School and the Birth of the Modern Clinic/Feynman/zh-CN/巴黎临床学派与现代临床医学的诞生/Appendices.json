{
    "hands_on_practices": [
        {
            "introduction": "拉埃内克（Laennec）发明的听诊器是一个关键时刻，它将诊断从依赖患者主观叙述转向客观的物理体征。但一个新的体征到底有多可靠？本实践练习  将让您扮演一位巴黎学派临床医生的角色，使用基础概率论来量化一个听诊发现的诊断价值。通过计算阳性预测值（Positive Predictive Value, PPV），您将看到一个物理体征如何被转化为一个正式的概率陈述，这是现代循证诊断的基石。",
            "id": "4775711",
            "problem": "十九世纪初，巴黎临床学派的医生们将系统性的床边检查与群体层面的推理相结合，将诊断重塑为一个概率性的事业。René Laennec发明的听诊器体现了这一转变，它将听诊体征转化为可靠、可量化的指标。假设在一个病房人群中，经放射学确诊的肺实变（被解释为存在疾病）的患病率为$0.30$。局灶性支气管呼吸音的听诊发现被用于检测肺实变，相对于放射学参考标准，其敏感性为$0.85$，特异性为$0.90$。使用基本概率定义和贝叶斯定理，计算该病房中阳性听诊发现的阳性预测值（PPV）。将最终的PPV表示为四舍五入到四位有效数字的小数。在获得数值后，用文字解释该PPV如何在不依赖实验室确认的情况下，支持巴黎临床学派在床边的临床决策。",
            "solution": "该问题是有效的。它提出了一个有历史背景的情景，并要求进行标准的概率计算，然后进行概念性解释。所有必要的数据都已提供，前提在科学和历史上都是合理的，问题也提得很好。\n\n为了解决这个问题，我们首先定义相关事件，并将给定信息转化为条件概率的语言。\n\n设$D$为患者有经放射学确诊的肺实变（疾病）的事件。\n设$D^c$为患者没有肺实变的事件。\n设$T^+$为听诊发现阳性（局灶性支气管呼吸音）的事件。\n设$T^-$为听诊发现阴性的事件。\n\n根据问题陈述，我们得到以下概率：\n疾病的患病率：$P(D) = 0.30$。\n听诊发现的敏感性：$P(T^+|D) = 0.85$。这是在存在疾病的情况下，检测结果为阳性的概率。\n听诊发现的特异性：$P(T^-|D^c) = 0.90$。这是在没有疾病的情况下，检测结果为阴性的概率。\n\n我们被要求计算听诊发现的阳性预测值（PPV）。PPV是患者在检测结果为阳性的情况下，确实患有该疾病的概率。用我们的符号表示，即为$P(D|T^+)$。\n\n我们将使用贝叶斯定理来计算这个值。贝叶斯定理表述如下：\n$$P(D|T^+) = \\frac{P(T^+|D) P(D)}{P(T^+)}$$\n\n分子是敏感性与患病率的乘积，这两者都是已知的：\n分子 $= P(T^+|D) P(D) = (0.85)(0.30) = 0.255$。\n\n分母$P(T^+)$是该人群中检测结果为阳性的总概率。我们使用全概率公式来计算它：\n$$P(T^+) = P(T^+|D) P(D) + P(T^+|D^c) P(D^c)$$\n\n为了使用这个公式，我们需要$P(D^c)$和$P(T^+|D^c)$。\n没有患病的概率$P(D^c)$就是$1$减去患病率：\n$$P(D^c) = 1 - P(D) = 1 - 0.30 = 0.70$$\n\n概率$P(T^+|D^c)$是假阳性率。它是在没有疾病的患者中检测结果为阳性的概率。这可以从特异性中推导出来：\n$$P(T^+|D^c) = 1 - P(T^-|D^c) = 1 - 0.90 = 0.10$$\n\n现在我们可以计算分母$P(T^+)$：\n$$P(T^+) = (0.85)(0.30) + (0.10)(0.70) = 0.255 + 0.070 = 0.325$$\n\n最后，我们将分子和分母代回贝叶斯定理，求出PPV：\n$$P(D|T^+) = \\frac{0.255}{0.325} \\approx 0.78461538...$$\n\n问题要求答案四舍五入到四位有效数字。\n$$PPV \\approx 0.7846$$\n\n这个数值结果，即大约为$78.46\\%$的阳性预测值，对于巴黎临床学派的医生来说是一个极其有力的工具。其在支持床边临床决策方面的意义可以解释如下：\n\n计算出的$0.7846$的PPV表明，用听诊器检测到局灶性支气管呼吸音的医生可以有大约$78\\%$的把握确定患者存在潜在的肺实变。这代表了与早期诊断模式的根本性转变，早期的诊断模式严重依赖患者对症状的主观叙述或抽象、无法验证的体液学说。听诊器是那个时代的发明，它使医生能够直接从患者身体上获取客观的物理体征。\n\n这个PPV的力量在于它能够量化临床判断。在此之前，临床怀疑是一种定性的“直觉”。通过将体征的观察（支气管呼吸音）与对其在人群中的统计表现（敏感性、特异性）以及当地疾病患病率的理解相结合，巴黎的临床医生能够将怀疑转化为正式的概率。一个$78\\%$的概率是诊断的有力依据。它为在床边做出的关于预后和治疗的临床决策提供了理性的、基于证据的理由。对于巴黎学派来说，其最终的诊断金标准通常是尸体解剖，而这种方法提供了一种在活体患者身上获得高度诊断信心的方式，无需侵入性程序或当时尚未发展起来的检验医学工具。这正是“现代临床医学的诞生”，因为它为医生提供了一种方法，可以根据系统收集的物理证据对看不见的病理进行理性的、概率性的推断，从而使诊断成为一项科学事业，而不仅仅是一门手艺活。",
            "answer": "$$\\boxed{0.7846}$$"
        },
        {
            "introduction": "在巴黎学派之前，像放血术这样的疗法是靠传统和轶事来辩护的。皮埃尔·夏尔·亚历山大·路易（Pierre Charles Alexandre Louis）倡导使用“数字法”（numerical method）为治疗评估带来统计上的严谨性。本练习  要求您应用其核心原则，通过分析关于放血术的假设数据，并控制疾病严重程度这一关键的混杂因素。通过这项计算，您将理解系统性计数和公平比较如何能够颠覆数个世纪的医学教条。",
            "id": "4775706",
            "problem": "在巴黎临床学派，Pierre Charles Alexandre Louis 提出了一种“数值方法”，通过将结论建立在系统收集的计数和比例之上，来裁决有争议的治疗实践。考虑一个符合历史史实的假设数据集，研究肺炎患者的放血疗法，按放血时机和疾病严重程度分组。将“早期放血”定义为入院后前$3$天内开始的放血，将“晚期放血”定义为第$4$天或之后开始的放血。患者在入院时根据标准化的临床标准被分层为“轻度”和“重度”肺炎类别。观察到的数据如下：\n\n- 早期放血队列：轻度组有 $n_{E,M} = 120$ 例病例，其中 $d_{E,M} = 12$ 例死亡；重度组有 $n_{E,S} = 80$ 例病例，其中 $d_{E,S} = 28$ 例死亡。\n- 晚期放血队列：轻度组有 $n_{L,M} = 130$ 例病例，其中 $d_{L,M} = 10$ 例死亡；重度组有 $n_{L,S} = 70$ 例病例，其中 $d_{L,S} = 20$ 例死亡。\n\n使用队列风险是不良结局的比例（$\\text{风险} = \\text{死亡数}/\\text{病案数}$）这一基本定义，以及对于具有不同病案组合的队列进行公平比较需要标准化到一个共同的协变量分布的原则，将疾病严重程度作为分层变量，并根据合并队列的严重程度分布进行标准化。从基本原理出发，推导出跨越两个分层的标准化风险差（早期减去晚期）。\n\n你的最终答案必须是单一的标准化风险差值，以小数形式表示并四舍五入到$4$位有效数字。不要使用百分号，也不要包含单位。",
            "solution": "本问题要求计算肺炎患者的“早期放血”和“晚期放血”两个队列之间的标准化风险差。标准化是相对于疾病严重程度（轻度 vs. 重度）进行的，并使用合并队列作为标准总体。该方法植根于 P.C.A. Louis 的“数值方法”原则，通过控制疾病严重程度的混杂效应，允许进行公平比较。\n\n令 $E$ 表示早期放血队列，$L$ 表示晚期放血队列。令 $M$ 表示轻度严重性分层，$S$ 表示重度严重性分层。所提供的数据如下：\n- 早期，轻度：$n_{E,M} = 120$ 例病例， $d_{E,M} = 12$ 例死亡。\n- 早期，重度：$n_{E,S} = 80$ 例病例， $d_{E,S} = 28$ 例死亡。\n- 晚期，轻度：$n_{L,M} = 130$ 例病例， $d_{L,M} = 10$ 例死亡。\n- 晚期，重度：$n_{L,S} = 70$ 例病例， $d_{L,S} = 20$ 例死亡。\n\n目标是计算标准化风险差，$SRD = SR_E - SR_L$。\n\n首先，我们必须定义风险和标准化程序。任何组的风险 $r$ 是死亡人数与病例数的比例：\n$$r = \\frac{\\text{死亡数}}{\\text{病例数}}$$\n直接标准化法将不同总体的风险调整到一个共同的“标准”总体结构。标准化风险 ($SR$) 是各分层特定风险 ($r_i$) 的加权平均值，其中权重 ($w_i$) 是标准总体中每个分层 ($i$) 的比例。\n$$SR = \\sum_{i} w_i r_i$$\n\n**步骤 1：确定标准总体和权重**\n问题指明，标准总体是两个队列合并后的严重程度分布。\n轻度分层的总患者人数 ($N_M$) 是：\n$$N_M = n_{E,M} + n_{L,M} = 120 + 130 = 250$$\n重度分层的总患者人数 ($N_S$) 是：\n$$N_S = n_{E,S} + n_{L,S} = 80 + 70 = 150$$\n合并队列的总患者人数 ($N_{Total}$) 是：\n$$N_{Total} = N_M + N_S = 250 + 150 = 400$$\n轻度 ($w_M$) 和重度 ($w_S$) 分层的权重是这些分层在总人口中所占的比例：\n$$w_M = \\frac{N_M}{N_{Total}} = \\frac{250}{400} = \\frac{5}{8} = 0.625$$\n$$w_S = \\frac{N_S}{N_{Total}} = \\frac{150}{400} = \\frac{3}{8} = 0.375$$\n作为检验，$w_M + w_S = 0.625 + 0.375 = 1$。\n\n**步骤 2：计算分层特定风险**\n我们现在计算四个亚组中每一个的死亡风险。\n- 早期放血、轻度分层的风险 ($r_{E,M}$):\n$$r_{E,M} = \\frac{d_{E,M}}{n_{E,M}} = \\frac{12}{120} = 0.1$$\n- 早期放血、重度分层的风险 ($r_{E,S}$):\n$$r_{E,S} = \\frac{d_{E,S}}{n_{E,S}} = \\frac{28}{80} = \\frac{7}{20} = 0.35$$\n- 晚期放血、轻度分层的风险 ($r_{L,M}$):\n$$r_{L,M} = \\frac{d_{L,M}}{n_{L,M}} = \\frac{10}{130} = \\frac{1}{13}$$\n- 晚期放血、重度分层的风险 ($r_{L,S}$):\n$$r_{L,S} = \\frac{d_{L,S}}{n_{L,S}} = \\frac{20}{70} = \\frac{2}{7}$$\n\n**步骤 3：计算标准化风险**\n使用步骤1中的权重和步骤2中的分层特定风险，我们计算每个队列的标准化风险。\n- 早期放血队列的标准化风险 ($SR_E$):\n$$SR_E = w_M r_{E,M} + w_S r_{E,S} = \\left(\\frac{5}{8}\\right)(0.1) + \\left(\\frac{3}{8}\\right)(0.35)$$\n$$SR_E = \\frac{5}{80} + \\frac{1.05}{8} = \\frac{1}{16} + \\frac{1.05}{8} = \\frac{1}{16} + \\frac{2.1}{16} = \\frac{3.1}{16} = \\frac{31}{160} = 0.19375$$\n\n- 晚期放血队列的标准化风险 ($SR_L$):\n$$SR_L = w_M r_{L,M} + w_S r_{L,S} = \\left(\\frac{5}{8}\\right)\\left(\\frac{1}{13}\\right) + \\left(\\frac{3}{8}\\right)\\left(\\frac{2}{7}\\right)$$\n$$SR_L = \\frac{5}{104} + \\frac{6}{56} = \\frac{5}{104} + \\frac{3}{28}$$\n为了对这些分数求和，我们找到一个公分母，即$728$：\n$$SR_L = \\frac{5 \\times 7}{104 \\times 7} + \\frac{3 \\times 26}{28 \\times 26} = \\frac{35}{728} + \\frac{78}{728} = \\frac{113}{728}$$\n\n**步骤 4：计算标准化风险差**\n最后，标准化风险差 ($SRD$) 是早期和晚期队列的标准化风险之间的差值。\n$$SRD = SR_E - SR_L = \\frac{31}{160} - \\frac{113}{728}$$\n为了相减，我们找到$160$和$728$的公分母。$160 = 16 \\times 10$ 且 $728 = 8 \\times 91$。最小公倍数是$14560$。\n$$SRD = \\frac{31 \\times 91}{160 \\times 91} - \\frac{113 \\times 20}{728 \\times 20} = \\frac{2821}{14560} - \\frac{2260}{14560} = \\frac{561}{14560}$$\n现在，我们将此分数转换为小数：\n$$SRD = \\frac{561}{14560} \\approx 0.03853021978...$$\n问题要求答案四舍五入到$4$位有效数字。第一位有效数字是$3$。第四位是第二个$3$。后一位数字是$0$，所以我们舍去。\n$$SRD \\approx 0.03853$$\n这个正值表明，在对疾病严重程度进行调整后，早期放血队列的死亡风险比晚期放血队列高出约$0.03853$。",
            "answer": "$$\\boxed{0.03853}$$"
        },
        {
            "introduction": "“数字法”的力量不仅在于评估过去的治疗方法，更在于指导未来针对个体患者的决策。这最后一个实践  旨在弥合群体层面统计数据与床边临床判断之间的鸿沟。您将使用一个简单的决策分析模型，根据治疗的预期收益和风险，推导出一个精确的治疗决策阈值。这展示了巴黎学派定量革命的最终实际应用。",
            "id": "4775677",
            "problem": "一位受过巴黎临床学派传统教育的医生，正试图根据 Pierre Charles Alexandre Louis 及其同时代人所倡导的临床队列数值观察，为一名疑似肺炎患者制定是否早期进行放血治疗的床边决策。该医生采用了一个针对单一结局（$30$天生存率）的简单期望值框架。决策是关于是否立即开始早期放血治疗。\n\n根据按疾病严重程度分层的既往病房队列，该医生估计了以下$30$天死亡率概率：\n- 对于回顾性判断为重症的患者：早期放血治疗的死亡率 $\\;=\\;$ $0.32$；期待疗法的死亡率 $\\;=\\;$ $0.40$。\n- 对于回顾性判断为轻症的患者：早期放血治疗的死亡率 $\\;=\\;$ $0.10$；期待疗法的死亡率 $\\;=\\;$ $0.06$。\n\n假设如下：\n1. 决策完全基于最大化$30$天生存的期望概率。\n2. 床边的唯一不确定性是当前患者是重症还是轻症。设 $p$ 表示医生当前判断该患者为重症的概率（因此 $1-p$ 为轻症的概率）。\n3. 在每个严重程度分层中，上述队列死亡率概率被视为该患者在每种治疗选择下真实概率的准确估计。\n4. 就此决策而言，放血治疗对$30$天死亡率影响之外的任何其他伤害或益处均可忽略不计。\n\n仅使用期望值的定义和数据所隐含的基于队列的绝对风险差异，推导出一个形式为“当且仅当 $p \\ge p^{\\ast}$ 时，开始早期放血治疗”的阈值规则。然后，使用给定的队列估计值计算 $p^{\\ast}$ 的数值。将最终答案表示为一个不带单位的单一数字。如果确切值是一个有理数，请给出确切值而不是小数近似值。",
            "solution": "首先对问题陈述进行验证。\n\n### 第1步：提取已知条件\n- **目标**：最大化$30$天生存的期望概率。\n- **决策选项**：开始早期放血治疗或采用期待疗法。\n- **自然状态**：患者的病情为重症或轻症。\n- **状态概率**：\n  - $p$：患者为重症的概率。\n  - $1-p$：患者为轻症的概率。\n- **结局概率（死亡率）**，以状态和行动为条件：\n  - 重症，早期放血治疗：死亡率 $M_{S,BL} = 0.32$。\n  - 重症，期待疗法：死亡率 $M_{S,EM} = 0.40$。\n  - 轻症，早期放血治疗：死亡率 $M_{M,BL} = 0.10$。\n  - 轻症，期待疗法：死亡率 $M_{M,EM} = 0.06$。\n- **假设**：\n  1. 决策完全基于最大化$30$天生存的期望概率。\n  2. 唯一的不确定性是患者的严重程度（重症 vs. 轻症）。\n  3. 给定的队列死亡率概率对当前患者是准确的。\n  4. 其他伤害或益处可忽略不计。\n- **任务**：推导出一个形式为“当且仅当 $p \\ge p^{\\ast}$ 时，开始早期放血治疗”的阈值规则，并计算 $p^{\\ast}$ 的数值。\n\n### 第2步：使用提取的已知条件进行验证\n根据指定的验证标准对问题进行验证。\n\n- **科学依据**：该问题使用历史背景（放血疗法、巴黎临床学派）作为决策论中现代数学建模练习的前提。期望值的基本原理在数学上和逻辑上都是合理的。该问题并未断言放血疗法作为医学事实的有效性，而是将历史数据作为在特定框架内进行计算的基础。因此，它在概率论和决策分析的原则上具有科学依据。\n- **适定性**：该问题是适定的。它提供了所有必要的数值数据（条件概率）和一个明确定义的目标函数（最大化期望生存率）。定义了单个未知数 $p$，目标是找到一个特定的阈值 $p^{\\ast}$。这种结构允许推导出唯一且有意义的解。\n- **客观性**：问题陈述使用了精确、定量且无偏见的语言。\n- **其他缺陷**：该问题在其历史框架内并非事实不符，是可形式化的，是完整的，没有矛盾，并非物理上不现实，并非不适定，并非微不足道，并且在数学上是可验证的。\n\n### 第3步：结论与行动\n问题是**有效的**。将推导解答。\n\n当且仅当进行早期放血治疗的期望效用大于或等于期待疗法的期望效用时，才做出该决策。根据问题陈述，效用定义为$30$天生存的概率。\n\n设 $S$ 表示$30$天生存事件。问题提供了死亡率概率 $M$。生存概率为 $S = 1 - M$。我们首先将给定的死亡率概率转换为生存概率。\n- 对于重症患者，采用早期放血治疗（$BL$）：$S_{S,BL} = 1 - M_{S,BL} = 1 - 0.32 = 0.68$。\n- 对于重症患者，采用期待疗法（$EM$）：$S_{S,EM} = 1 - M_{S,EM} = 1 - 0.40 = 0.60$。\n- 对于轻症患者，采用早期放血治疗（$BL$）：$S_{M,BL} = 1 - M_{M,BL} = 1 - 0.10 = 0.90$。\n- 对于轻症患者，采用期待疗法（$EM$）：$S_{M,EM} = 1 - M_{M,EM} = 1 - 0.06 = 0.94$。\n\n每种行动方案的期望生存概率是通过计算每种自然状态（重症或轻症）下生存概率的加权平均值来得出的，其中权重是医生的主观概率 $p$ 和 $1-p$。\n\n设 $E[S_{BL}]$ 为选择放血治疗时的期望生存概率。\n$$E[S_{BL}] = p \\cdot S_{S,BL} + (1-p) \\cdot S_{M,BL}$$\n$$E[S_{BL}] = p(0.68) + (1-p)(0.90)$$\n\n设 $E[S_{EM}]$ 为选择期待疗法时的期望生存概率。\n$$E[S_{EM}] = p \\cdot S_{S,EM} + (1-p) \\cdot S_{M,EM}$$\n$$E[S_{EM}] = p(0.60) + (1-p)(0.94)$$\n\n决策规则是当且仅当 $E[S_{BL}] \\ge E[S_{EM}]$ 时开始放血治疗。\n$$p(0.68) + (1-p)(0.90) \\ge p(0.60) + (1-p)(0.94)$$\n\n为求得阈值 $p^{\\ast}$，我们解这个关于 $p$ 的不等式。\n$$0.68p + 0.90 - 0.90p \\ge 0.60p + 0.94 - 0.94p$$\n$$0.90 - 0.22p \\ge 0.94 - 0.34p$$\n接下来，我们将含 $p$ 的项移到不等式的一边，常数项移到另一边。\n$$0.34p - 0.22p \\ge 0.94 - 0.90$$\n$$0.12p \\ge 0.04$$\n$$p \\ge \\frac{0.04}{0.12}$$\n\n这可以简化为：\n$$p \\ge \\frac{4}{12} = \\frac{1}{3}$$\n这个不等式的形式为 $p \\ge p^{\\ast}$，其中阈值概率 $p^{\\ast}$ 是 $\\frac{1}{3}$。\n\n另外，根据题干提示，我们可以使用绝对风险差异。设 $\\Delta(S)$ 为选择放血治疗相对于期待疗法在生存概率上的获益。\n- 对于重症患者：$\\Delta_S = S_{S,BL} - S_{S,EM} = 0.68 - 0.60 = 0.08$。\n- 对于轻症患者：$\\Delta_M = S_{M,BL} - S_{M,EM} = 0.90 - 0.94 = -0.04$。\n\n放血治疗的期望获益 $E[\\Delta]$ 是：\n$$E[\\Delta] = p \\cdot \\Delta_S + (1-p) \\cdot \\Delta_M$$\n决策规则是，如果期望获益为非负，即 $E[\\Delta] \\ge 0$，则选择放血治疗。\n$$p(0.08) + (1-p)(-0.04) \\ge 0$$\n$$0.08p - 0.04 + 0.04p \\ge 0$$\n$$0.12p \\ge 0.04$$\n$$p \\ge \\frac{0.04}{0.12} = \\frac{1}{3}$$\n两种方法得出相同的阈值。因此，当且仅当医生估计患者为重症的概率至少为 $\\frac{1}{3}$ 时，才应开始早期放血治疗。阈值的数值为 $p^{\\ast} = \\frac{1}{3}$。",
            "answer": "$$\\boxed{\\frac{1}{3}}$$"
        }
    ]
}