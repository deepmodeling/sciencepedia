{
    "hands_on_practices": [
        {
            "introduction": "位涡（PV）守恒原理是地球物理流体动力学的基石，它指出在绝热、无粘的流动中，位涡如同一个跟随着流体质点的守恒示踪物。本练习提供了一个将此原理应用于经典场景的动手实践：流体急流跨越水下山脊。通过计算当流体柱被“挤压”时绝对涡度的变化，您将对地形如何强制改变流动的旋转获得具体的理解 。",
            "id": "3908893",
            "problem": "考虑一个旋转行星上的无粘性、绝热的单层浅水纬向急流，该急流由浅水方程组建模。在一个静止山脊的上游，该急流具有均匀的层厚 $H$、均匀的相对涡度 $\\zeta_{0}$，并且位于具有恒定科里奥利参数 $f_{0}$ 的f平面上。当流体质点越过山脊时，在一个足够宽的区域内，层厚减小至 $h_{\\mathrm{down}} = 0.9\\,H$。该区域之宽足以忽略流动分离、形态阻力和混合，且非绝热效应可忽略不计。假设运动保持静力平衡，且质点质量守恒。\n\n从浅水动量和质量连续性方程以及仅从它们推导出的可靠事实出发，为该系统建立相应位涡的物质守恒定律，并利用它来：\n\n- 计算上游流动的守恒位涡 $q$，用 $H$、$\\zeta_{0}$ 和 $f_{0}$ 表示。\n- 确定层厚减小至 $h_{\\mathrm{down}}$ 后的下游绝对涡度 $\\zeta_{a,\\mathrm{down}}$。\n\n根据你的推导，从物理上解释当急流越过山脊时绝对涡度是增加还是减少，并说明原因。作为你的最终答案，请提供仅用 $\\zeta_{0}$ 和 $f_{0}$ 表示的 $\\zeta_{a,\\mathrm{down}}$ 的闭合解析表达式。不需要进行数值计算，也无需四舍五入。如果使用数值，绝对涡度的单位将为 $\\mathrm{s}^{-1}$。",
            "solution": "该问题是有效的，因为它科学地基于地球物理流体动力学原理，问题提法恰当且客观。我们首先推导单层浅水系统的位涡守恒。\n\n旋转平面上无粘性、静力平衡的单层浅水流体的控制方程是动量方程和质量连续性方程。在一个坐标系中，$x$ 和 $y$ 是水平坐标，$\\mathbf{u} = (u,v)$ 是水平速度矢量，方程组如下：\n\n动量方程：\n$$ \\frac{Du}{Dt} - fv = -g \\frac{\\partial h}{\\partial x} $$\n$$ \\frac{Dv}{Dt} + fu = -g \\frac{\\partial h}{\\partial y} $$\n\n质量连续性方程：\n$$ \\frac{Dh}{Dt} + h \\left( \\frac{\\partial u}{\\partial x} + \\frac{\\partial v}{\\partial y} \\right) = 0 $$\n\n此处，$\\frac{D}{Dt} = \\frac{\\partial}{\\partial t} + u\\frac{\\partial}{\\partial x} + v\\frac{\\partial}{\\partial y}$ 是物质导数，$h$ 是流体层厚度，$g$ 是重力加速度，$f$ 是科里奥利参数。对于本题，流动位于f平面上，意味着 $f$ 是一个常数，$f=f_0$。\n\n为了推导位涡守恒定律，我们首先推导涡度方程。相对涡度的垂直分量定义为 $\\zeta = \\frac{\\partial v}{\\partial x} - \\frac{\\partial u}{\\partial y}$。我们将 $v$-动量方程对 $x$ 求偏导，然后减去 $u$-动量方程对 $y$ 的偏导：\n$$ \\frac{\\partial}{\\partial x}\\left(\\frac{Dv}{Dt}\\right) - \\frac{\\partial}{\\partial y}\\left(\\frac{Du}{Dt}\\right) + \\frac{\\partial(fu)}{\\partial x} + \\frac{\\partial(fv)}{\\partial y} = -\\frac{\\partial}{\\partial x}\\left(g \\frac{\\partial h}{\\partial y}\\right) + \\frac{\\partial}{\\partial y}\\left(g \\frac{\\partial h}{\\partial x}\\right) = 0 $$\n展开平流项后，可以对左侧进行处理，得到相对涡度的演变。涉及平流的项变为：\n$$ \\frac{\\partial}{\\partial x}\\left(\\frac{Dv}{Dt}\\right) - \\frac{\\partial}{\\partial y}\\left(\\frac{Du}{Dt}\\right) = \\frac{D\\zeta}{Dt} + (\\zeta+f) \\left( \\frac{\\partial u}{\\partial x} + \\frac{\\partial v}{\\partial y} \\right) - \\left(u\\frac{\\partial f}{\\partial x} + v\\frac{\\partial f}{\\partial y}\\right) $$\n由于我们处于f平面上（$f=f_0$），$f$ 的梯度为零。涡度方程显著简化为：\n$$ \\frac{D\\zeta}{Dt} + (\\zeta+f_0) \\left( \\frac{\\partial u}{\\partial x} + \\frac{\\partial v}{\\partial y} \\right) = 0 $$\n根据质量连续性方程，水平散度由 $\\left( \\frac{\\partial u}{\\partial x} + \\frac{\\partial v}{\\partial y} \\right) = -\\frac{1}{h}\\frac{Dh}{Dt}$ 给出。将此代入涡度方程：\n$$ \\frac{D\\zeta}{Dt} + (\\zeta+f_0) \\left( -\\frac{1}{h}\\frac{Dh}{Dt} \\right) = 0 $$\n$$ \\frac{D\\zeta}{Dt} = \\frac{\\zeta+f_0}{h} \\frac{Dh}{Dt} $$\n重新整理该方程得到：\n$$ h \\frac{D\\zeta}{Dt} - (\\zeta+f_0) \\frac{Dh}{Dt} = 0 $$\n由于 $f_0$ 是常数，$\\frac{Df_0}{Dt} = 0$，所以 $\\frac{D\\zeta}{Dt} = \\frac{D(\\zeta+f_0)}{Dt}$。表达式为：\n$$ h \\frac{D(\\zeta+f_0)}{Dt} - (\\zeta+f_0) \\frac{Dh}{Dt} = 0 $$\n两边同除以 $h^2$ (假设 $h \\neq 0$)，我们得到：\n$$ \\frac{h \\frac{D(\\zeta+f_0)}{Dt} - (\\zeta+f_0) \\frac{Dh}{Dt}}{h^2} = 0 $$\n根据微分的商法则，这是量 $\\frac{\\zeta+f_0}{h}$ 的物质导数：\n$$ \\frac{D}{Dt} \\left( \\frac{\\zeta+f_0}{h} \\right) = 0 $$\n这证明了对于任何流体质点，量 $q = \\frac{\\zeta+f_0}{h}$ 是物质守恒的。这个量 $q$ 就是浅水位涡（PV）。项 $\\zeta_a = \\zeta + f_0$ 是绝对涡度。因此，位涡是绝对涡度与流体层厚度的比值，$q = \\frac{\\zeta_a}{h}$。\n\n现在，我们将此守恒原理应用于本题。\n上游流动具有均匀的层厚 $H$、均匀的相对涡度 $\\zeta_0$ 和恒定的科里奥利参数 $f_0$。因此，上游流动的位涡 $q$ 为：\n$$ q = \\frac{\\zeta_0 + f_0}{H} $$\n\n当流体质点从上游越过山脊流向下游时，它们的位涡是守恒的。我们用下标 'up' 和 'down' 分别表示上游和下游的状态。\n$$ q_{\\mathrm{up}} = q_{\\mathrm{down}} $$\n上游的绝对涡度是 $\\zeta_{a,\\mathrm{up}} = \\zeta_0 + f_0$。层厚是 $h_{\\mathrm{up}} = H$。所以，\n$$ q_{\\mathrm{up}} = \\frac{\\zeta_{a,\\mathrm{up}}}{h_{\\mathrm{up}}} = \\frac{\\zeta_0 + f_0}{H} $$\n在下游，层厚减小至 $h_{\\mathrm{down}} = 0.9H$。绝对涡度是 $\\zeta_{a,\\mathrm{down}}$。因此，\n$$ q_{\\mathrm{down}} = \\frac{\\zeta_{a,\\mathrm{down}}}{h_{\\mathrm{down}}} = \\frac{\\zeta_{a,\\mathrm{down}}}{0.9H} $$\n令上游和下游的位涡相等：\n$$ \\frac{\\zeta_0 + f_0}{H} = \\frac{\\zeta_{a,\\mathrm{down}}}{0.9H} $$\n我们求解下游的绝对涡度 $\\zeta_{a,\\mathrm{down}}$：\n$$ \\zeta_{a,\\mathrm{down}} = (\\zeta_0 + f_0) \\frac{0.9H}{H} = 0.9(\\zeta_0 + f_0) $$\n\n从物理上看，位涡守恒 $q = \\zeta_a / h$ 意味着绝对涡度与流体柱厚度之间存在直接关系。如果一个流体柱被垂直压缩（其厚度 $h$ 减小），其绝对涡度 $\\zeta_a$ 必须成比例地减小以保持 $q$ 不变。这种现象被称为“涡旋压缩”。相反，如果流体柱被垂直拉伸（$h$ 增加），其绝对涡度必须增加（“涡旋拉伸”）。\n\n在本题中，急流越过一个山脊，导致层厚从 $H$ 减小到 $h_{\\mathrm{down}} = 0.9H$。这种垂直压缩迫使绝对涡度减小。我们的结果证实了这一点：下游的绝对涡度 $\\zeta_{a,\\mathrm{down}}$ 是上游绝对涡度 $(\\zeta_0 + f_0)$ 的0.9倍。绝对涡度的这种减小是流体柱在其垂直范围减小时角动量守恒的直接结果。",
            "answer": "$$\n\\boxed{0.9(\\zeta_{0} + f_{0})}\n$$"
        },
        {
            "introduction": "除了单个流体质点的位涡守恒之外，位涡的空间分布——尤其是其梯度——决定了大规模流动的稳定性。这项练习将挑战您分析纬向急流的位涡结构，这是地球大气和海洋中的一个普遍特征。计算位涡梯度为零的位置  是诊断正压不稳定性以及罗斯贝波临界层存在的关键第一步。",
            "id": "3808676",
            "problem": "考虑一个位于中纬度 $\\beta$ 平面上的正压单层海洋，其厚度 $H$ 为常数，科里奥利参数为 $f(y) = f_{0} + \\beta y$。水平流动是无辐散和无粘性的。一个纬向急流由 $u(y) = U_{0} \\exp(-y^{2}/L^{2})$ 和 $v(y) = 0$ 给出，其中 $U_{0}  0$ 和 $L  0$ 是常数，$y$ 是以米为单位的经向坐标。仅使用地球物理流体动力学和正压浅水框架中的基本定义：\n\n1. 推导该流动的相对涡度的垂直分量 $\\zeta(y)$。\n\n2. 构建绝对涡度场 $\\eta(y) = f(y) + \\zeta(y)$，并简明解释关于 $y$ 的线性行星涡度项 $\\beta y$ 与仅有相对涡度时相比，是如何修正绝对涡度的。\n\n3. 通过 $q(y) = \\eta(y)/H$ 定义正压浅水位涡 (PV)。计算经向位涡梯度 $\\mathrm{d}q/\\mathrm{d}y$，并确定使 $\\mathrm{d}q/\\mathrm{d}y = 0$ 的经向位置 $y_{c}$。将你的最终答案表示为关于大小 $|y_{c}|$ 的单个闭合形式的解析表达式，用朗伯 $W$ 函数表示。所有参数均使用国际单位制 (SI)，并且只需提供解析表达式；无需进行数值计算。在最终的方框表达式中不要包含单位。",
            "solution": "首先验证问题的科学合理性、适定性和客观性。该问题设置在 $\\beta$ 平面上的标准正压浅水框架中，这是地球物理流体动力学的基石。所有术语都有明确定义，给定的速度剖面是理论研究中使用的标准高斯急流。问题是自洽的，没有矛盾或歧义。它要求进行一个标准的推导，最终导出临界层的确定，这是流体稳定性分析中的一个基本概念。因此，该问题被认为是有效的，下面提供完整解答。\n\n解答按题目要求分三部分进行。\n\n1.  相对涡度 $\\zeta(y)$ 的推导。\n相对涡度的垂直分量 $\\zeta$ 在笛卡尔坐标系中定义为 $\\zeta = \\frac{\\partial v}{\\partial x} - \\frac{\\partial u}{\\partial y}$。问题提供了一个纯纬向流，其速度分量为 $u(y) = U_{0} \\exp(-y^{2}/L^{2})$ 和 $v(y) = 0$。由于 $v$ 恒等于零，其关于 $x$ 的偏导数也为零：$\\frac{\\partial v}{\\partial x} = 0$。$u$ 关于 $y$ 的偏导数为：\n$$\n\\frac{\\partial u}{\\partial y} = \\frac{\\mathrm{d}}{\\mathrm{d}y} \\left( U_{0} \\exp\\left(-\\frac{y^{2}}{L^{2}}\\right) \\right) = U_{0} \\exp\\left(-\\frac{y^{2}}{L^{2}}\\right) \\cdot \\left(-\\frac{2y}{L^{2}}\\right) = -\\frac{2 U_{0} y}{L^{2}} \\exp\\left(-\\frac{y^{2}}{L^{2}}\\right)\n$$\n将这些代入涡度的定义，我们得到 $\\zeta(y)$ 的表达式：\n$$\n\\zeta(y) = 0 - \\left( -\\frac{2 U_{0} y}{L^{2}} \\exp\\left(-\\frac{y^{2}}{L^{2}}\\right) \\right) = \\frac{2 U_{0} y}{L^{2}} \\exp\\left(-\\frac{y^{2}}{L^{2}}\\right)\n$$\n\n2.  绝对涡度 $\\eta(y)$ 的构建。\n绝对涡度 $\\eta(y)$ 是行星涡度 $f(y)$ 和相对涡度 $\\zeta(y)$ 的和。行星涡度由 $\\beta$ 平面上的科里奥利参数给出，$f(y) = f_{0} + \\beta y$。将其与第 1 部分的结果相结合，我们得到：\n$$\n\\eta(y) = f(y) + \\zeta(y) = \\left(f_{0} + \\beta y\\right) + \\frac{2 U_{0} y}{L^{2}} \\exp\\left(-\\frac{y^{2}}{L^{2}}\\right)\n$$\n行星涡度项 $\\beta y$ 为涡度场引入了一个背景线性梯度。虽然相对涡度 $\\zeta(y)$ 是局域化的，并由急流的切变所形成（在急流轴 $y=0$ 处为零，且关于其反对称），但行星涡度分量提供了一个大尺度的、单调递增的背景。这两种效应的叠加意味着绝对涡度 $\\eta(y)$ 不再关于急流轴对称；其结构被行星涡度梯度所倾斜。\n\n3.  经向位涡 (PV) 梯度和临界层位置的计算。\n对于厚度为常数 $H$ 的流体，正压浅水位涡 (PV) 定义为 $q(y) = \\frac{\\eta(y)}{H}$。为了找到经向位涡梯度为零的经向位置 $y_{c}$，我们必须计算 $\\frac{\\mathrm{d}q}{\\mathrm{d}y}$ 并将其设为 $0$。由于 $H$ 是一个常数，这等价于找到使 $\\frac{\\mathrm{d}\\eta}{\\mathrm{d}y} = 0$ 的位置。\n我们首先计算绝对涡度 $\\eta(y)$ 关于 $y$ 的导数：\n$$\n\\frac{\\mathrm{d}\\eta}{\\mathrm{d}y} = \\frac{\\mathrm{d}}{\\mathrm{d}y} \\left( f_{0} + \\beta y + \\zeta(y) \\right) = \\beta + \\frac{\\mathrm{d}\\zeta}{\\mathrm{d}y}\n$$\n接下来，我们使用乘法法则对相对涡度 $\\zeta(y)$ 求导：\n$$\n\\frac{\\mathrm{d}\\zeta}{\\mathrm{d}y} = \\frac{\\mathrm{d}}{\\mathrm{d}y} \\left( \\frac{2 U_{0} y}{L^{2}} \\exp\\left(-\\frac{y^{2}}{L^{2}}\\right) \\right) = \\frac{2 U_{0}}{L^{2}} \\left[ 1 \\cdot \\exp\\left(-\\frac{y^{2}}{L^{2}}\\right) + y \\cdot \\exp\\left(-\\frac{y^{2}}{L^{2}}\\right) \\left(-\\frac{2y}{L^{2}}\\right) \\right]\n$$\n$$\n\\frac{\\mathrm{d}\\zeta}{\\mathrm{d}y} = \\frac{2 U_{0}}{L^{2}} \\exp\\left(-\\frac{y^{2}}{L^{2}}\\right) \\left( 1 - \\frac{2y^{2}}{L^{2}} \\right)\n$$\n现在，我们将临界位置 $y = y_{c}$ 处的总位涡梯度设为零：\n$$\n\\frac{\\mathrm{d}\\eta}{\\mathrm{d}y} \\bigg|_{y=y_{c}} = \\beta + \\frac{2 U_{0}}{L^{2}} \\left( 1 - \\frac{2y_{c}^{2}}{L^{2}} \\right) \\exp\\left(-\\frac{y_{c}^{2}}{L^{2}}\\right) = 0\n$$\n这是一个关于 $y_{c}$ 的超越方程。为了使用朗伯 W 函数（由关系式 $Z = W(Z) \\exp(W(Z))$ 定义）来求解，我们整理方程。\n$$\n\\left( 1 - \\frac{2y_{c}^{2}}{L^{2}} \\right) \\exp\\left(-\\frac{y_{c}^{2}}{L^{2}}\\right) = -\\frac{\\beta L^{2}}{2 U_{0}}\n$$\n设一个新变量 $X = 1 - \\frac{2y_{c}^{2}}{L^{2}}$。由此，我们可以将 $\\frac{y_{c}^{2}}{L^{2}}$ 表示为 $\\frac{y_{c}^{2}}{L^{2}} = \\frac{1-X}{2}$。将这些代入方程得到：\n$$\nX \\exp\\left(-\\frac{1-X}{2}\\right) = -\\frac{\\beta L^{2}}{2 U_{0}}\n$$\n$$\nX \\exp\\left(-\\frac{1}{2}\\right) \\exp\\left(\\frac{X}{2}\\right) = -\\frac{\\beta L^{2}}{2 U_{0}}\n$$\n两边同乘 $\\frac{1}{2}\\exp\\left(\\frac{1}{2}\\right)$：\n$$\n\\frac{X}{2} \\exp\\left(\\frac{X}{2}\\right) = -\\frac{\\beta L^{2}}{4 U_{0}} \\exp\\left(\\frac{1}{2}\\right)\n$$\n该方程的形式为 $Y \\exp(Y) = C$，其中 $Y = \\frac{X}{2}$ 且 $C = -\\frac{\\beta L^{2}}{4 U_{0}} \\exp\\left(\\frac{1}{2}\\right)$。其解由朗伯 W 函数给出：\n$$\nY = W\\left( -\\frac{\\beta L^{2}}{4 U_{0}} \\exp\\left(\\frac{1}{2}\\right) \\right)\n$$\n回代 $Y$ 然后回代 $X$：\n$$\n\\frac{X}{2} = W\\left( -\\frac{\\beta L^{2}}{4 U_{0}} \\exp\\left(\\frac{1}{2}\\right) \\right) \\implies X = 2 W\\left( -\\frac{\\beta L^{2}}{4 U_{0}} \\exp\\left(\\frac{1}{2}\\right) \\right)\n$$\n$$\n1 - \\frac{2y_{c}^{2}}{L^{2}} = 2 W\\left( -\\frac{\\beta L^{2}}{4 U_{0}} \\exp\\left(\\frac{1}{2}\\right) \\right)\n$$\n最后，我们解出 $y_{c}^{2}$，然后取平方根求得其大小 $|y_{c}|$：\n$$\n\\frac{2y_{c}^{2}}{L^{2}} = 1 - 2 W\\left( -\\frac{\\beta L^{2}}{4 U_{0}} \\exp\\left(\\frac{1}{2}\\right) \\right)\n$$\n$$\ny_{c}^{2} = \\frac{L^{2}}{2} \\left[ 1 - 2 W\\left( -\\frac{\\beta L^{2}}{4 U_{0}} \\exp\\left(\\frac{1}{2}\\right) \\right) \\right] = L^{2} \\left[ \\frac{1}{2} - W\\left( -\\frac{\\beta L^{2}}{4 U_{0}} \\exp\\left(\\frac{1}{2}\\right) \\right) \\right]\n$$\n$$\n|y_{c}| = L \\sqrt{\\frac{1}{2} - W\\left( -\\frac{\\beta L^{2}}{4 U_{0}} \\exp\\left(\\frac{1}{2}\\right) \\right)}\n$$\n这是所要求的位涡梯度为零的经向位置的大小的闭合形式解析表达式。",
            "answer": "$$\n\\boxed{L \\sqrt{\\frac{1}{2} - W\\left( -\\frac{\\beta L^2}{4 U_0} \\exp\\left(\\frac{1}{2}\\right) \\right)}}\n$$"
        },
        {
            "introduction": "对任何物理定律的深刻理解都包括了解其适用范围的边界。虽然位涡在光滑流动中是守恒的，但在诸如水跃等不连续面处，这种守恒性会失效，因为能量在此处耗散。本问题要求您分析一个水跃，并明确计算位涡在不连续面上的跳跃 ，从而揭示为何在这种“激波”两侧必须使用更基本的质量和动量守恒定律，并阐明导致位涡不守恒的机制。",
            "id": "4103317",
            "problem": "考虑在一个恒定科里奥利参数平面（即所谓的$f$平面）上，平坦底上方的无粘性、单层、一维（1D）浅水流，该流动由浅水方程控制。一个驻定水跃（也称为水力跃变）连接着上游的均匀态和下游的均匀态。上游状态具有均匀深度 $h_{1}$ 和均匀顺流速度 $u_{1}$，其弗劳德数 $Fr_{1} = u_{1}/\\sqrt{g h_{1}}$ 满足 $Fr_{1}  1$。下游状态具有均匀深度 $h_{2}$ 和均匀顺流速度 $u_{2}$，其弗劳德数 $Fr_{2}  1$。假设在远离水跃处没有横流，因此上游和下游的横流速度均为 $v = 0$，且不存在侧向导数。\n\n从第一性原理出发，使用跨越间断面的质量和动量守恒的积分跳跃条件形式，推导下游与上游的深度比 $r = h_{2}/h_{1}$（用上游弗劳德数 $Fr_{1}$ 表示）。然后，使用浅水绝对位涡的定义 $q = (\\zeta + f)/h$（其中 $\\zeta$ 是相对垂直涡度，$f$ 是科里奥利参数（假定为常数）），计算跨越水跃的位涡跳跃 $\\Delta q = q_{2} - q_{1}$（用 $f$、$h_{1}$ 和 $Fr_{1}$ 表示）。将最终的位涡跳跃以 $\\mathrm{s}^{-1}\\,\\mathrm{m}^{-1}$ 为单位表示。\n\n最后，利用控制方程解释为什么位涡在光滑区域是物质守恒的，但在跨越激波时不一定守恒，并说明是间断面的什么特征破坏了这种光滑守恒性。\n\n最终答案必须是 $\\Delta q$ 关于 $f$、$h_{1}$ 和 $Fr_{1}$ 的单一闭式解析表达式，无需进行数值计算或四舍五入。",
            "solution": "首先对问题进行验证，以确保其科学上合理、适定且客观。\n\n### 步骤1：提取已知条件\n- **系统**：无粘性、单层、一维（$1$D）浅水流。\n- **几何**：平坦底，恒定科里奥利参数 $f$（$f$平面）。\n- **现象**：一个连接两个均匀态的驻定水跃（跃变）。\n- **上游状态（1）**：均匀深度 $h_{1}$，均匀速度 $u_{1}$，横流速度 $v_{1}=0$。流动为超临界流，弗劳德数 $Fr_{1} = u_{1}/\\sqrt{g h_{1}} > 1$。\n- **下游状态（2）**：均匀深度 $h_{2}$，均匀速度 $u_{2}$，横流速度 $v_{2}=0$。流动为亚临界流，弗劳德数 $Fr_{2} = u_{2}/\\sqrt{g h_{2}}  1$。\n- **假设**：一维流（各处 $v=0$，侧向导数为零）。\n- **定义**：下游与上游的深度比 $r = h_{2}/h_{1}$。绝对位涡 $q = (\\zeta + f)/h$，其中 $\\zeta$ 是相对垂直涡度。\n- **任务**：\n  1. 推导用 $Fr_{1}$ 表示的 $r$。\n  2. 计算位涡跳跃 $\\Delta q = q_{2} - q_{1}$（用 $f$、$h_{1}$ 和 $Fr_{1}$ 表示）。\n  3. 解释为什么位涡在光滑区域是物质守恒的，但在跨越激波时不守恒。\n\n### 步骤2：使用提取的已知条件进行验证\n该问题有科学依据，描述了旋转浅水理论这一成熟框架内的经典水跃。这是地球物理流体动力学中的一个基本课题。该问题是适定的，通过跳跃条件（朗肯-雨贡纽关系）提供了足够的信息来从上游状态确定下游状态。语言客观，使用标准术语。问题设定是自洽且内部一致的。\n\n### 步骤3：结论与行动\n问题被视为**有效**。将推导解答。\n\n### 深度比 $r$ 的推导\n\n我们将质量和动量的积分守恒律应用于跨越驻定水跃（作为一个间断面）的情形。令分析所用的控制体包围该水跃。\n\n质量守恒，即连续性方程，要求单位宽度的质量通量在跃变前后保持不变：\n$$ \\rho h_{1} u_{1} = \\rho h_{2} u_{2} $$\n假设密度 $\\rho$ 恒定，这简化为体积通量守恒：\n$$ h_{1} u_{1} = h_{2} u_{2} \\quad (*)$$\n\n动量守恒要求动量通量的变化由净压力来平衡。顺流（$x$）方向的积分动量方程为：\n$$ \\left( \\rho h_{1} u_{1}^{2} + \\int_{0}^{h_{1}} P(z) dz \\right) = \\left( \\rho h_{2} u_{2}^{2} + \\int_{0}^{h_{2}} P(z) dz \\right) $$\n在静水压近似下，距离表面深度为 $z$ 处的压力为 $P(z) = \\rho g z$。在流体深度上积分的压力为 $\\int_{0}^{h} \\rho g (h-z') dz' = \\frac{1}{2} \\rho g h^2$。因此，动量平衡变为：\n$$ \\rho h_{1} u_{1}^{2} + \\frac{1}{2} \\rho g h_{1}^{2} = \\rho h_{2} u_{2}^{2} + \\frac{1}{2} \\rho g h_{2}^{2} $$\n两边除以 $\\rho$：\n$$ h_{1} u_{1}^{2} + \\frac{1}{2} g h_{1}^{2} = h_{2} u_{2}^{2} + \\frac{1}{2} g h_{2}^{2} \\quad (**) $$\n这表示了动量函数 $M = hu^2 + \\frac{1}{2}gh^2$ 的守恒。\n\n我们可以通过从方程组中消去 $u_2$ 来求解深度比 $r=h_2/h_1$。根据质量守恒方程 $(*)$，我们有 $u_2 = u_1 (h_1/h_2) = u_1/r$。将此代入动量方程 $(**)$：\n$$ h_{1} u_{1}^{2} + \\frac{1}{2} g h_{1}^{2} = h_{2} \\left( \\frac{u_{1}}{r} \\right)^{2} + \\frac{1}{2} g h_{2}^{2} $$\n代入 $h_2 = r h_1$：\n$$ h_{1} u_{1}^{2} + \\frac{1}{2} g h_{1}^{2} = (r h_{1}) \\frac{u_{1}^{2}}{r^{2}} + \\frac{1}{2} g (r h_{1})^{2} $$\n$$ h_{1} u_{1}^{2} + \\frac{1}{2} g h_{1}^{2} = \\frac{u_{1}^{2} h_{1}}{r} + \\frac{1}{2} g r^{2} h_{1}^{2} $$\n整个方程除以 $g h_{1}^{2}$（因为 $h_1 > 0$）：\n$$ \\frac{u_{1}^{2}}{g h_{1}} + \\frac{1}{2} = \\frac{u_{1}^{2}}{g h_{1} r} + \\frac{1}{2} r^{2} $$\n使用上游弗劳德数的定义 $Fr_{1}^{2} = u_{1}^{2}/(g h_{1})$：\n$$ Fr_{1}^{2} + \\frac{1}{2} = \\frac{Fr_{1}^{2}}{r} + \\frac{1}{2} r^{2} $$\n整理各项以得到关于 $r$ 的方程：\n$$ Fr_{1}^{2} \\left(1 - \\frac{1}{r}\\right) = \\frac{1}{2} (r^{2} - 1) $$\n$$ Fr_{1}^{2} \\frac{r-1}{r} = \\frac{1}{2} (r-1)(r+1) $$\n因为存在跃变，$h_2 \\neq h_1$，这意味着 $r \\neq 1$，所以我们可以安全地除以 $(r-1)$：\n$$ \\frac{Fr_{1}^{2}}{r} = \\frac{1}{2} (r+1) $$\n$$ 2Fr_{1}^{2} = r(r+1) = r^2 + r $$\n这给出了一个关于 $r$ 的二次方程：\n$$ r^2 + r - 2Fr_{1}^{2} = 0 $$\n使用二次方程求根公式解出 $r$：\n$$ r = \\frac{-1 \\pm \\sqrt{1^2 - 4(1)(-2Fr_{1}^{2})}}{2(1)} = \\frac{-1 \\pm \\sqrt{1 + 8Fr_{1}^{2}}}{2} $$\n由于深度比 $r=h_2/h_1$ 必须为正，我们取正根：\n$$ r = \\frac{1}{2} \\left( \\sqrt{1 + 8Fr_{1}^{2}} - 1 \\right) $$\n\n### 位涡跳跃 $\\Delta q$ 的计算\n\n位涡（PV）定义为 $q = (\\zeta + f)/h$。相对涡度为 $\\zeta = \\frac{\\partial v}{\\partial x} - \\frac{\\partial u}{\\partial y}$。在指定的一维流中，横流速度 $v=0$，且侧向导数消失（$\\partial/\\partial y = 0$）。因此，在水跃上游和下游的均匀流动区域中，相对涡度 $\\zeta = 0$。\n\n两种状态下的位涡为：\n- 上游：$q_{1} = \\frac{0 + f}{h_{1}} = \\frac{f}{h_{1}}$\n- 下游：$q_{2} = \\frac{0 + f}{h_{2}} = \\frac{f}{h_{2}}$\n\n位涡的跳跃为 $\\Delta q = q_{2} - q_{1}$：\n$$ \\Delta q = \\frac{f}{h_{2}} - \\frac{f}{h_{1}} = f \\left( \\frac{1}{h_{2}} - \\frac{1}{h_{1}} \\right) $$\n代入 $h_2 = r h_1$：\n$$ \\Delta q = f \\left( \\frac{1}{r h_{1}} - \\frac{1}{h_{1}} \\right) = \\frac{f}{h_{1}} \\left( \\frac{1}{r} - 1 \\right) = \\frac{f}{h_{1}} \\frac{1-r}{r} $$\n现在我们将用 $Fr_{1}$ 表示的 $r$ 的表达式代入：\n$$ \\Delta q = \\frac{f}{h_{1}} \\frac{1 - \\frac{1}{2}(\\sqrt{1 + 8Fr_{1}^{2}} - 1)}{\\frac{1}{2}(\\sqrt{1 + 8Fr_{1}^{2}} - 1)} $$\n$$ \\Delta q = \\frac{f}{h_{1}} \\frac{\\frac{2 - (\\sqrt{1 + 8Fr_{1}^{2}} - 1)}{2}}{\\frac{\\sqrt{1 + 8Fr_{1}^{2}} - 1}{2}} $$\n$$ \\Delta q = \\frac{f}{h_{1}} \\frac{3 - \\sqrt{1 + 8Fr_{1}^{2}}}{\\sqrt{1 + 8Fr_{1}^{2}} - 1} $$\n对于水跃，$Fr_{1}>1$，这意味着 $r>1$，因此 $q_2  q_1$，所以 $\\Delta q  0$（对于 $f>0, h_1>0$）。这意味着位涡在跨越激波时不守恒。\n\n### 关于位涡守恒与不守恒的解释\n\n在光滑、无粘性、绝热的流动中，位涡是物质守恒的（$Dq/Dt = 0$）。该守恒律是从控制方程（质量和动量守恒）的微分形式推导出来的。推导过程涉及对速度场和高度场求空间导数。例如，涡度方程 $\\frac{D(\\zeta+f)}{Dt} = -(\\zeta+f)(\\nabla \\cdot \\mathbf{u})$ 的推导要求速度场是连续可微的。\n\n激波或水跃，根据定义，是一个间断面。在激波的位置，流体性质（$u, h$）不连续，更不用说可微了。因此，位涡守恒的推导在数学上跨越激波阵面是无效的。必须回到基本的积分守恒律。\n\n跨越激波的跳跃条件强制质量和动量通量守恒，但它们不强制能量守恒。事实上，在激波的无限薄、未解析的结构内部，机械能通过湍流和粘性效应耗散为热量。能量的损失可以通过计算伯努利函数 $B = u^2/(2g) + h$ 的变化来证明，发现在跨越水跃时其值为负（$\\Delta B  0$）。\n\n在光滑流动中，位涡的守恒是涡旋拉伸/压缩（与质量守恒相关）产生的涡度与斜压性（或在此情况下，与动量守恒相关的压力梯度）产生的涡度之间精妙平衡的结果。激波内部的耗散、不可逆过程破坏了这种平衡。其数学表现形式是在间断面处光滑方程的失效。因此，尽管质量和动量以其通量形式守恒，但像位涡这样的派生量（其守恒性依赖于原始方程之间的光滑相互作用）却不守恒。上面计算出的 $\\Delta q$ 的非零值是这种不守恒性的直接度量。",
            "answer": "$$\\boxed{\\frac{f}{h_{1}} \\frac{3 - \\sqrt{1+8Fr_{1}^{2}}}{\\sqrt{1+8Fr_{1}^{2}}-1}}$$"
        }
    ]
}