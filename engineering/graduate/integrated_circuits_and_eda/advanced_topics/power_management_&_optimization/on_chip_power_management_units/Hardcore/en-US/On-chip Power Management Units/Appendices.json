{
    "hands_on_practices": [
        {
            "introduction": "Maintaining a stable supply voltage is a primary goal for any on-chip Power Management Unit (PMU). This practice introduces the concept of *target impedance*, a crucial design specification that ensures the power distribution network (PDN) can handle both steady-state currents and sudden transient demands without violating voltage noise margins. By first accounting for the static $IR$ drop, you will learn how to allocate the remaining voltage budget to constrain the dynamic impedance of the network, a fundamental skill in power integrity analysis .",
            "id": "4285956",
            "problem": "In an advanced integrated circuit supplied by an on-chip power management unit (PMU), a local segment of the power distribution network (PDN) exhibits a resistance of $R=100\\,\\mathrm{m\\Omega}$. A logic block draws a direct current $I_{\\text{DC}}=300\\,\\mathrm{mA}$ through this segment under steady conditions. During high-activity events governed by high-frequency switching, the block experiences a step increase in current of amplitude $\\Delta I=400\\,\\mathrm{mA}$. The point-of-load supply is nominally $V_{\\text{DD}}=1.0\\,\\mathrm{V}$. The combined direct current and alternating current droop budget at the load is constrained to a fraction $f=0.05$ of $V_{\\text{DD}}$.\n\nStarting from Ohm’s law for the static case and linear time-invariant network theory for small-signal dynamics, first determine the static voltage drop across the resistive segment due to $I_{\\text{DC}}$. Then, treating the remainder of the droop budget as available for dynamic deviation caused by the step current $\\Delta I$, derive the maximum allowable magnitude of the small-signal PDN impedance, termed the target impedance, that ensures the dynamic deviation does not exceed the remaining droop budget.\n\nExpress the final target impedance in milliohms and round your answer to four significant figures.",
            "solution": "The static voltage drop across a resistive element follows directly from Ohm’s law, which states that for current $i$ passing through resistance $R$, the voltage drop is $v=iR$. Under the given steady current $I_{\\text{DC}}$, the static drop across the grid segment is\n$$\nV_{\\text{DC}} \\;=\\; I_{\\text{DC}}\\,R \\;=\\; \\left(300\\times 10^{-3}\\right)\\,\\mathrm{A}\\times \\left(100\\times 10^{-3}\\right)\\,\\mathrm{\\Omega} \\;=\\; 0.03\\,\\mathrm{V}.\n$$\nThe allowable total instantaneous deviation at the load is specified as a fraction $f$ of the nominal supply $V_{\\text{DD}}$, which is\n$$\nV_{\\text{allow}} \\;=\\; f\\,V_{\\text{DD}} \\;=\\; 0.05\\times 1.0\\,\\mathrm{V} \\;=\\; 0.05\\,\\mathrm{V}.\n$$\nThe static drop $V_{\\text{DC}}$ consumes part of this budget, leaving a remaining dynamic budget for small-signal deviation of\n$$\nV_{\\text{dyn}} \\;=\\; V_{\\text{allow}} - V_{\\text{DC}} \\;=\\; 0.05\\,\\mathrm{V} - 0.03\\,\\mathrm{V} \\;=\\; 0.02\\,\\mathrm{V}.\n$$\nTo relate current perturbations to voltage deviations in the dynamic regime, model the PDN as a linear time-invariant network around the operating point. For a small-signal current perturbation $\\Delta i(t)$ and small-signal voltage response $\\Delta v(t)$ at the load, the frequency-domain relation is\n$$\n\\Delta V(\\omega) \\;=\\; Z_{\\text{PDN}}(\\omega)\\,\\Delta I(\\omega),\n$$\nwhere $Z_{\\text{PDN}}(\\omega)$ is the complex impedance seen at the load. A conservative design requirement that bounds the worst-case droop across the spectrum of the current step is to ensure the magnitude of the impedance does not exceed the ratio of the permitted voltage deviation to the amplitude of the current step. This yields the target impedance criterion\n$$\n|Z_{\\text{PDN}}(\\omega)| \\;\\le\\; Z_{\\text{target}} \\;=\\; \\frac{V_{\\text{dyn}}}{\\Delta I}.\n$$\nSubstituting the given $\\Delta I=400\\times 10^{-3}\\,\\mathrm{A}$ and the computed $V_{\\text{dyn}}=0.02\\,\\mathrm{V}$,\n$$\nZ_{\\text{target}} \\;=\\; \\frac{0.02\\,\\mathrm{V}}{0.4\\,\\mathrm{A}} \\;=\\; 0.05\\,\\mathrm{\\Omega} \\;=\\; 50\\,\\mathrm{m\\Omega}.\n$$\nRounding to four significant figures and expressing in milliohms as required, the target impedance is $50.00\\,\\mathrm{m\\Omega}$.",
            "answer": "$$\\boxed{50.00}$$"
        },
        {
            "introduction": "Dynamic voltage droop is often dominated by the interaction between fast current transients and the inductance of the power delivery path. This exercise isolates the critical \"$Ldi/dt$\" component of supply noise, which becomes particularly challenging in high-performance digital circuits with sharp current spikes . You will formulate this relationship from first principles and apply it to compute the inductive droop for a given current ramp, providing direct insight into the impact of switching speed on power integrity.",
            "id": "4285961",
            "problem": "A digital island on a system-on-chip is powered by an on-chip Power Management Unit (PMU) through a localized Power Distribution Network (PDN). The Electronic Design Automation (EDA) signoff methodology must guarantee that the supply droop induced by simultaneous switching activity does not exceed an allowable budget. Consider that the PDN at the observation point can be approximated as a linear time-invariant two-terminal network with an effective series resistance $R_{\\mathrm{eff}}$ and an effective series inductance $L_{\\mathrm{eff}}$ between the ideal off-chip supply and the local decoupling capacitor node feeding the island. Define dynamic supply droop as the time-varying sag relative to the ideal supply caused by the finite impedance of the PDN when current is drawn.\n\nStarting from Kirchhoff’s laws, the constitutive relations for resistors and inductors, and the definition of switching charge, derive an EDA signoff check that maps gate-level activity factors into a transient current profile $i(t)$ and evaluates the resulting droop $v_{\\mathrm{droop}}(t)$ at the observation point. Your derivation should begin from the facts that an inductor obeys $v_{L}(t)=L\\,\\frac{d i(t)}{d t}$, a resistor obeys $v_{R}(t)=R\\,i(t)$, and the total switched charge is $q(t)=V_{\\mathrm{DD}}\\sum_{k}C_{k}u_{k}(t)$ where $C_{k}$ is the switched capacitance of gate $k$, $V_{\\mathrm{DD}}$ is the local supply voltage, and $u_{k}(t)$ is a unit step that increments or decrements upon each logic transition of gate $k$. Then, for a worst-case synchronous edge in which the aggregated current drawn by the island can be approximated over a short window as a linear ramp with slope $\\frac{d i}{d t}=S$, compute the peak inductive contribution to the droop for $S=200\\ \\mathrm{mA/ns}$ and $L_{\\mathrm{eff}}=200\\ \\mathrm{pH}$. Neglect resistive and capacitive effects during the very short initial ramp interval to isolate the inductive term. Express the final droop in volts. The final answer must be a single number. If you choose to round, round your answer to four significant figures.",
            "solution": "The dynamic supply droop, $v_{\\mathrm{droop}}(t)$, is the voltage sag at the local supply node, $V_{\\mathrm{DD}}(t)$, relative to the ideal off-chip supply, $V_{\\mathrm{DD,ideal}}$. Applying Kirchhoff's Voltage Law to the PDN model, which consists of a series resistance $R_{\\mathrm{eff}}$ and inductance $L_{\\mathrm{eff}}$, yields:\n$$V_{\\mathrm{DD,ideal}} - L_{\\mathrm{eff}}\\frac{di(t)}{dt} - R_{\\mathrm{eff}}i(t) - V_{\\mathrm{DD}}(t) = 0$$\nThe total droop is the sum of the inductive and resistive voltage drops:\n$$v_{\\mathrm{droop}}(t) = V_{\\mathrm{DD,ideal}} - V_{\\mathrm{DD}}(t) = L_{\\mathrm{eff}}\\frac{di(t)}{dt} + R_{\\mathrm{eff}}i(t)$$\nThis general expression is the basis for an EDA signoff check, where the current profile $i(t)$ is derived from the aggregated switching activity of logic gates. The problem simplifies this by approximating the worst-case current draw as a linear ramp, meaning the rate of change of current is constant: $\\frac{di}{dt} = S$. We are asked to isolate the inductive contribution to the droop, which is the first term in the droop equation:\n$$v_{\\mathrm{droop, inductive}} = L_{\\mathrm{eff}}\\frac{di}{dt} = L_{\\mathrm{eff}}S$$\nUsing the given values, we first convert them to base SI units:\n- Effective inductance: $L_{\\mathrm{eff}} = 200\\,\\mathrm{pH} = 200 \\times 10^{-12}\\,\\mathrm{H}$\n- Current slope: $S = 200\\,\\mathrm{mA/ns} = \\frac{200 \\times 10^{-3}\\,\\mathrm{A}}{1 \\times 10^{-9}\\,\\mathrm{s}} = 2 \\times 10^8\\,\\mathrm{A/s}$\n\nNow, we compute the inductive droop:\n$$v_{\\mathrm{droop, inductive}} = (200 \\times 10^{-12}\\,\\mathrm{H}) \\times (2 \\times 10^8\\,\\mathrm{A/s}) = 400 \\times 10^{-4}\\,\\mathrm{V} = 0.04\\,\\mathrm{V}$$\nThus, the peak inductive contribution to the supply droop during the initial current ramp is $0.04$ volts.",
            "answer": "$$\n\\boxed{0.04}\n$$"
        },
        {
            "introduction": "To meet the stringent target impedance requirements discussed previously, designers rely on on-chip decoupling capacitors. This practice explores the non-ideal behavior of these crucial components by modeling them as a series RLC circuit, defined by their Equivalent Series Resistance ($R_{\\mathrm{ESR}}$) and Equivalent Series Inductance ($L_{\\mathrm{ESL}}$) . By deriving and calculating the self-resonant frequency, you will understand the frequency range where a capacitor is effective and why its parasitic elements ultimately limit its performance at high frequencies.",
            "id": "4285949",
            "problem": "An advanced on-chip power distribution network within an Integrated Circuit (IC) relies on decoupling capacitors to stabilize the supply rails of an on-chip Power Management Unit. Decoupling capacitors are non-ideal and are commonly modeled by a series combination of an ideal capacitor and parasitics. Define and explain the physical meaning of Equivalent Series Resistance (ESR) and Equivalent Series Inductance (ESL) of a decoupling capacitor in the context of on-chip power integrity. Then, considering a single decoupling capacitor modeled as a series network composed of a resistance $R_{\\mathrm{ESR}}$, an inductance $L_{\\mathrm{ESL}}$, and an ideal capacitance $C$, derive from first principles in the frequency domain the angular frequency at which the magnitude of the impedance $|Z(\\omega)|$ of this network is minimized, and express that frequency in hertz. Next, using the definition of quality factor based on stored energy and dissipated energy per cycle, derive an analytic expression for the quality factor $Q$ at this operating point.\n\nUse the following component values representative of a compact on-chip metal-insulator-metal decoupling capacitor: $C = 10\\,\\mathrm{nF}$, $R_{\\mathrm{ESR}} = 15\\,\\mathrm{m}\\Omega$, $L_{\\mathrm{ESL}} = 35\\,\\mathrm{pH}$. Compute the numerical value of the frequency at which the impedance magnitude is minimized, and compute the corresponding quality factor. Express the frequency in megahertz and round it to four significant figures. Express the quality factor as a dimensionless number and round it to three significant figures. State your final results clearly.",
            "solution": "First, we define the physical meaning of the parasitic elements in the capacitor model.\n*   **Equivalent Series Resistance ($R_{\\mathrm{ESR}}$):** This resistance represents the combined dissipative losses in the capacitor, including the resistance of the metal plates and interconnects, and energy loss in the dielectric material. In power integrity, a low $R_{\\mathrm{ESR}}$ is desirable as it minimizes the voltage drop when the capacitor supplies high-frequency transient current, making it more effective at suppressing noise.\n*   **Equivalent Series Inductance ($L_{\\mathrm{ESL}}$):** This inductance originates from the magnetic field created by current flowing through the capacitor's physical structure, including its plates and connection paths (vias and traces). $L_{\\mathrm{ESL}}$ limits the capacitor's effectiveness at high frequencies. Above its self-resonant frequency, the capacitor's impedance becomes inductive and increases, rendering it ineffective for decoupling.\n\nNext, we derive the frequency of minimum impedance for the series RLC model. The total complex impedance $Z(\\omega)$ is:\n$$Z(\\omega) = R_{\\mathrm{ESR}} + j\\omega L_{\\mathrm{ESL}} + \\frac{1}{j\\omega C} = R_{\\mathrm{ESR}} + j\\left(\\omega L_{\\mathrm{ESL}} - \\frac{1}{\\omega C}\\right)$$\nThe magnitude of the impedance is $|Z(\\omega)| = \\sqrt{R_{\\mathrm{ESR}}^2 + \\left(\\omega L_{\\mathrm{ESL}} - \\frac{1}{\\omega C}\\right)^2}$. This magnitude is minimized when the imaginary term is zero. This occurs at the self-resonant angular frequency, $\\omega_0$:\n$$\\omega_0 L_{\\mathrm{ESL}} - \\frac{1}{\\omega_0 C} = 0 \\implies \\omega_0 = \\frac{1}{\\sqrt{L_{\\mathrm{ESL}}C}}$$\nThe frequency in hertz is $f_0 = \\frac{\\omega_0}{2\\pi} = \\frac{1}{2\\pi\\sqrt{L_{\\mathrm{ESL}}C}}$. At this frequency, the impedance is at its minimum, $|Z(\\omega_0)| = R_{\\mathrm{ESR}}$.\n\nThe quality factor, $Q$, at resonance is defined as $Q = \\frac{\\omega_0 L_{\\mathrm{ESL}}}{R_{\\mathrm{ESR}}}$. Substituting the expression for $\\omega_0$, we can also write it as:\n$$Q = \\frac{1}{R_{\\mathrm{ESR}}}\\sqrt{\\frac{L_{\\mathrm{ESL}}}{C}}$$\nFinally, we compute the numerical values using $C = 10\\,\\mathrm{nF}$, $R_{\\mathrm{ESR}} = 15\\,\\mathrm{m}\\Omega$, and $L_{\\mathrm{ESL}} = 35\\,\\mathrm{pH}$:\n\nFrequency of minimum impedance:\n$$f_0 = \\frac{1}{2\\pi\\sqrt{(35 \\times 10^{-12}\\,\\mathrm{H})(10 \\times 10^{-9}\\,\\mathrm{F})}} = \\frac{1}{2\\pi\\sqrt{3.5 \\times 10^{-19}\\,\\mathrm{s}^2}} \\approx 268.955\\,\\mathrm{MHz}$$\nRounding to four significant figures, $f_0 \\approx 269.0\\,\\mathrm{MHz}$.\n\nQuality factor:\n$$Q = \\frac{1}{15 \\times 10^{-3}\\,\\Omega}\\sqrt{\\frac{35 \\times 10^{-12}\\,\\mathrm{H}}{10 \\times 10^{-9}\\,\\mathrm{F}}} = \\frac{1}{0.015}\\sqrt{0.0035} \\approx 3.944$$\nRounding to three significant figures, $Q \\approx 3.94$.\n\nThe frequency of minimum impedance is $269.0\\,\\mathrm{MHz}$, and the quality factor is $3.94$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n269.0 & 3.94\n\\end{pmatrix}\n}\n$$"
        }
    ]
}