{
    "hands_on_practices": [
        {
            "introduction": "阈值电压漂移（$\\Delta V_{\\text{th}}$）是负偏压温度不稳定性（NBTI）最直接的电学表征。本练习旨在建立这一宏观电学变化与其微观物理根源——界面陷阱（$\\Delta D_{\\text{it}}$）的产生——之间的联系。通过运用MOS电容器的基本静电学原理，您将学习如何从测得的电学数据中量化物理器件的退化程度，这是进行任何可靠性分析的关键第一步 。",
            "id": "4284832",
            "problem": "一个采用二氧化硅栅极电介质制造的长沟道p沟道金属-氧化物-半导体场效应晶体管 (PMOSFET)，在恒定的栅源电压和高温下经受负偏压温度不稳定性 (NBTI) 应力。应力作用后，测得阈值电压幅值的增加量为 $|\\Delta V_{\\text{th}}| = 0.045\\ \\mathrm{V}$。假设在测量期间，在所述偏压和温度下，硅-氧化物界面处新产生的界面陷阱完全带电，并且阈值漂移主要由这些额外界面电荷的静电效应引起。栅极电介质厚度为 $t_{\\text{ox}} = 1.0 \\times 10^{-9}\\ \\mathrm{m}$，二氧化硅的相对介电常数为 $\\kappa_{\\text{ox}} = 3.9$。使用真空介电常数 $\\varepsilon_{0} = 8.854 \\times 10^{-12}\\ \\mathrm{F/m}$ 和元电荷 $q = 1.602 \\times 10^{-19}\\ \\mathrm{C}$。从电荷、单位面积电容和电压之间的基本静电学关系出发，推导带电界面陷阱面密度增量 $\\Delta D_{\\text{it}}$ 的表达式，并计算其数值。将您的答案四舍五入至三位有效数字。以 $\\mathrm{m}^{-2}$ 为单位表示最终的 $\\Delta D_{\\text{it}}$。",
            "solution": "用户提供了一个需要解决的问题。根据指示，第一步是验证问题陈述。\n\n### 第 1 步：提取已知条件\n问题陈述中明确提供了以下数据和条件：\n-   一个采用二氧化硅栅极电介质的长沟道p沟道金属-氧化物-半导体场效应晶体管 (PMOSFET) 经受负偏压温度不稳定性 (NBTI) 应力。\n-   测得阈值电压幅值的增加量为 $|\\Delta V_{\\text{th}}| = 0.045\\ \\mathrm{V}$。\n-   假设：阈值漂移主要由硅-氧化物界面处新产生的界面陷阱的静电效应引起，且这些陷阱完全带电。\n-   栅极电介质厚度：$t_{\\text{ox}} = 1.0 \\times 10^{-9}\\ \\mathrm{m}$。\n-   二氧化硅的相对介电常数：$\\kappa_{\\text{ox}} = 3.9$。\n-   真空介电常数：$\\varepsilon_{0} = 8.854 \\times 10^{-12}\\ \\mathrm{F/m}$。\n-   元电荷：$q = 1.602 \\times 10^{-19}\\ \\mathrm{C}$。\n-   所求量为带电界面陷阱面密度的增量 $\\Delta D_{\\text{it}}$。\n-   最终数值答案应四舍五入至三位有效数字，并以 $\\mathrm{m}^{-2}$ 为单位表示。\n\n### 第 2 步：使用提取的已知条件进行验证\n现在根据指定标准对问题进行验证。\n-   **科学依据：** 该问题牢固地植根于半导体器件的成熟物理学，特别是MOS晶体管的工作原理和NBTI这一可靠性现象。界面电荷与阈值电压漂移之间的关系是该领域的一个基本概念。所有物理常数和器件参数都是符合实际的。\n-   **适定性：** 该问题提供了足够的信息来确定唯一的解。给定的参数（$|\\Delta V_{\\text{th}}|$、$t_{\\text{ox}}$、$\\kappa_{\\text{ox}}$）和物理常数（$\\varepsilon_{0}$、$q$）正是计算所求量 $\\Delta D_{\\text{it}}$ 所需的。关于漂移主要由界面陷阱引起且这些陷阱完全带电的简化假设使得问题明确无歧义。\n-   **客观性：** 问题陈述是定量的，不含主观或基于观点的语言。所有术语都是微电子领域的标准术语。\n\n不存在科学上的不一致、矛盾或关键信息的缺失。该问题是半导体器件物理学中一个标准、可解的练习题。\n\n### 第 3 步：结论与行动\n该问题被判定为**有效**。现在开始求解过程。\n\n---\n\n该问题要求从测得的阈值电压漂移 $|\\Delta V_{\\text{th}}|$ 推导界面陷阱面密度 $\\Delta D_{\\text{it}}$ 的表达式。推导从应用于MOS结构的基本静电学原理开始。\n\n由硅-氧化物界面电荷密度变化 $\\Delta Q_{\\text{it}}$ 引起的阈值电压变化 $\\Delta V_{\\text{th}}$ 由以下关系式给出：\n$$\n\\Delta V_{\\text{th}} = - \\frac{\\Delta Q_{\\text{it}}}{C_{\\text{ox}}}\n$$\n此处，$C_{\\text{ox}}$ 是单位面积的栅氧化层电容。负号表示正的界面电荷（$\\Delta Q_{\\text{it}}  0$）——这是PMOSFET中NBTI的特征——会导致阈值电压变得更负（$\\Delta V_{\\text{th}}  0$）。问题给出了阈值电压漂移的幅值 $|\\Delta V_{\\text{th}}|$。由于 $\\Delta Q_{\\text{it}}$ 和 $C_{\\text{ox}}$ 都是正量，我们可以写成：\n$$\n|\\Delta V_{\\text{th}}| = \\frac{\\Delta Q_{\\text{it}}}{C_{\\text{ox}}}\n$$\n单位面积的栅氧化层电容 $C_{\\text{ox}}$ 被建模为平行板电容器：\n$$\nC_{\\text{ox}} = \\frac{\\varepsilon_{\\text{ox}}}{t_{\\text{ox}}}\n$$\n其中 $t_{\\text{ox}}$ 是氧化层厚度，$\\varepsilon_{\\text{ox}}$ 是栅极电介质（二氧化硅）的介电常数。介电常数 $\\varepsilon_{\\text{ox}}$ 与真空介电常数 $\\varepsilon_{0}$ 和相对介电常数 $\\kappa_{\\text{ox}}$ 的关系为：\n$$\n\\varepsilon_{\\text{ox}} = \\kappa_{\\text{ox}} \\varepsilon_{0}\n$$\n将 $C_{\\text{ox}}$ 和 $\\varepsilon_{\\text{ox}}$ 的这些表达式代入 $|\\Delta V_{\\text{th}}|$ 的方程中，得到：\n$$\n|\\Delta V_{\\text{th}}| = \\frac{\\Delta Q_{\\text{it}}}{\\left(\\frac{\\kappa_{\\text{ox}} \\varepsilon_{0}}{t_{\\text{ox}}}\\right)} = \\frac{\\Delta Q_{\\text{it}} \\cdot t_{\\text{ox}}}{\\kappa_{\\text{ox}} \\varepsilon_{0}}\n$$\n问题要求计算带电界面陷阱的面密度 $\\Delta D_{\\text{it}}$，其单位为单位面积的陷阱数（例如 $\\mathrm{m}^{-2}$）。问题陈述指出，新产生的陷阱是完全带电的。假设每个陷阱贡献一个元电荷 $q$，则总界面电荷密度 $\\Delta Q_{\\text{it}}$ 与陷阱密度 $\\Delta D_{\\text{it}}$ 的关系为：\n$$\n\\Delta Q_{\\text{it}} = q \\cdot \\Delta D_{\\text{it}}\n$$\n将此式代入我们关于 $|\\Delta V_{\\text{th}}|$ 的方程中，得到：\n$$\n|\\Delta V_{\\text{th}}| = \\frac{(q \\cdot \\Delta D_{\\text{it}}) \\cdot t_{\\text{ox}}}{\\kappa_{\\text{ox}} \\varepsilon_{0}}\n$$\n我们现在求解 $\\Delta D_{\\text{it}}$，这就是所求的表达式：\n$$\n\\Delta D_{\\text{it}} = \\frac{|\\Delta V_{\\text{th}}| \\cdot \\kappa_{\\text{ox}} \\varepsilon_{0}}{q \\cdot t_{\\text{ox}}}\n$$\n推导至此完成。现在，我们将给定的数值代入此表达式，以计算 $\\Delta D_{\\text{it}}$ 的值。\n给定的数值为：\n-   $|\\Delta V_{\\text{th}}| = 0.045\\ \\mathrm{V}$\n-   $\\kappa_{\\text{ox}} = 3.9$\n-   $\\varepsilon_{0} = 8.854 \\times 10^{-12}\\ \\mathrm{F/m}$\n-   $q = 1.602 \\times 10^{-19}\\ \\mathrm{C}$\n-   $t_{\\text{ox}} = 1.0 \\times 10^{-9}\\ \\mathrm{m}$\n\n将这些数值代入推导出的公式：\n$$\n\\Delta D_{\\text{it}} = \\frac{(0.045) \\cdot (3.9) \\cdot (8.854 \\times 10^{-12})}{(1.602 \\times 10^{-19}) \\cdot (1.0 \\times 10^{-9})}\n$$\n首先，计算分子和分母：\n$$\n\\text{分子} = 0.045 \\times 3.9 \\times 8.854 \\times 10^{-12} \\approx 1.5541 \\times 10^{-12}\\ \\mathrm{C/m}\n$$\n$$\n\\text{分母} = 1.602 \\times 10^{-19} \\times 1.0 \\times 10^{-9} = 1.602 \\times 10^{-28}\\ \\mathrm{C \\cdot m}\n$$\n现在，进行除法运算：\n$$\n\\Delta D_{\\text{it}} = \\frac{1.5541 \\times 10^{-12}}{1.602 \\times 10^{-28}} \\approx 0.9701 \\times 10^{16}\\ \\mathrm{m}^{-2}\n$$\n以标准科学记数法重写：\n$$\n\\Delta D_{\\text{it}} \\approx 9.701 \\times 10^{15}\\ \\mathrm{m}^{-2}\n$$\n问题要求将答案四舍五入至三位有效数字。\n$$\n\\Delta D_{\\text{it}} = 9.70 \\times 10^{15}\\ \\mathrm{m}^{-2}\n$$",
            "answer": "$$\\boxed{9.70 \\times 10^{15}}$$"
        },
        {
            "introduction": "理解NBTI的物理起源至关重要，但其在现实世界中的重要性更在于它对电路性能的影响。本练习通过分析标准的CMOS反相器，在器件物理和电路行为之间架起了一座桥梁。您将推导出PMOS晶体管阈值电压的增加如何直接导致传播延迟的增大，从而清晰地揭示NBTI退化与数字逻辑电路速度减慢之间的定量关系 。",
            "id": "4284783",
            "problem": "考虑一个采用互补金属氧化物半导体（CMOS）技术的单级反相器，它通过其上拉P沟道金属氧化物半导体（PMOS）器件驱动一个集总负载电容 $C_{L}$。在固定的电源电压 $V_{DD}$下，负偏压温度不稳定性（NBTI）会使PMOS阈值电压的绝对值 $|V_{th,p}|$ 随时间增加一个小的增量 $\\Delta V_{th}$。假设在上升沿翻转的相关部分，PMOS工作在强反型区，并且对于 $0 \\rightarrow 1$ 的输出翻转，主要的传播延迟贡献可以建模为输出节点在接近恒定的有效上拉电流作用下，从 $0$ 充电到大约 $V_{DD}/2$ 所需的时间。使用一个基于电流的RC抽象模型，其中有效上拉电流由广泛使用的$\\alpha$次方律捕捉，\n$$\nI_{p,\\text{eff}} \\approx k_{p} \\left(V_{DD} - |V_{th,p}|\\right)^{\\alpha},\n$$\n其中 $k_{p}  0$ 和 $\\alpha \\in (1,2]$ 是与技术相关的常数。设上升传播延迟由以下模型表示\n$$\nd_{r} \\approx \\gamma \\frac{C_{L} V_{DD}}{I_{p,\\text{eff}}},\n$$\n其中 $\\gamma  0$ 是一个无量綱的波形形状因子，它考虑了充电瞬态的非理想性，但在感兴趣的小信号范围内与 $V_{DD}$ 和 $|V_{th,p}|$ 无关。\n\n仅使用所述的假设和模型，并从电荷连续性和电流-电压关系出发，推导上升传播延迟对PMOS阈值电压绝对值的灵敏度的闭式解析表达式，\n$$\n\\frac{\\partial d_{r}}{\\partial |V_{th,p}|},\n$$\n该表达式用 $C_{L}$、$V_{DD}$、$k_{p}$、$\\alpha$、$\\gamma$ 和 $|V_{th,p}|$ 表示。你的最终答案必须是单个简化的解析表达式。不需要进行数值评估，也不需要四舍五入。此外，请用文字简要解释（不使用任何额外的公式），在此模型下，为什么由负偏压温度不稳定性引起的 $\\Delta V_{th}$ 增加会导致CMOS逻辑的上升延迟增加。",
            "solution": "根据指定标准对问题陈述的有效性进行评估。\n\n### 问题验证\n\n**步骤 1：提取已知条件**\n-   负载电容: $C_{L}$\n-   上拉器件：P沟道金属氧化物半导体（PMOS）\n-   负偏压温度不稳定性（NBTI）效应：使 $|V_{th,p}|$ 增加 $\\Delta V_{th}$\n-   电源电压: $V_{DD}$（固定）\n-   PMOS工作区：上升沿翻转期间处于强反型区\n-   延迟模型焦点：输出从 $0$ 充电到 $V_{DD}/2$ 所需的时间\n-   有效上拉电流模型（$\\alpha$次方律）：$I_{p,\\text{eff}} \\approx k_{p} \\left(V_{DD} - |V_{th,p}|\\right)^{\\alpha}$\n-   模型参数：$k_{p}  0$ 且 $\\alpha \\in (1,2]$\n-   上升传播延迟模型：$d_{r} \\approx \\gamma \\frac{C_{L} V_{DD}}{I_{p,\\text{eff}}}$\n-   波形形状因子：$\\gamma  0$，与 $V_{DD}$ 和 $|V_{th,p}|$ 无关\n-   目标：推导灵敏度 $\\frac{\\partial d_{r}}{\\partial |V_{th,p}|}$ 的闭式解析表达式。\n-   附加任务：简要用文字解释为什么 $\\Delta V_{th}$ 的增加会导致上升延迟增加。\n\n**步骤 2：使用提取的已知条件进行验证**\n问题被评估为有效。\n-   **科学依据：** 该问题牢固地植根于半导体器件物理和数字集成电路设计的原理。$\\alpha$次方律是短沟道MOSFET电流的标准经验模型，而有效电流RC延迟模型是门传播延迟的基本一阶近似。NBTI是一种有据可查的影响PMOS器件的可靠性现象。\n-   **适定性：** 所有必要的变量（$C_{L}$、$V_{DD}$、$k_{p}$、$\\alpha$、$\\gamma$、$|V_{th,p}|$）、模型和约束都已明确给出。目标——计算偏导数——定义清晰，并能导出一个唯一的解析解。\n-   **客观性：** 问题陈述使用了精确、无偏见的技术语言，不含主观或推测性内容。\n\n**步骤 3：结论与行动**\n问题有效。现在开始推导解决方案。\n\n### 解答推导\n\n分析从提供的两个模型开始。上升传播延迟 $d_r$ 由下式给出：\n$$\nd_{r} \\approx \\gamma \\frac{C_{L} V_{DD}}{I_{p,\\text{eff}}}\n$$\nPMOS器件的有效上拉电流 $I_{p,\\text{eff}}$ 使用$\\alpha$次方律建模：\n$$\nI_{p,\\text{eff}} \\approx k_{p} \\left(V_{DD} - |V_{th,p}|\\right)^{\\alpha}\n$$\n为了求得延迟相对于PMOS阈值电压绝对值的灵敏度，我们首先将 $I_{p,\\text{eff}}$ 的表达式代入 $d_r$ 的方程。这样就得到了一个用基本参数表示的 $d_r$ 的单一表达式。\n$$\nd_{r} \\approx \\gamma \\frac{C_{L} V_{DD}}{k_{p} \\left(V_{DD} - |V_{th,p}|\\right)^{\\alpha}}\n$$\n为便于求导，此表达式可重写为：\n$$\nd_{r} \\approx \\frac{\\gamma C_{L} V_{DD}}{k_{p}} \\left(V_{DD} - |V_{th,p}|\\right)^{-\\alpha}\n$$\n目标是计算偏导数 $\\frac{\\partial d_{r}}{\\partial |V_{th,p}|}$。参数 $\\gamma$、$C_{L}$、$V_{DD}$、$k_{p}$ 和 $\\alpha$ 相对于微分变量 $|V_{th,p}|$ 被视为常数。我们应用链式法则进行求导。设函数形式为 $f(x) = C \\cdot u(x)^{-\\alpha}$，其中 $C = \\frac{\\gamma C_{L} V_{DD}}{k_{p}}$ 是一个常数，且 $u(x) = V_{DD} - x$，其中 $x = |V_{th,p}|$.\n\n导数为：\n$$\n\\frac{\\partial d_{r}}{\\partial |V_{th,p}|} = \\frac{\\gamma C_{L} V_{DD}}{k_{p}} \\cdot \\frac{\\partial}{\\partial |V_{th,p}|} \\left[ \\left(V_{DD} - |V_{th,p}|\\right)^{-\\alpha} \\right]\n$$\n应用幂法则和链式法则：\n$$\n\\frac{\\partial}{\\partial |V_{th,p}|} \\left[ \\left(V_{DD} - |V_{th,p}|\\right)^{-\\alpha} \\right] = (-\\alpha) \\left(V_{DD} - |V_{th,p}|\\right)^{-\\alpha-1} \\cdot \\frac{\\partial}{\\partial |V_{th,p}|} \\left(V_{DD} - |V_{th_p}|\\right)\n$$\n内部项的导数为：\n$$\n\\frac{\\partial}{\\partial |V_{th,p}|} \\left(V_{DD} - |V_{th_p}|\\right) = 0 - 1 = -1\n$$\n将此结果代回表达式中：\n$$\n\\frac{\\partial d_{r}}{\\partial |V_{th,p}|} = \\frac{\\gamma C_{L} V_{DD}}{k_{p}} \\cdot (-\\alpha) \\left(V_{DD} - |V_{th,p}|\\right)^{-(\\alpha+1)} \\cdot (-1)\n$$\n两个负号相消，得到一个正的灵敏度：\n$$\n\\frac{\\partial d_{r}}{\\partial |V_{th,p}|} = \\alpha \\frac{\\gamma C_{L} V_{DD}}{k_{p}} \\left(V_{DD} - |V_{th,p}|\\right)^{-(\\alpha+1)}\n$$\n最后，为了清晰起见，我们将表达式写成分数形式，这代表了灵敏度的最终闭式解析表达式：\n$$\n\\frac{\\partial d_{r}}{\\partial |V_{th,p}|} = \\frac{\\alpha \\gamma C_{L} V_{DD}}{k_{p} \\left(V_{DD} - |V_{th,p}|\\right)^{\\alpha+1}}\n$$\n\n针对问题的第二部分，关于由于NBTI导致PMOS阈值电压绝对值增加会引起上升延迟增加的定性解释如下。CMOS门的上升延迟取决于上拉PMOS晶体管为负载电容充电的速度。PMOS晶体管的强度，即其提供充电电流的能力，主要由其栅极过驱动电压决定，即电源电压与其阈值电压绝对值之差。当NBTI导致阈值电压绝对值增加时，PMOS晶体管的栅极过驱动电压减小。根据电流模型，这种减小的过驱动电压导致上拉电流变弱或变小。由于负载电容保持不变，这个较弱的电流需要更长的时间将输出节点充电至所需的逻辑高电压水平，从而直接增加了上升传播延迟。",
            "answer": "$$\n\\boxed{\\frac{\\alpha \\gamma C_{L} V_{DD}}{k_{p} \\left(V_{DD} - |V_{th,p}|\\right)^{\\alpha+1}}}\n$$"
        },
        {
            "introduction": "为了在复杂的集成电路中预测和缓解NBTI效应，工程师们依赖于可集成到设计软件中的紧凑模型。这项高级练习模拟了可靠性工程师的实际工作：将一个基于物理的NBTI模型与一组实验数据进行校准。通过执行非线性最小二乘法拟合，您将提取出决定NBTI时间、电压和温度依赖性的关键参数，从而为电路寿命分析创建一个强大的预测工具 。",
            "id": "4284843",
            "problem": "在集成电路和电子设计自动化（EDA）的更广泛背景下，您将获得关于金属-氧化物-半导体场效应晶体管中负偏压温度不稳定性（NBTI）的多组测量阈值电压漂移数据。目标是校准一个基于物理的NBTI退化紧凑模型，并计算在多种应力条件下的均方根误差（RMSE）。该校准必须基于基本的热激活反应动力学和电场驱动的势垒调制，并遵循以下假设：\n\n1. NBTI阈值电压漂移（表示为 $\\Delta V_{\\mathrm{th}}$）源于一个有效的速率限制缺陷生成过程，其温度依赖性遵循阿伦尼乌斯定律，活化能为 $E_a$，玻尔兹曼常数为 $k_{\\mathrm{B}}$。\n2. 对压力时间的依赖性遵循关于时间 $t$ 的亚线性幂律，其时间指数 $n$ 与扩散限制或色散动力学一致。\n3. 对栅极电压幅值 $\\lvert V_g \\rvert$ 的依赖性通过一个系数为 $\\gamma$ 的指数加速项引入，作为高电场下势垒降低的一阶近似。\n4. 一个指前因子 $A$ 缩放 $\\Delta V_{\\mathrm{th}}$ 的总幅度。\n\n基于这些原理，构建一个 $\\Delta V_{\\mathrm{th}}$ 的紧凑模型，该模型乘法地整合了热激活速率、电场加速和时间幂律行为。然后，给定在几个应力条件 $\\left(T, V_g, t\\right)$ 下的测量数据，通过最小化测量和建模的 $\\Delta V_{\\mathrm{th}}$ 之间的残差平方和来校准模型参数 $\\left(A, n, E_a, \\gamma\\right)$，并受制于物理上合理的边界：$A0$, $0n\\le 0.5$, $E_a0$, $\\gamma\\ge0$。\n\n**数据集与任务**\n\n您将获得三个独立的数据集，每个数据集代表在不同应力条件组合下的NBTI退化。您的任务是**为每个数据集独立地**执行以下操作：\n1.  使用有界非线性最小二乘优化算法，从单一的初始猜测点 $\\left(A_0, n_0, E_{a0}, \\gamma_0\\right) = (0.02, 0.20, 0.15, 1.50)$ 开始，并使用边界 $A \\in [10^{-6}, 1]$, $n \\in [0.01, 0.5]$, $E_a \\in [0.05, 0.5]\\ \\mathrm{eV}$, 和 $\\gamma \\in [0, 3]\\ \\mathrm{V}^{-1}$ 来校准模型参数。\n2.  在找到每个数据集的最佳拟合参数后，计算该数据集的均方根误差（RMSE）。\n3.  报告这三个数据集的RMSE值，格式为一个列表，例如 `[rmse_1, rmse_2, rmse_3]`，其中每个RMSE值都四舍五入到小数点后六位。\n\n使用玻尔兹曼常数 $k_{\\mathrm{B}} = 8.617333262 \\times 10^{-5}\\ \\mathrm{eV/K}$。\n\n**数据集 1**\n- 条件 1：$T=398\\ \\mathrm{K}$, $V_g = -1.2\\ \\mathrm{V}$, 时间(s) = `[10, 100, 1000, 10000]`, $\\Delta V_{\\mathrm{th}}(\\mathrm{V})$ = `[0.00610, 0.00954, 0.01540, 0.02420]`\n- 条件 2：$T=358\\ \\mathrm{K}$, $V_g = -1.0\\ \\mathrm{V}$, 时间(s) = `[10, 100, 1000, 10000]`, $\\Delta V_{\\mathrm{th}}(\\mathrm{V})$ = `[0.00280, 0.00436, 0.00690, 0.01090]`\n- 条件 3：$T=298\\ \\mathrm{K}$, $V_g = -0.8\\ \\mathrm{V}$, 时间(s) = `[10, 100, 1000, 10000]`, $\\Delta V_{\\mathrm{th}}(\\mathrm{V})$ = `[0.00080, 0.00120, 0.00195, 0.00300]`\n\n**数据集 2**\n- 条件 1：$T=298\\ \\mathrm{K}$, $V_g = 0.0\\ \\mathrm{V}$, 时间(s) = `[1, 10, 100, 1000]`, $\\Delta V_{\\mathrm{th}}(\\mathrm{V})$ = `[0.000150, 0.000225, 0.000370, 0.000580]`\n- 条件 2：$T=298\\ \\mathrm{K}$, $V_g = -0.5\\ \\mathrm{V}$, 时间(s) = `[1, 10, 100, 1000]`, $\\Delta V_{\\mathrm{th}}(\\mathrm{V})$ = `[0.000310, 0.000480, 0.000770, 0.001200]`\n- 条件 3：$T=338\\ \\mathrm{K}$, $V_g = -0.8\\ \\mathrm{V}$, 时间(s) = `[1, 10, 100, 1000]`, $\\Delta V_{\\mathrm{th}}(\\mathrm{V})$ = `[0.000980, 0.001520, 0.002450, 0.003840]`\n\n**数据集 3**\n- 条件 1：$T=423\\ \\mathrm{K}$, $V_g = -1.5\\ \\mathrm{V}$, 时间(s) = `[10, 100, 1000, 20000]`, $\\Delta V_{\\mathrm{th}}(\\mathrm{V})$ = `[0.01240, 0.02200, 0.03110, 0.05650]`\n- 条件 2：$T=373\\ \\mathrm{K}$, $V_g = -1.4\\ \\mathrm{V}$, 时间(s) = `[10, 100, 1000, 20000]`, $\\Delta V_{\\mathrm{th}}(\\mathrm{V})$ = `[0.00610, 0.00970, 0.01520, 0.02780]`\n- 条件 3：$T=333\\ \\mathrm{K}$, $V_g = -1.0\\ \\mathrm{V}$, 时间(s) = `[10, 100, 1000, 20000]`, $\\Delta V_{\\mathrm{th}}(\\mathrm{V})$ = `[0.001900, 0.003050, 0.004800, 0.008740]`",
            "solution": "问题陈述经过了仔细验证，并被确定为有效。它在科学上基于半导体器件可靠性的既定物理学，特别是负偏压温度不稳定性（NBTI）。该问题定义明确，为标准的数值优化任务提供了清晰的目标、所有必要的数据、一个确定的数学模型和明确的约束条件。术语精确，物理量及其指定值是现实且一致的。\n\n问题的核心是校准一个因NBTI引起的阈值电压漂移（$\\Delta V_{\\mathrm{th}}$）的基于物理的紧凑模型，然后量化模型的拟合优度。\n\n首先，我们根据提供的四个原理构建 $\\Delta V_{\\mathrm{th}}$ 的数学模型：\n1.  一个指前缩放因子 $A$。\n2.  对压力时间 $t$ 的幂律依赖关系，由 $t^n$ 给出，其中 $n$ 是时间指数。\n3.  对栅极电压幅值 $\\lvert V_g \\rvert$ 的指数依赖关系，由 $\\exp(\\gamma \\lvert V_g \\rvert)$ 给出，其中 $\\gamma$ 是电压加速因子。\n4.  遵循阿伦尼乌斯定律的热激活过程，由 $\\exp(-E_a / (k_{\\mathrm{B}}T))$ 描述，其中 $E_a$ 是活化能，$k_{\\mathrm{B}}$ 是玻尔兹曼常数，$T$ 是绝对温度。\n\n将这些分量相乘，完整的模型方程为：\n$$\n\\Delta V_{\\mathrm{th}}(t, T, V_g; A, n, E_a, \\gamma) = A \\cdot t^n \\cdot \\exp(\\gamma \\lvert V_g \\rvert) \\cdot \\exp\\left(-\\frac{E_a}{k_{\\mathrm{B}}T}\\right)\n$$\n通过组合指数项，可以更紧凑地写成：\n$$\n\\Delta V_{\\mathrm{th}} = A \\cdot t^n \\cdot \\exp\\left(\\gamma \\lvert V_g \\rvert - \\frac{E_a}{k_{\\mathrm{B}}T}\\right)\n$$\n该模型有四个待校准的参数：$\\boldsymbol{p} = (A, n, E_a, \\gamma)$。玻尔兹曼常数的值给定为 $k_{\\mathrm{B}} = 8.617333262 \\times 10^{-5}\\ \\mathrm{eV/K}$。\n\n校准过程涉及找到最优参数集 $\\boldsymbol{p}_{\\mathrm{opt}}$，以最小化测量数据点（$\\Delta V_{\\mathrm{th}, i}^{\\mathrm{meas}}$）与模型预测值（$\\Delta V_{\\mathrm{th}, i}^{\\mathrm{model}}$）之间的残差平方和（SSR）。对于一个具有 $N$ 个数据点的数据集，目标是最小化：\n$$\n\\mathrm{SSR}(\\boldsymbol{p}) = \\sum_{i=1}^{N} \\left( \\Delta V_{\\mathrm{th}, i}^{\\mathrm{meas}} - \\Delta V_{\\mathrm{th}, i}^{\\mathrm{model}}(t_i, T_i, V_{g,i}; \\boldsymbol{p}) \\right)^2\n$$\n此最小化过程使用非线性最小二乘算法执行，并受限于指定的参数边界约束：\n-   $A \\in [10^{-6}, 1]$\n-   $n \\in [0.01, 0.5]$\n-   $E_a \\in [0.05, 0.5]\\ \\mathrm{eV}$\n-   $\\gamma \\in [0, 3]\\ \\mathrm{V}^{-1}$\n\n每个数据集的优化都从一个单一的起始点开始：\n-   $\\boldsymbol{p}_0 = (A_0, n_0, E_{a0}, \\gamma_0) = (0.02, 0.20, 0.15, 1.50)$\n\n这个过程独立地应用于三个数据集中的每一个。对于每个数据集，其所有组成的应力条件和时间点都被汇总并共同用于拟合过程，以确定一组唯一的最佳参数。\n\n在为一个数据集找到最优参数 $\\boldsymbol{p}_{\\mathrm{opt}}$ 后，计算均方根误差（RMSE）以量化模型与数据之间的平均偏差。RMSE 定义为：\n$$\n\\mathrm{RMSE} = \\sqrt{\\frac{1}{N}\\sum_{i=1}^{N}\\left(\\Delta V_{\\mathrm{th}, i}^{\\mathrm{meas}} - \\Delta V_{\\mathrm{th}, i}^{\\mathrm{model}}(\\boldsymbol{p}_{\\mathrm{opt}})\\right)^2} = \\sqrt{\\frac{\\mathrm{SSR}(\\boldsymbol{p}_{\\mathrm{opt}})}{N}}\n$$\n其中 $N$ 是数据集中数据点的总数。\n\n实现将包括一个程序，对于每个数据集：\n1.  收集所有应力条件（$T, V_g, t$）和相应的测量 $\\Delta V_{\\mathrm{th}}$ 值。\n2.  执行有界非线性最小二乘优化以找到参数 $(A, n, E_a, \\gamma)$。\n3.  使用校准后的参数计算该数据集中所有数据点的RMSE。\n4.  最后，报告三个数据集计算出的RMSE值，四舍五入到小数点后六位。",
            "answer": "```python\nimport numpy as np\nfrom scipy.optimize import least_squares\n\ndef solve():\n    \"\"\"\n    Calibrates an NBTI model and calculates RMSE for three datasets.\n    \"\"\"\n    \n    # Define the Boltzmann constant in eV/K\n    K_B = 8.617333262e-5\n\n    # Define the three datasets from the problem description.\n    # Each dataset is a list of conditions.\n    # Each condition is a tuple: (T_K, Vg_V, t_s_array, dVth_V_array)\n    datasets = [\n        # Dataset 1\n        [\n            (398, -1.2, np.array([10, 100, 1000, 10000]), np.array([0.00610, 0.00954, 0.01540, 0.02420])),\n            (358, -1.0, np.array([10, 100, 1000, 10000]), np.array([0.00280, 0.00436, 0.00690, 0.01090])),\n            (298, -0.8, np.array([10, 100, 1000, 10000]), np.array([0.00080, 0.00120, 0.00195, 0.00300])),\n        ],\n        # Dataset 2\n        [\n            (298, 0.0, np.array([1, 10, 100, 1000]), np.array([0.000150, 0.000225, 0.000370, 0.000580])),\n            (298, -0.5, np.array([1, 10, 100, 1000]), np.array([0.000310, 0.000480, 0.000770, 0.001200])),\n            (338, -0.8, np.array([1, 10, 100, 1000]), np.array([0.000980, 0.001520, 0.002450, 0.003840])),\n        ],\n        # Dataset 3\n        [\n            (423, -1.5, np.array([10, 100, 1000, 20000]), np.array([0.01240, 0.02200, 0.03110, 0.05650])),\n            (373, -1.4, np.array([10, 100, 1000, 20000]), np.array([0.00610, 0.00970, 0.01520, 0.02780])),\n            (333, -1.0, np.array([10, 100, 1000, 20000]), np.array([0.001900, 0.003050, 0.004800, 0.008740])),\n        ]\n    ]\n\n    # Model definition: dVth = A * t^n * exp(gamma*|Vg| - Ea/(kB*T))\n    def delta_vth_model(params, T, Vg, t):\n        A, n, Ea, gamma = params\n        return A * (t**n) * np.exp(gamma * np.abs(Vg) - Ea / (K_B * T))\n\n    # Residuals function for the least-squares solver\n    def residuals(params, T_flat, Vg_flat, t_flat, vth_meas_flat):\n        vth_model_flat = delta_vth_model(params, T_flat, Vg_flat, t_flat)\n        return vth_model_flat - vth_meas_flat\n\n    # Calibration settings\n    initial_guess = (0.02, 0.20, 0.15, 1.50)\n    bounds = (\n        [1e-6, 0.01, 0.05, 0.0],    # Lower bounds for (A, n, Ea, gamma)\n        [1.0, 0.5, 0.5, 3.0]       # Upper bounds for (A, n, Ea, gamma)\n    )\n\n    results_rmse = []\n\n    for dataset in datasets:\n        # Flatten the dataset for processing\n        T_flat, Vg_flat, t_flat, vth_meas_flat = [], [], [], []\n        for T_K, Vg_V, t_s_array, dVth_V_array in dataset:\n            num_points = len(t_s_array)\n            T_flat.extend([T_K] * num_points)\n            Vg_flat.extend([Vg_V] * num_points)\n            t_flat.extend(t_s_array)\n            vth_meas_flat.extend(dVth_V_array)\n        \n        T_flat = np.array(T_flat)\n        Vg_flat = np.array(Vg_flat)\n        t_flat = np.array(t_flat)\n        vth_meas_flat = np.array(vth_meas_flat)\n\n        # Perform the nonlinear least-squares optimization\n        opt_result = least_squares(\n            residuals,\n            initial_guess,\n            bounds=bounds,\n            args=(T_flat, Vg_flat, t_flat, vth_meas_flat)\n        )\n        \n        # Extract optimal parameters\n        p_opt = opt_result.x\n        \n        # Calculate final residuals with optimal parameters\n        final_residuals = residuals(p_opt, T_flat, Vg_flat, t_flat, vth_meas_flat)\n        \n        # Calculate RMSE\n        num_total_points = len(vth_meas_flat)\n        rmse = np.sqrt(np.sum(final_residuals**2) / num_total_points)\n        \n        # Round to six decimal places and store\n        results_rmse.append(round(rmse, 6))\n\n    # Print the final result in the specified format\n    print(f\"[{','.join(map(str, results_rmse))}]\")\n\nsolve()\n```"
        }
    ]
}