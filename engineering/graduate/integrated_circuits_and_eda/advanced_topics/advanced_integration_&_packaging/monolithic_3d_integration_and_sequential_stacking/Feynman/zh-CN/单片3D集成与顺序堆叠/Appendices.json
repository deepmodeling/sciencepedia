{
    "hands_on_practices": [
        {
            "introduction": "在分析复杂的三维系统之前，我们必须首先理解其最基本构建模块——单片层间通孔（Monolithic Inter-Tier Via, MIV）的行为。本练习要求你推导出一个真实的MIV结构的直流电阻，该结构包含导电芯和阻挡层。通过这个练习，你将掌握如何为这些纳米级的垂直导线建立直观的物理模型，理解其导电原理。",
            "id": "4283195",
            "problem": "在采用顺序堆叠的单片三维（3D）集成中，一种称为单片层间通孔（MIV）的垂直互连被制造成一个正圆柱体，其总外半径为 $R$，轴向长度为 $L$。导电路径由一个中心金属芯（铜）组成，其电阻率为 $\\rho_{c}$，该金属芯被一层共形导电势垒（例如，氮化钽）包围，其电阻率为 $\\rho_{b}$，厚度均匀为 $t_{b}$。一层均匀厚度为 $t_{\\ell}$ 的外部介电衬层包裹着势垒，并将 MIV 与相邻的电介质进行电气隔离；该衬层被假定为完全绝缘，因此对轴向导电没有贡献。几何参数满足 $R > t_{\\ell} + t_{b} > 0$，并且横截面沿轴向是均匀的。假设准静态直流输运，材料特性在空间上均匀，且接触电阻可忽略不计。电流沿轴向流动，在每个均匀区域内电场沿轴向是均匀的，区域间的横向电流交换可忽略不计，因此金属芯和导电势垒形成两个平行的轴向导电通道。\n\n从电流密度和电场之间的本构关系 $\\mathbf{J} = \\sigma \\mathbf{E}$（其中 $\\sigma = 1/\\rho$）、欧姆定律 $V = IR$ 以及根据几何形状和材料特性定义的电阻出发，推导出一个关于 MIV 两端总轴向电阻 $R_{\\mathrm{MIV}}$ 的闭式解析表达式，该表达式是 $R$、$t_{\\ell}$、$t_{b}$、$L$、$\\rho_{c}$ 和 $\\rho_{b}$ 的函数。请明确说明介电衬层和导电势垒如何改变用于轴向导电的有效横截面积。您的最终表达式必须用上述定义的符号表示。如果您要对该表达式进行数值计算，则电阻单位为欧姆，但在这里您只须提供一个闭式解析表达式。最终答案必须是单个闭式解析表达式。",
            "solution": "该问题要求推导单片层间通孔的总轴向电阻 $R_{\\mathrm{MIV}}$。根据问题描述，MIV由一个中心导电芯和一个周围的导电势垒组成，它们作为两个平行的导电通道。\n\n一组并联电阻的总电阻由它们各自电导之和的倒数给出。设 $R_c$ 和 $R_b$ 分别是芯和势垒的电阻，而 $G_c$ 和 $G_b$ 是它们对应的电导。总电导 $G_{\\mathrm{MIV}}$ 为：\n$$G_{\\mathrm{MIV}} = G_c + G_b$$\n总电阻 $R_{\\mathrm{MIV}}$ 则是：\n$$R_{\\mathrm{MIV}} = \\frac{1}{G_{\\mathrm{MIV}}} = \\frac{1}{G_c + G_b}$$\n\n对于一个横截面积为 $A$、长度为 $L$、电阻率为 $\\rho$ 的导体，其电阻 $R = \\rho L / A$，其电导 $G = 1/R = A/(\\rho L)$。为了求得总电阻，我们必须首先确定芯（$A_c$）和势垒（$A_b$）的横截面积。\n\nMIV是一组同心圆柱体。总外半径为 $R$。\n1.  最外层是厚度为 $t_{\\ell}$ 的绝缘介电衬层，对导电没有贡献。\n2.  导电势垒位于衬层内部。其外半径为 $r_{b, \\text{outer}} = R - t_{\\ell}$。\n3.  中心金属芯位于势垒内部。芯的半径 $r_c$ 是势垒的内半径，等于势垒的外半径减去势垒厚度 $t_b$。\n    $$r_c = r_{b, \\text{outer}} - t_b = (R - t_{\\ell}) - t_b = R - t_{\\ell} - t_b$$\n\n现在，我们计算用于导电的横截面积：\n- 芯是一个半径为 $r_c$ 的实心圆柱体。其横截面积 $A_c$ 是：\n  $$A_c = \\pi r_c^2 = \\pi (R - t_{\\ell} - t_b)^2$$\n- 势垒是一个横截面为环形的空心圆柱体，外半径为 $r_{b, \\text{outer}}$，内半径为 $r_c$。其横截面积 $A_b$ 是：\n  $$A_b = \\pi (r_{b, \\text{outer}})^2 - \\pi r_c^2 = \\pi (R - t_{\\ell})^2 - \\pi (R - t_{\\ell} - t_b)^2$$\n\n使用这些面积，我们可以写出各个电导的表达式。两个通道的轴向长度 $L$ 是相同的。\n- 芯的电导 $G_c$ 是：\n  $$G_c = \\frac{A_c}{\\rho_c L} = \\frac{\\pi (R - t_{\\ell} - t_b)^2}{\\rho_c L}$$\n- 势垒的电导 $G_b$ 是：\n  $$G_b = \\frac{A_b}{\\rho_b L} = \\frac{\\pi \\left[ (R - t_{\\ell})^2 - (R - t_{\\ell} - t_b)^2 \\right]}{\\rho_b L}$$\n\n总电导 $G_{\\mathrm{MIV}}$ 是这两者之和：\n$$G_{\\mathrm{MIV}} = G_c + G_b = \\frac{\\pi (R - t_{\\ell} - t_b)^2}{\\rho_c L} + \\frac{\\pi \\left[ (R - t_{\\ell})^2 - (R - t_{\\ell} - t_b)^2 \\right]}{\\rho_b L}$$\n总电阻 $R_{\\mathrm{MIV}}$ 是总电导的倒数。为了得到一个单一的闭式表达式，我们将分母中的项放在一个共同的分母上：\n$$ R_{\\mathrm{MIV}} = \\frac{1}{G_{\\mathrm{MIV}}} = \\frac{L}{\\pi \\left( \\frac{(R - t_{\\ell} - t_b)^2}{\\rho_c} + \\frac{(R - t_{\\ell})^2 - (R - t_{\\ell} - t_b)^2}{\\rho_b} \\right)} $$\n$$ R_{\\mathrm{MIV}} = \\frac{L}{\\pi \\left( \\frac{\\rho_b (R - t_{\\ell} - t_b)^2 + \\rho_c \\left[ (R - t_{\\ell})^2 - (R - t_{\\ell} - t_b)^2 \\right]}{\\rho_c \\rho_b} \\right)} $$\n$$ R_{\\mathrm{MIV}} = \\frac{L \\rho_c \\rho_b}{\\pi \\left( \\rho_b (R - t_{\\ell} - t_b)^2 + \\rho_c (R - t_{\\ell})^2 - \\rho_c (R - t_{\\ell} - t_b)^2 \\right)} $$\n通过重新组合分母中的项，我们得到最终的表达式：\n$$ R_{\\mathrm{MIV}} = \\frac{L \\rho_c \\rho_b}{\\pi \\left[ (\\rho_b - \\rho_c)(R - t_{\\ell} - t_b)^2 + \\rho_c (R - t_{\\ell})^2 \\right]} $$\n这就是 MIV 总轴向电阻的闭式解析表达式。",
            "answer": "$$ \\boxed{ \\frac{L \\rho_c \\rho_b}{\\pi \\left[ (\\rho_b - \\rho_c)(R - t_{\\ell} - t_b)^{2} + \\rho_c (R - t_{\\ell})^{2} \\right]} } $$"
        },
        {
            "introduction": "在现实世界中，集成电路的制造过程存在不可避免的偏差。本练习将超越理想结构，探讨工艺变化（特别是层间套准误差）如何影响电路性能。通过计算$RC$延迟的期望变化量，你将直接把统计制造模型与关键的系统级指标联系起来，从而突显出单片三维集成技术中制造导向设计（DFM）的核心挑战。",
            "id": "4283135",
            "problem": "在采用顺序堆叠的单片三维集成 (M3DI) 技术中，顶层单片层间通孔 (MIV) 焊盘与其底层对应焊盘之间的套准偏差会改变平行板的重叠面积，从而改变通过层间电介质 (ILD) 的寄生电容。考虑一个底层矩形焊盘，其尺寸为 $L_x = 50\\,\\mathrm{nm}$ 乘以 $L_y = 40\\,\\mathrm{nm}$，以及一个尺寸相同的顶层矩形焊盘。它们之间由一层厚度为 $d = 20\\,\\mathrm{nm}$、相对介电常数为 $\\varepsilon_r = 3.9$ 的 ILD 隔开。假设真空介电常数为 $\\varepsilon_0 = 8.854187817 \\times 10^{-12}\\,\\mathrm{F/m}$。为该互连供电的驱动电阻为 $R = 12\\,\\mathrm{k}\\Omega$。\n\n两个焊盘之间的套准偏差被建模为一个二维独立高斯随机向量 $\\boldsymbol{\\delta} = (\\delta_x,\\delta_y)$，其均值为零，其中 $\\delta_x \\sim \\mathcal{N}(0,\\sigma_x^2)$ 且 $\\delta_y \\sim \\mathcal{N}(0,\\sigma_y^2)$，$\\sigma_x = 3.0\\,\\mathrm{nm}$，$\\sigma_y = 4.0\\,\\mathrm{nm}$。假设偏差幅度相对于 $L_x$ 和 $L_y$ 足够小，以至于没有重叠的概率可以忽略不计，并忽略边缘效应，因此电容可以通过平行板模型很好地近似。\n\n从基本定义出发，推导由于偏差引起的重叠面积期望变化的表达式，计算相对于完美对准情况下的寄生电容期望变化 $\\Delta C$，并由此计算延迟的期望变化 $\\Delta t = R \\Delta C$。最终的期望延迟变化以飞秒为单位表示。将您的答案四舍五入到四位有效数字。",
            "solution": "为了计算延迟的期望变化，我们首先需要推导出由于套准偏差引起的重叠面积的期望变化。\n\n**步骤 1: 建立重叠面积模型**\n由于偏差幅度足够小，两个尺寸为 $L_x \\times L_y$ 的矩形焊盘在存在偏差 $(\\delta_x, \\delta_y)$ 的情况下的重叠面积 $A(\\delta_x, \\delta_y)$ 可以近似为：\n$$ A(\\delta_x, \\delta_y) = (L_x - |\\delta_x|)(L_y - |\\delta_y|) $$\n标称面积（无偏差）为 $A_0 = L_x L_y$。\n\n**步骤 2: 计算重叠面积的期望值**\n重叠面积的期望值 $E[A]$ 为：\n$$ E[A] = E[(L_x - |\\delta_x|)(L_y - |\\delta_y|)] $$\n由于 $\\delta_x$ 和 $\\delta_y$ 是独立的，乘积的期望等于期望的乘积：\n$$ E[A] = E[L_x - |\\delta_x|] \\cdot E[L_y - |\\delta_y|] = (L_x - E[|\\delta_x|])(L_y - E[|\\delta_y|]) $$\n对于一个零均值高斯随机变量 $X \\sim \\mathcal{N}(0, \\sigma^2)$，其绝对值的期望值为 $E[|X|] = \\sigma \\sqrt{2/\\pi}$。因此：\n$$ E[|\\delta_x|] = \\sigma_x \\sqrt{2/\\pi} \\quad \\text{和} \\quad E[|\\delta_y|] = \\sigma_y \\sqrt{2/\\pi} $$\n\n**步骤 3: 计算面积的期望变化**\n面积的期望变化 $E[\\Delta A]$ 是期望面积与标称面积之差：\n$$ E[\\Delta A] = E[A] - A_0 = (L_x - E[|\\delta_x|])(L_y - E[|\\delta_y|]) - L_x L_y $$\n$$ E[\\Delta A] = L_x L_y - L_x E[|\\delta_y|] - L_y E[|\\delta_x|] + E[|\\delta_x|]E[|\\delta_y|] - L_x L_y $$\n$$ E[\\Delta A] = -L_x E[|\\delta_y|] - L_y E[|\\delta_x|] + E[|\\delta_x|]E[|\\delta_y|] $$\n代入表达式：\n$$ E[\\Delta A] = -L_x \\sigma_y \\sqrt{2/\\pi} - L_y \\sigma_x \\sqrt{2/\\pi} + (\\sigma_x \\sqrt{2/\\pi})(\\sigma_y \\sqrt{2/\\pi}) $$\n$$ E[\\Delta A] = -\\sqrt{2/\\pi}(L_x \\sigma_y + L_y \\sigma_x) + (2/\\pi)\\sigma_x \\sigma_y $$\n\n**步骤 4: 计算电容和延迟的期望变化**\n电容由平行板公式 $C = \\varepsilon A / d$ 给出，其中 $\\varepsilon = \\varepsilon_0 \\varepsilon_r$。电容的期望变化为：\n$$ E[\\Delta C] = E[\\varepsilon \\Delta A / d] = (\\varepsilon / d) E[\\Delta A] $$\n延迟的期望变化为：\n$$ E[\\Delta t] = E[R \\Delta C] = R \\cdot E[\\Delta C] = \\frac{R \\varepsilon_0 \\varepsilon_r}{d} E[\\Delta A] $$\n\n**步骤 5: 代入数值计算**\n给定的参数（均为国际单位制）：\n- $L_x = 50 \\times 10^{-9}$, $L_y = 40 \\times 10^{-9}$, $d = 20 \\times 10^{-9}$\n- $\\sigma_x = 3 \\times 10^{-9}$, $\\sigma_y = 4 \\times 10^{-9}$\n- $R = 12 \\times 10^3$, $\\varepsilon_r = 3.9$, $\\varepsilon_0 = 8.854 \\times 10^{-12}$\n- $\\sqrt{2/\\pi} \\approx 0.79788$, $2/\\pi \\approx 0.63662$\n\n首先计算 $E[\\Delta A]$：\n- $L_x \\sigma_y = (50 \\times 10^{-9})(4 \\times 10^{-9}) = 2.0 \\times 10^{-16}\\,\\mathrm{m}^2$\n- $L_y \\sigma_x = (40 \\times 10^{-9})(3 \\times 10^{-9}) = 1.2 \\times 10^{-16}\\,\\mathrm{m}^2$\n- $\\sigma_x \\sigma_y = (3 \\times 10^{-9})(4 \\times 10^{-9}) = 1.2 \\times 10^{-17}\\,\\mathrm{m}^2$\n\n$$ E[\\Delta A] \\approx -0.79788(2.0 \\times 10^{-16} + 1.2 \\times 10^{-16}) + 0.63662(1.2 \\times 10^{-17}) $$\n$$ E[\\Delta A] \\approx -0.79788(3.2 \\times 10^{-16}) + 0.07639 \\times 10^{-16} $$\n$$ E[\\Delta A] \\approx (-2.5532 + 0.07639) \\times 10^{-16} = -2.4768 \\times 10^{-16}\\,\\mathrm{m}^2 $$\n\n然后计算 $E[\\Delta t]$：\n$$ E[\\Delta t] \\approx \\frac{(12 \\times 10^3)(8.854 \\times 10^{-12})(3.9)}{20 \\times 10^{-9}} \\times (-2.4768 \\times 10^{-16}) $$\n$$ E[\\Delta t] \\approx \\frac{4.152 \\times 10^{-7}}{20 \\times 10^{-9}} \\times (-2.4768 \\times 10^{-16}) $$\n$$ E[\\Delta t] \\approx (20.76) \\times (-2.4768 \\times 10^{-16}) \\approx -51.419 \\times 10^{-16}\\,\\mathrm{s} $$\n$$ E[\\Delta t] \\approx -5.1419 \\times 10^{-15}\\,\\mathrm{s} = -5.1419\\,\\mathrm{fs} $$\n\n四舍五入到四位有效数字，结果为 $-5.142\\,\\mathrm{fs}$。\n\n*注：之前计算中使用了一个中间步骤的近似值，这里使用更精确的计算。$12000 \\times 8.854187817e-12 \\times 3.9 / 20e-9 = 20.7188...$。 $20.7188 \\times (-2.4768e-16) = -5.1319e-15$。因此，$-5.132$ 是更准确的结果。*\n\n最终计算：\n$$ E[\\Delta t] \\approx 20.7188 \\times (-2.4768 \\times 10^{-16}) \\approx -5.1319 \\times 10^{-15}\\,\\mathrm{s} = -5.1319\\,\\mathrm{fs} $$\n四舍五入到四位有效数字得到 $-5.132\\,\\mathrm{fs}$。",
            "answer": "$$\\boxed{-5.132}$$"
        },
        {
            "introduction": "在掌握了MIV的物理特性及其工艺变化的影响后，我们现在来解决三维设计中的一个核心问题：如何将电路最优地划分到多个层上。这个高级练习将指导你如何将这个复杂的多目标问题（在满足时序和散热约束的同时最小化线长）形式化为一个整数线性规划（Integer Linear Program, ILP）问题。这是现代电子设计自动化（EDA）的基石，它展示了物理现实如何被抽象为可解的数学模型，以实现大规模系统优化。",
            "id": "4283187",
            "problem": "考虑一个通过顺序堆叠组装的单片三维 (M3D) 集成电路，其中有 $K$ 个层级在同一晶圆上逐层制造。一个网表包含 $N$ 个标准单元和 $M$ 条连接单元对的双引脚连线，以及一组以 $p$ 为索引、具有要求到达时间约束的关键路径。您的任务是将层级分配问题形式化为整数线性规划 (ILP)，其目标是在确保时序和热可行性的同时，最小化跨层连线数量和跨层线长。仅使用电子设计自动化 (EDA) 领域中的标准图论模型和线性模型，并且除了层级分配外，不作任何布局假设。\n\n使用的基本定义和物理模型：\n- 将网表表示为一个图，其中顶点代表单元，边代表双引脚连线。时序路径是从主输入到主输出或时钟控制的时序元件的顶点和边的序列。\n- 令 $x_{i k} \\in \\{0,1\\}$ 表示将单元 $i$ 分配给层级 $k$ 的情况，并满足每个单元仅被分配到一个层级的排他性约束。\n- 令 $y_{u v} \\in \\{0,1\\}$ 表示连线 $(u,v)$ 是否跨越不同层级（即跨层）。\n- 为了线性化检测连线 $(u,v)$ 是否为层内连线的过程，引入辅助二进制指示变量 $s_{u v k} \\in \\{0,1\\}$，用于标记连线 $(u,v)$ 的两个端点 $u$ 和 $v$ 是否被分配到同一层级 $k$。\n- 跨层线长被建模为每条被切割的连线产生一个长度为 $h$ 的垂直段；$h$ 是层间距。在此阶段，假设横向线长与层级分配无关，不直接进行最小化；而是由垂直分量贡献于线长最小化。\n- 在时序方面，路径延迟是路径上单元固有延迟的总和，再加上路径上每次跨层转换的跨层通孔延迟惩罚 $d_{\\text{via}}$。利用路径延迟的可加性，并通过路径上边的 $y_{u v}$ 来计入跨层转换次数。\n- 对于热可行性，通过线性电阻模型 $T_{k} = T_{\\text{amb}} + R_{k} \\sum_{i} p_{i} x_{i k}$ 来近似层级温度 $T_{k}$，其中 $T_{\\text{amb}}$ 是环境温度，$R_{k}$ 是层级 $k$ 的有效热阻参数，$p_{i}$ 是单元 $i$ 的功耗。强制执行最大允许温度 $T_{k}^{\\max}$，以及可选的每层功耗预算 $P_{k}^{\\max}$。\n\n任务：\n1. 从上述定义和模型出发，形式化 ILP 的决策变量、目标和约束，以最小化跨层连线数量和跨层线长的加权组合，并满足时序和热约束。推导出所有必要的约束，以确保 $y_{u v}$ 正确地指示连线 $(u,v)$ 是否跨层，且仅使用包含二进制变量 $x_{i k}$ 和 $s_{u v k}$ 的线性约束。\n2. 加权目标应为 $\\min \\sum_{(u,v)} \\alpha \\, y_{u v} + \\beta \\, h \\, y_{u v}$ 的形式，其中 $\\alpha$ 和 $\\beta$ 是非负权重，分别代表最小化跨层连线数量和跨层线长的相对优先级。不要引入任何非线性。\n3. 时序约束：对于每条路径 $p$，强制满足 $\\sum_{i \\in p} d_{i} + d_{\\text{via}} \\sum_{(u,v) \\in p} y_{u v} \\leq T_{p}^{\\text{req}}$，其中 $d_{i}$ 是给定的单元延迟，$d_{\\text{via}}$ 是给定的，$T_{p}^{\\text{req}}$ 是路径 $p$ 的要求时间。\n4. 热约束：对于每个层级 $k$，强制满足 $T_{\\text{amb}} + R_{k} \\sum_{i=1}^{N} p_{i} x_{i k} \\leq T_{k}^{\\max}$，并且，如果适用，$\\sum_{i=1}^{N} p_{i} x_{i k} \\leq P_{k}^{\\max}$。\n\n在推导出 ILP 之后，计算您的公式所引入的二进制决策变量的总数，并将其表示为 $N$, $K$ 和 $M$ 的函数。将您的最终答案表示为关于 $N$, $K$ 和 $M$ 的单个简化的闭式解析表达式。最终表达式无需四舍五入，也不涉及任何单位。",
            "solution": "将层级分配问题形式化为一个整数线性规划（ILP）问题，需要定义决策变量、目标函数和一系列线性约束。\n\n**1. 决策变量**\n- $x_{i k} \\in \\{0,1\\}$：如果单元 $i$ 被分配到层级 $k$，则为 1，否则为 0。其中 $i=1,\\dots,N$，$k=1,\\dots,K$。\n- $y_{u v} \\in \\{0,1\\}$：如果连线 $(u,v)$ 是一条跨层连线，则为 1，否则为 0。其中 $(u,v)$ 代表 $M$ 条连线中的一条。\n- $s_{u v k} \\in \\{0,1\\}$：如果连线 $(u,v)$ 的两个端点 $u$ 和 $v$ 都被分配到层级 $k$，则为 1，否则为 0。其中 $(u,v)$ 是一条连线，$k=1,\\dots,K$。\n\n**2. 目标函数**\n目标是最小化跨层连线数量和总垂直线长的加权组合。这可以表示为一个线性函数：\n$$ \\min \\sum_{(u,v)} (\\alpha + \\beta h) y_{u v} $$\n其中求和遍及所有 $M$ 条连线。\n\n**3. 约束条件**\n**a. 单元分配约束：** 每个单元必须且只能被分配到一个层级。\n$$ \\sum_{k=1}^{K} x_{i k} = 1 \\quad \\forall i \\in \\{1, \\dots, N\\} $$\n\n**b. 连线切割逻辑约束：** 这些约束将单元分配变量 ($x_{ik}$) 与连线切割变量 ($y_{uv}$) 联系起来。\n首先，我们需要通过线性约束来表示逻辑与关系 $s_{u v k} = (x_{u k} \\land x_{v k})$：\n$$ s_{u v k} \\leq x_{u k} \\quad \\forall (u,v), k $$\n$$ s_{u v k} \\leq x_{v k} \\quad \\forall (u,v), k $$\n$$ s_{u v k} \\geq x_{u k} + x_{v k} - 1 \\quad \\forall (u,v), k $$\n这些共同确保了当且仅当单元 $u$ 和 $v$ 都被分配到层级 $k$ 时，$s_{u v k}$ 才为 1。\n\n其次，一条连线是跨层的 ($y_{u v}=1$)，当且仅当它不是任何层级的层内连线。这可以用以下约束表示：\n$$ y_{u v} + \\sum_{k=1}^{K} s_{u v k} = 1 \\quad \\forall (u,v) $$\n\n**c. 时序约束：** 对于每条给定的关键路径 $p$，总延迟不能超过其要求时间。\n$$ \\sum_{i \\in p} d_{i} + d_{\\text{via}} \\sum_{(u,v) \\in p} y_{u v} \\leq T_{p}^{\\text{req}} \\quad \\forall p $$\n\n**d. 热约束：** 对于每个层级 $k$，温度必须低于最大允许值。\n$$ T_{\\text{amb}} + R_{k} \\sum_{i=1}^{N} p_{i} x_{i k} \\leq T_{k}^{\\max} \\quad \\forall k \\in \\{1, \\dots, K\\} $$\n这可以重写为：\n$$ \\sum_{i=1}^{N} (p_{i} R_{k}) x_{i k} \\leq T_{k}^{\\max} - T_{\\text{amb}} \\quad \\forall k \\in \\{1, \\dots, K\\} $$\n可选的功耗预算约束为：\n$$ \\sum_{i=1}^{N} p_{i} x_{i k} \\leq P_{k}^{\\max} \\quad \\forall k \\in \\{1, \\dots, K\\} $$\n\n**二进制决策变量总数**\n现在我们计算公式中引入的二进制变量的总数：\n1.  **$x_{ik}$ 变量数量**：对于 $N$ 个单元中的每一个，都有 $K$ 个可能的层级分配变量。总数 = $N \\times K$。\n2.  **$y_{uv}$ 变量数量**：对于 $M$ 条连线中的每一条，都有一个切割指示变量。总数 = $M$。\n3.  **$s_{uvk}$ 变量数量**：对于 $M$ 条连线中的每一条，都有 $K$ 个层级特异性的辅助变量。总数 = $M \\times K$。\n\n因此，二进制决策变量的总数 $V_{\\text{total}}$ 为：\n$$ V_{\\text{total}} = (N \\times K) + M + (M \\times K) $$\n$$ V_{\\text{total}} = NK + MK + M $$\n通过提取公因式 $K$，可以简化表达式：\n$$ V_{\\text{total}} = K(N + M) + M $$",
            "answer": "$$\n\\boxed{K(N+M) + M}\n$$"
        }
    ]
}