{
    "hands_on_practices": [
        {
            "introduction": "The primary goal of a delta-sigma modulator is to shape the quantization noise, pushing it out of the signal band where it can be removed by a digital filter. This is achieved through the careful design of the loop filter. This practice  provides a foundational exercise in modulator synthesis, where you will derive the feedforward coefficients for a third-order Cascade-of-Integrators with FeedForward (CIFF) architecture to achieve a specific, desired Noise Transfer Function (NTF). Mastering this process is a fundamental skill for designing high-performance modulators from scratch.",
            "id": "4261937",
            "problem": "Consider a third-order continuous-time delta-sigma modulator employing a Cascade-of-Integrators with FeedForward (CIFF) architecture and a Non-Return-to-Zero (NRZ) Digital-to-Analog Converter (DAC). Assume ideal integrators and sampling at period $T$, and use the standard linearized model in the $z$-domain, where the quantizer is modeled as an additive noise source $e[n]$. The input sequence is $u[n]$, the modulator output is $y[n]$, and the internal integrator outputs are $x_{1}[n]$, $x_{2}[n]$, and $x_{3}[n]$. Under NRZ DAC excitation, the discrete-time equivalent of a continuous-time ideal integrator is given by $I(z) = \\frac{z^{-1}}{1 - z^{-1}}$. The CIFF summing node at the quantizer input is\n$$\nr[n] = c_{0}\\,u[n] + c_{1}\\,x_{1}[n] + c_{2}\\,x_{2}[n] + c_{3}\\,x_{3}[n],\n$$\nand the feedback from $y[n]$ enters each integrator subtractively with unit weight, so that\n$$\nx_{1}(z) = I(z)\\,\\big(u(z) - y(z)\\big),\\quad x_{2}(z) = I(z)\\,\\big(x_{1}(z) - y(z)\\big),\\quad x_{3}(z) = I(z)\\,\\big(x_{2}(z) - y(z)\\big),\n$$\nand the quantizer output is $y(z) = r(z) + e(z)$. Starting from these relations and without invoking any pre-derived delta-sigma transfer-function templates, derive the feedforward coefficients $c_{1}$, $c_{2}$, and $c_{3}$ so that the resulting Noise Transfer Function satisfies $NTF(z) = (1 - z^{-1})^{3}$ exactly. Additionally, ensure that the Signal Transfer Function is approximately unity in the signal band by verifying its low-frequency behavior. Express your final answer as the triplet of feedforward coefficients in exact form. No rounding is required.",
            "solution": "The problem asks for the feedforward coefficients $c_1$, $c_2$, and $c_3$ of a third-order CIFF delta-sigma modulator that result in a specific Noise Transfer Function (NTF). The analysis will be performed using the provided linearized discrete-time model.\n\nFirst, we establish the relationship between the modulator output $y(z)$ and its inputs, the signal $u(z)$ and the quantization noise $e(z)$. The system is described by the following set of equations in the $z$-domain:\nThe quantizer input is given by:\n$$r(z) = c_{0}\\,u(z) + c_{1}\\,x_{1}(z) + c_{2}\\,x_{2}(z) + c_{3}\\,x_{3}(z)$$\nThe quantizer output is:\n$$y(z) = r(z) + e(z)$$\nCombining these two gives:\n$$y(z) = c_{0}\\,u(z) + c_{1}\\,x_{1}(z) + c_{2}\\,x_{2}(z) + c_{3}\\,x_{3}(z) + e(z)$$\nThe integrator outputs are given as:\n$$x_{1}(z) = I(z)\\,\\big(u(z) - y(z)\\big)$$\n$$x_{2}(z) = I(z)\\,\\big(x_{1}(z) - y(z)\\big)$$\n$$x_{3}(z) = I(z)\\,\\big(x_{2}(z) - y(z)\\big)$$\nwhere $I(z) = \\frac{z^{-1}}{1 - z^{-1}}$ is the transfer function of a delaying integrator.\n\nWe need to express the integrator outputs $x_k(z)$ in terms of $u(z)$ and $y(z)$.\n$$x_{1}(z) = I(z)u(z) - I(z)y(z)$$\n$$x_{2}(z) = I(z)x_{1}(z) - I(z)y(z) = I(z)\\big(I(z)u(z) - I(z)y(z)\\big) - I(z)y(z) = I(z)^2 u(z) - (I(z)^2 + I(z))y(z)$$\n$$x_{3}(z) = I(z)x_{2}(z) - I(z)y(z) = I(z)\\big(I(z)^2 u(z) - (I(z)^2 + I(z))y(z)\\big) - I(z)y(z) = I(z)^3 u(z) - (I(z)^3 + I(z)^2 + I(z))y(z)$$\n\nNow, substitute these expressions back into the equation for $y(z)$:\n$$y(z) = c_{0}u(z) + c_{1}\\big(I(z)u(z) - I(z)y(z)\\big) + c_{2}\\big(I(z)^2 u(z) - (I(z)^2 + I(z))y(z)\\big) + c_{3}\\big(I(z)^3 u(z) - (I(z)^3 + I(z)^2 + I(z))y(z)\\big) + e(z)$$\nWe group the terms with $u(z)$, $y(z)$, and $e(z)$:\n$$y(z) + c_{1}I(z)y(z) + c_{2}(I(z)^2+I(z))y(z) + c_{3}(I(z)^3+I(z)^2+I(z))y(z) = \\dots$$\n$$\\dots = c_{0}u(z) + c_{1}I(z)u(z) + c_{2}I(z)^2 u(z) + c_{3}I(z)^3 u(z) + e(z)$$\nFactoring out $y(z)$ and $u(z)$:\n$$y(z)\\big[1 + (c_{1}+c_{2}+c_{3})I(z) + (c_{2}+c_{3})I(z)^2 + c_{3}I(z)^3\\big] = u(z)\\big[c_{0} + c_{1}I(z) + c_{2}I(z)^2 + c_{3}I(z)^3\\big] + e(z)$$\nThe general form of the modulator output is $y(z) = STF(z)u(z) + NTF(z)e(z)$. By inspection, the Noise Transfer Function (NTF) is:\n$$NTF(z) = \\frac{1}{1 + (c_{1}+c_{2}+c_{3})I(z) + (c_{2}+c_{3})I(z)^2 + c_{3}I(z)^3}$$\nThe problem requires that $NTF(z) = (1 - z^{-1})^{3}$. We need to express this target NTF in terms of $I(z)$.\nFrom the given definition $I(z) = \\frac{z^{-1}}{1-z^{-1}}$, we can write:\n$$1 + I(z) = 1 + \\frac{z^{-1}}{1-z^{-1}} = \\frac{1-z^{-1}+z^{-1}}{1-z^{-1}} = \\frac{1}{1-z^{-1}}$$\nTaking the reciprocal gives:\n$$1 - z^{-1} = \\frac{1}{1+I(z)}$$\nTherefore, the target NTF can be written as:\n$$NTF(z) = (1-z^{-1})^3 = \\left(\\frac{1}{1+I(z)}\\right)^3 = \\frac{1}{(1+I(z))^3}$$\nUsing the binomial expansion for the denominator:\n$$(1+I(z))^3 = 1 + 3I(z) + 3I(z)^2 + I(z)^3$$\nSo, the target NTF is equivalent to:\n$$NTF(z) = \\frac{1}{1 + 3I(z) + 3I(z)^2 + I(z)^3}$$\nFor our derived NTF to be equal to the target NTF, their denominators must be identical. We equate the denominators as polynomials in $I(z)$:\n$$1 + (c_{1}+c_{2}+c_{3})I(z) + (c_{2}+c_{3})I(z)^2 + c_{3}I(z)^3 = 1 + 3I(z) + 3I(z)^2 + I(z)^3$$\nBy comparing the coefficients of the powers of $I(z)$, we obtain a system of linear equations for the coefficients $c_1, c_2, c_3$:\n\\begin{enumerate}\n    \\item Coefficient of $I(z)^3$: $c_{3} = 1$\n    \\item Coefficient of $I(z)^2$: $c_{2}+c_{3} = 3$\n    \\item Coefficient of $I(z)$: $c_{1}+c_{2}+c_{3} = 3$\n\\end{enumerate}\nWe solve this system by back-substitution.\nFrom equation (1), we have $c_{3} = 1$.\nSubstituting $c_3=1$ into equation (2):\n$c_{2} + 1 = 3 \\implies c_{2} = 2$.\nSubstituting $c_2=2$ and $c_3=1$ into equation (3):\n$c_{1} + 2 + 1 = 3 \\implies c_{1} + 3 = 3 \\implies c_{1} = 0$.\nThus, the required feedforward coefficients are $c_1 = 0$, $c_2 = 2$, and $c_3 = 1$.\n\nFinally, we must verify that the resulting Signal Transfer Function (STF) is approximately unity at low frequencies. The STF is given by:\n$$STF(z) = \\frac{c_{0} + c_{1}I(z) + c_{2}I(z)^2 + c_{3}I(z)^3}{1 + (c_{1}+c_{2}+c_{3})I(z) + (c_{2}+c_{3})I(z)^2 + c_{3}I(z)^3}$$\nWith the derived coefficients, the denominator is $(1+I(z))^3 = (1/(1-z^{-1}))^3$.\n$$STF(z) = \\frac{c_{0} + (0)I(z) + 2I(z)^2 + 1I(z)^3}{(1+I(z))^3} = \\big(c_{0} + 2I(z)^2 + I(z)^3\\big)(1-z^{-1})^3$$\nSubstitute $I(z) = \\frac{z^{-1}}{1-z^{-1}}$:\n$$STF(z) = \\left(c_{0} + 2\\left(\\frac{z^{-1}}{1-z^{-1}}\\right)^2 + \\left(\\frac{z^{-1}}{1-z^{-1}}\\right)^3\\right)(1-z^{-1})^3$$\n$$STF(z) = c_{0}(1-z^{-1})^3 + 2z^{-2}(1-z^{-1}) + z^{-3}$$\nTo check the low-frequency (DC) behavior, we evaluate the STF at $z=1$ (which corresponds to $z^{-1}=1$):\n$$STF(1) = c_{0}(1-1)^3 + 2(1)^{-2}(1-1) + (1)^{-3} = c_{0}(0) + 2(0) + 1 = 1$$\nThe DC gain of the STF is exactly $1$, regardless of the choice of $c_0$. This confirms that the STF is unity at low frequencies, as required.\n\nThe feedforward coefficients are $c_1=0$, $c_2=2$, and $c_3=1$.",
            "answer": "$$\\boxed{\\begin{pmatrix} 0 & 2 & 1 \\end{pmatrix}}$$"
        },
        {
            "introduction": "While transfer function synthesis provides an ideal linear model, the inherent nonlinearity of the quantizer can lead to complex behaviors not captured by this simplified view. This practice  delves into these nonlinear dynamics by analyzing how deterministic, repetitive patterns—known as limit cycles—can emerge in a first-order modulator. By deriving the conditions for a strong limit cycle, you will gain insight into the origin of undesirable idle tones that can corrupt the modulator's output spectrum.",
            "id": "4261938",
            "problem": "Consider a first-order continuous-time Delta-Sigma Modulator (DSM) with a one-bit quantizer and a Non-Return-to-Zero (NRZ) feedback Digital-to-Analog Converter (DAC), intended for integrated circuits and Electronic Design Automation (EDA) analysis. The loop filter is an ideal continuous-time integrator with transfer function $H(s) = \\frac{k}{s}$ and the quantizer operates with a zero threshold. The system is clocked at sampling frequency $f_{s}$, with sampling period $T = \\frac{1}{f_{s}}$. Let the input be a sinusoid $x(t) = A \\sin(2 \\pi f_{\\text{in}} t)$, where $A$ is the input amplitude (expressed in the same normalized units as the one-bit DAC levels $\\pm 1$) and $f_{\\text{in}}$ is the input frequency. The one-bit quantizer output is $y[n] \\in \\{+1, -1\\}$ and is held constant over each sampling interval $[nT, (n+1)T)$ by the NRZ DAC.\n\nIdle tones are known to arise in Delta-Sigma Modulators from deterministic limit cycles, in which the quantizer output repeats a finite-length pattern. In this problem, analyze the origin of such idle tones from first principles and derive a condition on the input amplitude and frequency that results in a strong tonal component at the modulator output. Specifically:\n\n- Starting from the continuous-time integrator law, derive the discrete-time state update across a single sampling interval for the integrator state $s[n]$ at the sampling instants $t = n T$.\n- Using this update, consider the strongest two-sample limit cycle in which the quantizer output alternates, i.e., $y[n] = (-1)^{n}$, and establish the necessary condition on $f_{\\text{in}}$ for the integrator state to return to its initial value after two samples.\n- Enforce the quantizer consistency requirement that the sign of the integrator state $s[n]$ matches $y[n]$ at each sampling instant and determine the largest input amplitude $A$ that still admits this alternating limit cycle.\n\nExpress your final answer as a two-entry row matrix containing, in order: the largest admissible amplitude $A$ and the corresponding input frequency $f_{\\text{in}}$ that produces the strongest tonal component. Use the unit Hertz for the frequency. No rounding is required; provide exact expressions.",
            "solution": "The system is a first-order CT-DSM. The state of the system is the output of the integrator, which we denote as $s(t)$. The input to the integrator is the error signal $e(t) = x(t) - y_{dac}(t)$, where $x(t)$ is the modulator input and $y_{dac}(t)$ is the feedback signal from the Digital-to-Analog Converter (DAC).\n\nThe loop filter is an ideal integrator with transfer function $H(s) = \\frac{k}{s}$. In the time domain, this corresponds to the differential equation:\n$$ \\frac{ds(t)}{dt} = k \\cdot e(t) = k (x(t) - y_{dac}(t)) $$\nThe system is sampled at a frequency $f_s$, with a sampling period of $T = \\frac{1}{f_s}$. The Non-Return-to-Zero (NRZ) DAC holds the quantizer output $y[n]$ constant over the sampling interval $[nT, (n+1)T)$. Thus, for $t \\in [nT, (n+1)T)$, the feedback signal is $y_{dac}(t) = y[n]$.\n\n**1. Derivation of the Discrete-Time State Update**\n\nTo find the discrete-time state update equation, we integrate the differential equation over one sampling period, from $t=nT$ to $t=(n+1)T$. Let $s[n] \\equiv s(nT)$ be the integrator state at the sampling instants.\n$$ s((n+1)T) - s(nT) = \\int_{nT}^{(n+1)T} k(x(\\tau) - y_{dac}(\\tau)) d\\tau $$\nUsing our definitions, this becomes:\n$$ s[n+1] = s[n] + k \\int_{nT}^{(n+1)T} (A \\sin(2\\pi f_{\\text{in}}\\tau) - y[n]) d\\tau $$\nWe can split the integral into two parts:\n$$ \\int_{nT}^{(n+1)T} y[n] d\\tau = y[n] \\int_{nT}^{(n+1)T} d\\tau = y[n] T $$\n$$ \\int_{nT}^{(n+1)T} A \\sin(2\\pi f_{\\text{in}}\\tau) d\\tau = A \\left[ -\\frac{\\cos(2\\pi f_{\\text{in}}\\tau)}{2\\pi f_{\\text{in}}} \\right]_{nT}^{(n+1)T} = \\frac{A}{2\\pi f_{\\text{in}}} (\\cos(2\\pi f_{\\text{in}}nT) - \\cos(2\\pi f_{\\text{in}}(n+1)T)) $$\nCombining these results, the discrete-time state update equation is:\n$$ s[n+1] = s[n] + k \\left( \\frac{A}{2\\pi f_{\\text{in}}} (\\cos(2\\pi f_{\\text{in}}nT) - \\cos(2\\pi f_{\\text{in}}(n+1)T)) - y[n] T \\right) $$\n\n**2. Condition for a Two-Sample Limit Cycle**\n\nWe are asked to analyze a two-sample limit cycle where the quantizer output alternates, i.e., $y[n] = (-1)^n$. For a periodic behavior of period two, the state of the system must return to its initial value after two samples, so $s[n+2] = s[n]$.\nLet's write the expression for $s[n+2]$ using the update rule:\n$$ s[n+2] = s[n+1] + k \\int_{(n+1)T}^{(n+2)T} (x(\\tau) - y[n+1]) d\\tau $$\n$$ s[n+2] = \\left( s[n] + k \\int_{nT}^{(n+1)T} (x(\\tau) - y[n]) d\\tau \\right) + k \\int_{(n+1)T}^{(n+2)T} (x(\\tau) - y[n+1]) d\\tau $$\nSetting $s[n+2] = s[n]$ and assuming $k \\neq 0$:\n$$ \\int_{nT}^{(n+1)T} (x(\\tau) - y[n]) d\\tau + \\int_{(n+1)T}^{(n+2)T} (x(\\tau) - y[n+1]) d\\tau = 0 $$\n$$ \\int_{nT}^{(n+2)T} x(\\tau) d\\tau - T y[n] - T y[n+1] = 0 $$\nFor the alternating sequence $y[n] = (-1)^n$, we have $y[n+1] = -y[n]$. The condition simplifies to:\n$$ \\int_{nT}^{(n+2)T} x(\\tau) d\\tau - T y[n] - T(-y[n]) = 0 \\implies \\int_{nT}^{(n+2)T} x(\\tau) d\\tau = 0 $$\nThis means the integral of the input signal over any two consecutive sampling periods must be zero. Let's evaluate this integral for $x(t) = A \\sin(2\\pi f_{\\text{in}} t)$:\n$$ \\int_{nT}^{(n+2)T} A \\sin(2\\pi f_{\\text{in}}\\tau) d\\tau = \\frac{A}{2\\pi f_{\\text{in}}} (\\cos(2\\pi f_{\\text{in}}nT) - \\cos(2\\pi f_{\\text{in}}(n+2)T)) = 0 $$\nThis must hold true for any integer $n$. This requires the cosine terms to be equal, which is satisfied if the difference in their arguments is an integer multiple of $2\\pi$:\n$$ 2\\pi f_{\\text{in}}(n+2)T - 2\\pi f_{\\text{in}}nT = m \\cdot 2\\pi, \\quad m \\in \\mathbb{Z} $$\n$$ 4\\pi f_{\\text{in}}T = m \\cdot 2\\pi \\implies 2 f_{\\text{in}} T = m \\implies f_{\\text{in}} = \\frac{m}{2T} = \\frac{m f_s}{2} $$\nThe strongest tonal component will arise when the input frequency matches the fundamental frequency of the alternating pattern $y[n]$, which has a period of $2T$. The fundamental frequency is therefore $\\frac{1}{2T} = \\frac{f_s}{2}$. This corresponds to selecting $m=1$.\nThus, the required input frequency is $f_{\\text{in}} = \\frac{f_s}{2}$.\n\n**3. Quantizer Consistency and Largest Admissible Amplitude**\n\nWith $f_{\\text{in}} = f_s/2$, the input signal is $x(t) = A \\sin(\\pi f_s t) = A \\sin(\\frac{\\pi t}{T})$. Let's re-evaluate the integral of the input over one sampling period $[nT, (n+1)T]$:\n$$ \\int_{nT}^{(n+1)T} A \\sin\\left(\\frac{\\pi \\tau}{T}\\right) d\\tau = A \\left[ -\\frac{T}{\\pi} \\cos\\left(\\frac{\\pi \\tau}{T}\\right) \\right]_{nT}^{(n+1)T} = -\\frac{AT}{\\pi} (\\cos(\\pi(n+1)) - \\cos(\\pi n)) $$\n$$ = -\\frac{AT}{\\pi} ((-1)^{n+1} - (-1)^n) = -\\frac{AT}{\\pi} (-1)^n(-1-1) = \\frac{2AT}{\\pi}(-1)^n $$\nSubstituting this into the state update equation for the limit cycle $y[n] = (-1)^n$:\n$$ s[n+1] = s[n] + k \\left( \\frac{2AT}{\\pi}(-1)^n - (-1)^n T \\right) = s[n] + k T (-1)^n \\left(\\frac{2A}{\\pi} - 1\\right) $$\nThe one-bit quantizer has a zero threshold, and its output is $y[n] \\in \\{+1, -1\\}$. We define $y[n] = \\text{sgn}(s[n])$, assuming that $\\text{sgn}(x) = +1$ for $x \\ge 0$ and $\\text{sgn}(x) = -1$ for $x < 0$. For the limit cycle $y[n] = (-1)^n$ to be sustained, the state $s[n]$ must satisfy the quantizer's sign condition at each step. Let's check for $n=0$ and $n=1$.\n\n1.  For $n=0$: $y[0] = (-1)^0 = +1$. This requires $s[0] \\ge 0$.\n2.  For $n=1$: $y[1] = (-1)^1 = -1$. This requires $s[1] < 0$.\n\nLet's examine the state $s[1]$ using the update equation we derived:\n$$ s[1] = s[0] + k T (-1)^0 \\left(\\frac{2A}{\\pi} - 1\\right) = s[0] + k T \\left(\\frac{2A}{\\pi} - 1\\right) $$\nThe condition $s[1] < 0$ implies:\n$$ s[0] + k T \\left(\\frac{2A}{\\pi} - 1\\right) < 0 \\implies s[0] < -k T \\left(\\frac{2A}{\\pi} - 1\\right) = k T \\left(1 - \\frac{2A}{\\pi}\\right) $$\nCombining this with the condition $s[0] \\ge 0$, we find that for the limit cycle to exist, there must be a valid initial state $s[0]$ satisfying:\n$$ 0 \\le s[0] < k T \\left(1 - \\frac{2A}{\\pi}\\right) $$\nFor this interval of possible $s[0]$ values to be non-empty, the upper bound must be strictly greater than the lower bound ($0$). Since $k > 0$ and $T > 0$, this requires:\n$$ 1 - \\frac{2A}{\\pi} > 0 \\implies 1 > \\frac{2A}{\\pi} \\implies A < \\frac{\\pi}{2} $$\nThe set of amplitudes $A$ that admit this limit cycle is $[0, \\pi/2)$. The problem asks for the *largest* such amplitude. This corresponds to the supremum of this set, which is the boundary value where the range of valid initial states $s[0]$ shrinks to a single point.\nTherefore, the largest admissible amplitude is $A = \\frac{\\pi}{2}$.\n\nThe final answer is the pair $(A, f_{\\text{in}})$.\nLargest admissible amplitude: $A = \\frac{\\pi}{2}$.\nCorresponding input frequency: $f_{\\text{in}} = \\frac{f_s}{2}$.",
            "answer": "$$ \\boxed{\n\\begin{pmatrix}\n\\frac{\\pi}{2} & \\frac{f_s}{2}\n\\end{pmatrix}\n} $$"
        },
        {
            "introduction": "Beyond deterministic effects like idle tones, continuous-time delta-sigma modulators are particularly sensitive to random non-idealities, with clock jitter in the feedback DAC being a primary concern. This exercise  guides you through the process of quantifying this jitter-induced noise from first principles. You will model the timing uncertainty as a random process and analyze how its spectral properties, and consequently the in-band noise, are influenced by the choice of DAC pulse shape (NRZ vs. RZ).",
            "id": "4261989",
            "problem": "Consider a Continuous-Time (CT) Delta-Sigma (ΔΣ) modulator whose feedback Digital-to-Analog Converter (DAC) emits one rectangular pulse per sampling period with sample period $T_{s}$ and sampling frequency $f_{s} = \\frac{1}{T_{s}}$. Assume the Oversampling Ratio (OSR) defines the baseband signal bandwidth $B$ via $B = \\frac{f_{s}}{2\\,OSR}$. The discrete sequence of DAC levels $\\{a_{k}\\}$ is modeled as a zero-mean, wide-sense stationary innovation with variance $\\sigma_{a}^{2}$ and no discrete-time correlation across samples. The DAC edge timing exhibits independent, zero-mean, small timing uncertainty with variance $\\sigma_{t}^{2}$ per sample, denoted by $\\{\\Delta t_{k}\\}$, such that first-order linearization in time shift is valid.\n\nDefine two DAC pulse shapes:\n- Non-Return-to-Zero (NRZ): $p_{\\mathrm{NRZ}}(t)$ is a rectangular pulse of amplitude $1$ and width $T_{s}$.\n- Return-to-Zero (RZ) with $50\\%$ duty cycle: $p_{\\mathrm{RZ}}(t)$ is a rectangular pulse of amplitude $2$ and width $\\frac{T_{s}}{2}$, so that the pulse area per sample equals that of NRZ.\n\nLet the continuous-time DAC output be $y(t) = \\sum_{k} a_{k}\\,p(t - k T_{s} - \\Delta t_{k})$. Model the jitter-induced error $e(t)$ by linearizing the time shift and treat $\\{a_{k}\\}$ and $\\{\\Delta t_{k}\\}$ as independent. Using fundamental properties of Fourier transforms and Power Spectral Density (PSD) for a wide-sense stationary, random pulse-amplitude modulated process, derive the integrated baseband jitter-induced noise power for NRZ and RZ by integrating the resulting error spectrum over $[0, B]$.\n\nProvide, as a single closed-form analytic expression, the ratio of the integrated jitter-induced baseband noise powers for RZ versus NRZ as a function of $OSR$. Express the final answer only in terms of $OSR$; no numerical substitution is required. Do not round; no units are needed.",
            "solution": "The derivation proceeds as follows:\nFirst, we formulate the jitter-induced error signal, $e(t)$. The output of the DAC, including timing jitter $\\Delta t_k$, is given by:\n$$y(t) = \\sum_{k} a_{k}\\,p(t - k T_{s} - \\Delta t_{k})$$\nwhere $\\{a_{k}\\}$ is the sequence of DAC levels, $p(t)$ is the DAC pulse shape, and $T_s$ is the sampling period.\nSince the timing uncertainty $\\{\\Delta t_k\\}$ is small, we can linearize the pulse shape using a first-order Taylor series expansion around the ideal sampling instant $t - k T_s$:\n$$p(t - k T_{s} - \\Delta t_{k}) \\approx p(t - k T_{s}) - \\Delta t_{k} \\frac{d}{dt}p(t - k T_{s})$$\nThe ideal output, without jitter, is $y_{\\text{ideal}}(t) = \\sum_{k} a_{k}\\,p(t - k T_{s})$. The error signal $e(t)$ is the difference $y(t) - y_{\\text{ideal}}(t)$, which, after applying the linearization, becomes:\n$$e(t) \\approx \\sum_{k} a_{k} \\left( - \\Delta t_{k} \\frac{d}{dt}p(t - k T_{s}) \\right) = \\sum_{k} c_k g(t - k T_s)$$\nThis error signal is a Pulse-Amplitude Modulated (PAM) signal where the amplitude sequence is $c_k = -a_k \\Delta t_k$ and the pulse shape is $g(t) = \\frac{d p(t)}{dt}$.\n\nSecond, we determine the Power Spectral Density (PSD) of the error signal, $S_e(f)$. The PSD of a PAM signal generated from a wide-sense stationary (WSS) sequence $\\{c_k\\}$ is given by $S_e(f) = \\frac{1}{T_s} S_c(f) |G(f)|^2$, where $S_c(f)$ is the power spectrum of $\\{c_k\\}$ and $G(f)$ is the Fourier transform of $g(t)$.\n\nThe problem states that $\\{a_k\\}$ and $\\{\\Delta t_k\\}$ are independent, zero-mean, WSS sequences, and that samples within each sequence are uncorrelated. The autocorrelation of $\\{a_k\\}$ is $R_a[m] = E[a_k a_{k+m}] = \\sigma_a^2 \\delta[m]$, and for $\\{\\Delta t_k\\}$ it is $R_{\\Delta t}[m] = E[\\Delta t_k \\Delta t_{k+m}] = \\sigma_t^2 \\delta[m]$, where $\\delta[m]$ is the Kronecker delta.\nThe autocorrelation of the sequence $c_k = -a_k \\Delta t_k$ is:\n$$R_c[m] = E[c_k c_{k+m}] = E[(-a_k \\Delta t_k)(-a_{k+m} \\Delta t_{k+m})] = E[a_k a_{k+m}] E[\\Delta t_k \\Delta t_{k+m}]$$\n$$R_c[m] = (\\sigma_a^2 \\delta[m]) (\\sigma_t^2 \\delta[m]) = \\sigma_a^2 \\sigma_t^2 \\delta[m]$$\nThis shows that $\\{c_k\\}$ is a white noise sequence with variance $\\sigma_c^2 = R_c[0] = \\sigma_a^2 \\sigma_t^2$. The power spectrum of a white noise sequence is flat: $S_c(f) = \\sigma_c^2 = \\sigma_a^2 \\sigma_t^2$.\n\nThe Fourier transform of the error pulse shape $g(t) = \\frac{d p(t)}{dt}$ is found using the differentiation property of the Fourier transform:\n$$G(f) = \\mathcal{F}\\left\\{\\frac{d p(t)}{dt}\\right\\} = j 2 \\pi f P(f)$$\nwhere $P(f) = \\mathcal{F}\\{p(t)\\}$. The squared magnitude is $|G(f)|^2 = (2 \\pi f)^2 |P(f)|^2$.\nCombining these results, the PSD of the jitter-induced error is:\n$$S_e(f) = \\frac{1}{T_s} (\\sigma_a^2 \\sigma_t^2) |j 2 \\pi f P(f)|^2 = \\frac{\\sigma_a^2 \\sigma_t^2}{T_s} (2 \\pi f)^2 |P(f)|^2$$\n\nThird, we calculate $|P(f)|^2$ for the Non-Return-to-Zero (NRZ) and Return-to-Zero (RZ) pulses.\nFor the NRZ pulse, $p_{\\mathrm{NRZ}}(t)$ is a rectangular pulse of amplitude $1$ and width $T_s$. Its Fourier transform is $P_{\\mathrm{NRZ}}(f) = T_s \\mathrm{sinc}(\\pi f T_s) \\exp(-j\\pi f T_s)$, where $\\mathrm{sinc}(x) = \\sin(x)/x$. The squared magnitude is:\n$$|P_{\\mathrm{NRZ}}(f)|^2 = \\left( T_s \\frac{\\sin(\\pi f T_s)}{\\pi f T_s} \\right)^2 = \\left( \\frac{\\sin(\\pi f T_s)}{\\pi f} \\right)^2$$\nFor the RZ pulse, $p_{\\mathrm{RZ}}(t)$ is a rectangular pulse of amplitude $2$ and width $T_s/2$. Its Fourier transform is $P_{\\mathrm{RZ}}(f) = 2 \\cdot \\frac{T_s}{2} \\mathrm{sinc}(\\pi f \\frac{T_s}{2}) \\exp(-j\\pi f T_s/2)$. The squared magnitude is:\n$$|P_{\\mathrm{RZ}}(f)|^2 = \\left( T_s \\frac{\\sin(\\pi f T_s / 2)}{\\pi f T_s / 2} \\right)^2 = \\left( \\frac{2 \\sin(\\pi f T_s / 2)}{\\pi f} \\right)^2$$\n\nFourth, we substitute these into the PSD expression.\nFor NRZ:\n$$S_{e, \\mathrm{NRZ}}(f) = \\frac{\\sigma_a^2 \\sigma_t^2}{T_s} (2 \\pi f)^2 \\left( \\frac{\\sin(\\pi f T_s)}{\\pi f} \\right)^2 = \\frac{4 \\sigma_a^2 \\sigma_t^2}{T_s} \\sin^2(\\pi f T_s)$$\nFor RZ:\n$$S_{e, \\mathrm{RZ}}(f) = \\frac{\\sigma_a^2 \\sigma_t^2}{T_s} (2 \\pi f)^2 \\left( \\frac{2 \\sin(\\pi f T_s / 2)}{\\pi f} \\right)^2 = \\frac{16 \\sigma_a^2 \\sigma_t^2}{T_s} \\sin^2(\\pi f T_s / 2)$$\n\nFifth, we calculate the integrated baseband noise power, $P_{\\text{noise}} = \\int_0^B S_e(f) df$, for both cases.\nThe signal bandwidth is $B = \\frac{f_s}{2 \\cdot OSR} = \\frac{1}{2 T_s \\cdot OSR}$.\nThe noise power for the NRZ case is:\n$$P_{\\mathrm{NRZ}} = \\int_0^B \\frac{4 \\sigma_a^2 \\sigma_t^2}{T_s} \\sin^2(\\pi f T_s) df$$\nThe noise power for the RZ case is:\n$$P_{\\mathrm{RZ}} = \\int_0^B \\frac{16 \\sigma_a^2 \\sigma_t^2}{T_s} \\sin^2(\\pi f T_s / 2) df$$\nThe ratio of the powers is:\n$$\\frac{P_{\\mathrm{RZ}}}{P_{\\mathrm{NRZ}}} = \\frac{16 \\int_0^B \\sin^2(\\pi f T_s / 2) df}{4 \\int_0^B \\sin^2(\\pi f T_s) df} = 4 \\frac{\\int_0^B \\sin^2(\\pi f T_s / 2) df}{\\int_0^B \\sin^2(\\pi f T_s) df}$$\nWe use the identity $\\sin^2(x) = \\frac{1 - \\cos(2x)}{2}$.\nThe integral in the numerator is:\n$$\\int_0^B \\sin^2(\\pi f T_s / 2) df = \\int_0^B \\frac{1 - \\cos(\\pi f T_s)}{2} df = \\left[ \\frac{f}{2} - \\frac{\\sin(\\pi f T_s)}{2 \\pi T_s} \\right]_0^B = \\frac{B}{2} - \\frac{\\sin(\\pi B T_s)}{2 \\pi T_s}$$\nThe integral in the denominator is:\n$$\\int_0^B \\sin^2(\\pi f T_s) df = \\int_0^B \\frac{1 - \\cos(2 \\pi f T_s)}{2} df = \\left[ \\frac{f}{2} - \\frac{\\sin(2 \\pi f T_s)}{4 \\pi T_s} \\right]_0^B = \\frac{B}{2} - \\frac{\\sin(2 \\pi B T_s)}{4 \\pi T_s}$$\nThe ratio becomes:\n$$\\frac{P_{\\mathrm{RZ}}}{P_{\\mathrm{NRZ}}} = 4 \\frac{\\frac{B}{2} - \\frac{\\sin(\\pi B T_s)}{2 \\pi T_s}}{\\frac{B}{2} - \\frac{\\sin(2 \\pi B T_s)}{4 \\pi T_s}} = 4 \\frac{2 \\pi B T_s - 2 \\sin(\\pi B T_s)}{2 \\pi B T_s - \\sin(2 \\pi B T_s)}$$\n\nFinally, we substitute $B = \\frac{1}{2 T_s \\cdot OSR}$ into the expression. This gives $\\pi B T_s = \\frac{\\pi}{2 \\cdot OSR}$ and $2 \\pi B T_s = \\frac{\\pi}{OSR}$.\n$$\\text{Ratio} = 4 \\frac{\\frac{\\pi}{OSR} - 2\\sin\\left(\\frac{\\pi}{2 \\cdot OSR}\\right)}{\\frac{\\pi}{OSR} - \\sin\\left(\\frac{\\pi}{OSR}\\right)}$$\nThis is the final closed-form analytic expression for the ratio as a function of the Oversampling Ratio ($OSR$).",
            "answer": "$$\\boxed{4 \\frac{\\frac{\\pi}{OSR} - 2\\sin\\left(\\frac{\\pi}{2 \\cdot OSR}\\right)}{\\frac{\\pi}{OSR} - \\sin\\left(\\frac{\\pi}{OSR}\\right)}}$$"
        }
    ]
}