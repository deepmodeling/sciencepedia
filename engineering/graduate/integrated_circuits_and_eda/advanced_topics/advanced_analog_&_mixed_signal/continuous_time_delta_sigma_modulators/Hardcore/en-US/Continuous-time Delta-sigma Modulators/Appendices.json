{
    "hands_on_practices": [
        {
            "introduction": "This first exercise tackles the core synthesis problem in delta-sigma modulator design. We will determine the specific feedforward coefficients for a third-order Cascade-of-Integrators with FeedForward (CIFF) architecture required to realize a desired Noise Transfer Function ($NTF$) . This practice is fundamental, as it directly connects the modulator's topology to its noise-shaping performance, providing a concrete method for implementing a specific high-pass characteristic for the quantization noise.",
            "id": "4261937",
            "problem": "Consider a third-order continuous-time delta-sigma modulator employing a Cascade-of-Integrators with FeedForward (CIFF) architecture and a Non-Return-to-Zero (NRZ) Digital-to-Analog Converter (DAC). Assume ideal integrators and sampling at period $T$, and use the standard linearized model in the $z$-domain, where the quantizer is modeled as an additive noise source $e[n]$. The input sequence is $u[n]$, the modulator output is $y[n]$, and the internal integrator outputs are $x_{1}[n]$, $x_{2}[n]$, and $x_{3}[n]$. Under NRZ DAC excitation, the discrete-time equivalent of a continuous-time ideal integrator is given by $I(z) = \\frac{z^{-1}}{1 - z^{-1}}$. The CIFF summing node at the quantizer input is\n$$\nr[n] = c_{0}\\,u[n] + c_{1}\\,x_{1}[n] + c_{2}\\,x_{2}[n] + c_{3}\\,x_{3}[n],\n$$\nand the feedback from $y[n]$ enters each integrator subtractively with unit weight, so that\n$$\nx_{1}(z) = I(z)\\,\\big(u(z) - y(z)\\big),\\quad x_{2}(z) = I(z)\\,\\big(x_{1}(z) - y(z)\\big),\\quad x_{3}(z) = I(z)\\,\\big(x_{2}(z) - y(z)\\big),\n$$\nand the quantizer output is $y(z) = r(z) + e(z)$. Starting from these relations and without invoking any pre-derived delta-sigma transfer-function templates, derive the feedforward coefficients $c_{1}$, $c_{2}$, and $c_{3}$ so that the resulting Noise Transfer Function satisfies $NTF(z) = (1 - z^{-1})^{3}$ exactly. Additionally, ensure that the Signal Transfer Function is approximately unity in the signal band by verifying its low-frequency behavior. Express your final answer as the triplet of feedforward coefficients in exact form. No rounding is required.",
            "solution": "The problem asks for the feedforward coefficients $c_1$, $c_2$, and $c_3$ of a third-order CIFF delta-sigma modulator that result in a specific Noise Transfer Function (NTF). The analysis will be performed using the provided linearized discrete-time model.\n\nFirst, we establish the relationship between the modulator output $y(z)$ and its inputs, the signal $u(z)$ and the quantization noise $e(z)$. The system is described by the following set of equations in the $z$-domain:\nThe quantizer input is given by:\n$$r(z) = c_{0}\\,u(z) + c_{1}\\,x_{1}(z) + c_{2}\\,x_{2}(z) + c_{3}\\,x_{3}(z)$$\nThe quantizer output is:\n$$y(z) = r(z) + e(z)$$\nCombining these two gives:\n$$y(z) = c_{0}\\,u(z) + c_{1}\\,x_{1}(z) + c_{2}\\,x_{2}(z) + c_{3}\\,x_{3}(z) + e(z)$$\nThe integrator outputs are given as:\n$$x_{1}(z) = I(z)\\,\\big(u(z) - y(z)\\big)$$\n$$x_{2}(z) = I(z)\\,\\big(x_{1}(z) - y(z)\\big)$$\n$$x_{3}(z) = I(z)\\,\\big(x_{2}(z) - y(z)\\big)$$\nwhere $I(z) = \\frac{z^{-1}}{1 - z^{-1}}$ is the transfer function of a delaying integrator.\n\nWe need to express the integrator outputs $x_k(z)$ in terms of $u(z)$ and $y(z)$.\n$$x_{1}(z) = I(z)u(z) - I(z)y(z)$$\n$$x_{2}(z) = I(z)x_{1}(z) - I(z)y(z) = I(z)\\big(I(z)u(z) - I(z)y(z)\\big) - I(z)y(z) = I(z)^2 u(z) - (I(z)^2 + I(z))y(z)$$\n$$x_{3}(z) = I(z)x_{2}(z) - I(z)y(z) = I(z)\\big(I(z)^2 u(z) - (I(z)^2 + I(z))y(z)\\big) - I(z)y(z) = I(z)^3 u(z) - (I(z)^3 + I(z)^2 + I(z))y(z)$$\n\nNow, substitute these expressions back into the equation for $y(z)$:\n$$y(z) = c_{0}u(z) + c_{1}\\big(I(z)u(z) - I(z)y(z)\\big) + c_{2}\\big(I(z)^2 u(z) - (I(z)^2 + I(z))y(z)\\big) + c_{3}\\big(I(z)^3 u(z) - (I(z)^3 + I(z)^2 + I(z))y(z)\\big) + e(z)$$\nWe group the terms with $u(z)$, $y(z)$, and $e(z)$:\n$$y(z) + c_{1}I(z)y(z) + c_{2}(I(z)^2+I(z))y(z) + c_{3}(I(z)^3+I(z)^2+I(z))y(z) = \\dots$$\n$$\\dots = c_{0}u(z) + c_{1}I(z)u(z) + c_{2}I(z)^2 u(z) + c_{3}I(z)^3 u(z) + e(z)$$\nFactoring out $y(z)$ and $u(z)$:\n$$y(z)\\big[1 + (c_{1}+c_{2}+c_{3})I(z) + (c_{2}+c_{3})I(z)^2 + c_{3}I(z)^3\\big] = u(z)\\big[c_{0} + c_{1}I(z) + c_{2}I(z)^2 + c_{3}I(z)^3\\big] + e(z)$$\nThe general form of the modulator output is $y(z) = STF(z)u(z) + NTF(z)e(z)$. By inspection, the Noise Transfer Function (NTF) is:\n$$NTF(z) = \\frac{1}{1 + (c_{1}+c_{2}+c_{3})I(z) + (c_{2}+c_{3})I(z)^2 + c_{3}I(z)^3}$$\nThe problem requires that $NTF(z) = (1 - z^{-1})^{3}$. We need to express this target NTF in terms of $I(z)$.\nFrom the given definition $I(z) = \\frac{z^{-1}}{1-z^{-1}}$, we can write:\n$$1 + I(z) = 1 + \\frac{z^{-1}}{1-z^{-1}} = \\frac{1-z^{-1}+z^{-1}}{1-z^{-1}} = \\frac{1}{1-z^{-1}}$$\nTaking the reciprocal gives:\n$$1 - z^{-1} = \\frac{1}{1+I(z)}$$\nTherefore, the target NTF can be written as:\n$$NTF(z) = (1-z^{-1})^3 = \\left(\\frac{1}{1+I(z)}\\right)^3 = \\frac{1}{(1+I(z))^3}$$\nUsing the binomial expansion for the denominator:\n$$(1+I(z))^3 = 1 + 3I(z) + 3I(z)^2 + I(z)^3$$\nSo, the target NTF is equivalent to:\n$$NTF(z) = \\frac{1}{1 + 3I(z) + 3I(z)^2 + I(z)^3}$$\nFor our derived NTF to be equal to the target NTF, their denominators must be identical. We equate the denominators as polynomials in $I(z)$:\n$$1 + (c_{1}+c_{2}+c_{3})I(z) + (c_{2}+c_{3})I(z)^2 + c_{3}I(z)^3 = 1 + 3I(z) + 3I(z)^2 + I(z)^3$$\nBy comparing the coefficients of the powers of $I(z)$, we obtain a system of linear equations for the coefficients $c_1, c_2, c_3$:\n\\begin{enumerate}\n    \\item Coefficient of $I(z)^3$: $c_{3} = 1$\n    \\item Coefficient of $I(z)^2$: $c_{2}+c_{3} = 3$\n    \\item Coefficient of $I(z)$: $c_{1}+c_{2}+c_{3} = 3$\n\\end{enumerate}\nWe solve this system by back-substitution.\nFrom equation (1), we have $c_{3} = 1$.\nSubstituting $c_3=1$ into equation (2):\n$c_{2} + 1 = 3 \\implies c_{2} = 2$.\nSubstituting $c_2=2$ and $c_3=1$ into equation (3):\n$c_{1} + 2 + 1 = 3 \\implies c_{1} + 3 = 3 \\implies c_{1} = 0$.\nThus, the required feedforward coefficients are $c_1 = 0$, $c_2 = 2$, and $c_3 = 1$.\n\nFinally, we must verify that the resulting Signal Transfer Function (STF) is approximately unity at low frequencies. The STF is given by:\n$$STF(z) = \\frac{c_{0} + c_{1}I(z) + c_{2}I(z)^2 + c_{3}I(z)^3}{1 + (c_{1}+c_{2}+c_{3})I(z) + (c_{2}+c_{3})I(z)^2 + c_{3}I(z)^3}$$\nWith the derived coefficients, the denominator is $(1+I(z))^3 = (1/(1-z^{-1}))^3$.\n$$STF(z) = \\frac{c_{0} + (0)I(z) + 2I(z)^2 + 1I(z)^3}{(1+I(z))^3} = \\big(c_{0} + 2I(z)^2 + I(z)^3\\big)(1-z^{-1})^3$$\nSubstitute $I(z) = \\frac{z^{-1}}{1-z^{-1}}$:\n$$STF(z) = \\left(c_{0} + 2\\left(\\frac{z^{-1}}{1-z^{-1}}\\right)^2 + \\left(\\frac{z^{-1}}{1-z^{-1}}\\right)^3\\right)(1-z^{-1})^3$$\n$$STF(z) = c_{0}(1-z^{-1})^3 + 2z^{-2}(1-z^{-1}) + z^{-3}$$\nTo check the low-frequency (DC) behavior, we evaluate the STF at $z=1$ (which corresponds to $z^{-1}=1$):\n$$STF(1) = c_{0}(1-1)^3 + 2(1)^{-2}(1-1) + (1)^{-3} = c_{0}(0) + 2(0) + 1 = 1$$\nThe DC gain of the STF is exactly $1$, regardless of the choice of $c_0$. This confirms that the STF is unity at low frequencies, as required.\n\nThe feedforward coefficients are $c_1=0$, $c_2=2$, and $c_3=1$.",
            "answer": "$$\\boxed{\\begin{pmatrix} 0 & 2 & 1 \\end{pmatrix}}$$"
        },
        {
            "introduction": "Moving from ideal design to real-world limitations, this practice addresses one of the most critical non-idealities in continuous-time modulators: timing jitter in the feedback DAC. You will develop a mathematical model to analyze the error introduced by this jitter and calculate its contribution to the in-band noise power for different DAC pulse shapes . This analysis is essential for understanding the performance boundaries of high-speed CT-DSMs and making informed decisions about DAC architecture.",
            "id": "4261989",
            "problem": "Consider a Continuous-Time (CT) Delta-Sigma modulator whose feedback Digital-to-Analog Converter (DAC) emits one rectangular pulse per sampling period with sample period $T_{s}$ and sampling frequency $f_{s} = \\frac{1}{T_{s}}$. Assume the Oversampling Ratio (OSR) defines the baseband signal bandwidth $B$ via $B = \\frac{f_{s}}{2\\,OSR}$. The discrete sequence of DAC levels $\\{a_{k}\\}$ is modeled as a zero-mean, wide-sense stationary innovation with variance $\\sigma_{a}^{2}$ and no discrete-time correlation across samples. The DAC edge timing exhibits independent, zero-mean, small timing uncertainty with variance $\\sigma_{t}^{2}$ per sample, denoted by $\\{\\Delta t_{k}\\}$, such that first-order linearization in time shift is valid.\n\nDefine two DAC pulse shapes:\n- Non-Return-to-Zero (NRZ): $p_{\\mathrm{NRZ}}(t)$ is a rectangular pulse of amplitude $1$ and width $T_{s}$.\n- Return-to-Zero (RZ) with $50\\%$ duty cycle: $p_{\\mathrm{RZ}}(t)$ is a rectangular pulse of amplitude $2$ and width $\\frac{T_{s}}{2}$, so that the pulse area per sample equals that of NRZ.\n\nLet the continuous-time DAC output be $y(t) = \\sum_{k} a_{k}\\,p(t - k T_{s} - \\Delta t_{k})$. Model the jitter-induced error $e(t)$ by linearizing the time shift and treat $\\{a_{k}\\}$ and $\\{\\Delta t_{k}\\}$ as independent. Using fundamental properties of Fourier transforms and Power Spectral Density (PSD) for a wide-sense stationary, random pulse-amplitude modulated process, derive the integrated baseband jitter-induced noise power for NRZ and RZ by integrating the resulting error spectrum over $[0, B]$.\n\nProvide, as a single closed-form analytic expression, the ratio of the integrated jitter-induced baseband noise powers for RZ versus NRZ as a function of $OSR$. Express the final answer only in terms of $OSR$; no numerical substitution is required. Do not round; no units are needed.",
            "solution": "First, we formulate the jitter-induced error signal, $e(t)$. The DAC output with jitter is $y(t) = \\sum_{k} a_{k}\\,p(t - k T_{s} - \\Delta t_{k})$. Linearizing this with respect to the small time shift $\\Delta t_k$ gives:\n$$y(t) \\approx \\sum_{k} a_{k} \\left( p(t - k T_{s}) - \\Delta t_{k} \\frac{d}{dt}p(t - k T_{s}) \\right)$$\nThe error signal $e(t)$ is the difference between the actual output and the ideal output:\n$$e(t) = y(t) - \\sum_{k} a_{k}\\,p(t - k T_{s}) = -\\sum_{k} (a_{k} \\Delta t_{k}) \\frac{d}{dt}p(t - k T_{s})$$\nThis error signal has the form of a Pulse-Amplitude Modulated (PAM) signal, $e(t) = \\sum_k c_k g(t-kT_s)$, with a new amplitude sequence $c_k = -a_k \\Delta t_k$ and a new pulse shape $g(t) = \\frac{d p(t)}{dt}$.\n\nSecond, we find the Power Spectral Density (PSD) of $e(t)$. For a PAM signal with a white-noise-like input sequence, the PSD is $S_e(f) = \\frac{\\sigma_c^2}{T_s} |G(f)|^2$. The sequences $\\{a_k\\}$ and $\\{\\Delta t_k\\}$ are independent, zero-mean, and uncorrelated, with variances $\\sigma_a^2$ and $\\sigma_t^2$. The variance of their product is $\\sigma_c^2 = E[(a_k \\Delta t_k)^2] = E[a_k^2]E[\\Delta t_k^2] = \\sigma_a^2 \\sigma_t^2$. The Fourier transform of $g(t)$ is $G(f) = \\mathcal{F}\\{\\frac{dp(t)}{dt}\\} = j2\\pi f P(f)$.\nThus, the error PSD is:\n$$S_e(f) = \\frac{\\sigma_a^2 \\sigma_t^2}{T_s} |j2\\pi f P(f)|^2 = \\frac{4\\pi^2 f^2 \\sigma_a^2 \\sigma_t^2}{T_s} |P(f)|^2$$\n\nThird, we find $|P(f)|^2$ for the NRZ and RZ pulses.\n-   NRZ: $p_{\\mathrm{NRZ}}(t)$ is a rect of amplitude 1, width $T_s$. $P_{\\mathrm{NRZ}}(f) = T_s \\mathrm{sinc}(\\pi f T_s) e^{-j\\pi f T_s}$.\n    $|P_{\\mathrm{NRZ}}(f)|^2 = \\left( T_s \\frac{\\sin(\\pi f T_s)}{\\pi f T_s} \\right)^2 = \\left( \\frac{\\sin(\\pi f T_s)}{\\pi f} \\right)^2$.\n-   RZ: $p_{\\mathrm{RZ}}(t)$ is a rect of amplitude 2, width $T_s/2$. $P_{\\mathrm{RZ}}(f) = 2 \\cdot \\frac{T_s}{2} \\mathrm{sinc}(\\pi f \\frac{T_s}{2}) e^{-j\\pi f T_s/2}$.\n    $|P_{\\mathrm{RZ}}(f)|^2 = \\left( T_s \\frac{\\sin(\\pi f T_s/2)}{\\pi f T_s/2} \\right)^2 = \\left( \\frac{2\\sin(\\pi f T_s/2)}{\\pi f} \\right)^2$.\n\nFourth, we write the specific PSDs.\n$$S_{e, \\mathrm{NRZ}}(f) = \\frac{4\\pi^2 f^2 \\sigma_a^2 \\sigma_t^2}{T_s} \\left( \\frac{\\sin(\\pi f T_s)}{\\pi f} \\right)^2 = \\frac{4 \\sigma_a^2 \\sigma_t^2}{T_s} \\sin^2(\\pi f T_s)$$\n$$S_{e, \\mathrm{RZ}}(f) = \\frac{4\\pi^2 f^2 \\sigma_a^2 \\sigma_t^2}{T_s} \\left( \\frac{2\\sin(\\pi f T_s/2)}{\\pi f} \\right)^2 = \\frac{16 \\sigma_a^2 \\sigma_t^2}{T_s} \\sin^2(\\pi f T_s/2)$$\n\nFifth, we compute the integrated noise power in the baseband $[0, B]$, where $B = \\frac{f_s}{2 \\cdot OSR} = \\frac{1}{2 T_s \\cdot OSR}$.\n$$P_{\\mathrm{NRZ}} = \\int_0^B S_{e, \\mathrm{NRZ}}(f) df = \\frac{4 \\sigma_a^2 \\sigma_t^2}{T_s} \\int_0^B \\sin^2(\\pi f T_s) df$$\n$$P_{\\mathrm{RZ}} = \\int_0^B S_{e, \\mathrm{RZ}}(f) df = \\frac{16 \\sigma_a^2 \\sigma_t^2}{T_s} \\int_0^B \\sin^2(\\pi f T_s/2) df$$\nThe ratio of powers is:\n$$\\frac{P_{\\mathrm{RZ}}}{P_{\\mathrm{NRZ}}} = \\frac{16 \\int_0^B \\sin^2(\\pi f T_s/2) df}{4 \\int_0^B \\sin^2(\\pi f T_s) df} = 4 \\frac{\\int_0^B \\sin^2(\\pi f T_s/2) df}{\\int_0^B \\sin^2(\\pi f T_s) df}$$\nUsing the identity $\\sin^2(x) = \\frac{1 - \\cos(2x)}{2}$, we evaluate the integrals.\nNumerator integral:\n$$\\int_0^B \\frac{1 - \\cos(\\pi f T_s)}{2} df = \\left[ \\frac{f}{2} - \\frac{\\sin(\\pi f T_s)}{2\\pi T_s} \\right]_0^B = \\frac{B}{2} - \\frac{\\sin(\\pi B T_s)}{2\\pi T_s}$$\nDenominator integral:\n$$\\int_0^B \\frac{1 - \\cos(2\\pi f T_s)}{2} df = \\left[ \\frac{f}{2} - \\frac{\\sin(2\\pi f T_s)}{4\\pi T_s} \\right]_0^B = \\frac{B}{2} - \\frac{\\sin(2\\pi B T_s)}{4\\pi T_s}$$\nThe ratio becomes:\n$$\\frac{P_{\\mathrm{RZ}}}{P_{\\mathrm{NRZ}}} = 4 \\frac{\\frac{B}{2} - \\frac{\\sin(\\pi B T_s)}{2 \\pi T_s}}{\\frac{B}{2} - \\frac{\\sin(2 \\pi B T_s)}{4 \\pi T_s}} = 4 \\frac{2 \\pi B T_s - 2 \\sin(\\pi B T_s)}{2 \\pi B T_s - \\sin(2 \\pi B T_s)}$$\n\nFinally, we substitute $B = \\frac{1}{2 T_s \\cdot OSR}$. This gives $\\pi B T_s = \\frac{\\pi}{2 \\cdot OSR}$ and $2\\pi B T_s = \\frac{\\pi}{OSR}$.\n$$\\text{Ratio} = 4 \\frac{\\frac{\\pi}{OSR} - 2\\sin\\left(\\frac{\\pi}{2 \\cdot OSR}\\right)}{\\frac{\\pi}{OSR} - \\sin\\left(\\frac{\\pi}{OSR}\\right)}$$\nThis is the final expression for the ratio as a function of $OSR$.",
            "answer": "$$\\boxed{4 \\frac{\\frac{\\pi}{OSR} - 2\\sin\\left(\\frac{\\pi}{2 \\cdot OSR}\\right)}{\\frac{\\pi}{OSR} - \\sin\\left(\\frac{\\pi}{OSR}\\right)}}$$"
        },
        {
            "introduction": "Our final practice delves into the nonlinear dynamics of delta-sigma modulators to uncover the origin of idle tones. By analyzing a first-order system under specific sinusoidal input conditions, you will derive the conditions that lead to a stable, repeating output pattern known as a limit cycle . This exercise moves beyond the linear model to build intuition about how the quantizer's inherent nonlinearity can create deterministic, spectrally-pure tones that contaminate the output spectrum.",
            "id": "4261938",
            "problem": "Consider a first-order continuous-time Delta-Sigma Modulator (DSM) with a one-bit quantizer and a Non-Return-to-Zero (NRZ) feedback Digital-to-Analog Converter (DAC), intended for integrated circuits and Electronic Design Automation (EDA) analysis. The loop filter is an ideal continuous-time integrator with transfer function $H(s) = \\frac{k}{s}$ and the quantizer operates with a zero threshold. The system is clocked at sampling frequency $f_{s}$, with sampling period $T = \\frac{1}{f_{s}}$. Let the input be a sinusoid $x(t) = A \\sin(2 \\pi f_{\\text{in}} t)$, where $A$ is the input amplitude (expressed in the same normalized units as the one-bit DAC levels $\\pm 1$) and $f_{\\text{in}}$ is the input frequency. The one-bit quantizer output is $y[n] \\in \\{+1, -1\\}$ and is held constant over each sampling interval $[nT, (n+1)T)$ by the NRZ DAC.\n\nIdle tones are known to arise in Delta-Sigma Modulators from deterministic limit cycles, in which the quantizer output repeats a finite-length pattern. In this problem, analyze the origin of such idle tones from first principles and derive a condition on the input amplitude and frequency that results in a strong tonal component at the modulator output. Specifically:\n\n- Starting from the continuous-time integrator law, derive the discrete-time state update across a single sampling interval for the integrator state $s[n]$ at the sampling instants $t = n T$.\n- Using this update, consider the strongest two-sample limit cycle in which the quantizer output alternates, i.e., $y[n] = (-1)^{n}$, and establish the necessary condition on $f_{\\text{in}}$ for the integrator state to return to its initial value after two samples.\n- Enforce the quantizer consistency requirement that the sign of the integrator state $s[n]$ matches $y[n]$ at each sampling instant and determine the largest input amplitude $A$ that still admits this alternating limit cycle.\n\nExpress your final answer as a two-entry row matrix containing, in order: the largest admissible amplitude $A$ and the corresponding input frequency $f_{\\text{in}}$ that produces the strongest tonal component. Use the unit Hertz for the frequency. No rounding is required; provide exact expressions.",
            "solution": "Let $s(t)$ be the integrator state. Its dynamics are governed by $\\frac{ds(t)}{dt} = k(x(t) - y_{dac}(t))$. For $t \\in [nT, (n+1)T)$, the NRZ DAC holds the output at $y_{dac}(t) = y[n]$.\n\n**1. Derive the Discrete-Time State Update**\nWe integrate the state equation from $t=nT$ to $t=(n+1)T$ to find the state $s[n+1] \\equiv s((n+1)T)$:\n$$ s[n+1] = s[n] + \\int_{nT}^{(n+1)T} k(A \\sin(2\\pi f_{\\text{in}}\\tau) - y[n]) d\\tau $$\n$$ s[n+1] = s[n] + k \\left( A \\left[ -\\frac{\\cos(2\\pi f_{\\text{in}}\\tau)}{2\\pi f_{\\text{in}}} \\right]_{nT}^{(n+1)T} - y[n]T \\right) $$\n$$ s[n+1] = s[n] + k \\left( \\frac{A}{2\\pi f_{\\text{in}}} (\\cos(2\\pi f_{\\text{in}}nT) - \\cos(2\\pi f_{\\text{in}}(n+1)T)) - y[n]T \\right) $$\n\n**2. Condition for a Two-Sample Limit Cycle**\nWe consider the alternating output sequence $y[n] = (-1)^n$. For a stable limit cycle of period 2, the state must repeat every two samples, i.e., $s[n+2] = s[n]$. This implies that the total change in state over two periods is zero:\n$$ \\int_{nT}^{(n+2)T} k(x(\\tau) - y_{dac}(\\tau)) d\\tau = 0 $$\n$$ \\int_{nT}^{(n+2)T} x(\\tau) d\\tau - \\int_{nT}^{(n+1)T} y[n] d\\tau - \\int_{(n+1)T}^{(n+2)T} y[n+1] d\\tau = 0 $$\nSince $y[n+1] = -y[n]$, the feedback terms cancel:\n$$ \\int_{nT}^{(n+2)T} x(\\tau) d\\tau - T y[n] - T(-y[n]) = 0 \\implies \\int_{nT}^{(n+2)T} x(\\tau) d\\tau = 0 $$\nThis means the average value of the input signal over two clock periods must be zero. For $x(t) = A \\sin(2\\pi f_{\\text{in}} t)$, this is true if an integer number of half-cycles of the sine wave fits into the $2T$ interval. The strongest tone occurs when the input frequency matches the limit cycle frequency, which is $f_s/2$. So we set $f_{\\text{in}} = f_s/2 = 1/(2T)$. This corresponds to exactly one full cycle of the input sine wave over the $2T$ interval, ensuring the integral is zero.\n$$ f_{\\text{in}} = \\frac{f_s}{2} $$\n\n**3. Quantizer Consistency and Largest Amplitude**\nWith $f_{\\text{in}} = f_s/2$, the input is $x(t) = A \\sin(\\pi f_s t) = A \\sin(\\pi t/T)$. Let's re-evaluate the integral of the input over one period:\n$$ \\int_{nT}^{(n+1)T} A \\sin(\\frac{\\pi \\tau}{T}) d\\tau = A \\left[ -\\frac{T}{\\pi} \\cos(\\frac{\\pi \\tau}{T}) \\right]_{nT}^{(n+1)T} = -\\frac{AT}{\\pi}[\\cos(\\pi(n+1)) - \\cos(\\pi n)] $$\n$$ = -\\frac{AT}{\\pi}[(-1)^{n+1} - (-1)^n] = -\\frac{AT}{\\pi}[-2(-1)^n] = \\frac{2AT}{\\pi}(-1)^n $$\nThe state update equation becomes:\n$$ s[n+1] = s[n] + k \\left( \\frac{2AT}{\\pi}(-1)^n - y[n]T \\right) $$\nFor the $y[n]=(-1)^n$ limit cycle, this is:\n$$ s[n+1] = s[n] + k T (-1)^n \\left(\\frac{2A}{\\pi} - 1\\right) $$\nThe quantizer's decision is $y[n] = \\text{sgn}(s[n])$. For the alternating cycle to be self-sustaining, we must have $y[0]=+1$ and $y[1]=-1$. Assuming the quantizer threshold is at 0, this requires $s[0] \\ge 0$ and $s[1] < 0$.\nUsing the update rule for $n=0$:\n$$ s[1] = s[0] + k T \\left(\\frac{2A}{\\pi} - 1\\right) $$\nWe must satisfy $s[1]  0$:\n$$ s[0] + k T \\left(\\frac{2A}{\\pi} - 1\\right)  0 \\implies s[0]  -k T \\left(\\frac{2A}{\\pi} - 1\\right) = k T \\left(1 - \\frac{2A}{\\pi}\\right) $$\nCombining with the condition $s[0] \\ge 0$, we have a valid range for the initial state $s[0]$ if:\n$$ 0 \\le s[0]  k T \\left(1 - \\frac{2A}{\\pi}\\right) $$\nFor this range to exist (i.e., for the upper bound to be greater than the lower bound), we need:\n$$ k T \\left(1 - \\frac{2A}{\\pi}\\right) > 0 $$\nSince $k>0$ and $T>0$, this simplifies to:\n$$ 1 - \\frac{2A}{\\pi} > 0 \\implies 1 > \\frac{2A}{\\pi} \\implies A  \\frac{\\pi}{2} $$\nThe limit cycle is possible for any amplitude $A$ in the range $[0, \\pi/2)$. The largest admissible amplitude is the supremum of this set.\n$$ A = \\frac{\\pi}{2} $$\nThe two results are $A = \\pi/2$ and $f_{\\text{in}} = f_s/2$.",
            "answer": "$$ \\boxed{\n\\begin{pmatrix}\n\\frac{\\pi}{2}  \\frac{f_s}{2}\n\\end{pmatrix}\n} $$"
        }
    ]
}