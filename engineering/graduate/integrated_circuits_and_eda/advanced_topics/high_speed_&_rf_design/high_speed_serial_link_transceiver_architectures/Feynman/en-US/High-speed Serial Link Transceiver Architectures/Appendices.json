{
    "hands_on_practices": [
        {
            "introduction": "A robust high-speed link begins with a well-designed transmitter capable of launching a clean signal into the channel. The final output stage is critical, as it must drive the transmission line with a specific impedance to prevent reflections that would otherwise corrupt the signal. This first exercise  focuses on the fundamental analysis of a Current-Mode Logic (CML) differential output driver, a cornerstone of modern transceiver design. By applying small-signal analysis, you will derive the output impedance of this stage and determine the precise load resistance required for impedance matching, connecting device-level parameters to system-level performance.",
            "id": "4276400",
            "problem": "A high-speed serial link transmitter employs a differential Current-Mode Logic (CML) output stage that steers a constant bias current $I$ through one of two identical metal-oxide-semiconductor field-effect transistors (MOSFETs) forming a differential pair. Each drain node is connected to the positive supply rail through a load resistor $R_L$. For small-signal analysis, each MOSFET is modeled by its output resistance $r_o$ due to channel-length modulation, and the tail current source is ideal with infinite small-signal impedance. The positive supply rail is treated as small-signal ground. The gate nodes are held at a fixed bias (no small-signal excitation), and the transconductance is not to be invoked directly in the impedance calculation.\n\nUsing first principles of small-signal linearization and network equivalences:\n- Define the differential output port as the two drain nodes of the differential pair.\n- Derive the closed-form expression for the small-signal differential output resistance, $R_{\\text{out, diff}}$, seen between the two drain nodes, as a function of $R_L$ and $r_o$.\n- Then, impose the source impedance matching criterion at the differential port, namely $R_{\\text{out, diff}}=Z_0$, and solve for the required $R_L$ in terms of $r_o$ for a transmission line with characteristic impedance $Z_0=50\\ \\Omega$ at the differential port.\n\nExpress both the derived $R_{\\text{out, diff}}$ and the required $R_L$ as closed-form analytic expressions in ohms. No numerical rounding is required. The final answer must be provided as a single composite result.",
            "solution": "The problem requires the derivation of the small-signal differential output resistance, $R_{\\text{out, diff}}$, of a Current-Mode Logic (CML) output stage, and subsequently to determine the value of the load resistor, $R_L$, required for impedance matching to a differential transmission line.\n\nFirst, let us establish the small-signal equivalent circuit based on the provided specifications. The CML stage consists of a differential pair of identical MOSFETs. Let us denote them as $M_1$ and $M_2$. Each has a load resistor $R_L$ connected from its drain to the positive supply rail. The problem states that the positive supply rail is to be treated as a small-signal ground. Therefore, each $R_L$ is connected between the respective drain node and small-signal ground.\n\nThe MOSFETs themselves are modeled by their output resistance $r_o$ due to channel-length modulation. The problem specifies that the gate nodes are at a fixed bias, meaning they are at AC ground ($v_g = 0$). It also states that the tail current source is ideal, which implies it has infinite small-signal impedance and thus acts as an open circuit in the small-signal model. The sources of $M_1$ and $M_2$ are tied together and connected to this ideal current source. The instruction that transconductance ($g_m$) is not to be invoked directly is a key directive. For a MOSFET's small-signal model, the current source is $g_m v_{gs}$. As the gate voltage is zero ($v_g = 0$), $v_{gs} = v_g - v_s = -v_s$. The validity of ignoring the transconductance effect relies on the condition $v_s = 0$.\n\nTo calculate the differential output resistance $R_{\\text{out, diff}}$, we consider the impedance seen between the two drain nodes, $D_1$ and $D_2$. The circuit is fully symmetric. For a differential signal analysis, we can utilize the half-circuit concept. When a differential signal is applied to the output nodes (e.g., by a test source), the common-source node, due to symmetry, remains at a constant potential. It is a virtual ground for differential signals.\n\nLet us analyze one half-circuit, for instance, the one associated with $M_1$. The half-circuit consists of the drain node $D_1$. The load resistor $R_L$ is connected between $D_1$ and ground. The MOSFET $M_1$ is connected between $D_1$ (drain) and the common-source node (virtual ground). The gate of $M_1$ is at AC ground. The small-signal model for $M_1$ includes its output resistance $r_o$ between its drain and source, and a controlled current source $g_m v_{gs}$ from drain to source. In this half-circuit, both the gate ($v_g=0$) and the source ($v_s=0$, virtual ground) are at ground potential. Therefore, the gate-to-source voltage is $v_{gs} = v_g - v_s = 0 - 0 = 0$. This makes the controlled current source $g_m v_{gs} = 0$, meaning it is an open circuit. The small-signal model of the MOSFET in the half-circuit thus simplifies to just its output resistance, $r_o$, connected between the drain $D_1$ and ground.\n\nThe output resistance of this single-ended half-circuit, $R_{\\text{out, SE}}$, is the parallel combination of the load resistor $R_L$ and the MOSFET's output resistance $r_o$.\n$$ R_{\\text{out, SE}} = R_L \\parallel r_o = \\frac{R_L r_o}{R_L + r_o} $$\nThe total differential output resistance $R_{\\text{out, diff}}$ is the resistance seen between nodes $D_1$ and $D_2$. This is equivalent to traveling from $D_1$ to ground through its half-circuit impedance, and then from ground to $D_2$ through the identical half-circuit impedance of the other side. Thus, $R_{\\text{out, diff}}$ is the sum of the output resistances of the two half-circuits.\n$$ R_{\\text{out, diff}} = R_{\\text{out, SE}} + R_{\\text{out, SE}} = 2 R_{\\text{out, SE}} $$\nSubstituting the expression for $R_{\\text{out, SE}}$, we obtain the first required expression:\n$$ R_{\\text{out, diff}} = 2 \\left( \\frac{R_L r_o}{R_L + r_o} \\right) $$\n\nNext, we impose the source impedance matching criterion, which states that the differential output resistance of the driver must match the characteristic impedance of the differential transmission line, $Z_0$. The problem provides $Z_0 = 50 \\ \\Omega$.\n$$ R_{\\text{out, diff}} = Z_0 $$\nWe set our derived expression equal to $Z_0$:\n$$ 2 \\left( \\frac{R_L r_o}{R_L + r_o} \\right) = Z_0 $$\nNow, we must solve this equation for $R_L$ in terms of $r_o$ and $Z_0$.\n$$ \\frac{R_L r_o}{R_L + r_o} = \\frac{Z_0}{2} $$\nTo solve for $R_L$, it is convenient to work with admittances (reciprocal of impedances). Let $Y_L = 1/R_L$ and $y_o = 1/r_o$. The parallel combination corresponds to the sum of admittances:\n$$ \\frac{1}{\\frac{Z_0}{2}} = \\frac{1}{R_L} + \\frac{1}{r_o} $$\n$$ \\frac{2}{Z_0} = Y_L + y_o $$\nSolving for $Y_L$:\n$$ Y_L = \\frac{2}{Z_0} - y_o = \\frac{2}{Z_0} - \\frac{1}{r_o} $$\n$$ Y_L = \\frac{2 r_o - Z_0}{Z_0 r_o} $$\nNow, we find $R_L$ by taking the reciprocal of $Y_L$:\n$$ R_L = \\frac{1}{Y_L} = \\frac{Z_0 r_o}{2 r_o - Z_0} $$\nThis is the general expression for $R_L$. The problem asks for this value when $Z_0 = 50 \\ \\Omega$. Substituting this value:\n$$ R_L = \\frac{50 r_o}{2 r_o - 50} $$\nThis is the second required expression. Both results are presented as closed-form analytic expressions.\nThe final composite answer will contain the derived expression for $R_{\\text{out, diff}}$ and the specific expression for $R_L$ required for matching to a $50 \\ \\Omega$ line.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 2 \\frac{R_L r_o}{R_L + r_o}  \\frac{50 r_o}{2 r_o - 50} \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "Once the signal enters the channel, it is subject to various impairments. Many systems use AC coupling to provide DC voltage isolation between the transmitter and receiver, but this introduces a high-pass filtering effect that can distort long sequences of identical bits. This phenomenon, known as baseline wander, causes the signal level to \"droop\" over time, directly reducing the voltage margin at the receiver's decision slicer. This practice  guides you through a first-principles analysis to quantify this vertical eye closure, building a crucial link between the AC coupling time constant and the link's tolerance to low-frequency data patterns.",
            "id": "4276405",
            "problem": "A serial link receiver employs Alternating Current (AC) coupling implemented as a first-order linear network that blocks direct current while passing sufficiently high-frequency components. Consider a baseband Non-Return-to-Zero (NRZ) signal whose instantaneous level takes values $+V$ or $-V$ and is sampled by an ideal slicer at the center of each Unit Interval (UI). The AC coupling network is well-modeled as a first-order high-pass system with time constant $\\tau$, and the remainder of the channel is assumed ideal and free of intersymbol interference. A worst-case data pattern consists of a run of $N$ consecutive identical symbols preceded by the opposite-level symbol; for example, a run of $N$ consecutive $+V$ symbols immediately following a $-V$ symbol.\n\nExplain, using first principles for linear time-invariant circuits, how AC coupling produces baseline wander under such long run-length sequences. Then, under the sampling-at-bit-center model, derive a closed-form analytic expression for the fractional vertical eye closure contributed solely by AC coupling over the run, defined as\n$$\\frac{y_{1} - y_{N}}{y_{1}},$$\nwhere $y_{k}$ is the receiver input level at the sampler at the center of the $k$-th UI of the run ($k = 1$ corresponds to the first symbol of the run). Express your final answer as a function of $N$, $\\tau$, and the UI duration $T$, and provide the expression in closed form. No numerical evaluation is required, and no other impairments are present. The final expression must be dimensionless.",
            "solution": "An AC coupling network is, by definition, a high-pass filter. Its fundamental purpose is to block the direct current (DC) component of a signal while allowing alternating current (AC) components to pass. A first-order high-pass filter has a transfer function $H(s)$ with a zero at $s=0$ (DC frequency), mathematically represented as $H(s) = \\frac{s\\tau}{1+s\\tau}$, where $\\tau$ is the time constant of the filter. A long run of consecutive identical symbols, such as a sequence of $N$ bits at voltage level $+V$, contains significant low-frequency energy and locally resembles a DC signal. When this long run is passed through the high-pass filter, its low-frequency components are attenuated.\n\nIn the time domain, this attenuation manifests as an exponential decay of the signal's voltage level towards zero, which is the long-term average voltage of a DC-blocked signal. This phenomenon is known as \"baseline wander\" or \"droop.\" For a run of high symbols (e.g., $+V$), the output voltage starts near its peak value but then droops downwards toward zero. This decay reduces the voltage difference between the signal level and the slicing threshold at the receiver, thereby shrinking the vertical opening of the data eye and reducing the noise margin.\n\nTo derive the fractional vertical eye closure, we model the AC coupling network as a first-order LTI high-pass filter. We consider a worst-case pattern where the input transitions from $-V$ to $+V$ at time $t=0$, after having been at $-V$ for a time much longer than $\\tau$. The response of the filter to this effective step of amplitude $2V$ is an exponential decay:\n$$v_{out}(t) = 2V \\exp\\left(-\\frac{t}{\\tau}\\right)$$\nThis expression describes the voltage at the receiver input during the run of $N$ identical symbols. The receiver samples this signal at the center of each Unit Interval (UI) of duration $T$. The sampling instant for the $k$-th symbol is at the center of this interval:\n$$t_k = (k-1)T + \\frac{T}{2} = \\left(k - \\frac{1}{2}\\right)T$$\nThe sampled voltage level for the $k$-th symbol, $y_k$, is the value of $v_{out}(t)$ at time $t_k$:\n$$y_k = v_{out}(t_k) = 2V \\exp\\left(-\\frac{\\left(k - \\frac{1}{2}\\right)T}{\\tau}\\right)$$\nWe find the sampled voltages for the first symbol ($k=1$) and the last symbol ($k=N$) of the run.\n$$y_1 = 2V \\exp\\left(-\\frac{\\left(1 - \\frac{1}{2}\\right)T}{\\tau}\\right) = 2V \\exp\\left(-\\frac{T}{2\\tau}\\right)$$\n$$y_N = 2V \\exp\\left(-\\frac{\\left(N - \\frac{1}{2}\\right)T}{\\tau}\\right)$$\nThe fractional vertical eye closure is defined as $\\frac{y_1 - y_N}{y_1}$, which simplifies to $1 - \\frac{y_N}{y_1}$. Substituting the expressions for $y_1$ and $y_N$:\n$$\\text{Fractional Closure} = 1 - \\frac{2V \\exp\\left(-\\frac{\\left(N - \\frac{1}{2}\\right)T}{\\tau}\\right)}{2V \\exp\\left(-\\frac{T}{2\\tau}\\right)}$$\nThe $2V$ term cancels. Simplifying the exponential terms gives the final result:\n$$\\text{Fractional Closure} = 1 - \\exp\\left(-\\frac{\\left(N - \\frac{1}{2}\\right)T}{\\tau} + \\frac{T}{2\\tau}\\right) = 1 - \\exp\\left(-\\frac{(N-1)T}{\\tau}\\right)$$\nThis is the closed-form, dimensionless expression for the fractional vertical eye closure due to AC coupling.",
            "answer": "$$ \\boxed{1 - \\exp\\left(-\\frac{(N-1)T}{\\tau}\\right)} $$"
        },
        {
            "introduction": "In addition to vertical eye closure from voltage-domain impairments, horizontal eye closure from timing jitter is a primary limiter of link performance. Jitter is a statistical process arising from both bounded, data-dependent effects and unbounded random noise. This final exercise  delves into the industry-standard Dual-Dirac model for jitter analysis, which elegantly separates these components. You will learn how to convolve deterministic jitter (DJ) and random jitter (RJ) distributions to predict the total jitter (TJ) at the ultra-low probabilities required for reliable communication, a core skill in signal integrity engineering.",
            "id": "4276396",
            "problem": "A high-speed serial link transceiver exhibits timing uncertainty at the decision point due to the superposition of bounded, pattern-dependent mechanisms and unbounded, noise-driven mechanisms. In a widely used modeling approach for the crossing-time distribution, the bounded component is represented by two impulses separated in time, and the unbounded component is represented by a zero-mean Gaussian random variable. This yields a crossing-time distribution that is the sum of two identical Gaussian lobes centered symmetrically about zero. \n\nStarting from the following foundations:\n- The bounded timing component arises from mechanisms such as intersymbol interference and duty-cycle distortion in a linear time-invariant channel, which produce a finite, repeatable shift of nominal crossing instants. Model this deterministic component as two Dirac delta impulses separated by a measured peak-to-peak spacing.\n- The unbounded timing component arises from many small, independent noise sources (e.g., thermal noise and phase noise), and by the Central Limit Theorem is well approximated as a Gaussian random variable with a measured standard deviation.\n- The upper-tail probability of the standard normal distribution is defined by the $Q$-function, $Q(x) = \\frac{1}{\\sqrt{2\\pi}} \\int_{x}^{\\infty} \\exp\\!\\left(-\\frac{t^{2}}{2}\\right) \\, dt$.\n\nDerive, from these bases, why modeling the crossing-time probability density as the convolution of two Dirac impulses with a Gaussian is appropriate, and how the interval of crossing times that contains a fraction $1 - \\mathrm{BER}$ of events leads to a closed-form dependence on the $Q$-function. Then, use the measured parameters below to estimate the total jitter at bit error rate:\n\n- Peak-to-peak Deterministic Jitter (DJ), denoted $D_J^{\\mathrm{pp}}$: $17.3$ ps.\n- Random Jitter (RJ) standard deviation, denoted $\\sigma_{RJ}$: $0.45$ ps.\n- Bit Error Rate (BER), denoted $\\mathrm{BER}$: $10^{-12}$.\n\nCompute the total jitter at $\\mathrm{BER} = 10^{-12}$ implied by this model. Express your final answer in picoseconds and round your answer to four significant figures.",
            "solution": "The total timing jitter, $T_J$, is the superposition of an independent deterministic component, $J_D$, and a random component, $J_R$. The probability density function (PDF) of the total jitter, $p_{TJ}(t)$, is the convolution of the individual PDFs.\n\nFirst, we establish the PDFs. The deterministic jitter (DJ) is modeled as two Dirac delta impulses of equal weight located at $t = \\pm D_J^{\\mathrm{pp}}/2$:\n$$p_{DJ}(t) = \\frac{1}{2} \\delta\\left(t + \\frac{D_J^{\\mathrm{pp}}}{2}\\right) + \\frac{1}{2} \\delta\\left(t - \\frac{D_J^{\\mathrm{pp}}}{2}\\right)$$\nThe random jitter (RJ) is modeled as a zero-mean Gaussian with standard deviation $\\sigma_{RJ}$:\n$$p_{RJ}(t) = \\frac{1}{\\sqrt{2\\pi}\\sigma_{RJ}} \\exp\\left(-\\frac{t^2}{2\\sigma_{RJ}^2}\\right)$$\nThe convolution $p_{TJ}(t) = p_{DJ}(t) * p_{RJ}(t)$ yields the sum of two identical Gaussian distributions centered at the locations of the Dirac impulses. This is the \"Dual-Dirac\" model:\n$$p_{TJ}(t) = \\frac{1}{2} p_{RJ}\\left(t + \\frac{D_J^{\\mathrm{pp}}}{2}\\right) + \\frac{1}{2} p_{RJ}\\left(t - \\frac{D_J^{\\mathrm{pp}}}{2}\\right)$$\nNext, we relate this to the Bit Error Rate (BER). The total jitter, $T_J$, is the peak-to-peak time interval such that the probability of the jitter magnitude $|t|$ exceeding $T_J/2$ is equal to the BER. Due to the symmetry of $p_{TJ}(t)$, this is:\n$$\\mathrm{BER} = 2 \\int_{T_J/2}^{\\infty} p_{TJ}(t) \\,dt$$\nSubstituting the expression for $p_{TJ}(t)$ and using the definition of the Q-function, we find:\n$$\\mathrm{BER} = \\int_{T_J/2}^{\\infty} p_{RJ}\\left(t + \\frac{D_J^{\\mathrm{pp}}}{2}\\right) \\,dt + \\int_{T_J/2}^{\\infty} p_{RJ}\\left(t - \\frac{D_J^{\\mathrm{pp}}}{2}\\right) \\,dt$$\n$$ \\mathrm{BER} = Q\\left(\\frac{T_J/2 + D_J^{\\mathrm{pp}}/2}{\\sigma_{RJ}}\\right) + Q\\left(\\frac{T_J/2 - D_J^{\\mathrm{pp}}/2}{\\sigma_{RJ}}\\right) $$\nFor low BER values, the first Q-function term is negligible compared to the second. Thus, we can approximate:\n$$ \\mathrm{BER} \\approx Q\\left(\\frac{T_J - D_J^{\\mathrm{pp}}}{2\\sigma_{RJ}}\\right) $$\nInverting this relationship gives us a formula for the total jitter:\n$$ T_J \\approx D_J^{\\mathrm{pp}} + 2 \\sigma_{RJ} Q^{-1}(\\mathrm{BER}) $$\nFinally, we compute the numerical value for $T_J$ using the given parameters: $D_J^{\\mathrm{pp}} = 17.3$ ps, $\\sigma_{RJ} = 0.45$ ps, and $\\mathrm{BER} = 10^{-12}$.\nWe need to find the value of $\\alpha = Q^{-1}(10^{-12})$. Using standard numerical evaluation, we find:\n$$ \\alpha = Q^{-1}(10^{-12}) \\approx 7.03448 $$\nNow we substitute the values into the derived expression for $T_J$:\n$$ T_J \\approx 17.3 \\, \\mathrm{ps} + 2 \\times (0.45 \\, \\mathrm{ps}) \\times (7.03448) $$\n$$ T_J \\approx 17.3 \\, \\mathrm{ps} + 6.331032 \\, \\mathrm{ps} $$\n$$ T_J \\approx 23.631032 \\, \\mathrm{ps} $$\nRounding to four significant figures gives:\n$$ T_J \\approx 23.63 \\, \\mathrm{ps} $$",
            "answer": "$$\\boxed{23.63}$$"
        }
    ]
}