{
    "hands_on_practices": [
        {
            "introduction": "存内计算的主要动机是通过大幅减少数据移动来提升计算的能效。本练习将一个存内计算操作的总能耗分解为其基本组成部分，例如数模转换器（DAC）、存储阵列、模数转换器（ADC）和外围电路。通过这项练习，您将掌握“分摊”这一关键概念，即像ADC这样的固定开销能量成本是如何被大规模并行计算有效稀释的，从而深入理解存内计算架构的能效优势来源。",
            "id": "4276912",
            "problem": "考虑一个阻性交叉阵列内存计算宏，它沿一列执行点积运算，该列包含 $N$ 行。其中，每一行以电导的形式存储一个 $8$ 位权重，并由一个编码为电压的 $8$ 位输入驱动。一个数模转换器 (DAC) 根据数字输入生成行电压，阵列通过欧姆传导和列上的电流求和来执行模拟乘积累加 (MAC) 操作，并且每个点积运算由一个模数转换器 (ADC) 将列电流数字化。外围电路（例如，字线驱动器、采样保持电路、参考生成电路）在每次列操作中都会产生能量成本。\n\n使用以下数据，所有数据均针对 $8$ 位分辨率指定：\n- 每个输入元件激活的 DAC 能量：$E_{\\text{DAC}} = 0.2\\,\\text{pJ}$。\n- 每次模拟 MAC 的阵列传导能量：$E_{\\text{array}} = 0.05\\,\\text{pJ}/\\text{MAC}$。\n- 每次列转换的 ADC 能量：$E_{\\text{ADC}} = 1\\,\\text{pJ}/\\text{conv}$。\n- 每次列操作的外围电路能量：$E_{\\text{periph}} = 0.1\\,\\text{pJ}$。\n- 每列的行数：$N = 256$。\n\n从总能量是独立子操作能量之和，并且列级能量被点积运算并行产生的 MAC 数量分摊这一原则出发，推导沿一列的每个有效 $8$ 位 MAC 的总能量表达式，并根据给定参数计算其值。以皮焦耳 ($\\text{pJ}$) 为单位表示您的最终答案，并将结果四舍五入到六位有效数字。",
            "solution": "问题陈述已经过验证，被认为是有效的。它在科学上基于集成电路能耗原理，特别是针对内存计算架构。问题提法清晰，提供了所有必要的参数和明确的目标。数据在量纲上一致，并且对于现代半导体技术而言是物理上现实的。\n\n目标是推导一个阻性交叉阵列中每次有效 $8$ 位乘积累加 (MAC) 操作的总能量表达式，并计算其数值。\n\n如问题所述，基本原则是一次列操作的总能量（表示为 $E_{\\text{total\\_col}}$）是其组成部分所消耗能量的总和。所讨论的操作是向量-矩阵乘法，具体来说是输入电压向量与阵列一列上存储的电导向量之间的点积。\n\n一次完整列操作的总能量的组成部分如下：\n\n$1$. 数模转换器 (DAC) 能量：$N$ 行中的每一行都由一个 DAC 生成的输入电压驱动。由于所有 $N$ 行都被激活以计算点积，DAC 消耗的总能量是每次 DAC 激活的能量 $E_{\\text{DAC}}$ 乘以行数 $N$。\n$$ E_{\\text{DAC\\_total}} = N \\cdot E_{\\text{DAC}} $$\n\n$2$. 阵列传导能量：核心的乘积累加操作发生在阻性阵列内部。对于列中的 $N$ 个单元中的每一个，都会执行一次乘法运算（欧姆定律：$I = V \\cdot G$）。问题给出了每次模拟 MAC 的能量 $E_{\\text{array}}$。由于 $N$ 个这样的操作并行发生，总的阵列能量是：\n$$ E_{\\text{array\\_total}} = N \\cdot E_{\\text{array}} $$\n\n$3$. 模数转换器 (ADC) 能量：来自列中所有 $N$ 个单元的电流在列线的底部被求和 (Kirchhoff 电流定律)。这个单一的、加总的模拟电流随后被一个 ADC 转换回数字值。这是每次列操作的固定能量成本。\n$$ E_{\\text{ADC\\_total}} = E_{\\text{ADC}} $$\n\n$4$. 外围电路能量：列操作需要额外的电路，如字线驱动器、参考电压生成器和采样保持电路。它们的总能量成本被指定为每次列操作的单个值。\n$$ E_{\\text{periph\\_total}} = E_{\\text{periph}} $$\n\n单次列操作的总能量是这些组成部分的总和：\n$$ E_{\\text{total\\_col}} = E_{\\text{DAC\\_total}} + E_{\\text{array\\_total}} + E_{\\text{ADC\\_total}} + E_{\\text{periph\\_total}} $$\n$$ E_{\\text{total\\_col}} = N \\cdot E_{\\text{DAC}} + N \\cdot E_{\\text{array}} + E_{\\text{ADC}} + E_{\\text{periph}} $$\n\n问题要求的是每次有效 $8$ 位 MAC 的能量，我们将其表示为 $E_{\\text{MAC\\_eff}}$。单次列操作执行 $N$ 个并行的 $8$ 位 $\\times$ $8$ 位乘积累加操作。因此，为了找到每次 MAC 的有效能量，我们必须将总的列能量分摊到所执行的 $N$ 个操作上。\n$$ E_{\\text{MAC\\_eff}} = \\frac{E_{\\text{total\\_col}}}{N} $$\n代入 $E_{\\text{total\\_col}}$ 的表达式：\n$$ E_{\\text{MAC\\_eff}} = \\frac{N \\cdot E_{\\text{DAC}} + N \\cdot E_{\\text{array}} + E_{\\text{ADC}} + E_{\\text{periph}}}{N} $$\n通过将除以 $N$ 分配到各项，可以简化此表达式：\n$$ E_{\\text{MAC\\_eff}} = E_{\\text{DAC}} + E_{\\text{array}} + \\frac{E_{\\text{ADC}} + E_{\\text{periph}}}{N} $$\n这个最终的符号表达式表明，DAC 和阵列的每次 MAC 能量是直接成本，而 ADC 和外围设备的共享的、列级开销则被分摊到 $N$ 个并行操作中。\n\n现在，我们代入给定的数值：\n- 每列的行数：$N = 256$\n- 每次激活的 DAC 能量：$E_{\\text{DAC}} = 0.2\\,\\text{pJ}$\n- 每次 MAC 的阵列能量：$E_{\\text{array}} = 0.05\\,\\text{pJ}$\n- 每次转换的 ADC 能量：$E_{\\text{ADC}} = 1\\,\\text{pJ}$\n- 每次列操作的外围电路能量：$E_{\\text{periph}} = 0.1\\,\\text{pJ}$\n\n将这些值代入推导出的 $E_{\\text{MAC\\_eff}}$ 公式中：\n$$ E_{\\text{MAC\\_eff}} = 0.2 + 0.05 + \\frac{1 + 0.1}{256} $$\n$$ E_{\\text{MAC\\_eff}} = 0.25 + \\frac{1.1}{256} $$\n执行除法运算：\n$$ \\frac{1.1}{256} = 0.004296875 $$\n现在，完成加法运算：\n$$ E_{\\text{MAC\\_eff}} = 0.25 + 0.004296875 = 0.254296875\\,\\text{pJ} $$\n问题要求最终答案四舍五入到六位有效数字。前六位有效数字是 $2, 5, 4, 2, 9, 6$。第七位数字是 $8$，大于或等于 $5$，所以我们将第六位数字向上取整。\n$$ E_{\\text{MAC\\_eff}} \\approx 0.254297\\,\\text{pJ} $$",
            "answer": "$$\\boxed{0.254297}$$"
        },
        {
            "introduction": "在评估了存内计算的能效模型后，我们必须深入分析其核心——交叉阵列本身的模拟信号特性。本练习应用基本的欧姆定律和基尔霍夫电流定律，引导您计算在最坏情况下（即最大输入电压和最大电导）阵列所能产生的最大输出电流，并由此确定其动态范围。这项实践对于设计能够精确处理阵列输出信号而不产生削波或饱和的读出电路（如读出放大器和ADC）是至关重要的基础。",
            "id": "4276926",
            "problem": "考虑一个在集成电路和电子设计自动化（EDA）背景下，用于存内计算的无源电阻交叉阵列。该交叉阵列有 $128$ 行和 $128$ 列，每个交叉点包含一个电导为 $G_{ij}$ 的电阻元件，连接第 $i$ 行和第 $j$ 列。第 $i$ 行由输入电压 $V_{i}$ 驱动，每一列对所有连接器件的电流求和，并由一个读出放大器读取。假设器件呈欧姆行为且导线理想，因此基尔霍夫电流定律（KCL）和欧姆定律适用，无寄生损耗。\n\n行输入电压在 $[0,\\,0.2]\\,\\text{V}$ 区间内被均匀量化为 $N=8$ 位，包括端点 $0\\,\\text{V}$ 和 $0.2\\,\\text{V}$。每个器件的电导被限制在 $[1,\\,100]\\,\\mu\\text{S}$ 区间内，并可在此范围内的任意值上设定。列电流是由各自的行电压驱动的器件电流之和，即对于给定的列 $j$，\n$$\nI_{j}=\\sum_{i=1}^{128} G_{ij} V_{i}.\n$$\n以这些事实为基本依据，确定：\n1. 在所有允许的 $\\{V_{i}\\}$ 和 $\\{G_{ij}\\}$ 条件下，可能的最大列电流 $I_{\\max}$。\n2. 读出放大器所需的动态范围，此处定义为最大可能列电流与最小非零列电流之比 $\\mathcal{D}$。该最小非零列电流是在给定输入量化和电导边界条件下，交叉阵列所能产生的。对于最小非零电流，考虑在任何允许配置下可实现的最小严格为正的列电流。\n\n将最大列电流以毫安（mA）表示。将动态范围表示为无量纲比率。将两个量都四舍五入到四位有效数字。",
            "solution": "我们从欧姆定律和基尔霍夫电流定律开始。对于列 $j$，其电流是每个行-器件对所贡献电流的总和：\n$$\nI_{j}=\\sum_{i=1}^{128} I_{ij}=\\sum_{i=1}^{128} G_{ij} V_{i},\n$$\n其中 $I_{ij}=G_{ij} V_{i}$ 是根据交叉点 $(i,j)$ 处每个电阻器件的欧姆定律得出的。\n\n为获得最大可能列电流 $I_{\\max}$，我们在约束条件 $V_{i} \\in [0,\\,0.2]\\,\\text{V}$（量化的）和 $G_{ij} \\in [1,\\,100]\\,\\mu\\text{S}$ 下，最大化每一项 $G_{ij} V_{i}$。由于 $G_{ij}$ 和 $V_{i}$ 均以乘积形式出现，且求和对于 $i$ 是可分离的，因此当所有的 $V_{i}$ 取其允许的最大值，且所有的 $G_{ij}$ 均处于其上界时，总和达到最大值：\n$$\nV_{i}^{\\max}=0.2\\,\\text{V}, \\quad G_{ij}^{\\max}=100\\,\\mu\\text{S}.\n$$\n因此，\n$$\nI_{\\max}=\\sum_{i=1}^{128} G_{ij}^{\\max} V_{i}^{\\max} = \\sum_{i=1}^{128} \\left(100 \\times 10^{-6}\\,\\text{S}\\right) \\left(0.2\\,\\text{V}\\right).\n$$\n每一项等于\n$$\n\\left(100 \\times 10^{-6}\\right)\\left(0.2\\right)\\,\\text{A} = 20 \\times 10^{-6}\\,\\text{A},\n$$\n共有 $128$ 项，得出\n$$\nI_{\\max} = 128 \\times 20 \\times 10^{-6}\\,\\text{A} = 2560 \\times 10^{-6}\\,\\text{A} = 2.56 \\times 10^{-3}\\,\\text{A}.\n$$\n以毫安表示，\n$$\nI_{\\max} = 2.56\\,\\text{mA}.\n$$\n四舍五入到四位有效数字，即为 $2.560\\,\\text{mA}$。\n\n接下来，我们将动态范围 $\\mathcal{D}$ 定义为\n$$\n\\mathcal{D}=\\frac{I_{\\max}}{I_{\\min}},\n$$\n其中 $I_{\\min}$ 是在给定约束条件下可实现的最小严格为正的列电流。最小非零列电流出现在只有一个器件贡献最小非零电流，而所有其他贡献均为零（即，它们的行电压为 $0\\,\\text{V}$ 或电导无贡献）的情况下。由于输入是量化的，最小的严格为正的电压是最小有效步长（LSB）。对于在 $[0,\\,0.2]\\,\\text{V}$ 区间内（包括两个端点）均匀量化的 $N=8$ 位输入，其步长为\n$$\n\\Delta V = \\frac{0.2\\,\\text{V} - 0\\,\\text{V}}{2^{8}-1} = \\frac{0.2}{255}\\,\\text{V}.\n$$\n因此，最小的严格为正的电压电平是 $V_{\\text{LSB}}=\\Delta V=\\frac{0.2}{255}\\,\\text{V}$。最小电导为\n$$\nG_{\\min} = 1\\,\\mu\\text{S} = 1 \\times 10^{-6}\\,\\text{S}.\n$$\n当只有一个位于 $(i^{*}, j)$ 的器件有贡献时，最小的严格为正的列电流是\n$$\nI_{\\min} = G_{\\min} V_{\\text{LSB}} = \\left(1 \\times 10^{-6}\\,\\text{S}\\right) \\left(\\frac{0.2}{255}\\,\\text{V}\\right) = \\frac{0.2 \\times 10^{-6}}{255}\\,\\text{A}.\n$$\n因此动态范围是\n$$\n\\mathcal{D} = \\frac{I_{\\max}}{I_{\\min}} = \\frac{2.56 \\times 10^{-3}}{\\frac{0.2 \\times 10^{-6}}{255}} = \\frac{2.56 \\times 10^{-3} \\times 255}{0.2 \\times 10^{-6}}.\n$$\n我们进行代数简化：\n$$\n\\mathcal{D} = \\frac{2.56}{0.2} \\times \\frac{255 \\times 10^{-3}}{10^{-6}} = 12.8 \\times 255 \\times 10^{3} = 3264 \\times 10^{3} = 3.264 \\times 10^{6}.\n$$\n在给定的量化模型下，这已是精确值。四舍五入到四位有效数字，得到\n$$\n\\mathcal{D} = 3.264 \\times 10^{6}.\n$$\n\n因此，所求的量为 $I_{\\max}=2.560\\,\\text{mA}$ 和 $\\mathcal{D}=3.264 \\times 10^{6}$（无量纲比率），均按要求保留四位有效数字。",
            "answer": "$$\\boxed{\\begin{pmatrix}2.560  3.264 \\times 10^{6}\\end{pmatrix}}$$"
        },
        {
            "introduction": "理想化的模型是理解复杂系统的起点，但现实世界的设计必须考虑物理限制。此前的分析假设导线是无电阻的理想导体，然而在实际的大规模阵列中，互连线的寄生电阻会显著影响计算精度。本练习要求您使用节点分析法，建立一个能够描述线电阻影响的线性方程组，从而揭示它如何将简单的并联求和电路转变为一个更为复杂的电阻网络。通过解决这个问题，您将亲身体会到物理寄生效应如何导致电压降（IR drop），降低最终计算结果的准确性，并理解为何电路与架构的协同设计对于实现高性能存内计算至关重要。",
            "id": "4276914",
            "problem": "考虑一个用于内存计算的电阻性交叉阵列，该阵列有 $4$ 行和 $4$ 列。每个交叉点是一个存储设备，其模型为第 $i$ 行导线和第 $j$ 列导线之间的线性电导 $G_{i,j}$。列导线是电阻性的：在连续的交叉点之间，以及在最底部的交叉点与读出放大器节点之间，它们被阻值为 $R_{c}$ 的相同串联电阻分段。读出放大器将每列的底端保持在 $0\\,\\text{V}$，并测量流入地的稳态直流电流。行导线由理想电压源驱动，其线路电阻可忽略不计。假设导线和设备在线性区域工作，并且所有元件都是时不变的。\n\n要求您使用基尔霍夫电流定律（KCL）和节点分析来构建一个线性系统，该系统将给定列上的 $4$ 个输入行电压映射到其对应的列电流，并明确体现列线路电阻的影响。然后，当所有行都被同等驱动时，求解在指定列上读出放大器所看到的等效电导。\n\n对于一个特定的 $4 \\times 4$ 交叉阵列，请使用以下数据：\n- 列分段电阻：$R_{c} = 5\\,\\text{k}\\Omega$（每个分段都相同）。\n- 设备的电导（单位为西门子）为：\n  $$G = \\begin{pmatrix}\n  0.0006  0.0004  0.0005  0.0003 \\\\\n  0.0002  0.0007  0.0001  0.0006 \\\\\n  0.0009  0.0001  0.0008  0.0004 \\\\\n  0.0003  0.0005  0.0002  0.0002\n  \\end{pmatrix}.$$\n\n任务：\n1. 对于单个列 $j$，将四个交叉点处的列导线电压定义为节点未知数，$\\mathbf{v}^{(j)} = \\big(v^{(j)}_{1}, v^{(j)}_{2}, v^{(j)}_{3}, v^{(j)}_{4}\\big)^{\\top}$，其中 $v^{(j)}_{4}$ 是最底部交叉点的电压（该点通过最后一个 $R_{c}$ 分段连接到读出放大器的 $0\\,\\text{V}$ 节点）。从基尔霍夫电流定律和电导定义 $G = 1/R$ 出发，写出将 $\\mathbf{v}^{(j)}$ 与列 $j$ 上的 $4$ 个行输入电压 $\\mathbf{V} = \\big(V_{1}, V_{2}, V_{3}, V_{4}\\big)^{\\top}$ 相关联的 $4 \\times 4$ 线性系统，并明确显示由列串联电阻引入的三对角结构。\n2. 专门针对列 $j=3$，并假设所有行都由相同的标量输入 $V_{\\text{in}}$ 驱动，即 $V_{1} = V_{2} = V_{3} = V_{4} = V_{\\text{in}}$。使用提供的数值，求解该线性系统并计算读出放大器所看到的等效电导，定义为\n   $$G_{\\text{eff}} \\triangleq \\frac{I_{\\text{col}}}{V_{\\text{in}}},$$\n   其中 $I_{\\text{col}}$ 是在指定列的读出放大器节点处流入地的稳态电流。最终答案以西门子（S）为单位表示。将您的答案四舍五入到四位有效数字。",
            "solution": "该问题被认为是有效的，因为它在科学上基于电路理论，问题陈述清晰，并提供了一套完整且一致的数据和目标。给定的数值对于纳米级设备阵列是物理上合理的。\n\n根据要求，分析分为两部分进行。\n\n**第一部分：线性系统的推导**\n\n我们分析 $4 \\times 4$ 交叉阵列的一个通用列 $j$。该列由一根导线组成，上有四个节点，从上到下标记为 $n_1, n_2, n_3, n_4$，分别对应与行 $1, 2, 3, 4$ 的交点。这些节点上的电压是未知数，用向量 $\\mathbf{v}^{(j)} = (v^{(j)}_{1}, v^{(j)}_{2}, v^{(j)}_{3}, v^{(j)}_{4})^{\\top}$ 表示。行由理想电压源驱动，提供电压 $\\mathbf{V} = (V_{1}, V_{2}, V_{3}, V_{4})^{\\top}$。\n\n列导线被建模为电阻性分段，每段电阻为 $R_c$。在每对相邻节点 $(n_i, n_{i+1})$ 之间，以及在最后一个节点 $n_4$ 和读出放大器（其保持在 $0\\,\\text{V}$ 的地电位）之间，都存在一个电阻 $R_c$。令 $G_c = 1/R_c$ 为列导线分段的电导。\n\n我们在四个节点中的每一个节点上应用基尔霍夫电流定律（KCL）。KCL 指出，流入节点的电流总和必须为零。\n\n**节点 $n_1$（电压 $v^{(j)}_1$）：**\n流入节点 $n_1$ 的电流有：\n- 从行 $1$ 电压源 $V_1$ 通过交叉点电导 $G_{1,j}$ 流入的电流：$I_{1} = (V_{1} - v^{(j)}_{1}) G_{1,j}$。\n- 从节点 $n_2$ 通过列分段电阻 $R_c$ 流入的电流：$I_{2 \\to 1} = (v^{(j)}_{2} - v^{(j)}_{1}) / R_c = (v^{(j)}_{2} - v^{(j)}_{1}) G_c$。\n节点 $n_1$ 上方没有列分段。\n在 $n_1$ 处的KCL：$(V_{1} - v^{(j)}_{1}) G_{1,j} + (v^{(j)}_{2} - v^{(j)}_{1}) G_c = 0$。\n整理后得：$(G_{1,j} + G_c) v^{(j)}_{1} - G_c v^{(j)}_{2} = G_{1,j} V_{1}$。\n\n**节点 $n_2$（电压 $v^{(j)}_2$）：**\n流入节点 $n_2$ 的电流有：\n- 从行 $2$ 电压源 $V_2$ 通过 $G_{2,j}$ 流入的电流：$I_{2} = (V_{2} - v^{(j)}_{2}) G_{2,j}$。\n- 从节点 $n_1$ 通过 $R_c$ 流入的电流：$I_{1 \\to 2} = (v^{(j)}_{1} - v^{(j)}_{2}) G_c$。\n- 从节点 $n_3$ 通过 $R_c$ 流入的电流：$I_{3 \\to 2} = (v^{(j)}_{3} - v^{(j)}_{2}) G_c$。\n在 $n_2$ 处的KCL：$(V_{2} - v^{(j)}_{2}) G_{2,j} + (v^{(j)}_{1} - v^{(j)}_{2}) G_c + (v^{(j)}_{3} - v^{(j)}_{2}) G_c = 0$。\n整理后得：$-G_c v^{(j)}_{1} + (G_{2,j} + 2G_c) v^{(j)}_{2} - G_c v^{(j)}_{3} = G_{2,j} V_{2}$。\n\n**节点 $n_3$（电压 $v^{(j)}_3$）：**\n流入节点 $n_3$ 的电流有：\n- 从行 $3$ 电压源 $V_3$ 通过 $G_{3,j}$ 流入的电流：$I_{3} = (V_{3} - v^{(j)}_{3}) G_{3,j}$。\n- 从节点 $n_2$ 通过 $R_c$ 流入的电流：$I_{2 \\to 3} = (v^{(j)}_{2} - v^{(j)}_{3}) G_c$。\n- 从节点 $n_4$ 通过 $R_c$ 流入的电流：$I_{4 \\to 3} = (v^{(j)}_{4} - v^{(j)}_{3}) G_c$。\n在 $n_3$ 处的KCL：$(V_{3} - v^{(j)}_{3}) G_{3,j} + (v^{(j)}_{2} - v^{(j)}_{3}) G_c + (v^{(j)}_{4} - v^{(j)}_{3}) G_c = 0$。\n整理后得：$-G_c v^{(j)}_{2} + (G_{3,j} + 2G_c) v^{(j)}_{3} - G_c v^{(j)}_{4} = G_{3,j} V_{3}$。\n\n**节点 $n_4$（电压 $v^{(j)}_4$）：**\n流入节点 $n_4$ 的电流有：\n- 从行 $4$ 电压源 $V_4$ 通过 $G_{4,j}$ 流入的电流：$I_{4} = (V_{4} - v^{(j)}_{4}) G_{4,j}$。\n- 从节点 $n_3$ 通过 $R_c$ 流入的电流：$I_{3 \\to 4} = (v^{(j)}_{3} - v^{(j)}_{4}) G_c$。\n- 从读出放大器地（$0\\,\\text{V}$）通过 $R_c$ 流入的电流：$I_{\\text{gnd} \\to 4} = (0 - v^{(j)}_{4}) G_c$。\n在 $n_4$ 处的KCL：$(V_{4} - v^{(j)}_{4}) G_{4,j} + (v^{(j)}_{3} - v^{(j)}_{4}) G_c - v^{(j)}_{4} G_c = 0$。\n整理后得：$-G_c v^{(j)}_{3} + (G_{4,j} + 2G_c) v^{(j)}_{4} = G_{4,j} V_{4}$。\n\n这四个线性方程可以用矩阵形式表示为 $\\mathbf{Y}^{(j)} \\mathbf{v}^{(j)} = \\mathbf{b}^{(j)}$，其中 $\\mathbf{Y}^{(j)}$ 是列节点的节点导纳矩阵，$\\mathbf{b}^{(j)}$ 是电流源向量。\n\n该系统为：\n$$\n\\begin{pmatrix}\nG_{1,j} + G_c  -G_c  0  0 \\\\\n-G_c  G_{2,j} + 2G_c  -G_c  0 \\\\\n0  -G_c  G_{3,j} + 2G_c  -G_c \\\\\n0  0  -G_c  G_{4,j} + 2G_c\n\\end{pmatrix}\n\\begin{pmatrix}\nv^{(j)}_{1} \\\\\nv^{(j)}_{2} \\\\\nv^{(j)}_{3} \\\\\nv^{(j)}_{4}\n\\end{pmatrix}\n=\n\\begin{pmatrix}\nG_{1,j} V_{1} \\\\\nG_{2,j} V_{2} \\\\\nG_{3,j} V_{3} \\\\\nG_{4,j} V_{4}\n\\end{pmatrix}\n$$\n左侧的矩阵 $\\mathbf{Y}^{(j)}$ 是一个对称三对角矩阵，明确地体现了列串联电阻的影响。非零的非对角元素耦合了相邻节点，这是线路电阻的直接结果。\n\n**第二部分：等效电导的计算**\n\n我们现在专门研究列 $j=3$ 的情况，其中所有行电压均等于 $V_{\\text{in}}$，即 $V_1=V_2=V_3=V_4=V_{\\text{in}}$。\n\n给定的数值为：\n- 列分段电阻：$R_c = 5\\,\\text{k}\\Omega = 5000\\,\\Omega$。相应的电导为 $G_c = 1/R_c = 1/5000\\,\\text{S} = 0.0002\\,\\text{S}$。\n- 列 $j=3$ 的交叉点电导为：\n  $G_{1,3} = 0.0005\\,\\text{S}$\n  $G_{2,3} = 0.0001\\,\\text{S}$\n  $G_{3,3} = 0.0008\\,\\text{S}$\n  $G_{4,3} = 0.0002\\,\\text{S}$\n\n我们构建数值方程组。矩阵 $\\mathbf{Y}^{(3)}$ 的元素为：\n$Y_{11} = G_{1,3} + G_c = 0.0005 + 0.0002 = 0.0007\\,\\text{S}$\n$Y_{22} = G_{2,3} + 2G_c = 0.0001 + 2(0.0002) = 0.0005\\,\\text{S}$\n$Y_{33} = G_{3,3} + 2G_c = 0.0008 + 2(0.0002) = 0.0012\\,\\text{S}$\n$Y_{44} = G_{4,3} + 2G_c = 0.0002 + 2(0.0002) = 0.0006\\,\\text{S}$\n非对角元素为 $-G_c = -0.0002\\,\\text{S}$。\n\n线性系统变为：\n$$\n\\begin{pmatrix}\n0.0007  -0.0002  0  0 \\\\\n-0.0002  0.0005  -0.0002  0 \\\\\n0  -0.0002  0.0012  -0.0002 \\\\\n0  0  -0.0002  0.0006\n\\end{pmatrix}\n\\begin{pmatrix}\nv^{(3)}_{1} \\\\\nv^{(3)}_{2} \\\\\nv^{(3)}_{3} \\\\\nv^{(3)}_{4}\n\\end{pmatrix}\n=\nV_{\\text{in}}\n\\begin{pmatrix}\n0.0005 \\\\\n0.0001 \\\\\n0.0008 \\\\\n0.0002\n\\end{pmatrix}\n$$\n读出放大器所看到的等效电导为 $G_{\\text{eff}} \\triangleq I_{\\text{col}} / V_{\\text{in}}$。列电流 $I_{\\text{col}}$ 是从最后一个节点 $n_4$ 流向地的电流，由 $I_{\\text{col}} = (v^{(3)}_{4} - 0) / R_c = v^{(3)}_{4} G_c$ 给出。\n因此，$G_{\\text{eff}} = (v^{(3)}_{4} / V_{\\text{in}}) G_c$。\n令 $\\tilde{v}_i = v^{(3)}_i / V_{\\text{in}}$ 为归一化节点电压。我们可以求解向量 $\\tilde{\\mathbf{v}} = (\\tilde{v}_1, \\tilde{v}_2, \\tilde{v}_3, \\tilde{v}_4)^{\\top}$：\n$$\n\\begin{pmatrix}\n0.0007  -0.0002  0  0 \\\\\n-0.0002  0.0005  -0.0002  0 \\\\\n0  -0.0002  0.0012  -0.0002 \\\\\n0  0  -0.0002  0.0006\n\\end{pmatrix}\n\\begin{pmatrix}\n\\tilde{v}_{1} \\\\\n\\tilde{v}_{2} \\\\\n\\tilde{v}_{3} \\\\\n\\tilde{v}_{4}\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n0.0005 \\\\\n0.0001 \\\\\n0.0008 \\\\\n0.0002\n\\end{pmatrix}\n$$\n为简化计算，我们可以将整个方程乘以 $10000$：\n$$\n\\begin{pmatrix}\n7  -2  0  0 \\\\\n-2  5  -2  0 \\\\\n0  -2  12  -2 \\\\\n0  0  -2  6\n\\end{pmatrix}\n\\begin{pmatrix}\n\\tilde{v}_{1} \\\\\n\\tilde{v}_{2} \\\\\n\\tilde{v}_{3} \\\\\n\\tilde{v}_{4}\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n5 \\\\\n1 \\\\\n8 \\\\\n2\n\\end{pmatrix}\n$$\n求解这个线性方程组（例如，使用高斯消元法或矩阵求逆法），我们得到最后一个分量的值 $\\tilde{v}_{4}$：\n$\\tilde{v}_{4} = \\frac{313}{485}$。\n\n现在我们可以计算等效电导：\n$G_{\\text{eff}} = \\tilde{v}_{4} G_c = \\frac{313}{485} \\times 0.0002\\,\\text{S}$。\n$G_{\\text{eff}} \\approx 0.6453608247... \\times 0.0002\\,\\text{S} \\approx 0.00012907216...\\,\\text{S}$。\n\n将结果四舍五入到四位有效数字，我们得到：\n$G_{\\text{eff}} \\approx 0.0001291\\,\\text{S}$。\n该值远低于理想电导（当 $R_c=0$ 时），理想电导本应是交叉点电导的简单加和：$G_{\\text{ideal}} = \\sum_{i=1}^4 G_{i,3} = 0.0016\\,\\text{S}$。较大的线路电阻 $R_c$ 导致沿列的显著电压降，从而提高了节点电压 $v_i^{(3)}$，并因此减少了从行中汲取的电流。",
            "answer": "$$\n\\boxed{0.0001291}\n$$"
        }
    ]
}