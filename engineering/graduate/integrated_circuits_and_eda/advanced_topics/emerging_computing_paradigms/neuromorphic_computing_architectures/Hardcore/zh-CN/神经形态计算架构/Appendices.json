{
    "hands_on_practices": [
        {
            "introduction": "漏积分-发放（Leaky Integrate-and-Fire, LIF）神经元模型是神经形态计算的基石，它以简洁的方式捕捉了生物神经元的基本动态特性。本练习将帮助您通过从其微分方程出发，推导神经元的发放率，从而深入理解神经元参数（如膜电容 $C$ 和漏电导 $g_L$）如何共同决定其对输入电流 $I$ 的响应。这项基本功的训练对于设计和调试脉冲神经网络至关重要 ()。",
            "id": "4285418",
            "problem": "一个模拟集成电路中的神经形态神经元将漏积分-发放（LIF）模型实现为一个带有漏电导连接到反转电位的膜电容。膜电位动力学遵循基尔霍夫电流定律（KCL）：注入的电流等于电容电流与漏电流之和。假设在恒定注入电流 $I$ 的作用下，膜电压 $V(t)$ 遵循一阶线性常微分方程 $C \\frac{dV}{dt} = -g_L \\left(V - E_L\\right) + I$，并且当 $V(t)$ 达到阈值 $V_{\\theta}$ 时，神经元会发射一个脉冲。脉冲发放后，电压立即重置为 $V_r$，神经元进入持续时间为 $\\tau_{ref}$ 的绝对不应期，在此期间 $V(t)$ 保持在 $V_r$。\n\n从这个动力学定义出发，推导在恒定电流 $I$ 下的稳态脉冲间隔的解析表达式，并由此得到稳态放电率。然后，使用以下参数计算放电率：$C=200\\ \\mathrm{pF}$，$g_L=10\\ \\mathrm{nS}$，$E_L=-65\\ \\mathrm{mV}$，$V_{\\theta}=-50\\ \\mathrm{mV}$，$V_r=-65\\ \\mathrm{mV}$，$I=500\\ \\mathrm{pA}$，以及 $\\tau_{ref}=2\\ \\mathrm{ms}$。以赫兹 (Hz) 为单位表示最终的放电率，并将结果保留四位有效数字。",
            "solution": "问题要求推导漏积分放电 (LIF) 神经元的稳态放电率，并使用一组给定的参数进行计算。\n\n神经元膜电位 $V(t)$ 的动力学由以下一阶线性常微分方程 (ODE) 描述：\n$$C \\frac{dV}{dt} = -g_L \\left(V - E_L\\right) + I$$\n其中 $C$ 是膜电容，$g_L$ 是漏电导，$E_L$ 是漏泄反转电位，$I$ 是恒定的注入电流。\n\n首先，我们将该常微分方程重新整理成一个更标准的形式。两边除以 $g_L$：\n$$\\frac{C}{g_L} \\frac{dV}{dt} = -(V - E_L) + \\frac{I}{g_L}$$\n$$\\frac{C}{g_L} \\frac{dV}{dt} = -V + E_L + \\frac{I}{g_L}$$\n我们定义膜时间常数 $\\tau_m$ 和稳态电压 $V_{\\infty}$ 如下：\n$$\\tau_m = \\frac{C}{g_L}$$\n$$V_{\\infty} = E_L + \\frac{I}{g_L}$$\n项 $V_{\\infty}$ 表示如果膜电位 $V$ 从未达到放电阈值，它将收敛到的值。代入这些定义，该常微分方程变为：\n$$\\tau_m \\frac{dV}{dt} = -V + V_{\\infty}$$\n这可以重写为：\n$$\\tau_m \\frac{dV}{dt} + V = V_{\\infty}$$\n这是一个一阶线性非齐次常微分方程。其通解形式如下：\n$$V(t) = V_{\\infty} + \\left( V(0) - V_{\\infty} \\right) \\exp\\left(-\\frac{t}{\\tau_m}\\right)$$\n神经元的动力学以一个周期为特征：在发放一个脉冲后，电压被重置为 $V_r$ 并在此值上保持一个绝对不应期 $\\tau_{ref}$。由该常微分方程控制的积分过程，在这个不应期结束时开始。我们将时间原点 $t=0$ 设为不应期结束的时刻。此时，膜电位的初始条件是 $V(0) = V_r$。\n\n将此初始条件代入通解，我们得到积分阶段的特解：\n$$V(t) = V_{\\infty} + \\left( V_r - V_{\\infty} \\right) \\exp\\left(-\\frac{t}{\\tau_m}\\right)$$\n当电位 $V(t)$ 达到阈值 $V_{\\theta}$ 时，会产生一个脉冲。设达到此阈值所用的时间为 $t_{int}$（积分时间）。因此，在 $t=t_{int}$ 时，我们有 $V(t_{int}) = V_{\\theta}$。\n$$V_{\\theta} = V_{\\infty} + \\left( V_r - V_{\\infty} \\right) \\exp\\left(-\\frac{t_{int}}{\\tau_m}\\right)$$\n为了能够产生脉冲，稳态电压必须大于阈值，即 $V_{\\infty} > V_{\\theta}$。假设此条件成立，我们可以解出 $t_{int}$：\n$$V_{\\theta} - V_{\\infty} = \\left( V_r - V_{\\infty} \\right) \\exp\\left(-\\frac{t_{int}}{\\tau_m}\\right)$$\n$$\\frac{V_{\\theta} - V_{\\infty}}{V_r - V_{\\infty}} = \\exp\\left(-\\frac{t_{int}}{\\tau_m}\\right)$$\n对两边取自然对数：\n$$\\ln\\left(\\frac{V_{\\theta} - V_{\\infty}}{V_r - V_{\\infty}}\\right) = -\\frac{t_{int}}{\\tau_m}$$\n$$t_{int} = -\\tau_m \\ln\\left(\\frac{V_{\\theta} - V_{\\infty}}{V_r - V_{\\infty}}\\right)$$\n为确保对数的参数为正，考虑到 $V_r \\le V_{\\theta}  V_{\\infty}$，分子和分母都为负，因此它们的比值为正。我们可以通过反转对数函数的参数来吸收负号：\n$$t_{int} = \\tau_m \\ln\\left(\\frac{V_r - V_{\\infty}}{V_{\\theta} - V_{\\infty}}\\right)$$\n两个连续脉冲之间的总时间是脉冲间隔 $T_{\\mathrm{ISI}}$，它是积分时间 $t_{int}$ 和绝对不应期 $\\tau_{ref}$ 的总和：\n$$T_{\\mathrm{ISI}} = \\tau_{ref} + t_{int} = \\tau_{ref} + \\tau_m \\ln\\left(\\frac{V_r - V_{\\infty}}{V_{\\theta} - V_{\\infty}}\\right)$$\n稳态放电率 $f$ 是脉冲间隔的倒数：\n$$f = \\frac{1}{T_{\\mathrm{ISI}}} = \\frac{1}{\\tau_{ref} + \\tau_m \\ln\\left(\\frac{V_r - V_{\\infty}}{V_{\\theta} - V_{\\infty}}\\right)}$$\n代入 $\\tau_m$ 和 $V_{\\infty}$ 的定义：\n$$f = \\frac{1}{\\tau_{ref} + \\frac{C}{g_L} \\ln\\left(\\frac{V_r - (E_L + I/g_L)}{V_{\\theta} - (E_L + I/g_L)}\\right)}$$\n这就是所求的稳态放电率的解析表达式。\n\n现在，我们使用给定的参数计算放电率：\n$C = 200 \\ \\mathrm{pF} = 200 \\times 10^{-12} \\ \\mathrm{F}$\n$g_L = 10 \\ \\mathrm{nS} = 10 \\times 10^{-9} \\ \\mathrm{S}$\n$E_L = -65 \\ \\mathrm{mV} = -65 \\times 10^{-3} \\ \\mathrm{V}$\n$V_{\\theta} = -50 \\ \\mathrm{mV} = -50 \\times 10^{-3} \\ \\mathrm{V}$\n$V_r = -65 \\ \\mathrm{mV} = -65 \\times 10^{-3} \\ \\mathrm{V}$\n$I = 500 \\ \\mathrm{pA} = 500 \\times 10^{-12} \\ \\mathrm{A}$\n$\\tau_{ref} = 2 \\ \\mathrm{ms} = 2 \\times 10^{-3} \\ \\mathrm{s}$\n\n首先，我们计算 $\\tau_m$ 和 $V_{\\infty}$：\n$$\\tau_m = \\frac{C}{g_L} = \\frac{200 \\times 10^{-12} \\ \\mathrm{F}}{10 \\times 10^{-9} \\ \\mathrm{S}} = 20 \\times 10^{-3} \\ \\mathrm{s} = 20 \\ \\mathrm{ms}$$\n$$V_{\\infty} = E_L + \\frac{I}{g_L} = -65 \\times 10^{-3} \\ \\mathrm{V} + \\frac{500 \\times 10^{-12} \\ \\mathrm{A}}{10 \\times 10^{-9} \\ \\mathrm{S}} = -65 \\times 10^{-3} \\ \\mathrm{V} + 50 \\times 10^{-3} \\ \\mathrm{V} = -15 \\times 10^{-3} \\ \\mathrm{V} = -15 \\ \\mathrm{mV}$$\n我们检查脉冲发放的条件：$V_{\\infty} = -15 \\ \\mathrm{mV} > V_{\\theta} = -50 \\ \\mathrm{mV}$，因此神经元会放电。\n\n接下来，我们计算对数内的项：\n$$V_r - V_{\\infty} = (-65 \\times 10^{-3}) - (-15 \\times 10^{-3}) = -50 \\times 10^{-3} \\ \\mathrm{V}$$\n$$V_{\\theta} - V_{\\infty} = (-50 \\times 10^{-3}) - (-15 \\times 10^{-3}) = -35 \\times 10^{-3} \\ \\mathrm{V}$$\n其比值为：\n$$\\frac{V_r - V_{\\infty}}{V_{\\theta} - V_{\\infty}} = \\frac{-50 \\times 10^{-3}}{-35 \\times 10^{-3}} = \\frac{50}{35} = \\frac{10}{7}$$\n现在我们计算积分时间 $t_{int}$：\n$$t_{int} = \\tau_m \\ln\\left(\\frac{10}{7}\\right) = (20 \\times 10^{-3}) \\ln\\left(\\frac{10}{7}\\right) \\ \\mathrm{s}$$\n使用 $\\ln(10/7) \\approx 0.3566749$ 的值：\n$$t_{int} \\approx (20 \\times 10^{-3}) \\times 0.3566749 \\approx 7.133498 \\times 10^{-3} \\ \\mathrm{s}$$\n脉冲间隔为：\n$$T_{\\mathrm{ISI}} = \\tau_{ref} + t_{int} \\approx (2 \\times 10^{-3}) + (7.133498 \\times 10^{-3}) = 9.133498 \\times 10^{-3} \\ \\mathrm{s}$$\n最后，放电率为：\n$$f = \\frac{1}{T_{\\mathrm{ISI}}} \\approx \\frac{1}{9.133498 \\times 10^{-3}} \\approx 109.4873 \\ \\mathrm{Hz}$$\n将结果保留四位有效数字，得到：\n$$f \\approx 109.5 \\ \\mathrm{Hz}$$",
            "answer": "$$\\boxed{109.5}$$"
        },
        {
            "introduction": "将庞大的突触阵列集成到硬件中是神经形态芯片设计的核心挑战，而忆阻器交叉阵列（Resistive Crossbar Array）是一种极具前景的实现方案。本练习将引导您探索在真实模拟硬件中出现的关键物理限制，例如由线路电阻引起的 $IR$ 压降和潜行路径（sneak paths）问题 ()。理解这些非理想效应以及如何通过选择器（selector）等器件级方案来缓解它们，是连接理论模型与物理电路设计的关键一步。",
            "id": "4285455",
            "problem": "一个大小为 $N \\times N$ 的阻性交叉阵列被用于在神经形态加速器中实现模拟向量-矩阵乘法（VMM）。每个交叉点包含一个阻变随机存取存储器（RRAM）器件，该器件具有两种状态：低阻态 $R_{\\mathrm{L}}$ 和高阻态 $R_{\\mathrm{H}}$，其中 $R_{\\mathrm{L}} \\ll R_{\\mathrm{H}}$。用于行和列的金属互连线具有有限的每段电阻 $r$，因此跨越 $k$ 个线段的路径电阻约为 $k r$。在 $V/2$ 偏置方案下的读取操作期间，向选定的字线施加电压 $V_{\\mathrm{RD}}$，选定的位线接地，所有未选定的字线和位线偏置到 $V_{\\mathrm{RD}}/2$。一个具有高度非线性电流-电压特性的两端选择器器件可以与每个 RRAM 单元串联集成。仅使用欧姆定律（$V=IR$）、基尔霍夫电流定律（KCL）和基尔霍夫电压定律（KVL），论证该阵列中的线路电压衰减和意外电流流动。\n\n哪个选项正确定义了在此背景下的 IR 压降和潜行路径现象，解释了选择器的作用，并指出了在 $V/2$ 偏置下，导致选定器件上最大电压衰减的最坏情况访问模式？\n\nA. IR 压降是由于有限的线路电阻和非零电流导致的沿阻性互连线的电压损失，因此传递到远处单元的电压减少了 $I \\cdot R_{\\text{line}}$。潜行路径是流经未选定器件的意外电流路径，在施加的偏置下形成替代的导电回路。选择器，作为与每个 RRAM 串联的高度非线性 $2$ 端元件实现，通过在阈值以下保持有效关闭状态来抑制半选和未选电流，从而减少潜行路径电流及其导致的 IR 压降。最坏情况的电压衰减发生在选定单元距离行驱动器和列地线最远，并且最大数量的半选和未选单元处于 $R_{\\mathrm{L}}$ 状态时，这样 $V/2$ 偏置会在整个选定线路上引发大的寄生电流。\n\nB. IR 压降是由于互连电容充电引起的电压降低，这在稳态读取中占主导地位。如果阵列使用 $V/2$ 偏置，则可以避免潜行路径，因此选择器主要增加线性串联电阻以改善写入裕度。最坏情况的电压衰减发生在选定单元位于阵列的几何中心，且大多数其他单元处于 $R_{\\mathrm{H}}$ 状态时。\n\nC. IR 压降主要由准静态读取时的线路电感引起，而潜行路径则由相邻线路之间的电磁耦合产生。选择器作为每条位线上的时钟控制读出放大器来抵消这些效应。电压衰减的最坏情况访问模式是访问一个边缘单元，而所有其他单元都有效开路。\n\nD. IR 压降是驱动器处一个固定的、与电流无关的接触电位降，而潜行路径仅在具有大电压的写入操作期间发生。选择器必须表现出负微分电阻才能起作用；否则它们无法减轻泄漏。最坏情况的电压衰减发生在大多数未选定单元处于 $R_{\\mathrm{H}}$ 状态时，这会最大化电源效率，从而增加选定单元上的压降。",
            "solution": "**1. IR 压降分析**\n\n金属互连线（字线和位线）具有有限的每段电阻 $r$。当电流 $I$ 流过这段互连线的一个线段时，根据欧姆定律，其上的电压降等于 $I \\cdot R_{\\text{segment}}$。对于长度对应于 $k$ 个线段的路径，总线路电阻为 $R_{\\text{line}} \\approx k r$。沿着字线或位线流动的总电流是流向选定单元的电流与连接到该线路的其他单元贡献的所有寄生电流（潜行路径）之和。设此总电流为 $I_{\\text{line}}$。根据欧姆定律，沿此线路段的电压降为 $\\Delta V = I_{\\text{line}} R_{\\text{line}}$。这个电压降通常被称为 IR 压降。因此，交叉点单元的电位与阵列边缘驱动器施加的电压不同。对于用 $V_{\\mathrm{RD}}$ 驱动的字线，远处单元的电压为 $V_{\\mathrm{WL, local}} = V_{\\mathrm{RD}} - \\Delta V_{\\mathrm{WL}}$。对于连接到地（$0$ V）的位线，远处单元的电位被提升到地以上，为 $V_{\\mathrm{BL, local}} = 0 + \\Delta V_{\\mathrm{BL}}$。因此，选定单元上的电压从理想的 $V_{\\mathrm{RD}}$ 降低到 $V_{\\text{cell}} = V_{\\mathrm{WL, local}} - V_{\\mathrm{BL, local}} = (V_{\\mathrm{RD}} - \\Delta V_{\\mathrm{WL}}) - \\Delta V_{\\mathrm{BL}}$。\n\n**2. $V/2$ 偏置下潜行路径的分析**\n\n在字线 $i$（WL$_i$）和位线 $j$（BL$_j$）交点处的选定单元进行读取操作的 $V/2$ 偏置方案如下：\n- 选定的 WL$_i$ 处于 $V_{\\mathrm{RD}}$。\n- 选定的 BL$_j$ 处于 $0$ V。\n- 所有未选定的 WLs（$m \\neq i$）处于 $V_{\\mathrm{RD}}/2$。\n- 所有未选定的 BLs（$k \\neq j$）处于 $V_{\\mathrm{RD}}/2$。\n\n我们可以分析 $N \\times N$ 阵列中任意单元上的电压降：\n- **选定单元 ($i, j$):** 理想电压为 $V_{ij} = V_{\\mathrm{WL}_i} - V_{\\mathrm{BL}_j} = V_{\\mathrm{RD}} - 0 = V_{\\mathrm{RD}}$。电流 $I_{\\text{sel}} \\approx V_{\\mathrm{RD}} / R_{\\text{cell}, ij}$ 流过。\n- **同一字线上的半选单元 ($i, k \\neq j$):** 电压为 $V_{ik} = V_{\\mathrm{WL}_i} - V_{\\mathrm{BL}_k} = V_{\\mathrm{RD}} - V_{\\mathrm{RD}}/2 = V_{\\mathrm{RD}}/2$。\n- **同一位线上的半选单元 ($m \\neq i, j$):** 电压为 $V_{mj} = V_{\\mathrm{WL}_m} - V_{\\mathrm{BL}_j} = V_{\\mathrm{RD}}/2 - 0 = V_{\\mathrm{RD}}/2$。\n- **未选单元 ($m \\neq i, k \\neq j$):** 电压为 $V_{mk} = V_{\\mathrm{WL}_m} - V_{\\mathrm{BL}_k} = V_{\\mathrm{RD}}/2 - V_{\\mathrm{RD}}/2 = 0$。\n\n由于在所有 $(N-1) + (N-1) = 2N-2$ 个半选单元上施加了 $V_{\\mathrm{RD}}/2$ 的非零电压，寄生电流将流过它们。这些电流由 $I_{\\text{sneak}} = (V_{\\mathrm{RD}}/2) / R_{\\text{cell}}$ 给出，是意外的，并形成绕过选定单元的“潜行路径”。$V/2$ 方案减轻但不能消除这些路径。根据基尔霍夫电流定律（KCL），这些潜行路径电流沿着选定的字线和位线累加，显著增加了总线路电流 $I_{\\text{line}}$，从而加剧了 IR 压降。\n\n**3. 选择器的作用**\n\n选择器是一种具有高度非线性电流-电压（$I-V$）特性的两端器件，与每个 RRAM 单元串联。其理想功能是在施加电压低于某个阈值电压 $V_{\\text{th}}$ 时具有非常高的电阻（处于“关闭”状态），而在电压高于 $V_{\\text{th}}$ 时具有低电阻（处于“开启”状态）。为了使 $V/2$ 方案有效，选择器的设计必须满足 $V_{\\mathrm{RD}}/2  V_{\\text{th}}  V_{\\mathrm{RD}}$。\n- **选定单元:** 电压约为 $V_{\\mathrm{RD}}$。由于 $V_{\\mathrm{RD}} > V_{\\text{th}}$，选择器开启，允许读取电流流过 RRAM 单元（$1$S$1$R 结构）。\n- **半选单元:** 电压为 $V_{\\mathrm{RD}}/2$。由于 $V_{\\mathrm{RD}}/2  V_{\\text{th}}$，选择器保持在其高电阻“关闭”状态。这极大地增加了潜行路径的总电阻，有效抑制了寄生电流。\n通过抑制潜行路径电流，选择器减少了选定激活线路上的总电流 $I_{\\text{line}}$，从而最小化了 IR 压降。\n\n**4. 最坏情况下的电压衰减**\n\n选定单元的总电压衰减是字线和位线上 IR 压降的总和：$\\Delta V_{\\text{total}} = \\Delta V_{\\mathrm{WL}} + \\Delta V_{\\mathrm{BL}} = I_{\\mathrm{WL}}R_{\\mathrm{line, WL}} + I_{\\mathrm{BL}}R_{\\mathrm{line, BL}}$。为了最大化此衰减，我们必须同时最大化线路电阻和线路电流。\n- **最大化线路电阻:** 线路电阻 $R_{\\text{line}}$ 与从驱动器/地到单元的导线长度成正比。因此，距离输入驱动器（在字线上）和接地连接（在位线上）最远的单元将经历最大的电阻。这对应于与驱动器对角线相对的角落单元。\n- **最大化线路电流:** 线路电流 $I_{\\mathrm{WL}}$ 和 $I_{\\mathrm{BL}}$ 是通过选定单元的电流和该线路上所有潜行路径电流的总和。根据欧姆定律，电流与电阻成反比（$I=V/R$）。为了最大化潜行路径电流，必须最小化半选单元的电阻。RRAM 器件有两种状态，$R_{\\mathrm{L}}$ 和 $R_{\\mathrm{H}}$，且 $R_{\\mathrm{L}} \\ll R_{\\mathrm{H}}$。因此，当最大可能数量的半选单元处于低阻态 $R_{\\mathrm{L}}$ 时，会出现最大的潜行电流。\n\n因此，电压衰减的最坏情况发生在访问物理上距离驱动器最远的单元，并且当最大数量的半选单元被编程为低阻态 $R_{\\mathrm{L}}$ 时。\n\n**逐项分析**\n\n**A. IR 压降是由于有限的线路电阻和非零电流导致的沿阻性互连线的电压损失，因此传递到远处单元的电压减少了 $I \\cdot R_{\\text{line}}$。潜行路径是流经未选定器件的意外电流路径，在施加的偏置下形成替代的导电回路。选择器，作为与每个 RRAM 串联的高度非线性 $2$ 端元件实现，通过在阈值以下保持有效关闭状态来抑制半选和未选电流，从而减少潜行路径电流及其导致的 IR 压降。最坏情况的电压衰减发生在选定单元距离行驱动器和列地线最远，并且最大数量的半选和未选单元处于 $R_{\\mathrm{L}}$ 状态时，这样 $V/2$ 偏置会在整个选定线路上引发大的寄生电流。**\n- 该选项根据欧姆定律正确定义了 IR 压降。它准确地将潜行路径描述为寄生导电路径。它正确地解释了非线性选择器利用电压阈值抑制这些路径的功能。它正确地指出了最坏情况是最大线路长度（最远单元）和最大线路电流（最大数量的单元处于低阻态 $R_{\\mathrm{L}}$）的组合。提及“未选单元”处于 $R_{\\mathrm{L}}$ 状态是一个微小的不精确之处，因为它们两端的电压为 $0$ V，不产生电流，但半选单元的主导效应被正确地捕捉到了。\n**结论：正确**\n\n**B. IR 压降是由于互连电容充电引起的电压降低，这在稳态读取中占主导地位。如果阵列使用 $V/2$ 偏置，则可以避免潜行路径，因此选择器主要增加线性串联电阻以改善写入裕度。最坏情况的电压衰减发生在选定单元位于阵列的几何中心，且大多数其他单元处于 $R_{\\mathrm{H}}$ 状态时。**\n- IR 压降的定义不正确。电容充电是一种瞬态现象（$I = C dV/dt$），而 IR 压降是一种稳态电阻效应（$V=IR$），在直流或准静态读取中占主导地位。关于 $V/2$ 偏置避免潜行路径的说法是错误的；它只是将其两端的电压降低到 $V_{\\mathrm{RD}}/2$。选择器根本上是非线性的，而不是线性的。最坏情况发生在最远的单元，而不是中心单元，并且当其他单元处于 $R_{\\mathrm{L}}$ 状态以最大化寄生电流时，而不是 $R_{\\mathrm{H}}$ 状态。\n**结论：不正确**\n\n**C. IR 压降主要由准静态读取时的线路电感引起，而潜行路径则由相邻线路之间的电磁耦合产生。选择器作为每条位线上的时钟控制读出放大器来抵消这些效应。电压衰减的最坏情况访问模式是访问一个边缘单元，而所有其他单元都有效开路。**\n- IR 压降的定义不正确。与电阻压降相比，电感效应（$L dI/dt$）在准静态（低频）读取条件下可以忽略不计。潜行路径是穿过存储单元的导电路径，而不是电磁（电容或电感）耦合的效应。选择器是阵列内的无源两端器件，而不是像读出放大器那样的有源外围电路。其他单元“开路”的条件会最小化潜行电流和 IR 压降，代表了最好情况，而不是最坏情况的场景。\n**结论：不正确**\n\n**D. IR 压降是驱动器处一个固定的、与电流无关的接触电位降，而潜行路径仅在具有大电压的写入操作期间发生。选择器必须表现出负微分电阻才能起作用；否则它们无法减轻泄漏。最坏情况的电压衰减发生在大多数未选定单元处于 $R_{\\mathrm{H}}$ 状态时，这会最大化电源效率，从而增加选定单元上的压降。**\n- IR 压降根本上是依赖于电流的（$V=IR$），而不是一个固定的电位降。如 $V/2$ 偏置分析所示，潜行路径是读取操作中的一个关键问题。虽然一些选择器可能具有负微分电阻（NDR），但这并非必要条件；关键特性是高度非线性（一个陡峭的开启阈值）。最坏情况发生在非选定单元处于 $R_{\\mathrm{L}}$ 状态以最大化潜行电流时，而不是 $R_{\\mathrm{H}}$ 状态。处于 $R_{\\mathrm{H}}$ 状态的单元会最小化潜行电流，从而最小化 IR 压降。\n**结论：不正确**",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "能效是神经形态计算相较于传统计算架构的核心优势之一。本练习将之前练习中涉及的脉冲活动 () 与硬件实现细节 () 相结合，构建一个完整的系统级能耗模型。通过将总能耗分解为静态泄漏和动态事件（如脉冲分发与突触处理）的贡献，您将学会像芯片架构师一样思考，从而分析并优化一个完整的神经形态推理引擎的能量效率 ()。",
            "id": "4285417",
            "problem": "一个采用互补金属氧化物半导体（CMOS）逻辑实现、并使用电子设计自动化（EDA）工具集成的神经形态推理引擎，在固定的时间窗口内对脉冲神经网络（SNN）进行推理。该架构是事件驱动的，并使用片上网络（NoC）将脉冲从突触前神经元路由到突触后目的地。每个突触前脉冲会产生轴突分派成本，并扇出到多个突触，每个突触事件都需要一次权重内存读取、跨越平均跳数的路由以及一次突触后累积更新。此外，该芯片在推理期间会表现出静态泄漏功率。\n\n考虑一个具有以下参数的网络推理：\n- 神经元数量：$N = 2.0 \\times 10^{5}$。\n- 每个神经元的平均脉冲发放率：$r = 4 \\text{ Hz}$。\n- 推理持续时间：$T = 0.2 \\text{ s}$。\n- 每个脉冲的平均扇出：$F = 40$。\n- 每个突触前脉冲的轴突分派能量：$e_{a} = 0.30 \\text{ pJ}$。\n- 每个突触事件的权重内存读取能量：$e_{w} = 0.25 \\text{ pJ}$。\n- 每跳路由能量：$e_{h} = 0.15 \\text{ pJ}$。\n- 平均跳数：$\\bar{h} = 6$。\n- 每个突触事件的突触后累积能量：$e_{s} = 0.45 \\text{ pJ}$。\n- 推理期间的静态泄漏功率：$P_{\\text{leak}} = 150 \\ \\mu\\text{W}$。\n\n仅使用能量是功率与时间的乘积，以及总动态能等于所有事件各自能量之和等基本定义，推导出每次推理总能量的表达式。然后根据给定参数计算其数值。将总能量分解为轴突脉冲分派贡献、突触事件动态贡献和静态泄漏贡献，并确定在给定参数下哪一部分贡献占主导地位。\n\n以微焦耳（microjoules）为单位表示最终总能量，并将答案四舍五入到四位有效数字。以单个数值的形式提供最终答案。",
            "solution": "每次推理消耗的总能量 $E_{\\text{total}}$ 是总动态能 $E_{\\text{dynamic}}$ 和总静态能 $E_{\\text{static}}$ 的和。\n$$E_{\\text{total}} = E_{\\text{dynamic}} + E_{\\text{static}}$$\n我们将推导每个分量的表达式。\n\n静态能 $E_{\\text{static}}$ 是在推理持续时间内由泄漏电流消耗的能量。它计算为静态泄漏功率 $P_{\\text{leak}}$ 和推理持续时间 $T$ 的乘积。\n$$E_{\\text{static}} = P_{\\text{leak}} \\cdot T$$\n这是静态泄漏贡献。\n\n动态能 $E_{\\text{dynamic}}$ 是由开关活动消耗的能量，在该架构中是事件驱动的。它可以分解为轴突脉冲分派的能量 $E_{\\text{axonal}}$ 和所有后续突触事件的能量 $E_{\\text{synaptic}}$。\n$$E_{\\text{dynamic}} = E_{\\text{axonal}} + E_{\\text{synaptic}}$$\n\n首先，我们计算在推理窗口期间发生的突触前脉冲总数 $S_{\\text{total}}$。这是神经元数量 $N$、每个神经元的平均脉冲发放率 $r$ 和推理持续时间 $T$ 的乘积。\n$$S_{\\text{total}} = N \\cdot r \\cdot T$$\n\n轴突分派能量 $E_{\\text{axonal}}$ 是分派所有这些脉冲的总能量。它是脉冲总数与每次轴突分派能量 $e_{a}$ 的乘积。\n$$E_{\\text{axonal}} = S_{\\text{total}} \\cdot e_{a} = (N \\cdot r \\cdot T) \\cdot e_{a}$$\n这是轴突脉冲分派贡献。\n\n每个突触前脉冲扇出到 $F$ 个突触后目标，触发 $F$ 个突触事件。突触事件的总数 $N_{\\text{syn}}$ 是：\n$$N_{\\text{syn}} = S_{\\text{total}} \\cdot F = (N \\cdot r \\cdot T) \\cdot F$$\n\n单个突触事件的能量 $e_{\\text{syn}}$ 是其组成操作的能量之和：权重内存读取 ($e_{w}$)、路由和突触后累积 ($e_{s}$)。一个事件的路由能量是每跳路由能量 $e_{h}$ 与平均跳数 $\\bar{h}$ 的乘积。\n$$e_{\\text{syn}} = e_{w} + (e_{h} \\cdot \\bar{h}) + e_{s}$$\n\n总突触能量 $E_{\\text{synaptic}}$ 是突触事件总数与每个突触事件能量的乘积。\n$$E_{\\text{synaptic}} = N_{\\text{syn}} \\cdot e_{\\text{syn}} = (N \\cdot r \\cdot T \\cdot F) \\cdot (e_{w} + e_{h} \\cdot \\bar{h} + e_{s})$$\n这是突触事件动态贡献。\n\n结合所有分量，每次推理的总能量表达式为：\n$$E_{\\text{total}} = E_{\\text{axonal}} + E_{\\text{synaptic}} + E_{\\text{static}}$$\n$$E_{\\text{total}} = (N \\cdot r \\cdot T \\cdot e_{a}) + (N \\cdot r \\cdot T \\cdot F \\cdot (e_{w} + e_{h} \\cdot \\bar{h} + e_{s})) + (P_{\\text{leak}} \\cdot T)$$\n这可以因式分解为：\n$$E_{\\text{total}} = T \\cdot \\left[ (N \\cdot r) \\cdot (e_{a} + F \\cdot (e_{w} + e_{h} \\cdot \\bar{h} + e_{s})) + P_{\\text{leak}} \\right]$$\n\n现在，我们计算数值。所有值都将转换为国际单位制（焦耳、瓦特、秒）。\n- $N = 2.0 \\times 10^{5}$\n- $r = 4.0 \\text{ s}^{-1}$\n- $T = 0.2 \\text{ s}$\n- $F = 40$\n- $e_{a} = 0.30 \\times 10^{-12} \\text{ J}$\n- $e_{w} = 0.25 \\times 10^{-12} \\text{ J}$\n- $e_{h} = 0.15 \\times 10^{-12} \\text{ J}$\n- $\\bar{h} = 6$\n- $e_{s} = 0.45 \\times 10^{-12} \\text{ J}$\n- $P_{\\text{leak}} = 150 \\times 10^{-6} \\text{ W}$\n\n首先，计算脉冲总数：\n$$S_{\\text{total}} = (2.0 \\times 10^{5}) \\cdot (4.0 \\text{ s}^{-1}) \\cdot (0.2 \\text{ s}) = 1.6 \\times 10^{5} \\text{ spikes}$$\n\n接下来，我们计算三个能量贡献：\n1.  **静态泄漏贡献：**\n    $$E_{\\text{static}} = (150 \\times 10^{-6} \\text{ W}) \\cdot (0.2 \\text{ s}) = 30 \\times 10^{-6} \\text{ J} = 30 \\ \\mu\\text{J}$$\n\n2.  **轴突脉冲分派贡献：**\n    $$E_{\\text{axonal}} = (1.6 \\times 10^{5}) \\cdot (0.30 \\times 10^{-12} \\text{ J}) = 0.48 \\times 10^{-7} \\text{ J} = 0.048 \\times 10^{-6} \\text{ J} = 0.048 \\ \\mu\\text{J}$$\n\n3.  **突触事件动态贡献：**\n    首先，求出每个突触事件的能量：\n    $$e_{\\text{syn}} = (0.25 \\times 10^{-12}) + ((0.15 \\times 10^{-12}) \\cdot 6) + (0.45 \\times 10^{-12}) \\text{ J}$$\n    $$e_{\\text{syn}} = (0.25 + 0.90 + 0.45) \\times 10^{-12} \\text{ J} = 1.60 \\times 10^{-12} \\text{ J}$$\n    接下来，求出突触事件的总数：\n    $$N_{\\text{syn}} = S_{\\text{total}} \\cdot F = (1.6 \\times 10^{5}) \\cdot 40 = 6.4 \\times 10^{6} \\text{ events}$$\n    最后，计算总突触能量：\n    $$E_{\\text{synaptic}} = (6.4 \\times 10^{6}) \\cdot (1.60 \\times 10^{-12} \\text{ J}) = 10.24 \\times 10^{-6} \\text{ J} = 10.24 \\ \\mu\\text{J}$$\n\n**能量分解与主导贡献：**\n三个贡献是：\n- 轴突：$E_{\\text{axonal}} = 0.048 \\ \\mu\\text{J}$\n- 突触：$E_{\\text{synaptic}} = 10.24 \\ \\mu\\text{J}$\n- 静态：$E_{\\text{static}} = 30 \\ \\mu\\text{J}$\n\n比较数值大小，$30 > 10.24 > 0.048$。因此，对于给定的参数，静态泄漏贡献是总能耗的主导部分。\n\n最后，每次推理的总能量是这些贡献的总和：\n$$E_{\\text{total}} = E_{\\text{axonal}} + E_{\\text{synaptic}} + E_{\\text{static}}$$\n$$E_{\\text{total}} = 0.048 \\ \\mu\\text{J} + 10.24 \\ \\mu\\text{J} + 30 \\ \\mu\\text{J} = 40.288 \\ \\mu\\text{J}$$\n\n题目要求答案以微焦耳为单位，并四舍五入到四位有效数字。\n$$E_{\\text{total}} \\approx 40.29 \\ \\mu\\text{J}$$\n最终答案是这个数值。",
            "answer": "$$\\boxed{40.29}$$"
        }
    ]
}