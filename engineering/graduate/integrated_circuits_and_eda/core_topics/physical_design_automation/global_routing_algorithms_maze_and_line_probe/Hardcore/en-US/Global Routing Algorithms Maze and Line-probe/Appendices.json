{
    "hands_on_practices": [
        {
            "introduction": "To build a solid foundation, we begin with the fundamental mechanics of a pathfinding algorithm. The line-probe algorithm is a classic example of a fast, greedy heuristic used in global routing. This first exercise will provide you with a tangible understanding of how such algorithms navigate a constrained grid by having you manually execute its decision-making process step by step, from encountering an obstacle to calculating a detour .",
            "id": "4274201",
            "problem": "Consider the context of Electronic Design Automation (EDA) global routing on a rectilinear grid graph. A grid graph is defined by vertices at integer lattice points with unit-weight edges connecting four-neighbor vertices. Obstacles are modeled by removing vertices from the grid. Assume a single routing layer and four-neighbor connectivity, and that paths must avoid obstacle vertices.\n\nLet the grid be the induced subgraph of integer lattice points with coordinates $(x,y)$ where $x,y \\in \\{0,1,2,\\dots,10\\}$. Define a rectangular obstacle $O$ that removes all vertices $(x,y)$ with $x \\in \\{4,5,6,7\\}$ and $y \\in \\{3,4,5,6\\}$. Let the source be $s=(2,4)$ and the target be $t=(9,4)$.\n\nYou will execute a line-probe routing algorithm on this grid. The line-probe algorithm is specified as follows, using only axis-aligned moves:\n\n1. Initialize the current vertex $c$ to $s$. Define the primary axis as the coordinate axis along which the absolute difference to $t$ is larger; in the event of equality, select the $x$-axis.\n2. Attempt to move along the primary axis in the direction that decreases the absolute difference to $t$ as long as the next vertex is neither outside the grid nor an obstacle vertex. This greedy extension continues until either $t$ is reached or the next step would enter an obstacle.\n3. If the next step along the primary axis would enter the obstacle $O$, compute the minimal perpendicular offset needed to clear $O$ in order to resume movement along the primary axis. More precisely, if the primary axis is the $x$-axis and the current vertex is $(x_{0},y_{0})$ with $x_{0}x_{t}$, and the obstacleâ€™s vertical span is $[y_{\\min},y_{\\max}]$ with $y_{\\min} \\leq y_{0} \\leq y_{\\max}$ and its horizontal span includes $x_{0}+1$, then define\n$$d_{\\text{down}} = y_{0} - (y_{\\min}-1), \\quad d_{\\text{up}} = (y_{\\max}+1) - y_{0}.$$\nChoose the perpendicular direction with the smaller offset; in the event of equality, choose the direction with positive coordinate increase (i.e., up if equal for vertical moves). Take exactly that many unit steps in the chosen perpendicular direction to achieve clearance.\n4. After clearance, resume greedy movement along the primary axis toward $t$ until alignment with $t$ on that axis is achieved or another obstacle blocks progress. When aligned with $t$ on the primary axis, finish by moving along the secondary axis to reach $t$. If a blocking event occurs again, repeat step 3 with respect to the relevant obstacle.\n\nDefine the path length $L$ to be the number of unit edges in the path produced by the line-probe algorithm. Define the Manhattan distance\n$$D_{0} = |x_{t}-x_{s}| + |y_{t}-y_{s}|.$$\nDefine the detour count $k$ by the relation $L = D_{0} + 2k$, which encodes the number of unit perpendicular offsets that are taken away from the direct Manhattan path and subsequently undone to rejoin the straight trajectory.\n\nTask: Execute the line-probe algorithm on the specified grid, obstacle, source, and target. Reconstruct the found path step by step, justify the clearance choice, compute the path length $L$, compute $D_{0}$, and determine the detour count $k$. Express the final detour count as an integer with no units. No rounding is required.",
            "solution": "The problem statement is evaluated to be valid as it is self-contained, scientifically grounded within the field of Electronic Design Automation (EDA), and unambiguously specifies all conditions required to determine a unique solution. We proceed with the execution of the specified line-probe algorithm.\n\nThe givens are:\n- Source vertex: $s = (2,4)$\n- Target vertex: $t = (9,4)$\n- Obstacle $O$: A set of removed vertices $(x,y)$ where $x \\in \\{4,5,6,7\\}$ and $y \\in \\{3,4,5,6\\}$.\n\nFirst, we calculate the Manhattan distance $D_0$ between the source and target vertices.\n$$D_{0} = |x_{t}-x_{s}| + |y_{t}-y_{s}| = |9-2| + |4-4| = 7 + 0 = 7$$\n\nNext, we execute the line-probe algorithm step by step.\n\n**Step 1: Initialization and Primary Axis Selection**\nThe algorithm starts at the current vertex $c = s = (2,4)$.\nWe determine the primary axis by comparing the absolute coordinate differences:\n- Difference in $x$: $\\Delta x = |x_t - x_s| = |9 - 2| = 7$.\n- Difference in $y$: $\\Delta y = |y_t - y_s| = |4 - 4| = 0$.\nSince $\\Delta x  \\Delta y$, the primary axis of movement is the $x$-axis.\n\n**Step 2: Greedy Movement along the Primary Axis**\nThe algorithm attempts to move from $c=(2,4)$ along the positive $x$-axis towards the target's $x$-coordinate, $x_t=9$.\nThe path begins with the segment $(2,4) \\to (3,4)$. The current vertex becomes $c=(3,4)$.\nFrom $c=(3,4)$, the next vertex along the primary axis would be $(4,4)$. We must check if $(4,4)$ is part of the obstacle $O$. The obstacle is defined for $x \\in \\{4,5,6,7\\}$ and $y \\in \\{3,4,5,6\\}$. Since $x=4$ and $y=4$ fall within these ranges, the vertex $(4,4)$ is an obstacle. The path is blocked at $c=(3,4)$.\n\n**Step 3: Obstacle Clearance**\nThe current vertex where the path is blocked is $(x_0, y_0) = (3,4)$. The primary axis is the $x$-axis, and the obstacle is encountered at $x_0+1=4$. The vertical span of the obstacle $O$ is from $y_{\\min}=3$ to $y_{\\max}=6$. The current $y$-coordinate $y_0=4$ is within this span, i.e., $y_{\\min} \\le y_0 \\le y_{\\max}$.\n\nWe calculate the perpendicular offsets required to clear the obstacle using the provided formulas:\n- The downward offset is $d_{\\text{down}} = y_{0} - (y_{\\min}-1) = 4 - (3-1) = 4 - 2 = 2$.\n- The upward offset is $d_{\\text{up}} = (y_{\\max}+1) - y_{0} = (6+1) - 4 = 7 - 4 = 3$.\n\nThe algorithm chooses the direction with the smaller offset. Since $d_{\\text{down}} = 2  d_{\\text{up}} = 3$, the chosen direction is downward. The path must be displaced by $2$ units in the negative $y$-direction. This generates the path segment $(3,4) \\to (3,3) \\to (3,2)$. The new current vertex is $c=(3,2)$.\n\n**Step 4: Resumption of Greedy Movement**\nThe current vertex is now $c=(3,2)$. The path is now at a y-coordinate ($y=2$) that is not within the obstacle's vertical span of $[3,6]$, so it is clear. The algorithm resumes greedy movement along the primary ($x$) axis.\nThe path extends from $(3,2)$ towards the target's $x$-coordinate, $x_t=9$. This creates the path segment from $(3,2)$ to $(9,2)$. The path taken is $(3,2) \\to (4,2) \\to (5,2) \\to (6,2) \\to (7,2) \\to (8,2) \\to (9,2)$.\nThe current vertex is now $c=(9,2)$. This vertex is aligned with the target $t=(9,4)$ on the primary axis.\n\nThe algorithm now switches to the secondary ($y$) axis to complete the path. It moves from $(9,2)$ to the target's $y$-coordinate, $y_t=4$. This creates the final path segment $(9,2) \\to (9,3) \\to (9,4)$. The target $t=(9,4)$ has been reached.\n\n**Path Length and Detour Count Calculation**\nWe compute the total path length $L$ by summing the lengths of the individual segments:\n1.  Initial propagation: $(2,4) \\to (3,4)$. Length = $1$.\n2.  Perpendicular detour: $(3,4) \\to (3,2)$. Length = $|2-4| = 2$.\n3.  Propagation past obstacle: $(3,2) \\to (9,2)$. Length = $|9-3| = 6$.\n4.  Final alignment: $(9,2) \\to (9,4)$. Length = $|4-2| = 2$.\n\nThe total path length is $L = 1 + 2 + 6 + 2 = 11$.\n\nFinally, we determine the detour count $k$ using the given relation $L = D_0 + 2k$.\nSubstituting the calculated values $L=11$ and $D_0=7$:\n$$11 = 7 + 2k$$\nSolving for $k$:\n$$2k = 11 - 7 = 4$$\n$$k = 2$$\nThe detour count $k$ is $2$. This value represents the magnitude of the perpendicular displacement ($2$ units) required to navigate around the obstacle. The path length is the Manhattan distance plus twice this displacement, accounting for moving away from and back to the optimal path line.",
            "answer": "$$\\boxed{2}$$"
        },
        {
            "introduction": "Finding a valid path is only the first step; a router's primary goal is to find a *good* path. In modern Electronic Design Automation (EDA), the quality of a route is measured by a cost function that balances competing objectives such as wire length, via usage, and routing congestion. This next practice problem challenges you to apply a realistic, weighted cost function to evaluate and compare two distinct paths, highlighting the critical trade-offs that routing algorithms must navigate .",
            "id": "4274210",
            "problem": "Consider a two-dimensional global routing grid graph $\\mathcal{G} = (\\mathcal{V}, \\mathcal{E})$ used in Integrated Circuit Electronic Design Automation (EDA). Each routing edge $e \\in \\mathcal{E}$ has an integer capacity $u_{e}$ and an integer demand $d_{e}$ accumulated from previously routed nets. The overflow on an edge is defined as $\\max(0, d_{e} - u_{e})$. In congestion-aware routing based on Lagrangian relaxation, each edge $e$ is assigned a nonnegative dual price $\\lambda_{e}$ that penalizes paths traversing edges with overflow; for an edge with positive overflow, assume $\\lambda_{e} = \\eta$, and for an edge without overflow, assume $\\lambda_{e} = 0$. A path cost $J(P)$ for a candidate routing path $P$ is modeled as the sum of three components: a scaled Manhattan length term, a via penalty term, and a congestion dual-price term. Specifically, the cost is\n$$\nJ(P) = \\alpha \\, L(P) + \\rho \\, V(P) + \\sum_{e \\in P} \\lambda_{e},\n$$\nwhere $L(P)$ is the number of unit-length edges in $P$, $V(P)$ is the number of vias in $P$, $\\alpha  0$ is the unit edge cost weight, and $\\rho  0$ is the per-via penalty.\n\nA maze router proposes a candidate path $P_{\\text{maze}}$ that traverses $12$ unit edges, incurs $2$ vias, and crosses exactly one edge with positive overflow (so its $\\lambda_{e}$ on that edge is $\\eta$ and $\\lambda_{e} = 0$ on all other edges of $P_{\\text{maze}}$). A line-probe router proposes an alternative monotone path $P_{\\text{probe}}$ that traverses $11$ unit edges, incurs $3$ vias, and crosses no edges with positive overflow (so $\\lambda_{e} = 0$ on every edge of $P_{\\text{probe}}$).\n\nStarting from the given definitions of overflow, dual prices, and path cost, derive the analytic expression for the difference in the two path costs\n$$\n\\Delta J \\triangleq J(P_{\\text{maze}}) - J(P_{\\text{probe}})\n$$\nin terms of the parameters $\\alpha$, $\\rho$, and $\\eta$. Express your final answer as a single simplified analytic expression in $\\alpha$, $\\rho$, and $\\eta$ with no numerical substitution. Do not include any units in your final expression.",
            "solution": "The problem statement is first subjected to a rigorous validation process.\n\n### Step 1: Extract Givens\nThe following data and definitions are provided in the problem statement:\n- A $2$-dimensional global routing grid graph $\\mathcal{G} = (\\mathcal{V}, \\mathcal{E})$.\n- Each edge $e \\in \\mathcal{E}$ has an integer capacity $u_{e}$ and an integer demand $d_{e}$.\n- The overflow on an edge is defined as $\\max(0, d_{e} - u_{e})$.\n- A nonnegative dual price $\\lambda_e$ is assigned to each edge $e$.\n- If an edge has positive overflow ($d_e - u_e  0$), then $\\lambda_{e} = \\eta$.\n- If an edge has no overflow ($d_e - u_e \\le 0$), then $\\lambda_{e} = 0$.\n- The cost of a routing path $P$ is given by $J(P) = \\alpha \\, L(P) + \\rho \\, V(P) + \\sum_{e \\in P} \\lambda_{e}$.\n- $L(P)$ is the number of unit-length edges in $P$.\n- $V(P)$ is the number of vias in $P$.\n- $\\alpha  0$ is the unit edge cost weight.\n- $\\rho  0$ is the per-via penalty.\n- A maze router proposes a path $P_{\\text{maze}}$ with:\n    - Length $L(P_{\\text{maze}}) = 12$.\n    - Vias $V(P_{\\text{maze}}) = 2$.\n    - Crosses exactly one edge with positive overflow.\n- A line-probe router proposes a path $P_{\\text{probe}}$ with:\n    - Length $L(P_{\\text{probe}}) = 11$.\n    - Vias $V(P_{\\text{probe}}) = 3$.\n    - Crosses no edges with positive overflow.\n- The objective is to derive an expression for the cost difference $\\Delta J \\triangleq J(P_{\\text{maze}}) - J(P_{\\text{probe}})$.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is evaluated against the validation criteria.\n- **Scientifically Grounded**: The problem is grounded in the established field of Electronic Design Automation (EDA) for integrated circuits. The concepts of a routing grid, edge capacity, demand, overflow, and a cost function composed of length, via count, and a congestion penalty are standard in global routing algorithms. The use of a dual price $\\lambda_e$ is characteristic of congestion-aware routing methods based on Lagrangian relaxation, a well-founded optimization technique.\n- **Well-Posed**: The problem is well-posed. It provides all necessary information to calculate the costs of the two paths and their difference. The definitions are clear, and the data are sufficient to yield a unique analytical solution.\n- **Objective**: The problem is stated in objective, quantitative terms, free of ambiguity or subjective claims.\n- **Completeness and Consistency**: The problem is self-contained and free of contradictions. The given parameters $\\alpha  0$ and $\\rho  0$ are consistent with their physical meaning as cost penalties.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid** as it is scientifically grounded, well-posed, and internally consistent. A solution will now be derived.\n\nThe cost of a path $P$ is given by the function:\n$$\nJ(P) = \\alpha \\, L(P) + \\rho \\, V(P) + \\sum_{e \\in P} \\lambda_{e}\n$$\nFirst, we will calculate the cost of the path proposed by the maze router, $J(P_{\\text{maze}})$.\nThe given parameters for $P_{\\text{maze}}$ are:\n- Path length, $L(P_{\\text{maze}}) = 12$.\n- Number of vias, $V(P_{\\text{maze}}) = 2$.\nThe path $P_{\\text{maze}}$ traverses exactly one edge with positive overflow. For this single edge, its dual price is $\\lambda_e = \\eta$. For all other edges in $P_{\\text{maze}}$, there is no overflow, so their dual prices are $\\lambda_e = 0$. The congestion term is the sum of these prices over all edges in the path:\n$$\n\\sum_{e \\in P_{\\text{maze}}} \\lambda_{e} = \\eta + \\sum_{\\text{other edges}} 0 = \\eta\n$$\nSubstituting these values into the cost function, we obtain:\n$$\nJ(P_{\\text{maze}}) = \\alpha(12) + \\rho(2) + \\eta = 12\\alpha + 2\\rho + \\eta\n$$\nNext, we calculate the cost of the path proposed by the line-probe router, $J(P_{\\text{probe}})$.\nThe given parameters for $P_{\\text{probe}}$ are:\n- Path length, $L(P_{\\text{probe}}) = 11$.\n- Number of vias, $V(P_{\\text{probe}}) = 3$.\nThe path $P_{\\text{probe}}$ traverses no edges with positive overflow. This means for every edge $e \\in P_{\\text{probe}}$, the condition $d_e - u_e \\le 0$ holds. According to the problem definition, the dual price for each of these edges is $\\lambda_e = 0$. The congestion term is therefore:\n$$\n\\sum_{e \\in P_{\\text{probe}}} \\lambda_{e} = \\sum_{e \\in P_{\\text{probe}}} 0 = 0\n$$\nSubstituting these values into the cost function, we get:\n$$\nJ(P_{\\text{probe}}) = \\alpha(11) + \\rho(3) + 0 = 11\\alpha + 3\\rho\n$$\nFinally, we compute the difference in the two path costs, $\\Delta J$.\n$$\n\\Delta J = J(P_{\\text{maze}}) - J(P_{\\text{probe}})\n$$\nSubstituting the derived expressions for each cost:\n$$\n\\Delta J = (12\\alpha + 2\\rho + \\eta) - (11\\alpha + 3\\rho)\n$$\nGroup terms by the parameters $\\alpha$, $\\rho$, and $\\eta$:\n$$\n\\Delta J = (12\\alpha - 11\\alpha) + (2\\rho - 3\\rho) + \\eta\n$$\nSimplifying the expression yields the final analytical result:\n$$\n\\Delta J = \\alpha - \\rho + \\eta\n$$\nThis expression represents the difference in cost between the two candidate paths in terms of the fundamental routing cost parameters.",
            "answer": "$$\n\\boxed{\\alpha - \\rho + \\eta}\n$$"
        },
        {
            "introduction": "Global routing rarely achieves an optimal solution in a single pass. Instead, it is typically an iterative process where an initial routing is refined to resolve issues like congestion. This final exercise simulates a \"rip-up and reroute\" cycle, a cornerstone of modern routers. You will analyze a congested layout, quantify the problem by calculating the total overflow, and then strategically find a new path for a single net to improve the overall quality of the solution, demonstrating how local changes can address global problems .",
            "id": "4274190",
            "problem": "Consider Electronic Design Automation (EDA) global routing on a rectilinear grid. Model the routing region as a grid graph $G=(V,E)$ whose vertices $V$ are the integer lattice points $(x,y)$ with $x,y \\in \\{0,1,2,3\\}$ and whose undirected edges $E$ connect unit-Manhattan neighbors (horizontal and vertical adjacencies only). Each edge $e \\in E$ has capacity $c(e)=1$. There are three two-pin nets $N_1$, $N_2$, and $N_3$ with the following source-sink pairs:\n- $N_1$: $(0,1)$ to $(3,1)$,\n- $N_2$: $(1,0)$ to $(1,3)$,\n- $N_3$: $(0,1)$ to $(3,0)$.\nAssume an initial assignment produced by the line-probe method: $N_1$ is routed horizontally along the row $y=1$ from $x=0$ to $x=3$, $N_2$ is routed vertically along the column $x=1$ from $y=0$ to $y=3$, and $N_3$ is routed horizontally along the row $y=1$ from $x=0$ to $x=3$ and then vertically along the column $x=3$ from $y=1$ down to $y=0$. The assigned demand $d(e)$ on an edge $e$ is defined as the number of nets whose assigned path uses $e$. The total overflow is defined as\n$$\\text{OF} \\;=\\; \\sum_{e \\in E} \\max\\!\\big(0,\\, d(e) - c(e)\\big).$$\nIn maze routing, a breadth-first search (BFS) or Dijkstra-style search on $G$ is performed with an edge cost model that penalizes predicted congestion. For this problem, use the edge cost\n$$w(e) \\;=\\; 1 \\;+\\; \\lambda \\cdot \\max\\!\\big(0,\\, d(e) + 1 - c(e)\\big),$$\nwhere $\\lambda0$ is a congestion penalty and the $+1$ in $d(e)+1$ reflects the incremental demand of the net currently being rerouted.\n\nTasks:\n- Using the initial line-probe assignment, compute the total overflow $\\text{OF}$ and identify the edges with the largest positive values of $d(e)-c(e)$.\n- Subject to the constraint that exactly one net may be rerouted and its Manhattan length must not exceed its initial Manhattan length, choose a rerouting target and a maze-found path that reduces $\\text{OF}$ by at least $1$ unit.\n- Under the above constraint and cost model, determine the minimal achievable total overflow after rerouting exactly one net. Express your final answer as an exact integer.",
            "solution": "The problem asks for the minimal achievable total overflow on a routing grid by rerouting a single net, subject to certain constraints. First, the problem is validated for correctness and completeness.\n\n### Step 1: Extract Givens\n- **Grid Graph**: $G=(V,E)$ where $V = \\{(x,y) | x,y \\in \\{0, 1, 2, 3\\}\\}$. Edges in $E$ connect vertices with a Manhattan distance of $1$.\n- **Edge Capacity**: $c(e) = 1$ for all edges $e \\in E$.\n- **Nets**:\n  - $N_1$: source $s_1=(0,1)$, sink $t_1=(3,1)$.\n  - $N_2$: source $s_2=(1,0)$, sink $t_2=(1,3)$.\n  - $N_3$: source $s_3=(0,1)$, sink $t_3=(3,0)$.\n- **Initial Routing Paths**:\n  - $P_1$: For $N_1$, horizontal path along $y=1$. Edges are $\\{((0,1),(1,1)), ((1,1),(2,1)), ((2,1),(3,1))\\}$.\n  - $P_2$: For $N_2$, vertical path along $x=1$. Edges are $\\{((1,0),(1,1)), ((1,1),(1,2)), ((1,2),(1,3))\\}$.\n  - $P_3$: For $N_3$, L-shaped path. Edges are $\\{((0,1),(1,1)), ((1,1),(2,1)), ((2,1),(3,1)), ((3,1),(3,0))\\}$.\n- **Demand and Overflow**:\n  - Demand $d(e)$ is the number of net paths traversing edge $e$.\n  - Total overflow $\\text{OF} = \\sum_{e \\in E} \\max(0, d(e) - c(e))$.\n- **Rerouting Cost Model**:\n  - For maze routing, edge cost is $w(e) = 1 + \\lambda \\cdot \\max(0, d(e) + 1 - c(e))$, with $\\lambda  0$. Here, $d(e)$ is the demand *before* routing the current net.\n- **Rerouting Constraints**:\n  - Exactly one net is to be rerouted.\n  - The length of the new path must not exceed the length of the net's initial path.\n\n### Step 2: Validate Using Extracted Givens\nThe problem statement is well-defined, internally consistent, and scientifically grounded within the field of Electronic Design Automation (EDA), specifically global routing algorithms. It provides a clear setup with a grid, nets, initial conditions, and objective functions. The concepts of maze routing, line-probe routing, overflow, and congestion-based cost functions are standard in this domain. The problem is objective and requires a quantitative answer based on the provided data. There are no contradictions, ambiguities, or missing information. The problem is valid.\n\n### Step 3: Solution\n\n#### Task 1: Initial Overflow Calculation\nWe first calculate the initial demand $d(e)$ for every edge $e$ based on the given paths for nets $N_1$, $N_2$, and $N_3$. The edge capacity is $c(e)=1$ for all $e$.\n\n1.  **Demand on horizontal edges along $y=1$**:\n    - The edge $((0,1),(1,1))$ is used by $N_1$ and $N_3$. So, $d((0,1),(1,1))) = 2$.\n    - The edge $((1,1),(2,1))$ is used by $N_1$ and $N_3$. So, $d((1,1),(2,1))) = 2$.\n    - The edge $((2,1),(3,1))$ is used by $N_1$ and $N_3$. So, $d((2,1),(3,1))) = 2$.\n\n2.  **Demand on vertical edges along $x=1$**:\n    - The edges $((1,0),(1,1))$, $((1,1),(1,2))$, and $((1,2),(1,3))$ are used only by $N_2$. Their demand is $1$.\n\n3.  **Demand on other edges**:\n    - The edge $((3,1),(3,0))$ is used only by $N_3$. Its demand is $1$.\n    - All other edges in the grid are unused, so their demand is $0$.\n\nThe overflow on an edge $e$ is $\\max(0, d(e) - c(e))$.\n- For the three edges on the path segment from $(0,1)$ to $(3,1)$: $d(e)=2$, so overflow is $\\max(0, 2-1) = 1$.\n- For all other used edges, $d(e)=1$, so overflow is $\\max(0, 1-1) = 0$.\n- For all unused edges, $d(e)=0$, so overflow is $\\max(0, 0-1) = 0$.\n\nThe total overflow is the sum of overflows over all edges:\n$$ \\text{OF}_{\\text{initial}} = (2-1) + (2-1) + (2-1) = 1+1+1=3. $$\nThe edges with the largest positive overflow ($d(e)-c(e)=1$) are $((0,1),(1,1))$, $((1,1),(2,1))$, and $((2,1),(3,1))$.\n\n#### Task 2: Rerouting Analysis\nWe must reroute exactly one net. The new path's length must not exceed the initial path's length.\n\n- **Net $N_1$**: Source $(0,1)$, Sink $(3,1)$.\n  - Manhattan distance: $|3-0| + |1-1| = 3$.\n  - Initial path length: $3$ horizontal steps. Length is $3$.\n  - Any new path must have length at most $3$. Since the shortest possible path length is the Manhattan distance of $3$, any new path must be a shortest path of length $3$. A path from $(0,1)$ to $(3,1)$ of length $3$ requires $3$ 'Right' steps and $0$ 'Up'/'Down'/'Left' steps. The only such path is the initial one. Thus, $N_1$ cannot be rerouted.\n\n- **Net $N_2$**: Source $(1,0)$, Sink $(1,3)$.\n  - Manhattan distance: $|1-1| + |3-0| = 3$.\n  - Initial path length: $3$ vertical steps. Length is $3$.\n  - Similar to $N_1$, any new path must have length $3$. This requires $3$ 'Up' steps and $0$ other steps. The only such path is the initial one. Thus, $N_2$ cannot be rerouted.\n\n- **Net $N_3$**: Source $(0,1)$, Sink $(3,0)$.\n  - Manhattan distance: $|3-0| + |0-1| = 4$.\n  - Initial path length: $3$ 'Right' steps, $1$ 'Down' step. Length is $4$.\n  - Any new path must have length at most $4$. The shortest path length is $4$. Therefore, any valid rerouting must use a shortest Manhattan path of length $4$. A path from $(0,1)$ to $(3,0)$ of length $4$ must consist of $3$ 'Right' (R) moves and $1$ 'Down' (D) move. The number of such paths is given by the binomial coefficient $\\binom{3+1}{1} = \\binom{4}{1} = 4$.\n  - The four paths are sequences of moves from $(0,1)$:\n    1.  RRRD: $(0,1) \\to (1,1) \\to (2,1) \\to (3,1) \\to (3,0)$. This is the initial path.\n    2.  RRDR: $(0,1) \\to (1,1) \\to (2,1) \\to (2,0) \\to (3,0)$.\n    3.  RDRR: $(0,1) \\to (1,1) \\to (1,0) \\to (2,0) \\to (3,0)$.\n    4.  DRRR: $(0,1) \\to (0,0) \\to (1,0) \\to (2,0) \\to (3,0)$.\n\nWe need to evaluate the total overflow for each of the three alternative paths for $N_3$. When rerouting $N_3$, we first \"rip up\" its initial path. The remaining demands, $d'(e)$, are due to $N_1$ and $N_2$.\n- $d'(e)=1$ for edges on the path of $N_1$: $\\{((0,1),(1,1)), ((1,1),(2,1)), ((2,1),(3,1))\\}$.\n- $d'(e)=1$ for edges on the path of $N_2$: $\\{((1,0),(1,1)), ((1,1),(1,2)), ((1,2),(1,3))\\}$.\n- $d'(e)=0$ for all other edges.\n\nNow we calculate the new total overflow for each alternative path for $N_3$. The new demand is $d_{\\text{new}}(e)$.\n\n- **Path 2 (RRDR)**: The new path for $N_3$ uses edges $((0,1),(1,1))$, $((1,1),(2,1))$, $((2,1),(2,0))$, $((2,0),(3,0))$.\n  - Edge $((0,1),(1,1))$: Used by $N_1$. $d' = 1$. $d_{\\text{new}} = 1+1=2$. Overflow $= 1$.\n  - Edge $((1,1),(2,1))$: Used by $N_1$. $d' = 1$. $d_{\\text{new}} = 1+1=2$. Overflow $= 1$.\n  - Other edges on the path have $d'=0$, so $d_{\\text{new}}=1$ and overflow is $0$.\n  - The edge $((2,1),(3,1))$, previously used by $N_1$ and $N_3$, is now only used by $N_1$, so its demand is $1$ and its overflow is $0$.\n  - The total overflow for this case is $1+1=2$.\n\n- **Path 3 (RDRR)**: The new path for $N_3$ uses edges $((0,1),(1,1))$, $((1,1),(1,0))$, $((1,0),(2,0))$, $((2,0),(3,0))$. Note that edge $((1,1),(1,0))$ is the same as $((1,0),(1,1))$.\n  - Edge $((0,1),(1,1))$: Used by $N_1$. $d' = 1$. $d_{\\text{new}} = 1+1=2$. Overflow $= 1$.\n  - Edge $((1,0),(1,1))$: Used by $N_2$. $d' = 1$. $d_{\\text{new}} = 1+1=2$. Overflow $= 1$.\n  - Other edges on the path have $d'=0$, so $d_{\\text{new}}=1$ and overflow is $0$.\n  - The total overflow for this case is $1+1=2$.\n\n- **Path 4 (DRRR)**: The new path for $N_3$ uses edges $((0,1),(0,0))$, $((0,0),(1,0))$, $((1,0),(2,0))$, $((2,0),(3,0))$.\n  - None of these four edges are part of the initial paths of $N_1$ or $N_2$. So for each of them, $d'(e)=0$. Adding $N_3$ makes $d_{\\text{new}}(e)=1$ and results in zero overflow on these edges.\n  - The paths for $N_1$, $N_2$, and the new path for $N_3$ are edge-disjoint:\n    - $P_1$ edges: $\\{((0,1),(1,1)), ((1,1),(2,1)), ((2,1),(3,1))\\}$\n    - $P_2$ edges: $\\{((1,0),(1,1)), ((1,1),(1,2)), ((1,2),(1,3))\\}$\n    - New $P_3$ edges: $\\{((0,1),(0,0)), ((0,0),(1,0)), ((1,0),(2,0)), ((2,0),(3,0))\\}$\n  - Since the three paths do not share any edges, the demand on any edge of the grid is at most $1$. Given that $c(e)=1$, the demand $d_{\\text{new}}(e)$ never exceeds the capacity.\n  - Therefore, $d_{\\text{new}}(e) \\le 1$ for all $e \\in E$, and $\\max(0, d_{\\text{new}}(e) - c(e)) = 0$ for all edges.\n  - The total overflow for this case is $0$.\n\n#### Task 3: Minimal Achievable Total Overflow\nWe have found that rerouting $N_1$ or $N_2$ is not possible under the given constraints. Rerouting $N_3$ is possible, and the alternative paths yield total overflows of $2$, $2$, and $0$. The minimal value among these is $0$. Since overflow is non-negative, $0$ is the lowest possible value.\n\nThe problem also specifies a maze routing cost function. Let's verify that the path leading to zero overflow would be chosen. When rerouting $N_3$, the cost of an edge $e$ is $w(e) = 1 + \\lambda \\cdot \\max(0, d'(e) + 1 - 1) = 1 + \\lambda \\cdot d'(e)$, where $d'(e)$ is the demand from $N_1$ and $N_2$. Edges used by $N_1$ or $N_2$ have $d'(e)=1$ and cost $1+\\lambda$. Unused edges have $d'(e)=0$ and cost $1$.\n- Cost of Path 1 (RRRD): $3(1+\\lambda) + 1 = 4+3\\lambda$.\n- Cost of Path 2 (RRDR): $2(1+\\lambda) + 2(1) = 4+2\\lambda$.\n- Cost of Path 3 (RDRR): $2(1+\\lambda) + 2(1) = 4+2\\lambda$.\n- Cost of Path 4 (DRRR): $4(1) = 4$.\n\nSince $\\lambda0$, the path with the minimum cost is Path 4 (DRRR). This is the path that a congestion-aware maze router would choose, and it is the same path that yields the minimal overflow.\n\nThe minimal achievable total overflow after rerouting exactly one net is $0$.",
            "answer": "$$\\boxed{0}$$"
        }
    ]
}