{
    "hands_on_practices": [
        {
            "introduction": "The first step in tackling any channel routing problem is to translate the physical pin layout into a more abstract, mathematical form. This exercise focuses on this foundational skill by asking you to determine the horizontal span, or interval, for each net based on its pin locations. You will also calculate the channel density, a key metric that provides a theoretical lower bound on the number of tracks required, giving a first estimate of the problem's complexity .",
            "id": "4279143",
            "problem": "Consider a two-layer channel routing instance from Electronic Design Automation (EDA) in which horizontal tracks are assigned to route nets between a top row and a bottom row across a set of uniformly spaced columns indexed by $c \\in \\{1, 2, \\dots, 17\\}$. Let the set of nets be $\\{n_1, n_2, n_3, n_4, n_5, n_6, n_7, n_8\\}$. A net may have multiple pins on either the top or bottom row. For each column $c$, the top-row pin assignment is denoted $T(c)$ and the bottom-row pin assignment is denoted $B(c)$, with the convention that if a row has no pin at column $c$, the assignment is empty.\n\nThe pin assignments are as follows:\n- Top row: $T(1)=n_1$, $T(2)=n_2$, $T(3)=n_3$, $T(4)$ empty, $T(5)=n_4$, $T(6)=n_2$, $T(7)=n_5$, $T(8)=n_6$, $T(9)$ empty, $T(10)=n_7$, $T(11)=n_3$, $T(12)=n_8$, $T(13)$ empty, $T(14)=n_5$, $T(15)=n_1$, $T(16)=n_4$, $T(17)$ empty.\n- Bottom row: $B(1)$ empty, $B(2)=n_5$, $B(3)=n_1$, $B(4)=n_6$, $B(5)$ empty, $B(6)=n_7$, $B(7)$ empty, $B(8)=n_2$, $B(9)=n_4$, $B(10)$ empty, $B(11)=n_8$, $B(12)=n_3$, $B(13)=n_5$, $B(14)$ empty, $B(15)=n_6$, $B(16)=n_2$, $B(17)=n_7$.\n\nFundamental definitions to be used:\n- For each net $n_i$, define its horizontal interval as $[l_i, r_i]$, where $l_i$ is the minimum column index at which any pin of $n_i$ appears (top or bottom row) and $r_i$ is the maximum such column index.\n- Two intervals $[l_i, r_i]$ and $[l_j, r_j]$ are nested if $l_j \\leq l_i$ and $r_i \\leq r_j$, meaning $[l_i, r_i]$ is completely contained in $[l_j, r_j]$. They are disjoint if $r_i < l_j$ or $r_j < l_i$.\n- The channel density $D$ is defined as $D = \\max_{c \\in \\{1, \\dots, 17\\}} \\delta(c)$, where $\\delta(c)$ is the number of nets $n_i$ whose intervals satisfy $l_i \\leq c \\leq r_i$.\n\nTask:\n1. Compute $[l_i, r_i]$ for each net $n_i$ using the given pin assignments.\n2. Using the computed intervals, verify whether any intervals are nested or disjoint, and provide a categorization based on the definitions above.\n3. Compute the channel density $D$ for this instance. Report the final answer as the single value of $D$. No rounding is required.",
            "solution": "The problem statement has been validated and is deemed valid. It is a well-posed, scientifically grounded problem from the field of Electronic Design Automation (EDA), with all necessary information and definitions provided for its solution.\n\nThe solution proceeds by following the three tasks outlined in the problem statement.\n\nFirst, we compute the horizontal interval $[l_i, r_i]$ for each net $n_i$. The interval is defined by the minimum column index, $l_i$, and the maximum column index, $r_i$, where the net has a pin. The pin assignments are given for the top row, $T(c)$, and bottom row, $B(c)$, for columns $c \\in \\{1, 2, \\dots, 17\\}$.\n\nFor net $n_1$: Pins are at $T(1)$, $B(3)$, and $T(15)$. The set of column indices is $\\{1, 3, 15\\}$. Thus, $l_1 = \\min\\{1, 3, 15\\} = 1$ and $r_1 = \\max\\{1, 3, 15\\} = 15$. The interval is $[1, 15]$.\n\nFor net $n_2$: Pins are at $T(2)$, $T(6)$, $B(8)$, and $B(16)$. The set of column indices is $\\{2, 6, 8, 16\\}$. Thus, $l_2 = \\min\\{2, 6, 8, 16\\} = 2$ and $r_2 = \\max\\{2, 6, 8, 16\\} = 16$. The interval is $[2, 16]$.\n\nFor net $n_3$: Pins are at $T(3)$, $T(11)$, and $B(12)$. The set of column indices is $\\{3, 11, 12\\}$. Thus, $l_3 = \\min\\{3, 11, 12\\} = 3$ and $r_3 = \\max\\{3, 11, 12\\} = 12$. The interval is $[3, 12]$.\n\nFor net $n_4$: Pins are at $T(5)$, $B(9)$, and $T(16)$. The set of column indices is $\\{5, 9, 16\\}$. Thus, $l_4 = \\min\\{5, 9, 16\\} = 5$ and $r_4 = \\max\\{5, 9, 16\\} = 16$. The interval is $[5, 16]$.\n\nFor net $n_5$: Pins are at $B(2)$, $T(7)$, $B(13)$, and $T(14)$. The set of column indices is $\\{2, 7, 13, 14\\}$. Thus, $l_5 = \\min\\{2, 7, 13, 14\\} = 2$ and $r_5 = \\max\\{2, 7, 13, 14\\} = 14$. The interval is $[2, 14]$.\n\nFor net $n_6$: Pins are at $B(4)$, $T(8)$, and $B(15)$. The set of column indices is $\\{4, 8, 15\\}$. Thus, $l_6 = \\min\\{4, 8, 15\\} = 4$ and $r_6 = \\max\\{4, 8, 15\\} = 15$. The interval is $[4, 15]$.\n\nFor net $n_7$: Pins are at $B(6)$, $T(10)$, and $B(17)$. The set of column indices is $\\{6, 10, 17\\}$. Thus, $l_7 = \\min\\{6, 10, 17\\} = 6$ and $r_7 = \\max\\{6, 10, 17\\} = 17$. The interval is $[6, 17]$.\n\nFor net $n_8$: Pins are at $B(11)$ and $T(12)$. The set of column indices is $\\{11, 12\\}$. Thus, $l_8 = \\min\\{11, 12\\} = 11$ and $r_8 = \\max\\{11, 12\\} = 12$. The interval is $[11, 12]$.\n\nSummary of intervals:\n$n_1: [1, 15]$\n$n_2: [2, 16]$\n$n_3: [3, 12]$\n$n_4: [5, 16]$\n$n_5: [2, 14]$\n$n_6: [4, 15]$\n$n_7: [6, 17]$\n$n_8: [11, 12]$\n\nSecond, we analyze the relationships between these intervals.\nTwo intervals $[l_i, r_i]$ and $[l_j, r_j]$ are disjoint if their intersection is empty, i.e., $r_i < l_j$ or $r_j < l_i$. We observe that for every interval $[l_i, r_i]$, the range $[11, 12]$ is a subset of it (or the interval itself in the case of $n_8$). Since all intervals contain the columns $11$ and $12$, no two intervals are disjoint.\n\nTwo intervals are nested if one is completely contained within the other. We can identify several nested relationships. For example, the interval for $n_8$, which is $[11, 12]$, is nested within the interval for $n_3$, which is $[3, 12]$, because $l_3 = 3 \\leq l_8 = 11$ and $r_8 = 12 \\leq r_3 = 12$. In turn, the interval for $n_3$, $[3, 12]$, is nested within the interval for $n_5$, $[2, 14]$, since $l_5=2 \\leq l_3=3$ and $r_3=12 \\leq r_5=14$. Many other pairs of intervals simply overlap without being nested, such as $[1, 15]$ and $[2, 16]$.\n\nThird, we compute the channel density $D$. The channel density is defined as $D = \\max_{c \\in \\{1, \\dots, 17\\}} \\delta(c)$, where $\\delta(c)$ is the local density at column $c$. The value $\\delta(c)$ is the number of nets whose horizontal interval $[l_i, r_i]$ contains the column $c$, i.e., $l_i \\leq c \\leq r_i$. We can compute $\\delta(c)$ for each column $c$ from $1$ to $17$.\n\n$\\delta(1) = 1$ (net $n_1$)\n$\\delta(2) = 3$ (nets $n_1, n_2, n_5$)\n$\\delta(3) = 4$ (nets $n_1, n_2, n_3, n_5$)\n$\\delta(4) = 5$ (nets $n_1, n_2, n_3, n_5, n_6$)\n$\\delta(5) = 6$ (nets $n_1, n_2, n_3, n_4, n_5, n_6$)\n$\\delta(6) = 7$ (nets $n_1, n_2, n_3, n_4, n_5, n_6, n_7$)\n$\\delta(7) = 7$ (same as at $c=6$)\n$\\delta(8) = 7$ (same as at $c=6$)\n$\\delta(9) = 7$ (same as at $c=6$)\n$\\delta(10) = 7$ (same as at $c=6$)\n$\\delta(11) = 8$ (nets $n_1, n_2, n_3, n_4, n_5, n_6, n_7, n_8$)\n$\\delta(12) = 8$ (same as at $c=11$; $n_3$ and $n_8$ end here)\n$\\delta(13) = 6$ (nets $n_1, n_2, n_4, n_5, n_6, n_7$)\n$\\delta(14) = 6$ (same as at $c=13$; $n_5$ ends here)\n$\\delta(15) = 5$ (nets $n_1, n_2, n_4, n_6, n_7$; $n_1$ and $n_6$ end here)\n$\\delta(16) = 3$ (nets $n_2, n_4, n_7$; $n_2$ and $n_4$ end here)\n$\\delta(17) = 1$ (net $n_7$; $n_7$ ends here)\n\nThe local densities $\\delta(c)$ are $\\{1, 3, 4, 5, 6, 7, 7, 7, 7, 7, 8, 8, 6, 6, 5, 3, 1\\}$.\nThe channel density $D$ is the maximum of these values.\n$$D = \\max\\{1, 3, 4, 5, 6, 7, 7, 7, 7, 7, 8, 8, 6, 6, 5, 3, 1\\} = 8$$\nThe maximum density occurs at columns $c=11$ and $c=12$.\nThe channel density $D$ is therefore $8$. This value represents the theoretical lower bound on the number of horizontal tracks required to route this channel instance without vertical constraints.",
            "answer": "$$\\boxed{8}$$"
        },
        {
            "introduction": "While understanding the components of a routing problem is essential, true mastery comes from seeing the algorithm in action. This practice challenges you to perform a manual simulation of the constrained left-edge algorithm, a cornerstone of channel routing . By constructing the vertical constraint graph and then methodically assigning nets to tracks, you will gain a concrete understanding of how the algorithm juggles precedence constraints with the greedy goal of horizontal packing.",
            "id": "4279171",
            "problem": "Consider channel routing in Electronic Design Automation (EDA). A channel consists of $14$ ordered columns labeled $1$ through $14$, with top and bottom rows carrying pins that belong to nets. A net is defined by all of its pins in the channel; its horizontal wire will span the interval from its leftmost pin column to its rightmost pin column. The routing uses the constrained left-edge algorithm without doglegs (no intermediate vertical jogs), a single horizontal wire per net, one net per track at a given horizontal column, and vertical constraint ordering induced by top-over-bottom pin pairs. Tracks are numbered in increasing order from top to bottom, and a vertical constraint that places net $A$ over net $B$ at a column requires that the track of $A$ be strictly above the track of $B$. Horizontal wires on the same track must not overlap; that is, for intervals $[l_i,r_i]$ and $[l_j,r_j]$ on the same track, if $i$ is placed before $j$, then $l_j > r_i$ must hold. The constrained left-edge algorithm proceeds by repeatedly selecting all nets with no outstanding vertical predecessors, sorting them by left edge, and greedily filling the current track with non-overlapping intervals; placed nets are then removed from the vertical constraint graph, and the process continues to the next track until all nets are placed.\n\nYou are given the following pin layout across the channel:\n\n- Top row pins by column: $1:N_1$, $2:N_2$, $3:N_3$, $4:N_1$, $5:N_4$, $6:N_2$, $7:N_5$, $8:N_3$, $9:N_6$, $10:N_4$, $11:N_7$, $12:N_5$, $13:N_6$, $14:N_7$.\n- Bottom row pins by column: $1:N_3$, $2:N_4$, $3:N_5$, $4:N_6$, $5:N_6$, $6:N_3$, $7:N_6$, $8:N_4$, $9:N_7$, $10:N_7$, $11:\\varnothing$, $12:N_7$, $13:N_7$, $14:\\varnothing$, where $\\varnothing$ denotes no pin.\n\nTasks:\n\n- Derive each net’s interval $[l_k,r_k]$ from its pins, where $l_k$ is the minimum column index containing a pin of net $N_k$, and $r_k$ is the maximum column index containing a pin of net $N_k$.\n- Construct the vertical constraint graph (VCG) by adding a directed edge from the net on the top row to the net on the bottom row at each column that has both a top and a bottom pin; no edge is added for columns with a pin only on one side or with $\\varnothing$ on the other side.\n- Apply the constrained left-edge algorithm as defined above to assign nets to tracks, honoring both the non-overlap rule on tracks and the VCG precedence constraints.\n\nReport the final channel height, defined as the total number of tracks used by this procedure. Express your final answer as a single integer. No rounding is required, and no units are to be included in the final reported value.",
            "solution": "The user wants to solve a channel routing problem using the constrained left-edge algorithm.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n- **Channel Geometry**: A channel with $14$ columns, labeled $1$ through $14$.\n- **Pin Layout**:\n  - Top row: $1:N_1$, $2:N_2$, $3:N_3$, $4:N_1$, $5:N_4$, $6:N_2$, $7:N_5$, $8:N_3$, $9:N_6$, $10:N_4$, $11:N_7$, $12:N_5$, $13:N_6$, $14:N_7$.\n  - Bottom row: $1:N_3$, $2:N_4$, $3:N_5$, $4:N_6$, $5:N_6$, $6:N_3$, $7:N_6$, $8:N_4$, $9:N_7$, $10:N_7$, $11:\\varnothing$, $12:N_7$, $13:N_7$, $14:\\varnothing$.\n- **Net Interval Definition**: For each net $N_k$, the interval is $[l_k, r_k]$, where $l_k$ and $r_k$ are the minimum and maximum column indices of its pins, respectively.\n- **Vertical Constraint Graph (VCG) Construction**: A directed edge is added from net $N_{top}$ to net $N_{bottom}$ if they have pins in the same column, with $N_{top}$ on the top row and $N_{bottom}$ on the bottom row.\n- **Horizontal Constraint**: Wires for nets on the same track must not overlap. If interval $[l_i, r_i]$ is placed on a track, the next interval $[l_j, r_j]$ can only be placed on the same track if $l_j > r_i$.\n- **Constrained Left-Edge Algorithm**:\n  1. Identify all unplaced nets with no unplaced vertical predecessors.\n  2. Sort these candidate nets by their left edge coordinate, $l_k$, in ascending order.\n  3. Greedily place the sorted candidates onto the current track, respecting the horizontal non-overlap constraint.\n  4. Mark the nets placed on the current track as 'placed'.\n  5. Move to the next track and repeat from step 1 until all nets are placed.\n- **Objective**: Find the total number of tracks used, which is the channel height.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded, being a standard, well-known problem in the field of Electronic Design Automation (EDA) for Very Large Scale Integration (VLSI) chip design. The terminology, constraints, and algorithm are all standard and clearly defined. The problem is well-posed, as the data is complete and self-consistent, and the algorithm is deterministic, leading to a unique solution. The language is objective and precise. No flaws are identified.\n\n**Step 3: Verdict and Action**\nThe problem is valid. A full solution will be provided.\n\n### Solution\n\nThe solution proceeds in three stages as requested: deriving net intervals, constructing the vertical constraint graph, and applying the routing algorithm.\n\n**1. Derive Net Intervals**\n\nFirst, we identify the set of unique nets, which are $\\{N_1, N_2, N_3, N_4, N_5, N_6, N_7\\}$. For each net $N_k$, we find the minimum ($l_k$) and maximum ($r_k$) column indices of all its pins across both top and bottom rows to define its horizontal span $[l_k, r_k]$.\n\n-   **Net $N_1$**: Pins at columns $1, 4$. Interval: $[1, 4]$.\n-   **Net $N_2$**: Pins at columns $2, 6$. Interval: $[2, 6]$.\n-   **Net $N_3$**: Pins at columns $1, 3, 6, 8$. Interval: $[1, 8]$.\n-   **Net $N_4$**: Pins at columns $2, 5, 8, 10$. Interval: $[2, 10]$.\n-   **Net $N_5$**: Pins at columns $3, 7, 12$. Interval: $[3, 12]$.\n-   **Net $N_6$**: Pins at columns $4, 5, 7, 9, 13$. Interval: $[4, 13]$.\n-   **Net $N_7$**: Pins at columns $9, 10, 11, 12, 13, 14$. Interval: $[9, 14]$.\n\n**Summary of Net Intervals:**\n-   $N_1: [1, 4]$\n-   $N_2: [2, 6]$\n-   $N_3: [1, 8]$\n-   $N_4: [2, 10]$\n-   $N_5: [3, 12]$\n-   $N_6: [4, 13]$\n-   $N_7: [9, 14]$\n\n**2. Construct the Vertical Constraint Graph (VCG)**\n\nA directed edge $N_A \\to N_B$ is created if a pin for net $N_A$ is on the top row and a pin for net $N_B$ is on the bottom row in the same column. This constraint means $N_A$ must be placed on a track with a smaller index (i.e., physically above) than $N_B$.\n\n-   Column $1$: $N_1$ (top), $N_3$ (bottom) $\\implies N_1 \\to N_3$.\n-   Column $2$: $N_2$ (top), $N_4$ (bottom) $\\implies N_2 \\to N_4$.\n-   Column $3$: $N_3$ (top), $N_5$ (bottom) $\\implies N_3 \\to N_5$.\n-   Column $4$: $N_1$ (top), $N_6$ (bottom) $\\implies N_1 \\to N_6$.\n-   Column $5$: $N_4$ (top), $N_6$ (bottom) $\\implies N_4 \\to N_6$.\n-   Column $6$: $N_2$ (top), $N_3$ (bottom) $\\implies N_2 \\to N_3$.\n-   Column $7$: $N_5$ (top), $N_6$ (bottom) $\\implies N_5 \\to N_6$.\n-   Column $8$: $N_3$ (top), $N_4$ (bottom) $\\implies N_3 \\to N_4$.\n-   Column $9$: $N_6$ (top), $N_7$ (bottom) $\\implies N_6 \\to N_7$.\n-   Column $10$: $N_4$ (top), $N_7$ (bottom) $\\implies N_4 \\to N_7$.\n-   Column $12$: $N_5$ (top), $N_7$ (bottom) $\\implies N_5 \\to N_7$.\n-   Column $13$: $N_6$ (top), $N_7$ (bottom) (This is a redundant constraint).\n\nThe set of predecessors for each net is:\n-   Predecessors($N_1$): $\\emptyset$\n-   Predecessors($N_2$): $\\emptyset$\n-   Predecessors($N_3$): $\\{N_1, N_2\\}$\n-   Predecessors($N_4$): $\\{N_2, N_3\\}$\n-   Predecessors($N_5$): $\\{N_3\\}$\n-   Predecessors($N_6$): $\\{N_1, N_4, N_5\\}$\n-   Predecessors($N_7$): $\\{N_4, N_5, N_6\\}$\n\n**3. Apply the Constrained Left-Edge Algorithm**\n\nWe assign nets to tracks, starting with Track $1$. Let $P$ be the set of placed nets, initially empty.\n\n**Track 1:**\n-   **Candidates**: Unplaced nets with no unplaced predecessors. Since $P=\\emptyset$, these are nets with no predecessors in the VCG: $\\{N_1, N_2\\}$.\n-   **Sort**: By left edge: $N_1$ ($l_1=1$), $N_2$ ($l_2=2$). The sorted list is $(N_1, N_2)$.\n-   **Placement**: Let `last_r` be the rightmost coordinate used on the track, initialized to $0$.\n    1.  Place $N_1$ (interval $[1, 4]$) since $l_1=1 > 0$. Update `last_r` to $4$.\n    2.  Consider $N_2$ (interval $[2, 6]$). Its left edge $l_2=2$ is not greater than `last_r`$=4$. $N_2$ cannot be placed.\n-   **Result**: Track $1$ contains $\\{N_1\\}$. $P = \\{N_1\\}$.\n\n**Track 2:**\n-   **Candidates**: Unplaced nets whose predecessors are all in $P=\\{N_1\\}$. This is only $N_2$ (predecessors are $\\emptyset$).\n-   **Sort**: The only candidate is $N_2$.\n-   **Placement**: `last_r`$=0$.\n    1.  Place $N_2$ (interval $[2, 6]$) since $l_2=2 > 0$.\n-   **Result**: Track $2$ contains $\\{N_2\\}$. $P = \\{N_1, N_2\\}$.\n\n**Track 3:**\n-   **Candidates**: Unplaced nets whose predecessors are all in $P=\\{N_1, N_2\\}$. The predecessors of $N_3$ are $\\{N_1, N_2\\}$, which are both in $P$. So, $N_3$ is a candidate. No other unplaced net satisfies this. Candidate set is $\\{N_3\\}$.\n-   **Sort**: The only candidate is $N_3$.\n-   **Placement**: `last_r`$=0$.\n    1.  Place $N_3$ (interval $[1, 8]$) since $l_3=1 > 0$.\n-   **Result**: Track $3$ contains $\\{N_3\\}$. $P = \\{N_1, N_2, N_3\\}$.\n\n**Track 4:**\n-   **Candidates**: Unplaced nets with predecessors in $P=\\{N_1, N_2, N_3\\}$.\n    -   $N_4$: Predecessors $\\{N_2, N_3\\}$ are in $P$. Candidate.\n    -   $N_5$: Predecessor $\\{N_3\\}$ is in $P$. Candidate.\n-   **Sort**: By left edge: $N_4$ ($l_4=2$), $N_5$ ($l_5=3$). The sorted list is $(N_4, N_5)$.\n-   **Placement**: `last_r`$=0$.\n    1.  Place $N_4$ (interval $[2, 10]$) since $l_4=2 > 0$. Update `last_r` to $10$.\n    2.  Consider $N_5$ (interval $[3, 12]$). Its left edge $l_5=3$ is not greater than `last_r`$=10$. $N_5$ cannot be placed.\n-   **Result**: Track $4$ contains $\\{N_4\\}$. $P = \\{N_1, N_2, N_3, N_4\\}$.\n\n**Track 5:**\n-   **Candidates**: Unplaced nets with predecessors in $P=\\{N_1, N_2, N_3, N_4\\}$.\n    -   $N_5$: Predecessor $\\{N_3\\}$ is in $P$. Candidate.\n    -   $N_6$: Predecessors $\\{N_1, N_4, N_5\\}$. $N_5$ is not in $P$. Not a candidate.\n-   **Sort**: The only candidate is $N_5$.\n-   **Placement**: `last_r`$=0$.\n    1.  Place $N_5$ (interval $[3, 12]$) since $l_5=3 > 0$.\n-   **Result**: Track $5$ contains $\\{N_5\\}$. $P = \\{N_1, N_2, N_3, N_4, N_5\\}$.\n\n**Track 6:**\n-   **Candidates**: Unplaced nets with predecessors in $P=\\{N_1, ..., N_5\\}$.\n    -   $N_6$: Predecessors $\\{N_1, N_4, N_5\\}$ are all in $P$. Candidate.\n-   **Sort**: The only candidate is $N_6$.\n-   **Placement**: `last_r`$=0$.\n    1.  Place $N_6$ (interval $[4, 13]$) since $l_6=4 > 0$.\n-   **Result**: Track $6$ contains $\\{N_6\\}$. $P = \\{N_1, N_2, N_3, N_4, N_5, N_6\\}$.\n\n**Track 7:**\n-   **Candidates**: Unplaced nets with predecessors in $P=\\{N_1, ..., N_6\\}$.\n    -   $N_7$: Predecessors $\\{N_4, N_5, N_6\\}$ are all in $P$. Candidate.\n-   **Sort**: The only candidate is $N_7$.\n-   **Placement**: `last_r`$=0$.\n    1.  Place $N_7$ (interval $[9, 14]$) since $l_7=9 > 0$.\n-   **Result**: Track $7$ contains $\\{N_7\\}$. $P = \\{N_1, N_2, N_3, N_4, N_5, N_6, N_7\\}$.\n\nAll nets have been placed. The algorithm terminates after using $7$ tracks. The final channel height is the total number of tracks used.\n\nFinal Track Assignments:\n- Track $1$: $N_1$\n- Track $2$: $N_2$\n- Track $3$: $N_3$\n- Track $4$: $N_4$\n- Track $5$: $N_5$\n- Track $6$: $N_6$\n- Track $7$: $N_7$\n\nThe total number of tracks is $7$.",
            "answer": "$$\\boxed{7}$$"
        },
        {
            "introduction": "The performance of a greedy algorithm is often best understood by examining its behavior in carefully constructed, challenging scenarios. This problem presents a classic instance, known as Deutsch's Difficult Example, where a specific alignment of horizontal and vertical constraints creates a worst-case scenario for the left-edge algorithm . Analyzing this case will reveal the deep interplay between the interval graph and the vertical constraint graph, and why both must be considered to predict the final routing height.",
            "id": "4279201",
            "problem": "Consider a two-layer channel routing problem in the context of Electronic Design Automation (EDA), where horizontal wires are assigned to discrete tracks between two rows of fixed terminals (one row on top of the channel and one row on bottom). A net is specified by its terminals; each net must realize vertical connections (vias) from its terminals to a single horizontal segment placed on some track. The horizontal segment of a net spans from its leftmost terminal column to its rightmost terminal column, defining an interval. Two horizontal segments cannot occupy the same track if their intervals overlap in any column. A vertical constraint arises when, in a given column, there is a top terminal for net $i$ and a bottom terminal for net $j$; in that case, the horizontal segment of net $i$ must be assigned to a physically higher track than that of net $j$. Assume track indices increase downward, so “higher track” means a smaller track index.\n\nThe left-edge algorithm (and its constrained variant) is a greedy track assignment procedure that, on each pass, selects nets available to be placed (respecting vertical constraints), orders them by left edge, and assigns them to the lowest track where they can be placed without overlapping already assigned intervals in that track. The algorithm repeats until all nets are assigned.\n\nConstructed instance: The channel has columns $1$ through $10$. The top-row terminals are at columns $1$, $2$, $3$, $4$, $5$, $6$, $7$, $8$, and $9$, respectively for nets $N_1$, $N_2$, $N_3$, $N_4$, $N_5$, $N_4$, $N_3$, $N_2$, and $N_1$. The bottom-row terminals are at columns $6$, $7$, $8$, $9$, and $10$, respectively for nets $N_5$, $N_4$, $N_3$, $N_2$, and $N_1$.\n\nTasks:\n- Using the above terminals, identify the interval for each net $N_k$ as the closed interval from its leftmost terminal column to its rightmost terminal column.\n- Derive the vertical constraint graph from the columns where a top terminal of one net coincides with a bottom terminal of another net, and determine the partial order on nets implied by these constraints.\n- Apply the constrained left-edge algorithm to assign nets to tracks, explaining why the outer intervals and inner intervals cannot share a track due to overlap and why the constraints enforce a specific ordering of tracks.\n- Compute the total number of tracks used by this assignment.\n\nExpress your final answer as an integer without units. No rounding is required.",
            "solution": "The problem statement is first validated against the required criteria.\n\n### Step 1: Extract Givens\n- **Problem Type**: Two-layer channel routing.\n- **Channel Geometry**: Columns numbered $1$ through $10$. Two rows of fixed terminals (top and bottom).\n- **Net Structure**: Each net consists of terminals connected by vertical vias to a single horizontal segment.\n- **Horizontal Constraint**: The horizontal segment of a net spans the closed interval from its leftmost to rightmost terminal column. Two nets cannot share a track if their horizontal segments (intervals) overlap.\n- **Vertical Constraint**: If in a column $c$, net $i$ has a top terminal and net $j$ has a bottom terminal, then the track for net $i$ must have a smaller index than the track for net $j$. Let $T(k)$ be the track index for net $k$. Then $T(i) < T(j)$.\n- **Algorithm**: The constrained left-edge algorithm is to be used for track assignment.\n- **Top-row Terminals**:\n    - Net $N_1$: Columns $1, 9$.\n    - Net $N_2$: Columns $2, 8$.\n    - Net $N_3$: Columns $3, 7$.\n    - Net $N_4$: Columns $4, 6$.\n    - Net $N_5$: Column $5$.\n- **Bottom-row Terminals**:\n    - Net $N_1$: Column $10$.\n    - Net $N_2$: Column $9$.\n    - Net $N_3$: Column $8$.\n    - Net $N_4$: Column $7$.\n    - Net $N_5$: Column $6$.\n\n### Step 2: Validate Using Extracted Givens\n- **Scientifically Grounded**: The problem is a standard, well-defined problem in the field of Electronic Design Automation (EDA) for Very Large-Scale Integration (VLSI) circuit layout. The concepts of channel routing, horizontal and vertical constraints, and the left-edge algorithm are fundamental topics in this domain. All premises are scientifically sound.\n- **Well-Posed**: The problem provides a specific instance (netlist and terminal locations) and specifies a deterministic algorithm (constrained left-edge). This structure guarantees a unique and computable solution.\n- **Objective**: The problem is stated in precise, formal language without ambiguity or subjective elements.\n- **Completeness and Consistency**: The provided data is sufficient and self-consistent. All nets and terminal locations are specified, and the rules for constraints and the algorithm are clear.\n\n### Step 3: Verdict and Action\nThe problem is valid. A reasoned solution will be provided.\n\n### Solution Derivation\n\nThe solution proceeds by following the tasks outlined in the problem statement.\n\n#### 1. Identification of Net Intervals\nThe horizontal interval for each net $N_k$, denoted $I(N_k)$, spans from its minimum column coordinate to its maximum column coordinate.\n\n- **Net $N_1$**: Has terminals at columns $1, 9$ (top) and $10$ (bottom). The leftmost is $1$ and the rightmost is $10$. So, $I(N_1) = [1, 10]$.\n- **Net $N_2$**: Has terminals at columns $2, 8$ (top) and $9$ (bottom). The leftmost is $2$ and the rightmost is $9$. So, $I(N_2) = [2, 9]$.\n- **Net $N_3$**: Has terminals at columns $3, 7$ (top) and $8$ (bottom). The leftmost is $3$ and the rightmost is $8$. So, $I(N_3) = [3, 8]$.\n- **Net $N_4$**: Has terminals at columns $4, 6$ (top) and $7$ (bottom). The leftmost is $4$ and the rightmost is $7$. So, $I(N_4) = [4, 7]$.\n- **Net $N_5$**: Has terminals at column $5$ (top) and $6$ (bottom). The leftmost is $5$ and the rightmost is $6$. So, $I(N_5) = [5, 6]$.\n\n#### 2. Derivation of Vertical Constraints\nA vertical constraint $N_i \\to N_j$ exists if there is a column where $N_i$ has a top terminal and $N_j$ has a bottom terminal. This implies that the track index for $N_i$ must be smaller than that for $N_j$, i.e., $T(N_i) < T(N_j)$. We examine columns with both top and bottom terminals.\n\n- **Column 6**: Top terminal for $N_4$, bottom terminal for $N_5$. This imposes the constraint $T(N_4) < T(N_5)$.\n- **Column 7**: Top terminal for $N_3$, bottom terminal for $N_4$. This imposes the constraint $T(N_3) < T(N_4)$.\n- **Column 8**: Top terminal for $N_2$, bottom terminal for $N_3$. This imposes the constraint $T(N_2) < T(N_3)$.\n- **Column 9**: Top terminal for $N_1$, bottom terminal for $N_2$. This imposes the constraint $T(N_1) < T(N_2)$.\n\nThe vertical constraint graph (VCG) consists of the directed edges $N_1 \\to N_2$, $N_2 \\to N_3$, $N_3 \\to N_4$, and $N_4 \\to N_5$. These constraints form a single chain:\n$$N_1 \\to N_2 \\to N_3 \\to N_4 \\to N_5$$\nThis implies a total ordering on the track assignments:\n$$T(N_1) < T(N_2) < T(N_3) < T(N_4) < T(N_5)$$\n\n#### 3. Application of the Constrained Left-Edge Algorithm\n\nThe algorithm proceeds in passes. In each pass, it considers all \"available\" nets, which are unassigned nets whose predecessors in the VCG have all been assigned.\n\n**Horizontal Overlap Analysis**:\nThe intervals are $I(N_1) = [1, 10]$, $I(N_2) = [2, 9]$, $I(N_3) = [3, 8]$, $I(N_4) = [4, 7]$, and $I(N_5) = [5, 6]$.\nNotice that these intervals are nested:\n$$I(N_5) \\subset I(N_4) \\subset I(N_3) \\subset I(N_2) \\subset I(N_1)$$\nBecause every interval is a subset of the next larger one, any two distinct intervals $I(N_i)$ and $I(N_j)$ have a non-empty intersection. For example, $I(N_1) \\cap I(N_2) = [2, 9] \\neq \\emptyset$. Therefore, no two nets from this set can be placed on the same track. This set of 5 nets forms a 5-clique in the horizontal constraint graph, which establishes a lower bound of $5$ tracks for the channel width.\n\n**Algorithm Execution**:\n\n- **Pass 1**:\n    - **Available Nets**: Initially, only net $N_1$ is available as it has no predecessors in the VCG.\n    - **Assignment**: The algorithm places $N_1$ on the first available track.\n        - Track $1$: Empty. Assign $N_1$ (interval $[1, 10]$) to Track $1$.\n    - **Status**: Placed: $\\{N_1\\}$. Tracks used: $1$.\n\n- **Pass 2**:\n    - **Available Nets**: Now that $N_1$ is placed, its successor $N_2$ becomes available.\n    - **Assignment**: The algorithm attempts to place $N_2$ (interval $[2, 9]$).\n        - Track $1$: Occupied by $N_1$ ($[1, 10]$). The intervals $[2, 9]$ and $[1, 10]$ overlap. Cannot place here.\n        - Track $2$: Empty. Assign $N_2$ to Track $2$.\n    - **Status**: Placed: $\\{N_1, N_2\\}$. Tracks used: $2$.\n\n- **Pass 3**:\n    - **Available Nets**: With $N_2$ placed, its successor $N_3$ becomes available.\n    - **Assignment**: The algorithm attempts to place $N_3$ (interval $[3, 8]$).\n        - Track $1$: Occupied by $N_1$ ($[1, 10]$). Overlap.\n        - Track $2$: Occupied by $N_2$ ($[2, 9]$). Overlap.\n        - Track $3$: Empty. Assign $N_3$ to Track $3$.\n    - **Status**: Placed: $\\{N_1, N_2, N_3\\}$. Tracks used: $3$.\n\n- **Pass 4**:\n    - **Available Nets**: With $N_3$ placed, its successor $N_4$ becomes available.\n    - **Assignment**: The algorithm attempts to place $N_4$ (interval $[4, 7]$).\n        - Track $1$: Occupied by $N_1$ ($[1, 10]$). Overlap.\n        - Track $2$: Occupied by $N_2$ ($[2, 9]$). Overlap.\n        - Track $3$: Occupied by $N_3$ ($[3, 8]$). Overlap.\n        - Track $4$: Empty. Assign $N_4$ to Track $4$.\n    - **Status**: Placed: $\\{N_1, N_2, N_3, N_4\\}$. Tracks used: $4$.\n\n- **Pass 5**:\n    - **Available Nets**: With $N_4$ placed, its successor $N_5$ becomes available.\n    - **Assignment**: The algorithm attempts to place $N_5$ (interval $[5, 6]$).\n        - Track $1$: Occupied by $N_1$ ($[1, 10]$). Overlap.\n        - Track $2$: Occupied by $N_2$ ($[2, 9]$). Overlap.\n        - Track $3$: Occupied by $N_3$ ($[3, 8]$). Overlap.\n        - Track $4$: Occupied by $N_4$ ($[4, 7]$). Overlap.\n        - Track $5$: Empty. Assign $N_5$ to Track $5$.\n    - **Status**: Placed: $\\{N_1, N_2, N_3, N_4, N_5\\}$. Tracks used: $5$.\n\nAll nets have been assigned. The final assignment is:\n- Track $1$: $N_1$\n- Track $2$: $N_2$\n- Track $3$: $N_3$\n- Track $4$: $N_4$\n- Track $5$: $N_5$\n\nThis assignment respects the total vertical constraint ordering $T(N_1)=1 < T(N_2)=2 < T(N_3)=3 < T(N_4)=4 < T(N_5)=5$. The total number of tracks used is $5$.\n\nThis specific instance is a classic case in channel routing known as \"Deutsch's Difficult Example.\" It is constructed to create a challenging scenario where both horizontal and vertical constraints are strong. The horizontal intervals are perfectly nested, forming a 5-clique, which means the channel density is 5. The vertical constraints form a single chain of length 5. Since the number of tracks must be at least the channel density and also at least the length of the longest path in the VCG, the channel requires at least 5 tracks. The algorithm's result of 5 tracks shows that it achieves this theoretical lower bound.\n\n#### 4. Total Number of Tracks\nAs determined by the execution of the constrained left-edge algorithm, a total of $5$ tracks are required to route all the nets according to the specified constraints.",
            "answer": "$$\\boxed{5}$$"
        }
    ]
}