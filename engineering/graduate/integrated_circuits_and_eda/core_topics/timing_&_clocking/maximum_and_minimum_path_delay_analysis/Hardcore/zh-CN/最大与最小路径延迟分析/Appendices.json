{
    "hands_on_practices": [
        {
            "introduction": "我们从同步设计中最基本的约束——建立时间（setup time）开始。这项实践将引导你计算决定电路最高工作频率的关键参数：最小允许时钟周期。通过分析一个简单的寄存器到寄存器路径，你将掌握如何基于最长路径延迟来确保数据在下一个时钟沿到来之前被稳定地捕获。",
            "id": "4281804",
            "problem": "在一个使用电子设计自动化 (EDA) 方法设计和分析的同步流水线中，考虑一个位于发射边沿触发寄存器和捕获边沿触发寄存器之间的单组合逻辑路径。假设该路径采用单相边沿触发时钟方案，且无时钟门控。发射寄存器的时钟到输出时间为 $t_{cq}$，路径上的组合逻辑具有最大传播延迟 $D_{\\max}$，捕获寄存器的建立时间为 $t_{\\mathrm{setup}}$。假设两个寄存器之间的时钟偏斜为零，并且在本次分析中忽略任何时钟不确定性或抖动。仅使用同步时序正确性的基本原理（在捕获寄存器处，有效时钟沿的到达时间与要求时间的关系），推导出保证该路径上不发生建立时间违例的约束条件，并针对具体数值 $t_{cq}=80\\ \\mathrm{ps}$、$D_{\\max}=420\\ \\mathrm{ps}$ 和 $t_{\\mathrm{setup}}=60\\ \\mathrm{ps}$ 计算满足此约束的最小可行时钟周期 $T$。将 $T$ 的最终数值结果以皮秒为单位表示，并四舍五入到四位有效数字。",
            "solution": "经评估，该问题陈述是有效的。它在科学上基于同步数字电路时序的基本原理，问题设定良好，具有唯一且有意义的解，并以客观、明确的语言表达。所有必要的参数均已提供，且给定的假设（零时钟偏斜和抖动）构成了一个自洽的、可解的问题。\n\n我们首先建立一个时序基准。让我们考虑电路在一个时钟周期内的操作。设时钟周期为 $T$。我们可以将发射寄存器处的一个有效时钟沿的时刻设为 $t=0$。\n\n储存在发射寄存器中的数据，在经过寄存器的时钟到输出延迟后，被发射到组合逻辑路径上。因此，新数据信号从发射寄存器输出端开始传播的时刻，我们定义为发射时间，即：\n$$t_{\\mathrm{launch}} = 0 + t_{cq} = t_{cq}$$\n\n该信号接着通过组合逻辑块传播。为确保在所有条件下都能正确操作，我们必须考虑最坏情况，即对应于通过该逻辑的最长可能延迟。最大传播延迟由 $D_{\\max}$ 给出。因此，数据信号到达捕获寄存器输入端的时间不会晚于发射时间与此最大逻辑延迟之和。我们将其定义为到达时间 $t_{\\mathrm{arrival}}$：\n$$t_{\\mathrm{arrival}} = t_{\\mathrm{launch}} + D_{\\max} = t_{cq} + D_{\\max}$$\n\n为使捕获寄存器能正确采样这个到达的数据，数据信号必须在下一个有效时钟沿到达*之前*的一段时间内在其输入端保持稳定。这个时间段就是建立时间 $t_{\\mathrm{setup}}$。捕获寄存器的下一个有效时钟沿发生在 $t=T$ 时刻（因为假设时钟偏斜为零）。因此，数据必须在 $T$ 时刻之前的 $t_{\\mathrm{setup}}$ 时间点之前，在捕获寄存器的输入端稳定且有效。这定义了要求时间 $t_{\\mathrm{required}}$：\n$$t_{\\mathrm{required}} = T - t_{\\mathrm{setup}}$$\n\n避免建立时间违例的基本约束是，数据必须在要求时间或之前到达捕获寄存器。这可以表示为以下不等式：\n$$t_{\\mathrm{arrival}} \\le t_{\\mathrm{required}}$$\n\n将 $t_{\\mathrm{arrival}}$ 和 $t_{\\mathrm{required}}$ 的表达式代入此不等式，得到该路径的建立时间约束：\n$$t_{cq} + D_{\\max} \\le T - t_{\\mathrm{setup}}$$\n\n问题要求的是最小可行时钟周期，我们将其表示为 $T_{\\min}$。这个最小周期可以通过重新整理不等式来求解 $T$ 得出：\n$$T \\ge t_{cq} + D_{\\max} + t_{\\mathrm{setup}}$$\n满足此条件的 $T$ 的最小值是不等式的下界。因此，\n$$T_{\\min} = t_{cq} + D_{\\max} + t_{\\mathrm{setup}}$$\n\n我们已知以下时序参数的数值：\n- 时钟到输出时间，$t_{cq} = 80\\ \\mathrm{ps}$\n- 最大组合逻辑延迟，$D_{\\max} = 420\\ \\mathrm{ps}$\n- 建立时间，$t_{\\mathrm{setup}} = 60\\ \\mathrm{ps}$\n\n将这些值代入 $T_{\\min}$ 的表达式中：\n$$T_{\\min} = 80\\ \\mathrm{ps} + 420\\ \\mathrm{ps} + 60\\ \\mathrm{ps}$$\n$$T_{\\min} = 500\\ \\mathrm{ps} + 60\\ \\mathrm{ps}$$\n$$T_{\\min} = 560\\ \\mathrm{ps}$$\n\n问题要求答案四舍五入到四位有效数字。计算出的值 $560$ 可以写成 $560.0$ 来明确表示四位有效数字。\n\n因此，保证不发生建立时间违例的最小可行时钟周期为 $560.0\\ \\mathrm{ps}$。",
            "answer": "$$\\boxed{560.0}$$"
        },
        {
            "introduction": "在确保了电路能以多快的速度运行之后，我们必须保证其功能在任何速度下都正确无误，这就是保持时间（hold time）分析的核心。此练习与建立时间分析互为补充，专注于“最短路径”问题，即防止新数据过快地到达并破坏正在被锁存的旧数据。通过计算保持时间裕量（hold slack），你将学会如何诊断和量化这种关键的电路功能风险。",
            "id": "4281769",
            "problem": "在使用电子设计自动化（EDA）设计的集成电路中，考虑一个同步数字路径，该路径是一个单源单目标的寄存器到寄存器连接。源和目标元件是由相同标称时钟域驱动的上升沿触发触发器。为该路径定义了以下量：\n- 发射触发器的最小时钟到输出延迟为 $t_{cq,\\min}$。\n- 触发器之间的最小组合逻辑数据路径延迟为 $D_{\\min}$。\n- 捕获触发器的保持时间要求为 $t_{hold}$。\n- 捕获时钟相对于发射时钟的到达时间是时钟偏斜 $s$，定义为 $s = t_{\\text{clk,capture}} - t_{\\text{clk,launch}}$。假设本次分析中时钟不确定性为零，且不进行公共路径悲观度移除。\n\n从同步时序分析中保持时间、时钟到输出延迟以及数据到达/要求时间的定义出发，完成以下任务：\n1. 推导保持时间裕量的符号表达式，该裕量为目标触发器输入端的最早数据到达时间与保持约束下的最晚允许时间之差，用 $t_{cq,\\min}$、$D_{\\min}$、$t_{hold}$ 和 $s$ 表示。\n2. 使用推导出的表达式，计算在 $t_{cq,\\min} = 60\\ \\mathrm{ps}$、$D_{\\min} = 90\\ \\mathrm{ps}$、$t_{hold} = 50\\ \\mathrm{ps}$ 和 $s=0$（零偏斜）的特定情况下的保持时间裕量数值。\n\n根据计算出的裕量的符号判断是否发生保持时间违例。以皮秒为单位表示保持时间裕量。提供精确值（无需四舍五入）。",
            "solution": "该问题要求推导同步数字电路路径中保持时间裕量的符号表达式，并随后计算特定情况下的数值。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n- 发射触发器的最小时钟到输出延迟：$t_{cq,\\min}$\n- 最小组合逻辑数据路径延迟：$D_{\\min}$\n- 捕获触发器的保持时间要求：$t_{hold}$\n- 时钟偏斜：$s = t_{\\text{clk,capture}} - t_{\\text{clk,launch}}$\n- 假设：零时钟不确定性，无公共路径悲观度移除。\n- 数值：$t_{cq,\\min} = 60\\ \\mathrm{ps}$，$D_{\\min} = 90\\ \\mathrm{ps}$，$t_{hold} = 50\\ \\mathrm{ps}$，$s=0$。\n\n**步骤2：使用提取的已知条件进行验证**\n- **科学依据**：该问题基于数字VLSI设计中静态时序分析（STA）的基本原理。所有术语（$t_{cq}$、$D_{\\text{path}}$、$t_{hold}$、时钟偏斜）都是标准的并且定义正确。\n- **适定性**：问题定义明确。它要求基于所提供的参数进行特定的推导和计算，这会导出一个唯一的解。\n- **客观性**：语言精确，并使用了标准的行业术语。\n- **完整性和一致性**：计算保持时间裕量所需的所有变量都已提供。没有矛盾之处。\n- **现实性**：寄存器到寄存器路径的背景以及在皮秒范围内的给定数值对于现代半导体技术是物理上现实的。\n\n**步骤3：结论与行动**\n该问题是有效的，因为它科学合理、适定且完整。将提供解答。\n\n### 解题推导\n\n对保持时间违例的分析关注的是新数据到达捕获触发器输入端的最早可能时间，并确保其不早于前一个数据的保持时间窗口结束。我们先建立一个时间基准。可以设定发射触发器处的时钟沿时间为 $t_{\\text{clk,launch}} = 0$。\n\n**1. 保持时间裕量符号表达式的推导**\n\n首先，我们确定从源触发器发射的数据到达目标触发器输入端的最早可能时间。这被称为**最早数据到达时间**，我们将其表示为 $t_{\\text{DA,early}}$。这个时间由从发射触发器的时钟引脚到捕获触发器的数据输入引脚的最快路径决定。\n数据在时钟沿 $t_{\\text{clk,launch}}$ 被发射。它最早出现在发射触发器输出端的时间是在最小时钟到输出延迟 $t_{cq,\\min}$ 之后。然后它穿过组合逻辑，至少花费最小路径延迟 $D_{\\min}$。\n因此，在捕获触发器的D输入端的最早数据到达时间为：\n$$t_{\\text{DA,early}} = t_{\\text{clk,launch}} + t_{cq,\\min} + D_{\\min}$$\n\n接下来，我们确定捕获触发器输入端的数据必须保持稳定以满足其保持时间要求的时刻。这被称为**保持所需的最晚数据要求时间**，我们可以表示为 $t_{\\text{DR,hold}}$。保持约束 $t_{hold}$ 是相对于捕获触发器的时钟沿来指定的。时钟沿在时间 $t_{\\text{clk,capture}}$ 到达捕获触发器。数据必须在该时钟沿*之后*保持稳定 $t_{hold}$ 的时长。\n因此，保持时间要求的窗口在此刻结束：\n$$t_{\\text{DR,hold}} = t_{\\text{clk,capture}} + t_{hold}$$\n\n保持时间裕量，通常表示为 $S_{hold}$，定义为满足保持时序要求的裕度。它是新数据的最早到达时间与旧数据需要保持稳定的最晚时间之间的差值。正裕量表示新数据在保持窗口之后到达，因此满足约束。负裕量表示存在保持时间违例。\n\n$$S_{hold} = t_{\\text{DA,early}} - t_{\\text{DR,hold}}$$\n\n代入 $t_{\\text{DA,early}}$ 和 $t_{\\text{DR,hold}}$ 的表达式：\n$$S_{hold} = (t_{\\text{clk,launch}} + t_{cq,\\min} + D_{\\min}) - (t_{\\text{clk,capture}} + t_{hold})$$\n\n问题将时钟偏斜定义为 $s = t_{\\text{clk,capture}} - t_{\\text{clk,launch}}$。我们可以重新排列裕量方程中的各项以使用此定义：\n$$S_{hold} = t_{cq,\\min} + D_{\\min} - t_{hold} - (t_{\\text{clk,capture}} - t_{\\text{clk,launch}})$$\n将 $s$ 代入方程，得到保持时间裕量的最终符号表达式：\n$$S_{hold} = t_{cq,\\min} + D_{\\min} - t_{hold} - s$$\n\n这就是根据给定变量推导出的保持时间裕量的符号表达式。\n\n**2. 保持时间裕量的数值计算**\n\n我们已知以下数值：\n- $t_{cq,\\min} = 60\\ \\mathrm{ps}$\n- $D_{\\min} = 90\\ \\mathrm{ps}$\n- $t_{hold} = 50\\ \\mathrm{ps}$\n- $s = 0\\ \\mathrm{ps}$ (零偏斜)\n\n将这些值代入推导出的 $S_{hold}$ 表达式中：\n$$S_{hold} = 60\\ \\mathrm{ps} + 90\\ \\mathrm{ps} - 50\\ \\mathrm{ps} - 0\\ \\mathrm{ps}$$\n$$S_{hold} = 150\\ \\mathrm{ps} - 50\\ \\mathrm{ps}$$\n$$S_{hold} = 100\\ \\mathrm{ps}$$\n\n保持时间裕量为 $100\\ \\mathrm{ps}$。由于计算出的裕量符号为正（$S_{hold} > 0$），因此没有发生保持时间违例。时序约束被满足，并有 $100\\ \\mathrm{ps}$ 的裕量。",
            "answer": "$$\\boxed{100}$$"
        },
        {
            "introduction": "掌握了独立的建立和保持时间分析后，是时候将这些知识综合应用于一个更高级的设计优化场景了。本练习将介绍流水线重定时（retiming）这一强大的技术，它通过移动寄存器来平衡流水线各级的延迟，从而提升整体性能。你将通过实际计算来决定最佳的寄存器布局，以最小化时钟周期，并验证优化后的设计是否仍然满足保持时间要求，从而体会到时序分析在体系结构决策中的核心作用。",
            "id": "4281760",
            "problem": "考虑一个同步流水线数据通路，其模型为一个由四个串联的组合逻辑块组成的有向无环图，表示为 $B_{1}$、$B_{2}$、$B_{3}$ 和 $B_{4}$。时序边界（寄存器）初始放置在 $B_{1}$ 之后和 $B_{3}$ 之后。流水线的输入和输出也均经过寄存。因此，该流水线有三个级：从输入寄存器到 $B_{1}$ 之后的寄存器（$S_{1}$ 级），从 $B_{1}$ 之后的寄存器到 $B_{3}$ 之后的寄存器（$S_{2}$ 级），以及从 $B_{3}$ 之后的寄存器到输出寄存器（$S_{3}$ 级）。这些组合逻辑块的最坏情况（最大）和最好情况（最小）传播延迟如下：\n$$\n\\begin{aligned}\n\\text{最大延迟:}  d_{1}^{\\max} = 0.72~\\text{ns},\\quad d_{2}^{\\max} = 1.55~\\text{ns},\\quad d_{3}^{\\max} = 1.26~\\text{ns},\\quad d_{4}^{\\max} = 0.62~\\text{ns},\\\\\n\\text{最小延迟:}  d_{1}^{\\min} = 0.21~\\text{ns},\\quad d_{2}^{\\min} = 0.48~\\text{ns},\\quad d_{3}^{\\min} = 0.41~\\text{ns},\\quad d_{4}^{\\min} = 0.19~\\text{ns}.\n\\end{aligned}\n$$\n每个流水线寄存器都是一个 D 型触发器，其时钟到 $Q$ 端的延迟为 $t_{cq}^{\\max} = 0.11~\\text{ns}$ 和 $t_{cq}^{\\min} = 0.06~\\text{ns}$，建立时间 $t_{setup} = 0.08~\\text{ns}$，保持时间 $t_{hold} = 0.07~\\text{ns}$。时钟分布表现出的最坏情况时钟偏斜，对建立时间产生不利影响，其值为 $\\Delta t_{\\text{skew}}^{\\text{setup}} = 0.02~\\text{ns}$；对保持时间产生不利影响，其值为 $\\Delta t_{\\text{skew}}^{\\text{hold}} = 0.03~\\text{ns}$，此偏斜存在于每个流水级的发送寄存器和捕获寄存器之间。\n\n从同步流水线的基本时序定义和寄存器重定位（重定时）的概念出发——该技术通过在相邻组合逻辑边界之间移动寄存器来保持功能，同时维持从输入到输出的任何路径上的寄存器数量不变——请确定对单个寄存器进行的最优重定位，以最小化此流水线可实现的最小周期 $T$。你只可以重定位两个内部寄存器中的一个，方法是将其跨过一个相邻的逻辑块边界（即将 $B_{3}$ 之后的寄存器向后移动到 $B_{2}$ 和 $B_{3}$ 之间，或者将 $B_{1}$ 之后的寄存器向前移动到 $B_{2}$ 和 $B_{3}$ 之间）。在最坏情况建立时间条件下，计算最小化的时钟周期 $T$，并在最好情况条件下，验证所选重定位方案下所有三个级的保持时间约束均得到满足。\n\n将你计算出的最小化时钟周期 $T$ 的最终数值四舍五入到四位有效数字，并以纳秒为单位表示。",
            "solution": "用户希望通过寄存器重定时找到同步流水线可实现的最小化时钟周期，并为优化后的配置验证保持时间约束。\n\n### 步骤 1：提取给定条件\n题目提供了以下关于四个组合逻辑块和流水线寄存器的参数：\n- 组合逻辑块的最大延迟：$d_{1}^{\\max} = 0.72~\\text{ns}$，$d_{2}^{\\max} = 1.55~\\text{ns}$，$d_{3}^{\\max} = 1.26~\\text{ns}$，$d_{4}^{\\max} = 0.62~\\text{ns}$。\n- 组合逻辑块的最小延迟：$d_{1}^{\\min} = 0.21~\\text{ns}$，$d_{2}^{\\min} = 0.48~\\text{ns}$，$d_{3}^{\\min} = 0.41~\\text{ns}$，$d_{4}^{\\min} = 0.19~\\text{ns}$。\n- 寄存器时钟到 Q 端的最大延迟：$t_{cq}^{\\max} = 0.11~\\text{ns}$。\n- 寄存器时钟到 Q 端的最小延迟：$t_{cq}^{\\min} = 0.06~\\text{ns}$。\n- 寄存器建立时间：$t_{setup} = 0.08~\\text{ns}$。\n- 寄存器保持时间：$t_{hold} = 0.07~\\text{ns}$。\n- 影响建立时间的最坏情况时钟偏斜：$\\Delta t_{\\text{skew}}^{\\text{setup}} = 0.02~\\text{ns}$。\n- 影响保持时间的最坏情况时钟偏斜：$\\Delta t_{\\text{skew}}^{\\text{hold}} = 0.03~\\text{ns}$。\n\n初始流水线结构：\n- $S_{1}$ 级：从输入寄存器到 $B_{1}$ 块后的寄存器。\n- $S_{2}$ 级：从 $B_{1}$ 块后的寄存器到 $B_{3}$ 块后的寄存器。\n- $S_{3}$ 级：从 $B_{3}$ 块后的寄存器到输出寄存器。\n\n### 步骤 2：使用提取的给定条件进行验证\n该问题具有科学依据，因为它是一个关于同步数字电路时序分析和优化的标准练习，使用了成熟的重定时技术。语言精确客观。所有必要数据均已提供，且无内部矛盾。这些数值对于现代集成电路工艺是物理上现实的。该问题是良定义的，在给定的选择中会导出一个唯一的优化解。因此，该问题是有效的。\n\n### 步骤 3：分析与求解\n\n同步流水线的时钟周期 $T$ 受最长流水级延迟的限制。对于一个流水级，时钟周期必须满足建立时间约束：\n$$ T \\ge t_{cq}^{\\max} + d_{\\text{logic}}^{\\max} + t_{setup} + \\Delta t_{\\text{skew}}^{\\text{setup}} $$\n其中 $d_{\\text{logic}}^{\\max}$ 是该级的最大组合逻辑延迟。加上时钟偏斜项 $\\Delta t_{\\text{skew}}^{\\text{setup}}$ 是因为题目说明它对建立时间有不利影响，意味着捕获时钟比发送时钟晚到达。\n\n为保证正确操作，还必须满足保持时间约束：\n$$ t_{cq}^{\\min} + d_{\\text{logic}}^{\\min} \\ge t_{hold} + \\Delta t_{\\text{skew}}^{\\text{hold}} $$\n其中 $d_{\\text{logic}}^{\\min}$ 是该级的最小组合逻辑延迟。时钟偏斜项 $\\Delta t_{\\text{skew}}^{\\text{hold}}$ 被加到不等式右侧，因为它对保持时间有不利影响，意味着捕获时钟比发送时钟早到达，使得保持条件更难满足。\n\n我们首先分析初始流水线配置。\n每个流水级的组合逻辑延迟为：\n- $S_{1}$ 级：逻辑为 $B_{1}$。所以，$d_{S_{1}}^{\\max} = d_{1}^{\\max} = 0.72~\\text{ns}$。\n- $S_{2}$ 级：逻辑为 $B_{2}$ 后跟 $B_{3}$。所以，$d_{S_{2}}^{\\max} = d_{2}^{\\max} + d_{3}^{\\max} = 1.55~\\text{ns} + 1.26~\\text{ns} = 2.81~\\text{ns}$。\n- $S_{3}$ 级：逻辑为 $B_{4}$。所以，$d_{S_{3}}^{\\max} = d_{4}^{\\max} = 0.62~\\text{ns}$。\n\n每个流水级所需的最小周期为：\n- $T_{S_{1}} \\ge 0.11 + 0.72 + 0.08 + 0.02 = 0.93~\\text{ns}$。\n- $T_{S_{2}} \\ge 0.11 + 2.81 + 0.08 + 0.02 = 3.02~\\text{ns}$。\n- $T_{S_{3}} \\ge 0.11 + 0.62 + 0.08 + 0.02 = 0.83~\\text{ns}$。\n\n初始时钟周期是这些值中的最大值：$T_{\\text{initial}} = \\max(0.93, 3.02, 0.83) = 3.02~\\text{ns}$。关键路径在 $S_{2}$ 级。\n\n现在，我们评估两种可能的重定时选项以最小化 $T$。\n\n**选项 1：将 $B_{3}$ 之后的寄存器向后移动到 $B_{2}$ 和 $B_{3}$ 之间。**\n新的流水线级为：\n- $S'_{1}$ 级：逻辑为 $B_{1}$。$d_{S'_{1}}^{\\max} = d_{1}^{\\max} = 0.72~\\text{ns}$。\n- $S'_{2}$ 级：逻辑为 $B_{2}$。$d_{S'_{2}}^{\\max} = d_{2}^{\\max} = 1.55~\\text{ns}$。\n- $S'_{3}$ 级：逻辑为 $B_{3}$ 后跟 $B_{4}$。$d_{S'_{3}}^{\\max} = d_{3}^{\\max} + d_{4}^{\\max} = 1.26~\\text{ns} + 0.62~\\text{ns} = 1.88~\\text{ns}$。\n\n此配置所需的最小周期为：\n- $T_{S'_{1}} \\ge 0.11 + 0.72 + 0.08 + 0.02 = 0.93~\\text{ns}$。\n- $T_{S'_{2}} \\ge 0.11 + 1.55 + 0.08 + 0.02 = 1.76~\\text{ns}$。\n- $T_{S'_{3}} \\ge 0.11 + 1.88 + 0.08 + 0.02 = 2.09~\\text{ns}$。\n\n此选项的时钟周期为 $T_{\\text{opt1}} = \\max(0.93, 1.76, 2.09) = 2.09~\\text{ns}$。\n\n**选项 2：将 $B_{1}$ 之后的寄存器向前移动到 $B_{2}$ 和 $B_{3}$ 之间。**\n新的流水线级为：\n- $S''_{1}$ 级：逻辑为 $B_{1}$ 后跟 $B_{2}$。$d_{S''_{1}}^{\\max} = d_{1}^{\\max} + d_{2}^{\\max} = 0.72~\\text{ns} + 1.55~\\text{ns} = 2.27~\\text{ns}$。\n- $S''_{2}$ 级：逻辑为 $B_{3}$。$d_{S''_{2}}^{\\max} = d_{3}^{\\max} = 1.26~\\text{ns}$。\n- $S''_{3}$ 级：逻辑为 $B_{4}$。$d_{S''_{3}}^{\\max} = d_{4}^{\\max} = 0.62~\\text{ns}$。\n\n此配置所需的最小周期为：\n- $T_{S''_{1}} \\ge 0.11 + 2.27 + 0.08 + 0.02 = 2.48~\\text{ns}$。\n- $T_{S''_{2}} \\ge 0.11 + 1.26 + 0.08 + 0.02 = 1.47~\\text{ns}$。\n- $T_{S''_{3}} \\ge 0.11 + 0.62 + 0.08 + 0.02 = 0.83~\\text{ns}$。\n\n此选项的时钟周期为 $T_{\\text{opt2}} = \\max(2.48, 1.47, 0.83) = 2.48~\\text{ns}$。\n\n比较这两个选项，$T_{\\text{opt1}} = 2.09~\\text{ns}$ 小于 $T_{\\text{opt2}} = 2.48~\\text{ns}$。因此，最佳重定位是选项 1，它得到一个最小化的时钟周期 $T = 2.09~\\text{ns}$。\n\n最后，我们必须验证最佳配置（选项 1）是否满足保持时间约束。\n需要检查的条件是 $t_{cq}^{\\min} + d_{\\text{logic}}^{\\min} \\ge t_{hold} + \\Delta t_{\\text{skew}}^{\\text{hold}}$。\n不等式的右侧对于所有流水级都是一个常数：$0.07~\\text{ns} + 0.03~\\text{ns} = 0.10~\\text{ns}$。\n\n我们需要计算选项 1 中每个流水级的最小逻辑延迟：\n- $S'_{1}$ 级 (逻辑 $B_{1}$): $d_{S'_{1}}^{\\min} = d_{1}^{\\min} = 0.21~\\text{ns}$。\n- $S'_{2}$ 级 (逻辑 $B_{2}$): $d_{S'_{2}}^{\\min} = d_{2}^{\\min} = 0.48~\\text{ns}$。\n- $S'_{3}$ 级 (逻辑 $B_{3} + B_{4}$): $d_{S'_{3}}^{\\min} = d_{3}^{\\min} + d_{4}^{\\min} = 0.41~\\text{ns} + 0.19~\\text{ns} = 0.60~\\text{ns}$。\n\n现在，我们检查每个流水级的保持时间约束：\n- $S'_{1}$ 级: $t_{cq}^{\\min} + d_{S'_{1}}^{\\min} = 0.06~\\text{ns} + 0.21~\\text{ns} = 0.27~\\text{ns}$。由于 $0.27~\\text{ns} \\ge 0.10~\\text{ns}$，约束得到满足。\n- $S'_{2}$ 级: $t_{cq}^{\\min} + d_{S'_{2}}^{\\min} = 0.06~\\text{ns} + 0.48~\\text{ns} = 0.54~\\text{ns}$。由于 $0.54~\\text{ns} \\ge 0.10~\\text{ns}$，约束得到满足。\n- $S'_{3}$ 级: $t_{cq}^{\\min} + d_{S'_{3}}^{\\min} = 0.06~\\text{ns} + 0.60~\\text{ns} = 0.66~\\text{ns}$。由于 $0.66~\\text{ns} \\ge 0.10~\\text{ns}$，约束得到满足。\n\n优化后的流水线满足所有保持时间约束。最小化的时钟周期是 $T = 2.09~\\text{ns}$。四舍五入到四位有效数字得到 $2.090~\\text{ns}$。",
            "answer": "$$\n\\boxed{2.090}\n$$"
        }
    ]
}