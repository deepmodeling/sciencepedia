{
    "hands_on_practices": [
        {
            "introduction": "Understanding the impact of manufacturing variations is a cornerstone of robust IC design. This exercise  provides hands-on practice in calculating path delay across minimum ($minRC$) and maximum ($maxRC$) process corners using the physically-based Elmore delay model. By analyzing the results, you will gain insight into the fundamental relationship between path delay and the resulting setup and hold timing margins.",
            "id": "4296854",
            "problem": "A synchronous pipeline in an Integrated Circuit (IC) under Electronic Design Automation (EDA) timing analysis has a single critical data path from a launching flip-flop to a capturing flip-flop. The combinational portion of the path consists of three logic stages separated by interconnect segments. The interconnect is dominated by resistive-capacitive (RC) behavior and exhibits two process corners: a minimum-resistance/minimum-capacitance corner (minRC) and a maximum-resistance/maximum-capacitance corner (maxRC). The objective is to quantify how the difference between minRC and maxRC affects the path delay and the resulting setup and hold slacks, starting from physically justified first principles.\n\nThe path topology is as follows: launch flip-flop output drives gate $\\mathrm{G1}$, which drives interconnect segment $\\mathrm{S1}$, which drives gate $\\mathrm{G2}$, which drives interconnect segment $\\mathrm{S2}$, which drives gate $\\mathrm{G3}$, which drives interconnect segment $\\mathrm{S3}$, which terminates at the input of the capture flip-flop. Each gate $i \\in \\{1,2,3\\}$ has an intrinsic delay $t_{\\mathrm{int},i}$ and an effective output resistance $R_{\\mathrm{out},i}$. Each interconnect segment $j \\in \\{1,2,3\\}$ has total resistance $R_j$ and total capacitance $C_j$ that depend on the corner. The sink at the end of each segment is the input capacitance of the next stage, denoted $C_{\\mathrm{in},2}$ for the input of $\\mathrm{G2}$, $C_{\\mathrm{in},3}$ for $\\mathrm{G3}$, and $C_{\\mathrm{in,cap}}$ for the capture flip-flop input. The following parameters are given:\n\n- Logic stages: $R_{\\mathrm{out},1} = 300\\,\\Omega$, $t_{\\mathrm{int},1} = 20\\,\\mathrm{ps}$; $R_{\\mathrm{out},2} = 250\\,\\Omega$, $t_{\\mathrm{int},2} = 18\\,\\mathrm{ps}$; $R_{\\mathrm{out},3} = 200\\,\\Omega$, $t_{\\mathrm{int},3} = 15\\,\\mathrm{ps}$.\n- Interconnect lengths: $\\mathrm{S1}$ is $400\\,\\mu\\mathrm{m}$, $\\mathrm{S2}$ is $300\\,\\mu\\mathrm{m}$, $\\mathrm{S3}$ is $250\\,\\mu\\mathrm{m}$.\n- Interconnect per-unit parameters:\n  - minRC: $R'_{\\min} = 0.08\\,\\Omega/\\mu\\mathrm{m}$, $C'_{\\min} = 0.18\\,\\mathrm{fF}/\\mu\\mathrm{m}$.\n  - maxRC: $R'_{\\max} = 0.12\\,\\Omega/\\mu\\mathrm{m}$, $C'_{\\max} = 0.24\\,\\mathrm{fF}/\\mu\\mathrm{m}$.\n- Segment totals implied by lengths and per-unit values:\n  - minRC: $R_1 = 32\\,\\Omega$, $C_1 = 72\\,\\mathrm{fF}$; $R_2 = 24\\,\\Omega$, $C_2 = 54\\,\\mathrm{fF}$; $R_3 = 20\\,\\Omega$, $C_3 = 45\\,\\mathrm{fF}$.\n  - maxRC: $R_1 = 48\\,\\Omega$, $C_1 = 96\\,\\mathrm{fF}$; $R_2 = 36\\,\\Omega$, $C_2 = 72\\,\\mathrm{fF}$; $R_3 = 30\\,\\Omega$, $C_3 = 60\\,\\mathrm{fF}$.\n- Sink input capacitances: $C_{\\mathrm{in},2} = 12\\,\\mathrm{fF}$, $C_{\\mathrm{in},3} = 10\\,\\mathrm{fF}$, $C_{\\mathrm{in,cap}} = 8\\,\\mathrm{fF}$.\n- Clocking: clock period $T = 1000\\,\\mathrm{ps}$; launch clock earliest arrival $t_{\\mathrm{clk,L}}^{\\mathrm{early}} = 0\\,\\mathrm{ps}$; launch clock latest arrival $t_{\\mathrm{clk,L}}^{\\mathrm{late}} = 20\\,\\mathrm{ps}$; capture clock earliest arrival $t_{\\mathrm{clk,C}}^{\\mathrm{early}} = 30\\,\\mathrm{ps}$; capture clock latest arrival $t_{\\mathrm{clk,C}}^{\\mathrm{late}} = 50\\,\\mathrm{ps}$; capture flip-flop setup time $t_{\\mathrm{setup}} = 30\\,\\mathrm{ps}$; capture flip-flop hold time $t_{\\mathrm{hold}} = 20\\,\\mathrm{ps}$; launch flip-flop clock-to-output times $t_{\\mathrm{ckq}}^{\\max} = 60\\,\\mathrm{ps}$ and $t_{\\mathrm{ckq}}^{\\min} = 40\\,\\mathrm{ps}$.\n\nAssume the interconnect segments are modeled as distributed RC networks and use a physically justified first-order approach to compute the signal delay to each segment’s far end as the sum of gate intrinsic delay and the first moment of the RC network from the driving source to the sink node. Using these assumptions and the provided parameters:\n1. Compute the total combinational path delay $t_{\\mathrm{comb},\\minRC}$ and $t_{\\mathrm{comb},\\maxRC}$ from the launch flip-flop output to the capture flip-flop input for the minRC and maxRC corners.\n2. From the fundamental definitions of setup and hold timing constraints, compute the setup slack at each corner and the hold slack at each corner.\n3. Determine the change in setup slack (maxRC minus minRC) and the change in hold slack (maxRC minus minRC). Finally, report the ratio of the magnitudes of these changes, that is $\\left|\\Delta \\text{setup slack}\\right| / \\left|\\Delta \\text{hold slack}\\right|$.\n\nExpress the final ratio as a dimensionless number. Round your final answer to four significant figures.",
            "solution": "The problem statement has been validated and is deemed valid. It is scientifically grounded in the principles of digital circuit timing analysis, well-posed with all necessary parameters provided, and objective in its formulation. We may proceed with a formal solution.\n\nThe problem requires the calculation of combinational path delay under two different process corners (minRC and maxRC), the corresponding setup and hold slacks, and finally, the ratio of the changes in these slacks between the corners.\n\nFirst, we establish the model for the combinational path delay. The path consists of three stages, each comprising a logic gate and a distributed RC interconnect segment. The problem specifies using a first-order approach based on the first moment of the impulse response, which corresponds to the Elmore delay model. The total delay of the combinational path, $t_{\\mathrm{comb}}$, is the sum of the delays of the three stages.\n\nThe delay of a single stage $i$, denoted $t_{\\mathrm{stage},i}$, driving an interconnect segment $j$ is the sum of the gate's intrinsic delay, $t_{\\mathrm{int},i}$, and the RC delay associated with the interconnect, $t_{\\mathrm{RC},j}$.\n$t_{\\mathrm{stage},i} = t_{\\mathrm{int},i} + t_{\\mathrm{RC},j}$\n\nThe Elmore delay for a distributed RC line (with total resistance $R_j$ and capacitance $C_j$) driven by a source with output resistance $R_{\\mathrm{out},i}$ and loaded by a capacitance $C_{\\mathrm{load}}$ is:\n$$t_{\\mathrm{RC},j} = R_{\\mathrm{out},i}(C_j + C_{\\mathrm{load}}) + \\frac{1}{2}R_j C_j + R_j C_{\\mathrm{load}}$$\nThe units must be consistent. Given resistances in $\\Omega$ and capacitances in $\\mathrm{fF}$, the product $R \\cdot C$ has units of $\\Omega \\cdot \\mathrm{fF}$, where $1\\,\\Omega \\cdot 1\\,\\mathrm{fF} = 10^{-15}\\,\\mathrm{s} = 10^{-3}\\,\\mathrm{ps}$. Therefore, all $R \\cdot C$ products will be divided by $1000$ to yield a delay in picoseconds ($\\mathrm{ps}$).\n\nThe total combinational path delay is:\n$$t_{\\mathrm{comb}} = t_{\\mathrm{stage},1} + t_{\\mathrm{stage},2} + t_{\\mathrm{stage},3}$$\n- Stage 1: Gate G1 drives segment S1 to Gate G2. $i=1$, $j=1$, $C_{\\mathrm{load}} = C_{\\mathrm{in},2}$.\n$$t_{\\mathrm{stage},1} = t_{\\mathrm{int},1} + \\frac{1}{1000} \\left( R_{\\mathrm{out},1}(C_1 + C_{\\mathrm{in},2}) + \\frac{1}{2}R_1C_1 + R_1C_{\\mathrm{in},2} \\right)$$\n- Stage 2: Gate G2 drives segment S2 to Gate G3. $i=2$, $j=2$, $C_{\\mathrm{load}} = C_{\\mathrm{in},3}$.\n$$t_{\\mathrm{stage},2} = t_{\\mathrm{int},2} + \\frac{1}{1000} \\left( R_{\\mathrm{out},2}(C_2 + C_{\\mathrm{in},3}) + \\frac{1}{2}R_2C_2 + R_2C_{\\mathrm{in},3} \\right)$$\n- Stage 3: Gate G3 drives segment S3 to the capture flip-flop. $i=3$, $j=3$, $C_{\\mathrm{load}} = C_{\\mathrm{in,cap}}$.\n$$t_{\\mathrm{stage},3} = t_{\\mathrm{int},3} + \\frac{1}{1000} \\left( R_{\\mathrm{out},3}(C_3 + C_{\\mathrm{in,cap}}) + \\frac{1}{2}R_3C_3 + R_3C_{\\mathrm{in,cap}} \\right)$$\n\n**Step 1: Compute total combinational path delay for each RC corner.**\n\n**A. minRC Corner Calculation:**\nUsing the minRC parameters:\n- Stage 1 ($R_{\\mathrm{out},1}=300\\,\\Omega$, $t_{\\mathrm{int},1}=20\\,\\mathrm{ps}$, $R_1=32\\,\\Omega$, $C_1=72\\,\\mathrm{fF}$, $C_{\\mathrm{in},2}=12\\,\\mathrm{fF}$):\n$t_{\\mathrm{stage},1,\\minRC} = 20 + \\frac{1}{1000} \\left( 300(72+12) + \\frac{1}{2}(32)(72) + 32(12) \\right) = 20 + \\frac{25200 + 1152 + 384}{1000} = 20 + 26.736 = 46.736\\,\\mathrm{ps}$.\n- Stage 2 ($R_{\\mathrm{out},2}=250\\,\\Omega$, $t_{\\mathrm{int},2}=18\\,\\mathrm{ps}$, $R_2=24\\,\\Omega$, $C_2=54\\,\\mathrm{fF}$, $C_{\\mathrm{in},3}=10\\,\\mathrm{fF}$):\n$t_{\\mathrm{stage},2,\\minRC} = 18 + \\frac{1}{1000} \\left( 250(54+10) + \\frac{1}{2}(24)(54) + 24(10) \\right) = 18 + \\frac{16000 + 648 + 240}{1000} = 18 + 16.888 = 34.888\\,\\mathrm{ps}$.\n- Stage 3 ($R_{\\mathrm{out},3}=200\\,\\Omega$, $t_{\\mathrm{int},3}=15\\,\\mathrm{ps}$, $R_3=20\\,\\Omega$, $C_3=45\\,\\mathrm{fF}$, $C_{\\mathrm{in,cap}}=8\\,\\mathrm{fF}$):\n$t_{\\mathrm{stage},3,\\minRC} = 15 + \\frac{1}{1000} \\left( 200(45+8) + \\frac{1}{2}(20)(45) + 20(8) \\right) = 15 + \\frac{10600 + 450 + 160}{1000} = 15 + 11.210 = 26.210\\,\\mathrm{ps}$.\n\nTotal combinational delay for minRC:\n$t_{\\mathrm{comb},\\minRC} = 46.736 + 34.888 + 26.210 = 107.834\\,\\mathrm{ps}$.\n\n**B. maxRC Corner Calculation:**\nUsing the maxRC parameters:\n- Stage 1 ($R_1=48\\,\\Omega$, $C_1=96\\,\\mathrm{fF}$):\n$t_{\\mathrm{stage},1,\\maxRC} = 20 + \\frac{1}{1000} \\left( 300(96+12) + \\frac{1}{2}(48)(96) + 48(12) \\right) = 20 + \\frac{32400 + 2304 + 576}{1000} = 20 + 35.280 = 55.280\\,\\mathrm{ps}$.\n- Stage 2 ($R_2=36\\,\\Omega$, $C_2=72\\,\\mathrm{fF}$):\n$t_{\\mathrm{stage},2,\\maxRC} = 18 + \\frac{1}{1000} \\left( 250(72+10) + \\frac{1}{2}(36)(72) + 36(10) \\right) = 18 + \\frac{20500 + 1296 + 360}{1000} = 18 + 22.156 = 40.156\\,\\mathrm{ps}$.\n- Stage 3 ($R_3=30\\,\\Omega$, $C_3=60\\,\\mathrm{fF}$):\n$t_{\\mathrm{stage},3,\\maxRC} = 15 + \\frac{1}{1000} \\left( 200(60+8) + \\frac{1}{2}(30)(60) + 30(8) \\right) = 15 + \\frac{13600 + 900 + 240}{1000} = 15 + 14.740 = 29.740\\,\\mathrm{ps}$.\n\nTotal combinational delay for maxRC:\n$t_{\\mathrm{comb},\\maxRC} = 55.280 + 40.156 + 29.740 = 125.176\\,\\mathrm{ps}$.\n\n**Step 2: Compute setup and hold slacks for each corner.**\n\nThe setup and hold slack equations are fundamental to synchronous timing analysis.\nThe setup requirement ensures data arrives before it is needed for capture:\n$$ \\text{Setup Slack} = (\\text{Capture Time})_{\\text{Required}} - (\\text{Data Arrival})_{\\text{Actual}} $$\n$$ \\text{Setup Slack} = (T + t_{\\mathrm{clk,C}}^{\\mathrm{late}} - t_{\\mathrm{setup}}) - (t_{\\mathrm{clk,L}}^{\\mathrm{late}} + t_{\\mathrm{ckq}}^{\\max} + t_{\\mathrm{comb}}) $$\nThe hold requirement ensures data does not change too soon after capture:\n$$ \\text{Hold Slack} = (\\text{Data Arrival})_{\\text{Actual}} - (\\text{Capture Time})_{\\text{Required}} $$\n$$ \\text{Hold Slack} = (t_{\\mathrm{clk,L}}^{\\mathrm{early}} + t_{\\mathrm{ckq}}^{\\min} + t_{\\mathrm{comb}}) - (t_{\\mathrm{clk,C}}^{\\mathrm{early}} + t_{\\mathrm{hold}}) $$\nThe problem instructs to calculate slacks at each corner, which we perform as follows.\n\n**A. Setup Slack Calculation:**\nThe constant part of the setup slack equation is:\n$K_{\\mathrm{setup}} = T + t_{\\mathrm{clk,C}}^{\\mathrm{late}} - t_{\\mathrm{setup}} - t_{\\mathrm{clk,L}}^{\\mathrm{late}} - t_{\\mathrm{ckq}}^{\\max} = 1000 + 50 - 30 - 20 - 60 = 940\\,\\mathrm{ps}$.\nSo, $\\text{Setup Slack} = 940 - t_{\\mathrm{comb}}$.\n\n- Setup Slack at minRC:\n$\\text{Setup Slack}_{\\minRC} = 940 - t_{\\mathrm{comb},\\minRC} = 940 - 107.834 = 832.166\\,\\mathrm{ps}$.\n- Setup Slack at maxRC:\n$\\text{Setup Slack}_{\\maxRC} = 940 - t_{\\mathrm{comb},\\maxRC} = 940 - 125.176 = 814.824\\,\\mathrm{ps}$.\n\n**B. Hold Slack Calculation:**\nThe constant part of the hold slack equation is:\n$K_{\\mathrm{hold}} = t_{\\mathrm{clk,C}}^{\\mathrm{early}} + t_{\\mathrm{hold}} - t_{\\mathrm{clk,L}}^{\\mathrm{early}} - t_{\\mathrm{ckq}}^{\\min} = 30 + 20 - 0 - 40 = 10\\,\\mathrm{ps}$.\nSo, $\\text{Hold Slack} = t_{\\mathrm{comb}} - K_{\\mathrm{hold}} = t_{\\mathrm{comb}} - 10$.\n\n- Hold Slack at minRC:\n$\\text{Hold Slack}_{\\minRC} = t_{\\mathrm{comb},\\minRC} - 10 = 107.834 - 10 = 97.834\\,\\mathrm{ps}$.\n- Hold Slack at maxRC:\n$\\text{Hold Slack}_{\\maxRC} = t_{\\mathrm{comb},\\maxRC} - 10 = 125.176 - 10 = 115.176\\,\\mathrm{ps}$.\n\n**Step 3: Determine the change in slacks and their ratio.**\n\nThe change in slack is defined as the value at the maxRC corner minus the value at the minRC corner.\n\n- Change in Setup Slack:\n$\\Delta \\text{Setup Slack} = \\text{Setup Slack}_{\\maxRC} - \\text{Setup Slack}_{\\minRC} = 814.824 - 832.166 = -17.342\\,\\mathrm{ps}$.\nFrom the formula, this is $(940 - t_{\\mathrm{comb},\\maxRC}) - (940 - t_{\\mathrm{comb},\\minRC}) = t_{\\mathrm{comb},\\minRC} - t_{\\mathrm{comb},\\maxRC}$.\n$107.834 - 125.176 = -17.342\\,\\mathrm{ps}$. This is consistent.\n\n- Change in Hold Slack:\n$\\Delta \\text{Hold Slack} = \\text{Hold Slack}_{\\maxRC} - \\text{Hold Slack}_{\\minRC} = 115.176 - 97.834 = 17.342\\,\\mathrm{ps}$.\nFrom the formula, this is $(t_{\\mathrm{comb},\\maxRC} - 10) - (t_{\\mathrm{comb},\\minRC} - 10) = t_{\\mathrm{comb},\\maxRC} - t_{\\mathrm{comb},\\minRC}$.\n$125.176 - 107.834 = 17.342\\,\\mathrm{ps}$. This is consistent.\n\nWe observe that $\\Delta \\text{Setup Slack} = - \\Delta \\text{Hold Slack}$. This is a direct consequence of how combinational path delay, $t_{\\mathrm{comb}}$, affects each slack metric. An increase in path delay (moving from minRC to maxRC) degrades setup margin but improves hold margin by the exact same amount, assuming all other timing parameters are constant.\n\nFinally, we compute the ratio of the magnitudes of these changes:\n$$ \\text{Ratio} = \\frac{\\left|\\Delta \\text{Setup Slack}\\right|}{\\left|\\Delta \\text{Hold Slack}\\right|} = \\frac{|-17.342\\,\\mathrm{ps}|}{|17.342\\,\\mathrm{ps}|} = \\frac{17.342}{17.342} = 1 $$\nThe exact result is $1$. The problem requests the answer rounded to four significant figures, which is $1.000$.",
            "answer": "$$\\boxed{1.000}$$"
        },
        {
            "introduction": "Not all data paths in a complex IC are designed to complete within a single clock cycle. This practice  explores the analysis of multicycle paths, a common technique for managing long combinational logic delays. You will learn to correctly formulate the setup timing constraint for a two-cycle path, demonstrating how design intent is translated into the mathematical framework of static timing analysis.",
            "id": "4296865",
            "problem": "A synchronous pipeline in a complementary metal–oxide–semiconductor (CMOS) digital integrated circuit is driven by a single clock domain. The launch register $R_{\\text{L}}$ and the capture register $R_{\\text{C}}$ are clocked by the same rising-edge clock. The path from $R_{\\text{L}}$ to $R_{\\text{C}}$ is architected as a two-cycle path due to a protocol that guarantees the data is only sampled every other cycle at $R_{\\text{C}}$; this intent must be reflected in Static Timing Analysis (STA).\n\nThe clock has period $T = 1.0\\,\\text{ns}$, with source clock uncertainty for setup analysis $U_{\\text{setup}} = 0.05\\,\\text{ns}$. The propagated clock latencies to the clock pins of the registers are $L_{\\text{L}} = 0.35\\,\\text{ns}$ for the launch register and $L_{\\text{C}} = 0.42\\,\\text{ns}$ for the capture register. The launch register has a maximum clock-to-$Q$ delay $t_{\\text{cq,max}} = 0.08\\,\\text{ns}$. The data path from $R_{\\text{L}}$ to $R_{\\text{C}}$ comprises logic and interconnect with maximum delays $D_{\\text{logic,max}} = 1.65\\,\\text{ns}$ and $D_{\\text{wire,max}} = 0.22\\,\\text{ns}$, respectively. The capture register has a setup time $t_{\\text{setup}} = 0.09\\,\\text{ns}$.\n\nAssume the given delays and latencies already include late-corner derating appropriate for setup analysis, and that the clock uncertainty $U_{\\text{setup}}$ is applied as a reduction in the time budget available for meeting setup (representing combined jitter and modeling uncertainty). Ignore any common path pessimism removal effects and any cross-corner correlation.\n\nStarting from first principles that define setup timing—namely, that data must be stable at the capture register at least $t_{\\text{setup}}$ before the active capture edge, and that STA compares a latest data arrival time to a latest required capture time—derive the setup slack for this two-cycle path under the correct multicycle interpretation. In your derivation, carefully argue how the two-cycle intent alters the required capture edge time relative to the launch edge and how clock latencies and uncertainty enter the comparison.\n\nThen, state the STA constraint changes necessary to reflect the two-cycle intent on this point-to-point path and to maintain correct hold analysis consistency. You may name the registers $R_{\\text{L}}$ and $R_{\\text{C}}$ in the constraints.\n\nCompute the numerical value of the setup slack for this path under the two-cycle interpretation. Express the final setup slack in nanoseconds and round your answer to three significant figures.",
            "solution": "The problem requires the derivation and calculation of setup slack for a two-cycle path in a synchronous digital circuit, as well as a description of the necessary static timing analysis (STA) constraints.\n\nFirst, we establish the fundamental equation for setup slack, which is defined as the difference between the required arrival time (RAT) of the data at the capture register's input and the actual data arrival time (DAT).\n$$\nS_{\\text{setup}} = \\text{RAT} - \\text{DAT}\n$$\nA positive slack indicates that the timing constraint is met, while a negative slack indicates a violation. We will derive the expressions for RAT and DAT from first principles, taking into account all specified parameters. Let the rising edge of the source clock that launches the data from register $R_{\\text{L}}$ occur at time $t=0$.\n\nThe Data Arrival Time (DAT) is the time it takes for a signal to propagate from the clock pin of the launch register $R_{\\text{L}}$ to the data input pin of the capture register $R_{\\text{C}}$.\nThe clock signal, originating from the source at $t=0$, reaches the clock pin of the launch register $R_{\\text{L}}$ after a latency of $L_{\\text{L}}$. Thus, the launch edge occurs at the register at time $t_1 = L_{\\text{L}}$.\nFollowing this clock edge, the data becomes available at the output (Q pin) of $R_{\\text{L}}$ after the maximum clock-to-Q delay, $t_{\\text{cq,max}}$. The time at which the data is launched from $R_{\\text{L}}$ is $t_2 = L_{\\text{L}} + t_{\\text{cq,max}}$.\nThis data must then propagate through the combinational logic path and interconnect wiring to reach the input (D pin) of the capture register $R_{\\text{C}}$. The maximum delay of this data path is the sum of the maximum logic delay, $D_{\\text{logic,max}}$, and the maximum wire delay, $D_{\\text{wire,max}}$.\nTherefore, the latest time the data arrives at the input of $R_{\\text{C}}$ is:\n$$\n\\text{DAT} = L_{\\text{L}} + t_{\\text{cq,max}} + D_{\\text{logic,max}} + D_{\\text{wire,max}}\n$$\n\nThe Required Arrival Time (RAT) is the latest time the data can arrive at the input of $R_{\\text{C}}$ and still be correctly captured. This is determined by the timing of the capture clock edge.\nFor a standard single-cycle path, the capture edge would be the next rising clock edge after the launch. At the clock source, this would occur at time $T$. However, the problem specifies a two-cycle path. This means the data launched at $t=0$ is intended to be captured not at the next clock cycle, but at the one after that.\nThe intended capture edge at the clock source therefore occurs at time $t=2T$.\nThis clock edge propagates to the capture register $R_{\\text{C}}$, arriving at its clock pin at time $t_3 = 2T + L_{\\text{C}}$. This is the time of the active capture edge at the register.\nFor a successful capture, the data at the input of $R_{\\text{C}}$ must be stable for a duration of at least the setup time, $t_{\\text{setup}}$, *before* the capture edge arrives. This means the data must arrive no later than $t_3 - t_{\\text{setup}}$.\nFurthermore, the problem specifies a source clock uncertainty for setup analysis, $U_{\\text{setup}}$, which reduces the available time budget. This uncertainty term is subtracted from the available time, effectively making the required arrival time earlier.\nThus, the Required Arrival Time at the input of $R_{\\text{C}}$ is:\n$$\n\\text{RAT} = (2T + L_{\\text{C}}) - t_{\\text{setup}} - U_{\\text{setup}}\n$$\n\nNow, we can combine the expressions for RAT and DAT to find the setup slack, $S_{\\text{setup}}$:\n$$\nS_{\\text{setup}} = \\text{RAT} - \\text{DAT} = (2T + L_{\\text{C}} - t_{\\text{setup}} - U_{\\text{setup}}) - (L_{\\text{L}} + t_{\\text{cq,max}} + D_{\\text{logic,max}} + D_{\\text{wire,max}})\n$$\nRearranging the terms highlights the components of the timing path:\n$$\nS_{\\text{setup}} = 2T + (L_{\\text{C}} - L_{\\text{L}}) - t_{\\text{cq,max}} - (D_{\\text{logic,max}} + D_{\\text{wire,max}}) - t_{\\text{setup}} - U_{\\text{setup}}\n$$\nHere, the term $(L_{\\text{C}} - L_{\\text{L}})$ represents the clock skew between the capture and launch registers.\n\nTo properly constrain this path in an STA tool, the default single-cycle behavior must be overridden. The `set_multicycle_path` command (or its equivalent in a given tool's syntax) is used.\nFor setup analysis, the path is specified as taking $2$ cycles. This instructs the tool to add one extra clock period to the setup check's required time calculation. The command would be:\n`set_multicycle_path 2 -setup -from R_L -to R_C`\nDefining a multicycle path for setup has implications for hold analysis. The default hold check occurs at the same clock edge as the launch (a $0$-cycle check). Relaxing the setup requirement allows the data to arrive later, which can cause it to interfere with the capture of the next data transition. However, for a multicycle path, the default hold check is often unnecessarily restrictive. The standard practice for an $N$-cycle setup path is to move the hold check to be $N-1$ cycles later. For this $N=2$ setup path, the hold check should be performed one cycle after the launch edge. This is accomplished with the constraint:\n`set_multicycle_path 1 -hold -from R_L -to R_C`\n\nFinally, we compute the numerical value of the setup slack using the provided values:\nClock period: $T = 1.0\\,\\text{ns}$\nLaunch clock latency: $L_{\\text{L}} = 0.35\\,\\text{ns}$\nCapture clock latency: $L_{\\text{C}} = 0.42\\,\\text{ns}$\nMax clock-to-Q delay: $t_{\\text{cq,max}} = 0.08\\,\\text{ns}$\nMax logic delay: $D_{\\text{logic,max}} = 1.65\\,\\text{ns}$\nMax wire delay: $D_{\\text{wire,max}} = 0.22\\,\\text{ns}$\nSetup time: $t_{\\text{setup}} = 0.09\\,\\text{ns}$\nSetup clock uncertainty: $U_{\\text{setup}} = 0.05\\,\\text{ns}$\n\nThe total data path delay is $D_{\\text{path,max}} = D_{\\text{logic,max}} + D_{\\text{wire,max}} = 1.65\\,\\text{ns} + 0.22\\,\\text{ns} = 1.87\\,\\text{ns}$.\nThe data arrival time is:\n$$\n\\text{DAT} = 0.35\\,\\text{ns} + 0.08\\,\\text{ns} + 1.87\\,\\text{ns} = 2.30\\,\\text{ns}\n$$\nThe required arrival time is:\n$$\n\\text{RAT} = (2 \\times 1.0\\,\\text{ns} + 0.42\\,\\text{ns}) - 0.09\\,\\text{ns} - 0.05\\,\\text{ns} = 2.42\\,\\text{ns} - 0.14\\,\\text{ns} = 2.28\\,\\text{ns}\n$$\nThe setup slack is:\n$$\nS_{\\text{setup}} = \\text{RAT} - \\text{DAT} = 2.28\\,\\text{ns} - 2.30\\,\\text{ns} = -0.02\\,\\text{ns}\n$$\nThe calculation yields a negative slack, which indicates a setup timing violation. To express this with three significant figures as requested, we write the result in scientific notation.\n$$\nS_{\\text{setup}} = -2.00 \\times 10^{-2}\\,\\text{ns}\n$$",
            "answer": "$$\n\\boxed{-2.00 \\times 10^{-2}}\n$$"
        },
        {
            "introduction": "Modern static timing analysis must account for On-Chip Variation (OCV), where delays vary across a single die. This practice  tackles the challenge of reconvergent clock paths, where simplistic analysis leads to unrealistic pessimism. By calculating setup slack using both graph-based and path-based methods, you will quantify the pessimism and understand the critical role of Common Path Pessimism Removal (CPPR) in achieving accurate timing sign-off.",
            "id": "4296838",
            "problem": "A synchronous complementary metal–oxide–semiconductor (CMOS) pipeline is driven by a single ideal clock source and analyzed under On-Chip Variation (OCV). The launch and capture clock trees reconverge and then diverge to their individual flip-flops. The data path from the launch flip-flop’s output to the capture flip-flop’s input contains only combinational logic and nets as described below. The objective is to evaluate the worst-case setup timing using two static timing analysis interpretations: a graph-based analysis and a path-based analysis that applies Common Path Pessimism Removal (CPPR). Use only the definitions of arrival time, required time, setup constraint, and OCV polarity for setup checks to derive the timing quantities.\n\nClock network topology and nominal segment delays:\n- Common clock segments shared by both launch and capture trees:\n  - Segment $C_{0}$: $101$ ps.\n  - Segment $C_{1}$: $119$ ps.\n- Launch-only segment:\n  - Segment $L_{2}$: $82$ ps.\n- Capture-only segment:\n  - Segment $C_{3}$: $91$ ps.\n\nData path topology and nominal segment delays from the launch flip-flop’s data output to the capture flip-flop’s data input:\n- Launch flip-flop clock-to-$Q$ delay $t_{cq}$: $79$ ps.\n- Gate $D_{1}$: $151$ ps.\n- Gate $D_{2}$: $139$ ps.\n- Net $N_{12}$: $61$ ps.\n- Gate $D_{3}$: $133$ ps.\n\nOperating constraints:\n- Clock period $T$: $1000$ ps.\n- Setup time of the capture flip-flop $t_{setup}$: $60$ ps.\n- Clock uncertainty to be treated as a subtractive margin for setup: $30$ ps.\n- OCV policy for the maximum (late) data and launch clock and minimum (early) capture clock under a setup check:\n  - For any clock segment, use $+10\\%$ for late and $-10\\%$ for early.\n  - For any data segment (including gates and nets), use $+10\\%$ for late (maximum).\n\nAssumptions:\n- The clock source is ideal and defines time zero.\n- The logic is single-cycle: the data launched by one clock edge must be captured at the next clock edge.\n- Slew and load dependencies are absorbed into the given nominal delays.\n- The reconvergence referred to is the shared common clock path $C_{0}$ and $C_{1}$; you must account for its impact correctly in the path-based interpretation by removing pessimism due to the common clock segments.\n\nTasks:\n1. Compute the graph-based setup slack by treating the launch clock as late, the capture clock as early, and the data path as late, with OCV applied independently to all segments, and with no Common Path Pessimism Removal on the clock reconvergence.\n2. Compute the path-based setup slack by applying Common Path Pessimism Removal on the shared clock segments $C_{0}$ and $C_{1}$.\n3. Quantify the pessimism gap as the difference between the path-based and graph-based setup slacks.\n\nExpress all three results in picoseconds. Round your answers to four significant figures. The final answer must be a single row matrix containing, in order, the graph-based setup slack, the path-based setup slack, and the pessimism gap.",
            "solution": "The problem is validated as scientifically grounded, well-posed, objective, and complete. All data necessary for setup timing analysis under On-Chip Variation (OCV) are provided, and the tasks are clearly defined. I will proceed with the solution.\n\nThe fundamental equation for setup slack is the difference between the required arrival time (RAT) and the actual arrival time (AAT) of the data signal at the capture flip-flop's data input.\n$$\n\\text{Slack} = \\text{RAT} - \\text{AAT}\n$$\nFor a setup check, we must consider the worst-case scenario: the data arrives as late as possible, and the capture clock edge arrives as early as possible. This requires applying OCV derating factors to maximize the AAT and minimize the capture clock path delay component of the RAT.\n\nThe given OCV policy for a setup check is:\n- Late path (data and launch clock): nominal delay increased by $+10\\%$. The derating factor is $d_{late} = 1 + 0.10 = 1.1$.\n- Early path (capture clock): nominal delay decreased by $-10\\%$. The derating factor is $d_{early} = 1 - 0.10 = 0.9$.\n\nThe actual data arrival time (AAT) is the sum of the launch clock path delay, the launch flip-flop's clock-to-Q delay ($t_{cq}$), and the combinational data path delay. For a worst-case setup check, all these paths are considered late.\n$$\n\\text{AAT} = (\\text{Launch Clock Path Delay})_{\\text{late}} + (t_{cq})_{\\text{late}} + (\\text{Combinational Logic Delay})_{\\text{late}}\n$$\nThe required data arrival time (RAT) is determined by the capture clock edge, adjusted for the flip-flop's setup time ($t_{setup}$) and any clock uncertainty ($t_{uncertainty}$). For a worst-case setup check, the capture clock path is considered early.\n$$\n\\text{RAT} = (\\text{Capture Clock Path Delay})_{\\text{early}} + T - t_{setup} - t_{uncertainty}\n$$\nwhere $T$ is the clock period.\n\nLet's define the nominal path delays based on the provided segment delays:\n- Nominal launch clock path delay ($t_{LCP,nom}$): $C_0 \\rightarrow C_1 \\rightarrow L_2$\n$$\nt_{LCP,nom} = C_0 + C_1 + L_2 = 101 \\text{ ps} + 119 \\text{ ps} + 82 \\text{ ps} = 302 \\text{ ps}\n$$\n- Nominal data path delay ($t_{DP,nom}$), which includes the flip-flop's internal delay $t_{cq}$ and the external combinational logic:\n$$\nt_{DP,nom} = t_{cq} + D_1 + N_{12} + D_2 + D_3 = 79 + 151 + 61 + 139 + 133 = 563 \\text{ ps}\n$$\n- Nominal capture clock path delay ($t_{CCP,nom}$): $C_0 \\rightarrow C_1 \\rightarrow C_3$\n$$\nt_{CCP,nom} = C_0 + C_1 + C_3 = 101 \\text{ ps} + 119 \\text{ ps} + 91 \\text{ ps} = 311 \\text{ ps}\n$$\n\n### Task 1: Graph-Based Setup Slack\nIn a graph-based analysis (GBA), OCV derating is applied independently to the entire launch and capture clock paths, even over shared segments. This introduces a pessimistic assumption that the common portion of the path can be simultaneously slow for the launch event and fast for the capture event.\n\nFirst, we calculate the worst-case (late) AAT:\n$$\n\\text{AAT}_{\\text{graph}} = (t_{LCP,nom} \\times d_{late}) + (t_{DP,nom} \\times d_{late})\n$$\n$$\n\\text{AAT}_{\\text{graph}} = (302 \\text{ ps} \\times 1.1) + (563 \\text{ ps} \\times 1.1) = 332.2 \\text{ ps} + 619.3 \\text{ ps} = 951.5 \\text{ ps}\n$$\nNext, we calculate the best-case (early) RAT:\n$$\n\\text{RAT}_{\\text{graph}} = (t_{CCP,nom} \\times d_{early}) + T - t_{setup} - t_{uncertainty}\n$$\n$$\n\\text{RAT}_{\\text{graph}} = (311 \\text{ ps} \\times 0.9) + 1000 \\text{ ps} - 60 \\text{ ps} - 30 \\text{ ps} = 279.9 \\text{ ps} + 910 \\text{ ps} = 1189.9 \\text{ ps}\n$$\nNow, we compute the graph-based setup slack:\n$$\n\\text{Slack}_{\\text{graph}} = \\text{RAT}_{\\text{graph}} - \\text{AAT}_{\\text{graph}} = 1189.9 \\text{ ps} - 951.5 \\text{ ps} = 238.4 \\text{ ps}\n$$\n\n### Task 2: Path-Based Setup Slack\nA path-based analysis (PBA) is more accurate as it recognizes that a single physical path segment cannot be both fast and slow at the same instant. It removes the artificial pessimism introduced in GBA through Common Path Pessimism Removal (CPPR). The pessimism arises from applying opposite derating factors ($d_{late}$ and $d_{early}$) to the clock path segments common to both launch and capture flops.\n\nThe common clock path consists of segments $C_0$ and $C_1$. Its nominal delay is:\n$$\nt_{common,nom} = C_0 + C_1 = 101 \\text{ ps} + 119 \\text{ ps} = 220 \\text{ ps}\n$$\nThe pessimism amount to be removed, known as the CPPR credit, is the difference between the late and early calculations of this common path's delay:\n$$\n\\text{CPPR}_{\\text{credit}} = (t_{common,nom} \\times d_{late}) - (t_{common,nom} \\times d_{early}) = t_{common,nom} \\times (d_{late} - d_{early})\n$$\n$$\n\\text{CPPR}_{\\text{credit}} = 220 \\text{ ps} \\times (1.1 - 0.9) = 220 \\text{ ps} \\times 0.2 = 44 \\text{ ps}\n$$\nThis credit is added to the graph-based slack to obtain the more realistic path-based slack:\n$$\n\\text{Slack}_{\\text{path}} = \\text{Slack}_{\\text{graph}} + \\text{CPPR}_{\\text{credit}}\n$$\n$$\n\\text{Slack}_{\\text{path}} = 238.4 \\text{ ps} + 44 \\text{ ps} = 282.4 \\text{ ps}\n$$\n\n### Task 3: Pessimism Gap\nThe pessimism gap is defined as the difference between the path-based setup slack and the graph-based setup slack. This quantity is precisely the CPPR credit that was calculated and removed.\n$$\n\\text{Pessimism Gap} = \\text{Slack}_{\\text{path}} - \\text{Slack}_{\\text{graph}}\n$$\n$$\n\\text{Pessimism Gap} = 282.4 \\text{ ps} - 238.4 \\text{ ps} = 44 \\text{ ps}\n$$\n\nThe three requested quantities, rounded to four significant figures, are:\n- Graph-based setup slack: $238.4$ ps\n- Path-based setup slack: $282.4$ ps\n- Pessimism gap: $44.00$ ps (expressed with four significant figures for consistency)",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n238.4 & 282.4 & 44.00\n\\end{pmatrix}\n}\n$$"
        }
    ]
}