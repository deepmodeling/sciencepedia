{
    "hands_on_practices": [
        {
            "introduction": "Before we can analyze the timing of a complex digital circuit, we must first be able to model the delay of its fundamental components. This exercise focuses on modeling interconnect delay, a critical contributor to the total path delay in modern ICs. You will derive the Elmore delay, a cornerstone first-order approximation for RC networks, directly from circuit theory, providing a solid foundation for understanding how wire delays are calculated in Static Timing Analysis (STA).",
            "id": "4301470",
            "problem": "In static timing analysis (STA), a widely used approximation for interconnect delay in resistive-capacitive (RC) trees is the Elmore delay, defined from first principles as the ratio of the first moment to the zero-th moment of the impulse response of the linear time-invariant network. Consider a three-segment RC ladder that models a metal interconnect driving three downstream lumped capacitances. The ladder consists of a root node (node $0$) driven by an ideal voltage source with zero output resistance that applies a unit step at time $t=0$, followed by three series resistors $R_1$, $R_2$, $R_3$ connecting nodes $0 \\rightarrow 1 \\rightarrow 2 \\rightarrow 3$, and three shunt capacitors $C_1$, $C_2$, $C_3$ connected from nodes $1$, $2$, $3$ respectively to ground. Assume all elements are linear and time-invariant, and that all capacitors are strictly to ground so the interconnect forms an RC tree.\n\nUsing only fundamental linear circuit theory and the definition of moments of the impulse response, derive the Elmore delay to the far-end node (node $3$) as a closed-form expression in terms of $R_1$, $R_2$, $R_3$, $C_1$, $C_2$, and $C_3$. Then, evaluate this delay numerically for $R_i=\\{50,40,30\\}\\ \\Omega$ and $C_i=\\{10,20,30\\}\\ \\text{fF}$, where $R_1=50\\ \\Omega$, $R_2=40\\ \\Omega$, $R_3=30\\ \\Omega$, $C_1=10\\ \\text{fF}$, $C_2=20\\ \\text{fF}$, and $C_3=30\\ \\text{fF}$. Express the final numerical value in picoseconds ($\\text{ps}$) and round your answer to four significant figures. The final answer must be a single number.",
            "solution": "The problem requires the derivation of the Elmore delay to the far-end node (node $3$) of a three-segment RC ladder and its numerical evaluation. The derivation must be based on fundamental principles involving moments of the impulse response.\n\nLet $v_{in}(t)$ be the input voltage at the root (node $0$) and $v_3(t)$ be the voltage at node $3$. The impulse response at node $3$ is denoted by $h_3(t)$, and the corresponding transfer function in the Laplace domain is $H_3(s) = \\mathcal{L}\\{h_3(t)\\}$. The transfer function relates the output voltage to the input voltage: $V_3(s) = H_3(s) V_{in}(s)$.\n\nThe Elmore delay, $\\tau_{D3}$, is defined as the first moment of the impulse response normalized by the zeroth moment:\n$$ \\tau_{D3} = \\frac{m_1}{m_0} = \\frac{\\int_0^\\infty t h_3(t) dt}{\\int_0^\\infty h_3(t) dt} $$\nThe moments $m_k$ can be calculated from the Maclaurin series expansion of the transfer function $H_3(s)$ around $s=0$. The $k$-th moment is given by $m_k = (-1)^k \\frac{d^k H_3(s)}{ds^k} \\bigg|_{s=0}$ if the initial derivatives are evaluated from the Taylor series expansion. In an alternative formulation of moment calculation from the transfer function expanded as $H(s) = \\sum_{k=0}^{\\infty} m'_k s^k$, the coefficients $m'_k$ are related to the moments. A direct link is that the time-domain moments $m_k$ can be found from derivatives of $H_3(s)$:\n$$ m_0 = H_3(s) \\bigg|_{s=0} = H_3(0) $$\n$$ m_1 = -\\frac{dH_3(s)}{ds} \\bigg|_{s=0} = -H'_3(0) $$\nThus, the Elmore delay is:\n$$ \\tau_{D3} = \\frac{-H'_3(0)}{H_3(0)} $$\nFor the given RC ladder, which is a low-pass network, the DC gain is unity. At $s=0$ (DC), the capacitors act as open circuits, and no current flows. Therefore, there is no voltage drop across the resistors, and all node voltages equal the input voltage. This means $V_i(0) = V_{in}(0)$ for $i=1, 2, 3$, so $H_i(0) = V_i(0)/V_{in}(0) = 1$.\nWith $H_3(0)=1$, the Elmore delay simplifies to:\n$$ \\tau_{D3} = -H'_3(0) $$\nTo find $H'_3(0)$, we perform nodal analysis on the circuit in the Laplace domain. Let $V_i(s)$ be the Laplace transform of the voltage at node $i$. The impedances of the capacitors are $Z_{C_i}(s) = \\frac{1}{sC_i}$. The nodal equations are:\nNode 1: $$ \\frac{V_1(s) - V_{in}(s)}{R_1} + sC_1 V_1(s) + \\frac{V_1(s) - V_2(s)}{R_2} = 0 $$\nNode 2: $$ \\frac{V_2(s) - V_1(s)}{R_2} + sC_2 V_2(s) + \\frac{V_2(s) - V_3(s)}{R_3} = 0 $$\nNode 3: $$ \\frac{V_3(s) - V_2(s)}{R_3} + sC_3 V_3(s) = 0 $$\nWe define the voltage transfer functions $H_i(s) = V_i(s)/V_{in}(s)$. Substituting $V_i(s) = H_i(s)V_{in}(s)$ and dividing by $V_{in}(s)$:\n(1) $$ \\left(\\frac{1}{R_1} + \\frac{1}{R_2} + sC_1\\right)H_1(s) - \\frac{1}{R_2}H_2(s) = \\frac{1}{R_1} $$\n(2) $$ -\\frac{1}{R_2}H_1(s) + \\left(\\frac{1}{R_2} + \\frac{1}{R_3} + sC_2\\right)H_2(s) - \\frac{1}{R_3}H_3(s) = 0 $$\n(3) $$ -\\frac{1}{R_3}H_2(s) + \\left(\\frac{1}{R_3} + sC_3\\right)H_3(s) = 0 $$\nTo find $H'_3(0)$, we expand each $H_i(s)$ as a Maclaurin series: $H_i(s) = H_i(0) + s H'_i(0) + O(s^2)$. We already established that $H_i(0) = 1$ for all $i$. Substituting this expansion into the system of equations and collecting terms of the same power of $s$:\n\nEquating the coefficients of $s^1$:\nFrom (1): $$ \\left(\\frac{1}{R_1} + \\frac{1}{R_2}\\right)H'_1(0) - \\frac{1}{R_2}H'_2(0) + C_1 H_1(0) = 0 \\implies \\left(\\frac{1}{R_1} + \\frac{1}{R_2}\\right)H'_1(0) - \\frac{1}{R_2}H'_2(0) = -C_1 $$\nFrom (2): $$ -\\frac{1}{R_2}H'_1(0) + \\left(\\frac{1}{R_2} + \\frac{1}{R_3}\\right)H'_2(0) - \\frac{1}{R_3}H'_3(0) + C_2 H_2(0) = 0 \\implies -\\frac{1}{R_2}H'_1(0) + \\left(\\frac{1}{R_2} + \\frac{1}{R_3}\\right)H'_2(0) - \\frac{1}{R_3}H'_3(0) = -C_2 $$\nFrom (3): $$ -\\frac{1}{R_3}H'_2(0) + \\frac{1}{R_3}H'_3(0) + C_3 H_3(0) = 0 \\implies -\\frac{1}{R_3}H'_2(0) + \\frac{1}{R_3}H'_3(0) = -C_3 $$\nWe now have a system of linear equations for $H'_i(0)$. We solve this system for $H'_3(0)$.\nFrom the third equation:\n$$ H'_3(0) - H'_2(0) = -R_3 C_3 \\implies H'_2(0) = H'_3(0) + R_3 C_3 $$\nSubstitute $H'_2(0)$ into the second equation:\n$$ -\\frac{1}{R_2}H'_1(0) + \\left(\\frac{1}{R_2} + \\frac{1}{R_3}\\right)(H'_3(0) + R_3 C_3) - \\frac{1}{R_3}H'_3(0) = -C_2 $$\n$$ -\\frac{1}{R_2}H'_1(0) + \\frac{1}{R_2}H'_3(0) + \\frac{R_3C_3}{R_2} + \\frac{1}{R_3}H'_3(0) + C_3 - \\frac{1}{R_3}H'_3(0) = -C_2 $$\n$$ -\\frac{1}{R_2}H'_1(0) + \\frac{1}{R_2}H'_3(0) = -C_2 - C_3 - \\frac{R_3C_3}{R_2} $$\nMultiplying by $-R_2$:\n$$ H'_1(0) - H'_3(0) = R_2(C_2+C_3) + R_3C_3 \\implies H'_1(0) = H'_3(0) + R_2(C_2+C_3) + R_3C_3 $$\nFinally, substitute $H'_1(0)$ and $H'_2(0)$ into the first equation:\n$$ \\left(\\frac{1}{R_1} + \\frac{1}{R_2}\\right)(H'_3(0) + R_2(C_2+C_3) + R_3C_3) - \\frac{1}{R_2}(H'_3(0) + R_3C_3) = -C_1 $$\nCombine terms with $H'_3(0)$:\n$$ H'_3(0) \\left(\\frac{1}{R_1} + \\frac{1}{R_2} - \\frac{1}{R_2}\\right) = \\frac{1}{R_1}H'_3(0) $$\nCombine constant terms and move them to the right side:\n$$ \\frac{1}{R_1}H'_3(0) = -C_1 - \\left(\\frac{1}{R_1} + \\frac{1}{R_2}\\right)(R_2(C_2+C_3) + R_3C_3) + \\frac{1}{R_2}(R_3C_3) $$\n$$ \\frac{1}{R_1}H'_3(0) = -C_1 - \\left[ \\frac{R_2(C_2+C_3)}{R_1} + (C_2+C_3) + \\frac{R_3C_3}{R_1} + \\frac{R_3C_3}{R_2} \\right] + \\frac{R_3C_3}{R_2} $$\n$$ \\frac{1}{R_1}H'_3(0) = -C_1 - C_2 - C_3 - \\frac{R_2}{R_1}(C_2+C_3) - \\frac{R_3}{R_1}C_3 $$\nMultiply by $R_1$:\n$$ H'_3(0) = -R_1(C_1+C_2+C_3) - R_2(C_2+C_3) - R_3C_3 $$\n$$ H'_3(0) = -R_1C_1 - R_1C_2 - R_1C_3 - R_2C_2 - R_2C_3 - R_3C_3 $$\nGrouping terms by capacitance:\n$$ H'_3(0) = -R_1C_1 - (R_1+R_2)C_2 - (R_1+R_2+R_3)C_3 $$\nFinally, the Elmore delay to node $3$ is $\\tau_{D3} = -H'_3(0)$:\n$$ \\tau_{D3} = R_1C_1 + (R_1+R_2)C_2 + (R_1+R_2+R_3)C_3 $$\nNow, we evaluate this expression numerically with the given values:\n$R_1=50\\ \\Omega$, $R_2=40\\ \\Omega$, $R_3=30\\ \\Omega$\n$C_1=10\\ \\text{fF} = 10 \\times 10^{-15}\\ \\text{F}$\n$C_2=20\\ \\text{fF} = 20 \\times 10^{-15}\\ \\text{F}$\n$C_3=30\\ \\text{fF} = 30 \\times 10^{-15}\\ \\text{F}$\n\nCalculate the resistance sums:\n$R_1 = 50\\ \\Omega$\n$R_1+R_2 = 50 + 40 = 90\\ \\Omega$\n$R_1+R_2+R_3 = 50 + 40 + 30 = 120\\ \\Omega$\n\nSubstitute these into the delay formula:\n$$ \\tau_{D3} = (50\\ \\Omega)(10 \\times 10^{-15}\\ \\text{F}) + (90\\ \\Omega)(20 \\times 10^{-15}\\ \\text{F}) + (120\\ \\Omega)(30 \\times 10^{-15}\\ \\text{F}) $$\n$$ \\tau_{D3} = (500 + 1800 + 3600) \\times 10^{-15}\\ \\text{s} $$\n$$ \\tau_{D3} = 5900 \\times 10^{-15}\\ \\text{s} $$\n$$ \\tau_{D3} = 5.9 \\times 10^{-12}\\ \\text{s} $$\nSince $1\\ \\text{ps} = 10^{-12}\\ \\text{s}$, the delay is $5.9\\ \\text{ps}$.\nThe problem requires the answer to be rounded to four significant figures, so the result is $5.900\\ \\text{ps}$.",
            "answer": "$$ \\boxed{5.900} $$"
        },
        {
            "introduction": "This practice moves from modeling individual components to analyzing a complete timing path, which is the core function of STA. You will calculate the fundamental metrics of data arrival time and setup slack for a simple register-to-register path. This hands-on calculation reinforces the definitions of the key parameters that determine whether a circuit will meet its performance targets, such as clock-to-Q delay, path propagation delay, and clock skew.",
            "id": "4301583",
            "problem": "Consider a single-clock synchronous pipeline fragment analyzed by Static Timing Analysis (STA) within the framework of Electronic Design Automation (EDA). A launching register drives a three-gate combinational path into a capturing register. The clock period is $T_{\\text{clk}}=1\\ \\text{ns}$, the capturing register setup time is $t_{\\text{setup}}=50\\ \\text{ps}$, and the clock skew is defined as $s=t_{\\text{launch\\_clk}}-t_{\\text{capture\\_clk}}=-20\\ \\text{ps}$ (the launch clock edge arrives earlier than the capture clock edge). Assume zero clock latency at both registers except for the given skew, zero clock uncertainty, and that the launch clock edge occurs at time $0$.\n\nThe netlist and delays are as follows. A positive transition launches at the output $Q$ of the launching register and propagates through three combinational gates to the input $D$ of the capturing register. The connectivity and delays are:\n\n- Launch register clock-to-$Q$ delay: $t_{\\text{cq}}=35\\ \\text{ps}$.\n- Net from launch $Q$ to gate $G_{1}$ input $A$: $10\\ \\text{ps}$.\n- Gate $G_{1}$ is a $2$-input NAND with input $B$ tied to logic high. The relevant arc is $A$ rise to $Y$ fall with delay $50\\ \\text{ps}$.\n- Net from $G_{1}.Y$ to gate $G_{2}$ input $A$: $20\\ \\text{ps}$.\n- Gate $G_{2}$ is an inverter. The relevant arc is input fall to output rise with delay $30\\ \\text{ps}$.\n- Net from $G_{2}.Y$ to gate $G_{3}$ input $A$: $15\\ \\text{ps}$.\n- Gate $G_{3}$ is a $2$-input NOR with input $B$ tied to logic low. The relevant arc is input rise to output fall with delay $40\\ \\text{ps}$.\n- Net from $G_{3}.Y$ to the capturing register input $D$: $20\\ \\text{ps}$.\n\nStarting from the fundamental STA definitions of data arrival time, clock skew, required arrival time for setup, and slack, derive the data arrival time at the capturing register input $D$ and the setup slack at the capturing register. Express both the data arrival time and the slack in nanoseconds, and round your final numerical values to four significant figures.",
            "solution": "The problem requires the calculation of the data arrival time ($DAT$) at the capturing register's input $D$ and the setup slack for the timing path. This analysis is based on the fundamental principles of static timing analysis for a single-clock synchronous design. We will first convert all time units to a consistent base, picoseconds ($\\text{ps}$).\n\n$T_{\\text{clk}} = 1\\ \\text{ns} = 1000\\ \\text{ps}$.\nAll other delay values are already provided in picoseconds.\n\n**1. Data Arrival Time ($DAT$)**\n\nThe Data Arrival Time at a point in a circuit is the time, measured from the start of the clock cycle (time $0$), at which a signal transition arrives at that point. For the input $D$ of the capturing register, the $DAT$ is the sum of the time of the launch clock edge, the clock-to-$Q$ delay ($t_{\\text{cq}}$) of the launching register, and the total propagation delay of the combinational logic and nets ($t_{\\text{path}}$) between the launching register's output $Q$ and the capturing register's input $D$.\n\nThe problem states the launch clock edge occurs at time $t_{\\text{launch\\_abs}} = 0\\ \\text{s}$.\n\nFirst, we calculate the total path delay, $t_{\\text{path}}$, which is the sum of all specified gate and net delays:\n$$\nt_{\\text{path}} = t_{\\text{net}(Q \\to G_1)} + t_{\\text{gate}(G_1)} + t_{\\text{net}(G_1 \\to G_2)} + t_{\\text{gate}(G_2)} + t_{\\text{net}(G_2 \\to G_3)} + t_{\\text{gate}(G_3)} + t_{\\text{net}(G_3 \\to D)}\n$$\nSubstituting the given values:\n$$\nt_{\\text{path}} = 10\\ \\text{ps} + 50\\ \\text{ps} + 20\\ \\text{ps} + 30\\ \\text{ps} + 15\\ \\text{ps} + 40\\ \\text{ps} + 20\\ \\text{ps} = 185\\ \\text{ps}\n$$\nThe Data Arrival Time at the input $D$ of the capturing register, denoted as $DAT_D$, is:\n$$\nDAT_D = t_{\\text{launch\\_abs}} + t_{\\text{cq}} + t_{\\text{path}}\n$$\n$$\nDAT_D = 0\\ \\text{ps} + 35\\ \\text{ps} + 185\\ \\text{ps} = 220\\ \\text{ps}\n$$\n\n**2. Required Arrival Time ($RAT$) and Setup Slack**\n\nThe Required Arrival Time ($RAT$) for a setup check is the latest possible time the data signal can arrive at the register's input $D$ without violating the setup-time constraint. This time is determined by the arrival time of the capturing clock edge and the register's setup time ($t_{\\text{setup}}$).\n\nThe setup constraint dictates that the data launched in one clock cycle must arrive and be stable at the capture register's input at least $t_{\\text{setup}}$ before the clock edge that captures it, which is one clock period later.\n\nThe arrival time of the launch clock at the launching register's clock pin is given as $t_{\\text{launch\\_clk}} = 0$. The skew is $s = t_{\\text{launch\\_clk}} - t_{\\text{capture\\_clk}} = -20\\ \\text{ps}$. We can find the arrival time of the clock at the capturing register's clock pin:\n$$\n-20\\ \\text{ps} = 0 - t_{\\text{capture\\_clk}} \\implies t_{\\text{capture\\_clk}} = 20\\ \\text{ps}\n$$\nThe clock edge that captures the data launched at time $0$ occurs one clock period later. The absolute time of this capturing clock edge at the capture register is:\n$$\nt_{\\text{capture\\_edge}} = T_{\\text{clk}} + t_{\\text{capture\\_clk}} = 1000\\ \\text{ps} + 20\\ \\text{ps} = 1020\\ \\text{ps}\n$$\nThe data must be stable at input $D$ at least $t_{\\text{setup}}$ before this edge. Thus, the Required Arrival Time at $D$ is:\n$$\nRAT_D = t_{\\text{capture\\_edge}} - t_{\\text{setup}} = 1020\\ \\text{ps} - 50\\ \\text{ps} = 970\\ \\text{ps}\n$$\nSetup slack ($Slack_{\\text{setup}}$) is the margin by which the timing is met. It is defined as the difference between the Required Arrival Time and the Data Arrival Time:\n$$\nSlack_{\\text{setup}} = RAT_D - DAT_D\n$$\n$$\nSlack_{\\text{setup}} = 970\\ \\text{ps} - 220\\ \\text{ps} = 750\\ \\text{ps}\n$$\nA positive slack indicates that the setup timing constraint is met.\n\nAlternatively, the setup slack can be calculated directly from the standard STA setup equation:\n$$\nSlack_{\\text{setup}} = T_{\\text{clk}} - s - (t_{\\text{cq}} + t_{\\text{path}}) - t_{\\text{setup}}\n$$\nPlugging in the values:\n$$\nSlack_{\\text{setup}} = 1000\\ \\text{ps} - (-20\\ \\text{ps}) - (35\\ \\text{ps} + 185\\ \\text{ps}) - 50\\ \\text{ps}\n$$\n$$\nSlack_{\\text{setup}} = 1000\\ \\text{ps} + 20\\ \\text{ps} - 220\\ \\text{ps} - 50\\ \\text{ps}\n$$\n$$\nSlack_{\\text{setup}} = 1020\\ \\text{ps} - 270\\ \\text{ps} = 750\\ \\text{ps}\n$$\nBoth methods yield the same result, confirming the calculation.\n\n**3. Final Answer Formatting**\n\nThe problem asks for the Data Arrival Time and the setup slack to be expressed in nanoseconds ($\\text{ns}$) and rounded to four significant figures.\n\nData Arrival Time:\n$$\nDAT_D = 220\\ \\text{ps} = 0.220\\ \\text{ns}\n$$\nTo four significant figures, this is $0.2200\\ \\text{ns}$.\n\nSetup Slack:\n$$\nSlack_{\\text{setup}} = 750\\ \\text{ps} = 0.750\\ \\text{ns}\n$$\nTo four significant figures, this is $0.7500\\ \\text{ns}$.\n\nThe final answer is a pair of values: the data arrival time and the setup slack.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 0.2200 & 0.7500 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "Real-world silicon performance is affected by manufacturing variations, a factor that simple STA models must be adapted to handle. This advanced exercise introduces the concept of On-Chip Variation (OCV) and a critical technique used to manage it: Common Path Pessimism Removal (CPPR). By working through this problem, you will see how naively applying worst-case/best-case derates can lead to physically impossible scenarios and how CPPR provides a more accurate analysis by removing this artificial pessimism.",
            "id": "4301528",
            "problem": "A synchronous pipeline stage in a complementary metal–oxide–semiconductor (CMOS) integrated circuit is analyzed using Static Timing Analysis (STA) within the Electronic Design Automation (EDA) flow. Both the launch and capture flip-flops are driven by a single clock domain that traverses a clock distribution network. The clock network contains a common portion of buffers and interconnect shared by both the launch and capture paths with a nominal summed delay of $D_{\\mathrm{sh}} = 200\\ \\mathrm{ps}$. The clock period is $T_{\\mathrm{clk}} = 1\\ \\mathrm{ns}$. The data path from the launch flip-flop output to the capture flip-flop input has a worst-case delay of $D_{\\mathrm{data}} = 900\\ \\mathrm{ps}$, where this value reflects late (maximum) derating already applied to the data path under On-Chip Variation (OCV).\n\nAssume On-Chip Variation (OCV) is modeled by multiplicative derates of the form $1 \\pm \\alpha$, with $\\alpha = 0.1$. For worst-case setup timing, the launch clock path is late derated by a factor $1 + \\alpha$ and the capture clock path is early derated by a factor $1 - \\alpha$. There are no non-common segments in the clock paths (i.e., any non-shared launch or capture clock latencies are negligible), and the setup time requirement and clock uncertainty are negligible. Common Path Pessimism Removal (CPPR) is applied to eliminate artificial skew introduced by opposite OCV derates on the shared clock portion.\n\nStarting from the formal definition of setup slack as the difference between the required time and the arrival time, and from the derating model described above, derive the Common Path Pessimism Removal (CPPR)-corrected setup slack. Express the final slack as a single real-valued number in picoseconds ($\\mathrm{ps}$). No rounding is required; provide the exact value.",
            "solution": "The setup slack, $S_{\\mathrm{setup}}$, is defined as the difference between the required time for data to be stable at the capture flip-flop's input and the actual arrival time of the data.\n$$S_{\\mathrm{setup}} = \\text{Required Time} - \\text{Arrival Time}$$\n\n**1. Arrival Time (AT)**\nThe arrival time, $T_{\\mathrm{AT}}$, is the time at which the data signal, launched from the source flip-flop, arrives at the data input of the destination (capture) flip-flop. This is the sum of the clock path delay to the launch flip-flop and the data path delay.\n\nFor a worst-case setup analysis, we must consider the latest possible data arrival. This occurs when the launch clock edge is late and the data path is slow. The clock path to the launch flip-flop consists solely of the shared path with nominal delay $D_{\\mathrm{sh}}$. A late path is derated by a factor of $1 + \\alpha$. The data path delay, $D_{\\mathrm{data}}$, is already given as the worst-case (late-derated) value.\n\nThe clock arrival time at the launch flip-flop, $T_{\\mathrm{clk, launch}}$, is:\n$$T_{\\mathrm{clk, launch}} = D_{\\mathrm{sh}} (1 + \\alpha)$$\n\nThe total arrival time at the capture flip-flop's data input is:\n$$T_{\\mathrm{AT}} = T_{\\mathrm{clk, launch}} + D_{\\mathrm{data}} = D_{\\mathrm{sh}} (1 + \\alpha) + D_{\\mathrm{data}}$$\n\n**2. Required Time (RT)**\nThe required time, $T_{\\mathrm{RT}}$, is the latest time the data signal can arrive at the capture flip-flop's input without violating the setup constraint. This is determined by the arrival of the *next* clock edge at the capture flip-flop.\n\nFor a worst-case setup analysis, the timing window is tightened by assuming the capture clock edge arrives as early as possible. An early path is derated by a factor of $1 - \\alpha$. The capture clock edge occurs one clock period, $T_{\\mathrm{clk}}$, after the launch edge. The clock path to the capture flip-flop is also the shared path $D_{\\mathrm{sh}}$. The setup time requirement ($T_{\\mathrm{setup}}$) and clock uncertainty ($T_{\\mathrm{unc}}$) are given as negligible, so we take them to be $0$.\n\nThe clock arrival time at the capture flip-flop, $T_{\\mathrm{clk, capture}}$, is:\n$$T_{\\mathrm{clk, capture}} = T_{\\mathrm{clk}} + D_{\\mathrm{sh}} (1 - \\alpha)$$\n\nThe total required time is therefore:\n$$T_{\\mathrm{RT}} = T_{\\mathrm{clk, capture}} - T_{\\mathrm{setup}} - T_{\\mathrm{unc}} = T_{\\mathrm{clk}} + D_{\\mathrm{sh}} (1 - \\alpha) - 0 - 0 = T_{\\mathrm{clk}} + D_{\\mathrm{sh}} (1 - \\alpha)$$\n\n**3. Setup Slack before CPPR**\nWithout CPPR, the setup slack is calculated directly from $T_{\\mathrm{RT}}$ and $T_{\\mathrm{AT}}$:\n$$S_{\\mathrm{setup, uncorrected}} = T_{\\mathrm{RT}} - T_{\\mathrm{AT}}$$\n$$S_{\\mathrm{setup, uncorrected}} = \\left( T_{\\mathrm{clk}} + D_{\\mathrm{sh}}(1 - \\alpha) \\right) - \\left( D_{\\mathrm{sh}}(1 + \\alpha) + D_{\\mathrm{data}} \\right)$$\n$$S_{\\mathrm{setup, uncorrected}} = T_{\\mathrm{clk}} + D_{\\mathrm{sh}} - \\alpha D_{\\mathrm{sh}} - D_{\\mathrm{sh}} - \\alpha D_{\\mathrm{sh}} - D_{\\mathrm{data}}$$\n$$S_{\\mathrm{setup, uncorrected}} = T_{\\mathrm{clk}} - D_{\\mathrm{data}} - 2 \\alpha D_{\\mathrm{sh}}$$\nThe term $-2 \\alpha D_{\\mathrm{sh}}$ represents artificial pessimism. It arises because the analysis assumes the single common clock path $D_{\\mathrm{sh}}$ is simultaneously slow (for the launch path) and fast (for the capture path), which is physically impossible.\n\n**4. Common Path Pessimism Removal (CPPR)**\nCPPR corrects this by calculating the amount of artificial pessimism on the common path and adding it back to the slack as a credit. The pessimism credit, $C_{\\mathrm{CPPR}}$, is the difference between the late and early derated delays of the common path.\n$$C_{\\mathrm{CPPR}} = (\\text{Late derated common path delay}) - (\\text{Early derated common path delay})$$\n$$C_{\\mathrm{CPPR}} = \\left( D_{\\mathrm{sh}}(1 + \\alpha) \\right) - \\left( D_{\\mathrm{sh}}(1 - \\alpha) \\right)$$\n$$C_{\\mathrm{CPPR}} = D_{\\mathrm{sh}} + \\alpha D_{\\mathrm{sh}} - D_{\\mathrm{sh}} + \\alpha D_{\\mathrm{sh}} = 2 \\alpha D_{\\mathrm{sh}}$$\n\n**5. Final CPPR-Corrected Slack**\nThe final, corrected setup slack, $S_{\\mathrm{setup, final}}$, is the uncorrected slack plus the CPPR credit.\n$$S_{\\mathrm{setup, final}} = S_{\\mathrm{setup, uncorrected}} + C_{\\mathrm{CPPR}}$$\n$$S_{\\mathrm{setup, final}} = \\left( T_{\\mathrm{clk}} - D_{\\mathrm{data}} - 2 \\alpha D_{\\mathrm{sh}} \\right) + \\left( 2 \\alpha D_{\\mathrm{sh}} \\right)$$\n$$S_{\\mathrm{setup, final}} = T_{\\mathrm{clk}} - D_{\\mathrm{data}}$$\nThis result is intuitive: for a path with a fully common clock network, the clock skew is zero, and the setup check simplifies to ensuring the data path delay is less than the clock period.\n\n**6. Numerical Calculation**\nWe are given the following values:\n- $T_{\\mathrm{clk}} = 1\\ \\mathrm{ns} = 1000\\ \\mathrm{ps}$\n- $D_{\\mathrm{data}} = 900\\ \\mathrm{ps}$\n\nSubstituting these values into the final expression for setup slack:\n$$S_{\\mathrm{setup, final}} = 1000\\ \\mathrm{ps} - 900\\ \\mathrm{ps} = 100\\ \\mathrm{ps}$$\nThe final corrected setup slack is $100\\ \\mathrm{ps}$. The values of $D_{\\mathrm{sh}}$ and $\\alpha$ are not needed for the final calculation after the CPPR logic is applied, as they only contribute to the pessimistic term that is subsequently removed.",
            "answer": "$$\\boxed{100}$$"
        }
    ]
}