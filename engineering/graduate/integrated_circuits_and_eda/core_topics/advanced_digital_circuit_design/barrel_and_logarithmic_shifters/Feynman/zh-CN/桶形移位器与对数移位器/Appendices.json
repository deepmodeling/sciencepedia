{
    "hands_on_practices": [
        {
            "introduction": "理解移位器的延迟是性能分析的第一步。本练习将引导你使用行业标准的 $FO4$（四扇出反相器延迟）度量单位，来计算对数移位器的关键路径延迟，从而将移位器的分级结构与其最终速度直接联系起来。通过这个练习，你将掌握如何从结构上估算电路性能的基本方法 。",
            "id": "4257361",
            "problem": "考虑电子设计自动化 (EDA) 流程中的一个互补金属氧化物半导体 (CMOS) 数据路径块，该数据路径块使用由相同的二对一多路复用器 (MUX) 级构成的对数移位器架构实现一个 $n$ 位移位操作。四扇出 (FO4) 度量通过驱动四个相同反相器的参考反相器的延迟来对逻辑门延迟进行归一化；如果参考反相器的延迟表示为 $\\tau_{\\mathrm{FO4}}$，则任何传播延迟为 $t_{\\mathrm{pd}}$ 的逻辑门的 FO4 归一化延迟定义为 $d^{\\mathrm{FO4}} \\triangleq t_{\\mathrm{pd}} / \\tau_{\\mathrm{FO4}}$。假设每个 $2{:}1$ MUX 级的大小和负载都经过调整，当由一个与 FO4 参考具有等效策动（effort）的代表性信号驱动时，其 FO4 归一化延迟等于一个已知常数 $h$。该移位器支持任何二进制编码的移位量 $s \\in \\{0, 1, \\ldots, n-1\\}$，并通过级联级实现，其中如果移位量的第 $k$ 位被置位，第 $k$ 级会有条件地应用 $2^{k}$ 个位置的移位。\n\n从路径延迟是各级延迟之和（以 $\\tau_{\\mathrm{FO4}}$ 归一化）的逻辑策动（logical-effort）观点出发，并仅使用上面提供的架构描述，推导该对数移位器的 FO4 归一化关键路径延迟作为 $n$ 和 $h$ 的函数表达式。然后，计算当 $n = 96$ 和 $h = 1.17$ 时该延迟的值。\n\n用四扇出 (FO4) 单位表示你的最终答案，并将答案四舍五入到 $4$ 位有效数字。",
            "solution": "问题要求推导一个 $n$ 位对数移位器的四扇出 (FO4) 归一化关键路径延迟，并针对特定参数进行求值。该移位器由级联的 $2{:}1$ 多路复用器 (MUX) 级构成。\n\n首先，我们分析对数移位器的架构。一个 $n$ 位对数移位器旨在将一个 $n$ 位数据字移动任意量 $s$，其中 $s \\in \\{0, 1, \\ldots, n-1\\}$。移位量 $s$ 以二进制控制字的形式提供。该移位器架构由一系列级联的级组成，其中第 $k$ 级（对于 $k = 0, 1, 2, \\ldots$）执行 $2^k$ 个位置的条件移位。$s$ 的二进制表示的第 $k$ 位，记为 $s_k$，控制第 $k$ 级。如果 $s_k=1$，该级将其输入数据移位 $2^k$；如果 $s_k=0$，数据则不变地通过。\n\n总级数（我们称之为 $m$）由编码移位量 $s$ 所需的位数决定。由于 $s$ 可以取从 $0$ 到 $n-1$ 的任何整数值，因此有 $n$ 种可能的移位量。唯一编码 $n$ 个不同值所需的位数是 $m = \\lceil \\log_2(n) \\rceil$。这 $m$ 位分别对应于实现 $2^0, 2^1, \\ldots, 2^{m-1}$ 移位的 $m$ 个级的控制信号 $s_0, s_1, \\ldots, s_{m-1}$。\n\n该移位器中数据传播的关键路径是从任何数据输入位到任何数据输出位的最长延迟。在这种级联架构中，数据信号必须串行地通过 $m$ 个级中的每一个 MUX。假设控制信号 $s_k$ 在每个级都可用，并且它们的到达时间不决定数据路径延迟。因此，关键路径由 $m$ 个 MUX 序列组成。\n\n问题规定延迟以 FO4 归一化单位来衡量。单个 $2{:}1$ MUX 级的 FO4 归一化延迟给定为常数 $h$。这个值表示 MUX 级的传播延迟 $t_{\\mathrm{pd}}$，通过参考反相器的延迟 $\\tau_{\\mathrm{FO4}}$ 进行归一化。关键路径的总 FO4 归一化延迟，记为 $D^{\\mathrm{FO4}}$，是该路径上所有级的 FO4 归一化延迟之和。\n\n由于关键路径遍历所有 $m$ 个级，且每个级贡献一个归一化延迟 $h$，所以总延迟是级数与每级延迟的乘积：\n$$D^{\\mathrm{FO4}} = m \\times h$$\n代入级数表达式 $m = \\lceil \\log_2(n) \\rceil$，我们得到 FO4 归一化关键路径延迟作为 $n$ 和 $h$ 的函数的一般表达式：\n$$D^{\\mathrm{FO4}}(n, h) = h \\lceil \\log_2(n) \\rceil$$\n\n接下来，我们必须对给定值 $n = 96$ 和 $h = 1.17$ 计算此表达式的值。\n首先，我们计算级数 $m$：\n$$m = \\lceil \\log_2(96) \\rceil$$\n为了计算 $\\log_2(96)$，我们可以使用对数的性质：\n$$\\log_2(96) = \\log_2(32 \\times 3) = \\log_2(2^5 \\times 3) = \\log_2(2^5) + \\log_2(3) = 5 + \\log_2(3)$$\n我们知道 $2^1 = 2$ 和 $2^2 = 4$，所以 $1  \\log_2(3)  2$。具体来说，$\\log_2(3) \\approx 1.585$。\n因此，$\\log_2(96) \\approx 5 + 1.585 = 6.585$。\n向上取整函数 $\\lceil x \\rceil$ 给出大于或等于 $x$ 的最小整数。\n$$m = \\lceil 6.585 \\rceil = 7$$\n所以，一个 $96$ 位的对数移位器需要 $7$ 个级。\n\n现在，我们可以使用推导出的公式计算总的 FO4 归一化延迟：\n$$D^{\\mathrm{FO4}} = m \\times h = 7 \\times 1.17$$\n$$D^{\\mathrm{FO4}} = 8.19$$\n问题要求答案四舍五入到 $4$ 位有效数字。计算值 $8.19$ 有三位有效数字。为了用四位有效数字表示，我们在后面加一个零。\n$$D^{\\mathrm{FO4}} = 8.190$$\n这就是指定单位下移位器的最终 FO4 归一化延迟。",
            "answer": "$$\\boxed{8.190}$$"
        },
        {
            "introduction": "在分析了基本延迟之后，工程师们通常会寻求优化性能的方法。本练习介绍了一种关键的高速数字设计技术——流水线，并将其应用于我们之前分析的对数移位器中 。你需要计算插入流水线寄存器后电路的最高工作频率以及因此增加的延迟，从而亲身体验性能与延迟之间的权衡。",
            "id": "4257283",
            "problem": "考虑一个$64$位对数移位器，它由一系列级联的$2:1$多路复用器级实现，可实现$2^i$（其中$i \\in \\{0,1,2,3,4,5\\}$）的移位，因此网络深度为$\\lceil \\log_2(64) \\rceil = 6$级。该移位器在电子设计自动化（EDA）流程中被综合到一个同步流水线内，并且每个寄存器到寄存器的路径都必须满足单个全局时钟的要求。路径时序受同步数字设计的物理时序约束控制：在存在非零时钟偏斜的情况下，这些约束包括寄存器的时钟到Q端延迟、通过逻辑和导线的组合传播延迟以及接收寄存器的建立时间要求。\n\n给定该$64$位对数移位器每级的最坏情况传播延迟，这些延迟是在考虑了实际导线寄生参数的工艺角条件下测得的：\n- 第$0$级（移$1$位）：$d_0 = 28\\,\\text{ps}$\n- 第$1$级（移$2$位）：$d_1 = 35\\,\\text{ps}$\n- 第$2$级（移$4$位）：$d_2 = 42\\,\\text{ps}$\n- 第$3$级（移$8$位）：$d_3 = 55\\,\\text{ps}$\n- 第$4$级（移$16$位）：$d_4 = 68\\,\\text{ps}$\n- 第$5$级（移$32$位）：$d_5 = 85\\,\\text{ps}$\n\n假设流水线寄存器是边沿触发的$D$触发器，其寄存器时钟到Q端延迟$t_{CQ} = 20\\,\\text{ps}$，建立时间$t_{\\text{setup}} = 15\\,\\text{ps}$，以及沿关键路径的有效时钟偏斜$t_{\\text{skew}} = 5\\,\\text{ps}$。最初，该移位器被实现为位于一个输入流水线寄存器和一个输出流水线寄存器之间的单个组合逻辑块。\n\n一项设计变更在第$k$级和第$k+1$级之间（其中$k = 3$）插入了一个额外的流水线寄存器。在这些条件下，确定新的最大工作频率以及此次插入所导致的以时钟周期为单位的额外延迟。\n\n您的答案必须根据同步时序和流水线分割的基本原理推导得出，并且必须明确考虑寄存器时序参数以及插入寄存器两侧各级组合的组合逻辑延迟。将频率以$\\text{GHz}$为单位表示，延迟以时钟周期为单位表示。将您的频率值四舍五入到四位有效数字。",
            "solution": "同步数字电路的最大工作频率$f_{\\text{max}}$由满足最慢路径（关键路径）建立时间约束的最小周期$T_{\\text{min}}$决定。建立时间约束的控制方程为：\n$$T_{\\text{clk}} \\ge t_{CQ} + t_{\\text{comb}} + t_{\\text{setup}} + t_{\\text{skew}}$$\n其中$T_{\\text{clk}}$是时钟周期，$t_{CQ}$是发送寄存器的时钟到Q端延迟，$t_{\\text{comb}}$是寄存器之间组合逻辑的传播延迟，$t_{\\text{setup}}$是捕获寄存器的建立时间，而$t_{\\text{skew}}$是对建立时间裕量产生负面影响的时钟偏斜。此处，一个正的偏斜值表示时钟较晚到达捕获寄存器，从而减少了数据传播的有效时间。因此，最小周期为：\n$$T_{\\text{min}} = t_{CQ} + t_{\\text{comb,crit}} + t_{\\text{setup}} + t_{\\text{skew}}$$\n其中$t_{\\text{comb,crit}}$是关键组合路径的延迟。\n\n初始设计包含一个$64$位对数移位器，其$6$个级（索引为$0$到$5$）作为一个单独的组合逻辑块放置在一个输入寄存器和一个输出寄存器之间。设计变更涉及在第$k=3$级之后插入一个流水线寄存器。这将单个组合逻辑块分割成两个较小的块，从而创建了一个两级流水线。\n\n第一个流水线级包括输入寄存器、移位器第$0$、1、2和$3$级的组合逻辑，以及新插入的流水线寄存器。\n这个第一块的组合逻辑延迟$t_{\\text{comb,1}}$是其所含各级延迟的总和：\n$$t_{\\text{comb,1}} = d_0 + d_1 + d_2 + d_3$$\n代入给定值：\n$$t_{\\text{comb,1}} = 28\\,\\text{ps} + 35\\,\\text{ps} + 42\\,\\text{ps} + 55\\,\\text{ps} = 160\\,\\text{ps}$$\n\n第二个流水线级包括新的流水线寄存器、移位器第$4$和$5$级的组合逻辑，以及原始的输出寄存器。\n这个第二块的组合逻辑延迟$t_{\\text{comb,2}}$是第$4$级和第$5$级延迟的总和：\n$$t_{\\text{comb,2}} = d_4 + d_5$$\n代入给定值：\n$$t_{\\text{comb,2}} = 68\\,\\text{ps} + 85\\,\\text{ps} = 153\\,\\text{ps}$$\n\n新流水线设计的关键路径是两个组合路径中较长的一个。因此，关键组合延迟为：\n$$t_{\\text{comb,crit}} = \\max(t_{\\text{comb,1}}, t_{\\text{comb,2}})$$\n$$t_{\\text{comb,crit}} = \\max(160\\,\\text{ps}, 153\\,\\text{ps}) = 160\\,\\text{ps}$$\n\n现在，我们可以使用给定的寄存器时序参数来计算最小周期$T_{\\text{min}}$：$t_{CQ} = 20\\,\\text{ps}$，$t_{\\text{setup}} = 15\\,\\text{ps}$，以及$t_{\\text{skew}} = 5\\,\\text{ps}$。\n$$T_{\\text{min}} = t_{CQ} + t_{\\text{comb,crit}} + t_{\\text{setup}} + t_{\\text{skew}}$$\n$$T_{\\text{min}} = 20\\,\\text{ps} + 160\\,\\text{ps} + 15\\,\\text{ps} + 5\\,\\text{ps} = 200\\,\\text{ps}$$\n\n最大工作频率是最小周期的倒数：\n$$f_{\\text{max}} = \\frac{1}{T_{\\text{min}}} = \\frac{1}{200\\,\\text{ps}} = \\frac{1}{200 \\times 10^{-12}\\,\\text{s}}$$\n$$f_{\\text{max}} = 5 \\times 10^9\\,\\text{Hz} = 5\\,\\text{GHz}$$\n问题要求将频率四舍五入到四位有效数字，即$5.000\\,\\text{GHz}$。\n\n接下来，我们确定额外延迟。流水线系统中的延迟是指单个数据输入传播通过所有级并在输出端出现所需的时间，以时钟周期为单位衡量。\n初始设计为：输入寄存器 $\\rightarrow$ 组合逻辑（0-5级）$\\rightarrow$ 输出寄存器。这是一个单级流水线，其延迟为$1$个时钟周期。\n新设计为：输入寄存器 $\\rightarrow$ 逻辑块1（0-3级）$\\rightarrow$ 流水线寄存器 $\\rightarrow$ 逻辑块2（4-5级）$\\rightarrow$ 输出寄存器。这是一个两级流水线，其延迟为$2$个时钟周期。\n\n因插入流水线寄存器而产生的额外延迟是新延迟与初始延迟之差：\n$$\\text{Additional Latency} = \\text{Latency}_{\\text{new}} - \\text{Latency}_{\\text{initial}}$$\n$$\\text{Additional Latency} = 2\\,\\text{cycles} - 1\\,\\text{cycle} = 1\\,\\text{cycle}$$\n\n因此，新的最大工作频率为$5.000\\,\\text{GHz}$，额外延迟为$1$个周期。",
            "answer": "$$\\boxed{\\begin{pmatrix} 5.000  1 \\end{pmatrix}}$$"
        },
        {
            "introduction": "真实世界的工程设计充满了权衡与选择。最后的这个练习将你置于一个经典的设计决策场景中：在对数移位器和矩阵桶形移位器之间做出选择 。你需要对两种架构的面积、延迟和功耗进行全面评估，以确定在满足特定性能目标下，哪种设计能实现最低的能量消耗。",
            "id": "4257282",
            "problem": "考虑两种用于$n$位字（其中$n=64$）的移位器架构实现：一种是多路复用器矩阵桶形移位器，另一种是对数移位器。您将使用标准的互补金属氧化物半导体(CMOS)和逻辑努力模型从第一性原理推导面积、延迟和能量，以决定哪种设计在满足$1\\,\\text{GHz}$时钟目标的同时，每次$64$位操作的能耗最小。最终能量以皮焦耳为单位表示，并将您的最终答案四舍五入到三位有效数字。假设以下物理上合理且自洽的技术参数和架构分解：\n\n- 电源电压$V_{\\text{dd}}=0.9\\,\\text{V}$。电容为$C$的节点发生一次$0 \\rightarrow 1$的转换消耗的能量为$E=\\frac{1}{2}C V_{\\text{dd}}^{2}$；对于定义为每个周期发生$0 \\rightarrow 1$转换概率的平均活动因子$\\alpha$，每个周期的平均能量为$E=\\alpha C V_{\\text{dd}}^{2}$。\n- 逻辑努力校准：一个驱动扇出为$4$（缩写为FO4）的反相器，其测量延迟为$50\\,\\text{ps}$。使用逻辑努力延迟模型$d=(g h + p)\\,\\tau$以及反相器参数$g_{\\text{inv}}=1$，$p_{\\text{inv}}=1$来确定工艺时间常数$\\tau$。\n- 对数移位器(LS)：每位由$L=\\log_{2}(n)=6$个相同的$2{:}1$静态CMOS多路复用器级组成。对于每个$2{:}1$多路复用器，使用逻辑努力参数$g_{\\text{MUX}}=2$，$p_{\\text{MUX}}=2$，以及每级每位的有效开关电容$C_{\\text{MUX}}=6\\,\\text{fF}$。假设对于随机数据和均匀随机的移位量，通过每个级的平均数据路径活动因子$\\alpha_{\\text{data}}=\\frac{1}{2}$。每位都有一个扇出为$1$的输出缓冲器，其输入电容为$C_{\\text{FO1}}=2\\,\\text{fF}$，面积为$A_{\\text{FO1}}=1\\,\\mu\\text{m}^{2}$。一个$2{:}1$多路复用器的物理面积为$A_{\\text{MUX}}=4\\,\\mu\\text{m}^{2}$。\n- 多路复用器矩阵桶形移位器(MM)：实现为一个$n \\times n$的传输门矩阵，其中每个输出通过其列中的一个启用的传输门从$n$个输入中选择一个，其后跟一个FO4输出缓冲器。每个传输门单元的面积为$A_{\\text{TG}}=0.5\\,\\mu\\text{m}^{2}$，栅极电容为$C_{\\text{TG,g}}=2\\,\\text{fF}$。启用的传输路径在FO4缓冲器之前贡献$t_{\\text{TG}}=20\\,\\text{ps}$的RC延迟。FO4输出缓冲器的延迟为$d_{\\text{FO4}}=50\\,\\text{ps}$，输入电容为$C_{\\text{FO4}}=8\\,\\text{fF}$，面积为$A_{\\text{FO4}}=4\\,\\mu\\text{m}^{2}$。对于连续的随机移位量，假设每个周期在矩阵选择中有$n$次净的$0 \\rightarrow 1$转换（随着选择的改变，每个输出有一个新的启用信号），因此每个周期的平均选择控制能量为$n\\,C_{\\text{TG,g}}\\,V_{\\text{dd}}^{2}$。\n- 忽略给定电容和延迟中已包含的互连线。在整个计算中使用$n=64$。\n\n任务：\n1. 从FO4校准推导出工艺时间常数$\\tau$，然后推导出$2{:}1$多路复用器的每级延迟。由此，计算对数移位器的总数据路径延迟$D_{\\text{LS}}$和多路复用器矩阵移位器的总数据路径延迟$D_{\\text{MM}}$。说明每种设计是否满足$1\\,\\text{GHz}$（$1\\,\\text{ns}$周期）的目标。\n2. 通过计算实例化的块数并乘以给定的面积，推导出总物理面积$A_{\\text{LS}}$和$A_{\\text{MM}}$。\n3. 使用动态能量模型，推导出每种架构每次$64$位操作的平均能量。对于对数移位器，包括所有$L$个数据路径级和FO1输出的能量。对于多路复用器矩阵移位器，包括FO4输入和选择控制门转换的能量。决定哪种架构满足$1\\,\\text{GHz}$目标且能量较低。\n4. 报告两种架构中每次$64$位操作的最小能量，以皮焦耳表示，并四舍五入到三位有效数字。",
            "solution": "此问题要求对对数移位器（LS）和多路复用器矩阵（MM）移位器进行延迟、面积和能量的综合分析，以确定在满足1 GHz时钟目标下能效更高的设计。计算过程遵循问题中列出的任务。\n\n**1. 延迟计算和时序验证**\n首先，根据FO4反相器校准数据确定工艺时间常数$\\tau$。反相器的延迟由$d=(g_{\\text{inv}} h + p_{\\text{inv}})\\tau$给出。对于一个扇出为4 (FO4) 的反相器，$h=4$。\n$$d_{\\text{FO4}} = (1 \\cdot 4 + 1)\\tau = 5\\tau$$\n已知$d_{\\text{FO4}}=50\\,\\text{ps}$：\n$$50\\,\\text{ps} = 5\\tau \\implies \\tau=10\\,\\text{ps}$$\n\n接下来，计算对数移位器的总延迟$D_{\\text{LS}}$。它由$L=\\log_{2}(64)=6$级$2{:}1$多路复用器和一个FO1输出缓冲器组成。对于多路复用器级，它们是相同的并相互驱动，因此电气努力（扇出）为$h=1$。单个多路复用器级的延迟是：\n$$d_{\\text{MUX-stage}} = (g_{\\text{MUX}} h + p_{\\text{MUX}})\\tau = (2 \\cdot 1 + 2) \\cdot 10\\,\\text{ps} = 40\\,\\text{ps}$$\n这$6$级的总延迟是$6 \\times d_{\\text{MUX-stage}} = 240\\,\\text{ps}$。\n路径以一个FO1输出缓冲器结束。此缓冲器的延迟是：\n$$d_{\\text{FO1}} = (g_{\\text{inv}} h + p_{\\text{inv}})\\tau = (1 \\cdot 1 + 1) \\cdot 10\\,\\text{ps} = 20\\,\\text{ps}$$\n对数移位器的总数据路径延迟是这些延迟的总和：\n$$D_{\\text{LS}} = 6 \\cdot d_{\\text{MUX-stage}} + d_{\\text{FO1}} = 240\\,\\text{ps} + 20\\,\\text{ps} = 260\\,\\text{ps}$$\n\n现在，计算多路复用器矩阵移位器的总延迟$D_{\\text{MM}}$。该路径包括传输门延迟和FO4输出缓冲器延迟。这两者都是直接给出的：\n$$D_{\\text{MM}} = t_{\\text{TG}} + d_{\\text{FO4}} = 20\\,\\text{ps} + 50\\,\\text{ps} = 70\\,\\text{ps}$$\n\n时钟目标是$1\\,\\text{GHz}$，因此时钟周期为$T_{\\text{clk}}=1\\,\\text{ns}=1000\\,\\text{ps}$。\n对于对数移位器，$D_{\\text{LS}} = 260\\,\\text{ps}  1000\\,\\text{ps}$。它满足时序目标。\n对于多路复用器矩阵移位器，$D_{\\text{MM}} = 70\\,\\text{ps}  1000\\,\\text{ps}$。它也满足时序目标。\n\n**2. 物理面积计算**\n对数移位器的总面积$A_{\\text{LS}}$是所有多路复用器和所有输出缓冲器面积的总和。有$n=64$位，每位路径有$L=6$个多路复用器和一个FO1缓冲器。\n$$A_{\\text{LS}} = n \\cdot L \\cdot A_{\\text{MUX}} + n \\cdot A_{\\text{FO1}}$$\n$$A_{\\text{LS}} = 64 \\cdot 6 \\cdot (4\\,\\mu\\text{m}^{2}) + 64 \\cdot (1\\,\\mu\\text{m}^{2}) = 1536\\,\\mu\\text{m}^{2} + 64\\,\\mu\\text{m}^{2} = 1600\\,\\mu\\text{m}^{2}$$\n\n多路复用器矩阵移位器的总面积$A_{\\text{MM}}$是$n \\times n$ TG矩阵和$n$个输出缓冲器面积的总和。\n$$A_{\\text{MM}} = n^{2} \\cdot A_{\\text{TG}} + n \\cdot A_{\\text{FO4}}$$\n$$A_{\\text{MM}} = 64^{2} \\cdot (0.5\\,\\mu\\text{m}^{2}) + 64 \\cdot (4\\,\\mu\\text{m}^{2}) = 4096 \\cdot 0.5\\,\\mu\\text{m}^{2} + 256\\,\\mu\\text{m}^{2}$$\n$$A_{\\text{MM}} = 2048\\,\\mu\\text{m}^{2} + 256\\,\\mu\\text{m}^{2} = 2304\\,\\mu\\text{m}^{2}$$\n\n**3. 能量计算和架构决策**\n我们使用模型$E=\\alpha C V_{\\text{dd}}^{2}$计算每种架构每次操作的平均能量，其中$V_{\\text{dd}}=0.9\\,\\text{V}$（因此$V_{\\text{dd}}^{2} = 0.81\\,\\text{V}^{2}$）。\n\n对于对数移位器，总能量$E_{\\text{LS}}$是多路复用器级和输出缓冲器能量的总和。\n来自$n \\cdot L$个多路复用器级的能量是：\n$$E_{\\text{stages,LS}} = n \\cdot L \\cdot \\alpha_{\\text{data}} \\cdot C_{\\text{MUX}} \\cdot V_{\\text{dd}}^{2}$$\n$$E_{\\text{stages,LS}} = 64 \\cdot 6 \\cdot \\frac{1}{2} \\cdot (6 \\times 10^{-15}\\,\\text{F}) \\cdot (0.81\\,\\text{V}^{2}) = 1152 \\times 10^{-15} \\cdot 0.81\\,\\text{J} = 933.12 \\times 10^{-15}\\,\\text{J} = 933.12\\,\\text{fJ}$$\n来自$n$个输出缓冲器的能量取决于它们驱动的电容。一个FO1缓冲器驱动一个负载，其电容等于其输入电容，即$C_{\\text{L}} = C_{\\text{FO1}} = 2\\,\\text{fF}$。\n$$E_{\\text{out,LS}} = n \\cdot \\alpha_{\\text{data}} \\cdot C_{\\text{L}} \\cdot V_{\\text{dd}}^{2}$$\n$$E_{\\text{out,LS}} = 64 \\cdot \\frac{1}{2} \\cdot (2 \\times 10^{-15}\\,\\text{F}) \\cdot (0.81\\,\\text{V}^{2}) = 64 \\times 10^{-15} \\cdot 0.81\\,\\text{J} = 51.84 \\times 10^{-15}\\,\\text{J} = 51.84\\,\\text{fJ}$$\nLS的总能量是：\n$$E_{\\text{LS}} = E_{\\text{stages,LS}} + E_{\\text{out,LS}} = 933.12\\,\\text{fJ} + 51.84\\,\\text{fJ} = 984.96\\,\\text{fJ}$$\n\n对于多路复用器矩阵移位器，总能量$E_{\\text{MM}}$是在FO4缓冲器输入端消耗的能量和选择控制能量的总和。\n缓冲器输入端的能量是由于TG矩阵后的数据线切换引起的。有$n$条这样的线，每条线的电容为$C_{\\text{FO4}}$。\n$$E_{\\text{in,MM}} = n \\cdot \\alpha_{\\text{data}} \\cdot C_{\\text{FO4}} \\cdot V_{\\text{dd}}^{2}$$\n$$E_{\\text{in,MM}} = 64 \\cdot \\frac{1}{2} \\cdot (8 \\times 10^{-15}\\,\\text{F}) \\cdot (0.81\\,\\text{V}^{2}) = 256 \\times 10^{-15} \\cdot 0.81\\,\\text{J} = 207.36 \\times 10^{-15}\\,\\text{J} = 207.36\\,\\text{fJ}$$\n选择控制能量由以下公式给出：\n$$E_{\\text{ctrl,MM}} = n \\cdot C_{\\text{TG,g}} \\cdot V_{\\text{dd}}^{2}$$\n$$E_{\\text{ctrl,MM}} = 64 \\cdot (2 \\times 10^{-15}\\,\\text{F}) \\cdot (0.81\\,\\text{V}^{2}) = 128 \\times 10^{-15} \\cdot 0.81\\,\\text{J} = 103.68 \\times 10^{-15}\\,\\text{J} = 103.68\\,\\text{fJ}$$\nMM的总能量是：\n$$E_{\\text{MM}} = E_{\\text{in,MM}} + E_{\\text{ctrl,MM}} = 207.36\\,\\text{fJ} + 103.68\\,\\text{fJ} = 311.04\\,\\text{fJ}$$\n\n比较这两种架构，两者都满足$1\\,\\text{GHz}$的时序目标。然而，它们的能量差异显著：$E_{\\text{LS}} \\approx 985\\,\\text{fJ}$ 和 $E_{\\text{MM}} \\approx 311\\,\\text{fJ}$。多路复用器矩阵移位器每次操作的能量更低。\n\n**4. 最终答案**\n在满足时序约束的两种架构中，每次$64$位操作的最小能量是$E_{\\text{MM}} = 311.04\\,\\text{fJ}$。问题要求此值以皮焦耳（$1\\,\\text{pJ} = 1000\\,\\text{fJ}$）表示，并四舍五入到三位有效数字。\n$$E_{\\text{min}} = 311.04\\,\\text{fJ} = 0.31104\\,\\text{pJ}$$\n四舍五入到三位有效数字得到$0.311\\,\\text{pJ}$。",
            "answer": "$$\\boxed{0.311}$$"
        }
    ]
}