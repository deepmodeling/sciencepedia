{
    "hands_on_practices": [
        {
            "introduction": "Understanding the performance of a digital circuit is fundamental to integrated circuit design. This first exercise provides practice in analyzing the critical path delay of a logarithmic shifter using the powerful Fan-Out-of-Four ($FO4$) metric. By modeling the shifter as a cascade of multiplexer stages, you will derive a technology-independent expression for its delay, a core skill for architectural-level performance estimation. ",
            "id": "4257361",
            "problem": "Consider a complementary metal–oxide–semiconductor (CMOS) datapath block in an Electronic Design Automation (EDA) flow that implements an $n$-bit shift operation using a logarithmic shifter architecture built from identical two-to-one multiplexer (MUX) stages. The fan-out-of-four (FO4) metric normalizes gate delay by the delay of a reference inverter driving four identical inverters; if the reference inverter delay is denoted by $\\tau_{\\mathrm{FO4}}$, then the FO4-normalized delay of any gate with propagation delay $t_{\\mathrm{pd}}$ is defined as $d^{\\mathrm{FO4}} \\triangleq t_{\\mathrm{pd}} / \\tau_{\\mathrm{FO4}}$. Assume each $2:1$ MUX stage has been sized and loaded such that its FO4-normalized delay equals a known constant $h$ when driven by a representative signal with effort equivalent to the FO4 reference. The shifter supports any shift amount $s \\in \\{0, 1, \\ldots, n-1\\}$, encoded in binary, and is realized by cascading stages in which the $k$-th stage conditionally applies a shift of $2^{k}$ positions if the $k$-th bit of the shift amount is asserted.\n\nStarting from the logical-effort view of path delay as a sum of stage delays normalized to $\\tau_{\\mathrm{FO4}}$, and using only the architectural description provided above, derive an expression for the FO4-normalized critical-path delay of the logarithmic shifter as a function of $n$ and $h$. Then, evaluate this delay for $n = 96$ and $h = 1.17$.\n\nExpress your final answer in fan-out-of-4 (FO4) units and round your answer to $4$ significant figures.",
            "solution": "The problem asks for the derivation of the fan-out-of-four (FO$4$) normalized critical-path delay of an $n$-bit logarithmic shifter and its evaluation for specific parameters. The shifter is constructed from cascaded stages of $2:1$ multiplexers (MUXes).\n\nFirst, let's analyze the architecture of the logarithmic shifter. An $n$-bit logarithmic shifter is designed to shift an $n$-bit data word by any amount $s$, where $s \\in \\{0, 1, \\ldots, n-1\\}$. The shift amount $s$ is provided as a binary control word. The shifter architecture consists of a cascade of stages, where the $k$-th stage (for $k = 0, 1, 2, \\ldots$) performs a conditional shift by $2^k$ positions. The $k$-th bit of the binary representation of $s$, denoted $s_k$, controls the $k$-th stage. If $s_k=1$, the stage shifts its input data by $2^k$; if $s_k=0$, the data passes through unchanged.\n\nThe total number of stages, let's call it $m$, is determined by the number of bits required to encode the shift amount $s$. Since $s$ can take any integer value from $0$ to $n-1$, there are $n$ possible shift amounts. The number of bits required to uniquely encode $n$ distinct values is $m = \\lceil \\log_2(n) \\rceil$. These $m$ bits correspond to the control signals $s_0, s_1, \\ldots, s_{m-1}$ for the $m$ stages that implement shifts by $2^0, 2^1, \\ldots, 2^{m-1}$, respectively.\n\nThe critical path for data propagation in this shifter is the longest delay from any data input bit to any data output bit. In this cascaded architecture, a data signal must pass serially through one MUX in each of the $m$ stages. The control signals $s_k$ are assumed to be available at each stage and their arrival time does not define the data-path delay. Therefore, the critical path consists of a sequence of $m$ MUXes.\n\nThe problem specifies that the delay is to be measured in FO$4$-normalized units. The FO$4$-normalized delay of a single $2:1$ MUX stage is given as a constant, $h$. This value represents the propagation delay of the MUX stage, $t_{\\mathrm{pd}}$, normalized by the delay of a reference inverter, $\\tau_{\\mathrm{FO4}}$. The total FO$4$-normalized delay of the critical path, denoted $D^{\\mathrm{FO4}}$, is the sum of the FO$4$-normalized delays of all stages along that path.\n\nSince the critical path traverses all $m$ stages, and each stage contributes a normalized delay of $h$, the total delay is the product of the number of stages and the delay per stage:\n$$D^{\\mathrm{FO4}} = m \\times h$$\nSubstituting the expression for the number of stages, $m = \\lceil \\log_2(n) \\rceil$, we obtain the general expression for the FO$4$-normalized critical-path delay as a function of $n$ and $h$:\n$$D^{\\mathrm{FO4}}(n, h) = h \\lceil \\log_2(n) \\rceil$$\n\nNext, we must evaluate this expression for the given values: $n = 96$ and $h = 1.17$.\nFirst, we calculate the number of stages, $m$:\n$$m = \\lceil \\log_2(96) \\rceil$$\nTo evaluate $\\log_2(96)$, we can use the properties of logarithms:\n$$\\log_2(96) = \\log_2(32 \\times 3) = \\log_2(2^5 \\times 3) = \\log_2(2^5) + \\log_2(3) = 5 + \\log_2(3)$$\nWe know that $2^1 = 2$ and $2^2 = 4$, so $1 < \\log_2(3) < 2$. Specifically, $\\log_2(3) \\approx 1.585$.\nTherefore, $\\log_2(96) \\approx 5 + 1.585 = 6.585$.\nThe ceiling function $\\lceil x \\rceil$ gives the smallest integer greater than or equal to $x$.\n$$m = \\lceil 6.585 \\rceil = 7$$\nSo, a $96$-bit logarithmic shifter requires $7$ stages.\n\nNow, we can calculate the total FO$4$-normalized delay using the derived formula:\n$$D^{\\mathrm{FO4}} = m \\times h = 7 \\times 1.17$$\n$$D^{\\mathrm{FO4}} = 8.19$$\nThe problem requires the answer to be rounded to $4$ significant figures. The calculated value $8.19$ has three significant figures. To express it with four, we add a trailing zero.\n$$D^{\\mathrm{FO4}} = 8.190$$\nThis is the final FO$4$-normalized delay of the shifter in the specified units.",
            "answer": "$$\\boxed{8.190}$$"
        },
        {
            "introduction": "While a shifter's inherent delay determines its performance as a combinational block, high-throughput systems often require pipelining to achieve faster clock frequencies. This practice problem explores how inserting a pipeline register strategically within a logarithmic shifter can improve its maximum operating frequency. You will apply the principles of synchronous timing analysis, accounting for register delays and clock skew, to quantify the trade-off between increased throughput and added latency. ",
            "id": "4257283",
            "problem": "Consider a $64$-bit logarithmic shifter implemented as a cascade of $2:1$ multiplexing stages that realize shifts by $2^i$ for $i \\in \\{0,1,2,3,4,5\\}$, so the network depth is $\\lceil \\log_2(64) \\rceil = 6$ stages. The shifter is synthesized in a synchronous pipeline within an Electronic Design Automation (EDA) flow, and each register-to-register path must meet a single global clock. The path timing is governed by physical timing constraints of synchronous digital design: the register clock-to-$Q$, combinational propagation through logic and wires, and the receiving register’s setup requirement, in the presence of nonzero clock skew.\n\nYou are given the following per-stage worst-case propagation delays for the $64$-bit logarithmic shifter, measured under corner conditions with realistic wire parasitics:\n- Stage $0$ (shift by $1$): $d_0 = 28\\,\\text{ps}$\n- Stage $1$ (shift by $2$): $d_1 = 35\\,\\text{ps}$\n- Stage $2$ (shift by $4$): $d_2 = 42\\,\\text{ps}$\n- Stage $3$ (shift by $8$): $d_3 = 55\\,\\text{ps}$\n- Stage $4$ (shift by $16$): $d_4 = 68\\,\\text{ps}$\n- Stage $5$ (shift by $32$): $d_5 = 85\\,\\text{ps}$\n\nAssume the pipeline registers are edge-triggered $D$ flip-flops with register clock-to-$Q$ delay $t_{CQ} = 20\\,\\text{ps}$, setup time $t_{\\text{setup}} = 15\\,\\text{ps}$, and effective clock skew $t_{\\text{skew}} = 5\\,\\text{ps}$ along the critical path. Initially, the shifter is implemented as a single combinational block between an input pipeline register and an output pipeline register.\n\nA design change inserts one additional pipeline register between stage $k$ and stage $k+1$ with $k = 3$. Under these conditions, determine the new maximum operating frequency and the additional latency incurred in cycles by this insertion.\n\nYour answer must be derived from first principles of synchronous timing and pipeline segmentation and must explicitly account for the register timing parameters and the combinational delays of the grouped stages on each side of the inserted register. Express the frequency in $\\text{GHz}$ and the latency in cycles. Round your frequency to four significant figures.",
            "solution": "The maximum operating frequency, $f_{\\text{max}}$, of a synchronous digital circuit is determined by the minimum clock period, $T_{\\text{min}}$, that satisfies the setup time constraint for the slowest path (the critical path). The governing equation for the setup time constraint is:\n$$T_{\\text{clk}} \\ge t_{CQ} + t_{\\text{comb}} + t_{\\text{setup}} + t_{\\text{skew}}$$\nwhere $T_{\\text{clk}}$ is the clock period, $t_{CQ}$ is the clock-to-Q delay of the launching register, $t_{\\text{comb}}$ is the propagation delay of the combinational logic between registers, $t_{\\text{setup}}$ is the setup time of the capturing register, and $t_{\\text{skew}}$ is the clock skew that negatively impacts the setup margin. A positive skew value here represents a clock arriving later at the capturing register, thus reducing the effective time for the data to propagate. The minimum clock period is thus:\n$$T_{\\text{min}} = t_{CQ} + t_{\\text{comb,crit}} + t_{\\text{setup}} + t_{\\text{skew}}$$\nwhere $t_{\\text{comb,crit}}$ is the delay of the critical combinational path.\n\nThe initial design consists of a $64$-bit logarithmic shifter with $6$ stages (indexed $0$ to $5$) placed as a single block of combinational logic between an input register and an output register. The design change involves inserting one pipeline register after stage $k=3$. This partitions the single combinational block into two smaller blocks, creating a two-stage pipeline.\n\nThe first pipeline stage consists of the input register, the combinational logic of shifter stages $0$, $1$, $2$, and $3$, and the newly inserted pipeline register.\nThe combinational delay of this first block, $t_{\\text{comb,1}}$, is the sum of the delays of the stages it contains:\n$$t_{\\text{comb,1}} = d_0 + d_1 + d_2 + d_3$$\nSubstituting the given values:\n$$t_{\\text{comb,1}} = 28\\,\\text{ps} + 35\\,\\text{ps} + 42\\,\\text{ps} + 55\\,\\text{ps} = 160\\,\\text{ps}$$\n\nThe second pipeline stage consists of the new pipeline register, the combinational logic of shifter stages $4$ and $5$, and the original output register.\nThe combinational delay of this second block, $t_{\\text{comb,2}}$, is the sum of the delays of stages $4$ and $5$:\n$$t_{\\text{comb,2}} = d_4 + d_5$$\nSubstituting the given values:\n$$t_{\\text{comb,2}} = 68\\,\\text{ps} + 85\\,\\text{ps} = 153\\,\\text{ps}$$\n\nThe critical path of the new pipelined design is the longer of the two combinational paths. Therefore, the critical combinational delay is:\n$$t_{\\text{comb,crit}} = \\max(t_{\\text{comb,1}}, t_{\\text{comb,2}})$$\n$$t_{\\text{comb,crit}} = \\max(160\\,\\text{ps}, 153\\,\\text{ps}) = 160\\,\\text{ps}$$\n\nNow, we can calculate the minimum clock period, $T_{\\text{min}}$, using the given register timing parameters: $t_{CQ} = 20\\,\\text{ps}$, $t_{\\text{setup}} = 15\\,\\text{ps}$, and $t_{\\text{skew}} = 5\\,\\text{ps}$.\n$$T_{\\text{min}} = t_{CQ} + t_{\\text{comb,crit}} + t_{\\text{setup}} + t_{\\text{skew}}$$\n$$T_{\\text{min}} = 20\\,\\text{ps} + 160\\,\\text{ps} + 15\\,\\text{ps} + 5\\,\\text{ps} = 200\\,\\text{ps}$$\n\nThe maximum operating frequency is the reciprocal of the minimum clock period:\n$$f_{\\text{max}} = \\frac{1}{T_{\\text{min}}} = \\frac{1}{200\\,\\text{ps}} = \\frac{1}{200 \\times 10^{-12}\\,\\text{s}}$$\n$$f_{\\text{max}} = 5 \\times 10^9\\,\\text{Hz} = 5\\,\\text{GHz}$$\nThe problem requires the frequency to be rounded to four significant figures, which is $5.000\\,\\text{GHz}$.\n\nNext, we determine the additional latency. Latency in a pipelined system is the time, measured in clock cycles, for a single data input to propagate through all stages and appear at the output.\nThe initial design was: Input Register $\\rightarrow$ Combinational Logic (Stages $0-5$) $\\rightarrow$ Output Register. This is a single-stage pipeline, and its latency is $1$ clock cycle.\nThe new design is: Input Register $\\rightarrow$ Logic Block 1 (Stages $0-3$) $\\rightarrow$ Pipeline Register $\\rightarrow$ Logic Block 2 (Stages $4-5$) $\\rightarrow$ Output Register. This is a two-stage pipeline. Its latency is $2$ clock cycles.\n\nThe additional latency incurred by the insertion of the pipeline register is the difference between the new latency and the initial latency:\n$$\\text{Additional Latency} = \\text{Latency}_{\\text{new}} - \\text{Latency}_{\\text{initial}}$$\n$$\\text{Additional Latency} = 2\\,\\text{cycles} - 1\\,\\text{cycle} = 1\\,\\text{cycle}$$\n\nThus, the new maximum operating frequency is $5.000\\,\\text{GHz}$ and the additional latency is $1$ cycle.",
            "answer": "$$\\boxed{\\begin{pmatrix} 5.000 & 1 \\end{pmatrix}}$$"
        },
        {
            "introduction": "Effective digital design is not just about optimizing for speed, but about navigating a complex landscape of trade-offs between performance, area, and power consumption. This final exercise challenges you to compare two distinct shifter architectures—a logarithmic shifter and a multiplexor-matrix barrel shifter—on these three critical axes. By building and applying first-principles models for delay, area, and energy, you will practice the essential engineering skill of design space exploration to select the optimal implementation for a given set of constraints. ",
            "id": "4257282",
            "problem": "Consider two shift-architecture implementations for an $n$-bit word where $n=64$: a multiplexor-matrix barrel shifter and a logarithmic shifter. You will derive area, delay, and energy from first principles using standard Complementary Metal–Oxide–Semiconductor (CMOS) and logical effort models to decide which design meets a $1\\,\\text{GHz}$ clock target with minimal energy per $64$-bit operation. Express the final energy in picojoules, and round your final answer to three significant figures. Assume the following physically plausible and self-consistent technology parameters and architectural decompositions:\n\n- Supply voltage $V_{\\text{dd}}=0.9\\,\\text{V}$. A single $0 \\rightarrow 1$ transition of a node with capacitance $C$ consumes energy $E=\\frac{1}{2}C V_{\\text{dd}}^{2}$; for average activity factor $\\alpha$ defined as the probability of a $0 \\rightarrow 1$ transition per cycle, the average energy per cycle is $E=\\alpha C V_{\\text{dd}}^{2}$.\n- Logical effort calibration: an inverter driving a fanout of $4$ (abbreviated FO4) has measured delay $50\\,\\text{ps}$. Use the logical effort delay model $d=(g h + p)\\,\\tau$ with inverter parameters $g_{\\text{inv}}=1$, $p_{\\text{inv}}=1$ to determine the process time constant $\\tau$.\n- Logarithmic shifter (LS): consists of $L=\\log_{2}(n)=6$ identical $2:1$ static CMOS multiplexor stages per bit. For each $2:1$ multiplexor, use logical effort parameters $g_{\\text{MUX}}=2$, $p_{\\text{MUX}}=2$, and an effective switched capacitance per stage per bit $C_{\\text{MUX}}=6\\,\\text{fF}$. Assume average data-path activity factor $\\alpha_{\\text{data}}=\\frac{1}{2}$ through each stage for random data and uniformly random shift amounts. Each bit has an output buffer of fanout $1$ with input capacitance $C_{\\text{FO1}}=2\\,\\text{fF}$ and area $A_{\\text{FO1}}=1\\,\\mu\\text{m}^{2}$. The physical area of a $2:1$ multiplexor is $A_{\\text{MUX}}=4\\,\\mu\\text{m}^{2}$.\n- Multiplexor-matrix barrel shifter (MM): realized as an $n \\times n$ transmission-gate matrix in which each output selects one of $n$ inputs via a single enabled transmission gate in its column, followed by an FO4 output buffer. Each transmission-gate cell has area $A_{\\text{TG}}=0.5\\,\\mu\\text{m}^{2}$ and gate capacitance $C_{\\text{TG,g}}=2\\,\\text{fF}$. The enabled pass path contributes $t_{\\text{TG}}=20\\,\\text{ps}$ of RC delay before the FO4 buffer. The FO4 output buffer has delay $d_{\\text{FO4}}=50\\,\\text{ps}$, input capacitance $C_{\\text{FO4}}=8\\,\\text{fF}$, and area $A_{\\text{FO4}}=4\\,\\mu\\text{m}^{2}$. For random successive shift amounts, assume that per cycle there are $n$ net $0 \\rightarrow 1$ transitions across the matrix selection (one new enable per output as the selection changes), so the average selection-control energy per cycle is $n\\,C_{\\text{TG,g}}\\,V_{\\text{dd}}^{2}$.\n- Neglect interconnect beyond what is captured in the given capacitances and delays. Use $n=64$ throughout.\n\nTasks:\n1. Derive the process time constant $\\tau$ from the FO4 calibration and then the per-stage delay of the $2:1$ multiplexor. From this, compute the total data-path delay $D_{\\text{LS}}$ of the logarithmic shifter and $D_{\\text{MM}}$ of the multiplexor-matrix shifter. State whether each meets the $1\\,\\text{GHz}$ ($1\\,\\text{ns}$ period) target.\n2. Derive the total physical area $A_{\\text{LS}}$ and $A_{\\text{MM}}$ by counting instantiated blocks and multiplying by the given areas.\n3. Using the dynamic energy model, derive the average energy per $64$-bit operation for each architecture. For the logarithmic shifter, include energy from all $L$ data-path stages and the FO1 outputs. For the multiplexor-matrix shifter, include energy from FO4 inputs and selection-control gate transitions. Decide which architecture meets the $1\\,\\text{GHz}$ target and has the lower energy.\n4. Report the minimum energy per $64$-bit operation among the two architectures, expressed in picojoules and rounded to three significant figures.",
            "solution": "**1. Delay Calculation and Timing Validation**\nFirst, we determine the process time constant $\\tau$ from the FO4 inverter calibration data. The delay of an inverter is given by $d=(g_{\\text{inv}} h + p_{\\text{inv}})\\tau$. For a fanout-of-4 (FO4) inverter, $h=4$.\n$$d_{\\text{FO4}} = (1 \\cdot 4 + 1)\\tau = 5\\tau$$\nGiven $d_{\\text{FO4}}=50\\,\\text{ps}$:\n$$50\\,\\text{ps} = 5\\tau \\implies \\tau=10\\,\\text{ps}$$\n\nNext, we calculate the total delay $D_{\\text{LS}}$ of the logarithmic shifter. It consists of $L=\\log_{2}(64)=6$ stages of $2:1$ multiplexors, followed by an FO1 output buffer. For the MUX stages, which are identical and drive each other, the electrical effort (fanout) is $h=1$. The delay of a single MUX stage is:\n$$d_{\\text{MUX-stage}} = (g_{\\text{MUX}} h + p_{\\text{MUX}})\\tau = (2 \\cdot 1 + 2) \\cdot 10\\,\\text{ps} = 40\\,\\text{ps}$$\nThe total delay from the $6$ stages is $6 \\times d_{\\text{MUX-stage}} = 240\\,\\text{ps}$.\nThe path ends with an FO1 output buffer. The delay of this buffer is:\n$$d_{\\text{FO1}} = (g_{\\text{inv}} h + p_{\\text{inv}})\\tau = (1 \\cdot 1 + 1) \\cdot 10\\,\\text{ps} = 20\\,\\text{ps}$$\nThe total data-path delay for the logarithmic shifter is the sum of these delays:\n$$D_{\\text{LS}} = 6 \\cdot d_{\\text{MUX-stage}} + d_{\\text{FO1}} = 240\\,\\text{ps} + 20\\,\\text{ps} = 260\\,\\text{ps}$$\n\nNow, we calculate the total delay $D_{\\text{MM}}$ of the multiplexor-matrix shifter. The path consists of a transmission gate delay and the FO4 output buffer delay. Both are given directly:\n$$D_{\\text{MM}} = t_{\\text{TG}} + d_{\\text{FO4}} = 20\\,\\text{ps} + 50\\,\\text{ps} = 70\\,\\text{ps}$$\n\nThe clock target is $1\\,\\text{GHz}$, so the clock period is $T_{\\text{clk}}=1\\,\\text{ns}=1000\\,\\text{ps}$.\nFor the logarithmic shifter, $D_{\\text{LS}} = 260\\,\\text{ps} < 1000\\,\\text{ps}$. It meets the timing target.\nFor the multiplexor-matrix shifter, $D_{\\text{MM}} = 70\\,\\text{ps} < 1000\\,\\text{ps}$. It also meets the timing target.\n\n**2. Physical Area Calculation**\nThe total area of the logarithmic shifter, $A_{\\text{LS}}$, is the sum of the areas of all MUXes and all output buffers. There are $n=64$ bits, and each bit path has $L=6$ MUXes and one FO1 buffer.\n$$A_{\\text{LS}} = n \\cdot L \\cdot A_{\\text{MUX}} + n \\cdot A_{\\text{FO1}}$$\n$$A_{\\text{LS}} = 64 \\cdot 6 \\cdot (4\\,\\mu\\text{m}^{2}) + 64 \\cdot (1\\,\\mu\\text{m}^{2}) = 1536\\,\\mu\\text{m}^{2} + 64\\,\\mu\\text{m}^{2} = 1600\\,\\mu\\text{m}^{2}$$\n\nThe total area of the multiplexor-matrix shifter, $A_{\\text{MM}}$, is the sum of the areas of the $n \\times n$ TG matrix and the $n$ output buffers.\n$$A_{\\text{MM}} = n^{2} \\cdot A_{\\text{TG}} + n \\cdot A_{\\text{FO4}}$$\n$$A_{\\text{MM}} = 64^{2} \\cdot (0.5\\,\\mu\\text{m}^{2}) + 64 \\cdot (4\\,\\mu\\text{m}^{2}) = 4096 \\cdot 0.5\\,\\mu\\text{m}^{2} + 256\\,\\mu\\text{m}^{2}$$\n$$A_{\\text{MM}} = 2048\\,\\mu\\text{m}^{2} + 256\\,\\mu\\text{m}^{2} = 2304\\,\\mu\\text{m}^{2}$$\n\n**3. Energy Calculation and Architecture Decision**\nWe compute the average energy per operation for each architecture using the model $E=\\alpha C V_{\\text{dd}}^{2}$, with $V_{\\text{dd}}=0.9\\,\\text{V}$ (so $V_{\\text{dd}}^{2} = 0.81\\,\\text{V}^{2}$).\n\nFor the logarithmic shifter, the total energy $E_{\\text{LS}}$ is the sum of energy from the MUX stages and the output buffers.\nThe energy from the $n \\cdot L$ MUX stages is:\n$$E_{\\text{stages,LS}} = n \\cdot L \\cdot \\alpha_{\\text{data}} \\cdot C_{\\text{MUX}} \\cdot V_{\\text{dd}}^{2}$$\n$$E_{\\text{stages,LS}} = 64 \\cdot 6 \\cdot \\frac{1}{2} \\cdot (6 \\times 10^{-15}\\,\\text{F}) \\cdot (0.81\\,\\text{V}^{2}) = 1152 \\times 10^{-15} \\cdot 0.81\\,\\text{J} = 933.12 \\times 10^{-15}\\,\\text{J} = 933.12\\,\\text{fJ}$$\nThe energy from the $n$ output buffers depends on the capacitance they drive. An FO1 buffer drives a load with capacitance equal to its input capacitance, $C_{\\text{L}} = C_{\\text{FO1}} = 2\\,\\text{fF}$.\n$$E_{\\text{out,LS}} = n \\cdot \\alpha_{\\text{data}} \\cdot C_{\\text{L}} \\cdot V_{\\text{dd}}^{2}$$\n$$E_{\\text{out,LS}} = 64 \\cdot \\frac{1}{2} \\cdot (2 \\times 10^{-15}\\,\\text{F}) \\cdot (0.81\\,\\text{V}^{2}) = 64 \\times 10^{-15} \\cdot 0.81\\,\\text{J} = 51.84 \\times 10^{-15}\\,\\text{J} = 51.84\\,\\text{fJ}$$\nTotal energy for the LS is:\n$$E_{\\text{LS}} = E_{\\text{stages,LS}} + E_{\\text{out,LS}} = 933.12\\,\\text{fJ} + 51.84\\,\\text{fJ} = 984.96\\,\\text{fJ}$$\n\nFor the multiplexor-matrix shifter, the total energy $E_{\\text{MM}}$ is the sum of the energy consumed at the inputs of the FO4 buffers and the energy for selection control.\nThe energy at the buffer inputs is due to switching the data lines after the TG matrix. There are $n$ such lines, each with capacitance $C_{\\text{FO4}}$.\n$$E_{\\text{in,MM}} = n \\cdot \\alpha_{\\text{data}} \\cdot C_{\\text{FO4}} \\cdot V_{\\text{dd}}^{2}$$\n$$E_{\\text{in,MM}} = 64 \\cdot \\frac{1}{2} \\cdot (8 \\times 10^{-15}\\,\\text{F}) \\cdot (0.81\\,\\text{V}^{2}) = 256 \\times 10^{-15} \\cdot 0.81\\,\\text{J} = 207.36 \\times 10^{-15}\\,\\text{J} = 207.36\\,\\text{fJ}$$\nThe selection-control energy is given by the formula:\n$$E_{\\text{ctrl,MM}} = n \\cdot C_{\\text{TG,g}} \\cdot V_{\\text{dd}}^{2}$$\n$$E_{\\text{ctrl,MM}} = 64 \\cdot (2 \\times 10^{-15}\\,\\text{F}) \\cdot (0.81\\,\\text{V}^{2}) = 128 \\times 10^{-15} \\cdot 0.81\\,\\text{J} = 103.68 \\times 10^{-15}\\,\\text{J} = 103.68\\,\\text{fJ}$$\nTotal energy for the MM is:\n$$E_{\\text{MM}} = E_{\\text{in,MM}} + E_{\\text{ctrl,MM}} = 207.36\\,\\text{fJ} + 103.68\\,\\text{fJ} = 311.04\\,\\text{fJ}$$\n\nComparing the two architectures, both meet the $1\\,\\text{GHz}$ timing target. However, their energies differ significantly: $E_{\\text{LS}} \\approx 985\\,\\text{fJ}$ and $E_{\\text{MM}} \\approx 311\\,\\text{fJ}$. The multiplexor-matrix shifter has the lower energy per operation.\n\n**4. Final Answer**\nThe minimum energy per $64$-bit operation among the two architectures that meet the timing constraint is $E_{\\text{MM}} = 311.04\\,\\text{fJ}$. The problem requires this value in picojoules ($1\\,\\text{pJ} = 1000\\,\\text{fJ}$), rounded to three significant figures.\n$$E_{\\text{min}} = 311.04\\,\\text{fJ} = 0.31104\\,\\text{pJ}$$\nRounding to three significant figures gives $0.311\\,\\text{pJ}$.",
            "answer": "$$\n\\boxed{0.311}\n$$"
        }
    ]
}