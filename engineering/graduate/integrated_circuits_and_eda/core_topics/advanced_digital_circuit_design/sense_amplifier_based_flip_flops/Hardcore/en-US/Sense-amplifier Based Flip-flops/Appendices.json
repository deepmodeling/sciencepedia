{
    "hands_on_practices": [
        {
            "introduction": "A Sense-Amplifier Based Flip-Flop (SAFF) operates in distinct phases, beginning with the precharge phase. This initial step is crucial for resetting the internal dynamic nodes to a well-defined voltage level, typically $V_{\\text{DD}}$, ensuring that the evaluation phase starts from a known state. This practice  provides a foundational exercise in transistor sizing by connecting the physical dimensions of a precharge device to the required circuit performance, modeling the process as a classic first-order RC network to determine the minimum transistor width needed to meet a strict timing budget.",
            "id": "4296259",
            "problem": "A Sense-Amplifier Based Flip-Flop (SAFF) employs a differential precharge phase that connects each internal dynamic node to the supply. Consider one internal node of such a SAFF that is precharged high by a p-channel Metal-Oxide-Semiconductor (pMOS) precharge transistor during a precharge window of duration $T_{\\mathrm{pc}}$. In the worst case at the start of precharge, the node is completely discharged to $0$ V after the preceding evaluate phase. During precharge, the pMOS device is driven strongly on; its source is at the supply voltage $V_{\\mathrm{DD}}$, and its drain is at the dynamic node. The node has a total effective capacitance $C_{\\mathrm{int}}$ that lumps the device and interconnect capacitances connected to it. You may model the precharge path as a first-order network consisting of an effective on-resistance in series with the node capacitance, where the effective on-resistance scales inversely with device width. Specifically, the effective on-resistance per unit width of the pMOS device is characterized by the constant $r_{p}^{\\prime}$ (in units of $\\Omega\\cdot\\mu\\mathrm{m}$), so that the on-resistance is $R_{\\mathrm{on}} = r_{p}^{\\prime}/W$, where $W$ is the device width.\n\nThe design requirement is that the node must be fully reset by the end of the precharge window in the sense that its voltage at $t = T_{\\mathrm{pc}}$ satisfies $V_{\\mathrm{node}}(T_{\\mathrm{pc}}) \\ge V_{\\mathrm{DD}} - \\varepsilon$.\n\nGiven the following process and design parameters:\n- Supply voltage $V_{\\mathrm{DD}} = 0.8$ V,\n- Precharge window $T_{\\mathrm{pc}} = 60$ ps,\n- Node capacitance $C_{\\mathrm{int}} = 12$ fF,\n- Effective pMOS on-resistance per unit width $r_{p}^{\\prime} = 8.0 \\times 10^{3}$ $\\Omega\\cdot\\mu\\mathrm{m}$,\n- Allowable residual error $\\varepsilon = 5.0$ mV,\n\nderive from first principles the minimum width $W_{\\min}$ of the pMOS precharge device that guarantees the reset requirement. Then compute its numerical value. Express the final answer for $W_{\\min}$ in micrometers, and round your answer to four significant figures.",
            "solution": "The problem requires the derivation of the minimum width $W_{\\min}$ for a pMOS precharge transistor in a Sense-Amplifier Based Flip-Flop (SAFF). The precharge process is modeled as a first-order RC network, where the internal node capacitance $C_{\\mathrm{int}}$ is charged towards the supply voltage $V_{\\mathrm{DD}}$ through the pMOS transistor's effective on-resistance $R_{\\mathrm{on}}$.\n\nThe given parameters are:\n- Supply voltage: $V_{\\mathrm{DD}} = 0.8$ V\n- Precharge window duration: $T_{\\mathrm{pc}} = 60$ ps $= 60 \\times 10^{-12}$ s\n- Internal node capacitance: $C_{\\mathrm{int}} = 12$ fF $= 12 \\times 10^{-15}$ F\n- Effective pMOS on-resistance per unit width: $r_{p}^{\\prime} = 8.0 \\times 10^{3}$ $\\Omega\\cdot\\mu\\mathrm{m}$\n- Allowable residual voltage error: $\\varepsilon = 5.0$ mV $= 5.0 \\times 10^{-3}$ V\n\nThe on-resistance $R_{\\mathrm{on}}$ is related to the transistor width $W$ by the expression $R_{\\mathrm{on}} = r_{p}^{\\prime}/W$.\n\nThe charging of the capacitor $C_{\\mathrm{int}}$ is described by the differential equation for an RC circuit. Let $V_{\\mathrm{node}}(t)$ be the voltage at the internal node at time $t$. The current charging the capacitor is given by $I(t) = C_{\\mathrm{int}} \\frac{dV_{\\mathrm{node}}(t)}{dt}$. This current is supplied through the resistor $R_{\\mathrm{on}}$ from the supply $V_{\\mathrm{DD}}$, so $I(t) = \\frac{V_{\\mathrm{DD}} - V_{\\mathrm{node}}(t)}{R_{\\mathrm{on}}}$.\n\nEquating the two expressions for the current gives the first-order linear ordinary differential equation:\n$$R_{\\mathrm{on}}C_{\\mathrm{int}} \\frac{dV_{\\mathrm{node}}(t)}{dt} + V_{\\mathrm{node}}(t) = V_{\\mathrm{DD}}$$\nThe time constant of the circuit is $\\tau = R_{\\mathrm{on}}C_{\\mathrm{int}}$. The equation becomes $\\tau \\frac{dV_{\\mathrm{node}}(t)}{dt} + V_{\\mathrm{node}}(t) = V_{\\mathrm{DD}}$.\n\nThe general solution to this differential equation is of the form:\n$$V_{\\mathrm{node}}(t) = V_{\\mathrm{final}} + (V_{\\mathrm{initial}} - V_{\\mathrm{final}})\\exp(-t/\\tau)$$\nIn this problem, the final voltage is $V_{\\mathrm{final}} = V_{\\mathrm{DD}}$. The worst-case initial condition is that the node is fully discharged, so $V_{\\mathrm{initial}} = V_{\\mathrm{node}}(0) = 0$ V. Substituting these values into the general solution yields the specific solution for the node voltage during precharge:\n$$V_{\\mathrm{node}}(t) = V_{\\mathrm{DD}} + (0 - V_{\\mathrm{DD}})\\exp(-t/\\tau) = V_{\\mathrm{DD}}(1 - \\exp(-t/\\tau))$$\nwhere $\\tau = R_{\\mathrm{on}}C_{\\mathrm{int}}$.\n\nThe design requirement is that at the end of the precharge window, $t = T_{\\mathrm{pc}}$, the node voltage must be greater than or equal to $V_{\\mathrm{DD}} - \\varepsilon$.\n$$V_{\\mathrm{node}}(T_{\\mathrm{pc}}) \\ge V_{\\mathrm{DD}} - \\varepsilon$$\nSubstituting the derived expression for $V_{\\mathrm{node}}(T_{\\mathrm{pc}})$:\n$$V_{\\mathrm{DD}}(1 - \\exp(-T_{\\mathrm{pc}}/\\tau)) \\ge V_{\\mathrm{DD}} - \\varepsilon$$\nDividing by $V_{\\mathrm{DD}}$ (which is non-zero):\n$$1 - \\exp(-T_{\\mathrm{pc}}/\\tau) \\ge 1 - \\frac{\\varepsilon}{V_{\\mathrm{DD}}}$$\n$$-\\exp(-T_{\\mathrm{pc}}/\\tau) \\ge -\\frac{\\varepsilon}{V_{\\mathrm{DD}}}$$\nMultiplying by $-1$ reverses the inequality sign:\n$$\\exp(-T_{\\mathrm{pc}}/\\tau) \\le \\frac{\\varepsilon}{V_{\\mathrm{DD}}}$$\nTaking the natural logarithm of both sides (a monotonically increasing function, so the inequality is preserved):\n$$-\\frac{T_{\\mathrm{pc}}}{\\tau} \\le \\ln\\left(\\frac{\\varepsilon}{V_{\\mathrm{DD}}}\\right)$$\nMultiplying by $-1$ again reverses the inequality sign:\n$$\\frac{T_{\\mathrm{pc}}}{\\tau} \\ge -\\ln\\left(\\frac{\\varepsilon}{V_{\\mathrm{DD}}}\\right) = \\ln\\left(\\left(\\frac{\\varepsilon}{V_{\\mathrm{DD}}}\\right)^{-1}\\right) = \\ln\\left(\\frac{V_{\\mathrm{DD}}}{\\varepsilon}\\right)$$\nThis inequality sets an upper bound on the time constant $\\tau$:\n$$\\tau \\le \\frac{T_{\\mathrm{pc}}}{\\ln(V_{\\mathrm{DD}}/\\varepsilon)}$$\nSubstituting $\\tau = R_{\\mathrm{on}}C_{\\mathrm{int}}$, we get the constraint on the on-resistance $R_{\\mathrm{on}}$:\n$$R_{\\mathrm{on}}C_{\\mathrm{int}} \\le \\frac{T_{\\mathrm{pc}}}{\\ln(V_{\\mathrm{DD}}/\\varepsilon)}$$\n$$R_{\\mathrm{on}} \\le \\frac{T_{\\mathrm{pc}}}{C_{\\mathrm{int}}\\ln(V_{\\mathrm{DD}}/\\varepsilon)}$$\nTo meet this condition, the resistance must be smaller than or equal to the value on the right. To achieve a fast precharge (i.e., small $R_{\\mathrm{on}}$), the pMOS device width $W$ must be sufficiently large, since $R_{\\mathrm{on}} = r_{p}^{\\prime}/W$. Substituting this relationship into the inequality:\n$$\\frac{r_{p}^{\\prime}}{W} \\le \\frac{T_{\\mathrm{pc}}}{C_{\\mathrm{int}}\\ln(V_{\\mathrm{DD}}/\\varepsilon)}$$\nSolving for $W$ gives the condition for the required device width:\n$$W \\ge \\frac{r_{p}^{\\prime} C_{\\mathrm{int}} \\ln(V_{\\mathrm{DD}}/\\varepsilon)}{T_{\\mathrm{pc}}}$$\nThe minimum width $W_{\\min}$ is therefore:\n$$W_{\\min} = \\frac{r_{p}^{\\prime} C_{\\mathrm{int}} \\ln(V_{\\mathrm{DD}}/\\varepsilon)}{T_{\\mathrm{pc}}}$$\nNow, we substitute the given numerical values into this expression. First, let's compute the ratio $V_{\\mathrm{DD}}/\\varepsilon$:\n$$\\frac{V_{\\mathrm{DD}}}{\\varepsilon} = \\frac{0.8 \\text{ V}}{5.0 \\times 10^{-3} \\text{ V}} = 160$$\nNow, substitute all values into the equation for $W_{\\min}$:\n$$W_{\\min} = \\frac{(8.0 \\times 10^{3} \\text{ }\\Omega\\cdot\\mu\\mathrm{m}) \\times (12 \\times 10^{-15} \\text{ F}) \\times \\ln(160)}{60 \\times 10^{-12} \\text{ s}}$$\nThe units simplify as $\\frac{(\\Omega \\cdot \\mu\\mathrm{m})(\\mathrm{F})}{\\mathrm{s}} = \\frac{(\\mathrm{s} \\cdot \\mu\\mathrm{m})}{\\mathrm{s}} = \\mu\\mathrm{m}$, which is the correct unit for width.\n$$W_{\\min} = \\frac{8.0 \\times 10^{3} \\times 12 \\times 10^{-15}}{60 \\times 10^{-12}} \\ln(160) \\text{ }\\mu\\mathrm{m}$$\n$$W_{\\min} = \\frac{96 \\times 10^{-12}}{60 \\times 10^{-12}} \\ln(160) \\text{ }\\mu\\mathrm{m}$$\n$$W_{\\min} = 1.6 \\times \\ln(160) \\text{ }\\mu\\mathrm{m}$$\nUsing a calculator for the natural logarithm:\n$$\\ln(160) \\approx 5.07517378$$\n$$W_{\\min} \\approx 1.6 \\times 5.07517378 \\text{ }\\mu\\mathrm{m}$$\n$$W_{\\min} \\approx 8.120278048 \\text{ }\\mu\\mathrm{m}$$\nThe problem asks for the numerical value rounded to four significant figures.\n$$W_{\\min} \\approx 8.120 \\text{ }\\mu\\mathrm{m}$$",
            "answer": "$$\n\\boxed{8.120}\n$$"
        },
        {
            "introduction": "The core of a SAFF's high-speed operation lies in the evaluation phase, where a cross-coupled latch provides positive feedback to rapidly amplify a small initial voltage differential. Understanding the dynamics of this regenerative process is key to optimizing the flip-flop's performance. This exercise  guides you through a small-signal analysis to model this behavior, deriving the differential equation that governs the exponential growth of the output voltage and revealing how the transconductance of the input and latch stages dictates the speed of decision-making.",
            "id": "4296297",
            "problem": "A sense-amplifier based flip-flop (SAFF) uses an input differential pair to sense the data and a cross-coupled inverter pair to regenerate a decision. Consider the early regeneration phase immediately after the sampling edge in a single-ended clocking scheme. Assume the following physically grounded small-signal model based on Kirchhoffâ€™s current law (KCL) and the definition of transconductance for a Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET):\n\n- The latch has two internal nodes with equal capacitance, and the differential-mode node combines to an effective capacitance $C$.\n- The cross-coupled inverter pair is linearized around its operating point and contributes an effective differential-mode transconductance $g_{c}$ that produces a current $i_{\\text{reg}} = g_{c} v_{d}$, where $v_{d}$ is the differential-mode node voltage.\n- The input differential pair has finite differential transconductance $g_{m}$ and converts the input differential voltage $V_{\\text{in}}$ into a differential current $i_{\\text{in}} = g_{m} V_{\\text{in}}$ that injects into the latch nodes during the early regeneration window.\n- Neglect the output resistance of devices, higher-order parasitics, and clock feedthrough during the early linear phase.\n\nStarting from these premises only (KCL at the differential node and the small-signal definitions $i = g v$ and $i_{C} = C\\, dv/dt$), derive the linear time-domain differential equation governing $v_{d}(t)$ during early regeneration, determine the closed-form expression for the minimum input-pair transconductance $g_{m,\\min}$ required to guarantee that the differential voltage reaches a resolvable level $V_{\\text{res}}$ no later than a regeneration time budget $T_{\\text{reg}}$, and then evaluate $g_{m,\\min}$ numerically for the following design targets:\n\n- Effective cross-coupled regeneration transconductance $g_{c} = 5\\,\\mathrm{mS}$.\n- Effective differential capacitance $C = 250\\,\\mathrm{fF}$.\n- Available regeneration time after sampling $T_{\\text{reg}} = 200\\,\\mathrm{ps}$.\n- Input differential at the instant of sampling $V_{\\text{in}} = 0.10\\,\\mathrm{V}$.\n- Target resolvable differential at the latch nodes $V_{\\text{res}} = 0.050\\,\\mathrm{V}$.\n\nExpress your final numerical answer for $g_{m,\\min}$ in $\\mathrm{mS}$ and round to three significant figures. Discuss, as part of your derivation, how the finite $g_{m}$ affects the effective loop gain or growth rate during the early regeneration phase within this linear model. Electronic Design Automation (EDA) considerations, such as sizing and biasing, are outside the scope of the computation but should be reflected in the physical plausibility of the parameters used.",
            "solution": "The first step is to establish the differential equation governing the differential-mode voltage $v_d(t)$ during the early regeneration phase. This phase is modeled as a linear system. We apply Kirchhoff's Current Law (KCL) to the differential node, which has an effective capacitance $C$. The total current flowing into this capacitance, $i_C(t)$, is the sum of the input current from the differential pair, $i_{\\text{in}}$, and the regeneration current from the cross-coupled inverters, $i_{\\text{reg}}(t)$.\n\nThe current into the capacitor is defined as:\n$$i_C(t) = C \\frac{d v_d(t)}{dt}$$\nThe input current is provided as a constant value dependent on the input transconductance $g_m$ and the static input differential voltage $V_{\\text{in}}$:\n$$i_{\\text{in}} = g_m V_{\\text{in}}$$\nThe regeneration current is a result of positive feedback from the cross-coupled inverter pair. This current acts to amplify the existing differential voltage $v_d(t)$ and is given by:\n$$i_{\\text{reg}}(t) = g_c v_d(t)$$\nwhere $g_c$ is the effective differential-mode transconductance of the regenerative latch.\n\nAccording to KCL, the sum of currents flowing into the node must equal the current flowing out of the node, which is the current charging the capacitor. Therefore:\n$$i_C(t) = i_{\\text{in}} + i_{\\text{reg}}(t)$$\nSubstituting the expressions for the currents, we get the time-domain differential equation:\n$$C \\frac{d v_d(t)}{dt} = g_m V_{\\text{in}} + g_c v_d(t)$$\nTo solve this equation, we rearrange it into the standard form for a first-order linear ordinary differential equation:\n$$\\frac{d v_d(t)}{dt} - \\frac{g_c}{C} v_d(t) = \\frac{g_m V_{\\text{in}}}{C}$$\nThis equation has a general solution that is the sum of a homogeneous solution, $v_{d,h}(t)$, and a particular solution, $v_{d,p}(t)$.\n\nThe homogeneous equation is $\\frac{d v_{d,h}(t)}{dt} - \\frac{g_c}{C} v_{d,h}(t) = 0$. Its solution describes the natural response of the system and is an exponential function:\n$$v_{d,h}(t) = A \\exp\\left(\\frac{g_c}{C}t\\right)$$\nwhere $A$ is a constant of integration. The positive exponent indicates unstable behavior, which is the desired regeneration.\n\nFor the particular solution, since the forcing term $\\frac{g_m V_{\\text{in}}}{C}$ is a constant, we assume a constant particular solution $v_{d,p}(t) = K$. Substituting this into the differential equation gives:\n$$0 - \\frac{g_c}{C} K = \\frac{g_m V_{\\text{in}}}{C} \\implies K = -\\frac{g_m V_{\\text{in}}}{g_c}$$\nThe full general solution is the sum of the homogeneous and particular solutions:\n$$v_d(t) = v_{d,h}(t) + v_{d,p}(t) = A \\exp\\left(\\frac{g_c}{C}t\\right) - \\frac{g_m V_{\\text{in}}}{g_c}$$\nTo find the constant $A$, we apply the initial condition. The regeneration phase starts at $t=0$, \"immediately after the sampling edge.\" At this instant, the differential voltage across the internal latch nodes is assumed to be zero, as no charge has yet been integrated. Thus, $v_d(0) = 0$.\n$$v_d(0) = A \\exp(0) - \\frac{g_m V_{\\text{in}}}{g_c} = A - \\frac{g_m V_{\\text{in}}}{g_c} = 0$$\nThis implies that $A = \\frac{g_m V_{\\text{in}}}{g_c}$. Substituting this back into the general solution, we obtain the specific solution for $v_d(t)$:\n$$v_d(t) = \\frac{g_m V_{\\text{in}}}{g_c} \\exp\\left(\\frac{g_c}{C}t\\right) - \\frac{g_m V_{\\text{in}}}{g_c} = \\frac{g_m V_{\\text{in}}}{g_c} \\left( \\exp\\left(\\frac{g_c}{C}t\\right) - 1 \\right)$$\nThis equation describes the growth of the differential voltage over time.\n\nAs part of the derivation, we discuss the role of $g_m$. The term $g_c/C$ in the exponent represents the inverse of the regeneration time constant, $\\tau_{\\text{reg}} = C/g_c$. This rate is intrinsic to the latch itself and is not affected by the input stage transconductance $g_m$. The role of $g_m$ is to provide, via the input current $i_{\\text{in}} = g_m V_{\\text{in}}$, the initial \"kick\" that starts the regeneration process. This is evident in the solution, where the pre-exponential factor is directly proportional to $g_m V_{\\text{in}}$. A larger $g_m$ leads to a faster initial rise in $v_d$, allowing the exponential term to take effect sooner and enabling the latch to reach a decision more quickly. Thus, $g_m$ affects the time to resolution but not the fundamental exponential growth rate of the positive feedback loop.\n\nNext, we derive the expression for the minimum input-pair transconductance, $g_{m,\\min}$. The condition is that the differential voltage $v_d(t)$ must reach the resolvable level $V_{\\text{res}}$ by the time $T_{\\text{reg}}$. For the minimum $g_m$, this condition is met exactly at $t = T_{\\text{reg}}$:\n$$v_d(T_{\\text{reg}}) = V_{\\text{res}}$$\nSubstituting this into our solution for $v_d(t)$ and using $g_{m,\\min}$:\n$$V_{\\text{res}} = \\frac{g_{m,\\min} V_{\\text{in}}}{g_c} \\left( \\exp\\left(\\frac{g_c T_{\\text{reg}}}{C}\\right) - 1 \\right)$$\nSolving for $g_{m,\\min}$ gives the closed-form expression:\n$$g_{m,\\min} = \\frac{g_c V_{\\text{res}}}{V_{\\text{in}}} \\frac{1}{\\exp\\left(\\frac{g_c T_{\\text{reg}}}{C}\\right) - 1}$$\nFinally, we evaluate this expression numerically using the provided design targets:\n$g_c = 5\\,\\mathrm{mS} = 5 \\times 10^{-3}\\,\\mathrm{S}$\n$C = 250\\,\\mathrm{fF} = 250 \\times 10^{-15}\\,\\mathrm{F}$\n$T_{\\text{reg}} = 200\\,\\mathrm{ps} = 200 \\times 10^{-12}\\,\\mathrm{s}$\n$V_{\\text{in}} = 0.10\\,\\mathrm{V}$\n$V_{\\text{res}} = 0.050\\,\\mathrm{V}$\n\nFirst, we calculate the dimensionless term in the exponent:\n$$\\frac{g_c T_{\\text{reg}}}{C} = \\frac{(5 \\times 10^{-3}\\,\\mathrm{S})(200 \\times 10^{-12}\\,\\mathrm{s})}{250 \\times 10^{-15}\\,\\mathrm{F}} = \\frac{1000 \\times 10^{-15}}{250 \\times 10^{-15}} = 4$$\nNow, substitute this into the expression for $g_{m,\\min}$:\n$$g_{m,\\min} = \\frac{(5 \\times 10^{-3}\\,\\mathrm{S}) (0.050\\,\\mathrm{V})}{0.10\\,\\mathrm{V}} \\frac{1}{\\exp(4) - 1}$$\n$$g_{m,\\min} = \\frac{0.25 \\times 10^{-3}}{0.10} \\frac{1}{\\exp(4) - 1} = (2.5 \\times 10^{-3}\\,\\mathrm{S}) \\frac{1}{\\exp(4) - 1}$$\nUsing the value $\\exp(4) \\approx 54.59815$:\n$$g_{m,\\min} \\approx (2.5 \\times 10^{-3}\\,\\mathrm{S}) \\frac{1}{54.59815 - 1} = (2.5 \\times 10^{-3}\\,\\mathrm{S}) \\frac{1}{53.59815}$$\n$$g_{m,\\min} \\approx 0.0466433 \\times 10^{-3}\\,\\mathrm{S} = 0.0466433\\,\\mathrm{mS}$$\nRounding to three significant figures, as requested:\n$$g_{m,\\min} \\approx 0.0466\\,\\mathrm{mS}$$\nThe final answer is requested in $\\mathrm{mS}$.",
            "answer": "$$\\boxed{0.0466}$$"
        },
        {
            "introduction": "While fast, SAFFs are not immune to metastability, a critical failure mode where the flip-flop takes an indeterminate amount of time to resolve a decision, typically when the input differential is very small or timed ambiguously. Quantifying the likelihood of such events is essential for designing robust, high-reliability systems. This advanced practice  delves into the statistical nature of metastability by modeling device noise as a random initial voltage, allowing you to derive the minimum time required to resolve a decision to a target error probability, thereby connecting circuit-level dynamics to system-level reliability.",
            "id": "4296304",
            "problem": "A Sense-Amplifier Based Flip-Flop (SAFF) is a regenerative detector used in Integrated Circuits and Electronic Design Automation (EDA) pipelines. Near the metastable operating point, when the applied input differential is close to zero, the cross-coupled regenerative core can be linearized around its equilibrium and modeled as a single unstable mode characterized by a regeneration time constant $\\tau$. The initial differential $v_0$ that seeds regeneration is dominated by device and thermal noise and can be modeled as a zero-mean Gaussian random variable with standard deviation $\\sigma_n$. A correct decision is deemed to have occurred if, by the end of the available regeneration time window $T_{\\mathrm{avail}}$ within the clock period, the internal differential amplitude reaches or exceeds a critical value $V_{\\mathrm{crit}}$ required to drive the subsequent stage decisively.\n\nStarting from a small-signal linearization of the cross-coupled pair and the Gaussian model for $v_0$, derive an analytic expression for the minimum $T_{\\mathrm{avail}}$ needed to ensure that the probability of incorrect decision (i.e., the probability that the amplitude does not reach $V_{\\mathrm{crit}}$ by time $T_{\\mathrm{avail}}$) is no greater than a specified target $p_{\\mathrm{target}}$. Then, numerically evaluate this required clock period margin for the following parameters: $\\tau = 5\\,\\mathrm{ps}$, $V_{\\mathrm{crit}} = 50\\,\\mathrm{mV}$, $\\sigma_n = 1\\,\\mathrm{mV}$, and $p_{\\mathrm{target}} = 1 \\times 10^{-6}$. Express your final answer in picoseconds and round your answer to four significant figures.",
            "solution": "The linearized model for the regeneration of the differential voltage $v(t)$ in an unstable system starting from an initial condition $v_0$ at time $t=0$ is given by exponential growth:\n$$v(t) = v_0 \\exp\\left(\\frac{t}{\\tau}\\right)$$\nAn incorrect decision occurs if the magnitude of the differential voltage at the end of the available time window, $T_{\\mathrm{avail}}$, is less than the critical voltage $V_{\\mathrm{crit}}$. The probability of this event is denoted $P_{\\mathrm{error}}$.\n$$P_{\\mathrm{error}} = P\\left( |v(T_{\\mathrm{avail}})| < V_{\\mathrm{crit}} \\right)$$\nSubstituting the expression for $v(T_{\\mathrm{avail}})$:\n$$P_{\\mathrm{error}} = P\\left( |v_0 \\exp\\left(\\frac{T_{\\mathrm{avail}}}{\\tau}\\right)| < V_{\\mathrm{crit}} \\right)$$\nSince $\\exp(T_{\\mathrm{avail}}/\\tau)$ is a positive quantity, we can write:\n$$P_{\\mathrm{error}} = P\\left( |v_0| \\exp\\left(\\frac{T_{\\mathrm{avail}}}{\\tau}\\right) < V_{\\mathrm{crit}} \\right)$$\nRearranging the inequality for $|v_0|$ gives:\n$$P_{\\mathrm{error}} = P\\left( |v_0| < V_{\\mathrm{crit}} \\exp\\left(-\\frac{T_{\\mathrm{avail}}}{\\tau}\\right) \\right)$$\nThis inequality is equivalent to:\n$$P_{\\mathrm{error}} = P\\left( -V_{\\mathrm{crit}} \\exp\\left(-\\frac{T_{\\mathrm{avail}}}{\\tau}\\right) < v_0 < V_{\\mathrm{crit}} \\exp\\left(-\\frac{T_{\\mathrm{avail}}}{\\tau}\\right) \\right)$$\nThe probability is found by integrating the PDF of $v_0$ over this range. Let $V_{th} = V_{\\mathrm{crit}} \\exp\\left(-\\frac{T_{\\mathrm{avail}}}{\\tau}\\right)$.\n$$P_{\\mathrm{error}} = \\int_{-V_{th}}^{V_{th}} \\frac{1}{\\sqrt{2\\pi}\\sigma_n} \\exp\\left(-\\frac{x^2}{2\\sigma_n^2}\\right) dx$$\nTo evaluate this integral, we relate it to the standard error function, $\\mathrm{erf}(z) = \\frac{2}{\\sqrt{\\pi}} \\int_0^z \\exp(-u^2) du$. We perform a change of variables, letting $u = \\frac{x}{\\sqrt{2}\\sigma_n}$, which means $dx = \\sqrt{2}\\sigma_n du$. The limits of integration become $\\pm \\frac{V_{th}}{\\sqrt{2}\\sigma_n}$.\n$$P_{\\mathrm{error}} = \\int_{-V_{th}/(\\sqrt{2}\\sigma_n)}^{V_{th}/(\\sqrt{2}\\sigma_n)} \\frac{1}{\\sqrt{2\\pi}\\sigma_n} \\exp(-u^2) (\\sqrt{2}\\sigma_n du) = \\frac{1}{\\sqrt{\\pi}} \\int_{-V_{th}/(\\sqrt{2}\\sigma_n)}^{V_{th}/(\\sqrt{2}\\sigma_n)} \\exp(-u^2) du$$\nDue to the symmetry of the integrand $\\exp(-u^2)$, this is equal to:\n$$P_{\\mathrm{error}} = \\frac{2}{\\sqrt{\\pi}} \\int_{0}^{V_{th}/(\\sqrt{2}\\sigma_n)} \\exp(-u^2) du = \\mathrm{erf}\\left(\\frac{V_{th}}{\\sqrt{2}\\sigma_n}\\right)$$\nSubstituting the expression for $V_{th}$ back, we get:\n$$P_{\\mathrm{error}} = \\mathrm{erf}\\left(\\frac{V_{\\mathrm{crit}} \\exp(-T_{\\mathrm{avail}}/\\tau)}{\\sqrt{2}\\sigma_n}\\right)$$\nWe require the probability of an incorrect decision to be no greater than $p_{\\mathrm{target}}$, i.e., $P_{\\mathrm{error}} \\le p_{\\mathrm{target}}$. The minimum required time $T_{\\mathrm{avail}}$ corresponds to the case of equality:\n$$\\mathrm{erf}\\left(\\frac{V_{\\mathrm{crit}} \\exp(-T_{\\mathrm{avail}}/\\tau)}{\\sqrt{2}\\sigma_n}\\right) = p_{\\mathrm{target}}$$\nTo solve for $T_{\\mathrm{avail}}$, we first apply the inverse error function, $\\mathrm{erf}^{-1}$, to both sides.\n$$\\frac{V_{\\mathrm{crit}} \\exp(-T_{\\mathrm{avail}}/\\tau)}{\\sqrt{2}\\sigma_n} = \\mathrm{erf}^{-1}(p_{\\mathrm{target}})$$\nNext, we isolate the exponential term:\n$$\\exp\\left(-\\frac{T_{\\mathrm{avail}}}{\\tau}\\right) = \\frac{\\sqrt{2}\\sigma_n}{V_{\\mathrm{crit}}} \\mathrm{erf}^{-1}(p_{\\mathrm{target}})$$\nTaking the natural logarithm of both sides:\n$$-\\frac{T_{\\mathrm{avail}}}{\\tau} = \\ln\\left( \\frac{\\sqrt{2}\\sigma_n}{V_{\\mathrm{crit}}} \\mathrm{erf}^{-1}(p_{\\mathrm{target}}) \\right)$$\nFinally, solving for $T_{\\mathrm{avail}}$ and using the property $-\\ln(x) = \\ln(1/x)$:\n$$T_{\\mathrm{avail}} = -\\tau \\ln\\left( \\frac{\\sqrt{2}\\sigma_n}{V_{\\mathrm{crit}}} \\mathrm{erf}^{-1}(p_{\\mathrm{target}}) \\right) = \\tau \\ln\\left( \\left[ \\frac{\\sqrt{2}\\sigma_n}{V_{\\mathrm{crit}}} \\mathrm{erf}^{-1}(p_{\\mathrm{target}}) \\right]^{-1} \\right)$$\nThis gives the final analytical expression for the minimum available time:\n$$T_{\\mathrm{avail}} = \\tau \\ln\\left( \\frac{V_{\\mathrm{crit}}}{\\sqrt{2}\\sigma_n \\cdot \\mathrm{erf}^{-1}(p_{\\mathrm{target}})} \\right)$$\n\nWe are given the following parameter values:\n-   $\\tau = 5\\,\\mathrm{ps}$\n-   $V_{\\mathrm{crit}} = 50\\,\\mathrm{mV} = 50 \\times 10^{-3}\\,\\mathrm{V}$\n-   $\\sigma_n = 1\\,\\mathrm{mV} = 1 \\times 10^{-3}\\,\\mathrm{V}$\n-   $p_{\\mathrm{target}} = 1 \\times 10^{-6}$\n\nFirst, we need to evaluate the inverse error function for $p_{\\mathrm{target}}$. Using a standard mathematical library, we find:\n$$\\mathrm{erf}^{-1}(1 \\times 10^{-6}) \\approx 8.86226956 \\times 10^{-7}$$\nNow we can compute the argument of the natural logarithm:\n$$\\frac{V_{\\mathrm{crit}}}{\\sqrt{2}\\sigma_n \\cdot \\mathrm{erf}^{-1}(p_{\\mathrm{target}})} = \\frac{50 \\times 10^{-3}}{\\sqrt{2} \\cdot (1 \\times 10^{-3}) \\cdot (8.86226956 \\times 10^{-7})}$$\nThe units of $V_{\\mathrm{crit}}$ and $\\sigma_n$ (Volts) cancel out, making the argument dimensionless, as required.\n$$\\frac{50}{\\sqrt{2} \\cdot (8.86226956 \\times 10^{-7})} \\approx \\frac{50}{1.2532938 \\times 10^{-6}} \\approx 3.989498 \\times 10^{7}$$\nNow, we compute the natural logarithm of this value:\n$$\\ln(3.989498 \\times 10^{7}) \\approx 17.50151$$\nFinally, we calculate $T_{\\mathrm{avail}}$:\n$$T_{\\mathrm{avail}} = (5\\,\\mathrm{ps}) \\times 17.50151 \\approx 87.50755\\,\\mathrm{ps}$$\nThe problem asks to round the final answer to four significant figures. The first four significant figures are $8$, $7$, $5$, $0$. The fifth digit is $7$, so we round up the fourth digit.\n$$T_{\\mathrm{avail}} \\approx 87.51\\,\\mathrm{ps}$$",
            "answer": "$$\\boxed{87.51}$$"
        }
    ]
}