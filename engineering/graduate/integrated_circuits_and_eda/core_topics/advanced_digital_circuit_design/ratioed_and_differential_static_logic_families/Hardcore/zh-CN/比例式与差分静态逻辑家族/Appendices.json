{
    "hands_on_practices": [
        {
            "introduction": "静态CMOS反相器是所有数字逻辑电路的基石，其开关阈值$V_{M}$是决定电路噪声容限的关键参数。本练习将指导你如何通过调整晶体管的尺寸比例，从底层物理原理出发，精确地设定这一阈值。掌握这一核心技能是设计任何可靠逻辑系列的第一步，它深刻揭示了器件物理特性与宏观电路行为之间的直接联系。",
            "id": "4292272",
            "problem": "静态逻辑系列中的互补金属氧化物半导体（CMOS）反相器由一个n沟道金属氧化物半导体场效应晶体管（MOSFET）下拉和一个p沟道MOSFET上拉实现。设电子和空穴迁移率分别为$\\mu_{n}$和$\\mu_{p}$，单位面积的氧化层电容为$C_{\\mathrm{ox}}$，器件宽度为$W_{n}$和$W_{p}$，沟道长度为$L_{n}$和$L_{p}$。定义跨导参数 $\\beta_{n} \\triangleq \\mu_{n} C_{\\mathrm{ox}} \\frac{W_{n}}{L_{n}}$ 和 $\\beta_{p} \\triangleq \\mu_{p} C_{\\mathrm{ox}} \\frac{W_{p}}{L_{p}}$。逻辑电源为$V_{DD}$，n沟道阈值电压为$V_{tn} > 0$，p沟道阈值电压的绝对值为$|V_{tp}| > 0$。假设在强反型下进行长沟道操作，沟道长度调制和体效应可忽略不计，并且在恒定温度下工作，因此$\\mu_{n}$和$\\mu_{p}$是常数。\n\n反相器的开关阈值$V_{M}$定义为在静态条件下，直流传输特性满足$V_{\\mathrm{in}} = V_{\\mathrm{out}} = V_{M}$时的输入电压。您的任务是设计器件比率，以便对于给定的目标$\\alpha \\in (0, 1)$（例如，中点目标对应于$\\alpha = 0.5$），实现指定的开关阈值$V_{M} = \\alpha V_{DD}$。\n\n仅从金属氧化物半导体场效应晶体管（MOSFET）的长沟道平方律饱和漏极电流表达式和$V_{M}$的定义出发，推导出一个以$\\alpha$、$V_{DD}$、$V_{tn}$和$|V_{tp}|$表示的、为实现$V_{M} = \\alpha V_{DD}$所需比率$\\frac{\\beta_{p}}{\\beta_{n}}$的封闭形式解析表达式。清楚地说明推导过程要自洽且物理上可实现所需满足的关于$\\alpha$和参数的任何条件。简要阐明，当$L_{p} = L_{n}$时，所需的$\\frac{\\beta_{p}}{\\beta_{n}}$如何根据$\\mu_{n}/\\mu_{p}$和阈值不对称性，转化为可行的几何比率$\\frac{W_{p}}{W_{n}}$。\n\n提供$\\frac{\\beta_{p}}{\\beta_{n}}$的单一简化解析表达式作为最终结果。不需要进行数值评估，并且不允许进行超出所述范围的近似。最终答案必须以无单位的封闭形式表达式给出。",
            "solution": "基于金属氧化物半导体场效应晶体管（MOSFET）的标准长沟道模型，该问题陈述被验证为具有科学依据、提法恰当、客观且自洽。要求是推导互补金属氧化物半导体（CMOS）反相器中为实现特定开关阈值所需的跨导参数比率。我们现在开始推导。\n\nCMOS反相器的开关阈值$V_{M}$定义为静态电压传输特性曲线上输入电压$V_{\\mathrm{in}}$等于输出电压$V_{\\mathrm{out}}$的唯一点。因此，在开关阈值点，我们有：\n$$V_{\\mathrm{in}} = V_{\\mathrm{out}} = V_{M}$$\n在此条件下，n沟道MOSFET（NMOS）的栅源电压为$V_{GSn} = V_{\\mathrm{in}} = V_{M}$，漏源电压为$V_{DSn} = V_{\\mathrm{out}} = V_{M}$。p沟道MOSFET（PMOS）的源栅电压为$V_{SGp} = V_{DD} - V_{\\mathrm{in}} = V_{DD} - V_{M}$，源漏电压为$V_{SDp} = V_{DD} - V_{\\mathrm{out}} = V_{DD} - V_{M}$。\n\n为使电路正常工作，两个晶体管都必须处于“导通”状态。对于NMOS，这要求$V_{GSn} > V_{tn}$，即$V_{M} > V_{tn}$。对于PMOS，这要求$V_{SGp} > |V_{tp}|$，即$V_{DD} - V_{M} > |V_{tp}|$。\n\n接下来，我们确定每个晶体管的工作区域。\n对于NMOS，饱和条件是$V_{DSn} \\ge V_{GSn} - V_{tn}$。代入开关阈值处的电压，我们得到$V_{M} \\ge V_{M} - V_{tn}$，简化为$V_{tn} \\ge 0$。问题陈述中指出$V_{tn} > 0$，因此NMOS处于饱和区。\n对于PMOS，饱和条件是$V_{SDp} \\ge V_{SGp} - |V_{tp}|$。代入电压，我们得到$V_{DD} - V_{M} \\ge V_{DD} - V_{M} - |V_{tp}|$，简化为$|V_{tp}| \\ge 0$。问题陈述中指出$|V_{tp}| > 0$，因此PMOS也处于饱和区。\n\n由于两个晶体管都处于饱和区，它们的漏极电流由长沟道平方律模型给出。问题陈述中要求忽略沟道长度调制效应。\nNMOS的饱和电流为：\n$$I_{Dn} = \\frac{1}{2} \\beta_{n} (V_{GSn} - V_{tn})^2$$\nPMOS的饱和电流为：\n$$I_{Dp} = \\frac{1}{2} \\beta_{p} (V_{SGp} - |V_{tp}|)^2$$\n在静态CMOS反相器中，除了短暂的开关瞬间，从$V_{DD}$到地之间没有直流路径。在静态点$V_{\\mathrm{in}} = V_{\\mathrm{out}} = V_{M}$，流过NMOS下拉器件的电流必须精确等于流过PMOS上拉器件的电流。因此，$I_{Dn} = I_{Dp}$。\n$$\\frac{1}{2} \\beta_{n} (V_{GSn} - V_{tn})^2 = \\frac{1}{2} \\beta_{p} (V_{SGp} - |V_{tp}|)^2$$\n代入开关阈值处的电压表达式：\n$$\\beta_{n} (V_{M} - V_{tn})^2 = \\beta_{p} (V_{DD} - V_{M} - |V_{tp}|)^2$$\n我们需要求解比率$\\frac{\\beta_{p}}{\\beta_{n}}$。重新整理方程可得：\n$$\\frac{\\beta_{p}}{\\beta_{n}} = \\frac{(V_{M} - V_{tn})^2}{(V_{DD} - V_{M} - |V_{tp}|)^2}$$\n问题指定目标开关阈值为$V_{M} = \\alpha V_{DD}$，其中给定$\\alpha \\in (0, 1)$。将$V_{M}$的表达式代入该比率的方程中：\n$$\\frac{\\beta_{p}}{\\beta_{n}} = \\frac{(\\alpha V_{DD} - V_{tn})^2}{(V_{DD} - \\alpha V_{DD} - |V_{tp}|)^2}$$\n从分母项中提出因子$V_{DD}$：\n$$\\frac{\\beta_{p}}{\\beta_{n}} = \\frac{(\\alpha V_{DD} - V_{tn})^2}{((1-\\alpha)V_{DD} - |V_{tp}|)^2}$$\n这可以更紧凑地写成：\n$$\\frac{\\beta_{p}}{\\beta_{n}} = \\left( \\frac{\\alpha V_{DD} - V_{tn}}{(1-\\alpha)V_{DD} - |V_{tp}|} \\right)^2$$\n为了使此推导自洽且物理上可实现，两个晶体管都处于“导通”状态的条件必须被满足。这些条件，$V_{M} > V_{tn}$和$V_{DD} - V_{M} > |V_{tp}|$，转化为对$\\alpha$的以下约束：\n1. $\\alpha V_{DD} > V_{tn} \\implies \\alpha > \\frac{V_{tn}}{V_{DD}}$\n2. $V_{DD} - \\alpha V_{DD} > |V_{tp}| \\implies (1-\\alpha)V_{DD} > |V_{tp}| \\implies 1 - \\alpha > \\frac{|V_{tp}|}{V_{DD}} \\implies \\alpha < 1 - \\frac{|V_{tp}|}{V_{DD}}$\n因此，只有当$\\alpha$在范围$\\frac{V_{tn}}{V_{DD}} < \\alpha < 1 - \\frac{|V_{tp}|}{V_{DD}}$内时，一个物理上可实现的开关阈值$V_M = \\alpha V_{DD}$才是可能的。此范围存在的必要条件是$\\frac{V_{tn}}{V_{DD}} < 1 - \\frac{|V_{tp}|}{V_{DD}}$，这意味着$V_{tn} + |V_{tp}| < V_{DD}$。这是一个基本要求，即阈值电压绝对值之和必须小于电源电压，这样反相器才能具有大于1的增益并正常工作。\n\n为了将所需的比率$\\frac{\\beta_{p}}{\\beta_{n}}$转化为可行的几何比率$\\frac{W_{p}}{W_{n}}$，我们使用跨导参数的定义：\n$$\\beta_{n} = \\mu_{n} C_{\\mathrm{ox}} \\frac{W_{n}}{L_{n}} \\quad \\text{和} \\quad \\beta_{p} = \\mu_{p} C_{\\mathrm{ox}} \\frac{W_{p}}{L_{p}}$$\n该比率为：\n$$\\frac{\\beta_{p}}{\\beta_{n}} = \\frac{\\mu_{p} C_{\\mathrm{ox}} \\frac{W_{p}}{L_{p}}}{\\mu_{n} C_{\\mathrm{ox}} \\frac{W_{n}}{L_{n}}} = \\frac{\\mu_{p}}{\\mu_{n}} \\frac{W_{p}}{W_{n}} \\frac{L_{n}}{L_{p}}$$\n假设沟道长度相等，即$L_{p} = L_{n} = L$（这是一种常见假设），则上式简化为：\n$$\\frac{\\beta_{p}}{\\beta_{n}} = \\frac{\\mu_{p}}{\\mu_{n}} \\frac{W_{p}}{W_{n}}$$\n求解器件宽度比$\\frac{W_{p}}{W_{n}}$：\n$$\\frac{W_{p}}{W_{n}} = \\frac{\\mu_{n}}{\\mu_{p}} \\frac{\\beta_{p}}{\\beta_{n}}$$\n此关系表明，所需的宽度比$\\frac{W_{p}}{W_{n}}$是迁移率比$\\frac{\\mu_{n}}{\\mu_{p}}$与期望的跨导比$\\frac{\\beta_{p}}{\\beta_{n}}$的乘积。由于电子迁移率$\\mu_{n}$通常比空穴迁移率$\\mu_{p}$大$2$-$3$倍，为实现$\\beta_{p} = \\beta_{n}$（如果$V_{tn}=|V_{tp}|$，则为所谓的“对称”反相器，这将产生$V_M = V_{DD}/2$），PMOS器件的宽度必须是NMOS器件的$2$-$3$倍。如果阈值电压不对称，或者需要一个非中点的开关阈值$\\alpha \\neq 0.5$，那么所需的$\\frac{\\beta_{p}}{\\beta_{n}}$将不为1，并且必须使用推导出的表达式相应地调整几何比率$\\frac{W_{p}}{W_{n}}$，以补偿迁移率差异和阈值不对称性。",
            "answer": "$$\\boxed{\\left(\\frac{\\alpha V_{DD} - V_{tn}}{(1-\\alpha)V_{DD} - |V_{tp}|}\\right)^2}$$"
        },
        {
            "introduction": "在了解了理想CMOS逻辑的基础后，我们将探讨一种常见的比率逻辑——互补传输管逻辑(CPL)的一个核心挑战。由于NMOS传输管的阈值电压降，逻辑高电平在通过每一级时都会被削弱，而体效应更会加剧这一问题。本练习让你能够定量分析这种电平退化，并计算出一个逻辑链在需要信号再生前的最大级联深度，这是高速通路设计中的一个关键实践问题。",
            "id": "4292304",
            "problem": "在集成电路的电子设计自动化（EDA）背景下，考虑一个由互补传输晶体管逻辑（CPL）级组成的级联结构。在CPL中，逻辑变量通过一个由$n$沟道金属氧化物半导体（NMOS）传输晶体管构成的网络进行传递，通常使用差分电轨和静态交叉耦合电平再生器来恢复全摆幅输出。在此场景中，假设有一个包含$m$个CPL级的链，且级与级之间没有即时的电平恢复；也就是说，对于$i=0,1,\\dots,m-1$，第$i$级的输出直接驱动第$i+1$级传输网络的栅极。电源电压为$V_{\\mathrm{DD}}$（单位：伏特），NMOS的体端接地。\n\n对于一个NMOS传输晶体管，其输出端的平衡高电平受限于栅极电压减去阈值电压，其中阈值电压受体效应影响。阈值电压模型为：\n$$\nV_{T}(V_{\\mathrm{SB}}) \\;=\\; V_{T0} \\;+\\; \\gamma\\left(\\sqrt{2\\phi_{F} + V_{\\mathrm{SB}}} \\;-\\; \\sqrt{2\\phi_{F}}\\right),\n$$\n其中$V_{T0}$是零偏置阈值电压（单位：伏特），$\\gamma$是体效应系数（单位：$\\mathrm{V}^{1/2}$），$\\phi_{F}$是费米电势（单位：伏特），$V_{\\mathrm{SB}}$是源-体电压（单位：伏特）。忽略体效应对$V_{T}$的贡献之外的短沟道效应，并假设为准静态操作，使得第$i$个传输器件的限制关系为：\n$$\nV_{i} \\;=\\; V_{i-1} \\;-\\; V_{T}(V_{i}),\n$$\n其中$V_{0} = V_{\\mathrm{DD}}$，$V_{i}$表示经过第$i$个传输器件后的高电平。\n\n待驱动的下一级的最小输入高电平为$V_{\\mathrm{IH,min}}$，最大输入低电平为$V_{\\mathrm{IL,max}}$（均为伏特），由此定义高、低噪声容限为：\n$$\n\\mathrm{NMH}(m) \\;=\\; V_{m} \\;-\\; V_{\\mathrm{IH,min}}, \\qquad \\mathrm{NML}(m) \\;=\\; V_{\\mathrm{IL,max}} \\;-\\; V_{L}(m),\n$$\n其中$V_{L}(m)$是经过$m$级传输后的低电平，由于NMOS对于逻辑低电平具有强导通性，可以假设其近似保持在$0$。为避免逻辑电平退化，接口约束要求$\\mathrm{NMH}(m)$和$\\mathrm{NML}(m)$必须分别超过所需容限$\\mathrm{NMH}_{\\mathrm{req}}$和$\\mathrm{NML}_{\\mathrm{req}}$（单位：伏特）。\n\n给定参数$V_{\\mathrm{DD}} = 1.2\\,\\mathrm{V}$、$V_{T0} = 0.25\\,\\mathrm{V}$、$\\gamma = 0.45\\,\\mathrm{V}^{1/2}$、$\\phi_{F} = 0.3\\,\\mathrm{V}$（因此$2\\phi_{F} = 0.6\\,\\mathrm{V}$）、$V_{\\mathrm{IH,min}} = 0.6\\,\\mathrm{V}$、$V_{\\mathrm{IL,max}} = 0.4\\,\\mathrm{V}$、$\\mathrm{NMH}_{\\mathrm{req}} = 0.1\\,\\mathrm{V}$和$\\mathrm{NML}_{\\mathrm{req}} = 0.1\\,\\mathrm{V}$，确定在没有即时恢复的情况下，满足接口约束的最大允许级联深度$m$。\n\n将最终的$m$表示为一个不带单位的精确整数。答案是整数，因此不需要取整说明。",
            "solution": "目标是确定一系列互补传输晶体管逻辑（CPL）级的最大允许整数级联深度，记为$m$。该操作必须满足指定的噪声容限约束。\n\n首先，必须整理给定的参数和方程：\n电源电压：$V_{\\mathrm{DD}} = 1.2\\,\\mathrm{V}$\n零偏置阈值电压：$V_{T0} = 0.25\\,\\mathrm{V}$\n体效应系数：$\\gamma = 0.45\\,\\mathrm{V}^{1/2}$\n费米电势相关项：$2\\phi_{F} = 0.6\\,\\mathrm{V}$\n下一级的最小输入高电压：$V_{\\mathrm{IH,min}} = 0.6\\,\\mathrm{V}$\n下一级的最大输入低电压：$V_{\\mathrm{IL,max}} = 0.4\\,\\mathrm{V}$\n所需高噪声容限：$\\mathrm{NMH}_{\\mathrm{req}} = 0.1\\,\\mathrm{V}$\n所需低噪声容限：$\\mathrm{NML}_{\\mathrm{req}} = 0.1\\,\\mathrm{V}$\n初始高电平电压：$V_0 = V_{\\mathrm{DD}} = 1.2\\,\\mathrm{V}$\n任意级的低电平电压：$V_L(m) \\approx 0\\,\\mathrm{V}$\n\nNMOS晶体管的阈值电压由以下模型给出：\n$$V_{T}(V_{\\mathrm{SB}}) = V_{T0} + \\gamma\\left(\\sqrt{2\\phi_{F} + V_{\\mathrm{SB}}} - \\sqrt{2\\phi_{F}}\\right)$$\n其中$V_{\\mathrm{SB}}$是源-体电压。对于一个传输高信号的NMOS传输晶体管，其源极端是输出节点。由于体极端接地（$0\\,\\mathrm{V}$），第$i$级输出的源-体电压为$V_{\\mathrm{SB}} = V_{i} - 0 = V_i$。\n\n经过第$i$级后的输出高电平电压$V_i$由以下递归关系给出：\n$$V_{i} = V_{i-1} - V_{T}(V_{i})$$\n这个关系表明，当传输晶体管的栅-源电压等于其阈值电压时，即$V_{GS} = V_{i-1} - V_i = V_T(V_i)$，它停止导通。\n\n噪声容限约束为：\n1. 高噪声容限（NMH）：$\\mathrm{NMH}(m) = V_{m} - V_{\\mathrm{IH,min}} \\ge \\mathrm{NMH}_{\\mathrm{req}}$\n2. 低噪声容限（NML）：$\\mathrm{NML}(m) = V_{\\mathrm{IL,max}} - V_{L}(m) \\ge \\mathrm{NML}_{\\mathrm{req}}$\n\n我们先分析低噪声容限约束。代入给定值：\n$$\\mathrm{NML}(m) = 0.4\\,\\mathrm{V} - 0\\,\\mathrm{V} = 0.4\\,\\mathrm{V}$$\n约束条件是$0.4\\,\\mathrm{V} \\ge \\mathrm{NML}_{\\mathrm{req}} = 0.1\\,\\mathrm{V}$。这个不等式总是成立的，与级联深度$m$无关。因此，限制因素是高噪声容限。\n\n现在，我们分析高噪声容限约束。代入给定值：\n$$V_{m} - 0.6\\,\\mathrm{V} \\ge 0.1\\,\\mathrm{V}$$\n这可以简化为对第$m$级输出的最小电压要求：\n$$V_{m} \\ge 0.7\\,\\mathrm{V}$$\n\n我们现在必须找到使$V_m \\ge 0.7\\,\\mathrm{V}$成立的最大整数$m$。我们将通过迭代计算$V_i$（对于$i=1, 2, \\dots$）并在电压降至$0.7\\,\\mathrm{V}$以下时停止。\n\n$V_i$的递归关系是：\n$$V_{i} = V_{i-1} - \\left[ V_{T0} + \\gamma\\left(\\sqrt{2\\phi_{F} + V_{i}} - \\sqrt{2\\phi_{F}}\\right) \\right]$$\n代入参数值：\n$$V_{i} = V_{i-1} - \\left[ 0.25 + 0.45\\left(\\sqrt{0.6 + V_{i}} - \\sqrt{0.6}\\right) \\right]$$\n这是一个关于$V_i$的超越方程。为了解它，我们可以重新整理。设变量$x_i = \\sqrt{0.6 + V_i}$。这意味着$V_i = x_i^2 - 0.6$。方程变为：\n$$x_i^2 - 0.6 = V_{i-1} - 0.25 - 0.45(x_i - \\sqrt{0.6})$$\n整理成标准二次型$ax^2+bx+c=0$：\n$$x_i^2 + 0.45x_i - (V_{i-1} - 0.25 + 0.45\\sqrt{0.6} + 0.6) = 0$$\n$$x_i^2 + 0.45x_i - (V_{i-1} + 0.35 + 0.45\\sqrt{0.6}) = 0$$\n我们来计算常数项：$0.45\\sqrt{0.6} \\approx 0.45 \\times 0.7745966... \\approx 0.3485685$。\n方程是：\n$$x_i^2 + 0.45x_i - (V_{i-1} + 0.35 + 0.3485685) = 0$$\n$$x_i^2 + 0.45x_i - (V_{i-1} + 0.6985685) = 0$$\n这个代数操作是错误的。让我们重新推导。\n$$V_i = V_{i-1} - 0.25 - 0.45\\sqrt{0.6 + V_i} + 0.45\\sqrt{0.6}$$\n$$V_i + 0.45\\sqrt{0.6 + V_i} = V_{i-1} - 0.25 + 0.45\\sqrt{0.6}$$\n设$C_{i-1} = V_{i-1} - 0.25 + 0.45\\sqrt{0.6} = V_{i-1} - 0.25 + 0.3485685... = V_{i-1} + 0.0985685...$\n设$x_i = \\sqrt{0.6 + V_i}$，所以$V_i = x_i^2 - 0.6$。\n$$(x_i^2 - 0.6) + 0.45x_i = C_{i-1}$$\n$$x_i^2 + 0.45x_i - (0.6 + C_{i-1}) = 0$$\n\n让我们计算$m=1$的情况：\n$V_0 = 1.2\\,\\mathrm{V}$。\n$C_0 = 1.2 + 0.0985685 = 1.2985685$。\n$x_1$的方程是：\n$$x_1^2 + 0.45x_1 - (0.6 + 1.2985685) = 0$$\n$$x_1^2 + 0.45x_1 - 1.8985685 = 0$$\n使用二次公式$x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$，其中$a=1, b=0.45, c=-1.8985685$：\n$$x_1 = \\frac{-0.45 \\pm \\sqrt{0.45^2 - 4(1)(-1.8985685)}}{2} = \\frac{-0.45 \\pm \\sqrt{0.2025 + 7.594274}}{2}$$\n$$x_1 = \\frac{-0.45 \\pm \\sqrt{7.796774}}{2} = \\frac{-0.45 \\pm 2.7922704}{2}$$\n因为$x_1 = \\sqrt{0.6 + V_1}$必须是正数，我们取正根：\n$$x_1 = \\frac{2.3422704}{2} = 1.1711352$$\n现在我们求$V_1$：\n$$V_1 = x_1^2 - 0.6 = (1.1711352)^2 - 0.6 = 1.3715578 - 0.6 = 0.7715578\\,\\mathrm{V}$$\n我们检查条件：$V_1 \\ge 0.7\\,\\mathrm{V}$。\n$0.7715578\\,\\mathrm{V} \\ge 0.7\\,\\mathrm{V}$，成立。所以，深度为$m=1$的级联是允许的。\n\n让我们计算$m=2$的情况：\n$V_1 = 0.7715578\\,\\mathrm{V}$。\n$C_1 = V_1 + 0.0985685 = 0.7715578 + 0.0985685 = 0.8701263$。\n$x_2$的方程是：\n$$x_2^2 + 0.45x_2 - (0.6 + 0.8701263) = 0$$\n$$x_2^2 + 0.45x_2 - 1.4701263 = 0$$\n使用二次公式：\n$$x_2 = \\frac{-0.45 \\pm \\sqrt{0.45^2 - 4(1)(-1.4701263)}}{2} = \\frac{-0.45 \\pm \\sqrt{0.2025 + 5.8805052}}{2}$$\n$$x_2 = \\frac{-0.45 \\pm \\sqrt{6.0830052}}{2} = \\frac{-0.45 \\pm 2.4663749}{2}$$\n取正根：\n$$x_2 = \\frac{2.0163749}{2} = 1.00818745$$\n现在我们求$V_2$：\n$$V_2 = x_2^2 - 0.6 = (1.00818745)^2 - 0.6 = 1.0164419 - 0.6 = 0.4164419\\,\\mathrm{V}$$\n我们检查条件：$V_2 \\ge 0.7\\,\\mathrm{V}$。\n$0.4164419\\,\\mathrm{V} \\ge 0.7\\,\\mathrm{V}$，不成立。\n\n第二级输出的电压（$V_2$）低于$0.7\\,\\mathrm{V}$的最小要求电压。因此，深度为$m=2$的级联是不允许的。最大允许级联深度是使条件成立的最大整数$m$。由于条件在$m=1$时成立，在$m=2$时失效，因此最大深度为$1$。",
            "answer": "$$\\boxed{1}$$"
        },
        {
            "introduction": "理论设计与现实制造之间的桥梁是鲁棒性分析。在实际芯片中，工艺、电压和温度(PVT)的波动是不可避免的，它们会直接影响晶体管的性能，甚至导致电路失效。这项高级练习将前述概念融会贯通，指导你进行一次全面的最差情况分析，以确保在各种PVT角落下一个CPL到CMOS的接口仍然满足噪声容限要求。通过求解，你将学会如何为关键器件参数设定容差范围，这是从电路设计走向可靠工程实践的决定性一步。",
            "id": "4292258",
            "problem": "一个以互补金属氧化物半导体（CMOS）实现的互补传输管逻辑（CPL）网络，驱动一个轨到轨恢复反相器的单端输入。在CPL中，通过n沟道金属氧化物半导体（NMOS）传输管的逻辑传输是有比逻辑，接收节点的高电平近似为 $V_{H} \\approx V_{\\mathrm{in}} - V_{t}$，其中 $V_{t}$ 是传输管的阈值电压。考虑工艺-电压-温度（PVT）变化，它会扰动传输管的阈值和反相器器件的参数。假设如下：\n\n- CPL传输NMOS管相对于其标称值 $V_{tn0}$ 经历最坏情况下的阈值增加 $\\Delta V_{t,\\mathrm{pass}}$，因此最坏情况下的CPL高电平建模为 $V_{H,\\min} = V_{DD}^{-} - (V_{tn0} + \\Delta V_{t,\\mathrm{pass}})$，其中 $V_{DD}^{-} = V_{DD} - \\Delta V_{DD}$ 是最坏情况下的电源电压。\n- 反相器是对称CMOS，在饱和区具有长沟道平方律行为，且沟道长度调制可忽略不计。设 $\\beta_{n}$ 和 $\\beta_{p}$ 分别为NMOS和PMOS的标称跨导参数。PVT通过乘法因子 $r_{n}$ 和 $r_{p}$（迁移率和几何角）对其进行缩放，因此有效参数为 $\\beta_{n}^{\\mathrm{eff}} = r_{n}\\beta_{n}$ 和 $\\beta_{p}^{\\mathrm{eff}} = r_{p}\\beta_{p}$。\n- 反相器NMOS阈值相对于其标称值 $V_{tn0}$ 增加 $\\Delta V_{tn}$，反相器PMOS阈值的绝对值相对于其标称值 $|V_{tp0}|$ 减小 $\\Delta V_{tp}$，因此最坏情况下的反相器阈值为 $V_{tn}^{+} = V_{tn0} + \\Delta V_{tn}$ 和 $|V_{tp}|^{-} = |V_{tp0}| - \\Delta V_{tp}$。\n- 反相器开关阈值 $V_{M}$ 定义为在长沟道饱和模型下两个晶体管中电流大小相等时的值，并且必须被CPL节点的高电平超过，以实现稳健的逻辑解释。\n\n将反相器输入端所需的最小高电平噪声容限定义为 $M$，即在所有PVT角下 $N_{MH} = V_{H} - V_{M} \\ge M$。从MOSFET饱和区的平方律电流方程和反相器传输特性中点 $V_{M}$ 的定义出发，推导出一个封闭形式的解析表达式，用于表示在上述指定的最坏情况PVT角下，保证 $N_{MH} \\ge M$ 的最大允许传输管阈值增加量 $\\Delta V_{t,\\mathrm{pass}}^{\\max}$。用 $V_{DD}$、$\\Delta V_{DD}$、$V_{tn0}$、$|V_{tp0}|$、$\\Delta V_{tn}$、$\\Delta V_{tp}$、$\\beta_{n}$、$\\beta_{p}$、$r_{n}$、$r_{p}$ 和 $M$ 来表示你的最终结果。以单一封闭形式的符号表达式提供答案。不需要进行数值计算。",
            "solution": "在尝试解答之前，对问题进行验证。\n\n### 步骤1：提取已知条件\n- **逻辑家族**：互补传输管逻辑（CPL）驱动一个单端轨到轨恢复反相器。\n- **传输管高电平模型**：来自n沟道传输管的反相器输入端的高电平电压 $V_H$ 近似为 $V_{H} \\approx V_{\\mathrm{in}} - V_{t}$。问题将最坏情况下的高电平指定为 $V_{H,\\min} = V_{DD}^{-} - (V_{tn0} + \\Delta V_{t,\\mathrm{pass}})$。\n- **最坏情况下的电源电压**：$V_{DD}^{-} = V_{DD} - \\Delta V_{DD}$。\n- **传输管阈值变化**：传输NMOS管的阈值从标称值 $V_{tn0}$ 增加一个量 $\\Delta V_{t,\\mathrm{pass}}$。\n- **反相器模型**：对称CMOS，饱和区长沟道平方律行为，沟道长度调制可忽略。\n- **反相器跨导参数**：标称参数为 $\\beta_n$ 和 $\\beta_p$。PVT变化将其缩放为有效参数 $\\beta_{n}^{\\mathrm{eff}} = r_{n}\\beta_{n}$ 和 $\\beta_{p}^{\\mathrm{eff}} = r_{p}\\beta_{p}$。\n- **反相器阈值电压变化**：\n  - NMOS：最坏情况下的阈值为 $V_{tn}^{+} = V_{tn0} + \\Delta V_{tn}$。\n  - PMOS：最坏情况下的阈值大小为 $|V_{tp}|^{-} = |V_{tp0}| - \\Delta V_{tp}$。\n- **反相器开关阈值定义**：$V_M$ 是NMOS和PMOS饱和电流大小相等时的输入电压。\n- **噪声容限要求**：高电平噪声容限 $N_{MH} = V_{H} - V_{M}$ 必须大于或等于一个最小值 $M$，即在所有指定的PVT角下 $N_{MH} \\ge M$。\n- **目标**：推导最大允许传输管阈值增加量 $\\Delta V_{t,\\mathrm{pass}}^{\\max}$ 的封闭形式解析表达式。\n\n### 步骤2：使用提取的已知条件进行验证\n- **科学依据**：该问题很好地基于数字集成电路设计的原理。CPL的使用、退化高电平输出的模型、MOSFET平方律模型、反相器开关阈值的定义以及PVT变化下的噪声容限概念都是VLSI设计中的标准概念。假设（长沟道、无沟道长度调制）对于一阶解析推导是标准的。\n- **适定性**：该问题提供了一个明确的目标和一套完整的变量、模型和约束，足以推导出 $\\Delta V_{t,\\mathrm{pass}}^{\\max}$ 的唯一解析解。问题设置是自洽的。\n- **客观性**：问题使用电气工程中精确、标准的术语陈述，没有主观或含糊的语言。\n\n### 步骤3：结论与行动\n该问题被认为是有效的，因为它是科学合理的、适定的和客观的。将推导解答。\n\n问题的核心要求是在指定的最坏情况工艺-电压-温度（PVT）角下，保持最小高电平噪声容限 $N_{MH}$。条件如下：\n$$ N_{MH} = V_H - V_M \\ge M $$\n我们正在寻找传输管阈值增加量的最大允许值 $\\Delta V_{t,\\mathrm{pass}}^{\\max}$，这对应于噪声容限恰好为其最小要求值 $M$ 的情况。此分析必须在指定的最坏情况角下进行。条件变为：\n$$ V_{H,\\min} - V_{M,\\text{corner}} = M $$\n其中 $V_{H,\\min}$ 是最坏情况下的CPL高电平，而 $V_{M,\\text{corner}}$ 是在给定PVT角下的反相器开关阈值。\n\n首先，我们建立反相器开关阈值 $V_M$ 的表达式。它被定义为NMOS和PMOS漏极电流相等时的输入电压。假设两个晶体管都处于饱和区。NMOS晶体管的平方律饱和电流为 $I_{DS,n} = \\frac{1}{2}\\beta_n(V_{GS,n}-V_{tn})^2$，PMOS晶体管的为 $I_{SD,p} = \\frac{1}{2}\\beta_p(V_{SG,p}-|V_{tp}|)^2$。\n\n在指定的PVT角下，参数为：\n- 电源电压: $V_{DD}^{-} = V_{DD} - \\Delta V_{DD}$\n- NMOS跨导: $\\beta_{n}^{\\mathrm{eff}} = r_{n}\\beta_{n}$\n- PMOS跨导: $\\beta_{p}^{\\mathrm{eff}} = r_{p}\\beta_{p}$\n- NMOS阈值电压: $V_{tn}^{+} = V_{tn0} + \\Delta V_{tn}$\n- PMOS阈值电压大小: $|V_{tp}|^{-} = |V_{tp0}| - \\Delta V_{tp}$\n\n在开关阈值点，$V_{in} = V_{out} = V_M$。晶体管的栅源电压为 $V_{GS,n} = V_{M}$ 和 $V_{SG,p} = V_{DD}^{-} - V_{M}$。令电流 $I_{DS,n} = I_{SD,p}$ 相等：\n$$ \\frac{1}{2}\\beta_{n}^{\\mathrm{eff}}(V_{GS,n} - V_{tn}^{+})^2 = \\frac{1}{2}\\beta_{p}^{\\mathrm{eff}}(V_{SG,p} - |V_{tp}|^{-})^2 $$\n$$ \\frac{1}{2}r_n\\beta_n(V_M - V_{tn}^{+})^2 = \\frac{1}{2}r_p\\beta_p(V_{DD}^{-} - V_M - |V_{tp}|^{-})^2 $$\n对两边取平方根（并假设电压具有物理意义，即 $V_M > V_{tn}^{+}$ 和 $V_{DD}^{-} - V_M > |V_{tp}|^{-}$）：\n$$ \\sqrt{r_n\\beta_n}(V_M - V_{tn}^{+}) = \\sqrt{r_p\\beta_p}(V_{DD}^{-} - V_M - |V_{tp}|^{-}) $$\n我们求解 $V_M$：\n$$ V_M\\sqrt{r_n\\beta_n} - V_{tn}^{+}\\sqrt{r_n\\beta_n} = (V_{DD}^{-} - |V_{tp}|^{-})\\sqrt{r_p\\beta_p} - V_M\\sqrt{r_p\\beta_p} $$\n$$ V_M(\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}) = V_{tn}^{+}\\sqrt{r_n\\beta_n} + (V_{DD}^{-} - |V_{tp}|^{-})\\sqrt{r_p\\beta_p} $$\n$$ V_{M,\\text{corner}} = \\frac{V_{tn}^{+}\\sqrt{r_n\\beta_n} + (V_{DD}^{-} - |V_{tp}|^{-})\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} $$\n这是在指定的最坏情况条件下反相器开关阈值的表达式。\n\n现在，我们使用处于极限状态的噪声容限条件：\n$$ V_{H,\\min} - V_{M,\\text{corner}} = M $$\n来自CPL传输管的最坏情况高电平由下式给出：\n$$ V_{H,\\min} = V_{DD}^{-} - (V_{tn0} + \\Delta V_{t,\\mathrm{pass}}^{\\max}) $$\n代入 $V_{DD}^{-} = V_{DD} - \\Delta V_{DD}$，上式变为：\n$$ V_{H,\\min} = V_{DD} - \\Delta V_{DD} - V_{tn0} - \\Delta V_{t,\\mathrm{pass}}^{\\max} $$\n我们现在可以求解 $\\Delta V_{t,\\mathrm{pass}}^{\\max}$：\n$$ \\Delta V_{t,\\mathrm{pass}}^{\\max} = V_{H,\\min} - V_{tn0} - (V_{DD} - \\Delta V_{DD}) $$\n这似乎不正确。让我们正确地重新整理噪声容限方程。\n$$ \\Delta V_{t,\\mathrm{pass}}^{\\max} = (V_{DD} - \\Delta V_{DD}) - V_{tn0} - V_{M,\\text{corner}} - M $$\n现在，我们代入 $V_{M,\\text{corner}}$ 的表达式：\n$$ \\Delta V_{t,\\mathrm{pass}}^{\\max} = (V_{DD} - \\Delta V_{DD}) - V_{tn0} - M - \\frac{V_{tn}^{+}\\sqrt{r_n\\beta_n} + (V_{DD}^{-} - |V_{tp}|^{-})\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} $$\n为简化此表达式，我们首先计算项 $(V_{DD} - \\Delta V_{DD}) - V_{M,\\text{corner}}$，即 $V_{DD}^{-} - V_{M,\\text{corner}}$：\n$$ V_{DD}^{-} - V_{M,\\text{corner}} = V_{DD}^{-} - \\frac{V_{tn}^{+}\\sqrt{r_n\\beta_n} + (V_{DD}^{-} - |V_{tp}|^{-})\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} $$\n$$ = \\frac{V_{DD}^{-}(\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}) - [V_{tn}^{+}\\sqrt{r_n\\beta_n} + (V_{DD}^{-} - |V_{tp}|^{-})\\sqrt{r_p\\beta_p}]}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} $$\n$$ = \\frac{V_{DD}^{-}\\sqrt{r_n\\beta_n} + V_{DD}^{-}\\sqrt{r_p\\beta_p} - V_{tn}^{+}\\sqrt{r_n\\beta_n} - V_{DD}^{-}\\sqrt{r_p\\beta_p} + |V_{tp}|^{-}\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} $$\n$$ = \\frac{(V_{DD}^{-} - V_{tn}^{+})\\sqrt{r_n\\beta_n} + |V_{tp}|^{-}\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} $$\n现在，将这个简化后的项代回 $\\Delta V_{t,\\mathrm{pass}}^{\\max}$ 的表达式中：\n$$ \\Delta V_{t,\\mathrm{pass}}^{\\max} = (V_{DD}^{-} - V_{M,\\text{corner}}) - V_{tn0} - M $$\n$$ \\Delta V_{t,\\mathrm{pass}}^{\\max} = \\frac{(V_{DD}^{-} - V_{tn}^{+})\\sqrt{r_n\\beta_n} + |V_{tp}|^{-}\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} - V_{tn0} - M $$\n最后，我们代入受PVT影响的参数的完整表达式（$V_{DD}^{-}$、$V_{tn}^{+}$、$|V_{tp}|^{-}$）：\n$$ \\Delta V_{t,\\mathrm{pass}}^{\\max} = \\frac{((V_{DD} - \\Delta V_{DD}) - (V_{tn0} + \\Delta V_{tn}))\\sqrt{r_n\\beta_n} + (|V_{tp0}| - \\Delta V_{tp})\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} - V_{tn0} - M $$\n这就是最大允许传输管阈值增加量的最终封闭形式解析表达式。",
            "answer": "$$ \\boxed{\\frac{\\left((V_{DD} - \\Delta V_{DD}) - (V_{tn0} + \\Delta V_{tn})\\right)\\sqrt{r_n\\beta_n} + (|V_{tp0}| - \\Delta V_{tp})\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} - V_{tn0} - M} $$"
        }
    ]
}