{
    "hands_on_practices": [
        {
            "introduction": "The CMOS inverter is the fundamental building block of digital logic, and its static characteristics define the stability and robustness of any design. A critical parameter is the switching threshold ($V_M$), the input voltage at which the output voltage is equal to the input. This exercise provides foundational practice in analytically connecting device-level parameters to circuit-level behavior by deriving the transistor sizing ratio required to place this threshold at a specific voltage. ",
            "id": "4292272",
            "problem": "A complementary Metal–Oxide–Semiconductor (CMOS) inverter in a static logic family is implemented with an n-channel Metal–Oxide–Semiconductor Field-Effect Transistor (MOSFET) pull-down and a p-channel MOSFET pull-up. Let the electron and hole mobilities be $\\mu_{n}$ and $\\mu_{p}$, the oxide capacitance per unit area be $C_{\\mathrm{ox}}$, the device widths be $W_{n}$ and $W_{p}$, and the channel lengths be $L_{n}$ and $L_{p}$. Define the transconductance parameters $\\beta_{n} \\triangleq \\mu_{n} C_{\\mathrm{ox}} \\frac{W_{n}}{L_{n}}$ and $\\beta_{p} \\triangleq \\mu_{p} C_{\\mathrm{ox}} \\frac{W_{p}}{L_{p}}$. The logic supply is $V_{DD}$, the n-channel threshold voltage is $V_{tn} > 0$, and the magnitude of the p-channel threshold voltage is $|V_{tp}| > 0$. Assume long-channel operation in strong inversion, negligible channel-length modulation and body effect, and operation at a constant temperature so that $\\mu_{n}$ and $\\mu_{p}$ are constants.\n\nThe switching threshold $V_{M}$ of the inverter is defined as the input voltage at which the direct-current transfer characteristic satisfies $V_{\\mathrm{in}} = V_{\\mathrm{out}} = V_{M}$ under static conditions. You are tasked with designing the device ratio such that a specified switching threshold $V_{M} = \\alpha V_{DD}$ is achieved for a given target $\\alpha \\in (0, 1)$ (for example, the mid-point target corresponds to $\\alpha = 0.5$).\n\nStarting only from the long-channel square-law saturation drain current expressions for Metal–Oxide–Semiconductor Field-Effect Transistors (MOSFETs) and the definition of $V_{M}$, derive a closed-form analytical expression for the ratio $\\frac{\\beta_{p}}{\\beta_{n}}$ required to realize $V_{M} = \\alpha V_{DD}$ in terms of $\\alpha$, $V_{DD}$, $V_{tn}$, and $|V_{tp}|$. Clearly state any conditions on $\\alpha$ and the parameters that are necessary for the derivation to be self-consistent and physically realizable. Briefly articulate, in terms of $\\mu_{n}/\\mu_{p}$ and threshold asymmetry, how the required $\\frac{\\beta_{p}}{\\beta_{n}}$ translates into a feasible geometry ratio $\\frac{W_{p}}{W_{n}}$ when $L_{p} = L_{n}$.\n\nProvide the final result as a single simplified analytic expression for $\\frac{\\beta_{p}}{\\beta_{n}}$. No numerical evaluation is required and no approximations beyond those stated are permitted. The final answer must be given as a closed-form expression without units.",
            "solution": "The switching threshold $V_{M}$ of a CMOS inverter is defined as the unique point on the static voltage transfer characteristic where the input voltage $V_{\\mathrm{in}}$ equals the output voltage $V_{\\mathrm{out}}$. Thus, at the switching threshold, we have:\n$$V_{\\mathrm{in}} = V_{\\mathrm{out}} = V_{M}$$\nUnder this condition, the n-channel MOSFET (NMOS) has gate-to-source voltage $V_{GSn} = V_{\\mathrm{in}} = V_{M}$ and drain-to-source voltage $V_{DSn} = V_{\\mathrm{out}} = V_{M}$. The p-channel MOSFET (PMOS) has source-to-gate voltage $V_{SGp} = V_{DD} - V_{\\mathrm{in}} = V_{DD} - V_{M}$ and source-to-drain voltage $V_{SDp} = V_{DD} - V_{\\mathrm{out}} = V_{DD} - V_{M}$.\n\nFor the circuit to be functional, both transistors must be in the 'on' state. For the NMOS, this requires $V_{GSn} > V_{tn}$, which implies $V_{M} > V_{tn}$. For the PMOS, this requires $V_{SGp} > |V_{tp}|$, which implies $V_{DD} - V_{M} > |V_{tp}|$.\n\nNext, we determine the region of operation for each transistor.\nFor the NMOS, the saturation condition is $V_{DSn} \\ge V_{GSn} - V_{tn}$. Substituting the voltages at the switching threshold, we get $V_{M} \\ge V_{M} - V_{tn}$, which simplifies to $V_{tn} \\ge 0$. The problem states $V_{tn} > 0$, so the NMOS is in the saturation region.\nFor the PMOS, the saturation condition is $V_{SDp} \\ge V_{SGp} - |V_{tp}|$. Substituting the voltages, we get $V_{DD} - V_{M} \\ge V_{DD} - V_{M} - |V_{tp}|$, which simplifies to $|V_{tp}| \\ge 0$. The problem states $|V_{tp}| > 0$, so the PMOS is also in the saturation region.\n\nSince both transistors are in saturation, their drain currents are given by the long-channel square-law model. The problem states to neglect channel-length modulation.\nThe NMOS saturation current is:\n$$I_{Dn} = \\frac{1}{2} \\beta_{n} (V_{GSn} - V_{tn})^2$$\nThe PMOS saturation current is:\n$$I_{Dp} = \\frac{1}{2} \\beta_{p} (V_{SGp} - |V_{tp}|)^2$$\nIn a static CMOS inverter, there is no direct-current path from $V_{DD}$ to ground except for the brief switching interval. At the static point $V_{\\mathrm{in}} = V_{\\mathrm{out}} = V_{M}$, the current flowing through the NMOS pull-down device must exactly equal the current flowing through the PMOS pull-up device. Therefore, $I_{Dn} = I_{Dp}$.\n$$\\frac{1}{2} \\beta_{n} (V_{GSn} - V_{tn})^2 = \\frac{1}{2} \\beta_{p} (V_{SGp} - |V_{tp}|)^2$$\nSubstituting the voltage expressions at the switching threshold:\n$$\\beta_{n} (V_{M} - V_{tn})^2 = \\beta_{p} (V_{DD} - V_{M} - |V_{tp}|)^2$$\nWe are asked to find the ratio $\\frac{\\beta_{p}}{\\beta_{n}}$. Rearranging the equation yields:\n$$\\frac{\\beta_{p}}{\\beta_{n}} = \\frac{(V_{M} - V_{tn})^2}{(V_{DD} - V_{M} - |V_{tp}|)^2}$$\nThe problem specifies that the target switching threshold is $V_{M} = \\alpha V_{DD}$ for a given $\\alpha \\in (0, 1)$. Substituting this expression for $V_{M}$ into the equation for the ratio:\n$$\\frac{\\beta_{p}}{\\beta_{n}} = \\frac{(\\alpha V_{DD} - V_{tn})^2}{(V_{DD} - \\alpha V_{DD} - |V_{tp}|)^2}$$\nFactoring $V_{DD}$ out of the term in the denominator:\n$$\\frac{\\beta_{p}}{\\beta_{n}} = \\frac{(\\alpha V_{DD} - V_{tn})^2}{((1-\\alpha)V_{DD} - |V_{tp}|)^2}$$\nThis can be written more compactly as:\n$$\\frac{\\beta_{p}}{\\beta_{n}} = \\left( \\frac{\\alpha V_{DD} - V_{tn}}{(1-\\alpha)V_{DD} - |V_{tp}|} \\right)^2$$\nFor this derivation to be self-consistent and physically realizable, the conditions for both transistors being 'on' must be satisfied. These conditions, $V_{M} > V_{tn}$ and $V_{DD} - V_{M} > |V_{tp}|$, translate to the following constraints on $\\alpha$:\n$1$. $\\alpha V_{DD} > V_{tn} \\implies \\alpha > \\frac{V_{tn}}{V_{DD}}$\n$2$. $V_{DD} - \\alpha V_{DD} > |V_{tp}| \\implies (1-\\alpha)V_{DD} > |V_{tp}| \\implies 1 - \\alpha > \\frac{|V_{tp}|}{V_{DD}} \\implies \\alpha < 1 - \\frac{|V_{tp}|}{V_{DD}}$\nThus, a physically realizable switching threshold $V_M = \\alpha V_{DD}$ is only possible if $\\alpha$ is within the range $\\frac{V_{tn}}{V_{DD}} < \\alpha < 1 - \\frac{|V_{tp}|}{V_{DD}}$. A necessary condition for this range to exist is $\\frac{V_{tn}}{V_{DD}} < 1 - \\frac{|V_{tp}|}{V_{DD}}$, which implies $V_{tn} + |V_{tp}| < V_{DD}$. This is the fundamental requirement that the sum of the threshold voltage magnitudes must be less than the supply voltage for the inverter to have a gain greater than unity and function correctly.\n\nTo translate the required ratio $\\frac{\\beta_{p}}{\\beta_{n}}$ into a feasible geometry ratio $\\frac{W_{p}}{W_{n}}$, we use the definitions of the transconductance parameters:\n$$\\beta_{n} = \\mu_{n} C_{\\mathrm{ox}} \\frac{W_{n}}{L_{n}} \\quad \\text{and} \\quad \\beta_{p} = \\mu_{p} C_{\\mathrm{ox}} \\frac{W_{p}}{L_{p}}$$\nThe ratio is:\n$$\\frac{\\beta_{p}}{\\beta_{n}} = \\frac{\\mu_{p} C_{\\mathrm{ox}} \\frac{W_{p}}{L_{p}}}{\\mu_{n} C_{\\mathrm{ox}} \\frac{W_{n}}{L_{n}}} = \\frac{\\mu_{p}}{\\mu_{n}} \\frac{W_{p}}{W_{n}} \\frac{L_{n}}{L_{p}}$$\nAssuming, as is common, that the channel lengths are equal, $L_{p} = L_{n} = L$, this simplifies to:\n$$\\frac{\\beta_{p}}{\\beta_{n}} = \\frac{\\mu_{p}}{\\mu_{n}} \\frac{W_{p}}{W_{n}}$$\nSolving for the device width ratio $\\frac{W_{p}}{W_{n}}$:\n$$\\frac{W_{p}}{W_{n}} = \\frac{\\mu_{n}}{\\mu_{p}} \\frac{\\beta_{p}}{\\beta_{n}}$$\nThis relationship shows that the required width ratio $\\frac{W_{p}}{W_{n}}$ is the product of the mobility ratio $\\frac{\\mu_{n}}{\\mu_{p}}$ and the desired transconductance ratio $\\frac{\\beta_{p}}{\\beta_{n}}$. Since the electron mobility $\\mu_{n}$ is typically $2$-$3$ times larger than the hole mobility $\\mu_{p}$, the PMOS device must be $2$-$3$ times wider than the NMOS device to achieve $\\beta_{p} = \\beta_{n}$ (a so-called \"symmetric\" inverter if $V_{tn}=|V_{tp}|$, which would yield $V_M = V_{DD}/2$). If the threshold voltages are asymmetric or if a non-midpoint switching threshold $\\alpha \\neq 0.5$ is desired, the required $\\frac{\\beta_{p}}{\\beta_{n}}$ will not be unity, and the geometry ratio $\\frac{W_{p}}{W_{n}}$ must be adjusted accordingly using the derived expression to compensate for both the mobility difference and the threshold asymmetry.",
            "answer": "$$\\boxed{\\left(\\frac{\\alpha V_{DD} - V_{tn}}{(1-\\alpha)V_{DD} - |V_{tp}|}\\right)^2}$$"
        },
        {
            "introduction": "Moving beyond ideal complementary logic, we explore a key challenge in ratioed logic families like Complementary Pass-Transistor Logic (CPL). This practice investigates the inherent voltage level degradation in a cascade of NMOS pass-transistors, a phenomenon where the logic 'high' level diminishes at each stage. You will model this voltage drop, which is exacerbated by the body effect, to determine the maximum number of stages that can be chained together before the signal becomes too weak to be reliably interpreted. ",
            "id": "4292304",
            "problem": "A cascade of Complementary Pass-Transistor Logic (CPL) stages is considered within the context of Electronic Design Automation (EDA) for integrated circuits. In CPL, logic variables are conveyed through a network of $n$-channel metal-oxide-semiconductor (NMOS) pass transistors, with differential rails and static cross-coupled level restorers typically used to recover full-swing outputs. In this scenario, assume a chain of $m$ CPL stages without immediate level restoration between stages; that is, the output of stage $i$ directly drives the gates of the pass network of stage $i+1$, for $i=0,1,\\dots,m-1$. The supply voltage is $V_{\\mathrm{DD}}$ in Volts, and the NMOS body is tied to ground.\n\nFor an NMOS pass transistor, the equilibrium high-level at its output is limited by the gate voltage minus the threshold voltage, with the threshold subject to body effect. The threshold voltage model is\n$$\nV_{T}(V_{\\mathrm{SB}}) \\;=\\; V_{T0} \\;+\\; \\gamma\\left(\\sqrt{2\\phi_{F} + V_{\\mathrm{SB}}} \\;-\\; \\sqrt{2\\phi_{F}}\\right),\n$$\nwhere $V_{T0}$ is the zero-bias threshold voltage in Volts, $\\gamma$ is the body-effect coefficient in $\\mathrm{V}^{1/2}$, $\\phi_{F}$ is the Fermi potential in Volts, and $V_{\\mathrm{SB}}$ is the source-to-body voltage in Volts. Neglect short-channel effects beyond the body-effect contribution to $V_{T}$ and assume quasi-static operation such that the limiting relation for the $i$-th pass device is\n$$\nV_{i} \\;=\\; V_{i-1} \\;-\\; V_{T}(V_{i}),\n$$\nwith $V_{0} = V_{\\mathrm{DD}}$ and $V_{i}$ denoting the high-level after the $i$-th pass device.\n\nThe next stage to be driven has input high minimum $V_{\\mathrm{IH,min}}$ and input low maximum $V_{\\mathrm{IL,max}}$ (both in Volts), defining the high and low noise margins as\n$$\n\\mathrm{NMH}(m) \\;=\\; V_{m} \\;-\\; V_{\\mathrm{IH,min}}, \\qquad \\mathrm{NML}(m) \\;=\\; V_{\\mathrm{IL,max}} \\;-\\; V_{L}(m),\n$$\nwhere $V_{L}(m)$ is the low-level after $m$ passes and can be assumed to remain at approximately $0$ due to the strong conduction of NMOS for logic low. The interfacing constraint to avoid logic level degradation is that both $\\mathrm{NMH}(m)$ and $\\mathrm{NML}(m)$ must exceed required margins $\\mathrm{NMH}_{\\mathrm{req}}$ and $\\mathrm{NML}_{\\mathrm{req}}$ (in Volts), respectively.\n\nGiven the parameters $V_{\\mathrm{DD}} = 1.2\\,\\mathrm{V}$, $V_{T0} = 0.25\\,\\mathrm{V}$, $\\gamma = 0.45\\,\\mathrm{V}^{1/2}$, $\\phi_{F} = 0.3\\,\\mathrm{V}$ (hence $2\\phi_{F} = 0.6\\,\\mathrm{V}$), $V_{\\mathrm{IH,min}} = 0.6\\,\\mathrm{V}$, $V_{\\mathrm{IL,max}} = 0.4\\,\\mathrm{V}$, $\\mathrm{NMH}_{\\mathrm{req}} = 0.1\\,\\mathrm{V}$, and $\\mathrm{NML}_{\\mathrm{req}} = 0.1\\,\\mathrm{V}$, determine the maximum allowable cascade depth $m$ that satisfies the interfacing constraints without immediate restoration.\n\nExpress the final $m$ as an exact integer without units. No rounding instruction is needed because the answer is an integer.",
            "solution": "To determine the maximum allowable integer cascade depth, $m$, we must satisfy the specified noise margin constraints.\n\nThe given parameters are:\n- Supply Voltage: $V_{\\mathrm{DD}} = 1.2\\,\\mathrm{V}$\n- Zero-bias Threshold Voltage: $V_{T0} = 0.25\\,\\mathrm{V}$\n- Body-effect Coefficient: $\\gamma = 0.45\\,\\mathrm{V}^{1/2}$\n- Fermi Potential related term: $2\\phi_{F} = 0.6\\,\\mathrm{V}$\n- Minimum Input High Voltage for the next stage: $V_{\\mathrm{IH,min}} = 0.6\\,\\mathrm{V}$\n- Maximum Input Low Voltage for the next stage: $V_{\\mathrm{IL,max}} = 0.4\\,\\mathrm{V}$\n- Required High Noise Margin: $\\mathrm{NMH}_{\\mathrm{req}} = 0.1\\,\\mathrm{V}$\n- Required Low Noise Margin: $\\mathrm{NML}_{\\mathrm{req}} = 0.1\\,\\mathrm{V}$\n- Initial high-level voltage: $V_0 = V_{\\mathrm{DD}} = 1.2\\,\\mathrm{V}$\n- Low-level voltage at any stage: $V_L(m) \\approx 0\\,\\mathrm{V}$\n\nThe noise margin constraints are:\n1. High Noise Margin (NMH): $\\mathrm{NMH}(m) = V_{m} - V_{\\mathrm{IH,min}} \\ge \\mathrm{NMH}_{\\mathrm{req}}$\n2. Low Noise Margin (NML): $\\mathrm{NML}(m) = V_{\\mathrm{IL,max}} - V_{L}(m) \\ge \\mathrm{NML}_{\\mathrm{req}}$\n\nFirst, let's analyze the Low Noise Margin constraint. Substituting the given values:\n$$\\mathrm{NML}(m) = 0.4\\,\\mathrm{V} - 0\\,\\mathrm{V} = 0.4\\,\\mathrm{V}$$\nThe constraint is $0.4\\,\\mathrm{V} \\ge \\mathrm{NML}_{\\mathrm{req}} = 0.1\\,\\mathrm{V}$. This inequality is always satisfied, regardless of the cascade depth $m$. Therefore, the limiting factor is the High Noise Margin.\n\nNext, we analyze the High Noise Margin constraint. Substituting the given values:\n$$V_{m} - 0.6\\,\\mathrm{V} \\ge 0.1\\,\\mathrm{V}$$\nThis simplifies to a minimum required voltage at the output of the $m$-th stage:\n$$V_{m} \\ge 0.7\\,\\mathrm{V}$$\n\nWe must now find the maximum integer $m$ for which $V_m \\ge 0.7\\,\\mathrm{V}$. We will do this by iteratively calculating the output high-level voltage $V_i$ for $i=1, 2, \\dots$ and stopping when the voltage drops below $0.7\\,\\mathrm{V}$.\n\nThe output high-level voltage, $V_i$, after the $i$-th stage is given by the recursive relation $V_{i} = V_{i-1} - V_{T}(V_{i})$. For an NMOS pass transistor with its body at ground, the source-to-body voltage is $V_{SB} = V_i$. The threshold voltage is:\n$$V_{T}(V_{i}) = V_{T0} + \\gamma\\left(\\sqrt{2\\phi_{F} + V_{i}} - \\sqrt{2\\phi_{F}}\\right)$$\nSubstituting this into the recursive relation gives an implicit equation for $V_i$:\n$$V_{i} = V_{i-1} - \\left[ V_{T0} + \\gamma\\left(\\sqrt{2\\phi_{F} + V_{i}} - \\sqrt{2\\phi_{F}}\\right) \\right]$$\nSubstituting the parameter values:\n$$V_{i} = V_{i-1} - \\left[ 0.25 + 0.45\\left(\\sqrt{0.6 + V_{i}} - \\sqrt{0.6}\\right) \\right]$$\nTo solve this for $V_i$, we can rearrange it:\n$$V_i + 0.45\\sqrt{0.6 + V_i} = V_{i-1} - 0.25 + 0.45\\sqrt{0.6}$$\nLet's compute the constant term: $0.45\\sqrt{0.6} \\approx 0.34857\\,\\mathrm{V}$.\n$$V_i + 0.45\\sqrt{0.6 + V_i} = V_{i-1} + 0.09857$$\nThis equation can be solved numerically or by substitution for each stage.\n\n**Calculation for stage $m=1$:**\nThe input is $V_0 = 1.2\\,\\mathrm{V}$. The equation for $V_1$ is:\n$$V_1 + 0.45\\sqrt{0.6 + V_1} = 1.2 + 0.09857 = 1.29857$$\nSolving this implicit equation (e.g., by iteration or using a solver) yields $V_1 \\approx 0.7716\\,\\mathrm{V}$.\nChecking the condition: $V_1 \\ge 0.7\\,\\mathrm{V}$.\n$0.7716\\,\\mathrm{V} \\ge 0.7\\,\\mathrm{V}$, which is true. So, a cascade of depth $m=1$ is permissible.\n\n**Calculation for stage $m=2$:**\nThe input is $V_1 = 0.7716\\,\\mathrm{V}$. The equation for $V_2$ is:\n$$V_2 + 0.45\\sqrt{0.6 + V_2} = 0.7716 + 0.09857 = 0.87017$$\nSolving this implicit equation yields $V_2 \\approx 0.4164\\,\\mathrm{V}$.\nChecking the condition: $V_2 \\ge 0.7\\,\\mathrm{V}$.\n$0.4164\\,\\mathrm{V} \\ge 0.7\\,\\mathrm{V}$, which is false.\n\nThe voltage at the output of the second stage ($V_2$) is below the minimum required voltage of $0.7\\,\\mathrm{V}$. Therefore, a cascade of depth $m=2$ is not permissible. The maximum allowable cascade depth is the largest integer $m$ for which the condition holds. Since the condition holds for $m=1$ and fails for $m=2$, the maximum depth is $1$.",
            "answer": "$$\\boxed{1}$$"
        },
        {
            "introduction": "This final practice synthesizes the preceding concepts into a realistic design-for-manufacturing problem: ensuring circuit robustness against Process, Voltage, and Temperature (PVT) variations. You will analyze the interface between a CPL stage and its restoring inverter, considering worst-case shifts in device parameters for both. The goal is to derive the maximum allowable process-induced threshold voltage shift in the pass-transistor while still guaranteeing a minimum noise margin, a crucial analysis for creating reliable, high-yield integrated circuits. ",
            "id": "4292258",
            "problem": "A Complementary Pass-Transistor Logic (CPL) network, implemented in Complementary Metal–Oxide–Semiconductor (CMOS), drives a single-ended input of a rail-to-rail restoring inverter. In CPL, logic transfer through an n-channel Metal–Oxide–Semiconductor (NMOS) pass-transistor is ratioed, with the high-level at the receiving node approximated by $V_{H} \\approx V_{\\mathrm{in}} - V_{t}$, where $V_{t}$ is the pass-transistor threshold voltage. Consider Process–Voltage–Temperature (PVT) variation that perturbs the pass-transistor threshold and the inverter device parameters. Assume the following:\n\n- The CPL pass NMOS experiences a worst-case threshold increase of $\\Delta V_{t,\\mathrm{pass}}$ relative to its nominal $V_{tn0}$, so the worst-case CPL high-level is modeled as $V_{H,\\min} = V_{DD}^{-} - (V_{tn0} + \\Delta V_{t,\\mathrm{pass}})$, with $V_{DD}^{-} = V_{DD} - \\Delta V_{DD}$ the worst-case supply.\n- The inverter is symmetric CMOS, with long-channel square-law behavior in saturation and negligible channel-length modulation. Let $\\beta_{n}$ and $\\beta_{p}$ be the nominal transconductance parameters for the NMOS and PMOS, respectively. PVT scales them by multiplicative factors $r_{n}$ and $r_{p}$ (mobility and geometry corners), so the effective parameters are $\\beta_{n}^{\\mathrm{eff}} = r_{n}\\beta_{n}$ and $\\beta_{p}^{\\mathrm{eff}} = r_{p}\\beta_{p}$.\n- The inverter NMOS threshold increases by $\\Delta V_{tn}$ relative to its nominal $V_{tn0}$ and the magnitude of the inverter PMOS threshold decreases by $\\Delta V_{tp}$ relative to its nominal $|V_{tp0}|$, so the worst-case inverter thresholds are $V_{tn}^{+} = V_{tn0} + \\Delta V_{tn}$ and $|V_{tp}|^{-} = |V_{tp0}| - \\Delta V_{tp}$.\n- The inverter switching threshold $V_{M}$ is defined by equal-magnitude currents in the two transistors under the long-channel saturation model, and must be exceeded by the CPL node high-level for robust logic interpretation.\n\nDefine the required minimum input high noise margin at the inverter input as $M$, i.e., $N_{MH} = V_{H} - V_{M} \\ge M$ across all PVT corners. Starting from the square-law current equations for MOSFET saturation and the definition of $V_{M}$ at the inverter transfer characteristic midpoint, derive a closed-form analytical expression for the maximum allowable pass-transistor threshold increase $\\Delta V_{t,\\mathrm{pass}}^{\\max}$ that guarantees $N_{MH} \\ge M$ under the worst-case PVT corner specified above. Express your final result in terms of $V_{DD}$, $\\Delta V_{DD}$, $V_{tn0}$, $|V_{tp0}|$, $\\Delta V_{tn}$, $\\Delta V_{tp}$, $\\beta_{n}$, $\\beta_{p}$, $r_{n}$, $r_{p}$, and $M$. Provide your answer as a single closed-form symbolic expression. No numerical evaluation is required.",
            "solution": "The core requirement of the problem is to maintain a minimum high noise margin, $N_{MH}$, under a specified worst-case Process-Voltage-Temperature (PVT) corner. The condition is given as:\n$$ N_{MH} = V_H - V_M \\ge M $$\nWe are looking for the maximum permissible value of the pass-transistor threshold increase, $\\Delta V_{t,\\mathrm{pass}}^{\\max}$, which corresponds to the case where the noise margin is exactly at its minimum required value, $M$. This analysis must be performed at the specified worst-case corner. The condition becomes:\n$$ V_{H,\\min} - V_{M,\\text{corner}} = M $$\nwhere $V_{H,\\min}$ is the worst-case CPL high level and $V_{M,\\text{corner}}$ is the inverter switching threshold at the given PVT corner.\n\nFirst, we establish the expression for the inverter switching threshold, $V_M$. It is defined as the input voltage where the NMOS and PMOS drain currents are equal. Both transistors are assumed to be in the saturation region. The square-law saturation current for an NMOS transistor is $I_{DS,n} = \\frac{1}{2}\\beta_n(V_{GS,n}-V_{tn})^2$, and for a PMOS is $I_{SD,p} = \\frac{1}{2}\\beta_p(V_{SG,p}-|V_{tp}|)^2$.\n\nAt the specified PVT corner, the parameters are:\n- Supply voltage: $V_{DD}^{-} = V_{DD} - \\Delta V_{DD}$\n- NMOS transconductance: $\\beta_{n}^{\\mathrm{eff}} = r_{n}\\beta_{n}$\n- PMOS transconductance: $\\beta_{p}^{\\mathrm{eff}} = r_{p}\\beta_{p}$\n- NMOS threshold voltage: $V_{tn}^{+} = V_{tn0} + \\Delta V_{tn}$\n- PMOS threshold voltage magnitude: $|V_{tp}|^{-} = |V_{tp0}| - \\Delta V_{tp}$\n\nAt the switching threshold, $V_{in} = V_{out} = V_M$. The transistor gate-source voltages are $V_{GS,n} = V_{M}$ and $V_{SG,p} = V_{DD}^{-} - V_{M}$. Equating the currents $I_{DS,n} = I_{SD,p}$:\n$$ \\frac{1}{2}\\beta_{n}^{\\mathrm{eff}}(V_{GS,n} - V_{tn}^{+})^2 = \\frac{1}{2}\\beta_{p}^{\\mathrm{eff}}(V_{SG,p} - |V_{tp}|^{-})^2 $$\n$$ \\frac{1}{2}r_n\\beta_n(V_M - V_{tn}^{+})^2 = \\frac{1}{2}r_p\\beta_p(V_{DD}^{-} - V_M - |V_{tp}|^{-})^2 $$\nTaking the square root of both sides (and assuming physically meaningful voltages, i.e., $V_M > V_{tn}^{+}$ and $V_{DD}^{-} - V_M > |V_{tp}|^{-}$):\n$$ \\sqrt{r_n\\beta_n}(V_M - V_{tn}^{+}) = \\sqrt{r_p\\beta_p}(V_{DD}^{-} - V_M - |V_{tp}|^{-}) $$\nWe solve for $V_M$:\n$$ V_M\\sqrt{r_n\\beta_n} - V_{tn}^{+}\\sqrt{r_n\\beta_n} = (V_{DD}^{-} - |V_{tp}|^{-})\\sqrt{r_p\\beta_p} - V_M\\sqrt{r_p\\beta_p} $$\n$$ V_M(\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}) = V_{tn}^{+}\\sqrt{r_n\\beta_n} + (V_{DD}^{-} - |V_{tp}|^{-})\\sqrt{r_p\\beta_p} $$\n$$ V_{M,\\text{corner}} = \\frac{V_{tn}^{+}\\sqrt{r_n\\beta_n} + (V_{DD}^{-} - |V_{tp}|^{-})\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} $$\nThis is the expression for the inverter switching threshold under the specified worst-case conditions.\n\nNow, we use the noise margin condition at its limit:\n$$ V_{H,\\min} - V_{M,\\text{corner}} = M $$\nThe worst-case high level from the CPL pass-transistor is given as:\n$$ V_{H,\\min} = V_{DD}^{-} - (V_{tn0} + \\Delta V_{t,\\mathrm{pass}}^{\\max}) $$\nSubstituting this into the noise margin equation and solving for $\\Delta V_{t,\\mathrm{pass}}^{\\max}$:\n$$ (V_{DD}^{-} - (V_{tn0} + \\Delta V_{t,\\mathrm{pass}}^{\\max})) - V_{M,\\text{corner}} = M $$\n$$ \\Delta V_{t,\\mathrm{pass}}^{\\max} = V_{DD}^{-} - V_{tn0} - V_{M,\\text{corner}} - M $$\nNow, we substitute the expression for $V_{M,\\text{corner}}$:\n$$ \\Delta V_{t,\\mathrm{pass}}^{\\max} = (V_{DD}^{-} - V_{M,\\text{corner}}) - V_{tn0} - M $$\nLet's simplify the term $(V_{DD}^{-} - V_{M,\\text{corner}})$:\n$$ V_{DD}^{-} - V_{M,\\text{corner}} = V_{DD}^{-} - \\frac{V_{tn}^{+}\\sqrt{r_n\\beta_n} + (V_{DD}^{-} - |V_{tp}|^{-})\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} $$\n$$ = \\frac{V_{DD}^{-}(\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}) - [V_{tn}^{+}\\sqrt{r_n\\beta_n} + (V_{DD}^{-} - |V_{tp}|^{-})\\sqrt{r_p\\beta_p}]}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} $$\n$$ = \\frac{V_{DD}^{-}\\sqrt{r_n\\beta_n} + V_{DD}^{-}\\sqrt{r_p\\beta_p} - V_{tn}^{+}\\sqrt{r_n\\beta_n} - V_{DD}^{-}\\sqrt{r_p\\beta_p} + |V_{tp}|^{-}\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} $$\n$$ = \\frac{(V_{DD}^{-} - V_{tn}^{+})\\sqrt{r_n\\beta_n} + |V_{tp}|^{-}\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} $$\nSubstitute this simplified term back into the expression for $\\Delta V_{t,\\mathrm{pass}}^{\\max}$:\n$$ \\Delta V_{t,\\mathrm{pass}}^{\\max} = \\frac{(V_{DD}^{-} - V_{tn}^{+})\\sqrt{r_n\\beta_n} + |V_{tp}|^{-}\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} - V_{tn0} - M $$\nFinally, we substitute the full expressions for the PVT-varied parameters ($V_{DD}^{-}$, $V_{tn}^{+}$, $|V_{tp}|^{-}$):\n$$ \\Delta V_{t,\\mathrm{pass}}^{\\max} = \\frac{((V_{DD} - \\Delta V_{DD}) - (V_{tn0} + \\Delta V_{tn}))\\sqrt{r_n\\beta_n} + (|V_{tp0}| - \\Delta V_{tp})\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} - V_{tn0} - M $$\nThis is the final, closed-form analytical expression for the maximum allowable pass-transistor threshold increase.",
            "answer": "$$ \\boxed{\\frac{\\left((V_{DD} - \\Delta V_{DD}) - (V_{tn0} + \\Delta V_{tn})\\right)\\sqrt{r_n\\beta_n} + (|V_{tp0}| - \\Delta V_{tp})\\sqrt{r_p\\beta_p}}{\\sqrt{r_n\\beta_n} + \\sqrt{r_p\\beta_p}} - V_{tn0} - M} $$"
        }
    ]
}