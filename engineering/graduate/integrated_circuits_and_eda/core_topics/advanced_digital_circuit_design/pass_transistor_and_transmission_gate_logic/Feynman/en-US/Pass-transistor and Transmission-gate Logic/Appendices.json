{
    "hands_on_practices": [
        {
            "introduction": "A primary challenge in pass-transistor logic (PTL) is the degraded logic-high level caused by the NMOS threshold voltage drop. This exercise delves into this fundamental limitation by tasking you with deriving the minimum supply voltage, $V_{DD, \\min}$, needed to ensure a passed signal is correctly interpreted by a subsequent logic stage . By manipulating the device physics equations, including the body effect, you will develop a crucial understanding of how to define the operational boundaries for reliable PTL circuits.",
            "id": "4287937",
            "problem": "A logic network implemented in pass-transistor style uses a single $n$-channel metal-oxide semiconductor (NMOS) pass device to convey a logic-high level from an upstream driver at supply $V_{DD}$ onto a downstream interconnect node $X$. The NMOS gate is driven to $V_{DD}$ when a logic-high is to be passed forward, and its body is tied to ground. Due to source-body bias, the high level at node $X$ is degraded relative to $V_{DD}$. The node $X$ interfaces to a level-restoring receiver composed of a static complementary metal-oxide semiconductor (CMOS) inverter followed by a feedback-controlled $p$-channel metal-oxide semiconductor (PMOS) pull-up that, once the inverter switches, restores $X$ to $V_{DD}$. Let the inverter’s input switching threshold be $V_{M}$, defined by the condition that the inverter output inverts when $V_{X}$ exceeds $V_{M}$.\n\nAssume the following well-tested device behavior:\n- The NMOS threshold voltage under source-body bias $V_{SB}$ is $V_{TN}(V_{SB})=V_{TN0}+\\gamma\\left(\\sqrt{2\\phi_{F}+V_{SB}}-\\sqrt{2\\phi_{F}}\\right)$, where $V_{TN0}$ is the zero-bias NMOS threshold, $\\gamma$ is the body-effect coefficient, and $\\phi_{F}$ is the Fermi potential of the substrate.\n- When the NMOS pass device’s gate is held at $V_{DD}$ to pass a logic-high, conduction ceases as the node $X$ rises such that $V_{GS}$ equals the threshold, which yields the equilibrium relation $V_{X}=V_{DD}-V_{TN}(V_{SB}=V_{X})$.\n\nFor the level-restoring receiver to trigger and restore the logic-high, the degraded high at $X$ must satisfy $V_{X}\\geq V_{M}$. Derive a closed-form analytic expression for the minimum supply voltage $V_{DD,\\min}$ that guarantees the NMOS-pass-transistor-delivered high at $X$ achieves at least $V_{M}$, thereby causing the level-restoring inverter to switch and the PMOS restorer to engage. Express your final answer in volts as a single symbolic expression in terms of $V_{M}$, $V_{TN0}$, $\\gamma$, and $\\phi_{F}$. Do not round.",
            "solution": "The problem requires the derivation of the minimum supply voltage, $V_{DD, \\min}$, for a pass-transistor circuit to function correctly with a level-restoring receiver. The analysis begins by formalizing the conditions provided.\n\nFirst, we consider the behavior of the $n$-channel metal-oxide semiconductor (NMOS) pass transistor. It is configured to pass a high logic level. The gate is connected to the supply voltage, $V_{DD}$. The drain is connected to the high-level source, also at $V_{DD}$. The source of the transistor is connected to the node of interest, $X$, so its voltage is $V_X$. The body of the transistor is grounded, so its potential is $0$.\n\nThe transistor will pass current from drain to source as long as its gate-to-source voltage, $V_{GS}$, is greater than its threshold voltage, $V_{TN}$. The gate voltage is $V_G = V_{DD}$ and the source voltage is $V_S = V_X$. Thus, $V_{GS} = V_G - V_S = V_{DD} - V_X$. As charge flows onto node $X$, its voltage $V_X$ rises, causing $V_{GS}$ to decrease. Conduction ceases and node $X$ reaches its stable, final voltage when $V_{GS}$ drops to the threshold voltage, $V_{TN}$. This equilibrium state is described by the given relation:\n$$V_{X} = V_{DD} - V_{TN}(V_X)$$\nThe notation $V_{TN}(V_X)$ emphasizes that the threshold voltage itself depends on the source voltage $V_X$ due to the body effect.\n\nThe body effect describes the change in threshold voltage due to a non-zero source-to-body bias, $V_{SB}$. Here, the source is at potential $V_S = V_X$ and the body is at $V_B = 0$, so $V_{SB} = V_S - V_B = V_X - 0 = V_X$. The problem provides the standard model for the threshold voltage under this bias:\n$$V_{TN}(V_{SB}) = V_{TN0} + \\gamma \\left( \\sqrt{2\\phi_{F} + V_{SB}} - \\sqrt{2\\phi_{F}} \\right)$$\nwhere $V_{TN0}$ is the zero-bias threshold voltage, $\\gamma$ is the body-effect coefficient, and $2\\phi_F$ is the surface potential at strong inversion, with $\\phi_F$ being the Fermi potential of the substrate.\n\nSubstituting $V_{SB} = V_X$ into the threshold voltage equation, we get:\n$$V_{TN}(V_X) = V_{TN0} + \\gamma \\left( \\sqrt{2\\phi_{F} + V_X} - \\sqrt{2\\phi_{F}} \\right)$$\n\nNow, we substitute this expression for $V_{TN}(V_X)$ back into the equilibrium condition for the node voltage $V_X$:\n$$V_{X} = V_{DD} - \\left[ V_{TN0} + \\gamma \\left( \\sqrt{2\\phi_{F} + V_X} - \\sqrt{2\\phi_{F}} \\right) \\right]$$\nThis equation relates the steady-state passed voltage $V_X$ to the supply voltage $V_{DD}$ and the device parameters.\n\nThe problem states that for the level-restoring receiver to trigger, the voltage at node $X$ must be at least the inverter's switching threshold, $V_M$. This condition is expressed as:\n$$V_{X} \\geq V_{M}$$\n\nWe are seeking the minimum supply voltage, $V_{DD, \\min}$, that satisfies this condition. The minimum voltage corresponds to the limiting case where the passed voltage $V_X$ is exactly equal to the required minimum value, $V_M$. By setting $V_X = V_M$ and correspondingly $V_{DD} = V_{DD, \\min}$, we can solve for the required supply voltage.\n\nSubstituting $V_X = V_M$ into the governing equation:\n$$V_{M} = V_{DD, \\min} - \\left[ V_{TN0} + \\gamma \\left( \\sqrt{2\\phi_{F} + V_M} - \\sqrt{2\\phi_{F}} \\right) \\right]$$\n\nTo find the expression for $V_{DD, \\min}$, we rearrange the equation by isolating $V_{DD, \\min}$ on one side:\n$$V_{DD, \\min} = V_M + V_{TN0} + \\gamma \\left( \\sqrt{2\\phi_{F} + V_M} - \\sqrt{2\\phi_{F}} \\right)$$\n\nThis is the final, closed-form analytic expression for the minimum required supply voltage. It is expressed solely in terms of the given parameters: the inverter switching threshold $V_M$, the zero-bias NMOS threshold $V_{TN0}$, the body-effect coefficient $\\gamma$, and the Fermi potential $\\phi_F$. All terms in the expression have units of volts, ensuring dimensional consistency.",
            "answer": "$$\\boxed{V_{M} + V_{TN0} + \\gamma \\left( \\sqrt{2\\phi_{F} + V_{M}} - \\sqrt{2\\phi_{F}} \\right)}$$"
        },
        {
            "introduction": "After ensuring a circuit functions correctly from a static voltage perspective, the next critical consideration is its speed. This practice moves beyond static analysis to explore dynamic performance optimization by introducing the Elmore delay model to estimate signal propagation time . You will analyze a PTL chain and determine the optimal placement of a superior transmission gate (TG) to minimize delay, a common task that illustrates the trade-offs between device selection and circuit performance.",
            "id": "4287947",
            "problem": "Consider a directed acyclic graph representation of a one-bit data path in Pass-Transistor Logic (PTL), reduced along its sensitized path to three serial edges from a source node to the output. Each edge is a controlled pass element that, when enabled, conducts. A functional-preserving graph transformation allows assigning exactly one of the three edges to be a complementary transmission gate (TG), while the remaining two edges are implemented as single n-channel metal-oxide-semiconductor (NMOS) pass transistors. This transformation does not alter the Boolean function realized along the path but changes the resistive-capacitive profile that governs dynamic delay. Assume the following physically consistent conditions:\n\n- When enabled, each NMOS pass device is modeled as a linear resistor of value $R_{n}$ and passes a static logic-high level limited to $V_{DD} - V_{Tn}$, where $V_{DD}$ is the supply and $V_{Tn}$ is the NMOS threshold voltage.\n- When enabled, the TG is modeled as a linear resistor of value $R_{tg}$ and passes both logic-low and logic-high without static level loss.\n- The three enabled edges are in series from the source node to the output node, passing a rising step from the source to the output at time $t=0$. Let the left-to-right series ordering define resistors $R_{1}$, $R_{2}$, $R_{3}$ for the first, second, and third edge, respectively, depending on where the TG is placed.\n- There are shunt capacitors to ground at the intermediate internal nodes between the series edges and at the output: the first internal node has capacitance $C$, the second internal node has capacitance $C$, and the output node has load capacitance $C_{L}$. The source node is driven by an ideal voltage source with zero source resistance.\n\nYou are given the numerical values $V_{DD} = 1.0\\,\\mathrm{V}$, $V_{Tn} = 0.35\\,\\mathrm{V}$, $R_{n} = 8.0 \\times 10^{3}\\,\\Omega$, $R_{tg} = 4.0 \\times 10^{3}\\,\\Omega$, $C = 2.0 \\times 10^{-15}\\,\\mathrm{F}$, and $C_{L} = 6.0 \\times 10^{-15}\\,\\mathrm{F}$. A design constraint requires that the steady-state high level at the output be at least $V_{\\min} = 0.60\\,\\mathrm{V}$. You may choose the TG’s position to be the first, second, or third edge in the chain, with the other two edges being NMOS pass devices.\n\nStarting from the linear resistor-capacitor network interpretation and the switch-level static behavior of NMOS and TG devices, determine which TG placement minimizes the output’s first-moment delay (Elmore delay) while satisfying the steady-state high-level constraint. Compute the minimum achievable first-moment delay as a single real number in picoseconds. Round your answer to four significant figures and express it in picoseconds.",
            "solution": "We begin from the first-principles models appropriate for pass-transistor and transmission-gate logic. An enabled NMOS pass device that attempts to pass a logic-high charges its downstream node until the gate-to-source voltage equals the NMOS threshold, so the asymptotic high level at that node is $V_{DD} - V_{Tn}$. An enabled complementary transmission gate (TG), formed by parallel NMOS and p-channel metal-oxide-semiconductor (PMOS) devices with complementary gate drives, passes both logic levels without static loss. For dynamics, we use the linear resistive-capacitive (RC) model: each enabled switch is a resistor and each node has a shunt capacitance. The source is ideal ($0\\,\\Omega$) and drives a rising step at $t=0$.\n\nFirst, we check the steady-state high-level constraint. If any enabled NMOS pass transistor lies on the path between the source at $V_{DD}$ and the output node, the highest achievable static level at and beyond the source-side of the last such NMOS is $V_{DD} - V_{Tn}$. With exactly one TG and two NMOS in series on the path, there is at least one NMOS in the conducting chain, hence the maximum steady-state high at the output is\n$$\nV_{\\text{out,high}} = V_{DD} - V_{Tn} = 1.0 - 0.35 = 0.65\\,\\mathrm{V}.\n$$\nSince $0.65\\,\\mathrm{V} \\geq V_{\\min} = 0.60\\,\\mathrm{V}$, the steady-state constraint is satisfied for any TG placement.\n\nNext, to compare dynamic delays across TG placements, we model the enabled series chain as resistors $R_{1}$, $R_{2}$, and $R_{3}$ from source to output, with shunt capacitors $C$ at the first internal node, $C$ at the second internal node, and $C_{L}$ at the output. For a step input at the source of a tree-structured RC network, the first moment of the output step response (the Elmore delay) can be derived from linear system theory by noting that the first moment of the impulse response equals the sum over capacitors of the resistance from the source to each capacitor multiplied by that capacitor. In a simple series ladder, this yields\n$$\nt_{d} = R_{1} C + \\left(R_{1} + R_{2}\\right) C + \\left(R_{1} + R_{2} + R_{3}\\right) C_{L}.\n$$\nWe evaluate $t_{d}$ for the three possible TG placements.\n\n- TG as the first edge: $R_{1} = R_{tg}$, $R_{2} = R_{n}$, $R_{3} = R_{n}$. Then\n$$\nt_{1} = R_{tg} C + \\left(R_{tg} + R_{n}\\right) C + \\left(R_{tg} + 2 R_{n}\\right) C_{L}.\n$$\n\n- TG as the second edge: $R_{1} = R_{n}$, $R_{2} = R_{tg}$, $R_{3} = R_{n}$. Then\n$$\nt_{2} = R_{n} C + \\left(R_{n} + R_{tg}\\right) C + \\left(2 R_{n} + R_{tg}\\right) C_{L}.\n$$\n\n- TG as the third edge: $R_{1} = R_{n}$, $R_{2} = R_{n}$, $R_{3} = R_{tg}$. Then\n$$\nt_{3} = R_{n} C + \\left(2 R_{n}\\right) C + \\left(2 R_{n} + R_{tg}\\right) C_{L}.\n$$\n\nWe compare symbolically using $R_{tg}  R_{n}$. The last terms in $t_{1}$ and $t_{2}$ are both $\\left(2 R_{n} + R_{tg}\\right) C_{L}$, while the first two terms differ by replacing one instance of $R_{n} C$ with $R_{tg} C$, hence $t_{1}  t_{2}$. Comparing $t_{2}$ to $t_{3}$, the last terms are equal and the second term in $t_{2}$ is $\\left(R_{n} + R_{tg}\\right) C$ which is smaller than $\\left(2 R_{n}\\right) C$, thus $t_{2}  t_{3}$. Therefore, the minimum delay is achieved when the TG is placed as the first edge.\n\nWe now compute the numerical value for $t_{1}$ using $R_{n} = 8.0 \\times 10^{3}\\,\\Omega$, $R_{tg} = 4.0 \\times 10^{3}\\,\\Omega$, $C = 2.0 \\times 10^{-15}\\,\\mathrm{F}$, and $C_{L} = 6.0 \\times 10^{-15}\\,\\mathrm{F}$:\n\n$$\n\\begin{aligned}\nt_{1} = R_{tg} C + \\left(R_{tg} + R_{n}\\right) C + \\left(R_{tg} + 2 R_{n}\\right) C_{L} \\\\\n= \\left(4.0 \\times 10^{3}\\right)\\left(2.0 \\times 10^{-15}\\right) + \\left(4.0 \\times 10^{3} + 8.0 \\times 10^{3}\\right)\\left(2.0 \\times 10^{-15}\\right) \\\\\n\\quad + \\left(4.0 \\times 10^{3} + 2 \\cdot 8.0 \\times 10^{3}\\right)\\left(6.0 \\times 10^{-15}\\right) \\\\\n= 8.0 \\times 10^{-12} + 24.0 \\times 10^{-12} + 120.0 \\times 10^{-12}\\ \\mathrm{s} \\\\\n= 152.0 \\times 10^{-12}\\ \\mathrm{s}.\n\\end{aligned}\n$$\n\nExpressed in picoseconds, this is $152.0\\,\\mathrm{ps}$. Rounded to four significant figures as required, the minimum achievable first-moment delay is $152.0\\,\\mathrm{ps}$. Because $V_{\\text{out,high}} = 0.65\\,\\mathrm{V} \\geq 0.60\\,\\mathrm{V}$, the steady-state high-level constraint is satisfied by this placement.",
            "answer": "$$\\boxed{152.0}$$"
        },
        {
            "introduction": "Idealized, deterministic models provide essential insights but do not capture the full reality of modern semiconductor manufacturing. This advanced practice introduces the crucial concept of process variation and its impact on circuit reliability, moving from a deterministic to a statistical mindset . By implementing a Monte Carlo simulation, you will estimate the design yield—the probability of a circuit functioning correctly—providing hands-on experience with an indispensable technique used in modern electronic design automation (EDA) to create robust systems.",
            "id": "4287967",
            "problem": "Consider the statistical robustness of logic-level transfer in Complementary Metal-Oxide-Semiconductor (CMOS) pass-transistor logic (PTL) and transmission-gate (TG) interconnects under process variation. You will design a Monte Carlo program that estimates the probability that a driven node meets given logic-level constraints when driven through either a single n-channel metal-oxide-semiconductor field-effect transistor (NMOS) pass transistor or a full transmission gate.\n\nUse only the following foundational laws and well-tested relations as your modeling base:\n- Ohm’s law and series/parallel resistive combinations.\n- The long-channel body-effect relation for NMOS threshold voltage: $$V_{tn}(V_{SB}) = V_{tn0} + \\gamma\\left(\\sqrt{2\\phi_F + V_{SB}} - \\sqrt{2\\phi_F}\\right),$$ where $V_{tn0}$ is the zero-bias threshold voltage, $\\gamma$ is the body-effect parameter, and $\\phi_F$ is the Fermi potential. Assume the NMOS body is tied to ground so that $V_{SB} = V_{out}$ when passing a logic high.\n- For the single NMOS pass device when passing a logic high, the source-follower limit is reached when $$V_{out} = V_{DD} - V_{tn}(V_{out}),$$ which you must enforce in addition to any resistive loading. For passing a logic low through a single NMOS, no threshold drop limit applies.\n- For a transmission gate composed of parallel NMOS and p-channel metal-oxide-semiconductor field-effect transistor (PMOS), neglect threshold-drop limitations; model only its finite on-resistance as the parallel combination of the NMOS and PMOS on-resistances.\n\nModel the driven node as a purely resistive load to one of the supplies, yielding a static voltage division between the driver’s finite on-resistance and the load. Let $R_{on,n}$ denote the NMOS on-resistance, $R_{on,p}$ the PMOS on-resistance, and $R_{eff}$ the effective on-resistance of a transmission gate in the on state, given by $$R_{eff} = \\left(\\frac{1}{R_{on,n}} + \\frac{1}{R_{on,p}}\\right)^{-1}.$$\n\nStatistical variation model:\n- Treat each resistance and each threshold parameter as an independent Gaussian (normal) random variable with given mean and standard deviation, truncated to strictly positive support for resistances by resampling until a strictly positive value is obtained.\n- Use a fixed random seed $12345$ to ensure reproducibility.\n- For any sampled non-physical resistance (non-positive), resample until a positive draw is obtained. For any sampled threshold parameter, use the raw Gaussian draw without truncation.\n\nMonte Carlo logic-level evaluation per trial:\n- For a single NMOS passing a logic high into a resistive load to ground of value $R_L$ at supply $V_{DD}$ with input $V_{in} = V_{DD}$:\n  1. Sample $V_{tn0}$ and $R_{on,n}$.\n  2. Compute the body-effect-limited $V_{out}$ as the physically valid solution to $$V_{out} = V_{DD} - \\left(V_{tn0} + \\gamma\\left(\\sqrt{2\\phi_F + V_{out}} - \\sqrt{2\\phi_F}\\right)\\right),$$ with $V_{out}$ constrained to the interval $[0, V_{DD}]$.\n  3. Compute the resistive-divider $V_{out}$ as $$V_{out,div} = V_{DD}\\cdot \\frac{R_L}{R_{on,n} + R_L}.$$\n  4. The static $V_{out}$ is the minimum of the body-effect-limited value and the resistive-divider value.\n- For a single NMOS passing a logic low into a resistive load to $V_{DD}$ of value $R_U$ with input $V_{in} = 0$:\n  1. Sample $R_{on,n}$.\n  2. Compute $$V_{out} = V_{DD}\\cdot \\frac{R_{on,n}}{R_{on,n} + R_U}.$$\n- For a transmission gate passing a logic high into a resistive load to ground:\n  1. Sample $R_{on,n}$ and $R_{on,p}$, compute $R_{eff}$.\n  2. Compute $$V_{out} = V_{DD}\\cdot \\frac{R_L}{R_{eff} + R_L}.$$\n- For a transmission gate passing a logic low into a resistive load to $V_{DD}$:\n  1. Sample $R_{on,n}$ and $R_{on,p}$, compute $R_{eff}$.\n  2. Compute $$V_{out} = V_{DD}\\cdot \\frac{R_{eff}}{R_{eff} + R_U}.$$\n\nFor each case below, estimate by Monte Carlo the yield, defined as the fraction of trials meeting the specified logic threshold at the receiver:\n- For logic-high checks, the criterion is $V_{out} \\ge V_{IH,min}$.\n- For logic-low checks, the criterion is $V_{out} \\le V_{IL,max}$.\n\nUnits:\n- Express voltages in $\\mathrm{V}$ and resistances in $\\mathrm{\\Omega}$. The final outputs are dimensionless Monte Carlo yields and must be expressed as decimals (not percentages).\n\nTest suite:\n- Case $1$ (single NMOS, pass-high, moderate load):\n  - $V_{DD} = 1.0\\,\\mathrm{V}$, $V_{in} = 1.0\\,\\mathrm{V}$, $V_{IH,min} = 0.5\\,\\mathrm{V}$.\n  - $V_{tn0} \\sim \\mathcal{N}(\\mu = 0.35\\,\\mathrm{V}, \\sigma = 0.03\\,\\mathrm{V})$.\n  - $\\gamma = 0.45\\,\\mathrm{V}^{1/2}$, $\\phi_F = 0.3\\,\\mathrm{V}$ so that $2\\phi_F = 0.6\\,\\mathrm{V}$.\n  - $R_{on,n} \\sim \\mathcal{N}(\\mu = 4.0\\times 10^3\\,\\mathrm{\\Omega}, \\sigma = 0.6\\times 10^3\\,\\mathrm{\\Omega})$, truncated to $R_{on,n}  0$.\n  - Load $R_L = 2.0\\times 10^4\\,\\mathrm{\\Omega}$.\n  - Monte Carlo trials $N = 100000$.\n- Case $2$ (transmission gate, pass-high, moderate load):\n  - $V_{DD} = 1.0\\,\\mathrm{V}$, $V_{in} = 1.0\\,\\mathrm{V}$, $V_{IH,min} = 0.7\\,\\mathrm{V}$.\n  - $R_{on,n} \\sim \\mathcal{N}(4.0\\times 10^3\\,\\mathrm{\\Omega}, 0.6\\times 10^3\\,\\mathrm{\\Omega})$, $R_{on,p} \\sim \\mathcal{N}(6.0\\times 10^3\\,\\mathrm{\\Omega}, 0.9\\times 10^3\\,\\mathrm{\\Omega})$, both truncated to positive.\n  - Load $R_L = 2.0\\times 10^4\\,\\mathrm{\\Omega}$.\n  - Monte Carlo trials $N = 50000$.\n- Case $3$ (single NMOS, pass-low, pull-up load):\n  - $V_{DD} = 1.0\\,\\mathrm{V}$, $V_{in} = 0\\,\\mathrm{V}$, $V_{IL,max} = 0.2\\,\\mathrm{V}$.\n  - $R_{on,n} \\sim \\mathcal{N}(4.0\\times 10^3\\,\\mathrm{\\Omega}, 0.6\\times 10^3\\,\\mathrm{\\Omega})$, truncated to positive.\n  - Load $R_U = 2.0\\times 10^4\\,\\mathrm{\\Omega}$.\n  - Monte Carlo trials $N = 50000$.\n- Case $4$ (transmission gate, pass-low, pull-up load):\n  - $V_{DD} = 1.0\\,\\mathrm{V}$, $V_{in} = 0\\,\\mathrm{V}$, $V_{IL,max} = 0.2\\,\\mathrm{V}$.\n  - $R_{on,n} \\sim \\mathcal{N}(4.0\\times 10^3\\,\\mathrm{\\Omega}, 0.6\\times 10^3\\,\\mathrm{\\Omega})$, $R_{on,p} \\sim \\mathcal{N}(6.0\\times 10^3\\,\\mathrm{\\Omega}, 0.9\\times 10^3\\,\\mathrm{\\Omega})$, both truncated to positive.\n  - Load $R_U = 2.0\\times 10^4\\,\\mathrm{\\Omega}$.\n  - Monte Carlo trials $N = 50000$.\n- Case $5$ (single NMOS, pass-high, near-threshold boundary, very light load):\n  - $V_{DD} = 1.0\\,\\mathrm{V}$, $V_{in} = 1.0\\,\\mathrm{V}$, $V_{IH,min} = 0.525\\,\\mathrm{V}$.\n  - $V_{tn0} \\sim \\mathcal{N}(0.35\\,\\mathrm{V}, 0.03\\,\\mathrm{V})$.\n  - $\\gamma = 0.45\\,\\mathrm{V}^{1/2}$, $\\phi_F = 0.3\\,\\mathrm{V}$.\n  - $R_{on,n} \\sim \\mathcal{N}(4.0\\times 10^3\\,\\mathrm{\\Omega}, 0.6\\times 10^3\\,\\mathrm{\\Omega})$, truncated to positive.\n  - Load $R_L = 1.0\\times 10^9\\,\\mathrm{\\Omega}$.\n  - Monte Carlo trials $N = 20000$.\n\nImplementation requirements:\n- Use random seed $12345$.\n- For each case, compute the Monte Carlo yield as a decimal in $[0,1]$.\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., $[r_1,r_2,r_3,r_4,r_5]$) in the order of Cases $1$ through $5$.\n- The program must be self-contained and must not read any input nor write any files.",
            "solution": "The problem requires the design of a Monte Carlo simulation to estimate the yield of pass-transistor logic (PTL) and transmission-gate (TG) interconnects. The yield is defined as the probability that the output voltage of a driven node satisfies a specified logic-level requirement ($V_{out} \\ge V_{IH,min}$ for logic high, $V_{out} \\le V_{IL,max}$ for logic low) in the presence of statistical process variations. The analysis will be performed for four distinct scenarios: an n-channel metal-oxide-semiconductor (NMOS) pass transistor passing a logic high and low, and a complementary metal-oxide-semiconductor (CMOS) transmission gate under the same conditions.\n\nThe solution is developed by adhering strictly to the provided physical models and statistical methods. The core of the methodology is a numerical simulation that evaluates circuit performance over a large number of trials, where device parameters are treated as random variables.\n\nFirst, we establish the modeling framework. The behavior of the interconnects is modeled using fundamental circuit principles. The driven node is represented as a static voltage divider formed by the pass device's effective on-resistance and a resistive load. For the single NMOS passing a logic high, there is an additional critical constraint: the output voltage cannot exceed the gate voltage minus the threshold voltage. This phenomenon, known as a threshold drop, is exacerbated by the body effect, where the NMOS threshold voltage $V_{tn}$ increases as its source-to-body voltage $V_{SB}$ rises. The problem provides the long-channel model for this effect:\n$$V_{tn}(V_{SB}) = V_{tn0} + \\gamma\\left(\\sqrt{2\\phi_F + V_{SB}} - \\sqrt{2\\phi_F}\\right)$$\nWhen passing a logic high from an input $V_{in} = V_{DD}$, the NMOS source terminal is the output node, so $V_{SB} = V_{out}$. The source-follower limit is thus defined by the implicit equation:\n$$V_{out} = V_{DD} - V_{tn}(V_{out})$$\nFor the transmission gate, which consists of an NMOS and a p-channel metal-oxide-semiconductor (PMOS) in parallel, this threshold-drop limitation is considered negligible. Its behavior is modeled solely by an effective on-resistance $R_{eff}$, calculated as the parallel combination of the individual transistor on-resistances, $R_{on,n}$ and $R_{on,p}$:\n$$R_{eff} = \\left(\\frac{1}{R_{on,n}} + \\frac{1}{R_{on,p}}\\right)^{-1}$$\n\nProcess variations are introduced by modeling the zero-bias threshold voltage $V_{tn0}$ and the on-resistances $R_{on,n}$ and $R_{on,p}$ as independent Gaussian random variables with specified means ($\\mu$) and standard deviations ($\\sigma$). A crucial detail is the enforcement of physical constraints: any sampled resistance value must be strictly positive. This is achieved by resampling the random variable until a positive value is obtained. The random number generator is seeded with a fixed value of $12345$ to ensure the reproducibility of results.\n\nThe simulation algorithm proceeds by iterating through a large number of trials ($N$) for each of the five specified cases. In each trial, we perform the following steps:\n$1$. Sample random values for the varying device parameters ($V_{tn0}$, $R_{on,n}$, $R_{on,p}$) from their respective distributions.\n$2$. Calculate the steady-state output voltage $V_{out}$ according to the specific circuit configuration.\n\nFor a single NMOS passing a logic high (Cases $1$ and $5$), two potential limits on $V_{out}$ are calculated. The first is the resistive-divider voltage, $V_{out,div}$, determined by the ratio of the load resistance $R_L$ to the total series resistance:\n$$V_{out,div} = V_{DD} \\cdot \\frac{R_L}{R_{on,n} + R_L}$$\nThe second is the body-effect-limited voltage, $V_{out,BE}$, which is the solution to the transcendental equation $V_{out} = V_{DD} - V_{tn}(V_{out})$. This equation does not have a closed-form solution and must be solved numerically. We define a function $f(V_{out}) = V_{out} - V_{DD} + V_{tn}(V_{out})$ and find its root within the physically meaningful interval $[0, V_{DD}]$. A robust numerical method like the Brent-Dekker method is employed for this purpose. The final output voltage $V_{out}$ is the more stringent of these two limits:\n$$V_{out} = \\min(V_{out,BE}, V_{out,div})$$\n\nFor a single NMOS passing a logic low (Case $3$), there is no threshold drop. The circuit is a simple voltage divider between the pull-up resistor $R_U$ and the NMOS on-resistance $R_{on,n}$:\n$$V_{out} = V_{DD} \\cdot \\frac{R_{on,n}}{R_{on,n} + R_U}$$\n\nFor a transmission gate (Cases $2$ and $4$), the calculation is also a straightforward resistive divider, using the effective resistance $R_{eff}$. For passing a logic high with a pull-down load $R_L$:\n$$V_{out} = V_{DD} \\cdot \\frac{R_L}{R_{eff} + R_L}$$\nFor passing a logic low with a pull-up load $R_U$:\n$$V_{out} = V_{DD} \\cdot \\frac{R_{eff}}{R_{eff} + R_U}$$\n\n$3$. In each trial, the calculated $V_{out}$ is compared against the specified logic-level requirement ($V_{IH,min}$ or $V_{IL,max}$). A counter for successful trials is incremented if the condition is met.\n$4$. After all $N$ trials are completed, the yield for the case is computed as the total number of successful trials divided by $N$.\n\nThis procedure is repeated for all five test cases, and the resulting yields are collected. The implementation leverages the `numpy` library for efficient, vectorized calculations and statistical sampling, and the `scipy.optimize.brentq` function for the required numerical root-finding.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.optimize import brentq\n\ndef solve():\n    \"\"\"\n    Performs a Monte Carlo simulation to estimate the yield of pass-transistor\n    and transmission-gate logic circuits under process variation.\n    \"\"\"\n    seed = 12345\n    rng = np.random.default_rng(seed)\n\n    def sample_truncated_normal(mu, sigma, num_samples, rng_instance):\n        \"\"\"\n        Samples from a normal distribution, resampling any non-positive values.\n        This function is vectorized for efficiency.\n        \"\"\"\n        samples = rng_instance.normal(mu, sigma, num_samples)\n        if num_samples == 1:\n            while samples = 0:\n                samples = rng_instance.normal(mu, sigma, 1)\n            return samples\n\n        while np.any(samples = 0):\n            mask = samples = 0\n            num_to_resample = np.sum(mask)\n            samples[mask] = rng_instance.normal(mu, sigma, num_to_resample)\n        return samples\n\n    def solve_vout_body_effect(V_dd, V_tn0, gamma, two_phi_F):\n        \"\"\"\n        Solves for the body-effect-limited output voltage for an NMOS pass transistor.\n        V_out = V_dd - V_tn(V_out)\n        \"\"\"\n        # If the gate-source voltage at V_out=0 is less than threshold, transistor\n        # is off, and output is pulled to 0 by the load resistor.\n        if V_dd = V_tn0:\n            return 0.0\n\n        def f(v_out, v_tn0_sample):\n            # We must ensure the argument to sqrt is non-negative.\n            # Since v_out is bracketed in [0, V_dd], this is guaranteed.\n            v_sb = v_out\n            v_tn_with_body_effect = v_tn0_sample + gamma * (np.sqrt(two_phi_F + v_sb) - np.sqrt(two_phi_F))\n            return v_out - (V_dd - v_tn_with_body_effect)\n\n        try:\n            # f(0) = -(V_dd - V_tn0)  0\n            # f(V_dd) = V_dd - (V_dd - Vtn(Vdd)) = Vtn(Vdd)  0\n            # A root is guaranteed in [0, V_dd] if V_dd  V_tn0.\n            root = brentq(f, 0, V_dd, args=(V_tn0,))\n            return root\n        except ValueError:\n            # This can happen if f(0) and f(V_dd) have the same sign, which\n            # occurs if V_dd = V_tn0. Handled by the initial check.\n            return 0.0\n\n    def run_case_1(params, rng_instance):\n        V_dd, V_ih_min, V_tn0_mu, V_tn0_sigma, gamma, two_phi_F, R_onn_mu, R_onn_sigma, R_l, N = params\n        \n        V_tn0_samples = rng_instance.normal(V_tn0_mu, V_tn0_sigma, N)\n        R_onn_samples = sample_truncated_normal(R_onn_mu, R_onn_sigma, N, rng_instance)\n\n        v_out_be_limited = np.array([solve_vout_body_effect(V_dd, v_tn0, gamma, two_phi_F) for v_tn0 in V_tn0_samples])\n        v_out_div = V_dd * R_l / (R_onn_samples + R_l)\n        v_out_final = np.minimum(v_out_be_limited, v_out_div)\n        \n        success_count = np.sum(v_out_final = V_ih_min)\n        return success_count / N\n\n    def run_case_2(params, rng_instance):\n        V_dd, V_ih_min, R_onn_mu, R_onn_sigma, R_onp_mu, R_onp_sigma, R_l, N = params\n        \n        R_onn_samples = sample_truncated_normal(R_onn_mu, R_onn_sigma, N, rng_instance)\n        R_onp_samples = sample_truncated_normal(R_onp_mu, R_onp_sigma, N, rng_instance)\n        \n        R_eff = 1.0 / (1.0 / R_onn_samples + 1.0 / R_onp_samples)\n        v_out = V_dd * R_l / (R_eff + R_l)\n        \n        success_count = np.sum(v_out = V_ih_min)\n        return success_count / N\n\n    def run_case_3(params, rng_instance):\n        V_dd, V_il_max, R_onn_mu, R_onn_sigma, R_u, N = params\n        \n        R_onn_samples = sample_truncated_normal(R_onn_mu, R_onn_sigma, N, rng_instance)\n        v_out = V_dd * R_onn_samples / (R_onn_samples + R_u)\n        \n        success_count = np.sum(v_out = V_il_max)\n        return success_count / N\n\n    def run_case_4(params, rng_instance):\n        V_dd, V_il_max, R_onn_mu, R_onn_sigma, R_onp_mu, R_onp_sigma, R_u, N = params\n        \n        R_onn_samples = sample_truncated_normal(R_onn_mu, R_onn_sigma, N, rng_instance)\n        R_onp_samples = sample_truncated_normal(R_onp_mu, R_onp_sigma, N, rng_instance)\n        \n        R_eff = 1.0 / (1.0 / R_onn_samples + 1.0 / R_onp_samples)\n        v_out = V_dd * R_eff / (R_eff + R_u)\n        \n        success_count = np.sum(v_out = V_il_max)\n        return success_count / N\n\n    test_cases = [\n        # Case 1: single NMOS, pass-high, moderate load\n        {\"func\": run_case_1, \"params\": (1.0, 0.5, 0.35, 0.03, 0.45, 0.6, 4.0e3, 0.6e3, 2.0e4, 100000)},\n        # Case 2: transmission gate, pass-high, moderate load\n        {\"func\": run_case_2, \"params\": (1.0, 0.7, 4.0e3, 0.6e3, 6.0e3, 0.9e3, 2.0e4, 50000)},\n        # Case 3: single NMOS, pass-low, pull-up load\n        {\"func\": run_case_3, \"params\": (1.0, 0.2, 4.0e3, 0.6e3, 2.0e4, 50000)},\n        # Case 4: transmission gate, pass-low, pull-up load\n        {\"func\": run_case_4, \"params\": (1.0, 0.2, 4.0e3, 0.6e3, 6.0e3, 0.9e3, 2.0e4, 50000)},\n        # Case 5: single NMOS, pass-high, near-threshold boundary, very light load\n        {\"func\": run_case_1, \"params\": (1.0, 0.525, 0.35, 0.03, 0.45, 0.6, 4.0e3, 0.6e3, 1.0e9, 20000)}\n    ]\n    \n    results = []\n    for case in test_cases:\n        result = case[\"func\"](case[\"params\"], rng)\n        results.append(result)\n\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}