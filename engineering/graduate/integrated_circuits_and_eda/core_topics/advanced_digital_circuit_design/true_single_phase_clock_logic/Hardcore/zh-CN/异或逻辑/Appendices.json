{
    "hands_on_practices": [
        {
            "introduction": "此练习关注动态逻辑中的一个核心设计约束：逻辑复杂性与性能之间的权衡。通过计算串联求值堆栈中晶体管的最大数量，您将定量地理解器件电阻和负载电容如何限制 TSPC 门的运行速度。这个练习是在高速数字设计中建立时序预算的基础。",
            "id": "4306790",
            "problem": "一个采用真单相时钟（True Single-Phase Clock, TSPC）逻辑实现的流水线级，其中真单相时钟（TSPC）指的是一种动态逻辑，它使用单一全局时钟进行预充电和求值。该流水线级由一个动态预充电节点，后跟一个求值网络，再跟一个静态反相器组成，该反相器用于再生逻辑电平并为下一级提供输入。在时钟的求值窗口期间，动态节点首先被预充电至高电压，然后当适当的输入组合导通网络时，通过一个由相同的 n 沟道金属氧化物半导体场效应晶体管（nMOSFET）组成的串联网络放电。当动态节点的电压穿过其开关阈值时，反相器发生翻转，然后驱动其输出负载。\n\n假设以下器件和负载参数已知且固定，这些参数是根据预期操作条件下的工艺特性确定的：\n- 时钟周期 $T_{\\mathrm{clk}} = 500\\,\\mathrm{ps}$，占空比 $D = 0.5$，因此求值窗口为 $D\\,T_{\\mathrm{clk}}$。\n- 时钟时序裕量（包括时钟偏斜、抖动和建立时间余量）$t_{\\mathrm{m}} = 20\\,\\mathrm{ps}$，必须从求值窗口中减去。\n- 电源电压 $V_{\\mathrm{DD}} = 0.8\\,\\mathrm{V}$，反相器开关阈值 $V_{\\mathrm{M}} = \\eta\\,V_{\\mathrm{DD}}$，其中 $\\eta = 0.4$。\n- 在相关的求值条件下，串联求值堆栈中的每个 nMOSFET 表现出的有效导通电阻为 $r_{n} = 2.0\\,\\mathrm{k}\\Omega$。如果串联深度为 $k$，则下拉电阻为 $R_{\\mathrm{stack}} = k\\,r_{n}$。\n- 动态节点的总电容是导线电容 $C_{\\mathrm{wire}} = 5\\,\\mathrm{fF}$、扩散电容 $C_{\\mathrm{diff}} = 8\\,\\mathrm{fF}$ 以及下一级输入的栅极电容之和。下一级的扇出 $F = 2$，有两个相同的反相器输入，每个输入的栅极电容为 $C_{g} = 6\\,\\mathrm{fF}$，所以 $C_{\\mathrm{dyn}} = C_{\\mathrm{wire}} + C_{\\mathrm{diff}} + F\\,C_{g}$。\n- 再生反相器的上升转换（当动态节点电压降至 $V_{\\mathrm{M}}$ 以下时触发）由上拉电阻 $r_{p} = 1.5\\,\\mathrm{k}\\Omega$ 和输出负载电容 $C_{\\mathrm{out}} = 20\\,\\mathrm{fF}$ 建模。反相器的上升转换使用一阶阶跃响应延迟 $t_{\\mathrm{inv}} = 0.69\\,r_{p}\\,C_{\\mathrm{out}}$。\n\n使用线性电阻-电容放电和电平穿越的基本原理，推导最大整数串联深度 $k_{\\max}$，使得动态节点达到 $V_{\\mathrm{M}}$ 的求值时间与再生反相器的上升延迟之和，不超过可用求值时间 $D\\,T_{\\mathrm{clk}} - t_{\\mathrm{m}}$。动态节点通过电阻 $R_{\\mathrm{stack}}$ 从 $V_{\\mathrm{DD}}$ 放电至 $V_{\\mathrm{M}}$ 的过程，应通过电阻-电容网络的标准指数衰减模型进行建模。将您的最终答案表示为单个整数 $k_{\\max}$，不带单位。由于答案是整数，因此不需要四舍五入指令。",
            "solution": "该问题要求确定真单相时钟（TSPC）逻辑级中 nMOS 下拉网络的最大整数串联深度，记为 $k_{\\max}$。这是一个时序分析问题，级中关键路径的总延迟不得超过时钟周期内的可用时间。\n\n路径的总延迟 $t_{\\mathrm{delay}}$ 由两部分组成：动态节点的放电时间 $t_{\\mathrm{dyn}}$ 和随后的再生反相器的延迟 $t_{\\mathrm{inv}}$。\n$$t_{\\mathrm{delay}} = t_{\\mathrm{dyn}} + t_{\\mathrm{inv}}$$\n该总延迟必须小于或等于时钟求值窗口中的可用时间。求值窗口的持续时间为 $D\\,T_{\\mathrm{clk}}$，必须从中减去一个时序裕量 $t_{\\mathrm{m}}$。\n$$t_{\\mathrm{delay}} \\le D\\,T_{\\mathrm{clk}} - t_{\\mathrm{m}}$$\n将这些结合起来，得到基本的时序约束：\n$$t_{\\mathrm{dyn}} + t_{\\mathrm{inv}} \\le D\\,T_{\\mathrm{clk}} - t_{\\mathrm{m}}$$\n\n我们现在将推导或计算此不等式中的每一项。\n\n首先，反相器延迟 $t_{\\mathrm{inv}}$ 由问题陈述使用一阶模型给出：\n$$t_{\\mathrm{inv}} = 0.69\\,r_{p}\\,C_{\\mathrm{out}}$$\n代入给定值 $r_{p} = 1.5\\,\\mathrm{k}\\Omega$ 和 $C_{\\mathrm{out}} = 20\\,\\mathrm{fF}$：\n$$t_{\\mathrm{inv}} = 0.69 \\times (1.5\\,\\mathrm{k}\\Omega) \\times (20\\,\\mathrm{fF})$$\n单位 $1\\,\\mathrm{k}\\Omega \\times 1\\,\\mathrm{fF}$ 的乘积等于 $1\\,\\mathrm{ps}$。\n$$t_{\\mathrm{inv}} = 0.69 \\times 30\\,\\mathrm{ps} = 20.7\\,\\mathrm{ps}$$\n\n接下来，我们确定动态节点的延迟 $t_{\\mathrm{dyn}}$。这是动态节点的电压 $V_{\\mathrm{dyn}}(t)$ 从其预充电状态 $V_{\\mathrm{DD}}$ 放电到反相器开关阈值 $V_{\\mathrm{M}}$ 所需的时间。放电通过由 $k$ 个 nMOS 晶体管组成的串联堆栈进行，其总电阻为 $R_{\\mathrm{stack}} = k\\,r_{n}$。被放电的电容为 $C_{\\mathrm{dyn}}$。\n\n电容 $C_{\\mathrm{dyn}}$ 是几个部分的总和：\n$$C_{\\mathrm{dyn}} = C_{\\mathrm{wire}} + C_{\\mathrm{diff}} + F\\,C_{g}$$\n代入给定值 $C_{\\mathrm{wire}} = 5\\,\\mathrm{fF}$、$C_{\\mathrm{diff}} = 8\\,\\mathrm{fF}$、$F = 2$ 和 $C_{g} = 6\\,\\mathrm{fF}$：\n$$C_{\\mathrm{dyn}} = 5\\,\\mathrm{fF} + 8\\,\\mathrm{fF} + 2 \\times 6\\,\\mathrm{fF} = 13\\,\\mathrm{fF} + 12\\,\\mathrm{fF} = 25\\,\\mathrm{fF}$$\n\n放电电容器上的电压遵循线性 RC 电路中的标准指数衰减：\n$$V_{\\mathrm{dyn}}(t) = V_{\\mathrm{DD}} \\exp\\left(-\\frac{t}{R_{\\mathrm{stack}}C_{\\mathrm{dyn}}}\\right)$$\n我们需要找到当 $V_{\\mathrm{dyn}}(t_{\\mathrm{dyn}}) = V_{\\mathrm{M}}$ 时的时间 $t = t_{\\mathrm{dyn}}$。问题陈述中 $V_{\\mathrm{M}} = \\eta\\,V_{\\mathrm{DD}}$。\n$$\\eta\\,V_{\\mathrm{DD}} = V_{\\mathrm{DD}} \\exp\\left(-\\frac{t_{\\mathrm{dyn}}}{R_{\\mathrm{stack}}C_{\\mathrm{dyn}}}\\right)$$\n两边同除以 $V_{\\mathrm{DD}}$ 并取自然对数：\n$$\\ln(\\eta) = -\\frac{t_{\\mathrm{dyn}}}{R_{\\mathrm{stack}}C_{\\mathrm{dyn}}}$$\n求解 $t_{\\mathrm{dyn}}$ 并代入 $R_{\\mathrm{stack}} = k\\,r_{n}$：\n$$t_{\\mathrm{dyn}} = -R_{\\mathrm{stack}}C_{\\mathrm{dyn}}\\ln(\\eta) = -k\\,r_{n}\\,C_{\\mathrm{dyn}}\\ln(\\eta) = k\\,r_{n}\\,C_{\\mathrm{dyn}}\\ln\\left(\\frac{1}{\\eta}\\right)$$\n这个 $t_{\\mathrm{dyn}}$ 的表达式取决于未知的整数串联深度 $k$。\n\n现在，我们将所有的分量表达式和值代回到主时序不等式中：\n$$k\\,r_{n}\\,C_{\\mathrm{dyn}}\\ln\\left(\\frac{1}{\\eta}\\right) + t_{\\mathrm{inv}} \\le D\\,T_{\\mathrm{clk}} - t_{\\mathrm{m}}$$\n给定 $r_{n} = 2.0\\,\\mathrm{k}\\Omega$，$\\eta = 0.4$，$D = 0.5$，$T_{\\mathrm{clk}} = 500\\,\\mathrm{ps}$，以及 $t_{\\mathrm{m}} = 20\\,\\mathrm{ps}$。我们已经计算出 $C_{\\mathrm{dyn}} = 25\\,\\mathrm{fF}$ 和 $t_{\\mathrm{inv}} = 20.7\\,\\mathrm{ps}$。\n\n将这些值代入不等式：\n$$k \\times (2.0\\,\\mathrm{k}\\Omega) \\times (25\\,\\mathrm{fF}) \\times \\ln\\left(\\frac{1}{0.4}\\right) + 20.7\\,\\mathrm{ps} \\le 0.5 \\times 500\\,\\mathrm{ps} - 20\\,\\mathrm{ps}$$\n$$k \\times (50\\,\\mathrm{ps}) \\times \\ln(2.5) + 20.7\\,\\mathrm{ps} \\le 250\\,\\mathrm{ps} - 20\\,\\mathrm{ps}$$\n$$k \\times (50\\,\\mathrm{ps}) \\times \\ln(2.5) \\le 230\\,\\mathrm{ps} - 20.7\\,\\mathrm{ps}$$\n$$k \\times (50\\,\\mathrm{ps}) \\times \\ln(2.5) \\le 209.3\\,\\mathrm{ps}$$\n现在，我们求解 $k$：\n$$k \\le \\frac{209.3\\,\\mathrm{ps}}{50\\,\\mathrm{ps} \\times \\ln(2.5)}$$\n单位皮秒（ps）如预期一样被消掉。\n$$k \\le \\frac{209.3}{50 \\times \\ln(2.5)}$$\n使用 $\\ln(2.5) \\approx 0.91629$：\n$$k \\le \\frac{209.3}{50 \\times 0.91629} \\approx \\frac{209.3}{45.8145}$$\n$$k \\le 4.5683...$$\n由于串联深度 $k$ 必须是整数，因此它在满足此不等式的情况下可以取的最大值是此结果的向下取整。\n$$k_{\\max} = \\lfloor 4.5683... \\rfloor = 4$$\n因此，最大整数串联深度为 4。",
            "answer": "$$\\boxed{4}$$"
        },
        {
            "introduction": "虽然求值路径决定了主要速度，但实际的动态门需要一个“维持器”（keeper）电路来防止泄漏并保持状态。这个练习探讨了这种设计选择中固有的权衡，即维持器的稳定电流与求值电流相互竞争。您将推导并量化这种竞争如何增加门延迟，这是性能优化中的一个关键因素。",
            "id": "4306774",
            "problem": "在互补金属氧化物半导体（CMOS）技术中，一种真正的单相时钟（TSPC）动态逻辑门使用单个全局时钟在预充电和求值之间交替。在求值期间，一个弱维持器器件（weak keeper device）可维持动态节点以抵抗泄漏，但同时也与求值网络竞争，产生一个反向电流，这会减慢动态节点的放电速度，并增加电源的能耗。考虑一个 TSPC 门，其动态存储节点被建模为一个值为 $C_{\\mathrm{dyn}}$ 的电容器，由一个提供标称放电电流 $I_{\\mathrm{eval}}$ 的求值网络驱动，并受到一个向同一节点源入电流 $I_{\\mathrm{keeper}}$ 的维持器器件的抵抗。假设 $I_{\\mathrm{eval}}$ 和 $I_{\\mathrm{keeper}}$ 在相关电压范围内近似恒定，节点所见的负载是纯电容性的，并已包含在 $C_{\\mathrm{dyn}}$ 中，并且检测该节点的反相器的开关阈值为 $V_{\\mathrm{M}}$。该节点在 $V_{\\mathrm{dd}}$ 处开始求值，并且必须经过一个电压区间 $\\Delta V = V_{\\mathrm{dd}} - V_{\\mathrm{M}}$ 才能实现有效的逻辑转换。\n\n从基尔霍夫电流定律和电容器的电流-电压关系出发，推导一个受竞争限制的求值时间 $\\Delta t$ 的表达式，该时间是节点在反向维持器电流作用下经过 $\\Delta V$ 所需的时间。然后，使用推导出的表达式，为以下参数计算 $\\Delta t$：$V_{\\mathrm{dd}} = 0.80\\,\\mathrm{V}$，$V_{\\mathrm{M}} = 0.32\\,\\mathrm{V}$，$C_{\\mathrm{dyn}} = 3.18\\,\\mathrm{fF}$，$I_{\\mathrm{eval}} = 62\\,\\mu\\mathrm{A}$，以及 $I_{\\mathrm{keeper}} = 13\\,\\mu\\mathrm{A}$。将您的答案四舍五入到四位有效数字，并以皮秒为单位表示最终延迟。\n\n在您的推导中，简要定性地说明维持器竞争如何影响 TSPC 门中的延迟和动态功耗，但最终答案只提供计算出的求值时间。",
            "solution": "所述问题具有科学依据，提法明确，并包含足够的信息以得出唯一解。它描述了一个标准但简化的真正单相时钟（TSPC）动态逻辑门模型，这是数字集成电路设计中的一个基本课题。所有给定参数在物理上都是现实的。因此，我们可以进行正式求解。\n\n首先，我们讨论维持器竞争的定性影响。在 TSPC 动态逻辑门中，求值阶段涉及通过一个下拉晶体管网络（求值网络）对动态节点（由电容器 $C_{\\mathrm{dyn}}$ 代表）进行放电。一个弱维持器器件（通常是一个 PMOS 晶体管）被用来在求值网络关闭时抵消由泄漏电流引起的电荷损失，从而保持逻辑状态。然而，在活动求值期间，这个维持器保持微弱导通，从电源 $V_{\\mathrm{dd}}$ 向动态节点源入一个小电流 $I_{\\mathrm{keeper}}$。\n\n这个维持器电流有两个主要后果：\n1.  **增加延迟**：维持器电流 $I_{\\mathrm{keeper}}$ 直接与求值网络提供的放电电流 $I_{\\mathrm{eval}}$ 相反。用于对电容器 $C_{\\mathrm{dyn}}$ 放电的净电流减少为 $I_{\\mathrm{net}} = I_{\\mathrm{eval}} - I_{\\mathrm{keeper}}$。根据基本电容关系式 $I = C \\frac{dV}{dt}$，较小的净电流意味着电压变化率 $\\frac{dV}{dt}$ 较低。因此，节点电压下降所需量 $\\Delta V$ 需要更长的时间 $\\Delta t$，导致门的求值延迟增加。\n2.  **增加动态功耗**：在求值期间，当求值网络和维持器器件都处于活动状态时，会形成一条从电源 $V_{\\mathrm{dd}}$ 经过维持器和求值网络到地的直接通路。流经该通路的电流是 $I_{\\mathrm{keeper}}$。这是一种短路电流，其耗散的功率由 $P_{\\mathrm{sc}} = V_{\\mathrm{dd}} I_{\\mathrm{keeper}}$ 给出。这种功耗在整个求值期间 $\\Delta t$ 内发生，为每个开关周期的总动态能耗增加了一个额外的能量分量 $E_{\\mathrm{sc}} = V_{\\mathrm{dd}} I_{\\mathrm{keeper}} \\Delta t$。\n\n现在，我们来推导求值时间 $\\Delta t$ 的表达式。设 $v_o(t)$ 为动态节点上的电压。根据基尔霍夫电流定律（KCL）应用于动态节点，离开该节点的电流总和必须为零。通过电容器离开节点的电流是 $I_C$。求值网络从节点吸收电流 $I_{\\mathrm{eval}}$（离开的电流），而维持器向节点源入电流 $I_{\\mathrm{keeper}}$（进入的电流）。\n\n我们可以将离开节点的电流的 KCL 方程写为：\n$$I_C + I_{\\mathrm{eval}} - I_{\\mathrm{keeper}} = 0$$\n电容器的电流-电压关系是 $I_C = C_{\\mathrm{dyn}} \\frac{dv_o(t)}{dt}$。将此代入 KCL 方程，得到：\n$$C_{\\mathrm{dyn}} \\frac{dv_o(t)}{dt} + I_{\\mathrm{eval}} - I_{\\mathrm{keeper}} = 0$$\n重新整理以求电压变化率，我们得到：\n$$\\frac{dv_o(t)}{dt} = \\frac{I_{\\mathrm{keeper}} - I_{\\mathrm{eval}}}{C_{\\mathrm{dyn}}}$$\n为了求出电压从初始值 $v_o(0) = V_{\\mathrm{dd}}$ 变化到最终开关阈值 $v_o(\\Delta t) = V_{\\mathrm{M}}$ 所需的总时间 $\\Delta t$，我们分离变量并进行积分。问题假设 $I_{\\mathrm{eval}}$ 和 $I_{\\mathrm{keeper}}$ 在此电压范围内是恒定的。\n$$\\int_{V_{\\mathrm{dd}}}^{V_{\\mathrm{M}}} dv_o = \\int_{0}^{\\Delta t} \\frac{I_{\\mathrm{keeper}} - I_{\\mathrm{eval}}}{C_{\\mathrm{dyn}}} dt$$\n进行积分，得到：\n$$V_{\\mathrm{M}} - V_{\\mathrm{dd}} = \\left( \\frac{I_{\\mathrm{keeper}} - I_{\\mathrm{eval}}}{C_{\\mathrm{dyn}}} \\right) \\Delta t$$\n问题将所需的电压变化定义为 $\\Delta V = V_{\\mathrm{dd}} - V_{\\mathrm{M}}$，因此 $V_{\\mathrm{M}} - V_{\\mathrm{dd}} = -\\Delta V$。代入此式：\n$$-\\Delta V = \\left( \\frac{I_{\\mathrm{keeper}} - I_{\\mathrm{eval}}}{C_{\\mathrm{dyn}}} \\right) \\Delta t$$\n最后，我们求解求值时间 $\\Delta t$：\n$$\\Delta t = \\frac{-C_{\\mathrm{dyn}} \\Delta V}{I_{\\mathrm{keeper}} - I_{\\mathrm{eval}}} = \\frac{C_{\\mathrm{dyn}} \\Delta V}{I_{\\mathrm{eval}} - I_{\\mathrm{keeper}}}$$\n这就是受竞争限制的求值时间的所需表达式。\n\n接下来，我们使用提供的参数计算 $\\Delta t$ 的数值：\n$V_{\\mathrm{dd}} = 0.80\\,\\mathrm{V}$\n$V_{\\mathrm{M}} = 0.32\\,\\mathrm{V}$\n$C_{\\mathrm{dyn}} = 3.18\\,\\mathrm{fF} = 3.18 \\times 10^{-15}\\,\\mathrm{F}$\n$I_{\\mathrm{eval}} = 62\\,\\mu\\mathrm{A} = 62 \\times 10^{-6}\\,\\mathrm{A}$\n$I_{\\mathrm{keeper}} = 13\\,\\mu\\mathrm{A} = 13 \\times 10^{-6}\\,\\mathrm{A}$\n\n首先，我们计算电压摆幅 $\\Delta V$：\n$$\\Delta V = V_{\\mathrm{dd}} - V_{\\mathrm{M}} = 0.80\\,\\mathrm{V} - 0.32\\,\\mathrm{V} = 0.48\\,\\mathrm{V}$$\n接下来，我们计算净放电电流，即求值电流与反向维持器电流之差：\n$$I_{\\mathrm{net}} = I_{\\mathrm{eval}} - I_{\\mathrm{keeper}} = 62 \\times 10^{-6}\\,\\mathrm{A} - 13 \\times 10^{-6}\\,\\mathrm{A} = 49 \\times 10^{-6}\\,\\mathrm{A}$$\n现在，我们将这些值代入我们推导出的 $\\Delta t$ 表达式中：\n$$\\Delta t = \\frac{C_{\\mathrm{dyn}} \\Delta V}{I_{\\mathrm{eval}} - I_{\\mathrm{keeper}}} = \\frac{(3.18 \\times 10^{-15}\\,\\mathrm{F}) \\times (0.48\\,\\mathrm{V})}{49 \\times 10^{-6}\\,\\mathrm{A}}$$\n计算结果：\n$$\\Delta t = \\frac{1.5264 \\times 10^{-15}}{49 \\times 10^{-6}} \\,\\mathrm{s} \\approx 0.03115102 \\times 10^{-9} \\,\\mathrm{s}$$\n问题要求答案以皮秒（$1\\,\\mathrm{ps} = 10^{-12}\\,\\mathrm{s}$）为单位。\n$$\\Delta t \\approx 31.15102 \\times 10^{-12} \\,\\mathrm{s} = 31.15102\\,\\mathrm{ps}$$\n四舍五入到四位有效数字，我们得到：\n$$\\Delta t = 31.15\\,\\mathrm{ps}$$",
            "answer": "$$\\boxed{31.15}$$"
        },
        {
            "introduction": "从单个门转向流水线，系统级的时序完整性变得至关重要。这个问题探讨了全局时钟信号的不完美之处，特别是其占空比的偏差，如何导致 TSPC 流水线的功能失效。通过分析两个相连阶段中预充电和求值阶段的时序要求，您将学会识别时钟逻辑系统中与时序相关的故障根源。",
            "id": "4306805",
            "problem": "考虑一个两级真实单相时钟 (TSPC) 逻辑流水线，该流水线在一个使用电子设计自动化 (EDA) 工具设计的集成电路 (IC) 中实现。单相时钟表示为 $\\phi$，其周期为 $T$，占空比为 $\\alpha$，其中 $\\alpha$ 是周期 $T$ 中 $\\phi = 1$ 的时间比例。电源电压为 $V_{DD}$，每个动态级由一个开关阈值为 $V_{M} = 0.4\\,V_{DD}$ 的静态反相器读取。流水线级及其时序定义如下。\n\n第一级（一个 n 型动态逻辑级）拥有一个动态存储节点 $V_{X}$。当 $\\phi = 0$ 时，它通过一个 p 沟道网络进行预充电，该网络可由有效时间常数 $\\tau_{p1}$ 建模；当 $\\phi = 1$ 时，它通过一个由 $\\tau_{n1}$ 建模的 n 沟道求值路径进行求值。第二级是一个采样/锁存 TSPC 级，它通过一个传输路径接收 $V_{X}$，该路径被控制为当 $\\phi = 0$ 时进行求值（即，根据 $V_{X}$ 的值，其动态节点 $V_{Y}$ 从 $V_{DD}$ 条件性地放电至 $0$），有效时间常数为 $\\tau_{e2}$；当 $\\phi = 1$ 时，它将 $V_{Y}$ 预充电至 $V_{DD}$，有效时间常数为 $\\tau_{p2}$。\n\n假设以下数值：\n- $V_{DD} = 1.0\\,\\text{V}$ 且 $V_{M} = 0.4\\,\\text{V}$。\n- $\\tau_{p1} = 1\\,\\text{ns}$，$\\tau_{n1} = 2\\,\\text{ns}$。\n- $\\tau_{p2} = 3\\,\\text{ns}$，$\\tau_{e2} = 3\\,\\text{ns}$。\n- $T = 12\\,\\text{ns}$。\n\n为保证可靠运行，每个级的动态节点在其求值半周期开始时的预期初始条件必须接近电源轨：具体来说，预充电目标是至少达到 $0.9\\,V_{DD}$，而求值放电目标是低于 $V_{M}$。你可以假设标准的、由上述有效时间常数主导的一阶行为，并为此次时序分析的目的忽略有源维持器电流和漏电流。\n\n通过考虑两种情况：$\\alpha = 0.8$ 和 $\\alpha = 0.2$，分析当时钟占空比大幅偏离 $50\\%$ 时的失效模式。在每种情况下，确定哪个（些）动态节点（$V_{X}$ 和/或 $V_{Y}$）未能满足其所需的预充电或求值目标，并解释为什么这种不平衡会破坏时序。选择与正确识别和解释最匹配的选项。\n\nA. 对于 $\\alpha = 0.8$，$V_{Y}$ 未能求值（在 $\\phi = 0$ 结束时它保持在 $V_{M}$ 以上），因为 $(1-\\alpha)T$ 太短；对于 $\\alpha = 0.2$，$V_{Y}$ 未能在 $\\phi = 1$ 结束时预充电到至少 $0.9\\,V_{DD}$，因为 $\\alpha T$ 太短。在两种情况下，$V_{X}$ 都满足两个目标。\n\nB. 对于 $\\alpha = 0.8$，$V_{X}$ 未能在 $\\phi = 0$ 结束时预充电到至少 $0.9\\,V_{DD}$，对于 $\\alpha = 0.2$，$V_{X}$ 未能在 $\\phi = 1$ 结束时放电到 $V_{M}$ 以下。在两种情况下，$V_{Y}$ 都满足两个目标。\n\nC. 对于 $\\alpha = 0.8$，$V_{X}$ 和 $V_{Y}$ 都未能达到各自的目标；对于 $\\alpha = 0.2$，两个节点都未失效。\n\nD. 占空比不平衡不会导致 TSPC 逻辑中的状态丢失；在最坏的情况下，它会增加传播延迟，而只要 $T$ 是固定的，所有节点仍能满足其目标。",
            "solution": "首先验证问题陈述，以确保其科学上合理、定义明确且客观。\n\n### 步骤 1: 提取已知条件\n- **电路类型**: 两级真实单相时钟 (TSPC) 逻辑流水线。\n- **时钟**: 单相时钟 $\\phi$，周期 $T$，占空比 $\\alpha$。$\\phi=1$ 的持续时间为 $\\alpha T$。\n- **电源电压**: $V_{DD} = 1.0\\,\\text{V}$。\n- **反相器开关阈值**: $V_{M} = 0.4\\,V_{DD}$。\n- **第一级 (n 型动态)**: 动态节点 $V_{X}$。\n  - 预充电: 在 $\\phi=0$ 时，时间常数为 $\\tau_{p1} = 1\\,\\text{ns}$。\n  - 求值: 在 $\\phi=1$ 时，时间常数为 $\\tau_{n1} = 2\\,\\text{ns}$。\n- **第二级 (TSPC 锁存器)**: 动态节点 $V_{Y}$。\n  - 求值: 在 $\\phi=0$ 时，时间常数为 $\\tau_{e2} = 3\\,\\text{ns}$。\n  - 预充电: 在 $\\phi=1$ 时，时间常数为 $\\tau_{p2} = 3\\,\\text{ns}$。\n- **时钟周期**: $T = 12\\,\\text{ns}$。\n- **故障分析案例**: 占空比 $\\alpha = 0.8$ 和 $\\alpha = 0.2$。\n- **可靠性标准**:\n  - 预充电必须达到至少 $0.9\\,V_{DD}$。\n  - 求值放电必须降至 $V_{M}$ 以下。\n- **假设**: 一阶指数行为；维持器和漏电流可忽略不计。\n\n### 步骤 2: 使用提取的已知条件进行验证\n该问题描述了一个 TSPC 数字逻辑电路的标准时序分析场景。TSPC 逻辑是高性能集成电路设计中一种成熟的技术。使用一阶 RC 模型来模拟充放电动态特性是教学和初步分析中的标准且有效的方法。问题提供了一整套参数（$V_{DD}$, $V_M$, $\\tau$ 值, $T$, $\\alpha$ 值）和量化定义的成功/失败标准。n 型第一级（时钟低电平预充电，高电平求值）和类 p 型第二级（时钟高电平预充电，低电平求值）之间的区别与典型的 TSPC 流水线结构一致。该问题在科学上是合理的，定义明确，客观，并且不包含内部矛盾或缺失信息。\n\n### 步骤 3: 结论与行动\n问题有效。可以进行分析。\n\n### 解题推导\n动态节点的行为由一阶指数方程建模。\n- 从初始电压 $V_{init}$ 向 $V_{DD}$ 充电：$V(t) = V_{DD} + (V_{init} - V_{DD})e^{-t/\\tau}$。对于从假设的 $0\\,\\text{V}$ 开始预充电，这简化为 $V(t) = V_{DD}(1 - e^{-t/\\tau})$。\n- 从初始电压 $V_{init}$ 向 $0\\,\\text{V}$ 放电：$V(t) = V_{init}e^{-t/\\tau}$。对于从假设的 $V_{DD}$ 开始求值，这是 $V(t) = V_{DD}e^{-t/\\tau}$。\n\n首先，我们计算每个操作满足指定可靠性标准所需的最短时间。\n- **预充电要求**: 节点电压 $V$ 必须至少为 $0.9\\,V_{DD}$。\n$$V(t_{precharge}) = V_{DD}(1 - e^{-t_{precharge}/\\tau}) \\geq 0.9\\,V_{DD}$$\n$$1 - e^{-t_{precharge}/\\tau} \\geq 0.9$$\n$$e^{-t_{precharge}/\\tau} \\leq 0.1$$\n$$-t_{precharge}/\\tau \\leq \\ln(0.1) \\approx -2.3026$$\n$$t_{precharge} \\geq 2.3026\\,\\tau$$\n\n- **求值要求**: 节点电压 $V$ 必须小于 $V_{M} = 0.4\\,V_{DD}$。\n$$V(t_{evaluate}) = V_{DD}e^{-t_{evaluate}/\\tau}  0.4\\,V_{DD}$$\n$$e^{-t_{evaluate}/\\tau}  0.4$$\n$$-t_{evaluate}/\\tau  \\ln(0.4) \\approx -0.9163$$\n$$t_{evaluate} > 0.9163\\,\\tau$$\n\n接下来，我们应用这些公式来计算每个级每个阶段的最小时间。\n- **第一级 ($V_X$)**:\n  - 预充电 (在 $\\phi=0$ 时): $t_{precharge,1} \\geq 2.3026\\,\\tau_{p1} = 2.3026 \\times 1\\,\\text{ns} = 2.3026\\,\\text{ns}$。这必须在 $t_{low} = (1-\\alpha)T$ 期间发生。\n  - 求值 (在 $\\phi=1$ 时): $t_{evaluate,1} > 0.9163\\,\\tau_{n1} = 0.9163 \\times 2\\,\\text{ns} = 1.8326\\,\\text{ns}$。这必须在 $t_{high} = \\alpha T$ 期间发生。\n\n- **第二级 ($V_Y$)**:\n  - 预充电 (在 $\\phi=1$ 时): $t_{precharge,2} \\geq 2.3026\\,\\tau_{p2} = 2.3026 \\times 3\\,\\text{ns} = 6.9078\\,\\text{ns}$。这必须在 $t_{high} = \\alpha T$ 期间发生。\n  - 求值 (在 $\\phi=0$ 时): $t_{evaluate,2} > 0.9163\\,\\tau_{e2} = 0.9163 \\times 3\\,\\text{ns} = 2.7489\\,\\text{ns}$。这必须在 $t_{low} = (1-\\alpha)T$ 期间发生。\n\n现在，我们分析占空比 $\\alpha$ 的两种指定情况。时钟周期为 $T=12\\,\\text{ns}$。\n\n**情况 1: $\\alpha = 0.8$**\n- $\\phi=1$ 的持续时间为 $t_{high} = \\alpha T = 0.8 \\times 12\\,\\text{ns} = 9.6\\,\\text{ns}$。\n- $\\phi=0$ 的持续时间为 $t_{low} = (1-\\alpha)T = 0.2 \\times 12\\,\\text{ns} = 2.4\\,\\text{ns}$。\n\n- **第一级 ($V_X$) 检查**:\n  - 预充电: 需要 $t_{low} \\geq 2.3026\\,\\text{ns}$。可用时间为 $2.4\\,\\text{ns}$。由于 $2.4\\,\\text{ns} \\geq 2.3026\\,\\text{ns}$，条件**满足**。\n  - 求值: 需要 $t_{high} > 1.8326\\,\\text{ns}$。可用时间为 $9.6\\,\\text{ns}$。由于 $9.6\\,\\text{ns} > 1.8326\\,\\text{ns}$，条件**满足**。\n- **第二级 ($V_Y$) 检查**:\n  - 预充电: 需要 $t_{high} \\geq 6.9078\\,\\text{ns}$。可用时间为 $9.6\\,\\text{ns}$。由于 $9.6\\,\\text{ns} \\geq 6.9078\\,\\text{ns}$，条件**满足**。\n  - 求值: 需要 $t_{low} > 2.7489\\,\\text{ns}$。可用时间为 $2.4\\,\\text{ns}$。由于 $2.4\\,\\text{ns} \\not> 2.7489\\,\\text{ns}$，条件**不满足**。$V_Y$ **未能**正确求值。\n\n**情况 2: $\\alpha = 0.2$**\n- $\\phi=1$ 的持续时间为 $t_{high} = \\alpha T = 0.2 \\times 12\\,\\text{ns} = 2.4\\,\\text{ns}$。\n- $\\phi=0$ 的持续时间为 $t_{low} = (1-\\alpha)T = 0.8 \\times 12\\,\\text{ns} = 9.6\\,\\text{ns}$。\n\n- **第一级 ($V_X$) 检查**:\n  - 预充电: 需要 $t_{low} \\geq 2.3026\\,\\text{ns}$。可用时间为 $9.6\\,\\text{ns}$。由于 $9.6\\,\\text{ns} \\geq 2.3026\\,\\text{ns}$，条件**满足**。\n  - 求值: 需要 $t_{high} > 1.8326\\,\\text{ns}$。可用时间为 $2.4\\,\\text{ns}$。由于 $2.4\\,\\text{ns} > 1.8326\\,\\text{ns}$，条件**满足**。\n- **第二级 ($V_Y$) 检查**:\n  - 预充电: 需要 $t_{high} \\geq 6.9078\\,\\text{ns}$。可用时间为 $2.4\\,\\text{ns}$。由于 $2.4\\,\\text{ns} \\not\\geq 6.9078\\,\\text{ns}$，条件**不满足**。$V_Y$ **未能**正确预充电。\n  - 求值: 需要 $t_{low} > 2.7489\\,\\text{ns}$。可用时间为 $9.6\\,\\text{ns}$。由于 $9.6\\,\\text{ns} > 2.7489\\,\\text{ns}$，条件**满足**。\n\n**故障总结**:\n- 对于 $\\alpha = 0.8$，节点 $V_Y$ 未能求值，因为时钟的低电平相位 ($t_{low} = 2.4\\,\\text{ns}$) 太短。\n- 对于 $\\alpha = 0.2$，节点 $V_Y$ 未能预充电，因为时钟的高电平相位 ($t_{high} = 2.4\\,\\text{ns}$) 太短。\n- 在两种情况下，节点 $V_X$ 都满足其预充电和求值的时序要求。\n\n### 逐项分析选项\n\n**A. 对于 $\\alpha = 0.8$，$V_{Y}$ 未能求值（在 $\\phi = 0$ 结束时它保持在 $V_{M}$ 以上），因为 $(1-\\alpha)T$ 太短；对于 $\\alpha = 0.2$，$V_{Y}$ 未能在 $\\phi = 1$ 结束时预充电到至少 $0.9\\,V_{DD}$，因为 $\\alpha T$ 太短。在两种情况下，$V_{X}$ 都满足两个目标。**\n该选项与推导出的结果完全匹配。\n- 对于 $\\alpha=0.8$，$t_{low} = (1-\\alpha)T$ 是 $V_Y$ 的求值时间。我的分析表明此相位太短，导致求值失败。\n- 对于 $\\alpha=0.2$，$t_{high} = \\alpha T$ 是 $V_Y$ 的预充电时间。我的分析表明此相位太短，导致预充电失败。\n- 我的分析也证实了 $V_X$ 在两种情况下都满足其目标。\n因此，该陈述是**正确的**。\n\n**B. 对于 $\\alpha = 0.8$，$V_{X}$ 未能在 $\\phi = 0$ 结束时预充电到至少 $0.9\\,V_{DD}$，对于 $\\alpha = 0.2$，$V_{X}$ 未能在 $\\phi = 1$ 结束时放电到 $V_{M}$ 以下。在两种情况下，$V_{Y}$ 都满足两个目标。**\n该选项声称 $V_X$ 失败而 $V_Y$ 成功。我的分析表明情况恰恰相反：$V_X$ 成功而 $V_Y$ 失败。对于 $\\alpha=0.8$，$V_X$ 预充电需要 $t_{low} \\geq 2.3026\\,\\text{ns}$，可用时间为 $2.4\\,\\text{ns}$，所以通过。对于 $\\alpha=0.2$，$V_X$ 求值需要 $t_{high} > 1.8326\\,\\text{ns}$，可用时间为 $2.4\\,\\text{ns}$，所以通过。该陈述在所有要点上都是事实错误的。\n因此，该陈述是**不正确的**。\n\n**C. 对于 $\\alpha = 0.8$，$V_{X}$ 和 $V_{Y}$ 都未能达到各自的目标；对于 $\\alpha = 0.2$，两个节点都未失效。**\n该选项不正确。对于占空比 $\\alpha=0.8$，我的分析表明只有 $V_Y$ 失败，而不是 $V_X$。对于 $\\alpha=0.2$，我的分析表明 $V_Y$ 失败。该陈述对于两种情况都是事实错误的。\n因此，该陈述是**不正确的**。\n\n**D. 占空比不平衡不会导致 TSPC 逻辑中的状态丢失；在最坏的情况下，它会增加传播延迟，而只要 $T$ 是固定的，所有节点仍能满足其目标。**\n这是一个普遍性的论断，对于动态逻辑电路来说是根本错误的。占空比不平衡直接缩短了其中一个时钟相位。如果这个缩短的相位小于节点预充电或求值到有效逻辑电平所需的时间，将会发生功能性故障（状态丢失），而不仅仅是延迟增加。为这个问题进行的计算恰好证明了这种故障机制。\n因此，该陈述是**不正确的**。",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}