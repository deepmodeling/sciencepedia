{
    "hands_on_practices": [
        {
            "introduction": "动态功耗是CMOS电路中的主要功耗来源之一，而时钟门控是降低动态功耗最有效的技术之一。要精通低功耗设计，我们不仅需要知道动态功耗的计算公式，更要深入理解公式中每个参数的影响力。本练习将引导你从第一性原理出发，推导动态功耗的表达式，并通过计算偏导数来进行灵敏度分析，从而揭示在功耗优化中最具影响力的设计杠杆。",
            "id": "4260188",
            "problem": "一个片上系统中的互补金属氧化物半导体（CMOS）逻辑门采用时钟门控技术，以在其下游逻辑空闲时减少不必要的开关活动。考虑该逻辑门的有效开关电容 $C_{\\text{eff}}$、电源电压 $V$、时钟频率 $f$ 和开关活动因子 $\\alpha$。其中 $\\alpha$ 定义为在每个时钟周期内，门输出端发生 $0 \\rightarrow 1$ 跃迁的期望次数（在稳态下，每次 $0 \\rightarrow 1$ 跃迁最终都会伴随一次 $1 \\rightarrow 0$ 跃迁）。从基本定义出发——即充电至电压 $V$ 的电容器所存储的能量为 $\\frac{1}{2} C V^{2}$，动态功耗等于电源为电容充电而提供能量的速率，以及单位时间内 $0 \\rightarrow 1$ 充电事件的次数为 $\\alpha f$——推导动态功耗作为 $C_{\\text{eff}}$、$V$、$f$ 和 $\\alpha$ 的函数表达式。然后，使用该表达式计算当 $C_{\\text{eff}} = 20 \\text{ pF}$、$V = 0.8 \\text{ V}$、$f = 1 \\text{ GHz}$ 和 $\\alpha = 0.1$ 时的动态功耗。接下来，通过计算在相同数值下求值的偏导数 $\\frac{\\partial P}{\\partial C_{\\text{eff}}}$、$\\frac{\\partial P}{\\partial V}$、$\\frac{\\partial P}{\\partial f}$ 和 $\\frac{\\partial P}{\\partial \\alpha}$，来分析动态功耗对各参数的灵敏度。\n\n将动态功耗以瓦特（Watts）为单位表示，$\\frac{\\partial P}{\\partial C_{\\text{eff}}}$ 以瓦特每法拉（Watts per Farad）为单位，$\\frac{\\partial P}{\\partial V}$ 以瓦特每伏特（Watts per Volt）为单位，$\\frac{\\partial P}{\\partial f}$ 以瓦特每赫兹（Watts per Hertz）为单位，$\\frac{\\partial P}{\\partial \\alpha}$ 以瓦特（Watts）为单位。将每个数值结果四舍五入至四位有效数字。将您的最终结果以单行向量的形式报告：\n$$\\left[ P,\\ \\frac{\\partial P}{\\partial C_{\\text{eff}}},\\ \\frac{\\partial P}{\\partial V},\\ \\frac{\\partial P}{\\partial f},\\ \\frac{\\partial P}{\\partial \\alpha} \\right].$$",
            "solution": "问题陈述已经过验证，被认为是有效的。它在科学上基于数字电路设计的原理，特别是CMOS动态功耗。该问题提法明确，提供了推导唯一解所需的所有必要定义、变量和数值。语言客观，参数符合物理实际。\n\n第一步是根据所提供的基本原理推导动态功耗 $P$ 的表达式。\nCMOS电路中的动态功耗是在逻辑状态转换期间，因负载电容的充电和放电而消耗的功率。我们考虑CMOS门输出端的一次 $0 \\rightarrow 1$ 跃迁。这次跃迁需要将有效负载电容 $C_{\\text{eff}}$ 从电压 $0$ 充电到电源电压 $V$。\n\n为实现这一过程，必须从电源传输到电容器的总电荷量 $Q$ 由 $Q = C_{\\text{eff}} V$ 给出。\n从恒定电压源 $V$ 提取以输送此电荷的能量 $E_{\\text{supply}}$ 为 $E_{\\text{supply}} = V Q = V(C_{\\text{eff}} V) = C_{\\text{eff}} V^2$。\n电路理论的一个基本结论是，在通过阻性PMOS网络进行充电的过程中，从电源获取的能量一半存储在电容器中，另一半则在晶体管中以热量形式耗散。如问题前提所述，存储在电容器中的能量确实是 $E_{\\text{cap}} = \\frac{1}{2} C_{\\text{eff}} V^2$。在随后的 $1 \\rightarrow 0$ 跃迁中，当电容器通过NMOS网络放电到地时，这部分存储的能量以热量形式耗散。在放电期间，不从电源获取能量。\n因此，对于一个完整的开关事件（一次 $0 \\rightarrow 1$ 跃迁后跟一次 $1 \\rightarrow 0$ 跃迁），从电源消耗的总能量完全是充电阶段所获取的能量，即 $E_{\\text{cycle}} = C_{\\text{eff}} V^2$。\n\n问题将开关活动因子 $\\alpha$ 定义为每个时钟周期内 $0 \\rightarrow 1$ 跃迁的期望次数。时钟频率 $f$ 是每秒的时钟周期数。\n充电事件的速率（每秒 $0 \\rightarrow 1$ 跃迁的次数）是这两个量的乘积：\n$$\n\\text{Rate of charging} = \\alpha f\n$$\n动态功耗 $P$ 是能量消耗的速率。它通过将每次充电事件的能量乘以充电事件的速率来计算：\n$$\nP = E_{\\text{cycle}} \\times (\\alpha f) = (C_{\\text{eff}} V^2) \\times (\\alpha f)\n$$\n重新排列各项，得到动态功耗的标准表达式：\n$$\nP = \\alpha C_{\\text{eff}} f V^2\n$$\n这就是所要求的动态功耗作为 $C_{\\text{eff}}$、$V$、$f$ 和 $\\alpha$ 的函数表达式。\n\n接下来，我们使用给定值计算 $P$ 的数值：$C_{\\text{eff}} = 20 \\text{ pF} = 20 \\times 10^{-12} \\text{ F}$，$V = 0.8 \\text{ V}$，$f = 1 \\text{ GHz} = 1 \\times 10^9 \\text{ Hz}$，以及 $\\alpha = 0.1$。\n$$\nP = (0.1) \\times (20 \\times 10^{-12}) \\times (1 \\times 10^9) \\times (0.8)^2\n$$\n$$\nP = (0.1) \\times (20 \\times 10^{-3}) \\times (0.64) = 2 \\times 10^{-3} \\times 0.64 = 1.28 \\times 10^{-3} \\text{ W}\n$$\n四舍五入到四位有效数字，$P = 1.280 \\times 10^{-3} \\text{ W}$。\n\n现在，我们计算 $P$ 对每个参数的偏导数。功耗函数为 $P(\\alpha, C_{\\text{eff}}, f, V) = \\alpha C_{\\text{eff}} f V^2$。\n\n1.  对 $C_{\\text{eff}}$ 的灵敏度：\n    $$\n    \\frac{\\partial P}{\\partial C_{\\text{eff}}} = \\frac{\\partial}{\\partial C_{\\text{eff}}} (\\alpha C_{\\text{eff}} f V^2) = \\alpha f V^2\n    $$\n    在给定值下计算：\n    $$\n    \\frac{\\partial P}{\\partial C_{\\text{eff}}} = (0.1) \\times (1 \\times 10^9) \\times (0.8)^2 = 0.1 \\times 10^9 \\times 0.64 = 6.4 \\times 10^7 \\text{ W/F}\n    $$\n    四舍五入到四位有效数字，$\\frac{\\partial P}{\\partial C_{\\text{eff}}} = 6.400 \\times 10^7 \\text{ W/F}$。\n\n2.  对 $V$ 的灵敏度：\n    $$\n    \\frac{\\partial P}{\\partial V} = \\frac{\\partial}{\\partial V} (\\alpha C_{\\text{eff}} f V^2) = 2 \\alpha C_{\\text{eff}} f V\n    $$\n    在给定值下计算：\n    $$\n    \\frac{\\partial P}{\\partial V} = 2 \\times (0.1) \\times (20 \\times 10^{-12}) \\times (1 \\times 10^9) \\times (0.8)\n    $$\n    $$\n    \\frac{\\partial P}{\\partial V} = 2 \\times (0.1) \\times (20 \\times 10^{-3}) \\times (0.8) = 4 \\times 10^{-3} \\times 0.8 = 3.2 \\times 10^{-3} \\text{ W/V}\n    $$\n    四舍五入到四位有效数字，$\\frac{\\partial P}{\\partial V} = 3.200 \\times 10^{-3} \\text{ W/V}$。\n\n3.  对 $f$ 的灵敏度：\n    $$\n    \\frac{\\partial P}{\\partial f} = \\frac{\\partial}{\\partial f} (\\alpha C_{\\text{eff}} f V^2) = \\alpha C_{\\text{eff}} V^2\n    $$\n    在给定值下计算：\n    $$\n    \\frac{\\partial P}{\\partial f} = (0.1) \\times (20 \\times 10^{-12}) \\times (0.8)^2 = 2 \\times 10^{-12} \\times 0.64 = 1.28 \\times 10^{-12} \\text{ W/Hz}\n    $$\n    四舍五入到四位有效数字，$\\frac{\\partial P}{\\partial f} = 1.280 \\times 10^{-12} \\text{ W/Hz}$。\n\n4.  对 $\\alpha$ 的灵敏度：\n    $$\n    \\frac{\\partial P}{\\partial \\alpha} = \\frac{\\partial}{\\partial \\alpha} (\\alpha C_{\\text{eff}} f V^2) = C_{\\text{eff}} f V^2\n    $$\n    在给定值下计算：\n    $$\n    \\frac{\\partial P}{\\partial \\alpha} = (20 \\times 10^{-12}) \\times (1 \\times 10^9) \\times (0.8)^2\n    $$\n    $$\n    \\frac{\\partial P}{\\partial \\alpha} = (20 \\times 10^{-3}) \\times 0.64 = 12.8 \\times 10^{-3} = 1.28 \\times 10^{-2} \\text{ W}\n    $$\n    四舍五入到四位有效数字，$\\frac{\\partial P}{\\partial \\alpha} = 1.280 \\times 10^{-2} \\text{ W}$。\n\n最后，我们将结果组合成所要求的行向量：\n$$\n\\left[ P,\\ \\frac{\\partial P}{\\partial C_{\\text{eff}}},\\ \\frac{\\partial P}{\\partial V},\\ \\frac{\\partial P}{\\partial f},\\ \\frac{\\partial P}{\\partial \\alpha} \\right]\n$$\n数值向量为：\n$$\n\\left[ 1.280 \\times 10^{-3},\\ 6.400 \\times 10^7,\\ 3.200 \\times 10^{-3},\\ 1.280 \\times 10^{-12},\\ 1.280 \\times 10^{-2} \\right]\n$$",
            "answer": "$$\n\\boxed{\n\\begin{bmatrix}\n1.280 \\times 10^{-3}  6.400 \\times 10^{7}  3.200 \\times 10^{-3}  1.280 \\times 10^{-12}  1.280 \\times 10^{-2}\n\\end{bmatrix}\n}\n$$"
        },
        {
            "introduction": "在掌握了单个逻辑门动态功耗的基本原理后，下一步是将其应用于更宏观的系统层面，以评估时钟门控在真实设计中的效果。本练习模拟了一个包含数万个触发器的大规模集成电路模块，要求你计算其时钟网络的原始功耗，并在此基础上量化应用时钟门控技术后所能带来的显著功耗节省。通过这个实践，你将直观地感受到时钟门控作为一种关键低功耗设计技术的强大威力。",
            "id": "4260172",
            "problem": "一个使用电子设计自动化 (EDA) 工具设计的大规模集成电路中的同步模块包含 $N=5.0\\times 10^{4}$ 个边沿触发触发器 (FF)。标准单元库将每个 FF 输入引脚的等效时钟接收端电容表征为 $C_{\\text{clk,eff}}=6\\,\\mathrm{fF}$。电源电压为 $V=0.7\\,\\mathrm{V}$，时钟频率为 $f=800\\,\\mathrm{MHz}$。假设如下：\n- 每个接收端的时钟均为轨到轨信号，占空比为 $50\\%$，在接收端输入处每个周期呈现一次 $0\\rightarrow 1$ 跳变。\n- 不考虑互连线和时钟缓冲器的动态功耗；仅考虑接收端（输入引脚）的充电功耗。\n- 门控效率 $g$ 定义为在接收端时钟边沿被抑制的周期所占的比例，因此每个接收端每个周期 $0\\rightarrow 1$ 跳变的平均次数从 $1$ 减少到 $(1-g)$。\n\n从基本原理出发，即电容 $C$ 从 $0$ 充电到 $V$ 时，每次 $0\\rightarrow 1$ 跳变会从电源消耗能量 $E=C V^{2}$，推导出该模块的总未门控接收端动态功耗，然后推导出效率为 $g=0.60$ 的时钟门控所带来的预期功耗降低。将您的答案四舍五入到四位有效数字。将两个功耗值均以 $\\mathrm{mW}$ 为单位表示。",
            "solution": "首先对问题陈述进行严格的验证过程。\n\n### 步骤 1：提取已知条件\n- 触发器数量，$N = 5.0 \\times 10^{4}$。\n- 每个触发器的等效时钟接收端电容，$C_{\\text{clk,eff}} = 6\\,\\mathrm{fF}$。\n- 电源电压，$V = 0.7\\,\\mathrm{V}$。\n- 时钟频率，$f = 800\\,\\mathrm{MHz}$。\n- 时钟信号描述：轨到轨，占空比 $50\\%$，在接收端每个周期有一次 $0 \\rightarrow 1$ 跳变（未门控）。\n- 排除项：不考虑互连线和时钟缓冲器的动态功耗。\n- 门控效率 $g$：定义为时钟边沿被抑制的周期所占的比例。$0 \\rightarrow 1$ 跳变的平均次数从 $1$ 减少到 $(1-g)$。\n- 基本原理：将电容 $C$ 从 $0$ 充电到 $V$ 时，每次 $0 \\rightarrow 1$ 跳变从电源消耗的能量为 $E = C V^{2}$。\n- 特定的门控效率值：$g = 0.60$。\n- 要求输出：总的未门控接收端动态功耗和由门控引起的功耗降低，均以 $\\mathrm{mW}$ 为单位，并四舍五入到四位有效数字。\n\n### 步骤 2：使用提取的已知条件进行验证\n根据既定标准对问题进行评估。\n- **科学依据：** 该问题基于 CMOS 集成电路动态功耗的基本模型，特别是 $P_{\\text{dyn}} = \\alpha C V^{2} f$，其中 $\\alpha$ 是活动因子。问题明确给出了每次跳变的能量 ($C V^2$)，这是该模型的基石。$N$、$C_{\\text{clk,eff}}$、$V$ 和 $f$ 的值是符合实际的，并与现代半导体技术相符。\n- **适定性：** 问题提供了所有必要的参数和对门控效率的清晰定义。其目标——计算未门控功耗和功耗降低——是明确的，并能导出一个唯一的、稳定的解。\n- **客观性：** 问题以精确、无偏见的技术语言陈述，没有任何主观或模棱两可的术语。\n- **结论：** 问题没有科学上的不健全性、不完整性、矛盾和其他列出的缺陷。它是数字电路设计和电子设计自动化 (EDA) 领域中一个标准的、可形式化的问题。\n\n### 步骤 3：裁定与行动\n该问题被判定为**有效**。将提供完整的解法。\n\n### 解法推导\nCMOS 电路中的动态功耗主要由对寄生电容和负载电容进行充放电所需的能量决定。问题要求我们只考虑与触发器时钟引脚输入电容充电相关的功耗。\n\n在单次充电事件（$0 \\rightarrow V$ 跳变）中，从电源消耗的能量由 $E = C V^{2}$ 给出。功率是能量消耗的速率，因此 $P = E/T$，其中 $T$ 是对该能量进行平均的时间间隔。\n\n首先，我们确定总的未门控接收端动态功耗 $P_{\\text{ungated}}$。\n整个模块中翻转的总电容是各个触发器时钟引脚电容的总和：\n$$ C_{\\text{total}} = N \\cdot C_{\\text{clk,eff}} $$\n在未门控的情况下（$g=0$），每个触发器的时钟输入在每个时钟周期经历一次 $0 \\rightarrow 1$ 跳变。时钟频率为 $f$，因此每秒的跳变次数为 $f$。所有触发器每秒消耗的总能量（即功率）为：\n$$ P_{\\text{ungated}} = N \\cdot (\\text{每个FF每次跳变的能量}) \\cdot (\\text{每秒跳变次数}) $$\n每个 FF 每次跳变的能量是 $C_{\\text{clk,eff}} V^{2}$。每秒的跳变次数是 $f$。\n因此，总的未门控动态功耗为：\n$$ P_{\\text{ungated}} = N \\cdot C_{\\text{clk,eff}} \\cdot V^{2} \\cdot f $$\n接下来，我们引入效率为 $g$ 的时钟门控。门控效率 $g$ 定义为时钟跳变被抑制的周期所占的比例。这将每个周期 $0 \\rightarrow 1$ 跳变的平均次数从 $1$ 减少到 $(1-g)$。因此，作为每个时钟周期平均充电跳变次数的活动因子，减少为 $\\alpha = (1-g)$。\n采用时钟门控后的动态功耗 $P_{\\text{gated}}$ 为：\n$$ P_{\\text{gated}} = (1-g) \\cdot N \\cdot C_{\\text{clk,eff}} \\cdot V^{2} \\cdot f $$\n这可以表示为未门控功耗的形式：\n$$ P_{\\text{gated}} = (1-g) \\cdot P_{\\text{ungated}} $$\n归因于时钟门控的功耗降低 $\\Delta P_{\\text{gating}}$ 是未门控功耗与门控功耗之差：\n$$ \\Delta P_{\\text{gating}} = P_{\\text{ungated}} - P_{\\text{gated}} $$\n$$ \\Delta P_{\\text{gating}} = P_{\\text{ungated}} - (1-g) \\cdot P_{\\text{ungated}} $$\n$$ \\Delta P_{\\text{gating}} = (1 - (1-g)) \\cdot P_{\\text{ungated}} = g \\cdot P_{\\text{ungated}} $$\n这个结果是直观的：节省的功耗是被抑制的时钟周期比例乘以原始功耗。\n\n现在，我们代入给定的数值：\n- $N = 5.0 \\times 10^{4}$\n- $C_{\\text{clk,eff}} = 6\\,\\mathrm{fF} = 6 \\times 10^{-15}\\,\\mathrm{F}$\n- $V = 0.7\\,\\mathrm{V}$\n- $f = 800\\,\\mathrm{MHz} = 800 \\times 10^{6}\\,\\mathrm{Hz} = 8 \\times 10^{8}\\,\\mathrm{s}^{-1}$\n- $g = 0.60$\n\n首先，我们计算 $P_{\\text{ungated}}$:\n$$ P_{\\text{ungated}} = (5.0 \\times 10^{4}) \\cdot (6 \\times 10^{-15}\\,\\mathrm{F}) \\cdot (0.7\\,\\mathrm{V})^{2} \\cdot (8 \\times 10^{8}\\,\\mathrm{s}^{-1}) $$\n$$ P_{\\text{ungated}} = (5.0 \\times 10^{4}) \\cdot (6 \\times 10^{-15}) \\cdot (0.49) \\cdot (8 \\times 10^{8}) \\, \\mathrm{W} $$\n$$ P_{\\text{ungated}} = (5.0 \\cdot 6 \\cdot 0.49 \\cdot 8) \\times 10^{4 - 15 + 8} \\, \\mathrm{W} $$\n$$ P_{\\text{ungated}} = 117.6 \\times 10^{-3} \\, \\mathrm{W} $$\n问题要求答案以毫瓦 ($\\mathrm{mW}$) 为单位，其中 $1\\,\\mathrm{mW} = 10^{-3}\\,\\mathrm{W}$。\n$$ P_{\\text{ungated}} = 117.6 \\, \\mathrm{mW} $$\n四舍五入到四位有效数字，该值为 $117.6\\,\\mathrm{mW}$。\n\n接下来，我们计算功耗降低 $\\Delta P_{\\text{gating}}$:\n$$ \\Delta P_{\\text{gating}} = g \\cdot P_{\\text{ungated}} $$\n$$ \\Delta P_{\\text{gating}} = 0.60 \\cdot 117.6 \\, \\mathrm{mW} $$\n$$ \\Delta P_{\\text{gating}} = 70.56 \\, \\mathrm{mW} $$\n四舍五入到四位有效数字，该值为 $70.56\\,\\mathrm{mW}$。\n\n两个要求的值是总的未门控接收端动态功耗 ($117.6\\,\\mathrm{mW}$) 和因门控而降低的功耗 ($70.56\\,\\mathrm{mW}$)。",
            "answer": "$$\n\\boxed{\n\\begin{bmatrix}\n117.6  70.56\n\\end{bmatrix}\n}\n$$"
        },
        {
            "introduction": "任何工程决策都伴随着权衡，低功耗设计也不例外。虽然时钟门控能有效节省动态功耗，但它自身也会引入额外的开销，主要体现在专用门控单元（ICG cell）所占用的面积和产生的静态泄漏功耗。本练习旨在培养一种全面的、成本效益驱动的设计思维，通过计算扣除这些开销后的“净”节能量，让你学会如何在功耗节省的收益与实现成本之间做出明智的权衡。",
            "id": "4260185",
            "problem": "一个同步数字模块包含$10{,}000$个边沿触发触发器，由一个全局时钟分配网络以频率$f = 1.0 \\times 10^{9}\\,\\mathrm{Hz}$、电源电压$V_{\\mathrm{DD}} = 0.8\\,\\mathrm{V}$进行驱动。每个触发器呈现的有效时钟叶负载（时钟引脚加上紧邻的局部互连）为$C_{\\mathrm{leaf}} = 18\\,\\mathrm{fF}$。该模块所见的未门控全局主干的有效电容为$C_{\\mathrm{trunk}} = 20\\,\\mathrm{pF}$，该电容在每个周期都会被驱动，无论局部的时钟门控选择如何。您计划在叶节点附近插入集成时钟门控（ICG）单元，每个ICG单元门控一个由$100$个触发器组成的集群。每个ICG单元的输入时钟电容为$C_{\\mathrm{icg,in}} = 30\\,\\mathrm{fF}$，该电容在每个周期被未门控的主干驱动；其输出引脚电容为$C_{\\mathrm{icg,out}} = 5\\,\\mathrm{fF}$，该电容仅在门控时钟传播时才会翻转。假设当使能信号为低电平时，门控输出会抑制对其扇出的所有翻转，并且使能信号在$d = 0.3$的周期比例内为高电平，与时钟无关。忽略短路功耗和任何毛刺。每个ICG单元的漏电功耗为$P_{\\mathrm{icg,leak}} = 0.9\\,\\mathrm{\\mu W}$，其物理面积为$A_{\\mathrm{icg}} = 45\\,\\mathrm{\\mu m}^{2}$。\n\n仅使用关于动态开关能量和电容线性叠加的第一性原理，计算：\n- 由插入的ICG单元引起的总面积开销，\n- 由插入的ICG单元引起的总漏电功耗开销，\n- 通过门控实现的每个时钟周期的净动态能量收益，定义为相对于无门控基准每个周期节省的动态能量，减去由增加的ICG单元引起的每个周期的漏电能量。\n\n将您的最终能量答案四舍五入到四位有效数字。以皮焦耳（picojoules）为单位表示最终能量。仅提供每个周期的净能量收益作为您的最终报告值。",
            "solution": "用户提供了一个问题陈述，需要根据科学合理性、完整性和清晰度的一系列标准进行验证。\n\n### 第一步：提取给定条件\n-   触发器数量: $N_{\\mathrm{ff}} = 10{,}000$\n-   时钟频率: $f = 1.0 \\times 10^{9}\\,\\mathrm{Hz}$\n-   电源电压: $V_{\\mathrm{DD}} = 0.8\\,\\mathrm{V}$\n-   每个触发器的有效时钟叶负载: $C_{\\mathrm{leaf}} = 18\\,\\mathrm{fF}$\n-   未门控全局主干的有效电容: $C_{\\mathrm{trunk}} = 20\\,\\mathrm{pF}$\n-   每个ICG单元集群的触发器数量: $N_{\\mathrm{ff\\_per\\_icg}} = 100$\n-   ICG单元输入时钟电容: $C_{\\mathrm{icg,in}} = 30\\,\\mathrm{fF}$\n-   ICG单元输出引脚电容: $C_{\\mathrm{icg,out}} = 5\\,\\mathrm{fF}$\n-   使能信号高电平比例: $d = 0.3$\n-   每个ICG单元的漏电功耗: $P_{\\mathrm{icg,leak}} = 0.9\\,\\mathrm{\\mu W}$\n-   每个ICG单元的物理面积: $A_{\\mathrm{icg}} = 45\\,\\mathrm{\\mu m}^{2}$\n-   假设：忽略短路功耗和毛刺。\n-   需要计算：总面积开销、总漏电功耗开销以及每个时钟周期的净动态能量收益。最终报告值仅为净能量收益。\n\n### 第二步：使用提取的给定条件进行验证\n-   **科学依据**：该问题基于CMOS电路设计的基本原理，特别是动态功耗（$P_{\\mathrm{dyn}} = \\alpha C V_{\\mathrm{DD}}^2 f$）和漏电功耗的计算。给定的电压、频率和电容值对于现代半导体技术是现实的。该模型虽然通过忽略某些功耗分量而简化，但对于一阶分析是一种标准且有效的方法。该问题是科学合理的。\n-   **适定性**：问题定义清晰，并提供了计算所请求量的所有必要数据。目标明确，可以导出一个唯一且有意义的解。\n-   **客观性**：问题使用电子和计算机工程领域中常用的精确、客观和技术性语言陈述。它没有主观或带有偏见的措辞。\n-   **完整性与一致性**：提供了所有必需的数值和条件。触发器数量（$10{,}000$）是集群大小（$100$）的整数倍，确保ICG单元的数量没有歧义。不存在内部矛盾。\n-   **其他标准**：该问题不是微不足道的、不切实际的、不适定的或无法验证的。它需要将既定公式谨慎地应用于一个实际的工程场景。\n\n### 第三步：结论与行动\n该问题有效。将提供完整的解答。\n\n分析过程首先确定时钟门控单元引入的开销，然后计算基准（未门控）和门控场景的动态能耗，最后结合这些结果求出净能量收益。\n\n首先，我们确定所需的集成时钟门控（ICG）单元数量。在有$N_{\\mathrm{ff}} = 10{,}000$个触发器且每个ICG集群大小为$N_{\\mathrm{ff\\_per\\_icg}} = 100$个触发器的情况下，ICG单元的数量为：\n$$N_{\\mathrm{icg}} = \\frac{N_{\\mathrm{ff}}}{N_{\\mathrm{ff\\_per\\_icg}}} = \\frac{10{,}000}{100} = 100$$\n这些单元的总面积开销是单元数量与单个单元面积的乘积：\n$$A_{\\mathrm{overhead}} = N_{\\mathrm{icg}} \\times A_{\\mathrm{icg}} = 100 \\times 45\\,\\mathrm{\\mu m}^{2} = 4500\\,\\mathrm{\\mu m}^{2}$$\n类似地，总漏电功耗开销为：\n$$P_{\\mathrm{leak,overhead}} = N_{\\mathrm{icg}} \\times P_{\\mathrm{icg,leak}} = 100 \\times 0.9\\,\\mathrm{\\mu W} = 90\\,\\mathrm{\\mu W}$$\n\n接下来，我们分析每个时钟周期的动态能量。一个完整的 $0 \\to V_{\\mathrm{DD}} \\to 0$ 转换的动态能量是 $E_{\\mathrm{dyn}} = C V_{\\mathrm{DD}}^2$。\n\n在基准（未门控）场景中，整个时钟网络电容在每个周期都会开关。这个总电容 $C_{\\mathrm{baseline}}$ 是主干电容与所有触发器总叶电容之和。\n$$C_{\\mathrm{ff,total}} = N_{\\mathrm{ff}} \\times C_{\\mathrm{leaf}} = 10{,}000 \\times 18\\,\\mathrm{fF} = 180{,}000\\,\\mathrm{fF} = 180\\,\\mathrm{pF}$$\n$$C_{\\mathrm{baseline}} = C_{\\mathrm{trunk}} + C_{\\mathrm{ff,total}} = 20\\,\\mathrm{pF} + 180\\,\\mathrm{pF} = 200\\,\\mathrm{pF}$$\n基准情况下的每个周期的动态能量为：\n$$E_{\\mathrm{baseline}} = C_{\\mathrm{baseline}} V_{\\mathrm{DD}}^2 = (200 \\times 10^{-12}\\,\\mathrm{F}) \\times (0.8\\,\\mathrm{V})^2 = 200 \\times 0.64 \\times 10^{-12}\\,\\mathrm{J} = 128 \\times 10^{-12}\\,\\mathrm{J} = 128\\,\\mathrm{pJ}$$\n\n在门控场景中，时钟网络电容被划分。未门控部分在每个周期开关，由主干和所有ICG单元的输入端组成。\n$$C_{\\mathrm{icg,in,total}} = N_{\\mathrm{icg}} \\times C_{\\mathrm{icg,in}} = 100 \\times 30\\,\\mathrm{fF} = 3000\\,\\mathrm{fF} = 3\\,\\mathrm{pF}$$\n$$C_{\\mathrm{un-gated}} = C_{\\mathrm{trunk}} + C_{\\mathrm{icg,in,total}} = 20\\,\\mathrm{pF} + 3\\,\\mathrm{pF} = 23\\,\\mathrm{pF}$$\n门控部分由ICG单元的输出端和它们驱动的触发器叶节点组成。这部分仅在使能信号为高电平时开关，这种情况占周期的比例为 $d = 0.3$。总门控电容为：\n$$C_{\\mathrm{gated,total}} = N_{\\mathrm{icg}} \\times (C_{\\mathrm{icg,out}} + N_{\\mathrm{ff\\_per\\_icg}} \\times C_{\\mathrm{leaf}}) = 100 \\times (5\\,\\mathrm{fF} + 100 \\times 18\\,\\mathrm{fF}) = 100 \\times (1805\\,\\mathrm{fF}) = 180{,}500\\,\\mathrm{fF} = 180.5\\,\\mathrm{pF}$$\n门控场景中每个周期的平均动态能量 $E_{\\mathrm{gated}}$ 是来自未门控部分（总是开关）的能量与来自门控部分（以概率 $d$ 开关）的平均能量之和：\n$$E_{\\mathrm{gated}} = C_{\\mathrm{un-gated}} V_{\\mathrm{DD}}^2 + d \\cdot (C_{\\mathrm{gated,total}} V_{\\mathrm{DD}}^2) = (C_{\\mathrm{un-gated}} + d \\cdot C_{\\mathrm{gated,total}}) V_{\\mathrm{DD}}^2$$\n有效平均开关电容是 $C_{\\mathrm{eff}} = C_{\\mathrm{un-gated}} + d \\cdot C_{\\mathrm{gated,total}} = 23\\,\\mathrm{pF} + 0.3 \\times 180.5\\,\\mathrm{pF} = 23\\,\\mathrm{pF} + 54.15\\,\\mathrm{pF} = 77.15\\,\\mathrm{pF}$。\n$$E_{\\mathrm{gated}} = (77.15 \\times 10^{-12}\\,\\mathrm{F}) \\times (0.8\\,\\mathrm{V})^2 = 77.15 \\times 0.64 \\times 10^{-12}\\,\\mathrm{J} = 49.376 \\times 10^{-12}\\,\\mathrm{J} = 49.376\\,\\mathrm{pJ}$$\n每个周期节省的动态能量是基准能量和门控能量之差：\n$$E_{\\mathrm{saved,dyn}} = E_{\\mathrm{baseline}} - E_{\\mathrm{gated}} = 128\\,\\mathrm{pJ} - 49.376\\,\\mathrm{pJ} = 78.624\\,\\mathrm{pJ}$$\n\n最后，我们计算净能量收益。这需要减去由增加的ICG单元的漏电引起的每个周期的能量开销。时钟周期是 $T = 1/f = 1/(1.0 \\times 10^9\\,\\mathrm{Hz}) = 1.0 \\times 10^{-9}\\,\\mathrm{s}$。\n每个周期的漏电能量开销为：\n$$E_{\\mathrm{leak,overhead}} = P_{\\mathrm{leak,overhead}} \\times T = (90 \\times 10^{-6}\\,\\mathrm{W}) \\times (1.0 \\times 10^{-9}\\,\\mathrm{s}) = 90 \\times 10^{-15}\\,\\mathrm{J} = 0.090\\,\\mathrm{pJ}$$\n每个周期的净能量收益是节省的动态能量减去漏电能量开销：\n$$E_{\\mathrm{benefit}} = E_{\\mathrm{saved,dyn}} - E_{\\mathrm{leak,overhead}} = 78.624\\,\\mathrm{pJ} - 0.090\\,\\mathrm{pJ} = 78.534\\,\\mathrm{pJ}$$\n按要求四舍五入到四位有效数字，净能量收益为 $78.53\\,\\mathrm{pJ}$。",
            "answer": "$$ \\boxed{78.53} $$"
        }
    ]
}