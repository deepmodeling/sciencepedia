{
    "hands_on_practices": [
        {
            "introduction": "Understanding dynamic power begins with its governing equation. This first exercise  guides you through deriving the fundamental formula $P_{\\text{dyn}} = \\alpha C_{\\text{eff}} f V^2$ from the physical principle of charging a capacitor. By then calculating the sensitivity of power to each parameter, you will gain crucial intuition about which design choices, such as voltage scaling, have the most significant impact on power consumption.",
            "id": "4260188",
            "problem": "A Complementary Metal-Oxide-Semiconductor (CMOS) logic gate within a system-on-chip employs clock gating to reduce unnecessary switching when its downstream logic is idle. Consider the gate’s effective switched capacitance $C_{\\text{eff}}$, supply voltage $V$, clock frequency $f$, and switching activity factor $\\alpha$, where $\\alpha$ is defined as the expected number of $0 \\rightarrow 1$ transitions at the gate output per clock cycle (in steady state, each $0 \\rightarrow 1$ transition is eventually followed by a $1 \\rightarrow 0$ transition). Starting from fundamental definitions—namely, that the energy stored in a capacitor charged to voltage $V$ is $\\frac{1}{2} C V^{2}$, that dynamic power equals the rate at which the supply delivers energy to charge the capacitance, and that the number of $0 \\rightarrow 1$ charge events per unit time is $\\alpha f$—derive an expression for the dynamic power as a function of $C_{\\text{eff}}$, $V$, $f$, and $\\alpha$. Then, use this expression to compute the dynamic power for $C_{\\text{eff}} = 20 \\text{ pF}$, $V = 0.8 \\text{ V}$, $f = 1 \\text{ GHz}$, and $\\alpha = 0.1$. Next, analyze the sensitivity of the dynamic power to each parameter by computing the partial derivatives $\\frac{\\partial P}{\\partial C_{\\text{eff}}}$, $\\frac{\\partial P}{\\partial V}$, $\\frac{\\partial P}{\\partial f}$, and $\\frac{\\partial P}{\\partial \\alpha}$ evaluated at the same numerical values.\n\nExpress the dynamic power in Watts, $\\frac{\\partial P}{\\partial C_{\\text{eff}}}$ in Watts per Farad, $\\frac{\\partial P}{\\partial V}$ in Watts per Volt, $\\frac{\\partial P}{\\partial f}$ in Watts per Hertz, and $\\frac{\\partial P}{\\partial \\alpha}$ in Watts. Round each numerical result to four significant figures. Report your final results in the single row vector\n$$\\left[ P,\\ \\frac{\\partial P}{\\partial C_{\\text{eff}}},\\ \\frac{\\partial P}{\\partial V},\\ \\frac{\\partial P}{\\partial f},\\ \\frac{\\partial P}{\\partial \\alpha} \\right].$$",
            "solution": "The problem statement has been validated and is deemed valid. It is scientifically grounded in the principles of digital circuit design, specifically CMOS dynamic power consumption. The problem is well-posed, providing all necessary definitions, variables, and numerical values to derive a unique solution. The language is objective and the parameters are physically realistic.\n\nThe first step is to derive the expression for dynamic power, $P$, from the fundamental principles provided.\nDynamic power in a CMOS circuit is the power consumed due to the charging and discharging of load capacitances during logic state transitions. Let us consider a single $0 \\rightarrow 1$ transition at the output of a CMOS gate. This transition requires charging the effective load capacitance, $C_{\\text{eff}}$, from a voltage of $0$ to the supply voltage, $V$.\n\nThe total charge, $Q$, that must be transferred from the power supply to the capacitor to achieve this is given by $Q = C_{\\text{eff}} V$.\nThe energy, $E_{\\text{supply}}$, drawn from the constant voltage supply $V$ to deliver this charge is $E_{\\text{supply}} = V Q = V(C_{\\text{eff}} V) = C_{\\text{eff}} V^2$.\nIt is a fundamental result of circuit theory that during this charging process through the resistive PMOS network, half of the energy drawn from the supply is stored in the capacitor, and the other half is dissipated as heat in the transistors. The energy stored in the capacitor is indeed $E_{\\text{cap}} = \\frac{1}{2} C_{\\text{eff}} V^2$, as stated in the problem's premises. During the subsequent $1 \\rightarrow 0$ transition, this stored energy is dissipated as heat through the NMOS network as the capacitor discharges to ground. No energy is drawn from the supply during discharge.\nTherefore, the total energy consumed from the power supply for one full switching event (a $0 \\rightarrow 1$ transition followed by a $1 \\rightarrow 0$ transition) is exclusively the energy drawn during the charging phase, which is $E_{\\text{cycle}} = C_{\\text{eff}} V^2$.\n\nThe problem defines the switching activity factor, $\\alpha$, as the expected number of $0 \\rightarrow 1$ transitions per clock cycle. The clock frequency, $f$, is the number of clock cycles per second.\nThe rate of charging events (the number of $0 \\rightarrow 1$ transitions per second) is the product of these two quantities:\n$$\n\\text{Rate of charging} = \\alpha f\n$$\nDynamic power, $P$, is the rate of energy consumption. It is calculated by multiplying the energy per charging event by the rate of charging events:\n$$\nP = E_{\\text{cycle}} \\times (\\alpha f) = (C_{\\text{eff}} V^2) \\times (\\alpha f)\n$$\nRearranging the terms gives the standard expression for dynamic power:\n$$\nP = \\alpha C_{\\text{eff}} f V^2\n$$\nThis is the required expression for dynamic power as a function of $C_{\\text{eff}}$, $V$, $f$, and $\\alpha$.\n\nNext, we compute the numerical value of $P$ using the given values: $C_{\\text{eff}} = 20 \\text{ pF} = 20 \\times 10^{-12} \\text{ F}$, $V = 0.8 \\text{ V}$, $f = 1 \\text{ GHz} = 1 \\times 10^9 \\text{ Hz}$, and $\\alpha = 0.1$.\n$$\nP = (0.1) \\times (20 \\times 10^{-12}) \\times (1 \\times 10^9) \\times (0.8)^2\n$$\n$$\nP = (0.1) \\times (20 \\times 10^{-3}) \\times (0.64) = 2 \\times 10^{-3} \\times 0.64 = 1.28 \\times 10^{-3} \\text{ W}\n$$\nRounding to four significant figures, $P = 1.280 \\times 10^{-3} \\text{ W}$.\n\nNow, we compute the partial derivatives of $P$ with respect to each parameter. The power function is $P(\\alpha, C_{\\text{eff}}, f, V) = \\alpha C_{\\text{eff}} f V^2$.\n\n1.  Sensitivity with respect to $C_{\\text{eff}}$:\n    $$\n    \\frac{\\partial P}{\\partial C_{\\text{eff}}} = \\frac{\\partial}{\\partial C_{\\text{eff}}} (\\alpha C_{\\text{eff}} f V^2) = \\alpha f V^2\n    $$\n    Evaluating at the given values:\n    $$\n    \\frac{\\partial P}{\\partial C_{\\text{eff}}} = (0.1) \\times (1 \\times 10^9) \\times (0.8)^2 = 0.1 \\times 10^9 \\times 0.64 = 6.4 \\times 10^7 \\text{ W/F}\n    $$\n    Rounding to four significant figures, $\\frac{\\partial P}{\\partial C_{\\text{eff}}} = 6.400 \\times 10^7 \\text{ W/F}$.\n\n2.  Sensitivity with respect to $V$:\n    $$\n    \\frac{\\partial P}{\\partial V} = \\frac{\\partial}{\\partial V} (\\alpha C_{\\text{eff}} f V^2) = 2 \\alpha C_{\\text{eff}} f V\n    $$\n    Evaluating at the given values:\n    $$\n    \\frac{\\partial P}{\\partial V} = 2 \\times (0.1) \\times (20 \\times 10^{-12}) \\times (1 \\times 10^9) \\times (0.8)\n    $$\n    $$\n    \\frac{\\partial P}{\\partial V} = 2 \\times (0.1) \\times (20 \\times 10^{-3}) \\times (0.8) = 4 \\times 10^{-3} \\times 0.8 = 3.2 \\times 10^{-3} \\text{ W/V}\n    $$\n    Rounding to four significant figures, $\\frac{\\partial P}{\\partial V} = 3.200 \\times 10^{-3} \\text{ W/V}$.\n\n3.  Sensitivity with respect to $f$:\n    $$\n    \\frac{\\partial P}{\\partial f} = \\frac{\\partial}{\\partial f} (\\alpha C_{\\text{eff}} f V^2) = \\alpha C_{\\text{eff}} V^2\n    $$\n    Evaluating at the given values:\n    $$\n    \\frac{\\partial P}{\\partial f} = (0.1) \\times (20 \\times 10^{-12}) \\times (0.8)^2 = 2 \\times 10^{-12} \\times 0.64 = 1.28 \\times 10^{-12} \\text{ W/Hz}\n    $$\n    Rounding to four significant figures, $\\frac{\\partial P}{\\partial f} = 1.280 \\times 10^{-12} \\text{ W/Hz}$.\n\n4.  Sensitivity with respect to $\\alpha$:\n    $$\n    \\frac{\\partial P}{\\partial \\alpha} = \\frac{\\partial}{\\partial \\alpha} (\\alpha C_{\\text{eff}} f V^2) = C_{\\text{eff}} f V^2\n    $$\n    Evaluating at the given values:\n    $$\n    \\frac{\\partial P}{\\partial \\alpha} = (20 \\times 10^{-12}) \\times (1 \\times 10^9) \\times (0.8)^2\n    $$\n    $$\n    \\frac{\\partial P}{\\partial \\alpha} = (20 \\times 10^{-3}) \\times 0.64 = 12.8 \\times 10^{-3} = 1.28 \\times 10^{-2} \\text{ W}\n    $$\n    Rounding to four significant figures, $\\frac{\\partial P}{\\partial \\alpha} = 1.280 \\times 10^{-2} \\text{ W}$.\n\nFinally, we assemble the results into the required row vector:\n$$\n\\left[ P,\\ \\frac{\\partial P}{\\partial C_{\\text{eff}}},\\ \\frac{\\partial P}{\\partial V},\\ \\frac{\\partial P}{\\partial f},\\ \\frac{\\partial P}{\\partial \\alpha} \\right]\n$$\nThe vector of numerical values is:\n$$\n\\left[ 1.280 \\times 10^{-3},\\ 6.400 \\times 10^7,\\ 3.200 \\times 10^{-3},\\ 1.280 \\times 10^{-12},\\ 1.280 \\times 10^{-2} \\right]\n$$",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1.280 \\times 10^{-3} & 6.400 \\times 10^{7} & 3.200 \\times 10^{-3} & 1.280 \\times 10^{-12} & 1.280 \\times 10^{-2}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "While clock gating is a powerful technique for reducing dynamic power, its implementation is not 'free'. This practice  moves from theory to a realistic design trade-off analysis. You will evaluate whether the dynamic energy saved by gating a large block of flip-flops outweighs the energy cost from the leakage power of the added clock gating cells, a critical calculation in modern low-power design.",
            "id": "4260185",
            "problem": "A synchronous digital block contains $10{,}000$ edge-triggered flip-flops clocked at frequency $f = 1.0 \\times 10^{9}\\,\\mathrm{Hz}$ from a global clock distribution network at supply voltage $V_{\\mathrm{DD}} = 0.8\\,\\mathrm{V}$. Each flip-flop presents an effective clock-leaf load (clock pin plus immediately local interconnect) of $C_{\\mathrm{leaf}} = 18\\,\\mathrm{fF}$. The un-gated global trunk seen by the block has an effective capacitance of $C_{\\mathrm{trunk}} = 20\\,\\mathrm{pF}$ that is driven every cycle regardless of local clock-gating choices. You plan to insert Integrated Clock Gating (ICG) cells near the leaves, each ICG cell gating a cluster of $100$ flip-flops. Each ICG cell has an input clock capacitance $C_{\\mathrm{icg,in}} = 30\\,\\mathrm{fF}$ that is driven by the un-gated trunk on every cycle and an output pin capacitance $C_{\\mathrm{icg,out}} = 5\\,\\mathrm{fF}$ that toggles only when the gated clock propagates. Assume the gated output suppresses all toggling to its fanout when the enable is low, and that the enable signal is high for a fraction $d = 0.3$ of cycles, independent of the clock. Neglect short-circuit power and any glitching. The leakage power of each ICG cell is $P_{\\mathrm{icg,leak}} = 0.9\\,\\mathrm{\\mu W}$ and its physical area is $A_{\\mathrm{icg}} = 45\\,\\mathrm{\\mu m}^{2}$.\n\nUsing only first principles about dynamic switching energy and linear superposition of capacitances, compute:\n- the total area overhead due to the inserted ICG cells,\n- the total leakage power overhead due to the inserted ICG cells,\n- the net dynamic energy benefit per clock cycle achieved by gating, defined as the dynamic energy saved per cycle relative to the no-gating baseline, minus the leakage energy per cycle due to the added ICG cells.\n\nRound your final energy answer to four significant figures. Express the final energy in picojoules. Provide only the net energy benefit per cycle as your final reported value.",
            "solution": "The user has provided a problem statement that requires validation against a checklist of criteria for scientific soundness, completeness, and clarity.\n\n### Step 1: Extract Givens\n-   Number of flip-flops: $N_{\\mathrm{ff}} = 10{,}000$\n-   Clock frequency: $f = 1.0 \\times 10^{9}\\,\\mathrm{Hz}$\n-   Supply voltage: $V_{\\mathrm{DD}} = 0.8\\,\\mathrm{V}$\n-   Effective clock-leaf load per flip-flop: $C_{\\mathrm{leaf}} = 18\\,\\mathrm{fF}$\n-   Effective capacitance of the un-gated global trunk: $C_{\\mathrm{trunk}} = 20\\,\\mathrm{pF}$\n-   Number of flip-flops per ICG cell cluster: $N_{\\mathrm{ff\\_per\\_icg}} = 100$\n-   ICG cell input clock capacitance: $C_{\\mathrm{icg,in}} = 30\\,\\mathrm{fF}$\n-   ICG cell output pin capacitance: $C_{\\mathrm{icg,out}} = 5\\,\\mathrm{fF}$\n-   Enable signal high fraction: $d = 0.3$\n-   Leakage power of each ICG cell: $P_{\\mathrm{icg,leak}} = 0.9\\,\\mathrm{\\mu W}$\n-   Physical area of each ICG cell: $A_{\\mathrm{icg}} = 45\\,\\mathrm{\\mu m}^{2}$\n-   Assumptions: Neglect short-circuit power and glitching.\n-   Required computations: Total area overhead, total leakage power overhead, and net dynamic energy benefit per cycle. The final reported value is the net energy benefit only.\n\n### Step 2: Validate Using Extracted Givens\n-   **Scientifically Grounded**: The problem is based on fundamental principles of CMOS circuit design, specifically the calculation of dynamic power ($P_{\\mathrm{dyn}} = \\alpha C V_{\\mathrm{DD}}^2 f$) and leakage power. The given values for voltage, frequency, and capacitance are realistic for modern semiconductor technologies. The model, though simplified by neglecting certain power components, is a standard and valid approach for first-order analysis. The problem is scientifically sound.\n-   **Well-Posed**: The problem is clearly defined and provides all necessary data to compute the requested quantities. The objectives are unambiguous, leading to a unique and meaningful solution.\n-   **Objective**: The problem is stated using precise, objective, and technical language common in the field of electronics and computer engineering. It is free from subjective or biased phrasing.\n-   **Completeness and Consistency**: All required numerical values and conditions are provided. The number of flip-flops ($10{,}000$) is an integer multiple of the cluster size ($100$), ensuring no ambiguity in the number of ICG cells. There are no internal contradictions.\n-   **Other Criteria**: The problem is not trivial, unrealistic, ill-posed, or unverifiable. It requires a careful application of established formulas to a practical engineering scenario.\n\n### Step 3: Verdict and Action\nThe problem is valid. A complete solution will be provided.\n\nThe analysis proceeds by first establishing the overheads introduced by the clock gating cells, then calculating the dynamic energy consumption for the baseline (un-gated) and the gated scenarios, and finally combining these results to find the net energy benefit.\n\nFirst, we determine the number of Integrated Clock Gating (ICG) cells required. With $N_{\\mathrm{ff}} = 10{,}000$ flip-flops and a cluster size of $N_{\\mathrm{ff\\_per\\_icg}} = 100$ flip-flops per ICG, the number of ICG cells is:\n$$N_{\\mathrm{icg}} = \\frac{N_{\\mathrm{ff}}}{N_{\\mathrm{ff\\_per\\_icg}}} = \\frac{10{,}000}{100} = 100$$\nThe total area overhead from these cells is the product of the number of cells and the area of a single cell:\n$$A_{\\mathrm{overhead}} = N_{\\mathrm{icg}} \\times A_{\\mathrm{icg}} = 100 \\times 45\\,\\mathrm{\\mu m}^{2} = 4500\\,\\mathrm{\\mu m}^{2}$$\nSimilarly, the total leakage power overhead is:\n$$P_{\\mathrm{leak,overhead}} = N_{\\mathrm{icg}} \\times P_{\\mathrm{icg,leak}} = 100 \\times 0.9\\,\\mathrm{\\mu W} = 90\\,\\mathrm{\\mu W}$$\n\nNext, we analyze the dynamic energy per clock cycle. The dynamic energy for a full $0 \\to V_{\\mathrm{DD}} \\to 0$ transition is $E_{\\mathrm{dyn}} = C V_{\\mathrm{DD}}^2$.\n\nIn the baseline (un-gated) scenario, the entire clock network capacitance switches every cycle. This total capacitance, $C_{\\mathrm{baseline}}$, is the sum of the trunk capacitance and the total leaf capacitance of all flip-flops.\n$$C_{\\mathrm{ff,total}} = N_{\\mathrm{ff}} \\times C_{\\mathrm{leaf}} = 10{,}000 \\times 18\\,\\mathrm{fF} = 180{,}000\\,\\mathrm{fF} = 180\\,\\mathrm{pF}$$\n$$C_{\\mathrm{baseline}} = C_{\\mathrm{trunk}} + C_{\\mathrm{ff,total}} = 20\\,\\mathrm{pF} + 180\\,\\mathrm{pF} = 200\\,\\mathrm{pF}$$\nThe dynamic energy per cycle for the baseline case is:\n$$E_{\\mathrm{baseline}} = C_{\\mathrm{baseline}} V_{\\mathrm{DD}}^2 = (200 \\times 10^{-12}\\,\\mathrm{F}) \\times (0.8\\,\\mathrm{V})^2 = 200 \\times 0.64 \\times 10^{-12}\\,\\mathrm{J} = 128 \\times 10^{-12}\\,\\mathrm{J} = 128\\,\\mathrm{pJ}$$\n\nIn the gated scenario, the clock network capacitance is partitioned. The un-gated portion, which switches every cycle, consists of the trunk and the inputs to all ICG cells.\n$$C_{\\mathrm{icg,in,total}} = N_{\\mathrm{icg}} \\times C_{\\mathrm{icg,in}} = 100 \\times 30\\,\\mathrm{fF} = 3000\\,\\mathrm{fF} = 3\\,\\mathrm{pF}$$\n$$C_{\\mathrm{un-gated}} = C_{\\mathrm{trunk}} + C_{\\mathrm{icg,in,total}} = 20\\,\\mathrm{pF} + 3\\,\\mathrm{pF} = 23\\,\\mathrm{pF}$$\nThe gated portion consists of the ICG cell outputs and the flip-flop leaves they drive. This portion only switches when the enable is high, which occurs for a fraction $d = 0.3$ of cycles. The total gated capacitance is:\n$$C_{\\mathrm{gated,total}} = N_{\\mathrm{icg}} \\times (C_{\\mathrm{icg,out}} + N_{\\mathrm{ff\\_per\\_icg}} \\times C_{\\mathrm{leaf}}) = 100 \\times (5\\,\\mathrm{fF} + 100 \\times 18\\,\\mathrm{fF}) = 100 \\times (1805\\,\\mathrm{fF}) = 180{,}500\\,\\mathrm{fF} = 180.5\\,\\mathrm{pF}$$\nThe average dynamic energy per cycle in the gated scenario, $E_{\\mathrm{gated}}$, is the sum of the energy from the un-gated part (which always switches) and the average energy from the gated part (which switches with probability $d$):\n$$E_{\\mathrm{gated}} = C_{\\mathrm{un-gated}} V_{\\mathrm{DD}}^2 + d \\cdot (C_{\\mathrm{gated,total}} V_{\\mathrm{DD}}^2) = (C_{\\mathrm{un-gated}} + d \\cdot C_{\\mathrm{gated,total}}) V_{\\mathrm{DD}}^2$$\nThe effective average switched capacitance is $C_{\\mathrm{eff}} = C_{\\mathrm{un-gated}} + d \\cdot C_{\\mathrm{gated,total}} = 23\\,\\mathrm{pF} + 0.3 \\times 180.5\\,\\mathrm{pF} = 23\\,\\mathrm{pF} + 54.15\\,\\mathrm{pF} = 77.15\\,\\mathrm{pF}$.\n$$E_{\\mathrm{gated}} = (77.15 \\times 10^{-12}\\,\\mathrm{F}) \\times (0.8\\,\\mathrm{V})^2 = 77.15 \\times 0.64 \\times 10^{-12}\\,\\mathrm{J} = 49.376 \\times 10^{-12}\\,\\mathrm{J} = 49.376\\,\\mathrm{pJ}$$\nThe dynamic energy saved per cycle is the difference between the baseline and gated energies:\n$$E_{\\mathrm{saved,dyn}} = E_{\\mathrm{baseline}} - E_{\\mathrm{gated}} = 128\\,\\mathrm{pJ} - 49.376\\,\\mathrm{pJ} = 78.624\\,\\mathrm{pJ}$$\n\nFinally, we compute the net energy benefit. This requires subtracting the energy overhead per cycle due to the leakage of the added ICG cells. The clock period is $T = 1/f = 1/(1.0 \\times 10^9\\,\\mathrm{Hz}) = 1.0 \\times 10^{-9}\\,\\mathrm{s}$.\nThe leakage energy overhead per cycle is:\n$$E_{\\mathrm{leak,overhead}} = P_{\\mathrm{leak,overhead}} \\times T = (90 \\times 10^{-6}\\,\\mathrm{W}) \\times (1.0 \\times 10^{-9}\\,\\mathrm{s}) = 90 \\times 10^{-15}\\,\\mathrm{J} = 0.090\\,\\mathrm{pJ}$$\nThe net energy benefit per cycle is the dynamic energy saved minus the leakage energy overhead:\n$$E_{\\mathrm{benefit}} = E_{\\mathrm{saved,dyn}} - E_{\\mathrm{leak,overhead}} = 78.624\\,\\mathrm{pJ} - 0.090\\,\\mathrm{pJ} = 78.534\\,\\mathrm{pJ}$$\nRounding to four significant figures as requested, the net energy benefit is $78.53\\,\\mathrm{pJ}$.",
            "answer": "$$ \\boxed{78.53} $$"
        },
        {
            "introduction": "A functionally incorrect implementation of clock gating can be worse than no gating at all. This final exercise  delves into the critical issue of timing hazards, where improper synchronization between the clock and enable signals can create spurious pulses or 'glitches'. By analyzing the conditions that lead to such hazards in a simplified model, you will develop the skills to ensure clock gating logic is not only power-efficient but also functionally robust.",
            "id": "4260192",
            "problem": "A Complementary Metal–Oxide–Semiconductor (CMOS) two-input logical AND gate is employed for clock gating in an Electronic Design Automation (EDA) flow. Input $A(t)$ is a rising clock edge, and input $B(t)$ is a deasserting enable that begins falling after a logic path delay. Both inputs exhibit finite slew rates. Model each transition as a linear ramp between $0$ and $V_{\\mathrm{DD}}$, and model the AND gate with a single input transition recognition threshold $V_{\\mathrm{T}}$ (the gate output goes high only when both inputs exceed $V_{\\mathrm{T}}$, and goes low when either input falls below $V_{\\mathrm{T}}$). The AND gate has distinct arc-dependent propagation delays $t_{\\mathrm{pd,r}}$ for rising output transitions and $t_{\\mathrm{pd,f}}$ for falling output transitions.\n\nLet $A(t)$ start rising at $t=0$ from $0$ to $V_{\\mathrm{DD}}$ with rise time $t_{rA}$. Let $B(t)$ start falling at $t=\\Delta$ from $V_{\\mathrm{DD}}$ to $0$ with fall time $t_{fB}$. Assume $B(t)$ is initially high. Use the threshold-crossing principle to reason about when the AND gate output can momentarily go high, creating a hazardous pulse that can consume dynamic power without useful work.\n\nTask:\n1. Derive, from first principles and without invoking any pre-derived hazard formulas, the condition on $t_{rA}$, $t_{fB}$, $\\Delta$, $V_{\\mathrm{T}}$, and $V_{\\mathrm{DD}}$ under which the AND gate produces a short high pulse at its output. Express this condition in terms of the inequality that must hold for a positive overlap interval during which both inputs simultaneously exceed $V_{\\mathrm{T}}$.\n2. Using the same first-principles approach, derive a closed-form expression for the output high pulse width in terms of $t_{rA}$, $t_{fB}$, $\\Delta$, $V_{\\mathrm{T}}$, $V_{\\mathrm{DD}}$, $t_{\\mathrm{pd,r}}$, and $t_{\\mathrm{pd,f}}$, given the linear-ramp model and the thresholded behavior described above.\n3. For the specific parameters\n   - $V_{\\mathrm{DD}}=0.8$,\n   - $V_{\\mathrm{T}}=0.4$,\n   - $t_{rA}=20\\,\\mathrm{ps}$,\n   - $t_{fB}=30\\,\\mathrm{ps}$,\n   - $\\Delta=5\\,\\mathrm{ps}$,\n   - $t_{\\mathrm{pd,r}}=12\\,\\mathrm{ps}$,\n   - $t_{\\mathrm{pd,f}}=9\\,\\mathrm{ps}$,\n   compute the minimum output high pulse width produced by this interaction and express your final result in picoseconds.\n\nRound your final numerical answer to four significant figures, and express the result in $\\mathrm{ps}$.",
            "solution": "The problem is assessed to be valid. It is scientifically grounded in the principles of digital CMOS circuit analysis, specifically concerning timing hazards in clock gating logic. The problem is well-posed, providing a clear, simplified model (linear ramp, single threshold) and all necessary parameters to derive a unique solution. The language is objective and the setup is self-contained and consistent.\n\nWe will now proceed with a step-by-step derivation based on first principles as requested.\n\nFirst, we formalize the input signals $A(t)$ and $B(t)$ based on the linear ramp model.\n\nThe input signal $A(t)$, representing the clock edge, starts rising from $0$ at $t=0$ and reaches $V_{\\mathrm{DD}}$ at $t=t_{rA}$. Its equation is:\n$$\nA(t) = \\begin{cases}\n\\left(\\frac{V_{\\mathrm{DD}}}{t_{rA}}\\right) t & \\text{for } 0 \\le t \\le t_{rA} \\\\\nV_{\\mathrm{DD}} & \\text{for } t > t_{rA}\n\\end{cases}\n$$\n\nThe input signal $B(t)$, representing the deasserting enable, is initially high at $V_{\\mathrm{DD}}$ and starts falling at $t=\\Delta$. It reaches $0$ at $t=\\Delta+t_{fB}$. Its equation is:\n$$\nB(t) = \\begin{cases}\nV_{\\mathrm{DD}} & \\text{for } t < \\Delta \\\\\nV_{\\mathrm{DD}} - \\left(\\frac{V_{\\mathrm{DD}}}{t_{fB}}\\right) (t - \\Delta) & \\text{for } \\Delta \\le t \\le \\Delta + t_{fB} \\\\\n0 & \\text{for } t > \\Delta + t_{fB}\n\\end{cases}\n$$\n\nAccording to the problem description, the AND gate's output is logically high only when both inputs are simultaneously above the recognition threshold $V_{\\mathrm{T}}$. A hazardous pulse occurs if there is a non-zero time interval during which this condition is met.\n\n### Part 1: Condition for a Hazardous Pulse\n\nWe must find the time interval during which $A(t) > V_{\\mathrm{T}}$ and $B(t) > V_{\\mathrm{T}}$.\n\nFirst, we find the time $t_{A,\\text{cross}}$ at which input $A(t)$ crosses the threshold $V_{\\mathrm{T}}$. This occurs during its rising ramp.\n$$\nA(t_{A,\\text{cross}}) = V_{\\mathrm{T}} \\implies \\left(\\frac{V_{\\mathrm{DD}}}{t_{rA}}\\right) t_{A,\\text{cross}} = V_{\\mathrm{T}}\n$$\nSolving for $t_{A,\\text{cross}}$:\n$$\nt_{A,\\text{cross}} = t_{rA} \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}}\n$$\nFor any time $t > t_{A,\\text{cross}}$, the input $A(t)$ will be above $V_{\\mathrm{T}}$.\n\nNext, we find the time $t_{B,\\text{cross}}$ at which input $B(t)$ crosses the threshold $V_{\\mathrm{T}}$. This occurs during its falling ramp.\n$$\nB(t_{B,\\text{cross}}) = V_{\\mathrm{T}} \\implies V_{\\mathrm{DD}} - \\left(\\frac{V_{\\mathrm{DD}}}{t_{fB}}\\right) (t_{B,\\text{cross}} - \\Delta) = V_{\\mathrm{T}}\n$$\nSolving for $t_{B,\\text{cross}}$:\n$$\nV_{\\mathrm{DD}} - V_{\\mathrm{T}} = \\left(\\frac{V_{\\mathrm{DD}}}{t_{fB}}\\right) (t_{B,\\text{cross}} - \\Delta)\n$$\n$$\nt_{B,\\text{cross}} - \\Delta = (V_{\\mathrm{DD}} - V_{\\mathrm{T}}) \\frac{t_{fB}}{V_{\\mathrm{DD}}} = t_{fB}\\left(1 - \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}}\\right)\n$$\n$$\nt_{B,\\text{cross}} = \\Delta + t_{fB}\\left(1 - \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}}\\right)\n$$\nFor any time $t < t_{B,\\text{cross}}$, the input $B(t)$ will be above $V_{\\mathrm{T}}$ (since it starts high).\n\nA hazardous pulse is generated if and only if there is an overlap in the time intervals where each input is above the threshold. Input $A(t)$ is high for $t \\in [t_{A,\\text{cross}}, \\infty)$ and input $B(t)$ is high for $t \\in (-\\infty, t_{B,\\text{cross}}]$. An overlap exists if the start of the first interval is before the end of the second interval.\nTherefore, the condition for a glitch is:\n$$\nt_{A,\\text{cross}} < t_{B,\\text{cross}}\n$$\nSubstituting the derived expressions, we get the condition:\n$$\nt_{rA} \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}} < \\Delta + t_{fB}\\left(1 - \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}}\\right)\n$$\nThis inequality is the condition under which the AND gate produces a short high pulse at its output.\n\n### Part 2: Expression for the Output High Pulse Width\n\nThe internal logic of the AND gate evaluates to true during the interval $[t_{A,\\text{cross}}, t_{B,\\text{cross}}]$. The gate's output responds after its characteristic propagation delays.\n\nThe output begins to rise at a time $t_{\\text{out,rise}}$, which is $t_{\\mathrm{pd,r}}$ after the condition $A(t)>V_{\\mathrm{T}} \\text{ and } B(t)>V_{\\mathrm{T}}$ is first met. This occurs at $t_{A,\\text{cross}}$.\n$$\nt_{\\text{out,rise}} = t_{A,\\text{cross}} + t_{\\mathrm{pd,r}} = t_{rA} \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}} + t_{\\mathrm{pd,r}}\n$$\n\nThe output begins to fall at a time $t_{\\text{out,fall}}$, which is $t_{\\mathrm{pd,f}}$ after the condition $A(t)>V_{\\mathrm{T}} \\text{ and } B(t)>V_{\\mathrm{T}}$ is no longer met. This occurs at $t_{B,\\text{cross}}$.\n$$\nt_{\\text{out,fall}} = t_{B,\\text{cross}} + t_{\\mathrm{pd,f}} = \\left( \\Delta + t_{fB}\\left(1 - \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}}\\right) \\right) + t_{\\mathrm{pd,f}}\n$$\n\nThe width of the output high pulse, $W_{\\text{pulse}}$, is the time difference between the falling edge and the rising edge of the output signal.\n$$\nW_{\\text{pulse}} = t_{\\text{out,fall}} - t_{\\text{out,rise}}\n$$\nSubstituting the expressions for $t_{\\text{out,fall}}$ and $t_{\\text{out,rise}}$:\n$$\nW_{\\text{pulse}} = \\left[ \\Delta + t_{fB}\\left(1 - \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}}\\right) + t_{\\mathrm{pd,f}} \\right] - \\left[ t_{rA} \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}} + t_{\\mathrm{pd,r}} \\right]\n$$\nRearranging the terms gives the closed-form expression for the output pulse width:\n$$\nW_{\\text{pulse}} = \\Delta + t_{fB} - (t_{rA} + t_{fB})\\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}} + t_{\\mathrm{pd,f}} - t_{\\mathrm{pd,r}}\n$$\n\n### Part 3: Numerical Computation\n\nWe are given the following parameters:\n- $V_{\\mathrm{DD}} = 0.8$\n- $V_{\\mathrm{T}} = 0.4$\n- $t_{rA} = 20\\,\\mathrm{ps}$\n- $t_{fB} = 30\\,\\mathrm{ps}$\n- $\\Delta = 5\\,\\mathrm{ps}$\n- $t_{\\mathrm{pd,r}} = 12\\,\\mathrm{ps}$\n- $t_{\\mathrm{pd,f}} = 9\\,\\mathrm{ps}$\n\nFirst, we calculate the threshold ratio:\n$$\n\\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}} = \\frac{0.4}{0.8} = 0.5\n$$\n\nNow, we can use the derived formula for $W_{\\text{pulse}}$ to compute its value.\n$$\nW_{\\text{pulse}} = \\Delta + t_{fB} - (t_{rA} + t_{fB})\\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}} + t_{\\mathrm{pd,f}} - t_{\\mathrm{pd,r}}\n$$\nSubstitute the numerical values (timings in picoseconds):\n$$\nW_{\\text{pulse}} = 5 + 30 - (20 + 30)(0.5) + 9 - 12\n$$\n$$\nW_{\\text{pulse}} = 35 - (50)(0.5) - 3\n$$\n$$\nW_{\\text{pulse}} = 35 - 25 - 3\n$$\n$$\nW_{\\text{pulse}} = 10 - 3\n$$\n$$\nW_{\\text{pulse}} = 7\\,\\mathrm{ps}\n$$\n\nThe problem asks for the result to be rounded to four significant figures. The exact answer is $7$. To express this with four significant figures, we write $7.000$.\n\nThe width of the high pulse at the output is $7.000\\,\\mathrm{ps}$.\nLet's verify the condition from Part 1 is met with these parameters:\n$t_{A,\\text{cross}} = 20\\,\\mathrm{ps} \\times 0.5 = 10\\,\\mathrm{ps}$\n$t_{B,\\text{cross}} = 5\\,\\mathrm{ps} + 30\\,\\mathrm{ps} \\times (1 - 0.5) = 5\\,\\mathrm{ps} + 15\\,\\mathrm{ps} = 20\\,\\mathrm{ps}$\nSince $10\\,\\mathrm{ps} < 20\\,\\mathrm{ps}$, the condition $t_{A,\\text{cross}} < t_{B,\\text{cross}}$ holds, and a pulse is indeed generated.\nThe resulting pulse width calculation is correct.",
            "answer": "$$\n\\boxed{7.000}\n$$"
        }
    ]
}