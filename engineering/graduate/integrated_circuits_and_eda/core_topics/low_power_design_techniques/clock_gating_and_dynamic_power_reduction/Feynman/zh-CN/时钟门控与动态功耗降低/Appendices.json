{
    "hands_on_practices": [
        {
            "introduction": "要有效降低功耗，我们必须首先掌握如何精确地量化它。本练习将引导您从第一性原理出发，推导动态功耗的基本方程。通过分析功耗对其各个组成参数（如电容 $C$、电压 $V$、频率 $f$ 和活动因子 $\\alpha$）的敏感度，您将发现哪些因素是功耗优化的关键杠杆，为后续的门控时钟设计奠定坚实的数学基础。",
            "id": "4260188",
            "problem": "系统级芯片中的一个互补金属氧化物半导体（CMOS）逻辑门采用时钟门控技术，以在其下游逻辑空闲时减少不必要的开关切换。考虑该逻辑门的有效开关电容 $C_{\\text{eff}}$、电源电压 $V$、时钟频率 $f$ 和开关活动因子 $\\alpha$，其中 $\\alpha$ 定义为在每个时钟周期内，门输出端发生 $0 \\rightarrow 1$ 转换的期望次数（在稳态下，每个 $0 \\rightarrow 1$ 转换最终都会伴随一个 $1 \\rightarrow 0$ 转换）。从基本定义出发——即充电至电压 $V$ 的电容器中存储的能量为 $\\frac{1}{2} C V^{2}$，动态功率等于电源为电容充电提供能量的速率，以及单位时间内 $0 \\rightarrow 1$ 充电事件的次数为 $\\alpha f$——推导动态功率作为 $C_{\\text{eff}}$、$V$、$f$ 和 $\\alpha$ 函数的表达式。然后，使用此表达式计算当 $C_{\\text{eff}} = 20 \\text{ pF}$、$V = 0.8 \\text{ V}$、$f = 1 \\text{ GHz}$ 和 $\\alpha = 0.1$ 时的动态功率。接下来，通过计算在相同数值下的偏导数 $\\frac{\\partial P}{\\partial C_{\\text{eff}}}$、$\\frac{\\partial P}{\\partial V}$、$\\frac{\\partial P}{\\partial f}$ 和 $\\frac{\\partial P}{\\partial \\alpha}$ 来分析动态功率对每个参数的灵敏度。\n\n将动态功率以瓦特为单位表示，$\\frac{\\partial P}{\\partial C_{\\text{eff}}}$ 以瓦特每法拉为单位，$\\frac{\\partial P}{\\partial V}$ 以瓦特每伏特为单位，$\\frac{\\partial P}{\\partial f}$ 以瓦特每赫兹为单位，$\\frac{\\partial P}{\\partial \\alpha}$ 以瓦特为单位。将每个数值结果四舍五入至四位有效数字。将您的最终结果以单行向量的形式报告：\n$$\\left[ P,\\ \\frac{\\partial P}{\\partial C_{\\text{eff}}},\\ \\frac{\\partial P}{\\partial V},\\ \\frac{\\partial P}{\\partial f},\\ \\frac{\\partial P}{\\partial \\alpha} \\right].$$",
            "solution": "问题陈述已经过验证，被认为是有效的。其科学依据在于数字电路设计的原理，特别是CMOS的动态功耗。该问题是适定的，提供了推导唯一解所需的所有必要定义、变量和数值。其语言客观，参数符合物理实际。\n\n第一步是根据所提供的基本原理推导动态功率 $P$ 的表达式。\nCMOS电路中的动态功率是在逻辑状态转换期间，由于负载电容的充放电而消耗的功率。让我们考虑CMOS门输出端的一次 $0 \\rightarrow 1$ 转换。这次转换需要将有效负载电容 $C_{\\text{eff}}$ 从电压0充电到电源电压 $V$。\n\n为此，必须从电源传输到电容器的总电荷量 $Q$ 由 $Q = C_{\\text{eff}} V$ 给出。\n从恒定电压源 $V$ 汲取以提供此电荷的能量 $E_{\\text{supply}}$ 为 $E_{\\text{supply}} = V Q = V(C_{\\text{eff}} V) = C_{\\text{eff}} V^2$。\n根据电路理论的一个基本结论，在通过有电阻的PMOS网络进行此充电过程中，从电源汲取的能量一半存储在电容器中，另一半则在晶体管中以热量形式耗散。如问题前提所述，存储在电容器中的能量确实是 $E_{\\text{cap}} = \\frac{1}{2} C_{\\text{eff}} V^2$。在随后的 $1 \\rightarrow 0$ 转换期间，当电容器通过NMOS网络放电到地时，这个存储的能量会以热量形式耗散。在放电期间，不从电源汲取能量。\n因此，对于一个完整的开关事件（一个 $0 \\rightarrow 1$ 转换后跟一个 $1 \\rightarrow 0$ 转换），从电源消耗的总能量完全是充电阶段汲取的能量，即 $E_{\\text{cycle}} = C_{\\text{eff}} V^2$。\n\n问题将开关活动因子 $\\alpha$ 定义为每个时钟周期内 $0 \\rightarrow 1$ 转换的期望次数。时钟频率 $f$ 是每秒的时钟周期数。\n充电事件的速率（即每秒 $0 \\rightarrow 1$ 转换的次数）是这两个量的乘积：\n$$\n\\text{充电速率} = \\alpha f\n$$\n动态功率 $P$ 是能量消耗的速率。它通过将每次充电事件的能量乘以充电事件的速率来计算：\n$$\nP = E_{\\text{cycle}} \\times (\\alpha f) = (C_{\\text{eff}} V^2) \\times (\\alpha f)\n$$\n重新排列这些项，得到动态功率的标准表达式：\n$$\nP = \\alpha C_{\\text{eff}} f V^2\n$$\n这就是所要求的动态功率作为 $C_{\\text{eff}}$、$V$、$f$ 和 $\\alpha$ 的函数表达式。\n\n接下来，我们使用给定值计算 $P$ 的数值：$C_{\\text{eff}} = 20 \\text{ pF} = 20 \\times 10^{-12} \\text{ F}$，$V = 0.8 \\text{ V}$，$f = 1 \\text{ GHz} = 1 \\times 10^9 \\text{ Hz}$，以及 $\\alpha = 0.1$。\n$$\nP = (0.1) \\times (20 \\times 10^{-12}) \\times (1 \\times 10^9) \\times (0.8)^2\n$$\n$$\nP = (0.1) \\times (20 \\times 10^{-3}) \\times (0.64) = 2 \\times 10^{-3} \\times 0.64 = 1.28 \\times 10^{-3} \\text{ W}\n$$\n四舍五入到四位有效数字，得到 $P = 1.280 \\times 10^{-3} \\text{ W}$。\n\n现在，我们计算 $P$ 对每个参数的偏导数。功率函数为 $P(\\alpha, C_{\\text{eff}}, f, V) = \\alpha C_{\\text{eff}} f V^2$。\n\n1.  对 $C_{\\text{eff}}$ 的灵敏度：\n    $$\n    \\frac{\\partial P}{\\partial C_{\\text{eff}}} = \\frac{\\partial}{\\partial C_{\\text{eff}}} (\\alpha C_{\\text{eff}} f V^2) = \\alpha f V^2\n    $$\n    在给定值下求值：\n    $$\n    \\frac{\\partial P}{\\partial C_{\\text{eff}}} = (0.1) \\times (1 \\times 10^9) \\times (0.8)^2 = 0.1 \\times 10^9 \\times 0.64 = 6.4 \\times 10^7 \\text{ W/F}\n    $$\n    四舍五入到四位有效数字，得到 $\\frac{\\partial P}{\\partial C_{\\text{eff}}} = 6.400 \\times 10^7 \\text{ W/F}$。\n\n2.  对 $V$ 的灵敏度：\n    $$\n    \\frac{\\partial P}{\\partial V} = \\frac{\\partial}{\\partial V} (\\alpha C_{\\text{eff}} f V^2) = 2 \\alpha C_{\\text{eff}} f V\n    $$\n    在给定值下求值：\n    $$\n    \\frac{\\partial P}{\\partial V} = 2 \\times (0.1) \\times (20 \\times 10^{-12}) \\times (1 \\times 10^9) \\times (0.8)\n    $$\n    $$\n    \\frac{\\partial P}{\\partial V} = 2 \\times (0.1) \\times (20 \\times 10^{-3}) \\times (0.8) = 4 \\times 10^{-3} \\times 0.8 = 3.2 \\times 10^{-3} \\text{ W/V}\n    $$\n    四舍五入到四位有效数字，得到 $\\frac{\\partial P}{\\partial V} = 3.200 \\times 10^{-3} \\text{ W/V}$。\n\n3.  对 $f$ 的灵敏度：\n    $$\n    \\frac{\\partial P}{\\partial f} = \\frac{\\partial}{\\partial f} (\\alpha C_{\\text{eff}} f V^2) = \\alpha C_{\\text{eff}} V^2\n    $$\n    在给定值下求值：\n    $$\n    \\frac{\\partial P}{\\partial f} = (0.1) \\times (20 \\times 10^{-12}) \\times (0.8)^2 = 2 \\times 10^{-12} \\times 0.64 = 1.28 \\times 10^{-12} \\text{ W/Hz}\n    $$\n    四舍五入到四位有效数字，得到 $\\frac{\\partial P}{\\partial f} = 1.280 \\times 10^{-12} \\text{ W/Hz}$。\n\n4.  对 $\\alpha$ 的灵敏度：\n    $$\n    \\frac{\\partial P}{\\partial \\alpha} = \\frac{\\partial}{\\partial \\alpha} (\\alpha C_{\\text{eff}} f V^2) = C_{\\text{eff}} f V^2\n    $$\n    在给定值下求值：\n    $$\n    \\frac{\\partial P}{\\partial \\alpha} = (20 \\times 10^{-12}) \\times (1 \\times 10^9) \\times (0.8)^2\n    $$\n    $$\n    \\frac{\\partial P}{\\partial \\alpha} = (20 \\times 10^{-3}) \\times 0.64 = 12.8 \\times 10^{-3} = 1.28 \\times 10^{-2} \\text{ W}\n    $$\n    四舍五入到四位有效数字，得到 $\\frac{\\partial P}{\\partial \\alpha} = 1.280 \\times 10^{-2} \\text{ W}$。\n\n最后，我们将结果组合成所要求的行向量：\n$$\n\\left[ P,\\ \\frac{\\partial P}{\\partial C_{\\text{eff}}},\\ \\frac{\\partial P}{\\partial V},\\ \\frac{\\partial P}{\\partial f},\\ \\frac{\\partial P}{\\partial \\alpha} \\right]\n$$\n数值向量为：\n$$\n\\left[ 1.280 \\times 10^{-3},\\ 6.400 \\times 10^7,\\ 3.200 \\times 10^{-3},\\ 1.280 \\times 10^{-12},\\ 1.280 \\times 10^{-2} \\right]\n$$",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1.280 \\times 10^{-3} & 6.400 \\times 10^{7} & 3.200 \\times 10^{-3} & 1.280 \\times 10^{-12} & 1.280 \\times 10^{-2}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "将理论应用于实践，我们从单个逻辑门转向真实的设计模块。实现时钟门控并非没有代价，它会引入额外的面积开销，更重要的是，增加了集成时钟门控（ICG）单元自身的泄漏功耗。本练习要求您进行一次全面的成本效益分析，通过从动态功耗节省中减去泄漏功耗的代价，来计算最终的*净节能*。这个过程真实反映了工程师在设计中必须做出的权衡决策。",
            "id": "4260185",
            "problem": "一个同步数字模块包含 $10{,}000$ 个边沿触发触发器，由一个全局时钟分配网络以 $f = 1.0 \\times 10^{9}\\,\\mathrm{Hz}$ 的频率提供时钟，电源电压为 $V_{\\mathrm{DD}} = 0.8\\,\\mathrm{V}$。每个触发器呈现一个有效的时钟叶负载（时钟引脚加上紧邻的本地互连）为 $C_{\\mathrm{leaf}} = 18\\,\\mathrm{fF}$。该模块所见的未门控全局主干的有效电容为 $C_{\\mathrm{trunk}} = 20\\,\\mathrm{pF}$，无论本地时钟门控选择如何，它在每个周期都会被驱动。您计划在叶节点附近插入集成时钟门控（ICG）单元，每个 ICG 单元门控一个包含 $100$ 个触发器的集群。每个 ICG 单元的输入时钟电容为 $C_{\\mathrm{icg,in}} = 30\\,\\mathrm{fF}$，每个周期都由未门控的主干驱动；其输出引脚电容为 $C_{\\mathrm{icg,out}} = 5\\,\\mathrm{fF}$，仅在门控时钟传播时才翻转。假设当使能信号为低电平时，门控输出会抑制其扇出的所有翻转，并且使能信号在 $d = 0.3$ 的周期比例内为高电平，与时钟无关。忽略短路功耗和任何毛刺。每个 ICG 单元的漏电功耗为 $P_{\\mathrm{icg,leak}} = 0.9\\,\\mathrm{\\mu W}$，其物理面积为 $A_{\\mathrm{icg}} = 45\\,\\mathrm{\\mu m}^{2}$。\n\n仅使用关于动态开关能量和电容线性叠加的第一性原理，计算：\n- 因插入 ICG 单元而产生的总面积开销，\n- 因插入 ICG 单元而产生的总漏电功耗开销，\n- 通过门控实现的每时钟周期的净动态能量收益，定义为相对于无门控基准每周期节省的动态能量，减去因增加 ICG 单元而产生的每周期漏电能量。\n\n将您的最终能量答案四舍五入到四位有效数字。以皮焦耳（pJ）为单位表示最终能量。仅提供每周期的净能量收益作为您最终报告的值。",
            "solution": "用户提供了一个问题陈述，需要根据科学合理性、完整性和清晰度的标准清单进行验证。\n\n### 步骤1：提取已知条件\n-   触发器数量：$N_{\\mathrm{ff}} = 10{,}000$\n-   时钟频率：$f = 1.0 \\times 10^{9}\\,\\mathrm{Hz}$\n-   电源电压：$V_{\\mathrm{DD}} = 0.8\\,\\mathrm{V}$\n-   每个触发器的有效时钟叶负载：$C_{\\mathrm{leaf}} = 18\\,\\mathrm{fF}$\n-   未门控全局主干的有效电容：$C_{\\mathrm{trunk}} = 20\\,\\mathrm{pF}$\n-   每个 ICG 单元集群的触发器数量：$N_{\\mathrm{ff\\_per\\_icg}} = 100$\n-   ICG 单元输入时钟电容：$C_{\\mathrm{icg,in}} = 30\\,\\mathrm{fF}$\n-   ICG 单元输出引脚电容：$C_{\\mathrm{icg,out}} = 5\\,\\mathrm{fF}$\n-   使能信号高电平比例：$d = 0.3$\n-   每个 ICG 单元的漏电功耗：$P_{\\mathrm{icg,leak}} = 0.9\\,\\mathrm{\\mu W}$\n-   每个 ICG 单元的物理面积：$A_{\\mathrm{icg}} = 45\\,\\mathrm{\\mu m}^{2}$\n-   假设：忽略短路功耗和毛刺。\n-   要求计算：总面积开销，总漏电功耗开销，以及每时钟周期的净动态能量收益。最终报告值仅为净能量收益。\n\n### 步骤2：使用提取的已知条件进行验证\n-   **科学依据**：该问题基于 CMOS 电路设计的基本原理，特别是动态功耗（$P_{\\mathrm{dyn}} = \\alpha C V_{\\mathrm{DD}}^2 f$）和漏电功耗的计算。给定的电压、频率和电容值对于现代半导体技术是现实的。该模型虽然通过忽略某些功耗分量而简化，但是一阶分析的标准有效方法。该问题在科学上是合理的。\n-   **适定性**：问题定义清晰，并提供了计算所要求数量的所有必要数据。目标明确，可以得出一个唯一且有意义的解。\n-   **客观性**：问题使用电子和计算机工程领域中常见的精确、客观和技术性语言进行陈述。它没有主观或带有偏见的措辞。\n-   **完整性和一致性**：提供了所有必需的数值和条件。触发器的数量（$10{,}000$）是集群大小（$100$）的整数倍，确保 ICG 单元的数量没有歧义。没有内部矛盾。\n-   **其他标准**：该问题并非微不足道、不切实际、不适定或无法验证。它需要将既定公式仔细应用于一个实际的工程场景。\n\n### 步骤3：结论与行动\n问题有效。将提供完整的解决方案。\n\n分析过程首先确定时钟门控单元引入的开销，然后计算基准（未门控）和门控场景下的动态能耗，最后结合这些结果以找到净能量收益。\n\n首先，我们确定所需的集成时钟门控（ICG）单元数量。有 $N_{\\mathrm{ff}} = 10{,}000$ 个触发器，每个 ICG 的集群大小为 $N_{\\mathrm{ff\\_per\\_icg}} = 100$ 个触发器，因此 ICG 单元的数量为：\n$$N_{\\mathrm{icg}} = \\frac{N_{\\mathrm{ff}}}{N_{\\mathrm{ff\\_per\\_icg}}} = \\frac{10{,}000}{100} = 100$$\n这些单元的总面积开销是单元数量与单个单元面积的乘积：\n$$A_{\\mathrm{overhead}} = N_{\\mathrm{icg}} \\times A_{\\mathrm{icg}} = 100 \\times 45\\,\\mathrm{\\mu m}^{2} = 4500\\,\\mathrm{\\mu m}^{2}$$\n类似地，总漏电功耗开销为：\n$$P_{\\mathrm{leak,overhead}} = N_{\\mathrm{icg}} \\times P_{\\mathrm{icg,leak}} = 100 \\times 0.9\\,\\mathrm{\\mu W} = 90\\,\\mathrm{\\mu W}$$\n\n接下来，我们分析每个时钟周期的动态能量。一个完整的 $0 \\to V_{\\mathrm{DD}} \\to 0$ 翻转的动态能量是 $E_{\\mathrm{dyn}} = C V_{\\mathrm{DD}}^2$。\n\n在基准（未门控）场景中，整个时钟网络电容在每个周期都会翻转。这个总电容 $C_{\\mathrm{baseline}}$ 是主干电容和所有触发器总叶节点电容之和。\n$$C_{\\mathrm{ff,total}} = N_{\\mathrm{ff}} \\times C_{\\mathrm{leaf}} = 10{,}000 \\times 18\\,\\mathrm{fF} = 180{,}000\\,\\mathrm{fF} = 180\\,\\mathrm{pF}$$\n$$C_{\\mathrm{baseline}} = C_{\\mathrm{trunk}} + C_{\\mathrm{ff,total}} = 20\\,\\mathrm{pF} + 180\\,\\mathrm{pF} = 200\\,\\mathrm{pF}$$\n基准情况下的每周期动态能量为：\n$$E_{\\mathrm{baseline}} = C_{\\mathrm{baseline}} V_{\\mathrm{DD}}^2 = (200 \\times 10^{-12}\\,\\mathrm{F}) \\times (0.8\\,\\mathrm{V})^2 = 200 \\times 0.64 \\times 10^{-12}\\,\\mathrm{J} = 128 \\times 10^{-12}\\,\\mathrm{J} = 128\\,\\mathrm{pJ}$$\n\n在门控场景中，时钟网络电容被划分。未门控部分在每个周期都翻转，它由主干和所有 ICG 单元的输入端组成。\n$$C_{\\mathrm{icg,in,total}} = N_{\\mathrm{icg}} \\times C_{\\mathrm{icg,in}} = 100 \\times 30\\,\\mathrm{fF} = 3000\\,\\mathrm{fF} = 3\\,\\mathrm{pF}$$\n$$C_{\\mathrm{un-gated}} = C_{\\mathrm{trunk}} + C_{\\mathrm{icg,in,total}} = 20\\,\\mathrm{pF} + 3\\,\\mathrm{pF} = 23\\,\\mathrm{pF}$$\n门控部分由 ICG 单元的输出端和它们驱动的触发器叶节点组成。这部分仅在使能信号为高电平时翻转，这种情况发生在 $d = 0.3$ 比例的周期内。总门控电容为：\n$$C_{\\mathrm{gated,total}} = N_{\\mathrm{icg}} \\times (C_{\\mathrm{icg,out}} + N_{\\mathrm{ff\\_per\\_icg}} \\times C_{\\mathrm{leaf}}) = 100 \\times (5\\,\\mathrm{fF} + 100 \\times 18\\,\\mathrm{fF}) = 100 \\times (1805\\,\\mathrm{fF}) = 180{,}500\\,\\mathrm{fF} = 180.5\\,\\mathrm{pF}$$\n在门控场景下，每时钟周期的平均动态能量 $E_{\\mathrm{gated}}$ 是未门控部分（总是翻转）的能量和门控部分（以概率 $d$ 翻转）的平均能量之和：\n$$E_{\\mathrm{gated}} = C_{\\mathrm{un-gated}} V_{\\mathrm{DD}}^2 + d \\cdot (C_{\\mathrm{gated,total}} V_{\\mathrm{DD}}^2) = (C_{\\mathrm{un-gated}} + d \\cdot C_{\\mathrm{gated,total}}) V_{\\mathrm{DD}}^2$$\n有效平均开关电容为 $C_{\\mathrm{eff}} = C_{\\mathrm{un-gated}} + d \\cdot C_{\\mathrm{gated,total}} = 23\\,\\mathrm{pF} + 0.3 \\times 180.5\\,\\mathrm{pF} = 23\\,\\mathrm{pF} + 54.15\\,\\mathrm{pF} = 77.15\\,\\mathrm{pF}$。\n$$E_{\\mathrm{gated}} = (77.15 \\times 10^{-12}\\,\\mathrm{F}) \\times (0.8\\,\\mathrm{V})^2 = 77.15 \\times 0.64 \\times 10^{-12}\\,\\mathrm{J} = 49.376 \\times 10^{-12}\\,\\mathrm{J} = 49.376\\,\\mathrm{pJ}$$\n每周期节省的动态能量是基准能量与门控能量之差：\n$$E_{\\mathrm{saved,dyn}} = E_{\\mathrm{baseline}} - E_{\\mathrm{gated}} = 128\\,\\mathrm{pJ} - 49.376\\,\\mathrm{pJ} = 78.624\\,\\mathrm{pJ}$$\n\n最后，我们计算净能量收益。这需要减去由增加的 ICG 单元的漏电引起的每周期能量开销。时钟周期为 $T = 1/f = 1/(1.0 \\times 10^9\\,\\mathrm{Hz}) = 1.0 \\times 10^{-9}\\,\\mathrm{s}$。\n每周期的漏电能量开销为：\n$$E_{\\mathrm{leak,overhead}} = P_{\\mathrm{leak,overhead}} \\times T = (90 \\times 10^{-6}\\,\\mathrm{W}) \\times (1.0 \\times 10^{-9}\\,\\mathrm{s}) = 90 \\times 10^{-15}\\,\\mathrm{J} = 0.090\\,\\mathrm{pJ}$$\n每周期的净能量收益是节省的动态能量减去漏电能量开销：\n$$E_{\\mathrm{benefit}} = E_{\\mathrm{saved,dyn}} - E_{\\mathrm{leak,overhead}} = 78.624\\,\\mathrm{pJ} - 0.090\\,\\mathrm{pJ} = 78.534\\,\\mathrm{pJ}$$\n根据要求四舍五入到四位有效数字，净能量收益为 $78.53\\,\\mathrm{pJ}$。",
            "answer": "$$ \\boxed{78.53} $$"
        },
        {
            "introduction": "理解了“是什么”和“为什么”之后，本练习将聚焦于“如何做”的技术细节。一个设计不当的时钟门控电路可能会产生危险的毛刺（短而不必要的脉冲），这不仅会抵消功耗节省的效果，甚至可能导致功能错误。本练习将深入电路的时序细节，通过一个简化模型推导产生毛刺的精确条件，并计算其宽度。通过这个过程，您将深刻体会到“安全”时钟门控设计方法的重要性。",
            "id": "4260192",
            "problem": "一个互补金属氧化物半导体（CMOS）双输入逻辑与门在电子设计自动化（EDA）流程中用于时钟门控。输入 $A(t)$ 是一个上升时钟沿，输入 $B(t)$ 是一个在逻辑路径延迟后开始下降的撤销使能信号。两个输入都表现出有限的转换速率。将每次转换建模为 $0$ 和 $V_{\\mathrm{DD}}$ 之间的线性斜坡，并将与门建模为具有单个输入转换识别阈值 $V_{\\mathrm{T}}$（仅当两个输入都超过 $V_{\\mathrm{T}}$ 时，门输出才变为高电平；当任一输入低于 $V_{\\mathrm{T}}$ 时，门输出变为低电平）。该与门对于上升输出转换和下降输出转换具有不同的、依赖于弧的传播延迟 $t_{\\mathrm{pd,r}}$ 和 $t_{\\mathrm{pd,f}}$。\n\n设 $A(t)$ 在 $t=0$ 时从 $0$ 开始上升到 $V_{\\mathrm{DD}}$，上升时间为 $t_{rA}$。设 $B(t)$ 在 $t=\\Delta$ 时从 $V_{\\mathrm{DD}}$ 开始下降到 $0$，下降时间为 $t_{fB}$。假设 $B(t)$ 初始为高电平。运用阈值交叉原理来推断与门输出何时可能瞬间变为高电平，从而产生一个冒险脉冲，该脉冲会消耗动态功耗却不执行有效工作。\n\n任务：\n1. 从第一性原理出发，且不援引任何预先推导的冒险公式，推导在何种条件下（关于 $t_{rA}$、$t_{fB}$、$\\Delta$、$V_{\\mathrm{T}}$ 和 $V_{\\mathrm{DD}}$）与门会产生一个短暂的高电平脉冲。用一个不等式来表示此条件，该不等式必须在两个输入同时超过 $V_{\\mathrm{T}}$ 的正重叠区间内成立。\n2. 使用相同的第一性原理方法，根据上述线性斜坡模型和阈值行为，推导出输出高电平脉冲宽度的闭式表达式，用 $t_{rA}$、$t_{fB}$、$\\Delta$、$V_{\\mathrm{T}}$、$V_{\\mathrm{DD}}$、$t_{\\mathrm{pd,r}}$ 和 $t_{\\mathrm{pd,f}}$ 表示。\n3. 对于以下特定参数：\n   - $V_{\\mathrm{DD}}=0.8$\n   - $V_{\\mathrm{T}}=0.4$\n   - $t_{rA}=20\\,\\mathrm{ps}$\n   - $t_{fB}=30\\,\\mathrm{ps}$\n   - $\\Delta=5\\,\\mathrm{ps}$\n   - $t_{\\mathrm{pd,r}}=12\\,\\mathrm{ps}$\n   - $t_{\\mathrm{pd,f}}=9\\,\\mathrm{ps}$\n   计算此相互作用产生的最小输出高电平脉冲宽度，并以皮秒为单位表示最终结果。\n\n将你的最终数值答案四舍五入到四位有效数字，并以 $\\mathrm{ps}$ 为单位表示结果。",
            "solution": "经评估，此问题有效。它在科学上基于数字CMOS电路分析的原理，特别是关于时钟门控逻辑中的时序冒险。问题提法明确，提供了一个清晰、简化的模型（线性斜坡、单阈值）和所有必要的参数来推导唯一的解。语言客观，设定自洽且一致。\n\n现在，我们按照要求，从第一性原理出发进行逐步推导。\n\n首先，我们基于线性斜坡模型来形式化输入信号 $A(t)$ 和 $B(t)$。\n\n输入信号 $A(t)$ 代表时钟沿，在 $t=0$ 时从 $0$ 开始上升，并在 $t=t_{rA}$ 时达到 $V_{\\mathrm{DD}}$。其方程为：\n$$\nA(t) = \\begin{cases}\n\\left(\\frac{V_{\\mathrm{DD}}}{t_{rA}}\\right) t & \\text{for } 0 \\le t \\le t_{rA} \\\\\nV_{\\mathrm{DD}} & \\text{for } t > t_{rA}\n\\end{cases}\n$$\n\n输入信号 $B(t)$ 代表撤销的使能信号，初始为高电平 $V_{\\mathrm{DD}}$，在 $t=\\Delta$ 时开始下降。它在 $t=\\Delta+t_{fB}$ 时达到 $0$。其方程为：\n$$\nB(t) = \\begin{cases}\nV_{\\mathrm{DD}} & \\text{for } t  \\Delta \\\\\nV_{\\mathrm{DD}} - \\left(\\frac{V_{\\mathrm{DD}}}{t_{fB}}\\right) (t - \\Delta)  \\text{for } \\Delta \\le t \\le \\Delta + t_{fB} \\\\\n0  \\text{for } t > \\Delta + t_{fB}\n\\end{cases}\n$$\n\n根据问题描述，与门的输出仅在两个输入同时高于识别阈值 $V_{\\mathrm{T}}$ 时才为逻辑高。如果满足此条件的时间区间不为零，就会发生冒险脉冲。\n\n### 第1部分：冒险脉冲的条件\n\n我们必须找到 $A(t)  V_{\\mathrm{T}}$ 和 $B(t)  V_{\\mathrm{T}}$ 同时成立的时间区间。\n\n首先，我们找到输入 $A(t)$ 穿过阈值 $V_{\\mathrm{T}}$ 的时间 $t_{A,\\text{cross}}$。这发生在其上升斜坡期间。\n$$\nA(t_{A,\\text{cross}}) = V_{\\mathrm{T}} \\implies \\left(\\frac{V_{\\mathrm{DD}}}{t_{rA}}\\right) t_{A,\\text{cross}} = V_{\\mathrm{T}}\n$$\n解出 $t_{A,\\text{cross}}$：\n$$\nt_{A,\\text{cross}} = t_{rA} \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}}\n$$\n对于任何时间 $t  t_{A,\\text{cross}}$，输入 $A(t)$ 将高于 $V_{\\mathrm{T}}$。\n\n接下来，我们找到输入 $B(t)$ 穿过阈值 $V_{\\mathrm{T}}$ 的时间 $t_{B,\\text{cross}}$。这发生在其下降斜坡期间。\n$$\nB(t_{B,\\text{cross}}) = V_{\\mathrm{T}} \\implies V_{\\mathrm{DD}} - \\left(\\frac{V_{\\mathrm{DD}}}{t_{fB}}\\right) (t_{B,\\text{cross}} - \\Delta) = V_{\\mathrm{T}}\n$$\n解出 $t_{B,\\text{cross}}$：\n$$\nV_{\\mathrm{DD}} - V_{\\mathrm{T}} = \\left(\\frac{V_{\\mathrm{DD}}}{t_{fB}}\\right) (t_{B,\\text{cross}} - \\Delta)\n$$\n$$\nt_{B,\\text{cross}} - \\Delta = (V_{\\mathrm{DD}} - V_{\\mathrm{T}}) \\frac{t_{fB}}{V_{\\mathrm{DD}}} = t_{fB}\\left(1 - \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}}\\right)\n$$\n$$\nt_{B,\\text{cross}} = \\Delta + t_{fB}\\left(1 - \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}}\\right)\n$$\n对于任何时间 $t  t_{B,\\text{cross}}$，输入 $B(t)$ 将高于 $V_{\\mathrm{T}}$（因为它初始为高电平）。\n\n当且仅当每个输入高于阈值的时间区间存在重叠时，才会产生冒险脉冲。输入 $A(t)$ 在 $t \\in [t_{A,\\text{cross}}, \\infty)$ 区间为高，输入 $B(t)$ 在 $t \\in (-\\infty, t_{B,\\text{cross}}]$ 区间为高。如果第一个区间的开始时间早于第二个区间的结束时间，则存在重叠。\n因此，产生毛刺（glitch）的条件是：\n$$\nt_{A,\\text{cross}}  t_{B,\\text{cross}}\n$$\n代入推导出的表达式，我们得到条件：\n$$\nt_{rA} \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}}  \\Delta + t_{fB}\\left(1 - \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}}\\right)\n$$\n这个不等式就是与门在其输出端产生短暂高电平脉冲的条件。\n\n### 第2部分：输出高电平脉冲宽度的表达式\n\n与门的内部逻辑在区间 $[t_{A,\\text{cross}}, t_{B,\\text{cross}}]$ 内评估为真。门的输出在其特征传播延迟之后响应。\n\n输出在时间 $t_{\\text{out,rise}}$ 开始上升，该时间是在条件 $A(t)V_{\\mathrm{T}} \\text{ and } B(t)V_{\\mathrm{T}}$ 首次满足后的 $t_{\\mathrm{pd,r}}$。这发生在 $t_{A,\\text{cross}}$ 时。\n$$\nt_{\\text{out,rise}} = t_{A,\\text{cross}} + t_{\\mathrm{pd,r}} = t_{rA} \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}} + t_{\\mathrm{pd,r}}\n$$\n\n输出在时间 $t_{\\text{out,fall}}$ 开始下降，该时间是在条件 $A(t)V_{\\mathrm{T}} \\text{ and } B(t)V_{\\mathrm{T}}$ 不再满足后的 $t_{\\mathrm{pd,f}}$。这发生在 $t_{B,\\text{cross}}$ 时。\n$$\nt_{\\text{out,fall}} = \\left( \\Delta + t_{fB}\\left(1 - \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}}\\right) \\right) + t_{\\mathrm{pd,f}}\n$$\n\n输出高电平脉冲的宽度 $W_{\\text{pulse}}$ 是输出信号下降沿和上升沿之间的时间差。\n$$\nW_{\\text{pulse}} = t_{\\text{out,fall}} - t_{\\text{out,rise}}\n$$\n代入 $t_{\\text{out,fall}}$ 和 $t_{\\text{out,rise}}$ 的表达式：\n$$\nW_{\\text{pulse}} = \\left[ \\Delta + t_{fB}\\left(1 - \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}}\\right) + t_{\\mathrm{pd,f}} \\right] - \\left[ t_{rA} \\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}} + t_{\\mathrm{pd,r}} \\right]\n$$\n重新整理各项，得到输出脉冲宽度的闭式表达式：\n$$\nW_{\\text{pulse}} = \\Delta + t_{fB} - (t_{rA} + t_{fB})\\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}} + t_{\\mathrm{pd,f}} - t_{\\mathrm{pd,r}}\n$$\n\n### 第3部分：数值计算\n\n给定以下参数：\n- $V_{\\mathrm{DD}} = 0.8$\n- $V_{\\mathrm{T}} = 0.4$\n- $t_{rA} = 20\\,\\mathrm{ps}$\n- $t_{fB} = 30\\,\\mathrm{ps}$\n- $\\Delta = 5\\,\\mathrm{ps}$\n- $t_{\\mathrm{pd,r}} = 12\\,\\mathrm{ps}$\n- $t_{\\mathrm{pd,f}} = 9\\,\\mathrm{ps}$\n\n首先，我们计算阈值比率：\n$$\n\\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}} = \\frac{0.4}{0.8} = 0.5\n$$\n\n现在，我们可以使用推导出的 $W_{\\text{pulse}}$ 公式来计算其值。\n$$\nW_{\\text{pulse}} = \\Delta + t_{fB} - (t_{rA} + t_{fB})\\frac{V_{\\mathrm{T}}}{V_{\\mathrm{DD}}} + t_{\\mathrm{pd,f}} - t_{\\mathrm{pd,r}}\n$$\n代入数值（时间单位为皮秒）：\n$$\nW_{\\text{pulse}} = 5 + 30 - (20 + 30)(0.5) + 9 - 12\n$$\n$$\nW_{\\text{pulse}} = 35 - (50)(0.5) - 3\n$$\n$$\nW_{\\text{pulse}} = 35 - 25 - 3\n$$\n$$\nW_{\\text{pulse}} = 10 - 3\n$$\n$$\nW_{\\text{pulse}} = 7\\,\\mathrm{ps}\n$$\n\n题目要求结果保留四位有效数字。确切答案是 $7$。为表示为四位有效数字，我们写作 $7.000$。\n\n输出端高电平脉冲的宽度为 $7.000\\,\\mathrm{ps}$。\n让我们用这些参数验证第1部分的条件是否满足：\n$t_{A,\\text{cross}} = 20\\,\\mathrm{ps} \\times 0.5 = 10\\,\\mathrm{ps}$\n$t_{B,\\text{cross}} = 5\\,\\mathrm{ps} + 30\\,\\mathrm{ps} \\times (1 - 0.5) = 5\\,\\mathrm{ps} + 15\\,\\mathrm{ps} = 20\\,\\mathrm{ps}$\n由于 $10\\,\\mathrm{ps}  20\\,\\mathrm{ps}$，条件 $t_{A,\\text{cross}}  t_{B,\\text{cross}}$ 成立，确实会产生一个脉冲。\n由此得到的脉冲宽度计算是正确的。",
            "answer": "$$\n\\boxed{7.000}\n$$"
        }
    ]
}