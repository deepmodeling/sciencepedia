{
    "hands_on_practices": [
        {
            "introduction": "掌握SRAM设计的核心在于理解其基本的设计权衡。本练习  将引导您通过分析推导，揭示一个关键的设计参数——单元比（Cell Ratio, CR）——如何直接影响SRAM单元在读取操作中的数据保持能力，即读取静态噪声容限（Read Static Noise Margin, RSNM）。通过这个实践，您将为晶体管尺寸设定与单元稳定性之间的权衡关系建立起必要的直觉。",
            "id": "4299495",
            "problem": "考虑一个六晶体管静态随机存取存储器（SRAM）位单元，其两个交叉耦合的反相器是对称的，并为高直流增益而设计。在读操作期间，字线被驱动至电源电压，两条位线均被预充电至电源电压。假设单元中的每个金属氧化物半导体场效应晶体管（MOSFET）在读干扰工作点附近，可通过线性沟道导电模型进行局部近似，因此其漏极电流满足 $I \\approx G \\, V_{DS}$，其中 $G$ 是一个有效电导，其值通过栅极过驱动电压取决于偏置。在从节点 $Q$ 读取存储的逻辑零期间，连接到 $Q$ 的访问晶体管形成到 $V_{DD}$ 的导电通路，而下拉晶体管则形成从 $Q$ 到地的导电通路。\n\n定义单元比率 $\\text{CR}$ 为在字线高电平和位线预充电条件下，下拉晶体管的有效电导与访问晶体管的有效电导之比，即 $\\text{CR} \\equiv \\frac{G_{pd}}{G_{ax}}$。将节点 $Q$ 上的读干扰电压建模为在连接到 $V_{DD}$ 的 $G_{ax}$ 和连接到地的 $G_{pd}$ 之间所产生的分压电压。在高增益对称反相器的假设下，将开关区附近的蝴蝶曲线（一对反相器的电压传输特性曲线，其中一条经过镜像后共同绘制）近似为以 $\\frac{V_{DD}}{2}$ 为中心的理想跳变，并将读干扰视为其中一个叶的水平偏移，偏移量 $\\Delta$ 等于节点 $Q$ 上的读取低电平。\n\n基于这些基础——MOSFET线性化导电模型、受干扰存储节点处的分压，以及读静态噪声容限（RSNM）的最大内切正方形定义——通过将最大内切正方形的边长与偏移后蝴蝶曲线的间距相等，推导出在给定电源电压下满足目标读静态噪声容限所需的最小单元比率 $\\text{CR}_{\\min}$ 的表达式。然后，对于目标读静态噪声容限（RSNM）为 $\\;0.15\\,\\mathrm{V}\\;$、电源电压为 $\\;V_{DD} = 0.8\\,\\mathrm{V}\\;$ 的情况，数值计算 $\\text{CR}_{\\min}$。\n\n将您的最终答案 $\\text{CR}_{\\min}$ 四舍五入至四位有效数字。以无单位的纯数形式表示最终答案。本问题属于集成电路和电子设计自动化（EDA）领域，重点关注SRAM $6\\,$晶体管位单元设计。",
            "solution": "用户需要为一个六晶体管（6T）SRAM位单元找到最小单元比率 $\\text{CR}_{\\min}$，以在给定的电源电压 $V_{DD}$ 下达到指定的读静态噪声容限（RSNM）。该推导将基于一系列指定的模型和近似。\n\n首先，我们对存储节点 $Q$ 上的读干扰电压进行建模，该节点存储逻辑零（初始电压为 $0$）。在读操作期间，字线为高电平，从而打开访问晶体管（$N_{ax}$）。位线被预充电至 $V_{DD}$。下拉晶体管（$N_{pd}$）也处于导通状态，因为其栅极连接到另一个存储节点 $\\bar{Q}$，该节点电压为 $V_{DD}$。这在节点 $Q$ 处形成了一个分压器。具有有效电导 $G_{ax}$ 的访问晶体管将节点 $Q$ 的电压向上拉向位线电压 $V_{DD}$。具有有效电导 $G_{pd}$ 的下拉晶体管将节点 $Q$ 的电压向下拉向地（$0\\,\\mathrm{V}$）。\n\n根据问题陈述，在此读干扰条件下节点 $Q$ 的电压（我们记为 $\\Delta$）可以使用分压法则计算：\n$$\n\\Delta = V_{DD} \\frac{\\frac{1}{G_{pd}}}{\\frac{1}{G_{ax}} + \\frac{1}{G_{pd}}}\n$$\n将分数的分子和分母同乘以 $G_{ax}G_{pd}$，可简化为：\n$$\n\\Delta = V_{DD} \\frac{G_{ax}}{G_{pd} + G_{ax}}\n$$\n将分子和分母同除以 $G_{ax}$，得到：\n$$\n\\Delta = V_{DD} \\frac{1}{\\frac{G_{pd}}{G_{ax}} + 1}\n$$\n问题将单元比率 $\\text{CR}$ 定义为 $\\text{CR} \\equiv \\frac{G_{pd}}{G_{ax}}$。将此定义代入 $\\Delta$ 的表达式，我们得到：\n$$\n\\Delta = \\frac{V_{DD}}{1 + \\text{CR}}\n$$\n\n接下来，我们建立读干扰电压 $\\Delta$ 与读静态噪声容限（RSNM）之间的关系。问题陈述指出，交叉耦合的反相器是对称的，其电压传输特性（VTC）可以近似为以 $\\frac{V_{DD}}{2}$ 为中心的理想跳变。为了分析静态噪声容限，我们考虑蝴蝶图，它由一个反相器的VTC和另一个反相器的镜像VTC组成。设两个存储节点的电压分别为 $V_Q$ 和 $V_{\\bar{Q}}$。绘制的两条曲线是 $V_{\\bar{Q}} = \\text{VTC}(V_Q)$ 和 $V_Q = \\text{VTC}(V_{\\bar{Q}})$。\n\n对于理想反相器，其VTC是一个阶跃函数：\n$$\n\\text{VTC}(V_{in}) = \\begin{cases} V_{DD} & \\text{if } V_{in} < \\frac{V_{DD}}{2} \\\\ 0 & \\text{if } V_{in} > \\frac{V_{DD}}{2} \\end{cases}\n$$\n未受干扰的蝴蝶图形成了两个方形的“叶”，中心位于稳定状态 $(0, V_{DD})$ 和 $(V_{DD}, 0)$。每个叶中的最大内切正方形边长为 $\\frac{V_{DD}}{2}$，这即是保持静态噪声容限。\n\n读操作会干扰位单元。问题将此干扰建模为一个叶的水平偏移，偏移量为 $\\Delta$。具体来说，当从节点 $Q$ 读取“0”时，其电压被上拉至 $\\Delta$。这会影响输出为 $Q$ 的反相器的VTC。让我们将 $V_{\\bar{Q}}$ 绘制在y轴上，$V_Q$ 绘制在x轴上。驱动 $Q$ 的反相器（输入为 $\\bar{Q}$，输出为 $Q$）的VTC为 $V_Q = \\text{VTC}(V_{\\bar{Q}})$。干扰在此输出上增加了一个电压 $\\Delta$。新的、退化了的VTC为 $V_Q ' = \\text{VTC}(V_{\\bar{Q}}) + \\Delta$。在蝴蝶图中，这对应于将镜像的VTC曲线向右水平平移 $\\Delta$。\n\nRSNM是退化的叶中的最大内切正方形的边长。对应于 $Q$ 处存储的“0”（稳定状态接近 $(0, V_{DD})$）的叶现在由理想VTC $V_{\\bar{Q}} = \\text{VTC}(V_Q)$ 和偏移后的VTC $V_Q = \\text{VTC}(V_{\\bar{Q}}) + \\Delta$ 界定。\n内切正方形所在的蝴蝶曲线“眼图”区域由以下边界界定：\n\\begin{itemize}\n    \\item 左边界，即退化反相器的低电平输出：$V_Q = 0 + \\Delta = \\Delta$。\n    \\item 右边界，即未退化反相器的开关阈值：$V_Q = \\frac{V_{DD}}{2}$。\n    \\item 下边界，即退化反相器输入的开关阈值：$V_{\\bar{Q}} = \\frac{V_{DD}}{2}$。\n    \\item 上边界，即未退化反相器的高电平输出：$V_{\\bar{Q}} = V_{DD}$。\n\\end{itemize}\n可用于内切正方形的区域是一个矩形，其宽度 $W = \\frac{V_{DD}}{2} - \\Delta$，高度 $H = V_{DD} - \\frac{V_{DD}}{2} = \\frac{V_{DD}}{2}$。\n最大内切正方形的边长是宽度和高度中的较小者，即RSNM。\n$$\n\\text{RSNM} = \\min\\left(W, H\\right) = \\min\\left(\\frac{V_{DD}}{2} - \\Delta, \\frac{V_{DD}}{2}\\right)\n$$\n由于对于任何有限的单元比率，$\\Delta > 0$，因此宽度是限制性尺寸。所以：\n$$\n\\text{RSNM} = \\frac{V_{DD}}{2} - \\Delta\n$$\n现在，我们合并两个推导出的方程。我们将 $\\Delta$ 的表达式代入RSNM方程：\n$$\n\\text{RSNM} = \\frac{V_{DD}}{2} - \\frac{V_{DD}}{1 + \\text{CR}}\n$$\n我们需要解此方程以求得 $\\text{CR}$，从而找到满足给定RSNM所需的最小单元比率 $\\text{CR}_{\\min}$。\n$$\n\\frac{V_{DD}}{1 + \\text{CR}} = \\frac{V_{DD}}{2} - \\text{RSNM}\n$$\n$$\n1 + \\text{CR} = \\frac{V_{DD}}{\\frac{V_{DD}}{2} - \\text{RSNM}} = \\frac{V_{DD}}{\\frac{V_{DD} - 2\\cdot\\text{RSNM}}{2}} = \\frac{2V_{DD}}{V_{DD} - 2\\cdot\\text{RSNM}}\n$$\n$$\n\\text{CR} = \\frac{2V_{DD}}{V_{DD} - 2\\cdot\\text{RSNM}} - 1 = \\frac{2V_{DD} - (V_{DD} - 2\\cdot\\text{RSNM})}{V_{DD} - 2\\cdot\\text{RSNM}}\n$$\n$$\n\\text{CR}_{\\min} = \\frac{V_{DD} + 2\\cdot\\text{RSNM}}{V_{DD} - 2\\cdot\\text{RSNM}}\n$$\n这就是所需最小单元比率的符号表达式。\n\n最后，我们使用给定值对该表达式进行数值计算：$V_{DD} = 0.8\\,\\mathrm{V}$ 和 $\\text{RSNM} = 0.15\\,\\mathrm{V}$。\n$$\n\\text{CR}_{\\min} = \\frac{0.8 + 2 \\cdot (0.15)}{0.8 - 2 \\cdot (0.15)} = \\frac{0.8 + 0.3}{0.8 - 0.3} = \\frac{1.1}{0.5} = 2.2\n$$\n问题要求将答案四舍五入到四位有效数字。\n$$\n\\text{CR}_{\\min} = 2.200\n$$",
            "answer": "$$\\boxed{2.200}$$"
        },
        {
            "introduction": "在建立了对单个稳定性指标的分析理解之后，我们转向一种更强大、更通用的仿真表征技术。N曲线法为量化SRAM单元在不同工作模式（保持、读取和写入）下的稳定性提供了一个统一的框架。这项计算实践  将让您通过编程提取出如 $I_{read}$、$I_{hold}$ 和 $V_{write}$ 等关键品质因数，从而对单元的稳健性形成一个全面的认识。",
            "id": "4299483",
            "problem": "考虑一个由两个交叉耦合的互补金属氧化物半导体（CMOS）反相器和两个将内部存储节点连接到位线的存取晶体管组成的六晶体管静态随机存取存储器（SRAM）位单元。设电源电压为 $V_{DD}$，被测存储节点为 $V_{Q}$，相对节点为 $V_{QB}$。在以下情景中，$V_{QB}$ 固定，而 $V_{Q}$ 由一个理想直流（DC）电压源强制在区间 $[0, V_{DD}]$ 上扫描。两个存取晶体管是N沟道金属氧化物半导体（NMOS）器件，由字线电压 $V_{WL}$ 控制，并将 $V_{Q}$ 连接到位线 $V_{BL}$，将 $V_{QB}$ 连接到互补位线 $V_{BLB}$。\n\n使用 Shichman–Hodges 长沟道 MOSFET 模型计算直流电流，其中忽略体效应，并且沟道长度调制仅应用于饱和区。对于一个 NMOS，其漏极电流 $I_{D,n}$（从漏极到源极为正）为，当栅极电压为 $V_{G}$，漏极电压为 $V_{D}$，源极电压为 $V_{S}$，跨导参数为 $k_{n}$，阈值电压为 $V_{th,n}$，沟道长度调制系数为 $\\lambda_{n}$ 时，\n- 截止区：如果 $V_{GS} \\le V_{th,n}$ 或 $V_{DS} \\le 0$，则 $I_{D,n} = 0$，\n- 三极管区：如果 $0 < V_{DS} < V_{GS} - V_{th,n}$，则 $I_{D,n} = k_{n}\\left[(V_{GS} - V_{th,n})V_{DS} - \\tfrac{1}{2}V_{DS}^{2}\\right]$，\n- 饱和区：如果 $V_{DS} \\ge V_{GS} - V_{th,n}$，则 $I_{D,n} = \\tfrac{1}{2}k_{n}(V_{GS} - V_{th,n})^{2}\\left(1 + \\lambda_{n}V_{DS}\\right)$，\n其中 $V_{GS} = V_{G} - V_{S}$ 且 $V_{DS} = V_{D} - V_{S}$。\n\n对于一个P沟道金属氧化物半导体（PMOS），其漏极电流 $I_{D,p}$ 从源极到漏极为正。设 $k_{p}$ 为 PMOS 跨导参数，$V_{th,p}>0$ 为其阈值大小，$V_{G}$ 为栅极电压，$V_{D}$ 为漏极电压，$V_{S}$ 为源极电压，$\\lambda_{p}$ 为饱和区的沟道长度调制系数。使用 $V_{SG} = V_{S} - V_{G}$ 和 $V_{SD} = V_{S} - V_{D}$，\n- 截止区：如果 $V_{SG} \\le V_{th,p}$ 或 $V_{SD} \\le 0$，则 $I_{D,p} = 0$，\n- 三极管区：如果 $0 < V_{SD} < V_{SG} - V_{th,p}$，则 $I_{D,p} = k_{p}\\left[(V_{SG} - V_{th,p})V_{SD} - \\tfrac{1}{2}V_{SD}^{2}\\right]$，\n- 饱和区：如果 $V_{SD} \\ge V_{SG} - V_{th,p}$，则 $I_{D,p} = \\tfrac{1}{2}k_{p}(V_{SG} - V_{th,p})^{2}\\left(1 + \\lambda_{p}V_{SD}\\right)$。\n\n对于连接到节点 $V_{Q}$ 的反相器，PMOS 的源极在 $V_{DD}$，漏极在 $V_{Q}$，栅极在 $V_{QB}$；而 NMOS 的漏极在 $V_{Q}$，源极在 $0$，栅极在 $V_{QB}$。连接 $V_{Q}$ 到 $V_{BL}$ 的存取 NMOS 的栅极为 $V_{WL}$，其源极/漏极的分配遵循较高/较低的端电压，以确保模型中 $V_{DS} \\ge 0$ 的条件得到满足。\n\n将节点注入电流 $I_{inj}(V_{Q})$ 定义为理想直流电压源必须注入节点 $V_{Q}$ 以将 $V_{Q}$ 维持在注入电压所需的净电流，此时所有晶体管电流均按上述模型流动。根据节点 $V_{Q}$ 处的基尔霍夫电流定律（KCL），采用如下符号约定：从PMOS和位线流入节点 $V_Q$ 的电流为正，通过下拉NMOS流出节点 $V_Q$ 或流入位线的电流为负。然后定义 $I_{inj}(V_{Q})$ 使得器件电流的代数和加上 $I_{inj}(V_{Q})$ 等于零。\n\n您必须通过在 $[0, V_{DD}]$ 范围内扫描 $V_{Q}$ 同时保持 $V_{QB}$ 固定来计算以下N曲线指标：\n- 读指标 $I_{read}$ 是在 $V_{WL} = V_{DD}$、$V_{BL} = V_{DD}$ 和 $V_{QB} = V_{DD}$ 时，$I_{inj}(V_{Q})$ 在扫描范围内的最大值。\n- 保持指标 $I_{hold}$ 是在 $V_{WL} = 0$、$V_{QB} = V_{DD}$ 且 $V_{BL}$ 断开时，$I_{inj}(V_{Q})$ 在扫描范围内的最大值。在模型中，断开对应于零存取电流。\n- 写指标 $V_{write}$ 是在 $V_{WL} = V_{DD}$、$V_{BL} = 0$ 和 $V_{QB} = V_{DD}$ 时，$V_{Q}$ 在 $[0, V_{DD}]$ 区间内使 $I_{inj}(V_{Q}) = 0$ 的最小值。\n\n将 $I_{read}$ 和 $I_{hold}$ 表示为微安单位的十进制数，将 $V_{write}$ 表示为伏特单位的十进制数。所有角度量（如有）必须以弧度为单位；此处不需要。\n\n实现一个程序，使用对 $V_Q$ 的均匀扫描来评估这些指标，并在需要时使用线性插值来估计 $V_{write}$ 的过零点。使用以下参数集测试套件，每个参数集以元组 $(V_{DD}, k_{n}, k_{p}, k_{a}, \\lambda_{n}, \\lambda_{p}, V_{th,n}, V_{th,p})$ 的形式给出，其中 $k_{a}$ 是存取NMOS的跨导参数：\n1. 情况A（平衡单元）：$(1.0, 1.0\\times 10^{-4}, 5.0\\times 10^{-5}, 8.0\\times 10^{-5}, 0.04, 0.04, 0.40, 0.45)$。\n2. 情况B（弱存取）：$(1.0, 1.0\\times 10^{-4}, 5.0\\times 10^{-5}, 2.0\\times 10^{-5}, 0.04, 0.04, 0.40, 0.45)$。\n3. 情况C（强存取）：$(1.0, 1.0\\times 10^{-4}, 5.0\\times 10^{-5}, 1.5\\times 10^{-4}, 0.04, 0.04, 0.40, 0.45)$。\n\n您的程序应生成单行输出，其中包含结果，格式为逗号分隔的三元素列表的列表，每个测试用例对应一个三元素列表，每个内部列表按 $[I_{read}, I_{hold}, V_{write}]$ 的顺序排列，所有值四舍五入到六位小数。例如，输出格式必须类似于 $[[x_{1},y_{1},z_{1}],[x_{2},y_{2},z_{2}],[x_{3},y_{3},z_{3}]]$，其中每个 $x_{i}$ 和 $y_{i}$ 的单位是微安，每个 $z_{i}$ 的单位是伏特。",
            "solution": "用户提供的问题已经过严格验证，并被确定为 **有效**。它在科学上基于固态器件物理和集成电路理论，问题设定良好，给出了清晰完整的已知条件，并以客观、正式的语言表述。该问题描述了一种用于SRAM单元的标准分析技术（N曲线），这是数字电路设计中的一个重要课题。所有参数和模型都已明确提供，从而可以得到唯一且可验证的解。\n\n解决方案要求计算SRAM位单元的三个指标：读电流（$I_{read}$）、保持电流（$I_{hold}$）和写电压（$V_{write}$）。方法是在存储节点 $V_Q$ 应用基尔霍夫电流定律（KCL），并使用提供的 Shichman–Hodges MOSFET 模型来确定每个晶体管的电流贡献。\n\n首先，我们根据规定定义NMOS和PMOS晶体管的数学模型。\n\n对于一个栅极电压为 $V_G$、漏极电压为 $V_D$、源极电压为 $V_S$ 的NMOS晶体管，我们定义 $V_{GS} = V_G - V_S$ 和 $V_{DS} = V_D - V_S$。漏极电流 $I_{D,n}$ 由下式给出：\n$$\nI_{D,n}(V_G, V_D, V_S) =\n\\begin{cases}\n0 & \\text{如果 } V_{GS} \\le V_{th,n} \\text{ 或 } V_{DS} \\le 0 \\\\\nk_{n}\\left[(V_{GS} - V_{th,n})V_{DS} - \\frac{1}{2}V_{DS}^{2}\\right] & \\text{如果 } 0 < V_{DS} < V_{GS} - V_{th,n} \\\\\n\\frac{1}{2}k_{n}(V_{GS} - V_{th,n})^{2}(1 + \\lambda_{n}V_{DS}) & \\text{如果 } V_{DS} \\ge V_{GS} - V_{th,n}\n\\end{cases}\n$$\n\n对于一个PMOS晶体管，使用 $V_{SG} = V_S - V_G$ 和 $V_{SD} = V_S - V_D$，源极到漏极的电流 $I_{D,p}$ 由下式给出：\n$$\nI_{D,p}(V_G, V_D, V_S) =\n\\begin{cases}\n0 & \\text{如果 } V_{SG} \\le V_{th,p} \\text{ 或 } V_{SD} \\le 0 \\\\\nk_{p}\\left[(V_{SG} - V_{th,p})V_{SD} - \\frac{1}{2}V_{SD}^{2}\\right] & \\text{如果 } 0 < V_{SD} < V_{SG} - V_{th,p} \\\\\n\\frac{1}{2}k_{p}(V_{SG} - V_{th,p})^{2}(1 + \\lambda_{p}V_{SD}) & \\text{如果 } V_{SD} \\ge V_{SG} - V_{th,p}\n\\end{cases}\n$$\n\n注入电流 $I_{inj}(V_Q)$ 通过在节点 $V_Q$ 应用KCL得到。连接到 $V_Q$ 的晶体管是上拉PMOS（PU）、下拉NMOS（PD）和传输门存取NMOS（PG）。KCL规定，流入节点的电流总和等于流出节点的电流总和。设 $I_{PU}$ 为从 $V_{DD}$ 流入 $V_Q$ 的电流，$I_{PD}$ 为从 $V_Q$ 流向地的电流，$I_{PG}$ 为通过存取晶体管流出 $V_Q$ 的净电流。注入电流 $I_{inj}$ 也流入该节点。因此：\n$$ I_{inj} + I_{PU} = I_{PD} + I_{PG} \\implies I_{inj}(V_Q) = I_{PD} + I_{PG} - I_{PU} $$\n每个晶体管的电流由工作条件（电压 $V_{QB}$、$V_{WL}$、$V_{BL}$）和 $V_Q$ 的扫描值决定：\n- 上拉（PU）：$I_{PU} = I_{D,p}(V_{G}=V_{QB}, V_{D}=V_Q, V_{S}=V_{DD})$，使用PMOS参数 $(k_p, V_{th,p}, \\lambda_p)$。\n- 下拉（PD）：$I_{PD} = I_{D,n}(V_{G}=V_{QB}, V_{D}=V_Q, V_{S}=0)$，使用NMOS参数 $(k_n, V_{th,n}, \\lambda_n)$。\n- 传输门（PG）：流出节点 $V_Q$ 的净电流 $I_{PG}$ 使用存取NMOS模型 $(k_a, V_{th,n}, \\lambda_n)$ 计算。存取晶体管连接节点 $V_Q$ 和 $V_{BL}$。\n  - 如果 $V_Q \\ge V_{BL}$：$I_{PG} = I_{D,n}(V_{G}=V_{WL}, V_{D}=V_Q, V_{S}=V_{BL})$。\n  - 如果 $V_Q < V_{BL}$：$I_{PG} = -I_{D,n}(V_{G}=V_{WL}, V_{D}=V_{BL}, V_{S}=V_Q)$。\n\n我们现在分析每个指标：\n\n**1. 保持指标 ($I_{hold}$)**\n- 条件：$V_{WL} = 0$, $V_{QB} = V_{DD}$，$V_{BL}$ 断开。\n- 条件 $V_{WL} = 0$ 和 $V_{th,n} > 0$ 使存取晶体管（PG）处于截止状态，因此 $I_{PG} = 0$。\n- 条件 $V_{QB} = V_{DD}$ 使上拉晶体管（PU）处于截止状态。其栅极在 $V_{DD}$，源极在 $V_{DD}$，所以 $V_{SG} = V_{DD} - V_{DD} = 0$。由于 $V_{th,p} > 0$，满足 $V_{SG} \\le V_{th,p}$ 条件，因此 $I_{PU} = 0$。\n- 下拉晶体管（PD）的 $V_G = V_{QB} = V_{DD}$ 且 $V_S = 0$，所以 $V_{GS} = V_{DD}$。它处于导通状态。\n- 因此，$I_{inj}(V_Q) = I_{PD} + 0 - 0 = I_{D,n}(V_G=V_{DD}, V_D=V_Q, V_S=0)$。\n- $I_{hold}$ 是当 $V_Q$ 从 $0$ 扫描到 $V_{DD}$ 时该电流的最大值。对于固定的 $V_{GS}$，NMOS漏极电流是 $V_{DS} = V_Q$ 的单调递增函数。最大值出现在 $V_Q = V_{DD}$ 时。\n- 在 $V_Q = V_{DD}$ 时，我们有 $V_{DS} = V_{DD}$ 和 $V_{GS} = V_{DD}$。饱和条件 $V_{DS} \\ge V_{GS} - V_{th,n}$ 变为 $V_{DD} \\ge V_{DD} - V_{th,n}$，简化为 $V_{th,n} \\ge 0$，这是一个成立的陈述。\n- 最大电流是在 $V_{DS} = V_{DD}$ 时的饱和电流：\n  $$ I_{hold} = \\frac{1}{2}k_{n}(V_{DD} - V_{th,n})^{2}(1 + \\lambda_{n}V_{DD}) $$\n\n**2. 写指标 ($V_{write}$)**\n- 条件：$V_{WL} = V_{DD}$, $V_{BL} = 0$, $V_{QB} = V_{DD}$。\n- 我们寻找 $V_Q \\in [0, V_{DD}]$ 中使 $I_{inj}(V_Q) = 0$ 的最小值。\n- PU晶体管：与保持情况相同，$V_{QB}=V_{DD} \\implies I_{PU} = 0$。\n- PD晶体管：$V_{G} = V_{QB} = V_{DD}$，导通。$I_{PD} = I_{D,n}(V_G=V_{DD}, V_D=V_Q, V_S=0)$。\n- PG晶体管：$V_{G} = V_{WL} = V_{DD}$。它连接 $V_Q$ 和 $V_{BL}=0$。当 $V_Q$ 在 $[0, V_{DD}]$ 范围内扫描时，我们总是有 $V_Q \\ge V_{BL}$。因此，$I_{PG} = I_{D,n}(V_G=V_{DD}, V_D=V_Q, V_S=0)$，使用存取NMOS参数 $(k_a)$。\n- 注入电流是两个下拉电流之和：\n  $$ I_{inj}(V_Q) = I_{PD} + I_{PG} = I_{D,n}(V_{DD}, V_Q, 0; k_n, \\lambda_n) + I_{D,n}(V_{DD}, V_Q, 0; k_a, \\lambda_n) $$\n- NMOS漏极电流 $I_{D,n}$ 是非负的。只有当晶体管处于截止状态或 $V_{DS}=0$ 时，$I_{D,n}(V_G, V_D, V_S)$ 才为零。在这里，两个晶体管都导通（因为 $V_{DD} > V_{th,n}$），所以只有当 $V_{DS}=V_Q=0$ 时电流才为零。对于任何 $V_Q > 0$，$I_{inj}(V_Q) > 0$。\n- 因此，使 $I_{inj}(V_Q) = 0$ 的最小 $V_Q$ 值恰好是 $V_Q = 0$。\n  $$ V_{write} = 0 \\, V $$\n\n**3. 读指标 ($I_{read}$)**\n- 条件：$V_{WL} = V_{DD}$, $V_{BL} = V_{DD}$, $V_{QB} = V_{DD}$。\n- 我们寻找在扫描 $V_Q \\in [0, V_{DD}]$ 过程中 $I_{inj}(V_Q)$ 的最大值。\n- PU晶体管：与之前相同，$V_{QB}=V_{DD} \\implies I_{PU} = 0$。\n- PD晶体管：与之前相同，$V_G = V_{QB} = V_{DD}$。它处于导通状态。$I_{PD} = I_{D,n}(V_G=V_{DD}, V_D=V_Q, V_S=0)$。\n- PG晶体管：$V_G = V_{WL} = V_{DD}$。它连接 $V_Q$ 和 $V_{BL}=V_{DD}$。当 $V_Q$ 在 $[0, V_{DD}]$ 范围内扫描时，我们总是有 $V_Q \\le V_{BL}$。电流从 $V_{BL}$ 流入 $V_Q$，所以流出 $V_Q$ 的净电流 $I_{PG}$ 是负值。\n  $$ I_{PG} = -I_{D,n}(V_{G}=V_{DD}, V_{D}=V_{DD}, V_{S}=V_Q) $$\n- 总注入电流为：\n  $$ I_{inj}(V_Q) = I_{D,n}(V_{DD}, V_Q, 0; k_n, \\lambda_n) - I_{D,n}(V_{DD}, V_{DD}, V_Q; k_a, \\lambda_n) $$\n- 这个函数没有简单的解析最大值。它在 $V_Q=0$ 时为负值，然后增加，在 $V_Q=V_{DD}$ 时回到 $0$。最大值 $I_{read}$ 必须通过在 $V_Q$ 从 $0$ 到 $V_{DD}$ 的范围内进行数值扫描，并找到 $I_{inj}(V_Q)$ 的峰值来确定。\n\n以下程序实现了此逻辑，以计算所提供测试用例所需的指标。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Calculates SRAM bitcell metrics for given parameter sets.\n    \"\"\"\n\n    # Test cases: (VDD, kn, kp, ka, lambda_n, lambda_p, Vth_n, Vth_p)\n    test_cases = [\n        (1.0, 1.0e-4, 5.0e-5, 8.0e-5, 0.04, 0.04, 0.40, 0.45), # Case A\n        (1.0, 1.0e-4, 5.0e-5, 2.0e-5, 0.04, 0.04, 0.40, 0.45), # Case B\n        (1.0, 1.0e-4, 5.0e-5, 1.5e-4, 0.04, 0.04, 0.40, 0.45),  # Case C\n    ]\n\n    all_results = []\n    num_points = 10001 # Number of points for V_Q sweep\n\n    for params in test_cases:\n        vdd, k_n, k_p, k_a, lambda_n, lambda_p, vth_n, vth_p = params\n\n        def nmos_current(v_g, v_d, v_s, k, vth, lam):\n            \"\"\"Calculates NMOS drain current (D to S) using Shichman-Hodges model.\"\"\"\n            v_gs = v_g - v_s\n            v_ds = v_d - v_s\n\n            if v_gs <= vth or v_ds <= 0:\n                return 0.0  # Cutoff\n\n            v_ov = v_gs - vth\n            if v_ds >= v_ov: # Saturation\n                return 0.5 * k * v_ov**2 * (1 + lam * v_ds)\n            else: # Triode\n                return k * (v_ov * v_ds - 0.5 * v_ds**2)\n        \n        def pmos_current(v_g, v_d, v_s, k, vth, lam):\n            \"\"\"Calculates PMOS drain current (S to D) using Shichman-Hodges model.\"\"\"\n            v_sg = v_s - v_g\n            v_sd = v_s - v_d\n            \n            if v_sg <= vth or v_sd <= 0:\n                return 0.0 # Cutoff\n            \n            v_ov = v_sg - vth\n            if v_sd >= v_ov: # Saturation\n                return 0.5 * k * v_ov**2 * (1 + lam * v_sd)\n            else: # Triode\n                return k * (v_ov * v_sd - 0.5 * v_sd**2)\n\n        def get_i_inj(v_q, v_qb, v_bl, v_wl, case_params):\n            \"\"\"Calculates the injection current at node V_Q for given conditions.\"\"\"\n            _vdd, _kn, _kp, _ka, _lam_n, _lam_p, _vth_n, _vth_p = case_params\n            \n            # Pull-up PMOS (PU)\n            i_pu = pmos_current(v_qb, v_q, _vdd, _kp, _vth_p, _lam_p)\n            \n            # Pull-down NMOS (PD)\n            i_pd = nmos_current(v_qb, v_q, 0.0, _kn, _vth_n, _lam_n)\n            \n            # Pass-gate NMOS (PG)\n            i_pg_net = 0.0\n            if v_wl > _vth_n: # Simplified check for PG being potentially ON\n                if v_q >= v_bl:\n                    i_pg_net = nmos_current(v_wl, v_q, v_bl, _ka, _vth_n, _lam_n)\n                else: # v_q < v_bl\n                    i_pg_net = -nmos_current(v_wl, v_bl, v_q, _ka, _vth_n, _lam_n)\n\n            # KCL: I_inj = I_pd + I_pg_net - I_pu\n            return i_pd + i_pg_net - i_pu\n\n        # --- Metric Calculations ---\n        v_q_sweep = np.linspace(0, vdd, num_points)\n\n        # 1. I_read\n        v_qb_read, v_bl_read, v_wl_read = vdd, vdd, vdd\n        i_inj_read = [get_i_inj(v_q, v_qb_read, v_bl_read, v_wl_read, params) for v_q in v_q_sweep]\n        i_read = np.max(i_inj_read) * 1e6 # Convert A to uA\n\n        # 2. I_hold (analytical calculation)\n        v_ov_hold = vdd - vth_n\n        i_hold = 0.5 * k_n * v_ov_hold**2 * (1 + lambda_n * vdd)\n        i_hold *= 1e6 # Convert A to uA\n\n        # 3. V_write\n        v_write = 0.0 # Based on analytical derivation\n        \n        # The code below implements numerical search as a verification, though it's not strictly necessary.\n        v_qb_write, v_bl_write, v_wl_write = vdd, 0.0, vdd\n        i_inj_write = [get_i_inj(v_q, v_qb_write, v_bl_write, v_wl_write, params) for v_q in v_q_sweep]\n        \n        found_root = False\n        for i in range(1, len(v_q_sweep)):\n            v_q1, i_inj1 = v_q_sweep[i-1], i_inj_write[i-1]\n            v_q2, i_inj2 = v_q_sweep[i], i_inj_write[i]\n            \n            # Check for root at the start of the interval.\n            if i == 1 and abs(i_inj1) < 1e-15:\n                v_write = v_q1\n                found_root = True\n                break\n                \n            # Find the first sign change for interpolation.\n            if i_inj1 * i_inj2 < 0:\n                # Linear interpolation: V_root = V1 - I1 * (V2-V1)/(I2-I1)\n                if abs(i_inj2 - i_inj1) > 1e-15:\n                    v_write = v_q1 - i_inj1 * (v_q2 - v_q1) / (i_inj2 - i_inj1)\n                else: # Should not happen with I_inj1 * I_inj2 < 0 and I1 != I2\n                    v_write = v_q1\n                found_root = True\n                break\n        \n        if not found_root and abs(i_inj_write[-1]) < 1e-9:\n             v_write = v_q_sweep[-1]\n\n\n        all_results.append([round(i_read, 6), round(i_hold, 6), round(v_write, 6)])\n\n    # Format the final output string\n    result_str = str(all_results).replace(\" \", \"\")\n    print(result_str)\n\nsolve()\n```"
        },
        {
            "introduction": "静态稳定性分析的最终目的是确保电路在各种条件下都能可靠工作，尤其是在低功耗设计中。本练习  将运用读取稳定性的概念，来应对一个关键挑战：确定SRAM单元能够可靠工作的最低电源电压（$V_{min}$）。您将通过编写脚本，在考虑工艺角（SS corner）影响的情况下，搜索并确定维持所需RSNM的最低 $V_{DD}$，从而展示如何利用基本稳定性指标来定义存储阵列的工作边界。",
            "id": "4299442",
            "problem": "在电子设计自动化 (EDA) 的背景下，考虑一个处于慢-慢 (SS) 工艺角的互补金属氧化物半导体 (CMOS) 静态随机存取存储器 (SRAM) 六晶体管 (6T) 位单元。该位单元由两个交叉耦合的反相器和两个访问晶体管组成。读取操作假设先将两条位线预充电至电源电压 $V_{DD}$，然后将字线电压提升至 $V_{DD}$。在读取期间，存储逻辑 $0$ 的内部存储节点会通过访问晶体管被向上扰动。读取受限的最小电源电压 $V_{min}$ 是指在该电压下，读取静态噪声容限 (RSNM) 大于或等于指定阈值的最低电源电压 $V_{DD}$。\n\n请使用以下建模假设和基本原理：\n- 每个金属氧化物半导体场效应晶体管 (MOSFET) 均采用无沟道长度调制效应的长沟道平方律电流-电压关系进行建模。对于 n 沟道 MOSFET (NMOS)，其漏极电流为\n  $$ I_{n} =\n  \\begin{cases}\n  0 & \\text{若 } V_{GS} \\le V_{thn} \\text{ 或 } V_{DS} \\le 0, \\\\\n  k_{n}^{\\prime}\\,\\beta \\left[ (V_{GS}-V_{thn})V_{DS} - \\tfrac{1}{2}V_{DS}^{2} \\right] & \\text{若 } V_{DS} < V_{GS}-V_{thn}, \\\\\n  \\tfrac{1}{2}k_{n}^{\\prime}\\,\\beta (V_{GS}-V_{thn})^{2} & \\text{若 } V_{DS} \\ge V_{GS}-V_{thn},\n  \\end{cases}\n  $$\n  其中 $k_{n}^{\\prime}$ 是单位为 $\\mathrm{A}/\\mathrm{V}^{2}$ 的 NMOS 工艺跨导参数，$\\beta$ 是无量纲的宽长比 $W/L$，$V_{GS}$ 是栅源电压，$V_{DS}$ 是漏源电压，$V_{thn}$ 是 NMOS 阈值电压。\n- 对于 p 沟道 MOSFET (PMOS)，定义 $V_{SG}$ 和 $V_{SD}$ 为其幅值，并令 $|V_{thp}|$ 为 PMOS 阈值电压幅值。漏极电流幅值为\n  $$ I_{p} =\n  \\begin{cases}\n  0 & \\text{若 } V_{SG} \\le |V_{thp}| \\text{ 或 } V_{SD} \\le 0, \\\\\n  k_{p}^{\\prime}\\,\\beta \\left[ (V_{SG}-|V_{thp}|)V_{SD} - \\tfrac{1}{2}V_{SD}^{2} \\right] & \\text{若 } V_{SD} < V_{SG}-|V_{thp}|, \\\\\n  \\tfrac{1}{2}k_{p}^{\\prime}\\,\\beta (V_{SG}-|V_{thp}|)^{2} & \\text{若 } V_{SD} \\ge V_{SG}-|V_{thp}|.\n  \\end{cases}\n  $$\n- 反相器翻转点 $V_{M}$ 定义为当 $V_{out}=V_{in}=V_{M}$ 时，NMOS 和 PMOS 电流相等的输入电压。该值是在两个器件均处于饱和区的假设下获得的：\n  $$ \\tfrac{1}{2}k_{n}^{\\prime}\\,\\beta_{pd}(V_{M}-V_{thn})^{2} = \\tfrac{1}{2}k_{p}^{\\prime}\\,\\beta_{pu}(V_{DD}-V_{M}-|V_{thp}|)^{2}, $$\n  其中 $\\beta_{pd}$ 和 $\\beta_{pu}$ 分别是反相器的下拉 NMOS 和上拉 PMOS 的 $W/L$ 比。求解可得\n  $$ V_{M} = \\frac{\\sqrt{k_{p}^{\\prime}\\beta_{pu}}\\,V_{DD} + \\sqrt{k_{n}^{\\prime}\\beta_{pd}}\\,V_{thn} - \\sqrt{k_{p}^{\\prime}\\beta_{pu}}\\,|V_{thp}|}{\\sqrt{k_{n}^{\\prime}\\beta_{pd}} + \\sqrt{k_{p}^{\\prime}\\beta_{pu}}}. $$\n- 在读取存储于节点 $Q$ 的 $0$ 时，该节点通过宽长比为 $\\beta_{ax}$ 的访问 NMOS 连接到电压为 $V_{DD}$ 的位线。读取扰动后的节点电压 $V_{Q}^{read}$ 可由向上的访问电流和向下的下拉电流的直流 (DC) 平衡求出：\n  $$ I_{ax}(V_{DD}-V_{Q}^{read}, V_{DD}-V_{Q}^{read}) = I_{pd}(V_{DD}, V_{Q}^{read}), $$\n  其中 $I_{ax}$ 和 $I_{pd}$ 是使用上述 NMOS 电流模型在相应偏置下计算得出的。\n- 在本问题中，读取静态噪声容限 (RSNM) 近似为\n  $$ \\mathrm{RSNM} \\approx \\max\\!\\left(0,\\, V_{M} - V_{Q}^{read} \\right). $$\n\n假设 SS 工艺角参数如下：\n- $k_{n}^{\\prime} = 1.20 \\times 10^{-4}\\,\\mathrm{A}/\\mathrm{V}^{2}$,\n- $k_{p}^{\\prime} = 6.00 \\times 10^{-5}\\,\\mathrm{A}/\\mathrm{V}^{2}$,\n- $V_{thn} = 0.50\\,\\mathrm{V}$,\n- $|V_{thp}| = 0.55\\,\\mathrm{V}$.\n\n对于每个测试用例，给定单元尺寸 $(\\beta_{pd}, \\beta_{pu}, \\beta_{ax})$、一个 RSNM 阈值 $S$ 以及一个搜索区间 $[V_{DD,\\min}, V_{DD,\\max}]$。您的任务是计算读取受限的 $V_{min}$，其定义为区间内满足 $\\mathrm{RSNM} \\ge S$ 的最低 $V_{DD}$。如果在指定区间内 $\\mathrm{RSNM} \\ge S$ 始终不成立，则返回非数字 (not-a-number)。所有返回值必须以伏特为单位表示，并四舍五入到三位小数。\n\n对 $V_{DD}$ 使用分辨率为 $0.001\\,\\mathrm{V}$ 的离散搜索，以确保确定性输出。将 $V_{DD} \\le \\max(V_{thn}, |V_{thp}|)$ 的情况视为 $\\mathrm{RSNM}=0$。\n\n测试套件（每个元组为 $(\\beta_{pd}, \\beta_{pu}, \\beta_{ax}, S, V_{DD,\\min}, V_{DD,\\max})$）：\n- 测试用例 $1$：$(1.0, 0.5, 0.7, 0.12, 0.40, 1.20)$。\n- 测试用例 $2$：$(0.8, 0.5, 1.0, 0.12, 0.40, 1.20)$。\n- 测试用例 $3$：$(2.0, 0.5, 0.7, 0.12, 0.40, 1.20)$。\n- 测试用例 $4$：$(1.0, 0.5, 0.7, 0.05, 0.40, 1.20)$。\n\n您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表（例如 $[v_{1},v_{2},v_{3},v_{4}]$），其中每个 $v_{i}$ 是对应测试用例计算出的 $V_{min}$（以伏特为单位，四舍五入到三位小数）。如果某个用例无解，则对应的条目必须为非数字 (not-a-number)。不涉及角度。不应打印任何其他文本。",
            "solution": "此问题有效，因为它基于标准的 MOSFET 和 SRAM 电路理论，具有科学依据；其定义明确，包含了所有必要的参数和清晰的目标；并且没有任何指定的使其无效的缺陷。\n\n主要目标是确定 6T SRAM 位单元的读取受限最小电源电压 $V_{min}$。它被定义为在指定搜索区间 $[V_{DD,\\min}, V_{DD,\\max}]$ 内，使读取静态噪声容限 (RSNM) 达到或超过给定阈值 $S$ 的最低电源电压 $V_{DD}$。解决方案将通过对 $V_{DD}$ 进行步长为 $0.001\\,\\mathrm{V}$ 的离散搜索来找到。\n\n对于搜索范围内的每个离散 $V_{DD}$ 值，都会计算 RSNM。RSNM 定义为 $\\mathrm{RSNM} \\approx \\max(0, V_M - V_Q^{read})$。这需要为每个 $V_{DD}$ 计算两个量：反相器翻转点 $V_M$ 和存储节点的读取扰动电压 $V_Q^{read}$。\n\n对于搜索中的每个 $V_{DD}$，分析过程如下：\n首先，检查一个特殊情况：如果 $V_{DD} \\le \\max(V_{thn}, |V_{thp}|)$，则 RSNM 定义为 $0$。给定参数 $V_{thn} = 0.50\\,\\mathrm{V}$ 和 $|V_{thp}| = 0.55\\,\\mathrm{V}$，此条件适用于任何 $V_{DD} \\le 0.55\\,\\mathrm{V}$ 的情况。在此区域内，RSNM 将小于任何正阈值 $S$。\n\n如果 $V_{DD} > 0.55\\,\\mathrm{V}$，则通过以下步骤计算 RSNM。\n\n**1. 计算反相器翻转点 $V_M$**\n\n交叉耦合反相器的翻转点 $V_M$ 由以下公式给出，该公式通过令上拉 (PU) PMOS 和下拉 (PD) NMOS 晶体管的饱和电流相等而导出：\n$$ V_{M} = \\frac{\\sqrt{k_{p}^{\\prime}\\beta_{pu}}\\,V_{DD} + \\sqrt{k_{n}^{\\prime}\\beta_{pd}}\\,V_{thn} - \\sqrt{k_{p}^{\\prime}\\beta_{pu}}\\,|V_{thp}|}{\\sqrt{k_{n}^{\\prime}\\beta_{pd}} + \\sqrt{k_{p}^{\\prime}\\beta_{pu}}} $$\n此处，$k_{n}^{\\prime}$ 和 $k_{p}^{\\prime}$ 是工艺跨导参数，$V_{thn}$ 和 $|V_{thp}|$ 是阈值电压幅值，而 $\\beta_{pd}$ 和 $\\beta_{pu}$ 分别是下拉和上拉晶体管的宽长比。这个公式表明 $V_M$ 是 $V_{DD}$ 的一个线性函数。\n\n**2. 计算读取扰动电压 $V_Q^{read}$**\n\n在读取存储的“0”操作期间，内部节点 $Q$（初始电压为 $0\\,\\mathrm{V}$）通过 NMOS 访问晶体管 (AX) 连接到（已预充电至 $V_{DD}$ 的）位线。节点 $Q$ 还通过反相器的下拉 NMOS 晶体管 (PD) 连接到地。PD 晶体管的栅极连接到另一个存储节点 $Q_b$，当 $Q$ 存储“0”时，$Q_b$ 的电压为 $V_{DD}$。AX 和 PD 晶体管之间形成一个分压器，导致节点 $Q$ 的电压从 $0\\,\\mathrm{V}$ 上升到一个稳态值 $V_Q^{read}$。该值由直流电流平衡方程确定：\n$$ I_{ax} = I_{pd} $$\n各个晶体管的电压为：\n-   **访问晶体管 (AX)**: $V_{G,ax} = V_{WL} = V_{DD}$, $V_{S,ax} = V_Q^{read}$, $V_{D,ax} = V_{BL} = V_{DD}$。因此，$V_{GS,ax} = V_{DD} - V_Q^{read}$ 且 $V_{DS,ax} = V_{DD} - V_Q^{read}$。由于 $V_{DS,ax} = V_{GS,ax}$，只要 $V_{GS,ax} > V_{thn}$，该晶体管就工作在饱和区（或其边界）。其电流为 $I_{ax} = \\frac{1}{2}k_{n}^{\\prime}\\beta_{ax}(V_{DD} - V_Q^{read} - V_{thn})^2$。\n-   **下拉晶体管 (PD)**: $V_{G,pd} = V_{DD}$, $V_{S,pd} = 0\\,\\mathrm{V}$, $V_{D,pd} = V_Q^{read}$。因此，$V_{GS,pd} = V_{DD}$ 且 $V_{DS,pd} = V_Q^{read}$。由于 $V_Q^{read}$ 预计是一个小的电压扰动，我们可以假设 $V_Q^{read} < V_{GS,pd} - V_{thn}$，这意味着 PD 晶体管工作在线性（三极管）区。其电流为 $I_{pd} = k_{n}^{\\prime}\\beta_{pd}\\left[ (V_{DD} - V_{thn})V_Q^{read} - \\frac{1}{2}(V_Q^{read})^2 \\right]$。\n\n令电流相等并消去 $k_n'$ 项：\n$$ \\frac{1}{2}\\beta_{ax}(V_{DD} - V_Q^{read} - V_{thn})^2 = \\beta_{pd}\\left[ (V_{DD} - V_{thn})V_Q^{read} - \\frac{1}{2}(V_Q^{read})^2 \\right] $$\n令 $x = V_Q^{read}$ 且 $V_{gt} = V_{DD} - V_{thn}$。该方程变为：\n$$ \\frac{1}{2}\\beta_{ax}(V_{gt} - x)^2 = \\beta_{pd}\\left[ V_{gt}x - \\frac{1}{2}x^2 \\right] $$\n展开并重新整理各项，得到一个关于 $x$ 的二次方程：\n$$ (\\beta_{ax} + \\beta_{pd})x^2 - 2V_{gt}(\\beta_{ax} + \\beta_{pd})x + \\beta_{ax}V_{gt}^2 = 0 $$\n使用二次公式求解 $x$ 得到两个解。我们选择物理上有意义的解，该解必须小于 $V_{gt}$：\n$$ V_Q^{read} = x = V_{gt} \\left( 1 - \\sqrt{\\frac{\\beta_{pd}}{\\beta_{ax} + \\beta_{pd}}} \\right) = (V_{DD}-V_{thn})\\left( 1 - \\sqrt{\\frac{\\beta_{pd}}{\\beta_{ax} + \\beta_{pd}}} \\right) $$\n该表达式表明，对于 $V_{DD} > V_{thn}$， $V_Q^{read}$ 也是 $V_{DD}$ 的一个线性函数。\n\n**3. 计算 RSNM 并确定 $V_{min}$**\n\n有了 $V_M$ 和 $V_Q^{read}$ 的表达式，对于给定的 $V_{DD}$，RSNM 为：\n$$ \\mathrm{RSNM}(V_{DD}) = \\max\\left(0, V_M(V_{DD}) - V_Q^{read}(V_{DD})\\right) $$\n由于 $V_M$ 和 $V_Q^{read}$ 都是 $V_{DD}$ 的线性函数，RSNM 也是分段线性的。可以证明，对于给定的参数，RSNM 是 $V_{DD}$ 的一个单调不减函数。\n\n寻找 $V_{min}$ 的过程是通过以 $0.001\\,\\mathrm{V}$ 为步长从 $V_{DD,\\min}$ 迭代到 $V_{DD,\\max}$ 来进行的。第一个满足 $\\mathrm{RSNM}(V_{DD}) \\ge S$ 的 $V_{DD}$ 值即为 $V_{min}$ 的解。如果循环完成仍未找到这样的电压，则说明在指定区间内不存在解，结果为非数字 (NaN)。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Calculates the read-limited minimum supply voltage (V_min) for a 6T SRAM bitcell\n    for a given set of test cases.\n    \"\"\"\n    # SS corner process parameters\n    kn_prime = 1.20e-4  # A/V^2\n    kp_prime = 6.00e-5  # A/V^2\n    Vthn = 0.50          # V\n    Vthp_abs = 0.55      # V\n\n    # Test cases: (beta_pd, beta_pu, beta_ax, S_thresh, VDD_min, VDD_max)\n    test_cases = [\n        (1.0, 0.5, 0.7, 0.12, 0.40, 1.20),\n        (0.8, 0.5, 1.0, 0.12, 0.40, 1.20),\n        (2.0, 0.5, 0.7, 0.12, 0.40, 1.20),\n        (1.0, 0.5, 0.7, 0.05, 0.40, 1.20),\n    ]\n\n    results = []\n\n    for case in test_cases:\n        beta_pd, beta_pu, beta_ax, S_thresh, VDD_min, VDD_max = case\n        \n        found_Vmin = np.nan\n        \n        # Pre-calculate constants that only depend on sizing ratios and process params\n        A = np.sqrt(kn_prime * beta_pd)\n        B = np.sqrt(kp_prime * beta_pu)\n        C_vq_factor = 1 - np.sqrt(beta_pd / (beta_ax + beta_pd))\n        \n        # Use integer-based loop for VDD to avoid floating point inaccuracies\n        VDD_min_mv = int(VDD_min * 1000)\n        VDD_max_mv = int(VDD_max * 1000)\n        \n        for VDD_mv in range(VDD_min_mv, VDD_max_mv + 1):\n            VDD = VDD_mv / 1000.0\n\n            rsnm = 0.0\n            # Special condition for low VDD as per problem statement\n            if VDD > max(Vthn, Vthp_abs):\n                # Calculate the inverter trip point V_M\n                vm_numerator = B * (VDD - Vthp_abs) + A * Vthn\n                vm_denominator = A + B\n                Vm = vm_numerator / vm_denominator\n                \n                # Calculate the read-disturbed voltage V_Q^read\n                # The formula is valid for VDD > Vthn, which is covered by the current\n                # if-condition since max(Vthn, Vthp_abs) >= Vthn.\n                Vq_read = (VDD - Vthn) * C_vq_factor\n                \n                # Calculate the Read Static Noise Margin (RSNM)\n                rsnm = max(0, Vm - Vq_read)\n\n            # Check if the RSNM threshold is met\n            if rsnm >= S_thresh:\n                found_Vmin = VDD\n                break  # Found the lowest VDD, so exit the loop for this case\n        \n        # Format results for output\n        if np.isnan(found_Vmin):\n            results.append('nan')\n        else:\n            # Format to exactly 3 decimal places\n            results.append(f\"{found_Vmin:.3f}\")\n\n    print(f\"[{','.join(results)}]\")\n\nsolve()\n```"
        }
    ]
}