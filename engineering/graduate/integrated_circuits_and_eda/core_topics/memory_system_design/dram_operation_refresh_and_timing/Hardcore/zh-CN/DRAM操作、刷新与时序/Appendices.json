{
    "hands_on_practices": [
        {
            "introduction": "在任何行激活之前，位线必须被预充电到一个稳定的参考电压。这个练习将引导你从基本的电路原理出发，推导预充电时间（$t_{RP}$）。通过这个实践，你将深入理解晶体管尺寸和电源电压等底层物理参数如何直接影响这一关键的 DRAM 时序参数。",
            "id": "4267059",
            "problem": "考虑一个在现代电子设计自动化 (EDA) 签核流程中运行的动态随机存取存储器 (DRAM) 位线对。每个位线被建模为一个值为 $C_{BL}$ 的电容器，通过一个由一个n沟道金属氧化物半导体 (NMOS) 晶体管与一个p沟道金属氧化物半导体 (PMOS) 晶体管并联组成的传输门，连接到一个专用的片上中点参考电压 $V_{PC} = V_{DD}/2$。一个独立的均衡NMOS晶体管在预充电期间将两条位线短接。假设在最坏情况的访问之后，位线电压为 $V_{BL}(0) = V_{DD}$ 和 $V_{\\overline{BL}}(0) = 0$，并且预充电控制信号开启了传输门和均衡器。预充电的目标是在容差范围 $\\pm \\delta$ 内将两条位线都拉到 $V_{PC}$。\n\n使用以下科学上标准的近似和数据：\n- 预充电NMOS和PMOS晶体管工作在线性区，其小信号电导分别为 $g_{n} = \\mu_{n} C_{ox} \\frac{W_{n}}{L_{n}} \\left(V_{GS,n} - V_{TH,n}\\right)$ 和 $g_{p} = \\mu_{p} C_{ox} \\frac{W_{p}}{L_{p}} \\left(V_{SG,p} - |V_{TH,p}|\\right)$，此公式在 $V_{GS,n} > V_{TH,n}$ 和 $V_{SG,p} > |V_{TH,p}|$ 时有效。忽略体效应、速度饱和、沟道长度调制以及$\\mu$或$C_{ox}$对偏置的任何依赖性。\n- 在预充电期间，栅极电压被驱动至 $V_{G,n} = V_{DD}$ 和 $V_{G,p} = 0$。为了估算时间常数，取中点工作点的过驱动偏置为 $V_{GS,n} \\approx V_{DD}/2$ 和 $V_{SG,p} \\approx V_{DD}/2$。\n- 均衡器件足够强，使得两条位线之间的差模电压的衰减速度远快于向 $V_{PC}$ 的共模移动；因此，向 $V_{PC}$ 的预充电稳定过程可以被分析为两个相同的一阶RC弛豫过程，每个位线一个，由通向 $V_{PC}$ 的等效电导 $g_{eq} = g_{n} + g_{p}$ 决定。\n\n给定参数：\n- $C_{BL} = 400 \\,\\text{fF}$，\n- $\\mu_{n} C_{ox} = 3.0 \\times 10^{-4} \\,\\text{A}/\\text{V}^{2}$， $\\mu_{p} C_{ox} = 1.5 \\times 10^{-4} \\,\\text{A}/\\text{V}^{2}$，\n- $W_{n} = 0.50 \\,\\mu\\text{m}$， $L_{n} = 0.06 \\,\\mu\\text{m}$， $W_{p} = 1.00 \\,\\mu\\text{m}$， $L_{p} = 0.06 \\,\\mu\\text{m}$，\n- $V_{TH,n} = 0.35 \\,\\text{V}$， $V_{TH,p} = -0.35 \\,\\text{V}$，\n- $V_{DD} = 1.0 \\,\\text{V}$，\n- $\\delta = 5.0 \\,\\text{mV}$。\n\n从一阶RC瞬态和MOS晶体管线性区小信号电导的第一性原理出发，推导预充电时间 $t_{RP}$ 的解析表达式，该时间需满足在所述的最坏情况初始条件下，两条位线的电压都满足 $|V(t_{RP}) - V_{PC}| \\le \\delta$。然后，使用给定参数对 $t_{RP}$ 进行数值计算，并将您的数值答案以纳秒为单位表示，四舍五入到三位有效数字。\n\n此外，在相同的建模假设下，通过推导一个闭式表达式 $t_{RP}(V_{DD})$ 来确定 $t_{RP}$ 如何随电源电压 $V_{DD}$ 变化，明确显示其对 $V_{DD}$、$C_{BL}$、$\\mu_{n} C_{ox}$、$\\mu_{p} C_{ox}$、$\\frac{W_{n}}{L_{n}}$、$\\frac{W_{p}}{L_{p}}$、$V_{TH,n}$、 $|V_{TH,p}|$ 和 $\\delta$ 的依赖关系。说明使该表达式有效的任何必要的定义域条件。最终答案必须以两个条目的形式提供：$t_{RP}$ 的数值（以纳秒为单位，答案框内不含单位）和解析表达式 $t_{RP}(V_{DD})$；将它们一起以单行矩阵的形式呈现。将数值条目四舍五入到三位有效数字。",
            "solution": "该问题要求推导DRAM位线对的预充电时间 $t_{RP}$，然后进行数值评估并分析其随电源电压 $V_{DD}$ 变化的缩放关系。\n\n首先对问题进行验证。\n\n**第1步：提取已知条件**\n- 位线电容: $C_{BL} = 400 \\,\\text{fF}$\n- 位线参考电压: $V_{PC} = V_{DD}/2$\n- 预充电稳定容差: $\\pm\\delta$，其中 $\\delta = 5.0 \\,\\text{mV}$\n- 初始位线电压（最坏情况）: $V_{BL}(0) = V_{DD}$，$V_{\\overline{BL}}(0) = 0$\n- 晶体管工艺参数:\n  - $\\mu_{n} C_{ox} = 3.0 \\times 10^{-4} \\,\\text{A}/\\text{V}^{2}$\n  - $\\mu_{p} C_{ox} = 1.5 \\times 10^{-4} \\,\\text{A}/\\text{V}^{2}$\n- 晶体管尺寸:\n  - $W_{n} = 0.50 \\,\\mu\\text{m}$，$L_{n} = 0.06 \\,\\mu\\text{m}$\n  - $W_{p} = 1.00 \\,\\mu\\text{m}$，$L_{p} = 0.06 \\,\\mu\\text{m}$\n- 阈值电压:\n  - $V_{TH,n} = 0.35 \\,\\text{V}$\n  - $V_{TH,p} = -0.35 \\,\\text{V}$\n- 电源电压: $V_{DD} = 1.0 \\,\\text{V}$\n- 预充电栅极控制电压: $V_{G,n} = V_{DD}$，$V_{G,p} = 0$\n- 用于电导计算的近似：使用中点偏置 $V_{GS,n} \\approx V_{DD}/2$ 和 $V_{SG,p} \\approx V_{DD}/2$。\n- 建模假设：预充电被建模为两个相同的一阶RC弛豫过程，由一个等效电导 $g_{eq} = g_n + g_p$ 决定。\n- 小信号电导公式：\n  - $g_{n} = \\mu_{n} C_{ox} \\frac{W_{n}}{L_{n}} \\left(V_{GS,n} - V_{TH,n}\\right)$\n  - $g_{p} = \\mu_{p} C_{ox} \\frac{W_{p}}{L_{p}} \\left(V_{SG,p} - |V_{TH,p}|\\right)$\n\n**第2步：使用提取的已知条件进行验证**\n该问题具有科学依据，使用了标准的MOS晶体管模型和RC瞬态分析，这些都是电气工程的基本原理。问题是适定的，提供了一套完整且一致的参数和一个明确的目标。语言客观而精确。对于DRAM操作的一阶分析，其物理参数和建模近似是标准且现实的。该问题没有表现出任何诸如科学不健全、不完整或模糊不清等缺陷。\n\n**第3步：结论与行动**\n问题是有效的。下面阐述一个完整的解决方案。\n\n**预充电时间 $t_{RP}$ 的推导**\n\n预充电过程被建模为一个一阶RC电路，其中每个位线电容 $C_{BL}$ 通过一个等效电阻 $R_{eq}$ 被驱动至中点电压 $V_{PC} = V_{DD}/2$。该电阻对应于构成传输门的NMOS和PMOS晶体管的并联。等效电导为 $g_{eq} = g_n + g_p$，因此 $R_{eq} = 1/g_{eq}$。\n\n此RC电路的时间常数为 $\\tau = R_{eq}C_{BL} = C_{BL}/g_{eq}$。从初始电压 $V(0)$ 开始，位线上的电压 $V(t)$ 遵循以下瞬态方程：\n$$V(t) = V_{PC} + (V(0) - V_{PC}) \\exp\\left(-\\frac{t}{\\tau}\\right)$$\n\n我们考虑最坏情况的初始条件：$V_{BL}(0) = V_{DD}$ 和 $V_{\\overline{BL}}(0) = 0$。\n对于从 $V_{DD}$ 开始的位线：\n$$V_{BL}(t) = \\frac{V_{DD}}{2} + \\left(V_{DD} - \\frac{V_{DD}}{2}\\right) \\exp\\left(-\\frac{t}{\\tau}\\right) = \\frac{V_{DD}}{2} + \\frac{V_{DD}}{2} \\exp\\left(-\\frac{t}{\\tau}\\right)$$\n对于从 $0$ 开始的位线：\n$$V_{\\overline{BL}}(t) = \\frac{V_{DD}}{2} + \\left(0 - \\frac{V_{DD}}{2}\\right) \\exp\\left(-\\frac{t}{\\tau}\\right) = \\frac{V_{DD}}{2} - \\frac{V_{DD}}{2} \\exp\\left(-\\frac{t}{\\tau}\\right)$$\n\n当两条位线上的电压都在 $V_{PC}$ 的 $\\pm\\delta$ 容差范围内时，预充电在时间 $t_{RP}$ 被认为完成。这意味着 $|V(t_{RP}) - V_{PC}| \\le \\delta$。\n对于 $V_{BL}(t_{RP})$：\n$$\\left|V_{BL}(t_{RP}) - \\frac{V_{DD}}{2}\\right| = \\left|\\frac{V_{DD}}{2} \\exp\\left(-\\frac{t_{RP}}{\\tau}\\right)\\right| = \\frac{V_{DD}}{2} \\exp\\left(-\\frac{t_{RP}}{\\tau}\\right)$$\n对于 $V_{\\overline{BL}}(t_{RP})$：\n$$\\left|V_{\\overline{BL}}(t_{RP}) - \\frac{V_{DD}}{2}\\right| = \\left|-\\frac{V_{DD}}{2} \\exp\\left(-\\frac{t_{RP}}{\\tau}\\right)\\right| = \\frac{V_{DD}}{2} \\exp\\left(-\\frac{t_{RP}}{\\tau}\\right)$$\n两条位线的条件是相同的。我们求解满足等式的最小时间 $t_{RP}$：\n$$\\frac{V_{DD}}{2} \\exp\\left(-\\frac{t_{RP}}{\\tau}\\right) = \\delta$$\n$$\\exp\\left(-\\frac{t_{RP}}{\\tau}\\right) = \\frac{2\\delta}{V_{DD}}$$\n对两边取自然对数：\n$$-\\frac{t_{RP}}{\\tau} = \\ln\\left(\\frac{2\\delta}{V_{DD}}\\right)$$\n$$t_{RP} = -\\tau \\ln\\left(\\frac{2\\delta}{V_{DD}}\\right) = \\tau \\ln\\left(\\left(\\frac{2\\delta}{V_{DD}}\\right)^{-1}\\right) = \\tau \\ln\\left(\\frac{V_{DD}}{2\\delta}\\right)$$\n代入 $\\tau = C_{BL}/g_{eq} = C_{BL}/(g_n+g_p)$：\n$$t_{RP} = \\frac{C_{BL}}{g_n + g_p} \\ln\\left(\\frac{V_{DD}}{2\\delta}\\right)$$\n\n接下来，我们计算电导 $g_n$ 和 $g_p$。栅极电压为 $V_{G,n} = V_{DD}$ 和 $V_{G,p} = 0$。晶体管的源极连接到 $V_{PC} = V_{DD}/2$。我们使用指定的近似来计算栅源电压：\n$$V_{GS,n} = V_{G,n} - V_S = V_{DD} - \\frac{V_{DD}}{2} = \\frac{V_{DD}}{2}$$\n$$V_{SG,p} = V_S - V_{G,p} = \\frac{V_{DD}}{2} - 0 = \\frac{V_{DD}}{2}$$\n电导为：\n$$g_n = \\mu_{n} C_{ox} \\frac{W_n}{L_n} \\left(\\frac{V_{DD}}{2} - V_{TH,n}\\right)$$\n$$g_p = \\mu_{p} C_{ox} \\frac{W_p}{L_p} \\left(\\frac{V_{DD}}{2} - |V_{TH,p}|\\right)$$\n\n**$t_{RP}(V_{DD})$ 的解析表达式**\n\n将 $g_n$ 和 $g_p$ 的表达式代入 $t_{RP}$ 的方程，得到 $t_{RP}$ 作为 $V_{DD}$ 和其他参数函数的闭式表达式。这是问题第二部分的答案。\n$$t_{RP}(V_{DD}) = \\frac{C_{BL}}{\\mu_{n} C_{ox} \\frac{W_{n}}{L_{n}}\\left(\\frac{V_{DD}}{2} - V_{TH,n}\\right) + \\mu_{p} C_{ox} \\frac{W_{p}}{L_{p}}\\left(\\frac{V_{DD}}{2} - |V_{TH,p}|\\right)} \\ln\\left(\\frac{V_{DD}}{2\\delta}\\right)$$\n为使此表达式在物理上有效，$V_{DD}$ 的定义域必须满足两个条件：\n1. 晶体管必须导通，意味着它们的过驱动电压必须为正：$\\frac{V_{DD}}{2} - V_{TH,n} > 0$ 且 $\\frac{V_{DD}}{2} - |V_{TH,p}| > 0$。这意味着 $V_{DD} > 2 \\max(V_{TH,n}, |V_{TH,p}|)$。\n2. 为使 $t_{RP}$ 为正，自然对数的宗量必须大于1，所以 $\\frac{V_{DD}}{2\\delta} > 1$，即 $V_{DD} > 2\\delta$。通常，第一个条件限制性更强。\n\n**数值计算**\n\n我们现在代入给定的数值来计算 $t_{RP}$。\n$C_{BL} = 400 \\times 10^{-15} \\,\\text{F}$\n$V_{DD} = 1.0 \\,\\text{V}$\n$\\delta = 5.0 \\times 10^{-3} \\,\\text{V}$\n$V_{TH,n} = 0.35 \\,\\text{V}$，$|V_{TH,p}| = 0.35 \\,\\text{V}$\n$\\mu_n C_{ox} = 3.0 \\times 10^{-4} \\,\\text{A/V}^2$，$W_n/L_n = 0.50/0.06 = 25/3$\n$\\mu_p C_{ox} = 1.5 \\times 10^{-4} \\,\\text{A/V}^2$，$W_p/L_p = 1.00/0.06 = 50/3$\n\n首先，计算过驱动电压：\n$$\\frac{V_{DD}}{2} - V_{TH,n} = \\frac{1.0}{2} - 0.35 = 0.5 - 0.35 = 0.15 \\,\\text{V}$$\n$$\\frac{V_{DD}}{2} - |V_{TH,p}| = \\frac{1.0}{2} - 0.35 = 0.5 - 0.35 = 0.15 \\,\\text{V}$$\n这些条件得到满足，因为 $V_{DD}=1.0\\,\\text{V} > 2 \\times 0.35\\,\\text{V} = 0.7\\,\\text{V}$。\n\n现在，计算电导：\n$$g_n = (3.0 \\times 10^{-4} \\,\\text{A/V}^2) \\times \\left(\\frac{0.50}{0.06}\\right) \\times (0.15 \\,\\text{V}) = 3.75 \\times 10^{-4} \\,\\text{A/V}$$\n$$g_p = (1.5 \\times 10^{-4} \\,\\text{A/V}^2) \\times \\left(\\frac{1.00}{0.06}\\right) \\times (0.15 \\,\\text{V}) = 3.75 \\times 10^{-4} \\,\\text{A/V}$$\n总电导为：\n$$g_{eq} = g_n + g_p = 3.75 \\times 10^{-4} + 3.75 \\times 10^{-4} = 7.5 \\times 10^{-4} \\,\\text{A/V}$$\n\n接下来，计算对数项：\n$$\\ln\\left(\\frac{V_{DD}}{2\\delta}\\right) = \\ln\\left(\\frac{1.0}{2 \\times 5.0 \\times 10^{-3}}\\right) = \\ln\\left(\\frac{1.0}{0.01}\\right) = \\ln(100) \\approx 4.60517$$\n\n最后，计算 $t_{RP}$：\n$$t_{RP} = \\frac{C_{BL}}{g_{eq}} \\ln(100) = \\frac{400 \\times 10^{-15} \\,\\text{F}}{7.5 \\times 10^{-4} \\,\\text{A/V}} \\times \\ln(100)$$\n$$t_{RP} \\approx (5.333... \\times 10^{-10} \\,\\text{s}) \\times 4.60517 \\approx 2.45609 \\times 10^{-9} \\,\\text{s}$$\n转换为纳秒并四舍五入到三位有效数字：\n$$t_{RP} \\approx 2.46 \\,\\text{ns}$$\n\n最终答案需要两部分：$t_{RP}$ 的数值（以纳秒为单位）和推导出的 $t_{RP}(V_{DD})$ 的解析表达式。",
            "answer": "$$\\boxed{\\begin{bmatrix} 2.46 & \\frac{C_{BL}}{\\mu_{n} C_{ox} \\frac{W_{n}}{L_{n}}\\left(\\frac{V_{DD}}{2} - V_{TH,n}\\right) + \\mu_{p} C_{ox} \\frac{W_{p}}{L_{p}}\\left(\\frac{V_{DD}}{2} - |V_{TH,p}|\\right)} \\ln\\left(\\frac{V_{DD}}{2\\delta}\\right) \\end{bmatrix}}$$"
        },
        {
            "introduction": "行被激活后，必须保持足够长的时间以确保数据能够被正确读出并写回存储单元。这个练习将探讨决定最小行激活时间（$t_{RAS}$）的物理限制，特别是数据恢复过程。此练习强调了时序参数并非随意设定，而是基于可靠性需求，并引入了温度等真实环境因素对系统性能的影响。",
            "id": "4267051",
            "problem": "考虑集成电路（Integrated Circuits）和电子设计自动化（Electronic Design Automation，EDA）背景下的动态随机存取存储器（DRAM）行激活时序约束。最小行激活时间 $t_{\\text{RAS}}$ 必须满足两个独立的物理要求：(i) 通过传输晶体管和读出放大器驱动路径完全恢复被访问单元的电荷，以及 (ii) 通过确保字线电压衰减到传输晶体管截止阈值以下，为预充电做足充分的内部准备。仅使用经典的一阶电阻-电容（RC）指数充电/放电定律以及经过充分验证的半导体迁移率和阈值电压的温度依赖性，推导由单元完全恢复所施加的 $t_{\\text{RAS}}$ 下界，以及由内部预充电准备所施加的另一个独立下界。\n\n假设以下物理上一致的参数和模型：\n- 电源电压为 $V_{\\text{DD}}=1.2\\ \\text{V}$。\n- 在访问存储的逻辑“1”时，单元电容器从 $V_{\\text{cell}}(0)=\\frac{1}{2}V_{\\text{DD}}$ 开始恢复阶段，并且必须恢复到距离电源轨 $V_{\\text{margin}}=0.02\\ \\text{V}$ 的范围内，以确保在下一次刷新前的数据保持完整性。\n- 单元电容为 $C_{\\text{cell}}=30\\ \\text{fF}$。\n- 单元恢复的主导电阻是传输晶体管的导通电阻，其模型为 $R_{\\text{pass}}(T)=R_{\\text{pass},0}\\left(\\frac{T}{300\\ \\text{K}}\\right)^{m}$，其中 $R_{\\text{pass},0}=8\\ \\text{k}\\Omega$ 且 $m=1.5$。\n- 控制预充电的字线放电路径被建模为一个有效驱动电阻 $R_{\\text{drv}}(T)=R_{\\text{drv},0}\\left(\\frac{T}{300\\ \\text{K}}\\right)^{m}$ 与字线电容 $C_{\\text{WL}}=1.5\\ \\text{pF}$ 串联，其中 $R_{\\text{drv},0}=2\\ \\text{k}\\Omega$ 且指数 $m=1.5$ 相同。\n- 允许预充电的传输晶体管截止阈值是温度依赖的：$V_{\\text{th}}(T)=V_{\\text{th},0}-k_{T}\\left(T-300\\ \\text{K}\\right)$，其中 $V_{\\text{th},0}=0.30\\ \\text{V}$ 且 $k_{T}=0.001\\ \\text{V/K}$。\n- 使用RC指数充电和放电定律，根据上述初始条件和阈值得出时间下界。\n- 最小安全行激活时间 $t_{\\text{RAS,min}}(T)$ 由单元完全恢复时间 $t_{\\text{restore}}(T)$ 决定。独立的预充电准备时间 $t_{\\text{prep}}(T)$ 是行预充电时间 $t_{\\text{RP}}$ 的一个主要组成部分。\n\n计算在 $T_{\\text{low}}=273\\ \\text{K}$ 和 $T_{\\text{high}}=358\\ \\text{K}$ 这两个工作点下的最小安全行激活时间 $t_{\\text{RAS,min}}(T)$。将两个最终时间都以纳秒（nanoseconds）为单位表示。将您的答案四舍五入到三位有效数字。",
            "solution": "问题陈述已经过验证，被认为是科学上合理、定义明确且自洽的。所提供的参数和模型符合集成电路设计与分析中的标准工程实践。我们已根据正确的DRAM时序定义调整了问题，下面进行形式化的求解。\n\n该问题要求计算最小安全行激活时间 $t_{\\text{RAS,min}}(T)$，它由单元完全恢复时间 $t_{\\text{restore}}(T)$ 决定。我们还将推导内部预充电准备时间 $t_{\\text{prep}}(T)$，以作对比，但它不计入 $t_{\\text{RAS}}$。\n\n1. 单元恢复时间 $t_{\\text{restore}}(T)$ 的推导。\n\nDRAM单元电荷的恢复被建模为一个一阶电阻-电容（RC）充电过程。具有电容 $C_{\\text{cell}}$ 的单元电容器通过传输晶体管的导通电阻 $R_{\\text{pass}}(T)$ 向电源电压 $V_{\\text{DD}}$ 充电。单元电容器上的电压 $V_{\\text{cell}}(t)$ 由以下微分方程的解描述：\n$$V_{\\text{cell}}(t) = V_{\\text{final}} + (V_{\\text{initial}} - V_{\\text{final}})\\exp\\left(-\\frac{t}{\\tau_{\\text{restore}}}\\right)$$\n这里，时间常数为 $\\tau_{\\text{restore}}(T) = R_{\\text{pass}}(T)C_{\\text{cell}}$。最终电压是电源轨，$V_{\\text{final}} = V_{\\text{DD}}$。初始电压给定为 $V_{\\text{initial}} = V_{\\text{cell}}(0) = \\frac{1}{2}V_{\\text{DD}}$。代入这些值：\n$$V_{\\text{cell}}(t) = V_{\\text{DD}} + \\left(\\frac{1}{2}V_{\\text{DD}} - V_{\\text{DD}}\\right)\\exp\\left(-\\frac{t}{\\tau_{\\text{restore}}}\\right) = V_{\\text{DD}}\\left(1 - \\frac{1}{2}\\exp\\left(-\\frac{t}{\\tau_{\\text{restore}}}\\right)\\right)$$\n当电压达到 $V_{\\text{DD}} - V_{\\text{margin}}$ 时，恢复被认为是完成的。我们将达到此电压的时间表示为 $t_{\\text{restore}}$。令 $V_{\\text{cell}}(t_{\\text{restore}}) = V_{\\text{DD}} - V_{\\text{margin}}$：\n$$V_{\\text{DD}} - V_{\\text{margin}} = V_{\\text{DD}}\\left(1 - \\frac{1}{2}\\exp\\left(-\\frac{t_{\\text{restore}}}{\\tau_{\\text{restore}}}\\right)\\right)$$\n$$-V_{\\text{margin}} = -\\frac{V_{\\text{DD}}}{2}\\exp\\left(-\\frac{t_{\\text{restore}}}{\\tau_{\\text{restore}}}\\right)$$\n$$\\frac{2V_{\\text{margin}}}{V_{\\text{DD}}} = \\exp\\left(-\\frac{t_{\\text{restore}}}{\\tau_{\\text{restore}}}\\right)$$\n对两边取自然对数，并求解 $t_{\\text{restore}}$：\n$$t_{\\text{restore}} = -\\tau_{\\text{restore}}\\ln\\left(\\frac{2V_{\\text{margin}}}{V_{\\text{DD}}}\\right) = \\tau_{\\text{restore}}\\ln\\left(\\frac{V_{\\text{DD}}}{2V_{\\text{margin}}}\\right)$$\n代入给定的电阻温度依赖模型 $R_{\\text{pass}}(T)=R_{\\text{pass},0}\\left(\\frac{T}{300\\ \\text{K}}\\right)^{m}$，得到 $t_{\\text{restore}}(T)$ 的完整表达式为：\n$$t_{\\text{restore}}(T) = R_{\\text{pass},0}C_{\\text{cell}}\\left(\\frac{T}{300\\ \\text{K}}\\right)^{m} \\ln\\left(\\frac{V_{\\text{DD}}}{2V_{\\text{margin}}}\\right)$$\n\n2. 预充电准备时间 $t_{\\text{prep}}(T)$ 的推导。\n\n预充电准备要求字线电压 $V_{\\text{WL}}$ 衰减到某个阈值以下。这被建模为一个一阶RC放电过程。字线电容 $C_{\\text{WL}}$ 通过驱动电阻 $R_{\\text{drv}}(T)$ 放电。从初始值 $V_{\\text{DD}}$ 向 $0\\ \\text{V}$ 的电压衰减由下式给出：\n$$V_{\\text{WL}}(t) = V_{\\text{DD}}\\exp\\left(-\\frac{t}{\\tau_{\\text{prep}}}\\right)$$\n时间常数为 $\\tau_{\\text{prep}}(T) = R_{\\text{drv}}(T)C_{\\text{WL}}$。预充电准备的条件是 $V_{\\text{WL}}$ 必须降至传输晶体管的截止阈值 $V_{\\text{th}}(T)$ 以下。我们求解当 $V_{\\text{WL}}(t_{\\text{prep}}) = V_{\\text{th}}(T)$ 时的时间 $t_{\\text{prep}}$：\n$$V_{\\text{th}}(T) = V_{\\text{DD}}\\exp\\left(-\\frac{t_{\\text{prep}}}{\\tau_{\\text{prep}}}\\right)$$\n$$\\frac{V_{\\text{th}}(T)}{V_{\\text{DD}}} = \\exp\\left(-\\frac{t_{\\text{prep}}}{\\tau_{\\text{prep}}}\\right)$$\n取自然对数并求解 $t_{\\text{prep}}$：\n$$t_{\\text{prep}} = -\\tau_{\\text{prep}}\\ln\\left(\\frac{V_{\\text{th}}(T)}{V_{\\text{DD}}}\\right) = \\tau_{\\text{prep}}\\ln\\left(\\frac{V_{\\text{DD}}}{V_{\\text{th}}(T)}\\right)$$\n代入模型 $R_{\\text{drv}}(T)=R_{\\text{drv},0}\\left(\\frac{T}{300\\ \\text{K}}\\right)^{m}$ 和 $V_{\\text{th}}(T)=V_{\\text{th},0}-k_{T}\\left(T-300\\ \\text{K}\\right)$：\n$$t_{\\text{prep}}(T) = R_{\\text{drv},0}C_{\\text{WL}}\\left(\\frac{T}{300\\ \\text{K}}\\right)^{m} \\ln\\left(\\frac{V_{\\text{DD}}}{V_{\\text{th},0}-k_{T}(T-300\\ \\text{K})}\\right)$$\n\n3. 数值计算。\n\n最小安全行激活时间为 $t_{\\text{RAS,min}}(T) = t_{\\text{restore}}(T)$。我们将使用给定的参数值：$V_{\\text{DD}}=1.2\\ \\text{V}$，$V_{\\text{margin}}=0.02\\ \\text{V}$，$C_{\\text{cell}}=30\\ \\text{fF} = 30 \\times 10^{-15}\\ \\text{F}$，$R_{\\text{pass},0}=8\\ \\text{k}\\Omega = 8 \\times 10^{3}\\ \\Omega$，$C_{\\text{WL}}=1.5\\ \\text{pF} = 1.5 \\times 10^{-12}\\ \\text{F}$，$R_{\\text{drv},0}=2\\ \\text{k}\\Omega = 2 \\times 10^{3}\\ \\Omega$，$m=1.5$，$V_{\\text{th},0}=0.30\\ \\text{V}$，以及 $k_{T}=0.001\\ \\text{V/K}$。\n\n在 $T_{\\text{low}}=273\\ \\text{K}$ 下的计算：\n首先，计算与温度相关的项。\n$\\left(\\frac{T_{\\text{low}}}{300\\ \\text{K}}\\right)^m = \\left(\\frac{273}{300}\\right)^{1.5} = (0.91)^{1.5} \\approx 0.86927$。\n现在，计算 $t_{\\text{restore}}$。\n$$t_{\\text{restore}}(273\\ \\text{K}) = (8 \\times 10^3\\ \\Omega)(30 \\times 10^{-15}\\ \\text{F})(0.86927) \\ln\\left(\\frac{1.2}{2 \\times 0.02}\\right) \\approx 0.7095 \\times 10^{-9}\\ \\text{s}$$\n因此，最小安全行激活时间为：\n$$t_{\\text{RAS,min}}(273\\ \\text{K}) = 0.7095 \\times 10^{-9}\\ \\text{s} \\approx 0.710\\ \\text{ns}$$\n\n在 $T_{\\text{high}}=358\\ \\text{K}$ 下的计算：\n首先，计算与温度相关的项。\n$\\left(\\frac{T_{\\text{high}}}{300\\ \\text{K}}\\right)^m = \\left(\\frac{358}{300}\\right)^{1.5} \\approx (1.19333)^{1.5} \\approx 1.30349$。\n现在，计算 $t_{\\text{restore}}$。\n$$t_{\\text{restore}}(358\\ \\text{K}) = (8 \\times 10^3\\ \\Omega)(30 \\times 10^{-15}\\ \\text{F})(1.30349) \\ln(30) \\approx 1.0642 \\times 10^{-9}\\ \\text{s}$$\n因此，最小安全行激活时间为：\n$$t_{\\text{RAS,min}}(358\\ \\text{K}) = 1.0642 \\times 10^{-9}\\ \\text{s} \\approx 1.06\\ \\text{ns}$$\n\n所要求的在 $T_{\\text{low}}=273\\ \\text{K}$ 和 $T_{\\text{high}}=358\\ \\text{K}$ 下的 $t_{\\text{RAS,min}}(T)$ 值，四舍五入到三位有效数字，分别为 $0.710\\ \\text{ns}$ 和 $1.06\\ \\text{ns}$。",
            "answer": "$$\\boxed{\\begin{bmatrix} 0.710 & 1.06 \\end{bmatrix}}$$"
        },
        {
            "introduction": "为了提升性能，现代 DRAM 通过多 Bank 和 Bank 组的交错访问来隐藏延迟。本练习将分析一个具体的激活命令序列，并演示系统吞吐率如何同时受到多个时序参数（如 $t_{\\mathrm{RRD}}$ 和 $t_{\\mathrm{FAW}}$）的共同制约。通过这个实践，你将从单个参数的分析提升到系统级视角，理解内存控制器如何通过调度来最大化 DRAM 带宽。",
            "id": "4267091",
            "problem": "考虑一个动态随机存取存储器 (DRAM) 设备，其组织结构为 $4$ 个bank组，每个bank组有 $4$ 个bank。该设备在电子设计自动化 (EDA) 调度控制下运行，这些控制强制执行标准时序约束。设 $t_{\\mathrm{CK}}$ 表示DRAM时钟周期，并为激活到激活的间隔指定以下时序参数：\n- 同一bank组内的行到行延迟 $t_{\\mathrm{RRD_{S}}} = 3\\,t_{\\mathrm{CK}}$，\n- 不同bank组间的行到行延迟 $t_{\\mathrm{RRD_{L}}} = 4\\,t_{\\mathrm{CK}}$，\n- 四激活窗口 $t_{\\mathrm{FAW}} = 16\\,t_{\\mathrm{CK}}$。\n\n假设 $t_{\\mathrm{CK}} = 0.625\\,\\mathrm{ns}$。考虑一个长度为 $8$ 的重复激活命令序列模式：\n$\\mathrm{ACT}$ 到 $(\\mathrm{BG}\\,0,\\mathrm{bank}\\,0)$，\n$\\mathrm{ACT}$ 到 $(\\mathrm{BG}\\,0,\\mathrm{bank}\\,1)$，\n$\\mathrm{ACT}$ 到 $(\\mathrm{BG}\\,1,\\mathrm{bank}\\,2)$，\n$\\mathrm{ACT}$ 到 $(\\mathrm{BG}\\,1,\\mathrm{bank}\\,3)$，\n$\\mathrm{ACT}$ 到 $(\\mathrm{BG}\\,2,\\mathrm{bank}\\,1)$，\n$\\mathrm{ACT}$ 到 $(\\mathrm{BG}\\,2,\\mathrm{bank}\\,2)$，\n$\\mathrm{ACT}$ 到 $(\\mathrm{BG}\\,3,\\mathrm{bank}\\,0)$，\n$\\mathrm{ACT}$ 到 $(\\mathrm{BG}\\,3,\\mathrm{bank}\\,1)$，\n然后序列在 $(\\mathrm{BG}\\,0,\\mathrm{bank}\\,0)$ 上无限重复。\n\n为该序列的一个周期构建一个时序约束图，其中节点 $v_{1},\\dots,v_{8}$ 对应于 $8$ 个 $\\mathrm{ACT}$ 命令，有向边编码了由以下原因引起的最小间隔：\n- 连续命令的 $t_{\\mathrm{RRD}}$ 约束：如果两个连续命令的目标bank在同一个bank组中，则使用 $t_{\\mathrm{RRD_{S}}}$，否则使用 $t_{\\mathrm{RRD_{L}}}$，\n- $t_{\\mathrm{FAW}}$ 约束：对于每个 $i \\in \\{1,2,3,4\\}$，添加一条从 $v_{i}$ 到 $v_{i+4}$ 的边，权重为 $t_{\\mathrm{FAW}}$。\n\n假设序列周期性重复，并且除了指定的约束之外，没有其他约束（如预充电或刷新）限制 $\\mathrm{ACT}$ 的发出。使用约束图，确定在模式的无限重复中不违反任何约束的最大可行稳态激活速率，以每秒激活次数表示。将您的答案四舍五入到 $4$ 位有效数字，并以 $\\mathrm{s}^{-1}$ 为单位表示速率。",
            "solution": "用户希望找到在给定DRAM命令序列和指定时序约束下的最大可行稳态激活速率。这个问题可以通过构建一个时序约束图并找到重复的8命令序列的最小可能周期来建模。最大激活速率将是序列中的激活次数除以这个最小周期。\n\n设 $v_1, v_2, \\dots, v_8$ 为图的节点，代表序列中的八个激活 ($\\mathrm{ACT}$) 命令。设 $t_i$ 是命令 $v_i$ 在一个周期内发出的时间。从节点 $v_i$ 到 $v_j$ 的权重为 $w$ 的边表示约束 $t_j \\ge t_i + w$。由于序列以周期 $T_{period}$ 无限重复，一些约束会从一个序列的末尾回环到下一个序列的开头。形如 $t_j' \\ge t_i + w$ 的约束，其中 $t_j'$ 是下一个周期中命令 $v_j$ 的时间 ($t_j' = t_j + T_{period}$)，可以写成 $t_j + T_{period} \\ge t_i + w$。\n\n周期性调度的最小周期 $T_{period}$ 由约束图中的关键循环决定。这由最大循环均值 $\\lambda_{max}$ 给出：\n$$\nT_{period} \\ge \\lambda_{max} = \\max_{C} \\frac{\\sum_{e \\in C} w_e}{\\sum_{e \\in C} p_e}\n$$\n其中对于一个循环 $C$，$\\sum w_e$ 是其边的 时间延迟（权重）之和，而 $\\sum p_e$ 是周期滞后之和（即循环跨越周期边界的次数）。\n\n首先，我们根据给定的时序参数定义约束图的边和权重：$t_{\\mathrm{CK}} = 0.625\\,\\mathrm{ns}$，$t_{\\mathrm{RRD_{S}}} = 3\\,t_{\\mathrm{CK}}$，$t_{\\mathrm{RRD_{L}}} = 4\\,t_{\\mathrm{CK}}$，以及 $t_{\\mathrm{FAW}} = 16\\,t_{\\mathrm{CK}}$。\n\n该命令序列的目标 (Bank组, Bank) 对如下：\n$v_1: (\\mathrm{BG}\\,0, \\mathrm{bank}\\,0)$\n$v_2: (\\mathrm{BG}\\,0, \\mathrm{bank}\\,1)$\n$v_3: (\\mathrm{BG}\\,1, \\mathrm{bank}\\,2)$\n$v_4: (\\mathrm{BG}\\,1, \\mathrm{bank}\\,3)$\n$v_5: (\\mathrm{BG}\\,2, \\mathrm{bank}\\,1)$\n$v_6: (\\mathrm{BG}\\,2, \\mathrm{bank}\\,2)$\n$v_7: (\\mathrm{BG}\\,3, \\mathrm{bank}\\,0)$\n$v_8: (\\mathrm{BG}\\,3, \\mathrm{bank}\\,1)$\n\n约束如下：\n\n1.  **连续的 $t_{\\mathrm{RRD}}$ 约束 (滞后 $p=0$)：**\n    *   $v_1 \\to v_2$: 同一BG，权重 $w_{12} = t_{\\mathrm{RRD_{S}}} = 3\\,t_{\\mathrm{CK}}$。\n    *   $v_2 \\to v_3$: 不同BG，权重 $w_{23} = t_{\\mathrm{RRD_{L}}} = 4\\,t_{\\mathrm{CK}}$。\n    *   $v_3 \\to v_4$: 同一BG，权重 $w_{34} = t_{\\mathrm{RRD_{S}}} = 3\\,t_{\\mathrm{CK}}$。\n    *   $v_4 \\to v_5$: 不同BG，权重 $w_{45} = t_{\\mathrm{RRD_{L}}} = 4\\,t_{\\mathrm{CK}}$。\n    *   $v_5 \\to v_6$: 同一BG，权重 $w_{56} = t_{\\mathrm{RRD_{S}}} = 3\\,t_{\\mathrm{CK}}$。\n    *   $v_6 \\to v_7$: 不同BG，权重 $w_{67} = t_{\\mathrm{RRD_{L}}} = 4\\,t_{\\mathrm{CK}}$。\n    *   $v_7 \\to v_8$: 同一BG，权重 $w_{78} = t_{\\mathrm{RRD_{S}}} = 3\\,t_{\\mathrm{CK}}$。\n\n2.  **$t_{\\mathrm{FAW}}$ 约束 (滞后 $p=0$)：** 任何命令 $v_i$ 和命令 $v_{i+4}$ 之间的时间必须至少为 $t_{\\mathrm{FAW}}$。\n    *   $v_1 \\to v_5$: 权重 $t_{\\mathrm{FAW}} = 16\\,t_{\\mathrm{CK}}$。\n    *   $v_2 \\to v_6$: 权重 $t_{\\mathrm{FAW}} = 16\\,t_{\\mathrm{CK}}$。\n    *   $v_3 \\to v_7$: 权重 $t_{\\mathrm{FAW}} = 16\\,t_{\\mathrm{CK}}$。\n    *   $v_4 \\to v_8$: 权重 $t_{\\mathrm{FAW}} = 16\\,t_{\\mathrm{CK}}$。\n\n3.  **回环约束 (滞后 $p=1$)：**\n    *   从 $v_8$ 到下一个周期的 $v_1$ 的 $t_{\\mathrm{RRD}}$。它们在不同的bank组中。这给出了一个从 $v_8$ 到 $v_1$ 的边，权重为 $t_{\\mathrm{RRD_{L}}} = 4\\,t_{\\mathrm{CK}}$，滞后为 $p=1$。\n    *   跨越序列边界的 $t_{\\mathrm{FAW}}$ 约束。从 $v_i$ 到 $v_{i+4}$（其中索引回环）的时间必须至少为 $t_{\\mathrm{FAW}}$。\n        *   $v_5 \\to v_1'$ (下一个周期)：从 $v_5$ 到 $v_1$ 的边，权重为 $t_{\\mathrm{FAW}}$，滞后为 $p=1$。\n        *   $v_6 \\to v_2'$ (下一个周期)：从 $v_6$ 到 $v_2$ 的边，权重为 $t_{\\mathrm{FAW}}$，滞后为 $p=1$。\n        *   $v_7 \\to v_3'$ (下一个周期)：从 $v_7$ 到 $v_3$ 的边，权重为 $t_{\\mathrm{FAW}}$，滞后为 $p=1$。\n        *   $v_8 \\to v_4'$ (下一个周期)：从 $v_8$ 到 $v_4$ 的边，权重为 $t_{\\mathrm{FAW}}$，滞后为 $p=1$。\n\n现在，我们必须找到具有最大均值权重的循环。让我们分析关键循环。\n\n**循环 A：主要的 $t_{\\mathrm{RRD}}$ 环路。**\n这个循环由路径 $v_1 \\to v_2 \\to \\dots \\to v_8$ 和回环边 $v_8 \\to v_1$ 组成。这个循环的总滞后为 $\\sum p_e=1$。总权重是从 $v_1$ 到 $v_8$ 的最长路径，记为 $L(1,8)$，加上回环边 $w_{8,1,wrap}$ 的权重。\n让我们计算从 $v_1$ 出发的最长路径长度（假设 $t_1=0$）：\n$L(1,1) = 0$\n$L(1,2) = w_{12} = 3\\,t_{\\mathrm{CK}}$\n$L(1,3) = L(1,2) + w_{23} = 3\\,t_{\\mathrm{CK}} + 4\\,t_{\\mathrm{CK}} = 7\\,t_{\\mathrm{CK}}$\n$L(1,4) = L(1,3) + w_{34} = 7\\,t_{\\mathrm{CK}} + 3\\,t_{\\mathrm{CK}} = 10\\,t_{\\mathrm{CK}}$\n$L(1,5) = \\max(L(1,4) + w_{45}, L(1,1)+w_{15}) = \\max(10+4, 16)\\,t_{\\mathrm{CK}} = 16\\,t_{\\mathrm{CK}}$\n$L(1,6) = \\max(L(1,5) + w_{56}, L(1,2)+w_{26}) = \\max(16+3, 3+16)\\,t_{\\mathrm{CK}} = 19\\,t_{\\mathrm{CK}}$\n$L(1,7) = \\max(L(1,6) + w_{67}, L(1,3)+w_{37}) = \\max(19+4, 7+16)\\,t_{\\mathrm{CK}} = 23\\,t_{\\mathrm{CK}}$\n$L(1,8) = \\max(L(1,7) + w_{78}, L(1,4)+w_{48}) = \\max(23+3, 10+16)\\,t_{\\mathrm{CK}} = 26\\,t_{\\mathrm{CK}}$\n这个环路的循环均值为：\n$$ \\lambda_A = \\frac{L(1,8) + w_{8,1,wrap}}{1} = \\frac{26\\,t_{\\mathrm{CK}} + 4\\,t_{\\mathrm{CK}}}{1} = 30\\,t_{\\mathrm{CK}} $$\n\n**循环 B：$t_{\\mathrm{FAW}}$ 环路。**\n这些是由周期内的路径 $v_i \\to v_{i+4}$ 和回环边 $v_{i+4} \\to v_i$ 形成的循环。每个循环的总滞后为 $\\sum p_e=1$。\n对于 $i=1$，循环为 $v_1 \\to v_5 \\to v_1'$。循环均值为 $\\lambda_{B1} = (L(1,5) + w_{5,1,wrap})/1$。\n$L(1,5) = 16\\,t_{\\mathrm{CK}}$ 如前计算。回环边的权重是 $t_{\\mathrm{FAW}} = 16\\,t_{\\mathrm{CK}}$。\n$$ \\lambda_{B1} = \\frac{16\\,t_{\\mathrm{CK}} + 16\\,t_{\\mathrm{CK}}}{1} = 32\\,t_{\\mathrm{CK}} $$\n我们必须为其他类似的循环 $v_2 \\to v_6 \\to v_2'$, $v_3 \\to v_7 \\to v_3'$ 和 $v_4 \\to v_8 \\to v_4'$ 验证这一点。\n对于 $v_2 \\to v_6 \\to v_2'$，我们需要从 $v_2$ 到 $v_6$ 的最长路径 $L(2,6)$。\n$L(2,6) = \\max(w_{23}+w_{34}+w_{45}+w_{56}, w_{26}) = \\max(4+3+4+3, 16)\\,t_{\\mathrm{CK}} = \\max(14, 16)\\,t_{\\mathrm{CK}} = 16\\,t_{\\mathrm{CK}}$。\n循环均值为 $\\lambda_{B2} = (L(2,6) + w_{6,2,wrap})/1 = (16\\,t_{\\mathrm{CK}} + 16\\,t_{\\mathrm{CK}})/1 = 32\\,t_{\\mathrm{CK}}$。\n对于 $v_3 \\to v_7 \\to v_3'$，我们需要 $L(3,7)$。\n$L(3,7) = \\max(w_{34}+w_{45}+w_{56}+w_{67}, w_{37}) = \\max(3+4+3+4, 16)\\,t_{\\mathrm{CK}} = \\max(14, 16)\\,t_{\\mathrm{CK}} = 16\\,t_{\\mathrm{CK}}$。\n循环均值为 $\\lambda_{B3} = (L(3,7) + w_{7,3,wrap})/1 = (16\\,t_{\\mathrm{CK}} + 16\\,t_{\\mathrm{CK}})/1 = 32\\,t_{\\mathrm{CK}}$。\n对于 $v_4 \\to v_8 \\to v_4'$，我们需要 $L(4,8)$。\n$L(4,8) = \\max(w_{45}+w_{56}+w_{67}+w_{78}, w_{48}) = \\max(4+3+4+3, 16)\\,t_{\\mathrm{CK}} = \\max(14, 16)\\,t_{\\mathrm{CK}} = 16\\,t_{\\mathrm{CK}}$。\n循环均值为 $\\lambda_{B4} = (L(4,8) + w_{8,4,wrap})/1 = (16\\,t_{\\mathrm{CK}} + 16\\,t_{\\mathrm{CK}})/1 = 32\\,t_{\\mathrm{CK}}$。\n可以证明所有其他循环的均值都更小。\n\n最小周期是这些循环均值的最大值：\n$$ T_{period, min} = \\max(\\lambda_A, \\lambda_{B1}, \\lambda_{B2}, \\lambda_{B3}, \\lambda_{B4}) = \\max(30\\,t_{\\mathrm{CK}}, 32\\,t_{\\mathrm{CK}}) = 32\\,t_{\\mathrm{CK}} $$\n现在，我们计算周期的数值：\n$$ T_{period, min} = 32 \\times 0.625\\,\\mathrm{ns} = 32 \\times \\frac{5}{8}\\,\\mathrm{ns} = 20\\,\\mathrm{ns} = 20 \\times 10^{-9}\\,\\mathrm{s} $$\n激活速率是每个周期的激活次数（即8次）除以最小周期时间。\n$$ \\text{Rate} = \\frac{8}{T_{period, min}} = \\frac{8}{20 \\times 10^{-9}\\,\\mathrm{s}} = 0.4 \\times 10^{9}\\,\\mathrm{s}^{-1} = 4 \\times 10^{8}\\,\\mathrm{s}^{-1} $$\n题目要求答案四舍五入到 $4$ 位有效数字。\n$$ \\text{Rate} = 4.000 \\times 10^{8}\\,\\mathrm{s}^{-1} $$",
            "answer": "$$\\boxed{4.000 \\times 10^{8}}$$"
        }
    ]
}