{
    "hands_on_practices": [
        {
            "introduction": "在识别出电路中所有可能的故障后，下一步是简化这个故障列表以提高测试生成的效率，这一过程称为故障压缩（fault collapsing）。故障压缩通过识别等效（equivalence）和支配（dominance）关系来移除多余的故障。本练习  以前一个练习为基础，要求你运用故障等效和支配的正式定义，推导出最终的、不可冗余的压缩故障集，这是从理论故障列表迈向实际测试集生成的关键一步。",
            "id": "4270927",
            "problem": "考虑电子设计自动化（EDA）领域中的一个组合网络。该网表由两个逻辑门连接而成，具体如下：门 $G1$ 是一个双输入与非门（NAND gate），输入为 $A$ 和 $B$，输出为 $X$，即 $X = \\neg(A \\cdot B)$；门 $G2$ 是一个双输入或非门（NOR gate），输入为 $X$ 和 $C$，输出为 $Y$，即 $Y = \\neg(X + C)$。所有信号 $A$、$B$、$C$、$X$ 和 $Y$ 均为布尔值。假设任何信号线上都可能发生单位固定型故障（single stuck-at fault），每条线都可能出现固定为0（stuck-at-0）和固定为1（stuck-at-1）的故障。\n\n仅使用单位固定型故障、主输出端的测试可检测性、故障等效性和故障支配性的形式化定义，从第一性原理出发，推导出该网络的非冗余、可折叠的单位固定型故障的完整集合。在您的推导过程中，您必须：\n- 从网络的布尔语义和主输出端故障可检测性的定义开始。\n- 确定每个单位固定型故障的可检测性条件，作为主输入赋值的子集。\n- 使用这些可检测性条件来建立故障等效类和故障支配关系。\n- 通过移除等效和被支配的故障来生成最终的折叠集，确保没有冗余。\n\n计算非冗余、折叠后的单位固定型故障的确切数量，并用原始信号名称和固定值明确列出这些折叠后的故障。将最终计数表示为一个不带单位的整数。无需四舍五入。在此过程中，简要说明为什么该网络中没有逻辑冗余故障。",
            "solution": "问题要求推导给定组合网络的非冗余、折叠后的单位固定型故障的完整集合。推导必须基于第一性原理，包括故障可检测性、等效性和支配性的形式化定义。\n\n首先，我们定义网络结构及其布尔行为。该网络有三个主输入（PI）$A$、$B$ 和 $C$，一个主输出（PO）$Y$，以及一条内部信号线 $X$。\n逻辑门如下：\n- $G1$ (NAND): $X = \\neg(A \\cdot B)$\n- $G2$ (NOR): $Y = \\neg(X + C)$\n\n网络的整体无故障布尔函数为 $Y = \\neg(\\neg(A \\cdot B) + C)$。为了便于分析，我们为无故障电路构建真值表，显示所有 $2^3 = 8$ 种可能的输入组合 $(A, B, C)$ 下，内部信号线 $X$ 和主输出 $Y$ 的值。\n\n| $A$ | $B$ | $C$ | $X = \\neg(A \\cdot B)$ | $Y = \\neg(X + C)$ |\n|:---:|:---:|:---:|:---------------------:|:-------------------:|\n| $0$ | $0$ | $0$ | $1$                   | $0$                 |\n| $0$ | $0$ | $1$ | $1$                   | $0$                 |\n| $0$ | $1$ | $0$ | $1$                   | $0$                 |\n| $0$ | $1$ | $1$ | $1$                   | $0$                 |\n| $1$ | $0$ | $0$ | $1$                   | $0$                 |\n| $1$ | $0$ | $1$ | $1$                   | $0$                 |\n| $1$ | $1$ | $0$ | $0$                   | $1$                 |\n| $1$ | $1$ | $1$ | $0$                   | $0$                 |\n\n所有单位固定型故障的集合包括五条信号线（$A, B, C, X, Y$）中每条线的两种故障（固定为0和固定为1）。这在未折叠的故障全集中总共给出了 $5 \\times 2 = 10$ 个故障。\n\n我们用 $L_v$ 表示一个故障，其中 $L$ 是信号线，$v \\in \\{0, 1\\}$ 是固定值。一个测试向量（对主输入 $A, B, C$ 的一次赋值）能检测到一个故障，如果存在该故障时主输出 $Y$ 的值与其无故障时的值不同。能检测到故障 $f$ 的所有测试向量的集合是其检测集，记为 $T(f)$。\n\n现在我们为这 10 个故障中的每一个推导其检测集。\n\n1.  **$A$ 固定为0 ($A_0$)**：故障函数为 $Y_{A_0} = \\neg(\\neg(0 \\cdot B) + C) = \\neg(\\neg(0) + C) = \\neg(1 + C) = 0$。如果无故障输出 $Y$ 为 $1$，则该故障被检测到。从真值表可知，仅当输入向量为 $(1, 1, 0)$ 时，$Y=1$。\n    $T(A_0) = \\{(1, 1, 0)\\}$。\n\n2.  **$A$ 固定为1 ($A_1$)**：故障必须被激活（$A=0$）并传播。为了通过 $G1$（NAND门）传播，必须有 $B=1$。这使得无故障的 $X = \\neg(0 \\cdot 1) = 1$，而故障的 $X_{A_1} = \\neg(1 \\cdot 1) = 0$。为了将此差异通过 $G2$（NOR门）传播，必须有 $C=0$。测试向量为 $(0, 1, 0)$。\n    对于 $(0, 1, 0)$：$Y_{fault-free}=0$，$Y_{A_1}=\\neg(\\neg(1 \\cdot 1)+0) = \\neg(0+0) = 1$。故障被检测到。\n    $T(A_1) = \\{(0, 1, 0)\\}$。\n\n3.  **$B$ 固定为0 ($B_0$)**：与 $A_0$ 对称。故障函数为 $Y_{B_0} = \\neg(\\neg(A \\cdot 0) + C) = 0$。检测要求 $Y=1$。\n    $T(B_0) = \\{(1, 1, 0)\\}$。\n\n4.  **$B$ 固定为1 ($B_1$)**：与 $A_1$ 对称。激活条件：$B=0$。通过 $G1$ 传播条件：$A=1$。通过 $G2$ 传播条件：$C=0$。测试向量为 $(1, 0, 0)$。\n    对于 $(1, 0, 0)$：$Y_{fault-free}=0$，$Y_{B_1}=\\neg(\\neg(1 \\cdot 1)+0) = 1$。故障被检测到。\n    $T(B_1) = \\{(1, 0, 0)\\}$。\n\n5.  **$C$ 固定为0 ($C_0$)**：故障函数为 $Y_{C_0} = \\neg(\\neg(A \\cdot B) + 0) = A \\cdot B$。我们需要 $Y_{C_0} \\neq Y$。当 $A \\cdot B \\neq \\neg(\\neg(A \\cdot B) + C)$ 时，此不等式成立。测试输入空间，这仅在 $(1, 1, 1)$ 时为真，此时 $Y_{C_0}=1$ 且 $Y=0$。\n    $T(C_0) = \\{(1, 1, 1)\\}$。\n\n6.  **$C$ 固定为1 ($C_1$)**：故障函数为 $Y_{C_1} = \\neg(\\neg(A \\cdot B) + 1) = 0$。检测要求 $Y=1$。\n    $T(C_1) = \\{(1, 1, 0)\\}$。\n\n7.  **$X$ 固定为0 ($X_0$)**：激活要求 $X=1$ (即 $A=0$ 或 $B=0$)。通过 $G2$ 传播要求 $C=0$。输入向量为 $(0, 0, 0)$、$(0, 1, 0)$ 和 $(1, 0, 0)$。对于所有这些向量，无故障输出为 $Y=0$，而故障输出为 $Y_{X_0} = \\neg(0+0)=1$。\n    $T(X_0) = \\{(0, 0, 0), (0, 1, 0), (1, 0, 0)\\}$。\n\n8.  **$X$ 固定为1 ($X_1$)**：故障函数为 $Y_{X_1} = \\neg(1 + C) = 0$。检测要求 $Y=1$。\n    $T(X_1) = \\{(1, 1, 0)\\}$。\n\n9.  **$Y$ 固定为0 ($Y_0$)**：故障输出为 $Y_{Y_0}=0$。检测要求 $Y=1$。\n    $T(Y_0) = \\{(1, 1, 0)\\}$。\n\n10. **$Y$ 固定为1 ($Y_1$)**：故障输出为 $Y_{Y_1}=1$。检测要求 $Y=0$。除了 $(1, 1, 0)$ 之外，这对所有输入向量都成立。\n    $T(Y_1) = \\{(0, 0, 0), (0, 0, 1), (0, 1, 0), (0, 1, 1), (1, 0, 0), (1, 0, 1), (1, 1, 1)\\}$。\n\n由于所有检测集都非空，该网络中没有逻辑冗余故障。这是预料之中的，因为该电路是一个无扇出（fanout-free）的树形结构。\n\n接下来，我们使用等效性和支配性进行故障折叠。\n\n**故障等效性**：如果两个故障 $f_1$ 和 $f_2$ 的检测集完全相同，即 $T(f_1) = T(f_2)$，则它们是等效的（$f_1 \\equiv f_2$）。\n通过检查检测集：\n$T(A_0) = T(B_0) = T(C_1) = T(X_1) = T(Y_0) = \\{(1, 1, 0)\\}$。\n这五个故障形成一个等效类：$\\{A \\text{ 固定为0, } B \\text{ 固定为0, } C \\text{ 固定为1, } X \\text{ 固定为1, } Y \\text{ 固定为0}\\}$。\n其他五个故障具有唯一的检测集，因此各自形成单元素等效类。\n通过等效折叠，我们可以用一个代表（例如，$A \\text{ 固定为0}$）来替换这个包含5个成员的类。待考虑的故障列表从10个减少到6个：\n$\\{A \\text{ 固定为0 (代表)}, A \\text{ 固定为1}, B \\text{ 固定为1}, C \\text{ 固定为0}, X \\text{ 固定为0}, Y \\text{ 固定为1}\\}$。\n\n**故障支配性**：如果 $T(f_2) \\subseteq T(f_1)$，则故障 $f_1$ 支配故障 $f_2$。根据标准的故障折叠程序，如果 $f_1$ 支配 $f_2$，那么任何用于 $f_2$ 的测试也能检测到 $f_1$。因此，为了获得用于测试生成的最小故障列表，我们可以移除支配故障 $f_1$。\n\n我们来检查这6个代表性故障之间的支配关系。\n- $T(A_1) = \\{(0, 1, 0)\\}$\n- $T(B_1) = \\{(1, 0, 0)\\}$\n- $T(X_0) = \\{(0, 0, 0), (0, 1, 0), (1, 0, 0)\\}$\n由于 $T(A_1) \\subset T(X_0)$，$X_0$ 支配 $A_1$。我们移除支配故障 $X_0$。\n由于 $T(B_1) \\subset T(X_0)$，$X_0$ 也支配 $B_1$。这证实了移除 $X_0$ 的决定。\n\n- $T(C_0) = \\{(1, 1, 1)\\}$\n- $T(Y_1) = \\{(0,0,0), (0,0,1), (0,1,0), (0,1,1), (1,0,0), (1,0,1), (1,1,1)\\}$\n由于 $T(C_0) \\subset T(Y_1)$，$Y_1$ 支配 $C_0$。我们移除支配故障 $Y_1$。\n\n此外，$T(X_0) \\subset T(Y_1)$，所以 $Y_1$ 也支配 $X_0$。这为移除 $Y_1$ 提供了另一个理由。\n\n经过等效折叠后的故障集合是 $\\{A \\text{ 固定为0 (代表)}, A \\text{ 固定为1}, B \\text{ 固定为1}, C \\text{ 固定为0}, X \\text{ 固定为0}, Y \\text{ 固定为1}\\}$。\n因支配关系而被移除的故障是 $X \\text{ 固定为0}$ 和 $Y \\text{ 固定为1}$。\n\n最终折叠后的故障列表包含剩余的故障：\n$\\{A \\text{ 固定为0 (代表)}, A \\text{ 固定为1}, B \\text{ 固定为1}, C \\text{ 固定为0}\\}$。\n\n这个集合由4个故障组成。任何能够检测这4个故障的测试集都保证能够检测所有10个原始的单位固定型故障。具体的故障列表可以使用那个大的等效类中的任何成员作为代表。选择主输入故障 $A \\text{ 固定为0}$ 会得到以下非冗余、折叠后的故障列表：\n1. $A$ 固定为0\n2. $A$ 固定为1\n3. $B$ 固定为1\n4. $C$ 固定为0\n\n折叠集中的故障总数为4。",
            "answer": "$$\n\\boxed{4}\n$$"
        },
        {
            "introduction": "除了固定型故障，桥接故障（bridging faults）是另一种重要的、由物理缺陷引起的故障类型，它表现为两条或多条信号线之间的意外短路。本练习  探讨了一种常见的线或（wired-OR）桥接故障模型，并揭示了一个深刻的概念：故障屏蔽（fault masking）。你将通过分析发现，即使一个故障被成功激活，电路本身的逻辑功能也可能阻止其效应传播到观测点，从而导致该故障无法被检测，这对于理解测试覆盖率的局限性至关重要。",
            "id": "4270929",
            "problem": "考虑在电子设计自动化（EDA）背景下的一个组合逻辑片段，它由两个独立的两输入与非门驱动一个两输入或非门构成。设主输入为布尔变量 $a$、$b$、$c$ 和 $d$。与非门的输出为 $x = \\overline{a \\cdot b}$ 和 $y = \\overline{c \\cdot d}$，它们是或非门的输入，或非门的输出为 $z = \\overline{x + y}$。假设相邻连线 $x$ 和 $y$ 之间存在一个桥接缺陷，该缺陷由线或桥接故障模型建模，在故障电路中，电气短路解析为布尔值 $x^{\\mathrm{f}} = y^{\\mathrm{f}} = x \\lor y$。观测点是或非门的输出 $z$。使用基本测试原理：故障的激励要求 $x \\neq y$，传播要求该差异在观测点引起变化；并使用控制值和非控制值的定义，其中对于布尔或函数，控制值为 $1$，非控制值为 $0$，而对于布尔或非函数，输入控制值为 $1$（强制输出为 $0$），输入非控制值为 $0$。根据第一性原理，确定能够检测到在观测点 $z$ 处 $x$ 和 $y$ 之间的线或桥接的不同主输入赋值 $(a,b,c,d) \\in \\{0,1\\}^{4}$ 的数量，并论证由于桥接而在或非门输入上产生的从非控制值到控制值的反转是否会产生可观测的效果。请将最终答案表示为一个不带单位的整数计数。",
            "solution": "该问题要求确定在一个给定的组合逻辑电路中，能够检测特定桥接故障的输入向量的数量。解决过程首先分析正常电路和故障电路的行为，然后应用故障测试的基本原理。\n\n该电路由以下布尔函数定义：\n中间信号是两个两输入与非门的输出：\n$x = \\overline{a \\cdot b}$\n$y = \\overline{c \\cdot d}$\n\n主输出是一个两输入或非门的输出：\n$z = \\overline{x + y}$\n\n一个测试向量是一个特定的输入赋值 $(a,b,c,d) \\in \\{0,1\\}^{4}$。如果对于某个输入，正常电路的输出 $z$ 与故障电路的输出 $z^{\\mathrm{f}}$ 不同，则该测试向量能够检测到该故障。\n\n该故障是连线 $x$ 和 $y$ 之间的线或桥接故障。此故障模型规定，短路连线上的逻辑值（表示为 $x^{\\mathrm{f}}$ 和 $y^{\\mathrm{f}}$）都等于正常电路中 $x$ 和 $y$ 值的逻辑或。\n$x^{\\mathrm{f}} = x \\lor y$\n$y^{\\mathrm{f}} = x \\lor y$\n\n这些故障值 $x^{\\mathrm{f}}$ 和 $y^{\\mathrm{f}}$ 成为或非门的输入。因此，故障电路的输出为：\n$z^{\\mathrm{f}} = \\overline{x^{\\mathrm{f}} + y^{\\mathrm{f}}} = \\overline{(x \\lor y) + (x \\lor y)}$\n\n使用逻辑或的幂等律（即 $A+A = A$），我们可以简化 $z^{\\mathrm{f}}$ 的表达式：\n$z^{\\mathrm{f}} = \\overline{x \\lor y}$\n\n在数字逻辑门的背景下，正常电路输出表达式 $z = \\overline{x+y}$ 中的“$+$”符号代表逻辑或操作，与“$\\lor$”运算符相同。因此，正常电路输出的函数可以写为：\n$z = \\overline{x \\lor y}$\n\n通过比较正常电路和故障电路的输出表达式，我们发现：\n$z = z^{\\mathrm{f}} = \\overline{x \\lor y}$\n\n这个恒等式对 $x$ 和 $y$ 的任何值都成立。由于 $x$ 和 $y$ 的值由主输入 $(a,b,c,d)$ 决定，因此对于所有 $16$ 种可能的输入向量，$z = z^{\\mathrm{f}}$ 都成立。结果，不存在任何输入向量使得正常电路和故障电路的输出不同。因此，该故障是不可检测的，检测该故障的不同主输入赋值的数量为 $0$。\n\n为了使用故障激励和传播的原理进一步阐述：\n一个故障能被检测到，当且仅当同时满足以下两个条件：\n1.  **故障激励**：输入向量必须在正常电路的短路连线上产生不同的逻辑值。即，$x \\neq y$。\n2.  **故障传播**：由故障引起的信号值差异必须传播到一个观测点，导致正常电路和故障电路的输出之间存在差异。即，$z \\neq z^{\\mathrm{f}}$。\n\n让我们系统地分析这些条件。\n\n故障激励条件 $x \\neq y$ 要求中间值对 $(x,y)$ 为 $(0,1)$ 或 $(1,0)$。\n\n情况 1：$(x, y) = (0, 1)$\n-   **正常电路**：或非门的输入为 $(0, 1)$。输出为 $z = \\overline{0+1} = \\overline{1} = 0$。\n-   **故障电路**：线或桥接强制连线上的值为 $x^{\\mathrm{f}} = 0 \\lor 1 = 1$ 和 $y^{\\mathrm{f}} = 0 \\lor 1 = 1$。或非门的输入变为 $(1, 1)$。输出为 $z^{\\mathrm{f}} = \\overline{1+1} = \\overline{1} = 0$。\n-   **比较**：$z = 0$ 且 $z^{\\mathrm{f}} = 0$。由于 $z = z^{\\mathrm{f}}$，故障效应没有传播到输出。\n\n情况 2：$(x, y) = (1, 0)$\n-   **正常电路**：或非门的输入为 $(1, 0)$。输出为 $z = \\overline{1+0} = \\overline{1} = 0$。\n-   **故障电路**：线或桥接强制连线上的值为 $x^{\\mathrm{f}} = 1 \\lor 0 = 1$ 和 $y^{\\mathrm{f}} = 1 \\lor 0 = 1$。或非门的输入变为 $(1, 1)$。输出为 $z^{\\mathrm{f}} = \\overline{1+1} = \\overline{1} = 0$。\n-   **比较**：$z = 0$ 且 $z^{\\mathrm{f}} = 0$。由于 $z = z^{\\mathrm{f}}$，故障效应同样没有传播到输出。\n\n在两种故障被激励的情况下，传播条件都不成立。为完整起见，我们考虑故障未被激励的情况 ($x=y$)：\n-   如果 $(x,y) = (0,0)$，则 $z = \\overline{0+0}=1$。故障连线为 $x^{\\mathrm{f}}=y^{\\mathrm{f}}=0 \\lor 0=0$，得到 $z^{\\mathrm{f}}=\\overline{0+0}=1$。没有差异。\n-   如果 $(x,y) = (1,1)$，则 $z = \\overline{1+1}=0$。故障连线为 $x^{\\mathrm{f}}=y^{\\mathrm{f}}=1 \\lor 1=1$，得到 $z^{\\mathrm{f}}=\\overline{1+1}=0$。没有差异。\n\n由于传播条件 $z \\neq z^{\\mathrm{f}}$ 永远不满足，所以没有输入向量可以检测到这个故障。检测测试向量的数量为 $0$。\n\n问题的第二部分要求论证在或非门输入上产生的从非控制值到控制值的反转是否会产生可观测的效果。\n对于或非门，输入控制值为 $1$（强制输出为 $0$），非控制值为 $0$。\n如果故障导致或非门的一个输入从 $0$ 变为 $1$，就会发生从非控制值到控制值的反转。\n\n让我们分析 $(x,y) = (0,1)$ 的情况。\n-   在正常电路中，或非门的输入是 $(x, y) = (0, 1)$。连线 $x$ 上的输入是 $0$，这是或非门的非控制值。\n-   在故障电路中，线或行为强制两条连线上的值都变为 $x \\lor y = 0 \\lor 1 = 1$。或非门的输入是 $(x^{\\mathrm{f}}, y^{\\mathrm{f}}) = (1, 1)$。\n-   连线 $x$ 上的值从 $x=0$（非控制值）变为 $x^{\\mathrm{f}}=1$（控制值）。这正是所指定的“从非控制值到控制值的反转”。\n\n然而，这种反转不会产生可观测的效果。原因是故障屏蔽。为了激励故障，其中一条连线必须是逻辑 $1$。在我们的例子 $(x,y)=(0,1)$ 中，连线 $y$ 在正常电路中已经处于控制值 $y=1$。这个控制值本身就强制或非门的输出为 $z = \\overline{x+y} = \\overline{0+1} = 0$。在故障电路中，连线 $x$ 也变为 $1$，但由于输出已经被连线 $y$ 上的值强制为 $0$，连线 $x$ 上的这个变化对输出值没有影响。输出保持为 $z^{\\mathrm{f}}=0$。一个输入上预先存在的控制值屏蔽了故障在另一个输入上的效应。一个对称的论证也适用于 $(x,y)=(1,0)$ 的情况。因此，由于这种特定的桥接故障在或非门输入处产生的从非控制值到控制值的反转是不可观测的。\n\n能够检测该故障的输入赋值 $(a,b,c,d)$ 的总数为零。",
            "answer": "$$\n\\boxed{0}\n$$"
        }
    ]
}