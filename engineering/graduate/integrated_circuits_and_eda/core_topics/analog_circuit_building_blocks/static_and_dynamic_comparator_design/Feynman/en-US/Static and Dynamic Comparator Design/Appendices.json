{
    "hands_on_practices": [
        {
            "introduction": "We begin our practical exploration with the foundational static comparator. This exercise focuses on two core aspects: quantifying the input-referred offset voltage caused by device mismatch and verifying the small-signal gain. Mastering this analysis  is crucial as offset is a primary source of error in precision analog circuits, and understanding gain is fundamental to all amplifier-based designs.",
            "id": "4300753",
            "problem": "Consider a static Metal–Oxide–Semiconductor Field-Effect Transistor (MOSFET) differential comparator front-end implemented with an N-channel MOSFET (NMOS) differential pair. The pair is biased by a constant tail current source of value $I_{T}$ and drives a single-ended resistive load $R_{L}$ at one drain. Assume device operation in strong inversion and saturation, negligible channel-length modulation, and symmetric geometry except for a threshold voltage mismatch. Let the two input devices have threshold voltages $V_{t1}$ and $V_{t2}$, with a mismatch $\\Delta V_{t} \\equiv V_{t1} - V_{t2}$. Define the differential input $v_{id} \\equiv v_{G1} - v_{G2}$ and the common-mode input $v_{CM} \\equiv (v_{G1} + v_{G2})/2$. Let $g_{m}$ denote the effective small-signal differential transconductance of the pair from $v_{id}$ to the single-ended branch current at the output node, so that for small $|v_{id}|$ the branch current perturbation satisfies $i_{o} \\approx g_{m}\\,v_{id}$.\n\nIn the context of Integrated Circuits and Electronic Design Automation (EDA), input-referred offset for comparators is defined as the differential input voltage that must be applied to counterbalance mismatches so that the output indicates exact balance. Starting from the monotonic dependence of the drain current on the overdrive voltage in saturation, and from the definition of transconductance $g_{m} \\equiv \\partial I_{D}/\\partial V_{GS}$, derive the input-referred offset $V_{\\mathrm{os}}$ needed to equalize the two branch currents in the presence of the threshold mismatch $\\Delta V_{t}$. Use the physically justified approximation that equality of branch currents implies equality of the effective overdrive voltages of the two transistors.\n\nSeparately, the single-ended output voltage of the resistively loaded pair can be approximated by the smooth-limiter relation\n$$\nV_{\\mathrm{out}} \\approx I_{T}\\,R_{L}\\,\\tanh\\!\\left(\\frac{g_{m}\\,v_{id}}{I_{T}}\\right),\n$$\nwhich captures current steering saturation at $\\pm I_{T}$ and is widely used as a behavioral representation for differential pairs. Using first principles and a formal series expansion, verify the small-signal behavior of this relation near $v_{id} = 0$ by computing the small-signal gain $\\left.\\frac{d V_{\\mathrm{out}}}{d v_{id}}\\right|_{v_{id}=0}$.\n\nProvide your final answer as a row matrix containing two symbolic entries:\n$V_{\\mathrm{os}}$ and $\\left.\\frac{d V_{\\mathrm{out}}}{d v_{id}}\\right|_{v_{id}=0}$.\nNo numerical evaluation is required, and no units should be included in the final boxed expression.",
            "solution": "The user has presented a two-part problem concerning a static NMOS differential comparator. The first part requires the derivation of the input-referred offset voltage, $V_{\\mathrm{os}}$, due to a threshold voltage mismatch, $\\Delta V_{t}$. The second part requires the calculation of the small-signal voltage gain at zero differential input for a given behavioral model of the comparator's output stage.\n\nThe problem has been validated and found to be scientifically sound, well-posed, and objective, representing a standard analysis in the field of analog integrated circuit design.\n\n**Part 1: Derivation of the Input-Referred Offset Voltage ($V_{\\mathrm{os}}$)**\n\nThe input-referred offset voltage, $V_{\\mathrm{os}}$, is defined as the differential input voltage, $v_{id} = v_{G1} - v_{G2}$, required to bring the differential pair into a balanced state, nullifying any output offset caused by device mismatches. In this context, balance is achieved when the drain currents of the two transistors in the differential pair are equal, i.e., $I_{D1} = I_{D2}$.\n\nThe problem states that the transistors operate in strong inversion and saturation. In this regime, the drain current $I_D$ of a MOSFET is a monotonically increasing function of its overdrive voltage, $V_{\\text{OV}} = V_{GS} - V_t$, where $V_{GS}$ is the gate-to-source voltage and $V_t$ is the threshold voltage. Since the two transistors, M1 and M2, are stated to have symmetric geometry, they share the same functional form relating drain current to overdrive voltage. We can express this as $I_D = F(V_{\\text{OV}})$, where the function $F$ is identical for both devices.\n\nThe condition for balance is $I_{D1} = I_{D2}$. This implies:\n$$\nF(V_{\\text{OV1}}) = F(V_{\\text{OV2}})\n$$\nwhere $V_{\\text{OV1}}$ and $V_{\\text{OV2}}$ are the overdrive voltages for transistors M1 and M2, respectively.\n\nAs stated in the problem, the drain current has a monotonic dependence on the overdrive voltage. For a monotonic function $F$, the equality $F(x) = F(y)$ holds if and only if $x = y$. This validates the problem's approximation that equality of branch currents implies equality of overdrive voltages. Thus, the balance condition $I_{D1} = I_{D2}$ simplifies to:\n$$\nV_{\\text{OV1}} = V_{\\text{OV2}}\n$$\nThe overdrive voltages are defined in terms of the terminal voltages:\n$$\nV_{\\text{OV1}} = V_{G1} - V_S - V_{t1}\n$$\n$$\nV_{\\text{OV2}} = V_{G2} - V_S - V_{t2}\n$$\nHere, $V_{G1}$ and $V_{G2}$ are the gate voltages, $V_S$ is the common source voltage for the differential pair, and $V_{t1}$ and $V_{t2}$ are the respective threshold voltages.\n\nEquating the overdrive voltages gives:\n$$\nV_{G1} - V_S - V_{t1} = V_{G2} - V_S - V_{t2}\n$$\nThe common source voltage $V_S$ cancels out from both sides of the equation:\n$$\nV_{G1} - V_{t1} = V_{G2} - V_{t2}\n$$\nRearranging this equation to solve for the differential gate voltage $V_{G1} - V_{G2}$:\n$$\nV_{G1} - V_{G2} = V_{t1} - V_{t2}\n$$\nBy definition, the input-referred offset $V_{\\mathrm{os}}$ is the value of the differential input $v_{id} = V_{G1} - V_{G2}$ that satisfies this balance condition. The problem also defines the threshold voltage mismatch as $\\Delta V_t \\equiv V_{t1} - V_{t2}$. Therefore, we find:\n$$\nV_{\\mathrm{os}} = \\Delta V_t\n$$\n\n**Part 2: Verification of Small-Signal Gain**\n\nThe second part of the problem asks to compute the small-signal gain of a behavioral model for the single-ended output voltage, given by the relation:\n$$\nV_{\\mathrm{out}} \\approx I_{T}\\,R_{L}\\,\\tanh\\!\\left(\\frac{g_{m}\\,v_{id}}{I_{T}}\\right)\n$$\nThe small-signal gain at zero differential input is defined as the derivative of $V_{\\mathrm{out}}$ with respect to $v_{id}$, evaluated at $v_{id} = 0$.\n$$\nA_v = \\left.\\frac{d V_{\\mathrm{out}}}{d v_{id}}\\right|_{v_{id}=0}\n$$\nTo compute this derivative, we apply the chain rule. Let $u(v_{id}) = \\frac{g_{m}\\,v_{id}}{I_{T}}$. Then $V_{\\mathrm{out}} = I_T R_L \\tanh(u)$.\n$$\n\\frac{d V_{\\mathrm{out}}}{d v_{id}} = \\frac{d}{d v_{id}} \\left[ I_{T}\\,R_{L}\\,\\tanh(u(v_{id})) \\right] = I_{T}\\,R_{L} \\cdot \\frac{d(\\tanh(u))}{du} \\cdot \\frac{du}{dv_{id}}\n$$\nThe derivative of the hyperbolic tangent function is $\\frac{d}{du}(\\tanh(u)) = \\text{sech}^2(u)$.\nThe derivative of $u$ with respect to $v_{id}$ is $\\frac{du}{dv_{id}} = \\frac{d}{d v_{id}}\\left(\\frac{g_{m}\\,v_{id}}{I_{T}}\\right) = \\frac{g_{m}}{I_{T}}$.\n\nSubstituting these derivatives into the expression for the gain:\n$$\n\\frac{d V_{\\mathrm{out}}}{d v_{id}} = I_{T}\\,R_{L} \\cdot \\text{sech}^2(u) \\cdot \\frac{g_{m}}{I_{T}}\n$$\nSubstituting back $u = \\frac{g_{m}\\,v_{id}}{I_{T}}$:\n$$\n\\frac{d V_{\\mathrm{out}}}{d v_{id}} = I_{T}\\,R_{L} \\cdot \\text{sech}^2\\left(\\frac{g_{m}\\,v_{id}}{I_{T}}\\right) \\cdot \\frac{g_{m}}{I_{T}} = g_{m} R_{L} \\text{sech}^2\\left(\\frac{g_{m}\\,v_{id}}{I_{T}}\\right)\n$$\nNow, we evaluate this expression at $v_{id} = 0$:\n$$\n\\left.\\frac{d V_{\\mathrm{out}}}{d v_{id}}\\right|_{v_{id}=0} = g_{m} R_{L} \\text{sech}^2\\left(\\frac{g_{m} \\cdot 0}{I_{T}}\\right) = g_{m} R_{L} \\text{sech}^2(0)\n$$\nThe hyperbolic secant is defined as $\\text{sech}(x) = 1/\\cosh(x)$. The hyperbolic cosine at $x=0$ is $\\cosh(0) = 1$.\nTherefore, $\\text{sech}(0) = 1$, and $\\text{sech}^2(0) = 1^2 = 1$.\n\nThe small-signal gain at $v_{id}=0$ is:\n$$\n\\left.\\frac{d V_{\\mathrm{out}}}{d v_{id}}\\right|_{v_{id}=0} = g_{m} R_{L} \\cdot 1 = g_{m} R_{L}\n$$\nThis result is consistent with the standard analysis of a resistively loaded differential pair, where the small-signal gain is the product of the differential transconductance and the load resistance.\n\nAlternatively, using the formal series expansion for $\\tanh(x)$ around $x=0$, which is $\\tanh(x) = x - \\frac{x^3}{3} + O(x^5)$. For small $v_{id}$, the argument $\\frac{g_{m}\\,v_{id}}{I_{T}}$ is also small, so we can use the first-order approximation $\\tanh(x) \\approx x$.\n$$\nV_{\\mathrm{out}} \\approx I_{T}\\,R_{L}\\,\\left(\\frac{g_{m}\\,v_{id}}{I_{T}}\\right) = g_m R_L v_{id}\n$$\nFor small signals, the gain is the ratio $V_{\\mathrm{out}}/v_{id}$, which is $g_m R_L$. This confirms the result from the differentiation.\n\nThe two requested symbolic entries are $V_{\\mathrm{os}} = \\Delta V_t$ and the small-signal gain $\\left.\\frac{d V_{\\mathrm{out}}}{d v_{id}}\\right|_{v_{id}=0} = g_m R_L$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\Delta V_{t} & g_{m} R_{L}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "Dynamic comparators achieve high speed and efficiency through positive feedback, but this regeneration process introduces a unique sensitivity to noise, which manifests as timing jitter. This practice delves into the heart of this trade-off by modeling the comparator's decision-making process as an exponential growth influenced by noise. By working through this analysis , you will derive a classic and vital relationship that connects input noise to timing uncertainty, a key performance limiter in high-speed systems.",
            "id": "4300776",
            "problem": "A regenerative dynamic comparator based on a cross-coupled differential pair exhibits exponential growth of its differential output voltage during the decision phase. Near the metastable point, the small-signal differential output voltage can be modeled by the linear time-invariant ordinary differential equation $\\,\\frac{d v_{o}(t)}{d t} = \\frac{1}{\\tau} v_{o}(t)\\,$, where $\\,\\tau\\,$ is the regeneration time constant determined by device transconductances and the effective load capacitance. Let the initial condition at the start of regeneration be $\\,v_{o}(0) = v_{id} + n_{in}\\,$, where $\\,v_{id}\\,$ is a deterministic input differential voltage and $\\,n_{in}\\,$ is a zero-mean stochastic input-referred noise with Root Mean Square (RMS) $\\,\\sigma_{n,\\mathrm{in}}\\,$. Assume the comparator declares a decision when the magnitude of the differential output reaches a fixed threshold $\\,V_{\\mathrm{th}}\\,$, i.e., the decision time $\\,t_{d}\\,$ satisfies $\\,|v_{o}(t_{d})| = V_{\\mathrm{th}}\\,$. Under the small-noise assumption $\\,|n_{in}| \\ll |v_{id}|\\,$ so that a first-order linearization is valid, derive the approximate standard deviation of the decision-time fluctuation $\\,\\sigma_{t}\\,$ induced by $\\,n_{in}\\,$ in terms of $\\,\\tau\\,$, $\\,v_{id}\\,$, and $\\,\\sigma_{n,\\mathrm{in}}\\,$.\n\nThen, numerically evaluate $\\,\\sigma_{t}\\,$ for $\\,\\tau = 17.3\\,\\mathrm{ps}\\,$, $\\,v_{id} = 8.7\\,\\mathrm{mV}\\,$, and $\\,\\sigma_{n,\\mathrm{in}} = 0.42\\,\\mathrm{mV}\\,$. Round your answer to three significant figures. Express the final timing jitter in picoseconds.",
            "solution": "The problem will first be validated by extracting the given information and assessing its scientific and logical consistency.\n\n### Step 1: Extract Givens\n- The differential output voltage $v_o(t)$ is governed by the ordinary differential equation: $\\frac{d v_{o}(t)}{d t} = \\frac{1}{\\tau} v_{o}(t)$.\n- $\\tau$ is the regeneration time constant.\n- The initial condition at time $t=0$ is $v_{o}(0) = v_{id} + n_{in}$.\n- $v_{id}$ is a deterministic input differential voltage.\n- $n_{in}$ is a zero-mean stochastic input-referred noise with Root Mean Square (RMS) $\\sigma_{n,\\mathrm{in}}$.\n- A decision is made at time $t_d$ when $|v_{o}(t_{d})| = V_{\\mathrm{th}}$, where $V_{\\mathrm{th}}$ is a fixed threshold.\n- A small-noise assumption, $|n_{in}| \\ll |v_{id}|$, is provided, which validates linearization.\n- The objective is to derive the approximate standard deviation of the decision-time fluctuation, $\\sigma_t$, in terms of $\\tau$, $v_{id}$, and $\\sigma_{n,\\mathrm{in}}$.\n- Numerical values for evaluation are: $\\tau = 17.3\\,\\mathrm{ps}$, $v_{id} = 8.7\\,\\mathrm{mV}$, and $\\sigma_{n,\\mathrm{in}} = 0.42\\,\\mathrm{mV}$.\n- The final numerical answer must be in picoseconds and rounded to three significant figures.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded, as it uses a standard first-order linear model for the regenerative phase of a dynamic comparator, a widely accepted simplification in integrated circuit analysis. The concepts of regeneration time constant, input-referred noise, and decision threshold are fundamental to comparator theory. The problem is well-posed, providing a differential equation, an initial condition, and a boundary condition for the decision time. The variables are clearly defined, and the task is specific. The small-noise assumption is explicitly stated, providing a clear path for approximation. The problem contains no scientific fallacies, contradictions, or ambiguities.\n\n### Step 3: Verdict and Action\nThe problem is valid. A complete solution will be provided.\n\n### Derivation of the Decision-Time Jitter\nThe dynamic behavior of the differential output voltage $v_o(t)$ is described by the linear time-invariant ordinary differential equation:\n$$\n\\frac{d v_{o}(t)}{d t} = \\frac{1}{\\tau} v_{o}(t)\n$$\nThis is a separable first-order differential equation, and its solution is an exponential function of time:\n$$\nv_{o}(t) = A \\exp\\left(\\frac{t}{\\tau}\\right)\n$$\nwhere $A$ is a constant of integration. We determine $A$ using the initial condition at the start of regeneration, $t=0$:\n$$\nv_{o}(0) = v_{id} + n_{in}\n$$\nSubstituting this into the general solution at $t=0$:\n$$\nv_{o}(0) = A \\exp(0) = A\n$$\nThus, the constant $A$ is equal to the initial differential voltage, and the specific solution for $v_o(t)$ is:\n$$\nv_{o}(t) = (v_{id} + n_{in}) \\exp\\left(\\frac{t}{\\tau}\\right)\n$$\nThe comparator reaches a decision at a time $t_d$ when the magnitude of the output voltage reaches a threshold $V_{\\mathrm{th}}$:\n$$\n|v_{o}(t_d)| = V_{\\mathrm{th}}\n$$\nSubstituting the expression for $v_o(t)$:\n$$\n\\left|(v_{id} + n_{in}) \\exp\\left(\\frac{t_d}{\\tau}\\right)\\right| = V_{\\mathrm{th}}\n$$\nSince $\\exp(t_d/\\tau)$ is always positive, we can write:\n$$\n|v_{id} + n_{in}| \\exp\\left(\\frac{t_d}{\\tau}\\right) = V_{\\mathrm{th}}\n$$\nThe problem states the small-noise condition $|n_{in}| \\ll |v_{id}|$. This implies that the sign of the term $(v_{id} + n_{in})$ is determined by the sign of $v_{id}$. Without loss of generality, let us assume $v_{id} > 0$ (and thus $v_{id} + n_{in} > 0$) and $V_{\\mathrm{th}} > 0$. The derivation for $v_{id} < 0$ yields an identical final result for the standard deviation.\nWith this assumption, the equation becomes:\n$$\n(v_{id} + n_{in}) \\exp\\left(\\frac{t_d}{\\tau}\\right) = V_{\\mathrm{th}}\n$$\nWe now solve for the decision time $t_d$:\n$$\n\\exp\\left(\\frac{t_d}{\\tau}\\right) = \\frac{V_{\\mathrm{th}}}{v_{id} + n_{in}}\n$$\nTaking the natural logarithm of both sides:\n$$\n\\frac{t_d}{\\tau} = \\ln\\left(\\frac{V_{\\mathrm{th}}}{v_{id} + n_{in}}\\right) = \\ln(V_{\\mathrm{th}}) - \\ln(v_{id} + n_{in})\n$$\nSo, the decision time $t_d$ is a function of the random noise variable $n_{in}$:\n$$\nt_d(n_{in}) = \\tau \\left[ \\ln(V_{\\mathrm{th}}) - \\ln(v_{id} + n_{in}) \\right]\n$$\nTo find the standard deviation of the fluctuation in $t_d$ due to $n_{in}$, we use a first-order Taylor series expansion of $t_d(n_{in})$ around $n_{in}=0$. This is justified by the small-noise assumption.\n$$\nt_d(n_{in}) \\approx t_d(0) + \\left. \\frac{d t_d}{d n_{in}} \\right|_{n_{in}=0} \\cdot n_{in}\n$$\nThe fluctuation in decision time, $\\Delta t_d$, is the difference between the noisy time and the nominal time:\n$$\n\\Delta t_d = t_d(n_{in}) - t_d(0) \\approx \\left. \\frac{d t_d}{d n_{in}} \\right|_{n_{in}=0} \\cdot n_{in}\n$$\nWe compute the derivative of $t_d$ with respect to $n_{in}$:\n$$\n\\frac{d t_d}{d n_{in}} = \\frac{d}{d n_{in}} \\left( \\tau \\left[ \\ln(V_{\\mathrm{th}}) - \\ln(v_{id} + n_{in}) \\right] \\right) = -\\tau \\frac{1}{v_{id} + n_{in}}\n$$\nEvaluating the derivative at $n_{in}=0$:\n$$\n\\left. \\frac{d t_d}{d n_{in}} \\right|_{n_{in}=0} = -\\frac{\\tau}{v_{id}}\n$$\nThe fluctuation $\\Delta t_d$ is therefore approximately:\n$$\n\\Delta t_d \\approx -\\frac{\\tau}{v_{id}} n_{in}\n$$\nThe standard deviation of the decision time, $\\sigma_t$, is the root mean square of this fluctuation. Since $n_{in}$ is a zero-mean random variable, $\\Delta t_d$ is also zero-mean. The variance $\\sigma_t^2$ is the expected value of $(\\Delta t_d)^2$:\n$$\n\\sigma_t^2 = E[(\\Delta t_d)^2] \\approx E\\left[\\left(-\\frac{\\tau}{v_{id}} n_{in}\\right)^2\\right] = \\frac{\\tau^2}{v_{id}^2} E[n_{in}^2]\n$$\nThe problem states that the RMS of the input noise is $\\sigma_{n,\\mathrm{in}}$. For a zero-mean variable, the variance is the square of the RMS value, so $E[n_{in}^2] = \\sigma_{n,\\mathrm{in}}^2$. Substituting this into the equation for $\\sigma_t^2$:\n$$\n\\sigma_t^2 = \\frac{\\tau^2 \\sigma_{n,\\mathrm{in}}^2}{v_{id}^2}\n$$\nTaking the square root gives the standard deviation $\\sigma_t$. Since standard deviations are non-negative, we use the absolute value for $v_{id}$:\n$$\n\\sigma_t = \\frac{\\tau \\sigma_{n,\\mathrm{in}}}{|v_{id}|}\n$$\n\n### Numerical Evaluation\nWe are given the following values:\n- $\\tau = 17.3\\,\\mathrm{ps} = 17.3 \\times 10^{-12}\\,\\mathrm{s}$\n- $v_{id} = 8.7\\,\\mathrm{mV} = 8.7 \\times 10^{-3}\\,\\mathrm{V}$\n- $\\sigma_{n,\\mathrm{in}} = 0.42\\,\\mathrm{mV} = 0.42 \\times 10^{-3}\\,\\mathrm{V}$\n\nWe substitute these values into the derived expression for $\\sigma_t$:\n$$\n\\sigma_t = \\frac{(17.3\\,\\mathrm{ps}) (0.42\\,\\mathrm{mV})}{8.7\\,\\mathrm{mV}}\n$$\nThe voltage units $(\\mathrm{mV})$ cancel out, leaving the result in picoseconds $(\\mathrm{ps})$:\n$$\n\\sigma_t = 17.3 \\times \\frac{0.42}{8.7}\\,\\mathrm{ps}\n$$\n$$\n\\sigma_t = 17.3 \\times 0.04827586... \\,\\mathrm{ps}\n$$\n$$\n\\sigma_t \\approx 0.8351724... \\,\\mathrm{ps}\n$$\nThe problem requires the answer to be rounded to three significant figures.\n$$\n\\sigma_t \\approx 0.835\\,\\mathrm{ps}\n$$",
            "answer": "$$\n\\boxed{0.835}\n$$"
        },
        {
            "introduction": "This final practice synthesizes our understanding into a realistic design challenge, moving from ideal components to circuits affected by real-world manufacturing variability. You will analyze a dynamic latch's performance not just at a typical operating point, but across the extremes of process, voltage, and temperature (PVT) corners. By applying Pelgrom’s law for mismatch and calculating the worst-case decision time , you will develop the critical skill of designing for robustness, ensuring a circuit performs reliably despite unavoidable imperfections.",
            "id": "4300768",
            "problem": "A dynamic latch comparator used in Electronic Design Automation (EDA) for integrated circuit analysis is modeled during regeneration by a single dominant differential mode state variable whose small-signal voltage difference is denoted by $v_{\\mathrm{d}}(t)$. When the latch is released, the positive feedback from the cross-coupled devices causes $v_{\\mathrm{d}}(t)$ to grow from its initial value. Assume that the regeneration is linear for small $v_{\\mathrm{d}}$ and dominated by a single effective transconductance $g_{m,\\mathrm{eff}}$ and a single effective capacitance $C_{\\mathrm{eff}}$ seen by the differential mode.\n\nConsider process corners Slow-Slow (SS), Typical-Typical (TT), and Fast-Fast (FF), which scale the underlying device parameters. At TT, the effective transconductance and capacitance are $g_{m,\\mathrm{eff,TT}}=6~\\mathrm{mS}$ and $C_{\\mathrm{eff,TT}}=18~\\mathrm{fF}$. Across corners, use the following multiplicative scalings:\n- $g_{m,\\mathrm{eff}}$ scales by $k_{g}=\\{0.70~\\text{(SS)},~1.00~\\text{(TT)},~1.30~\\text{(FF)}\\}$,\n- $C_{\\mathrm{eff}}$ scales by $k_{c}=\\{1.10~\\text{(SS)},~1.00~\\text{(TT)},~0.90~\\text{(FF)}\\}$.\n\nAssume the latch output is considered \"decided\" when the internal differential-mode voltage reaches the target amplitude $V_{T}=0.3~\\mathrm{V}$. The smallest applied input-referred differential amplitude at the moment regeneration begins is $|V_{\\mathrm{in}}|_{\\min}=25~\\mathrm{mV}$. The net initial condition is reduced by input-referred offset $V_{\\mathrm{os}}$ arising from mismatch in the input devices only.\n\nThe input devices are identical $n$-channel metal–oxide–semiconductor (NMOS) transistors sized $W=8~\\mu\\mathrm{m}$ and $L=0.06~\\mu\\mathrm{m}$, operating in strong inversion at Typical-Typical with overdrive $V_{\\mathrm{ov,TT}}=0.2~\\mathrm{V}$. Model mismatch using Pelgrom’s law with independent threshold and transconductance factor mismatches:\n- Threshold mismatch coefficient $A_{V_{t}}=3~\\mathrm{mV}\\cdot\\mu\\mathrm{m}$,\n- Transconductance factor mismatch coefficient $A_{\\beta}=0.03~\\mu\\mathrm{m}$, where $\\beta=\\mu C_{\\mathrm{ox}} W/L$.\n\nTreat the input-referred offset of the differential input pair as the sum of a threshold mismatch term and a $\\beta$-mismatch term scaled by the overdrive, and assume these two contributions are independent and Gaussian. Use a worst-case offset equal to three standard deviations. Take the worst-case decision time to be the maximum across SS, TT, FF when the net effective input $|V_{\\mathrm{in}}|_{\\mathrm{eff}}=|V_{\\mathrm{in}}|_{\\min}-V_{\\mathrm{os,worst}}$ is smallest and the regeneration is slowest.\n\nTasks:\n- Starting from a linear small-signal positive-feedback model and Pelgrom mismatch, derive how the regeneration time constant $\\tau=C_{\\mathrm{eff}}/g_{m,\\mathrm{eff}}$ scales across SS, TT, and FF given the corner multipliers.\n- Derive the decision time $t_{d}$ required for $v_{\\mathrm{d}}(t)$ to grow from $|V_{\\mathrm{in}}|_{\\mathrm{eff}}$ to $V_{T}$ under linear regeneration.\n- Compute and report the three regeneration time constants $\\tau_{\\mathrm{SS}}$, $\\tau_{\\mathrm{TT}}$, and $\\tau_{\\mathrm{FF}}$, the worst-case decision time $t_{d,\\mathrm{worst}}$, and the worst-case offset magnitude $V_{\\mathrm{os,worst}}$ for the given sizing and parameters.\n\nExpress $\\tau$ and $t_{d}$ in picoseconds and $V_{\\mathrm{os}}$ in millivolts. Round your final reported values to three significant figures.",
            "solution": "The regeneration of a dynamic latch comparator in the small-signal regime can be modeled by a single state variable $v_{\\mathrm{d}}(t)$ governed by the linear differential equation\n$$\n\\frac{d v_{\\mathrm{d}}(t)}{d t} = \\frac{g_{m,\\mathrm{eff}}}{C_{\\mathrm{eff}}}\\, v_{\\mathrm{d}}(t).\n$$\nThis follows from linearization of the cross-coupled inverter pair (positive feedback) and charge conservation on a dominant effective capacitance. The solution with initial condition $v_{\\mathrm{d}}(0)=v_{0}$ is\n$$\nv_{\\mathrm{d}}(t) = v_{0}\\,\\exp\\!\\left(\\frac{t}{\\tau}\\right),\n\\quad \\text{where} \\quad\n\\tau = \\frac{C_{\\mathrm{eff}}}{g_{m,\\mathrm{eff}}}.\n$$\nThe decision time $t_{d}$ is defined by the condition $v_{\\mathrm{d}}(t_{d})=V_{T}$, leading to\n$$\nt_{d} = \\tau \\,\\ln\\!\\left(\\frac{V_{T}}{|v_{0}|}\\right).\n$$\nIn our setting, the initial amplitude is the net effective input $|v_{0}|=|V_{\\mathrm{in}}|_{\\mathrm{eff}}=|V_{\\mathrm{in}}|_{\\min}-V_{\\mathrm{os}}$, so\n$$\nt_{d} = \\tau \\,\\ln\\!\\left(\\frac{V_{T}}{|V_{\\mathrm{in}}|_{\\min}-V_{\\mathrm{os}}}\\right).\n$$\n\nCorner scaling for the regeneration time constant is derived by noting that $g_{m,\\mathrm{eff}}$ and $C_{\\mathrm{eff}}$ scale independently by $k_{g}$ and $k_{c}$:\n$$\ng_{m,\\mathrm{eff,corner}} = k_{g}\\, g_{m,\\mathrm{eff,TT}},\n\\qquad\nC_{\\mathrm{eff,corner}} = k_{c}\\, C_{\\mathrm{eff,TT}}.\n$$\nHence,\n$$\n\\tau_{\\mathrm{corner}} = \\frac{C_{\\mathrm{eff,corner}}}{g_{m,\\mathrm{eff,corner}}}\n= \\frac{k_{c}}{k_{g}}\\,\\frac{C_{\\mathrm{eff,TT}}}{g_{m,\\mathrm{eff,TT}}}\n= \\frac{k_{c}}{k_{g}}\\,\\tau_{\\mathrm{TT}}.\n$$\nWith $g_{m,\\mathrm{eff,TT}}=6~\\mathrm{mS}$ and $C_{\\mathrm{eff,TT}}=18~\\mathrm{fF}$, the typical time constant is\n$$\n\\tau_{\\mathrm{TT}} = \\frac{18\\times 10^{-15}}{6\\times 10^{-3}} = 3\\times 10^{-12}~\\mathrm{s}.\n$$\nTherefore,\n$$\n\\tau_{\\mathrm{SS}} = \\frac{1.10}{0.70}\\,\\tau_{\\mathrm{TT}} = \\frac{11}{7}\\cdot 3\\times 10^{-12}~\\mathrm{s} \\approx 4.714285714\\times 10^{-12}~\\mathrm{s},\n$$\n$$\n\\tau_{\\mathrm{FF}} = \\frac{0.90}{1.30}\\,\\tau_{\\mathrm{TT}} = \\frac{9}{13}\\cdot 3\\times 10^{-12}~\\mathrm{s} \\approx 2.076923077\\times 10^{-12}~\\mathrm{s}.\n$$\n\nNext, compute the input-referred offset from mismatch. For a differential input pair in strong inversion, a well-tested small-signal input-referred offset model is\n$$\nV_{\\mathrm{os}} \\approx \\Delta V_{t} + \\frac{V_{\\mathrm{ov}}}{2}\\,\\frac{\\Delta \\beta}{\\beta},\n$$\nwith independent zero-mean Gaussian components from threshold and transconductance-factor mismatch. Pelgrom’s law gives the standard deviations\n$$\n\\sigma_{V_{t}} = \\frac{A_{V_{t}}}{\\sqrt{W L}},\n\\qquad\n\\frac{\\sigma_{\\beta}}{\\beta} = \\frac{A_{\\beta}}{\\sqrt{W L}}.\n$$\nThus, the standard deviation of the offset is\n$$\n\\sigma_{V_{\\mathrm{os}}} = \\sqrt{\\sigma_{V_{t}}^{2} + \\left(\\frac{V_{\\mathrm{ov}}}{2}\\,\\frac{\\sigma_{\\beta}}{\\beta}\\right)^{2}}.\n$$\nFor the given sizing and coefficients,\n$$\nW L = 8~\\mu\\mathrm{m}\\times 0.06~\\mu\\mathrm{m} = 0.48~\\mu\\mathrm{m}^{2},\\quad\n\\sqrt{W L} = \\sqrt{0.48} \\approx 0.692820323~\\mu\\mathrm{m}.\n$$\nTherefore,\n$$\n\\sigma_{V_{t}} = \\frac{3\\times 10^{-3}~\\mathrm{V}\\cdot\\mu\\mathrm{m}}{0.692820323~\\mu\\mathrm{m}} \\approx 0.004330127~\\mathrm{V},\n$$\n$$\n\\frac{\\sigma_{\\beta}}{\\beta} = \\frac{0.03~\\mu\\mathrm{m}}{0.692820323~\\mu\\mathrm{m}} \\approx 0.04330127,\n$$\nand with $V_{\\mathrm{ov}}=0.2~\\mathrm{V}$,\n$$\n\\frac{V_{\\mathrm{ov}}}{2}\\,\\frac{\\sigma_{\\beta}}{\\beta} = 0.1\\times 0.04330127 \\approx 0.004330127~\\mathrm{V}.\n$$\nHence,\n$$\n\\sigma_{V_{\\mathrm{os}}} = \\sqrt{(0.004330127)^{2} + (0.004330127)^{2}}~\\mathrm{V}\n= \\sqrt{2}\\times 0.004330127~\\mathrm{V}\n\\approx 0.006123724~\\mathrm{V}.\n$$\nA worst-case offset taken as three standard deviations is\n$$\nV_{\\mathrm{os,worst}} = 3\\,\\sigma_{V_{\\mathrm{os}}} \\approx 3\\times 0.006123724~\\mathrm{V} \\approx 0.018371172~\\mathrm{V}.\n$$\n\nThe worst-case decision time occurs for the slowest corner (largest $\\tau$) and the smallest net effective input magnitude (offset opposing the applied input), i.e., at SS with $|V_{\\mathrm{in}}|_{\\mathrm{eff}}=|V_{\\mathrm{in}}|_{\\min}-V_{\\mathrm{os,worst}}$. Using $|V_{\\mathrm{in}}|_{\\min}=0.025~\\mathrm{V}$ and $V_{T}=0.3~\\mathrm{V}$,\n$$\n|V_{\\mathrm{in}}|_{\\mathrm{eff}} = 0.025 - 0.018371172 \\approx 0.006628828~\\mathrm{V},\n$$\nand\n$$\nt_{d,\\mathrm{worst}} = \\tau_{\\mathrm{SS}}\\,\\ln\\!\\left(\\frac{V_{T}}{|V_{\\mathrm{in}}|_{\\mathrm{eff}}}\\right)\n= 4.714285714\\times 10^{-12}\\,\\ln\\!\\left(\\frac{0.3}{0.006628828}\\right)~\\mathrm{s}.\n$$\nCompute the logarithm:\n$$\n\\ln\\!\\left(\\frac{0.3}{0.006628828}\\right) \\approx \\ln(45.270) \\approx 3.810462,\n$$\ngiving\n$$\nt_{d,\\mathrm{worst}} \\approx 4.714285714\\times 10^{-12}\\times 3.810462~\\mathrm{s}\n\\approx 1.79637\\times 10^{-11}~\\mathrm{s} = 17.9637~\\mathrm{ps}.\n$$\n\nFinally, report the time constants in picoseconds and the offset in millivolts, rounded to three significant figures:\n$$\n\\tau_{\\mathrm{SS}} \\approx 4.71~\\mathrm{ps},\\quad\n\\tau_{\\mathrm{TT}} = 3.00~\\mathrm{ps},\\quad\n\\tau_{\\mathrm{FF}} \\approx 2.08~\\mathrm{ps},\n$$\n$$\nt_{d,\\mathrm{worst}} \\approx 18.0~\\mathrm{ps},\\quad\nV_{\\mathrm{os,worst}} \\approx 18.4~\\mathrm{mV}.\n$$",
            "answer": "$$\\boxed{\\begin{pmatrix}4.71 & 3.00 & 2.08 & 18.0 & 18.4\\end{pmatrix}}$$"
        }
    ]
}