## 引言
在追求高保真信号处理的模拟电路世界中，一个纯净、稳定的电源是实现卓越性能的基石。然而，现实中的电源系统充满了由数字电路、外部干扰和电源自身引入的噪声，这些不请自来的电压波动会严重污染敏感的[模拟信号](@entry_id:200722)，降低电路的精度和可靠性。因此，如何有效地“拒绝”这些来自电源的噪声，便成为[模拟集成电路设计](@entry_id:277019)中的一项核心挑战。本文旨在系统性地解决这一问题，深入剖析[电源抑制](@entry_id:1130064)（Power Supply Rejection）的理论与实践。

本文将带领读者踏上一段从理论到实践的旅程。在第一部分“原理与机制”中，我们将建立[电源抑制比](@entry_id:268797)（PSRR）的数学定义，揭示噪声侵入电路的三条主要物理路径，并探讨如何利用对称性等设计哲学从根源上抵消噪声。接着，在“应用与交叉学科联系”部分，我们将视野扩展到系统层面，展示PSRR如何在低压差[线性稳压器](@entry_id:272206)（LDO）、模数转换器（[ADC](@entry_id:200983)）和复杂的片上系统（SoC）中扮演关键角色，并揭示其与[数字信号处理](@entry_id:263660)、物理设计等领域的深刻联系。最后，通过“动手实践”环节，读者将有机会将所学理论应用于具体问题，巩固对关键概念的理解。

让我们首先深入“原理与机制”的核心，探索[电源抑制](@entry_id:1130064)的物理本质，并学习量化和分析它的语言。

## 原理与机制

在[模拟电路](@entry_id:274672)这片精密而优雅的疆域中，我们追求的是信号的纯粹与保真。然而，正如一位伟大的小提琴家需要一把寂静的音乐厅来施展才华，我们的模拟电路也需要一个稳定而纯净的电源。不幸的是，现实世界中的电源并非如此。它们充满了来自数字电路开关、外部电磁干扰或是[电源转换器](@entry_id:1130010)自身不完美性所产生的“噪声”——微小的、不请自来的电压波动。这些噪声如同音乐厅里的持续嗡鸣，会渗透进我们精心设计的电路中，污染宝贵的信号。

[电源抑制](@entry_id:1130064)（Power Supply Rejection）便是衡量一个电路抵抗这种电源“污染”能力的艺术。一个具有良好[电源抑制](@entry_id:1130064)能力的电路，就像一位能在嘈杂环境中保持专注的艺术家，能够有效地忽略电源上的波动，忠实地处理其应有的信号。那么，我们如何从物理学的基本原理出发，来理解并量化这种能力呢？

### 抑制的语言：定义PSRR

想象一下，我们想知道电源上的一个小涟漪——一个微小的正弦波扰动 $v_{s}(t)$——会在电路的输出端造成多大的影响，即产生一个输出扰动 $v_{\mathrm{out}}(t)$。在小扰动的世界里，大多数[非线性电路](@entry_id:264416)的行为都可以被近似为线性的。这意味着输出扰动与输入扰动之间存在一个简单的比例关系。在频域中，这种关系由一个**传递函数** $H_{V_{s}\to V_{\mathrm{out}}}(j\omega)$ 来精确描述 ：

$$
H_{V_{s}\to V_{\mathrm{out}}}(j\omega) \triangleq \frac{V_{\mathrm{out}}(j\omega)}{V_{s}(j\omega)}
$$

这里的 $V_{\mathrm{out}}(j\omega)$ 和 $V_{s}(j\omega)$ 分别是输出和电源扰动的[相量表示](@entry_id:196506)。这个传递函数是一个复数，它不仅告诉我们噪声被衰减或放大了多少（由其**幅度**决定），还告诉我们噪声信号的相位发生了怎样的变化（由其**相位**决定）。一个理想的电路应该对电源噪声“视而不见”，这意味着这个传递函数的幅度 $|H_{V_{s}\to V_{\mathrm{out}}}(j\omega)|$ 应该尽可能接近于零。

为了更直观地[表达抑制](@entry_id:898685)能力，我们定义了**[电源抑制比](@entry_id:268797)（Power Supply Rejection Ratio, PSRR）**。它并不是直接使用这个传递函数，而是巧妙地使用了它的倒数。我们想用一个大数字来代表“好”的性能。因此，PSRR被定义为电源扰动幅度与它所引起的输出扰动幅度之比 ：

$$
\mathrm{PSRR}(\omega) \triangleq \frac{1}{|H_{V_{s}\to V_{\mathrm{out}}}(j\omega)|} = \left|\frac{V_{s}(j\omega)}{V_{\mathrm{out}}(j\omega)}\right|
$$

这个定义非常直观：如果PSRR为1000，那就意味着电源上1伏特的噪声，在输出端只产生了1毫伏的涟漪。在工程实践中，我们常常用分贝（dB）来表示PSRR，即 $20\log_{10}(\mathrm{PSRR})$。60dB的PSRR就对应着1000倍的抑制能力。

值得注意的是，PSRR是频率的函数。一个电路可能在低频时有出色的PSRR，但在高频时却可能“门户大开”。同时，我们还需要区分PSRR和另一个相关概念——**线路[调整率](@entry_id:918523)（Line Regulation）**，后者描述的是在直流（DC）情况下，输出电压随电源电压静态变化的程度，可以看作是PSRR在零频率（$\omega \to 0$）时的特例。

### 噪声的潜行路径：它是如何进入的？

要增强防御，必先了解敌人的进攻路线。电源噪声究竟是通过哪些物理机制潜入电路内部的呢？让我们从最简单到最复杂的路径来一一揭示。

#### 路径一：无源分压之路

最直接的一条路径，甚至在电路“休眠”时都存在。想象一个简单的[共源极放大器](@entry_id:265648)，其负载是一个电阻 $R_D$，连接到电源 $V_{DD}$。晶体管自身也存在一个有限的输出电阻 $r_o$。当没有输入信号时（栅极交流接地），从电源 $V_{DD}$ 看进来，噪声电压 $v_{DD}$ 实际上被施加在 $R_D$ 和 $r_o$ 构成的[串联电路](@entry_id:275175)上。输出节点就是这两者之间的点。因此，输出端的噪声电压就是这个简单**电阻[分压器](@entry_id:275531)**的结果 。

$$
H_{V_{DD}\to V_{\mathrm{out}}} = \frac{v_{\mathrm{out}}}{v_{DD}} = \frac{r_{o}}{R_{D} + r_{o}}
$$

这意味着，即使晶体管的放大作用不存在，噪声仍然可以通过纯粹的无源路径进入。[输出电阻](@entry_id:276800) $r_o$ 越大，负载电阻 $R_D$ 越小，这条路径上的噪声传递就越少。

#### 路径二：有源放大之路

晶体管不仅是电阻，它更是一个**放大器**。这条路径更加[隐蔽](@entry_id:196364)和强大。电源上的噪声不仅会通过负载电阻，还可能通过偏置网络耦合到晶体管的控制端，如栅极（gate）和衬底（bulk）。例如，如果栅极偏置电压来自于一个相对于 $V_{DD}$ 的[分压电路](@entry_id:275531)，那么 $V_{DD}$ 上的任何波动 $v_{DD}$ 都会导致栅极电压产生一个小的波动 $v_{g}=\alpha_{g}\,v_{DD}$。

晶体管的天职就是放大其控制端的信号。于是，这个微小的栅极（或衬底）噪声被晶体管的跨导 $g_m$（或衬底[跨导](@entry_id:274251) $g_{mb}$）忠实地放大，转化为一个显著的漏极电流噪声。这个电流噪声流过输出总电阻，最终在输出端形成一个不可忽视的电压噪声 。这就像一个“内鬼”，利用电路自身的放大能力来放大敌人。在这种情况下，总的传递函数会同时包含无源分压和有源放大两个部分，后者往往在低频时占据主导地位。

#### 路径三：高频寄生捷径

随着频率的升高，电路中那些在低频时可以忽略不计的“幽灵”——**[寄生电容](@entry_id:270891)**——开始扮演主角。想象一下，在晶体管的各个极之间，都存在微小的电容，如栅漏电容 $C_{gd}$ 和漏衬电容 $C_{db}$。这些电容就像连接电源轨和输出节点之间的一座座小桥。

在低频时，这些电容的阻抗 ($Z_C = 1/(j\omega C)$) 巨大，几乎是开路。但在高频时，它们的阻抗变得很小，为噪声提供了一条低阻的“捷径”。此时，电源噪声不再费力地通过电阻路径，而是愉快地通过这个**电容分压网络**直接耦合到输出端 。例如，在一个高阻输出节点，噪声传递函数可能近似为：

$$
H_{V_{DD}\to V_{\mathrm{out}}}(j\omega) \approx \frac{C_{gd} + C_{db}}{C_{gd} + C_{db} + C_{L}}
$$

其中 $C_L$ 是总的对地负载电容。这个结果惊人地简洁：它与频率无关（在一个纯电容模型中），完全由电容值的比例决定。这解释了为什么几乎所有放大器的PSRR都会在高频时急剧下降——噪声找到了绕过所有防御的捷径。

### 对称之美：噪声的自我毁灭

既然我们知道了噪声的入侵路线，那么如何构建有效的防御工事呢？在模拟设计中，最优雅的防御策略不是硬扛，而是**抵消**。

#### 对称与差分电路

这便是**[差分对](@entry_id:266000)（Differential Pair）**闪亮登场的时刻。一个理想的[差分对](@entry_id:266000)是完美对称的：两个晶体管一模一样，负载也一模一样。当电源上出现一个共模（common-mode）噪声时，这个噪声会以完全相同的方式影响电路的左右两半。因此，在两个输出端产生的噪声扰动 $v_{o1}(t)$ 和 $v_{o2}(t)$ 将是完全相同的 。

现在，奇迹发生了。我们真正关心的通常是差分输出信号，即 $v_{od}(t) = v_{o1}(t) - v_{o2}(t)$。由于 $v_{o1}(t)$ 和 $v_{o2}(t)$ 相等，它们的差值正好为零！噪声就这样被自己抵消了。这便是差分电路能够拥有极高**差分PSRR**的奥秘。对称性在这里展现了它无与伦比的力量，将一个看似难以解决的问题，通过巧妙的[结构设计](@entry_id:196229)化解于无形。这也促使我们为[全差分放大器](@entry_id:268611)定义两种PSRR：衡量差分输出噪声的**差分PSRR**，以及衡量共模输出噪声的**共模PSRR** 。

#### 非对称性的代价

当然，并非所有设计都是对称的。有时，为了其他性能指标（如[输出摆幅](@entry_id:260991)），我们会故意采用非对称结构。一个典型的例子是运算放大器的输出级，可能采用PMOS上拉电路和NMOS下拉电路。一个PMOS**级联（cascode）**结构可以提供极高的[输出电阻](@entry_id:276800) $r_p$，而一个简单的NMOS共源结构则具有相对较低的[输出电阻](@entry_id:276800) $r_n$。

这种结构上的不对称性导致了PSRR的显著不对称。由于[上拉电阻](@entry_id:178010) $r_p$ 远大于下拉电阻 $r_n$，输出节点在电气上与负电源轨($V_{SS}$)的“连接”比与正电源轨($V_{DD}$)的“连接”更紧密。这意味着，它对来自 $V_{DD}$ 的噪声更敏感，而对来自 $V_{SS}$ 的噪声则有更好的抑制能力。PSRR的不对称性 $\mathcal{A}$ 可以简单地表示为两种电阻之比 ：

$$
\mathcal{A} = \frac{\mathrm{PSRR}_{+}}{\mathrm{PSRR}_{-}} \approx \frac{r_p}{r_n}
$$

当 $r_p$ 是 $r_n$ 的数百倍时，对正负电源的抑制能力就会有天壤之别。这清晰地表明，电路拓扑中的每一个选择，都会在性能上留下其独特的印记。

### 当理想遇上现实：失配与系统效应

我们迄今为止的讨论大多基于理想模型。然而，真实世界是复杂且不完美的。

#### 制造失配的影响

回到我们那优雅的[对称差](@entry_id:156264)分对。在现实的芯片制造过程中，由于原子尺度的随机涨落，不可能制造出两个完全一模一样的晶体管。它们的阈值电压、跨导等参数总会有微小的随机差异，这被称为**失配（mismatch）**。

这种失配打破了完美的对称性。因此，共模的电源噪声在经过左右两个不完全相同的“通道”后，产生的输出扰动将不再完全相等。这意味着抵消不再完美，一部分[共模噪声](@entry_id:269684)会“泄漏”出来，转化为我们不希望看到的差分噪声 。这种泄漏的程度，可以用统计学的语言来描述。一个关键的结论是，失配效应的方差与晶体管的面积 $W \times L$ 成反比 。这为我们提供了一个重要的设计法则：如果你想获得更好的匹配和更高的PSRR，请使用面积更大的晶体管。这是用面积换取精度的经典权衡。

#### 超越芯片：电源配送网络

最后，让我们将视野从芯片本身扩展到它所在的整个系统。芯片并非孤立存在，它通过封装和电路板（PCB）上的引线连接到远端的[稳压](@entry_id:272092)器。这整条“输电路径”被称为**电源配送网络（Power Delivery Network, PDN）**。

这条路径并非理想导线，它包含电阻 $R_s$（来自[稳压](@entry_id:272092)器和引线）、电感 $L_s$（来自封装和引线）以及我们为了稳定电源而在芯片上放置的去耦电容 $C$。这三者构成了一个经典的**RLC[串联谐振](@entry_id:268839)电路**。在某个特定的[谐振频率](@entry_id:265742) $f_0$ 处，电感和电容的抗性相互抵消，使得整个网络的阻抗达到最小值，仅剩下微小的电阻 $R_s$ 。

$$
f_0 = \frac{1}{2\pi\sqrt{L_{s}C}}
$$

这意味着，在[谐振频率](@entry_id:265742)点，来自外部的噪声能够几乎无阻碍地在PDN中激起巨大的电流，从而在芯片的电源引脚上产生一个远大于噪声源本身的电压峰值！这就像在浴缸里找到了合适的频率，可以晃出滔天巨浪。

这个噪声峰值直接导致了系统整体PSRR在该频率点出现一个急剧的**下降凹陷（dip）**。这也许是[电源抑制](@entry_id:1130064)中最反直觉、也最关键的一点：为了滤除噪声而添加的[去耦电容](@entry_id:1123466)，却在某个频率上与[寄生电感](@entry_id:268392)“合谋”，放大了噪声，形成了系统的“阿喀琉斯之踵”。这深刻地揭示了[电源抑制](@entry_id:1130064)不仅仅是晶体管或电路拓扑的问题，它是一个从晶体管物理到系统级电磁兼容性的、跨越多个尺度、紧密相连的统一体。理解这些原理，正是我们驾驭噪声、创造纯净信号世界的关键所在。