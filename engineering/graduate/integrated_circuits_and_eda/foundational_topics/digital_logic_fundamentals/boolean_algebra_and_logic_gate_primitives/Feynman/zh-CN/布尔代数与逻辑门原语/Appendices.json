{
    "hands_on_practices": [
        {
            "introduction": "逻辑综合的目标不仅仅是找到一个正确的电路，更是要找到一个最优的电路。在实践中，对布尔函数选择合适的代数表示形式（例如，积之和 SOP 与里德-穆勒 PPRM）会极大地影响最终电路的成本。本练习将通过一个奇偶校验函数的案例研究，展示如何通过分析函数的内在结构并选择与之匹配的表示方法，来实现比通用方法远为高效的电路，这对于理解现代EDA工具的优化策略至关重要。",
            "id": "4258450",
            "problem": "一个四输入布尔函数 $f:\\{0,1\\}^{4}\\to\\{0,1\\}$ 在输入 $(x_{3},x_{2},x_{1},x_{0})$ 上的定义为奇校验函数：当且仅当输入中为 $1$ 的个数恰好为奇数时，$f(x_{3},x_{2},x_{1},x_{0})=1$，否则 $f(x_{3},x_{2},x_{1},x_{0})=0$。\n\n仅使用二元伽罗瓦域（即环 $\\mathbb{F}_{2}$，其中加法为异或，乘法为逻辑与）上的布尔代数基本定律，从第一性原理出发，推导 $f$ 的正极性里德-穆勒 (PPRM) 展开式。该展开式定义为在 $\\mathbb{F}_{2}$ 上关于非求反变量 $x_{3},x_{2},x_{1},x_{0}$ 的唯一多项式，形式如下\n$$\nf(x_{3},x_{2},x_{1},x_{0})=\\bigoplus_{S\\subseteq\\{0,1,2,3\\}} c_{S}\\,\\prod_{i\\in S} x_{i},\n$$\n其中系数 $c_{S}\\in\\{0,1\\}$，并约定空积为 $1$。\n\n然后，考虑一个标准单元库，其中包含原生的双输入异或门 (XOR2)、双输入与门 (AND2)、双输入或门 (OR2) 和反相器 (INV) 单元。这些单元的面积成本如下：\n- XOR2: $5$ 个面积单位，\n- AND2: $2$ 个面积单位，\n- OR2: $2$ 个面积单位，\n- INV: $1$ 个面积单位。\n\n多输入与函数和或函数必须通过双输入门的树形结构来实现。输入的补可以由反相器生成，并在所有需要它们的乘积项之间共享。\n\n用两种方式实现 $f$：\n- 使用推导出的 PPRM 表达式，将其实现为 PPRM 网络，严格使用 XOR2 和 AND2 门（仅在推导出的表达式需要时才使用 INV）。\n- 实现为最小双层积之和 (SOP) 网络，使用共享反相器生成补文字，使用 AND2 树构成每个乘积项，并使用 OR2 树对所有乘积项求和。\n\n在给定的成本模型下，计算每种实现的总面积，并以单一数字的形式给出最小双层 SOP 面积与 PPRM 面积的比率。不需要四舍五入。您的最终答案必须是这个比率，以单一精确数字的形式给出，不带单位。",
            "solution": "本题要求推导一个四输入奇校验函数的正极性里德-穆勒 (PPRM) 展开式和最小双层积之和 (SOP) 实现，然后比较它们的实现面积。\n\n该函数是作用于输入 $(x_{3},x_{2},x_{1},x_{0})$ 的 $f:\\{0,1\\}^{4}\\to\\{0,1\\}$。根据定义，当且仅当输入中为 $1$ 的个数为奇数时，$f(x_{3},x_{2},x_{1},x_{0})=1$。这就是异或 (XOR) 函数。\n\n### 第 1 部分：PPRM 展开式的推导\n\n题目指定使用二元伽罗瓦域 $\\mathbb{F}_{2}$ 上的布尔代数，其中加法是异或 ($\\oplus$)，乘法是逻辑与。PPRM 展开式是在此代数中仅使用非求反变量的多项式。其通用形式为：\n$$\nf(x_{3},x_{2},x_{1},x_{0})=\\bigoplus_{S\\subseteq\\{0,1,2,3\\}} c_{S}\\,\\prod_{i\\in S} x_{i}\n$$\n其中系数 $c_{S} \\in \\{0,1\\}$ 是常数。项 $\\prod_{i\\in S} x_{i}$ 表示索引在集合 $S$ 中的变量的逻辑与，空积（对于 $S=\\emptyset$）定义为 $1$。\n\n系数 $c_S$ 可以从第一性原理出发，使用以下关系推导得出：\n$$\nc_S = \\bigoplus_{T \\subseteq S} f(v_T)\n$$\n其中 $v_T$ 是输入向量 $(x_3, x_2, x_1, x_0)$，满足当 $i \\in T$ 时 $x_i=1$，当 $i \\notin T$ 时 $x_i=0$。\n如果 $v_T$ 中 $1$ 的数量（即 $|T|$）为奇数，则函数 $f(v_T)$ 为 $1$。否则 $f(v_T)=0$。\n因此，系数的表达式简化为：\n$$\nc_S = \\bigoplus_{T \\subseteq S, |T|\\text{ is odd}} 1\n$$\n这个和等价于计算 $S$ 的奇数基数子集的数量，模 $2$。设 $|S|=k$。$S$ 的大小为 $j$ 的子集数量是 $\\binom{k}{j}$。奇数基数子集的总数是 $\\sum_{j \\text{ odd}} \\binom{k}{j}$。根据二项式定理，我们知道对于 $k \\ge 1$：\n$$\n\\sum_{j \\text{ odd}} \\binom{k}{j} = \\binom{k}{1} + \\binom{k}{3} + \\dots = 2^{k-1}\n$$\n所以，$c_S = (2^{k-1}) \\pmod 2$。\n\n我们对不同的 $k=|S|$ 值进行评估：\n- 对于 $S = \\emptyset$，$k=0$。奇数基数子集集合为空，因此和为 $0$。所以，$c_{\\emptyset}=0$。\n- 对于 $|S|=1$（即 $S=\\{0\\}, \\{1\\}, \\{2\\}, \\{3\\}$），$k=1$。$c_S = (2^{1-1}) \\pmod 2 = 2^0 \\pmod 2 = 1 \\pmod 2 = 1$。所以，$c_{\\{0\\}}=c_{\\{1\\}}=c_{\\{2\\}}=c_{\\{3\\}}=1$。\n- 对于 $|S| \\geq 2$（例如 $S=\\{0,1\\}$），$k \\geq 2$。那么 $k-1 \\geq 1$，所以 $2^{k-1}$ 是一个偶数。因此，$c_S = (2^{k-1}) \\pmod 2 = 0$。\n\n唯一的非零系数是对于单元素集。将这些系数代回通用的 PPRM 形式，得到：\n$$\nf(x_{3},x_{2},x_{1},x_{0}) = c_{\\{0\\}}x_0 \\oplus c_{\\{1\\}}x_1 \\oplus c_{\\{2\\}}x_2 \\oplus c_{\\{3\\}}x_3 = 1 \\cdot x_0 \\oplus 1 \\cdot x_1 \\oplus 1 \\cdot x_2 \\oplus 1 \\cdot x_3\n$$\n推导出的 $4$ 输入奇校验函数的 PPRM 展开式为：\n$$\nf(x_{3},x_{2},x_{1},x_{0}) = x_3 \\oplus x_2 \\oplus x_1 \\oplus x_0\n$$\n\n### 第 2 部分：PPRM 实现的面积\n\nPPRM 表达式 $x_3 \\oplus x_2 \\oplus x_1 \\oplus x_0$ 是一个 $4$ 输入异或函数。它不包含与项（次数大于 $1$）和求反变量，因此其直接实现不需要 AND2 或 INV 门。我们必须使用一个由 $2$ 输入异或 (XOR2) 门组成的树形结构来实现这个 $4$ 输入异或。一个平衡的树形结构是高效的：\n- 一个 XOR2 门计算 $y_1 = x_1 \\oplus x_0$。\n- 第二个 XOR2 门计算 $y_2 = x_3 \\oplus x_2$。\n- 第三个 XOR2 门计算最终输出 $f = y_1 \\oplus y_2$。\n这总共需要 $3$ 个 XOR2 门。\n一个 XOR2 门的面积成本为 $5$ 个面积单位。\n$\\text{Area(PPRM)} = 3 \\times \\text{Area(XOR2)} = 3 \\times 5 = 15$ 个面积单位。\n\n### 第 3 部分：最小 SOP 实现的面积\n\n为了找到最小双层积之和 (SOP) 实现，我们使用变量 $(x_3, x_2, x_1, x_0)$ 的卡诺图。对于所有具有奇数个 $1$ 的输入组合，函数值为 $1$。这些对应于最小项 $m_1, m_2, m_4, m_7, m_8, m_{11}, m_{13}, m_{14}$。\n这个 $4$ 变量卡诺图是：\n```\nx3x2 \\ x1x0  00  01  11  10\n     00      0   1   0   1\n     01      1   0   1   0\n     11      0   1   0   1\n     10      1   0   1   0\n```\n该卡诺图呈现“棋盘”模式。没有任何两个 $1$ 是相邻的，这意味着无法对最小项进行分组以简化表达式。因此，最小 SOP 形式就是析取范式 (DNF)，即函数为真的所有 $8$ 个最小项之和（逻辑或）。\n表达式为：\n$f = \\bar{x}_3\\bar{x}_2\\bar{x}_1x_0 + \\bar{x}_3\\bar{x}_2x_1\\bar{x}_0 + \\bar{x}_3x_2\\bar{x}_1\\bar{x}_0 + x_3\\bar{x}_2\\bar{x}_1\\bar{x}_0 + \\bar{x}_3x_2x_1x_0 + x_3\\bar{x}_2x_1x_0 + x_3x_2\\bar{x}_1x_0 + x_3x_2x_1\\bar{x}_0$。\n\n该网络的面积计算如下：\n1.  **反相器 (INV)**：该表达式需要所有四个变量及其补数 ($\\bar{x}_3, \\bar{x}_2, \\bar{x}_1, \\bar{x}_0$)。由于原始输入是非求反的，我们需要 $4$ 个反相器。这些反相器可以在所有乘积项之间共享。\n    $\\text{Area(INV)} = 4 \\times \\text{Area(INV)} = 4 \\times 1 = 4$ 个面积单位。\n\n2.  **与门 (AND2)**：共有 $8$ 个乘积项。每个项是 $4$ 个文字的与运算。一个 $4$ 输入与函数需要一个由 $4-1=3$ 个双输入 AND2 门组成的树形结构。\n    AND2 门总数 = $8 \\text{ 项} \\times 3 \\text{ 门/项} = 24$ 个门。\n    $\\text{Area(AND)} = 24 \\times \\text{Area(AND2)} = 24 \\times 2 = 48$ 个面积单位。\n\n3.  **或门 (OR2)**：最终表达式是 $8$ 个乘积项的和。这需要一个 $8$ 输入或函数，该函数通过一个由 $8-1=7$ 个双输入 OR2 门组成的树形结构来实现。\n    OR2 门总数 = $7$ 个门。\n    $\\text{Area(OR)} = 7 \\times \\text{Area(OR2)} = 7 \\times 2 = 14$ 个面积单位。\n\nSOP 总面积是这些成本的总和：\n$\\text{Area(SOP)} = \\text{Area(INV)} + \\text{Area(AND)} + \\text{Area(OR)} = 4 + 48 + 14 = 66$ 个面积单位。\n\n### 第 4 部分：面积比率\n\n最后一步是计算 SOP 面积与 PPRM 面积的比率。\n$$\n\\text{Ratio} = \\frac{\\text{Area(SOP)}}{\\text{Area(PPRM)}} = \\frac{66}{15}\n$$\n这个分数可以通过分子和分母同除以它们的最大公约数 $3$ 来简化：\n$$\n\\text{Ratio} = \\frac{66 \\div 3}{15 \\div 3} = \\frac{22}{5}\n$$\n作为一个单一的精确数字，结果是 $4.4$。\n（注：最终答案应为分数形式）",
            "answer": "$$\\boxed{\\frac{22}{5}}$$"
        },
        {
            "introduction": "在逻辑综合之后，逻辑门需要通过晶体管来实现，而保证这一层级的正确性是至关重要的。静态CMOS逻辑的设计核心依赖于互补的上拉网络（PUN）和下拉网络（PDN）原则。这个练习将让你扮演一名验证工程师的角色，分析一个有缺陷的晶体管级原理图。通过从第一性原理出发推导电路的实际功能，你将加深对CMOS拓扑规则及其违规后果的理解。",
            "id": "4258463",
            "problem": "一个芯片设计团队在一张电路图上将一个小型静态互补金属氧化物半导体 (CMOS) 单元标注为“双输入或非门”。要求您根据晶体管导通和串并联网络抽象的基本原理来验证此说法，如果该说法错误，则识别出确切的拓扑结构违规之处，并推导输出端实现的实际布尔函数。\n\n该单元有三个输入 $A$、$B$ 和 $C$、一个电源轨 $V_{\\mathrm{DD}}$、地 $G$ 和一个单输出节点 $Y$。体连接是常规的：所有 p沟道金属氧化物半导体场效应晶体管 (PMOS) 的体端都连接到 $V_{\\mathrm{DD}}$，所有 n沟道金属氧化物半导体场效应晶体管 (NMOS) 的体端都连接到 $G$。\n\n下拉网络 (PDN) 由以下部分组成：\n- 一个 NMOS 管 $N_{A}$，其源极连接到 $Y$，漏极连接到内部节点 $N_{X}$，栅极由 $A$ 驱动。\n- 一个 NMOS 管 $N_{B}$，其源极连接到 $N_{X}$，漏极连接到 $G$，栅极由 $B$ 驱动。\n\n上拉网络 (PUN) 由三个在 $V_{\\mathrm{DD}}$ 和 $Y$ 之间并联的 PMOS 器件组成：\n- 一个 PMOS 管 $P_{A}$，其源极在 $V_{\\mathrm{DD}}$，漏极在 $Y$，栅极由 $A$ 驱动。\n- 一个 PMOS 管 $P_{B}$，其源极在 $V_{\\mathrm{DD}}$，漏极在 $Y$，栅极由 $B$ 驱动。\n- 一个 PMOS 管 $P_{C}$，其源极在 $V_{\\mathrm{DD}}$，漏极在 $Y$，栅极由 $C$ 驱动。\n\n假设以下用于基本原理推导的理想化静态解释：\n- 一个 NMOS 沟道导通当且仅当其栅极输入为逻辑 $1$；一个 PMOS 沟道导通当且仅当其栅极输入为逻辑 $0$。\n- 串联链导通当且仅当链中所有串联器件都导通；并联支路导通当且仅当至少有一个支路导通。\n- 如果存在任何通过 PDN 从 $Y$ 到 $G$ 的导通路径，则 $Y$ 处的逻辑值被解释为 $0$。如果不存在这样的路径，但至少存在一条通过 PUN 从 $V_{\\mathrm{DD}}$ 到 $Y$ 的导通路径，则 $Y$ 处的逻辑值被解释为 $1$。您可以假设器件尺寸和阈值设置使得任何 PUN 和 PDN 同时导通的情况在 $Y$ 处都会解析为有效的逻辑 $0$，并且对于给定的拓扑结构，不会出现 PUN 和 PDN 都不导通的情况。\n\n任务：\n- 仅使用上述基本器件导通规则和串并联抽象，识别出这个“所谓的或非门”相对于正确的双输入或非门实现存在的拓扑错误。特别是，要说明适用于双输入或非门的 PDN 和 PUN 之间的互补对称性是否得到满足或被违反，以及 PDN 和 PUN 之间是否存在任何不匹配的器件。\n- 根据这些原理，推导出给定拓扑实现的精确布尔函数 $Y(A,B,C)$，并将其化简为关于 $A$、$B$ 和 $C$ 的最小化闭式布尔表达式。\n- 您的最终答案必须是单一的闭式布尔表达式。不要提供真值表或等式。无需数值四舍五入。布尔或用 + 表示，布尔与用 $\\cdot$ 表示，布尔非用上划线表示。\n\n只提供最终的化简布尔表达式作为您的最终答案。",
            "solution": "该问题提供了一个静态CMOS逻辑单元的描述，并要求验证其所声称的“双输入或非门”功能，识别任何拓扑错误，并推导它实现的正确布尔函数。在尝试任何解决方案之前，必须先对问题陈述进行验证。\n\n### 问题验证\n\n**步骤1：提取给定信息**\n- **单元输入：** $A$、$B$、$C$。\n- **单元输出：** $Y$。\n- **电源轨：** $V_{\\mathrm{DD}}$ (电源)，$G$ (地)。\n- **体连接：** 所有 PMOS 体端接 $V_{\\mathrm{DD}}$，所有 NMOS 体端接 $G$。\n- **下拉网络 (PDN)：**\n    - NMOS 管 $N_{A}$：源极在 $Y$，漏极在内部节点 $N_{X}$，栅极由 $A$ 驱动。\n    - NMOS 管 $N_{B}$：源极在 $N_{X}$，漏极在 $G$，栅极由 $B$ 驱动。\n    这描述了 $N_A$ 和 $N_B$ 在 $Y$ 和 $G$ 之间的串联连接。请注意，对于下拉操作（电流从 $Y$ 流向 $G$），$N_A$ 的源极/漏极标签是不常规的；标准惯例会将 $Y$ 处的端子标记为漏极，将 $N_X$ 处的端子标记为源极。然而，串联链的拓扑描述是明确的。\n- **上拉网络 (PUN)：**\n    - PMOS 管 $P_{A}$：源极在 $V_{\\mathrm{DD}}$，漏极在 $Y$，栅极由 $A$ 驱动。\n    - PMOS 管 $P_{B}$：源极在 $V_{\\mathrm{DD}}$，漏极在 $Y$，栅极由 $B$ 驱动。\n    - PMOS 管 $P_{C}$：源极在 $V_{\\mathrm{DD}}$，漏极在 $Y$，栅极由 $C$ 驱动。\n    这是三个 PMOS 晶体管在 $V_{\\mathrm{DD}}$ 和 $Y$ 之间的并联连接。\n- **理想化逻辑求值规则：**\n    - NMOS 在其栅极为逻辑 $1$ 时导通。\n    - PMOS 在其栅极为逻辑 $0$ 时导通。\n    - 串联链在所有器件都导通时导通。\n    - 并联网络在至少一个器件导通时导通。\n    - 如果存在从 $Y$到 $G$ 的导通路径（PDN导通），则输出 $Y$ 为逻辑 $0$。\n    - 如果不存在到 $G$ 的路径，但存在从 $V_{\\mathrm{DD}}$ 到 $Y$ 的路径（PUN导通），则输出 $Y$ 为逻辑 $1$。\n    - PUN 和 PDN 同时导通导致 $Y=0$。\n    - 假设不会出现 PUN 和 PDN 都不导通的情况。\n\n**步骤2：使用提取的给定信息进行验证**\n- **科学依据：** 该问题牢固地植根于数字集成电路设计的原理中，特别是静态CMOS逻辑。晶体管模型是理想化的，但对于基本原理的布尔分析是标准的。所有概念（PUN、PDN、串并联网络、互补逻辑）都是该领域的基础。\n- **问题适定性：** 电路拓扑结构得到了完全描述。用于确定输出逻辑电平的规则是明确的，并且足以推导出一个唯一的布尔函数。任务清晰，并能得出一个单一、可验证的答案。\n- **客观性：** 问题以精确、技术性的语言陈述，没有主观性或歧义。\n\n**步骤3：结论与行动**\n该问题在科学上是合理的，问题适定、客观且内部一致。它被判定为**有效**。将推导解决方案。\n\n### 解决方案的推导\n\n分析过程首先确定 PDN 和 PUN 导通的布尔条件，然后识别相对于正确的双输入或非门存在的结构缺陷，最后推导该单元实现的实际逻辑函数。\n\n**1. 下拉网络 (PDN) 分析**\nPDN由两个 NMOS 晶体管 $N_A$ 和 $N_B$ 组成，它们在输出节点 $Y$ 和地 $G$ 之间串联。根据提供的规则，串联链导通当且仅当链中的所有器件都导通。\n- $N_A$ 在其栅极输入 $A$ 为逻辑 $1$ 时导通。\n- $N_B$ 在其栅极输入 $B$ 为逻辑 $1$ 时导通。\n因此，PDN 建立一条从 $Y$ 到 $G$ 的导通路径，当且仅当 $N_A$ 和 $N_B$ 都导通。PDN 导通的布尔表达式，我们记为 $F_{PDN}$，是其输入的逻辑与。\n$$F_{PDN} = A \\cdot B$$\n根据求值规则，如果 PDN 导通，输出 $Y$ 被拉到逻辑 $0$。因此，当 $A \\cdot B = 1$ 时，$Y=0$。\n\n**2. 上拉网络 (PUN) 分析**\nPUN由三个 PMOS 晶体管 $P_A$、$P_B$ 和 $P_C$ 组成，它们在电源轨 $V_{\\mathrm{DD}}$ 和输出节点 $Y$ 之间并联。并联网络在至少一个支路导通时导通。\n- $P_A$ 在其栅极输入 $A$ 为逻辑 $0$ 时导通，这对应于布尔条件 $\\bar{A}$。\n- $P_B$ 在其栅极输入 $B$ 为逻辑 $0$ 时导通，这对应于布尔条件 $\\bar{B}$。\n- $P_C$ 在其栅极输入 $C$ 为逻辑 $0$ 时导通，这对应于布尔条件 $\\bar{C}$。\n如果 $P_A$ 导通或 $P_B$ 导通或 $P_C$ 导通，PUN 就建立一条从 $V_{\\mathrm{DD}}$ 到 $Y$ 的导通路径。PUN 导通的布尔表达式 $F_{PUN}$ 是这些条件的逻辑或。\n$$F_{PUN} = \\bar{A} + \\bar{B} + \\bar{C}$$\n\n**3. 拓扑错误分析 vs. 正确的双输入或非门**\n该说法声claim此单元是一个“双输入或非门”。一个标准的静态互补CMOS双输入或非门实现函数 $Y = \\overline{A+B}$。其结构由德摩根对偶原理决定。\n- **正确的NOR2 PDN：** 要实现函数 $Y = \\overline{A+B}$，PDN 必须实现函数 $A+B$。这需要两个由输入 $A$ 和 $B$ 控制的 **并联** NMOS 晶体管。\n- **正确的NOR2 PUN：** PUN 必须是 PDN 的拓扑对偶。这需要两个由输入 $A$ 和 $B$ 控制的 **串联** PMOS 晶体管。\n\n将给定单元与此正确结构进行比较，揭示了几个关键的违规之处：\n- **PDN 拓扑违规：** 给定的 PDN 中其 NMOS 器件是串联的，实现了 $A \\cdot B$。而或非门要求它们并联以实现 $A+B$。该 PDN 的拓扑结构是一个与非门，而不是一个或非门。\n- **PUN 拓扑违规：** 给定的 PUN 中其 PMOS 器件是并联的。虽然标准的与非门其 PMOS 器件是并联的，但或非门要求它们是串联的。\n- **违反互补对称性：** 要使一个门完全互补，其 PUN 必须是其 PDN 的拓扑对偶，并且每个输入的晶体管必须一一对应。\n    - 给定 PDN (串联的 NMOS 管 $N_A$、$N_B$) 的对偶网络应该是一个由两个 PMOS 晶体管 $P_A$ 和 $P_B$ 组成的并联 PUN。\n    - 给定的 PUN 有三个并联的 PMOS 晶体管 ($P_A$、$P_B$、$P_C$）。\n    - 在 PUN 中存在由输入 $C$ 控制的晶体管 $P_C$，而在 PDN 中没有相应的晶体管，这直接违反了互补对称性。$P_C$ 是一个 **不匹配的器件**。\n- **输入数量不正确：** 该单元被描述为“双输入”门，但它有三个输入：$A$、$B$ 和 $C$。\n\n**4. 实际布尔函数 $Y(A,B,C)$ 的推导**\n输出逻辑电平由 PDN 和 PUN 的状态决定。\n- **$Y=0$ 的条件：** 如果 PDN 导通，无论 PUN 的状态如何（因为竞争会解析为 $0$），输出 $Y$ 都为逻辑 $0$。PDN 在 $F_{PDN} = A \\cdot B = 1$ 时导通。\n- **$Y=1$ 的条件：** 如果 PDN 不导通且 PUN 导通，输出 $Y$ 为逻辑 $1$。\n    - PDN 在 $F_{PDN} = 0$ 时不导通，这意味着 $\\overline{A \\cdot B} = 1$，即 $\\bar{A} + \\bar{B} = 1$。\n    - PUN 在 $F_{PUN} = \\bar{A} + \\bar{B} + \\bar{C} = 1$ 时导通。\n    - 我们必须检查 PDN 关闭的条件（$\\bar{A} + \\bar{B} = 1$）是否意味着 PUN 开启（$\\bar{A} + \\bar{B} + \\bar{C} = 1$）。如果 $\\bar{A} + \\bar{B} = 1$，那么在或运算中加上任何项 $\\bar{C}$，如 $(\\bar{A} + \\bar{B}) + \\bar{C}$，结果都会是 $1$。因此，只要 PDN 关闭，PUN 就保证是开启的。\n- **结论：**\n    - 如果 $A \\cdot B = 1$，则 $Y = 0$。\n    - 如果 $\\overline{A \\cdot B} = 1$，则 $Y = 1$。\n这两个条件完全定义了输出函数。该函数为 $1$ 当且仅当条件 $A \\cdot B$ 为假。根据定义，这就是与非函数。\n$$Y(A,B,C) = \\overline{A \\cdot B}$$\n输入 $C$ 对输出 $Y$ 的稳态逻辑功能没有影响。其唯一影响是在 $A=1$，$B=1$ 和 $C=0$ 时，在 $V_{\\mathrm{DD}}$ 和 $G$ 之间（通过 $P_C$、$N_A$ 和 $N_B$）创建了一条直接通路，导致静态功耗，这是不希望发生的，但根据所述的竞争解决规则，它不会改变逻辑输出值。因此，实现的最小化闭式布尔表达式与 $C$ 无关。\n\n最终答案：输出 $Y$ 的化简布尔表达式为 $\\overline{A \\cdot B}$。",
            "answer": "$$\n\\boxed{\\overline{A \\cdot B}}\n$$"
        },
        {
            "introduction": "一个逻辑正确的电路还不足够，它还必须足够快，而延迟优化是电路设计中的一个关键挑战。逻辑努力（Logical Effort）理论为分析和最小化数字电路的延迟提供了一个强大而简洁的模型。本练习将指导你解决一个典型的优化问题：如何以最小的延迟驱动一个大电容负载。你将亲自推导反相器链的最佳级数和尺寸，从而获得关于延迟、扇出和级努力之间基本权衡的实践经验。",
            "id": "4258452",
            "problem": "在一个互补金属氧化物半导体（CMOS）数字芯片中，一条长全局互连线必须从一个最小尺寸反相器的输入端驱动一个大的电容负载。该路径实现为一串相同的逻辑门原语（具体为反相器）组成的链，无分支。在一个标准的逻辑努力框架中，为每一级定义逻辑努力 $g$、电学努力（扇出）$h$、分支努力 $b$ 和级努力 $f = g b h$。以一个工艺常数为单位的路径延迟模型是各级努力与寄生延迟的总和。假设对于最小尺寸反相器，有以下经过工艺校准的事实：反相器的逻辑努力为 $g = 1$，其寄生延迟为 $p_{\\mathrm{inv}} = 1$。路径上没有分支，因此每一级的 $b = 1$。\n\n链中第一个反相器的输入电容为 $C_{\\mathrm{in}}$，最终负载电容为 $C_{\\mathrm{L}}$。总电学努力为 $H = C_{\\mathrm{L}}/C_{\\mathrm{in}}$。对于此设计，负载为 $C_{\\mathrm{L}} = 1024\\,C_{\\mathrm{in}}$，因此 $H = 1024$。\n\n从逻辑努力和路径延迟模型的定义出发，不假设任何目标公式，完成以下任务：\n\n1. 对于固定的级数 $N$，推导使总路径延迟最小化的每级电学努力 $h_{i}$ 所需满足的条件，并用 $H$ 和 $N$ 表示最小化后的级努力 $f$ 和电学努力 $h$。\n2. 将 $N$ 连续松弛到正实数，确定使所得延迟表达式最小化的实数值 $N$。然后，考虑到级数必须为整数的约束，通过在连续最小值点附近的一个小邻域内进行直接比较，确定最优整数 $N^{\\star}$。\n3. 对于最优整数 $N^{\\star}$，计算每级的最优电学努力（扇出）$h^{\\star}$。\n\n以包含最优级数 $N^{\\star}$ 和每级最优电学努力 $h^{\\star}$ 的行向量形式提供最终答案。无需四舍五入；请提供精确值。",
            "solution": "首先验证问题，以确保其具有科学依据、是良定的且客观的。\n\n### 步骤 1：提取已知条件\n- 电路是由 $N$ 个相同反相器组成的无分支路径。\n- 反相器的逻辑努力：$g = 1$。\n- 反相器的寄生延迟：$p_{\\mathrm{inv}} = 1$。\n- 分支努力：$b = 1$。\n- 级努力定义：$f_i = g_i b_i h_i$。\n- 路径延迟模型：$D = \\sum_{i=1}^{N} f_i + \\sum_{i=1}^{N} p_i$。\n- 第一级的输入电容：$C_{\\mathrm{in}}$。\n- 负载电容：$C_{\\mathrm{L}}$。\n- 总电学努力：$H = C_{\\mathrm{L}}/C_{\\mathrm{in}}$。\n- 给定的总电学努力值：$H = 1024$。\n\n### 步骤 2：使用提取的已知条件进行验证\n- **科学依据：** 该问题使用了标准的逻辑努力模型，这是数字超大规模集成（VLSI）电路时序分析的基石。逻辑努力、电学努力、寄生延迟和路径延迟模型的定义都是标准且正确的。$g=1$ 和 $p_{\\mathrm{inv}}=1$ 是最小尺寸反相器的常规归一化值。\n- **良定性：** 该问题是一个经典的优化任务：通过选择级数和每一级的尺寸，在给定的总电学努力下最小化路径延迟。已知该问题有唯一、稳定且有意义的解。\n- **客观性：** 该问题以精确、定量的术语陈述，没有模糊性或主观因素。\n- **结论：** 该问题是有效的，因为它一致、完整，并根植于电气工程的既定原则。\n\n### 步骤 3：判定与行动\n问题有效。将提供完整解答。\n\n### 第 1 部分：最小延迟条件的推导\n对于一个由 $N$ 级组成的链，总路径延迟 $D$ 是每一级延迟的总和。第 $i$ 级的延迟（记为 $d_i$）是其努力延迟和寄生延迟之和。\n$$d_i = f_i + p_i$$\n鉴于每一级都是反相器，逻辑努力为 $g_i = g = 1$，寄生延迟为 $p_i = p_{\\mathrm{inv}} = 1$。由于没有分支，分支努力为 $b_i = b = 1$。\n第 $i$ 级的级努力为：\n$$f_i = g_i b_i h_i = (1)(1)h_i = h_i$$\n其中 $h_i = C_{\\mathrm{out},i} / C_{\\mathrm{in},i}$ 是第 $i$ 级的电学努力（扇出）。因此，总路径延迟为：\n$$D = \\sum_{i=1}^{N} d_i = \\sum_{i=1}^{N} (h_i + 1) = \\left(\\sum_{i=1}^{N} h_i\\right) + N$$\n总电学努力 $H$ 是最终负载电容 $C_{\\mathrm{L}}$ 与第一级输入电容 $C_{\\mathrm{in},1}$ 的比值。在反相器链中，第 $i$ 级的输出电容是第 $i+1$ 级的输入电容，因此 $C_{\\mathrm{out},i} = C_{\\mathrm{in},i+1}$。\n$$H = \\frac{C_{\\mathrm{L}}}{C_{\\mathrm{in},1}} = \\frac{C_{\\mathrm{in},N+1}}{C_{\\mathrm{in},1}} = \\left(\\frac{C_{\\mathrm{in},2}}{C_{\\mathrm{in},1}}\\right) \\left(\\frac{C_{\\mathrm{in},3}}{C_{\\mathrm{in},2}}\\right) \\cdots \\left(\\frac{C_{\\mathrm{in},N+1}}{C_{\\mathrm{in},N}}\\right)$$\n根据定义，$h_i = C_{\\mathrm{in},i+1}/C_{\\mathrm{in},i}$。因此，对各级电学努力的约束条件是：\n$$H = \\prod_{i=1}^{N} h_i$$\n为了在级数 $N$ 固定的情况下最小化延迟 $D$，我们需要在它们的乘积为常数 $H$ 的约束下，最小化总和 $\\sum_{i=1}^{N} h_i$。\n我们使用算术-几何平均值（AM-GM）不等式，该不等式指出，对于非负数 $h_1, h_2, \\ldots, h_N$：\n$$\\frac{h_1 + h_2 + \\cdots + h_N}{N} \\ge \\sqrt[N]{h_1 h_2 \\cdots h_N}$$\n$$\\frac{1}{N}\\sum_{i=1}^{N} h_i \\ge \\left(\\prod_{i=1}^{N} h_i\\right)^{1/N}$$\n代入约束条件 $\\prod h_i = H$：\n$$\\frac{1}{N}\\sum_{i=1}^{N} h_i \\ge H^{1/N}$$\n$$\\sum_{i=1}^{N} h_i \\ge N H^{1/N}$$\n当且仅当所有项相等时，等号成立，此时总和达到最小值：\n$$h_1 = h_2 = \\cdots = h_N$$\n这是最小延迟的条件。设这个公共值为 $h$。约束条件变为 $h^N = H$，这意味着 $h = H^{1/N}$。相应的级努力为 $f = gbh = h = H^{1/N}$。\n\n### 第 2 部分：最优级数 $N$ 的确定\n对于固定的 $N$，采用最优尺寸时，路径延迟为：\n$$D(N) = N h + N = N H^{1/N} + N$$\n为了找到使此延迟最小化的 $N$ 值，我们将 $N$ 松弛为一个正实数，并通过将其关于 $N$ 的导数设为零来找到 $D(N)$ 的最小值。\n我们可以将 $N H^{1/N}$ 写为 $N \\exp\\left(\\frac{\\ln H}{N}\\right)$。\n使用乘积法则进行微分：\n$$\\frac{d}{dN}(N H^{1/N}) = 1 \\cdot H^{1/N} + N \\cdot \\frac{d}{dN}\\left(\\exp\\left(\\frac{\\ln H}{N}\\right)\\right)$$\n$$= H^{1/N} + N \\cdot \\exp\\left(\\frac{\\ln H}{N}\\right) \\cdot \\left(-\\frac{\\ln H}{N^2}\\right) = H^{1/N} - H^{1/N}\\frac{\\ln H}{N} = H^{1/N}\\left(1 - \\frac{\\ln H}{N}\\right)$$\n延迟 $D(N)$ 的全导数为：\n$$\\frac{dD}{dN} = H^{1/N}\\left(1 - \\frac{\\ln H}{N}\\right) + 1$$\n令 $\\frac{dD}{dN} = 0$，并定义最优级努力 $\\rho = H^{1/N}$，我们可以写出 $\\ln \\rho = \\frac{\\ln H}{N}$。将此代入方程：\n$$\\rho(1 - \\ln \\rho) + 1 = 0 \\implies \\ln \\rho = 1 + \\frac{1}{\\rho}$$\n这个超越方程确定了能提供最小可能延迟的最优级努力 $\\rho$。其解约为 $\\rho \\approx 3.5911$。最优级数（作为实数）是 $N_{\\mathrm{real}} = \\frac{\\ln H}{\\ln \\rho}$。\n给定 $H = 1024$，我们有 $\\ln H = \\ln(1024) = \\ln(2^{10}) = 10\\ln 2 \\approx 6.931$。使用 $\\ln \\rho \\approx \\ln(3.5911) \\approx 1.2785$，我们发现 $N_{\\mathrm{real}} \\approx \\frac{6.931}{1.2785} \\approx 5.42$。\n由于级数 $N$ 必须是整数，最优整数 $N^{\\star}$ 将是与 $N_{\\mathrm{real}}$ 相邻的整数之一，即 $N=5$ 或 $N=6$。我们比较这两种情况下的延迟。\n延迟函数为 $D(N) = N \\cdot (1024)^{1/N} + N$。\n\n当 $N=5$ 时：\n$h_5 = 1024^{1/5} = (2^{10})^{1/5} = 2^{10/5} = 2^2 = 4$\n$$D(5) = 5 \\cdot h_5 + 5 = 5 \\cdot 4 + 5 = 20 + 5 = 25$$\n\n当 $N=6$ 时：\n$h_6 = 1024^{1/6} = (2^{10})^{1/6} = 2^{10/6} = 2^{5/3}$\n$$D(6) = 6 \\cdot h_6 + 6 = 6 \\cdot 2^{5/3} + 6$$\n为了比较 $D(5)$ 和 $D(6)$，我们比较 $25$ 与 $6 \\cdot 2^{5/3} + 6$。\n这等价于比较 $19$ 与 $6 \\cdot 2^{5/3}$，或者 $\\frac{19}{6}$ 与 $2^{5/3}$。\n我们对两边取立方以消除分数指数：\n$$\\left(\\frac{19}{6}\\right)^3 = \\frac{19^3}{6^3} = \\frac{6859}{216} \\approx 31.754$$\n$$\\left(2^{5/3}\\right)^3 = 2^5 = 32$$\n由于 $31.754  32$，我们有 $\\left(\\frac{19}{6}\\right)^3  \\left(2^{5/3}\\right)^3$，这意味着 $\\frac{19}{6}  2^{5/3}$。\n因此，$19  6 \\cdot 2^{5/3}$，两边同时加上 $6$ 得到 $25  6 \\cdot 2^{5/3} + 6$。\n所以，$D(5)  D(6)$。\n最优整数级数是 $N^{\\star} = 5$。\n\n### 第 3 部分：每级最优电学努力\n对于最优整数级数 $N^{\\star} = 5$，每级的最优电学努力 $h^{\\star}$ 使用第 1 部分中推导的公式计算得出：\n$$h^{\\star} = H^{1/N^{\\star}} = 1024^{1/5}$$\n$$h^{\\star} = (2^{10})^{1/5} = 2^{10/5} = 2^2 = 4$$\n每级的最优电学努力为 $h^{\\star} = 4$。\n\n最终答案是包含最优级数 $N^{\\star}$ 和每级最优电学努力 $h^{\\star}$ 的行向量。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix} 5  4 \\end{pmatrix}\n}\n$$"
        }
    ]
}