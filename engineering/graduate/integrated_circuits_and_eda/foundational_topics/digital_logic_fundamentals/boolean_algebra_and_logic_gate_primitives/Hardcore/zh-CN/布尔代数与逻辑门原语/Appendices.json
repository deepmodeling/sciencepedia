{
    "hands_on_practices": [
        {
            "introduction": "布尔代数与物理实现之间的鸿沟由晶体管电路填补。这项实践将带你深入底层，从一个给定的晶体管级CMOS电路原理图出发，基于晶体管导通的物理第一性原理，推导出其实现的真实逻辑功能。通过分析这个被错误标记的电路，你将学会如何识别电路拓扑结构中的设计缺陷（例如违反互补对称性），并巩固从物理结构到逻辑功能的正向推理能力，这是数字集成电路设计的基础。",
            "id": "4258463",
            "problem": "一个硅技术团队在一张原理图上将一个小型静态互补金属氧化物半导体（CMOS）单元标注为“双输入或非门”。要求您根据晶体管导通和串并联网络抽象的基本原理来验证这一说法，如果该说法错误，则需识别出精确的拓扑违规之处，并推导出输出端实现的实际布尔函数。\n\n该单元有三个输入 $A$、$B$ 和 $C$，一个电源轨 $V_{\\mathrm{DD}}$，地 $G$，以及一个单输出节点 $Y$。体连接是常规的：所有 $p$ 沟道金属氧化物半导体场效应晶体管（PMOS）的体端都连接到 $V_{\\mathrm{DD}}$，所有 $n$ 沟道金属氧化物半导体场效应晶体管（NMOS）的体端都连接到 $G$。\n\n下拉网络（PDN）由以下部分组成：\n- 一个 NMOS $N_{A}$，其源极连接到 $Y$，漏极连接到内部节点 $N_{X}$，栅极由 $A$ 驱动。\n- 一个 NMOS $N_{B}$，其源极连接到 $N_{X}$，漏极连接到 $G$，栅极由 $B$ 驱动。\n\n上拉网络（PUN）由三个并联在 $V_{\\mathrm{DD}}$ 和 $Y$ 之间的 PMOS 器件组成：\n- 一个 PMOS $P_{A}$，其源极在 $V_{\\mathrm{DD}}$，漏极在 $Y$，栅极由 $A$ 驱动。\n- 一个 PMOS $P_{B}$，其源极在 $V_{\\mathrm{DD}}$，漏极在 $Y$，栅极由 $B$ 驱动。\n- 一个 PMOS $P_{C}$，其源极在 $V_{\\mathrm{DD}}$，漏极在 $Y$，栅极由 $C$ 驱动。\n\n假设采用以下理想化的静态解释进行逻辑求值，适用于基于第一性原理的推理：\n- 当且仅当其栅极输入等于逻辑 $1$ 时，NMOS 沟道导通；当且仅当其栅极输入等于逻辑 $0$ 时，PMOS 沟道导通。\n- 当且仅当串联链中的所有串联器件都导通时，该串联链才导通；当且仅当至少有一个并联支路导通时，并联支路才导通。\n- 如果存在从 $Y$ 通过 PDN 到 $G$ 的任何导通路径，则 $Y$ 处的逻辑值解释为 $0$。如果不存在这样的路径，但存在至少一条从 $V_{\\mathrm{DD}}$ 通过 PUN 到 $Y$ 的导通路径，则 $Y$ 处的逻辑值解释为 $1$。您可以假设器件尺寸和阈值设置使得任何 PUN 和 PDN 同时导通的情况都会在 $Y$ 处解析为有效的逻辑 $0$，并且对于给定的拓扑，不会出现 PUN 和 PDN 都不导通的情况。\n\n任务：\n- 仅使用上述基本器件导通规则和串并联抽象，识别出这个“所谓的或非门”相对于正确的双输入或非门实现中的拓扑错误。特别要说明，适用于双输入或非门的 PDN 和 PUN 之间的互补对称性是被满足还是被违反，以及在 PDN 和 PUN 之间是否存在任何不匹配的器件。\n- 从这些原理出发，推导出给定拓扑所实现的精确布尔函数 $Y(A,B,C)$，并将其化简为关于 $A$、$B$ 和 $C$ 的最小闭式布尔表达式。\n- 您的最终答案必须是一个单一的闭式布尔表达式。不要提供真值表或等式。不需要数值四舍五入。用 $+$ 表示布尔或，用 $\\cdot$ 表示布尔与，用上划线表示布尔补。\n\n仅提供最终的简化布尔表达式作为您的最终答案。",
            "solution": "题目提供了一个静态 CMOS 逻辑单元的描述，并要求验证其所声称的“双输入或非门”功能，识别任何拓扑错误，并推导其实现的正确布尔函数。在尝试任何解决方案之前，必须先对问题陈述进行验证。\n\n### 问题验证\n\n**步骤 1：提取已知条件**\n- **单元输入：** $A$、$B$、$C$。\n- **单元输出：** $Y$。\n- **电源轨：** $V_{\\mathrm{DD}}$ (电源)，$G$ (地)。\n- **体连接：** 所有 PMOS 的体端连接到 $V_{\\mathrm{DD}}$，所有 NMOS 的体端连接到 $G$。\n- **下拉网络 (PDN)：**\n    - NMOS $N_{A}$：源极在 $Y$，漏极在内部节点 $N_{X}$，栅极由 $A$ 驱动。\n    - NMOS $N_{B}$：源极在 $N_{X}$，漏极在 $G$，栅极由 $B$ 驱动。\n    这描述了 $N_A$ 和 $N_B$ 在 $Y$ 和 $G$ 之间串联。请注意，$N_A$ 的源/漏极标签对于下拉操作来说是不常规的，因为电流是从 $Y$ 流向 $G$；标准惯例会将 $Y$ 处的端子标记为漏极，将 $N_X$ 处的端子标记为源极。然而，串联链的拓扑描述是明确的。\n- **上拉网络 (PUN)：**\n    - PMOS $P_{A}$：源极在 $V_{\\mathrm{DD}}$，漏极在 $Y$，栅极由 $A$ 驱动。\n    - PMOS $P_{B}$：源极在 $V_{\\mathrm{DD}}$，漏极在 $Y$，栅极由 $B$ 驱动。\n    - PMOS $P_{C}$：源极在 $V_{\\mathrm{DD}}$，漏极在 $Y$，栅极由 $C$ 驱动。\n    这是三个 PMOS 晶体管在 $V_{\\mathrm{DD}}$ 和 $Y$ 之间并联。\n- **理想化逻辑求值规则：**\n    - NMOS 在其栅极为逻辑 $1$ 时导通。\n    - PMOS 在其栅极为逻辑 $0$ 时导通。\n    - 串联链在所有器件都导通时导通。\n    - 并联网络在至少一个器件导通时导通。\n    - 如果存在从 $Y$到 $G$ 的导通路径（PDN 导通），则输出 $Y$ 为逻辑 $0$。\n    - 如果不存在到 $G$ 的路径，但存在从 $V_{\\mathrm{DD}}$ 到 $Y$ 的路径（PUN 导通），则输出 $Y$ 为逻辑 $1$。\n    - PUN 和 PDN 同时导通导致 $Y=0$。\n    - 假设不会出现 PUN 和 PDN 都不导通的情况。\n\n**步骤 2：使用提取的已知条件进行验证**\n- **科学依据：** 该问题牢固地植根于数字集成电路设计的原理，特别是静态 CMOS 逻辑。晶体管模型是理想化的，但对于基于第一性原理的布尔分析是标准的。所有概念（PUN、PDN、串/并联网络、互补逻辑）都是该领域的基础。\n- **问题明确：** 电路拓扑被完整描述。确定输出逻辑电平的规则是明确的，足以推导出唯一的布尔函数。任务清晰，并导向一个单一、可验证的答案。\n- **客观性：** 问题以精确、技术性的语言陈述，没有主观性或模糊性。\n\n**步骤 3：结论和行动**\n该问题科学合理、问题明确、客观且内部一致。判定为**有效**。将推导解决方案。\n\n### 解决方案推导\n\n分析过程首先确定 PDN 和 PUN 导通的布尔条件，然后识别相对于正确的双输入或非门存在的结构缺陷，最后推导出该单元实现的实际逻辑函数。\n\n**1. 下拉网络 (PDN) 分析**\nPDN 由两个 NMOS 晶体管 $N_A$ 和 $N_B$ 组成，它们在输出节点 $Y$ 和地 $G$ 之间串联。根据所提供的规则，串联链当且仅当链中的所有器件都导通时才导通。\n- 如果其栅极输入 $A$ 为逻辑 $1$，$N_A$ 导通。\n- 如果其栅极输入 $B$ 为逻辑 $1$，$N_B$ 导通。\n因此，当且仅当 $N_A$ 和 $N_B$ 都导通时，PDN 才会建立从 $Y$到 $G$ 的导通路径。PDN 导通的布尔表达式，我们记为 $F_{PDN}$，是其输入的逻辑与。\n$$F_{PDN} = A \\cdot B$$\n根据求值规则，如果 PDN 导通，输出 $Y$ 被拉至逻辑 $0$。因此，当 $A \\cdot B = 1$ 时，$Y=0$。\n\n**2. 上拉网络 (PUN) 分析**\nPUN 由三个 PMOS 晶体管 $P_A$、$P_B$ 和 $P_C$ 组成，它们在电源轨 $V_{\\mathrm{DD}}$ 和输出节点 $Y$ 之间并联。并联网络在其至少一个支路导通时导通。\n- 如果其栅极输入 $A$ 为逻辑 $0$，$P_A$ 导通，这对应于布尔条件 $\\bar{A}$。\n- 如果其栅极输入 $B$ 为逻辑 $0$，$P_B$ 导通，这对应于布尔条件 $\\bar{B}$。\n- 如果其栅极输入 $C$ 为逻辑 $0$，$P_C$ 导通，这对应于布尔条件 $\\bar{C}$。\n如果 $P_A$ 导通或 $P_B$ 导通或 $P_C$ 导通，PUN 就会建立从 $V_{\\mathrm{DD}}$ 到 $Y$ 的导通路径。PUN 导通的布尔表达式 $F_{PUN}$ 是这些条件的逻辑或。\n$$F_{PUN} = \\bar{A} + \\bar{B} + \\bar{C}$$\n\n**3. 拓扑错误分析与正确的双输入或非门对比**\n该说法称此单元是“双输入或非门”。一个标准的静态互补 CMOS 双输入或非门实现函数 $Y = \\overline{A+B}$。其结构由 De Morgan 对偶性原理决定。\n- **正确的 NOR2 PDN：** 为了实现函数 $Y = \\overline{A+B}$，PDN 必须实现函数 $A+B$。这需要两个由输入 $A$ 和 $B$ 控制的**并联** NMOS 晶体管。\n- **正确的 NOR2 PUN：** PUN 必须是 PDN 的拓扑对偶。这需要两个由输入 $A$ 和 $B$ 控制的**串联** PMOS 晶体管。\n\n将给定单元与此正确结构进行比较，揭示了几个关键的违规之处：\n- **PDN 拓扑违规：** 给定的 PDN 的 NMOS 器件是串联的，实现了 $A \\cdot B$。而或非门要求它们并联以实现 $A+B$。该 PDN 的拓扑是与非门的拓扑，而不是或非门的。\n- **PUN 拓扑违规：** 给定的 PUN 的 PMOS 器件是并联的。虽然标准的与非门其 PMOS 器件是并联的，但或非门要求它们串联。\n- **违反互补对称性：** 要使一个门完全互补，其 PUN 必须是其 PDN 的拓扑对偶，并且每个输入都必须有晶体管的一一对应关系。\n    - 给定 PDN（串联的 NMOS $N_A$、$N_B$）的对偶将是一个具有两个 PMOS 晶体管 $P_A$ 和 $P_B$ 的并联 PUN。\n    - 给定的 PUN 有三个并联的 PMOS 晶体管（$P_A$、$P_B$、$P_C$）。\n    - 在 PUN 中存在由输入 $C$ 控制的晶体管 $P_C$，而在 PDN 中没有相应的晶体管，这直接违反了互补对称性。$P_C$ 是一个**不匹配的器件**。\n- **输入数量不正确：** 该单元被描述为“双输入”门，但它有三个输入：$A$、$B$ 和 $C$。\n\n**4. 实际布尔函数 $Y(A,B,C)$ 的推导**\n输出逻辑电平由 PDN 和 PUN 的状态决定。\n- **$Y=0$ 的条件：** 如果 PDN 导通，则输出 $Y$ 为逻辑 $0$，无论 PUN 的状态如何（因为竞争状态被解析为 $0$）。当 $F_{PDN} = A \\cdot B = 1$ 时，PDN 导通。\n- **$Y=1$ 的条件：** 如果 PDN 不导通且 PUN 导通，则输出 $Y$ 为逻辑 $1$。\n    - 如果 $F_{PDN} = 0$，即 $\\overline{A \\cdot B} = 1$ 或 $\\bar{A} + \\bar{B} = 1$，则 PDN 不导通。\n    - 如果 $F_{PUN} = \\bar{A} + \\bar{B} + \\bar{C} = 1$，则 PUN 导通。\n    - 我们必须检查 PDN 关闭的条件（$\\bar{A} + \\bar{B} = 1$）是否意味着 PUN 开启（$\\bar{A} + \\bar{B} + \\bar{C} = 1$）。如果 $\\bar{A} + \\bar{B} = 1$，那么在或运算中加上任何项 $\\bar{C}$，如 $(\\bar{A} + \\bar{B}) + \\bar{C}$，结果将为 $1$。因此，只要 PDN 关闭，PUN 就保证开启。\n- **结论：**\n    - 如果 $A \\cdot B = 1$，则 $Y = 0$。\n    - 如果 $\\overline{A \\cdot B} = 1$，则 $Y = 1$。\n这两个条件完全定义了输出函数。当且仅当条件 $A \\cdot B$ 为假时，函数为 $1$。根据定义，这是与非函数。\n$$Y(A,B,C) = \\overline{A \\cdot B}$$\n输入 $C$ 对输出 $Y$ 的稳态逻辑函数没有影响。其唯一影响是在 $A=1$、$B=1$ 和 $C=0$ 时，通过 $P_C$、$N_A$ 和 $N_B$ 建立一条从 $V_{\\mathrm{DD}}$ 到 $G$ 的直接路径，导致静态功耗，这是不希望出现的，但根据所述的竞争解决规则，这不会改变逻辑输出值。因此，所实现函数的最小闭式布尔表达式与 $C$ 无关。\n\n最终答案：输出 $Y$ 的简化布尔表达式为 $\\overline{A \\cdot B}$。",
            "answer": "$$\n\\boxed{\\overline{A \\cdot B}}\n$$"
        },
        {
            "introduction": "同一布尔函数可以有多种代数表示形式，选择哪一种形式会直接影响最终电路的成本（如面积和功耗）。这项实践聚焦于一个重要的例子：奇偶校验函数，并要求你比较两种截然不同的逻辑综合方法。你将首先推导其正极性Reed-Muller (PPRM) 展开式（一种基于异或运算的表示），然后将其与传统的最小“与或”积之和 (SOP) 形式进行对比，最终根据给定的单元库计算并比较两种实现的面积成本，从而深刻理解不同逻辑表示在硬件实现上的优劣。",
            "id": "4258450",
            "problem": "一个四输入布尔函数 $f:\\{0,1\\}^{4}\\to\\{0,1\\}$ 在输入 $(x_{3},x_{2},x_{1},x_{0})$ 上被定义为奇校验函数：当且仅当输入中恰好有奇数个1时，$f(x_{3},x_{2},x_{1},x_{0})=1$，否则 $f(x_{3},x_{2},x_{1},x_{0})=0$。\n\n仅使用二元伽罗瓦域（即环 $\\mathbb{F}_{2}$，其中加法为异或，乘法为逻辑与）上的布尔代数基本定律，从第一性原理推导函数 $f$ 的正极性Reed-Muller (PPRM) 展开式。该展开式定义为在 $\\mathbb{F}_{2}$ 上关于非互补变量 $x_{3},x_{2},x_{1},x_{0}$ 的唯一多项式，形式如下：\n$$\nf(x_{3},x_{2},x_{1},x_{0})=\\bigoplus_{S\\subseteq\\{0,1,2,3\\}} c_{S}\\,\\prod_{i\\in S} x_{i},\n$$\n其中系数 $c_{S}\\in\\{0,1\\}$，并约定空积为1。\n\n然后，考虑一个标准单元库，其中包含原生的双输入异或门 (XOR2)、双输入与门 (AND2)、双输入或门 (OR2) 和反相器 (INV) 单元。这些单元的面积成本如下：\n- XOR2：$5$ 个面积单位，\n- AND2：$2$ 个面积单位，\n- OR2：$2$ 个面积单位，\n- INV：$1$ 个面积单位。\n\n多输入与函数和或函数必须实现为双输入门的树形结构。输入的补可以由反相器生成，并在所有需要它们的乘积项之间共享。\n\n用两种方式实现 $f$：\n- 使用推导出的PPRM表达式，严格地用XOR2和AND2门（仅当推导出的表达式需要时才使用INV）实现其PPRM网络。\n- 作为最小化双层积之和 (SOP) 网络，对互补文字使用共享反相器，用AND2树构成每个乘积项，并用OR2树将所有乘积项求和。\n\n在给定的成本模型下，计算每种实现的总面积，并提供最小化双层SOP面积与PPRM面积的比率，该比率应为一个单独的数字。无需四舍五入。你的最终答案必须是这个比率，作为一个不带单位的精确数字。",
            "solution": "问题要求推导一个四输入奇校验函数的正极性Reed-Muller (PPRM) 展开式和最小化双层积之和 (SOP) 实现，然后比较它们的实现面积。\n\n该函数为 $f:\\{0,1\\}^{4}\\to\\{0,1\\}$，作用于输入 $(x_{3},x_{2},x_{1},x_{0})$。根据定义，当且仅当奇数个输入为1时，$f(x_{3},x_{2},x_{1},x_{0})=1$。这就是异或 (XOR) 函数。\n\n### 第1部分：PPRM展开式的推导\n\n问题指定使用二元伽罗瓦域 $\\mathbb{F}_{2}$ 上的布尔代数，其中加法是异或 ($\\oplus$)，乘法是逻辑与。PPRM展开式是此代数中一个仅使用非互补变量的多项式。其一般形式为：\n$$\nf(x_{3},x_{2},x_{1},x_{0})=\\bigoplus_{S\\subseteq\\{0,1,2,3\\}} c_{S}\\,\\prod_{i\\in S} x_{i}\n$$\n其中系数 $c_{S} \\in \\{0,1\\}$ 是常数。项 $\\prod_{i\\in S} x_{i}$ 表示索引在集合 $S$ 中的变量的逻辑与，空积（当 $S=\\emptyset$ 时）定义为 $1$。\n\n系数 $c_S$ 可以根据以下关系式从第一性原理推导出来：\n$$\nc_S = \\bigoplus_{T \\subseteq S} f(v_T)\n$$\n其中 $v_T$ 是输入向量 $(x_3, x_2, x_1, x_0)$，满足当 $i \\in T$ 时 $x_i=1$，当 $i \\notin T$ 时 $x_i=0$。如果 $v_T$ 中1的个数（即 $|T|$）为奇数，则函数 $f(v_T)$ 为1。否则，$f(v_T)=0$。因此，系数的表达式简化为：\n$$\nc_S = \\bigoplus_{T \\subseteq S, |T|\\text{ is odd}} 1\n$$\n这个和等价于计算 $S$ 的奇数基数子集的数量，模2。令 $|S|=k$。$S$ 的大小为 $j$ 的子集数量是 $\\binom{k}{j}$。奇数基数子集的总数是 $\\sum_{j \\text{ odd}} \\binom{k}{j}$。根据二项式定理，我们知道对于 $k \\ge 1$：\n$$\n\\sum_{j \\text{ odd}} \\binom{k}{j} = \\binom{k}{1} + \\binom{k}{3} + \\dots = 2^{k-1}\n$$\n所以，$c_S = (2^{k-1}) \\pmod 2$。\n\n我们针对不同的 $k=|S|$ 值进行评估：\n- 对于 $S = \\emptyset$，$k=0$。奇数基数子集集合为空，因此和为0。所以，$c_{\\emptyset}=0$。\n- 对于 $|S|=1$ （即 $S=\\{0\\}, \\{1\\}, \\{2\\}, \\{3\\}$），$k=1$。$c_S = (2^{1-1}) \\pmod 2 = 2^0 \\pmod 2 = 1 \\pmod 2 = 1$。所以，$c_{\\{0\\}}=c_{\\{1\\}}=c_{\\{2\\}}=c_{\\{3\\}}=1$。\n- 对于 $|S| \\geq 2$ （例如，$S=\\{0,1\\}$），$k \\geq 2$。那么 $k-1 \\geq 1$，所以 $2^{k-1}$ 是一个偶数。因此，$c_S = (2^{k-1}) \\pmod 2 = 0$。\n\n唯一的非零系数是对于单元素集合的。将这些系数代回通用的PPRM形式，得到：\n$$\nf(x_{3},x_{2},x_{1},x_{0}) = c_{\\{0\\}}x_0 \\oplus c_{\\{1\\}}x_1 \\oplus c_{\\{2\\}}x_2 \\oplus c_{\\{3\\}}x_3 = 1 \\cdot x_0 \\oplus 1 \\cdot x_1 \\oplus 1 \\cdot x_2 \\oplus 1 \\cdot x_3\n$$\n推导出的4输入奇校验函数的PPRM展开式为：\n$$\nf(x_{3},x_{2},x_{1},x_{0}) = x_3 \\oplus x_2 \\oplus x_1 \\oplus x_0\n$$\n\n### 第2部分：PPRM实现的面积\n\nPPRM表达式 $x_3 \\oplus x_2 \\oplus x_1 \\oplus x_0$ 是一个4输入异或函数。它不包含（阶数大于1的）与项，也没有互补变量，因此其直接实现不需要AND2或INV门。我们必须使用双输入异或 (XOR2) 门的树形结构来实现这个4输入异或函数。一个平衡的树形结构是高效的：\n- 一个XOR2门计算 $y_1 = x_1 \\oplus x_0$。\n- 第二个XOR2门计算 $y_2 = x_3 \\oplus x_2$。\n- 第三个XOR2门计算最终输出 $f = y_1 \\oplus y_2$。\n这总共需要3个XOR2门。\n一个XOR2门的面积成本为5个面积单位。\n面积(PPRM) = $3 \\times \\text{面积(XOR2)} = 3 \\times 5 = 15$ 个面积单位。\n\n### 第3部分：最小化SOP实现的面积\n\n为了找到最小化双层积之和 (SOP) 实现，我们使用关于变量 $(x_3, x_2, x_1, x_0)$ 的卡诺图。对于所有具有奇数个1的输入组合，该函数值为1。这些对应于最小项 $m_1, m_2, m_4, m_7, m_8, m_{11}, m_{13}, m_{14}$。\n4变量卡诺图如下：\n$$\n\\begin{array}{c|cccc}\n\\large{x_3x_2 \\backslash x_1x_0}  \\bf{00}  \\bf{01}  \\bf{11}  \\bf{10} \\\\\n\\hline\n\\bf{00}  0  1  0  1 \\\\\n\\bf{01}  1  0  1  0 \\\\\n\\bf{11}  0  1  0  1 \\\\\n\\bf{10}  1  0  1  0 \\\\\n\\end{array}\n$$\n这个卡诺图呈现出“棋盘”模式。没有两个1是相邻的，这意味着没有最小项可以被组合以简化表达式。因此，最小SOP形式就是析取范式 (DNF)，即函数值为真的所有8个最小项的和（逻辑或）。\n表达式为：\n$f = \\bar{x}_3\\bar{x}_2\\bar{x}_1x_0 + \\bar{x}_3\\bar{x}_2x_1\\bar{x}_0 + \\bar{x}_3x_2\\bar{x}_1\\bar{x}_0 + x_3\\bar{x}_2\\bar{x}_1\\bar{x}_0 + \\bar{x}_3x_2x_1x_0 + x_3\\bar{x}_2x_1x_0 + x_3x_2\\bar{x}_1x_0 + x_3x_2x_1\\bar{x}_0$。\n\n该网络的面积计算如下：\n1.  **反相器 (INV)**：该表达式需要所有四个变量及其补数 ($\\bar{x}_3, \\bar{x}_2, \\bar{x}_1, \\bar{x}_0$)。由于主输入是非互补的，我们需要4个反相器。这些反相器可以在所有乘积项之间共享。\n    面积(INV) = $4 \\times \\text{面积(INV)} = 4 \\times 1 = 4$ 个面积单位。\n\n2.  **与门 (AND2)**：有8个乘积项。每个项是4个文字的与运算。一个4输入与函数需要一个由 $4-1=3$ 个双输入AND2门组成的树形结构。\n    总AND2门数 = $8 \\text{ 项} \\times 3 \\text{ 门/项} = 24$ 个门。\n    面积(AND) = $24 \\times \\text{面积(AND2)} = 24 \\times 2 = 48$ 个面积单位。\n\n3.  **或门 (OR2)**：最终表达式是8个乘积项的和。这需要一个8输入或函数，它被实现为一个由 $8-1=7$ 个双输入OR2门组成的树形结构。\n    总OR2门数 = $7$ 个门。\n    面积(OR) = $7 \\times \\text{面积(OR2)} = 7 \\times 2 = 14$ 个面积单位。\n\nSOP总面积是这些成本的总和：\n面积(SOP) = 面积(INV) + 面积(AND) + 面积(OR) = $4 + 48 + 14 = 66$ 个面积单位。\n\n### 第4部分：面积比率\n\n最后一步是计算SOP面积与PPRM面积的比率。\n$$\n\\text{比率} = \\frac{\\text{面积(SOP)}}{\\text{面积(PPRM)}} = \\frac{66}{15}\n$$\n这个分数可以通过将分子和分母除以它们的最大公约数3来化简：\n$$\n\\text{比率} = \\frac{66 \\div 3}{15 \\div 3} = \\frac{22}{5}\n$$\n作为一个精确的数字，结果是 $\\frac{22}{5}$。",
            "answer": "$$\\boxed{\\frac{22}{5}}$$"
        },
        {
            "introduction": "在高性能数字电路设计中，速度即是生命，而延迟优化是核心挑战之一。这项实践将引导你应用“逻辑努力”理论——一种用于估算和优化CMOS电路延迟的优雅方法。你将解决一个典型场景：如何用一个反相器链以最小的延迟驱动一个大的容性负载。通过从头推导，你将确定实现最小延迟的最佳逻辑级数和每级的最佳扇出，从而掌握性能驱动的电路路径优化关键技术。",
            "id": "4258452",
            "problem": "在互补金属氧化物半导体（CMOS）数字芯片中，一条长的全局互连线必须由一个最小尺寸反相器的输入驱动一个大的容性负载。该路径实现为一系列相同的基本逻辑门，特别是反相器，且无分支。在标准的逻辑努力框架中，为每一级定义逻辑努力 $g$、电气努力（扇出） $h$、分支努力 $b$ 和级努力 $f = g b h$。以某个工艺常数为单位，路径延迟模型等于各级努力之和加上各级寄生延迟之和。假设对于最小尺寸反相器有以下经工艺校准的事实：一个反相器的逻辑努力为 $g = 1$，其寄生延迟为 $p_{\\mathrm{inv}} = 1$。路径上没有分支，因此每一级的 $b = 1$。\n\n链中第一个反相器的输入电容为 $C_{\\mathrm{in}}$，最终负载电容为 $C_{\\mathrm{L}}$。总电气努力为 $H = C_{\\mathrm{L}}/C_{\\mathrm{in}}$。对于本设计，负载为 $C_{\\mathrm{L}} = 1024\\,C_{\\mathrm{in}}$，因此 $H = 1024$。\n\n从逻辑努力和路径延迟模型的定义出发，不假设任何目标公式，完成以下任务：\n\n1. 对于固定的级数 $N$，推导使总路径延迟最小的各级电气努力 $h_{i}$ 需满足的条件，并用 $H$ 和 $N$ 表示最小化的级努力 $f$ 和电气努力 $h$。\n2. 将 $N$ 连续松弛到正实数，确定使所得延迟表达式最小化的实数值 $N$。然后，根据级数必须为整数的约束，通过在连续最小值点附近的一个小邻域内直接比较，确定最优整数 $N^{\\star}$。\n3. 对于最优整数 $N^{\\star}$，计算每级的最优电气努力（扇出） $h^{\\star}$。\n\n以包含最优级数 $N^{\\star}$ 和每级最优电气努力 $h^{\\star}$ 的行向量形式提供最终答案。无需四舍五入；提供精确值。",
            "solution": "首先验证问题，以确保其科学基础扎实、提法恰当且客观。\n\n### 第 1 步：提取已知条件\n- 电路是一条包含 $N$ 个相同反相器的路径，无分支。\n- 反相器的逻辑努力：$g = 1$。\n- 反相器的寄生延迟：$p_{\\mathrm{inv}} = 1$。\n- 分支努力：$b = 1$。\n- 级努力定义：$f_i = g_i b_i h_i$。\n- 路径延迟模型：$D = \\sum_{i=1}^{N} f_i + \\sum_{i=1}^{N} p_i$。\n- 第一级的输入电容：$C_{\\mathrm{in}}$。\n- 负载电容：$C_{\\mathrm{L}}$。\n- 总电气努力：$H = C_{\\mathrm{L}}/C_{\\mathrm{in}}$。\n- 给定的总电气努力值：$H = 1024$。\n\n### 第 2 步：使用提取的已知条件进行验证\n- **科学基础**：该问题使用标准的逻辑努力模型，这是数字VLSI电路时序分析的基石。逻辑努力、电气努力、寄生延迟和路径延迟模型的定义都是标准且正确的。$g=1$ 和 $p_{\\mathrm{inv}}=1$ 的值是最小尺寸反相器的常规归一化值。\n- **提法恰当**：该问题是一个经典的优化任务：对于给定的总电气努力，通过选择级数和每级的尺寸来最小化路径延迟。已知该问题有唯一、稳定且有意义的解。\n- **客观性**：问题以精确、定量的术语陈述，没有歧义或主观因素。\n- **结论**：该问题是有效的，因为它是一致、完整且基于电气工程的既定原则。\n\n### 第 3 步：结论与行动\n该问题有效。将提供完整解法。\n\n### 第 1 部分：最小延迟条件的推导\n一个由 $N$ 级组成的链的总路径延迟 $D$ 是每一级延迟的总和。第 $i$ 级的延迟，记为 $d_i$，是其努力延迟和寄生延迟之和。\n$$d_i = f_i + p_i$$\n鉴于每一级都是反相器，逻辑努力为 $g_i = g = 1$，寄生延迟为 $p_i = p_{\\mathrm{inv}} = 1$。由于没有分支，分支努力为 $b_i = b = 1$。\n第 $i$ 级的级努力是：\n$$f_i = g_i b_i h_i = (1)(1)h_i = h_i$$\n其中 $h_i = C_{\\mathrm{out},i} / C_{\\mathrm{in},i}$ 是第 $i$ 级的电气努力（扇出）。因此，总路径延迟为：\n$$D = \\sum_{i=1}^{N} d_i = \\sum_{i=1}^{N} (h_i + 1) = \\left(\\sum_{i=1}^{N} h_i\\right) + N$$\n总电气努力 $H$ 是最终负载电容 $C_{\\mathrm{L}}$ 与第一级输入电容 $C_{\\mathrm{in},1}$ 的比值。在反相器链中，第 $i$ 级的输出电容是第 $i+1$ 级的输入电容，因此 $C_{\\mathrm{out},i} = C_{\\mathrm{in},i+1}$。\n$$H = \\frac{C_{\\mathrm{L}}}{C_{\\mathrm{in},1}} = \\frac{C_{\\mathrm{in},N+1}}{C_{\\mathrm{in},1}} = \\left(\\frac{C_{\\mathrm{in},2}}{C_{\\mathrm{in},1}}\\right) \\left(\\frac{C_{\\mathrm{in},3}}{C_{\\mathrm{in},2}}\\right) \\cdots \\left(\\frac{C_{\\mathrm{in},N+1}}{C_{\\mathrm{in},N}}\\right)$$\n根据定义，$h_i = C_{\\mathrm{in},i+1}/C_{\\mathrm{in},i}$。所以，对各级电气努力的约束是：\n$$H = \\prod_{i=1}^{N} h_i$$\n为了在固定级数 $N$ 的情况下最小化延迟 $D$，我们需要在它们的乘积为常数 $H$ 的约束下，最小化和 $\\sum_{i=1}^{N} h_i$。\n我们使用算术-几何平均不等式 (AM-GM)，该不等式指出对于非负数 $h_1, h_2, \\ldots, h_N$：\n$$\\frac{h_1 + h_2 + \\cdots + h_N}{N} \\ge \\sqrt[N]{h_1 h_2 \\cdots h_N}$$\n$$\\frac{1}{N}\\sum_{i=1}^{N} h_i \\ge \\left(\\prod_{i=1}^{N} h_i\\right)^{1/N}$$\n代入约束 $\\prod h_i = H$：\n$$\\frac{1}{N}\\sum_{i=1}^{N} h_i \\ge H^{1/N}$$\n$$\\sum_{i=1}^{N} h_i \\ge N H^{1/N}$$\n当且仅当所有项相等时，等号成立，此时和达到最小值：\n$$h_1 = h_2 = \\cdots = h_N$$\n这是最小延迟的条件。设这个共同的值为 $h$。约束变为 $h^N = H$，这意味着 $h = H^{1/N}$。相应的级努力是 $f = gbh = h = H^{1/N}$。\n\n### 第 2 部分：最优级数 $N$ 的确定\n对于固定的 $N$ 采用最优尺寸时，路径延迟为：\n$$D(N) = N h + N = N H^{1/N} + N$$\n为了找到使该延迟最小化的 $N$ 值，我们将 $N$ 松弛为正实数，并通过将其关于 $N$ 的导数设为零来找到 $D(N)$ 的最小值。\n我们可以写成 $N H^{1/N} = N \\exp\\left(\\frac{\\ln H}{N}\\right)$。\n使用乘积法则求导：\n$$\\frac{d}{dN}(N H^{1/N}) = 1 \\cdot H^{1/N} + N \\cdot \\frac{d}{dN}\\left(\\exp\\left(\\frac{\\ln H}{N}\\right)\\right)$$\n$$= H^{1/N} + N \\cdot \\exp\\left(\\frac{\\ln H}{N}\\right) \\cdot \\left(-\\frac{\\ln H}{N^2}\\right) = H^{1/N} - H^{1/N}\\frac{\\ln H}{N} = H^{1/N}\\left(1 - \\frac{\\ln H}{N}\\right)$$\n延迟 $D(N)$ 的完整导数是：\n$$\\frac{dD}{dN} = H^{1/N}\\left(1 - \\frac{\\ln H}{N}\\right) + 1$$\n令 $\\frac{dD}{dN} = 0$，并定义最优级努力 $\\rho = H^{1/N}$，我们可以写成 $\\ln \\rho = \\frac{\\ln H}{N}$。将此代入方程：\n$$\\rho(1 - \\ln \\rho) + 1 = 0 \\implies \\ln \\rho = 1 + \\frac{1}{\\rho}$$\n这个超越方程决定了能提供最小可能延迟的最优级努力 $\\rho$。其解约为 $\\rho \\approx 3.5911$。最优级数（作为实数）是 $N_{\\mathrm{real}} = \\frac{\\ln H}{\\ln \\rho}$。\n给定 $H = 1024$，我们有 $\\ln H = \\ln(1024) = \\ln(2^{10}) = 10\\ln 2 \\approx 6.931$。\n使用 $\\ln \\rho \\approx \\ln(3.5911) \\approx 1.2785$，我们发现 $N_{\\mathrm{real}} \\approx \\frac{6.931}{1.2785} \\approx 5.42$。\n由于级数 $N$ 必须是整数，最优整数 $N^{\\star}$ 将是与 $N_{\\mathrm{real}}$ 相邻的整数之一，即 $N=5$ 或 $N=6$。我们比较这两种情况下的延迟。\n延迟函数是 $D(N) = N \\cdot (1024)^{1/N} + N$。\n\n对于 $N=5$：\n$$h_5 = 1024^{1/5} = (2^{10})^{1/5} = 2^{10/5} = 2^2 = 4$$\n$$D(5) = 5 \\cdot h_5 + 5 = 5 \\cdot 4 + 5 = 20 + 5 = 25$$\n\n对于 $N=6$：\n$$h_6 = 1024^{1/6} = (2^{10})^{1/6} = 2^{10/6} = 2^{5/3}$$\n$$D(6) = 6 \\cdot h_6 + 6 = 6 \\cdot 2^{5/3} + 6$$\n为了比较 $D(5)$ 和 $D(6)$，我们比较 $25$ 与 $6 \\cdot 2^{5/3} + 6$。\n这等价于比较 $19$ 与 $6 \\cdot 2^{5/3}$，或者比较 $\\frac{19}{6}$ 与 $2^{5/3}$。\n我们将两边取三次方以消除分数指数：\n$$\\left(\\frac{19}{6}\\right)^3 = \\frac{19^3}{6^3} = \\frac{6859}{216} \\approx 31.754$$\n$$\\left(2^{5/3}\\right)^3 = 2^5 = 32$$\n由于 $31.754  32$，我们有 $\\left(\\frac{19}{6}\\right)^3  \\left(2^{5/3}\\right)^3$，这意味着 $\\frac{19}{6}  2^{5/3}$。\n因此，$19  6 \\cdot 2^{5/3}$，两边同时加 $6$，得到 $25  6 \\cdot 2^{5/3} + 6$。\n所以，$D(5)  D(6)$。\n最优整数级数为 $N^{\\star} = 5$。\n\n### 第 3 部分：每级的最优电气努力\n对于最优整数级数 $N^{\\star} = 5$，每级的最优电气努力 $h^{\\star}$ 使用第 1 部分推导的公式计算：\n$$h^{\\star} = H^{1/N^{\\star}} = 1024^{1/5}$$\n$$h^{\\star} = (2^{10})^{1/5} = 2^{10/5} = 2^2 = 4$$\n每级的最优电气努力为 $h^{\\star} = 4$。\n\n最终答案是包含最优级数 $N^{\\star}$ 和每级最优电气努力 $h^{\\star}$ 的行向量。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix} 5  4 \\end{pmatrix}\n}\n$$"
        }
    ]
}