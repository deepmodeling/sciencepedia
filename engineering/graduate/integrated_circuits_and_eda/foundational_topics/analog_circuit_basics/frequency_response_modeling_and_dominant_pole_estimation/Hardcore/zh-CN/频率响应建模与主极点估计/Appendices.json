{
    "hands_on_practices": [
        {
            "introduction": "理解放大器的频率限制通常始于确定其主导极点。本练习  将介绍开路时间常数 (OCTC) 方法，这是一种在多节点电路中高效估算该极点的不可或缺的工具。通过掌握这项技术，你可以在无需推导完整传递函数的情况下，快速评估电路的带宽。",
            "id": "4273623",
            "problem": "一个线性时不变双节点小信号放大器为进行高频分析按如下方式建模。输入节点通过电阻 $R_{in}$ 接地，输出节点通过电阻 $R_{out}$ 接地。一个从输出节点到地的受控电流源提供电流 $i_{d} = g_{mv}\\,v_{in}$，其中 $v_{in}$ 是输入节点的小信号电压，$g_{mv}$ 是一个类跨导常数参数。输入节点不受输出节点反向影响。每个节点上都存在到地的寄生并联电容：输入节点为 $C_{in}$，输出节点为 $C_{out}$。假设在小信号分析中所有独立源均置零，且不存在其他储能元件。\n\n使用开路时间常数 (OCTC) 法，按以下步骤进行：\n- 对于每个电容器，在所有其他电容器开路的情况下，使用小信号驱动点电阻的测试源定义，计算该电容器“看”到的等效电阻 $R_{\\text{eff}}$。\n- 在单个极点主导高频滚降的假设下，使用 OCTC 框架获得主极点位置 $p_{1}$（带符号）的符号表达式，单位为弧度/秒。\n\n将最终答案表示为关于 $R_{in}$、$R_{out}$、$C_{in}$ 和 $C_{out}$ 的单个闭式解析表达式。不要进行任何数值代入。以弧度/秒为单位报告 $p_{1}$。无需四舍五入。",
            "solution": "该问题要求确定给定双节点小信号放大器模型的主极点位置 $p_{1}$。指定的方法是开路时间常数 (OCTC) 技术。\n\n首先，我们必须验证问题陈述的有效性。\n已知条件如下：\n- 一个线性时不变双节点小信号放大器。\n- 输入节点通过电阻 $R_{in}$ 和并联电容 $C_{in}$ 接地。该节点的电压为 $v_{in}$。\n- 输出节点通过电阻 $R_{out}$ 和并联电容 $C_{out}$ 接地。\n- 一个从输出节点到地的受控电流源，其电流为 $i_{d} = g_{mv}\\,v_{in}$，其中 $g_{mv}$ 是一个常数跨导。\n- 该模型是单向的：输入节点不受输出节点反向影响。\n- 所有独立源均置零。\n- 任务是使用 OCTC 方法，在单个极点起主导作用的假设下，求出主极点 $p_1$。\n- 最终表达式应由 $R_{in}$、$R_{out}$、$C_{in}$ 和 $C_{out}$ 表示。\n\n该问题具有科学依据，描述了一个标准的放大器简化模型。它是一个适定、客观的问题，并包含应用指定分析方法 (OCTC) 所需的足够信息。最终答案列表中不包含 $g_{mv}$ 并非矛盾，而是将 OCTC 方法应用于此特定电路拓扑的结果，下文将对此进行说明。因此，该问题是有效的。\n\nOCTC 方法将主极点频率 $\\omega_{H}$ 近似为电路一阶时间常数之和的倒数。极点位置 $p_{1}$ 则由 $p_{1} = -\\omega_{H}$ 给出。公式为：\n$$p_{1} \\approx -\\frac{1}{\\sum_{i} R_{i0} C_{i}}$$\n其中 $C_{i}$ 是电路中的电容器，$R_{i0}$ 是在所有其他电容器开路且所有独立源置零的情况下，第 $i$ 个电容器“看”到的等效电阻。\n\n电路包含两个电容器，$C_{in}$ 和 $C_{out}$。我们将计算每个电容器“看”到的等效电阻。\n\n步骤1：计算 $C_{in}$ “看”到的等效电阻。\n设此电阻为 $R_{in,\\text{eff}}$。为求得该值，我们将另一个电容器 $C_{out}$ 开路，并将所有独立源置零（这已是题设条件）。然后，我们求解 $C_{in}$ 两端的驱动点电阻。\n电压为 $v_{in}$ 的输入节点通过电阻 $R_{in}$ 接地。由于问题陈述中提到“输入节点不受输出节点反向影响”，输出节点的电路元件（$R_{out}$、$C_{out}$ 和受控源）不影响输入阻抗。因此，从 $C_{in}$ 的连接端点看进去，到地的唯一路径就是通过电阻 $R_{in}$。\n$$R_{in,\\text{eff}} = R_{in}$$\n相应的开路时间常数为：\n$$\\tau_{in} = R_{in,\\text{eff}} \\cdot C_{in} = R_{in} C_{in}$$\n\n步骤2：计算 $C_{out}$ “看”到的等效电阻。\n设此电阻为 $R_{out,\\text{eff}}$。为求得该值，我们将另一个电容器 $C_{in}$ 开路，并将所有独立源置零。我们求解 $C_{out}$ 两端的驱动点电阻。为此，我们可以在 $C_{out}$ 的两端施加一个测试电压源 $v_{x}$，并计算它提供的电流 $i_{x}$。则电阻为 $R_{out,\\text{eff}} = v_{x} / i_{x}$。\n输出节点通过电阻 $R_{out}$ 和受控电流源 $i_{d} = g_{mv} v_{in}$ 接地。在输出节点应用基尔霍夫电流定律 (Kirchhoff's Current Law)，来自测试源的电流为：\n$$i_{x} = \\frac{v_{x}}{R_{out}} + i_{d} = \\frac{v_{x}}{R_{out}} + g_{mv} v_{in}$$\n现在我们必须确定控制电压 $v_{in}$ 的值。在输入节点，电容器 $C_{in}$ 是开路的。该节点仅通过 $R_{in}$ 接地。由于电路中所有独立源均置零，没有源可以在输入节点产生非零电压。因此，输入节点的电压必须为零。\n$$v_{in} = 0$$\n将 $v_{in}=0$ 代入受控电流源 $i_{d}$ 的表达式中：\n$$i_{d} = g_{mv} \\cdot 0 = 0$$\n受控源提供零电流，因此表现为开路。测试电流 $i_{x}$ 的表达式简化为：\n$$i_{x} = \\frac{v_{x}}{R_{out}}$$\n因此，$C_{out}$ “看”到的等效电阻为：\n$$R_{out,\\text{eff}} = \\frac{v_{x}}{i_{x}} = \\frac{v_{x}}{v_{x} / R_{out}} = R_{out}$$\n相应的开路时间常数为：\n$$\\tau_{out} = R_{out,\\text{eff}} \\cdot C_{out} = R_{out} C_{out}$$\n\n步骤3：计算主极点位置。\n开路时间常数之和为：\n$$\\sum_{i} \\tau_{i} = \\tau_{in} + \\tau_{out} = R_{in} C_{in} + R_{out} C_{out}$$\n在单个极点起主导作用的假设下，其位置 $p_{1}$ 由 OCTC 近似法给出：\n$$p_{1} = -\\frac{1}{\\sum_{i} \\tau_{i}} = -\\frac{1}{R_{in} C_{in} + R_{out} C_{out}}$$\n此表达式由所需变量 $R_{in}$、$R_{out}$、$C_{in}$ 和 $C_{out}$ 表示。参数 $g_{mv}$ 没有出现在最终结果中，因为在此特定电路配置中，它对开路电阻的计算没有影响。表达式的单位是 $1/(\\text{电阻} \\times \\text{电容}) = 1/\\text{秒}$，对应于所要求的弧度/秒。",
            "answer": "$$\n\\boxed{-\\frac{1}{R_{in} C_{in} + R_{out} C_{out}}}\n$$"
        },
        {
            "introduction": "放大器的频率响应不仅受极点影响，零点也扮演着关键角色，尤其是在高频时。本练习  探讨了一种关键的非理想效应：由电容前馈路径产生的右半平面 (RHP) 零点。推导该零点的位置将让你深刻理解寄生元件如何影响放大器的稳定性和带宽限制。",
            "id": "4273638",
            "problem": "考虑一个由N沟道金属氧化物半导体场效应晶体管（MOSFET）实现的单晶体管反相放大级。该晶体管被偏置，使其小信号跨导为 $g_{m}$。源极节点通过一个电阻 $R_{s}$ 接地（源极负反馈），漏极节点是高阻抗输出 $v_{o}(t)$，其负载仅为一个到地的寄生电容 $C_{L}$。栅极由一个输出阻抗为零的理想电压源 $v_{i}(t)$ 驱动，栅极漏电流可忽略不计。唯一耦合输入和输出的内禀电容是栅漏电容 $C_{gd}$；对于本分析，栅源电容可以忽略。沟道长度调制效应可以忽略，因此输出电阻实际上是无穷大的。\n\n从基本定义和小信号模型的定律出发：\n- 小信号跨导产生漏极电流 $i_{d}(t)=g_{m} v_{gs}(t)$，其中 $v_{gs}(t)$ 是栅源电压。\n- 电容电流为 $i_{C}(t)=C \\,\\frac{d}{dt} v(t)$。\n\n1. 在源极和漏极节点处使用基尔霍夫电流定律，推导线性时不变传递函数 $H(s)=\\frac{V_{o}(s)}{V_{i}(s)}$，该函数应能反映通过 $C_{gd}$ 的前馈路径和通过 $R_{s}$ 的源极负反馈的影响。根据此传递函数，确定在何种条件下，通过 $C_{gd}$ 的前馈路径会在输入到输出的传递函数中引入一个右半平面（RHP）零点。\n\n2. 在相同假设下，推导零点角频率 $\\omega_{z}$ 作为 $R_{s}$、$g_{m}$ 和 $C_{gd}$ 的显式函数。\n\n将零点角频率的最终答案表示为一个封闭形式的解析表达式，单位为弧度/秒。不需要进行数值计算，也不允许取整。",
            "solution": "该问题是有效的，因为它科学地基于已建立的电路理论，内容自洽，且表述客观。我们可以进行形式推导。\n\n第一步是在拉普拉斯域（s域）中构建小信号等效电路。输入电压为 $V_i(s)$，输出电压为 $V_o(s)$。源极节点的电压为 $V_s(s)$。该电路由以下元件组成：\n- 连接到栅极的理想电压源 $V_i(s)$。\n- 连接在栅极和漏极节点之间的电容 $C_{gd}$。\n- 连接在漏极节点和地之间的电容 $C_{L}$。\n- 一个压控电流源，其电流 $g_m V_{gs}(s)$ 从漏极节点流向源极节点。\n- 连接在源极节点和地之间的电阻 $R_s$。\n\n栅源电压由栅极和源极节点电压之差给出：\n$$V_{gs}(s) = V_g(s) - V_s(s)$$\n由于栅极由理想电压源驱动，因此 $V_g(s) = V_i(s)$。所以：\n$$V_{gs}(s) = V_i(s) - V_s(s)$$\n\n为了求出传递函数 $H(s) = \\frac{V_o(s)}{V_i(s)}$，我们在源极和漏极节点应用基尔霍夫电流定律（KCL）。\n\n源极节点（$V_s$）的KCL：\n流出源极节点并经过电阻 $R_s$ 的电流必须等于从受控电流源进入源极节点的电流。\n$$ \\frac{V_s(s)}{R_s} = g_m V_{gs}(s) $$\n代入 $V_{gs}(s) = V_i(s) - V_s(s)$：\n$$ \\frac{V_s(s)}{R_s} = g_m (V_i(s) - V_s(s)) $$\n我们现在可以求解 $V_s(s)$，用 $V_i(s)$ 表示：\n$$ V_s(s) \\left( \\frac{1}{R_s} + g_m \\right) = g_m V_i(s) \\\\ V_s(s) \\left( \\frac{1 + g_m R_s}{R_s} \\right) = g_m V_i(s) \\\\ V_s(s) = \\frac{g_m R_s}{1 + g_m R_s} V_i(s) $$\n接下来，我们将 $V_{gs}(s)$ 完全用 $V_i(s)$ 表示：\n$$ V_{gs}(s) = V_i(s) - V_s(s) = V_i(s) - \\frac{g_m R_s}{1 + g_m R_s} V_i(s) \\\\ V_{gs}(s) = \\left( 1 - \\frac{g_m R_s}{1 + g_m R_s} \\right) V_i(s) = \\left( \\frac{1 + g_m R_s - g_m R_s}{1 + g_m R_s} \\right) V_i(s) \\\\ V_{gs}(s) = \\frac{1}{1 + g_m R_s} V_i(s) $$\n这个表达式代表了众所周知的源极负反馈效应，它降低了输入电压的有效跨导。\n\n漏极节点（$V_o$）的KCL：\n离开漏极节点的电流之和为零。这些电流是：\n1. 流经负载电容 $C_L$ 的电流：$I_{C_L} = s C_L V_o(s)$\n2. 流经栅漏电容 $C_{gd}$ 的电流：$I_{C_{gd}} = s C_{gd} (V_o(s) - V_i(s))$\n3. 来自受控电流源的电流（流入漏极）：$I_d = g_m V_{gs}(s)$\n\n对离开节点的电流求和：\n$$ s C_L V_o(s) + s C_{gd} (V_o(s) - V_i(s)) + g_m V_{gs}(s) = 0 $$\n现在，我们代入 $V_{gs}(s)$ 的表达式：\n$$ s V_o(s) (C_L + C_{gd}) - s C_{gd} V_i(s) + g_m \\left( \\frac{1}{1 + g_m R_s} \\right) V_i(s) = 0 $$\n为了求出传递函数，我们重新整理方程，将含有 $V_o(s)$ 和 $V_i(s)$ 的项分组：\n$$ V_o(s) [s(C_L + C_{gd})] = V_i(s) \\left[ s C_{gd} - \\frac{g_m}{1 + g_m R_s} \\right] $$\n传递函数 $H(s)$ 是比率 $\\frac{V_o(s)}{V_i(s)}$：\n$$ H(s) = \\frac{s C_{gd} - \\frac{g_m}{1 + g_m R_s}}{s(C_L + C_{gd})} $$\n\n**1. 右半平面（RHP）零点的条件**\n\n传递函数的零点是使分子为零的 $s$ 值：\n$$ N(s) = s C_{gd} - \\frac{g_m}{1 + g_m R_s} = 0 $$\n求解零点 $s_z$：\n$$ s_z C_{gd} = \\frac{g_m}{1 + g_m R_s} \\\\ s_z = \\frac{g_m}{C_{gd}(1 + g_m R_s)} $$\n如果一个零点的实部为正，则该零点位于右半平面（RHP）。在这个问题中，晶体管的跨导 $g_m$、负反馈电阻 $R_s$ 和栅漏电容 $C_{gd}$ 都是物理量，因此都具有正值。所以，$g_m  0$，$R_s \\ge 0$ 且 $C_{gd}  0$。因此，分母项 $C_{gd}(1 + g_m R_s)$ 总是正的。这使得 $s_z$ 成为一个正实数。一个正实根位于s平面的正实轴上，这是RHP的一部分。\n\n引入这个RHP零点的物理条件在于从输入 $V_i(s)$ 到输出节点 $V_o(s)$ 的两条并行信号路径的相互作用：\n- **主放大器路径：** 输入电压产生一个栅源电压 $V_{gs}(s)$，从而生成一个漏极电流。从该路径注入到漏极节点的电流是 $-g_m V_{gs}(s) = -\\frac{g_m}{1+g_m R_s} V_i(s)$。这条路径是反相的。\n- **前馈路径：** 输入电压通过电容 $C_{gd}$ 直接耦合到输出节点。从该路径注入到漏极节点的电流是 $s C_{gd} (V_i(s) - V_o(s))$。当 $V_o(s) = 0$ 时出现零点，因此在零点频率 $s_z$ 处，这个前馈电流就是 $s_z C_{gd} V_i(s)$。这条路径是非反相的。\n\nRHP零点发生在两个电流在输出节点处完全相互抵消，导致输出电压为零的频率。其存在的条件是这两条符号相反的路径同时存在。共源放大器路径的反相性质和电容前馈路径的非反相性质是传递函数分子中出现减法（$s C_{gd} - \\text{常数}$）的根本原因，这在数学上保证了只要 $g_m  0$ 且 $C_{gd}  0$，就存在一个正的（RHP）实零点。\n\n**2. 零点角频率 $\\omega_z$**\n\n零点位于 $s_z = \\frac{g_m}{C_{gd}(1 + g_m R_s)}$。对于s平面实轴上的零点，角频率 $\\omega_z$ 等于其位置的值。\n因此，零点角频率为：\n$$ \\omega_z = \\frac{g_m}{C_{gd}(1 + g_m R_s)} $$\n该表达式是给定参数 $R_s$、$g_m$ 和 $C_{gd}$ 的函数。",
            "answer": "$$\n\\boxed{\\frac{g_{m}}{C_{gd}(1 + g_{m} R_{s})}}\n$$"
        },
        {
            "introduction": "极点-零点对消是一种常见的频率补偿技术，但工艺偏差导致对消总是不完美的。本练习  将频域中的不完美对消与其在时域中的具体表现联系起来。通过分析系统阶跃响应中的慢速建立拖尾，你将学会量化“极点-零点偶极子”对电路建立时间的影响。",
            "id": "4273626",
            "problem": "在电子设计自动化 (EDA) 的集成电路放大器建模中，前馈路径通常会引入一个实值零点，该零点几乎与一个主极点相抵消。尽管这种抵消并不完美，但它会产生一种残留的时域特征，通常被通俗地描述为“偶极子”(doublet)，在阶跃响应中表现为小振幅、慢建立的拖尾。考虑一个线性时不变小信号传递函数，其模型为 $$H(s)=\\frac{1+s/z}{1+s/p},$$ 其中 $p0$ 和 $z0$ 是实数参数，且 $z$ 接近 $p$。设输入为幅度为 $1$ 的单位阶跃，于 $t=0$ 时施加。定义极零点失配为 $$z=p(1+\\delta),\\quad |\\delta|\\ll 1.$$ 从拉普拉斯变换和线性时不变性的基本定义出发，推导时域中的精确单位阶跃响应，并解析地分离出以主极点速率 $p$ 衰减的慢建立拖尾。你的任务是计算单位阶跃响应中乘以指数拖尾项 $\\exp(-p t)$ 的精确系数，并仅用 $\\delta$ 表示。请将你的最终结果表示为单个闭式解析表达式。无需进行数值近似或四舍五入。将最终答案表示为无量纲量。",
            "solution": "问题陈述经过严格验证，被认为是有效的。它在科学上基于线性时不变（LTI）系统理论，问题设定良好，目标明确，数据充分，并以客观、正式的语言表述。这个问题是控制理论和电子电路建模中的一个标准练习，可以通过已有的数学方法推导出唯一且有意义的解。\n\n目标是找到具有传递函数 $$H(s)=\\frac{1+s/z}{1+s/p}$$ 的系统的单位阶跃响应中指数项 $\\exp(-p t)$ 的系数。输入信号为单位阶跃函数，对于 $t \\ge 0$，$x(t) = 1$。输入的拉普拉斯变换为 $X(s) = \\mathcal{L}\\{x(t)\\} = \\frac{1}{s}$。\n\n系统在拉普拉斯域的输出 $Y(s)$ 由传递函数与输入变换的乘积给出：\n$$Y(s) = H(s) X(s) = \\left(\\frac{1+s/z}{1+s/p}\\right) \\frac{1}{s}。$$\n为便于分析，我们通过消去分子和分母中的分数来重写传递函数：\n$$H(s) = \\frac{(z+s)/z}{(p+s)/p} = \\frac{p}{z} \\frac{s+z}{s+p}。$$\n将此形式代入 $Y(s)$ 的表达式中，得到：\n$$Y(s) = \\frac{p}{z} \\frac{s+z}{s(s+p)}。$$\n为了求得时域响应 $y(t) = \\mathcal{L}^{-1}\\{Y(s)\\}$，我们首先对 $Y(s)$ 进行部分分式展开。该表达式有两个不同的实极点，一个在 $s=0$ 处，一个在 $s=-p$ 处。展开式具有以下形式：\n$$Y(s) = \\frac{A}{s} + \\frac{B}{s+p},$$\n其中 $A$ 和 $B$ 是相应极点处的留数。\n\n系数 $A$ 对应于极点 $s=0$ 处的留数。它可以用极限公式计算：\n$$A = \\lim_{s \\to 0} s Y(s) = \\lim_{s \\to 0} s \\left( \\frac{p}{z} \\frac{s+z}{s(s+p)} \\right) = \\lim_{s \\to 0} \\frac{p}{z} \\frac{s+z}{s+p}。$$\n计算该极限得到：\n$$A = \\frac{p}{z} \\frac{0+z}{0+p} = \\frac{p}{z} \\frac{z}{p} = 1。$$\n这个系数代表阶跃响应的稳态值，它等于 $H(0)=1$。\n\n系数 $B$ 对应于主极点 $s=-p$ 处的留数。这个系数决定了指数拖尾 $\\exp(-pt)$ 的幅值。我们计算 $B$ 如下：\n$$B = \\lim_{s \\to -p} (s+p) Y(s) = \\lim_{s \\to -p} (s+p) \\left( \\frac{p}{z} \\frac{s+z}{s(s+p)} \\right) = \\lim_{s \\to -p} \\frac{p}{z} \\frac{s+z}{s}。$$\n计算该极限得到：\n$$B = \\frac{p}{z} \\frac{-p+z}{-p} = -\\frac{1}{z}(z-p) = \\frac{p-z}{z}。$$\n问题给出了极零点失配关系 $z=p(1+\\delta)$。我们将此定义代入 $B$ 的表达式中，以仅用 $\\delta$ 表示该系数：\n$$B = \\frac{p - p(1+\\delta)}{p(1+\\delta)}。$$\n从分子和分母中提出因子 $p$，我们可以简化表达式：\n$$B = \\frac{p(1 - (1+\\delta))}{p(1+\\delta)} = \\frac{1 - 1 - \\delta}{1+\\delta} = \\frac{-\\delta}{1+\\delta}。$$\n因此，输出的部分分式展开为：\n$$Y(s) = \\frac{1}{s} + \\frac{-\\delta}{1+\\delta} \\frac{1}{s+p}。$$\n进行拉普拉斯逆变换，求出 $t \\ge 0$ 时的时域单位阶跃响应 $y(t)$：\n$$y(t) = \\mathcal{L}^{-1}\\left\\{\\frac{1}{s}\\right\\} + \\mathcal{L}^{-1}\\left\\{\\left(\\frac{-\\delta}{1+\\delta}\\right) \\frac{1}{s+p}\\right\\} = 1 + \\left(\\frac{-\\delta}{1+\\delta}\\right) \\exp(-pt)。$$\n项 $\\exp(-pt)$ 代表与主极点 $p$ 相关联的慢建立拖尾。乘以该指数项的精确系数就是我们为 $B$ 计算出的值。\n\n因此，所求的系数是 $\\frac{-\\delta}{1+\\delta}$。",
            "answer": "$$\\boxed{-\\frac{\\delta}{1+\\delta}}$$"
        }
    ]
}