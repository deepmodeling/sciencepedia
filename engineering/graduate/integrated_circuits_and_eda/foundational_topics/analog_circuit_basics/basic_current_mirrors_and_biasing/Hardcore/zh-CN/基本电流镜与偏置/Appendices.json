{
    "hands_on_practices": [
        {
            "introduction": "设计电流镜的首要任务是根据期望的电流比来确定晶体管的尺寸。这个练习将指导你完成一个基本的设计过程，首先基于理想的平方率模型计算晶体管的宽长比（$W/L$），然后考虑实际电路中的非理想效应（如沟道长度调制），来验证晶体管是否能正常工作在饱和区。通过这个练习，你将掌握从理想到实际的设计和验证流程。",
            "id": "4257613",
            "problem": "一位工程师正在集成电路和电子设计自动化 (EDA) 的背景下设计一个金属氧化物半导体场效应晶体管 (MOSFET) 电流镜。该电流镜使用两个长沟道 n 沟道 MOSFET，分别表示为 $M_1$（二极管连接的参考管）和 $M_2$（输出管），它们采用互补 MOS (CMOS) 工艺制造。参考支路为 $M_1$ 提供恒定电流 $I_{REF}$，而 $M_2$ 的输出支路必须将参考电流的标称 $10:1$ 镜像电流输送到输出节点的负载中。\n\n给出了以下工艺和设计参数：电子迁移率-氧化层电容乘积 $\\mu_n C_{ox} = 250\\ \\mu\\mathrm{A}/\\mathrm{V}^2$，阈值电压 $V_{TH} = 0.45\\ \\mathrm{V}$，沟道长度调制参数 $\\lambda = 0.06\\ \\mathrm{V}^{-1}$，电源电压 $V_{DD} = 1.2\\ \\mathrm{V}$。$M_1$ 的几何尺寸是固定的，其宽度 $W_1 = 1.0\\ \\mu\\mathrm{m}$，长度 $L_1 = 0.18\\ \\mu\\mathrm{m}$，参考电流为 $I_{REF} = 20\\ \\mu\\mathrm{A}$。输出晶体管 $M_2$ 使用与 $M_1$ 相同的沟道长度，即 $L_2 = 0.18\\ \\mu\\mathrm{m}$。负载施加的最小输出电压为 $V_{OUT,\\min} = 0.30\\ \\mathrm{V}$。假设源极和衬底均接地 ($0\\ \\mathrm{V}$)，因此体效应可以忽略不计。\n\n从长沟道 MOSFET 饱和区工作的基本原理出发，在确定尺寸的步骤中忽略沟道长度调制效应，设计者希望选择 $M_2$ 的几何尺寸，以在两个晶体管共享由二极管连接的 $M_1$ 所设定的相同栅源电压时，实现 $I_{OUT}/I_{REF} = 10$ 的标称电流比。然后，利用获得的工作点，验证当 $\\lambda$ 不为零时，两个晶体管都满足饱和条件，并且输出电压裕度约束也得到满足。您可以将平方律行为作为饱和区的基本器件模型。\n\n在上述尺寸设定假设下，计算 $M_2$ 所需的 $W_2/L_2$ 比值，以满足 $10:1$ 的镜像目标。将您的最终答案表示为一个无量纲数，并四舍五入到四位有效数字。最终的方框答案中不应包含任何单位。",
            "solution": "长沟道 MOSFET 在饱和区工作的基本原理是漏极电流满足\n$$\nI_{D} = \\frac{1}{2}\\,\\mu_n C_{ox}\\,\\frac{W}{L}\\,(V_{GS}-V_{TH})^{2}\\,(1+\\lambda V_{DS}),\n$$\n在没有沟道长度调制的情况下，其行为遵循平方律。为了确定尺寸，我们忽略沟道长度调制，这相当于取\n$$\nI_{D} \\approx \\frac{1}{2}\\,\\mu_n C_{ox}\\,\\frac{W}{L}\\,(V_{GS}-V_{TH})^{2}.\n$$\n定义过驱动电压为 $V_{OV} \\equiv V_{GS}-V_{TH}$。在 $M_1$ 为二极管连接的电流镜中，栅源电压 $V_{GS}$ 由 $M_1$ 在 $I_{REF}$ 下设定，而 $M_2$ 共享相同的栅极电压和源极节点，因此在尺寸设计中，$M_2$ 以相同的 $V_{OV}$ 工作。\n\n首先，利用给定的 $I_{REF}$ 和几何尺寸，从 $M_1$ 确定 $V_{OV}$。$M_1$ 的几何比为\n$$\n\\frac{W_1}{L_1} = \\frac{1.0\\ \\mu\\mathrm{m}}{0.18\\ \\mu\\mathrm{m}} = \\frac{1.0}{0.18} \\approx 5.555\\dots\n$$\n使用 $M_1$ 的平方律饱和表达式，\n$$\nI_{REF} = \\frac{1}{2}\\,\\mu_n C_{ox}\\,\\frac{W_1}{L_1}\\,V_{OV}^{2},\n$$\n所以\n$$\nV_{OV}^{2} = \\frac{2\\,I_{REF}}{\\mu_n C_{ox}\\,(W_1/L_1)}.\n$$\n代入 $I_{REF} = 20\\ \\mu\\mathrm{A}$ 和 $\\mu_n C_{ox} = 250\\ \\mu\\mathrm{A}/\\mathrm{V}^2$：\n$$\n\\mu_n C_{ox}\\,\\frac{W_1}{L_1} = \\left(250\\ \\mu\\mathrm{A}/\\mathrm{V}^2\\right)\\times 5.555\\dots \\approx 1388.888\\dots\\ \\mu\\mathrm{A}/\\mathrm{V}^2,\n$$\n因此\n$$\nV_{OV}^{2} = \\frac{2\\times 20\\ \\mu\\mathrm{A}}{1388.888\\dots\\ \\mu\\mathrm{A}/\\mathrm{V}^2} = \\frac{40}{1388.888\\dots}\\ \\mathrm{V}^2 \\approx 0.0288\\ \\mathrm{V}^2,\n$$\n所以\n$$\nV_{OV} \\approx \\sqrt{0.0288}\\ \\mathrm{V} \\approx 0.1697056\\ \\mathrm{V}.\n$$\n因此，$M_1$ 的栅源电压为\n$$\nV_{GS1} = V_{TH} + V_{OV} \\approx 0.45\\ \\mathrm{V} + 0.1697056\\ \\mathrm{V} \\approx 0.6197056\\ \\mathrm{V}.\n$$\n\n接下来，选择 $W_2/L_2$ 以在相同的 $V_{OV}$ 下产生 $I_{OUT} = 10\\,I_{REF} = 200\\ \\mu\\mathrm{A}$：\n$$\nI_{OUT} = \\frac{1}{2}\\,\\mu_n C_{ox}\\,\\frac{W_2}{L_2}\\,V_{OV}^{2},\n$$\n所以\n$$\n\\frac{W_2}{L_2} = \\frac{2\\,I_{OUT}}{\\mu_n C_{ox}\\,V_{OV}^{2}}.\n$$\n代入 $I_{OUT} = 200\\ \\mu\\mathrm{A}$，$\\mu_n C_{ox} = 250\\ \\mu\\mathrm{A}/\\mathrm{V}^2$ 和 $V_{OV}^{2} \\approx 0.0288\\ \\mathrm{V}^2$，\n$$\n\\frac{W_2}{L_2} = \\frac{2\\times 200\\ \\mu\\mathrm{A}}{250\\ \\mu\\mathrm{A}/\\mathrm{V}^2 \\times 0.0288\\ \\mathrm{V}^2} = \\frac{400}{7.2} \\approx 55.555\\dots\n$$\n这正好是 $\\frac{W_1}{L_1}$ 的 $10$ 倍，正如具有相等过驱动电压的理想电流镜所预期的那样。\n\n现在验证当 $\\lambda \\neq 0$ 时的饱和和电压裕度约束。\n\n对于 $M_1$（二极管连接），$V_{DS1} = V_{GS1} \\approx 0.6197056\\ \\mathrm{V}$。饱和条件要求 $V_{DS1} \\ge V_{OV}$。我们有\n$$\nV_{DS1} - V_{OV} \\approx 0.6197056\\ \\mathrm{V} - 0.1697056\\ \\mathrm{V} \\approx 0.450\\ \\mathrm{V}  0,\n$$\n所以 $M_1$ 保持在饱和区。考虑沟道长度调制时，电流变为\n$$\nI_{REF,\\lambda} \\approx \\frac{1}{2}\\,\\mu_n C_{ox}\\,\\frac{W_1}{L_1}\\,V_{OV}^{2}\\,(1+\\lambda V_{DS1}),\n$$\n但这不影响饱和条件本身。\n\n对于 $M_2$，饱和条件要求 $V_{DS2} \\ge V_{OV}$。给定的最小输出电压为 $V_{OUT,\\min} = 0.30\\ \\mathrm{V}$。因此，\n$$\nV_{OUT,\\min} - V_{OV} \\approx 0.30\\ \\mathrm{V} - 0.1697056\\ \\mathrm{V} \\approx 0.1302944\\ \\mathrm{V}  0,\n$$\n所以 $M_2$ 在最差情况下的输出电压下也保持在饱和区。\n\n最后，评估 $\\lambda$ 对镜像比的影响，以确保电压裕度考虑是现实的。考虑沟道长度调制后，比值变为\n$$\n\\frac{I_{OUT}}{I_{REF}} \\approx \\left(\\frac{W_2/L_2}{W_1/L_1}\\right)\\,\\frac{1+\\lambda V_{DS2}}{1+\\lambda V_{DS1}}.\n$$\n使用 $\\frac{W_2/L_2}{W_1/L_1} = 10$，$V_{DS2} \\approx V_{OUT,\\min} = 0.30\\ \\mathrm{V}$，$V_{DS1} \\approx V_{GS1} \\approx 0.6197056\\ \\mathrm{V}$ 和 $\\lambda = 0.06\\ \\mathrm{V}^{-1}$，\n$$\n\\frac{I_{OUT}}{I_{REF}} \\approx 10\\,\\frac{1+0.06\\times 0.30}{1+0.06\\times 0.6197056} = 10\\,\\frac{1+0.018}{1+0.037182336} \\approx 10\\,\\frac{1.018}{1.037182336} \\approx 9.815\n$$\n这表明由于 $M_1$ 和 $M_2$ 之间不同的 $V_{DS}$ 值，存在一个适度的比率误差，但两个器件仍然满足饱和条件和输出电压裕度。在平方律假设下，尺寸设计目标仍然得到满足，且电压裕度空间足够。\n\n因此，所需的比率 $W_2/L_2$ 约为 $55.555\\dots$。按要求四舍五入到四位有效数字，答案是 $55.56$。",
            "answer": "$$\\boxed{55.56}$$"
        },
        {
            "introduction": "在确定了电流镜的尺寸后，我们必须确保它能在给定的电源电压下正常工作。这个练习关注的是电路的“电压裕度”问题，即计算维持参考晶体管和输出晶体管都处于饱和区所需的最低电源电压 $V_{DD}$。这对于在低功耗、低电压系统中设计偏置电路至关重要。",
            "id": "4257534",
            "problem": "一个双晶体管p沟道金属氧化物半导体场效应晶体管 (PMOS) 电流镜为一个连接在输出节点上的负载提供拉电流。该电流镜由两个相同的长沟道PMOS晶体管组成，每个晶体管的沟道宽长比为 $(W/L)$，它们采用的制造工艺具有的空穴迁移率-氧化物电容乘积为 $k_{p}'$，阈值电压的绝对值为 $|V_{TP0}|$。假设器件在强反型、长沟道条件下工作，沟道长度调制效应和体效应（衬底连接到源极）均可忽略不计。每个PMOS的源极连接到正电源 $V_{DD}$；衬底连接到源极；镜像比为1。\n\n参考支路由第一个PMOS晶体管的栅极和漏极进行二极管连接后，通过一个电阻 $R$ 接地而形成。该电流镜设计用于建立一个目标参考电流 $I_{0}$，该电流从 $V_{DD}$ 流经二极管连接的PMOS晶体管进入电阻。第二个PMOS晶体管将此电流镜像到输出节点，该节点的电压受负载约束为指定电压 $V_{\\text{out}}$（相对于地）。两个PMOS器件都必须保持在饱和区工作。\n\n假设长沟道饱和电流由平方律模型描述，\n$$\nI_{D}=\\frac{1}{2}\\beta_{p}\\left(V_{SG}-|V_{TP0}|\\right)^{2},\\quad \\beta_{p}=k_{p}'\\frac{W}{L},\n$$\n饱和条件为\n$$\nV_{SD}\\geq V_{SG}-|V_{TP0}|.\n$$\n\n使用以下数值参数：\n- $k_{p}'=60\\,\\mu\\text{A}/\\text{V}^{2}$，\n- $(W/L)=20$（两个晶体管相同），\n- $|V_{TP0}|=0.35\\,\\text{V}$，\n- $R=5.0\\,\\text{k}\\Omega$，\n- $I_{0}=100\\,\\mu\\text{A}$，\n- $V_{\\text{out}}=0.40\\,\\text{V}$。\n\n仅从给定的平方律模型、饱和条件和欧姆定律出发，推导最小电源电压 $V_{DD,\\min}$，该电压需同时保证：\n1) 二极管连接的参考晶体管导通目标电流 $I_{0}$，同时保持在饱和区，以及\n2) 输出晶体管向保持在 $V_{\\text{out}}$ 电压的输出节点提供相同的电流，同时保持在饱和区。\n\n计算 $V_{DD,\\min}$ 的数值，并以伏特为单位表示你的最终答案。将答案四舍五入到四位有效数字。",
            "solution": "问题要求计算在特定条件下，一个双晶体管PMOS电流镜工作所需的最小电源电压 $V_{DD,\\min}$。设参考晶体管为 $M_1$，输出晶体管为 $M_2$。两个晶体管是相同的，并且工作在饱和区。\n\n问题给出了以下参数：\n- 空穴迁移率-氧化物电容乘积：$k_{p}'=60\\,\\mu\\text{A}/\\text{V}^{2}$\n- 沟道宽长比：$(W/L)=20$\n- PMOS阈值电压的绝对值：$|V_{TP0}|=0.35\\,\\text{V}$\n- 参考电阻：$R=5.0\\,\\text{k}\\Omega$\n- 目标参考电流：$I_{0}=100\\,\\mu\\text{A}$\n- 输出电压：$V_{\\text{out}}=0.40\\,\\text{V}$\n\nPMOS晶体管的长沟道饱和电流由下式给出：\n$$I_{D}=\\frac{1}{2}\\beta_{p}\\left(V_{SG}-|V_{TP0}|\\right)^{2}$$\n其中 $\\beta_{p}=k_{p}'(W/L)$。\nPMOS晶体管处于饱和区的条件是：\n$$V_{SD}\\geq V_{SG}-|V_{TP0}|$$\n\n首先，我们分析电流镜的参考侧，它由晶体管 $M_1$ 和电阻 $R$ 组成。$M_1$ 的源极连接到 $V_{DD}$，因此其源极电位为 $V_{S1}=V_{DD}$。$M_1$ 是二极管连接的，意味着其栅极和漏极连接在一起。这个公共节点通过电阻 $R$ 接地。流过 $M_1$ 的电流是目标参考电流 $I_{D1}=I_0$。这个电流也流过电阻 $R$。\n\n根据欧姆定律，$M_1$ 漏极的电压，也就是其栅极电压，为：\n$$V_{D1} = V_{G1} = I_0 R$$\n\n因此，$M_1$ 的源-栅电压为：\n$$V_{SG1} = V_{S1} - V_{G1} = V_{DD} - I_0 R$$\n\n为使 $M_1$ 导通电流 $I_0$，其源-栅电压 $V_{SG1}$ 必须满足饱和电流方程。我们可以解此方程得到 $V_{SG1}$：\n$$I_0 = \\frac{1}{2}\\beta_{p}\\left(V_{SG1}-|V_{TP0}|\\right)^{2}$$\n$$\\sqrt{\\frac{2I_0}{\\beta_{p}}} = V_{SG1}-|V_{TP0}|$$\n注意，我们取正根，因为要使晶体管导通，必须有 $V_{SG1}  |V_{TP0}|$。\n$$V_{SG1} = \\sqrt{\\frac{2I_0}{\\beta_{p}}} + |V_{TP0}|$$\n\n现在我们得到了 $V_{SG1}$ 的两个表达式。令它们相等，可以确定产生目标电流 $I_0$ 所需的唯一 $V_{DD}$ 值。我们称这个值为 $V_{DD,I0}$。\n$$V_{DD,I0} - I_0 R = \\sqrt{\\frac{2I_0}{\\beta_{p}}} + |V_{TP0}|$$\n$$V_{DD,I0} = I_0 R + |V_{TP0}| + \\sqrt{\\frac{2I_0}{\\beta_{p}}}$$\n这个方程确定了满足条件(1)第一部分（即 $M_1$ 导通电流 $I_0$）所需的电源电压。\n\n条件(1)的第二部分是 $M_1$ 必须保持在饱和区。对于 $M_1$，源-漏电压为 $V_{SD1} = V_{S1} - V_{D1} = V_{DD} - I_0 R$。由于 $M_1$ 是二极管连接的，所以 $V_{D1}=V_{G1}$，这意味着 $V_{SD1} = V_{S1} - V_{G1} = V_{SG1}$。饱和条件 $V_{SD} \\geq V_{SG} - |V_{TP0}|$ 变为：\n$$V_{SG1} \\geq V_{SG1} - |V_{TP0}|$$\n$$0 \\geq -|V_{TP0}|$$\n由于 $|V_{TP0}|$ 是一个正电压（$0.35\\,\\text{V}$），这个不等式总是成立。因此，根据该模型，一个工作在 $V_{SG}  |V_{TP0}|$ 条件下的二极管连接晶体管总是处于饱和区。所以，如果 $V_{DD} = V_{DD,I0}$，则条件(1)完全满足。\n\n接下来，我们分析由晶体管 $M_2$ 组成的输出侧。由于 $M_1$ 和 $M_2$ 相同，它们的栅极相连，且它们的源极都接在 $V_{DD}$，所以它们的源-栅电压相等：$V_{SG2} = V_{SG1}$。这保证了 $M_2$ 将提供相同的电流 $I_{D2}=I_0$，前提是它也工作在饱和区。\n\n条件(2)要求 $M_2$ 在提供电流 $I_0$ 的同时保持在饱和区。$M_2$ 的饱和条件是：\n$$V_{SD2} \\geq V_{SG2} - |V_{TP0}|$$\n$M_2$ 的源极在 $V_{DD}$（$V_{S2}=V_{DD}$），其漏极在输出节点，即 $V_{D2}=V_{\\text{out}}$。所以，$V_{SD2} = V_{DD} - V_{\\text{out}}$。\n将此式以及 $V_{SG2} (= V_{SG1})$ 的表达式代入饱和条件：\n$$V_{DD} - V_{\\text{out}} \\geq \\left(\\sqrt{\\frac{2I_0}{\\beta_{p}}} + |V_{TP0}|\\right) - |V_{TP0}|$$\n$$V_{DD} - V_{\\text{out}} \\geq \\sqrt{\\frac{2I_0}{\\beta_{p}}}$$\n这给出了保持 $M_2$ 在饱和区所需的 $V_{DD}$ 的一个下限：\n$$V_{DD} \\geq V_{\\text{out}} + \\sqrt{\\frac{2I_0}{\\beta_{p}}}$$\n\n我们得到了关于 $V_{DD}$ 的两个条件：\n1. 为产生电流 $I_0$：$V_{DD} = V_{DD,I0} = I_0 R + |V_{TP0}| + \\sqrt{\\frac{2I_0}{\\beta_{p}}}$。\n2. 为保持 $M_2$ 在饱和区：$V_{DD} \\geq V_{\\text{out}} + \\sqrt{\\frac{2I_0}{\\beta_{p}}}$。\n\n为使有效解存在，第一个条件所要求的 $V_{DD}$ 值必须满足第二个条件。所有可能的 $V_{DD}$ 值的集合是这两个条件解集的交集。由于第一个条件将 $V_{DD}$ 固定为单个值，因此只有当该值在第二个条件允许的范围内时，解才存在。因此，最小（也是唯一）可能的电源电压 $V_{DD,\\min}$ 就是 $V_{DD,I0}$，前提是 $V_{DD,I0} \\geq V_{\\text{out}} + \\sqrt{\\frac{2I_0}{\\beta_{p}}}$。我们来验证这个不等式：\n$$I_0 R + |V_{TP0}| + \\sqrt{\\frac{2I_0}{\\beta_{p}}} \\geq V_{\\text{out}} + \\sqrt{\\frac{2I_0}{\\beta_{p}}}$$\n$$I_0 R + |V_{TP0}| \\geq V_{\\text{out}}$$\n使用给定的数值：\n$I_0 R = (100 \\times 10^{-6}\\,\\text{A}) \\times (5.0 \\times 10^3\\,\\Omega) = 0.5\\,\\text{V}$。\n不等式变为 $0.5\\,\\text{V} + 0.35\\,\\text{V} \\geq 0.40\\,\\text{V}$，即 $0.85\\,\\text{V} \\geq 0.40\\,\\text{V}$，这是成立的。\n问题设定是合理的，所需的最小电源电压完全由参考支路决定。\n$$V_{DD,\\min} = I_0 R + |V_{TP0}| + \\sqrt{\\frac{2I_0}{\\beta_{p}}}$$\n\n现在，我们计算数值。首先，我们计算 $\\beta_p$：\n$$\\beta_{p} = k_{p}'(W/L) = (60 \\times 10^{-6}\\,\\text{A}/\\text{V}^{2}) \\times 20 = 1200 \\times 10^{-6}\\,\\text{A}/\\text{V}^{2} = 1.2 \\times 10^{-3}\\,\\text{A}/\\text{V}^{2}$$\n接下来，我们计算平方根下的项：\n$$\\frac{2I_0}{\\beta_{p}} = \\frac{2 \\times (100 \\times 10^{-6}\\,\\text{A})}{1.2 \\times 10^{-3}\\,\\text{A}/\\text{V}^{2}} = \\frac{2 \\times 10^{-4}}{1.2 \\times 10^{-3}}\\,\\text{V}^2 = \\frac{1}{6}\\,\\text{V}^2$$\n所以，$\\sqrt{\\frac{2I_0}{\\beta_{p}}} = \\sqrt{\\frac{1}{6}}\\,\\text{V} \\approx 0.408248\\,\\text{V}$。\n过驱动电压为 $V_{SG1} - |V_{TP0}| \\approx 0.408248\\,\\text{V}$。\n\n最后，我们计算 $V_{DD,\\min}$：\n$$V_{DD,\\min} = (0.5\\,\\text{V}) + (0.35\\,\\text{V}) + \\sqrt{\\frac{1}{6}}\\,\\text{V}$$\n$$V_{DD,\\min} \\approx 0.85\\,\\text{V} + 0.408248\\,\\text{V} \\approx 1.258248\\,\\text{V}$$\n将结果四舍五入到四位有效数字，得到 $1.258\\,\\text{V}$。",
            "answer": "$$\n\\boxed{1.258}\n$$"
        },
        {
            "introduction": "一个理想的电流镜能精确地复制电流，但实际器件的非理想性会引入误差。这个练习探讨了沟道长度调制效应对电流镜精度的影响，并量化了通过增加沟道长度 $L$ 来提升性能的方法。理解这种误差来源以及如何减小它是改进模拟电路性能的关键一步。",
            "id": "4257571",
            "problem": "一个在互补金属氧化物半导体（CMOS）工艺中实现的两晶体管简单电流镜，使用了两个相同的n沟道金属氧化物半导体场效应晶体管（MOSFET），这两个晶体管的栅极连接在一起；参考晶体管的漏极与其栅极相连。假设器件工作在饱和区，体效应可以忽略不计，并且两个器件的阈值电压和迁移率相同。该电流镜用于电子设计自动化（EDA）流程中，以固定电流偏置一个模块，并且必须量化由沟道长度调制引起的非理想性。\n\n该电流镜在两种配置下进行评估，这两种配置仅在两个晶体管的沟道长度 $L$ 上有所不同；沟道宽度 $W$ 保持恒定且对两个器件都相同。通过适当调整 $V_{\\text{GS}}$，两种配置之间的偏置电流大小保持不变，从而使两个器件都保持在饱和区。在工作点，漏源电压由周边电路固定，参考器件为 $V_{\\text{DS,ref}} = 0.50\\,\\text{V}$，输出器件为 $V_{\\text{DS,out}} = 1.20\\,\\text{V}$，并且这些电压在两种配置中都相同。\n\n在相关偏置区域测得的两个器件的沟道长度调制参数 $\\lambda$ 为：\n- 在 $L = 0.18\\,\\mu\\text{m}$ 时：$\\lambda_{\\text{ref}} = 0.12\\,\\text{V}^{-1}$ 且 $\\lambda_{\\text{out}} = 0.11\\,\\text{V}^{-1}$。\n- 在 $L = 0.36\\,\\mu\\text{m}$ 时：$\\lambda_{\\text{ref}} = 0.060\\,\\text{V}^{-1}$ 且 $\\lambda_{\\text{out}} = 0.055\\,\\text{V}^{-1}$。\n\n从饱和区MOSFET的基本器件关系和简单电流镜的定义出发，推导当 $V_{\\text{DS,ref}} \\neq V_{\\text{DS,out}}$ 时，镜像输出中仅由沟道长度调制引起的分数电流误差的表达式。使用提供的测量 $\\lambda$ 值，计算每种配置下的分数误差，然后计算镜像精度的预期改善，该改善定义为 $L = 0.18\\,\\mu\\text{m}$ 时的分数误差大小与 $L = 0.36\\,\\mu\\text{m}$ 时的分数误差大小之比。\n\n将最终的改善表示为一个无量纲的十进制数，并将您的答案四舍五入到四位有效数字。",
            "solution": "该问题要求推导并计算当构成简单电流镜的晶体管的沟道长度增加时，其性能改善情况。性能指标是精度，具体是由沟道长度调制引起的分数电流误差的减小。\n\n首先，我们必须验证问题陈述的有效性。\n该问题清楚地描述了一个标准的双晶体管NMOS电流镜。它提供了所有必要的参数，包括两种不同配置下的工作电压（$V_{\\text{DS,ref}}$ 和 $V_{\\text{DS,out}}$）、沟道长度（$L$）以及测得的沟道长度调制参数（$\\lambda$）。其底层的物理模型是用于饱和区MOSFET的标准Shichman-Hodges方程，包括沟道长度调制的一阶效应。关于 $\\lambda$ 与 $L$ 成反比的前提在物理上是正确的；所提供的值（当 $L$ 加倍时，$\\lambda$ 大约减半）与这一原理相符。问题陈述两个晶体管是相同的，但为每种配置中的参考器件和输出器件提供了略有不同的 $\\lambda$ 值。这在物理上是合理的，因为 $\\lambda$ 本身对漏源电压 $V_{\\text{DS}}$ 有二阶依赖性，并且问题指明 $\\lambda$ 值是在 $V_{\\text{DS,ref}} \\neq V_{\\text{DS,out}}$ 的相关偏置点测量的。因此，该问题具有科学依据，提法明确，且内部一致。它是有效的。\n\n我们现在开始求解。\n\n令参考晶体管为 $M_1$，输出晶体管为 $M_2$。工作在饱和区的n沟道MOSFET的漏极电流 $I_D$ 由下式给出：\n$$I_D = \\frac{1}{2} k' \\frac{W}{L} (V_{\\text{GS}} - V_{th})^2 (1 + \\lambda V_{\\text{DS}})$$\n其中 $k'$ 是工艺跨导参数（$\\mu_n C_{ox}$），$W$ 是沟道宽度，$L$ 是沟道长度，$V_{th}$ 是阈值电压，$V_{\\text{GS}}$ 是栅源电压，$V_{\\text{DS}}$ 是漏源电压，$\\lambda$ 是沟道长度调制参数。\n\n对于参考晶体管 $M_1$，漏极与栅极相连，因此 $V_{\\text{DS1}} = V_{\\text{GS1}}$。参考电流 $I_{\\text{ref}}$ 是 $M_1$ 的漏极电流：\n$$I_{\\text{ref}} = I_{D1} = \\frac{1}{2} k' \\left(\\frac{W}{L}\\right)_1 (V_{\\text{GS1}} - V_{th})^2 (1 + \\lambda_{\\text{ref}} V_{\\text{DS1}})$$\n对于输出晶体管 $M_2$，栅极相连，因此 $V_{\\text{GS2}} = V_{\\text{GS1}}$。输出电流 $I_{\\text{out}}$ 是 $M_2$ 的漏极电流：\n$$I_{\\text{out}} = I_{D2} = \\frac{1}{2} k' \\left(\\frac{W}{L}\\right)_2 (V_{\\text{GS2}} - V_{th})^2 (1 + \\lambda_{\\text{out}} V_{\\text{DS2}})$$\n问题陈述在每种配置中晶体管是相同的，这意味着它们共享相同的 $k'$、$V_{th}$、$W$ 和 $L$。因此，$(W/L)_1 = (W/L)_2$。如前所述，$V_{\\text{GS1}} = V_{\\text{GS2}}$。我们可以通过将两个方程相除来求得输出电流与参考电流之比：\n$$\\frac{I_{\\text{out}}}{I_{\\text{ref}}} = \\frac{\\frac{1}{2} k' (W/L) (V_{\\text{GS}} - V_{th})^2 (1 + \\lambda_{\\text{out}} V_{\\text{DS2}})}{\\frac{1}{2} k' (W/L) (V_{\\text{GS}} - V_{th})^2 (1 + \\lambda_{\\text{ref}} V_{\\text{DS1}})} = \\frac{1 + \\lambda_{\\text{out}} V_{\\text{DS,out}}}{1 + \\lambda_{\\text{ref}} V_{\\text{DS,ref}}}$$\n这里我们用给定的名称 $V_{\\text{DS,ref}}$ 替换了 $V_{\\text{DS1}}$，用 $V_{\\text{DS,out}}$ 替换了 $V_{\\text{DS2}}$。\n\n分数电流误差 $\\epsilon$ 定义为输出电流与参考电流之间的相对差异：\n$$\\epsilon = \\frac{I_{\\text{out}} - I_{\\text{ref}}}{I_{\\text{ref}}} = \\frac{I_{\\text{out}}}{I_{\\text{ref}}} - 1$$\n代入推导出的比率，我们得到分数误差的表达式：\n$$\\epsilon = \\frac{1 + \\lambda_{\\text{out}} V_{\\text{DS,out}}}{1 + \\lambda_{\\text{ref}} V_{\\text{DS,ref}}} - 1 = \\frac{(1 + \\lambda_{\\text{out}} V_{\\text{DS,out}}) - (1 + \\lambda_{\\text{ref}} V_{\\text{DS,ref}})}{1 + \\lambda_{\\text{ref}} V_{\\text{DS,ref}}}$$\n$$\\epsilon = \\frac{\\lambda_{\\text{out}} V_{\\text{DS,out}} - \\lambda_{\\text{ref}} V_{\\text{DS,ref}}}{1 + \\lambda_{\\text{ref}} V_{\\text{DS,ref}}}$$\n这是由沟道长度调制引起的分数误差的一般表达式。\n\n现在，我们计算两种配置中每一种的分数误差。\n提供的偏置电压为 $V_{\\text{DS,ref}} = 0.50\\,\\text{V}$ 和 $V_{\\text{DS,out}} = 1.20\\,\\text{V}$。\n\n对于第一种配置，$L = 0.18\\,\\mu\\text{m}$，参数为 $\\lambda_{\\text{ref},1} = 0.12\\,\\text{V}^{-1}$ 和 $\\lambda_{\\text{out},1} = 0.11\\,\\text{V}^{-1}$。\n分数误差 $\\epsilon_1$ 为：\n$$\\epsilon_1 = \\frac{(0.11\\,\\text{V}^{-1})(1.20\\,\\text{V}) - (0.12\\,\\text{V}^{-1})(0.50\\,\\text{V})}{1 + (0.12\\,\\text{V}^{-1})(0.50\\,\\text{V})} = \\frac{0.132 - 0.060}{1 + 0.060} = \\frac{0.072}{1.060}$$\n$$\\epsilon_1 \\approx 0.0679245$$\n\n对于第二种配置，$L = 0.36\\,\\mu\\text{m}$，参数为 $\\lambda_{\\text{ref},2} = 0.060\\,\\text{V}^{-1}$ 和 $\\lambda_{\\text{out},2} = 0.055\\,\\text{V}^{-1}$。\n分数误差 $\\epsilon_2$ 为：\n$$\\epsilon_2 = \\frac{(0.055\\,\\text{V}^{-1})(1.20\\,\\text{V}) - (0.060\\,\\text{V}^{-1})(0.50\\,\\text{V})}{1 + (0.060\\,\\text{V}^{-1})(0.50\\,\\text{V})} = \\frac{0.066 - 0.030}{1 + 0.030} = \\frac{0.036}{1.030}$$\n$$\\epsilon_2 \\approx 0.0349515$$\n\n问题将镜像精度的改善定义为 $L = 0.18\\,\\mu\\text{m}$ 时的分数误差大小与 $L = 0.36\\,\\mu\\text{m}$ 时的分数误差大小之比。让我们将此改善表示为 $I_{\\text{imp}}$。\n$$I_{\\text{imp}} = \\frac{|\\epsilon_1|}{|\\epsilon_2|}$$\n由于 $\\epsilon_1$ 和 $\\epsilon_2$ 均为正值，绝对值符号可以省略。\n$$I_{\\text{imp}} = \\frac{\\frac{0.072}{1.060}}{\\frac{0.036}{1.030}} = \\frac{0.072}{0.036} \\times \\frac{1.030}{1.060} = 2 \\times \\frac{1.030}{1.060}$$\n$$I_{\\text{imp}} \\approx 1.9433962\\dots$$\n问题要求最终答案四舍五入到四位有效数字。\n$$I_{\\text{imp}} \\approx 1.943$$\n这个结果表明，在指定条件下，将沟道长度加倍可使电流镜的精度提高约 $1.943$ 倍，这与较长沟道器件表现出较弱的沟道长度调制效应，从而形成更理想的电流源的预期相符。",
            "answer": "$$\\boxed{1.943}$$"
        }
    ]
}