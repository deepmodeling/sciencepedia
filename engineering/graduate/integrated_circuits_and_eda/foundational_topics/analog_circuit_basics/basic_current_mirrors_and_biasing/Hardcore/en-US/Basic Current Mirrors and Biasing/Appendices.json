{
    "hands_on_practices": [
        {
            "introduction": "The first step in using a current mirror is often sizing the transistors to achieve a desired current ratio. This exercise guides you through this fundamental design process, starting from the ideal square-law model to determine the necessary device geometry. By subsequently verifying the saturation conditions and observing the effect of channel-length modulation, you will bridge the gap between idealized theory and the practical constraints of circuit operation. ",
            "id": "4257613",
            "problem": "An engineer is designing a Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) current mirror in the context of integrated circuits and electronic design automation (EDA). The mirror uses two long-channel n-channel MOSFETs, denoted $M_1$ (diode-connected reference) and $M_2$ (output), fabricated in a complementary MOS (CMOS) process. The reference branch provides a constant current $I_{REF}$ into $M_1$, and the output branch of $M_2$ must deliver a nominal $10:1$ mirror of the reference current into a load at the output node.\n\nThe following process and design parameters are given: electron mobility–oxide capacitance product $\\mu_n C_{ox} = 250\\ \\mu\\mathrm{A}/\\mathrm{V}^2$, threshold voltage $V_{TH} = 0.45\\ \\mathrm{V}$, channel-length modulation parameter $\\lambda = 0.06\\ \\mathrm{V}^{-1}$, supply voltage $V_{DD} = 1.2\\ \\mathrm{V}$. The geometry of $M_1$ is fixed with width $W_1 = 1.0\\ \\mu\\mathrm{m}$ and length $L_1 = 0.18\\ \\mu\\mathrm{m}$, and the reference current is $I_{REF} = 20\\ \\mu\\mathrm{A}$. The output transistor $M_2$ uses the same channel length as $M_1$, namely $L_2 = 0.18\\ \\mu\\mathrm{m}$. The minimum output voltage imposed by the load is $V_{OUT,\\min} = 0.30\\ \\mathrm{V}$. Assume both sources and bulks are at $0\\ \\mathrm{V}$ so that body effect is negligible.\n\nStarting from first principles of long-channel MOSFET operation in saturation and ignoring channel-length modulation during the sizing step, the designer wishes to choose the geometry of $M_2$ to achieve a nominal current ratio of $I_{OUT}/I_{REF} = 10$ when both transistors share the same gate-source voltage set by the diode-connected $M_1$. Then, using the obtained operating point, verify that the saturation condition is satisfied for both transistors and that the output compliance constraint is met when $\\lambda$ is nonzero. You may treat square-law behavior as the foundational device model for saturation.\n\nCompute the required ratio $W_2/L_2$ for $M_2$ to meet the $10:1$ mirror target under the sizing assumption above. Express your final answer as a dimensionless number and round your answer to four significant figures. No units should be included in the final boxed answer.",
            "solution": "The fundamental base for long-channel MOSFET operation in saturation is that the drain current satisfies\n$$\nI_{D} = \\frac{1}{2}\\,\\mu_n C_{ox}\\,\\frac{W}{L}\\,(V_{GS}-V_{TH})^{2}\\,(1+\\lambda V_{DS}),\n$$\nwith the square-law behavior in the absence of channel-length modulation. For sizing, we ignore channel-length modulation, which amounts to taking\n$$\nI_{D} \\approx \\frac{1}{2}\\,\\mu_n C_{ox}\\,\\frac{W}{L}\\,(V_{GS}-V_{TH})^{2}.\n$$\nDefine the overdrive voltage as $V_{OV} \\equiv V_{GS}-V_{TH}$. In a current mirror with $M_1$ diode-connected, the gate-source voltage $V_{GS}$ is set by $M_1$ under $I_{REF}$, and $M_2$ shares the same gate voltage and source node, so $M_2$ operates with the same $V_{OV}$ in sizing.\n\nFirst, determine $V_{OV}$ from $M_1$ using the given $I_{REF}$ and geometry. The geometry ratio of $M_1$ is\n$$\n\\frac{W_1}{L_1} = \\frac{1.0\\ \\mu\\mathrm{m}}{0.18\\ \\mu\\mathrm{m}} = \\frac{1.0}{0.18} \\approx 5.555...\n$$\nUsing the square-law saturation expression for $M_1$,\n$$\nI_{REF} = \\frac{1}{2}\\,\\mu_n C_{ox}\\,\\frac{W_1}{L_1}\\,V_{OV}^{2},\n$$\nso\n$$\nV_{OV}^{2} = \\frac{2\\,I_{REF}}{\\mu_n C_{ox}\\,(W_1/L_1)}.\n$$\nSubstitute $I_{REF} = 20\\ \\mu\\mathrm{A}$ and $\\mu_n C_{ox} = 250\\ \\mu\\mathrm{A}/\\mathrm{V}^2$:\n$$\n\\mu_n C_{ox}\\,\\frac{W_1}{L_1} = \\left(250\\ \\mu\\mathrm{A}/\\mathrm{V}^2\\right)\\times 5.555... \\approx 1388.888...\\ \\mu\\mathrm{A}/\\mathrm{V}^2,\n$$\nand hence\n$$\nV_{OV}^{2} = \\frac{2\\times 20\\ \\mu\\mathrm{A}}{1388.888...\\ \\mu\\mathrm{A}/\\mathrm{V}^2} = \\frac{40}{1388.888...}\\ \\mathrm{V}^2 \\approx 0.0288\\ \\mathrm{V}^2,\n$$\nso\n$$\nV_{OV} \\approx \\sqrt{0.0288}\\ \\mathrm{V} \\approx 0.1697056\\ \\mathrm{V}.\n$$\nThe gate-source voltage of $M_1$ is therefore\n$$\nV_{GS1} = V_{TH} + V_{OV} \\approx 0.45\\ \\mathrm{V} + 0.1697056\\ \\mathrm{V} \\approx 0.6197056\\ \\mathrm{V}.\n$$\n\nNext, choose $W_2/L_2$ to yield $I_{OUT} = 10\\,I_{REF} = 200\\ \\mu\\mathrm{A}$ under the same $V_{OV}$ in sizing:\n$$\nI_{OUT} = \\frac{1}{2}\\,\\mu_n C_{ox}\\,\\frac{W_2}{L_2}\\,V_{OV}^{2},\n$$\nso\n$$\n\\frac{W_2}{L_2} = \\frac{2\\,I_{OUT}}{\\mu_n C_{ox}\\,V_{OV}^{2}}.\n$$\nSubstituting $I_{OUT} = 200\\ \\mu\\mathrm{A}$, $\\mu_n C_{ox} = 250\\ \\mu\\mathrm{A}/\\mathrm{V}^2$, and $V_{OV}^{2} \\approx 0.0288\\ \\mathrm{V}^2$,\n$$\n\\frac{W_2}{L_2} = \\frac{2\\times 200\\ \\mu\\mathrm{A}}{250\\ \\mu\\mathrm{A}/\\mathrm{V}^2 \\times 0.0288\\ \\mathrm{V}^2} = \\frac{400}{7.2} \\approx 55.555...\n$$\nThis is exactly $10$ times $\\frac{W_1}{L_1}$, as expected for an ideal mirror with equal overdrive voltages.\n\nNow verify saturation and compliance constraints when $\\lambda \\neq 0$.\n\nFor $M_1$ (diode-connected), $V_{DS1} = V_{GS1} \\approx 0.6197056\\ \\mathrm{V}$. The saturation condition requires $V_{DS1} \\ge V_{OV}$. We have\n$$\nV_{DS1} - V_{OV} \\approx 0.6197056\\ \\mathrm{V} - 0.1697056\\ \\mathrm{V} \\approx 0.450\\ \\mathrm{V} > 0,\n$$\nso $M_1$ remains in saturation. With channel-length modulation, the current becomes\n$$\nI_{REF,\\lambda} \\approx \\frac{1}{2}\\,\\mu_n C_{ox}\\,\\frac{W_1}{L_1}\\,V_{OV}^{2}\\,(1+\\lambda V_{DS1}),\n$$\nbut this does not affect the saturation condition itself.\n\nFor $M_2$, the saturation condition requires $V_{DS2} \\ge V_{OV}$. The minimum output voltage is given as $V_{OUT,\\min} = 0.30\\ \\mathrm{V}$. Therefore,\n$$\nV_{OUT,\\min} - V_{OV} \\approx 0.30\\ \\mathrm{V} - 0.1697056\\ \\mathrm{V} \\approx 0.1302944\\ \\mathrm{V} > 0,\n$$\nso $M_2$ also remains in saturation at the worst-case output voltage.\n\nFinally, assess the impact of $\\lambda$ on the mirrored ratio to ensure compliance considerations are realistic. The ratio with channel-length modulation becomes\n$$\n\\frac{I_{OUT}}{I_{REF}} \\approx \\left(\\frac{W_2/L_2}{W_1/L_1}\\right)\\,\\frac{1+\\lambda V_{DS2}}{1+\\lambda V_{DS1}}.\n$$\nUsing $\\frac{W_2/L_2}{W_1/L_1} = 10$, $V_{DS2} \\approx V_{OUT,\\min} = 0.30\\ \\mathrm{V}$, $V_{DS1} \\approx V_{GS1} \\approx 0.6197056\\ \\mathrm{V}$, and $\\lambda = 0.06\\ \\mathrm{V}^{-1}$,\n$$\n\\frac{I_{OUT}}{I_{REF}} \\approx 10\\,\\frac{1+0.06\\times 0.30}{1+0.06\\times 0.6197056} = 10\\,\\frac{1+0.018}{1+0.037182336} \\approx 10\\,\\frac{1.018}{1.037182336} \\approx 9.815.\n$$\nThis indicates a modest ratio error due to differing $V_{DS}$ values between $M_1$ and $M_2$, while both devices still satisfy saturation and output compliance. The sizing target remains met under the square-law assumption, and the compliance headroom is sufficient.\n\nTherefore, the required ratio $W_2/L_2$ is approximately $55.555...$. Rounded to four significant figures as requested, the answer is $55.56$.",
            "answer": "$$\\boxed{55.56}$$"
        },
        {
            "introduction": "A current source is only useful if it can operate within the voltage limits of a circuit. This practice focuses on the critical concept of voltage headroom and compliance by challenging you to find the minimum supply voltage required for a PMOS current mirror to function correctly. You will learn to analyze the voltage constraints imposed by both the reference-setting circuitry and the output stage, ensuring all transistors remain in their intended saturation region. ",
            "id": "4257534",
            "problem": "A two-transistor p-channel metal–oxide–semiconductor field-effect transistor (PMOS) current mirror provides a sourced current into a load connected at the output node. The mirror consists of two identical long-channel PMOS transistors, each with channel-width-to-length ratio $(W/L)$, fabricated in a process with hole mobility–oxide capacitance product $k_{p}'$ and magnitude of threshold voltage $|V_{TP0}|$. The devices are assumed to operate in strong inversion, long-channel conditions with negligible channel-length modulation and negligible body effect (bulk tied to source). The source of each PMOS is connected to the positive supply $V_{DD}$; the bulk is tied to the source; the mirror ratio is unity.\n\nThe reference branch is formed by diode-connecting the gate and drain of the first PMOS to a node that is tied to ground through a resistor $R$. The mirror is designed to establish a target magnitude of reference current $I_{0}$ flowing from $V_{DD}$ through the diode-connected PMOS into the resistor. The second PMOS mirrors this current into the output node, which is constrained by the load to be at a specified voltage $V_{\\text{out}}$ (with respect to ground). Both PMOS devices must remain in saturation.\n\nAssume the long-channel current in saturation is modeled by the square-law,\n$$\nI_{D}=\\frac{1}{2}\\beta_{p}\\left(V_{SG}-|V_{TP0}|\\right)^{2},\\quad \\beta_{p}=k_{p}'\\frac{W}{L},\n$$\nand the saturation condition is\n$$\nV_{SD}\\geq V_{SG}-|V_{TP0}|.\n$$\n\nUse the following numerical parameters:\n- $k_{p}'=60\\,\\mu\\text{A}/\\text{V}^{2}$,\n- $(W/L)=20$ (identical for both transistors),\n- $|V_{TP0}|=0.35\\,\\text{V}$,\n- $R=5.0\\,\\text{k}\\Omega$,\n- $I_{0}=100\\,\\mu\\text{A}$,\n- $V_{\\text{out}}=0.40\\,\\text{V}$.\n\nStarting only from the given square-law model, saturation condition, and Ohm’s law, derive the minimum supply voltage $V_{DD,\\min}$ that simultaneously guarantees:\n1) the diode-connected reference transistor conducts the target current $I_{0}$ while remaining in saturation, and\n2) the output transistor delivers the same current into the output node held at $V_{\\text{out}}$ while remaining in saturation.\n\nCompute the numerical value of $V_{DD,\\min}$ and express your final answer in volts. Round your answer to four significant figures.",
            "solution": "The problem asks for the minimum supply voltage, $V_{DD,\\min}$, required for a two-transistor PMOS current mirror to operate under specific conditions. Let the reference transistor be $M_1$ and the output transistor be $M_2$. Both transistors are identical and operate in the saturation region.\n\nThe problem provides the following parameters:\n- Hole mobility–oxide capacitance product: $k_{p}'=60\\,\\mu\\text{A}/\\text{V}^{2}$\n- Channel-width-to-length ratio: $(W/L)=20$\n- Magnitude of PMOS threshold voltage: $|V_{TP0}|=0.35\\,\\text{V}$\n- Reference resistor: $R=5.0\\,\\text{k}\\Omega$\n- Target reference current: $I_{0}=100\\,\\mu\\text{A}$\n- Output voltage: $V_{\\text{out}}=0.40\\,\\text{V}$\n\nThe long-channel saturation current for a PMOS transistor is given by:\n$$I_{D}=\\frac{1}{2}\\beta_{p}\\left(V_{SG}-|V_{TP0}|\\right)^{2}$$\nwhere $\\beta_{p}=k_{p}'(W/L)$.\nThe condition for a PMOS transistor to be in saturation is:\n$$V_{SD}\\geq V_{SG}-|V_{TP0}|$$\n\nFirst, we analyze the reference side of the mirror, which consists of transistor $M_1$ and resistor $R$. The source of $M_1$ is connected to $V_{DD}$, so its source potential is $V_{S1}=V_{DD}$. $M_1$ is diode-connected, meaning its gate and drain are tied together. This common node is connected to ground through the resistor $R$. The current flowing through $M_1$ is the target reference current, $I_{D1}=I_0$. This current also flows through the resistor $R$.\n\nUsing Ohm's law, the voltage at the drain of $M_1$, which is also its gate voltage, is:\n$$V_{D1} = V_{G1} = I_0 R$$\n\nThe source-gate voltage of $M_1$ is therefore:\n$$V_{SG1} = V_{S1} - V_{G1} = V_{DD} - I_0 R$$\n\nFor $M_1$ to conduct the current $I_0$, its source-gate voltage $V_{SG1}$ must satisfy the saturation current equation. We can solve this equation for $V_{SG1}$:\n$$I_0 = \\frac{1}{2}\\beta_{p}\\left(V_{SG1}-|V_{TP0}|\\right)^{2}$$\n$$\\sqrt{\\frac{2I_0}{\\beta_{p}}} = V_{SG1}-|V_{TP0}|$$\nNote that we take the positive root because for the transistor to be on, we must have $V_{SG1} > |V_{TP0}|$.\n$$V_{SG1} = \\sqrt{\\frac{2I_0}{\\beta_{p}}} + |V_{TP0}|$$\n\nNow we have two expressions for $V_{SG1}$. Equating them allows us to determine the unique value of $V_{DD}$ that produces the target current $I_0$. Let's call this value $V_{DD,I0}$.\n$$V_{DD,I0} - I_0 R = \\sqrt{\\frac{2I_0}{\\beta_{p}}} + |V_{TP0}|$$\n$$V_{DD,I0} = I_0 R + |V_{TP0}| + \\sqrt{\\frac{2I_0}{\\beta_{p}}}$$\nThis equation establishes the supply voltage required to satisfy the first part of condition (1), which is that $M_1$ conducts the current $I_0$.\n\nThe second part of condition (1) is that $M_1$ must remain in saturation. For $M_1$, the source-drain voltage is $V_{SD1} = V_{S1} - V_{D1} = V_{DD} - I_0 R$. Since $M_1$ is diode-connected, $V_{D1}=V_{G1}$, which means $V_{SD1} = V_{S1} - V_{G1} = V_{SG1}$. The saturation condition $V_{SD} \\geq V_{SG} - |V_{TP0}|$ becomes:\n$$V_{SG1} \\geq V_{SG1} - |V_{TP0}|$$\n$$0 \\geq -|V_{TP0}|$$\nSince $|V_{TP0}|$ is a positive voltage ($0.35\\,\\text{V}$), this inequality is always true. Thus, a diode-connected transistor operating with $V_{SG} > |V_{TP0}|$ is always in saturation according to this model. So, condition (1) is fully satisfied if $V_{DD} = V_{DD,I0}$.\n\nNext, we analyze the output side, which consists of transistor $M_2$. Since $M_1$ and $M_2$ are identical and their gates are connected, and their sources are both at $V_{DD}$, their source-gate voltages are equal: $V_{SG2} = V_{SG1}$. This ensures that $M_2$ will provide the same current $I_{D2}=I_0$, provided it is also operating in saturation.\n\nCondition (2) requires that $M_2$ delivers $I_0$ while remaining in saturation. The saturation condition for $M_2$ is:\n$$V_{SD2} \\geq V_{SG2} - |V_{TP0}|$$\nThe source of $M_2$ is at $V_{DD}$ ($V_{S2}=V_{DD}$), and its drain is at the output node, $V_{D2}=V_{\\text{out}}$. So, $V_{SD2} = V_{DD} - V_{\\text{out}}$.\nSubstituting this and the expression for $V_{SG2} (= V_{SG1})$ into the saturation condition:\n$$V_{DD} - V_{\\text{out}} \\geq \\left(\\sqrt{\\frac{2I_0}{\\beta_{p}}} + |V_{TP0}|\\right) - |V_{TP0}|$$\n$$V_{DD} - V_{\\text{out}} \\geq \\sqrt{\\frac{2I_0}{\\beta_{p}}}$$\nThis gives a lower limit on $V_{DD}$ required to keep $M_2$ in saturation:\n$$V_{DD} \\geq V_{\\text{out}} + \\sqrt{\\frac{2I_0}{\\beta_{p}}}$$\n\nWe have two conditions for $V_{DD}$:\n1. To generate the current $I_0$: $V_{DD} = V_{DD,I0} = I_0 R + |V_{TP0}| + \\sqrt{\\frac{2I_0}{\\beta_{p}}}$.\n2. To keep $M_2$ in saturation: $V_{DD} \\geq V_{\\text{out}} + \\sqrt{\\frac{2I_0}{\\beta_{p}}}$.\n\nFor a valid solution to exist, the value of $V_{DD}$ required by the first condition must satisfy the second condition. The set of all possible $V_{DD}$ values is the intersection of the solution sets of these two conditions. Since the first condition fixes $V_{DD}$ to a single value, a solution exists only if this value is within the range allowed by the second condition. The minimum (and only) possible supply voltage, $V_{DD,\\min}$, is therefore $V_{DD,I0}$, provided that $V_{DD,I0} \\geq V_{\\text{out}} + \\sqrt{\\frac{2I_0}{\\beta_{p}}}$. Let's verify this inequality:\n$$I_0 R + |V_{TP0}| + \\sqrt{\\frac{2I_0}{\\beta_{p}}} \\geq V_{\\text{out}} + \\sqrt{\\frac{2I_0}{\\beta_{p}}}$$\n$$I_0 R + |V_{TP0}| \\geq V_{\\text{out}}$$\nUsing the given numerical values:\n$I_0 R = (100 \\times 10^{-6}\\,\\text{A}) \\times (5.0 \\times 10^3\\,\\Omega) = 0.5\\,\\text{V}$.\nThe inequality becomes $0.5\\,\\text{V} + 0.35\\,\\text{V} \\geq 0.40\\,\\text{V}$, or $0.85\\,\\text{V} \\geq 0.40\\,\\text{V}$, which is true.\nThe problem is consistent, and the minimum required supply voltage is determined solely by the reference branch.\n$$V_{DD,\\min} = I_0 R + |V_{TP0}| + \\sqrt{\\frac{2I_0}{\\beta_{p}}}$$\n\nNow, we compute the numerical value. First, we calculate $\\beta_p$:\n$$\\beta_{p} = k_{p}'(W/L) = (60 \\times 10^{-6}\\,\\text{A}/\\text{V}^{2}) \\times 20 = 1200 \\times 10^{-6}\\,\\text{A}/\\text{V}^{2} = 1.2 \\times 10^{-3}\\,\\text{A}/\\text{V}^{2}$$\nNext, we calculate the term under the square root:\n$$\\frac{2I_0}{\\beta_{p}} = \\frac{2 \\times (100 \\times 10^{-6}\\,\\text{A})}{1.2 \\times 10^{-3}\\,\\text{A}/\\text{V}^{2}} = \\frac{2 \\times 10^{-4}}{1.2 \\times 10^{-3}}\\,\\text{V}^2 = \\frac{1}{6}\\,\\text{V}^2$$\nSo, $\\sqrt{\\frac{2I_0}{\\beta_{p}}} = \\sqrt{\\frac{1}{6}}\\,\\text{V} \\approx 0.408248\\,\\text{V}$.\nThe overdrive voltage is $V_{SG1} - |V_{TP0}| \\approx 0.408248\\,\\text{V}$.\n\nFinally, we compute $V_{DD,\\min}$:\n$$V_{DD,\\min} = (0.5\\,\\text{V}) + (0.35\\,\\text{V}) + \\sqrt{\\frac{1}{6}}\\,\\text{V}$$\n$$V_{DD,\\min} \\approx 0.85\\,\\text{V} + 0.408248\\,\\text{V} = 1.258248\\,\\text{V}$$\nRounding the result to four significant figures gives $1.258\\,\\text{V}$.",
            "answer": "$$\n\\boxed{1.258}\n$$"
        },
        {
            "introduction": "Ideal current mirrors provide an output current that is independent of the output voltage, implying infinite output resistance. In reality, channel-length modulation introduces a finite output resistance, causing the mirrored current to vary with voltage and creating a matching error. This exercise provides a quantitative look at this non-ideality and how a key design choice—the transistor channel length—can be used to improve mirror accuracy. ",
            "id": "4257571",
            "problem": "A two-transistor simple current mirror implemented in a Complementary Metal-Oxide-Semiconductor (CMOS) process uses two identical n-channel Metal-Oxide-Semiconductor Field-Effect Transistors (MOSFETs) with common gate connection; the reference transistor has its drain tied to its gate. Assume the devices operate in saturation, body effect is negligible, and threshold voltage and mobility are identical for both devices. The mirror is used in an Electronic Design Automation (EDA) flow to bias a block at a fixed current, and non-idealities due to channel-length modulation must be quantified.\n\nThe mirror is evaluated in two configurations that differ only in the channel length $L$ of both transistors; the channel width $W$ is held constant and the same for both devices. The bias current magnitude is kept the same between configurations by appropriately adjusting $V_{\\text{GS}}$ so that both devices remain in saturation. The drain-to-source voltages at the operating point are fixed by the surrounding circuitry to $V_{\\text{DS,ref}} = 0.50\\,\\text{V}$ for the reference device and $V_{\\text{DS,out}} = 1.20\\,\\text{V}$ for the output device, and these voltages are identical in both configurations.\n\nMeasured channel-length modulation parameters $\\lambda$ for the two devices at the relevant bias region are:\n- At $L = 0.18\\,\\mu\\text{m}$: $\\lambda_{\\text{ref}} = 0.12\\,\\text{V}^{-1}$ and $\\lambda_{\\text{out}} = 0.11\\,\\text{V}^{-1}$.\n- At $L = 0.36\\,\\mu\\text{m}$: $\\lambda_{\\text{ref}} = 0.060\\,\\text{V}^{-1}$ and $\\lambda_{\\text{out}} = 0.055\\,\\text{V}^{-1}$.\n\nStarting from fundamental device relations for MOSFETs in saturation and the definition of a simple current mirror, derive the expression for the fractional current error in the mirrored output due solely to channel-length modulation when $V_{\\text{DS,ref}} \\neq V_{\\text{DS,out}}$. Using the measured $\\lambda$ values provided, compute the fractional error in each configuration and then compute the expected improvement in mirror accuracy defined as the ratio of the magnitude of the fractional error at $L = 0.18\\,\\mu\\text{m}$ to that at $L = 0.36\\,\\mu\\text{m}$.\n\nExpress the final improvement as a dimensionless decimal number and round your answer to four significant figures.",
            "solution": "Let the reference transistor be denoted by $M_1$ and the output transistor by $M_2$. The drain current $I_D$ for an n-channel MOSFET operating in the saturation region is given by:\n$$I_D = \\frac{1}{2} k' \\frac{W}{L} (V_{\\text{GS}} - V_{th})^2 (1 + \\lambda V_{\\text{DS}})$$\nwhere $k'$ is the process transconductance parameter ($\\mu_n C_{ox}$), $W$ is the channel width, $L$ is the channel length, $V_{th}$ is the threshold voltage, $V_{\\text{GS}}$ is the gate-to-source voltage, $V_{\\text{DS}}$ is the drain-to-source voltage, and $\\lambda$ is the channel-length modulation parameter.\n\nFor the reference transistor $M_1$, the drain is tied to the gate, so $V_{\\text{DS1}} = V_{\\text{GS1}}$. The reference current $I_{\\text{ref}}$ is the drain current of $M_1$:\n$$I_{\\text{ref}} = I_{D1} = \\frac{1}{2} k' \\left(\\frac{W}{L}\\right)_1 (V_{\\text{GS1}} - V_{th})^2 (1 + \\lambda_{\\text{ref}} V_{\\text{DS1}})$$\nFor the output transistor $M_2$, the gates are connected, so $V_{\\text{GS2}} = V_{\\text{GS1}}$. The output current $I_{\\text{out}}$ is the drain current of $M_2$:\n$$I_{\\text{out}} = I_{D2} = \\frac{1}{2} k' \\left(\\frac{W}{L}\\right)_2 (V_{\\text{GS2}} - V_{th})^2 (1 + \\lambda_{\\text{out}} V_{\\text{DS2}})$$\nThe problem states the transistors are identical within each configuration, which means they share the same $k'$, $V_{th}$, $W$, and $L$. Thus, $(W/L)_1 = (W/L)_2$. As noted, $V_{\\text{GS1}} = V_{\\text{GS2}}$. We can find the ratio of the output current to the reference current by dividing the two equations:\n$$\\frac{I_{\\text{out}}}{I_{\\text{ref}}} = \\frac{\\frac{1}{2} k' (W/L) (V_{\\text{GS}} - V_{th})^2 (1 + \\lambda_{\\text{out}} V_{\\text{DS2}})}{\\frac{1}{2} k' (W/L) (V_{\\text{GS}} - V_{th})^2 (1 + \\lambda_{\\text{ref}} V_{\\text{DS1}})} = \\frac{1 + \\lambda_{\\text{out}} V_{\\text{DS,out}}}{1 + \\lambda_{\\text{ref}} V_{\\text{DS,ref}}}$$\nHere we have substituted $V_{\\text{DS1}}$ with the given name $V_{\\text{DS,ref}}$ and $V_{\\text{DS2}}$ with $V_{\\text{DS,out}}$.\n\nThe fractional current error, $\\epsilon$, is defined as the relative difference between the output and reference currents:\n$$\\epsilon = \\frac{I_{\\text{out}} - I_{\\text{ref}}}{I_{\\text{ref}}} = \\frac{I_{\\text{out}}}{I_{\\text{ref}}} - 1$$\nSubstituting the derived ratio, we obtain the expression for the fractional error:\n$$\\epsilon = \\frac{1 + \\lambda_{\\text{out}} V_{\\text{DS,out}}}{1 + \\lambda_{\\text{ref}} V_{\\text{DS,ref}}} - 1 = \\frac{(1 + \\lambda_{\\text{out}} V_{\\text{DS,out}}) - (1 + \\lambda_{\\text{ref}} V_{\\text{DS,ref}})}{1 + \\lambda_{\\text{ref}} V_{\\text{DS,ref}}}$$\n$$\\epsilon = \\frac{\\lambda_{\\text{out}} V_{\\text{DS,out}} - \\lambda_{\\text{ref}} V_{\\text{DS,ref}}}{1 + \\lambda_{\\text{ref}} V_{\\text{DS,ref}}}$$\nThis is the general expression for the fractional error due to channel-length modulation.\n\nNow, we compute the fractional error for each of the two configurations.\nThe provided bias voltages are $V_{\\text{DS,ref}} = 0.50\\,\\text{V}$ and $V_{\\text{DS,out}} = 1.20\\,\\text{V}$.\n\nFor the first configuration with $L = 0.18\\,\\mu\\text{m}$, the parameters are $\\lambda_{\\text{ref},1} = 0.12\\,\\text{V}^{-1}$ and $\\lambda_{\\text{out},1} = 0.11\\,\\text{V}^{-1}$.\nThe fractional error, $\\epsilon_1$, is:\n$$\\epsilon_1 = \\frac{(0.11\\,\\text{V}^{-1})(1.20\\,\\text{V}) - (0.12\\,\\text{V}^{-1})(0.50\\,\\text{V})}{1 + (0.12\\,\\text{V}^{-1})(0.50\\,\\text{V})} = \\frac{0.132 - 0.060}{1 + 0.060} = \\frac{0.072}{1.060}$$\n$$\\epsilon_1 \\approx 0.0679245$$\n\nFor the second configuration with $L = 0.36\\,\\mu\\text{m}$, the parameters are $\\lambda_{\\text{ref},2} = 0.060\\,\\text{V}^{-1}$ and $\\lambda_{\\text{out},2} = 0.055\\,\\text{V}^{-1}$.\nThe fractional error, $\\epsilon_2$, is:\n$$\\epsilon_2 = \\frac{(0.055\\,\\text{V}^{-1})(1.20\\,\\text{V}) - (0.060\\,\\text{V}^{-1})(0.50\\,\\text{V})}{1 + (0.060\\,\\text{V}^{-1})(0.50\\,\\text{V})} = \\frac{0.066 - 0.030}{1 + 0.030} = \\frac{0.036}{1.030}$$\n$$\\epsilon_2 \\approx 0.0349515$$\n\nThe problem defines the improvement in mirror accuracy as the ratio of the magnitude of the fractional error at $L = 0.18\\,\\mu\\text{m}$ to that at $L = 0.36\\,\\mu\\text{m}$. Let us denote this improvement as $I_{\\text{imp}}$.\n$$I_{\\text{imp}} = \\frac{|\\epsilon_1|}{|\\epsilon_2|}$$\nSince both $\\epsilon_1$ and $\\epsilon_2$ are positive, the absolute value is trivial.\n$$I_{\\text{imp}} = \\frac{\\frac{0.072}{1.060}}{\\frac{0.036}{1.030}} = \\frac{0.072}{0.036} \\times \\frac{1.030}{1.060} = 2 \\times \\frac{1.030}{1.060}$$\n$$I_{\\text{imp}} \\approx 1.9433962...$$\nThe problem requires the final answer to be rounded to four significant figures.\n$$I_{\\text{imp}} \\approx 1.943$$\nThis result indicates that doubling the channel length improves the current mirror's accuracy by a factor of approximately $1.943$ under the specified conditions, which is consistent with the expectation that longer channel devices exhibit weaker channel-length modulation effects and thus form more ideal current sources.",
            "answer": "$$\\boxed{1.943}$$"
        }
    ]
}