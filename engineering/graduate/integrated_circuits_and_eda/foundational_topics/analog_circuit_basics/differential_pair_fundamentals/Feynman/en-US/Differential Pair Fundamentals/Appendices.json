{
    "hands_on_practices": [
        {
            "introduction": "Before analyzing the amplification properties of a differential pair, we must first ensure it is properly biased. This practice explores the crucial concept of the input common-mode range (ICMR), which defines the span of DC input voltages for which all transistors operate correctly in their saturation region. Mastering this analysis  is essential for designing robust amplifiers that function reliably within a given system's voltage constraints.",
            "id": "4266306",
            "problem": "Consider a classical long-channel complementary metal–oxide–semiconductor (CMOS) differential pair implemented as follows. Two identical n-channel metal–oxide–semiconductor field-effect transistors (MOSFETs) form the input pair, with their sources tied together at node $X$ and connected to the drain of an n-channel MOSFET tail-current source whose source is at ground. Each drain of the input pair is connected to a p-channel MOSFET current source load whose source is tied to the positive supply $V_{DD}$ and whose drain is the corresponding output node. Assume zero differential input so that both input transistors conduct equal current and the two outputs are at the same voltage. Neglect body effect, channel-length modulation, and any second-order effects; use the long-channel saturation criterion.\n\nYou are given the following device parameters and bias choices:\n- Supply voltage $V_{DD} = 1.8\\,\\text{V}$.\n- Input-pair n-channel threshold voltage $V_{TH,n} = 0.45\\,\\text{V}$ and target overdrive $V_{OV,n} = 0.20\\,\\text{V}$ at the operating current.\n- Tail n-channel device overdrive $V_{OV,n,\\text{tail}} = 0.20\\,\\text{V}$ at the operating current.\n- Load p-channel threshold magnitude $V_{TH,p} = 0.50\\,\\text{V}$ and target overdrive $V_{OV,p} = 0.20\\,\\text{V}$ at the operating current.\n\nUse the fundamental long-channel definitions for saturation: for an n-channel MOSFET, saturation requires $V_{DS} \\ge V_{GS} - V_{TH}$; for a p-channel MOSFET, saturation requires $V_{SD} \\ge V_{SG} - |V_{TH,p}|$. The overdrive is defined by $V_{OV} = V_{GS} - V_{TH}$ for n-channel, and $V_{OV} = V_{SG} - |V_{TH,p}|$ for p-channel.\n\nLet the common-mode input voltage be $v_{cm}$, applied equally to both input gates. The input common-mode is constrained to lie within the supply rails, i.e., $0 \\le v_{cm} \\le V_{DD}$. Derive, from the stated principles and definitions, the allowable range of $v_{cm}$ such that all transistors (both input n-channel devices, the tail n-channel device, and the p-channel loads) remain in saturation at the balanced operating point. Then substitute the given numerical values to obtain numerical lower and upper bounds. Round both bounds to three significant figures and express the result in volts. Your final answer should be the ordered pair $(v_{cm,\\min}, v_{cm,\\max})$.",
            "solution": "The problem requires the derivation of the allowable common-mode input voltage range, $[v_{cm, \\min}, v_{cm, \\max}]$, for a CMOS differential pair, such that all transistors remain in the saturation region. The circuit consists of an n-channel input pair (M1, M2), an n-channel tail current source (M_tail), and p-channel current source loads (M3, M4). We are given that the differential input is zero, meaning the circuit is perfectly balanced. Due to symmetry, we only need to analyze one half of the circuit (e.g., M1 and M3) along with the common tail transistor (M_tail).\n\nThe analysis proceeds by establishing the saturation conditions for each transistor and expressing these conditions as constraints on the common-mode input voltage, $v_{cm}$.\n\nFirst, we establish the relationship between the common-mode input $v_{cm}$ and the voltage at the common-source node, $V_X$. The gate-source voltage of the input transistor M1 is $V_{GS1} = V_{G1} - V_{S1} = v_{cm} - V_X$.\nFrom the definition of the overdrive voltage for an n-channel device, $V_{OV,n} = V_{GS1} - V_{TH,n}$, we can write $V_{GS1} = V_{TH,n} + V_{OV,n}$.\nEquating the two expressions for $V_{GS1}$ gives:\n$$v_{cm} - V_X = V_{TH,n} + V_{OV,n}$$\nSolving for $V_X$, we find:\n$$V_X = v_{cm} - (V_{TH,n} + V_{OV,n})$$\nThis equation links the voltage at node $X$ directly to the input common-mode voltage.\n\nNext, we derive the lower bound on $v_{cm}$, denoted $v_{cm, \\min}$. This limit is determined by the tail current source transistor, M_tail, which must remain in saturation.\nFor the n-channel M_tail, the saturation condition is $V_{DS, \\text{tail}} \\ge V_{GS, \\text{tail}} - V_{TH,n}$. Using the given definition of overdrive voltage, $V_{OV,n,\\text{tail}} = V_{GS, \\text{tail}} - V_{TH,n}$, the saturation condition simplifies to $V_{DS, \\text{tail}} \\ge V_{OV,n,\\text{tail}}$.\nThe drain-source voltage of M_tail is $V_{DS, \\text{tail}} = V_{D, \\text{tail}} - V_{S, \\text{tail}} = V_X - 0 = V_X$.\nThus, the condition for M_tail to be saturated is $V_X \\ge V_{OV,n,\\text{tail}}$.\nSubstituting the expression for $V_X$:\n$$v_{cm} - (V_{TH,n} + V_{OV,n}) \\ge V_{OV,n,\\text{tail}}$$\nSolving for $v_{cm}$ gives the minimum allowable value:\n$$v_{cm} \\ge V_{TH,n} + V_{OV,n} + V_{OV,n,\\text{tail}}$$\nTherefore, the lower bound is:\n$$v_{cm, \\min} = V_{TH,n} + V_{OV,n} + V_{OV,n,\\text{tail}}$$\n\nNow, we derive the upper bound, $v_{cm, \\max}$. This limit is determined by the requirement that both the input transistor M1 and the load transistor M3 remain in saturation.\nThe saturation condition for the n-channel input transistor M1 is $V_{DS1} \\ge V_{GS1} - V_{TH,n}$. This simplifies to $V_{DS1} \\ge V_{OV,n}$.\nThe drain-source voltage of M1 is $V_{DS1} = V_{D1} - V_{S1} = V_{out} - V_X$, where $V_{out}$ is the output voltage at the drain of M1.\nSo, the condition is $V_{out} - V_X \\ge V_{OV,n}$. Substituting for $V_X$:\n$$V_{out} - (v_{cm} - V_{TH,n} - V_{OV,n}) \\ge V_{OV,n}$$\n$$V_{out} - v_{cm} + V_{TH,n} \\ge 0 \\implies v_{cm} \\le V_{out} + V_{TH,n}$$\nThis inequality shows that for a given $V_{out}$, there is an upper limit on $v_{cm}$.\n\nThe saturation condition for the p-channel load transistor M3 is $V_{SD3} \\ge V_{SG3} - |V_{TH,p}|$. This simplifies to $V_{SD3} \\ge V_{OV,p}$.\nThe source-drain voltage of M3 is $V_{SD3} = V_{S3} - V_{D3} = V_{DD} - V_{out}$.\nSo, the condition is $V_{DD} - V_{out} \\ge V_{OV,p}$, which imposes an upper limit on the output voltage:\n$$V_{out} \\le V_{DD} - V_{OV,p}$$\nTo find the absolute maximum for $v_{cm}$, we must use the maximum possible value of $V_{out}$ that keeps M3 in saturation. Substituting $V_{out, \\max} = V_{DD} - V_{OV,p}$ into the inequality for $v_{cm}$:\n$$v_{cm} \\le (V_{DD} - V_{OV,p}) + V_{TH,n}$$\nThis gives the theoretical upper bound based on saturation physics:\n$$v_{cm, \\text{sat,max}} = V_{DD} + V_{TH,n} - V_{OV,p}$$\nThe problem also explicitly constrains the input common-mode voltage to the supply rails: $0 \\le v_{cm} \\le V_{DD}$. The final allowable range for $v_{cm}$ must satisfy all constraints, so it is the intersection of the derived ranges.\nThe final range is given by:\n$$[\\max(0, v_{cm, \\min}), \\min(V_{DD}, v_{cm, \\text{sat,max}})]$$\n\nWe now substitute the given numerical values:\n$V_{DD} = 1.8\\,\\text{V}$\n$V_{TH,n} = 0.45\\,\\text{V}$\n$V_{OV,n} = 0.20\\,\\text{V}$\n$V_{OV,n,\\text{tail}} = 0.20\\,\\text{V}$\n$|V_{TH,p}| = 0.50\\,\\text{V}$\n$V_{OV,p} = 0.20\\,\\text{V}$\n\nCalculating the lower bound:\n$$v_{cm, \\min} = V_{TH,n} + V_{OV,n} + V_{OV,n,\\text{tail}} = 0.45\\,\\text{V} + 0.20\\,\\text{V} + 0.20\\,\\text{V} = 0.85\\,\\text{V}$$\nSince $0.85\\,\\text{V} > 0\\,\\text{V}$, the lower bound of the common-mode range is $0.85\\,\\text{V}$.\n\nCalculating the theoretical upper bound from saturation:\n$$v_{cm, \\text{sat,max}} = V_{DD} + V_{TH,n} - V_{OV,p} = 1.8\\,\\text{V} + 0.45\\,\\text{V} - 0.20\\,\\text{V} = 2.05\\,\\text{V}$$\nWe must now take the minimum of this value and the supply voltage $V_{DD}$:\n$$v_{cm, \\max} = \\min(V_{DD}, v_{cm, \\text{sat,max}}) = \\min(1.8\\,\\text{V}, 2.05\\,\\text{V}) = 1.8\\,\\text{V}$$\nThus, the allowable common-mode input range is $[0.85\\,\\text{V}, 1.8\\,\\text{V}]$.\n\nThe problem asks for the numerical lower and upper bounds rounded to three significant figures.\n$v_{cm, \\min} = 0.850\\,\\text{V}$\n$v_{cm, \\max} = 1.80\\,\\text{V}$\n\nThe resulting range is $[0.850\\,\\text{V}, 1.80\\,\\text{V}]$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.850 & 1.80\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "With the DC operating conditions established, we can now turn to the primary function of a differential pair: amplifying small differences between its inputs. This exercise guides you through a first-principles derivation of the differential voltage gain, a key performance metric . You will apply the powerful half-circuit technique, a cornerstone of symmetric circuit analysis, to simplify the problem and gain a deeper intuition for how the pair achieves amplification.",
            "id": "4266292",
            "problem": "Consider a long-tailed differential pair implemented with identical Metal-Oxide-Semiconductor Field-Effect Transistors (MOSFETs). Each drain is connected to a resistor to the positive supply, and the tail is biased by an ideal current source whose small-signal output resistance is infinite. Assume low-frequency operation (ignore all capacitances), negligible body effect, and matched devices so that the transconductance and output resistance of each transistor are the same. Let the small-signal transconductance of each MOSFET be $g_m=5\\,\\text{mS}$ and its output resistance be $r_o=20\\,\\text{k}\\Omega$. Each drain is loaded by a linear resistor $R_L=10\\,\\text{k}\\Omega$ connected to the positive supply. Define the positive supply rail as small-signal ground.\n\nA purely differential input excitation is applied such that the gate voltages are $v_{g1}=+\\frac{v_{id}}{2}$ and $v_{g2}=-\\frac{v_{id}}{2}$. The differential output voltage is defined as $v_{od}=v_{o1}-v_{o2}$, where $v_{o1}$ and $v_{o2}$ are the drain voltages of the two transistors.\n\nStarting from first principles of small-signal linearization and Kirchhoff’s laws, and using the ideal tail source assumption to justify a half-circuit representation for the differential mode, derive the differential gain $A_d=\\frac{v_{od}}{v_{id}}$ at low frequency. Express your final answer as a single real number in $\\text{V}/\\text{V}$. Provide the exact value (no rounding).",
            "solution": "The objective is to derive the low-frequency small-signal differential voltage gain, $A_d = \\frac{v_{od}}{v_{id}}$, for the given MOSFET differential pair. The derivation will begin from first principles using a small-signal equivalent circuit and Kirchhoff's laws.\n\nFirst, we construct the full small-signal equivalent circuit of the differential pair. The two MOSFETs, $M_1$ and $M_2$, are identical. Each is replaced by its low-frequency small-signal model, which consists of a voltage-controlled current source of value $g_m v_{gs}$ flowing from drain to source, in parallel with an output resistance $r_o$ between drain and source. The load resistors, $R_L$, connect from the drains of $M_1$ and $M_2$ to the positive supply, which is defined as small-signal ground. The ideal tail current source has infinite small-signal output resistance, so it is an open circuit in the small-signal domain.\n\nThe input voltages are $v_{g1} = +\\frac{v_{id}}{2}$ and $v_{g2} = -\\frac{v_{id}}{2}$. The gate-source voltages for the transistors are $v_{gs1} = v_{g1} - v_s = \\frac{v_{id}}{2} - v_s$ and $v_{gs2} = v_{g2} - v_s = -\\frac{v_{id}}{2} - v_s$, where $v_s$ is the voltage at the common source node. The output voltages are taken at the drains, $v_{o1}$ and $v_{o2}$.\n\nWe apply Kirchhoff's Current Law (KCL) at the common source node. Since the tail current source is an open circuit for small signals, the sum of the drain currents of $M_1$ and $M_2$ must be zero. The convention is that drain current flows into the drain. Therefore, the sum of currents leaving the common source node must be zero. The total current leaving the source of a MOSFET is equal to its drain current.\nThe drain current for $M_1$ is $i_{d1} = g_m v_{gs1} + \\frac{v_{o1} - v_s}{r_o}$.\nThe drain current for $M_2$ is $i_{d2} = g_m v_{gs2} + \\frac{v_{o2} - v_s}{r_o}$.\nKCL at the source node dictates that $i_{d1} + i_{d2} = 0$.\nSubstituting the expressions for the currents:\n$$g_m v_{gs1} + \\frac{v_{o1} - v_s}{r_o} + g_m v_{gs2} + \\frac{v_{o2} - v_s}{r_o} = 0$$\nNow, substitute the expressions for $v_{gs1}$ and $v_{gs2}$:\n$$g_m \\left(\\frac{v_{id}}{2} - v_s\\right) + \\frac{v_{o1} - v_s}{r_o} + g_m \\left(-\\frac{v_{id}}{2} - v_s\\right) + \\frac{v_{o2} - v_s}{r_o} = 0$$\nCombining terms:\n$$\\left(g_m \\frac{v_{id}}{2} - g_m \\frac{v_{id}}{2}\\right) - 2 g_m v_s + \\frac{v_{o1} + v_{o2} - 2v_s}{r_o} = 0$$\n$$-2 g_m v_s + \\frac{v_{o1} + v_{o2}}{r_o} - \\frac{2v_s}{r_o} = 0$$\n$$v_s \\left(-2g_m - \\frac{2}{r_o}\\right) + \\frac{v_{o1} + v_{o2}}{r_o} = 0$$\nDue to the complete symmetry of the circuit and the purely differential (antisymmetric) input excitation ($v_{g1} = -v_{g2}$), the output response must also be antisymmetric, meaning $v_{o1} = -v_{o2}$. Substituting this into the equation:\n$$v_s \\left(-2g_m - \\frac{2}{r_o}\\right) + \\frac{v_{o1} + (-v_{o1})}{r_o} = 0$$\n$$v_s \\left(-2g_m - \\frac{2}{r_o}\\right) + 0 = 0$$\nSince $g_m > 0$ and $r_o > 0$, the term in the parenthesis is non-zero. Therefore, the only possible solution is $v_s = 0$. This confirms that for a purely differential input, the common source node acts as a virtual ground. This is the rigorous justification for using the half-circuit analysis method.\n\nNow we analyze the differential half-circuit for $M_1$. The input is $v_{g1} = \\frac{v_{id}}{2}$ and the source is at small-signal ground ($v_s = 0$). The output $v_{o1}$ is taken at the drain, which is loaded by the resistor $R_L$ to ground and the transistor's own output resistance $r_o$ to ground. The effective load resistance at the drain is the parallel combination of $R_L$ and $r_o$.\n$$R_{eq} = R_L || r_o = \\frac{R_L r_o}{R_L + r_o}$$\nThe gate-source voltage of the half-circuit is $v_{gs1} = v_{g1} - v_s = \\frac{v_{id}}{2} - 0 = \\frac{v_{id}}{2}$.\nThe small-signal current generated by the transistor is $g_m v_{gs1} = g_m \\frac{v_{id}}{2}$. This current flows from the drain node through the parallel combination of resistances to ground. By Ohm's law, the output voltage is the negative of this current multiplied by the equivalent resistance:\n$$v_{o1} = - (g_m v_{gs1}) (R_L || r_o) = -g_m \\left(\\frac{v_{id}}{2}\\right) \\left(\\frac{R_L r_o}{R_L + r_o}\\right)$$\nThe differential output voltage is defined as $v_{od} = v_{o1} - v_{o2}$. Using the antisymmetry property $v_{o2} = -v_{o1}$, we get:\n$$v_{od} = v_{o1} - (-v_{o1}) = 2v_{o1}$$\nSubstituting the expression for $v_{o1}$:\n$$v_{od} = 2 \\left[ -g_m \\left(\\frac{v_{id}}{2}\\right) \\left(\\frac{R_L r_o}{R_L + r_o}\\right) \\right] = -g_m v_{id} \\left(\\frac{R_L r_o}{R_L + r_o}\\right)$$\nThe differential gain $A_d$ is then:\n$$A_d = \\frac{v_{od}}{v_{id}} = -g_m \\left(\\frac{R_L r_o}{R_L + r_o}\\right) = -g_m (R_L || r_o)$$\nNow we substitute the given numerical values: $g_m = 5\\,\\text{mS} = 5 \\times 10^{-3}\\,\\text{S}$, $R_L = 10\\,\\text{k}\\Omega = 10 \\times 10^3\\,\\Omega$, and $r_o = 20\\,\\text{k}\\Omega = 20 \\times 10^3\\,\\Omega$.\nFirst, calculate the equivalent parallel resistance:\n$$R_L || r_o = \\frac{(10 \\times 10^3\\,\\Omega) \\times (20 \\times 10^3\\,\\Omega)}{(10 \\times 10^3\\,\\Omega) + (20 \\times 10^3\\,\\Omega)} = \\frac{200 \\times 10^6\\,\\Omega^2}{30 \\times 10^3\\,\\Omega} = \\frac{20}{3} \\times 10^3\\,\\Omega$$\nNext, calculate the differential gain:\n$$A_d = -(5 \\times 10^{-3}\\,\\text{S}) \\times \\left(\\frac{20}{3} \\times 10^3\\,\\Omega\\right)$$\n$$A_d = -5 \\times \\frac{20}{3} = -\\frac{100}{3}$$\nThe unit is Volts per Volt ($\\text{V}/\\text{V}$). The exact value of the gain is $-\\frac{100}{3}$.",
            "answer": "$$\n\\boxed{-\\frac{100}{3}}\n$$"
        },
        {
            "introduction": "An ideal amplifier would only process the intended signal, but real-world circuits are affected by inherent, random fluctuations known as noise. This practice delves into the noise performance of a differential pair by combining the effects of both thermal and flicker noise sources . By deriving the total input-referred noise and the critical corner frequency where these two noise types are equal, you will develop the analytical skills needed to predict and optimize the signal-to-noise ratio of an amplifier.",
            "id": "4266322",
            "problem": "Consider a fully differential Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) differential pair operating in strong inversion and saturation at absolute temperature $T$ with an ideal tail current source of infinite output resistance and no noise. The two input transistors are identical, long-channel devices with width $W$, length $L$, oxide capacitance per unit area $C_{ox}$, transconductance $g_{m}$, and channel thermal noise excess factor $\\gamma$. Assume the following widely accepted noise models as your starting point: (i) the channel thermal noise of a MOSFET in saturation can be modeled as a white drain current noise source with one-sided power spectral density (PSD) $S_{i_{d}} = 4 k_{B} T \\gamma g_{m}$, where $k_{B}$ is the Boltzmann constant, and (ii) the flicker noise can be modeled as a series gate voltage noise source with PSD $S_{v_{g},1/f} = K_{f}/(C_{ox}^{2} W L f)$, where $K_{f}$ is a process-dependent flicker noise coefficient and $f$ is frequency. Neglect output resistance, induced gate noise, gate resistance, substrate noise, and any correlation between channel noise and gate-referred noise. Treat the two input devices’ noise sources as uncorrelated.\n\nUsing only these assumptions and fundamental definitions of input-referred noise for a differential amplifier, derive the differential input-referred voltage noise PSD $S_{v,\\text{in}}(f)$ as a function of $f$, and then determine the corner frequency $f_{c}$ at which the $1/f$ component equals the white thermal component in $S_{v,\\text{in}}(f)$.\n\nProvide your final answer as a single closed-form expression for $f_{c}$ in Hertz, as a function of $K_{f}$, $C_{ox}$, $W$, $L$, $g_{m}$, $\\gamma$, $k_{B}$, and $T$. Do not perform any numerical substitution. Express the final corner frequency in Hertz. The final answer must be a single analytic expression.",
            "solution": "The problem is to derive the corner frequency of a MOSFET differential pair, where the flicker noise component of the input-referred noise power spectral density (PSD) equals the thermal noise component. The analysis begins by determining the total differential input-referred voltage noise PSD, $S_{v,\\text{in}}(f)$.\n\nFirst, let's identify the noise sources in the circuit. The differential pair consists of two identical MOSFETs, M1 and M2. According to the problem statement, each transistor has two independent noise sources:\n1.  A channel thermal noise current source, $i_{n,d}$, between the drain and source, with a one-sided PSD of $S_{i_{d}}(f) = 4 k_{B} T \\gamma g_{m}$. This is a white noise source, meaning its PSD is constant with frequency $f$.\n2.  A flicker noise voltage source, $v_{n,g,1/f}$, in series with the gate, with a PSD of $S_{v_{g},1/f}(f) = \\frac{K_{f}}{C_{ox}^{2} W L f}$. This is a $1/f$ noise source.\n\nThe noise sources of the two transistors, M1 and M2, are uncorrelated. To find the total input-referred noise, we can calculate the contribution of each noise source to the input-referred noise PSD and sum them up. The total differential input-referred voltage noise PSD, $S_{v,\\text{in}}(f)$, is defined as the total differential output noise PSD divided by the square of the differential gain. For this analysis, it is most convenient to use the differential transconductance, $G_{m}$, of the pair.\n\nThe differential transconductance $G_{m}$ relates the differential output current, $i_{od} = i_{d1} - i_{d2}$, to the differential input voltage, $v_{id} = v_{g1} - v_{g2}$. For a differential pair with an ideal tail current source (infinite output impedance), the differential transconductance is equal to the transconductance of a single transistor, i.e., $G_{m} = g_{m}$.\n\nThe total input-referred voltage noise PSD can be expressed as:\n$$ S_{v,\\text{in}}(f) = \\frac{S_{i,\\text{od,tot}}(f)}{G_{m}^2} $$\nwhere $S_{i,\\text{od,tot}}(f)$ is the total differential output current noise PSD. Since all individual noise sources are uncorrelated, we can sum their power spectral densities.\n\nLet's calculate the contribution of each of the four noise sources (two for each transistor) to the input-referred noise PSD.\n\n1.  **Flicker Noise Contribution:**\n    The flicker noise is modeled as a voltage source, $v_{n,g}$, in series with the gate of each transistor.\n    -   The flicker noise source of M1, $v_{n,g1}$, acts as a differential input signal $v_{id} = v_{n,g1}$. Therefore, its contribution to the differential input-referred noise PSD is simply its own PSD: $S_{v_{g1},1/f}(f) = \\frac{K_{f}}{C_{ox}^{2} W L f}$.\n    -   Similarly, the flicker noise source of M2, $v_{n,g2}$, creates an effective differential input signal $v_{id} = -v_{n,g2}$. The contribution to the input-referred noise PSD is based on the magnitude, so it is also the PSD of the source itself: $S_{v_{g2},1/f}(f) = \\frac{K_{f}}{C_{ox}^{2} W L f}$.\n    -   The total input-referred flicker noise PSD, $S_{v,\\text{in},1/f}(f)$, is the sum of the two contributions:\n        $$ S_{v,\\text{in},1/f}(f) = S_{v_{g1},1/f}(f) + S_{v_{g2},1/f}(f) = \\frac{K_{f}}{C_{ox}^{2} W L f} + \\frac{K_{f}}{C_{ox}^{2} W L f} = \\frac{2 K_{f}}{C_{ox}^{2} W L f} $$\n\n2.  **Thermal Noise Contribution:**\n    The channel thermal noise is modeled as a current source, $i_{n,d}$, from drain to source for each transistor.\n    -   The thermal noise current of M1, $i_{n,d1}$, contributes directly to the differential output current, producing $i_{od} = i_{n,d1}$. The resulting output current noise PSD is $S_{i_{d1}} = 4 k_{B} T \\gamma g_{m}$.\n    -   The thermal noise current of M2, $i_{n,d2}$, contributes with a negative sign, $i_{od} = -i_{n,d2}$. However, PSD is proportional to the square of the magnitude, so its contribution to the output current noise PSD is also $S_{i_{d2}} = 4 k_{B} T \\gamma g_{m}$.\n    -   The total differential output current noise PSD from thermal sources is $S_{i,\\text{od,th}} = S_{i_{d1}} + S_{i_{d2}} = 4 k_{B} T \\gamma g_{m} + 4 k_{B} T \\gamma g_{m} = 8 k_{B} T \\gamma g_{m}$.\n    -   To refer this to the input, we divide by $G_{m}^2 = g_{m}^2$. The total input-referred thermal noise PSD, $S_{v,\\text{in,th}}$, is:\n        $$ S_{v,\\text{in,th}} = \\frac{S_{i,\\text{od,th}}}{G_{m}^2} = \\frac{8 k_{B} T \\gamma g_{m}}{g_{m}^2} = \\frac{8 k_{B} T \\gamma}{g_{m}} $$\n\n3.  **Total Input-Referred Noise PSD:**\n    The total differential input-referred voltage noise PSD, $S_{v,\\text{in}}(f)$, is the sum of the flicker and thermal components:\n    $$ S_{v,\\text{in}}(f) = S_{v,\\text{in},1/f}(f) + S_{v,\\text{in,th}} = \\frac{2 K_{f}}{C_{ox}^{2} W L f} + \\frac{8 k_{B} T \\gamma}{g_{m}} $$\n\n4.  **Corner Frequency, $f_{c}$:**\n    The corner frequency, $f_{c}$, is the frequency at which the $1/f$ noise component equals the white thermal noise component. We set the two terms equal to each other at $f=f_c$:\n    $$ \\frac{2 K_{f}}{C_{ox}^{2} W L f_{c}} = \\frac{8 k_{B} T \\gamma}{g_{m}} $$\n    Solving for $f_{c}$:\n    $$ f_{c} = \\frac{2 K_{f} g_{m}}{8 k_{B} T \\gamma C_{ox}^{2} W L} $$\n    Simplifying the expression gives the final result for the corner frequency:\n    $$ f_{c} = \\frac{K_{f} g_{m}}{4 k_{B} T \\gamma C_{ox}^{2} W L} $$\nThis expression represents the frequency at which the contributions from flicker noise and thermal noise to the total input-referred noise power are equal.",
            "answer": "$$ \\boxed{\\frac{K_{f} g_{m}}{4 k_{B} T \\gamma C_{ox}^{2} W L}} $$"
        }
    ]
}