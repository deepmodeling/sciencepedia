{
    "hands_on_practices": [
        {
            "introduction": "Meeting a target clock frequency is a primary goal in IC design. When a combinational logic block is too slow to operate within a single clock cycle, designers use pipelining to insert registers and break the long path into shorter, faster segments. This practice problem  challenges you to apply the fundamental setup timing equation to determine the minimum number of pipeline stages needed to meet a given performance specification, a crucial skill in timing closure.",
            "id": "4276652",
            "problem": "In a synchronous Integrated Circuit (IC) synthesized and implemented using Electronic Design Automation (EDA) tools, consider a single-clock-domain combinational block that is currently placed between upstream launch registers and a single downstream capture register. The block is purely combinational and can be split by inserting edge-triggered pipeline registers with negligible wire and insertion overhead. All pipeline registers are identical and characterized by setup time $t_{\\mathrm{su}}$ and clock-to-$Q$ delay $t_{\\mathrm{cq}}$. Global clock uncertainty (including skew and jitter) is $u$. Hold timing is guaranteed by separate means and may be ignored. The target clock has frequency $f_{\\mathrm{clk}}$ (period $T = 1/f_{\\mathrm{clk}}$). The block will be pipelined so that each inter-register segment satisfies single-cycle setup timing under the same clock.\n\nYou are given:\n- Target frequency $f_{\\mathrm{clk}} = 1.25\\,\\text{GHz}$.\n- Register setup time $t_{\\mathrm{su}} = 0.03\\,\\text{ns}$.\n- Register clock-to-$Q$ delay $t_{\\mathrm{cq}} = 0.05\\,\\text{ns}$.\n- Global clock uncertainty $u = 0.04\\,\\text{ns}$.\n- Total combinational delay of the block $D_{\\mathrm{block}} = 1.65\\,\\text{ns}$.\n- Three block inputs arrive from upstream launch registers with known input arrival times at the block boundary relative to the active clock edge: $a_1 = 0.15\\,\\text{ns}$, $a_2 = 0.22\\,\\text{ns}$, $a_3 = 0.18\\,\\text{ns}$. Assume logical effort and reconvergence effects have been properly back-annotated into these arrival times, and that the downstream capture register is the only pre-existing register after the block.\n\nAssume you may place pipeline registers at arbitrary cut points within the block such that the sum of segment delays equals $D_{\\mathrm{block}}$, and that the first segment is driven directly by the block inputs. Using the first principles of synchronous timing (arrival time plus combinational delay plus setup time must not exceed the available clock period after subtracting uncertainty and upstream register latency, where appropriate), derive from these fundamentals the condition for per-stage timing, and compute the minimum number of pipeline registers that must be inserted inside the block so that all inter-register segments meet single-cycle setup timing at $f_{\\mathrm{clk}}$. Provide your final answer as a single integer equal to this minimum number of inserted pipeline registers. No rounding instruction is necessary because the answer is an integer. Do not include any units in your final answer.",
            "solution": "The user-provided problem will first be validated for correctness, consistency, and completeness.\n\n### Step 1: Extract Givens\n-   Target clock frequency: $f_{\\mathrm{clk}} = 1.25\\,\\text{GHz}$\n-   Register setup time: $t_{\\mathrm{su}} = 0.03\\,\\text{ns}$\n-   Register clock-to-Q delay: $t_{\\mathrm{cq}} = 0.05\\,\\text{ns}$\n-   Global clock uncertainty: $u = 0.04\\,\\text{ns}$\n-   Total combinational delay of the block: $D_{\\mathrm{block}} = 1.65\\,\\text{ns}$\n-   Input arrival times at block boundary: $a_1 = 0.15\\,\\text{ns}$, $a_2 = 0.22\\,\\text{ns}$, $a_3 = 0.18\\,\\text{ns}$\n-   Hold timing is guaranteed and may be ignored.\n-   Pipeline registers can be inserted at arbitrary cut points.\n-   The number of registers to be inserted is the quantity to be determined.\n\n### Step 2: Validate Using Extracted Givens\n1.  **Scientifically Grounded**: The problem is based on the fundamental principles of synchronous digital circuit timing analysis, specifically setup time constraints in pipelined architectures. All concepts ($f_{\\mathrm{clk}}$, $t_{\\mathrm{su}}$, $t_{\\mathrm{cq}}$, clock uncertainty, pipelining) are standard in the field of IC design and EDA.\n2.  **Well-Posed**: The problem is well-posed. It provides all necessary parameters to calculate a unique, integer-valued answer for the minimum number of pipeline registers.\n3.  **Objective**: The language is precise, quantitative, and free of subjective or ambiguous terminology.\n4.  **Completeness and Consistency**: The problem is self-contained and all given values are consistent. There are no contradictions. The assumptions, such as negligible overhead for register insertion, are explicitly stated.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid**. A full, reasoned solution will be provided.\n\n### Solution Derivation\nThe core principle governing the maximum operating frequency of a synchronous circuit is the setup timing constraint. For a data path between a launching register and a capturing register, the total delay of the path must be less than or equal to the available time in one clock cycle.\n\nThe clock period, $T$, is the reciprocal of the clock frequency, $f_{\\mathrm{clk}}$:\n$$T = \\frac{1}{f_{\\mathrm{clk}}} = \\frac{1}{1.25 \\times 10^9\\,\\text{Hz}} = 0.8\\,\\text{ns}$$\n\nLet $N$ be the minimum number of pipeline registers to be inserted. Inserting $N$ registers divides the combinational block of total delay $D_{\\mathrm{block}}$ into $N+1$ segments. Let the delays of these segments be $D_1, D_2, \\dots, D_{N+1}$ such that:\n$$\\sum_{i=1}^{N+1} D_i = D_{\\mathrm{block}} = 1.65\\,\\text{ns}$$\n\nWe must derive the timing constraint for each segment.\n\n**1. Timing Constraint for Internal and Final Segments**\nConsider a segment of combinational logic with delay $D_i$ (for $i \\ge 2$) situated between two registers (an inserted pipeline register launching the data and another register capturing it). The signal is launched from the first register after the clock edge, propagates through the logic, and must arrive at the second register's input and be stable for the setup time $t_{\\mathrm{su}}$ before the next clock edge arrives. The standard setup timing equation is:\n$$t_{\\mathrm{cq}} + D_i + t_{\\mathrm{su}} + u \\le T$$\nHere, $t_{\\mathrm{cq}}$ is the clock-to-Q delay of the launching register, $D_i$ is the combinational path delay, $t_{\\mathrm{su}}$ is the setup time of the capturing register, and $u$ is the clock uncertainty which reduces the effective clock period. This constraint applies to all segments from the first inserted register onwards, i.e., for $i=2, 3, \\dots, N+1$.\n\nFrom this, we can calculate the maximum allowable combinational delay for these segments, which we denote as $D_{\\mathrm{int, max}}$:\n$$D_{\\mathrm{int, max}} = T - t_{\\mathrm{cq}} - t_{\\mathrm{su}} - u$$\n$$D_{\\mathrm{int, max}} = 0.8\\,\\text{ns} - 0.05\\,\\text{ns} - 0.03\\,\\text{ns} - 0.04\\,\\text{ns} = 0.68\\,\\text{ns}$$\n\n**2. Timing Constraint for the First Segment**\nThe first segment, with delay $D_1$, is different. It is not driven by one of the inserted pipeline registers. Instead, its inputs are the primary inputs to the block, which arrive at specified times after the clock edge. The worst-case (latest) arrival time at the block's input pins determines the timing constraint. Let this be $a_{\\max}$.\n$$a_{\\max} = \\max(a_1, a_2, a_3) = \\max(0.15\\,\\text{ns}, 0.22\\,\\text{ns}, 0.18\\,\\text{ns}) = 0.22\\,\\text{ns}$$\nThis arrival time $a_{\\max}$ effectively replaces the $t_{\\mathrm{cq}}$ of a launching register in the timing-path calculation. The signal arrives at the input of the first pipeline register at time $a_{\\max} + D_1$ relative to the clock edge. The setup constraint for this first capture register is:\n$$(a_{\\max} + D_1) + t_{\\mathrm{su}} + u \\le T$$\nThe maximum allowable delay for this first segment, $D_{1, \\max}$, is therefore:\n$$D_{1, \\max} = T - a_{\\max} - t_{\\mathrm{su}} - u$$\n$$D_{1, \\max} = 0.8\\,\\text{ns} - 0.22\\,\\text{ns} - 0.03\\,\\text{ns} - 0.04\\,\\text{ns} = 0.51\\,\\text{ns}$$\n\n**3. Calculating the Minimum Number of Registers**\nWe need to partition the total block delay $D_{\\mathrm{block}} = 1.65\\,\\text{ns}$ into $N+1$ segments, where the first segment has a maximum delay of $D_{1, \\max} = 0.51\\,\\text{ns}$, and the subsequent $N$ segments each have a maximum delay of $D_{\\mathrm{int, max}} = 0.68\\,\\text{ns}$.\nTo successfully pipeline the block, the sum of the maximum possible delays of the $N+1$ segments must be greater than or equal to the total block delay.\n$$D_{\\mathrm{block}} \\le D_{1, \\max} + N \\times D_{\\mathrm{int, max}}$$\nWe can now solve for the minimum integer $N$:\n$$1.65 \\le 0.51 + N \\times 0.68$$\n$$1.65 - 0.51 \\le N \\times 0.68$$\n$$1.14 \\le N \\times 0.68$$\n$$N \\ge \\frac{1.14}{0.68}$$\n$$N \\ge 1.67647...$$\nSince a fractional number of registers cannot be inserted, we must take the ceiling of this value. The minimum integer number of registers required is:\n$$N = \\lceil 1.67647... \\rceil = 2$$\n\nTherefore, a minimum of $2$ pipeline registers must be inserted. This creates $3$ combinational segments. We can verify this is possible:\n-   Segment 1 delay: $D_1 \\le 0.51\\,\\text{ns}$\n-   Segment 2 delay: $D_2 \\le 0.68\\,\\text{ns}$\n-   Segment 3 delay: $D_3 \\le 0.68\\,\\text{ns}$\nTotal delay required: $D_1+D_2+D_3 = 1.65\\,\\text{ns}$.\nA valid partitioning exists, for example: $D_1=0.51\\,\\text{ns}$, $D_2=0.68\\,\\text{ns}$, and $D_3 = 1.65 - 0.51 - 0.68 = 0.46\\,\\text{ns}$. Since $0.46\\,\\text{ns} \\le 0.68\\,\\text{ns}$, this is a valid solution.",
            "answer": "$$\\boxed{2}$$"
        },
        {
            "introduction": "After a design is physically placed and routed, the ideal wires of the pre-layout stage become real physical structures with resistance and capacitance. This \"parasitic\" RC network introduces delays that can significantly impact circuit performance. This exercise  walks you through the calculation of interconnect delay using the Elmore delay model, a cornerstone of static timing analysis (STA), allowing you to quantify the impact of wiring on a critical path.",
            "id": "4276646",
            "problem": "In a post-route Static Timing Analysis (STA) stage of an Integrated Circuit (IC) design flow leading to Graphic Data System II (GDSII) tapeout within Electronic Design Automation (EDA), consider a single-source, single-sink interconnect modeled as a linear resistor-capacitor tree driven by a logic gate that is abstracted as a Thevenin source with output resistance. The delay metric used for the interconnect is defined as the first moment of the impulse response at the sink node of the linear time-invariant network. The routed net is a chain with series resistances and shunt capacitances to ground at intermediate nodes and the sink input.\n\nAssume the following model and data are obtained from signoff parasitic extraction:\n- The driver is modeled by an equivalent Thevenin resistance $R_{0}$ at the source node, with $R_{0} = 120\\,\\Omega$.\n- The wire is segmented into three series resistors $R_{1}$, $R_{2}$, $R_{3}$ along the unique path to the sink, with $R_{1} = 35\\,\\Omega$, $R_{2} = 50\\,\\Omega$, $R_{3} = 20\\,\\Omega$.\n- The shunt capacitances to ground at the nodes after $R_{1}$, after $R_{2}$, and at the sink are $C_{1} = 15 \\times 10^{-15}\\,\\text{F}$, $C_{2} = 28 \\times 10^{-15}\\,\\text{F}$, and $C_{3} = 52 \\times 10^{-15}\\,\\text{F}$, respectively.\n- The intrinsic input-to-output propagation delay of the driving logic cell is $t_{\\text{drv,int}} = 23 \\times 10^{-12}\\,\\text{s}$, and the intrinsic propagation delay of the receiving logic cell (from its input pin to its output pin, excluding interconnect) is $t_{\\text{snk,int}} = 21 \\times 10^{-12}\\,\\text{s}$.\n\nStarting from the definition of the first moment of the impulse response of a linear resistor-capacitor network at the sink node (no shortcut formulas are to be used in the problem statement), derive an analytical expression for the interconnect delay of this topology using only fundamental properties of linear time-invariant networks and the tree structure of the interconnect. Then evaluate this interconnect delay numerically in seconds and compare it to the sum of the two cell intrinsic delays on the critical path by forming the ratio\n$$\n\\rho \\equiv \\frac{t_{\\text{wire}}}{t_{\\text{drv,int}} + t_{\\text{snk,int}}}.\n$$\nReport only the single number $\\rho$ as a unitless decimal, rounded to four significant figures.",
            "solution": "The problem requires the calculation of a ratio $\\rho$ involving the interconnect delay of a specified RC network. The interconnect delay, $t_{\\text{wire}}$, is defined as the first moment of the impulse response at the sink node. This problem is scientifically grounded, well-posed, objective, and contains all necessary information for a unique solution. Therefore, the problem is valid.\n\nThe interconnect is modeled as a linear resistor-capacitor (RC) chain driven by a Thevenin equivalent source. The network consists of a source resistance $R_{0}$, followed by three segments of wire with resistances $R_{1}$, $R_{2}$, and $R_{3}$. Shunt capacitances $C_{1}$, $C_{2}$, and $C_{3}$ are located at the nodes following $R_{1}$, $R_{2}$, and $R_{3}$ (the sink), respectively.\n\nLet the nodes of the interconnect be numbered as follows: node $1$ is the junction between $R_{1}$ and $R_{2}$ (where $C_{1}$ is connected), node $2$ is the junction between $R_{2}$ and $R_{3}$ (where $C_{2}$ is connected), and node $3$ is the sink node (where $C_{3}$ is connected). The input source is connected to the beginning of the chain, and its resistance $R_{0}$ is considered part of the signal path.\n\nThe interconnect delay, $t_{\\text{wire}}$, is defined as the first moment of the impulse response, $h_3(t)$, at the sink (node $3$). Mathematically, this is expressed as:\n$$\nt_{\\text{wire}} = \\int_{0}^{\\infty} t h_3(t) dt\n$$\nFor a linear time-invariant (LTI) system, the first moment of the impulse response can be calculated from its Laplace-domain transfer function, $H(s)$. If $H_3(s)$ is the transfer function from the input of the network to the voltage at node $3$, then the first moment is given by:\n$$\nt_{\\text{wire}} = - \\frac{dH_3(s)}{ds} \\bigg|_{s=0}\n$$\nThis quantity is known as the Elmore delay. A fundamental result for RC tree networks, established by W. C. Elmore, states that the delay at a specific node $i$ is given by the sum of the products of each capacitance in the network and the resistance of the path from the source that is common to both that capacitor's node and node $i$.\n\nFor the given linear chain topology, which is a special case of a tree, the sink is node $3$. We apply the Elmore delay formula to find $t_{\\text{wire}}$. The formula for the delay at node $i$ is $\\tau_i = \\sum_{k} R_{ik} C_k$, where $C_k$ is the capacitance at node $k$ and $R_{ik}$ is the resistance of the common path from the source to both node $i$ and node $k$. In our case, $i=3$.\n\nThe path resistances for each capacitor are as follows:\n$1.$ The capacitor is $C_{1}$ at node $1$. The path from the source to node $3$ is through resistances $R_{0}$, $R_{1}$, $R_{2}$, and $R_{3}$. The path from the source to node $1$ is through resistances $R_{0}$ and $R_{1}$. The common path resistance is $R_{31} = R_{0} + R_{1}$.\n$2.$ The capacitor is $C_{2}$ at node $2$. The path from the source to node $3$ is through $R_{0}$, $R_{1}$, $R_{2}$, and $R_{3}$. The path from the source to node $2$ is through $R_{0}$, $R_{1}$, and $R_{2}$. The common path resistance is $R_{32} = R_{0} + R_{1} + R_{2}$.\n$3.$ The capacitor is $C_{3}$ at node $3$. The path from the source to node $3$ is through $R_{0}$, $R_{1}$, $R_{2}$, and $R_{3}$. The path from the source to node $3$ is itself. The common path resistance is $R_{33} = R_{0} + R_{1} + R_{2} + R_{3}$.\n\nThus, the analytical expression for the interconnect delay $t_{\\text{wire}}$ is:\n$$\nt_{\\text{wire}} = R_{31} C_{1} + R_{32} C_{2} + R_{33} C_{3}\n$$\n$$\nt_{\\text{wire}} = (R_{0} + R_{1})C_{1} + (R_{0} + R_{1} + R_{2})C_{2} + (R_{0} + R_{1} + R_{2} + R_{3})C_{3}\n$$\nNow we substitute the given numerical values. All calculations will be performed in base SI units (Ohms, Farads, Seconds).\nGiven:\n$R_{0} = 120\\,\\Omega$\n$R_{1} = 35\\,\\Omega$\n$R_{2} = 50\\,\\Omega$\n$R_{3} = 20\\,\\Omega$\n$C_{1} = 15 \\times 10^{-15}\\,\\text{F}$\n$C_{2} = 28 \\times 10^{-15}\\,\\text{F}$\n$C_{3} = 52 \\times 10^{-15}\\,\\text{F}$\n$t_{\\text{drv,int}} = 23 \\times 10^{-12}\\,\\text{s}$\n$t_{\\text{snk,int}} = 21 \\times 10^{-12}\\,\\text{s}$\n\nFirst, calculate the path resistances:\n$R_{31} = R_{0} + R_{1} = 120 + 35 = 155\\,\\Omega$\n$R_{32} = R_{0} + R_{1} + R_{2} = 120 + 35 + 50 = 205\\,\\Omega$\n$R_{33} = R_{0} + R_{1} + R_{2} + R_{3} = 120 + 35 + 50 + 20 = 225\\,\\Omega$\n\nNext, calculate the individual delay components:\nTerm $1$: $(155) \\times (15 \\times 10^{-15}) = 2325 \\times 10^{-15} = 2.325 \\times 10^{-12}\\,\\text{s}$\nTerm $2$: $(205) \\times (28 \\times 10^{-15}) = 5740 \\times 10^{-15} = 5.740 \\times 10^{-12}\\,\\text{s}$\nTerm $3$: $(225) \\times (52 \\times 10^{-15}) = 11700 \\times 10^{-15} = 11.700 \\times 10^{-12}\\,\\text{s}$\n\nSumming these components gives the total interconnect delay $t_{\\text{wire}}$:\n$$\nt_{\\text{wire}} = (2.325 + 5.740 + 11.700) \\times 10^{-12}\\,\\text{s} = 19.765 \\times 10^{-12}\\,\\text{s}\n$$\nThe problem asks for the ratio $\\rho = \\frac{t_{\\text{wire}}}{t_{\\text{drv,int}} + t_{\\text{snk,int}}}$.\nFirst, calculate the denominator, which is the sum of the intrinsic cell delays:\n$$\nt_{\\text{drv,int}} + t_{\\text{snk,int}} = (23 \\times 10^{-12}\\,\\text{s}) + (21 \\times 10^{-12}\\,\\text{s}) = 44 \\times 10^{-12}\\,\\text{s}\n$$\nNow, compute the ratio $\\rho$:\n$$\n\\rho = \\frac{19.765 \\times 10^{-12}}{44 \\times 10^{-12}} = \\frac{19.765}{44} \\approx 0.449204545...\n$$\nRounding the result to four significant figures, as requested, gives:\n$$\n\\rho \\approx 0.4492\n$$\nThis dimensionless ratio compares the delay penalty imposed by the physical interconnect to the intrinsic switching speed of the logic cells themselves. A value less than $1$ indicates that the wire delay is smaller than the combined intrinsic cell delays on this path segment.",
            "answer": "$$\\boxed{0.4492}$$"
        },
        {
            "introduction": "While synchronous design simplifies logic, real-world systems must handle signals from asynchronous sources or different clock domains. This introduces the risk of metastability, a state where a flip-flop's output is unpredictable, potentially causing system failure. This practice  explores the physics of metastability and challenges you to design a synchronizer that meets a specific Mean Time Between Failures (MTBF), connecting low-level device parameters to high-level system reliability.",
            "id": "4276639",
            "problem": "An asynchronous signal is crossing from a source clock domain into a destination clock domain in an integrated circuit designed using Electronic Design Automation (EDA). The design requirement, captured in the system specification and to be preserved through Register Transfer Level (RTL), gate-level, and layout to Graphics Data System II (GDSII), mandates a Mean Time Between Failures (MTBF) due to metastability at the crossing. Consider a standard two-flip-flop synchronizer in the destination domain: the first flip-flop samples the asynchronous input, and the second flip-flop samples the output of the first after one destination clock period. The physical device can be modeled near its metastable saddle point by the linearized small-signal equation $dx/dt = x/\\tau$, where $\\tau$ is the metastability time constant of the bistable element. Let the destination clock have frequency $f_{c}$, the asynchronous data transition rate be $f_{d}$, and the effective metastability capture aperture of the sampling latch be $W$ (a window in time during which an input transition relative to the clock edge can inject the state close enough to the metastable saddle so that resolution time is appreciable). Assume the relative phase of the data and clock is independent and uniformly distributed over the clock period, the initial offset from the metastable point is random with density approximately constant in a sufficiently small neighborhood around zero, and the regeneration dynamics are dominated by the linearized unstable mode with time constant $\\tau$ until threshold crossing.\n\nStarting from these physical assumptions and the small-signal dynamics, derive an expression for the required resolution time $T_{\\text{res}}$ between the first and second flip-flop such that the expected mean time between observable metastability failures at the synchronizer output equals a given target $\\mathrm{MTBF}$. Then evaluate $T_{\\text{res}}$ numerically for the following parameters: $\\tau = 12\\,\\text{ps}$, $f_{c} = 600\\,\\text{MHz}$, $f_{d} = 25\\,\\text{MHz}$, $W = 35\\,\\text{ps}$, and target $\\mathrm{MTBF} = 50$ years (use $365.25$ days per year). Express the final $T_{\\text{res}}$ in nanoseconds and round your answer to four significant figures.\n\nIn your derivation, explicitly justify the necessity of using two flip-flops (rather than a single flip-flop) for the synchronizer under this $\\mathrm{MTBF}$ constraint based on the metastability resolution physics and timing budgeting, but provide only the numerical value of $T_{\\text{res}}$ as the final answer.",
            "solution": "The problem asks for the derivation of the required resolution time, $T_{\\text{res}}$, for a two-flip-flop synchronizer to meet a specified Mean Time Between Failures ($\\mathrm{MTBF}$) and to calculate its numerical value for a given set of parameters.\n\nFirst, we address the necessity of using a two-flip-flop synchronizer. When an asynchronous signal is sampled by a single flip-flop in the destination clock domain, the input data transition can occur very close to the sampling clock edge. This can drive the flip-flop into a metastable state, where its output voltage hovers at an intermediate, non-valid logic level for an indeterminate amount of time before eventually resolving to a stable logic ‘$0$’ or ‘$1$’. If this metastable signal is distributed to multiple logic gates (a fan-out greater than $1$), different gates may interpret the ambiguous voltage level differently based on their unique input switching thresholds. This leads to a loss of logical coherence in the system, potentially causing catastrophic failure. A single flip-flop synchronizer is therefore inadequate for reliable systems because the time available for resolution before the signal is used by subsequent logic is typically just the combinational path delay, which is not guaranteed to be long enough.\n\nA two-flip-flop synchronizer mitigates this risk. The first flip-flop samples the asynchronous data and is allowed to become metastable. Its output is then fed exclusively to the input of a second flip-flop. This second flip-flop samples the output of the first after a delay of one full clock period of the destination clock, $T_c = 1/f_c$. This provides a well-defined and sufficiently long duration, the resolution time $T_{\\text{res}} \\approx T_c$, for the first flip-flop’s output to resolve to a stable logic level. By choosing $T_{\\text{res}}$ appropriately, the probability that the signal is still unresolved when sampled by the second flip-flop can be made acceptably low, thereby achieving the target $\\mathrm{MTBF}$. The output of the second flip-flop is a clean, stable signal synchronized to the destination clock domain.\n\nNext, we derive the expression for $T_{\\text{res}}$. The $\\mathrm{MTBF}$ of a synchronizer is the reciprocal of the rate of failure, $R_{\\text{fail}}$.\n$$\n\\mathrm{MTBF} = \\frac{1}{R_{\\text{fail}}}\n$$\nA failure occurs if the first flip-flop enters a metastable state and fails to resolve within the allotted time $T_{\\text{res}}$. The failure rate is the product of the rate at which the flip-flop enters a potentially metastable state, $R_{\\text{entry}}$, and the probability of non-resolution in time $T_{\\text{res}}$, $P_{\\text{fail}}$.\n$$\nR_{\\text{fail}} = R_{\\text{entry}} \\times P_{\\text{fail}}\n$$\nThe rate of entering a metastable state, $R_{\\text{entry}}$, occurs when the asynchronous data transitions within the metastability capture aperture, $W$, of the sampling clock edge. Assuming the data transitions and clock edges are uncorrelated, the rate of such coincidental events is given by the product of the destination clock frequency, $f_c$, the asynchronous data transition rate, $f_d$, and the time window $W$.\n$$\nR_{\\text{entry}} = f_c f_d W\n$$\nThe dynamics of the flip-flop resolving from a metastable state are modeled by the small-signal equation $dx/dt = x/\\tau$, where $x$ is the voltage offset from the unstable equilibrium point. The solution is $x(t) = x_0 \\exp(t/\\tau)$, where $x_0$ is the initial offset at the sampling time. Failure to resolve within time $T_{\\text{res}}$ means the voltage has not grown large enough. This corresponds to the initial offset $|x_0|$ being smaller than a certain value that itself depends exponentially on $-T_{\\text{res}}/\\tau$. Under the given assumptions, the probability of this occurring, $P_{\\text{fail}}$, is given by the standard model:\n$$\nP_{\\text{fail}} = \\exp\\left(-\\frac{T_{\\text{res}}}{\\tau}\\right)\n$$\nCombining these gives the failure rate:\n$$\nR_{\\text{fail}} = f_c f_d W \\exp\\left(-\\frac{T_{\\text{res}}}{\\tau}\\right)\n$$\nThe $\\mathrm{MTBF}$ is then:\n$$\n\\mathrm{MTBF} = \\frac{1}{f_c f_d W \\exp\\left(-\\frac{T_{\\text{res}}}{\\tau}\\right)} = \\frac{\\exp\\left(\\frac{T_{\\text{res}}}{\\tau}\\right)}{f_c f_d W}\n$$\nWe can now solve this equation for the required resolution time, $T_{\\text{res}}$.\n$$\n\\mathrm{MTBF} \\cdot f_c f_d W = \\exp\\left(\\frac{T_{\\text{res}}}{\\tau}\\right)\n$$\nTaking the natural logarithm of both sides:\n$$\n\\ln\\left(\\mathrm{MTBF} \\cdot f_c f_d W\\right) = \\frac{T_{\\text{res}}}{\\tau}\n$$\nFinally, the expression for $T_{\\text{res}}$ is:\n$$\nT_{\\text{res}} = \\tau \\ln\\left(\\mathrm{MTBF} \\cdot f_c f_d W\\right)\n$$\nNow, we evaluate $T_{\\text{res}}$ numerically using the provided parameters. All parameters must be in base SI units (seconds, Hertz).\nGiven:\n$\\tau = 12\\,\\text{ps} = 12 \\times 10^{-12}\\,\\text{s}$\n$f_c = 600\\,\\text{MHz} = 600 \\times 10^6\\,\\text{s}^{-1}$\n$f_d = 25\\,\\text{MHz} = 25 \\times 10^6\\,\\text{s}^{-1}$\n$W = 35\\,\\text{ps} = 35 \\times 10^{-12}\\,\\text{s}$\n$\\mathrm{MTBF}_{\\text{target}} = 50\\,\\text{years}$\n\nFirst, we convert the $\\mathrm{MTBF}$ target to seconds:\n$\\mathrm{MTBF} = 50\\,\\text{years} \\times 365.25\\,\\frac{\\text{days}}{\\text{year}} \\times 24\\,\\frac{\\text{hours}}{\\text{day}} \\times 3600\\,\\frac{\\text{s}}{\\text{hour}} = 1\\,577\\,880\\,000\\,\\text{s} \\approx 1.57788 \\times 10^9\\,\\text{s}$.\n\nNext, we calculate the argument of the natural logarithm:\n$$\n\\mathrm{MTBF} \\cdot f_c f_d W = (1.57788 \\times 10^9\\,\\text{s}) \\cdot (600 \\times 10^6\\,\\text{s}^{-1}) \\cdot (25 \\times 10^6\\,\\text{s}^{-1}) \\cdot (35 \\times 10^{-12}\\,\\text{s})\n$$\n$$\n= (1.57788 \\times 10^9) \\cdot (6 \\times 10^8) \\cdot (2.5 \\times 10^7) \\cdot (3.5 \\times 10^{-11})\n$$\n$$\n= 1.57788 \\times 6 \\times 2.5 \\times 3.5 \\times 10^{(9+8+7-11)}\n$$\n$$\n= 82.8387 \\times 10^{13} = 8.28387 \\times 10^{14}\n$$\nNow, we compute the natural logarithm of this value:\n$$\n\\ln(8.28387 \\times 10^{14}) \\approx 34.350493\n$$\nFinally, we calculate $T_{\\text{res}}$:\n$$\nT_{\\text{res}} = (12 \\times 10^{-12}\\,\\text{s}) \\times 34.350493\n$$\n$$\nT_{\\text{res}} \\approx 412.205916 \\times 10^{-12}\\,\\text{s} = 412.205916\\,\\text{ps}\n$$\nThe problem requires the answer in nanoseconds, rounded to four significant figures.\n$$\nT_{\\text{res}} = 0.412205916\\,\\text{ns}\n$$\nRounding to four significant figures gives:\n$$\nT_{\\text{res}} \\approx 0.4122\\,\\text{ns}\n$$\nThe destination clock period is $T_c = 1/f_c = 1/(600 \\times 10^6\\,\\text{Hz}) \\approx 1.667\\,\\text{ns}$. The calculated $T_{\\text{res}} = 0.4122\\,\\text{ns}$ is significantly less than $T_c$, which is physically realistic as $T_{\\text{res}}$ must account for the setup time of the second flip-flop and any clock skew. The chosen parameters lead to a feasible design.",
            "answer": "$$\\boxed{0.4122}$$"
        }
    ]
}