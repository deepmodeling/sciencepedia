{
    "hands_on_practices": [
        {
            "introduction": "Erdős–Rényi (ER) 模型是网络科学中最基础的生成模型，常被用作比较和分析的基准。通过亲手推导其基本性质，我们能更深刻地理解其结构特征及其局限性。这项练习将引导你计算ER随机图中的预期三角形数量和全局集聚系数，从而揭示为何这类简单的概率图在模拟许多现实世界网络时会显得力不从心 。",
            "id": "4278501",
            "problem": "一个广泛使用的网络零生成模型是 Erdős–Rényi (ER) 随机图 $G(n,p)$，其中每对无序的不同节点以概率 $p$ 独立地由一条边连接。令 $T$ 表示三角形的数量（即无序的不同节点三元组，其所有三条可能的边都存在）。令连通节点三元组（也称为楔形）的数量为 $W$，定义为 $W=\\sum_{v} \\binom{D_{v}}{2}$，其中 $D_{v}$ 是节点 $v$ 的度。全局传递性（也称为全局聚类系数）定义为 $C = \\frac{3T}{W}$。\n\n从这些定义和 $G(n,p)$ 中边的独立性出发，推导 $T$ 的期望值和 $C$ 的一个渐近精确表达式（用 $n$ 和 $p$ 表示），该表达式仅依赖于上述定义和标准概率恒等式。然后，对 $n=10^{5}$ 和 $p=10^{-3}$ 计算这两个值。将你的最终数值结果四舍五入到四位有效数字。最终答案中无需单位。",
            "solution": "该问题要求在 Erdős–Rényi 随机图 $G(n,p)$ 中，推导三角形数量的期望值 $\\mathbb{E}[T]$ 和全局传递性 $C$ 的一个渐近精确表达式。随后，需要对给定的 $n$ 和 $p$ 值计算这些量。\n\n首先，我们推导三角形数量的期望值 $\\mathbb{E}[T]$。如果图中的边 $(i,j)$、$(j,k)$ 和 $(k,i)$ 全部存在，那么一组三个不同的节点（比如 $\\{i, j, k\\}$）就构成一个三角形。\n从总共 $n$ 个节点中选择一个无序的三个不同节点的集合，其总方式数由二项式系数 $\\binom{n}{3}$ 给出。\n我们考虑这样一个三节点集合。在 $G(n,p)$ 模型中，任何边的存在都是一个概率为 $p$ 的独立事件。要使这三个节点形成一个三角形，它们之间所有三条可能的边都必须存在。由于边的独立性，这种情况发生的概率是 $p \\times p \\times p = p^3$。\n\n为了求出三角形的总数 $T$ 的期望值，我们可以使用指示器变量法。令 $I_{ijk}$ 为一个指示器随机变量，表示特定的节点三元组 $\\{i, j, k\\}$ 形成一个三角形的事件。\n$$\nI_{ijk} = \\begin{cases} 1  \\text{如果节点 } i,j,k \\text{ 形成三角形} \\\\ 0  \\text{否则} \\end{cases}\n$$\n三角形的总数是这些指示器在所有唯一节点三元组上的和：\n$$\nT = \\sum_{1 \\le i  j  k \\le n} I_{ijk}\n$$\n根据期望的线性性质，三角形的期望数量是这些指示器变量期望值的和：\n$$\n\\mathbb{E}[T] = \\mathbb{E}\\left[\\sum_{1 \\le i  j  k \\le n} I_{ijk}\\right] = \\sum_{1 \\le i  j  k \\le n} \\mathbb{E}[I_{ijk}]\n$$\n指示器变量的期望是它所指示事件的概率。因此，$\\mathbb{E}[I_{ijk}] = P(\\text{节点 } i,j,k \\text{ 形成三角形}) = p^3$。\n和式中的项数是从 $n$ 个节点中选择 3 个节点的方式数，即 $\\binom{n}{3}$。因此，三角形的期望数量是：\n$$\n\\mathbb{E}[T] = \\binom{n}{3} p^3 = \\frac{n(n-1)(n-2)}{6} p^3\n$$\n\n接下来，我们推导全局传递性 $C$ 的一个渐近精确表达式。所提供的定义是 $C = \\frac{3T}{W}$，其中 $W$ 是楔形的数量，由 $W = \\sum_{v} \\binom{D_v}{2}$ 给出。这里，$D_v$ 是节点 $v$ 的度。量 $W$ 计算的是图中长度为二的路径数量。\n对于大型网络，表示全局图属性的随机变量通常高度集中在其均值附近。这使我们能够用随机变量期望的函数来近似随机变量的函数，例如比率 $C = \\frac{3T}{W}$。当 $n \\to \\infty$ 时，这种近似变得越来越精确。\n$$\nC \\approx \\frac{3\\mathbb{E}[T]}{\\mathbb{E}[W]}\n$$\n我们已经求出了 $\\mathbb{E}[T]$。现在我们需要计算 $\\mathbb{E}[W]$。\n使用 $W$ 的定义和期望的线性性质：\n$$\n\\mathbb{E}[W] = \\mathbb{E}\\left[\\sum_{v=1}^{n} \\binom{D_v}{2}\\right] = \\sum_{v=1}^{n} \\mathbb{E}\\left[\\binom{D_v}{2}\\right]\n$$\n在 Erdős–Rényi 图中，由于对称性，所有节点在统计上是等价的。因此，对于所有节点 $v$，$\\mathbb{E}\\left[\\binom{D_v}{2}\\right]$ 都是相同的。我们可以写出：\n$$\n\\mathbb{E}[W] = n \\cdot \\mathbb{E}\\left[\\binom{D_1}{2}\\right]\n$$\n其中 $D_1$ 是任意一个节点（比如节点1）的度。度 $D_1$ 是连接到节点1的边的数量。由于存在 $n-1$ 个其他节点，并且到每个节点的边以概率 $p$ 独立存在，因此度 $D_1$ 服从二项分布：$D_1 \\sim \\text{Binomial}(n-1, p)$。\n我们需要计算 $\\mathbb{E}\\left[\\binom{D_1}{2}\\right]$：\n$$\n\\mathbb{E}\\left[\\binom{D_1}{2}\\right] = \\mathbb{E}\\left[\\frac{D_1(D_1-1)}{2}\\right] = \\frac{1}{2} \\left( \\mathbb{E}[D_1^2] - \\mathbb{E}[D_1] \\right)\n$$\n对于二项分布 $\\text{Bin}(k, p)$，均值为 $kp$，方差为 $kp(1-p)$。对于 $D_1$，我们有 $k=n-1$。\n平均度为 $\\mathbb{E}[D_1] = (n-1)p$。\n方差为 $\\text{Var}(D_1) = (n-1)p(1-p)$。\n使用关系式 $\\text{Var}(D_1) = \\mathbb{E}[D_1^2] - (\\mathbb{E}[D_1])^2$，我们求出 $D_1$ 的二阶矩：\n$$\n\\mathbb{E}[D_1^2] = \\text{Var}(D_1) + (\\mathbb{E}[D_1])^2 = (n-1)p(1-p) + ((n-1)p)^2\n$$\n将此代入 $\\mathbb{E}\\left[\\binom{D_1}{2}\\right]$ 的表达式中：\n$$\n\\mathbb{E}\\left[\\binom{D_1}{2}\\right] = \\frac{1}{2} \\left( (n-1)p(1-p) + ((n-1)p)^2 - (n-1)p \\right)\n$$\n$$\n= \\frac{1}{2} \\left( (n-1)p - (n-1)p^2 + (n-1)^2 p^2 - (n-1)p \\right)\n$$\n$$\n= \\frac{1}{2} \\left( (n-1)^2 p^2 - (n-1)p^2 \\right) = \\frac{p^2}{2} (n-1)(n-1-1) = \\frac{(n-1)(n-2)}{2} p^2\n$$\n这等价于 $\\binom{n-1}{2}p^2$。\n现在我们可以表示出 $\\mathbb{E}[W]$：\n$$\n\\mathbb{E}[W] = n \\cdot \\mathbb{E}\\left[\\binom{D_1}{2}\\right] = n \\binom{n-1}{2} p^2 = \\frac{n(n-1)(n-2)}{2} p^2\n$$\n我们现在可以组合出 $C$ 的渐近表达式：\n$$\nC \\approx \\frac{3\\mathbb{E}[T]}{\\mathbb{E}[W]} = \\frac{3 \\cdot \\frac{n(n-1)(n-2)}{6} p^3}{\\frac{n(n-1)(n-2)}{2} p^2} = \\frac{\\frac{n(n-1)(n-2)}{2} p^3}{\\frac{n(n-1)(n-2)}{2} p^2} = p\n$$\n因此，$C$ 的渐近精确表达式就是 $p$。这反映了一个事实，在 $G(n,p)$ 图中，由于边的独立性，一个给定节点的两个邻居节点本身相连的概率就是 $p$。\n\n最后，我们对 $n=10^5$ 和 $p=10^{-3}$ 计算推导出的表达式。\n对于三角形的期望数量：\n$$\n\\mathbb{E}[T] = \\binom{10^5}{3} (10^{-3})^3 = \\frac{10^5 \\cdot (10^5-1) \\cdot (10^5-2)}{6} \\cdot (10^{-3})^3\n$$\n$$\n\\mathbb{E}[T] = \\frac{10^5 \\cdot 99999 \\cdot 99998}{6} \\cdot 10^{-9}\n$$\n$$\n\\mathbb{E}[T] = \\frac{9999700002 \\times 10^5}{6} \\cdot 10^{-9} = \\frac{9.999700002 \\times 10^{14}}{6} \\cdot 10^{-9}\n$$\n$$\n\\mathbb{E}[T] = 1.666616667 \\times 10^{14} \\cdot 10^{-9} = 1.666616667 \\times 10^5\n$$\n四舍五入到四位有效数字，我们得到 $\\mathbb{E}[T] \\approx 1.667 \\times 10^5$。\n\n对于全局传递性，渐近表达式为 $C \\approx p$。\n给定 $p=10^{-3}$，其值为 $0.001$。用科学记数法表示并四舍五入到四位有效数字，即为 $1.000 \\times 10^{-3}$。\n\n所要求的数值结果是 $\\mathbb{E}[T]$ 和 $C$。\n$\\mathbb{E}[T] \\approx 1.667 \\times 10^5$\n$C \\approx 1.000 \\times 10^{-3}$",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 1.667 \\times 10^{5}  1.000 \\times 10^{-3} \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "并非所有网络的连接都纯粹是概率性的；许多网络的形成都受到物理空间的限制。随机几何图 (Random Geometric Graph, RGG) 便是这类空间嵌入网络的一个经典模型，其中节点的连接取决于它们的物理距离。本练习将通过计算一个节点的预期度，来帮助你理解几何约束如何直接影响网络的基本拓扑性质 。",
            "id": "4278510",
            "problem": "考虑以下称为随机几何图（RGG）的生成式空间网络模型。在单位正方形 $[0,1]^{2}$ 上，根据均匀分布独立同分布地放置 $n$ 个节点。对于一个固定的连接半径 $R0$，当且仅当两个不同节点之间的欧几里得距离至多为 $R$ 时，用一条无向边连接它们。假设在一个可以忽略边界效应的情景下，这意味着为了计算连接概率，你可以将每个节点视为位于远离边界的内部，使其 $R$-邻域实际上是一个面积为 $\\pi R^{2}$ 的完整圆盘。进一步假设 $R$ 满足 $\\pi R^{2} \\leq 1$，从而确保所述的概率解释在单位面积域内是良定义的。\n\n仅从该模型的核心定义、$[0,1]^{2}$ 上的均匀分布、节点度的定义以及期望的线性性出发，在所述假设下，推导出一个统一随机选择节点的期望度关于 $n$ 和 $R$ 的封闭形式表达式。将你的最终答案表示为单个简化的解析表达式。不要四舍五入。",
            "solution": "问题要求在一个特定的随机几何图模型中，一个统一随机选择的节点的期望度。设 $n$ 个节点的集合为 $V = \\{1, 2, \\dots, n\\}$。每个节点 $i \\in V$ 的位置是一个随机变量 $\\mathbf{X}_i$，独立同分布于单位正方形上的均匀分布，即 $\\mathbf{X}_i \\sim U([0,1]^2)$。\n\n当且仅当两个不同节点 $i$ 和 $j$ 之间的欧几里得距离 $\\|\\mathbf{X}_i - \\mathbf{X}_j\\|$ 至多为 $R$ 时，它们之间存在一条无向边。节点 $i$ 的度，用随机变量 $K_i$ 表示，是连接到该节点的边的数量。我们可以将 $K_i$ 表示为指示变量的和：\n$$\nK_i = \\sum_{j \\in V, j \\neq i} \\mathbb{I}(\\|\\mathbf{X}_i - \\mathbf{X}_j\\| \\leq R)\n$$\n其中 $\\mathbb{I}(\\cdot)$ 是指示函数，当其参数为真时值为 $1$，否则为 $0$。\n\n我们需要求的是一个统一随机选择的节点的期望度。由于模型的对称性（所有节点的位置都是独立同分布的），所有节点 $i$ 的期望度 $E[K_i]$ 都是相同的。因此，一个随机选择的节点的期望度就是任意节点 $i$ 的 $E[K_i]$。我们接下来计算这个值。\n\n利用期望的线性性，我们可以写出：\n$$\nE[K_i] = E\\left[ \\sum_{j \\neq i} \\mathbb{I}(\\|\\mathbf{X}_i - \\mathbf{X}_j\\| \\leq R) \\right] = \\sum_{j \\neq i} E\\left[ \\mathbb{I}(\\|\\mathbf{X}_i - \\mathbf{X}_j\\| \\leq R) \\right]\n$$\n这个和是对网络中其他 $n-1$ 个节点进行的。一个指示变量的期望是它所指示事件的概率。我们用 $p$ 表示这个概率：\n$$\np = E\\left[ \\mathbb{I}(\\|\\mathbf{X}_i - \\mathbf{X}_j\\| \\leq R) \\right] = P(\\|\\mathbf{X}_i - \\mathbf{X}_j\\| \\leq R)\n$$\n由于节点位置是独立同分布的，这个连接概率 $p$ 对于任何一对不同的节点 $(i, j)$ 都是相同的。\n\n为了计算 $p$，我们考虑节点 $i$ 和 $j$ 的位置。问题陈述节点在单位正方形 $[0,1]^2$ 上均匀分布，其总面积为 $1^2 = 1$。一个节点 $j$ 与位于固定位置 $\\mathbf{x}_i$ 的节点 $i$ 相连的概率，是 $\\mathbf{X}_j$ 必须所处的区域面积除以定义域的总面积。这个区域是以 $\\mathbf{x}_i$ 为中心、半径为 $R$ 的圆盘与单位正方形的交集，即 $D(\\mathbf{x}_i, R) \\cap [0,1]^2$。\n\n完整的计算需要将此交集面积对正方形内所有可能的位置 $\\mathbf{x}_i$进行平均。然而，问题提供了一个关键的简化假设：“可以忽略边界效应，这意味着为了计算连接概率，你可以将每个节点视为位于远离边界的内部，使其 $R$-邻域实际上是一个面积为 $\\pi R^2$ 的完整圆盘。”\n\n这个假设指示我们将任意节点的连接区域近似为半径为 $R$ 的完整圆盘的面积，即 $\\pi R^2$。因此，任意两个不同节点之间连接的概率 $p$ 是：\n$$\np = \\frac{\\text{连接区域的面积}}{\\text{总面积}} = \\frac{\\pi R^2}{1} = \\pi R^2\n$$\n所给条件 $\\pi R^2 \\leq 1$ 确保了这是一个有效的概率，即 $0 \\leq p \\leq 1$。\n\n现在，我们可以将这个概率代回到期望度的表达式中：\n$$\nE[K_i] = \\sum_{j \\neq i} p\n$$\n求和项遍历了所有从 $1$ 到 $n$ 的 $j$，但 $j=i$ 除外，总共有 $n-1$ 项。\n$$\nE[K_i] = \\sum_{j \\neq i} \\pi R^2 = (n-1) \\pi R^2\n$$\n这是任意给定节点 $i$ 的期望度，因此也是一个统一随机选择的节点的期望度。",
            "answer": "$$\n\\boxed{(n-1) \\pi R^{2}}\n$$"
        },
        {
            "introduction": "现实世界中的许多网络，如社交网络和互联网，都表现出重尾的度分布，通常可以用幂律来近似。为了生成具有特定度序列的网络，配置模型 (Configuration Model) 是一个强有力的工具。这项练习不仅要求你从一个截断的幂律分布中计算预期的平均度，还将引导你面对一个实际生成过程中的关键挑战——结构截断，它决定了在网络规模较大时能否成功生成一个没有自环和重边的简单图 。",
            "id": "4278534",
            "problem": "考虑一个生成网络模型，其中节点的度独立地从一个截断幂律度分布中采样，该分布由 $P(k)\\propto k^{-\\gamma}$ 指定，适用于整数 $k$ 的范围 $k\\in[k_{\\min},k_{\\max}]$，其中 $k_{\\min}=1$，$k_{\\max}=10^{3}$ 且 $\\gamma=2.5$。假设网络是使用组态模型（Configuration Model, CM）构建的，其定义如下：给定一个度序列 $\\{k_{i}\\}_{i=1}^{n}$，为每个节点 $i$ 连接 $k_{i}$ 个半边（stub），然后将这些半边均匀随机地配对以形成边，并在可行的情况下拒绝自环和平行边，以生成简单图。\n\n从离散分布的基本定义和渐近连续近似出发，完成以下任务：\n\n1. 使用 $P(k)$ 的归一化和期望度 $\\langle k\\rangle$ 的定义，在 $[k_{\\min},k_{\\max}]$ 上截断幂律的连续近似下，推导 $\\langle k\\rangle$ 的解析表达式。然后，对给定参数计算该表达式的数值。\n\n2. 利用组态模型中半边匹配概率的第一性原理，推导结构截断值 $k_{s}$，它作为一个标度阈值，确保在 $n$ 趋于无穷大的极限下，多重边和自环的概率趋于零。用 $n$ 和 $\\langle k\\rangle$ 表示 $k_{s}$，并用它来评估在 $n=10^{5}$ 的情况下，使用指定的截断值 $k_{\\max}$ 获得一个简单图的可行性。\n\n将你的最终答案以一个二元行矩阵 $\\begin{pmatrix}a  b\\end{pmatrix}$ 的形式返回，其中：\n- 第一个元素 $a$ 是期望平均度 $\\langle k\\rangle$，四舍五入到四位有效数字。\n- 第二个元素 $b$ 是一个可行性指标，如果 $k_{\\max}\\leq k_{s}$ 则 $b=1$，否则 $b=0$。\n\n最终答案不需要单位。将任何需要的数值四舍五入到四位有效数字。",
            "solution": "我们从截断幂律度分布的定义开始。设在 $[k_{\\min},k_{\\max}]$ 上离散分布的连续近似为\n$$\np(k) = C\\,k^{-\\gamma},\\quad k\\in[k_{\\min},k_{\\max}],\n$$\n其中 $C$ 是由以下条件决定的归一化常数：\n$$\n\\int_{k_{\\min}}^{k_{\\max}} C\\,k^{-\\gamma}\\,dk = 1.\n$$\n对于 $\\gamma\\neq 1$，我们有\n$$\n\\int k^{-\\gamma}\\,dk = \\frac{k^{1-\\gamma}}{1-\\gamma}.\n$$\n因此，\n$$\nC\\,\\frac{k_{\\max}^{1-\\gamma}-k_{\\min}^{1-\\gamma}}{1-\\gamma} = 1\n\\quad\\Rightarrow\\quad\nC = \\frac{1-\\gamma}{k_{\\max}^{1-\\gamma}-k_{\\min}^{1-\\gamma}}\n= \\frac{\\gamma-1}{k_{\\min}^{1-\\gamma}-k_{\\max}^{1-\\gamma}}.\n$$\n当 $k_{\\min}=1$ 且 $\\gamma=2.5$ 时，这变为\n$$\nC = \\frac{\\gamma-1}{1 - k_{\\max}^{1-\\gamma}}\n= \\frac{2.5-1}{1 - k_{\\max}^{-1.5}}\n= \\frac{1.5}{1 - k_{\\max}^{-1.5}}.\n$$\n\n在连续近似下，期望度为\n$$\n\\langle k\\rangle = \\int_{k_{\\min}}^{k_{\\max}} k\\,p(k)\\,dk\n= \\int_{k_{\\min}}^{k_{\\max}} C\\,k^{1-\\gamma}\\,dk.\n$$\n对于 $\\gamma=2.5$，我们有 $1-\\gamma=-1.5$，因此\n$$\n\\int k^{-1.5}\\,dk = \\frac{k^{2-\\gamma}}{2-\\gamma} = \\frac{k^{-0.5}}{-0.5} = -2\\,k^{-0.5}.\n$$\n因此，\n$$\n\\langle k\\rangle\n= C\\left[-2\\,k^{-0.5}\\right]_{k_{\\min}}^{k_{\\max}}\n= C\\cdot 2\\left(k_{\\min}^{-0.5}-k_{\\max}^{-0.5}\\right).\n$$\n当 $k_{\\min}=1$ 时，这简化为\n$$\n\\langle k\\rangle = 2C\\left(1 - k_{\\max}^{-0.5}\\right).\n$$\n代入 $C$ 的表达式，\n$$\n\\langle k\\rangle\n= 2\\cdot \\frac{1.5}{1 - k_{\\max}^{-1.5}}\\left(1 - k_{\\max}^{-0.5}\\right)\n= 3\\,\\frac{1 - k_{\\max}^{-0.5}}{1 - k_{\\max}^{-1.5}}.\n$$\n对于 $k_{\\max}=10^{3}$，注意到 $10^{3}$ 的 $-0.5$ 次方是 $10^{-1.5}$，而其 $-1.5$ 次方是 $10^{-4.5}$。因此，\n$$\n\\langle k\\rangle\n= 3\\,\\frac{1 - 10^{-1.5}}{1 - 10^{-4.5}}.\n$$\n数值上，$10^{-1.5}=0.03162277660168379$ 且 $10^{-4.5}=0.00003162277660168379$，得到\n$$\n\\langle k\\rangle\n= 3\\,\\frac{1 - 0.03162277660168379}{1 - 0.00003162277660168379}\n= 3\\,\\frac{0.9683772233983162}{0.9999683772233983}\n\\approx 3\\times 0.9684078471396242\n\\approx 2.9052235414188726.\n$$\n四舍五入到四位有效数字，结果是\n$$\n\\langle k\\rangle \\approx 2.905.\n$$\n\n接下来，我们评估通过组态模型（CM）生成简单图的可行性。在CM中，半边被均匀随机地配对。来自节点 $i$ 和 $j$ 的两个半边相连的概率近似为\n$$\np_{ij} \\approx \\frac{k_{i}k_{j}}{2m},\n$$\n其中 $m$ 是边的数量，且 $2m=\\sum_{i}k_{i}=n\\,\\langle k\\rangle$。为了使多重边和自环的期望数量在 $n$ 趋于无穷大的极限下可以忽略不计，最大度 $k_{\\max}$ 满足结构截断条件即可：\n$$\nk_{\\max} \\lesssim k_{s},\\quad\\text{其中}\\quad k_{s}=\\sqrt{2m}=\\sqrt{n\\,\\langle k\\rangle}.\n$$\n这是通过将 $k_{i},k_{j}\\leq k_{\\max}$ 代入来限定 $p_{ij}$ 得出的，这意味着 $p_{ij}\\lesssim k_{\\max}^{2}/(2m)$；要求 $p_{ij}\\ll 1$ 则得到 $k_{\\max}\\ll\\sqrt{2m}$，并由此引出阈值 $k_{s}=\\sqrt{n\\,\\langle k\\rangle}$。\n\n对于 $n=10^{5}$ 和计算出的 $\\langle k\\rangle\\approx 2.9052235414188726$，\n$$\nk_{s} = \\sqrt{n\\,\\langle k\\rangle}\n= \\sqrt{10^{5}\\times 2.9052235414188726}\n= \\sqrt{290522.35414188726}\n\\approx 539.001256.\n$$\n与 $k_{\\max}=10^{3}$ 比较，\n$$\nk_{\\max}=1000  k_{s}\\approx 539.001256,\n$$\n所以指定的截断值超过了结构截断值。在没有附加约束的CM下，这意味着在 $n=10^{5}$ 的规模下，使用给定的 $k_{\\max}$ 生成一个简单图（无自环或平行边）是不可行的；因此，我们将可行性指标设为 $0$。\n\n所要求的最终答案是包含四舍五入后的期望度和可行性指标的二元行矩阵。",
            "answer": "$$\\boxed{\\begin{pmatrix}2.905  0\\end{pmatrix}}$$"
        }
    ]
}