{
    "hands_on_practices": [
        {
            "introduction": "Understanding the opportunities and constraints embedded in a social network is a central goal of network analysis. This exercise provides a foundational, hands-on calculation of structural constraint, a concept developed by Ronald Burt to quantify the redundancy in an individual's network. By computing the constraint exerted by each of an ego's alters, you will gain a concrete understanding of how direct and indirect connections combine to limit an actor's access to novel information and control, a key mechanism underlying the theory of structural holes. ",
            "id": "4303500",
            "problem": "Consider an ego-centric, weighted, directed social network that models information or resource allocation among actors. Let the ego be actor $i$ with alters $A$, $B$, and $C$. For any ordered pair of actors $(a,b)$, let $w_{ab}$ denote the fraction of $a$’s total outgoing investment directed to $b$. Assume there are no self-ties, so $w_{aa}=0$ for all actors $a$, and that all outgoing weights are nonnegative and sum to one for each actor. Define the normalized exposure (proportion) $p_{ab}$ as the actor’s relative investment, $p_{ab} = w_{ab} / \\sum_{k} w_{ak}$, so that $p_{ab}$ equals $w_{ab}$ whenever the outgoing weights of actor $a$ already sum to one.\n\nThe ego’s outgoing weights are given by $w_{iA} = 0.5$, $w_{iB} = 0.3$, and $w_{iC} = 0.2$, and satisfy $\\sum_{j \\in \\{A,B,C\\}} w_{ij} = 1$. Each alter’s outgoing weights toward the other alters satisfy the same normalization and are given by\n- $w_{A B} = 0.6$ and $w_{A C} = 0.4$,\n- $w_{B A} = 0.2$ and $w_{B C} = 0.8$,\n- $w_{C A} = 0.7$ and $w_{C B} = 0.3$.\n\nUsing the fundamental definition that the ego’s exposure to alter $j$ consists of direct exposure via $i \\to j$ and indirect exposure via two-step paths $i \\to q \\to j$ through neighbors $q \\in \\{A,B,C\\}$, compute the detailed constraint components $c_{ij}$ for $j \\in \\{A,B,C\\}$ and the ego’s total network constraint $C_{i}$ as the sum of these components over all alters. Based on these values, interpret qualitatively how each alter contributes to ego $i$’s constraint in terms of triadic closure, weak ties, and structural holes.\n\nExpress your final answer for the total network constraint $C_{i}$ as a unitless decimal and round your final answer to four significant figures.",
            "solution": "The problem is first validated for scientific soundness, well-posedness, and objectivity.\n\n### Step 1: Extract Givens\n- Network is ego-centric, weighted, and directed.\n- Ego: actor $i$. Alters: $j \\in \\{A, B, C\\}$.\n- Weight $w_{ab}$: fraction of actor $a$'s total outgoing investment to $b$.\n- No self-ties: $w_{aa}=0$.\n- Normalization: $\\sum_{b} w_{ab} = 1$ for any actor $a$.\n- Normalized exposure: $p_{ab} = w_{ab} / \\sum_{k} w_{ak}$, which simplifies to $p_{ab}=w_{ab}$.\n- Ego's outgoing weights: $w_{iA} = 0.5$, $w_{iB} = 0.3$, $w_{iC} = 0.2$.\n- Alters' outgoing weights:\n    - Actor $A$: $w_{A B} = 0.6$, $w_{A C} = 0.4$.\n    - Actor $B$: $w_{B A} = 0.2$, $w_{B C} = 0.8$.\n    - Actor $C$: $w_{C A} = 0.7$, $w_{C B} = 0.3$.\n- Task: Compute constraint components $c_{ij}$ and total constraint $C_i = \\sum_j c_{ij}$.\n- Definition of exposure: \"ego’s exposure to alter $j$ consists of direct exposure via $i \\to j$ and indirect exposure via two-step paths $i \\to q \\to j$ through neighbors $q \\in \\{A,B,C\\}$\".\n\n### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded in the field of network science, specifically invoking the concept of network constraint developed by Ronald Burt. The provided data is internally consistent, with all outgoing weights summing to $1$ as stated. The problem is well-posed, as it provides all necessary values to compute the requested quantities. The only ambiguity lies in the term \"constraint components $c_{ij}$,\" which is not explicitly defined. However, the description of exposure (direct plus indirect paths) perfectly matches the term inside the parenthesis of Burt's formal definition of network constraint. It is standard in this field to define the constraint component $c_{ij}$ that ego $i$ experiences from alter $j$ as the square of the total exposure of $i$ to $j$. The problem phrasing \"Using the fundamental definition...\" implies that this standard definition is to be used. Thus, the problem is deemed valid under the assumption of this standard definition.\n\n### Step 3: Verdict and Action\nThe problem is valid. The solution will proceed by applying the standard definition of network constraint.\n\n### Solution\nThe network consists of an ego actor, $i$, and a set of three alters, $\\{A, B, C\\}$. The interactions are described by weights $w_{ab}$ representing the fraction of actor $a$'s investment directed to actor $b$. Since the outgoing weights for each actor are normalized to sum to $1$, the normalized exposure $p_{ab}$ is equal to the weight $w_{ab}$.\n\nThe network constraint on ego $i$ from an alter $j$ is a measure of the redundancy of the $i \\to j$ tie. It is fundamentally defined based on the total exposure of $i$ to $j$, which includes the direct tie $p_{ij}$ and all indirect ties through intermediary actors $q$. The constraint component, $c_{ij}$, is the square of this total exposure. The formula, as established by R. Burt, is:\n$$\nc_{ij} = \\left( p_{ij} + \\sum_{q \\neq i, j} p_{iq} p_{qj} \\right)^2\n$$\nHere, $p_{ij}$ represents the direct exposure, and the summation term $\\sum_{q \\neq i, j} p_{iq} p_{qj}$ represents the indirect exposure through all other alters $q$. The total network constraint on ego $i$ is the sum of the components from all alters: $C_i = \\sum_j c_{ij}$.\n\nWe compute the constraint component for each alter $j \\in \\{A, B, C\\}$.\n\n1.  **Constraint from alter A ($c_{iA}$)**\n    The alters that can act as intermediaries are $q \\in \\{B, C\\}$. The formula is:\n    $$\n    c_{iA} = \\left( p_{iA} + p_{iB}p_{BA} + p_{iC}p_{CA} \\right)^2\n    $$\n    Using the given weights where $p_{ab} = w_{ab}$:\n    - Direct exposure: $p_{iA} = 0.5$.\n    - Indirect exposure through $B$: $p_{iB}p_{BA} = (0.3)(0.2) = 0.06$.\n    - Indirect exposure through $C$: $p_{iC}p_{CA} = (0.2)(0.7) = 0.14$.\n    - Total indirect exposure to $A$: $0.06 + 0.14 = 0.20$.\n    The total exposure of $i$ to $A$ is $0.5 + 0.20 = 0.70$.\n    The constraint component is:\n    $$\n    c_{iA} = (0.70)^2 = 0.49\n    $$\n\n2.  **Constraint from alter B ($c_{iB}$)**\n    The alters that can act as intermediaries are $q \\in \\{A, C\\}$. The formula is:\n    $$\n    c_{iB} = \\left( p_{iB} + p_{iA}p_{AB} + p_{iC}p_{CB} \\right)^2\n    $$\n    Using the given weights:\n    - Direct exposure: $p_{iB} = 0.3$.\n    - Indirect exposure through $A$: $p_{iA}p_{AB} = (0.5)(0.6) = 0.30$.\n    - Indirect exposure through $C$: $p_{iC}p_{CB} = (0.2)(0.3) = 0.06$.\n    - Total indirect exposure to $B$: $0.30 + 0.06 = 0.36$.\n    The total exposure of $i$ to $B$ is $0.3 + 0.36 = 0.66$.\n    The constraint component is:\n    $$\n    c_{iB} = (0.66)^2 = 0.4356\n    $$\n\n3.  **Constraint from alter C ($c_{iC}$)**\n    The alters that can act as intermediaries are $q \\in \\{A, B\\}$. The formula is:\n    $$\n    c_{iC} = \\left( p_{iC} + p_{iA}p_{AC} + p_{iB}p_{BC} \\right)^2\n    $$\n    Using the given weights:\n    - Direct exposure: $p_{iC} = 0.2$.\n    - Indirect exposure through $A$: $p_{iA}p_{AC} = (0.5)(0.4) = 0.20$.\n    - Indirect exposure through $B$: $p_{iB}p_{BC} = (0.3)(0.8) = 0.24$.\n    - Total indirect exposure to $C$: $0.20 + 0.24 = 0.44$.\n    The total exposure of $i$ to $C$ is $0.2 + 0.44 = 0.64$.\n    The constraint component is:\n    $$\n    c_{iC} = (0.64)^2 = 0.4096\n    $$\n\nFinally, we compute the total network constraint $C_i$ on the ego by summing these components:\n$$\nC_i = c_{iA} + c_{iB} + c_{iC} = 0.49 + 0.4356 + 0.4096 = 1.3352\n$$\n\n### Qualitative Interpretation\nThe calculated constraint components are $c_{iA} = 0.49$, $c_{iB} \\approx 0.436$, and $c_{iC} \\approx 0.410$. The total constraint is $C_i \\approx 1.335$. A high constraint value indicates that the ego's relationships are redundant and his or her social capital is concentrated within a dense, cohesive group.\n\n-   **Triadic Closure**: All three alters impose significant constraint on ego $i$. This is indicative of strong triadic closure. For each of ego's ties (e.g., $i \\to A$), there are strong indirect paths through other alters (e.g., $i \\to B \\to A$ and $i \\to C \\to A$). This means the alters $A$, $B$, and $C$ are themselves highly interconnected, forming a tight cluster around the ego. The high indirect exposure values ($0.20$ for $A$, $0.36$ for $B$, $0.44$ for $C$) quantify this redundancy. For instance, even the weakest direct tie, $i \\to C$ ($w_{iC}=0.2$), is made highly constraining ($c_{iC}=0.4096$) because of the very strong indirect connections to $C$ via $A$ and $B$.\n\n-   **Structural Holes**: A high total constraint like $C_i = 1.3352$ signifies a lack of structural holes in ego's network. Structural holes are gaps in a social structure, where an ego connects to actors who are not connected to each other. By bridging such a hole, the ego can broker information and control resources. In this network, all of ego's alters are connected to each other, meaning there are no holes for ego to span. Ego $i$ is embedded within a single cohesive component, not bridging disparate groups.\n\n-   **Weak Ties**: According to Granovetter's theory, weak ties are valuable because they often act as bridges to novel information and diverse social circles. In this network, all of ego's ties are \"strong\" in the structural sense that they are heavily embedded and redundant. Even the tie with the lowest weight ($w_{iC}=0.2$) is not a structurally \"weak\" tie in the Granovetterian sense, as it is reinforced by strong triadic relationships. Consequently, ego's network is likely to provide redundant information and limited opportunities for social or economic advantage that arise from brokerage. Alter $A$ contributes the most to this constraint ($c_{iA}=0.49$), largely because it is ego's primary investment and is also well-connected to other alters.\n\nRounding the final answer for $C_i$ to four significant figures gives $1.335$.",
            "answer": "$$\n\\boxed{1.335}\n$$"
        },
        {
            "introduction": "Building on the static concept of constraint, this problem explores the strategic dimension of network structures. It presents a hypothetical scenario where an ego actively reconfigures their social ties to enhance their structural advantage. This exercise challenges you to move beyond calculation to a deeper theoretical understanding, deriving the precise change in structural constraint that results from trading a strong, redundant tie for multiple weaker, non-redundant ties that bridge structural holes. ",
            "id": "4303471",
            "problem": "Consider an ego node $i$ in a directed, weighted social network where tie strengths are normalized to proportions. Let $p_{ij}$ denote the proportion of ego $i$’s relational investment allocated to alter $j$, with $\\sum_{j} p_{ij} = 1$. The Burt structural constraint of ego $i$ is defined, in terms of $p_{ij}$ and the alters’ tie proportions, by a standard formula from the literature on structural holes.\n\nInitially, ego $i$ has one strong tie to alter $A$ and $n$ additional ties to alters $X_{1},\\dots,X_{n}$. The tie proportions are $p_{iA} = s$ with $0 < s < 1$, and $p_{iX_{k}} = w_{k} > 0$ for $k=1,\\dots,n$, satisfying $\\sum_{k=1}^{n} w_{k} = 1 - s$. Assume that, among ego $i$’s alters, only $A$ has outgoing ties to the alters $X_{k}$, with $p_{A X_{k}} = a_{k} \\ge 0$ for $k=1,\\dots,n$, and that each $X_{k}$ has an outgoing tie to $A$ with $p_{X_{k} A} = b_{k} \\ge 0$. For all pairs $X_{k} \\neq X_{\\ell}$, suppose there are no outgoing ties among them within ego $i$’s neighborhood (that is, for all $k \\neq \\ell$, $p_{X_{k} X_{\\ell}} = 0$). This implies that the only within-neighborhood outgoing ties relevant for indirect exposures among ego $i$’s alters are $A \\to X_{k}$ and $X_{k} \\to A$.\n\nNow ego $i$ removes the tie to $A$ and reallocates the same total strength $s$ equally to two new alters $B$ and $C$ that are otherwise disconnected from ego $i$’s existing alters. That is, after the reallocation, $p_{iB} = p_{iC} = s/2$, $p_{iA} = 0$, and the previous $w_{k}$ remain unchanged; moreover, for every prior alter $q \\in \\{X_{1},\\dots,X_{n}\\}$ and for both new alters $B$ and $C$, assume $p_{qB} = 0$ and $p_{qC} = 0$ as well as there being no outgoing ties among $B$, $C$, and any $X_{k}$ within ego $i$’s neighborhood.\n\nUsing only standard, widely accepted definitions from the literature on structural holes and social network analysis, derive the exact closed-form expression for the change in ego $i$’s total constraint, defined as the new constraint minus the old constraint, due to this reallocation. Express your final answer in terms of $s$, $\\{w_{k}\\}_{k=1}^{n}$, $\\{a_{k}\\}_{k=1}^{n}$, and $\\{b_{k}\\}_{k=1}^{n}$. No numerical approximation is required; provide the exact algebraic expression.",
            "solution": "The problem requires the calculation of the change in an ego node $i$'s structural constraint due to a specified reallocation of social ties. The structural constraint, as defined by Burt, quantifies the extent to which an ego's alters are connected to each other, thus limiting the ego's opportunities to broker connections and access non-redundant information.\n\nFirst, we must state the standard formula for Burt's total structural constraint on an ego node $i$. Let $J$ be the set of alters to whom ego $i$ has ties. The proportion of $i$'s investment in alter $j \\in J$ is $p_{ij}$, with $\\sum_{j \\in J} p_{ij} = 1$. The constraint exerted by alter $j$ on ego $i$ is denoted $c_{ij}$ and is given by:\n$$c_{ij} = \\left( p_{ij} + \\sum_{q \\in J, q \\neq j} p_{iq} p_{qj} \\right)^2$$\nThe term $\\sum_{q \\in J, q \\neq j} p_{iq} p_{qj}$ represents the indirect tie strength from $i$ to $j$ through third-party alters $q$. The total constraint on ego $i$, denoted $C_i$, is the sum of the constraints from all of its alters:\n$$C_i = \\sum_{j \\in J} c_{ij}$$\nThe problem asks for the change in total constraint, $\\Delta C = C_{new} - C_{old}$, where $C_{old}$ is the constraint in the initial network configuration and $C_{new}$ is the constraint after the change.\n\nWe proceed by calculating $C_{old}$ and $C_{new}$ separately.\n\n**Calculation of the Initial Constraint ($C_{old}$)**\n\nIn the initial state, the set of ego $i$'s alters is $J_{old} = \\{A, X_{1}, \\dots, X_{n}\\}$. The direct tie proportions from $i$ are given as $p_{iA} = s$ and $p_{iX_{k}} = w_{k}$ for $k \\in \\{1, \\dots, n\\}$.\nThe total constraint is the sum of constraints from each alter: $C_{old} = c_{iA} + \\sum_{k=1}^{n} c_{iX_k}$.\n\n1.  **Constraint from alter $A$ ($c_{iA}$):**\n    The indirect investment to $A$ comes from paths through alters $X_{k}$.\n    $$c_{iA} = \\left( p_{iA} + \\sum_{k=1}^{n} p_{iX_{k}} p_{X_{k}A} \\right)^2$$\n    Substituting the given values $p_{iA} = s$, $p_{iX_k} = w_k$, and $p_{X_k A} = b_k$:\n    $$c_{iA} = \\left( s + \\sum_{k=1}^{n} w_{k} b_{k} \\right)^2$$\n\n2.  **Constraint from alter $X_j$ ($c_{iX_j}$ for any $j \\in \\{1, \\dots, n\\}$):**\n    The indirect investment to $X_j$ can come from paths through alter $A$ or other alters $X_k$ where $k \\neq j$.\n    $$c_{iX_j} = \\left( p_{iX_j} + p_{iA} p_{AX_j} + \\sum_{k=1, k \\neq j}^{n} p_{iX_k} p_{X_k X_j} \\right)^2$$\n    We are given that $p_{X_k X_j} = 0$ for all $k \\neq j$. Thus, the sum over $k$ is zero. Substituting the given values $p_{iX_j} = w_j$, $p_{iA} = s$, and $p_{AX_j} = a_j$:\n    $$c_{iX_j} = \\left( w_j + s a_j + 0 \\right)^2 = \\left( w_j + s a_j \\right)^2$$\n\n3.  **Total old constraint ($C_{old}$):**\n    Summing the constraints from all alters:\n    $$C_{old} = c_{iA} + \\sum_{j=1}^{n} c_{iX_j} = \\left( s + \\sum_{k=1}^{n} w_{k} b_{k} \\right)^2 + \\sum_{j=1}^{n} \\left( w_j + s a_j \\right)^2$$\n\n**Calculation of the New Constraint ($C_{new}$)**\n\nAfter the reallocation, the tie to $A$ is removed, and two new alters $B$ and $C$ are added. The new set of ego $i$'s alters is $J_{new} = \\{B, C, X_{1}, \\dots, X_{n}\\}$. The new direct tie proportions are $p_{iB} = s/2$, $p_{iC} = s/2$, and $p_{iX_k} = w_k$ for $k \\in \\{1, \\dots, n\\}$. It is specified that there are no ties between the new alters ($B, C$) and the old alters ($\\{X_k\\}$), nor between $B$ and $C$.\nThe new total constraint is $C_{new} = c_{iB} + c_{iC} + \\sum_{k=1}^{n} c'_{iX_k}$.\n\n1.  **Constraint from alter $B$ ($c_{iB}$):**\n    The indirect investment to $B$ comes from paths through $C$ or any $X_k$.\n    $$c_{iB} = \\left( p_{iB} + p_{iC} p_{CB} + \\sum_{k=1}^{n} p_{iX_k} p_{X_k B} \\right)^2$$\n    According to the problem statement, $p_{CB} = 0$ and $p_{X_k B} = 0$ for all $k$.\n    $$c_{iB} = \\left( \\frac{s}{2} + 0 + 0 \\right)^2 = \\left( \\frac{s}{2} \\right)^2 = \\frac{s^2}{4}$$\n\n2.  **Constraint from alter $C$ ($c_{iC}$):**\n    By symmetry with alter $B$, the calculation is identical.\n    $$c_{iC} = \\left( p_{iC} + p_{iB} p_{BC} + \\sum_{k=1}^{n} p_{iX_k} p_{X_k C} \\right)^2 = \\left( \\frac{s}{2} \\right)^2 = \\frac{s^2}{4}$$\n\n3.  **New constraint from alter $X_j$ ($c'_{iX_j}$ for any $j \\in \\{1, \\dots, n\\}$):**\n    In the new network, the indirect investment to $X_j$ could come from paths through $B$, $C$, or other alters $X_k$ where $k \\neq j$.\n    $$c'_{iX_j} = \\left( p_{iX_j} + p_{iB} p_{BX_j} + p_{iC} p_{CX_j} + \\sum_{k=1, k \\neq j}^{n} p_{iX_k} p_{X_k X_j} \\right)^2$$\n    We are given that $p_{BX_j} = 0$, $p_{CX_j} = 0$, and $p_{X_k X_j} = 0$.\n    $$c'_{iX_j} = \\left( w_j + 0 + 0 + 0 \\right)^2 = w_j^2$$\n\n4.  **Total new constraint ($C_{new}$):**\n    Summing the constraints from all alters in the new network:\n    $$C_{new} = c_{iB} + c_{iC} + \\sum_{j=1}^{n} c'_{iX_j} = \\frac{s^2}{4} + \\frac{s^2}{4} + \\sum_{j=1}^{n} w_j^2 = \\frac{s^2}{2} + \\sum_{j=1}^{n} w_j^2$$\n\n**Calculation of the Change in Constraint ($\\Delta C$)**\n\nThe change in total constraint is $\\Delta C = C_{new} - C_{old}$.\n$$\\Delta C = \\left( \\frac{s^2}{2} + \\sum_{j=1}^{n} w_j^2 \\right) - \\left( \\left( s + \\sum_{k=1}^{n} w_{k} b_{k} \\right)^2 + \\sum_{j=1}^{n} \\left( w_j + s a_j \\right)^2 \\right)$$\nNow, we expand the squared terms in the expression for $C_{old}$:\n$$\\left( s + \\sum_{k=1}^{n} w_{k} b_{k} \\right)^2 = s^2 + 2s \\sum_{k=1}^{n} w_{k} b_{k} + \\left( \\sum_{k=1}^{n} w_{k} b_{k} \\right)^2$$\n$$\\sum_{j=1}^{n} \\left( w_j + s a_j \\right)^2 = \\sum_{j=1}^{n} \\left( w_j^2 + 2w_j s a_j + s^2 a_j^2 \\right) = \\sum_{j=1}^{n} w_j^2 + 2s \\sum_{j=1}^{n} w_j a_j + s^2 \\sum_{j=1}^{n} a_j^2$$\nSubstituting these back into the expression for $\\Delta C$:\n$$\\Delta C = \\frac{s^2}{2} + \\sum_{j=1}^{n} w_j^2 - \\left[ s^2 + 2s \\sum_{k=1}^{n} w_{k} b_{k} + \\left( \\sum_{k=1}^{n} w_{k} b_{k} \\right)^2 \\right] - \\left[ \\sum_{j=1}^{n} w_j^2 + 2s \\sum_{j=1}^{n} w_j a_j + s^2 \\sum_{j=1}^{n} a_j^2 \\right]$$\nWe can now distribute the negative signs and simplify. The summation index is a dummy variable, so we can use $k$ consistently.\n$$\\Delta C = \\frac{s^2}{2} + \\sum_{k=1}^{n} w_k^2 - s^2 - 2s \\sum_{k=1}^{n} w_{k} b_{k} - \\left( \\sum_{k=1}^{n} w_{k} b_{k} \\right)^2 - \\sum_{k=1}^{n} w_k^2 - 2s \\sum_{k=1}^{n} w_k a_k - s^2 \\sum_{k=1}^{n} a_k^2$$\nThe terms $\\sum_{k=1}^{n} w_k^2$ and $-\\sum_{k=1}^{n} w_k^2$ cancel each other out. Combining the remaining terms:\n$$\\Delta C = \\left(\\frac{s^2}{2} - s^2\\right) - s^2 \\sum_{k=1}^{n} a_k^2 - 2s \\left(\\sum_{k=1}^{n} w_k a_k + \\sum_{k=1}^{n} w_k b_k\\right) - \\left( \\sum_{k=1}^{n} w_{k} b_{k} \\right)^2$$\n$$\\Delta C = -\\frac{s^2}{2} - s^2 \\sum_{k=1}^{n} a_k^2 - 2s \\sum_{k=1}^{n} w_{k}(a_k + b_k) - \\left( \\sum_{k=1}^{n} w_{k} b_{k} \\right)^2$$\nThis is the final closed-form expression for the change in ego $i$'s total structural constraint. All terms are non-positive (since $s > 0$, $w_k > 0$, $a_k \\ge 0$, $b_k \\ge 0$), indicating that the constraint on ego $i$ decreases, which aligns with the intuition of replacing a single constraining central contact with two peripheral, disconnected contacts.",
            "answer": "$$ \\boxed{ -\\frac{s^2}{2} - s^2 \\sum_{k=1}^{n} a_{k}^{2} - 2s \\sum_{k=1}^{n} w_{k}(a_{k}+b_{k}) - \\left(\\sum_{k=1}^{n} w_{k} b_{k}\\right)^{2} } $$"
        },
        {
            "introduction": "This practice transitions from theoretical analysis to empirical investigation, a crucial skill in modern network science. You will test a core tenet of social network theory—the relationship between tie strength and a node's bridging potential—using a simulated dataset and a standard statistical model. By operationalizing concepts like tie strength and bridging betweenness centrality and fitting a regression model, you will learn how to translate abstract social theories into testable hypotheses and quantitative evidence. ",
            "id": "4303487",
            "problem": "You are given weighted, undirected graphs that represent call detail records where each edge weight captures the total number of calls between two individuals over a fixed observation window. The objective is to quantify the association between tie strength and bridging betweenness centrality while controlling for degree, formulated as a regression model, and to implement this pipeline for a specified test suite of graphs. The program to be produced must be self-contained and produce the required output without user input.\n\nFundamental base and definitions:\n- Let a network be represented by a weighted, undirected graph with adjacency matrix $\\mathbf{A} \\in \\mathbb{R}^{n \\times n}$ where $A_{ij} = A_{ji} \\ge 0$ and $A_{ii} = 0$ for all $i$. An edge exists between nodes $i$ and $j$ if and only if $A_{ij} > 0$.\n- The unweighted structural degree of node $i$ is $k_i = \\left|\\{j \\in \\{1,\\dots,n\\} : A_{ij} > 0\\}\\right|$.\n- The tie strength of node $i$ is defined as the average weight of its incident edges, $s_i = \\frac{1}{k_i} \\sum_{j : A_{ij} > 0} A_{ij}$.\n- Consider weighted shortest paths where each edge $(i,j)$ has length $\\ell_{ij} = \\frac{1}{A_{ij}}$ for $A_{ij} > 0$. The distance between nodes $s$ and $t$ is the minimal sum of $\\ell_{uv}$ along any path from $s$ to $t$.\n- The node betweenness centrality $C_B(i)$ for node $i$ is defined by $C_B(i) = \\sum_{s \\ne i \\ne t, s \\ne t} \\frac{\\sigma_{st}(i)}{\\sigma_{st}}$, where $\\sigma_{st}$ is the total number of shortest paths between $s$ and $t$, and $\\sigma_{st}(i)$ is the number of those shortest paths that pass through node $i$. For weighted graphs, shortest paths are with respect to lengths $\\ell_{ij}$.\n- The bridging betweenness centrality for node $i$ is defined as $B(i) = \\frac{C_B(i)}{k_i}$, which emphasizes nodes that broker between groups (structural holes) while penalizing hubs with large $k_i$.\n- To estimate the association between tie strength and bridging betweenness centrality while controlling for degree, we employ Ordinary Least Squares (OLS) regression: for each node $i$, set the response $y_i = B(i)$ and predictors $x_{i1} = s_i$ and $x_{i2} = k_i$, with an intercept. The model is $y_i = \\beta_0 + \\beta_1 x_{i1} + \\beta_2 x_{i2} + \\varepsilon_i$. The OLS estimator is $\\hat{\\boldsymbol{\\beta}} = (\\mathbf{X}^\\top \\mathbf{X})^{-1} \\mathbf{X}^\\top \\mathbf{y}$, where $\\mathbf{X}$ is the design matrix whose rows are $(1, x_{i1}, x_{i2})$ and $\\mathbf{y}$ is the vector of responses. The coefficient $\\hat{\\beta}_1$ quantifies the association between tie strength and bridging betweenness centrality, controlling for degree.\n\nTask:\n- For each graph in the test suite, compute $k_i$, $s_i$, $C_B(i)$, and $B(i)$ for all nodes using the definitions above, then fit the OLS regression $y_i = \\beta_0 + \\beta_1 s_i + \\beta_2 k_i + \\varepsilon_i$, and extract $\\hat{\\beta}_1$ (the coefficient on $s_i$).\n- All shortest path calculations must be done on weighted graphs with edge lengths $\\ell_{ij} = 1/A_{ij}$.\n- All graphs are undirected and connected, so $k_i \\ge 1$ for all $i$.\n\nTest suite:\nProvide three adjacency matrices, each specified as $\\mathbf{A}^{(m)}$ for test case $m$.\n\n1. Test case $1$ (two cohesive groups bridged by a weak tie), with $n=6$:\n$$\n\\mathbf{A}^{(1)} =\n\\begin{bmatrix}\n0 & 5 & 4 & 0 & 0 & 0 \\\\\n5 & 0 & 5 & 0 & 0 & 0 \\\\\n4 & 5 & 0 & 1 & 0 & 0 \\\\\n0 & 0 & 1 & 0 & 5 & 4 \\\\\n0 & 0 & 0 & 5 & 0 & 5 \\\\\n0 & 0 & 0 & 4 & 5 & 0\n\\end{bmatrix}.\n$$\n\n2. Test case $2$ (star topology with heterogeneous tie strengths), with $n=5$:\n$$\n\\mathbf{A}^{(2)} =\n\\begin{bmatrix}\n0 & 10 & 1 & 2 & 3 \\\\\n10 & 0 & 0 & 0 & 0 \\\\\n1 & 0 & 0 & 0 & 0 \\\\\n2 & 0 & 0 & 0 & 0 \\\\\n3 & 0 & 0 & 0 & 0\n\\end{bmatrix}.\n$$\n\n3. Test case $3$ (a tightly closed triad connected to a linear chain by a weak tie), with $n=5$:\n$$\n\\mathbf{A}^{(3)} =\n\\begin{bmatrix}\n0 & 6 & 6 & 0 & 0 \\\\\n6 & 0 & 6 & 0 & 0 \\\\\n6 & 6 & 0 & 1 & 0 \\\\\n0 & 0 & 1 & 0 & 2 \\\\\n0 & 0 & 0 & 2 & 0\n\\end{bmatrix}.\n$$\n\nOutput specification:\n- For each test case $m \\in \\{1,2,3\\}$, compute the OLS coefficient $\\hat{\\beta}_1^{(m)}$ on tie strength $s_i$.\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., $\\texttt{[result1,result2,result3]}$). Each result must be a floating-point number. No additional text should be printed.",
            "solution": "The posed problem requires the computation of a specific regression coefficient that quantifies the relationship between node-level tie strength and bridging betweenness centrality, while controlling for node degree, across a suite of specified graphs. The solution is executed by implementing a computational pipeline based on the provided definitions. This involves a multi-step process for each graph: calculation of basic node properties, determination of all-pairs shortest paths to compute betweenness centrality, and finally, Ordinary Least Squares (OLS) regression.\n\nLet the given weighted, undirected graph be represented by its adjacency matrix $\\mathbf{A}$, where $A_{ij}$ is the weight of the edge between nodes $i$ and $j$.\n\n**Step 1: Computation of Node-Level Structural Properties**\n\nFor each node $i$ in the graph with $n$ nodes, we first compute its fundamental properties: structural degree ($k_i$) and tie strength ($s_i$).\n\n1.  **Structural Degree ($k_i$)**: The degree $k_i$ is the number of direct connections node $i$ has. It is calculated by counting the non-zero entries in the $i$-th row (or column) of the adjacency matrix $\\mathbf{A}$:\n    $$k_i = \\left|\\{j \\in \\{1,\\dots,n\\} : A_{ij} > 0\\}\\right|$$\n    The problem states that all graphs are connected, which implies $k_i \\ge 1$ for all $i$.\n\n2.  **Tie Strength ($s_i$)**: The tie strength $s_i$ is defined as the average weight of all edges incident to node $i$. It is computed by summing the weights of these edges and dividing by the node's degree $k_i$:\n    $$s_i = \\frac{1}{k_i} \\sum_{j : A_{ij} > 0} A_{ij}$$\n\n**Step 2: Computation of Bridging Betweenness Centrality**\n\nThis step involves two sub-procedures: calculating the node betweenness centrality ($C_B(i)$) and then normalizing it by the degree to obtain the bridging betweenness centrality ($B(i)$).\n\n1.  **Node Betweenness Centrality ($C_B(i)$)**: This metric quantifies how often a node $i$ lies on the shortest paths between other pairs of nodes $(s, t)$. The problem defines it as:\n    $$C_B(i) = \\sum_{s \\ne i \\ne t, s \\ne t} \\frac{\\sigma_{st}(i)}{\\sigma_{st}}$$\n    where $\\sigma_{st}$ is the total count of shortest paths between nodes $s$ and $t$, and $\\sigma_{st}(i)$ is the number of such paths that pass through node $i$.\n\n    The shortest path calculations are performed on a graph where edge lengths are inversely proportional to the tie strengths (weights), $\\ell_{ij} = 1/A_{ij}$ for $A_{ij} > 0$. This correctly models stronger ties as shorter \"social distances\".\n\n    The computation of $C_B(i)$ for all nodes is most efficiently performed using Brandes' algorithm. This algorithm avoids the computationally expensive enumeration of all paths. It operates by iterating through each node $s$ as a source and performing the following:\n    a.  **Single-Source Shortest Paths (SSSP)**: A modified Dijkstra's algorithm is run from source $s$ to compute the shortest distance $d(s, t)$ and the number of shortest paths $\\sigma_{st}$ to all other nodes $t$. A priority queue is used to explore nodes in increasing order of distance. During this traversal, for each node $v$, we maintain a list of its predecessors $P(v)$ on shortest paths from $s$.\n    b.  **Dependency Accumulation**: After the SSSP phase, nodes are processed in decreasing order of their distance from $s$. For each node $w$, its dependency on the source $s$, denoted $\\delta_s(w)$, is calculated. This represents the sum of fractions of shortest paths from $s$ to other nodes $t$ that pass through $w$. The dependency of a node $v$ is updated based on the dependencies of its successors $w$ on the shortest paths from s:\n    $$\\delta_s(v) = \\sum_{w : v \\in P(w)} \\frac{\\sigma_{sv}}{\\sigma_{sw}}(1 + \\delta_s(w))$$\n    The betweenness centrality $C_B(v)$ is the sum of these dependencies over all possible sources $s$: $C_B(v) = \\sum_{s \\ne v} \\delta_s(v)$. The summation in the definition is over ordered pairs $(s,t)$, which is precisely what Brandes' algorithm computes, so no additional normalization factor (e.g., $1/2$) is required for undirected graphs under this definition.\n\n2.  **Bridging Betweenness Centrality ($B(i)$)**: This metric is derived by normalizing the standard betweenness centrality $C_B(i)$ by the node's degree $k_i$.\n    $$B(i) = \\frac{C_B(i)}{k_i}$$\n    This normalization penalizes high-degree nodes (hubs) and emphasizes nodes that act as bridges between distinct network regions, which often have a lower degree but high centrality.\n\n**Step 3: Ordinary Least Squares (OLS) Regression**\n\nThe final step is to quantify the association between tie strength ($s_i$) and bridging betweenness centrality ($B(i)$) while controlling for degree ($k_i$). This is achieved by fitting a linear regression model. For each node $i$, we define a response variable $y_i = B(i)$ and a set of predictors: $x_{i1} = s_i$ and $x_{i2} = k_i$. The model includes an intercept term $\\beta_0$:\n$$y_i = \\beta_0 + \\beta_1 x_{i1} + \\beta_2 x_{i2} + \\varepsilon_i$$\nThis can be expressed in matrix form as $\\mathbf{y} = \\mathbf{X}\\boldsymbol{\\beta} + \\boldsymbol{\\varepsilon}$. The vector of responses is $\\mathbf{y} = [B(0), B(1), \\dots, B(n-1)]^\\top$. The design matrix $\\mathbf{X}$ is an $n \\times 3$ matrix where each row $i$ is $[1, s_i, k_i]$.\n\nThe OLS estimator $\\hat{\\boldsymbol{\\beta}}$ for the coefficient vector $\\boldsymbol{\\beta} = [\\beta_0, \\beta_1, \\beta_2]^\\top$ is given by the normal equations:\n$$\\hat{\\boldsymbol{\\beta}} = (\\mathbf{X}^\\top \\mathbf{X})^{-1} \\mathbf{X}^\\top \\mathbf{y}$$\nThe coefficient of interest is $\\hat{\\beta}_1$, which represents the partial effect of tie strength on bridging betweenness, holding degree constant. This is obtained by constructing the matrices $\\mathbf{X}$ and $\\mathbf{y}$ from the previously computed metrics and solving this system of linear equations, for instance, using `numpy.linalg.solve`.\n\nThis entire pipeline is applied to each of the three test case adjacency matrices provided, yielding three distinct values for the coefficient $\\hat{\\beta}_1$.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nimport heapq\n\ndef solve():\n    \"\"\"\n    Main solver function that processes each test case and prints the results.\n    \"\"\"\n\n    test_cases = [\n        # Test case 1\n        np.array([\n            [0, 5, 4, 0, 0, 0],\n            [5, 0, 5, 0, 0, 0],\n            [4, 5, 0, 1, 0, 0],\n            [0, 0, 1, 0, 5, 4],\n            [0, 0, 0, 5, 0, 5],\n            [0, 0, 0, 4, 5, 0]\n        ]),\n        # Test case 2\n        np.array([\n            [0, 10, 1, 2, 3],\n            [10, 0, 0, 0, 0],\n            [1, 0, 0, 0, 0],\n            [2, 0, 0, 0, 0],\n            [3, 0, 0, 0, 0]\n        ]),\n        # Test case 3\n        np.array([\n            [0, 6, 6, 0, 0],\n            [6, 0, 6, 0, 0],\n            [6, 6, 0, 1, 0],\n            [0, 0, 1, 0, 2],\n            [0, 0, 0, 2, 0]\n        ])\n    ]\n\n    results = []\n    for A in test_cases:\n        beta_1 = _process_graph(A)\n        results.append(beta_1)\n\n    print(f\"[{','.join(map(str, results))}]\")\n\ndef _process_graph(A):\n    \"\"\"\n    Computes node metrics and performs OLS regression for a single graph.\n    \"\"\"\n    n = A.shape[0]\n\n    # Step 1: Compute k_i and s_i\n    k = np.zeros(n)\n    s = np.zeros(n)\n    for i in range(n):\n        neighbors = np.where(A[i] > 0)[0]\n        k[i] = len(neighbors)\n        if k[i] > 0:\n            s[i] = np.sum(A[i, neighbors]) / k[i]\n\n    # Step 2: Compute C_B(i) and B(i)\n    # Create length matrix L where L_ij = 1/A_ij\n    with np.errstate(divide='ignore'):\n        L = 1.0 / A\n    L[A == 0] = np.inf\n    np.fill_diagonal(L, 0)\n    \n    C_B = _compute_betweenness_centrality(n, A, L)\n    \n    # an explicit check to avoid division by zero although problem statement\n    # ensures k_i >= 1\n    B = np.zeros(n)\n    non_zero_k_indices = np.where(k > 0)[0]\n    B[non_zero_k_indices] = C_B[non_zero_k_indices] / k[non_zero_k_indices]\n\n    # Step 3: Perform OLS Regression\n    # Construct design matrix X and response vector y\n    X = np.ones((n, 3))\n    X[:, 1] = s\n    X[:, 2] = k\n    y = B\n\n    # Solve for beta using np.linalg.solve for numerical stability\n    XTX = X.T @ X\n    XTy = X.T @ y\n    \n    # Handle cases of perfect multicollinearity resulting in a singular matrix\n    if np.linalg.det(XTX) == 0:\n        # Use pseudo-inverse for non-unique solutions.\n        # This is a robust way to handle the linear algebra.\n        beta_hat = np.linalg.pinv(XTX) @ XTy\n    else:\n        beta_hat = np.linalg.solve(XTX, XTy)\n\n    beta_1 = beta_hat[1]\n    return beta_1\n\ndef _compute_betweenness_centrality(n, adj, length_matrix):\n    \"\"\"\n    Computes node betweenness centrality for a weighted graph using Brandes' algorithm.\n    \"\"\"\n    betweenness = np.zeros(n, dtype=np.float64)\n    for s_node in range(n):\n        # SSSP phase using Dijkstra's algorithm\n        stack = []\n        predecessors = [[] for _ in range(n)]\n        sigma = np.zeros(n, dtype=np.float64)\n        sigma[s_node] = 1.0\n        dist = np.full(n, np.inf, dtype=np.float64)\n        dist[s_node] = 0.0\n        \n        pq = [(0.0, s_node)]\n        \n        while pq:\n            d, u = heapq.heappop(pq)\n            \n            if d > dist[u]:\n                continue\n            \n            stack.append(u)\n            \n            # Iterate through neighbors\n            neighbors = np.where(adj[u] > 0)[0]\n            for v in neighbors:\n                l_uv = length_matrix[u, v]\n                # Path relaxation\n                if dist[v] > dist[u] + l_uv:\n                    dist[v] = dist[u] + l_uv\n                    heapq.heappush(pq, (dist[v], v))\n                    sigma[v] = 0.0\n                    predecessors[v] = []\n                \n                # Path counting on shortest path\n                # Use a small tolerance for floating point comparisons\n                if np.isclose(dist[v], dist[u] + l_uv):\n                    sigma[v] += sigma[u]\n                    predecessors[v].append(u)\n\n        # Accumulation phase\n        delta = np.zeros(n, dtype=np.float64)\n        while stack:\n            w = stack.pop()\n            for v_pred in predecessors[w]:\n                if sigma[w] != 0:\n                    delta[v_pred] += (sigma[v_pred] / sigma[w]) * (1.0 + delta[w])\n            if w != s_node:\n                betweenness[w] += delta[w]\n                \n    return betweenness\n\nif __name__ == \"__main__\":\n    solve()\n\n```"
        }
    ]
}