{
    "hands_on_practices": [
        {
            "introduction": "Understanding a complex system often begins with choosing the right way to represent it. For hypergraphs, the incidence matrix is a foundational tool that explicitly maps the relationships between vertices and hyperedges. This practice will guide you through deriving fundamental properties like vertex degrees and hyperedge sizes directly from the incidence matrix, culminating in a proof of the hypergraph \"handshaking lemma\"—a vital counting principle that connects local properties to a global sum. ",
            "id": "4282485",
            "problem": "Consider a finite hypergraph $\\mathcal{H}=(V,E)$, where $V$ is the set of vertices and $E$ is the set of hyperedges, each hyperedge $e \\in E$ being a subset of $V$. The binary incidence matrix (BIM) $B \\in \\{0,1\\}^{|V| \\times |E|}$ is defined by $B_{ve}=1$ if $v \\in e$ and $B_{ve}=0$ otherwise. The degree of a vertex $v \\in V$ is defined as the number of hyperedges containing it, denoted $d(v)$, and the size of a hyperedge $e \\in E$ is defined as the number of vertices it contains, denoted $|e|$.\n\nStarting from these definitions and without assuming any auxiliary formulas beyond standard set membership and finite summation, derive the identities $d(v)=\\sum_{e \\in E} B_{ve}$ for all $v \\in V$ and $|e|=\\sum_{v \\in V} B_{ve}$ for all $e \\in E$. Then, show that the double sums $\\sum_{v \\in V} d(v)$ and $\\sum_{e \\in E} |e|$ are equal and interpret this common value in terms of the entries of $B$.\n\nNumerically verify these identities for the hypergraph $\\mathcal{H}$ specified by $V=\\{1,2,3,4,5\\}$ and $E=\\{e_{1},e_{2},e_{3}\\}$ with $e_{1}=\\{1,2,5\\}$, $e_{2}=\\{2,3,4,5\\}$, and $e_{3}=\\{1,3\\}$. Compute the common finite sum\n$$\nS=\\sum_{v \\in V} d(v)=\\sum_{e \\in E} |e|=\\sum_{v \\in V}\\sum_{e \\in E} B_{ve}^{2},\n$$\nand report its exact numerical value as an integer. No rounding is required and no physical units are involved. Express the final answer as a single number.",
            "solution": "The problem statement is a valid exercise in elementary hypergraph theory. It asks for the derivation of fundamental identities, a proof of a double counting equality, and the numerical verification and calculation for a specific instance. All definitions are standard and the problem is self-contained and well-posed.\n\nFirst, we will derive the identities for the vertex degree $d(v)$ and hyperedge size $|e|$.\n\nThe degree of a vertex $v \\in V$, denoted $d(v)$, is defined as the number of hyperedges that contain $v$. This can be written using set cardinality as $d(v) = |\\{e \\in E \\mid v \\in e\\}|$. The binary incidence matrix $B$ is defined such that $B_{ve} = 1$ if $v \\in e$ and $B_{ve} = 0$ if $v \\notin e$. The value $B_{ve}$ can be interpreted as an indicator function for the membership of vertex $v$ in hyperedge $e$.\n\nTo derive the formula for $d(v)$, we consider the sum $\\sum_{e \\in E} B_{ve}$ for a fixed vertex $v$. This sum iterates through all hyperedges in $E$. A term $B_{ve}$ in the sum contributes $1$ to the total if the vertex $v$ is an element of the hyperedge $e$, and it contributes $0$ otherwise. Therefore, the sum precisely counts the number of hyperedges that contain $v$. This is, by definition, the degree of $v$.\n$$\nd(v) = \\sum_{e \\in E, v \\in e} 1 + \\sum_{e \\in E, v \\notin e} 0 = \\sum_{e \\in E} B_{ve}\n$$\n\nSimilarly, the size of a hyperedge $e \\in E$, denoted $|e|$, is defined as the number of vertices it contains. This can be written as $|e| = |\\{v \\in V \\mid v \\in e\\}|$.\n\nTo derive the formula for $|e|$, we consider the sum $\\sum_{v \\in V} B_{ve}$ for a fixed hyperedge $e$. This sum iterates through all vertices in $V$. A term $B_{ve}$ contributes $1$ to the total if the vertex $v$ is an element of the hyperedge $e$, and it contributes $0$ otherwise. Thus, the sum counts the number of vertices contained in the hyperedge $e$. This is, by definition, the size of $e$.\n$$\n|e| = \\sum_{v \\in V, v \\in e} 1 + \\sum_{v \\in V, v \\notin e} 0 = \\sum_{v \\in V} B_{ve}\n$$\n\nNext, we show that the double sums $\\sum_{v \\in V} d(v)$ and $\\sum_{e \\in E} |e|$ are equal. We substitute the expressions derived above into these sums.\n$$\n\\sum_{v \\in V} d(v) = \\sum_{v \\in V} \\left( \\sum_{e \\in E} B_{ve} \\right)\n$$\n$$\n\\sum_{e \\in E} |e| = \\sum_{e \\in E} \\left( \\sum_{v \\in V} B_{ve} \\right)\n$$\nBoth expressions are double summations of the same terms $B_{ve}$ over the set of all vertex-hyperedge pairs $(v,e) \\in V \\times E$. Since the hypergraph is finite, the sets $V$ and $E$ are finite, and the summation is over a finite number of non-negative terms. Therefore, the order of summation can be interchanged (a result analogous to Fubini's theorem for discrete sums).\n$$\n\\sum_{v \\in V} \\sum_{e \\in E} B_{ve} = \\sum_{e \\in E} \\sum_{v \\in V} B_{ve}\n$$\nThis proves the equality $\\sum_{v \\in V} d(v) = \\sum_{e \\in E} |e|$.\n\nThe common value of these sums, $\\sum_{v \\in V} \\sum_{e \\in E} B_{ve}$, represents the sum of all entries in the binary incidence matrix $B$. Since each entry $B_{ve}=1$ corresponds to a single incidence (i.e., the vertex $v$ is in the hyperedge $e$), the total sum represents the total number of vertex-hyperedge incidences in the hypergraph $\\mathcal{H}$.\n\nNow, we perform the numerical verification for the given hypergraph $\\mathcal{H}=(V,E)$ where $V=\\{1,2,3,4,5\\}$ and $E=\\{e_{1},e_{2},e_{3}\\}$ with $e_{1}=\\{1,2,5\\}$, $e_{2}=\\{2,3,4,5\\}$, and $e_{3}=\\{1,3\\}$. The number of vertices is $|V|=5$ and the number of hyperedges is $|E|=3$.\n\nThe binary incidence matrix $B$ is a $5 \\times 3$ matrix, with rows indexed by vertices and columns by hyperedges.\n$$\nB = \\begin{pmatrix}\n1 & 0 & 1 \\\\\n1 & 1 & 0 \\\\\n0 & 1 & 1 \\\\\n0 & 1 & 0 \\\\\n1 & 1 & 0\n\\end{pmatrix}\n$$\nThe rows correspond to vertices $1, 2, 3, 4, 5$ and columns to hyperedges $e_1, e_2, e_3$.\n\nWe compute the vertex degrees $d(v)$ by summing the rows of $B$:\n$d(1) = B_{1,e_1} + B_{1,e_2} + B_{1,e_3} = 1+0+1 = 2$.\n$d(2) = B_{2,e_1} + B_{2,e_2} + B_{2,e_3} = 1+1+0 = 2$.\n$d(3) = B_{3,e_1} + B_{3,e_2} + B_{3,e_3} = 0+1+1 = 2$.\n$d(4) = B_{4,e_1} + B_{4,e_2} + B_{4,e_3} = 0+1+0 = 1$.\n$d(5) = B_{5,e_1} + B_{5,e_2} + B_{5,e_3} = 1+1+0 = 2$.\n\nThe sum of vertex degrees is:\n$$\n\\sum_{v \\in V} d(v) = d(1)+d(2)+d(3)+d(4)+d(5) = 2+2+2+1+2 = 9\n$$\n\nWe compute the hyperedge sizes $|e|$ by summing the columns of $B$:\n$|e_1| = B_{1,e_1} + B_{2,e_1} + B_{3,e_1} + B_{4,e_1} + B_{5,e_1} = 1+1+0+0+1 = 3$. This matches the given set $e_1=\\{1,2,5\\}$.\n$|e_2| = B_{1,e_2} + B_{2,e_2} + B_{3,e_2} + B_{4,e_2} + B_{5,e_2} = 0+1+1+1+1 = 4$. This matches the given set $e_2=\\{2,3,4,5\\}$.\n$|e_3| = B_{1,e_3} + B_{2,e_3} + B_{3,e_3} + B_{4,e_3} + B_{5,e_3} = 1+0+1+0+0 = 2$. This matches the given set $e_3=\\{1,3\\}$.\n\nThe sum of hyperedge sizes is:\n$$\n\\sum_{e \\in E} |e| = |e_1|+|e_2|+|e_3| = 3+4+2 = 9\n$$\nThe sums are indeed equal, verifying the identity for this specific case.\n\nFinally, we compute the quantity $S = \\sum_{v \\in V} d(v) = \\sum_{e \\in E} |e|=\\sum_{v \\in V}\\sum_{e \\in E} B_{ve}^{2}$.\nSince the entries of $B$ are binary, $B_{ve} \\in \\{0, 1\\}$, we have $B_{ve}^2 = B_{ve}$ for all $v \\in V, e \\in E$.\nTherefore, $\\sum_{v \\in V}\\sum_{e \\in E} B_{ve}^{2} = \\sum_{v \\in V}\\sum_{e \\in E} B_{ve}$. This sum is precisely the total number of $1$'s in the matrix $B$, which we have already calculated in two different ways.\nThe value of the common sum is:\n$$\nS = 9\n$$",
            "answer": "$$\\boxed{9}$$"
        },
        {
            "introduction": "Once we can describe a hypergraph's properties, a natural question arises: when are two different-looking hypergraphs structurally the same? The concept of isomorphism provides the formal answer, defining equivalence through a structure-preserving mapping of vertices. This exercise will challenge you to apply this definition by investigating structural invariants—properties that must be identical for two hypergraphs to be isomorphic—and use them to distinguish between two seemingly similar structures. ",
            "id": "4282552",
            "problem": "Consider finite simple hypergraphs, where a hypergraph is an ordered pair $\\left(V,E\\right)$ with $V$ a finite set of vertices and $E \\subseteq \\mathcal{P}(V)\\setminus\\{\\varnothing\\}$ a family of nonempty subsets of $V$ called hyperedges, with no repeated hyperedges. Start from the core definitions and first give a formal definition of when two hypergraphs are isomorphic, using only the fundamentals of set bijections and edge-image preservation under the induced map on subsets. Then, using that definition and only invariants that follow from it, determine whether the following two $3$-uniform hypergraphs on $6$ vertices are isomorphic.\n\nLet $H=\\left(V,E\\right)$ with $V=\\{1,2,3,4,5,6\\}$ and\n$$\nE=\\big\\{\\{1,2,3\\},\\ \\{1,4,5\\},\\ \\{2,4,6\\},\\ \\{3,5,6\\}\\big\\}.\n$$\nLet $H'=\\left(V',E'\\right)$ with $V'=\\{u,v,x,y,w,z\\}$ and\n$$\nE'=\\big\\{\\{u,v,x\\},\\ \\{u,v,y\\},\\ \\{x,w,z\\},\\ \\{y,w,z\\}\\big\\}.\n$$\n\nDecide whether there exists a vertex-set bijection from $V$ to $V'$ that carries hyperedges of $H$ to hyperedges of $H'$ in the sense of the formal definition you provide, either by explicitly constructing such a bijection or by proving that no such bijection can exist using invariants implied by the definition of isomorphism. Report your conclusion using the indicator\n$$\nI(H,H')=\\begin{cases}\n1 & \\text{if $H$ and $H'$ are isomorphic},\\\\\n0 & \\text{otherwise}.\n\\end{cases}\n$$\nThe final answer must be a single number with no units. No rounding is required.",
            "solution": "The problem requires us to first provide a formal definition of hypergraph isomorphism and then use it to determine if two given hypergraphs, $H$ and $H'$, are isomorphic.\n\nFirst, we establish the formal definition of hypergraph isomorphism as requested.\nLet $H_1 = (V_1, E_1)$ and $H_2 = (V_2, E_2)$ be two hypergraphs, where $V_1$ and $V_2$ are the sets of vertices, and $E_1 \\subseteq \\mathcal{P}(V_1)\\setminus\\{\\varnothing\\}$ and $E_2 \\subseteq \\mathcal{P}(V_2)\\setminus\\{\\varnothing\\}$ are the sets of hyperedges. An isomorphism between $H_1$ and $H_2$ is a bijective function (a vertex-set bijection) $f: V_1 \\to V_2$ that preserves the hyperedge structure.\nThe preservation of structure is formalized by considering the map induced by $f$ on the power sets of the vertex sets. Let $\\hat{f}: \\mathcal{P}(V_1) \\to \\mathcal{P}(V_2)$ be this induced map, defined for any subset of vertices $S \\subseteq V_1$ as $\\hat{f}(S) = \\{f(v) \\mid v \\in S\\}$.\nThe bijection $f$ is a hypergraph isomorphism if and only if this induced map $\\hat{f}$ maps the edge set of $H_1$ bijectively onto the edge set of $H_2$. That is, the condition is $\\hat{f}(E_1) = E_2$. This is equivalent to stating that a subset $e \\subseteq V_1$ is a hyperedge in $E_1$ if and only if its image, $\\hat{f}(e)$, is a hyperedge in $E_2$.\n\nTo determine if two hypergraphs are isomorphic, we can examine their structural properties, known as invariants, which must be preserved under any isomorphism. If we find any invariant that differs between the two hypergraphs, we can conclude they are not isomorphic. Such invariants must follow from the definition of isomorphism.\n\nThe two hypergraphs are given as:\n$H = (V,E)$ with $V=\\{1,2,3,4,5,6\\}$ and $E=\\big\\{\\{1,2,3\\}, \\{1,4,5\\}, \\{2,4,6\\}, \\{3,5,6\\}\\big\\}$.\n$H' = (V',E')$ with $V'=\\{u,v,x,y,w,z\\}$ and $E'=\\big\\{\\{u,v,x\\}, \\{u,v,y\\}, \\{x,w,z\\}, \\{y,w,z\\}\\big\\}$.\n\nAs a first step, we check basic invariants. The number of vertices $|V| = 6$ and $|V'| = 6$. The number of hyperedges $|E|=4$ and $|E'|=4$. Both hypergraphs are $3$-uniform, as all hyperedges have cardinality $3$. These basic invariants match, so we must investigate a more detailed structural property.\n\nA powerful invariant derived from the definition of isomorphism is the multiset of cardinalities of pairwise intersections of hyperedges. Let $f: V \\to V'$ be an isomorphism. For any two hyperedges $e_i, e_j \\in E$, their images under the induced map $\\hat{f}$ are $\\hat{f}(e_i)$ and $\\hat{f}(e_j)$, which are hyperedges in $E'$. The intersection of these image hyperedges is:\n$$\n\\hat{f}(e_i) \\cap \\hat{f}(e_j) = \\{f(v) \\mid v \\in e_i\\} \\cap \\{f(v) \\mid v \\in e_j\\} = \\{f(v) \\mid v \\in e_i \\cap e_j\\} = \\hat{f}(e_i \\cap e_j)\n$$\nSince $f$ is a bijection, its restriction to any subset of $V$ is a bijection onto its image. Therefore, the cardinality of the image of a set is equal to the cardinality of the set itself.\n$$\n|\\hat{f}(e_i) \\cap \\hat{f}(e_j)| = |\\hat{f}(e_i \\cap e_j)| = |e_i \\cap e_j|\n$$\nThis means that an isomorphism preserves the size of the intersection of any pair of hyperedges. Consequently, the multiset of all such intersection sizes must be an invariant. There are $\\binom{4}{2} = 6$ pairs of hyperedges to consider for both $H$ and $H'$.\n\nLet's compute this multiset for hypergraph $H$. Let's label the edges for clarity:\n$e_1 = \\{1,2,3\\}$\n$e_2 = \\{1,4,5\\}$\n$e_3 = \\{2,4,6\\}$\n$e_4 = \\{3,5,6\\}$\nCalculating the cardinalities of pairwise intersections for $H$:\n$|e_1 \\cap e_2| = |\\{1,2,3\\} \\cap \\{1,4,5\\}| = |\\{1\\}| = 1$\n$|e_1 \\cap e_3| = |\\{1,2,3\\} \\cap \\{2,4,6\\}| = |\\{2\\}| = 1$\n$|e_1 \\cap e_4| = |\\{1,2,3\\} \\cap \\{3,5,6\\}| = |\\{3\\}| = 1$\n$|e_2 \\cap e_3| = |\\{1,4,5\\} \\cap \\{2,4,6\\}| = |\\{4\\}| = 1$\n$|e_2 \\cap e_4| = |\\{1,4,5\\} \\cap \\{3,5,6\\}| = |\\{5\\}| = 1$\n$|e_3 \\cap e_4| = |\\{2,4,6\\} \\cap \\{3,5,6\\}| = |\\{6\\}| = 1$\nThe multiset of pairwise intersection cardinalities for $H$ is $\\{1, 1, 1, 1, 1, 1\\}$.\n\nNow, let's compute this multiset for hypergraph $H'$. Let's label its edges:\n$e'_1 = \\{u,v,x\\}$\n$e'_2 = \\{u,v,y\\}$\n$e'_3 = {x,w,z}$\n$e'_4 = {y,w,z}$\nCalculating the cardinalities of pairwise intersections for $H'$:\n$|e'_1 \\cap e'_2| = |\\{u,v,x\\} \\cap \\{u,v,y\\}| = |\\{u,v\\}| = 2$\n$|e'_1 \\cap e'_3| = |\\{u,v,x\\} \\cap \\{x,w,z\\}| = |\\{x\\}| = 1$\n$|e'_1 \\cap e'_4| = |\\{u,v,x\\} \\cap \\{y,w,z\\}| = |\\varnothing| = 0$\n$|e'_2 \\cap e'_3| = |\\{u,v,y\\} \\cap \\{x,w,z\\}| = |\\varnothing| = 0$\n$|e'_2 \\cap e'_4| = |\\{u,v,y\\} \\cap \\{y,w,z\\}| = |\\{y\\}| = 1$\n$|e'_3 \\cap e'_4| = |\\{x,w,z\\} \\cap \\{y,w,z\\}| = |\\{w,z\\}| = 2$\nThe multiset of pairwise intersection cardinalities for $H'$ is $\\{2, 1, 0, 0, 1, 2\\}$, which can be ordered as $\\{0, 0, 1, 1, 2, 2\\}$.\n\nComparing the two multisets of intersection sizes:\nFor $H$: $\\{1, 1, 1, 1, 1, 1\\}$\nFor $H'$: $\\{0, 0, 1, 1, 2, 2\\}$\nThese multisets are not identical. Since the multiset of pairwise hyperedge intersection cardinalities is an isomorphism invariant, and it differs for $H$ and $H'$, we can definitively conclude that the two hypergraphs are not isomorphic. No vertex-set bijection $f: V \\to V'$ exists that would map the hyperedges of $H$ to the hyperedges of $H'$.\n\nTherefore, the indicator function value is $I(H,H')=0$.",
            "answer": "$$\\boxed{0}$$"
        },
        {
            "introduction": "The true power of hypergraphs lies in their ability to model complex, higher-order interactions found in real-world systems. A key task in network science is identifying cohesive subgroups, or communities, and this practice applies that goal to hypergraphs by framing it as a partitioning problem. By implementing both a fast greedy heuristic and a computationally intensive exact solver, you will gain hands-on experience with algorithmic design and the fundamental trade-off between optimality and efficiency in network analysis. ",
            "id": "4282490",
            "problem": "Consider a finite hypergraph $H=(V,E)$, where $V$ is a finite vertex set and $E$ is a finite multiset of hyperedges, each hyperedge $e \\in E$ being a subset $e \\subseteq V$ with cardinality $|e| \\geq 1$. A community assignment (partition) is a function $\\pi: V \\to \\{0,1,\\dots,K-1\\}$ that assigns each vertex to one of $K$ communities. Impose the constraint that each community is non-empty, that is, for all $c \\in \\{0,1,\\dots,K-1\\}$ there exists at least one $v \\in V$ with $\\pi(v)=c$. Define the hyperedge cut indicator for $e \\in E$ under partition $\\pi$ as\n$$\n\\chi_e(\\pi) = \\begin{cases}\n1 & \\text{if } \\left|\\left\\{\\pi(v): v \\in e\\right\\}\\right| > 1, \\\\\n0 & \\text{if } \\left|\\left\\{\\pi(v): v \\in e\\right\\}\\right| = 1,\n\\end{cases}\n$$\nso that a hyperedge is considered cut if it contains vertices belonging to more than one community. The total cut size is\n$$\nC(\\pi) = \\sum_{e \\in E} \\chi_e(\\pi).\n$$\nThe goal is to design and implement a greedy heuristic that performs single-vertex moves to strictly decrease $C(\\pi)$ while never violating the non-empty community constraint, and to assess its performance by comparing to the exact minimum cut size obtained by exhaustive search for small hypergraphs.\n\nUse the following fundamental base: the definitions of hypergraph $H=(V,E)$, partition $\\pi$, and cut size $C(\\pi)$ as above; the principle that a greedy algorithm makes locally optimal choices to reduce an objective function; and the well-established fact that exhaustive search over all assignments has computational complexity exponential in $|V|$ but is feasible for small $|V|$. You must not use any pre-derived shortcut formulas that bypass these definitions; instead, derive any needed expressions from the definitions.\n\nAlgorithmic requirements:\n- Implement a greedy move heuristic: starting from a given initial partition $\\pi$, repeatedly consider moving a single vertex $v \\in V$ from its current community $a=\\pi(v)$ to a different community $b \\in \\{0,1,\\dots,K-1\\} \\setminus \\{a\\}$, provided that the move does not leave community $a$ empty and strictly decreases $C(\\pi)$. At each iteration, choose the move that yields the largest strict decrease in $C(\\pi)$; in case of ties, break ties deterministically by preferring the smallest vertex index and then the smallest target community index. Stop when no strictly improving valid move exists. Return the final cut size and the number of moves performed.\n- Implement an exact solver that enumerates all valid partitions $\\pi: V \\to \\{0,1,\\dots,K-1\\}$ with non-empty communities, evaluates $C(\\pi)$, and returns the minimum value $C^\\star = \\min_{\\pi} C(\\pi)$.\n\nYour program must apply the above to the following test suite and produce results for each case. For clarity, vertices are labeled by integers starting at $0$. Each case specifies $|V|$, $E$, $K$, and the initial partition $\\pi$ as an array listing $\\pi(0),\\pi(1),\\dots$ in order.\n\nTest suite:\n- Case $1$ (general happy-path improvement):\n  - $V=\\{0,1,2,3,4\\}$,\n  - $E=\\{\\{0,1,2\\},\\{2,3\\},\\{3,4\\},\\{0,4\\}\\}$,\n  - $K=2$,\n  - initial $\\pi=[0,1,1,0,0]$.\n- Case $2$ (boundary condition: initial partition already optimal with the non-empty constraint):\n  - $V=\\{0,1,2,3\\}$,\n  - $E=\\{\\{0,1\\},\\{1,2\\},\\{2,3\\}\\}$,\n  - $K=2$,\n  - initial $\\pi=[0,0,0,1]$.\n- Case $3$ (local-optimum trap for greedy under non-empty constraint):\n  - $V=\\{0,1,2,3,4,5\\}$,\n  - $E=\\{\\{0,1,2\\},\\{3,4,5\\}\\}$,\n  - $K=3$,\n  - initial $\\pi=[0,1,2,0,1,2]$.\n- Case $4$ (edge case with singleton hyperedges):\n  - $V=\\{0,1,2,3,4\\}$,\n  - $E=\\{\\{0\\},\\{1,2\\},\\{2,3,4\\},\\{3\\},\\{0,4\\}\\}$,\n  - $K=2$,\n  - initial $\\pi=[0,1,1,0,1]$.\n\nFor each case $i$, compute the greedy final cut size $C_{\\text{greedy}}^{(i)}$, the exact optimal cut size $C^\\star{}^{(i)}$, and the number of moves $M^{(i)}$ performed by the greedy heuristic. Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, where each element is itself a list of three integers $[C_{\\text{greedy}}^{(i)},C^\\star{}^{(i)},M^{(i)}]$. For example, the output format for four cases is\n$[[C_{\\text{greedy}}^{(1)},C^\\star{}^{(1)},M^{(1)}],[C_{\\text{greedy}}^{(2)},C^\\star{}^{(2)},M^{(2)}],[C_{\\text{greedy}}^{(3)},C^\\star{}^{(3)},M^{(3)}],[C_{\\text{greedy}}^{(4)},C^\\star{}^{(4)},M^{(4)}]]$.\nNo physical units are involved, and all outputs are integers.",
            "solution": "The problem requires the design and implementation of two distinct algorithms for hypergraph partitioning: a greedy heuristic and an exact solver, both aiming to minimize the number of cut hyperedges under a non-empty community constraint.\n\nThe **exact solver** works by enumerating every possible assignment of vertices to the $K$ communities. For a hypergraph with $|V|$ vertices, there are $K^{|V|}$ such assignments. For each assignment, the algorithm checks for validity, meaning every community must contain at least one vertex (i.e., the partition function $\\pi$ is surjective). For each valid partition, the total cut size $C(\\pi)$ is calculated by iterating through all hyperedges and counting how many are not monochromatic. The minimum cut size found across all valid partitions is the exact optimal solution, $C^\\star$.\n\nThe **greedy heuristic** starts from a given initial partition and iteratively seeks to improve it. In each step, it evaluates all possible single-vertex moves. A move consists of changing the community of a single vertex $v$ from its current community $a$ to a new community $b$. A move is considered valid only if it is strictly improving (i.e., reduces the total cut size) and does not violate the non-empty community constraint (i.e., the original community $a$ must have more than one vertex before the move). From all valid, improving moves, the algorithm selects the one that provides the largest decrease in cut size, following deterministic tie-breaking rules. This process repeats until no more such moves can be found, at which point the algorithm has converged to a local minimum.\n\nThe algorithms are implemented and applied to the test suite as follows:\n\n-   **Case 1:** The initial partition $\\pi=[0,1,1,0,0]$ has a cut size of $C=2$ (hyperedges $\\{0,1,2\\}$ and $\\{2,3\\}$ are cut). The greedy heuristic finds an optimal move: moving vertex 2 from community 1 to 0. This changes the partition to $[0,1,0,0,0]$, reducing the cut size to $C=1$ (only $\\{0,1,2\\}$ is cut). No further improvements are possible. This takes $M=1$ move. The exact solver confirms that the minimum cut size is indeed $C^\\star=1$. The result is $[1,1,1]$.\n\n-   **Case 2:** The initial partition $\\pi=[0,0,0,1]$ has a cut size of $C=1$ (only hyperedge $\\{2,3\\}$ is cut). The non-empty community constraint prevents moving vertex 3. Moving any other vertex from community 0 to 1 would increase the number of cut edges. For example, moving vertex 2 to community 1 results in partition $[0,0,1,1]$, where hyperedge $\\{1,2\\}$ becomes cut, while $\\{2,3\\}$ is no longer cut, yielding $C=1$. Since no strictly decreasing move is possible, the greedy algorithm terminates immediately with $M=0$ moves and a final cut size of $C=1$. Exhaustive search confirms that $C^\\star=1$. The result is $[1,1,0]$.\n\n-   **Case 3:** The initial partition $\\pi=[0,1,2,0,1,2]$ has a cut size of $C=2$, as both hyperedges $\\{0,1,2\\}$ and $\\{3,4,5\\}$ span all three communities. Any single-vertex move fails to reduce the cut size. For example, moving vertex 0 to community 1 results in partition $[1,1,2,0,1,2]$; hyperedge $\\{0,1,2\\}$ still contains communities $\\{1,2\\}$, and hyperedge $\\{3,4,5\\}$ still contains $\\{0,1,2\\}$. The cut remains $C=2$. The greedy algorithm is trapped in this local optimum and terminates with $M=0$ moves and $C_{\\text{greedy}}=2$. However, the exact solver finds a globally optimal cut of $C^\\star=1$. This is achieved by a partition like $[0,0,0,1,1,2]$, which keeps hyperedge $\\{0,1,2\\}$ uncut while cutting $\\{3,4,5\\}$. A cut of 0 is impossible, as that would require both hyperedges to be monochromatic, which cannot be satisfied while using $K=3$ non-empty communities. The result is $[2,1,0]$.\n\n-   **Case 4:** The initial partition $\\pi=[0,1,1,0,1]$ has a cut size of $C=2$ (hyperedges $\\{2,3,4\\}$ and $\\{0,4\\}$ are cut). The greedy heuristic identifies an improving move: moving vertex 4 from community 1 to 0. The new partition is $[0,1,1,0,0]$. In this state, hyperedge $\\{0,4\\}$ is no longer cut. The only remaining cut hyperedge is $\\{2,3,4\\}$. The total cut size is now $C=1$. No further improvements are found, so the algorithm terminates after $M=1$ move with $C_{\\text{greedy}}=1$. The exact solver confirms that $C^\\star=1$. The result is $[1,1,1]$.\n\nThe final results are collected into the required format.",
            "answer": "[[1,1,1],[1,1,0],[2,1,0],[1,1,1]]"
        }
    ]
}