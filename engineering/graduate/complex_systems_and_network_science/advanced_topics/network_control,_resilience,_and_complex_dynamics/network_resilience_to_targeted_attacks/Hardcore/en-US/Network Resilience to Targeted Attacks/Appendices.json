{
    "hands_on_practices": [
        {
            "introduction": "Theoretical models of network resilience are best understood when grounded in concrete examples. This first exercise provides a step-by-step walkthrough of an adaptive attack strategy on a simple, intuitive network structure—the barbell graph. By manually recalculating betweenness centrality after each node removal, you will gain a tangible understanding of how a network's topology dynamically creates vulnerabilities and how targeting nodes that bridge communities can be a devastatingly efficient attack strategy .",
            "id": "4292320",
            "problem": "Consider a simple, undirected, unweighted graph with node set $\\{1,2,3,4,5,6,7,8\\}$. Define the $8$-node barbell graph as follows: nodes $\\{1,2,3\\}$ form a complete graph (clique), nodes $\\{6,7,8\\}$ form a complete graph (clique), and these two cliques are connected by a path of length $3$ running through nodes $\\{3,4,5,6\\}$ via edges $(3,4)$, $(4,5)$, and $(5,6)$. Thus the edge set is all pairs in $\\{1,2,3\\}$, all pairs in $\\{6,7,8\\}$, and the path edges $(3,4)$, $(4,5)$, $(5,6)$. Targeted attacks are adaptive: at each step, remove the single node of currently highest betweenness centrality, then recompute the betweenness centrality on the remaining graph, and repeat. In case of a tie for the highest betweenness centrality at any step, break ties deterministically by selecting the node with the smallest label.\n\nUse the standard definition of betweenness centrality for undirected graphs: for a node $v$, its betweenness centrality is $C_{B}(v)=\\sum_{s\\neq v\\neq t}\\frac{\\sigma_{st}(v)}{\\sigma_{st}}$, where $\\sigma_{st}$ is the number of shortest paths between $s$ and $t$, and $\\sigma_{st}(v)$ is the number of those paths that pass through $v$. The giant component is defined as the connected component of maximal cardinality, and its size is the number of nodes in that component.\n\nStarting from the intact $8$-node barbell graph, apply the adaptive betweenness-based attack until all nodes are removed. Compute the removal sequence (the node label removed at each step) and the resulting giant component size immediately after each deletion. Express your final answer as a single row matrix of length $16$, where the first $8$ entries are the node labels in the removal sequence, and the last $8$ entries are the corresponding giant component sizes after each deletion. No rounding is required. The answer must contain no units and must follow the specified row-matrix format.",
            "solution": "The user-provided problem is first subjected to a validation process.\n\n### Step 1: Extract Givens\n- **Graph Type**: Simple, undirected, unweighted.\n- **Node Set**: $V = \\{1, 2, 3, 4, 5, 6, 7, 8\\}$.\n- **Graph Structure (8-node barbell graph)**:\n    - A complete graph (clique) on nodes $\\{1, 2, 3\\}$.\n    - A complete graph (clique) on nodes $\\{6, 7, 8\\}$.\n    - A path of length $3$ connects these cliques, with edges $(3,4)$, $(4,5)$, and $(5,6)$.\n- **Attack Protocol**:\n    - Adaptive targeted attack based on betweenness centrality.\n    - At each step, the single node with the currently highest betweenness centrality is removed.\n    - Betweenness centrality is recomputed on the remaining graph after each removal.\n- **Tie-Breaking Rule**: If multiple nodes share the highest betweenness centrality, the node with the smallest integer label is removed.\n- **Betweenness Centrality Definition**: $C_B(v) = \\sum_{s \\neq v \\neq t} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$, where $\\sigma_{st}$ is the number of shortest paths between nodes $s$ and $t$, and $\\sigma_{st}(v)$ is the number of such paths that pass through node $v$.\n- **Output Metrics**:\n    1. The sequence of removed nodes.\n    2. The giant component size (number of nodes in the largest connected component) after each node removal.\n- **Final Answer Format**: A single $1 \\times 16$ row matrix, where the first $8$ entries are the removal sequence and the last $8$ are the corresponding giant component sizes.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is evaluated against the specified criteria:\n- **Scientifically Grounded**: The problem is based on standard, well-established concepts in network science, including barbell graphs, betweenness centrality, and targeted attacks. All definitions and premises are scientifically sound.\n- **Well-Posed**: The graph structure is explicitly defined. The attack procedure is deterministic due to the clear removal criterion (highest $C_B$) and the unambiguous tie-breaking rule (smallest label). This ensures that a unique and stable solution exists.\n- **Objective**: The problem is stated using precise, objective, and formal language, free of any subjectivity or ambiguity.\n- **Completeness**: All necessary information, definitions, and conditions are provided to solve the problem.\n\n### Step 3: Verdict and Action\nThe problem is **valid**. A step-by-step solution is warranted.\n\n### Solution\n\nThe process involves iteratively calculating a network metric and modifying the graph. We denote the graph at step $k$ as $G_k$, with $G_0$ being the initial graph.\n\n**Step 0: Initial State ($G_0$)**\n\nThe initial graph $G_0$ has $N_0 = 8$ nodes. It is connected, so its giant component size is $8$. We first compute the betweenness centrality $C_B(v)$ for all nodes $v \\in V_0 = \\{1, 2, 3, 4, 5, 6, 7, 8\\}$. The sum is taken over all ordered pairs of distinct nodes $(s, t)$ not equal to $v$.\n\nThe graph is symmetric. Specifically, $C_B(1) = C_B(2)$, $C_B(7) = C_B(8)$, and the entire graph exhibits a reflectional symmetry swapping clique $\\{1,2,3\\}$ with $\\{6,7,8\\}$ and node $4$ with $5$.\nThis implies: $C_B(1) = C_B(2) = C_B(7) = C_B(8)$, $C_B(3) = C_B(6)$, and $C_B(4) = C_B(5)$.\n\n- **$C_B(1)$, $C_B(2)$, $C_B(7)$, $C_B(8)$**: These are 'leaf' nodes of their respective cliques with respect to the bridge. Any shortest path between two other nodes in the graph will not pass through them. For example, the shortest path from node $2$ to node $4$ is $2-3-4$ (length $2$), not $2-1-3-4$ (length $3$). Thus, their betweenness centrality is $0$.\n$C_B(1) = C_B(2) = C_B(7) = C_B(8) = 0$.\n\n- **$C_B(4)$ and $C_B(5)$**: By symmetry, $C_B(4) = C_B(5)$. Node $4$ is on every shortest path between any node in $\\{1, 2, 3\\}$ and any node in $\\{5, 6, 7, 8\\}$. There are $3 \\times 4 = 12$ such pairs of nodes $(s, t)$. Considering also the reversed pairs $(t, s)$, the total count is $12 \\times 2 = 24$.\n$C_B(4) = C_B(5) = 24$.\n\n- **$C_B(3)$ and $C_B(6)$**: By symmetry, $C_B(3) = C_B(6)$. Node $3$ is on every shortest path between the nodes in its clique $\\{1, 2\\}$ and all nodes on the other side of it, $\\{4, 5, 6, 7, 8\\}$. There are $2 \\times 5 = 10$ such pairs of nodes $(s, t)$. Considering reversed pairs, the total count is $10 \\times 2 = 20$.\n$C_B(3) = C_B(6) = 20$.\n\nThe centrality values for $G_0$ are:\n$C_B(1)=0$, $C_B(2)=0$, $C_B(3)=20$, $C_B(4)=24$, $C_B(5)=24$, $C_B(6)=20$, $C_B(7)=0$, $C_B(8)=0$.\n\n**Step 1: First Removal**\n- The maximum $C_B$ value is $24$, shared by nodes $4$ and $5$.\n- Applying the tie-breaking rule (smallest label), we remove node $4$.\n- **Removal [1]: Node $4$**.\n- The new graph $G_1$ has $V_1 = \\{1, 2, 3, 5, 6, 7, 8\\}$. The removal of node $4$ and its incident edges $(3,4)$ and $(4,5)$ disconnects the graph into two components: $C_1 = \\{1, 2, 3\\}$ (a clique of size $3$) and $C_2 = \\{5, 6, 7, 8\\}$.\n- The component $C_2$ has node $5$ connected only to node $6$, and nodes $\\{6, 7, 8\\}$ form a clique.\n- The sizes of the components are $3$ and $4$. The giant component is $C_2$.\n- **Giant Component Size [1]: $4$**.\n\n**Step 2: Second Removal**\n- We recompute $C_B$ on the disconnected graph $G_1$. Centrality is calculated independently within each component.\n- For component $C_1=\\{1, 2, 3\\}$ (a clique), the betweenness of all nodes is $0$. $C_B(1) = C_B(2) = C_B(3) = 0$.\n- For component $C_2=\\{5, 6, 7, 8\\}$:\n    - Node $5$ is a leaf node, so $C_B(5) = 0$.\n    - Nodes $7$ and $8$ are symmetric. Node $7$ is not on the shortest path between any other pair of nodes in $C_2$ (e.g., path $5-6-8$). So, $C_B(7) = C_B(8) = 0$.\n    - Node $6$ lies on the unique shortest paths between node $5$ and nodes $\\{7, 8\\}$. These are $5-6-7$ and $5-6-8$. Thus, $C_B(6) = 1+1=2$ (for unordered pairs) or $2 \\times 2 = 4$ (for ordered pairs).\n- The only node with non-zero centrality is node $6$.\n- **Removal [2]: Node $6$**.\n- The new graph $G_2$ has $V_2 = \\{1, 2, 3, 5, 7, 8\\}$. The removal of node $6$ and its edges fragments $C_2$.\n- The components of $G_2$ are: $\\{1, 2, 3\\}$ (clique, size $3$), $\\{7, 8\\}$ (an edge, size $2$), and $\\{5\\}$ (isolated, size $1$).\n- **Giant Component Size [2]: $3$**.\n\n**Step 3: Third Removal**\n- We recompute $C_B$ on $G_2$. All remaining nodes are in components (a $K_3$ clique, a $K_2$ clique, an isolated node) where no node lies on a shortest path between others.\n- $C_B(v) = 0$ for all $v \\in V_2 = \\{1, 2, 3, 5, 7, 8\\}$.\n- All centralities are equal. The tie-breaking rule is to remove the node with the smallest label. The smallest label in $V_2$ is $1$.\n- **Removal [3]: Node $1$**.\n- The new graph $G_3$ has $V_3 = \\{2, 3, 5, 7, 8\\}$. This removal reduces the $K_3$ clique to an edge.\n- The components of $G_3$ are: $\\{2, 3\\}$ (edge, size $2$), $\\{7, 8\\}$ (edge, size $2$), and $\\{5\\}$ (isolated, size $1$). There is a tie for largest component; the size is $2$.\n- **Giant Component Size [3]: $2$**.\n\n**Step 4: Fourth Removal**\n- In $G_3$, all node centralities are still $0$. The remaining nodes are $V_3=\\{2, 3, 5, 7, 8\\}$.\n- The smallest label is $2$.\n- **Removal [4]: Node $2$**.\n- The new graph $G_4$ has $V_4 = \\{3, 5, 7, 8\\}$. This isolates node $3$.\n- The components of $G_4$ are: $\\{7, 8\\}$ (edge, size $2$), $\\{3\\}$ (isolated, size $1$), and $\\{5\\}$ (isolated, size $1$).\n- **Giant Component Size [4]: $2$**.\n\n**Step 5: Fifth Removal**\n- In $G_4$, all node centralities are $0$. The remaining nodes are $V_4=\\{3, 5, 7, 8\\}$.\n- The smallest label is $3$.\n- **Removal [5]: Node $3$**.\n- The new graph $G_5$ has $V_5 = \\{5, 7, 8\\}$.\n- The components of $G_5$ are: $\\{7, 8\\}$ (edge, size $2$) and $\\{5\\}$ (isolated, size $1$).\n- **Giant Component Size [5]: $2$**.\n\n**Step 6: Sixth Removal**\n- In $G_5$, all node centralities are $0$. The remaining nodes are $V_5=\\{5, 7, 8\\}$.\n- The smallest label is $5$.\n- **Removal [6]: Node $5$**.\n- The new graph $G_6$ has $V_6 = \\{7, 8\\}$.\n- The only component of $G_6$ is $\\{7, 8\\}$ (edge, size $2$).\n- **Giant Component Size [6]: $2$**.\n\n**Step 7: Seventh Removal**\n- In $G_6$, both nodes $\\{7, 8\\}$ have $C_B=0$. The remaining nodes are $V_6 = \\{7, 8\\}$.\n- The smallest label is $7$.\n- **Removal [7]: Node $7$**.\n- The new graph $G_7$ has $V_7 = \\{8\\}$.\n- The only component of $G_7$ is $\\{8\\}$ (isolated, size $1$).\n- **Giant Component Size [7]: $1$**.\n\n**Step 8: Eighth Removal**\n- Only one node, $8$, remains.\n- **Removal [8]: Node $8$**.\n- The graph $G_8$ is empty.\n- **Giant Component Size [8]: $0$**.\n\n### Summary of Results\n- **Removal sequence**: $4, 6, 1, 2, 3, 5, 7, 8$.\n- **Giant component sizes**: $4, 3, 2, 2, 2, 2, 1, 0$.\n\nThese two sequences are combined into a single $1 \\times 16$ row matrix as requested.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n4  6  1  2  3  5  7  8  4  3  2  2  2  2  1  0\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "Building on the concept of centrality-based targeting, this practice explores the crucial nuances of selecting the right metric, particularly in the context of directed networks. The exercise requires an analytical comparison between a simple, local metric (out-degree) and a sophisticated, global measure of influence (PageRank) . By working through the calculations, you will discover how a PageRank-based attack can inflict significantly more damage on a network's strong connectivity, demonstrating that the most 'central' node depends entirely on how you define importance.",
            "id": "4292336",
            "problem": "Consider a toy directed network with nodes labeled $1,2,3,4,5$ and directed edges given by $1 \\to 2$, $2 \\to 3$, $3 \\to 1$, $4 \\to 1$, $4 \\to 2$, $4 \\to 3$, $5 \\to 4$, and $2 \\to 5$. The network is initially strongly connected. Use the standard definition of PageRank: for damping factor $\\alpha \\in (0,1)$ and a uniform personalization vector $v$ with entries $v_i = \\frac{1}{5}$, the PageRank vector $p \\in \\mathbb{R}^5$ satisfies $p = (1 - \\alpha) v + \\alpha P p$, where $P$ is the column-stochastic transition matrix formed by normalizing the adjacency matrix columns by the out-degree of each source node. There are no dangling nodes; the out-degrees are $k_1 = 1$, $k_2 = 2$, $k_3 = 1$, $k_4 = 3$, and $k_5 = 1$.\n\nAdopt the damping factor $\\alpha = \\frac{3}{4}$ and the uniform personalization vector specified above. Define two targeted attack strategies on nodes:\n- PageRank-targeting: remove the single node with the highest PageRank score.\n- Out-degree-targeting: remove the single node with the highest out-degree.\n\nStarting from the fundamental definitions of strong connectivity and PageRank, analytically determine which node is removed by each strategy, and for each removal compute the size $S$ of the largest Strongly Connected Component (SCC). Then compute the ratio $R = \\frac{S_{\\mathrm{PR}}}{S_{\\mathrm{out}}}$, where $S_{\\mathrm{PR}}$ is the largest SCC size after PageRank-targeting and $S_{\\mathrm{out}}$ is the largest SCC size after out-degree-targeting. Express the final answer as a single fraction. No rounding is required.",
            "solution": "The problem requires a comparative analysis of two targeted attack strategies on a given directed network. The analysis involves identifying the node to be removed by each strategy, determining the size of the largest strongly connected component (SCC) in the resulting network, and computing the ratio of these sizes.\n\nThe network is defined by the set of nodes $V = \\{1, 2, 3, 4, 5\\}$ and a set of directed edges $E = \\{1 \\to 2, 2 \\to 3, 3 \\to 1, 4 \\to 1, 4 \\to 2, 4 \\to 3, 5 \\to 4, 2 \\to 5\\}$.\n\nFirst, we validate the problem statement's claim that the initial network is strongly connected. A directed graph is strongly connected if for every pair of nodes $(u, v)$, there is a path from $u$ to $v$.\nThe nodes $\\{1, 2, 3\\}$ form a cycle $1 \\to 2 \\to 3 \\to 1$, so they are in a single SCC.\nNode $4$ can reach this cycle via $4 \\to 1$. The cycle can reach node $4$ via the path $2 \\to 5 \\to 4$.\nNode $5$ can reach the cycle via $5 \\to 4 \\to 1$. The cycle can reach node $5$ via $2 \\to 5$.\nSince the cycle $\\{1, 2, 3\\}$ can reach and be reached by nodes $4$ and $5$, and all nodes in the cycle are mutually reachable, the entire graph is strongly connected. The problem statement is correct.\n\nThe two attack strategies are:\n1.  Out-degree-targeting: Remove the node with the highest out-degree.\n2.  PageRank-targeting: Remove the node with the highest PageRank score.\n\nWe will analyze each strategy in turn.\n\n**Out-Degree-Targeting Strategy**\n\nFirst, we must determine the out-degree $k_i^{\\text{out}}$ for each node $i$, which is the number of edges originating from it.\n-   Node $1$: $1 \\to 2$. Thus, $k_1^{\\text{out}} = 1$.\n-   Node $2$: $2 \\to 3, 2 \\to 5$. Thus, $k_2^{\\text{out}} = 2$.\n-   Node $3$: $3 \\to 1$. Thus, $k_3^{\\text{out}} = 1$.\n-   Node $4$: $4 \\to 1, 4 \\to 2, 4 \\to 3$. Thus, $k_4^{\\text{out}} = 3$.\n-   Node $5$: $5 \\to 4$. Thus, $k_5^{\\text{out}} = 1$.\nThe out-degrees are $\\{k_1^{\\text{out}}, k_2^{\\text{out}}, k_3^{\\text{out}}, k_4^{\\text{out}}, k_5^{\\text{out}}\\} = \\{1, 2, 1, 3, 1\\}$.\nThe node with the highest out-degree is node $4$, with $k_4^{\\text{out}} = 3$. This is the node removed by the out-degree-targeting strategy.\n\nAfter removing node $4$, the remaining nodes are $\\{1, 2, 3, 5\\}$. The edges incident to node $4$ are also removed. These are $4 \\to 1, 4 \\to 2, 4 \\to 3$ and $5 \\to 4$. The remaining edges are: $\\{1 \\to 2, 2 \\to 3, 3 \\to 1, 2 \\to 5\\}$.\nWe now find the largest SCC in this reduced network.\n-   The nodes $\\{1, 2, 3\\}$ still form a cycle $1 \\to 2 \\to 3 \\to 1$. Thus, they constitute an SCC of size $3$.\n-   Node $5$ has an incoming edge $2 \\to 5$ but no outgoing edges. It cannot reach any other node, so it forms a trivial SCC of size $1$.\nThe SCCs are $\\{1, 2, 3\\}$ and $\\{5\\}$. The largest SCC has size $3$.\nTherefore, the size of the largest SCC after the out-degree-targeted attack is $S_{\\mathrm{out}} = 3$.\n\n**PageRank-Targeting Strategy**\n\nThis strategy requires calculating the PageRank vector $p$. The PageRank equation is given as $p = (1 - \\alpha) v + \\alpha P p$, where $\\alpha = \\frac{3}{4}$ is the damping factor, $v$ is the uniform personalization vector with entries $v_i = \\frac{1}{5}$, and $P$ is the column-stochastic transition matrix. The entries $P_{ij}$ of this matrix represent the probability of transitioning from node $j$ to node $i$. $P_{ij} = \\frac{1}{k_j^{\\text{out}}}$ if there is an edge $j \\to i$, and $0$ otherwise.\n\nThe transition matrix $P$ is:\n$$ P = \\begin{pmatrix}\n0  0  1  1/3  0 \\\\\n1  0  0  1/3  0 \\\\\n0  1/2  0  1/3  0 \\\\\n0  0  0  0  1 \\\\\n0  1/2  0  0  0\n\\end{pmatrix} $$\nThe PageRank equation becomes $p = \\frac{1}{4} v + \\frac{3}{4} P p$. Let $p = (p_1, p_2, p_3, p_4, p_5)^T$. This yields the system of linear equations:\n$p_1 = \\frac{1}{4}(\\frac{1}{5}) + \\frac{3}{4}(p_3 + \\frac{1}{3}p_4) = \\frac{1}{20} + \\frac{3}{4}p_3 + \\frac{1}{4}p_4$\n$p_2 = \\frac{1}{20} + \\frac{3}{4}(p_1 + \\frac{1}{3}p_4) = \\frac{1}{20} + \\frac{3}{4}p_1 + \\frac{1}{4}p_4$\n$p_3 = \\frac{1}{20} + \\frac{3}{4}(\\frac{1}{2}p_2 + \\frac{1}{3}p_4) = \\frac{1}{20} + \\frac{3}{8}p_2 + \\frac{1}{4}p_4$\n$p_4 = \\frac{1}{20} + \\frac{3}{4}(p_5) = \\frac{1}{20} + \\frac{3}{4}p_5$\n$p_5 = \\frac{1}{20} + \\frac{3}{4}(\\frac{1}{2}p_2) = \\frac{1}{20} + \\frac{3}{8}p_2$\n\nWe solve this system. Substitute the expression for $p_5$ into the one for $p_4$:\n$p_4 = \\frac{1}{20} + \\frac{3}{4}(\\frac{1}{20} + \\frac{3}{8}p_2) = \\frac{1}{20} + \\frac{3}{80} + \\frac{9}{32}p_2 = \\frac{7}{80} + \\frac{9}{32}p_2$.\n\nNow express all components in terms of $p_2$ and use the property that $\\sum p_i = 1$.\n$p_5 = \\frac{1}{20} + \\frac{3}{8}p_2$\n$p_4 = \\frac{7}{80} + \\frac{9}{32}p_2$\n$p_3 = \\frac{1}{20} + \\frac{3}{8}p_2 + \\frac{1}{4}p_4 = \\frac{1}{20} + \\frac{3}{8}p_2 + \\frac{1}{4}(\\frac{7}{80} + \\frac{9}{32}p_2) = \\frac{23}{320} + \\frac{57}{128}p_2$\nFrom $p_2 = \\frac{1}{20} + \\frac{3}{4}p_1 + \\frac{1}{4}p_4$, we get $\\frac{3}{4}p_1 = p_2 - \\frac{1}{20} - \\frac{1}{4}p_4$.\n$p_1 = \\frac{4}{3}p_2 - \\frac{1}{15} - \\frac{1}{3}p_4 = \\frac{4}{3}p_2 - \\frac{1}{15} - \\frac{1}{3}(\\frac{7}{80} + \\frac{9}{32}p_2) = (\\frac{4}{3} - \\frac{3}{32})p_2 - (\\frac{1}{15} + \\frac{7}{240}) = \\frac{119}{96}p_2 - \\frac{23}{240}$.\nLet's use the sum: $p_1+p_2+p_3+p_4+p_5=1$.\nIt's more systematic to solve for $p_1$ using its own equation:\n$p_1 = \\frac{1}{20} + \\frac{3}{4}p_3 + \\frac{1}{4}p_4 = \\frac{1}{20} + \\frac{3}{4}(\\frac{23}{320} + \\frac{57}{128}p_2) + \\frac{1}{4}(\\frac{7}{80} + \\frac{9}{32}p_2) = \\frac{161}{1280} + \\frac{207}{512}p_2$.\n\nSumming the components:\n$1 = \\sum p_i = p_1+p_2+p_3+p_4+p_5$\n$1 = (\\frac{161}{1280} + \\frac{207}{512}p_2) + p_2 + (\\frac{23}{320} + \\frac{57}{128}p_2) + (\\frac{7}{80} + \\frac{9}{32}p_2) + (\\frac{1}{20} + \\frac{3}{8}p_2)$\n$1 = (\\frac{161}{1280} + \\frac{92}{1280} + \\frac{112}{1280} + \\frac{64}{1280}) + p_2(1 + \\frac{207}{512} + \\frac{228}{512} + \\frac{144}{512} + \\frac{192}{512})$\n$1 = \\frac{429}{1280} + p_2(\\frac{512+207+228+144+192}{512}) = \\frac{429}{1280} + p_2\\frac{1283}{512}$\n$p_2 \\frac{1283}{512} = 1 - \\frac{429}{1280} = \\frac{851}{1280}$\n$p_2 = \\frac{851}{1280} \\frac{512}{1283} = \\frac{851}{1283} \\frac{512}{1280} = \\frac{851}{1283} \\frac{2}{5} = \\frac{1702}{6415}$.\n\nWe now find the other PageRank values to compare:\n$p_5 = \\frac{1}{20} + \\frac{3}{8}p_2 = \\frac{1}{20} + \\frac{3}{8}\\frac{1702}{6415} = \\frac{1}{20} + \\frac{5106}{51320} = \\frac{2566+5106}{51320} = \\frac{7672}{51320} = \\frac{959}{6415}$.\n$p_4 = \\frac{7}{80} + \\frac{9}{32}p_2 = \\frac{7}{80} + \\frac{9}{32}\\frac{1702}{6415} = \\frac{7}{80} + \\frac{15318}{205280} = \\frac{7 \\cdot 2566 + 15318}{205280} = \\frac{17962+15318}{205280} = \\frac{33280}{205280} = \\frac{3328}{20528} = \\frac{1040}{6415}$.\n$p_3 = \\frac{1219}{6415}$ (from intermediate substitutions or summing to 1).\n$p_1 = \\frac{1495}{6415}$ (from intermediate substitutions or summing to 1).\nLet's verify sum: $(1495+1702+1219+1040+959)/6415 = 6415/6415=1$.\nThe PageRank values are:\n$p_1 = \\frac{1495}{6415}$, $p_2 = \\frac{1702}{6415}$, $p_3 = \\frac{1219}{6415}$, $p_4 = \\frac{1040}{6415}$, $p_5 = \\frac{959}{6415}$.\nThe highest PageRank score belongs to node $2$. So, the PageRank-targeting strategy removes node $2$.\n\nAfter removing node $2$, the remaining nodes are $\\{1, 3, 4, 5\\}$. The edges incident to node $2$ are removed. These are $1 \\to 2, 4 \\to 2, 2 \\to 3, 2 \\to 5$.\nThe remaining edges are: $\\{3 \\to 1, 4 \\to 1, 4 \\to 3, 5 \\to 4\\}$.\nLet's find the SCCs in this new graph.\n-   Paths from node $5$: $5 \\to 4 \\to 3 \\to 1$ and $5 \\to 4 \\to 1$.\n-   Paths from node $4$: $4 \\to 3 \\to 1$ and $4 \\to 1$.\n-   Path from node $3$: $3 \\to 1$.\n-   There are no outgoing edges from node $1$.\nNo node can reach a node from which it can be reached, except for itself. For example, there is a path $3 \\to 1$, but no path from $1$ to $3$. There are no cycles in the graph. The graph is a Directed Acyclic Graph (DAG).\nIn a DAG, every SCC consists of a single isolated node. The SCCs are $\\{1\\}, \\{3\\}, \\{4\\}, \\{5\\}$.\nThe largest SCC is of size $1$.\nTherefore, the size of the largest SCC after the PageRank-targeted attack is $S_{\\mathrm{PR}} = 1$.\n\n**Final Calculation**\n\nWe have determined the size of the largest SCC for both scenarios:\n-   $S_{\\mathrm{out}} = 3$ (after removing node $4$)\n-   $S_{\\mathrm{PR}} = 1$ (after removing node $2$)\n\nThe problem asks for the ratio $R = \\frac{S_{\\mathrm{PR}}}{S_{\\mathrm{out}}}$.\n$R = \\frac{1}{3}$.\nThe final answer is to be expressed as a single fraction.",
            "answer": "$$\\boxed{\\frac{1}{3}}$$"
        },
        {
            "introduction": "We now scale up from small, deterministic graphs to the statistical mechanics of large random networks, a cornerstone of modern network science. This final problem introduces a powerful analytical tool: the generating function formalism. You are challenged to apply this framework to predict the systemic outcome of a targeted, degree-based attack on a Poisson random graph . By calculating the post-attack percolation threshold, you can determine whether the network's giant component survives or undergoes a catastrophic collapse, providing a foundational skill for analyzing the resilience of large-scale, real-world systems.",
            "id": "4292353",
            "problem": "Consider an Erdős–Rényi (ER) random graph, equivalently a configuration model network with a Poisson degree distribution $P(k) = \\exp(-c)\\, c^{k}/k!$ and mean degree $\\langle k \\rangle = c$. A targeted site attack removes nodes according to degree-conditioned removal probabilities $q_{k}$, with $q_{k} = 1$ for $k \\geq 4$ and $q_{k} = 0$ for $k \\leq 3$. Let $r_{k} = 1 - q_{k}$ denote the degree-conditioned survival probabilities. Assume the network is locally tree-like so that component growth can be approximated by a branching process over the excess degree distribution. Starting from these fundamental definitions, derive a self-consistency relation for the probability $u$ that a randomly chosen edge leads to a node whose subtree does not connect to the giant component. Use this relation to compute the giant component size $S$, defined as the fraction of nodes in the giant connected component, for the case $c = 3$. Express your final answer for $S$ as a real number with no units. If your final answer is an exact value, no rounding is required.",
            "solution": "The problem is analyzed by employing the framework of network percolation theory, specifically using a generating function formalism adapted for targeted attacks. The network is assumed to be a configuration model network with a Poisson degree distribution, which is locally tree-like, justifying the use of a branching process approximation to determine the size of the giant component.\n\nFirst, we define the necessary generating functions. The degree distribution is given as $P(k) = \\exp(-c) \\frac{c^k}{k!}$, where $c$ is the mean degree. The generating function for this distribution is:\n$$G_0(x) = \\sum_{k=0}^{\\infty} P(k) x^k = \\sum_{k=0}^{\\infty} \\exp(-c) \\frac{(cx)^k}{k!} = \\exp(c(x-1))$$\nThe probability that a randomly chosen edge leads to a node of degree $k$ is given by the excess degree distribution, $\\frac{kP(k)}{\\langle k \\rangle}$, where $\\langle k \\rangle = c$. The corresponding generating function is:\n$$G_1(x) = \\sum_{k=0}^{\\infty} \\frac{(k+1)P(k+1)}{c} x^k = \\frac{G_0'(x)}{c} = \\exp(c(x-1))$$\n\nThe targeted attack removes nodes with degree $k \\geq 4$. The degree-conditioned survival probabilities are $r_k=1$ for $k \\in \\{0, 1, 2, 3\\}$ and $r_k=0$ for $k \\geq 4$. The removal probabilities are $q_k = 1 - r_k$.\n\nLet $u$ be the probability that a randomly chosen edge leads to a node whose subtree is finite (i.e., does not connect to the giant component). We can establish a self-consistency relation for $u$. Consider following a random edge to a destination node, which has an initial degree $k$ (drawn from the excess degree distribution). This branch is finite if:\n1. The destination node is removed by the attack (probability $q_k$).\n2. The destination node survives (probability $r_k$), but all its other $k-1$ edges lead to finite components. The probability for this is $u^{k-1}$.\n\nSumming over all possible degrees $k$ of the destination node, weighted by the probability $\\frac{k P(k)}{c}$ of reaching such a node, we derive the self-consistency relation for $u$:\n$$u = \\sum_{k=1}^{\\infty} \\frac{k P(k)}{c} \\left[ q_k \\cdot 1 + r_k \\cdot u^{k-1} \\right]$$\nSubstituting the given survival probabilities ($r_k=1$ for $k \\leq 3$, $r_k=0$ for $k \\geq 4$):\n$$u = \\sum_{k=1}^{3} \\frac{k P(k)}{c} u^{k-1} + \\sum_{k=4}^{\\infty} \\frac{k P(k)}{c}$$\nThis is the required self-consistency relation for $u$.\n\nNext, we find the size of the giant component, $S$. A randomly chosen node is in the giant component if and only if it survives the attack and is connected to an infinite subtree via at least one of its edges. The probability that a node of degree $k$ survives but all of its $k$ attached subtrees are finite is $r_k u^k$. Therefore, the probability that a surviving node of degree $k$ is connected to the giant component is $r_k(1-u^k)$. Summing over all degrees, the total fraction of nodes in the giant component is:\n$$S = \\sum_{k=0}^{\\infty} P(k) r_k (1 - u^k)$$\nAs nodes with degree $k=0$ are isolated, they do not belong to the giant component. The term for $k=0$ is $P(0)r_0(1-u^0)=P(0)r_0(1-1)=0$, consistent with this fact.\n\nWe now solve for the specific case $c=3$. The degree distribution is $P(k) = \\exp(-3) \\frac{3^k}{k!}$.\nFrom the self-consistency relation:\n$$c u = \\sum_{k=1}^{3} k P(k) u^{k-1} + \\left( \\sum_{k=0}^{\\infty} k P(k) - \\sum_{k=0}^{3} k P(k) \\right)$$\n$$3u = \\left( 1 \\cdot P(1) u^0 + 2 \\cdot P(2) u^1 + 3 \\cdot P(3) u^2 \\right) + \\left( c - (0 \\cdot P(0) + 1 \\cdot P(1) + 2 \\cdot P(2) + 3 \\cdot P(3)) \\right)$$\nLet's compute the necessary values of $P(k)$:\n$P(1) = \\exp(-3) \\frac{3^1}{1!} = 3\\exp(-3)$\n$P(2) = \\exp(-3) \\frac{3^2}{2!} = 4.5\\exp(-3)$\n$P(3) = \\exp(-3) \\frac{3^3}{3!} = 4.5\\exp(-3)$\n\nThe first term is:\n$\\sum_{k=1}^{3} k P(k) u^{k-1} = 1 \\cdot (3\\exp(-3)) + 2 \\cdot (4.5\\exp(-3)) u + 3 \\cdot (4.5\\exp(-3)) u^2 = \\exp(-3)(3 + 9u + 13.5u^2)$\nThe second term (the sum) is:\n$\\sum_{k=0}^{3} k P(k) = \\exp(-3)(0 + 3 + 2(4.5) + 3(4.5)) = \\exp(-3)(3+9+13.5) = 25.5\\exp(-3)$\nThe constant part of the equation is $c - 25.5\\exp(-3) = 3 - 25.5\\exp(-3)$.\n\nSubstituting back:\n$$3u = \\exp(-3)(3 + 9u + 13.5u^2) + 3 - 25.5\\exp(-3)$$\n$$3u = 3 + \\exp(-3)(9u + 13.5u^2 - 22.5)$$\nThis is a quadratic equation for $u$. A non-trivial solution $u1$ for the probability of belonging to a finite component exists only if a giant component exists. The condition for the existence of a giant component (the Molloy-Reed criterion for the post-attack network) is that the average number of outgoing branches from a node reached along a random edge, $\\kappa$, must be greater than $1$.\n$$\\kappa = \\sum_{k=1}^{\\infty} \\frac{k P(k)}{c} r_k (k-1)$$\nFor the given attack:\n$$\\kappa = \\frac{1}{c} \\sum_{k=1}^{3} k P(k) (k-1) = \\frac{1}{3} \\left[ 1 \\cdot P(1) \\cdot 0 + 2 \\cdot P(2) \\cdot 1 + 3 \\cdot P(3) \\cdot 2 \\right]$$\n$$\\kappa = \\frac{1}{3} [2 P(2) + 6 P(3)] = \\frac{1}{3} [2(4.5\\exp(-3)) + 6(4.5\\exp(-3))]$$\n$$\\kappa = \\frac{1}{3} [9\\exp(-3) + 27\\exp(-3)] = \\frac{36\\exp(-3)}{3} = 12\\exp(-3)$$\nUsing the value $\\exp(-3) \\approx 0.049787$:\n$$\\kappa \\approx 12 \\times 0.049787 \\approx 0.5974$$\nSince $\\kappa  1$, the network is in the subcritical phase. The attack has destroyed the giant component. In a subcritical network, every component is finite. Therefore, the probability that a randomly chosen edge leads to a finite component is $1$. The only physically meaningful solution is the trivial one, $u=1$.\n\nWith $u=1$, we can now calculate the size of the giant component $S$:\n$$S = \\sum_{k=0}^{\\infty} P(k) r_k (1 - u^k)$$\nSubstituting $u=1$:\n$$S = \\sum_{k=0}^{\\infty} P(k) r_k (1 - 1^k)$$\nFor any $k \\geq 1$, $1^k=1$, so the term $(1-1^k)=0$. For $k=0$, the term is conventionally defined as $(1-1^0)=1-1=0$. Thus, every term in the sum is zero.\n$$S = 0$$\nThe targeted attack is sufficiently damaging to completely dismantle the giant component, resulting in a fractured network where the largest component does not scale with the size of the network.",
            "answer": "$$\n\\boxed{0}\n$$"
        }
    ]
}