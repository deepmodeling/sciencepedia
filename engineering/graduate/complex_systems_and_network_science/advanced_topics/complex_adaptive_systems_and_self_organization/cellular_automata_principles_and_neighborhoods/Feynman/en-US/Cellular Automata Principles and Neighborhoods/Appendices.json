{
    "hands_on_practices": [
        {
            "introduction": "The Wolfram numbering system provides a compact and standardized way to classify one-dimensional elementary cellular automata (ECAs). To analyze a rule's behavior, we must first translate its number into an explicit local update function. This exercise provides fundamental practice in decoding a Wolfram rule number and then using the resulting function to explore its statistical properties under random initial conditions, a cornerstone of studying CAs from a statistical mechanics perspective .",
            "id": "4267330",
            "problem": "Consider an Elementary Cellular Automaton (ECA), defined as a one-dimensional binary-state cellular automaton with neighborhood radius $1$, so that each site $i$ at time $t$ has a neighborhood of three sites $(s_{i-1}(t), s_{i}(t), s_{i+1}(t)) \\in \\{0,1\\}^{3}$, and the next state is determined by a local update function $f: \\{0,1\\}^{3} \\to \\{0,1\\}$. The Wolfram coding convention assigns to each rule number $R \\in \\{0,1,\\dots,255\\}$ an $8$-bit binary string, where the bits from most significant to least significant correspond, in order, to the outputs $f(1,1,1)$, $f(1,1,0)$, $f(1,0,1)$, $f(1,0,0)$, $f(0,1,1)$, $f(0,1,0)$, $f(0,0,1)$, $f(0,0,0)$.\n\nUsing only the definitions above and standard properties of independent Bernoulli random variables, perform the following for the specific rule number $R=110$:\n\n1. Derive the $8$-bit binary representation of $R$ and write the explicit local rule mapping $f(a,b,c)$ for all eight neighborhood patterns $(a,b,c) \\in \\{0,1\\}^{3}$ in the ordering specified. Verify that each mapping corresponds to the correct bit of $R$ under the Wolfram coding convention.\n\n2. Assume the present configuration at time $t$ is an independent and identically distributed (i.i.d.) Bernoulli field with parameter $p$, meaning $P(s_{j}(t)=1)=p$ and the $\\{s_{j}(t)\\}$ are mutually independent across $j$. Using only independence and the local rule $f$, derive the probability $P(s_{i}(t+1)=1)$ as a function of $p$.\n\nReport your final answer as a single simplified analytic expression in $p$. No rounding is required and no units should be included.",
            "solution": "The starting point is the definition of an Elementary Cellular Automaton (ECA) with a local update function $f: \\{0,1\\}^{3} \\to \\{0,1\\}$ that specifies the next state $s_{i}(t+1)$ in terms of the three-site neighborhood $(s_{i-1}(t), s_{i}(t), s_{i+1}(t))$. The Wolfram coding convention provides a mapping from a rule number $R \\in \\{0,1,\\dots,255\\}$ to the outputs of $f$ on the eight possible neighborhood configurations, ordered as $111, 110, 101, 100, 011, 010, 001, 000$ from the most significant to the least significant bit of the $8$-bit binary representation of $R$.\n\nStep $1$: Decode the rule number $R=110$ and write $f$ explicitly.\n\nWe first convert $R=110$ to its $8$-bit binary representation. The value $110$ decomposes as\n$$\n110 = 64 + 32 + 8 + 4 + 2 = 2^{6} + 2^{5} + 2^{3} + 2^{2} + 2^{1}.\n$$\nThus the $8$-bit binary expansion, from most significant bit to least significant bit, is\n$$\n01101110,\n$$\nwhich corresponds to the bit vector\n$$\nb_{7}\\ b_{6}\\ b_{5}\\ b_{4}\\ b_{3}\\ b_{2}\\ b_{1}\\ b_{0} = 0\\ 1\\ 1\\ 0\\ 1\\ 1\\ 1\\ 0,\n$$\nwhere $b_{k} \\in \\{0,1\\}$ and $b_{7}$ is the most significant bit. Under the Wolfram convention, these bits map to the neighborhood configurations in the order\n$$\n111 \\mapsto b_{7},\\quad 110 \\mapsto b_{6},\\quad 101 \\mapsto b_{5},\\quad 100 \\mapsto b_{4},\\quad 011 \\mapsto b_{3},\\quad 010 \\mapsto b_{2},\\quad 001 \\mapsto b_{1},\\quad 000 \\mapsto b_{0}.\n$$\nTherefore, the explicit local rule values are\n- $f(1,1,1) = 0$,\n- $f(1,1,0) = 1$,\n- $f(1,0,1) = 1$,\n- $f(1,0,0) = 0$,\n- $f(0,1,1) = 1$,\n- $f(0,1,0) = 1$,\n- $f(0,0,1) = 1$,\n- $f(0,0,0) = 0$.\n\nThis mapping is a direct verification from the binary representation $01101110$ of $R=110$, consistent with the Wolfram coding order.\n\nStep $2$: Compute $P(s_{i}(t+1)=1)$ under an independent and identically distributed Bernoulli$(p)$ field at time $t$.\n\nUnder the i.i.d. Bernoulli$(p)$ assumption, the probability of observing a specific neighborhood $(a,b,c) \\in \\{0,1\\}^{3}$ at time $t$ is determined solely by the number of ones in the pattern. Let $k(a,b,c) = a + b + c$ be the count of ones. Then\n$$\nP\\big((s_{i-1}(t), s_{i}(t), s_{i+1}(t)) = (a,b,c)\\big) = p^{k(a,b,c)} (1-p)^{3 - k(a,b,c)}.\n$$\nThe next state $s_{i}(t+1)$ equals $1$ precisely for those neighborhoods with $f(a,b,c)=1$. From Step $1$, the neighborhoods yielding $1$ are\n$$\n(1,1,0),\\ (1,0,1),\\ (0,1,1),\\ (0,1,0),\\ (0,0,1).\n$$\nGrouping by the number of ones:\n- The configurations $(1,1,0)$, $(1,0,1)$, $(0,1,1)$ each have $k=2$ ones and contribute a total probability of $3\\, p^{2}(1-p)$.\n- The configurations $(0,1,0)$ and $(0,0,1)$ each have $k=1$ one and contribute a total probability of $2\\, p(1-p)^{2}$.\n\nTherefore,\n$$\nP\\big(s_{i}(t+1)=1\\big) = 3\\, p^{2}(1-p) + 2\\, p(1-p)^{2}.\n$$\nWe simplify this expression:\n$$\n3\\, p^{2}(1-p) + 2\\, p(1-p)^{2} = 3p^{2} - 3p^{3} + 2p(1 - 2p + p^2) = 3p^{2} - 3p^{3} + 2p - 4p^{2} + 2p^{3} = 2p - p^{2} - p^{3}.\n$$\nThus, the desired probability as a function of $p$ is\n$$\n2p - p^{2} - p^{3}.\n$$\n\nThis result follows directly from the foundational definitions of the Wolfram coding of ECA rules and the independence of Bernoulli random variables across sites.",
            "answer": "$$\\boxed{2 p - p^{2} - p^{3}}$$"
        },
        {
            "introduction": "Beyond elementary CAs, outer-totalistic rules form a crucial class of models where the update logic depends only on the central cell's state and the sum of its neighbors' states, a principle underpinning famous systems like Conway's Game of Life. This practice allows you to simulate the dynamics of such a rule and, more importantly, to formally verify its monotonicity. This property, which ensures that increasing neighbor activity does not suppress a cell's next state, is critical for understanding the behavior of many pattern-forming systems .",
            "id": "4267327",
            "problem": "Consider a one-dimensional binary Cellular Automaton (CA) on the cycle graph with $N = 12$ sites, indexed by $i \\in \\{0,1,\\dots,11\\}$ with modular arithmetic for indices. The binary state at time $t$ is $x_t(i) \\in \\{0,1\\}$, and the radius-$r$ neighborhood is defined by $\\mathcal{N}_r(i) = \\{i-r, i-(r-1), \\dots, i-1, i+1, \\dots, i+(r-1), i+r\\}$, with all indices interpreted modulo $N$. The local update is outer-totalistic: it depends only on the current siteâ€™s state and the sum of its neighbors. Let $r = 2$, and define the neighbor count\n$$\nM(i) = \\sum_{j \\in \\mathcal{N}_2(i)} x_t(j).\n$$\nThe CA evolves under an outer-totalistic threshold rule with survival threshold $\\tau_s$ and birth threshold $\\tau_b$ as follows: for each site $i$,\n$$\nx_{t+1}(i) = \\begin{cases}\n1 & \\text{if } x_t(i) = 1 \\text{ and } M(i) \\ge \\tau_s,\\\\\n1 & \\text{if } x_t(i) = 0 \\text{ and } M(i) \\ge \\tau_b,\\\\\n0 & \\text{otherwise.}\n\\end{cases}\n$$\nAssume $\\tau_s = 2$ and $\\tau_b = 3$. The initial configuration at time $t$ is specified by\n$$\n(x_t(0), x_t(1), \\dots, x_t(11)) = (1, 0, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0).\n$$\nTask 1: Using only the above definitions and the specified parameters, compute the next state vector $(x_{t+1}(0), x_{t+1}(1), \\dots, x_{t+1}(11))$ and then compute the total number of active sites at time $t+1$,\n$$\nS = \\sum_{i=0}^{11} x_{t+1}(i).\n$$\nReport the value of $S$ as your final answer.\n\nTask 2: Starting from the given definitions (without introducing any untested or shortcut formulas), verify that the local update function at a site $i$ is monotone non-decreasing with respect to the neighbor count $M(i)$, separately for the cases $x_t(i) = 0$ and $x_t(i) = 1$. That is, show that increasing $M(i)$ cannot cause $x_{t+1}(i)$ to change from $1$ to $0$ for either fixed current state case. No additional numerical output is required for Task $2$.",
            "solution": "The problem is validated as self-contained, scientifically grounded in the theory of cellular automata, and well-posed. All definitions and parameters required for the solution are provided unequivocally.\n\nThe first task is to compute the state vector of a one-dimensional binary cellular automaton at time $t+1$ and the sum of its components. The second task is to verify a property of the update rule.\n\n**Task 1: Computation of the Next State and Sum**\n\nThe cellular automaton is defined on a cycle graph with $N=12$ sites, indexed by $i \\in \\{0, 1, \\dots, 11\\}$ with modular arithmetic. The state of a site is $x_t(i) \\in \\{0, 1\\}$. The neighborhood of site $i$ has radius $r=2$ and is given by $\\mathcal{N}_2(i) = \\{i-2, i-1, i+1, i+2\\}$, where all indices are modulo $12$. The neighbor count for site $i$ is $M(i) = \\sum_{j \\in \\mathcal{N}_2(i)} x_t(j)$. The size of the neighborhood is $k=2r=4$.\n\nThe update rule is outer-totalistic with a survival threshold $\\tau_s = 2$ and a birth threshold $\\tau_b = 3$. The state at the next time step, $x_{t+1}(i)$, is determined by the current state $x_t(i)$ and the neighbor count $M(i)$ as follows:\n$$\nx_{t+1}(i) = \\begin{cases}\n1 & \\text{if } x_t(i) = 1 \\text{ and } M(i) \\ge 2, \\\\\n1 & \\text{if } x_t(i) = 0 \\text{ and } M(i) \\ge 3, \\\\\n0 & \\text{otherwise.}\n\\end{cases}\n$$\nThe initial configuration at time $t$ is given as:\n$$\nx_t = (1, 0, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0)\n$$\nWe compute the next state $x_{t+1}(i)$ for each site $i$ from $0$ to $11$.\n\nFor site $i=0$: $x_t(0)=1$. The neighbors are $\\{10, 11, 1, 2\\}$. The states of these neighbors are $x_t(10)=1$, $x_t(11)=0$, $x_t(1)=0$, $x_t(2)=1$. The neighbor count is $M(0) = 1+0+0+1=2$. Since $x_t(0)=1$ and $M(0)=2 \\ge \\tau_s=2$, the site survives. Thus, $x_{t+1}(0)=1$.\n\nFor site $i=1$: $x_t(1)=0$. The neighbors are $\\{11, 0, 2, 3\\}$. The states are $x_t(11)=0$, $x_t(0)=1$, $x_t(2)=1$, $x_t(3)=1$. The neighbor count is $M(1)=0+1+1+1=3$. Since $x_t(1)=0$ and $M(1)=3 \\ge \\tau_b=3$, a new cell is born. Thus, $x_{t+1}(1)=1$.\n\nFor site $i=2$: $x_t(2)=1$. The neighbors are $\\{0, 1, 3, 4\\}$. The states are $x_t(0)=1$, $x_t(1)=0$, $x_t(3)=1$, $x_t(4)=0$. The neighbor count is $M(2)=1+0+1+0=2$. Since $x_t(2)=1$ and $M(2)=2 \\ge \\tau_s=2$, the site survives. Thus, $x_{t+1}(2)=1$.\n\nFor site $i=3$: $x_t(3)=1$. The neighbors are $\\{1, 2, 4, 5\\}$. The states are $x_t(1)=0$, $x_t(2)=1$, $x_t(4)=0$, $x_t(5)=0$. The neighbor count is $M(3)=0+1+0+0=1$. Since $x_t(3)=1$ and $M(3)=1 < \\tau_s=2$, the site dies. Thus, $x_{t+1}(3)=0$.\n\nFor site $i=4$: $x_t(4)=0$. The neighbors are $\\{2, 3, 5, 6\\}$. The states are $x_t(2)=1$, $x_t(3)=1$, $x_t(5)=0$, $x_t(6)=1$. The neighbor count is $M(4)=1+1+0+1=3$. Since $x_t(4)=0$ and $M(4)=3 \\ge \\tau_b=3$, a new cell is born. Thus, $x_{t+1}(4)=1$.\n\nFor site $i=5$: $x_t(5)=0$. The neighbors are $\\{3, 4, 6, 7\\}$. The states are $x_t(3)=1$, $x_t(4)=0$, $x_t(6)=1$, $x_t(7)=0$. The neighbor count is $M(5)=1+0+1+0=2$. Since $x_t(5)=0$ and $M(5)=2 < \\tau_b=3$, the site remains inactive. Thus, $x_{t+1}(5)=0$.\n\nFor site $i=6$: $x_t(6)=1$. The neighbors are $\\{4, 5, 7, 8\\}$. The states are $x_t(4)=0$, $x_t(5)=0$, $x_t(7)=0$, $x_t(8)=0$. The neighbor count is $M(6)=0+0+0+0=0$. Since $x_t(6)=1$ and $M(6)=0 < \\tau_s=2$, the site dies. Thus, $x_{t+1}(6)=0$.\n\nFor site $i=7$: $x_t(7)=0$. The neighbors are $\\{5, 6, 8, 9\\}$. The states are $x_t(5)=0$, $x_t(6)=1$, $x_t(8)=0$, $x_t(9)=1$. The neighbor count is $M(7)=0+1+0+1=2$. Since $x_t(7)=0$ and $M(7)=2 < \\tau_b=3$, the site remains inactive. Thus, $x_{t+1}(7)=0$.\n\nFor site $i=8$: $x_t(8)=0$. The neighbors are $\\{6, 7, 9, 10\\}$. The states are $x_t(6)=1$, $x_t(7)=0$, $x_t(9)=1$, $x_t(10)=1$. The neighbor count is $M(8)=1+0+1+1=3$. Since $x_t(8)=0$ and $M(8)=3 \\ge \\tau_b=3$, a new cell is born. Thus, $x_{t+1}(8)=1$.\n\nFor site $i=9$: $x_t(9)=1$. The neighbors are $\\{7, 8, 10, 11\\}$. The states are $x_t(7)=0$, $x_t(8)=0$, $x_t(10)=1$, $x_t(11)=0$. The neighbor count is $M(9)=0+0+1+0=1$. Since $x_t(9)=1$ and $M(9)=1 < \\tau_s=2$, the site dies. Thus, $x_{t+1}(9)=0$.\n\nFor site $i=10$: $x_t(10)=1$. The neighbors are $\\{8, 9, 11, 0\\}$. The states are $x_t(8)=0$, $x_t(9)=1$, $x_t(11)=0$, $x_t(0)=1$. The neighbor count is $M(10)=0+1+0+1=2$. Since $x_t(10)=1$ and $M(10)=2 \\ge \\tau_s=2$, the site survives. Thus, $x_{t+1}(10)=1$.\n\nFor site $i=11$: $x_t(11)=0$. The neighbors are $\\{9, 10, 0, 1\\}$. The states are $x_t(9)=1$, $x_t(10)=1$, $x_t(0)=1$, $x_t(1)=0$. The neighbor count is $M(11)=1+1+1+0=3$. Since $x_t(11)=0$ and $M(11)=3 \\ge \\tau_b=3$, a new cell is born. Thus, $x_{t+1}(11)=1$.\n\nThe state vector at time $t+1$ is:\n$$\nx_{t+1} = (1, 1, 1, 0, 1, 0, 0, 0, 1, 0, 1, 1)\n$$\nThe total number of active sites at time $t+1$ is the sum of the components of this vector:\n$$\nS = \\sum_{i=0}^{11} x_{t+1}(i) = 1+1+1+0+1+0+0+0+1+0+1+1 = 7.\n$$\n\n**Task 2: Verification of Monotonicity**\n\nWe must verify that the local update function, which we denote as $f(x_t(i), M(i)) = x_{t+1}(i)$, is a monotone non-decreasing function of the neighbor count $M(i)$ for a fixed current state $x_t(i)$. This means that for any two neighbor counts $M_1$ and $M_2$ such that $M_1 < M_2$, it must hold that $f(x_t(i), M_1) \\le f(x_t(i), M_2)$.\n\nCase 1: The current site is active, $x_t(i) = 1$.\nThe update rule is $x_{t+1}(i) = 1$ if $M(i) \\ge \\tau_s$ and $x_{t+1}(i) = 0$ if $M(i) < \\tau_s$. This can be written as $f(1, M(i)) = H(M(i) - \\tau_s)$, where $H$ is the Heaviside step function with $H(z)=1$ for $z\\ge 0$ and $H(z)=0$ for $z<0$.\nTo show non-decreasing monotonicity, we must show that it is impossible for $f(1, M_1)=1$ and $f(1, M_2)=0$ when $M_1 < M_2$.\nSuppose $f(1, M_1)=1$. This implies $M_1 \\ge \\tau_s$.\nSuppose $f(1, M_2)=0$. This implies $M_2 < \\tau_s$.\nIf both were true, we would have $M_1 \\ge \\tau_s$ and $M_2 < \\tau_s$, which implies $M_2 < M_1$. This contradicts the assumption that $M_1 < M_2$.\nTherefore, for any $M_1 < M_2$, we cannot have $f(1, M_1) > f(1, M_2)$. Hence, $f(1, M(i))$ is a non-decreasing function of $M(i)$.\n\nCase 2: The current site is inactive, $x_t(i) = 0$.\nThe update rule is $x_{t+1}(i) = 1$ if $M(i) \\ge \\tau_b$ and $x_{t+1}(i) = 0$ if $M(i) < \\tau_b$. This can be written as $f(0, M(i)) = H(M(i) - \\tau_b)$.\nTo show non-decreasing monotonicity, we must show that it is impossible for $f(0, M_1)=1$ and $f(0, M_2)=0$ when $M_1 < M_2$.\nSuppose $f(0, M_1)=1$. This implies $M_1 \\ge \\tau_b$.\nSuppose $f(0, M_2)=0$. This implies $M_2 < \\tau_b$.\nIf both were true, we would have $M_1 \\ge \\tau_b$ and $M_2 < \\tau_b$, which implies $M_2 < M_1$. This contradicts the assumption that $M_1 < M_2$.\nTherefore, for any $M_1 < M_2$, we cannot have $f(0, M_1) > f(0, M_2)$. Hence, $f(0, M(i))$ is a non-decreasing function of $M(i)$.\n\nIn both cases, for a fixed state $x_t(i)$, increasing the neighbor count $M(i)$ can never cause the next state $x_{t+1}(i)$ to switch from $1$ to $0$. The update function is monotone non-decreasing in $M(i)$. The verification is complete.",
            "answer": "$$\n\\boxed{7}\n$$"
        },
        {
            "introduction": "To move beyond simple forward simulation and understand the global structure of a cellular automaton's dynamics, we can employ more powerful analytical tools like the de Bruijn graph, which provides a complete map of all possible local transitions. This advanced practice guides you through constructing this graph representation to answer fundamental questions about system dynamics. You will learn to count the number of possible predecessor states (preimages) and determine if the evolution is reversible, revealing deep insights into the CA's computational structure .",
            "id": "3104885",
            "problem": "You are given a one-dimensional, binary, radius-$1$ cellular automaton defined on a periodic ring (circular boundary) of length $L$, specified by a local rule $f:\\{0,1\\}^3 \\to \\{0,1\\}$ acting on neighborhoods $(a,b,c)$ as $y_i = f(x_{i-1}, x_i, x_{i+1})$, with indices taken modulo $L$. The local rule is encoded by its Wolfram rule number $R \\in \\{0,1,\\dots,255\\}$, where the output for the neighborhood $(a,b,c)$ is given by the bit of $R$ at position $p = 4a + 2b + c$, that is, $f(a,b,c) = \\left\\lfloor \\frac{R}{2^p} \\right\\rfloor \\bmod 2$.\n\nYour task is to derive, from first principles, the de Bruijn graph for the given local rule and use it to compute one-step preimage counts of target configurations, and to detect reversibility on a finite ring of given length. The de Bruijn graph for a radius-$1$ binary cellular automaton has a node set corresponding to all binary words of length $2$, that is, $V = \\{00,01,10,11\\}$, and directed edges corresponding to all binary words of length $3$, that is, from node $ab$ to node $bc$ for each triple $(a,b,c) \\in \\{0,1\\}^3$. Each edge is labeled by the local rule output $f(a,b,c) \\in \\{0,1\\}$. Define the adjacency matrices $A_0$ and $A_1$ of size $4 \\times 4$ over the integers, where $(A_\\ell)_{u,v} = 1$ if and only if there is an edge $u \\to v$ labeled $\\ell \\in \\{0,1\\}$, and $(A_\\ell)_{u,v} = 0$ otherwise.\n\nFundamental base to use:\n- Cellular automata definition: $y_i = f(x_{i-1}, x_i, x_{i+1})$ with $f$ a local rule and indices modulo $L$.\n- De Bruijn graph construction for radius-$1$: nodes are length-$2$ words, edges are length-$3$ words, with overlap and edge labels determined by $f$.\n- Walk-counting via adjacency matrices: the number of closed walks of length $L$ with a fixed label sequence equals the trace of a product of adjacency matrices.\n\nTarget derivations and algorithm:\n- Construct $A_0$ and $A_1$ from the given $R$ by enumerating all $(a,b,c) \\in \\{0,1\\}^3$.\n- For a given target word $y \\in \\{0,1\\}^L$, compute the preimage count under one step of the global rule with periodic boundary as\n$$\\text{preimages}(y) = \\operatorname{trace}\\!\\left(A_{y_0} A_{y_1} \\cdots A_{y_{L-1}}\\right),$$\nwhere $y_i$ is the $i$-th bit of $y$ and $A_{y_i}$ is $A_0$ if $y_i=0$ and $A_1$ if $y_i=1$.\n- For reversibility on the finite ring of length $L$, the global map is a bijection if and only if for every target $y \\in \\{0,1\\}^L$ the preimage count is exactly $1$. Use the above formula to test all $2^L$ target words.\n\nUsing the method described, perform the following calculations:\n\n1. Compute the preimage count for rule $R=240$ and target configuration $y = \"10101\"$ (length $L = 5$).\n2. Compute the preimage count for rule $R=204$ and target configuration $y = \"0110\"$ (length $L = 4$).\n3. Compute the preimage count for rule $R=90$ and target configuration $y = \"00\"$ (length $L = 2$).\n4. Compute the preimage count for rule $R=30$ and target configuration $y = \"0000\"$ (length $L = 4$).\n5. Determine if rule $R=240$ is reversible on a ring of length $L = 6$ (True/False).\n6. Determine if rule $R=170$ is reversible on a ring of length $L = 5$ (True/False).\n7. Determine if rule $R=90$ is reversible on a ring of length $L = 5$ (True/False).\n8. Determine if rule $R=150$ is reversible on a ring of length $L = 5$ (True/False).\n9. Determine if rule $R=204$ is reversible on a ring of length $L = 1$ (True/False).\n10. Determine if rule $R=90$ is reversible on a ring of length $L = 1$ (True/False).\n\nReport the results as an ordered list of 10 values.",
            "solution": "The problem posed is valid. It is scientifically grounded in the established theory of cellular automata and symbolic dynamics, is well-posed with all necessary definitions and constraints, and is expressed in objective, formal language. It presents a standard, non-trivial problem that can be solved algorithmically using the provided principles.\n\nA one-dimensional cellular automaton (CA) updates the state of each cell on a lattice based on the states in a local neighborhood. For a radius-$1$ CA on a periodic ring of length $L$, the state $y_i$ of cell $i$ at the next time step is a function $f$ of the states of cells $i-1$, $i$, and $i+1$ at the current time step, denoted by the configuration $x = (x_0, x_1, \\dots, x_{L-1})$. The global evolution of the entire configuration from $x$ to $y$ is determined by applying the local rule $f$ simultaneously at all positions: $y_i = f(x_{i-1}, x_i, x_{i+1})$, where indices are taken modulo $L$.\n\nThe dynamics of such a system can be analyzed using a de Bruijn graph. For a radius-$1$ binary CA, the de Bruijn graph is constructed as follows. The nodes of the graph, $V$, represent all possible blocks of states of length $2r=2$, where $r=1$ is the radius. Thus, the node set is $V = \\{00, 01, 10, 11\\}$. A directed edge exists from node $u=ab$ to node $v=bc$ for every possible state triple $(a,b,c) \\in \\{0,1\\}^3$. This edge corresponds to the block of states $abc$ of length $2r+1=3$. Each edge is labeled by the output of the local rule for its corresponding block, $\\ell = f(a,b,c)$.\n\nA configuration $x = (x_0, x_1, \\dots, x_{L-1})$ on a ring of length $L$ can be represented as a sequence of overlapping blocks of length $2$: $(x_0x_1), (x_1x_2), \\dots, (x_{L-2}x_{L-1}), (x_{L-1}x_0)$. This corresponds to a closed walk of length $L$ in the de Bruijn graph: $x_0x_1 \\to x_1x_2 \\to \\dots \\to x_{L-1}x_0$. A configuration $x$ is a preimage of a target configuration $y = (y_0, y_1, \\dots, y_{L-1})$ if the sequence of local rule outputs matches $y$. In the graph representation, this means the sequence of edge labels along the closed walk corresponding to $x$ must be precisely $(y_0, y_1, \\dots, y_{L-1})$.\n\nTo count the number of such walks, we introduce labeled adjacency matrices. Let the nodes $\\{00, 01, 10, 11\\}$ be indexed by $u, v \\in \\{0, 1, 2, 3\\}$. We define two $4 \\times 4$ matrices, $A_0$ and $A_1$. The entry $(A_\\ell)_{u,v}$ is $1$ if there is an edge from node $u$ to node $v$ with label $\\ell \\in \\{0,1\\}$, and $0$ otherwise. The Wolfram rule number $R$ encodes the function $f$. For each of the $2^3=8$ possible neighborhoods $(a,b,c)$, we can determine its integer representation $p=4a+2b+c$. The rule output is then given by the $p$-th bit of $R$, $f(a,b,c) = (R \\gg p) \\& 1$. This output $\\ell$ determines which matrix, $A_0$ or $A_1$, gets an entry. The source node is $u=2a+b$ and the destination node is $v=2b+c$. Thus, we set $(A_\\ell)_{2a+b, 2b+c} = 1$.\n\nThe number of paths of length $L$ with a specific label sequence $y=(y_0, \\dots, y_{L-1})$ is found by multiplying the corresponding adjacency matrices. The matrix product $M_y = A_{y_0} A_{y_1} \\cdots A_{y_{L-1}}$ contains entries $(M_y)_{u,v}$ that count the number of walks of length $L$ starting at node $u$, ending at node $v$, and having the label sequence $y$. To find the number of preimages of $y$, we need to count the total number of *closed* walks with this label sequence. This is the sum of the diagonal elements of $M_y$, which is its trace:\n$$ \\text{preimages}(y) = \\sum_{u=0}^{3} (M_y)_{u,u} = \\operatorname{trace}(M_y) $$\n\nA CA's global map is considered reversible on a ring of length $L$ if it is a bijection on the set of all $2^L$ configurations. For a function on a finite set, being bijective is equivalent to being injective and surjective. This means that for every target configuration $y$, there must exist exactly one preimage configuration $x$. Therefore, a rule is reversible on a ring of length $L$ if and only if $\\text{preimages}(y) = 1$ for all $2^L$ possible target configurations $y$. The algorithm to check for reversibility involves iterating through every possible target string $y \\in \\{0,1\\}^L$, computing its preimage count using the trace formula, and verifying that the count is exactly $1$ in every case. If any count differs from $1$, the rule is not reversible.",
            "answer": "[2,0,2,2,False,True,False,True,True,False]"
        }
    ]
}