{
    "hands_on_practices": [
        {
            "introduction": "This exercise walks you through the foundational accounting of the Leontief input-output framework. By using raw inter-industry transaction data, you will compute the technical coefficient matrix $A$, which represents the economy's production \"recipe.\" This fundamental practice  solidifies the core balance identity of the model and is the first essential step in building any quantitative economic network.",
            "id": "4273284",
            "problem": "Consider a three-sector economy represented by an interindustry transactions matrix $Z \\in \\mathbb{R}^{3 \\times 3}$ and a gross output vector $x \\in \\mathbb{R}^{3}$. The entry $z_{ij}$ of $Z$ denotes the monetary value (in billions of currency units) of the intermediate input supplied by sector $i$ to sector $j$. The gross output $x_{j}$ is the total monetary value (in billions of currency units) of output produced by sector $j$. In the Input-Output (IO) framework of Wassily Leontief, the technical coefficient matrix $A$ is defined column-wise by the core definition $a_{ij} = z_{ij}/x_{j}$ and the fundamental accounting identity is $x = Ax + y$, where $y \\in \\mathbb{R}^{3}$ is the final demand vector (in billions of currency units).\n\nYou are given the following data (all entries in billions of currency units):\n$$\nZ = \\begin{pmatrix}\n40  30  20 \\\\\n50  60  40 \\\\\n30  50  20\n\\end{pmatrix},\n\\qquad\nx = \\begin{pmatrix}\n260 \\\\\n340 \\\\\n220\n\\end{pmatrix}.\n$$\n\nTasks:\n1. Using only the core definition of technical coefficients, compute the matrix $A$ from $Z$ and $x$.\n2. Starting from the fundamental balance identity $x = Ax + y$, compute the final demand vector $y$ from $x$ and $A$.\n3. Verify the balance identity explicitly by evaluating both sides and demonstrating equality component-wise.\n\nExpress all monetary values in billions of currency units. Provide, as your single final numerical answer, the second component $y_{2}$ of the final demand vector $y$. No rounding is necessary.",
            "solution": "The problem is validated as scientifically grounded, well-posed, objective, and internally consistent. It is a standard application of the Leontief Input-Output model from economics. All necessary data and definitions are provided to find a unique solution. We may proceed with the solution.\n\nThe problem requires us to perform calculations based on the Leontief Input-Output model for a three-sector economy. We are given the interindustry transactions matrix, $Z$, and the gross output vector, $x$. All monetary values are in billions of currency units.\n\nThe given data are:\n$$\nZ = \\begin{pmatrix}\n40  30  20 \\\\\n50  60  40 \\\\\n30  50  20\n\\end{pmatrix}\n\\qquad\nx = \\begin{pmatrix}\n260 \\\\\n340 \\\\\n220\n\\end{pmatrix}\n$$\n\n**Task 1: Compute the technical coefficient matrix $A$.**\n\nThe technical coefficient $a_{ij}$ represents the amount of input from sector $i$ required to produce one unit of output in sector $j$. It is defined by the relation $a_{ij} = \\frac{z_{ij}}{x_j}$, where $z_{ij}$ is the input from sector $i$ to sector $j$, and $x_j$ is the total gross output of sector $j$. We compute the matrix $A$ column by column.\n\nFor the first column ($j=1$), corresponding to sector $1$ with total output $x_1 = 260$:\n$a_{11} = \\frac{z_{11}}{x_1} = \\frac{40}{260} = \\frac{4}{26} = \\frac{2}{13}$\n$a_{21} = \\frac{z_{21}}{x_1} = \\frac{50}{260} = \\frac{5}{26}$\n$a_{31} = \\frac{z_{31}}{x_1} = \\frac{30}{260} = \\frac{3}{26}$\n\nFor the second column ($j=2$), corresponding to sector $2$ with total output $x_2 = 340$:\n$a_{12} = \\frac{z_{12}}{x_2} = \\frac{30}{340} = \\frac{3}{34}$\n$a_{22} = \\frac{z_{22}}{x_2} = \\frac{60}{340} = \\frac{6}{34} = \\frac{3}{17}$\n$a_{32} = \\frac{z_{32}}{x_2} = \\frac{50}{340} = \\frac{5}{34}$\n\nFor the third column ($j=3$), corresponding to sector $3$ with total output $x_3 = 220$:\n$a_{13} = \\frac{z_{13}}{x_3} = \\frac{20}{220} = \\frac{2}{22} = \\frac{1}{11}$\n$a_{23} = \\frac{z_{23}}{x_3} = \\frac{40}{220} = \\frac{4}{22} = \\frac{2}{11}$\n$a_{33} = \\frac{z_{33}}{x_3} = \\frac{20}{220} = \\frac{2}{22} = \\frac{1}{11}$\n\nAssembling these coefficients, the technical coefficient matrix $A$ is:\n$$\nA = \\begin{pmatrix}\n\\frac{2}{13}  \\frac{3}{34}  \\frac{1}{11} \\\\\n\\frac{5}{26}  \\frac{3}{17}  \\frac{2}{11} \\\\\n\\frac{3}{26}  \\frac{5}{34}  \\frac{1}{11}\n\\end{pmatrix}\n$$\n\n**Task 2: Compute the final demand vector $y$.**\n\nThe fundamental accounting identity of the Input-Output model is $x = Ax + y$, where $x$ is the gross output vector, $Ax$ is the intermediate demand vector, and $y$ is the final demand vector. To find $y$, we rearrange the identity to $y = x - Ax$.\n\nFirst, we compute the intermediate demand vector $Ax$:\n$$\nAx = \\begin{pmatrix}\n\\frac{2}{13}  \\frac{3}{34}  \\frac{1}{11} \\\\\n\\frac{5}{26}  \\frac{3}{17}  \\frac{2}{11} \\\\\n\\frac{3}{26}  \\frac{5}{34}  \\frac{1}{11}\n\\end{pmatrix}\n\\begin{pmatrix}\n260 \\\\\n340 \\\\\n220\n\\end{pmatrix}\n$$\nThe components of the resulting vector are:\n$(Ax)_1 = \\left(\\frac{2}{13}\\right)(260) + \\left(\\frac{3}{34}\\right)(340) + \\left(\\frac{1}{11}\\right)(220) = 2 \\cdot 20 + 3 \\cdot 10 + 1 \\cdot 20 = 40 + 30 + 20 = 90$\n$(Ax)_2 = \\left(\\frac{5}{26}\\right)(260) + \\left(\\frac{3}{17}\\right)(340) + \\left(\\frac{2}{11}\\right)(220) = 5 \\cdot 10 + 3 \\cdot 20 + 2 \\cdot 20 = 50 + 60 + 40 = 150$\n$(Ax)_3 = \\left(\\frac{3}{26}\\right)(260) + \\left(\\frac{5}{34}\\right)(340) + \\left(\\frac{1}{11}\\right)(220) = 3 \\cdot 10 + 5 \\cdot 10 + 1 \\cdot 20 = 30 + 50 + 20 = 100$\n\nThus, the intermediate demand vector is:\n$$\nAx = \\begin{pmatrix}\n90 \\\\\n150 \\\\\n100\n\\end{pmatrix}\n$$\nNote that this vector is simply the vector of row sums of the transaction matrix $Z$, since $(Ax)_i = \\sum_{j} a_{ij} x_j = \\sum_{j} \\frac{z_{ij}}{x_j} x_j = \\sum_{j} z_{ij}$.\n\nNow, we can compute the final demand vector $y$:\n$$\ny = x - Ax = \\begin{pmatrix}\n260 \\\\\n340 \\\\\n220\n\\end{pmatrix} - \\begin{pmatrix}\n90 \\\\\n150 \\\\\n100\n\\end{pmatrix} = \\begin{pmatrix}\n260 - 90 \\\\\n340 - 150 \\\\\n220 - 100\n\\end{pmatrix} = \\begin{pmatrix}\n170 \\\\\n190 \\\\\n120\n\\end{pmatrix}\n$$\nSo, the final demand vector is $y = \\begin{pmatrix} 170 \\\\ 190 \\\\ 120 \\end{pmatrix}$ billions of currency units.\n\n**Task 3: Verify the balance identity.**\n\nWe must verify that $x = Ax + y$.\nThe left-hand side (LHS) is the gross output vector:\n$$\n\\text{LHS} = x = \\begin{pmatrix}\n260 \\\\\n340 \\\\\n220\n\\end{pmatrix}\n$$\nThe right-hand side (RHS) is the sum of intermediate demand and final demand:\n$$\n\\text{RHS} = Ax + y = \\begin{pmatrix}\n90 \\\\\n150 \\\\\n100\n\\end{pmatrix} + \\begin{pmatrix}\n170 \\\\\n190 \\\\\n120\n\\end{pmatrix} = \\begin{pmatrix}\n90 + 170 \\\\\n150 + 190 \\\\\n100 + 120\n\\end{pmatrix} = \\begin{pmatrix}\n260 \\\\\n340 \\\\\n220\n\\end{pmatrix}\n$$\nSince LHS = RHS, the balance identity is verified component-wise.\n\nThe question asks for the second component, $y_2$, of the final demand vector $y$. From our calculation in Task 2, we have $y_2 = 190$.",
            "answer": "$$\n\\boxed{190}\n$$"
        },
        {
            "introduction": "Building on the production structure, this practice explores the dual price system inherent in an input-output network. You will calculate how primary costs, such as labor and capital captured in the value-added vector $v$, propagate \"downstream\" through supply chains to determine final sector prices. This exercise  illuminates the concept of embodied value and provides a quantitative tool for analyzing cost-push inflation.",
            "id": "4273266",
            "problem": "Consider an industry-by-industry Input-Output (IO) price system with three sectors, where the direct requirements matrix $\\mathbf{A}$ has entries $a_{ij}$ representing the units of sector $i$'s output directly required to produce one unit of sector $j$'s output, and let $\\mathbf{v}$ denote the vector of exogenous primary input costs (value-added) per unit of output in each sector, measured in currency units. Assume competitive pricing and no markups so that, for each sector $j$, the unit price equals the sum of the costs of all intermediate inputs plus the primary input cost incurred in producing one unit of output. You are given\n$$\n\\mathbf{A} \\;=\\;\n\\begin{pmatrix}\n0.10  0.20  0.25 \\\\\n0.00  0.10  0.15 \\\\\n0.00  0.00  0.10\n\\end{pmatrix},\n$$\n$$\n\\mathbf{v} \\;=\\;\n\\begin{pmatrix}\n0.30 \\\\\n0.35 \\\\\n0.25\n\\end{pmatrix}.\n$$\nStarting from the fundamental cost-accounting identity described above and the core definitions of IO systems, derive the price system for the vector of sectoral unit prices $\\mathbf{p}$ and compute the unit price of sector $3$. Then, interpret the contribution of each upstream sector to sector $3$’s unit price by a principled decomposition that distinguishes how value added originating in sectors $1$, $2$, and $3$ transmits through the network to sector $3$’s price.\n\nExpress the numerical unit price of sector $3$ in currency units and round your answer to four significant figures. Do not report any percentages; if you present shares or ratios, express them as decimals or fractions. Your final answer must be a single number.",
            "solution": "The problem statement is found to be valid as it represents a standard and well-posed Leontief price model from input-output economics, which is a core topic in the study of economic networks. The provided data are complete, consistent, and scientifically grounded.\n\nThe fundamental cost-accounting identity, based on the principle of competitive pricing with no markups, states that the price of one unit of output from sector $j$, denoted by $p_j$, must equal the total cost of its production. This cost is the sum of the costs of all intermediate inputs and the cost of primary inputs (value added).\n\nThe cost of intermediate inputs required to produce one unit of sector $j$'s output is given by the sum $\\sum_{i=1}^3 a_{ij} p_i$, where $a_{ij}$ is the quantity of sector $i$'s output needed and $p_i$ is its unit price. The primary input cost per unit of output for sector $j$ is given as $v_j$. Thus, for each sector $j \\in \\{1, 2, 3\\}$, the pricing equation is:\n$$ p_j = \\sum_{i=1}^3 a_{ij} p_i + v_j $$\nLet $\\mathbf{p} = \\begin{pmatrix} p_1 \\\\ p_2 \\\\ p_3 \\end{pmatrix}$ be the column vector of unit prices and $\\mathbf{v} = \\begin{pmatrix} v_1 \\\\ v_2 \\\\ v_3 \\end{pmatrix}$ be the column vector of value-added per unit. The system of equations can be written in matrix form. It is conventional to use a row vector for prices, $\\mathbf{p}^T = \\begin{pmatrix} p_1  p_2  p_3 \\end{pmatrix}$. The sum $\\sum_{i=1}^3 a_{ij} p_i$ is the $j$-th element of the matrix product $\\mathbf{p}^T \\mathbf{A}$. Therefore, the system is:\n$$ \\mathbf{p}^T = \\mathbf{p}^T \\mathbf{A} + \\mathbf{v}^T $$\nRearranging this equation to solve for $\\mathbf{p}^T$:\n$$ \\mathbf{p}^T - \\mathbf{p}^T \\mathbf{A} = \\mathbf{v}^T $$\n$$ \\mathbf{p}^T (\\mathbf{I} - \\mathbf{A}) = \\mathbf{v}^T $$\n$$ \\mathbf{p}^T = \\mathbf{v}^T (\\mathbf{I} - \\mathbf{A})^{-1} $$\nThe matrix $\\mathbf{L} = (\\mathbf{I} - \\mathbf{A})^{-1}$ is the Leontief inverse matrix. An equivalent way to solve for the price vector $\\mathbf{p}$ is to transpose the equation:\n$$ \\mathbf{p} = \\mathbf{A}^T \\mathbf{p} + \\mathbf{v} $$\n$$ (\\mathbf{I} - \\mathbf{A}^T) \\mathbf{p} = \\mathbf{v} $$\n$$ \\mathbf{p} = (\\mathbf{I} - \\mathbf{A}^T)^{-1} \\mathbf{v} $$\nWe are given the matrices:\n$$ \\mathbf{A} = \\begin{pmatrix} 0.10  0.20  0.25 \\\\ 0.00  0.10  0.15 \\\\ 0.00  0.00  0.10 \\end{pmatrix}, \\quad \\mathbf{v} = \\begin{pmatrix} 0.30 \\\\ 0.35 \\\\ 0.25 \\end{pmatrix} $$\nFirst, we compute $\\mathbf{I} - \\mathbf{A}^T$:\n$$ \\mathbf{A}^T = \\begin{pmatrix} 0.10  0.00  0.00 \\\\ 0.20  0.10  0.00 \\\\ 0.25  0.15  0.10 \\end{pmatrix} $$\n$$ \\mathbf{I} - \\mathbf{A}^T = \\begin{pmatrix} 1  0  0 \\\\ 0  1  0 \\\\ 0  0  1 \\end{pmatrix} - \\begin{pmatrix} 0.10  0.00  0.00 \\\\ 0.20  0.10  0.00 \\\\ 0.25  -0.15  0.10 \\end{pmatrix} = \\begin{pmatrix} 0.90  0.00  0.00 \\\\ -0.20  0.90  0.00 \\\\ -0.25  -0.15  0.90 \\end{pmatrix} $$\nThe system $(\\mathbf{I} - \\mathbf{A}^T)\\mathbf{p} = \\mathbf{v}$ is:\n$$ \\begin{pmatrix} 0.90  0.00  0.00 \\\\ -0.20  0.90  0.00 \\\\ -0.25  -0.15  0.90 \\end{pmatrix} \\begin{pmatrix} p_1 \\\\ p_2 \\\\ p_3 \\end{pmatrix} = \\begin{pmatrix} 0.30 \\\\ 0.35 \\\\ 0.25 \\end{pmatrix} $$\nSince the matrix is lower triangular, we can solve for $\\mathbf{p}$ using forward substitution.\nFrom the first equation:\n$$ 0.90 p_1 = 0.30 \\implies p_1 = \\frac{0.30}{0.90} = \\frac{1}{3} $$\nFrom the second equation:\n$$ -0.20 p_1 + 0.90 p_2 = 0.35 \\implies 0.90 p_2 = 0.35 + 0.20 p_1 = 0.35 + 0.20 \\left(\\frac{1}{3}\\right) = \\frac{7}{20} + \\frac{1}{15} = \\frac{21+4}{60} = \\frac{25}{60} = \\frac{5}{12} $$\n$$ p_2 = \\frac{5/12}{0.90} = \\frac{5/12}{9/10} = \\frac{50}{108} = \\frac{25}{54} $$\nFrom the third equation:\n$$ -0.25 p_1 - 0.15 p_2 + 0.90 p_3 = 0.25 \\implies 0.90 p_3 = 0.25 + 0.25 p_1 + 0.15 p_2 $$\n$$ 0.90 p_3 = \\frac{1}{4} + \\frac{1}{4}\\left(\\frac{1}{3}\\right) + \\frac{3}{20}\\left(\\frac{25}{54}\\right) = \\frac{1}{4} + \\frac{1}{12} + \\frac{5}{72} = \\frac{18}{72} + \\frac{6}{72} + \\frac{5}{72} = \\frac{29}{72} $$\n$$ p_3 = \\frac{29/72}{0.90} = \\frac{29/72}{9/10} = \\frac{290}{648} = \\frac{145}{324} $$\nThe unit price of sector $3$ is $p_3 = \\frac{145}{324}$.\n\nNext, we interpret the contribution of each sector's value added to this price. The price equation $\\mathbf{p}^T = \\mathbf{v}^T \\mathbf{L}$ implies that the price of sector $j$ is $p_j = \\sum_{i=1}^3 v_i l_{ij}$, where $l_{ij}$ is the $(i,j)$-th element of the Leontief inverse $\\mathbf{L} = (\\mathbf{I}-\\mathbf{A})^{-1}$. The term $l_{ij}$ represents the total output of sector $i$ (both direct and indirect) required to produce one unit of final output for sector $j$. Consequently, the product $v_i l_{ij}$ represents the total value added originating in sector $i$ that is embodied in one unit of sector $j$'s final product.\n\nTo decompose $p_3$, we need to calculate the contributions $v_1 l_{13}$, $v_2 l_{23}$, and $v_3 l_{33}$. This requires the third column of the Leontief inverse matrix $\\mathbf{L}$. Let this column be $\\mathbf{c}_3 = \\begin{pmatrix} l_{13} \\\\ l_{23} \\\\ l_{33} \\end{pmatrix}$. It can be found by solving the system $\\mathbf{L} = (\\mathbf{I}-\\mathbf{A})^{-1} \\mathbf{I}$, specifically $(\\mathbf{I}-\\mathbf{A})\\mathbf{c}_3 = \\mathbf{e}_3$, where $\\mathbf{e}_3 = \\begin{pmatrix} 0 \\\\ 0 \\\\ 1 \\end{pmatrix}$.\nFirst, we compute $\\mathbf{I}-\\mathbf{A}$:\n$$ \\mathbf{I}-\\mathbf{A} = \\begin{pmatrix} 0.90  -0.20  -0.25 \\\\ 0.00  0.90  -0.15 \\\\ 0.00  0.00  0.90 \\end{pmatrix} $$\nThe system to solve is:\n$$ \\begin{pmatrix} 0.90  -0.20  -0.25 \\\\ 0.00  0.90  -0.15 \\\\ 0.00  0.00  0.90 \\end{pmatrix} \\begin{pmatrix} l_{13} \\\\ l_{23} \\\\ l_{33} \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 1 \\end{pmatrix} $$\nUsing back substitution:\nFrom the third row: $0.90 l_{33} = 1 \\implies l_{33} = \\frac{1}{0.90} = \\frac{10}{9}$.\nFrom the second row: $0.90 l_{23} - 0.15 l_{33} = 0 \\implies 0.90 l_{23} = 0.15 \\left(\\frac{10}{9}\\right) = \\frac{1.5}{9} = \\frac{1}{6} \\implies l_{23} = \\frac{1/6}{0.90} = \\frac{10}{54} = \\frac{5}{27}$.\nFrom the first row: $0.90 l_{13} - 0.20 l_{23} - 0.25 l_{33} = 0 \\implies 0.90 l_{13} = 0.20 \\left(\\frac{5}{27}\\right) + 0.25 \\left(\\frac{10}{9}\\right) = \\frac{1}{27} + \\frac{2.5}{9} = \\frac{1}{27} + \\frac{7.5}{27} = \\frac{8.5}{27} = \\frac{17}{54}$.\n$l_{13} = \\frac{17/54}{0.90} = \\frac{170}{486} = \\frac{85}{243}$.\n\nNow we can compute the value-added contributions to $p_3 = v_1 l_{13} + v_2 l_{23} + v_3 l_{33}$:\nGiven $\\mathbf{v}^T = \\begin{pmatrix} 0.30  0.35  0.25 \\end{pmatrix} = \\begin{pmatrix} \\frac{3}{10}  \\frac{7}{20}  \\frac{1}{4} \\end{pmatrix}$.\n\nContribution from Sector 1's value added:\n$$ v_1 l_{13} = \\left(\\frac{3}{10}\\right) \\left(\\frac{85}{243}\\right) = \\frac{255}{2430} = \\frac{17}{162} $$\nContribution from Sector 2's value added:\n$$ v_2 l_{23} = \\left(\\frac{7}{20}\\right) \\left(\\frac{5}{27}\\right) = \\frac{35}{540} = \\frac{7}{108} $$\nContribution from Sector 3's value added:\n$$ v_3 l_{33} = \\left(\\frac{1}{4}\\right) \\left(\\frac{10}{9}\\right) = \\frac{10}{36} = \\frac{5}{18} $$\nSumming these contributions to verify against our previously calculated $p_3$:\n$$ p_3 = \\frac{17}{162} + \\frac{7}{108} + \\frac{5}{18} = \\frac{17 \\cdot 2}{324} + \\frac{7 \\cdot 3}{324} + \\frac{5 \\cdot 18}{324} = \\frac{34 + 21 + 90}{324} = \\frac{145}{324} $$\nThe sum matches our result, confirming the decomposition.\nThe price of sector $3$ output, $p_3 \\approx 0.4475$, is composed of value added originating from sector $1$ ($\\frac{17}{162} \\approx 0.1049$), from sector $2$ ($\\frac{7}{108} \\approx 0.0648$), and from sector $3$ itself ($\\frac{5}{18} \\approx 0.2778$) as these primary costs are transmitted and accumulated through the production network.\n\nThe final numerical unit price of sector $3$ is $p_3 = \\frac{145}{324} \\approx 0.44753086...$.\nRounding to four significant figures gives $0.4475$.",
            "answer": "$$\\boxed{0.4475}$$"
        },
        {
            "introduction": "This advanced practice moves from static analysis to a dynamic simulation of systemic risk on an economic network. You will implement an iterative failure cascade model to see how a localized shock can propagate and potentially lead to widespread economic collapse. This exercise  directly connects the input-output framework to core concepts in network science, providing a powerful method for assessing economic resilience.",
            "id": "4273243",
            "problem": "Consider a directed, weighted economic input-output network with $n$ sectors, represented by a nonnegative intersectoral flow matrix $F \\in \\mathbb{R}_{\\ge 0}^{n \\times n}$, where $F_{ij}$ denotes the baseline quantity of inputs delivered from sector $j$ to sector $i$. Let the baseline total input requirement of sector $i$ be $R_i = \\sum_{j=1}^{n} F_{ij}$, and collect these into a vector $R \\in \\mathbb{R}_{\\ge 0}^{n}$. Let a threshold vector $\\theta \\in [0,1]^{n}$ be given, where $\\theta_i$ is the minimum fraction of $R_i$ that sector $i$ requires to avoid failure. An exogenous capacity shock is specified by a vector $c \\in [0,1]^{n}$, where $c_j$ scales the output of sector $j$ relative to its baseline. At each iteration, the received inputs of sector $i$ are given by $I_i = \\sum_{j=1}^{n} F_{ij} \\, \\kappa_j$, where $\\kappa_j$ is the current capacity of sector $j$ that evolves over iterations. Initially, $\\kappa_j = c_j$. A sector $i$ fails if and only if $I_i  \\theta_i R_i$, in which case its capacity is set to $\\kappa_i = 0$ for all subsequent iterations. Sectors with $c_j = 0$ are considered initially failed due to the shock. The failure process proceeds by iteratively updating $\\kappa$ and removing failed sectors until a fixed point is reached (no new failures). Define the cascade size as the number of sectors that fail due to the cascade beyond the initially failed ones.\n\nStarting from these fundamental definitions, determine the cascade size for each of the specified test cases by implementing an iterative removal process consistent with the rules above. All comparisons of $I_i$ to $\\theta_i R_i$ must use the strict inequality $I_i  \\theta_i R_i$ for failure. Express the final answers for all test cases as integers.\n\nUse the following test suite, which includes a shared network and multiple shock and threshold configurations that probe the general case, equality at threshold, absence of shock, extreme thresholds, and complete collapse scenarios:\n\n- Network size: $n = 5$.\n- Baseline intersectoral flow matrix:\n$$\nF = \\begin{pmatrix}\n0  0.6  0.4  0  0 \\\\\n0  0  0.5  0.5  0 \\\\\n0  0  0  0.7  0.3 \\\\\n0.2  0  0  0  0.8 \\\\\n0.3  0.3  0  0  0\n\\end{pmatrix}.\n$$\n- Test case $1$: $\\theta = (0.8, 0.7, 0.65, 0.9, 0.5)$, $c = (1, 1, 0.5, 1, 1)$. This case includes equality at the threshold for at least one sector.\n- Test case $2$: $\\theta = (0.8, 0.7, 0.65, 0.9, 0.5)$, $c = (1, 0, 1, 1, 1)$. This case introduces an initially failed supplier causing a cascade.\n- Test case $3$: $\\theta = (0.8, 0.7, 0.65, 0.9, 0.5)$, $c = (1, 1, 1, 1, 1)$. This case has no shock.\n- Test case $4$: $\\theta = (0, 0, 0, 0, 0)$, $c = (0, 0, 1, 1, 1)$. This case uses zero thresholds to test the boundary condition where no sector fails due to insufficient inputs.\n- Test case $5$: $\\theta = (1, 1, 1, 1, 1)$, $c = (1, 1, 0.9, 1, 1)$. This case uses maximal thresholds to test sensitivity to small shocks.\n\nYour program should produce a single line of output containing the cascade sizes for the five test cases as a comma-separated list enclosed in square brackets (for example, $[a,b,c,d,e]$), where each entry is an integer representing the cascade size for the corresponding test case. No physical units, angle units, or percentages are involved; all quantities are dimensionless and all thresholds and capacities are specified as decimals. The program must implement the iterative removal process described, terminating when a fixed point is reached, and count only those failures that occur beyond the initial failures with $c_j = 0$.",
            "solution": "The problem is well-defined and valid. It is scientifically grounded in the established theory of network dynamics and economic input-output models, specifically concerning cascading failures. All terms, variables ($F$, $R$, $\\theta$, $c$, $\\kappa$), and conditions are mathematically specified, ensuring the problem is objective and well-posed. The dynamics are deterministic and guaranteed to reach a fixed point in a finite number of steps, as there are a finite number of sectors ($n=5$) that can fail, and failure is an irreversible state. The problem is self-contained, with no missing or contradictory information. The provided data is numerically consistent and suitable for the model.\n\nThe problem describes a discrete-time iterative process to model cascading failures in an economic network. The state of the system at any iteration is captured by the capacity vector $\\kappa \\in [0,1]^n$, where $\\kappa_i$ is the operational capacity of sector $i$.\n\nFirst, we establish the constant parameters derived from the baseline intersectoral flow matrix $F$:\n$$\nF = \\begin{pmatrix}\n0  0.6  0.4  0  0 \\\\\n0  0  0.5  0.5  0 \\\\\n0  0  0  0.7  0.3 \\\\\n0.2  0  0  0  0.8 \\\\\n0.3  0.3  0  0  0\n\\end{pmatrix}\n$$\nThe baseline total input requirement for each sector $i$, $R_i$, is the sum of inputs from all sectors $j$ to $i$, which corresponds to the sum of the $i$-th row of $F$.\n$$R_i = \\sum_{j=1}^{n} F_{ij}$$\nCalculating this for each sector yields the vector $R$:\n$R_1 = 0 + 0.6 + 0.4 + 0 + 0 = 1.0$\n$R_2 = 0 + 0 + 0.5 + 0.5 + 0 = 1.0$\n$R_3 = 0 + 0 + 0 + 0.7 + 0.3 = 1.0$\n$R_4 = 0.2 + 0 + 0 + 0 + 0.8 = 1.0$\n$R_5 = 0.3 + 0.3 + 0 + 0 + 0 = 0.6$\nSo, the baseline requirement vector is $R = (1.0, 1.0, 1.0, 1.0, 0.6)^T$.\n\nThe core of the simulation is an iterative algorithm:\n\n1.  **Initialization**: For each test case, specified by a shock vector $c$ and a threshold vector $\\theta$:\n    a. The initial capacity vector is set to the shock vector: $\\kappa^{(0)} = c$.\n    b. The set of initially failed sectors is $S_{initial} = \\{j \\mid c_j = 0\\}$.\n    c. The failure threshold for each sector, $T_i = \\theta_i R_i$, is calculated. This vector remains constant throughout the simulation.\n    d. A boolean vector representing active (non-failed) sectors is maintained. Initially, a sector $i$ is active if $\\kappa_i > 0$.\n\n2.  **Iteration**: The process continues in discrete steps until no new failures occur in a full step (a fixed point). In each iteration $t$:\n    a. The total input received by each sector $i$ is calculated based on the current capacities of its suppliers: $I_i^{(t)} = \\sum_{j=1}^{n} F_{ij} \\kappa_j^{(t)}$. In matrix notation, $I^{(t)} = F \\kappa^{(t)}$.\n    b. For each active sector $i$ (where $\\kappa_i^{(t)}  0$), we check the failure condition: $I_i^{(t)}  T_i$.\n    c. If the condition is met, sector $i$ fails.\n    d. A new capacity vector $\\kappa^{(t+1)}$ is formed by setting $\\kappa_i^{(t+1)} = 0$ for all newly failed sectors. The capacities of other sectors remain unchanged from $\\kappa^{(t)}$.\n\n3.  **Termination**: The loop terminates when an iteration produces no new failures.\n\n4.  **Result**: The final set of failed sectors is $S_{final} = \\{j \\mid \\kappa_j^{final} = 0\\}$. The cascade size is defined as the number of sectors that failed during the cascade, which is $|S_{final}| - |S_{initial}|$.\n\nWe now apply this algorithm to each test case.\n\n**Test Case 1**: $\\theta = (0.8, 0.7, 0.65, 0.9, 0.5)$, $c = (1, 1, 0.5, 1, 1)$.\n- Input thresholds: $T = (0.8 \\times 1.0, 0.7 \\times 1.0, 0.65 \\times 1.0, 0.9 \\times 1.0, 0.5 \\times 0.6)^T = (0.8, 0.7, 0.65, 0.9, 0.3)^T$.\n- Initial state: $\\kappa^{(0)} = (1, 1, 0.5, 1, 1)^T$. Number of initial failures is $0$.\n- Iteration 1: $I^{(0)} = F \\kappa^{(0)} = (0.8, 0.75, 1.0, 1.0, 0.6)^T$.\n- Comparison:\n  - $I_1 = 0.8$, $T_1 = 0.8$. ($0.8  0.8$ is false).\n  - $I_2 = 0.75$, $T_2 = 0.7$. ($0.75  0.7$ is false).\n  - $I_3 = 1.0$, $T_3 = 0.65$. ($1.0  0.65$ is false).\n  - $I_4 = 1.0$, $T_4 = 0.9$. ($1.0  0.9$ is false).\n  - $I_5 = 0.6$, $T_5 = 0.3$. ($0.6  0.3$ is false).\n- No sectors fail. The system is stable.\n- Cascade size = $0 - 0 = 0$.\n\n**Test Case 2**: $\\theta = (0.8, 0.7, 0.65, 0.9, 0.5)$, $c = (1, 0, 1, 1, 1)$.\n- Input thresholds: $T = (0.8, 0.7, 0.65, 0.9, 0.3)^T$.\n- Initial state: $\\kappa^{(0)} = (1, 0, 1, 1, 1)^T$. Sector $2$ is initially failed. Number of initial failures is $1$.\n- Iteration 1: $I^{(0)} = F \\kappa^{(0)} = (0.4, 1.0, 1.0, 1.0, 0.3)^T$.\n  - $I_1 = 0.4  T_1=0.8 \\implies$ Sector $1$ fails.\n- New state: $\\kappa^{(1)} = (0, 0, 1, 1, 1)^T$.\n- Iteration 2: $I^{(1)} = F \\kappa^{(1)} = (0.4, 1.0, 1.0, 0.8, 0)^T$.\n  - $I_4 = 0.8  T_4=0.9 \\implies$ Sector $4$ fails.\n  - $I_5 = 0  T_5=0.3 \\implies$ Sector $5$ fails.\n- New state: $\\kappa^{(2)} = (0, 0, 1, 0, 0)^T$.\n- Iteration 3: $I^{(2)} = F \\kappa^{(2)} = (0.4, 0.5, 0, 0, 0)^T$.\n  - $I_3 = 0  T_3=0.65 \\implies$ Sector $3$ fails.\n- New state: $\\kappa^{(3)} = (0, 0, 0, 0, 0)^T$.\n- No active sectors remain. The process terminates.\n- Final failed sectors: $\\{1, 2, 3, 4, 5\\}$. Total failures = $5$. Initial failures = $1$.\n- Cascade size = $5 - 1 = 4$.\n\n**Test Case 3**: $\\theta = (0.8, 0.7, 0.65, 0.9, 0.5)$, $c = (1, 1, 1, 1, 1)$.\n- Input thresholds: $T = (0.8, 0.7, 0.65, 0.9, 0.3)^T$.\n- Initial state: $\\kappa^{(0)} = (1, 1, 1, 1, 1)^T$. Number of initial failures is $0$.\n- Iteration 1: $I^{(0)} = F \\kappa^{(0)} = R = (1.0, 1.0, 1.0, 1.0, 0.6)^T$.\n- Comparison: The failure condition is $R_i  \\theta_i R_i$, which simplifies to $1  \\theta_i$ (since $R_i  0$). This is false for all $i$ as $\\theta_i \\in [0,1]$. No sectors fail.\n- Cascade size = $0 - 0 = 0$.\n\n**Test Case 4**: $\\theta = (0, 0, 0, 0, 0)$, $c = (0, 0, 1, 1, 1)$.\n- Input thresholds: $T = (0, 0, 0, 0, 0)^T$.\n- Initial state: $\\kappa^{(0)} = (0, 0, 1, 1, 1)^T$. Sectors $1$ and $2$ are initially failed. Number of initial failures is $2$.\n- Iteration 1: The failure condition is $I_i  0$. Since $F_{ij} \\ge 0$ and $\\kappa_j \\ge 0$, the inputs $I_i = \\sum_j F_{ij} \\kappa_j$ must be non-negative ($I_i \\ge 0$). Thus, the condition can never be met. No new sectors fail.\n- Cascade size = $2 - 2 = 0$.\n\n**Test Case 5**: $\\theta = (1, 1, 1, 1, 1)$, $c = (1, 1, 0.9, 1, 1)$.\n- Input thresholds: $T = 1.0 \\times R = (1.0, 1.0, 1.0, 1.0, 0.6)^T$.\n- Initial state: $\\kappa^{(0)} = (1, 1, 0.9, 1, 1)^T$. Number of initial failures is $0$.\n- Iteration 1: $I^{(0)} = F \\kappa^{(0)} = (0.96, 0.95, 1.0, 1.0, 0.6)^T$.\n  - $I_1 = 0.96  T_1=1.0 \\implies$ Sector $1$ fails.\n  - $I_2 = 0.95  T_2=1.0 \\implies$ Sector $2$ fails.\n- New state: $\\kappa^{(1)} = (0, 0, 0.9, 1, 1)^T$.\n- Iteration 2: $I^{(1)} = F \\kappa^{(1)} = (0.36, 0.95, 1.0, 0.8, 0)^T$.\n  - $I_4 = 0.8  T_4=1.0 \\implies$ Sector $4$ fails.\n  - $I_5 = 0  T_5=0.6 \\implies$ Sector $5$ fails.\n- New state: $\\kappa^{(2)} = (0, 0, 0.9, 0, 0)^T$.\n- Iteration 3: $I^{(2)} = F \\kappa^{(2)} = (0.36, 0.45, 0, 0, 0)^T$.\n  - $I_3 = 0  T_3=1.0 \\implies$ Sector $3$ fails.\n- New state: $\\kappa^{(3)} = (0, 0, 0, 0, 0)^T$.\n- No active sectors remain. The process terminates.\n- Final failed sectors: $\\{1, 2, 3, 4, 5\\}$. Total failures = $5$. Initial failures = $0$.\n- Cascade size = $5 - 0 = 5$.\n\nSummary of results:\n- Case 1: $0$\n- Case 2: $4$\n- Case 3: $0$\n- Case 4: $0$\n- Case 5: $5$",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves for the cascade size in an economic input-output network model\n    for a series of test cases.\n    \"\"\"\n    \n    # Shared network parameters\n    F = np.array([\n        [0.0, 0.6, 0.4, 0.0, 0.0],\n        [0.0, 0.0, 0.5, 0.5, 0.0],\n        [0.0, 0.0, 0.0, 0.7, 0.3],\n        [0.2, 0.0, 0.0, 0.0, 0.8],\n        [0.3, 0.3, 0.0, 0.0, 0.0]\n    ])\n    n = F.shape[0]\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        {'theta': np.array([0.8, 0.7, 0.65, 0.9, 0.5]), 'c': np.array([1.0, 1.0, 0.5, 1.0, 1.0])},\n        {'theta': np.array([0.8, 0.7, 0.65, 0.9, 0.5]), 'c': np.array([1.0, 0.0, 1.0, 1.0, 1.0])},\n        {'theta': np.array([0.8, 0.7, 0.65, 0.9, 0.5]), 'c': np.array([1.0, 1.0, 1.0, 1.0, 1.0])},\n        {'theta': np.array([0.0, 0.0, 0.0, 0.0, 0.0]), 'c': np.array([0.0, 0.0, 1.0, 1.0, 1.0])},\n        {'theta': np.array([1.0, 1.0, 1.0, 1.0, 1.0]), 'c': np.array([1.0, 1.0, 0.9, 1.0, 1.0])}\n    ]\n\n    # Baseline total input requirement vector R\n    R = F.sum(axis=1)\n    \n    results = []\n    \n    for case in test_cases:\n        theta = case['theta']\n        c = case['c']\n        \n        # Calculate the constant failure threshold vector T\n        T_vector = theta * R\n        \n        # Initialize capacity vector kappa from the shock vector c\n        kappa = np.copy(c)\n        \n        # Identify initially failed sectors (where c_j = 0)\n        num_initial_failures = np.sum(c == 0)\n        \n        # Iteratively remove failed sectors until a fixed point is reached\n        while True:\n            # Get a mask of sectors that are currently active (not failed)\n            active_sectors_mask = kappa > 0\n            \n            # If no sectors are active, the cascade is complete\n            if not np.any(active_sectors_mask):\n                break\n\n            # Calculate received inputs I = F * kappa\n            I_vector = F @ kappa\n            \n            # Identify sectors that fail in this iteration:\n            # They must be active AND their input must be strictly less than the threshold.\n            newly_failed_mask = (I_vector  T_vector)  active_sectors_mask\n            \n            # Check for fixed point: if no new sectors failed, terminate\n            if not np.any(newly_failed_mask):\n                break\n            \n            # Update kappa: set capacity of newly failed sectors to 0\n            kappa[newly_failed_mask] = 0.0\n            \n    \n        # After the cascade, count the total number of failed sectors\n        num_final_failures = n - np.sum(kappa > 0)\n        \n        # The cascade size is the number of new failures beyond the initial ones\n        cascade_size = num_final_failures - num_initial_failures\n        results.append(cascade_size)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}