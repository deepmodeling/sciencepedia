{
    "hands_on_practices": [
        {
            "introduction": "本练习旨在指导您如何从原始经济数据入手，构建基本的列昂惕夫数量模型。我们将应用基础的会计恒等式 $x = Ax + y$，该恒等式表明一个部门的总产出 $x$ 被分配给中间需求 $Ax$ 和最终需求 $y$。通过这个过程，您将学习如何推导出代表经济“生产配方”的技术系数矩阵 $A$。掌握这一基础计算是理解经济部门如何相互依存以及产出如何在整个经济中分配的第一步。",
            "id": "4273284",
            "problem": "考虑一个由产业间交易矩阵 $Z \\in \\mathbb{R}^{3 \\times 3}$ 和总产出向量 $x \\in \\mathbb{R}^{3}$ 表示的三部门（$3$）经济体。$Z$ 的元素 $z_{ij}$ 表示部门 $i$ 提供给部门 $j$ 的中间投入的货币价值（以十亿货币单位计）。总产出 $x_j$ 是部门 $j$ 生产的产出的总货币价值（以十亿货币单位计）。在 Wassily Leontief 的投入产出（IO）框架中，技术系数矩阵 $A$ 按列由核心定义 $a_{ij} = z_{ij}/x_{j}$ 给出，基本核算恒等式为 $x = A x + y$，其中 $y \\in \\mathbb{R}^{3}$ 是最终需求向量（以十亿货币单位计）。\n\n给定以下数据（所有数值均以十亿货币单位计）：\n$$\nZ = \\begin{pmatrix}\n40  30  20 \\\\\n50  60  40 \\\\\n30  50  20\n\\end{pmatrix},\n\\qquad\nx = \\begin{pmatrix}\n260 \\\\\n340 \\\\\n220\n\\end{pmatrix}.\n$$\n\n任务：\n1. 仅使用技术系数的核心定义，从 $Z$ 和 $x$ 计算矩阵 $A$。\n2. 从基本平衡恒等式 $x = A x + y$ 出发，从 $x$ 和 $A$ 计算最终需求向量 $y$。\n3. 通过计算等式两边并逐分量证明其相等，来显式地验证该平衡恒等式。\n\n所有货币价值均以十亿货币单位表示。请提供最终需求向量 $y$ 的第二个分量 $y_2$ 作为你唯一的最终数值答案。无需四舍五入。",
            "solution": "该问题经核实具有科学依据、适定、客观且内部一致。这是经济学中 Leontief 投入产出模型的标准应用。所有必要的数据和定义都已提供，可以找到唯一解。我们可以开始解题。\n\n问题要求我们基于一个三部门经济的 Leontief 投入产出模型进行计算。我们已知产业间交易矩阵 $Z$ 和总产出向量 $x$。所有货币价值均以十亿货币单位计。\n\n给定的数据是：\n$$\nZ = \\begin{pmatrix}\n40  30  20 \\\\\n50  60  40 \\\\\n30  50  20\n\\end{pmatrix}\n\\qquad\nx = \\begin{pmatrix}\n260 \\\\\n340 \\\\\n220\n\\end{pmatrix}\n$$\n\n**任务1：计算技术系数矩阵 $A$。**\n\n技术系数 $a_{ij}$ 表示生产部门 $j$ 的一单位产出所需来自部门 $i$ 的投入量。它由关系式 $a_{ij} = \\frac{z_{ij}}{x_j}$ 定义，其中 $z_{ij}$ 是从部门 $i$ 到部门 $j$ 的投入，而 $x_j$ 是部门 $j$ 的总产出。我们逐列计算矩阵 $A$。\n\n对于第一列（$j=1$），对应于总产出为 $x_1 = 260$ 的部门 1：\n$a_{11} = \\frac{z_{11}}{x_1} = \\frac{40}{260} = \\frac{4}{26} = \\frac{2}{13}$\n$a_{21} = \\frac{z_{21}}{x_1} = \\frac{50}{260} = \\frac{5}{26}$\n$a_{31} = \\frac{z_{31}}{x_1} = \\frac{30}{260} = \\frac{3}{26}$\n\n对于第二列（$j=2$），对应于总产出为 $x_2 = 340$ 的部门 2：\n$a_{12} = \\frac{z_{12}}{x_2} = \\frac{30}{340} = \\frac{3}{34}$\n$a_{22} = \\frac{z_{22}}{x_2} = \\frac{60}{340} = \\frac{6}{34} = \\frac{3}{17}$\n$a_{32} = \\frac{z_{32}}{x_2} = \\frac{50}{340} = \\frac{5}{34}$\n\n对于第三列（$j=3$），对应于总产出为 $x_3 = 220$ 的部门 3：\n$a_{13} = \\frac{z_{13}}{x_3} = \\frac{20}{220} = \\frac{2}{22} = \\frac{1}{11}$\n$a_{23} = \\frac{z_{23}}{x_3} = \\frac{40}{220} = \\frac{4}{22} = \\frac{2}{11}$\n$a_{33} = \\frac{z_{33}}{x_3} = \\frac{20}{220} = \\frac{2}{22} = \\frac{1}{11}$\n\n综合这些系数，技术系数矩阵 $A$ 为：\n$$\nA = \\begin{pmatrix}\n\\frac{2}{13}  \\frac{3}{34}  \\frac{1}{11} \\\\\n\\frac{5}{26}  \\frac{3}{17}  \\frac{2}{11} \\\\\n\\frac{3}{26}  \\frac{5}{34}  \\frac{1}{11}\n\\end{pmatrix}\n$$\n\n**任务2：计算最终需求向量 $y$。**\n\n投入产出模型的基本核算恒等式是 $x = Ax + y$，其中 $x$ 是总产出向量，$Ax$ 是中间需求向量，$y$ 是最终需求向量。为了求出 $y$，我们将该恒等式重新整理为 $y = x - Ax$。\n\n首先，我们计算中间需求向量 $Ax$：\n$$\nAx = \\begin{pmatrix}\n\\frac{2}{13}  \\frac{3}{34}  \\frac{1}{11} \\\\\n\\frac{5}{26}  \\frac{3}{17}  \\frac{2}{11} \\\\\n\\frac{3}{26}  \\frac{5}{34}  \\frac{1}{11}\n\\end{pmatrix}\n\\begin{pmatrix}\n260 \\\\\n340 \\\\\n220\n\\end{pmatrix}\n$$\n所得向量的分量为：\n$(Ax)_1 = \\left(\\frac{2}{13}\\right)(260) + \\left(\\frac{3}{34}\\right)(340) + \\left(\\frac{1}{11}\\right)(220) = 2 \\cdot 20 + 3 \\cdot 10 + 1 \\cdot 20 = 40 + 30 + 20 = 90$\n$(Ax)_2 = \\left(\\frac{5}{26}\\right)(260) + \\left(\\frac{3}{17}\\right)(340) + \\left(\\frac{2}{11}\\right)(220) = 5 \\cdot 10 + 3 \\cdot 20 + 2 \\cdot 20 = 50 + 60 + 40 = 150$\n$(Ax)_3 = \\left(\\frac{3}{26}\\right)(260) + \\left(\\frac{5}{34}\\right)(340) + \\left(\\frac{1}{11}\\right)(220) = 3 \\cdot 10 + 5 \\cdot 10 + 1 \\cdot 20 = 30 + 50 + 20 = 100$\n\n因此，中间需求向量为：\n$$\nAx = \\begin{pmatrix}\n90 \\\\\n150 \\\\\n100\n\\end{pmatrix}\n$$\n注意到该向量就是交易矩阵 $Z$ 的行和向量，因为 $(Ax)_i = \\sum_{j} a_{ij} x_j = \\sum_{j} \\frac{z_{ij}}{x_j} x_j = \\sum_{j} z_{ij}$。\n\n现在，我们可以计算最终需求向量 $y$：\n$$\ny = x - Ax = \\begin{pmatrix}\n260 \\\\\n340 \\\\\n220\n\\end{pmatrix} - \\begin{pmatrix}\n90 \\\\\n150 \\\\\n100\n\\end{pmatrix} = \\begin{pmatrix}\n260 - 90 \\\\\n340 - 150 \\\\\n220 - 100\n\\end{pmatrix} = \\begin{pmatrix}\n170 \\\\\n190 \\\\\n120\n\\end{pmatrix}\n$$\n所以，最终需求向量为 $y = \\begin{pmatrix} 170 \\\\ 190 \\\\ 120 \\end{pmatrix}$ 十亿货币单位。\n\n**任务3：验证平衡恒等式。**\n\n我们必须验证 $x = Ax + y$。\n等式左边（LHS）是总产出向量：\n$$\n\\text{LHS} = x = \\begin{pmatrix}\n260 \\\\\n340 \\\\\n220\n\\end{pmatrix}\n$$\n等式右边（RHS）是中间需求和最终需求之和：\n$$\n\\text{RHS} = Ax + y = \\begin{pmatrix}\n90 \\\\\n150 \\\\\n100\n\\end{pmatrix} + \\begin{pmatrix}\n170 \\\\\n190 \\\\\n120\n\\end{pmatrix} = \\begin{pmatrix}\n90 + 170 \\\\\n150 + 190 \\\\\n100 + 120\n\\end{pmatrix} = \\begin{pmatrix}\n260 \\\\\n340 \\\\\n220\n\\end{pmatrix}\n$$\n由于 LHS = RHS，该平衡恒等式已逐分量得到验证。\n\n题目要求最终需求向量 $y$ 的第二个分量 $y_2$。根据我们在任务2中的计算，我们得到 $y_2 = 190$。",
            "answer": "$$\n\\boxed{190}\n$$"
        },
        {
            "introduction": "在探索了数量模型之后，我们现在转向其对偶形式：列昂惕夫价格模型。这个实践侧重于生产成本如何决定各部门的价格。我们将使用价格恒等式 $p^T = p^T A + v^T$，它假定一个产品的价格 $p$ 由其生产中消耗的中间投入品的成本 $p^T A$ 和增加值 $v^T$ 构成。本练习的一个关键部分是将一个部门的最终价格分解为所有上游部门的增加值贡献，从而揭示整个供应链的成本结构。这项技能对于分析成本推动型通货膨胀、追踪供应链中的价值创造以及为计算碳足迹等高级应用奠定基础至关重要。",
            "id": "4273266",
            "problem": "考虑一个包含三个部门的产业间投入产出（IO）价格体系，其中，直接需求矩阵 $\\mathbf{A}$ 的元素 $a_{ij}$ 表示生产一单位部门 $j$ 的产出所需直接消耗的部门 $i$ 的产出单位数，并令 $\\mathbf{v}$ 表示各部门单位产出的外生原始投入成本（增加值）向量，以货币单位计量。假设存在竞争性定价且无加价，因此对于每个部门 $j$，单位价格等于生产一单位产出所发生的所有中间投入成本与原始投入成本之和。给定\n$$\n\\mathbf{A} \\;=\\;\n\\begin{pmatrix}\n0.10  0.20  0.25 \\\\\n0.00  0.10  0.15 \\\\\n0.00  0.00  0.10\n\\end{pmatrix},\n\\qquad\n\\mathbf{v} \\;=\\;\n\\begin{pmatrix}\n0.30 \\\\\n0.35 \\\\\n0.25\n\\end{pmatrix}.\n$$\n从上述基本成本核算恒等式和投入产出体系的核心定义出发，推导部门单位价格向量 $\\mathbf{p}$ 的价格体系，并计算部门3的单位价格。然后，通过一种基于原理的分解方法来解释各上游部门对部门3单位价格的贡献，该分解需区分源于部门1、2、3的增加值如何通过网络传递至部门3的价格。\n\n以货币单位表示部门3的数值单位价格，并将您的答案四舍五入至四位有效数字。不要以百分比报告；如果您需要呈现份额或比率，请用小数或分数表示。您的最终答案必须是一个数字。",
            "solution": "该问题陈述被认为是有效的，因为它代表了投入产出经济学中一个标准的、适定的列昂惕夫（Leontief）价格模型，这是经济网络研究的核心课题。所提供的数据是完整的、一致的且具有科学依据。\n\n基于无加价的竞争性定价原则的基本成本核算恒等式指出，部门 $j$ 的一单位产出价格（记为 $p_j$）必须等于其生产总成本。该成本是所有中间投入的成本与原始投入（增加值）的成本之和。\n\n生产一单位部门 $j$ 产出所需的中间投入成本由总和 $\\sum_{i=1}^3 a_{ij} p_i$ 给出，其中 $a_{ij}$ 是所需部门 $i$ 产出的数量，$p_i$ 是其单位价格。部门 $j$ 的单位产出原始投入成本为 $v_j$。因此，对于每个部门 $j \\in \\{1, 2, 3\\}$，定价方程为：\n$$ p_j = \\sum_{i=1}^3 a_{ij} p_i + v_j $$\n令 $\\mathbf{p} = \\begin{pmatrix} p_1 \\\\ p_2 \\\\ p_3 \\end{pmatrix}$ 为单位价格的列向量，$\\mathbf{v} = \\begin{pmatrix} v_1 \\\\ v_2 \\\\ v_3 \\end{pmatrix}$ 为单位增加值的列向量。该方程组可以用矩阵形式表示。习惯上使用行向量表示价格，即 $\\mathbf{p}^T = \\begin{pmatrix} p_1  p_2  p_3 \\end{pmatrix}$。总和 $\\sum_{i=1}^3 a_{ij} p_i$ 是矩阵乘积 $\\mathbf{p}^T \\mathbf{A}$ 的第 $j$ 个元素。因此，该体系为：\n$$ \\mathbf{p}^T = \\mathbf{p}^T \\mathbf{A} + \\mathbf{v}^T $$\n重新整理此方程以求解 $\\mathbf{p}^T$：\n$$ \\mathbf{p}^T - \\mathbf{p}^T \\mathbf{A} = \\mathbf{v}^T $$\n$$ \\mathbf{p}^T (\\mathbf{I} - \\mathbf{A}) = \\mathbf{v}^T $$\n$$ \\mathbf{p}^T = \\mathbf{v}^T (\\mathbf{I} - \\mathbf{A})^{-1} $$\n矩阵 $\\mathbf{L} = (\\mathbf{I} - \\mathbf{A})^{-1}$ 是列昂惕夫逆矩阵。求解价格向量 $\\mathbf{p}$ 的另一种等效方法是对该方程进行转置：\n$$ \\mathbf{p} = \\mathbf{A}^T \\mathbf{p} + \\mathbf{v} $$\n$$ (\\mathbf{I} - \\mathbf{A}^T) \\mathbf{p} = \\mathbf{v} $$\n$$ \\mathbf{p} = (\\mathbf{I} - \\mathbf{A}^T)^{-1} \\mathbf{v} $$\n我们给定的矩阵是：\n$$ \\mathbf{A} = \\begin{pmatrix} 0.10  0.20  0.25 \\\\ 0.00  0.10  0.15 \\\\ 0.00  0.00  0.10 \\end{pmatrix}, \\quad \\mathbf{v} = \\begin{pmatrix} 0.30 \\\\ 0.35 \\\\ 0.25 \\end{pmatrix} $$\n首先，我们计算 $\\mathbf{I} - \\mathbf{A}^T$：\n$$ \\mathbf{A}^T = \\begin{pmatrix} 0.10  0.00  0.00 \\\\ 0.20  0.10  0.00 \\\\ 0.25  0.15  0.10 \\end{pmatrix} $$\n$$ \\mathbf{I} - \\mathbf{A}^T = \\begin{pmatrix} 1  0  0 \\\\ 0  1  0 \\\\ 0  0  1 \\end{pmatrix} - \\begin{pmatrix} 0.10  0.00  0.00 \\\\ 0.20  0.10  0.00 \\\\ 0.25  -0.15  0.10 \\end{pmatrix} = \\begin{pmatrix} 0.90  0.00  0.00 \\\\ -0.20  0.90  0.00 \\\\ -0.25  -0.15  0.90 \\end{pmatrix} $$\n系统 $(\\mathbf{I} - \\mathbf{A}^T)\\mathbf{p} = \\mathbf{v}$ 是：\n$$ \\begin{pmatrix} 0.90  0.00  0.00 \\\\ -0.20  0.90  0.00 \\\\ -0.25  -0.15  0.90 \\end{pmatrix} \\begin{pmatrix} p_1 \\\\ p_2 \\\\ p_3 \\end{pmatrix} = \\begin{pmatrix} 0.30 \\\\ 0.35 \\\\ 0.25 \\end{pmatrix} $$\n由于该矩阵是下三角矩阵，我们可以使用前向代入法求解 $\\mathbf{p}$。\n由第一个方程：\n$$ 0.90 p_1 = 0.30 \\implies p_1 = \\frac{0.30}{0.90} = \\frac{1}{3} $$\n由第二个方程：\n$$ -0.20 p_1 + 0.90 p_2 = 0.35 \\implies 0.90 p_2 = 0.35 + 0.20 p_1 = 0.35 + 0.20 \\left(\\frac{1}{3}\\right) = \\frac{7}{20} + \\frac{1}{15} = \\frac{21+4}{60} = \\frac{25}{60} = \\frac{5}{12} $$\n$$ p_2 = \\frac{5/12}{0.90} = \\frac{5/12}{9/10} = \\frac{50}{108} = \\frac{25}{54} $$\n由第三个方程：\n$$ -0.25 p_1 - 0.15 p_2 + 0.90 p_3 = 0.25 \\implies 0.90 p_3 = 0.25 + 0.25 p_1 + 0.15 p_2 $$\n$$ 0.90 p_3 = \\frac{1}{4} + \\frac{1}{4}\\left(\\frac{1}{3}\\right) + \\frac{3}{20}\\left(\\frac{25}{54}\\right) = \\frac{1}{4} + \\frac{1}{12} + \\frac{5}{72} = \\frac{18}{72} + \\frac{6}{72} + \\frac{5}{72} = \\frac{29}{72} $$\n$$ p_3 = \\frac{29/72}{0.90} = \\frac{29/72}{9/10} = \\frac{290}{648} = \\frac{145}{324} $$\n部门3的单位价格是 $p_3 = \\frac{145}{324}$。\n\n接下来，我们解释各部门增加值对该价格的贡献。价格方程 $\\mathbf{p}^T = \\mathbf{v}^T \\mathbf{L}$ 意味着部门 $j$ 的价格为 $p_j = \\sum_{i=1}^3 v_i l_{ij}$，其中 $l_{ij}$ 是列昂惕夫逆矩阵 $\\mathbf{L} = (\\mathbf{I}-\\mathbf{A})^{-1}$ 的第 $(i,j)$ 个元素。项 $l_{ij}$ 表示为部门 $j$ 生产一单位最终产出所需要（直接和间接）的部门 $i$ 的总产出。因此，乘积 $v_i l_{ij}$ 代表包含在一单位部门 $j$ 的最终产品中，源于部门 $i$ 的总增加值。\n\n为分解 $p_3$，我们需要计算贡献 $v_1 l_{13}$、$v_2 l_{23}$ 和 $v_3 l_{33}$。这需要列昂惕夫逆矩阵 $\\mathbf{L}$ 的第三列。设此列为 $\\mathbf{c}_3 = \\begin{pmatrix} l_{13} \\\\ l_{23} \\\\ l_{33} \\end{pmatrix}$。可以通过求解系统 $\\mathbf{L} = (\\mathbf{I}-\\mathbf{A})^{-1} \\mathbf{I}$ 来找到它，具体来说是求解 $(\\mathbf{I}-\\mathbf{A})\\mathbf{c}_3 = \\mathbf{e}_3$，其中 $\\mathbf{e}_3 = \\begin{pmatrix} 0 \\\\ 0 \\\\ 1 \\end{pmatrix}$。\n首先，我们计算 $\\mathbf{I}-\\mathbf{A}$：\n$$ \\mathbf{I}-\\mathbf{A} = \\begin{pmatrix} 0.90  -0.20  -0.25 \\\\ 0.00  0.90  -0.15 \\\\ 0.00  0.00  0.90 \\end{pmatrix} $$\n需要求解的系统是：\n$$ \\begin{pmatrix} 0.90  -0.20  -0.25 \\\\ 0.00  0.90  -0.15 \\\\ 0.00  0.00  0.90 \\end{pmatrix} \\begin{pmatrix} l_{13} \\\\ l_{23} \\\\ l_{33} \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 1 \\end{pmatrix} $$\n使用回代法：\n由第三行：$0.90 l_{33} = 1 \\implies l_{33} = \\frac{1}{0.90} = \\frac{10}{9}$。\n由第二行：$0.90 l_{23} - 0.15 l_{33} = 0 \\implies 0.90 l_{23} = 0.15 \\left(\\frac{10}{9}\\right) = \\frac{1.5}{9} = \\frac{1}{6} \\implies l_{23} = \\frac{1/6}{0.90} = \\frac{10}{54} = \\frac{5}{27}$。\n由第一行：$0.90 l_{13} - 0.20 l_{23} - 0.25 l_{33} = 0 \\implies 0.90 l_{13} = 0.20 \\left(\\frac{5}{27}\\right) + 0.25 \\left(\\frac{10}{9}\\right) = \\frac{1}{27} + \\frac{2.5}{9} = \\frac{1}{27} + \\frac{7.5}{27} = \\frac{8.5}{27} = \\frac{17}{54}$。\n$l_{13} = \\frac{17/54}{0.90} = \\frac{170}{486} = \\frac{85}{243}$。\n\n现在我们可以计算对 $p_3 = v_1 l_{13} + v_2 l_{23} + v_3 l_{33}$ 的增加值贡献：\n给定 $\\mathbf{v}^T = \\begin{pmatrix} 0.30  0.35  0.25 \\end{pmatrix} = \\begin{pmatrix} \\frac{3}{10}  \\frac{7}{20}  \\frac{1}{4} \\end{pmatrix}$。\n\n来自部门1增加值的贡献：\n$$ v_1 l_{13} = \\left(\\frac{3}{10}\\right) \\left(\\frac{85}{243}\\right) = \\frac{255}{2430} = \\frac{17}{162} $$\n来自部门2增加值的贡献：\n$$ v_2 l_{23} = \\left(\\frac{7}{20}\\right) \\left(\\frac{5}{27}\\right) = \\frac{35}{540} = \\frac{7}{108} $$\n来自部门3增加值的贡献：\n$$ v_3 l_{33} = \\left(\\frac{1}{4}\\right) \\left(\\frac{10}{9}\\right) = \\frac{10}{36} = \\frac{5}{18} $$\n将这些贡献相加以验证我们之前计算的 $p_3$：\n$$ p_3 = \\frac{17}{162} + \\frac{7}{108} + \\frac{5}{18} = \\frac{17 \\cdot 2}{324} + \\frac{7 \\cdot 3}{324} + \\frac{5 \\cdot 18}{324} = \\frac{34 + 21 + 90}{324} = \\frac{145}{324} $$\n总和与我们的结果相符，证实了分解的正确性。\n部门3产出的价格 $p_3 \\approx 0.4475$，是由源于部门1的增加值（$\\frac{17}{162} \\approx 0.1049$）、源于部门2的增加值（$\\frac{7}{108} \\approx 0.0648$）和源于部门3自身的增加值（$\\frac{5}{18} \\approx 0.2778$）构成的，这些原始成本通过生产网络传递和累积。\n\n部门3的最终数值单位价格是 $p_3 = \\frac{145}{324} \\approx 0.44753086...$。\n四舍五入到四位有效数字得到 $0.4475$。",
            "answer": "$$\\boxed{0.4475}$$"
        },
        {
            "introduction": "最后的这项实践从静态分析转向动态模拟，旨在模拟冲击如何在经济网络中引发连锁失效。我们将实现一个迭代失效模型，在该模型中，如果一个部门获得的必需投入品供应低于一个关键阈值，该部门就会停止运转。这揭示了由投入产出矩阵定义的网络结构，如何传导局部干扰，并可能将其放大为系统性危机。通过构建并运行此模拟，您将获得模拟系统性风险的实践经验，并理解网络拓扑如何在复杂的经济系统中创造脆弱性与韧性。",
            "id": "4273243",
            "problem": "考虑一个包含 $n$ 个部门的有向加权经济投入产出网络，该网络由一个非负的部门间流量矩阵 $F \\in \\mathbb{R}_{\\ge 0}^{n \\times n}$ 表示，其中 $F_{ij}$ 表示从部门 $j$ 输送到部门 $i$ 的基准投入量。设部门 $i$ 的基准总投入需求为 $R_i = \\sum_{j=1}^{n} F_{ij}$，并将这些需求量汇集成一个向量 $R \\in \\mathbb{R}_{\\ge 0}^{n}$。给定一个阈值向量 $\\theta \\in [0,1]^{n}$，其中 $\\theta_i$ 是部门 $i$ 为避免失效所需的 $R_i$ 的最小比例。外生性产能冲击由一个向量 $c \\in [0,1]^{n}$ 指定，其中 $c_j$ 是部门 $j$ 相对于其基准产出的缩放比例。在每次迭代中，部门 $i$ 接收到的投入由 $I_i = \\sum_{j=1}^{n} F_{ij} \\, \\kappa_j$ 给出，其中 $\\kappa_j$ 是部门 $j$ 的当前产能，该产能随迭代演变。初始时，$\\kappa_j = c_j$。一个部门 $i$ 失效的充要条件是 $I_i  \\theta_i R_i$，一旦失效，其产能在所有后续迭代中被设置为 $\\kappa_i = 0$。$c_j = 0$ 的部门被认为因冲击而初始失效。失效过程通过迭代更新 $\\kappa$ 并移除失效部门来进行，直到达到不动点（没有新的失效发生）。将级联规模定义为除了初始失效的部门外，由于级联效应而失效的部门数量。\n\n从这些基本定义出发，通过实现一个符合上述规则的迭代移除过程，确定每个指定测试用例的级联规模。所有 $I_i$ 与 $\\theta_i R_i$ 的比较必须使用严格不等式 $I_i  \\theta_i R_i$ 来判断失效。将所有测试用例的最终答案表示为整数。\n\n使用以下测试套件，其中包括一个共享网络和多个冲击与阈值配置，用于探究一般情况、阈值相等、无冲击、极端阈值和完全崩溃等情景：\n\n- 网络规模：$n = 5$。\n- 基准部门间流量矩阵：\n$$\nF = \\begin{pmatrix}\n0  0.6  0.4  0  0 \\\\\n0  0  0.5  0.5  0 \\\\\n0  0  0  0.7  0.3 \\\\\n0.2  0  0  0  0.8 \\\\\n0.3  0.3  0  0  0\n\\end{pmatrix}.\n$$\n- 测试用例 $1$：$\\theta = (0.8, 0.7, 0.65, 0.9, 0.5)$，$c = (1, 1, 0.5, 1, 1)$。此用例包含至少一个部门在阈值上达到相等的情况。\n- 测试用例 $2$：$\\theta = (0.8, 0.7, 0.65, 0.9, 0.5)$，$c = (1, 0, 1, 1, 1)$。此用例引入一个初始失效的供应方，从而引发级联失效。\n- 测试用例 $3$：$\\theta = (0.8, 0.7, 0.65, 0.9, 0.5)$，$c = (1, 1, 1, 1, 1)$。此用例没有冲击。\n- 测试用例 $4$：$\\theta = (0, 0, 0, 0, 0)$，$c = (0, 0, 1, 1, 1)$。此用例使用零阈值来测试边界条件，即没有部门会因投入不足而失效。\n- 测试用例 $5$：$\\theta = (1, 1, 1, 1, 1)$，$c = (1, 1, 0.9, 1, 1)$。此用例使用最大阈值来测试对小冲击的敏感性。\n\n您的程序应生成单行输出，其中包含五个测试用例的级联规模，格式为方括号括起来的逗号分隔列表（例如，$[a,b,c,d,e]$），每个条目是对应测试用例的级联规模的整数。不涉及物理单位、角度单位或百分比；所有量均为无量纲量，所有阈值和产能均以小数形式指定。程序必须实现所述的迭代移除过程，在达到不动点时终止，并且只计算那些在初始失效（$c_j = 0$）之外发生的失效。",
            "solution": "该问题定义明确且有效。它在科学上基于已建立的网络动力学和经济投入产出模型理论，特别是关于级联失效的部分。所有术语、变量（$F$、$R$、$\\theta$、$c$、$\\kappa$）和条件都经过数学上的明确规定，确保了问题的客观性和适定性。动力学过程是确定性的，并保证在有限步数内达到不动点，因为可以失效的部门数量有限（$n=5$），且失效是不可逆状态。问题是自洽的，没有缺失或矛盾的信息。所提供的数据在数值上是一致的，并且适用于该模型。\n\n该问题描述了一个用于模拟经济网络中级联失效的离散时间迭代过程。系统在任何一次迭代中的状态由产能向量 $\\kappa \\in [0,1]^n$ 捕捉，其中 $\\kappa_i$ 是部门 $i$ 的运营产能。\n\n首先，我们从基准部门间流量矩阵 $F$ 导出常数参数：\n$$\nF = \\begin{pmatrix}\n0  0.6  0.4  0  0 \\\\\n0  0  0.5  0.5  0 \\\\\n0  0  0  0.7  0.3 \\\\\n0.2  0  0  0  0.8 \\\\\n0.3  0.3  0  0  0\n\\end{pmatrix}\n$$\n每个部门 $i$ 的基准总投入需求 $R_i$ 是从所有部门 $j$ 到 $i$ 的投入之和，这对应于矩阵 $F$ 的第 $i$ 行之和。\n$$R_i = \\sum_{j=1}^{n} F_{ij}$$\n为每个部门计算这个值，得到向量 $R$：\n$R_1 = 0 + 0.6 + 0.4 + 0 + 0 = 1.0$\n$R_2 = 0 + 0 + 0.5 + 0.5 + 0 = 1.0$\n$R_3 = 0 + 0 + 0 + 0.7 + 0.3 = 1.0$\n$R_4 = 0.2 + 0 + 0 + 0 + 0.8 = 1.0$\n$R_5 = 0.3 + 0.3 + 0 + 0 + 0 = 0.6$\n所以，基准需求向量是 $R = (1.0, 1.0, 1.0, 1.0, 0.6)^T$。\n\n模拟的核心是一个迭代算法：\n\n1.  **初始化**：对于每个由冲击向量 $c$ 和阈值向量 $\\theta$ 指定的测试用例：\n    a. 初始产能向量设为冲击向量：$\\kappa^{(0)} = c$。\n    b. 初始失效部门集合为 $S_{initial} = \\{j \\mid c_j = 0\\}$。\n    c. 计算每个部门的失效阈值 $T_i = \\theta_i R_i$。该向量在整个模拟过程中保持不变。\n    d. 维护一个布尔向量表示活动（未失效）的部门。初始时，如果 $\\kappa_i  0$，则部门 $i$ 是活动的。\n\n2.  **迭代**：该过程以离散步骤持续进行，直到在完整的一步中没有新的失效发生（达到不动点）。在每次迭代 $t$ 中：\n    a. 根据其供应方的当前产能计算每个部门 $i$ 接收到的总投入：$I_i^{(t)} = \\sum_{j=1}^{n} F_{ij} \\kappa_j^{(t)}$。用矩阵表示为 $I^{(t)} = F \\kappa^{(t)}$。\n    b. 对每个活动部门 $i$（其中 $\\kappa_i^{(t)}  0$），检查失效条件：$I_i^{(t)}  T_i$。\n    c. 如果条件满足，部门 $i$ 失效。\n    d. 通过将所有新失效部门的 $\\kappa_i^{(t+1)}$ 设置为 0，形成新的产能向量 $\\kappa^{(t+1)}$。其他部门的产能与 $\\kappa^{(t)}$ 相比保持不变。\n\n3.  **终止**：当一次迭代没有产生新的失效时，循环终止。\n\n4.  **结果**：最终失效部门集合为 $S_{final} = \\{j \\mid \\kappa_j^{final} = 0\\}$。级联规模定义为在级联过程中失效的部门数量，即 $|S_{final}| - |S_{initial}|$。\n\n现在我们将此算法应用于每个测试用例。\n\n**测试用例 1**：$\\theta = (0.8, 0.7, 0.65, 0.9, 0.5)$, $c = (1, 1, 0.5, 1, 1)$。\n- 输入阈值：$T = (0.8 \\times 1.0, 0.7 \\times 1.0, 0.65 \\times 1.0, 0.9 \\times 1.0, 0.5 \\times 0.6)^T = (0.8, 0.7, 0.65, 0.9, 0.3)^T$。\n- 初始状态：$\\kappa^{(0)} = (1, 1, 0.5, 1, 1)^T$。初始失效数量为 $0$。\n- 迭代 1：$I^{(0)} = F \\kappa^{(0)} = (0.8, 0.75, 1.0, 1.0, 0.6)^T$。\n- 比较：\n  - $I_1 = 0.8$，$T_1 = 0.8$。（$0.8  0.8$ 为假）。\n  - $I_2 = 0.75$，$T_2 = 0.7$。（$0.75  0.7$ 为假）。\n  - $I_3 = 1.0$，$T_3 = 0.65$。（$1.0  0.65$ 为假）。\n  - $I_4 = 1.0$，$T_4 = 0.9$。（$1.0  0.9$ 为假）。\n  - $I_5 = 0.6$，$T_5 = 0.3$。（$0.6  0.3$ 为假）。\n- 没有部门失效。系统是稳定的。\n- 级联规模 = $0 - 0 = 0$。\n\n**测试用例 2**：$\\theta = (0.8, 0.7, 0.65, 0.9, 0.5)$, $c = (1, 0, 1, 1, 1)$。\n- 输入阈值：$T = (0.8, 0.7, 0.65, 0.9, 0.3)^T$。\n- 初始状态：$\\kappa^{(0)} = (1, 0, 1, 1, 1)^T$。部门 $2$ 初始失效。初始失效数量为 $1$。\n- 迭代 1：$I^{(0)} = F \\kappa^{(0)} = (0.4, 1.0, 1.0, 1.0, 0.3)^T$。\n  - $I_1 = 0.4  T_1=0.8 \\implies$ 部门 $1$ 失效。\n- 新状态：$\\kappa^{(1)} = (0, 0, 1, 1, 1)^T$。\n- 迭代 2：$I^{(1)} = F \\kappa^{(1)} = (0.4, 1.0, 1.0, 0.8, 0)^T$。\n  - $I_4 = 0.8  T_4=0.9 \\implies$ 部门 $4$ 失效。\n  - $I_5 = 0  T_5=0.3 \\implies$ 部门 $5$ 失效。\n- 新状态：$\\kappa^{(2)} = (0, 0, 1, 0, 0)^T$。\n- 迭代 3：$I^{(2)} = F \\kappa^{(2)} = (0.4, 0.5, 0, 0, 0)^T$。\n  - $I_3 = 0  T_3=0.65 \\implies$ 部门 $3$ 失效。\n- 新状态：$\\kappa^{(3)} = (0, 0, 0, 0, 0)^T$。\n- 没有剩余的活动部门。过程终止。\n- 最终失效部门：$\\{1, 2, 3, 4, 5\\}$。总失效数量 = $5$。初始失效数量 = $1$。\n- 级联规模 = $5 - 1 = 4$。\n\n**测试用例 3**：$\\theta = (0.8, 0.7, 0.65, 0.9, 0.5)$, $c = (1, 1, 1, 1, 1)$。\n- 输入阈值：$T = (0.8, 0.7, 0.65, 0.9, 0.3)^T$。\n- 初始状态：$\\kappa^{(0)} = (1, 1, 1, 1, 1)^T$。初始失效数量为 $0$。\n- 迭代 1：$I^{(0)} = F \\kappa^{(0)} = R = (1.0, 1.0, 1.0, 1.0, 0.6)^T$。\n- 比较：失效条件是 $R_i  \\theta_i R_i$，简化为 $1  \\theta_i$（因为 $R_i  0$）。由于 $\\theta_i \\in [0,1]$，此条件对所有 $i$ 都不成立。没有部门失效。\n- 级联规模 = $0 - 0 = 0$。\n\n**测试用例 4**：$\\theta = (0, 0, 0, 0, 0)$, $c = (0, 0, 1, 1, 1)$。\n- 输入阈值：$T = (0, 0, 0, 0, 0)^T$。\n- 初始状态：$\\kappa^{(0)} = (0, 0, 1, 1, 1)^T$。部门 $1$ 和 $2$ 初始失效。初始失效数量为 $2$。\n- 迭代 1：失效条件是 $I_i  0$。由于 $F_{ij} \\ge 0$ 且 $\\kappa_j \\ge 0$，投入 $I_i = \\sum_j F_{ij} \\kappa_j$ 必须是非负的（$I_i \\ge 0$）。因此，该条件永远不会满足。没有新的部门失效。\n- 级联规模 = $2 - 2 = 0$。\n\n**测试用例 5**：$\\theta = (1, 1, 1, 1, 1)$, $c = (1, 1, 0.9, 1, 1)$。\n- 输入阈值：$T = 1.0 \\times R = (1.0, 1.0, 1.0, 1.0, 0.6)^T$。\n- 初始状态：$\\kappa^{(0)} = (1, 1, 0.9, 1, 1)^T$。初始失效数量为 $0$。\n- 迭代 1：$I^{(0)} = F \\kappa^{(0)} = (0.96, 0.95, 1.0, 1.0, 0.6)^T$。\n  - $I_1 = 0.96  T_1=1.0 \\implies$ 部门 $1$ 失效。\n  - $I_2 = 0.95  T_2=1.0 \\implies$ 部门 $2$ 失效。\n- 新状态：$\\kappa^{(1)} = (0, 0, 0.9, 1, 1)^T$。\n- 迭代 2：$I^{(1)} = F \\kappa^{(1)} = (0.36, 0.95, 1.0, 0.8, 0)^T$。\n  - $I_4 = 0.8  T_4=1.0 \\implies$ 部门 $4$ 失效。\n  - $I_5 = 0  T_5=0.6 \\implies$ 部门 $5$ 失效。\n- 新状态：$\\kappa^{(2)} = (0, 0, 0.9, 0, 0)^T$。\n- 迭代 3：$I^{(2)} = F \\kappa^{(2)} = (0.36, 0.45, 0, 0, 0)^T$。\n  - $I_3 = 0  T_3=1.0 \\implies$ 部门 $3$ 失效。\n- 新状态：$\\kappa^{(3)} = (0, 0, 0, 0, 0)^T$。\n- 没有剩余的活动部门。过程终止。\n- 最终失效部门：$\\{1, 2, 3, 4, 5\\}$。总失效数量 = $5$。初始失效数量 = $0$。\n- 级联规模 = $5 - 0 = 5$。\n\n结果总结：\n- 用例 1: $0$\n- 用例 2: $4$\n- 用例 3: $0$\n- 用例 4: $0$\n- 用例 5: $5$",
            "answer": "$$ [0,4,0,0,5] $$"
        }
    ]
}