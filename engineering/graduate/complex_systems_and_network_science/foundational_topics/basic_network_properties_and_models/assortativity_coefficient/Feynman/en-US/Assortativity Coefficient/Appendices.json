{
    "hands_on_practices": [
        {
            "introduction": "To truly understand the assortativity coefficient, we must first apply it to fundamental graph structures. This practice challenges you to derive the coefficient $r$ for the path graph ($P_n$) and the cycle graph ($C_n$), two of the simplest network topologies. By working through these examples, you will gain hands-on experience with the formula and learn how to navigate the important special case of regular graphs where degree variance is zero .",
            "id": "4262697",
            "problem": "Consider simple, undirected, connected graphs with $n$ nodes: the cycle graph $C_{n}$ and the path graph $P_{n}$. Let $M$ denote the number of edges, and let $\\{(j_{e},k_{e})\\}_{e=1}^{M}$ denote the multiset of ordered degree pairs at the two ends of each edge $e$. The degree assortativity coefficient $r$ is defined as the Pearson correlation coefficient between the endpoint degrees across the edge set, that is, the correlation of the two random variables $J$ and $K$ that take the values $\\{j_{e}\\}$ and $\\{k_{e}\\}$ with equal edge weights.\n\nStarting from the definition of the Pearson correlation coefficient for two real-valued random variables (covariance divided by the product of their standard deviations), derive an exact expression for $r$ in terms of sums over $\\{(j_{e},k_{e})\\}_{e=1}^{M}$ and use it to compute $r$ for $C_{n}$ and for $P_{n}$, treating $n\\geq 3$ for the path. In the degenerate case where the endpoint-degree variance vanishes for $C_{n}$, use a continuity argument grounded in the notion of assortative mixing by discrete degree classes to assign the limiting value of $r$ when all realized edges connect equal-degree vertices.\n\nThen, compare the finite-size scaling of $r$ as $n\\to\\infty$ by extracting the leading asymptotic behavior of $r(C_{n})$ and $r(P_{n})$.\n\nNo rounding is required. Express the final answer as two dimensionless values in a single row matrix, with the first entry $r(C_{n})$ and the second entry $r(P_{n})$ as a closed-form function of $n$.",
            "solution": "The problem asks for the derivation of the degree assortativity coefficient $r$ for the cycle graph $C_n$ and the path graph $P_n$ for $n \\geq 3$. The derivation must start from the definition of the Pearson correlation coefficient.\n\n### Step 1: Problem Validation\n\nFirst, I will validate the problem statement.\n\n#### Extracted Givens\n- **Graphs**: Simple, undirected, connected graphs: cycle graph $C_{n}$ and path graph $P_{n}$.\n- **Nodes**: The number of nodes is $n$.\n- **Edges**: The number of edges is $M$.\n- **Degree Pairs**: The multiset of ordered degree pairs at the ends of each edge is $\\{(j_{e},k_{e})\\}_{e=1}^{M}$.\n- **Assortativity Definition**: The degree assortativity coefficient $r$ is the Pearson correlation coefficient of the endpoint degrees, represented by random variables $J$ and $K$ that take values $\\{j_e\\}$ and $\\{k_e\\}$ from a uniform random sample of edges.\n- **Constraints**: For the path graph, $n \\geq 3$.\n- **Special Instructions**:\n    1. Derive an exact expression for $r$ from the definition of the Pearson correlation coefficient.\n    2. For $C_n$, handle the degenerate case of zero variance using a continuity argument based on assortative mixing, assigning a limiting value.\n    3. Compare the finite-size scaling of $r$ for $C_n$ and $P_n$ as $n \\to \\infty$.\n- **Final Answer Format**: A single row matrix with $r(C_n)$ and $r(P_n)$.\n\n#### Validation and Verdict\nThe problem is scientifically and mathematically sound. It is a standard problem in network science, applying a well-defined metric (the assortativity coefficient) to fundamental graph structures ($C_n$ and $P_n$). The concepts are grounded in graph theory and statistics. The problem is well-posed, providing all necessary definitions and constraints. The instruction to use a limiting argument for the regular graph $C_n$ demonstrates a correct understanding of the potential indeterminacy of the Pearson coefficient formula when the variance is zero. The problem is objective, formal, and requires substantive derivation and analysis. It does not violate any of the invalidity criteria.\nTherefore, the problem is **valid**.\n\n### Step 2: Solution Derivation\n\n#### General Formula for Assortativity Coefficient $r$\nThe Pearson correlation coefficient $r$ for two random variables $J$ and $K$ is defined as:\n$$ r = \\frac{\\text{Cov}(J, K)}{\\sigma_{J}\\sigma_{K}} $$\nwhere $\\text{Cov}(J, K) = E[JK] - E[J]E[K]$ is the covariance, and $\\sigma_{J} = \\sqrt{E[J^2] - (E[J])^2}$ and $\\sigma_{K} = \\sqrt{E[K^2] - (E[K])^2}$ are the standard deviations.\n\nThe random variables $J$ and $K$ represent the degrees of the vertices at the ends of a randomly chosen edge. Since the graphs are undirected, the choice of which end is 'first' (for $J$) and which is 'second' (for $K$) is arbitrary. We can define the sample space as the set of $M$ edges, with each edge having a probability of $1/M$ of being chosen. The values taken by $J$ and $K$ for an edge $e$ are $j_e$ and $k_e$.\n\nThe expectations are calculated by summing over all edges:\n$$ E[J] = \\frac{1}{M} \\sum_{e=1}^{M} j_e $$\n$$ E[K] = \\frac{1}{M} \\sum_{e=1}^{M} k_e $$\n$$ E[JK] = \\frac{1}{M} \\sum_{e=1}^{M} j_e k_e $$\n$$ E[J^2] = \\frac{1}{M} \\sum_{e=1}^{M} j_e^2 $$\n$$ E[K^2] = \\frac{1}{M} \\sum_{e=1}^{M} k_e^2 $$\nFor an undirected graph, the multiset of degrees at one end of the edges, $\\{j_e\\}_{e=1}^M$, is identical to the multiset of degrees at the other end, $\\{k_e\\}_{e=1}^M$. This implies $E[J] = E[K]$ and $E[J^2] = E[K^2]$, which in turn means $\\sigma_J = \\sigma_K$.\n\nSubstituting these into the formula for $r$:\n$$ r = \\frac{E[JK] - E[J]E[K]}{\\sqrt{E[J^2] - (E[J])^2} \\sqrt{E[K^2] - (E[K])^2}} = \\frac{E[JK] - (E[J])^2}{E[J^2] - (E[J])^2} $$\nNow, substituting the sums:\n$$ r = \\frac{\\frac{1}{M} \\sum_{e=1}^{M} j_e k_e - \\left(\\frac{1}{M} \\sum_{e=1}^{M} j_e\\right)^2}{\\frac{1}{M} \\sum_{e=1}^{M} j_e^2 - \\left(\\frac{1}{M} \\sum_{e=1}^{M} j_e\\right)^2} $$\nMultiplying the numerator and denominator by $M^2$ gives the standard formula for the assortativity coefficient:\n$$ r = \\frac{M \\sum_{e=1}^{M} j_e k_e - \\left(\\sum_{e=1}^{M} j_e\\right)^2}{M \\sum_{e=1}^{M} j_e^2 - \\left(\\sum_{e=1}^{M} j_e\\right)^2} $$\n\n#### Assortativity of the Cycle Graph $C_n$\nFor a cycle graph $C_n$ with $n \\geq 3$, every node has a degree of $2$. The graph is $2$-regular.\n- Number of nodes: $n$.\n- Number of edges: $M = n$.\n- For every edge $e$, the degrees of its endpoints are $(j_e, k_e) = (2, 2)$.\n\nWe calculate the sums required for the formula:\n- $\\sum_{e=1}^{n} j_e k_e = \\sum_{e=1}^{n} (2 \\times 2) = \\sum_{e=1}^{n} 4 = 4n$.\n- $\\sum_{e=1}^{n} j_e = \\sum_{e=1}^{n} 2 = 2n$.\n- $\\sum_{e=1}^{n} j_e^2 = \\sum_{e=1}^{n} 2^2 = \\sum_{e=1}^{n} 4 = 4n$.\n\nSubstituting these into the formula for $r$:\n$$ r(C_n) = \\frac{n(4n) - (2n)^2}{n(4n) - (2n)^2} = \\frac{4n^2 - 4n^2}{4n^2 - 4n^2} = \\frac{0}{0} $$\nThis expression is indeterminate. The denominator, which corresponds to the variance of the endpoint degree distribution, is zero because all endpoint degrees are identical.\n\nAs per the problem statement, we must use a continuity argument. The assortativity coefficient measures the preference for nodes to connect to other nodes of similar degree. In a regular graph, every edge connects two nodes of the exact same degree. This represents a state of perfect assortativity. If a network has multiple degree classes and edges connect only nodes of the same degree (e.g., degree-$k_1$ nodes to degree-$k_1$ nodes, degree-$k_2$ nodes to degree-$k_2$ nodes, etc.), then $j_e = k_e$ for all edges $e$. In this case, the numerator and denominator of the formula for $r$ become identical, yielding $r=1$ (provided the variance is non-zero). A regular graph is the extreme limit of this situation where there is only one degree class. Thus, by continuity or as a limiting case, the assortativity is maximal. We assign the value $r=1$.\n\nTherefore, $r(C_n) = 1$.\n\n#### Assortativity of the Path Graph $P_n$\nFor a path graph $P_n$ with $n \\geq 3$:\n- Number of nodes: $n$.\n- Number of edges: $M = n-1$.\n- Node degrees:\n    - Two endpoint nodes have degree $1$.\n    - $n-2$ internal nodes have degree $2$.\n\nLet the nodes be labeled $v_1, v_2, \\dots, v_n$ with degrees $d(v_1)=1$, $d(v_n)=1$, and $d(v_i)=2$ for $i \\in \\{2, \\dots, n-1\\}$. The edges are $e_i = (v_i, v_{i+1})$ for $i \\in \\{1, \\dots, n-1\\}$. The degree pair for edge $e_i$ is $(d(v_i), d(v_{i+1}))$.\n\nThe sums are calculated over the $M=n-1$ edges:\n- $\\sum_{e=1}^{M} j_e = \\sum_{i=1}^{n-1} d(v_i) = d(v_1) + \\sum_{i=2}^{n-1} d(v_i) = 1 + (n-2) \\times 2 = 2n - 3$.\n- $\\sum_{e=1}^{M} j_e^2 = \\sum_{i=1}^{n-1} d(v_i)^2 = d(v_1)^2 + \\sum_{i=2}^{n-1} d(v_i)^2 = 1^2 + (n-2) \\times 2^2 = 1 + 4(n-2) = 4n - 7$.\n- $\\sum_{e=1}^{M} j_e k_e = \\sum_{i=1}^{n-1} d(v_i)d(v_{i+1}) = d(v_1)d(v_2) + \\sum_{i=2}^{n-2} d(v_i)d(v_{i+1}) + d(v_{n-1})d(v_n)$. This decomposition is valid for $n \\geq 4$.\nFor $n=3$, the sum is $d(v_1)d(v_2) + d(v_2)d(v_3) = 1 \\times 2 + 2 \\times 1 = 4$.\nFor $n \\geq 4$, the sum is $(1 \\times 2) + \\sum_{i=2}^{n-2} (2 \\times 2) + (2 \\times 1) = 2 + 4(n-3) + 2 = 4n - 8$.\nThe formula $4n-8$ gives $4(3)-8=4$ for $n=3$, so it holds for all $n \\geq 3$.\n\nNow we substitute these sums with $M=n-1$ into the formula for $r$:\n$$ r(P_n) = \\frac{M \\sum j_e k_e - (\\sum j_e)^2}{M \\sum j_e^2 - (\\sum j_e)^2} = \\frac{(n-1)(4n-8) - (2n-3)^2}{(n-1)(4n-7) - (2n-3)^2} $$\nNumerator:\n$$ (n-1)(4n-8) - (2n-3)^2 = 4(n-1)(n-2) - (4n^2 - 12n + 9) $$\n$$ = 4(n^2 - 3n + 2) - 4n^2 + 12n - 9 = 4n^2 - 12n + 8 - 4n^2 + 12n - 9 = -1 $$\nDenominator:\n$$ (n-1)(4n-7) - (2n-3)^2 = (4n^2 - 11n + 7) - (4n^2 - 12n + 9) $$\n$$ = 4n^2 - 11n + 7 - 4n^2 + 12n - 9 = n - 2 $$\nSo, the assortativity coefficient for the path graph is:\n$$ r(P_n) = \\frac{-1}{n-2} $$\n\n#### Asymptotic Behavior\n- For $C_n$, $r(C_n) = 1$, which is constant. As $n \\to \\infty$, $r(C_n) \\to 1$.\n- For $P_n$, $r(P_n) = -\\frac{1}{n-2}$. As $n \\to \\infty$, $r(P_n) \\to 0$. The leading asymptotic behavior is $r(P_n) \\sim -n^{-1}$.\n\nIn the large $n$ limit, the cycle graph remains perfectly assortative. The path graph becomes asymptotically neutral ($r \\to 0$), as the boundary effects from the two degree-$1$ nodes become negligible compared to the bulk of degree-$2$ nodes, making it structurally similar to a cycle graph. The negative sign indicates a slight disassortative tendency for any finite $n$, driven by the low-degree ends connecting to the higher-degree interior.\n\n### Final Answer Summary\n- For the cycle graph $C_n$, $r(C_n) = 1$.\n- For the path graph $P_n$ ($n \\geq 3$), $r(P_n) = -\\frac{1}{n-2}$.",
            "answer": "$$ \\boxed{\\begin{pmatrix} 1 & -\\frac{1}{n-2} \\end{pmatrix}} $$"
        },
        {
            "introduction": "Hub-and-spoke networks, such as the star graph $K_{1,n-1}$, represent an extreme form of structural organization. This exercise explores this canonical disassortative structure, where high-degree hubs connect exclusively to low-degree leaves, leading to perfect negative correlation. Furthermore, by comparing the coefficient calculated using full versus remaining degrees, you will uncover a key invariance property of the Pearson correlation coefficient, deepening your statistical intuition .",
            "id": "4262726",
            "problem": "Consider the undirected simple star graph $K_{1,n-1}$ with $n \\ge 3$, consisting of $1$ hub of degree $n-1$ connected to $n-1$ leaves, each of degree $1$. The assortativity coefficient by degree is defined as the Pearson correlation coefficient between the degrees at the two ends of a uniformly randomly oriented edge. Starting from this definition of Pearson correlation (and no other specialized formulas), do the following:\n\n(a) Using full degrees at edge ends, derive the assortativity coefficient $r_{\\mathrm{full}}$ for $K_{1,n-1}$ as a function of $n$.\n\n(b) Using remaining degrees, defined as full degree minus $1$ at each endpoint, derive the assortativity coefficient $r_{\\mathrm{rem}}$ for $K_{1,n-1}$ as a function of $n$.\n\n(c) Provide a concise mathematical explanation of the sign and magnitude of each result in terms of structural properties of $K_{1,n-1}$ and invariance properties of the Pearson correlation coefficient under affine transformations applied identically to both variables. Explicitly justify whether the two definitions yield different or identical values, and why.\n\nAnswer specification: Provide your final result as a single row vector $(r_{\\mathrm{full}},\\, r_{\\mathrm{rem}})$, using exact values (no rounding). No units are required.",
            "solution": "The problem asks for the derivation of the assortativity coefficient for a star graph $K_{1,n-1}$ under two different degree definitions, and an explanation of the results. The problem statement is validated as scientifically grounded, well-posed, and objective. It contains all necessary information and is free from contradictions or ambiguities.\n\nA star graph $K_{1,n-1}$ with $n \\ge 3$ consists of $n$ vertices and $M=n-1$ edges. There is one central \"hub\" vertex with degree $k_c = n-1$ and $n-1$ peripheral \"leaf\" vertices, each with degree $k_l = 1$. Every edge connects the hub to one of the leaves.\n\nThe assortativity coefficient $r$ is defined as the Pearson correlation coefficient of the degrees at the two ends of a uniformly chosen oriented edge. For a set of paired data $(x_i, y_i)$, the Pearson correlation coefficient is given by:\n$$\nr = \\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})}{\\sqrt{\\sum (x_i - \\bar{x})^2}\\sqrt{\\sum (y_i - \\bar{y})^2}} = \\frac{E[XY] - E[X]E[Y]}{\\sqrt{E[X^2] - (E[X])^2} \\sqrt{E[Y^2] - (E[Y])^2}}\n$$\nwhere $X$ and $Y$ are the random variables for the degrees at the source and target of a random oriented edge. For an undirected graph, the set of oriented edges consists of two oppositely oriented edges for each of the $M$ undirected edges, for a total of $2M$ oriented edges. By symmetry, the distribution of $X$ is identical to the distribution of $Y$, so $E[X] = E[Y]$ and $\\sigma_X = \\sigma_Y$. The formula simplifies to:\n$$\nr = \\frac{E[XY] - (E[X])^2}{E[X^2] - (E[X])^2}\n$$\nThe population for computing the expectations consists of the $2M = 2(n-1)$ degree pairs corresponding to all oriented edges. Since every edge connects the hub (degree $n-1$) to a leaf (degree $1$), there are $n-1$ oriented edges from the hub to the leaves, contributing $n-1$ pairs of the form $(n-1, 1)$, and $n-1$ oriented edges from the leaves to the hub, contributing $n-1$ pairs of the form $(1, n-1)$.\n\n(a) Derivation of $r_{\\mathrm{full}}$ using full degrees.\n\nLet $X$ and $Y$ be the full degrees at the ends of a randomly chosen oriented edge. The set of values for $X$ is $\\{ \\underbrace{n-1, \\dots, n-1}_{n-1 \\text{ times}}, \\underbrace{1, \\dots, 1}_{n-1 \\text{ times}} \\}$. The set of paired values $(X,Y)$ is $\\{ \\underbrace{(n-1, 1), \\dots, (n-1, 1)}_{n-1 \\text{ times}}, \\underbrace{(1, n-1), \\dots, (1, n-1)}_{n-1 \\text{ times}} \\}$.\n\nWe compute the necessary expectations over the population of $2(n-1)$ items.\nThe expectation of $X$, $E[X]$, is:\n$$\nE[X] = \\frac{1}{2(n-1)} \\left( \\sum_{i=1}^{n-1} (n-1) + \\sum_{i=1}^{n-1} 1 \\right) = \\frac{1}{2(n-1)} \\left( (n-1)(n-1) + (n-1)(1) \\right) = \\frac{(n-1)n}{2(n-1)} = \\frac{n}{2}\n$$\nThe expectation of $X^2$, $E[X^2]$, is:\n$$\nE[X^2] = \\frac{1}{2(n-1)} \\left( \\sum_{i=1}^{n-1} (n-1)^2 + \\sum_{i=1}^{n-1} 1^2 \\right) = \\frac{1}{2(n-1)} \\left( (n-1)(n-1)^2 + (n-1)(1) \\right) = \\frac{(n-1)((n-1)^2+1)}{2(n-1)} = \\frac{n^2 - 2n + 1 + 1}{2} = \\frac{n^2 - 2n + 2}{2}\n$$\nThe expectation of the product $XY$, $E[XY]$, is:\n$$\nE[XY] = \\frac{1}{2(n-1)} \\left( \\sum_{i=1}^{n-1} (n-1)(1) + \\sum_{i=1}^{n-1} (1)(n-1) \\right) = \\frac{(n-1)^2 + (n-1)^2}{2(n-1)} = \\frac{2(n-1)^2}{2(n-1)} = n-1\n$$\nNow, we compute the covariance and variance terms.\nThe covariance term (numerator):\n$$\nE[XY] - (E[X])^2 = (n-1) - \\left(\\frac{n}{2}\\right)^2 = n-1 - \\frac{n^2}{4} = \\frac{4n-4-n^2}{4} = -\\frac{n^2-4n+4}{4} = -\\frac{(n-2)^2}{4}\n$$\nThe variance term (denominator):\n$$\nE[X^2] - (E[X])^2 = \\frac{n^2-2n+2}{2} - \\left(\\frac{n}{2}\\right)^2 = \\frac{2(n^2-2n+2)}{4} - \\frac{n^2}{4} = \\frac{2n^2-4n+4-n^2}{4} = \\frac{n^2-4n+4}{4} = \\frac{(n-2)^2}{4}\n$$\nThe assortativity coefficient $r_{\\mathrm{full}}$ is the ratio of these two quantities:\n$$\nr_{\\mathrm{full}} = \\frac{-\\frac{(n-2)^2}{4}}{\\frac{(n-2)^2}{4}} = -1\n$$\nThis holds for $n \\ge 3$, since for these values $n-2 \\neq 0$.\n\n(b) Derivation of $r_{\\mathrm{rem}}$ using remaining degrees.\n\nThe remaining degree is defined as $k' = k - 1$.\nFor the hub, the remaining degree is $k'_c = k_c - 1 = (n-1)-1 = n-2$.\nFor a leaf, the remaining degree is $k'_l = k_l - 1 = 1-1 = 0$.\nEvery edge connects the hub to a leaf, so the pair of remaining degrees across any edge is $(n-2, 0)$.\n\nLet $X'$ and $Y'$ be the remaining degrees. The population of pairs $(X', Y')$ is $\\{ \\underbrace{(n-2, 0), \\dots, (n-2, 0)}_{n-1 \\text{ times}}, \\underbrace{(0, n-2), \\dots, (0, n-2)}_{n-1 \\text{ times}} \\}$.\n\nWe compute the expectations for these new variables.\n$$\nE[X'] = \\frac{1}{2(n-1)} \\left( \\sum_{i=1}^{n-1} (n-2) + \\sum_{i=1}^{n-1} 0 \\right) = \\frac{(n-1)(n-2)}{2(n-1)} = \\frac{n-2}{2}\n$$\n$$\nE[X'^2] = \\frac{1}{2(n-1)} \\left( \\sum_{i=1}^{n-1} (n-2)^2 + \\sum_{i=1}^{n-1} 0^2 \\right) = \\frac{(n-1)(n-2)^2}{2(n-1)} = \\frac{(n-2)^2}{2}\n$$\n$$\nE[X'Y'] = \\frac{1}{2(n-1)} \\left( \\sum_{i=1}^{n-1} (n-2)(0) + \\sum_{i=1}^{n-1} (0)(n-2) \\right) = \\frac{0}{2(n-1)} = 0\n$$\nNow, we compute the terms for the correlation coefficient $r_{\\mathrm{rem}}$.\nThe covariance term (numerator):\n$$\nE[X'Y'] - (E[X'])^2 = 0 - \\left(\\frac{n-2}{2}\\right)^2 = -\\frac{(n-2)^2}{4}\n$$\nThe variance term (denominator):\n$$\nE[X'^2] - (E[X'])^2 = \\frac{(n-2)^2}{2} - \\left(\\frac{n-2}{2}\\right)^2 = \\frac{2(n-2)^2}{4} - \\frac{(n-2)^2}{4} = \\frac{(n-2)^2}{4}\n$$\nThe assortativity coefficient $r_{\\mathrm{rem}}$ is:\n$$\nr_{\\mathrm{rem}} = \\frac{-\\frac{(n-2)^2}{4}}{\\frac{(n-2)^2}{4}} = -1\n$$\nThis result also holds for $n \\ge 3$.\n\n(c) Explanation of the results.\n\nThe value of $-1$ for both $r_{\\mathrm{full}}$ and $r_{\\mathrm{rem}}$ indicates perfect disassortativity. This stems directly from the structure of the star graph. In $K_{1,n-1}$, there is only one type of connection: between a high-degree node (the single hub) and a low-degree node (one of the leaves). There are no connections between nodes of similar degree (hub-hub or leaf-leaf). This extremal structure, where high degree is deterministically paired with low degree across every edge, results in the strongest possible negative correlation, which is $r=-1$.\n\nThe two definitions yield identical values, $r_{\\mathrm{full}} = r_{\\mathrm{rem}} = -1$, due to a fundamental property of the Pearson correlation coefficient. The coefficient is invariant with respect to affine transformations applied identically to both variables. Let $(X, Y)$ be the original variables (full degrees) and $(X', Y')$ be the transformed variables (remaining degrees). The transformation is $X' = 1 \\cdot X - 1$ and $Y' = 1 \\cdot Y - 1$.\nIn general, for $X' = aX+b$ and $Y' = aY+b$ with $a \\ne 0$:\n$$\n\\mathrm{Cov}(X', Y') = \\mathrm{Cov}(aX+b, aY+b) = a^2 \\mathrm{Cov}(X, Y)\n$$\n$$\n\\sigma_{X'} = \\sqrt{\\mathrm{Var}(aX+b)} = \\sqrt{a^2 \\mathrm{Var}(X)} = |a|\\sigma_X\n$$\n$$\n\\sigma_{Y'} = |a|\\sigma_Y\n$$\nThe new correlation is:\n$$\nr(X', Y') = \\frac{\\mathrm{Cov}(X', Y')}{\\sigma_{X'}\\sigma_{Y'}} = \\frac{a^2 \\mathrm{Cov}(X, Y)}{(|a|\\sigma_X)(|a|\\sigma_Y)} = \\frac{a^2 \\mathrm{Cov}(X, Y)}{a^2 \\sigma_X \\sigma_Y} = r(X, Y)\n$$\nIn this problem, the transformation from full degree $k$ to remaining degree $k'$ is $k' = k - 1$, which is an affine transformation with $a=1$ and $b=-1$. Since this transformation is applied to the degrees at both ends of an edge, the Pearson correlation coefficient is necessarily invariant. The direct calculations in parts (a) and (b) serve as a concrete verification of this theoretical property. The shift in degree values does not alter the underlying perfect negative correlation inherent in the star graph's topology.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n-1 & -1\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "The concept of assortativity extends beyond node degree to any categorical attribute, such as group membership or node type. This practice asks you to compute the categorical assortativity coefficient for a network that is perfectly bipartitioned, meaning all connections are between nodes of different types. By analyzing this idealized case, you will see how the absence of \"in-group\" mixing, combined with a balanced distribution of categories, forces the coefficient to its absolute minimum value of $-1$ .",
            "id": "4262725",
            "problem": "Consider a simple, undirected network with a categorical attribute that takes two values, denoted by $A$ and $B$. Let $m$ be the total number of edges. Define the normalized mixing matrix $e_{ij}$ over ordered edge ends so that $e_{ij}$ is the probability that a randomly chosen ordered edge connects an endpoint of category $i \\in \\{A,B\\}$ to an endpoint of category $j \\in \\{A,B\\}$. Let $q_{i} = \\sum_{j} e_{ij}$ denote the marginal probability that an endpoint chosen uniformly at random from all ordered edge ends has category $i$. Assume the network is bipartitioned in the sense that every edge connects one $A$-node to one $B$-node; that is, there are no $A$–$A$ or $B$–$B$ edges. Further assume the edge-end distribution is balanced, meaning $q_{A} = q_{B} = \\frac{1}{2}$.\n\nStarting from the definitions above of the joint distribution $e_{ij}$ and its marginals $q_{i}$, and interpreting the assortativity coefficient for nominal categories as a properly normalized correlation between the categories observed at the two ends of an edge, compute the categorical assortativity coefficient $r$ of this network. No approximation is required; give an exact value. Provide your reasoning for why the resulting $r$ attains the lower bound in the balanced bipartitioned case. Express the final answer as a pure number with no units.",
            "solution": "The problem is first validated to ensure it is scientifically grounded, self-contained, and well-posed.\n\n### Step 1: Extract Givens\n- Network: Simple, undirected.\n- Attribute: Categorical with two values, $A$ and $B$.\n- Total edges: $m$.\n- Mixing matrix: $e_{ij}$ is the probability that a randomly chosen ordered edge connects a node of category $i \\in \\{A,B\\}$ to a node of category $j \\in \\{A,B\\}$.\n- Marginal probability: $q_{i} = \\sum_{j} e_{ij}$ is the probability that a randomly chosen edge-end has category $i$.\n- Network Structure: Bipartitioned, meaning every edge connects one $A$-node to one $B$-node. There are no $A-A$ or $B-B$ edges.\n- Edge-end Distribution: Balanced, meaning $q_{A} = q_{B} = \\frac{1}{2}$.\n- Task: Compute the categorical assortativity coefficient $r$ and explain why it attains the lower bound.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is well-defined within the field of network science. The concepts of a simple undirected network, categorical attributes, mixing matrix ($e_{ij}$), marginal probabilities ($q_i$), and assortativity coefficient ($r$) are standard. The conditions of being \"bipartitioned\" and \"balanced\" are well-defined and not contradictory. A bipartitioned network with an equal number of edge-ends in each partition is a physically and mathematically consistent scenario. The problem is therefore scientifically grounded, objective, and well-posed.\n\n### Step 3: Verdict and Action\nThe problem is valid. A complete solution will be provided.\n\n### Solution Derivation\n\nThe categorical assortativity coefficient, $r$, for a network with nominal attributes is defined by the formula:\n$$ r = \\frac{\\sum_{i} e_{ii} - \\sum_{i} q_i^2}{1 - \\sum_{i} q_i^2} $$\nThis coefficient is analogous to Cohen's kappa statistic. The term $\\sum_{i} e_{ii}$ represents the fraction of edges that are homophilic (connecting nodes of the same category), while the term $\\sum_{i} q_i^2$ represents the expected fraction of such edges in a network where connections are random but the marginal distribution of edge-ends $q_i$ is preserved.\n\nWe are given two categories, $i \\in \\{A, B\\}$. The formula for $r$ expands to:\n$$ r = \\frac{(e_{AA} + e_{BB}) - (q_A^2 + q_B^2)}{1 - (q_A^2 + q_B^2)} $$\n\nThe problem states that the network is **bipartitioned**, meaning every edge connects a node of category $A$ to a node of category $B$. This implies that there are no edges connecting two nodes of category $A$, nor any edges connecting two nodes of category $B$.\nIn terms of the mixing matrix $e_{ij}$, which describes the probability of an edge connecting categories $i$ and $j$, this structural constraint means:\n$$ e_{AA} = 0 $$\n$$ e_{BB} = 0 $$\nTherefore, the fraction of homophilic edges is $\\sum_{i} e_{ii} = e_{AA} + e_{BB} = 0 + 0 = 0$.\n\nNext, we use the condition that the edge-end distribution is **balanced**. This is given as:\n$$ q_A = q_B = \\frac{1}{2} $$\nWe can now calculate the term $\\sum_{i} q_i^2$:\n$$ \\sum_{i} q_i^2 = q_A^2 + q_B^2 = \\left(\\frac{1}{2}\\right)^2 + \\left(\\frac{1}{2}\\right)^2 = \\frac{1}{4} + \\frac{1}{4} = \\frac{1}{2} $$\n\nNow, we substitute these values into the formula for the assortativity coefficient $r$.\nThe numerator is:\n$$ \\sum_{i} e_{ii} - \\sum_{i} q_i^2 = 0 - \\frac{1}{2} = -\\frac{1}{2} $$\nThe denominator is:\n$$ 1 - \\sum_{i} q_i^2 = 1 - \\frac{1}{2} = \\frac{1}{2} $$\nFinally, the assortativity coefficient is:\n$$ r = \\frac{-1/2}{1/2} = -1 $$\n\n### Reasoning for the Lower Bound\n\nThe assortativity coefficient $r$ has a general structure $r = (p_o - p_e) / (1 - p_e)$, where $p_o = \\sum_i e_{ii}$ is the observed fraction of homophilic edges and $p_e = \\sum_i q_i^2$ is the expected fraction under a random null model.\n\nThe value of $r$ is influenced by both the network structure (which determines $e_{ij}$) and the overall distribution of categories (which determines $q_i$).\nFor a fixed set of marginals $q_i$, the value of $r$ is minimized when the numerator, $\\sum_i e_{ii} - \\sum_i q_i^2$, is minimized. Since $\\sum_i q_i^2$ is fixed, this occurs when $\\sum_i e_{ii}$ is minimized. As $e_{ii}$ represents a probability (or fraction of edges), $e_{ii} \\ge 0$, and thus the minimum possible value for their sum is $\\sum_i e_{ii} = 0$. This minimum is achieved in a network with no homophilic edges—that is, a perfectly disassortative or multipartite network. The \"bipartitioned\" condition of the problem ensures that this minimum is met.\n\nTherefore, the condition that the network is bipartitioned guarantees that $r$ achieves its minimum possible value for the given set of marginals $q_i$. This minimum value is:\n$$ r_{\\text{min}} = \\frac{0 - \\sum_i q_i^2}{1 - \\sum_i q_i^2} = - \\frac{\\sum_i q_i^2}{1 - \\sum_i q_i^2} $$\nThe second condition, that the edge-end distribution is \"balanced\" ($q_A=q_B=1/2$), a specific set of marginals, determines the numerical value of this lower bound. As we calculated, for these marginals, $\\sum_i q_i^2 = 1/2$. Substituting this into the expression for the minimum assortativity gives:\n$$ r = - \\frac{1/2}{1 - 1/2} = -1 $$\nThis value of $-1$ is the absolute theoretical minimum for the categorical assortativity coefficient $r$. The minimum of the function $f(S) = -S/(1-S)$, where $S=\\sum_i q_i^2$, occurs when $S$ is minimized. For two categories, $S = q_A^2 + (1-q_A)^2$, which has a minimum value of $S=1/2$ at $q_A = 1/2$. Thus, the combination of a perfectly disassortative structure (bipartitioned) and maximally balanced marginals ($q_A=q_B=1/2$) forces the assortativity coefficient to its most extreme negative value of $-1$.",
            "answer": "$$\\boxed{-1}$$"
        }
    ]
}