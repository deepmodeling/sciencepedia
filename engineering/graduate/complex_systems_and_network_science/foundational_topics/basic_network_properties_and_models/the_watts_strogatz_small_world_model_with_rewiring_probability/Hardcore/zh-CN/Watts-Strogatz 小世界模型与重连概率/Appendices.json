{
    "hands_on_practices": [
        {
            "introduction": "在深入研究 Watts-Strogatz (WS) 模型的随机重连效应之前，我们必须首先牢固掌握其初始状态——规则环形晶格。这项练习将带你回到起点，通过基本图论原理和模块化算术，精确构建和描述这个有序网络的基础结构。理解这个高度有序的基线  是评估后续引入随机性所带来的“小世界”效应的关键第一步。",
            "id": "4311696",
            "problem": "考虑在一个具有 $N$ 个节点（标记为 $0,1,2,\\dots,N-1$）的规则环形晶格上构建 Watts–Strogatz 小世界模型（Watts–Strogatz (WS) 模型）。初始晶格将每个节点与其 $k$ 个最近邻居相连，其中 $k$ 为偶数，意味着每个节点沿环形顺时针连接 $k/2$ 个邻居，逆时针连接 $k/2$ 个邻居。该网络是无向的。使用以下基本事实：(i) 图论中的握手引理，该引理指出无向图中所有度数之和等于 $2M$，其中 $M$ 是无向边的数量；以及 (ii) 节点索引集上的模算术，其中对于任意整数 $a$，余数 $a \\bmod N$ 定义为满足 $a \\equiv r \\pmod{N}$ 的唯一整数 $r \\in \\{0,1,\\dots,N-1\\}$。\n\n对于具体参数值 $N=1000$ 和 $k=10$，执行以下操作：\n\n1. 仅使用上述基本事实和 WS 环形晶格的定义，确定在任何重连之前，初始晶格中无向边的总数 $M$。\n\n2. 对于节点索引 $i=7$，明确列出其在初始晶格中所有邻居的索引，表示为在 $\\{0,1,\\dots,N-1\\}$ 上的模索引。\n\n您的最终答案必须将 $M$ 的值和节点 $i=7$ 的邻居索引的完整列表以单行矩阵的形式呈现。无需四舍五入。",
            "solution": "问题陈述经评估有效。它在网络理论方面有科学依据，问题设定良好，提供了所有必要参数，并且陈述客观。该问题要求将基本定义和握手引理应用于 Watts-Strogatz 模型的一个具体实例。\n\n按照要求，该问题分两部分解决。\n\n第 1 部分：确定边的总数 $M$。\n\n初始晶格是一个规则环形晶格，其中每个节点都连接到其 $k$ 个最近邻居。根据定义，这意味着图中的每个节点都具有相同的度，等于 $k$。这样的图被称为 $k$-正则图。\n\n我们已知以下参数：\n- 节点总数，$N = 1000$。\n- 每个节点的度，$k = 10$。\n\n握手引理指出，对于任何具有 $M$ 条边的无向图，其所有顶点的度数之和等于边数的两倍。这表示为：\n$$ \\sum_{i=0}^{N-1} \\text{deg}(v_i) = 2M $$\n其中 $\\text{deg}(v_i)$ 是节点 $v_i$ 的度。\n\n在我们这个有 $N$ 个节点的 $k$-正则图中，每个节点的度都是 $k$。因此，度数之和是节点数乘以每个节点的度：\n$$ \\sum_{i=0}^{N-1} \\text{deg}(v_i) = N \\times k $$\n\n通过令两个度数之和的表达式相等，我们得到：\n$$ Nk = 2M $$\n\n我们可以解出 $M$，即边的总数：\n$$ M = \\frac{Nk}{2} $$\n\n将给定值 $N = 1000$ 和 $k = 10$ 代入此方程：\n$$ M = \\frac{1000 \\times 10}{2} = \\frac{10000}{2} = 5000 $$\n因此，初始晶格有 $M = 5000$ 条无向边。\n\n第 2 部分：确定节点 $i=7$ 的邻居。\n\n模型指定每个节点 $i$ 连接到其 $k$ 个最近邻居，在环上每侧（顺时针和逆时针）各有 $k/2$ 个邻居。节点索引在集合 $\\{0, 1, \\dots, N-1\\}$ 中，连接通过模算术定义。\n\n节点 $i$ 的邻居是任何索引为 $j$ 的节点，使得环形距离 $|i-j| \\pmod{N}$ 在 $1$ 和 $k/2$ 之间。更正式地，节点 $i$ 连接到索引为 $(i \\pm d) \\bmod N$ 的节点，其中 $d \\in \\{1, 2, \\dots, k/2\\}$。\n\n我们已知以下参数：\n- 特定节点索引，$i = 7$。\n- 节点总数，$N = 1000$。\n- 度，$k = 10$，这意味着 $k/2 = 5$。\n\n节点 $i=7$ 的邻居是索引为 $(7 \\pm d) \\bmod 1000$ 的节点，其中 $d \\in \\{1, 2, 3, 4, 5\\}$。\n\n让我们列出“逆时针”方向的邻居（索引 $7-d$）：\n- 对于 $d=1$：$(7-1) \\bmod 1000 = 6 \\bmod 1000 = 6$\n- 对于 $d=2$：$(7-2) \\bmod 1000 = 5 \\bmod 1000 = 5$\n- 对于 $d=3$：$(7-3) \\bmod 1000 = 4 \\bmod 1000 = 4$\n- 对于 $d=4$：$(7-4) \\bmod 1000 = 3 \\bmod 1000 = 3$\n- 对于 $d=5$：$(7-5) \\bmod 1000 = 2 \\bmod 1000 = 2$\n\n现在让我们列出“顺时针”方向的邻居（索引 $7+d$）：\n- 对于 $d=1$：$(7+1) \\bmod 1000 = 8 \\bmod 1000 = 8$\n- 对于 $d=2$：$(7+2) \\bmod 1000 = 9 \\bmod 1000 = 9$\n- 对于 $d=3$：$(7+3) \\bmod 1000 = 10 \\bmod 1000 = 10$\n- 对于 $d=4$：$(7+4) \\bmod 1000 = 11 \\bmod 1000 = 11$\n- 对于 $d=5$：$(7+5) \\bmod 1000 = 12 \\bmod 1000 = 12$\n\n在这个特定情况下，对于 $i=7$，所有得到的邻居索引都是正数且小于 $N=1000$，因此取模运算不会改变这些值。\n\n合并并排序节点 $i=7$ 的 $k=10$ 个邻居的索引，我们得到集合：\n$\\{2, 3, 4, 5, 6, 8, 9, 10, 11, 12\\}$。\n\n最终答案要求将 $M$ 的值和这个索引列表以单行矩阵的形式呈现。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n5000  2  3  4  5  6  8  9  10  11  12\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "Watts-Strogatz 模型的一个核心特征是其高聚类特性，这使其与纯粹的随机网络显著不同。这项练习将引导你量化这一特征，计算初始规则网络、经过随机重连的网络以及完全随机的 Erdős-Rényi 网络的聚类系数。通过对比这三个值 ，你将深刻理解 WS 模型是如何在保持局部结构的同时引入全局捷径的。",
            "id": "4311732",
            "problem": "考虑一个 Watts–Strogatz 小世界模型，该模型构建在一个包含 $N$ 个节点的环上，其中每个节点都与其两侧最近的 $k/2$ 个邻居相连，使其度为 $k$。设节点 $i$ 的聚集系数定义为 $C_{i} = \\frac{\\text{节点 } i \\text{ 的邻居中已连接的对数}}{\\binom{k}{2}}$，并设全局聚集系数 $C$ 为所有节点 $C_{i}$ 的平均值。对于初始的规则环（$p=0$），所有节点都是等价的，因此 $C(0)$ 等于任何节点 $i$ 的 $C_i$。\n\n然后，对边进行 Watts–Strogatz 重连过程：对于每个节点，其 $k/2$ 个顺时针方向的边中的每一条都有概率 $p$ 独立地重连到一个均匀选择的目标节点，同时避免自环和重复边，并保持网络的平均度为 $k$。在稀疏重连机制下，将在期望上忽略由新重连的长程边形成的三角形，并假设边的重连事件之间是独立的。\n\n1. 仅使用上述定义和环形格点上的第一性原理组合学，推导出 $C(0)$ 作为 $k$ 的函数。\n2. 在独立性假设下，根据 $C(0)$ 和 $p$ 推导出重连概率为 $p$ 时的期望聚集系数 $C(p)$ 的表达式。\n3. 对于一个具有相同节点数和期望平均度（连接概率为 $q$ 的 Erdős–Rényi 图，其期望度为 $k$）的随机图基线，利用期望聚集系数等于连接概率 $q$ 这一事实，求得 $C_{\\text{rand}}$ 作为 $N$ 和 $k$ 的函数。\n\n对于 $N=2000$，$k=16$ 和 $p=0.05$ 计算这些表达式的值。将所有要求的数值答案四舍五入到四位有效数字。你的最终答案必须按顺序依次列出 $C(0)$、$C(p)$ 和 $C_{\\text{rand}}$。",
            "solution": "该问题被认为是有效的，因为它在网络科学方面有科学依据，问题提出得当且客观。它为分析 Watts-Strogatz 模型提供了一个完整且一致的框架。\n\n解答按问题陈述的要求分为三部分呈现。\n\n### 第 1 部分：规则环的聚集系数 $C(0)$ 的推导\n\n全局聚集系数 $C$ 是所有节点 $i$ 的局部聚集系数 $C_i$ 的平均值。对于初始的规则环形格点，由于对称性，所有节点都是等价的，因此 $C(0)$ 等于任何节点 $i$ 的 $C_i$。节点 $i$ 的局部聚集系数定义为：\n$$\nC_i = \\frac{\\text{节点 } i \\text{ 的邻居中已连接的对数}}{\\binom{k}{2}}\n$$\n为方便起见，我们选择一个任意节点，标记为 $0$。它的邻居是其两侧距离为 $1, 2, \\dots, k/2$ 的节点。在一个大环（$N \\gg k$）中，我们可以将节点 $0$ 的邻居表示为集合 $N(0) = \\{\\pm 1, \\pm 2, \\dots, \\pm k/2\\}$。节点 $0$ 的度为 $k$。邻居对的总数为 $\\binom{k}{2}$。\n\n我们需要计算由 $N(0)$ 诱导的子图中的边数，称之为 $E_0$。如果两个邻居 $u, v \\in N(0)$ 在环上的距离至多为 $k/2$，则它们之间存在一条边。假设 $N \\gg k$，两个节点 $u$ 和 $v$ 之间的距离就是 $|u-v|$。因此，如果 $|u-v| \\le k/2$，则两个邻居 $u, v \\in N(0)$ 是相连的。\n\n我们来计算满足此条件的对 $\\{u, v\\} \\subset N(0)$ 的数量。我们可以根据 $u$ 和 $v$ 的符号对这些对进行划分。\n1.  **两个邻居都在同一侧（例如，正侧）。**\n    设 $u, v \\in \\{1, 2, \\dots, k/2\\}$ 且 $u \\ne v$。它们之间的距离是 $|u-v|$。由于可能的最大距离是 $(k/2) - 1$，小于 $k/2$，因此所有这样的对都是相连的。这样的对的数量是从一侧的 $k/2$ 个邻居中选择 2 个节点的方法数，即 $\\binom{k/2}{2}$。根据对称性，另一侧的 $k/2$ 个邻居也同样适用，贡献另外 $\\binom{k/2}{2}$ 条边。\n    这种情况下的总数为：$2 \\binom{k/2}{2} = 2 \\frac{(k/2)(k/2 - 1)}{2} = \\frac{k}{2} (\\frac{k-2}{2}) = \\frac{k(k-2)}{4}$。\n\n2.  **邻居在相对的两侧。**\n    设 $u \\in \\{1, 2, \\dots, k/2\\}$ 且 $v \\in \\{-1, -2, \\dots, -k/2\\}$。距离为 $|u-v| = u-v$。存在边的条件是 $u-v \\le k/2$。让我们将 $v$ 写成 $v = -w$，其中 $w \\in \\{1, 2, \\dots, k/2\\}$。条件变为 $u+w \\le k/2$。\n    我们可以通过对一个变量求和来计算这些对的数量。对于每个 $u \\in \\{1, 2, \\dots, k/2\\}$，$w$ 的可能取值为 $1, 2, \\dots, k/2-u$。$w$ 的此类值的数量为 $k/2-u$。\n    这类边的总数是对所有可能的 $u$ 值求和：\n    $$\n    \\sum_{u=1}^{k/2} (k/2 - u) = \\sum_{j=0}^{k/2-1} j = \\frac{(k/2-1)(k/2)}{2} = \\frac{k(k-4)/4}{2} = \\frac{k(k-2)}{8}\n    $$\n    等等，如果我们考虑 $u \\ne k/2$，那么和是 $\\sum_{u=1}^{k/2-1} (k/2 - u) = \\sum_{j=1}^{k/2-1} j = \\frac{(k/2-1)k/2}{2}$。\n    我们重新计算这个和：\n    $\\sum_{u=1}^{k/2} (k/2 - u) = (k/2-1) + (k/2-2) + \\dots + (k/2 - (k/2-1)) + (k/2-k/2) = \\sum_{j=0}^{k/2-1} j = \\frac{(k/2-1)k/2}{2} = \\frac{k(k-2)}{8}$。这是正确的。\n\n结合这两种情况，总边数 $E_0$ 为：\n$$\nE_0 = \\frac{k(k-2)}{4} + \\frac{k(k-2)}{8} = \\frac{2k(k-2) + k(k-2)}{8} = \\frac{3k(k-2)}{8}\n$$\n现在我们可以计算 $C(0)$：\n$$\nC(0) = C_0 = \\frac{E_0}{\\binom{k}{2}} = \\frac{3k(k-2)/8}{k(k-1)/2} = \\frac{3k(k-2)}{8} \\cdot \\frac{2}{k(k-1)} = \\frac{3(k-2)}{4(k-1)}\n$$\n\n### 第 2 部分：期望聚集系数 $C(p)$ 的推导\n\n重连过程考虑格点中的 $N \\cdot k/2$ 条边中的每一条，并以概率 $p$ 将其替换为一条连接到新的、随机选择的节点（避免自环和重复边）的边。这意味着每条原始边以 $1-p$ 的概率保留下来。\n\n期望聚集系数 $C(p)$ 是平均期望局部聚集系数，$\\mathbb{E}[C_i(p)]$。\n$$\n\\mathbb{E}[C_i(p)] = \\mathbb{E}\\left[ \\frac{\\text{节点 } i \\text{ 处的三角形数量}}{\\binom{k}{2}} \\right] = \\frac{\\mathbb{E}[\\text{节点 } i \\text{ 处的三角形数量}]}{\\binom{k}{2}}\n$$\n一个涉及节点 $i$ 的三角形由三条边 $(i,u), (i,v), (u,v)$ 组成，其中 $u,v \\in N(i)$。要使这样一个来自原始格点的三角形在重连过程中保留下来，其所有三条构成边都必须保留下来。问题陈述中要求假设重连事件是独立的。因此，一个特定的三角形保留下来的概率是 $(1-p)^3$。\n\n涉及节点 $i$ 的初始三角形数量为 $E_0 = \\frac{3k(k-2)}{8}$。这些三角形中保留下来的期望数量是：\n$$\n\\mathbb{E}[T_{i, \\text{surviving}}] = E_0 (1-p)^3\n$$\n问题还陈述了假设由重连的“长程”边形成的新三角形数量可以忽略不计。因此，我们可以将重连后节点 $i$ 处的期望三角形数量近似为仅保留下来的三角形的期望数量：\n$$\n\\mathbb{E}[T_i(p)] \\approx E_0 (1-p)^3\n$$\n将此代入期望聚集系数的表达式中：\n$$\nC(p) = \\frac{\\mathbb{E}[T_i(p)]}{\\binom{k}{2}} \\approx \\frac{E_0 (1-p)^3}{\\binom{k}{2}} = \\left(\\frac{E_0}{\\binom{k}{2}}\\right) (1-p)^3 = C(0) (1-p)^3\n$$\n\n### 第 3 部分：随机图的聚集系数 $C_{\\text{rand}}$ 的推导\n\n为了进行基线比较，我们考虑一个具有相同节点数 $N$ 和相同期望平均度 $k$ 的 Erdős–Rényi 随机图 $G(N,q)$。在一个 ER 图中，$\\binom{N}{2}$ 个可能的边中的每一条都以独立的概率 $q$ 存在。\n\n任何节点的期望度为 $(N-1)q$。我们将其等同于 $k$：\n$$\nk = (N-1)q \\implies q = \\frac{k}{N-1}\n$$\n问题指示我们使用这样一个事实：对于 ER 图，期望聚集系数等于连接概率 $q$。这是稀疏图的一个标准结果，其中 $C_{ER} \\approx q$。其理由是，对于节点 $i$ 的任意两个邻居，连接它们的边存在的概率为 $q$，这与它们同 $i$ 的连接无关。因此，邻居中已连接对的比例平均为 $q$。\n因此，\n$$\nC_{\\text{rand}} = q = \\frac{k}{N-1}\n$$\n\n### 数值计算\n\n给定 $N=2000$，$k=16$ 和 $p=0.05$。我们将结果四舍五入到四位有效数字。\n\n1.  **$C(0)$**：\n    $$\n    C(0) = \\frac{3(16-2)}{4(16-1)} = \\frac{3 \\times 14}{4 \\times 15} = \\frac{42}{60} = 0.7\n    $$\n    精确到四位有效数字，$C(0) = 0.7000$。\n\n2.  **$C(p)$**：\n    $$\n    C(p) = C(0) (1-p)^3 = 0.7000 \\times (1-0.05)^3 = 0.7000 \\times (0.95)^3 = 0.7000 \\times 0.857375 = 0.6001625\n    $$\n    四舍五入到四位有效数字，$C(p) \\approx 0.6002$。\n\n3.  **$C_{\\text{rand}}$**：\n    $$\n    C_{\\text{rand}} = \\frac{k}{N-1} = \\frac{16}{2000-1} = \\frac{16}{1999} \\approx 0.008004002...\n    $$\n    四舍五入到四位有效数字，$C_{\\text{rand}} \\approx 0.008004$。\n\n最终结果是 $C(0)=0.7000$，$C(p)=0.6002$ 和 $C_{\\text{rand}}=0.008004$。",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 0.7000  0.6002  0.008004 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "掌握了聚类系数与重连概率之间的关系后，我们可以从分析转向设计。这项练习将一个实际的设计约束问题形式化：在保持网络大部分局部结构的前提下，我们最多可以引入多大程度的随机性？通过求解在给定聚类水平下允许的最大重连概率 $p$ ，你将学会如何应用模型的数学近似 $C(p) \\approx C(0) (1 - p)^{3}$ 来调整网络属性以满足特定目标。",
            "id": "4311738",
            "problem": "考虑 Watts–Strogatz 小世界模型（WS），该模型由一个包含 $N$ 个节点的环形晶格构建，其中每个节点都与其 $k$ 个最近邻节点相连（$k$ 为偶数），每条边以概率 $p \\in [0,1]$ 独立地重连到一个均匀随机选择的节点，同时避免自环和重复边。令 $C(p)$ 表示在重连概率为 $p$ 时的全局聚类系数，令 $C(0)$ 表示初始环形晶格的聚类系数。在用于三元闭包的标准边重连独立性近似下，一个三角形只有在其所有三条构成边都未被重连时才能保留，这导出了在 $p \\in [0,1]$ 范围内经过充分检验的标度关系 $C(p) \\approx C(0) (1 - p)^{3}$，该关系适用于边重连破坏了局部传递性而未引入补偿性三元组的情形。\n\n假设设计目标是保留至少 $\\alpha \\in (0,1)$ 比例的原始晶格聚类系数，即要求 $C(p) \\ge \\alpha C(0)$，其中 $C(0) > 0$。在上述近似的有效性范围内以及约束条件 $p \\in [0,1]$ 下，以闭合形式确定保证满足聚类约束的最大允许重连概率 $p$ 作为 $\\alpha$ 的函数。将您的最终答案表示为单个解析表达式。无需四舍五入。",
            "solution": "本问题要求在 Watts-Strogatz 小世界模型中，确定在全局聚类系数 $C(p)$ 的约束下，最大允许的重连概率（记为 $p$）。\n\n给定的约束是，聚类系数必须至少为初始规则晶格聚类系数 $C(0)$ 的 $\\alpha$ 倍。这可以用不等式表示为：\n$$C(p) \\ge \\alpha C(0)$$\n我们已知条件 $\\alpha \\in (0,1)$ 和 $C(0) > 0$。重连概率必须满足 $p \\in [0,1]$。\n\n问题指出，为了进行此分析，我们应使用以下经过充分检验的、关于聚类系数随重连概率变化的近似公式：\n$$C(p) \\approx C(0) (1 - p)^{3}$$\n该近似在以下假设下有效：重连过程主要破坏原始晶格中已存在的三角形，而新三角形的形成可以忽略不计。\n\n为了找到 $p$ 的允许范围，我们将 $C(p)$ 的近似值代入约束不等式：\n$$C(0) (1 - p)^{3} \\ge \\alpha C(0)$$\n已知 $C(0) > 0$。对于度 $k \\ge 4$（这是存在三角形的必要条件）的 Watts-Strogatz 初始晶格，这个条件在物理上是合理的。由于 $C(0)$ 是一个正常数，我们可以在不等式两边同时除以 $C(0)$ 而不改变不等号的方向：\n$$(1 - p)^{3} \\ge \\alpha$$\n我们的目标是解这个关于 $p$ 的不等式。立方根函数 $x \\mapsto x^{\\frac{1}{3}}$ 在实数域上是单调递增函数。将此函数应用于不等式两边，不等号的方向保持不变：\n$$\\left( (1 - p)^{3} \\right)^{\\frac{1}{3}} \\ge \\alpha^{\\frac{1}{3}}$$\n化简后得到：\n$$1 - p \\ge \\alpha^{\\frac{1}{3}}$$\n为了分离出 $p$，我们整理各项。两边同时减去 $1$ 得到：\n$$-p \\ge \\alpha^{\\frac{1}{3}} - 1$$\n接下来，两边同时乘以 $-1$。这个操作会反转不等号的方向：\n$$p \\le 1 - \\alpha^{\\frac{1}{3}}$$\n这个不等式给出了重连概率 $p$ 的上限。问题要求的是保证满足聚类约束的最大允许 $p$ 值。这个值就是所推导出的范围的上限，前提是它与给定的定义域 $p \\in [0,1]$ 一致。\n\n我们必须检查这个结果与给定的 $\\alpha$ 约束的一致性。已知 $\\alpha \\in (0,1)$，即 $0  \\alpha  1$。\n由于立方根函数是严格单调递增的，且 $\\sqrt[3]{0} = 0$ 和 $\\sqrt[3]{1} = 1$，因此如果 $0  \\alpha  1$，那么 $0  \\alpha^{\\frac{1}{3}}  1$。\n我们来分析 $p$ 的上限表达式：$1 - \\alpha^{\\frac{1}{3}}$。由于 $0  \\alpha^{\\frac{1}{3}}  1$，乘以 $-1$ 得到 $-1  -\\alpha^{\\frac{1}{3}}  0$。不等式各部分同时加上 $1$，我们得到 $1 - 1  1 - \\alpha^{\\frac{1}{3}}  1 - 0$，化简后为 $0  1 - \\alpha^{\\frac{1}{3}}  1$。\n这证实了计算出的 $p$ 的上限是一个介于 $0$ 和 $1$ 之间的值。因此，允许的概率的完整区间是 $0 \\le p \\le 1 - \\alpha^{\\frac{1}{3}}$。函数 $C(p)$ 是 $p$ 的递减函数，所以此区间内的任何 $p$ 都将满足约束条件。\n\n因此，最大允许的重连概率是该区间的最大值，也即其上界。\n$$p_{\\text{max}} = 1 - \\alpha^{\\frac{1}{3}}$$\n这就是所要求的、作为 $\\alpha$ 函数的最大允许重连概率的闭合形式表达式。",
            "answer": "$$\\boxed{1 - \\alpha^{\\frac{1}{3}}}$$"
        }
    ]
}