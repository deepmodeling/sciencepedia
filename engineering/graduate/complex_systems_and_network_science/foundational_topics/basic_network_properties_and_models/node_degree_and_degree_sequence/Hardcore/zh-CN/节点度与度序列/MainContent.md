## 引言
在[复杂网络](@entry_id:261695)的宏伟蓝图中，最简单、最基本的笔触是什么？答案出奇地简单：一个节点有多少连接，即它的“度”。尽管定义直观，[节点度](@entry_id:1128744)及其在整个网络中的分布——[度序列](@entry_id:267850)——蕴含着深刻的结构约束和动力学后果。从一个整数序列能否构成一个真实世界的网络，到网络为何在某些攻击下异常脆弱，这些问题的答案都深植于对度的理解之中。然而，将这一基础概念与复杂的网络行为联系起来，往往存在知识上的鸿沟。本篇文章旨在系统地填补这一鸿沟。

我们将分三步深入探索这个主题。在**“原理和机制”**一章中，我们将奠定理论基石，从度的精确定义到判断序列可图性的经典算法。接着，在**“应用与跨学科联系”**一章，我们将展示这些理论如何在现实世界中大放异彩，揭示度在预测[网络鲁棒性](@entry_id:146798)、模拟[流行病传播](@entry_id:264141)和分析[金融风险](@entry_id:138097)中的关键作用。最后，通过**“动手实践”**部分，你将有机会将理论付诸实践，巩固对核心概念的理解。让我们从最根本的原理出发，开启对节点度与度序列的探索之旅。

## 原理和机制

在网络科学中，最基本、最核心的节点属性之一是其**度 (degree)**。节点的度量化了其在网络中的连通性，为理解从局部连接模式到全局网络结构的各种现象提供了基础。本章深入探讨[节点度](@entry_id:1128744)的基本原理、其在整个网络中的分布（即[度序列](@entry_id:267850)），以及这些概念所引出的深刻的结构问题。我们将从基本定义出发，逐步探讨支配[度序列](@entry_id:267850)的约束条件、判断一个给定序列是否能构成一个网络的准则，以及利用度[序列[生](@entry_id:635570)成网络模型](@entry_id:749811)的机制。

### 定义节点度：局部视角

理解网络结构始于对单个节点的分析。[节点度](@entry_id:1128744)是从最局部的视角对[节点重要性](@entry_id:1128747)或活性的量化。

#### 无向图中的度

在一个**简单无向图 (simple undirected graph)** 中，即没有**[自环](@entry_id:274670) (self-loops)**（连接节点自身的边）和**重边 (parallel edges)**（在同一对节点之间存在多条边）的图中，一个节点 $i$ 的**度**，记为 $k_i$ 或 $d_i$，就是与该节点相连的边的数量。这等同于该节点的**邻居 (neighbors)** 数量 。对于一个包含 $n$ 个节点的[简单图](@entry_id:274882)，任何节点 $i$ 的度 $d_i$ 都受到基本边界的约束：$0 \le d_i \le n-1$。下界 $0$ 对应于一个**孤立节点 (isolated node)**，它不与网络中任何其他节点相连。[上界](@entry_id:274738) $n-1$ 对应于一个与所有其他 $n-1$ 个节点都相连的节点；由于简单图不允许[自环](@entry_id:274670)，一个节点不能与自身相连，因此其度不可能达到 $n$ 。

当我们将考虑范围扩展到**[多重图](@entry_id:261576) (multigraphs)**，即允许自环和重边的图时，度的定义需要更加精确。在这种情况下，一个节点的度被定义为与其关联的**边端点 (edge endpoints)** 或“半边 (half-edges)”的数量 。这个定义优雅地处理了所有情况：
- 一条连接不同节点 $i$ 和 $j$ 的标准边有两个端点，一个在 $i$ 一个在 $j$，因此它对 $k_i$ 和 $k_j$ 各贡献 $1$。
- 如果节点 $i$ 和 $j$ 之间存在 $m_{ij}$ 条重边，那么这些边总共对 $k_i$ 贡献 $m_{ij}$，对 $k_j$ 也贡献 $m_{ij}$ 。
- 一个在节点 $i$ 上的[自环](@entry_id:274670)，其两个端点都连接到同一个节点 $i$。因此，根据定义，一个[自环](@entry_id:274670)对节点 $i$ 的度 $k_i$ 贡献 $2$ 。

例如，考虑一个有4个节点 $V=\{1,2,3,4\}$ 的无向[多重图](@entry_id:261576)，其边包括：节点1和2之间有2条重边，节点2和3之间有1条边，节点1上有1个自环，节点4上有3个自环。我们可以计算每个节点的度：
- $k_1 = (\text{来自与2的2条重边}) + (\text{来自1个自环}) = 2 + 2 = 4$
- $k_2 = (\text{来自与1的2条重边}) + (\text{来自与3的1条边}) = 2 + 1 = 3$
- $k_3 = (\text{来自与2的1条边}) = 1$
- $k_4 = (\text{来自3个自环}) = 3 \times 2 = 6$
因此，该图的度向量为 $(4, 3, 1, 6)$ 。

#### [有向图](@entry_id:920596)中的度

在**[有向图](@entry_id:920596) (directed graphs 或 digraphs)** 中，边的方向性要求我们区分两种类型的度。对于一个节点 $i$：
- **出度 (out-degree)**，记为 $k_i^{\text{out}}$，是从节点 $i$ 指向其他节点的边的数量。
- **入度 (in-degree)**，记为 $k_i^{\text{in}}$，是从其他节点指向节点 $i$ 的边的数量。

这种区分对于理解网络中的流或影响力至关重要。当[有向图](@entry_id:920596)用**邻接矩阵 (adjacency matrix)** $A$ 表示时，这些度可以方便地计算出来。在一个有 $n$ 个节点的图中，邻接矩阵 $A$ 是一个 $n \times n$ 的矩阵，其中元素 $A_{ij}$ 表示从节点 $i$ 到节点 $j$ 的边的数量。
- 节点 $i$ 的**出度**是其[邻接矩阵](@entry_id:151010)第 $i$ 行所有元素的和：$k_i^{\text{out}} = \sum_{j=1}^n A_{ij}$ 。
- 节点 $i$ 的**入度**是其邻接矩阵第 $i$ 列所有元素的和：$k_i^{\text{in}} = \sum_{j=1}^n A_{ji}$ 。

一个在节点 $i$ 上的有向自环是一条从 $i$ 出发并回到 $i$ 的边，对应于邻接矩阵中的一个正对角线元素 $A_{ii}$。这样的[自环](@entry_id:274670)既是出边也是入边，因此它对 $k_i^{\text{out}}$ 和 $k_i^{\text{in}}$ 各贡献 $1$。因此，图中[自环](@entry_id:274670)的总数等于邻接矩阵的**迹 (trace)**，即 $\mathrm{trace}(A) = \sum_{i=1}^n A_{ii}$ 。

### 度序列和全局约束

虽然度是局部属性，但将所有节点的度放在一起形成的**度序列 (degree sequence)** 揭示了关于网络全局结构的深刻约束。对于一个拥有 $n$ 个已标记节点 $V=\{1, \dots, n\}$ 的图，其度序列是一个有序的 $n$-元组 $D = (d_1, d_2, \dots, d_n)$，其中 $d_i$ 是节点 $i$ 的度 。对于无标记图，通常将度序列表示为一个非递增排序的序列。

#### [握手引理](@entry_id:261183)

网络科学中最基本也最优雅的结果之一是**[握手引理](@entry_id:261183) (Handshaking Lemma)**，它指出在任何无向图（包括[多重图](@entry_id:261576)）中，所有节点度的总和等于边数的两倍：
$$ \sum_{i \in V} k_i = 2|E| $$
其中 $|E|$ 是图中边的总数。这个结论源于一个简单的“重复计算”论证：当我们把所有节点的度加起来时，每一条边都被计算了两次，因为它有两个端点，在其两端的节点的度计算中各被计入一次。对于一个自环，根据其对度贡献为2的定义，它同样被计算了两次  。

这个引理一个直接且重要的推论是：任何无向图中，度为奇数的节点个数必须是偶数。这是因为所有度的总和（一个偶数）可以被划分为偶数度节点之和（必然是偶数）与奇数度节点之和。因此，奇数度节点之和必须是偶数，这只有在奇数项的个数为偶数时才可能实现 。

对于有向图，也存在一个类似的守恒定律。因为每条有向边都有一个起点和一个终点，所有[出度](@entry_id:263181)的总和必然等于所有入度的总和，并且两者都等于图中边的总数 $m$：
$$ \sum_{i=1}^n k_i^{\text{out}} = \sum_{i=1}^n k_i^{\text{in}} = m $$
与[无向图](@entry_id:270905)不同，这里的边的总数 $m$ 可以是奇数也可以是偶数，因此[出度](@entry_id:263181)总和或入度总和没有奇偶性约束。然而，入度与出度之和的总和 $\sum_{i=1}^n (k_i^{\text{in}} + k_i^{\text{out}})$ 总是等于 $2m$，因此必然是偶数  。

#### 度分布

为了从统计视角描述网络，我们常常使用**度分布 (degree distribution)** $p_k$。它定义为网络中度为 $k$ 的节点的比例。形式上，
$$ p_{k} = \frac{1}{n} \sum_{i=1}^{n} \mathbf{1}\{d_{i} = k\} $$
其中 $\mathbf{1}\{\cdot\}$ 是**指示函数 (indicator function)**，当条件成立时为1，否则为0。$p_k$ 可以被解释为一个从网络中随机选取一个节点，其度恰好为 $k$ 的概率。这个分布是一个合法的概率分布，因为它的各项总和为1。我们可以通过改变求和顺序来证明这一点：
$$ \sum_{k=0}^{n-1} p_k = \sum_{k=0}^{n-1} \left( \frac{1}{n} \sum_{i=1}^{n} \mathbf{1}\{d_{i} = k\} \right) = \frac{1}{n} \sum_{i=1}^{n} \left( \sum_{k=0}^{n-1} \mathbf{1}\{d_{i} = k\} \right) $$
对于任何一个节点 $i$，其度 $d_i$ 是一个确定的值。因此，内层的和 $\sum_{k=0}^{n-1} \mathbf{1}\{d_{i} = k\}$ 中只有一个指示函数为1（即当 $k=d_i$ 时），其余都为0。所以内层和恒为1。最终我们得到：
$$ \sum_{k=0}^{n-1} p_k = \frac{1}{n} \sum_{i=1}^{n} (1) = \frac{n}{n} = 1 $$
这个归一化属性是基础性的，它确保了度分布为我们提供了一个关于网络连接性的规范化统计描述 。

### 存在性问题：可图化和可有向图化序列

一个自然而深刻的问题随之而来：给定一个整数序列，是否存在一个[简单图](@entry_id:274882)（或有向图）以该序列为[度序列](@entry_id:267850)？如果存在，该序列被称为**可图化的 (graphical)** 或 **可有向图化的 (digraphic)**。

#### Havel-Hakimi 算法

**Havel-Hakimi 算法**提供了一个构造性的、递归的程序来回答一个序列是否是可图化的。该算法基于一个优雅的递推思想。给定一个非负整数的非递增序列 $S = (d_1, d_2, \dots, d_n)$：
1.  移除序列中的第一个元素 $d_1$。
2.  将序列中接下来的 $d_1$ 个元素（即 $d_2, \dots, d_{d_1+1}$）分别减1。
3.  如果在此过程中任何数变为负数，则序列不是可图化的。
4.  将新生成的序列重新排序为非递增序列 $S'$。
5.  重复此过程，直到序列中所有元素都为0。

该算法的正确性在于，原始序列 $S$ 是可图化的，当且仅当缩减后的序列 $S'$ 是可图化的。如果这个过程成功地终止于一个全零序列（这是一个由孤立节点构成的[空图](@entry_id:275064)的度序列），那么原始序列就是可图化的 。其背后的逻辑是，如果一个图存在，那么总能通过边交换等操作构造出一个等价的图，其中度最大的节点 $v_1$ 恰好连接到度次大的 $d_1$ 个节点。移除 $v_1$ 及其所有边，就得到了一个实现 $S'$ 的图 。

例如，对序列 $(7,6,6,5,4,4,3,3,2,2)$ 应用一步 Havel-Hakimi 规约：移除7，并将接下来的7个元素 $(6,6,5,4,4,3,3)$ 各减1，得到 $(5,5,4,3,3,2,2)$。加上未受影响的 $(2,2)$，重新组合并排序后得到的新序列是 $(5,5,4,3,3,2,2,2,2)$ 。通过反复应用此过程，我们可以确定原始序列的可图性。

#### Erdős-Gallai 定理

与算法方法相辅相成，**Erdős-Gallai 定理**提供了一个存在性的数学判据。一个非递增的非负整数序列 $\{d_1 \ge d_2 \ge \dots \ge d_n\}$ 是可图化的，当且仅当满足以下两个条件：
1.  度之和 $\sum_{i=1}^n d_i$ 是偶数。
2.  对于所有整数 $k$（从 $1$ 到 $n$），以下不等式成立：
    $$ \sum_{i=1}^{k} d_i \le k(k-1) + \sum_{i=k+1}^{n} \min(k, d_i) $$

第一个条件即[握手引理](@entry_id:261183)的必然要求。第二个条件则更为精妙，它为任意 $k$ 个度最大的节点设置了连接能力的上限。左边是这 $k$ 个节点的度之和。右边的第一项 $k(k-1)$ 表示这 $k$ 个节点内部最多可以形成的边所贡献的度数总和（每条边贡献两个度）。第二项 $\sum_{i=k+1}^{n} \min(k, d_i)$ 表示这 $k$ 个节点与剩下 $n-k$ 个节点之间连接的边的最大可能贡献。对于每一个外部节点 $j$（$j > k$），它最多能向这 $k$ 个节点发出 $\min(k, d_j)$ 条边，因为边的数量既不能超过 $k$（目标节点的数量），也不能超过它自身的总度数 $d_j$ 。

#### 可有向图化序列

对于有向图，问题变得更加复杂，因为我们必须同时满足给定的入度序列 $\mathbf{k}^{\text{in}}$ 和出度序列 $\mathbf{k}^{\text{out}}$。一个基本的必要条件是 $\sum k_i^{\text{in}} = \sum k_i^{\text{out}}$。**Fulkerson-Chen-Anstee 定理** 给出了简单[有向图](@entry_id:920596)的完整充要条件。该定理指出，一对序列是可[有向图](@entry_id:920596)化的，当且仅当总和相等，并且对于顶点集 $V$ 的所有子集 $X \subseteq V$，以下不等式成立：
$$ \sum_{i \in X} k^{\text{out}}_i \le \sum_{j \notin X} \min\big(|X|, k^{\text{in}}_j\big) + \sum_{j \in X} \min\big(|X|-1, k^{\text{in}}_j\big) $$
这个不等式与 Erdős-Gallai 定理的思想类似，它平衡了从集合 $X$ 发出的总需求（左侧）与服务于这个需求的网络总容量（右侧）。右侧的容量被分为两部分：指向 $X$ 外部节点的边的容量，和在 $X$ 内部节点之间流动的边的容量。对于内部边，容量项中的 $|X|-1$ 精确地体现了[简单图](@entry_id:274882)不允许自环的约束 。同样，存在一个[贪心算法](@entry_id:260925)（[有向图](@entry_id:920596)版本的Hakimi算法）可以构造出这样一个图，它反复选择剩余出度最大的节点，并将其连接到剩余入度最大的、合法的目标节点上 。

### 唯一性问题和生成模型

一个[度序列](@entry_id:267850)是可图化的，是否意味着只存在唯一一个对应的图结构？答案是否定的。一个给定的[度序列](@entry_id:267850)通常可以由多个**非同构 (non-isomorphic)**（即结构上不同）的图来实现。

例如，[度序列](@entry_id:267850) $d=(3,3,2,2,2,2)$ 可以由至少两个不同的图结构实现。考虑图 $G_A$，其[边集](@entry_id:267160)为 $\{\{1,2\},\{1,3\},\{1,4\},\{2,5\},\{2,6\},\{3,4\},\{5,6\}\}$，和图 $G_B$，其[边集](@entry_id:267160)为 $\{\{1,2\},\{1,3\},\{1,4\},\{2,5\},\{2,6\},\{3,5\},\{4,6\}\}$。不难验证，这两个图都具有相同的度序列 $d$。然而，它们在结构上是不同的。一个证明它们非同构的方法是比较一个**[图不变量](@entry_id:262729) (graph invariant)**，例如图中**三角形 (3-环)** 的数量。在 $G_A$ 中，我们可以找到两个三角形：$\{1,3,4\}$ 和 $\{2,5,6\}$。但在 $G_B$ 中，不存在任何三角形。由于三角形的数量不同，$G_A$ 和 $G_B$ 不可能是同构的 。

这个例子清楚地表明，度序列只捕捉了网络连接性的一阶信息，而忽略了更高阶的连接模式，如集团(cliques)或社团结构。

#### 配置模型

度序列的不唯一性引出了一个重要思想：与其寻找一个特定的图，不如考虑所有具有相同度序列的图构成的**系综 (ensemble)**。**配置模型 (configuration model)** 是一个强大的生成模型，用于从这个系综中（近似）均匀地[随机抽样](@entry_id:175193)。

该模型采用一种称为**存根配对 (stub-pairing)** 的方法：
1.  对于一个给定的、满足偶数和条件的[度序列](@entry_id:267850) $\{d_i\}_{i=1}^n$，为每个节点 $i$ 创建 $d_i$ 个“存根”或“半边”。网络中存根的总数是 $L = \sum d_i$。
2.  将这 $L$ 个存根完全随机地配对，形成 $L/2$ 条边。

这个过程本质上是在所有可能的存根配对中均匀随机地选择一个。其结果是一个随机[多重图](@entry_id:261576)，可能会包含两种“不希望”的结构（如果我们想要一个简单图的话）：
- **[自环](@entry_id:274670)**：当一个节点的两个存根被配对在一起时形成。
- **重边**：当同一对节点的两组不同存根被配对时形成。

因此，配置模型生成的图是简单图，当且仅当随机配对过程中没有产生任何自环或重边 。

在许多情况下，尤其是在大型稀疏网络中，产生简单图的概率可能很小。然而，在某些渐近条件下，这个概率可以是有界的、不为零的。具体来说，如果[度序列](@entry_id:267850)满足 $\sum_{i=1}^n d_i^2 = O(L)$ 且[最大度](@entry_id:265573) $d_{\max} = o(\sqrt{L})$，那么当 $n \to \infty$ 时，配置模型生成一个[简单图](@entry_id:274882)的概率会收敛到一个正数。这些条件通常在“稀疏”网络中得到满足，其中节点的度相对于网络规模来说较小。在这种情况下，配置模型成为研究具有特定度分布的典型网络属性的宝贵工具 。如果生成的图不是简单的，通常可以通过“重连”或简单地拒绝非简单图并重新抽样来获得一个[简单图](@entry_id:274882)，尽管这些方法会改变底层的概率分布。