{
    "hands_on_practices": [
        {
            "introduction": "我们从一个基本且直观的重叠社群发现方法——派系渗透法（Clique Percolation Method, CPM）——开始实践。这个练习将指导你手动应用CPM的定义，在一个特意构建的图上识别并分析重叠社群，从而帮助你深入理解该方法如何通过识别相邻的“团”（cliques）来揭示网络中的重叠结构。这是一个掌握组合方法核心思想的绝佳起点。",
            "id": "4295744",
            "problem": "考虑一个按如下方式构建的简单无向图 $G$。图中存在两个三角形环，记为环 $\\mathcal{A}$ 和环 $\\mathcal{B}$，它们仅在一个节点上接触，不共享任何边。环 $\\mathcal{A}$ 的节点集为 $\\{a_0, a_1, a_2, a_3, a_4, a_5\\}$，环 $\\mathcal{B}$ 的节点集为 $\\{b_0, b_1, b_2, b_3, b_4, b_5, b_6, b_7\\}$。将 $a_0$ 与 $b_0$ 等同，使得存在一个共享节点 $x$，满足 $x = a_0 = b_0$，并假设两个环的节点之间没有其他等同关系或边。对于环 $\\mathcal{A}$，对每个 $i \\in \\{0,1,2,3,4,5\\}$（下标模 $6$），在三元组 $\\{a_i, a_{i+1}, a_{i+2}\\}$ 中包含所有三条边，使得每个这样的三元组都形成一个三角形。对于环 $\\mathcal{B}$，对每个 $j \\in \\{0,1,2,3,4,5,6,7\\}$（下标模 $8$），在三元组 $\\{b_j, b_{j+1}, b_{j+2}\\}$ 中包含所有三条边，使得每个这样的三元组都形成一个三角形。图 $G$ 中不存在其他边。\n\n使用团渗透法（Clique Percolation Method, CPM），在团大小为 $k=3$ 的情况下，基于以下基本定义：\n\n- 一个 $k$-团是一个由 $k$ 个节点组成的集合，其中任意一对节点都由一条边连接。\n- 如果两个 $k$-团恰好共享 $k-1$ 个节点，则称它们是相邻的。\n- 一个 $k$-团渗透社群是 $k$-团的最大联合，使得联合中的任意一对 $k$-团都通过一条由相邻 $k$-团构成的路径相连；一个社群的节点集是其包含的 $k$-团中节点的并集。\n\n请确定图 $G$ 的 $k=3$ CPM 社群，识别出所有属于多个社群的节点，然后计算这两个 CPM 社群节点集之间的杰卡德相似系数（Jaccard similarity coefficient）。对于两个集合 $X$ 和 $Y$，该系数定义为 $J(X,Y) = \\frac{|X \\cap Y|}{|X \\cup Y|}$。将最终答案表示为最简分数。无需四舍五入。",
            "solution": "问题要求使用团渗透法（CPM），在团大小为 $k=3$ 的情况下，为一个特殊构造的图 $G$ 确定社群，然后计算所识别出的社群之间的杰卡德相似系数。分析过程遵循一系列逻辑步骤。\n\n### 第 1 步：识别 $k=3$ 的团\n\n一个 $k$-团是一个由 $k$ 个节点组成的完全子图。对于 $k=3$，一个 $3$-团就是一个三角形。问题陈述明确定义了图 $G$ 中存在的三角形。\n\n图 $G$ 由两个子图组成，即环 $\\mathcal{A}$ 和环 $\\mathcal{B}$，它们在一个单一节点 $x$ 处连接，其中 $x=a_0=b_0$。\n\n**环 $\\mathcal{A}$ 中的团：**\n节点集为 $\\{a_0, a_1, a_2, a_3, a_4, a_5\\}$。三角形由集合 $\\{a_i, a_{i+1}, a_{i+2}\\}$ 构成，其中 $i \\in \\{0, 1, 2, 3, 4, 5\\}$，下标模 $6$。环 $\\mathcal{A}$ 中的 $6$ 个三角形集合为：\n\\begin{itemize}\n    \\item $C_{A,0} = \\{a_0, a_1, a_2\\}$\n    \\item $C_{A,1} = \\{a_1, a_2, a_3\\}$\n    \\item $C_{A,2} = \\{a_2, a_3, a_4\\}$\n    \\item $C_{A,3} = \\{a_3, a_4, a_5\\}$\n    \\item $C_{A,4} = \\{a_4, a_5, a_0\\}$\n    \\item $C_{A,5} = \\{a_5, a_0, a_1\\}$\n\\end{itemize}\n\n**环 $\\mathcal{B}$ 中的团：**\n节点集为 $\\{b_0, b_1, b_2, b_3, b_4, b_5, b_6, b_7\\}$。三角形由集合 $\\{b_j, b_{j+1}, b_{j+2}\\}$ 构成，其中 $j \\in \\{0, 1, 2, 3, 4, 5, 6, 7\\}$，下标模 $8$。环 $\\mathcal{B}$ 中的 $8$ 个三角形集合为：\n\\begin{itemize}\n    \\item $C_{B,0} = \\{b_0, b_1, b_2\\}$\n    \\item $C_{B,1} = \\{b_1, b_2, b_3\\}$\n    \\item $C_{B,2} = \\{b_2, b_3, b_4\\}$\n    \\item $C_{B,3} = \\{b_3, b_4, b_5\\}$\n    \\item $C_{B,4} = \\{b_4, b_5, b_6\\}$\n    \\item $C_{B,5} = \\{b_5, b_6, b_7\\}$\n    \\item $C_{B,6} = \\{b_6, b_7, b_0\\}$\n    \\item $C_{B,7} = \\{b_7, b_0, b_1\\}$\n\\end{itemize}\n\n图 $G$ 中不存在其他边或三角形。\n\n### 第 2 步：$k=3$ 团的邻接性\n\n根据 CPM 的定义，如果两个 $k$-团恰好共享 $k-1$ 个节点，则它们是相邻的。对于 $k=3$，这意味着两个三角形必须恰好共享 $3-1 = 2$ 个节点（即一条边）。\n\n**环 $\\mathcal{A}$ 内部的邻接性：**\n考虑任意两个连续下标的三角形，例如 $C_{A,i} = \\{a_i, a_{i+1}, a_{i+2}\\}$ 和 $C_{A,i+1} = \\{a_{i+1}, a_{i+2}, a_{i+3}\\}$。它们的交集是 $C_{A,i} \\cap C_{A,i+1} = \\{a_{i+1}, a_{i+2}\\}$。该交集的大小为 $2$。因此，对于所有 $i \\in \\{0, 1, ..., 5\\}$，$C_{A,i}$ 和 $C_{A,i+1}$ 都是相邻的。这形成了一条由相邻团构成的路径：\n$$ C_{A,0} \\leftrightarrow C_{A,1} \\leftrightarrow C_{A,2} \\leftrightarrow C_{A,3} \\leftrightarrow C_{A,4} \\leftrightarrow C_{A,5} \\leftrightarrow C_{A,0} $$\n由于环 $\\mathcal{A}$ 中的所有 $6$ 个三角形都通过一条相邻团的路径相连，它们形成一个单一的最大连通分量。\n\n**环 $\\mathcal{B}$ 内部的邻接性：**\n类似地，对于环 $\\mathcal{B}$，考虑 $C_{B,j} = \\{b_j, b_{j+1}, b_{j+2}\\}$ 和 $C_{B,j+1} = \\{b_{j+1}, b_{j+2}, b_{j+3}\\}$。它们的交集是 $C_{B,j} \\cap C_{B,j+1} = \\{b_{j+1}, b_{j+2}\\}$，其大小为 $2$。因此，对于所有 $j \\in \\{0, 1, ..., 7\\}$，$C_{B,j}$ 和 $C_{B,j+1}$ 都是相邻的。这也形成了一个相邻团的环。环 $\\mathcal{B}$ 中的所有 $8$ 个三角形都属于一个单一的最大连通分量。\n\n**环 $\\mathcal{A}$ 和环 $\\mathcal{B}$ 之间的邻接性：**\n要使环 $\\mathcal{A}$ 中的一个团与环 $\\mathcal{B}$ 中的一个团相邻，它们必须共享 $2$ 个节点。环 $\\mathcal{A}$ 的节点是 $\\{a_0, ..., a_5\\}$，而环 $\\mathcal{B}$ 的节点是 $\\{b_0, ..., b_7\\}$。问题指明，这些集合之间唯一的等同关系是 $a_0 = b_0 = x$。因此，两个环的节点集的交集仅为 $\\{x\\}$。任何来自环 $\\mathcal{A}$ 的团和任何来自环 $\\mathcal{B}$ 的团最多只能共享这一个节点。由于它们不能共享 $2$ 个节点，所以环 $\\mathcal{A}$ 中的任何团都不与环 $\\mathcal{B}$ 中的任何团相邻。\n\n### 第 3 步：CPM 社群和重叠节点\n\n$k$-团渗透社群是通过邻接性路径连接的 $k$-团的最大联合。根据以上分析，恰好存在两个这样的社群。\n\n**社群 1 ($X$)：**\n该社群由环 $\\mathcal{A}$ 中所有团的并集形成。此社群的节点集，记为 $X$，是这些团中节点的并集：\n$$ X = \\bigcup_{i=0}^{5} C_{A,i} = \\{a_0, a_1, a_2, a_3, a_4, a_5\\} $$\n该社群中的节点数为 $|X| = 6$。\n\n**社群 2 ($Y$)：**\n该社群由环 $\\mathcal{B}$ 中所有团的并集形成。此社群的节点集，记为 $Y$，是：\n$$ Y = \\bigcup_{j=0}^{7} C_{B,j} = \\{b_0, b_1, b_2, b_3, b_4, b_5, b_6, b_7\\} $$\n该社群中的节点数为 $|Y| = 8$。\n\n属于多个社群的节点是节点集 $X$ 和 $Y$ 的交集中的节点。\n$$ X \\cap Y = \\{a_0, a_1, a_2, a_3, a_4, a_5\\} \\cap \\{b_0, b_1, \\dots, b_7\\} $$\n鉴于 $a_0 = b_0 = x$ 是唯一的共享节点，交集为：\n$$ X \\cap Y = \\{x\\} $$\n重叠节点的数量为 $|X \\cap Y| = 1$。唯一的重叠节点是 $x$。\n\n### 第 4 步：杰卡德相似系数\n\n两个集合 $X$ 和 $Y$ 之间的杰卡德相似系数定义为 $J(X,Y) = \\frac{|X \\cap Y|}{|X \\cup Y|}$。\n\n我们已经求得 $|X \\cap Y| = 1$。\n节点集并集的大小可以使用容斥原理计算：\n$$ |X \\cup Y| = |X| + |Y| - |X \\cap Y| $$\n代入已知值：\n$$ |X \\cup Y| = 6 + 8 - 1 = 13 $$\n该值是图 $G$ 中不同节点的总数。\n\n现在，我们可以计算杰卡德相似系数：\n$$ J(X,Y) = \\frac{|X \\cap Y|}{|X \\cup Y|} = \\frac{1}{13} $$\n分数 $\\frac{1}{13}$ 是最简形式。",
            "answer": "$$\\boxed{\\frac{1}{13}}$$"
        },
        {
            "introduction": "接下来，我们将探索一种完全不同的范式：基于矩阵分解的模型，特别是对称非负矩阵分解（Symmetric Nonnegative Matrix Factorization, SNMF）。这个练习不仅要求你执行迭代计算来揭示节点的混合成员身份，还要求你从第一性原理出发推导出其更新规则。通过这个过程，你将体验到如何将抽象的优化目标转化为具体的算法，并理解这些代数方法如何为社群分配“软”隶属度。",
            "id": "4295754",
            "problem": "考虑一个有 $n=4$ 个节点和 $r=2$ 个重叠社区的简单无向网络。设该网络由对称邻接矩阵表示\n$$\nA=\\begin{pmatrix}\n0  1  1  0 \\\\\n1  0  1  1 \\\\\n1  1  0  1 \\\\\n0  1  1  0\n\\end{pmatrix}.\n$$\n在使用对称非负矩阵分解（SNMF）进行重叠社区检测时，我们通过最小化以下目标函数来寻找一个非负隶属度矩阵 $U\\in\\mathbb{R}_{\\ge 0}^{n\\times r}$，其行编码了软隶属度关系：\n$$\n\\min_{U\\ge 0}\\; \\frac{1}{2}\\,\\|A-UU^{\\top}\\|_{F}^{2}.\n$$\n从这个目标函数出发，利用第一性原理（弗罗贝尼乌斯范数的定义、矩阵微积分以及针对非负约束的Karush–Kuhn–Tucker (KKT) 条件），推导出标准的乘法更新规则。该规则能保持非负性，并且已知在对称情况下能使目标函数单调递减。\n\n使用该更新规则，将隶属度矩阵初始化为\n$$\nU^{(0)}=\\begin{pmatrix}\n1  1 \\\\\n1  1 \\\\\n1  1 \\\\\n1  1\n\\end{pmatrix},\n$$\n并执行整整两次完整迭代以获得 $U^{(1)}$ 和 $U^{(2)}$。令 $S$ 表示第二次迭代后的总隶属度质量，\n$$\nS=\\sum_{i=1}^{n}\\sum_{k=1}^{r}U^{(2)}_{ik}.\n$$\n计算 $S$。请将最终答案表示为一个精确的有理数。无需单位。",
            "solution": "我们将首先推导乘法更新规则，然后应用该规则进行两次迭代。\n\n**第一部分：乘法更新规则的推导**\n\n目标是在 $U$ 的非负约束下最小化函数 $L(U)$：\n$$\n\\min_{U \\ge 0} L(U) = \\min_{U \\ge 0} \\frac{1}{2} \\|A - UU^{\\top}\\|_F^2\n$$\n这个约束优化问题的拉格朗日函数是：\n$$\n\\mathcal{L}(U, \\Lambda) = L(U) - \\sum_{i=1}^{n}\\sum_{k=1}^{r} \\Lambda_{ik} U_{ik}\n$$\n其中 $\\Lambda_{ik} \\ge 0$ 是与约束 $U_{ik} \\ge 0$ 相关联的 Karush-Kuhn-Tucker (KKT) 乘子。\n\n第一步是计算 $L(U)$ 相对于元素 $U_{ab}$ 的梯度。\n$$\nL(U) = \\frac{1}{2}\\sum_{i=1}^{n}\\sum_{j=1}^{n} \\left(A_{ij} - (UU^{\\top})_{ij}\\right)^2 = \\frac{1}{2}\\sum_{i,j} \\left(A_{ij} - \\sum_{k=1}^{r} U_{ik}U_{jk}\\right)^2\n$$\n关于 $U_{ab}$ 的偏导数是：\n$$\n\\frac{\\partial L}{\\partial U_{ab}} = \\sum_{i,j} \\left(A_{ij} - \\sum_{k} U_{ik}U_{jk}\\right) \\left(-\\frac{\\partial}{\\partial U_{ab}}\\sum_{k} U_{ik}U_{jk}\\right)\n$$\n内层和的导数是：\n$$\n\\frac{\\partial}{\\partial U_{ab}}\\sum_{k} U_{ik}U_{jk} = \\sum_{k} \\left( \\delta_{ia}\\delta_{kb}U_{jk} + U_{ik}\\delta_{ja}\\delta_{kb} \\right) = \\delta_{ia}U_{jb} + U_{ib}\\delta_{ja}\n$$\n将其代回梯度表达式：\n$$\n\\frac{\\partial L}{\\partial U_{ab}} = -\\sum_{i,j} (A_{ij} - (UU^{\\top})_{ij}) (\\delta_{ia}U_{jb} + U_{ib}\\delta_{ja}) = -\\sum_{j} (A_{aj} - (UU^{\\top})_{aj})U_{jb} - \\sum_{i} (A_{ib} - (UU^{\\top})_{ib})U_{ib}\n$$\n由于 $A$ 和 $UU^{\\top}$ 都是对称的，这两项是相同的。因此：\n$$\n\\frac{\\partial L}{\\partial U_{ab}} = -2 \\sum_{j} (A_{aj} - (UU^{\\top})_{aj}) U_{jb} = -2\\left((AU)_{ab} - (UU^{\\top}U)_{ab}\\right) = 2\\left((UU^{\\top}U)_{ab} - (AU)_{ab}\\right)\n$$\nKKT 平稳性条件是 $\\frac{\\partial \\mathcal{L}}{\\partial U_{ab}} = \\frac{\\partial L}{\\partial U_{ab}} - \\Lambda_{ab} = 0$，这得到 $\\Lambda_{ab} = 2((UU^{\\top}U)_{ab} - (AU)_{ab})$。\nKKT 互补松弛条件是 $\\Lambda_{ab}U_{ab} = 0$。将这些结合起来得到：\n$$\n\\left( (UU^{\\top}U)_{ab} - (AU)_{ab} \\right) U_{ab} = 0\n$$\n这是一个不动点方程。可以通过重新整理它来推导出乘法更新规则：\n$$\n(UU^{\\top}U)_{ab} U_{ab} = (AU)_{ab} U_{ab}\n$$\n这启发了以下更新规则：\n$$\nU_{ab} \\leftarrow U_{ab} \\frac{(AU)_{ab}}{(UU^{\\top}U)_{ab}}\n$$\n这是标准的乘法更新规则。对于迭代 $t$，其迭代形式为：\n$$\nU^{(t+1)}_{ik} = U^{(t)}_{ik} \\frac{(A U^{(t)})_{ik}}{(U^{(t)} (U^{(t)})^{\\top} U^{(t)})_{ik}}\n$$\n\n**第二部分：迭代计算**\n\n给定：\n$$\nA = \\begin{pmatrix} 0  1  1  0 \\\\ 1  0  1  1 \\\\ 1  1  0  1 \\\\ 0  1  1  0 \\end{pmatrix}, \\quad U^{(0)} = \\begin{pmatrix} 1  1 \\\\ 1  1 \\\\ 1  1 \\\\ 1  1 \\end{pmatrix}\n$$\n\n**迭代 1：计算 $U^{(1)}$**\n\n分子项 $N^{(0)} = A U^{(0)}$：\n$$\nA U^{(0)} = \\begin{pmatrix} 0  1  1  0 \\\\ 1  0  1  1 \\\\ 1  1  0  1 \\\\ 0  1  1  0 \\end{pmatrix} \\begin{pmatrix} 1  1 \\\\ 1  1 \\\\ 1  1 \\\\ 1  1 \\end{pmatrix} = \\begin{pmatrix} 2  2 \\\\ 3  3 \\\\ 3  3 \\\\ 2  2 \\end{pmatrix}\n$$\n分母项 $D^{(0)} = U^{(0)} (U^{(0)})^{\\top} U^{(0)}$：\n$$\n(U^{(0)})^{\\top} U^{(0)} = \\begin{pmatrix} 1  1  1  1 \\\\ 1  1  1  1 \\end{pmatrix} \\begin{pmatrix} 1  1 \\\\ 1  1 \\\\ 1  1 \\\\ 1  1 \\end{pmatrix} = \\begin{pmatrix} 4  4 \\\\ 4  4 \\end{pmatrix}\n$$\n$$\nD^{(0)} = U^{(0)} \\left( (U^{(0)})^{\\top} U^{(0)} \\right) = \\begin{pmatrix} 1  1 \\\\ 1  1 \\\\ 1  1 \\\\ 1  1 \\end{pmatrix} \\begin{pmatrix} 4  4 \\\\ 4  4 \\end{pmatrix} = \\begin{pmatrix} 8  8 \\\\ 8  8 \\\\ 8  8 \\\\ 8  8 \\end{pmatrix}\n$$\n应用更新规则（其中 $\\odot$ 是逐元素乘法，除法也是逐元素的）：\n$$\nU^{(1)} = U^{(0)} \\odot \\frac{N^{(0)}}{D^{(0)}} = \\begin{pmatrix} 1  1 \\\\ 1  1 \\\\ 1  1 \\\\ 1  1 \\end{pmatrix} \\odot \\begin{pmatrix} \\frac{2}{8}  \\frac{2}{8} \\\\ \\frac{3}{8}  \\frac{3}{8} \\\\ \\frac{3}{8}  \\frac{3}{8} \\\\ \\frac{2}{8}  \\frac{2}{8} \\end{pmatrix} = \\begin{pmatrix} \\frac{1}{4}  \\frac{1}{4} \\\\ \\frac{3}{8}  \\frac{3}{8} \\\\ \\frac{3}{8}  \\frac{3}{8} \\\\ \\frac{1}{4}  \\frac{1}{4} \\end{pmatrix}\n$$\n\n**迭代 2：计算 $U^{(2)}$**\n\n分子项 $N^{(1)} = A U^{(1)}$：\n$$\nA U^{(1)} = \\begin{pmatrix} 0  1  1  0 \\\\ 1  0  1  1 \\\\ 1  1  0  1 \\\\ 0  1  1  0 \\end{pmatrix} \\begin{pmatrix} \\frac{1}{4}  \\frac{1}{4} \\\\ \\frac{3}{8}  \\frac{3}{8} \\\\ \\frac{3}{8}  \\frac{3}{8} \\\\ \\frac{1}{4}  \\frac{1}{4} \\end{pmatrix} = \\begin{pmatrix} \\frac{3}{8}+\\frac{3}{8}  \\frac{3}{8}+\\frac{3}{8} \\\\ \\frac{1}{4}+\\frac{3}{8}+\\frac{1}{4}  \\frac{1}{4}+\\frac{3}{8}+\\frac{1}{4} \\\\ \\frac{1}{4}+\\frac{3}{8}+\\frac{1}{4}  \\frac{1}{4}+\\frac{3}{8}+\\frac{1}{4} \\\\ \\frac{3}{8}+\\frac{3}{8}  \\frac{3}{8}+\\frac{3}{8} \\end{pmatrix} = \\begin{pmatrix} \\frac{6}{8}  \\frac{6}{8} \\\\ \\frac{7}{8}  \\frac{7}{8} \\\\ \\frac{7}{8}  \\frac{7}{8} \\\\ \\frac{6}{8}  \\frac{6}{8} \\end{pmatrix} = \\begin{pmatrix} \\frac{3}{4}  \\frac{3}{4} \\\\ \\frac{7}{8}  \\frac{7}{8} \\\\ \\frac{7}{8}  \\frac{7}{8} \\\\ \\frac{3}{4}  \\frac{3}{4} \\end{pmatrix}\n$$\n分母项 $D^{(1)} = U^{(1)} (U^{(1)})^{\\top} U^{(1)}$：\n$$\n(U^{(1)})^{\\top} U^{(1)} = \\begin{pmatrix} \\frac{1}{4}  \\frac{3}{8}  \\frac{3}{8}  \\frac{1}{4} \\\\ \\frac{1}{4}  \\frac{3}{8}  \\frac{3}{8}  \\frac{1}{4} \\end{pmatrix} \\begin{pmatrix} \\frac{1}{4}  \\frac{1}{4} \\\\ \\frac{3}{8}  \\frac{3}{8} \\\\ \\frac{3}{8}  \\frac{3}{8} \\\\ \\frac{1}{4}  \\frac{1}{4} \\end{pmatrix} = \\begin{pmatrix} 2(\\frac{1}{16}) + 2(\\frac{9}{64})  2(\\frac{1}{16}) + 2(\\frac{9}{64}) \\\\ 2(\\frac{1}{16}) + 2(\\frac{9}{64})  2(\\frac{1}{16}) + 2(\\frac{9}{64}) \\end{pmatrix} = \\begin{pmatrix} \\frac{1}{8}+\\frac{9}{32}  \\frac{1}{8}+\\frac{9}{32} \\\\ \\frac{1}{8}+\\frac{9}{32}  \\frac{1}{8}+\\frac{9}{32} \\end{pmatrix} = \\begin{pmatrix} \\frac{13}{32}  \\frac{13}{32} \\\\ \\frac{13}{32}  \\frac{13}{32} \\end{pmatrix}\n$$\n$$\nD^{(1)} = U^{(1)} \\left( (U^{(1)})^{\\top} U^{(1)} \\right) = \\begin{pmatrix} \\frac{1}{4}  \\frac{1}{4} \\\\ \\frac{3}{8}  \\frac{3}{8} \\\\ \\frac{3}{8}  \\frac{3}{8} \\\\ \\frac{1}{4}  \\frac{1}{4} \\end{pmatrix} \\begin{pmatrix} \\frac{13}{32}  \\frac{13}{32} \\\\ \\frac{13}{32}  \\frac{13}{32} \\end{pmatrix} = \\begin{pmatrix} \\frac{1}{2}(\\frac{13}{32})  \\frac{1}{2}(\\frac{13}{32}) \\\\ \\frac{3}{4}(\\frac{13}{32})  \\frac{3}{4}(\\frac{13}{32}) \\\\ \\frac{3}{4}(\\frac{13}{32})  \\frac{3}{4}(\\frac{13}{32}) \\\\ \\frac{1}{2}(\\frac{13}{32})  \\frac{1}{2}(\\frac{13}{32}) \\end{pmatrix} = \\begin{pmatrix} \\frac{13}{64}  \\frac{13}{64} \\\\ \\frac{39}{128}  \\frac{39}{128} \\\\ \\frac{39}{128}  \\frac{39}{128} \\\\ \\frac{13}{64}  \\frac{13}{64} \\end{pmatrix}\n$$\n应用更新规则计算 $U^{(2)}$：\n$$\nU^{(2)} = U^{(1)} \\odot \\frac{N^{(1)}}{D^{(1)}}\n$$\n对于第 1 行和第 4 行：\n$U^{(2)}_{1k} = U^{(2)}_{4k} = U^{(1)}_{1k} \\frac{N^{(1)}_{1k}}{D^{(1)}_{1k}} = \\frac{1}{4} \\frac{\\frac{3}{4}}{\\frac{13}{64}} = \\frac{1}{4} \\frac{3}{4} \\frac{64}{13} = \\frac{3 \\times 16}{4 \\times 13} = \\frac{12}{13}$\n对于第 2 行和第 3 行：\n$U^{(2)}_{2k} = U^{(2)}_{3k} = U^{(1)}_{2k} \\frac{N^{(1)}_{2k}}{D^{(1)}_{2k}} = \\frac{3}{8} \\frac{\\frac{7}{8}}{\\frac{39}{128}} = \\frac{3}{8} \\frac{7}{8} \\frac{128}{39} = \\frac{21}{64} \\frac{128}{39} = \\frac{21 \\times 2}{39} = \\frac{42}{39} = \\frac{14}{13}$\n因此，两次迭代后的矩阵是：\n$$\nU^{(2)} = \\begin{pmatrix} \\frac{12}{13}  \\frac{12}{13} \\\\ \\frac{14}{13}  \\frac{14}{13} \\\\ \\frac{14}{13}  \\frac{14}{13} \\\\ \\frac{12}{13}  \\frac{12}{13} \\end{pmatrix}\n$$\n\n**第三部分：计算总隶属度质量 S**\n\n总隶属度质量 $S$ 是 $U^{(2)}$ 中所有元素的和：\n$$\nS = \\sum_{i=1}^{4}\\sum_{k=1}^{2} U^{(2)}_{ik} = 2 \\times \\frac{12}{13} + 2 \\times \\frac{14}{13} + 2 \\times \\frac{14}{13} + 2 \\times \\frac{12}{13}\n$$\n$$\nS = 2 \\left( \\frac{12}{13} + \\frac{14}{13} + \\frac{14}{13} + \\frac{12}{13} \\right) = 2 \\left( \\frac{12+14+14+12}{13} \\right) = 2 \\left( \\frac{52}{13} \\right) = 2 \\times 4 = 8\n$$",
            "answer": "$$ \\boxed{8} $$"
        }
    ]
}