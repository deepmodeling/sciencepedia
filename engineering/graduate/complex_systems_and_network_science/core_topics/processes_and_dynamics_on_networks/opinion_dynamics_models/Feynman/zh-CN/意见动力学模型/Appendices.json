{
    "hands_on_practices": [
        {
            "introduction": "Hegselmann-Krause (HK) 模型是研究有界信任观点动力学的基石。该模型假设个体只会考虑与自身观点足够“接近”的其他人的观点。这个练习 () 提供了一个具体的分步计算，旨在帮助您理解在一个“信任半径” $\\epsilon$ 内，观点是如何通过局部平均进行演化的。通过亲手计算，您将掌握导致共识或观点簇形成的基本机制。",
            "id": "4294959",
            "problem": "考虑一个由 $n$ 个智能体组成的群体，其标量观点根据 Hegselmann–Krause (HK) 有界置信模型演化。在每次同步更新中，每个智能体都将其观点替换为所有观点位于以其自身当前观点为中心、半径为 $\\epsilon$ 的闭置信区间内的所有智能体（包括其自身）的观点的算术平均值。假设交互拓扑是完全的，并且置信界限是同质的。\n\n在时间 $t=0$ 时，有 $n=8$ 个智能体，其有序观点如下\n$$\nx_{1}(0)=0.03,\\quad x_{2}(0)=0.12,\\quad x_{3}(0)=0.20,\\quad x_{4}(0)=0.36,\\quad x_{5}(0)=0.41,\\quad x_{6}(0)=0.53,\\quad x_{7}(0)=0.74,\\quad x_{8}(0)=0.84,\n$$\n置信界限为 $\\epsilon=0.12$。根据上述 HK 规则，计算一次同步迭代后的更新观点向量 $x(1)$。将恰好等于 $\\epsilon$ 的距离视为包含在邻域内，并将每个智能体自身的观点包含在其邻域内。\n\n请以最简精确有理数的形式，使用 $\\begin{pmatrix}$ 格式的单行向量给出最终答案。不需要四舍五入，也不涉及单位。",
            "solution": "Hegselmann–Krause (HK) 有界置信更新规则是一个基础的观点动力学机制，其中在每个同步步骤中，每个智能体都对其观点在以自身当前观点为中心、半径为 $\\epsilon$ 的对称置信区间内的那些智能体的观点进行平均。该规则基于两个核心定义：(i) 通过绝对差测量的观点空间中的度量邻近性，以及 (ii) 在由置信区间定义的邻域上进行局部平均（算术平均值）。我们直接应用这个定义。\n\n设 $x_{i}(0)$ 表示智能体 $i$ 在时间 $t=0$ 时的观点。对于每个智能体 $i\\in\\{1,\\dots,8\\}$，将其在时间 $t=0$ 时的邻域定义为满足 $|x_{j}(0)-x_{i}(0)|\\leq \\epsilon$ 的索引 $j$ 的集合，其中智能体本身也包括在内。那么 $x_{i}(1)$ 是 $\\{x_{j}(0): j \\text{ 在 } i \\text{ 的邻域内}\\}$ 的算术平均值。\n\n我们以 $\\epsilon=0.12$ 对每个智能体逐一进行计算。\n\n智能体 1：$x_{1}(0)=0.03$。\n- 距离：$|0.12-0.03|=0.09\\leq 0.12$ 包含， $|0.20-0.03|=0.17>0.12$ 排除，其他所有距离都更大，因此排除。\n- 邻域索引：$\\{1,2\\}$。\n- 更新：$x_{1}(1)=\\frac{0.03+0.12}{2}$。以分数形式表示，$0.03=\\frac{3}{100}$ 且 $0.12=\\frac{3}{25}=\\frac{12}{100}$，所以\n$$\nx_{1}(1)=\\frac{\\frac{3}{100}+\\frac{12}{100}}{2}=\\frac{\\frac{15}{100}}{2}=\\frac{15}{200}=\\frac{3}{40}.\n$$\n\n智能体 2：$x_{2}(0)=0.12$。\n- 距离：$|0.03-0.12|=0.09\\leq 0.12$ 包含， $|0.20-0.12|=0.08\\leq 0.12$ 包含， $|0.36-0.12|=0.24>0.12$ 排除，其他距离更大，因此排除。\n- 邻域索引：$\\{1,2,3\\}$。\n- 更新：$x_{2}(1)=\\frac{0.03+0.12+0.20}{3}$。以分数形式表示，$0.20=\\frac{1}{5}=\\frac{20}{100}$，所以和为 $\\frac{3}{100}+\\frac{12}{100}+\\frac{20}{100}=\\frac{35}{100}=\\frac{7}{20}$，因此\n$$\nx_{2}(1)=\\frac{\\frac{7}{20}}{3}=\\frac{7}{60}.\n$$\n\n智能体 3：$x_{3}(0)=0.20$。\n- 距离：$|0.12-0.20|=0.08\\leq 0.12$ 包含， $|0.36-0.20|=0.16>0.12$ 排除， $|0.03-0.20|=0.17>0.12$ 排除，其他距离更大，因此排除。\n- 邻域索引：$\\{2,3\\}$。\n- 更新：$x_{3}(1)=\\frac{0.12+0.20}{2}$。以分数形式表示，$0.12=\\frac{3}{25}$ 且 $0.20=\\frac{1}{5}=\\frac{5}{25}$，所以\n$$\nx_{3}(1)=\\frac{\\frac{3}{25}+\\frac{5}{25}}{2}=\\frac{\\frac{8}{25}}{2}=\\frac{4}{25}.\n$$\n\n智能体 4：$x_{4}(0)=0.36$。\n- 距离：$|0.41-0.36|=0.05\\leq 0.12$ 包含， $|0.53-0.36|=0.17>0.12$ 排除， $|0.20-0.36|=0.16>0.12$ 排除，其他距离更大，因此排除。\n- 邻域索引：$\\{4,5\\}$。\n- 更新：$x_{4}(1)=\\frac{0.36+0.41}{2}$。以分数形式表示，$0.36=\\frac{36}{100}=\\frac{9}{25}$ 且 $0.41=\\frac{41}{100}$，所以和为 $\\frac{36}{100}+\\frac{41}{100}=\\frac{77}{100}$，因此\n$$\nx_{4}(1)=\\frac{\\frac{77}{100}}{2}=\\frac{77}{200}.\n$$\n\n智能体 5：$x_{5}(0)=0.41$。\n- 距离：$|0.36-0.41|=0.05\\leq 0.12$ 包含， $|0.53-0.41|=0.12\\leq 0.12$ 包含， $|0.20-0.41|=0.21>0.12$ 排除。其他距离更大，因此排除。\n- 邻域索引：$\\{4,5,6\\}$。\n- 更新：$x_{5}(1)=\\frac{0.36+0.41+0.53}{3}$。以分数形式表示，$0.53=\\frac{53}{100}$，所以和为 $\\frac{36+41+53}{100}=\\frac{130}{100}=\\frac{13}{10}$，因此\n$$\nx_{5}(1)=\\frac{\\frac{13}{10}}{3}=\\frac{13}{30}.\n$$\n\n智能体 6：$x_{6}(0)=0.53$。\n- 距离：$|0.41-0.53|=0.12\\leq 0.12$ 包含， $|0.74-0.53|=0.21>0.12$ 排除，其他距离更大，因此排除。\n- 邻域索引：$\\{5,6\\}$。\n- 更新：$x_{6}(1)=\\frac{0.41+0.53}{2}$。以分数形式表示，即为 $\\frac{\\frac{41}{100}+\\frac{53}{100}}{2}=\\frac{\\frac{94}{100}}{2}=\\frac{47}{100}$。\n\n智能体 7：$x_{7}(0)=0.74$。\n- 距离：$|0.84-0.74|=0.10\\leq 0.12$ 包含， $|0.53-0.74|=0.21>0.12$ 排除，其他距离更大，因此排除。\n- 邻域索引：$\\{7,8\\}$。\n- 更新：$x_{7}(1)=\\frac{0.74+0.84}{2}$。以分数形式表示，$\\frac{\\frac{74}{100}+\\frac{84}{100}}{2}=\\frac{\\frac{158}{100}}{2}=\\frac{79}{100}$。\n\n智能体 8：$x_{8}(0)=0.84$。\n- 距离：$|0.74-0.84|=0.10\\leq 0.12$ 包含，其他距离更大，因此排除。\n- 邻域索引：$\\{7,8\\}$。\n- 更新：$x_{8}(1)=\\frac{0.74+0.84}{2}=\\frac{79}{100}$，与智能体 7 相同。\n\n按顺序收集更新后的观点，我们得到\n$$\nx(1)=\\left(\\frac{3}{40},\\ \\frac{7}{60},\\ \\frac{4}{25},\\ \\frac{77}{200},\\ \\frac{13}{30},\\ \\frac{47}{100},\\ \\frac{79}{100},\\ \\frac{79}{100}\\right).\n$$\n所有条目都是最简精确有理数。",
            "answer": "$$\\boxed{\\begin{pmatrix}\\frac{3}{40} & \\frac{7}{60} & \\frac{4}{25} & \\frac{77}{200} & \\frac{13}{30} & \\frac{47}{100} & \\frac{79}{100} & \\frac{79}{100}\\end{pmatrix}}$$"
        },
        {
            "introduction": "与有界信任模型不同，DeGroot 模型是一个基本的线性共识协议，其中个体间的影响力权重是固定的。这个练习 () 将超越单步更新，专注于预测系统的最终平衡状态。此项实践的核心技能在于计算影响网络的稳态分布，该分布量化了每个代理的长期影响力，并利用它来精确确定最终的共识值，而无需逐步模拟整个动态过程。",
            "id": "4294973",
            "problem": "考虑一个由三个智能体组成的网络，标记为 $1$、$2$ 和 $3$。它们的交互结构是一个加权有向图，该图为 DeGroot 观点动力学模型导出了一个行随机影响矩阵 $W \\in \\mathbb{R}^{3 \\times 3}$，其中观点向量 $x(t) \\in \\mathbb{R}^{3}$ 的更新规则为 $x(t+1)=W x(t)$。非零有向边及其权重如下：\n- 从智能体 $1$ 到智能体 $1$ 的权重为 $\\frac{1}{2}$，到智能体 $2$ 的权重为 $\\frac{1}{2}$。\n- 从智能体 $2$ 到智能体 $1$ 的权重为 $\\frac{1}{4}$，到智能体 $2$ 的权重为 $\\frac{1}{2}$，到智能体 $3$ 的权重为 $\\frac{1}{4}$。\n- 从智能体 $3$ 到智能体 $2$ 的权重为 $\\frac{1}{2}$，到智能体 $3$ 的权重为 $\\frac{1}{2}$。\n\n等价地，\n$$\nW=\\begin{pmatrix}\n\\frac{1}{2} & \\frac{1}{2} & 0 \\\\\n\\frac{1}{4} & \\frac{1}{2} & \\frac{1}{4} \\\\\n0 & \\frac{1}{2} & \\frac{1}{2}\n\\end{pmatrix}.\n$$\n\n假设初始观点为\n$$\nx(0)=\\begin{pmatrix}\n\\frac{3}{2} \\\\\n-\\frac{1}{2} \\\\\n\\frac{5}{2}\n\\end{pmatrix}.\n$$\n\n从 DeGroot 模型的基本定义和行随机矩阵的平稳分布概念出发，确定满足 $\\pi^{\\top}W=\\pi^{\\top}$ 和 $\\sum_{i=1}^{3}\\pi_{i}=1$ 的平稳分布 $\\pi=(\\pi_{1},\\pi_{2},\\pi_{3})$，并用它来预测当 $t \\to \\infty$ 时所有智能体趋近的极限共识值 $c$。报告单个实数 $c$。无需四舍五入。",
            "solution": "影响矩阵 $W$ 已明确给出：\n$$\nW=\\begin{pmatrix}\n\\frac{1}{2} & \\frac{1}{2} & 0 \\\\\n\\frac{1}{4} & \\frac{1}{2} & \\frac{1}{4} \\\\\n0 & \\frac{1}{2} & \\frac{1}{2}\n\\end{pmatrix}\n$$\n这是一个行随机矩阵，因为每行元素的和为 $1$。在 $x(t+1)=Wx(t)$ 的更新规则下，条目 $W_{ij}$ 表示在更新智能体 $i$ 的观点时，分配给智能体 $j$ 观点的权重。与 $W$ 相关的有向图在 $W_{ij} > 0$ 时存在从节点 $j$ 到节点 $i$ 的边。这些边是 $1 \\to 1$、$2 \\to 1$、$1 \\to 2$、$2 \\to 2$、$3 \\to 2$、$2 \\to 3$ 和 $3 \\to 3$。\n该图是强连通的：\n- 从节点 $1$ 可以到达节点 $1$ 和 $2$。从节点 $2$ 可以到达节点 $3$。因此，$1 \\to 2 \\to 3$。\n- 从节点 $2$ 可以到达节点 $1$、$2$ 和 $3$。\n- 从节点 $3$ 可以到达节点 $2$ 和 $3$。从节点 $2$ 可以到达节点 $1$。因此，$3 \\to 2 \\to 1$。\n由于每个节点都可以到达其他任何节点，因此该图是强连通的。此外，由于所有对角元素 $W_{ii}$ 均为正，相关的马尔可夫链是非周期的。对应于强连通、非周期图的行随机矩阵是本原的。\n\n根据随机矩阵的 Perron-Frobenius 定理，这样的矩阵 $W$ 有一个单特征值 $\\lambda_1 = 1$，所有其他特征值的模都严格小于 $1$。对应于 $\\lambda_1 = 1$ 的左特征向量 $\\pi^{\\top}$ 是唯一的（在缩放意义下），并且可以被归一化，使其分量 $\\pi_i$ 为正且总和为 $1$。这个向量 $\\pi$ 是由 $W$ 定义的马尔可夫链的平稳分布。\n\n观点动力学演化为 $x(t) = W^t x(0)$。对于一个本原行随机矩阵 $W$，当 $t \\to \\infty$ 时，$W^t$ 的极限存在且由 $W^\\infty = \\mathbf{1}\\pi^\\top$ 给出，其中 $\\mathbf{1}$ 是全为 1 的列向量。因此，观点向量 $x(t)$ 收敛到一个共识状态：\n$$\n\\lim_{t \\to \\infty} x(t) = \\lim_{t \\to \\infty} W^t x(0) = (\\mathbf{1}\\pi^\\top) x(0) = \\mathbf{1}(\\pi^\\top x(0)) = \\begin{pmatrix} c \\\\ c \\\\ c \\end{pmatrix}\n$$\n共识值 $c$ 是初始观点的加权平均值，其中权重是平稳分布 $\\pi$ 的分量：\n$$\nc = \\pi^\\top x(0) = \\sum_{i=1}^{3} \\pi_i x_i(0)\n$$\n我们的第一步是通过求解由 $\\pi^\\top W = \\pi^\\top$ 定义的线性方程组，在归一化约束 $\\sum_{i=1}^{3} \\pi_i = 1$ 下，找到平稳分布 $\\pi = (\\pi_1, \\pi_2, \\pi_3)$。方程 $\\pi^\\top W = \\pi^\\top$ 等价于 $\\pi^\\top (W - I) = 0$，或 $(W^\\top - I)\\pi = 0$。\n\n$W$ 的转置是\n$$\nW^\\top = \\begin{pmatrix}\n\\frac{1}{2} & \\frac{1}{4} & 0 \\\\\n\\frac{1}{2} & \\frac{1}{2} & \\frac{1}{2} \\\\\n0 & \\frac{1}{4} & \\frac{1}{2}\n\\end{pmatrix}\n$$\n所以，$W^\\top - I$ 是\n$$\nW^\\top - I = \\begin{pmatrix}\n\\frac{1}{2}-1 & \\frac{1}{4} & 0 \\\\\n\\frac{1}{2} & \\frac{1}{2}-1 & \\frac{1}{2} \\\\\n0 & \\frac{1}{4} & \\frac{1}{2}-1\n\\end{pmatrix} = \\begin{pmatrix}\n-\\frac{1}{2} & \\frac{1}{4} & 0 \\\\\n\\frac{1}{2} & -\\frac{1}{2} & \\frac{1}{2} \\\\\n0 & \\frac{1}{4} & -\\frac{1}{2}\n\\end{pmatrix}\n$$\n方程组 $(W^\\top - I)\\pi = 0$ 是：\n1. $-\\frac{1}{2}\\pi_1 + \\frac{1}{4}\\pi_2 = 0$\n2. $\\frac{1}{2}\\pi_1 - \\frac{1}{2}\\pi_2 + \\frac{1}{2}\\pi_3 = 0$\n3. $\\frac{1}{4}\\pi_2 - \\frac{1}{2}\\pi_3 = 0$\n\n从方程(1)中，我们得到 $\\frac{1}{4}\\pi_2 = \\frac{1}{2}\\pi_1$，这意味着 $\\pi_2 = 2\\pi_1$。\n从方程(3)中，我们得到 $\\frac{1}{4}\\pi_2 = \\frac{1}{2}\\pi_3$，这意味着 $\\pi_2 = 2\\pi_3$，或者 $\\pi_3 = \\frac{1}{2}\\pi_2$。\n将 $\\pi_1 = \\frac{1}{2}\\pi_2$ 和 $\\pi_3 = \\frac{1}{2}\\pi_2$ 代入方程(2)得到：\n$$\n\\frac{1}{2}\\left(\\frac{1}{2}\\pi_2\\right) - \\frac{1}{2}\\pi_2 + \\frac{1}{2}\\left(\\frac{1}{2}\\pi_2\\right) = \\frac{1}{4}\\pi_2 - \\frac{1}{2}\\pi_2 + \\frac{1}{4}\\pi_2 = 0\n$$\n简化后得到 $0=0$。这证实了方程组的一致性。我们可以用 $\\pi_2$ 来表示 $\\pi_1$ 和 $\\pi_3$：$\\pi_1 = \\frac{1}{2}\\pi_2$ 和 $\\pi_3 = \\frac{1}{2}\\pi_2$。\n\n现在，我们使用归一化条件 $\\pi_1 + \\pi_2 + \\pi_3 = 1$：\n$$\n\\frac{1}{2}\\pi_2 + \\pi_2 + \\frac{1}{2}\\pi_2 = 1\n$$\n$$\n2\\pi_2 = 1 \\implies \\pi_2 = \\frac{1}{2}\n$$\n利用这个结果，我们找到其他分量：\n$$\n\\pi_1 = \\frac{1}{2}\\pi_2 = \\frac{1}{2}\\left(\\frac{1}{2}\\right) = \\frac{1}{4}\n$$\n$$\n\\pi_3 = \\frac{1}{2}\\pi_2 = \\frac{1}{2}\\left(\\frac{1}{2}\\right) = \\frac{1}{4}\n$$\n所以，平稳分布是 $\\pi = \\left(\\frac{1}{4}, \\frac{1}{2}, \\frac{1}{4}\\right)^\\top$。\n\n最后一步是使用初始观点向量 $x(0) = \\left(\\frac{3}{2}, -\\frac{1}{2}, \\frac{5}{2}\\right)^\\top$ 计算共识值 $c$：\n$$\nc = \\pi^\\top x(0) = \\pi_1 x_1(0) + \\pi_2 x_2(0) + \\pi_3 x_3(0)\n$$\n$$\nc = \\left(\\frac{1}{4}\\right)\\left(\\frac{3}{2}\\right) + \\left(\\frac{1}{2}\\right)\\left(-\\frac{1}{2}\\right) + \\left(\\frac{1}{4}\\right)\\left(\\frac{5}{2}\\right)\n$$\n$$\nc = \\frac{3}{8} - \\frac{1}{4} + \\frac{5}{8}\n$$\n为了对这些分数求和，我们使用公分母 $8$：\n$$\nc = \\frac{3}{8} - \\frac{2}{8} + \\frac{5}{8} = \\frac{3 - 2 + 5}{8} = \\frac{6}{8}\n$$\n$$\nc = \\frac{3}{4}\n$$\n所有智能体的观点将趋近的极限共识值是 $\\frac{3}{4}$。",
            "answer": "$$\\boxed{\\frac{3}{4}}$$"
        },
        {
            "introduction": "在观点动力学模型中引入社会对抗或逆向行为，会增加一个关键的复杂层次。这个练习 () 演示了一种强大的分析技术：平均场分析。您的任务是为一个由服从者和逆向者组成的混合群体建立动力学模型，并推导出一个关于逆向者比例的临界阈值。这个阈值标志着一个相变点：一旦超过该点，系统将无法达成共识，从而揭示了微观规则如何引出宏观集体现象。",
            "id": "4294933",
            "problem": "考虑一个无限、充分混合的智能体群体，其中每个智能体在离散时间 $t$ 持有二元观点 $s_{i}(t) \\in \\{-1, +1\\}$，并设群体磁化强度为 $m(t) = \\lim_{N \\to \\infty} \\frac{1}{N} \\sum_{i=1}^{N} s_{i}(t)$。在每次更新时，每个智能体从群体中均匀随机地抽取 $r$ 个观点（其中 $r \\geq 3$ 为奇数），此过程与其他智能体以及过去的抽样无关。如果智能体是服从者，它将确定这 $r$ 个抽样观点中的局部多数派符号并采纳之；如果智能体是逆向者，它将采纳该局部多数派符号的相反符号。智能体中有固定比例 $q \\in [0,1]$ 是逆向者，其余比例 $1-q$ 是服从者。假设抽样在智能体之间和时间上是独立的，并且抽样观点可以被视为从当前群体中进行的独立同分布（i.i.d.）抽取，其中 $\\mathbb{P}(s=+1) = \\frac{1+m(t)}{2}$。\n\n仅使用上述核心定义，在平均场极限下形式化此更新规则，并将时间 $t+1$ 的期望磁化强度表示为 $m(t)$ 和 $q$ 的函数。然后，确定临界逆向者比例 $q_{c}(r)$ 作为奇数组大小 $r$ 的函数的精确闭式表达式，使得对于所有 $q > q_{c}(r)$，在平均场动力学中不可能达成共识（非零稳定磁化强度）。您的答案必须是关于 $r$ 和标准数学常数、函数的单个解析表达式。不要提供不等式或方程作为最终答案；请提供 $q_{c}(r)$ 本身的表达式。无需四舍五入。",
            "solution": "设 $m(t)$ 为时间 $t$ 时群体的磁化强度。从群体中抽到一个+1观点的概率为 $p(t) = \\frac{1+m(t)}{2}$，抽到一个-1观点的概率为 $1-p(t) = \\frac{1-m(t)}{2}$。\n\n一个智能体抽取 $r$ 个观点。设 $k$ 为样本中+1观点的数量。由于抽样是独立同分布的，$k$ 服从二项分布：\n$$ \\mathbb{P}(k \\text{ 个正自旋}) = \\binom{r}{k} p(t)^k (1-p(t))^{r-k} $$\n由于 $r$ 是奇数，总存在唯一的多数派。如果 $k > r/2$，即等价于 $k \\geq \\frac{r+1}{2}$，则多数派为+1。如果 $k  r/2$，即等价于 $k \\leq \\frac{r-1}{2}$，则多数派为-1。\n\n设 $P_{maj+}$ 为样本中多数派为+1的概率。\n$$ P_{maj+} = \\sum_{k=(r+1)/2}^{r} \\binom{r}{k} p(t)^k (1-p(t))^{r-k} $$\n设 $P_{maj-}$ 为多数派为-1的概率。\n$$ P_{maj-} = \\sum_{k=0}^{(r-1)/2} \\binom{r}{k} p(t)^k (1-p(t))^{r-k} $$\n根据定义，$P_{maj+} + P_{maj-} = 1$。\n\n在时间 $t+1$，一个智能体更新其观点。\n- 服从者智能体（比例为 $1-q$）采纳多数派观点。其观点将以概率 $P_{maj+}$ 变为+1，以概率 $P_{maj-}$ 变为-1。\n- 逆向者智能体（比例为 $q$）采纳少数派观点。其观点将以概率 $P_{maj-}$ 变为+1，以概率 $P_{maj+}$ 变为-1。\n\n在时间 $t+1$ 时，一个随机选择的智能体的期望观点是两个子群体的加权平均：\n$$ E[s(t+1)] = (1-q) \\left( (+1)P_{maj+} + (-1)P_{maj-} \\right) + q \\left( (+1)P_{maj-} + (-1)P_{maj+} \\right) $$\n$$ E[s(t+1)] = (1-q)(P_{maj+} - P_{maj-}) - q(P_{maj+} - P_{maj-}) $$\n$$ E[s(t+1)] = (1-2q)(P_{maj+} - P_{maj-}) $$\n在平均场极限（$N \\to \\infty$）下，时间 $t+1$ 的磁化强度等于此期望值，$m(t+1) = E[s(t+1)]$。这给出了磁化强度的更新映射，$m(t+1) = F(m(t))$：\n$$ F(m) = (1-2q) \\left( \\sum_{k=(r+1)/2}^{r} \\binom{r}{k} p^k (1-p)^{r-k} - \\sum_{k=0}^{(r-1)/2} \\binom{r}{k} p^k (1-p)^{r-k} \\right) $$\n其中 $p = \\frac{1+m}{2}$。\n\n共识状态对应于一个稳定的不动点 $m^* \\neq 0$。状态 $m=0$ 对应于观点均等混合的无序状态。如果 $m=0$，则 $p=1/2$。由于二项式系数的对称性 $\\binom{r}{k} = \\binom{r}{r-k}$，当 $p=1/2$ 时我们有 $P_{maj+} = P_{maj-}$。因此，$F(0)=0$，意味着 $m^*=0$ 始终是一个不动点。\n\n如果不动点 $m^*=0$ 是稳定的，则共识不可能达成。不动点 $m^*$ 的稳定性由映射的导数 $|F'(m^*)|$ 决定。如果 $|F'(0)|  1$，不动点 $m^*=0$ 是稳定的；如果 $|F'(0)|  1$，则是不稳定的。这两种状态之间的转变发生在临界点 $|F'(0)|=1$ 处。\n\n我们需要计算 $F'(m)$ 并在 $m=0$ 处求值。\n我们有 $m(t+1) = F(m(t))$。让我们使用 $P_{maj-}=1-P_{maj+}$ 来表示 $F(m)$：\n$F(m) = (1-2q)(P_{maj+} - (1-P_{maj+})) = (1-2q)(2P_{maj+} - 1)$。\n使用链式法则，$F'(m) = \\frac{dF}{dm} = \\frac{dF}{dp} \\frac{dp}{dm}$。\n我们有 $\\frac{dp}{dm} = \\frac{d}{dm}\\left(\\frac{1+m}{2}\\right) = \\frac{1}{2}$。\n并且 $\\frac{dF}{dp} = (1-2q) \\frac{d}{dp}(2P_{maj+} - 1) = 2(1-2q)\\frac{dP_{maj+}}{dp}$。\n所以，$F'(m) = (1-2q)\\frac{dP_{maj+}}{dp}$。\n\n我们需要计算 $\\frac{dP_{maj+}}{dp}$。\n$$ \\frac{dP_{maj+}}{dp} = \\frac{d}{dp} \\sum_{k=(r+1)/2}^{r} \\binom{r}{k} p^k (1-p)^{r-k} $$\n根据一个已知结果，这个导数可以简化为：\n$$ \\frac{d}{dp} \\sum_{k=K}^{r} \\binom{r}{k} p^k (1-p)^{r-k} = r\\binom{r-1}{K-1} p^{K-1}(1-p)^{r-K} $$\n在我们的情况中，$K=\\frac{r+1}{2}$。所以，$K-1 = \\frac{r-1}{2}$ 且 $r-K = r - \\frac{r+1}{2} = \\frac{r-1}{2}$。\n$$ \\frac{dP_{maj+}}{dp} = r \\binom{r-1}{(r-1)/2} p^{(r-1)/2} (1-p)^{(r-1)/2} $$\n我们在 $m=0$ 处（对应于 $p=1/2$）对该式求值。\n$$ \\left. \\frac{dP_{maj+}}{dp} \\right|_{p=1/2} = r \\binom{r-1}{(r-1)/2} \\left(\\frac{1}{2}\\right)^{(r-1)/2} \\left(\\frac{1}{2}\\right)^{(r-1)/2} = r \\binom{r-1}{(r-1)/2} \\left(\\frac{1}{2}\\right)^{r-1} $$\n现在我们可以计算 $F'(0)$：\n$$ F'(0) = (1-2q) \\left. \\frac{dP_{maj+}}{dp} \\right|_{p=1/2} = (1-2q) r \\binom{r-1}{(r-1)/2} \\left(\\frac{1}{2}\\right)^{r-1} $$\n当 $q  1/2$ 时，$F'(0) \\ge 0$。临界条件是 $F'(0) = 1$。临界比例 $q_c(r)$ 是满足此条件的 $q$ 的值。\n$$ 1 = (1-2q_c) r \\binom{r-1}{(r-1)/2} 2^{-(r-1)} $$\n求解 $q_c$：\n$$ 1-2q_c = \\frac{2^{r-1}}{r \\binom{r-1}{(r-1)/2}} $$\n$$ 2q_c = 1 - \\frac{2^{r-1}}{r \\binom{r-1}{(r-1)/2}} $$\n$$ q_c(r) = \\frac{1}{2} \\left( 1 - \\frac{2^{r-1}}{r \\binom{r-1}{(r-1)/2}} \\right) $$\n对于 $q > q_c(r)$，我们有 $F'(0)  1$。在这种情况下，无序状态 $m^*=0$ 是稳定的，任何偏离 $m=0$ 的小扰动都会衰减。因此，共识不可能达成。临界逆向者比例的最终闭式表达式如上所推导。",
            "answer": "$$\n\\boxed{\\frac{1}{2} - \\frac{2^{r-2}}{r \\binom{r-1}{\\frac{r-1}{2}}}}\n$$"
        }
    ]
}