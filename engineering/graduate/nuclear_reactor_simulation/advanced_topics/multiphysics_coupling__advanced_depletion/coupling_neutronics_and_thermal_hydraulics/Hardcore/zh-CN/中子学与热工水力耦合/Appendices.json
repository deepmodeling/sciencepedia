{
    "hands_on_practices": [
        {
            "introduction": "本练习展示了从热工水力学到中子学的最直接联系：反应性反馈。通过使用一个简化的线性模型，我们可以快速估算燃料温度的变化如何影响反应堆的临界状态和功率趋势，这是反应堆安全分析的基石。这个实践旨在阐明温度系数在量化这种固有安全特性中的核心作用。",
            "id": "4220228",
            "problem": "一个空间集总的反应堆节点初始处于稳态，燃料温度为 $T_0$，中子数对应于额定运行工况下净反应性为零。局部燃料温度反应性系数在额定工况下定义为导数 $\\alpha_T \\equiv \\left.\\frac{d \\rho}{d T}\\right|_{T_0}$，其中 $\\rho$ 是无量纲的反应性，$T$ 是燃料温度。对于此节点，精确的微扰测量给出 $\\alpha_T = -3.62 \\times 10^{-5}\\ \\mathrm{K}^{-1}$。\n\n一次热工水力微扰在一个短时间间隔内使燃料温度均匀增加了 $\\Delta T = 50\\ \\mathrm{K}$，而在此期间冷却剂边界条件近似保持不变。假设函数关系 $\\rho(T)$ 在 $T_0$ 的邻域内是光滑的，并且关于 $T_0$ 的一阶近似在 $\\Delta T$ 跨越的区间内有效。\n\n仅使用温度系数的定义和线性化的第一性原理，推导由温度上升引起的反应性一阶变化的表达式，并计算其数值。然后，基于包含缓发中子的点堆动力学方程（PKE），定性解释此反馈后中子功率的瞬时趋势以及短期内温度-反应性耦合的作用，同时忽略其他反馈并假设没有外部反应性引入。\n\n将计算出的反应性变化表示为无量纲小数，并将您的答案四舍五入至三位有效数字。",
            "solution": "在尝试求解之前，对问题陈述进行验证。\n\n### 第 1 步：提取已知条件\n- 初始状态：稳态，净反应性为零。\n- 初始燃料温度：$T_0$。\n- 局部燃料温度反应性系数：$\\alpha_T \\equiv \\left.\\frac{d \\rho}{d T}\\right|_{T_0} = -3.62 \\times 10^{-5}\\ \\mathrm{K}^{-1}$。\n- 燃料温度微扰：$\\Delta T = 50\\ \\mathrm{K}$。\n- 假设：函数 $\\rho(T)$ 在 $T_0$ 附近是光滑的。\n- 假设：关于 $T_0$ 的 $\\rho(T)$ 的一阶近似是有效的。\n- 任务 1：推导反应性一阶变化 $\\Delta \\rho$ 的表达式。\n- 任务 2：计算 $\\Delta \\rho$ 的数值。\n- 任务 3：定性解释中子功率的瞬时趋势以及温度-反应性耦合的作用。\n- 约束条件：忽略其他反馈；无外部反应性引入。\n\n### 第 2 步：使用提取的已知条件进行验证\n1.  **科学依据**：该问题基于反应堆物理学的基本原理，特别是反应性反馈的概念，这是核反应堆动力学和安全性的一个关键方面。温度反应性系数的定义及其通过线性化的应用是标准的教科书步骤。$\\alpha_T$ 的数值对于轻水慢化堆是符合实际的。\n2.  **适定的**：问题定义清晰。它提供了所有必要的数据（$\\alpha_T$, $\\Delta T$）和一个关键的建模假设（一阶近似有效），以确定反应性变化的唯一数值解。定性部分也是适定的，要求基于点堆动力学方程的既定框架进行解释。\n3.  **客观的**：问题以精确、定量且无偏见的技术语言陈述。它没有歧义或主观论断。\n\n### 第 3 步：结论与行动\n该问题是有效的，因为它科学合理、适定且客观。它满足了一个有效科学问题的所有标准。将制定解决方案。\n\n***\n\n问题的核心在于应用一阶泰勒级数展开，来近似一个函数在其自变量发生微小扰动时的变化。在这里，函数是反应性 $\\rho$，自变量是燃料温度 $T$。\n\n问题陈述了函数关系 $\\rho(T)$ 在初始稳态温度 $T_0$ 的邻域内是光滑的。这允许我们使用围绕 $T_0$ 的泰勒展开式来表示新温度 $T = T_0 + \\Delta T$ 下的反应性 $\\rho$：\n$$\n\\rho(T) = \\rho(T_0) + \\left.\\frac{d\\rho}{dT}\\right|_{T_0}(T - T_0) + \\frac{1}{2!}\\left.\\frac{d^2\\rho}{dT^2}\\right|_{T_0}(T - T_0)^2 + \\dots\n$$\n问题指明一阶近似是有效的。这意味着我们可以忽略二阶及更高阶的项。表达式简化为：\n$$\n\\rho(T) \\approx \\rho(T_0) + \\left.\\frac{d\\rho}{dT}\\right|_{T_0}(T - T_0)\n$$\n反应性的变化 $\\Delta \\rho$ 定义为新反应性 $\\rho(T)$ 与初始反应性 $\\rho(T_0)$ 之差：\n$$\n\\Delta \\rho = \\rho(T) - \\rho(T_0)\n$$\n代入 $\\rho(T)$ 的一阶近似，我们得到：\n$$\n\\Delta \\rho \\approx \\left( \\rho(T_0) + \\left.\\frac{d\\rho}{dT}\\right|_{T_0}(T - T_0) \\right) - \\rho(T_0)\n$$\n这简化为反应性一阶变化的表达式：\n$$\n\\Delta \\rho \\approx \\left.\\frac{d\\rho}{dT}\\right|_{T_0}(T - T_0)\n$$\n问题提供了右侧各项的定义。温度反应性系数是 $\\alpha_T \\equiv \\left.\\frac{d\\rho}{dT}\\right|_{T_0}$，温度变化是 $\\Delta T = T - T_0$。因此，推导出的表达式为：\n$$\n\\Delta \\rho \\approx \\alpha_T \\Delta T\n$$\n现在，我们使用给定的数据计算数值：\n$\\alpha_T = -3.62 \\times 10^{-5}\\ \\mathrm{K}^{-1}$ 和 $\\Delta T = 50\\ \\mathrm{K}$。\n$$\n\\Delta \\rho \\approx (-3.62 \\times 10^{-5}\\ \\mathrm{K}^{-1}) \\times (50\\ \\mathrm{K})\n$$\n$$\n\\Delta \\rho \\approx -181 \\times 10^{-5}\n$$\n$$\n\\Delta \\rho \\approx -0.00181\n$$\n这个值是无量纲的，符合反应性的要求。结果有三位有效数字，与输入 $\\alpha_T$ 的精度一致。\n\n接下来，我们进行定性解释。计算出的反应性变化 $\\Delta \\rho \\approx -0.00181$ 是负值。这是向反应堆堆芯引入了负反应性。总中子数 $N(t)$ 的动态行为，以及由此决定的反应堆功率，均由点堆动力学方程（PKE）控制。一个简化的中子数PKE形式如下：\n$$\n\\frac{dN}{dt} = \\frac{\\rho(t) - \\beta}{\\Lambda}N(t) + \\sum_{i=1}^{M} \\lambda_i C_i(t)\n$$\n其中 $\\beta$ 是总的缓发中子份额，$\\Lambda$ 是瞬发中子代时间，$\\lambda_i$ 是缓发中子先驱核的衰变常数，而 $C_i(t)$ 是这些先驱核的浓度。\n\n最初，反应堆处于稳态，因此 $\\rho = 0$ 且 $\\frac{dN}{dt} = 0$。温度微扰引入了负反应性，$\\rho = \\Delta \\rho = -0.00181$。PKE 中的 $\\frac{\\rho(t) - \\beta}{\\Lambda}$ 项立即变得更负。这导致中子数的时间导数 $\\frac{dN}{dt}$ 变为负值。因此，中子数以及反应堆功率将立即开始下降。\n\n在这种情况下，温度-反应性耦合的作用是一种负反馈机制。这是反应堆固有安全性的一个关键特征。事件的顺序如下：\n1.  热扰动导致燃料温度升高（$\\Delta T  0$）。\n2.  负的温度反应性系数（$\\alpha_T  0$）将此温度变化与中子学耦合，从而引入负的反应性变化（$\\Delta \\rho  0$）。\n3.  这种负反应性导致裂变率和反应堆功率下降。\n4.  功率的降低导致燃料中产生的热量减少，这抵消了最初的温度升高，从而使反应堆稳定下来。\n这种自我调节行为确保了瞬态的温度升高会得到一个自然地将系统推回到稳定的、较低功率状态的响应，从而防止不受控制的功率漂移。这是反应堆设计中非能动安全的一个基本原则。",
            "answer": "$$\\boxed{-0.00181}$$"
        },
        {
            "introduction": "本练习关注耦合循环的另一面，即中子功率的产生如何驱动热工水力学的变化。通过应用能量守恒原理，我们可以计算出冷却剂流经受热通道时的温升。这项基本计算是反应堆堆芯热工设计和安全限值分析的基础。",
            "id": "4220249",
            "problem": "一单相液体冷却剂稳定地流过一个均匀横截面的直反应堆子通道，其长度为 $L$，流通面积为 $A_c$。周围的燃料产生一个空间均匀的体积裂变功率密度 $q'''$（由于在此运行工况下中子通量形状平坦，假定在 $0 \\le z \\le L$ 范围内轴向均匀）。所有的裂变热都沿着通道传递给冷却剂，且以下假设成立：稳态、一维轴向流动、固体和流体中的轴向热传导可忽略不计、动能和势能变化可忽略不计、在所关心的温度范围内冷却剂的比热容 $c_p$ 恒定。质量流量 $\\dot{m}$ 沿着通道保持恒定。使用热力学第一定律对冷却剂的微分控制体进行分析，以确定出口整体温升 $\\Delta T = T_{\\mathrm{out}} - T_{\\mathrm{in}}$。\n\n给定的数值为：\n- 通道长度 $L = 3.6\\ \\mathrm{m}$，\n- 通道流通面积 $A_c = 8.0 \\times 10^{-4}\\ \\mathrm{m}^2$，\n- 冷却剂质量流量 $\\dot{m} = 0.800\\ \\mathrm{kg/s}$，\n- 冷却剂比热容 $c_p = 4.200 \\times 10^{3}\\ \\mathrm{J/(kg\\,K)}$，\n- 对冷却剂的有效均匀体积加热率 $q''' = 1.20 \\times 10^{8}\\ \\mathrm{W/m^3}$。\n\n从适用于有体积加热的稳态一维流动的能量守恒方程出发，推导出 $\\Delta T$ 的表达式并计算其值。最终答案以开尔文为单位表示，并四舍五入到四位有效数字。",
            "solution": "该问题经评估是有效的，因为它以热力学第一定律为科学基础，内容自洽、问题适定、客观，并提出了一个核反应堆热工水力学中的标准、可解的情景。\n\n目标是确定流经加热通道的冷却剂的整体温升 $\\Delta T = T_{\\mathrm{out}} - T_{\\mathrm{in}}$。我们首先对冷却剂的一个微分控制体应用热力学第一定律。\n\n考虑冷却剂流体的一个微分控制体 $CV$。该 $CV$ 是通道的一个薄片，垂直于流动方向，位于轴向位置 $z$ 处，厚度为 $dz$。该微元的体积为 $dV = A_c dz$，其中 $A_c$ 是恒定的流通面积。\n\n问题陈述为稳态，并且我们被告知要忽略动能和势能的变化。对于这个开放系统（控制体）的稳流能量方程简化为对流输运的焓和增加的热量之间的平衡。\n\n进入控制体的能量速率由两项组成：\n$1$. 在位置 $z$ 处平流进入 $CV$ 的焓速率：$\\dot{m} h(z)$，其中 $\\dot{m}$ 是恒定的质量流量，$h(z)$ 是冷却剂在 $z$ 处的比焓。\n$2$. 在 $CV$ 内增加到冷却剂的热量速率。问题提供了一个有效的均匀体积加热率 $q'''$。因此，增加到微分体积的热量速率为 $q''' dV = q''' A_c dz$。\n\n离开控制体的能量速率是在位置 $z+dz$ 处平流离开 $CV$ 的焓速率：$\\dot{m} h(z+dz)$。\n\n在稳态下，能量平衡为：\n$$(\\text{能量输入速率}) = (\\text{能量输出速率})$$\n$$\\dot{m} h(z) + q''' A_c dz = \\dot{m} h(z+dz)$$\n\n重新排列此方程以分离出焓的变化：\n$$\\dot{m} [h(z+dz) - h(z)] = q''' A_c dz$$\n\n除以微分长度 $dz$：\n$$\\dot{m} \\frac{h(z+dz) - h(z)}{dz} = q''' A_c$$\n\n当 $dz \\to 0$ 时取极限，左边的项成为焓相对于位置 $z$ 的导数：\n$$\\dot{m} \\frac{dh}{dz} = q''' A_c$$\n\n对于比热容 $c_p$ 恒定的单相流体，比焓的微分变化 $dh$ 与温度的微分变化 $dT$ 通过关系式 $dh = c_p dT$ 相关。将此代入能量方程：\n$$\\dot{m} c_p \\frac{dT}{dz} = q''' A_c$$\n\n这是一个关于冷却剂温度 $T$ 作为轴向位置 $z$ 的函数的一阶常微分方程。由于 $q'''$、$A_c$、$\\dot{m}$ 和 $c_p$ 都是常数，因此沿通道的温度增加率是恒定的。我们可以通过分离变量并沿整个通道长度（从入口 $z=0$ 到出口 $z=L$）进行积分来求解该方程。对应的温度为 $T(0) = T_{\\mathrm{in}}$ 和 $T(L) = T_{\\mathrm{out}}$。\n\n$$dT = \\left( \\frac{q''' A_c}{\\dot{m} c_p} \\right) dz$$\n\n$$\\int_{T_{\\mathrm{in}}}^{T_{\\mathrm{out}}} dT = \\int_{0}^{L} \\frac{q''' A_c}{\\dot{m} c_p} dz$$\n\n由于项 $\\frac{q''' A_c}{\\dot{m} c_p}$ 是一个常数，我们可以将其从积分中提出：\n$$T_{\\mathrm{out}} - T_{\\mathrm{in}} = \\frac{q''' A_c}{\\dot{m} c_p} \\int_{0}^{L} dz$$\n\n执行积分得到：\n$$T_{\\mathrm{out}} - T_{\\mathrm{in}} = \\frac{q''' A_c}{\\dot{m} c_p} [z]_{0}^{L}$$\n$$\\Delta T = \\frac{q''' A_c L}{\\dot{m} c_p}$$\n\n这个表达式代表了冷却剂在通道长度 $L$ 上的总温升。它将增加到冷却剂的总热量 $Q_{\\mathrm{total}} = q''' (A_c L)$ 与冷却剂吸收的热量 $Q_{\\mathrm{absorbed}} = \\dot{m} c_p \\Delta T$ 等同起来。\n\n现在，我们代入给定的数值：\n- 通道长度 $L = 3.6\\ \\mathrm{m}$\n- 通道流通面积 $A_c = 8.0 \\times 10^{-4}\\ \\mathrm{m}^2$\n- 冷却剂质量流量 $\\dot{m} = 0.800\\ \\mathrm{kg/s}$\n- 冷却剂比热容 $c_p = 4.200 \\times 10^{3}\\ \\mathrm{J/(kg \\cdot K)}$\n- 有效均匀体积加热率 $q''' = 1.20 \\times 10^{8}\\ \\mathrm{W/m^3}$\n\n$$\\Delta T = \\frac{(1.20 \\times 10^{8}\\ \\mathrm{W/m^3}) (8.0 \\times 10^{-4}\\ \\mathrm{m}^2) (3.6\\ \\mathrm{m})}{(0.800\\ \\mathrm{kg/s}) (4.200 \\times 10^{3}\\ \\mathrm{J/(kg \\cdot K)})}$$\n\n首先，计算分子（增加的总功率）：\n$$Q_{\\mathrm{total}} = (1.20 \\times 10^{8}) \\times (8.0 \\times 10^{-4}) \\times (3.6) \\ \\mathrm{W} = 345600\\ \\mathrm{W}$$\n\n接下来，计算分母（冷却剂热容率）：\n$$\\dot{m} c_p = (0.800) \\times (4.200 \\times 10^{3}) \\ \\mathrm{W/K} = 3360\\ \\mathrm{W/K}$$\n\n最后，计算温升：\n$$\\Delta T = \\frac{345600\\ \\mathrm{W}}{3360\\ \\mathrm{W/K}} = 102.85714... \\ \\mathrm{K}$$\n\n问题要求答案四舍五入到四位有效数字。\n$$\\Delta T \\approx 102.9\\ \\mathrm{K}$$\n温升为 $102.9$ 开尔文。由于这是一个温差，它在数值上等同于 $102.9$ 摄氏度的温升。",
            "answer": "$$\\boxed{102.9}$$"
        },
        {
            "introduction": "这项综合性练习将前面实践中的概念整合到一个更贴近实际的计算任务中。您将实现一个模型，该模型能将精细的燃料棒尺度温度数据转换为组件尺度的均匀化截面和反应性系数。此过程模拟了大型反应堆模拟程序中耦合计算的关键步骤，旨在培养您将物理模型转化为可执行算法的能力。",
            "id": "4220200",
            "problem": "一位堆芯模拟工程师正在开发一种简化但物理上一致的方法，用于耦合压水反应堆 (PWR) 中的中子学和热工水力学。其目标是利用燃料棒级的燃料和慢化剂温度分布，生成组件级的中子学反馈参数和更新的均匀化宏观截面，以用于堆芯级的中子学计算。该工程师决定在单群、无限介质近似下进行研究，以在保持质量和中子平衡的同时，分离出温度反馈效应。\n\n从微观和宏观截面、中子产生和中子吸收的基本定义出发，考虑以下在降阶模型层面被广泛使用并得到实验支持的建模假设：\n\n1. 无限均匀混合物中的中子平衡导出了无限介质有效增殖因子 $k_{\\infty}$，其定义为中子产生与吸收之比。如果总中子产生率密度为 $P$，总吸收率密度为 $A$，则 $$k_{\\infty} = \\frac{P}{A}.$$ 对于均匀化的燃料-慢化剂混合物，假设产生仅源于燃料裂变，每次裂变的平均中子产额为 $ \\nu $，而吸收则来自燃料和慢化剂。\n\n2. 给定燃料棒级的燃料和慢化剂温度，并且每个燃料棒带有一个功率份额权重。假设一个组件包含 $N$ 个燃料棒，索引为 $i \\in \\{1,\\dots,N\\}$，其功率份额权重 $w_i$ 满足 $\\sum_{i=1}^{N} w_i = 1$，燃料温度为 $T_{f,i}$（单位：开尔文），慢化剂温度为 $T_{m,i}$（单位：开尔文）。\n\n3. 对于燃料，将单群宏观吸收截面建模为因共振的多普勒展宽而随温度升高而增加。使用一个与燃料温度相对于参考温度的比值的平方根成比例的多普勒因子，$$\\Sigma_{a,F}(T_{f,i}) = \\Sigma_{a,F}^{\\mathrm{ref}}\\sqrt{\\frac{T_{f,i}}{T_{f}^{\\mathrm{ref}}}},$$ 其中 $\\Sigma_{a,F}^{\\mathrm{ref}}$ 是在参考燃料温度 $T_{f}^{\\mathrm{ref}}$ 下的参考单群燃料宏观吸收截面。在此层面上，将单群燃料宏观裂变截面建模为与温度无关，$$\\Sigma_{f,F}(T_{f,i}) = \\Sigma_{f,F}^{\\mathrm{ref}}.$$\n\n4. 对于慢化剂，将单群宏观吸收截面建模为与数密度成正比，而数密度随质量密度变化。使用一个围绕参考慢化剂温度 $T_{m}^{\\mathrm{ref}}$ 的线性化状态方程，其中参考质量密度为 $\\rho_{m}^{\\mathrm{ref}}$，体热膨胀系数为 $\\beta$，$$\\rho_{m}(T_{m,i}) = \\rho_{m}^{\\mathrm{ref}}\\left(1 - \\beta\\left(T_{m,i} - T_{m}^{\\mathrm{ref}}\\right)\\right),$$ 并且在 $\\rho_{m}^{\\mathrm{ref}}$ 处的参考单群慢化剂宏观吸收截面为 $\\Sigma_{a,M}^{\\mathrm{ref}}$，得到 $$\\Sigma_{a,M}(T_{m,i}) = \\Sigma_{a,M}^{\\mathrm{ref}}\\frac{\\rho_{m}(T_{m,i})}{\\rho_{m}^{\\mathrm{ref}}} = \\Sigma_{a,M}^{\\mathrm{ref}}\\left(1 - \\beta\\left(T_{m,i} - T_{m}^{\\mathrm{ref}}\\right)\\right).$$\n\n5. 通过对燃料棒级截面进行功率加权平均来构建组件均匀化宏观截面，$$\\Sigma_{x}^{\\mathrm{asm}} = \\sum_{i=1}^{N} w_i \\Sigma_{x,i},$$ 其中 $x \\in \\{a,F,f,F; a,M\\}$，并形成组件总吸收截面 $$\\Sigma_{a}^{\\mathrm{asm}} = \\sum_{i=1}^{N} w_i\\left(\\Sigma_{a,F}(T_{f,i}) + \\Sigma_{a,M}(T_{m,i})\\right).$$ 组件燃料裂变截面为 $$\\Sigma_{f}^{\\mathrm{asm}} = \\sum_{i=1}^{N} w_i \\Sigma_{f,F}(T_{f,i}) = \\Sigma_{f,F}^{\\mathrm{ref}}.$$\n\n6. 使用以下公式评估无限介质增殖因子和反应性 $$k_{\\infty}^{\\mathrm{asm}} = \\frac{\\nu \\Sigma_{f}^{\\mathrm{asm}}}{\\Sigma_{a}^{\\mathrm{asm}}}, \\quad \\rho^{\\mathrm{asm}} = \\frac{k_{\\infty}^{\\mathrm{asm}} - 1}{k_{\\infty}^{\\mathrm{asm}}}.$$\n\n7. 将组件级温度系数定义为反应性相对于组件燃料和慢化剂温度的局域导数，通过中心有限差分法计算，其中一个探测试步长 $\\delta T$ 被均匀地施加到所有燃料棒上。具体来说，当探测试步长 $\\delta T = 1\\,\\mathrm{K}$ 时，\n   - 燃料多普勒系数 $$c_{D} = \\frac{\\rho^{\\mathrm{asm}}\\left(T_{f,1}+\\delta T,\\dots,T_{f,N}+\\delta T; T_{m,1},\\dots,T_{m,N}\\right) - \\rho^{\\mathrm{asm}}\\left(T_{f,1}-\\delta T,\\dots,T_{f,N}-\\delta T; T_{m,1},\\dots,T_{m,N}\\right)}{2\\delta T},$$ 单位为 $\\mathrm{K}^{-1}$。\n   - 慢化剂温度系数 $$c_{M} = \\frac{\\rho^{\\mathrm{asm}}\\left(T_{f,1},\\dots,T_{f,N}; T_{m,1}+\\delta T,\\dots,T_{m,N}+\\delta T\\right) - \\rho^{\\mathrm{asm}}\\left(T_{f,1},\\dots,T_{f,N}; T_{m,1}-\\delta T,\\dots,T_{m,N}-\\delta T\\right)}{2\\delta T},$$ 单位也为 $\\mathrm{K}^{-1}$。\n\n本问题的常数和参考值如下：\n- 每次裂变的平均中子产额 $\\nu = 2.40$。\n- 参考单群燃料宏观裂变截面 $\\Sigma_{f,F}^{\\mathrm{ref}} = 0.06\\,\\mathrm{cm}^{-1}$。\n- 在参考燃料温度 $T_{f}^{\\mathrm{ref}} = 900\\,\\mathrm{K}$ 下的参考单群燃料宏观吸收截面 $\\Sigma_{a,F}^{\\mathrm{ref}} = 0.10\\,\\mathrm{cm}^{-1}$。\n- 在参考慢化剂温度 $T_{m}^{\\mathrm{ref}} = 600\\,\\mathrm{K}$ 和参考密度 $\\rho_{m}^{\\mathrm{ref}}$ 下的参考单群慢化剂宏观吸收截面 $\\Sigma_{a,M}^{\\mathrm{ref}} = 5.0\\times 10^{-4}\\,\\mathrm{cm}^{-1}$。\n- 体热膨胀系数 $\\beta = 2.5\\times 10^{-4}\\,\\mathrm{K}^{-1}$。\n- 中心差分探测试步长 $\\delta T = 1\\,\\mathrm{K}$。\n\n所有温度必须以开尔文为单位，所有宏观截面必须以逆厘米为单位，温度系数必须以逆开尔文为单位。有效增殖因子 $k_{\\infty}$ 和反应性 $\\rho$ 是无量纲的。所有输出均表示为十进制浮点数。\n\n任务：实现一个程序，对于每个测试用例，接收燃料棒级的温度和权重，根据上述模型计算组件均匀化的宏观吸收截面和燃料裂变截面、$k_{\\infty}$、$\\rho$、燃料多普勒系数 $c_{D}$ 和慢化剂温度系数 $c_{M}$。将所有测试用例的输出汇总到指定格式的一行中。\n\n测试套件：\n- 案例 1：$N=4$，权重 $[0.30,\\,0.25,\\,0.25,\\,0.20]$，燃料温度 $[920,\\,905,\\,910,\\,915]\\,\\mathrm{K}$，慢化剂温度 $[595,\\,600,\\,605,\\,598]\\,\\mathrm{K}$。\n- 案例 2：$N=4$，权重 $[0.25,\\,0.25,\\,0.25,\\,0.25]$，燃料温度 $[900,\\,900,\\,900,\\,900]\\,\\mathrm{K}$，慢化剂温度 $[600,\\,600,\\,600,\\,600]\\,\\mathrm{K}$。\n- 案例 3：$N=4$，权重 $[0.40,\\,0.30,\\,0.20,\\,0.10]$，燃料温度 $[890,\\,895,\\,900,\\,885]\\,\\mathrm{K}$，慢化剂温度 $[620,\\,625,\\,630,\\,623]\\,\\mathrm{K}$。\n\n最终输出格式：\n您的程序应生成单行输出，其中包含一个列表的列表形式的结果，每个内部列表对应一个测试用例（按给定顺序），并且每个内部列表包含六个浮点数，顺序为 $[c_{D},\\,c_{M},\\,\\Sigma_{a}^{\\mathrm{asm}},\\,\\Sigma_{f}^{\\mathrm{asm}},\\,k_{\\infty}^{\\mathrm{asm}},\\,\\rho^{\\mathrm{asm}}]$。该行必须严格遵循以下格式\n$$\\text{\"[[r_{11},r_{12},r_{13},r_{14},r_{15},r_{16}],[r_{21},r_{22},r_{23},r_{24},r_{25},r_{26}],[r_{31},r_{32},r_{33},r_{34},r_{35},r_{36}]]\"}$$\n包含十进制数，且无附加文本。",
            "solution": "该问题是有效的。它提出了一个在核反应堆物理领域中，关于降阶层面中子学与热工水力学耦合的科学上合理、提法明确且客观的问题。所有计算所需量所必需的数据、模型和常数均已提供。这些模型虽然简化，但在反应堆分析中是标准的近似方法。\n\n任务是从燃料棒级的温度分布计算组件均匀化的中子学参数。这涉及基于所提供的物理模型和定义的一系列计算。解决方案的结构是首先计算每个测试用例的基准参数，然后使用这些结果通过有限差分法确定温度系数。\n\n首先，我们建立计算基准组件均匀化参数的流程：总吸收截面 $\\Sigma_{a}^{\\mathrm{asm}}$、燃料裂变截面 $\\Sigma_{f}^{\\mathrm{asm}}$、无限介质增殖因子 $k_{\\infty}^{\\mathrm{asm}}$ 和反应性 $\\rho^{\\mathrm{asm}}$。该过程从单个燃料棒层面开始。\n\n对于一个包含 N 个燃料棒的组件中的每个燃料棒 i，我们给定了燃料温度 $T_{f,i}$、慢化剂温度 $T_{m,i}$ 和功率份额权重 $w_i$。每个燃料棒的与温度相关的宏观截面计算如下：\n燃料吸收截面 $\\Sigma_{a,F}(T_{f,i})$ 通过对绝对燃料温度的平方根依赖性来体现多普勒展宽：\n$$ \\Sigma_{a,F}(T_{f,i}) = \\Sigma_{a,F}^{\\mathrm{ref}}\\sqrt{\\frac{T_{f,i}}{T_{f}^{\\mathrm{ref}}}} $$\n其中 $\\Sigma_{a,F}^{\\mathrm{ref}} = 0.10\\,\\mathrm{cm}^{-1}$ 是在 $T_{f}^{\\mathrm{ref}} = 900\\,\\mathrm{K}$ 时的参考截面。\n燃料裂变截面 $\\Sigma_{f,F}(T_{f,i})$ 在此近似水平上假定与温度无关：\n$$ \\Sigma_{f,F}(T_{f,i}) = \\Sigma_{f,F}^{\\mathrm{ref}} = 0.06\\,\\mathrm{cm}^{-1} $$\n慢化剂吸收截面 $\\Sigma_{a,M}(T_{m,i})$ 因温度引起的密度变化而改变。使用线性化状态方程，该依赖关系被建模为：\n$$ \\Sigma_{a,M}(T_{m,i}) = \\Sigma_{a,M}^{\\mathrm{ref}}\\left(1 - \\beta\\left(T_{m,i} - T_{m}^{\\mathrm{ref}}\\right)\\right) $$\n其中 $\\Sigma_{a,M}^{\\mathrm{ref}} = 5.0\\times 10^{-4}\\,\\mathrm{cm}^{-1}$ 是在 $T_{m}^{\\mathrm{ref}} = 600\\,\\mathrm{K}$ 时的参考值，而 $\\beta = 2.5\\times 10^{-4}\\,\\mathrm{K}^{-1}$ 是体热膨胀系数。\n\n接下来，将这些燃料棒级的截面均匀化以获得组件级的有效截面。问题指定了一个功率加权平均方案。组件均匀化的总吸收截面 $\\Sigma_{a}^{\\mathrm{asm}}$ 是每个燃料棒的燃料和慢化剂贡献之和，并按其各自的功率份额加权：\n$$ \\Sigma_{a}^{\\mathrm{asm}} = \\sum_{i=1}^{N} w_i \\left( \\Sigma_{a,F}(T_{f,i}) + \\Sigma_{a,M}(T_{m,i}) \\right) $$\n组件均匀化的裂变截面也类似地进行平均。由于所有燃料棒的 $\\Sigma_{f,F}$ 都是恒定的，并且权重和为一（$\\sum_{i=1}^{N} w_i = 1$），结果简化为：\n$$ \\Sigma_{f}^{\\mathrm{asm}} = \\sum_{i=1}^{N} w_i \\Sigma_{f,F}(T_{f,i}) = \\Sigma_{f,F}^{\\mathrm{ref}} \\sum_{i=1}^{N} w_i = \\Sigma_{f,F}^{\\mathrm{ref}} = 0.06\\,\\mathrm{cm}^{-1} $$\n\n利用均匀化截面，可以计算组件的无限介质增殖因子 $k_{\\infty}^{\\mathrm{asm}}$，其为中子产生与吸收之比。中子产生由 $\\nu \\Sigma_{f}^{\\mathrm{asm}}$ 给出，吸收由 $\\Sigma_{a}^{\\mathrm{asm}}$ 给出，其中 $\\nu = 2.40$ 是每次裂变释放的平均中子数。\n$$ k_{\\infty}^{\\mathrm{asm}} = \\frac{\\nu \\Sigma_{f}^{\\mathrm{asm}}}{\\Sigma_{a}^{\\mathrm{asm}}} $$\n根据 $k_{\\infty}^{\\mathrm{asm}}$，组件反应性 $\\rho^{\\mathrm{asm}}$ 由其标准定义确定：\n$$ \\rho^{\\mathrm{asm}} = \\frac{k_{\\infty}^{\\mathrm{asm}} - 1}{k_{\\infty}^{\\mathrm{asm}}} $$\n\n最后一步是计算组件级的反应性温度系数：燃料多普勒系数 $c_{D}$ 和慢化剂温度系数 $c_{M}$。这些系数分别量化了由于燃料和慢化剂温度的均匀变化而引起的反应性变化。它们使用中心有限差分近似法计算反应性的偏导数。\n为了求得多普勒系数 $c_D$，我们在两个微扰状态下评估反应性，其中每个燃料棒的燃料温度被均匀地移动 $\\pm\\delta T$，其中 $\\delta T = 1\\,\\mathrm{K}$。设 $\\rho^{\\mathrm{asm}}(T_f, T_m)$ 是作为燃料和慢化剂温度向量函数的反应性。那么：\n$$ c_{D} = \\frac{\\rho^{\\mathrm{asm}}(T_f + \\delta T, T_m) - \\rho^{\\mathrm{asm}}(T_f - \\delta T, T_m)}{2\\delta T} $$\n其中 $T_f + \\delta T$ 表示数组 $[T_{f,1}+\\delta T, \\dots, T_{f,N}+\\delta T]$。\n类似地，慢化剂温度系数 $c_M$ 通过在保持燃料温度为其基础值的同时微扰慢化剂温度来求得：\n$$ c_{M} = \\frac{\\rho^{\\mathrm{asm}}(T_f, T_m + \\delta T) - \\rho^{\\mathrm{asm}}(T_f, T_m - \\delta T)}{2\\delta T} $$\n其中 $T_m + \\delta T$ 表示数组 $[T_{m,1}+\\delta T, \\dots, T_{m,N}+\\delta T]$。\n\n为了在计算上实现这一过程，设计了一个辅助函数，该函数接收燃料棒级温度（$T_f$ 和 $T_m$）和权重（$w$）的向量作为输入，并返回计算出的反应性 $\\rho^{\\mathrm{asm}}$。该函数封装了从燃料棒级截面到均匀化参数的整个计算链。对于每个测试用例，首先使用给定的基础温度调用此函数以获得主要结果（$\\Sigma_{a}^{\\mathrm{asm}}, \\Sigma_{f}^{\\mathrm{asm}}, k_{\\infty}^{\\mathrm{asm}}, \\rho^{\\mathrm{asm}}$）。然后，再次使用微扰后的温度数组调用它，以获得用于 $c_D$ 和 $c_M$ 的有限差分公式所需的反应性值。使用 `numpy` 数组有助于对温度进行逐元素操作以及对燃料棒级截面和加权和进行向量化计算。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Main function to solve the nuclear reactor simulation problem.\n    It processes a suite of test cases, calculates neutronic feedback parameters,\n    and prints the results in the specified format.\n    \"\"\"\n    \n    # Define constants and reference values from the problem statement.\n    constants = {\n        'nu': 2.40,\n        'Sigma_f_F_ref': 0.06,  # cm^-1\n        'Sigma_a_F_ref': 0.10,  # cm^-1\n        'Tf_ref': 900.0,       # K\n        'Sigma_a_M_ref': 5.0e-4, # cm^-1\n        'Tm_ref': 600.0,       # K\n        'beta': 2.5e-4,        # K^-1\n        'delta_T': 1.0,         # K\n    }\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        {\n            'weights': [0.30, 0.25, 0.25, 0.20],\n            'fuel_temps': [920.0, 905.0, 910.0, 915.0],\n            'mod_temps': [595.0, 600.0, 605.0, 598.0]\n        },\n        {\n            'weights': [0.25, 0.25, 0.25, 0.25],\n            'fuel_temps': [900.0, 900.0, 900.0, 900.0],\n            'mod_temps': [600.0, 600.0, 600.0, 600.0]\n        },\n        {\n            'weights': [0.40, 0.30, 0.20, 0.10],\n            'fuel_temps': [890.0, 895.0, 900.0, 885.0],\n            'mod_temps': [620.0, 625.0, 630.0, 623.0]\n        },\n    ]\n\n    def calculate_assembly_params(Tf_pin, Tm_pin, w_pin, consts):\n        \"\"\"\n        Calculates assembly-homogenized parameters for a given set of pin-wise\n        temperatures and weights.\n\n        Args:\n            Tf_pin (np.ndarray): Array of pin-wise fuel temperatures in Kelvin.\n            Tm_pin (np.ndarray): Array of pin-wise moderator temperatures in Kelvin.\n            w_pin (np.ndarray): Array of pin-wise power fraction weights.\n            consts (dict): Dictionary of physical constants and reference values.\n\n        Returns:\n            dict: A dictionary containing the calculated assembly parameters.\n        \"\"\"\n        # Pin-wise macroscopic cross-section calculations\n        Sigma_a_F_pin = consts['Sigma_a_F_ref'] * np.sqrt(Tf_pin / consts['Tf_ref'])\n        Sigma_a_M_pin = consts['Sigma_a_M_ref'] * (1.0 - consts['beta'] * (Tm_pin - consts['Tm_ref']))\n        \n        # Assembly-homogenized cross-sections\n        Sigma_f_asm = consts['Sigma_f_F_ref']  # Constant for all pins and assembly\n        Sigma_a_asm = np.sum(w_pin * (Sigma_a_F_pin + Sigma_a_M_pin))\n\n        # Assembly-level k-infinity and reactivity\n        k_inf_asm = (consts['nu'] * Sigma_f_asm) / Sigma_a_asm\n        rho_asm = (k_inf_asm - 1.0) / k_inf_asm\n        \n        return {\n            'Sigma_a_asm': Sigma_a_asm,\n            'Sigma_f_asm': Sigma_f_asm,\n            'k_inf_asm': k_inf_asm,\n            'rho_asm': rho_asm\n        }\n\n    all_results = []\n    for case in test_cases:\n        w_pin = np.array(case['weights'])\n        Tf_pin = np.array(case['fuel_temps'])\n        Tm_pin = np.array(case['mod_temps'])\n\n        # Calculate base parameters\n        base_params = calculate_assembly_params(Tf_pin, Tm_pin, w_pin, constants)\n\n        # Calculate Fuel Doppler Coefficient (c_D)\n        delta_T = constants['delta_T']\n        rho_plus_f = calculate_assembly_params(Tf_pin + delta_T, Tm_pin, w_pin, constants)['rho_asm']\n        rho_minus_f = calculate_assembly_params(Tf_pin - delta_T, Tm_pin, w_pin, constants)['rho_asm']\n        c_D = (rho_plus_f - rho_minus_f) / (2.0 * delta_T)\n\n        # Calculate Moderator Temperature Coefficient (c_M)\n        rho_plus_m = calculate_assembly_params(Tf_pin, Tm_pin + delta_T, w_pin, constants)['rho_asm']\n        rho_minus_m = calculate_assembly_params(Tf_pin, Tm_pin - delta_T, w_pin, constants)['rho_asm']\n        c_M = (rho_plus_m - rho_minus_m) / (2.0 * delta_T)\n\n        # Assemble the results for the current test case in the specified order\n        case_results = [\n            c_D,\n            c_M,\n            base_params['Sigma_a_asm'],\n            base_params['Sigma_f_asm'],\n            base_params['k_inf_asm'],\n            base_params['rho_asm']\n        ]\n        all_results.append(case_results)\n    \n    # Format the final output string exactly as specified.\n    outer_parts = []\n    for row in all_results:\n        inner_part = ','.join(map(str, row))\n        outer_parts.append(f'[{inner_part}]')\n    final_output_string = f\"[{','.join(outer_parts)}]\"\n\n    print(final_output_string)\n\nsolve()\n```"
        }
    ]
}