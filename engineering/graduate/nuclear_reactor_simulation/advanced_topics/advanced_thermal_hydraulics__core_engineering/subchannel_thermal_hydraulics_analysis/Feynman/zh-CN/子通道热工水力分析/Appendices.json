{
    "hands_on_practices": [
        {
            "introduction": "子通道分析始于对燃料棒之间流动路径的精确几何定义。这项练习  提供了推导最基本参数的动手实践机会——即流动面积 ($A$)、湿周 ($P_w$) 和水力直径 ($D_h$)。这些参数是计算压降、传热及其他关键性能指标所必需的输入，掌握这一步是建立任何反应堆堆芯热工水力模型的基础。",
            "id": "4253456",
            "problem": "一个压水反应堆（PWR）组件由方形栅格的燃料棒组成。考虑一个由相同的圆形棒组成的 $17\\times 17$ 阵列，其中心间距（方形节距）均匀，为 $p=1.26\\ \\mathrm{cm}$，棒的外径为 $d=0.95\\ \\mathrm{cm}$。我们关注一个内部子通道，该子通道被理想化为由相邻燃料棒中心之间的垂直平分线在几何上界定的流体区域，其固体边界由四个相邻燃料棒表面的部分组成。仅使用基本的几何分割方法以及湿周和水力直径的标准定义，推导该内部子通道的流动面积 $A$、湿周 $P_{w}$ 和水力直径 $D_{h}$ 的表达式。然后，使用给定的 $p$ 和 $d$ 值对这些表达式进行数值计算。将 $A$ 的单位表示为 $\\mathrm{cm}^{2}$，将 $P_{w}$ 和 $D_{h}$ 的单位表示为 $\\mathrm{cm}$。将最终的数值结果四舍五入到四位有效数字。",
            "solution": "问题陈述经过严格评估，被认为是有效的。它在科学上基于流体力学和核工程的原理，特别是子通道热工水力学。该问题是适定的，提供了所有必要的几何参数（$p=1.26\\ \\mathrm{cm}$，$d=0.95\\ \\mathrm{cm}$），以及清晰、客观的定义来推导所要求的量（$A$, $P_w$, $D_h$）。所提供的值对于压水反应堆燃料组件来说是物理上现实的。\n\n任务是推导方形栅格燃料棒中内部子通道的流动面积 $A$、湿周 $P_w$ 和水力直径 $D_h$ 的表达式，然后计算它们的数值。\n\n一个内部子通道被定义为由连接四个相邻燃料棒中心的连线的垂直平分线所界定的流体区域。这定义了一个边长等于节距 $p$ 的方形控制体积。这个正方形的中心是子通道的中心。\n\n该控制体积内的固体边界是四个圆弧，每个圆弧来自周围四个燃料棒中的一个。每根棒的外径为 $d$，因此半径为 $r = d/2$。由于控制体积位于四个棒的中心，每个棒贡献其横截面的一个四分之一圆到方形控制体积的角落。\n\n首先，我们推导流动面积 $A$ 的表达式。流动面积是方形控制体积的总面积减去固体燃料棒所占的面积。\n方形控制体积的总面积为：\n$$A_{\\text{total}} = p^{2}$$\n此体积内固体棒所占的面积由四个半径为 $r$ 的四分之一圆组成。总的固体面积相当于一个半径为 $r$ 的完整圆的面积：\n$$A_{\\text{solid}} = 4 \\times \\left(\\frac{1}{4} \\pi r^{2}\\right) = \\pi r^{2}$$\n代入 $r = d/2$：\n$$A_{\\text{solid}} = \\pi \\left(\\frac{d}{2}\\right)^{2} = \\frac{\\pi d^{2}}{4}$$\n流动面积 $A$ 是总面积与固体面积之差：\n$$A = A_{\\text{total}} - A_{\\text{solid}} = p^{2} - \\frac{\\pi d^{2}}{4}$$\n\n接下来，我们推导湿周 $P_w$ 的表达式。湿周是固-液界面的长度。在这种情况下，它是界定子通道的四个燃料棒圆弧的总长度。一个半径为 $r$ 的四分之一圆弧的长度是：\n$$L_{\\text{arc}} = \\frac{1}{4} (2 \\pi r) = \\frac{\\pi r}{2}$$\n因为有四个这样的圆弧，所以总湿周 $P_w$ 是：\n$$P_w = 4 \\times L_{\\text{arc}} = 4 \\times \\frac{\\pi r}{2} = 2 \\pi r$$\n代入 $r = d/2$：\n$$P_w = 2 \\pi \\left(\\frac{d}{2}\\right) = \\pi d$$\n\n最后，我们推导水力直径 $D_h$ 的表达式。水力直径的标准定义是：\n$$D_h = \\frac{4A}{P_w}$$\n代入为 $A$ 和 $P_w$ 推导出的表达式：\n$$D_h = \\frac{4\\left(p^{2} - \\frac{\\pi d^{2}}{4}\\right)}{\\pi d}$$\n该表达式可以简化为：\n$$D_h = \\frac{4p^{2} - \\pi d^{2}}{\\pi d}$$\n或者，也可以写成：\n$$D_h = \\frac{4p^{2}}{\\pi d} - d$$\n\n现在我们使用给定的值 $p=1.26\\ \\mathrm{cm}$ 和 $d=0.95\\ \\mathrm{cm}$ 对这些表达式进行数值计算。\n\n流动面积 $A$ 为：\n$$A = (1.26\\ \\mathrm{cm})^{2} - \\frac{\\pi (0.95\\ \\mathrm{cm})^{2}}{4}$$\n$$A = 1.5876\\ \\mathrm{cm}^{2} - \\frac{\\pi (0.9025\\ \\mathrm{cm}^{2})}{4}$$\n$$A \\approx 1.5876\\ \\mathrm{cm}^{2} - \\frac{2.835287\\ \\mathrm{cm}^{2}}{4}$$\n$$A \\approx 1.5876\\ \\mathrm{cm}^{2} - 0.708822\\ \\mathrm{cm}^{2}$$\n$$A \\approx 0.878778\\ \\mathrm{cm}^{2}$$\n四舍五入到四位有效数字，流动面积为 $A = 0.8788\\ \\mathrm{cm}^{2}$。\n\n湿周 $P_w$ 为：\n$$P_w = \\pi (0.95\\ \\mathrm{cm})$$\n$$P_w \\approx 2.984513\\ \\mathrm{cm}$$\n四舍五入到四位有效数字，湿周为 $P_w = 2.985\\ \\mathrm{cm}$。\n\n水力直径 $D_h$ 为：\n$$D_h = \\frac{4A}{P_w} = \\frac{4 \\times 0.878778\\ \\mathrm{cm}^{2}}{2.984513\\ \\mathrm{cm}}$$\n$$D_h \\approx \\frac{3.515112\\ \\mathrm{cm}^{2}}{2.984513\\ \\mathrm{cm}}$$\n$$D_h \\approx 1.17779\\ \\mathrm{cm}$$\n四舍五入到四位有效数字，水力直径为 $D_h = 1.178\\ \\mathrm{cm}$。\n\n最终答案将按顺序给出 $A$（单位为 $\\mathrm{cm}^{2}$）、$P_w$（单位为 $\\mathrm{cm}$）和 $D_h$（单位为 $\\mathrm{cm}$）的数值结果。",
            "answer": "$$\\boxed{\\begin{pmatrix} 0.8788  2.985  1.178 \\end{pmatrix}}$$"
        },
        {
            "introduction": "定义了子通道的几何形状后，我们便可以分析流体沿着受热燃料棒轴向流动时的行为。这项实践  要求您应用一维的动量和能量守恒定律，来计算轴向压降 ($\\Delta p$) 和整体温度升高 ($T_{\\text{out}}$)。通过在一个程序中实现这些基本平衡关系，您将在模拟不同加热条件下单个子通道内的主要输运现象方面获得宝贵经验。",
            "id": "4253443",
            "problem": "考虑在轴向长度为 $L$、具有恒定横截面流动面积 $A$ 和水力直径 $D_h$ 的加热子通道中，冷却剂的单相、不可压缩稳态流动。质量通量为 $G$，密度为 $\\rho$，动力粘度为 $\\mu$，定压比热为 $c_p$。子通道的湿周 $P_w$ 与水力直径和面积的关系为 $D_h = 4 A / P_w$，这意味着 $P_w = 4 A / D_h$。在 $z=0$ 处的入口主流温度为 $T_\\mathrm{in}$。轴向壁面热通量分布为 $q''(z)$，该热量被流体吸收，导致主流温度沿轴向升高。\n\n假设以下物理上合理且广泛使用的建模假设：\n- 流动是稳态、单相且不可压缩的。\n- 与对流相比，流体和壁面中的轴向热传导可以忽略不计。\n- 物性参数 $\\rho$、$\\mu$ 和 $c_p$ 沿 $z$ 轴保持恒定。\n- 流动是充分发展的，即摩擦压降梯度遵循 Darcy–Weisbach 框架。\n- 沿轴向的静水压力效应可以忽略不计（水平子通道），且不存在局部损失。\n\n从基本守恒定律出发：\n- 微分控制体的轴向能量平衡要求主流焓的轴向变化率等于传递给流体的单位轴向长度的壁面热输入。对于主流温度 $T_b(z)$，可得\n$$\n\\frac{d T_b}{d z} = \\frac{q''(z) \\, P_w}{G \\, A \\, c_p}.\n$$\n- 将壁面剪切应力 $\\tau_w$ 与压力梯度相关联的轴向动量平衡，对于 Darcy 摩擦因子 $f_D$，给出\n$$\n\\frac{d p}{d z} = - \\frac{f_D \\, G^2}{2 \\, \\rho \\, D_h}.\n$$\n其中 $u = G / \\rho$ 是平均轴向速度。等效地，用质量通量表示为\n$$\n\\frac{d p}{d z} = - \\frac{f_D \\, G^2}{2 \\, \\rho \\, D_h}.\n$$\n\nDarcy 摩擦因子 $f_D$ 被指定为雷诺数 $\\mathrm{Re}$ 的函数，\n$$\n\\mathrm{Re} = \\frac{G \\, D_h}{\\mu},\n$$\n通过以下广泛使用的关联式：\n- 对于 $\\mathrm{Re}  2100$ 的层流区：\n$$\nf_D(\\mathrm{Re}) = \\frac{64}{\\mathrm{Re}}.\n$$\n- 对于 $\\mathrm{Re} \\ge 2100$ 的湍流区（适用于光滑通道的 Blasius 关联式）：\n$$\nf_D(\\mathrm{Re}) = 0.3164 \\, \\mathrm{Re}^{-0.25}.\n$$\n\n你的任务是实现一个程序，为每个指定的测试用例计算：\n1. 轴向压降\n$$\n\\Delta p = \\int_0^L \\left( - \\frac{d p}{d z} \\right) \\, dz = \\frac{f_D(\\mathrm{Re}) \\, G^2 \\, L}{2 \\, \\rho \\, D_h}\n$$\n单位为 $\\mathrm{Pa}$。\n2. 出口主流温度\n$$\nT_\\mathrm{out} = T_\\mathrm{in} + \\int_0^L \\frac{q''(z) \\, P_w}{G \\, A \\, c_p} \\, dz\n$$\n单位为 $\\mathrm{K}$。\n\n轴向壁面热通量 $q''(z)$ 以闭合形式给出。程序应支持以下科学上符合实际的分布：\n- 均匀加热：\n$$\nq''(z) = q_0,\n$$\n其中 $q_0 \\ge 0$ 为常数。那么\n$$\n\\int_0^L q''(z) \\, dz = q_0 \\, L.\n$$\n- 正弦调制加热：\n$$\nq''(z) = q_0 \\left[ 1 + \\alpha \\, \\sin\\!\\left( \\frac{\\pi z}{L} \\right) \\right], \\quad -1 \\le \\alpha \\le 1,\n$$\n其中\n$$\n\\int_0^L q''(z) \\, dz = q_0 \\, L \\left( 1 + \\frac{2 \\alpha}{\\pi} \\right).\n$$\n- 线性斜坡加热：\n$$\nq''(z) = q_0 \\left( 1 + \\beta \\frac{z}{L} \\right), \\quad \\beta \\in \\mathbb{R},\n$$\n其中\n$$\n\\int_0^L q''(z) \\, dz = q_0 \\, L \\left( 1 + \\frac{\\beta}{2} \\right).\n$$\n\n所有输入和输出必须使用国际单位制 (SI)。具体如下：\n- 长度 $L$ 的单位为 $\\mathrm{m}$。\n- 质量通量 $G$ 的单位为 $\\mathrm{kg} \\, \\mathrm{m}^{-2} \\, \\mathrm{s}^{-1}$。\n- 水力直径 $D_h$ 的单位为 $\\mathrm{m}$。\n- 面积 $A$ 的单位为 $\\mathrm{m}^2$。\n- 密度 $\\rho$ 的单位为 $\\mathrm{kg} \\, \\mathrm{m}^{-3}$。\n- 动力粘度 $\\mu$ 的单位为 $\\mathrm{Pa} \\cdot \\mathrm{s}$。\n- 比热 $c_p$ 的单位为 $\\mathrm{J} \\, \\mathrm{kg}^{-1} \\, \\mathrm{K}^{-1}$。\n- 热通量 $q_0$ 的单位为 $\\mathrm{W} \\, \\mathrm{m}^{-2}$。\n- 温度 $T_\\mathrm{in}$ 和 $T_\\mathrm{out}$ 的单位为 $\\mathrm{K}$。\n- 压降 $\\Delta p$ 的单位为 $\\mathrm{Pa}$。\n\n设计并实现你的程序，为以下每个测试用例计算 $\\Delta p$ 和 $T_\\mathrm{out}$。使用给定的精确参数值。\n\n测试套件：\n- 案例 $1$（一般湍流，均匀加热）：\n  - $L = 3.6 \\ \\mathrm{m}$，$G = 2000 \\ \\mathrm{kg} \\, \\mathrm{m}^{-2} \\, \\mathrm{s}^{-1}$，$D_h = 0.012 \\ \\mathrm{m}$，$A = 1.2 \\times 10^{-4} \\ \\mathrm{m}^2$，$\\rho = 997 \\ \\mathrm{kg} \\, \\mathrm{m}^{-3}$，$\\mu = 8.9 \\times 10^{-4} \\ \\mathrm{Pa} \\cdot \\mathrm{s}$，$c_p = 4180 \\ \\mathrm{J} \\, \\mathrm{kg}^{-1} \\, \\mathrm{K}^{-1}$，$T_\\mathrm{in} = 300 \\ \\mathrm{K}$，$q''(z) = q_0$，其中 $q_0 = 5.0 \\times 10^{5} \\ \\mathrm{W} \\, \\mathrm{m}^{-2}$。\n- 案例 $2$（层流，零加热边界情况）：\n  - $L = 2.0 \\ \\mathrm{m}$，$G = 50 \\ \\mathrm{kg} \\, \\mathrm{m}^{-2} \\, \\mathrm{s}^{-1}$，$D_h = 0.012 \\ \\mathrm{m}$，$A = 1.2 \\times 10^{-4} \\ \\mathrm{m}^2$，$\\rho = 1000 \\ \\mathrm{kg} \\, \\mathrm{m}^{-3}$，$\\mu = 1.0 \\times 10^{-3} \\ \\mathrm{Pa} \\cdot \\mathrm{s}$，$c_p = 4180 \\ \\mathrm{J} \\, \\mathrm{kg}^{-1} \\, \\mathrm{K}^{-1}$，$T_\\mathrm{in} = 300 \\ \\mathrm{K}$，$q''(z) = q_0$，其中 $q_0 = 0.0 \\ \\mathrm{W} \\, \\mathrm{m}^{-2}$。\n- 案例 $3$（湍流，正弦加热）：\n  - $L = 4.5 \\ \\mathrm{m}$，$G = 4000 \\ \\mathrm{kg} \\, \\mathrm{m}^{-2} \\, \\mathrm{s}^{-1}$，$D_h = 0.010 \\ \\mathrm{m}$，$A = 1.0 \\times 10^{-4} \\ \\mathrm{m}^2$，$\\rho = 1000 \\ \\mathrm{kg} \\, \\mathrm{m}^{-3}$，$\\mu = 1.0 \\times 10^{-3} \\ \\mathrm{Pa} \\cdot \\mathrm{s}$，$c_p = 4200 \\ \\mathrm{J} \\, \\mathrm{kg}^{-1} \\, \\mathrm{K}^{-1}$，$T_\\mathrm{in} = 300 \\ \\mathrm{K}$，$q''(z) = q_0 \\left[ 1 + \\alpha \\, \\sin\\!\\left( \\frac{\\pi z}{L} \\right) \\right]$，其中 $q_0 = 8.0 \\times 10^{5} \\ \\mathrm{W} \\, \\mathrm{m}^{-2}$ 且 $\\alpha = 0.5$。\n- 案例 $4$（湍流，线性斜坡加热）：\n  - $L = 3.0 \\ \\mathrm{m}$，$G = 3000 \\ \\mathrm{kg} \\, \\mathrm{m}^{-2} \\, \\mathrm{s}^{-1}$，$D_h = 0.015 \\ \\mathrm{m}$，$A = 2.0 \\times 10^{-4} \\ \\mathrm{m}^2$，$\\rho = 995 \\ \\mathrm{kg} \\, \\mathrm{m}^{-3}$，$\\mu = 7.0 \\times 10^{-4} \\ \\mathrm{Pa} \\cdot \\mathrm{s}$，$c_p = 4200 \\ \\mathrm{J} \\, \\mathrm{kg}^{-1} \\, \\mathrm{K}^{-1}$，$T_\\mathrm{in} = 290 \\ \\mathrm{K}$，$q''(z) = q_0 \\left( 1 + \\beta \\frac{z}{L} \\right)$，其中 $q_0 = 6.0 \\times 10^{5} \\ \\mathrm{W} \\, \\mathrm{m}^{-2}$ 且 $\\beta = 0.2$。\n- 案例 $5$（近过渡雷诺数，均匀加热）：\n  - $L = 1.0 \\ \\mathrm{m}$，$G = 262.5 \\ \\mathrm{kg} \\, \\mathrm{m}^{-2} \\, \\mathrm{s}^{-1}$，$D_h = 0.008 \\ \\mathrm{m}$，$A = 8.0 \\times 10^{-5} \\ \\mathrm{m}^2$，$\\rho = 1000 \\ \\mathrm{kg} \\, \\mathrm{m}^{-3}$，$\\mu = 1.0 \\times 10^{-3} \\ \\mathrm{Pa} \\cdot \\mathrm{s}$，$c_p = 4180 \\ \\mathrm{J} \\, \\mathrm{kg}^{-1} \\, \\mathrm{K}^{-1}$，$T_\\mathrm{in} = 300 \\ \\mathrm{K}$，$q''(z) = q_0$，其中 $q_0 = 3.0 \\times 10^{5} \\ \\mathrm{W} \\, \\mathrm{m}^{-2}$。\n\n你的程序必须为每个案例计算 $\\Delta p$ 和 $T_\\mathrm{out}$，并生成单行输出，其中包含一个用方括号括起来的逗号分隔列表。列表中的每个元素都是一个双元素列表 $[\\Delta p, T_\\mathrm{out}]$，并按照测试套件案例的顺序排列。例如，输出必须与 ... 完全一致，\n$$\n\\left[ [\\Delta p_1, T_{\\mathrm{out},1}], [\\Delta p_2, T_{\\mathrm{out},2}], \\dots \\right]\n$$\n其中包含压力的数值（单位为 $\\mathrm{Pa}$）和温度的数值（单位为 $\\mathrm{K}$），不含任何附加文本。",
            "solution": "问题陈述已经过严格审查，并被认定为有效。它是科学上合理的、适定的、客观的，并为标准的热工水力计算提供了一套完整且一致的信息。其底层物理模型基于一维稳态守恒定律和标准关联式，适用于对加热子通道进行工程分析。因此，我们可以进行正式求解。\n\n目标是计算流经加热子通道的流体的轴向压降 $\\Delta p$ 和出口主流温度 $T_{\\mathrm{out}}$。解法源自所提供的基本平衡方程。\n\n**1. 轴向压降（$\\Delta p$）的计算**\n\n轴向压降由动量平衡方程控制。对于流动充分发展且局部损失可忽略的水平通道，该方程将压力梯度与壁面剪切应力相关联。所提供的公式采用了 Darcy-Weisbach 方程：\n$$\n\\frac{d p}{d z} = - \\frac{f_D \\, G^2}{2 \\, \\rho \\, D_h}\n$$\n其中 $p(z)$ 是轴向压力分布，$f_D$ 是 Darcy 摩擦因子，$G$ 是质量通量，$\\rho$ 是流体密度，$D_h$ 是水力直径。\n\n总压降 $\\Delta p = p(0) - p(L)$ 是通过沿通道长度 $L$ 对压力梯度的负值进行积分得到的：\n$$\n\\Delta p = \\int_0^L \\left( -\\frac{d p}{d z} \\right) dz = \\int_0^L \\frac{f_D \\, G^2}{2 \\, \\rho \\, D_h} dz\n$$\n根据问题的假设，流体物性 $\\rho$ 和 $\\mu$ 是恒定的。质量通量 $G$ 和几何参数 $D_h$ 与 $L$ 也是恒定的。因此，雷诺数 $\\mathrm{Re}$ 沿轴向坐标 $z$ 保持不变。这意味着仅依赖于 $\\mathrm{Re}$ 的摩擦因子 $f_D$ 也是恒定的。所以，被积函数中的所有项都是常数，积分变得非常简单：\n$$\n\\Delta p = \\frac{f_D \\, G^2}{2 \\, \\rho \\, D_h} \\int_0^L dz = \\frac{f_D \\, G^2 \\, L}{2 \\, \\rho \\, D_h}\n$$\n$\\Delta p$ 的计算步骤如下：\n\n首先，我们计算雷诺数，这是一个表征流动状态的无量纲量：\n$$\n\\mathrm{Re} = \\frac{G \\, D_h}{\\mu}\n$$\n其中 $\\mu$ 是动力粘度。\n\n其次，根据 $\\mathrm{Re}$ 的值，我们使用所提供的关联式来确定 Darcy 摩擦因子 $f_D$：\n- 如果 $\\mathrm{Re}  2100$（层流）：\n$$\nf_D = \\frac{64}{\\mathrm{Re}}\n$$\n- 如果 $\\mathrm{Re} \\ge 2100$（湍流）：\n$$\nf_D = 0.3164 \\, \\mathrm{Re}^{-0.25}\n$$\n最后，我们将计算出的 $f_D$ 代入 $\\Delta p$ 的方程中。\n\n**2. 出口主流温度（$T_{\\mathrm{out}}$）的计算**\n\n出口温度由能量守恒定律确定。微分控制体的轴向能量平衡将平流焓的变化与从壁面加入的热量等同起来：\n$$\n\\frac{d T_b}{d z} = \\frac{q''(z) \\, P_w}{G \\, A \\, c_p}\n$$\n此处，$T_b(z)$ 是主流流体温度，$q''(z)$ 是轴向壁面热通量，$P_w$ 是湿周，$A$ 是流动面积，$c_p$ 是定压比热。\n\n为了求出出口温度 $T_{\\mathrm{out}} = T_b(L)$，我们将此常微分方程从入口（$z=0$）积分到出口（$z=L$）：\n$$\n\\int_{T_\\mathrm{in}}^{T_\\mathrm{out}} d T_b = \\int_0^L \\frac{q''(z) \\, P_w}{G \\, A \\, c_p} dz\n$$\n$$\nT_\\mathrm{out} - T_\\mathrm{in} = \\int_0^L \\frac{q''(z) \\, P_w}{G \\, A \\, c_p} dz\n$$\n由于 $G$、$A$、$c_p$ 和 $P_w$ 是常数，我们可以将它们移到积分号外面：\n$$\nT_\\mathrm{out} = T_\\mathrm{in} + \\frac{P_w}{G \\, A \\, c_p} \\int_0^L q''(z) dz\n$$\n湿周 $P_w$ 通过 $P_w = 4A/D_h$ 与水力直径 $D_h$ 和面积 $A$ 相关。代入此关系式可以简化系数，表明温升与流动面积 $A$ 无关：\n$$\nT_\\mathrm{out} = T_\\mathrm{in} + \\frac{4A/D_h}{G \\, A \\, c_p} \\int_0^L q''(z) dz = T_\\mathrm{in} + \\frac{4}{G \\, D_h \\, c_p} \\int_0^L q''(z) dz\n$$\n最后一步是使用为每种轴向分布类型提供的闭合形式表达式来计算热通量的积分 $\\int_0^L q''(z) dz$：\n- 均匀加热，$q''(z) = q_0$：\n$$\n\\int_0^L q_0 dz = q_0 L\n$$\n- 正弦调制加热，$q''(z) = q_0 \\left[ 1 + \\alpha \\, \\sin\\!\\left( \\frac{\\pi z}{L} \\right) \\right]$：\n$$\n\\int_0^L q_0 \\left[ 1 + \\alpha \\, \\sin\\!\\left( \\frac{\\pi z}{L} \\right) \\right] dz = q_0 \\left[z - \\frac{\\alpha L}{\\pi} \\cos\\!\\left(\\frac{\\pi z}{L}\\right)\\right]_0^L = q_0 L \\left( 1 + \\frac{2\\alpha}{\\pi} \\right)\n$$\n- 线性斜坡加热，$q''(z) = q_0 \\left( 1 + \\beta \\frac{z}{L} \\right)$：\n$$\n\\int_0^L q_0 \\left( 1 + \\beta \\frac{z}{L} \\right) dz = q_0 \\left[z + \\frac{\\beta z^2}{2L}\\right]_0^L = q_0 L \\left( 1 + \\frac{\\beta}{2} \\right)\n$$\n通过将相应的积分值代入 $T_{\\mathrm{out}}$ 的表达式中，我们便得到最终结果。\n\n基于此分析开发的算法将被实现来处理每个测试用例。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes pressure drop and outlet temperature for coolant flow in a heated subchannel\n    for a series of test cases.\n    \"\"\"\n    \n    # Define the test cases as a list of dictionaries.\n    test_cases = [\n        # Case 1: general turbulent, uniform heating\n        {\n            \"type\": \"uniform\",\n            \"params\": {\n                \"L\": 3.6, \"G\": 2000, \"D_h\": 0.012, \"A\": 1.2e-4, \"rho\": 997, \n                \"mu\": 8.9e-4, \"c_p\": 4180, \"T_in\": 300, \"q_0\": 5.0e5\n            }\n        },\n        # Case 2: laminar, zero heating boundary case\n        {\n            \"type\": \"uniform\",\n            \"params\": {\n                \"L\": 2.0, \"G\": 50, \"D_h\": 0.012, \"A\": 1.2e-4, \"rho\": 1000, \n                \"mu\": 1.0e-3, \"c_p\": 4180, \"T_in\": 300, \"q_0\": 0.0\n            }\n        },\n        # Case 3: turbulent, sinusoidal heating\n        {\n            \"type\": \"sinusoidal\",\n            \"params\": {\n                \"L\": 4.5, \"G\": 4000, \"D_h\": 0.010, \"A\": 1.0e-4, \"rho\": 1000, \n                \"mu\": 1.0e-3, \"c_p\": 4200, \"T_in\": 300, \"q_0\": 8.0e5, \"alpha\": 0.5\n            }\n        },\n        # Case 4: turbulent, linearly ramped heating\n        {\n            \"type\": \"linear\",\n            \"params\": {\n                \"L\": 3.0, \"G\": 3000, \"D_h\": 0.015, \"A\": 2.0e-4, \"rho\": 995, \n                \"mu\": 7.0e-4, \"c_p\": 4200, \"T_in\": 290, \"q_0\": 6.0e5, \"beta\": 0.2\n            }\n        },\n        # Case 5: near-transition Reynolds number, uniform heating\n        {\n            \"type\": \"uniform\",\n            \"params\": {\n                \"L\": 1.0, \"G\": 262.5, \"D_h\": 0.008, \"A\": 8.0e-5, \"rho\": 1000, \n                \"mu\": 1.0e-3, \"c_p\": 4180, \"T_in\": 300, \"q_0\": 3.0e5\n            }\n        }\n    ]\n\n    results = []\n    for case_data in test_cases:\n        params = case_data[\"params\"]\n        \n        L = params[\"L\"]\n        G = params[\"G\"]\n        D_h = params[\"D_h\"]\n        rho = params[\"rho\"]\n        mu = params[\"mu\"]\n        c_p = params[\"c_p\"]\n        T_in = params[\"T_in\"]\n        q_0 = params[\"q_0\"]\n        \n        # 1. Calculate Reynolds Number\n        Re = (G * D_h) / mu\n        \n        # 2. Calculate Darcy Friction Factor\n        if Re  2100:\n            # Laminar flow\n            f_D = 64 / Re\n        else:\n            # Turbulent flow (Re >= 2100)\n            f_D = 0.3164 * Re**(-0.25)\n            \n        # 3. Calculate Pressure Drop (delta_p)\n        delta_p = (f_D * G**2 * L) / (2 * rho * D_h)\n        \n        # 4. Calculate Outlet Temperature (T_out)\n        \n        # 4a. Evaluate the integral of the heat flux over length L\n        q_integral = 0.0\n        flux_type = case_data[\"type\"]\n        if flux_type == \"uniform\":\n            q_integral = q_0 * L\n        elif flux_type == \"sinusoidal\":\n            alpha = params[\"alpha\"]\n            q_integral = q_0 * L * (1 + (2 * alpha) / np.pi)\n        elif flux_type == \"linear\":\n            beta = params[\"beta\"]\n            q_integral = q_0 * L * (1 + beta / 2)\n        \n        # 4b. Calculate the temperature rise and the outlet temperature\n        # delta_T = (P_w / (G * A * c_p)) * q_integral\n        # P_w = 4 * A / D_h  =>  delta_T = (4 / (G * D_h * c_p)) * q_integral\n        delta_T = (4 * q_integral) / (G * D_h * c_p)\n        T_out = T_in + delta_T\n        \n        results.append([delta_p, T_out])\n\n    # Format the final output string as specified: [[dp1, Tout1],[dp2, Tout2],...]\n    # Using map(str, ...) automatically handles list-to-string conversion with spaces.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "反应堆堆芯分析的一个关键特征是相邻子通道之间的相互作用，这种作用导致了流量和焓的重新分布。这项高级练习  通过模拟两个相邻通道之间的横向交混流和湍流混合，深入探讨了子通道分析的核心。通过推导并实现一个温度均衡模型，您将理解缓解温度峰值的机制，这是反应堆安全评估的一个关键方面。",
            "id": "4253455",
            "problem": "您正在使用子通道热工水力学方法，分析核反应堆棒束中两个相邻的子通道。假设在称为混合长度的指定轴向段上，流动为不可压缩的稳态流，轴向热传导可忽略不计，且没有外部热源或热沉。由于压差和湍流混合，子通道之间会交换横向动量和能量。您的任务是从第一性原理出发进行推导和计算：(i) 单位长度的横向交错流质量交换率，以及 (ii) 在给定的混合长度上，两个子通道之间由此产生的温度均衡化。\n\n推导的基本依据必须从以下几点开始：\n- 考虑横向水力路径上局部损失的机械能平衡：压差与由此产生的横向速度之间的关系由 $\\,\\Delta p_{ij} = K_{\\mathrm{lat}} \\,\\frac{1}{2}\\,\\rho\\,u_{\\ell}^2\\,$ 给出，其中 $\\,\\Delta p_{ij}\\,$ 是子通道 $\\,i\\,$ 和 $\\,j\\,$ 之间的静压差，$\\,K_{\\mathrm{lat}}\\,$ 是横向路径的无量纲损失系数，$\\,\\rho\\,$ 是流体密度，$\\,u_{\\ell}\\,$ 是横向速度。\n- 使用横向水力面积密度表示的单位轴向长度上的横向交换质量连续性：单位长度的横向质量交换率为 $\\,w_{ij} = \\rho\\,A_{\\ell}\\,u_{\\ell}\\,$，其中 $\\,A_{\\ell}\\,$ 是单位轴向长度上的有效横向开放面积（单位为米），代表子通道之间的净水力连通面积密度。\n- 在混合长度上，每个子通道段内的能量守恒（焓平衡），包含两种耦合机制：\n  1. 与横向质量交换相关的对流焓交换，其模型与温差 $\\,T_i - T_j\\,$ 成正比，强度为 $\\,c_p\\,w_{ij}\\,$，其中 $\\,c_p\\,$ 是定压比热容。\n  2. 湍流热耦合，其特征是单位长度的热混合导纳 $\\,E_t\\,$（单位为瓦特/米/开尔文），产生单位长度的能量交换 $\\,E_t\\,(T_i - T_j)\\,$。\n\n假设在混合长度 $\\,L_m\\,$ 上，$\\,\\dot{m}_i = \\dot{m}_j = \\dot{m}\\,$、$\\,c_p\\,$、$\\,\\rho\\,$、$\\,K_{\\mathrm{lat}}\\,$、$\\,A_{\\ell}\\,$、$\\,E_t\\,$ 和 $\\,\\Delta p_{ij}\\,$ 均为常数。设该段入口处的初始温度为 $\\,T_i(0)\\,$ 和 $\\,T_j(0)\\,$。定义温差 $\\,\\Delta T(x) = T_i(x) - T_j(x)\\,$ 和算术平均温度 $\\,\\overline{T}(x) = \\frac{T_i(x) + T_j(x)}{2}\\,$。\n\n仅从上述基本关系出发，推导以 $\\,\\Delta T(0)\\,$、$\\,E_t\\,$、$\\,w_{ij}\\,$、$\\,\\dot{m}\\,$、$\\,c_p\\,$ 和 $\\,L_m\\,$ 表示的 $\\,\\Delta T(L_m)\\,$ 的表达式，并使用局部损失关系从 $\\,\\Delta p_{ij}\\,$ 计算 $\\,w_{ij}\\,$。$\\,\\Delta p_{ij}\\,$ 的符号仅用于确定交错流的方向；对于温度均衡化的大小，请使用 $\\,|w_{ij}|\\,$。\n\n您必须实现一个完整、可运行的程序，该程序：\n- 根据 $\\,\\Delta p_{ij}\\,$ 和 $\\,K_{\\mathrm{lat}}\\,$ 计算 $\\,u_{\\ell}\\,$。\n- 以 $\\,\\mathrm{kg}\\,\\mathrm{s}^{-1}\\,\\mathrm{m}^{-1}\\,$ 为单位，计算单位长度的质量交换率 $\\,w_{ij}\\,$。\n- 以 $\\,\\mathrm{K}\\,$ 为单位，计算 $\\,\\Delta T(L_m)\\,$。\n- 在没有外部热量加入或移除，且 $\\,\\overline{T}(x)\\,$ 保持恒定的假设下，以 $\\,\\mathrm{K}\\,$ 为单位计算出口温度 $\\,T_i(L_m)\\,$ 和 $\\,T_j(L_m)\\,$。\n- 计算均衡化因子 $\\,f = \\frac{\\Delta T(L_m)}{\\Delta T(0)}\\,$，结果为无量纲浮点数。\n\n物理单位和输出要求：\n- 以 $\\,\\mathrm{kg}\\,\\mathrm{s}^{-1}\\,\\mathrm{m}^{-1}\\,$ 表示 $\\,w_{ij}\\,$。\n- 以 $\\,\\mathrm{K}\\,$ 表示所有温度和温差。\n- 以小数形式表示均衡化因子 $\\,f\\,$（无百分号）。\n\n测试套件：\n提供一个程序，用于评估以下五个测试用例，涵盖一般情况、零压差、零湍流混合、高横向阻力和短混合长度。对于每个用例，参数以元组 $\\,(\\Delta p_{ij}, E_t, \\rho, K_{\\mathrm{lat}}, A_{\\ell}, L_m, \\dot{m}, c_p, T_i(0), T_j(0))\\,$ 的形式给出，单位内联指定：\n1. 一般情况：$\\,(150\\,\\mathrm{Pa},\\,120\\,\\mathrm{W}\\,\\mathrm{m}^{-1}\\,\\mathrm{K}^{-1},\\,700\\,\\mathrm{kg}\\,\\mathrm{m}^{-3},\\,2.0,\\,5\\times10^{-4}\\,\\mathrm{m},\\,0.8\\,\\mathrm{m},\\,0.6\\,\\mathrm{kg}\\,\\mathrm{s}^{-1},\\,5000\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1},\\,600\\,\\mathrm{K},\\,580\\,\\mathrm{K})$。\n2. 零压差：$\\,(0\\,\\mathrm{Pa},\\,200\\,\\mathrm{W}\\,\\mathrm{m}^{-1}\\,\\mathrm{K}^{-1},\\,700\\,\\mathrm{kg}\\,\\mathrm{m}^{-3},\\,2.0,\\,4\\times10^{-4}\\,\\mathrm{m},\\,1.0\\,\\mathrm{m},\\,0.5\\,\\mathrm{kg}\\,\\mathrm{s}^{-1},\\,5000\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1},\\,590\\,\\mathrm{K},\\,585\\,\\mathrm{K})$。\n3. 零湍流混合，强交错流：$\\,(800\\,\\mathrm{Pa},\\,0\\,\\mathrm{W}\\,\\mathrm{m}^{-1}\\,\\mathrm{K}^{-1},\\,700\\,\\mathrm{kg}\\,\\mathrm{m}^{-3},\\,2.0,\\,6\\times10^{-4}\\,\\mathrm{m},\\,0.5\\,\\mathrm{m},\\,0.4\\,\\mathrm{kg}\\,\\mathrm{s}^{-1},\\,5000\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1},\\,620\\,\\mathrm{K},\\,580\\,\\mathrm{K})$。\n4. 高阻力横向路径：$\\,(500\\,\\mathrm{Pa},\\,50\\,\\mathrm{W}\\,\\mathrm{m}^{-1}\\,\\mathrm{K}^{-1},\\,700\\,\\mathrm{kg}\\,\\mathrm{m}^{-3},\\,10.0,\\,5\\times10^{-4}\\,\\mathrm{m},\\,1.0\\,\\mathrm{m},\\,0.8\\,\\mathrm{kg}\\,\\mathrm{s}^{-1},\\,5000\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1},\\,600\\,\\mathrm{K},\\,580\\,\\mathrm{K})$。\n5. 短混合长度：$\\,(300\\,\\mathrm{Pa},\\,100\\,\\mathrm{W}\\,\\mathrm{m}^{-1}\\,\\mathrm{K}^{-1},\\,700\\,\\mathrm{kg}\\,\\mathrm{m}^{-3},\\,2.0,\\,8\\times10^{-4}\\,\\mathrm{m},\\,0.1\\,\\mathrm{m},\\,0.6\\,\\mathrm{kg}\\,\\mathrm{s}^{-1},\\,5000\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1},\\,610\\,\\mathrm{K},\\,580\\,\\mathrm{K})$。\n\n最终输出格式：\n您的程序应生成单行输出，其中包含五个测试用例结果的逗号分隔列表，并用方括号括起来。每个测试用例的结果本身必须是 $[w_{ij}, \\Delta T(L_m), T_i(L_m), T_j(L_m), f]$ 形式的列表。例如，整体输出应类似于 $[[w_1,\\Delta T_1,T_{i,1},T_{j,1},f_1],[w_2,\\Delta T_2,T_{i,2},T_{j,2},f_2],\\dots]$，所有数值均为浮点数。",
            "solution": "用户希望我解决一个关于核反应堆中两个相邻子通道的热工水力学问题。\n\n### 问题验证\n\n我已仔细审查了问题陈述。\n\n- **已知条件**：问题提供了横向动量和质量交换的控制方程（$\\Delta p_{ij} = K_{\\mathrm{lat}} \\,\\frac{1}{2}\\,\\rho\\,u_{\\ell}^2$ 和 $w_{ij} = \\rho\\,A_{\\ell}\\,u_{\\ell}$）、能量交换模型（对流和湍流，均与温差成正比）、一系列简化假设（稳态、不可压缩流、物性恒定、轴向质量流率相等且恒定为 $\\dot{m}$）以及初始条件（$T_i(0)$、$T_j(0)$）。还提供了五个具有所有必要数值的独立测试用例。\n- **科学依据**：该问题牢固地植根于流体动力学和传热学原理，特别是核工程中使用的子通道分析方法。这些方程代表了相邻通道之间质量、动量和能量输运的简化但标准的模型。\n- **适定性与一致性**：该问题是适定的。它为将要推导出的常微分方程组提供了初始条件。所有参数都已指定，目标也已明确定义。恒定轴向质量流率（$\\dot{m}_i = \\dot{m}_j = \\dot{m}$）的假设是一种简化，但已明确说明，并允许在此背景下得到易于处理的解析解，这与问题要求从第一性原理进行推导是一致的。平均温度 $\\overline{T}(x)$ 恒定的假设被证明是所提供的能量交换模型和恒定质量流率假设的直接结果。\n\n**结论**：该问题是**有效的**。这是一个科学上合理、自洽且适定的工程问题。我现在将进行推导和求解。\n\n### 从第一性原理推导\n\n任务是推导混合长度末端的温差 $\\Delta T(L_m)$ 以及其他相关量的表达式。\n\n让我们考虑沿轴向为每个子通道 $i$ 和 $j$ 取一个长度为 $dx$ 的微分控制体。\n\n1.  **能量平衡方程**\n\n问题指出，子通道之间单位长度的净能量交换率是对流项和湍流混合项之和。两者都被建模为与温差 $T_i - T_j$ 成正比。问题还指定，为了计算温度均衡化，应使用横向质量流率的大小 $w = |w_{ij}|$。\n\n假设 $T_i > T_j$，从子通道 $i$ 到子通道 $j$ 的单位长度总能量传递率为：\n$$Q'_{ij} = (c_p w + E_t)(T_i - T_j)$$\n其中 $w = |w_{ij}|$，$c_p$ 是比热容，$E_t$ 是湍流热混合导纳。\n\n问题明确假设两个子通道中的轴向质量流率是恒定且相等的：$\\dot{m}_i(x) = \\dot{m}_j(x) = \\dot{m}$。\n\n子通道 $i$ 在微分长度 $dx$ 上的能量平衡为：\n$$(\\text{在 } x \\text{ 处的焓通量}) = (\\text{在 } x+dx \\text{ 处的焓通量}) + (\\text{传递给 } j \\text{ 的能量})$$\n$$\\dot{m} c_p T_i(x) = \\dot{m} c_p T_i(x+dx) + Q'_{ij} dx$$\n对 $T_i(x+dx) = T_i(x) + \\frac{dT_i}{dx}dx$ 进行泰勒展开并重新整理，我们得到：\n$$\\dot{m} c_p T_i(x) = \\dot{m} c_p \\left(T_i(x) + \\frac{dT_i}{dx}dx\\right) + (c_p w + E_t)(T_i - T_j) dx$$\n两边除以 $dx$ 并简化，得到子通道 $i$ 中温度的控制方程：\n$$\\dot{m} c_p \\frac{dT_i}{dx} = - (c_p w + E_t)(T_i - T_j) \\quad (1)$$\n类似地，对于子通道 $j$，从 $i$ 传递来的能量是一个源项：\n$$(\\text{在 } x \\text{ 处的焓通量}) + (\\text{从 } i \\text{ 传递来的能量}) = (\\text{在 } x+dx \\text{ 处的焓通量})$$\n$$\\dot{m} c_p T_j(x) + Q'_{ij} dx = \\dot{m} c_p T_j(x+dx)$$\n$$\\dot{m} c_p T_j(x) + (c_p w + E_t)(T_i - T_j) dx = \\dot{m} c_p \\left(T_j(x) + \\frac{dT_j}{dx}dx\\right)$$\n简化后得到子通道 $j$ 的控制方程：\n$$\\dot{m} c_p \\frac{dT_j}{dx} = (c_p w + E_t)(T_i - T_j) \\quad (2)$$\n\n2.  **温差 $\\Delta T(x)$ 的方程**\n\n我们将温差定义为 $\\Delta T(x) = T_i(x) - T_j(x)$。我们通过对 $x$ 求导来寻找 $\\Delta T(x)$ 的微分方程：\n$$\\frac{d(\\Delta T)}{dx} = \\frac{dT_i}{dx} - \\frac{dT_j}{dx}$$\n代入方程 $(1)$ 和 $(2)$：\n$$\\frac{d(\\Delta T)}{dx} = \\left[ - \\frac{c_p w + E_t}{\\dot{m} c_p}(T_i - T_j) \\right] - \\left[ \\frac{c_p w + E_t}{\\dot{m} c_p}(T_i - T_j) \\right]$$\n$$\\frac{d(\\Delta T)}{dx} = -2 \\frac{c_p w + E_t}{\\dot{m} c_p} (T_i - T_j)$$\n注意到 $T_i - T_j = \\Delta T$，我们得到一个一阶线性齐次常微分方程：\n$$\\frac{d(\\Delta T)}{dx} = - \\lambda \\Delta T \\quad \\text{其中} \\quad \\lambda = 2 \\frac{c_p w + E_t}{\\dot{m} c_p}$$\n该常微分方程的解是一个指数衰减函数：\n$$\\Delta T(x) = C e^{-\\lambda x}$$\n使用段入口 $x=0$ 处的初始条件，我们有 $\\Delta T(0) = T_i(0) - T_j(0)$。这决定了常数 $C$：\n$$\\Delta T(0) = C e^0 \\implies C = \\Delta T(0)$$\n因此，在任意轴向位置 $x$ 处的温差为：\n$$\\Delta T(x) = \\Delta T(0) \\exp\\left(-2 \\frac{c_p w + E_t}{\\dot{m} c_p} x\\right)$$\n在混合长度的末端，$x=L_m$，最终温差为：\n$$\\Delta T(L_m) = \\Delta T(0) \\exp\\left(-2 \\frac{c_p w + E_t}{\\dot{m} c_p} L_m\\right)$$\n\n3.  **横向质量交换率 $w_{ij}$**\n\n单位长度的横向质量交换率 $w_{ij}$ 是从给定的动量和质量平衡方程推导出来的。我们使用压差的大小 $|\\Delta p_{ij}|$ 来求得横向速度的大小 $u_{\\ell}$。\n$$|\\Delta p_{ij}| = K_{\\mathrm{lat}} \\frac{1}{2} \\rho u_{\\ell}^2 \\implies u_{\\ell} = \\sqrt{\\frac{2 |\\Delta p_{ij}|}{K_{\\mathrm{lat}} \\rho}}$$\n单位长度的横向质量交换率的大小 $w = |w_{ij}|$ 则为：\n$$w = \\rho A_{\\ell} u_{\\ell} = \\rho A_{\\ell} \\sqrt{\\frac{2 |\\Delta p_{ij}|}{K_{\\mathrm{lat}} \\rho}} = A_{\\ell} \\sqrt{\\frac{2 \\rho |\\Delta p_{ij}|}{K_{\\mathrm{lat}}}}$$\n\n4.  **出口温度 $T_i(L_m)$ 和 $T_j(L_m)$**\n\n问题假设算术平均温度 $\\overline{T}(x) = \\frac{T_i(x) + T_j(x)}{2}$ 是恒定的。我们可以从我们推导的方程中验证这一点。\n$$\\frac{d\\overline{T}}{dx} = \\frac{1}{2} \\left(\\frac{dT_i}{dx} + \\frac{dT_j}{dx}\\right) = \\frac{1}{2} \\left[ - \\frac{c_p w + E_t}{\\dot{m} c_p} \\Delta T + \\frac{c_p w + E_t}{\\dot{m} c_p} \\Delta T \\right] = 0$$\n这证实了 $\\overline{T}(x)$ 是恒定的，因此 $\\overline{T}(L_m) = \\overline{T}(0)$。\n我们得到一个关于出口温度 $T_i(L_m)$ 和 $T_j(L_m)$ 的二元一次方程组：\n$$T_i(L_m) - T_j(L_m) = \\Delta T(L_m)$$\n$$T_i(L_m) + T_j(L_m) = 2 \\overline{T}(0) = T_i(0) + T_j(0)$$\n求解该方程组可得：\n$$T_i(L_m) = \\frac{T_i(0) + T_j(0) + \\Delta T(L_m)}{2}$$\n$$T_j(Lm) = \\frac{T_i(0) + T_j(0) - \\Delta T(L_m)}{2}$$\n\n5.  **均衡化因子 $f$**\n\n均衡化因子定义为 $f = \\frac{\\Delta T(L_m)}{\\Delta T(0)}$。根据我们对 $\\Delta T(L_m)$ 的表达式：\n$$f = \\exp\\left(-2 \\frac{c_p w + E_t}{\\dot{m} c_p} L_m\\right) = \\exp\\left[-2 \\left(\\frac{w}{\\dot{m}} + \\frac{E_t}{\\dot{m} c_p}\\right) L_m\\right]$$\n\n现在，我们将使用这些推导出的公式来解决给定的测试用例。",
            "answer": "```python\nimport numpy as np\nimport math\n\ndef solve():\n    \"\"\"\n    Computes subchannel thermal-hydraulic exchange for a series of test cases.\n    The derivation is based on a simplified energy balance model provided in the problem statement.\n    \"\"\"\n\n    # Test cases: (delta_p_ij, E_t, rho, K_lat, A_l, L_m, m_dot, c_p, T_i0, T_j0)\n    # Units: (Pa, W/m/K, kg/m^3, -, m, m, kg/s, J/kg/K, K, K)\n    test_cases = [\n        (150.0, 120.0, 700.0, 2.0, 5e-4, 0.8, 0.6, 5000.0, 600.0, 580.0),\n        (0.0, 200.0, 700.0, 2.0, 4e-4, 1.0, 0.5, 5000.0, 590.0, 585.0),\n        (800.0, 0.0, 700.0, 2.0, 6e-4, 0.5, 0.4, 5000.0, 620.0, 580.0),\n        (500.0, 50.0, 700.0, 10.0, 5e-4, 1.0, 0.8, 5000.0, 600.0, 580.0),\n        (300.0, 100.0, 700.0, 2.0, 8e-4, 0.1, 0.6, 5000.0, 610.0, 580.0)\n    ]\n\n    results = []\n    for case in test_cases:\n        delta_p_ij, E_t, rho, K_lat, A_l, L_m, m_dot, c_p, T_i0, T_j0 = case\n\n        # (i) Compute lateral crossflow mass exchange rate per unit length, w_ij\n        # The problem requires using |delta_p_ij| for magnitude calculations.\n        abs_delta_p_ij = abs(delta_p_ij)\n        \n        # Avoid division by zero or square root of negative, though test cases are fine.\n        if K_lat == 0 or rho == 0:\n            u_l = 0.0\n        else:\n            u_l = np.sqrt(2 * abs_delta_p_ij / (K_lat * rho))\n        \n        # w is the magnitude of the lateral mass exchange rate per unit length.\n        w = rho * A_l * u_l\n\n        # (ii) Compute temperature equalization\n        # Initial temperature difference\n        delta_T0 = T_i0 - T_j0\n        \n        # The equalization factor f = exp(-lambda * L_m)\n        # where lambda = 2 * (c_p * w + E_t) / (m_dot * c_p)\n        # The argument of the exponential function:\n        exponent_arg = -2 * (c_p * w + E_t) / (m_dot * c_p) * L_m\n        \n        # Final temperature difference\n        delta_T_Lm = delta_T0 * np.exp(exponent_arg)\n        \n        # Outlet temperatures, assuming constant mean temperature\n        mean_T0 = (T_i0 + T_j0) / 2.0\n        T_i_Lm = mean_T0 + delta_T_Lm / 2.0\n        T_j_Lm = mean_T0 - delta_T_Lm / 2.0\n        \n        # Equalization factor f\n        # Handle case where delta_T0 is zero to avoid division by zero.\n        if delta_T0 == 0:\n            # If there is no initial difference, it remains zero.\n            # The ratio is 1, as no change was needed or occurred.\n            f = 1.0\n        else:\n            f = delta_T_Lm / delta_T0\n            \n        case_results = [w, delta_T_Lm, T_i_Lm, T_j_Lm, f]\n        results.append(case_results)\n\n    # Format the final output string as specified\n    result_strings = []\n    for res in results:\n        # Format each number as a float string\n        formatted_res = [f\"{val:.10f}\".rstrip('0').rstrip('.') if isinstance(val, float) else str(val) for val in res]\n        result_strings.append(f\"[{','.join(formatted_res)}]\")\n        \n    print(f\"[{','.join(result_strings)}]\")\n\nsolve()\n```"
        }
    ]
}