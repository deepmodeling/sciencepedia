{
    "hands_on_practices": [
        {
            "introduction": "Before any fluid flow or heat transfer can be analyzed, we must first precisely define the geometry of our control volume. This foundational practice guides you through the geometric characterization of a typical interior subchannel found in a Pressurized Water Reactor (PWR) fuel assembly. By deriving and calculating the flow area ($A$), wetted perimeter ($P_w$), and hydraulic diameter ($D_h$), you will master the essential first step in setting up any subchannel model.",
            "id": "4253456",
            "problem": "A Pressurized Water Reactor (PWR) assembly consists of a square lattice of fuel rods. Consider a $17\\times 17$ array of identical circular rods with uniform center-to-center spacing (square pitch) $p=1.26\\ \\mathrm{cm}$ and rod outer diameter $d=0.95\\ \\mathrm{cm}$. Focus on an interior subchannel, idealized as the fluid region geometrically bounded by the perpendicular bisectors between adjacent rod centers, such that the solid boundary consists of portions of four neighboring rod surfaces. Using only fundamental geometric partitioning and the standard definitions of wetted perimeter and hydraulic diameter, derive expressions for the subchannel flow area $A$, wetted perimeter $P_{w}$, and hydraulic diameter $D_{h}$ for this interior subchannel. Then evaluate these expressions numerically for the given $p$ and $d$. Express $A$ in $\\mathrm{cm}^{2}$ and $P_{w}$ and $D_{h}$ in $\\mathrm{cm}$. Round your final numerical results to four significant figures.",
            "solution": "The problem statement is critically evaluated and found to be valid. It is scientifically grounded in the principles of fluid mechanics and nuclear engineering, specifically subchannel thermal-hydraulics. The problem is well-posed, providing all necessary geometric parameters ($p=1.26\\ \\mathrm{cm}$, $d=0.95\\ \\mathrm{cm}$) and clear, objective definitions to derive the requested quantities ($A$, $P_w$, $D_h$). The provided values are physically realistic for a Pressurized Water Reactor fuel assembly.\n\nThe task is to derive expressions for the flow area $A$, wetted perimeter $P_w$, and hydraulic diameter $D_h$ for an interior subchannel in a square lattice of fuel rods, and then to compute their numerical values.\n\nAn interior subchannel is defined as the fluid region bounded by the perpendicular bisectors of the lines connecting the centers of four adjacent fuel rods. This defines a square control volume with side length equal to the pitch, $p$. The center of this square is the center of the subchannel.\n\nThe solid boundaries within this control volume are four circular arcs, one from each of the four surrounding fuel rods. Each rod has an outer diameter $d$, and thus a radius $r = d/2$. Since the control volume is centered among the four rods, each rod contributes a quarter-circle of its cross-section to the corners of the square control volume.\n\nFirst, we derive the expression for the flow area, $A$. The flow area is the total area of the square control volume minus the area occupied by the solid fuel rods.\nThe total area of the square control volume is:\n$$A_{\\text{total}} = p^{2}$$\nThe area occupied by the solid rods within this volume consists of four quarter-circles of radius $r$. The total solid area is equivalent to the area of one full circle of radius $r$:\n$$A_{\\text{solid}} = 4 \\times \\left(\\frac{1}{4} \\pi r^{2}\\right) = \\pi r^{2}$$\nSubstituting $r = d/2$:\n$$A_{\\text{solid}} = \\pi \\left(\\frac{d}{2}\\right)^{2} = \\frac{\\pi d^{2}}{4}$$\nThe flow area $A$ is the difference between the total area and the solid area:\n$$A = A_{\\text{total}} - A_{\\text{solid}} = p^{2} - \\frac{\\pi d^{2}}{4}$$\n\nNext, we derive the expression for the wetted perimeter, $P_w$. The wetted perimeter is the length of the solid-fluid interface. In this case, it is the combined length of the four circular arcs of the fuel rods that bound the subchannel. The length of one quarter-circular arc of radius $r$ is:\n$$L_{\\text{arc}} = \\frac{1}{4} (2 \\pi r) = \\frac{\\pi r}{2}$$\nSince there are four such arcs, the total wetted perimeter $P_w$ is:\n$$P_w = 4 \\times L_{\\text{arc}} = 4 \\times \\frac{\\pi r}{2} = 2 \\pi r$$\nSubstituting $r = d/2$:\n$$P_w = 2 \\pi \\left(\\frac{d}{2}\\right) = \\pi d$$\n\nFinally, we derive the expression for the hydraulic diameter, $D_h$. The standard definition for hydraulic diameter is:\n$$D_h = \\frac{4A}{P_w}$$\nSubstituting the expressions derived for $A$ and $P_w$:\n$$D_h = \\frac{4\\left(p^{2} - \\frac{\\pi d^{2}}{4}\\right)}{\\pi d}$$\nThis expression can be simplified to:\n$$D_h = \\frac{4p^{2} - \\pi d^{2}}{\\pi d}$$\nOr, alternatively:\n$$D_h = \\frac{4p^{2}}{\\pi d} - d$$\n\nNow we evaluate these expressions numerically using the given values $p=1.26\\ \\mathrm{cm}$ and $d=0.95\\ \\mathrm{cm}$.\n\nThe flow area $A$ is:\n$$A = (1.26\\ \\mathrm{cm})^{2} - \\frac{\\pi (0.95\\ \\mathrm{cm})^{2}}{4}$$\n$$A = 1.5876\\ \\mathrm{cm}^{2} - \\frac{\\pi (0.9025\\ \\mathrm{cm}^{2})}{4}$$\n$$A \\approx 1.5876\\ \\mathrm{cm}^{2} - \\frac{2.835287\\ \\mathrm{cm}^{2}}{4}$$\n$$A \\approx 1.5876\\ \\mathrm{cm}^{2} - 0.708822\\ \\mathrm{cm}^{2}$$\n$$A \\approx 0.878778\\ \\mathrm{cm}^{2}$$\nRounding to four significant figures, the flow area is $A = 0.8788\\ \\mathrm{cm}^{2}$.\n\nThe wetted perimeter $P_w$ is:\n$$P_w = \\pi (0.95\\ \\mathrm{cm})$$\n$$P_w \\approx 2.984513\\ \\mathrm{cm}$$\nRounding to four significant figures, the wetted perimeter is $P_w = 2.985\\ \\mathrm{cm}$.\n\nThe hydraulic diameter $D_h$ is:\n$$D_h = \\frac{4A}{P_w} = \\frac{4 \\times 0.878778\\ \\mathrm{cm}^{2}}{2.984513\\ \\mathrm{cm}}$$\n$$D_h \\approx \\frac{3.515112\\ \\mathrm{cm}^{2}}{2.984513\\ \\mathrm{cm}}$$\n$$D_h \\approx 1.17779\\ \\mathrm{cm}$$\nRounding to four significant figures, the hydraulic diameter is $D_h = 1.178\\ \\mathrm{cm}$.\n\nThe final answer will present the numerical results for $A$ (in $\\mathrm{cm}^{2}$), $P_w$ (in $\\mathrm{cm}$), and $D_h$ (in $\\mathrm{cm}$), in that order.",
            "answer": "$$\\boxed{\\begin{pmatrix} 0.8788 & 2.985 & 1.178 \\end{pmatrix}}$$"
        },
        {
            "introduction": "With the subchannel geometry defined, we can model the fluid's behavior as it flows through a single, isolated channel, using parameters like the hydraulic diameter from the previous exercise (). This practice involves applying the one-dimensional conservation laws for momentum and energy to calculate the pressure drop and temperature rise along a heated channel. By implementing these fundamental balances, you will build a simple solver that forms the axial integration core of any subchannel analysis program.",
            "id": "4253443",
            "problem": "Consider a single-phase, incompressible, steady flow of a coolant in a heated subchannel of axial length $L$ with constant cross-sectional flow area $A$ and hydraulic diameter $D_h$. The mass flux is $G$, density is $\\rho$, dynamic viscosity is $\\mu$, and constant-pressure specific heat is $c_p$. The subchannel wetted perimeter $P_w$ is related to the hydraulic diameter and area by $D_h = 4 A / P_w$, which implies $P_w = 4 A / D_h$. The inlet bulk temperature is $T_\\mathrm{in}$ at $z=0$. The axial wall heat flux distribution is $q''(z)$, which is absorbed by the fluid, causing an axial rise in bulk temperature.\n\nAssume the following physically sound and widely used modeling assumptions:\n- The flow is steady, single-phase, and incompressible.\n- Axial conduction in the fluid and wall is negligible compared to convection.\n- Properties $\\rho$, $\\mu$, and $c_p$ are constant along $z$.\n- The flow is fully developed in the sense that the frictional pressure gradient follows the Darcy–Weisbach framework.\n- Hydrostatic effects are negligible along the axis (horizontal subchannel) and form losses are absent.\n\nStarting from the fundamental balance laws:\n- Axial energy balance for a differential control volume requires that the axial rate of change of bulk enthalpy equals the wall heat input per unit axial length transferred to the fluid. For bulk temperature $T_b(z)$, this yields\n$$\n\\frac{d T_b}{d z} = \\frac{q''(z) \\, P_w}{G \\, A \\, c_p}.\n$$\n- Axial momentum balance relating the wall shear stress $\\tau_w$ to the pressure gradient gives, for Darcy friction factor $f_D$,\n$$\n\\frac{d p}{d z} = - \\frac{f_D \\, \\rho \\, u^2}{2 \\, D_h},\n$$\nwhere $u = G / \\rho$ is the mean axial velocity. Equivalently, in terms of mass flux,\n$$\n\\frac{d p}{d z} = - \\frac{f_D \\, G^2}{2 \\, \\rho \\, D_h}.\n$$\n\nThe Darcy friction factor $f_D$ is specified as a function of the Reynolds number $\\mathrm{Re}$,\n$$\n\\mathrm{Re} = \\frac{G \\, D_h}{\\mu},\n$$\nvia the following widely used correlations:\n- Laminar regime for $0 < \\mathrm{Re} < 2100$: \n$$\nf_D(\\mathrm{Re}) = \\frac{64}{\\mathrm{Re}}.\n$$\n- Turbulent regime for $\\mathrm{Re} \\ge 2100$ (Blasius correlation for smooth channels):\n$$\nf_D(\\mathrm{Re}) = 0.3164 \\, \\mathrm{Re}^{-0.25}.\n$$\n\nYour task is to implement a program that, for each specified test case, computes:\n1. The axial pressure drop\n$$\n\\Delta p = \\int_0^L \\left( - \\frac{d p}{d z} \\right) \\, dz = \\frac{f_D(\\mathrm{Re}) \\, G^2 \\, L}{2 \\, \\rho \\, D_h}\n$$\nexpressed in $\\mathrm{Pa}$.\n2. The outlet bulk temperature\n$$\nT_\\mathrm{out} = T_\\mathrm{in} + \\int_0^L \\frac{q''(z) \\, P_w}{G \\, A \\, c_p} \\, dz\n$$\nexpressed in $\\mathrm{K}$.\n\nThe axial wall heat flux $q''(z)$ is provided in closed form. The program should support the following scientifically realistic distributions:\n- Uniform heating: \n$$\nq''(z) = q_0,\n$$\nwith constant $q_0 \\ge 0$. Then \n$$\n\\int_0^L q''(z) \\, dz = q_0 \\, L.\n$$\n- Sinusoidally modulated heating:\n$$\nq''(z) = q_0 \\left[ 1 + \\alpha \\, \\sin\\!\\left( \\frac{\\pi z}{L} \\right) \\right], \\quad -1 \\le \\alpha \\le 1,\n$$\nwith \n$$\n\\int_0^L q''(z) \\, dz = q_0 \\, L \\left( 1 + \\frac{2 \\alpha}{\\pi} \\right).\n$$\n- Linearly ramped heating:\n$$\nq''(z) = q_0 \\left( 1 + \\beta \\frac{z}{L} \\right), \\quad \\beta \\in \\mathbb{R},\n$$\nwith \n$$\n\\int_0^L q''(z) \\, dz = q_0 \\, L \\left( 1 + \\frac{\\beta}{2} \\right).\n$$\n\nAll inputs and outputs must use the International System of Units (SI). Specifically:\n- Length $L$ in $\\mathrm{m}$.\n- Mass flux $G$ in $\\mathrm{kg} \\, \\mathrm{m}^{-2} \\, \\mathrm{s}^{-1}$.\n- Hydraulic diameter $D_h$ in $\\mathrm{m}$.\n- Area $A$ in $\\mathrm{m}^2$.\n- Density $\\rho$ in $\\mathrm{kg} \\, \\mathrm{m}^{-3}$.\n- Dynamic viscosity $\\mu$ in $\\mathrm{Pa} \\cdot \\mathrm{s}$.\n- Specific heat $c_p$ in $\\mathrm{J} \\, \\mathrm{kg}^{-1} \\, \\mathrm{K}^{-1}$.\n- Heat flux $q_0$ in $\\mathrm{W} \\, \\mathrm{m}^{-2}$.\n- Temperatures $T_\\mathrm{in}$ and $T_\\mathrm{out}$ in $\\mathrm{K}$.\n- Pressure drop $\\Delta p$ in $\\mathrm{Pa}$.\n\nDesign and implement your program to compute $\\Delta p$ and $T_\\mathrm{out}$ for each of the following test cases. Use the precise parameter values given.\n\nTest Suite:\n- Case $1$ (general turbulent, uniform heating):\n  - $L = 3.6 \\ \\mathrm{m}$, $G = 2000 \\ \\mathrm{kg} \\, \\mathrm{m}^{-2} \\, \\mathrm{s}^{-1}$, $D_h = 0.012 \\ \\mathrm{m}$, $A = 1.2 \\times 10^{-4} \\ \\mathrm{m}^2$, $\\rho = 997 \\ \\mathrm{kg} \\, \\mathrm{m}^{-3}$, $\\mu = 8.9 \\times 10^{-4} \\ \\mathrm{Pa} \\cdot \\mathrm{s}$, $c_p = 4180 \\ \\mathrm{J} \\, \\mathrm{kg}^{-1} \\, \\mathrm{K}^{-1}$, $T_\\mathrm{in} = 300 \\ \\mathrm{K}$, $q''(z) = q_0$ with $q_0 = 5.0 \\times 10^{5} \\ \\mathrm{W} \\, \\mathrm{m}^{-2}$.\n- Case $2$ (laminar, zero heating boundary case):\n  - $L = 2.0 \\ \\mathrm{m}$, $G = 50 \\ \\mathrm{kg} \\, \\mathrm{m}^{-2} \\, \\mathrm{s}^{-1}$, $D_h = 0.012 \\ \\mathrm{m}$, $A = 1.2 \\times 10^{-4} \\ \\mathrm{m}^2$, $\\rho = 1000 \\ \\mathrm{kg} \\, \\mathrm{m}^{-3}$, $\\mu = 1.0 \\times 10^{-3} \\ \\mathrm{Pa} \\cdot \\mathrm{s}$, $c_p = 4180 \\ \\mathrm{J} \\, \\mathrm{kg}^{-1} \\, \\mathrm{K}^{-1}$, $T_\\mathrm{in} = 300 \\ \\mathrm{K}$, $q''(z) = q_0$ with $q_0 = 0.0 \\ \\mathrm{W} \\, \\mathrm{m}^{-2}$.\n- Case $3$ (turbulent, sinusoidal heating):\n  - $L = 4.5 \\ \\mathrm{m}$, $G = 4000 \\ \\mathrm{kg} \\, \\mathrm{m}^{-2} \\, \\mathrm{s}^{-1}$, $D_h = 0.010 \\ \\mathrm{m}$, $A = 1.0 \\times 10^{-4} \\ \\mathrm{m}^2$, $\\rho = 1000 \\ \\mathrm{kg} \\, \\mathrm{m}^{-3}$, $\\mu = 1.0 \\times 10^{-3} \\ \\mathrm{Pa} \\cdot \\mathrm{s}$, $c_p = 4200 \\ \\mathrm{J} \\, \\mathrm{kg}^{-1} \\, \\mathrm{K}^{-1}$, $T_\\mathrm{in} = 300 \\ \\mathrm{K}$, $q''(z) = q_0 \\left[ 1 + \\alpha \\, \\sin\\!\\left( \\frac{\\pi z}{L} \\right) \\right]$ with $q_0 = 8.0 \\times 10^{5} \\ \\mathrm{W} \\, \\mathrm{m}^{-2}$ and $\\alpha = 0.5$.\n- Case $4$ (turbulent, linearly ramped heating):\n  - $L = 3.0 \\ \\mathrm{m}$, $G = 3000 \\ \\mathrm{kg} \\, \\mathrm{m}^{-2} \\, \\mathrm{s}^{-1}$, $D_h = 0.015 \\ \\mathrm{m}$, $A = 2.0 \\times 10^{-4} \\ \\mathrm{m}^2$, $\\rho = 995 \\ \\mathrm{kg} \\, \\mathrm{m}^{-3}$, $\\mu = 7.0 \\times 10^{-4} \\ \\mathrm{Pa} \\cdot \\mathrm{s}$, $c_p = 4200 \\ \\mathrm{J} \\, \\mathrm{kg}^{-1} \\, \\mathrm{K}^{-1}$, $T_\\mathrm{in} = 290 \\ \\mathrm{K}$, $q''(z) = q_0 \\left( 1 + \\beta \\frac{z}{L} \\right)$ with $q_0 = 6.0 \\times 10^{5} \\ \\mathrm{W} \\, \\mathrm{m}^{-2}$ and $\\beta = 0.2$.\n- Case $5$ (near-transition Reynolds number, uniform heating):\n  - $L = 1.0 \\ \\mathrm{m}$, $G = 262.5 \\ \\mathrm{kg} \\, \\mathrm{m}^{-2} \\, \\mathrm{s}^{-1}$, $D_h = 0.008 \\ \\mathrm{m}$, $A = 8.0 \\times 10^{-5} \\ \\mathrm{m}^2$, $\\rho = 1000 \\ \\mathrm{kg} \\, \\mathrm{m}^{-3}$, $\\mu = 1.0 \\times 10^{-3} \\ \\mathrm{Pa} \\cdot \\mathrm{s}$, $c_p = 4180 \\ \\mathrm{J} \\, \\mathrm{kg}^{-1} \\, \\mathrm{K}^{-1}$, $T_\\mathrm{in} = 300 \\ \\mathrm{K}$, $q''(z) = q_0$ with $q_0 = 3.0 \\times 10^{5} \\ \\mathrm{W} \\, \\mathrm{m}^{-2}$.\n\nYour program must compute $\\Delta p$ and $T_\\mathrm{out}$ for each case and produce a single line of output containing the results as a comma-separated list enclosed in square brackets, where each element is a two-element list $[\\Delta p, T_\\mathrm{out}]$ in the order of the test suite cases. For example, the output must look exactly like\n$$\n\\left[ [\\Delta p_1, T_{\\mathrm{out},1}], [\\Delta p_2, T_{\\mathrm{out},2}], \\dots \\right]\n$$\nwith numerical values, in $\\mathrm{Pa}$ for pressure and $\\mathrm{K}$ for temperature, without any additional text.",
            "solution": "The problem statement has been critically examined and is found to be valid. It is scientifically sound, well-posed, objective, and provides a complete and consistent set of information for a standard thermal-hydraulics calculation. The underlying physical model, based on one-dimensional steady-state conservation laws with standard correlations, is appropriate for an engineering analysis of a heated subchannel. We can thus proceed with a formal solution.\n\nThe objective is to compute the axial pressure drop, $\\Delta p$, and the outlet bulk temperature, $T_{\\mathrm{out}}$, for a fluid flowing through a heated subchannel. The solution is derived from the fundamental balance equations provided.\n\n**1. Calculation of Axial Pressure Drop ($\\Delta p$)**\n\nThe axial pressure drop is governed by the momentum balance equation, which for a horizontal channel with fully developed flow and negligible form losses, relates the pressure gradient to the wall shear stress. The formulation provided uses the Darcy-Weisbach equation:\n$$\n\\frac{d p}{d z} = - \\frac{f_D \\, G^2}{2 \\, \\rho \\, D_h}\n$$\nwhere $p(z)$ is the axial pressure profile, $f_D$ is the Darcy friction factor, $G$ is the mass flux, $\\rho$ is the fluid density, and $D_h$ is the hydraulic diameter.\n\nThe total pressure drop, $\\Delta p = p(0) - p(L)$, is found by integrating the negative of the pressure gradient along the channel length $L$:\n$$\n\\Delta p = \\int_0^L \\left( -\\frac{d p}{d z} \\right) dz = \\int_0^L \\frac{f_D \\, G^2}{2 \\, \\rho \\, D_h} dz\n$$\nAccording to the problem's assumptions, the fluid properties $\\rho$ and $\\mu$ are constant. The mass flux $G$ and geometric parameters $D_h$ and $L$ are also constant. Consequently, the Reynolds number, $\\mathrm{Re}$, is constant along the axial coordinate $z$. This implies that the friction factor $f_D$, which depends only on $\\mathrm{Re}$, is also constant. All terms in the integrand are therefore constant, and the integration becomes trivial:\n$$\n\\Delta p = \\frac{f_D \\, G^2}{2 \\, \\rho \\, D_h} \\int_0^L dz = \\frac{f_D \\, G^2 \\, L}{2 \\, \\rho \\, D_h}\n$$\nThe computational procedure for $\\Delta p$ is as follows:\n\nFirst, we calculate the Reynolds number, a dimensionless quantity that characterizes the flow regime:\n$$\n\\mathrm{Re} = \\frac{G \\, D_h}{\\mu}\n$$\nwhere $\\mu$ is the dynamic viscosity.\n\nSecond, based on the value of $\\mathrm{Re}$, we determine the Darcy friction factor $f_D$ using the provided correlations:\n- If $\\mathrm{Re} < 2100$ (laminar flow):\n$$\nf_D = \\frac{64}{\\mathrm{Re}}\n$$\n- If $\\mathrm{Re} \\ge 2100$ (turbulent flow):\n$$\nf_D = 0.3164 \\, \\mathrm{Re}^{-0.25}\n$$\nFinally, we substitute the calculated $f_D$ into the equation for $\\Delta p$.\n\n**2. Calculation of Outlet Bulk Temperature ($T_{\\mathrm{out}}$)**\n\nThe outlet temperature is determined by the conservation of energy. The axial energy balance for a differential control volume equates the change in advected enthalpy to the heat added from the wall:\n$$\n\\frac{d T_b}{d z} = \\frac{q''(z) \\, P_w}{G \\, A \\, c_p}\n$$\nHere, $T_b(z)$ is the bulk fluid temperature, $q''(z)$ is the axial wall heat flux, $P_w$ is the wetted perimeter, $A$ is the flow area, and $c_p$ is the specific heat at constant pressure.\n\nTo find the outlet temperature $T_{\\mathrm{out}} = T_b(L)$, we integrate this ordinary differential equation from the inlet ($z=0$) to the outlet ($z=L$):\n$$\n\\int_{T_\\mathrm{in}}^{T_\\mathrm{out}} d T_b = \\int_0^L \\frac{q''(z) \\, P_w}{G \\, A \\, c_p} dz\n$$\n$$\nT_\\mathrm{out} - T_\\mathrm{in} = \\int_0^L \\frac{q''(z) \\, P_w}{G \\, A \\, c_p} dz\n$$\nSince $G$, $A$, $c_p$, and $P_w$ are constant, we can move them outside the integral:\n$$\nT_\\mathrm{out} = T_\\mathrm{in} + \\frac{P_w}{G \\, A \\, c_p} \\int_0^L q''(z) dz\n$$\nThe wetted perimeter $P_w$ is related to the hydraulic diameter $D_h$ and area $A$ by $P_w = 4A/D_h$. Substituting this relation simplifies the coefficient, revealing that the temperature rise is independent of the flow area $A$:\n$$\nT_\\mathrm{out} = T_\\mathrm{in} + \\frac{4A/D_h}{G \\, A \\, c_p} \\int_0^L q''(z) dz = T_\\mathrm{in} + \\frac{4}{G \\, D_h \\, c_p} \\int_0^L q''(z) dz\n$$\nThe final step is to evaluate the integral of the heat flux, $\\int_0^L q''(z) dz$, using the closed-form expressions provided for each type of axial distribution:\n- Uniform heating, $q''(z) = q_0$:\n$$\n\\int_0^L q_0 dz = q_0 L\n$$\n- Sinusoidally modulated heating, $q''(z) = q_0 \\left[ 1 + \\alpha \\, \\sin\\!\\left( \\frac{\\pi z}{L} \\right) \\right]$:\n$$\n\\int_0^L q_0 \\left[ 1 + \\alpha \\, \\sin\\!\\left( \\frac{\\pi z}{L} \\right) \\right] dz = q_0 \\left[z - \\frac{\\alpha L}{\\pi} \\cos\\!\\left(\\frac{\\pi z}{L}\\right)\\right]_0^L = q_0 L \\left( 1 + \\frac{2\\alpha}{\\pi} \\right)\n$$\n- Linearly ramped heating, $q''(z) = q_0 \\left( 1 + \\beta \\frac{z}{L} \\right)$:\n$$\n\\int_0^L q_0 \\left( 1 + \\beta \\frac{z}{L} \\right) dz = q_0 \\left[z + \\frac{\\beta z^2}{2L}\\right]_0^L = q_0 L \\left( 1 + \\frac{\\beta}{2} \\right)\n$$\nBy substituting the appropriate integral value into the expression for $T_{\\mathrm{out}}$, we obtain the final result.\n\nThe algorithm developed from this analysis will be implemented to process each test case.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes pressure drop and outlet temperature for coolant flow in a heated subchannel\n    for a series of test cases.\n    \"\"\"\n    \n    # Define the test cases as a list of dictionaries.\n    test_cases = [\n        # Case 1: general turbulent, uniform heating\n        {\n            \"type\": \"uniform\",\n            \"params\": {\n                \"L\": 3.6, \"G\": 2000, \"D_h\": 0.012, \"A\": 1.2e-4, \"rho\": 997, \n                \"mu\": 8.9e-4, \"c_p\": 4180, \"T_in\": 300, \"q_0\": 5.0e5\n            }\n        },\n        # Case 2: laminar, zero heating boundary case\n        {\n            \"type\": \"uniform\",\n            \"params\": {\n                \"L\": 2.0, \"G\": 50, \"D_h\": 0.012, \"A\": 1.2e-4, \"rho\": 1000, \n                \"mu\": 1.0e-3, \"c_p\": 4180, \"T_in\": 300, \"q_0\": 0.0\n            }\n        },\n        # Case 3: turbulent, sinusoidal heating\n        {\n            \"type\": \"sinusoidal\",\n            \"params\": {\n                \"L\": 4.5, \"G\": 4000, \"D_h\": 0.010, \"A\": 1.0e-4, \"rho\": 1000, \n                \"mu\": 1.0e-3, \"c_p\": 4200, \"T_in\": 300, \"q_0\": 8.0e5, \"alpha\": 0.5\n            }\n        },\n        # Case 4: turbulent, linearly ramped heating\n        {\n            \"type\": \"linear\",\n            \"params\": {\n                \"L\": 3.0, \"G\": 3000, \"D_h\": 0.015, \"A\": 2.0e-4, \"rho\": 995, \n                \"mu\": 7.0e-4, \"c_p\": 4200, \"T_in\": 290, \"q_0\": 6.0e5, \"beta\": 0.2\n            }\n        },\n        # Case 5: near-transition Reynolds number, uniform heating\n        {\n            \"type\": \"uniform\",\n            \"params\": {\n                \"L\": 1.0, \"G\": 262.5, \"D_h\": 0.008, \"A\": 8.0e-5, \"rho\": 1000, \n                \"mu\": 1.0e-3, \"c_p\": 4180, \"T_in\": 300, \"q_0\": 3.0e5\n            }\n        }\n    ]\n\n    results = []\n    for case_data in test_cases:\n        params = case_data[\"params\"]\n        \n        L = params[\"L\"]\n        G = params[\"G\"]\n        D_h = params[\"D_h\"]\n        rho = params[\"rho\"]\n        mu = params[\"mu\"]\n        c_p = params[\"c_p\"]\n        T_in = params[\"T_in\"]\n        q_0 = params[\"q_0\"]\n        \n        # 1. Calculate Reynolds Number\n        Re = (G * D_h) / mu\n        \n        # 2. Calculate Darcy Friction Factor\n        if Re < 2100:\n            # Laminar flow\n            f_D = 64 / Re\n        else:\n            # Turbulent flow (Re >= 2100)\n            f_D = 0.3164 * Re**(-0.25)\n            \n        # 3. Calculate Pressure Drop (delta_p)\n        delta_p = (f_D * G**2 * L) / (2 * rho * D_h)\n        \n        # 4. Calculate Outlet Temperature (T_out)\n        \n        # 4a. Evaluate the integral of the heat flux over length L\n        q_integral = 0.0\n        flux_type = case_data[\"type\"]\n        if flux_type == \"uniform\":\n            q_integral = q_0 * L\n        elif flux_type == \"sinusoidal\":\n            alpha = params[\"alpha\"]\n            q_integral = q_0 * L * (1 + (2 * alpha) / np.pi)\n        elif flux_type == \"linear\":\n            beta = params[\"beta\"]\n            q_integral = q_0 * L * (1 + beta / 2)\n        \n        # 4b. Calculate the temperature rise and the outlet temperature\n        # delta_T = (P_w / (G * A * c_p)) * q_integral\n        # P_w = 4 * A / D_h  =>  delta_T = (4 / (G * D_h * c_p)) * q_integral\n        delta_T = (4 * q_integral) / (G * D_h * c_p)\n        T_out = T_in + delta_T\n        \n        results.append([delta_p, T_out])\n\n    # Format the final output string as specified: [[dp1, Tout1],[dp2, Tout2],...]\n    # Using map(str, ...) automatically handles list-to-string conversion with spaces.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "The defining feature of subchannel analysis, which distinguishes it from simple pipe-flow calculations, is the interaction between adjacent channels. This final practice moves beyond the isolated channel model () to simulate the lateral exchange of mass and energy driven by pressure differences and turbulent mixing. By analyzing this coupling, you will explore how temperature imbalances between subchannels naturally equalize, a critical phenomenon for accurately predicting peak cladding temperatures and ensuring reactor safety.",
            "id": "4253455",
            "problem": "You are analyzing two adjacent subchannels in a nuclear reactor rod bundle using subchannel thermal-hydraulics. Assume incompressible, steady flow, negligible axial conduction, and no external heat sources or sinks over a prescribed axial segment called the mixing length. The subchannels exchange lateral momentum and energy due to a pressure difference and turbulent mixing. Your task is to derive from first principles and compute: (i) the lateral crossflow mass exchange rate per unit length, and (ii) the resulting equalization of temperature between the two subchannels over the given mixing length.\n\nFundamental base for derivation must start from the following:\n- Mechanical energy balance with a minor loss across the lateral hydraulic path: the relation between the pressure difference and the resulting lateral velocity is given by $\\,\\Delta p_{ij} = K_{\\mathrm{lat}} \\,\\frac{1}{2}\\,\\rho\\,u_{\\ell}^2\\,$, where $\\,\\Delta p_{ij}\\,$ is the static pressure difference between subchannels $\\,i\\,$ and $\\,j\\,$, $\\,K_{\\mathrm{lat}}\\,$ is a dimensionless loss coefficient for the lateral path, $\\,\\rho\\,$ is the fluid density, and $\\,u_{\\ell}\\,$ is the lateral velocity.\n- Mass continuity for lateral exchange per unit axial length using a lateral hydraulic area density: the lateral mass exchange rate per unit length is $\\,w_{ij} = \\rho\\,A_{\\ell}\\,u_{\\ell}\\,$, where $\\,A_{\\ell}\\,$ is the effective lateral open area per unit axial length (units of meters), representing the net hydraulic communication area density between the subchannels.\n- Energy conservation (enthalpy balance) in each subchannel segment over the mixing length with two coupling mechanisms:\n  1. Convective enthalpy exchange associated with the lateral mass exchange, modeled as proportional to the temperature difference $\\,T_i - T_j\\,$ with strength $\\,c_p\\,w_{ij}\\,$, where $\\,c_p\\,$ is the specific heat at constant pressure.\n  2. Turbulent thermal coupling characterized by a thermal mixing conductance per unit length, also denoted $\\,E_t\\,$ for this problem (with units of watts per meter per kelvin, distinct from the mixing coefficient in m²/s discussed in the main text), producing an energy exchange $\\,E_t\\,(T_i - T_j)\\,$ per unit length.\n\nAssume $\\,\\dot{m}_i = \\dot{m}_j = \\dot{m}\\,$, $\\,c_p\\,$, $\\,\\rho\\,$, $\\,K_{\\mathrm{lat}}\\,$, $\\,A_{\\ell}\\,$, $\\,E_t\\,$, and $\\,\\Delta p_{ij}\\,$ are constant over the mixing length $\\,L_m\\,$. Let the initial temperatures at the inlet of the segment be $\\,T_i(0)\\,$ and $\\,T_j(0)\\,$. Define the temperature difference $\\,\\Delta T(x) = T_i(x) - T_j(x)\\,$ and the arithmetic mean temperature $\\,\\overline{T}(x) = \\frac{T_i(x) + T_j(x)}{2}\\,$.\n\nStarting only from the above fundamental relations, derive an expression for $\\,\\Delta T(L_m)\\,$ in terms of $\\,\\Delta T(0)\\,$, $\\,E_t\\,$, $\\,w_{ij}\\,$, $\\,\\dot{m}\\,$, $\\,c_p\\,$, and $\\,L_m\\,$, and compute $\\,w_{ij}\\,$ from $\\,\\Delta p_{ij}\\,$ using the minor loss relation. Use the sign of $\\,\\Delta p_{ij}\\,$ only to determine the direction of crossflow; for temperature equalization magnitude, use $\\,|w_{ij}|\\,$.\n\nYou must implement a complete, runnable program that:\n- Computes $\\,u_{\\ell}\\,$ from $\\,\\Delta p_{ij}\\,$ and $\\,K_{\\mathrm{lat}}\\,$.\n- Computes $\\,w_{ij}\\,$ as a mass exchange rate per unit length in $\\,\\mathrm{kg}\\,\\mathrm{s}^{-1}\\,\\mathrm{m}^{-1}\\,$.\n- Computes $\\,\\Delta T(L_m)\\,$ in $\\,\\mathrm{K}\\,$.\n- Computes the outlet temperatures $\\,T_i(L_m)\\,$ and $\\,T_j(L_m)\\,$ in $\\,\\mathrm{K}\\,$ under the assumption that $\\,\\overline{T}(x)\\,$ remains constant in the absence of external heat addition or removal.\n- Computes the equalization factor $\\,f = \\frac{\\Delta T(L_m)}{\\Delta T(0)}\\,$ as a dimensionless float.\n\nPhysical units and output requirements:\n- Express $\\,w_{ij}\\,$ in $\\,\\mathrm{kg}\\,\\mathrm{s}^{-1}\\,\\mathrm{m}^{-1}\\,$.\n- Express all temperatures and temperature differences in $\\,\\mathrm{K}\\,$.\n- Express the equalization factor $\\,f\\,$ as a decimal (no percentage sign).\n\nTest suite:\nProvide a program that evaluates the following five test cases covering a general case, zero pressure difference, zero turbulent mixing, high lateral resistance, and short mixing length. For each case, the parameters are given as a tuple $\\,(\\Delta p_{ij}, E_t, \\rho, K_{\\mathrm{lat}}, A_{\\ell}, L_m, \\dot{m}, c_p, T_i(0), T_j(0))\\,$ with units specified inline:\n1. General case: $\\,(150\\,\\mathrm{Pa},\\,120\\,\\mathrm{W}\\,\\mathrm{m}^{-1}\\,\\mathrm{K}^{-1},\\,700\\,\\mathrm{kg}\\,\\mathrm{m}^{-3},\\,2.0,\\,5\\times10^{-4}\\,\\mathrm{m},\\,0.8\\,\\mathrm{m},\\,0.6\\,\\mathrm{kg}\\,\\mathrm{s}^{-1},\\,5000\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1},\\,600\\,\\mathrm{K},\\,580\\,\\mathrm{K})$.\n2. Zero pressure difference: $\\,(0\\,\\mathrm{Pa},\\,200\\,\\mathrm{W}\\,\\mathrm{m}^{-1}\\,\\mathrm{K}^{-1},\\,700\\,\\mathrm{kg}\\,\\mathrm{m}^{-3},\\,2.0,\\,4\\times10^{-4}\\,\\mathrm{m},\\,1.0\\,\\mathrm{m},\\,0.5\\,\\mathrm{kg}\\,\\mathrm{s}^{-1},\\,5000\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1},\\,590\\,\\mathrm{K},\\,585\\,\\mathrm{K})$.\n3. Zero turbulent mixing, strong crossflow: $\\,(800\\,\\mathrm{Pa},\\,0\\,\\mathrm{W}\\,\\mathrm{m}^{-1}\\,\\mathrm{K}^{-1},\\,700\\,\\mathrm{kg}\\,\\mathrm{m}^{-3},\\,2.0,\\,6\\times10^{-4}\\,\\mathrm{m},\\,0.5\\,\\mathrm{m},\\,0.4\\,\\mathrm{kg}\\,\\mathrm{s}^{-1},\\,5000\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1},\\,620\\,\\mathrm{K},\\,580\\,\\mathrm{K})$.\n4. High resistance lateral path: $\\,(500\\,\\mathrm{Pa},\\,50\\,\\mathrm{W}\\,\\mathrm{m}^{-1}\\,\\mathrm{K}^{-1},\\,700\\,\\mathrm{kg}\\,\\mathrm{m}^{-3},\\,10.0,\\,5\\times10^{-4}\\,\\mathrm{m},\\,1.0\\,\\mathrm{m},\\,0.8\\,\\mathrm{kg}\\,\\mathrm{s}^{-1},\\,5000\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1},\\,600\\,\\mathrm{K},\\,580\\,\\mathrm{K})$.\n5. Short mixing length: $\\,(300\\,\\mathrm{Pa},\\,100\\,\\mathrm{W}\\,\\mathrm{m}^{-1}\\,\\mathrm{K}^{-1},\\,700\\,\\mathrm{kg}\\,\\mathrm{m}^{-3},\\,2.0,\\,8\\times10^{-4}\\,\\mathrm{m},\\,0.1\\,\\mathrm{m},\\,0.6\\,\\mathrm{kg}\\,\\mathrm{s}^{-1},\\,5000\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1},\\,610\\,\\mathrm{K},\\,580\\,\\mathrm{K})$.\n\nFinal output format:\nYour program should produce a single line of output containing a comma-separated list of the results for the five test cases, enclosed in square brackets. Each test case result must itself be a list in the form $[w_{ij}, \\Delta T(L_m), T_i(L_m), T_j(L_m), f]$. For example, the overall output should look like $[[w_1,\\Delta T_1,T_{i,1},T_{j,1},f_1],[w_2,\\Delta T_2,T_{i,2},T_{j,2},f_2],\\dots]$, with all numerical values as floats.",
            "solution": "The user wants me to solve a thermal-hydraulics problem concerning two adjacent subchannels in a nuclear reactor.\n\n### Problem Validation\n\nI have meticulously reviewed the problem statement.\n\n- **Givens**: The problem provides the governing equations for lateral momentum and mass exchange ($\\Delta p_{ij} = K_{\\mathrm{lat}} \\,\\frac{1}{2}\\,\\rho\\,u_{\\ell}^2$ and $w_{ij} = \\rho\\,A_{\\ell}\\,u_{\\ell}$), the models for energy exchange (convective and turbulent, both proportional to the temperature difference), a set of simplifying assumptions (steady, incompressible flow, constant properties, equal and constant axial mass flow rates $\\dot{m}$), and initial conditions ($T_i(0)$, $T_j(0)$). Five distinct test cases with all necessary numerical values are provided.\n- **Scientific Grounding**: The problem is firmly rooted in the principles of fluid dynamics and heat transfer, specifically the subchannel analysis methodology used in nuclear engineering. The equations represent simplified but standard models for mass, momentum, and energy transport between adjacent channels.\n- **Well-Posedness and Consistency**: The problem is well-posed. It provides initial conditions for what will be derived as a system of ordinary differential equations. All parameters are specified, and the objectives are defined unambiguously. The assumption of constant axial mass flow rates ($\\dot{m}_i = \\dot{m}_j = \\dot{m}$) is a simplification, but it is explicitly stated and allows for a tractable analytical solution, consistent with the problem's request for a derivation from first principles in this context. The assumption that the average temperature $\\overline{T}(x)$ is constant is shown to be a direct consequence of the provided energy exchange model and the constant mass flow rate assumption.\n\n**Verdict**: The problem is **valid**. It is a scientifically sound, self-contained, and well-posed engineering problem. I will now proceed with the derivation and solution.\n\n### Derivation from First Principles\n\nThe task is to derive an expression for the temperature difference at the end of a mixing length, $\\Delta T(L_m)$, and other related quantities.\n\nLet us consider a differential control volume of length $dx$ along the axial direction for each subchannel, $i$ and $j$.\n\n1.  **Energy Balance Equations**\n\nThe problem states that the net energy exchange rate per unit length between the subchannels is the sum of a convective term and a turbulent mixing term. Both are modeled as being proportional to the temperature difference, $T_i - T_j$. The problem also specifies that for the purpose of temperature equalization, the magnitude of the lateral mass flow rate, $w = |w_{ij}|$, should be used.\n\nThe total energy transfer rate per unit length from subchannel $i$ to subchannel $j$, assuming $T_i > T_j$, is:\n$$Q'_{ij} = (c_p w + E_t)(T_i - T_j)$$\nwhere $w = |w_{ij}|$, $c_p$ is the specific heat, and $E_t$ is the turbulent thermal mixing conductance.\n\nThe problem explicitly assumes that the axial mass flow rates in both subchannels are constant and equal: $\\dot{m}_i(x) = \\dot{m}_j(x) = \\dot{m}$.\n\nThe energy balance for subchannel $i$ over the differential length $dx$ is:\n$$(\\text{Enthalpy flux in at } x) = (\\text{Enthalpy flux out at } x+dx) + (\\text{Energy transferred to } j)$$\n$$\\dot{m} c_p T_i(x) = \\dot{m} c_p T_i(x+dx) + Q'_{ij} dx$$\nUsing a Taylor expansion for $T_i(x+dx) = T_i(x) + \\frac{dT_i}{dx}dx$ and rearranging, we get:\n$$\\dot{m} c_p T_i(x) = \\dot{m} c_p \\left(T_i(x) + \\frac{dT_i}{dx}dx\\right) + (c_p w + E_t)(T_i - T_j) dx$$\nDividing by $dx$ and simplifying gives the governing equation for the temperature in subchannel $i$:\n$$\\dot{m} c_p \\frac{dT_i}{dx} = - (c_p w + E_t)(T_i - T_j) \\quad (1)$$\nSimilarly, for subchannel $j$, the energy transferred from $i$ is a source term:\n$$(\\text{Enthalpy flux in at } x) + (\\text{Energy transferred from } i) = (\\text{Enthalpy flux out at } x+dx)$$\n$$\\dot{m} c_p T_j(x) + Q'_{ij} dx = \\dot{m} c_p T_j(x+dx)$$\n$$\\dot{m} c_p T_j(x) + (c_p w + E_t)(T_i - T_j) dx = \\dot{m} c_p \\left(T_j(x) + \\frac{dT_j}{dx}dx\\right)$$\nThis simplifies to the governing equation for subchannel $j$:\n$$\\dot{m} c_p \\frac{dT_j}{dx} = (c_p w + E_t)(T_i - T_j) \\quad (2)$$\n\n2.  **Equation for Temperature Difference $\\Delta T(x)$**\n\nWe define the temperature difference as $\\Delta T(x) = T_i(x) - T_j(x)$. We seek a differential equation for $\\Delta T(x)$ by differentiating it with respect to $x$:\n$$\\frac{d(\\Delta T)}{dx} = \\frac{dT_i}{dx} - \\frac{dT_j}{dx}$$\nSubstituting equations $(1)$ and $(2)$:\n$$\\frac{d(\\Delta T)}{dx} = \\left[ - \\frac{c_p w + E_t}{\\dot{m} c_p}(T_i - T_j) \\right] - \\left[ \\frac{c_p w + E_t}{\\dot{m} c_p}(T_i - T_j) \\right]$$\n$$\\frac{d(\\Delta T)}{dx} = -2 \\frac{c_p w + E_t}{\\dot{m} c_p} (T_i - T_j)$$\nRecognizing that $T_i - T_j = \\Delta T$, we have a first-order linear homogeneous ordinary differential equation:\n$$\\frac{d(\\Delta T)}{dx} = - \\lambda \\Delta T \\quad \\text{where} \\quad \\lambda = 2 \\frac{c_p w + E_t}{\\dot{m} c_p}$$\nThe solution to this ODE is an exponential decay function:\n$$\\Delta T(x) = C e^{-\\lambda x}$$\nUsing the initial condition at the inlet of the segment, $x=0$, we have $\\Delta T(0) = T_i(0) - T_j(0)$. This determines the constant $C$:\n$$\\Delta T(0) = C e^0 \\implies C = \\Delta T(0)$$\nThus, the temperature difference at any axial position $x$ is:\n$$\\Delta T(x) = \\Delta T(0) \\exp\\left(-2 \\frac{c_p w + E_t}{\\dot{m} c_p} x\\right)$$\nAt the end of the mixing length, $x=L_m$, the final temperature difference is:\n$$\\Delta T(L_m) = \\Delta T(0) \\exp\\left(-2 \\frac{c_p w + E_t}{\\dot{m} c_p} L_m\\right)$$\n\n3.  **Lateral Mass Exchange Rate $w_{ij}$**\n\nThe lateral mass exchange rate per unit length, $w_{ij}$, is derived from the given momentum and mass balance equations. We use the magnitude of the pressure difference, $|\\Delta p_{ij}|$, to find the magnitude of the lateral velocity, $u_{\\ell}$.\n$$|\\Delta p_{ij}| = K_{\\mathrm{lat}} \\frac{1}{2} \\rho u_{\\ell}^2 \\implies u_{\\ell} = \\sqrt{\\frac{2 |\\Delta p_{ij}|}{K_{\\mathrm{lat}} \\rho}}$$\nThe magnitude of the lateral mass exchange rate per unit length, $w = |w_{ij}|$, is then:\n$$w = \\rho A_{\\ell} u_{\\ell} = \\rho A_{\\ell} \\sqrt{\\frac{2 \\rho |\\Delta p_{ij}|}{K_{\\mathrm{lat}}}}$$\n\n4.  **Outlet Temperatures $T_i(L_m)$ and $T_j(L_m)$**\n\nThe problem assumes the arithmetic mean temperature $\\overline{T}(x) = \\frac{T_i(x) + T_j(x)}{2}$ is constant. We can verify this from our derived equations.\n$$\\frac{d\\overline{T}}{dx} = \\frac{1}{2} \\left(\\frac{dT_i}{dx} + \\frac{dT_j}{dx}\\right) = \\frac{1}{2} \\left[ - \\frac{c_p w + E_t}{\\dot{m} c_p} \\Delta T + \\frac{c_p w + E_t}{\\dot{m} c_p} \\Delta T \\right] = 0$$\nThis confirms $\\overline{T}(x)$ is constant, so $\\overline{T}(L_m) = \\overline{T}(0)$.\nWe have a system of two linear equations for the outlet temperatures $T_i(L_m)$ and $T_j(L_m)$:\n$$T_i(L_m) - T_j(L_m) = \\Delta T(L_m)$$\n$$T_i(L_m) + T_j(L_m) = 2 \\overline{T}(0) = T_i(0) + T_j(0)$$\nSolving this system yields:\n$$T_i(L_m) = \\frac{T_i(0) + T_j(0) + \\Delta T(L_m)}{2}$$\n$$T_j(Lm) = \\frac{T_i(0) + T_j(0) - \\Delta T(L_m)}{2}$$\n\n5.  **Equalization Factor $f$**\n\nThe equalization factor is defined as $f = \\frac{\\Delta T(L_m)}{\\Delta T(0)}$. From our expression for $\\Delta T(L_m)$:\n$$f = \\exp\\left(-2 \\frac{c_p w + E_t}{\\dot{m} c_p} L_m\\right) = \\exp\\left[-2 \\left(\\frac{w}{\\dot{m}} + \\frac{E_t}{\\dot{m} c_p}\\right) L_m\\right]$$\n\nThese derived formulae are now implemented to solve the given test cases.",
            "answer": "```python\nimport numpy as np\nimport math\n\ndef solve():\n    \"\"\"\n    Computes subchannel thermal-hydraulic exchange for a series of test cases.\n    The derivation is based on a simplified energy balance model provided in the problem statement.\n    \"\"\"\n\n    # Test cases: (delta_p_ij, E_t, rho, K_lat, A_l, L_m, m_dot, c_p, T_i0, T_j0)\n    # Units: (Pa, W/m/K, kg/m^3, -, m, m, kg/s, J/kg/K, K, K)\n    test_cases = [\n        (150.0, 120.0, 700.0, 2.0, 5e-4, 0.8, 0.6, 5000.0, 600.0, 580.0),\n        (0.0, 200.0, 700.0, 2.0, 4e-4, 1.0, 0.5, 5000.0, 590.0, 585.0),\n        (800.0, 0.0, 700.0, 2.0, 6e-4, 0.5, 0.4, 5000.0, 620.0, 580.0),\n        (500.0, 50.0, 700.0, 10.0, 5e-4, 1.0, 0.8, 5000.0, 600.0, 580.0),\n        (300.0, 100.0, 700.0, 2.0, 8e-4, 0.1, 0.6, 5000.0, 610.0, 580.0)\n    ]\n\n    results = []\n    for case in test_cases:\n        delta_p_ij, E_t, rho, K_lat, A_l, L_m, m_dot, c_p, T_i0, T_j0 = case\n\n        # (i) Compute lateral crossflow mass exchange rate per unit length, w_ij\n        # The problem requires using |delta_p_ij| for magnitude calculations.\n        abs_delta_p_ij = abs(delta_p_ij)\n        \n        # Avoid division by zero or square root of negative, though test cases are fine.\n        if K_lat <= 0 or rho <= 0:\n            u_l = 0.0\n        else:\n            u_l = np.sqrt(2 * abs_delta_p_ij / (K_lat * rho))\n        \n        # w is the magnitude of the lateral mass exchange rate per unit length.\n        w = rho * A_l * u_l\n\n        # (ii) Compute temperature equalization\n        # Initial temperature difference\n        delta_T0 = T_i0 - T_j0\n        \n        # The equalization factor f = exp(-lambda * L_m)\n        # where lambda = 2 * (c_p * w + E_t) / (m_dot * c_p)\n        # The argument of the exponential function:\n        exponent_arg = -2 * (c_p * w + E_t) / (m_dot * c_p) * L_m\n        \n        # Final temperature difference\n        delta_T_Lm = delta_T0 * np.exp(exponent_arg)\n        \n        # Outlet temperatures, assuming constant mean temperature\n        mean_T0 = (T_i0 + T_j0) / 2.0\n        T_i_Lm = mean_T0 + delta_T_Lm / 2.0\n        T_j_Lm = mean_T0 - delta_T_Lm / 2.0\n        \n        # Equalization factor f\n        # Handle case where delta_T0 is zero to avoid division by zero.\n        if delta_T0 == 0:\n            # If there is no initial difference, it remains zero.\n            # The ratio is 1, as no change was needed or occurred.\n            f = 1.0\n        else:\n            f = delta_T_Lm / delta_T0\n            \n        case_results = [w, delta_T_Lm, T_i_Lm, T_j_Lm, f]\n        results.append(case_results)\n\n    # Format the final output string as specified\n    result_strings = []\n    for res in results:\n        # Format each number as a float string\n        formatted_res = [f\"{val:.10f}\".rstrip('0').rstrip('.') if isinstance(val, float) else str(val) for val in res]\n        result_strings.append(f\"[{','.join(formatted_res)}]\")\n        \n    print(f\"[{','.join(result_strings)}]\")\n\nsolve()\n```"
        }
    ]
}