{
    "hands_on_practices": [
        {
            "introduction": "The primary motivation for domain decomposition is to distribute computational work across multiple processors. However, this parallelism introduces a necessary cost: communication. This exercise provides a first-principles calculation of the data volume that must be exchanged between subdomains during a parallel transport sweep, a critical metric for predicting performance and scalability. By understanding how the number of faces, angles, and energy groups contribute to this overhead, you can better analyze and design efficient parallel transport algorithms .",
            "id": "4222603",
            "problem": "Consider a three-dimensional steady transport model of a nuclear reactor core in which the linear Boltzmann transport equation governs the angular flux $\\psi(\\mathbf{r}, \\boldsymbol{\\Omega}, E)$. The equation is discretized using the discrete ordinates ($S_N$) method in angle, yielding $N_{\\Omega}$ discrete directions $\\{\\boldsymbol{\\Omega}_{\\ell}\\}_{\\ell=1}^{N_{\\Omega}}$, and a multigroup energy discretization into $G$ energy groups. The spatial discretization is performed with a first-order discontinuous method so that the interface (face) data required for upwind sweeps are single scalar angular flux values per face, per direction, and per energy group. The computational domain is partitioned into subdomains for parallel solution, and there are $N_f$ inter-domain faces across which data must be communicated during sweeps.\n\nA transport sweep enforces the upwind boundary condition at each inter-domain face: for a given discrete direction $\\boldsymbol{\\Omega}_{\\ell}$ and energy group $g$, the downwind side requires the outgoing angular flux from the upwind side. Assume that:\n- Each required face datum is a single double-precision floating-point number, stored in 8 bytes.\n- One full multigroup $S_N$ sweep is performed per time step, traversing all $N_{\\Omega}$ directions and all $G$ energy groups exactly once.\n- Message headers and other protocol overheads are negligible compared to payload and can be ignored.\n\nCompute the total inter-domain communication volume per time step, aggregated over all subdomains, for this multigroup $S_N$ sweep. Express your final answer in bytes as a closed-form analytic expression in terms of $N_f$, $N_{\\Omega}$, and $G$. No rounding is required.",
            "solution": "The problem requires the calculation of the total inter-domain communication volume per time step, aggregated across all subdomains, for a parallel multigroup discrete ordinates ($S_N$) transport sweep. The communication is necessitated by the domain decomposition approach, where data must be exchanged across the interfaces of adjacent subdomains to enforce boundary conditions for the transport sweeps.\n\nThe fundamental variable in the transport model is the angular flux, $\\psi(\\mathbf{r}, \\boldsymbol{\\Omega}, E)$, which is a function of position $\\mathbf{r}$, direction of particle travel $\\boldsymbol{\\Omega}$, and particle energy $E$. The problem specifies that the governing linear Boltzmann transport equation is discretized as follows:\n1.  The continuous energy variable $E$ is discretized into $G$ discrete energy groups.\n2.  The continuous angular variable $\\boldsymbol{\\Omega}$ is discretized using the discrete ordinates method, resulting in a set of $N_{\\Omega}$ quadrature directions, $\\{\\boldsymbol{\\Omega}_{\\ell}\\}_{\\ell=1}^{N_{\\Omega}}$.\n3.  The spatial domain $\\mathbf{r}$ is partitioned into subdomains for parallel processing. This partitioning creates $N_f$ internal faces between subdomains, across which data must be communicated.\n\nA transport sweep involves solving the discretized transport equation for a single discrete direction $\\boldsymbol{\\Omega}_{\\ell}$ and a single energy group $g$ by marching through the spatial cells in an upwind order. For a sweep to proceed from one subdomain to an adjacent, downwind subdomain, the angular flux on the shared face must be provided by the upwind subdomain.\n\nThe problem states that due to the first-order spatial discretization, the required data is a single scalar angular flux value per face, per direction, and per energy group. The total communication volume is the product of the total number of these scalar values and the memory size of each scalar.\n\nLet us first determine the total number of scalar values, $N_{scalars}$, that are communicated during one full multigroup $S_N$ sweep. A full sweep entails executing a sweep for every discrete direction and every energy group. The data transfer is indexed by face, direction, and group.\n-   The number of spatial interfaces where communication occurs is given as $N_f$.\n-   The number of discrete directions considered in a full $S_N$ sweep is $N_{\\Omega}$.\n-   The number of energy groups considered in a multigroup sweep is $G$.\n\nSince for each combination of a face, a direction, and an energy group, a single scalar value is transferred, the total number of scalars is the product of the counts of these independent indices:\n$$N_{scalars} = N_f \\times N_{\\Omega} \\times G$$\n\nNext, we must determine the size of each scalar datum. The problem specifies that each required face datum is a single double-precision floating-point number. A standard double-precision number occupies $8$ bytes in memory. Let $S_{datum}$ be the size of one such datum.\n$$S_{datum} = 8 \\, \\text{bytes}$$\n\nThe total inter-domain communication volume, $V_{comm}$, is the product of the total number of scalars and the size of each scalar. The problem specifies that protocol overheads are negligible, so we only consider the data payload.\n$$V_{comm} = N_{scalars} \\times S_{datum}$$\nSubstituting the expressions derived above:\n$$V_{comm} = (N_f N_{\\Omega} G) \\times 8$$\n\nBy convention, the numerical coefficient is placed at the front of the expression. The final analytical expression for the total communication volume, in bytes, is:\n$$V_{comm} = 8 N_f N_{\\Omega} G$$\nThis expression represents the total data payload aggregated over all communication events that occur during one complete multigroup $S_N$ sweep across all $N_f$ inter-domain faces.",
            "answer": "$$\\boxed{8 N_f N_{\\Omega} G}$$"
        },
        {
            "introduction": "Once a domain is decomposed, an algorithm is needed to ensure that the subdomain solutions properly couple to form a global solution. The additive Schwarz method is a classic iterative approach for this purpose. This problem invites you to apply one step of this method to a simplified one-dimensional transport problem, allowing you to analytically derive the updated flux at the interface. This hands-on derivation demystifies the iterative exchange of information that lies at the heart of many domain decomposition solvers .",
            "id": "4222595",
            "problem": "Consider a one-dimensional slab of length $L$ with spatial coordinate $x \\in [0,L]$. The system is monoenergetic and purely absorbing with constant total macroscopic cross section $\\Sigma_{t} > 0$ and a uniform external isotropic source of per-angle strength $s > 0$ (i.e., the source term in the angular transport equation is $s$ for each discrete direction). The angular flux $\\psi(x,\\mu)$ satisfies the steady-state linear transport equation\n$$\n\\mu \\frac{d \\psi(x,\\mu)}{dx} + \\Sigma_{t} \\psi(x,\\mu) = s,\n$$\nfor two discrete directions $\\mu$ and $-\\mu$, with a fixed $0  \\mu \\leq 1$. Impose vacuum boundary conditions at the external boundaries: for the left boundary, the incoming angular flux is zero, $\\psi(0,\\mu) = 0$; for the right boundary, the incoming angular flux is zero, $\\psi(L,-\\mu) = 0$. \n\nThe global spatial domain is decomposed into two non-overlapping subdomains $\\Omega_{L} = [0,a]$ and $\\Omega_{R} = [a,L]$, with $0  a  L$. Define the interface at $x=a$. Adopt the additive Schwarz method for domain decomposition with the following interface traces as the subdomain inflow data: the inflow into $\\Omega_{L}$ at $x=a$ for direction $-\\mu$ is the interface trace $\\gamma^{-}$, and the inflow into $\\Omega_{R}$ at $x=a$ for direction $\\mu$ is the interface trace $\\gamma^{+}$. In one step of the additive Schwarz iteration, given initial interface guesses $\\gamma^{+(0)}$ and $\\gamma^{-(0)}$, perform independent subdomain solves:\n\n- On $\\Omega_{L}$, solve for $\\psi_{L}(x,\\mu)$ subject to $\\psi_{L}(0,\\mu)=0$ and $\\psi_{L}(a,-\\mu)=\\gamma^{-(0)}$, and compute the outgoing interface value $\\psi_{L}(a,\\mu)$.\n- On $\\Omega_{R}$, solve for $\\psi_{R}(x,-\\mu)$ subject to $\\psi_{R}(L,-\\mu)=0$ and $\\psi_{R}(a,\\mu)=\\gamma^{+(0)}$, and compute the outgoing interface value $\\psi_{R}(a,-\\mu)$.\n\nDefine the additive Schwarz interface update as the pair of outgoing neighbor-to-inflow replacements\n$$\n\\gamma^{+(1)} = \\psi_{L}(a,\\mu), \\qquad \\gamma^{-(1)} = \\psi_{R}(a,-\\mu).\n$$\n\nStarting from the fundamental transport equation above and enforcing the stated vacuum boundary conditions, derive the analytical expressions for $\\psi_{L}(a,\\mu)$ and $\\psi_{R}(a,-\\mu)$ and hence obtain the updated interface traces $\\gamma^{+(1)}$ and $\\gamma^{-(1)}$ in one Schwarz step. To avoid units, report the result normalized by $s/\\Sigma_{t}$, i.e., provide the dimensionless row vector\n$$\n\\left( \\frac{\\gamma^{+(1)}}{s/\\Sigma_{t}} \\ \\ \\frac{\\gamma^{-(1)}}{s/\\Sigma_{t}} \\right).\n$$\nNo numerical rounding is required. Express your final answer as a single exact analytical expression with no units.",
            "solution": "The steady-state transport equation for a generic direction $\\mu'$ is a first-order linear ODE:\n$$\n\\mu' \\frac{d\\psi}{dx} + \\Sigma_t \\psi = s\n$$\nThis can be rewritten as:\n$$\n\\frac{d\\psi}{dx} + \\frac{\\Sigma_t}{\\mu'} \\psi = \\frac{s}{\\mu'}\n$$\nThe general solution to this ODE is found using an integrating factor. The solution is of the form:\n$$\n\\psi(x, \\mu') = \\frac{s}{\\Sigma_t} + C \\exp\\left(-\\frac{\\Sigma_t x}{\\mu'}\\right)\n$$\nwhere $C$ is a constant of integration determined by the boundary conditions.\n\n**Calculation of $\\gamma^{+(1)}$ on Subdomain $\\Omega_L = [0, a]$**\n\nTo find $\\gamma^{+(1)} = \\psi_L(a, \\mu)$, we must solve the transport equation for the positive direction $\\mu' = \\mu$ on the subdomain $\\Omega_L = [0,a]$. The characteristic direction is from left to right, so the relevant boundary condition is at the left boundary of the subdomain, $x=0$.\nThe general solution for $\\psi_L(x, \\mu)$ is:\n$$\n\\psi_L(x, \\mu) = \\frac{s}{\\Sigma_t} + C_L \\exp\\left(-\\frac{\\Sigma_t x}{\\mu}\\right)\n$$\nThe boundary condition for this subdomain solve is given as $\\psi_L(0, \\mu) = 0$. Applying this condition at $x=0$:\n$$\n\\psi_L(0, \\mu) = 0 = \\frac{s}{\\Sigma_t} + C_L \\exp(0) = \\frac{s}{\\Sigma_t} + C_L\n$$\nThis gives the constant of integration $C_L = -\\frac{s}{\\Sigma_t}$. Substituting this back into the general solution yields the specific solution for the angular flux on $\\Omega_L$ in the direction $\\mu$:\n$$\n\\psi_L(x, \\mu) = \\frac{s}{\\Sigma_t} - \\frac{s}{\\Sigma_t} \\exp\\left(-\\frac{\\Sigma_t x}{\\mu}\\right) = \\frac{s}{\\Sigma_t} \\left(1 - \\exp\\left(-\\frac{\\Sigma_t x}{\\mu}\\right)\\right)\n$$\nThe problem defines the updated interface trace $\\gamma^{+(1)}$ as the outgoing flux from $\\Omega_L$ at the interface $x=a$. We evaluate $\\psi_L(x, \\mu)$ at $x=a$:\n$$\n\\gamma^{+(1)} = \\psi_L(a, \\mu) = \\frac{s}{\\Sigma_t} \\left(1 - \\exp\\left(-\\frac{\\Sigma_t a}{\\mu}\\right)\\right)\n$$\nNote that the interface condition $\\psi_L(a, -\\mu) = \\gamma^{-(0)}$ applies to the other direction and does not influence the calculation of $\\psi_L(a, \\mu)$.\n\n**Calculation of $\\gamma^{-(1)}$ on Subdomain $\\Omega_R = [a, L]$**\n\nTo find $\\gamma^{-(1)} = \\psi_R(a, -\\mu)$, we solve the transport equation for the negative direction $\\mu' = -\\mu$ on the subdomain $\\Omega_R = [a,L]$. The characteristic direction is from right to left, so the relevant boundary condition is at the right boundary of the subdomain, $x=L$.\nThe general solution for $\\psi_R(x, -\\mu)$ is:\n$$\n\\psi_R(x, -\\mu) = \\frac{s}{\\Sigma_t} + C_R \\exp\\left(-\\frac{\\Sigma_t x}{-\\mu}\\right) = \\frac{s}{\\Sigma_t} + C_R \\exp\\left(\\frac{\\Sigma_t x}{\\mu}\\right)\n$$\nThe boundary condition for this subdomain solve is given as $\\psi_R(L, -\\mu) = 0$. Applying this condition at $x=L$:\n$$\n\\psi_R(L, -\\mu) = 0 = \\frac{s}{\\Sigma_t} + C_R \\exp\\left(\\frac{\\Sigma_t L}{\\mu}\\right)\n$$\nThis gives the constant of integration $C_R = -\\frac{s}{\\Sigma_t} \\exp\\left(-\\frac{\\Sigma_t L}{\\mu}\\right)$. Substituting this back into the general solution:\n$$\n\\psi_R(x, -\\mu) = \\frac{s}{\\Sigma_t} - \\frac{s}{\\Sigma_t} \\exp\\left(-\\frac{\\Sigma_t L}{\\mu}\\right) \\exp\\left(\\frac{\\Sigma_t x}{\\mu}\\right) = \\frac{s}{\\Sigma_t} \\left(1 - \\exp\\left(\\frac{\\Sigma_t (x-L)}{\\mu}\\right)\\right)\n$$\nThe updated interface trace $\\gamma^{-(1)}$ is the outgoing flux from $\\Omega_R$ at the interface $x=a$. We evaluate $\\psi_R(x, -\\mu)$ at $x=a$:\n$$\n\\gamma^{-(1)} = \\psi_R(a, -\\mu) = \\frac{s}{\\Sigma_t} \\left(1 - \\exp\\left(\\frac{\\Sigma_t (a-L)}{\\mu}\\right)\\right) = \\frac{s}{\\Sigma_t} \\left(1 - \\exp\\left(-\\frac{\\Sigma_t (L-a)}{\\mu}\\right)\\right)\n$$\nNote that the interface condition $\\psi_R(a, \\mu) = \\gamma^{+(0)}$ does not influence this calculation.\n\n**Final Normalized Vector**\n\nThe problem asks for the results to be normalized by the characteristic flux $s/\\Sigma_t$ and presented as a row vector.\n\nThe first component is:\n$$\n\\frac{\\gamma^{+(1)}}{s/\\Sigma_t} = \\frac{\\frac{s}{\\Sigma_t} \\left(1 - \\exp\\left(-\\frac{\\Sigma_t a}{\\mu}\\right)\\right)}{s/\\Sigma_t} = 1 - \\exp\\left(-\\frac{\\Sigma_t a}{\\mu}\\right)\n$$\n\nThe second component is:\n$$\n\\frac{\\gamma^{-(1)}}{s/\\Sigma_t} = \\frac{\\frac{s}{\\Sigma_t} \\left(1 - \\exp\\left(-\\frac{\\Sigma_t (L-a)}{\\mu}\\right)\\right)}{s/\\Sigma_t} = 1 - \\exp\\left(-\\frac{\\Sigma_t (L-a)}{\\mu}\\right)\n$$\n\nAssembling these into the required row vector gives the final answer.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 1 - \\exp\\left(-\\frac{\\Sigma_{t} a}{\\mu}\\right)  1 - \\exp\\left(-\\frac{\\Sigma_{t} (L-a)}{\\mu}\\right) \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "Maximizing efficiency in a parallel transport solve requires more than just dividing the work; it requires intelligently scheduling it. The upwind data dependencies inherent in transport sweeps create potential conflicts between tasks running on different processors. This practice introduces a powerful technique from computer science—graph coloring—to create an optimal, contention-free schedule. By modeling task dependencies as a graph, you will determine the minimum number of sequential phases required to complete the entire calculation, a crucial step in optimizing large-scale parallel simulations .",
            "id": "4222597",
            "problem": "Consider a steady-state neutron transport problem in a reactor core decomposed into spatial subdomains for parallel solution using the discrete ordinates method ($S_N$). The governing equation for the angular flux is the linear Boltzmann transport equation, $$\\boldsymbol{\\Omega}\\cdot \\nabla \\psi(\\mathbf{r},\\boldsymbol{\\Omega},E) + \\Sigma_t(\\mathbf{r},E)\\,\\psi(\\mathbf{r},\\boldsymbol{\\Omega},E) = \\int_{4\\pi}\\int_0^{\\infty} \\Sigma_s(\\mathbf{r},E'\\to E,\\boldsymbol{\\Omega}'\\cdot \\boldsymbol{\\Omega})\\,\\psi(\\mathbf{r},\\boldsymbol{\\Omega}',E')\\,\\mathrm{d}E'\\,\\mathrm{d}\\Omega' + S(\\mathbf{r},\\boldsymbol{\\Omega},E),$$ where $\\psi$ is the angular flux, $\\boldsymbol{\\Omega}$ is the direction, $E$ is the energy, $\\Sigma_t$ is the total macroscopic cross section, $\\Sigma_s$ is the scattering cross section, and $S$ is an external or fission source. In a parallel sweep with domain decomposition, angle sets and energy blocks are scheduled across subdomains. Contention arises when two tasks require simultaneous, exclusive access to the same inter-domain interface unknowns or buffers in the same phase of the sweep. One way to prevent contention is to construct a conflict graph whose vertices represent tasks (angle-set and energy-block combinations) and whose edges represent pairwise interface contention. A proper vertex coloring of this graph assigns a color to each task such that adjacent vertices (conflicting tasks) have different colors; tasks with the same color can be executed concurrently without contention. The minimal number of colors needed is the chromatic number, which determines the minimal number of sequential phases required to execute all tasks without contention.\n\nYou are given a conflict graph $G=(V,E)$ for a specific parallel transport solve with $|V|=9$ tasks. The vertex set is $$V=\\{v_1,v_2,v_3,v_4,v_5,v_6,v_7,v_8,v_9\\}.$$ The edge set $E$ is specified by the following adjacencies:\n- The subgraph on $\\{v_1,v_2,v_3,v_4\\}$ is complete: edges $\\{(v_1,v_2),(v_1,v_3),(v_1,v_4),(v_2,v_3),(v_2,v_4),(v_3,v_4)\\}$.\n- Additional edges: $(v_5,v_1)$, $(v_5,v_2)$, $(v_5,v_3)$, $(v_6,v_2)$, $(v_6,v_3)$, $(v_6,v_4)$, $(v_7,v_1)$, $(v_7,v_4)$, $(v_8,v_5)$, $(v_8,v_6)$, $(v_8,v_7)$, $(v_9,v_3)$, $(v_9,v_7)$, $(v_9,v_8)$.\n\nExplain how graph coloring formulates a contention-free schedule for angle sets and energy blocks in this domain-decomposed transport context, starting from the transport equation and the notion of interface dependencies induced by upwind data requirements. Then, compute the minimal number of colors required to color $G$. Provide the final answer as a single real-valued number. No rounding is required, and no units are needed.",
            "solution": "The problem asks for two things: first, an explanation of how graph coloring helps formulate a contention-free schedule in the context of a parallel transport solve, and second, the computation of the chromatic number for a given conflict graph.\n\nFirst, we address the conceptual explanation. The governing equation is the steady-state linear Boltzmann transport equation:\n$$ \\boldsymbol{\\Omega}\\cdot \\nabla \\psi(\\mathbf{r},\\boldsymbol{\\Omega},E) + \\Sigma_t(\\mathbf{r},E)\\,\\psi(\\mathbf{r},\\boldsymbol{\\Omega},E) = \\int_{4\\pi}\\int_0^{\\infty} \\Sigma_s(\\mathbf{r},E'\\to E,\\boldsymbol{\\Omega}'\\cdot \\boldsymbol{\\Omega})\\,\\psi(\\mathbf{r},\\boldsymbol{\\Omega}',E')\\,\\mathrm{d}E'\\,\\mathrm{d}\\Omega' + S(\\mathbf{r},\\boldsymbol{\\Omega},E) $$\nThe term $\\boldsymbol{\\Omega}\\cdot \\nabla \\psi$ represents the streaming of particles (in this case, neutrons) in direction $\\boldsymbol{\\Omega}$. This gives the equation a hyperbolic character along any given direction. Numerical solution methods, such as the discrete ordinates ($S_N$) method, exploit this by discretizing the angular variable into a finite set of directions $\\{\\boldsymbol{\\Omega}_m\\}$ and solving the equation for each direction in a \"transport sweep\". During a sweep for a direction $\\boldsymbol{\\Omega}_m$, the solution for the angular flux $\\psi_m(\\mathbf{r},E)$ at a spatial point $\\mathbf{r}$ depends on the flux values at upwind locations.\n\nIn a parallel computing environment, the spatial domain is partitioned into subdomains, $\\{D_i\\}$, with each subdomain assigned to a processing unit. To perform a transport sweep on a subdomain $D_i$ for a given direction, the processor requires the incoming angular flux on the upwind boundaries of $D_i$. These boundary flux values are precisely the outgoing fluxes from the adjacent upwind subdomains. This creates a data dependency: the calculation on subdomain $D_i$ cannot begin until the calculations on its upwind neighbors are complete and have provided the necessary boundary data.\n\nA \"task\" is defined as a unit of computational work, such as performing a sweep for a specific set of angles and energy groups on a particular subdomain. Contention arises when two or more tasks, scheduled to run concurrently, require simultaneous access to a shared resource in a conflicting way. In this context, the shared resources are the memory buffers that store the angular flux data on the interfaces between subdomains. For instance, if task $A$ needs to write its outgoing flux to an interface buffer that task $B$ simultaneously needs to read as its incoming flux, these tasks cannot run in parallel without a mechanism to ensure correct data-passing.\n\nTo manage these dependencies and prevent contention, a conflict graph $G=(V,E)$ is constructed.\n1.  Each vertex $v \\in V$ represents a task that needs to be scheduled.\n2.  An edge $(v_i, v_j) \\in E$ is added between two vertices if the corresponding tasks $v_i$ and $v_j$ are in conflict. A conflict means they have a dependency on the same interface data in a way that prevents concurrent execution.\n\nA proper vertex coloring of this conflict graph assigns a \"color\" (typically an integer) to each vertex such that no two adjacent vertices share the same color. In the scheduling context, each color represents a distinct computational phase or time step.\n- All tasks (vertices) assigned the same color are mutually non-conflicting. Therefore, they can all be executed concurrently in a single parallel phase.\n- Tasks with different colors must be executed in different phases if they are connected by an edge.\n\nThe overall goal is to complete all tasks in the minimum number of sequential phases. This is equivalent to finding a proper vertex coloring of the conflict graph $G$ using the minimum possible number of colors. This minimum number is a fundamental invariant of the graph known as its chromatic number, denoted $\\chi(G)$. Thus, computing $\\chi(G)$ determines the minimum number of phases required for a contention-free parallel schedule.\n\nNext, we compute the chromatic number $\\chi(G)$ for the specific graph provided. The graph $G$ has a vertex set $V=\\{v_1,v_2,v_3,v_4,v_5,v_6,v_7,v_8,v_9\\}$.\n\nA lower bound for the chromatic number is the size of the largest clique (a fully connected subgraph) in $G$, denoted $\\omega(G)$. We know that $\\chi(G) \\ge \\omega(G)$. The problem states that the subgraph on $\\{v_1, v_2, v_3, v_4\\}$ is complete. This subgraph is a clique of size $4$, known as a $K_4$. Therefore, we have $\\omega(G) \\ge 4$, which implies that $\\chi(G) \\ge 4$. At least $4$ distinct colors are necessary to color the vertices of this clique alone.\n\nNow we must determine if a $4$-coloring of the entire graph is possible. If we can find a valid coloring using only $4$ colors, it will establish that $\\chi(G) \\le 4$. Combined with the lower bound, this would prove that $\\chi(G)=4$.\n\nLet the set of colors be $\\{C_1, C_2, C_3, C_4\\}$.\n1.  We start by coloring the vertices of the $K_4$ clique, which requires $4$ unique colors:\n    - color$(v_1) = C_1$\n    - color$(v_2) = C_2$\n    - color$(v_3) = C_3$\n    - color$(v_4) = C_4$\n\n2.  We proceed to color the remaining vertices using a greedy algorithm.\n    - **Vertex $v_5$**: Adjacencies are $(v_5,v_1)$, $(v_5,v_2)$, $(v_5,v_3)$. The neighbors' colors are $\\{C_1, C_2, C_3\\}$. The color $C_4$ is available.\n      - color$(v_5) = C_4$\n    - **Vertex $v_6$**: Adjacencies are $(v_6,v_2)$, $(v_6,v_3)$, $(v_6,v_4)$. The neighbors' colors are $\\{C_2, C_3, C_4\\}$. The color $C_1$ is available.\n      - color$(v_6) = C_1$\n    - **Vertex $v_7$**: Adjacencies are $(v_7,v_1)$, $(v_7,v_4)$. The neighbors' colors are $\\{C_1, C_4\\}$. The colors $C_2$ and $C_3$ are available. We can choose either; let's assign $C_2$.\n      - color$(v_7) = C_2$\n    - **Vertex $v_8$**: Adjacencies are $(v_8,v_5)$, $(v_8,v_6)$, $(v_8,v_7)$. Based on our previous assignments, the neighbors' colors are $\\{$color$(v_5)=C_4$, color$(v_6)=C_1$, color$(v_7)=C_2\\}$. The color $C_3$ is available.\n      - color$(v_8) = C_3$\n    - **Vertex $v_9$**: Adjacencies are $(v_9,v_3)$, $(v_9,v_7)$, $(v_9,v_8)$. The neighbors' colors are $\\{$color$(v_3)=C_3$, color$(v_7)=C_2$, color$(v_8)=C_3\\}$. The set of forbidden colors is $\\{C_2, C_3\\}$. The colors $C_1$ and $C_4$ are available. Let's assign $C_1$.\n      - color$(v_9) = C_1$\n\nWe have successfully constructed a valid $4$-coloring for all vertices:\n- **Color $C_1$ (Phase 1):** Tasks $\\{v_1, v_6, v_9\\}$ can run concurrently.\n- **Color $C_2$ (Phase 2):** Tasks $\\{v_2, v_7\\}$ can run concurrently.\n- **Color $C_3$ (Phase 3):** Tasks $\\{v_3, v_8\\}$ can run concurrently.\n- **Color $C_4$ (Phase 4):** Tasks $\\{v_4, v_5\\}$ can run concurrently.\n\nSince a $4$-coloring exists, we have shown that $\\chi(G) \\le 4$.\nCombining our findings, we have $4 \\le \\chi(G) \\le 4$. Therefore, the chromatic number of the graph $G$ is exactly $4$. This is the minimal number of colors required and corresponds to the minimal number of sequential phases for the parallel transport solve.",
            "answer": "$$\n\\boxed{4}\n$$"
        }
    ]
}