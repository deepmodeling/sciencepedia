{
    "hands_on_practices": [
        {
            "introduction": "在我们深入探讨共振在反应堆环境中的复杂行为之前，首先必须掌握如何表征其内在属性。本练习将引导你从布赖特-维格纳（Breit-Wigner）单能级公式出发，推导“共振面积”这一基本物理量。这个量度量了孤立共振的总吸收强度，是连接微观共振参数（如 $\\Gamma_n$ 和 $\\Gamma_\\gamma$）与宏观可积值的关键桥梁 。",
            "id": "4220669",
            "problem": "一个单一、孤立、狭窄的辐射俘获共振在一个以共振能量 $E_{0}$ 为中心的能量区间内主导了重核靶中的中子吸收。假设 $s$ 波入射，背景（势）散射可忽略，共振之间无干涉，且无多普勒展宽。相对于靶核，中子的约化质量为 $\\mu$，波数为 $k(E)=\\sqrt{2\\mu E}/\\hbar$，入射道的自旋统计因子为 $g$。在单能级描述中，中子入射道的分宽度为 $\\Gamma_{n}(E)$，辐射出射道的分宽度为 $\\Gamma_{\\gamma}$，总宽度为 $\\Gamma(E)=\\Gamma_{n}(E)+\\Gamma_{\\gamma}$。\n\n从孤立共振的单能级 Breit-Wigner 表示出发，并仅使用经过充分检验的散射理论事实，在窄共振近似下计算吸收截面 $\\sigma_{a}(E)$ 的共振面积 $\\displaystyle \\int_{0}^{\\infty}\\sigma_{a}(E)\\,dE$。在窄共振近似中，$k(E)$ 和 $\\Gamma_{n}(E)$ 在共振峰上的能量依赖性可以通过在 $E_{0}$ 处取值而忽略。在窄共振极限下，你可以进一步将有限的积分限替换为整个实轴，并假设 $\\Gamma_{\\gamma}$ 在共振峰上不依赖于能量。将你的最终结果表示为以 $k_{0}$、$g$、$\\Gamma_{n}$、$\\Gamma_{\\gamma}$ 和 $\\Gamma$（均在 $E_{0}$ 处取值）表示的闭合形式解析表达式，其中 $k_{0}=\\sqrt{2\\mu E_{0}}/\\hbar$ 且 $\\Gamma=\\Gamma_{n}+\\Gamma_{\\gamma}$。同时说明此结果与在 $E_{0}$ 处取值的常规共振强度 $S$ 的关系。只需提供最终表达式；不需要进行数值计算。",
            "solution": "问题陈述被验证为具有科学依据、提法恰当、客观，并与核散射理论的既定原则一致。所有条件都为在 Breit-Wigner 单能级形式主义框架内进行标准推导而明确指定。\n\n目标是计算吸收的共振面积，其定义为吸收截面 $\\sigma_{a}(E)$ 在所有能量上的积分。出发点是反应截面 $\\sigma_{xy}(E)$ 的单能级 Breit-Wigner 公式，其中入射道 $x$ 是中子道 ($n$)，出射道 $y$ 是辐射俘获道 ($\\gamma$)。对于 $s$ 波中子 ($l=0$) 和在能量 $E_{0}$ 处的单个孤立共振，该公式为：\n$$\n\\sigma_{a}(E) = \\sigma_{n\\gamma}(E) = \\frac{\\pi}{k(E)^2} g \\frac{\\Gamma_{n}(E) \\Gamma_{\\gamma}(E)}{(E-E_{0})^2 + (\\Gamma(E)/2)^2}\n$$\n此处，$k(E)$ 是中子波数，$g$ 是自旋统计因子，$\\Gamma_{n}(E)$ 是中子发射的能量依赖分宽度，$\\Gamma_{\\gamma}(E)$ 是辐射俘获的分宽度，$\\Gamma(E) = \\Gamma_{n}(E) + \\Gamma_{\\gamma}(E)$ 是总共振宽度。\n\n问题指定使用窄共振近似。该近似假设共振宽度 $\\Gamma$ 与共振能量 $E_{0}$ 相比非常小，因此在截面显著的能量范围内，$k(E)$、$\\Gamma_n(E)$ 和 $\\Gamma_\\gamma(E)$ 等项可以被视为常数。这些常数是它们在共振能量 $E_{0}$ 处的值：\n- $k(E) \\approx k_{0} = \\sqrt{2\\mu E_{0}}/\\hbar$\n- $\\Gamma_{n}(E) \\approx \\Gamma_{n}(E_{0}) \\equiv \\Gamma_{n}$\n- $\\Gamma_{\\gamma}(E) \\approx \\Gamma_{\\gamma}(E_{0}) \\equiv \\Gamma_{\\gamma}$ (陈述为能量无关)\n- $\\Gamma(E) \\approx \\Gamma(E_{0}) \\equiv \\Gamma = \\Gamma_{n} + \\Gamma_{\\gamma}$\n\n将这些近似应用于 Breit-Wigner 公式得到：\n$$\n\\sigma_{a}(E) \\approx \\frac{\\pi}{k_{0}^2} g \\frac{\\Gamma_{n} \\Gamma_{\\gamma}}{(E-E_{0})^2 + (\\Gamma/2)^2}\n$$\n共振面积 $A_{a}$ 是该表达式的积分：\n$$\nA_{a} = \\int_{0}^{\\infty} \\sigma_{a}(E) \\,dE \\approx \\int_{0}^{\\infty} \\frac{\\pi g}{k_{0}^2} \\frac{\\Gamma_{n} \\Gamma_{\\gamma}}{(E-E_{0})^2 + (\\Gamma/2)^2} \\,dE\n$$\n被积函数，称为洛伦兹函数，在 $E = E_{0}$ 附近急剧达到峰值。由于 $E_{0} \\gg \\Gamma$，来自 $E  0$ 区域对积分的贡献可以忽略不计。因此，我们可以按照问题陈述的规定，将积分下限扩展到 $-\\infty$ 而不引入显著误差。\n$$\nA_{a} \\approx \\frac{\\pi g \\Gamma_{n} \\Gamma_{\\gamma}}{k_{0}^2} \\int_{-\\infty}^{\\infty} \\frac{1}{(E-E_{0})^2 + (\\Gamma/2)^2} \\,dE\n$$\n为了计算该积分，我们进行变量替换。令 $x = E - E_{0}$，则 $dx = dE$。令 $a = \\Gamma/2$。积分变为：\n$$\n\\int_{-\\infty}^{\\infty} \\frac{1}{x^2 + a^2} \\,dx\n$$\n这是一个标准的定积分，其值是众所周知的：\n$$\n\\int_{-\\infty}^{\\infty} \\frac{1}{x^2 + a^2} \\,dx = \\left[ \\frac{1}{a} \\arctan\\left(\\frac{x}{a}\\right) \\right]_{-\\infty}^{\\infty} = \\frac{1}{a} \\left( \\frac{\\pi}{2} - \\left(-\\frac{\\pi}{2}\\right) \\right) = \\frac{\\pi}{a}\n$$\n代入 $a = \\Gamma/2$，积分的值为 $\\frac{\\pi}{(\\Gamma/2)} = \\frac{2\\pi}{\\Gamma}$。\n\n现在，我们将此结果代回共振面积 $A_{a}$ 的表达式中：\n$$\nA_{a} = \\frac{\\pi g \\Gamma_{n} \\Gamma_{\\gamma}}{k_{0}^2} \\left( \\frac{2\\pi}{\\Gamma} \\right) = \\frac{2\\pi^2 g}{k_{0}^2} \\frac{\\Gamma_{n} \\Gamma_{\\gamma}}{\\Gamma}\n$$\n这是窄共振近似下吸收共振面积的最终表达式。\n\n问题还要求将此结果与常规共振强度 $S$ 联系起来。在核数据和反应堆物理学中，强度 $S$ 通常定义为总截面共振曲线下的面积，$S = \\int_{0}^{\\infty} \\sigma_{\\text{tot}}(E) \\,dE$。在此单能级模型中（忽略势散射），总截面是共振散射截面和吸收截面之和，$\\sigma_{\\text{tot}}(E) = \\sigma_{s}(E) + \\sigma_{a}(E)$。\n$$\n\\sigma_{\\text{tot}}(E) \\approx \\frac{\\pi}{k_{0}^2} g \\frac{\\Gamma_{n}^2}{(E-E_{0})^2 + (\\Gamma/2)^2} + \\frac{\\pi}{k_{0}^2} g \\frac{\\Gamma_{n} \\Gamma_{\\gamma}}{(E-E_{0})^2 + (\\Gamma/2)^2} = \\frac{\\pi}{k_{0}^2} g \\frac{\\Gamma_{n}(\\Gamma_{n} + \\Gamma_{\\gamma})}{(E-E_{0})^2 + (\\Gamma/2)^2}\n$$\n$$\n\\sigma_{\\text{tot}}(E) \\approx \\frac{\\pi g \\Gamma_{n} \\Gamma}{k_{0}^2} \\frac{1}{(E-E_{0})^2 + (\\Gamma/2)^2}\n$$\n将此 $\\sigma_{\\text{tot}}(E)$ 的表达式在所有能量上积分，得到强度 $S$：\n$$\nS = \\int_{-\\infty}^{\\infty} \\sigma_{\\text{tot}}(E) \\,dE = \\frac{\\pi g \\Gamma_{n} \\Gamma}{k_{0}^2} \\int_{-\\infty}^{\\infty} \\frac{1}{(E-E_{0})^2 + (\\Gamma/2)^2} \\,dE = \\frac{\\pi g \\Gamma_{n} \\Gamma}{k_{0}^2} \\left( \\frac{2\\pi}{\\Gamma} \\right) = \\frac{2\\pi^2 g \\Gamma_{n}}{k_{0}^2}\n$$\n将我们的吸收面积 $A_{a}$ 的结果与总强度 $S$ 的表达式进行比较：\n$$\nA_{a} = \\frac{2\\pi^2 g}{k_{0}^2} \\frac{\\Gamma_{n} \\Gamma_{\\gamma}}{\\Gamma} = \\left( \\frac{2\\pi^2 g \\Gamma_{n}}{k_{0}^2} \\right) \\frac{\\Gamma_{\\gamma}}{\\Gamma} = S \\frac{\\Gamma_{\\gamma}}{\\Gamma}\n$$\n这个关系表明，吸收共振面积等于总共振强度乘以分支比 $\\Gamma_{\\gamma}/\\Gamma$，该分支比是一旦形成复合核，其通过辐射俘获退激的概率。",
            "answer": "$$\n\\boxed{\\frac{2\\pi^2 g}{k_{0}^2} \\frac{\\Gamma_{n} \\Gamma_{\\gamma}}{\\Gamma}}\n$$"
        },
        {
            "introduction": "从单个孤立共振的理想情况出发，我们现在转向更贴近实际的反应堆燃料棒环境。共振能量处极高的吸收截面会显著消耗该能量处的中子，导致通量凹陷，这种效应被称为“自屏效应”。本练习将指导你推导自屏因子 $F$ ，它量化了由自屏效应引起的反应率降低，是反应堆分析中一个至关重要的参数。",
            "id": "4220698",
            "problem": "为了使用双区慢化模型分析共振自屏效应，需要对无限栅格中的一个二氧化铀棒栅元进行分析。考虑一个半径为 $a$ 的圆柱形燃料棒嵌入在慢化剂中，其无限阵列的栅距远大于 $a$，因此一个明确定义的燃料区被慢化剂区所包围。假设在围绕铀-238的单个孤立共振的窄能量区间内，任何棒间耦合和泄漏都可以通过燃料内一个有效的、不依赖于能量的本底宏观移出截面 $\\Sigma_{b}$ 来描述。\n\n该孤立共振的微观吸收截面由单能级洛伦兹线型建模，\n$$\n\\sigma_{r}(E) \\;=\\; \\sigma_{p} \\,\\frac{\\left(\\Gamma/2\\right)^{2}}{(E - E_{0})^{2} + \\left(\\Gamma/2\\right)^{2}} \\,,\n$$\n其中 $E$ 是中子能量，$E_{0}$ 是共振能量，$\\Gamma$ 是总共振宽度，$\\sigma_{p}$ 是在 $E = E_{0}$ 处的峰值微观吸收截面。燃料中相应的宏观共振吸收为 $\\Sigma_{r}(E) = N_{f}\\,\\sigma_{r}(E)\\times 10^{-24}$，其中 $N_{f}$ 是以 $\\mathrm{cm^{-3}}$ 表示的铀-238原子核的数密度，且 $1\\,\\mathrm{barn} = 10^{-24}\\,\\mathrm{cm^{2}}$。\n\n使用勒度稳态慢化平衡，并假设在窄共振区间内，慢化源近似恒定，且本底宏观移出截面 $\\Sigma_{b}$ 不依赖于能量，请从第一性原理推导燃料区共振吸收反应率与其无限稀释值之比的解析表达式，\n$$\nF \\;=\\; \\frac{\\int \\phi(E)\\,\\Sigma_{r}(E)\\,dE}{\\int \\phi_{\\infty}(E)\\,\\Sigma_{r}(E)\\,dE} \\,,\n$$\n其中 $\\phi(E)$ 是存在共振时的通量，$\\phi_{\\infty}(E)$ 是共振被无限稀释时的通量（即共振不扰动通量）。将 $F$ 用 $\\Sigma_{b}$ 和宏观共振峰值 $\\Sigma_{p} = N_{f}\\,\\sigma_{p}\\times 10^{-24}$ 以闭合形式表示。\n\n然后，根据以下栅元和共振参数对 $F$ 进行数值计算：\n- 共振能量 $E_{0} = 6.67\\,\\mathrm{eV}$。\n- 总共振宽度 $\\Gamma = 0.30\\,\\mathrm{eV}$。\n- 峰值微观吸收截面 $\\sigma_{p} = 1200\\,\\mathrm{barn}$。\n- 铀-238数密度 $N_{f} = 2.30 \\times 10^{22}\\,\\mathrm{cm^{-3}}$。\n- 燃料中的有效本底宏观移出截面 $\\Sigma_{b} = 3.5\\,\\mathrm{cm^{-1}}$。\n\n假设共振足够窄，以至于本底通量在其宽度范围内变化可忽略不计；忽略多普勒展宽；并通过将积分限扩展到围绕 $E_{0}$ 的 $\\pm\\infty$ 来近似计算共振上的能量积分。作为最终的数值输出，请以小数形式报告无量纲缩减因子 $F$。将您的答案四舍五入到四位有效数字。",
            "solution": "该问题要求推导燃料棒中孤立共振的共振自屏因子 $F$，并随后进行数值计算。推导将基于所提供假设下的中子慢化理论原理。\n\n自屏因子 $F$ 定义为实际系统中与无限稀释系统中的共振吸收反应率之比：\n$$\nF = \\frac{\\int \\phi(E)\\,\\Sigma_{r}(E)\\,dE}{\\int \\phi_{\\infty}(E)\\,\\Sigma_{r}(E)\\,dE}\n$$\n此处，$\\phi(E)$ 是存在共振时单位能量的中子通量，$\\phi_{\\infty}(E)$ 是如果共振吸收体无限稀释时将存在的未扰动通量，而 $\\Sigma_{r}(E)$ 是宏观共振吸收截面。\n\n问题陈述我们应使用稳态慢化平衡。对于一个窄共振区间，进入此能量范围的中子慢化源可被视为恒定。在燃料区，平衡方程将单位体积的中子移出率与单位体积的源率联系起来。总移出截面为 $\\Sigma_{t}(E) = \\Sigma_{r}(E) + \\Sigma_{b}$，其中 $\\Sigma_{r}(E)$ 是共振截面，$\\Sigma_{b}$ 是假定不依赖于能量的有效本底移出截面。\n\n通量 $\\phi(E)$ 的平衡方程为：\n$$\n\\Sigma_{t}(E) \\phi(E) = S\n$$\n其中 $S$ 是恒定的慢化源率。由此，我们可以将通量表示为：\n$$\n\\phi(E) = \\frac{S}{\\Sigma_{t}(E)} = \\frac{S}{\\Sigma_{r}(E) + \\Sigma_{b}}\n$$\n未扰动通量 $\\phi_{\\infty}(E)$ 对应于无限稀释的情况，此时共振吸收体的浓度可以忽略，即 $N_{f} \\to 0$，这意味着 $\\Sigma_{r}(E) \\to 0$。在此极限下，总截面仅变为本底截面 $\\Sigma_{b}$。因此，未扰动通量为：\n$$\n\\phi_{\\infty}(E) = \\frac{S}{\\Sigma_{b}}\n$$\n由于 $\\Sigma_{b}$ 和 $S$ 在共振宽度上是恒定的，所以 $\\phi_{\\infty}$ 也是一个常数。\n\n有了这些通量的表达式，我们现在可以构建 $F$ 的分子和分母。\n\n分子是总共振吸收率 $R_{A}$：\n$$\nR_{A} = \\int \\phi(E)\\,\\Sigma_{r}(E)\\,dE = \\int \\frac{S}{\\Sigma_{r}(E) + \\Sigma_{b}} \\Sigma_{r}(E)\\,dE\n$$\n分母是无限稀释共振吸收率 $R_{A,\\infty}$：\n$$\nR_{A,\\infty} = \\int \\phi_{\\infty}(E)\\,\\Sigma_{r}(E)\\,dE = \\int \\frac{S}{\\Sigma_{b}} \\Sigma_{r}(E)\\,dE = \\frac{S}{\\Sigma_{b}} \\int \\Sigma_{r}(E)\\,dE\n$$\n问题给出了微观共振截面的洛伦兹形式：\n$$\n\\sigma_{r}(E) = \\sigma_{p} \\frac{(\\Gamma/2)^{2}}{(E - E_{0})^{2} + (\\Gamma/2)^{2}}\n$$\n宏观截面为 $\\Sigma_{r}(E) = N_{f} \\sigma_{r}(E)$（假设如指定的那样正确处理了从靶的单位转换）。令 $\\Sigma_{p} = N_{f} \\sigma_{p}$ 为峰值宏观截面（单位转换后）。则：\n$$\n\\Sigma_{r}(E) = \\Sigma_{p} \\frac{(\\Gamma/2)^{2}}{(E - E_{0})^{2} + (\\Gamma/2)^{2}}\n$$\n为了计算这些积分，我们使用给定的近似方法，将积分限扩展到共振能量 $E_{0}$ 周围的 $-\\infty$ 到 $+\\infty$。\n\n首先，我们计算分母中的积分，即 $\\Sigma_{r}(E)$ 的共振积分：\n$$\n\\int_{-\\infty}^{\\infty} \\Sigma_{r}(E)\\,dE = \\Sigma_{p} \\left(\\frac{\\Gamma}{2}\\right)^{2} \\int_{-\\infty}^{\\infty} \\frac{dE}{(E - E_{0})^{2} + (\\Gamma/2)^{2}}\n$$\n令 $x = E - E_{0}$ 且 $a = \\Gamma/2$。该积分变为：\n$$\n\\int_{-\\infty}^{\\infty} \\frac{dx}{x^{2} + a^{2}} = \\left[\\frac{1}{a}\\arctan\\left(\\frac{x}{a}\\right)\\right]_{-\\infty}^{\\infty} = \\frac{1}{a} \\left(\\frac{\\pi}{2} - \\left(-\\frac{\\pi}{2}\\right)\\right) = \\frac{\\pi}{a}\n$$\n所以，共振积分为：\n$$\n\\int_{-\\infty}^{\\infty} \\Sigma_{r}(E)\\,dE = \\Sigma_{p} a^{2} \\frac{\\pi}{a} = \\Sigma_{p} a \\pi = \\Sigma_{p} \\frac{\\pi\\Gamma}{2}\n$$\n因此，$F$ 的分母为：\n$$\nR_{A,\\infty} = \\frac{S}{\\Sigma_{b}} \\left(\\Sigma_{p} \\frac{\\pi\\Gamma}{2}\\right)\n$$\n接下来，我们计算分子中的积分 $R_{A}$：\n$$\nR_{A} = S \\int_{-\\infty}^{\\infty} \\frac{\\Sigma_{r}(E)}{\\Sigma_{r}(E) + \\Sigma_{b}}\\,dE\n$$\n代入 $\\Sigma_{r}(E)$ 的表达式：\n$$\nR_{A} = S \\int_{-\\infty}^{\\infty} \\frac{\\Sigma_{p} \\frac{(\\Gamma/2)^{2}}{(E - E_{0})^{2} + (\\Gamma/2)^{2}}}{\\Sigma_{p} \\frac{(\\Gamma/2)^{2}}{(E - E_{0})^{2} + (\\Gamma/2)^{2}} + \\Sigma_{b}}\\,dE\n$$\n将积分内的分子和分母同乘以 $(E - E_{0})^{2} + (\\Gamma/2)^{2}$ 可以简化表达式：\n$$\nR_{A} = S \\int_{-\\infty}^{\\infty} \\frac{\\Sigma_{p} (\\Gamma/2)^{2}}{\\Sigma_{p} (\\Gamma/2)^{2} + \\Sigma_{b} \\left((E - E_{0})^{2} + (\\Gamma/2)^{2}\\right)}\\,dE\n$$\n令 $x = E-E_0$ 且 $a = \\Gamma/2$。重新整理分母可得：\n$$\nR_{A} = S \\int_{-\\infty}^{\\infty} \\frac{\\Sigma_{p} a^{2}}{\\Sigma_{b} x^{2} + (\\Sigma_{p} + \\Sigma_{b}) a^{2}}\\,dx = S \\frac{\\Sigma_{p} a^{2}}{\\Sigma_{b}} \\int_{-\\infty}^{\\infty} \\frac{dx}{x^{2} + \\frac{\\Sigma_{p} + \\Sigma_{b}}{\\Sigma_{b}} a^{2}}\n$$\n这是另一个形式为 $\\int \\frac{dx}{x^{2} + c^{2}}$ 的反正切积分，其中 $c^{2} = a^{2} \\frac{\\Sigma_{p} + \\Sigma_{b}}{\\Sigma_{b}}$。该积分的计算结果为 $\\pi/c$。\n$$\n\\int_{-\\infty}^{\\infty} \\frac{dx}{x^{2} + c^{2}} = \\frac{\\pi}{c} = \\frac{\\pi}{a\\sqrt{\\frac{\\Sigma_{p}+\\Sigma_{b}}{\\Sigma_{b}}}} = \\frac{\\pi}{a\\sqrt{1 + \\frac{\\Sigma_{p}}{\\Sigma_{b}}}}\n$$\n将此结果代回到 $R_{A}$ 的表达式中：\n$$\nR_{A} = S \\frac{\\Sigma_{p} a^{2}}{\\Sigma_{b}} \\frac{\\pi}{a\\sqrt{1 + \\frac{\\Sigma_{p}}{\\Sigma_{b}}}} = \\frac{S \\Sigma_{p} a \\pi}{\\Sigma_{b}\\sqrt{1 + \\frac{\\Sigma_{p}}{\\Sigma_{b}}}} = \\frac{S}{\\Sigma_{b}} \\left(\\Sigma_{p} \\frac{\\pi\\Gamma}{2}\\right) \\frac{1}{\\sqrt{1 + \\frac{\\Sigma_{p}}{\\Sigma_{b}}}}\n$$\n现在我们可以计算比率 $F$：\n$$\nF = \\frac{R_{A}}{R_{A,\\infty}} = \\frac{\\frac{S}{\\Sigma_{b}} \\left(\\Sigma_{p} \\frac{\\pi\\Gamma}{2}\\right) \\frac{1}{\\sqrt{1 + \\frac{\\Sigma_{p}}{\\Sigma_{b}}}}}{\\frac{S}{\\Sigma_{b}} \\left(\\Sigma_{p} \\frac{\\pi\\Gamma}{2}\\right)}\n$$\n除最后一个因子外，所有项都相互抵消，得到 $F$ 的闭合形式表达式：\n$$\nF = \\frac{1}{\\sqrt{1 + \\frac{\\Sigma_{p}}{\\Sigma_{b}}}}\n$$\n此表达式仅依赖于峰值宏观共振截面 $\\Sigma_{p}$ 和本底截面 $\\Sigma_{b}$，符合要求。\n\n现在我们进行数值计算。参数如下：\n- $\\sigma_{p} = 1200\\,\\mathrm{barn}$\n- $N_{f} = 2.30 \\times 10^{22}\\,\\mathrm{cm^{-3}}$\n- $\\Sigma_{b} = 3.5\\,\\mathrm{cm^{-1}}$\n\n首先，我们使用给定的公式 $\\Sigma_{p} = N_{f}\\,\\sigma_{p}\\times 10^{-24}$ 计算峰值宏观截面 $\\Sigma_{p}$，其中 $\\sigma_p$ 的单位是靶（barn）。\n$$\n\\Sigma_{p} = (2.30 \\times 10^{22}\\,\\mathrm{cm^{-3}}) \\times (1200\\,\\mathrm{barn}) \\times 10^{-24}\\,\\frac{\\mathrm{cm^{2}}}{\\mathrm{barn}}\n$$\n$$\n\\Sigma_{p} = 2.30 \\times 1.2 \\times 10^{22} \\times 10^{3} \\times 10^{-24}\\,\\mathrm{cm^{-1}} = 2.76 \\times 10^{1}\\,\\mathrm{cm^{-1}} = 27.6\\,\\mathrm{cm^{-1}}\n$$\n现在，将 $\\Sigma_{p}$ 和 $\\Sigma_{b}$ 的值代入 $F$ 的表达式中：\n$$\nF = \\frac{1}{\\sqrt{1 + \\frac{27.6}{3.5}}}\n$$\n该比率为：\n$$\n\\frac{27.6}{3.5} \\approx 7.885714\n$$\n加上 $1$：\n$$\n1 + \\frac{27.6}{3.5} \\approx 8.885714\n$$\n取平方根：\n$$\n\\sqrt{8.885714} \\approx 2.980891\n$$\n最后，取倒数：\n$$\nF = \\frac{1}{2.980891} \\approx 0.335470\n$$\n四舍五入到四位有效数字，缩减因子为 $0.3355$。\n参数 $E_{0}$ 和 $\\Gamma$ 对于理论推导以确定积分的形式是必要的，但在该模型推导出的 $F$ 的最终表达式中并不需要它们的具体值。",
            "answer": "$$\\boxed{0.3355}$$"
        },
        {
            "introduction": "为了将连续能量的中子截面理论应用于实际的反应堆模拟，我们需要将其转化为可在计算程序中使用的“群常数”。本计算练习旨在搭建理论与实践之间的桥梁。你将编写一个程序来计算群平均（或“群缩并”）截面，并通过比较未屏蔽通量模型与自屏蔽通量模型下的结果，亲手量化自屏效应对群常数的影响，从而理解在生成反应堆分析数据时进行正确通量加权的重要性 。",
            "id": "4220652",
            "problem": "你需要设计并实现一个程序，用于在无限均匀介质中构建慢化中子通量谱，并用它来计算在指定能带上由共振主导的群平均微观吸收截面。你必须评估该群平均截面对能量依赖的中子通量 $\\phi(E)$ 的不同假设的敏感性。所有能量必须以电子伏特 (eV) 表示，所有截面必须以靶 (barns) 表示。每个测试用例的最终结果必须包括在两种通量假设下的群平均截面以及它们的相对差异，以小数形式报告，不带百分号。\n\n从基本平衡考虑出发，对于一个无泄漏的无限介质，在指定的能带内不考虑裂变和外部源，并且弹性散射在慢化过程中占主导地位。在这种情况下，当吸收不显著时，稳态勒度平衡会得到一个与 $1/E$ 成正比的超热中子通量形状。将此用作第一个通量模型。然后，通过假设通量根据局部吸收强度成比例地降低（用一个有理抑制因子来近似），引入共振自屏效应。你将把这些通量模型与单能级吸收共振表示相结合，以计算和比较群平均截面。\n\n使用以下基本依据和定义：\n- 在以弹性散射为主的无限介质中，非时变的慢化平衡意味着在吸收较弱的能量区域，超热中子通量的形式为 $\\phi(E) \\propto 1/E$。\n- 在能量区间 $[E_{\\min}, E_{\\max}]$ 上，使用通量 $\\phi(E)$ 加权的群平均微观吸收截面为\n$$\n\\bar{\\sigma}_{a} = \\frac{\\int_{E_{\\min}}^{E_{\\max}} \\sigma_{a}(E)\\,\\phi(E)\\,dE}{\\int_{E_{\\min}}^{E_{\\max}} \\phi(E)\\,dE},\n$$\n其中 $\\sigma_{a}(E)$ 是以靶为单位的微观吸收截面。\n- 使用单能级 Breit-Wigner (SLBW) 近似，在窄共振假设和能量依赖的中子宽度条件下，对共振主导的微观吸收截面 $\\sigma_{a}(E)$ 进行建模。在此近似中，\n$$\n\\sigma_{a}(E) = \\left(\\frac{\\pi}{k^{2}(E)}\\right)\\,g\\,\\frac{\\Gamma_{n}(E)\\,\\Gamma_{\\gamma}}{\\left(E - E_{0}\\right)^{2} + \\left(\\dfrac{\\Gamma_{n}(E) + \\Gamma_{\\gamma}}{2}\\right)^{2}},\n$$\n其中 $k(E)$ 是中子波数，$g$ 是统计自旋因子，$E_{0}$ 是共振能量，$\\Gamma_{\\gamma}$ 是辐射宽度，$\\Gamma_{n}(E)$ 是中子宽度。使用\n$$\n\\frac{\\pi}{k^{2}(E)} = \\frac{\\pi \\hbar^{2}}{2 m_{n} E},\n$$\n其中 $\\hbar$ 是约化普朗克常数，$m_{n}$ 是中子质量，在计算此项时 $E$ 的单位是焦耳。使用 $1\\,\\text{barn} = 10^{-28}\\,\\text{m}^{2}$ 将结果面积转换为靶。假设\n$$\n\\Gamma_{n}(E) = \\Gamma_{n0}\\,\\sqrt{\\frac{E}{E_{0}}},\n$$\n其中 $\\Gamma_{n0}$ 是在 $E_{0}$ 处的中子宽度，并假设 $\\Gamma_{\\gamma}$ 在该能带上与能量无关。在所有情况下均使用 $g = 1$。\n\n定义两种通量模型：\n- 模型 A（理想超热）：$\\phi_{A}(E) \\propto \\dfrac{1}{E}$。\n- 模型 B（自屏超热）：$\\phi_{B}(E) \\propto \\dfrac{1/E}{1 + \\sigma_{a}(E)/\\sigma_{0}}$，其中 $\\sigma_{0}$ 是一个以靶为单位的正背景微观截面参数，代表其他相互作用道和背景散射的影响。\n\n对每个测试用例，计算：\n- 使用 $\\phi_{A}(E)$ 计算 $\\bar{\\sigma}_{a}^{(A)}$，\n- 使用 $\\phi_{B}(E)$ 计算 $\\bar{\\sigma}_{a}^{(B)}$，\n- 敏感性度量 $r = \\dfrac{\\bar{\\sigma}_{a}^{(B)} - \\bar{\\sigma}_{a}^{(A)}}{\\bar{\\sigma}_{a}^{(A)}}$，结果为小数。\n\n单位和数值要求：\n- 能量必须以电子伏特 (eV) 为单位。\n- 截面必须以靶 (barns) 为单位。\n- 最终输出 $\\bar{\\sigma}_{a}^{(A)}$ 和 $\\bar{\\sigma}_{a}^{(B)}$ 必须以靶为单位，作为浮点数报告。\n- 敏感性度量 $r$ 必须以小数（分数）形式报告，而不是百分比。\n\n数值积分：\n- 你的程序必须对能量进行数值积分，以足够的精度捕捉窄共振效应。如果被积函数包含 $1/E$，在适当情况下，你可以使用精确的解析分母 $\\int_{E_{\\min}}^{E_{\\max}} \\frac{1}{E}\\,dE = \\ln\\!\\left(\\frac{E_{\\max}}{E_{\\min}}\\right)$ 来提高精度。\n\n测试套件：\n实现你的程序以运行以下四个测试用例。对于每个用例，参数以有序元组 $\\left(E_{0}, \\Gamma_{\\gamma}, \\Gamma_{n0}, \\sigma_{0}, E_{\\min}, E_{\\max}\\right)$ 的形式给出，其中 $E_{0}$, $\\Gamma_{\\gamma}$, $\\Gamma_{n0}$, $E_{\\min}$, 和 $E_{\\max}$ 的单位是 eV，$\\sigma_{0}$ 的单位是靶：\n- 用例 1：$\\left(6.67, 0.023, 0.027, 10.0, 5.0, 9.0\\right)$\n- 用例 2：$\\left(6.67, 0.023, 0.027, 10.0, 10.0, 20.0\\right)$\n- 用例 3：$\\left(6.67, 0.023, 0.010, 5.0, 6.6, 6.8\\right)$\n- 用例 4：$\\left(20.0, 0.100, 0.150, 15.0, 18.0, 22.0\\right)$\n\n输出规格：\n- 你的程序应生成单行输出，其中包含所有测试用例的结果。结果为一个用方括号括起来的逗号分隔列表，每个用例的结果按以下顺序排列：首先是 $\\bar{\\sigma}_{a}^{(A)}$（单位为靶），然后是 $\\bar{\\sigma}_{a}^{(B)}$（单位为靶），最后是小数形式的 $r$。将这些三元组按测试用例的顺序连接起来，形成一个单一的扁平列表。\n- 例如，输出格式必须严格为\n$$\n[\\bar{\\sigma}_{a,1}^{(A)},\\bar{\\sigma}_{a,1}^{(B)},r_{1},\\bar{\\sigma}_{a,2}^{(A)},\\bar{\\sigma}_{a,2}^{(B)},r_{2},\\bar{\\sigma}_{a,3}^{(A)},\\bar{\\sigma}_{a,3}^{(B)},r_{3},\\bar{\\sigma}_{a,4}^{(A)},\\bar{\\sigma}_{a,4}^{(B)},r_{4}]\n$$\n不带任何额外文本。\n\n你的程序必须是完全自包含的，不需要任何输入，并直接打印所需的单行输出。使用标准公认值的物理常数，包括约化普朗克常数 $\\hbar$、中子质量 $m_{n}$ 和电子伏特到焦耳的转换因子，以国际单位制（SI units）一致地计算 $\\dfrac{\\pi}{k^{2}(E)}$ 并将其转换为靶。",
            "solution": "该问题是有效的。这是一个在计算核反应堆物理学领域中，提法恰当、科学上合理且完整的题目陈述。它要求实现共振截面和中子通量的标准模型，以量化自屏的物理效应。\n\n### 基于原理的解决方案设计\n\n核心任务是使用两种不同的能量依赖中子通量模型，计算和比较共振吸收体的群平均微观吸收截面。这个过程是生成反应堆分析程序中所使用的多群截面库的基础。两个结果之间的差异量化了共振自屏现象，即共振峰处的高吸收会抑制局部中子通量，与未受扰动的通量所预期的情况相比，有效反应率会降低。\n\n#### 1. 基本方程\n\n在能量群 $[E_{\\min}, E_{\\max}]$ 上的群平均微观吸收截面 $\\bar{\\sigma}_a$ 定义为在群上平均的每个原子的反应率，并按群平均通量进行归一化。其数学表达式为：\n$$\n\\bar{\\sigma}_{a} = \\frac{\\int_{E_{\\min}}^{E_{\\max}} \\sigma_{a}(E)\\,\\phi(E)\\,dE}{\\int_{E_{\\min}}^{E_{\\max}} \\phi(E)\\,dE}\n$$\n其中 $\\sigma_{a}(E)$ 是能量依赖的微观吸收截面，$\\phi(E)$ 是能量依赖的中子通量。\n\n#### 2. 吸收截面模型：单能级 Breit-Wigner (SLBW)\n\n孤立共振峰附近的吸收截面由单能级 Breit-Wigner 公式建模。对于 s-波（$l=0$）中子并假设窄共振近似，其表达式为：\n$$\n\\sigma_{a}(E) = \\left(\\frac{\\pi}{k^{2}(E)}\\right)\\,g\\,\\frac{\\Gamma_{n}(E)\\,\\Gamma_{\\gamma}}{\\left(E - E_{0}\\right)^{2} + \\left(\\dfrac{\\Gamma}{2}\\right)^{2}}\n$$\n其中 $\\Gamma(E) = \\Gamma_{n}(E) + \\Gamma_{\\gamma}$ 是总共振宽度。问题指定统计自旋因子 $g=1$。\n\n$\\pi/k^2(E)$ 项与中子的德布罗意波长有关，并与 $1/E$ 成正比。为了一致地处理单位（截面单位为靶，能量单位为 eV），我们首先确定转换因子。中子波数 $k(E)$ 与其动能 $E$ 的关系为 $E = \\frac{\\hbar^2 k^2}{2 m_n}$。因此：\n$$\n\\frac{\\pi}{k^2(E)} = \\frac{\\pi \\hbar^2}{2 m_n E}\n$$\n为了用实用单位计算此项，我们使用约化普朗克常数 $\\hbar$、中子质量 $m_n$ 和电子伏特到焦耳的转换因子 $e$ 的值。设 $E_{\\text{eV}}$ 是以 eV 为单位的能量，$E_{\\text{J}}$ 是以焦耳为单位的能量。\n$$\n\\frac{\\pi}{k^2(E)} [\\text{m}^2] = \\frac{\\pi \\hbar^2}{2 m_n E_{\\text{J}}} = \\frac{\\pi \\hbar^2}{2 m_n e E_{\\text{eV}}}\n$$\n从 $\\text{m}^2$ 转换为靶（$1\\,\\text{barn} = 10^{-28}\\,\\text{m}^2$）：\n$$\n\\frac{\\pi}{k^2(E)} [\\text{barns}] = \\left( \\frac{\\pi \\hbar^2}{2 m_n e \\times 10^{-28}} \\right) \\frac{1}{E_{\\text{eV}}} \\equiv \\frac{C_{\\sigma}}{E_{\\text{eV}}}\n$$\n使用常数的标准值（$\\hbar \\approx 1.05457 \\times 10^{-34}\\,\\text{J s}$，$m_n \\approx 1.67493 \\times 10^{-27}\\,\\text{kg}$，$e \\approx 1.60218 \\times 10^{-19}\\,\\text{J/eV}$），常数 $C_{\\sigma}$ 经计算约为 $6.5355 \\times 10^5\\,\\text{barns} \\cdot \\text{eV}$。\n\n中子宽度 $\\Gamma_n(E)$ 与能量相关，与中子速度成正比，并建模为 $\\Gamma_n(E) = \\Gamma_{n0} \\sqrt{E/E_0}$，其中 $\\Gamma_{n0}$ 是共振能量 $E_0$ 处的中子宽度。辐射俘获宽度 $\\Gamma_{\\gamma}$ 假定在共振区内为常数。\n\n#### 3. 中子通量模型\n\n考虑两种通量分布：\n-   **模型 A (无屏蔽)**：$\\phi_A(E) = C_A/E$。这代表了纯散射无限介质中的理想慢化通量。常数 $C_A$ 是任意的，在 $\\bar{\\sigma}_a$ 的表达式中被消去。\n-   **模型 B (自屏蔽)**：$\\phi_B(E) = C_B \\frac{1/E}{1 + \\sigma_{a}(E)/\\sigma_{0}}$。此模型引入了一个通量抑制因子 $1 / (1 + \\sigma_{a}(E)/\\sigma_{0})$，该因子降低了高吸收区域的通量。参数 $\\sigma_0$ 代表每个吸收体原子的总背景截面，并控制自屏效应的强度。较小的 $\\sigma_0$ 会导致更显著的通量抑制。常数 $C_B$ 同样被消去。\n\n#### 4. 算法实现\n\n该解决方案通过构建一个程序来实现，该程序为每个测试用例执行以下步骤：\n\n1.  **定义 $\\sigma_a(E)$ 函数**：此函数将能量 $E$（单位 eV）和共振参数（$E_0, \\Gamma_{\\gamma}, \\Gamma_{n0}$）作为输入。它计算 $\\Gamma_n(E)$、总宽度 $\\Gamma(E)$、$\\pi/k^2(E)$ 项（使用预先计算的常数 $C_{\\sigma}$），并根据 SLBW 公式将它们组合起来，以返回单位为靶的 $\\sigma_a(E)$。\n\n2.  **计算 $\\bar{\\sigma}_{a}^{(A)}$**：\n    无屏蔽模型的群平均截面为：\n    $$\n    \\bar{\\sigma}_{a}^{(A)} = \\frac{\\int_{E_{\\min}}^{E_{\\max}} \\sigma_{a}(E)\\,\\frac{1}{E}\\,dE}{\\int_{E_{\\min}}^{E_{\\max}} \\frac{1}{E}\\,dE}\n    $$\n    分子积分使用稳健的求积算法（例如 `scipy.integrate.quad`）进行数值计算。分母积分有一个简单的解析解 $\\int_{E_{\\min}}^{E_{\\max}} (1/E) dE = \\ln(E_{\\max}/E_{\\min})$，使用该解可获得更高的精度。\n\n3.  **计算 $\\bar{\\sigma}_{a}^{(B)}$**：\n    自屏蔽模型的群平均截面为：\n    $$\n    \\bar{\\sigma}_{a}^{(B)} = \\frac{\\int_{E_{\\min}}^{E_{\\max}} \\sigma_{a}(E)\\,\\frac{1/E}{1 + \\sigma_{a}(E)/\\sigma_{0}}\\,dE}{\\int_{E_{\\min}}^{E_{\\max}} \\frac{1/E}{1 + \\sigma_{a}(E)/\\sigma_{0}}\\,dE}\n    $$\n    由于被积函数的复杂性，分子和分母的积分都必须进行数值计算。使用相同的求积程序。为了提高效率，被积函数被定义为在每个评估点只计算一次 $\\sigma_a(E)$。\n\n4.  **计算敏感性度量 $r$**：\n    相对差异 $r$ 量化了自屏效应的影响：\n    $$\n    r = \\frac{\\bar{\\sigma}_{a}^{(B)} - \\bar{\\sigma}_{a}^{(A)}}{\\bar{\\sigma}_{a}^{(A)}}\n    $$\n    $r$ 的负值表示自屏效应降低了有效吸收截面。\n\n程序遍历所提供的测试用例，为每个用例执行这些计算，并将结果（$\\bar{\\sigma}_{a}^{(A)}$, $\\bar{\\sigma}_{a}^{(B)}$, $r$）汇总到一个单一的扁平列表中，以便进行格式化打印。使用数值积分对于捕捉截面在共振剖面上的快速变化至关重要。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.integrate import quad\n\ndef solve():\n    \"\"\"\n    Calculates group-collapsed microscopic absorption cross sections under\n    two different flux assumptions (unshielded and self-shielded) to\n    evaluate the effect of resonance self-shielding.\n    \"\"\"\n\n    # Physical constants for unit conversions\n    # hbar in J.s\n    HBAR = 1.054571817e-34\n    # neutron mass in kg\n    M_N = 1.67492749804e-27\n    # eV to Joules conversion\n    EV_TO_J = 1.602176634e-19\n    # m^2 to barns conversion\n    M2_TO_BARN = 1e28\n\n    # Pre-calculate the constant C in the formula: pi/k^2(E) [barns] = C / E [eV]\n    # C = (pi * hbar^2) / (2 * m_n * eV_to_J) * m2_to_barn\n    PI_K2_CONST = (np.pi * HBAR**2) / (2 * M_N * EV_TO_J) * M2_TO_BARN\n\n    # Test cases: (E0, Gamma_gamma, Gamma_n0, sigma0, Emin, Emax)\n    # E0, Gamma_gamma, Gamma_n0, Emin, Emax in eV\n    # sigma0 in barns\n    test_cases = [\n        (6.67, 0.023, 0.027, 10.0, 5.0, 9.0),\n        (6.67, 0.023, 0.027, 10.0, 10.0, 20.0),\n        (6.67, 0.023, 0.010, 5.0, 6.6, 6.8),\n        (20.0, 0.100, 0.150, 15.0, 18.0, 22.0),\n    ]\n\n    results = []\n\n    for case in test_cases:\n        E0, Gamma_gamma, Gamma_n0, sigma0, Emin, Emax = case\n        g_factor = 1.0\n\n        def sigma_a(E: float) -> float:\n            \"\"\"\n            Calculates the microscopic absorption cross section using the\n            Single-Level Breit-Wigner (SLBW) formula.\n\n            Args:\n                E (float): Neutron energy in eV.\n\n            Returns:\n                float: Absorption cross section in barns.\n            \"\"\"\n            if E == 0:\n                return 0.0\n            \n            # Energy-dependent neutron width\n            Gamma_n_E = Gamma_n0 * np.sqrt(E / E0)\n            \n            # Total resonance width\n            Gamma_total_E = Gamma_n_E + Gamma_gamma\n            \n            # pi/k^2 term in barns\n            pi_over_k2 = PI_K2_CONST / E\n            \n            # Breit-Wigner formula\n            numerator = Gamma_n_E * Gamma_gamma\n            denominator = (E - E0)**2 + (Gamma_total_E / 2)**2\n            \n            return pi_over_k2 * g_factor * (numerator / denominator)\n\n        # --- Calculation for Model A (unshielded flux, phi ~ 1/E) ---\n        # Numerator: integral of sigma_a(E) * phi_A(E) dE\n        # Denominator: integral of phi_A(E) dE\n        # The constant in phi_A cancels out.\n        \n        # Numerator integrand\n        integrand_A_num = lambda E: sigma_a(E) / E\n        \n        # Numerator calculation via numerical integration\n        num_A, _ = quad(integrand_A_num, Emin, Emax, limit=200)\n\n        # Denominator calculation (analytical)\n        den_A = np.log(Emax / Emin)\n        \n        sigma_a_bar_A = num_A / den_A\n        \n        # --- Calculation for Model B (self-shielded flux) ---\n        # phi ~ (1/E) / (1 + sigma_a(E)/sigma0)\n        \n        def integrand_B_num(E: float) -> float:\n            s_a = sigma_a(E)\n            flux_B_unnormalized = (1.0 / E) / (1.0 + s_a / sigma0)\n            return s_a * flux_B_unnormalized\n\n        def integrand_B_den(E: float) -> float:\n            s_a = sigma_a(E)\n            flux_B_unnormalized = (1.0 / E) / (1.0 + s_a / sigma0)\n            return flux_B_unnormalized\n\n        # Numerical integration for both numerator and denominator\n        num_B, _ = quad(integrand_B_num, Emin, Emax, limit=200)\n        den_B, _ = quad(integrand_B_den, Emin, Emax, limit=200)\n        \n        sigma_a_bar_B = num_B / den_B\n\n        # --- Sensitivity Metric Calculation ---\n        if sigma_a_bar_A == 0:\n            r = 0.0 if sigma_a_bar_B == 0.0 else np.inf\n        else:\n            r = (sigma_a_bar_B - sigma_a_bar_A) / sigma_a_bar_A\n\n        results.extend([sigma_a_bar_A, sigma_a_bar_B, r])\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}