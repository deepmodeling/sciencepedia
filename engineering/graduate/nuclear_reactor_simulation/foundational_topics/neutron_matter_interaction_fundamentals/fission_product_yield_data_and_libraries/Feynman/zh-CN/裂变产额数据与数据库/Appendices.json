{
    "hands_on_practices": [
        {
            "introduction": "在任何反应堆模拟代码中使用核数据库之前，一个至关重要的步骤是处理和验证原始数据。本练习将指导您完成将不同格式的裂变产额库（FPY）记录转换为内部一致的数据结构的过程。通过实践，您将学习如何根据电荷守恒和质量数守恒等基本物理原理，实施完整性检查，以确保数据的可靠性 ()。",
            "id": "4226809",
            "problem": "给定您中子诱发裂变反应的裂变产物产额 (FPY) 记录，您必须构建一个内部表示，形式为三维张量 $Y(Z,A;E)$，其中 $Z$ 是质子数，$A$ 是质量数，$E$ 是以电子伏特 (eV) 表示的入射中子能量。张量 $Y(Z,A;E)$ 编码了独立产额，其定义使得在固定 $E$ 的情况下对所有 $(Z,A)$ 求和等于每个裂变事件预期的瞬发裂变碎片数量。该内部表示必须与核反应堆模拟中使用的基本守恒原理和经过充分检验的经验建模惯例相一致。\n\n基本依据：\n- 电荷守恒：对于一个质子数为 $Z_0$ 的复合核的裂变，两个瞬发裂变碎片的总质子数等于 $Z_0$。\n- 伴有瞬发中子发射的质量数守恒：对于一个质量数为 $A_0$ 的复合核在入射能量 $E$ 下的裂变，两个瞬发裂变碎片的总质量数等于 $A_0 - \\nu(E)$，其中 $\\nu(E)$ 是能量 $E$ 下的平均瞬发中子数。\n- 独立产额归一化：每个裂变事件预期的碎片总数为二，因此 $\\sum_{Z,A} Y(Z,A;E) = 2$。\n- 未改变电荷分布 (UCD) 模型：对于给定的碎片质量 $A$，最可几碎片电荷由 $Z_{\\mathrm{UCD}}(A) = Z_0 \\frac{A}{A_0}$ 给出。为在使用质量链产额时强制执行精确的电荷守恒，可以对均值应用一个均匀偏移 $\\delta(E)$，使得 $\\sum_{A} y_A(E)\\left(Z_0 \\frac{A}{A_0} + \\delta(E)\\right) = Z_0$，其中 $y_A(E)$ 是能量 $E$ 下每个质量链的独立产额。\n\n库 FPY 记录格式：\n- 格式 I（独立核素产额）：对于每个能量 $E$，库提供一个元组列表 $(Z,A,y)$，表示碎片 $(Z,A)$ 的独立产额 $y$。\n- 格式 II（带有电荷分布的质量链产额）：对于每个能量 $E$，库为每个质量数 $A$ 提供质量链产额 $y_A(E)$。每个 $A$ 的电荷产额使用一个在 $Z$ 上呈正态分布的方式进行分布，其均值为 $Z_p(A;E) = Z_0 \\frac{A}{A_0} + \\delta(E)$，标准差为 $\\sigma_Z(A;E)$，随后离散化到整数 $Z \\in \\{0,1,\\dots,Z_0\\}$ 并再归一化，使得 $\\sum_Z P(Z\\mid A,E) = 1$。然后，内部产额满足 $Y(Z,A;E) = y_A(E)\\,P(Z\\mid A,E)$。\n\n在燃耗代码中使用 $Y(Z,A;E)$ 前需要进行的完整性检查：\n- 非负性和有限性：对于所有的 $Z, A$，有 $Y(Z,A;E) \\ge 0$ 且为有限值。\n- 归一化：$\\left|\\sum_{Z,A} Y(Z,A;E) - 2\\right| \\le \\tau_{\\mathrm{norm}}$。\n- 电荷守恒：$\\left|\\sum_{Z,A} Z\\,Y(Z,A;E) - Z_0\\right| \\le \\tau_Z$。\n- 质量守恒：$\\left|\\sum_{Z,A} A\\,Y(Z,A;E) - \\left(A_0 - \\nu(E)\\right)\\right| \\le \\tau_A$。\n- 支撑集约束：当 $Z  0$、$Z > Z_0$、$A  1$ 或 $A > A_0$ 时，$Y(Z,A;E) = 0$。\n\n您必须实现从库记录到内部张量 $Y(Z,A;E)$ 的映射，对每个指定的能量 $E$ 应用上述完整性检查，并为每个测试用例返回一个布尔值，指示所有检查在所有提供的能量下是否都通过。\n\n使用以下容差：\n- $\\tau_{\\mathrm{norm}} = 10^{-8}$，\n- $\\tau_Z = 10^{-8}$，\n- $\\tau_A = 10^{-8}$。\n\n能量必须以电子伏特 (eV) 进行解释和使用。不涉及角度。所有最终的数值输出必须是无单位的布尔值。\n\n测试套件：\n- 用例 1（正常路径，格式 I）：母核为 $Z_0 = 92, A_0 = 236$；能量为 $[0.0253]$ eV；平均瞬发中子数为 $\\nu(E) = [2.0]$；在 $E = 0.0253$ eV 时的独立核素产额为 $(Z,A,y) = (39,95,1.0)$ 和 $(53,139,1.0)$。这应满足所有检查。\n- 用例 2（质量守恒违背，格式 II）：母核为 $Z_0 = 92, A_0 = 236$；能量为 $[5.0\\times 10^{5}]$ eV；$\\nu(E) = [2.5]$；在 $E = 5.0 \\times 10^{5}$ eV 时的质量链产额为 $(A,y_A) = (95,1.2)$ 和 $(139,0.8)$；对所有 $A$ 使用 $\\sigma_Z = 0.3$。这应违背质量守恒检查，因为 $\\sum_{A} A\\,y_A = 95\\times 1.2 + 139\\times 0.8 = 225.2 \\ne 236 - 2.5 = 233.5$。\n- 用例 3（非负性违背，格式 I）：母核为 $Z_0 = 92, A_0 = 236$；能量为 $[0.1]$ eV；$\\nu(E) = [2.0]$；在 $E = 0.1$ eV 时的独立核素产额为 $(39,95,1.2)$、$(53,139,0.9)$ 和 $(40,95,-0.1)$，引入了负产额。\n- 用例 4（归一化违背，格式 II）：母核为 $Z_0 = 92, A_0 = 236$；能量为 $[0.1]$ eV；$\\nu(E) = [2.3]$；在 $E = 0.1$ eV 时的质量链产额为 $(A,y_A) = (90,0.8)$ 和 $(146,1.1)$；对所有 $A$ 使用 $\\sigma_Z = 0.4$。这应违背归一化检查，因为 $\\sum_A y_A = 1.9 \\ne 2$。\n\n要求的输出格式：\n- 您的程序应产生一行输出，包含一个用方括号括起来的逗号分隔列表的结果（例如，\"[result1,result2,result3,result4]\"）。每个结果必须是对应于相应测试用例完整性检查通过/失败状态的布尔值。",
            "solution": "该问题要求实现一个用于核反应堆模拟中裂变产物产额 (FPY) 数据的验证程序。该程序涉及构建产额数据的内部表示，并验证其与基本物理原理和经验建模惯例的一致性。每个测试用例的最终输出是一个布尔值，表示所提供的数据是否在所有指定能量下都通过了所有完整性检查。\n\n问题的核心是 FPY 张量，记为 $Y(Z,A;E)$，它表示由能量为 $E$ 的中子诱发的裂变事件中，产生质子数为 $Z$、质量数为 $A$ 的裂变碎片的独立产额。母裂变核由其质子数 $Z_0$ 和质量数 $A_0$ 表征。\n\n第一步是从提供的库记录中构建 $Y(Z,A;E)$ 的数值表示。由于 FPY 数据是稀疏的（大多数 $(Z,A)$ 对的产额为零），使用稀疏表示，如元组列表 $(Z,A,y)$（其中 $y = Y(Z,A;E)$），在计算上是高效的。构建过程取决于库数据的格式。\n\n对于格式 I 的数据，它直接为每个能量 $E$ 提供独立核素产额的 $(Z,A,y)$ 元组列表，构建过程是直接映射。给定 $E$ 的元组列表即成为我们对 $Y(Z,A;E)$ 的稀疏表示。\n\n对于格式 II 的数据，过程更为复杂。库为每个质量数 $A$ 提供质量链产额 $y_A(E)$，以及沿每个质量链的电荷分布模型。该模型基于未改变电荷分布 (UCD) 假设。给定质量为 $A$ 的碎片，形成电荷为 $Z$ 的碎片的概率由一个正态分布建模。该分布的均值 $Z_p(A;E)$ 由 $Z_p(A;E) = Z_0 \\frac{A}{A_0} + \\delta(E)$ 给出。项 $\\delta(E)$ 是在能量 $E$ 下应用于所有质量链的均匀电荷偏移，以强制实现平均上的总电荷守恒。它通过求解方程 $\\sum_{A} y_A(E)\\left(Z_0 \\frac{A}{A_0} + \\delta(E)\\right) = Z_0$ 来计算 $\\delta(E)$，得到：\n$$\n\\delta(E) = \\frac{Z_0 - \\frac{Z_0}{A_0} \\sum_{A} A \\cdot y_A(E)}{\\sum_{A} y_A(E)}\n$$\n此计算仅在 $\\sum_A y_A(E) \\neq 0$ 时有意义。电荷分布的标准差给定为 $\\sigma_Z(A;E)$。\n\n为了获得独立产额，必须将连续的正态概率密度函数离散化为在有效整数电荷范围 $Z \\in \\{0, 1, \\dots, Z_0\\}$ 上的概率质量函数 $P(Z|A,E)$。对此离散化的一个严谨方法是在每个整数 $Z$ 为中心的单位区间上积分概率密度函数。给定 $Z$ 的未归一化概率可由正态分布的累积分布函数 (CDF) $\\Phi(z; \\mu, \\sigma)$ 计算：\n$$\nP_{\\text{unnorm}}(Z | A,E) = \\Phi(Z+0.5; Z_p(A;E), \\sigma_Z) - \\Phi(Z-0.5; Z_p(A;E), \\sigma_Z)\n$$\n然后，这些概率在有效的 $Z$ 范围内进行再归一化，以确保 $\\sum_{Z=0}^{Z_0} P(Z|A,E) = 1$。最终的独立产额则计算为 $Y(Z,A;E) = y_A(E) \\cdot P(Z|A,E)$。\n\n一旦为特定能量 $E$ 构建了产额张量 $Y(Z,A;E)$，它必须经过一系列具有指定容差的完整性检查。一个测试用例仅在所有检查在所有指定能量下都通过时才被认为是有效的。\n\n1.  **非负性和支撑集约束**：所有产额必须为非负，$Y(Z,A;E) \\ge 0$。此外，碎片必须是物理上可能的，这对它们的质子数和质量数施加了约束。如果 $Z  0$、$Z > Z_0$、$A  1$ 或 $A > A_0$，产额必须为零，$Y(Z,A;E)=0$。\n\n2.  **归一化**：裂变过程产生两个碎片。因此，所有独立产额的总和必须等于 2。检查是：\n    $$\n    \\left| \\sum_{Z,A} Y(Z,A;E) - 2 \\right| \\le \\tau_{\\mathrm{norm}}\n    $$\n    其中容差 $\\tau_{\\mathrm{norm}} = 10^{-8}$。对于格式 II 的数据，此检查等价于验证 $\\sum_A y_A(E)$ 是否接近 2，因为 $\\sum_{Z,A} Y(Z,A;E) = \\sum_A y_A(E) \\sum_Z P(Z|A,E) = \\sum_A y_A(E)$。\n\n3.  **电荷守恒**：总质子数必须守恒。所有碎片的电荷，按其产额加权求和，必须等于母核的电荷 $Z_0$。检查是：\n    $$\n    \\left| \\sum_{Z,A} Z \\cdot Y(Z,A;E) - Z_0 \\right| \\le \\tau_{Z}\n    $$\n    容差为 $\\tau_Z = 10^{-8}$。\n\n4.  **质量守恒**：核子（质子和中子）的总数必须守恒。碎片的质量数，按其产额加权求和，必须等于母核的质量数 $A_0$ 减去发射的平均瞬发中子数 $\\nu(E)$。检查是：\n    $$\n    \\left| \\sum_{Z,A} A \\cdot Y(Z,A;E) - (A_0 - \\nu(E)) \\right| \\le \\tau_A\n    $$\n    容差为 $\\tau_A = 10^{-8}$。对于格式 II 的数据，此检查等价于验证 $\\sum_A A \\cdot y_A(E)$ 是否接近 $A_0 - \\nu(E)$。\n\n该算法通过遍历每个测试用例来进行。对于每个用例，它遍历所提供的能量列表。在每个能量下，它构建稀疏 FPY 数据并执行五项检查。如果在任何能量下有任何检查失败，该测试用例的验证即终止，结果为 `False`。如果所有能量下的所有检查都通过，则结果为 `True`。所有测试用例的布尔结果被收集并格式化为要求的输出字符串。",
            "answer": "```python\nimport numpy as np\nfrom scipy.stats import norm\n\ndef solve():\n    \"\"\"\n    Solves the fission product yield validation problem for the given test suite.\n    \"\"\"\n    test_cases = [\n        {\n            # Case 1: Happy path, Format I. Passes all checks.\n            'Z0': 92, 'A0': 236, 'energies': [0.0253], 'nus': [2.0],\n            'format': 'I',\n            'yields': {0.0253: [(39, 95, 1.0), (53, 139, 1.0)]}\n        },\n        {\n            # Case 2: Mass conservation violation, Format II. Fails.\n            'Z0': 92, 'A0': 236, 'energies': [5.0e5], 'nus': [2.5],\n            'format': 'II',\n            'mass_yields': {5.0e5: [(95, 1.2), (139, 0.8)]},\n            'sigma_Z': 0.3\n        },\n        {\n            # Case 3: Non-negativity violation, Format I. Fails.\n            'Z0': 92, 'A0': 236, 'energies': [0.1], 'nus': [2.0],\n            'format': 'I',\n            'yields': {0.1: [(39, 95, 1.2), (53, 139, 0.9), (40, 95, -0.1)]}\n        },\n        {\n            # Case 4: Normalization violation, Format II. Fails.\n            'Z0': 92, 'A0': 236, 'energies': [0.1], 'nus': [2.3],\n            'format': 'II',\n            'mass_yields': {0.1: [(90, 0.8), (146, 1.1)]},\n            'sigma_Z': 0.4\n        }\n    ]\n\n    results = []\n    validator = FissionYieldValidator()\n\n    for case in test_cases:\n        is_valid = validator.validate_case(case)\n        results.append(is_valid)\n\n    print(f\"[{','.join(map(str, results))}]\")\n\n\nclass FissionYieldValidator:\n    \"\"\"\n    Validates fission product yield data against a set of integrity checks.\n    \"\"\"\n    def __init__(self, tau_norm=1e-8, tau_Z=1e-8, tau_A=1e-8):\n        self.tau_norm = tau_norm\n        self.tau_Z = tau_Z\n        self.tau_A = tau_A\n\n    def validate_case(self, case):\n        \"\"\"\n        Validates a single test case, which may contain multiple energies.\n\n        Returns True if all checks pass for all energies, False otherwise.\n        \"\"\"\n        Z0, A0 = case['Z0'], case['A0']\n\n        for i, E in enumerate(case['energies']):\n            nu_E = case['nus'][i]\n            \n            # Step 1: Construct sparse representation of Y(Z,A;E)\n            sparse_yields = self._construct_yields(E, case)\n\n            # Step 2: Perform integrity checks\n            if not self._run_checks(sparse_yields, Z0, A0, nu_E):\n                return False\n        \n        return True\n\n    def _construct_yields(self, E, case):\n        \"\"\"\n        Constructs a sparse list of (Z, A, y) tuples from library data.\n        \"\"\"\n        if case['format'] == 'I':\n            return case['yields'].get(E, [])\n        \n        elif case['format'] == 'II':\n            Z0, A0 = case['Z0'], case['A0']\n            mass_yield_data = case['mass_yields'].get(E, [])\n            sigma_Z_val = case['sigma_Z']\n\n            sum_yA = sum(yA for A, yA in mass_yield_data)\n            sum_A_yA = sum(A * yA for A, yA in mass_yield_data)\n\n            if sum_yA == 0:\n                delta_E = 0.0\n            else:\n                delta_E = (Z0 - (Z0 / A0) * sum_A_yA) / sum_yA\n            \n            independent_yields = []\n            Z_range = np.arange(0, Z0 + 1)\n\n            for A, yA in mass_yield_data:\n                Zp = Z0 * (A / A0) + delta_E\n                \n                # Discretize normal distribution via CDF differences for P(Z|A,E)\n                # P(Z) = CDF(Z+0.5) - CDF(Z-0.5)\n                cdf_plus = norm.cdf(Z_range + 0.5, loc=Zp, scale=sigma_Z_val)\n                cdf_minus = norm.cdf(Z_range - 0.5, loc=Zp, scale=sigma_Z_val)\n                pmf_unnorm = cdf_plus - cdf_minus\n\n                pmf_sum = np.sum(pmf_unnorm)\n                if pmf_sum > 0:\n                    pmf_norm = pmf_unnorm / pmf_sum\n                    for Z, prob in zip(Z_range, pmf_norm):\n                        if prob > 0:\n                            yield_val = yA * prob\n                            independent_yields.append((Z, A, yield_val))\n            \n            return independent_yields\n        \n        return []\n\n    def _run_checks(self, sparse_yields, Z0, A0, nu_E):\n        \"\"\"\n        Runs all five integrity checks on the constructed sparse yield data.\n        \"\"\"\n        # Checks 1: Non-negativity and Support\n        for Z, A, y in sparse_yields:\n            if y  0 or Z  0 or Z > Z0 or A  1 or A > A0:\n                return False\n\n        # Prepare for conservation law checks\n        sum_y = 0.0\n        sum_zy = 0.0\n        sum_ay = 0.0\n        for Z, A, y in sparse_yields:\n            sum_y += y\n            sum_zy += Z * y\n            sum_ay += A * y\n\n        # Check 2: Normalization\n        if abs(sum_y - 2.0) > self.tau_norm:\n            return False\n            \n        # Check 3: Charge Conservation\n        if abs(sum_zy - Z0) > self.tau_Z:\n            return False\n\n        # Check 4: Mass Conservation\n        target_mass = A0 - nu_E\n        if abs(sum_ay - target_mass) > self.tau_A:\n            return False\n\n        return True\n\nsolve()\n```"
        },
        {
            "introduction": "裂变产物并非静止不变，它们会经历放射性衰变，形成复杂的衰变链。本练习探讨了独立产额（裂变直接产生的核素）和累积产额（经过衰变累积后的总产额）之间的关键联系。您将重点关注同质异能态这一重要情况，因为它们具有不同的衰变路径，从而显著影响最终的核素清单 ()。",
            "id": "4226815",
            "problem": "在反应堆燃耗和裂变产物库存计算中，独立裂变产额和累积产额通过一个线性衰变-补给网络相连接。考虑一个具有两种同质异能态的单一裂变碎片核素，即亚稳态 $J^{m}$ 和基态 $J^{g}$。该核素的总独立产额为 $y_{0}$，它以同质异能比 $r$ 分裂到亚稳态，因此 $Y^{i}(J^{m}) = r\\,y_{0}$ 且 $Y^{i}(J^{g}) = (1 - r)\\,y_{0}$。该链（定义如下）中所有其他核素的独立产额均为零。\n\n亚稳态 $J^{m}$ 通过三个互斥的通道衰变：以概率 $a$ 内部跃迁到基态 $J^{g}$，以概率 $b_{mL}$ 直接β衰变到一个稳定核素 $L$，以及以概率 $b_{mK}$ β衰变到一个不同的稳定核素 $K$。基态 $J^{g}$ 以概率 $b_{gL}$ β衰变到 $L$，并以概率 $b_{gM}$ 衰变到另一个稳定核素 $M$。所有分支比均满足每个母核的归一化条件：$a + b_{mL} + b_{mK} = 1$ 和 $b_{gL} + b_{gM} = 1$。假设 $L$、$K$ 和 $M$ 是稳定的，并且没有独立产额。\n\n将衰变网络视为标准形式的线性系统，其中任何核素 $i$ 的累积产额 $Y^{c}(i)$ 等于其独立产额 $Y^{i}(i)$ 加上所有直接母核 $j$ 的累积产额与从 $j$ 到 $i$ 的分支比的乘积之和。这定义了一个分支矩阵 $T$，其元素 $T_{i j}$ 等于从 $j$ 到 $i$ 的直接分支比。\n\n仅使用此定义：\n- 通过明确写出并求解 $J^{m}$、$J^{g}$ 和 $L$ 的平衡关系，推导出累积产额 $Y^{c}(L)$（用 $y_{0}$、$r$、$a$、$b_{mL}$ 和 $b_{gL}$ 表示）。\n- 将您得到的 $Y^{c}(L)$ 表达式中 $y_{0}$ 的系数解释为一个调整后的有效单节点分支项 $t_{\\mathrm{eff}}$，它代表在一个能够再现精确 $Y^{c}(L)$ 的聚合描述中，从一个聚合核素 $J$（聚合了 $J^{m}$ 和 $J^{g}$）直接到 $L$ 的分支。\n\n给定以下数值上指定且科学上合理的数据：\n- $r = 0.37$，\n- $a = 0.70$，\n- $b_{mL} = 0.10$，\n- $b_{gL} = 0.95$，\n\n计算 $t_{\\mathrm{eff}}$ 的数值。将您的最终答案表示为无量纲小数，并四舍五入到四位有效数字。",
            "solution": "在尝试任何解答之前，对问题陈述进行验证。\n\n### 步骤1：提取已知条件\n- **核素与状态**：一个具有亚稳态 $J^{m}$ 和基态 $J^{g}$ 的核素。稳定产物核素为 $L$、$K$ 和 $M$。\n- **独立产额**：同质异能对的总独立产额为 $y_{0}$。亚稳态的独立产额为 $Y^{i}(J^{m}) = r\\,y_{0}$。基态的独立产额为 $Y^{i}(J^{g}) = (1 - r)\\,y_{0}$。$L$、$K$、$M$ 及任何其他前驱核素的独立产额均为零：$Y^{i}(L) = 0$，$Y^{i}(K) = 0$，$Y^{i}(M) = 0$。\n- **衰变分支比**：\n  - 从 $J^{m}$：\n    - 内部跃迁到 $J^{g}$：概率 $a$。\n    - β衰变到 $L$：概率 $b_{mL}$。\n    - β衰变到 $K$：概率 $b_{mK}$。\n  - 从 $J^{g}$：\n    - β衰变到 $L$：概率 $b_{gL}$。\n    - β衰变到 $M$：概率 $b_{gM}$。\n- **归一化条件**：$a + b_{mL} + b_{mK} = 1$ 和 $b_{gL} + b_{gM} = 1$。\n- **累积产额定义**：核素 $i$ 的累积产额 $Y^{c}(i)$ 由线性平衡方程 $Y^{c}(i) = Y^{i}(i) + \\sum_{j} T_{ij} Y^{c}(j)$ 定义，其中 $T_{ij}$ 是从母核 $j$ 到子核 $i$ 的直接分支比。\n- **数值数据**：$r = 0.37$，$a = 0.70$，$b_{mL} = 0.10$，$b_{gL} = 0.95$。\n\n### 步骤2：使用提取的已知条件进行验证\n- **科学依据**：该问题在核反应堆物理和放射化学方面有充分的依据。独立和累积裂变产额、同质异能态、内部跃迁和β衰变分支等概念都是基本的，并且表述正确。用于计算累积产额的线性系统是燃耗计算中使用的标准模型（例如，时间积分情况下的 Bateman 方程）。\n- **适定性**：该问题为累积产额建立了一个线性代数方程组。衰变网络是无环的（核素仅向前补给到更重的元素或在同量异位素链内衰变），确保该系统是可解的并有唯一解。所有必要的参数和定义都已提供。\n- **客观性**：问题陈述使用了该领域标准的精确、定量且无偏见的术语。\n\n### 步骤3：结论与行动\n该问题是有效的。它在科学上合理，内容自洽，且问题适定。此任务是核数据分析中基本原理的直接应用。我现在将着手进行解答。\n\n### 解答推导\n\n任何核素 $i$ 的累积产额，表示为 $Y^{c}(i)$，是其独立产额 $Y^{i}(i)$ 加上它从其所有直接母核衰变中获得的产额。控制方程如下：\n$$Y^{c}(i) = Y^{i}(i) + \\sum_{j} T_{ij} Y^{c}(j)$$\n其中 $T_{ij}$ 是从母核 $j$ 到子核 $i$ 的分支比。我们将此关系应用于指定的衰变链中的核素：$J^{m}$、$J^{g}$ 和 $L$。\n\n1.  **$J^{m}$ 的累积产额**：在此背景下，核素 $J^{m}$ 没有母核，因为它是直接由裂变产生的。因此，求和项为零。\n    $$Y^{c}(J^{m}) = Y^{i}(J^{m}) + 0 = r\\,y_{0}$$\n\n2.  **$J^{g}$ 的累积产额**：核素 $J^{g}$ 有两个来源：自身的独立产额和通过内部跃迁从其母核 $J^{m}$ 获得的衰变补给。衰变 $J^{m} \\to J^{g}$ 的分支比为 $a$。\n    $$Y^{c}(J^{g}) = Y^{i}(J^{g}) + T_{J^{g}, J^{m}} Y^{c}(J^{m})$$\n    代入给定的表达式：\n    $$Y^{c}(J^{g}) = (1 - r)\\,y_{0} + a Y^{c}(J^{m})$$\n    现在，代入步骤1中$Y^{c}(J^{m})$的结果：\n    $$Y^{c}(J^{g}) = (1 - r)\\,y_{0} + a (r\\,y_{0})$$\n    提出因子 $y_{0}$：\n    $$Y^{c}(J^{g}) = (1 - r + ar) y_{0}$$\n\n3.  **$L$ 的累积产额**：核素 $L$ 是稳定的，独立产额为零（$Y^{i}(L)=0$）。它由两个母核 $J^{m}$ 和 $J^{g}$ 的β衰变补给。$J^{m} \\to L$ 的分支比为 $b_{mL}$，$J^{g} \\to L$ 的分支比为 $b_{gL}$。\n    $$Y^{c}(L) = Y^{i}(L) + T_{L, J^{m}} Y^{c}(J^{m}) + T_{L, J^{g}} Y^{c}(J^{g})$$\n    代入已知值和表达式：\n    $$Y^{c}(L) = 0 + b_{mL} Y^{c}(J^{m}) + b_{gL} Y^{c}(J^{g})$$\n    现在，代入$Y^{c}(J^{m})$和$Y^{c}(J^{g})$的表达式：\n    $$Y^{c}(L) = b_{mL} (r\\,y_{0}) + b_{gL} ((1 - r + ar) y_{0})$$\n    为了找到$Y^{c}(L)$的最终表达式，我们提出总初始产额 $y_{0}$：\n    $$Y^{c}(L) = [b_{mL}r + b_{gL}(1 - r + ar)] y_{0}$$\n    这就是推导出的$L$的累积产额的表达式。\n\n### 解释与计算\n\n问题要求将 $y_{0}$ 的系数解释为从聚合核素 $J$ 到 $L$ 的有效分支分数 $t_{\\mathrm{eff}}$。这个聚合核素的总独立产额是 $Y^{i}(J) = Y^{i}(J^{m}) + Y^{i}(J^{g}) = r\\,y_{0} + (1-r)y_{0} = y_{0}$。在这个简化模型中，$L$ 的累积产额将是 $Y^{c}(L) = t_{\\mathrm{eff}} Y^{c}(J)$。由于 $J$ 没有母核，$Y^{c}(J) = Y^{i}(J) = y_{0}$。因此，$Y^{c}(L) = t_{\\mathrm{eff}} y_{0}$。\n\n通过将其与我们推导的表达式进行比较，我们可以确定 $t_{\\mathrm{eff}}$：\n$$t_{\\mathrm{eff}} = b_{mL}r + b_{gL}(1 - r + ar)$$\n该表达式代表产生核素 $J$（以任一同质异能态形式）的裂变中，最终导致形成稳定核素 $L$ 的总分数。\n\n现在，我们使用所提供的数据计算 $t_{\\mathrm{eff}}$ 的数值：\n- $r = 0.37$\n- $a = 0.70$\n- $b_{mL} = 0.10$\n- $b_{gL} = 0.95$\n\n将这些值代入 $t_{\\mathrm{eff}}$ 的表达式中：\n$$t_{\\mathrm{eff}} = (0.10)(0.37) + (0.95) \\left[ 1 - 0.37 + (0.70)(0.37) \\right]$$\n首先，计算方括号内的项：\n$$1 - 0.37 + (0.70)(0.37) = 0.63 + 0.259 = 0.889$$\n现在，将此结果代回 $t_{\\mathrm{eff}}$ 的表达式中：\n$$t_{\\mathrm{eff}} = (0.10)(0.37) + (0.95)(0.889)$$\n$$t_{\\mathrm{eff}} = 0.037 + 0.84455$$\n$$t_{\\mathrm{eff}} = 0.88155$$\n\n问题要求答案四舍五入到四位有效数字。\n$$t_{\\mathrm{eff}} \\approx 0.8816$$\n这就是有效分支分数的最终数值。",
            "answer": "$$\\boxed{0.8816}$$"
        },
        {
            "introduction": "裂变产额数据的保真度对反应堆安全分析有着直接且可量化的影响，例如衰变热的计算。本练习将通过一个实际案例，展示忽略同质异能态产额分裂这一常见简化假设，会给衰变热预测带来多大的偏差。通过解决这个问题，您将学会如何评估数据模型简化对关键安全参数的影响，从而更深入地理解核数据在工程应用中的重要性 ()。",
            "id": "4226888",
            "problem": "一座轻水反应堆 (LWR) 在时间 $t=0$ 时停堆，此前经过短暂的高功率辐照，瞬时产生了一个已知的总核素库存量 $N_{0}$，该库存量来自单一的裂变产物质量链，并生成了氪-85 ($^{85}\\mathrm{Kr}$)。当代的裂变产物产额 (FPY) 数据库指定了 $^{85}\\mathrm{Kr}$ 的同分异构裂分，分为长寿命的同分异构体 $^{85\\mathrm{m}}\\mathrm{Kr}$ 及其基态 $^{85}\\mathrm{Kr}$，同分异构比为 $f_{m}$，基态比为 $f_{g}=1-f_{m}$。在本问题中，取 $f_{m}=0.22$ 和 $f_{g}=0.78$。\n\n同分异构体 $^{85\\mathrm{m}}\\mathrm{Kr}$ 通过内部跃迁 (IT) 衰变到基态，半衰期为 $T_{1/2,m}=4.48\\,\\mathrm{h}$，每次衰变释放的平均可回收能量为 $E_{m}=0.304\\,\\mathrm{MeV}$，由光子和转换电子携带。基态 $^{85}\\mathrm{Kr}$ 通过 β 衰变生成铷-85 ($^{85}\\mathrm{Rb}$)，半衰期为 $T_{1/2,g}=10.76\\,\\mathrm{y}$。假设每次基态衰变的平均可回收能量为 $E_{g}=0.600\\,\\mathrm{MeV}$，此能量不包括中微子能量。为便于计算，假设所有可回收的衰变能都局部沉积。\n\n使用基本放射性衰变定律 $N(t)=N(0)\\exp(-\\lambda t)$（其中 $\\lambda=\\ln(2)/T_{1/2}$）以及活度定义 $A(t)=\\lambda N(t)$ 来模拟停堆后的时间演化。考虑同分异构体通过内部跃迁衰变对基态的补给。设该核素的正确衰变热功率为 $P_{\\mathrm{true}}(t)=A_{m}(t)E_{m}+A_{g}(t)E_{g}$，其中 $A_{m}(t)$ 和 $A_{g}(t)$ 分别是同分异构体和基态的活度。\n\n现在考虑一种忽略 FPY 数据库中同分异构裂分的模型近似，即设 $f_{m}=0$ 并将全部初始库存量 $N_{0}$ 在 $t=0$ 时分配给基态。设相应的衰变热功率为 $P_{\\mathrm{ns}}(t)$。将忽略同分异构裂分引起的相对偏差 $\\mathcal{B}(t)$ 定义为\n$$\n\\mathcal{B}(t)=\\frac{P_{\\mathrm{ns}}(t)-P_{\\mathrm{true}}(t)}{P_{\\mathrm{true}}(t)} \\, .\n$$\n计算在冷却时间 $t_{c}=6\\,\\mathrm{h}$ 时的 $\\mathcal{B}(t)$，并将最终答案以小数形式表示，四舍五入到四位有效数字。最终答案无需单位。",
            "solution": "该问题陈述是一个在核衰变物理学中表述清晰且有科学依据的练习，特别涉及衰变热计算和同分异构产额数据的影响。所有必要的物理量和初始条件都已给出，以确定相对偏差，该偏差与绝对初始库存量 $N_0$ 无关。该问题是有效的。\n\n求解过程首先为“真实”衰变热（考虑了同分异构裂分）和“无裂分”近似建立数学模型。然后通过在指定的冷却时间对这些模型进行求值来计算相对偏差。\n\n首先，我们使用关系式 $\\lambda = \\frac{\\ln(2)}{T_{1/2}}$，根据半衰期 $T_{1/2}$ 定义衰变常数 $\\lambda$。时间单位必须一致。我们选择小时 ($\\mathrm{h}$)作为基本单位。\n\n对于同分异构体 $^{85\\mathrm{m}}\\mathrm{Kr}$：\n$T_{1/2,m} = 4.48\\,\\mathrm{h}$\n$\\lambda_m = \\frac{\\ln(2)}{4.48\\,\\mathrm{h}} \\approx 0.154716\\,\\mathrm{h}^{-1}$\n\n对于基态 $^{85}\\mathrm{Kr}$：\n$T_{1/2,g} = 10.76\\,\\mathrm{y}$。将年转换为小时：$1\\,\\mathrm{y} \\approx 365.25 \\times 24\\,\\mathrm{h} = 8766\\,\\mathrm{h}$。\n$T_{1/2,g} = 10.76 \\times 8766\\,\\mathrm{h} = 94322.16\\,\\mathrm{h}$\n$\\lambda_g = \\frac{\\ln(2)}{94322.16\\,\\mathrm{h}} \\approx 7.3499 \\times 10^{-6}\\,\\mathrm{h}^{-1}$\n\n注意 $\\lambda_m \\gg \\lambda_g$，这表明同分异构体的衰变速度快得多。\n\n**1. 真实衰变热功率, $P_{\\mathrm{true}}(t)$**\n\n衰变链为 $^{85\\mathrm{m}}\\mathrm{Kr} \\xrightarrow{\\lambda_m} {}^{85}\\mathrm{Kr} \\xrightarrow{\\lambda_g} {}^{85}\\mathrm{Rb}$ (稳定)。\n在 $t=0$ 时，初始核素数量为：\n$N_m(0) = f_m N_0 = 0.22 N_0$\n$N_g(0) = f_g N_0 = 0.78 N_0$\n\n同分异构体 $N_m(t)$ 的数量遵循简单衰变：\n$$N_m(t) = N_m(0) \\exp(-\\lambda_m t) = f_m N_0 \\exp(-\\lambda_m t)$$\n基态 $N_g(t)$ 的数量由带有初始库存量的衰变链的 Bateman 方程描述：\n$$\\frac{dN_g}{dt} = \\lambda_m N_m(t) - \\lambda_g N_g(t)$$\n其解为：\n$$N_g(t) = N_g(0) \\exp(-\\lambda_g t) + \\frac{\\lambda_m N_m(0)}{\\lambda_g - \\lambda_m} (\\exp(-\\lambda_m t) - \\exp(-\\lambda_g t))$$\n代入初始条件：\n$$N_g(t) = f_g N_0 \\exp(-\\lambda_g t) + \\frac{\\lambda_m f_m N_0}{\\lambda_g - \\lambda_m} (\\exp(-\\lambda_m t) - \\exp(-\\lambda_g t))$$\n活度为 $A(t) = \\lambda N(t)$：\n$$A_m(t) = \\lambda_m N_m(t) = \\lambda_m f_m N_0 \\exp(-\\lambda_m t)$$\n$$A_g(t) = \\lambda_g N_g(t) = \\lambda_g \\left( f_g N_0 \\exp(-\\lambda_g t) + \\frac{\\lambda_m f_m N_0}{\\lambda_g - \\lambda_m} (\\exp(-\\lambda_m t) - \\exp(-\\lambda_g t)) \\right)$$\n真实衰变热功率为 $P_{\\mathrm{true}}(t) = A_m(t)E_m + A_g(t)E_g$：\n$$P_{\\mathrm{true}}(t) = N_0 \\left[ \\lambda_m f_m E_m \\exp(-\\lambda_m t) + \\lambda_g E_g \\left( f_g \\exp(-\\lambda_g t) + \\frac{\\lambda_m f_m}{\\lambda_g - \\lambda_m} (\\exp(-\\lambda_m t) - \\exp(-\\lambda_g t)) \\right) \\right]$$\n\n**2. 近似衰变热功率, $P_{\\mathrm{ns}}(t)$**\n\n在“无裂分”近似中，$f_m=0$，$f_g=1$。全部初始库存量都分配给了基态。\n$N_{ns, m}(0) = 0$\n$N_{ns, g}(0) = N_0$\n同分异构体的数量及其衰变热贡献均为零。基态经历简单衰变：\n$$N_{ns, g}(t) = N_0 \\exp(-\\lambda_g t)$$\n相应的活度和功率为：\n$$A_{ns, g}(t) = \\lambda_g N_{ns, g}(t) = \\lambda_g N_0 \\exp(-\\lambda_g t)$$\n$$P_{\\mathrm{ns}}(t) = A_{ns, g}(t) E_g = \\lambda_g N_0 E_g \\exp(-\\lambda_g t)$$\n\n**3. 相对偏差, $\\mathcal{B}(t)$**\n\n相对偏差定义为：\n$$\\mathcal{B}(t) = \\frac{P_{\\mathrm{ns}}(t) - P_{\\mathrm{true}}(t)}{P_{\\mathrm{true}}(t)} = \\frac{P_{\\mathrm{ns}}(t)}{P_{\\mathrm{true}}(t)} - 1$$\n如预期，项 $N_0$ 是所有功率表达式中的公因子，将会消去。\n\n**4. 在 $t_c = 6\\,\\mathrm{h}$ 时的计算**\n\n我们在 $t_c = 6\\,\\mathrm{h}$ 处对表达式进行求值，使用以下数值：\n$f_m = 0.22$, $f_g = 0.78$\n$E_m = 0.304\\,\\mathrm{MeV}$, $E_g = 0.600\\,\\mathrm{MeV}$\n$\\lambda_m \\approx 0.154716\\,\\mathrm{h}^{-1}$, $\\lambda_g \\approx 7.3499 \\times 10^{-6}\\,\\mathrm{h}^{-1}$\n\n首先，我们计算指数衰变因子：\n$\\exp(-\\lambda_m t_c) = \\exp(-0.154716 \\times 6) = \\exp(-0.928296) \\approx 0.395229$\n$\\exp(-\\lambda_g t_c) = \\exp(-7.3499 \\times 10^{-6} \\times 6) = \\exp(-4.40994 \\times 10^{-5}) \\approx 0.999956$\n\n我们来计算功率项，除以 $N_0$ 后记为 $p(t) = P(t)/N_0$。\n$p_{\\mathrm{ns}}(t_c) = \\lambda_g E_g \\exp(-\\lambda_g t_c)$\n$p_{\\mathrm{ns}}(t_c) \\approx (7.3499 \\times 10^{-6}) \\times (0.600) \\times (0.999956) \\approx 4.4097 \\times 10^{-6}\\,\\mathrm{MeV}\\,\\mathrm{h}^{-1}$\n\n对于真实功率，我们分别计算同分异构体和基态的贡献。\n同分异构体活度对功率的贡献：\n$p_m(t_c) = \\lambda_m f_m E_m \\exp(-\\lambda_m t_c)$\n$p_m(t_c) \\approx (0.154716) \\times (0.22) \\times (0.304) \\times (0.395229) \\approx 0.0040891\\,\\mathrm{MeV}\\,\\mathrm{h}^{-1}$\n\n基态活度对功率的贡献：\n$p_g(t_c) = \\lambda_g E_g \\left( f_g \\exp(-\\lambda_g t_c) + \\frac{\\lambda_m f_m}{\\lambda_g - \\lambda_m} (\\exp(-\\lambda_m t_c) - \\exp(-\\lambda_g t_c)) \\right)$\n前置因子为 $\\frac{\\lambda_m f_m}{\\lambda_g - \\lambda_m} \\approx \\frac{(0.154716)(0.22)}{7.3499 \\times 10^{-6} - 0.154716} \\approx -0.220005$\n$p_g(t_c) \\approx (7.3499 \\times 10^{-6})(0.600) \\left( (0.78)(0.999956) + (-0.220005)(0.395229 - 0.999956) \\right)$\n$p_g(t_c) \\approx (4.40994 \\times 10^{-6}) \\left( 0.779966 + (-0.220005)(-0.604727) \\right)$\n$p_g(t_c) \\approx (4.40994 \\times 10^{-6}) \\left( 0.779966 + 0.133043 \\right)$\n$p_g(t_c) \\approx (4.40994 \\times 10^{-6}) (0.913009) \\approx 4.0264 \\times 10^{-6}\\,\\mathrm{MeV}\\,\\mathrm{h}^{-1}$\n\n每个初始原子的总真实功率：\n$p_{\\mathrm{true}}(t_c) = p_m(t_c) + p_g(t_c) \\approx 0.0040891 + 0.0000040264 = 0.00409313\\,\\mathrm{MeV}\\,\\mathrm{h}^{-1}$\n\n现在我们可以计算偏差：\n$\\mathcal{B}(t_c) = \\frac{p_{\\mathrm{ns}}(t_c)}{p_{\\mathrm{true}}(t_c)} - 1 \\approx \\frac{4.4097 \\times 10^{-6}}{0.00409313} - 1$\n$\\mathcal{B}(t_c) \\approx 0.0010773 - 1 = -0.9989227$\n\n在 $t_c=6\\,\\mathrm{h}$ 时，衰变热主要由短寿命同分异构体 $^{85\\mathrm{m}}\\mathrm{Kr}$ 的衰变主导。“无裂分”近似完全忽略了这一贡献，导致对总衰变热的严重低估。因此，偏差非常接近 -1。\n\n将结果四舍五入到四位有效数字，得到 -0.9989。",
            "answer": "$$\\boxed{-0.9989}$$"
        }
    ]
}