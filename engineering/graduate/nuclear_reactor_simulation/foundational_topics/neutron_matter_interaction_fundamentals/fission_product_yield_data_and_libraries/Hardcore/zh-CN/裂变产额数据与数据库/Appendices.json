{
    "hands_on_practices": [
        {
            "introduction": "在任何模拟计算开始之前，必须对来自裂变产额数据库的原始数据进行处理和验证，以供程序使用。本练习旨在解决这一关键的第一步，通过实施基于基本守恒定律的检查来确保数据质量。通过这项实践，您将学习如何处理不同的数据库格式，并为复杂的模拟代码建立一个可靠的数据加载和验证流程 。",
            "id": "4226809",
            "problem": "您会获得中子诱发裂变反应的裂变产物产额 (Fission Product Yield, FPY) 记录，并且必须构建一个三维张量 $Y(Z,A;E)$ 作为其内部表示，其中 $Z$ 是质子数，$A$ 是质量数，$E$ 是以电子伏特 (eV) 表示的入射中子能量。张量 $Y(Z,A;E)$ 编码了独立产额，其定义使得在固定的 $E$ 下，对所有 $(Z,A)$ 的求和等于每次裂变事件中瞬发裂变碎片的期望数量。该内部表示必须与核反应堆模拟中使用的基本守恒原理和经过充分检验的经验模拟约定相一致。\n\n基本原理：\n- 电荷守恒：对于质子数为 $Z_0$ 的复合核的裂变，两个瞬发裂变碎片中的总质子数等于 $Z_0$。\n- 伴随瞬发中子发射的质量数守恒：对于质量数为 $A_0$ 的复合核在入射能量为 $E$ 时的裂变，两个瞬发裂变碎片中的总质量数等于 $A_0 - \\nu(E)$，其中 $\\nu(E)$ 是能量为 $E$ 时的平均瞬发中子数。\n- 独立产额归一化：每次裂变事件的碎片总期望数为2，因此 $\\sum_{Z,A} Y(Z,A;E) = 2$。\n- 电荷分布不变 (UCD) 模型：对于给定的碎片质量 $A$，最可几的碎片电荷由 $Z_{\\mathrm{UCD}}(A) = Z_0 \\frac{A}{A_0}$ 给出。在使用质量链产额时，为了强制实现精确的电荷守恒，可以对平均值应用一个均匀的偏移量 $\\delta(E)$，使得 $\\sum_{A} y_A(E)\\left(Z_0 \\frac{A}{A_0} + \\delta(E)\\right) = Z_0$，其中 $y_A(E)$ 是能量为 $E$ 时每个质量链的独立产额。\n\n库 FPY 记录格式：\n- 格式 I（独立核素产额）：对于每个能量 $E$，库提供一个元组列表 $(Z,A,y)$，表示碎片 $(Z,A)$ 的独立产额 $y$。\n- 格式 II（带电荷分布的质量链产额）：对于每个能量 $E$，库为每个质量数 $A$ 提供质量链产额 $y_A(E)$。对于每个 $A$，其电荷产额使用 $Z$ 的正态分布进行分布，其均值为 $Z_p(A;E) = Z_0 \\frac{A}{A_0} + \\delta(E)$，标准差为 $\\sigma_Z(A;E)$，随后离散化到整数 $Z \\in \\{0,1,\\dots,Z_0\\}$，并重新归一化，使得 $\\sum_Z P(Z\\mid A,E) = 1$。内部产额随后满足 $Y(Z,A;E) = y_A(E)\\,P(Z\\mid A,E)$。\n\n在燃耗程序中使用 $Y(Z,A;E)$ 前所需的完整性检查：\n- 非负性和有限性：对于所有的 $Z, A$，$Y(Z,A;E) \\ge 0$ 且为有限值。\n- 归一化：$\\left|\\sum_{Z,A} Y(Z,A;E) - 2\\right| \\le \\tau_{\\mathrm{norm}}$。\n- 电荷守恒：$\\left|\\sum_{Z,A} Z\\,Y(Z,A;E) - Z_0\\right| \\le \\tau_Z$。\n- 质量守恒：$\\left|\\sum_{Z,A} A\\,Y(Z,A;E) - \\left(A_0 - \\nu(E)\\right)\\right| \\le \\tau_A$。\n- 支撑集约束：当 $Z  0$、$Z > Z_0$、$A  1$ 或 $A > A_0$ 时，$Y(Z,A;E) = 0$。\n\n您必须实现从库记录到内部张量 $Y(Z,A;E)$ 的映射，对每个指定的能量 $E$ 应用上述完整性检查，并为每个测试用例返回一个布尔值，指示是否在所有提供的能量下所有检查都通过。\n\n使用以下容差：\n- $\\tau_{\\mathrm{norm}} = 10^{-8}$，\n- $\\tau_Z = 10^{-8}$，\n- $\\tau_A = 10^{-8}$。\n\n能量必须以电子伏特 (eV) 为单位进行解释和使用。不涉及角度。所有最终数值输出必须是无单位的布尔值。\n\n测试套件：\n- 案例1（正常路径，格式 I）：母核为 $Z_0 = 92$, $A_0 = 236$；能量 $[0.0253]$ eV；平均瞬发中子数 $\\nu(E) = [2.0]$；在 $E = 0.0253$ eV 时的独立核素产额为 $(Z,A,y) = (39,95,1.0)$ 和 $(53,139,1.0)$。这应该满足所有检查。\n- 案例2（违反质量守恒，格式 II）：母核为 $Z_0 = 92$, $A_0 = 236$；能量 $[5.0\\times 10^{5}]$ eV；$\\nu(E) = [2.5]$；在 $E = 5.0 \\times 10^{5}$ eV 时的质量链产额为 $(A,y_A) = (95,1.2)$ 和 $(139,0.8)$；对所有 $A$ 使用 $\\sigma_Z = 0.3$。这应该会违反质量守恒检查，因为 $\\sum_{A} A\\,y_A = 95\\times 1.2 + 139\\times 0.8 = 225.2 \\ne 236 - 2.5 = 233.5$。\n- 案例3（违反非负性，格式 I）：母核为 $Z_0 = 92$, $A_0 = 236$；能量 $[0.1]$ eV；$\\nu(E) = [2.0]$；在 $E = 0.1$ eV 时的独立核素产额为 $(39,95,1.2)$、$(53,139,0.9)$ 和 $(40,95,-0.1)$，引入了负产额。\n- 案例4（违反归一化，格式 II）：母核为 $Z_0 = 92$, $A_0 = 236$；能量 $[0.1]$ eV；$\\nu(E) = [2.3]$；在 $E = 0.1$ eV 时的质量链产额为 $(A,y_A) = (90,0.8)$ 和 $(146,1.1)$；对所有 $A$ 使用 $\\sigma_Z = 0.4$。这应该会违反归一化检查，因为 $\\sum_A y_A = 1.9 \\ne 2$。\n\n要求的输出格式：\n- 您的程序应生成一行输出，其中包含用方括号括起来的逗号分隔列表形式的结果（例如，\"[result1,result2,result3,result4]\"）。每个结果必须是一个布尔值，对应于相应测试用例的完整性检查的通过/失败状态。",
            "solution": "该问题要求为核反应堆模拟中使用的裂变产物产额 (FPY) 数据实现一个验证程序。该程序涉及构建产额数据的内部表示，并验证其与基本物理原理和经验模拟约定的一致性。每个测试用例的最终输出是一个布尔值，指示所提供的数据是否通过了所有指定能量下的所有完整性检查。\n\n问题的核心是 FPY 张量，记为 $Y(Z,A;E)$，它表示由能量为 $E$ 的中子诱发的裂变事件中，产生质子数为 $Z$、质量数为 $A$ 的裂变碎片的独立产额。母裂变核的特征是其质子数 $Z_0$ 和质量数 $A_0$。\n\n第一步是根据提供的库记录为 $Y(Z,A;E)$ 构建一个数值表示。由于 FPY 数据是稀疏的（大多数 $(Z,A)$ 对的产额为零），因此稀疏表示（例如元组列表 $(Z,A,y)$，其中 $y=Y(Z,A;E)$）在计算上是高效的。构建过程取决于库数据的格式。\n\n对于格式 I 的数据，它为每个能量 $E$ 直接提供独立核素产额的 $(Z,A,y)$ 元组列表，构建过程是直接映射。给定 $E$ 的元组列表即成为我们对 $Y(Z,A;E)$ 的稀疏表示。\n\n对于格式 II 的数据，过程更为复杂。库为每个质量数 $A$ 提供质量链产额 $y_A(E)$，以及一个沿每个质量链的电荷分布模型。该模型基于电荷分布不变 (UCD) 假说。在给定质量 $A$ 的情况下，形成电荷为 $Z$ 的碎片的概率由正态分布建模。该分布的均值 $Z_p(A;E)$ 由 $Z_p(A;E) = Z_0 \\frac{A}{A_0} + \\delta(E)$ 给出。项 $\\delta(E)$ 是一个应用于能量为 $E$ 时所有质量链的均匀电荷偏移，以强制实现平均上的总电荷守恒。它通过求解方程 $\\sum_{A} y_A(E)\\left(Z_0 \\frac{A}{A_0} + \\delta(E)\\right) = Z_0$ 来计算 $\\delta(E)$，得到：\n$$\n\\delta(E) = \\frac{Z_0 - \\frac{Z_0}{A_0} \\sum_{A} A \\cdot y_A(E)}{\\sum_{A} y_A(E)}\n$$\n仅当 $\\sum_A y_A(E) \\neq 0$ 时，此计算才有意义。电荷分布的标准差给出为 $\\sigma_Z(A;E)$。\n\n为了获得独立产额，必须将连续的正态概率密度函数离散化为在有效整数电荷范围 $Z \\in \\{0, 1, \\dots, Z_0\\}$ 上的概率质量函数 $P(Z|A,E)$。一种严谨的离散化方法是在以每个整数 $Z$ 为中心的单位区间上对概率密度函数进行积分。给定 $Z$ 的未归一化概率由正态分布的累积分布函数 (CDF) $\\Phi(z; \\mu, \\sigma)$ 计算得出：\n$$\nP_{\\text{unnorm}}(Z | A,E) = \\Phi(Z+0.5; Z_p(A;E), \\sigma_Z) - \\Phi(Z-0.5; Z_p(A;E), \\sigma_Z)\n$$\n然后，这些概率在 $Z$ 的有效范围内重新归一化，以确保 $\\sum_{Z=0}^{Z_0} P(Z|A,E) = 1$。最终的独立产额随后计算为 $Y(Z,A;E) = y_A(E) \\cdot P(Z|A,E)$。\n\n一旦为特定能量 $E$ 构建了产额张量 $Y(Z,A;E)$，它必须经过一系列具有指定容差的完整性检查。仅当所有检查在所有指定能量下都通过时，一个测试用例才被认为是有效的。\n\n1.  **非负性和支撑集约束**：所有产额必须是非负的，$Y(Z,A;E) \\ge 0$。此外，碎片必须是物理上可能的，这对它们的质子数和质量数施加了约束。如果 $Z  0$、$Z > Z_0$、$A  1$ 或 $A > A_0$，则产额必须为零，$Y(Z,A;E)=0$。\n\n2.  **归一化**：裂变过程产生两个碎片。因此，所有独立产额的总和必须等于2。检查为：\n    $$\n    \\left| \\sum_{Z,A} Y(Z,A;E) - 2 \\right| \\le \\tau_{\\mathrm{norm}}\n    $$\n    其中容差 $\\tau_{\\mathrm{norm}} = 10^{-8}$。对于格式 II 的数据，此检查等效于验证 $\\sum_A y_A(E)$ 是否接近 2，因为 $\\sum_{Z,A} Y(Z,A;E) = \\sum_A y_A(E) \\sum_Z P(Z|A,E) = \\sum_A y_A(E)$。\n\n3.  **电荷守恒**：总质子数必须守恒。所有碎片的电荷之和（按其产额加权）必须等于母核的电荷 $Z_0$。检查为：\n    $$\n    \\left| \\sum_{Z,A} Z \\cdot Y(Z,A;E) - Z_0 \\right| \\le \\tau_{Z}\n    $$\n    容差为 $\\tau_Z = 10^{-8}$。\n\n4.  **质量守恒**：核子（质子和中子）的总数必须守恒。所有碎片的质量数之和（按其产额加权）必须等于母核的质量数 $A_0$ 减去发射的平均瞬发中子数 $\\nu(E)$。检查为：\n    $$\n    \\left| \\sum_{Z,A} A \\cdot Y(Z,A;E) - (A_0 - \\nu(E)) \\right| \\le \\tau_A\n    $$\n    容差为 $\\tau_A = 10^{-8}$。对于格式 II 的数据，此检查等效于验证 $\\sum_A A \\cdot y_A(E)$ 是否接近 $A_0 - \\nu(E)$。\n\n该算法通过遍历每个测试用例来进行。对于每个案例，它遍历所提供的能量列表。在每个能量点，它构建稀疏 FPY 数据并执行五项检查。如果在任何能量点有任何检查失败，则该测试用例的验证终止，结果为 `False`。如果所有能量点的所有检查都通过，则结果为 `True`。收集所有测试用例的布尔结果，并将其格式化为所需的输出字符串。",
            "answer": "```python\nimport numpy as np\nfrom scipy.stats import norm\n\ndef solve():\n    \"\"\"\n    Solves the fission product yield validation problem for the given test suite.\n    \"\"\"\n    test_cases = [\n        {\n            # Case 1: Happy path, Format I. Passes all checks.\n            'Z0': 92, 'A0': 236, 'energies': [0.0253], 'nus': [2.0],\n            'format': 'I',\n            'yields': {0.0253: [(39, 95, 1.0), (53, 139, 1.0)]}\n        },\n        {\n            # Case 2: Mass conservation violation, Format II. Fails.\n            'Z0': 92, 'A0': 236, 'energies': [5.0e5], 'nus': [2.5],\n            'format': 'II',\n            'mass_yields': {5.0e5: [(95, 1.2), (139, 0.8)]},\n            'sigma_Z': 0.3\n        },\n        {\n            # Case 3: Non-negativity violation, Format I. Fails.\n            'Z0': 92, 'A0': 236, 'energies': [0.1], 'nus': [2.0],\n            'format': 'I',\n            'yields': {0.1: [(39, 95, 1.2), (53, 139, 0.9), (40, 95, -0.1)]}\n        },\n        {\n            # Case 4: Normalization violation, Format II. Fails.\n            'Z0': 92, 'A0': 236, 'energies': [0.1], 'nus': [2.3],\n            'format': 'II',\n            'mass_yields': {0.1: [(90, 0.8), (146, 1.1)]},\n            'sigma_Z': 0.4\n        }\n    ]\n\n    results = []\n    validator = FissionYieldValidator()\n\n    for case in test_cases:\n        is_valid = validator.validate_case(case)\n        results.append(is_valid)\n\n    print(f\"[{','.join(map(str, results))}]\")\n\n\nclass FissionYieldValidator:\n    \"\"\"\n    Validates fission product yield data against a set of integrity checks.\n    \"\"\"\n    def __init__(self, tau_norm=1e-8, tau_Z=1e-8, tau_A=1e-8):\n        self.tau_norm = tau_norm\n        self.tau_Z = tau_Z\n        self.tau_A = tau_A\n\n    def validate_case(self, case):\n        \"\"\"\n        Validates a single test case, which may contain multiple energies.\n\n        Returns True if all checks pass for all energies, False otherwise.\n        \"\"\"\n        Z0, A0 = case['Z0'], case['A0']\n\n        for i, E in enumerate(case['energies']):\n            nu_E = case['nus'][i]\n            \n            # Step 1: Construct sparse representation of Y(Z,A;E)\n            sparse_yields = self._construct_yields(E, case)\n\n            # Step 2: Perform integrity checks\n            if not self._run_checks(sparse_yields, Z0, A0, nu_E):\n                return False\n        \n        return True\n\n    def _construct_yields(self, E, case):\n        \"\"\"\n        Constructs a sparse list of (Z, A, y) tuples from library data.\n        \"\"\"\n        if case['format'] == 'I':\n            return case['yields'].get(E, [])\n        \n        elif case['format'] == 'II':\n            Z0, A0 = case['Z0'], case['A0']\n            mass_yield_data = case['mass_yields'].get(E, [])\n            sigma_Z_val = case['sigma_Z']\n\n            sum_yA = sum(yA for A, yA in mass_yield_data)\n            sum_A_yA = sum(A * yA for A, yA in mass_yield_data)\n\n            if sum_yA == 0:\n                delta_E = 0.0\n            else:\n                delta_E = (Z0 - (Z0 / A0) * sum_A_yA) / sum_yA\n            \n            independent_yields = []\n            Z_range = np.arange(0, Z0 + 1)\n\n            for A, yA in mass_yield_data:\n                Zp = Z0 * (A / A0) + delta_E\n                \n                # Discretize normal distribution via CDF differences for P(Z|A,E)\n                # P(Z) = CDF(Z+0.5) - CDF(Z-0.5)\n                cdf_plus = norm.cdf(Z_range + 0.5, loc=Zp, scale=sigma_Z_val)\n                cdf_minus = norm.cdf(Z_range - 0.5, loc=Zp, scale=sigma_Z_val)\n                pmf_unnorm = cdf_plus - cdf_minus\n\n                pmf_sum = np.sum(pmf_unnorm)\n                if pmf_sum > 0:\n                    pmf_norm = pmf_unnorm / pmf_sum\n                    for Z, prob in zip(Z_range, pmf_norm):\n                        if prob > 0:\n                            yield_val = yA * prob\n                            independent_yields.append((Z, A, yield_val))\n            \n            return independent_yields\n        \n        return []\n\n    def _run_checks(self, sparse_yields, Z0, A0, nu_E):\n        \"\"\"\n        Runs all five integrity checks on the constructed sparse yield data.\n        \"\"\"\n        # Checks 1: Non-negativity and Support\n        for Z, A, y in sparse_yields:\n            if y  0 or Z  0 or Z > Z0 or A  1 or A > A0:\n                return False\n\n        # Prepare for conservation law checks\n        sum_y = 0.0\n        sum_zy = 0.0\n        sum_ay = 0.0\n        for Z, A, y in sparse_yields:\n            sum_y += y\n            sum_zy += Z * y\n            sum_ay += A * y\n\n        # Check 2: Normalization\n        if abs(sum_y - 2.0) > self.tau_norm:\n            return False\n            \n        # Check 3: Charge Conservation\n        if abs(sum_zy - Z0) > self.tau_Z:\n            return False\n\n        # Check 4: Mass Conservation\n        target_mass = A0 - nu_E\n        if abs(sum_ay - target_mass) > self.tau_A:\n            return False\n\n        return True\n\nsolve()\n```"
        },
        {
            "introduction": "现代裂变产额数据库包含了丰富的细节，例如产额在核素的基态和亚稳态（同分异构体）之间的分配。这项练习将探讨这一细节的后果，展示同分异构体的分支比如何影响累积产额的计算 。准确计算累积产额对于确定核反应堆中特定核素的总量至关重要。",
            "id": "4226815",
            "problem": "在反应堆燃耗和裂变产物库存计算中，独立裂变产额和累积产额通过一个线性的衰变-补给网络相连。考虑一个具有两种同分异构态的单一裂变碎片核素，即亚稳态 $J^{m}$ 和基态 $J^{g}$。该核素的总独立产额为 $y_{0}$，它以同分异构比 $r$ 分裂到亚稳态，使得 $Y^{i}(J^{m}) = r\\,y_{0}$ 和 $Y^{i}(J^{g}) = (1 - r)\\,y_{0}$。此衰变链中（定义如下）所有其他核素的独立产额为零。\n\n亚稳态 $J^{m}$ 通过三个互斥的通道衰变：以概率 $a$ 内部跃迁到基态 $J^{g}$，以概率 $b_{mL}$ 直接β衰变到稳定核素 $L$，以及以概率 $b_{mK}$ β衰变到另一个不同的稳定核素 $K$。基态 $J^{g}$ 以概率 $b_{gL}$ β衰变到 $L$，并以概率 $b_{gM}$ β衰变到另一个稳定核素 $M$。所有分支比对每个母体都满足归一化条件：$a + b_{mL} + b_{mK} = 1$ 和 $b_{gL} + b_{gM} = 1$。假设 $L$、$K$ 和 $M$ 是稳定的，并且没有独立产额。\n\n将衰变网络视为一个标准形式的线性系统，其中任何核素 $i$ 的累积产额 $Y^{c}(i)$ 等于其独立产额 $Y^{i}(i)$ 加上所有直接母体 $j$ 的累积产额与从 $j$ 到 $i$ 的分支比的乘积之和。这定义了一个分支矩阵 $T$，其元素 $T_{i j}$ 等于从 $j$ 到 $i$ 的直接分支比。\n\n仅使用此定义：\n- 通过明确写出并求解 $J^{m}$、$J^{g}$ 和 $L$ 的平衡关系，推导累积产额 $Y^{c}(L)$（用 $y_{0}$、$r$、$a$、$b_{mL}$ 和 $b_{gL}$ 表示）。\n- 将您得到的 $Y^{c}(L)$ 表达式中 $y_{0}$ 的系数解释为一个有效单节点分支项 $t_{\\mathrm{eff}}$，该项表示在一个能重现精确 $Y^{c}(L)$ 的聚合描述中，从一个聚合核素 $J$（包含 $J^{m}$ 和 $J^{g}$）直接到 $L$ 的分支。\n\n给定以下经过数值指定且科学上合理的数据：\n- $r = 0.37$，\n- $a = 0.70$，\n- $b_{mL} = 0.10$，\n- $b_{gL} = 0.95$，\n\n计算 $t_{\\mathrm{eff}}$ 的数值。将最终答案表示为无量纲小数，并四舍五入到四位有效数字。",
            "solution": "在尝试任何解答之前，对问题陈述进行验证。\n\n### 步骤1：提取已知条件\n- **核素和状态**：一个具有亚稳态 $J^{m}$ 和基态 $J^{g}$ 的核素。稳定的产物核素为 $L$、$K$ 和 $M$。\n- **独立产额**：同分异构对的总独立产额为 $y_{0}$。亚稳态的独立产额为 $Y^{i}(J^{m}) = r\\,y_{0}$。基态的独立产额为 $Y^{i}(J^{g}) = (1 - r)\\,y_{0}$。$L$、$K$、$M$ 以及任何其他前驱体的独立产额为零：$Y^{i}(L) = 0$，$Y^{i}(K) = 0$，$Y^{i}(M) = 0$。\n- **衰变分支比**：\n  - 从 $J^{m}$：\n    - 内部跃迁到 $J^{g}$：概率 $a$。\n    - β衰变到 $L$：概率 $b_{mL}$。\n    - β衰变到 $K$：概率 $b_{mK}$。\n  - 从 $J^{g}$：\n    - β衰变到 $L$：概率 $b_{gL}$。\n    - β衰变到 $M$：概率 $b_{gM}$。\n- **归一化条件**：$a + b_{mL} + b_{mK} = 1$ 和 $b_{gL} + b_{gM} = 1$。\n- **累积产额定义**：核素 $i$ 的累积产额 $Y^{c}(i)$ 由线性平衡方程 $Y^{c}(i) = Y^{i}(i) + \\sum_{j} T_{ij} Y^{c}(j)$ 定义，其中 $T_{ij}$ 是从母体核素 $j$ 到子体核素 $i$ 的直接分支比。\n- **数值数据**：$r = 0.37$，$a = 0.70$，$b_{mL} = 0.10$，$b_{gL} = 0.95$。\n\n### 步骤2：使用提取的已知条件进行验证\n- **科学依据**：该问题在核反应堆物理和放射化学方面有坚实的理论基础。独立裂变产额和累积裂变产额、同分异构态、内部跃迁和β衰变分支等概念是基础性的，并得到了正确表述。用于累积产额的线性系统是燃耗计算中使用的标准模型（例如，时间积分情况下的Bateman方程）。\n- **良构性**：该问题为累积产额建立了一个线性代数方程组。衰变网络是无环的（核素仅向前补给到更重的元素或在同量异位素链内衰变），确保系统是可解的并有唯一解。所有必要的参数和定义均已提供。\n- **客观性**：该问题使用该领域标准的精确、定量和无偏见的术语进行陈述。\n\n### 步骤3：结论与行动\n问题有效。它在科学上是合理的，是自洽的，并且是良构的。该任务是核数据分析中基本原理的直接应用。我现在将继续解答。\n\n### 解答推导\n\n任何核素 $i$ 的累积产额，记为 $Y^{c}(i)$，是其独立产额 $Y^{i}(i)$ 加上它从其所有直接母体衰变中获得的产额。控制方程如下：\n$$Y^{c}(i) = Y^{i}(i) + \\sum_{j} T_{ij} Y^{c}(j)$$\n其中 $T_{ij}$ 是从母体 $j$ 到子体 $i$ 的分支比。我们将此关系应用于指定衰变链中的核素：$J^{m}$、$J^{g}$ 和 $L$。\n\n1.  **$J^{m}$ 的累积产额**：在此背景下，核素 $J^{m}$ 没有母体，因为它是由裂变直接产生的。因此，求和项为零。\n    $$Y^{c}(J^{m}) = Y^{i}(J^{m}) + 0 = r\\,y_{0}$$\n\n2.  **$J^{g}$ 的累积产额**：核素 $J^{g}$ 有两个来源：自身的独立产额和来自其母体 $J^{m}$ 通过内部跃迁的衰变补给。衰变 $J^{m} \\to J^{g}$ 的分支比是 $a$。\n    $$Y^{c}(J^{g}) = Y^{i}(J^{g}) + T_{J^{g}, J^{m}} Y^{c}(J^{m})$$\n    代入给定的表达式：\n    $$Y^{c}(J^{g}) = (1 - r)\\,y_{0} + a Y^{c}(J^{m})$$\n    现在，代入步骤1中 $Y^{c}(J^{m})$ 的结果：\n    $$Y^{c}(J^{g}) = (1 - r)\\,y_{0} + a (r\\,y_{0})$$\n    提出因子 $y_{0}$：\n    $$Y^{c}(J^{g}) = (1 - r + ar) y_{0}$$\n\n3.  **$L$ 的累积产额**：核素 $L$ 是稳定的，独立产额为零 ($Y^{i}(L)=0$)。它由两个母体 $J^{m}$ 和 $J^{g}$ 的β衰变补给。$J^{m} \\to L$ 的分支比为 $b_{mL}$，$J^{g} \\to L$ 的分支比为 $b_{gL}$。\n    $$Y^{c}(L) = Y^{i}(L) + T_{L, J^{m}} Y^{c}(J^{m}) + T_{L, J^{g}} Y^{c}(J^{g})$$\n    代入已知值和表达式：\n    $$Y^{c}(L) = 0 + b_{mL} Y^{c}(J^{m}) + b_{gL} Y^{c}(J^{g})$$\n    现在，代入 $Y^{c}(J^{m})$ 和 $Y^{c}(J^{g})$ 的表达式：\n    $$Y^{c}(L) = b_{mL} (r\\,y_{0}) + b_{gL} ((1 - r + ar) y_{0})$$\n    为了找到 $Y^{c}(L)$ 的最终表达式，我们提出总初始产额 $y_{0}$：\n    $$Y^{c}(L) = [b_{mL}r + b_{gL}(1 - r + ar)] y_{0}$$\n    这就是推导出的 $L$ 的累积产额的表达式。\n\n### 解释与计算\n\n问题要求将 $y_{0}$ 的系数解释为一个从聚合核素 $J$ 到 $L$ 的有效分支分数 $t_{\\mathrm{eff}}$。这个聚合核素的总独立产额是 $Y^{i}(J) = Y^{i}(J^{m}) + Y^{i}(J^{g}) = r\\,y_{0} + (1-r)y_{0} = y_{0}$。在这个简化的模型中，$L$ 的累积产额将是 $Y^{c}(L) = t_{\\mathrm{eff}} Y^{c}(J)$。由于 $J$ 没有母体，所以 $Y^{c}(J) = Y^{i}(J) = y_{0}$。因此，$Y^{c}(L) = t_{\\mathrm{eff}} y_{0}$。\n\n通过将其与我们推导的表达式进行比较，我们可以确定 $t_{\\mathrm{eff}}$：\n$$t_{\\mathrm{eff}} = b_{mL}r + b_{gL}(1 - r + ar)$$\n该表达式表示产生核素 $J$（以任一同分异构态形式）的裂变中，最终导致形成稳定核素 $L$ 的总分数。\n\n现在，我们使用所提供的数据计算 $t_{\\mathrm{eff}}$ 的数值：\n- $r = 0.37$\n- $a = 0.70$\n- $b_{mL} = 0.10$\n- $b_{gL} = 0.95$\n\n将这些值代入 $t_{\\mathrm{eff}}$ 的表达式中：\n$$t_{\\mathrm{eff}} = (0.10)(0.37) + (0.95) \\left[ 1 - 0.37 + (0.70)(0.37) \\right]$$\n首先，计算方括号内的项：\n$$1 - 0.37 + (0.70)(0.37) = 0.63 + 0.259 = 0.889$$\n现在，将此结果代回 $t_{\\mathrm{eff}}$ 的表达式中：\n$$t_{\\mathrm{eff}} = (0.10)(0.37) + (0.95)(0.889)$$\n$$t_{\\mathrm{eff}} = 0.037 + 0.84455$$\n$$t_{\\mathrm{eff}} = 0.88155$$\n\n问题要求将答案四舍五入到四位有效数字。\n$$t_{\\mathrm{eff}} \\approx 0.8816$$\n这就是有效分支分数的最终数值。",
            "answer": "$$\\boxed{0.8816}$$"
        },
        {
            "introduction": "裂变产额数据库中的细节并非纯粹的学术问题，它们对反应堆安全分析等实际应用有着重大影响。这项实践将挑战您量化在衰变热计算中因忽略同分异构体产额分配而引入的偏差 。通过这种方式，您可以直观地理解高保真核数据对于关键工程参数计算的重要性。",
            "id": "4226888",
            "problem": "一座轻水反应堆 (LWR) 在一次短暂的高功率辐照后于时刻 $t=0$ 停堆，该次辐照瞬时产生了一个已知总存量为 $N_{0}$ 的单一裂变产物质量链，其产物为氪-85 ($^{85}\\mathrm{Kr}$)。当代的裂变产额 (FPY) 数据库指明了 $^{85}\\mathrm{Kr}$ 的同质异能态分裂，它会分裂为长寿命的同质异能态 $^{85\\mathrm{m}}\\mathrm{Kr}$ 及其基态 $^{85}\\mathrm{Kr}$，其同质异能态产额比为 $f_{m}$，基态产额比为 $f_{g}=1-f_{m}$。在本题中，取 $f_{m}=0.22$ 和 $f_{g}=0.78$。\n\n同质异能态 $^{85\\mathrm{m}}\\mathrm{Kr}$ 通过内转换 (IT) 衰变到基态，其半衰期为 $T_{1/2,m}=4.48\\,\\mathrm{h}$，每次衰变释放的平均可回收能量为 $E_{m}=0.304\\,\\mathrm{MeV}$，由光子和转换电子携带。基态 $^{85}\\mathrm{Kr}$ 通过贝塔 (beta) 衰变生成铷-85 ($^{85}\\mathrm{Rb}$)，其半衰期为 $T_{1/2,g}=10.76\\,\\mathrm{y}$。假设每次基态衰变的平均可回收能量为 $E_{g}=0.600\\,\\mathrm{MeV}$，此能量不包括中微子能量。为了本次计算，假设所有可回收的衰变能量都局部沉积。\n\n使用基本放射性衰变定律 $N(t)=N(0)\\exp(-\\lambda t)$（其中 $\\lambda=\\ln(2)/T_{1/2}$）和活度定义 $A(t)=\\lambda N(t)$ 来为停堆后的时间演化过程建模。需考虑同质异能态通过内转换衰变对基态的补给。设该核素的正确衰变热功率为 $P_{\\mathrm{true}}(t)=A_{m}(t)E_{m}+A_{g}(t)E_{g}$，其中 $A_{m}(t)$ 和 $A_{g}(t)$ 分别是同质异能态和基态的活度。\n\n现在考虑一种建模近似，该近似忽略 FPY 数据库中的同质异能态分裂，即设 $f_{m}=0$ 并在 $t=0$ 时将全部初始存量 $N_{0}$ 分配给基态。设相应的衰变热功率为 $P_{\\mathrm{ns}}(t)$。将因忽略同质异能态分裂而引起的相对偏差 $\\mathcal{B}(t)$ 定义为\n$$\n\\mathcal{B}(t)=\\frac{P_{\\mathrm{ns}}(t)-P_{\\mathrm{true}}(t)}{P_{\\mathrm{true}}(t)} \\, .\n$$\n计算在冷却时间 $t_{c}=6\\,\\mathrm{h}$ 时的 $\\mathcal{B}(t)$，并将最终答案以小数形式表示，四舍五入到四位有效数字。最终答案无需单位。",
            "solution": "该问题陈述是核衰变物理学中一个提法恰当且有科学依据的练习，特别涉及衰变热计算以及同质异能态产额数据的影响。所有确定相对偏差所需的物理量和初始条件都已给出，该偏差与绝对初始存量 $N_0$ 无关。该问题是有效的。\n\n求解过程首先为“真实”衰变热（考虑了同质异能态分裂）和“无分裂”近似建立数学模型。然后通过在指定的冷却时间对这些模型进行求值来计算相对偏差。\n\n首先，我们使用关系式 $\\lambda = \\frac{\\ln(2)}{T_{1/2}}$，根据半衰期 $T_{1/2}$ 定义衰变常数 $\\lambda$。时间单位必须保持一致。我们选择小时 ($\\mathrm{h}$) 作为基本单位。\n\n对于同质异能态 $^{85\\mathrm{m}}\\mathrm{Kr}$：\n$T_{1/2,m} = 4.48\\,\\mathrm{h}$\n$\\lambda_m = \\frac{\\ln(2)}{4.48\\,\\mathrm{h}} \\approx 0.154716\\,\\mathrm{h}^{-1}$\n\n对于基态 $^{85}\\mathrm{Kr}$：\n$T_{1/2,g} = 10.76\\,\\mathrm{y}$。将年转换为小时：$1\\,\\mathrm{y} \\approx 365.25 \\times 24\\,\\mathrm{h} = 8766\\,\\mathrm{h}$。\n$T_{1/2,g} = 10.76 \\times 8766\\,\\mathrm{h} = 94322.16\\,\\mathrm{h}$\n$\\lambda_g = \\frac{\\ln(2)}{94322.16\\,\\mathrm{h}} \\approx 7.3499 \\times 10^{-6}\\,\\mathrm{h}^{-1}$\n\n注意 $\\lambda_m \\gg \\lambda_g$，这表明同质异能态的衰变速度快得多。\n\n**1. 真实衰变热功率, $P_{\\mathrm{true}}(t)$**\n\n衰变链为 $^{85\\mathrm{m}}\\mathrm{Kr} \\xrightarrow{\\lambda_m} {}^{85}\\mathrm{Kr} \\xrightarrow{\\lambda_g} {}^{85}\\mathrm{Rb}$ (稳定)。\n在 $t=0$ 时，初始原子核数量为：\n$N_m(0) = f_m N_0 = 0.22 N_0$\n$N_g(0) = f_g N_0 = 0.78 N_0$\n\n同质异能态的原子核数量 $N_m(t)$ 服从简单衰变：\n$$N_m(t) = N_m(0) \\exp(-\\lambda_m t) = f_m N_0 \\exp(-\\lambda_m t)$$\n基态的原子核数量 $N_g(t)$ 由具有初始存量的衰变链的贝特曼方程 (Bateman equation) 描述：\n$$\\frac{dN_g}{dt} = \\lambda_m N_m(t) - \\lambda_g N_g(t)$$\n其解为：\n$$N_g(t) = N_g(0) \\exp(-\\lambda_g t) + \\frac{\\lambda_m N_m(0)}{\\lambda_g - \\lambda_m} (\\exp(-\\lambda_m t) - \\exp(-\\lambda_g t))$$\n代入初始条件：\n$$N_g(t) = f_g N_0 \\exp(-\\lambda_g t) + \\frac{\\lambda_m f_m N_0}{\\lambda_g - \\lambda_m} (\\exp(-\\lambda_m t) - \\exp(-\\lambda_g t))$$\n活度为 $A(t) = \\lambda N(t)$：\n$$A_m(t) = \\lambda_m N_m(t) = \\lambda_m f_m N_0 \\exp(-\\lambda_m t)$$\n$$A_g(t) = \\lambda_g N_g(t) = \\lambda_g \\left( f_g N_0 \\exp(-\\lambda_g t) + \\frac{\\lambda_m f_m N_0}{\\lambda_g - \\lambda_m} (\\exp(-\\lambda_m t) - \\exp(-\\lambda_g t)) \\right)$$\n真实的衰变热功率为 $P_{\\mathrm{true}}(t) = A_m(t)E_m + A_g(t)E_g$：\n$$P_{\\mathrm{true}}(t) = N_0 \\left[ \\lambda_m f_m E_m \\exp(-\\lambda_m t) + \\lambda_g E_g \\left( f_g \\exp(-\\lambda_g t) + \\frac{\\lambda_m f_m}{\\lambda_g - \\lambda_m} (\\exp(-\\lambda_m t) - \\exp(-\\lambda_g t)) \\right) \\right]$$\n\n**2. 近似衰变热功率, $P_{\\mathrm{ns}}(t)$**\n\n在“无分裂”近似中，$f_m=0$, $f_g=1$。全部初始存量被分配给基态。\n$N_{ns, m}(0) = 0$\n$N_{ns, g}(0) = N_0$\n同质异能态的原子核数量及其衰变热贡献均为零。基态进行简单衰变：\n$$N_{ns, g}(t) = N_0 \\exp(-\\lambda_g t)$$\n相应的活度和功率为：\n$$A_{ns, g}(t) = \\lambda_g N_{ns, g}(t) = \\lambda_g N_0 \\exp(-\\lambda_g t)$$\n$$P_{\\mathrm{ns}}(t) = A_{ns, g}(t) E_g = \\lambda_g N_0 E_g \\exp(-\\lambda_g t)$$\n\n**3. 相对偏差, $\\mathcal{B}(t)$**\n\n相对偏差定义为：\n$$\\mathcal{B}(t) = \\frac{P_{\\mathrm{ns}}(t) - P_{\\mathrm{true}}(t)}{P_{\\mathrm{true}}(t)} = \\frac{P_{\\mathrm{ns}}(t)}{P_{\\mathrm{true}}(t)} - 1$$\n$N_0$ 项是所有功率表达式中的一个公因子，正如预期的那样，它将被消去。\n\n**4. 在 $t_c = 6\\,\\mathrm{h}$ 时的计算**\n\n我们使用以下数值，计算表达式在 $t_c = 6\\,\\mathrm{h}$ 时的值：\n$f_m = 0.22$, $f_g = 0.78$\n$E_m = 0.304\\,\\mathrm{MeV}$, $E_g = 0.600\\,\\mathrm{MeV}$\n$\\lambda_m \\approx 0.154716\\,\\mathrm{h}^{-1}$, $\\lambda_g \\approx 7.3499 \\times 10^{-6}\\,\\mathrm{h}^{-1}$\n\n首先，我们计算指数衰变因子：\n$\\exp(-\\lambda_m t_c) = \\exp(-0.154716 \\times 6) = \\exp(-0.928296) \\approx 0.395229$\n$\\exp(-\\lambda_g t_c) = \\exp(-7.3499 \\times 10^{-6} \\times 6) = \\exp(-4.40994 \\times 10^{-5}) \\approx 0.999956$\n\n让我们计算功率项，将其除以 $N_0$，记为 $p(t) = P(t)/N_0$。\n$p_{\\mathrm{ns}}(t_c) = \\lambda_g E_g \\exp(-\\lambda_g t_c)$\n$p_{\\mathrm{ns}}(t_c) \\approx (7.3499 \\times 10^{-6}) \\times (0.600) \\times (0.999956) \\approx 4.4097 \\times 10^{-6}\\,\\mathrm{MeV}\\,\\mathrm{h}^{-1}$\n\n对于真实功率，我们分别计算同质异能态和基态的贡献。\n同质异能态活度对功率的贡献：\n$p_m(t_c) = \\lambda_m f_m E_m \\exp(-\\lambda_m t_c)$\n$p_m(t_c) \\approx (0.154716) \\times (0.22) \\times (0.304) \\times (0.395229) \\approx 0.0040891\\,\\mathrm{MeV}\\,\\mathrm{h}^{-1}$\n\n基态活度对功率的贡献：\n$p_g(t_c) = \\lambda_g E_g \\left( f_g \\exp(-\\lambda_g t_c) + \\frac{\\lambda_m f_m}{\\lambda_g - \\lambda_m} (\\exp(-\\lambda_m t_c) - \\exp(-\\lambda_g t_c)) \\right)$\n预因子为 $\\frac{\\lambda_m f_m}{\\lambda_g - \\lambda_m} \\approx \\frac{(0.154716)(0.22)}{7.3499 \\times 10^{-6} - 0.154716} \\approx -0.220005$\n$p_g(t_c) \\approx (7.3499 \\times 10^{-6})(0.600) \\left( (0.78)(0.999956) + (-0.220005)(0.395229 - 0.999956) \\right)$\n$p_g(t_c) \\approx (4.40994 \\times 10^{-6}) \\left( 0.779966 + (-0.220005)(-0.604727) \\right)$\n$p_g(t_c) \\approx (4.40994 \\times 10^{-6}) \\left( 0.779966 + 0.133043 \\right)$\n$p_g(t_c) \\approx (4.40994 \\times 10^{-6}) (0.913009) \\approx 4.0264 \\times 10^{-6}\\,\\mathrm{MeV}\\,\\mathrm{h}^{-1}$\n\n每个初始原子的总真实功率：\n$p_{\\mathrm{true}}(t_c) = p_m(t_c) + p_g(t_c) \\approx 0.0040891 + 0.0000040264 = 0.00409313\\,\\mathrm{MeV}\\,\\mathrm{h}^{-1}$\n\n现在我们可以计算偏差：\n$\\mathcal{B}(t_c) = \\frac{p_{\\mathrm{ns}}(t_c)}{p_{\\mathrm{true}}(t_c)} - 1 \\approx \\frac{4.4097 \\times 10^{-6}}{0.00409313} - 1$\n$\\mathcal{B}(t_c) \\approx 0.0010773 - 1 = -0.9989227$\n\n在 $t_c=6\\,\\mathrm{h}$ 时，衰变热主要由短寿命同质异能态 $^{85\\mathrm{m}}\\mathrm{Kr}$ 的衰变主导。“无分裂”近似完全忽略了这一贡献，导致对总衰变热的严重低估。因此，偏差非常接近 $-1$。\n\n将结果四舍五入到四位有效数字，得到 $-0.9989$。",
            "answer": "$$\\boxed{-0.9989}$$"
        }
    ]
}