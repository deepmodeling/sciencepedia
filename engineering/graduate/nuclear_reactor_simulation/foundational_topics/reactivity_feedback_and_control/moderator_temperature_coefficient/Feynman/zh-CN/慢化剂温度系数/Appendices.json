{
    "hands_on_practices": [
        {
            "introduction": "本章节的第一个练习旨在为您打下坚实的理论基础。通过对一个无限大反应堆使用简化的单能群模型，我们可以解析地推导出慢化剂温度系数（MTC）。这个练习分离出了关键的物理机制——慢化剂密度和吸收截面的变化——并揭示了它们如何直接影响反应性，从而让您清晰直观地理解 MTC 的物理起源 。",
            "id": "4235911",
            "problem": "考虑一个由燃料和慢化剂组成的无限均匀热中子反应堆。定义反应性为 $\\rho = \\dfrac{k_{\\mathrm{eff}} - 1}{k_{\\mathrm{eff}}}$，其中 $k_{\\mathrm{eff}}$ 是有效中子增殖因子。假设采用单能群热中子描述，其中裂变仅在燃料中发生，中子仅因吸收而损失，且散射不会使中子离开该能群。在这些条件下，中子平衡意味着 $k_{\\mathrm{eff}}(T_m) = \\dfrac{\\nu \\Sigma_{f,F}(T_m)}{\\Sigma_{a,F}(T_m) + \\Sigma_{a,m}(T_m)}$，其中 $T_m$ 是慢化剂温度，$\\nu \\Sigma_{f,F}$ 是燃料中的宏观裂变产生项，$\\Sigma_{a,F}$ 和 $\\Sigma_{a,m}$ 分别是燃料和慢化剂的宏观吸收截面。\n\n假设在参考温度 $T_0$ 附近的热能区，所有相关的微观吸收和裂变截面均遵循反比速度定律，并且慢化剂数密度随温度的变化关系为 $N_m(T_m) = N_{m,0}\\left[1 - \\alpha_v \\left(T_m - T_0\\right)\\right]$，其中 $\\alpha_v$ 是慢化剂的体积热膨胀系数，在 $T_0$ 的一个足够小的邻域内取为常数。因此，对于与 $T_0$ 的微小偏离，可写为 $\\Sigma_{a,F}(T_m) = \\Sigma_{a,F,0} \\sqrt{\\dfrac{T_0}{T_m}}$，$\\nu \\Sigma_{f,F}(T_m) = \\nu \\Sigma_{f,0} \\sqrt{\\dfrac{T_0}{T_m}}$，以及 $\\Sigma_{a,m}(T_m) = \\Sigma_{a,m,0}\\left[1 - \\alpha_v \\left(T_m - T_0\\right)\\right]\\sqrt{\\dfrac{T_0}{T_m}}$，其中下标 $0$ 表示在 $T_0$ 处的值。\n\n在上述假设下，定义广义慢化剂温度系数 (MTC) 为 $\\alpha_m = \\left.\\dfrac{\\partial \\rho}{\\partial T_m}\\right|_{T_m=T_0}$。这些假设隔离了慢化剂反馈中的吸收-密度贡献，并忽略了热化和多普勒效应的变化。考虑两种慢化剂：\n\n- 轻水（$\\text{H}_2\\text{O}$），其 $\\Sigma_{a,m,0} = 0.020 \\ \\mathrm{cm}^{-1}$ 且 $\\alpha_v = 2.57 \\times 10^{-4} \\ \\mathrm{K}^{-1}$，\n- 重水（$\\text{D}_2\\text{O}$），其 $\\Sigma_{a,m,0} = 5.00 \\times 10^{-4} \\ \\mathrm{cm}^{-1}$ 且 $\\alpha_v = 1.25 \\times 10^{-4} \\ \\mathrm{K}^{-1}$。\n\n在 $T_0 = 300 \\ \\mathrm{K}$ 时，燃料的参数为 $\\Sigma_{a,F,0} = 0.080 \\ \\mathrm{cm}^{-1}$ 和 $\\nu \\Sigma_{f,0} = 0.100 \\ \\mathrm{cm}^{-1}$。\n\n仅使用给定的物理假设和定义，推导每种慢化剂在 $T_m = T_0$ 时的 $\\alpha_m$，并计算比值 $R = \\dfrac{\\alpha_m^{\\mathrm{H_2O}}}{\\alpha_m^{\\mathrm{D_2O}}}$。将 $R$ 表示为纯数。将最终答案四舍五入到四位有效数字。",
            "solution": "我们的目标是推导慢化剂温度系数 (MTC) $\\alpha_m$ 的表达式，然后计算轻水与重水的 MTC 之比。\n\nMTC 定义为反应性 $\\rho$ 对慢化剂温度 $T_m$ 的导数，并在参考温度 $T_0$ 处取值：\n$$\n\\alpha_m = \\left.\\dfrac{\\partial \\rho}{\\partial T_m}\\right|_{T_m=T_0}\n$$\n反应性 $\\rho$ 由下式给出：\n$$\n\\rho(T_m) = \\dfrac{k_{\\mathrm{eff}}(T_m) - 1}{k_{\\mathrm{eff}}(T_m)} = 1 - \\dfrac{1}{k_{\\mathrm{eff}}(T_m)}\n$$\n对于此无限均匀系统，有效增殖因子 $k_{\\mathrm{eff}}$ 给出如下：\n$$\nk_{\\mathrm{eff}}(T_m) = \\dfrac{\\nu \\Sigma_{f,F}(T_m)}{\\Sigma_{a,F}(T_m) + \\Sigma_{a,m}(T_m)}\n$$\n将此式代入反应性表达式，得到：\n$$\n\\rho(T_m) = 1 - \\dfrac{\\Sigma_{a,F}(T_m) + \\Sigma_{a,m}(T_m)}{\\nu \\Sigma_{f,F}(T_m)}\n$$\n现在，我们代入给定的宏观截面随温度变化的表达式：\n$$\n\\rho(T_m) = 1 - \\dfrac{\\Sigma_{a,F,0} \\sqrt{\\dfrac{T_0}{T_m}} + \\Sigma_{a,m,0}\\left[1 - \\alpha_v \\left(T_m - T_0\\right)\\right]\\sqrt{\\dfrac{T_0}{T_m}}}{\\nu \\Sigma_{f,0} \\sqrt{\\dfrac{T_0}{T_m}}}\n$$\n项 $\\sqrt{\\dfrac{T_0}{T_m}}$ 代表了热中子能谱移位对 $1/v$ 截面的影响，它是分子和分母的公因子，因此可以消去。这种消去是所有相关截面（燃料吸收、燃料裂变和慢化剂吸收）都遵循相同 $1/v$ 行为这一假设的直接结果。\n$$\n\\rho(T_m) = 1 - \\dfrac{\\Sigma_{a,F,0} + \\Sigma_{a,m,0}\\left[1 - \\alpha_v \\left(T_m - T_0\\right)\\right]}{\\nu \\Sigma_{f,0}}\n$$\n这个简化的反应性表达式现在仅线性依赖于慢化剂温度 $T_m$。我们可以展开分子中的项：\n$$\n\\rho(T_m) = 1 - \\dfrac{\\Sigma_{a,F,0} + \\Sigma_{a,m,0} - \\Sigma_{a,m,0}\\alpha_v T_m + \\Sigma_{a,m,0}\\alpha_v T_0}{\\nu \\Sigma_{f,0}}\n$$\n为了求 MTC，我们将 $\\rho(T_m)$ 对 $T_m$ 求导：\n$$\n\\dfrac{\\partial \\rho}{\\partial T_m} = \\dfrac{\\partial}{\\partial T_m} \\left( 1 - \\dfrac{\\Sigma_{a,F,0} + \\Sigma_{a,m,0} - \\Sigma_{a,m,0}\\alpha_v T_m + \\Sigma_{a,m,0}\\alpha_v T_0}{\\nu \\Sigma_{f,0}} \\right)\n$$\n项 $\\Sigma_{a,F,0}$、$\\Sigma_{a,m,0}$ 和 $\\Sigma_{a,m,0}\\alpha_v T_0$ 均是关于 $T_m$ 的常数。因此，导数为：\n$$\n\\dfrac{\\partial \\rho}{\\partial T_m} = - \\dfrac{1}{\\nu \\Sigma_{f,0}} \\dfrac{\\partial}{\\partial T_m} \\left( - \\Sigma_{a,m,0}\\alpha_v T_m \\right)\n$$\n$$\n\\dfrac{\\partial \\rho}{\\partial T_m} = - \\dfrac{1}{\\nu \\Sigma_{f,0}} \\left( - \\Sigma_{a,m,0}\\alpha_v \\right) = \\dfrac{\\Sigma_{a,m,0}\\alpha_v}{\\nu \\Sigma_{f,0}}\n$$\n得到的导数表达式是一个常数，与 $T_m$ 无关。因此，在 $T_m = T_0$ 处求值不会改变其结果：\n$$\n\\alpha_m = \\left.\\dfrac{\\partial \\rho}{\\partial T_m}\\right|_{T_m=T_0} = \\dfrac{\\Sigma_{a,m,0}\\alpha_v}{\\nu \\Sigma_{f,0}}\n$$\n这个 $\\alpha_m$ 的解析表达式分离出了慢化剂密度变化的贡献，正如问题陈述所意图的。\n\n题目要求我们计算比值 $R = \\dfrac{\\alpha_m^{\\mathrm{H_2O}}}{\\alpha_m^{\\mathrm{D_2O}}}$。使用推导出的 $\\alpha_m$ 表达式：\n$$\nR = \\dfrac{\\left(\\dfrac{\\Sigma_{a,m,0}^{\\mathrm{H_2O}}\\alpha_v^{\\mathrm{H_2O}}}{\\nu \\Sigma_{f,0}}\\right)}{\\left(\\dfrac{\\Sigma_{a,m,0}^{\\mathrm{D_2O}}\\alpha_v^{\\mathrm{D_2O}}}{\\nu \\Sigma_{f,0}}\\right)}\n$$\n燃料参数 $\\nu \\Sigma_{f,0}$ 在分子和分母中都存在，因此可以消掉：\n$$\nR = \\dfrac{\\Sigma_{a,m,0}^{\\mathrm{H_2O}}\\alpha_v^{\\mathrm{H_2O}}}{\\Sigma_{a,m,0}^{\\mathrm{D_2O}}\\alpha_v^{\\mathrm{D_2O}}}\n$$\n现在我们代入给定的数值：\n- 对于轻水（$\\text{H}_2\\text{O}$）：$\\Sigma_{a,m,0}^{\\mathrm{H_2O}} = 0.020 \\ \\mathrm{cm}^{-1}$ 且 $\\alpha_v^{\\mathrm{H_2O}} = 2.57 \\times 10^{-4} \\ \\mathrm{K}^{-1}$\n- 对于重水（$\\text{D}_2\\text{O}$）：$\\Sigma_{a,m,0}^{\\mathrm{D_2O}} = 5.00 \\times 10^{-4} \\ \\mathrm{cm}^{-1}$ 且 $\\alpha_v^{\\mathrm{D_2O}} = 1.25 \\times 10^{-4} \\ \\mathrm{K}^{-1}$\n\n$$\nR = \\dfrac{(0.020) \\times (2.57 \\times 10^{-4})}{(5.00 \\times 10^{-4}) \\times (1.25 \\times 10^{-4})}\n$$\n$$\nR = \\dfrac{5.14 \\times 10^{-6}}{6.25 \\times 10^{-8}}\n$$\n$$\nR = \\dfrac{5.14}{6.25} \\times 10^{2} = 0.8224 \\times 100\n$$\n$$\nR = 82.24\n$$\n题目要求答案四舍五入到四位有效数字。计算出的值 $82.24$ 已经有四位有效数字。",
            "answer": "$$\n\\boxed{82.24}\n$$"
        },
        {
            "introduction": "在理解了 MTC 的物理基础之后，下一步是观察它在实际系统中的作用。这个问题将 MTC 作为一个反馈系数整合到点动力学模型中，该模型描述了整个反应堆的瞬态行为。通过分析系统对反应性引入的响应，您将确定新的稳定功率水平，从而证明负的 MTC 如何通过抵消功率增加来提供固有安全性 。",
            "id": "4235922",
            "problem": "一个压水反应堆由单能群中子点动力学、单个有效缓发中子群和集总慢化剂热节点进行建模。中子布居通过慢化剂温度系数（MTC）与慢化剂耦合。其控制关系式如下。\n\n带有一个缓发中子群的中子点动力学：\n- 中子平衡：$\\dfrac{dn}{dt} = \\dfrac{\\rho(t) - \\beta_{\\text{eff}}}{\\Lambda}\\,n(t) + \\lambda\\,C(t)$。\n- 先驱核平衡：$\\dfrac{dC}{dt} = \\dfrac{\\beta_{\\text{eff}}}{\\Lambda}\\,n(t) - \\lambda\\,C(t)$。\n\n慢化剂热能平衡：\n- $\\displaystyle C_{m}\\,\\dfrac{dT_{m}}{dt} = P(t) - H\\left(T_{m}(t) - T_{\\text{in}}\\right)$。\n\n中子功率与热功率的比例关系：\n- $\\displaystyle P(t) = P_{0}\\,\\dfrac{n(t)}{n(0)}$。\n\n带慢化剂反馈的反应性：\n- $\\displaystyle \\rho(t) = \\rho_{\\text{ext}} + \\alpha_{m}\\left(T_{m}(t) - T_{0}\\right)$。\n\n此处，$\\beta_{\\text{eff}}$ 是有效缓发中子份额，$\\Lambda$ 是瞬发中子代时间，$\\lambda$ 是单个有效中子群的先驱核衰变常数，$C_{m}$ 是集总慢化剂热容，$H$ 是到冷却剂的总传热系数，$T_{\\text{in}}$ 是冷却剂入口温度，$\\rho_{\\text{ext}}$ 是在时间 $t=0$ 时外部施加的阶跃反应性，$\\alpha_{m}$ 是慢化剂温度系数（对于稳定热反馈，其值为负），$T_{0}$ 是反应性引入前稳态下的初始慢化剂温度。\n\n初始时，在 $t=0^{-}$，反应堆处于稳态，热功率为 $P_{0}$，慢化剂温度为 $T_{0}$，满足 $\\displaystyle P_{0} = H\\left(T_{0} - T_{\\text{in}}\\right)$。在 $t=0^{+}$，瞬时引入反应性 $\\rho_{\\text{ext}}$，且 $\\rho_{\\text{ext}} \\ll \\beta_{\\text{eff}}$。假设没有其他反馈（例如，燃料多普勒效应），且所有参数均为常数。\n\n给定以下参数值：\n- $P_{0} = 300$ MW,\n- $T_{\\text{in}} = 550$ K,\n- $H = 5.00$ MW/K,\n- $\\alpha_{m} = -5.0 \\times 10^{-5} \\, \\mathrm{K}^{-1}$,\n- $\\rho_{\\text{ext}} = 2.00 \\times 10^{-3}$ (无量纲，单位为 $\\Delta k/k$),\n- $\\beta_{\\text{eff}} = 6.50 \\times 10^{-3}$,\n- $\\Lambda = 1.00 \\times 10^{-5}$ s,\n- $\\lambda = 8.00 \\times 10^{-2}$ s$^{-1}$,\n- $C_{m} = 1.00 \\times 10^{9}$ J/K,\n\n从点动力学和热能平衡方程出发，推导在反应性阶跃发生后，当 $t \\to \\infty$ 时的渐近稳态热功率 $P_{\\infty}$。最终答案以 MW 为单位，并四舍五入到四位有效数字。",
            "solution": "目标是求解在外部反应性阶跃引入后，反应堆的渐近稳态热功率 $P_{\\infty}$。分析过程首先建立稳态条件，然后求解得到的代数方程组。\n\n根据定义，稳态是所有系统变量不随时间变化的条件。这意味着控制方程中所有的时间导数都等于零。令下标 $\\infty$ 表示变量在 $t \\to \\infty$ 时的值。\n\n稳态时（$t \\to \\infty$）的控制方程为：\n1. 中子平衡：$\\dfrac{dn}{dt} = 0 \\implies \\dfrac{\\rho_{\\infty} - \\beta_{\\text{eff}}}{\\Lambda}\\,n_{\\infty} + \\lambda\\,C_{\\infty} = 0$\n2. 先驱核平衡：$\\dfrac{dC}{dt} = 0 \\implies \\dfrac{\\beta_{\\text{eff}}}{\\Lambda}\\,n_{\\infty} - \\lambda\\,C_{\\infty} = 0$\n3. 慢化剂热能平衡：$C_{m}\\,\\dfrac{dT_{m}}{dt} = 0 \\implies P_{\\infty} - H\\left(T_{m, \\infty} - T_{\\text{in}}\\right) = 0$\n\n从先驱核平衡方程（2）中，我们可以将 $\\lambda\\,C_{\\infty}$ 项表示为：\n$$\n\\lambda\\,C_{\\infty} = \\dfrac{\\beta_{\\text{eff}}}{\\Lambda}\\,n_{\\infty}\n$$\n将此结果代入中子平衡方程（1）：\n$$\n\\dfrac{\\rho_{\\infty} - \\beta_{\\text{eff}}}{\\Lambda}\\,n_{\\infty} + \\dfrac{\\beta_{\\text{eff}}}{\\Lambda}\\,n_{\\infty} = 0\n$$\n提取公因式 $\\dfrac{n_{\\infty}}{\\Lambda}$：\n$$\n\\dfrac{n_{\\infty}}{\\Lambda}\\left( (\\rho_{\\infty} - \\beta_{\\text{eff}}) + \\beta_{\\text{eff}} \\right) = 0\n$$\n$$\n\\dfrac{\\rho_{\\infty}\\,n_{\\infty}}{\\Lambda} = 0\n$$\n由于反应堆在一个新的非零功率水平上运行，中子布居 $n_{\\infty}$ 不可能为零。因此，为使该方程成立，稳态下的总反应性 $\\rho_{\\infty}$ 必须为零：\n$$\n\\rho_{\\infty} = 0\n$$\n这是反应堆物理学的一个基本原理：要使反应堆处于稳定的临界状态，其净反应性必须为零。\n\n总反应性由外部反应性和慢化剂温度反馈反应性之和给出：\n$$\n\\rho(t) = \\rho_{\\text{ext}} + \\alpha_{m}\\left(T_{m}(t) - T_{0}\\right)\n$$\n在新的稳态下，此方程变为：\n$$\n\\rho_{\\infty} = \\rho_{\\text{ext}} + \\alpha_{m}\\left(T_{m, \\infty} - T_{0}\\right) = 0\n$$\n该方程表明，由慢化剂温度变化引入的负反应性必须恰好抵消所引入的正的外部反应性。我们可以解出慢化剂温度的变化量 $\\Delta T_{m} = T_{m, \\infty} - T_{0}$：\n$$\n\\Delta T_{m} = T_{m, \\infty} - T_{0} = -\\dfrac{\\rho_{\\text{ext}}}{\\alpha_{m}}\n$$\n现在，我们使用热能平衡将功率与慢化剂温度联系起来。在初始稳态（$t=0^{-}$）时，功率为 $P_{0}$：\n$$\nP_{0} = H\\left(T_{0} - T_{\\text{in}}\\right)\n$$\n在最终稳态（$t \\to \\infty$）时，功率为 $P_{\\infty}$：\n$$\nP_{\\infty} = H\\left(T_{m, \\infty} - T_{\\text{in}}\\right)\n$$\n功率的变化量 $\\Delta P = P_{\\infty} - P_{0}$ 可以表示为：\n$$\n\\Delta P = H\\left(T_{m, \\infty} - T_{\\text{in}}\\right) - H\\left(T_{0} - T_{\\text{in}}\\right)\n$$\n$$\n\\Delta P = H\\left(T_{m, \\infty} - T_{0}\\right) = H \\cdot \\Delta T_{m}\n$$\n代入我们求得的 $\\Delta T_{m}$ 表达式：\n$$\n\\Delta P = H \\left( -\\dfrac{\\rho_{\\text{ext}}}{\\alpha_{m}} \\right)\n$$\n最终功率 $P_{\\infty}$ 是初始功率 $P_{0}$ 加上这个变化量 $\\Delta P$：\n$$\nP_{\\infty} = P_{0} + \\Delta P = P_{0} - H\\dfrac{\\rho_{\\text{ext}}}{\\alpha_{m}}\n$$\n这个简洁的最终功率表达式表明，新的稳态由初始功率、热量导出特性和反应性反馈决定，并且与动力学参数（$\\Lambda$, $\\beta_{\\text{eff}}$, $\\lambda$）以及系统热容（$C_m$）无关，这些参数仅影响瞬态行为。\n\n现在，我们将给定的数值代入此表达式：\n- $P_{0} = 300\\,\\text{MW}$\n- $H = 5.00\\,\\text{MW/K}$\n- $\\rho_{\\text{ext}} = 2.00 \\times 10^{-3}$\n- $\\alpha_{m} = -5.0 \\times 10^{-5}\\,\\mathrm{K}^{-1}$\n\n$$\nP_{\\infty} = 300\\,\\text{MW} - (5.00\\,\\text{MW/K}) \\dfrac{2.00 \\times 10^{-3}}{-5.0 \\times 10^{-5}\\,\\mathrm{K}^{-1}}\n$$\n首先，计算反应性比值：\n$$\n\\dfrac{2.00 \\times 10^{-3}}{-5.0 \\times 10^{-5}\\,\\mathrm{K}^{-1}} = -\\dfrac{2.00}{5.0} \\times 10^{2}\\,\\text{K} = -0.4 \\times 10^{2}\\,\\text{K} = -40\\,\\text{K}\n$$\n现在，将此结果代回 $P_{\\infty}$ 的方程中：\n$$\nP_{\\infty} = 300\\,\\text{MW} - (5.00\\,\\text{MW/K}) \\times (-40\\,\\text{K})\n$$\n$$\nP_{\\infty} = 300\\,\\text{MW} - (-200\\,\\text{MW})\n$$\n$$\nP_{\\infty} = 300\\,\\text{MW} + 200\\,\\text{MW} = 500\\,\\text{MW}\n$$\n题目要求最终答案以 MW 为单位，并四舍五入到四位有效数字。计算值恰好是 $500\\,\\text{MW}$。为了用四位有效数字表示，我们将其写为 $500.0\\,\\text{MW}$。",
            "answer": "$$\\boxed{500.0}$$"
        },
        {
            "introduction": "真实的反应堆分析需要比之前使用的简化模型更为复杂的工具。这项练习将带您进入计算反应堆物理学的领域，采用双能群中子扩散模型。您将构建相关的矩阵，以考虑中子泄漏、能群间的光谱移动以及栅格非均匀性等效应，并以数值方式计算 MTC。这项练习为您搭建了从简单理论到实际模拟方法的桥梁 。",
            "id": "4235925",
            "problem": "使用一种$2$-群中子扩散表示法来研究均匀化燃料-慢化剂栅格中的慢化剂温度系数（MTC），其中明确考虑了几何、非均匀性、泄漏和栅格物理效应。从扩散理论下增殖介质的中子平衡以及有效增殖因子的定义开始。基本基础包括：(i) 每个能群中的中子平衡，其中泄漏由菲克定律建模；(ii) 群间散射、吸收和裂变产生项；(iii) 临界的广义特征值表述；以及 (iv) 反应性及其温度导数的定义。材料被建模为代表重复栅格的单个均匀区域，泄漏由材料曲率表示。\n\n将使用的定义和建模假设：\n- 两群通量矢量为 $\\boldsymbol{\\phi} = [\\phi_1,\\phi_2]^T$。矩阵形式的平衡方程为 $F \\boldsymbol{\\phi} = k A \\boldsymbol{\\phi}$，其中 $k$ 是有效增殖因子。损失矩阵 $A$ 代表吸收、降散射移除和泄漏，产生矩阵 $F$ 代表由裂变产生的中子，这些中子按裂变谱分布到各个群中。\n- 对于厚度为 $a$（单位为 $\\mathrm{cm}$）的均匀裸板，几何材料曲率为 $B^2 = (\\pi/a)^2$。群 $g$ 中的泄漏作为 $D_g B^2$ 进入损失矩阵的对角线，其中 $D_g$ 是群 $g$ 的扩散系数（单位为 $\\mathrm{cm}$）。\n- 反应堆是燃料和轻水慢化剂的混合物，慢化剂与燃料的体积比为 $M$。燃料的体积分数为 $f_{\\mathrm{f}} = 1/(1+M)$，慢化剂的体积分数为 $f_{\\mathrm{m}} = M/(1+M)$。\n- 慢化剂密度通过线性热膨胀依赖于温度 $T$：$\\rho_{\\mathrm{m}}(T) = \\rho_0 \\left[1 - \\alpha_{\\rho} (T - T_0)\\right]$，其中 $T_0$ 是参考温度。所有慢化剂的宏观截面都与 $\\rho_{\\mathrm{m}}(T)$ 线性相关。\n- 非均匀性由丹科夫因子 $C \\in [0,1)$ 表示，该因子增加了燃料中有效的共振（群1）吸收。使用唯象映射 $\\Sigma_{a,1}^{\\mathrm{f,eff}} = \\Sigma_{a,1}^{\\mathrm{f}} \\left[ 1 + \\gamma \\, C/(1+M) \\right]$，其中常数 $\\gamma$ 在下面指定。这捕捉了由于非均匀棒栅几何结构导致的共振自屏效应的增加。\n- 均匀化的宏观量由燃料和慢化剂贡献的体积加权混合形成。对于任何宏观截面 $\\Sigma_x$，写作 $\\Sigma_x = f_{\\mathrm{f}} \\, \\Sigma_x^{\\mathrm{f,eff}} + f_{\\mathrm{m}} \\, \\Sigma_x^{\\mathrm{m}}(T)$，其中需要理解的是 $\\Sigma_x^{\\mathrm{m}}(T)$ 与 $\\rho_{\\mathrm{m}}(T)$ 线性相关，而 $\\Sigma_x^{\\mathrm{f,eff}}$ 除了上述给出的群1吸收的非均匀性调整外，与温度无关。\n- 群耦合仅限于从群1到群2的降散射，记作 $\\Sigma_{s,1 \\to 2}$；升散射被忽略。假设所有裂变中子都在群1中产生，其谱分量为 $\\chi_1 = 1$ 和 $\\chi_2 = 0$。\n\n按如下方式构建矩阵。定义均匀化量：\n- 群1吸收：$\\Sigma_{a,1} = f_{\\mathrm{f}} \\, \\Sigma_{a,1}^{\\mathrm{f,eff}} + f_{\\mathrm{m}} \\, \\Sigma_{a,1}^{\\mathrm{m}}(T)$。\n- 群2吸收：$\\Sigma_{a,2} = f_{\\mathrm{f}} \\, \\Sigma_{a,2}^{\\mathrm{f}} + f_{\\mathrm{m}} \\, \\Sigma_{a,2}^{\\mathrm{m}}(T)$。\n- 从群1的降散射移除：$\\Sigma_{s,1 \\to 2} = f_{\\mathrm{f}} \\, \\Sigma_{s,1 \\to 2}^{\\mathrm{f}} + f_{\\mathrm{m}} \\, \\Sigma_{s,1 \\to 2}^{\\mathrm{m}}(T)$。\n- 扩散系数：$D_g = f_{\\mathrm{f}} D_g^{\\mathrm{f}} + f_{\\mathrm{m}} D_g^{\\mathrm{m}}$ 对于 $g \\in \\{1,2\\}$。\n- 裂变产生：$\\nu \\Sigma_{f,1} = f_{\\mathrm{f}} \\, \\nu \\Sigma_{f,1}^{\\mathrm{f}}$，$\\nu \\Sigma_{f,2} = f_{\\mathrm{f}} \\, \\nu \\Sigma_{f,2}^{\\mathrm{f}}$。\n\n那么损失矩阵 $A$ 和产生矩阵 $F$ 是\n$$\nA = \\begin{bmatrix}\n\\Sigma_{a,1} + \\Sigma_{s,1 \\to 2} + D_1 B^2 & 0 \\\\\n- \\Sigma_{s,1 \\to 2} & \\Sigma_{a,2} + D_2 B^2\n\\end{bmatrix}, \\quad\nF = \\begin{bmatrix}\n\\nu \\Sigma_{f,1} & \\nu \\Sigma_{f,2} \\\\\n0 & 0\n\\end{bmatrix}.\n$$\n$A^{-1} F$ 的最大特征值等于 $k$。反应性为 $\\rho = (k - 1)/k$。慢化剂温度系数（MTC）定义为在固定几何和成分下，导数 $\\alpha_{\\mathrm{M}} = d\\rho/dT$，这里用步长为 $\\Delta T$ 的中心差分近似：\n$$\n\\alpha_{\\mathrm{M}} \\approx \\frac{\\rho(T_0 + \\Delta T) - \\rho(T_0 - \\Delta T)}{2 \\Delta T}.\n$$\n将 $\\alpha_{\\mathrm{M}}$ 以 $\\mathrm{K}^{-1}$ 为单位表示为十进制数。\n\n使用以下固定的核数据和热物理参数（所有宏观截面单位为 $\\mathrm{cm}^{-1}$，扩散系数单位为 $\\mathrm{cm}$）：\n- 燃料群常数：\n  - $\\Sigma_{a,1}^{\\mathrm{f}} = 0.015$, $\\Sigma_{a,2}^{\\mathrm{f}} = 0.090$,\n  - $\\Sigma_{s,1 \\to 2}^{\\mathrm{f}} = 0.250$,\n  - $\\nu \\Sigma_{f,1}^{\\mathrm{f}} = 0.020$, $\\nu \\Sigma_{f,2}^{\\mathrm{f}} = 0.120$,\n  - $D_1^{\\mathrm{f}} = 1.20$, $D_2^{\\mathrm{f}} = 0.35$.\n- 在参考密度 $\\rho_0$ 下的慢化剂群常数：\n  - $\\Sigma_{a,1}^{\\mathrm{m}}(T_0) = 0.0004$, $\\Sigma_{a,2}^{\\mathrm{m}}(T_0) = 0.018$,\n  - $\\Sigma_{s,1 \\to 2}^{\\mathrm{m}}(T_0) = 1.500$,\n  - $D_1^{\\mathrm{m}} = 1.60$, $D_2^{\\mathrm{m}} = 0.60$.\n- 参考温度、密度和热膨胀：\n  - $T_0 = 560 \\ \\mathrm{K}$, $\\rho_0 = 700 \\ \\mathrm{kg/m^3}$,\n  - $\\alpha_{\\rho} = 3.5 \\times 10^{-4} \\ \\mathrm{K}^{-1}$.\n- 非均匀性缩放系数：$\\gamma = 1.6$.\n\n慢化剂宏观截面随温度的变化如下\n$$\n\\Sigma_{x}^{\\mathrm{m}}(T) = \\Sigma_{x}^{\\mathrm{m}}(T_0) \\cdot \\frac{\\rho_{\\mathrm{m}}(T)}{\\rho_0}\n= \\Sigma_{x}^{\\mathrm{m}}(T_0) \\cdot \\left[ 1 - \\alpha_{\\rho} (T - T_0) \\right],\n$$\n对于 $x \\in \\{ a,1; \\ a,2; \\ s,1 \\to 2 \\}$。\n\n任务：\n- 实现一个程序，对于每个测试用例，在 $T_0 + \\Delta T$ 和 $T_0 - \\Delta T$ 下构建 $A$ 和 $F$，从 $A^{-1} F$ 的主特征值计算 $k$，计算两个温度下的 $\\rho$，并返回如上定义的 $\\alpha_{\\mathrm{M}}$。\n\n测试套件：\n为以下不同的参数集提供结果，每个参数集以 $(a, M, C, \\Delta T)$ 的形式给出，其中 $a$ 的单位是 $\\mathrm{cm}$，$\\Delta T$ 的单位是 $\\mathrm{K}$。\n- 案例1（一般情况）：$(300, \\ 2.0, \\ 0.2, \\ 10)$。\n- 案例2（高泄漏，小板）：$(80, \\ 2.0, \\ 0.2, \\ 10)$。\n- 案例3（过慢化栅格）：$(300, \\ 4.0, \\ 0.1, \\ 10)$。\n- 案例4（欠慢化，强非均匀性）：$(300, \\ 0.5, \\ 0.7, \\ 10)$。\n- 案例5（非常大的板，不同步长）：$(500, \\ 1.5, \\ 0.3, \\ 25)$。\n\n答案规格：\n- 对每个案例，计算一个单位为 $\\mathrm{K}^{-1}$ 的浮点数 $\\alpha_{\\mathrm{M}}$。\n- 您的程序应产生单行输出，其中包含用方括号括起来的逗号分隔列表形式的结果（例如，“[$r_1,r_2,r_3,r_4,r_5$]”），其中 $r_i$ 对应于上面列出的案例顺序。",
            "solution": "该解决方案需要实现一个基于两群中子扩散理论的计算模型来求得慢化剂温度系数（MTC）。具体步骤如下：\n1.  **实现物理模型：** 根据所提供的物理原理，编写用于计算与温度相关的宏观截面的函数。这包括用于均匀化的体积加权、用于慢化剂的与温度相关的密度，以及用于非均匀性效应的唯象模型。\n2.  **构建矩阵：** 在给定的温度 $T$ 和反应堆参数 $(a, M, C)$ 下，构建 $2 \\times 2$ 的损失矩阵 $A(T)$ 和产生矩阵 $F$。损失矩阵包含吸收、移出散射和泄漏（通过几何曲率 $B^2 = (\\pi/a)^2$）的项。产生矩阵包含裂变源项。\n3.  **计算特征值：** 通过求解特征值问题来确定有效增殖因子 $k(T)$。如问题所述，$k(T)$ 是矩阵 $A(T)^{-1}F$ 的最大特征值。这是一个标准的数值线性代数任务。\n4.  **计算反应性：** 使用定义 $\\rho(T) = (k(T) - 1) / k(T)$ 将增殖因子 $k(T)$ 转换为反应性。\n5.  **近似导数：** 应用中心差分格式来近似计算 MTC, $\\alpha_{\\mathrm{M}}$。这涉及在 $T_0 + \\Delta T$ 和 $T_0 - \\Delta T$ 这两个点计算反应性，然后使用公式：\n    $$\n    \\alpha_{\\mathrm{M}} \\approx \\frac{\\rho(T_0 + \\Delta T) - \\rho(T_0 - \\Delta T)}{2 \\Delta T}\n    $$\n对问题中指定的每个测试用例重复此过程。答案标签中提供的 Python 脚本是对该方法的直接实现。",
            "answer": "```python\nimport numpy as np\n\n# A meticulous and exacting professor in the STEM fields.\n\ndef solve():\n    \"\"\"\n    Main solver function to compute the Moderator Temperature Coefficient (MTC)\n    for a series of test cases based on a 2-group neutron diffusion model.\n    \"\"\"\n\n    # --- Fixed Nuclear Data and Thermophysical Parameters ---\n    # Fuel group constants\n    SIGMA_A1_F = 0.015     # cm^-1\n    SIGMA_A2_F = 0.090     # cm^-1\n    SIGMA_S12_F = 0.250    # cm^-1\n    NU_SIGMA_F1_F = 0.020  # cm^-1\n    NU_SIGMA_F2_F = 0.120  # cm^-1\n    D1_F = 1.20          # cm\n    D2_F = 0.35          # cm\n\n    # Moderator group constants at reference density rho0\n    SIGMA_A1_M_T0 = 0.0004   # cm^-1\n    SIGMA_A2_M_T0 = 0.018    # cm^-1\n    SIGMA_S12_M_T0 = 1.500   # cm^-1\n    D1_M = 1.60          # cm\n    D2_M = 0.60          # cm\n\n    # Reference temperature and thermal expansion\n    T0 = 560.0             # K\n    ALPHA_RHO = 3.5e-4     # K^-1\n\n    # Heterogeneity scaling coefficient\n    GAMMA = 1.6\n\n    def get_k(T, a, M, C):\n        \"\"\"\n        Calculates the effective multiplication factor k for a given temperature and reactor state.\n        \n        Args:\n            T (float): Moderator temperature [K].\n            a (float): Slab thickness [cm].\n            M (float): Moderator-to-fuel volume ratio.\n            C (float): Dancoff factor.\n\n        Returns:\n            float: Effective multiplication factor k.\n        \"\"\"\n        # Calculate volume fractions\n        f_f = 1.0 / (1.0 + M)\n        f_m = M / (1.0 + M)\n\n        # --- Temperature-Dependent Moderator Cross-Sections ---\n        temp_factor = 1.0 - ALPHA_RHO * (T - T0)\n        sigma_a1_m = SIGMA_A1_M_T0 * temp_factor\n        sigma_a2_m = SIGMA_A2_M_T0 * temp_factor\n        sigma_s12_m = SIGMA_S12_M_T0 * temp_factor\n\n        # --- Heterogeneity Effect on Fuel Absorption ---\n        sigma_a1_f_eff = SIGMA_A1_F * (1.0 + GAMMA * C / (1.0 + M))\n\n        # --- Homogenized Macroscopic Quantities ---\n        # Absorption\n        sigma_a1 = f_f * sigma_a1_f_eff + f_m * sigma_a1_m\n        sigma_a2 = f_f * SIGMA_A2_F + f_m * sigma_a2_m\n        # Downscatter\n        sigma_s12 = f_f * SIGMA_S12_F + f_m * sigma_s12_m\n        # Diffusion Coefficients (temperature-independent in this model)\n        d1 = f_f * D1_F + f_m * D1_M\n        d2 = f_f * D2_F + f_m * D2_M\n        # Fission Production\n        nu_sigma_f1 = f_f * NU_SIGMA_F1_F\n        nu_sigma_f2 = f_f * NU_SIGMA_F2_F\n\n        # --- Matrix Construction ---\n        B2 = (np.pi / a)**2  # Geometric buckling\n\n        # Loss Matrix A\n        A = np.zeros((2, 2))\n        A[0, 0] = sigma_a1 + sigma_s12 + d1 * B2\n        A[0, 1] = 0.0\n        A[1, 0] = -sigma_s12\n        A[1, 1] = sigma_a2 + d2 * B2\n        \n        # Production Matrix F\n        F = np.zeros((2, 2))\n        F[0, 0] = nu_sigma_f1\n        F[0, 1] = nu_sigma_f2\n        \n        # --- Eigenvalue Calculation ---\n        # k is the largest eigenvalue of A_inv * F\n        try:\n            A_inv = np.linalg.inv(A)\n            A_inv_F = A_inv @ F\n            eigenvalues = np.linalg.eigvals(A_inv_F)\n            k = np.max(np.abs(eigenvalues))\n        except np.linalg.LinAlgError:\n            k = 0.0 # Handle singular matrix case\n\n        return k\n\n    def calculate_mtc(params):\n        \"\"\"\n        Computes the MTC for a single parameter set.\n        \"\"\"\n        a, M, C, delta_T = params\n        \n        # Temperatures for finite difference\n        T_plus = T0 + delta_T\n        T_minus = T0 - delta_T\n        \n        # Calculate k at both temperatures\n        k_plus = get_k(T_plus, a, M, C)\n        k_minus = get_k(T_minus, a, M, C)\n\n        # Calculate corresponding reactivities\n        # Avoid division by zero if k is non-positive\n        rho_plus = (k_plus - 1.0) / k_plus if k_plus > 0 else -np.inf\n        rho_minus = (k_minus - 1.0) / k_minus if k_minus > 0 else -np.inf\n\n        # Calculate MTC using centered finite difference\n        alpha_M = (rho_plus - rho_minus) / (2.0 * delta_T)\n        \n        return alpha_M\n\n    # --- Test Suite ---\n    test_cases = [\n        # (a [cm], M, C, delta_T [K])\n        (300.0, 2.0, 0.2, 10.0),  # Case 1\n        (80.0, 2.0, 0.2, 10.0),   # Case 2\n        (300.0, 4.0, 0.1, 10.0),  # Case 3\n        (300.0, 0.5, 0.7, 10.0),  # Case 4\n        (500.0, 1.5, 0.3, 25.0)   # Case 5\n    ]\n\n    results = []\n    for case in test_cases:\n        mtc_result = calculate_mtc(case)\n        results.append(mtc_result)\n\n    # Format and print the final output string\n    print(f\"[{','.join(f'{r:.12g}' for r in results)}]\")\n\nsolve()\n```"
        }
    ]
}