{
    "hands_on_practices": [
        {
            "introduction": "膜时间常数是神经动力学的基石，它决定了神经元如何整合其输入信号。本实践将这一高级概念与亚阈值晶体管的物理原理直接联系起来。通过从第一性原理推导时间常数，你将具体理解CMOS神经元的生物物理特性是如何由其底层电路元件和偏置条件决定的 。",
            "id": "4061355",
            "problem": "在一个互补金属氧化物半导体（CMOS）亚阈值模拟实现中，一个神经形态神经元膜由一个值为 $C$ 的膜电容器和一个漏电元件组成。该漏电元件实现了一个与膜电位偏离漏电反转电位的差值近似成正比的线性电流。该漏电元件通过一个平衡的亚阈值金属氧化物半导体场效应晶体管（MOSFET）差分对实现，由一个值为 $I_{b}$ 的尾电流源偏置，其两个栅极分别由膜电位 $V_{m}$ 和固定的漏电反转电位 $E_{L}$ 驱动。假设器件匹配，沟道长度调制效应可忽略不计，且严格工作在弱反型区，使得每个晶体管的漏极电流遵循指数定律，其斜率因子为 $n$，热电压为 $U_{T}$。\n\n仅从以下几点出发：\n- 膜节点处的基尔霍夫电流定律（KCL），\n- MOSFET 的弱反型指数电流定律，以及\n- 定义 $U_{T} = k_{B} T / q$，其中 $k_{B}$ 是玻尔兹曼常数，$T$ 是绝对温度，$q$ 是元电荷，\n\n完成以下任务：\n\n1. 将膜动态在 $V_{m} = E_{L}$ 附近线性化，并推导出控制小信号膜电位偏差 $v(t) \\equiv V_{m}(t) - E_{L}$ 的一阶微分方程。用 $C$ 和在 $V_{m} = E_{L}$ 附近的小信号漏电导的符号来表示相关的时间常数，不要引用任何预先记忆的神经元公式。\n\n2. 对于实现漏电的亚阈值差分对，从第一性原理出发，推导在零差分输入下的小信号跨导，并用 $I_{b}$、$n$ 和 $U_{T}$ 表示。论证为何此小信号跨导等于线性化膜方程中出现的小信号漏电导。\n\n3. 利用第 1 项和第 2 项的结果，确定在温度 $T = 300\\,\\mathrm{K}$、斜率因子 $n = 1.5$ 和偏置电流 $I_{b} = 200\\,\\mathrm{pA}$ 的条件下，实现目标小信号膜时间常数 $\\tau_{\\mathrm{target}} = 25\\,\\mathrm{ms}$ 所需的电容 $C$。将 $C$ 以皮法（picofarad）为单位表示，并将您的答案四舍五入到三位有效数字。在代入数值之前，请清晰地写出您使用的任何中间符号表达式。",
            "solution": "该问题被评估为有效，因为它科学地基于已建立的电路理论和器件物理学，问题表述清晰，并包含唯一解所需的所有信息。\n\n解答按照问题陈述的要求分为三个部分进行。\n\n### 第 1 部分：线性化膜动态与时间常数\n\n膜电位 $V_{m}$ 的动态由膜节点处的基尔霍夫电流定律（KCL）决定。流出节点的电容 $C$ 电流必须与流入节点的电流相平衡。假设没有外部输入电流，KCL 方程为：\n$$I_{C}(t) + I_{\\text{leak}}(t) = 0$$\n其中 $I_{C}(t)$ 是电容电流，$I_{\\text{leak}}(t)$ 是漏电元件吸取的电流。电容电流由 $I_{C} = C \\frac{dV_{m}}{dt}$ 给出。因此，膜方程为：\n$$C \\frac{dV_{m}}{dt} + I_{\\text{leak}}(V_{m}) = 0$$\n\n漏电元件是一个亚阈值差分对，输入电压为 $V_{m}$ 和 $E_{L}$，尾偏置电流为 $I_{b}$。设两个晶体管为 $M_1$ 和 $M_2$，其栅极电压分别为 $V_{G1}=V_{m}$ 和 $V_{G2}=E_{L}$。它们的源极连接到一个公共节点，电压为 $V_S$。在弱反型区，MOSFET 的漏极电流 $I_D$ 与其栅源电压 $V_{GS}$ 呈指数关系。一个标准模型是 $I_{D} \\propto \\exp\\left(\\frac{V_{GS}}{n U_T}\\right)$。对于这两个晶体管，我们有：\n$$I_1 = I_S \\exp\\left(\\frac{V_{m} - V_S}{n U_T}\\right)$$\n$$I_2 = I_S \\exp\\left(\\frac{E_{L} - V_S}{n U_T}\\right)$$\n其中 $I_S$ 是一个与工艺相关的指前电流，$V_S$ 是公共源极电压。公共源极节点的 KCL 决定了 $I_1 + I_2 = I_{b}$。\n\n从这两个电流的比值中，我们可以消去 $V_S$：\n$$\\frac{I_1}{I_2} = \\frac{\\exp\\left(\\frac{V_{m} - V_S}{n U_T}\\right)}{\\exp\\left(\\frac{E_{L} - V_S}{n U_T}\\right)} = \\exp\\left(\\frac{V_{m} - E_{L}}{n U_T}\\right)$$\n将此与 $I_1 + I_2 = I_b$ 结合，我们求解 $I_1$ 和 $I_2$。得到的表达式是：\n$$I_1 = I_b \\frac{1}{1 + \\exp\\left(-\\frac{V_{m} - E_{L}}{n U_T}\\right)}$$\n$$I_2 = I_b \\frac{1}{1 + \\exp\\left(\\frac{V_{m} - E_{L}}{n U_T}\\right)}$$\n\n问题陈述指出，漏电元件提供一个与偏差 $V_m - E_L$ 近似成正比的电流。这意味着当 $V_m = E_L$ 时，漏电流 $I_{\\text{leak}}$ 应为零。差分对的差分输出电流 $I_1 - I_2$ 满足此条件。这种漏电元件的标准实现，通常称为跨导放大器，就使用这种差分电流。我们定义 $I_{\\text{leak}} \\equiv I_1 - I_2$：\n$$I_{\\text{leak}}(V_m) = I_b \\tanh\\left(\\frac{V_m - E_L}{2nU_T}\\right)$$\n因此，膜动态由以下非线性微分方程描述：\n$$C \\frac{dV_{m}}{dt} + I_b \\tanh\\left(\\frac{V_m - E_L}{2nU_T}\\right) = 0$$\n\n为了线性化动态，我们考虑在平衡点 $V_m = E_L$ 附近的小偏差 $v(t) = V_{m}(t) - E_{L}$。对于小参数 $x$，$\\tanh(x) \\approx x$。因此，对于小的 $v(t)$：\n$$\\tanh\\left(\\frac{v(t)}{2nU_T}\\right) \\approx \\frac{v(t)}{2nU_T}$$\n将此近似和 $V_m = v + E_L$（因此 $\\frac{dV_m}{dt} = \\frac{dv}{dt}$）代入动态方程，得到线性化的一阶微分方程：\n$$C \\frac{dv}{dt} + \\frac{I_b}{2nU_T} v = 0$$\n此方程的形式为 $C \\frac{dv}{dt} + g_L v = 0$，其中 $g_L$ 是在 $V_m=E_L$ 附近的小信号漏电导。通过比较，我们确定漏电导为：\n$$g_L = \\frac{I_b}{2nU_T}$$\n一阶线性微分方程的标准形式是 $\\tau \\frac{dy}{dt} + y = 0$。重写我们的方程得到：\n$$\\frac{C}{g_L} \\frac{dv}{dt} + v = 0$$\n因此，时间常数 $\\tau$ 由下式给出：\n$$\\tau = \\frac{C}{g_L}$$\n\n### 第 2 部分：小信号跨导与漏电导的关系\n\n差分对在零差分输入下的小信号跨导 $g_m$ 定义为差分输出电流 $I_{od} = I_1 - I_2$ 对差分输入电压 $V_{id} = V_m - E_L$ 的导数，在 $V_{id}=0$ 处求值。\n$$g_m = \\left. \\frac{dI_{od}}{dV_{id}} \\right|_{V_{id}=0}$$\n使用第 1 部分得到的差分输出电流表达式：\n$$I_{od}(V_{id}) = I_b \\tanh\\left(\\frac{V_{id}}{2nU_T}\\right)$$\n我们计算导数：\n$$\\frac{dI_{od}}{dV_{id}} = \\frac{d}{dV_{id}} \\left[ I_b \\tanh\\left(\\frac{V_{id}}{2nU_T}\\right) \\right] = I_b \\cdot \\text{sech}^2\\left(\\frac{V_{id}}{2nU_T}\\right) \\cdot \\frac{1}{2nU_T}$$\n在 $V_{id} = 0$ 处求值：\n$$g_m = I_b \\cdot \\text{sech}^2(0) \\cdot \\frac{1}{2nU_T} = I_b \\cdot (1) \\cdot \\frac{1}{2nU_T} = \\frac{I_b}{2nU_T}$$\n这就是用 $I_b$、$n$ 和 $U_T$ 表示的零差分输入下的小信号跨导表达式。\n\n根据定义，小信号漏电导 $g_L$ 是漏电流特性 $I_{\\text{leak}}(V_m)$ 在工作点 $V_m = E_L$ 处的斜率。\n$$g_L = \\left. \\frac{dI_{\\text{leak}}}{dV_m} \\right|_{V_m=E_L}$$\n在我们的电路中，漏电流 $I_{\\text{leak}}$ 是通过放大器的差分输出电流 $I_{od}$ 实现的，而偏差 $V_m - E_L$ 是差分输入电压 $V_{id}$。由于 $E_L$ 是常数，所以 $dV_m = dV_{id}$。工作点 $V_m = E_L$ 对应于 $V_{id}=0$。因此，$g_L$ 的定义在形式上与 $g_m$ 的定义相同：\n$$g_L = \\left. \\frac{dI_{\\text{leak}}}{dV_m} \\right|_{V_m=E_L} = \\left. \\frac{dI_{od}}{dV_{id}} \\right|_{V_{id}=0} = g_m$$\n因此，膜电路的小信号漏电导等于实现它的差分对的小信号跨导。\n\n### 第 3 部分：电容 $C$ 的计算\n\n根据第 1 部分和第 2 部分，膜时间常数为 $\\tau = C/g_L = C/g_m$。使用 $g_m$ 的表达式：\n$$\\tau = \\frac{C}{I_b / (2nU_T)} = \\frac{2nU_T C}{I_b}$$\n我们需要求出实现目标时间常数 $\\tau_{\\text{target}}$ 所需的电容 $C$。将公式重新整理得到 $C$：\n$$C = \\frac{\\tau_{\\text{target}} I_b}{2nU_T}$$\n热电压 $U_T$ 定义为 $U_T = k_B T / q$。代入此定义，得到 $C$ 的完整符号表达式：\n$$C = \\frac{\\tau_{\\text{target}} I_b q}{2n k_B T}$$\n现在，我们代入给定的数值：\n$\\tau_{\\text{target}} = 25 \\times 10^{-3}\\,\\mathrm{s}$\n$I_b = 200 \\times 10^{-12}\\,\\mathrm{A}$\n$n = 1.5$\n$T = 300\\,\\mathrm{K}$\n$k_B \\approx 1.380649 \\times 10^{-23}\\,\\mathrm{J/K}$\n$q \\approx 1.602177 \\times 10^{-19}\\,\\mathrm{C}$\n\n首先，我们计算热电压 $U_T$：\n$$U_T = \\frac{k_B T}{q} \\approx \\frac{(1.380649 \\times 10^{-23}\\,\\mathrm{J/K}) \\cdot (300\\,\\mathrm{K})}{1.602177 \\times 10^{-19}\\,\\mathrm{C}} \\approx 0.025852\\,\\mathrm{V}$$\n现在，我们计算 $C$：\n$$C = \\frac{(25 \\times 10^{-3}) \\cdot (200 \\times 10^{-12})}{2 \\cdot (1.5) \\cdot (0.025852)} = \\frac{5 \\times 10^{-12}}{3 \\cdot 0.025852} \\approx \\frac{5 \\times 10^{-12}}{0.077556}\\,\\mathrm{F}$$\n$$C \\approx 6.4471 \\times 10^{-11}\\,\\mathrm{F}$$\n问题要求答案以皮法（$1\\,\\mathrm{pF} = 10^{-12}\\,\\mathrm{F}$）为单位。\n$$C \\approx 64.471\\,\\mathrm{pF}$$\n四舍五入到三位有效数字，我们得到：\n$$C \\approx 64.5\\,\\mathrm{pF}$$\n这就是所需的电容值。",
            "answer": "$$\\boxed{6.45 \\times 10^{1}}$$"
        },
        {
            "introduction": "除了被动整合，神经元还能执行复杂的计算，其中树突乘法就是一个关键例子。本练习要求你利用亚阈值差分对的独特性质，构建一个电流模式乘法器。通过这个实践 ，你将看到精妙的计算功能如何从模拟电路的基础物理中涌现，为更复杂的神经处理奠定基础。",
            "id": "4061352",
            "problem": "需要在互补金属氧化物半导体（CMOS）中通过亚阈值操作实现一种成对乘法树突相互作用。考虑以下理想化的电流模式架构，该架构由工作在弱反型（亚阈值）区的匹配长尾差分对组成，其沟道长度调制效应可忽略不计，且所有器件具有相同的亚阈值斜率因子。热电压定义为 $U_T = \\frac{k_B T}{q}$，亚阈值斜率因子为 $n  1$。每个晶体管具有相同的依赖于工艺的前置因子 $I_0$，因此当一个栅极电压为 $V_G$、源极电压为 $V_S$ 的晶体管在亚阈值饱和区工作时，其漏极电流可由以下模型描述：\n$$\nI_D = I_0 \\exp\\!\\left(\\frac{V_G - V_S}{n U_T}\\right).\n$$\n第一个差分对 $(P_1)$ 在其公共源极节点接收总尾电流 $I_B$，并将其分流到两个支路，这两个支路的栅极电压分别为 $V_{X+} = V_{X,\\mathrm{CM}} + \\frac{V_x}{2}$ 和 $V_{X-} = V_{X,\\mathrm{CM}} - \\frac{V_x}{2}$。将产生的支路电流记为 $I_a$ 和 $I_b$，满足 $I_a + I_b = I_B$。另外两个相同的差分对 $(P_{2a})$ 和 $(P_{2b})$ 由第二个输入驱动，其栅极电压分别为 $V_{Y+} = V_{Y,\\mathrm{CM}} + \\frac{V_y}{2}$ 和 $V_{Y-} = V_{Y,\\mathrm{CM}} - \\frac{V_y}{2}$，它们的尾电流分别等于 $I_a$ 和 $I_b$。定义一个尾电流为 $I_T$ 的差分对的代数差分输出为其两个漏极支路电流之差。总输出电流 $I_{\\mathrm{out}}$ 是由 $(P_{2a})$ 和 $(P_{2b})$ 的代数差分输出以相反极性相加形成的，具体为\n$$\nI_{\\mathrm{out}} = \\Delta I_{2a} - \\Delta I_{2b},\n$$\n其中 $\\Delta I_{2a}$ 和 $\\Delta I_{2b}$ 分别是 $(P_{2a})$ 和 $(P_{2b})$ 的代数差分输出。\n\n从给定的弱反型电流定律和约束条件 $I_a + I_b = I_B$ 出发，并假设所有晶体管都完美匹配且在相同的 $n$ 和 $U_T$ 下工作，推导 $I_{\\mathrm{out}}$ 作为 $I_B$, $V_x$, $V_y$, $n$, 和 $U_T$ 的函数的精确闭式解析表达式。请将您的最终答案表示为单个闭式解析表达式。无需进行数值计算。",
            "solution": "问题陈述已经过验证，被认为是科学上合理、问题定义明确且自洽的。输出电流 $I_{\\mathrm{out}}$ 的推导过程如下。\n\n分析从第一个差分对 $(P_1)$ 开始。该差分对由尾电流 $I_B$ 偏置，并接收差分输入电压 $V_x$。设该对的公共源极电压为 $V_{S1}$。该差分对的两个晶体管承载的漏极电流为 $I_a$ 和 $I_b$。根据所提供的亚阈值电流模型，这些电流由以下公式给出：\n$$\nI_a = I_0 \\exp\\left(\\frac{V_{G,a} - V_{S1}}{n U_T}\\right) = I_0 \\exp\\left(\\frac{V_{X,\\mathrm{CM}} + \\frac{V_x}{2} - V_{S1}}{n U_T}\\right)\n$$\n$$\nI_b = I_0 \\exp\\left(\\frac{V_{G,b} - V_{S1}}{n U_T}\\right) = I_0 \\exp\\left(\\frac{V_{X,\\mathrm{CM}} - \\frac{V_x}{2} - V_{S1}}{n U_T}\\right)\n$$\n其中 $V_{G,a} = V_{X+}$ 且 $V_{G,b} = V_{X-}$。通过计算两个电流的比值，可以消去公共项 $I_0$、$V_{X,\\mathrm{CM}}$ 和 $V_{S1}$：\n$$\n\\frac{I_a}{I_b} = \\frac{I_0 \\exp\\left(\\frac{V_{X,\\mathrm{CM}} + V_x/2 - V_{S1}}{n U_T}\\right)}{I_0 \\exp\\left(\\frac{V_{X,\\mathrm{CM}} - V_x/2 - V_{S1}}{n U_T}\\right)} = \\exp\\left(\\frac{(V_{X,\\mathrm{CM}} + V_x/2 - V_{S1}) - (V_{X,\\mathrm{CM}} - V_x/2 - V_{S1})}{n U_T}\\right) = \\exp\\left(\\frac{V_x}{n U_T}\\right)\n$$\n我们有两个关于 $I_a$ 和 $I_b$ 的方程：上面推导出的比值关系，以及在公共源极节点处的基尔霍夫电流定律（KCL）约束，$I_a + I_b = I_B$。从该比值关系，我们可以写出 $I_a = I_b \\exp\\left(\\frac{V_x}{n U_T}\\right)$。将其代入KCL方程得到：\n$$\nI_b \\exp\\left(\\frac{V_x}{n U_T}\\right) + I_b = I_B \\implies I_b \\left(1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)\\right) = I_B\n$$\n求解 $I_b$：\n$$\nI_b = \\frac{I_B}{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)}\n$$\n对于 $I_a$：\n$$\nI_a = I_B - I_b = I_B - \\frac{I_B}{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)} = I_B \\frac{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right) - 1}{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)} = \\frac{I_B \\exp\\left(\\frac{V_x}{n U_T}\\right)}{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)}\n$$\n这些电流 $I_a$ 和 $I_b$ 作为第二级差分对 $(P_{2a})$ 和 $(P_{2b})$ 的尾电流。\n\n接下来，我们分析第二级差分对。差分对 $(P_{2a})$ 的尾电流为 $I_a$，并由差分输入电压 $V_y$ 驱动。其代数差分输出为 $\\Delta I_{2a}$。通过与标准差分对的推导直接类比，其输出可以表示为：\n$$\n\\Delta I_{2a} = I_a \\tanh\\left(\\frac{V_y}{2n U_T}\\right)\n$$\n这个结果是通过遵循与第一个差分对相同的步骤得到的，只是尾电流为 $I_a$ 且输入电压为 $V_y$。一个尾电流为 $I_T$、输入电压为 $V_{in}$ 的差分对的差分输出 $\\Delta I$ 通常为 $I_T \\tanh\\left(\\frac{V_{in}}{2n U_T}\\right)$。\n\n类似地，对于尾电流为 $I_b$ 且同样由 $V_y$ 驱动的差分对 $(P_{2b})$，其代数差分输出 $\\Delta I_{2b}$ 为：\n$$\n\\Delta I_{2b} = I_b \\tanh\\left(\\frac{V_y}{2n U_T}\\right)\n$$\n问题将总输出电流 $I_{\\mathrm{out}}$ 定义为这两个差分输出之差：\n$$\nI_{\\mathrm{out}} = \\Delta I_{2a} - \\Delta I_{2b}\n$$\n代入 $\\Delta I_{2a}$ 和 $\\Delta I_{2b}$ 的表达式：\n$$\nI_{\\mathrm{out}} = I_a \\tanh\\left(\\frac{V_y}{2n U_T}\\right) - I_b \\tanh\\left(\\frac{V_y}{2n U_T}\\right) = (I_a - I_b) \\tanh\\left(\\frac{V_y}{2n U_T}\\right)\n$$\n为了完成推导，我们需要 $I_a - I_b$ 的差值表达式。使用先前推导出的 $I_a$ 和 $I_b$ 的表达式：\n$$\nI_a - I_b = \\frac{I_B \\exp\\left(\\frac{V_x}{n U_T}\\right)}{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)} - \\frac{I_B}{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)} = I_B \\frac{\\exp\\left(\\frac{V_x}{n U_T}\\right) - 1}{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)}\n$$\n该表达式可以通过分子和分母同乘以 $\\exp\\left(-\\frac{V_x}{2n U_T}\\right)$ 来简化：\n$$\nI_a - I_b = I_B \\frac{\\exp\\left(\\frac{V_x}{2n U_T}\\right) - \\exp\\left(-\\frac{V_x}{2n U_T}\\right)}{\\exp\\left(-\\frac{V_x}{2n U_T}\\right) + \\exp\\left(\\frac{V_x}{2n U_T}\\right)} = I_B \\frac{2 \\sinh\\left(\\frac{V_x}{2n U_T}\\right)}{2 \\cosh\\left(\\frac{V_x}{2n U_T}\\right)} = I_B \\tanh\\left(\\frac{V_x}{2n U_T}\\right)\n$$\n最后，将此结果代回 $I_{\\mathrm{out}}$ 的表达式中：\n$$\nI_{\\mathrm{out}} = \\left( I_B \\tanh\\left(\\frac{V_x}{2n U_T}\\right) \\right) \\tanh\\left(\\frac{V_y}{2n U_T}\\right)\n$$\n这就是输出电流的最终闭式表达式。它展示了由电压 $V_x$ 和 $V_y$ 表示的两个输入信号之间的乘法相互作用，该作用由偏置电流 $I_B$ 进行缩放。乘法的S型特性由双曲正切函数捕获，这是在亚阈值区工作的差分对的典型特征。",
            "answer": "$$\n\\boxed{I_B \\tanh\\left(\\frac{V_x}{2 n U_T}\\right) \\tanh\\left(\\frac{V_y}{2 n U_T}\\right)}\n$$"
        },
        {
            "introduction": "设计在不同条件下都能可靠工作的稳健电路是专业工程设计的标志。这项高级实践旨在解决敏感的亚阈值电路在现实世界中面临的关键挑战：温度漂移 。你将设计一种补偿机制来稳定神经元的漏电流，从而掌握为构建实用的神经形态系统而分析和减缓环境影响的关键技能。",
            "id": "4061339",
            "problem": "一个工作在弱反型（亚阈值）区的金属-氧化物-半导体场效应晶体管（MOSFET）被用作神经形态神经元中的漏电元件。偏置发生器施加一个包含与绝对温度成正比（PTAT）分量的栅极电压，旨在消除由阈值电压引起的温度漂移。假设亚阈值漏极电流由扩散主导的玻尔兹曼关系决定\n$$\nI_{d}(T)=I_{0}(T)\\,\\exp\\!\\left(\\frac{V_{gs}(T)-V_{th}(T)}{n\\,U_{T}(T)}\\right),\n$$\n其中 $U_{T}(T)=\\frac{k_{B}T}{q}$ 是热电压，$k_{B}$ 是玻尔兹曼常数，$q$ 是元电荷，$n$ 是亚阈值斜率因子（假设 $n$ 与温度无关），$V_{th}(T)$ 是阈值电压，$V_{gs}(T)$ 是施加的栅源电压，$I_{0}(T)$ 是反映工艺和输运参数的指前因子。\n\n在参考温度 $T_{0}=300\\,\\mathrm{K}$ 下，给定以下器件和偏置条件：\n- 阈值电压表现出线性温度依赖性 $V_{th}(T)=V_{th0}+\\alpha\\,(T-T_{0})$，其已知斜率 $\\alpha=-1.7\\times 10^{-3}\\,\\mathrm{V/K}$。\n- 栅极偏置生成为 $V_{gs}(T)=V_{gs0}+S\\,(T-T_{0})$，其中 $S$ 是待设计的未知 PTAT 斜率。\n- 在 $T_{0}$ 时，工作点满足 $V_{gs0}-V_{th0}=-0.100\\,\\mathrm{V}$（晶体管处于亚阈值状态）。\n- 忽略沟道长度调制、体效应和失配。将 $n$ 视为不随温度变化的常数。\n\n从亚阈值电流定律和热电压的定义出发，确定 PTAT 斜率 S 的值，以消除 $I_{d}$ 在 $T_{0}$ 处的一阶温度漂移（即使得 $\\frac{d}{dT}\\ln I_{d}(T)\\big|_{T=T_{0}}=0$）。将您的答案四舍五入到五位有效数字，并以 $\\mathrm{mV/K}$ 为单位表示。\n\n然后，作为一个验证步骤，在指前因子满足 $I_{0}(T)\\propto\\mu(T)\\,U_{T}(T)^{2}$ 这个额外且广泛使用的假设下（其中载流子迁移率服从 $\\mu(T)\\propto T^{-m}$ 关系，已知指数 m=1.5），量化在温度范围 $T\\in[253.15\\,\\mathrm{K},353.15\\,\\mathrm{K}]$（对应于 $-20\\,^\\circ\\mathrm{C}$ 到 $80\\,^\\circ\\mathrm{C}$）内的残余分数漂移。明确计算在该模型下两个端点处的 $I_{d}(T)/I_{d}(T_{0})$，以验证补偿质量。最终答案只需要 PTAT 斜率 $S$。",
            "solution": "### 解题思路\n目标是找到一个PTAT（与绝对温度成正比）斜率 $S$，使得在参考温度 $T_0$ 处，亚阈值漏极电流 $I_d$ 的一阶温度灵敏度为零。数学上，这表示为：\n$$ \\frac{d}{dT} \\ln(I_d(T)) \\bigg|_{T=T_0} = 0 $$\n给定的亚阈值电流方程为：\n$$ I_{d}(T)=I_{0}(T)\\,\\exp\\!\\left(\\frac{V_{gs}(T)-V_{th}(T)}{n\\,U_{T}(T)}\\right) $$\n取其自然对数：\n$$ \\ln(I_d(T)) = \\ln(I_0(T)) + \\frac{V_{gs}(T)-V_{th}(T)}{n\\,U_{T}(T)} $$\n问题陈述的结构暗示了一个两步过程：首先，在不考虑 $I_0(T)$ 的具体形式的情况下求解 $S$；然后，在一个额外的假设下验证补偿效果。这种结构表明，主要任务应该在一个简化假设下完成，即 $I_0$ 的温度依赖性可以被忽略，或者说，补偿旨在首先消除指数项中的主要漂移源。如果我们假设补偿主要针对指数项，即暂时忽略 $I_0(T)$ 的漂移（$\\frac{d}{dT} \\ln(I_0(T)) = 0$），那么我们的条件简化为：\n$$ \\frac{d}{dT} \\left( \\frac{V_{gs}(T)-V_{th}(T)}{n\\,U_{T}(T)} \\right) \\bigg|_{T=T_0} = 0 $$\n我们将基于这个条件进行推导，这个解释是合理的，因为如果需要考虑 $I_0(T)$ 的漂移，将需要问题中未提供的参数 $n$。\n\n### 第一步：建立温度依赖性表达式\n我们首先将所有与温度相关的项表示为 $T$ 的函数。\n- 热电压：$U_T(T) = \\frac{k_B T}{q}$\n- 栅源电压：$V_{gs}(T) = V_{gs0} + S(T-T_0)$\n- 阈值电压：$V_{th}(T) = V_{th0} + \\alpha(T-T_0)$\n将这些代入我们要微分的表达式中：\n$$ f(T) = \\frac{V_{gs}(T)-V_{th}(T)}{n U_T(T)} = \\frac{q}{n k_B T} \\left[ (V_{gs0} - V_{th0}) + (S-\\alpha)(T-T_0) \\right] $$\n\n### 第二步：求导并求解 $S$\n我们对 $f(T)$ 关于 $T$ 求导。使用乘积法则 $(uv)' = u'v + uv'$，其中 $u = 1/T$，$v = q/(n k_B) \\cdot [...]$。\n$$ \\frac{df}{dT} = \\frac{q}{n k_B} \\left[ -\\frac{1}{T^2} \\left( (V_{gs0} - V_{th0}) + (S-\\alpha)(T-T_0) \\right) + \\frac{1}{T} (S-\\alpha) \\right] $$\n现在，我们在 $T = T_0$ 处计算该导数的值，并将其设为零。在 $T = T_0$ 时，$T-T_0 = 0$，因此表达式简化为：\n$$ \\frac{df}{dT} \\bigg|_{T=T_0} = \\frac{q}{n k_B} \\left[ -\\frac{1}{T_0^2} (V_{gs0} - V_{th0}) + \\frac{1}{T_0} (S-\\alpha) \\right] = 0 $$\n为了使等式成立，方括号内的项必须为零：\n$$ -\\frac{1}{T_0^2} (V_{gs0} - V_{th0}) + \\frac{1}{T_0} (S-\\alpha) = 0 $$\n两边同乘以 $T_0^2$：\n$$ -(V_{gs0} - V_{th0}) + T_0 (S-\\alpha) = 0 $$\n整理得到 $S$ 的表达式：\n$$ S = \\alpha + \\frac{V_{gs0} - V_{th0}}{T_0} $$\n这是一个非常简洁的结果，它表明为了补偿阈值电压的漂移，`V_gs` 的PTAT斜率 `S` 需要等于 `V_th` 的温度系数 `α`，并加上一个与工作点相关的修正项。\n\n### 第三步：代入数值计算\n现在我们代入问题中给定的数值：\n- $\\alpha = -1.7 \\times 10^{-3}\\,\\mathrm{V/K}$\n- $V_{gs0} - V_{th0} = -0.100\\,\\mathrm{V}$\n- $T_0 = 300\\,\\mathrm{K}$\n$$ S = -1.7 \\times 10^{-3} + \\frac{-0.100}{300} $$\n$$ S = -0.0017 - 0.00033333... $$\n$$ S = -0.00203333...\\,\\mathrm{V/K} $$\n问题要求答案以 `mV/K` 为单位，并四舍五入到五位有效数字。\n$$ S \\approx -2.0333\\,\\mathrm{mV/K} $$\n\n### 验证步骤分析\n问题要求在 $I_{0}(T)\\propto T^{2-m}$（其中 $m=1.5$）的额外假设下验证补偿质量。使用我们计算出的 $S$ 值，我们有 $S-\\alpha = (V_{gs0}-V_{th0})/T_0$。电流比可以写为：\n$$ \\frac{I_d(T)}{I_d(T_0)} = \\left(\\frac{T}{T_0}\\right)^{2-m} \\exp\\left[ \\frac{q}{n k_B}\\left(\\frac{V_{gs}(T)-V_{th}(T)}{T} - \\frac{V_{gs0}-V_{th0}}{T_0}\\right) \\right] $$\n指数中的项可以被简化。注意到 $V_{gs}(T)-V_{th}(T) = (V_{gs0}-V_{th0})+(S-\\alpha)(T-T_0) = (V_{gs0}-V_{th0}) \\left(1 + \\frac{T-T_0}{T_0}\\right) = (V_{gs0}-V_{th0}) \\frac{T}{T_0}$。因此，指数项为：\n$$ \\frac{q}{n k_B}\\left(\\frac{(V_{gs0}-V_{th0}) \\frac{T}{T_0}}{T} - \\frac{V_{gs0}-V_{th0}}{T_0}\\right) = \\frac{q}{n k_B}\\left(\\frac{V_{gs0}-V_{th0}}{T_0} - \\frac{V_{gs0}-V_{th0}}{T_0}\\right) = 0 $$\n所以，$\\exp(0)=1$，我们得到：\n$$ \\frac{I_d(T)}{I_d(T_0)} = \\left(\\frac{T}{T_0}\\right)^{2-m} = \\left(\\frac{T}{T_0}\\right)^{0.5} $$\n这表明我们的 $S$ 值完美地补偿了指数项的温度漂移，但留下了由 $I_0(T)$ 引起的残余漂移。这证实了我们对问题结构的最初解释是正确的。",
            "answer": "$$\n\\boxed{-2.0333}\n$$"
        }
    ]
}