{
    "hands_on_practices": [
        {
            "introduction": "无源交叉阵列的一个基本挑战是“潜行路径”问题，即电流会通过未选中的单元泄露，从而干扰目标单元的读取并增加功耗。本练习将指导您使用基本的电路定律，为一种标准的读出方案量化这一效应。通过这个实践，您将深刻理解为何在大型阵列中必须使用选通器件或更复杂的偏置方案。",
            "id": "112899",
            "problem": "忆阻器交叉阵列是一种用于高密度、非易失性存储器和神经形态计算系统的很有前途的架构。它由一个垂直导线网格组成，每个交叉点处都有一个两端忆阻器件。在本问题中，我们考虑一个 $N \\times N$ 的忆阻器交叉阵列。忆阻器可以在低阻态 (LRS) 和高阻态 (HRS) 之间切换，其电阻分别表示为 $R_{ON}$ 和 $R_{OFF}$。\n\n假设第一条字线 ($WL_1$) 和第一条位线 ($BL_1$) 交叉点的忆阻器处于导通状态 ($R_{ON}$)。阵列中所有其他 $N^2 - 1$ 个忆阻器都处于关断状态 ($R_{OFF}$)。\n\n为了读取目标单元 (1,1) 的状态，采用以下电压偏置方案：\n1.  选定的字线 $WL_1$ 施加读取电压 $V_{read}$。\n2.  选定的位线 $BL_1$ 接地 (0 V)。\n3.  所有未选定的字线 ($WL_i$，$i \\in \\{2, ..., N\\}$) 施加 $V_{read}/2$ 的偏压。\n4.  所有未选定的位线 ($BL_j$，$j \\in \\{2, ..., N\\}$) 施加 $V_{read}/2$ 的偏压。\n\n此类阵列的一个主要挑战是“潜通路”的存在，即电流会流经未选定的关断状态单元，这可能导致读取错误并增加功耗。\n\n推导连接到选定字线 $WL_1$ 的电压源所提供的总电流 $I_{total}$ 的闭式表达式。该电流是流经目标单元的电流与所有源自 $WL_1$ 的潜通路电流的总和。你的答案应以 $V_{read}$、$R_{ON}$、$R_{OFF}$ 和 $N$ 表示。",
            "solution": "1. 流经选定单元 (1,1) 的电流为\n$$\nI_{sel}=\\frac{V_{read}-0}{R_{ON}}=\\frac{V_{read}}{R_{ON}}.\n$$\n2. 每条未选定的位线 $BL_j$ ($j=2,\\dots,N$) 的电压保持在 $V_{read}/2$，因此从 $WL_1$ 经由 $(1,j)$ 处关断状态忆阻器的潜通路电流为\n$$\nI_{s,j}=\\frac{V_{read}-\\tfrac{V_{read}}{2}}{R_{OFF}}\n=\\frac{V_{read}/2}{R_{OFF}}.\n$$\n3. 共有 $N-1$ 条这样的未选定位线，产生的总潜通路电流为\n$$\nI_{s}=(N-1)\\frac{V_{read}/2}{R_{OFF}}\n=\\frac{(N-1)V_{read}}{2\\,R_{OFF}}.\n$$\n4. 求和得，\n$$\nI_{total}=I_{sel}+I_{s}\n=\\frac{V_{read}}{R_{ON}}+\\frac{(N-1)V_{read}}{2\\,R_{OFF}}\n=V_{read}\\Bigl(\\frac{1}{R_{ON}}+\\frac{N-1}{2\\,R_{OFF}}\\Bigr).\n$$",
            "answer": "$$\\boxed{V_{read}\\Bigl(\\frac{1}{R_{ON}}+\\frac{N-1}{2\\,R_{OFF}}\\Bigr)}$$"
        },
        {
            "introduction": "在解决了结构层面的问题后，我们转向器件物理本身。真实的忆阻器件并非完美线性，并且会受到基本的热噪声影响。本练习探讨了器件非线性（在高电压下恶化）与信噪比（在低电压下降级）之间的关键权衡。通过推导最佳读取电压，您将学会如何驾驭这一权衡，以最大化模拟计算的精度。",
            "id": "4042191",
            "problem": "考虑一个执行模拟点积的电阻交叉阵列，其中一列在读取电压 $V$ 下积分来自活动行的电流。将该列建模为一个有效电导 $G$，它表示在选定工作点上所有贡献器件电导的总和。器件在工作点附近的电流-电压特性表现出弱奇次非线性，可通过三次展开式 $I(V) \\approx G V \\left(1 + \\beta V^{2}\\right)$ 建模，其中 $\\beta$ 是一个小的实数非线性系数，单位为 $\\mathrm{V}^{-2}$，且 $|\\beta| V^{2} \\ll 1$。理想的线性信号电流为 $I_{\\mathrm{sig}}(V) = G V$。非线性引起的失真电流是与线性的偏差，$\\Delta I_{\\mathrm{nl}}(V) = I(V) - G V$。\n\n假设列上的随机电流噪声主要由有效电导 $G$ 的 Johnson–Nyquist 热噪声决定，该噪声在测量带宽 $B$ 上积分，其单边均方电流噪声为 $i_{\\mathrm{th}}^{2} = 4 k_{B} T G B$，其中 $k_{B}$ 是 Boltzmann 常数，$T$ 是绝对温度。忽略放大器噪声和任何其他噪声源。将非线性引起的失真视为一个可加的、不相关的误差，其均方根大小等于 $|\\Delta I_{\\mathrm{nl}}(V)|$。将总误差定义为随机噪声和失真的均方根和。\n\n仅使用上述建模假设和经过充分检验的定律（包括 Johnson–Nyquist 噪声），完成以下任务：\n\n$1.$ 推导相对非线性误差 $\\varepsilon_{\\mathrm{nl}}(V) \\equiv |\\Delta I_{\\mathrm{nl}}(V)|/I_{\\mathrm{sig}}(V)$ 如何随 $V$ 变化，以及相对热噪声 $\\varepsilon_{\\mathrm{th}}(V) \\equiv i_{\\mathrm{th}}/I_{\\mathrm{sig}}(V)$ 如何随 $V$ 变化。解释为什么在较低的 $V$ 下工作会减少非线性误差但会增加相对噪声。\n\n$2.$ 将信噪失真比 (SNDR) 定义为 $\\mathrm{SNDR}(V) \\equiv I_{\\mathrm{sig}}(V)/\\sqrt{i_{\\mathrm{th}}^{2} + \\left(\\Delta I_{\\mathrm{nl}}(V)\\right)^{2}}$。推导使 $\\mathrm{SNDR}(V)$ 最大化的读取电压 $V_{\\mathrm{opt}}$，其为 $k_{B}$、$T$、$B$、$G$ 和 $\\beta$ 的闭式解函数。\n\n将最优读取电压的最终答案表示为单个闭式解析表达式，单位为伏特。无需进行数值计算，也无需四舍五入。",
            "solution": "我们从给定的具有弱三次非线性的小信号电流-电压特性开始，\n$$\nI(V) \\approx G V \\left(1 + \\beta V^{2}\\right),\n$$\n其中 $G$ 是列的有效电导，$\\beta$ 是三次非线性系数，且 $|\\beta| V^{2} \\ll 1$。理想的线性信号电流为\n$$\nI_{\\mathrm{sig}}(V) = G V,\n$$\n且非线性引起的失真电流为\n$$\n\\Delta I_{\\mathrm{nl}}(V) = I(V) - G V = G \\beta V^{3}.\n$$\n\n对于随机电流噪声，我们引用电导的 Johnson–Nyquist 热噪声，这是一个经过充分检验的原理，指出单边电流噪声谱密度为 $S_{i} = 4 k_{B} T G$，单位为 $\\mathrm{A}^{2}/\\mathrm{Hz}$。在测量带宽 $B$ 上积分，均方电流噪声为\n$$\ni_{\\mathrm{th}}^{2} = 4 k_{B} T G B,\n$$\n且均方根 (RMS) 热噪声为 $i_{\\mathrm{th}} = \\sqrt{4 k_{B} T G B}$。\n\n$1.$ 相对 $V$ 的标度关系：\n\n- 相对非线性误差为\n$$\n\\varepsilon_{\\mathrm{nl}}(V) \\equiv \\frac{|\\Delta I_{\\mathrm{nl}}(V)|}{I_{\\mathrm{sig}}(V)} = \\frac{|G \\beta V^{3}|}{G V} = |\\beta| V^{2}.\n$$\n因此，$\\varepsilon_{\\mathrm{nl}}(V)$ 与 $V^{2}$ 成正比，并随着 $V$ 的减小而二次方地减小。\n\n- 相对热噪声为\n$$\n\\varepsilon_{\\mathrm{th}}(V) \\equiv \\frac{i_{\\mathrm{th}}}{I_{\\mathrm{sig}}(V)} = \\frac{\\sqrt{4 k_{B} T G B}}{G V} = \\sqrt{\\frac{4 k_{B} T B}{G}} \\cdot \\frac{1}{V}.\n$$\n因此，$\\varepsilon_{\\mathrm{th}}(V)$ 与 $V^{-1}$ 成正比，并随着 $V$ 的减小而反比地增加。\n\n这些标度关系展示了一种权衡：减小 $V$ 会降低非线性误差（因为 $|\\beta| V^{2}$ 变小），但会增加热噪声的相对影响（因为 $1/V$ 变大）。\n\n$2.$ 最大化信噪失真比 (SNDR)：\n\n我们将总误差定义为不相关的随机噪声和失真的均方根和：\n$$\ni_{\\mathrm{tot}}(V) = \\sqrt{i_{\\mathrm{th}}^{2} + \\left(\\Delta I_{\\mathrm{nl}}(V)\\right)^{2}} = \\sqrt{4 k_{B} T G B + \\left(G \\beta V^{3}\\right)^{2}}.\n$$\n信噪失真比 (SNDR) 为\n$$\n\\mathrm{SNDR}(V) \\equiv \\frac{I_{\\mathrm{sig}}(V)}{i_{\\mathrm{tot}}(V)} = \\frac{G V}{\\sqrt{4 k_{B} T G B + G^{2} \\beta^{2} V^{6}}}.\n$$\n最大化 $\\mathrm{SNDR}(V)$ 等效于最大化其平方，以避免处理平方根：\n$$\nF(V) \\equiv \\mathrm{SNDR}(V)^{2} = \\frac{G^{2} V^{2}}{4 k_{B} T G B + G^{2} \\beta^{2} V^{6}}.\n$$\n令\n$$\na \\equiv 4 k_{B} T G B, \\quad c \\equiv G^{2} \\beta^{2},\n$$\n使得\n$$\nF(V) = \\frac{G^{2} V^{2}}{a + c V^{6}}.\n$$\n我们对 $V$ 求导，并将导数设为零以求内部极大值。使用商法则，令 $N(V) = G^{2} V^{2}$ 和 $D(V) = a + c V^{6}$，我们有\n$$\n\\frac{\\mathrm{d}F}{\\mathrm{d}V} = \\frac{N'(V) D(V) - N(V) D'(V)}{D(V)^{2}}.\n$$\n将分子设为零，\n$$\nN'(V) D(V) - N(V) D'(V) = 0.\n$$\n计算导数：\n$$\nN'(V) = 2 G^{2} V, \\quad D'(V) = 6 c V^{5}.\n$$\n因此，\n$$\n2 G^{2} V \\left(a + c V^{6}\\right) - G^{2} V^{2} \\left(6 c V^{5}\\right) = 0.\n$$\n两边同除以 $G^{2} V$ (对于读取操作中的 $V > 0$ 是有效的)：\n$$\n2 \\left(a + c V^{6}\\right) - 6 c V^{6} = 0 \\quad \\Longrightarrow \\quad 2 a - 4 c V^{6} = 0.\n$$\n解出 $V^{6}$ 得\n$$\nV^{6} = \\frac{a}{2 c} = \\frac{4 k_{B} T G B}{2 G^{2} \\beta^{2}} = \\frac{2 k_{B} T B}{G \\beta^{2}}.\n$$\n取正实数六次方根（对于正读取电压，这是物理上相关的分支），\n$$\nV_{\\mathrm{opt}} = \\left(\\frac{2 k_{B} T B}{G \\beta^{2}}\\right)^{1/6}.\n$$\n在所述模型下，这个 $V_{\\mathrm{opt}}$ 使得 $\\mathrm{SNDR}(V)$ 最大化。二阶导数检验确认此驻点为极大值，因为当 $V \\to 0^{+}$ 时，$F(V) \\to 0$，而当 $V \\to \\infty$ 时，$F(V) \\sim G^{2} V^{2}/(c V^{6}) \\to 0$，因此正的内部驻点必定是全局最大值。\n\n因此，为了最大化信噪失真比，平衡非线性引起的失真与热噪声的最优读取电压是\n$$\nV_{\\mathrm{opt}} = \\left(\\frac{2 k_{B} T B}{G \\beta^{2}}\\right)^{1/6}.\n$$",
            "answer": "$$\\boxed{\\left(\\frac{2 k_{B} T B}{G \\beta^{2}}\\right)^{1/6}}$$"
        },
        {
            "introduction": "在理解了电路和器件的限制之后，最后一步是将其应用于系统级的架构设计。本练习解决了“单个交叉阵列模块（tile）可以做多大”这一关键问题。您将建立一个综合模型，用以平衡由IR压降和噪声引起的性能下降以及外围电路的能量开销，从而确定在满足目标精度的前提下，使每次操作能耗最小化的最优模块尺寸。",
            "id": "4042179",
            "problem": "一个 $N \\times N$ 的电阻交叉阵列被用于在神经形态加速器中执行模拟乘积累加（MAC）运算。每个交叉点都是一个相同的电阻器件，其平均电导为 $g_{\\mathrm{avg}}$。金属字线和位线分别具有每段串联电阻 $r_{\\mathrm{wl}}$ 和 $r_{\\mathrm{bl}}$，字线上具有每段电容 $c_{\\mathrm{wl}}$。所有 $N$ 条字线同时由幅值为 $V$ 的相等输入电压驱动，以实现一次完整的 $N \\times N$ MAC运算。列在传感放大器输入端由负载电导 $g_{\\mathrm{L}}$ 端接。模数转换器（ADC）每次列转换的能量是恒定的，等于 $E_{\\mathrm{ADC}}$，每条被驱动的字线的行驱动器开销为 $E_{\\mathrm{drv}}$。环境温度为 $T$，读出带宽为 $B$。\n\n在您的推导中，请使用以下基本原理：\n- 欧姆定律和基尔霍夫定律，用于对信号电流和电压降进行建模。\n- Johnson–Nyquist热噪声，其电流噪声谱密度为 $S_{i} = 4 k_{B} T G$，其中 $k_{B}$ 是玻尔兹曼常数，$G$ 是等效电导，在带宽 $B$ 上积分。\n- 线路充电的电容能量，$E = \\frac{1}{2} C V^{2}$。\n\n假设以下符合物理现实的参数：\n- $g_{\\mathrm{avg}} = 1.0 \\times 10^{-5}\\,\\mathrm{S}$，\n- $r_{\\mathrm{wl}} = r_{\\mathrm{bl}} = 0.5\\,\\Omega$，\n- $c_{\\mathrm{wl}} = 1.0 \\times 10^{-14}\\,\\mathrm{F}$，\n- $V = 0.20\\,\\mathrm{V}$，\n- $g_{\\mathrm{L}} = 5.0 \\times 10^{-5}\\,\\mathrm{S}$，\n- $E_{\\mathrm{ADC}} = 1.0 \\times 10^{-12}\\,\\mathrm{J}$，\n- $E_{\\mathrm{drv}} = 2.0 \\times 10^{-13}\\,\\mathrm{J}$，\n- $T = 300\\,\\mathrm{K}$，\n- $B = 1.0 \\times 10^{7}\\,\\mathrm{Hz}$，\n- $k_{B} = 1.380649 \\times 10^{-23}\\,\\mathrm{J}\\,\\mathrm{K}^{-1}$。\n\n为考虑最差情况下的精度，将线路电压降（IR压降）导致的分数误差建模为字线和位线上的远端相对电压降低，并将其视为独立的贡献。在均匀激活（每条字线上的电压均为 $V$）和每个单元具有均匀电导 $g_{\\mathrm{avg}}$ 的条件下，将字线和位线的分数压降幅值分别近似为 $\\varepsilon_{\\mathrm{IR,wl}} \\approx r_{\\mathrm{wl}} g_{\\mathrm{avg}} N^{2}$ 和 $\\varepsilon_{\\mathrm{IR,bl}} \\approx r_{\\mathrm{bl}} g_{\\mathrm{avg}} N^{2}$。将它们以方和根的方式组合，得到总的IR压降分数误差 $\\varepsilon_{\\mathrm{IR}}$。\n\n将读出热噪声建模为等效的列电流噪声，其均方值为 $\\langle i_{n}^{2} \\rangle = 4 k_{B} T (N g_{\\mathrm{avg}} + g_{\\mathrm{L}}) B$，并将分数噪声误差定义为均方根噪声电流与信号电流幅值 $I_{\\mathrm{sig}} = V (N g_{\\mathrm{avg}})$ 之间的比率。将IR压降和噪声的贡献以方和根的方式组合，得到总均方根分数误差 $\\varepsilon_{\\mathrm{tot}}(N)$。\n\n将每次 $N \\times N$ MAC的总能量 $E_{\\mathrm{tot}}(N)$ 定义为字线充电能量、ADC能量和驱动器能量之和。每条字线的充电能量等于 $E_{\\mathrm{wl}} = \\frac{1}{2} (N c_{\\mathrm{wl}}) V^{2}$，且所有 $N$ 条字线同时驱动，因此 $E_{\\mathrm{wl,tot}} = \\frac{1}{2} c_{\\mathrm{wl}} V^{2} N^{2}$。ADC和驱动器的开销能量与 $N$ 呈线性关系：$E_{\\mathrm{ADC,tot}} = E_{\\mathrm{ADC}} N$ 和 $E_{\\mathrm{drv,tot}} = E_{\\mathrm{drv}} N$。因此，每次MAC的能量为 $e(N) = \\frac{E_{\\mathrm{tot}}(N)}{N^{2}}$。\n\n您的任务是计算最佳区块尺寸 $N^{\\star}$，该尺寸能在满足均方根分数误差 $\\varepsilon_{\\mathrm{tot}}(N) \\leq \\varepsilon_{\\mathrm{tgt}}$（其中 $\\varepsilon_{\\mathrm{tgt}} = 0.040$）的精度目标约束下，最小化 $e(N)$。请以整数形式提供最佳区块尺寸 $N^{\\star}$（行数等于列数），选择满足精度约束的最大的 $N$。将 $N^{\\star}$ 表示为无单位的纯数字。无需按有效数字进行四舍五入；请报告精确的整数值。",
            "solution": "目标是确定一个 $N \\times N$ 电阻交叉阵列的最佳区块尺寸，记为 $N^{\\star}$。该优化问题是在总均方根分数误差 $\\varepsilon_{\\mathrm{tot}}(N) \\leq \\varepsilon_{\\mathrm{tgt}}$（其中 $\\varepsilon_{\\mathrm{tgt}} = 0.040$）的约束下，最小化每次乘积累加（MAC）运算的能量 $e(N)$。最佳尺寸 $N^{\\star}$ 定义为满足此精度约束的最大整数 $N$。\n\n首先，我们建立总分数误差 $\\varepsilon_{\\mathrm{tot}}(N)$ 的数学表达式。该误差有两个组成部分：来自IR电压降的误差 $\\varepsilon_{\\mathrm{IR}}$ 和来自热噪声的误差 $\\varepsilon_{\\mathrm{noise}}$。它们以方和根的方式组合：$\\varepsilon_{\\mathrm{tot}}(N) = \\sqrt{\\varepsilon_{\\mathrm{IR}}^{2}(N) + \\varepsilon_{\\mathrm{noise}}^{2}(N)}$。\n\n由IR压降引起的分数误差本身是字线和位线贡献的方和根组合。问题给出了它们幅值的近似表达式：$\\varepsilon_{\\mathrm{IR,wl}} = r_{\\mathrm{wl}} g_{\\mathrm{avg}} N^{2}$ 和 $\\varepsilon_{\\mathrm{IR,bl}} = r_{\\mathrm{bl}} g_{\\mathrm{avg}} N^{2}$。鉴于 $r_{\\mathrm{wl}} = r_{\\mathrm{bl}}$，总IR压降误差为：\n$$\n\\varepsilon_{\\mathrm{IR}}(N) = \\sqrt{\\varepsilon_{\\mathrm{IR,wl}}^{2} + \\varepsilon_{\\mathrm{IR,bl}}^{2}} = \\sqrt{(r_{\\mathrm{wl}} g_{\\mathrm{avg}} N^{2})^{2} + (r_{\\mathrm{wl}} g_{\\mathrm{avg}} N^{2})^{2}} = \\sqrt{2} r_{\\mathrm{wl}} g_{\\mathrm{avg}} N^{2}\n$$\n\n分数噪声误差 $\\varepsilon_{\\mathrm{noise}}(N)$ 是均方根（RMS）噪声电流与信号电流的比值。均方噪声电流给出为 $\\langle i_{n}^{2} \\rangle = 4 k_{B} T (N g_{\\mathrm{avg}} + g_{\\mathrm{L}}) B$。因此，RMS噪声电流为 $i_{n,\\mathrm{rms}} = \\sqrt{4 k_{B} T (N g_{\\mathrm{avg}} + g_{\\mathrm{L}}) B}$。均匀激活时的信号电流为 $I_{\\mathrm{sig}} = V (N g_{\\mathrm{avg}})$。因此，分数噪声误差为：\n$$\n\\varepsilon_{\\mathrm{noise}}(N) = \\frac{i_{n,\\mathrm{rms}}}{I_{\\mathrm{sig}}} = \\frac{\\sqrt{4 k_{B} T (N g_{\\mathrm{avg}} + g_{\\mathrm{L}}) B}}{V N g_{\\mathrm{avg}}}\n$$\n\n总平方误差是各个误差平方的和：\n$$\n\\varepsilon_{\\mathrm{tot}}^{2}(N) = \\varepsilon_{\\mathrm{IR}}^{2}(N) + \\varepsilon_{\\mathrm{noise}}^{2}(N) = 2 (r_{\\mathrm{wl}} g_{\\mathrm{avg}})^{2} N^{4} + \\frac{4 k_{B} T B (N g_{\\mathrm{avg}} + g_{\\mathrm{L}})}{V^{2} N^{2} g_{\\mathrm{avg}}^{2}}\n$$\n\n约束条件为 $\\varepsilon_{\\mathrm{tot}}^{2}(N) \\leq \\varepsilon_{\\mathrm{tgt}}^{2}$。我们代入给定的参数值：$r_{\\mathrm{wl}} = 0.5\\,\\Omega$，$g_{\\mathrm{avg}} = 1.0 \\times 10^{-5}\\,\\mathrm{S}$，$V = 0.20\\,\\mathrm{V}$，$g_{\\mathrm{L}} = 5.0 \\times 10^{-5}\\,\\mathrm{S}$，$T = 300\\,\\mathrm{K}$，$B = 1.0 \\times 10^{7}\\,\\mathrm{Hz}$，$k_{B} = 1.380649 \\times 10^{-23}\\,\\mathrm{J}\\,\\mathrm{K}^{-1}$，以及 $\\varepsilon_{\\mathrm{tgt}} = 0.040$。\n\n让我们计算误差项的系数。\n对于IR压降项：\n$2 (r_{\\mathrm{wl}} g_{\\mathrm{avg}})^{2} = 2 ((0.5)(1.0 \\times 10^{-5}))^{2} = 2 (5.0 \\times 10^{-6})^{2} = 5.0 \\times 10^{-11}$\n所以，$\\varepsilon_{\\mathrm{IR}}^{2}(N) = (5.0 \\times 10^{-11}) N^{4}$。\n\n对于噪声项：\n$4 k_{B} T B = 4 (1.380649 \\times 10^{-23})(300)(1.0 \\times 10^{7}) = 1.6567788 \\times 10^{-12}$\n噪声项可以写成：\n$\\varepsilon_{\\mathrm{noise}}^{2}(N) = \\frac{1.6567788 \\times 10^{-12} (N(1.0 \\times 10^{-5}) + 5.0 \\times 10^{-5})}{(0.20)^{2} N^{2} (1.0 \\times 10^{-5})^{2}} = \\frac{(1.6567788 \\times 10^{-12})(1.0 \\times 10^{-5})(N+5)}{0.04 N^{2} (1.0 \\times 10^{-10})} = (4.141947 \\times 10^{-6}) \\frac{N+5}{N^2}$\n\n误差约束变为：\n$(5.0 \\times 10^{-11}) N^{4} + (4.141947 \\times 10^{-6}) \\frac{N+5}{N^2} \\leq (0.040)^{2} = 1.6 \\times 10^{-3}$\n\n对于大的 $N$，IR压降项 $\\propto N^{4}$ 占主导地位，而噪声项 $\\propto 1/N$。为了找到最大的 $N$，我们可以通过只考虑占主导地位的IR压降项来近似求解：\n$(5.0 \\times 10^{-11}) N^{4} \\lesssim 1.6 \\times 10^{-3}$\n$N^{4} \\lesssim \\frac{1.6 \\times 10^{-3}}{5.0 \\times 10^{-11}} = 3.2 \\times 10^{7}$\n$N \\lesssim (3.2 \\times 10^{7})^{1/4} \\approx 75.196$\n\n这表明最大整数 $N$ 是 $75$。我们必须用 $\\varepsilon_{\\mathrm{tot}}^{2}(N)$ 的完整表达式来检验 $N=75$ 和 $N=76$ 的情况。\n对于 $N=75$：\n$\\varepsilon_{\\mathrm{IR}}^{2}(75) = (5.0 \\times 10^{-11}) (75)^{4} = (5.0 \\times 10^{-11}) (31640625) = 1.58203125 \\times 10^{-3}$\n$\\varepsilon_{\\mathrm{noise}}^{2}(75) = (4.141947 \\times 10^{-6}) \\frac{75+5}{(75)^{2}} = (4.141947 \\times 10^{-6}) \\frac{80}{5625} \\approx 5.89255 \\times 10^{-8}$\n$\\varepsilon_{\\mathrm{tot}}^{2}(75) = 1.58203125 \\times 10^{-3} + 5.89255 \\times 10^{-8} \\approx 1.58209 \\times 10^{-3}$\n由于 $1.58209 \\times 10^{-3} \\leq 1.6 \\times 10^{-3}$，$N=75$ 满足约束条件。\n\n对于 $N=76$：\n$\\varepsilon_{\\mathrm{IR}}^{2}(76) = (5.0 \\times 10^{-11}) (76)^{4} = (5.0 \\times 10^{-11}) (33362176) = 1.6681088 \\times 10^{-3}$\n仅此IR压降项 $1.6681088 \\times 10^{-3}$ 就大于目标值 $\\varepsilon_{\\mathrm{tgt}}^{2} = 1.6 \\times 10^{-3}$。因此，$N=76$ 不满足约束条件。\n满足精度约束的最大整数 $N$ 是 $N_{\\mathrm{max}} = 75$。\n\n接下来，我们分析每次MAC的能量 $e(N)$。总能量是字线充电能量、ADC能量和驱动器能量之和：\n$E_{\\mathrm{tot}}(N) = E_{\\mathrm{wl,tot}} + E_{\\mathrm{ADC,tot}} + E_{\\mathrm{drv,tot}} = \\frac{1}{2} c_{\\mathrm{wl}} V^{2} N^{2} + E_{\\mathrm{ADC}} N + E_{\\mathrm{drv}} N$\n每次MAC运算的能量为 $e(N) = \\frac{E_{\\mathrm{tot}}(N)}{N^{2}}$：\n$e(N) = \\frac{\\frac{1}{2} c_{\\mathrm{wl}} V^{2} N^{2} + (E_{\\mathrm{ADC}} + E_{\\mathrm{drv}}) N}{N^{2}} = \\frac{1}{2} c_{\\mathrm{wl}} V^{2} + \\frac{E_{\\mathrm{ADC}} + E_{\\mathrm{drv}}}{N}$\n\n问题是要找到最小化 $e(N)$ 的 $N^{\\star}$。$e(N)$ 的表达式由一个正常数项 $\\frac{1}{2} c_{\\mathrm{wl}} V^{2}$ 和一个项 $\\frac{E_{\\mathrm{ADC}} + E_{\\mathrm{drv}}}{N}$ 组成，后者为正且随着 $N$ 的增加而减小。因此，$e(N)$ 是 $N$ 的单调递减函数。要最小化 $e(N)$，我们必须选择尽可能大的 $N$ 值。\n\n该优化要求在 $\\varepsilon_{\\mathrm{tot}}(N) \\leq \\varepsilon_{\\mathrm{tgt}}$ 的约束下最小化 $e(N)$。由于 $e(N)$ 是通过最大化 $N$ 来最小化的，因此最佳区块尺寸 $N^{\\star}$ 是满足精度约束的最大整数 $N$。如前所算，该值为 $N_{\\mathrm{max}} = 75$。\n\n因此，最佳区块尺寸为 $N^{\\star} = 75$。",
            "answer": "$$\\boxed{75}$$"
        }
    ]
}