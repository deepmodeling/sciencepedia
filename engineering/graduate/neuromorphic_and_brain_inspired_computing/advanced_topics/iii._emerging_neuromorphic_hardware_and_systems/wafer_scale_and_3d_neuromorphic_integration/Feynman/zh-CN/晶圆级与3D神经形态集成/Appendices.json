{
    "hands_on_practices": [
        {
            "introduction": "在单片晶圆上构建大脑规模计算机的梦想，面临着制造缺陷的严酷现实。这个练习将演示如何应用基本的概率论，特别是泊松分布，来预测故障组件的预期数量。掌握这种方法，设计者就能够估算良率并制定缺陷容错策略，这是晶圆级系统设计的基石。",
            "id": "4067645",
            "problem": "一个晶圆级三维(3D)神经形态系统，使用晶圆上网络(network-on-wafer)结构，将相同的神经突触计算核心均匀地平铺在整个圆形晶圆上，无需切割。假设在进行任何垂直堆叠之前，正在分析单个器件层因缺陷导致的核心损失。晶圆面积为 $A_{\\mathrm{w}}=70000\\,\\mathrm{mm}^2$，随机制造缺陷密度为 $D_{0}=0.001\\,\\mathrm{defects/mm}^2$，每个计算核心占用的面积为 $a_{\\mathrm{c}}=25\\,\\mathrm{mm}^2$。缺陷在晶圆表面上独立且均匀分布，如果一个核心在其覆盖区域内的任何位置包含一个或多个缺陷，则该核心被视为损失。忽略刻画线、周边排除区、边缘效应和布线开销，使得核心数量等于晶圆面积除以核心面积。\n\n从空间点过程的第一性原理和微电子制造中广泛使用的良率建模假设出发，推导出损失核心的期望数量作为 $A_{\\mathrm{w}}$、$D_{0}$ 和 $a_{\\mathrm{c}}$ 的函数表达式，然后根据上述参数进行数值计算。\n\n将最终结果四舍五入到四位有效数字。答案以无量纲计数（无单位）的形式表示。",
            "solution": "该问题要求推导并计算晶圆上由于制造缺陷而损失的计算核心的期望数量。按题目要求，出发点是空间点过程的第一性原理。\n\n缺陷在晶圆表面上独立且均匀分布的陈述意味着，在任何给定区域 $A$ 内的缺陷数量 $k$ 服从泊松分布。对于一个均值（或速率参数）为 $\\lambda$ 的泊松随机变量 $K$，其概率质量函数由下式给出：\n$$P(K=k) = \\frac{\\lambda^k \\exp(-\\lambda)}{k!}$$\n速率参数 $\\lambda$ 代表了在指定区间（此处为面积）内事件（此处为缺陷）的期望数量。对于一个面积为 $A$ 且均匀缺陷密度为 $D_{0}$ 的区域，其缺陷的期望数量为 $\\lambda = D_{0} A$。\n\n我们首先分析单个计算核心，其面积为 $a_{\\mathrm{c}}$。单个核心内的期望缺陷数，记为 $\\lambda_{\\mathrm{c}}$，为：\n$$\\lambda_{\\mathrm{c}} = D_{0} a_{\\mathrm{c}}$$\n如果一个核心包含一个或多个缺陷，则它被视为损失。更直接的方法是首先计算一个核心*未*损失的概率，即它恰好包含零个缺陷的概率。这被称为核心良率，$Y_{\\mathrm{c}}$。使用 $k=0$ 的泊松概率质量函数：\n$$Y_{\\mathrm{c}} = P(\\text{core has 0 defects}) = \\frac{\\lambda_{\\mathrm{c}}^0 \\exp(-\\lambda_{\\mathrm{c}})}{0!}$$\n由于对于任何非零的 $x$，$x^0=1$ 且 $0!=1$，因此上式可简化为：\n$$Y_{\\mathrm{c}} = \\exp(-\\lambda_{\\mathrm{c}}) = \\exp(-D_{0} a_{\\mathrm{c}})$$\n一个核心损失的概率，$P_{\\mathrm{loss}}$，是良率的补集：\n$$P_{\\mathrm{loss}} = 1 - Y_{\\mathrm{c}} = 1 - \\exp(-D_{0} a_{\\mathrm{c}})$$\n问题陈述中指出，我们可以忽略各种开销，并将核心总数 $N$ 计算为晶圆总面积 $A_{\\mathrm{w}}$ 除以单个核心的面积 $a_{\\mathrm{c}}$：\n$$N = \\frac{A_{\\mathrm{w}}}{a_{\\mathrm{c}}}$$\n晶圆上的 $N$ 个核心中的每一个都可以被视为一次独立的伯努利试验，其中“失败”意味着核心损失，失败概率等于 $P_{\\mathrm{loss}}$。因此，损失核心的总数 $L$ 服从二项分布 $L \\sim B(N, P_{\\mathrm{loss}})$。二项分布的期望值（或均值）由试验次数与每次试验的失败概率的乘积给出。\n因此，损失核心的期望数量 $E[L]$ 为：\n$$E[L] = N \\times P_{\\mathrm{loss}}$$\n代入 $N$ 和 $P_{\\mathrm{loss}}$ 的表达式，得到最终的符号表达式：\n$$E[L] = \\left(\\frac{A_{\\mathrm{w}}}{a_{\\mathrm{c}}}\\right) \\left(1 - \\exp(-D_{0} a_{\\mathrm{c}})\\right)$$\n现在，我们使用给定的数值参数来计算这个表达式：\n$A_{\\mathrm{w}} = 70000\\,\\mathrm{mm}^2$\n$D_{0} = 0.001\\,\\mathrm{defects/mm}^2$\n$a_{\\mathrm{c}} = 25\\,\\mathrm{mm}^2$\n\n首先，我们计算每个核心的期望缺陷数 $\\lambda_{\\mathrm{c}}$：\n$$\\lambda_{\\mathrm{c}} = D_{0} a_{\\mathrm{c}} = (0.001\\,\\mathrm{mm}^{-2}) \\times (25\\,\\mathrm{mm}^2) = 0.025$$\n接下来，我们计算单个核心损失的概率 $P_{\\mathrm{loss}}$：\n$$P_{\\mathrm{loss}} = 1 - \\exp(-0.025)$$\n晶圆上的核心总数 $N$ 是：\n$$N = \\frac{A_{\\mathrm{w}}}{a_{\\mathrm{c}}} = \\frac{70000\\,\\mathrm{mm}^2}{25\\,\\mathrm{mm}^2} = 2800$$\n最后，我们计算损失核心的期望数量 $E[L]$：\n$$E[L] = N \\times P_{\\mathrm{loss}} = 2800 \\times (1 - \\exp(-0.025))$$\n使用计算器计算指数项：\n$$\\exp(-0.025) \\approx 0.97530991$$\n$$E[L] \\approx 2800 \\times (1 - 0.97530991) = 2800 \\times 0.02469009$$\n$$E[L] \\approx 69.132252$$\n问题要求将结果四舍五入到四位有效数字。前四位有效数字是 $6$、$9$、$1$ 和 $3$。第五位数字是 $2$，所以我们向下舍入。\n$$E[L] \\approx 69.13$$",
            "answer": "$$\\boxed{69.13}$$"
        },
        {
            "introduction": "转向三维集成，即使用硅通孔（TSVs）连接不同层，会引入新的物理效应，从而影响电路行为。本问题模拟了TSV堆栈产生的寄生电容如何改变一个漏电积分发放（LIF）神经元的动力学特性。解决这个问题，将把高层级的系统架构选择与单个神经元的发放率直接联系起来，揭示物理设计与计算功能之间错综复杂的关系。",
            "id": "4067594",
            "problem": "一个在晶圆级三维（3D）神经拟态系统上实现的漏泄整合发放（LIF）神经元，使用一个垂直硅通孔（TSV）互连堆栈，这给每个神经元引入了额外的寄生电容。神经元膜被建模为一个电阻-电容（RC）元件，具有漏泄电导 $g_{L}$ 和膜电容 $C_{m}$。TSV堆栈贡献了一个与 $C_{m}$ 并联的附加寄生电容 $C_{\\mathrm{tsv}}$，因此有效膜电容为 $C_{\\mathrm{eff}} = C_{m} + C_{\\mathrm{tsv}}$。神经元接收一个恒定的输入电流 $I$，进行整合，直到其膜电压达到阈值 $V_{th}$，然后发出一个脉冲并瞬时重置为 $0$ 伏特电压。漏泄反转电位为 $0$ 伏特。每个脉冲后会强制执行一个绝对不应期 $t_{\\mathrm{ref}}$，在此期间神经元不能整合或发放脉冲。\n\n从RC膜模型的第一性原理出发，并且仅使用电流、电压、电容和电导之间物理上公认的关系，推导该神经元在恒定电流注入下的稳态发放率，并计算其在以下参数下的数值：\n- $I = 2.0 \\times 10^{-9}$ A,\n- $V_{th} = 2.0 \\times 10^{-2}$ V,\n- $g_{L} = 5.0 \\times 10^{-8}$ S,\n- $C_{m} = 4.0 \\times 10^{-12}$ F,\n- $C_{\\mathrm{tsv}} = 4.0 \\times 10^{-13}$ F,\n- $t_{\\mathrm{ref}} = 5.0 \\times 10^{-6}$ s.\n\n假设每次脉冲后瞬时重置为 $0$ 伏特电压，且输入电流随时间恒定。以赫兹（Hz）为单位表示最终发放率。将答案四舍五入到四位有效数字。",
            "solution": "神经元膜电位 $V(t)$ 的动力学由基于基尔霍夫电流定律的RC电路的电流平衡方程控制。总输入电流 $I$ 分布在为电容器充电的电流 $I_C(t)$ 和通过导体泄漏的电流 $I_L(t)$ 之间。\n\n来自TSV堆栈的寄生电容 $C_{\\mathrm{tsv}}$ 与固有膜电容 $C_m$ 并联。对于并联的电容器，它们的电容相加。因此，膜的有效电容为：\n$$C_{\\mathrm{eff}} = C_{m} + C_{\\mathrm{tsv}}$$\n\n通过有效电容器的电流由下式给出：\n$$I_C(t) = C_{\\mathrm{eff}} \\frac{dV(t)}{dt}$$\n\n通过导体的漏电流由欧姆定律确定，其中电导为 $g_L$，电压降是相对于漏泄反转电位 $V_L$ 的跨膜电压。问题陈述 $V_L = 0$ V。\n$$I_L(t) = g_L (V(t) - V_L) = g_L V(t)$$\n\n根据基尔霍夫电流定律，离开节点的电流之和必须等于输入电流：\n$$I = I_C(t) + I_L(t)$$\n代入 $I_C(t)$ 和 $I_L(t)$ 的表达式：\n$$I = C_{\\mathrm{eff}} \\frac{dV(t)}{dt} + g_L V(t)$$\n\n这是一个一阶线性常微分方程。我们可以将其重新排列成标准形式：\n$$\\frac{C_{\\mathrm{eff}}}{g_L} \\frac{dV(t)}{dt} + V(t) = \\frac{I}{g_L}$$\n\n我们定义有效膜时间常数 $\\tau_{\\mathrm{eff}}$ 和稳态电压 $V_{\\infty}$（如果神经元从不发放脉冲，其电压将趋近的电压）如下：\n$$\\tau_{\\mathrm{eff}} = \\frac{C_{\\mathrm{eff}}}{g_L}$$\n$$V_{\\infty} = \\frac{I}{g_L}$$\n\n微分方程变为：\n$$\\tau_{\\mathrm{eff}} \\frac{dV(t)}{dt} + V(t) = V_{\\infty}$$\n\n该方程的通解为：\n$$V(t) = V_{\\infty} + (V(0) - V_{\\infty}) \\exp\\left(-\\frac{t}{\\tau_{\\mathrm{eff}}}\\right)$$\n\n每次脉冲后，神经元的电压重置为 $0$ V。因此，我们可以将整合阶段的初始条件设置为 $V(0) = 0$。从重置电位开始的电压轨迹方程为：\n$$V(t) = V_{\\infty} \\left(1 - \\exp\\left(-\\frac{t}{\\tau_{\\mathrm{eff}}}\\right)\\right)$$\n\n当神经元的膜电位达到阈值 $V_{th}$ 时，它会发放一个脉冲。设 $t_{\\mathrm{spike}}$ 为达到该阈值所需的时间。我们通过设置 $V(t_{\\mathrm{spike}}) = V_{th}$ 来求 $t_{\\mathrm{spike}}$：\n$$V_{th} = V_{\\infty} \\left(1 - \\exp\\left(-\\frac{t_{\\mathrm{spike}}}{\\tau_{\\mathrm{eff}}}\\right)\\right)$$\n\n为了可能发放脉冲，稳态电压 $V_{\\infty}$ 必须大于阈值电压 $V_{th}$。这意味着 $I/g_L > V_{th}$，或 $I > g_L V_{th}$。我们将用给定的数值验证这个条件。\n\n求解 $t_{\\mathrm{spike}}$：\n$$\\frac{V_{th}}{V_{\\infty}} = 1 - \\exp\\left(-\\frac{t_{\\mathrm{spike}}}{\\tau_{\\mathrm{eff}}}\\right)$$\n$$\\exp\\left(-\\frac{t_{\\mathrm{spike}}}{\\tau_{\\mathrm{eff}}}\\right) = 1 - \\frac{V_{th}}{V_{\\infty}}$$\n$$-\\frac{t_{\\mathrm{spike}}}{\\tau_{\\mathrm{eff}}} = \\ln\\left(1 - \\frac{V_{th}}{V_{\\infty}}\\right)$$\n$$t_{\\mathrm{spike}} = -\\tau_{\\mathrm{eff}} \\ln\\left(1 - \\frac{V_{th}}{V_{\\infty}}\\right)$$\n\n代入 $\\tau_{\\mathrm{eff}}$ 和 $V_{\\infty}$ 的定义：\n$$t_{\\mathrm{spike}} = -\\frac{C_{\\mathrm{eff}}}{g_L} \\ln\\left(1 - \\frac{V_{th}}{I/g_L}\\right) = -\\frac{C_{\\mathrm{eff}}}{g_L} \\ln\\left(1 - \\frac{g_L V_{th}}{I}\\right)$$\n\n两个连续脉冲之间的总时间是脉冲间间隔 $T$。这是整合时间 $t_{\\mathrm{spike}}$ 和绝对不应期 $t_{\\mathrm{ref}}$ 的总和。\n$$T = t_{\\mathrm{spike}} + t_{\\mathrm{ref}}$$\n\n稳态发放率 $f$ 是脉冲间间隔的倒数：\n$$f = \\frac{1}{T} = \\frac{1}{t_{\\mathrm{spike}} + t_{\\mathrm{ref}}} = \\frac{1}{t_{\\mathrm{ref}} - \\frac{C_{\\mathrm{eff}}}{g_L} \\ln\\left(1 - \\frac{g_L V_{th}}{I}\\right)}$$\n\n现在，我们将使用提供的参数计算数值。\n首先，计算有效电容 $C_{\\mathrm{eff}}$：\n$$C_{\\mathrm{eff}} = C_{m} + C_{\\mathrm{tsv}} = 4.0 \\times 10^{-12} \\, \\text{F} + 4.0 \\times 10^{-13} \\, \\text{F} = 4.4 \\times 10^{-12} \\, \\text{F}$$\n\n接下来，检查发放条件：$I > g_L V_{th}$。\n$$g_L V_{th} = (5.0 \\times 10^{-8} \\, \\text{S}) \\times (2.0 \\times 10^{-2} \\, \\text{V}) = 1.0 \\times 10^{-9} \\, \\text{A}$$\n由于 $I = 2.0 \\times 10^{-9}$ A，条件 $2.0 \\times 10^{-9} > 1.0 \\times 10^{-9}$ 成立。神经元将会发放脉冲。\n\n现在，计算整合时间 $t_{\\mathrm{spike}}$：\n$$t_{\\mathrm{spike}} = -\\frac{4.4 \\times 10^{-12} \\, \\text{F}}{5.0 \\times 10^{-8} \\, \\text{S}} \\ln\\left(1 - \\frac{1.0 \\times 10^{-9} \\, \\text{A}}{2.0 \\times 10^{-9} \\, \\text{A}}\\right)$$\n$$t_{\\mathrm{spike}} = -(8.8 \\times 10^{-5} \\, \\text{s}) \\ln(1 - 0.5) = -(8.8 \\times 10^{-5} \\, \\text{s}) \\ln(0.5)$$\n使用恒等式 $\\ln(0.5) = -\\ln(2)$：\n$$t_{\\mathrm{spike}} = (8.8 \\times 10^{-5}) \\ln(2) \\, \\text{s}$$\n使用值 $\\ln(2) \\approx 0.693147$：\n$$t_{\\mathrm{spike}} \\approx (8.8 \\times 10^{-5}) \\times 0.693147 \\approx 6.0996956 \\times 10^{-5} \\, \\text{s}$$\n\n计算总脉冲间间隔 $T$：\n$$T = t_{\\mathrm{spike}} + t_{\\mathrm{ref}} \\approx 6.0996956 \\times 10^{-5} \\, \\text{s} + 5.0 \\times 10^{-6} \\, \\text{s}$$\n$$T \\approx 6.0996956 \\times 10^{-5} \\, \\text{s} + 0.5 \\times 10^{-5} \\, \\text{s} = 6.5996956 \\times 10^{-5} \\, \\text{s}$$\n\n最后，计算发放率 $f$：\n$$f = \\frac{1}{T} \\approx \\frac{1}{6.5996956 \\times 10^{-5} \\, \\text{s}} \\approx 15152.193 \\, \\text{Hz}$$\n\n问题要求将答案四舍五入到四位有效数字。\n$$f \\approx 15150 \\, \\text{Hz}$$\n这等于 $1.515 \\times 10^4$ Hz。",
            "answer": "$$\\boxed{1.515 \\times 10^{4}}$$"
        }
    ]
}