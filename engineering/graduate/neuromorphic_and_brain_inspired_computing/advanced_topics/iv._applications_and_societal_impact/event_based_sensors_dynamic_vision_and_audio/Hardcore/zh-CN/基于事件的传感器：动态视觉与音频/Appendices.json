{
    "hands_on_practices": [
        {
            "introduction": "本练习旨在建立场景动态与传感器输出之间的基本关系。我们将推导一个物体的运动速度及其视觉纹理如何直接转化为动态视觉传感器（DVS）生成的事件率，从而为传感器的响应建立一个量化模型。这个实践有助于理解事件数据与物理世界运动之间最核心的联系 。",
            "id": "4044046",
            "problem": "动态视觉传感器（DVS）在像素点的观测对数强度自上次事件以来的变化达到一个固定的对比度阈值 $C$ 时，会发出一个事件；具体来说，当对数强度的累积变化分别等于 $+C$ 或 $-C$ 时，会生成一个正极性或负极性的事件。考虑一个一维纹理图案，其对数强度由 $L(x) = L_{0} + A \\sin(2\\pi \\nu x)$ 给出，其中 $A$ 是对数强度调制的振幅，$\\nu$ 是空间频率，单位为周期/米。假设场景沿 $x$ 轴以恒定速度 $v$（米/秒）进行平移运动，因此位于空间坐标 $x_{0}$ 的固定像素点随时间观测到的对数强度为 $L(t) = L_{0} + A \\sin\\!\\big(2\\pi \\nu (x_{0} + v t)\\big)$。忽略不应期效应、噪声和阈值滞后，并假设阈值是对称的 $\\pm C$。\n\n从第一性原理出发——即沿运动轨迹的亮度恒定假设、空间频率的定义以及DVS事件生成规则（即自上次事件以来对数强度的累积变化幅度达到 $C$ 时发生事件）——推导出一个关于每像素每秒期望事件数的封闭形式表达式，该表达式是 $v$、$\\nu$、$C$ 和 $A$ 的函数。以每秒事件数为单位，用符号表示你的最终答案。不要进行任何数值代入或四舍五入；本题不要求有效数字。",
            "solution": "问题要求推导一个封闭形式的表达式，用于计算动态视觉传感器（DVS）在观测移动的正弦图案时每像素每秒的期望事件数。我们首先验证问题陈述的有效性。\n\n### 步骤1：提取已知条件\n- **传感器：** 动态视觉传感器（DVS）。\n- **事件生成规则：** 当自上次事件以来的对数强度累积变化分别达到 $+C$ 或 $-C$ 时，生成一个正极性或负极性的事件。\n- **对数强度图案（空间）：** $L(x) = L_{0} + A \\sin(2\\pi \\nu x)$，其中 $A$ 是对数强度调制的振幅，$\\nu$ 是空间频率，单位为周期/米。\n- **运动：** 场景以恒定速度 $v$（米/秒）进行平移运动。\n- **像素点的对数强度（时间）：** 位于 $x_{0}$ 的固定像素点观测到的对数强度为 $L(t) = L_{0} + A \\sin(2\\pi \\nu (x_{0} + v t))$。\n- **假设：** 忽略不应期效应、噪声和阈值滞后。阈值是对称的（$\\pm C$）。\n- **目标：** 推导一个关于每像素每秒期望事件数的封闭形式表达式，该表达式是 $v$、$\\nu$、$C$ 和 $A$ 的函数。\n\n### 步骤2：使用提取的已知条件进行验证\n- **科学依据：** 该问题具有科学依据。所描述的模型是DVS操作的标准简化模型，在神经形态工程领域被广泛使用。空间图案、运动和时间信号之间的关系在物理上和数学上都是正确的。\n- **适定性：** 该问题是自洽且适定的。它提供了一个清晰的数学模型和一个需要推导的特定量。\n- **客观性：** 语言是技术性的、精确的和客观的。\n- **结论：** 该问题是有效的。这是一个关于事件驱动传感器分析的教科书式问题。\n\n### 步骤3：推导\n我们现在开始求解。推导必须从问题中概述的第一性原理出发。\n\n1.  **表征输入信号：**\n    位于 $x_0$ 的静止像素观测到的对数强度信号由 $L(t) = L_{0} + A \\sin(2\\pi \\nu (x_{0} + v t))$ 给出。我们可以将其重写为：\n    $$L(t) = L_{0} + A \\sin(2\\pi \\nu v t + 2\\pi \\nu x_{0})$$\n    这是一个随时间变化的正弦信号。我们为该像素定义时间角频率 $\\omega$ 和恒定相位偏移 $\\phi_0$：\n    $$\\omega = 2\\pi \\nu v$$\n    $$\\phi_0 = 2\\pi \\nu x_0$$\n    信号则为 $L(t) = L_0 + A \\sin(\\omega t + \\phi_0)$。信号的时间频率 $f$ 为 $f = \\omega/(2\\pi) = \\nu v$，单位为周期/秒（Hz）。信号的周期为 $T = 1/f = 1/(\\nu v)$。\n\n2.  **事件生成的条件：**\n    当自上次事件以来的对数强度变化 $\\Delta L$ 满足 $|\\Delta L| = C$ 时，会生成一个事件。要能生成任何事件，对数强度的最大可能变化必须至少为 $C$。信号 $L(t)$ 在最小值 $L_{min} = L_0 - A$ 和最大值 $L_{max} = L_0 + A$ 之间振荡。对数强度的最大可能变化是峰峰值振幅：\n    $$\\Delta L_{max} = L_{max} - L_{min} = (L_0 + A) - (L_0 - A) = 2A$$\n    因此，触发任何事件的必要条件是，这个最大可能变化必须大于或等于阈值 $C$。\n    $$2A \\ge C \\quad \\implies \\quad A \\ge \\frac{C}{2}$$\n    如果 $A  C/2$，将永远不会生成事件，事件率显然为 $0$。后续的推导假设 $A \\ge C/2$。\n\n3.  **计算每个周期的期望事件数：**\n    为了找到期望事件率（每秒事件数），我们可以首先计算在信号的一个完整周期内生成的期望事件数 $N_{events}$，然后除以周期时长 $T$。\n    短语“期望数量”意味着一个平均过程，例如对许多周期或对具有随机初始相位 $\\phi_0$ 的像素集合进行平均。这种平均平滑了事件生成的离散、量化的性质。\n    在这种情况下，一个时间间隔内的期望事件数与该间隔内信号的总变差成正比。总变差是所有绝对变化的累积和。\n    在一个完整周期 $T$ 内，信号 $L(t)$ 从最小值到最大值，再回到最小值。\n    -   在上升半周期内，$L(t)$ 的变化为 $L_{max} - L_{min} = 2A$。\n    -   在下降半周期内，$L(t)$ 的变化为 $L_{min} - L_{max} = -2A$，其幅度为 $2A$。\n    在一个周期内 $L(t)$ 的总变差（总绝对变化）是这些幅度的总和：\n    $$V_{T} = |2A| + |-2A| = 4A$$\n    每个事件对应于一个幅度为 $C$ 的固定的对数强度变化“量子”。每个周期的期望事件数 $N_{events}$ 是总变差除以每个事件的变化幅度：\n    $$N_{events} = \\frac{V_T}{C} = \\frac{4A}{C}$$\n\n4.  **计算期望事件率：**\n    事件率，我们记作 $R$，是每个周期的期望事件数除以周期时长 $T$。\n    $$R = \\frac{N_{events}}{T}$$\n    代入 $N_{events}$ 和 $T = 1/(\\nu v)$ 的表达式：\n    $$R = \\frac{4A/C}{1/(\\nu v)}$$\n    $$R = \\frac{4A\\nu v}{C}$$\n    这个表达式给出了以每秒事件数为单位的期望事件率。单位是一致的：$A$ 和 $C$ 是无单位的（对数比），$\\nu$ 的单位是周期/米， $v$ 的单位是米/秒，所以 $R$ 的单位是周期/秒，或事件/秒。\n\n5.  **最终表达式：**\n    综合我们的发现，在能够生成事件的条件下，事件率由推导出的表达式给出。\n    作为 $v$、$\\nu$、$C$ 和 $A$ 的函数的事件率 $R$ 是：\n    -   当 $A \\ge \\frac{C}{2}$ 时，$R = \\frac{4A\\nu v}{C}$\n    -   当 $A  \\frac{C}{2}$ 时，$R = 0$\n    问题要求从第一性原理推导一个单一的封闭形式表达式。非平凡的推导适用于存在事件的情况，因此我们提供该结果。",
            "answer": "$$\\boxed{\\frac{4Av\\nu}{C}}$$"
        },
        {
            "introduction": "在理解了事件如何生成之后，下一个关键问题是如何从稀疏的事件流中提取有意义的特征。本练习将探讨一种强大的近期活动表示方法——“时间表面”，并优化其参数以最佳地区分两种不同的运动速度。这个实践清晰地展示了如何将原始传感器数据转化为能够服务于具体应用（如运动判别）的特征 。",
            "id": "4043982",
            "problem": "动态视觉传感器（DVS）在像素点的对数光强变化达到一个固定的对比度阈值 $\\theta$ 时，会触发一个异步事件。考虑一个一维漂移模式，其对数光强为 $L(x) = A_{\\ell} \\sin\\!\\left(\\frac{2\\pi x}{\\lambda}\\right)$，以恒定速度 $v$（单位：像素/秒）移动。对于位于运动轨迹上的一个像素点，假设事件可以被建模为一个更新过程，其事件间时间呈指数分布，该分布由事件率 $r(v)$ 表征。事件率由对数光强梯度幅值与速度的乘积除以阈值得出。基于衰减的时间曲面逐点定义为\n$$\nS(x,y,t) = \\exp\\!\\left(-\\frac{t - t_{\\text{last}}(x,y)}{\\tau}\\right),\n$$\n其中 $t_{\\text{last}}(x,y)$ 是在 $(x,y)$ 处最近一次事件的时间，$\\tau0$ 是一个时间常数。\n\n从上述物理和统计前提开始，推导在恒定速度 $v$ 下，一个像素点上时间曲面幅度的期望值，记为 $\\mathbb{E}[S \\mid v]$，用 $\\tau$ 和事件率 $r(v)$ 表示。然后，为两个不同的速度 $v_1$ 和 $v_2$ 定义一个判别泛函\n$$\nD(\\tau) = \\left|\\mathbb{E}[S \\mid v_1] - \\mathbb{E}[S \\mid v_2]\\right|\n$$\n并确定使 $D(\\tau)$ 最大化的 $\\tau$ 值。\n\n使用以下物理上合理的参数：\n- 对数光强幅值 $A_{\\ell} = 0.2$，\n- 空间周期 $\\lambda = 20$ 像素，\n- 对比度阈值 $\\theta = 0.1$，\n- 速度 $v_1 = 40$ 像素/秒 和 $v_2 = 10$ 像素/秒。\n\n假设事件率按 $r(v) = \\frac{|\\partial L/\\partial x|_{\\max}}{\\theta}\\,|v|$ 比例变化，其中 $|\\partial L/\\partial x|_{\\max} = \\frac{2\\pi A_{\\ell}}{\\lambda}$，并且在稳定漂移下，一个像素点的事件间时间服从参数为 $r(v)$ 的指数分布。将最终数值答案四舍五入到四位有效数字，并以毫秒为单位表示最终的时间常数。最终答案必须是一个实数。",
            "solution": "问题要求解出使判别泛函 $D(\\tau)$ 最大化的时间常数 $\\tau$ 的值。该泛函依赖于动态视觉传感器（DVS）的基于衰减的时间曲面幅度的期望值 $\\mathbb{E}[S \\mid v]$。\n\n首先，我们将推导时间曲面幅度期望值 $\\mathbb{E}[S \\mid v]$ 的表达式。在像素点 $(x,y)$ 和时间 $t$ 处的时间曲面由下式给出\n$$\nS(x,y,t) = \\exp\\!\\left(-\\frac{t - t_{\\text{last}}(x,y)}{\\tau}\\right)\n$$\n其中 $t_{\\text{last}}(x,y)$ 是该像素点最近一次事件的时间，$\\tau$ 是一个正的时间常数。\n量 $\\Delta t = t - t_{\\text{last}}(x,y)$ 表示自该像素点上一次事件以来经过的时间。为了找到期望 $\\mathbb{E}[S \\mid v]$，我们需要找到 $\\exp(-\\Delta t/\\tau)$ 的期望。这需要 $\\Delta t$ 的概率分布。\n\n问题陈述，对于一个恒定速度 $v$，一个像素点上的事件可以被建模为一个更新过程，其中事件间时间（我们称之为随机变量 $T_{ie}$）服从指数分布，其事件率为 $r(v)$。因此，事件间时间的概率密度函数 (PDF) 是\n$$\nf_{T_{ie}}(t) = r(v) \\exp(-r(v)t) \\quad \\text{for } t \\ge 0\n$$\n事件间时间呈指数分布的更新过程是一个泊松过程。平稳泊松过程的一个关键特性是，后向重现时间（过程的年龄，$\\Delta t = t - t_{\\text{last}}$）的分布与事件间时间的分布相同。因此，随机变量 $\\Delta t$ 也服从率为 $r(v)$ 的指数分布：\n$$\nf_{\\Delta t}(s) = r(v) \\exp(-r(v)s) \\quad \\text{for } s \\ge 0\n$$\n我们现在可以计算时间曲面幅度的期望值：\n$$\n\\mathbb{E}[S \\mid v] = \\mathbb{E}\\left[\\exp\\!\\left(-\\frac{\\Delta t}{\\tau}\\right)\\right] = \\int_{0}^{\\infty} \\exp\\!\\left(-\\frac{s}{\\tau}\\right) f_{\\Delta t}(s) \\,ds\n$$\n代入 $\\Delta t$ 的概率密度函数：\n$$\n\\mathbb{E}[S \\mid v] = \\int_{0}^{\\infty} \\exp\\!\\left(-\\frac{s}{\\tau}\\right) r(v) \\exp(-r(v)s) \\,ds = r(v) \\int_{0}^{\\infty} \\exp\\!\\left(-s\\left(\\frac{1}{\\tau} + r(v)\\right)\\right) \\,ds\n$$\n该积分计算结果为：\n$$\n\\int_{0}^{\\infty} \\exp\\!\\left(-s\\left(\\frac{1}{\\tau} + r(v)\\right)\\right) \\,ds = \\left[-\\frac{1}{\\frac{1}{\\tau} + r(v)} \\exp\\!\\left(-s\\left(\\frac{1}{\\tau} + r(v)\\right)\\right)\\right]_{0}^{\\infty} = 0 - \\left(-\\frac{1}{\\frac{1}{\\tau} + r(v)}\\right) = \\frac{1}{\\frac{1}{\\tau} + r(v)}\n$$\n因此，期望幅度为：\n$$\n\\mathbb{E}[S \\mid v] = r(v) \\left(\\frac{1}{\\frac{1}{\\tau} + r(v)}\\right) = \\frac{r(v)}{r(v) + \\frac{1}{\\tau}} = \\frac{r(v)\\tau}{r(v)\\tau + 1}\n$$\n\n接下来，我们分析为两个不同速度 $v_1$ 和 $v_2$ 定义的判别泛函 $D(\\tau)$：\n$$\nD(\\tau) = \\left|\\mathbb{E}[S \\mid v_1] - \\mathbb{E}[S \\mid v_2]\\right|\n$$\n令 $r_1 = r(v_1)$ 和 $r_2 = r(v_2)$。代入我们得到的期望幅度表达式：\n$$\nD(\\tau) = \\left| \\frac{r_1\\tau}{r_1\\tau + 1} - \\frac{r_2\\tau}{r_2\\tau + 1} \\right|\n$$\n我们通分以简化绝对值内的表达式：\n$$\n\\frac{r_1\\tau(r_2\\tau + 1) - r_2\\tau(r_1\\tau + 1)}{(r_1\\tau + 1)(r_2\\tau + 1)} = \\frac{r_1r_2\\tau^2 + r_1\\tau - r_1r_2\\tau^2 - r_2\\tau}{(r_1\\tau + 1)(r_2\\tau + 1)} = \\frac{(r_1 - r_2)\\tau}{(r_1\\tau + 1)(r_2\\tau + 1)}\n$$\n问题指定的速度为 $v_1 = 40 \\text{ 像素/秒}$ 和 $v_2 = 10 \\text{ 像素/秒}$。事件率由 $r(v) = \\frac{|\\partial L/\\partial x|_{\\max}}{\\theta}\\,|v|$ 给出，其中 $|\\partial L/\\partial x|_{\\max}$、$\\theta$ 和 $|v|$ 均为正值。因此，$r(v)$ 是 $|v|$ 的严格递增函数。由于 $v_1 > v_2 > 0$，我们有 $r_1 > r_2 > 0$，这意味着 $r_1-r_2 > 0$。又因为 $\\tau>0$，整个表达式为正，所以我们可以去掉 absolute value 符号。\n$$\nD(\\tau) = \\frac{(r_1 - r_2)\\tau}{(r_1\\tau + 1)(r_2\\tau + 1)} = \\frac{(r_1 - r_2)\\tau}{r_1r_2\\tau^2 + (r_1+r_2)\\tau + 1}\n$$\n为了找到使 $D(\\tau)$ 最大化的 $\\tau$ 值，我们计算导数 $\\frac{dD}{d\\tau}$ 并将其设为零。使用商法则 $\\left(\\frac{f}{g}\\right)' = \\frac{f'g - fg'}{g^2}$，我们确定 $f(\\tau) = (r_1-r_2)\\tau$ 和 $g(\\tau) = r_1r_2\\tau^2 + (r_1+r_2)\\tau + 1$。\n它们的导数是 $f'(\\tau) = r_1-r_2$ 和 $g'(\\tau) = 2r_1r_2\\tau + r_1+r_2$。\n将 $\\frac{dD}{d\\tau}$ 的分子设为零：\n$$\nf'g - fg' = (r_1-r_2)(r_1r_2\\tau^2 + (r_1+r_2)\\tau + 1) - (r_1-r_2)\\tau(2r_1r_2\\tau + r_1+r_2) = 0\n$$\n由于 $r_1 \\ne r_2$，我们可以除以非零因子 $(r_1-r_2)$：\n$$\n(r_1r_2\\tau^2 + (r_1+r_2)\\tau + 1) - \\tau(2r_1r_2\\tau + r_1+r_2) = 0\n$$\n$$\nr_1r_2\\tau^2 + (r_1+r_2)\\tau + 1 - 2r_1r_2\\tau^2 - (r_1+r_2)\\tau = 0\n$$\n项 $(r_1+r_2)\\tau$ 消掉，剩下：\n$$\n1 - r_1r_2\\tau^2 = 0 \\implies r_1r_2\\tau^2 = 1\n$$\n由于 $\\tau > 0$，最优时间常数为：\n$$\n\\tau = \\frac{1}{\\sqrt{r_1r_2}}\n$$\n这是平均事件间时间 $1/r_1$ 和 $1/r_2$ 的几何平均值。\n\n现在，我们使用给定的参数计算 $r_1$ 和 $r_2$ 的数值：$A_{\\ell} = 0.2$，$\\lambda = 20$ 像素，$\\theta = 0.1$，$v_1 = 40$ 像素/秒，以及 $v_2 = 10$ 像素/秒。\n首先，我们计算最大对数光强梯度：\n$$\n\\left|\\frac{\\partial L}{\\partial x}\\right|_{\\max} = \\frac{2\\pi A_{\\ell}}{\\lambda} = \\frac{2\\pi (0.2)}{20} = \\frac{0.4\\pi}{20} = \\frac{\\pi}{50} \\text{ 像素}^{-1}\n$$\n事件率 $r(v)$ 由下式给出：\n$$\nr(v) = \\frac{|\\partial L/\\partial x|_{\\max}}{\\theta}\\,|v| = \\frac{\\pi/50}{0.1}\\,|v| = \\frac{\\pi}{5}\\,|v| \\text{ s}^{-1}\n$$\n对于 $v_1 = 40$ 像素/秒：\n$$\nr_1 = r(v_1) = \\frac{\\pi}{5} \\times 40 = 8\\pi \\text{ s}^{-1}\n$$\n对于 $v_2 = 10$ 像素/秒：\n$$\nr_2 = r(v_2) = \\frac{\\pi}{5} \\times 10 = 2\\pi \\text{ s}^{-1}\n$$\n我们将这些率代入最优 $\\tau$ 的表达式中：\n$$\n\\tau = \\frac{1}{\\sqrt{r_1r_2}} = \\frac{1}{\\sqrt{(8\\pi)(2\\pi)}} = \\frac{1}{\\sqrt{16\\pi^2}} = \\frac{1}{4\\pi} \\text{ s}\n$$\n为了得到最终的数值答案，我们计算 $\\tau$ 的值，将其转换为毫秒，并四舍五入到四位有效数字。\n$$\n\\tau = \\frac{1}{4\\pi} \\text{ s} \\approx 0.07957747 \\text{ s}\n$$\n转换为毫秒 (ms)：\n$$\n\\tau \\approx 0.07957747 \\times 1000 \\text{ ms} = 79.57747 \\text{ ms}\n$$\n四舍五入到四位有效数字得到：\n$$\n\\tau \\approx 79.58 \\text{ ms}\n$$",
            "answer": "$$\\boxed{79.58}$$"
        },
        {
            "introduction": "本节最后一个实践将解决一个关键的逆问题：如何从稀疏的异步事件中重建出密集的连续亮度图像。我们将此问题构建为一个变分优化问题，它结合了来自事件的数据保真项和促进空间平滑的先验项。通过推导其欧拉-拉格朗日方程，您将接触到一种在神经形态计算领域广泛用于信号重建的强大数学框架 。",
            "id": "4044060",
            "problem": "考虑一个动态视觉传感器 (DVS)，它是一种基于事件的视觉传感器，能够异步地报告在像素位置 $(x,y)$ 和时间 $t$ 的对数强度 $L(x,y,t)$ 的变化。DVS 在一个对比度阈值 $C0$ 下工作，当对数强度的变化满足 $L(x,y,t_k^{+}) - L(x,y,t_k^{-}) \\approx p_k C$ 时，一个极性为 $p_k \\in \\{-1,+1\\}$ 的事件在时间 $t_k$ 被触发。在一个标准近似下，每个像素处 $L$ 的时间导数可以用一个由事件流构建的脉冲分布 $g(x,y,t)$ 来表示，即 $g(x,y,t) \\approx C \\sum_{k} p_k \\delta(t - t_k)$，其中 $\\delta(\\cdot)$ 是狄拉克δ函数，求和是针对在 $(x,y)$ 处的所有事件。假设在时间 $t=0$ 时，有一个初始的对数强度估计 $L_0(x,y)$，并定义事件积分信号为 $G(x,y,t) = \\int_{0}^{t} g(x,y,\\tau) \\, d\\tau$。\n\n令 $\\Omega \\subset \\mathbb{R}^2$ 表示空间域，令 $t \\in [0,T]$ 表示一个固定的时间区间。从第一性原理出发，通过 $G(x,y,t)$ 积分事件诱导的导数，并施加一个鼓励分段平滑的空间先验，来构建 $L(x,y,t)$ 的变分重构。使用各向同性全变分先验，并为了可微性使用 $\\varepsilon$-Huber 平滑，即被积函数为 $\\sqrt{|\\nabla L(x,y,t)|^2 + \\varepsilon^2}$，其中 $\\varepsilon0$。\n\n从上述定义出发，推导欧拉-拉格朗日方程，该方程描述了能量泛函的驻点。该能量泛函由一个数据保真项和一个空间正则化项组成。数据保真项惩罚 $L(x,y,t)$ 与 $L_0(x,y) + G(x,y,t)$ 之间的偏差，空间正则化项由平滑的各向同性全变分给出。设保真项权重为 $\\alpha0$，正则化项权重为 $\\lambda0$。假设在空间和时间上采用自然边界条件，以消除变分推导中的边界贡献。用 $L$、$\\alpha$、$\\lambda$、$G$ 和 $\\varepsilon$ 明确地表示出欧拉-拉格朗日方程。\n\n你的最终答案必须是欧拉-拉格朗日条件的单个闭式解析表达式。不需要进行数值计算。",
            "solution": "首先验证问题陈述，以确保其科学上合理、适定且完整。\n\n### 第1步：提取已知条件\n- **传感器类型**：动态视觉传感器 (DVS)。\n- **信号**：在像素 $(x,y) \\in \\Omega \\subset \\mathbb{R}^2$ 和时间 $t \\in [0,T]$ 上的对数强度 $L(x,y,t)$。\n- **事件触发条件**：$L(x,y,t_k^{+}) - L(x,y,t_k^{-}) \\approx p_k C$，其中 $C0$ 是对比度阈值，$p_k \\in \\{-1,+1\\}$ 是事件极性，$t_k$ 是事件时间。\n- **对数强度时间导数**：$\\frac{\\partial L}{\\partial t}$ 由一个脉冲分布 $g(x,y,t) \\approx C \\sum_{k} p_k \\delta(t - t_k)$ 来近似。\n- **初始条件**：在 $t=0$ 时可用的初始对数强度估计 $L_0(x,y)$。\n- **事件积分信号**：$G(x,y,t) = \\int_{0}^{t} g(x,y,\\tau) \\, d\\tau$。这表示截至时间 $t$ 由事件引起的对数强度的累积变化。\n- **任务**：为 $L(x,y,t)$ 的变分重构推导欧拉-拉格朗日方程。\n- **能量泛函组成部分**：\n    1.  **数据保真项**：惩罚 $L(x,y,t)$ 与 $L_0(x,y) + G(x,y,t)$ 之间的偏差，权重为 $\\alpha  0$。\n    2.  **正则化项**：一个由平滑的各向同性全变分给出的空间先验，其被积函数为 $\\sqrt{|\\nabla L(x,y,t)|^2 + \\varepsilon^2}$，权重为 $\\lambda  0$，平滑参数为 $\\varepsilon  0$。梯度 $\\nabla$ 是空间上的。\n- **边界条件**：假设采用空间和时间上的自然边界条件，这会消除推导过程中的边界贡献。\n\n### 第2步：使用提取的已知条件进行验证\n- **科学依据**：该问题在神经形态工程和计算机视觉领域有坚实的理论基础。DVS模型以及使用带有全变分正则化的变分方法进行信号重构是标准且被广泛接受的技术。\n- **适定性**：该问题是适定的。它要求为一个明确定义的能量泛函推导欧拉-拉格朗日方程，这是变分法中的一个标准流程。\n- **客观性**：问题使用精确的数学语言陈述，没有主观或模糊的术语。\n- **完整性**：定义能量泛函和推导欧拉-拉格朗日方程所需的所有组成部分（$\\alpha, \\lambda, \\varepsilon$、数据项和正则化项的形式，以及所涉及的变量）均已提供。\n\n### 第3步：结论与行动\n该问题被判定为**有效**。可以开始推导解决方案。\n\n目标是找到函数 $L(x,y,t)$ 的欧拉-拉格朗日方程，该函数最小化给定的能量泛函 $E[L]$。该泛函定义在时空域 $\\Omega \\times [0,T]$ 上。它由一个数据保真项和一个空间正则化项组成。\n\n首先，我们构建能量泛函 $E[L]$。数据保真项惩罚重构的对数强度 $L(x,y,t)$ 与从事件中积分得到的信号 $L_0(x,y) + G(x,y,t)$ 之间的差。对此惩罚的一个标准选择是加权的平方 $L_2$ 范数，权重为 $\\alpha$。正则化项是平滑全变分先验的积分，权重为 $\\lambda$。结合这些，总能量泛函为：\n$$ E[L] = \\int_0^T \\int_\\Omega \\left( \\frac{\\alpha}{2} \\left[ L(x,y,t) - (L_0(x,y) + G(x,y,t)) \\right]^2 + \\lambda \\sqrt{|\\nabla L(x,y,t)|^2 + \\varepsilon^2} \\right) \\,dx\\,dy\\,dt $$\n为了简化最终的导数，习惯上在保真项中包含一个因子 $\\frac{1}{2}$。项 $\\nabla L(x,y,t)$ 表示空间梯度，$\\nabla L = \\left(\\frac{\\partial L}{\\partial x}, \\frac{\\partial L}{\\partial y}\\right)$。\n\n该泛函的形式为 $E[L] = \\int_0^T \\int_\\Omega \\mathcal{L}(x,y,t,L,L_x,L_y) \\,dx\\,dy\\,dt$，其中 $L_x = \\frac{\\partial L}{\\partial x}$ 且 $L_y = \\frac{\\partial L}{\\partial y}$，拉格朗日密度 $\\mathcal{L}$ 为：\n$$ \\mathcal{L}(x,y,t,L,L_x,L_y) = \\frac{\\alpha}{2} (L - (L_0 + G))^2 + \\lambda \\sqrt{L_x^2 + L_y^2 + \\varepsilon^2} $$\n为了找到使 $E[L]$ 达到驻点的函数 $L(x,y,t)$，我们使用变分法。对于这种形式的泛函，其欧拉-拉格朗日方程为：\n$$ \\frac{\\partial \\mathcal{L}}{\\partial L} - \\frac{\\partial}{\\partial x}\\left(\\frac{\\partial \\mathcal{L}}{\\partial L_x}\\right) - \\frac{\\partial}{\\partial y}\\left(\\frac{\\partial \\mathcal{L}}{\\partial L_y}\\right) = 0 $$\n请注意，拉格朗日量 $\\mathcal{L}$ 不包含任何 $L$ 的时间导数，例如 $\\frac{\\partial L}{\\partial t}$。因此，欧拉-拉格朗日形式主义不会产生任何包含作用于 $\\mathcal{L}$ 导数的时间导数的项。时间变量 $t$ 充当一个参数，对于每个 $t$，我们求解一个空间变分问题。问题中关于自然边界条件的假设确保了由分部积分产生的边界项为零。\n\n我们计算拉格朗日量 $\\mathcal{L}$ 所需的偏导数：\n1.  关于 $L$ 的偏导数：\n    $$ \\frac{\\partial \\mathcal{L}}{\\partial L} = \\alpha \\left( L(x,y,t) - (L_0(x,y) + G(x,y,t)) \\right) $$\n2.  关于 $L$ 的空间梯度分量的偏导数：\n    $$ \\frac{\\partial \\mathcal{L}}{\\partial L_x} = \\lambda \\frac{\\partial}{\\partial L_x} \\left( \\sqrt{L_x^2 + L_y^2 + \\varepsilon^2} \\right) = \\lambda \\frac{2L_x}{2\\sqrt{L_x^2 + L_y^2 + \\varepsilon^2}} = \\frac{\\lambda L_x}{\\sqrt{|\\nabla L|^2 + \\varepsilon^2}} $$\n    $$ \\frac{\\partial \\mathcal{L}}{\\partial L_y} = \\lambda \\frac{\\partial}{\\partial L_y} \\left( \\sqrt{L_x^2 + L_y^2 + \\varepsilon^2} \\right) = \\lambda \\frac{2L_y}{2\\sqrt{L_x^2 + L_y^2 + \\varepsilon^2}} = \\frac{\\lambda L_y}{\\sqrt{|\\nabla L|^2 + \\varepsilon^2}} $$\n\n现在，将这些导数代入欧拉-拉格朗日方程得到：\n$$ \\alpha(L - L_0 - G) - \\frac{\\partial}{\\partial x}\\left( \\frac{\\lambda L_x}{\\sqrt{L_x^2 + L_y^2 + \\varepsilon^2}} \\right) - \\frac{\\partial}{\\partial y}\\left( \\frac{\\lambda L_y}{\\sqrt{L_x^2 + L_y^2 + \\varepsilon^2}} \\right) = 0 $$\n这个方程可以使用矢量微积分符号更紧凑地表示。空间梯度为 $\\nabla L = (L_x, L_y)$，空间散度算子为 $\\nabla \\cdot$。表达式变为：\n$$ \\alpha(L(x,y,t) - L_0(x,y) - G(x,y,t)) - \\nabla \\cdot \\left( \\frac{\\lambda \\nabla L(x,y,t)}{\\sqrt{|\\nabla L(x,y,t)|^2 + \\varepsilon^2}} \\right) = 0 $$\n这就是描述所定义能量泛函驻点的欧拉-拉格朗日方程。它是一个关于对数强度函数 $L(x,y,t)$ 的非线性偏微分方程。对于任意给定的时间 $t$，这个方程是关于空间变量 $(x,y)$ 的一个椭圆型偏微分方程。",
            "answer": "$$\\boxed{\\alpha \\left( L(x,y,t) - L_0(x,y) - G(x,y,t) \\right) - \\lambda \\nabla \\cdot \\left( \\frac{\\nabla L(x,y,t)}{\\sqrt{|\\nabla L(x,y,t)|^2 + \\varepsilon^2}} \\right) = 0}$$"
        }
    ]
}