{
    "hands_on_practices": [
        {
            "introduction": "This first exercise establishes the fundamental connection between a capacitor's current waveform and its resulting voltage ripple. By working from first principles with a standard triangular current—a common approximation for the ripple current in many converters—you will derive the exact expressions for peak-to-peak voltage ripple and RMS current stress . Mastering this direct application of the capacitor's constitutive law, $i_C = C \\frac{dv_C}{dt}$, is essential for component selection and basic converter design.",
            "id": "3825580",
            "problem": "A synchronous buck converter in continuous conduction mode drives an output capacitor of capacitance $C$. Over one switching period $T$, the capacitor current $i_{C}(t)$ produced by the power stage and inductor dynamics is well-approximated as a symmetric triangular waveform about zero, with peak magnitude $\\hat{I}$ and zero average over each period (capacitor charge balance). Explicitly, assume\n$$\ni_{C}(t)=\\begin{cases}\n-\\hat{I}+\\dfrac{4\\hat{I}}{T}\\,t, & 0\\leq t<\\dfrac{T}{2}, \\\\ [6pt]\n\\hat{I}-\\dfrac{4\\hat{I}}{T}\\,\\bigl(t-\\dfrac{T}{2}\\bigr), & \\dfrac{T}{2}\\leq t<T,\n\\end{cases}\n$$\nand $i_{C}(t+T)=i_{C}(t)$ for all $t$. Starting from first principles, namely the capacitor constitutive law $i_{C}(t)=C\\,\\dfrac{dv_{C}(t)}{dt}$ and the definition of the Root-Mean-Square (RMS) value $I_{\\mathrm{RMS}}=\\sqrt{\\dfrac{1}{T}\\int_{0}^{T}i_{C}^{2}(t)\\,dt}$, derive exact closed-form expressions for:\n1. the peak-to-peak capacitor voltage ripple $\\Delta v_{C}$ over one period, and\n2. the RMS ripple current of the capacitor.\n\nExpress your final results solely in terms of $\\hat{I}$, $C$, and $T$. Express $\\Delta v_{C}$ in $\\mathrm{V}$ and the RMS ripple current in $\\mathrm{A}$. No numerical rounding is required; provide exact analytical expressions.",
            "solution": "The problem is subjected to validation against the specified criteria.\n\n### Step 1: Extract Givens\n- **System**: A synchronous buck converter in continuous conduction mode.\n- **Component**: Output capacitor with capacitance $C$.\n- **Time Scale**: Switching period $T$.\n- **Capacitor Current Waveform**:\n  - A symmetric triangular waveform about zero with peak magnitude $\\hat{I}$ and zero average over one period.\n  - The explicit mathematical form for $t \\in [0, T)$ is given by:\n  $$\n  i_{C}(t)=\\begin{cases}\n  -\\hat{I}+\\dfrac{4\\hat{I}}{T}\\,t, & 0\\leq t<\\dfrac{T}{2}, \\\\ [6pt]\n  \\hat{I}-\\dfrac{4\\hat{I}}{T}\\,\\bigl(t-\\dfrac{T}{2}\\bigr), & \\dfrac{T}{2}\\leq t<T.\n  \\end{cases}\n  $$\n- **Periodicity**: $i_{C}(t+T)=i_{C}(t)$ for all $t$.\n- **Governing Principles**:\n  - Capacitor constitutive law: $i_{C}(t)=C\\,\\dfrac{dv_{C}(t)}{dt}$.\n  - Definition of Root-Mean-Square (RMS) value: $I_{\\mathrm{RMS}}=\\sqrt{\\dfrac{1}{T}\\int_{0}^{T}i_{C}^{2}(t)\\,dt}$.\n- **Required Outputs**:\n  1. An exact closed-form expression for the peak-to-peak capacitor voltage ripple, $\\Delta v_{C}$.\n  2. An exact closed-form expression for the RMS ripple current of the capacitor.\n- **Output Constraints**: The final results must be expressed solely in terms of $\\hat{I}$, $C$, and $T$.\n\n### Step 2: Validate Using Extracted Givens\n1.  **Scientific Grounding**: The problem is scientifically sound. The description of the capacitor current as a symmetric triangular waveform is a standard and valid approximation for a buck converter in continuous conduction mode where $i_C(t) = i_L(t) - I_{out}$. The inductor current $i_L(t)$ is approximately a triangular wave centered on the average output current $I_{out}$, making $i_C(t)$ a triangular wave centered on zero. The principles cited ($i=C\\,dv/dt$ and the definition of RMS) are fundamental to circuit theory and signal analysis.\n2.  **Well-Posedness**: The problem is well-posed. The capacitor current $i_C(t)$ is a well-defined, piecewise continuous function. The information provided is sufficient to uniquely determine the two requested quantities, $\\Delta v_C$ and $I_\\mathrm{RMS}$, through direct application of calculus.\n3.  **Consistency**: The givens are self-consistent. The problem states that the current has a zero average. We can verify this: the integral of $i_C(t)$ over $[0, T]$ corresponds to the net area under the waveform. For the interval $[0, T/2]$, the area is that of a triangle from $0$ to $T/4$ (negative area) and a triangle from $T/4$ to $T/2$ (positive area). The areas are $-\\frac{1}{2}(\\frac{T}{4})\\hat{I}$ and $+\\frac{1}{2}(\\frac{T}{4})\\hat{I}$, summing to zero. By symmetry, the integral over $[T/2, T]$ is also zero. Thus, the total integral over $[0, T]$ is zero, confirming a zero average value and satisfying the principle of capacitor charge balance over a steady-state period. The function is continuous at $t=T/2$.\n4.  **Objectivity and Clarity**: The problem is stated using precise, objective mathematical and technical language. There are no ambiguities in the definitions or requirements.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid** as it is scientifically grounded, self-consistent, well-posed, and an objective application of fundamental principles in power electronics. A full solution will be provided.\n\n### Solution Derivations\n\nThe solution will be derived in two parts, corresponding to the two quantities requested.\n\n**1. Peak-to-Peak Capacitor Voltage Ripple, $\\Delta v_{C}$**\n\nThe relationship between capacitor current $i_{C}(t)$ and capacitor voltage $v_{C}(t)$ is given by the constitutive law:\n$$\ni_{C}(t) = C\\,\\dfrac{dv_{C}(t)}{dt}\n$$\nThis implies that the change in capacitor voltage over a time interval is proportional to the integral of the capacitor current over that same interval:\n$$\nv_{C}(t_2) - v_{C}(t_1) = \\dfrac{1}{C}\\int_{t_1}^{t_2} i_{C}(\\tau)\\,d\\tau\n$$\nThe peak-to-peak voltage ripple, $\\Delta v_{C}$, is the difference between the maximum and minimum voltage values over one switching period, $\\Delta v_{C} = v_{C,max} - v_{C,min}$. The extrema of $v_{C}(t)$ occur when its derivative is zero, which means $\\dfrac{dv_{C}(t)}{dt}=0$. From the constitutive law, this happens when $i_{C}(t)=0$.\n\nWe locate the zero-crossings of $i_{C}(t)$:\n- For $t \\in [0, T/2)$, $i_{C}(t) = -\\hat{I}+\\dfrac{4\\hat{I}}{T}\\,t = 0 \\implies \\dfrac{4\\hat{I}}{T}\\,t = \\hat{I} \\implies t = \\dfrac{T}{4}$.\n- For $t \\in [T/2, T)$, $i_{C}(t) = \\hat{I}-\\dfrac{4\\hat{I}}{T}\\,\\bigl(t-\\dfrac{T}{2}\\bigr) = 0 \\implies \\hat{I} = \\dfrac{4\\hat{I}}{T}\\,\\bigl(t-\\dfrac{T}{2}\\bigr) \\implies \\dfrac{T}{4} = t-\\dfrac{T}{2} \\implies t = \\dfrac{3T}{4}$.\n\nThe current $i_{C}(t)$ is negative for $t \\in [0, T/4)$ and positive for $t \\in (T/4, 3T/4)$. Consequently, the voltage $v_{C}(t)$ decreases to a minimum at $t=T/4$ and then increases to a maximum at $t=3T/4$.\n\nThe peak-to-peak voltage ripple is therefore the total change in voltage from $t=T/4$ to $t=3T/4$:\n$$\n\\Delta v_{C} = v_{C}\\left(\\frac{3T}{4}\\right) - v_{C}\\left(\\frac{T}{4}\\right) = \\dfrac{1}{C}\\int_{T/4}^{3T/4} i_{C}(t)\\,dt\n$$\nThis integral represents the total charge accumulated by the capacitor during the interval when the current is positive. Geometrically, this is the area under the $i_{C}(t)$ curve from $t=T/4$ to $t=3T/4$. The shape is a triangle with base width $b = \\dfrac{3T}{4} - \\dfrac{T}{4} = \\dfrac{T}{2}$ and height $h = \\hat{I}$ (occurring at $t=T/2$).\n\nThe area of this triangle is:\n$$\n\\text{Area} = \\dfrac{1}{2} \\times \\text{base} \\times \\text{height} = \\dfrac{1}{2} \\times \\dfrac{T}{2} \\times \\hat{I} = \\dfrac{\\hat{I}T}{4}\n$$\nSubstituting this area into the expression for $\\Delta v_{C}$:\n$$\n\\Delta v_{C} = \\dfrac{1}{C} \\left( \\dfrac{\\hat{I}T}{4} \\right) = \\dfrac{\\hat{I}T}{4C}\n$$\n\n**2. RMS Ripple Current of the Capacitor, $I_{\\mathrm{RMS}}$**\n\nThe RMS value of the capacitor current is defined as:\n$$\nI_{\\mathrm{RMS}} = \\sqrt{\\dfrac{1}{T}\\int_{0}^{T}i_{C}^{2}(t)\\,dt}\n$$\nWe first compute the integral of $i_{C}^{2}(t)$ over one period. Due to the symmetry of the waveform, the integral over the first half-period, $[0, T/2]$, is identical to the integral over the second half-period, $[T/2, T]$. Therefore:\n$$\n\\int_{0}^{T} i_{C}^{2}(t)\\,dt = 2 \\int_{0}^{T/2} i_{C}^{2}(t)\\,dt\n$$\nFor the interval $t \\in [0, T/2]$, we have $i_{C}(t) = -\\hat{I}+\\dfrac{4\\hat{I}}{T}\\,t$.\n$$\n\\int_{0}^{T/2} i_{C}^{2}(t)\\,dt = \\int_{0}^{T/2} \\left(-\\hat{I}+\\dfrac{4\\hat{I}}{T}\\,t\\right)^2 dt = \\hat{I}^2 \\int_{0}^{T/2} \\left(-1+\\dfrac{4}{T}\\,t\\right)^2 dt\n$$\nExpanding the squared term:\n$$\n\\hat{I}^2 \\int_{0}^{T/2} \\left(1 - \\dfrac{8}{T}\\,t + \\dfrac{16}{T^2}\\,t^2\\right) dt\n$$\nPerforming the integration:\n$$\n= \\hat{I}^2 \\left[ t - \\dfrac{8}{T}\\dfrac{t^2}{2} + \\dfrac{16}{T^2}\\dfrac{t^3}{3} \\right]_{0}^{T/2}\n$$\n$$\n= \\hat{I}^2 \\left[ \\left(\\dfrac{T}{2}\\right) - \\dfrac{4}{T}\\left(\\dfrac{T}{2}\\right)^2 + \\dfrac{16}{3T^2}\\left(\\dfrac{T}{2}\\right)^3 - 0 \\right]\n$$\n$$\n= \\hat{I}^2 \\left[ \\dfrac{T}{2} - \\dfrac{4}{T}\\dfrac{T^2}{4} + \\dfrac{16}{3T^2}\\dfrac{T^3}{8} \\right]\n$$\n$$\n= \\hat{I}^2 \\left[ \\dfrac{T}{2} - T + \\dfrac{2T}{3} \\right] = \\hat{I}^2 \\left[ -\\dfrac{T}{2} + \\dfrac{2T}{3} \\right] = \\hat{I}^2 \\left[ \\dfrac{-3T+4T}{6} \\right] = \\hat{I}^2 \\dfrac{T}{6}\n$$\nThe total integral over one period is:\n$$\n\\int_{0}^{T} i_{C}^{2}(t)\\,dt = 2 \\times \\left(\\hat{I}^2 \\dfrac{T}{6}\\right) = \\dfrac{\\hat{I}^2 T}{3}\n$$\nNow, substitute this into the definition of the RMS value:\n$$\nI_{\\mathrm{RMS}}^2 = \\dfrac{1}{T}\\int_{0}^{T}i_{C}^{2}(t)\\,dt = \\dfrac{1}{T} \\left( \\dfrac{\\hat{I}^2 T}{3} \\right) = \\dfrac{\\hat{I}^2}{3}\n$$\nTaking the square root gives the final expression for the RMS current:\n$$\nI_{\\mathrm{RMS}} = \\sqrt{\\dfrac{\\hat{I}^2}{3}} = \\dfrac{\\hat{I}}{\\sqrt{3}}\n$$\nThis is the standard result for the RMS value of a symmetric triangular waveform with zero mean and peak value $\\hat{I}$.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} \\dfrac{\\hat{I}T}{4C} & \\dfrac{\\hat{I}}{\\sqrt{3}} \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "Moving beyond steady-state ripple, this practice explores the application of capacitor charge balance to a full system transient. You will analyze a common pre-charge circuit, where the charging process is split into two distinct phases: constant-current and resistive-capacitive ($RC$) charging . This problem highlights how to use charge balance to track the capacitor's state (voltage) over time in a system with hybrid dynamics, a crucial skill for understanding converter startup sequences and current-limiting behavior.",
            "id": "3825570",
            "problem": "A high-power converter employs a Direct Current (DC) source of voltage $V_{\\text{s}}$ to charge a DC-link capacitor of capacitance $C$ through a non-inductive series pre-charge resistor of resistance $R$. An Insulated Gate Bipolar Transistor (IGBT) under closed-loop Pulse-Width Modulation (PWM) limits the inrush current to a constant bound $I_{\\text{lim}}$ whenever the instantaneous ohmic current through the resistor would exceed $I_{\\text{lim}}$. The capacitor is initially uncharged at voltage $v_{C}(0)=0$. Neglect all semiconductor voltage drops, leakage currents, and measurement delays. The target DC-link voltage to be reached is $V_{\\text{dc}}$, with $0<V_{\\text{dc}}<V_{\\text{s}}$.\n\nThe charging dynamics obey two physical relationships: the capacitor constitutive law $i_{C}(t)=C\\,\\frac{dv_{C}(t)}{dt}$ and Ohm’s law across the series resistor $i_{R}(t)=\\frac{V_{\\text{s}}-v_{C}(t)}{R}$. The current regulator enforces $i(t)=\\min\\!\\Big(I_{\\text{lim}},\\,\\frac{V_{\\text{s}}-v_{C}(t)}{R}\\Big)$, where $i(t)$ is the capacitor charging current.\n\nUsing first principles and the capacitor charge balance concept $\\int_{0}^{t} i(\\tau)\\,d\\tau=C\\big(v_{C}(t)-v_{C}(0)\\big)$, derive the total time $t_{\\text{total}}$ required to raise the capacitor voltage from $0$ to $V_{\\text{dc}}$ under the stated constraints. Then compute $t_{\\text{total}}$ for the following parameter values:\n- $V_{\\text{s}}=800\\,\\text{V}$,\n- $V_{\\text{dc}}=700\\,\\text{V}$,\n- $R=5\\,\\Omega$,\n- $I_{\\text{lim}}=50\\,\\text{A}$,\n- $C=8\\,\\text{mF}$.\n\nExpress your final time in seconds and round your answer to four significant figures.",
            "solution": "The user wants me to solve the problem. I need to validate it first.\n\n### Step 1: Extract Givens\n-   DC source voltage: $V_{\\text{s}}$\n-   DC-link capacitor capacitance: $C$\n-   Series pre-charge resistor resistance: $R$\n-   Inrush current limit: $I_{\\text{lim}}$\n-   Initial capacitor voltage: $v_{C}(0)=0$\n-   Target DC-link voltage: $V_{\\text{dc}}$\n-   Condition: $0<V_{\\text{dc}}<V_{\\text{s}}$\n-   Capacitor constitutive law: $i_{C}(t)=C\\,\\frac{dv_{C}(t)}{dt}$\n-   Ohm's law: $i_{R}(t)=\\frac{V_{\\text{s}}-v_{C}(t)}{R}$\n-   Current regulator law: $i(t)=\\min\\!\\Big(I_{\\text{lim}},\\,\\frac{V_{\\text{s}}-v_{C}(t)}{R}\\Big)$\n-   Capacitor charge balance: $\\int_{0}^{t} i(\\tau)\\,d\\tau=C\\big(v_{C}(t)-v_{C}(0)\\big)$\n-   Numerical values:\n    -   $V_{\\text{s}}=800\\,\\text{V}$\n    -   $V_{\\text{dc}}=700\\,\\text{V}$\n    -   $R=5\\,\\Omega$\n    -   $I_{\\text{lim}}=50\\,\\text{A}$\n    -   $C=8\\,\\text{mF} = 8 \\times 10^{-3}\\,\\text{F}$\n\n### Step 2: Validate Using Extracted Givens\nThe problem statement is scientifically grounded, well-posed, and objective. It describes a standard pre-charge circuit in power electronics, a physically realistic scenario. The provided equations are fundamental principles of circuit theory. All necessary data and conditions are supplied, and they are consistent. The initial ohmic current would be $(V_{\\text{s}}-v_{C}(0))/R = (800-0)/5 = 160\\,\\text{A}$, which is greater than $I_{\\text{lim}}=50\\,\\text{A}$, correctly initiating the current-limited charging phase. The target voltage $V_{\\text{dc}}=700\\,\\text{V}$ is less than the source voltage $V_{\\text{s}}=800\\,\\text{V}$, ensuring the target is reachable. The problem is not ill-posed, ambiguous, or trivial.\n\n### Step 3: Verdict and Action\nThe problem is valid. A full solution will be provided.\n\nThe charging process for the capacitor is governed by the charging current $i(t)=\\min\\!\\Big(I_{\\text{lim}},\\,\\frac{V_{\\text{s}}-v_{C}(t)}{R}\\Big)$. This indicates that the process occurs in two distinct phases.\n\nPhase 1: Constant Current Charging\nThis phase occurs as long as the potential ohmic current is greater than or equal to the regulated limit. This condition is $\\frac{V_{\\text{s}}-v_{C}(t)}{R} \\ge I_{\\text{lim}}$. The charging starts at $t=0$ with $v_{C}(0)=0$. At this instant, the condition $\\frac{V_{\\text{s}}}{R} > I_{\\text{lim}}$ holds, as calculated with the given values: $\\frac{800\\,\\text{V}}{5\\,\\Omega} = 160\\,\\text{A} > 50\\,\\text{A}$. Therefore, the charging begins in the constant current mode, where the current is $i(t) = I_{\\text{lim}}$.\n\nThis phase continues until the capacitor voltage $v_{C}(t)$ rises to a transition voltage, $V_{\\text{trans}}$, at which the ohmic current naturally equals the current limit:\n$$ \\frac{V_{\\text{s}} - V_{\\text{trans}}}{R} = I_{\\text{lim}} $$\nSolving for $V_{\\text{trans}}$ gives:\n$$ V_{\\text{trans}} = V_{\\text{s}} - R I_{\\text{lim}} $$\nThe duration of this phase, $t_1$, can be found using the capacitor charge balance principle. The capacitor voltage increases from $v_{C}(0)=0$ to $v_{C}(t_1)=V_{\\text{trans}}$ with a constant current $I_{\\text{lim}}$.\n$$ \\int_{0}^{t_1} i(\\tau)\\,d\\tau = C \\big( v_{C}(t_1) - v_{C}(0) \\big) $$\n$$ \\int_{0}^{t_1} I_{\\text{lim}}\\,d\\tau = C (V_{\\text{trans}} - 0) $$\n$$ I_{\\text{lim}} t_{1} = C V_{\\text{trans}} $$\n$$ t_1 = \\frac{C V_{\\text{trans}}}{I_{\\text{lim}}} = \\frac{C(V_{\\text{s}} - R I_{\\text{lim}})}{I_{\\text{lim}}} $$\nWe must verify that the target voltage $V_{\\text{dc}}$ is not reached within this phase. This requires checking if $V_{\\text{dc}} > V_{\\text{trans}}$.\nUsing the given values: $V_{\\text{trans}} = 800\\,\\text{V} - (5\\,\\Omega \\times 50\\,\\text{A}) = 800\\,\\text{V} - 250\\,\\text{V} = 550\\,\\text{V}$.\nSince $V_{\\text{dc}} = 700\\,\\text{V}$, we have $V_{\\text{dc}} > V_{\\text{trans}}$, confirming that the process must enter a second phase.\n\nPhase 2: Ohmic (RC) Charging\nThis phase starts at time $t_1$ with the capacitor voltage at $V_{\\text{trans}}$. For $t > t_1$, the condition $\\frac{V_{\\text{s}}-v_{C}(t)}{R} < I_{\\text{lim}}$ holds, and the PWM regulation becomes inactive. The charging current is then determined by Ohm's law:\n$$ i(t) = \\frac{V_{\\text{s}} - v_{C}(t)}{R} $$\nCombining this with the capacitor's constitutive law, $i(t) = C \\frac{dv_{C}}{dt}$, we get the governing differential equation for this phase:\n$$ C \\frac{dv_{C}}{dt} = \\frac{V_{\\text{s}} - v_{C}}{R} $$\nTo find the duration of this phase, $t_2$, we can separate variables and integrate. The voltage changes from $V_{\\text{trans}}$ at time $t_1$ to $V_{\\text{dc}}$ at time $t_{\\text{total}} = t_1 + t_2$.\n$$ \\frac{dv_C}{V_{\\text{s}} - v_C} = \\frac{dt}{RC} $$\nIntegrating over the phase from its start ($t=t_1, v_C=V_{\\text{trans}}$) to its end ($t=t_{\\text{total}}, v_C=V_{\\text{dc}}$):\n$$ \\int_{V_{\\text{trans}}}^{V_{\\text{dc}}} \\frac{1}{V_{\\text{s}} - v_C}\\,dv_C = \\int_{t_1}^{t_{\\text{total}}} \\frac{1}{RC}\\,dt $$\n$$ \\Big[ -\\ln(V_{\\text{s}} - v_C) \\Big]_{V_{\\text{trans}}}^{V_{\\text{dc}}} = \\frac{1}{RC} (t_{\\text{total}} - t_1) $$\n$$ -\\ln(V_{\\text{s}} - V_{\\text{dc}}) + \\ln(V_{\\text{s}} - V_{\\text{trans}}) = \\frac{t_2}{RC} $$\nwhere $t_2 = t_{\\text{total}} - t_1$.\n$$ \\ln\\left(\\frac{V_{\\text{s}} - V_{\\text{trans}}}{V_{\\text{s}} - V_{\\text{dc}}}\\right) = \\frac{t_2}{RC} $$\nSolving for $t_2$:\n$$ t_2 = RC \\ln\\left(\\frac{V_{\\text{s}} - V_{\\text{trans}}}{V_{\\text{s}} - V_{\\text{dc}}}\\right) $$\nSubstituting $V_{\\text{trans}} = V_{\\text{s}} - R I_{\\text{lim}}$, we get $V_{\\text{s}} - V_{\\text{trans}} = R I_{\\text{lim}}$.\n$$ t_2 = RC \\ln\\left(\\frac{R I_{\\text{lim}}}{V_{\\text{s}} - V_{\\text{dc}}}\\right) $$\n\nTotal Time\nThe total time to reach $V_{\\text{dc}}$ is the sum of the durations of the two phases, $t_{\\text{total}} = t_1 + t_2$.\n$$ t_{\\text{total}} = \\frac{C(V_{\\text{s}} - R I_{\\text{lim}})}{I_{\\text{lim}}} + RC \\ln\\left(\\frac{R I_{\\text{lim}}}{V_{\\text{s}} - V_{\\text{dc}}}\\right) $$\nNow, we substitute the given numerical values:\n$V_{\\text{s}}=800\\,\\text{V}$, $V_{\\text{dc}}=700\\,\\text{V}$, $R=5\\,\\Omega$, $I_{\\text{lim}}=50\\,\\text{A}$, $C=8\\,\\text{mF} = 8 \\times 10^{-3}\\,\\text{F}$.\n\nFirst, calculate $t_1$:\n$$ t_1 = \\frac{(8 \\times 10^{-3}\\,\\text{F})(800\\,\\text{V} - 5\\,\\Omega \\times 50\\,\\text{A})}{50\\,\\text{A}} = \\frac{(8 \\times 10^{-3})(800 - 250)}{50}\\,\\text{s} $$\n$$ t_1 = \\frac{(8 \\times 10^{-3})(550)}{50}\\,\\text{s} = \\frac{4.4}{50}\\,\\text{s} = 0.088\\,\\text{s} $$\nNext, calculate $t_2$:\n$$ t_2 = (5\\,\\Omega)(8 \\times 10^{-3}\\,\\text{F}) \\ln\\left(\\frac{5\\,\\Omega \\times 50\\,\\text{A}}{800\\,\\text{V} - 700\\,\\text{V}}\\right) $$\n$$ t_2 = 0.04\\,\\text{s} \\times \\ln\\left(\\frac{250}{100}\\right) = 0.04 \\ln(2.5)\\,\\text{s} $$\nUsing the value $\\ln(2.5) \\approx 0.91629$:\n$$ t_2 \\approx 0.04 \\times 0.91629\\,\\text{s} \\approx 0.0366516\\,\\text{s} $$\nFinally, the total time is:\n$$ t_{\\text{total}} = t_1 + t_2 \\approx 0.088\\,\\text{s} + 0.0366516\\,\\text{s} \\approx 0.1246516\\,\\text{s} $$\nRounding the result to four significant figures as requested gives $0.1247\\,\\text{s}$.",
            "answer": "$$ \\boxed{0.1247} $$"
        },
        {
            "introduction": "This advanced problem challenges you to apply charge balance principles to model the dynamics of a buck converter operating in Discontinuous Conduction Mode (DCM). Instead of assuming steady-state, you will derive an expression for the net change in capacitor voltage over a single switching cycle . This exercise demonstrates a powerful technique where charge balance is used not just to find ripple, but to build a dynamic equation that forms the basis for state-space averaging and control design.",
            "id": "3825555",
            "problem": "Consider an ideal buck converter operating in Discontinuous Conduction Mode (DCM), defined as the regime in which the inductor current becomes exactly zero before the end of each switching period. The converter consists of a constant input voltage source $V_{g}$, an inductor $L$, a capacitor $C$ connected in parallel with a resistive load $R$, and an ideal power switch and diode. The switching period is $T_{s}$, and during each period the switch is turned on for a duration $D T_{s}$ where $D \\in (0,1)$ is the duty ratio. Assume the capacitor is sufficiently large that the output voltage $v_{C}(t)$ varies slowly over one switching cycle, such that it can be treated as approximately constant and equal to $V_{o}$ within a single cycle, but it may change from one cycle to the next. Assume all parasitic resistances and semiconductor voltage drops are negligible, and the inductor current $i_{L}(t)$ starts the cycle at zero, $i_{L}(0) = 0$, and returns to zero once during the cycle.\n\nUsing only the fundamental laws $v_{L}(t) = L \\, \\frac{di_{L}(t)}{dt}$ and $i_{C}(t) = C \\, \\frac{dv_{C}(t)}{dt}$, together with Kirchhoff’s Current Law (KCL) at the output node, derive the exact piecewise expression for the capacitor current $i_{C}(t)$ over the three subintervals of one switching period in DCM: \n$0 \\leq t < D T_{s}$ (switch on), \n$D T_{s} \\leq t < (D + \\delta) T_{s}$ (diode on), and \n$(D + \\delta) T_{s} \\leq t < T_{s}$ (both switch and diode off),\nwhere $\\delta \\in (0,1-D)$ is the fraction of the period in which the diode conducts and is determined by the condition that the inductor current returns to zero exactly at $t = (D + \\delta) T_{s}$.\n\nThen, using your derived $i_{C}(t)$, compute the exact per-cycle capacitor voltage change \n$\\Delta v_{C} \\triangleq v_{C}(T_{s}) - v_{C}(0)$ \nas a closed-form analytic expression in terms of $V_{g}$, $L$, $C$, $R$, $T_{s}$, $D$, and $V_{o}$. Do not assume periodic steady state in this computation; the result should be valid for any given $V_{o}$. Express the final answer as a single analytic expression. No numerical evaluation is required, and no rounding is needed. Do not include units in the final answer box.",
            "solution": "The problem asks for the piecewise expression for the capacitor current $i_C(t)$ and the net change in capacitor voltage $\\Delta v_C$ over one switching cycle $T_s$. We analyze the circuit's operation over the three subintervals defined in DCM. The analysis is performed under the small-ripple approximation, where the output voltage $v_C(t)$ is considered constant at $V_o$ for calculating currents within a single cycle.\n\n**1. Derivation of Capacitor Current $i_C(t)$**\n\n*   **Interval 1: $0 \\le t  DT_s$ (Switch ON)**\n    The inductor is connected across the voltage $V_g - V_o$. Starting from $i_L(0) = 0$, the inductor current ramps up linearly:\n    $$ i_L(t) = \\frac{V_g - V_o}{L} t $$\n    By KCL at the output node, $i_C(t) = i_L(t) - i_R(t)$. The load current is $i_R(t) = V_o / R$. Thus, the capacitor current is:\n    $$ i_C(t) = \\frac{V_g - V_o}{L} t - \\frac{V_o}{R} $$\n\n*   **Interval 2: $DT_s \\le t  (D+\\delta)T_s$ (Diode ON)**\n    The switch is off, and the inductor current freewheels through the diode, applying a voltage of $-V_o$ across the inductor. The inductor current ramps down from its peak value, $i_{L,pk} = i_L(DT_s) = \\frac{V_g-V_o}{L}DT_s$:\n    $$ i_L(t) = i_{L,pk} - \\frac{V_o}{L}(t - DT_s) = \\frac{V_g - V_o}{L} DT_s - \\frac{V_o}{L}(t - DT_s) $$\n    The capacitor current is again $i_C(t) = i_L(t) - V_o/R$:\n    $$ i_C(t) = \\frac{V_g - V_o}{L} DT_s - \\frac{V_o}{L}(t - DT_s) - \\frac{V_o}{R} $$\n    This interval ends when $i_L(t)$ reaches zero at $t = (D+\\delta)T_s$. Setting $i_L((D+\\delta)T_s) = 0$ allows us to solve for $\\delta$:\n    $$ 0 = \\frac{V_g - V_o}{L} DT_s - \\frac{V_o}{L} \\delta T_s \\implies \\delta = \\frac{D(V_g - V_o)}{V_o} $$\n\n*   **Interval 3: $(D+\\delta)T_s \\le t  T_s$ (Discontinuous/OFF state)**\n    Both the switch and diode are off, so the inductor current is zero: $i_L(t) = 0$. The capacitor supplies the full load current:\n    $$ i_C(t) = -i_R(t) = -\\frac{V_o}{R} $$\n\n**Summary of $i_C(t)$:**\nThe piecewise expression for the capacitor current over one cycle is:\n$$\ni_C(t) = \\begin{cases}\n\\frac{V_g - V_o}{L} t - \\frac{V_o}{R},  0 \\le t  DT_s \\\\\n\\frac{V_g - V_o}{L} DT_s - \\frac{V_o}{L}(t - DT_s) - \\frac{V_o}{R},  DT_s \\le t  (D+\\delta)T_s \\\\\n-\\frac{V_o}{R},  (D+\\delta)T_s \\le t  T_s\n\\end{cases}\n$$\n\n**2. Calculation of Capacitor Voltage Change $\\Delta v_C$**\n\nThe net change in capacitor voltage over one period is found by integrating the capacitor current, based on the principle of charge balance:\n$$ \\Delta v_C = v_C(T_s) - v_C(0) = \\frac{1}{C} \\int_0^{T_s} i_C(t) \\,dt $$\nA more direct approach is to integrate the net charge source: $\\int i_C dt = \\int (i_L - i_R) dt = \\int i_L dt - \\int i_R dt$.\n\nThe total charge supplied by the inductor, $\\int_0^{T_s} i_L(t) dt$, is the area of the triangular inductor current waveform. The base of the triangle is $(D+\\delta)T_s$ and the height is the peak current $i_{L,pk}$.\n$$ \\int_0^{T_s} i_L(t) \\,dt = \\frac{1}{2} \\times \\text{base} \\times \\text{height} = \\frac{1}{2} (D+\\delta)T_s \\cdot i_{L,pk} $$\nSubstituting the expressions for $\\delta$ and $i_{L,pk}$:\n$$ D+\\delta = D \\left(1 + \\frac{V_g-V_o}{V_o}\\right) = D\\frac{V_g}{V_o} $$\n$$ i_{L,pk} = \\frac{V_g - V_o}{L} DT_s $$\nThe integral becomes:\n$$ \\int_0^{T_s} i_L(t) \\,dt = \\frac{1}{2} \\left(D\\frac{V_g}{V_o} T_s\\right) \\left(\\frac{V_g - V_o}{L} DT_s\\right) = \\frac{D^2 T_s^2 V_g (V_g - V_o)}{2 L V_o} $$\n\nThe total charge drawn by the load resistor is:\n$$ \\int_0^{T_s} i_R(t) \\,dt = \\int_0^{T_s} \\frac{V_o}{R} \\,dt = \\frac{V_o T_s}{R} $$\n\nThe net charge accumulated by the capacitor, $\\Delta Q_C$, is the difference between these two quantities:\n$$ \\Delta Q_C = \\frac{D^2 T_s^2 V_g (V_g - V_o)}{2 L V_o} - \\frac{V_o T_s}{R} $$\nFinally, the change in capacitor voltage is $\\Delta v_C = \\Delta Q_C / C$:\n$$ \\Delta v_C = \\frac{1}{C} \\left( \\frac{D^2 T_s^2 V_g (V_g - V_o)}{2 L V_o} - \\frac{V_o T_s}{R} \\right) $$\nThis is the required expression. In periodic steady state, $\\Delta v_C = 0$, which allows solving for the steady-state voltage conversion ratio in DCM.",
            "answer": "$$ \\boxed{ \\frac{1}{C} \\left( \\frac{D^{2} T_{s}^{2} V_{g} (V_{g} - V_{o})}{2 L V_{o}} - \\frac{V_{o} T_{s}}{R} \\right) } $$"
        }
    ]
}