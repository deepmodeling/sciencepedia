{
    "hands_on_practices": [
        {
            "introduction": "Understanding the boost converter begins with its ideal behavior in Continuous Conduction Mode (CCM). This first practice challenges you to derive the fundamental operating characteristics from first principles, specifically inductor volt-second balance and the conservation of power. Mastering this idealized model () is crucial as it provides the essential framework for the voltage conversion ratio and current relationships upon which all more complex, non-ideal analyses are built.",
            "id": "3823749",
            "problem": "An ideal step-up direct current (DC) boost converter supplies a purely resistive load from a lower-magnitude source under continuous conduction mode (CCM). The semiconductor switch and diode are ideal, the inductor and capacitor are ideal, and steady state has been reached with negligible output ripple due to a sufficiently large capacitance. The converter is required to produce a regulated output voltage of magnitude $V_{o}$ from an input source of magnitude $V_{in}$ while delivering power to a load resistance $R$. Assume no losses anywhere in the converter, no parasitic resistances, and perfect gating such that the duty ratio is constant in steady state.\n\nGiven $V_{in} = 48~\\mathrm{V}$, $V_{o} = 200~\\mathrm{V}$, and $R = 500~\\Omega$, determine, from first principles grounded in Kirchhoff’s laws and steady-state energy and charge balance, the steady-state duty ratio $D$ and the inductor average current $I_{L}$ for ideal CCM operation.\n\nExpress the duty ratio $D$ as a unitless exact rational number and the inductor average current $I_{L}$ in amperes as an exact rational number. Do not round. Provide your final answer as a single ordered pair $\\left(D, I_{L}\\right)$.",
            "solution": "The problem is subjected to validation against the specified criteria.\n\n### Step 1: Extract Givens\n- Converter type: Ideal step-up direct current (DC) boost converter.\n- Operating mode: Continuous conduction mode (CCM).\n- Load: Purely resistive load, $R = 500~\\Omega$.\n- Component properties: Semiconductor switch, diode, inductor, and capacitor are ideal. Capacitor is sufficiently large for negligible output voltage ripple.\n- System state: Steady state.\n- Input voltage: $V_{in} = 48~\\mathrm{V}$.\n- Output voltage: $V_{o} = 200~\\mathrm{V}$.\n- Assumptions: No losses, no parasitic resistances, constant duty ratio $D$.\n- Required quantities: Steady-state duty ratio $D$ and average inductor current $I_{L}$.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded, well-posed, and objective. It describes a standard circuit from power electronics, the ideal boost converter, and asks for fundamental operating parameters. The provided values are self-consistent ($V_o > V_{in}$ is a requirement for a boost converter) and sufficient for a unique solution. The assumptions of ideal components and steady-state CCM operation are standard for a first-principles analysis. The problem is formal, complete, and does not violate any physical laws within its idealized framework.\n\n### Step 3: Verdict and Action\nThe problem is valid. A solution will be derived from first principles.\n\n### Solution Derivation\n\nThe analysis proceeds by applying fundamental principles of circuit theory to the two distinct operating states of the boost converter during one switching period, $T_s$. The duty ratio, $D$, represents the fraction of the period for which the main switch is closed (ON).\n\n**1. Derivation of the Duty Ratio, $D$**\n\nThe derivation of the voltage conversion ratio relies on the principle of inductor volt-second balance. In steady-state operation, the time-average voltage across the inductor over one complete switching period must be zero.\n$$\n\\langle v_L \\rangle = \\frac{1}{T_s} \\int_{0}^{T_s} v_L(t) \\, dt = 0\n$$\n\nThe switching period $T_s$ is divided into two intervals:\n- **Interval 1: $0 \\le t < DT_s$ (Switch ON)**\n  When the switch is ON, it provides a low-resistance path to ground. The input voltage source $V_{in}$ is applied directly across the ideal inductor $L$. The diode is reverse-biased by the output voltage $V_o$.\n  $$\n  v_L(t) = V_{in}\n  $$\n- **Interval 2: $DT_s \\le t < T_s$ (Switch OFF)**\n  When the switch is OFF, the inductor current continues to flow, forcing the diode to become forward-biased. Applying Kirchhoff's Voltage Law (KVL) to the loop containing the source, inductor, diode, and output yields:\n  $$\n  -V_{in} + v_L(t) + V_o = 0\n  $$\n  Since the diode is ideal, its forward voltage drop is zero. Therefore, the voltage across the inductor is:\n  $$\n  v_L(t) = V_{in} - V_o\n  $$\n\nApplying the volt-second balance principle:\n$$\n\\int_{0}^{T_s} v_L(t) \\, dt = \\int_{0}^{DT_s} V_{in} \\, dt + \\int_{DT_s}^{T_s} (V_{in} - V_o) \\, dt = 0\n$$\n$$\n(V_{in})(DT_s) + (V_{in} - V_o)(T_s - DT_s) = 0\n$$\nSince $T_s \\neq 0$, we can divide the equation by $T_s$:\n$$\nV_{in}D + (V_{in} - V_o)(1 - D) = 0\n$$\n$$\nV_{in}D + V_{in} - V_{in}D - V_o + V_o D = 0\n$$\n$$\nV_{in} - V_o + V_o D = 0\n$$\nSolving for the duty ratio $D$:\n$$\nV_o D = V_o - V_{in}\n$$\n$$\nD = \\frac{V_o - V_{in}}{V_o} = 1 - \\frac{V_{in}}{V_o}\n$$\nSubstituting the given values $V_{in} = 48~\\mathrm{V}$ and $V_{o} = 200~\\mathrm{V}$:\n$$\nD = 1 - \\frac{48}{200} = 1 - \\frac{12}{50} = 1 - \\frac{6}{25} = \\frac{25-6}{25} = \\frac{19}{25}\n$$\n\n**2. Derivation of the Average Inductor Current, $I_L$**\n\nThe average inductor current $I_L$ is determined from the principle of conservation of energy. Since the converter is stated to be ideal, there are no power losses. Therefore, the input power $P_{in}$ must equal the output power $P_o$.\n$$\nP_{in} = P_o\n$$\nThe input power is the product of the average input voltage and the average input current: $P_{in} = V_{in} I_{in}$. In the boost converter topology, the inductor is in series with the input source, so the average input current is identical to the average inductor current, $I_{in} = I_L$.\n$$\nP_{in} = V_{in} I_L\n$$\nThe output power is dissipated by the resistive load $R$. Given a constant output voltage $V_o$ (due to the large capacitor), the output power is:\n$$\nP_o = \\frac{V_o^2}{R}\n$$\nEquating input and output power:\n$$\nV_{in} I_L = \\frac{V_o^2}{R}\n$$\nSolving for the average inductor current $I_L$:\n$$\nI_L = \\frac{V_o^2}{R V_{in}}\n$$\nSubstituting the given values $V_{in} = 48~\\mathrm{V}$, $V_{o} = 200~\\mathrm{V}$, and $R = 500~\\Omega$:\n$$\nI_L = \\frac{(200)^2}{(500)(48)} = \\frac{40000}{24000} = \\frac{40}{24}\n$$\nSimplifying the fraction by dividing the numerator and denominator by their greatest common divisor, which is $8$:\n$$\nI_L = \\frac{5 \\times 8}{3 \\times 8} = \\frac{5}{3}~\\mathrm{A}\n$$\nThe ordered pair $\\left(D, I_{L}\\right)$ is therefore $\\left(\\frac{19}{25}, \\frac{5}{3}\\right)$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{19}{25} & \\frac{5}{3}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "Beyond CCM, a boost converter can operate in Discontinuous Conduction Mode (DCM), especially under light load conditions. This mode introduces a new dynamic where the voltage conversion ratio is no longer independent of the load. This exercise () guides you through deriving the DCM control law, providing critical insight into the converter's behavior and control sensitivity when the inductor current falls to zero within a switching cycle.",
            "id": "3823711",
            "problem": "An ideal step-up direct current to direct current converter (boost converter) operates in discontinuous conduction mode (DCM) under periodic pulse-width modulation with duty ratio $D \\in (0,1)$ and switching period $T_{s} = 1/f_{s}$. The converter consists of an ideal input source of voltage $V_{g} > 0$, an ideal inductor of inductance $L > 0$, an ideal diode, an ideal switch, and an output capacitor large enough that the output voltage $V_{o} > V_{g}$ may be treated as constant over a switching period. The load is a pure resistor of resistance $R > 0$. All semiconductor drops, parasitics, and ripple in $V_{o}$ are neglected. The converter is known to operate in DCM, meaning the inductor current returns to zero strictly before the end of each switching period.\n\nUsing only first principles appropriate to switched power converters—namely, (i) the inductor constitutive law $v_{L} = L\\,di_{L}/dt$ over each subinterval of the switching period, (ii) conservation of charge at the output node over one period, and (iii) the piecewise-linear triangular inductor current waveform implied by the switching action in DCM—derive a closed-form expression for the duty ratio $D^{\\star}$ required to achieve a specified target output voltage $V_{o}$ at a given $V_{g}$, $L$, $R$, and $f_{s}$, under DCM operation.\n\nThen, based on your derived expression, discuss qualitatively how $D^{\\star}$ varies with $R$ when $V_{o}$, $V_{g}$, $L$, and $f_{s}$ are held fixed, and identify the sign of the small-signal sensitivity $\\partial D/\\partial R$ at the operating point. No numerical evaluation is required.\n\nYour final answer must be a single closed-form analytic expression for $D^{\\star}$ in terms of $V_{o}$, $V_{g}$, $L$, $R$, and $f_{s}$. No rounding is needed, and no units should be included in the final boxed expression.",
            "solution": "The problem statement is first validated to ensure it is scientifically grounded, well-posed, objective, and complete.\n\n### Step 1: Extract Givens\n- Converter: Ideal step-up direct current to direct current converter (boost converter).\n- Operating Mode: Discontinuous Conduction Mode (DCM).\n- Control: Periodic pulse-width modulation with duty ratio $D \\in (0,1)$ and switching period $T_{s} = 1/f_{s}$.\n- Components: Ideal input source of voltage $V_{g} > 0$, ideal inductor of inductance $L > 0$, ideal diode, ideal switch.\n- Output: An output capacitor large enough that the output voltage $V_{o} > V_{g}$ is treated as constant.\n- Load: A pure resistor of resistance $R > 0$.\n- Simplifications: All semiconductor drops, parasitics, and ripple in $V_{o}$ are neglected.\n- Premise: The inductor current returns to zero strictly before the end of each switching period.\n- Objective 1: Derive a closed-form expression for the duty ratio $D^{\\star}$ required to achieve a specified target output voltage $V_{o}$ as a function of $V_{g}$, $L$, $R$, and $f_{s}$.\n- Objective 2: Qualitatively discuss how $D^{\\star}$ varies with $R$ when other parameters are fixed.\n- Objective 3: Identify the sign of the small-signal sensitivity $\\partial D/\\partial R$.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded, as it is based on the fundamental principles of circuit theory and power electronics, specifically the behavior of an ideal boost converter. It is a standard textbook problem. The problem is well-posed; it provides sufficient information to derive a unique expression for the requested quantity. The language is objective and precise. The conditions, such as ideal components and operation in DCM, are clearly stated and form a consistent set of assumptions for analysis. The problem is not unsound, incomplete, contradictory, or ill-posed.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid**. A reasoned solution will be provided.\n\nThe derivation proceeds from the first principles stipulated in the problem statement. The switching period $T_s$ is divided into three distinct subintervals under DCM operation.\n\n1.  **Interval 1: Switch is ON ($0 < t \\leq DT_s$)**\n    The ideal switch is closed, and the ideal diode is reverse-biased and off. The inductor is connected directly across the input voltage source $V_g$. The voltage across the inductor is therefore $v_L(t) = V_g$. According to the inductor's constitutive law, $v_L = L \\frac{di_L}{dt}$, the inductor current $i_L(t)$ increases linearly. Starting from $i_L(0)=0$ (the condition for the start of the period in DCM), the current at the end of this interval reaches its peak value, $i_{L,pk}$.\n    $$ \\frac{di_L}{dt} = \\frac{V_g}{L} $$\n    $$ i_{L,pk} = i_L(DT_s) = \\frac{V_g}{L} (DT_s) = \\frac{V_g D T_s}{L} $$\n\n2.  **Interval 2: Switch is OFF, Diode is ON ($DT_s < t \\leq (D+D_2)T_s$)**\n    The switch opens, and the inductor current, which cannot change instantaneously, forward-biases the diode. The inductor is now connected between the input source and the output. The voltage across the inductor is $v_L(t) = V_g - V_o$. Since for a boost converter $V_o > V_g$, this voltage is negative, causing the inductor current to decrease linearly. The interval ends when the inductor current reaches zero at time $t = (D+D_2)T_s$. The duration of this second interval is $D_2 T_s$.\n    $$ \\frac{di_L}{dt} = \\frac{V_g - V_o}{L} $$\n    The change in current during this interval is from $i_{L,pk}$ to $0$:\n    $$ \\Delta i_L = 0 - i_{L,pk} = \\frac{V_g - V_o}{L} (D_2 T_s) $$\n    $$ i_{L,pk} = -\\frac{V_g - V_o}{L} D_2 T_s = \\frac{V_o - V_g}{L} D_2 T_s $$\n\n3.  **Interval 3: Switch is OFF, Diode is OFF ($(D+D_2)T_s < t \\leq T_s$)**\n    Once the inductor current reaches zero, the diode turns off as there is no current to maintain it in conduction. The inductor current remains at zero for the rest of the switching period. The defining characteristic of DCM is that this interval has a non-zero duration, which implies $D + D_2 < 1$.\n\nNow, we will use these relationships to derive the expression for the duty ratio $D$. The analysis relies on two fundamental principles for steady-state operation: inductor volt-second balance and output node charge balance.\n\nFirst, by equating the two expressions derived for the peak inductor current $i_{L,pk}$:\n$$ \\frac{V_g D T_s}{L} = \\frac{(V_o - V_g) D_2 T_s}{L} $$\n$$ V_g D = (V_o - V_g) D_2 $$\nThis equation also represents the inductor volt-second balance principle, where the net change in inductor flux over one period is zero. This gives us a relationship for $D_2$:\n$$ D_2 = D \\frac{V_g}{V_o - V_g} $$\n\nSecond, we apply the principle of conservation of charge at the output node. In steady state, the average current supplied to the output node must equal the average current drawn by the load. The load current is constant: $I_o = V_o / R$. The current supplied to the output is the diode current, $i_D(t)$. This current is non-zero only during the second interval, where it is equal to the inductor current, $i_L(t)$. The waveform of $i_D(t)$ over one period is thus a triangular pulse of height $i_{L,pk}$ and duration $D_2 T_s$. The average diode current $\\langle i_D \\rangle$ is the area of this triangle divided by the period $T_s$.\n$$ \\langle i_D \\rangle = \\frac{1}{T_s} \\left( \\frac{1}{2} \\cdot \\text{base} \\cdot \\text{height} \\right) = \\frac{1}{T_s} \\left( \\frac{1}{2} (D_2 T_s) i_{L,pk} \\right) = \\frac{1}{2} D_2 i_{L,pk} $$\nSetting the average diode current equal to the average load current:\n$$ \\frac{V_o}{R} = \\frac{1}{2} D_2 i_{L,pk} $$\n\nWe now have a system of equations to solve for $D$, designated as $D^{\\star}$ for the specific operating point. We substitute the expressions for $D_2$ and $i_{L,pk}$ into the charge balance equation:\n$$ \\frac{V_o}{R} = \\frac{1}{2} \\left( D \\frac{V_g}{V_o - V_g} \\right) \\left( \\frac{V_g D T_s}{L} \\right) $$\n$$ \\frac{V_o}{R} = \\frac{D^2 V_g^2 T_s}{2L(V_o - V_g)} $$\nSolving for $D^2$:\n$$ D^2 = \\frac{2 L V_o (V_o - V_g)}{R V_g^2 T_s} $$\nSubstituting $T_s = 1/f_s$ and solving for $D = D^{\\star}$:\n$$ (D^{\\star})^2 = \\frac{2 L f_s V_o (V_o - V_g)}{R V_g^2} $$\nSince the duty ratio must be positive, we take the positive square root:\n$$ D^{\\star} = \\sqrt{\\frac{2 L f_s V_o (V_o - V_g)}{R V_g^2}} $$\nThis expression gives the required duty ratio $D^{\\star}$ to achieve the output voltage $V_o$ under DCM operation, given the circuit parameters.\n\nNext, we analyze the behavior of $D^{\\star}$ with respect to the load resistance $R$. The expression for $D^{\\star}$ can be written as:\n$$ D^{\\star} = \\sqrt{\\frac{2 L f_s V_o (V_o - V_g)}{V_g^2}} \\cdot \\frac{1}{\\sqrt{R}} $$\nAll parameters $V_o$, $V_g$, $L$, and $f_s$ are held fixed. Since $V_o > V_g$, the term under the square root is a positive constant. Let this constant be $C$:\n$$ C = \\frac{2 L f_s V_o (V_o - V_g)}{V_g^2} > 0 $$\nThen, $D^{\\star} = \\sqrt{C/R}$. As the load resistance $R$ increases (representing a lighter load), the denominator of the fraction increases, causing the value of $C/R$ to decrease. Consequently, $D^{\\star}$ decreases as $R$ increases. This means that to maintain a constant output voltage, a lighter load requires a smaller duty ratio in DCM.\n\nFinally, we determine the sign of the small-signal sensitivity $\\partial D^{\\star}/\\partial R$. We differentiate the expression for $D^{\\star}$ with respect to $R$:\n$$ D^{\\star} = \\sqrt{C} R^{-1/2} $$\n$$ \\frac{\\partial D^{\\star}}{\\partial R} = \\sqrt{C} \\left( -\\frac{1}{2} R^{-3/2} \\right) = -\\frac{\\sqrt{C}}{2R\\sqrt{R}} $$\nSince $C > 0$ and $R > 0$, the term $\\sqrt{C}$ is real and positive, and $2R\\sqrt{R}$ is also positive. Therefore, the entire expression for the derivative is negative.\n$$ \\frac{\\partial D^{\\star}}{\\partial R} < 0 $$\nThe sign of the small-signal sensitivity is negative, which confirms the qualitative observation that $D^{\\star}$ is a decreasing function of $R$.",
            "answer": "$$ \\boxed{\\sqrt{\\frac{2 L f_{s} V_{o} (V_{o} - V_{g})}{R V_{g}^{2}}}} $$"
        },
        {
            "introduction": "Bridging the gap from ideal theory to real-world engineering requires a thorough understanding of power loss mechanisms. This comprehensive practice () challenges you to construct a detailed efficiency model for a boost converter, accounting for a wide array of conduction and switching losses. By implementing this model and performing a sensitivity analysis, you will gain practical skills in evaluating converter performance and understanding the crucial design trade-offs between operating parameters like duty ratio and switching frequency.",
            "id": "3823745",
            "problem": "Consider a non-isolated step-up direct current to direct current power converter (boost converter) operating in continuous conduction mode under steady state. The goal is to compute the total power loss and the conversion efficiency, and then to quantify the local sensitivity of the efficiency with respect to the duty ratio and the switching frequency. The analysis must start from foundational principles: inductor volt-second balance, capacitor charge balance, definitions of root-mean-square for periodic signals, and energy-per-switching-event approximations.\n\nAssume a single-phase, idealized continuous conduction mode boost converter where the semiconductor switch is a metal-oxide-semiconductor field-effect transistor (MOSFET) and the rectifier is a diode. The input voltage is denoted by $V_{\\mathrm{in}}$, the duty ratio is $D \\in (0,1)$, and the switching frequency is $f_s > 0$. Under the idealized continuous conduction mode condition with negligible ripple effects on the large-scale average values, the inductor volt-second balance yields the steady-state relation for the output voltage $V_o$:\n$$\nV_o = \\frac{V_{\\mathrm{in}}}{1 - D}.\n$$\nLet the load be purely resistive with resistance $R_{\\mathrm{load}}$, so that the output current is $I_o = V_o / R_{\\mathrm{load}}$ and the output power is $P_{\\mathrm{out}} = V_o I_o = V_o^2 / R_{\\mathrm{load}}$. The average inductor current is approximated by the average input current $I_{L,\\mathrm{avg}} \\approx I_{\\mathrm{in}} = P_{\\mathrm{out}} / V_{\\mathrm{in}}$, and the inductor current ripple (peak-to-peak) is given by\n$$\n\\Delta I_L = \\frac{V_{\\mathrm{in}} D}{L f_s},\n$$\nwhich follows from the inductor law $v_L = L\\, di/dt$ during the on-interval, combined with the volt-second balance for steady state periodic operation. The full-period root-mean-square of the inductor current is\n$$\nI_{L,\\mathrm{rms}} = \\sqrt{I_{L,\\mathrm{avg}}^2 + \\frac{(\\Delta I_L)^2}{12}},\n$$\nbased on the property of a triangular ripple superimposed on a constant direct current component.\n\nModel the following loss mechanisms:\n\n1. Semiconductor conduction losses:\n   - MOSFET conduction loss with on-state resistance $R_{\\mathrm{sw}}$ during the on-interval fraction $D$:\n     $$\n     P_{\\mathrm{sw,cond}} = R_{\\mathrm{sw}}\\, D \\left( I_{L,\\mathrm{avg}}^2 + \\frac{(\\Delta I_L)^2}{12} \\right).\n     $$\n   - Diode conduction loss with forward voltage $V_d$ and dynamic resistance $r_d$ during the off-interval fraction $(1-D)$:\n     $$\n     P_{\\mathrm{d,res}} = r_d\\, (1 - D) \\left( I_{L,\\mathrm{avg}}^2 + \\frac{(\\Delta I_L)^2}{12} \\right), \\quad\n     P_{\\mathrm{d,vf}} = V_d\\, (1 - D)\\, I_{L,\\mathrm{avg}}.\n     $$\n\n2. Magnetic and passive conduction losses:\n   - Inductor copper loss with direct current resistance $R_L$:\n     $$\n     P_{L,\\mathrm{cu}} = R_L\\, I_{L,\\mathrm{rms}}^2.\n     $$\n   - Capacitor equivalent series resistance (ESR) loss. Using capacitor charge balance, the capacitor current is piecewise:\n     during the on-interval, $i_c(t) = - I_o$; during the off-interval, $i_c(t) = i_L(t) - I_o$, where $i_L(t)$ is the inductor current ramp. The full-period mean-square of the capacitor current is\n     $$\n     I_{c,\\mathrm{rms}}^2 = D\\, I_o^2 + (1-D) \\left( I_{L,\\mathrm{avg}}^2 + \\frac{(\\Delta I_L)^2}{12} - 2 I_o I_{L,\\mathrm{avg}} + I_o^2 \\right),\n     $$\n     yielding ESR loss\n     $$\n     P_{C,\\mathrm{ESR}} = R_{\\mathrm{esr}}\\, I_{c,\\mathrm{rms}}^2,\n     $$\n     where $R_{\\mathrm{esr}}$ is the capacitor equivalent series resistance.\n\n3. Switching and dynamic losses:\n   - MOSFET switching overlap loss approximated by energy overlap during transitions, with rise and fall times $t_r$ and $t_f$:\n     $$\n     P_{\\mathrm{sw,ov}} = \\frac{1}{2} V_o\\, I_{L,\\mathrm{avg}}\\, (t_r + t_f)\\, f_s.\n     $$\n   - MOSFET output capacitance loss with effective capacitance $C_{\\mathrm{sw}}$:\n     $$\n     P_{\\mathrm{coss}} = \\frac{1}{2} C_{\\mathrm{sw}}\\, V_o^2\\, f_s.\n     $$\n   - Diode reverse recovery loss with reverse recovery charge $Q_{\\mathrm{rr}}$:\n     $$\n     P_{\\mathrm{rr}} = Q_{\\mathrm{rr}}\\, V_o\\, f_s.\n     $$\n   - Gate-drive loss with total gate charge $Q_g$ at gate voltage $V_g$:\n     $$\n     P_{\\mathrm{gate}} = Q_g\\, V_g\\, f_s.\n     $$\n   - Lumped inductor core loss modeled empirically as\n     $$\n     P_{\\mathrm{core}} = k_{\\mathrm{core}}\\, f_s^{\\alpha}\\, (\\Delta I_L)^{\\beta},\n     $$\n     where $k_{\\mathrm{core}}$, $\\alpha$, and $\\beta$ are empirical constants representing frequency and ripple-current dependence.\n\nThe total loss is\n$$\nP_{\\mathrm{loss}} = P_{\\mathrm{sw,cond}} + P_{\\mathrm{d,res}} + P_{\\mathrm{d,vf}} + P_{L,\\mathrm{cu}} + P_{C,\\mathrm{ESR}} + P_{\\mathrm{sw,ov}} + P_{\\mathrm{coss}} + P_{\\mathrm{rr}} + P_{\\mathrm{gate}} + P_{\\mathrm{core}}.\n$$\nThe efficiency is\n$$\n\\eta = \\frac{P_{\\mathrm{out}}}{P_{\\mathrm{out}} + P_{\\mathrm{loss}}}.\n$$\n\nDefine sensitivity as the partial derivatives of the efficiency with respect to the duty ratio and the switching frequency at fixed parameters:\n$$\n\\frac{\\partial \\eta}{\\partial D}, \\qquad \\frac{\\partial \\eta}{\\partial f_s}.\n$$\nNumerically approximate these via symmetric finite differences:\n$$\n\\frac{\\partial \\eta}{\\partial D} \\approx \\frac{\\eta(D + \\delta_D, f_s) - \\eta(D - \\delta_D, f_s)}{2 \\delta_D}, \\quad \\frac{\\partial \\eta}{\\partial f_s} \\approx \\frac{\\eta(D, f_s + \\delta_f) - \\eta(D, f_s - \\delta_f)}{2 \\delta_f},\n$$\nwith perturbations $\\delta_D = 10^{-4}$ and $\\delta_f = 1$.\n\nScientific assumptions:\n- Continuous conduction mode with triangular inductor current ripple and steady state.\n- Duty ratio $D$ and switching frequency $f_s$ are treated as inputs; the output voltage follows from volt-second balance.\n- All loss terms are computed from the stated approximations, and parameters are chosen to be physically plausible.\n\nYour program must implement the above model and compute, for each provided test case, the triple consisting of the efficiency $\\eta$ (dimensionless), the sensitivity $\\partial \\eta / \\partial D$ (dimensionless per unit change in $D$), and the sensitivity $\\partial \\eta / \\partial f_s$ (in units of per hertz). The final program output must be a single line containing a comma-separated flat list of all results across the test suite, enclosed in square brackets.\n\nUse the following test suite of parameter sets:\n- Case $1$: $V_{\\mathrm{in}} = 48\\ \\mathrm{V}$, $D = 0.4$, $f_s = 200{,}000\\ \\mathrm{Hz}$, $R_{\\mathrm{load}} = 32\\ \\Omega$, $L = 50 \\times 10^{-6}\\ \\mathrm{H}$, $R_{\\mathrm{sw}} = 20 \\times 10^{-3}\\ \\Omega$, $t_r = 20 \\times 10^{-9}\\ \\mathrm{s}$, $t_f = 20 \\times 10^{-9}\\ \\mathrm{s}$, $C_{\\mathrm{sw}} = 200 \\times 10^{-12}\\ \\mathrm{F}$, $V_d = 0.9\\ \\mathrm{V}$, $r_d = 30 \\times 10^{-3}\\ \\Omega$, $Q_{\\mathrm{rr}} = 80 \\times 10^{-9}\\ \\mathrm{C}$, $R_L = 20 \\times 10^{-3}\\ \\Omega$, $k_{\\mathrm{core}} = 10^{-3}$, $\\alpha = 1.2$, $\\beta = 2$, $Q_g = 100 \\times 10^{-9}\\ \\mathrm{C}$, $V_g = 10\\ \\mathrm{V}$, $C_{\\mathrm{out}} = 220 \\times 10^{-6}\\ \\mathrm{F}$, $R_{\\mathrm{esr}} = 30 \\times 10^{-3}\\ \\Omega$.\n- Case $2$: $V_{\\mathrm{in}} = 48\\ \\mathrm{V}$, $D = 0.2$, $f_s = 100{,}000\\ \\mathrm{Hz}$, $R_{\\mathrm{load}} = 24\\ \\Omega$, $L = 50 \\times 10^{-6}\\ \\mathrm{H}$, $R_{\\mathrm{sw}} = 20 \\times 10^{-3}\\ \\Omega$, $t_r = 20 \\times 10^{-9}\\ \\mathrm{s}$, $t_f = 20 \\times 10^{-9}\\ \\mathrm{s}$, $C_{\\mathrm{sw}} = 200 \\times 10^{-12}\\ \\mathrm{F}$, $V_d = 0.9\\ \\mathrm{V}$, $r_d = 30 \\times 10^{-3}\\ \\Omega$, $Q_{\\mathrm{rr}} = 80 \\times 10^{-9}\\ \\mathrm{C}$, $R_L = 20 \\times 10^{-3}\\ \\Omega$, $k_{\\mathrm{core}} = 10^{-3}$, $\\alpha = 1.2$, $\\beta = 2$, $Q_g = 100 \\times 10^{-9}\\ \\mathrm{C}$, $V_g = 10\\ \\mathrm{V}$, $C_{\\mathrm{out}} = 220 \\times 10^{-6}\\ \\mathrm{F}$, $R_{\\mathrm{esr}} = 30 \\times 10^{-3}\\ \\Omega$.\n- Case $3$: $V_{\\mathrm{in}} = 48\\ \\mathrm{V}$, $D = 0.6$, $f_s = 300{,}000\\ \\mathrm{Hz}$, $R_{\\mathrm{load}} = 120 \\ \\Omega$, $L = 50 \\times 10^{-6}\\ \\mathrm{H}$, $R_{\\mathrm{sw}} = 20 \\times 10^{-3}\\ \\Omega$, $t_r = 20 \\times 10^{-9}\\ \\mathrm{s}$, $t_f = 20 \\times 10^{-9}\\ \\mathrm{s}$, $C_{\\mathrm{sw}} = 200 \\times 10^{-12}\\ \\mathrm{F}$, $V_d = 0.9\\ \\mathrm{V}$, $r_d = 30 \\times 10^{-3}\\ \\Omega$, $Q_{\\mathrm{rr}} = 80 \\times 10^{-9}\\ \\mathrm{C}$, $R_L = 20 \\times 10^{-3}\\ \\Omega$, $k_{\\mathrm{core}} = 10^{-3}$, $\\alpha = 1.2$, $\\beta = 2$, $Q_g = 100 \\times 10^{-9}\\ \\mathrm{C}$, $V_g = 10\\ \\mathrm{V}$, $C_{\\mathrm{out}} = 220 \\times 10^{-6}\\ \\mathrm{F}$, $R_{\\mathrm{esr}} = 30 \\times 10^{-3}\\ \\Omega$.\n- Case $4$: $V_{\\mathrm{in}} = 48\\ \\mathrm{V}$, $D = 0.1$, $f_s = 150{,}000\\ \\mathrm{Hz}$, $R_{\\mathrm{load}} = 12 \\ \\Omega$, $L = 50 \\times 10^{-6}\\ \\mathrm{H}$, $R_{\\mathrm{sw}} = 20 \\times 10^{-3}\\ \\Omega$, $t_r = 20 \\times 10^{-9}\\ \\mathrm{s}$, $t_f = 20 \\times 10^{-9}\\ \\mathrm{s}$, $C_{\\mathrm{sw}} = 200 \\times 10^{-12}\\ \\mathrm{F}$, $V_d = 0.9\\ \\mathrm{V}$, $r_d = 30 \\times 10^{-3}\\ \\Omega$, $Q_{\\mathrm{rr}} = 80 \\times 10^{-9}\\ \\mathrm{C}$, $R_L = 20 \\times 10^{-3}\\ \\Omega$, $k_{\\mathrm{core}} = 10^{-3}$, $\\alpha = 1.2$, $\\beta = 2$, $Q_g = 100 \\times 10^{-9}\\ \\mathrm{C}$, $V_g = 10\\ \\mathrm{V}$, $C_{\\mathrm{out}} = 220 \\times 10^{-6}\\ \\mathrm{F}$, $R_{\\mathrm{esr}} = 30 \\times 10^{-3}\\ \\Omega$.\n\nUnits:\n- Express $V_{\\mathrm{in}}$, $V_o$, $V_d$, and $V_g$ in $\\mathrm{V}$.\n- Express $f_s$ and $\\delta_f$ in $\\mathrm{Hz}$.\n- Express resistances ($R_{\\mathrm{load}}$, $R_{\\mathrm{sw}}$, $r_d$, $R_L$, $R_{\\mathrm{esr}}$) in $\\Omega$.\n- Express inductance $L$ in $\\mathrm{H}$ and capacitances ($C_{\\mathrm{sw}}$, $C_{\\mathrm{out}}$) in $\\mathrm{F}$.\n- Express times ($t_r$, $t_f$) in $\\mathrm{s}$ and charges ($Q_{\\mathrm{rr}}$, $Q_g$) in $\\mathrm{C}$.\n- Efficiency $\\eta$ is dimensionless, $\\partial \\eta / \\partial D$ is dimensionless per unit change in $D$, and $\\partial \\eta / \\partial f_s$ has unit $\\mathrm{Hz}^{-1}$.\n\nFinal program output format:\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., $[\\text{result}_1,\\text{result}_2,\\text{result}_3,\\ldots]$), where the sequence concatenates for each test case the triple $[\\eta,\\, \\partial \\eta / \\partial D,\\, \\partial \\eta / \\partial f_s]$ in the listed case order.",
            "solution": "The problem statement has been critically examined and is determined to be valid. It is scientifically grounded in the principles of power electronics, mathematically well-posed, objective, and provides a complete set of non-contradictory parameters and equations to perform the requested analysis of a boost converter. The presence of the unused parameter $C_{\\mathrm{out}}$ is a minor overspecification that does not impede the solution. The assumptions, such as continuous conduction mode (CCM), are verified to be consistent with the provided test data. Therefore, a complete solution can be derived.\n\nThe objective is to compute the efficiency $\\eta$ of a boost converter and its sensitivities with respect to the duty ratio $D$ and switching frequency $f_s$. The calculation is based on a detailed loss model. The process involves sequentially calculating primary electrical quantities, intermediate current values, individual power loss components, total power loss, and finally the efficiency.\n\nFirst, we define the primary quantities based on the input parameters: input voltage $V_{\\mathrm{in}}$, duty ratio $D$, switching frequency $f_s$, and load resistance $R_{\\mathrm{load}}$.\nThe output voltage $V_o$ is determined by the ideal boost converter voltage-gain relationship derived from inductor volt-second balance in steady state:\n$$V_o = \\frac{V_{\\mathrm{in}}}{1 - D}$$\nThe output power $P_{\\mathrm{out}}$ delivered to the resistive load is:\n$$P_{\\mathrm{out}} = \\frac{V_o^2}{R_{\\mathrm{load}}}$$\nThe average output current $I_o$ is:\n$$I_o = \\frac{V_o}{R_{\\mathrm{load}}}$$\nAssuming an ideal converter for the power balance, the average input current $I_{\\mathrm{in}}$ is equal to the average inductor current $I_{L,\\mathrm{avg}}$:\n$$I_{L,\\mathrm{avg}} = I_{\\mathrm{in}} = \\frac{P_{\\mathrm{out}}}{V_{\\mathrm{in}}}$$\nThe peak-to-peak inductor current ripple $\\Delta I_L$ is determined by the inductor charging during the switch-on interval:\n$$\\Delta I_L = \\frac{V_{\\mathrm{in}} D}{L f_s}$$\nwhere $L$ is the inductance.\n\nNext, we establish several root-mean-square (RMS) current values and related quantities required for the loss calculations. The RMS value of the inductor current $I_{L,\\mathrm{rms}}$, composed of a DC component $I_{L,\\mathrm{avg}}$ and a triangular ripple, is given by:\n$$I_{L,\\mathrm{rms}}^2 = I_{L,\\mathrm{avg}}^2 + \\frac{(\\Delta I_L)^2}{12}$$\nA recurring term in conduction losses is the mean-square value of the inductor current's AC component plus the square of its DC component, which is simply $I_{L,\\mathrm{rms}}^2$.\nThe mean-square of the capacitor current $I_{c,\\mathrm{rms}}^2$ is found by integrating the piecewise capacitor current over one switching period $T_s = 1/f_s$. The capacitor current is $i_c(t) = -I_o$ when the switch is on ($D T_s$), and $i_c(t) = i_L(t) - I_o$ when the switch is off ($(1-D) T_s$). This yields:\n$$I_{c,\\mathrm{rms}}^2 = D I_o^2 + (1-D) \\left( I_{L,\\mathrm{avg}}^2 + \\frac{(\\Delta I_L)^2}{12} - 2 I_o I_{L,\\mathrm{avg}} + I_o^2 \\right)$$\n\nWith these quantities, we can compute each component of the total power loss $P_{\\mathrm{loss}}$.\n\n$1$. Semiconductor conduction losses:\n- MOSFET conduction loss, with on-state resistance $R_{\\mathrm{sw}}$, occurs for a fraction $D$ of the period.\n$$P_{\\mathrm{sw,cond}} = R_{\\mathrm{sw}} D \\left( I_{L,\\mathrm{avg}}^2 + \\frac{(\\Delta I_L)^2}{12} \\right)$$\n- Diode conduction loss occurs for a fraction $(1-D)$ of the period. It has a resistive component, from dynamic resistance $r_d$, and a component from the forward voltage drop $V_d$. The average current through the diode equals the output current $I_o$, and from power balance $I_o = (1-D)I_{L,\\mathrm{avg}}$.\n$$P_{\\mathrm{d,res}} = r_d (1 - D) \\left( I_{L,\\mathrm{avg}}^2 + \\frac{(\\Delta I_L)^2}{12} \\right)$$\n$$P_{\\mathrm{d,vf}} = V_d (1 - D) I_{L,\\mathrm{avg}}$$\n\n$2$. Magnetic and passive conduction losses:\n- Inductor copper loss is due to its DC resistance $R_L$ and the full RMS inductor current.\n$$P_{L,\\mathrm{cu}} = R_L I_{L,\\mathrm{rms}}^2$$\n- Capacitor equivalent series resistance ($R_{\\mathrm{esr}}$) loss is due to the RMS current flowing through it.\n$$P_{C,\\mathrm{ESR}} = R_{\\mathrm{esr}} I_{c,\\mathrm{rms}}^2$$\n\n$3$. Switching and dynamic losses:\n- MOSFET switching overlap loss, due to non-zero rise and fall times ($t_r$, $t_f$), is proportional to $f_s$.\n$$P_{\\mathrm{sw,ov}} = \\frac{1}{2} V_o I_{L,\\mathrm{avg}} (t_r + t_f) f_s$$\n- MOSFET output capacitance ($C_{\\mathrm{sw}}$) loss is from charging and discharging this capacitance each cycle.\n$$P_{\\mathrm{coss}} = \\frac{1}{2} C_{\\mathrm{sw}} V_o^2 f_s$$\n- Diode reverse recovery loss, characterized by charge $Q_{\\mathrm{rr}}$, occurs at turn-on of the MOSFET.\n$$P_{\\mathrm{rr}} = Q_{\\mathrm{rr}} V_o f_s$$\n- Gate-drive loss for the MOSFET depends on the total gate charge $Q_g$, gate voltage $V_g$, and $f_s$.\n$$P_{\\mathrm{gate}} = Q_g V_g f_s$$\n- Inductor core loss is modeled empirically with constants $k_{\\mathrm{core}}$, $\\alpha$, and $\\beta$.\n$$P_{\\mathrm{core}} = k_{\\mathrm{core}} f_s^{\\alpha} (\\Delta I_L)^{\\beta}$$\n\nThe total power loss $P_{\\mathrm{loss}}$ is the sum of all individual loss components:\n$$P_{\\mathrm{loss}} = P_{\\mathrm{sw,cond}} + P_{\\mathrm{d,res}} + P_{\\mathrm{d,vf}} + P_{L,\\mathrm{cu}} + P_{C,\\mathrm{ESR}} + P_{\\mathrm{sw,ov}} + P_{\\mathrm{coss}} + P_{\\mathrm{rr}} + P_{\\mathrm{gate}} + P_{\\mathrm{core}}$$\nThe converter efficiency $\\eta$ is then the ratio of output power to input power ($P_{\\mathrm{in}} = P_{\\mathrm{out}} + P_{\\mathrm{loss}}$):\n$$\\eta = \\frac{P_{\\mathrm{out}}}{P_{\\mathrm{out}} + P_{\\mathrm{loss}}}$$\nThis entire calculation can be encapsulated in a function $\\eta(D, f_s, \\text{params})$.\n\nFinally, the sensitivities of the efficiency with respect to $D$ and $f_s$ are approximated numerically using a symmetric finite difference scheme with small perturbations $\\delta_D = 10^{-4}$ and $\\delta_f = 1 \\, \\mathrm{Hz}$:\n$$\\frac{\\partial \\eta}{\\partial D} \\approx \\frac{\\eta(D + \\delta_D, f_s) - \\eta(D - \\delta_D, f_s)}{2 \\delta_D}$$\n$$\\frac{\\partial \\eta}{\\partial f_s} \\approx \\frac{\\eta(D, f_s + \\delta_f) - \\eta(D, f_s - \\delta_f)}{2 \\delta_f}$$\nThe following program implements this full procedure for the given test cases.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef calculate_efficiency(params):\n    \"\"\"\n    Calculates the efficiency of a boost converter based on a detailed loss model.\n    The parameter dictionary must contain all necessary values.\n    \"\"\"\n    # Extract operating point and component parameters from the dictionary\n    V_in = params[\"V_in\"]\n    D = params[\"D\"]\n    f_s = params[\"f_s\"]\n    R_load = params[\"R_load\"]\n    L = params[\"L\"]\n    R_sw = params[\"R_sw\"]\n    t_r = params[\"t_r\"]\n    t_f = params[\"t_f\"]\n    C_sw = params[\"C_sw\"]\n    V_d = params[\"V_d\"]\n    r_d = params[\"r_d\"]\n    Q_rr = params[\"Q_rr\"]\n    R_L = params[\"R_L\"]\n    k_core = params[\"k_core\"]\n    alpha = params[\"alpha\"]\n    beta = params[\"beta\"]\n    Q_g = params[\"Q_g\"]\n    V_g = params[\"V_g\"]\n    R_esr = params[\"R_esr\"]\n\n    # Step 1: Calculate primary circuit quantities\n    if (1 - D) <= 1e-9: # Avoid division by zero for D close to 1\n        return 0.0 # Efficiency collapses as output voltage -> infinity\n\n    V_o = V_in / (1 - D)\n    P_out = V_o**2 / R_load\n    I_o = V_o / R_load\n    I_L_avg = P_out / V_in\n    Delta_I_L = (V_in * D) / (L * f_s)\n\n    # Step 2: Calculate intermediate RMS-related quantities\n    I_L_avg_sq = I_L_avg**2\n    Delta_I_L_sq_12 = Delta_I_L**2 / 12\n    I_L_rms_sq = I_L_avg_sq + Delta_I_L_sq_12\n    \n    # This term appears in both switch and diode resistive losses\n    I_cond_comp_sq = I_L_avg_sq + Delta_I_L_sq_12\n\n    I_c_rms_sq = (D * I_o**2 + \n                  (1 - D) * (I_cond_comp_sq - 2 * I_o * I_L_avg + I_o**2))\n\n    # Step 3: Calculate individual loss components\n    \n    # 1. Semiconductor conduction losses\n    P_sw_cond = R_sw * D * I_cond_comp_sq\n    P_d_res = r_d * (1 - D) * I_cond_comp_sq\n    P_d_vf = V_d * (1 - D) * I_L_avg # Equivalent to V_d * I_o\n    \n    # 2. Magnetic and passive conduction losses\n    P_L_cu = R_L * I_L_rms_sq\n    P_C_ESR = R_esr * I_c_rms_sq\n\n    # 3. Switching and dynamic losses\n    P_sw_ov = 0.5 * V_o * I_L_avg * (t_r + t_f) * f_s\n    P_coss = 0.5 * C_sw * V_o**2 * f_s\n    P_rr = Q_rr * V_o * f_s\n    P_gate = Q_g * V_g * f_s\n    \n    # Inductor core loss\n    P_core = k_core * np.power(f_s, alpha) * np.power(Delta_I_L, beta)\n\n    # Step 4: Sum losses and compute efficiency\n    P_loss = (P_sw_cond + P_d_res + P_d_vf + P_L_cu + P_C_ESR + \n              P_sw_ov + P_coss + P_rr + P_gate + P_core)\n\n    eta = P_out / (P_out + P_loss)\n    \n    return eta\n\ndef solve():\n    \"\"\"\n    Main function to solve the problem for all test cases.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    # Note: C_out is provided but not used in the loss models.\n    test_cases = [\n        # Case 1\n        {\"V_in\": 48, \"D\": 0.4, \"f_s\": 200000, \"R_load\": 32, \"L\": 50e-6, \n         \"R_sw\": 20e-3, \"t_r\": 20e-9, \"t_f\": 20e-9, \"C_sw\": 200e-12, \n         \"V_d\": 0.9, \"r_d\": 30e-3, \"Q_rr\": 80e-9, \"R_L\": 20e-3, \n         \"k_core\": 1e-3, \"alpha\": 1.2, \"beta\": 2, \"Q_g\": 100e-9, \n         \"V_g\": 10, \"C_out\": 220e-6, \"R_esr\": 30e-3},\n        # Case 2\n        {\"V_in\": 48, \"D\": 0.2, \"f_s\": 100000, \"R_load\": 24, \"L\": 50e-6,\n         \"R_sw\": 20e-3, \"t_r\": 20e-9, \"t_f\": 20e-9, \"C_sw\": 200e-12,\n         \"V_d\": 0.9, \"r_d\": 30e-3, \"Q_rr\": 80e-9, \"R_L\": 20e-3,\n         \"k_core\": 1e-3, \"alpha\": 1.2, \"beta\": 2, \"Q_g\": 100e-9,\n         \"V_g\": 10, \"C_out\": 220e-6, \"R_esr\": 30e-3},\n        # Case 3\n        {\"V_in\": 48, \"D\": 0.6, \"f_s\": 300000, \"R_load\": 120, \"L\": 50e-6,\n         \"R_sw\": 20e-3, \"t_r\": 20e-9, \"t_f\": 20e-9, \"C_sw\": 200e-12,\n         \"V_d\": 0.9, \"r_d\": 30e-3, \"Q_rr\": 80e-9, \"R_L\": 20e-3,\n         \"k_core\": 1e-3, \"alpha\": 1.2, \"beta\": 2, \"Q_g\": 100e-9,\n         \"V_g\": 10, \"C_out\": 220e-6, \"R_esr\": 30e-3},\n        # Case 4\n        {\"V_in\": 48, \"D\": 0.1, \"f_s\": 150000, \"R_load\": 12, \"L\": 50e-6,\n         \"R_sw\": 20e-3, \"t_r\": 20e-9, \"t_f\": 20e-9, \"C_sw\": 200e-12,\n         \"V_d\": 0.9, \"r_d\": 30e-3, \"Q_rr\": 80e-9, \"R_L\": 20e-3,\n         \"k_core\": 1e-3, \"alpha\": 1.2, \"beta\": 2, \"Q_g\": 100e-9,\n         \"V_g\": 10, \"C_out\": 220e-6, \"R_esr\": 30e-3},\n    ]\n\n    delta_D = 1e-4\n    delta_f = 1.0\n    \n    results = []\n    \n    for case in test_cases:\n        # Calculate nominal efficiency\n        eta_nominal = calculate_efficiency(case)\n        \n        # Calculate sensitivity to D\n        case_plus_dD = case.copy()\n        case_plus_dD[\"D\"] += delta_D\n        eta_plus_dD = calculate_efficiency(case_plus_dD)\n        \n        case_minus_dD = case.copy()\n        case_minus_dD[\"D\"] -= delta_D\n        eta_minus_dD = calculate_efficiency(case_minus_dD)\n        \n        d_eta_dD = (eta_plus_dD - eta_minus_dD) / (2 * delta_D)\n        \n        # Calculate sensitivity to f_s\n        case_plus_df = case.copy()\n        case_plus_df[\"f_s\"] += delta_f\n        eta_plus_df = calculate_efficiency(case_plus_df)\n        \n        case_minus_df = case.copy()\n        case_minus_df[\"f_s\"] -= delta_f\n        eta_minus_df = calculate_efficiency(case_minus_df)\n        \n        d_eta_dfs = (eta_plus_df - eta_minus_df) / (2 * delta_f)\n        \n        results.extend([eta_nominal, d_eta_dD, d_eta_dfs])\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(f'{r:.8e}' for r in results)}]\")\n\nsolve()\n```"
        }
    ]
}