{
    "hands_on_practices": [
        {
            "introduction": "The principle of inductor volt-second balance is the cornerstone of steady-state analysis for DC-DC converters operating in Continuous Conduction Mode (CCM). It dictates that the net change in inductor flux over a switching period must be zero, which allows us to derive key converter characteristics like voltage gain and current ripple. This foundational exercise guides you through applying this principle to a boost converter, first to determine the inductor current ripple from the switch-on interval and then to verify the result's consistency by using the switch-off interval, reinforcing the internal logic of the steady-state model .",
            "id": "3850081",
            "problem": "An ideal boost direct-current (DC) converter employs one inductor, one switch, one diode, and one output capacitor. The input source has constant voltage $V_{g} > 0$, the inductor has inductance $L > 0$, the switch is commutated periodically with period $T > 0$ under pulse-width modulation (PWM) with duty ratio $D \\in (0,1)$, and the output capacitor is sufficiently large that the output voltage $v_{o}$ may be treated as constant over a switching cycle. Assume continuous conduction mode, ideal semiconductor devices (zero on-state drops and instantaneous switching), negligible parasitic resistances, and periodic steady state.\n\nStarting only from the inductor constitutive relation $v_{L} = L \\,\\mathrm{d}i_{L}/\\mathrm{d}t$ and the periodic steady-state requirement that the net change of inductor current over a full switching period $T$ is zero, do the following:\n\n- Determine the peak-to-peak inductor current ripple $\\Delta i_{L}$ over a single switching period in terms of $V_{g}$, $L$, $D$, and $T$, by analyzing the inductor voltage during the interval when the switch is on and when it is off.\n- Independently, derive the boost converter steady-state direct-current gain relation between $v_{o}$ and $V_{g}$ using inductor volt-second balance, and then use that relation to compute the magnitude of the inductor current falling slope during the off interval multiplied by the off-time $(1 - D)T$. Show that this yields the same $\\Delta i_{L}$ as obtained from the rising slope.\n\nExpress your final answer as a single closed-form analytic expression for $\\Delta i_{L}$, without numerical evaluation. If you were to evaluate numerically, express current values in amperes.",
            "solution": "The problem is first subjected to a rigorous validation process.\n\n### Step 1: Extract Givens\n- Converter type: ideal boost direct-current (DC) converter\n- Components: one inductor, one switch, one diode, one output capacitor\n- Input voltage: constant $V_{g} > 0$\n- Inductance: $L > 0$\n- Switching period: $T > 0$\n- Modulation: pulse-width modulation (PWM) with duty ratio $D \\in (0,1)$\n- Output capacitor: sufficiently large, output voltage $v_{o}$ is constant over a switching cycle\n- Operating mode: continuous conduction mode (CCM)\n- Component properties: ideal semiconductor devices (zero on-state drops, instantaneous switching)\n- Parasitics: negligible parasitic resistances\n- System state: periodic steady state\n- Governing equation: $v_{L} = L \\,\\mathrm{d}i_{L}/\\mathrm{d}t$\n- Steady-state condition: The net change of inductor current over a full switching period $T$ is zero.\n\n### Step 2: Validate Using Extracted Givens\nThe problem statement is evaluated against the validation criteria.\n\n- **Scientifically Grounded**: The problem is a standard, fundamental exercise in power electronics. It deals with the analysis of an ideal boost converter, relying on Kirchhoff's laws and the constitutive relation for an inductor, which are core principles of electrical engineering. The concept of inductor volt-second balance is a cornerstone of switching converter analysis.\n- **Well-Posed**: The problem is well-posed. It provides all necessary parameters ($V_g$, $L$, $D$, $T$) and simplifying assumptions (ideal components, steady state, CCM, large output capacitor) to derive a unique analytical expression for the inductor current ripple, $\\Delta i_{L}$. The tasks are clearly defined and lead to a single, consistent result.\n- **Objective**: The problem statement is expressed in precise, objective, and technical language, free from ambiguity or subjective claims.\n\nThe problem does not exhibit any of the listed invalidating flaws. It is scientifically sound, formalizable, complete, and poses a well-defined question based on standard idealizations in the field.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid**. A full, reasoned solution will be provided.\n\n### Solution Derivation\nThe solution proceeds by analyzing the boost converter circuit in its two distinct topological states within a single switching period $T$, under the assumption of periodic steady state. The duty ratio $D$ defines the fraction of the period for which the switch is on.\n\nThe fundamental relationship governing the inductor current $i_L(t)$ is its constitutive relation:\n$$v_{L}(t) = L \\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t}$$\n\nIn periodic steady state, the inductor current at the beginning of a period must be equal to the current at the end of the period. This implies that the net change in inductor current over one period is zero:\n$$i_{L}(T) - i_{L}(0) = \\int_{0}^{T} \\frac{\\mathrm{d}i_{L}}{\\mathrm{d}t} \\, \\mathrm{d}t = \\frac{1}{L} \\int_{0}^{T} v_{L}(t) \\, \\mathrm{d}t = 0$$\nThis is the principle of inductor volt-second balance, which states that the average inductor voltage over a full period must be zero.\n\nLet us analyze the two subintervals of the switching period $T$.\n\n**1. Switch-on interval: $t \\in [0, DT]$**\nDuring this interval, the switch is closed (on). The ideal switch provides a short circuit path. The diode is reverse-biased by the output voltage $v_o$ and is therefore open. The inductor is connected directly across the input voltage source $V_g$. The voltage across the inductor is:\n$$v_{L}(t) = V_{g}$$\nThe rate of change of the inductor current is constant and positive:\n$$\\frac{\\mathrm{d}i_{L}}{\\mathrm{d}t} = \\frac{V_{g}}{L}$$\nThe change in inductor current during this interval, which corresponds to the rise of the current from its minimum to its maximum value, is the peak-to-peak ripple $\\Delta i_{L}$.\n$$\\Delta i_{L} = \\left( \\frac{\\mathrm{d}i_{L}}{\\mathrm{d}t} \\right) \\times (\\text{time duration}) = \\frac{V_{g}}{L} \\times (DT)$$\nThus, we find the peak-to-peak inductor current ripple:\n$$\\Delta i_{L} = \\frac{V_{g} D T}{L}$$\n\n**2. Switch-off interval: $t \\in [DT, T]$**\nDuring this interval of duration $(1-D)T$, the switch is open. The inductor current, which cannot change instantaneously, continues to flow, now through the diode to the output capacitor and load. Applying Kirchhoff's Voltage Law (KVL) to the loop containing the input source, inductor, and output gives:\n$$V_{g} - v_{L}(t) - v_{o} = 0$$\nThe voltage across the inductor is:\n$$v_{L}(t) = V_{g} - v_{o}$$\nSince for a boost converter in steady state $v_o > V_g$, the inductor voltage $v_L$ is negative. The rate of change of the inductor current is constant and negative:\n$$\\frac{\\mathrm{d}i_{L}}{\\mathrm{d}t} = \\frac{V_{g} - v_{o}}{L}$$\nThis is the falling slope of the inductor current.\n\n**3. Derivation of DC Gain and Consistency Check**\nAs required, we first derive the steady-state DC gain using inductor volt-second balance. The average inductor voltage over one period is zero:\n$$\\langle v_L \\rangle = \\frac{1}{T} \\left( \\int_{0}^{DT} v_L(t) \\, \\mathrm{d}t + \\int_{DT}^{T} v_L(t) \\, \\mathrm{d}t \\right) = 0$$\nSubstituting the expressions for $v_L(t)$ from each interval:\n$$\\frac{1}{T} \\left( (V_{g})(DT) + (V_{g} - v_{o})((1-D)T) \\right) = 0$$\nDividing by $T$ and simplifying:\n$$V_{g}D + (V_{g} - v_{o})(1-D) = 0$$\n$$V_{g}D + V_{g} - V_{g}D - v_{o}(1-D) = 0$$\n$$V_{g} = v_{o}(1-D)$$\nThis yields the steady-state DC voltage gain relation for the boost converter:\n$$\\frac{v_{o}}{V_{g}} = \\frac{1}{1-D}$$\n\nNow, we use this relation to compute the magnitude of the change in inductor current during the off-interval. The problem asks for the magnitude of the falling slope multiplied by the off-time.\nThe magnitude of the falling slope is:\n$$\\left| \\frac{\\mathrm{d}i_{L}}{\\mathrm{d}t} \\right| = \\left| \\frac{V_{g} - v_{o}}{L} \\right| = \\frac{v_{o} - V_{g}}{L}$$\nThe change in current during the off-interval is this magnitude multiplied by the duration $(1-D)T$:\n$$\\Delta i_{L, \\text{fall}} = \\left( \\frac{v_{o} - V_{g}}{L} \\right) (1-D)T$$\nNow, substitute the derived expression for $v_{o} = V_g / (1-D)$:\n$$\\Delta i_{L, \\text{fall}} = \\left( \\frac{\\frac{V_{g}}{1-D} - V_{g}}{L} \\right) (1-D)T$$\nFactoring out $V_g$ from the numerator within the parenthesis:\n$$\\Delta i_{L, \\text{fall}} = \\frac{V_{g}}{L} \\left( \\frac{1}{1-D} - 1 \\right) (1-D)T$$\nCombining the terms inside the parenthesis:\n$$\\frac{1}{1-D} - 1 = \\frac{1 - (1-D)}{1-D} = \\frac{D}{1-D}$$\nSubstituting this back into the expression for $\\Delta i_{L, \\text{fall}}$:\n$$\\Delta i_{L, \\text{fall}} = \\frac{V_{g}}{L} \\left( \\frac{D}{1-D} \\right) (1-D)T$$\nThe $(1-D)$ terms cancel out:\n$$\\Delta i_{L, \\text{fall}} = \\frac{V_{g} D T}{L}$$\nThis result is identical to the one obtained from analyzing the switch-on interval. This confirms the consistency of the analysis, as the magnitude of the current rise during the on-time must equal the magnitude of the current fall during the off-time for the net change over a period to be zero.\n\nThe final expression for the peak-to-peak inductor current ripple is therefore:\n$$\\Delta i_{L} = \\frac{V_{g} D T}{L}$$\nThis expression is in terms of the specified variables $V_g$, $L$, $D$, and $T$.\nThe instruction regarding units confirms that if numerical values were provided, the result would be in amperes, which is dimensionally consistent. With $V_g$ in volts, $T$ in seconds, and $L$ in henrys ($V \\cdot s / A$), the units are $(V \\cdot s) / (V \\cdot s / A) = A$.",
            "answer": "$$\n\\boxed{\\frac{V_{g} D T}{L}}\n$$"
        },
        {
            "introduction": "While Continuous Conduction Mode (CCM) is often the target operating regime, converters frequently enter Discontinuous Conduction Mode (DCM) under light load conditions, where the inductor current falls to zero for a portion of the switching cycle. This introduces a third \"idle\" operating interval, altering the converter's behavior. This practice demonstrates the versatility of the volt-second balance principle by applying it to a buck converter in DCM, showing how to derive the unique, load-dependent voltage conversion ratio that characterizes this mode .",
            "id": "3850032",
            "problem": "An ideal step-down converter with a single inductor of inductance $L$, an ideal diode, and a large output capacitor feeding a purely resistive load $R$ is operated with switching period $T$ and gate duty ratio $D$, where the high-side switch is on for $t \\in [0, D T)$ and off for the remainder of the period. Assume the converter operates in Discontinuous Conduction Mode (DCM), meaning the inductor current returns to zero before the end of each switching period. Let the input (source) voltage be $v_g$ and the steady output voltage be $v_o$; assume the output capacitor is large enough that $v_o$ is approximately constant within a switching period.\n\nUsing only the inductor constitutive relation $v_L(t) = L \\, \\frac{\\mathrm{d}i_L(t)}{\\mathrm{d}t}$, Kirchhoff’s Voltage Law (KVL), and the steady-state capacitor charge-balance condition that the average capacitor current over a period is zero, perform the following:\n\n1) Partition one switching period into three intervals: the on-interval of length $D T$, a subsequent freewheeling interval of unknown length $\\delta T$ during which only the diode conducts, and an idle interval of length $T - (D + \\delta) T$ during which the inductor current is identically zero. For each interval, write the inductor voltage $v_L(t)$ from KVL, and integrate $v_L(t)$ over that interval to obtain its volt-seconds. Show explicitly that the sum of these volt-seconds over one full period is zero.\n\n2) Using the same foundations, determine the peak inductor current and the average inductor current over one period in terms of $v_g$, $v_o$, $L$, $T$, $D$, and $\\delta$. Invoke the steady-state condition that the average output current equals the average inductor current and equals $v_o/R$ to eliminate $\\delta$ and obtain a closed-form relation between $v_o$ and $v_g$, involving only $R$, $L$, $T$, and $D$.\n\nProvide as your final result the closed-form analytic expression for the conversion ratio $M = \\frac{v_o}{v_g}$ expressed solely in terms of $R$, $L$, $T$, and $D$. Your final reported answer must be a single closed-form expression. Do not provide any intermediate expressions. No numerical evaluation is required.",
            "solution": "The problem statement is evaluated to be scientifically grounded, well-posed, objective, and self-contained. It describes a standard problem in power electronics—the analysis of a buck converter in Discontinuous Conduction Mode (DCM)—using fundamental principles. The problem is valid, and a solution will be provided.\n\nThe analysis proceeds in two parts as requested.\n\nPart 1: Inductor Volt-Second Balance\nThe steady-state operation of the converter over one switching period $T$ is partitioned into three distinct intervals. For each interval, we apply Kirchhoff’s Voltage Law (KVL) to determine the voltage across the inductor, $v_L(t)$. The components are ideal, meaning the switch and diode have zero voltage drop when conducting and zero current leakage when blocking. The output voltage $v_o$ is assumed to be constant due to a large output capacitor.\n\nInterval 1: Switch ON, Diode OFF for $t \\in [0, DT)$\nThe switch is closed, connecting the inductor to the input voltage source $v_g$. The diode is reverse-biased and off. Applying KVL to the loop containing the source, switch, inductor, and capacitor/load gives:\n$$v_g - v_L(t) - v_o = 0$$\nThus, the inductor voltage is constant during this interval:\n$$v_L(t) = v_g - v_o$$\nThe volt-seconds accumulated during this interval are the integral of the inductor voltage over the interval's duration $DT$:\n$$\\int_{0}^{DT} v_L(t) \\, \\mathrm{d}t = \\int_{0}^{DT} (v_g - v_o) \\, \\mathrm{d}t = (v_g - v_o)DT$$\nSince the converter is in DCM, the inductor current starts at zero, $i_L(0) = 0$, and increases linearly.\n\nInterval 2: Switch OFF, Diode ON for $t \\in [DT, (D+\\delta)T)$\nThe switch opens. The stored energy in the inductor causes the current $i_L(t)$ to continue flowing, which forward-biases the ideal diode, clamping the inductor's switched-node to ground. Applying KVL to the loop containing the diode, inductor, and capacitor/load gives:\n$$0 - v_L(t) - v_o = 0$$\nThe inductor voltage is thus:\n$$v_L(t) = -v_o$$\nThis interval ends when the inductor current ramps down to zero at $t = (D+\\delta)T$. The volt-seconds accumulated during this freewheeling interval of duration $\\delta T$ are:\n$$\\int_{DT}^{(D+\\delta)T} v_L(t) \\, \\mathrm{d}t = \\int_{DT}^{(D+\\delta)T} (-v_o) \\, \\mathrm{d}t = -v_o \\left[ (D+\\delta)T - DT \\right] = -v_o \\delta T$$\n\nInterval 3: Switch OFF, Diode OFF for $t \\in [(D+\\delta)T, T)$\nAt $t = (D+\\delta)T$, the inductor current has reached zero. Since the current is zero, there is no magnetic field to sustain current flow, and the diode turns off. With both the switch and diode off, the inductor is disconnected. The inductor current is identically zero for the remainder of the period:\n$$i_L(t) = 0$$\nFrom the inductor's constitutive relation, $v_L(t) = L \\frac{\\mathrm{d}i_L(t)}{\\mathrm{d}t}$, the inductor voltage is also zero:\n$$v_L(t) = L \\frac{\\mathrm{d}(0)}{\\mathrm{d}t} = 0$$\nThe volt-seconds accumulated during this idle interval are:\n$$\\int_{(D+\\delta)T}^{T} v_L(t) \\, \\mathrm{d}t = \\int_{(D+\\delta)T}^{T} 0 \\, \\mathrm{d}t = 0$$\n\nTo show that the sum of volt-seconds over one period is zero, we use the fundamental property that for an inductor in steady-state periodic operation, the net change in current over one period is zero. That is, $i_L(T) = i_L(0)$. From $v_L(t) = L \\frac{\\mathrm{d}i_L(t)}{\\mathrm{d}t}$, we have $L \\, \\mathrm{d}i_L(t) = v_L(t) \\, \\mathrm{d}t$. Integrating over one period:\n$$L \\int_{i_L(0)}^{i_L(T)} \\mathrm{d}i_L = \\int_0^T v_L(t) \\, \\mathrm{d}t$$\n$$L [i_L(T) - i_L(0)] = \\int_0^T v_L(t) \\, \\mathrm{d}t$$\nSince $i_L(T) = i_L(0)$ for any steady-state operation, the right-hand side, representing the total volt-seconds over a period, must be zero. Let's explicitly sum our results:\n$$\\int_0^T v_L(t) \\, \\mathrm{d}t = (v_g - v_o)DT + (-v_o \\delta T) + 0 = (v_g - v_o)DT - v_o \\delta T$$\nSetting this sum to zero, as required by the steady-state condition, yields the principle of inductor volt-second balance:\n$$(v_g - v_o)DT - v_o \\delta T = 0$$\nThis explicitly shows that the sum of the volt-seconds over one period is zero, as required.\n\nPart 2: Derivation of the Conversion Ratio\nFirst, we find the peak inductor current, $i_{L, \\text{peak}}$. The current starts at $i_L(0)=0$ and ramps up during the first interval. The current at time $t=DT$ is:\n$$i_{L, \\text{peak}} = i_L(DT) = i_L(0) + \\frac{1}{L} \\int_0^{DT} v_L(t) \\, \\mathrm{d}t = 0 + \\frac{(v_g - v_o)DT}{L} = \\frac{(v_g - v_o)DT}{L}$$\nNext, we find the average inductor current, $\\langle i_L \\rangle$, over one period $T$. The current waveform is a triangle with its base on the time axis, starting at $t=0$, peaking at $t=DT$, and returning to zero at $t=(D+\\delta)T$. The base of this triangle is $(D+\\delta)T$ and its height is $i_{L, \\text{peak}}$. The average value is the area of the triangle divided by the period $T$:\n$$\\langle i_L \\rangle = \\frac{1}{T} \\left( \\frac{1}{2} \\cdot \\text{base} \\cdot \\text{height} \\right) = \\frac{1}{T} \\left( \\frac{1}{2} (D+\\delta)T \\cdot i_{L, \\text{peak}} \\right) = \\frac{1}{2} (D+\\delta) i_{L, \\text{peak}}$$\nFrom the volt-second balance equation $(v_g-v_o)D = v_o\\delta$, we solve for $\\delta$:\n$$\\delta = \\frac{v_g - v_o}{v_o}D$$\nNow, substitute the expressions for $i_{L, \\text{peak}}$ and $\\delta$ into the equation for $\\langle i_L \\rangle$:\n$$\\langle i_L \\rangle = \\frac{1}{2} \\left( D + \\frac{v_g - v_o}{v_o}D \\right) \\left( \\frac{(v_g - v_o)DT}{L} \\right)$$\nFactor out $D$ from the first term:\n$$\\langle i_L \\rangle = \\frac{D}{2} \\left( 1 + \\frac{v_g - v_o}{v_o} \\right) \\left( \\frac{(v_g - v_o)DT}{L} \\right) = \\frac{D}{2} \\left( \\frac{v_o + v_g - v_o}{v_o} \\right) \\left( \\frac{(v_g - v_o)DT}{L} \\right)$$\n$$\\langle i_L \\rangle = \\frac{D}{2} \\left( \\frac{v_g}{v_o} \\right) \\left( \\frac{(v_g - v_o)DT}{L} \\right) = \\frac{D^2 T}{2L} \\frac{v_g(v_g - v_o)}{v_o}$$\nThe problem states that in steady-state, the average inductor current equals the average load current. For a resistive load $R$, the average load current is $\\langle i_o \\rangle = v_o/R$. Therefore:\n$$\\langle i_L \\rangle = \\frac{v_o}{R}$$\nEquating the two expressions for $\\langle i_L \\rangle$:\n$$\\frac{v_o}{R} = \\frac{D^2 T}{2L} \\frac{v_g(v_g - v_o)}{v_o}$$\nTo find the conversion ratio $M = v_o/v_g$, we rearrange the equation:\n$$v_o^2 = \\frac{D^2 T R}{2L} v_g(v_g - v_o)$$\nDivide the entire equation by $v_g^2$:\n$$\\left(\\frac{v_o}{v_g}\\right)^2 = \\frac{D^2 T R}{2L} \\frac{v_g}{v_g^2}(v_g - v_o) = \\frac{D^2 T R}{2L} \\left(1 - \\frac{v_o}{v_g}\\right)$$\nSubstituting $M = v_o/v_g$:\n$$M^2 = \\frac{D^2 T R}{2L} (1 - M)$$\nThis is a quadratic equation for $M$:\n$$M^2 + \\left(\\frac{D^2 T R}{2L}\\right)M - \\left(\\frac{D^2 T R}{2L}\\right) = 0$$\nOr, multiplying by $\\frac{2L}{RT}$:\n$$\\frac{2L}{RT}M^2 + D^2 M - D^2 = 0$$\nWe solve for $M$ using the quadratic formula, $M = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$, with $a = \\frac{2L}{RT}$, $b = D^2$, and $c = -D^2$.\n$$M = \\frac{-D^2 \\pm \\sqrt{(D^2)^2 - 4\\left(\\frac{2L}{RT}\\right)(-D^2)}}{2\\left(\\frac{2L}{RT}\\right)} = \\frac{-D^2 \\pm \\sqrt{D^4 + \\frac{8LD^2}{RT}}}{\\frac{4L}{RT}}$$\nSince $v_g$ and $v_o$ are positive voltages, the conversion ratio $M$ must be positive. We must therefore choose the positive root:\n$$M = \\frac{-D^2 + \\sqrt{D^4\\left(1 + \\frac{8L}{RTD^2}\\right)}}{\\frac{4L}{RT}} = \\frac{-D^2 + D^2\\sqrt{1 + \\frac{8L}{RTD^2}}}{\\frac{4L}{RT}}$$\nSimplifying the expression gives the final result:\n$$M = \\frac{D^2 RT}{4L} \\left(\\sqrt{1 + \\frac{8L}{RTD^2}} - 1\\right)$$",
            "answer": "$$\n\\boxed{\\frac{D^2RT}{4L} \\left(\\sqrt{1 + \\frac{8L}{RTD^2}} - 1\\right)}\n$$"
        },
        {
            "introduction": "Inductor volt-second balance is not merely a condition for steady state; its temporary *imbalance* is the very mechanism that drives a converter's dynamic response. When a control input like the duty ratio changes, a transient, non-zero average voltage appears across the inductor, causing its average current to ramp towards a new equilibrium. This advanced practice provides a foundational look into converter dynamics by having you calculate the net volt-seconds immediately following a step change in duty ratio and predict the resulting linear change in average inductor current .",
            "id": "3850007",
            "problem": "Consider an ideal step-down (buck) converter operating in Continuous Conduction Mode (CCM) under Pulse-Width Modulation (PWM). The converter has a direct current (DC) input voltage $V_{g}$, an inductor of inductance $L$, and a sufficiently large output capacitor such that the output voltage ripple within a single switching period is negligible. The resistive load is such that the average output current equals the average inductor current. The switching period is $T_{s}$.\n\nBefore a control change at time $t=0$, the converter has reached steady state with duty ratio $D_{0}$ and output voltage $v_{o}(t)\\approx V_{o0}$ constant over a switching period. At $t=0$, the duty ratio steps to $D_{1}=D_{0}+\\Delta D$, where $\\Delta D$ is a small, sudden increment. Immediately after the step, the output capacitor has not yet had time to change $v_{o}(t)$ appreciably within the first cycle, so you may treat $v_{o}(t)$ as approximately equal to its pre-step steady value $V_{o0}$ for the purpose of computing the first-cycle inductor volt-second imbalance and the initial average inductor current ramp.\n\nUsing only fundamental relations for the inductor and the switching states of the buck converter and without invoking any pre-derived duty-to-voltage formulas, do the following:\n- Derive the net inductor volt-seconds over the very first switching cycle after the step in duty ratio.\n- Using the averaged inductor voltage over a switching period and the inductor constitutive relation, derive the expression for the average inductor current $i_{L}(t)$ as a function of time for small $t>0$ during which $v_{o}(t)\\approx V_{o0}$ remains a valid approximation, showing its linear ramp behavior until the output voltage begins to deviate significantly toward the new equilibrium.\n\nExpress your final results symbolically in terms of $V_{g}$, $L$, $T_{s}$, $D_{0}$, $\\Delta D$, and the pre-step average inductor current $I_{L0}$ (equal to the load current at $t=0$ under the given assumptions). Express all derived quantities in base International System of Units (SI) if evaluated numerically. No numerical evaluation is required. Your final answer must be a single composite analytic expression.",
            "solution": "The problem asks for two quantities related to the transient response of an ideal buck converter following a step change in its duty ratio: the net inductor volt-seconds over the first switching cycle, and the expression for the average inductor current for a short time after the step. The analysis will be performed from first principles as stipulated.\n\nFirst, we establish the relationship between the input voltage $V_g$, the steady-state output voltage $V_{o0}$, and the initial steady-state duty ratio $D_0$. For a buck converter in steady state, the principle of inductor volt-second balance requires that the time integral of the voltage across the inductor over one switching period $T_s$ is zero. The voltage across the inductor $L$ is given by $v_L(t)$.\nDuring the ON-time, from $t=0$ to $t=D_0 T_s$, the switch is closed, and the inductor voltage is $v_L(t) = V_g - v_o(t)$.\nDuring the OFF-time, from $t=D_0 T_s$ to $t=T_s$, the switch is open, and the inductor current freewheels through the diode, yielding an inductor voltage of $v_L(t) = -v_o(t)$.\nIn steady state, the output voltage is constant, $v_o(t) = V_{o0}$. Applying the volt-second balance principle:\n$$\n\\int_{0}^{T_s} v_L(t) \\mathrm{d}t = \\int_{0}^{D_0 T_s} (V_g - V_{o0}) \\mathrm{d}t + \\int_{D_0 T_s}^{T_s} (-V_{o0}) \\mathrm{d}t = 0\n$$\n$$\n(V_g - V_{o0}) D_0 T_s - V_{o0} (T_s - D_0 T_s) = 0\n$$\n$$\nV_g D_0 T_s - V_{o0} D_0 T_s - V_{o0} T_s + V_{o0} D_0 T_s = 0\n$$\n$$\nV_g D_0 T_s - V_{o0} T_s = 0\n$$\nThis gives the steady-state output voltage as $V_{o0} = D_0 V_g$. This relationship, derived from fundamental principles, will be used in the subsequent analysis.\n\nAt time $t=0$, the duty ratio is stepped from $D_0$ to $D_1 = D_0 + \\Delta D$. We are asked to find the net inductor volt-seconds, which we will call $\\Lambda_{cyc1}$, over the very first switching cycle, i.e., for the interval $0 \\le t < T_s$. The problem states that during this first cycle, the output voltage remains approximately equal to its pre-step value, $v_o(t) \\approx V_{o0}$.\nThe duration of the ON-time in this cycle is $D_1 T_s$, and the OFF-time is $(1-D_1)T_s$. The inductor voltage during these intervals is $v_L(t) \\approx V_g - V_{o0}$ and $v_L(t) \\approx -V_{o0}$, respectively.\nThe net volt-seconds is the integral of $v_L(t)$ over this first period:\n$$\n\\Lambda_{cyc1} = \\int_{0}^{T_s} v_L(t) \\mathrm{d}t = \\int_{0}^{D_1 T_s} (V_g - V_{o0}) \\mathrm{d}t + \\int_{D_1 T_s}^{T_s} (-V_{o0}) \\mathrm{d}t\n$$\n$$\n\\Lambda_{cyc1} = (V_g - V_{o0}) D_1 T_s - V_{o0} (T_s - D_1 T_s) = V_g D_1 T_s - V_{o0} T_s\n$$\nNow, we substitute the previously derived relation $V_{o0} = D_0 V_g$:\n$$\n\\Lambda_{cyc1} = V_g D_1 T_s - (D_0 V_g) T_s = V_g (D_1 - D_0) T_s\n$$\nGiven that $D_1 = D_0 + \\Delta D$, we have $D_1 - D_0 = \\Delta D$. Therefore, the net volt-seconds over the first cycle is:\n$$\n\\Lambda_{cyc1} = V_g \\Delta D T_s\n$$\nThis non-zero value signifies that the converter is no longer in steady state and the inductor flux is changing on a cycle-by-cycle basis.\n\nNext, we derive the expression for the average inductor current, denoted as $i_L(t)$, for small $t>0$. The dynamics of the average inductor current are described by the averaged inductor model, which uses the inductor's constitutive relation $v_L = L \\frac{\\mathrm{d}i_L}{\\mathrm{d}t}$ applied to cycle-averaged quantities.\n$$\nL \\frac{\\mathrm{d} i_L(t)}{\\mathrm{d}t} = \\langle v_L(t) \\rangle\n$$\nHere, $\\langle v_L(t) \\rangle$ is the inductor voltage averaged over one switching period. This average voltage is the net volt-seconds over the cycle divided by the period duration $T_s$. For the initial transient (small $t>0$), the duty ratio is $D_1$ and the output voltage is approximately $V_{o0}$, so the average voltage is constant from one cycle to the next.\n$$\n\\langle v_L(t) \\rangle = \\frac{\\Lambda_{cyc1}}{T_s} = \\frac{V_g \\Delta D T_s}{T_s} = V_g \\Delta D\n$$\nSubstituting this into the averaged inductor equation gives a first-order ordinary differential equation for the average current $i_L(t)$:\n$$\nL \\frac{\\mathrm{d} i_L(t)}{\\mathrm{d}t} = V_g \\Delta D\n$$\nThe rate of change of the average inductor current is therefore constant during this initial phase:\n$$\n\\frac{\\mathrm{d} i_L(t)}{\\mathrm{d}t} = \\frac{V_g \\Delta D}{L}\n$$\nTo find the expression for $i_L(t)$, we integrate with respect to time from $t=0$:\n$$\ni_L(t) = i_L(0) + \\int_{0}^{t} \\left( \\frac{\\mathrm{d} i_L(\\tau)}{\\mathrm{d}\\tau} \\right) \\mathrm{d}\\tau = i_L(0) + \\int_{0}^{t} \\frac{V_g \\Delta D}{L} \\mathrm{d}\\tau\n$$\nThe initial condition is the average inductor current just before the step, which is the steady-state current $I_{L0}$. So, $i_L(0) = I_{L0}$.\n$$\ni_L(t) = I_{L0} + \\frac{V_g \\Delta D}{L} t\n$$\nThis equation describes the linear ramp of the average inductor current as a function of time $t$, valid for the initial period after the step change in duty ratio where the output voltage has not yet changed significantly.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} V_g \\Delta D T_s & I_{L0} + \\frac{V_g \\Delta D}{L} t \\end{pmatrix}}\n$$"
        }
    ]
}