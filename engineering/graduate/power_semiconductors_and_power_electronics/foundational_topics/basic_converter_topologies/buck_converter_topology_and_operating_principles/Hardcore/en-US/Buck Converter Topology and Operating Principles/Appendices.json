{
    "hands_on_practices": [
        {
            "introduction": "The ideal buck converter equation, $V_o = D V_{in}$, is a powerful starting point, but real-world components introduce deviations. This first practice moves beyond idealism by incorporating the inductor's winding resistance (DCR), a fundamental parasitic element. By applying first principles of volt-second balance, you will derive how this resistance creates a load-dependent voltage drop and quantify the resulting DC regulation error, a crucial first step in understanding the performance of a non-ideal converter .",
            "id": "3824689",
            "problem": "Consider an ideal step-down (buck) converter operating in Continuous-Conduction Mode (CCM), driven by Pulse-Width Modulation (PWM) with duty ratio $D$. The power stage consists of an ideal controlled switch, an ideal diode, an input source of voltage $V_{\\mathrm{in}}$, a series inductive element modeled as an ideal inductance $L$ in series with a winding resistance (Direct Current Resistance) $R_{L}$, an output capacitor $C$ (with negligible equivalent series resistance), and a resistive load $R_{\\mathrm{load}}$. Assume periodic steady state, negligible semiconductor drops, negligible switching transition times, and that the average output ripple is sufficiently small so that the direct current analysis is meaningful. The controller is designed under the idealized assumption of zero inductor resistance and uses the relation $D = V_{\\mathrm{ref}}/V_{\\mathrm{in}}$ to target a reference output voltage $V_{\\mathrm{ref}}$.\n\nStarting only from the inductor constitutive relation $v_{L,\\mathrm{ideal}} = L\\,\\mathrm{d}i_{L}/\\mathrm{d}t$, periodic steady-state averaging over one switching period, and the piecewise terminal voltage across the inductor branch during the switch on-interval and off-interval, derive the direct current output voltage in the presence of the inductor winding resistance $R_{L}$. Use the facts that in steady state the average voltage across the ideal inductance is zero and the average capacitor current is zero.\n\nData: $V_{\\mathrm{in}} = 12\\,\\mathrm{V}$, $V_{\\mathrm{ref}} = 5\\,\\mathrm{V}$, $R_{\\mathrm{load}} = 2.0\\,\\Omega$, $R_{L} = 0.050\\,\\Omega$, $L = 50\\,\\mu\\mathrm{H}$, $f_{s} = 200\\,\\mathrm{kHz}$, and $C = 47\\,\\mu\\mathrm{F}$. Treat $L$, $f_{s}$, and $C$ only as parameters ensuring CCM and small ripple; do not invoke any shortcut output-voltage formula that presumes losses.\n\nDefine the regulation error as the unitless decimal\n$$\\varepsilon \\equiv \\frac{V_{\\mathrm{ref}} - v_{o,\\mathrm{actual}}}{V_{\\mathrm{ref}}}.$$\nCompute $\\varepsilon$ under the stated conditions. Express the final answer as a decimal (no unit) rounded to four significant figures.",
            "solution": "The physical inductor is modeled as an ideal inductance $L$ in series with a resistance $R_{L}$. Let $i_{L}(t)$ denote the inductor current, $v_{\\mathrm{br}}(t)$ the terminal voltage across the inductor branch (including $R_{L}$ and $L$), and $v_{L,\\mathrm{ideal}}(t)$ the voltage across the ideal inductance. The constitutive relation for the ideal inductance is\n$$\nv_{L,\\mathrm{ideal}}(t) = L \\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t}.\n$$\nThe branch voltage splits as\n$$\nv_{L,\\mathrm{ideal}}(t) = v_{\\mathrm{br}}(t) - R_{L}\\,i_{L}(t).\n$$\nIn a buck converter, the inductor branch terminal voltage is piecewise constant over the switching period $T = 1/f_{s}$:\n- During the on-interval of duration $D T$, the controlled switch connects the input to the inductor node, giving $v_{\\mathrm{br}}(t) = V_{\\mathrm{in}} - v_{o}(t)$.\n- During the off-interval of duration $(1-D)T$, the diode conducts to ground, giving $v_{\\mathrm{br}}(t) = 0 - v_{o}(t) = -v_{o}(t)$.\n\nIn periodic steady state, the average of $v_{L,\\mathrm{ideal}}(t)$ over one period is zero:\n$$\n\\frac{1}{T}\\int_{0}^{T} v_{L,\\mathrm{ideal}}(t)\\,\\mathrm{d}t = 0.\n$$\nUsing the splitting,\n$$\n\\frac{1}{T}\\int_{0}^{T} \\big(v_{\\mathrm{br}}(t) - R_{L} i_{L}(t)\\big)\\,\\mathrm{d}t = 0,\n$$\nso\n$$\n\\overline{v_{\\mathrm{br}}} - R_{L}\\,\\overline{i_{L}} = 0,\n$$\nwhere the overbar denotes the period average. Evaluating $\\overline{v_{\\mathrm{br}}}$ with the piecewise constant values,\n$$\n\\overline{v_{\\mathrm{br}}} = D\\,(V_{\\mathrm{in}} - \\overline{v_{o}}) + (1-D)\\,(-\\overline{v_{o}}) = D V_{\\mathrm{in}} - \\overline{v_{o}}.\n$$\nSubstituting,\n$$\nD V_{\\mathrm{in}} - \\overline{v_{o}} - R_{L}\\,\\overline{i_{L}} = 0,\n$$\nwhich yields the steady-state direct current output voltage relation\n$$\n\\overline{v_{o}} = D V_{\\mathrm{in}} - R_{L}\\,\\overline{i_{L}}.\n$$\nNext, relate $\\overline{i_{L}}$ to the load. In steady state, the average capacitor current is zero, so the average inductor current equals the average load current:\n$$\n\\overline{i_{L}} = \\overline{i_{\\mathrm{load}}} = \\frac{\\overline{v_{o}}}{R_{\\mathrm{load}}}.\n$$\nSubstitute this into the previous expression to obtain a self-consistent equation for $\\overline{v_{o}}$:\n$$\n\\overline{v_{o}} = D V_{\\mathrm{in}} - R_{L}\\,\\frac{\\overline{v_{o}}}{R_{\\mathrm{load}}}.\n$$\nRearrange to solve for $\\overline{v_{o}}$:\n$$\n\\overline{v_{o}}\\left(1 + \\frac{R_{L}}{R_{\\mathrm{load}}}\\right) = D V_{\\mathrm{in}},\n$$\n$$\n\\overline{v_{o}} = \\frac{D V_{\\mathrm{in}}}{1 + \\frac{R_{L}}{R_{\\mathrm{load}}}}.\n$$\nThe controller, designed under the idealized assumption $R_{L} = 0$, sets\n$$\nD = \\frac{V_{\\mathrm{ref}}}{V_{\\mathrm{in}}}.\n$$\nTherefore,\n$$\n\\overline{v_{o}} = \\frac{V_{\\mathrm{ref}}}{1 + \\frac{R_{L}}{R_{\\mathrm{load}}}}.\n$$\nThe regulation error $\\varepsilon$ is\n$$\n\\varepsilon = \\frac{V_{\\mathrm{ref}} - \\overline{v_{o}}}{V_{\\mathrm{ref}}} = 1 - \\frac{\\overline{v_{o}}}{V_{\\mathrm{ref}}} = 1 - \\frac{1}{1 + \\frac{R_{L}}{R_{\\mathrm{load}}}} = \\frac{\\frac{R_{L}}{R_{\\mathrm{load}}}}{1 + \\frac{R_{L}}{R_{\\mathrm{load}}}}.\n$$\nInsert the given numerical values $R_{L} = 0.050\\,\\Omega$ and $R_{\\mathrm{load}} = 2.0\\,\\Omega$:\n$$\n\\frac{R_{L}}{R_{\\mathrm{load}}} = \\frac{0.050}{2.0} = 0.025,\n$$\nso\n$$\n\\varepsilon = \\frac{0.025}{1 + 0.025} = \\frac{0.025}{1.025} = 0.0243902439\\ldots\n$$\nRounded to four significant figures, the required decimal is\n$$\n\\varepsilon \\approx 0.02439.\n$$\nNote that $V_{\\mathrm{in}}$, $L$, $f_{s}$, and $C$ enter only to justify CCM and small ripple; the direct current regulation error due to $R_{L}$ arises from the averaged inductor voltage balance and load-current relation.",
            "answer": "$$\\boxed{0.02439}$$"
        },
        {
            "introduction": "Efficiency is a primary metric for any power converter, and understanding the sources of loss is key to optimizing performance. This exercise focuses on quantifying the major steady-state conduction losses in a synchronous buck converter, which arise from the resistances of the MOSFETs, inductor winding, and capacitor ESR. You will calculate the total power dissipated and see how this electrical loss translates into thermal stress on a component, linking circuit analysis to thermal management .",
            "id": "3824695",
            "problem": "A synchronous DC-DC buck converter operates from an input of $V_{\\text{in}} = 12\\,\\text{V}$ to deliver an output of $V_{\\text{o}} = 5\\,\\text{V}$ at a load current of $I_{\\text{o}} = 10\\,\\text{A}$. The switching frequency is $f_{s} = 300\\,\\text{kHz}$, the output inductor is $L = 2\\,\\mu\\text{H}$ with winding (copper) resistance $R_{L} = 10\\,\\text{m}\\Omega$, and the output capacitor is $C = 100\\,\\mu\\text{F}$ with equivalent series resistance (ESR) $R_{\\text{ESR}} = 5\\,\\text{m}\\Omega$. The high-side metal-oxide-semiconductor field-effect transistor (MOSFET) has on-resistance $R_{\\text{ds,on,H}} = 5\\,\\text{m}\\Omega$ and junction-to-ambient thermal resistance $R_{\\theta,\\text{jA,H}} = 30\\,\\text{K/W}$. The low-side MOSFET has on-resistance $R_{\\text{ds,on,L}} = 3\\,\\text{m}\\Omega$. Neglect all switching, magnetic core, and gate-drive losses, and assume continuous conduction mode with a steady triangular inductor current ripple set by idealized piecewise-constant inductor voltages during the high-side and low-side intervals.\n\nStarting from first principles:\n- Use the definition of instantaneous power in a resistor, $p(t) = v(t)\\,i(t)$, with $v(t) = R\\,i(t)$, to relate average conduction loss to the time average of $i^{2}(t)$.\n- Use the definition of root-mean-square (RMS) current, $I_{\\text{rms}} = \\sqrt{\\frac{1}{T}\\int_{0}^{T} i^{2}(t)\\,dt}$, to express conduction loss in each resistive element.\n- Use duty-cycle partitioning for device conduction intervals based on the ideal buck converter relationship $D = V_{\\text{o}}/V_{\\text{in}}$.\n- Use the relationship between inductor current ripple and the inductor voltage over each subinterval, and the fact that the output capacitor current equals the AC component of the inductor current when the load current is constant.\n\nCompute:\n1. The total conduction loss, $P_{\\text{cond,total}}$, as the sum of the average resistive conduction losses in the high-side MOSFET channel, the low-side MOSFET channel, the inductor winding resistance, and the capacitor ESR.\n2. The junction temperature rise of the high-side MOSFET due to its conduction loss, $\\Delta T_{\\text{j,H}}$, via the junction-to-ambient thermal resistance.\n\nSelect the option that correctly reports $P_{\\text{cond,total}}$ and $\\Delta T_{\\text{j,H}}$.\n\nA. $P_{\\text{cond,total}} \\approx 1.42$ watts, $\\Delta T_{\\text{j,H}} \\approx 6.4$ kelvins\n\nB. $P_{\\text{cond,total}} \\approx 2.30$ watts, $\\Delta T_{\\text{j,H}} \\approx 15.0$ kelvins\n\nC. $P_{\\text{cond,total}} \\approx 1.89$ watts, $\\Delta T_{\\text{j,H}} \\approx 6.25$ kelvins\n\nD. $P_{\\text{cond,total}} \\approx 1.85$ watts, $\\Delta T_{\\text{j,H}} \\approx 9.9$ kelvins",
            "solution": "The solution requires calculating the total conduction loss by summing the losses in the two MOSFETs, the inductor winding, and the capacitor ESR. This requires finding the RMS current through each component.\n\n**1. Calculate Duty Cycle and Inductor Current Ripple**\nThe ideal duty cycle $D$ is given by the voltage conversion ratio:\n$$D = \\frac{V_{\\text{o}}}{V_{\\text{in}}} = \\frac{5\\,\\text{V}}{12\\,\\text{V}} = \\frac{5}{12}$$\nThe peak-to-peak inductor current ripple, $\\Delta i_L$, is calculated during the OFF-time of the high-side switch:\n$$\\Delta i_L = \\frac{V_{\\text{o}}}{L}(1-D)T_s = \\frac{V_{\\text{o}}(1-D)}{L f_{s}}$$\n$$\\Delta i_L = \\frac{5\\,\\text{V} \\cdot (1 - 5/12)}{2\\,\\mu\\text{H} \\cdot 300\\,\\text{kHz}} = \\frac{5 \\cdot (7/12)}{2 \\times 10^{-6} \\cdot 300 \\times 10^{3}} = \\frac{35/12}{0.6} = \\frac{175}{36}\\,\\text{A} \\approx 4.861\\,\\text{A}$$\n\n**2. Calculate RMS Currents and Individual Conduction Losses**\nThe inductor current $i_L(t)$ has a DC component $I_{\\text{o}} = 10\\,\\text{A}$ and a triangular AC component. The squared RMS value of the inductor current is:\n$$I_{L, \\text{rms}}^2 = I_{\\text{o}}^2 + I_{\\text{ac,rms}}^2 = I_{\\text{o}}^2 + \\frac{(\\Delta i_L)^2}{12}$$\n$$I_{L, \\text{rms}}^2 = (10\\,\\text{A})^2 + \\frac{(175/36\\,\\text{A})^2}{12} \\approx 100 + 1.969\\,\\text{A}^2 = 101.969\\,\\text{A}^2$$\nThe individual losses are calculated as $P = I_{\\text{rms}}^2 R$:\n- **Inductor Winding Loss ($P_{R_L}$):** The full inductor current flows through $R_L$.\n$$P_{R_L} = I_{L, \\text{rms}}^2 R_{L} \\approx 101.969\\,\\text{A}^2 \\cdot 10\\,\\text{m}\\Omega \\approx 1.020\\,\\text{W}$$\n- **High-Side MOSFET Loss ($P_H$):** This MOSFET conducts for a fraction $D$ of the time.\n$$P_{H} = (D \\cdot I_{L, \\text{rms}}^2) R_{\\text{ds,on,H}} \\approx \\left(\\frac{5}{12} \\cdot 101.969\\,\\text{A}^2\\right) \\cdot 5\\,\\text{m}\\Omega \\approx 0.212\\,\\text{W}$$\n- **Low-Side MOSFET Loss ($P_L$):** This MOSFET conducts for a fraction $(1-D)$ of the time.\n$$P_{L} = ((1-D) \\cdot I_{L, \\text{rms}}^2) R_{\\text{ds,on,L}} \\approx \\left(\\frac{7}{12} \\cdot 101.969\\,\\text{A}^2\\right) \\cdot 3\\,\\text{m}\\Omega \\approx 0.178\\,\\text{W}$$\n- **Capacitor ESR Loss ($P_{\\text{ESR}}$):** Only the AC component of the inductor current flows through the capacitor.\n$$I_{C, \\text{rms}}^2 = \\frac{(\\Delta i_L)^2}{12} \\approx 1.969\\,\\text{A}^2$$\n$$P_{\\text{ESR}} = I_{C, \\text{rms}}^2 R_{\\text{ESR}} \\approx 1.969\\,\\text{A}^2 \\cdot 5\\,\\text{m}\\Omega \\approx 0.010\\,\\text{W}$$\n\n**3. Calculate Total Conduction Loss**\n$$P_{\\text{cond,total}} = P_{R_L} + P_H + P_L + P_{\\text{ESR}} \\approx 1.020 + 0.212 + 0.178 + 0.010 = 1.420\\,\\text{W}$$\n\n**4. Calculate Temperature Rise of High-Side MOSFET**\nThe junction temperature rise is the power dissipated in the device multiplied by its thermal resistance.\n$$\\Delta T_{\\text{j,H}} = P_H \\cdot R_{\\theta,\\text{jA,H}} \\approx 0.212\\,\\text{W} \\cdot 30\\,\\text{K/W} \\approx 6.36\\,\\text{K}$$\n\nThe calculated values are $P_{\\text{cond,total}} \\approx 1.42\\,\\text{W}$ and $\\Delta T_{\\text{j,H}} \\approx 6.4\\,\\text{K}$. This corresponds to option A.",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "A robust power supply must safely handle not just steady-state operation but also abrupt changes in load. This practice explores the dynamic behavior of a buck converter during a worst-case load-step transient, considering the critical role of control loop latency. You will calculate the peak inductor current under these stressful conditions, a vital analysis for ensuring the magnetic core does not saturate and the power components remain within their safe operating limits .",
            "id": "3824697",
            "problem": "An ideal buck converter delivers a regulated output voltage $V_{o}$ to a resistive load in continuous conduction mode (CCM). All semiconductor devices are ideal, the capacitor is ideal with sufficiently low ripple such that $V_{o}$ remains effectively constant during the short switching transients considered, and the inductor has inductance $L$ and a core with a specified saturation current $I_{\\mathrm{sat}}$. The input voltage $V_{\\mathrm{in}}$ may vary over a range. The digital pulse-width modulation (PWM) control loop imposes a worst-case response in which, immediately following a positive load-current step, the high-side switch is commanded fully on (duty $D=1$) for a fixed contiguous duration $t_{w}$ due to sensing, computation, and actuation latencies. Assume that the load step occurs at the worst phase of the switching cycle: exactly at the inductor-current valley. Further, assume that the worst-case transient aligns with the maximum input voltage $V_{\\mathrm{in,max}}$ at the instant of the step.\n\nStarting from the inductor voltage-current relation and the switching states of a buck converter, derive a physically consistent expression for the worst-case peak inductor current during this event, and then evaluate it numerically for the following parameters:\n- Regulated output voltage $V_{o} = 5\\ \\mathrm{V}$.\n- Input-voltage range $V_{\\mathrm{in}} \\in [10\\ \\mathrm{V},\\, 20\\ \\mathrm{V}]$, with $V_{\\mathrm{in,max}} = 20\\ \\mathrm{V}$ at the transient.\n- Inductance $L = 22\\ \\mu\\mathrm{H}$.\n- Switching frequency $f_{s} = 400\\ \\mathrm{kHz}$.\n- Load current steps from $I_{1} = 4\\ \\mathrm{A}$ to $I_{2} = 8\\ \\mathrm{A}$ at $t=0$.\n- Worst-case contiguous high-side on-time after the step $t_{w} = 8\\ \\mu\\mathrm{s}$.\n- Inductor core saturation current $I_{\\mathrm{sat}} = 12\\ \\mathrm{A}$.\n\nTreat the steady-state inductor-current ripple immediately before the step consistently with the same $V_{\\mathrm{in,max}}$ and $f_{s}$. Use these to construct the worst-case initial valley current at $t=0^{-}$. Then, use the worst-case on-state inductor-voltage to evolve the current over the interval $t_{w}$ and determine the maximum inductor current attained. Verify against the given $I_{\\mathrm{sat}}$ that the core does not saturate under this worst-case event.\n\nExpress the final peak inductor current in amperes (A) and round your answer to four significant figures. The final answer must be a single real number.",
            "solution": "The problem asks for the worst-case peak inductor current during a load-step transient. The worst case is defined as the load step occurring at the inductor current valley, while the input voltage is at its maximum, $V_{\\mathrm{in,max}}$.\n\n**1. Determine the Initial Inductor Current**\nBefore the transient at $t=0$, the converter is in steady state with load current $I_1 = 4\\,\\text{A}$. The average inductor current is thus $\\overline{I_L} = 4\\,\\text{A}$. The problem specifies using $V_{\\mathrm{in,max}} = 20\\,\\text{V}$ to calculate the pre-transient ripple.\nThe steady-state duty cycle is $D = V_o / V_{\\mathrm{in,max}} = 5\\,\\text{V} / 20\\,\\text{V} = 0.25$.\nThe peak-to-peak ripple, $\\Delta i_L$, is:\n$$\\Delta i_L = \\frac{(V_{\\mathrm{in,max}} - V_o) D T_s}{L} = \\frac{(20 - 5)\\,\\text{V} \\cdot 0.25}{(400\\,\\text{kHz}) \\cdot (22\\,\\mu\\text{H})} = \\frac{15 \\cdot 0.25}{8.8}\\,\\text{A} = \\frac{75}{176}\\,\\text{A}$$\nThe transient starts at the inductor current valley. The initial current at $t=0$ is:\n$$i_L(0) = \\overline{I_L} - \\frac{\\Delta i_L}{2} = 4\\,\\text{A} - \\frac{1}{2} \\cdot \\frac{75}{176}\\,\\text{A} = 4 - \\frac{75}{352} = \\frac{1408 - 75}{352} = \\frac{1333}{352}\\,\\text{A}$$\n\n**2. Calculate the Current Rise During the Transient**\nFor the duration $t_w = 8\\,\\mu\\text{s}$, the high-side switch is held on. The voltage across the inductor is at its maximum possible value:\n$$v_L = V_{\\mathrm{in,max}} - V_o = 20\\,\\text{V} - 5\\,\\text{V} = 15\\,\\text{V}$$\nThe increase in inductor current during this interval, $\\Delta i_{L,\\text{transient}}$, is:\n$$\\Delta i_{L,\\text{transient}} = \\frac{v_L \\cdot t_w}{L} = \\frac{15\\,\\text{V} \\cdot 8\\,\\mu\\text{s}}{22\\,\\mu\\text{H}} = \\frac{120}{22} = \\frac{60}{11}\\,\\text{A}$$\n\n**3. Calculate the Final Peak Current**\nThe worst-case peak inductor current is the sum of the initial current and the transient current rise:\n$$I_{L,\\text{peak,worst}} = i_L(0) + \\Delta i_{L,\\text{transient}} = \\frac{1333}{352}\\,\\text{A} + \\frac{60}{11}\\,\\text{A}$$\nUsing a common denominator of 352 (since $352 = 11 \\times 32$):\n$$I_{L,\\text{peak,worst}} = \\frac{1333}{352} + \\frac{60 \\cdot 32}{352} = \\frac{1333 + 1920}{352} = \\frac{3253}{352}\\,\\text{A}$$\nConverting to a decimal and rounding to four significant figures:\n$$I_{L,\\text{peak,worst}} \\approx 9.24147... \\approx 9.241\\,\\text{A}$$\n\n**4. Verification**\nThe calculated peak current $9.241\\,\\text{A}$ is less than the inductor's saturation current $I_{\\mathrm{sat}} = 12\\,\\text{A}$, so the core does not saturate. The assumption of constant inductance is valid.\n\nThe final answer is 9.241.",
            "answer": "$$\\boxed{9.241}$$"
        }
    ]
}