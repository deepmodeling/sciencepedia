{
    "hands_on_practices": [
        {
            "introduction": "The ideal relationship $V_o = D V_{in}$ provides a fundamental understanding of the buck converter, but real-world performance is influenced by parasitic elements. This first practice moves beyond idealizations by incorporating the inductor's winding resistance, or Direct Current Resistance (DCR). By applying the principle of inductor volt-second balance in the presence of this parasitic resistance, you will derive a more accurate model for the DC output voltage and quantify the resulting regulation error. This exercise is crucial for understanding how component imperfections directly impact a converter's primary function of voltage regulation. ",
            "id": "3824689",
            "problem": "Consider an ideal step-down (buck) converter operating in Continuous-Conduction Mode (CCM), driven by Pulse-Width Modulation (PWM) with duty ratio $D$. The power stage consists of an ideal controlled switch, an ideal diode, an input source of voltage $V_{\\mathrm{in}}$, a series inductive element modeled as an ideal inductance $L$ in series with a winding resistance (Direct Current Resistance) $R_{L}$, an output capacitor $C$ (with negligible equivalent series resistance), and a resistive load $R_{\\mathrm{load}}$. Assume periodic steady state, negligible semiconductor drops, negligible switching transition times, and that the average output ripple is sufficiently small so that the direct current analysis is meaningful. The controller is designed under the idealized assumption of zero inductor resistance and uses the relation $D = V_{\\mathrm{ref}}/V_{\\mathrm{in}}$ to target a reference output voltage $V_{\\mathrm{ref}}$.\n\nStarting only from the inductor constitutive relation $v_{L,\\mathrm{ideal}} = L\\,\\mathrm{d}i_{L}/\\mathrm{d}t$, periodic steady-state averaging over one switching period, and the piecewise terminal voltage across the inductor branch during the switch on-interval and off-interval, derive the direct current output voltage in the presence of the inductor winding resistance $R_{L}$. Use the facts that in steady state the average voltage across the ideal inductance is zero and the average capacitor current is zero.\n\nData: $V_{\\mathrm{in}} = 12\\,\\mathrm{V}$, $V_{\\mathrm{ref}} = 5\\,\\mathrm{V}$, $R_{\\mathrm{load}} = 2.0\\,\\Omega$, $R_{L} = 0.050\\,\\Omega$, $L = 50\\,\\mu\\mathrm{H}$, $f_{s} = 200\\,\\mathrm{kHz}$, and $C = 47\\,\\mu\\mathrm{F}$. Treat $L$, $f_{s}$, and $C$ only as parameters ensuring CCM and small ripple; do not invoke any shortcut output-voltage formula that presumes losses.\n\nDefine the regulation error as the unitless decimal\n$$\\varepsilon \\equiv \\frac{V_{\\mathrm{ref}} - v_{o,\\mathrm{actual}}}{V_{\\mathrm{ref}}}.$$\nCompute $\\varepsilon$ under the stated conditions. Express the final answer as a decimal (no unit) rounded to four significant figures.",
            "solution": "The physical inductor is modeled as an ideal inductance $L$ in series with a resistance $R_{L}$. Let $i_{L}(t)$ denote the inductor current, $v_{\\mathrm{br}}(t)$ the terminal voltage across the inductor branch (including $R_{L}$ and $L$), and $v_{L,\\mathrm{ideal}}(t)$ the voltage across the ideal inductance. The constitutive relation for the ideal inductance is\n$$\nv_{L,\\mathrm{ideal}}(t) = L \\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t}.\n$$\nThe branch voltage splits as\n$$\nv_{L,\\mathrm{ideal}}(t) = v_{\\mathrm{br}}(t) - R_{L}\\,i_{L}(t).\n$$\nIn a buck converter, the inductor branch terminal voltage is piecewise constant over the switching period $T = 1/f_{s}$:\n- During the on-interval of duration $D T$, the controlled switch connects the input to the inductor node, giving $v_{\\mathrm{br}}(t) = V_{\\mathrm{in}} - v_{o}(t)$.\n- During the off-interval of duration $(1-D)T$, the diode conducts to ground, giving $v_{\\mathrm{br}}(t) = 0 - v_{o}(t) = -v_{o}(t)$.\n\nIn periodic steady state, the average of $v_{L,\\mathrm{ideal}}(t)$ over one period is zero:\n$$\n\\frac{1}{T}\\int_{0}^{T} v_{L,\\mathrm{ideal}}(t)\\,\\mathrm{d}t = 0.\n$$\nUsing the splitting,\n$$\n\\frac{1}{T}\\int_{0}^{T} \\big(v_{\\mathrm{br}}(t) - R_{L} i_{L}(t)\\big)\\,\\mathrm{d}t = 0,\n$$\nso\n$$\n\\overline{v_{\\mathrm{br}}} - R_{L}\\,\\overline{i_{L}} = 0,\n$$\nwhere the overbar denotes the period average. Evaluating $\\overline{v_{\\mathrm{br}}}$ with the piecewise constant values,\n$$\n\\overline{v_{\\mathrm{br}}} = D\\,(V_{\\mathrm{in}} - \\overline{v_{o}}) + (1-D)\\,(-\\overline{v_{o}}) = D V_{\\mathrm{in}} - \\overline{v_{o}}.\n$$\nSubstituting,\n$$\nD V_{\\mathrm{in}} - \\overline{v_{o}} - R_{L}\\,\\overline{i_{L}} = 0,\n$$\nwhich yields the steady-state direct current output voltage relation\n$$\n\\overline{v_{o}} = D V_{\\mathrm{in}} - R_{L}\\,\\overline{i_{L}}.\n$$\nNext, relate $\\overline{i_{L}}$ to the load. In steady state, the average capacitor current is zero, so the average inductor current equals the average load current:\n$$\n\\overline{i_{L}} = \\overline{i_{\\mathrm{load}}} = \\frac{\\overline{v_{o}}}{R_{\\mathrm{load}}}.\n$$\nSubstitute this into the previous expression to obtain a self-consistent equation for $\\overline{v_{o}}$:\n$$\n\\overline{v_{o}} = D V_{\\mathrm{in}} - R_{L}\\,\\frac{\\overline{v_{o}}}{R_{\\mathrm{load}}}.\n$$\nRearrange to solve for $\\overline{v_{o}}$:\n$$\n\\overline{v_{o}}\\left(1 + \\frac{R_{L}}{R_{\\mathrm{load}}}\\right) = D V_{\\mathrm{in}},\n$$\n$$\n\\overline{v_{o}} = \\frac{D V_{\\mathrm{in}}}{1 + \\frac{R_{L}}{R_{\\mathrm{load}}}}.\n$$\nThe controller, designed under the idealized assumption $R_{L} = 0$, sets\n$$\nD = \\frac{V_{\\mathrm{ref}}}{V_{\\mathrm{in}}}.\n$$\nTherefore,\n$$\n\\overline{v_{o}} = \\frac{V_{\\mathrm{ref}}}{1 + \\frac{R_{L}}{R_{\\mathrm{load}}}}.\n$$\nThe regulation error $\\varepsilon$ is\n$$\n\\varepsilon = \\frac{V_{\\mathrm{ref}} - \\overline{v_{o}}}{V_{\\mathrm{ref}}} = 1 - \\frac{\\overline{v_{o}}}{V_{\\mathrm{ref}}} = 1 - \\frac{1}{1 + \\frac{R_{L}}{R_{\\mathrm{load}}}} = \\frac{\\frac{R_{L}}{R_{\\mathrm{load}}}}{1 + \\frac{R_{L}}{R_{\\mathrm{load}}}}.\n$$\nInsert the given numerical values $R_{L} = 0.050\\,\\Omega$ and $R_{\\mathrm{load}} = 2.0\\,\\Omega$:\n$$\n\\frac{R_{L}}{R_{\\mathrm{load}}} = \\frac{0.050}{2.0} = 0.025,\n$$\nso\n$$\n\\varepsilon = \\frac{0.025}{1 + 0.025} = \\frac{0.025}{1.025} = 0.0243902439\\ldots\n$$\nRounded to four significant figures, the required decimal is\n$$\n\\varepsilon \\approx 0.02439.\n$$\nNote that $V_{\\mathrm{in}}$, $L$, $f_{s}$, and $C$ enter only to justify CCM and small ripple; the direct current regulation error due to $R_{L}$ arises from the averaged inductor voltage balance and load-current relation.",
            "answer": "$$\\boxed{0.02439}$$"
        },
        {
            "introduction": "Building on the analysis of parasitic effects, we now turn our attention to converter efficiency and thermal management. This practice focuses on quantifying the primary steady-state power dissipation: conduction losses in the power path components. You will calculate the root-mean-square (RMS) current through the MOSFETs, inductor, and capacitor to determine the power lost in their respective resistances, emphasizing the role of current ripple. This analysis is fundamental for creating a power loss budget and directly links electrical performance to the thermal stress on components, a critical aspect of reliable power converter design. ",
            "id": "3824695",
            "problem": "A synchronous direct current to direct current ($\\text{DC-DC}$) buck converter operates from an input of $V_{\\text{in}} = 12$ volts to deliver an output of $V_{\\text{o}} = 5$ volts at a load current of $I_{\\text{o}} = 10$ amperes. The switching frequency is $f_{\\text{s}} = 300\\,000$ hertz, the output inductor is $L = 2$ microhenries with winding (copper) resistance $R_{L} = 10$ milliohms, and the output capacitor is $C = 100$ microfarads with equivalent series resistance (ESR) $R_{\\text{ESR}} = 5$ milliohms. The high-side metal-oxide-semiconductor field-effect transistor (MOSFET) has on-resistance $R_{\\text{ds,on,H}} = 5$ milliohms and junction-to-ambient thermal resistance $R_{\\theta,\\text{jA,H}} = 30$ kelvins per watt. The low-side MOSFET has on-resistance $R_{\\text{ds,on,L}} = 3$ milliohms. Neglect all switching, magnetic core, and gate-drive losses, and assume continuous conduction mode with a steady triangular inductor current ripple set by idealized piecewise-constant inductor voltages during the high-side and low-side intervals.\n\nStarting from first principles:\n- Use the definition of instantaneous power in a resistor, $p(t) = v(t)\\,i(t)$, with $v(t) = R\\,i(t)$, to relate average conduction loss to the time average of $i^{2}(t)$.\n- Use the definition of root-mean-square (RMS; root-mean-square) current, $I_{\\text{rms}} = \\sqrt{\\frac{1}{T}\\int_{0}^{T} i^{2}(t)\\,dt}$, to express conduction loss in each resistive element.\n- Use duty-cycle partitioning for device conduction intervals based on the ideal buck converter relationship $D = V_{\\text{o}}/V_{\\text{in}}$.\n- Use the relationship between inductor current ripple and the inductor voltage over each subinterval, and the fact that the output capacitor current equals the alternating-current (AC; alternating-current) component of the inductor current when the load current is constant.\n\nCompute:\n1. The total conduction loss, $P_{\\text{cond,total}}$, as the sum of the average resistive conduction losses in the high-side MOSFET channel, the low-side MOSFET channel, the inductor winding resistance, and the capacitor ESR.\n2. The junction temperature rise of the high-side MOSFET due to its conduction loss, $\\Delta T_{\\text{j,H}}$, via the junction-to-ambient thermal resistance.\n\nSelect the option that correctly reports $P_{\\text{cond,total}}$ and $\\Delta T_{\\text{j,H}}$.\n\nA. $P_{\\text{cond,total}} \\approx 1.42$ watts, $\\Delta T_{\\text{j,H}} \\approx 6.4$ kelvins\n\nB. $P_{\\text{cond,total}} \\approx 2.30$ watts, $\\Delta T_{\\text{j,H}} \\approx 15.0$ kelvins\n\nC. $P_{\\text{cond,total}} \\approx 1.89$ watts, $\\Delta T_{\\text{j,H}} \\approx 6.25$ kelvins\n\nD. $P_{\\text{cond,total}} \\approx 1.85$ watts, $\\Delta T_{\\text{j,H}} \\approx 9.9$ kelvins",
            "solution": "The solution requires calculating the conduction losses in each resistive component and the resulting temperature rise of the high-side MOSFET.\n\n**1. Duty Cycle and Inductor Current Ripple**\nThe duty cycle $D$ is given by the ideal voltage conversion ratio:\n$D = V_{\\text{o}} / V_{\\text{in}} = 5/12$.\nThe peak-to-peak inductor current ripple $\\Delta i_L$ is calculated during the ON or OFF interval. Using the OFF interval (duration $(1-D)T_s$):\n$\\Delta i_L = \\frac{V_{\\text{o}}}{L}(1-D)T_s = \\frac{V_{\\text{o}}(1-D)}{L f_s} = \\frac{5 \\text{ V} \\cdot (1 - 5/12)}{2 \\times 10^{-6} \\text{ H} \\cdot 300 \\times 10^3 \\text{ Hz}} = \\frac{5 \\cdot (7/12)}{0.6} = \\frac{35/12}{0.6} \\approx 4.861 \\text{ A}$.\n\n**2. RMS Currents and Conduction Losses**\nThe conduction loss in a resistance $R$ is $P = I_{\\text{rms}}^2 R$. For a triangular current waveform with DC component $I_{\\text{DC}}$ and peak-to-peak AC ripple $\\Delta i_L$, the squared RMS value is $I_{\\text{rms}}^2 = I_{\\text{DC}}^2 + (\\Delta i_L)^2/12$.\n\n*   **Inductor ($R_L$):** The inductor carries the full current with an average value $I_{\\text{o}} = 10$ A.\n    $I_{L,\\text{rms}}^2 = I_{\\text{o}}^2 + (\\Delta i_L)^2/12 = 10^2 + (4.861)^2/12 \\approx 100 + 1.969 = 101.969 \\text{ A}^2$.\n    $P_{\\text{cond,L}} = I_{L,\\text{rms}}^2 R_L \\approx 101.969 \\text{ A}^2 \\cdot (10 \\times 10^{-3} \\Omega) \\approx 1.020 \\text{ W}$.\n\n*   **High-Side MOSFET ($R_{\\text{ds,on,H}}$):** Conducts for a fraction $D$ of the time.\n    $I_{\\text{H,rms}}^2 = D \\cdot I_{L,\\text{rms}}^2 \\approx (5/12) \\cdot 101.969 \\text{ A}^2 \\approx 42.487 \\text{ A}^2$.\n    $P_{\\text{cond,H}} = I_{\\text{H,rms}}^2 R_{\\text{ds,on,H}} \\approx 42.487 \\text{ A}^2 \\cdot (5 \\times 10^{-3} \\Omega) \\approx 0.212 \\text{ W}$.\n\n*   **Low-Side MOSFET ($R_{\\text{ds,on,L}}$):** Conducts for a fraction $(1-D)$ of the time.\n    $I_{\\text{L,rms}}^2 = (1-D) \\cdot I_{L,\\text{rms}}^2 \\approx (7/12) \\cdot 101.969 \\text{ A}^2 \\approx 59.482 \\text{ A}^2$.\n    $P_{\\text{cond,L}} = I_{\\text{L,rms}}^2 R_{\\text{ds,on,L}} \\approx 59.482 \\text{ A}^2 \\cdot (3 \\times 10^{-3} \\Omega) \\approx 0.178 \\text{ W}$.\n\n*   **Capacitor ESR ($R_{\\text{ESR}}$):** Carries only the AC component of the inductor current.\n    $I_{C,\\text{rms}}^2 = (\\Delta i_L)^2/12 \\approx 1.969 \\text{ A}^2$.\n    $P_{\\text{cond,C}} = I_{C,\\text{rms}}^2 R_{\\text{ESR}} \\approx 1.969 \\text{ A}^2 \\cdot (5 \\times 10^{-3} \\Omega) \\approx 0.010 \\text{ W}$.\n\n**3. Total Conduction Loss ($P_{\\text{cond,total}}$)**\nThe total conduction loss is the sum of the individual losses:\n$P_{\\text{cond,total}} = P_{\\text{cond,L}} + P_{\\text{cond,H}} + P_{\\text{cond,L}} + P_{\\text{cond,C}} \\approx 1.020 + 0.212 + 0.178 + 0.010 \\text{ W} \\approx 1.42 \\text{ W}$.\n\n**4. High-Side MOSFET Temperature Rise ($\\Delta T_{\\text{j,H}}$)**\nThe junction temperature rise is the product of the power dissipated in the device and its thermal resistance:\n$\\Delta T_{\\text{j,H}} = P_{\\text{cond,H}} \\cdot R_{\\theta,\\text{jA,H}} \\approx 0.212 \\text{ W} \\cdot 30 \\text{ K/W} \\approx 6.36 \\text{ K}$.\n\nRounding the results, we get $P_{\\text{cond,total}} \\approx 1.42$ W and $\\Delta T_{\\text{j,H}} \\approx 6.4$ K. This corresponds to option A.",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "A robust power converter must not only perform efficiently in steady-state but also withstand dynamic events like sudden changes in load. This final practice explores the converter's transient behavior under a worst-case scenario, where control loop latency leads to a temporary loss of regulation. You will use the fundamental inductor voltage-current relationship to predict the peak current stress during a load step transient. This analysis is vital for ensuring system reliability by verifying that critical components, like the inductor, are specified to operate safely beyond their normal steady-state conditions without failing or saturating. ",
            "id": "3824697",
            "problem": "An ideal buck converter delivers a regulated output voltage $V_{o}$ to a resistive load in continuous conduction mode (CCM). All semiconductor devices are ideal, the capacitor is ideal with sufficiently low ripple such that $V_{o}$ remains effectively constant during the short switching transients considered, and the inductor has inductance $L$ and a core with a specified saturation current $I_{\\mathrm{sat}}$. The input voltage $V_{\\mathrm{in}}$ may vary over a range. The digital pulse-width modulation (PWM) control loop imposes a worst-case response in which, immediately following a positive load-current step, the high-side switch is commanded fully on (duty $D=1$) for a fixed contiguous duration $t_{w}$ due to sensing, computation, and actuation latencies. Assume that the load step occurs at the worst phase of the switching cycle: exactly at the inductor-current valley. Further, assume that the worst-case transient aligns with the maximum input voltage $V_{\\mathrm{in,max}}$ at the instant of the step.\n\nStarting from the inductor voltage-current relation and the switching states of a buck converter, derive a physically consistent expression for the worst-case peak inductor current during this event, and then evaluate it numerically for the following parameters:\n- Regulated output voltage $V_{o} = 5\\ \\mathrm{V}$.\n- Input-voltage range $V_{\\mathrm{in}} \\in [10\\ \\mathrm{V},\\, 20\\ \\mathrm{V}]$, with $V_{\\mathrm{in,max}} = 20\\ \\mathrm{V}$ at the transient.\n- Inductance $L = 22\\ \\mu\\mathrm{H}$.\n- Switching frequency $f_{s} = 400\\ \\mathrm{kHz}$.\n- Load current steps from $I_{1} = 4\\ \\mathrm{A}$ to $I_{2} = 8\\ \\mathrm{A}$ at $t=0$.\n- Worst-case contiguous high-side on-time after the step $t_{w} = 8\\ \\mu\\mathrm{s}$.\n- Inductor core saturation current $I_{\\mathrm{sat}} = 12\\ \\mathrm{A}$.\n\nTreat the steady-state inductor-current ripple immediately before the step consistently with the same $V_{\\mathrm{in,max}}$ and $f_{s}$. Use these to construct the worst-case initial valley current at $t=0^{-}$. Then, use the worst-case on-state inductor-voltage to evolve the current over the interval $t_{w}$ and determine the maximum inductor current attained. Verify against the given $I_{\\mathrm{sat}}$ that the core does not saturate under this worst-case event.\n\nExpress the final peak inductor current in amperes (A) and round your answer to four significant figures. The final answer must be a single real number.",
            "solution": "The task is to determine the worst-case peak inductor current in an ideal buck converter following a load step, given a specific control loop latency. The solution is developed in three stages:\n1.  Determine the initial inductor current at the moment of the load step.\n2.  Analyze the evolution of the inductor current during the transient period when the high-side switch is held on.\n3.  Calculate the final peak current and verify it against the inductor's saturation limit.\n\n**1. Initial State Analysis (before the transient at $t=0^{-}$)**\n\nThe converter is initially in steady state, with an average inductor current equal to the pre-step load current, $I_{L,\\text{avg}} = I_{1} = 4\\ \\mathrm{A}$. The problem specifies using the maximum input voltage, $V_{\\mathrm{in,max}} = 20\\ \\mathrm{V}$, to calculate the steady-state ripple.\nThe steady-state duty cycle $D$ at this input voltage is:\n$$D = \\frac{V_{o}}{V_{\\mathrm{in,max}}} = \\frac{5\\ \\mathrm{V}}{20\\ \\mathrm{V}} = 0.25$$\nThe peak-to-peak inductor current ripple, $\\Delta i_L$, is given by:\n$$\\Delta i_L = \\frac{V_{o}(V_{\\mathrm{in,max}} - V_{o})}{L f_{s} V_{\\mathrm{in,max}}} = \\frac{5 \\cdot (20 - 5)}{(22 \\times 10^{-6}) \\cdot (400 \\times 10^{3}) \\cdot 20} = \\frac{75}{176}\\ \\mathrm{A}$$\nThe transient begins at the inductor-current valley. The initial current for the transient, $i_L(0)$, is:\n$$i_L(0) = I_{L,\\text{valley}} = I_{L,\\text{avg}} - \\frac{\\Delta i_L}{2} = 4\\ \\mathrm{A} - \\frac{1}{2} \\cdot \\frac{75}{176}\\ \\mathrm{A} = 4 - \\frac{75}{352}\\ \\mathrm{A} = \\frac{1333}{352}\\ \\mathrm{A}$$\n\n**2. Transient Analysis ($0 \\le t \\le t_w$)**\n\nAt $t=0$, the high-side switch is held on for a duration of $t_w = 8\\ \\mu\\mathrm{s}$. During this interval, the voltage across the inductor is constant and at its maximum possible value:\n$$v_L(t) = V_{\\mathrm{in,max}} - V_{o} = 20\\ \\mathrm{V} - 5\\ \\mathrm{V} = 15\\ \\mathrm{V}$$\nThe inductor current increases linearly. The total increase in inductor current over the duration $t_w$, $\\Delta i_{L,\\text{transient}}$, is:\n$$\\Delta i_{L,\\text{transient}} = \\frac{v_L \\cdot t_w}{L} = \\frac{(V_{\\mathrm{in,max}} - V_{o}) t_w}{L} = \\frac{15 \\cdot (8 \\times 10^{-6})}{22 \\times 10^{-6}} = \\frac{120}{22} = \\frac{60}{11}\\ \\mathrm{A}$$\n\n**3. Final Peak Current Calculation and Verification**\n\nThe worst-case peak inductor current, $I_{L,\\text{peak,worst}}$, is the sum of the initial current and the rise during the transient.\n$$I_{L,\\text{peak,worst}} = i_L(0) + \\Delta i_{L,\\text{transient}} = \\frac{1333}{352}\\ \\mathrm{A} + \\frac{60}{11}\\ \\mathrm{A}$$\nTo sum these fractions, we find a common denominator of $352$:\n$$I_{L,\\text{peak,worst}} = \\frac{1333}{352} + \\frac{60 \\times 32}{352} = \\frac{1333 + 1920}{352} = \\frac{3253}{352}\\ \\mathrm{A}$$\nNumerically, this is:\n$$I_{L,\\text{peak,worst}} \\approx 9.241477...\\ \\mathrm{A}$$\nRounding to four significant figures gives $9.241\\ \\mathrm{A}$.\n\nFinally, we verify that this peak current is below the inductor's saturation current, $I_{\\mathrm{sat}} = 12\\ \\mathrm{A}$.\nSince $9.241\\ \\mathrm{A}  12\\ \\mathrm{A}$, the inductor core does not saturate. The assumption of constant inductance $L$ throughout the event is justified.",
            "answer": "$$\\boxed{9.241}$$"
        }
    ]
}