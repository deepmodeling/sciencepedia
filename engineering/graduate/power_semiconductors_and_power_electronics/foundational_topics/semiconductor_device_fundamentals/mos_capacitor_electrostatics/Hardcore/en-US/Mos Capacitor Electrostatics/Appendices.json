{
    "hands_on_practices": [
        {
            "introduction": "To understand the MOS capacitor, we begin with its simplest component: the oxide layer. This exercise applies Gauss's law, a cornerstone of electrostatics, to the one-dimensional structure of the gate oxide. By calculating the electric field and voltage drop from a given semiconductor surface charge, you will build a foundational understanding of how charge at the Si/SiO₂ interface directly controls the conditions within the dielectric, a critical first step in analyzing the entire device .",
            "id": "3859828",
            "problem": "A planar metal-oxide-semiconductor (MOS) capacitor used in a power semiconductor gate stack has a thermally grown silicon dioxide gate dielectric modeled as a uniform, linear, isotropic dielectric. Assume one-dimensional electrostatics normal to the interface, negligible fringing fields, and no mobile charge within the oxide. A sheet of semiconductor surface charge with magnitude $|Q_{s}|$ resides at the oxide/semiconductor interface. The oxide thickness is $t_{ox}$, its relative permittivity is $k_{ox}$, and the vacuum permittivity is $\\varepsilon_{0}$. The metal gate is ideal, so the field inside the metal is zero.\n\nStarting from Gauss’s law and the electrostatic boundary conditions at a dielectric/metal interface, derive the magnitude of the electric field in the oxide $E_{ox}$ and the oxide voltage drop $V_{ox}$ across the thickness $t_{ox}$, in terms of $|Q_{s}|$, $\\varepsilon_{0}$, $k_{ox}$, and $t_{ox}$. Then evaluate these quantities numerically for\n- $t_{ox} = 70\\,\\mathrm{nm}$,\n- $k_{ox} = 3.9$ (silicon dioxide),\n- $\\varepsilon_{0} = 8.854187817\\times 10^{-12}\\,\\mathrm{F/m}$,\n- $|Q_{s}| = 5.20\\times 10^{-7}\\,\\mathrm{C/cm^{2}}$.\n\nReport the magnitude of the oxide electric field $E_{ox}$ in $\\mathrm{MV/cm}$ and the oxide voltage drop $V_{ox}$ in $\\mathrm{V}$. Round each to four significant figures.",
            "solution": "The problem is well-posed, scientifically grounded, and provides all necessary information for a unique solution. We begin by deriving the symbolic expressions for the oxide electric field and voltage drop, followed by a numerical evaluation.\n\nThe system is a one-dimensional Metal-Oxide-Semiconductor (MOS) structure. Let the spatial coordinate normal to the interfaces be $x$, with the oxide-semiconductor interface at $x=0$ and the metal-oxide interface at $x=-t_{ox}$.\n\n**1. Derivation of the Oxide Electric Field ($E_{ox}$)**\n\nGauss's law in differential form relates the electric displacement field $\\vec{D}$ to the volume charge density $\\rho_v$:\n$$ \\nabla \\cdot \\vec{D} = \\rho_v $$\nThe problem states that there is no mobile charge within the oxide, and it is a uniform dielectric. This implies the volume charge density within the oxide is zero, $\\rho_v = 0$. For the specified one-dimensional problem, Gauss's law simplifies to:\n$$ \\frac{dD_x}{dx} = 0 $$\nThis equation implies that the electric displacement field $D_x$ is constant throughout the oxide layer, for $-t_{ox}  x  0$. We denote this constant magnitude as $D_{ox}$.\n\nThe relationship between the electric displacement $\\vec{D}$ and the electric field $\\vec{E}$ in a linear, isotropic dielectric medium is given by $\\vec{D} = \\varepsilon \\vec{E}$, where $\\varepsilon$ is the permittivity of the medium. For silicon dioxide, the permittivity is $\\varepsilon_{ox} = k_{ox} \\varepsilon_{0}$, where $k_{ox}$ is the relative permittivity and $\\varepsilon_0$ is the vacuum permittivity. Since $D_x$ is constant, the electric field $E_x$ must also be constant within the oxide. We denote its magnitude as $E_{ox}$.\n\nTo determine the value of $D_{ox}$, we apply the electrostatic boundary condition at the oxide-semiconductor interface ($x=0$). The boundary condition states that the discontinuity in the normal component of the electric displacement field is equal to the surface charge density $\\sigma_s$.\n$$ \\hat{n} \\cdot (\\vec{D}_2 - \\vec{D}_1) = \\sigma_s $$\nLet's consider a Gaussian pillbox of area $A$ straddling the interface. Let region 1 be the oxide and region 2 be the semiconductor. The surface charge at the interface is the semiconductor surface charge, $\\sigma_s = Q_{s}$. Assuming the electric field in the semiconductor is negligible or we are only concerned with the change caused by $Q_s$, and the field in the oxide is $\\vec{E}_{ox}$, the displacement in the oxide is $\\vec{D}_{ox}$. The boundary condition applied to the magnitude gives:\n$$ |D_{ox}| = |Q_s| $$\nNow, we relate the displacement field magnitude to the electric field magnitude inside the oxide:\n$$ |D_{ox}| = \\varepsilon_{ox} E_{ox} = k_{ox} \\varepsilon_{0} E_{ox} $$\nBy equating the two expressions for $|D_{ox}|$, we find the magnitude of the electric field in the oxide:\n$$ E_{ox} = \\frac{|Q_s|}{k_{ox} \\varepsilon_{0}} $$\n\n**2. Derivation of the Oxide Voltage Drop ($V_{ox}$)**\n\nThe voltage drop across the oxide, $V_{ox}$, is the potential difference between the metal gate and the semiconductor surface. It is obtained by integrating the electric field across the oxide thickness $t_{ox}$:\n$$ V_{ox} = - \\int_{0}^{-t_{ox}} E_x \\, dx $$\nThe magnitude of the voltage drop is what is physically significant here, and it is given by:\n$$ |V_{ox}| = \\left| \\int_{0}^{t_{ox}} E_{ox} \\, dl \\right| $$\nSince the electric field magnitude $E_{ox}$ is constant throughout the oxide, the integral simplifies to the product of the field magnitude and the path length, which is the oxide thickness $t_{ox}$.\n$$ V_{ox} = E_{ox} t_{ox} $$\nHere, $V_{ox}$ represents the magnitude of the voltage drop. Substituting the previously derived expression for $E_{ox}$:\n$$ V_{ox} = \\frac{|Q_s| t_{ox}}{k_{ox} \\varepsilon_{0}} $$\n\n**3. Numerical Evaluation**\n\nWe are given the following values:\n- Oxide thickness, $t_{ox} = 70\\,\\mathrm{nm} = 70 \\times 10^{-9}\\,\\mathrm{m}$\n- Oxide relative permittivity, $k_{ox} = 3.9$\n- Vacuum permittivity, $\\varepsilon_{0} = 8.854187817\\times 10^{-12}\\,\\mathrm{F/m}$\n- Magnitude of semiconductor surface charge, $|Q_{s}| = 5.20\\times 10^{-7}\\,\\mathrm{C/cm^{2}}$\n\nFirst, we must convert all quantities to a consistent set of units (SI units: meters, coulombs, etc.). The surface charge density $|Q_s|$ must be converted from $\\mathrm{C/cm^2}$ to $\\mathrm{C/m^2}$:\n$$ |Q_{s}| = 5.20\\times 10^{-7}\\,\\frac{\\mathrm{C}}{\\mathrm{cm}^{2}} \\times \\left(\\frac{100\\,\\mathrm{cm}}{1\\,\\mathrm{m}}\\right)^2 = 5.20\\times 10^{-7} \\times 10^4\\,\\frac{\\mathrm{C}}{\\mathrm{m}^{2}} = 5.20\\times 10^{-3}\\,\\mathrm{C/m^{2}} $$\n\nNow, we can calculate the magnitude of the electric field $E_{ox}$ in SI units ($\\mathrm{V/m}$):\n$$ E_{ox} = \\frac{|Q_s|}{k_{ox} \\varepsilon_{0}} = \\frac{5.20\\times 10^{-3}\\,\\mathrm{C/m^{2}}}{3.9 \\times (8.854187817\\times 10^{-12}\\,\\mathrm{F/m})} \\approx 1.50587 \\times 10^{8}\\,\\mathrm{V/m} $$\nThe problem requires the result in units of $\\mathrm{MV/cm}$. We perform the conversion:\n$$ E_{ox} \\approx 1.50587 \\times 10^{8}\\,\\frac{\\mathrm{V}}{\\mathrm{m}} \\times \\frac{1\\,\\mathrm{MV}}{10^6\\,\\mathrm{V}} \\times \\frac{1\\,\\mathrm{m}}{100\\,\\mathrm{cm}} = 1.50587\\,\\mathrm{MV/cm} $$\nRounding to four significant figures, we get:\n$$ E_{ox} \\approx 1.506\\,\\mathrm{MV/cm} $$\n\nNext, we calculate the magnitude of the oxide voltage drop $V_{ox}$ in SI units ($\\mathrm{V}$):\n$$ V_{ox} = E_{ox} t_{ox} \\approx (1.50587 \\times 10^{8}\\,\\mathrm{V/m}) \\times (70 \\times 10^{-9}\\,\\mathrm{m}) \\approx 10.5411\\,\\mathrm{V} $$\nRounding to four significant figures gives:\n$$ V_{ox} \\approx 10.54\\,\\mathrm{V} $$\n\nThe requested numerical values are the magnitude of the oxide electric field $E_{ox}$ in $\\mathrm{MV/cm}$ and the magnitude of the oxide voltage drop $V_{ox}$ in $\\mathrm{V}$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1.506  10.54\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "With the oxide behavior established, we can now assemble the complete MOS capacitor by connecting the gate, oxide, and semiconductor. This practice demonstrates how the total applied gate voltage, $V_g$, is distributed between the semiconductor surface potential, $\\psi_s$, and the voltage across the oxide, $V_{ox}$. You will employ the depletion approximation, a powerful simplification for analyzing the semiconductor's space-charge region, to link these quantities and solve for the required gate bias . This exercise solidifies the crucial voltage balance relationship that governs all MOS device operation.",
            "id": "3887399",
            "problem": "A one-dimensional, quasi-static Metal-Oxide-Semiconductor (MOS) capacitor representative of the gate-stack region in a high-voltage power Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) is formed on uniformly doped p-type silicon. The acceptor concentration is $N_A = 1.5 \\times 10^{16} \\ \\text{cm}^{-3}$, the silicon dioxide thickness is $t_{ox} = 5.0 \\ \\text{nm}$, and the temperature is $T = 300 \\ \\text{K}$. The relative permittivities are $\\varepsilon_{r,Si} = 11.7$ for silicon and $\\varepsilon_{r,ox} = 3.9$ for silicon dioxide. Use the vacuum permittivity $\\varepsilon_0 = 8.854 \\times 10^{-12} \\ \\text{F/m}$ and the elementary charge $q = 1.602 \\times 10^{-19} \\ \\text{C}$. Assume a gate metal is chosen such that the metal-semiconductor work-function difference is negligible and the flatband voltage is approximately zero, and neglect any fixed oxide charge and interface trapped charge. The intrinsic carrier concentration in silicon is $n_i = 1.0 \\times 10^{10} \\ \\text{cm}^{-3}$.\n\nStarting from Poisson’s equation in the semiconductor and Gauss’s law at the oxide–semiconductor interface, determine the gate voltage $V_g$ required to establish a surface potential $\\psi_s = 0.300 \\ \\text{V}$ at the silicon surface under the depletion approximation (i.e., assume mobile inversion carriers are negligible). Justify the depletion approximation by comparing $\\psi_s$ to $2 \\phi_f$, where $\\phi_f$ is the Fermi potential of the p-type silicon.\n\nExpress the final numerical value of $V_g$ in volts. Round your answer to $4$ significant figures.",
            "solution": "The fundamental base for analyzing a Metal-Oxide-Semiconductor (MOS) capacitor is electrostatics: Poisson’s equation in the semiconductor, Gauss’s law for the normal component of the electric displacement, and the constitutive relations linking electric field to potential and permittivity. We begin with Poisson’s equation in the silicon and the depletion approximation, then connect the semiconductor charge to the oxide field and voltage drop, and finally relate these to the applied gate voltage.\n\nIn the p-type silicon, under the depletion approximation, the space-charge density is dominated by ionized acceptors. Let $x$ be the coordinate measured into the semiconductor with $x=0$ at the oxide–semiconductor interface. The one-dimensional Poisson’s equation reads\n$$\n\\frac{d^2 \\psi(x)}{dx^2} \\;=\\; -\\frac{\\rho(x)}{\\varepsilon_s},\n$$\nwhere $\\psi(x)$ is the electrostatic potential in silicon measured relative to the neutral bulk, $\\rho(x)$ is the space-charge density, and $\\varepsilon_s = \\varepsilon_{r,Si} \\varepsilon_0$ is the permittivity of silicon. Under depletion, $\\rho(x) \\approx -q N_A$ for $0 \\le x \\le W_d$ and $\\rho(x) \\approx 0$ for $x  W_d$, where $W_d$ is the depletion width.\n\nIntegrating Poisson’s equation over the depletion region with boundary condition $E(W_d) = 0$ (field vanishes at the edge of depletion), the electric field profile is\n$$\nE(x) \\;=\\; -\\frac{d\\psi}{dx} \\;=\\; \\frac{q N_A}{\\varepsilon_s}\\,(x - W_d), \\quad 0 \\le x \\le W_d.\n$$\nThe surface field magnitude is\n$$\n|E(0)| \\;=\\; \\frac{q N_A W_d}{\\varepsilon_s}.\n$$\nThe surface potential, relative to the bulk, is obtained by integrating the field:\n$$\n\\psi_s \\;=\\; \\psi(0) - \\psi(W_d) \\;=\\; \\int_{0}^{W_d} E(x)\\,dx \\;=\\; \\frac{q N_A W_d^2}{2 \\varepsilon_s}.\n$$\nEliminating $W_d$ between the previous two relations yields the well-known depletion relation connecting surface field magnitude and surface potential:\n$$\n|E(0)| \\;=\\; \\sqrt{\\frac{2 q N_A \\psi_s}{\\varepsilon_s}}.\n$$\nThe total semiconductor depletion charge per unit area is \n$$\nQ_s \\;=\\; -\\int_{0}^{W_d} \\rho(x)\\,dx \\;=\\; -q N_A W_d \\;=\\; -\\varepsilon_s E(0),\n$$\nso its magnitude is\n$$\n|Q_s| \\;=\\; \\sqrt{2 \\varepsilon_s q N_A \\psi_s}.\n$$\n\nAt the oxide–semiconductor interface, the normal component of the electric displacement is continuous. Neglecting any interface and fixed oxide charges, and assuming negligible work-function difference (flatband condition), we have\n$$\n\\varepsilon_{ox} E_{ox} \\;=\\; -Q_s,\n$$\nwhere $\\varepsilon_{ox} = \\varepsilon_{r,ox} \\varepsilon_0$ and $E_{ox}$ is the uniform electric field in the oxide. The magnitude of the oxide voltage drop is\n$$\nV_{ox} \\;=\\; |E_{ox}|\\,t_{ox} \\;=\\; \\frac{|Q_s|}{\\varepsilon_{ox}}\\,t_{ox} \\;=\\; \\frac{|Q_s|}{C_{ox}},\n$$\nwith the oxide capacitance per unit area\n$$\nC_{ox} \\;=\\; \\frac{\\varepsilon_{ox}}{t_{ox}}.\n$$\nThe applied gate voltage required to establish a surface potential $\\psi_s$ then follows from the series combination of the oxide drop and the semiconductor surface potential, offset by the flatband condition:\n$$\nV_g \\;=\\; \\phi_{ms} + \\psi_s + V_{ox}.\n$$\nUnder the stated assumption $\\phi_{ms} \\approx 0$, this reduces to\n$$\nV_g \\;=\\; \\psi_s + \\frac{|Q_s|}{C_{ox}}.\n$$\n\nBefore computing numerically, we justify the depletion approximation by checking that $\\psi_s  2\\phi_f$, where the Fermi potential $\\phi_f$ for p-type silicon is\n$$\n\\phi_f \\;=\\; \\frac{k_B T}{q} \\ln\\!\\left(\\frac{N_A}{n_i}\\right),\n$$\nwith $k_B$ the Boltzmann constant. Using $k_B = 1.381 \\times 10^{-23} \\ \\text{J/K}$, $T = 300 \\ \\text{K}$, $q = 1.602 \\times 10^{-19} \\ \\text{C}$, $N_A = 1.5 \\times 10^{16} \\ \\text{cm}^{-3}$, and $n_i = 1.0 \\times 10^{10} \\ \\text{cm}^{-3}$,\n$$\n\\frac{k_B T}{q} \\;\\approx\\; 0.02585 \\ \\text{V}, \\quad \\ln\\!\\left(\\frac{N_A}{n_i}\\right) \\;=\\; \\ln\\!\\left(1.5 \\times 10^{6}\\right) \\;\\approx\\; 14.221,\n$$\nso\n$$\n\\phi_f \\;\\approx\\; 0.02585 \\times 14.221 \\;\\approx\\; 0.368 \\ \\text{V}, \\quad 2\\phi_f \\;\\approx\\; 0.736 \\ \\text{V}.\n$$\nSince $\\psi_s = 0.300 \\ \\text{V}  2\\phi_f$, the depletion approximation is consistent (mobile inversion charge remains minor).\n\nWe now compute $V_g$ numerically. First, convert units and compute material parameters:\n$$\nN_A = 1.5 \\times 10^{16} \\ \\text{cm}^{-3} = 1.5 \\times 10^{22} \\ \\text{m}^{-3},\n$$\n$$\n\\varepsilon_s = \\varepsilon_{r,Si} \\varepsilon_0 = 11.7 \\times 8.854 \\times 10^{-12} \\ \\text{F/m} = 1.035918 \\times 10^{-10} \\ \\text{F/m},\n$$\n$$\n\\varepsilon_{ox} = \\varepsilon_{r,ox} \\varepsilon_0 = 3.9 \\times 8.854 \\times 10^{-12} \\ \\text{F/m} = 3.45306 \\times 10^{-11} \\ \\text{F/m},\n$$\n$$\nt_{ox} = 5.0 \\ \\text{nm} = 5.0 \\times 10^{-9} \\ \\text{m}, \\quad C_{ox} = \\frac{\\varepsilon_{ox}}{t_{ox}} = \\frac{3.45306 \\times 10^{-11}}{5.0 \\times 10^{-9}} = 6.90612 \\times 10^{-3} \\ \\text{F/m}^2.\n$$\nCompute the depletion charge magnitude:\n$$\n|Q_s| = \\sqrt{2 \\varepsilon_s q N_A \\psi_s} = \\sqrt{2 \\times \\left(1.035918 \\times 10^{-10}\\right) \\times \\left(1.602 \\times 10^{-19}\\right) \\times \\left(1.5 \\times 10^{22}\\right) \\times 0.300 }.\n$$\nThe product inside the square root is\n$$\n2 \\varepsilon_s q N_A \\psi_s \\;\\approx\\; 2 \\times 1.035918 \\times 10^{-10} \\times 1.602 \\times 10^{-19} \\times 1.5 \\times 10^{22} \\times 0.300 \\;\\approx\\; 1.49359 \\times 10^{-7},\n$$\nso\n$$\n|Q_s| \\;\\approx\\; \\sqrt{1.49359 \\times 10^{-7}} \\;\\approx\\; 3.866 \\times 10^{-4} \\ \\text{C/m}^2.\n$$\nThen the oxide voltage drop is\n$$\nV_{ox} \\;=\\; \\frac{|Q_s|}{C_{ox}} \\;=\\; \\frac{3.866 \\times 10^{-4}}{6.90612 \\times 10^{-3}} \\;\\approx\\; 0.05596 \\ \\text{V}.\n$$\nFinally,\n$$\nV_g \\;=\\; \\psi_s + V_{ox} \\;=\\; 0.300 + 0.05596 \\;\\approx\\; 0.35596 \\ \\text{V}.\n$$\nRounded to $4$ significant figures and expressed in volts, the required gate voltage is $0.3560 \\ \\text{V}$.",
            "answer": "$$\\boxed{0.3560}$$"
        },
        {
            "introduction": "Analytical models are powerful, but it is essential to understand their limitations. The depletion approximation, while useful, introduces error by neglecting the contribution of mobile carriers, especially as a device approaches inversion. This computational exercise challenges you to move beyond the approximation by implementing both the simplified depletion model and the exact solution derived from the Poisson-Boltzmann equation . By quantitatively comparing the results, you will develop a deeper appreciation for the regimes where the depletion model is valid and where a more rigorous physical description is necessary, a vital skill for advanced device modeling.",
            "id": "4283730",
            "problem": "A Metal–Oxide–Semiconductor (MOS) capacitor on $p$-type silicon is biased such that the semiconductor surface has electrostatic potential $\\psi_s$ relative to the deep bulk. Let $x$ denote depth into the semiconductor with $x=0$ at the interface, $\\psi(x)$ the electrostatic potential, $E(x)$ the electric field, and $\\rho(x)$ the space-charge density. The fundamental base consists of the one-dimensional Poisson’s equation $d^2 \\psi / dx^2 = - \\rho(x)/\\varepsilon_s$ and nondegenerate Maxwell–Boltzmann carrier statistics $p(x) = p_0 \\exp(-\\psi(x)/V_T)$ and $n(x) = n_0 \\exp(\\psi(x)/V_T)$, where $p_0$ and $n_0$ are the equilibrium hole and electron densities in the deep bulk, $V_T = k_B T / q$ is the thermal voltage, $\\varepsilon_s$ is the semiconductor permittivity, $q$ is the elementary charge, $k_B$ is the Boltzmann constant, and $T$ is the absolute temperature. Assume fully ionized acceptors of concentration $N_A$ so that charge neutrality in the deep bulk satisfies $p_0 - n_0 - N_A = 0$. The total semiconductor surface charge per unit area $Q_s$ is related to the surface electric field $E_s = E(x=0)$ by $Q_s = - \\varepsilon_s E_s$.\n\nThe depletion approximation replaces the true mobile carrier profiles by a region of width $W_d$ containing a uniform fixed charge density $-q N_A$ and vanishing mobile charge, joined to a neutral region. The resulting electrostatics imply $E_s = q N_A W_d / \\varepsilon_s$ and $\\psi_s = (q N_A / (2 \\varepsilon_s)) W_d^2$ with $W_d  0$. In contrast, the exact Poisson–Boltzmann equation (PBE) retains the mobile carriers and requires consistency with the boundary condition $\\psi(0) = \\psi_s$ and $\\psi(x) \\to 0$ as $x \\to \\infty$.\n\nTask: For each specified test case, compute the dimensionless relative error $\\delta$ introduced by the depletion approximation in predicting the magnitude of the semiconductor surface charge per unit area, defined by $\\delta = \\lvert Q_s^{\\mathrm{dep}} - Q_s^{\\mathrm{exact}} \\rvert / \\lvert Q_s^{\\mathrm{exact}} \\rvert$, where $Q_s^{\\mathrm{dep}}$ is the depletion approximation prediction and $Q_s^{\\mathrm{exact}}$ is the prediction obtained from the exact Poisson–Boltzmann solution. Treat the semiconductor as nondegenerate and use the deep-bulk neutrality relation to determine $(p_0, n_0)$ at temperature $T$. Express the final outputs as decimal fractions (no percentage sign).\n\nConstants to use (all in the International System of Units): $q = 1.602176634 \\times 10^{-19}\\,\\mathrm{C}$, $k_B = 1.380649 \\times 10^{-23}\\,\\mathrm{J/K}$, $T = 300\\,\\mathrm{K}$, $\\varepsilon_0 = 8.854187817 \\times 10^{-12}\\,\\mathrm{F/m}$, $\\varepsilon_r(\\mathrm{Si}) = 11.7$, hence $\\varepsilon_s = \\varepsilon_r \\varepsilon_0$, and intrinsic carrier concentration in silicon $n_i = 1.0 \\times 10^{10}\\,\\mathrm{cm}^{-3}$ (convert to $\\mathrm{m}^{-3}$ inside the program). The acceptor concentration $N_A$ provided in the test suite is in $\\mathrm{cm}^{-3}$ and must be converted to $\\mathrm{m}^{-3}$ inside the program. The surface potential $\\psi_s$ is in $\\mathrm{V}$.\n\nTest suite parameter sets $(N_A, \\psi_s)$:\n- Case $1$: $N_A = 1.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$, $\\psi_s = 0.05\\,\\mathrm{V}$.\n- Case $2$: $N_A = 1.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$, $\\psi_s = 0.35\\,\\mathrm{V}$.\n- Case $3$: $N_A = 5.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$, $\\psi_s = 0.40\\,\\mathrm{V}$.\n- Case $4$: $N_A = 1.0 \\times 10^{17}\\,\\mathrm{cm}^{-3}$, $\\psi_s = 0.60\\,\\mathrm{V}$.\n- Case $5$ (edge toward inversion onset): $N_A = 1.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$, $\\psi_s = 0.70\\,\\mathrm{V}$.\n\nFinal output format: Your program should produce a single line of output containing the results as a comma-separated list of the five $\\delta$ values in the order of the cases above, each rounded to six decimal places, enclosed in square brackets, for example, $[\\delta_1,\\delta_2,\\delta_3,\\delta_4,\\delta_5]$.",
            "solution": "The user-provided problem has been analyzed and is deemed **valid**. It is scientifically grounded in the principles of semiconductor device physics, well-posed with a unique and meaningful solution, objective, and contains all necessary information for a complete solution.\n\nThe objective is to compute the dimensionless relative error, $\\delta$, of the semiconductor surface charge magnitude as predicted by the depletion approximation ($|Q_s^{\\mathrm{dep}}|$) compared to the exact Poisson-Boltzmann solution ($|Q_s^{\\mathrm{exact}}|$). The error is defined as $\\delta = \\lvert Q_s^{\\mathrm{dep}} - Q_s^{\\mathrm{exact}} \\rvert / \\lvert Q_s^{\\mathrm{exact}} \\rvert$, which can be rewritten as $\\delta = \\left| |Q_s^{\\mathrm{dep}}| / |Q_s^{\\mathrm{exact}}| - 1 \\right|$, since for the specified conditions of a $p$-type substrate and positive surface potential ($\\psi_s  0$), both $Q_s^{\\mathrm{dep}}$ and $Q_s^{\\mathrm{exact}}$ are negative.\n\nThe solution proceeds in four steps:\n1.  Determination of bulk equilibrium carrier concentrations ($p_0$, $n_0$).\n2.  Derivation of the surface charge magnitude in the depletion approximation, $|Q_s^{\\mathrm{dep}}|$.\n3.  Derivation of the surface charge magnitude from the exact Poisson-Boltzmann solution, $|Q_s^{\\mathrm{exact}}|$.\n4.  Formulation of the expression for $\\delta$ and its numerical evaluation.\n\nAll calculations will be performed using SI units.\n\n**Step 1: Bulk Carrier Concentrations**\n\nThe semiconductor is in thermal equilibrium in the deep bulk ($x \\to \\infty$), where the potential $\\psi$ is zero. The equilibrium hole ($p_0$) and electron ($n_0$) concentrations are governed by two relations:\n1.  The law of mass action: $p_0 n_0 = n_i^2$, where $n_i$ is the intrinsic carrier concentration.\n2.  Charge neutrality: The total charge density is zero. For a $p$-type semiconductor with fully ionized acceptor concentration $N_A$, this implies $p_0 - n_0 - N_A = 0$.\n\nSubstituting $n_0 = n_i^2 / p_0$ into the neutrality condition yields a quadratic equation for $p_0$:\n$$p_0 - \\frac{n_i^2}{p_0} - N_A = 0 \\implies p_0^2 - N_A p_0 - n_i^2 = 0$$\nSolving for $p_0$ and selecting the physically meaningful positive root gives:\n$$p_0 = \\frac{N_A + \\sqrt{N_A^2 + 4n_i^2}}{2}$$\nThe equilibrium electron concentration is then found from $n_0 = n_i^2 / p_0$. These calculations must be performed for each given $N_A$.\n\n**Step 2: Depletion Approximation Surface Charge ($|Q_s^{\\mathrm{dep}}|$)**\n\nThe depletion approximation assumes that for $0 \\le x \\le W_d$, the space charge density is uniform and consists only of ionized acceptors, $\\rho(x) = -qN_A$. For $x  W_d$, the semiconductor is assumed to be neutral. Integrating the corresponding Poisson's equation, $d^2\\psi/dx^2 = qN_A/\\varepsilon_s$, twice with boundary conditions $\\psi(0) = \\psi_s$ and $\\psi(W_d) = 0$ (also $E(W_d)=0$), yields the relation between surface potential and depletion width $W_d$:\n$$\\psi_s = \\frac{qN_A}{2\\varepsilon_s} W_d^2$$\nThe surface electric field is $E_s = qN_A W_d / \\varepsilon_s$. The semiconductor surface charge per unit area, $Q_s$, is given by $Q_s = -\\varepsilon_s E_s$. Thus, in the depletion approximation:\n$$Q_s^{\\mathrm{dep}} = -qN_A W_d$$\nBy eliminating $W_d = \\sqrt{2\\varepsilon_s\\psi_s / (qN_A)}$, we obtain the expression for $Q_s^{\\mathrm{dep}}$ directly in terms of $\\psi_s$:\n$$Q_s^{\\mathrm{dep}} = -qN_A \\sqrt{\\frac{2\\varepsilon_s\\psi_s}{qN_A}} = -\\sqrt{2qN_A\\varepsilon_s\\psi_s}$$\nThe magnitude is therefore:\n$$|Q_s^{\\mathrm{dep}}| = \\sqrt{2qN_A\\varepsilon_s\\psi_s}$$\n\n**Step 3: Exact Poisson-Boltzmann Surface Charge ($|Q_s^{\\mathrm{exact}}|$)**\n\nThe exact solution starts with the one-dimensional Poisson's equation:\n$$\\frac{d^2\\psi}{dx^2} = -\\frac{\\rho(x)}{\\varepsilon_s}$$\nwhere the space charge density $\\rho(x)$ includes mobile carriers:\n$$\\rho(\\psi) = q(p(x) - n(x) - N_A) = q(p_0 e^{-\\psi(x)/V_T} - n_0 e^{\\psi(x)/V_T} - N_A)$$\nHere, $V_T = k_BT/q$ is the thermal voltage. The surface electric field $E_s = E(0) = -d\\psi/dx|_{x=0}$ can be found by integrating Poisson's equation. Using the identity $d(E^2)/d\\psi = -2\\rho(\\psi)/\\varepsilon_s$ and integrating from the bulk ($\\psi=0, E=0$) to the surface ($\\psi=\\psi_s, E=E_s$), we get:\n$$E_s^2 = -\\frac{2}{\\varepsilon_s} \\int_0^{\\psi_s} \\rho(\\psi) d\\psi = -\\frac{2q}{\\varepsilon_s} \\int_0^{\\psi_s} (p_0 e^{-\\psi/V_T} - n_0 e^{\\psi/V_T} - N_A) d\\psi$$\nPerforming the integration:\n$$E_s^2 = -\\frac{2q}{\\varepsilon_s} \\left[ -p_0V_T e^{-\\psi/V_T} - n_0V_T e^{\\psi/V_T} - N_A\\psi \\right]_0^{\\psi_s}$$\n$$E_s^2 = -\\frac{2q}{\\varepsilon_s} \\left[ (-p_0V_T e^{-\\psi_s/V_T} - n_0V_T e^{\\psi_s/V_T} - N_A\\psi_s) - (-p_0V_T - n_0V_T) \\right]$$\nRearranging and using the bulk neutrality condition $N_A = p_0 - n_0$:\n$$E_s^2 = \\frac{2qV_T}{\\varepsilon_s} \\left[ p_0(e^{-\\psi_s/V_T} + \\psi_s/V_T - 1) + n_0(e^{\\psi_s/V_T} - \\psi_s/V_T - 1) \\right]$$\nThe surface charge is $Q_s^{\\mathrm{exact}} = -\\varepsilon_s E_s$. Since $\\psi_s  0$ for a $p$-type substrate in depletion/inversion, $E_s  0$ and $Q_s^{\\mathrm{exact}}  0$. The magnitude is:\n$$|Q_s^{\\mathrm{exact}}| = \\varepsilon_s |E_s| = \\sqrt{2qV_T\\varepsilon_s \\left[ p_0\\left(e^{-\\psi_s/V_T} + \\frac{\\psi_s}{V_T} - 1\\right) + n_0\\left(e^{\\psi_s/V_T} - \\frac{\\psi_s}{V_T} - 1\\right) \\right]}$$\n\n**Step 4: Relative Error Calculation**\n\nThe relative error $\\delta$ is calculated using the magnitudes derived above:\n$$\\delta = \\left| \\frac{|Q_s^{\\mathrm{dep}}|}{|Q_s^{\\mathrm{exact}}|} - 1 \\right|$$\nSubstituting the expressions and simplifying by letting $u_s = \\psi_s/V_T$:\n$$|Q_s^{\\mathrm{dep}}|^2 = 2qN_A\\varepsilon_s V_T u_s$$\n$$|Q_s^{\\mathrm{exact}}|^2 = 2qV_T\\varepsilon_s \\left[ p_0(e^{-u_s} + u_s - 1) + n_0(e^{u_s} - u_s - 1) \\right]$$\nThe ratio of the squared magnitudes is:\n$$\\frac{|Q_s^{\\mathrm{dep}}|^2}{|Q_s^{\\mathrm{exact}}|^2} = \\frac{N_A u_s}{p_0(e^{-u_s} + u_s - 1) + n_0(e^{u_s} - u_s - 1)}$$\nFinally, the error $\\delta$ is given by:\n$$\\delta = \\left| \\sqrt{\\frac{N_A u_s}{p_0(e^{-u_s} + u_s - 1) + n_0(e^{u_s} - u_s - 1)}} - 1 \\right|$$\nThis formula is implemented numerically for each test case.\nThe physical constants are: elementary charge $q = 1.602176634 \\times 10^{-19}\\,\\mathrm{C}$, Boltzmann constant $k_B = 1.380649 \\times 10^{-23}\\,\\mathrm{J/K}$, absolute temperature $T = 300\\,\\mathrm{K}$, vacuum permittivity $\\varepsilon_0 = 8.854187817 \\times 10^{-12}\\,\\mathrm{F/m}$, and relative permittivity of silicon $\\varepsilon_r(\\mathrm{Si}) = 11.7$. The intrinsic carrier concentration is $n_i = 1.0 \\times 10^{10}\\,\\mathrm{cm}^{-3} = 1.0 \\times 10^{16}\\,\\mathrm{m}^{-3}$. Acceptor concentration $N_A$ must be converted from $\\mathrm{cm}^{-3}$ to $\\mathrm{m}^{-3}$ by multiplying by $10^6$.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Calculates the relative error in the semiconductor surface charge magnitude\n    between the depletion approximation and the exact Poisson-Boltzmann solution\n    for a MOS capacitor.\n    \"\"\"\n\n    # --- Constants (SI Units) ---\n    Q = 1.602176634e-19  # Elementary charge (C)\n    K_B = 1.380649e-23     # Boltzmann constant (J/K)\n    T = 300.0              # Temperature (K)\n    EPS_0 = 8.854187817e-12 # Vacuum permittivity (F/m)\n    EPS_R_SI = 11.7        # Relative permittivity of Silicon\n    NI_CM3 = 1.0e10        # Intrinsic carrier concentration in Si (cm^-3)\n\n    # --- Derived Constants ---\n    V_T = K_B * T / Q      # Thermal voltage (V)\n    EPS_S = EPS_R_SI * EPS_0  # Permittivity of Silicon (F/m)\n    NI_M3 = NI_CM3 * 1e6   # Intrinsic carrier concentration in Si (m^-3)\n\n    # --- Test Suite ---\n    # Each case is a tuple (N_A_cm3, psi_s_V)\n    # N_A_cm3: Acceptor concentration in cm^-3\n    # psi_s_V: Surface potential in V\n    test_cases = [\n        (1.0e16, 0.05),\n        (1.0e16, 0.35),\n        (5.0e16, 0.40),\n        (1.0e17, 0.60),\n        (1.0e16, 0.70),\n    ]\n\n    results = []\n    for na_cm3, psi_s in test_cases:\n        # Convert N_A to SI units (m^-3)\n        na_m3 = na_cm3 * 1e6\n\n        # --- Step 1: Calculate bulk carrier concentrations ---\n        # Solve p0^2 - N_A*p0 - ni^2 = 0 for p0\n        p0 = (na_m3 + np.sqrt(na_m3**2 + 4 * NI_M3**2)) / 2.0\n        n0 = NI_M3**2 / p0\n\n        # --- Step 2  3: Formulate terms for charge calculation ---\n        # Normalized surface potential\n        us = psi_s / V_T\n\n        # --- Step 4: Calculate Relative Error delta ---\n        # Numerator term from the squared ratio of charges, corresponding to the\n        # depletion approximation.\n        # |Q_s_dep|^2 / (2*q*V_T*eps_s) = N_A * u_s\n        num_term = na_m3 * us\n\n        # Denominator term from the squared ratio, corresponding to the\n        # exact Poisson-Boltzmann theory.\n        # |Q_s_exact|^2 / (2*q*V_T*eps_s) = p0*(exp(-us)+us-1) + n0*(exp(us)-us-1)\n        den_term = p0 * (np.exp(-us) + us - 1) + n0 * (np.exp(us) - us - 1)\n\n        # The relative error is delta = | |Q_s_dep|/|Q_s_exact| - 1 |\n        # which is | sqrt( |Q_s_dep|^2 / |Q_s_exact|^2 ) - 1 |\n        if den_term = 0:\n            # This case is physically not expected for psi_s > 0\n            # Handle potential division by zero or sqrt of negative, although unlikely\n            delta = float('inf')\n        else:\n            ratio_sq = num_term / den_term\n            delta = np.abs(np.sqrt(ratio_sq) - 1)\n\n        # Round to six decimal places as required\n        results.append(round(delta, 6))\n\n    # --- Final Output ---\n    # Format the results as a comma-separated list in square brackets\n    output_str = f\"[{','.join(map(str, results))}]\"\n    print(output_str)\n\nsolve()\n```"
        }
    ]
}