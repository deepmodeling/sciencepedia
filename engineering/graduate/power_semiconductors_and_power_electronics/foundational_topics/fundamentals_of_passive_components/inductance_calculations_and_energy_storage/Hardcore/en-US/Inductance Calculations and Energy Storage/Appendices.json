{
    "hands_on_practices": [
        {
            "introduction": "A core skill in power electronics is the ability to design magnetic components to meet specific application requirements. This exercise bridges the gap between abstract theory and practical inductor design by analyzing a gapped E-core, a common structure in power converters. You will apply the magnetic circuit model to derive the inductance, incorporating the non-ideal effect of fringing flux in the air gap, and evaluate the design's sensitivity to manufacturing tolerances—a crucial step in robust engineering. ",
            "id": "3849718",
            "problem": "An E-core inductor is wound on a center leg of rectangular cross-section with width $w_c$ and stack depth $d$, using $N$ turns. The core has a single air gap of length $g$ on the center leg. The mean magnetic path length in the core material (excluding the air gap) is $\\ell_{\\mathrm{core}}$. The core material is linear with relative permeability $\\mu_r$, and the air is linear with permeability $\\mu_0$. Assume operation in the linear regime with negligible leakage so that the magnetic circuit representation is valid. To include fringing in the air gap, adopt the physically motivated approximation that the effective aperture of the gap increases by the gap length in both transverse dimensions, so the effective gap area is modeled as $A_{\\mathrm{eff}}(g) = (w_c + g)(d + g)$.\n\nStarting only from Ampère’s law, the linear constitutive relation for magnetic materials, and the definition of magnetic circuit reluctance as $\\mathcal{R} = \\ell/(\\mu A)$, derive an exact analytic expression for the inductance $L(g)$ of the inductor as a function of the gap length $g$ under the above assumptions. Then, analytically compute the sensitivity $\\frac{dL}{dg}$ and evaluate both $L(g)$ and $\\frac{dL}{dg}$ at the specific operating point\n$$\nN = 60,\\quad w_c = 20\\,\\mathrm{mm},\\quad d = 25\\,\\mathrm{mm},\\quad g_0 = 0.50\\,\\mathrm{mm},\\quad \\ell_{\\mathrm{core}} = 0.28\\,\\mathrm{m},\\quad \\mu_r = 2000,\\quad \\mu_0 = 4\\pi\\times 10^{-7}\\,\\mathrm{H/m}.\n$$\nExpress the inductance $L(g_0)$ in microhenry and the sensitivity $\\left.\\frac{dL}{dg}\\right|_{g_0}$ in microhenry per millimeter. Round each of the two reported values to four significant figures. Provide your final numerical results as a single row matrix with two entries in the order $\\big[L(g_0)\\ \\ \\left.\\frac{dL}{dg}\\right|_{g_0}\\big]$.",
            "solution": "The first step is to derive an analytical expression for the inductance $L(g)$ starting from the specified fundamental principles. We model the inductor as a magnetic circuit consisting of the core and an air gap in series.\n\nAmpère's law in integral form for magnetostatics is $\\oint \\vec{H} \\cdot d\\vec{\\ell} = I_{\\mathrm{enclosed}}$. Applying this to the mean magnetic path of the inductor, the enclosed current is the total current passing through the winding, which is $N i$, where $i$ is the current in the coil. The integral can be broken into segments over the core and the air gap:\n$$\n\\oint \\vec{H} \\cdot d\\vec{\\ell} = H_{\\mathrm{core}}\\ell_{\\mathrm{core}} + H_{\\mathrm{gap}}g = Ni\n$$\nThe product $H\\ell$ is the magnetomotive force (MMF) drop across a segment of the magnetic path. The total MMF provided by the coil is $\\mathcal{F} = Ni$.\n\nThe constitutive relation for a linear, isotropic magnetic material is $\\vec{B} = \\mu \\vec{H}$, where $\\mu$ is the magnetic permeability. For the core, $\\mu_{\\mathrm{core}} = \\mu_r \\mu_0$, and for the air gap, $\\mu_{\\mathrm{gap}} = \\mu_0$. Thus, we can express the magnetic field strength $H$ in terms of the magnetic flux density $B$ as $H = B/\\mu$. Substituting this into Ampère's law:\n$$\n\\frac{B_{\\mathrm{core}}}{\\mu_r \\mu_0}\\ell_{\\mathrm{core}} + \\frac{B_{\\mathrm{gap}}}{\\mu_0}g = Ni\n$$\nUnder the assumption of negligible leakage flux, the magnetic flux $\\Phi$ is continuous and uniform throughout the circuit. The flux is related to the flux density by $\\Phi = B A$, where $A$ is the cross-sectional area. The core has a constant cross-sectional area $A_{\\mathrm{core}} = w_c d$. The air gap has an effective area $A_{\\mathrm{eff}}(g) = (w_c + g)(d + g)$ to account for fringing. Thus, $B_{\\mathrm{core}} = \\Phi / A_{\\mathrm{core}}$ and $B_{\\mathrm{gap}} = \\Phi / A_{\\mathrm{eff}}(g)$. Substituting these into the MMF equation:\n$$\n\\frac{\\Phi}{\\mu_r \\mu_0 w_c d}\\ell_{\\mathrm{core}} + \\frac{\\Phi}{\\mu_0 (w_c + g)(d + g)}g = Ni\n$$\nFactoring out the flux $\\Phi$:\n$$\n\\Phi \\left( \\frac{\\ell_{\\mathrm{core}}}{\\mu_r \\mu_0 w_c d} + \\frac{g}{\\mu_0 (w_c + g)(d + g)} \\right) = Ni\n$$\nThe expression in the parenthesis is the total reluctance of the magnetic circuit, $\\mathcal{R}_{\\mathrm{total}}(g)$. It is the sum of the core reluctance $\\mathcal{R}_{\\mathrm{core}}$ and the gap reluctance $\\mathcal{R}_{\\mathrm{gap}}(g)$, consistent with the definition $\\mathcal{R} = \\ell/(\\mu A)$:\n$$\n\\mathcal{R}_{\\mathrm{core}} = \\frac{\\ell_{\\mathrm{core}}}{\\mu_r \\mu_0 w_c d}\n$$\n$$\n\\mathcal{R}_{\\mathrm{gap}}(g) = \\frac{g}{\\mu_0 (w_c + g)(d + g)}\n$$\nThe inductance $L$ is defined by the flux linkage per unit current, $L = (N\\Phi)/i$. From the magnetic circuit equation $\\Phi \\mathcal{R}_{\\mathrm{total}}(g) = Ni$, we can express the flux as $\\Phi = Ni / \\mathcal{R}_{\\mathrm{total}}(g)$. Substituting this into the definition of inductance gives:\n$$\nL(g) = \\frac{N}{i} \\left( \\frac{Ni}{\\mathcal{R}_{\\mathrm{total}}(g)} \\right) = \\frac{N^2}{\\mathcal{R}_{\\mathrm{total}}(g)}\n$$\nSubstituting the expressions for the reluctances, we obtain the final analytical expression for the inductance as a function of the gap length $g$:\n$$\nL(g) = \\frac{N^2}{\\frac{\\ell_{\\mathrm{core}}}{\\mu_r \\mu_0 w_c d} + \\frac{g}{\\mu_0 (w_c + g)(d + g)}} = \\frac{\\mu_0 N^2}{\\frac{\\ell_{\\mathrm{core}}}{\\mu_r w_c d} + \\frac{g}{(w_c + g)(d + g)}}\n$$\nNext, we compute the sensitivity of the inductance with respect to the gap length, $\\frac{dL}{dg}$. Using the chain rule:\n$$\n\\frac{dL}{dg} = \\frac{d}{dg} \\left( \\frac{N^2}{\\mathcal{R}_{\\mathrm{total}}(g)} \\right) = -N^2 (\\mathcal{R}_{\\mathrm{total}}(g))^{-2} \\frac{d\\mathcal{R}_{\\mathrm{total}}(g)}{dg}\n$$\nSince $\\mathcal{R}_{\\mathrm{core}}$ is constant with respect to $g$, we have $\\frac{d\\mathcal{R}_{\\mathrm{total}}(g)}{dg} = \\frac{d\\mathcal{R}_{\\mathrm{gap}}(g)}{dg}$. We differentiate $\\mathcal{R}_{\\mathrm{gap}}(g)$ using the quotient rule:\n$$\n\\frac{d\\mathcal{R}_{\\mathrm{gap}}(g)}{dg} = \\frac{d}{dg} \\left[ \\frac{g}{\\mu_0 (w_c+g)(d+g)} \\right] = \\frac{1}{\\mu_0} \\frac{d}{dg} \\left[ \\frac{g}{g^2 + (w_c+d)g + w_c d} \\right]\n$$\n$$\n\\frac{d\\mathcal{R}_{\\mathrm{gap}}(g)}{dg} = \\frac{1}{\\mu_0} \\frac{1 \\cdot (g^2 + (w_c+d)g + w_c d) - g \\cdot (2g + w_c+d)}{((w_c+g)(d+g))^2}\n$$\n$$\n\\frac{d\\mathcal{R}_{\\mathrm{gap}}(g)}{dg} = \\frac{1}{\\mu_0} \\frac{g^2 + (w_c+d)g + w_c d - 2g^2 - (w_c+d)g}{((w_c+g)(d+g))^2} = \\frac{w_c d - g^2}{\\mu_0 ((w_c+g)(d+g))^2}\n$$\nSubstituting this back into the expression for $\\frac{dL}{dg}$:\n$$\n\\frac{dL}{dg} = \\frac{-N^2}{\\left(\\mathcal{R}_{\\mathrm{core}} + \\mathcal{R}_{\\mathrm{gap}}(g)\\right)^2} \\left[ \\frac{w_c d - g^2}{\\mu_0 (w_c+g)^2 (d+g)^2} \\right]\n$$\nNow we evaluate $L(g)$ and $\\frac{dL}{dg}$ at the given operating point. First, we convert all parameters to base SI units:\n- $N = 60$\n- $w_c = 20\\,\\mathrm{mm} = 0.02\\,\\mathrm{m}$\n- $d = 25\\,\\mathrm{mm} = 0.025\\,\\mathrm{m}$\n- $g_0 = 0.50\\,\\mathrm{mm} = 0.0005\\,\\mathrm{m}$\n- $\\ell_{\\mathrm{core}} = 0.28\\,\\mathrm{m}$\n- $\\mu_r = 2000$\n- $\\mu_0 = 4\\pi \\times 10^{-7}\\,\\mathrm{H/m}$\n\nLet's calculate the reluctances at $g = g_0$:\n$$\n\\mathcal{R}_{\\mathrm{core}} = \\frac{0.28}{2000 \\cdot (4\\pi \\times 10^{-7}) \\cdot (0.02) \\cdot (0.025)} = \\frac{0.28}{1.256637 \\times 10^{-6}} \\approx 222816.9\\,\\mathrm{H}^{-1}\n$$\nThe effective area of the gap is $A_{\\mathrm{eff}}(g_0) = (0.02+0.0005)(0.025+0.0005) = (0.0205)(0.0255) = 0.00052275\\,\\mathrm{m}^2$.\n$$\n\\mathcal{R}_{\\mathrm{gap}}(g_0) = \\frac{0.0005}{(4\\pi \\times 10^{-7}) \\cdot (0.00052275)} = \\frac{0.0005}{6.569955 \\times 10^{-10}} \\approx 761040.2\\,\\mathrm{H}^{-1}\n$$\nThe total reluctance is:\n$$\n\\mathcal{R}_{\\mathrm{total}}(g_0) = \\mathcal{R}_{\\mathrm{core}} + \\mathcal{R}_{\\mathrm{gap}}(g_0) \\approx 222816.9 + 761040.2 = 983857.1\\,\\mathrm{H}^{-1}\n$$\nNow we calculate the inductance $L(g_0)$:\n$$\nL(g_0) = \\frac{N^2}{\\mathcal{R}_{\\mathrm{total}}(g_0)} = \\frac{60^2}{983857.1} = \\frac{3600}{983857.1} \\approx 0.0036590\\,\\mathrm{H}\n$$\nConverting to microhenry: $L(g_0) \\approx 3659.0\\,\\mu\\mathrm{H}$. To four significant figures, this is $3659\\,\\mu\\mathrm{H}$.\n\nNext, we calculate the sensitivity $\\frac{dL}{dg}$ at $g=g_0$. First, we compute the derivative of the gap reluctance:\n$$\n\\frac{d\\mathcal{R}_{\\mathrm{gap}}}{dg}\\bigg|_{g_0} = \\frac{(0.02)(0.025) - (0.0005)^2}{(4\\pi \\times 10^{-7}) \\cdot (0.00052275)^2} = \\frac{0.0005 - 2.5 \\times 10^{-7}}{3.43394 \\times 10^{-13}} = \\frac{0.00049975}{3.43394 \\times 10^{-13}} \\approx 1.45532 \\times 10^9\\,\\mathrm{H^{-1}/m}\n$$\nNow we calculate the sensitivity of the inductance:\n$$\n\\frac{dL}{dg}\\bigg|_{g_0} = \\frac{-N^2}{(\\mathcal{R}_{\\mathrm{total}}(g_0))^2} \\frac{d\\mathcal{R}_{\\mathrm{gap}}}{dg}\\bigg|_{g_0} = \\frac{-3600}{(983857.1)^2} (1.45532 \\times 10^9) \\approx -3.7190 \\times 10^{-9} \\cdot (1.45532 \\times 10^9) \\approx -5.4117\\,\\mathrm{H/m}\n$$\nThe problem requires the sensitivity in units of microhenry per millimeter ($\\mu\\mathrm{H/mm}$). We perform the unit conversion:\n$$\n-5.4117\\,\\frac{\\mathrm{H}}{\\mathrm{m}} = -5.4117\\,\\frac{10^6\\,\\mu\\mathrm{H}}{10^3\\,\\mathrm{mm}} = -5411.7\\,\\frac{\\mu\\mathrm{H}}{\\mathrm{mm}}\n$$\nRounding to four significant figures, the sensitivity is $-5412\\,\\mu\\mathrm{H/mm}$.\n\nThe two final numerical results are $L(g_0) \\approx 3659\\,\\mu\\mathrm{H}$ and $\\left.\\frac{dL}{dg}\\right|_{g_0} \\approx -5412\\,\\mu\\mathrm{H/mm}$.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 3659 & -5412 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "While linear models are a useful starting point, real inductors exhibit nonlinear behavior, especially when operating with a significant DC bias current. This practice confronts the critical effects of core saturation on ripple current calculation in a PWM converter. You will learn to distinguish between the incremental inductance $L_{\\mathrm{inc}}$, which governs small-signal dynamics, and the secant inductance $L_{\\mathrm{sec}}$, and quantify the substantial error that arises from using the incorrect definition for ripple analysis. ",
            "id": "3849728",
            "problem": "A gapped ferrite inductor used in a Pulse Width Modulation (PWM) direct current (DC) buck converter exhibits nonlinear magnetization such that its flux linkage $\\lambda(i)$ as a function of current $i$ is given by\n$$\n\\lambda(i) \\;=\\; L_{\\infty}\\, i \\;+\\; \\big(L_{0}-L_{\\infty}\\big)\\, I_{s}\\,\\tanh\\!\\left(\\frac{i}{I_{s}}\\right),\n$$\nwhere $L_{0}$ is the low-bias slope, $L_{\\infty}$ is the high-bias slope, and $I_{s}$ sets the saturation transition scale. The converter operates from input voltage $V_{\\mathrm{g}}$ to output voltage $V_{\\mathrm{o}}$ at switching frequency $f_{\\mathrm{s}}$, with duty ratio $D = V_{\\mathrm{o}}/V_{\\mathrm{g}}$. Assume continuous conduction and a small but non-negligible triangular ripple current at the switching frequency around a bias current $I_{0}$.\n\nStarting from Faraday’s law of electromagnetic induction and the definition of flux linkage, explain why the triangular ripple current at the switching frequency must be evaluated using the incremental inductance at the bias point rather than any average or static inductance. Then, for the specific inductor and operating point below, quantify the signed fractional error incurred when the secant inductance is used instead of the incremental inductance to predict the peak-to-peak ripple current:\n- $L_{0} = 250~\\mu\\mathrm{H}$,\n- $L_{\\infty} = 120~\\mu\\mathrm{H}$,\n- $I_{s} = 8~\\mathrm{A}$,\n- $I_{0} = 20~\\mathrm{A}$,\n- $V_{\\mathrm{g}} = 400~\\mathrm{V}$,\n- $V_{\\mathrm{o}} = 200~\\mathrm{V}$,\n- $f_{\\mathrm{s}} = 250~\\mathrm{kHz}$.\n\nDefine the incremental inductance as $L_{\\mathrm{inc}}(I_{0}) = \\frac{d\\lambda}{di}\\big|_{i=I_{0}}$ and the secant inductance as $L_{\\mathrm{sec}}(I_{0}) = \\frac{\\lambda(I_{0})}{I_{0}}$. Let the predicted peak-to-peak ripple using $L_{\\mathrm{inc}}$ be $\\Delta i_{\\mathrm{inc}}$ and the prediction using $L_{\\mathrm{sec}}$ be $\\Delta i_{\\mathrm{sec}}$. Compute the signed fractional error\n$$\n\\delta \\;=\\; \\frac{\\Delta i_{\\mathrm{sec}} - \\Delta i_{\\mathrm{inc}}}{\\Delta i_{\\mathrm{inc}}}\n$$\nfor the given parameters. Express the final number as a decimal with no units and round your answer to four significant figures.",
            "solution": "The problem requires a two-part response: first, an explanation for why the incremental inductance is the correct parameter for calculating switching ripple current in a nonlinear inductor, and second, a quantitative calculation of the error incurred by using the secant inductance instead.\n\nFirst, we address the theoretical explanation. The relationship between the voltage across an inductor, $v_{L}(t)$, and the flux linkage, $\\lambda(t)$, is given by Faraday's law of electromagnetic induction:\n$$\nv_{L}(t) = \\frac{d\\lambda}{dt}\n$$\nIn a nonlinear inductor, the flux linkage $\\lambda$ is a function of the current $i$, i.e., $\\lambda = \\lambda(i)$. We can apply the chain rule to Faraday's law to express the voltage in terms of the current's rate of change:\n$$\nv_{L}(t) = \\frac{d\\lambda(i)}{di} \\frac{di}{dt}\n$$\nThe term $\\frac{d\\lambda(i)}{di}$ is the instantaneous slope of the flux-linkage-versus-current curve. This is, by definition, the incremental (or dynamic) inductance, $L_{\\mathrm{inc}}(i)$:\n$$\nL_{\\mathrm{inc}}(i) = \\frac{d\\lambda(i)}{di}\n$$\nTherefore, the fundamental voltage-current relationship for the inductor is $v_{L}(t) = L_{\\mathrm{inc}}(i(t)) \\frac{di}{dt}$.\n\nIn the context of the DC buck converter operating in continuous conduction mode, the inductor current $i(t)$ consists of a large DC bias component, $I_{0}$, and a small, high-frequency triangular ripple component, $\\Delta i(t)$, such that $i(t) = I_{0} + \\Delta i(t)$. The problem states that the ripple is \"small but non-negligible.\" The small-ripple approximation implies that $|\\Delta i(t)| \\ll I_{0}$. Consequently, the total current $i(t)$ remains very close to the DC bias current $I_{0}$ throughout the switching cycle.\n\nBecause the current variation is small, the incremental inductance $L_{\\mathrm{inc}}(i(t))$, which is a function of the instantaneous current, can be accurately approximated as a constant value evaluated at the DC bias point $I_{0}$:\n$$\nL_{\\mathrm{inc}}(i(t)) \\approx L_{\\mathrm{inc}}(I_{0}) = \\frac{d\\lambda}{di}\\bigg|_{i=I_{0}}\n$$\nThus, for the fast-varying ripple component, the inductor behaves as a linear component with an effective inductance equal to the incremental inductance at the bias point. The inductor voltage and ripple current are related by:\n$$\nv_{L}(t) \\approx L_{\\mathrm{inc}}(I_{0}) \\frac{d(\\Delta i(t))}{dt}\n$$\nTo find the peak-to-peak ripple current, we integrate this equation over the interval when the switch is on, which is a duration of $DT_{s}$, where $D$ is the duty ratio and $T_{s}$ is the switching period. During this time, the inductor voltage is constant at $v_{L} = V_{\\mathrm{g}} - V_{\\mathrm{o}}$. The resulting peak-to-peak ripple current, $\\Delta i_{\\mathrm{inc}}$, is:\n$$\n\\Delta i_{\\mathrm{inc}} = \\frac{(V_{\\mathrm{g}} - V_{\\mathrm{o}})DT_{s}}{L_{\\mathrm{inc}}(I_{0})}\n$$\nThis demonstrates that the ripple current is determined by the local slope of the $\\lambda$-$i$ curve at the operating point, which is the incremental inductance.\n\nIn contrast, the secant inductance, $L_{\\mathrm{sec}}(I_{0}) = \\lambda(I_{0})/I_{0}$, represents the slope of a line from the origin $(0, 0)$ to the DC operating point $(I_{0}, \\lambda(I_{0}))$. It is an average inductance over the entire current range from $0$ to $I_{0}$. Using it to calculate ripple would be physically incorrect, as the current is not swinging from $0$ to $I_{0}$ during a switching cycle; it is making small excursions around $I_{0}$. The secant inductance fails to capture the local magnetic properties of the core at the bias point, which are what govern the inductor's response to the small, high-frequency ripple.\n\nNow, we proceed with the quantitative analysis for the given parameters. The fractional error $\\delta$ is defined as:\n$$\n\\delta = \\frac{\\Delta i_{\\mathrm{sec}} - \\Delta i_{\\mathrm{inc}}}{\\Delta i_{\\mathrm{inc}}}\n$$\nUsing the ripple current formula $\\Delta i = \\frac{(V_{\\mathrm{g}} - V_{\\mathrm{o}})DT_{s}}{L}$, we can express the error in terms of the inductances:\n$$\n\\delta = \\frac{\\frac{(V_{\\mathrm{g}} - V_{\\mathrm{o}})DT_{s}}{L_{\\mathrm{sec}}(I_{0})} - \\frac{(V_{\\mathrm{g}} - V_{\\mathrm{o}})DT_{s}}{L_{\\mathrm{inc}}(I_{0})}}{\\frac{(V_{\\mathrm{g}} - V_{\\mathrm{o}})DT_{s}}{L_{\\mathrm{inc}}(I_{0})}} = \\frac{\\frac{1}{L_{\\mathrm{sec}}(I_{0})} - \\frac{1}{L_{\\mathrm{inc}}(I_{0})}}{\\frac{1}{L_{\\mathrm{inc}}(I_{0})}} = \\frac{L_{\\mathrm{inc}}(I_{0})}{L_{\\mathrm{sec}}(I_{0})} - 1\n$$\nWe need to calculate $L_{\\mathrm{inc}}(I_{0})$ and $L_{\\mathrm{sec}}(I_{0})$ for the given parameters: $L_{0} = 250~\\mu\\mathrm{H}$, $L_{\\infty} = 120~\\mu\\mathrm{H}$, $I_{s} = 8~\\mathrm{A}$, and $I_{0} = 20~\\mathrm{A}$.\n\nFirst, we calculate the incremental inductance $L_{\\mathrm{inc}}(I_{0})$. The formula for $L_{\\mathrm{inc}}(i)$ is the derivative of $\\lambda(i)$:\n$$\nL_{\\mathrm{inc}}(i) = \\frac{d}{di} \\left[ L_{\\infty}\\, i \\;+\\; \\big(L_{0}-L_{\\infty}\\big)\\, I_{s}\\,\\tanh\\!\\left(\\frac{i}{I_{s}}\\right) \\right] = L_{\\infty} + (L_{0}-L_{\\infty}) \\mathrm{sech}^{2}\\!\\left(\\frac{i}{I_{s}}\\right)\n$$\nWe evaluate this at $i = I_{0} = 20~\\mathrm{A}$. The argument of the hyperbolic secant is $i/I_{s} = 20/8 = 2.5$.\n$$\nL_{\\mathrm{inc}}(I_{0}) = L_{\\infty} + (L_{0}-L_{\\infty}) \\mathrm{sech}^{2}(2.5)\n$$\nSubstituting the given inductance values:\n$$\nL_{\\mathrm{inc}}(I_{0}) = 120~\\mu\\mathrm{H} + (250~\\mu\\mathrm{H} - 120~\\mu\\mathrm{H}) \\mathrm{sech}^{2}(2.5) = 120~\\mu\\mathrm{H} + (130~\\mu\\mathrm{H}) \\mathrm{sech}^{2}(2.5)\n$$\nTo evaluate $\\mathrm{sech}^{2}(2.5)$, we use $\\mathrm{sech}(x) = 1/\\cosh(x)$ and $\\cosh(x) = (\\exp(x) + \\exp(-x))/2$.\n$$\n\\cosh(2.5) = \\frac{\\exp(2.5) + \\exp(-2.5)}{2} \\approx \\frac{12.182494 + 0.082085}{2} \\approx 6.1322895\n$$\n$$\n\\mathrm{sech}^{2}(2.5) = \\left(\\frac{1}{6.1322895}\\right)^{2} \\approx 0.02659355\n$$\n$$\nL_{\\mathrm{inc}}(I_{0}) \\approx 120~\\mu\\mathrm{H} + (130~\\mu\\mathrm{H})(0.02659355) \\approx 120~\\mu\\mathrm{H} + 3.45716~\\mu\\mathrm{H} = 123.45716~\\mu\\mathrm{H}\n$$\n\nNext, we calculate the secant inductance $L_{\\mathrm{sec}}(I_{0})$. By definition:\n$$\nL_{\\mathrm{sec}}(I_{0}) = \\frac{\\lambda(I_{0})}{I_{0}} = \\frac{1}{I_{0}} \\left[ L_{\\infty}\\, I_{0} \\;+\\; \\big(L_{0}-L_{\\infty}\\big)\\, I_{s}\\,\\tanh\\!\\left(\\frac{I_{0}}{I_{s}}\\right) \\right] = L_{\\infty} + (L_{0}-L_{\\infty})\\frac{I_{s}}{I_{0}}\\tanh\\!\\left(\\frac{I_{0}}{I_{s}}\\right)\n$$\nWe evaluate this at $I_{0} = 20~\\mathrm{A}$, $I_s = 8~\\mathrm{A}$, so $I_0/I_s=2.5$.\n$$\nL_{\\mathrm{sec}}(I_{0}) = 120~\\mu\\mathrm{H} + (130~\\mu\\mathrm{H}) \\frac{8}{20} \\tanh(2.5) = 120~\\mu\\mathrm{H} + (130~\\mu\\mathrm{H})(0.4) \\tanh(2.5)\n$$\n$$\nL_{\\mathrm{sec}}(I_{0}) = 120~\\mu\\mathrm{H} + (52~\\mu\\mathrm{H}) \\tanh(2.5)\n$$\nTo evaluate $\\tanh(2.5)$, we use $\\tanh(x) = (\\exp(x) - \\exp(-x))/(\\exp(x) + \\exp(-x))$.\n$$\n\\tanh(2.5) \\approx \\frac{12.182494 - 0.082085}{12.182494 + 0.082085} \\approx \\frac{12.100409}{12.264579} \\approx 0.9866143\n$$\n$$\nL_{\\mathrm{sec}}(I_{0}) \\approx 120~\\mu\\mathrm{H} + (52~\\mu\\mathrm{H})(0.9866143) \\approx 120~\\mu\\mathrm{H} + 51.30394~\\mu\\mathrm{H} = 171.30394~\\mu\\mathrm{H}\n$$\n\nFinally, we compute the signed fractional error $\\delta$:\n$$\n\\delta = \\frac{L_{\\mathrm{inc}}(I_{0})}{L_{\\mathrm{sec}}(I_{0})} - 1 \\approx \\frac{123.45716~\\mu\\mathrm{H}}{171.30394~\\mu\\mathrm{H}} - 1 \\approx 0.7206915 - 1 = -0.2793085\n$$\nThe problem requires the answer to be rounded to four significant figures.\n$$\n\\delta \\approx -0.2793\n$$\nThe negative sign indicates that the secant inductance, being larger than the incremental inductance, leads to an underestimation of the ripple current magnitude.",
            "answer": "$$\n\\boxed{-0.2793}\n$$"
        },
        {
            "introduction": "Our analysis expands from single inductors to coupled magnetic structures, specifically the transformer. A key non-ideality in any real transformer is its leakage inductance, which has profound effects on converter dynamics, efficiency, and electromagnetic interference. This exercise guides you through the derivation and physical reasoning behind the standard short-circuit test, a fundamental measurement technique used to isolate and quantify the total leakage inductance by effectively nullifying the magnetizing inductance. ",
            "id": "3849784",
            "problem": "A two-winding transformer used in power electronics is to be characterized for leakage inductance and magnetizing behavior using small-signal measurements. Assume linear magnetic behavior, negligible winding resistance, and operation under sinusoidal steady state at a low flux level. Let the primary and secondary self-inductances under open-circuit conditions be denoted by $L_{1}$ and $L_{2}$, and the mutual inductance by $M$. Consider the fundamental two-coil relations for flux linkages and terminal voltages under these assumptions.\n\nYou perform three measurements:\n- Open-circuit measurement of the primary inductance: $L_{1} = 18\\,\\mathrm{mH}$.\n- Open-circuit measurement of the secondary inductance: $L_{2} = 2\\,\\mathrm{mH}$.\n- Short-circuit measurement of the primary inductance with the secondary terminals shorted: $L_{\\text{sc},1} = 0.7128\\,\\mathrm{mH}$.\n\nThe transformer has a physical turns ratio $N_{p}/N_{s} = 3$. Using a first-principles derivation starting from the two-coil flux linkage relations and sinusoidal steady state (do not invoke any shortcut formulas), derive the input inductance seen at the primary when the secondary is shorted. Explain, in terms of the underlying physics, how this measurement separates the magnetizing contribution from the leakage contribution. Then, using the measurements provided, evaluate the total leakage inductance referred to the primary and compute the energy stored in this total leakage inductance when the primary current is $I_{p} = 5.30\\,\\mathrm{A}$.\n\nExpress the final energy in $\\mathrm{mJ}$ and round your answer to four significant figures.",
            "solution": "The analysis begins with the fundamental voltage-current relationships for a two-winding, linearly-coupled inductor (a transformer) under the assumption of negligible winding resistance. The flux linkages for the primary ($\\lambda_1$) and secondary ($\\lambda_2$) windings are given by:\n$$\n\\lambda_1 = L_1 i_1 + M i_2\n$$\n$$\n\\lambda_2 = M i_1 + L_2 i_2\n$$\nHere, $L_1$ and $L_2$ are the self-inductances of the primary and secondary windings, respectively, and $M$ is the mutual inductance between them. The terminal voltages $v_1$ and $v_2$ are the time derivatives of the flux linkages:\n$$\nv_1(t) = \\frac{d\\lambda_1}{dt} = L_1 \\frac{di_1(t)}{dt} + M \\frac{di_2(t)}{dt}\n$$\n$$\nv_2(t) = \\frac{d\\lambda_2}{dt} = M \\frac{di_1(t)}{dt} + L_2 \\frac{di_2(t)}{dt}\n$$\nFor sinusoidal steady-state operation at an angular frequency $\\omega$, we can use phasor notation. The time derivative operator $\\frac{d}{dt}$ is replaced by multiplication by $j\\omega$. The equations become:\n$$\nV_1 = j\\omega L_1 I_1 + j\\omega M I_2\n$$\n$$\nV_2 = j\\omega M I_1 + j\\omega L_2 I_2\n$$\nwhere $V_1, V_2, I_1, I_2$ are the phasor representations of the corresponding time-varying quantities.\n\nThe problem requires the derivation of the input inductance seen at the primary when the secondary is short-circuited. This condition implies that the voltage across the secondary terminals is zero, so $V_2 = 0$. Setting the second equation to zero gives:\n$$\n0 = j\\omega M I_1 + j\\omega L_2 I_2\n$$\nWe can solve for the secondary current phasor $I_2$ in terms of the primary current phasor $I_1$:\n$$\nj\\omega L_2 I_2 = -j\\omega M I_1\n$$\n$$\nI_2 = -\\frac{M}{L_2} I_1\n$$\nNow, substitute this expression for $I_2$ into the equation for the primary voltage $V_1$:\n$$\nV_1 = j\\omega L_1 I_1 + j\\omega M \\left(-\\frac{M}{L_2} I_1\\right)\n$$\nFactoring out $I_1$ and $j\\omega$:\n$$\nV_1 = j\\omega \\left(L_1 - \\frac{M^2}{L_2}\\right) I_1\n$$\nThe input impedance seen at the primary terminals is $Z_{\\text{sc},1} = \\frac{V_1}{I_1}$.\n$$\nZ_{\\text{sc},1} = j\\omega \\left(L_1 - \\frac{M^2}{L_2}\\right)\n$$\nThis impedance is purely inductive, and its form is $Z_{\\text{sc},1} = j\\omega L_{\\text{sc},1}$. By comparing the two expressions, we identify the short-circuit inductance measured at the primary, $L_{\\text{sc},1}$, as:\n$$\nL_{\\text{sc},1} = L_1 - \\frac{M^2}{L_2}\n$$\nThis completes the required first-principles derivation.\n\nPhysically, this short-circuit measurement separates the magnetizing and leakage effects. The total flux created by the primary current can be divided into two components: the mutual (or magnetizing) flux, which links both windings, and the leakage flux, which links only the primary winding. When the secondary is short-circuited ($v_2 = 0$), Faraday's law of induction ($v_2 = -\\frac{d\\lambda_2}{dt}$) implies that the net flux linkage of the secondary, $\\lambda_2$, must be constant. For AC excitation, this constant must be zero. Thus, $\\lambda_2 = M i_1 + L_2 i_2 = 0$. This means that the secondary current $i_2$ is induced in such a way that its magnetic flux perfectly cancels the mutual flux component produced by the primary current $i_1$ within the magnetic core. The primary voltage source, therefore, only needs to support the flux that does not link the secondary winding—that is, the leakage flux of both windings. The resulting measured inductance, $L_{\\text{sc},1}$, is thus a measure of the total leakage effect of the transformer, as the large magnetizing inductance has been effectively \"shorted out\" by the action of the secondary winding.\n\nThe total leakage inductance of a transformer referred to the primary, often denoted $L_{lk,1,\\text{total}}$, is by definition the inductance measured at the primary terminals with the secondary terminals short-circuited. Therefore, the problem provides this value directly as one of the measurements.\n$$\nL_{lk,1,\\text{total}} = L_{\\text{sc},1} = 0.7128\\,\\mathrm{mH} = 0.7128 \\times 10^{-3}\\,\\mathrm{H}\n$$\nThe provided open-circuit inductances $L_1=18\\,\\mathrm{mH}$ and $L_2=2\\,\\mathrm{mH}$ along with the turns ratio $N_p/N_s=3$ are consistent, as for a well-coupled transformer, $L_1/L_2 \\approx (N_p/N_s)^2$, and here $18/2 = 9 = 3^2$. These values are used to find the coupling coefficient, but are not needed to identify the total leakage inductance, which is given directly.\n\nThe final task is to compute the energy stored in this total leakage inductance when the primary current is $I_p = 5.30\\,\\mathrm{A}$. The energy $W$ stored in an inductor $L$ carrying a current $I$ is given by the formula:\n$$\nW = \\frac{1}{2} L I^2\n$$\nUsing the total leakage inductance referred to the primary and the given primary current:\n$$\nL = L_{lk,1,\\text{total}} = 0.7128 \\times 10^{-3}\\,\\mathrm{H}\n$$\n$$\nI = I_p = 5.30\\,\\mathrm{A}\n$$\nSubstituting these values into the energy formula:\n$$\nW = \\frac{1}{2} (0.7128 \\times 10^{-3}\\,\\mathrm{H}) (5.30\\,\\mathrm{A})^2\n$$\n$$\nW = \\frac{1}{2} (0.7128 \\times 10^{-3}) (28.09)\\,\\mathrm{J}\n$$\n$$\nW = (0.3564 \\times 10^{-3}) (28.09)\\,\\mathrm{J}\n$$\n$$\nW \\approx 0.010010836\\,\\mathrm{J}\n$$\nThe problem requires the answer to be expressed in millijoules ($\\mathrm{mJ}$).\n$$\nW \\approx 10.010836\\,\\mathrm{mJ}\n$$\nRounding to four significant figures, we get:\n$$\nW = 10.01\\,\\mathrm{mJ}\n$$",
            "answer": "$$\\boxed{10.01}$$"
        }
    ]
}