{
    "hands_on_practices": [
        {
            "introduction": "在设计循环变流器的控制策略时，负载的性质是一个首要考虑因素。本练习旨在阐明一个核心概念：为何向纯阻性负载供电与向感性负载（如电机）供电需要采用截然不同的门极控制逻辑。通过分析这两种情况，您将深入理解电流和电压的相位关系如何决定换流器桥臂的切换时机，以及如何利用逆变模式来管理存储在电感中的能量。",
            "id": "3832379",
            "problem": "一个单相无环流交-交变频器由反并联的全波电网换相晶闸管桥构成。输入源为正弦波，其瞬时电压为 $v_{s}(t) = V_{s} \\sin(\\omega_{s} t)$，角频率为 $\\omega_{s}$，其中 $\\omega_{s} \\gg \\omega_{o}$。该交-交变频器被指令产生一个低频输出参考 $v_{o}^{\\star}(t) = V_{o} \\sin(\\omega_{o} t)$，其角频率为 $\\omega_{o}$，幅值为 $V_{o}$，采用余弦波交叉调制法：在每个电源半周期内，工作桥组的触发角 $\\alpha(t)$ 被改变，使得该半周期内的平均值等于该半周期中心的瞬时参考值 $v_{o}^{\\star}(t)$。假设晶闸管为理想瞬时换相，换相重叠可忽略不计，并且 $\\omega_{s}$ 谐波处的高频纹波被负载或外部滤波器抑制，因此可观测的低频输出包络等于指令的 $v_{o}^{\\star}(t)$。\n\n考虑两种负载情况：\n- 情况1：一个电阻为 $R$ 的纯电阻负载。\n- 情况2：一个电阻为 $R$、电感为 $L$ 的串联阻感负载。\n\n从基本定律和定义出发，包括基尔霍夫电压定律以及电阻和电感的本构关系，并仅使用从源波形积分推导出的关于电网换相整流器且经过充分验证的事实，完成以下任务：\n\n1. 对于电阻负载，定性解释该交-交变频器的门极控制策略如何确保相应的桥组导通，从而使输出包络跟踪 $v_{o}^{\\star}(t)$ 且无环流，并推导得到的可观测低频波形 $v_{o}(t)$ 和 $i_{o}(t)$。\n\n2. 对于阻感负载，定性解释门极控制策略必须如何调整以适应负载电流的连续性和滞后电流，并推导得到稳态下的可观测低频波形 $v_{o}(t)$ 和 $i_{o}(t)$。\n\n在给定假设下，你可以将可观测的低频输出电压理想化为 $v_{o}(t) = V_{o} \\sin(\\omega_{o} t)$，但你必须从第一性原理为每种负载推导相应的 $i_{o}(t)$。\n\n最后，确定在稳态下，阻感负载的 $v_{o}(t)$ 和 $i_{o}(t)$ 之间的位移角 $\\varphi$（以弧度表示），并以 $R$、$L$ 和 $\\omega_{o}$ 的闭式表达式给出。你的最终答案只需提供此位移角。题目未提供数值；保留符号参数。最终答案必须是单个解析表达式。如果你选择近似，请不要这样做；给出精确表达式。角度以弧度表示。",
            "solution": "题目陈述经评估有效。其科学依据植根于电力电子学和电路理论的原理，问题提出得当，信息充分，目标明确，并采用客观、正式的语言进行阐述。所提供的假设是分析此类系统基本行为的标准理想化方法。\n\n题目要求分析一个单相无环流交-交变频器在两种不同负载条件下的工作情况。交-交变频器通过使用相控整流器从一个更高频率的源合成一个低频交流电压。在此配置中，使用了两个反并联的全波桥组，一个正组变流器（P-变流器）和一个负组变流器（N-变流器）。P-变流器产生可控的正电压，N-变流器产生可控的负电压。控制的核心原理是调制工作桥组中晶闸管的触发角 $\\alpha$，使输出电压的低频分量 $v_{o}(t)$ 跟踪一个正弦参考 $v_{o}^{\\star}(t) = V_{o} \\sin(\\omega_{o} t)$。题目给定高频分量被滤除，因此我们可以假设可观测的输出电压为 $v_{o}(t) = v_{o}^{\\star}(t)$。\n\n1. 情况1：纯电阻负载\n\n对于一个电阻为 $R$ 的纯电阻负载，根据欧姆定律 $v_{o}(t) = R i_{o}(t)$，输出电流 $i_{o}(t)$ 与输出电压 $v_{o}(t)$ 成正比。因此，输出电流始终与输出电压同相。\n\n门极控制策略的定性解释：\n在无环流交-交变频器中，两个变流器桥组中只有一个在任何给定时间工作，以防止电源短路。激活哪个桥组的选择取决于所需的电流流向。\n- 当参考电压 $v_{o}^{\\star}(t)$ 为正时（对于 $0  \\omega_{o} t  \\pi$），输出电压 $v_{o}(t)$ 必须为正。对于电阻负载，正电压意味着正电流，即 $i_{o}(t) > 0$。P-变流器能够提供正电流，因此它被触发导通，而N-变流器被阻断。P-变流器的触发角 $\\alpha(t)$ 被调制（通常在 $0 \\le \\alpha \\le \\frac{\\pi}{2}$ 范围内）以产生所需的瞬时平均电压。\n- 当参考电压 $v_{o}^{\\star}(t)$ 为负时（对于 $\\pi  \\omega_{o} t  2\\pi$），输出电压 $v_{o}(t)$ 必须为负。在电阻负载中，这需要负电流，即 $i_{o}(t)  0$。N-变流器设计用于提供负电流（或吸收正电流），因此它被触发导通，而P-变流器被阻断。N-变流器的触发角被调制以跟踪负电压参考。\n因为电流和电压同相，它们同时过零。在 $v_{o}(t)$ 的每个过零点，负载电流自然降至零，从而可以安全自然地从一个桥组换相到另一个桥组，而没有环流的风险。因此，门极逻辑可以简化为仅依赖于电压参考 $v_{o}^{\\star}(t)$ 的极性。\n\n低频波形的推导：\n根据可观测的低频输出电压完美跟踪参考的假设：\n$$ v_{o}(t) = V_{o} \\sin(\\omega_{o} t) $$\n使用电阻的本构关系（欧姆定律）$v_{o}(t) = R i_{o}(t)$，我们可以推导出输出电流 $i_{o}(t)$：\n$$ i_{o}(t) = \\frac{v_{o}(t)}{R} $$\n代入 $v_{o}(t)$ 的表达式：\n$$ i_{o}(t) = \\frac{V_{o}}{R} \\sin(\\omega_{o} t) $$\n波形 $v_{o}(t)$ 和 $i_{o}(t)$ 是正弦的且同相。\n\n2. 情况2：串联阻感 (RL) 负载\n\n对于一个电阻为 $R$、电感为 $L$ 的串联RL负载，电压和电流之间的关系由一个微分方程描述。电感导致电流滞后于电压。\n\n调整后的门极控制策略的定性解释：\n电流和电压之间的相位滞后引入了一个显著的复杂性。基于电压参考极性的简单门极策略不再可行。例如，当输出电压 $v_{o}(t)$ 从正变为负时（在 $\\omega_{o} t = \\pi$ 处），储存在电感中的能量将导致电流 $i_{o}(t)$ 在一段时间内保持为正。\n- 如果在电压过零点禁用P-变流器并启用N-变流器，持续的正负载电流将没有通路，这会导致危险的电压尖峰。或者，如果两者都被触发，则会发生线间短路。\n- 因此，门极逻辑必须调整为根据输出电流 $i_{o}(t)$ 的方向来选择工作桥组，而不是输出电压 $v_{o}(t)$ 的极性。规则是：\n    - 如果 $i_{o}(t) > 0$，必须触发P-变流器。\n    - 如果 $i_{o}(t)  0$，必须触发N-变流器。\n- 考虑在 $v_{o}(t)  0$ 但 $i_{o}(t) > 0$ 的区间（紧接在电压过零之后）。P-变流器保持工作以传导正电流。然而，为了产生负电压，变流器必须工作在*逆变模式*。这是通过将其触发角 $\\alpha(t)$ 设置为大于 $\\frac{\\pi}{2}$ 来实现的。在此模式下，变流器将功率从负载传回交流电源，这是迫使电感电流向零减小所必需的。\n- 对称地，当 $v_{o}(t) > 0$ 但 $i_{o}(t)  0$ 时，N-变流器保持工作并运行在其逆变模式，以在传导负电流的同时产生正电压。\n该策略确保了电流的连续性并防止了环流，使得交-交变频器能够为具有任意功率因数的负载供电。\n\n低频波形和位移角的推导：\n我们再次从理想化的输出电压开始：\n$$ v_{o}(t) = V_{o} \\sin(\\omega_{o} t) $$\n根据应用于串联RL负载的基尔霍夫电压定律（KVL），输出电压是电阻和电感上的电压降之和：\n$$ v_{o}(t) = R i_{o}(t) + L \\frac{d i_{o}(t)}{dt} $$\n代入 $v_{o}(t)$ 的表达式，我们得到稳态电流 $i_{o}(t)$ 的一阶线性常微分方程：\n$$ V_{o} \\sin(\\omega_{o} t) = R i_{o}(t) + L \\frac{d i_{o}(t)}{dt} $$\n为了找到稳态解，我们使用相量法。在频域中，时域函数 $A \\sin(\\omega t + \\theta)$ 由相量 $\\mathbf{A} = A e^{j\\theta}$ 表示。微分运算 $\\frac{d}{dt}$ 对应于乘以 $j\\omega_{o}$。微分方程变为关于相量的代数方程：\n$$ \\mathbf{V_{o}} = R \\mathbf{I_{o}} + j\\omega_{o} L \\mathbf{I_{o}} $$\n其中 $\\mathbf{V_{o}}$ 和 $\\mathbf{I_{o}}$ 分别是电压和电流的相量。提出公因子 $\\mathbf{I_{o}}$：\n$$ \\mathbf{V_{o}} = (R + j\\omega_{o} L) \\mathbf{I_{o}} $$\n项 $Z = R + j\\omega_{o} L$ 是负载的复阻抗。电流和电压相量之间的关系是 $\\mathbf{I_{o}} = \\frac{\\mathbf{V_{o}}}{Z}$。\n位移角 $\\varphi$ 是电压和电流之间的相位差。它由阻抗 $Z$ 的相角给出：\n$$ \\varphi = \\arg(Z) = \\arg(R + j\\omega_{o} L) $$\n复数 $x + jy$ 的辐角是 $\\arctan(\\frac{y}{x})$。因此，位移角为：\n$$ \\varphi = \\arctan\\left(\\frac{\\omega_{o} L}{R}\\right) $$\n该角 $\\varphi$ 表示电流 $i_{o}(t)$ 滞后于电压 $v_{o}(t)$ 的量。稳态输出电流波形为：\n$$ i_{o}(t) = I_{o} \\sin(\\omega_{o} t - \\varphi) $$\n其中幅值为 $I_{o} = \\frac{V_{o}}{|Z|} = \\frac{V_{o}}{\\sqrt{R^2 + (\\omega_{o} L)^2}}$，相位滞后为 $\\varphi = \\arctan\\left(\\frac{\\omega_{o} L}{R}\\right)$。\n\n题目要求的是阻感负载的位移角 $\\varphi$。基于以上推导，这是需要提供的最终表达式。",
            "answer": "$$\\boxed{\\arctan\\left(\\frac{\\omega_{o} L}{R}\\right)}$$"
        },
        {
            "introduction": "掌握了基本的控制原理后，下一步是将其转化为一个可执行的算法。本练习将指导您实现“余弦波交越”控制法，这是一种广泛用于循环变流器的调制技术。您将从第一性原理出发，推导出一个能够为组成变流器的12个晶闸管精确计算一系列离散触发延迟角的算法，从而将理论知识应用于实际的数字控制情景。",
            "id": "3832442",
            "problem": "给定一个平衡三相交流 (AC) 电源和一个理想的交-交变频器，该变频器由两个相同的三相六脉冲电网换相晶闸管桥构成：一个正组和一个负组。每个桥有六个晶闸管。该交-交变频器通过根据余弦波交越控制来调制晶闸管的触发延迟，从而执行低频交-交转换，以合成所需的低频输出波形。\n\n假设以下理想化和标准条件，这些条件在此类变流器的分析中被广泛使用：\n- 三相交流输入是平衡、正弦的，线-线方均根 (RMS) 电压为 $V_{LL,\\mathrm{rms}}$，频率为 $f_i$。设输入角频率为 $\\omega_i = 2\\pi f_i$。\n- 负载电流连续（无电流中断），换相重叠可忽略不计，且器件为理想器件。\n- 交-交变频器的输出参考是一个单相正弦电压 $v_o(t) = V_o \\sin(\\omega_o t + \\phi)$，其幅值为 $V_o$，低频为 $f_o$（角频率 $\\omega_o = 2\\pi f_o$），相位为 $\\phi$。\n- 频率比 $f_i/f_o$ 是一个正整数，因此一个低频周期包含整数个输入周期。\n\n在余弦波交越控制下，通过根据所需参考信号的符号选择有功桥组，并在与输入同步的一组离散时刻计算满足余弦控制特性的触发延迟，来跟踪瞬时期望输出电压。\n\n从第一性原理和经过充分验证的事实出发，推导一个算法，用于在余弦波交越控制下，计算一个低频周期内每个桥组（正组和负组）中六个晶闸管各自的离散触发延迟角集合。您的推导必须从正弦三相电压和六脉冲桥的分段整流导通开始，并且只能使用基本定律和公认的结果。具体而言：\n- 表示来自平衡正弦源的三相线-线电压 $\\{v_{ab}(t), v_{bc}(t), v_{ca}(t)\\}$。\n- 将理想六脉冲桥的输出建模为由导通序列选择的最大幅值线-线电压段，其触发延迟 $\\alpha$ 从每个器件的自然换相点开始计算。\n- 在连续电流下，获得作为 $\\alpha$ 函数的平均桥输出电压 $V_d(\\alpha)$。\n- 解释余弦波交越如何在离散时刻设置 $\\alpha$，以使输出电压在幅值上匹配缓慢变化的期望参考 $v_o(t)$，同时通过符号选择有功组。\n- 定义并使用与输入同步的离散采样时刻集合 $t_n$（其中 $n=0,1,2,\\dots,N-1$，$N$ 是一个六脉冲桥在一个低频周期内的晶闸管触发机会次数）。\n- 将每个采样时刻 $t_n$ 映射到其相应组中的特定晶闸管器件索引。\n\n您的程序必须实现所推导的算法，以完成以下任务：\n- 计算正组和负组中每个晶闸管器件在一个完整的低频周期内的离散触发延迟角 $\\alpha$（以弧度为单位）。\n- 使用采样时刻 $t_n = n\\frac{\\pi}{3}/\\omega_i$（其中 $n=0,1,\\dots,N-1$，$N = 6\\frac{f_i}{f_o}$），这些时刻对应于每个输入周期中的六个自然换相机会。\n- 在每个采样时刻，根据 $v_o(t_n)$ 的符号选择有功桥组：如果 $v_o(t_n) \\ge 0$，则使用正组；否则使用负组。\n- 通过余弦控制特性计算触发延迟的幅值，如果 $\\lvert v_o(t_n)\\rvert$ 超过了桥的最大平均能力，则将延迟饱和到物理极限。\n- 将每个计算出的延迟分配给有功组内正确的晶闸管器件索引 $d = 1 + (n \\bmod 6)$。\n\n角度单位规范：所有触发延迟均以弧度报告。将每个计算出的延迟四舍五入到 $6$ 位小数。\n\n物理单位规范：输入电压单位为伏特，频率单位为赫兹，时间单位为秒。\n\n最终输出格式：您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表。每个结果对应一个测试用例，并表示为一个嵌套列表，该列表有两个顶层元素：第一个是正组，第二个是负组。每个组元素是一个包含六个子列表的列表，每个子列表按索引顺序1到6对应一个晶闸管器件，其中包含该器件在低频周期内的触发延迟序列。例如：$[[[...],[...],[...],[...],[...],[...]],[...[...]]]$，其中不含任何空格。您的程序必须严格打印此单行。\n\n测试套件与参数：\n- 案例1（正常路径）：$V_{LL,\\mathrm{rms}} = 400$ V, $f_i = 50$ Hz, $f_o = 5$ Hz, $V_o = 300$ V, $\\phi = 0$ rad。\n- 案例2（接近最大调制）：$V_{LL,\\mathrm{rms}} = 400$ V, $f_i = 50$ Hz, $f_o = 5$ Hz, $V_o = 540$ V, $\\phi = 0$ rad。\n- 案例3（不同电网和低幅值）：$V_{LL,\\mathrm{rms}} = 480$ V, $f_i = 60$ Hz, $f_o = 6$ Hz, $V_o = 50$ V, $\\phi = 0$ rad。\n- 案例4（边界情况，零幅值）：$V_{LL,\\mathrm{rms}} = 400$ V, $f_i = 50$ Hz, $f_o = 10$ Hz, $V_o = 0$ V, $\\phi = 0$ rad。\n\n答案规范：\n- 对于每个测试用例，输出一个结构为 $[\\text{positive\\_group},\\text{negative\\_group}]$ 的嵌套列表，其中每个组是 $[\\text{dev1},\\text{dev2},\\dots,\\text{dev6}]$，每个 $\\text{dev}k$ 是器件 $k$ 在低频周期内的触发延迟列表（以弧度为单位，四舍五入到六位小数）。\n- 最终输出是包含所有测试用例结果的单行，采用所述的嵌套格式，且不含空格。",
            "solution": "该问题陈述是电力电子领域一个有效且适定的问题。它在科学上基于使用电网换相交-交变频器进行交-交转换的原理，并且没有任何使其无效的缺陷。因此，我们可以进行正式的推导和求解。\n\n### 步骤1：三相系统的基本关系\n\n给定一个平衡三相交流电源，其线-线方均根电压为 $V_{LL,\\mathrm{rms}}$，角频率为 $\\omega_i$。峰值线-线电压 $V_{LL,peak}$ 由下式给出：\n$$ V_{LL,peak} = \\sqrt{2} V_{LL,\\mathrm{rms}} $$\n\n### 步骤2：理想六脉冲桥的输出电压\n\n该交-交变频器由两个反并联的三相六脉冲晶闸管桥组成。每个桥的功能都相当于一个可控整流器。对于在负载电流连续且换相重叠可忽略不计的情况下运行的六脉冲桥，其平均直流输出电压 $V_d$ 作为触发延迟角 $\\alpha$ 的函数，由公认的公式给出：\n$$ V_d(\\alpha) = V_{d0} \\cos(\\alpha) $$\n其中 $\\alpha$ 是从每个晶闸管的自然换相点开始测量的延迟角。理论最大平均直流电压 $V_{d0}$（在 $\\alpha=0$ 时获得）为：\n$$ V_{d0} = \\frac{3 V_{LL,peak}}{\\pi} = \\frac{3\\sqrt{2} V_{LL,\\mathrm{rms}}}{\\pi} $$\n该电压 $V_{d0}$ 代表了变流器可以产生的最大平均电压幅值。触发角 $\\alpha$ 可以在 $0$（全整流）到 $\\pi$（全逆变）之间变化。\n\n### 步骤3：余弦波交越控制原理\n\n交-交变频器通过快速调制晶闸管桥的触发角来合成低频交流输出电压 $v_o(t)$。期望的输出是一个正弦波：\n$$ v_o(t) = V_o \\sin(\\omega_o t + \\phi) $$\n其中 $V_o$ 是期望的输出幅值，$\\omega_o = 2\\pi f_o$ 是输出角频率，$\\phi$ 是相位偏移。\n\n余弦波交越控制的目标是使有功桥组在短时间间隔内产生的平均电压等于期望的瞬时电压 $v_o(t)$。两个桥组，即正组 (P) 和负组 (N)，根据期望电压 $v_o(t)$ 的符号来启用。\n- 如果 $v_o(t) \\ge 0$，则正组工作。其输出电压为正。我们必须设置其触发角 $\\alpha_p$，使其平均输出与参考值匹配：\n  $$ v_o(t) = V_d(\\alpha_p) = V_{d0} \\cos(\\alpha_p) $$\n- 如果 $v_o(t)  0$，则负组工作。该桥是反并联连接的，因此其相对于负载的自然输出电压为负。我们设置其触发角 $\\alpha_n$，使其平均输出与参考值匹配：\n  $$ v_o(t) = -V_d(\\alpha_n) = -V_{d0} \\cos(\\alpha_n) $$\n\n从这两个条件，我们可以推导出关于触发角幅值的单一控制律。\n对于正组 ($v_o(t) \\ge 0$)：\n$$ \\cos(\\alpha_p) = \\frac{v_o(t)}{V_{d0}} \\implies \\alpha_p = \\arccos\\left(\\frac{v_o(t)}{V_{d0}}\\right) $$\n对于负组 ($v_o(t)  0$)：\n$$ \\cos(\\alpha_n) = -\\frac{v_o(t)}{V_{d0}} = \\frac{|v_o(t)|}{V_{d0}} \\implies \\alpha_n = \\arccos\\left(\\frac{|v_o(t)|}{V_{d0}}\\right) $$\n综合这些，任一时刻 $t$ 有功组的触发角由下式给出：\n$$ \\alpha(t) = \\arccos\\left(\\frac{|v_o(t)|}{V_{d0}}\\right) $$\n反余弦函数的参数 $|v_o(t)|/V_{d0}$ 不能超过 $1$。如果期望电压幅值 $|v_o(t)|$ 超过变流器的能力 $V_{d0}$，就会发生饱和。必须修改控制律以处理这种情况，方法是将参数削顶至 $1$。令 $u(t) = |v_o(t)|/V_{d0}$。\n$$ \\alpha(t) = \\arccos(\\min(u(t), 1.0)) $$\n如果发生饱和（即 $u(t) \\ge 1$），触发角变为 $\\alpha = \\arccos(1) = 0$，这正确地指令变流器产生其可能的最大输出幅值。\n\n### 步骤4：离散化与算法实现\n\n该控制律在与晶闸管触发机会相对应的离散时间点应用。对于一个六脉冲桥，每个频率为 $f_i$ 的输入周期内有 $6$ 个这样的机会。这些机会以输入频率的 $\\pi/3$ 弧度为间隔出现。离散采样时刻 $t_n$ 由下式给出：\n$$ t_n = n \\frac{\\pi/3}{\\omega_i} = n \\frac{\\pi/3}{2\\pi f_i} = \\frac{n}{6f_i} $$\n计算在一个完整的低频周期 $T_o = 1/f_o$ 内执行。总采样时刻数 $N$ 是每个输出周期内的输入脉冲数：\n$$ N = 6 \\times \\frac{T_o}{T_i} = 6 \\frac{f_i}{f_o} $$\n问题陈述保证了比率 $f_i/f_o$ 是一个整数，所以 $N$ 是一个整数。循环的范围是 $n = 0, 1, 2, \\dots, N-1$。\n\n在时刻 $t_n$ 要触发的具体晶闸管由一个循环序列确定。器件索引 $d$（从 $1$ 到 $6$）由下式给出：\n$$ d = 1 + (n \\pmod 6) $$\n\n完整的算法如下：\n1.  给定 $V_{LL,\\mathrm{rms}}$, $f_i$, $f_o$, $V_o$, $\\phi$。\n2.  计算常数：\n    -   $\\omega_o = 2\\pi f_o$\n    -   $V_{d0} = (3\\sqrt{2} V_{LL,\\mathrm{rms}})/\\pi$\n    -   $N = 6 (f_i/f_o)$\n3.  为正组和负组中的各 $6$ 个晶闸管的触发角初始化空列表。`positive_group_angles = [[] for _ in range(6)]`, `negative_group_angles = [[] for _ in range(6)]`。\n4.  对 $n$ 从 $0$ 到 $N-1$ 进行循环：\n    a.  计算采样时间：$t_n = n / (6f_i)$。\n    b.  计算瞬时参考电压：$v_{ref} = V_o \\sin(\\omega_o t_n + \\phi)$。\n    c.  确定有功桥组：\n        -   如果 $v_{ref} \\ge 0$，则正组工作。\n        -   如果 $v_{ref}  0$，则负组工作。\n    d.  为控制律计算归一化电压幅值：$u = |v_{ref}| / V_{d0}$。\n    e.  对控制信号进行饱和处理：$u_{sat} = \\min(u, 1.0)$。\n    f.  计算触发延迟角：$\\alpha_n = \\arccos(u_{sat})$。\n    g.  确定晶闸管器件索引：$d = 1 + (n \\pmod 6)$。列表索引为 $d-1$。\n    h.  存储计算出的角度：\n        -   如果正组工作，将 $\\alpha_n$ 追加到 `positive_group_angles[d-1]`。\n        -   如果负组工作，将 $\\alpha_n$ 追加到 `negative_group_angles[d-1]`。\n5.  循环结束后，这些列表包含了每个器件的触发角序列。每个角度按要求四舍五入到 $6$ 位小数。最终结果是一个嵌套列表，包含两个组已填充的角度列表。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Main function to solve the cycloconverter firing angle problem for all test cases.\n    \"\"\"\n    \n    # Define the test cases from the problem statement.\n    test_cases = [\n        # (V_LL_rms, f_i, f_o, V_o, phi)\n        (400.0, 50.0, 5.0, 300.0, 0.0),\n        (400.0, 50.0, 5.0, 540.0, 0.0),\n        (480.0, 60.0, 6.0, 50.0, 0.0),\n        (400.0, 50.0, 10.0, 0.0, 0.0),\n    ]\n\n    results = []\n    for case in test_cases:\n        result = calculate_firing_angles(*case)\n        results.append(result)\n\n    # The final print must be a single line with no spaces.\n    # str(results) will include spaces, so we remove them.\n    final_output = str(results).replace(\" \", \"\")\n    print(final_output)\n\ndef calculate_firing_angles(V_LL_rms, f_i, f_o, V_o, phi):\n    \"\"\"\n    Calculates the firing delay angles for a three-phase cycloconverter.\n\n    Args:\n        V_LL_rms (float): RMS line-to-line input voltage in volts.\n        f_i (float): Input frequency in hertz.\n        f_o (float): Output frequency in hertz.\n        V_o (float): Desired peak output voltage in volts.\n        phi (float): Phase of the desired output voltage in radians.\n\n    Returns:\n        list: A nested list structure containing the firing angles for positive\n              and negative group thyristors.\n              Format: [positive_group_angles, negative_group_angles]\n              where each group_angles is a list of 6 lists (one per device).\n    \"\"\"\n    # Step 1: Calculate key constants\n    omega_o = 2 * np.pi * f_o\n    V_d0 = (3 * np.sqrt(2) * V_LL_rms) / np.pi\n    \n    # Ratio f_i/f_o is guaranteed to be an integer\n    freq_ratio = int(f_i / f_o)\n    N = 6 * freq_ratio\n\n    # Step 2: Initialize data structures for storing firing angles\n    # 6 thyristors per group\n    positive_group_angles = [[] for _ in range(6)]\n    negative_group_angles = [[] for _ in range(6)]\n\n    # Step 3: Loop through all firing instants in one low-frequency cycle\n    for n in range(N):\n        # a. Calculate the sampling time\n        t_n = n / (6 * f_i)\n\n        # b. Calculate instantaneous reference voltage\n        v_ref = V_o * np.sin(omega_o * t_n + phi)\n\n        # c. Calculate normalized voltage and saturate if necessary\n        # Handle division by zero for V_d0 if V_LL_rms is 0 (though not in test cases)\n        if V_d0 == 0:\n            u = float('inf') if abs(v_ref) > 0 else 0.0\n        else:\n            u = abs(v_ref) / V_d0\n        \n        u_sat = min(u, 1.0)\n        \n        # d. Calculate the firing delay angle using arccosine\n        alpha = np.arccos(u_sat)\n        \n        # e. Determine the thyristor device index (1 to 6)\n        device_idx = 1 + (n % 6)\n        \n        # f. Assign the calculated angle to the correct group and device\n        if v_ref >= 0:\n            # Positive group is active\n            positive_group_angles[device_idx - 1].append(round(alpha, 6))\n        else:\n            # Negative group is active\n            negative_group_angles[device_idx - 1].append(round(alpha, 6))\n            \n    return [positive_group_angles, negative_group_angles]\n\n# Execute the solution\nsolve()\n\n```"
        },
        {
            "introduction": "理想模型是理解复杂系统的起点，但实际工程设计必须考虑非理想效应。本练习聚焦于一个关键的非理想现象——由电源电感引起的换相重叠，它会降低输出电压的控制精度。您将设计一种前馈补偿策略，利用对负载电流和系统电感的测量来预测并抵消换相重叠的影响，从而量化分析高级控制算法如何显著提升变流器的性能。",
            "id": "3832414",
            "problem": "要求您推导并实现一种用于三相交-交变频器的前馈补偿方法，该变频器用于合成低频交流到交流的转换。电源电感会导致换相重叠，从而扭曲调节后的基波输出电压。您的任务是从第一性原理出发，推导换相重叠角的可实现表达式，使用测量量设计前馈定律，并量化基波输出分量调节性能的改进。\n\n假设在交-交变频器内部使用三相电网换相桥作为基本构建模块。低频输出通过调制触发角来合成。由于电源电感 $ L_s $ 和负载电流 $ I_o $，在相间换相过程中会产生重叠角 $ \\mu $，它会在转换中引起等效相移。为了解决此问题，请考虑以下物理上合理且有科学依据的建模假设：\n\n- 电源电感是集总线性的，其在换相期间的作用遵循 Kirchhoff 电压定律 (KVL)：$ L_s \\, \\frac{d i(t)}{d t} = v_{ab}(t) $，其中 $ v_{ab}(t) $ 是重叠期间施加在换相路径上的线电压。\n- 换相区间相对于电源周期而言很短，对于三相正弦电源，重叠区间内的线电压可以近似为局部恒定，其幅值为 $ V_{\\Delta} $，取为线电压峰值 $ V_{\\Delta} = \\sqrt{2} \\, V_{LL} $，其中 $ V_{LL} $ 是线电压的均方根值。\n- 三相桥基于触发角的幅值调节遵循余弦控制：理想化的基波输出幅值（对于基本构建模块）与 $ \\cos(\\alpha) $ 成比例，其中 $ \\alpha $ 是触发角。在存在重叠的情况下，对象等效地经历一个附加角 $ \\mu $，因此在小信号角度近似下，幅值变为 $ \\cos(\\alpha + \\mu) $。\n\n在此基础上，执行以下推导和定义：\n\n1. 通过对换相电流斜坡进行积分，以在重叠时间 $ \\Delta t $ 内转移電流 $ I_o $，来推导重叠角 $ \\mu $。使用 $ L_s \\, \\frac{d i}{d t} = V_{\\Delta} $，其中 $ V_{\\Delta} $ 在 $ \\Delta t $ 期间为常数。通过 $ \\mu = \\omega_s \\, \\Delta t $ 将 $ \\mu $ 与 $ \\Delta t $ 关联起来，其中 $ \\omega_s $ 是电源角频率。明确地用 $ \\omega_s $、$ L_s $、$ I_o $ 和 $ V_{\\Delta} $ 表示 $ \\mu $。施加一个物理饱和条件 $ \\mu \\le \\mu_{\\text{sat}} $ 以捕捉六脉冲桥中有限的换相窗口，其中 $ \\mu_{\\text{sat}} $ 是一个给定的界限。\n\n2. 设期望的基波幅值比为 $ m \\in [0,1] $。在余弦控制下，通过 $ \\cos(\\alpha_{\\text{des}}) = m $ 定义期望的触发角 $ \\alpha_{\\text{des}} $，即 $ \\alpha_{\\text{des}} = \\arccos(m) $。使用重叠模型，将理想对象输出幅值和无前馈时的实际对象输出幅值写成 $ \\alpha_{\\text{des}} $ 和 $ \\mu $ 的函数。\n\n3. 提出一种前馈补偿定律，该定律使用测量量 $ I_o $ 和 $ L_s $ 来构建重叠角估计值 $ \\mu_{\\text{ff}} $，并指令 $ \\alpha_{\\text{cmd}} = \\alpha_{\\text{des}} - \\mu_{\\text{ff}} $。允许 $ I_o $ 和 $ L_s $ 分别存在测量乘性偏差 $ \\eta_I $ 和 $ \\eta_L $，因此前馈使用 $ I_o^{\\text{meas}} = \\eta_I \\, I_o $ 和 $ L_s^{\\text{meas}} = \\eta_L \\, L_s $。\n\n4. 将基波幅值的归一化调节误差定义为无量纲量\n$$ e = \\frac{\\left| V_{o1} - V_{o1,\\text{ideal}} \\right|}{\\max\\left( \\left| V_{o1,\\text{ideal}} \\right|, \\varepsilon \\right)}, $$\n其中 $ V_{o1,\\text{ideal}} $ 是无重叠时的理想化基波幅值，$ \\varepsilon $ 是一个小的正常数，用于在 $ \\left| V_{o1,\\text{ideal}} \\right| $ 消失时避免除以零。证明在余弦控制假设下，$ e $ 可以纯粹用 $ \\alpha_{\\text{des}} $、$ \\mu $ 和 $ \\mu_{\\text{ff}} $ 表示，从而任何未知的比例常数都会抵消。\n\n5. 对每个测试用例，将前馈带来的性能改善量化为正差值\n$$ \\Delta e = \\left| e_{\\text{no-ff}} \\right| - \\left| e_{\\text{ff}} \\right|, $$\n其中 $ e_{\\text{no-ff}} $ 是无前馈时的归一化调节误差，$ e_{\\text{ff}} $ 是有前馈时的归一化调节误差。更大的 $ \\Delta e $ 表示更好的改善。\n\n使用以下参数集测试套件。对于每个用例，角度必须以弧度表示，电流以安培表示，电感以亨利表示，电压以伏特表示，频率以赫兹表示。通过 $ \\omega_s = 2 \\pi f_s $ 将电源频率转换为角频率。使用 $ V_{\\Delta} = \\sqrt{2} \\, V_{LL} $。使用 $ \\varepsilon = 10^{-12} $ 和给定的 $ \\mu_{\\text{sat}} $（以弧度为单位）。\n\n- 测试用例 1（理想情况，精确测量）：$ V_{LL} = 400 $，$ f_s = 50 $，$ L_s = 0.0006 $，$ I_o = 80 $，$ m = 0.85 $，$ \\mu_{\\text{sat}} = \\frac{\\pi}{6} $，$ \\eta_I = 1.0 $，$ \\eta_L = 1.0 $。\n- 测试用例 2（边界情况，零电流）：$ V_{LL} = 400 $，$ f_s = 50 $，$ L_s = 0.0010 $，$ I_o = 0 $，$ m = 0.90 $，$ \\mu_{\\text{sat}} = \\frac{\\pi}{6} $，$ \\eta_I = 1.0 $，$ \\eta_L = 1.0 $。\n- 测试用例 3（边缘情况，重叠饱和）：$ V_{LL} = 400 $，$ f_s = 50 $，$ L_s = 0.0020 $，$ I_o = 600 $，$ m = 0.70 $，$ \\mu_{\\text{sat}} = \\frac{\\pi}{6} $，$ \\eta_I = 1.0 $，$ \\eta_L = 1.0 $。\n- 测试用例 4（测量偏差，欠补偿）：$ V_{LL} = 480 $，$ f_s = 60 $，$ L_s = 0.0010 $，$ I_o = 120 $，$ m = 0.95 $，$ \\mu_{\\text{sat}} = \\frac{\\pi}{6} $，$ \\eta_I = 0.8 $，$ \\eta_L = 1.0 $。\n- 测试用例 5（近零幅值指令）：$ V_{LL} = 400 $，$ f_s = 50 $，$ L_s = 0.0015 $，$ I_o = 150 $，$ m = 0.05 $，$ \\mu_{\\text{sat}} = \\frac{\\pi}{6} $，$ \\eta_I = 1.0 $，$ \\eta_L = 1.0 $。\n\n您的程序应计算每个测试用例的 $ \\Delta e $，并生成一行输出，其中包含一个方括号括起来的逗号分隔的结果列表（例如，$ [\\text{result1},\\text{result2},\\text{result3},\\text{result4},\\text{result5}] $）。每个结果必须是表示相应测试用例 $ \\Delta e $ 的浮点数。\n\n角度必须以弧度为单位。使用指定的单位表示所有中间步骤和导出量的最终表达式。程序输出中的最终数字是如上定义的无量纲浮点数。",
            "solution": "已分析用户提供的问题，并确定其是**有效**的。该问题在科学上基于电力电子学原理，是自洽且适定的。解题过程将遵循指定的推导步骤进行。\n\n### 第1步：重叠角 $\\mu$ 的推导\n\n问题指出，换相，即负载电流在相间的转移，受到电源电感 $L_s$ 的影响。在持续时间为 $\\Delta t$ 的换相区间内，应用于换相回路的 Kirchhoff 电压定律 (KVL) 给出为 $L_s \\frac{d i(t)}{d t} = v_{ab}(t)$，其中 $v_{ab}(t)$ 是驱动换相的线电压。\n\n问题提出了两个关键的建模假设：\n1. 在短的换相区间内，线电压可以近似为一个常数，$v_{ab}(t) \\approx V_{\\Delta}$。\n2. 幅值 $V_{\\Delta}$ 是线电压峰值，$V_{\\Delta} = \\sqrt{2} V_{LL}$，其中 $V_{LL}$ 是电源线电压的均方根 (RMS) 值。\n\n在这些假设下，KVL方程变为 $L_s \\frac{d i}{d t} = V_{\\Delta}$。我们可以在重叠区间 $\\Delta t$ 上对此方程进行积分。在此区间内，接入相的电流从 $0$ 斜坡上升到满负载电流 $I_o$，而切出相的电流从 $I_o$ 斜坡下降到 $0$。通过换相电感的总电流变化为 $I_o$。\n$$ \\int_{0}^{I_o} L_s \\, di = \\int_{0}^{\\Delta t} V_{\\Delta} \\, dt $$\n$$ L_s [i]_{0}^{I_o} = V_{\\Delta} [t]_{0}^{\\Delta t} $$\n$$ L_s I_o = V_{\\Delta} \\Delta t $$\n解出重叠持续时间 $\\Delta t$ 可得：\n$$ \\Delta t = \\frac{L_s I_o}{V_{\\Delta}} $$\n重叠角 $\\mu$ 是此区间相对于电源角频率 $\\omega_s=2\\pi f_s$ 以弧度表示的持续时间。\n$$ \\mu = \\omega_s \\Delta t $$\n代入 $\\Delta t$ 和 $V_{\\Delta}$ 的表达式：\n$$ \\mu = \\omega_s \\frac{L_s I_o}{\\sqrt{2} V_{LL}} $$\n这个我们可称为 $\\mu_{\\text{calc}}$ 的推导量代表了理论重叠角。问题陈述了一个物理约束，即重叠角不能超过饱和限制 $\\mu_{\\text{sat}}$，该限制由变流器拓扑结构决定（例如，在六脉冲桥中，换相必须在下一次触发前完成，从而施加一个与 $\\pi/3$ 相关的限制）。因此，实际的等效重叠角为：\n$$ \\mu = \\min\\left( \\frac{\\omega_s L_s I_o}{\\sqrt{2} V_{LL}}, \\mu_{\\text{sat}} \\right) $$\n\n### 第2步：理想与实际的对象输出幅值\n\n交-交变频器通过调制触发角 $\\alpha$ 来合成其输出电压。问题指定了一种“余弦控制”关系，其中基波输出幅值 $V_{o1}$ 与 $\\cos(\\alpha)$ 成正比。设比例常数为 $K$。\n期望的幅值由调制指数 $m \\in [0, 1]$ 指定。为实现此目的，定义一个期望的触发角 $\\alpha_{\\text{des}}$，使得 $\\cos(\\alpha_{\\text{des}}) = m$，即 $\\alpha_{\\text{des}} = \\arccos(m)$。\n\n理想基波输出幅值 $V_{o1,\\text{ideal}}$ 对应于无换相重叠（$\\mu = 0$）的情况：\n$$ V_{o1,\\text{ideal}} = K \\cos(\\alpha_{\\text{des}}) $$\n实际上，换相重叠 $\\mu$ 会引入一个电压降，这被建模为触发角的等效增加。施加到对象的实际触发角是指令角 $\\alpha_{\\text{cmd}}$。对象的等效角变为 $\\alpha_{\\text{cmd}} + \\mu$。\n在没有任何前馈补偿的情况下，指令角就是期望角，即 $\\alpha_{\\text{cmd}} = \\alpha_{\\text{des}}$。因此，无前馈时的实际对象输出幅值 $V_{o1,\\text{no-ff}}$ 为：\n$$ V_{o1,\\text{no-ff}} = K \\cos(\\alpha_{\\text{des}} + \\mu) $$\n\n### 第3步：前馈补偿定律\n\n前馈补偿的目标是调整指令触发角 $\\alpha_{\\text{cmd}}$ 以抵消重叠角 $\\mu$ 的影响，从而使实际输出幅值与理想幅值相匹配。我们要求等效角等于期望角：\n$$ \\alpha_{\\text{cmd}} + \\mu = \\alpha_{\\text{des}} $$\n这意味着理想的指令应该是 $\\alpha_{\\text{cmd}} = \\alpha_{\\text{des}} - \\mu$。\n然而，$\\mu$ 的真实值取决于必须测量的系统参数 $L_s$ 和 $I_o$。这些测量可能存在偏差，用乘性因子 $\\eta_L$ 和 $\\eta_I$ 来建模。测量值为 $L_s^{\\text{meas}} = \\eta_L L_s$ 和 $I_o^{\\text{meas}} = \\eta_I I_o$。\n前馈补偿器使用这些测量量构建重叠角的估计值 $\\mu_{\\text{ff}}$：\n$$ \\mu_{\\text{ff,calc}} = \\frac{\\omega_s L_s^{\\text{meas}} I_o^{\\text{meas}}}{\\sqrt{2} V_{LL}} = \\frac{\\omega_s (\\eta_L L_s) (\\eta_I I_o)}{\\sqrt{2} V_{LL}} = \\eta_I \\eta_L \\left( \\frac{\\omega_s L_s I_o}{\\sqrt{2} V_{LL}} \\right) $$\n该估计值也必须在 $\\mu_{\\text{sat}}$ 处饱和：\n$$ \\mu_{\\text{ff}} = \\min(\\mu_{\\text{ff,calc}}, \\mu_{\\text{sat}}) $$\n因此，前馈补偿定律为：\n$$ \\alpha_{\\text{cmd}} = \\alpha_{\\text{des}} - \\mu_{\\text{ff}} $$\n\n### 第4步：归一化调节误差\n\n基波幅值的归一化调节误差定义为：\n$$ e = \\frac{\\left| V_{o1} - V_{o1,\\text{ideal}} \\right|}{\\max\\left( \\left| V_{o1,\\text{ideal}} \\right|, \\varepsilon \\right)} $$\n此处，$V_{o1}$ 是实际输出幅值，$V_{o1,\\text{ideal}} = K \\cos(\\alpha_{\\text{des}})$ 是理想幅值，而 $\\varepsilon$ 是一个小的正常数。代入幅值的表达式后，比例常数 $K$ 会抵消（假设 $K > 0$）：\n$$ e = \\frac{\\left| K \\cos(\\alpha_{\\text{eff}}) - K \\cos(\\alpha_{\\text{des}}) \\right|}{\\max\\left( \\left| K \\cos(\\alpha_{\\text{des}}) \\right|, \\varepsilon \\right)} = \\frac{\\left| \\cos(\\alpha_{\\text{eff}}) - \\cos(\\alpha_{\\text{des}}) \\right|}{\\max\\left( \\left| \\cos(\\alpha_{\\text{des}}) \\right|, \\varepsilon/K \\right)} $$\n为了纯粹用角度和给定的 $\\varepsilon$ 来表示误差，我们有效地设 $K=1$，得到：\n$$ e = \\frac{\\left| \\cos(\\alpha_{\\text{eff}}) - \\cos(\\alpha_{\\text{des}}) \\right|}{\\max\\left( \\left| \\cos(\\alpha_{\\text{des}}) \\right|, \\varepsilon \\right)} $$\n对于无前馈的情况，$\\alpha_{\\text{eff}} = \\alpha_{\\text{des}} + \\mu$。误差 $e_{\\text{no-ff}}$ 为：\n$$ e_{\\text{no-ff}} = \\frac{\\left| \\cos(\\alpha_{\\text{des}} + \\mu) - \\cos(\\alpha_{\\text{des}}) \\right|}{\\max\\left( m, \\varepsilon \\right)} $$\n其中我们使用了 $\\cos(\\alpha_{\\text{des}}) = m$ 并注意到 $m \\in [0,1]$ 所以 $|\\cos(\\alpha_{\\text{des}})|=m$。\n对于有前馈的情况，$\\alpha_{\\text{eff}} = \\alpha_{\\text{cmd}} + \\mu = (\\alpha_{\\text{des}} - \\mu_{\\text{ff}}) + \\mu$。误差 $e_{\\text{ff}}$ 为：\n$$ e_{\\text{ff}} = \\frac{\\left| \\cos(\\alpha_{\\text{des}} + \\mu - \\mu_{\\text{ff}}) - \\cos(\\alpha_{\\text{des}}) \\right|}{\\max\\left( m, \\varepsilon \\right)} $$\n\n### 第5步：性能改善\n\n性能改善 $\\Delta e$ 是由于应用前馈控制而导致的调节误差的减少量。它被定义为：\n$$ \\Delta e = \\left| e_{\\text{no-ff}} \\right| - \\left| e_{\\text{ff}} \\right| $$\n由于误差定义在分子中包含绝对值，$e_{\\text{no-ff}}$ 和 $e_{\\text{ff}}$ 是非负的。\n因此，改善量为：\n$$ \\Delta e = e_{\\text{no-ff}} - e_{\\text{ff}} = \\frac{\\left| \\cos(\\alpha_{\\text{des}} + \\mu) - \\cos(\\alpha_{\\text{des}}) \\right| - \\left| \\cos(\\alpha_{\\text{des}} + \\mu - \\mu_{\\text{f}}) - \\cos(\\alpha_{\\text{des}}) \\right|}{\\max\\left( m, \\varepsilon \\right)} $$\n\n该表达式将被实现，以评估给定测试用例的性能。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Derives and implements a feedforward compensation method for a three-phase\n    cycloconverter, and quantifies the improvement in regulation.\n    \"\"\"\n    \n    # Define the test cases from the problem statement.\n    test_cases = [\n        # (V_LL, f_s, L_s, I_o, m, mu_sat_rad, eta_I, eta_L)\n        (400.0, 50.0, 0.0006, 80.0, 0.85, np.pi/6, 1.0, 1.0),  # Case 1\n        (400.0, 50.0, 0.0010, 0.0, 0.90, np.pi/6, 1.0, 1.0),   # Case 2\n        (400.0, 50.0, 0.0020, 600.0, 0.70, np.pi/6, 1.0, 1.0),  # Case 3\n        (480.0, 60.0, 0.0010, 120.0, 0.95, np.pi/6, 0.8, 1.0),  # Case 4\n        (400.0, 50.0, 0.0015, 150.0, 0.05, np.pi/6, 1.0, 1.0),  # Case 5\n    ]\n\n    results = []\n    epsilon = 1e-12\n\n    for case in test_cases:\n        V_LL, f_s, L_s, I_o, m, mu_sat, eta_I, eta_L = case\n\n        # Step 1: Calculate the actual overlap angle 'mu'\n        omega_s = 2 * np.pi * f_s\n        V_delta = np.sqrt(2) * V_LL\n        \n        # Guard against division by zero if V_LL is zero\n        if V_delta == 0:\n            mu_calc = float('inf') if I_o > 0 else 0.0\n        else:\n            mu_calc = (omega_s * L_s * I_o) / V_delta\n        \n        mu = np.minimum(mu_calc, mu_sat)\n\n        # Step 2: Define the desired firing angle\n        # The arccos function is well-defined for m in [0, 1]\n        alpha_des = np.arccos(m)\n\n        # Step 3: Calculate the feedforward compensation angle 'mu_ff'\n        # The feedforward logic uses measured values\n        I_o_meas = eta_I * I_o\n        L_s_meas = eta_L * L_s\n        \n        if V_delta == 0:\n            mu_ff_calc = float('inf') if I_o > 0 else 0.0\n        else:\n            mu_ff_calc = (omega_s * L_s_meas * I_o_meas) / V_delta\n        \n        mu_ff = np.minimum(mu_ff_calc, mu_sat)\n\n        # Step 4: Calculate normalized regulation errors\n        # Denominator for the error expression\n        denominator = np.maximum(np.abs(np.cos(alpha_des)), epsilon)\n        \n        # Error without feedforward\n        alpha_eff_no_ff = alpha_des + mu\n        V_o1_no_ff = np.cos(alpha_eff_no_ff)\n        V_o1_ideal = np.cos(alpha_des)\n        e_no_ff = np.abs(V_o1_no_ff - V_o1_ideal) / denominator\n\n        # Error with feedforward\n        alpha_eff_ff = alpha_des + mu - mu_ff\n        V_o1_ff = np.cos(alpha_eff_ff)\n        e_ff = np.abs(V_o1_ff - V_o1_ideal) / denominator\n        \n        # Step 5: Quantify the performance improvement\n        delta_e = e_no_ff - e_ff\n        results.append(delta_e)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(f'{r:.6f}' for r in results)}]\")\n\nsolve()\n```"
        }
    ]
}