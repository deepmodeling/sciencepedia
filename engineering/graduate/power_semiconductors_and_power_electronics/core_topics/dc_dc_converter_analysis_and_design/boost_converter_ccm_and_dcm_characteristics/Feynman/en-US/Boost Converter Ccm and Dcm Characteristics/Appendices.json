{
    "hands_on_practices": [
        {
            "introduction": "Understanding the distinction between Continuous and Discontinuous Conduction Modes (CCM and DCM) is fundamental to analyzing and designing boost converters. This exercise guides you through deriving the voltage gain for both modes, $M_{\\mathrm{CCM}}$ and $M_{\\mathrm{DCM}}$, from first principles, establishing the precise boundary where the mode transition occurs. By quantifying the error of using the simpler CCM model in the DCM region, you will gain a deeper appreciation for the nonlinear, load-dependent nature of DCM operation.",
            "id": "3823390",
            "problem": "An ideal boost direct current to direct current converter is operated with input voltage $V_{g}$, duty ratio $D \\in (0,1)$, switching period $T_{s}$, inductance $L$, and a resistive load $R$. The normalized load parameter is defined as $K \\triangleq \\frac{2L}{R T_{s}}$. The converter may operate either in Continuous Conduction Mode (CCM) or Discontinuous Conduction Mode (DCM), depending on the load and duty ratio. Starting from fundamental laws of circuit operation (inductor voltage law, capacitor charge balance, and average current relationships over a switching period), derive the conversion gain in DCM as a function of $K$ and $D$, and the conversion gain in CCM as a function of $D$. Then, define the relative error incurred when using the CCM gain formula while the actual operation is in DCM as\n$e(K,D) \\triangleq \\frac{M_{\\mathrm{DCM}}(K,D) - M_{\\mathrm{CCM}}(D)}{M_{\\mathrm{DCM}}(K,D)},$\nwhere $M_{\\mathrm{DCM}}$ and $M_{\\mathrm{CCM}}$ denote the boost conversion ratios in DCM and CCM, respectively. Using only the above base laws and definitions, obtain a closed-form expression for $e(K,D)$ and deduce the exact conduction boundary $K_{b}(D)$ at which the DCM solution ceases to be valid and the CCM solution applies.\n\nFinally, for a specified error tolerance $\\epsilon \\in (0,1)$ expressed as a decimal fraction (for example, $\\epsilon = 0.02$), determine and present a single closed-form analytic expression for the minimum value of $K$ as a function of $D$ and $\\epsilon$ such that $e(K,D) < \\epsilon$ while remaining within the DCM region. Your final answer must be the expression for this minimum $K$ only; do not present an inequality. No numerical evaluation is required.",
            "solution": "The problem statement is critically validated and found to be valid. It is scientifically grounded in the principles of power electronics, mathematically well-posed, objective, and internally consistent. All necessary information is provided to derive the requested expressions. The problem is a standard, albeit comprehensive, exercise in the analysis of DC-DC converters. We may therefore proceed with the solution.\n\nThe solution is derived in four parts: first, the derivation of the conversion gain in Continuous Conduction Mode (CCM); second, the derivation of the conversion gain in Discontinuous Conduction Mode (DCM); third, the derivation of the conduction boundary and the relative error expression; and finally, the derivation of the minimum normalized load parameter $K$ for a given error tolerance $\\epsilon$.\n\n**1. Conversion Gain in CCM ($M_{\\mathrm{CCM}}$)**\n\nFor an ideal boost converter operating in CCM, we consider the inductor voltage over one switching period $T_s$. The switch is ON for a time $D T_s$ and OFF for a time $(1-D)T_s$, where $D$ is the duty ratio.\n\n- When the switch is ON (interval $1$, duration $D T_s$), the inductor is connected across the input voltage source $V_g$. The inductor voltage is $v_L(t) = V_g$.\n- When the switch is OFF (interval $2$, duration $(1-D)T_s$), the inductor current flows through the diode to the output. The inductor voltage is $v_L(t) = V_g - V_o$, where $V_o$ is the output voltage.\n\nAccording to the principle of inductor volt-second balance, the average inductor voltage over a full switching period must be zero in steady-state:\n$$ \\langle v_L \\rangle_{T_s} = \\frac{1}{T_s} \\int_0^{T_s} v_L(t) dt = 0 $$\n$$ \\frac{1}{T_s} \\left[ (V_g)(D T_s) + (V_g - V_o)((1-D)T_s) \\right] = 0 $$\n$$ V_g D + (V_g - V_o)(1-D) = 0 $$\n$$ V_g D + V_g - V_g D - V_o(1-D) = 0 $$\n$$ V_g = V_o(1-D) $$\nThe CCM voltage conversion gain $M_{\\mathrm{CCM}}(D) = \\frac{V_o}{V_g}$ is therefore:\n$$ M_{\\mathrm{CCM}}(D) = \\frac{1}{1-D} $$\n\n**2. Conversion Gain in DCM ($M_{\\mathrm{DCM}}$)**\n\nIn DCM, the inductor current starts at zero, rises, falls, and returns to zero before the next switching cycle begins. This creates a third interval within the switching period.\n- Interval 1 (duration $D T_s$): Switch ON. $v_L = V_g$. The inductor current rises from $0$ to a peak value $i_{L,pk}$.\n$$ i_{L,pk} = \\frac{V_g}{L} (D T_s) $$\n- Interval 2 (duration $D_2 T_s$): Switch OFF, diode ON. $v_L = V_g - V_o$. The inductor current falls from $i_{L,pk}$ to $0$.\n$$ -i_{L,pk} = \\frac{V_g - V_o}{L} (D_2 T_s) $$\n- Interval 3 (duration $D_3 T_s$): Switch OFF, diode OFF. $i_L = 0$. Here, $D+D_2+D_3 = 1$.\n\nFrom the two expressions for $i_{L,pk}$, we can equate the change in current:\n$$ \\frac{V_g}{L} D T_s = - \\frac{V_g - V_o}{L} D_2 T_s $$\n$$ V_g D = (V_o - V_g) D_2 $$\nLet the DCM gain be $M = V_o/V_g$. Then $D_2 = \\frac{V_g D}{V_o - V_g} = \\frac{D}{M-1}$.\n\nNext, we apply the principle of capacitor charge balance, which states that the average current into the output capacitor over one period must be zero. This implies that the average current supplied by the diode must equal the average load current $I_o = V_o/R$. The diode conducts during the $D_2T_s$ interval, and its current $i_D(t)$ is the same as the inductor current $i_L(t)$ during this time. The waveform of $i_D(t)$ is a triangle of height $i_{L,pk}$ and base $D_2 T_s$.\n$$ I_o = \\langle i_D \\rangle_{T_s} = \\frac{1}{T_s} \\left( \\frac{1}{2} i_{L,pk} (D_2 T_s) \\right) = \\frac{1}{2} i_{L,pk} D_2 $$\nSubstituting $I_o = V_o/R = M V_g/R$ and $i_{L,pk} = \\frac{V_g D T_s}{L}$:\n$$ \\frac{M V_g}{R} = \\frac{1}{2} \\left( \\frac{V_g D T_s}{L} \\right) D_2 $$\n$$ \\frac{M}{R} = \\frac{D D_2 T_s}{2L} $$\nNow substitute $D_2 = D/(M-1)$:\n$$ \\frac{M}{R} = \\frac{D}{2L} \\left( \\frac{D}{M-1} \\right) T_s $$\n$$ M(M-1) = \\frac{D^2 R T_s}{2L} $$\nUsing the definition of the normalized load parameter $K = \\frac{2L}{R T_s}$, we have $\\frac{R T_s}{2L} = \\frac{1}{K}$.\n$$ M^2 - M = \\frac{D^2}{K} $$\n$$ M^2 - M - \\frac{D^2}{K} = 0 $$\nThis is a quadratic equation for $M$. Using the quadratic formula:\n$$ M = \\frac{-(-1) \\pm \\sqrt{(-1)^2 - 4(1)(-\\frac{D^2}{K})}}{2(1)} = \\frac{1 \\pm \\sqrt{1 + \\frac{4D^2}{K}}}{2} $$\nFor a boost converter, the gain must be greater than $1$. Thus, we must select the positive root.\n$$ M_{\\mathrm{DCM}}(K,D) = \\frac{1 + \\sqrt{1 + \\frac{4D^2}{K}}}{2} $$\n\n**3. Conduction Boundary and Relative Error**\n\nThe boundary between CCM and DCM occurs when the inductor current falls to zero precisely at the end of the switching period, i.e., $D_3 = 0$ or $D+D_2=1$. At this boundary, both CCM and DCM gain equations are valid and must yield the same result. The DCM characteristic equation $M(M-1) = D^2/K$ must hold, with $M$ being the CCM gain $M = \\frac{1}{1-D}$. Let $K_b(D)$ be the value of $K$ at the boundary.\n$$ M-1 = \\frac{1}{1-D}-1 = \\frac{1-(1-D)}{1-D} = \\frac{D}{1-D} $$\nSubstituting $M$ and $M-1$ into the characteristic equation:\n$$ \\left(\\frac{1}{1-D}\\right) \\left(\\frac{D}{1-D}\\right) = \\frac{D^2}{K_b(D)} $$\n$$ \\frac{D}{(1-D)^2} = \\frac{D^2}{K_b(D)} $$\nFor $D \\in (0,1)$, we can divide by $D$ to find the boundary condition on $K$:\n$$ K_b(D) = D(1-D)^2 $$\nOperation is in DCM for $K < K_b(D)$ and in CCM for $K \\ge K_b(D)$.\n\nThe relative error is defined as $e(K,D) = \\frac{M_{\\mathrm{DCM}}(K,D) - M_{\\mathrm{CCM}}(D)}{M_{\\mathrm{DCM}}(K,D)} = 1 - \\frac{M_{\\mathrm{CCM}}(D)}{M_{\\mathrm{DCM}}(K,D)}$.\nSubstituting the derived expressions:\n$$ e(K,D) = 1 - \\frac{\\frac{1}{1-D}}{\\frac{1 + \\sqrt{1 + \\frac{4D^2}{K}}}{2}} = 1 - \\frac{2}{(1-D)\\left(1 + \\sqrt{1 + \\frac{4D^2}{K}}\\right)} $$\n\n**4. Minimum K for a Given Error Tolerance**\n\nWe are asked for the minimum value of $K$ such that $e(K,D) < \\epsilon$ while operating in DCM. This corresponds to solving for $K$ at the boundary of the inequality, $e(K,D) = \\epsilon$.\n$$ \\epsilon = 1 - \\frac{M_{\\mathrm{CCM}}}{M_{\\mathrm{DCM}}} \\implies \\frac{M_{\\mathrm{CCM}}}{M_{\\mathrm{DCM}}} = 1-\\epsilon \\implies M_{\\mathrm{DCM}} = \\frac{M_{\\mathrm{CCM}}}{1-\\epsilon} $$\nSubstitute the gain expressions:\n$$ \\frac{1+\\sqrt{1+\\frac{4D^2}{K}}}{2} = \\frac{1}{(1-D)(1-\\epsilon)} $$\nNow, we solve for $K$:\n$$ \\sqrt{1+\\frac{4D^2}{K}} = \\frac{2}{(1-D)(1-\\epsilon)} - 1 $$\nSquaring both sides gives:\n$$ 1 + \\frac{4D^2}{K} = \\left(\\frac{2}{(1-D)(1-\\epsilon)} - 1\\right)^2 $$\n$$ \\frac{4D^2}{K} = \\left(\\frac{2}{(1-D)(1-\\epsilon)} - 1\\right)^2 - 1 $$\nWe use the identity $a^2-1 = (a-1)(a+1)$:\n$$ \\frac{4D^2}{K} = \\left(\\frac{2}{(1-D)(1-\\epsilon)} - 2\\right) \\left(\\frac{2}{(1-D)(1-\\epsilon)}\\right) $$\n$$ \\frac{4D^2}{K} = 4 \\left(\\frac{1}{(1-D)(1-\\epsilon)} - 1\\right) \\left(\\frac{1}{(1-D)(1-\\epsilon)}\\right) $$\n$$ \\frac{D^2}{K} = \\left(\\frac{1 - (1-D)(1-\\epsilon)}{(1-D)(1-\\epsilon)}\\right) \\left(\\frac{1}{(1-D)(1-\\epsilon)}\\right) $$\n$$ \\frac{D^2}{K} = \\frac{1 - (1 - D - \\epsilon + D\\epsilon)}{(1-D)^2(1-\\epsilon)^2} $$\n$$ \\frac{D^2}{K} = \\frac{D + \\epsilon - D\\epsilon}{(1-D)^2(1-\\epsilon)^2} = \\frac{D + \\epsilon(1-D)}{(1-D)^2(1-\\epsilon)^2} $$\nFinally, isolating $K$:\n$$ K = \\frac{D^2 (1-D)^2 (1-\\epsilon)^2}{D + \\epsilon(1-D)} $$\nThis expression gives the value of $K$ for which the error is exactly $\\epsilon$. Since the error $e(K,D)$ increases as $K$ decreases, to satisfy $e(K,D) < \\epsilon$, we must have $K$ greater than this value. The problem asks for the minimum value of $K$ such that the condition is met, which is this boundary value itself. We have previously established in the thought process that this value of $K$ is always less than $K_b(D)=D(1-D)^2$ for any $\\epsilon, D \\in (0,1)$, ensuring operation is indeed in DCM.",
            "answer": "$$\n\\boxed{\\frac{D^2(1-D)^2(1-\\epsilon)^2}{D + \\epsilon(1-D)}}\n$$"
        },
        {
            "introduction": "The operating mode of a boost converter not only affects its steady-state gain but also fundamentally alters its dynamic behavior. This problem simulates a common real-world scenario where a sudden load change forces the converter from CCM into DCM, requiring you to calculate the new equilibrium and the settling time constant. This analysis is vital for designing robust feedback controllers, as it reveals how the system's poles shift with the operating mode, impacting stability and transient response.",
            "id": "3823391",
            "problem": "An ideal direct current (DC) boost converter with a single-pole switching leg is operated at a fixed duty cycle under open-loop control. The inductor current initially never reaches zero within a switching period, so the converter is in Continuous Conduction Mode (CCM). A sudden decrease in load power demand at time $t=0$ increases the load resistance and causes entry into Discontinuous Conduction Mode (DCM), with the duty cycle remaining fixed throughout the transient. The objective is to compute the new steady-state output voltage and the dominant output capacitor settling time constant in DCM from first principles.\n\nThe converter parameters are as follows: input voltage $V_g$, inductance $L$, output capacitance $C$, and switching frequency $f_s$ with period $T_s = 1/f_s$. The duty cycle is fixed at $D$. The load resistance steps from $R_1$ to $R_2$ at $t=0$, with $R_2 > R_1$ large enough to place the converter in DCM under the given $D$. Assume ideal semiconductor devices and no parasitic losses.\n\nStarting from state trajectory segments and charge balance on the inductor over one switching cycle, and applying output capacitor current balance, do the following:\n\n1. Derive the DCM steady-state conversion gain $M(D,K)$, where $M = V_o/V_g$ and $K = \\frac{2 L}{R T_s}$. Use this to compute the new steady-state output voltage $V_o$ after the load step to $R_2$.\n\n2. Using the averaged output capacitor dynamic equation and a first-order small-signal linearization about the new DCM steady state, derive the DCM plant’s single pole and express the corresponding settling time constant $\\tau$ in terms of $R$, $C$, and the DCM gain $M$. Evaluate $\\tau$ for the new DCM operating point.\n\nNumerical values:\n- $V_g = 100\\ \\mathrm{V}$,\n- $L = 200\\ \\mu\\mathrm{H}$,\n- $C = 200\\ \\mu\\mathrm{F}$,\n- $f_s = 100\\ \\mathrm{kHz}$ (so $T_s = 10\\ \\mu\\mathrm{s}$),\n- $D = 0.40$,\n- $R_1 = 50\\ \\Omega$ (initially CCM),\n- $R_2 = 500\\ \\Omega$ (post-step, DCM under the given $D$).\n\nTasks:\n- Compute the new steady-state $V_o$ using the derived $M(D,K)$ with $R = R_2$.\n- Derive and evaluate the DCM plant pole time constant $\\tau$ for the output voltage settling, and express $\\tau$ in milliseconds.\n\nRound both numerical results to four significant figures. Express $V_o$ in volts and $\\tau$ in milliseconds. Report your final answer as a row vector $\\big[ V_o,\\ \\tau_{\\mathrm{ms}} \\big]$.",
            "solution": "The problem statement is validated as scientifically grounded, well-posed, and objective. It describes a standard scenario in power electronics and provides all necessary parameters for a unique solution.\n\nThe solution is developed in two parts as requested: first, the derivation of the new steady-state output voltage in Discontinuous Conduction Mode (DCM), and second, the derivation of the output voltage settling time constant.\n\n**Part 1: DCM Steady-State Output Voltage**\n\nA boost converter operates in DCM when the inductor current falls to zero before the end of the switching period. In steady-state DCM, one switching period $T_s$ consists of three distinct intervals defined by the state of the switch (transistor) and the diode. Let the duty cycle be $D$.\n\n1.  Interval 1 ($0 \\le t \\le DT_s$): The switch is ON, and the diode is OFF. The voltage across the inductor $L$ is the input voltage $V_g$. The inductor current $i_L(t)$ ramps up linearly from zero.\n    $$v_L(t) = V_g$$\n    The peak inductor current at the end of this interval is:\n    $$I_{L,pk} = \\frac{V_g}{L} (DT_s)$$\n\n2.  Interval 2 ($DT_s \\le t \\le (D+D_2)T_s$): The switch is OFF, and the diode is ON, transferring energy to the output. The voltage across the inductor is $V_g - V_o$. The inductor current ramps down.\n    $$v_L(t) = V_g - V_o$$\n    This interval ends when the inductor current reaches zero.\n\n3.  Interval 3 ($(D+D_2)T_s \\le t \\le T_s$): The switch is OFF, and the diode is OFF. The inductor current is zero. The inductor voltage is zero.\n    $$v_L(t) = 0$$\n\nIn steady state, the principle of inductor volt-second balance dictates that the average voltage across the inductor over one switching period must be zero.\n$$\\langle v_L \\rangle_{T_s} = \\frac{1}{T_s} \\int_0^{T_s} v_L(t) dt = 0$$\n$$V_g(DT_s) + (V_g - V_o)(D_2 T_s) + 0 \\cdot (T_s - (D+D_2)T_s) = 0$$\n$$D V_g + D_2 (V_g - V_o) = 0$$\nThis gives a relationship for $D_2$:\n$$D_2 = D \\frac{V_g}{V_o - V_g}$$\n\nNext, we apply the principle of capacitor charge balance. In steady state, the average current flowing into the output capacitor must be zero, meaning the average current supplied by the converter to the output stage equals the average load current $I_o = V_o/R$. The current is supplied to the output only during the second interval, $D_2 T_s$. The average current supplied over a full period $T_s$ is the area of the triangular current pulse during $D_2 T_s$ divided by $T_s$.\n$$I_o = \\frac{V_o}{R} = \\langle i_{diode} \\rangle_{T_s} = \\frac{1}{T_s} \\left( \\frac{1}{2} I_{L,pk} (D_2 T_s) \\right) = \\frac{1}{2} I_{L,pk} D_2$$\nSubstituting $I_{L,pk} = \\frac{V_g D T_s}{L}$:\n$$\\frac{V_o}{R} = \\frac{1}{2} \\left( \\frac{V_g D T_s}{L} \\right) D_2$$\n\nNow we solve for the voltage gain $M = V_o/V_g$ by eliminating $D_2$. Substitute the expression for $D_2$ from volt-second balance into the charge balance equation:\n$$\\frac{V_o}{R} = \\frac{D T_s V_g}{2L} \\left( D \\frac{V_g}{V_o - V_g} \\right)$$\n$$\\frac{V_o(V_o - V_g)}{R} = \\frac{D^2 T_s V_g^2}{2L}$$\nDividing the entire equation by $V_g^2$:\n$$\\frac{V_o}{V_g} \\left( \\frac{V_o}{V_g} - 1 \\right) = \\frac{R D^2 T_s}{2L}$$\nUsing the definitions $M = V_o/V_g$ and $K = \\frac{2L}{RT_s}$, we get:\n$$M(M-1) = \\frac{D^2}{K}$$\n$$M^2 - M - \\frac{D^2}{K} = 0$$\nThis is a quadratic equation for $M$. Solving using the quadratic formula:\n$$M = \\frac{1 \\pm \\sqrt{1 - 4(1)(-\\frac{D^2}{K})}}{2} = \\frac{1 \\pm \\sqrt{1 + \\frac{4D^2}{K}}}{2}$$\nSince a boost converter has $V_o \\ge V_g$, we must have $M \\ge 1$. We choose the positive root:\n$$M(D,K) = \\frac{1 + \\sqrt{1 + \\frac{4D^2}{K}}}{2}$$\n\nNow we compute the new steady-state output voltage $V_o$ for $R = R_2 = 500\\ \\Omega$.\nFirst, calculate the parameter $K$ for the new load:\n$$K = \\frac{2 L}{R_2 T_s} = \\frac{2 \\times (200 \\times 10^{-6}\\ \\mathrm{H})}{(500\\ \\Omega) \\times (10 \\times 10^{-6}\\ \\mathrm{s})} = \\frac{400 \\times 10^{-6}}{5000 \\times 10^{-6}} = 0.08$$\nNow, compute the gain $M$ with $D=0.40$ and $K=0.08$:\n$$M = \\frac{1 + \\sqrt{1 + \\frac{4(0.40)^2}{0.08}}}{2} = \\frac{1 + \\sqrt{1 + \\frac{4(0.16)}{0.08}}}{2} = \\frac{1 + \\sqrt{1 + \\frac{0.64}{0.08}}}{2} = \\frac{1 + \\sqrt{1+8}}{2} = \\frac{1+\\sqrt{9}}{2} = \\frac{1+3}{2} = 2$$\nThe new steady-state output voltage is:\n$$V_o = M \\times V_g = 2 \\times 100\\ \\mathrm{V} = 200\\ \\mathrm{V}$$\nRounding to four significant figures, $V_o = 200.0\\ \\mathrm{V}$.\n\n**Part 2: DCM Settling Time Constant**\n\nWe use state-space averaging to find the dynamics of the output voltage. The averaged equation for the current in the output capacitor $C$ is:\n$$C \\frac{dv_o}{dt} = \\langle i_{diode} \\rangle_{T_s} - i_o$$\nwhere $v_o$ is the instantaneous averaged output voltage, $\\langle i_{diode} \\rangle_{T_s}$ is the averaged diode current, and $i_o = v_o/R$ is the load current. From Part 1, we have:\n$$\\langle i_{diode} \\rangle_{T_s} = \\frac{d^2 T_s v_g^2}{2L(v_o - v_g)}$$\nThe dynamic equation is:\n$$C \\frac{dv_o}{dt} = \\frac{d^2 T_s v_g^2}{2L(v_o - v_g)} - \\frac{v_o}{R}$$\nWe linearize this equation around the steady-state operating point ($V_g, V_o, D, R=R_2$) by considering small perturbations. Since the input voltage $V_g$ and duty cycle $D$ are fixed, we only have a perturbation in the output voltage: $v_o(t) = V_o + \\hat{v}_o(t)$.\n$$C \\frac{d(V_o + \\hat{v}_o)}{dt} = \\frac{D^2 T_s V_g^2}{2L((V_o+\\hat{v}_o) - V_g)} - \\frac{V_o+\\hat{v}_o}{R}$$\n$$C \\frac{d\\hat{v}_o}{dt} = \\frac{D^2 T_s V_g^2}{2L((V_o-V_g)+\\hat{v}_o)} - \\frac{V_o}{R} - \\frac{\\hat{v}_o}{R}$$\nWe perform a first-order Taylor expansion of the nonlinear term around $V_o$:\n$$\\frac{1}{(V_o-V_g)+\\hat{v}_o} \\approx \\frac{1}{V_o-V_g} - \\frac{\\hat{v}_o}{(V_o-V_g)^2}$$\nSubstituting this into the dynamic equation:\n$$C \\frac{d\\hat{v}_o}{dt} \\approx \\left[\\frac{D^2 T_s V_g^2}{2L(V_o-V_g)} - \\frac{V_o}{R}\\right] - \\frac{D^2 T_s V_g^2}{2L(V_o-V_g)^2} \\hat{v}_o - \\frac{\\hat{v}_o}{R}$$\nThe term in the square brackets is zero by the steady-state condition. The linearized small-signal equation becomes:\n$$C \\frac{d\\hat{v}_o}{dt} = -\\left( \\frac{D^2 T_s V_g^2}{2L(V_o-V_g)^2} + \\frac{1}{R} \\right) \\hat{v}_o$$\nFrom the steady-state analysis, we know $\\frac{V_o}{R} = \\frac{D^2 T_s V_g^2}{2L(V_o - V_g)}$. We can use this to simplify the first term in the parenthesis:\n$$\\frac{D^2 T_s V_g^2}{2L(V_o-V_g)^2} = \\left(\\frac{D^2 T_s V_g^2}{2L(V_o - V_g)}\\right) \\frac{1}{V_o-V_g} = \\frac{V_o/R}{V_o-V_g}$$\nSubstituting this back:\n$$C \\frac{d\\hat{v}_o}{dt} = -\\left( \\frac{V_o}{R(V_o-V_g)} + \\frac{1}{R} \\right) \\hat{v}_o$$\n$$C \\frac{d\\hat{v}_o}{dt} + \\frac{1}{R} \\left( \\frac{V_o}{V_o-V_g} + 1 \\right) \\hat{v}_o = 0$$\n$$C \\frac{d\\hat{v}_o}{dt} + \\frac{1}{R} \\left( \\frac{2V_o-V_g}{V_o-V_g} \\right) \\hat{v}_o = 0$$\nThis is a standard first-order differential equation of the form $\\frac{d\\hat{v}_o}{dt} + \\frac{1}{\\tau}\\hat{v}_o = 0$. The time constant $\\tau$ is:\n$$\\tau = \\frac{RC}{\\frac{2V_o-V_g}{V_o-V_g}} = RC \\frac{V_o-V_g}{2V_o-V_g}$$\nExpressing this in terms of the DC gain $M=V_o/V_g$:\n$$\\tau = RC \\frac{MV_g-V_g}{2MV_g-V_g} = RC \\frac{M-1}{2M-1}$$\nNow we evaluate $\\tau$ for the new operating point ($R=R_2=500\\ \\Omega$, $M=2$):\n$$RC = (500\\ \\Omega)(200 \\times 10^{-6}\\ \\mathrm{F}) = 0.1\\ \\mathrm{s}$$\n$$\\tau = (0.1\\ \\mathrm{s}) \\frac{2-1}{2(2)-1} = 0.1 \\frac{1}{3} = \\frac{0.1}{3}\\ \\mathrm{s} \\approx 0.033333...\\ \\mathrm{s}$$\nConverting to milliseconds: $\\tau = 33.333...\\ \\mathrm{ms}$.\nRounding to four significant figures, $\\tau = 33.33\\ \\mathrm{ms}$.\n\nFinal results to be reported are $V_o = 200.0\\ \\mathrm{V}$ and $\\tau = 33.33\\ \\mathrm{ms}$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n200.0 & 33.33\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "This hands-on design problem translates theoretical understanding of CCM and DCM into practical component selection. You are tasked with choosing an inductor $L$ and switching frequency $f_s$ to ensure the converter operates correctly over a specified load range, meeting constraints for both minimum current (ensuring CCM) and maximum ripple. This exercise simulates a realistic engineering challenge, forcing you to manage the trade-offs between component size, switching losses, and performance specifications to arrive at an optimal design.",
            "id": "3823395",
            "problem": "A direct current to direct current step-up (boost) converter is designed to operate from a constant input source of $V_g = 48\\ \\mathrm{V}$ and to regulate its output at $V_o = 200\\ \\mathrm{V}$ for a purely resistive load that varies over $R \\in [R_{\\min}, R_{\\max}]$ with $R_{\\min} = 50\\ \\Omega$ and $R_{\\max} = 400\\ \\Omega$. Assume an ideal converter (zero loss, zero ripple on $V_o$) in periodic steady state, an inductor current that is intended to remain in Continuous Conduction Mode (CCM) for all $R \\in [R_{\\min}, R_{\\max}]$, and a single-pole Pulse Width Modulation (PWM) control that enforces a fixed duty ratio determined by the ideal conversion requirement.\n\nTwo design constraints must be satisfied:\n\n- To ensure CCM at the lightest load (largest resistance), the boundary-conduction condition at $R_{\\max}$ must not be violated for the chosen inductance $L$ and switching frequency $f_s = 1/T_s$.\n- To limit magnetic stress at the heaviest load (smallest resistance), the inductor current ripple normalized by the average inductor current must not exceed the specified ripple fraction $\\rho = 0.25$ at $R_{\\min}$.\n\nAdditionally, to limit switching losses, the switching frequency must not exceed $f_{s,\\max} = 180\\ \\mathrm{kHz}$. Using only fundamental relations (volt–second balance on the inductor, inductor constitutive law $v = L\\,di/dt$, conservation of power for an ideal converter, and the ideal boost conversion ratio), derive from first principles the pair $(L, f_s)$ that minimizes $L$ subject to $f_s \\le f_{s,\\max}$ while simultaneously satisfying both the CCM-at-$R_{\\max}$ constraint and the ripple-at-$R_{\\min}$ constraint.\n\nProvide your final design values as follows: report $L$ in $\\mu\\mathrm{H}$ and $f_s$ in $\\mathrm{kHz}$, in that order. Round both to three significant figures. The final answer must be a single row vector containing these two numbers.",
            "solution": "The problem requires the determination of the inductor inductance $L$ and switching frequency $f_s$ for an ideal DC-DC boost converter. The design must minimize $L$ while satisfying three constraints: a maximum switching frequency $f_s \\le f_{s,\\max}$, continuous conduction mode (CCM) operation down to the lightest load, and a maximum normalized current ripple at the heaviest load. The derivation will proceed from first principles.\n\nFirst, we establish the fundamental operating equations for an ideal boost converter in periodic steady state.\nThe ideal voltage conversion ratio is given by:\n$$\n\\frac{V_o}{V_g} = \\frac{1}{1-D}\n$$\nwhere $V_g$ is the input voltage, $V_o$ is the output voltage, and $D$ is the duty ratio of the main switch. Given $V_g = 48\\ \\mathrm{V}$ and $V_o = 200\\ \\mathrm{V}$, the required duty ratio is constant:\n$$\nD = 1 - \\frac{V_g}{V_o} = 1 - \\frac{48}{200} = 1 - 0.24 = 0.76\n$$\n\nFor an ideal (lossless) converter, input power equals output power: $P_{in} = P_{out}$. This means $V_g I_g = V_o I_o$, where $I_g$ and $I_o$ are the average input and output currents, respectively. For a boost converter, the average inductor current $I_L$ is equal to the average input current $I_g$. The load is resistive, so $I_o = V_o/R$. Therefore, the average inductor current is a function of the load resistance $R$:\n$$\nI_L(R) = I_g = \\frac{V_o I_o}{V_g} = \\frac{V_o}{V_g} \\left(\\frac{V_o}{R}\\right) = \\frac{V_o^2}{V_g R}\n$$\n\nNext, we apply the principle of inductor volt-second balance. For an inductor $L$ in periodic steady state, the net change in magnetic flux over one switching period $T_s = 1/f_s$ is zero. This implies the time integral of the voltage across the inductor over one period is zero. When the switch is on for a duration $DT_s$, the inductor voltage is $v_L = V_g$. The inductor current increases linearly during this interval. The peak-to-peak ripple in the inductor current, $\\Delta i_L$, is the change in current during this time:\n$$\n\\Delta i_L = \\frac{V_g}{L} (DT_s) = \\frac{D V_g}{L f_s}\n$$\nNote that this ripple amplitude is independent of the load $R$.\n\nNow, we formalize the two design constraints on the inductor current.\n\nConstraint 1: CCM at lightest load.\nThe converter must remain in CCM over the entire load range $R \\in [R_{\\min}, R_{\\max}]$. The boundary between CCM and discontinuous conduction mode (DCM) occurs when the minimum inductor current touches zero. This happens when the average inductor current is half of the peak-to-peak ripple: $I_L = \\Delta i_L / 2$. To ensure CCM, we must have $I_L > \\Delta i_L / 2$, or equivalently $\\Delta i_L < 2 I_L$. This condition must be met for all $R$. Since $I_L(R)$ is inversely proportional to $R$, the most challenging condition (smallest $I_L$) occurs at the lightest load, i.e., at $R = R_{\\max}$. The constraint states that the boundary condition must not be violated, which sets the design limit at the boundary:\n$$\n\\Delta i_L \\le 2 I_L(R_{\\max})\n$$\nSubstituting the expressions for $\\Delta i_L$ and $I_L(R_{\\max})$:\n$$\n\\frac{D V_g}{L f_s} \\le 2 \\frac{V_o^2}{V_g R_{\\max}}\n$$\nTo satisfy this, the inductance $L$ must meet a minimum value, which depends on $f_s$:\n$$\nL \\ge \\frac{D V_g^2 R_{\\max}}{2 f_s V_o^2}\n$$\nLet's call this lower bound $L_{1, \\min}(f_s)$.\n\nConstraint 2: Ripple limit at heaviest load.\nThe inductor current ripple normalized by the average inductor current must not exceed $\\rho = 0.25$ at the heaviest load, $R = R_{\\min}$.\n$$\n\\frac{\\Delta i_L}{I_L(R_{\\min})} \\le \\rho\n$$\nSubstituting the expressions for $\\Delta i_L$ and $I_L(R_{\\min})$:\n$$\n\\frac{D V_g / (L f_s)}{V_o^2 / (V_g R_{\\min})} \\le \\rho\n$$\nRearranging for $L$:\n$$\n\\frac{D V_g^2 R_{\\min}}{L f_s V_o^2} \\le \\rho \\implies L \\ge \\frac{D V_g^2 R_{\\min}}{\\rho f_s V_o^2}\n$$\nLet's call this second lower bound $L_{2, \\min}(f_s)$.\n\nTo satisfy both constraints simultaneously, the inductance $L$ must be greater than or equal to the maximum of these two lower bounds:\n$$\nL \\ge \\max\\left(L_{1, \\min}(f_s), L_{2, \\min}(f_s)\\right) = \\max\\left(\\frac{D V_g^2 R_{\\max}}{2 f_s V_o^2}, \\frac{D V_g^2 R_{\\min}}{\\rho f_s V_o^2}\\right)\n$$\nThis can be simplified to:\n$$\nL \\ge \\frac{D V_g^2}{f_s V_o^2} \\max\\left(\\frac{R_{\\max}}{2}, \\frac{R_{\\min}}{\\rho}\\right)\n$$\nLet's evaluate the terms inside the $\\max$ function using the given values: $R_{\\min} = 50\\ \\Omega$, $R_{\\max} = 400\\ \\Omega$, and $\\rho = 0.25$.\n$$\n\\frac{R_{\\max}}{2} = \\frac{400}{2} = 200\\ \\Omega\n$$\n$$\n\\frac{R_{\\min}}{\\rho} = \\frac{50}{0.25} = 200\\ \\Omega\n$$\nThe two terms are equal. This indicates that the problem parameters were chosen such that satisfying one constraint precisely at its boundary implies the other constraint is also precisely satisfied at its boundary, for any given $f_s$. The two constraints are thus equivalent and collapse into a single condition:\n$$\nL \\ge \\frac{D V_g^2 (200)}{f_s V_o^2}\n$$\nThe objective is to find the pair $(L, f_s)$ that minimizes $L$. From the inequality above, $L$ is inversely proportional to $f_s$. To minimize $L$, we must therefore maximize $f_s$. The problem specifies an upper limit for the switching frequency, $f_{s,\\max} = 180\\ \\mathrm{kHz}$. Thus, the optimal switching frequency is $f_s = f_{s,\\max}$.\n\nThe optimal design is found by setting $f_s = f_{s,\\max} = 180\\ \\mathrm{kHz}$ and choosing the minimum possible value for $L$, which is the equality in the derived constraint.\n$$\nL_{\\min} = \\frac{D V_g^2 R_{\\max}}{2 f_{s,\\max} V_o^2}\n$$\nSubstituting the numerical values:\n- $D = 0.76$\n- $V_g = 48\\ \\mathrm{V}$\n- $V_o = 200\\ \\mathrm{V}$\n- $R_{\\max} = 400\\ \\Omega$\n- $f_{s,\\max} = 180 \\times 10^3\\ \\mathrm{Hz}$\n\n$$\nL_{\\min} = \\frac{0.76 \\times (48)^2 \\times 400}{2 \\times (180 \\times 10^3) \\times (200)^2} = \\frac{0.76 \\times 2304 \\times 400}{360 \\times 10^3 \\times 40000} = \\frac{699392}{1.44 \\times 10^{10}}\\ \\mathrm{H}\n$$\n$$\nL_{\\min} = 48.568... \\times 10^{-6}\\ \\mathrm{H} = 48.568...\\ \\mu\\mathrm{H}\n$$\nThe problem requires rounding to three significant figures.\n$L \\approx 48.6\\ \\mu\\mathrm{H}$.\nThe corresponding switching frequency is $f_s = 180\\ \\mathrm{kHz}$.\n\nThe final design values are $L = 48.6\\ \\mu\\mathrm{H}$ and $f_s = 180\\ \\mathrm{kHz}$.\nThe final answer should report $L$ in $\\mu\\mathrm{H}$ and $f_s$ in $\\mathrm{kHz}$.\n$L = 48.6$.\n$f_s = 180$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n48.6 & 180\n\\end{pmatrix}\n}\n$$"
        }
    ]
}