{
    "hands_on_practices": [
        {
            "introduction": "Understanding the boundary between Continuous Conduction Mode (CCM) and Discontinuous Conduction Mode (DCM) is the first step in analyzing a buck converter's performance. This exercise grounds your understanding in first principles, requiring you to derive the critical conditions under which the inductor current just reaches zero. By calculating the minimum load current and maximum load resistance for CCM, you will gain a tangible feel for how design choices and operating points dictate the converter's fundamental behavior. ",
            "id": "3824351",
            "problem": "An ideal step-down direct current to direct current converter (buck converter) employing a Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) and a diode operates with a fixed duty ratio $D$, inductance $L$, and switching frequency $f_s$. Assume the output capacitor is sufficiently large such that the output voltage $v_o(t)$ can be treated as constant over one switching period and the ripple in $v_o$ is negligible. Ideal components are assumed (no parasitic resistances, zero forward drop in the diode, and zero on-state voltage in the switch), and the inductor current $i_L(t)$ exhibits a triangular ripple due to piecewise constant inductor voltage over the on and off intervals.\n\nStarting from fundamental laws of inductor behavior, derive the minimum load current $I_{o,\\min}$ required to maintain Continuous Conduction Mode (CCM), defined as the operating condition in which the inductor current never reaches zero within a switching period. Then, provide the corresponding maximum allowable load resistance $R_{\\max}$ that still ensures CCM, using the steady-state output voltage relation that follows from ideal switching.\n\nUse the following numerical parameters: input voltage $V_{\\text{in}} = 48\\,\\text{V}$, duty ratio $D = 0.35$, inductance $L = 220\\,\\mu\\text{H}$, and switching frequency $f_s = 100\\,\\text{kHz}$. Round your final numerical values for $I_{o,\\min}$ and $R_{\\max}$ to four significant figures. Express $I_{o,\\min}$ in amperes and $R_{\\max}$ in ohms.",
            "solution": "The problem statement is evaluated for validity prior to attempting a solution.\n\n**Step 1: Extract Givens**\n- Converter type: Ideal step-down direct current to direct current converter (buck converter).\n- Components: Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET), diode.\n- Operating parameters: Fixed duty ratio $D$, inductance $L$, switching frequency $f_s$.\n- Assumptions:\n    - Output capacitor is sufficiently large; output voltage $v_o(t)$ is constant and equal to $V_o$.\n    - Components are ideal (no parasitic resistances, zero forward diode drop, zero switch on-state voltage).\n    - Inductor current $i_L(t)$ exhibits a triangular ripple.\n- Definition: Continuous Conduction Mode (CCM) is when the inductor current never reaches zero.\n- Task:\n    1. Derive the minimum load current $I_{o,\\min}$ to maintain CCM.\n    2. Derive the corresponding maximum allowable load resistance $R_{\\max}$ that still ensures CCM.\n- Numerical Parameters:\n    - Input voltage $V_{\\text{in}} = 48\\,\\text{V}$.\n    - Duty ratio $D = 0.35$.\n    - Inductance $L = 220\\,\\mu\\text{H}$.\n    - Switching frequency $f_s = 100\\,\\text{kHz}$.\n- Rounding: Final numerical values for $I_{o,\\min}$ and $R_{\\max}$ to be rounded to four significant figures.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded, well-posed, and objective. It describes a standard, idealized model of a buck converter, a fundamental topic in power electronics. The provided assumptions are standard for introductory analysis and lead to a well-defined problem. All necessary parameters are given, and there are no contradictions. The phenomena described adhere to the fundamental laws of electrical circuits, specifically the behavior of inductors. The numerical values are physically realistic for such a converter.\n\n**Step 3: Verdict and Action**\nThe problem is valid. A complete solution will be provided.\n\n**Derivation and Solution**\nThe analysis begins with the fundamental voltage-current relationship for an inductor: $v_L(t) = L \\frac{di_L(t)}{dt}$. The operation of a buck converter is characterized by two states within one switching period, $T_s = 1/f_s$.\n\n1.  **State 1: MOSFET is ON, Diode is OFF (Duration $DT_s$)**\n    During this interval, the input voltage is connected to the inductor. The voltage across the inductor is:\n    $$v_L = V_{\\text{in}} - V_o$$\n    Since $V_{\\text{in}}$ and $V_o$ are constant, the inductor current increases linearly.\n\n2.  **State 2: MOSFET is OFF, Diode is ON (Duration $(1-D)T_s$)**\n    During this interval, the inductor is connected to ground through the diode. The voltage across the inductor is:\n    $$v_L = 0 - V_o = -V_o$$\n    The inductor current decreases linearly.\n\nIn steady-state operation, the principle of inductor volt-second balance dictates that the average voltage across the inductor over one full switching period must be zero.\n$$ \\frac{1}{T_s} \\int_{0}^{T_s} v_L(t) dt = 0 $$\nApplying this principle to the two states:\n$$ (V_{\\text{in}} - V_o) \\cdot DT_s + (-V_o) \\cdot (1-D)T_s = 0 $$\nDividing by $T_s$:\n$$ D(V_{\\text{in}} - V_o) - (1-D)V_o = 0 $$\n$$ D V_{\\text{in}} - D V_o - V_o + D V_o = 0 $$\n$$ D V_{\\text{in}} - V_o = 0 $$\nThis yields the well-known voltage transfer ratio for an ideal buck converter:\n$$ V_o = D V_{\\text{in}} $$\n\nNext, we derive the peak-to-peak inductor current ripple, $\\Delta i_{L,pp}$. This ripple is the change in inductor current during either the ON or OFF interval. Using the ON interval:\n$$ \\Delta i_{L,pp} = \\frac{1}{L} \\int_{0}^{DT_s} v_L(t) dt = \\frac{1}{L} (V_{\\text{in}} - V_o) (DT_s) $$\nSubstitute $V_o = D V_{\\text{in}}$ into the ripple equation:\n$$ \\Delta i_{L,pp} = \\frac{V_{\\text{in}} - D V_{\\text{in}}}{L} DT_s = \\frac{V_{\\text{in}}(1-D)}{L} DT_s $$\nReplacing the switching period $T_s$ with $1/f_s$:\n$$ \\Delta i_{L,pp} = \\frac{D(1-D)V_{\\text{in}}}{L f_s} $$\nContinuous Conduction Mode (CCM) is defined by the condition that the inductor current $i_L(t)$ remains positive throughout the switching cycle. The minimum value of the inductor current is $i_{L,\\min}$. The boundary between CCM and Discontinuous Conduction Mode (DCM) occurs when $i_{L,\\min}$ just touches zero.\n\nThe inductor current waveform is triangular, centered on its average value, $I_L$. The minimum and maximum values are given by:\n$$ i_{L,\\min} = I_L - \\frac{\\Delta i_{L,pp}}{2} $$\n$$ i_{L,\\max} = I_L + \\frac{\\Delta i_{L,pp}}{2} $$\nThe boundary condition for CCM is $i_{L,\\min} = 0$. This defines the critical average inductor current, $I_{L,crit}$:\n$$ 0 = I_{L,crit} - \\frac{\\Delta i_{L,pp}}{2} \\implies I_{L,crit} = \\frac{\\Delta i_{L,pp}}{2} $$\nFor an ideal buck converter, the average current through the output capacitor is zero, so the average inductor current is equal to the average load current, $I_o$.\n$$ I_L = I_o $$\nTherefore, the minimum load current required to maintain CCM is:\n$$ I_{o,\\min} = I_{L,crit} = \\frac{\\Delta i_{L,pp}}{2} = \\frac{D(1-D)V_{\\text{in}}}{2Lf_s} $$\n\nThe maximum load resistance $R_{\\max}$ that ensures CCM corresponds to this minimum load current, $I_{o,\\min}$, and is given by Ohm's law:\n$$ R_{\\max} = \\frac{V_o}{I_{o,\\min}} $$\nSubstituting the expressions for $V_o$ and $I_{o,\\min}$:\n$$ R_{\\max} = \\frac{D V_{\\text{in}}}{\\frac{D(1-D)V_{\\text{in}}}{2Lf_s}} = \\frac{2Lf_s}{1-D} $$\n\nNow, we substitute the given numerical values:\n$V_{\\text{in}} = 48\\,\\text{V}$\n$D = 0.35$\n$L = 220\\,\\mu\\text{H} = 220 \\times 10^{-6}\\,\\text{H}$\n$f_s = 100\\,\\text{kHz} = 100 \\times 10^3\\,\\text{Hz}$\n\nFirst, we calculate $I_{o,\\min}$:\n$$ I_{o,\\min} = \\frac{0.35 \\times (1-0.35) \\times 48}{2 \\times (220 \\times 10^{-6}) \\times (100 \\times 10^3)} = \\frac{0.35 \\times 0.65 \\times 48}{2 \\times 0.022} $$\n$$ I_{o,\\min} = \\frac{10.92}{0.044} = 0.2481818... \\,\\text{A} $$\nRounding to four significant figures, $I_{o,\\min} \\approx 0.2482\\,\\text{A}$.\n\nNext, we calculate $R_{\\max}$:\n$$ R_{\\max} = \\frac{2 \\times (220 \\times 10^{-6}) \\times (100 \\times 10^3)}{1-0.35} = \\frac{2 \\times 0.022}{0.65} $$\n$$ R_{\\max} = \\frac{0.044}{0.65} = 67.692307... \\,\\Omega $$\nRounding to four significant figures, $R_{\\max} \\approx 67.69\\,\\Omega$.\n\nThe final results are $I_{o,\\min} = 0.2482\\,\\text{A}$ and $R_{\\max} = 67.69\\,\\Omega$.",
            "answer": "$$\\boxed{\\begin{pmatrix} 0.2482 & 67.69 \\end{pmatrix}}$$"
        },
        {
            "introduction": "Once a buck converter enters Discontinuous Conduction Mode (DCM), its voltage conversion characteristic changes fundamentally, becoming dependent on the load. This practice challenges you to derive the DCM conversion ratio from charge-balance principles and explore its behavior under very light load conditions. Analyzing the limit as the load vanishes reveals a counter-intuitive yet critical property of DCM operation, offering deep insight into voltage regulation challenges. ",
            "id": "3824353",
            "problem": "Consider an ideal step-down direct current-to-direct current converter (buck converter) operating in discontinuous conduction mode (DCM), in which the inductor current reaches zero during each switching period. Let the input voltage be $V_g$, the switching period be $T$, the switch duty cycle be $D$ with $0 < D < 1$, the inductance be $L$, the output capacitor be $C$ (assumed large enough that the output voltage ripple in one cycle is small), and the load be a resistor $R$. Define the normalized output voltage $M$ by $M = v/V_g$, where $v$ is the direct current output voltage, and define the dimensionless load parameter $K$ by $K = 2L/(R T)$. The switching interval consists of an on-interval of duration $D T$, followed by a diode-conduction interval of duration $D_2 T$ during which the inductor current ramps down to zero, followed by a zero-current idle interval of duration $(1 - D - D_2) T$.\n\nStarting from the inductor voltage-current relation $v_L = L \\, di_L/dt$, the definition of DCM (piecewise-linear triangular inductor current that returns to zero each cycle), and conservation of charge on the output capacitor over one switching period (equivalently, equality of average inductor current delivered to the output and the average load current $v/R$), derive the relationship between $M$, $D$, and $K$ for the ideal buck converter in DCM without assuming continuous conduction mode volt-second balance over the entire period. Then, using your derived relationship, evaluate the limit of $M$ as $K \\to 0$ for fixed $D$ and interpret the result physically in terms of how the output capacitor charges toward $V_g$ under very light load.\n\nWhich one of the following statements is correct?\n\nA. In DCM for an ideal buck converter, the normalized conversion ratio obeys $K M^2 + D^2 M - D^2 = 0$, so for fixed $D$ and $K \\to 0$ one has $M \\to 1$. Physically, as the load lightens ($R \\to \\infty$ so $K \\to 0$), the capacitor requires negligible replenishment per cycle; the inductor peak current and the diode-conduction interval collapse, and the output node is effectively held near $V_g$ during the on-interval, hence $v \\to V_g$ even with $D<1$.\n\nB. In DCM for an ideal buck converter, the normalized conversion ratio always remains $M = D$ for any $K$, because volt-second balance holds over the full period regardless of conduction mode; therefore, for fixed $D$ and $K \\to 0$, $M \\to D$.\n\nC. In DCM for an ideal buck converter, as $K \\to 0$ with fixed $D$, the output collapses with $M \\to 0$, because vanishing inductor current implies no energy transfer to the capacitor.\n\nD. In DCM for an ideal buck converter, as $K \\to 0$ with fixed $D$, the diode-conduction fraction $D_2$ grows without bound and $M \\to 1/D$ due to increasing inductor peak currents at light load.",
            "solution": "The problem statement is evaluated for validity.\n\n### Step 1: Extract Givens\n- Converter type: Ideal step-down direct current-to-direct current converter (buck converter).\n- Operating mode: Discontinuous conduction mode (DCM).\n- Input voltage: $V_g$.\n- Switching period: $T$.\n- Switch duty cycle: $D$, with $0 < D < 1$.\n- Inductance: $L$.\n- Output capacitance: $C$, assumed large.\n- Load resistance: $R$.\n- Normalized output voltage: $M = v/V_g$, where $v$ is the DC output voltage.\n- Dimensionless load parameter: $K = 2L/(R T)$.\n- Switching intervals in DCM:\n    1.  On-interval: duration $D T$.\n    2.  Diode-conduction interval: duration $D_2 T$.\n    3.  Zero-current idle interval: duration $(1 - D - D_2) T$.\n- Required starting principles:\n    1.  Inductor relation: $v_L = L \\, di_L/dt$.\n    2.  DCM current shape: Piecewise-linear triangular inductor current returning to zero each cycle.\n    3.  Charge conservation: Average inductor current equals average load current, $\\langle i_L \\rangle = v/R$.\n- The problem asks to derive the relationship between $M, D, K$ and analyze the limit of $M$ as $K \\to 0$.\n\n### Step 2: Validate Using Extracted Givens\n- **Scientifically Grounded:** The problem describes a standard ideal buck converter, a fundamental component in power electronics. The principles for analysis ($v_L = L \\, di_L/dt$, charge balance) are correct and fundamental.\n- **Well-Posed:** The problem provides all necessary information and clear definitions ($M, K$) to derive the required relationship and perform the requested analysis. The question is specific and has a unique, stable solution.\n- **Objective:** The language is technical, precise, and free of any subjective or ambiguous terms.\n- **Conclusion:** The problem statement is scientifically sound, self-contained, and well-posed. No flaws are identified.\n\n### Step 3: Verdict and Action\nThe problem is **valid**. The solution will be derived as requested.\n\n### Derivation of the DCM Conversion Ratio\n\nWe analyze the inductor current $i_L(t)$ over one switching period $T$. Due to the large capacitor assumption, the output voltage $v$ is considered constant over the period.\n\n1.  **Switch ON interval ($0 < t \\le DT$):**\n    The switch is closed, connecting the inductor to the input source. The voltage across the inductor is $v_L = V_g - v$. The inductor current starts at $i_L(0) = 0$ and ramps up linearly. The peak current $i_{L,peak}$ reached at time $t=DT$ is:\n    $$i_{L,peak} = \\frac{1}{L} \\int_0^{DT} (V_g - v) dt = \\frac{(V_g - v)DT}{L}$$\n\n2.  **Diode conduction interval ($DT < t \\le (D+D_2)T$):**\n    The switch is open, and the inductor current freewheels through the diode. The voltage across the inductor is $v_L = -v$. The current ramps down linearly from $i_{L,peak}$ to zero over a duration of $D_2 T$.\n    The change in current is $-i_{L,peak}$, so:\n    $$-i_{L,peak} = \\frac{1}{L} \\int_{DT}^{(D+D_2)T} (-v) dt = \\frac{-v(D_2 T)}{L}$$\n    $$i_{L,peak} = \\frac{v D_2 T}{L}$$\n\n3.  **Equating expressions for $i_{L,peak}$:**\n    We equate the two expressions for the peak inductor current:\n    $$\\frac{(V_g - v)DT}{L} = \\frac{v D_2 T}{L}$$\n    $$(V_g - v)D = v D_2$$\n    Dividing by $v$ and rearranging gives an expression for $D_2$:\n    $$D_2 = D \\left(\\frac{V_g}{v} - 1\\right) = D \\left(\\frac{1}{M} - 1\\right) = \\frac{D(1-M)}{M}$$\n    Note that for DCM, we must have an idle interval, so $D + D_2 < 1$.\n\n4.  **Applying charge conservation:**\n    In steady state, the average current supplied by the inductor to the output stage must equal the average load current.\n    $$\\langle i_L \\rangle = I_{load} = \\frac{v}{R}$$\n    The inductor current waveform is a triangle with base $(D+D_2)T$ and height $i_{L,peak}$, and is zero for the rest of the period. The average inductor current over a period $T$ is the area of this triangle divided by $T$:\n    $$\\langle i_L \\rangle = \\frac{1}{T} \\left( \\frac{1}{2} \\cdot \\text{base} \\cdot \\text{height} \\right) = \\frac{1}{2T} [(D+D_2)T] i_{L,peak} = \\frac{1}{2}(D+D_2)i_{L,peak}$$\n    Equating this with the load current:\n    $$\\frac{v}{R} = \\frac{1}{2}(D+D_2)i_{L,peak}$$\n    Now, substitute the expressions for $D_2$ and $i_{L,peak}$. Using $i_{L,peak} = v D_2 T / L$:\n    $$\\frac{v}{R} = \\frac{1}{2}(D+D_2) \\frac{v D_2 T}{L}$$\n    $$\\frac{1}{R} = \\frac{T}{2L}(D+D_2)D_2$$\n    Rearranging and using the definition $K = 2L/(RT)$:\n    $$K = (D+D_2)D_2$$\n    Now, substitute the expression for $D_2 = D(1-M)/M$:\n    $$K = \\left(D + \\frac{D(1-M)}{M}\\right) \\left(\\frac{D(1-M)}{M}\\right)$$\n    $$K = D\\left(1 + \\frac{1-M}{M}\\right) \\frac{D(1-M)}{M} = D\\left(\\frac{M+1-M}{M}\\right) \\frac{D(1-M)}{M}$$\n    $$K = D\\left(\\frac{1}{M}\\right) \\frac{D(1-M)}{M} = \\frac{D^2(1-M)}{M^2}$$\n    This is the governing relationship. To match the form in option A, we rearrange it:\n    $$K M^2 = D^2(1-M) = D^2 - D^2 M$$\n    $$K M^2 + D^2 M - D^2 = 0$$\n\n### Analysis of the Limit as $K \\to 0$\n\nWe are asked to find the limit of $M$ as $K \\to 0$ for a fixed duty cycle $D$.\n$$\\lim_{K\\to 0} (K M^2 + D^2 M - D^2) = 0$$\n$$(0) \\cdot M^2 + D^2 M - D^2 = 0$$\n$$D^2 M - D^2 = 0$$\n$$D^2(M-1) = 0$$\nSince the problem states $0 < D < 1$, $D^2$ is non-zero. Therefore, we must have:\n$$M - 1 = 0 \\implies M = 1$$\nSo, as $K \\to 0$, $M \\to 1$. This means the output voltage $v$ approaches the input voltage $V_g$.\n\n### Physical Interpretation\n\nThe parameter $K = 2L/(RT)$. For fixed $L$ and $T$, the limit $K \\to 0$ corresponds to the load resistance $R \\to \\infty$. This is the very light load or no-load condition.\nAs $R \\to \\infty$, the average load current $I_{load} = v/R \\to 0$.\nSince $\\langle i_L \\rangle = I_{load}$, the average inductor current must also approach zero.\nThe consequence on the internal variables is:\n-   Output voltage: $v = M V_g \\to (1)V_g = V_g$.\n-   Peak inductor current: $i_{L,peak} = (V_g - v)DT/L \\to (V_g - V_g)DT/L = 0$.\n-   Diode conduction fraction: $D_2 = D(1-M)/M \\to D(1-1)/1 = 0$.\nPhysically, as the load becomes infinitely light, the output capacitor barely discharges between switching cycles. It requires a vanishingly small amount of charge replenishment to maintain its voltage. When the switch turns on, the output voltage $v$ is already very close to the input voltage $V_g$. This results in a tiny inductor voltage $(V_g - v)$, which in turn creates a tiny peak inductor current $i_{L,peak}$. This tiny current is just enough to replenish the capacitor's minimal charge loss. When the switch turns off, this tiny peak current decays to zero in a very short time ($D_2 T \\to 0$). The output capacitor voltage, being \"topped off\" to near $V_g$ in each cycle and having no significant discharge path, settles at a DC value $v \\approx V_g$.\n\n### Evaluation of Options\n\n**A. In DCM for an ideal buck converter, the normalized conversion ratio obeys $K M^2 + D^2 M - D^2 = 0$, so for fixed $D$ and $K \\to 0$ one has $M \\to 1$. Physically, as the load lightens ($R \\to \\infty$ so $K \\to 0$), the capacitor requires negligible replenishment per cycle; the inductor peak current and the diode-conduction interval collapse, and the output node is effectively held near $V_g$ during the on-interval, hence $v \\to V_g$ even with $D<1$.**\n- The derived equation $K M^2 + D^2 M - D^2 = 0$ matches.\n- The calculated limit $M \\to 1$ as $K \\to 0$ matches.\n- The physical explanation is entirely consistent with the derivation: light load ($R \\to \\infty$) means negligible capacitor discharge, which requires only a minuscule inductor current pulse to maintain voltage. This leads to the collapse of the diode-conduction interval ($D_2 \\to 0$) and the output voltage settling at the peak charging voltage, $V_g$.\n- **Verdict: Correct.**\n\n**B. In DCM for an ideal buck converter, the normalized conversion ratio always remains $M = D$ for any $K$, because volt-second balance holds over the full period regardless of conduction mode; therefore, for fixed $D$ and $K \\to 0$, $M \\to D$.**\n- The relation $M=D$ is for continuous conduction mode (CCM), not DCM. In DCM, the relationship is the more complex one derived above. From $K = D^2(1-M)/M^2$, it's clear that $M$ is a function of $K$ and is not constant.\n- For any $K > 0$ in DCM, we have $D^2(1-M)/M^2 > 0$, which implies $1-M>0$, or $M<1$. Also, from $D_2 > 0$, we have $D(1-M)/M > 0$, which again implies $M<1$. From the volt-second balance relation $M = D/(D+D_2)$ and the DCM condition $D+D_2 < 1$, we can deduce $M > D$. So in DCM, $D < M < 1$. The claim $M=D$ is false.\n- The limit $M \\to D$ is therefore incorrect; the limit is $M \\to 1$.\n- **Verdict: Incorrect.**\n\n**C. In DCM for an ideal buck converter, as $K \\to 0$ with fixed $D$, the output collapses with $M \\to 0$, because vanishing inductor current implies no energy transfer to the capacitor.**\n- The calculated limit is $M \\to 1$, not $M \\to 0$. The conclusion is false.\n- The physical reasoning is flawed. Vanishing inductor current corresponds to vanishing load power dissipation. The capacitor voltage is maintained, not collapsed, because the energy delivered (though vanishingly small) perfectly matches the energy consumed by the load (which is also vanishingly small).\n- **Verdict: Incorrect.**\n\n**D. In DCM for an ideal buck converter, as $K \\to 0$ with fixed $D$, the diode-conduction fraction $D_2$ grows without bound and $M \\to 1/D$ due to increasing inductor peak currents at light load.**\n- As shown in the derivation, as $K \\to 0$, $M \\to 1$, which causes $D_2 = D(1-M)/M \\to 0$. $D_2$ does not grow, it collapses.\n- The inductor peak current also approaches zero, it does not increase.\n- The limit $M \\to 1/D$ is incorrect (note that for $D<1$, $1/D > 1$, which would imply a step-up action, impossible for a buck converter).\n- All parts of this statement are factually wrong.\n- **Verdict: Incorrect.**",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "Real-world power converters rarely operate in a single steady state; they must respond to dynamic changes like load steps. This exercise moves beyond static analysis to explore the transient behavior of the inductor current as the converter transitions from CCM to DCM. By applying the principle of inductor current continuity across the event, you will predict the current's trajectory on a cycle-by-cycle basis, a skill essential for understanding transient response and control loop design. ",
            "id": "3824372",
            "problem": "An ideal buck converter supplies a regulated output voltage $v_{o}$ from a direct current input voltage $v_{in}$. The power stage consists of an ideal high-side metal-oxide-semiconductor field-effect transistor (MOSFET), an ideal low-side diode, an inductor of inductance $L$, and an output capacitor of capacitance $C$ feeding a resistive load. Neglect all parasitics and switching dead-times. The converter operates at a fixed switching frequency $f_{s}$ with switching period $T_{s} = 1/f_{s}$. Before a load step, the converter is in steady-state continuous conduction mode (CCM) under a constant duty ratio $D_{0}$ that yields the regulated output voltage $v_{o}$. At time $t=0$, the load resistance increases abruptly, decreasing the load current. The voltage-mode controller updates the duty ratio at the very next cycle to a new constant value $D_{1}$ and holds $D_{1}$ fixed for that entire cycle; subsequent cycles are not relevant for this problem. The output capacitor is sufficiently large that the output voltage remains approximately constant at $v_{o}$ during this first cycle after the duty update.\n\nSpecific numerical parameters are:\n- Input voltage $v_{in} = 48 \\mathrm{V}$,\n- Regulated output voltage $v_{o} = 12 \\mathrm{V}$,\n- Inductance $L = 20 \\mathrm{\\mu H}$,\n- Capacitance $C = 100 \\mathrm{\\mu F}$,\n- Switching frequency $f_{s} = 50 \\mathrm{kHz}$,\n- Pre-step duty ratio $D_{0} = v_{o}/v_{in}$,\n- Steady-state pre-step load current $I_{\\ell,0} = 7 \\mathrm{A}$ (so the inductor current is in CCM before the step),\n- Post-step duty ratio for the first cycle after the step $D_{1} = 0.10$.\n\nAssume the inductor current $i_{L}(t)$ is continuous across the load step at $t=0$ and that the low-side diode is ideal. Using only first principles, specifically the inductor voltage-current law $v_{L} = L\\,\\mathrm{d}i_{L}/\\mathrm{d}t$, the capacitor current-voltage law $i_{C} = C\\,\\mathrm{d}v_{o}/\\mathrm{d}t$, and Kirchhoff’s Current Law at the output node, reason from these laws to predict the immediate qualitative change in the inductor current trajectory $i_{L}(t)$ upon the step decrease in load current and duty update. Then, quantitatively determine the peak inductor current $I_{pk}$ attained in the first cycle that enters discontinuous conduction mode (DCM) due to the duty reduction. Express your final numerical value for $I_{pk}$ in amperes and round your answer to four significant figures.",
            "solution": "The problem is validated against the specified criteria before a solution is attempted.\n\n### Step 1: Extract Givens\n- **Circuit**: Ideal buck converter.\n- **Components**: Ideal high-side MOSFET, ideal low-side diode, inductor $L$, capacitor $C$.\n- **Parasitics/Dead-times**: Neglected.\n- **Operating Conditions**:\n  - Input voltage: $v_{in} = 48 \\mathrm{V}$.\n  - Regulated output voltage: $v_{o} = 12 \\mathrm{V}$.\n  - Inductance: $L = 20 \\mathrm{\\mu H} = 20 \\times 10^{-6} \\mathrm{H}$.\n  - Capacitance: $C = 100 \\mathrm{\\mu F} = 100 \\times 10^{-6} \\mathrm{F}$.\n  - Switching frequency: $f_{s} = 50 \\mathrm{kHz} = 50 \\times 10^3 \\mathrm{Hz}$.\n  - Switching period: $T_{s} = 1/f_{s}$.\n- **Pre-step Conditions ($t < 0$)**:\n  - Steady-state Continuous Conduction Mode (CCM).\n  - Duty ratio: $D_{0} = v_{o}/v_{in}$.\n  - Load current: $I_{\\ell,0} = 7 \\mathrm{A}$.\n- **Event at $t = 0$**:\n  - Load resistance increases abruptly.\n- **Post-step Conditions (First cycle, $0 \\le t \\le T_s$)**:\n  - Controller updates duty ratio to $D_{1} = 0.10$.\n  - Output voltage remains constant: $v_{o} = 12 \\mathrm{V}$.\n  - Inductor current $i_{L}(t)$ is continuous at $t=0$.\n  - The cycle enters Discontinuous Conduction Mode (DCM).\n- **Fundamental Laws**: $v_{L} = L\\,\\mathrm{d}i_{L}/\\mathrm{d}t$, $i_{C} = C\\,\\mathrm{d}v_{o}/\\mathrm{d}t$, Kirchhoff’s Current Law (KCL).\n- **Objective**:\n  1.  Qualitatively describe the change in the inductor current trajectory $i_{L}(t)$.\n  2.  Quantitatively determine the peak inductor current $I_{pk}$ in the first cycle, rounded to four significant figures.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is evaluated based on the provided criteria.\n\n- **Scientifically Grounded**: The problem describes the transient behavior of a buck converter, a fundamental topic in power electronics. The analysis is based on first principles ($v_L = L di/dt$) and standard ideal component models. The scenario of a load step-down is a classic and practical problem.\n- **Well-Posed**: All necessary parameters ($v_{in}$, $v_{o}$, $L$, $f_{s}$, $I_{\\ell,0}$, $D_1$) are provided to calculate the inductor current trajectory for the specified cycle. The assumptions of an ideal converter, constant output voltage, and continuity of inductor current are explicitly stated, which makes the problem well-defined and solvable.\n- **Objective**: The problem is stated using precise, standard terminology from the field of power electronics. There is no subjective or ambiguous language.\n\nWe check for internal consistency.\n- The pre-step duty ratio is given as $D_{0} = v_{o}/v_{in} = 12 \\mathrm{V} / 48 \\mathrm{V} = 0.25$. This is the correct steady-state duty ratio for an ideal buck converter in CCM.\n- The pre-step condition is CCM. The average inductor current in steady state is equal to the load current, $I_{L,avg,0} = I_{\\ell,0} = 7 \\mathrm{A}$. The switching period is $T_{s} = 1/f_{s} = 1/(50 \\times 10^{3} \\mathrm{Hz}) = 20 \\times 10^{-6} \\mathrm{s}$. The pre-step inductor current ripple is $\\Delta i_{L,0} = \\frac{(v_{in}-v_{o}) D_{0} T_{s}}{L} = \\frac{(48-12) \\times 0.25 \\times 20 \\times 10^{-6}}{20 \\times 10^{-6}} = 9 \\mathrm{A}$. The minimum pre-step inductor current is $i_{L,min,0} = I_{L,avg,0} - \\frac{\\Delta i_{L,0}}{2} = 7 - 4.5 = 2.5 \\mathrm{A}$. Since $i_{L,min,0} > 0$, the converter is indeed in CCM as stated.\n- The problem is self-consistent and adheres to scientific principles. It does not violate any of the specified invalidity criteria.\n\n### Step 3: Verdict and Action\nThe problem is **valid**. A detailed solution is provided below.\n\n### Solution\nThe problem asks for a qualitative description of the inductor current change and a quantitative calculation of the peak inductor current, $I_{pk}$, in the first cycle following a load step and duty ratio change.\n\n**Qualitative Analysis**\n\nBefore the event at $t=0$, the converter operates in steady-state Continuous Conduction Mode (CCM). This means the inductor current $i_L(t)$ is a triangular waveform that is always positive, oscillating about an average value of $I_{\\ell,0}$.\n\nAt $t=0$, two events occur: the load current decreases, and the controller reduces the duty ratio to $D_1 = 0.10$. The duration for which the inductor current rises is shortened from $D_0 T_s$ to $D_1 T_s$. The inductor current is a state variable and cannot change instantaneously, so its value at the beginning of the new cycle, $i_L(0)$, is equal to its value at the end of the previous cycle.\n\nIn the first cycle after the step ($0 \\le t \\le T_s$):\n1.  **MOSFET ON ($0 < t \\le D_1 T_s$)**: The inductor current rises linearly from its initial value $i_L(0)$.\n2.  **MOSFET OFF, Diode ON ($D_1 T_s < t \\le T_s$)**: The inductor current falls linearly.\n\nThe problem states that the cycle enters Discontinuous Conduction Mode (DCM). This means the magnitude of the current fall during the OFF time is greater than the peak current reached at the end of the ON time. Consequently, the inductor current will decrease to zero at some time $t_{\\text{zero}} < T_s$ and will remain at zero for the rest of the switching period ($t_{\\text{zero}} < t \\le T_s$).\n\nQualitatively, the inductor current trajectory $i_L(t)$ changes from a continuous triangular waveform (always positive) to a trapezoidal-like waveform that starts at a positive value, rises to a peak, falls to zero, and then stays at zero for a finite duration before the cycle ends.\n\n**Quantitative Analysis**\n\nTo find the peak inductor current $I_{pk}$, we must first determine the initial condition $i_L(0)$ for the cycle starting at $t=0$. This is the inductor current at the end of the last steady-state cycle operating with duty ratio $D_0$. In steady state, the current at the end of a cycle is equal to the minimum current of the cycle.\n\n1.  **Calculate pre-step parameters**:\n    - Switching period: $T_s = \\frac{1}{f_s} = \\frac{1}{50 \\times 10^3 \\mathrm{Hz}} = 20 \\times 10^{-6} \\mathrm{s}$.\n    - Pre-step duty ratio: $D_0 = \\frac{v_o}{v_{in}} = \\frac{12 \\mathrm{V}}{48 \\mathrm{V}} = 0.25$.\n    - Pre-step inductor current ripple, $\\Delta i_{L,0}$:\n    $$ \\Delta i_{L,0} = \\frac{v_{in} - v_o}{L} D_0 T_s = \\frac{48 \\mathrm{V} - 12 \\mathrm{V}}{20 \\times 10^{-6} \\mathrm{H}} \\times 0.25 \\times (20 \\times 10^{-6} \\mathrm{s}) = 9 \\mathrm{A} $$\n\n2.  **Determine the initial inductor current $i_L(0)$**:\n    - The average inductor current before the step is equal to the load current: $I_{L,avg,0} = I_{\\ell,0} = 7 \\mathrm{A}$.\n    - The minimum inductor current in the pre-step CCM cycle is:\n    $$ i_{L,min,0} = I_{L,avg,0} - \\frac{\\Delta i_{L,0}}{2} = 7 \\mathrm{A} - \\frac{9 \\mathrm{A}}{2} = 2.5 \\mathrm{A} $$\n    - Due to the continuity of inductor current, the initial current for the new cycle at $t=0$ is $i_L(0) = i_{L,min,0} = 2.5 \\mathrm{A}$.\n\n3.  **Calculate the peak inductor current $I_{pk}$**:\n    The peak current in the new cycle occurs at the end of the ON-time, $t = D_1 T_s$. The inductor voltage during this interval is $v_L = v_{in} - v_o$.\n    The inductor current is given by the integral of the voltage:\n    $$ i_L(t) = i_L(0) + \\frac{1}{L} \\int_0^t v_L(\\tau) d\\tau = i_L(0) + \\frac{v_{in} - v_o}{L} t $$\n    The peak current $I_{pk}$ is the value of $i_L(t)$ at $t = D_1 T_s$:\n    $$ I_{pk} = i_L(D_1 T_s) = i_L(0) + \\frac{v_{in} - v_o}{L} D_1 T_s $$\n    The post-step duty ratio is $D_1 = 0.10$.\n    The rise in inductor current during the ON-time is:\n    $$ \\Delta i_{L,rise} = \\frac{v_{in} - v_o}{L} D_1 T_s = \\frac{48 \\mathrm{V} - 12 \\mathrm{V}}{20 \\times 10^{-6} \\mathrm{H}} \\times 0.10 \\times (20 \\times 10^{-6} \\mathrm{s}) = 3.6 \\mathrm{A} $$\n    The peak current is the sum of the initial current and the current rise:\n    $$ I_{pk} = i_L(0) + \\Delta i_{L,rise} = 2.5 \\mathrm{A} + 3.6 \\mathrm{A} = 6.1 \\mathrm{A} $$\n    The problem asks for the answer to be rounded to four significant figures.\n    $$ I_{pk} = 6.100 \\mathrm{A} $$",
            "answer": "$$ \\boxed{6.100} $$"
        }
    ]
}