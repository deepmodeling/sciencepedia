{
    "hands_on_practices": [
        {
            "introduction": "在深入研究特定变换器的动态特性之前，建立对核心建模方法的信心至关重要。本练习将通过两种最流行的方法——状态空间平均法（SSA）和平均PWM开关模型法——来推导同一个升压变换器的传递函数，通过直接比较来证明它们的等效性。 这有助于您理解，这些方法只是形式不同但本质相同的工具，可以根据便利性来选择使用。",
            "id": "3880509",
            "problem": "考虑一个理想的连续导通模式（CCM）升压变换器，其输入电压为 $V_g$，占空比为 $D \\in (0,1)$，电感为 $L$，输出电容为 $C$，负载为电阻 $R$。假设半导体器件是理想的（零压降，零电阻），开关频率很高以至于在一个开关周期内进行平均是有效的，且输入电压 $V_g$ 恒定。设输出电压为 $v_o(t)$，电感电流为 $i_L(t)$。使用 Kirchhoff 电压定律 (KVL)、Kirchhoff 电流定律 (KCL)、占空比的定义以及围绕稳态的一阶微扰/小信号线性化作为基本依据。\n\n任务：\n- 使用状态空间平均法 (SSA)，推导小信号占空比到输出的传递函数 $G_{vd,\\mathrm{SSA}}(s) = \\hat{v}_o(s)/\\hat{d}(s)$，其中 $\\hat{v}_o$ 和 $\\hat{d}$ 分别表示 $v_o$ 和 $D$ 的小信号微扰。\n- 使用平均脉宽调制 (PWM) 开关建模方法，为同一变换器和工作点推导小信号占空比到输出的传递函数 $G_{vd,\\mathrm{SW}}(s) = \\hat{v}_o(s)/\\hat{d}(s)$。\n- 以闭合形式计算差值 $\\Delta(s) = G_{vd,\\mathrm{SSA}}(s) - G_{vd,\\mathrm{SW}}(s)$ 并完全简化。基于建模假设，对您发现的任何差异提供简要解释。\n\n请用 $s$、$V_g$、$R$、$L$、$C$ 和 $D$ 表示您的最终答案，形式为单一的简化解析表达式。无需进行数值计算。",
            "solution": "该问题是电力电子变换器建模中的一个标准练习，其表述在科学上是合理的、提法得当且客观的。因此，它被认为是有效的。我们按要求分三部分进行解答。\n\n### 第一部分：使用状态空间平均法 (SSA) 推导\n\n我们对工作在连续导通模式 (CCM) 下的理想升压变换器进行建模。状态变量是电感电流 $i_L(t)$ 和输出电容电压 $v_o(t)$。状态向量为 $x(t) = \\begin{pmatrix} i_L(t) \\\\ v_o(t) \\end{pmatrix}$。输入为源电压 $u(t) = V_g$。\n\n系统有两个对应于开关位置的状态。\n\n**状态 1：开关闭合（区间 $d T_s$）**\n电感连接到输入电压 $V_g$，二极管反向偏置。电容向负载 $R$ 放电。\n状态方程为：\n$$\nL \\frac{di_L}{dt} = V_g\n$$\n$$\nC \\frac{dv_o}{dt} = -\\frac{v_o}{R}\n$$\n矩阵形式为 $\\dot{x} = A_1 x + B_1 u$：\n$$\n\\begin{pmatrix} \\dot{i}_L \\\\ \\dot{v}_o \\end{pmatrix} = \\begin{pmatrix} 0 & 0 \\\\ 0 & -\\frac{1}{RC} \\end{pmatrix} \\begin{pmatrix} i_L \\\\ v_o \\end{pmatrix} + \\begin{pmatrix} \\frac{1}{L} \\\\ 0 \\end{pmatrix} V_g\n$$\n\n**状态 2：开关断开（区间 $(1-d) T_s$）**\n电感电流通过二极管流向输出。\n状态方程为：\n$$\nL \\frac{di_L}{dt} = V_g - v_o\n$$\n$$\nC \\frac{dv_o}{dt} = i_L - \\frac{v_o}{R}\n$$\n矩阵形式为 $\\dot{x} = A_2 x + B_2 u$：\n$$\n\\begin{pmatrix} \\dot{i}_L \\\\ \\dot{v}_o \\end{pmatrix} = \\begin{pmatrix} 0 & -\\frac{1}{L} \\\\ \\frac{1}{C} & -\\frac{1}{RC} \\end{pmatrix} \\begin{pmatrix} i_L \\\\ v_o \\end{pmatrix} + \\begin{pmatrix} \\frac{1}{L} \\\\ 0 \\end{pmatrix} V_g\n$$\n我们注意到 $B_1 = B_2 = B = \\begin{pmatrix} 1/L \\\\ 0 \\end{pmatrix}$。\n\n**平均化与稳态 (DC) 分析**\n平均状态空间模型为 $\\dot{x} = (D A_1 + (1-D) A_2) x + (D B_1 + (1-D) B_2) u$。\n平均系统矩阵 $A$ 为：\n$$\nA = D A_1 + (1-D) A_2 = D \\begin{pmatrix} 0 & 0 \\\\ 0 & -\\frac{1}{RC} \\end{pmatrix} + (1-D) \\begin{pmatrix} 0 & -\\frac{1}{L} \\\\ \\frac{1}{C} & -\\frac{1}{RC} \\end{pmatrix} = \\begin{pmatrix} 0 & -\\frac{1-D}{L} \\\\ \\frac{1-D}{C} & -\\frac{1}{RC} \\end{pmatrix}\n$$\n平均输入矩阵为 $B$。平均模型为 $\\dot{x} = A x + B u$。\n在稳态下，$\\dot{x}=0$，$x=X=\\begin{pmatrix} I_L \\\\ V_o \\end{pmatrix}$，$u=U=V_g$。\n$$\n0 = A X + B U \\implies -A X = B U\n$$\n$$\n\\begin{pmatrix} 0 & \\frac{1-D}{L} \\\\ -\\frac{1-D}{C} & \\frac{1}{RC} \\end{pmatrix} \\begin{pmatrix} I_L \\\\ V_o \\end{pmatrix} = \\begin{pmatrix} \\frac{1}{L} \\\\ 0 \\end{pmatrix} V_g\n$$\n从第一行：$\\frac{1-D}{L} V_o = \\frac{V_g}{L} \\implies V_o = \\frac{V_g}{1-D}$。\n从第二行：$-\\frac{1-D}{C} I_L + \\frac{V_o}{RC} = 0 \\implies I_L = \\frac{V_o}{(1-D)R} = \\frac{V_g}{(1-D)^2 R}$。\n\n**小信号交流建模**\n我们通过引入小信号微扰来线性化模型：$x(t)=X+\\hat{x}(t)$，$d(t)=D+\\hat{d}(t)$，以及 $u(t)=U+\\hat{u}(t)$。由于 $V_g$ 是常数，$\\hat{u}(t)=0$。线性化的状态方程为：\n$$\n\\dot{\\hat{x}} = A \\hat{x} + [(A_1 - A_2)X + (B_1 - B_2)U] \\hat{d}\n$$\n由于 $B_1 = B_2$，项 $(B_1 - B_2)U$ 为零。我们计算 $A_1 - A_2$：\n$$\nA_1 - A_2 = \\begin{pmatrix} 0 & 0 \\\\ 0 & -\\frac{1}{RC} \\end{pmatrix} - \\begin{pmatrix} 0 & -\\frac{1}{L} \\\\ \\frac{1}{C} & -\\frac{1}{RC} \\end{pmatrix} = \\begin{pmatrix} 0 & \\frac{1}{L} \\\\ -\\frac{1}{C} & 0 \\end{pmatrix}\n$$\n微扰输入矩阵为 $(A_1 - A_2)X$：\n$$\n(A_1 - A_2)X = \\begin{pmatrix} 0 & \\frac{1}{L} \\\\ -\\frac{1}{C} & 0 \\end{pmatrix} \\begin{pmatrix} I_L \\\\ V_o \\end{pmatrix} = \\begin{pmatrix} \\frac{V_o}{L} \\\\ -\\frac{I_L}{C} \\end{pmatrix}\n$$\n小信号模型为 $\\dot{\\hat{x}} = A \\hat{x} + \\begin{pmatrix} V_o/L \\\\ -I_L/C \\end{pmatrix} \\hat{d}$。进行拉普拉斯变换：\n$$\ns\\hat{x}(s) = A\\hat{x}(s) + \\begin{pmatrix} V_o/L \\\\ -I_L/C \\end{pmatrix} \\hat{d}(s) \\implies \\hat{x}(s) = (sI-A)^{-1} \\begin{pmatrix} V_o/L \\\\ -I_L/C \\end{pmatrix} \\hat{d}(s)\n$$\n我们需要输出 $\\hat{v}_o(s)$，它是 $\\hat{x}(s)$ 的第二个分量。输出方程为 $\\hat{v}_o(s) = C_{out} \\hat{x}(s)$，其中 $C_{out} = \\begin{pmatrix} 0 & 1 \\end{pmatrix}$。\n$$\nG_{vd,\\mathrm{SSA}}(s) = \\frac{\\hat{v}_o(s)}{\\hat{d}(s)} = \\begin{pmatrix} 0 & 1 \\end{pmatrix} (sI-A)^{-1} \\begin{pmatrix} V_o/L \\\\ -I_L/C \\end{pmatrix}\n$$\n逆矩阵为 $(sI-A)^{-1} = \\frac{1}{\\det(sI-A)} \\operatorname{adj}(sI-A)$：\n$$\nsI-A = \\begin{pmatrix} s & \\frac{1-D}{L} \\\\ -\\frac{1-D}{C} & s+\\frac{1}{RC} \\end{pmatrix}\n$$\n$$\n\\det(sI-A) = s(s+\\frac{1}{RC}) + \\frac{(1-D)^2}{LC} = s^2 + \\frac{s}{RC} + \\frac{(1-D)^2}{LC}\n$$\n$$\n\\operatorname{adj}(sI-A) = \\begin{pmatrix} s+\\frac{1}{RC} & -\\frac{1-D}{L} \\\\ \\frac{1-D}{C} & s \\end{pmatrix}\n$$\n代入 $G_{vd,\\mathrm{SSA}}(s)$ 的表达式中：\n$$\nG_{vd,\\mathrm{SSA}}(s) = \\frac{1}{\\det(sI-A)} \\begin{pmatrix} 0 & 1 \\end{pmatrix} \\begin{pmatrix} s+\\frac{1}{RC} & -\\frac{1-D}{L} \\\\ \\frac{1-D}{C} & s \\end{pmatrix} \\begin{pmatrix} V_o/L \\\\ -I_L/C \\end{pmatrix}\n$$\n$$\nG_{vd,\\mathrm{SSA}}(s) = \\frac{1}{\\det(sI-A)} \\begin{pmatrix} \\frac{1-D}{C} & s \\end{pmatrix} \\begin{pmatrix} V_o/L \\\\ -I_L/C \\end{pmatrix} = \\frac{\\frac{(1-D)V_o}{LC} - \\frac{sI_L}{C}}{\\det(sI-A)}\n$$\n代入稳态值 $V_o = \\frac{V_g}{1-D}$ 和 $I_L = \\frac{V_g}{(1-D)^2 R}$：\n$$\n\\text{Numerator} = \\frac{(1-D)}{LC}\\frac{V_g}{1-D} - \\frac{s}{C}\\frac{V_g}{(1-D)^2 R} = \\frac{V_g}{LC} - \\frac{sV_g}{(1-D)^2 RC}\n$$\n因此，传递函数为：\n$$\nG_{vd,\\mathrm{SSA}}(s) = \\frac{\\frac{V_g}{LC} - \\frac{sV_g}{(1-D)^2 RC}}{s^2 + \\frac{s}{RC} + \\frac{(1-D)^2}{LC}}\n$$\n\n### 第二部分：使用平均 PWM 开关模型推导\n\nPWM 开关模型用一个等效电路替代晶体管和二极管，该电路代表了它们的平均行为。对于升压变换器，该模型给出了平均量的以下关系：\n$$\n\\langle v_{sw} \\rangle = (1-d(t)) v_o(t)\n$$\n$$\n\\langle i_{d} \\rangle = (1-d(t)) i_L(t)\n$$\n其中 $\\langle v_{sw} \\rangle$ 是开关节点（电感、开关和二极管的公共节点）的平均电压，$\\langle i_d \\rangle$ 是通过二极管的平均电流。我们构建平均电路：\n电感方程为 $L \\frac{di_L}{dt} = V_g - \\langle v_{sw} \\rangle$。\n电容方程为 $C \\frac{dv_o}{dt} = \\langle i_d \\rangle - \\frac{v_o}{R}$。\n代入开关模型方程，我们得到大信号平均非线性模型：\n$$\nL \\frac{di_L}{dt} = V_g - (1-d(t)) v_o(t)\n$$\n$$\nC \\frac{dv_o}{dt} = (1-d(t)) i_L(t) - \\frac{v_o(t)}{R}\n$$\n\n**小信号交流建模**\n我们围绕直流工作点 ($D, V_o, I_L$) 对这两个方程进行线性化，通过引入小信号微扰：$d=D+\\hat{d}$，$v_o=V_o+\\hat{v}_o$，$i_L=I_L+\\hat{i}_L$。\n对于电感方程：\n$L \\frac{d(I_L+\\hat{i}_L)}{dt} = V_g - (1-(D+\\hat{d}))(V_o+\\hat{v}_o)$\n$L \\frac{d\\hat{i}_L}{dt} = V_g - [(1-D)-\\hat{d}][V_o+\\hat{v}_o] \\approx V_g - [(1-D)V_o - V_o\\hat{d} + (1-D)\\hat{v}_o]$\n直流项 $V_g - (1-D)V_o = 0$ 相消。一阶交流方程为：\n$L \\frac{d\\hat{i}_L}{dt} = V_o\\hat{d} - (1-D)\\hat{v}_o$。\n\n对于电容方程：\n$C \\frac{d(V_o+\\hat{v}_o)}{dt} = (1-(D+\\hat{d}))(I_L+\\hat{i}_L) - \\frac{V_o+\\hat{v}_o}{R}$\n$C \\frac{d\\hat{v}_o}{dt} \\approx [(1-D)-\\hat{d}][I_L+\\hat{i}_L] - \\frac{V_o}{R} - \\frac{\\hat{v}_o}{R} \\approx [(1-D)I_L - I_L\\hat{d} + (1-D)\\hat{i}_L] - \\frac{V_o}{R} - \\frac{\\hat{v}_o}{R}$\n直流项 $(1-D)I_L - \\frac{V_o}{R} = 0$ 相消。一阶交流方程为：\n$C \\frac{d\\hat{v}_o}{dt} = (1-D)\\hat{i}_L - I_L\\hat{d} - \\frac{\\hat{v}_o}{R}$。\n\n现在，我们转换到拉普拉斯域：\n$$\nsL \\hat{i}_L(s) = V_o \\hat{d}(s) - (1-D)\\hat{v}_o(s)\n$$\n$$\nsC \\hat{v}_o(s) = (1-D)\\hat{i}_L(s) - I_L \\hat{d}(s) - \\frac{\\hat{v}_o(s)}{R}\n$$\n从第一个方程中，我们求解 $\\hat{i}_L(s)$：\n$$\n\\hat{i}_L(s) = \\frac{V_o \\hat{d}(s) - (1-D)\\hat{v}_o(s)}{sL}\n$$\n将此代入第二个方程：\n$$\nsC \\hat{v}_o(s) = (1-D) \\left[ \\frac{V_o \\hat{d}(s) - (1-D)\\hat{v}_o(s)}{sL} \\right] - I_L \\hat{d}(s) - \\frac{\\hat{v}_o(s)}{R}\n$$\n将包含 $\\hat{v}_o(s)$ 和 $\\hat{d}(s)$ 的项分组：\n$$\n\\hat{v}_o(s) \\left( sC + \\frac{1}{R} + \\frac{(1-D)^2}{sL} \\right) = \\hat{d}(s) \\left( \\frac{(1-D)V_o}{sL} - I_L \\right)\n$$\n求解传递函数 $G_{vd,\\mathrm{SW}}(s) = \\frac{\\hat{v}_o(s)}{\\hat{d}(s)}$：\n$$\nG_{vd,\\mathrm{SW}}(s) = \\frac{\\frac{(1-D)V_o}{sL} - I_L}{sC + \\frac{1}{R} + \\frac{(1-D)^2}{sL}} = \\frac{(1-D)V_o - sLI_L}{s^2LC + s\\frac{L}{R} + (1-D)^2}\n$$\n分子和分母同除以 $LC$：\n$$\nG_{vd,\\mathrm{SW}}(s) = \\frac{\\frac{(1-D)V_o}{LC} - \\frac{sI_L}{C}}{s^2 + \\frac{s}{RC} + \\frac{(1-D)^2}{LC}}\n$$\n代入稳态值 $V_o = \\frac{V_g}{1-D}$ 和 $I_L = \\frac{V_g}{(1-D)^2 R}$：\n$$\n\\text{Numerator} = \\frac{(1-D)}{LC}\\frac{V_g}{1-D} - \\frac{s}{C}\\frac{V_g}{(1-D)^2 R} = \\frac{V_g}{LC} - \\frac{sV_g}{(1-D)^2 RC}\n$$\n因此，传递函数为：\n$$\nG_{vd,\\mathrm{SW}}(s) = \\frac{\\frac{V_g}{LC} - \\frac{sV_g}{(1-D)^2 RC}}{s^2 + \\frac{s}{RC} + \\frac{(1-D)^2}{LC}}\n$$\n\n### 第三部分：差异与解释\n\n题目要求我们计算差值 $\\Delta(s) = G_{vd,\\mathrm{SSA}}(s) - G_{vd,\\mathrm{SW}}(s)$。\n从第一部分和第二部分，我们已经求得：\n$$\nG_{vd,\\mathrm{SSA}}(s) = \\frac{\\frac{V_g}{LC} - \\frac{sV_g}{(1-D)^2 RC}}{s^2 + \\frac{s}{RC} + \\frac{(1-D)^2}{LC}}\n$$\n$$\nG_{vd,\\mathrm{SW}}(s) = \\frac{\\frac{V_g}{LC} - \\frac{sV_g}{(1-D)^2 RC}}{s^2 + \\frac{s}{RC} + \\frac{(1-D)^2}{LC}}\n$$\n这两个表达式是相同的。因此，它们的差为零。\n$$\n\\Delta(s) = G_{vd,\\mathrm{SSA}}(s) - G_{vd,\\mathrm{SW}}(s) = 0\n$$\n\n**解释：**\n$\\Delta(s) = 0$ 这个结果是符合预期的。状态空间平均法 (SSA) 和平均 PWM 开关模型是针对同一基本建模技术的两种不同过程方法。两者都依赖于一个假设，即状态变量（电感电流和电容电压）相对于开关频率变化缓慢，从而允许它们的动态行为在一个开关周期内进行平均。\n\n- **状态空间平均法**是一种形式化的、基于矩阵的方法，它对变换器不同线性拓扑的状态矩阵进行平均，然后将得到的非线性平均状态空间模型进行线性化。\n- **PWM 开关模型**是一种面向电路的方法。它用一个电路模型来替代物理开关，该模型代表了它们的平均端电压和电流特性。这就创建了一个非线性的平均电路，通过对此电路应用电路定律（KVL, KCL）可以得到与 SSA 方法相同的非线性微分方程组。然后对这些方程进行线性化。\n\n本质上，PWM 开关模型是状态空间平均方程在电路层面的实现。由于两种方法都从相同的平均原理出发，并执行等效的线性化，因此在相同假设下，它们必须为同一变换器产生相同的小信号模型。方法论上的差异在于形式（矩阵代数 vs. 电路分析），而不在于其底层的物理或数学近似。因此，从这两种方法推导出的传递函数之间没有差异。",
            "answer": "$$\n\\boxed{0}\n$$"
        },
        {
            "introduction": "掌握了基本建模技术后，我们将其应用于一个更复杂的拓扑结构：反激变换器。本练习要求您使用状态空间平均法推导其控制-输出传递函数，这一过程将揭示一个关键的动态特性——右半平面零点（RHPZ）。 理解并识别 RHPZ 对于设计稳定的反馈控制器至关重要，因为它是许多隔离式变换器中固有的挑战。",
            "id": "3880449",
            "problem": "一个工作在连续导通模式 (CCM) 下的理想反激式转换器由匝数比为 $n = N_{s}/N_{p}$ 的理想变压器、原边的励磁电感 $L_{m}$、一个理想开关和一个理想二极管、副边的阻性负载 $R$ 以及寄生参数可忽略的输出电容 $C$ 构成。输入电压 $V_{g}$ 是恒定的。假设完美耦合，并忽略漏感、绕组电阻以及除有限负载 $R$ 和输出电容 $C$ 之外的所有非理想因素。占空比为 $D$。\n\n仅从电感和电容的本构关系 $v_{L} = L\\,\\mathrm{d}i/\\mathrm{d}t$ 和 $i_{C} = C\\,\\mathrm{d}v/\\mathrm{d}t$ 以及理想变压器关系 $v_{p}/v_{s} = N_{p}/N_{s} = 1/n$ 和 $N_{p} i_{p} = N_{s} i_{s}$ 出发，使用状态空间平均法，然后在 CCM 稳态工作点进行小信号线性化，推导出控制-输出传递函数 $G_{vd}(s) = \\hat{v}_{o}(s)/\\hat{d}(s)$，并用 $V_{g}$、$n$、$L_{m}$、$R$、$C$ 和 $D$ 表示。明确指出右半平面 (RHP) 零点，并以闭合形式表达式给出其频率。\n\n将您的最终答案表示为闭合形式的解析表达式。无需进行数值计算。最终答案中不要包含单位。",
            "solution": "用户的题目陈述经过严格验证，确认有效。这是一个来自电力电子领域的适定、有科学依据的问题，其给定条件完整且一致。\n\n理想反激式转换器在连续导通模式 (CCM) 下的控制-输出传递函数 $G_{vd}(s) = \\hat{v}_{o}(s)/\\hat{d}(s)$ 的推导将通过状态空间平均法进行。\n\n状态变量选择为原边励磁电感电流 $i_{m}(t)$ 和输出电容电压 $v_{o}(t)$。状态向量为 $x(t) = \\begin{pmatrix} i_m(t) & v_o(t) \\end{pmatrix}^T$。输入是恒定电压 $V_g$，控制输入是占空比 $d(t)$。\n\n分析在一个开关周期 $T_s$ 内进行，该周期包含两个子区间。\n\n**1. 状态 1：开关导通（区间 $d T_s$）**\n\n在此区间内，开关闭合，原边绕组连接到输入电压源 $V_g$。励磁电感 $L_m$ 两端的电压为 $v_{L_m} = V_g$。应用电感的本构关系：\n$$ \\frac{di_m}{dt} = \\frac{V_g}{L_m} $$\n原边的电压 $V_g$ 在副边感应出一个反向偏置二极管的电压。因此，副边与原边断开。输出电容 $C$ 通过负载电阻 $R$ 放电。电容电流为 $i_C = -v_o/R$。应用电容的本构关系：\n$$ \\frac{dv_o}{dt} = \\frac{i_C}{C} = -\\frac{v_o}{RC} $$\n此区间的状态空间表示为 $\\dot{x} = A_1 x + B_1 v_g$:\n$$ \\frac{d}{dt}\\begin{pmatrix} i_m \\\\ v_o \\end{pmatrix} = \\underbrace{\\begin{pmatrix} 0 & 0 \\\\ 0 & -\\frac{1}{RC} \\end{pmatrix}}_{A_1} \\begin{pmatrix} i_m \\\\ v_o \\end{pmatrix} + \\underbrace{\\begin{pmatrix} \\frac{1}{L_m} \\\\ 0 \\end{pmatrix}}_{B_1} V_g $$\n\n**2. 状态 2：开关关断（区间 $(1-d) T_s$）**\n\n在此区间内，开关断开。存储在励磁电感中的能量被传输到副边。$L_m$ 中的电流迫使副边的二极管正向导通，将副边电压钳位在 $v_s = v_o$。使用理想变压器电压关系 $v_p/v_s = 1/n$，反射到原边的电压为 $v_p = v_s/n = v_o/n$。该电压出现在励磁电感两端，其极性与电流方向相反，因此 $v_{L_m} = -v_o/n$。\n$$ \\frac{di_m}{dt} = -\\frac{v_o}{n L_m} $$\n在副边，反射到副边的励磁电流为 $i_s = i_m / n$。该电流是二极管电流，它分流到输出电容和负载电阻中。电容电流为 $i_C = i_s - i_R = i_m/n - v_o/R$。\n$$ \\frac{dv_o}{dt} = \\frac{i_C}{C} = \\frac{i_m}{nC} - \\frac{v_o}{RC} $$\n此区间的状态空间表示为 $\\dot{x} = A_2 x + B_2 v_g$:\n$$ \\frac{d}{dt}\\begin{pmatrix} i_m \\\\ v_o \\end{pmatrix} = \\underbrace{\\begin{pmatrix} 0 & -\\frac{1}{n L_m} \\\\ \\frac{1}{nC} & -\\frac{1}{RC} \\end{pmatrix}}_{A_2} \\begin{pmatrix} i_m \\\\ v_o \\end{pmatrix} + \\underbrace{\\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}}_{B_2} V_g $$\n\n**3. 状态空间平均**\n\n通过将每个子区间的矩阵按其持续时间加权，得到平均状态空间模型。设 $d$ 为占空比。\n$A = d A_1 + (1-d) A_2$\n$B = d B_1 + (1-d) B_2$\n$$ A = d\\begin{pmatrix} 0 & 0 \\\\ 0 & -\\frac{1}{RC} \\end{pmatrix} + (1-d)\\begin{pmatrix} 0 & -\\frac{1}{n L_m} \\\\ \\frac{1}{nC} & -\\frac{1}{RC} \\end{pmatrix} = \\begin{pmatrix} 0 & -\\frac{1-d}{n L_m} \\\\ \\frac{1-d}{nC} & -\\frac{1}{RC} \\end{pmatrix} $$\n$$ B = d\\begin{pmatrix} \\frac{1}{L_m} \\\\ 0 \\end{pmatrix} + (1-d)\\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\frac{d}{L_m} \\\\ 0 \\end{pmatrix} $$\n平均后的系统为 $\\dot{x} = Ax + Bv_g$。\n\n**4. 直流工作点**\n\n在稳态 (DC) 下，时间导数为零，状态变量和占空比为常数：$x(t) = X = \\begin{pmatrix} I_m & V_o \\end{pmatrix}^T$ 且 $d(t) = D$。\n$0 = AX + BV_g$\n$$ 0 = -\\frac{1-D}{n L_m} V_o + \\frac{D}{L_m} V_g \\implies V_o = V_g \\frac{nD}{1-D} $$\n$$ 0 = \\frac{1-D}{nC} I_m - \\frac{1}{RC} V_o \\implies I_m = \\frac{n V_o}{(1-D)R} = V_g \\frac{n^2 D}{(1-D)^2 R} $$\n\n**5. 小信号线性化**\n\n我们引入小的交流扰动：$x(t) = X + \\hat{x}(t)$，$d(t) = D + \\hat{d}(t)$，$v_g(t) = V_g + \\hat{v}_g(t)$。由于 $V_g$ 是恒定的，所以 $\\hat{v}_g(t)=0$。线性化的小信号模型为：\n$\\dot{\\hat{x}} = A\\hat{x} + B\\hat{v}_g + [(A_1-A_2)X + (B_1-B_2)V_g]\\hat{d}$\n当 $\\hat{v}_g = 0$ 时，该式变为 $\\dot{\\hat{x}} = A\\hat{x} + B_d \\hat{d}$，其中 $A$ 是在 $D$ 处求值的平均矩阵，而 $B_d$ 是控制输入矩阵。\n$A_1-A_2 = \\begin{pmatrix} 0 & \\frac{1}{nL_m} \\\\ -\\frac{1}{nC} & 0 \\end{pmatrix}$\n$B_1-B_2 = \\begin{pmatrix} \\frac{1}{L_m} \\\\ 0 \\end{pmatrix}$\n$B_d = (A_1-A_2)X + (B_1-B_2)V_g = \\begin{pmatrix} 0 & \\frac{1}{nL_m} \\\\ -\\frac{1}{nC} & 0 \\end{pmatrix} \\begin{pmatrix} I_m \\\\ V_o \\end{pmatrix} + \\begin{pmatrix} \\frac{1}{L_m} \\\\ 0 \\end{pmatrix} V_g = \\begin{pmatrix} \\frac{V_o}{nL_m} + \\frac{V_g}{L_m} \\\\ -\\frac{I_m}{nC} \\end{pmatrix}$\n使用直流关系，我们简化 $B_d$。令 $D' = 1-D$。\n$\\frac{V_o}{nL_m} + \\frac{V_g}{L_m} = \\frac{1}{L_m}(\\frac{V_o}{n} + V_g) = \\frac{V_g}{L_m}(\\frac{D}{D'} + 1) = \\frac{V_g}{D'L_m}$\n$-\\frac{I_m}{nC} = -\\frac{1}{nC} \\frac{n V_o}{D'R} = -\\frac{V_o}{D'RC}$\n所以，线性化模型为：\n$$ \\frac{d}{dt}\\begin{pmatrix} \\hat{i}_m \\\\ \\hat{v}_o \\end{pmatrix} = \\begin{pmatrix} 0 & -\\frac{D'}{n L_m} \\\\ \\frac{D'}{nC} & -\\frac{1}{RC} \\end{pmatrix} \\begin{pmatrix} \\hat{i}_m \\\\ \\hat{v}_o \\end{pmatrix} + \\begin{pmatrix} \\frac{V_g}{D'L_m} \\\\ -\\frac{V_o}{D'RC} \\end{pmatrix} \\hat{d} $$\n输出方程为 $\\hat{v}_o(t) = \\begin{pmatrix} 0 & 1 \\end{pmatrix} \\hat{x}(t)$。\n\n**6. 传递函数推导**\n\n传递函数 $G_{vd}(s) = \\hat{v}_o(s)/\\hat{d}(s)$ 由 $C_{ss}(sI - A)^{-1}B_d + E_{ss}$ 给出，其中 $C_{ss} = \\begin{pmatrix} 0 & 1 \\end{pmatrix}$ 且 $E_{ss}=0$。\n$$ sI - A = \\begin{pmatrix} s & \\frac{D'}{nL_m} \\\\ -\\frac{D'}{nC} & s + \\frac{1}{RC} \\end{pmatrix} $$\n$$ \\det(sI - A) = s\\left(s+\\frac{1}{RC}\\right) + \\frac{(D')^2}{n^2 L_m C} = s^2 + \\frac{s}{RC} + \\frac{(D')^2}{n^2 L_m C} $$\n$$ (sI - A)^{-1} = \\frac{1}{\\det(sI-A)} \\begin{pmatrix} s+\\frac{1}{RC} & -\\frac{D'}{nL_m} \\\\ \\frac{D'}{nC} & s \\end{pmatrix} $$\n现在，我们计算 $G_{vd}(s) = C_{ss} (sI - A)^{-1} B_d$：\n$$ G_{vd}(s) = \\frac{1}{\\det(sI-A)} \\begin{pmatrix} 0 & 1 \\end{pmatrix} \\begin{pmatrix} s+\\frac{1}{RC} & -\\frac{D'}{nL_m} \\\\ \\frac{D'}{nC} & s \\end{pmatrix} \\begin{pmatrix} \\frac{V_g}{D'L_m} \\\\ -\\frac{V_o}{D'RC} \\end{pmatrix} $$\n$$ G_{vd}(s) = \\frac{1}{\\det(sI-A)} \\left[ \\left(\\frac{D'}{nC}\\right)\\left(\\frac{V_g}{D'L_m}\\right) + s\\left(-\\frac{V_o}{D'RC}\\right) \\right] $$\n$$ G_{vd}(s) = \\frac{\\frac{V_g}{nL_mC} - s\\frac{V_o}{D'RC}}{s^2 + \\frac{s}{RC} + \\frac{(D')^2}{n^2 L_m C}} $$\n代入 $V_o = V_g \\frac{nD}{D'}$ 和 $D' = 1-D$：\n$$ G_{vd}(s) = \\frac{\\frac{V_g}{nL_mC} - s\\frac{V_g nD}{(D')^2 RC}}{s^2 + \\frac{s}{RC} + \\frac{(D')^2}{n^2 L_m C}} = \\frac{\\frac{V_g}{nL_mC}\\left(1-s\\frac{n^2 D L_m}{(D')^2 R}\\right)}{s^2 + \\frac{s}{RC} + \\frac{(D')^2}{n^2 L_m C}} $$\n用给定参数表示的传递函数的最终表达式：\n$$ G_{vd}(s) = \\frac{\\frac{V_g}{n L_m C} \\left( 1 - s \\frac{n^2 D L_m}{(1-D)^2 R} \\right)}{s^2 + \\frac{s}{RC} + \\frac{(1-D)^2}{n^2 L_m C}} $$\n\n**7. 右半平面 (RHP) 零点**\n\n传递函数的零点 $s_z$ 可通过将分子设为零来求得：\n$$ 1 - s_z \\frac{n^2 D L_m}{(1-D)^2 R} = 0 $$\n求解 $s_z$ 得到零点的位置：\n$$ s_z = \\frac{(1-D)^2 R}{n^2 D L_m} $$\n由于所有参数 $R, L_m, D, n$ 均为正数，因此 $s_z$ 是一个正实数，这证实了它是一个右半平面 (RHP) 零点。该零点的频率 $\\omega_z$ 即为这个值，单位是 rad/s。\n$$ \\omega_z = \\frac{(1-D)^2 R}{n^2 D L_m} $$",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{\\frac{V_g}{n L_m C} \\left( 1 - s \\frac{n^2 D L_m}{(1-D)^2 R} \\right)}{s^2 + \\frac{s}{RC} + \\frac{(1-D)^2}{n^2 L_m C}} & \\frac{(1-D)^2 R}{n^2 D L_m}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "小信号模型不仅用于分析控制响应，也用于表征变换器与其他系统的交互，例如其对负载变化的响应。本练习将焦点从控制传递函数转移到开环输出阻抗 $Z_{\\text{out}}(s)$，并考虑了寄生电阻的影响。 通过这个过程，您将深入理解为什么像右半平面零点这样的特性会出现在某些传递函数中，而不会出现在另一些中，从而加深对模型物理意义的认识。",
            "id": "3880511",
            "problem": "考虑一个工作在连续导通模式下的升压变换器，该变换器包含一个理想二极管和一个理想受控开关，输入源电压为 $V_{g}$，电感为 $L$ 且带有串联电阻 $r_{L}$，输出网络由一个电容 $C$ 及其串联的等效串联电阻 $r_{C}$ 连接到输出节点，以及一个从输出节点接地的阻性负载 $R$ 组成。占空比 $D$ 是恒定的，输入源电压 $V_{g}$ 不变。假设平均模型是通过状态空间平均法（SSA）得到的，并且所有寄生电阻虽小但非零。定义小信号开环输出阻抗 $Z_{\\text{out}}(s)$ 为小信号输出电压扰动 $\\hat{v}_{o}(s)$ 与在输出节点注入的小信号电流 $\\hat{i}_{\\text{inj}}(s)$ 之比，其中 $\\hat{i}_{\\text{inj}}$ 流入输出节点为正，同时占空比和输入源保持其稳态值不变。\n\n仅从基尔霍夫电压定律（KVL）、基尔霍夫电流定律（KCL）以及电容和电感的本构关系所蕴含的基本平均定律出发，推导小信号线性化平均模型，并用其求出 $Z_{\\text{out}}(s)$，推导过程中需完全考虑 $r_{L}$ 和 $r_{C}$ 的影响。请将最终答案表示为仅含 $s$、$L$、$r_{L}$、$C$、$r_{C}$、$R$ 和 $D$ 的单个闭式解析表达式。根据您的推导，简要解释升压变换器特有的右半平面零点是如何在该阻抗响应中出现（或不出现）的。无需进行数值计算。请提供精确的表达式，无需四舍五入。最终表达式中无需包含单位。",
            "solution": "经过审查，该问题仍然有效。这是一个在电力电子分析领域中定义明确、具有科学依据的问题。\n\n对于指定的升压变换器，其小信号开环输出阻抗 $Z_{\\text{out}}(s)$ 的推导始于建立平均模型，该模型描述了在比单个开关周期更长的时间尺度上电路的动态特性。我们选择电感电流 $\\langle i_L \\rangle$ 和纯电容两端的电压 $\\langle v_C \\rangle$ 作为状态变量。输出电压 $\\langle v_o \\rangle$ 包括了电容等效串联电阻（ESR）$r_C$ 上的电压降。\n\n通过将基尔霍夫定律应用于电路，并在一个开关周期 $T_s$ 内进行平均，可以推导出基本平均方程。\n\n1.  **平均电感电压定律：** 电感 $L$ 上的平均电压由开关位置决定。\n    -   当开关闭合时（持续时间 $D T_s$），施加在 $L-r_L$ 串联组合上的电压为 $\\langle v_g \\rangle$。\n    -   当开关断开时（持续时间 $(1-D)T_s$），电压为 $\\langle v_g \\rangle - \\langle v_o \\rangle$。\n    将这些电压平均，得到电感支路的方程：\n    $$L \\frac{d\\langle i_L \\rangle}{dt} + \\langle i_L \\rangle r_L = D \\langle v_g \\rangle + (1-D)(\\langle v_g \\rangle - \\langle v_o \\rangle)$$\n    $$L \\frac{d\\langle i_L \\rangle}{dt} = \\langle v_g \\rangle - \\langle i_L \\rangle r_L - (1-D)\\langle v_o \\rangle$$\n\n2.  **平均输出节点电流定律：** 由开关动作输送到输出级的电流为 $(1-D)\\langle i_L \\rangle$。该电流在负载电阻 $R$ 和电容支路（$C$ 与 $r_C$ 串联）之间分流。为定义输出阻抗，在输出节点注入一个外部电流源 $\\langle i_{\\text{inj}} \\rangle$。\n    流入电容支路的电流为 $\\langle i_C \\rangle = C \\frac{d\\langle v_C \\rangle}{dt}$。流入负载的电流为 $\\frac{\\langle v_o \\rangle}{R}$。输出节点的 KCL 方程为：\n    $$(1-D)\\langle i_L \\rangle + \\langle i_{\\text{inj}} \\rangle = \\frac{\\langle v_o \\rangle}{R} + \\langle i_C \\rangle$$\n    $$C \\frac{d\\langle v_C \\rangle}{dt} = (1-D)\\langle i_L \\rangle - \\frac{\\langle v_o \\rangle}{R} + \\langle i_{\\text{inj}} \\rangle$$\n\n3.  **输出电压关系：** 输出电压 $\\langle v_o \\rangle$ 是电容两端电压 $\\langle v_C \\rangle$ 与其 ESR $r_C$ 上电压降 $r_C \\langle i_C \\rangle$ 的和。\n    $$\\langle v_o \\rangle = \\langle v_C \\rangle + r_C \\langle i_C \\rangle = \\langle v_C \\rangle + r_C C \\frac{d\\langle v_C \\rangle}{dt}$$\n\n为了找到小信号模型，我们围绕直流静态工作点对每个变量进行扰动：$\\langle v_g \\rangle = V_g + \\hat{v}_g$，$\\langle i_L \\rangle = I_L + \\hat{i}_L$，$\\langle v_C \\rangle = V_C + \\hat{v}_C$，$\\langle v_o \\rangle = V_o + \\hat{v}_o$，$D = D + \\hat{d}$，以及 $\\langle i_{\\text{inj}} \\rangle = 0 + \\hat{i}_{\\text{inj}}$。然后，我们通过只保留一阶（小信号）项来线性化这些方程。\n\n在计算输出阻抗时，控制输入和源电压保持不变，因此 $\\hat{d}=0$ 且 $\\hat{v}_g=0$。线性化的交流方程如下：\n\n1.  来自电感电压方程：\n    $$L \\frac{d\\hat{i}_L}{dt} = -\\hat{i}_L r_L - (1-D)\\hat{v}_o$$\n\n2.  来自输出节点电流方程：\n    $$C \\frac{d\\hat{v}_C}{dt} = (1-D)\\hat{i}_L - \\frac{\\hat{v}_o}{R} + \\hat{i}_{\\text{inj}}$$\n\n3.  来自输出电压关系：\n    $$\\hat{v}_o = \\hat{v}_C + r_C C \\frac{d\\hat{v}_C}{dt}$$\n\n接下来，我们通过将 $\\frac{d}{dt}$ 替换为复频率变量 $s$，将这些时域微分方程转换到拉普拉斯域。\n\n1.  $sL\\hat{i}_L(s) = -r_L\\hat{i}_L(s) - (1-D)\\hat{v}_o(s)$\n    $$(sL+r_L)\\hat{i}_L(s) = -(1-D)\\hat{v}_o(s) \\implies \\hat{i}_L(s) = -\\frac{1-D}{sL+r_L}\\hat{v}_o(s)$$\n\n2.  $sC\\hat{v}_C(s) = (1-D)\\hat{i}_L(s) - \\frac{\\hat{v}_o(s)}{R} + \\hat{i}_{\\text{inj}}(s)$\n\n3.  $\\hat{v}_o(s) = \\hat{v}_C(s) + sCr_C\\hat{v}_C(s) = (1+sCr_C)\\hat{v}_C(s)$\n    $$\\implies \\hat{v}_C(s) = \\frac{\\hat{v}_o(s)}{1+sCr_C}$$\n\n现在，我们将 $\\hat{i}_L(s)$ 和 $\\hat{v}_C(s)$ 的表达式代入经过拉普拉斯变换的 KCL 方程中：\n$$sC \\left( \\frac{\\hat{v}_o(s)}{1+sCr_C} \\right) = (1-D)\\left( -\\frac{1-D}{sL+r_L}\\hat{v}_o(s) \\right) - \\frac{\\hat{v}_o(s)}{R} + \\hat{i}_{\\text{inj}}(s)$$\n\n为了求出输出阻抗 $Z_{\\text{out}}(s) = \\frac{\\hat{v}_o(s)}{\\hat{i}_{\\text{inj}}(s)}$，我们重新整理方程以分离出 $\\hat{i}_{\\text{inj}}(s)$：\n$$\\hat{i}_{\\text{inj}}(s) = \\hat{v}_o(s) \\left[ \\frac{sC}{1+sCr_C} + \\frac{(1-D)^2}{sL+r_L} + \\frac{1}{R} \\right]$$\n\n输出阻抗是方括号中项的倒数。这表明 $Z_{\\text{out}}(s)$ 是三个阻抗的并联组合：电容及其 ESR 的阻抗（$r_C + \\frac{1}{sC}$），折算到输出端的有源输入级的阻抗（$\\frac{sL+r_L}{(1-D)^2}$），以及负载电阻 $R$。\n\n为了得到单个闭式表达式，我们将导纳表达式中的各项合并：\n$$\\frac{1}{Z_{\\text{out}}(s)} = \\frac{ sCR(sL+r_L) + (1-D)^2 R(1+sCr_C) + (sL+r_L)(1+sCr_C) }{R(sL+r_L)(1+sCr_C)}$$\n取倒数得到输出阻抗的最终表达式：\n$$Z_{\\text{out}}(s) = \\frac{R(sL+r_L)(1+sCr_C)}{sCR(sL+r_L) + (1-D)^2 R(1+sCr_C) + (sL+r_L)(1+sCr_C)}$$\n通过对分母进行因式分解，可以将其写成更结构化的形式：\n$$Z_{\\text{out}}(s) = \\frac{R(sL+r_L)(1+sCr_C)}{(sL+r_L)(1+sC(R+r_C)) + (1-D)^2R(1+sCr_C)}$$\n\n**关于右半平面零点（RHPZ）：**\n升压变换器的右半平面零点特性出现在其控制到输出的传递函数 $G_{vd}(s) = \\hat{v}_o(s)/\\hat{d}(s)$ 中，而不是其输出阻抗 $Z_{\\text{out}}(s)$ 中。产生右半平面零点的物理原因是其两阶段的功率传输过程：占空比 $D$ 的增加首先延长了电感从输入端充电的时间，使其与输出端断开。这会导致输出电压在初始阶段下降，之后更大的储能才被传递到输出端，引起随后的电压上升。这种非最小相位行为（“先朝错误方向变化”）在数学上被建模为复S平面右半部分的一个零点。\n\n在输出阻抗 $Z_{\\text{out}}(s)$ 的推导中，占空比是保持不变的（$\\hat{d}=0$）。系统的响应完全是由于无源的平均电路对外部电流注入的反应。导致右半平面零点的动态行为——即开关占空比的主动调制——在这种情况下是不存在的。\n$Z_{\\text{out}}(s)$ 的零点由其表达式的分子确定：$R(sL+r_L)(1+sCr_C)=0$。这给出了两个零点：$s_1 = -r_L/L$ 和 $s_2 = -1/(Cr_C)$。由于 $L, C, r_L, r_C$ 都是正的物理量，这两个零点都位于左半平面。因此，输出阻抗不表现出右半平面零点。",
            "answer": "$$\\boxed{\\frac{R(sL+r_L)(1+sCr_C)}{(sL+r_L)(1+sC(R+r_C)) + (1-D)^2R(1+sCr_C)}}$$"
        }
    ]
}