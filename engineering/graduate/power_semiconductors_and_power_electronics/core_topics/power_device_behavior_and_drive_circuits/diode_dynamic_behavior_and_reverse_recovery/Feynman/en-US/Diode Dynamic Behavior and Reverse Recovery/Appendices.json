{
    "hands_on_practices": [
        {
            "introduction": "The reverse recovery charge, $Q_{rr}$, is a critical parameter that quantifies the extent of a diode's dynamic switching behavior. This exercise  provides a foundational approach to understanding its definition as the total charge that flows during the recovery interval. By relating the integral of the reverse current to key waveform parameters like peak reverse current ($I_{RM}$) and recovery time ($t_{rr}$) using a simplified triangular model, you will build a strong intuition for how the shape of the current waveform determines the total stored charge that must be removed.",
            "id": "3834357",
            "problem": "A silicon power diode is commutated from a steady forward conduction state at time $t=0$ to a reverse voltage, producing a reverse-recovery current $I_{R}(t)$ over a finite interval $0 \\le t \\le t_{rr}$, where $t_{rr}$ is the total reverse-recovery time. Let the reverse-recovery current attain its maximum magnitude $I_{RM}0$ at time $t=t_{p}$, with $0t_{p}t_{rr}$. Define the reverse-recovery charge (RRC) $Q_{rr}$ by the time integral of the magnitude of the reverse current,\n$$\nQ_{rr}=\\int_{0}^{t_{rr}} \\left|I_{R}(t)\\right|\\,dt.\n$$\nIntroduce a dimensionless normalized time $\\tau=t/t_{rr}$ and a dimensionless normalized current-shape function $g(\\tau;\\mu)$ such that\n$$\nI_{R}(t)=-\\,I_{RM}\\,g\\!\\left(\\tfrac{t}{t_{rr}};\\mu\\right), \\quad 0\\le t\\le t_{rr},\n$$\nwith $0\\le g(\\tau;\\mu)\\le 1$ and $g(\\tau_{p};\\mu)=1$ at $\\tau_{p}=t_{p}/t_{rr}$. The parameter $\\mu$ is a dimensionless waveform-shape parameter that uniquely characterizes the current waveform shape $g$ within a modeling family.\n\nUsing only the fundamental definition of charge as the time integral of current and the above normalization, perform the following:\n\n- Derive a general expression relating $Q_{rr}$ to $I_{RM}$, $t_{rr}$, and the waveform-shape parameter $\\mu$ via an integral over $g(\\tau;\\mu)$.\n\n- Specialize this result to a piecewise-linear triangular reverse current approximation with possibly unequal rising and falling edge slopes. Let the storage interval duration be $t_{s}$ (from $t=0$ to $t=t_{p}$) and the fall interval duration be $t_{f}$ (from $t=t_{p}$ to $t=t_{rr}$), where $t_{rr}=t_{s}+t_{f}$. Define the softness factor $\\sigma=t_{f}/t_{s}$. For this triangular model, derive a closed-form expression for $Q_{rr}$ in terms of $I_{RM}$ and $t_{rr}$ alone.\n\nProvide your final answer as a single closed-form symbolic expression. Do not include units in your final answer. No numerical rounding is required.",
            "solution": "The problem is first validated to ensure it is self-contained, scientifically grounded, and well-posed. The givens are:\n- The reverse-recovery charge $Q_{rr}=\\int_{0}^{t_{rr}} \\left|I_{R}(t)\\right|\\,dt$.\n- The reverse-recovery current is modeled as $I_{R}(t)=-\\,I_{RM}\\,g\\!\\left(\\tfrac{t}{t_{rr}};\\mu\\right)$ for $0\\le t\\le t_{rr}$.\n- The parameters $I_{RM}$ and $t_{rr}$ represent the peak reverse current magnitude and total recovery time, respectively.\n- $g(\\tau;\\mu)$ is a normalized shape function with $0 \\le g \\le 1$ and $g(\\tau_p;\\mu) = 1$ at the time of peak current, $\\tau_p=t_p/t_{rr}$.\n- For the specific case, a triangular model is used where $t_{rr}=t_s+t_f$ and the softness factor is $\\sigma=t_f/t_s$. The time intervals $t_s$ and $t_f$ correspond to the rising and falling edges of the current magnitude.\n\nThe problem is valid as it deals with standard, formalizable concepts in power electronics and provides sufficient information for a unique solution.\n\nThe derivation proceeds in two parts as requested.\n\nFirst, we derive the general expression for the reverse-recovery charge $Q_{rr}$. We begin with the definition:\n$$\nQ_{rr} = \\int_{0}^{t_{rr}} |I_{R}(t)| \\, dt\n$$\nThe problem states that the reverse current is given by $I_{R}(t) = -I_{RM} g(t/t_{rr}; \\mu)$. The magnitude of the current is therefore:\n$$\n|I_{R}(t)| = |-I_{RM} g(t/t_{rr}; \\mu)|\n$$\nGiven that $I_{RM}  0$ and the normalized function $g$ satisfies $0 \\le g(\\tau;\\mu) \\le 1$, the magnitude simplifies to:\n$$\n|I_{R}(t)| = I_{RM} g(t/t_{rr}; \\mu)\n$$\nSubstituting this into the integral for $Q_{rr}$:\n$$\nQ_{rr} = \\int_{0}^{t_{rr}} I_{RM} g(t/t_{rr}; \\mu) \\, dt\n$$\nSince $I_{RM}$ is the peak value and thus a constant with respect to the integration variable $t$, it can be factored out of the integral:\n$$\nQ_{rr} = I_{RM} \\int_{0}^{t_{rr}} g(t/t_{rr}; \\mu) \\, dt\n$$\nTo simplify the integral, we perform a change of variables using the normalized time $\\tau = t/t_{rr}$. This implies $t = \\tau t_{rr}$ and the differential $dt = t_{rr} d\\tau$. The limits of integration for $\\tau$ are from $\\tau(0) = 0/t_{rr} = 0$ to $\\tau(t_{rr}) = t_{rr}/t_{rr} = 1$. The expression for $Q_{rr}$ becomes:\n$$\nQ_{rr} = I_{RM} \\int_{0}^{1} g(\\tau; \\mu) \\, (t_{rr} d\\tau)\n$$\nFactoring out the constant $t_{rr}$, we arrive at the general expression for $Q_{rr}$:\n$$\nQ_{rr} = I_{RM} t_{rr} \\int_{0}^{1} g(\\tau; \\mu) \\, d\\tau\n$$\nThis equation relates $Q_{rr}$ to $I_{RM}$, $t_{rr}$, and the definite integral of the normalized current-shape function $g(\\tau;\\mu)$, which depends on the shape parameter $\\mu$. This completes the first part of the derivation.\n\nSecond, we specialize this result to the piecewise-linear triangular reverse current approximation. The magnitude of the current, $|I_R(t)|$, increases linearly from $0$ to $I_{RM}$ over the storage interval $t_s = t_p$, and then decreases linearly from $I_{RM}$ to $0$ over the fall interval $t_f = t_{rr} - t_s$.\n\nThe total charge $Q_{rr}$ is the area under the $|I_R(t)|$ versus $t$ curve. For a triangular waveform, this area is simply the area of a triangle with base $t_{rr}$ and height $I_{RM}$. The formula for the area of a triangle is $\\frac{1}{2} \\times \\text{base} \\times \\text{height}$.\n$$\nQ_{rr} = \\frac{1}{2} t_{rr} I_{RM}\n$$\nNotably, this result is independent of the individual values of $t_s$ and $t_f$, and thus independent of the softness factor $\\sigma = t_f/t_s$.\n\nTo formally demonstrate this by specializing the general result, we must first find the function $g(\\tau)$ for the triangular case and evaluate its integral. The dimensionless time of the peak is $\\tau_p = t_p/t_{rr} = t_s/t_{rr}$. The normalized shape function $g(\\tau) = |I_R(t)|/I_{RM}$ is:\n$$\ng(\\tau) = \\begin{cases} \\frac{\\tau}{\\tau_p}  \\text{for } 0 \\le \\tau \\le \\tau_p \\\\ \\frac{1-\\tau}{1-\\tau_p}  \\text{for } \\tau_p  \\tau \\le 1 \\end{cases}\n$$\nThe softness factor $\\sigma = t_f/t_s$ relates to $\\tau_p$ as $\\tau_p = t_s/(t_s+t_f) = 1/(1+t_f/t_s) = 1/(1+\\sigma)$. Thus, the shape parameter $\\mu$ for this family is $\\tau_p$ (or equivalently, $\\sigma$).\n\nNow, we evaluate the integral of $g(\\tau)$ from $0$ to $1$:\n$$\n\\int_{0}^{1} g(\\tau) \\, d\\tau = \\int_{0}^{\\tau_p} \\frac{\\tau}{\\tau_p} \\, d\\tau + \\int_{\\tau_p}^{1} \\frac{1-\\tau}{1-\\tau_p} \\, d\\tau\n$$\nEvaluating the first integral:\n$$\n\\int_{0}^{\\tau_p} \\frac{\\tau}{\\tau_p} \\, d\\tau = \\frac{1}{\\tau_p} \\left[ \\frac{\\tau^2}{2} \\right]_{0}^{\\tau_p} = \\frac{1}{\\tau_p} \\frac{\\tau_p^2}{2} = \\frac{\\tau_p}{2}\n$$\nEvaluating the second integral:\n$$\n\\int_{\\tau_p}^{1} \\frac{1-\\tau}{1-\\tau_p} \\, d\\tau = \\frac{1}{1-\\tau_p} \\left[ \\tau - \\frac{\\tau^2}{2} \\right]_{\\tau_p}^{1} = \\frac{1}{1-\\tau_p} \\left( \\left(1-\\frac{1^2}{2}\\right) - \\left(\\tau_p - \\frac{\\tau_p^2}{2}\\right) \\right) = \\frac{1}{1-\\tau_p} \\left( \\frac{1}{2} - \\tau_p + \\frac{\\tau_p^2}{2} \\right) = \\frac{1-2\\tau_p+\\tau_p^2}{2(1-\\tau_p)} = \\frac{(1-\\tau_p)^2}{2(1-\\tau_p)} = \\frac{1-\\tau_p}{2}\n$$\nThe sum of the two integrals is:\n$$\n\\int_{0}^{1} g(\\tau) \\, d\\tau = \\frac{\\tau_p}{2} + \\frac{1-\\tau_p}{2} = \\frac{\\tau_p + 1 - \\tau_p}{2} = \\frac{1}{2}\n$$\nThis demonstrates that for any triangular shape (i.e., for any value of $\\tau_p$ between $0$ and $1$, or any softness factor $\\sigma0$), the area under the normalized current curve is exactly $1/2$.\n\nSubstituting this value back into the general expression for $Q_{rr}$:\n$$\nQ_{rr} = I_{RM} t_{rr} \\left( \\frac{1}{2} \\right) = \\frac{1}{2} I_{RM} t_{rr}\n$$\nThis is the final closed-form expression for the reverse-recovery charge for the triangular current model, expressed solely in terms of the peak reverse current $I_{RM}$ and the total reverse-recovery time $t_{rr}$.",
            "answer": "$$\n\\boxed{\\frac{1}{2} I_{RM} t_{rr}}\n$$"
        },
        {
            "introduction": "In practice, the total charge measured during a reverse recovery event is composed of more than just the minority carrier charge. This problem  tackles a crucial aspect of experimental characterization: distinguishing the true reverse recovery charge ($Q_{rr}$) from the charge supplied to the diode's voltage-dependent junction capacitance ($Q_c$). Learning to deconstruct the measured charge into these two components is essential for accurately quantifying switching losses and correctly interpreting device datasheet parameters.",
            "id": "3834372",
            "problem": "A one-sided, long-lifetime power $p$-$n$ junction diode is commutated from forward conduction to reverse bias by a voltage source whose output rises from $0$ to a constant reverse level $V_{R}$ according to $v(t)=V_{R}\\!\\left(1-\\exp\\!\\left(-t/\\tau_{v}\\right)\\right)$ for $t\\geq 0$. The measured terminal reverse current is given for $t\\geq 0$ by $i_{\\text{meas}}(t)=I_{p}\\,\\exp\\!\\left(-t/\\tau_{c}\\right)$, where the decay reflects carrier extraction from the drift region. The diode’s small-signal junction capacitance is characterized by the voltage-dependent curve $C_{j}(V)=C_{0}\\,\\big(1+V/V_{\\text{bi}}\\big)^{-m}$, an accepted model for depletion capacitance in a reverse-biased junction with built-in potential $V_{\\text{bi}}$ and grading exponent $m$. Assume negligible series resistance and negligible diffusion capacitance under reverse bias so that the only displacement current is due to the depletion (junction) capacitance.\n\nUsing first principles that relate displacement current to the time rate of change of stored electrostatic charge in the depletion region, compute the fraction of the measured reverse charge attributable to the junction capacitance over the full transition from $V=0$ to $V=V_{R}$, and subtract this capacitive contribution from the total measured reverse charge to estimate the reverse recovery charge due to carrier extraction, denoted as $Q_{rr}$. Take the following parameter values: $V_{R}=400\\,\\text{V}$, $\\tau_{v}=50\\,\\text{ns}$, $I_{p}=20\\,\\text{A}$, $\\tau_{c}=120\\,\\text{ns}$, $C_{0}=150\\,\\text{pF}$, $V_{\\text{bi}}=0.7\\,\\text{V}$, and $m=\\tfrac{1}{2}$. Treat the observation window as sufficiently long that the measured current has effectively decayed to zero, i.e., approximate the total measured reverse charge by integrating $i_{\\text{meas}}(t)$ from $t=0$ to $t\\to\\infty$. Express the final $Q_{rr}$ in $\\mu\\text{C}$ and round your answer to three significant figures. The fraction should be computed as the ratio of the capacitive displacement charge to the total measured reverse charge, but you should only report the final $Q_{rr}$ value.",
            "solution": "The problem requires the calculation of the reverse recovery charge, $Q_{rr}$, which is associated with the extraction of stored minority carriers from the diode's drift region during reverse bias commutation. The total measured reverse charge, $Q_{\\text{meas}}$, is the time integral of the measured terminal current, $i_{\\text{meas}}(t)$. This total charge is composed of two components: the reverse recovery charge $Q_{rr}$ and the charge supplied to the voltage-dependent junction capacitance, $Q_c$. The relationship between these quantities is:\n$$Q_{\\text{meas}} = Q_{rr} + Q_c$$\nTo find $Q_{rr}$, we must first calculate $Q_{\\text{meas}}$ and $Q_c$ and then find their difference:\n$$Q_{rr} = Q_{\\text{meas}} - Q_c$$\n\nFirst, we calculate the total measured reverse charge, $Q_{\\text{meas}}$. The problem provides the measured current as a function of time, $i_{\\text{meas}}(t) = I_{p}\\,\\exp(-t/\\tau_{c})$. The total charge is the integral of this current over the entire recovery process, which is approximated as the integral from $t=0$ to $t\\to\\infty$.\n$$Q_{\\text{meas}} = \\int_{0}^{\\infty} i_{\\text{meas}}(t) \\,dt = \\int_{0}^{\\infty} I_{p}\\,\\exp\\left(-\\frac{t}{\\tau_{c}}\\right) \\,dt$$\nEvaluating this integral yields:\n$$Q_{\\text{meas}} = I_{p} \\left[ -\\tau_{c} \\exp\\left(-\\frac{t}{\\tau_{c}}\\right) \\right]_{0}^{\\infty} = I_{p} \\left( -\\tau_{c}(0) - (-\\tau_{c}(1)) \\right) = I_{p}\\tau_{c}$$\nUsing the provided numerical values, $I_{p}=20\\,\\text{A}$ and $\\tau_{c}=120\\,\\text{ns} = 120 \\times 10^{-9}\\,\\text{s}$:\n$$Q_{\\text{meas}} = (20\\,\\text{A}) \\times (120 \\times 10^{-9}\\,\\text{s}) = 2400 \\times 10^{-9}\\,\\text{C} = 2.4 \\times 10^{-6}\\,\\text{C}$$\n\nNext, we calculate the capacitive charge, $Q_c$. This charge corresponds to the change in stored electrostatic charge in the depletion region as the reverse voltage across the junction changes. The displacement current is $i_c(t) = dQ_j/dt$, where $Q_j$ is the charge stored on the junction capacitance. The total capacitive charge is the time integral of this current, which is equivalent to the total change in stored charge, $\\Delta Q_j = Q_j(V_f) - Q_j(V_i)$, where $V_i$ and $V_f$ are the initial and final junction voltages, respectively.\nBy definition, the junction capacitance is $C_j(V) = dQ_j/dV$. Therefore, the change in stored charge can be found by integrating the capacitance with respect to voltage:\n$$Q_c = \\int_{V_i}^{V_f} C_j(V)\\,dV$$\nThe applied reverse voltage is given by $v(t)=V_{R}(1-\\exp(-t/\\tau_{v}))$. The initial voltage at $t=0$ is $V_i = v(0) = V_{R}(1-\\exp(0)) = 0\\,\\text{V}$. The final voltage as $t\\to\\infty$ is $V_f = v(\\infty) = V_{R}$. The voltage variable $V$ in the given capacitance model, $C_{j}(V)=C_{0}(1+V/V_{\\text{bi}})^{-m}$, represents the magnitude of the reverse bias voltage. Thus, the integration is performed from $V=0$ to $V=V_R$.\n$$Q_c = \\int_{0}^{V_R} C_{0}\\left(1+\\frac{V}{V_{\\text{bi}}}\\right)^{-m}\\,dV$$\nFor $m \\neq 1$, this integral is:\n$$Q_c = C_0 \\left[ \\frac{\\left(1+\\frac{V}{V_{\\text{bi}}}\\right)^{-m+1}}{(-m+1) \\cdot (1/V_{\\text{bi}})} \\right]_0^{V_R} = \\frac{C_0 V_{\\text{bi}}}{1-m} \\left[ \\left(1+\\frac{V}{V_{\\text{bi}}}\\right)^{1-m} \\right]_0^{V_R}$$\n$$Q_c = \\frac{C_0 V_{\\text{bi}}}{1-m} \\left( \\left(1+\\frac{V_R}{V_{\\text{bi}}}\\right)^{1-m} - (1+0)^{1-m} \\right) = \\frac{C_0 V_{\\text{bi}}}{1-m} \\left( \\left(1+\\frac{V_R}{V_{\\text{bi}}}\\right)^{1-m} - 1 \\right)$$\nSubstituting the given parameter $m=1/2$:\n$$Q_c = \\frac{C_0 V_{\\text{bi}}}{1-1/2} \\left( \\left(1+\\frac{V_R}{V_{\\text{bi}}}\\right)^{1-1/2} - 1 \\right) = 2C_0 V_{\\text{bi}} \\left( \\sqrt{1+\\frac{V_R}{V_{\\text{bi}}}} - 1 \\right)$$\nNow, we substitute the numerical values: $C_{0}=150\\,\\text{pF} = 150 \\times 10^{-12}\\,\\text{F}$, $V_{\\text{bi}}=0.7\\,\\text{V}$, and $V_{R}=400\\,\\text{V}$.\n$$Q_c = 2(150 \\times 10^{-12}\\,\\text{F})(0.7\\,\\text{V}) \\left( \\sqrt{1+\\frac{400}{0.7}} - 1 \\right)$$\n$$Q_c = 2.1 \\times 10^{-10} \\left( \\sqrt{1+\\frac{400}{0.7}} - 1 \\right) = 2.1 \\times 10^{-10} \\left( \\sqrt{\\frac{400.7}{0.7}} - 1 \\right)$$\n$$Q_c \\approx 2.1 \\times 10^{-10} \\left( \\sqrt{572.42857} - 1 \\right) \\approx 2.1 \\times 10^{-10} (23.92548 - 1)$$\n$$Q_c \\approx 2.1 \\times 10^{-10} (22.92548) \\approx 4.81435 \\times 10^{-9}\\,\\text{C}$$\n\nFinally, we calculate the reverse recovery charge $Q_{rr}$ by subtracting $Q_c$ from $Q_{\\text{meas}}$.\n$$Q_{rr} = Q_{\\text{meas}} - Q_c \\approx 2.4 \\times 10^{-6}\\,\\text{C} - 4.81435 \\times 10^{-9}\\,\\text{C}$$\n$$Q_{rr} \\approx (2.4 \\times 10^{-6} - 0.00481435 \\times 10^{-6})\\,\\text{C} \\approx 2.39518565 \\times 10^{-6}\\,\\text{C}$$\nThe problem requests the final answer in microcoulombs ($\\mu\\text{C}$) rounded to three significant figures.\n$$Q_{rr} \\approx 2.39518565\\,\\mu\\text{C}$$\nRounding to three significant figures gives:\n$$Q_{rr} \\approx 2.40\\,\\mu\\text{C}$$\nThe value of $\\tau_v$ is irrelevant to the total charge calculation, as the total change in capacitive charge depends only on the initial and final states of the voltage, not the path taken between them.",
            "answer": "$$\\boxed{2.40}$$"
        },
        {
            "introduction": "While many applications involve rapid, forced commutation where external current dominates charge extraction, it is highly instructive to consider the opposite physical limit. This exercise  explores the scenario where recovery is governed purely by internal recombination, with negligible external current. By analyzing this recombination-dominated decay, you will derive the fundamental relationship between the minority-carrier lifetime ($\\tau$) and the reverse recovery time, gaining a deeper appreciation for the underlying semiconductor physics that dictates a diode's dynamic performance.",
            "id": "3834411",
            "problem": "Consider a one-dimensional, long-base, low-level-injection $p^{+}$-$n$ diode of cross-sectional area $A$ and uniform donor doping $N_{D}$ in the $n$-type base. Let the excess minority-carrier distribution in the $n$-type base under steady forward conduction be $\\Delta p(x, t)$, where $x \\in [0, W]$ measures distance from the metallurgical $p^{+}$-$n$ junction into the $n$-type base of width $W$. Assume Shockley–Read–Hall (SRH) recombination with a spatially uniform minority-carrier lifetime $\\tau$, negligible Auger or radiative processes, and negligible generation ($G = 0$) for $t \\geq 0$. At time $t = 0$, the external circuit applies a small reverse voltage such that the externally supplied terminal current $i_{\\text{ext}}(t)$ ramps toward a small reverse value with $\\mathrm{d}i_{\\text{ext}}/\\mathrm{d}t \\to 0$, i.e., the terminal current available to extract charge is negligible compared to the internal recombination rate throughout the transient. The junction electric field is sufficiently weak that drift does not significantly alter the integrated charge balance compared to recombination under these conditions. Diffusion redistributes carriers but does not change the total stored charge except through boundary fluxes that are negligible when $i_{\\text{ext}}(t)$ is negligible.\n\nDefine the total stored excess charge in the neutral regions at time $t$ as\n$$\nQ(t) = qA \\int_{0}^{W} \\Delta p(x, t)\\,\\mathrm{d}x + qA \\int_{-W_{p}}^{0} \\Delta n(x, t)\\,\\mathrm{d}x,\n$$\nwhere $\\Delta n(x, t)$ is the excess minority-electron density in the $p$-type region of width $W_{p}$, and $q$ is the elementary charge. Assume the same lifetime $\\tau$ applies to both excess populations in low-level injection, and that the device remains quasi-neutral in the neutral regions during the transient.\n\nStarting from the carrier continuity equation and charge conservation, obtain the governing equation for $Q(t)$ in the limit $\\mathrm{d}I/\\mathrm{d}t \\to 0$ when extraction is dominated by recombination rather than externally supplied current. Let $Q(0) = Q_{0}$ be the initial stored charge at $t = 0$ set by the preceding steady forward conduction, and define $Q_{\\text{crit}}$ as the critical residual charge at which the diode’s conductivity modulation is sufficiently diminished for the space-charge region to re-establish blocking under the applied reverse voltage, so that reverse recovery is deemed complete.\n\nDerive, in closed form, the expression for the reverse-recovery time $t_{\\mathrm{rr}}$ in terms of $\\tau$, $Q_{0}$, and $Q_{\\text{crit}}$ under the stated assumptions. Express your final answer as a single analytic expression. No numerical evaluation is required, and no units should be included in the final boxed answer.",
            "solution": "### Problem Validation\n\n#### Step 1: Extract Givens\n- **Device Type**: A one-dimensional, long-base, low-level-injection $p^{+}$-$n$ diode.\n- **Geometry**: Cross-sectional area $A$, $n$-type base width $W$, $p$-type region width $W_p$.\n- **Doping**: Uniform donor doping $N_{D}$ in the $n$-type base.\n- **Carrier Distributions**: Excess minority-carrier hole density $\\Delta p(x, t)$ in the $n$-base ($x \\in [0, W]$), and excess minority-carrier electron density $\\Delta n(x, t)$ in the $p$-region ($x \\in [-W_p, 0]$).\n- **Physical Processes**: Shockley–Read–Hall (SRH) recombination with a spatially uniform minority-carrier lifetime $\\tau$. Auger and radiative processes are negligible. Generation rate $G = 0$ for $t \\geq 0$.\n- **Transient Conditions**: At $t=0$, a small reverse voltage is applied. The externally supplied terminal current $i_{\\text{ext}}(t)$ is negligible compared to the internal recombination rate, characterized by the limit $\\mathrm{d}i_{\\text{ext}}/\\mathrm{d}t \\to 0$. drift and diffusion effects on total charge balance are negligible compared to recombination.\n- **Total Stored Charge**: The total stored excess charge in the neutral regions at time $t$ is defined as $Q(t) = qA \\int_{0}^{W} \\Delta p(x, t)\\,\\mathrm{d}x + qA \\int_{-W_{p}}^{0} \\Delta n(x, t)\\,\\mathrm{d}x$, where $q$ is the elementary charge.\n- **Initial and Final Conditions**: The initial stored charge at $t=0$ is $Q(0) = Q_{0}$. Reverse recovery is complete at time $t_{\\mathrm{rr}}$ when the charge decays to a critical value $Q(t_{\\mathrm{rr}}) = Q_{\\text{crit}}$.\n\n#### Step 2: Validate Using Extracted Givens\nThe problem is assessed against the validation criteria:\n- **Scientifically Grounded**: The problem is firmly based on the established principles of semiconductor device physics, specifically the carrier continuity equation, charge storage, and recombination mechanisms in a p-n junction diode. The concepts of minority-carrier lifetime, low-level injection, and reverse recovery are standard topics in power electronics and semiconductor physics.\n- **Well-Posed**: The problem provides all necessary definitions, initial conditions ($Q_0$), and a clear criterion for termination ($Q_{\\text{crit}}$). The governing physics is specified, and the simplifying assumptions (with negligible external current being a key one) are explicitly stated, leading to a unique, solvable model.\n- **Objective**: The problem is stated in precise, quantitative, and unbiased language. There are no subjective or opinion-based elements.\n- **Flaw Checklist**: The problem does not exhibit any of the listed flaws. It is scientifically sound, formalizable, complete, realistic within its stated idealizations, and well-structured.\n\n#### Step 3: Verdict and Action\nThe problem is valid. A complete solution will now be derived.\n\n### Solution Derivation\n\nThe derivation begins with the carrier continuity equations for the excess minority carriers in the neutral regions of the diode. For holes in the $n$-type base, the one-dimensional continuity equation is:\n$$\n\\frac{\\partial \\Delta p(x, t)}{\\partial t} = -\\frac{1}{q} \\frac{\\partial J_{p}(x, t)}{\\partial x} - \\frac{\\Delta p(x, t)}{\\tau} + G\n$$\nFor electrons in the $p$-type emitter, it is:\n$$\n\\frac{\\partial \\Delta n(x, t)}{\\partial t} = \\frac{1}{q} \\frac{\\partial J_{n}(x, t)}{\\partial x} - \\frac{\\Delta n(x, t)}{\\tau} + G\n$$\nThe problem states that generation is negligible, so $G = 0$. The lifetime $\\tau$ is assumed to be the same for both regions.\n\nThe total stored excess charge $Q(t)$ is defined as the sum of the excess charge in the $n$-base and the $p$-emitter:\n$$\nQ(t) = Q_{p}(t) + Q_{n}(t) = qA \\int_{0}^{W} \\Delta p(x, t)\\,\\mathrm{d}x + qA \\int_{-W_{p}}^{0} \\Delta n(x, t)\\,\\mathrm{d}x\n$$\nTo find the governing equation for $Q(t)$, we compute its time derivative, $\\frac{\\mathrm{d}Q}{\\mathrm{d}t}$. Using the Leibniz integral rule, since the integration limits are constant:\n$$\n\\frac{\\mathrm{d}Q}{\\mathrm{d}t} = qA \\int_{0}^{W} \\frac{\\partial \\Delta p(x, t)}{\\partial t}\\,\\mathrm{d}x + qA \\int_{-W_{p}}^{0} \\frac{\\partial \\Delta n(x, t)}{\\partial t}\\,\\mathrm{d}x\n$$\nSubstituting the continuity equations into this expression:\n$$\n\\frac{\\mathrm{d}Q}{\\mathrm{d}t} = qA \\int_{0}^{W} \\left( -\\frac{1}{q} \\frac{\\partial J_{p}}{\\partial x} - \\frac{\\Delta p}{\\tau} \\right) \\mathrm{d}x + qA \\int_{-W_{p}}^{0} \\left( \\frac{1}{q} \\frac{\\partial J_{n}}{\\partial x} - \\frac{\\Delta n}{\\tau} \\right) \\mathrm{d}x\n$$\nWe can separate the terms:\n$$\n\\frac{\\mathrm{d}Q}{\\mathrm{d}t} = -A \\int_{0}^{W} \\frac{\\partial J_{p}}{\\partial x} \\mathrm{d}x - \\frac{1}{\\tau} \\left( qA \\int_{0}^{W} \\Delta p \\,\\mathrm{d}x \\right) + A \\int_{-W_{p}}^{0} \\frac{\\partial J_{n}}{\\partial x} \\mathrm{d}x - \\frac{1}{\\tau} \\left( qA \\int_{-W_{p}}^{0} \\Delta n \\,\\mathrm{d}x \\right)\n$$\nThe integrals of the partial derivatives with respect to $x$ can be evaluated using the fundamental theorem of calculus:\n$$\n-A \\int_{0}^{W} \\frac{\\partial J_{p}}{\\partial x} \\mathrm{d}x = -A [J_{p}(W, t) - J_{p}(0, t)] = A J_{p}(0, t) - A J_{p}(W, t)\n$$\n$$\nA \\int_{-W_{p}}^{0} \\frac{\\partial J_{n}}{\\partial x} \\mathrm{d}x = A [J_{n}(0, t) - J_{n}(-W_{p}, t)]\n$$\nThe integral terms involving $\\Delta p$ and $\\Delta n$ are the definitions of the stored charges $Q_{p}(t)$ and $Q_{n}(t)$, respectively.\nSo, the equation becomes:\n$$\n\\frac{\\mathrm{d}Q}{\\mathrm{d}t} = \\left( A J_{p}(0, t) + A J_{n}(0, t) \\right) - \\left( A J_{p}(W, t) + A J_{n}(-W_{p}, t) \\right) - \\frac{Q_{p}(t)}{\\tau} - \\frac{Q_{n}(t)}{\\tau}\n$$\nLet's analyze the current terms:\n1.  The term $A[J_{p}(0, t) + J_{n}(0, t)]$ represents the total current crossing the metallurgical junction at $x=0$. In the absence of significant displacement current at the junction, this is equal to the total externally supplied terminal current, $i_{\\text{ext}}(t)$.\n2.  The term $A[J_{p}(W, t) + J_{n}(-W_{p}, t)]$ represents minority-carrier currents at the external ohmic contacts. For ideal ohmic contacts, these currents are zero, i.e., $J_{p}(W, t) = 0$ and $J_{n}(-W_{p}, t) = 0$.\n3.  The recombination term is $-\\frac{Q_{p}(t) + Q_{n}(t)}{\\tau} = -\\frac{Q(t)}{\\tau}$.\n\nSubstituting these identifications, we arrive at the general charge control equation for the diode:\n$$\n\\frac{\\mathrm{d}Q}{\\mathrm{d}t} = i_{\\text{ext}}(t) - \\frac{Q(t)}{\\tau}\n$$\nThe problem specifies a crucial condition: \"the terminal current available to extract charge is negligible compared to the internal recombination rate\". This implies we must set $i_{\\text{ext}}(t) \\approx 0$ for the entire transient period $t \\geq 0$. This scenario corresponds to an open-circuit decay of the stored charge.\nUnder this condition, the governing differential equation simplifies to:\n$$\n\\frac{\\mathrm{d}Q}{\\mathrm{d}t} = -\\frac{Q(t)}{\\tau}\n$$\nThis is a first-order linear ordinary differential equation for $Q(t)$. We can solve it by separation of variables:\n$$\n\\frac{\\mathrm{d}Q}{Q} = -\\frac{1}{\\tau} \\mathrm{d}t\n$$\nIntegrating both sides from the initial state ($t=0$, $Q=Q_0$) to a general state ($t$, $Q(t)$):\n$$\n\\int_{Q_{0}}^{Q(t)} \\frac{\\mathrm{d}Q'}{Q'} = \\int_{0}^{t} -\\frac{1}{\\tau} \\mathrm{d}t'\n$$\n$$\n[\\ln(Q')]_{Q_{0}}^{Q(t)} = -\\frac{1}{\\tau}[t']_{0}^{t}\n$$\n$$\n\\ln(Q(t)) - \\ln(Q_{0}) = -\\frac{t}{\\tau}\n$$\n$$\n\\ln\\left(\\frac{Q(t)}{Q_{0}}\\right) = -\\frac{t}{\\tau}\n$$\nSolving for $Q(t)$ gives the time evolution of the stored charge:\n$$\nQ(t) = Q_{0} \\exp\\left(-\\frac{t}{\\tau}\\right)\n$$\nThe reverse-recovery time, $t_{\\mathrm{rr}}$, is defined as the time at which the stored charge decays to the critical value $Q_{\\text{crit}}$. We set $t = t_{\\mathrm{rr}}$ and $Q(t_{\\mathrm{rr}}) = Q_{\\text{crit}}$:\n$$\nQ_{\\text{crit}} = Q_{0} \\exp\\left(-\\frac{t_{\\mathrm{rr}}}{\\tau}\\right)\n$$\nTo find $t_{\\mathrm{rr}}$, we solve this equation for $t_{\\mathrm{rr}}$:\n$$\n\\frac{Q_{\\text{crit}}}{Q_{0}} = \\exp\\left(-\\frac{t_{\\mathrm{rr}}}{\\tau}\\right)\n$$\nTaking the natural logarithm of both sides:\n$$\n\\ln\\left(\\frac{Q_{\\text{crit}}}{Q_{0}}\\right) = -\\frac{t_{\\mathrm{rr}}}{\\tau}\n$$\nFinally, isolating $t_{\\mathrm{rr}}$:\n$$\nt_{\\mathrm{rr}} = -\\tau \\ln\\left(\\frac{Q_{\\text{crit}}}{Q_{0}}\\right)\n$$\nUsing the logarithmic identity $\\ln(a/b) = -\\ln(b/a)$, we can write the expression in a more intuitive form:\n$$\nt_{\\mathrm{rr}} = \\tau \\ln\\left(\\frac{Q_{0}}{Q_{\\text{crit}}}\\right)\n$$\nThis is the closed-form expression for the reverse-recovery time under the specified condition of recombination-dominated charge decay.",
            "answer": "$$\\boxed{\\tau \\ln\\left(\\frac{Q_{0}}{Q_{\\text{crit}}}\\right)}$$"
        }
    ]
}