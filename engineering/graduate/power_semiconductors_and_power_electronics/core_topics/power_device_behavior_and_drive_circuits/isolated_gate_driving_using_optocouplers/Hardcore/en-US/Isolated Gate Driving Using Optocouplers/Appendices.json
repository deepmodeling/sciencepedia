{
    "hands_on_practices": [
        {
            "introduction": "A primary consideration in any gate driver design is determining the power required to switch the power transistor. This exercise guides you through a first-principles derivation of the average gate-drive power, a crucial parameter for sizing the isolated power supply and evaluating efficiency losses. By relating gate charge $Q_{g}$, drive voltage $V_{\\text{drive}}$, and switching frequency $f_{s}$, you'll develop a foundational tool for any power electronics designer .",
            "id": "3851571",
            "problem": "An isolated high-side Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) gate is driven through an optocoupler-based interface. The optocoupler drives a complementary totem-pole stage referenced to an isolated supply, which applies a rail-to-rail gate excitation between $0$ and $V_{\\text{drive}}$. The isolated supply is stiff, and the driver has sufficiently low output impedance that, during the turn-on interval, the pull-up device effectively connects the gate node to a constant-voltage source of magnitude $V_{\\text{drive}}$, and during the turn-off interval, the pull-down device connects the gate to the isolated ground. The MOSFET total gate charge specified at $V_{\\text{GS}} = V_{\\text{drive}}$ is $Q_{g}$ and includes all charge to fully charge the input capacitances through the Miller plateau. Assume that dynamic variations in the optocoupler transfer and driver output impedance do not change the total charge $Q_{g}$ required to reach $V_{\\text{GS}} = V_{\\text{drive}}$, and that any recovery of energy is negligible so that the energy drawn from the isolated supply during turn-on is entirely dissipated over a complete cycle within the driver and series resistances.\n\nStarting from the energy definition $E=\\int v(t)\\,i(t)\\,dt$ and the relation $i(t)=dQ/dt$, derive the energy drawn from the isolated gate-drive supply per complete switching cycle in terms of $V_{\\text{drive}}$ and $Q_{g}$. Then, for a switching frequency $f_{s}$, obtain the average gate-drive power drawn from the isolated supply.\n\nEvaluate this average power for a MOSFET with $Q_{g}=60\\ \\mathrm{nC}$ driven at $V_{\\text{drive}}=12\\ \\mathrm{V}$ and a switching frequency $f_{s}=200\\ \\mathrm{kHz}$. Round your final result to three significant figures and express it in watts (W).",
            "solution": "The fundamental starting point is the definition of energy delivered by a source,\n$$\nE=\\int v(t)\\,i(t)\\,dt,\n$$\ntogether with charge conservation through the gate branch,\n$$\ni(t)=\\frac{dQ}{dt}.\n$$\nDuring the turn-on transition, the pull-up device of the gate driver connects the gate node to a constant-voltage source of magnitude $V_{\\text{drive}}$. In this interval, the source voltage is $v(t)=V_{\\text{drive}}$, independent of the instantaneous gate voltage. Substituting $i(t)=dQ/dt$ gives\n$$\nE_{\\text{on}}=\\int_{\\text{turn-on}} v(t)\\,i(t)\\,dt=\\int_{\\text{turn-on}} V_{\\text{drive}}\\,\\frac{dQ}{dt}\\,dt=\\int_{Q=0}^{Q=Q_{g}} V_{\\text{drive}}\\,dQ=V_{\\text{drive}}\\,Q_{g}.\n$$\nThis expression is independent of the details of the charging waveform, the optocoupler dynamics, or the series resistance, provided the total charge delivered to reach $V_{\\text{GS}}=V_{\\text{drive}}$ is $Q_{g}$ and the supply is stiff.\n\nAt turn-off, the pull-down device connects the gate to the isolated ground and dissipates the electrostatic energy stored on the gate capacitance. There is no additional energy drawn from the $V_{\\text{drive}}$ source during turn-off in the idealized totem-pole configuration. Therefore, over a complete switching cycle, the net energy drawn from the isolated gate-drive supply is\n$$\nE_{\\text{cycle}}=E_{\\text{on}}=V_{\\text{drive}}\\,Q_{g}.\n$$\nThe average power drawn from the isolated supply for periodic switching at frequency $f_{s}$ is the energy per cycle times the cycle rate:\n$$\nP_{\\text{gate}}=E_{\\text{cycle}}\\,f_{s}=V_{\\text{drive}}\\,Q_{g}\\,f_{s}.\n$$\nNow evaluate numerically for $Q_{g}=60\\ \\mathrm{nC}$, $V_{\\text{drive}}=12\\ \\mathrm{V}$, and $f_{s}=200\\ \\mathrm{kHz}$:\n$$\nE_{\\text{cycle}}=V_{\\text{drive}}\\,Q_{g}=(12)\\times(60\\times 10^{-9})=720\\times 10^{-9}\\ \\mathrm{J}=7.20\\times 10^{-7}\\ \\mathrm{J},\n$$\nand\n$$\nP_{\\text{gate}}=E_{\\text{cycle}}\\,f_{s}=(7.20\\times 10^{-7})\\times(200\\times 10^{3})=1.44\\times 10^{-1}\\ \\mathrm{W}.\n$$\nRounded to three significant figures, the average gate-drive power is $0.144\\ \\mathrm{W}$.",
            "answer": "$$\\boxed{0.144}$$"
        },
        {
            "introduction": "While fast switching is often desired, the peak current during gate transitions must be managed to prevent stress on the driver components and the optocoupler's output stage. This practice demonstrates how to calculate the necessary series gate resistor, $R_{g}$, to limit this peak current to a safe value. You will apply fundamental circuit principles to the initial moments of an RC transient to ensure reliable operation .",
            "id": "3851678",
            "problem": "An isolated gate driver for a Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) is implemented using an Optically Coupled Isolator (optocoupler) that commands a local complementary emitter follower (push–pull) buffer stage. The buffer stage, as seen from the MOSFET gate node, can be modeled by its Thevenin equivalent with open-circuit drive voltage $V_{drive}$ and series output resistance $R_{out}$. A discrete series gate resistor $R_{g}$ is added intentionally to shape the gate current and limit the peak stress on the buffer and on the optocoupler’s output transistor. The MOSFET gate is modeled as a capacitance that initially sits at $0\\ \\mathrm{V}$ prior to a rising transition.\n\nStarting from fundamental circuit principles, including Ohm’s law and the step response of a resistor–capacitor network at $t=0^{+}$, derive an expression for the required $R_{g}$ that ensures the instantaneous peak gate current at the start of the transition is equal to a specified $I_{pk}$. Then evaluate $R_{g}$ for the numerical case $V_{drive}=15\\ \\mathrm{V}$, $R_{out}=2\\ \\Omega$, and $I_{pk}=1.5\\ \\mathrm{A}$. Express the final resistor value in $\\mathrm{\\Omega}$. Give the exact value (no rounding).",
            "solution": "The problem requires the derivation of an expression for a series gate resistor, $R_g$, in a MOSFET gate drive circuit to limit the peak instantaneous current to a specified value, $I_{pk}$. Subsequently, this expression is to be evaluated for a given set of numerical parameters.\n\nFirst, we establish the electrical model of the circuit for a rising transition, which begins at time $t=0$. The gate drive circuit consists of a Thevenin equivalent source with voltage $V_{drive}$ and series resistance $R_{out}$, representing the buffer stage. This source is connected in series with the external gate resistor $R_g$. This combination drives the MOSFET gate, which is modeled as a capacitor, let us denote it by $C_g$. The total resistance in the charging path is the sum of the driver's output resistance and the external gate resistor, $R_{total} = R_{out} + R_g$.\n\nThe problem states that the MOSFET gate is initially at $0\\ \\mathrm{V}$. This is the initial condition for the voltage across the gate capacitance, $v_{Cg}(t)$. Therefore, at time $t=0^{-}$, just before the transition begins, we have $v_{Cg}(0^{-}) = 0\\ \\mathrm{V}$.\n\nA fundamental principle of circuit theory is that the voltage across a capacitor cannot change instantaneously. This means the voltage across the capacitor immediately after the transition begins, at $t=0^{+}$, must be equal to the voltage immediately before, at $t=0^{-}$.\n$$v_{Cg}(0^{+}) = v_{Cg}(0^{-}) = 0\\ \\mathrm{V}$$\nThe gate current, $i_g(t)$, is the current flowing into the capacitor. The problem asks to limit the instantaneous peak gate current, which occurs at the very beginning of the charging process, i.e., at $t=0^{+}$. We are given this peak current value as $I_{pk}$.\n$$i_g(0^{+}) = I_{pk}$$\nTo find the relationship between the circuit parameters and this peak current, we apply Kirchhoff's Voltage Law (KVL) to the series loop at the instant $t=0^{+}$. The loop consists of the drive voltage $V_{drive}$, the total series resistance $R_{total} = R_{out} + R_g$, and the gate capacitance $C_g$.\n$$V_{drive} - i_g(t) \\cdot (R_{out} + R_g) - v_{Cg}(t) = 0$$\nEvaluating this equation at $t=0^{+}$:\n$$V_{drive} - i_g(0^{+}) \\cdot (R_{out} + R_g) - v_{Cg}(0^{+}) = 0$$\nWe can now substitute the known conditions at $t=0^{+}$ into the KVL equation:\n$$V_{drive} - I_{pk} \\cdot (R_{out} + R_g) - 0 = 0$$\nThis simplifies to:\n$$V_{drive} = I_{pk} \\cdot (R_{out} + R_g)$$\nNote that the value of the gate capacitance $C_g$ is not required to determine the initial peak current, as the capacitor behaves as a voltage source of $0\\ \\mathrm{V}$ at this specific instant.\n\nThe first part of the task is to derive an expression for $R_g$. We can rearrange the equation above to solve for $R_g$:\n$$R_{out} + R_g = \\frac{V_{drive}}{I_{pk}}$$\n$$R_g = \\frac{V_{drive}}{I_{pk}} - R_{out}$$\nThis is the required general expression for the series gate resistor.\n\nThe second part of the task is to evaluate $R_g$ for the specific numerical case provided:\n- Open-circuit drive voltage: $V_{drive} = 15\\ \\mathrm{V}$\n- Driver output resistance: $R_{out} = 2\\ \\Omega$\n- Specified peak gate current: $I_{pk} = 1.5\\ \\mathrm{A}$\n\nSubstituting these values into the derived expression:\n$$R_g = \\frac{15}{1.5} - 2$$\nFirst, we evaluate the fraction:\n$$\\frac{15}{1.5} = 10$$\nSo the equation becomes:\n$$R_g = 10 - 2$$\n$$R_g = 8\\ \\Omega$$\nThe required value for the discrete series gate resistor is $8\\ \\Omega$.",
            "answer": "$$\\boxed{8}$$"
        },
        {
            "introduction": "A key challenge in isolated gate drivers is their susceptibility to high common-mode voltage transients ($dv/dt$), which are inherent in bridge topologies. This exercise explores how parasitic capacitance across the isolation barrier can induce a displacement current, potentially causing spurious turn-on of the power device. You will calculate the coupled charge and resulting gate voltage to assess the circuit's immunity to this critical failure mechanism .",
            "id": "3851607",
            "problem": "A galvanically isolated gate drive employs an optocoupler between the control domain and the power domain. The isolation barrier exhibits a finite parasitic capacitance that couples common-mode transients. Consider an Insulated Gate Bipolar Transistor (IGBT) high-side gate drive implemented with an optocoupler whose isolation barrier parasitic capacitance is $C_{i} = 2\\ \\mathrm{pF}$. The power stage is a half-bridge whose switching node undergoes a monotonic common-mode transition of amplitude $\\Delta V_{\\mathrm{cm}} = 800\\ \\mathrm{V}$ with a controlled slew rate $\\mathrm{d}v/\\mathrm{d}t = 50\\ \\mathrm{kV}/\\mathrm{\\mu s}$. The optocoupler’s output stage is assumed to be in the non-driving state with effectively infinite impedance during the transition, and any additional bleed or clamp paths are neglected for worst-case estimation. The IGBT’s gate-to-emitter capacitance (including any input capacitance reflected at the operating bias point) is modeled as a lumped capacitor $C_{g} = 10\\ \\mathrm{nF}$ initially at zero volts with respect to the emitter.\n\nStarting solely from the definition of capacitance as incremental charge per incremental voltage and the conservation of charge, treat the isolation barrier as a two-terminal capacitor excited by the specified common-mode voltage transient, and treat the IGBT gate as a capacitor that may be charged by the coupled displacement current. Derive:\n\n1. The instantaneous displacement current through the isolation barrier during the transient.\n2. The total charge impulsively delivered to the gate during the transition.\n3. The resulting peak gate-to-emitter voltage excursion assuming all coupled charge is captured on $C_{g}$.\n\nThen determine whether this peak gate excursion can exceed a threshold voltage $V_{\\mathrm{th}} = 3\\ \\mathrm{V}$ under the stated conditions.\n\nExpress your final numerical answer as the peak gate-to-emitter voltage in volts, and round to four significant figures.",
            "solution": "The problem requires an analysis of common-mode transient coupling through the parasitic isolation capacitance of an optocoupler in a gate driver circuit. We must determine the resulting peak voltage on the IGBT gate and compare it to the device's threshold voltage. The solution will be derived from first principles as requested.\n\nThe given parameters are:\n- Parasitic isolation capacitance: $C_{i} = 2\\ \\mathrm{pF} = 2 \\times 10^{-12}\\ \\mathrm{F}$\n- Gate-to-emitter capacitance: $C_{g} = 10\\ \\mathrm{nF} = 10 \\times 10^{-9}\\ \\mathrm{F}$\n- Common-mode voltage transition amplitude: $\\Delta V_{\\mathrm{cm}} = 800\\ \\mathrm{V}$\n- Common-mode slew rate: $\\frac{\\mathrm{d}v}{\\mathrm{d}t} = 50\\ \\mathrm{kV}/\\mathrm{\\mu s}$\n- IGBT threshold voltage: $V_{\\mathrm{th}} = 3\\ \\mathrm{V}$\n\nFirst, we must express the slew rate in base SI units.\n$$\n\\frac{\\mathrm{d}v}{\\mathrm{d}t} = \\frac{50 \\times 10^3\\ \\mathrm{V}}{1 \\times 10^{-6}\\ \\mathrm{s}} = 50 \\times 10^9\\ \\mathrm{V/s} = 5 \\times 10^{10}\\ \\mathrm{V/s}\n$$\nThe problem is divided into three parts followed by a comparison.\n\n**1. Instantaneous Displacement Current**\n\nThe fundamental relationship between charge $q(t)$ and voltage $v(t)$ for a capacitor is $q(t) = C v(t)$. The current through the capacitor is the time derivative of the charge, $i(t) = \\frac{\\mathrm{d}q(t)}{\\mathrm{d}t}$. For a linear, time-invariant capacitor, this yields:\n$$\ni(t) = C \\frac{\\mathrm{d}v(t)}{\\mathrm{d}t}\n$$\nIn this problem, the capacitor is the isolation barrier, $C_{i}$, and the voltage across it is the common-mode voltage, $V_{\\mathrm{cm}}$. The rate of change of this voltage is the given constant slew rate. The displacement current, $i_c$, through the isolation barrier is therefore constant during the transient.\n$$\ni_{c} = C_{i} \\frac{\\mathrm{d}v_{\\mathrm{cm}}}{\\mathrm{d}t}\n$$\nSubstituting the given values:\n$$\ni_{c} = (2 \\times 10^{-12}\\ \\mathrm{F}) \\times (5 \\times 10^{10}\\ \\mathrm{V/s}) = 100 \\times 10^{-3}\\ \\mathrm{A} = 0.1\\ \\mathrm{A}\n$$\nSo, the instantaneous displacement current during the transient is $100\\ \\mathrm{mA}$.\n\n**2. Total Charge Delivered to the Gate**\n\nThe total charge $\\Delta Q$ transferred during a process can be found by integrating the current over the duration of the process. Alternatively, and more directly from the definition of capacitance, the total charge transferred due to a finite voltage change $\\Delta V$ across a capacitor $C$ is given by:\n$$\n\\Delta Q = C \\Delta V\n$$\nIn this case, the total charge displaced through the isolation barrier capacitance $C_i$ due to the full common-mode voltage swing $\\Delta V_{\\mathrm{cm}}$ is:\n$$\n\\Delta Q_{iso} = C_{i} \\Delta V_{\\mathrm{cm}}\n$$\nSubstituting the given values:\n$$\n\\Delta Q_{iso} = (2 \\times 10^{-12}\\ \\mathrm{F}) \\times (800\\ \\mathrm{V}) = 1600 \\times 10^{-12}\\ \\mathrm{C} = 1.6 \\times 10^{-9}\\ \\mathrm{C}\n$$\nThe problem states to neglect all other current paths and assumes the optocoupler's output is in a high-impedance state. By the principle of conservation of charge, all the charge displaced through the isolation barrier, $\\Delta Q_{iso}$, must be injected into the gate node and accumulate on the gate capacitance, $C_g$. Let $\\Delta Q_g$ be the charge accumulated on the gate.\n$$\n\\Delta Q_g = \\Delta Q_{iso} = 1.6\\ \\mathrm{nC}\n$$\n\n**3. Resulting Peak Gate-to-Emitter Voltage**\n\nThe charge $\\Delta Q_g$ accumulated on the gate capacitance $C_g$ will cause a change in the gate-to-emitter voltage, $\\Delta V_g$. From the definition of capacitance, this voltage change is:\n$$\n\\Delta V_g = \\frac{\\Delta Q_g}{C_g}\n$$\nThe problem specifies that the initial gate-to-emitter voltage is zero. Therefore, the peak gate-to-emitter voltage excursion, $V_{g, \\mathrm{peak}}$, is equal to this voltage change $\\Delta V_g$.\n$$\nV_{g, \\mathrm{peak}} = \\Delta V_g = \\frac{\\Delta Q_g}{C_g}\n$$\nSubstituting the calculated value for $\\Delta Q_g$ and the given value for $C_g$:\n$$\nV_{g, \\mathrm{peak}} = \\frac{1.6 \\times 10^{-9}\\ \\mathrm{C}}{10 \\times 10^{-9}\\ \\mathrm{F}} = \\frac{1.6}{10}\\ \\mathrm{V} = 0.16\\ \\mathrm{V}\n$$\n\n**Comparison with Threshold Voltage**\n\nThe final step is to determine if this peak gate voltage exceeds the specified IGBT threshold voltage, $V_{\\mathrm{th}} = 3\\ \\mathrm{V}$.\n$$\nV_{g, \\mathrm{peak}} = 0.16\\ \\mathrm{V}\n$$\n$$\nV_{\\mathrm{th}} = 3\\ \\mathrm{V}\n$$\nComparing the two values, we find that $0.16\\ \\mathrm{V}  3\\ \\mathrm{V}$. Therefore, under the stated worst-case conditions, the peak gate voltage excursion does not exceed the threshold voltage, and spurious turn-on due to this mechanism is not predicted to occur.\n\nThe problem asks for the final numerical answer for the peak gate-to-emitter voltage, rounded to four significant figures.\n$$\nV_{g, \\mathrm{peak}} = 0.1600\\ \\mathrm{V}\n$$",
            "answer": "$$\\boxed{0.1600}$$"
        }
    ]
}