{
    "hands_on_practices": [
        {
            "introduction": "在设计控制器之前，首要任务是深刻理解被控对象（即功率变换器）的动态特性。变换器的拓扑结构从根本上决定了其响应控制命令的方式，有些变换器（如降压变换器）表现出“最小相位”特性，其响应是直接且可预测的。然而，其他变换器（如升压变换器）则表现出“非最小相位”特性，其输出电压在响应一个使其最终升高的指令时，初始阶段反而会先下降。这项练习旨在通过对比降压和升压变换器，从物理原理层面建立对这两种关键动态行为的直观理解。",
            "id": "3866037",
            "problem": "一个直流到直流转换系统以连续导通模式（continuous conduction mode）实现了两种拓扑：一个降压（buck）变换器和一个升压（boost）变换器。两个变换器都工作在足够高的开关频率下，以支持状态空间平均和线性小信号建模（假设开关频率远高于被控对象的主导极点）。每个变换器都使用相同的比例积分（PI）控制器，其比例增益为 $K_{p}$，积分增益为 $K_{i}$，并且两者都由参考输出电压的一个小的正阶跃指令驱动。\n\nBuck变换器被控对象参数：输入电压 $V_{g,\\mathrm{buck}} = 24\\,\\mathrm{V}$，电感 $L_{\\mathrm{buck}} = 200\\,\\mu\\mathrm{H}$，电容 $C_{\\mathrm{buck}} = 100\\,\\mu\\mathrm{F}$，其等效串联电阻为 $r_{c,\\mathrm{buck}} = 50\\,\\mathrm{m}\\Omega$，负载 $R_{\\mathrm{buck}} = 12\\,\\Omega$，标称占空比 $D_{\\mathrm{buck}} = 0.5$。\n\nBoost变换器被控对象参数：输入电压 $V_{g,\\mathrm{boost}} = 12\\,\\mathrm{V}$，电感 $L_{\\mathrm{boost}} = 200\\,\\mu\\mathrm{H}$，电容 $C_{\\mathrm{boost}} = 100\\,\\mu\\mathrm{F}$，其等效串联电阻为 $r_{c,\\mathrm{boost}} = 50\\,\\mathrm{m}\\Omega$，负载 $R_{\\mathrm{boost}} = 24\\,\\Omega$，标称占空比 $D_{\\mathrm{boost}} = 0.5$。\n\nPI控制器在两个环路中是相同的：$K_{p} = 0.25$ 和 $K_{i} = 1500\\,\\mathrm{s}^{-1}$，并以标准的电压模式配置实现，围绕占空比到输出的小信号被控对象。\n\n从第一性原理出发，使用电感定律 $v_{L} = L\\frac{di_{L}}{dt}$、电容定律 $i_{C} = C\\frac{dv_{o}}{dt}$ 以及每种拓扑的平均开关网络行为，来推断在相同的PI参数下，每种情况下闭环输出电压阶跃响应的符号和定性形状。特别地，考虑当占空比 $D$ 增加时，电感、二极管/开关和电容之间的电流瞬时重新分布。\n\n关于由此产生的阶跃响应以及任何观察到的下冲或反向响应的根本原因，以下哪些陈述是正确的？\n\nA. 在相同的PI控制器下，对于一个小的正参考阶跃，降压变换器表现出单调上升（无反向响应），而升压变换器在上升前表现出初始下降（下冲），因为升压变换器的被控对象由于其控制到输出传递函数中存在一个反映其能量传输机制的右半平面零点而是非最小相位的。\n\nB. 如果比例增益和积分增益相同，那么降压和升压变换器的闭环阶跃响应是相同的，因为控制器动态特性主导了被控对象并消除了拓扑特定的效应。\n\nC. 在升压变换器中观察到的正占空比或参考阶跃下的下冲完全是由电容的等效串联电阻引起的；如果 $r_{c} \\to 0$，则无论占空比和负载如何，反向响应都会消失。\n\nD. 升压变换器中的反向响应根本上是由于增加占空比最初会减少向输出节点的瞬时功率输送（当二极管反向偏置时，输出暂时由电容供电），这在右半平面产生一个非最小相位零点，并导致输出电压首先朝与指令相反的方向移动。\n\nE. 通过在相同位置放置一个控制器零点来精确抵消升压变换器的右半平面零点是可行的，并且可以在不影响稳定性或鲁棒性的情况下消除反向响应。\n\n选择所有适用项。",
            "solution": "问题陈述已经过验证，被认为是合理的。它在科学上基于电力电子和控制理论的既定原则，提法良好，数据充分且一致，并且表述客观。为降压和升压变换器提供的参数在给定条件下对应于稳定、连续导通模式的运行，证实了该设置的物理现实性。\n\n我们现在将从第一性原理出发，对系统行为进行推导和分析。问题的核心是在相同的比例积分（PI）控制下，比较降压和升压变换器在电压参考发生小的正阶跃后的瞬态响应。这需要分析每种拓扑的控制到输出传递函数 $G_{vd}(s) = \\hat{v}_o(s)/\\hat{d}(s)$。\n\n### I. 变换器动态特性的基本分析\n\n问题要求基于基本定律进行推理：$v_{L} = L\\frac{di_{L}}{dt}$ 和 $i_{C} = C\\frac{dv_{o}}{dt}$。我们将使用状态空间平均法来推导小信号模型。\n\n**1. 降压（Step-Down）变换器分析**\n\n在连续导通模式（CCM）下运行的降压变换器中，电感要么连接到输入源 $V_g$（当开关在 $DT_s$ 时间段内导通时），要么通过二极管接地（当开关在 $(1-D)T_s$ 时间段内关断时）。电感电流 $i_L$ 持续流向输出滤波器（电容和负载）。\n\n为了增加输出电压 $v_o$，控制器必须增加占空比 $D$。让我们考虑占空比的一个小的正阶跃 $\\hat{d}$ 的影响。\n- 增加的 $D$ 意味着电感连接到更高电压 $V_g$ 的时间更长。\n- 电感上的平均电压为 $\\langle v_L \\rangle = D(V_g - V_o) + (1-D)(-V_o) = D V_g - V_o$。在稳态下，$\\langle v_L \\rangle = 0$，所以 $V_o = D V_g$。\n- 当 $D$ 阶跃上升时，$D V_g$ 项立即增加，使得 $\\langle v_L \\rangle$ 为正。\n- 根据 $di_L/dt = v_L/L$，电感上的正平均电压导致平均电感电流 $\\langle i_L \\rangle$ 上升。\n- 这个增加的电流直接流向输出节点。可用于给电容充电的电流是 $i_C = i_L - v_o/R$。随着 $i_L$ 增加，$i_C$ 变得更正。\n- 根据 $dv_o/dt = i_C/C$，正的电容电流导致输出电压 $v_o$ 上升。\n\n响应是直接的：控制输入（$D$）的增加导致输出（$v_o$）的单调增加。没有初始的“错误方向”或反向响应。这种行为是**最小相位系统**的特征。降压变换器的小信号控制到输出传递函数为：\n$$ G_{vd,\\mathrm{buck}}(s) = \\frac{\\hat{v}_o(s)}{\\hat{d}(s)} = \\frac{V_g(1+sC_{\\mathrm{buck}}r_{c,\\mathrm{buck}})}{s^2 L_{\\mathrm{buck}}C_{\\mathrm{buck}} + s(\\frac{L_{\\mathrm{buck}}}{R_{\\mathrm{buck}}}+C_{\\mathrm{buck}}r_{c,\\mathrm{buck}}) + 1} $$\n该传递函数有两个极点和一个零点。零点位于 $s = -1/(C_{\\mathrm{buck}}r_{c,\\mathrm{buck}})$。由于 $C_{\\mathrm{buck}}  0$ 和 $r_{c,\\mathrm{buck}}  0$，该零点位于左半平面（LHP）。一个所有极点和零点都在左半平面的系统是最小相位系统。其阶跃响应不会表现出初始下冲。\n\n**2. 升压（Step-Up）变换器分析**\n\n在CCM下运行的升压变换器中，功率传递机制是间接的。\n- 当开关闭合时（$DT_s$ 时间段），电感由输入源 $V_g$ 直接充电。输出级与输入隔离，仅由输出电容 $C$ 中存储的能量供电。\n- 当开关断开时（$(1-D)T_s$ 时间段），电感现在与 $V_g$ 串联，将其存储的能量传递给输出电容和负载。\n\n让我们考虑占空比的一个小的正阶跃 $\\hat{d}$ 的影响。为了达到更高的稳态输出电压（$V_o = V_g / (1-D)$），控制器增加 $D$。\n- **瞬时效应**：增加 $D$ 意味着开关保持导通的时间更长。在这段延长的导通时间内，二极管保持反向偏置，没有电流从输入/电感流向输出。负载继续从电容中汲取电流，导致输出电压 $v_o$ 比原始占空比下下降得更多。这是一个初始的“错误方向”响应或下冲。\n- **平均效应**：在更长的时间尺度上，增加的占空比导致更高的平均电感电流 $\\langle i_L \\rangle$。当开关最终关断时，这个更大的电流将输出电容充电到一个新的、更高的电压水平。\n\n这个序列——电压初始下降，然后上升到最终的更高值——是反向响应的经典定义。这种行为在数学上由一个右半平面（RHP）的零点来表征。具有RHP零点的系统称为**非最小相位系统**。升压变换器的小信号控制到输出传递函数（包括ESR）是：\n$$ G_{vd,\\mathrm{boost}}(s) = \\frac{\\hat{v}_o(s)}{\\hat{d}(s)} = \\frac{V_g}{(1-D)^2} \\frac{(1 - s\\frac{L_{\\mathrm{boost}}}{R_{\\mathrm{boost}}(1-D)^2})(1+sC_{\\mathrm{boost}}r_{c,\\mathrm{boost}})}{\\text{denominator}(s)} $$\n分母是一个类似于降压情况的二阶多项式。关键部分是分子，它有两个零点：\n1. 一个来自ESR的左半平面（LHP）零点：$s_{z,LHP} = -1/(C_{\\mathrm{boost}}r_{c,\\mathrm{boost}})$。\n2. 一个拓扑固有的右半平面（RHP）零点：$s_{z,RHP} = + \\frac{R_{\\mathrm{boost}}(1-D)^2}{L_{\\mathrm{boost}}}$。\n\n使用给定的参数：$R_{\\mathrm{boost}} = 24\\,\\Omega$, $L_{\\mathrm{boost}} = 200\\,\\mu\\mathrm{H}$, and $D_{\\mathrm{boost}} = 0.5$。\n$$ s_{z,RHP} = \\frac{24\\,\\Omega \\times (1-0.5)^2}{200 \\times 10^{-6}\\,\\mathrm{H}} = \\frac{24 \\times 0.25}{200 \\times 10^{-6}} = \\frac{6}{200 \\times 10^{-6}} = 30000\\,\\mathrm{rad/s} $$\n这个正实零点的存在证实了非最小相位的性质，并预示了反向响应。\n\n### II. 选项评估\n\n**A. 在相同的PI控制器下，对于一个小的正参考阶跃，降压变换器表现出单调上升（无反向响应），而升压变换器在上升前表现出初始下降（下冲），因为升压变换器的被控对象由于其控制到输出传递函数中存在一个反映其能量传输机制的右半平面零点而是非最小相位的。**\n\n- **分析**：这个陈述与我们的第一性原理分析完全一致。降压变换器是一个最小相位系统，一个调谐良好的PI控制器将产生一个可能有超调但不会有初始下冲（反向响应）的响应。升压变换器由于其传递函数中固有的RHP零点而是一个非最小相位系统，这是其两阶段能量传递过程的直接数学结果。RHP零点保证了对阶跃输入的反向响应。\n- **结论**：**正确**。\n\n**B. 如果比例增益和积分增益相同，那么降压和升压变换器的闭环阶跃响应是相同的，因为控制器动态特性主导了被控对象并消除了拓扑特定的效应。**\n\n- **分析**：这个陈述是不正确的。一个系统的闭环响应由 $T(s) = \\frac{C(s)G(s)}{1+C(s)G(s)}$ 给出，其中 $C(s)$ 是控制器，$G(s)$ 是被控对象。即使在两种情况下 $C(s)$ 相同，被控对象的传递函数 $G_{vd,\\mathrm{buck}}(s)$ 和 $G_{vd,\\mathrm{boost}}(s)$ 也根本不同。最值得注意的是，$G_{vd,\\mathrm{boost}}(s)$ 包含一个RHP零点。这个RHP零点不能被控制器“消除”，并且将始终作为闭环传递函数 $T(s)$ 的一个零点存在。这个RHP零点在升压系统中的存在保证了其阶跃响应将与降压系统的响应根本不同，而与控制器增益无关。\n- **结论**：**不正确**。\n\n**C. 在升压变换器中观察到的正占空比或参考阶跃下的下冲完全是由电容的等效串联电阻引起的；如果 $r_{c} \\to 0$，则无论占空比和负载如何，反向响应都会消失。**\n\n- **分析**：这个陈述错误地指出了反向响应的原因。如前所述，导致下冲的RHP零点位于 $s_{z,RHP} = R(1-D)^2/L$。该项与电容的ESR $r_c$ 无关。ESR实际上引入了一个独立的LHP零点，位于 $s = -1/(Cr_c)$。如果 $r_c \\to 0$，这个LHP零点会移向无穷大，但根本的RHP零点以及因此产生的反向响应仍然存在。反向响应是升压拓扑功率流的内在特性，而不是寄生效应。\n- **结论**：**不正确**。\n\n**D. 升压变换器中的反向响应根本上是由于增加占空比最初会减少向输出节点的瞬时功率输送（当二极管反向偏置时，输出暂时由电容供电），这在右半平面产生一个非最小相位零点，并导致输出电压首先朝与指令相反的方向移动。**\n\n- **分析**：这个陈述为升压变换器的非最小相位行为提供了准确而深刻的物理解释。它正确地将控制动作（增加 $D$）、物理机制（更长的电感充电时间，在此期间输出被隔离并由放电的电容供电）、数学模型（一个RHP零点）以及由此产生的观察行为（初始下冲）联系起来。这是对反向响应的正确的第一性原理推理。\n- **结论**：**正确**。\n\n**E. 通过在相同位置放置一个控制器零点来精确抵消升压变换器的右半平面零点是可行的，并且可以在不影响稳定性或鲁棒性的情况下消除反向响应。**\n\n- **分析**：从控制理论的角度来看，这个陈述存在严重缺陷。试图抵消被控对象的一个RHP零点需要在控制器的相同RHP位置放置一个极点。例如，为了抵消位于 $s=s_z$（其中 $s_z0$）的被控对象零点，控制器将需要一个因子 $1/(s-s_z)$。这使得控制器本身不稳定。虽然在完美的数学世界中，不稳定的极点和零点会在总传递函数中相互抵消，但在任何实际系统中，微小的参数漂移或建模不准确都会阻止完美抵消。结果是一个包含不稳定极点的闭环系统，导致内部不稳定。这种做法在鲁棒控制系统设计中是严格禁止的。\n- **结论**：**不正确**。",
            "answer": "$$\\boxed{AD}$$"
        },
        {
            "introduction": "升压变换器的非最小相位行为在数学上表现为其传递函数中存在一个右半平面（RHP）零点，这是控制设计中最具挑战性的特性之一。这个零点不仅导致了前面练习中讨论的电压下冲，还对闭环系统的稳定性带宽施加了严格的限制。这项练习将引导你从第一性原理出发，通过状态空间平均法推导出这个关键的RHP零点，并应用一条基本的鲁棒控制设计准则来确定一个安全的控制器交越频率。",
            "id": "3866113",
            "problem": "一个工作在连续导通模式 (CCM) 的升压型直流-直流 (DC-DC) 变换器，其半导体器件为理想器件（零导通电阻、零正向压降、瞬时开关），输出电容很大以至于在小信号意义上输出纹波可以忽略不计，且输入电压恒定。变换器的参数为：电感 $L=100\\,\\mu\\text{H}$，负载电阻 $R=5\\,\\Omega$，稳态占空比 $D=0.5$。请使用包括电感电压定律 $v_{L}=L\\frac{di_{L}}{dt}$、欧姆定律 $v_{o}=R i_{o}$ 以及对一个周期内两个开关子区间的状态空间平均法在内的基本原理，推导小信号占空比-输出传递路径，该路径揭示了 CCM 模式下升压变换器控制-输出传递函数中存在一个右半平面 (RHP) 零点。根据此推导，得到 RHP 零点角频率 $\\omega_{\\text{rhp}}$ 关于 $L$、$R$ 和 $D$ 的解析表达式。然后，根据给定参数计算 $\\omega_{\\text{rhp}}$ 的数值。最后，受非最小相位系统鲁棒比例-积分 (PI) 或比例-积分-微分 (PID) 控制器设计实践的启发，提出了一个满足 $\\omega_{c}\\leq \\omega_{\\text{rhp}}/5$ 的保守穿越角频率 $\\omega_{c}$，并通过取 $\\omega_{c}=\\omega_{\\text{rhp}}/5$ 来提供其数值。将所有数值答案四舍五入至四位有效数字，并以弧度/秒 (rad/s) 为单位表示。你的最终答案必须以两个数字的形式给出 $\\omega_{\\text{rhp}}$ 和 $\\omega_{c}$。",
            "solution": "该问题陈述经评估为有效，因为它在科学上基于电力电子学原理，问题提法清晰且信息充分，足以得出唯一解，并以客观、正式的语言表达。我们开始进行推导和求解。\n\n目标是使用状态空间平均法推导连续导通模式 (CCM) 升压变换器的控制-输出电压传递函数 $\\hat{v}_o(s)/\\hat{d}(s)$。从该传递函数中，我们将识别出右半平面 (RHP) 零点，找到其解析表达式，并计算其数值。\n\n升压变换器的状态变量是电感电流 $i_L$ 和输出电容电压 $v_o$。状态向量为 $x(t) = \\begin{pmatrix} i_L(t) \\\\ v_o(t) \\end{pmatrix}$。输入是占空比 $d(t)$。我们视输入电压 $v_g$ 为一个恒定参数 $V_g$。\n\n变换器的运行由两个线性电路描述，对应于一个开关周期 $T_s$ 内的两个开关状态。\n\n子区间 1：开关导通，持续时间为 $d T_s$。\n电感连接到输入电压 $v_g$，电容为负载 $R$ 供电。状态方程为：\n$$\nL \\frac{d i_L}{dt} = v_g\n$$\n$$\nC \\frac{d v_o}{dt} = -\\frac{v_o}{R}\n$$\n以状态空间形式 $\\dot{x} = A_1 x + B_1 v_g$ 表示：\n$$\n\\frac{d}{dt} \\begin{pmatrix} i_L \\\\ v_o \\end{pmatrix} = \\begin{pmatrix} 0  0 \\\\ 0  -\\frac{1}{RC} \\end{pmatrix} \\begin{pmatrix} i_L \\\\ v_o \\end{pmatrix} + \\begin{pmatrix} \\frac{1}{L} \\\\ 0 \\end{pmatrix} v_g\n$$\n\n子区间 2：开关断开，持续时间为 $(1-d) T_s$。\n电感与输入源串联，为输出级充电。状态方程为：\n$$\nL \\frac{d i_L}{dt} = v_g - v_o\n$$\n$$\nC \\frac{d v_o}{dt} = i_L - \\frac{v_o}{R}\n$$\n以状态空间形式 $\\dot{x} = A_2 x + B_2 v_g$ 表示：\n$$\n\\frac{d}{dt} \\begin{pmatrix} i_L \\\\ v_o \\end{pmatrix} = \\begin{pmatrix} 0  -\\frac{1}{L} \\\\ \\frac{1}{C}  -\\frac{1}{RC} \\end{pmatrix} \\begin{pmatrix} i_L \\\\ v_o \\end{pmatrix} + \\begin{pmatrix} \\frac{1}{L} \\\\ 0 \\end{pmatrix} v_g\n$$\n\n使用状态空间平均法，我们通过对矩阵进行平均来近似一个开关周期内的系统动态：\n$A = d A_1 + (1-d) A_2$\n$B = d B_1 + (1-d) B_2$\n$$\nA = d \\begin{pmatrix} 0  0 \\\\ 0  -\\frac{1}{RC} \\end{pmatrix} + (1-d) \\begin{pmatrix} 0  -\\frac{1}{L} \\\\ \\frac{1}{C}  -\\frac{1}{RC} \\end{pmatrix} = \\begin{pmatrix} 0  -\\frac{1-d}{L} \\\\ \\frac{1-d}{C}  -\\frac{1}{RC} \\end{pmatrix}\n$$\n$$\nB = d \\begin{pmatrix} \\frac{1}{L} \\\\ 0 \\end{pmatrix} + (1-d) \\begin{pmatrix} \\frac{1}{L} \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\frac{1}{L} \\\\ 0 \\end{pmatrix}\n$$\n平均大信号模型为 $\\dot{x} = A x + B v_g$：\n$$\nL \\frac{d i_L}{dt} = -(1-d) v_o + v_g\n$$\n$$\nC \\frac{d v_o}{dt} = (1-d) i_L - \\frac{v_o}{R}\n$$\n接下来，我们在一个稳态直流工作点附近对该模型进行线性化。令 $d = D + \\hat{d}$，$v_o = V_o + \\hat{v}_o$，$i_L = I_L + \\hat{i}_L$，$v_g = V_g$。带帽号的项表示小信号交流扰动。\n\n稳态 (DC) 方程通过将时间导数设为零并使用直流值得到：\n$$0 = -(1-D) V_o + V_g \\implies V_o = \\frac{V_g}{1-D}$$\n$$0 = (1-D) I_L - \\frac{V_o}{R} \\implies I_L = \\frac{V_o}{(1-D)R} = \\frac{V_g}{(1-D)^2 R}$$\n\n小信号 (AC) 方程通过将扰动变量代入平均方程并忽略二阶项（例如 $\\hat{d}\\hat{v}_o$）得到：\n$L \\frac{d(I_L+\\hat{i}_L)}{dt} = -(1-(D+\\hat{d})) (V_o+\\hat{v}_o) + V_g$\n$L \\frac{d\\hat{i}_L}{dt} = -(1-D)V_o - (1-D)\\hat{v}_o + D\\hat{v}_o + V_o\\hat{d} + \\hat{v}_o\\hat{d} - V_g$ 是不正确的；让我们正确地展开：\n$L \\frac{d\\hat{i}_L}{dt} = -[(1-D)V_o - V_o\\hat{d} + (1-D)\\hat{v}_o] + V_g$。\n$L \\frac{d\\hat{i}_L}{dt} = [-(1-D)V_o + V_g] + V_o\\hat{d} - (1-D)\\hat{v}_o$。根据直流分析，括号中的项为零。\n$$L \\frac{d\\hat{i}_L}{dt} = V_o\\hat{d} - (1-D)\\hat{v}_o$$\n\n对于第二个方程：\n$C \\frac{d(V_o+\\hat{v}_o)}{dt} = (1-(D+\\hat{d}))(I_L+\\hat{i}_L) - \\frac{V_o+\\hat{v}_o}{R}$\n$C \\frac{d\\hat{v}_o}{dt} = [(1-D)I_L - \\frac{V_o}{R}] + (1-D)\\hat{i}_L - I_L\\hat{d} - \\frac{\\hat{v}_o}{R}$。括号中的项为零。\n$$C \\frac{d\\hat{v}_o}{dt} = (1-D)\\hat{i}_L - I_L\\hat{d} - \\frac{\\hat{v}_o}{R}$$\n\n我们对这两个交流方程进行拉普拉斯变换，其中 $s$ 是复频域变量：\n$$sL\\hat{i}_L(s) = V_o\\hat{d}(s) - (1-D)\\hat{v}_o(s)$$\n$$sC\\hat{v}_o(s) = (1-D)\\hat{i}_L(s) - I_L\\hat{d}(s) - \\frac{1}{R}\\hat{v}_o(s)$$\n\n为了求得传递函数 $G_{vd}(s) = \\hat{v}_o(s)/\\hat{d}(s)$，我们消去 $\\hat{i}_L(s)$。从第一个方程可得：\n$$\\hat{i}_L(s) = \\frac{V_o\\hat{d}(s) - (1-D)\\hat{v}_o(s)}{sL}$$\n\n将此代入第二个方程：\n$$sC\\hat{v}_o(s) = (1-D)\\left(\\frac{V_o\\hat{d}(s) - (1-D)\\hat{v}_o(s)}{sL}\\right) - I_L\\hat{d}(s) - \\frac{1}{R}\\hat{v}_o(s)$$\n\n将包含 $\\hat{v}_o(s)$ 和 $\\hat{d}(s)$ 的项分组：\n$$\\hat{v}_o(s)\\left(sC + \\frac{1}{R} + \\frac{(1-D)^2}{sL}\\right) = \\hat{d}(s)\\left(\\frac{V_o(1-D)}{sL} - I_L\\right)$$\n\n现在我们求解比值 $\\hat{v}_o(s)/\\hat{d}(s)$：\n$$G_{vd}(s) = \\frac{\\hat{v}_o(s)}{\\hat{d}(s)} = \\frac{\\frac{V_o(1-D) - sLI_L}{sL}}{\\frac{s^2LRC + sL + R(1-D)^2}{sLR}}$$\n$$G_{vd}(s) = \\frac{R(V_o(1-D) - sLI_L)}{s^2LRC+sL+R(1-D)^2}$$\n\n传递函数的零点是分子多项式的根。分子为 $N(s) = R(V_o(1-D) - sLI_L)$。令 $N(s)=0$：\n$$V_o(1-D) - s_z L I_L = 0$$\n这给出了零点 $s_z$ 的位置：\n$$s_z = \\frac{V_o(1-D)}{LI_L}$$\n\n为了得到用元件参数 $L$、$R$ 和占空比 $D$ 表示的表达式，我们代入 $V_o$ 和 $I_L$ 的稳态表达式：\n$V_o = V_g/(1-D)$\n$I_L = V_g/(R(1-D)^2)$\n$$s_z = \\frac{\\left(\\frac{V_g}{1-D}\\right)(1-D)}{L\\left(\\frac{V_g}{R(1-D)^2}\\right)} = \\frac{V_g}{\\frac{LV_g}{R(1-D)^2}} = \\frac{R(1-D)^2}{L}$$\n由于对于 $D \\neq 1$，$R  0$，$L  0$ 且 $(1-D)^2  0$，所以零点 $s_z$ 是一个正实数。这证实了它位于复平面的右半平面 (RHP)。这个 RHP 零点的角频率 $\\omega_{\\text{rhp}}$ 是它在实轴上的位置。\nRHP 零点角频率的解析表达式为：\n$$\\omega_{\\text{rhp}} = \\frac{R(1-D)^2}{L}$$\n\n现在我们根据给定的 $L=100\\,\\mu\\text{H} = 1 \\times 10^{-4}\\,\\text{H}$，$R=5\\,\\Omega$ 和 $D=0.5$ 计算 $\\omega_{\\text{rhp}}$ 的数值：\n$$\\omega_{\\text{rhp}} = \\frac{5\\,\\Omega \\times (1-0.5)^2}{1 \\times 10^{-4}\\,\\text{H}} = \\frac{5 \\times (0.5)^2}{10^{-4}} = \\frac{5 \\times 0.25}{10^{-4}} = \\frac{1.25}{10^{-4}} = 12500\\,\\text{rad/s}$$\n四舍五入到四位有效数字，$\\omega_{\\text{rhp}} = 1.250 \\times 10^4\\,\\text{rad/s}$。\n\n最后，我们提出了一个保守的穿越角频率 $\\omega_c$。RHP 零点在其频率点以下很宽的频带内就会引入显著的相位滞后，这使得控制器设计复杂化，并且如果环路带宽过高，可能导致不稳定。一个常见的经验法则是将穿越频率 $\\omega_c$ 设置为远小于 $\\omega_{\\text{rhp}}$，通常是其 $1/3$ 到 $1/5$，以确保足够的相位裕度。问题指定了一个保守的设计选择，即 $\\omega_c \\le \\omega_{\\text{rhp}}/5$。我们将计算边界情况 $\\omega_c = \\omega_{\\text{rhp}}/5$ 的值。\n$$\\omega_c = \\frac{12500\\,\\text{rad/s}}{5} = 2500\\,\\text{rad/s}$$\n四舍五入到四位有效数字，$\\omega_c = 2.500 \\times 10^3\\,\\text{rad/s}$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1.250 \\times 10^4  2.500 \\times 10^3\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "理论上的控制器设计通常在连续时间域（$s$域）中完成，但现代功率变换器的控制几乎总是在数字信号处理器（DSP）或微控制器上以离散时间方式实现的。因此，将连续时间PI或PID控制器转换为可在数字硬件上运行的离散时间算法是至关重要的一步。这项练习将指导你使用行业标准的双线性变换（Tustin变换）方法，将一个连续PI控制器转化为一个差分方程，为实际的数字代码实现奠定基础。",
            "id": "3866048",
            "problem": "一个连续时间比例-积分（PI）控制器的传递函数为 $C(s)=K_{p}+\\frac{K_{i}}{s}$，其中 $K_{p}0$ 和 $K_{i}0$ 为实数。该控制器将以均匀采样周期 $T_{s}0$ 在一个采样数据数字控制器中实现，用于调节直流-直流（DC-DC）转换器回路中产生的误差信号 $e(t)$。使用与梯形积分一致的双线性变换（也称为Tustin变换）来获得离散时间近似，推导离散时间控制器传递函数 $C(z)$ 以及相应的将误差序列 $e[k]$ 映射到具有一步记忆的控制序列 $u[k]$ 的因果一阶差分方程。将该差分方程表示为仿射形式\n$$\nu[k]=\\alpha\\,e[k]+\\beta\\,e[k-1]+\\gamma\\,u[k-1],\n$$\n并提供系数 $\\alpha$、$\\beta$ 和 $\\gamma$ 关于 $K_{p}$、$K_{i}$ 和 $T_{s}$ 的闭式表达式。你的最终答案必须是使用 LaTeX $\\texttt{pmatrix}$ 环境给出的一个包含这三个系数的行矩阵。不需要进行数值计算。",
            "solution": "该问题要求从比例-积分（PI）控制器的连续时间表示出发，使用双线性变换推导其离散时间差分方程。目标是确定指定仿射形式差分方程的系数 $\\alpha$、$\\beta$ 和 $\\gamma$。\n\nPI控制器的连续时间传递函数为：\n$$\nC(s) = K_{p} + \\frac{K_{i}}{s}\n$$\n其中 $K_{p}$ 是比例增益，$K_{i}$ 是积分增益，$s$ 是拉普拉斯变量。为了便于代数操作，可以方便地将其表示为单个有理函数：\n$$\nC(s) = \\frac{K_{p}s + K_{i}}{s}\n$$\n问题指定使用双线性变换（也称为Tustin变换）将连续时间传递函数 $C(s)$ 转换为离散时间传递函数 $C(z)$。该变换提供了从s平面到z平面的映射，并且等效于使用梯形法则进行数值积分来近似连续时间积分算子 $1/s$。该变换由以下代换给出：\n$$\ns \\rightarrow \\frac{2}{T_{s}} \\frac{z-1}{z+1}\n$$\n其中 $T_s$ 是采样周期，$z$ 是离散时间复变量。\n\n将 $s$ 的这个表达式代入控制器的传递函数 $C(s)$，得到离散时间传递函数 $C(z)$：\n$$\nC(z) = C(s) \\bigg|_{s = \\frac{2}{T_{s}} \\frac{z-1}{z+1}} = \\frac{K_{p} \\left( \\frac{2}{T_{s}} \\frac{z-1}{z+1} \\right) + K_{i}}{\\frac{2}{T_{s}} \\frac{z-1}{z+1}}\n$$\n为了简化这个繁分数，我们将分子和分母同乘以 $T_{s}(z+1)$：\n$$\nC(z) = \\frac{\\left[K_{p} \\left( \\frac{2}{T_{s}} \\frac{z-1}{z+1} \\right) + K_{i}\\right] T_{s}(z+1)}{\\left[ \\frac{2}{T_{s}} \\frac{z-1}{z+1} \\right] T_{s}(z+1)}\n$$\n$$\nC(z) = \\frac{K_{p} \\cdot 2(z-1) + K_{i} T_{s}(z+1)}{2(z-1)}\n$$\n展开分子中的各项：\n$$\nC(z) = \\frac{2K_{p}z - 2K_{p} + K_{i}T_{s}z + K_{i}T_{s}}{2z-2}\n$$\n按 $z$ 的幂次合并各项：\n$$\nC(z) = \\frac{(2K_{p} + K_{i}T_{s})z + (K_{i}T_{s} - 2K_{p})}{2z-2}\n$$\n离散时间传递函数 $C(z)$ 通过关系式 $C(z) = \\frac{U(z)}{E(z)}$ 将控制序列的Z变换 $U(z)$ 与误差序列的Z变换 $E(z)$ 联系起来。因此：\n$$\n\\frac{U(z)}{E(z)} = \\frac{(2K_{p} + K_{i}T_{s})z + (K_{i}T_{s} - 2K_{p})}{2z-2}\n$$\n为了求得差分方程，我们进行交叉相乘：\n$$\nU(z)(2z - 2) = E(z) \\left[ (2K_{p} + K_{i}T_{s})z + (K_{i}T_{s} - 2K_{p}) \\right]\n$$\n为了获得一个包含当前值和过去值（$k$ 和 $k-1$）的因果差分方程，我们将整个方程除以 $z$ 的最高次幂，即 $z^1$：\n$$\nU(z)(2 - 2z^{-1}) = E(z) \\left[ (2K_{p} + K_{i}T_{s}) + (K_{i}T_{s} - 2K_{p})z^{-1} \\right]\n$$\n通过应用逆Z变换，可将此方程转换回时域。Z变换的时移特性指出，在z域中乘以 $z^{-1}$ 对应于在时域中的一步时间延迟。因此，$z^{-1}X(z)$ 对应于序列 $x[k-1]$。应用此特性得到差分方程：\n$$\n2u[k] - 2u[k-1] = (2K_{p} + K_{i}T_{s})e[k] + (K_{i}T_{s} - 2K_{p})e[k-1]\n$$\n问题要求此方程为仿射形式 $u[k]=\\alpha\\,e[k]+\\beta\\,e[k-1]+\\gamma\\,u[k-1]$。我们可以通过分离 $u[k]$ 项来实现这一目标：\n$$\n2u[k] = (2K_{p} + K_{i}T_{s})e[k] + (K_{i}T_{s} - 2K_{p})e[k-1] + 2u[k-1]\n$$\n将整个方程除以 $2$：\n$$\nu[k] = \\frac{2K_{p} + K_{i}T_{s}}{2} e[k] + \\frac{K_{i}T_{s} - 2K_{p}}{2} e[k-1] + \\frac{2}{2} u[k-1]\n$$\n简化系数可得：\n$$\nu[k] = \\left(K_{p} + \\frac{K_{i}T_{s}}{2}\\right) e[k] + \\left(\\frac{K_{i}T_{s}}{2} - K_{p}\\right) e[k-1] + (1) u[k-1]\n$$\n将此结果与目标形式 $u[k]=\\alpha\\,e[k]+\\beta\\,e[k-1]+\\gamma\\,u[k-1]$ 进行比较，我们可以确定系数 $\\alpha$、$\\beta$ 和 $\\gamma$：\n$$\n\\alpha = K_{p} + \\frac{K_{i}T_{s}}{2}\n$$\n$$\n\\beta = \\frac{K_{i}T_{s}}{2} - K_{p}\n$$\n$$\n\\gamma = 1\n$$\n这些就是使用双线性变换实现PI控制器的一阶差分方程的系数的闭式表达式。",
            "answer": "$$\n\\boxed{\\begin{pmatrix} K_{p} + \\frac{K_{i} T_{s}}{2}  \\frac{K_{i} T_{s}}{2} - K_{p}  1 \\end{pmatrix}}\n$$"
        }
    ]
}