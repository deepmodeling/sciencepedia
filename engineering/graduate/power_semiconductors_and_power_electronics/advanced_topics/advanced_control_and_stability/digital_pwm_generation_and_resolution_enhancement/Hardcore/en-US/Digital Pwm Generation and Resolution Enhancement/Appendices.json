{
    "hands_on_practices": [
        {
            "introduction": "To truly master digital PWM, we must first understand its fundamental limitations. This exercise goes back to basics, examining how a standard center-aligned PWM generator, built from a digital counter and comparator, derives its resolution. By deriving the relationship between the integer compare value and the resulting duty cycle from first principles, you will gain a core understanding of how hardware architecture dictates performance .",
            "id": "3833739",
            "problem": "A digital Pulse Width Modulation (PWM) generator for a power electronic converter uses a synchronous up-down counter to produce center-aligned PWM. The counter advances on a uniform sampling clock with period $T_s$ and counts the sequence $0,1,\\dots,M, M-1,\\dots,1,0$, where $M$ is a positive integer, and the endpoints are visited exactly once per half-cycle so that there are $2M$ discrete tick intervals per full PWM period. A single integer compare register $c \\in \\{0,1,\\dots,M\\}$ governs symmetric edge placement: the output toggles from low to high when the counter equals $c$ during the up-count and toggles from high to low when the counter equals $c$ during the down-count. The duty ratio $D$ is defined as the fraction of one full period during which the output is high.\n\nStarting only from the discrete-time nature of the counter, the definition of duty ratio as on-time divided by period, and the symmetry implied by the two compare events at the same $c$ on up and down counts, determine the maximum achievable duty resolution, defined as the smallest positive increment in $D$ that can be produced by changing $c$ by its minimal quantum while preserving symmetry. Express the final duty resolution as a unitless fraction in closed form as a function of $M$. No numerical approximation is required.",
            "solution": "The problem is subjected to validation against the established criteria.\n\n### Step 1: Extract Givens\n- **System**: Digital Pulse Width Modulation (PWM) generator for a power electronic converter.\n- **Counter Type**: Synchronous up-down counter generating center-aligned PWM.\n- **Clock**: Uniform sampling clock with period $T_s$.\n- **Counter Sequence**: The counter follows the sequence $0, 1, \\dots, M, M-1, \\dots, 1, 0$. $M$ is a positive integer.\n- **PWM Period**: The full PWM period consists of $2M$ discrete tick intervals.\n- **Compare Register**: A single integer compare value $c$, where $c \\in \\{0, 1, \\dots, M\\}$.\n- **PWM Logic**: The output toggles from low to high when the counter equals $c$ during the up-count. The output toggles from high to low when the counter equals $c$ during the down-count.\n- **Duty Ratio ($D$)**: The fraction of one full period during which the output is high.\n- **Objective**: Determine the maximum achievable duty resolution, defined as the smallest positive increment in $D$ that can be produced by changing $c$ by its minimal quantum while preserving symmetry.\n\n### Step 2: Validate Using Extracted Givens\nThe problem describes a standard, textbook model of a digital symmetric PWM generator used in power electronics.\n- **Scientific Groundedness**: The physical model is based on established principles of digital logic (counters, comparators) and discrete-time systems, which are fundamental to digital control. No scientific flaws are present.\n- **Well-Posedness**: The problem is well-posed. It provides a complete description of the system's operation and asks for a specific, derivable quantity (duty resolution) as a function of a given parameter ($M$). A unique solution is expected.\n- **Objectivity**: The problem is stated in precise, objective, and technical language, free from ambiguity or subjective content. All terms like \"duty ratio\" and \"duty resolution\" are explicitly defined.\n- **Consistency and Completeness**: The provided information is self-consistent. The counter sequence $0, \\dots, M, \\dots, 0$ involves $M$ steps up and $M$ steps down, totaling $2M$ steps. With each step corresponding to a clock tick of period $T_s$, the total PWM period is $2M \\cdot T_s$. This is consistent with the statement that there are $2M$ discrete tick intervals per period.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid** as it is scientifically sound, well-posed, objective, and self-consistent. The solution process may proceed.\n\n### Solution Derivation\nThe solution is derived from the fundamental principles of the discrete-time counter operation as described.\n\nFirst, we establish the total period of the PWM signal, $T_{PWM}$. The counter advances on a clock with period $T_s$. The count sequence from $0$ to $M$ constitutes the up-counting phase and takes $M$ clock ticks, for a duration of $M \\cdot T_s$. The sequence from $M$ back to $0$ constitutes the down-counting phase and also takes $M$ clock ticks, for a duration of $M \\cdot T_s$. The total period is the sum of the up-count and down-count durations.\n$$T_{PWM} = M \\cdot T_s + M \\cdot T_s = 2M \\cdot T_s$$\nThis aligns with the problem statement that there are $2M$ tick intervals per period.\n\nNext, we determine the on-time of the PWM pulse, $T_{on}$, as a function of the compare value $c$. The pulse is symmetric and center-aligned. Let time $t=0$ be the beginning of the cycle, where the counter value is $0$.\nThe rising edge of the PWM pulse occurs when the counter, during its up-count, reaches the value $c$. Since the counter increments by $1$ at each clock tick $T_s$, this event happens at time $t_{rise}$.\n$$t_{rise} = c \\cdot T_s$$\nThe falling edge of the PWM pulse occurs when the counter, during its down-count, reaches the value $c$. The up-count phase ends at the peak value $M$ at time $M \\cdot T_s$. The down-count then begins. To go from value $M$ down to value $c$, the counter must take $M-c$ steps. Each step takes $T_s$. Therefore, the time elapsed from the peak to the falling edge is $(M-c) \\cdot T_s$. The absolute time of the falling edge, $t_{fall}$, is:\n$$t_{fall} = (\\text{time to peak}) + (\\text{time from peak to } c) = M \\cdot T_s + (M-c) \\cdot T_s = (2M-c) \\cdot T_s$$\nThe on-time, $T_{on}$, is the duration between the falling and rising edges.\n$$T_{on}(c) = t_{fall} - t_{rise} = (2M-c) \\cdot T_s - c \\cdot T_s = (2M - 2c) \\cdot T_s$$\nThe duty ratio, $D$, is defined as the ratio of the on-time to the total period.\n$$D(c) = \\frac{T_{on}(c)}{T_{PWM}} = \\frac{(2M - 2c) \\cdot T_s}{2M \\cdot T_s} = \\frac{2(M - c)}{2M} = \\frac{M - c}{M}$$\n\nThe duty resolution is defined as the smallest positive increment in $D$ that can be produced by changing $c$ by its minimal quantum. The compare value $c$ is an integer, so its minimal quantum of change is $\\Delta c = \\pm 1$.\nThe relationship between $D$ and $c$ is $D(c) = 1 - c/M$. To achieve a positive increment in $D$, we must decrease $c$. The smallest change in $c$ that produces a positive change in $D$ is $\\Delta c = -1$.\nLet the new compare value be $c' = c - 1$. The new duty ratio is $D(c')$.\n$$D(c') = \\frac{M - c'}{M} = \\frac{M - (c-1)}{M} = \\frac{M-c+1}{M}$$\nThe change in duty ratio, $\\Delta D$, is the difference between the new duty ratio and the original one.\n$$\\Delta D = D(c') - D(c) = \\frac{M-c+1}{M} - \\frac{M-c}{M} = \\frac{(M-c+1) - (M-c)}{M} = \\frac{1}{M}$$\nThis increment is a constant positive value for any allowed integer change in $c$. It does not depend on the specific value of $c$. Thus, this is the smallest positive increment achievable.\nThe requirement of preserving symmetry is inherently satisfied. The center of the pulse is located at $\\frac{t_{rise} + t_{fall}}{2} = \\frac{c \\cdot T_s + (2M-c) \\cdot T_s}{2} = \\frac{2M \\cdot T_s}{2} = M \\cdot T_s$. Since this time is independent of $c$, changing $c$ modifies the pulse width symmetrically around this fixed center point.\nTherefore, the maximum achievable duty resolution is $\\frac{1}{M}$.",
            "answer": "$$ \\boxed{\\frac{1}{M}} $$"
        },
        {
            "introduction": "Ideal models provide a foundation, but real-world engineering requires accounting for physical constraints. This practice introduces the critical concept of minimum pulse width, a non-negotiable requirement for the reliable operation of power devices like SiC MOSFETs. You will determine how this hardware limitation restricts the achievable duty cycle range and reduces the number of usable steps, moving from a theoretical model to a practical design scenario .",
            "id": "3833803",
            "problem": "A Silicon Carbide (SiC) Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) half-bridge in a direct current to direct current (DC-DC) converter is driven by a digital Pulse Width Modulation (PWM) signal generated from an edge-aligned timer. The timer is clocked at frequency $f_{\\text{clk}}$ and resets every switching period $T_{\\text{sw}}$, producing a single rising edge at the beginning of the period and a falling edge when the counter reaches a programmable compare value. The commanded on-time is therefore quantized to integer multiples of the time-base $\\Delta t = 1/f_{\\text{clk}}$. The gate driver and device dynamics require that any high pulse and any low interval be at least a minimum pulse width $t_{\\min}$ to guarantee proper switching and avoid shoot-through under all operating conditions.\n\nGiven $f_{\\text{clk}} = 100\\,\\text{MHz}$, $T_{\\text{sw}} = 50\\,\\mu\\text{s}$, and $t_{\\min} = 120\\,\\text{ns}$, determine from first principles:\n- the feasible duty cycle range $D$ such that both the high interval and the low interval satisfy the minimum pulse width requirement, and\n- the number of usable duty steps available to the digital PWM when the on-time must be an integer multiple of $\\Delta t$ and both the minimum high-time and minimum low-time constraints are enforced.\n\nRound each endpoint of the duty cycle range to six significant figures. The number of steps is an exact integer and should be left exact. Express the final answer as a row matrix using the order $\\left(D_{\\min}\\ D_{\\max}\\ N_{\\text{usable}}\\right)$, with duty cycle expressed as a unitless decimal.",
            "solution": "The problem is first validated for consistency and scientific soundness. The givens are: timer clock frequency $f_{\\text{clk}} = 100\\,\\text{MHz}$, switching period $T_{\\text{sw}} = 50\\,\\mu\\text{s}$, and a minimum required pulse width (both high and low) of $t_{\\min} = 120\\,\\text{ns}$. The scenario describes a standard digital Pulse Width Modulation (PWM) generation scheme, and the numerical values are physically realistic for a modern power electronic converter utilizing Silicon Carbide (SiC) devices. The problem is well-posed, unambiguous, and contains all necessary information to derive a unique solution. Therefore, the problem is deemed valid and a formal solution can be constructed.\n\nThe core of the problem lies in the quantization of the PWM on-time, $t_{\\text{on}}$, and the constraints imposed by the minimum pulse width requirement, $t_{\\min}$.\n\nFirst, we determine the fundamental time resolution, or time-base $\\Delta t$, of the digital PWM generator. This is the inverse of the timer clock frequency, $f_{\\text{clk}}$:\n$$\n\\Delta t = \\frac{1}{f_{\\text{clk}}} = \\frac{1}{100 \\times 10^6\\,\\text{Hz}} = 10 \\times 10^{-9}\\,\\text{s} = 10\\,\\text{ns}\n$$\nThe on-time $t_{\\text{on}}$ is constrained to be an integer multiple of this time step. We can express this as:\n$$\nt_{\\text{on}} = N \\cdot \\Delta t\n$$\nwhere $N$ is a non-negative integer representing the compare value in the timer.\n\nThe problem imposes two critical constraints:\n1. The high-time interval, $t_{\\text{on}}$, must be greater than or equal to $t_{\\min}$.\n2. The low-time interval, $t_{\\text{off}}$, must be greater than or equal to $t_{\\min}$.\n\nLet us analyze the first constraint for the minimum on-time:\n$$\nt_{\\text{on}} \\geq t_{\\min}\n$$\nSubstituting the quantized expression for $t_{\\text{on}}$:\n$$\nN \\cdot \\Delta t \\geq t_{\\min}\n$$\nSolving for the integer $N$ gives the minimum number of clock cycles for a valid on-time:\n$$\nN \\geq \\frac{t_{\\min}}{\\Delta t} = \\frac{120\\,\\text{ns}}{10\\,\\text{ns}} = 12\n$$\nSince $N$ must be an integer, the minimum allowable value for the compare register is $N_{\\min} = 12$.\n\nNext, we analyze the second constraint for the minimum off-time. The off-time is the remainder of the switching period:\n$$\nt_{\\text{off}} = T_{\\text{sw}} - t_{\\text{on}} = T_{\\text{sw}} - N \\cdot \\Delta t\n$$\nThe constraint on $t_{\\text{off}}$ is:\n$$\nt_{\\text{off}} \\geq t_{\\min}\n$$\nSubstituting the expression for $t_{\\text{off}}$:\n$$\nT_{\\text{sw}} - N \\cdot \\Delta t \\geq t_{\\min}\n$$\nWe rearrange this inequality to solve for the maximum allowable value of $N$:\n$$\nN \\cdot \\Delta t \\leq T_{\\text{sw}} - t_{\\min}\n$$\n$$\nN \\leq \\frac{T_{\\text{sw}} - t_{\\min}}{\\Delta t}\n$$\nTo perform this calculation, we express all time values in consistent units, for example, nanoseconds. Given $T_{\\text{sw}} = 50\\,\\mu\\text{s} = 50000\\,\\text{ns}$:\n$$\nN \\leq \\frac{50000\\,\\text{ns} - 120\\,\\text{ns}}{10\\,\\text{ns}} = \\frac{49880\\,\\text{ns}}{10\\,\\text{ns}} = 4988\n$$\nSince $N$ must be an integer, the maximum allowable value for the compare register is $N_{\\max} = 4988$.\n\nWith the valid integer range for $N$ being $[12, 4988]$, we can now determine the feasible duty cycle range. The duty cycle $D$ is defined as $D = \\frac{t_{\\text{on}}}{T_{\\text{sw}}} = \\frac{N \\cdot \\Delta t}{T_{\\text{sw}}}$.\n\nThe minimum feasible duty cycle, $D_{\\min}$, corresponds to $N_{\\min}$:\n$$\nD_{\\min} = \\frac{N_{\\min} \\cdot \\Delta t}{T_{\\text{sw}}} = \\frac{12 \\cdot 10\\,\\text{ns}}{50\\,\\mu\\text{s}} = \\frac{120 \\times 10^{-9}\\,\\text{s}}{50 \\times 10^{-6}\\,\\text{s}} = 0.0024\n$$\nThe maximum feasible duty cycle, $D_{\\max}$, corresponds to $N_{\\max}$:\n$$\nD_{\\max} = \\frac{N_{\\max} \\cdot \\Delta t}{T_{\\text{sw}}} = \\frac{4988 \\cdot 10\\,\\text{ns}}{50\\,\\mu\\text{s}} = \\frac{49880 \\times 10^{-9}\\,\\text{s}}{50 \\times 10^{-6}\\,\\text{s}} = 0.9976\n$$\nThe problem requires these values to be rounded to six significant figures:\n$$\nD_{\\min} = 0.00240000\n$$\n$$\nD_{\\max} = 0.997600\n$$\n\nFinally, we calculate the number of usable duty steps, $N_{\\text{usable}}$. This is the total number of integer values available for $N$ within the determined feasible range, from $N_{\\min} = 12$ to $N_{\\max} = 4988$, inclusive.\n$$\nN_{\\text{usable}} = N_{\\max} - N_{\\min} + 1 = 4988 - 12 + 1 = 4976 + 1 = 4977\n$$\nThis value is an exact integer.\n\nThe three requested values are $D_{\\min}$, $D_{\\max}$, and $N_{\\text{usable}}$.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 0.00240000 & 0.997600 & 4977 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "Modern digital controllers often demand a finer resolution than the base hardware can provide, leading to techniques like dithering. This exercise elevates our perspective to the system level, where quantization errors arise from both the controller's finite word length and the PWM hardware's finite steps. Your task is to perform an error budget analysis to determine the necessary controller precision to meet an overall system performance target, a crucial skill in high-performance digital control design .",
            "id": "3833838",
            "problem": "A digitally controlled buck converter employs Digital Pulse-Width Modulation (DPWM) to synthesize the commanded duty cycle. The DPWM uses an edge-aligned timer clocked at frequency $f_{\\mathrm{clk}}$ and a switching period at frequency $f_{\\mathrm{s}}$. The timer provides $M = f_{\\mathrm{clk}}/f_{\\mathrm{s}}$ discrete on-time locations per switching period. To enhance resolution, the controller applies period-to-period dithering with a deterministic schedule of length $L$, wherein the on-time alternates between adjacent timer counts such that the time-averaged duty over $L$ consecutive periods is as close as possible to the desired average.\n\nThe controller represents the requested duty cycle $D^{*} \\in [0,1]$ with a fixed-point word of length $N$ bits, using round-to-nearest mapping from real $D^{*}$ to the representable $N$-bit fraction. The DPWM hardware, given this requested fraction, realizes the closest time-averaged duty achievable by the $L$-period dithering schedule and the timer quantization. Assume both mappings are monotone and use round-to-nearest at their respective granularities.\n\nLet the maximum acceptable absolute error in the time-averaged duty across the full duty range be $\\varepsilon$. Given $f_{\\mathrm{clk}} = 100\\,\\mathrm{MHz}$, $f_{\\mathrm{s}} = 200\\,\\mathrm{kHz}$, $L = 8$, and $\\varepsilon = 2.0 \\times 10^{-4}$, compute the minimum integer word length $N$ (in bits) such that the worst-case absolute error in the realized time-averaged duty remains below $\\varepsilon$ for every $D^{*} \\in [0,1]$. Express your final answer as the integer number of bits. No rounding instruction is needed beyond selecting the minimal integer that satisfies the requirement.",
            "solution": "The problem requires finding the minimum integer word length $N$ for a digital controller to ensure the total error in the realized duty cycle of a Digital Pulse-Width Modulator (DPWM) is below a specified threshold $\\varepsilon$. The system involves two stages of quantization: first, the ideal duty cycle $D^{*}$ is quantized to an $N$-bit fixed-point representation $D_N$; second, this value $D_N$ is realized by a dithered DPWM, resulting in a time-averaged duty cycle $D_{\\mathrm{avg}}$. The total error is the absolute difference between the ideal command and the final realized value, $|D^{*} - D_{\\mathrm{avg}}|$.\n\nFirst, we must characterize the resolution of the hardware components.\nThe DPWM timer is clocked at a frequency $f_{\\mathrm{clk}} = 100\\,\\mathrm{MHz}$ and operates with a switching frequency $f_{\\mathrm{s}} = 200\\,\\mathrm{kHz}$. The number of discrete on-time timer counts, $M$, available in one switching period $T_s = 1/f_{\\mathrm{s}}$ is given by the ratio of the frequencies:\n$$M = \\frac{f_{\\mathrm{clk}}}{f_{\\mathrm{s}}} = \\frac{100 \\times 10^6\\,\\mathrm{Hz}}{200 \\times 10^3\\,\\mathrm{Hz}} = 500$$\nThe fundamental resolution of the non-dithered DPWM is $\\Delta D_{\\mathrm{PWM}} = 1/M = 1/500$.\n\nThe system employs dithering over a schedule of length $L=8$ periods to enhance resolution. This technique generates a time-averaged duty cycle by alternating between adjacent timer levels. Over $L$ periods, the number of achievable duty cycle steps between $0$ and $1$ is increased by a factor of $L$. The resolution of the dithered DPWM, $\\Delta D_{\\mathrm{dither}}$, is therefore:\n$$\\Delta D_{\\mathrm{dither}} = \\frac{1}{L \\cdot M} = \\frac{1}{8 \\times 500} = \\frac{1}{4000} = 2.5 \\times 10^{-4}$$\n\nThe total error in the system arises from two distinct quantization steps. Let the ideal requested duty cycle be $D^{*} \\in [0,1]$.\n1.  The ideal value $D^{*}$ is represented by an $N$-bit fixed-point number, which we denote as $D_N$. The resolution of this digital representation is $\\Delta D_{N} = 1/2^N$. The problem states this mapping uses rounding to the nearest representable value. The maximum quantization error for a round-to-nearest mapping is half the quantization step size. Therefore, the maximum error from this first step, $E_1$, is:\n    $$E_{1, \\mathrm{max}} = |D^{*} - D_N|_{\\mathrm{max}} = \\frac{1}{2} \\Delta D_N = \\frac{1}{2} \\cdot \\frac{1}{2^N} = \\frac{1}{2^{N+1}}$$\n\n2.  The digital value $D_N$ is then sent to the DPWM hardware, which realizes the closest possible time-averaged duty cycle, $D_{\\mathrm{avg}}$, using its dithered levels. The resolution of these levels is $\\Delta D_{\\mathrm{dither}}$. This is also a round-to-nearest mapping. The maximum quantization error from this second step, $E_2$, is:\n    $$E_{2, \\mathrm{max}} = |D_N - D_{\\mathrm{avg}}|_{\\mathrm{max}} = \\frac{1}{2} \\Delta D_{\\mathrm{dither}} = \\frac{1}{2} \\cdot \\frac{1}{LM}$$\n\nThe total absolute error between the ideal command $D^{*}$ and the final output $D_{\\mathrm{avg}}$ can be bounded using the triangle inequality:\n$$|D^{*} - D_{\\mathrm{avg}}| = |(D^{*} - D_N) + (D_N - D_{\\mathrm{avg}})| \\le |D^{*} - D_N| + |D_N - D_{\\mathrm{avg}}|$$\nThe worst-case absolute error, $\\Delta D_{\\mathrm{max}}$, occurs when the individual errors add constructively. This corresponds to the sum of the maximum errors from each stage:\n$$\\Delta D_{\\mathrm{max}} = E_{1, \\mathrm{max}} + E_{2, \\mathrm{max}} = \\frac{1}{2^{N+1}} + \\frac{1}{2LM}$$\n\nThe problem requires this worst-case error to be less than the maximum acceptable error, $\\varepsilon = 2.0 \\times 10^{-4}$.\n$$\\frac{1}{2^{N+1}} + \\frac{1}{2LM} < \\varepsilon$$\n\nNow, we substitute the known values into this inequality. The hardware-related error term is:\n$$\\frac{1}{2LM} = \\frac{1}{2 \\times 8 \\times 500} = \\frac{1}{8000} = 1.25 \\times 10^{-4}$$\nSubstituting this value into our inequality:\n$$\\frac{1}{2^{N+1}} + 1.25 \\times 10^{-4} < 2.0 \\times 10^{-4}$$\n\nWe solve for $N$. First, isolate the term containing $N$:\n$$\\frac{1}{2^{N+1}} < 2.0 \\times 10^{-4} - 1.25 \\times 10^{-4}$$\n$$\\frac{1}{2^{N+1}} < 0.75 \\times 10^{-4}$$\nNow, we take the reciprocal of both sides, which reverses the inequality sign:\n$$2^{N+1} > \\frac{1}{0.75 \\times 10^{-4}} = \\frac{1}{\\frac{3}{4} \\times 10^{-4}} = \\frac{4}{3} \\times 10^4 = \\frac{40000}{3}$$\nThe fraction $\\frac{40000}{3}$ is approximately $13333.33$. To find the minimum integer $N$, we take the base-$2$ logarithm of both sides:\n$$N+1 > \\log_{2}\\left(\\frac{40000}{3}\\right)$$\n$$N > \\log_{2}\\left(\\frac{40000}{3}\\right) - 1$$\nWe can evaluate the logarithm:\n$$\\log_{2}\\left(\\frac{40000}{3}\\right) \\approx \\log_{2}(13333.33) = \\frac{\\ln(13333.33)}{\\ln(2)} \\approx \\frac{9.50}{0.6931} \\approx 13.7004$$\nSubstituting this value back into the inequality for $N$:\n$$N > 13.7004 - 1$$\n$$N > 12.7004$$\nSince $N$ must be an integer, the smallest integer value for $N$ that satisfies this condition is $13$.\n\nTo verify, if $N=12$, the error from the controller is $\\frac{1}{2^{13}} = \\frac{1}{8192} \\approx 1.2207 \\times 10^{-4}$. The total error would be $\\approx 1.2207 \\times 10^{-4} + 1.25 \\times 10^{-4} = 2.4707 \\times 10^{-4}$, which is greater than $\\varepsilon = 2.0 \\times 10^{-4}$.\nIf $N=13$, the error from the controller is $\\frac{1}{2^{14}} = \\frac{1}{16384} \\approx 6.1035 \\times 10^{-5}$. The total error would be $\\approx 6.1035 \\times 10^{-5} + 1.25 \\times 10^{-4} = 1.86035 \\times 10^{-4}$, which is less than $\\varepsilon = 2.0 \\times 10^{-4}$.\nThus, the minimum integer word length required is $N=13$.",
            "answer": "$$ \\boxed{13} $$"
        }
    ]
}