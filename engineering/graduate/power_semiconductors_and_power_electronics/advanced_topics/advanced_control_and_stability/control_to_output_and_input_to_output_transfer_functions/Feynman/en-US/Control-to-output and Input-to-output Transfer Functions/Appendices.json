{
    "hands_on_practices": [
        {
            "introduction": "This practice establishes the bedrock of converter modeling: deriving the control-to-output transfer function, $G_{vd}(s)$, for an ideal buck converter from first principles. You will use the state-space averaging technique to create a small-signal model and then perform a crucial verification step. This exercise  demonstrates that the model's low-frequency (DC) gain correctly corresponds to the converter's large-signal static behavior, providing a fundamental check on your analytical work.",
            "id": "3830030",
            "problem": "An ideal pulse-width modulated buck direct current (DC)-DC converter operating in Continuous Conduction Mode (CCM) supplies a resistive load. The switching frequency is sufficiently high so that the averaged model is valid. The converter uses an ideal switch and ideal diode; parasitic resistances and capacitor equivalent series resistance are negligible. The input voltage is a constant $V_{g}$, the output voltage is $V_{o}$ across a load resistance $R$, the inductor is $L$, and the capacitor is $C$. The duty ratio is $D \\in (0,1)$ and its small-signal perturbation is $\\hat{d}(t)$ about a steady-state operating point $D^{\\star}$. The small-signal output-voltage perturbation is $\\hat{v}_{o}(t)$ about $V_{o}^{\\star}$, and the small-signal control-to-output transfer function is $G_{vd}(s) = \\hat{v}_{o}(s) / \\hat{d}(s)$. Assume the averaged state variables are the inductor current $i_{L}(t)$ and the capacitor voltage $v_{o}(t)$.\n\n- Parameters: $V_{g} = 36\\,\\text{V}$, $R = 4\\,\\Omega$, $L = 200\\,\\mu\\text{H}$, $C = 100\\,\\mu\\text{F}$, and a desired steady-state output voltage $V_{o}^{\\star} = 12\\,\\text{V}$.\n\nStarting from fundamental switched network laws and the principle of volt-second balance on the inductor, derive the averaged large-signal model and the corresponding steady-state relationships. Then linearize the averaged model about the steady-state operating point to obtain the small-signal linear time-invariant model. From this, derive the control-to-output transfer function $G_{vd}(s)$ without invoking any pre-memorized converter transfer function forms.\n\nProceed to:\n1. Compute the operating point duty ratio $D^{\\star}$ that achieves the specified $V_{o}^{\\star}$ for the given $V_{g}$.\n2. Evaluate the low-frequency limit $\\lim_{s \\to 0} G_{vd}(s)$.\n3. Compute $\\partial V_{o}/\\partial D$ from the large-signal averaged relationship at the operating point and relate it to the low-frequency limit of $G_{vd}(s)$ to confirm consistency with the averaged model.\n\nExpress $D^{\\star}$ as a pure number (unitless). Express the low-frequency limit $\\lim_{s \\to 0} G_{vd}(s)$ in volts per unit duty ratio. No rounding is required; provide exact values.",
            "solution": "The problem requires the derivation of the control-to-output transfer function for an ideal buck converter operating in Continuous Conduction Mode (CCM), followed by the computation of specific operating point parameters and transfer function characteristics. The derivation must start from fundamental principles.\n\nFirst, we establish the large-signal averaged model of the converter. The state variables are the inductor current, $i_L(t)$, and the capacitor voltage, $v_o(t)$, which is also the output voltage. The input is the constant DC voltage $V_g$, and the control input is the instantaneous duty ratio $d(t)$. The load is a resistor $R$.\n\nThe buck converter operates in two states within a switching period $T_s$.\nState 1 (Switch ON, for time interval $d(t)T_s$): The switch connects the input voltage to the inductor. The inductor voltage $v_L(t)$ and capacitor current $i_C(t)$ are given by:\n$$v_L(t) = V_g - v_o(t)$$\n$$i_C(t) = i_L(t) - \\frac{v_o(t)}{R}$$\n\nState 2 (Switch OFF, for time interval $(1-d(t))T_s$): The switch is open, and the diode conducts to maintain inductor current flow. The inductor voltage and capacitor current are:\n$$v_L(t) = -v_o(t)$$\n$$i_C(t) = i_L(t) - \\frac{v_o(t)}{R}$$\n\nWe apply the principle of state-space averaging, which is valid when the switching frequency is high enough that the state variables do not change significantly within one switching period. The dynamics of the averaged state variables are governed by the averaged differential equations.\n\nThe averaged inductor voltage over one switching period is:\n$$ \\langle v_L(t) \\rangle = d(t) \\cdot (V_g - v_o(t)) + (1-d(t)) \\cdot (-v_o(t)) = d(t)V_g - v_o(t) $$\nBy Faraday's law of induction applied to the averaged quantities, $L \\frac{d\\langle i_L(t) \\rangle}{dt} = \\langle v_L(t) \\rangle$. Using $i_L(t)$ and $v_o(t)$ to represent the averaged quantities, our first state equation is:\n$$ L \\frac{di_L(t)}{dt} = d(t)V_g - v_o(t) $$\n\nThe averaged capacitor current is:\n$$ \\langle i_C(t) \\rangle = d(t) \\cdot \\left(i_L(t) - \\frac{v_o(t)}{R}\\right) + (1-d(t)) \\cdot \\left(i_L(t) - \\frac{v_o(t)}{R}\\right) = i_L(t) - \\frac{v_o(t)}{R} $$\nThe capacitor state equation is $C \\frac{d\\langle v_o(t) \\rangle}{dt} = \\langle i_C(t) \\rangle$. This gives the second state equation:\n$$ C \\frac{dv_o(t)}{dt} = i_L(t) - \\frac{v_o(t)}{R} $$\n\nThese two equations form the large-signal averaged model of the buck converter.\n\nNext, we determine the steady-state (DC) operating point. In steady-state, the time derivatives are zero, and the variables are constant DC quantities: $d(t) = D^{\\star}$, $i_L(t) = I_L^{\\star}$, and $v_o(t) = V_o^{\\star}$.\nSetting the derivatives to zero:\n$$ 0 = D^{\\star}V_g - V_o^{\\star} $$\n$$ 0 = I_L^{\\star} - \\frac{V_o^{\\star}}{R} $$\nFrom these, we find the steady-state relationships:\n$$ V_o^{\\star} = D^{\\star}V_g $$\n$$ I_L^{\\star} = \\frac{V_o^{\\star}}{R} $$\n\nNow, we linearize the averaged model around this steady-state operating point (quiescent point) to find the small-signal model. We introduce small perturbations:\n$$ d(t) = D^{\\star} + \\hat{d}(t) $$\n$$ i_L(t) = I_L^{\\star} + \\hat{i}_L(t) $$\n$$ v_o(t) = V_o^{\\star} + \\hat{v}_o(t) $$\nThe input voltage $V_g$ is constant, so its perturbation is zero. Substituting these into the averaged state equations:\n$$ L \\frac{d(I_L^{\\star} + \\hat{i}_L(t))}{dt} = (D^{\\star} + \\hat{d}(t))V_g - (V_o^{\\star} + \\hat{v}_o(t)) $$\n$$ C \\frac{d(V_o^{\\star} + \\hat{v}_o(t))}{dt} = (I_L^{\\star} + \\hat{i}_L(t)) - \\frac{V_o^{\\star} + \\hat{v}_o(t)}{R} $$\nExpanding and simplifying:\n$$ L \\frac{d\\hat{i}_L(t)}{dt} = D^{\\star}V_g + \\hat{d}(t)V_g - V_o^{\\star} - \\hat{v}_o(t) $$\n$$ C \\frac{d\\hat{v}_o(t)}{dt} = I_L^{\\star} + \\hat{i}_L(t) - \\frac{V_o^{\\star}}{R} - \\frac{\\hat{v}_o(t)}{R} $$\nWe subtract the steady-state (DC) terms, which sum to zero ($D^{\\star}V_g - V_o^{\\star} = 0$ and $I_L^{\\star} - V_o^{\\star}/R = 0$). This leaves the small-signal AC model:\n$$ L \\frac{d\\hat{i}_L(t)}{dt} = V_g\\hat{d}(t) - \\hat{v}_o(t) $$\n$$ C \\frac{d\\hat{v}_o(t)}{dt} = \\hat{i}_L(t) - \\frac{\\hat{v}_o(t)}{R} $$\n\nTo find the control-to-output transfer function $G_{vd}(s) = \\frac{\\hat{v}_o(s)}{\\hat{d}(s)}$, we take the Laplace transform of the small-signal equations, with the operator $\\frac{d}{dt}$ becoming multiplication by $s$:\n$$ sL\\hat{i}_L(s) = V_g\\hat{d}(s) - \\hat{v}_o(s) $$\n$$ sC\\hat{v}_o(s) = \\hat{i}_L(s) - \\frac{1}{R}\\hat{v}_o(s) $$\nFrom the second equation, we express $\\hat{i}_L(s)$ in terms of $\\hat{v}_o(s)$:\n$$ \\hat{i}_L(s) = sC\\hat{v}_o(s) + \\frac{1}{R}\\hat{v}_o(s) = \\left(sC + \\frac{1}{R}\\right)\\hat{v}_o(s) $$\nSubstitute this expression for $\\hat{i}_L(s)$ into the first equation:\n$$ sL\\left(sC + \\frac{1}{R}\\right)\\hat{v}_o(s) = V_g\\hat{d}(s) - \\hat{v}_o(s) $$\nNow, we group terms with $\\hat{v}_o(s)$ and solve for the ratio $\\frac{\\hat{v}_o(s)}{\\hat{d}(s)}$:\n$$ \\left(s^2LC + s\\frac{L}{R} + 1\\right)\\hat{v}_o(s) = V_g\\hat{d}(s) $$\n$$ G_{vd}(s) = \\frac{\\hat{v}_o(s)}{\\hat{d}(s)} = \\frac{V_g}{s^2LC + s\\frac{L}{R} + 1} $$\nThis is the desired control-to-output transfer function.\n\nNow we proceed to the specific computations.\nThe given parameters are $V_g = 36\\,\\text{V}$, $R = 4\\,\\Omega$, $L = 200\\,\\mu\\text{H} = 2 \\times 10^{-4}\\,\\text{H}$, $C = 100\\,\\mu\\text{F} = 1 \\times 10^{-4}\\,\\text{F}$, and $V_{o}^{\\star} = 12\\,\\text{V}$.\n\n1.  Compute the operating point duty ratio $D^{\\star}$.\n    Using the steady-state voltage relationship $V_o^{\\star} = D^{\\star}V_g$:\n    $$ D^{\\star} = \\frac{V_o^{\\star}}{V_g} = \\frac{12\\,\\text{V}}{36\\,\\text{V}} = \\frac{1}{3} $$\n\n2.  Evaluate the low-frequency limit $\\lim_{s \\to 0} G_{vd}(s)$.\n    The DC gain of the transfer function is found by setting $s=0$:\n    $$ \\lim_{s \\to 0} G_{vd}(s) = \\lim_{s \\to 0} \\frac{V_g}{s^2LC + s\\frac{L}{R} + 1} = \\frac{V_g}{0^2LC + 0\\frac{L}{R} + 1} = V_g $$\n    Substituting the value of $V_g$:\n    $$ \\lim_{s \\to 0} G_{vd}(s) = 36\\,\\text{V} $$\n    The units are volts per unit duty ratio.\n\n3.  Compute $\\partial V_{o}/\\partial D$ from the large-signal averaged relationship and confirm consistency.\n    The large-signal steady-state relationship is $V_o = D V_g$. We treat $V_o$ as a function of $D$ and compute the partial derivative:\n    $$ \\frac{\\partial V_o}{\\partial D} = \\frac{\\partial}{\\partial D}(D V_g) = V_g $$\n    This derivative is constant and does not depend on the specific operating point. Evaluating this for the given $V_g$:\n    $$ \\frac{\\partial V_o}{\\partial D} = 36\\,\\text{V} $$\n    This result is identical to the low-frequency gain of the small-signal transfer function derived in part 2. This confirms the consistency of the linearization process, as the DC gain of a small-signal model must equal the slope of the large-signal static characteristic at the quiescent point.",
            "answer": "$$ \\boxed{ \\begin{pmatrix} \\frac{1}{3} & 36 \\end{pmatrix} } $$"
        },
        {
            "introduction": "While the buck converter is well-behaved, the boost converter presents a notorious control challenge: a right-half-plane (RHP) zero in its transfer function. This practice  delves into the physical origins of this non-minimum phase behavior and why it complicates controller design. You will then analyze the converter in Discontinuous Conduction Mode (DCM) to see how the dynamics fundamentally change, causing the problematic zero to move into the stable left-half plane.",
            "id": "3830051",
            "problem": "An ideal boost converter supplies a resistive load using a switching network composed of a Metal–Oxide–Semiconductor Field-Effect Transistor (MOSFET) and a diode, with inductance $L$, capacitance $C$, input voltage $V_{g}$, load resistance $R$, and switching period $T_{s}$. The duty ratio is denoted $D$, and $D' \\equiv 1 - D$. Assume continuous-time state-space averaging applies and all components are ideal. The state variables are the inductor current $i_{L}(t)$ and the output capacitor voltage $v_{C}(t)$, and the output voltage is $v_{o}(t) = v_{C}(t)$. \n\nUsing Kirchhoff’s Voltage Law (KVL), Kirchhoff’s Current Law (KCL), and the constitutive relations $v_{L} = L \\frac{d i_{L}}{dt}$ and $i_{C} = C \\frac{d v_{C}}{dt}$, perform the following:\n\n1. Construct the state-space averaged model for the boost converter in Continuous Conduction Mode (CCM), starting from the two subintervals of the switching period (transistor on, transistor off). Linearize the model for small perturbations around a steady operating point and derive the duty-to-output transfer function $G_{vd}(s) \\equiv \\hat{v}_{o}(s)/\\hat{d}(s)$. Demonstrate from first principles why the numerator contains a right-half-plane (RHP) zero in CCM, and express its location $s = z_{\\mathrm{CCM}}$ in terms of $R$, $L$, and $D$.\n\n2. Construct the state-space averaged model for the boost converter in Discontinuous Conduction Mode (DCM), accounting for the third subinterval in which $i_{L}(t) = 0$ and the diode is off, and let $\\delta$ denote the fraction of the period for which the diode conducts. Linearize the resulting averaged model near the boundary between CCM and DCM and show, by explicit reasoning based on the instantaneous current injection into the output capacitor, why the duty-to-output transfer function becomes minimum-phase with a left-half-plane (LHP) zero in DCM. Derive an approximation for the DCM zero location $s = z_{\\mathrm{DCM}}$ in terms of the per-cycle inductor-current injection weighting and the on-time $T_{\\mathrm{on}} = D T_{s}$.\n\n3. Use your CCM result to determine the critical conduction condition by enforcing that the inductor current just reaches zero at the end of the off interval. From this, obtain the boundary relation connecting $R$, $L$, $D$, and $T_{s}$. Then, evaluate the CCM RHP zero location $z_{\\mathrm{CCM}}$ at this boundary. Finally, estimate, using your DCM numerator derivation, the corresponding DCM LHP zero location at the CCM/DCM boundary, and provide it as a closed-form analytic expression in terms of $D$ and $T_{s}$.\n\nExpress the final answer as a single analytic expression for the DCM zero location at the CCM/DCM boundary in radians per second. No numerical rounding is required. Do not include units in the final boxed expression; all intermediate derivations must include the units explicitly where appropriate.",
            "solution": "The problem requires a multi-part analysis of a boost converter's dynamics in Continuous Conduction Mode (CCM) and Discontinuous Conduction Mode (DCM), focusing on the control-to-output transfer function and the nature of its zeros. The solution proceeds by validating the problem statement, then addressing each of the three parts in sequence.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n- **System**: An ideal boost converter.\n- **Components**: Inductor ($L$), Capacitor ($C$), MOSFET, diode, resistive load ($R$).\n- **Inputs**: Input voltage $V_g$, duty ratio $D$.\n- **Parameters**: Switching period $T_s$, $D' \\equiv 1 - D$.\n- **State Variables**: Inductor current $i_L(t)$, capacitor voltage $v_C(t)$.\n- **Output**: Output voltage $v_o(t) = v_C(t)$.\n- **Assumptions**: Continuous-time state-space averaging applies, all components are ideal.\n- **Tasks**:\n    1.  Derive the CCM state-space averaged model, linearize it, find the duty-to-output transfer function $G_{vd}(s) \\equiv \\hat{v}_{o}(s)/\\hat{d}(s)$, and demonstrate from first principles the existence and location of the Right-Half-Plane (RHP) zero $z_{\\mathrm{CCM}}$.\n    2.  Construct the DCM state-space averaged model, reason why the transfer function becomes minimum-phase (has a Left-Half-Plane, LHP, zero), and derive an approximation for the DCM zero location $z_{\\mathrm{DCM}}$.\n    3.  Determine the CCM/DCM boundary condition, evaluate $z_{\\mathrm{CCM}}$ at this boundary, and estimate the corresponding $z_{\\mathrm{DCM}}$ at the boundary.\n\n**Step 2: Validate Using Extracted Givens**\n-   **Scientifically Grounded**: The problem is based on the standard and well-established theory of DC-DC switching converters, specifically the boost topology. The use of state-space averaging is a fundamental technique in power electronics modeling.\n-   **Well-Posed**: The problem is structured to lead to a unique and meaningful set of analytical results. The required derivations are standard exercises in the field.\n-   **Objective**: The language is precise and unbiased. All terms are standard within the discipline.\n\nThe problem does not violate any of the invalidity criteria. It is a standard, albeit advanced, problem in power electronics.\n\n**Step 3: Verdict and Action**\nThe problem is valid. The solution will now be derived.\n\n### Part 1: CCM Analysis and RHP Zero\n\nFirst, we establish the state-space model for the two subintervals of a switching period $T_s$ in CCM.\n1.  **Interval 1: $0 < t \\leq D T_s$ (MOSFET ON, Diode OFF)**\n    Applying KVL to the inductor loop and KCL to the output node:\n    $$L \\frac{d i_L}{dt} = v_g$$\n    $$C \\frac{d v_C}{dt} = -\\frac{v_C}{R}$$\n2.  **Interval 2: $D T_s < t \\leq T_s$ (MOSFET OFF, Diode ON)**\n    $$L \\frac{d i_L}{dt} = v_g - v_C$$\n    $$C \\frac{d v_C}{dt} = i_L - \\frac{v_C}{R}$$\n\nUsing state-space averaging, we average the dynamics over one switching period:\n$$L \\frac{d \\langle i_L \\rangle}{dt} = D(v_g) + (1-D)(v_g - v_C) = v_g - (1-D)v_C$$\n$$C \\frac{d \\langle v_C \\rangle}{dt} = D\\left(-\\frac{v_C}{R}\\right) + (1-D)\\left(i_L - \\frac{v_C}{R}\\right) = (1-D)i_L - \\frac{v_C}{R}$$\nWe now linearize this model around a steady-state (DC) operating point, defined by $i_L(t) = I_L + \\hat{i}_L(t)$, $v_C(t) = V_C + \\hat{v}_C(t)$, $v_g(t) = V_g + \\hat{v}_g(t)$, and $d(t) = D + \\hat{d}(t)$. Note that $d'(t) = 1-d(t) = D' - \\hat{d}(t)$. Substituting these into the averaged equations and retaining only the first-order perturbation (AC) terms, we get:\n$$L \\frac{d \\hat{i}_L}{dt} = \\hat{v}_g - D'\\hat{v}_C + V_C\\hat{d}$$\n$$C \\frac{d \\hat{v}_C}{dt} = D'\\hat{i}_L - I_L\\hat{d} - \\frac{\\hat{v}_C}{R}$$\nThe DC terms give the steady-state relations: $V_C = V_g/D'$ and $I_L = V_C/(D'R) = V_g/((D')^2 R)$.\n\nTo find the duty-to-output transfer function $G_{vd}(s) = \\hat{v}_o(s) / \\hat{d}(s)$ (where $\\hat{v}_o = \\hat{v}_C$), we set the input voltage perturbation to zero ($\\hat{v}_g = 0$) and take the Laplace transform of the linearized equations:\n$$sL \\hat{i}_L(s) = -D'\\hat{v}_C(s) + V_C\\hat{d}(s)$$\n$$sC \\hat{v}_C(s) = D'\\hat{i}_L(s) - I_L\\hat{d}(s) - \\frac{\\hat{v}_C(s)}{R}$$\nFrom the first equation, we solve for $\\hat{i}_L(s)$:\n$$\\hat{i}_L(s) = \\frac{V_C\\hat{d}(s) - D'\\hat{v}_C(s)}{sL}$$\nSubstituting this into the second equation:\n$$sC \\hat{v}_C(s) + \\frac{\\hat{v}_C(s)}{R} = D'\\left(\\frac{V_C\\hat{d}(s) - D'\\hat{v}_C(s)}{sL}\\right) - I_L\\hat{d}(s)$$\nGrouping terms by $\\hat{v}_C(s)$ and $\\hat{d}(s)$:\n$$\\hat{v}_C(s) \\left( sC + \\frac{1}{R} + \\frac{(D')^2}{sL} \\right) = \\hat{d}(s) \\left( \\frac{D'V_C}{sL} - I_L \\right)$$\nThe transfer function is:\n$$G_{vd}(s) = \\frac{\\hat{v}_C(s)}{\\hat{d}(s)} = \\frac{\\frac{D'V_C}{sL} - I_L}{sC + \\frac{1}{R} + \\frac{(D')^2}{sL}} = \\frac{V_C D' - s L I_L}{s^2 LC + s \\frac{L}{R} + (D')^2}$$\nThe zeros of the transfer function are the roots of the numerator polynomial $N(s) = V_C D' - s L I_L$. Setting $N(s)=0$:\n$$s = z_{\\mathrm{CCM}} = \\frac{V_C D'}{L I_L}$$\nSubstituting the steady-state DC relations $V_C = V_g/D'$ and $I_L = V_C/(D'R)$:\n$$z_{\\mathrm{CCM}} = \\frac{(V_g/D') D'}{L (V_C/(D'R))} = \\frac{V_g}{L ( (V_g/D') / (D'R))} = \\frac{V_g}{L V_g / ((D')^2 R)} = \\frac{(D')^2 R}{L}$$\nSince $L > 0$, $R > 0$, and $D' = 1-D > 0$ for a functioning boost converter, the zero $z_{\\mathrm{CCM}}$ is always positive, meaning it lies in the right-half of the complex s-plane.\n\nThe physical reason for this RHP zero is the initial inverse response of the output voltage to a change in duty cycle. When the duty cycle $D$ is increased by a small amount $\\hat{d}$, the goal is to increase the output voltage. However, the immediate effect is to decrease the off-time duration $D'T_s$. During this off-time, the inductor current $i_L$ charges the output capacitor. By decreasing this duration, less charge is initially transferred to the output stage per cycle. The average current being supplied to the output, $\\langle i_{out} \\rangle \\approx D'I_L$, is immediately reduced by the term $-I_L\\hat{d}$ (from the linearization of $(D'-\\hat{d})I_L$). This causes the output voltage to dip before the inductor current builds up to a new, higher level to eventually raise the voltage. This non-minimum phase behavior—an initial response opposite to the final response—is the signature of an RHP zero.\n\n### Part 2: DCM Analysis and LHP Zero\n\nIn DCM, the inductor current falls to zero before the end of the switching cycle. This introduces a third subinterval where both the MOSFET and the diode are off.\n1.  **Interval 1 ($DT_s$):** MOSFET ON. $i_L$ ramps up from $0$ to $i_{pk} = (V_g/L)DT_s$.\n2.  **Interval 2 ($\\delta T_s$):** Diode ON. $i_L$ ramps down from $i_{pk}$ to $0$.\n3.  **Interval 3 ($(1-D-\\delta)T_s$):** Both OFF. $i_L=0$.\n\nThe crucial difference from CCM is that the inductor current starts from zero in every cycle. When the duty cycle $D$ is increased, the on-time $DT_s$ increases, leading to a higher peak inductor current $i_{pk}$. This directly increases the total charge packet, $Q_{inj} = \\frac{1}{2} i_{pk} (\\delta T_s)$, that is injected into the output RC filter during the diode conduction interval. Unlike in CCM, there is no standing DC inductor current $I_L$ whose path is being redirected. An increase in the control input $D$ leads directly and immediately (in the next cycle) to a larger current pulse being delivered to the output. This results in the output voltage increasing monotonically towards its new steady-state value. The absence of an initial inverse response means the system is minimum-phase, and thus the RHP zero vanishes and is replaced by LHP zeros.\n\nThe LHP zero in DCM arises from the sampling nature of the pulse-width modulation process. The control input $d(t)$ modulates the shape and timing of the current pulse injected into the output. A formal derivation using more advanced models (like the PWM switch model) shows that this process introduces dynamics, including an LHP zero. The problem asks for an approximation of this zero's location, $s = z_{\\mathrm{DCM}}$, in terms of the on-time $T_{\\mathrm{on}} = DT_s$. As will be shown in Part 3, a highly relevant characteristic frequency at the operating boundary is $2/(DT_s)$. A reasonable estimation, based on the principle of continuity of this characteristic frequency's magnitude across the boundary, is that the DCM LHP zero location approaches $-2/(DT_s)$ as the converter approaches the CCM/DCM boundary from the DCM side.\n\n### Part 3: Boundary Analysis and Final Answer\n\nThe boundary between CCM and DCM is defined as the condition where the minimum inductor current in CCM is exactly zero. The average inductor current in CCM is $I_L = V_g/((D')^2 R)$. The peak-to-average current ripple is $\\Delta i_L = \\frac{1}{2L} V_g (DT_s)$.\nThe minimum inductor current is $I_{L,min} = I_L - \\Delta i_L$. Setting $I_{L,min} = 0$:\n$$I_L = \\Delta i_L \\implies \\frac{V_g}{(D')^2 R} = \\frac{V_g D T_s}{2L}$$\nCanceling $V_g$ and rearranging gives the boundary relation:\n$$\\frac{2L}{R T_s} = D(D')^2 = D(1-D)^2$$\nNow, we evaluate the CCM RHP zero, $z_{\\mathrm{CCM}} = (D')^2 R/L$, at this boundary condition. From the boundary relation, we can express the ratio $R/L$ as:\n$$\\frac{R}{L} = \\frac{2}{T_s D (D')^2}$$\nSubstituting this into the expression for $z_{\\mathrm{CCM}}$:\n$$z_{\\mathrm{CCM, boundary}} = (D')^2 \\left( \\frac{2}{T_s D (D')^2} \\right) = \\frac{2}{D T_s}$$\nThis is the location of the RHP zero precisely at the mode boundary.\n\nFor the final step, we estimate the DCM zero location, $z_{\\mathrm{DCM}}$, at this same boundary. As established in Part 2, the physical mechanism causing the RHP zero in CCM disappears in DCM, and the system becomes minimum-phase. The RHP zero at $s = z_{\\mathrm{CCM, boundary}}$ is replaced by an LHP zero. The problem asks for an estimation based on the DCM analysis. The characteristic frequency magnitude $2/(DT_s)$ is fundamental to the system's dynamics at the boundary. Therefore, it is a sound and standard estimation that the new LHP zero, which characterizes the DCM dynamic behavior near the boundary, appears at the mirror location in the LHP.\n$$z_{\\mathrm{DCM, boundary}} \\approx -z_{\\mathrm{CCM, boundary}}$$\nThus, the estimated location of the DCM LHP zero at the CCM/DCM boundary is:\n$$z_{\\mathrm{DCM, boundary}} = -\\frac{2}{D T_s}$$\nThis expression is in the requested terms of $D$ and $T_s$.",
            "answer": "$$\\boxed{-\\frac{2}{D T_{s}}}$$"
        },
        {
            "introduction": "An ideal model provides a great starting point, but real-world performance hinges on understanding parasitic effects. This practice  moves beyond the ideal buck converter by including the capacitor's Equivalent Series Resistance ($R_c$) and Equivalent Series Inductance ($L_c$). By deriving the modified transfer function and analyzing the output impedance, you will see how these non-idealities introduce high-frequency dynamics and determine the frequency at which the output capacitor begins to behave like an inductor, a critical insight for high-frequency filter design and stability analysis.",
            "id": "3829995",
            "problem": "Consider a continuous-conduction-mode buck converter power stage driven by a duty ratio $\\hat{d}(t)$, with ideal switch and diode, input source voltage $V_g$ that is stiff, inductor $L$ (with negligible series resistance), and a resistive load $R$. The output filter consists of an ideal capacitor $C$ in series with an Equivalent Series Resistance (ESR) $R_c$ and an Equivalent Series Inductance (ESL) $L_c$, all from the output node to ground in series. Assume small-signal perturbations about a steady operating point, and use state-space averaging and linearization based on Kirchhoff's Current Law and Kirchhoff's Voltage Law, without invoking any pre-memorized power-stage transfer function.\n\nTasks:\n1) Starting from first principles, derive the small-signal, continuous-time, control-to-output transfer function $G_{vd}(s) \\equiv \\hat{v}_o(s)/\\hat{d}(s)$ for this buck converter, where $\\hat{v}_o$ is the small-signal output voltage and $\\hat{d}$ is the small-signal duty-ratio perturbation. Express the answer symbolically in terms of $L$, $C$, $R$, $R_c$, $L_c$, and $V_g$.\n\n2) From your derived $G_{vd}(s)$, identify and write down explicitly the additional high-frequency zeros and the additional high-frequency pole that appear due to the capacitor ESL $L_c$ (beyond the familiar low-frequency double pole of the $L$–$C$ filter and the single zero due to ESR when $L_c=0$). Give the exact locations of the zeros and provide a justified approximation for the additional pole location under the practically relevant conditions $R_c \\ll \\sqrt{L_c/C}$ and $|s|$ sufficiently larger than the low-frequency resonance associated with $L$ and $C$.\n\n3) Define the open-loop small-signal output impedance as $Z_{\\text{out}}(s) \\equiv \\hat{v}_o(s)/\\hat{i}_{\\ell}(s)$, where $\\hat{i}_{\\ell}(s)$ is a small-signal current injected into the output node (positive into the node), with $\\hat{d}(s)=0$ and $\\hat{v}_g(s)=0$. Using circuit laws, argue carefully how $Z_{\\text{out}}(s)$ behaves at high frequency in the presence of $L_c$, and determine the angular frequency $\\omega_{\\text{ind}}$ at which the output impedance transitions from capacitive to inductive behavior. Your conclusion must be supported by an analytic expression derived from the exact frequency dependence of the series branch with $L_c$ and $C$ (you may keep $R_c$ finite).\n\nProvide, as your final answer, the exact closed-form analytic expression for $\\omega_{\\text{ind}}$ in radians per second. Do not include units in your final boxed answer. If you choose to simplify under any stated asymptotic conditions, ensure that such conditions do not alter the exact location of the capacitive-to-inductive transition frequency derived from first principles.",
            "solution": "The problem statement is evaluated against the validation criteria.\n\n### Step 1: Extract Givens\n- **System**: Continuous-conduction-mode (CCM) buck converter.\n- **Components**: Ideal switch and diode, stiff input voltage $V_g$, inductor $L$ (negligible series resistance), resistive load $R$.\n- **Output Filter**: Ideal capacitor $C$ in series with an Equivalent Series Resistance (ESR) $R_c$ and an Equivalent Series Inductance (ESL) $L_c$.\n- **Methodology**: Small-signal analysis about a steady operating point using state-space averaging and linearization from first principles (Kirchhoff's Laws). No pre-memorized transfer functions are to be used.\n- **Task 1**: Derive the control-to-output transfer function $G_{vd}(s) \\equiv \\hat{v}_o(s)/\\hat{d}(s)$ in terms of $L, C, R, R_c, L_c, V_g$.\n- **Task 2**: Identify the additional high-frequency zeros and pole due to $L_c$. Provide exact locations for the zeros and a justified approximation for the pole location under the conditions $R_c \\ll \\sqrt{L_c/C}$ and $|s|$ being large.\n- **Task 3**: Define open-loop output impedance $Z_{\\text{out}}(s) \\equiv \\hat{v}_o(s)/\\hat{i}_{\\ell}(s)$ with $\\hat{d}(s)=0, \\hat{v}_g(s)=0$. Analyze its high-frequency behavior and determine the angular frequency $\\omega_{\\text{ind}}$ where the impedance transitions from capacitive to inductive, based on the frequency dependence of the series branch ($L_c, C, R_c$).\n- **Final Answer**: The exact closed-form analytic expression for $\\omega_{\\text{ind}}$.\n\n### Step 2: Validate Using Extracted Givens\n- **Scientific Grounding**: The problem is firmly grounded in standard power electronics and linear circuit theory. The model of a buck converter including parasitic elements ($R_c, L_c$) is a standard, realistic model used for high-frequency analysis. State-space averaging is a fundamental technique in the field. The problem is scientifically sound.\n- **Well-Posedness**: The problem provides a complete set of symbolic parameters and a clear set of tasks leading to specific, derivable expressions. A unique, meaningful solution for the requested quantities exists.\n- **Objectivity**: The problem is stated in precise, objective, and technical language, free from any subjectivity or bias.\n- **Evaluation against Flaws**: The problem does not violate any scientific principles, is formalizable, complete, and realistic. It is not ill-posed, trivial, or unverifiable.\n\n### Step 3: Verdict and Action\nThe problem is **valid**. A solution will be derived from first principles as requested.\n\n### Solution Derivation\n\n**1) Derivation of the Control-to-Output Transfer Function $G_{vd}(s)$**\n\nWe model the buck converter using the small-signal AC equivalent circuit. The input voltage source $V_g$ is stiff, meaning $\\hat{v}_g(s) = 0$. The switching action, modulated by the duty cycle $d(t) = D + \\hat{d}(t)$, generates an average voltage at the switch node. The small-signal component of this voltage is $V_g \\hat{d}(s)$. This voltage source feeds the output filter and load.\n\nThe output filter consists of the inductor $L$ followed by a parallel combination of the load resistor $R$ and the capacitor branch. The impedance of the capacitor branch, which includes the capacitor $C$, its ESR $R_c$, and its ESL $L_c$, is given by:\n$$ Z_{cap}(s) = sL_c + R_c + \\frac{1}{sC} = \\frac{s^2 L_c C + s R_c C + 1}{sC} $$\nThe total impedance of the output stage, as seen by the inductor $L$, is the parallel combination of the load $R$ and the capacitor branch impedance $Z_{cap}(s)$. Let's call this $Z_{out\\_filter}(s)$.\n$$ Z_{out\\_filter}(s) = R \\parallel Z_{cap}(s) = \\frac{R \\cdot Z_{cap}(s)}{R + Z_{cap}(s)} $$\nThe overall circuit is a voltage divider formed by the inductor $L$ and $Z_{out\\_filter}(s)$, driven by the source $V_g \\hat{d}(s)$. The output voltage $\\hat{v}_o(s)$ is the voltage across $Z_{out\\_filter}(s)$.\n$$ \\frac{\\hat{v}_o(s)}{V_g \\hat{d}(s)} = \\frac{Z_{out\\_filter}(s)}{sL + Z_{out\\_filter}(s)} $$\nSubstituting the expression for $Z_{out\\_filter}(s)$:\n$$ \\frac{\\hat{v}_o(s)}{V_g \\hat{d}(s)} = \\frac{\\frac{R \\cdot Z_{cap}(s)}{R + Z_{cap}(s)}}{sL + \\frac{R \\cdot Z_{cap}(s)}{R + Z_{cap}(s)}} = \\frac{R \\cdot Z_{cap}(s)}{sL(R + Z_{cap}(s)) + R \\cdot Z_{cap}(s)} $$\nThe control-to-output transfer function $G_{vd}(s) = \\hat{v}_o(s)/\\hat{d}(s)$ is therefore:\n$$ G_{vd}(s) = V_g \\frac{R \\cdot Z_{cap}(s)}{(sL+R)Z_{cap}(s) + sLR} $$\nNow, we substitute the expression for $Z_{cap}(s)$:\n$$ G_{vd}(s) = V_g \\frac{R \\left( \\frac{s^2 L_c C + s R_c C + 1}{sC} \\right)}{(sL+R)\\left( \\frac{s^2 L_c C + s R_c C + 1}{sC} \\right) + sLR} $$\nTo simplify, we multiply the numerator and denominator by $sC$:\n$$ G_{vd}(s) = V_g \\frac{R (s^2 L_c C + s R_c C + 1)}{(sL+R)(s^2 L_c C + s R_c C + 1) + s^2 LCR} $$\nExpanding the denominator polynomial $D(s)$:\n$D(s) = (sL+R)(s^2 L_c C + s R_c C + 1) + s^2 LCR$\n$D(s) = (s^3 LL_c C + s^2 LR_c C + sL) + (s^2 R L_c C + s R R_c C + R) + s^2 LCR$\nCollecting terms by powers of $s$:\n$D(s) = s^3(LL_c C) + s^2(LR_c C + RL_c C + LCR) + s(L + RR_c C) + R$\n$D(s) = s^3(LL_c C) + s^2(C(LR_c + RL_c + LR)) + s(L + RR_c C) + R$\nThe final expression for the transfer function is:\n$$ G_{vd}(s) = V_g \\frac{R(s^2 L_c C + s R_c C + 1)}{s^3 LL_c C + s^2 C(L(R_c+R)+RL_c) + s(L+RR_c C) + R} $$\n\n**2) High-Frequency Zeros and Poles**\n\n*   **Additional High-Frequency Zeros**: The zeros of $G_{vd}(s)$ are the roots of the numerator polynomial:\n    $$ s^2 L_c C + s R_c C + 1 = 0 $$\n    Using the quadratic formula, the locations of the two zeros ($z_1, z_2$) are:\n    $$ z_{1,2} = \\frac{-R_c C \\pm \\sqrt{(R_c C)^2 - 4L_c C}}{2L_c C} = -\\frac{R_c}{2L_c} \\pm \\sqrt{\\left(\\frac{R_c}{2L_c}\\right)^2 - \\frac{1}{L_c C}} $$\n    These are the two additional high-frequency zeros introduced by the capacitor's ESL ($L_c$) and ESR ($R_c$). For the condition $R_c \\ll \\sqrt{L_c/C}$, we have $R_c^2 \\ll L_c/C$, which implies $R_c^2 C \\ll L_c$ or $(R_c/2L_c)^2 \\ll 1/(L_c C)$. Thus, the term under the square root is negative, and the zeros form a complex conjugate pair.\n\n*   **Additional High-Frequency Pole**: The poles are the roots of the third-order denominator polynomial. To find an approximation for the additional high-frequency pole, we assume it is located at a much higher frequency than the other two poles (which are near the low-frequency $L$-$C$ resonance). For large $|s|$, the highest power terms of the denominator polynomial dominate:\n    $$ s^3 LL_c C + s^2 C(L(R_c+R)+RL_c) \\approx 0 $$\n    $$ s^2 \\left( s LL_c C + C(L(R_c+R)+RL_c) \\right) \\approx 0 $$\n    One solution is $s=0$ (an artifact of the approximation), while the non-trivial solution gives the high-frequency pole, $s_{p3}$:\n    $$ s_{p3} \\approx -\\frac{C(L(R_c+R)+RL_c)}{LL_c C} = -\\frac{LR_c + LR + RL_c}{LL_c} = -\\left(\\frac{R_c}{L_c} + \\frac{R}{L_c} + \\frac{R}{L}\\right) $$\n    $$ s_{p3} \\approx -\\left(\\frac{R+R_c}{L_c} + \\frac{R}{L}\\right) $$\n    This is the approximate location of the additional real pole at high frequency.\n\n**3) Output Impedance $Z_{\\text{out}}(s)$ and Transition Frequency $\\omega_{ind}$**\n\nThe open-loop output impedance $Z_{\\text{out}}(s)$ is found by setting the independent sources to zero ($\\hat{d}(s)=0, \\hat{v}_g(s)=0$) and injecting a test current $\\hat{i}_{\\ell}(s)$ into the output node. The resulting circuit consists of the inductor $L$, the resistor $R$, and the capacitor branch ($L_c, R_c, C$) all in parallel.\n$$ Z_{\\text{out}}(s) = sL \\parallel R \\parallel \\left(sL_c + R_c + \\frac{1}{sC}\\right) $$\nAt high frequencies, the impedance of the main inductor, $j\\omega L$, becomes very large, effectively acting as an open circuit. The impedance of the capacitor branch, $Z_{cap}(j\\omega) = R_c + j(\\omega L_c - 1/(\\omega C))$, initially decreases with frequency due to $C$, but then increases at high frequencies due to $L_c$. The high-frequency behavior of $Z_{\\text{out}}(s)$ is thus dominated by the parallel combination of the load $R$ and the capacitor branch, which itself becomes inductive.\n\nThe problem asks for the frequency $\\omega_{\\text{ind}}$ at which the output impedance transitions from capacitive to inductive. The prompt directs us to derive this from the \"exact frequency dependence of the series branch with $L_c$ and $C$\". This phrasing points to the intrinsic behavior of the capacitor itself. A real capacitor with ESR and ESL behaves capacitively at low frequencies and inductively at high frequencies. The transition between these two behaviors occurs at its self-resonant frequency (SRF), where the capacitive and inductive reactances within the component cancel each other out.\n\nLet's analyze the impedance of the series branch, $Z_{cap}(s)$. Its imaginary part (reactance) is:\n$$ \\text{Im}[Z_{cap}(j\\omega)] = \\omega L_c - \\frac{1}{\\omega C} $$\n- For $\\omega < 1/\\sqrt{L_c C}$, the reactance is negative, so the branch is capacitive.\n- For $\\omega > 1/\\sqrt{L_c C}$, the reactance is positive, so the branch is inductive.\n\nThe transition occurs precisely when the reactance is zero:\n$$ \\omega L_c - \\frac{1}{\\omega C} = 0 $$\n$$ \\omega^2 L_c C = 1 $$\nThis yields the angular frequency:\n$$ \\omega = \\frac{1}{\\sqrt{L_c C}} $$\nAt this frequency, the capacitor branch impedance is minimal and purely resistive, $Z_{cap}(j\\omega) = R_c$. While the overall output impedance $Z_{\\text{out}}$ may not be purely resistive at this exact frequency (due to the parallel inductor $L$), this self-resonant frequency of the capacitor is the fundamental point where the component responsible for high-frequency filtering ($C$) begins to behave as an inductor ($L_c$). This change in character from capacitive to inductive in the dominant filtering component is what dictates the subsequent inductive rise in the output impedance profile. Therefore, this frequency is correctly identified as the transition point $\\omega_{\\text{ind}}$ as per the problem's guiding context.",
            "answer": "$$\\boxed{\\frac{1}{\\sqrt{L_c C}}}$$"
        }
    ]
}