{
    "hands_on_practices": [
        {
            "introduction": "控制设计的第一步是为被控系统（即“被控对象”）建立一个精确的数学模型。本练习将指导您从基本原理出发，推导降压变换器的传递函数，将物理元件值（如$L$、$C$和$R$）与变换器在频域中的动态行为联系起来。通过这个实践，您将掌握一项基本技能：理解被控对象的极点和零点如何决定其相位响应，并进而揭示控制所面临的挑战。",
            "id": "3856221",
            "problem": "一个工作在连续导通模式的降压变换器使用了一个输出滤波器，该滤波器由一个电感量为 $L$ 的电感、一个电容量为 $C$ 且等效串联电阻 (ESR) 为 $R_{\\mathrm{ESR}}$ 的电容，以及一个与电容并联的电阻为 $R$ 的阻性负载组成。假设开关器件理想，且电感电阻可忽略不计。使用状态空间平均法和基本原理（Kirchhoff电压定律和Kirchhoff电流定律），推导小信号控制-输出传递函数 $G_{vd}(s)$，并明确包含电容的ESR。然后，根据以下元件参数计算 $G_{vd}(s)$ 的极点和零点的数值位置：\n- $L = 100 \\times 10^{-6}\\ \\mathrm{H}$，\n- $C = 470 \\times 10^{-6}\\ \\mathrm{F}$，\n- $R = 5\\ \\Omega$，\n- $R_{\\mathrm{ESR}} = 0.02\\ \\Omega$。\n\n接下来，考虑将 $G_{vd}(j\\omega)$ 与一个增益为实数正值（即零相位贡献）的纯比例补偿器级联所形成的环路增益 $L(j\\omega)$。设置该增益，使得在指定的增益交越频率 $\\omega_{gc} = 3.00 \\times 10^{4}\\ \\mathrm{rad/s}$ 处，环路增益幅值满足 $|L(j\\omega_{gc})| = 1$。确定需要由一个附加的超前网络提供多大的相位提升，才能在 $\\omega_{gc}$ 处实现 $\\phi_{m} = 60^{\\circ}$ 的相位裕度。以度为单位表示该相位提升，并将答案四舍五入至三位有效数字。",
            "solution": "经评估，此问题是有效的，因为其科学基础在于电力电子学和控制理论的原理，问题提法明确，数据充分且一致，并以客观、正式的语言表述。该问题是分析DC-DC变换器动态特性的标准练习题。\n\n**第1部分：控制-输出传递函数 $G_{vd}(s)$ 的推导**\n\n我们将使用状态空间平均法来推导小信号控制-输出传递函数 $G_{vd}(s) = \\frac{\\tilde{v}_o(s)}{\\tilde{d}(s)}$。状态变量是电感电流 $i_L(t)$ 和电容电压 $v_C(t)$。状态向量为 $\\mathbf{x}(t) = \\begin{pmatrix} i_L(t)  v_C(t) \\end{pmatrix}^T$。输入为源电压 $V_g$。\n\n输出电压 $v_o(t)$ 本身不是一个状态变量，而是状态变量及其导数的线性组合。\n在电容 $C$、其ESR $R_{\\mathrm{ESR}}$ 和负载 $R$ 之间的节点上应用KCL（Kirchhoff电流定律）：\n$i_C(t) = i_L(t) - i_R(t) = i_L(t) - \\frac{v_o(t)}{R}$\n输出电压是电容电压与ESR两端电压之和：\n$v_o(t) = v_C(t) + i_C(t) R_{\\mathrm{ESR}} = v_C(t) + \\left( i_L(t) - \\frac{v_o(t)}{R} \\right) R_{\\mathrm{ESR}}$\n求解 $v_o(t)$：\n$v_o(t) \\left( 1 + \\frac{R_{\\mathrm{ESR}}}{R} \\right) = v_C(t) + i_L(t) R_{\\mathrm{ESR}}$\n$$v_o(t) = \\frac{R}{R+R_{\\mathrm{ESR}}} v_C(t) + \\frac{R R_{\\mathrm{ESR}}}{R+R_{\\mathrm{ESR}}} i_L(t)$$\n这是我们的输出方程 $y(t) = \\mathbf{C}\\mathbf{x}(t)$，其中输出矩阵为 $\\mathbf{C} = \\begin{pmatrix} \\frac{R R_{\\mathrm{ESR}}}{R+R_{\\mathrm{ESR}}}  \\frac{R}{R+R_{\\mathrm{ESR}}} \\end{pmatrix}$。该矩阵对于两种开关状态都是相同的。\n\n现在我们推导状态方程。电容电流为 $i_C(t) = C \\frac{dv_C}{dt}$。\n$C \\frac{dv_C}{dt} = i_L(t) - \\frac{v_o(t)}{R} = i_L(t) - \\frac{1}{R}\\left( \\frac{R}{R+R_{\\mathrm{ESR}}} v_C(t) + \\frac{R R_{\\mathrm{ESR}}}{R+R_{\\mathrm{ESR}}} i_L(t) \\right)$\n$$\\frac{dv_C}{dt} = \\frac{1}{C}\\left( i_L(t) - \\frac{R_{ESR}}{R+R_{ESR}} i_L(t) - \\frac{1}{R+R_{ESR}}v_C(t) \\right) = \\frac{R}{C(R+R_{\\mathrm{ESR}})}i_L(t) - \\frac{1}{C(R+R_{\\mathrm{ESR}})}v_C(t)$$\n这是第二个状态方程，它与开关位置无关。\n\n电感电压为 $L \\frac{di_L}{dt}$。\n\n**状态1：开关闭合（区间 $d T_s$）**\n电感连接到输入电压 $V_g$。\n$L \\frac{di_L}{dt} = V_g - v_o(t) = V_g - \\left( \\frac{R R_{\\mathrm{ESR}}}{R+R_{\\mathrm{ESR}}} i_L(t) + \\frac{R}{R+R_{\\mathrm{ESR}}} v_C(t) \\right)$\n$$\\frac{di_L}{dt} = -\\frac{R R_{\\mathrm{ESR}}}{L(R+R_{\\mathrm{ESR}})} i_L(t) - \\frac{R}{L(R+R_{\\mathrm{ESR}})} v_C(t) + \\frac{1}{L}V_g$$\n状态1的状态空间表达式为 $\\dot{\\mathbf{x}} = \\mathbf{A}_1 \\mathbf{x} + \\mathbf{B}_1 \\mathbf{u}$：\n$\\mathbf{A}_1 = \\begin{pmatrix} -\\frac{R R_{\\mathrm{ESR}}}{L(R+R_{\\mathrm{ESR}})}  -\\frac{R}{L(R+R_{\\mathrm{ESR}})} \\\\ \\frac{R}{C(R+R_{\\mathrm{ESR}})}  -\\frac{1}{C(R+R_{\\mathrm{ESR}})} \\end{pmatrix}$，$\\mathbf{B}_1 = \\begin{pmatrix} 1/L \\\\ 0 \\end{pmatrix}$，$\\mathbf{u} = V_g$。\n\n**状态2：开关断开（区间 $(1-d) T_s$）**\n电感接地（通过理想二极管）。\n$L \\frac{di_L}{dt} = 0 - v_o(t) = -\\left( \\frac{R R_{\\mathrm{ESR}}}{R+R_{\\mathrm{ESR}}} i_L(t) + \\frac{R}{R+R_{\\mathrm{ESR}}} v_C(t) \\right)$\n$$\\frac{di_L}{dt} = -\\frac{R R_{\\mathrm{ESR}}}{L(R+R_{\\mathrm{ESR}})} i_L(t) - \\frac{R}{L(R+R_{\\mathrm{ESR}})} v_C(t)$$\n状态2的状态空间表达式为 $\\dot{\\mathbf{x}} = \\mathbf{A}_2 \\mathbf{x} + \\mathbf{B}_2 \\mathbf{u}$：\n$\\mathbf{A}_2 = \\mathbf{A}_1$, $\\mathbf{B}_2 = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}$。\n\n**平均化与线性化**\n平均化的状态空间模型为 $\\dot{\\mathbf{x}} = \\mathbf{A}\\mathbf{x} + \\mathbf{B}\\mathbf{u}$，其中 $\\mathbf{A} = d\\mathbf{A}_1+(1-d)\\mathbf{A}_2 = \\mathbf{A}_1$ 且 $\\mathbf{B}=d\\mathbf{B}_1+(1-d)\\mathbf{B}_2 = d\\mathbf{B}_1$。平均化的输出方程为 $y = \\mathbf{C}\\mathbf{x}$。\n在稳态工作点 ($d=D, \\mathbf{x}=\\mathbf{X}, \\mathbf{u}=\\mathbf{U}=V_g$) 附近进行线性化，我们得到小信号模型 $\\dot{\\tilde{\\mathbf{x}}} = \\mathbf{A}\\tilde{\\mathbf{x}} + \\mathbf{B}_d \\tilde{d}$，其中 $\\mathbf{B}_d = (\\mathbf{A}_1 - \\mathbf{A}_2)\\mathbf{X} + (\\mathbf{B}_1 - \\mathbf{B}_2)\\mathbf{U}$。\n由于 $\\mathbf{A}_1=\\mathbf{A}_2$，第一项为零。\n$\\mathbf{B}_d = (\\mathbf{B}_1 - \\mathbf{B}_2)V_g = \\begin{pmatrix} V_g/L \\\\ 0 \\end{pmatrix}$。\n小信号输出为 $\\tilde{y} = \\tilde{v}_o = \\mathbf{C}\\tilde{\\mathbf{x}}$。\n传递函数为 $G_{vd}(s) = \\frac{\\tilde{v}_o(s)}{\\tilde{d}(s)} = \\mathbf{C}(s\\mathbf{I}-\\mathbf{A})^{-1}\\mathbf{B}_d$。\n我们来计算 $(s\\mathbf{I}-\\mathbf{A})^{-1}$。\n$s\\mathbf{I}-\\mathbf{A} = \\begin{pmatrix} s + \\frac{R R_{\\mathrm{ESR}}}{L(R+R_{\\mathrm{ESR}})}  \\frac{R}{L(R+R_{\\mathrm{ESR}})} \\\\ -\\frac{R}{C(R+R_{\\mathrm{ESR}})}  s + \\frac{1}{C(R+R_{\\mathrm{ESR}})} \\end{pmatrix}$。\n$\\det(s\\mathbf{I}-\\mathbf{A}) = s^2 + s\\left(\\frac{R R_{\\mathrm{ESR}}}{L(R+R_{\\mathrm{ESR}})} + \\frac{1}{C(R+R_{\\mathrm{ESR}})}\\right) + \\frac{R R_{\\mathrm{ESR}}}{LC(R+R_{\\mathrm{ESR}})^2} + \\frac{R^2}{LC(R+R_{\\mathrm{ESR}})^2}$\n$\\det(s\\mathbf{I}-\\mathbf{A}) = s^2 + s\\frac{L+CRR_{\\mathrm{ESR}}}{LC(R+R_{\\mathrm{ESR}})} + \\frac{R}{LC(R+R_{\\mathrm{ESR}})}$。\n现在，$G_{vd}(s) = \\mathbf{C} \\frac{\\mathrm{adj}(s\\mathbf{I}-\\mathbf{A})}{\\det(s\\mathbf{I}-\\mathbf{A})} \\mathbf{B}_d$。\n$\\mathbf{C} \\cdot \\mathrm{adj}(s\\mathbf{I}-\\mathbf{A}) \\cdot \\mathbf{B}_d = \\begin{pmatrix} \\frac{R R_{\\mathrm{ESR}}}{R+R_{\\mathrm{ESR}}}  \\frac{R}{R+R_{\\mathrm{ESR}}} \\end{pmatrix} \\begin{pmatrix} s + \\frac{1}{C(R+R_{\\mathrm{ESR}})}  \\dots \\\\ \\frac{R}{C(R+R_{\\mathrm{ESR}})}  \\dots \\end{pmatrix} \\begin{pmatrix} V_g/L \\\\ 0 \\end{pmatrix}$\n$= \\left( \\frac{R R_{\\mathrm{ESR}}}{R+R_{\\mathrm{ESR}}}\\left(s + \\frac{1}{C(R+R_{\\mathrm{ESR}})}\\right) + \\frac{R}{R+R_{\\mathrm{ESR}}}\\frac{R}{C(R+R_{\\mathrm{ESR}})} \\right) \\frac{V_g}{L}$\n$= \\frac{R V_g}{L(R+R_{\\mathrm{ESR}})} \\left( R_{\\mathrm{ESR}}s + \\frac{R_{\\mathrm{ESR}}}{C(R+R_{\\mathrm{ESR}})} + \\frac{R}{C(R+R_{\\mathrm{ESR}})} \\right)$\n$= \\frac{R V_g}{L(R+R_{\\mathrm{ESR}})} \\left( R_{\\mathrm{ESR}}s + \\frac{1}{C} \\right) = \\frac{V_g R R_{\\mathrm{ESR}}}{L(R+R_{\\mathrm{ESR}})} \\left(s + \\frac{1}{CR_{\\mathrm{ESR}}}\\right)$。\n结合分子和分母：\n$G_{vd}(s) = \\frac{\\frac{V_g R R_{\\mathrm{ESR}}}{L(R+R_{\\mathrm{ESR}})} (s + \\frac{1}{CR_{\\mathrm{ESR}}})}{s^2 + s\\frac{L+CRR_{\\mathrm{ESR}}}{LC(R+R_{\\mathrm{ESR}})} + \\frac{R}{LC(R+R_{\\mathrm{ESR}})}}$。\n将分子和分母同乘以 $LC(R+R_{\\mathrm{ESR}})$ 可简化表达式：\n$$G_{vd}(s) = V_g \\frac{R C R_{\\mathrm{ESR}} (s + \\frac{1}{CR_{\\mathrm{ESR}}})}{s^2LC(R+R_{\\mathrm{ESR}}) + s(L+CRR_{\\mathrm{ESR}}) + R} = V_g \\frac{R(1+sCR_{\\mathrm{ESR}})}{s^2LC(R+R_{\\mathrm{ESR}}) + s(L+CRR_{\\mathrm{ESR}}) + R}$$\n直流增益为 $G_{vd}(0) = V_g \\frac{R}{R} = V_g$。由于 $V_o=DV_g$，$\\tilde{v}_o = V_g \\tilde{d} + D \\tilde{v}_g$，所以 $\\frac{\\tilde{v}_o}{\\tilde{d}}|_{\\tilde{v}_g=0} = V_g$，结果吻合。\n\n**第2部分：零极点的数值计算**\n给定数值：$L = 100 \\times 10^{-6}\\ \\mathrm{H}$，$C = 470 \\times 10^{-6}\\ \\mathrm{F}$，$R = 5\\ \\Omega$，$R_{\\mathrm{ESR}} = 0.02\\ \\Omega$。\n\n**零点：** 分子与 $1+sCR_{\\mathrm{ESR}}$ 成正比。零点 $s_z$ 位于：\n$s_z = -\\frac{1}{CR_{\\mathrm{ESR}}} = -\\frac{1}{(470 \\times 10^{-6})(0.02)} = -\\frac{1}{9.4 \\times 10^{-6}} \\approx -106383 \\ \\mathrm{rad/s}$。\n\n**极点：** 极点是分母多项式的根：\n$s^2LC(R+R_{\\mathrm{ESR}}) + s(L+CRR_{\\mathrm{ESR}}) + R = 0$。\n我们计算系数：\n$LC(R+R_{\\mathrm{ESR}}) = (100 \\times 10^{-6})(470 \\times 10^{-6})(5+0.02) = (4.7 \\times 10^{-8})(5.02) \\approx 2.3594 \\times 10^{-7}$。\n$L+CRR_{\\mathrm{ESR}} = 100 \\times 10^{-6} + (470 \\times 10^{-6})(5)(0.02) = 100 \\times 10^{-6} + 4.7 \\times 10^{-5} = 1.47 \\times 10^{-4}$。\n$R = 5$。\n特征方程为：\n$(2.3594 \\times 10^{-7})s^2 + (1.47 \\times 10^{-4})s + 5 = 0$。\n根由二次求根公式 $s_{p1,2} = \\frac{-b \\pm \\sqrt{b^2-4ac}}{2a}$ 给出：\n$s_{p1,2} = \\frac{-1.47 \\times 10^{-4} \\pm \\sqrt{(1.47 \\times 10^{-4})^2 - 4(2.3594 \\times 10^{-7})(5)}}{2(2.3594 \\times 10^{-7})}$。\n$s_{p1,2} = \\frac{-1.47 \\times 10^{-4} \\pm \\sqrt{2.1609 \\times 10^{-8} - 4.7188 \\times 10^{-6}}}{4.7188 \\times 10^{-7}}$。\n$s_{p1,2} = \\frac{-1.47 \\times 10^{-4} \\pm \\sqrt{-4.6972 \\times 10^{-6}}}{4.7188 \\times 10^{-7}} = \\frac{-1.47 \\times 10^{-4} \\pm j\\sqrt{4.6972 \\times 10^{-6}}}{4.7188 \\times 10^{-7}}$。\n$s_{p1,2} = \\frac{-1.47 \\times 10^{-4} \\pm j(2.1673 \\times 10^{-3})}{4.7188 \\times 10^{-7}}$。\n$s_{p1,2} \\approx -311.5 \\pm j4593.1\\ \\mathrm{rad/s}$。\n\n**第3部分：相位提升计算**\n环路增益为 $L(j\\omega) = K_p G_{vd}(j\\omega)$，其中 $K_p$ 是一个实数正常数。环路增益的相位为 $\\angle L(j\\omega) = \\angle G_{vd}(j\\omega)$，因为 $\\angle K_p = 0$。相位裕度 $\\phi_m$ 定义为 $\\phi_m = 180^{\\circ} + \\angle L(j\\omega_{gc})$。我们需要求出在增益交越频率 $\\omega_{gc} = 3.00 \\times 10^{4}\\ \\mathrm{rad/s}$ 处 $G_{vd}(j\\omega)$ 的相位。\n\n$G_{vd}(j\\omega)$ 的相位为：\n$\\angle G_{vd}(j\\omega) = \\angle(1+j\\omega CR_{\\mathrm{ESR}}) - \\angle(R - \\omega^2LC(R+R_{\\mathrm{ESR}}) + j\\omega(L+CRR_{\\mathrm{ESR}}))$。\n注意因子 $V_g R$ 是一个正实数，对相位的贡献为 $0^{\\circ}$。\n\n在 $\\omega_{gc} = 3 \\times 10^4\\ \\mathrm{rad/s}$ 处：\n分子相位：\n$\\omega_{gc}CR_{\\mathrm{ESR}} = (3 \\times 10^4)(470 \\times 10^{-6})(0.02) = 0.282$。\n$\\angle_{\\mathrm{num}} = \\arctan(0.282) \\approx 15.74^{\\circ}$。\n\n分母相位：\n实部：$R - \\omega_{gc}^2 LC(R+R_{\\mathrm{ESR}}) = 5 - (3 \\times 10^4)^2 (2.3594 \\times 10^{-7}) = 5 - (9 \\times 10^8)(2.3594 \\times 10^{-7}) = 5 - 212.346 = -207.346$。\n虚部：$\\omega_{gc}(L+CRR_{\\mathrm{ESR}}) = (3 \\times 10^4)(1.47 \\times 10^{-4}) = 4.41$。\n$\\angle_{\\mathrm{den}} = \\arctan\\left(\\frac{4.41}{-207.346}\\right)$。由于实部为负，虚部为正，该角位于第二象限。\n$\\angle_{\\mathrm{den}} = 180^{\\circ} + \\arctan(-0.021268) = 180^{\\circ} - 1.218^{\\circ} \\approx 178.78^{\\circ}$。\n\n交越频率处对象的相位是：\n$\\angle L(j\\omega_{gc}) = \\angle G_{vd}(j\\omega_{gc}) = \\angle_{\\mathrm{num}} - \\angle_{\\mathrm{den}} = 15.74^{\\circ} - 178.78^{\\circ} = -163.04^{\\circ}$。\n\n当前的相位裕度为：\n$\\phi_{m, \\text{current}} = 180^{\\circ} + \\angle L(j\\omega_{gc}) = 180^{\\circ} - 163.04^{\\circ} = 16.96^{\\circ}$。\n\n期望的相位裕度为 $\\phi_m = 60^{\\circ}$。由超前补偿器提供的所需相位提升是期望相位裕度与当前相位裕度之间的差值。\n$\\phi_{\\text{boost}} = \\phi_{m} - \\phi_{m, \\text{current}} = 60^{\\circ} - 16.96^{\\circ} = 43.04^{\\circ}$。\n\n四舍五入至三位有效数字，所需的相位提升为 $43.0^{\\circ}$。",
            "answer": "$$\\boxed{43.0}$$"
        },
        {
            "introduction": "在对被控对象进行建模之后，下一步是设计一个补偿器以实现所需的稳定性和性能。本练习聚焦于电力电子控制中的主力——III型补偿器，并揭示了它如何提供必要的相位裕度。通过计算每个极点和零点的相位贡献，您将对如何通过整形环路增益以获得稳健的相位裕度，建立起直观和定量的理解。",
            "id": "3856192",
            "problem": "一个电压模式降压转换器使用III型补偿器进行稳定，以在增益交越频率附近获得足够的相位裕度。环路增益定义为 $L(s) = C(s)G(s)$，其中 $C(s)$ 是补偿器传递函数，$G(s)$ 是功率级传递函数。一个线性时不变系统 $H(s)$ 在角频率 $\\omega$ 处的频率响应相位是 $H(j\\omega)$ 的辐角，记作 $\\arg\\{H(j\\omega)\\}$，总相位是其各乘积因子辐角的总和。\n\n从这个定义出发，定性地解释由一阶零点和一阶极点贡献的频率响应相位如何随频率演变。然后，将您的解释具体到规范的II型和III型补偿器因子，描述每个因子如何作为频率的函数对总补偿器相位做出贡献，包括原点处极点的贡献。\n\n最后，考虑一个特定的III型补偿器\n$$\nC(s) = K\\frac{\\left(1 + \\frac{s}{\\omega_{z1}}\\right)\\left(1 + \\frac{s}{\\omega_{z2}}\\right)}{s\\left(1 + \\frac{s}{\\omega_{p2}}\\right)\\left(1 + \\frac{s}{\\omega_{p3}}\\right)},\n$$\n其零点和极点位置由以下频率给出：$f_{z1} = 1.2 \\,\\mathrm{kHz}$，$f_{z2} = 3.3 \\,\\mathrm{kHz}$，$f_{p2} = 20 \\,\\mathrm{kHz}$ 和 $f_{p3} = 80 \\,\\mathrm{kHz}$，其中 $\\omega_{z1} = 2\\pi f_{z1}$，$\\omega_{z2} = 2\\pi f_{z2}$，$\\omega_{p2} = 2\\pi f_{p2}$ 和 $\\omega_{p3} = 2\\pi f_{p3}$。设环路增益交越频率为 $f_{gc} = 5.0 \\,\\mathrm{kHz}$，其中 $\\omega_{gc} = 2\\pi f_{gc}$。\n\n将补偿器在 $\\omega_{gc}$ 处的净相位提升定义为 $C(j\\omega_{gc})$ 的相位与理想积分器 $1/s$ 在 $\\omega_{gc}$ 处的相位之差。仅使用频率响应和复数因子辐角的基本定义，计算在指定的零点和极点配置下该净相位提升。\n\n请以度为单位表示您的最终答案，并将答案四舍五入到四位有效数字。不要在最终的方框答案中包含单位；如上所述，单位是度。",
            "solution": "问题陈述经评估有效。它科学地基于应用于电力电子的线性控制理论原理，问题提出得很好，提供了所有必要信息，并且表述客观。该问题要求先解释基本概念，然后进行具体计算，这是工程分析中的标准程序。\n\n传递函数 $H(s)$ 在给定角频率 $\\omega$ 处的相位是在 $s=j\\omega$ 处计算 $H(s)$ 所得复数的辐角，记为 $\\phi(\\omega) = \\arg\\{H(j\\omega)\\}$。对于一个由多个乘积因子组成的系统 $H(s) = H_1(s)H_2(s)...H_n(s)$，总相位是各个相位的总和：$\\arg\\{H(j\\omega)\\} = \\sum_{i=1}^{n} \\arg\\{H_i(j\\omega)\\}$。\n\n我们首先分析一阶零点和一阶极点的相位贡献。\n\n一阶零点由形式为 $H_z(s) = 1 + \\frac{s}{\\omega_z}$ 的传递函数因子表示。在角频率 $\\omega$ 处，其频率响应为 $H_z(j\\omega) = 1 + j\\frac{\\omega}{\\omega_z}$。这是一个复数，实部为 $1$，虚部为 $\\frac{\\omega}{\\omega_z}$。其相位 $\\phi_z(\\omega)$ 由虚部与实部之比的反正切给出：\n$$\n\\phi_z(\\omega) = \\arg\\left\\{1 + j\\frac{\\omega}{\\omega_z}\\right\\} = \\arctan\\left(\\frac{\\omega}{\\omega_z}\\right)\n$$\n该零点的相位贡献随频率演变：\n- 在非常低的频率下 ($\\omega \\ll \\omega_z$)，比值 $\\frac{\\omega}{\\omega_z}$ 接近 $0$，因此 $\\phi_z(\\omega) \\approx \\arctan(0) = 0^\\circ$。\n- 在转折频率处 ($\\omega = \\omega_z$)，比值为 $1$，相位为 $\\phi_z(\\omega_z) = \\arctan(1) = +45^\\circ$。\n- 在非常高的频率下 ($\\omega \\gg \\omega_z$)，比值 $\\frac{\\omega}{\\omega_z}$ 趋于无穷大，相位接近 $\\phi_z(\\omega) \\to \\arctan(\\infty) = +90^\\circ$。\n因此，随着频率增加，一阶零点引入一个从 $0^\\circ$ 到 $+90^\\circ$ 的相位超前。\n\n一阶极点由形式为 $H_p(s) = \\frac{1}{1 + \\frac{s}{\\omega_p}}$ 的传递函数因子表示。其频率响应为 $H_p(j\\omega) = \\frac{1}{1 + j\\frac{\\omega}{\\omega_p}}$。该复数的相位是其分母相位的负值：\n$$\n\\phi_p(\\omega) = \\arg\\left\\{\\frac{1}{1 + j\\frac{\\omega}{\\omega_p}}\\right\\} = -\\arg\\left\\{1 + j\\frac{\\omega}{\\omega_p}\\right\\} = -\\arctan\\left(\\frac{\\omega}{\\omega_p}\\right)\n$$\n该极点的相位贡献随频率演变如下：\n- 在非常低的频率下 ($\\omega \\ll \\omega_p$)，相位滞后为 $\\phi_p(\\omega) \\approx -\\arctan(0) = 0^\\circ$。\n- 在转折频率处 ($\\omega = \\omega_p$)，相位为 $\\phi_p(\\omega_p) = -\\arctan(1) = -45^\\circ$。\n- 在非常高的频率下 ($\\omega \\gg \\omega_p$)，相位接近 $\\phi_p(\\omega) \\to -\\arctan(\\infty) = -90^\\circ$。\n因此，随着频率增加，一阶极点引入一个从 $0^\\circ$ 到 $-90^\\circ$ 的相位滞后。\n\n现在，我们可以将此推广到II型和III型补偿器的因子。如问题中所给，一个III型补偿器的传递函数为：\n$$\nC(s) = K\\frac{\\left(1 + \\frac{s}{\\omega_{z1}}\\right)\\left(1 + \\frac{s}{\\omega_{z2}}\\right)}{s\\left(1 + \\frac{s}{\\omega_{p2}}\\right)\\left(1 + \\frac{s}{\\omega_{p3}}\\right)}\n$$\n它由五个因子组成：一个恒定增益 $K$，一个原点处的极点 ($1/s$)，两个在 $\\omega_{z1}$ 和 $\\omega_{z2}$ 的零点，以及两个在 $\\omega_{p2}$ 和 $\\omega_{p3}$ 的极点。一个II型补偿器通常会有一个原点极点、一个零点和一个极点。\nIII型补偿器中每个因子的相位贡献如下：\n- **原点处的极点 ($1/s$)：** 此项对应于一个理想积分器。其频率响应为 $1/(j\\omega)$。这可以写成 $-j/\\omega$，对于所有 $\\omega > 0$，它是一个纯负虚数。因此，其相位在所有频率上都是一个恒定的 $-90^\\circ$。这种在低频下的高增益对于最小化稳态误差至关重要。\n- **两个零点 ($\\omega_{z1}$, $\\omega_{z2}$)：** 如同一阶零点的一般情况所述，项 $(1 + s/\\omega_{z1})$ 和 $(1 + s/\\omega_{z2})$ 各自贡献一个相位超前。这些零点被策略性地放置在期望的环路增益交越频率 $f_{gc}$ 附近，以“提升”系统的相位，从而增加相位裕度并确保稳定性。\n- **两个极点 ($\\omega_{p2}$, $\\omega_{p3}$)：** 根据一阶极点分析，项 $1/(1 + s/\\omega_{p2})$ 和 $1/(1 + s/\\omega_{p3})$ 各自贡献一个相位滞后。这些极点被放置在高于交越频率的频率处。它们的主要作用是衰减高频开关噪声，并在高频下滚降补偿器的增益，以防止噪声放大并确保对未建模的高频对象动态特性的稳定性。虽然它们会增加相位滞后，但将它们放置在远高于 $f_{gc}$ 的位置可以确保在交越频率处的这种滞后很小，不会显著削弱由零点提供的相位提升。\n\n最后，我们计算特定III型补偿器在交越频率 $f_{gc} = 5.0 \\,\\mathrm{kHz}$ 处的净相位提升。补偿器 $C(s)$ 在 $s = j\\omega_{gc}$ 处的总相位是其各组成部分相位的总和。假设增益 $K$ 为正，其相位为 $0^\\circ$。\n$$\n\\arg\\{C(j\\omega_{gc})\\} = \\arg\\left\\{\\frac{1}{j\\omega_{gc}}\\right\\} + \\arg\\left\\{1+j\\frac{\\omega_{gc}}{\\omega_{z1}}\\right\\} + \\arg\\left\\{1+j\\frac{\\omega_{gc}}{\\omega_{z2}}\\right\\} + \\arg\\left\\{\\frac{1}{1+j\\frac{\\omega_{gc}}{\\omega_{p2}}}\\right\\} + \\arg\\left\\{\\frac{1}{1+j\\frac{\\omega_{gc}}{\\omega_{p3}}}\\right\\}\n$$\n使用已建立的关系，这变为：\n$$\n\\arg\\{C(j\\omega_{gc})\\} = -90^\\circ + \\arctan\\left(\\frac{\\omega_{gc}}{\\omega_{z1}}\\right) + \\arctan\\left(\\frac{\\omega_{gc}}{\\omega_{z2}}\\right) - \\arctan\\left(\\frac{\\omega_{gc}}{\\omega_{p2}}\\right) - \\arctan\\left(\\frac{\\omega_{gc}}{\\omega_{p3}}\\right)\n$$\n问题将净相位提升 $\\Phi_{boost}$ 定义为 $C(j\\omega_{gc})$ 的相位与理想积分器 $1/s$ 的相位之差。理想积分器在 $\\omega_{gc}$ 处的相位是 $\\arg\\{1/(j\\omega_{gc})\\} = -90^\\circ$。\n$$\n\\Phi_{boost} = \\arg\\{C(j\\omega_{gc})\\} - \\arg\\left\\{\\frac{1}{j\\omega_{gc}}\\right\\}\n$$\n$$\n\\Phi_{boost} = \\left[-90^\\circ + \\arctan\\left(\\frac{\\omega_{gc}}{\\omega_{z1}}\\right) + \\arctan\\left(\\frac{\\omega_{gc}}{\\omega_{z2}}\\right) - \\arctan\\left(\\frac{\\omega_{gc}}{\\omega_{p2}}\\right) - \\arctan\\left(\\frac{\\omega_{gc}}{\\omega_{p3}}\\right)\\right] - (-90^\\circ)\n$$\n$-90^\\circ$ 项相互抵消，剩下的是来自补偿器极点和零点（不包括原点处的极点）的净相位贡献：\n$$\n\\Phi_{boost} = \\arctan\\left(\\frac{\\omega_{gc}}{\\omega_{z1}}\\right) + \\arctan\\left(\\frac{\\omega_{gc}}{\\omega_{z2}}\\right) - \\arctan\\left(\\frac{\\omega_{gc}}{\\omega_{p2}}\\right) - \\arctan\\left(\\frac{\\omega_{gc}}{\\omega_{p3}}\\right)\n$$\n角频率之比 $\\omega_a/\\omega_b$ 等同于频率之比 $f_a/f_b$。我们代入给定的值：$f_{gc} = 5.0 \\,\\mathrm{kHz}$，$f_{z1} = 1.2 \\,\\mathrm{kHz}$，$f_{z2} = 3.3 \\,\\mathrm{kHz}$，$f_{p2} = 20 \\,\\mathrm{kHz}$ 和 $f_{p3} = 80 \\,\\mathrm{kHz}$。\n$$\n\\Phi_{boost} = \\arctan\\left(\\frac{5.0}{1.2}\\right) + \\arctan\\left(\\frac{5.0}{3.3}\\right) - \\arctan\\left(\\frac{5.0}{20}\\right) - \\arctan\\left(\\frac{5.0}{80}\\right)\n$$\n反正切函数的参数为：\n$\\frac{5.0}{1.2} = \\frac{25}{6}$，$\\frac{5.0}{3.3} = \\frac{50}{33}$，$\\frac{5.0}{20} = \\frac{1}{4} = 0.25$，和 $\\frac{5.0}{80} = \\frac{1}{16} = 0.0625$。\n$$\n\\Phi_{boost} = \\arctan\\left(\\frac{25}{6}\\right) + \\arctan\\left(\\frac{50}{33}\\right) - \\arctan(0.25) - \\arctan(0.0625)\n$$\n将弧度转换为度（通过确保计算器处于度模式）：\n$$\n\\arctan(4.1666...) \\approx 76.5055^\\circ\n$$\n$$\n\\arctan(1.5151...) \\approx 56.5746^\\circ\n$$\n$$\n\\arctan(0.25) \\approx 14.0362^\\circ\n$$\n$$\n\\arctan(0.0625) \\approx 3.5763^\\circ\n$$\n将这些贡献相加：\n$$\n\\Phi_{boost} \\approx 76.5055^\\circ + 56.5746^\\circ - 14.0362^\\circ - 3.5763^\\circ\n$$\n$$\n\\Phi_{boost} \\approx 133.0801^\\circ - 17.6125^\\circ = 115.4676^\\circ\n$$\n将结果四舍五入到四位有效数字，得到 $115.5^\\circ$。",
            "answer": "$$\n\\boxed{115.5}\n$$"
        },
        {
            "introduction": "某些变换器拓扑（如升压变换器）带来了独特的控制挑战，这些挑战会限制系统性能。这个高级练习探讨了其中最重要的限制之一：右半平面（RHP）零点，它在增加增益的同时引入了相位滞后。本练习将揭示为何RHP零点从根本上限制了可实现的控制带宽，并要求我们必须谨慎选择交越频率，这是高性能变换器设计中的一个关键课题。",
            "id": "3856185",
            "problem": "一个工作在连续导通模式的升压变换器由一个单位反馈环路控制，其环路增益是补偿器传递函数与功率级控制-输出传递函数的乘积。在感兴趣的频率范围内，该功率级的小信号控制-输出传递函数可以表示为一个最小相位二阶项（由电感-电容储能引起）与一个位于角频率 $\\omega_{z,\\text{RHP}}$ 的非最小相位右半平面 (Right-Half-Plane, RHP) 零点的乘积，即\n$$\nG_{vd}(s)=G_{0}\\,\\frac{1-\\frac{s}{\\omega_{z,\\text{RHP}}}}{1+\\frac{s}{Q\\omega_{0}}+\\left(\\frac{s}{\\omega_{0}}\\right)^{2}},\n$$\n其中 $\\omega_{0}$ 是最小相位二阶动态特性的无阻尼自然频率，$Q$ 是品质因数。补偿器为III型补偿器，并经过调谐以在预期的增益交越角频率 $\\omega_{gc}$ 处实现大约 -20 分贝/十倍频程的幅值斜率；为保证对元件噪声和开关纹波的鲁棒性，补偿器在 $\\omega_{gc}$ 处提供的相位超前被限制为不超过 $+70^{\\circ}$。测量和脉冲宽度调制 (PWM) 过程在 $\\omega_{gc}$ 处引入了 $20^{\\circ}$ 的额外有效相位滞后（等效于一个小延迟）。\n\n假设 $\\omega_{gc}$ 位于最小相位二阶转角频率之上，因此最小相位部分在 $\\omega_{gc}$ 处贡献大约 $-180^{\\circ}$ 的相位。使用频率响应的基本原理和相位裕度的定义，推导为什么 $\\omega_{gc}$ 必须选择得远低于 $\\omega_{z,\\text{RHP}}$。然后，在给定约束条件下，计算保证相位裕度 $\\phi_{m}\\geq 45^{\\circ}$ 的最大可行 $\\omega_{gc}$。将你的最终答案表示为关于 $\\omega_{z,\\text{RHP}}$ 的单个闭式解析表达式，其中任何三角函数参数均使用弧度。最终表达式中无需进行数值舍入。",
            "solution": "环路增益为 $L(s)=G_{c}(s)G_{vd}(s)H(s)$，其中 $G_{c}(s)$ 是补偿器，$H(s)$ 是传感器。相位裕度 $\\phi_{m}$ 在增益交越角频率 $\\omega_{gc}$ 处定义为\n$$\n\\phi_{m}=\\pi+\\angle L(j\\omega_{gc}),\n$$\n其中角度以弧度为单位。等效地，以度为单位，\n$$\n\\phi_{m}=180^{\\circ}+\\angle L(j\\omega_{gc}).\n$$\n\n我们从以下组成部分来构建在 $\\omega_{gc}$ 处的环路相位：\n1. 最小相位二阶被控对象贡献。一对实数或复共轭极点产生的相位为\n$$\n\\angle\\left[\\frac{1}{1+\\frac{s}{Q\\omega_{0}}+\\left(\\frac{s}{\\omega_{0}}\\right)^{2}}\\right]\\Bigg|_{s=j\\omega}\n=\\,-\\arctan\\!\\left(\\frac{\\omega}{\\omega_{p1}}\\right)\\,-\\arctan\\!\\left(\\frac{\\omega}{\\omega_{p2}}\\right),\n$$\n其中 $\\omega_{p1}$ 和 $\\omega_{p2}$ 是极点频率。对于 $\\omega\\gtrsim\\omega_{0}$ 和中等 $Q$ 值，该相位接近 $-180^{\\circ}$。根据题目前提，$\\omega_{gc}$ 高于二阶转角频率，因此我们取最小相位部分在 $\\omega_{gc}$ 处的贡献约为 $-180^{\\circ}$。\n\n2. 补偿器相位超前。一个III型补偿器包含两个超前环节和一个低频极点。每个形式为 $\\left(1+\\frac{s}{\\omega_{z\\ell}}\\right)/\\left(1+\\frac{s}{\\omega_{p\\ell}}\\right)$ 的超前环节贡献的相位为\n$$\n\\phi_{\\ell}(\\omega)=\\arctan\\!\\left(\\frac{\\omega}{\\omega_{z\\ell}}\\right)-\\arctan\\!\\left(\\frac{\\omega}{\\omega_{p\\ell}}\\right),\n$$\n在 $\\omega=\\sqrt{\\omega_{z\\ell}\\,\\omega_{p\\ell}}$ 处达到峰值。通过两个这样的环节，补偿器在 $\\omega_{gc}$ 处的相位提升是有界的；题目约束在 $\\omega_{gc}$ 处的净相位超前不超过 $+70^{\\circ}$。\n\n3. 测量和PWM延迟。$H(s)$ 或调制器中的一个有效延迟 $T_{d}$ 产生 $H(s)\\approx\\exp(-T_{d}s)$，其相位为 $-\\omega T_{d}$。题目指出，这在 $\\omega_{gc}$ 处贡献了 $20^{\\circ}$ 的滞后。\n\n4. RHP零点贡献。位于 $\\omega_{z,\\text{RHP}}$ 的一个RHP零点表现为因子 $1-\\frac{s}{\\omega_{z,\\text{RHP}}}$。在虚轴 $s=j\\omega$ 上计算，\n$$\n1-\\frac{j\\omega}{\\omega_{z,\\text{RHP}}}=\\sqrt{1+\\left(\\frac{\\omega}{\\omega_{z,\\text{RHP}}}\\right)^{2}}\\;\\exp\\!\\left(-j\\,\\arctan\\!\\frac{\\omega}{\\omega_{z,\\text{RHP}}}\\right),\n$$\n因此RHP零点贡献的相位是\n$$\n\\phi_{z,\\text{RHP}}(\\omega)=-\\arctan\\!\\left(\\frac{\\omega}{\\omega_{z,\\text{RHP}}}\\right),\n$$\n随着 $\\omega$ 的增加，其范围从 $0^{\\circ}$ 到 $-90^{\\circ}$。重要的是，这是一个非最小相位特性：它在增加幅值的同时增加了负相位，当 $\\omega_{gc}$ 不远低于 $\\omega_{z,\\text{RHP}}$ 时，这会侵蚀相位裕度。\n\n在 $\\omega=\\omega_{gc}$ 处将这些项汇总，总环路相位为\n$$\n\\angle L(j\\omega_{gc})\\approx\\underbrace{(-180^{\\circ})}_{\\text{最小相位被控对象}}+\\underbrace{(+70^{\\circ})}_{\\text{补偿器超前}}+\\underbrace{(-20^{\\circ})}_{\\text{延迟}}+\\underbrace{\\left(-\\arctan\\!\\frac{\\omega_{gc}}{\\omega_{z,\\text{RHP}}}\\right)}_{\\text{RHP零点}}.\n$$\n因此，\n$$\n\\angle L(j\\omega_{gc})\\approx -130^{\\circ}-\\arctan\\!\\left(\\frac{\\omega_{gc}}{\\omega_{z,\\text{RHP}}}\\right).\n$$\n\n相位裕度要求 $\\phi_{m}\\geq 45^{\\circ}$，以度表示，即为\n$$\n180^{\\circ}+\\angle L(j\\omega_{gc})\\geq 45^{\\circ}\\quad\\Longleftrightarrow\\quad \\angle L(j\\omega_{gc})\\geq -135^{\\circ}.\n$$\n代入环路相位表达式，得到\n$$\n-130^{\\circ}-\\arctan\\!\\left(\\frac{\\omega_{gc}}{\\omega_{z,\\text{RHP}}}\\right)\\geq -135^{\\circ}.\n$$\n整理得，\n$$\n\\arctan\\!\\left(\\frac{\\omega_{gc}}{\\omega_{z,\\text{RHP}}}\\right)\\leq 5^{\\circ}.\n$$\n由于 $\\arctan(\\cdot)$ 是单调递增函数，最大可行 $\\omega_{gc}$ 在等号成立时取得：\n$$\n\\frac{\\omega_{gc,\\max}}{\\omega_{z,\\text{RHP}}}=\\tan(5^{\\circ}).\n$$\n为将三角函数参数以弧度表示，注意到 $5^{\\circ}=\\frac{5\\pi}{180}=\\frac{\\pi}{36}$。因此，\n$$\n\\omega_{gc,\\max}=\\omega_{z,\\text{RHP}}\\,\\tan\\!\\left(\\frac{\\pi}{36}\\right).\n$$\n\n此推导也解释了为什么 $\\omega_{gc}$ 必须远低于 $\\omega_{z,\\text{RHP}}$：当 $\\omega_{gc}$ 接近 $\\omega_{z,\\text{RHP}}$ 时，非最小相位零点会贡献一个接近 $-45^{\\circ}$ 到 $-90^{\\circ}$ 的大的负相位，这个负相位无法被受限的补偿器超前和不可避免的延迟所克服，从而违反了期望的相位裕度要求。该闭式界限明确地显示了所需的分隔程度。",
            "answer": "$$\\boxed{\\omega_{z,\\text{RHP}}\\tan\\!\\left(\\frac{\\pi}{36}\\right)}$$"
        }
    ]
}