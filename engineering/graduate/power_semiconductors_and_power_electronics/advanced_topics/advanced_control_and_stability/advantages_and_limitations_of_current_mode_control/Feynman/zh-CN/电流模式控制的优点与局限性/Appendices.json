{
    "hands_on_practices": [
        {
            "introduction": "电流模式控制的一个主要挑战是次谐波振荡，尤其是在占空比超过$0.5$的连续导通模式（CCM）下。 这项练习将引导您从第一性原理出发，推导描述逐周期动态的庞加莱映射（Poincaré map）。通过将此数学模型转化为计算脚本，您将掌握一个强大的工具，用以预测和验证不同工作条件下内部电流环的稳定性。",
            "id": "3821154",
            "problem": "考虑一个采用后沿脉冲宽度调制 (PWM) 且由峰值电流模式控制 (CMC) 调节的直流-直流降压变换器。电流内环检测电感电流，并在与控制电流指令进行比较之前，添加一个线性补偿斜坡。在一个开关周期内，该变换器在恒定的输入电压和恒定的输出电压下工作。设开关周期为 $T_s$（单位：秒），输入电压为 $V_\\text{in}$（单位：伏特），输出电压为 $V_\\text{o}$（单位：伏特），电感为 $L$（单位：亨利），控制电流指令为 $I_c$（单位：安培），注入的补偿斜坡的斜率为 $m_s$（单位：安培/秒）。假设元件是理想的且测量延迟可忽略不计，并通过一个理想比较器来建模内环的开关条件，当检测到的电流加上补偿斜坡等于控制指令时，该比较器会关断高侧开关。\n\n从电感的本构定律 $v_L = L\\,\\frac{di_L}{dt}$ 出发，并将 $V_\\text{o}$ 在一个周期内视作常数，定义导通时间斜率 $m_1 = \\frac{V_\\text{in} - V_\\text{o}}{L}$（单位：安培/秒）和关断时间斜率 $m_2 = \\frac{V_\\text{o}}{L}$（单位：安培/秒）。设周期 $n$ 开始时的电感电流谷值为 $i_n$（单位：安培）。在导通期间，比较器的开关条件为 $i_n + m_1\\,t_\\text{on} + m_s\\,t_\\text{on} = I_c$，其中 $t_\\text{on}$ 是导通时间（单位：秒）。关断期间持续 $T_s - t_\\text{on}$ 秒，在此期间电流以斜率 $-m_2$ 下降。PWM 和电流比较器的离散时间特性构成一个一维仿射 Poincaré 映射 $i_{n+1} = f(i_n)$，该映射可通过在一个开关周期内应用这些定义和定律得到。该映射在不动点处的局部线性化可得到一个控制离散时间动态的标量乘子。当该乘子穿过 $-1$ 时，电流内环会发生倍周期分岔；不发生倍周期分岔对应于乘子严格保持在开区间 $(-1,1)$ 内。\n\n您的任务是：\n- 根据上述基本定义，推导出一维仿射映射 $i_{n+1} = f(i_n)$。\n- 从此映射中提取不动点周围线性化动态的标量乘子 $a$，并用 $m_1$、$m_2$ 和 $m_s$ 表示。利用此结果构建一个计算方法，该方法为每组参数返回一个布尔值，以指示内环是否无倍周期分岔（若 $|a|  1$ 则为真，否则为假）。\n- 在一个程序中实现此方法，以评估以下测试集。所有物理量必须以指定的单位进行解释。尽管程序的输出是布尔值（无量纲），但中间计算必须始终使用给定的单位：\n    1. 测试 1：$V_\\text{in} = 20\\,\\text{V}$，$V_\\text{o} = 8\\,\\text{V}$，$L = 100\\times 10^{-6}\\,\\text{H}$，$T_s = 5\\times 10^{-6}\\,\\text{s}$，$I_c = 5\\,\\text{A}$，$m_s = 0\\,\\text{A/s}$。\n    2. 测试 2：$V_\\text{in} = 20\\,\\text{V}$，$V_\\text{o} = 10\\,\\text{V}$，$L = 100\\times 10^{-6}\\,\\text{H}$，$T_s = 5\\times 10^{-6}\\,\\text{s}$，$I_c = 5\\,\\text{A}$，$m_s = 0\\,\\text{A/s}$。\n    3. 测试 3：$V_\\text{in} = 20\\,\\text{V}$，$V_\\text{o} = 16\\,\\text{V}$，$L = 100\\times 10^{-6}\\,\\text{H}$，$T_s = 5\\times 10^{-6}\\,\\text{s}$，$I_c = 5\\,\\text{A}$，$m_s = 0\\,\\text{A/s}$。\n    4. 测试 4：$V_\\text{in} = 20\\,\\text{V}$，$V_\\text{o} = 16\\,\\text{V}$，$L = 100\\times 10^{-6}\\,\\text{H}$，$T_s = 5\\times 10^{-6}\\,\\text{s}$，$I_c = 5\\,\\text{A}$，$m_s = 85{,}000\\,\\text{A/s}$。\n    5. 测试 5：$V_\\text{in} = 20\\,\\text{V}$，$V_\\text{o} = 16\\,\\text{V}$，$L = 100\\times 10^{-6}\\,\\text{H}$，$T_s = 5\\times 10^{-6}\\,\\text{s}$，$I_c = 5\\,\\text{A}$，$m_s = 50{,}000\\,\\text{A/s}$。\n\n您的程序应生成单行输出，其中包含所有测试的结果，格式为方括号内以逗号分隔的布尔值列表，例如 $[ \\text{True}, \\text{False}, \\ldots ]$。不应打印任何额外文本。此问题不涉及角度。百分比（如果需要解释）必须始终作为小数处理，但程序的输出仅包含布尔值。",
            "solution": "该问题要求推导在峰值电流模式控制 (CMC) 下工作的降压变换器中电感电流谷值的一维仿射 Poincaré 映射，并随后分析其局部稳定性。\n\n设 $i_n$ 为开关周期 $n$ 开始时的电感电流。这是谷值电流。分析在一个完整的开关周期 $T_s$ 内进行。\n\n1.  **导通期间 ($0 \\le t \\le t_{\\text{on}}$):**\n    在导通时间内，高侧开关闭合。电感 $L$ 两端的电压为 $v_L = V_{\\text{in}} - V_{\\text{o}}$。根据电感的本构定律，电流以斜率 $m_1$ 线性上升：\n    $$ \\frac{di_L}{dt} = \\frac{V_{\\text{in}} - V_{\\text{o}}}{L} = m_1 $$\n    在此期间内 $t$ 时刻的电感电流为：\n    $$ i_L(t) = i_n + m_1 t $$\n    控制方案将斜率为 $m_s$ 的补偿斜坡加到检测到的电流上。当检测到的电感电流与补偿斜坡值之和等于控制电流指令 $I_c$ 时，高侧开关在 $t = t_{\\text{on}}$ 时刻关断。开关条件给出如下：\n    $$ i_L(t_{\\text{on}}) + m_s t_{\\text{on}} = I_c $$\n    代入 $i_L(t_{\\text{on}})$ 的表达式：\n    $$ (i_n + m_1 t_{\\text{on}}) + m_s t_{\\text{on}} = I_c $$\n    我们可以求解导通时间 $t_{\\text{on}}$，将其表示为初始状态 $i_n$ 的函数：\n    $$ t_{\\text{on}}(m_1 + m_s) = I_c - i_n $$\n    $$ t_{\\text{on}} = \\frac{I_c - i_n}{m_1 + m_s} $$\n\n2.  **关断期间 ($t_{\\text{on}}  t \\le T_s$):**\n    在关断时间内，高侧开关断开。电感两端的电压为 $v_L = -V_{\\text{o}}$。电流以斜率 $-m_2$ 线性下降：\n    $$ \\frac{di_L}{dt} = -\\frac{V_{\\text{o}}}{L} = -m_2 $$\n    此期间的持续时间为 $t_{\\text{off}} = T_s - t_{\\text{on}}$。\n\n3.  **Poincaré 映射 $i_{n+1} = f(i_n)$ 的推导：**\n    下一个周期的谷值电流 $i_{n+1}$ 是当前周期结束时（即 $t=T_s$ 时刻）的电感电流。这可以通过从 $t_{\\text{on}}$ 时刻的峰值电流开始，并计算关断期间的变化量来求得。\n    电感电流峰值为：\n    $$ i_{\\text{peak}} = i_L(t_{\\text{on}}) = i_n + m_1 t_{\\text{on}} $$\n    然后电流在 $T_s - t_{\\text{on}}$ 的持续时间内以斜率 $-m_2$ 下降。\n    $$ i_{n+1} = i_{\\text{peak}} - m_2 (T_s - t_{\\text{on}}) $$\n    代入 $i_{\\text{peak}}$ 的表达式：\n    $$ i_{n+1} = (i_n + m_1 t_{\\text{on}}) - m_2 (T_s - t_{\\text{on}}) $$\n    $$ i_{n+1} = i_n + (m_1 + m_2)t_{\\text{on}} - m_2 T_s $$\n    现在，我们将 $t_{\\text{on}}$ 的表达式代入此方程，以获得映射 $i_{n+1} = f(i_n)$：\n    $$ i_{n+1} = i_n + (m_1 + m_2) \\left( \\frac{I_c - i_n}{m_1 + m_s} \\right) - m_2 T_s $$\n    这就是所求的一维仿射映射。我们可以将其整理为 $i_{n+1} = a i_n + b$ 的形式：\n    $$ i_{n+1} = i_n - \\frac{m_1 + m_2}{m_1 + m_s} i_n + \\frac{m_1 + m_2}{m_1 + m_s} I_c - m_2 T_s $$\n    $$ i_{n+1} = \\left( 1 - \\frac{m_1 + m_2}{m_1 + m_s} \\right) i_n + \\left( \\frac{(m_1 + m_2)I_c}{m_1 + m_s} - m_2 T_s \\right) $$\n\n4.  **局部稳定性分析：**\n    映射 $i_{n+1} = f(i_n)$ 在不动点周围的局部动态由乘子 $a = \\frac{df}{di_n}$ 决定。从上面推导的仿射映射可知，乘子 $a$ 是 $i_n$ 的系数：\n    $$ a = 1 - \\frac{m_1 + m_2}{m_1 + m_s} $$\n    可以将其简化为：\n    $$ a = \\frac{(m_1 + m_s) - (m_1 + m_2)}{m_1 + m_s} = \\frac{m_s - m_2}{m_1 + m_s} $$\n    问题指出，如果乘子严格位于开区间 $(-1, 1)$ 内，则内环无倍周期分岔，这等价于条件 $|a|  1$。\n\n5.  **计算方法：**\n    对每个测试用例，执行以下步骤：\n    a. 给定 $V_{\\text{in}}$、$V_{\\text{o}}$、$L$ 和 $m_s$。\n    b. 计算导通时间斜率：$m_1 = \\frac{V_{\\text{in}} - V_{\\text{o}}}{L}$。\n    c. 计算关断时间斜率的大小：$m_2 = \\frac{V_{\\text{o}}}{L}$。\n    d. 计算乘子：$a = \\frac{m_s - m_2}{m_1 + m_s}$。\n    e. 评估布尔条件 $|a|  1$。若为真，则系统对倍周期分岔是稳定的。若为假，则不稳定。\n    请注意，计算乘子 $a$ 不需要 $T_s$ 和 $I_c$ 的值，因为它们只影响仿射映射的常数项 $b$，而该常数项决定了不动点的位置，但不影响其局部稳定性。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Analyzes the stability of a buck converter with peak Current Mode Control.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    # Each case is a tuple: (V_in, V_o, L, T_s, I_c, m_s)\n    # Units: V, V, H, s, A, A/s\n    test_cases = [\n        (20.0, 8.0, 100e-6, 5e-6, 5.0, 0.0),        # Test 1\n        (20.0, 10.0, 100e-6, 5e-6, 5.0, 0.0),       # Test 2\n        (20.0, 16.0, 100e-6, 5e-6, 5.0, 0.0),       # Test 3\n        (20.0, 16.0, 100e-6, 5e-6, 5.0, 85000.0),  # Test 4\n        (20.0, 16.0, 100e-6, 5e-6, 5.0, 50000.0),  # Test 5\n    ]\n\n    results = []\n    for case in test_cases:\n        V_in, V_o, L, T_s, I_c, m_s = case\n\n        # The problem statement requires consistent use of given units for intermediate calculations.\n        # Although V_in and V_o are non-negative, a check for a valid buck converter\n        # operating condition (V_in > V_o > 0) is prudent for a robust physical model,\n        # though not strictly required by the problem's direct instructions.\n        if L = 0 or V_in = V_o or V_o  0:\n            # This case corresponds to an unphysical or ill-defined scenario.\n            # Handle as unstable for safety, although test data is well-behaved.\n            results.append(False)\n            continue\n\n        # Calculate the on-time slope of the inductor current (A/s).\n        m_1 = (V_in - V_o) / L\n\n        # Calculate the magnitude of the off-time slope of the inductor current (A/s).\n        m_2 = V_o / L\n\n        # The multiplier 'a' of the linearized Poincaré map i_{n+1} = a*i_n + b\n        # is given by a = (m_s - m_2) / (m_1 + m_s).\n        # We must handle the case where the denominator could be zero, which physically\n        # corresponds to m_1 + m_s = 0. Given m_1 > 0, this only happens if m_s is\n        # a large negative value, which is not typical for stabilizing ramps.\n        denominator = m_1 + m_s\n        if np.isclose(denominator, 0):\n             # Division by zero implies infinite gain, hence unstable.\n            is_stable = False\n        else:\n            a = (m_s - m_2) / denominator\n            # The system is free from period-doubling if the absolute value of the\n            # multiplier is strictly less than 1.\n            is_stable = np.abs(a)  1.0\n\n        results.append(is_stable)\n\n    # Format the final output as a comma-separated list of booleans in square brackets.\n    # The str() of a bool is 'True' or 'False' (capitalized), which matches the example format.\n    output_str = f\"[{', '.join(str(r) for r in results)}]\"\n    print(output_str)\n\nsolve()\n```"
        },
        {
            "introduction": "解决了基本的稳定性问题后，我们必须面对一个实际的挑战：开关噪声，尤其是每个开关周期开始时的前沿尖峰。 这个练习将挑战您设计前沿消隐（LEB）电路的关键参数——消隐时间，以防止错误的比较器触发。通过这个过程，您将学会如何在防止错误触发和保持峰值电流调节精度之间进行量化权衡，这是设计稳健电源转换器的一项关键技能。",
            "id": "3821118",
            "problem": "考虑一个在脉冲宽度调制 (PWM) 控制器中实现了峰值电流模式控制 (PCM) 的连续导通模式降压转换器，该控制器包含前沿消隐 (LEB) 功能。电感电流被感测为电流波形 $i_{\\text{sense}}(t) = i_{L}(t) + i_{\\text{sp}}(t)$，其中 $i_{L}(t)$ 是电感电流，$i_{\\text{sp}}(t)$ 是 MOSFET 导通时由反向恢复和电容性/二极管位移电流引起的前沿尖峰。该尖峰可以很好地用指数包络 $i_{\\text{sp}}(t) = I_{0} \\exp(-t/\\tau)$ 来建模，其幅值 $I_{0} = 2\\,\\mathrm{A}$。实验观察到，该尖峰在 $100\\,\\mathrm{ns}$ 内保持在 $0.2\\,\\mathrm{A}$ 以上，然后衰减到该水平以下。\n\n当感测电流超过峰值参考 $I_{\\text{pk}}$ 时，控制器触发，本设计中 $I_{\\text{pk}} = 20\\,\\mathrm{A}$。该转换器的输入电压 $V_{\\text{in}} = 48\\,\\mathrm{V}$，输出电压 $V_{\\text{out}} = 12\\,\\mathrm{V}$，电感 $L = 2\\,\\mu\\mathrm{H}$。开关导通时的电感谷底电流为 $I_{\\min} = 5\\,\\mathrm{A}$。根据第一性原理，使用 $v_{L} = L\\,\\mathrm{d}i/\\mathrm{d}t$ 来获得 MOSFET 导通期间的电感电流转换率。LEB 在持续时间 $t_{b}$ 内屏蔽感测电流，因此比较器在此消隐窗口期间不能触发。\n\n为避免误触发并保证精度，设计要求为：选择 $t_{b}$，使得在消隐结束时，残余尖峰幅值不超过 $I_{\\text{pk}}$ 的 $\\epsilon = 0.01$ 倍。使用指数尖峰模型和测得的在 $0.2\\,\\mathrm{A}$ 以上持续 $100\\,\\mathrm{ns}$ 的数据来确定衰减时间常数 $\\tau$，然后计算满足精度要求的最小消隐时间 $t_{b,\\min}$。此外，定量解释在给定的工作点下，这样的消隐窗口是否会在测量的峰值电流中引入任何过冲或下冲，并说明如果阈值穿越恰好发生在 $t = t_{b,\\min}$ 时，最坏情况下的测量峰值误差是多少。\n\n将最小消隐时间的最终数值答案四舍五入到三位有效数字。以纳秒为单位表示消隐时间。最终答案必须是一个实数。",
            "solution": "首先验证问题，以确保其科学上是合理的、提法恰当的、客观的和完整的。\n\n### 第1步：提取已知条件\n-   系统：连续导通模式 (CCM) 降压转换器。\n-   控制：具有脉冲宽度调制 (PWM) 和前沿消隐 (LEB) 的峰值电流模式控制 (PCM)。\n-   感测电流模型：$i_{\\text{sense}}(t) = i_{L}(t) + i_{\\text{sp}}(t)$。\n-   电感电流：$i_{L}(t)$。\n-   电流尖峰模型：$i_{\\text{sp}}(t) = I_{0} \\exp(-t/\\tau)$。\n-   尖峰幅值：$I_{0} = 2\\,\\mathrm{A}$。\n-   尖峰特性：对于 $t  100\\,\\mathrm{ns}$，$i_{\\text{sp}}(t)  0.2\\,\\mathrm{A}$。这意味着 $i_{\\text{sp}}(100\\,\\mathrm{ns}) = 0.2\\,\\mathrm{A}$。\n-   峰值电流参考：$I_{\\text{pk}} = 20\\,\\mathrm{A}$。\n-   输入电压：$V_{\\text{in}} = 48\\,\\mathrm{V}$。\n-   输出电压：$V_{\\text{out}} = 12\\,\\mathrm{V}$。\n-   电感：$L = 2\\,\\mu\\mathrm{H}$。\n-   电感谷底电流：$I_{\\min} = 5\\,\\mathrm{A}$。\n-   基本关系：$v_{L} = L\\,\\mathrm{d}i/\\mathrm{d}t$。\n-   消隐时间符号：$t_{b}$。\n-   $t_{b}$ 的设计要求：在 $t=t_b$ 时的残余尖峰必须满足 $i_{\\text{sp}}(t_b) \\le \\epsilon I_{\\text{pk}}$，其中 $\\epsilon = 0.01$。\n\n### 第2步：使用提取的已知条件进行验证\n问题陈述在科学上是合理的。它描述了在使用电流模式控制的开关模式电源转换器设计中的一个标准问题（前沿电流尖峰）和一种标准缓解技术（前沿消隐）。尖峰的指数模型是一种常见且有效的近似。所有提供的参数（$V_{\\text{in}}$、$V_{\\text{out}}$、$L$、电流）对于降压转换器来说都是符合实际的。问题提法恰当，提供了足够的信息来确定所求的量。语言客观而精确。因此，该问题被认为是有效的。\n\n### 第3步：结论与行动\n问题有效。将提供完整的解答。\n\n### 解答推导\n解答过程分四个阶段：(1) 确定电感电流转换率，(2) 确定尖峰衰减时间常数 $\\tau$，(3) 计算所需的最小消隐时间 $t_{b,\\min}$，以及 (4) 分析消隐窗口对电流测量精度的影响。\n\n**1. 电感电流转换率**\n在 MOSFET 导通期间，电感两端的电压 $v_L$ 是输入电压和输出电压之差。\n$$v_{L} = V_{\\text{in}} - V_{\\text{out}}$$\n根据基本电感方程 $v_L = L \\frac{\\mathrm{d}i_L}{\\mathrm{d}t}$。将两者相等，得到电感电流转换率，我们将其记为 $m_1$：\n$$m_1 = \\frac{\\mathrm{d}i_L}{\\mathrm{d}t} = \\frac{V_{\\text{in}} - V_{\\text{out}}}{L}$$\n代入给定值：\n$$m_1 = \\frac{48\\,\\mathrm{V} - 12\\,\\mathrm{V}}{2\\,\\mu\\mathrm{H}} = \\frac{36\\,\\mathrm{V}}{2 \\times 10^{-6}\\,\\mathrm{H}} = 18 \\times 10^{6}\\,\\mathrm{A/s} = 18\\,\\mathrm{A}/\\mu\\mathrm{s}$$\n导通期间的电感电流 $i_L(t)$ 是一个从谷底电流 $I_{\\min}$ 开始的线性斜坡：\n$$i_{L}(t) = I_{\\min} + m_1 t = 5\\,\\mathrm{A} + (18 \\times 10^{6}\\,\\mathrm{A/s}) \\cdot t$$\n\n**2. 尖峰衰减时间常数 ($\\tau$)**\n电流尖峰被建模为 $i_{\\text{sp}}(t) = I_{0} \\exp(-t/\\tau)$，其中 $I_{0} = 2\\,\\mathrm{A}$。已知在 $t = 100\\,\\mathrm{ns}$ 时，尖峰衰减至 $0.2\\,\\mathrm{A}$。我们使用此信息来求解 $\\tau$。\n$$i_{\\text{sp}}(100\\,\\mathrm{ns}) = I_{0} \\exp\\left(-\\frac{100 \\times 10^{-9}\\,\\mathrm{s}}{\\tau}\\right) = 0.2\\,\\mathrm{A}$$\n$$2\\,\\mathrm{A} \\cdot \\exp\\left(-\\frac{100 \\times 10^{-9}\\,\\mathrm{s}}{\\tau}\\right) = 0.2\\,\\mathrm{A}$$\n$$\\exp\\left(-\\frac{100 \\times 10^{-9}\\,\\mathrm{s}}{\\tau}\\right) = \\frac{0.2}{2} = 0.1$$\n对两边取自然对数：\n$$-\\frac{100 \\times 10^{-9}\\,\\mathrm{s}}{\\tau} = \\ln(0.1) = -\\ln(10)$$\n求解 $\\tau$：\n$$\\tau = \\frac{100 \\times 10^{-9}\\,\\mathrm{s}}{\\ln(10)}$$\n\n**3. 最小消隐时间 ($t_{b,\\min}$)**\n消隐时间 $t_{b}$ 的设计要求是，在消隐区间结束时，残余尖峰幅值不超过峰值参考电流 $I_{\\text{pk}} = 20\\,\\mathrm{A}$ 的 $\\epsilon = 0.01$ 倍。\n$$i_{\\text{sp}}(t_{b}) \\le \\epsilon I_{\\text{pk}}$$\n允许的最大残余尖峰幅值为：\n$$\\epsilon I_{\\text{pk}} = 0.01 \\times 20\\,\\mathrm{A} = 0.2\\,\\mathrm{A}$$\n最小消隐时间 $t_{b,\\min}$ 是尖峰幅值恰好衰减到此水平的时间。\n$$i_{\\text{sp}}(t_{b,\\min}) = I_{0} \\exp\\left(-\\frac{t_{b,\\min}}{\\tau}\\right) = 0.2\\,\\mathrm{A}$$\n$$2\\,\\mathrm{A} \\cdot \\exp\\left(-\\frac{t_{b,\\min}}{\\tau}\\right) = 0.2\\,\\mathrm{A}$$\n$$\\exp\\left(-\\frac{t_{b,\\min}}{\\tau}\\right) = 0.1$$\n$$-\\frac{t_{b,\\min}}{\\tau} = \\ln(0.1) = -\\ln(10)$$\n$$t_{b,\\min} = \\tau \\ln(10)$$\n现在，我们代入上一步中推导出的 $\\tau$ 的表达式：\n$$t_{b,\\min} = \\left(\\frac{100 \\times 10^{-9}\\,\\mathrm{s}}{\\ln(10)}\\right) \\ln(10) = 100 \\times 10^{-9}\\,\\mathrm{s} = 100\\,\\mathrm{ns}$$\n所需的最小消隐时间恰好是 $100\\,\\mathrm{ns}$。问题要求将其四舍五入到三位有效数字，即 $100$。\n\n**4. 误差分析**\n当感测电流 $i_{\\text{sense}}(t)$ 达到参考水平 $I_{\\text{pk}}$ 时，控制器的比较器触发。设触发时间为 $t_{\\text{trip}}$。由于存在消隐时间，因此 $t_{\\text{trip}} \\ge t_{b,\\min}$。\n在触发瞬间：\n$$i_{\\text{sense}}(t_{\\text{trip}}) = i_{L}(t_{\\text{trip}}) + i_{\\text{sp}}(t_{\\text{trip}}) = I_{\\text{pk}}$$\n因此，达到的实际电感峰值电流为：\n$$i_{L}(t_{\\text{trip}}) = I_{\\text{pk}} - i_{\\text{sp}}(t_{\\text{trip}})$$\n由于 $t_{\\text{trip}} > 0$，尖峰分量 $i_{\\text{sp}}(t_{\\text{trip}})$ 是一个正量。因此，真实的电感峰值电流 $i_{L}(t_{\\text{trip}})$ 将小于目标峰值电流 $I_{\\text{pk}}$。这种现象是电感电流峰值相对于参考值的**下冲**。\n测量误差 $\\Delta I_{\\text{error}}$，即该下冲的量值，等于触发瞬间的残余尖峰幅值：\n$$\\Delta I_{\\text{error}} = I_{\\text{pk}} - i_{L}(t_{\\text{trip}}) = i_{\\text{sp}}(t_{\\text{trip}})$$\n函数 $i_{\\text{sp}}(t)$ 在 $t>0$ 时是单调递减的。消隐时间 $t_{b,\\min}$ 设定了最早可能的触发时间。因此，最坏情况（最大）误差发生在最小可能的触发时间，即如果控制器恰好在 $t_{\\text{trip}} = t_{b,\\min}$ 时触发。\n因此，最坏情况下的峰值误差为：\n$$\\Delta I_{\\text{error, max}} = i_{\\text{sp}}(t_{b,\\min})$$\n根据 $t_{b,\\min}$ 的设计要求，我们有：\n$$\\Delta I_{\\text{error, max}} = \\epsilon I_{\\text{pk}} = 0.01 \\times 20\\,\\mathrm{A} = 0.2\\,\\mathrm{A}$$\n所以，所选的消隐窗口会在峰值电感电流中引入一个下冲。此下冲的最坏情况量值为 $0.2\\,\\mathrm{A}$，发生在触发点与消隐区间末端重合时。这对应于实际峰值电感电流为 $19.8\\,\\mathrm{A}$，而非期望的 $20\\,\\mathrm{A}$。对于任何在 $t_{b,min}$ 之后发生的触发，误差将小于 $0.2\\,\\mathrm{A}$。\n\n问题要求将最小消隐时间 $t_{b,\\min}$ 作为最终答案。\n$$t_{b,\\min} = 100\\,\\mathrm{ns}$$\n该值要求四舍五入到三位有效数字，计算值恰好是 $100$。",
            "answer": "$$\\boxed{100}$$"
        },
        {
            "introduction": "电流模式控制的精度依赖于精确的电流检测，但检测方法本身带来了性能上的权衡，其中最显著的就是功率损耗及其对效率的影响。 这项练习要求您通过考虑电感电流的直流和交流分量，精确计算检测电阻中的功率损耗。这种分析突显了电流检测的隐性成本，并促使您将其与更高效但更复杂的替代方法（如DCR检测）进行比较，为应对实际设计决策做好准备。",
            "id": "3821139",
            "problem": "一个工作在连续导通模式下的同步降压转换器采用电流模式控制 (CMC)。电感电流波形是直流分量与开关引起的三角波纹波之和，其平均电流为 $I_{\\mathrm{avg}} = 10\\,\\mathrm{A}$，峰峰值纹波为 $\\Delta I = 4\\,\\mathrm{A}$，并假设其对称且周期性。一个阻值为 $R_s = 5\\,\\mathrm{m}\\Omega$ 的分立检测电阻被串联接入，用于为内部电流环检测电流。\n\n从瞬时功率 $p(t) = i^{2}(t) R_s$ 和在一个开关周期内的平均时间值的定义出发，推导检测电阻中耗散的平均功率表达式，并计算其数值。假设三角波纹波是理想的，围绕 $I_{\\mathrm{avg}}$ 的均值为零，并忽略任何开关边沿的尖峰。\n\n将您的最终数值答案四舍五入至四位有效数字，并以 $\\mathrm{W}$ 为单位表示功率。\n\n然后，运用传导损耗和检测方法的基本原理，简要讨论与电感绕组的直流电阻 (DCR) 检测相比，这种检测电阻对效率的影响，并突出其在 CMC 背景下的相关优缺点和局限性。",
            "solution": "电阻中耗散的瞬时功率由 $p(t) = i^{2}(t) R_s$ 给出。在一个开关周期 $T$ 内的平均功率为\n$$\nP = \\frac{1}{T} \\int_{0}^{T} p(t)\\, dt = \\frac{1}{T} \\int_{0}^{T} i^{2}(t) R_s\\, dt = R_s \\left( \\frac{1}{T} \\int_{0}^{T} i^{2}(t)\\, dt \\right).\n$$\n将电感电流分解为\n$$\ni(t) = I_{\\mathrm{avg}} + \\tilde{i}(t),\n$$\n其中 $\\tilde{i}(t)$ 是零均值的三角波纹波，其峰峰值幅度为 $\\Delta I$，峰值幅度为 $A = \\Delta I/2$。$\\tilde{i}(t)$ 在一个周期内的平均值为 $0$，即 $\\frac{1}{T}\\int_{0}^{T} \\tilde{i}(t) \\, dt = 0$。\n\n我们计算 $i(t)$ 的均方值：\n$$\n\\frac{1}{T} \\int_{0}^{T} i^{2}(t)\\, dt = \\frac{1}{T} \\int_{0}^{T} \\left( I_{\\mathrm{avg}} + \\tilde{i}(t) \\right)^{2} dt = I_{\\mathrm{avg}}^{2} + \\frac{1}{T} \\int_{0}^{T} \\tilde{i}^{2}(t)\\, dt,\n$$\n因为交叉项的平均值为零：\n$$\n\\frac{2 I_{\\mathrm{avg}}}{T} \\int_{0}^{T} \\tilde{i}(t)\\, dt = 2 I_{\\mathrm{avg}} \\cdot 0 = 0.\n$$\n\n剩下的任务是计算峰值幅度为 $A$ 的零均值对称三角波形的均方值。将 $[0, T]$ 上的 $\\tilde{i}(t)$ 定义为一个分段线性函数，在 $[0, T/2]$ 上从 $-A$ 线性增加到 $A$，在 $[T/2, T]$ 上从 $A$ 线性减小回 $-A$。在 $[0, T/2]$ 上，我们有\n$$\n\\tilde{i}(t) = -A + \\frac{4A}{T} t.\n$$\n在前半个周期内，其平方的积分为\n\\begin{align*}\n\\int_{0}^{T/2} \\tilde{i}^{2}(t)\\, dt = \\int_{0}^{T/2} \\left( -A + \\frac{4A}{T} t \\right)^{2} dt \\\\\n= \\int_{0}^{T/2} \\left( A^{2} - \\frac{8A^{2}}{T} t + \\frac{16A^{2}}{T^{2}} t^{2} \\right) dt \\\\\n= A^{2} \\left[ t \\right]_{0}^{T/2} - \\frac{8A^{2}}{T} \\left[ \\frac{t^{2}}{2} \\right]_{0}^{T/2} + \\frac{16A^{2}}{T^{2}} \\left[ \\frac{t^{3}}{3} \\right]_{0}^{T/2} \\\\\n= A^{2} \\left( \\frac{T}{2} \\right) - \\frac{8A^{2}}{T} \\left( \\frac{T^{2}}{8} \\right) + \\frac{16A^{2}}{T^{2}} \\left( \\frac{T^{3}}{24} \\right) \\\\\n= \\frac{A^{2} T}{2} - A^{2} T + \\frac{2 A^{2} T}{3} = \\frac{A^{2} T}{6}.\n\\end{align*}\n根据对称性，在 $[T/2, T]$ 上的积分也是 $\\frac{A^{2} T}{6}$。因此，在一个周期内的总积分为\n$$\n\\int_{0}^{T} \\tilde{i}^{2}(t)\\, dt = \\frac{A^{2} T}{3},\n$$\n其均方值为\n$$\n\\frac{1}{T} \\int_{0}^{T} \\tilde{i}^{2}(t)\\, dt = \\frac{A^{2}}{3}.\n$$\n\n因此，\n$$\n\\frac{1}{T} \\int_{0}^{T} i^{2}(t)\\, dt = I_{\\mathrm{avg}}^{2} + \\frac{A^{2}}{3},\n$$\n检测电阻中耗散的平均功率为\n$$\nP = R_s \\left( I_{\\mathrm{avg}}^{2} + \\frac{A^{2}}{3} \\right).\n$$\n代入 $R_s = 5 \\times 10^{-3}$，$I_{\\mathrm{avg}} = 10$ 和 $A = \\frac{\\Delta I}{2} = \\frac{4}{2} = 2$：\n\\begin{align*}\nI_{\\mathrm{avg}}^{2} = 10^{2} = 100, \\\\\n\\frac{A^{2}}{3} = \\frac{2^{2}}{3} = \\frac{4}{3} \\approx 1.333333\\ldots, \\\\\nI_{\\mathrm{avg}}^{2} + \\frac{A^{2}}{3} = 100 + \\frac{4}{3} = \\frac{304}{3} \\approx 101.333333\\ldots, \\\\\nP = \\left( 5 \\times 10^{-3} \\right) \\left( \\frac{304}{3} \\right) = \\frac{1520}{3000} \\approx 0.506666\\ldots\n\\end{align*}\n四舍五入至四位有效数字并以 $\\mathrm{W}$ 为单位表示，结果为 $0.5067\\,\\mathrm{W}$。\n\n关于相对于直流电阻 (DCR) 检测的效率影响的讨论：在电流模式控制 (CMC) 中，一个分立的检测电阻会引入额外的传导损耗 $P = R_s \\, \\mathbb{E}[i^{2}]$，这会直接降低效率并增加热负荷。相比之下，DCR 检测利用电感器固有的直流电阻 (DCR) 通过无源滤波器来检测电流，除了电感器不可避免的铜损外，基本上不增加额外的传导损耗；然而，DCR 检测受限于铜电阻的温度依赖性、绕组电阻的容差，以及需要精确滤波（这可能会引入动态相位延迟和噪声敏感性）。因此，虽然 DCR 检测通过避免来自 $R_s$ 的额外损耗提高了效率，但相对于一个精确定义的检测电阻，它可能会使校准和环路补偿复杂化。",
            "answer": "$$\\boxed{0.5067}$$"
        }
    ]
}