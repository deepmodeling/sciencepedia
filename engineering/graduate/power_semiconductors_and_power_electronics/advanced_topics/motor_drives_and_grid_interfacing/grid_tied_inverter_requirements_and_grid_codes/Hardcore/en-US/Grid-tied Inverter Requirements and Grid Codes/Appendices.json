{
    "hands_on_practices": [
        {
            "introduction": "Grid codes mandate specific inverter behaviors during grid faults, such as those governed by Low-Voltage Ride-Through (LVRT) requirements. These rules are often specified in the per-unit ($pu$) system, which normalizes quantities based on the equipment's ratings. This exercise challenges you to translate a prescribed reactive current injection requirement from its per-unit value into absolute physical units (amperes), a fundamental skill for implementing and verifying inverter control logic. Successfully solving this problem requires carefully parsing technical specifications to distinguish the essential data from the surrounding contextual information about the fault scenario .",
            "id": "3844416",
            "problem": "A three-phase grid-tied voltage-source inverter is connected through a transformer to a medium-voltage utility at the Point of Common Coupling (PCC). The grid is modeled by a positive-sequence Thevenin source with open-circuit phase-to-neutral voltage equal to the nominal phase voltage and by sequence Thevenin impedances. Under a single-line-to-ground fault on phase $a$ at the PCC with non-zero fault impedance, the three sequence networks are in series. The inverter follows Low-Voltage Ride-Through (LVRT) requirements and employs a Phase-Locked Loop (PLL) to track the positive-sequence grid voltage phasor. The grid code mandates that, for the duration of the voltage sag, the inverter must inject purely reactive positive-sequence current of prescribed magnitude relative to its rated current.\n\nData:\n- Inverter rated apparent power $S_{\\mathrm{rated}} = 4.0 \\times 10^{6}\\,\\mathrm{VA}$ and nominal line-to-line root-mean-square (RMS) voltage at the PCC $V_{\\mathrm{LL,nom}} = 11.0 \\times 10^{3}\\,\\mathrm{V}$.\n- The grid Thevenin sequence impedances referred to the PCC are $Z_{1} = j\\,0.8\\,\\Omega$, $Z_{2} = j\\,0.8\\,\\Omega$, and $Z_{0} = j\\,2.4\\,\\Omega$.\n- The single-line-to-ground fault impedance is $Z_{\\mathrm{f}} = 0.2\\,\\Omega$ on phase $a$ at the PCC.\n- The Thevenin positive-sequence open-circuit phase voltage magnitude is equal to the nominal phase RMS voltage $E_{1} = V_{\\mathrm{LL,nom}}/\\sqrt{3}$.\n- The inverter’s maximum current capability is $1.5$ per unit (pu), and the grid code requires the inverter to inject $I_{\\mathrm{fault}} = 1.2$ pu of reactive positive-sequence current for $150\\,\\mathrm{ms}$ during the fault, referenced to the inverter’s rated current.\n\nAssume the inverter does not inject zero-sequence current due to transformer connection constraints, and that its current controller can track the commanded magnitude without dynamic error at the timescale considered. Using fundamental definitions of the per-unit system and symmetrical components for a single-line-to-ground fault, determine the commanded fault current magnitude (RMS per phase) that the inverter must inject at the PCC. Express the final current in amperes and round your answer to four significant figures.",
            "solution": "The problem statement has been evaluated and is determined to be valid. It is scientifically grounded in the principles of power system analysis, specifically symmetrical components and per-unit systems. The data provided are self-contained, consistent, and physically realistic. The problem is well-posed, leading to a unique and meaningful solution. While superfluous information is provided, it serves as context for the scenario and does not create contradictions.\n\nThe objective is to determine the magnitude of the commanded positive-sequence fault current, which the inverter must inject at the Point of Common Coupling (PCC), expressed in amperes (RMS).\n\nThe grid code requirement, as stated in the problem, dictates that the inverter must inject a purely reactive positive-sequence current with a specific magnitude during the voltage sag. This magnitude is given in the per-unit (pu) system as:\n$$I_{\\mathrm{fault}} = 1.2\\,\\mathrm{pu}$$\nThis commanded current is referenced to the inverter's rated current. Therefore, to convert this per-unit value into amperes, we must first establish the base current, $I_{\\mathrm{base}}$, for the per-unit system.\n\nThe base current, $I_{\\mathrm{base}}$, is defined as the inverter's rated RMS current, $I_{\\mathrm{rated}}$. This can be calculated from the inverter's three-phase rated apparent power, $S_{\\mathrm{rated}}$, and the nominal line-to-line RMS voltage at the PCC, $V_{\\mathrm{LL,nom}}$. The fundamental relationship for three-phase power is:\n$$S_{\\mathrm{rated}} = \\sqrt{3} \\times V_{\\mathrm{LL,nom}} \\times I_{\\mathrm{rated}}$$\n\nFrom this relationship, we can solve for the rated current, which serves as our base current:\n$$I_{\\mathrm{base}} = I_{\\mathrm{rated}} = \\frac{S_{\\mathrm{rated}}}{\\sqrt{3} V_{\\mathrm{LL,nom}}}$$\n\nThe problem provides the following values:\n- Inverter rated apparent power: $S_{\\mathrm{rated}} = 4.0 \\times 10^{6}\\,\\mathrm{VA}$\n- Nominal line-to-line RMS voltage: $V_{\\mathrm{LL,nom}} = 11.0 \\times 10^{3}\\,\\mathrm{V}$\n\nSubstituting these values into the expression for the base current:\n$$I_{\\mathrm{base}} = \\frac{4.0 \\times 10^{6}}{\\sqrt{3} \\times 11.0 \\times 10^{3}}\\,\\mathrm{A}$$\n$$I_{\\mathrm{base}} = \\frac{4000}{11\\sqrt{3}}\\,\\mathrm{A}$$\n\nNow, we can find the magnitude of the commanded fault current in amperes, which we denote as $I_{\\mathrm{cmd}}$, by multiplying the per-unit value by the base current:\n$$I_{\\mathrm{cmd}} = I_{\\mathrm{fault}} \\times I_{\\mathrm{base}}$$\n\nSubstituting the given per-unit value and the calculated base current:\n$$I_{\\mathrm{cmd}} = 1.2 \\times \\frac{4000}{11\\sqrt{3}}\\,\\mathrm{A}$$\n$$I_{\\mathrm{cmd}} = \\frac{4800}{11\\sqrt{3}}\\,\\mathrm{A}$$\n\nTo obtain the numerical value, we compute the expression:\n$$I_{\\mathrm{cmd}} \\approx \\frac{4800}{11 \\times 1.7320508}\\,\\mathrm{A} \\approx \\frac{4800}{19.0525588}\\,\\mathrm{A} \\approx 251.92097\\,\\mathrm{A}$$\n\nThe problem requires the answer to be rounded to four significant figures.\n$$I_{\\mathrm{cmd}} \\approx 251.9\\,\\mathrm{A}$$\n\nIt is important to note that much of the data provided in the problem statement is contextual and not required for this specific calculation. The sequence impedances ($Z_{1}$, $Z_{2}$, $Z_{0}$), the fault impedance ($Z_{\\mathrm{f}}$), and the fault duration ($150\\,\\mathrm{ms}$) describe the nature of the single-line-to-ground fault that triggers the Low-Voltage Ride-Through (LVRT) response. However, the magnitude of the inverter's response (the commanded current injection) is explicitly defined by the grid code requirement ($1.2\\,\\mathrm{pu}$) and not derived from a dynamic analysis of the fault itself. The inverter's maximum current capability of $1.5\\,\\mathrm{pu}$ simply confirms that the commanded injection of $1.2\\,\\mathrm{pu}$ is within the device's operational limits. The question asks for the commanded current, which is a given parameter, and its conversion to amperes depends only on the inverter's nameplate ratings.",
            "answer": "$$\\boxed{251.9}$$"
        },
        {
            "introduction": "Modern power grids are not always perfectly balanced, and asymmetrical conditions create negative-sequence voltages that can be detrimental to system components. Grid codes therefore place strict limits on the amount of negative-sequence current an inverter can inject. This practice explores how a controller's design, represented by its effective positive- and negative-sequence admittances ($Y_{1}$ and $Y_{2}$), dictates its ability to comply with current unbalance limits. By deriving the minimal required negative-sequence suppression factor, you will gain a deeper understanding of how dual-sequence control architectures are designed to actively manage power quality under unbalanced grid conditions .",
            "id": "3844430",
            "problem": "A three-phase grid-tied inverter connected at the Point of Common Coupling (PCC) operates under sinusoidal steady-state and employs a linear dual-sequence current control architecture. Under the principle of symmetrical components, an unbalanced three-phase quantity decomposes into positive-sequence and negative-sequence components that excite decoupled sequence networks in any linear, time-invariant system. The inverter’s closed-loop behavior with respect to small perturbations at the PCC can therefore be modeled for each sequence by an effective admittance mapping from the corresponding sequence voltage to the injected sequence current. Denote the positive-sequence voltage magnitude by $V_{1}$ and the negative-sequence voltage magnitude by $V_{2}$, with the associated injected current magnitudes $I_{1}$ and $I_{2}$, and define the closed-loop sequence admittances $Y_{1}$ and $Y_{2}$ via the relations $I_{1} = Y_{1} V_{1}$ and $I_{2} = Y_{2} V_{2}$. A representative grid code requires the ratio of negative-sequence to positive-sequence current to satisfy $I_{2}/I_{1}  \\delta$ for any admissible operating condition, where $\\delta$ is a prescribed limit.\n\nAssume the grid presents a fixed voltage unbalance at the PCC characterized by $V_{2}/V_{1} = \\epsilon$, with $\\epsilon = 0.03$, and that the compliance requirement is $\\delta = 0.02$. Using the decoupling of sequence networks and the definitions above, derive the minimal negative-sequence current suppression factor $S$, defined as $S \\equiv Y_{1}/Y_{2}$, such that the inverter is guaranteed to meet the requirement $I_{2}/I_{1}  \\delta$ whenever the grid unbalance equals $V_{2}/V_{1} = \\epsilon$. Express your final answer as a dimensionless multiplicative factor. No rounding is required.",
            "solution": "The problem is first validated to ensure it is scientifically grounded, well-posed, and objective.\n\n### Step 1: Extract Givens\n-   **System**: A three-phase grid-tied inverter operating in sinusoidal steady-state.\n-   **Control Model**: Decoupled sequence networks based on symmetrical components.\n-   **Positive-Sequence Relation**: The relationship between the positive-sequence injected current magnitude, $I_{1}$, and the positive-sequence voltage magnitude, $V_{1}$, is given by $I_{1} = Y_{1} V_{1}$, where $Y_{1}$ is the magnitude of the closed-loop positive-sequence admittance.\n-   **Negative-Sequence Relation**: The relationship between the negative-sequence injected current magnitude, $I_{2}$, and the negative-sequence voltage magnitude, $V_{2}$, is given by $I_{2} = Y_{2} V_{2}$, where $Y_{2}$ is the magnitude of the closed-loop negative-sequence admittance.\n-   **Grid Code Requirement**: The ratio of negative-sequence to positive-sequence current magnitude must satisfy $\\frac{I_{2}}{I_{1}}  \\delta$.\n-   **Grid Voltage Condition**: The grid exhibits a fixed voltage unbalance at the Point of Common Coupling (PCC) characterized by the ratio $\\frac{V_{2}}{V_{1}} = \\epsilon$.\n-   **Suppression Factor Definition**: The negative-sequence current suppression factor is defined as $S \\equiv \\frac{Y_{1}}{Y_{2}}$.\n-   **Numerical Values**: The prescribed limit for current unbalance is $\\delta = 0.02$. The grid voltage unbalance factor is $\\epsilon = 0.03$.\n-   **Objective**: To derive the minimal value of the suppression factor, $S$, that guarantees the inverter meets the grid code requirement under the specified grid voltage condition.\n\n### Step 2: Validate Using Extracted Givens\n-   **Scientific Grounding**: The problem is based on the theory of symmetrical components, a fundamental and standard method for analyzing unbalanced three-phase power systems. The concept of modeling an inverter's closed-loop behavior with sequence admittances is a well-established and correct practice in power electronics and power systems engineering. All concepts are scientifically sound.\n-   **Well-Posedness**: The problem provides clear definitions for all variables and constants. The relationships are linear and algebraically defined, leading to a unique solution for the specified boundary condition. The objective is clearly stated.\n-   **Objectivity**: The problem is stated in precise, technical language, free from any subjectivity or ambiguity.\n-   **Completeness and Consistency**: All necessary data ($\\epsilon$, $\\delta$) and definitions ($Y_1, Y_2, S$) are provided. The definitions are internally consistent and sufficient to solve for the unknown quantity.\n-   **Realism**: The numerical values for voltage unbalance ($\\epsilon = 3\\%$) and the current injection limit ($\\delta = 2\\%$) are realistic and representative of values found in international grid codes and standards for distributed energy resources.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid**. It is a well-posed, scientifically grounded problem in electrical engineering that tests the understanding of inverter control under unbalanced grid conditions. A rigorous solution can be formulated.\n\n### Solution Derivation\nThe objective is to determine the minimal value of the negative-sequence current suppression factor $S$ that ensures compliance with a grid code requirement under a specific grid voltage unbalance.\n\nThe fundamental relationships between the sequence component magnitudes of voltage and current are given as:\n$$I_{1} = Y_{1} V_{1}$$\n$$I_{2} = Y_{2} V_{2}$$\nHere, $Y_{1}$ and $Y_{2}$ are the magnitudes of the effective admittances for the positive and negative sequences, respectively. These are assumed to be positive real numbers.\n\nThe grid code requirement imposes an upper limit on the ratio of the negative-sequence current magnitude to the positive-sequence current magnitude:\n$$\\frac{I_{2}}{I_{1}}  \\delta$$\n\nTo analyze this requirement, we first express the ratio $\\frac{I_{2}}{I_{1}}$ using the given admittance relationships:\n$$\\frac{I_{2}}{I_{1}} = \\frac{Y_{2} V_{2}}{Y_{1} V_{1}}$$\n\nThis expression can be rearranged to group the ratios of admittances and voltages:\n$$\\frac{I_{2}}{I_{1}} = \\left(\\frac{Y_{2}}{Y_{1}}\\right) \\left(\\frac{V_{2}}{V_{1}}\\right)$$\n\nThe problem defines the negative-sequence current suppression factor as $S \\equiv \\frac{Y_{1}}{Y_{2}}$. Therefore, the ratio of the sequence admittances can be expressed as $\\frac{Y_{2}}{Y_{1}} = \\frac{1}{S}$. The grid's voltage unbalance is given as $\\frac{V_{2}}{V_{1}} = \\epsilon$. Substituting these definitions into the equation for the current ratio yields:\n$$\\frac{I_{2}}{I_{1}} = \\frac{1}{S} \\cdot \\epsilon = \\frac{\\epsilon}{S}$$\n\nNow, we enforce the grid code requirement on this expression:\n$$\\frac{\\epsilon}{S}  \\delta$$\n\nWe need to find the minimal value of $S$ that guarantees this inequality is satisfied. Since $S$, $\\epsilon$, and $\\delta$ are all positive quantities, we can rearrange the inequality without changing its direction:\n$$\\epsilon  S \\cdot \\delta$$\n$$S  \\frac{\\epsilon}{\\delta}$$\n\nThis inequality states that for the inverter to be compliant, the suppression factor $S$ must be strictly greater than the ratio of the voltage unbalance factor $\\epsilon$ to the current unbalance limit $\\delta$. The set of all compliant values for $S$ is the open interval $\\left(\\frac{\\epsilon}{\\delta}, \\infty\\right)$.\n\nThe problem asks for the \"minimal\" value of $S$. In the context of such boundary value problems in science and engineering, \"minimal\" refers to the infimum, or the greatest lower bound, of the set of allowed values. This boundary value represents the threshold for compliance. Therefore, the minimal required suppression factor, which we can denote $S_{min}$, is:\n$$S_{min} = \\frac{\\epsilon}{\\delta}$$\n\nAny value of $S  S_{min}$ will guarantee compliance. The value $S_{min}$ itself represents the critical boundary.\n\nFinally, we substitute the provided numerical values, $\\epsilon = 0.03$ and $\\delta = 0.02$:\n$$S_{min} = \\frac{0.03}{0.02} = \\frac{3}{2} = 1.5$$\n\nThus, the inverter's positive-sequence admittance must be at least $1.5$ times its negative-sequence admittance to ensure that the negative-sequence current injection remains below the $2\\%$ limit when the grid voltage unbalance is $3\\%$.",
            "answer": "$$\\boxed{1.5}$$"
        },
        {
            "introduction": "Inverters provide dynamic grid support using functions like volt-var control, where reactive power output is modulated in response to grid voltage variations. The performance of such functions depends on the stability of the underlying control loop, which can be compromised by real-world imperfections like communication latency. This practice delves into control theory, specifically using phase margin as a metric for stability, to quantify the impact of a pure time delay on system robustness. Determining the maximum acceptable command latency demonstrates the critical link between control system design and the physical limitations of hardware and communication networks, a key challenge in deploying high-performance grid-interactive inverters .",
            "id": "3844400",
            "problem": "A three-phase grid-tied inverter implements a volt–reactive power (volt–var) function to satisfy dynamic reactive support requirements mandated by modern grid codes, such as maintaining a minimum stability reserve in the outer reactive power control loop under supervisory curve updates. Consider the outer volt–var loop designed so that, in the absence of any command path delay, the open-loop phase at the loop crossover frequency equals $-90^\\circ$, corresponding to a nominal phase margin of $90^\\circ$. The supervisory controller transmits volt–var curve updates over a communications link that introduces a command latency, which can be modeled in the loop as a pure time delay. The control bandwidth (equal to the loop crossover frequency) is $1\\,\\text{Hz}$. Using the fundamental definition of phase margin and the frequency-domain effect of a pure time delay on phase, determine the maximum acceptable command latency that ensures the achieved phase margin is at least $45^\\circ$ after including the delay. Express your final answer in seconds, and round your answer to three significant figures. All angles are specified in degrees.",
            "solution": "The problem is deemed valid as it is scientifically grounded in control theory applied to power electronics, is well-posed with sufficient and consistent information, and is expressed in objective, formal language. There are no identifiable flaws.\n\nTo solve the problem, we must first understand the definition of phase margin and the effect of a time delay on the phase of a system in the frequency domain.\n\nThe phase margin, $PM$, of a system is defined at its loop crossover frequency, $f_c$. The crossover frequency is the frequency at which the magnitude of the open-loop gain is unity ($0\\,\\text{dB}$). The phase margin is the amount of additional phase lag required at the crossover frequency to bring the system to the verge of instability. Mathematically, it is given by:\n$$PM = 180^\\circ + \\phi_{OL}(f_c)$$\nwhere $\\phi_{OL}(f_c)$ is the phase of the open-loop transfer function evaluated at the crossover frequency $f_c$. All angles are in degrees.\n\nThe problem states that for the nominal system (without command latency), the open-loop phase at the crossover frequency is $\\phi_{OL, nominal}(f_c) = -90^\\circ$. The crossover frequency, which is also the control bandwidth, is given as $f_c = 1\\,\\text{Hz}$.\nThe nominal phase margin, $PM_{nominal}$, is therefore:\n$$PM_{nominal} = 180^\\circ + (-90^\\circ) = 90^\\circ$$\nThis confirms the value given in the problem statement, verifying the consistency of the provided information.\n\nA command latency is introduced, which is modeled as a pure time delay of duration $T_d$. In the Laplace domain, a time delay is represented by the transfer function $G_d(s) = \\exp(-sT_d)$. To find its effect on the phase in the frequency domain, we substitute $s = j\\omega = j2\\pi f$, where $j$ is the imaginary unit, $\\omega$ is the angular frequency in radians per second, and $f$ is the frequency in Hertz.\nThe frequency response of the delay is $G_d(j\\omega) = \\exp(-j\\omega T_d) = \\exp(-j2\\pi f T_d)$.\nThis is a complex number with a magnitude of $1$ and a phase angle of $\\Delta\\phi(f) = -2\\pi f T_d$ radians. To work with degrees, we convert the phase shift:\n$$\\Delta\\phi(f) [^\\circ] = (-2\\pi f T_d \\,\\text{rad}) \\times \\frac{180^\\circ}{\\pi \\,\\text{rad}} = -360^\\circ f T_d$$\nThis additional phase lag, $\\Delta\\phi$, is added to the nominal phase of the open-loop system. The new total open-loop phase, $\\phi_{OL, total}$, at the crossover frequency $f_c$ is:\n$$\\phi_{OL, total}(f_c) = \\phi_{OL, nominal}(f_c) + \\Delta\\phi(f_c)$$\n$$\\phi_{OL, total}(f_c) = -90^\\circ - 360^\\circ f_c T_d$$\n\nThe achieved phase margin, $PM_{achieved}$, is calculated using this new total phase:\n$$PM_{achieved} = 180^\\circ + \\phi_{OL, total}(f_c)$$\n$$PM_{achieved} = 180^\\circ + (-90^\\circ - 360^\\circ f_c T_d)$$\n$$PM_{achieved} = 90^\\circ - 360^\\circ f_c T_d$$\nThis equation shows that the time delay reduces the phase margin from its nominal value of $90^\\circ$.\n\nThe problem specifies that the achieved phase margin must be at least $45^\\circ$, i.e., $PM_{achieved} \\ge 45^\\circ$. To find the maximum acceptable command latency, which we denote as $T_{d, max}$, we set the achieved phase margin to its minimum allowed value:\n$$45^\\circ = 90^\\circ - 360^\\circ f_c T_{d, max}$$\nNow, we solve for $T_{d, max}$:\n$$360^\\circ f_c T_{d, max} = 90^\\circ - 45^\\circ$$\n$$360^\\circ f_c T_{d, max} = 45^\\circ$$\n$$T_{d, max} = \\frac{45^\\circ}{360^\\circ f_c}$$\nWe are given the crossover frequency $f_c = 1\\,\\text{Hz}$. Substituting this value into the equation:\n$$T_{d, max} = \\frac{45}{360 \\times 1} \\,\\text{s}$$\n$$T_{d, max} = \\frac{1}{8} \\,\\text{s}$$\nConverting this fraction to a decimal gives:\n$$T_{d, max} = 0.125 \\,\\text{s}$$\nThe problem asks for the answer to be rounded to three significant figures. The value $0.125$ already has exactly three significant figures ($1$, $2$, and $5$). Thus, no further rounding is necessary.\nThe maximum acceptable command latency is $0.125$ seconds.",
            "answer": "$$\\boxed{0.125}$$"
        }
    ]
}