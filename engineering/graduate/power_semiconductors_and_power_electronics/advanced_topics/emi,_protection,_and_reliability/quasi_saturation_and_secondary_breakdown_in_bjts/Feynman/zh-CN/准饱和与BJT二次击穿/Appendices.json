{
    "hands_on_practices": [
        {
            "introduction": "在分析准饱和的复杂效应之前，首要任务是准确判断 BJT 的工作状态。本练习将演示如何利用简单的端电压测量值（$V_{\\text{BE}}$ 和 $V_{\\text{BC}}$），来确认器件是否处于准饱和区，该区域的核心特征是基极-集电极结的正向偏置。此练习旨在建立理论定义与实际测量之间的直接联系 ()。",
            "id": "3872014",
            "problem": "一个用于硬开关逆变器桥臂的高压硅$n$-$p$-$n$双极结型晶体管（BJT）在大集电极电流$I_{\\text{C}}$下进行特性分析，此时可能发生准饱和现象。在准饱和区，基极-集电极结变为正向偏置，导致集电极漂移区的电导率调制、存储电荷增加，以及对可能引发二次击穿的局部发热的敏感性增强。\n\n在结温$T_{\\text{J}} = 340\\ \\text{K}$时，于恒定集电极电流$I_{\\text{C}}$和固定基极驱动下，测量得到以下稳态导通时的端点量：\n- 基极-发射极正向偏压 $V_{\\text{BE}} = 0.88\\ \\text{V}$。\n- 基极-集电极正向偏压 $V_{\\text{BC}} = 0.12\\ \\text{V}$。\n\n从基本电路关系和$p$-$n$结的理想二极管注入定律出发，利用这些测量值来：\n- 判断基极-集电极结是否为正向偏置，并通过理想二极管关系式，用$V_{\\text{BC}}$、热电压$V_{\\text{T}} = k_{B}T/q$和标准常数来表示相关的载流子注入水平。\n- 通过确定一个无量纲的准饱和贡献度量来推断准饱和的严重程度，该度量定义为在给定条件下基极-集电极正向偏压与基极-发射极正向偏压之比。\n\n报告此无量纲准饱和贡献度量的值。将您的答案四舍五入至四位有效数字，并以不带单位的纯小数形式表示。",
            "solution": "在尝试求解之前，对问题陈述的有效性进行评估。\n\n**步骤1：提取已知条件**\n- 器件：高压硅$n$-$p$-$n$双极结型晶体管（BJT）。\n- 工作状态：硬开关逆变器、大集电极电流$I_{\\text{C}}$、准饱和。\n- 结温：$T_{\\text{J}} = 340\\ \\text{K}$。\n- 测得的端电压（稳态，导通状态）：\n  - 基极-发射极正向偏压：$V_{\\text{BE}} = 0.88\\ \\text{V}$。\n  - 基极-集电极正向偏压：$V_{\\text{BC}} = 0.12\\ \\text{V}$。\n- 热电压的定义：$V_{\\text{T}} = k_{B}T/q$，其中$k_B$是玻尔兹曼常数，$T$是绝对温度，$q$是元电荷。\n- 要求任务：\n  1.  判断基极-集电极结是否为正向偏置，并使用理想二极管关系式表示载流子注入水平。\n  2.  定义并计算一个无量纲的准饱和贡献度量，即基极-集电极正向偏压与基极-发射极正向偏压之比。\n- 最终答案要求：报告该度量的值，四舍五入至四位有效数字。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题具有科学依据，提法明确且客观。\n- **科学依据**：对功率BJT中准饱和的描述在物理上是准确的。大集电极电流会在集电极漂移区引起显著的压降。对于固定的基极电流和集电极-发射极电压，该压降可导致内部基极-集电极结变为正向偏置（$V_{\\text{BC}}  0$）。这是进入饱和区或准饱和区的决定性条件。给定的电压值$V_{\\text{BE}} = 0.88\\ \\text{V}$和$V_{\\text{BC}} = 0.12\\ \\text{V}$，对于一个在高电流密度和$T_{\\text{J}} = 340\\ \\text{K}$（约$67^\\circ\\text{C}$）的高温下工作的硅器件来说是物理上合理的。\n- **提法明确**：问题提供了所有必要的数据（$V_{\\text{BE}}$和$V_{\\text{BC}}$）以及待计算度量的清晰、无歧义的定义。存在唯一解。\n- **无缺陷**：问题不违反任何科学原理，不基于错误的前提，也不包含矛盾或歧义。这是电力电子领域内的一个标准分析。\n\n**步骤3：结论与行动**\n问题被认为是有效的。将进行求解。\n\n**求解推导**\n问题要求两项内容：对基极-集电极结偏置的分析和指定度量的计算。\n\n首先，我们分析基极-集电极结的状态。当施加在$p$-$n$结上的电压为正时，该结被认为是正向偏置的，这会导致跨结的少数载流子注入显著增加。对于$n$-$p$-$n$ BJT的基极-集电极结，相关电压是$V_{\\text{BC}}$。问题陈述测量得出$V_{\\text{BC}} = 0.12\\ \\text{V}$。由于$V_{\\text{BC}}  0$，基极-集电极结确实处于正向偏置状态。此条件确认了晶体管工作在饱和区或准饱和区。\n\n问题要求使用理想二极管关系式来表示相关的载流子注入水平。根据结定律，注入到正向偏置结的少数载流子浓度随正向偏压呈指数增长。对于一个$n$-$p$-$n$ BJT，正向偏压$V_{\\text{BC}}$导致空穴从$p$型基区注入到$n$型集电区，电子从$n$型集电区注入到$p$型基区。在空间电荷区边缘的过剩少数载流子浓度与因子$\\exp(V/V_{\\text{T}})$成正比，其中$V$是正向偏压，$V_{\\text{T}}$是热电压。具体来说，在基极-集电极空间电荷区集电极侧边界的过剩空穴浓度，记为$p'_{n}$，由下式给出：\n$$p'_{n} = p_{n0} \\left( \\exp \\left( \\frac{V_{\\text{BC}}}{V_{\\text{T}}} \\right) - 1 \\right)$$\n其中$p_{n0}$是$n$型集电区中的平衡空穴浓度。这种向集电极漂移区的电荷注入是电导率调制的机理，它降低了该区域的导通电阻，但也增加了存储电荷，从而导致开关速度变慢和存储时间增加。\n\n其次，我们计算无量纲的准饱和贡献度量。问题将此度量（我们记为$M_{QS}$）定义为基极-集电极正向偏压与基极-发射极正向偏压之比。\n$$M_{QS} = \\frac{V_{\\text{BC}}}{V_{\\text{BE}}}$$\n该度量提供了一个简单的衡量标准，用以判断BJT进入饱和或准饱和的深度。$M_{QS}  0$的值表示在此区域工作，值越大对应饱和程度越高。\n\n使用给定的稳态测量值：\n$V_{\\text{BE}} = 0.88\\ \\text{V}$\n$V_{\\text{BC}} = 0.12\\ \\text{V}$\n\n现在我们可以将这些值代入度量的定义中：\n$$M_{QS} = \\frac{0.12\\ \\text{V}}{0.88\\ \\text{V}}$$\n伏特单位相互抵消，得到一个符合要求的无量纲量。\n$$M_{QS} = \\frac{0.12}{0.88} = \\frac{12}{88} = \\frac{3}{22}$$\n为了以四舍五入到四位有效数字的小数形式提供最终答案，我们进行除法运算：\n$$M_{QS} = \\frac{3}{22} \\approx 0.13636363...$$\n将此结果四舍五入到四位有效数字，得到：\n$$M_{QS} \\approx 0.1364$$\n该值表示在指定工作条件下计算出的准饱和贡献度量。",
            "answer": "$$\\boxed{0.1364}$$"
        },
        {
            "introduction": "在掌握了如何识别工作状态后，本练习将探讨一个关键的实际挑战：自热效应。功率耗散会导致结温升高，从而改变器件的电气特性。本练习将引导您计算结温升高，并将测得的饱和压降 $V_{\\text{CE(sat)}}$ 校正到参考温度下的数值，这对于精确的器件表征和数据表解读至关重要 ()。",
            "id": "3872005",
            "problem": "对一个大电流NPN双极结型晶体管（BJT）进行了实验室特性表征，该晶体管在强制电流增益下、重注入条件下的准饱和区工作。该器件安装在散热器上，置于静止空气中。环境温度为$25^{\\circ}\\mathrm{C}$，在测试条件下，当集电极电流$I_{\\mathrm{C}}=25\\,\\mathrm{A}$时，测得的稳态饱和集电极-发射极电压为$V_{\\mathrm{CE(sat),meas}}=0.345\\,\\mathrm{V}$。对于此安装方式，结到环境的热阻为$R_{\\theta\\mathrm{JA}}=0.80\\,\\mathrm{K/W}$。在该器件中，准饱和状态主要由轻掺杂集电极漂移区的电阻压降以及与饱和状态下基极-发射极结和基极-集电极结同时正向偏置相关的正向偏置拐点电压共同决定。在$25^{\\circ}\\mathrm{C}$时，漂移区电阻为$R_{\\mathrm{C0}}=10\\,\\mathrm{m}\\Omega$，并且漂移区中的载流子迁移率随绝对温度的变化关系为$\\mu \\propto T^{-m}$，其中$m=1.6$。在$25^{\\circ}\\mathrm{C}$附近，拐点电压分量的有效温度系数为$\\chi=-0.7\\,\\mathrm{mV/K}$（为负值，主要由固定电流下正向结电压随温度升高而降低的特性决定）。假设为稳态加热和空间均匀的电流分布，因此器件保持在正向安全工作区（SOA）内，远离二次击穿。\n\n从热传导和半导体输运的基本原理出发，首先确定由测量的工作点引起的结温升高。然后，利用$25^{\\circ}\\mathrm{C}$附近的温度依赖性的一阶线性化，将$V_{\\mathrm{CE(sat),meas}}$校正回结温等于环境温度时应观测到的值。以伏特为单位表示校正后的饱和电压，并将答案四舍五入到四位有效数字。",
            "solution": "首先将对问题的科学性、一致性和完整性进行验证。\n\n**步骤1：提取已知条件**\n-   环境温度：$T_A = 25^{\\circ}\\mathrm{C}$\n-   测量的饱和集电极-发射极电压：$V_{\\mathrm{CE(sat),meas}} = 0.345\\,\\mathrm{V}$\n-   集电极电流：$I_C = 25\\,\\mathrm{A}$\n-   结到环境的热阻：$R_{\\theta\\mathrm{JA}} = 0.80\\,\\mathrm{K/W}$\n-   $25^{\\circ}\\mathrm{C}$时的漂移区电阻：$R_{\\mathrm{C0}} = 10\\,\\mathrm{m}\\Omega$\n-   迁移率温度依赖性指数：$m=1.6$，其中$\\mu \\propto T^{-m}$\n-   拐点电压分量的有效温度系数：$\\chi = -0.7\\,\\mathrm{mV/K}$\n\n**步骤2：使用提取的已知条件进行验证**\n根据验证标准对问题陈述进行审查。\n-   **科学基础**：该问题在功率半导体器件物理学，特别是双极结型晶体管（BJT）方面有很好的基础。它探讨了自热对器件特性的实际影响，这是电力电子设计中的一个核心问题。将$V_{\\mathrm{CE(sat)}}$建模为电阻压降和结电压之和是一种标准且有效的一阶近似。载流子迁移率的温度依赖性（$\\mu \\propto T^{-m}$）是半导体物理学中一个公认的现象，而$m=1.6$这个值对于硅来说在物理上是现实的。正向偏置结电压的负温度系数也是一个基本属性。\n-   **适定性**：问题定义清晰，并提供了得出唯一数值解所需的所有数据。目标是明确的：计算结温升高，并用它将测量的$V_{\\mathrm{CE(sat)}}$校正到参考温度下的值。使用一阶线性化的指令提供了一条清晰的数学路径。器件在远离二次击穿的区域工作的假设确保了稳定性，并使问题易于处理。\n-   **客观性**：语言精确、量化，没有主观或含糊的术语。\n\n**步骤3：结论与行动**\n该问题被认为是**有效的**，因为它在科学上是合理的，适定的，客观的，并且内部一致。它提出了一个特定领域内的标准工程分析任务。现在将推导完整的解决方案。\n\n**解题推导**\n目标是将受自热影响的测量饱和电压$V_{\\mathrm{CE(sat),meas}}$校正回当结温$T_J$等于环境温度$T_A$时的数值。\n\n首先，我们确定晶体管在测试条件下的功耗。在饱和状态下，该功耗$P_D$主要由集电极电流和集电极-发射极电压的乘积给出：\n$$P_D = I_C \\times V_{\\mathrm{CE(sat),meas}}$$\n代入给定值：\n$$P_D = 25\\,\\mathrm{A} \\times 0.345\\,\\mathrm{V} = 8.625\\,\\mathrm{W}$$\n\n接下来，我们使用结到环境的热阻$R_{\\theta\\mathrm{JA}}$计算稳态下结温$\\Delta T_J$相对于环境温度的升高量。\n$$\\Delta T_J = T_J - T_A = P_D \\times R_{\\theta\\mathrm{JA}}$$\n代入计算出的功耗和给定的热阻：\n$$\\Delta T_J = 8.625\\,\\mathrm{W} \\times 0.80\\,\\mathrm{K/W} = 6.9\\,\\mathrm{K}$$\n这是由于自热引起的结温升高。\n\n饱和电压$V_{\\mathrm{CE(sat)}}$被建模为集电极漂移区的电阻压降$V_{R_C}$和有效拐点电压$V_{\\mathrm{knee}}$之和：\n$$V_{\\mathrm{CE(sat)}}(T) = V_{R_C}(T) + V_{\\mathrm{knee}}(T)$$\n此处，$T$是绝对结温。我们需要找到每个分量的温度依赖性，以便在$T_A$附近对函数进行线性化。\n\n以开尔文为单位的环境温度是$T_A = 25 + 273.15 = 298.15\\,\\mathrm{K}$。\n\n电阻压降为$V_{R_C}(T) = I_C R_C(T)$。电阻$R_C(T)$具有温度依赖性，因为载流子迁移率$\\mu$具有温度依赖性。电阻与迁移率成反比，$R_C \\propto \\mu^{-1}$。给定$\\mu \\propto T^{-m}$，可得$R_C \\propto (T^{-m})^{-1} = T^m$。我们可以将其写成比例形式：\n$$R_C(T) = R_C(T_A) \\left(\\frac{T}{T_A}\\right)^m$$\n问题指出$R_{C0} = 10\\,\\mathrm{m}\\Omega$是$25^{\\circ}\\mathrm{C}$时的电阻，因此$R_C(T_A) = R_{C0}$。因此，电阻压降为：\n$$V_{R_C}(T) = I_C R_{C0} \\left(\\frac{T}{T_A}\\right)^m$$\n\n拐点电压分量$V_{\\mathrm{knee}}(T)$的温度系数已知为$\\chi = dV_{\\mathrm{knee}}/dT = -0.7\\,\\mathrm{mV/K} = -0.0007\\,\\mathrm{V/K}$。这已经是一个线性系数。\n\n问题要求在$T_A$附近对总饱和电压$V_{\\mathrm{CE(sat)}}(T)$进行一阶线性化。我们通过对$V_{\\mathrm{CE(sat)}}(T)$求关于$T$的导数，并在$T=T_A$处求值，来找到总温度系数$\\alpha$。\n$$\\alpha = \\left. \\frac{d V_{\\mathrm{CE(sat)}}}{dT} \\right|_{T=T_A} = \\left. \\frac{d}{dT} \\left[ I_C R_{C0} \\left(\\frac{T}{T_A}\\right)^m + V_{\\mathrm{knee}}(T) \\right] \\right|_{T=T_A}$$\n$$\\alpha = \\left[ I_C R_{C0} \\frac{m}{T_A} \\left(\\frac{T}{T_A}\\right)^{m-1} \\right]_{T=T_A} + \\left. \\frac{d V_{\\mathrm{knee}}}{dT} \\right|_{T=T_A}$$\n$$\\alpha = I_C R_{C0} \\frac{m}{T_A} + \\chi$$\n现在，我们计算$\\alpha$的数值。\n$$\\alpha = \\frac{(25\\,\\mathrm{A})(0.010\\,\\Omega)(1.6)}{298.15\\,\\mathrm{K}} + (-0.0007\\,\\mathrm{V/K})$$\n$$\\alpha \\approx 0.00134154\\,\\mathrm{V/K} - 0.0007\\,\\mathrm{V/K} = 0.00064154\\,\\mathrm{V/K}$$\n\n使用围绕$T_A$的一阶泰勒展开，我们可以将工作结温$T_J$下的电压与参考温度$T_A$下的电压联系起来：\n$$V_{\\mathrm{CE(sat)}}(T_J) \\approx V_{\\mathrm{CE(sat)}}(T_A) + \\alpha (T_J - T_A)$$\n测量的电压是$V_{\\mathrm{CE(sat),meas}} = V_{\\mathrm{CE(sat)}}(T_J)$。我们寻求的校正电压是$V_{\\mathrm{CE(sat),corr}} = V_{\\mathrm{CE(sat)}}(T_A)$。温差是$\\Delta T_J = T_J - T_A$。\n$$V_{\\mathrm{CE(sat),meas}} \\approx V_{\\mathrm{CE(sat),corr}} + \\alpha \\Delta T_J$$\n求解校正后的饱和电压：\n$$V_{\\mathrm{CE(sat),corr}} = V_{\\mathrm{CE(sat),meas}} - \\alpha \\Delta T_J$$\n代入数值：\n$$V_{\\mathrm{CE(sat),corr}} \\approx 0.345\\,\\mathrm{V} - (0.00064154\\,\\mathrm{V/K}) \\times (6.9\\,\\mathrm{K})$$\n$$V_{\\mathrm{CE(sat),corr}} \\approx 0.345\\,\\mathrm{V} - 0.004426626\\,\\mathrm{V}$$\n$$V_{\\mathrm{CE(sat),corr}} \\approx 0.340573374\\,\\mathrm{V}$$\n问题要求将答案四舍五入到四位有效数字。\n$$V_{\\mathrm{CE(sat),corr}} \\approx 0.3406\\,\\mathrm{V}$$",
            "answer": "$$\\boxed{0.3406}$$"
        },
        {
            "introduction": "在探讨了稳态识别和校正方法之后，我们现在转向准饱和的动态行为。本练习要求您通过开发一个时域仿真模型来模拟 BJT 的开启瞬态过程。通过实践电荷控制模型，您可以直观地观察到器件是如何进入和退出准饱和区的，从而深刻理解内部器件物理与外部电路动态之间的相互作用 ()。",
            "id": "3871950",
            "problem": "考虑一个采用阻性负载开关配置的双极结型晶体管 (BJT)，由阶跃基极电流驱动，并由恒定的集电极电压源供电。目标是仿真其导通暂态，并确定集电极-发射极电压（表示为 $V_{\\text{CE}}(t)$）受与准饱和相关的内部电导率限制行为约束的时间区间。使用基于电荷控制原理和 Kirchhoff 定律的简化电荷分配模型来构建一个自洽的动态模型。必须使用以下物理假设和定义，并且所有计算都必须遵守它们。\n\n基本基极和模型假设：\n- 应用于集电极回路的 Kirchhoff 电压定律 (KVL) 得出 $V_{\\text{CE}}(t) = V_{\\text{CC}} - I_{\\text{C}}(t) R_{\\text{L}}$。\n- BJT 正向导通的电荷控制模型将电荷限制的集电极电流定义为 $I_{\\text{C,charge}}(t) = Q_{\\text{b}}(t)/\\tau_{\\text{F}}$，其中 $Q_{\\text{b}}(t)$ 是基区中存储的少数载流子电荷，$\\tau_{\\text{F}}$ 是正向渡越时间。\n- 与集电极漂移区相关的简化内部最小电压降为 $V_{\\text{min}}(t) = I_{\\text{C,charge}}(t) R_{\\text{d}}(Q_{\\text{c}}(t)) + V_{\\text{knee}}$，其中 $Q_{\\text{c}}(t)$ 是集电极漂移区中存储的电荷，$R_{\\text{d}}(Q_{\\text{c}})$ 是电导调制的漂移电阻，$V_{\\text{knee}}$ 是一个小的膝点电压，用于捕捉深度导通时基极-集电极结上的残余电压。\n- 电导调制的漂移电阻模型为 $R_{\\text{d}}(Q_{\\text{c}}) = \\dfrac{R_{\\text{d0}}}{1 + Q_{\\text{c}}/Q_0}$，其中 $R_{\\text{d0}}$ 是未调制的漂移电阻，$Q_0$ 是一个用于缩放调制效应的特征电荷。\n- 外部电路期望的电压为 $V_{\\text{CE,circ}}(t) = V_{\\text{CC}} - I_{\\text{C,charge}}(t) R_{\\text{L}}$。如果 $V_{\\text{CE,circ}}(t) \\geq V_{\\text{min}}(t)$，则器件不受导通限制；否则，准饱和被激活，实际的 $V_{\\text{CE}}(t)$ 被钳位至 $V_{\\text{min}}(t)$。\n\n电荷分配动力学：\n- 基极驱动是一个有限上升时间的阶跃 $I_{\\text{B}}(t) = I_{\\text{B,max}} \\left(1 - e^{-t/t_r}\\right)$。\n- 当准饱和未激活时，增量注入电荷被导向基区：$dQ_{\\text{b}}/dt = I_{\\text{B}}(t) - Q_{\\text{b}}(t)/\\tau_{\\text{b}}$ 且 $dQ_{\\text{c}}/dt = -Q_{\\text{c}}(t)/\\tau_{\\text{c}}$。\n- 当准饱和被激活时，注入电荷的一部分（比例为 $\\eta$）被分配到集电极漂移区：$dQ_{\\text{b}}/dt = \\left(1 - \\eta\\right) I_{\\text{B}}(t) - Q_{\\text{b}}(t)/\\tau_{\\text{b}}$ 且 $dQ_{\\text{c}}/dt = \\eta I_{\\text{B}}(t) - Q_{\\text{c}}(t)/\\tau_{\\text{c}}$。\n- 初始条件为 $Q_{\\text{b}}(0) = 0$ 和 $Q_{\\text{c}}(0) = 0$。\n\n仿真协议：\n- 在有限时间范围 $[0, T_{\\text{end}}]$ 内，使用恒定步长 $\\Delta t$ 进行显式时间步进。\n- 在每个时间步：\n  1. 计算 $I_{\\text{B}}(t)$。\n  2. 计算 $I_{\\text{C,charge}}(t) = Q_{\\text{b}}(t)/\\tau_{\\text{F}}$。\n  3. 计算 $V_{\\text{CE,circ}}(t) = V_{\\text{CC}} - I_{\\text{C,charge}}(t) R_{\\text{L}}$。\n  4. 计算 $R_{\\text{d}}(Q_{\\text{c}}(t)) = \\dfrac{R_{\\text{d0}}}{1 + Q_{\\text{c}}(t)/Q_0}$ 和 $V_{\\text{min}}(t) = I_{\\text{C,charge}}(t) R_{\\text{d}}(Q_{\\text{c}}(t)) + V_{\\text{knee}}$。\n  5. 确定准饱和标志 $u_{\\text{qs}}(t)$：如果 $V_{\\text{CE,circ}}(t)  V_{\\text{min}}(t)$，则设置 $u_{\\text{qs}}(t) = 1$，否则 $u_{\\text{qs}}(t) = 0$。\n  6. 根据相应的分配动力学更新 $Q_{\\text{b}}(t)$ 和 $Q_{\\text{c}}(t)$。\n- 检测并记录在 $[0, T_{\\text{end}}]$ 上 $u_{\\text{qs}}(t) = 1$ 的最长连续区间。此区间即为由准饱和主导的区间。\n\n任务：\n- 实现上述模型，并为提供的测试套件中的每个测试用例计算最长的连续准饱和区间 $\\left[t_{\\text{start}}, t_{\\text{end}}\\right]$。\n- 所有时间以秒为单位表示，并四舍五入至六位有效数字。\n- 如果某个测试用例中没有发生准饱和，则为该用例输出一个空列表。\n\n测试套件：\n- 用例 1 (典型准饱和)：\n  - $V_{\\text{CC}} = 50\\,\\text{V}$, $R_{\\text{L}} = 2\\,\\Omega$, $I_{\\text{B,max}} = 5\\,\\text{A}$, $t_r = 0.1\\times 10^{-6}\\,\\text{s}$, $\\tau_{\\text{b}} = 0.8\\times 10^{-6}\\,\\text{s}$, $\\tau_{\\text{F}} = 0.2\\times 10^{-6}\\,\\text{s}$, $\\tau_{\\text{c}} = 1.5\\times 10^{-6}\\,\\text{s}$, $R_{\\text{d0}} = 3\\,\\Omega$, $Q_0 = 0.5\\times 10^{-6}\\,\\text{C}$, $V_{\\text{knee}} = 0.2\\,\\text{V}$, $\\eta = 0.6$, $T_{\\text{end}} = 4\\times 10^{-6}\\,\\text{s}$, $\\Delta t = 1\\times 10^{-9}\\,\\text{s}$。\n- 用例 2 (预期无准饱和)：\n  - $V_{\\text{CC}} = 50\\,\\text{V}$, $R_{\\text{L}} = 20\\,\\Omega$, $I_{\\text{B,max}} = 1\\,\\text{A}$, $t_r = 0.2\\times 10^{-6}\\,\\text{s}$, $\\tau_{\\text{b}} = 0.8\\times 10^{-6}\\,\\text{s}$, $\\tau_{\\text{F}} = 0.6\\times 10^{-6}\\,\\text{s}$, $\\tau_{\\text{c}} = 1.5\\times 10^{-6}\\,\\text{s}$, $R_{\\text{d0}} = 0.5\\,\\Omega$, $Q_0 = 1\\times 10^{-6}\\,\\text{C}$, $V_{\\text{knee}} = 0.2\\,\\text{V}$, $\\eta = 0.6$, $T_{\\text{end}} = 4\\times 10^{-6}\\,\\text{s}$, $\\Delta t = 1\\times 10^{-9}\\,\\text{s}$。\n- 用例 3 (强准饱和)：\n  - $V_{\\text{CC}} = 20\\,\\text{V}$, $R_{\\text{L}} = 0.6\\,\\Omega$, $I_{\\text{B,max}} = 4\\,\\text{A}$, $t_r = 0.05\\times 10^{-6}\\,\\text{s}$, $\\tau_{\\text{b}} = 1.0\\times 10^{-6}\\,\\text{s}$, $\\tau_{\\text{F}} = 0.2\\times 10^{-6}\\,\\text{s}$, $\\tau_{\\text{c}} = 1.0\\times 10^{-6}\\,\\text{s}$, $R_{\\text{d0}} = 6\\,\\Omega$, $Q_0 = 0.2\\times 10^{-6}\\,\\text{C}$, $V_{\\text{knee}} = 0.25\\,\\text{V}$, $\\eta = 0.7$, $T_{\\text{end}} = 6\\times 10^{-6}\\,\\text{s}$, $\\Delta t = 1\\times 10^{-9}\\,\\text{s}$。\n- 用例 4 (边界准饱和)：\n  - $V_{\\text{CC}} = 40\\,\\text{V}$, $R_{\\text{L}} = 3.5\\,\\Omega$, $I_{\\text{B,max}} = 2\\,\\text{A}$, $t_r = 0.15\\times 10^{-6}\\,\\text{s}$, $\\tau_{\\text{b}} = 0.6\\times 10^{-6}\\,\\text{s}$, $\\tau_{\\text{F}} = 0.25\\times 10^{-6}\\,\\text{s}$, $\\tau_{\\text{c}} = 1.2\\times 10^{-6}\\,\\text{s}$, $R_{\\text{d0}} = 4.5\\,\\Omega$, $Q_0 = 0.4\\times 10^{-6}\\,\\text{C}$, $V_{\\text{knee}} = 0.2\\,\\text{V}$, $\\eta = 0.5$, $T_{\\text{end}} = 5\\times 10^{-6}\\,\\text{s}$, $\\Delta t = 1\\times 10^{-9}\\,\\text{s}$。\n\n输出规范：\n- 对于每个测试用例，计算 $u_{\\text{qs}}(t) = 1$ 的最长连续区间 $\\left[t_{\\text{start}}, t_{\\text{end}}\\right]$。\n- 将 $t_{\\text{start}}$ 和 $t_{\\text{end}}$ 以秒为单位表示，并四舍五入至六位有效数字。\n- 如果某个用例中没有发生准饱和，则为该用例输出一个空列表。\n- 您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表，每个元素对应一个测试用例，并且是一个空列表或一个双元素列表 $\\left[t_{\\text{start}}, t_{\\text{end}}\\right]$（例如，$\\left[[0.000001,0.000004],[],[0.0000005,0.0000032],[0.0000011,0.0000029]\\right]$）。\n\n所有物理量必须以其指定单位处理。时间必须以秒表示。不涉及角度。不得使用百分比。",
            "solution": "问题陈述已经过严格审查，并被确定为有效。它在科学上基于半导体器件物理学原理，特别是双极结型晶体管 (BJT) 的电荷控制模型。该问题是适定的，为常微分方程 (ODE) 系统提供了一套完整的参数、初始条件和清晰的自洽模型结构。语言客观，要求明确。因此，可以制定一个解决方案。\n\n目标是仿真 BJT 在阻性负载下的导通暂态，并确定其工作由准饱和主导的时间区间。当集电极电流 $I_{\\text{C}}$ 足够大，以至于内部集电极漂移区上的电压降变得显著时，就会发生这种现象，这会有效地将集电极-发射极电压 $V_{\\text{CE}}$ 钳位在一个高于经典硬饱和电压的值。所提供的模型通过一个状态依赖的方程组来捕捉这种行为。\n\n系统在任何时间 $t$ 的状态由两个变量定义：基区中存储的少数载流子电荷 $Q_{\\text{b}}(t)$，以及集电极漂移区中存储的电荷 $Q_{\\text{c}}(t)$。这些电荷的动力学由一对耦合的一阶常微分方程控制。这些常微分方程的结构取决于器件是否处于准饱和状态。\n\n基极由一个具有有限上升时间的电流源驱动：\n$$I_{\\text{B}}(t) = I_{\\text{B,max}} \\left(1 - e^{-t/t_r}\\right)$$\n\n模型的核心在于比较集电极-发射极电压的两种定义。第一种，$V_{\\text{CE,circ}}(t)$，由外部电路通过 Kirchhoff 电压定律确定：\n$$V_{\\text{CE,circ}}(t) = V_{\\text{CC}} - I_{\\text{C,charge}}(t) R_{\\text{L}}$$\n其中集电极电流 $I_{\\text{C}}(t)$ 由基极电荷根据电荷控制原理确定：\n$$I_{\\text{C,charge}}(t) = \\frac{Q_{\\text{b}}(t)}{\\tau_{\\text{F}}}$$\n这里，$V_{\\text{CC}}$ 是集电极电源电压，$R_{\\text{L}}$ 是负载电阻，$\\tau_{\\text{F}}$ 是正向渡越时间。\n\n第二种电压 $V_{\\text{min}}(t)$ 代表 BJT 上的最小内部电压降，该电压受集电区电导率的限制：\n$$V_{\\text{min}}(t) = I_{\\text{C,charge}}(t) R_{\\text{d}}(Q_{\\text{c}}(t)) + V_{\\text{knee}}$$\n漂移电阻 $R_{\\text{d}}$ 由集电极电荷 $Q_{\\text{c}}(t)$ 调制如下：\n$$R_{\\text{d}}(Q_{\\text{c}}) = \\frac{R_{\\text{d0}}}{1 + Q_{\\text{c}}(t)/Q_0}$$\n其中 $R_{\\text{d0}}$ 是未调制电阻，$Q_0$ 是一个特征电荷，$V_{\\text{knee}}$ 是一个恒定的膝点电压。\n\n当且仅当外部电路试图将 $V_{\\text{CE}}$ 拉至内部最小值以下时，即 $V_{\\text{CE,circ}}(t)  V_{\\text{min}}(t)$ 时，准饱和被激活。我们定义一个二进制标志 $u_{\\text{qs}}(t)$ 来表示此条件：当处于准饱和时，$u_{\\text{qs}}(t) = 1$，否则 $u_{\\text{qs}}(t) = 0$。\n\n电荷动力学基于此标志进行划分。仅当准饱和被激活时，一部分比例为 $\\eta$ 的基极电流被分流以建立集电极电荷。控制的常微分方程为：\n$$ \\frac{dQ_{\\text{b}}}{dt} = \\left(1 - \\eta \\cdot u_{\\text{qs}}(t)\\right) I_{\\text{B}}(t) - \\frac{Q_{\\text{b}}(t)}{\\tau_{\\text{b}}} $$\n$$ \\frac{dQ_{\\text{c}}}{dt} = \\eta \\cdot u_{\\text{qs}}(t) I_{\\text{B}}(t) - \\frac{Q_{\\text{c}}(t)}{\\tau_{\\text{c}}} $$\n其中 $\\tau_{\\text{b}}$ 和 $\\tau_{\\text{c}}$ 分别是基极和集电极电荷的复合寿命。系统从静止状态开始，初始条件为 $Q_{\\text{b}}(0) = 0$ 和 $Q_{\\text{c}}(0) = 0$。\n\n我们将使用具有恒定时间步长 $\\Delta t$ 的显式前向欧拉法来数值求解这个系统。对于从 $t_i = i \\cdot \\Delta t$ 到 $t_{i+1} = (i+1) \\cdot \\Delta t$ 的每个时间步，程序如下：\n1.  给定状态 $(Q_{\\text{b}}(t_i), Q_{\\text{c}}(t_i))$，计算在 $t_i$ 时的所有随时间变化的量：$I_{\\text{B}}(t_i)$, $I_{\\text{C,charge}}(t_i)$, $V_{\\text{CE,circ}}(t_i)$, $R_{\\text{d}}(t_i)$ 和 $V_{\\text{min}}(t_i)$。\n2.  通过比较 $V_{\\text{CE,circ}}(t_i)$ 和 $V_{\\text{min}}(t_i)$ 来确定准饱和标志 $u_{\\text{qs}}(t_i)$。记录此标志以供后续分析。\n3.  使用与 $u_{\\text{qs}}(t_i)$ 值对应的常微分方程计算导数 $\\frac{dQ_{\\text{b}}}{dt}\\Big|_{t_i}$ 和 $\\frac{dQ_{\\text{c}}}{dt}\\Big|_{t_i}$。\n4.  为下一个时间步更新状态变量：\n    $$ Q_{\\text{b}}(t_{i+1}) = Q_{\\text{b}}(t_i) + \\Delta t \\cdot \\frac{dQ_{\\text{b}}}{dt}\\Big|_{t_i} $$\n    $$ Q_{\\text{c}}(t_{i+1}) = Q_{\\text{c}}(t_i) + \\Delta t \\cdot \\frac{dQ_{\\text{c}}}{dt}\\Big|_{t_i} $$\n\n此过程在整个仿真范围 $[0, T_{\\text{end}}]$ 上重复进行。仿真结束后，分析记录的 $u_{\\text{qs}}(t_i)$ 历史，以找到 $u_{\\text{qs}}(t_i)=1$ 的最长连续子序列。如果此子序列从索引 $i_{\\text{start}}$ 开始，到索引 $i_{\\text{end}}$ 结束，则相应的准饱和区间为 $[t_{\\text{start}}, t_{\\text{end}}]$，其中 $t_{\\text{start}} = i_{\\text{start}} \\cdot \\Delta t$ 且 $t_{\\text{end}} = (i_{\\text{end}} + 1) \\cdot \\Delta t$。最终的时间值将按要求四舍五入至六位有效数字。如果不存在这样的区间，结果为空列表。\n\n将实现一个 Python 程序来为每个提供的测试用例执行此仿真，并根据规范格式化结果。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nimport math\n\ndef solve():\n    \"\"\"\n    Main function to run the BJT transient simulation for all test cases\n    and print the results in the specified format.\n    \"\"\"\n\n    test_cases = [\n        # Case 1 (typical quasi-saturation)\n        {\n            \"V_CC\": 50.0, \"R_L\": 2.0, \"I_B_max\": 5.0, \"t_r\": 0.1e-6,\n            \"tau_b\": 0.8e-6, \"tau_F\": 0.2e-6, \"tau_c\": 1.5e-6,\n            \"R_d0\": 3.0, \"Q_0\": 0.5e-6, \"V_knee\": 0.2, \"eta\": 0.6,\n            \"T_end\": 4e-6, \"dt\": 1e-9\n        },\n        # Case 2 (no quasi-saturation expected)\n        {\n            \"V_CC\": 50.0, \"R_L\": 20.0, \"I_B_max\": 1.0, \"t_r\": 0.2e-6,\n            \"tau_b\": 0.8e-6, \"tau_F\": 0.6e-6, \"tau_c\": 1.5e-6,\n            \"R_d0\": 0.5, \"Q_0\": 1.0e-6, \"V_knee\": 0.2, \"eta\": 0.6,\n            \"T_end\": 4e-6, \"dt\": 1e-9\n        },\n        # Case 3 (strong quasi-saturation)\n        {\n            \"V_CC\": 20.0, \"R_L\": 0.6, \"I_B_max\": 4.0, \"t_r\": 0.05e-6,\n            \"tau_b\": 1.0e-6, \"tau_F\": 0.2e-6, \"tau_c\": 1.0e-6,\n            \"R_d0\": 6.0, \"Q_0\": 0.2e-6, \"V_knee\": 0.25, \"eta\": 0.7,\n            \"T_end\": 6e-6, \"dt\": 1e-9\n        },\n        # Case 4 (boundary quasi-saturation)\n        {\n            \"V_CC\": 40.0, \"R_L\": 3.5, \"I_B_max\": 2.0, \"t_r\": 0.15e-6,\n            \"tau_b\": 0.6e-6, \"tau_F\": 0.25e-6, \"tau_c\": 1.2e-6,\n            \"R_d0\": 4.5, \"Q_0\": 0.4e-6, \"V_knee\": 0.2, \"eta\": 0.5,\n            \"T_end\": 5e-6, \"dt\": 1e-9\n        }\n    ]\n\n    def format_to_sf(x, sf):\n        \"\"\"\n        Rounds and formats a number to a specified number of significant figures,\n        avoiding scientific notation.\n        \"\"\"\n        if x == 0:\n            return \"0.0\" \n        \n        # Round to significant figures mathematically\n        order = math.floor(math.log10(abs(x)))\n        scale = 10**(sf - 1 - order)\n        x_rounded = round(x * scale) / scale\n\n        if x_rounded == 0.0:\n            # Handle rounding to zero\n            return \"{:.{dp}f}\".format(0.0, dp=sf - 1)\n        \n        # Determine decimal places for formatting\n        order_rounded = math.floor(math.log10(abs(x_rounded)))\n        decimal_places = sf - 1 - order_rounded\n        if decimal_places  0:\n            decimal_places = 0\n            \n        return \"{:.{dp}f}\".format(x_rounded, dp=int(decimal_places))\n\n    def run_simulation(params):\n        \"\"\"\n        Performs the time-domain simulation for one set of parameters.\n        \"\"\"\n        # Unpack parameters\n        V_CC, R_L, I_B_max, t_r = params[\"V_CC\"], params[\"R_L\"], params[\"I_B_max\"], params[\"t_r\"]\n        tau_b, tau_F, tau_c = params[\"tau_b\"], params[\"tau_F\"], params[\"tau_c\"]\n        R_d0, Q_0, V_knee = params[\"R_d0\"], params[\"Q_0\"], params[\"V_knee\"]\n        eta, T_end, dt = params[\"eta\"], params[\"T_end\"], params[\"dt\"]\n\n        num_steps = int(T_end / dt)\n        time_points = np.linspace(0, T_end, num_steps + 1)\n        \n        q_b = 0.0\n        q_c = 0.0\n        u_qs_history = []\n        \n        for t in time_points[:-1]:\n            # Step 1: Compute I_B(t)\n            i_b = I_B_max * (1.0 - np.exp(-t / t_r)) if t_r > 0 else I_B_max\n\n            # Step 2: Compute I_C,charge(t)\n            i_c_charge = q_b / tau_F if tau_F > 0 else 0.0\n\n            # Step 3: Compute V_CE,circ(t)\n            v_ce_circ = V_CC - i_c_charge * R_L\n\n            # Step 4: Compute R_d and V_min(t)\n            r_d = R_d0 / (1.0 + q_c / Q_0) if Q_0 > 0 else R_d0\n            v_min = i_c_charge * r_d + V_knee\n\n            # Step 5: Determine quasi-saturation flag u_qs(t)\n            u_qs = 1 if v_ce_circ  v_min else 0\n            u_qs_history.append(u_qs)\n\n            # Step 6: Update Q_b and Q_c using Forward Euler\n            if u_qs == 1:\n                dqb_dt = (1.0 - eta) * i_b - q_b / tau_b if tau_b > 0 else (1.0 - eta) * i_b\n                dqc_dt = eta * i_b - q_c / tau_c if tau_c > 0 else eta * i_b\n            else:\n                dqb_dt = i_b - q_b / tau_b if tau_b > 0 else i_b\n                dqc_dt = -q_c / tau_c if tau_c > 0 else 0.0\n            \n            q_b += dqb_dt * dt\n            q_c += dqc_dt * dt\n\n        # Analyze u_qs_history to find the longest contiguous interval\n        max_len = 0\n        longest_interval_indices = (-1, -1)\n        current_start_index = -1\n\n        for i, u in enumerate(u_qs_history):\n            if u == 1 and current_start_index == -1:\n                current_start_index = i\n            elif u == 0 and current_start_index != -1:\n                length = i - current_start_index\n                if length > max_len:\n                    max_len = length\n                    longest_interval_indices = (current_start_index, i - 1)\n                current_start_index = -1\n        \n        # Check if the sequence runs to the end of the simulation\n        if current_start_index != -1:\n            length = len(u_qs_history) - current_start_index\n            if length > max_len:\n                max_len = length\n                longest_interval_indices = (current_start_index, len(u_qs_history) - 1)\n\n        if longest_interval_indices[0] == -1:\n            return []\n        else:\n            t_start = longest_interval_indices[0] * dt\n            t_end = (longest_interval_indices[1] + 1) * dt\n            \n            # Format results to 6 significant figures\n            t_start_str = format_to_sf(t_start, 6)\n            t_end_str = format_to_sf(t_end, 6)\n            # The output must be a list of numbers, not strings for Python's str() to work correctly\n            # Re-evaluating the string formatting for final output\n            # Let's use Python's built-in formatting with a helper\n            \n            t_start_formatted = float(format_to_sf(t_start, 6))\n            t_end_formatted = float(format_to_sf(t_end, 6))\n\n            return [t_start_formatted, t_end_formatted]\n\n\n    results = []\n    for case in test_cases:\n        interval = run_simulation(case)\n        # Format the numbers again just for the final print representation\n        if interval:\n            # Need to create the string representation carefully.\n            # Using repr() on the float may add extra digits. str() is better.\n            # But str() can go to scientific notation. Let's build the list of strings manually.\n            \n            # The custom format_to_sf function already produces the desired string.\n            t_start_str = format_to_sf(interval[0], 6)\n            t_end_str = format_to_sf(interval[1], 6)\n            results.append(f\"[{t_start_str},{t_end_str}]\") # Store as formatted string\n        else:\n            results.append(\"[]\")\n\n    # Final print statement in the exact required format.\n    # Joining strings that are either \"[]\" or \"[t1,t2]\"\n    print(f\"[{','.join(results)}]\")\n\nsolve()\n```"
        }
    ]
}