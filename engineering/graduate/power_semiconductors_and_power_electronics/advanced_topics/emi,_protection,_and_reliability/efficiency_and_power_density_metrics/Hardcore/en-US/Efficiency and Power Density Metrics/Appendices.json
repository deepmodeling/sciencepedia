{
    "hands_on_practices": [
        {
            "introduction": "Selecting the optimal semiconductor device is a foundational task in high-performance power electronics design. Within a given technology family, power MOSFETs exhibit an intrinsic trade-off between low on-resistance $R_{\\mathrm{on}}$ for minimal conduction loss and low parasitic capacitances for minimal switching energy $E_{\\mathrm{sw}}$. This practice  challenges you to formalize this trade-off and apply it to a practical optimization problem, showing how to select a device that minimizes total power loss and maximizes efficiency for a specific application.",
            "id": "3837427",
            "problem": "A set of power semiconductor devices forming a single-technology family of SuperJunction Metal-Oxide-Semiconductor Field-Effect Transistors (MOSFETs) is offered with different die areas, while maintaining the same voltage rating. At the device level, consider the following operating context and foundational facts:\n\n- The instantaneous conduction power of a resistive element is $p(t)=i^2(t)R$, and the average over one switching period is $P_{\\mathrm{cond}}=\\frac{1}{T}\\int_0^T i^2(t)R\\,dt$.\n- In a hard-switched direct current (DC) power stage where the MOSFET conducts a constant current $I$ during an on-time fraction $D$ of the period and blocks a voltage $V$ during off-time, the average output power delivered to the load is $P_{\\mathrm{out}}=VI D$.\n- The total switching energy per cycle $E_{\\mathrm{sw}}$ is defined by the integral of $v(t)i(t)$ during the switching intervals, and is taken at the specified operating point (bus voltage and drain current). For a given technology and voltage class, the dominant capacitive and gate-charge contributions to $E_{\\mathrm{sw}}$ scale proportionally with the device active area due to the extensive nature of capacitance and channel charge. The channel conduction path places parallel elementary cells in area, causing $R_{\\mathrm{on}}$ to scale inversely with area. These well-tested scaling facts give a basis to relate device metrics to die area.\n- The total device power loss is $P_{\\mathrm{loss}}=P_{\\mathrm{cond}}+P_{\\mathrm{sw}}$, where $P_{\\mathrm{sw}}$ is the average switching power equal to $f_s E_{\\mathrm{sw}}$ for a switching frequency $f_s$. The device-level efficiency is $\\eta=\\frac{P_{\\mathrm{out}}}{P_{\\mathrm{out}}+P_{\\mathrm{loss}}}$.\n- Define a device family by a reference device of active area $A_{\\mathrm{ref}}$ and reference metrics $R_{\\mathrm{ref}}$ and $E_{\\mathrm{ref}}$ measured at the operating point. Let the available devices be scaled versions with area $A=s A_{\\mathrm{ref}}$ for scale factors $s$ chosen from a discrete set.\n\nTasks:\n\n1) Starting only from the above foundational definitions and scaling facts, derive a parametric trade-off curve between $R_{\\mathrm{on}}$ and $E_{\\mathrm{sw}}$ for the family as the area scale factor $s$ varies. Express the curve as a relationship between $R_{\\mathrm{on}}$ and $E_{\\mathrm{sw}}$ that eliminates $s$ and demonstrates the intrinsic trade-off within the family.\n\n2) Using first principles and the scaling facts, determine the continuous area scale $s^\\star$ that maximizes $\\eta$ at a given operating point $(V,I,D,f_s)$, reference metrics $(R_{\\mathrm{ref}},E_{\\mathrm{ref}})$, and reference area $A_{\\mathrm{ref}}$. Then, from a discrete set of available scale factors $s_i$, select the device that maximizes $\\eta$ and compute the corresponding efficiency $\\eta$ and the device power density defined as $\\rho=\\frac{P_{\\mathrm{out}}}{A}$, where $A=s A_{\\mathrm{ref}}$.\n\n3) Implement a program that performs the above computation for the provided test suite. For each test case, compute:\n- the chosen device’s efficiency $\\eta$ as a decimal number, unitless,\n- the chosen device’s power density $\\rho$ in $\\mathrm{W/mm^2}$.\n\nOutput formatting requirements:\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, ordered as $[\\eta_1,\\rho_1,\\eta_2,\\rho_2,\\dots]$ for the test cases in the order given below.\n- Express each $\\eta$ as a decimal number rounded to six decimal places.\n- Express each $\\rho$ in $\\mathrm{W/mm^2}$ rounded to six decimal places.\n\nTest suite:\n- Case 1 (balanced, moderately high frequency): $V=400\\,\\mathrm{V}$, $I=20\\,\\mathrm{A}$, $D=0.5$, $f_s=100{,}000\\,\\mathrm{Hz}$, $R_{\\mathrm{ref}}=0.2\\,\\Omega$, $E_{\\mathrm{ref}}=6.0\\times10^{-4}\\,\\mathrm{J}$, $A_{\\mathrm{ref}}=25\\,\\mathrm{mm^2}$, $s\\in\\{0.5,0.75,1.0,1.5,2.0\\}$.\n- Case 2 (conduction-dominated, low frequency): $V=400\\,\\mathrm{V}$, $I=20\\,\\mathrm{A}$, $D=0.5$, $f_s=10{,}000\\,\\mathrm{Hz}$, $R_{\\mathrm{ref}}=0.2\\,\\Omega$, $E_{\\mathrm{ref}}=6.0\\times10^{-4}\\,\\mathrm{J}$, $A_{\\mathrm{ref}}=25\\,\\mathrm{mm^2}$, $s\\in\\{0.5,0.75,1.0,1.5,2.0\\}$.\n- Case 3 (switching-dominated, very high frequency): $V=400\\,\\mathrm{V}$, $I=20\\,\\mathrm{A}$, $D=0.5$, $f_s=500{,}000\\,\\mathrm{Hz}$, $R_{\\mathrm{ref}}=0.2\\,\\Omega$, $E_{\\mathrm{ref}}=6.0\\times10^{-4}\\,\\mathrm{J}$, $A_{\\mathrm{ref}}=25\\,\\mathrm{mm^2}$, $s\\in\\{0.5,0.75,1.0,1.5,2.0\\}$.\n- Case 4 (boundary where the continuous optimum aligns to an available device): $V=400\\,\\mathrm{V}$, $I=20\\,\\mathrm{A}$, $D=0.5$, $f_s=66{,}666.6666667\\,\\mathrm{Hz}$, $R_{\\mathrm{ref}}=0.2\\,\\Omega$, $E_{\\mathrm{ref}}=6.0\\times10^{-4}\\,\\mathrm{J}$, $A_{\\mathrm{ref}}=25\\,\\mathrm{mm^2}$, $s\\in\\{0.5,0.75,1.0,1.5,2.0\\}$.",
            "solution": "The problem posed is a valid, well-defined exercise in power electronics engineering analysis. It is scientifically grounded in the established principles of semiconductor device physics and circuit theory, provides a complete and consistent set of data and definitions, and requests a formal, objective, and verifiable solution. We may therefore proceed with the derivation and computation.\n\nThe solution is developed in three parts as requested by the problem statement. First, the intrinsic trade-off curve for the semiconductor technology family is derived. Second, a method for selecting the optimal device to maximize efficiency is formulated. Third, this method is applied to the specific test cases.\n\n### 1. Parametric Trade-off Curve ($R_{\\mathrm{on}}$ vs. $E_{\\mathrm{sw}}$)\n\nThe problem states that for a family of devices differentiated by active area $A$, the on-state resistance $R_{\\mathrm{on}}$ is inversely proportional to the area, and the switching energy $E_{\\mathrm{sw}}$ is directly proportional to the area. We can express these relationships mathematically.\n\nLet $A_{\\mathrm{ref}}$, $R_{\\mathrm{ref}}$, and $E_{\\mathrm{ref}}$ be the area, on-resistance, and switching energy of a reference device, respectively. For any other device in the same family with an active area $A$ given by a scale factor $s$ such that $A = s A_{\\mathrm{ref}}$, its on-resistance $R_{\\mathrm{on}}(s)$ and switching energy $E_{\\mathrm{sw}}(s)$ are given by the scaling laws:\n\n$$\nR_{\\mathrm{on}}(s) = \\frac{R_{\\mathrm{ref}}}{s}\n$$\n\n$$\nE_{\\mathrm{sw}}(s) = s E_{\\mathrm{ref}}\n$$\n\nTo derive the trade-off curve, we must eliminate the parameter $s$ from this system of equations. From the first equation, we can express the scale factor $s$ in terms of the on-resistance:\n\n$$\ns = \\frac{R_{\\mathrm{ref}}}{R_{\\mathrm{on}}(s)}\n$$\n\nSubstituting this expression for $s$ into the second equation yields:\n\n$$\nE_{\\mathrm{sw}}(s) = \\left( \\frac{R_{\\mathrm{ref}}}{R_{\\mathrm{on}}(s)} \\right) E_{\\mathrm{ref}}\n$$\n\nRearranging this equation gives the intrinsic trade-off relationship for the technology family:\n\n$$\nR_{\\mathrm{on}}(s) E_{\\mathrm{sw}}(s) = R_{\\mathrm{ref}} E_{\\mathrm{ref}}\n$$\n\nThis equation shows that the product of the on-resistance and the switching energy is a constant for a given semiconductor technology and voltage rating. This constant product, $R_{\\mathrm{ref}}E_{\\mathrm{ref}}$, is a common Figure of Merit (FoM) used to compare different power semiconductor technologies. A lower FoM indicates a better technology, as it represents a more favorable trade-off between conduction and switching performance.\n\n### 2. Optimal Device Selection for Maximum Efficiency\n\nThe goal is to select a device, characterized by its scale factor $s$, that maximizes the efficiency $\\eta$ for a given operating point $(V, I, D, f_s)$. The efficiency is defined as:\n\n$$\n\\eta = \\frac{P_{\\mathrm{out}}}{P_{\\mathrm{out}} + P_{\\mathrm{loss}}}\n$$\n\nwhere $P_{\\mathrm{out}} = VID$ is the average output power. Since $P_{\\mathrm{out}}$ is constant for a given operating point, maximizing efficiency $\\eta$ is equivalent to minimizing the total power loss $P_{\\mathrm{loss}}$.\n\nThe total power loss $P_{\\mathrm{loss}}$ is the sum of the average conduction loss $P_{\\mathrm{cond}}$ and the average switching loss $P_{\\mathrm{sw}}$. We must express these loss components as a function of the scale factor $s$.\n\nThe average conduction loss is given by $P_{\\mathrm{cond}} = I_{\\mathrm{rms}}^2 R_{\\mathrm{on}}$. For a constant current $I$ flowing during the on-time fraction $D$, the squared RMS current is $I_{\\mathrm{rms}}^2 = I^2 D$. Thus, the conduction loss for a device with scale factor $s$ is:\n\n$$\nP_{\\mathrm{cond}}(s) = I^2 D R_{\\mathrm{on}}(s) = I^2 D \\frac{R_{\\mathrm{ref}}}{s}\n$$\n\nThe average switching loss is the product of the switching energy per cycle and the switching frequency $f_s$:\n\n$$\nP_{\\mathrm{sw}}(s) = f_s E_{\\mathrm{sw}}(s) = f_s (s E_{\\mathrm{ref}})\n$$\n\nThe total power loss as a function of $s$ is therefore:\n\n$$\nP_{\\mathrm{loss}}(s) = P_{\\mathrm{cond}}(s) + P_{\\mathrm{sw}}(s) = \\frac{I^2 D R_{\\mathrm{ref}}}{s} + s f_s E_{\\mathrm{ref}}\n$$\n\nTo find the continuous scale factor $s^\\star$ that minimizes $P_{\\mathrm{loss}}(s)$, we take the derivative of $P_{\\mathrm{loss}}(s)$ with respect to $s$ and set it to zero.\n\n$$\n\\frac{d P_{\\mathrm{loss}}(s)}{ds} = \\frac{d}{ds} \\left( \\frac{I^2 D R_{\\mathrm{ref}}}{s} + s f_s E_{\\mathrm{ref}} \\right) = -\\frac{I^2 D R_{\\mathrm{ref}}}{s^2} + f_s E_{\\mathrm{ref}} = 0\n$$\n\nSolving for $s$ yields the optimal continuous scale factor $s^\\star$:\n\n$$\ns^2 = \\frac{I^2 D R_{\\mathrm{ref}}}{f_s E_{\\mathrm{ref}}} \\implies s^\\star = \\sqrt{\\frac{I^2 D R_{\\mathrm{ref}}}{f_s E_{\\mathrm{ref}}}} = I \\sqrt{\\frac{D R_{\\mathrm{ref}}}{f_s E_{\\mathrm{ref}}}}\n$$\n\nThe second derivative, $\\frac{d^2 P_{\\mathrm{loss}}(s)}{ds^2} = \\frac{2 I^2 D R_{\\mathrm{ref}}}{s^3}$, is always positive for $s0$, confirming that $s^\\star$ corresponds to a minimum. The loss function $P_{\\mathrm{loss}}(s)$ is convex.\n\nIn practice, devices are available only for a discrete set of scale factors $\\{s_i\\}$. Since the loss function is convex, the optimal discrete choice $s_{\\mathrm{opt}}$ will be one of the available $s_i$ values that is closest to the continuous optimum $s^\\star$. However, to be rigorous, one must evaluate $P_{\\mathrm{loss}}(s_i)$ for all available $s_i$ and select the one that yields the minimum loss.\n\nLet $s_{\\mathrm{opt}}$ be the chosen scale factor from the discrete set. The corresponding efficiency $\\eta_{\\mathrm{opt}}$ and power density $\\rho_{\\mathrm{opt}}$ are calculated as follows:\n\nFirst, compute the minimum power loss:\n$$\nP_{\\mathrm{loss,opt}} = \\frac{I^2 D R_{\\mathrm{ref}}}{s_{\\mathrm{opt}}} + s_{\\mathrm{opt}} f_s E_{\\mathrm{ref}}\n$$\n\nThen, compute the efficiency:\n$$\n\\eta_{\\mathrm{opt}} = \\frac{P_{\\mathrm{out}}}{P_{\\mathrm{out}} + P_{\\mathrm{loss,opt}}} = \\frac{VID}{VID + P_{\\mathrm{loss,opt}}}\n$$\n\nFinally, compute the power density. The area of the chosen device is $A_{\\mathrm{opt}} = s_{\\mathrm{opt}} A_{\\mathrm{ref}}$. The power density is:\n$$\n\\rho_{\\mathrm{opt}} = \\frac{P_{\\mathrm{out}}}{A_{\\mathrm{opt}}} = \\frac{VID}{s_{\\mathrm{opt}} A_{\\mathrm{ref}}}\n$$\n\n### 3. Implementation and Computation\n\nThe computational procedure for each test case is as follows:\n1.  Given the operating point $(V, I, D, f_s)$, the reference device parameters $(R_{\\mathrm{ref}}, E_{\\mathrm{ref}}, A_{\\mathrm{ref}})$, and the set of available scale factors $\\{s_i\\}$.\n2.  Calculate the constant output power $P_{\\mathrm{out}} = VID$.\n3.  Initialize a minimum loss variable, $P_{\\mathrm{loss,min}}$, to infinity and a corresponding optimal scale factor variable, $s_{\\mathrm{opt}}$.\n4.  Iterate through each available scale factor $s_i$ in the discrete set:\n    a. Calculate the total power loss $P_{\\mathrm{loss}}(s_i) = \\frac{I^2 D R_{\\mathrm{ref}}}{s_i} + s_i f_s E_{\\mathrm{ref}}$.\n    b. If $P_{\\mathrm{loss}}(s_i)$ is less than the current $P_{\\mathrm{loss,min}}$, update $P_{\\mathrm{loss,min}} = P_{\\mathrm{loss}}(s_i)$ and $s_{\\mathrm{opt}} = s_i$.\n5.  After iterating through all $s_i$, the final $s_{\\mathrm{opt}}$ is the optimal discrete choice.\n6.  Using this $s_{\\mathrm{opt}}$ and the corresponding $P_{\\mathrm{loss,min}}$, calculate the final efficiency $\\eta = \\frac{P_{\\mathrm{out}}}{P_{\\mathrm{out}} + P_{\\mathrm{loss,min}}}$.\n7.  Calculate the final power density $\\rho = \\frac{P_{\\mathrm{out}}}{s_{\\mathrm{opt}} A_{\\mathrm{ref}}}$.\n8.  The results $(\\eta, \\rho)$ are rounded to six decimal places as required. This algorithm will be implemented in the provided Python environment.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the power semiconductor optimization problem for a suite of test cases.\n    \"\"\"\n\n    test_cases = [\n        # Case 1 (balanced, moderately high frequency)\n        {'V': 400, 'I': 20, 'D': 0.5, 'fs': 100000, 'R_ref': 0.2, 'E_ref': 6.0e-4, 'A_ref': 25, 's_set': [0.5, 0.75, 1.0, 1.5, 2.0]},\n        # Case 2 (conduction-dominated, low frequency)\n        {'V': 400, 'I': 20, 'D': 0.5, 'fs': 10000, 'R_ref': 0.2, 'E_ref': 6.0e-4, 'A_ref': 25, 's_set': [0.5, 0.75, 1.0, 1.5, 2.0]},\n        # Case 3 (switching-dominated, very high frequency)\n        {'V': 400, 'I': 20, 'D': 0.5, 'fs': 500000, 'R_ref': 0.2, 'E_ref': 6.0e-4, 'A_ref': 25, 's_set': [0.5, 0.75, 1.0, 1.5, 2.0]},\n        # Case 4 (boundary where continuous optimum aligns to an available device)\n        {'V': 400, 'I': 20, 'D': 0.5, 'fs': 200000.0/3.0, 'R_ref': 0.2, 'E_ref': 6.0e-4, 'A_ref': 25, 's_set': [0.5, 0.75, 1.0, 1.5, 2.0]},\n    ]\n    \n    final_results = []\n    \n    for case in test_cases:\n        V = case['V']\n        I = case['I']\n        D = case['D']\n        fs = case['fs']\n        R_ref = case['R_ref']\n        E_ref = case['E_ref']\n        A_ref = case['A_ref']\n        s_set = case['s_set']\n        \n        # Calculate output power (constant for a given case)\n        # P_out = V * I * D\n        P_out = V * I * D\n        \n        min_loss = np.inf\n        s_opt = -1.0\n        \n        # Determine the coefficients for the loss function P_loss(s) = K_c/s + K_sw*s\n        K_c = I**2 * D * R_ref  # Conduction loss coefficient\n        K_sw = fs * E_ref       # Switching loss coefficient\n        \n        # Iterate through the available discrete scale factors to find the one that minimizes loss\n        for s_i in s_set:\n            P_loss_i = K_c / s_i + K_sw * s_i\n            \n            if P_loss_i  min_loss:\n                min_loss = P_loss_i\n                s_opt = s_i\n        \n        # Calculate final metrics using the optimal scale factor\n        \n        # 1. Efficiency (eta)\n        P_loss_opt = min_loss\n        eta_opt = P_out / (P_out + P_loss_opt)\n        \n        # 2. Power Density (rho) in W/mm^2\n        A_opt = s_opt * A_ref # in mm^2\n        rho_opt = P_out / A_opt\n        \n        # Append results to the final list\n        final_results.append(eta_opt)\n        final_results.append(rho_opt)\n    \n    # Format the output as a comma-separated list of strings, with each number\n    # formatted to six decimal places, enclosed in square brackets.\n    output_str = f\"[{','.join([f'{r:.6f}' for r in final_results])}]\"\n    print(output_str)\n\nsolve()\n```"
        },
        {
            "introduction": "To meet the high current demands of modern power systems, designers often parallel multiple semiconductor dies within a single power module. However, minor variations in manufacturing mean that these dies are never perfectly identical, leading to an imbalance in current sharing. This exercise  provides a hands-on look at this non-ideal behavior, guiding you to calculate how differences in on-state resistance cause current mismatch and result in additional conduction losses, directly impacting the module's overall efficiency.",
            "id": "3837454",
            "problem": "A three-die parallel switch inside a multichip module is implemented with stacked Insulated Gate Bipolar Transistor (IGBT) dies. Each die exhibits a linearized on-state characteristic modeled as $v_{CE,i} = v_{k} + r_{i} i_{i}$, where $v_{CE,i}$ is the collector-emitter voltage of die $i$, $v_{k}$ is a die-independent knee voltage, $r_{i}$ is the slope resistance of die $i$, and $i_{i}$ is the current through die $i$. When connected in parallel, all dies share the same on-state voltage $v$, and their currents sum to the total module current $I_{\\text{tot}}$. Consider the following parameters under steady-state conduction at a fixed output current:\n- Number of dies: $n = 3$.\n- Knee voltage: $v_{k} = 1.8\\ \\text{V}$.\n- Slope resistances: $r_{1} = 0.9 \\times 10^{-3}\\ \\Omega$, $r_{2} = 1.0 \\times 10^{-3}\\ \\Omega$, $r_{3} = 1.3 \\times 10^{-3}\\ \\Omega$.\n- Total current: $I_{\\text{tot}} = 300\\ \\text{A}$.\n\nAssume an electric power conversion stage that delivers a fixed output power $P_{\\text{out}} = 5.0 \\times 10^{4}\\ \\text{W}$ through this module. Other loss mechanisms external to the module (magnetics, control, cooling parasitics) contribute a fixed power loss $P_{\\text{other}} = 1.25 \\times 10^{3}\\ \\text{W}$, and the module’s switching losses are $P_{\\text{sw}} = 3.50 \\times 10^{2}\\ \\text{W}$. The multichip module has a volume $V_{\\text{mod}} = 1.25 \\times 10^{2}\\ \\text{cm}^{3}$.\n\nStarting from first principles of parallel conduction and core definitions of efficiency and volumetric power density, do the following:\n1. Determine the current distribution $\\{i_{1}, i_{2}, i_{3}\\}$ across the dies and compute the current sharing imbalance ratio, defined as $\\gamma = \\frac{\\max\\{i_{1}, i_{2}, i_{3}\\}}{\\min\\{i_{1}, i_{2}, i_{3}\\}}$.\n2. Compute the module’s actual conduction loss $P_{\\text{cond,act}}$ under the imbalanced sharing. For reference, define the hypothetical perfectly matched case as $r_{i} = r_{\\min}$ for all dies, where $r_{\\min} = \\min\\{r_{1},r_{2},r_{3}\\}$. Compute the additional conduction loss due to mismatch as $\\Delta P_{\\text{cond}} = P_{\\text{cond,act}} - P_{\\text{cond,match}}$, where $P_{\\text{cond,match}}$ is the conduction loss in the perfectly matched case.\n3. Assess the impact on efficiency and volumetric power density by computing the actual efficiency $\\eta = \\frac{P_{\\text{out}}}{P_{\\text{out}} + P_{\\text{other}} + P_{\\text{sw}} + P_{\\text{cond,act}}}$ and the volumetric power density $p_{v} = \\frac{P_{\\text{out}}}{V_{\\text{mod}}}$.\n\nExpress the final efficiency $\\eta$ as a decimal fraction rounded to five significant figures, and the volumetric power density $p_{v}$ in $\\text{W}/\\text{cm}^{3}$ rounded to four significant figures. The final answer must be provided as two values in the order $(\\eta, p_{v})$.",
            "solution": "The problem is subjected to validation before a solution is attempted.\n\n### Step 1: Extract Givens\n- **Model for IGBT on-state characteristic:** $v_{CE,i} = v_{k} + r_{i} i_{i}$\n- **Number of dies:** $n = 3$\n- **Knee voltage:** $v_{k} = 1.8\\ \\text{V}$\n- **Slope resistances:** $r_{1} = 0.9 \\times 10^{-3}\\ \\Omega$, $r_{2} = 1.0 \\times 10^{-3}\\ \\Omega$, $r_{3} = 1.3 \\times 10^{-3}\\ \\Omega$\n- **Total module current:** $I_{\\text{tot}} = 300\\ \\text{A}$\n- **Fixed output power:** $P_{\\text{out}} = 5.0 \\times 10^{4}\\ \\text{W}$\n- **External fixed power loss:** $P_{\\text{other}} = 1.25 \\times 10^{3}\\ \\text{W}$\n- **Module switching losses:** $P_{\\text{sw}} = 3.50 \\times 10^{2}\\ \\text{W}$\n- **Module volume:** $V_{\\text{mod}} = 1.25 \\times 10^{2}\\ \\text{cm}^{3}$\n- **Definition of current sharing imbalance ratio:** $\\gamma = \\frac{\\max\\{i_{1}, i_{2}, i_{3}\\}}{\\min\\{i_{1}, i_{2}, i_{3}\\}}$\n- **Definition of perfectly matched case:** $r_{i} = r_{\\min} = \\min\\{r_{1},r_{2},r_{3}\\}$ for all dies.\n- **Definition of additional conduction loss:** $\\Delta P_{\\text{cond}} = P_{\\text{cond,act}} - P_{\\text{cond,match}}$\n- **Definition of efficiency:** $\\eta = \\frac{P_{\\text{out}}}{P_{\\text{out}} + P_{\\text{other}} + P_{\\text{sw}} + P_{\\text{cond,act}}}$\n- **Definition of volumetric power density:** $p_{v} = \\frac{P_{\\text{out}}}{V_{\\text{mod}}}$\n\n### Step 2: Validate Using Extracted Givens\n1.  **Scientifically Grounded:** The problem is based on fundamental principles of electrical circuits (parallel devices, Kirchhoff's Current Law) and standard power electronics concepts (conduction loss, efficiency, power density). The linearized IGBT model is a standard and valid approximation for on-state behavior.\n2.  **Well-Posed:** The problem provides all necessary parameters and clear definitions to calculate the required quantities. The system of equations derived from the givens is solvable for a unique solution.\n3.  **Objective:** The language is precise and quantitative. All definitions are mathematical and unambiguous.\n4.  **No Flaws Identified:** The problem is self-contained, consistent, and scientifically sound. The provided numerical values are realistic for a high-power semiconductor module.\n\n### Step 3: Verdict and Action\nThe problem is valid. A solution will be derived.\n\n### Solution Derivation\nThe solution proceeds by addressing the three requested parts in order.\n\n**Part 1: Current Distribution and Imbalance Ratio**\n\nWhen the $n=3$ dies are connected in parallel, they share the same collector-emitter voltage, $v$. From the linearized on-state characteristic, we have:\n$$v = v_{CE,1} = v_{CE,2} = v_{CE,3}$$\n$$v = v_{k} + r_{1}i_{1} = v_{k} + r_{2}i_{2} = v_{k} + r_{3}i_{3}$$\nThis implies that the voltage drop across the resistive part of each die is identical:\n$$r_{1}i_{1} = r_{2}i_{2} = r_{3}i_{3} \\equiv v_{r}$$\nwhere $v_{r}$ is this common voltage drop. The individual die currents can be expressed in terms of $v_{r}$ and their respective resistances:\n$$i_{1} = \\frac{v_{r}}{r_{1}}, \\quad i_{2} = \\frac{v_{r}}{r_{2}}, \\quad i_{3} = \\frac{v_{r}}{r_{3}}$$\nAccording to Kirchhoff's Current Law, the sum of the individual currents equals the total module current $I_{\\text{tot}}$:\n$$I_{\\text{tot}} = i_{1} + i_{2} + i_{3} = v_{r}\\left(\\frac{1}{r_{1}} + \\frac{1}{r_{2}} + \\frac{1}{r_{3}}\\right)$$\nWe can solve for $v_{r}$:\n$$v_{r} = \\frac{I_{\\text{tot}}}{\\frac{1}{r_{1}} + \\frac{1}{r_{2}} + \\frac{1}{r_{3}}}$$\nSubstituting the given values $I_{\\text{tot}} = 300\\ \\text{A}$, $r_{1} = 0.9 \\times 10^{-3}\\ \\Omega$, $r_{2} = 1.0 \\times 10^{-3}\\ \\Omega$, and $r_{3} = 1.3 \\times 10^{-3}\\ \\Omega$:\n$$\\frac{1}{r_{1}} = \\frac{1}{0.9 \\times 10^{-3}} = \\frac{10000}{9}\\ \\Omega^{-1}$$\n$$\\frac{1}{r_{2}} = \\frac{1}{1.0 \\times 10^{-3}} = 1000\\ \\Omega^{-1}$$\n$$\\frac{1}{r_{3}} = \\frac{1}{1.3 \\times 10^{-3}} = \\frac{10000}{13}\\ \\Omega^{-1}$$\nThe sum of the conductances is:\n$$\\sum_{i=1}^{3}\\frac{1}{r_{i}} = \\frac{10000}{9} + 1000 + \\frac{10000}{13} = \\frac{130000 + 117000 + 90000}{117} = \\frac{337000}{117}\\ \\Omega^{-1}$$\nNow, we calculate $v_{r}$:\n$$v_{r} = \\frac{300}{\\frac{337000}{117}} = \\frac{300 \\times 117}{337000} = \\frac{35100}{337000} = \\frac{351}{3370}\\ \\text{V}$$\nThe individual currents are:\n$$i_{1} = \\frac{v_{r}}{r_{1}} = \\frac{351/3370}{0.9 \\times 10^{-3}} = \\frac{351/3370}{9 \\times 10^{-4}} = \\frac{351 \\times 10^{4}}{3370 \\times 9} = \\frac{39 \\times 1000}{337} = \\frac{39000}{337}\\ \\text{A} \\approx 115.73\\ \\text{A}$$\n$$i_{2} = \\frac{v_{r}}{r_{2}} = \\frac{351/3370}{1.0 \\times 10^{-3}} = \\frac{351}{3.37} = \\frac{35100}{337}\\ \\text{A} \\approx 104.15\\ \\text{A}$$\n$$i_{3} = \\frac{v_{r}}{r_{3}} = \\frac{351/3370}{1.3 \\times 10^{-3}} = \\frac{351 \\times 10^{3}}{3370 \\times 1.3} = \\frac{27000}{337}\\ \\text{A} \\approx 80.12\\ \\text{A}$$\nThe current sharing imbalance ratio $\\gamma$ is the ratio of the maximum to the minimum current. Since current is inversely proportional to resistance ($i_{i} \\propto 1/r_{i}$), the die with the smallest resistance ($r_{1}$) carries the maximum current, and the die with the largest resistance ($r_{3}$) carries the minimum current.\n$$\\gamma = \\frac{\\max\\{i_{1}, i_{2}, i_{3}\\}}{\\min\\{i_{1}, i_{2}, i_{3}\\}} = \\frac{i_{1}}{i_{3}} = \\frac{v_{r}/r_{1}}{v_{r}/r_{3}} = \\frac{r_{3}}{r_{1}}$$\n$$\\gamma = \\frac{1.3 \\times 10^{-3}\\ \\Omega}{0.9 \\times 10^{-3}\\ \\Omega} = \\frac{1.3}{0.9} = \\frac{13}{9} \\approx 1.444...$$\n\n**Part 2: Conduction Losses**\n\nThe actual conduction loss $P_{\\text{cond,act}}$ is the total power dissipated in the module, which is the product of the common voltage $v$ and the total current $I_{\\text{tot}}$.\n$$P_{\\text{cond,act}} = v \\cdot I_{\\text{tot}}$$\nThe common voltage $v$ is:\n$$v = v_{k} + v_{r} = 1.8\\ \\text{V} + \\frac{351}{3370}\\ \\text{V} = \\frac{1.8 \\times 3370 + 351}{3370} = \\frac{6066 + 351}{3370} = \\frac{6417}{3370}\\ \\text{V}$$\nSo, the actual conduction loss is:\n$$P_{\\text{cond,act}} = \\frac{6417}{3370}\\ \\text{V} \\times 300\\ \\text{A} = \\frac{6417 \\times 30}{337} = \\frac{192510}{337}\\ \\text{W} \\approx 571.246\\ \\text{W}$$\nFor the hypothetical perfectly matched case, all resistances are $r_{\\min} = r_{1} = 0.9 \\times 10^{-3}\\ \\Omega$. The current would be shared equally: $i_{\\text{match}} = I_{\\text{tot}}/n = 300/3 = 100\\ \\text{A}$ per die.\nThe voltage in the matched case would be:\n$$v_{\\text{match}} = v_{k} + r_{\\min}i_{\\text{match}} = 1.8\\ \\text{V} + (0.9 \\times 10^{-3}\\ \\Omega)(100\\ \\text{A}) = 1.8 + 0.09 = 1.89\\ \\text{V}$$\nThe conduction loss in the matched case is:\n$$P_{\\text{cond,match}} = v_{\\text{match}} \\cdot I_{\\text{tot}} = 1.89\\ \\text{V} \\times 300\\ \\text{A} = 567\\ \\text{W}$$\nThe additional conduction loss due to mismatch is:\n$$\\Delta P_{\\text{cond}} = P_{\\text{cond,act}} - P_{\\text{cond,match}} = \\frac{192510}{337}\\ \\text{W} - 567\\ \\text{W} = \\frac{192510 - 567 \\times 337}{337} = \\frac{192510 - 191079}{337} = \\frac{1431}{337}\\ \\text{W} \\approx 4.246\\ \\text{W}$$\n\n**Part 3: Efficiency and Volumetric Power Density**\n\nThe total power loss in the system is the sum of the external losses, switching losses, and the actual conduction losses:\n$$P_{\\text{loss,tot}} = P_{\\text{other}} + P_{\\text{sw}} + P_{\\text{cond,act}}$$\n$$P_{\\text{loss,tot}} = 1250\\ \\text{W} + 350\\ \\text{W} + \\frac{192510}{337}\\ \\text{W} = 1600 + \\frac{192510}{337}\\ \\text{W}$$\nThe total input power $P_{\\text{in}}$ is the sum of the output power and total losses:\n$$P_{\\text{in}} = P_{\\text{out}} + P_{\\text{loss,tot}} = 50000\\ \\text{W} + 1600\\ \\text{W} + \\frac{192510}{337}\\ \\text{W} = 51600 + \\frac{192510}{337}\\ \\text{W}$$\n$$P_{\\text{in}} = \\frac{51600 \\times 337 + 192510}{337} = \\frac{17389200 + 192510}{337} = \\frac{17581710}{337}\\ \\text{W}$$\nThe efficiency $\\eta$ is the ratio of output power to input power:\n$$\\eta = \\frac{P_{\\text{out}}}{P_{\\text{in}}} = \\frac{50000}{17581710 / 337} = \\frac{50000 \\times 337}{17581710} = \\frac{16850000}{17581710} \\approx 0.9583824$$\nRounded to five significant figures, the efficiency is $\\eta = 0.95838$.\n\nThe volumetric power density $p_{v}$ is the ratio of output power to module volume:\n$$p_{v} = \\frac{P_{\\text{out}}}{V_{\\text{mod}}} = \\frac{5.0 \\times 10^{4}\\ \\text{W}}{1.25 \\times 10^{2}\\ \\text{cm}^{3}} = \\frac{50000}{125}\\ \\text{W}/\\text{cm}^{3} = 400\\ \\text{W}/\\text{cm}^{3}$$\nRounded to four significant figures, the volumetric power density is $p_{v} = 400.0\\ \\text{W}/\\text{cm}^{3}$.\n\nThe final requested values are $(\\eta, p_{v})$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.95838  400.0\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "A power converter's efficiency is not a single, static value; it is a dynamic characteristic that changes with input voltage and load power. To properly evaluate a converter's performance in a real-world application, one must consider its behavior across all likely operating points. This problem  simulates this real-world task by having you construct a discrete efficiency map from empirical data and then compute a weighted average efficiency based on a specific \"mission profile,\" a crucial technique for predicting system-level energy consumption.",
            "id": "3837470",
            "problem": "A Direct Current to Direct Current (DC-DC) converter is characterized for efficiency using the fundamental definition that the efficiency $\\eta$ is the ratio of the output power $P_{\\mathrm{out}}$ to the input power $P_{\\mathrm{in}}$. A set of steady-state measurements is taken at discrete operating points defined by the output power $P_{\\mathrm{out}} \\in \\{100~\\mathrm{W}, 250~\\mathrm{W}, 500~\\mathrm{W}\\}$ and input voltage $V_{\\mathrm{in}} \\in \\{300~\\mathrm{V}, 360~\\mathrm{V}\\}$. The measured input power values are:\n\n- At $V_{\\mathrm{in}} = 300~\\mathrm{V}$:\n  - $P_{\\mathrm{out}} = 100~\\mathrm{W}$, $P_{\\mathrm{in}} = 107.5~\\mathrm{W}$.\n  - $P_{\\mathrm{out}} = 250~\\mathrm{W}$, $P_{\\mathrm{in}} = 259~\\mathrm{W}$.\n  - $P_{\\mathrm{out}} = 500~\\mathrm{W}$, $P_{\\mathrm{in}} = 522~\\mathrm{W}$.\n- At $V_{\\mathrm{in}} = 360~\\mathrm{V}$:\n  - $P_{\\mathrm{out}} = 100~\\mathrm{W}$, $P_{\\mathrm{in}} = 104~\\mathrm{W}$.\n  - $P_{\\mathrm{out}} = 250~\\mathrm{W}$, $P_{\\mathrm{in}} = 256~\\mathrm{W}$.\n  - $P_{\\mathrm{out}} = 500~\\mathrm{W}$, $P_{\\mathrm{in}} = 515~\\mathrm{W}$.\n\nUsing the fundamental definition of efficiency, construct the discrete efficiency map $\\eta(P_{\\mathrm{out}}, V_{\\mathrm{in}})$ at the six measured operating points.\n\nThe converter is deployed in a mission with a time-normalized output power profile described by a probability mass function $w(P_{\\mathrm{out}})$ over the three output power levels:\n- $w(100~\\mathrm{W}) = 0.5$,\n- $w(250~\\mathrm{W}) = 0.35$,\n- $w(500~\\mathrm{W}) = 0.15$,\n\nand the input bus $V_{\\mathrm{in}}$ is observed to occur at two levels with probabilities:\n- $\\Pr\\{V_{\\mathrm{in}} = 300~\\mathrm{V}\\} = 0.4$,\n- $\\Pr\\{V_{\\mathrm{in}} = 360~\\mathrm{V}\\} = 0.6$.\n\nAssume $w(P_{\\mathrm{out}})$ and the input voltage occurrence probabilities are independent and stationary. Using the constructed efficiency map, compute the weighted average efficiency as the time-average of the instantaneous efficiency over the joint distribution of $(P_{\\mathrm{out}}, V_{\\mathrm{in}})$. Express the final average efficiency as a decimal number (no percentage sign), rounded to four significant figures.",
            "solution": "The problem as stated is scientifically grounded, self-contained, and well-posed. It is based on the fundamental definition of efficiency in power electronics and the standard statistical method of calculating a weighted average. All required data and conditions are provided, and they are consistent and physically realistic. The problem is formal and objective, allowing for a unique, verifiable solution. We may therefore proceed with the solution.\n\nThe efficiency $\\eta$ of a power converter is defined as the ratio of its output power $P_{\\mathrm{out}}$ to its input power $P_{\\mathrm{in}}$:\n$$\n\\eta = \\frac{P_{\\mathrm{out}}}{P_{\\mathrm{in}}}\n$$\nThe primary task is to compute the weighted average efficiency, denoted as $\\langle \\eta \\rangle$, which is the expected value of the instantaneous efficiency over the joint probability distribution of the given discrete operating points.\n\nFirst, we must construct the discrete efficiency map, $\\eta(P_{\\mathrm{out}}, V_{\\mathrm{in}})$, using the measured data for the six operating points.\n\nFor an input voltage of $V_{\\mathrm{in}} = 300~\\mathrm{V}$:\n- At $P_{\\mathrm{out}} = 100~\\mathrm{W}$, with $P_{\\mathrm{in}} = 107.5~\\mathrm{W}$, the efficiency is:\n$$ \\eta(100~\\mathrm{W}, 300~\\mathrm{V}) = \\frac{100}{107.5} $$\n- At $P_{\\mathrm{out}} = 250~\\mathrm{W}$, with $P_{\\mathrm{in}} = 259~\\mathrm{W}$, the efficiency is:\n$$ \\eta(250~\\mathrm{W}, 300~\\mathrm{V}) = \\frac{250}{259} $$\n- At $P_{\\mathrm{out}} = 500~\\mathrm{W}$, with $P_{\\mathrm{in}} = 522~\\mathrm{W}$, the efficiency is:\n$$ \\eta(500~\\mathrm{W}, 300~\\mathrm{V}) = \\frac{500}{522} $$\n\nFor an input voltage of $V_{\\mathrm{in}} = 360~\\mathrm{V}$:\n- At $P_{\\mathrm{out}} = 100~\\mathrm{W}$, with $P_{\\mathrm{in}} = 104~\\mathrm{W}$, the efficiency is:\n$$ \\eta(100~\\mathrm{W}, 360~\\mathrm{V}) = \\frac{100}{104} $$\n- At $P_{\\mathrm{out}} = 250~\\mathrm{W}$, with $P_{\\mathrm{in}} = 256~\\mathrm{W}$, the efficiency is:\n$$ \\eta(250~\\mathrm{W}, 360~\\mathrm{V}) = \\frac{250}{256} $$\n- At $P_{\\mathrm{out}} = 500~\\mathrm{W}$, with $P_{\\mathrm{in}} = 515~\\mathrm{W}$, the efficiency is:\n$$ \\eta(500~\\mathrm{W}, 360~\\mathrm{V}) = \\frac{500}{515} $$\n\nThe operating conditions are characterized by a probability mass function $w(P_{\\mathrm{out}})$ for the output power and a probability distribution $\\Pr\\{V_{\\mathrm{in}}\\}$ for the input voltage. The problem states these are independent. Therefore, the joint probability of a specific operating point $(P_{\\mathrm{out},i}, V_{\\mathrm{in},j})$ is the product of their individual probabilities:\n$$\n\\Pr(P_{\\mathrm{out},i}, V_{\\mathrm{in},j}) = w(P_{\\mathrm{out},i}) \\times \\Pr\\{V_{\\mathrm{in}} = V_{\\mathrm{in},j}\\}\n$$\nThe weighted average efficiency $\\langle \\eta \\rangle$ is the expected value of $\\eta(P_{\\mathrm{out}}, V_{\\mathrm{in}})$ over all $6$ operating points:\n$$ \\langle \\eta \\rangle = E[\\eta] = \\sum_{i,j} \\eta(P_{\\mathrm{out},i}, V_{\\mathrm{in},j}) \\Pr(P_{\\mathrm{out},i}, V_{\\mathrm{in},j}) $$\nThe given probabilities are:\n- $w(100~\\mathrm{W}) = 0.5$, $w(250~\\mathrm{W}) = 0.35$, $w(500~\\mathrm{W}) = 0.15$.\n- $\\Pr\\{V_{\\mathrm{in}} = 300~\\mathrm{V}\\} = 0.4$, $\\Pr\\{V_{\\mathrm{in}} = 360~\\mathrm{V}\\} = 0.6$.\n\nThe expanded sum for $\\langle \\eta \\rangle$ is:\n$$\n\\langle \\eta \\rangle = \\eta(100, 300) w(100) \\Pr(300) + \\eta(250, 300) w(250) \\Pr(300) + \\eta(500, 300) w(500) \\Pr(300) \\\\\n+ \\eta(100, 360) w(100) \\Pr(360) + \\eta(250, 360) w(250) \\Pr(360) + \\eta(500, 360) w(500) \\Pr(360)\n$$\nWe substitute the numerical values for the efficiencies and probabilities:\n$$\n\\langle \\eta \\rangle = \\left(\\frac{100}{107.5}\\right)(0.5)(0.4) + \\left(\\frac{250}{259}\\right)(0.35)(0.4) + \\left(\\frac{500}{522}\\right)(0.15)(0.4) \\\\\n+ \\left(\\frac{100}{104}\\right)(0.5)(0.6) + \\left(\\frac{250}{256}\\right)(0.35)(0.6) + \\left(\\frac{500}{515}\\right)(0.15)(0.6)\n$$\nThe joint probabilities (weights) for each operating point are:\n- $\\Pr(100~\\mathrm{W}, 300~\\mathrm{V}) = 0.5 \\times 0.4 = 0.20$\n- $\\Pr(250~\\mathrm{W}, 300~\\mathrm{V}) = 0.35 \\times 0.4 = 0.14$\n- $\\Pr(500~\\mathrm{W}, 300~\\mathrm{V}) = 0.15 \\times 0.4 = 0.06$\n- $\\Pr(100~\\mathrm{W}, 360~\\mathrm{V}) = 0.5 \\times 0.6 = 0.30$\n- $\\Pr(250~\\mathrm{W}, 360~\\mathrm{V}) = 0.35 \\times 0.6 = 0.21$\n- $\\Pr(500~\\mathrm{W}, 360~\\mathrm{V}) = 0.15 \\times 0.6 = 0.09$\n\nWe compute the weighted sum:\n$$\n\\langle \\eta \\rangle = \\left(\\frac{100}{107.5}\\right)(0.20) + \\left(\\frac{250}{259}\\right)(0.14) + \\left(\\frac{500}{522}\\right)(0.06) \\\\\n+ \\left(\\frac{100}{104}\\right)(0.30) + \\left(\\frac{250}{256}\\right)(0.21) + \\left(\\frac{500}{515}\\right)(0.09)\n$$\nEvaluating the terms numerically:\n$$\n\\langle \\eta \\rangle \\approx (0.93023256)(0.20) + (0.96525097)(0.14) + (0.95785441)(0.06) \\\\\n+ (0.96153846)(0.30) + (0.97656250)(0.21) + (0.97087379)(0.09)\n$$\n$$\n\\langle \\eta \\rangle \\approx 0.18604651 + 0.13513514 + 0.05747126 + 0.28846154 + 0.20507813 + 0.08737864\n$$\n$$\n\\langle \\eta \\rangle \\approx 0.95957122\n$$\nThe problem requires the result to be rounded to four significant figures.\n$$\n\\langle \\eta \\rangle \\approx 0.9596\n$$",
            "answer": "$$\n\\boxed{0.9596}\n$$"
        }
    ]
}