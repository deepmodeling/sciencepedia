{
    "hands_on_practices": [
        {
            "introduction": "This practice focuses on the fundamental design of a desaturation protection circuit for an Insulated Gate Bipolar Transistor (IGBT), a critical element for preventing catastrophic failure during short-circuit events. You will derive the key design parameters—the blanking time $t_b$ and the detection threshold $V_{CE,desat}$—by balancing two competing requirements. The goal is to ensure the protection is fast enough to prevent the device's junction temperature from exceeding its maximum limit, while also being robust against false trips caused by normal switching transients .",
            "id": "3828262",
            "problem": "A single-switch leg of a two-level voltage-source inverter uses a 1200 V Insulated Gate Bipolar Transistor (IGBT) with desaturation (desat) protection. A short-circuit fault can occur at turn-on. The gate driver employs desat protection with a blanking time and a comparator threshold. After the blanking time elapses, the comparator trips when the collector–emitter voltage exceeds a threshold, and then initiates turn-off. Assume the following physically realistic models and parameters, and derive from first principles the conditions on desat threshold and blanking time that ensure thermal safety while limiting false trips.\n\nFundamental base and models:\n- The transient junction temperature rise is modeled by the thermal step response relation\n$$\\Delta T_{j}(t) = P_{\\mathrm{SC}}\\, Z_{\\mathrm{th}}(t),$$\nwhere $P_{\\mathrm{SC}}$ is the short-circuit power (assumed time-invariant during the event) and $Z_{\\mathrm{th}}(t)$ is the junction-to-case transient thermal impedance.\n- The thermal impedance is approximated over the relevant time window by a single-pole form\n$$Z_{\\mathrm{th}}(t) = R_{\\mathrm{th},\\infty}\\left(1 - \\exp\\!\\left(-\\frac{t}{\\tau_{\\mathrm{th}}}\\right)\\right).$$\n- The desat detection timing is modeled as follows: the desat comparator is disabled for a blanking time $t_{b}$ after the switching transition starts. Once enabled, if the IGBT is in short-circuit, the comparator immediately sees $V_{CE}$ well above threshold and trips, after which the propagation and gate discharge delay $t_{\\mathrm{off}}$ elapses before the collector current effectively commutates to near zero. The comparator propagation delay is $t_{\\mathrm{cmp}}$.\n\nFalse-trip avoidance model:\n- The maximum normal-operation collector–emitter saturation voltage at the end of the blanking interval is modeled as\n$$V_{CE,\\mathrm{sat}}(I,T) = V_{T} + r_{\\mathrm{sat}}\\, I,$$\nwith the worst-case normal current $I_{\\max}$ and operating temperature $T$ during normal turn-on.\n- Residual transient overshoot on $V_{CE}$ after the end of blanking is modeled as an exponentially decaying term\n$$V_{\\mathrm{ov}}(t) = V_{0}\\,\\exp\\!\\left(-\\frac{t}{\\tau_{s}}\\right),$$\nwhich accounts for inductive and dynamic effects that can spuriously elevate the sensed $V_{CE}$ near the end of the blanking period.\n- To avoid false trips, the desat threshold must exceed the maximum normal $V_{CE}$ at the end of blanking by a safety margin $M$, that is,\n$$V_{CE,\\mathrm{desat}} \\geq V_{CE,\\mathrm{sat}}(I_{\\max},T) + V_{\\mathrm{ov}}(t_{b}) + M.$$\n\nGiven numerical data:\n- Short-circuit power: $P_{\\mathrm{SC}} = 2.0 \\times 10^{4}\\ \\mathrm{W}$.\n- Thermal impedance parameters: $R_{\\mathrm{th},\\infty} = 0.30\\ \\mathrm{K/W}$, $\\tau_{\\mathrm{th}} = 3.0 \\times 10^{-3}\\ \\mathrm{s}$.\n- Initial junction temperature: $T_{j0} = 75^\\circ\\mathrm{C}$, maximum allowable junction temperature: $T_{\\max} = 175^\\circ\\mathrm{C}$.\n- Comparator propagation delay: $t_{\\mathrm{cmp}} = 1.0\\ \\mu\\mathrm{s}$, gate discharge and current fall delay: $t_{\\mathrm{off}} = 3.0\\ \\mu\\mathrm{s}$.\n- Normal-operation saturation parameters at the relevant temperature: $V_{T} = 1.20\\ \\mathrm{V}$, $r_{\\mathrm{sat}} = 2.5 \\times 10^{-3}\\ \\Omega$, $I_{\\max} = 300\\ \\mathrm{A}$.\n- Residual overshoot model: $V_{0} = 8.0\\ \\mathrm{V}$, $\\tau_{s} = 2.0\\ \\mu\\mathrm{s}$.\n- False-trip safety margin: $M = 0.60\\ \\mathrm{V}$.\n\nTasks:\n1) Starting from the definitions above, derive an analytic expression for the maximum allowable detection completion time $t_{\\mathrm{det},\\max}$ (measured from the short-circuit inception to the instant the current has effectively commutated off) that guarantees $T_{j}(t) \\leq T_{\\max}$. Then express the maximum permissible blanking time $t_{b,\\max}$ in terms of $t_{\\mathrm{det},\\max}$, $t_{\\mathrm{cmp}}$, and $t_{\\mathrm{off}}$, and evaluate $t_{b,\\max}$ numerically using the given data.\n2) Derive an analytic expression for the minimum desat threshold $V_{CE,\\mathrm{desat,min}}(t_{b})$ that avoids false trips as a function of $t_{b}$, and evaluate it numerically at the computed $t_{b,\\max}$.\n3) Briefly explain, using your expressions, the trade-off between choosing a longer $t_{b}$ and the minimum feasible $V_{CE,\\mathrm{desat}}$.\n\nReport only the numerical value of $t_{b,\\max}$ in microseconds as your final answer. Round your answer to four significant figures. Express the final time in $\\mu\\mathrm{s}$.",
            "solution": "The problem is first validated to ensure it is scientifically grounded, well-posed, and objective.\n\n**Step 1: Extract Givens**\n- Transient junction temperature rise model: $\\Delta T_{j}(t) = P_{\\mathrm{SC}}\\, Z_{\\mathrm{th}}(t)$\n- Short-circuit power: $P_{\\mathrm{SC}} = 2.0 \\times 10^{4}\\ \\mathrm{W}$\n- Transient thermal impedance model: $Z_{\\mathrm{th}}(t) = R_{\\mathrm{th},\\infty}\\left(1 - \\exp(-t/\\tau_{\\mathrm{th}})\\right)$\n- Thermal impedance parameters: $R_{\\mathrm{th},\\infty} = 0.30\\ \\mathrm{K/W}$, $\\tau_{\\mathrm{th}} = 3.0 \\times 10^{-3}\\ \\mathrm{s}$\n- Desat detection timing components: blanking time $t_{b}$, comparator propagation delay $t_{\\mathrm{cmp}}$, gate discharge and current fall delay $t_{\\mathrm{off}}$\n- Total detection completion time (duration of short circuit): $t_{\\mathrm{det}} = t_b + t_{\\mathrm{cmp}} + t_{\\mathrm{off}}$\n- False-trip avoidance condition: $V_{CE,\\mathrm{desat}} \\geq V_{CE,\\mathrm{sat}}(I_{\\max},T) + V_{\\mathrm{ov}}(t_{b}) + M$\n- Normal-operation saturation voltage model: $V_{CE,\\mathrm{sat}}(I,T) = V_{T} + r_{\\mathrm{sat}}\\, I$\n- Residual transient overshoot model: $V_{\\mathrm{ov}}(t) = V_{0}\\,\\exp(-t/\\tau_{s})$\n- Initial junction temperature: $T_{j0} = 75^\\circ\\mathrm{C}$\n- Maximum allowable junction temperature: $T_{\\max} = 175^\\circ\\mathrm{C}$\n- Comparator propagation delay: $t_{\\mathrm{cmp}} = 1.0\\ \\mu\\mathrm{s} = 1.0 \\times 10^{-6}\\ \\mathrm{s}$\n- Gate discharge and current fall delay: $t_{\\mathrm{off}} = 3.0\\ \\mu\\mathrm{s} = 3.0 \\times 10^{-6}\\ \\mathrm{s}$\n- Normal-operation saturation parameters: $V_{T} = 1.20\\ \\mathrm{V}$, $r_{\\mathrm{sat}} = 2.5 \\times 10^{-3}\\ \\Omega$\n- Maximum normal current: $I_{\\max} = 300\\ \\mathrm{A}$\n- Residual overshoot model parameters: $V_{0} = 8.0\\ \\mathrm{V}$, $\\tau_{s} = 2.0\\ \\mu\\mathrm{s} = 2.0 \\times 10^{-6}\\ \\mathrm{s}$\n- False-trip safety margin: $M = 0.60\\ \\mathrm{V}$\n\n**Step 2: Validate Using Extracted Givens**\n- **Scientific Grounding**: The problem uses standard, first-order models for thermal impedance, junction temperature rise, and saturation voltage that are widely accepted and used in power electronics engineering. The description of desaturation protection is accurate.\n- **Well-Posedness**: All necessary parameters and models are provided to solve for the requested quantities. The tasks are clearly defined and lead to a unique, stable solution.\n- **Objectivity**: The problem is stated in precise, quantitative terms, free of subjective or ambiguous language.\n- **Consistency and Realism**: The provided data values are physically realistic for a high-power IGBT module. The units are consistent. There are no internal contradictions.\n\n**Step 3: Verdict and Action**\nThe problem is deemed valid. A full solution will be provided.\n\n**Task 1: Maximum Permissible Blanking Time, $t_{b,\\max}$**\n\nThe thermal safety of the Insulated Gate Bipolar Transistor (IGBT) is ensured if its junction temperature $T_j$ does not exceed the maximum allowable temperature $T_{\\max}$ during a short-circuit event. The duration of the event, from inception to current commutation, is the detection completion time $t_{\\mathrm{det}}$. The junction temperature at time $t$ is given by $T_j(t) = T_{j0} + \\Delta T_j(t)$, where $T_{j0}$ is the initial temperature.\nThe thermal limit is expressed as:\n$$T_j(t_{\\mathrm{det}}) \\leq T_{\\max}$$\nThe maximum allowable detection time $t_{\\mathrm{det},\\max}$ corresponds to the case where the temperature reaches exactly $T_{\\max}$:\n$$T_{j0} + \\Delta T_j(t_{\\mathrm{det},\\max}) = T_{\\max}$$\nUsing the given model for temperature rise, $\\Delta T_j(t) = P_{\\mathrm{SC}} Z_{\\mathrm{th}}(t)$, we have:\n$$T_{j0} + P_{\\mathrm{SC}} Z_{\\mathrm{th}}(t_{\\mathrm{det},\\max}) = T_{\\max}$$\nWe can solve for the transient thermal impedance at this time:\n$$Z_{\\mathrm{th}}(t_{\\mathrm{det},\\max}) = \\frac{T_{\\max} - T_{j0}}{P_{\\mathrm{SC}}}$$\nNow, we substitute the expression for $Z_{\\mathrm{th}}(t)$:\n$$R_{\\mathrm{th},\\infty}\\left(1 - \\exp\\left(-\\frac{t_{\\mathrm{det},\\max}}{\\tau_{\\mathrm{th}}}\\right)\\right) = \\frac{T_{\\max} - T_{j0}}{P_{\\mathrm{SC}}}$$\nThis equation is solved for $t_{\\mathrm{det},\\max}$:\n$$1 - \\exp\\left(-\\frac{t_{\\mathrm{det},\\max}}{\\tau_{\\mathrm{th}}}\\right) = \\frac{T_{\\max} - T_{j0}}{P_{\\mathrm{SC}} R_{\\mathrm{th},\\infty}}$$\n$$\\exp\\left(-\\frac{t_{\\mathrm{det},\\max}}{\\tau_{\\mathrm{th}}}\\right) = 1 - \\frac{T_{\\max} - T_{j0}}{P_{\\mathrm{SC}} R_{\\mathrm{th},\\infty}}$$\n$$-\\frac{t_{\\mathrm{det},\\max}}{\\tau_{\\mathrm{th}}} = \\ln\\left(1 - \\frac{T_{\\max} - T_{j0}}{P_{\\mathrm{SC}} R_{\\mathrm{th},\\infty}}\\right)$$\nThe analytic expression for the maximum allowable detection completion time is:\n$$t_{\\mathrm{det},\\max} = -\\tau_{\\mathrm{th}} \\ln\\left(1 - \\frac{T_{\\max} - T_{j0}}{P_{\\mathrm{SC}} R_{\\mathrm{th},\\infty}}\\right)$$\nThe total time $t_{\\mathrm{det}}$ is the sum of the blanking time $t_b$, the comparator propagation delay $t_{\\mathrm{cmp}}$, and the turn-off delay $t_{\\mathrm{off}}$: $t_{\\mathrm{det}} = t_b + t_{\\mathrm{cmp}} + t_{\\mathrm{off}}$.\nTherefore, the maximum permissible blanking time $t_{b,\\max}$ is:\n$$t_{b,\\max} = t_{\\mathrm{det},\\max} - t_{\\mathrm{cmp}} - t_{\\mathrm{off}}$$\nWe now substitute the given numerical values. The maximum temperature rise is $\\Delta T_{\\max} = T_{\\max} - T_{j0} = 175^\\circ\\mathrm{C} - 75^\\circ\\mathrm{C} = 100\\,\\mathrm{K}$.\n$$t_{\\mathrm{det},\\max} = -(3.0 \\times 10^{-3}) \\ln\\left(1 - \\frac{100}{(2.0 \\times 10^{4})(0.30)}\\right)$$\n$$t_{\\mathrm{det},\\max} = -(3.0 \\times 10^{-3}) \\ln\\left(1 - \\frac{100}{6000}\\right) = -(3.0 \\times 10^{-3}) \\ln\\left(\\frac{59}{60}\\right)$$\n$$t_{\\mathrm{det},\\max} \\approx -(3.0 \\times 10^{-3})(-0.0168065) \\approx 5.04195 \\times 10^{-5}\\ \\mathrm{s} = 50.4195\\ \\mu\\mathrm{s}$$\nNow we calculate the maximum blanking time:\n$$t_{b,\\max} = 50.4195\\ \\mu\\mathrm{s} - t_{\\mathrm{cmp}} - t_{\\mathrm{off}} = 50.4195\\ \\mu\\mathrm{s} - 1.0\\ \\mu\\mathrm{s} - 3.0\\ \\mu\\mathrm{s}$$\n$$t_{b,\\max} = 46.4195\\ \\mu\\mathrm{s}$$\nRounding to four significant figures, we get $t_{b,\\max} = 46.42\\ \\mu\\mathrm{s}$.\n\n**Task 2: Minimum Desaturation Threshold, $V_{CE,\\mathrm{desat,min}}(t_b)$**\n\nThe condition to avoid false trips requires the desaturation threshold $V_{CE,\\mathrm{desat}}$ to be greater than the sum of the maximum normal-operation saturation voltage, the residual voltage overshoot at the end of the blanking time, and a safety margin $M$. The minimum threshold corresponds to the equality:\n$$V_{CE,\\mathrm{desat,min}}(t_b) = V_{CE,\\mathrm{sat}}(I_{\\max},T) + V_{\\mathrm{ov}}(t_{b}) + M$$\nSubstituting the given models for $V_{CE,\\mathrm{sat}}$ and $V_{\\mathrm{ov}}$ yields the analytic expression for the minimum threshold as a function of the blanking time $t_b$:\n$$V_{CE,\\mathrm{desat,min}}(t_b) = (V_{T} + r_{\\mathrm{sat}} I_{\\max}) + V_{0} \\exp\\left(-\\frac{t_b}{\\tau_s}\\right) + M$$\nWe evaluate this expression at $t_b = t_{b,\\max} = 46.4195 \\times 10^{-6}\\ \\mathrm{s}$.\nFirst, calculate the normal saturation voltage:\n$$V_{CE,\\mathrm{sat}}(I_{\\max},T) = 1.20\\ \\mathrm{V} + (2.5 \\times 10^{-3}\\ \\Omega)(300\\ \\mathrm{A}) = 1.20\\ \\mathrm{V} + 0.75\\ \\mathrm{V} = 1.95\\ \\mathrm{V}$$\nNext, calculate the residual overshoot at $t_{b,\\max}$:\n$$V_{\\mathrm{ov}}(t_{b,\\max}) = (8.0\\ \\mathrm{V}) \\exp\\left(-\\frac{46.4195 \\times 10^{-6}\\ \\mathrm{s}}{2.0 \\times 10^{-6}\\ \\mathrm{s}}\\right) = (8.0\\ \\mathrm{V}) \\exp(-23.20975) \\approx 6.66 \\times 10^{-10}\\ \\mathrm{V}$$\nThis overshoot is negligible at $t_{b,\\max}$.\nThe minimum desat threshold is therefore:\n$$V_{CE,\\mathrm{desat,min}}(t_{b,\\max}) \\approx 1.95\\ \\mathrm{V} + 0\\ \\mathrm{V} + 0.60\\ \\mathrm{V} = 2.55\\ \\mathrm{V}$$\n\n**Task 3: Trade-off Explanation**\n\nThe choice of the blanking time $t_b$ involves a fundamental trade-off between protection speed (thermal safety) and noise immunity (avoidance of false trips).\nThe relationship for the minimum desat threshold is $V_{CE,\\mathrm{desat,min}}(t_b) = (V_{T} + r_{\\mathrm{sat}} I_{\\max} + M) + V_{0} \\exp(-t_b/\\tau_s)$. The term $V_{0} \\exp(-t_b/\\tau_s)$ is a monotonically decreasing function of $t_b$.\n1.  **Longer $t_b$**: A longer blanking time allows the initial turn-on voltage overshoot $V_{\\mathrm{ov}}(t)$ to decay significantly. This reduces the required $V_{CE,\\mathrm{desat,min}}$ needed to avoid a false trip. A lower threshold provides better noise immunity and makes it easier to distinguish between normal operation and a true fault. However, a longer $t_b$ increases the total short-circuit duration $t_{\\mathrm{det}} = t_b + t_{\\mathrm{cmp}} + t_{\\mathrm{off}}$, leading to a higher peak junction temperature and increased thermal stress on the device.\n2.  **Shorter $t_b$**: A shorter blanking time initiates the protection sequence faster, reducing the total fault duration $t_{\\mathrm{det}}$ and limiting the peak junction temperature. This enhances device safety. However, with a short $t_b$, the voltage overshoot $V_{\\mathrm{ov}}(t_b)$ may still be large, forcing the use of a higher desat threshold $V_{CE,\\mathrm{desat,min}}$ to prevent false trips. A high threshold may reduce the sensitivity of the protection circuit, potentially failing to detect certain high-resistance short-circuit faults.\nIn summary, the design of $t_b$ is a compromise: it must be long enough to ride through normal switching transients but short enough to protect the IGBT from thermal failure during a hard short-circuit, as bounded by the calculated $t_{b,\\max}$.",
            "answer": "$$\\boxed{46.42}$$"
        },
        {
            "introduction": "Effective condition monitoring often involves tracking the degradation of passive components, such as the aging of DC-link capacitors, which is strongly correlated with an increase in their Equivalent Series Resistance (ESR). This exercise simulates a real-world monitoring scenario where raw electrical measurements must be corrected for environmental factors to yield a reliable health indicator. You will first calculate the capacitor's ESR from ripple voltage and current measurements at a specific operating temperature, and then apply a standard temperature compensation model to normalize the result, a crucial step in distinguishing long-term degradation from short-term thermal effects .",
            "id": "3828247",
            "problem": "A three-phase two-level voltage source inverter (VSI) uses a direct current (DC) link electrolytic capacitor bank for intermediate energy storage. Online condition monitoring is implemented by measuring the ripple current through the DC-link and the in-phase component of the corresponding ripple voltage at the switching frequency, using synchronous demodulation to reject reactive contributions. The capacitor manufacturer provides the temperature dependence of the equivalent series resistance (ESR) as an exponential law with respect to the capacitor case temperature: $$ESR(T)=ESR(T_{\\mathrm{ref}})\\,\\exp\\!\\big(\\alpha\\,(T-T_{\\mathrm{ref}})\\big),$$ where $T$ is the case temperature in degrees Celsius, $T_{\\mathrm{ref}}$ is a chosen reference temperature in degrees Celsius, and $\\alpha$ is a constant coefficient in inverse degrees Celsius.\n\nDuring a steady operating interval in which the ambient temperature has drifted upward from its nominal laboratory value, the following measurements are recorded:\n- Root-mean-square (RMS) ripple current amplitude at the switching frequency: $I_{\\mathrm{r}}=8.00$ A.\n- RMS in-phase ripple voltage amplitude at the capacitor terminals (relative to the ripple current): $V_{\\mathrm{r,IP}}=0.0960$ V.\n- Capacitor case temperature measured by a bonded thermistor: $T_{\\mathrm{case}}=55.0$ degrees Celsius.\n\nAssume that the stray inductance and measurement leads are negligible at the switching frequency, the demodulation perfectly rejects quadrature (reactive) components, and the manufacturer’s $ESR(T)$ curve is specified versus case temperature. The reference temperature is $T_{\\mathrm{ref}}=25.0$ degrees Celsius and the coefficient is $\\alpha=-0.0200$ inverse degrees Celsius. Using first principles (Ohm’s law in the frequency domain and the given temperature law), derive a compensation that maps the measured ESR at $T_{\\mathrm{case}}$ to an estimate referenced to $T_{\\mathrm{ref}}$, and then compute the compensated ESR value at $T_{\\mathrm{ref}}$.\n\nExpress the final compensated ESR in milliohms and round your answer to four significant figures.",
            "solution": "The problem is first validated against the specified criteria.\n\n### Step 1: Extract Givens\n- The device is a three-phase two-level voltage source inverter (VSI) with a DC-link electrolytic capacitor bank.\n- The condition monitoring technique involves measuring ripple current and the in-phase component of the ripple voltage at the switching frequency.\n- The temperature dependence of the equivalent series resistance (ESR) is given by the formula: $ESR(T)=ESR(T_{\\mathrm{ref}})\\,\\exp\\!\\big(\\alpha\\,(T-T_{\\mathrm{ref}})\\big)$.\n- $T$ is the capacitor case temperature in degrees Celsius ($^\\circ\\text{C}$).\n- $T_{\\mathrm{ref}}$ is a reference temperature in degrees Celsius ($^\\circ\\text{C}$).\n- $\\alpha$ is a constant coefficient in inverse degrees Celsius ($(^\\circ\\text{C})^{-1}$).\n- Measured RMS ripple current amplitude: $I_{\\mathrm{r}}=8.00$ A.\n- Measured RMS in-phase ripple voltage amplitude: $V_{\\mathrm{r,IP}}=0.0960$ V.\n- Measured capacitor case temperature: $T_{\\mathrm{case}}=55.0$ $^\\circ\\text{C}$.\n- Reference temperature value: $T_{\\mathrm{ref}}=25.0$ $^\\circ\\text{C}$.\n- Coefficient value: $\\alpha=-0.0200$ $(^\\circ\\text{C})^{-1}$.\n- Assumptions: Stray inductance and measurement leads are negligible; synchronous demodulation perfectly rejects quadrature components; the manufacturer's ESR curve is specified versus case temperature.\n- Objective: Derive a compensation to map the measured ESR to an estimate at $T_{\\mathrm{ref}}$, and then compute this compensated value in milliohms, rounded to four significant figures.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded, well-posed, and objective.\n1.  **Scientific Soundness**: The problem statement is based on fundamental principles of electrical engineering. The use of Ohm's law in the frequency domain ($V = IZ$) to relate voltage, current, and impedance is a cornerstone of AC circuit analysis. The model of a capacitor as an ideal capacitance in series with an equivalent series resistance (ESR) is standard. The exponential law for the temperature dependence of ESR is a common empirical model for such components. The values provided for current, voltage, temperature, and the coefficient $\\alpha$ are physically realistic for a power electronics application. The negative sign for $\\alpha$ correctly reflects that for electrolytic capacitors, ESR typically decreases as temperature increases.\n2.  **Well-Posedness**: The problem is fully specified. It provides all necessary numerical values and a clear mathematical relationship between the variables. The goal is unambiguously stated. There are no contradictions in the provided data or assumptions. A unique solution can be determined.\n3.  **Objectivity**: The problem is stated in precise, quantitative, and unbiased language.\n\n### Step 3: Verdict and Action\nThe problem is valid. A complete solution will be provided.\n\nThe objective is to determine the Equivalent Series Resistance (ESR) of the capacitor, compensated to the reference temperature $T_{\\mathrm{ref}}$. The solution proceeds in two steps: first, calculating the ESR at the measured operating temperature $T_{\\mathrm{case}}$, and second, using the provided temperature-dependence law to find the corresponding ESR at $T_{\\mathrm{ref}}$.\n\nFirst, we calculate the ESR from the measured electrical quantities. The impedance of the capacitor at the switching frequency can be modeled as a complex number $Z = ESR + jX_C$, where $X_C$ is the capacitive reactance. According to Ohm's law in the frequency domain, the phasor voltage $\\tilde{V}_{\\mathrm{r}}$ across the capacitor is related to the phasor current $\\tilde{I}_{\\mathrm{r}}$ by $\\tilde{V}_{\\mathrm{r}} = Z \\tilde{I}_{\\mathrm{r}}$. Expanding this gives:\n$$ \\tilde{V}_{\\mathrm{r}} = (ESR + jX_C) \\tilde{I}_{\\mathrm{r}} = ESR \\cdot \\tilde{I}_{\\mathrm{r}} + jX_C \\cdot \\tilde{I}_{\\mathrm{r}} $$\nThe term $ESR \\cdot \\tilde{I}_{\\mathrm{r}}$ represents the component of the voltage that is in phase with the current, while the term $jX_C \\cdot \\tilde{I}_{\\mathrm{r}}$ is the component that is in quadrature (phase-shifted by $90^\\circ$). The problem states that the measurement system uses synchronous demodulation to isolate the in-phase component of the ripple voltage, $V_{\\mathrm{r,IP}}$. This value corresponds to the magnitude of the voltage drop across the resistive part of the impedance. Therefore, the relationship between the RMS amplitudes is given by Ohm's law applied to the resistive component:\n$$ V_{\\mathrm{r,IP}} = ESR(T_{\\mathrm{case}}) \\cdot I_{\\mathrm{r}} $$\nHere, $ESR(T_{\\mathrm{case}})$ is the ESR value at the measured case temperature $T_{\\mathrm{case}}$. We can solve for this value:\n$$ ESR(T_{\\mathrm{case}}) = \\frac{V_{\\mathrm{r,IP}}}{I_{\\mathrm{r}}} $$\nSubstituting the given measurement values, $V_{\\mathrm{r,IP}} = 0.0960$ V and $I_{\\mathrm{r}} = 8.00$ A:\n$$ ESR(T_{\\mathrm{case}}) = \\frac{0.0960}{8.00} = 0.0120 \\, \\Omega $$\n\nNext, we use the manufacturer's given temperature-dependence law to compensate this measured value to the reference temperature $T_{\\mathrm{ref}}$. The law is:\n$$ ESR(T)=ESR(T_{\\mathrm{ref}})\\,\\exp\\!\\big(\\alpha\\,(T-T_{\\mathrm{ref}})\\big) $$\nWe have determined $ESR(T_{\\mathrm{case}})$ and wish to find $ESR(T_{\\mathrm{ref}})$. We can set $T = T_{\\mathrm{case}}$ in the equation:\n$$ ESR(T_{\\mathrm{case}}) = ESR(T_{\\mathrm{ref}})\\,\\exp\\!\\big(\\alpha\\,(T_{\\mathrm{case}}-T_{\\mathrm{ref}})\\big) $$\nThis equation represents the compensation that maps the measured ESR at $T_{\\mathrm{case}}$ to an estimate referenced to $T_{\\mathrm{ref}}$. To find the compensated value, we rearrange this expression to solve for $ESR(T_{\\mathrm{ref}})$:\n$$ ESR(T_{\\mathrm{ref}}) = ESR(T_{\\mathrm{case}}) \\cdot \\exp\\!\\big(-\\alpha\\,(T_{\\mathrm{case}}-T_{\\mathrm{ref}})\\big) $$\nNow, we substitute the known values into this expression: $ESR(T_{\\mathrm{case}}) = 0.0120 \\, \\Omega$, $T_{\\mathrm{case}}=55.0$ $^\\circ\\text{C}$, $T_{\\mathrm{ref}}=25.0$ $^\\circ\\text{C}$, and $\\alpha=-0.0200$ $(^\\circ\\text{C})^{-1}$.\nThe temperature difference is:\n$$ T_{\\mathrm{case}}-T_{\\mathrm{ref}} = 55.0 - 25.0 = 30.0 \\, ^\\circ\\text{C} $$\nSubstituting this into the exponent:\n$$ -\\alpha\\,(T_{\\mathrm{case}}-T_{\\mathrm{ref}}) = -(-0.0200) \\cdot (30.0) = 0.600 $$\nNow, we compute the compensated ESR:\n$$ ESR(T_{\\mathrm{ref}}) = 0.0120 \\cdot \\exp(0.600) $$\nUsing the value of the exponential function, $\\exp(0.600) \\approx 1.8221188...$:\n$$ ESR(T_{\\mathrm{ref}}) \\approx 0.0120 \\cdot 1.8221188 = 0.0218654256 \\, \\Omega $$\nThe problem requires the final answer to be expressed in milliohms (m$\\Omega$) and rounded to four significant figures.\n$$ 1 \\, \\Omega = 1000 \\, \\text{m}\\Omega $$\n$$ ESR(T_{\\mathrm{ref}}) \\approx 0.0218654256 \\times 1000 = 21.8654256 \\, \\text{m}\\Omega $$\nRounding to four significant figures gives $21.87$ m$\\Omega$.",
            "answer": "$$\n\\boxed{21.87}\n$$"
        },
        {
            "introduction": "Advanced fault diagnosis techniques often employ model-based approaches, where a mathematical model of the power converter is used to predict its behavior, and faults are detected by observing deviations between the model's prediction and the actual system's output. This problem guides you through the design and analysis of a Luenberger observer, a classic state-estimator used for this purpose. You will apply pole placement techniques to design the observer for a DC-DC buck converter and then quantify its sensitivity to a switch fault, providing hands-on experience with the principles of observer-based diagnosis in a state-space framework .",
            "id": "3828319",
            "problem": "Consider a pulse width modulation (PWM) Direct Current to Direct Current (DC-DC) buck converter operating in continuous conduction mode, linearized about a steady operating point with duty ratio $D^{\\star}$. Let the small-signal state be $x(t) = \\begin{pmatrix} i_{L}(t) \\\\ v_{C}(t) \\end{pmatrix}$, the small-signal control input be the duty perturbation $u(t)$, and the measured output be $y(t) = v_{C}(t)$. Assume the averaged small-signal linear model derived from Kirchhoff’s Voltage Law and Kirchhoff’s Current Law is\n$$\n\\dot{x}(t) = A x(t) + B u(t), \\quad y(t) = C x(t),\n$$\nwith\n$$\nA = \\begin{pmatrix} 0 & -\\frac{1}{L} \\\\ \\frac{1}{C} & -\\frac{1}{R C} \\end{pmatrix}, \\quad B = \\begin{pmatrix} \\frac{V_{g}}{L} \\\\ 0 \\end{pmatrix}, \\quad C = \\begin{pmatrix} 0 & 1 \\end{pmatrix},\n$$\nwhere $L$ is the inductance, $C$ is the capacitance, $R$ is the load resistance, $V_{g}$ is the input voltage, and $V_{o}$ is the steady output voltage at $D^{\\star}$. A Luenberger observer is defined by\n$$\n\\dot{\\hat{x}}(t) = A \\hat{x}(t) + B u(t) + L \\big(y(t) - \\hat{y}(t)\\big), \\quad \\hat{y}(t) = C \\hat{x}(t),\n$$\nwhere $L \\in \\mathbb{R}^{2 \\times 1}$ is the observer gain to be designed.\n\nSuppose an open-circuit fault in the main switch manifests as an additive small-signal fault input $f(t)$ in the duty channel, so that the actual plant is\n$$\n\\dot{x}(t) = A x(t) + B u(t) + E f(t), \\quad \\text{with } E = B.\n$$\nDefine the residual as $r(t) = y(t) - \\hat{y}(t)$.\n\nUsing only fundamental laws and definitions as the starting point, carry out the following:\n\n- Derive the observer error dynamics and the residual dynamics, and express the transfer from the fault $f(t)$ to the residual $r(t)$ in the Laplace domain.\n- State the condition under which the residual is sensitive to the open-circuit fault in terms of the system matrices and the observer design.\n- For the specific numerical case with $L = 10\\,\\mathrm{mH}$, $C = 1\\,\\mathrm{mF}$, $R = 10\\,\\Omega$, $V_{g} = 20\\,\\mathrm{V}$, $D^{\\star} = 0.5$, and $V_{o} = D^{\\star} V_{g}$, design $L$ so that the eigenvalues of $A - L C$ are placed at $-500\\,\\mathrm{rad/s}$ and $-600\\,\\mathrm{rad/s}$. Then compute the zero-frequency (direct current) gain from the fault input $f$ to the residual $r$, namely\n$$\nH_{0} = - C \\big(A - L C\\big)^{-1} E,\n$$\nas a dimensionless scalar.\n\nYour final answer must be the single value of $H_{0}$. If you choose to approximate, round your answer to four significant figures. Otherwise, you may provide an exact fractional form. Express the final sensitivity as a dimensionless quantity.",
            "solution": "The problem is validated as scientifically grounded, well-posed, and objective. It presents a standard control and estimation problem in power electronics, for which a unique solution can be derived using established principles.\n\nThe solution is structured into three parts as requested: derivation of the residual dynamics and transfer function, statement of the fault sensitivity condition, and numerical calculation of the observer gain and the DC fault-to-residual gain.\n\nFor clarity, the inductance and capacitance components will be denoted as $L_{comp}$ and $C_{comp}$, respectively, to distinguish them from the observer gain matrix $L$ and the output matrix $C$.\n\n**Part 1: Derivation of Observer Error and Residual Dynamics**\n\nThe state-space model of the buck converter with an additive fault $f(t)$ is given by:\n$$\n\\dot{x}(t) = A x(t) + B u(t) + E f(t)\n$$\n$$\ny(t) = C x(t)\n$$\nThe Luenberger observer is described by:\n$$\n\\dot{\\hat{x}}(t) = A \\hat{x}(t) + B u(t) + L \\big(y(t) - \\hat{y}(t)\\big)\n$$\n$$\n\\hat{y}(t) = C \\hat{x}(t)\n$$\nThe observer error is defined as $e(t) = x(t) - \\hat{x}(t)$. To find the error dynamics, we differentiate $e(t)$ with respect to time:\n$$\n\\dot{e}(t) = \\dot{x}(t) - \\dot{\\hat{x}}(t)\n$$\nSubstitute the expressions for $\\dot{x}(t)$ and $\\dot{\\hat{x}}(t)$:\n$$\n\\dot{e}(t) = \\big(A x(t) + B u(t) + E f(t)\\big) - \\Big(A \\hat{x}(t) + B u(t) + L \\big(y(t) - \\hat{y}(t)\\big)\\Big)\n$$\nUsing $y(t) = C x(t)$ and $\\hat{y}(t) = C \\hat{x}(t)$, the term $L(y(t) - \\hat{y}(t))$ becomes $L(C x(t) - C \\hat{x}(t)) = L C (x(t) - \\hat{x}(t)) = L C e(t)$.\n$$\n\\dot{e}(t) = A x(t) + B u(t) + E f(t) - A \\hat{x}(t) - B u(t) - L C e(t)\n$$\nThe terms $B u(t)$ cancel out. Grouping terms with $x(t)$ and $\\hat{x}(t)$:\n$$\n\\dot{e}(t) = A \\big(x(t) - \\hat{x}(t)\\big) - L C e(t) + E f(t)\n$$\nSubstituting $e(t) = x(t) - \\hat{x}(t)$, we obtain the observer error dynamics:\n$$\n\\dot{e}(t) = (A - L C) e(t) + E f(t)\n$$\nThe residual $r(t)$ is defined as $r(t) = y(t) - \\hat{y}(t)$. Substituting the output equations:\n$$\nr(t) = C x(t) - C \\hat{x}(t) = C \\big(x(t) - \\hat{x}(t)\\big) = C e(t)\n$$\nThis gives the residual dynamics in terms of the error state.\n\nTo find the transfer function from the fault $f(t)$ to the residual $r(t)$, we apply the Laplace transform to the error dynamics and the residual equation, assuming zero initial conditions. Let $E(s)$, $F(s)$, and $R(s)$ be the Laplace transforms of $e(t)$, $f(t)$, and $r(t)$, respectively.\n$$\ns E(s) = (A - L C) E(s) + E F(s)\n$$\n$$\nR(s) = C E(s)\n$$\nRearranging the first equation to solve for $E(s)$:\n$$\ns I E(s) - (A - L C) E(s) = E F(s)\n$$\n$$\n\\big(s I - A + L C\\big) E(s) = E F(s)\n$$\n$$\nE(s) = \\big(s I - A + L C\\big)^{-1} E F(s)\n$$\nNow, substitute this expression for $E(s)$ into the transformed residual equation:\n$$\nR(s) = C \\big(s I - A + L C\\big)^{-1} E F(s)\n$$\nThe transfer function $H_{rf}(s)$ from the fault input $f(t)$ to the residual output $r(t)$ is therefore:\n$$\nH_{rf}(s) = \\frac{R(s)}{F(s)} = C \\big(s I - A + L C\\big)^{-1} E\n$$\n\n**Part 2: Condition for Fault Sensitivity**\n\nThe residual $r(t)$ is sensitive to the fault $f(t)$ if and only if a change in $f(t)$ produces a non-zero response in $r(t)$. This is equivalent to the condition that the transfer function $H_{rf}(s)$ is not identically zero.\nIn terms of the system matrices ($A$, $C$, $E$) and the observer design (gain matrix $L$), the condition for the residual to be sensitive to the fault is:\n$$\nH_{rf}(s) = C \\big(s I - A + L C\\big)^{-1} E \\not\\equiv 0\n$$\nThis condition ensures that the fault's influence, represented by the input matrix $E$, is propagated through the observer's error dynamics $(A - L C)$ to the residual, which is observed via the output matrix $C$.\n\n**Part 3: Numerical Design and Calculation**\n\nThe given parameter values are:\n- Inductance $L_{comp} = 10 \\times 10^{-3}\\,\\mathrm{H}$\n- Capacitance $C_{comp} = 1 \\times 10^{-3}\\,\\mathrm{F}$\n- Resistance $R = 10\\,\\Omega$\n- Input Voltage $V_{g} = 20\\,\\mathrm{V}$\n- Steady-state duty ratio $D^{\\star} = 0.5$\n\nThe steady-state output voltage is $V_{o} = D^{\\star} V_{g} = 0.5 \\times 20\\,\\mathrm{V} = 10\\,\\mathrm{V}$.\n\nFirst, we populate the system matrices $A$, $B$, $C$, and $E$:\n$$\nA = \\begin{pmatrix} 0 & -\\frac{1}{L_{comp}} \\\\ \\frac{1}{C_{comp}} & -\\frac{1}{R C_{comp}} \\end{pmatrix} = \\begin{pmatrix} 0 & -\\frac{1}{0.01} \\\\ \\frac{1}{0.001} & -\\frac{1}{10 \\cdot 0.001} \\end{pmatrix} = \\begin{pmatrix} 0 & -100 \\\\ 1000 & -100 \\end{pmatrix}\n$$\n$$\nB = \\begin{pmatrix} \\frac{V_{g}}{L_{comp}} \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\frac{20}{0.01} \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} 2000 \\\\ 0 \\end{pmatrix}\n$$\nThe fault input matrix is $E = B = \\begin{pmatrix} 2000 \\\\ 0 \\end{pmatrix}$.\nThe output matrix is $C = \\begin{pmatrix} 0 & 1 \\end{pmatrix}$.\n\nNext, we design the observer gain $L = \\begin{pmatrix} l_1 \\\\ l_2 \\end{pmatrix}$ to place the eigenvalues of the observer error dynamics matrix, $A_{cl} = A - L C$, at $\\lambda_1 = -500$ and $\\lambda_2 = -600$.\n$$\nA - L C = \\begin{pmatrix} 0 & -100 \\\\ 1000 & -100 \\end{pmatrix} - \\begin{pmatrix} l_1 \\\\ l_2 \\end{pmatrix} \\begin{pmatrix} 0 & 1 \\end{pmatrix} = \\begin{pmatrix} 0 & -100 \\\\ 1000 & -100 \\end{pmatrix} - \\begin{pmatrix} 0 & l_1 \\\\ 0 & l_2 \\end{pmatrix} = \\begin{pmatrix} 0 & -100 - l_1 \\\\ 1000 & -100 - l_2 \\end{pmatrix}\n$$\nThe desired characteristic polynomial is:\n$$\np_{des}(s) = (s - \\lambda_1)(s - \\lambda_2) = (s - (-500))(s - (-600)) = (s+500)(s+600) = s^2 + 1100s + 300000\n$$\nThe actual characteristic polynomial of $A - L C$ is $\\det(sI - (A - L C))$:\n$$\n\\det \\begin{pmatrix} s & 100 + l_1 \\\\ -1000 & s + 100 + l_2 \\end{pmatrix} = s(s + 100 + l_2) + 1000(100 + l_1) = s^2 + (100 + l_2)s + 100000 + 1000l_1\n$$\nEquating the coefficients of the actual and desired polynomials:\n$$\ns^1: \\quad 100 + l_2 = 1100 \\quad \\implies \\quad l_2 = 1000\n$$\n$$\ns^0: \\quad 100000 + 1000l_1 = 300000 \\quad \\implies \\quad 1000 l_1 = 200000 \\quad \\implies \\quad l_1 = 200\n$$\nThus, the required observer gain is $L = \\begin{pmatrix} 200 \\\\ 1000 \\end{pmatrix}$.\n\nFinally, we compute the zero-frequency (DC) gain $H_{0} = -C(A-LC)^{-1}E$.\nThe matrix $A-LC$ with the calculated gain is:\n$$\nA - L C = \\begin{pmatrix} 0 & -100 - 200 \\\\ 1000 & -100 - 1000 \\end{pmatrix} = \\begin{pmatrix} 0 & -300 \\\\ 1000 & -1100 \\end{pmatrix}\n$$\nThe determinant of this matrix is $\\det(A-LC) = (0)(-1100) - (-300)(1000) = 300000$.\nThe inverse is:\n$$\n(A - L C)^{-1} = \\frac{1}{\\det(A-LC)} \\begin{pmatrix} -1100 & 300 \\\\ -1000 & 0 \\end{pmatrix} = \\frac{1}{300000} \\begin{pmatrix} -1100 & 300 \\\\ -1000 & 0 \\end{pmatrix}\n$$\nNow we compute the full expression for $H_0$:\n$$\nH_0 = - C (A - L C)^{-1} E = - \\begin{pmatrix} 0 & 1 \\end{pmatrix} \\left( \\frac{1}{300000} \\begin{pmatrix} -1100 & 300 \\\\ -1000 & 0 \\end{pmatrix} \\right) \\begin{pmatrix} 2000 \\\\ 0 \\end{pmatrix}\n$$\nFirst, multiply $C$ with the inverse matrix:\n$$\nC(A-LC)^{-1} = \\frac{1}{300000} \\begin{pmatrix} 0 & 1 \\end{pmatrix} \\begin{pmatrix} -1100 & 300 \\\\ -1000 & 0 \\end{pmatrix} = \\frac{1}{300000} \\begin{pmatrix} -1000 & 0 \\end{pmatrix}\n$$\nNext, multiply this result by $E$:\n$$\nC(A-LC)^{-1}E = \\frac{1}{300000} \\begin{pmatrix} -1000 & 0 \\end{pmatrix} \\begin{pmatrix} 2000 \\\\ 0 \\end{pmatrix} = \\frac{(-1000)(2000) + (0)(0)}{300000}\n$$\n$$\nC(A-LC)^{-1}E = \\frac{-2000000}{300000} = -\\frac{20}{3}\n$$\nFinally, compute $H_0$:\n$$\nH_0 = - \\left(-\\frac{20}{3}\\right) = \\frac{20}{3}\n$$\nThis is a dimensionless quantity as required, representing the ratio of the steady-state residual (a voltage) to a steady-state fault in the duty ratio (dimensionless).",
            "answer": "$$\\boxed{\\frac{20}{3}}$$"
        }
    ]
}