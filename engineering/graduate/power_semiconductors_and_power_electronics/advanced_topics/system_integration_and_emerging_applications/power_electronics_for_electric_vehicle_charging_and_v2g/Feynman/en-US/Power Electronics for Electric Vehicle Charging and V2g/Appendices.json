{
    "hands_on_practices": [
        {
            "introduction": "The Constant-Current Constant-Voltage (CC-CV) protocol is the cornerstone of charging modern lithium-ion batteries, balancing charging speed with safety and longevity. This practice guides you through a complete analysis of a CC-CV charging cycle from first principles. By modeling the battery with a simple yet effective equivalent circuit, you will calculate the time spent in each phase and determine the total charge time, providing a tangible link between the battery's electrical characteristics and a key performance metric .",
            "id": "3868956",
            "problem": "An Electric Vehicle (EV) battery pack of rated energy $75\\,\\mathrm{kWh}$ is charged from $20\\%$ to $80\\%$ State of Charge (SOC) using a Constant-Current Constant-Voltage (CC-CV) profile. The direct current (DC) charging station is modeled as an ideal current source up to a terminal voltage limit, and an ideal voltage source thereafter, with constant conversion efficiency and negligible Peukert effect (capacity independent of current). The battery pack is modeled by an open-circuit voltage (OCV) that is an affine function of SOC and a constant series resistance. Specifically, the pack open-circuit voltage is\n$$\nV_{\\mathrm{oc}}(s) = 300 + 120\\,s \\quad \\text{volts},\n$$\nfor $s \\in [0,1]$, where $s$ is the SOC expressed as a fraction. The pack series resistance is\n$$\nR = 0.05\\,\\Omega.\n$$\nThe charger operates in constant-current mode at\n$$\nI_{\\mathrm{CC}} = 250\\,\\mathrm{A}\n$$\nuntil the pack terminal voltage reaches the constant-voltage limit\n$$\nV_{\\mathrm{CV}} = 400\\,\\mathrm{V},\n$$\nand then holds the terminal voltage at $V_{\\mathrm{CV}}$ while the current tapers according to the pack model. Assume constant Coulombic efficiency equal to unity and that the rated energy $75\\,\\mathrm{kWh}$ corresponds to the integral of $V_{\\mathrm{oc}}(s)$ over the full charge, so that the total charge capacity $Q_{\\max}$ satisfies the energy relation $E_{\\mathrm{full}} = \\int_{0}^{Q_{\\max}} V_{\\mathrm{oc}}\\!\\left(\\frac{q}{Q_{\\max}}\\right)\\,\\mathrm{d}q$.\n\nStarting from first principles including Kirchhoff’s Voltage Law, the definition of SOC, and the relation between current and charge, derive the time to charge from $s=0.2$ to $s=0.8$ under the stated CC-CV charging profile. Express the final charging time in minutes, and round your answer to four significant figures.",
            "solution": "The total time to charge, $T_{total}$, is the sum of the time spent in the Constant-Current (CC) phase, $t_{CC}$, and the time spent in the Constant-Voltage (CV) phase, $t_{CV}$. We must first determine the battery's total charge capacity, $Q_{\\max}$, and the SOC at which the transition from CC to CV mode occurs.\n\n**1. Calculation of Total Charge Capacity, $Q_{\\max}$**\n\nThe rated energy, $E_{\\mathrm{full}} = 75\\,\\mathrm{kWh}$, is given by the integral of the OCV over the full charge capacity. Let $s = q/Q_{\\max}$, which implies $dq = Q_{\\max}ds$. The integration limits for charge $q$ from $0$ to $Q_{\\max}$ correspond to SOC $s$ from $0$ to $1$.\n$$\nE_{\\mathrm{full}} = \\int_{0}^{Q_{\\max}} V_{\\mathrm{oc}}\\!\\left(\\frac{q}{Q_{\\max}}\\right)\\,\\mathrm{d}q = \\int_{0}^{1} V_{\\mathrm{oc}}(s) \\, Q_{\\max} \\, ds = Q_{\\max} \\int_{0}^{1} (300 + 120s) \\, ds\n$$\nEvaluating the integral:\n$$\nE_{\\mathrm{full}} = Q_{\\max} \\left[ 300s + \\frac{120s^2}{2} \\right]_0^1 = Q_{\\max} \\left( (300 \\cdot 1 + 60 \\cdot 1^2) - 0 \\right) = 360 \\, Q_{\\max}\n$$\nThe energy is given in kilowatt-hours. We convert it to Joules (Watt-seconds) for consistency with SI units (Volts, Amperes, Ohms, Coulombs, seconds).\n$$\nE_{\\mathrm{full}} = 75\\,\\mathrm{kWh} = 75 \\times 10^3\\,\\mathrm{Wh} = 75 \\times 10^3 \\times 3600\\,\\mathrm{Ws} = 2.7 \\times 10^8\\,\\mathrm{J}\n$$\nNow we can solve for $Q_{\\max}$ in Coulombs (Ampere-seconds):\n$$\nQ_{\\max} = \\frac{E_{\\mathrm{full}}}{360\\,\\mathrm{V}} = \\frac{2.7 \\times 10^8\\,\\mathrm{J}}{360\\,\\mathrm{V}} = 7.5 \\times 10^5\\,\\mathrm{C}\n$$\n\n**2. Analysis of the Constant-Current (CC) Phase**\n\nThe charging process begins at $s_{start} = 0.2$ in the CC mode, with a constant current $I_{\\mathrm{CC}} = 250\\,\\mathrm{A}$. This phase continues until the battery's terminal voltage, $V_t$, reaches the charger's voltage limit, $V_{\\mathrm{CV}} = 400\\,\\mathrm{V}$.\n\nAccording to Kirchhoff's Voltage Law applied to the battery model, the terminal voltage is:\n$$\nV_t(s) = V_{\\mathrm{oc}}(s) + I_{\\mathrm{CC}} R\n$$\nSubstituting the expressions for $V_{\\mathrm{oc}}(s)$, $I_{\\mathrm{CC}}$, and $R$:\n$$\nV_t(s) = (300 + 120s) + (250\\,\\mathrm{A})(0.05\\,\\Omega) = 300 + 120s + 12.5 = 312.5 + 120s\n$$\nThe CC phase ends at a crossover SOC, $s_{cross}$, where $V_t(s_{cross}) = V_{\\mathrm{CV}}$.\n$$\n400 = 312.5 + 120s_{cross}\n$$\n$$\n120s_{cross} = 400 - 312.5 = 87.5\n$$\n$$\ns_{cross} = \\frac{87.5}{120} = \\frac{175}{240} = \\frac{35}{48}\n$$\nNumerically, $s_{cross} \\approx 0.72917$. Since $s_{start}=0.2  s_{cross}  s_{end}=0.8$, the charging process includes both CC and CV phases.\n\nThe time duration of the CC phase, $t_{CC}$, is found using the fundamental relationship between charge $q$, current $I$, and SOC $s$. Since $I = dq/dt$ and $q = s \\cdot Q_{\\max}$ (with unity Coulombic efficiency), we have $I = Q_{\\max} (ds/dt)$. For the CC phase, $I = I_{\\mathrm{CC}}$ is constant.\n$$\n\\frac{ds}{dt} = \\frac{I_{\\mathrm{CC}}}{Q_{\\max}}\n$$\nIntegrating from $s_{start}$ to $s_{cross}$ gives:\n$$\n\\int_{s_{start}}^{s_{cross}} ds = \\int_0^{t_{CC}} \\frac{I_{\\mathrm{CC}}}{Q_{\\max}} dt \\implies s_{cross} - s_{start} = \\frac{I_{\\mathrm{CC}}}{Q_{\\max}} t_{CC}\n$$\nSolving for $t_{CC}$:\n$$\nt_{CC} = \\frac{Q_{\\max}}{I_{\\mathrm{CC}}} (s_{cross} - s_{start}) = \\frac{7.5 \\times 10^5\\,\\mathrm{C}}{250\\,\\mathrm{A}} \\left(\\frac{35}{48} - 0.2\\right)\n$$\n$$\nt_{CC} = 3000\\,\\mathrm{s} \\left(\\frac{35}{48} - \\frac{1}{5}\\right) = 3000 \\left(\\frac{175 - 48}{240}\\right) = 3000 \\left(\\frac{127}{240}\\right) = 12.5 \\times 127 = 1587.5\\,\\mathrm{s}\n$$\n\n**3. Analysis of the Constant-Voltage (CV) Phase**\n\nThe CV phase starts at $s_{cross} = 35/48$ and ends at $s_{end} = 0.8$. During this phase, the terminal voltage is held constant at $V_t = V_{\\mathrm{CV}} = 400\\,\\mathrm{V}$. The charging current $I(t)$ is no longer constant and tapers as the battery's OCV increases.\n$$\nV_{\\mathrm{CV}} = V_{\\mathrm{oc}}(s(t)) + I(t)R\n$$\nSolving for the current $I(t)$ as a function of SOC $s(t)$:\n$$\nI(s) = \\frac{V_{\\mathrm{CV}} - V_{\\mathrm{oc}}(s)}{R} = \\frac{400 - (300 + 120s)}{0.05} = \\frac{100 - 120s}{0.05} = 2000 - 2400s\n$$\nWe again use the relation $I(s) = Q_{\\max}(ds/dt)$ to form a differential equation for $s(t)$:\n$$\nQ_{\\max}\\frac{ds}{dt} = 2000 - 2400s\n$$\nThis is a separable ordinary differential equation. We can solve for the duration of the CV phase, $t_{CV}$, by separating variables and integrating from $s_{cross}$ to $s_{end}$.\n$$\n\\int_{s_{cross}}^{s_{end}} \\frac{ds}{2000 - 2400s} = \\int_0^{t_{CV}} \\frac{dt}{Q_{\\max}}\n$$\n$$\n\\frac{t_{CV}}{Q_{\\max}} = \\left[ -\\frac{1}{2400} \\ln|2000 - 2400s| \\right]_{s_{cross}}^{s_{end}}\n$$\n$$\n\\frac{t_{CV}}{Q_{\\max}} = -\\frac{1}{2400} \\left( \\ln(2000 - 2400s_{end}) - \\ln(2000 - 2400s_{cross}) \\right) = \\frac{1}{2400} \\ln\\left(\\frac{2000 - 2400s_{cross}}{2000 - 2400s_{end}}\\right)\n$$\nThe argument of the logarithm is the ratio of the initial current in the CV phase ($I(s_{cross}) = 250\\,\\mathrm{A}$) to the final current ($I(s_{end}) = 2000 - 2400(0.8) = 80\\,\\mathrm{A}$).\n$$\n\\frac{t_{CV}}{Q_{\\max}} = \\frac{1}{2400} \\ln\\left(\\frac{250}{80}\\right) = \\frac{1}{2400} \\ln\\left(\\frac{25}{8}\\right)\n$$\nSolving for $t_{CV}$:\n$$\nt_{CV} = \\frac{Q_{\\max}}{2400} \\ln\\left(\\frac{25}{8}\\right) = \\frac{7.5 \\times 10^5}{2400} \\ln\\left(\\frac{25}{8}\\right) = 312.5 \\ln\\left(\\frac{25}{8}\\right)\\,\\mathrm{s}\n$$\n\n**4. Total Charging Time**\n\nThe total charging time is the sum of the durations of the two phases:\n$$\nT_{total} = t_{CC} + t_{CV} = 1587.5 + 312.5 \\ln\\left(\\frac{25}{8}\\right)\\,\\mathrm{s}\n$$\nNow, we compute the numerical value:\n$$\n\\ln\\left(\\frac{25}{8}\\right) = \\ln(3.125) \\approx 1.139434\n$$\n$$\nt_{CV} \\approx 312.5 \\times 1.139434 \\approx 356.073\\,\\mathrm{s}\n$$\n$$\nT_{total} \\approx 1587.5 + 356.073 = 1943.573\\,\\mathrm{s}\n$$\nThe problem requests the final answer in minutes, rounded to four significant figures.\n$$\nT_{total\\_minutes} = \\frac{T_{total}}{60} \\approx \\frac{1943.573}{60} \\approx 32.39288\\,\\mathrm{min}\n$$\nRounding to four significant figures, we get $32.39$ minutes.",
            "answer": "$$\\boxed{32.39}$$"
        },
        {
            "introduction": "The efficiency of a power converter is fundamentally limited by losses within its semiconductor switches, directly impacting thermal management requirements and operational cost. This exercise focuses on a detailed loss calculation for a SiC MOSFET in a hard-switched converter, a common topology in DC fast chargers. You will separately derive the conduction and switching losses, critically including the additional energy dissipated due to the reverse recovery of the complementary diode, a key phenomenon in high-frequency bridge circuits .",
            "id": "3868948",
            "problem": "An electric vehicle direct current fast charger employs a hard-switched half-bridge using Silicon Carbide (SiC) Metal-Oxide-Semiconductor Field-Effect Transistors (MOSFETs) to step down a high-voltage direct current bus to charge a battery pack. Consider the upper switch of a single half-bridge leg in a unidirectional buck conversion stage operating in continuous conduction mode. The direct current bus voltage is fixed at $V_{dc} = 800\\,\\mathrm{V}$, the battery is at $V_{out} = 400\\,\\mathrm{V}$, and the battery current is regulated to a constant $I = 50\\,\\mathrm{A}$ with negligible ripple. The pulse-width modulation switching frequency is $f_{s} = 50\\,\\mathrm{kHz}$. Dead time is implemented such that, just prior to each turn-on of the upper device, the lower device’s body diode conducts the inductor current. The junction temperature of the upper device is stabilized near $T_{j} = 125^{\\circ}\\mathrm{C}$.\n\nUse only the following foundational principles:\n- Ohmic loss in a conductor with resistance $R$ carrying current $i(t)$ has instantaneous power $p(t) = i^{2}(t)\\,R$. The time-average over a period $T$ is $P = \\frac{1}{T}\\int_{0}^{T} i^{2}(t)\\,R\\,dt$.\n- Average switching loss power equals the product of switching frequency and the energy dissipated per switching event, i.e., $P = f_{s}\\,E_{\\text{per-event}}$, where $E_{\\text{per-event}}$ is the energy dissipated in that event.\n- The additional turn-on energy incurred due to reverse recovery of the complementary diode equals the work done to remove its stored charge under the applied bus voltage, $E_{rr} = V_{dc}\\,Q_{rr}$, where $Q_{rr}$ is the recovered charge.\n\nAssume the following device data at $V_{dc} = 800\\,\\mathrm{V}$ and $I = 50\\,\\mathrm{A}$:\n- The upper SiC MOSFET has on-state resistance $R_{ds,on} = 0.040\\,\\Omega$ at $T_{j} = 125^{\\circ}\\mathrm{C}$.\n- The measured hard-switching energies for the upper SiC MOSFET (including capacitive effects internal to the device package as typically reported) are $E_{on} = 3.0\\,\\mathrm{mJ}$ and $E_{off} = 2.0\\,\\mathrm{mJ}$ at the stated voltage and current.\n- The reverse recovery charge of the lower device’s body diode at the stated current and a representative current fall rate is $Q_{rr} = 200\\,\\mathrm{nC}$.\n\nWorking from the principles above and appropriate waveform reasoning for a continuous-conduction unidirectional buck leg:\n- Derive the average conduction loss of the upper device over one switching period in terms of $I$, $R_{ds,on}$, and the duty ratio.\n- Derive the average switching loss of the upper device over one second, explicitly accounting for turn-on, turn-off, and the reverse recovery of the complementary diode.\n- Combine these to obtain the total average loss of the upper device.\n\nCompute the total average power loss for the upper device numerically using the given data. Express your final total loss in watts, and round your answer to four significant figures.",
            "solution": "The total average power loss for the upper Silicon Carbide (SiC) Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) is the sum of its average conduction loss, $P_{cond}$, and average switching loss, $P_{sw}$.\n\n$$P_{total} = P_{cond} + P_{sw}$$\n\nFirst, we determine the duty cycle, $D$, of the upper switch. For an ideal buck converter in continuous conduction mode (CCM), the output voltage is the product of the duty cycle and the input voltage:\n$$V_{out} = D \\cdot V_{dc}$$\nUsing the provided values, we solve for $D$:\n$$D = \\frac{V_{out}}{V_{dc}} = \\frac{400\\,\\mathrm{V}}{800\\,\\mathrm{V}} = 0.5$$\n\nNext, we calculate the average conduction loss, $P_{cond}$. Conduction loss occurs when the MOSFET is on and conducts the inductor current, $I$. Since the inductor current ripple is negligible, the current is constant at $50\\,\\mathrm{A}$ during the on-time. The upper MOSFET conducts for a fraction $D$ of each switching period. The average power loss due to resistance is the time-average of the instantaneous power, $i(t)^2 R$.\n$$P_{cond} = \\frac{1}{T_s} \\int_{0}^{T_s} i_{D}(t)^2 \\cdot R_{ds,on} \\,dt$$\nAs the current is $I$ for a duration $D \\cdot T_s$ and zero otherwise, the integral simplifies to:\n$$P_{cond} = \\frac{1}{T_s} (I^2 \\cdot R_{ds,on} \\cdot D \\cdot T_s) = D \\cdot I^2 \\cdot R_{ds,on}$$\nSubstituting the numerical values:\n$$P_{cond} = (0.5) \\cdot (50\\,\\mathrm{A})^2 \\cdot (0.040\\,\\Omega) = 0.5 \\cdot 2500\\,\\mathrm{A}^2 \\cdot 0.040\\,\\Omega = 50\\,\\mathrm{W}$$\n\nNext, we calculate the average switching loss, $P_{sw}$. This is the product of the total energy dissipated per switching cycle, $E_{cycle}$, and the switching frequency, $f_s$.\n$$P_{sw} = f_s \\cdot E_{cycle}$$\nThe total energy per cycle includes the MOSFET's turn-on energy ($E_{on}$), its turn-off energy ($E_{off}$), and the energy dissipated due to the reverse recovery of the complementary diode ($E_{rr}$).\n$$E_{cycle} = E_{on} + E_{off} + E_{rr}$$\nThe values for $E_{on}$ and $E_{off}$ are given as $3.0\\,\\mathrm{mJ}$ and $2.0\\,\\mathrm{mJ}$, respectively.\n\nThe reverse recovery energy, $E_{rr}$, is the work done to remove the stored charge $Q_{rr}$ from the lower diode's junction under the bus voltage $V_{dc}$. This energy is dissipated in the upper MOSFET during its turn-on transition.\n$$E_{rr} = V_{dc} \\cdot Q_{rr}$$\nUsing the given values $V_{dc} = 800\\,\\mathrm{V}$ and $Q_{rr} = 200\\,\\mathrm{nC}$:\n$$E_{rr} = (800\\,\\mathrm{V}) \\cdot (200 \\times 10^{-9}\\,\\mathrm{C}) = 1.6 \\times 10^{-4}\\,\\mathrm{J} = 0.16\\,\\mathrm{mJ}$$\nThe total energy dissipated per switching cycle is:\n$$E_{cycle} = 3.0\\,\\mathrm{mJ} + 2.0\\,\\mathrm{mJ} + 0.16\\,\\mathrm{mJ} = 5.16\\,\\mathrm{mJ} = 5.16 \\times 10^{-3}\\,\\mathrm{J}$$\nThe average switching power loss is then:\n$$P_{sw} = f_s \\cdot E_{cycle} = (50 \\times 10^3\\,\\mathrm{s}^{-1}) \\cdot (5.16 \\times 10^{-3}\\,\\mathrm{J}) = 258\\,\\mathrm{W}$$\n\nFinally, the total average power loss for the upper device is the sum of the conduction and switching losses:\n$$P_{total} = P_{cond} + P_{sw} = 50\\,\\mathrm{W} + 258\\,\\mathrm{W} = 308\\,\\mathrm{W}$$\nRounding to four significant figures, the result is $308.0\\,\\mathrm{W}$.",
            "answer": "$$\\boxed{308.0}$$"
        },
        {
            "introduction": "The rapid switching speeds of modern wide-bandgap semiconductors like SiC enable unprecedented power density, but they also amplify the impact of parasitic effects like stray inductance. This exercise connects Faraday's law of induction directly to a crucial hardware design constraint in a high-voltage half-bridge. By quantifying the relationship between the current slew rate, $\\frac{di}{dt}$, and the induced voltage overshoot, you will determine the maximum allowable stray inductance in the commutation loop to ensure the device operates within its safe voltage limits .",
            "id": "3868927",
            "problem": "A bidirectional electric vehicle (EV) charger operating in Vehicle-to-Grid (V2G) mode uses a high-voltage $800\\,\\mathrm{V}$ direct-current half-bridge with silicon carbide (SiC) metal-oxide-semiconductor field-effect transistors (MOSFETs). During turn-off of the high-side device, the commutation loop comprising the device leads, busbar, and decoupling paths produces a lumped stray inductance, denoted $L_{\\text{loop}}$. Assume the loop inductance is linear and time-invariant in the relevant current range, the current slew is approximately constant over the turn-off interval, and parasitic capacitances and any clamp networks are negligible for the purpose of deriving the dominant overshoot mechanism.\n\nStarting from Faraday’s law and the lumped-element inductance model, derive an expression for the transient overshoot voltage across the turning-off device in terms of $L_{\\text{loop}}$ and the current slew rate $\\frac{di}{dt}$. Then, for a specified turn-off current slew rate of $\\frac{di}{dt}=200\\,\\mathrm{A}/\\mu\\mathrm{s}$, determine the maximum acceptable value of $L_{\\text{loop}}$ such that the overshoot remains below $100\\,\\mathrm{V}$ in this $800\\,\\mathrm{V}$ half-bridge.\n\nExpress your final answer for the inductance as a single numerical value in microhenries ($\\mu\\mathrm{H}$). No rounding is required.",
            "solution": "The solution requires first deriving an expression for transient voltage overshoot from fundamental principles and then using it to calculate a maximum permissible inductance.\n\n**1. Derivation of Overshoot Voltage**\n\nThe analysis begins with Faraday's law of induction, which states that the voltage $v_L(t)$ across an inductor is proportional to the rate of change of current through it:\n$$v_L(t) = L \\frac{di(t)}{dt}$$\nIn the half-bridge circuit, during the turn-off of the high-side MOSFET, the current rapidly commutates from the device. This changing current, $\\frac{di}{dt}$, flows through the parasitic stray inductance of the commutation loop, $L_{\\text{loop}}$.\n\nThe voltage induced across this inductance, $v_{\\text{loop}}(t) = L_{\\text{loop}} \\frac{di(t)}{dt}$, opposes the change in current (Lenz's Law). As the device current falls, this induced voltage appears in series with the DC bus voltage, adding to the total voltage stress across the drain-source terminals of the turning-off MOSFET. This additional voltage is the transient overshoot, $V_{\\text{os}}$.\n\nThe magnitude of this overshoot voltage is the absolute value of the voltage induced across the loop inductance. Since the problem specifies the slew rate as a magnitude, the expression for the overshoot is:\n$$V_{\\text{os}} = L_{\\text{loop}} \\left| \\frac{di}{dt} \\right|$$\n\n**2. Calculation of Maximum Stray Inductance**\n\nThe second task is to determine the maximum acceptable value of $L_{\\text{loop}}$, denoted $L_{\\text{loop,max}}$. We are given the following constraints:\n- Maximum allowable overshoot voltage, $V_{\\text{os,max}} = 100\\,\\mathrm{V}$.\n- Current slew rate, $\\frac{di}{dt} = 200\\,\\mathrm{A}/\\mu\\mathrm{s}$.\n\nFirst, the current slew rate must be converted to base SI units (Amperes per second):\n$$\\frac{di}{dt} = 200\\,\\frac{\\mathrm{A}}{\\mu\\mathrm{s}} = 200\\,\\frac{\\mathrm{A}}{10^{-6}\\,\\mathrm{s}} = 2.0 \\times 10^8\\,\\frac{\\mathrm{A}}{\\mathrm{s}}$$\n\nNext, we rearrange the derived expression to solve for the maximum inductance, which corresponds to the maximum permissible overshoot voltage:\n$$L_{\\text{loop,max}} = \\frac{V_{\\text{os,max}}}{\\frac{di}{dt}}$$\nSubstituting the numerical values:\n$$L_{\\text{loop,max}} = \\frac{100\\,\\mathrm{V}}{2.0 \\times 10^8\\,\\mathrm{A/s}} = 50 \\times 10^{-8}\\,\\mathrm{H} = 0.5 \\times 10^{-6}\\,\\mathrm{H}$$\nThe problem requires the answer in microhenries ($\\mu\\mathrm{H}$). Since $1\\,\\mu\\mathrm{H} = 10^{-6}\\,\\mathrm{H}$, the result is:\n$$L_{\\text{loop,max}} = 0.5\\,\\mu\\mathrm{H}$$\nTo keep the voltage overshoot below $100\\,\\mathrm{V}$ under the specified conditions, the total commutation loop inductance must not exceed $0.5\\,\\mu\\mathrm{H}$ (or $500\\,\\mathrm{nH}$).",
            "answer": "$$\\boxed{0.5}$$"
        }
    ]
}