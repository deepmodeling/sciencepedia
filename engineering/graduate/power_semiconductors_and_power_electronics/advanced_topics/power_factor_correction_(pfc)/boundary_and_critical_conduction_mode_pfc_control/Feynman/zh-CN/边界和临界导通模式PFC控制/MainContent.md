## 引言
在现代电子世界中，几乎所有设备都依赖于将交流电（AC）转换为直流电（DC）的电源。然而，简单的转换过程会向电网注入污染性的谐波电流，降低[电能质量](@entry_id:1130058)。[功率因数校正](@entry_id:1130033)（PFC）技术应运而生，其目标是让电子设备像一个纯电阻一样友好地从电网获取能量。本文聚焦于实现这一目标的一种高效且优雅的控制策略——临界/[边界导通模式](@entry_id:1121806)（CrCM/BCM）控制。

本文将带领您深入探索CrCM PFC的世界。在第一部分“原理与机制”中，我们将揭示CrCM如何在连续与非连续导通的边界上“舞蹈”，并阐明恒定导通[时间控制](@entry_id:263806)如何巧妙地塑造出完美的[正弦输入](@entry_id:269486)电流。接着，在“应用与跨学科联结”部分，我们将探讨这项技术在现实世界中的应用，从利用谷底开关提升效率，到氮化镓（GaN）等新材料带来的革命，再到其如何帮助设备满足严格的电磁干扰（EMI）法规。最后，通过一系列精心设计的“动手实践”练习，您将有机会将理论知识应用于解决实际的工程计算问题。让我们一同开始，解开CrCM PFC控制的精妙之处。

## 原理与机制

在上一章中，我们了解了[功率因数校正](@entry_id:1130033)（PFC）的宏伟目标：让我们的电子设备在电网眼中表现得像一个纯粹的电阻，从而和谐地消耗能量。我们的工具是一个名为**升压变换器 (Boost Converter)** 的电路。现在，让我们深入其内部，揭开它实现这一目标的优雅机制。其核心是一种被称为**[临界导通模式](@entry_id:1121806) (Critical Conduction Mode, CrCM)** 的精巧控制策略。

### 万物之本：边界上的舞蹈

想象一下升压变换器中的核心元件——电感器。它的电流行为决定了整个系统的特性。电感电流的运动模式主要有三种，我们可以用一个秋千来类比：

1.  **连续导通模式 (Continuous Conduction Mode, CCM)**：这就像一个永不停歇的秋千。在每个周期结束时，它仍然具有相当大的动能（电流），从未完全静止。电流始终大于零。

2.  **非[连续导通模式](@entry_id:269432) (Discontinuous Conduction Mode, DCM)**：这就像一个摆动幅度较小的秋千。它在到达最低点后会完全静止一段时间，然后才被再次推动。在每个开关周期内，电感电流会下降到零，并保持为零一段时间。

3.  **[临界导通模式](@entry_id:1121806) (Critical Conduction Mode, CrCM)**：这是一种完美的时机艺术。秋千恰好在到达最低点并完全静止的那一瞬间，被再次精准地推动。电感电流在每个周期结束时恰好返回到零，没有任何停留，下一个周期便立即开始。

这种“恰到好处”的边界状态，就是 CrCM 的精髓。它也被称为**[边界导通模式](@entry_id:1121806) (Boundary Conduction Mode, BCM)**，这两个术语在实践中是同义词，都指向这同一个在连续和非连续之间翩翩起舞的优雅状态。

那么，在这种模式下，电感电流的波形是什么样的呢？它呈现出完美的**三角形**。你可能会问，为什么是三角形？为什么不是曲线或其他更复杂的形状？答案植根于电磁学最基本的定律之一：$v_L = L \frac{di_L}{dt}$。这个公式告诉我们，电感两端的电压 $v_L$ 与其电流 $i_L$ 的变化率成正比。

在一个开关周期内，变换器会在两种状态间切换。在每一种状态下，[电感器](@entry_id:260958)都被连接到一个近似恒定的电压上（这是因为开关频率远高于市电频率，因此在单个开关周期内，输入的市电电压可以视为不变的）。根据上述公式，如果 $v_L$ 是一个常数，那么电流的变化率 $\frac{di_L}{dt}$ 也必然是一个常数。一个函数的变化率是常数，意味着这个函数本身是一条直线。因此，在一个开关周期内，电流先是线性上升，然后线性下降，最终形成一个干净利落的三角形。这正是物理定律之美在电路中的直接体现。

### 单个周期的编排

让我们将时间放慢，仔细观察一个在 CrCM 模式下运行的开关周期内发生的事件序列，这就像一场精心编排的微型芭蕾。

整个过程由一个**[全波桥式整流器](@entry_id:271142)**拉开序幕，它将输入的交流电压 $v_{ac}(t)$ 转化为脉动的直流电压 $v_{rec}(t) = |v_{ac}(t)|$，确保流入我们[升压电路](@entry_id:274935)的能量始终是单向的。

1.  **第一幕：储能（开关开启）**
    周期始于电感电流为零的瞬间。一个名为**零电流检测 (Zero-Current Detection, ZCD)** 的电路模块捕捉到这一刻，并立即命令功率开关（通常是一个 MOSFET）导通。此时，电感器直接连接到整流后的输入电压 $v_{rec}(t)$ 上。电流从零开始，以一个正的、恒定的斜率 $\frac{v_{rec}(t)}{L}$ 线性上升。能量从电网流入，并以磁场的形式储存在[电感器](@entry_id:260958)中。

2.  **第二幕：释能（开关关断）**
    当电感电流上升到一个由控制器设定的峰值时，开关被命令关断。由于电感电流不能瞬间改变，它必须寻找一条新的路径。这条路径通过升压二[极管](@entry_id:909477)流向输出电容和负载。此时，电感两端的电压变为 $v_{rec}(t) - V_o$（其中 $V_o$ 是恒定的输出直流电压）。由于升压变换器的工作原理要求 $V_o > v_{rec}(t)$，这个电压是负的。因此，电流开始以一个负的、恒定的斜率 $-\frac{V_o - v_{rec}(t)}{L}$ 线性下降，同时将之前储存的能量传递给输出端。

3.  **关键时刻：下一个循环的触发**
    电流不断下降，直到……再次回到零。ZCD 电路像一个警觉的哨兵，再次捕捉到这个“[临界点](@entry_id:144653)”，并立即触发下一个周期的开始，命令开关重新导通。如此循环往复，构成了一连串频率极高的三角形电流脉冲。

### 恒定导通时间的“魔法”：一个简单规则的宏大设计

现在，我们面临着最核心的问题：我们如何利用这一串微小的、快速变化的三角形电流脉冲，来模拟出平滑、缓慢变化的市电正弦波电流呢？这听起来像是一个艰巨的任务，但 CrCM 控制提供了一种令人惊叹的、近乎“魔法”的解决方案。

PFC 的目标是让每个开关周期的**平均输入电流** $\langle i_{in}(t) \rangle$ 与瞬时输入电压 $v_{in}(t)$ 成正比。对于一个底部为 $T_s$、高度为 $I_{pk}$ 的三角形电流波，其在一个周期内的平均值就是 $\frac{I_{pk}}{2}$。因此，我们的目标可以转化为：让每个三角波的峰值 $I_{pk}(t)$ 与瞬时输入电压 $v_{in}(t)$ 成正比。

传统的控制方法可能会使用一个**PFC 乘法器**，它将[整流](@entry_id:197363)后的线路电压 $|v_{in}(t)|$ 与一个来自外部[电压调节](@entry_id:272092)环路的慢变误差信号相乘，从而生成一个正弦形的[峰值电流](@entry_id:264029)参考信号 $i_{ref}(t)$。内部的[电流环路](@entry_id:271292)则努力让每个周期的 $I_{pk}$ 都精确地达到这个参考值。

然而，CrCM 提供了一条更优雅的捷径。让我们回到第一幕的物理学：电感电流在导通时间 $t_{on}$ 内从零上升到峰值 $I_{pk}$。根据基本电感定律，我们有：
$$ I_{pk}(t) = \frac{v_{in}(t)}{L} t_{on} $$

这里蕴含着一个绝妙的洞见。如果我们采用一种名为**恒定导通时间 (Constant On-Time, COT)** 的控制策略，即在整个市电周期内，我们都将开关的导通时间 $t_{on}$ 保持为一个固定的常数，那么会发生什么呢？从上式可以看出，[峰值电流](@entry_id:264029) $I_{pk}(t)$ 将**自动地**与瞬时输入电压 $v_{in}(t)$ 成正比！

$$ I_{pk}(t) = \left( \frac{t_{on}}{L} \right) v_{in}(t) $$

由于平均输入电流 $\langle i_{in}(t) \rangle = \frac{I_{pk}(t)}{2}$，它也自然地跟随了输入电压的形状。一个极其简单的局部规则——“每次都导通相同的时间”——竟然实现了在整个宏观尺度上塑造完美正弦电流的宏大目标。这正是工程设计中[涌现行为](@entry_id:138278)的一个美妙范例。

### 优雅的代价：可变的节奏

天下没有免费的午餐。这种优雅的 COT 控制方案带来了一个显著的副作用：**开关频率是可变的**。

我们可以通过分析电感的**伏秒平衡 (volt-second balance)** 来理解这一点。在一个完整的开关周期内，电感上的总伏秒积必须为零。这意味着导通期间的正伏秒积 $v_{in} \cdot t_{on}$ 必须等于关断期间的负伏秒积 $(V_o - v_{in}) \cdot t_{off}$。由此，我们可以推导出关断时间 $t_{off}$：
$$ t_{off}(t) = \frac{v_{in}(t)}{V_o - v_{in}(t)} t_{on} $$
总的开关周期 $T_s(t) = t_{on} + t_{off}(t)$，经过简单的代数运算，我们得到开关频率 $f_s(t) = 1/T_s(t)$ 的表达式：
$$ f_s(t) = \frac{V_o - v_{in}(t)}{V_o \cdot t_{on}} $$
这个公式揭示了 CrCM 的一个核心特征：
*   当输入电压 $v_{in}(t)$ 接近零时（市电电压过零点附近），开关频率达到**最高**。
*   当输入电压 $v_{in}(t)$ 达到峰值时（市电电压波峰处），开关频率降至**最低**。

此外，开关频率还与负载功率有关。当负载需要更大功率时，控制器会通过增大恒定的导通时间 $t_{on}$ 来提高平均输入电流。从上式可以看出，增大 $t_{on}$ 会导致整体开关频率的**下降**。因此，CrCM 变换器在重载时的开关频率低于轻载时。这种宽范围变化的开关频率，为电磁干扰（EMI）滤波器的设计带来了独特的挑战。

### 为何不直接控制[占空比](@entry_id:199172)？

对于熟悉[电力](@entry_id:264587)电子学的读者来说，一个自然的问题是：既然我们有[占空比](@entry_id:199172) $D = \frac{t_{on}}{T_s}$ 这个变量，为什么不用它来控制呢？

这是一个非常深刻的问题，其答案揭示了 CrCM 控制的本质。在 CrCM 模式下，[占空比](@entry_id:199172)并不是一个我们可以随意设定的独立控制变量。恰恰相反，它是由物理边界条件所**决定**的一个结果。通过[伏秒平衡](@entry_id:1133872)，我们可以推导出，在理想的 CrCM 中，[占空比](@entry_id:199172)完全由输入和输出电压的比值决定：
$$ D = 1 - \frac{v_g(t)}{V_o} $$
[占空比](@entry_id:199172)是系统状态的“果”，而不是我们可以调节的“因”。试图强行控制[占空比](@entry_id:199172)，就如同试图通过命令来改变钟摆的角度，而不是通过施加推力。这将破坏 CrCM 的边界条件，使系统脱离临界模式。

因此，**导通时间 $t_{on}$**（或等效的**[峰值电流](@entry_id:264029) $I_{pk}$**）才是 CrCM 中真正自然、有效的控制“旋钮”。这进一步印证了恒定导通时间（COT）控制策略的内在逻辑性和优越性。在实际应用中，工程师们甚至会在此基础上增加一点“润色”，比如采用**谷底开关 (Valley Switching)** 技术，即在电流降到零后，等待一个极短的时间，让开关两端的电压由于[寄生电容](@entry_id:270891)的谐振而降到一个“谷底”再导通，从而进一步降低[开关损耗](@entry_id:1132728)。这使得控制变得更加精妙，但也更加凸显了直接控制[占空比](@entry_id:199172)的[不可行性](@entry_id:164663)。

总而言之，CrCM 模式下的 PFC 控制，是一曲由基础物理定律、精巧电路拓扑和优雅控制策略共同谱写的交响乐。它通过在连续与非连续导通的边界上精准舞蹈，并利用恒定导通时间这一简洁的规则，以一种令人赞叹的方式实现了高效、高功率因数的[能量转换](@entry_id:165656)。