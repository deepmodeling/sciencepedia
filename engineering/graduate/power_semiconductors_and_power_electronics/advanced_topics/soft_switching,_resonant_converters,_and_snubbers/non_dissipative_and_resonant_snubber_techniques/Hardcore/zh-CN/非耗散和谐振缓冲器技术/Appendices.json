{
    "hands_on_practices": [
        {
            "introduction": "本练习着重于谐振关断缓冲器设计的核心权衡。通过推导电路的动态方程，您将学习如何构建一个优化问题，以选择理想的电感（$L$）和电容（$C$）值。这项练习将磨练您在快速开关和低元件应力等相互竞争的要求之间取得平衡的技能，这是电力电子设计的一个基本方面。",
            "id": "3861610",
            "problem": "一个无损耗谐振关断缓冲器（snubber）被应用于连接到直流（DC）母线的高压功率金属氧化物半导体场效应晶体管（MOSFET）上。该缓冲器由一个串联电感 $L$ 和电容 $C$ 组成，通过在关断期间启动一个从 $0$ 到母线电压 $V_{dc}$ 的无损耗谐振，来整形器件的漏源电压。假设电阻可忽略不计，且初始条件理想，与谐振过渡一致。设计目标是在满足指定的过渡时间和过冲要求的同时，最小化缓冲器峰值电流以减少半导体应力。\n\n从应用于由直流母线驱动的理想串联 $LC$ 网络的 Kirchhoff 电压定律（KVL）和 Kirchhoff 电流定律（KCL）出发，推导其控制二阶微分方程，并在对应于开关电压从 $0$ 向 $V_{dc}$ 谐振上升的初始条件下，求解电容电压 $v_{C}(t)$ 和电感电流 $i_{L}(t)$。使用这些解来获得作为 $L$、$C$ 和 $V_{dc}$ 函数的四分之一周期过渡时间 $t_{d}$ 和缓冲器峰值电流 $I_{pk}$。将由控制时序不确定性 $\\delta t$ 引起的超过 $V_{dc}$ 的最大电压过冲 $\\Delta V$ 建模为 $v_{C}(t)$ 在 $t = t_{d} + \\delta t$ 时的超额值。\n\n建立最小化峰值缓冲电流的优化问题，约束条件如下：\n- 过渡时间 $t_{d}$ 的等式约束，\n- 将由 $\\delta t$ 引起的过冲限制在最大为 $\\Delta V$ 的不等式约束，以及\n- 由于尺寸和绕组限制，对电感值 $L \\leq L_{\\max}$ 的实际上限约束。\n\n给定数值规格 $V_{dc} = 400\\,\\mathrm{V}$，$t_{d} = 100\\,\\mathrm{ns}$，$\\Delta V = 40\\,\\mathrm{V}$，$\\delta t = 5\\,\\mathrm{ns}$，以及 $L_{\\max} = 2.000\\,\\mathrm{\\mu H}$，求解该优化问题以找到最优的 $L$ 和 $C$。将最终的电感值以 $\\mathrm{\\mu H}$ 表示，电容值以 $\\mathrm{nF}$ 表示。将你的答案四舍五入到四位有效数字。",
            "solution": "该问题要求对无损耗谐振关断缓冲器进行分析和优化。验证阶段确认了该问题具有科学依据、提法恰当，并且在对物理模型进行合理解释的情况下，包含了获得唯一解所需的足够信息。\n\n首先，我们推导缓冲电路的控制微分方程。问题指定将缓冲器建模为由直流母线电压 $V_{dc}$ 驱动的理想串联电感 $L$ 和电容 $C$ 网络。这对应于一个在 $t=0$ 时，将 $V_{dc}$ 的电压阶跃施加到串联 LC 电路上的电路。该回路的 Kirchhoff 电压定律（KVL）为：\n$$V_{dc} = v_L(t) + v_C(t)$$\n其中 $v_L(t)$ 是电感电压，$v_C(t)$ 是电容电压。理想电感和电容的本构关系为：\n$$v_L(t) = L \\frac{di_L}{dt}$$\n$$i_C(t) = C \\frac{dv_C}{dt}$$\n由于电感和电容串联，它们的电流相同，$i_L(t) = i_C(t)$。将本构关系代入 KVL 方程，得到：\n$$V_{dc} = L \\frac{d}{dt}\\left(C \\frac{dv_C}{dt}\\right) + v_C(t)$$\n$$LC \\frac{d^2v_C}{dt^2} + v_C(t) = V_{dc}$$\n这可以写成二阶线性非齐次微分方程的标准形式：\n$$\\frac{d^2v_C}{dt^2} + \\omega_0^2 v_C(t) = \\omega_0^2 V_{dc}$$\n其中 $\\omega_0 = \\frac{1}{\\sqrt{LC}}$ 是谐振角频率。\n\n问题陈述谐振过渡从 $0$ 开始引起开关电压的上升。开关电压是缓冲器两端的电压，在这个简化模型中，它主要是电容电压 $v_C(t)$。因此，初始条件是 $v_C(0) = 0$。对于从静止状态开始的谐振关断过程（如由阶跃电压驱动 LC 电路的简化模型所暗示），缓冲器中的初始电流为零，所以 $i_L(0) = 0$。\n\n该微分方程的通解是特解 $v_{Cp}(t)$ 和齐次解 $v_{Ch}(t)$ 的和。特解是一个常数，$v_{Cp}(t) = V_{dc}$。齐次解的形式为 $v_{Ch}(t) = A\\cos(\\omega_0 t) + B\\sin(\\omega_0 t)$。$v_C(t)$ 的完整解为：\n$$v_C(t) = A\\cos(\\omega_0 t) + B\\sin(\\omega_0 t) + V_{dc}$$\n应用初始条件 $v_C(0) = 0$：\n$$v_C(0) = A\\cos(0) + B\\sin(0) + V_{dc} = A + V_{dc} = 0 \\implies A = -V_{dc}$$\n第二个初始条件是 $i_L(0)=0$。我们通过对 $v_C(t)$ 求导来找到 $i_L(t)$：\n$$i_L(t) = C \\frac{dv_C}{dt} = C \\omega_0 (-A\\sin(\\omega_0 t) + B\\cos(\\omega_0 t))$$\n应用 $i_L(0) = 0$：\n$$i_L(0) = C \\omega_0 (B) = 0 \\implies B = 0$$\n所以，电容电压和电感电流的最终解为：\n$$v_C(t) = V_{dc}(1 - \\cos(\\omega_0 t))$$\n$$i_L(t) = C \\omega_0 (-(-V_{dc})\\sin(\\omega_0 t)) = C \\omega_0 V_{dc} \\sin(\\omega_0 t)$$\n我们可以用特征阻抗 $Z_0 = \\sqrt{L/C}$ 来表示电流：\n$$i_L(t) = \\frac{V_{dc}}{Z_0} \\sin(\\omega_0 t)$$\n\n接下来，我们推导过渡时间 $t_d$ 和峰值电流 $I_{pk}$。过渡时间 $t_d$ 是 $v_C(t)$ 从 $0$ 上升到 $V_{dc}$ 所需的时间。\n$$v_C(t_d) = V_{dc} \\implies V_{dc}(1 - \\cos(\\omega_0 t_d)) = V_{dc}$$\n$$1 - \\cos(\\omega_0 t_d) = 1 \\implies \\cos(\\omega_0 t_d) = 0$$\n第一个满足此条件的正时间是在 $\\omega_0 t_d = \\pi/2$ 时。\n$$t_d = \\frac{\\pi}{2\\omega_0} = \\frac{\\pi}{2}\\sqrt{LC}$$\n缓冲器峰值电流 $I_{pk}$ 是 $i_L(t)$ 的最大值，出现在 $\\sin(\\omega_0 t) = 1$ 时：\n$$I_{pk} = \\frac{V_{dc}}{Z_0} = V_{dc}\\sqrt{\\frac{C}{L}}$$\n\n电压过冲 $\\Delta V$ 被建模为在时间 $t = t_d + \\delta t$ 时的超额电压。此时的电压为：\n$$v_C(t_d + \\delta t) = V_{dc}(1 - \\cos(\\omega_0 (t_d + \\delta t))) = V_{dc}(1 - \\cos(\\frac{\\pi}{2} + \\omega_0 \\delta t))$$\n使用三角恒等式 $\\cos(\\frac{\\pi}{2} + x) = -\\sin(x)$，我们得到：\n$$v_C(t_d + \\delta t) = V_{dc}(1 + \\sin(\\omega_0 \\delta t))$$\n超过 $V_{dc}$ 的过冲为：\n$$\\Delta V_{\\text{model}} = v_C(t_d + \\delta t) - V_{dc} = V_{dc} \\sin(\\omega_0 \\delta t)$$\n约束条件是 $\\Delta V_{\\text{model}} \\le \\Delta V$。\n\n现在，我们建立并求解优化问题：\n最小化：$I_{pk}(L,C) = V_{dc}\\sqrt{C/L}$\n约束条件：\n1. $t_d = \\frac{\\pi}{2}\\sqrt{LC} = T_d^{\\text{spec}}$ (其中 $T_d^{\\text{spec}} = 100 \\text{ ns}$)\n2. $V_{dc} \\sin(\\omega_0 \\delta t) \\le \\Delta V$\n3. $L \\le L_{\\max}$\n\n从约束 1，我们可以将乘积 $LC$ 表示为一个常数：\n$$LC = \\left(\\frac{2T_d^{\\text{spec}}}{\\pi}\\right)^2 = K$$\n我们可以用 $L$ 来表示 $C$：$C = K/L$。\n将此代入目标函数：\n$$I_{pk}(L) = V_{dc}\\sqrt{\\frac{K/L}{L}} = V_{dc}\\frac{\\sqrt{K}}{L} = V_{dc}\\frac{2T_d^{\\text{spec}}}{\\pi L}$$\n为了最小化 $I_{pk}$，我们必须最大化 $L$。\n\n让我们检查约束 2。从约束 1，$\\omega_0 = \\frac{\\pi}{2T_d^{\\text{spec}}}$。这意味着 $\\omega_0$ 由过渡时间要求固定。\n$$V_{dc} \\sin\\left(\\frac{\\pi \\delta t}{2T_d^{\\text{spec}}}\\right) \\le \\Delta V$$\n让我们用给定的数值来检查这个约束：\n$$V_{dc} = 400 \\text{ V}, \\Delta V = 40 \\text{ V}, \\delta t = 5 \\text{ ns}, T_d^{\\text{spec}} = 100 \\text{ ns}$$\n$$\\text{Overshoot} = 400 \\sin\\left(\\frac{\\pi \\times 5 \\times 10^{-9}}{2 \\times 100 \\times 10^{-9}}\\right) = 400 \\sin\\left(\\frac{\\pi}{40}\\right)$$\n$$\\sin\\left(\\frac{\\pi}{40}\\right) \\approx 0.078459$$\n$$\\text{Overshoot} \\approx 400 \\times 0.078459 = 31.3836 \\text{ V}$$\n由于 $31.3836 \\text{ V} \\le 40 \\text{ V}$，对于任何满足过渡时间约束的 $L$ 和 $C$ 的选择，约束 2 都被满足。\n\n优化问题简化为在 $L \\le L_{\\max}$ 的约束下最大化 $L$。其平凡解是选择 $L$ 的最大可能值。\n$$L_{opt} = L_{\\max}$$\n给定 $L_{\\max} = 2.000 \\text{ } \\mu\\text{H}$。\n$$L_{opt} = 2.000 \\times 10^{-6} \\text{ H}$$\n现在我们从约束 1 中找到对应的最优电容 $C_{opt}$：\n$$C_{opt} = \\frac{1}{L_{opt}}\\left(\\frac{2T_d^{\\text{spec}}}{\\pi}\\right)^2 = \\frac{1}{2.000 \\times 10^{-6}} \\left(\\frac{2 \\times 100 \\times 10^{-9}}{\\pi}\\right)^2$$\n$$C_{opt} = \\frac{1}{2.000 \\times 10^{-6}} \\left(\\frac{2 \\times 10^{-7}}{\\pi}\\right)^2 = \\frac{4 \\times 10^{-14}}{2.000 \\times 10^{-6} \\times \\pi^2}$$\n$$C_{opt} = \\frac{2 \\times 10^{-8}}{\\pi^2} \\text{ F} \\approx \\frac{2 \\times 10^{-8}}{9.8696044} \\text{ F} \\approx 2.0264658 \\times 10^{-9} \\text{ F}$$\n所以，$C_{opt} \\approx 2.0264658 \\text{ nF}$。\n\n问题要求最终答案四舍五入到四位有效数字。\n最优电感 $L_{opt}$（以 $\\mu\\text{H}$ 计）为：\n$$L_{opt} = 2.000 \\text{ } \\mu\\text{H}$$\n最优电容 $C_{opt}$（以 $\\text{nF}$ 计）为：\n$$C_{opt} = 2.026 \\text{ nF}$$",
            "answer": "$$\\boxed{\\begin{pmatrix} 2.000  2.026 \\end{pmatrix}}$$"
        },
        {
            "introduction": "现实世界中的元件参数永远不会精确地等于其标称值。本练习将理想缓冲器设计更进一步，引入了元件公差的概念，这是大规模生产和系统可靠性的关键考虑因素。您将进行最坏情况分析，以量化电感和电容的变化如何影响峰值电压应力和开关时间，从而深入理解设计裕度的必要性。",
            "id": "3861635",
            "problem": "一个由理想电感 $L$ 和理想电容 $C$ 串联组成的无耗谐振缓冲电路，并联在一个直流(DC)变换器的理想半导体开关两端。在关断时，开关电流瞬时换流到缓冲支路，在向串联$LC$电路注入初始电流 $i_{L}(0)=I_{0}0$ 的同时，电容器从 $v_{C}(0)=0$ 开始。假设$LC$网络是无损的，并且在暂态过程中与其他元件隔离，因此其后续的动态特性仅由其自身的能量交换决定。\n\n将电感和电容视为具有分数容差 $\\Delta L/L$ 和 $\\Delta C/C$ 的制造元件，这些容差是对称且有界的，建模为 $L=L_{0}(1+\\epsilon_{L})$ 和 $C=C_{0}(1+\\epsilon_{C})$，其中标称值 $L_{0}0, C_{0}0$ 是固定的，容差偏移满足 $|\\epsilon_{L}|\\leq\\delta_{L}$ 和 $|\\epsilon_{C}|\\leq\\delta_{C}$，其边界 $\\delta_{L}\\in(0,1)$ 和 $\\delta_{C}\\in(0,1)$ 是给定的。忽略缓冲支路外部所有的寄生电阻和杂散电感。\n\n仅从 Kirchhoff 电压定律、Kirchhoff 电流定律以及本构关系 $v_{L}(t)=L\\,\\mathrm{d}i_{L}(t)/\\mathrm{d}t$ 和 $i_{C}(t)=C\\,\\mathrm{d}v_{C}(t)/\\mathrm{d}t$ 出发，并使用指定的初始条件，推导 $v_{C}(t)$ 和 $i_{L}(t)$ 的时域演化过程，并确定：\n- 在谐振的第一个四分之一周期内达到的电容峰值电压 $v_{C,\\max}$，\n- $i_{L}(t)$ 首次达到零的四分之一周期时间 $t_{q}$。\n\n然后，通过找出以下量，确定有界容差 $\\delta_{L}$ 和 $\\delta_{C}$ 如何影响最坏情况下的峰值应力和时序：\n- 电容峰值电压与其标称预测值的最坏情况比值，$\\mathcal{D}_{V}\\equiv v_{C,\\max}^{\\text{worst}}/v_{C,\\max}^{\\text{nom}}$，\n- 四分之一周期时间与其标称预测值的最坏情况比值，$\\mathcal{D}_{T}\\equiv t_{q}^{\\text{worst}}/t_{q}^{\\text{nom}}$，\n- 缓冲支路峰值电流与其标称预测值的最坏情况比值，$\\mathcal{D}_{I}\\equiv i_{L,\\max}^{\\text{worst}}/i_{L,\\max}^{\\text{nom}}$。\n\n此处“标称预测值”指使用 $L=L_{0}$ 和 $C=C_{0}$ 计算的值，“最坏情况”指在容差范围 $|\\epsilon_{L}|\\leq\\delta_{L}$、 $|\\epsilon_{C}|\\leq\\delta_{C}$ 内使相应量最大化的极值。将 $\\mathcal{D}_{V}$、$\\mathcal{D}_{T}$ 和 $\\mathcal{D}_{I}$ 明确表示为仅含 $\\delta_{L}$ 和 $\\delta_{C}$ 的闭式函数。将最终答案以包含 $\\mathcal{D}_{V}$、$\\mathcal{D}_{T}$ 和 $\\mathcal{D}_{I}$ 的单行矩阵形式给出。每个元素必须是无量纲的。不需要进行数值舍入。",
            "solution": "所述问题是有效的。它在电路理论原理上有科学依据，具有充分的初始条件，是适定的，并且以客观、明确的语言表述。我们可以开始求解。\n\n该问题要求推导串联$LC$电路的时域行为，并随后考虑元件容差，对其关键性能指标进行最坏情况分析。\n\n设 $v_{L}(t)$ 为电感 $L$ 两端的电压，$v_{C}(t)$ 为电容 $C$ 两端的电压。设 $i_{L}(t)$ 为流过电感的电流，由于电感和电容是串联的，该电流也等于流入电容的电流 $i_{C}(t)$。假设缓冲支路是隔离的。对闭合回路应用 Kirchhoff 电压定律 (KVL) 得：\n$$v_{L}(t) + v_{C}(t) = 0$$\n电感和电容的本构关系如下：\n$$v_{L}(t) = L \\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t}$$\n$$i_{C}(t) = C \\frac{\\mathrm{d}v_{C}(t)}{\\mathrm{d}t}$$\n由于 $i_{L}(t) = i_{C}(t)$，我们可以写出：\n$$i_{L}(t) = C \\frac{\\mathrm{d}v_{C}(t)}{\\mathrm{d}t}$$\n将 $v_{L}(t)$ 的本构关系代入 KVL 方程，得到：\n$$L \\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t} + v_{C}(t) = 0$$\n为了得到关于电流 $i_{L}(t)$ 的二阶微分方程，我们将此方程对时间 $t$ 求导：\n$$L \\frac{\\mathrm{d}^2i_{L}(t)}{\\mathrm{d}t^2} + \\frac{\\mathrm{d}v_{C}(t)}{\\mathrm{d}t} = 0$$\n现在，我们将 $\\frac{\\mathrm{d}v_{C}(t)}{\\mathrm{d}t} = \\frac{i_{L}(t)}{C}$ 代入上式：\n$$L \\frac{\\mathrm{d}^2i_{L}(t)}{\\mathrm{d}t^2} + \\frac{1}{C} i_{L}(t) = 0$$\n整理后得到简谐振子的标准形式：\n$$\\frac{\\mathrm{d}^2i_{L}(t)}{\\mathrm{d}t^2} + \\frac{1}{LC} i_{L}(t) = 0$$\n电路的自然谐振角频率为 $\\omega = \\frac{1}{\\sqrt{LC}}$。$i_{L}(t)$ 的通解为：\n$$i_{L}(t) = A \\cos(\\omega t) + B \\sin(\\omega t)$$\n其中 $A$ 和 $B$ 是由初始条件决定的常数。\n\n初始条件在 $t=0$ 时给出：\n1. $i_{L}(0) = I_{0}$\n2. $v_{C}(0) = 0$\n\n将第一个初始条件应用于 $i_{L}(t)$ 的通解：\n$$i_{L}(0) = A \\cos(0) + B \\sin(0) = A = I_{0}$$\n为了使用第二个初始条件，我们在 $t=0$ 时计算 KVL 方程：\n$$v_{L}(0) + v_{C}(0) = 0$$\n给定 $v_{C}(0)=0$，则有 $v_{L}(0) = 0$。使用电感在 $t=0$ 时的本构关系：\n$$v_{L}(0) = L \\left. \\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t} \\right|_{t=0} = 0$$\n由于 $L0$，这要求 $\\left. \\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t} \\right|_{t=0} = 0$。对 $i_{L}(t)$ 的通解求导：\n$$\\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t} = -A\\omega \\sin(\\omega t) + B\\omega \\cos(\\omega t)$$\n在 $t=0$ 时计算：\n$$\\left. \\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t} \\right|_{t=0} = -A\\omega \\sin(0) + B\\omega \\cos(0) = B\\omega$$\n由于 $B\\omega = 0$ 且 $\\omega = 1/\\sqrt{LC}  0$，我们必须有 $B=0$。\n因此，电感电流的特解是：\n$$i_{L}(t) = I_{0} \\cos(\\omega t) = I_{0} \\cos\\left(\\frac{t}{\\sqrt{LC}}\\right)$$\n为了求电容电压 $v_{C}(t)$，我们使用 $i_{L}(t) = C \\frac{\\mathrm{d}v_{C}(t)}{\\mathrm{d}t}$，这意味着 $\\mathrm{d}v_{C}(t) = \\frac{1}{C} i_{L}(t) \\mathrm{d}t$。从 $0$ 到 $t$ 积分：\n$$v_{C}(t) - v_{C}(0) = \\frac{1}{C} \\int_{0}^{t} i_{L}(\\tau) \\mathrm{d}\\tau$$\n在 $v_{C}(0)=0$ 的条件下：\n$$v_{C}(t) = \\frac{1}{C} \\int_{0}^{t} I_{0} \\cos(\\omega \\tau) \\mathrm{d}\\tau = \\frac{I_{0}}{C} \\left[ \\frac{\\sin(\\omega \\tau)}{\\omega} \\right]_{0}^{t} = \\frac{I_{0}}{C\\omega} \\sin(\\omega t)$$\n代入 $\\omega = 1/\\sqrt{LC}$：\n$$v_{C}(t) = \\frac{I_{0}}{C(1/\\sqrt{LC})} \\sin(\\omega t) = I_{0} \\sqrt{\\frac{L}{C}} \\sin\\left(\\frac{t}{\\sqrt{LC}}\\right)$$\n项 $Z_{0} = \\sqrt{L/C}$ 是谐振网络的特性阻抗。\n\n接下来，我们确定电容峰值电压、四分之一周期时间和峰值电流。\n- 电容峰值电压 $v_{C,\\max}$ 在 $\\sin(\\omega t)$ 为最大值（即 $1$）时出现。第一个最大值出现在 $\\omega t = \\pi/2$。\n$$v_{C,\\max} = I_{0} \\sqrt{\\frac{L}{C}}$$\n- 四分之一周期时间 $t_{q}$ 是 $i_{L}(t)$ 首次达到零的时刻。这在 $\\cos(\\omega t) = 0$ 首次出现（$t0$）时发生，即 $\\omega t = \\pi/2$。\n$$t_{q} = \\frac{\\pi}{2\\omega} = \\frac{\\pi}{2} \\sqrt{LC}$$\n- 电感峰值电流 $i_{L,\\max}$ 是 $i_{L}(t) = I_{0} \\cos(\\omega t)$ 的最大值。由于 $\\cos(\\cdot)$ 的最大值为 $1$，发生在 $t=0$ 时：\n$$i_{L,\\max} = I_{0}$$\n现在，我们基于元件容差 $L=L_{0}(1+\\epsilon_{L})$ 和 $C=C_{0}(1+\\epsilon_{C})$（其中 $|\\epsilon_{L}|\\leq\\delta_{L}$ 且 $|\\epsilon_{C}|\\leq\\delta_{C}$）进行最坏情况分析。\n\n标称值（当 $\\epsilon_L=0, \\epsilon_C=0$ 时）为：\n- $v_{C,\\max}^{\\text{nom}} = I_{0} \\sqrt{\\frac{L_{0}}{C_{0}}}$\n- $t_{q}^{\\text{nom}} = \\frac{\\pi}{2} \\sqrt{L_{0}C_{0}}$\n- $i_{L,\\max}^{\\text{nom}} = I_{0}$\n\n我们通过在容差范围内最大化 $v_{C,\\max}$、$t_{q}$ 和 $i_{L,\\max}$ 来寻求最坏情况比值。\n\n**1. 最坏情况电压比 $\\mathcal{D}_{V}$**\n峰值电压为 $v_{C,\\max} = I_{0} \\sqrt{L/C}$。代入容差表达式：\n$$v_{C,\\max} = I_{0} \\sqrt{\\frac{L_{0}(1+\\epsilon_{L})}{C_{0}(1+\\epsilon_{C})}} = \\left(I_{0} \\sqrt{\\frac{L_{0}}{C_{0}}}\\right) \\sqrt{\\frac{1+\\epsilon_{L}}{1+\\epsilon_{C}}} = v_{C,\\max}^{\\text{nom}} \\sqrt{\\frac{1+\\epsilon_{L}}{1+\\epsilon_{C}}}$$\n为了找到最坏情况（最大）峰值电压 $v_{C,\\max}^{\\text{worst}}$，我们必须在定义域 $|\\epsilon_{L}|\\leq\\delta_{L}$ 和 $|\\epsilon_{C}|\\leq\\delta_{C}$ 上最大化函数 $f(\\epsilon_{L}, \\epsilon_{C}) = \\sqrt{\\frac{1+\\epsilon_{L}}{1+\\epsilon_{C}}}$。当分子最大化且分母最小时，该函数达到最大值。\n- 分子 $1+\\epsilon_{L}$ 在 $\\epsilon_{L}$ 取最大值时最大：$\\epsilon_{L} = \\delta_{L}$。\n- 分母 $1+\\epsilon_{C}$ 在 $\\epsilon_{C}$ 取最小值时最小：$\\epsilon_{C} = -\\delta_{C}$。\n因此，最坏情况峰值电压为：\n$$v_{C,\\max}^{\\text{worst}} = v_{C,\\max}^{\\text{nom}} \\sqrt{\\frac{1+\\delta_{L}}{1-\\delta_{C}}}$$\n电容峰值电压的最坏情况比值为：\n$$\\mathcal{D}_{V} = \\frac{v_{C,\\max}^{\\text{worst}}}{v_{C,\\max}^{\\text{nom}}} = \\sqrt{\\frac{1+\\delta_{L}}{1-\\delta_{C}}}$$\n\n**2. 最坏情况时间比 $\\mathcal{D}_{T}$**\n四分之一周期时间为 $t_{q} = \\frac{\\pi}{2} \\sqrt{LC}$。代入容差表达式：\n$$t_{q} = \\frac{\\pi}{2} \\sqrt{L_{0}(1+\\epsilon_{L})C_{0}(1+\\epsilon_{C})} = \\left(\\frac{\\pi}{2} \\sqrt{L_{0}C_{0}}\\right) \\sqrt{(1+\\epsilon_{L})(1+\\epsilon_{C})} = t_{q}^{\\text{nom}} \\sqrt{(1+\\epsilon_{L})(1+\\epsilon_{C})}$$\n为了找到最坏情况（最大）时间 $t_{q}^{\\text{worst}}$，我们必须最大化函数 $g(\\epsilon_{L}, \\epsilon_{C}) = \\sqrt{(1+\\epsilon_{L})(1+\\epsilon_{C})}$。当乘积中的两项都最大化时，该函数达到最大值。\n- $1+\\epsilon_{L}$ 在 $\\epsilon_{L} = \\delta_{L}$ 时最大。\n- $1+\\epsilon_{C}$ 在 $\\epsilon_{C} = \\delta_{C}$ 时最大。\n因此，最坏情况四分之一周期时间为：\n$$t_{q}^{\\text{worst}} = t_{q}^{\\text{nom}} \\sqrt{(1+\\delta_{L})(1+\\delta_{C})}$$\n四分之一周期时间的最坏情况比值为：\n$$\\mathcal{D}_{T} = \\frac{t_{q}^{\\text{worst}}}{t_{q}^{\\text{nom}}} = \\sqrt{(1+\\delta_{L})(1+\\delta_{C})}$$\n\n**3. 最坏情况电流比 $\\mathcal{D}_{I}$**\n电感峰值电流为 $i_{L,\\max} = I_{0}$。该值仅由初始条件决定，不依赖于电路参数 $L$ 和 $C$。\n因此，无论容差如何，峰值电流都是恒定的。\n$$i_{L,\\max}^{\\text{worst}} = i_{L,\\max} = I_{0}$$\n标称峰值电流也是 $i_{L,\\max}^{\\text{nom}} = I_{0}$。\n峰值电流的最坏情况比值为：\n$$\\mathcal{D}_{I} = \\frac{i_{L,\\max}^{\\text{worst}}}{i_{L,\\max}^{\\text{nom}}} = \\frac{I_{0}}{I_{0}} = 1$$\n\n所求的三个比值为 $\\mathcal{D}_{V} = \\sqrt{\\frac{1+\\delta_{L}}{1-\\delta_{C}}}$、$\\mathcal{D}_{T} = \\sqrt{(1+\\delta_{L})(1+\\delta_{C})}$ 和 $\\mathcal{D}_{I} = 1$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\sqrt{\\frac{1+\\delta_{L}}{1-\\delta_{C}}}  \\sqrt{(1+\\delta_{L})(1+\\delta_{C})}  1\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "“无耗”只是一个理想化的说法，所有真实电路都存在损耗。这项高级练习直面这一现实，分析了寄生电阻（ESR）和二极管反向恢复对能量回收缓冲器效率的影响。您将确定一个关键阈值，在该阈值下，缓冲器自身的损耗超过其带来的益处，从而揭示无损开关技术的实际局限性。",
            "id": "3861624",
            "problem": "在一个直流链路中，一个金属-氧化物-半导体场效应晶体管（MOSFET）周围实现了一个非耗散的能量回收关断缓冲电路。该缓冲电路由一个跨接在开关两端的电容器 $C_{s}$ 和一个能量返回路径组成，该路径由一个串联电感 $L_{r}$、一个连接到输入总线的二极管 $D_{r}$ 以及不可避免的集总等效串联电阻（ESR）$R_{s}$ 构成，$R_{s}$ 结合了电容器的 ESR 和电感的绕组电阻。在每个开关事件期间，$C_{s}$ 中存储的能量（其电压约等于输入电压 $V_{\\mathrm{in}}$）预计在 $L_{r}$–$C_{s}$ 谐振的单个半周期内传回电源，同时 $D_{r}$ 将返回节点钳位在 $V_{\\mathrm{in}}$ 附近。然而，$D_{r}$ 表现出以电荷 $Q_{rr}$ 为特征的反向恢复过程，而 $R_{s}$ 在谐振电流流过时会引起焦耳热。\n\n仅使用第一性原理——能量守恒、无阻尼电感-电容网络的正弦解以及电阻中焦耳热的定义——推导一个闭式表达式，用于计算临界组合串联电阻 $R_{s,\\mathrm{crit}}$。在该电阻值下，相对于原本会在开关中损耗的硬开关能量，缓冲电路变为净耗散状态。也就是说，这个阈值定义为从硬开关中移除的能量与每个开关事件中缓冲电路内部耗散的能量相等。然后，使用以下参数对 $R_{s,\\mathrm{crit}}$ 进行数值计算：\n- 输入电压 $V_{\\mathrm{in}} = 600\\,\\mathrm{V}$，\n- 缓冲电感 $L_{r} = 2.0\\,\\mu\\mathrm{H}$，\n- 缓冲电容 $C_{s} = 200\\,\\mathrm{nF}$，\n- 二极管反向恢复电荷 $Q_{rr} = 40\\,\\mathrm{nC}$。\n\n将最终数值结果四舍五入至三位有效数字。答案以欧姆为单位表示。在您的推导中，明确说明触发净耗散行为的工作条件，并基于推导出的表达式，简要提出物理上合理的设计更改以恢复近乎无损的行为。",
            "solution": "比较的基准是在没有能量回收的情况下，开关中将耗散的硬开关能量。当一个充电至电压 $V_{\\mathrm{in}}$、电容值为 $C_{s}$ 的电容器突然放电（如硬开关中），其能量为\n$$\nE_{C} = \\frac{1}{2} C_{s} V_{\\mathrm{in}}^{2}.\n$$\n在名义上无损的能量回收缓冲电路中，这部分相同的能量被转移到 $L_{r}$–$C_{s}$ 谐振传输中，并返回到电源。当每个开关事件中缓冲电路元件内部耗散的能量等于或超过 $E_{C}$ 时，缓冲电路变为净耗散状态。因此，我们设定阈值条件为\n$$\nE_{\\mathrm{loss}} = E_{C},\n$$\n并求解在此阈值下的组合串联电阻 $R_{s}$，其中 $E_{\\mathrm{loss}}$ 包含了谐振传输期间 $R_{s}$ 中的焦耳热以及与二极管 $D_{r}$ 反向恢复相关的能量。\n\n为了计算每个事件中 $R_{s}$ 的电阻能量损耗，我们从无阻尼正弦 $L$–$C$ 响应开始，其初始条件适用于从电容器到电感的能量转移：$v_{C}(0) = V_{\\mathrm{in}}$ 和 $i_{L}(0) = 0$。无损二阶系统的解为\n$$\nv_{C}(t) = V_{\\mathrm{in}} \\cos(\\omega_{r} t), \\qquad i_{L}(t) = V_{\\mathrm{in}} \\sqrt{\\frac{C_{s}}{L_{r}}} \\sin(\\omega_{r} t),\n$$\n其中谐振角频率为\n$$\n\\omega_{r} = \\frac{1}{\\sqrt{L_{r} C_{s}}}.\n$$\n因此，传输过程中的电流是正弦波，其峰值幅度为\n$$\nI_{\\mathrm{pk}} = V_{\\mathrm{in}} \\sqrt{\\frac{C_{s}}{L_{r}}},\n$$\n持续时间为半个周期 $T_{1/2} = \\frac{\\pi}{\\omega_{r}}$。\n\n在这个半周期内，$R_{s}$ 中耗散的焦耳能量为\n$$\nE_{R} = \\int_{0}^{\\pi/\\omega_{r}} R_{s} \\, i^{2}(t) \\, d t = R_{s} \\int_{0}^{\\pi/\\omega_{r}} I_{\\mathrm{pk}}^{2} \\sin^{2}(\\omega_{r} t) \\, d t = R_{s} I_{\\mathrm{pk}}^{2} \\frac{\\pi}{2 \\omega_{r}}.\n$$\n代入 $I_{\\mathrm{pk}}$ 和 $\\omega_{r}$，\n$$\nE_{R} = R_{s} \\left(V_{\\mathrm{in}}^{2} \\frac{C_{s}}{L_{r}}\\right) \\frac{\\pi}{2} \\sqrt{L_{r} C_{s}} = R_{s} \\frac{\\pi}{2} V_{\\mathrm{in}}^{2} \\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}}.\n$$\n\n二极管反向恢复在每个事件中引入了额外的能量损耗。反向恢复过程通常以电荷 $Q_{rr}$ 为特征，该电荷在二极管承受近似钳位电压 $V_{\\mathrm{in}}$ 时流过，因此每个开关事件的能量可以通过能量积分估算为\n$$\nE_{rr} \\approx \\int v_{D}(t) i_{rr}(t) \\, d t \\approx V_{\\mathrm{in}} Q_{rr}.\n$$\n\n结合这些损耗，每个事件的总缓冲电路损耗为\n$$\nE_{\\mathrm{loss}} = E_{R} + E_{rr} = R_{s} \\frac{\\pi}{2} V_{\\mathrm{in}}^{2} \\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}} + V_{\\mathrm{in}} Q_{rr}.\n$$\n相对于硬开关，净耗散行为的阈值是 $E_{\\mathrm{loss}} = E_{C}$，这给出了临界电阻\n$$\nR_{s,\\mathrm{crit}} = \\frac{E_{C} - V_{\\mathrm{in}} Q_{rr}}{\\frac{\\pi}{2} V_{\\mathrm{in}}^{2} \\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}}}.\n$$\n代入 $E_{C} = \\frac{1}{2} C_{s} V_{\\mathrm{in}}^{2}$，\n$$\nR_{s,\\mathrm{crit}} = \\frac{\\frac{1}{2} C_{s} V_{\\mathrm{in}}^{2} - V_{\\mathrm{in}} Q_{rr}}{\\frac{\\pi}{2} V_{\\mathrm{in}}^{2} \\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}}}.\n$$\n\n我们现在对 $V_{\\mathrm{in}} = 600\\,\\mathrm{V}$、$L_{r} = 2.0 \\times 10^{-6}\\,\\mathrm{H}$、$C_{s} = 200 \\times 10^{-9}\\,\\mathrm{F}$ 和 $Q_{rr} = 40 \\times 10^{-9}\\,\\mathrm{C}$ 进行数值计算。\n\n首先计算参考能量：\n$$\nE_{C} = \\frac{1}{2} \\cdot 200 \\times 10^{-9} \\cdot 600^{2} = \\frac{1}{2} \\cdot 200 \\times 10^{-9} \\cdot 360000 = 0.036\\,\\mathrm{J},\n$$\n$$\nE_{rr} = 600 \\cdot 40 \\times 10^{-9} = 2.4 \\times 10^{-5}\\,\\mathrm{J}.\n$$\n接下来计算分母因子：\n$$\nC_{s}^{3/2} = C_{s} \\sqrt{C_{s}} = \\left(200 \\times 10^{-9}\\right) \\sqrt{200 \\times 10^{-9}} \\approx 8.9442719 \\times 10^{-11},\n$$\n$$\n\\sqrt{L_{r}} = \\sqrt{2.0 \\times 10^{-6}} \\approx 1.4142136 \\times 10^{-3},\n$$\n$$\n\\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}} \\approx \\frac{8.9442719 \\times 10^{-11}}{1.4142136 \\times 10^{-3}} \\approx 6.3245553 \\times 10^{-8}.\n$$\n因此，\n$$\n\\frac{\\pi}{2} V_{\\mathrm{in}}^{2} \\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}} \\approx \\frac{\\pi}{2} \\cdot 360000 \\cdot 6.3245553 \\times 10^{-8} \\approx 0.0357645\\,\\mathrm{J}\\,\\mathrm{\\Omega}^{-1}.\n$$\n最后，临界电阻为\n$$\nR_{s,\\mathrm{crit}} = \\frac{E_{C} - E_{rr}}{\\frac{\\pi}{2} V_{\\mathrm{in}}^{2} \\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}}} \\approx \\frac{0.036 - 0.000024}{0.0357645} \\approx 1.0059\\,\\mathrm{\\Omega}.\n$$\n四舍五入到三位有效数字，结果是 $1.01\\,\\mathrm{\\Omega}$。\n\n因此，触发净耗散行为的工作条件是，对于给定的 $V_{\\mathrm{in}}$、$L_{r}$、$C_{s}$ 和 $Q_{rr}$，组合的 ESR $R_{s}$ 满足 $R_{s} \\ge R_{s,\\mathrm{crit}}$，即当\n$$\nR_{s} \\ge \\frac{\\frac{1}{2} C_{s} V_{\\mathrm{in}}^{2} - V_{\\mathrm{in}} Q_{rr}}{\\frac{\\pi}{2} V_{\\mathrm{in}}^{2} \\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}}}.\n$$\n这个不等式确定了缓冲电路内部损耗等于其旨在恢复的硬开关能量的边界；超过这个边界，缓冲电路会增加总耗散。\n\n为了恢复近乎无损的行为，推导出的表达式提出了物理上合理的设计更改：\n- 通过选择更低 ESR 的电容器和更低电阻的电感器来减小 $R_{s}$，这将按比例减小 $E_{R}$。\n- 通过使用具有可忽略反向恢复的二极管（例如碳化硅肖特基二极管）来减小 $Q_{rr}$，这将直接降低 $E_{rr}$。\n- 调整 $L_{r}$ 和 $C_{s}$ 以减小 $\\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}}$；例如，增加 $L_{r}$ 或减小 $C_{s}$ 会降低每个事件的 $E_{R}$，同时保持足够的缓冲电容以限制 $d v / d t$。这些更改是基于 $E_{R}$ 对 $C_{s}^{3/2}$ 和 $L_{r}^{-1/2}$ 的敏感性，并能保留能量回收机制。",
            "answer": "$$\\boxed{1.01}$$"
        }
    ]
}