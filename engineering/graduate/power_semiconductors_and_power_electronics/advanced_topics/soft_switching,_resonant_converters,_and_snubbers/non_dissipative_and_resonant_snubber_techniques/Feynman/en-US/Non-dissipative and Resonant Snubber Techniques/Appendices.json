{
    "hands_on_practices": [
        {
            "introduction": "Designing a resonant snubber begins with mastering its ideal behavior. This exercise challenges you to derive the fundamental operating equations for a lossless turn-off snubber from first principles and apply them to a realistic design problem. By formulating and solving an optimization problem, you will learn how to select ideal component values to minimize electrical stress on the switch while meeting critical performance constraints like transition speed and voltage overshoot.",
            "id": "3861610",
            "problem": "A non-dissipative resonant turn-off snubber is applied across a high-voltage power metal-oxide-semiconductor field-effect transistor (MOSFET) connected to a Direct Current (DC) bus. The snubber consists of a series inductor $L$ and capacitor $C$ that shape the device’s drain-source voltage during turn-off by engaging a lossless resonance from $0$ to the bus voltage $V_{dc}$. Assume negligible resistance and ideal initial conditions consistent with a resonant transition. The design objective is to minimize the peak snubber current to reduce semiconductor stress while meeting a specified transition time and overshoot requirement.\n\nStarting from Kirchhoff’s Voltage Law (KVL) and Kirchhoff’s Current Law (KCL) applied to the ideal series $LC$ network driven by the DC bus, derive the governing second-order differential equation and solve for the capacitor voltage $v_{C}(t)$ and inductor current $i_{L}(t)$ under initial conditions that correspond to initiating a resonant rise of the switch voltage from $0$ toward $V_{dc}$. Use those solutions to obtain the quarter-cycle transition time $t_{d}$ and the peak snubber current $I_{pk}$ as functions of $L$, $C$, and $V_{dc}$. Model the maximum voltage overshoot $\\Delta V$ above $V_{dc}$ caused by a control timing uncertainty $\\delta t$ as the excess value of $v_{C}(t)$ at $t = t_{d} + \\delta t$.\n\nFormulate the optimization problem that minimizes the peak snubber current subject to:\n- an equality constraint on the transition time $t_{d}$,\n- an inequality constraint limiting the overshoot to at most $\\Delta V$ due to $\\delta t$, and\n- a practical upper bound on the inductor value $L \\leq L_{\\max}$ due to size and winding constraints.\n\nGiven the numerical specifications $V_{dc} = 400$ $\\mathrm{V}$, $t_{d} = 100$ $\\mathrm{ns}$, $\\Delta V = 40$ $\\mathrm{V}$, $\\delta t = 5$ $\\mathrm{ns}$, and $L_{\\max} = 2.000$ $\\mathrm{\\mu H}$, solve the optimization problem to find the optimal $L$ and $C$. Express the final inductance in $\\mathrm{\\mu H}$ and the capacitance in $\\mathrm{nF}$. Round your answers to four significant figures.",
            "solution": "The problem requires the analysis and optimization of a non-dissipative resonant turn-off snubber. The validation phase confirms the problem is scientifically grounded, well-posed, and contains sufficient information for a unique solution under a reasonable interpretation of the physical model.\n\nFirst, we derive the governing differential equation for the snubber circuit. The problem specifies modeling the snubber as an ideal series inductor $L$ and capacitor $C$ network driven by the DC bus voltage $V_{dc}$. This corresponds to a circuit where a voltage step of $V_{dc}$ is applied to a series LC circuit at $t=0$. The Kirchhoff’s Voltage Law (KVL) for this loop is:\n$$V_{dc} = v_L(t) + v_C(t)$$\nwhere $v_L(t)$ is the inductor voltage and $v_C(t)$ is the capacitor voltage. The constitutive relations for the ideal inductor and capacitor are:\n$$v_L(t) = L \\frac{di_L}{dt}$$\n$$i_C(t) = C \\frac{dv_C}{dt}$$\nSince the inductor and capacitor are in series, their currents are identical, $i_L(t) = i_C(t)$. Substituting the constitutive relations into the KVL equation yields:\n$$V_{dc} = L \\frac{d}{dt}\\left(C \\frac{dv_C}{dt}\\right) + v_C(t)$$\n$$LC \\frac{d^2v_C}{dt^2} + v_C(t) = V_{dc}$$\nThis can be written in the standard form for a second-order linear non-homogeneous differential equation:\n$$\\frac{d^2v_C}{dt^2} + \\omega_0^2 v_C(t) = \\omega_0^2 V_{dc}$$\nwhere $\\omega_0 = \\frac{1}{\\sqrt{LC}}$ is the resonant angular frequency.\n\nThe problem states that the resonant transition initiates a rise of the switch voltage from $0$. The switch voltage is the voltage across the snubber, which is predominantly the capacitor voltage $v_C(t)$ in this simplified model. Thus, the initial condition is $v_C(0) = 0$. For a resonant turn-off process starting from a quiescent state (as implied by the simplified model of a step voltage driving the LC circuit), the initial current in the snubber is zero, so $i_L(0) = 0$.\n\nThe general solution to the differential equation is the sum of a particular solution $v_{Cp}(t)$ and a homogeneous solution $v_{Ch}(t)$. The particular solution is a constant, $v_{Cp}(t) = V_{dc}$. The homogeneous solution is of the form $v_{Ch}(t) = A\\cos(\\omega_0 t) + B\\sin(\\omega_0 t)$. The full solution for $v_C(t)$ is:\n$$v_C(t) = A\\cos(\\omega_0 t) + B\\sin(\\omega_0 t) + V_{dc}$$\nApplying the initial condition $v_C(0) = 0$:\n$$v_C(0) = A\\cos(0) + B\\sin(0) + V_{dc} = A + V_{dc} = 0 \\implies A = -V_{dc}$$\nThe second initial condition is $i_L(0)=0$. We find $i_L(t)$ by differentiating $v_C(t)$:\n$$i_L(t) = C \\frac{dv_C}{dt} = C \\omega_0 (-A\\sin(\\omega_0 t) + B\\cos(\\omega_0 t))$$\nApplying $i_L(0) = 0$:\n$$i_L(0) = C \\omega_0 (B) = 0 \\implies B = 0$$\nSo, the final solutions for the capacitor voltage and inductor current are:\n$$v_C(t) = V_{dc}(1 - \\cos(\\omega_0 t))$$\n$$i_L(t) = C \\omega_0 (-(-V_{dc})\\sin(\\omega_0 t)) = C \\omega_0 V_{dc} \\sin(\\omega_0 t)$$\nWe can express the current in terms of the characteristic impedance $Z_0 = \\sqrt{L/C}$:\n$$i_L(t) = \\frac{V_{dc}}{Z_0} \\sin(\\omega_0 t)$$\n\nNext, we derive the transition time $t_d$ and the peak current $I_{pk}$. The transition time $t_d$ is the time it takes for $v_C(t)$ to rise from $0$ to $V_{dc}$.\n$$v_C(t_d) = V_{dc} \\implies V_{dc}(1 - \\cos(\\omega_0 t_d)) = V_{dc}$$\n$$1 - \\cos(\\omega_0 t_d) = 1 \\implies \\cos(\\omega_0 t_d) = 0$$\nThe first positive time for this is when $\\omega_0 t_d = \\pi/2$.\n$$t_d = \\frac{\\pi}{2\\omega_0} = \\frac{\\pi}{2}\\sqrt{LC}$$\nThe peak snubber current $I_{pk}$ is the maximum value of $i_L(t)$, which occurs when $\\sin(\\omega_0 t) = 1$:\n$$I_{pk} = \\frac{V_{dc}}{Z_0} = V_{dc}\\sqrt{\\frac{C}{L}}$$\n\nThe voltage overshoot $\\Delta V$ is modeled as the excess voltage at time $t = t_d + \\delta t$. The voltage at this time is:\n$$v_C(t_d + \\delta t) = V_{dc}(1 - \\cos(\\omega_0 (t_d + \\delta t))) = V_{dc}(1 - \\cos(\\frac{\\pi}{2} + \\omega_0 \\delta t))$$\nUsing the trigonometric identity $\\cos(\\frac{\\pi}{2} + x) = -\\sin(x)$, we get:\n$$v_C(t_d + \\delta t) = V_{dc}(1 + \\sin(\\omega_0 \\delta t))$$\nThe overshoot above $V_{dc}$ is:\n$$\\Delta V_{\\text{model}} = v_C(t_d + \\delta t) - V_{dc} = V_{dc} \\sin(\\omega_0 \\delta t)$$\nThe constraint is $\\Delta V_{\\text{model}} \\le \\Delta V$.\n\nNow, we formulate and solve the optimization problem:\nMinimize: $I_{pk}(L,C) = V_{dc}\\sqrt{C/L}$\nSubject to:\n1. $t_d = \\frac{\\pi}{2}\\sqrt{LC} = T_d^{\\text{spec}}$ (where $T_d^{\\text{spec}} = 100 \\text{ ns}$)\n2. $V_{dc} \\sin(\\omega_0 \\delta t) \\le \\Delta V$\n3. $L \\le L_{\\max}$\n\nFrom constraint 1, we can express the product $LC$ as a constant:\n$$LC = \\left(\\frac{2T_d^{\\text{spec}}}{\\pi}\\right)^2 = K$$\nWe can express $C$ in terms of $L$: $C = K/L$.\nSubstituting this into the objective function:\n$$I_{pk}(L) = V_{dc}\\sqrt{\\frac{K/L}{L}} = V_{dc}\\frac{\\sqrt{K}}{L} = V_{dc}\\frac{2T_d^{\\text{spec}}}{\\pi L}$$\nTo minimize $I_{pk}$, we must maximize $L$.\n\nLet's examine constraint 2. From constraint 1, $\\omega_0 = \\frac{\\pi}{2T_d^{\\text{spec}}}$. This means $\\omega_0$ is fixed by the transition time requirement.\n$$V_{dc} \\sin\\left(\\frac{\\pi \\delta t}{2T_d^{\\text{spec}}}\\right) \\le \\Delta V$$\nLet's check this constraint with the given numerical values:\n$$V_{dc} = 400 \\text{ V}, \\Delta V = 40 \\text{ V}, \\delta t = 5 \\text{ ns}, T_d^{\\text{spec}} = 100 \\text{ ns}$$\n$$\\text{Overshoot} = 400 \\sin\\left(\\frac{\\pi \\times 5 \\times 10^{-9}}{2 \\times 100 \\times 10^{-9}}\\right) = 400 \\sin\\left(\\frac{\\pi}{40}\\right)$$\n$$\\sin\\left(\\frac{\\pi}{40}\\right) \\approx 0.078459$$\n$$\\text{Overshoot} \\approx 400 \\times 0.078459 = 31.3836 \\text{ V}$$\nSince $31.3836 \\text{ V} \\le 40 \\text{ V}$, constraint 2 is satisfied for any choice of $L$ and $C$ that meets the transition time constraint.\n\nThe optimization problem simplifies to maximizing $L$ subject to $L \\le L_{\\max}$. The trivial solution is to choose the largest possible value for $L$.\n$$L_{opt} = L_{\\max}$$\nGiven $L_{\\max} = 2.000 \\text{ } \\mu\\text{H}$.\n$$L_{opt} = 2.000 \\times 10^{-6} \\text{ H}$$\nNow we find the corresponding optimal capacitance $C_{opt}$ from constraint 1:\n$$C_{opt} = \\frac{1}{L_{opt}}\\left(\\frac{2T_d^{\\text{spec}}}{\\pi}\\right)^2 = \\frac{1}{2.000 \\times 10^{-6}} \\left(\\frac{2 \\times 100 \\times 10^{-9}}{\\pi}\\right)^2$$\n$$C_{opt} = \\frac{1}{2.000 \\times 10^{-6}} \\left(\\frac{2 \\times 10^{-7}}{\\pi}\\right)^2 = \\frac{4 \\times 10^{-14}}{2.000 \\times 10^{-6} \\times \\pi^2}$$\n$$C_{opt} = \\frac{2 \\times 10^{-8}}{\\pi^2} \\text{ F} \\approx \\frac{2 \\times 10^{-8}}{9.8696044} \\text{ F} \\approx 2.0264658 \\times 10^{-9} \\text{ F}$$\nSo, $C_{opt} \\approx 2.0264658 \\text{ nF}$.\n\nThe problem requires the final answers rounded to four significant figures.\nThe optimal inductance $L_{opt}$ in $\\mu\\text{H}$ is:\n$$L_{opt} = 2.000 \\text{ } \\mu\\text{H}$$\nThe optimal capacitance $C_{opt}$ in $\\text{nF}$ is:\n$$C_{opt} = 2.026 \\text{ nF}$$",
            "answer": "$$\\boxed{\\begin{pmatrix} 2.000 & 2.026 \\end{pmatrix}}$$"
        },
        {
            "introduction": "An ideal design is only a starting point; a robust one must account for real-world component imperfections. This practice explores the impact of manufacturing tolerances in the snubber's inductor $L$ and capacitor $C$ on its performance. You will perform a worst-case analysis to quantify how these variations affect peak voltage stress and transition timing, a critical step in ensuring the circuit operates reliably and safely across all manufactured units.",
            "id": "3861635",
            "problem": "A non-dissipative resonant snubber consisting of an ideal inductor $L$ in series with an ideal capacitor $C$ is connected across an ideal semiconductor switch in a direct current (DC) converter. At turn-off, the switch current commutates instantaneously into the snubber branch, injecting an initial current $i_{L}(0)=I_{0}>0$ into the series $LC$ at the same moment, while the capacitor starts from $v_{C}(0)=0$. Assume the $LC$ network is lossless and remains isolated from other elements during the transient, so its subsequent dynamics are governed only by its own energy exchange.\n\nTreat the inductor and capacitor as manufactured components with fractional tolerances $\\Delta L/L$ and $\\Delta C/C$ that are symmetric and bounded, modeled by $L=L_{0}(1+\\epsilon_{L})$ and $C=C_{0}(1+\\epsilon_{C})$, where the nominal values $L_{0}>0$, $C_{0}>0$ are fixed, and the tolerance offsets satisfy $|\\epsilon_{L}|\\leq\\delta_{L}$ and $|\\epsilon_{C}|\\leq\\delta_{C}$ with given bounds $\\delta_{L}\\in(0,1)$ and $\\delta_{C}\\in(0,1)$. Ignore all parasitic resistance and stray inductance external to the snubber branch.\n\nStarting only from Kirchhoff’s voltage law, Kirchhoff’s current law, and the constitutive relations $v_{L}(t)=L\\,\\mathrm{d}i_{L}(t)/\\mathrm{d}t$ and $i_{C}(t)=C\\,\\mathrm{d}v_{C}(t)/\\mathrm{d}t$, and using the specified initial conditions, derive the time-domain evolution of $v_{C}(t)$ and $i_{L}(t)$ and identify:\n- the peak capacitor voltage $v_{C,\\max}$ attained during the first quarter cycle of the resonance,\n- the quarter-cycle time $t_{q}$ at which $i_{L}(t)$ first reaches zero.\n\nThen, determine how the bounded tolerances $\\delta_{L}$ and $\\delta_{C}$ affect worst-case peak stress and timing by finding:\n- the worst-case ratio of peak capacitor voltage to its nominal prediction, $\\mathcal{D}_{V}\\equiv v_{C,\\max}^{\\text{worst}}/v_{C,\\max}^{\\text{nom}}$,\n- the worst-case ratio of quarter-cycle time to its nominal prediction, $\\mathcal{D}_{T}\\equiv t_{q}^{\\text{worst}}/t_{q}^{\\text{nom}}$,\n- the worst-case ratio of peak snubber branch current to its nominal prediction, $\\mathcal{D}_{I}\\equiv i_{L,\\max}^{\\text{worst}}/i_{L,\\max}^{\\text{nom}}$.\n\nHere “nominal prediction” means the values computed using $L=L_{0}$ and $C=C_{0}$, and “worst-case” means the extreme within the tolerance box $|\\epsilon_{L}|\\leq\\delta_{L}$, $|\\epsilon_{C}|\\leq\\delta_{C}$ that maximizes the corresponding quantity. Explicitly express $\\mathcal{D}_{V}$, $\\mathcal{D}_{T}$, and $\\mathcal{D}_{I}$ as closed-form functions of $\\delta_{L}$ and $\\delta_{C}$ only. Provide the final answer as a single row matrix containing $\\mathcal{D}_{V}$, $\\mathcal{D}_{T}$, and $\\mathcal{D}_{I}$. Each entry must be dimensionless. No numerical rounding is required.",
            "solution": "The problem as stated is valid. It is scientifically grounded in the principles of circuit theory, well-posed with sufficient initial conditions, and formulated in objective, unambiguous language. We may proceed with the solution.\n\nThe problem asks for the derivation of the time-domain behavior of a series $LC$ circuit and a subsequent worst-case analysis of its key performance metrics considering component tolerances.\n\nLet $v_{L}(t)$ be the voltage across the inductor $L$ and $v_{C}(t)$ be the voltage across the capacitor $C$. Let $i_{L}(t)$ be the current flowing through the inductor, which is the same as the current flowing into the capacitor, $i_{C}(t)$, as they are in series. The snubber branch is assumed to be isolated. Applying Kirchhoff’s Voltage Law (KVL) to the closed loop gives:\n$$v_{L}(t) + v_{C}(t) = 0$$\nThe constitutive relations for the inductor and capacitor are given as:\n$$v_{L}(t) = L \\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t}$$\n$$i_{C}(t) = C \\frac{\\mathrm{d}v_{C}(t)}{\\mathrm{d}t}$$\nSince $i_{L}(t) = i_{C}(t)$, we can write:\n$$i_{L}(t) = C \\frac{\\mathrm{d}v_{C}(t)}{\\mathrm{d}t}$$\nSubstituting the constitutive relation for $v_{L}(t)$ into the KVL equation yields:\n$$L \\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t} + v_{C}(t) = 0$$\nTo obtain a second-order differential equation for the current $i_{L}(t)$, we differentiate this equation with respect to time $t$:\n$$L \\frac{\\mathrm{d}^2i_{L}(t)}{\\mathrm{d}t^2} + \\frac{\\mathrm{d}v_{C}(t)}{\\mathrm{d}t} = 0$$\nNow, we substitute $\\frac{\\mathrm{d}v_{C}(t)}{\\mathrm{d}t} = \\frac{i_{L}(t)}{C}$ into the above equation:\n$$L \\frac{\\mathrm{d}^2i_{L}(t)}{\\mathrm{d}t^2} + \\frac{1}{C} i_{L}(t) = 0$$\nRearranging gives the standard form for a simple harmonic oscillator:\n$$\\frac{\\mathrm{d}^2i_{L}(t)}{\\mathrm{d}t^2} + \\frac{1}{LC} i_{L}(t) = 0$$\nThe natural resonant angular frequency of the circuit is $\\omega = \\frac{1}{\\sqrt{LC}}$. The general solution for $i_{L}(t)$ is:\n$$i_{L}(t) = A \\cos(\\omega t) + B \\sin(\\omega t)$$\nwhere $A$ and $B$ are constants determined by the initial conditions.\n\nThe initial conditions are given at $t=0$:\n1. $i_{L}(0) = I_{0}$\n2. $v_{C}(0) = 0$\n\nApplying the first initial condition to the general solution for $i_{L}(t)$:\n$$i_{L}(0) = A \\cos(0) + B \\sin(0) = A = I_{0}$$\nTo use the second initial condition, we evaluate the KVL equation at $t=0$:\n$$v_{L}(0) + v_{C}(0) = 0$$\nGiven $v_{C}(0)=0$, we have $v_{L}(0) = 0$. Using the inductor's constitutive relation at $t=0$:\n$$v_{L}(0) = L \\left. \\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t} \\right|_{t=0} = 0$$\nSince $L>0$, it requires $\\left. \\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t} \\right|_{t=0} = 0$. Differentiating the general solution for $i_{L}(t)$:\n$$\\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t} = -A\\omega \\sin(\\omega t) + B\\omega \\cos(\\omega t)$$\nEvaluating at $t=0$:\n$$\\left. \\frac{\\mathrm{d}i_{L}(t)}{\\mathrm{d}t} \\right|_{t=0} = -A\\omega \\sin(0) + B\\omega \\cos(0) = B\\omega$$\nSince $B\\omega = 0$ and $\\omega = 1/\\sqrt{LC} > 0$, we must have $B=0$.\nTherefore, the particular solution for the inductor current is:\n$$i_{L}(t) = I_{0} \\cos(\\omega t) = I_{0} \\cos\\left(\\frac{t}{\\sqrt{LC}}\\right)$$\nTo find the capacitor voltage $v_{C}(t)$, we use $i_{L}(t) = C \\frac{\\mathrm{d}v_{C}(t)}{\\mathrm{d}t}$, which implies $\\mathrm{d}v_{C}(t) = \\frac{1}{C} i_{L}(t) \\mathrm{d}t$. Integrating from $0$ to $t$:\n$$v_{C}(t) - v_{C}(0) = \\frac{1}{C} \\int_{0}^{t} i_{L}(\\tau) \\mathrm{d}\\tau$$\nWith $v_{C}(0)=0$:\n$$v_{C}(t) = \\frac{1}{C} \\int_{0}^{t} I_{0} \\cos(\\omega \\tau) \\mathrm{d}\\tau = \\frac{I_{0}}{C} \\left[ \\frac{\\sin(\\omega \\tau)}{\\omega} \\right]_{0}^{t} = \\frac{I_{0}}{C\\omega} \\sin(\\omega t)$$\nSubstituting $\\omega = 1/\\sqrt{LC}$:\n$$v_{C}(t) = \\frac{I_{0}}{C(1/\\sqrt{LC})} \\sin(\\omega t) = I_{0} \\sqrt{\\frac{L}{C}} \\sin\\left(\\frac{t}{\\sqrt{LC}}\\right)$$\nThe term $Z_{0} = \\sqrt{L/C}$ is the characteristic impedance of the resonant network.\n\nNext, we identify the peak capacitor voltage, quarter-cycle time, and peak current.\n- The peak capacitor voltage $v_{C,\\max}$ occurs when $\\sin(\\omega t)$ is maximum, which is $1$. The first maximum is at $\\omega t = \\pi/2$.\n$$v_{C,\\max} = I_{0} \\sqrt{\\frac{L}{C}}$$\n- The quarter-cycle time $t_{q}$ is the time at which $i_{L}(t)$ first reaches zero. This occurs when $\\cos(\\omega t) = 0$ for the first time with $t>0$, which is at $\\omega t = \\pi/2$.\n$$t_{q} = \\frac{\\pi}{2\\omega} = \\frac{\\pi}{2} \\sqrt{LC}$$\n- The peak inductor current $i_{L,\\max}$ is the maximum value of $i_{L}(t) = I_{0} \\cos(\\omega t)$. Since the maximum value of $\\cos(\\cdot)$ is $1$, occurring at $t=0$:\n$$i_{L,\\max} = I_{0}$$\nNow, we perform the worst-case analysis based on the component tolerances $L=L_{0}(1+\\epsilon_{L})$ and $C=C_{0}(1+\\epsilon_{C})$, where $|\\epsilon_{L}|\\leq\\delta_{L}$ and $|\\epsilon_{C}|\\leq\\delta_{C}$.\n\nThe nominal values (with $\\epsilon_L=0, \\epsilon_C=0$) are:\n- $v_{C,\\max}^{\\text{nom}} = I_{0} \\sqrt{\\frac{L_{0}}{C_{0}}}$\n- $t_{q}^{\\text{nom}} = \\frac{\\pi}{2} \\sqrt{L_{0}C_{0}}$\n- $i_{L,\\max}^{\\text{nom}} = I_{0}$\n\nWe seek the worst-case ratios by maximizing $v_{C,\\max}$, $t_{q}$, and $i_{L,\\max}$ over the tolerance ranges.\n\n**1. Worst-case Voltage Ratio $\\mathcal{D}_{V}$**\nThe peak voltage is $v_{C,\\max} = I_{0} \\sqrt{L/C}$. Substituting the tolerance expressions:\n$$v_{C,\\max} = I_{0} \\sqrt{\\frac{L_{0}(1+\\epsilon_{L})}{C_{0}(1+\\epsilon_{C})}} = \\left(I_{0} \\sqrt{\\frac{L_{0}}{C_{0}}}\\right) \\sqrt{\\frac{1+\\epsilon_{L}}{1+\\epsilon_{C}}} = v_{C,\\max}^{\\text{nom}} \\sqrt{\\frac{1+\\epsilon_{L}}{1+\\epsilon_{C}}}$$\nTo find the worst-case (maximum) peak voltage $v_{C,\\max}^{\\text{worst}}$, we must maximize the function $f(\\epsilon_{L}, \\epsilon_{C}) = \\sqrt{\\frac{1+\\epsilon_{L}}{1+\\epsilon_{C}}}$ over the domain $|\\epsilon_{L}|\\leq\\delta_{L}$ and $|\\epsilon_{C}|\\leq\\delta_{C}$. The function is maximized when the numerator is maximized and the denominator is minimized.\n- Numerator $1+\\epsilon_{L}$ is maximized when $\\epsilon_{L}$ is maximum: $\\epsilon_{L} = \\delta_{L}$.\n- Denominator $1+\\epsilon_{C}$ is minimized when $\\epsilon_{C}$ is minimum: $\\epsilon_{C} = -\\delta_{C}$.\nThus, the worst-case peak voltage is:\n$$v_{C,\\max}^{\\text{worst}} = v_{C,\\max}^{\\text{nom}} \\sqrt{\\frac{1+\\delta_{L}}{1-\\delta_{C}}}$$\nThe worst-case ratio of peak capacitor voltage is:\n$$\\mathcal{D}_{V} = \\frac{v_{C,\\max}^{\\text{worst}}}{v_{C,\\max}^{\\text{nom}}} = \\sqrt{\\frac{1+\\delta_{L}}{1-\\delta_{C}}}$$\n\n**2. Worst-case Time Ratio $\\mathcal{D}_{T}$**\nThe quarter-cycle time is $t_{q} = \\frac{\\pi}{2} \\sqrt{LC}$. Substituting the tolerance expressions:\n$$t_{q} = \\frac{\\pi}{2} \\sqrt{L_{0}(1+\\epsilon_{L})C_{0}(1+\\epsilon_{C})} = \\left(\\frac{\\pi}{2} \\sqrt{L_{0}C_{0}}\\right) \\sqrt{(1+\\epsilon_{L})(1+\\epsilon_{C})} = t_{q}^{\\text{nom}} \\sqrt{(1+\\epsilon_{L})(1+\\epsilon_{C})}$$\nTo find the worst-case (maximum) time $t_{q}^{\\text{worst}}$, we must maximize the function $g(\\epsilon_{L}, \\epsilon_{C}) = \\sqrt{(1+\\epsilon_{L})(1+\\epsilon_{C})}$. This function is maximized when both terms in the product are maximized.\n- $1+\\epsilon_{L}$ is maximized when $\\epsilon_{L} = \\delta_{L}$.\n- $1+\\epsilon_{C}$ is maximized when $\\epsilon_{C} = \\delta_{C}$.\nThus, the worst-case quarter-cycle time is:\n$$t_{q}^{\\text{worst}} = t_{q}^{\\text{nom}} \\sqrt{(1+\\delta_{L})(1+\\delta_{C})}$$\nThe worst-case ratio of quarter-cycle time is:\n$$\\mathcal{D}_{T} = \\frac{t_{q}^{\\text{worst}}}{t_{q}^{\\text{nom}}} = \\sqrt{(1+\\delta_{L})(1+\\delta_{C})}$$\n\n**3. Worst-case Current Ratio $\\mathcal{D}_{I}$**\nThe peak inductor current is $i_{L,\\max} = I_{0}$. This value is determined solely by the initial condition and does not depend on the circuit parameters $L$ and $C$.\nTherefore, the peak current is constant regardless of the tolerances.\n$$i_{L,\\max}^{\\text{worst}} = i_{L,\\max} = I_{0}$$\nThe nominal peak current is also $i_{L,\\max}^{\\text{nom}} = I_{0}$.\nThe worst-case ratio of peak current is:\n$$\\mathcal{D}_{I} = \\frac{i_{L,\\max}^{\\text{worst}}}{i_{L,\\max}^{\\text{nom}}} = \\frac{I_{0}}{I_{0}} = 1$$\n\nThe three requested ratios are $\\mathcal{D}_{V} = \\sqrt{\\frac{1+\\delta_{L}}{1-\\delta_{C}}}$, $\\mathcal{D}_{T} = \\sqrt{(1+\\delta_{L})(1+\\delta_{C})}$, and $\\mathcal{D}_{I} = 1$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\sqrt{\\frac{1+\\delta_{L}}{1-\\delta_{C}}} & \\sqrt{(1+\\delta_{L})(1+\\delta_{C})} & 1\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "The term 'non-dissipative' is an idealization that real-world components can compromise. This exercise delves into the practical limits of resonant snubbers by accounting for parasitic losses, specifically the components' equivalent series resistance ($R_{s}$) and the recovery diode's reverse-recovery charge ($Q_{rr}$). By deriving the critical resistance at which the snubber becomes net dissipative, you will gain a sophisticated understanding of the trade-offs involved in achieving truly high-efficiency energy recovery.",
            "id": "3861624",
            "problem": "A non-dissipative, energy-recovery turn-off snubber is implemented around a metal-oxide-semiconductor field-effect transistor (MOSFET) in a direct current link. The snubber consists of a capacitor $C_{s}$ connected across the switch and an energy-return path formed by a series inductor $L_{r}$, a diode $D_{r}$ to the input bus, and the unavoidable lumped effective series resistance (ESR) $R_{s}$ that combines the capacitor’s ESR and the inductor’s winding resistance. During each switching event, the energy stored in $C_{s}$ at approximately the input voltage $V_{\\mathrm{in}}$ is intended to be transferred back to the source over a single half-cycle of the $L_{r}$–$C_{s}$ resonance while $D_{r}$ clamps the return node near $V_{\\mathrm{in}}$. However, $D_{r}$ exhibits reverse-recovery characterized by a charge $Q_{rr}$, and $R_{s}$ causes Joule heating during the resonant current flow.\n\nUsing only first principles—energy conservation, the sinusoidal solution of an undamped inductor–capacitor network, and the definition of Joule heating in a resistor—derive a closed-form expression for the critical combined series resistance $R_{s,\\mathrm{crit}}$ at which the snubber becomes net dissipative relative to the hard-switching energy that would otherwise be lost in the switch, that is, the threshold defined by the equality between the energy removed from hard switching and the energy dissipated inside the snubber per switching event. Then evaluate $R_{s,\\mathrm{crit}}$ numerically for the following parameters:\n- Input voltage $V_{\\mathrm{in}} = 600\\,\\mathrm{V}$,\n- Snubber inductance $L_{r} = 2.0\\,\\mu\\mathrm{H}$,\n- Snubber capacitance $C_{s} = 200\\,\\mathrm{nF}$,\n- Diode reverse-recovery charge $Q_{rr} = 40\\,\\mathrm{nC}$.\n\nRound your final numerical result to three significant figures. Express the answer in ohms. In your derivation, clearly state the operating condition that triggers net dissipative behavior and briefly propose physically justified design changes to restore near-lossless behavior, grounded in the derived expression.",
            "solution": "The baseline for comparison is the hard-switching energy that would be dissipated in the switch in the absence of energy recovery. When a capacitor of value $C_{s}$ charged to voltage $V_{\\mathrm{in}}$ is discharged abruptly (as in hard switching), the energy is\n$$\nE_{C} = \\frac{1}{2} C_{s} V_{\\mathrm{in}}^{2}.\n$$\nIn a nominally lossless, energy-recovery snubber, this same energy is diverted into a resonant $L_{r}$–$C_{s}$ transfer and returned to the source. The snubber becomes net dissipative when the energy dissipated inside the snubber elements per switching event equals or exceeds $E_{C}$. We therefore set the threshold condition\n$$\nE_{\\mathrm{loss}} = E_{C},\n$$\nand solve for the combined series resistance $R_{s}$ at this threshold, where $E_{\\mathrm{loss}}$ accounts for Joule heating in $R_{s}$ during the resonant transfer and energy associated with reverse recovery of the diode $D_{r}$.\n\nTo compute the resistive energy per event in $R_{s}$, we start from the undamped sinusoidal $L$–$C$ response with initial conditions appropriate to a transfer of energy from the capacitor to the inductor: $v_{C}(0) = V_{\\mathrm{in}}$ and $i_{L}(0) = 0$. The solution of the lossless second-order system yields\n$$\nv_{C}(t) = V_{\\mathrm{in}} \\cos(\\omega_{r} t), \\qquad i_{L}(t) = -V_{\\mathrm{in}} \\sqrt{\\frac{C_{s}}{L_{r}}} \\sin(\\omega_{r} t),\n$$\nwhere the resonant radian frequency is\n$$\n\\omega_{r} = \\frac{1}{\\sqrt{L_{r} C_{s}}}.\n$$\nThe current during the transfer is thus sinusoidal with peak amplitude\n$$\nI_{\\mathrm{pk}} = V_{\\mathrm{in}} \\sqrt{\\frac{C_{s}}{L_{r}}},\n$$\nover a half-cycle duration $T_{1/2} = \\frac{\\pi}{\\omega_{r}}$.\n\nThe Joule energy dissipated in $R_{s}$ over this half-cycle is\n$$\nE_{R} = \\int_{0}^{\\pi/\\omega_{r}} R_{s} \\, i^{2}(t) \\, d t = R_{s} \\int_{0}^{\\pi/\\omega_{r}} I_{\\mathrm{pk}}^{2} \\sin^{2}(\\omega_{r} t) \\, d t = R_{s} I_{\\mathrm{pk}}^{2} \\frac{\\pi}{2 \\omega_{r}}.\n$$\nSubstituting $I_{\\mathrm{pk}}$ and $\\omega_{r}$,\n$$\nE_{R} = R_{s} \\left(V_{\\mathrm{in}}^{2} \\frac{C_{s}}{L_{r}}\\right) \\frac{\\pi}{2} \\sqrt{L_{r} C_{s}} = R_{s} \\frac{\\pi}{2} V_{\\mathrm{in}}^{2} \\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}}.\n$$\n\nThe diode reverse recovery introduces an additional energy per event. The reverse-recovery process is commonly characterized by a charge $Q_{rr}$ that flows while the diode experiences approximately the clamp voltage $V_{\\mathrm{in}}$, so the energy per switching event can be estimated by the energy integral\n$$\nE_{rr} \\approx \\int v_{D}(t) i_{rr}(t) \\, d t \\approx V_{\\mathrm{in}} Q_{rr}.\n$$\n\nCombining these losses, the total snubber loss per event is\n$$\nE_{\\mathrm{loss}} = E_{R} + E_{rr} = R_{s} \\frac{\\pi}{2} V_{\\mathrm{in}}^{2} \\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}} + V_{\\mathrm{in}} Q_{rr}.\n$$\nThe threshold for net dissipative behavior relative to hard switching is $E_{\\mathrm{loss}} = E_{C}$, which gives the critical resistance\n$$\nR_{s,\\mathrm{crit}} = \\frac{E_{C} - V_{\\mathrm{in}} Q_{rr}}{\\frac{\\pi}{2} V_{\\mathrm{in}}^{2} \\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}}}.\n$$\nSubstituting $E_{C} = \\frac{1}{2} C_{s} V_{\\mathrm{in}}^{2}$,\n$$\nR_{s,\\mathrm{crit}} = \\frac{\\frac{1}{2} C_{s} V_{\\mathrm{in}}^{2} - V_{\\mathrm{in}} Q_{rr}}{\\frac{\\pi}{2} V_{\\mathrm{in}}^{2} \\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}}}.\n$$\n\nWe now evaluate numerically for $V_{\\mathrm{in}} = 600\\,\\mathrm{V}$, $L_{r} = 2.0 \\times 10^{-6}\\,\\mathrm{H}$, $C_{s} = 200 \\times 10^{-9}\\,\\mathrm{F}$, and $Q_{rr} = 40 \\times 10^{-9}\\,\\mathrm{C}$.\n\nFirst compute the reference energies:\n$$\nE_{C} = \\frac{1}{2} \\cdot 200 \\times 10^{-9} \\cdot 600^{2} = \\frac{1}{2} \\cdot 200 \\times 10^{-9} \\cdot 360000 = 0.036\\,\\mathrm{J},\n$$\n$$\nE_{rr} = 600 \\cdot 40 \\times 10^{-9} = 2.4 \\times 10^{-5}\\,\\mathrm{J}.\n$$\nNext compute the denominator factor:\n$$\nC_{s}^{3/2} = C_{s} \\sqrt{C_{s}} = \\left(200 \\times 10^{-9}\\right) \\sqrt{200 \\times 10^{-9}} \\approx 8.9442719 \\times 10^{-11},\n$$\n$$\n\\sqrt{L_{r}} = \\sqrt{2.0 \\times 10^{-6}} \\approx 1.4142136 \\times 10^{-3},\n$$\n$$\n\\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}} \\approx \\frac{8.9442719 \\times 10^{-11}}{1.4142136 \\times 10^{-3}} \\approx 6.3245553 \\times 10^{-8}.\n$$\nTherefore,\n$$\n\\frac{\\pi}{2} V_{\\mathrm{in}}^{2} \\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}} \\approx \\frac{\\pi}{2} \\cdot 360000 \\cdot 6.3245553 \\times 10^{-8} \\approx 0.0357645\\,\\mathrm{J}\\,\\mathrm{\\Omega}^{-1}.\n$$\nFinally, the critical resistance is\n$$\nR_{s,\\mathrm{crit}} = \\frac{E_{C} - E_{rr}}{\\frac{\\pi}{2} V_{\\mathrm{in}}^{2} \\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}}} \\approx \\frac{0.036 - 0.000024}{0.0357645} \\approx 1.0059\\,\\mathrm{\\Omega}.\n$$\nRounded to three significant figures, this is $1.01\\,\\mathrm{\\Omega}$.\n\nThe operating condition that triggers net dissipative behavior is thus when the combined ESR $R_{s}$ satisfies $R_{s} \\ge R_{s,\\mathrm{crit}}$ for the given $V_{\\mathrm{in}}$, $L_{r}$, $C_{s}$, and $Q_{rr}$, i.e., when\n$$\nR_{s} \\ge \\frac{\\frac{1}{2} C_{s} V_{\\mathrm{in}}^{2} - V_{\\mathrm{in}} Q_{rr}}{\\frac{\\pi}{2} V_{\\mathrm{in}}^{2} \\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}}}.\n$$\nThis inequality identifies the boundary where the snubber’s internal losses equal the hard-switching energy it was intended to recover; beyond this boundary the snubber increases total dissipation.\n\nTo restore near-lossless behavior, the derived expression suggests physically justified design changes:\n- Reduce $R_{s}$ by selecting lower-ESR capacitors and lower-resistance inductors, which proportionally reduces $E_{R}$.\n- Reduce $Q_{rr}$ by using a diode with negligible reverse recovery, such as a silicon carbide Schottky diode, which directly lowers $E_{rr}$.\n- Adjust $L_{r}$ and $C_{s}$ to reduce $\\frac{C_{s}^{3/2}}{\\sqrt{L_{r}}}$; for example, increasing $L_{r}$ or decreasing $C_{s}$ decreases $E_{R}$ per event while keeping sufficient snubber capacitance to limit $d v / d t$. These changes follow from the sensitivity of $E_{R}$ to $C_{s}^{3/2}$ and $L_{r}^{-1/2}$ and preserve the energy-recovery mechanism.",
            "answer": "$$\\boxed{1.01}$$"
        }
    ]
}