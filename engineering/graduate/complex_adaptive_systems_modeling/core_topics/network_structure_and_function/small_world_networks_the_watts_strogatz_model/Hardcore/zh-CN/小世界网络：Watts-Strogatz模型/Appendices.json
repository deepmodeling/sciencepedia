{
    "hands_on_practices": [
        {
            "introduction": "在我们探索“小世界”效应的奥秘之前，我们必须首先精确地刻画其出发点——一个完全规则的环形晶格网络（即重连概率 $p=0$ 的情况）。这个练习将引导你计算网络中三角形的总数，这是衡量网络局部结构紧密度的关键指标，也是 Watts-Strogatz 模型中高聚类特性的基础。通过这个实践，你将掌握对网络结构进行组合分析的基本技能。",
            "id": "4143504",
            "problem": "考虑在重连概率 $p=0$ 时的 Watts–Strogatz (WS) 小世界网络模型，该模型产生一个规则环状格。有 $N$ 个节点放置在一个具有周期性边界条件的环上，用模 $N$ 的整数标记。每个节点都与其两侧的 $k/2$ 个最近邻居相连，总度数为 $k$ (假设 $k$ 为偶数)，其中 $k \\ge 2$ 且 $N \\ge k+1$ 以避免简并。三角形定义为一个无序的三元组，由三个不同的节点 $\\{i,j,k\\}$ 组成，使得所有三对 $\\{i,j\\}$、$\\{j,k\\}$ 和 $\\{k,i\\}$ 都是边。设环上节点 $i$ 和 $j$ 之间的图论距离为 $d(i,j) = \\min\\{|i-j|, N - |i-j|\\}$。\n\n从这些定义和图论中组合计数的一般原理出发，确定不同三角形总数 $T_{\\text{tot}}$ 关于 $N$ 和 $k$ 的闭式解析表达式。您的答案必须是单一的符号表达式。如果您引入任何中间量，必须从第一性原理出发进行严格论证。以无单位形式表达您的最终答案，且不要四舍五入。",
            "solution": "该问题要求确定一种特定类型的规则图中三角形的总数 $T_{\\text{tot}}$。该图由 Watts-Strogatz 模型在重连概率为 $p=0$ 时生成。这构建了一个规则环状格。\n\n首先，我们根据所提供的定义来形式化图的结构。节点集合为 $V = \\{0, 1, \\dots, N-1\\}$，表示环上具有周期性边界条件的 $N$ 个节点。如果两个不同节点 $i$ 和 $j$ 互为对方的 $k/2$ 个最近邻居之一，则它们之间存在一条边。距离度量是在环上的图论距离，$d(i,j) = \\min\\{|i-j|, N - |i-j|\\}$。因此，当且仅当 $1 \\le d(i,j) \\le k/2$ 时，边 $(i,j)$ 存在。由于其规则结构，每个节点的度都是恒定的，为 $k$。约束条件 $N \\ge k+1$ 确保了对于任何节点，其“左侧”的 $k/2$ 个最近邻居和“右侧”的 $k/2$ 个最近邻居彼此之间以及与该节点本身都是不同的。\n\n三角形是由三个不同节点组成的无序集合 $\\{i,j,k\\}$，其中所有三对节点都由边连接。三角形总数 $T_{\\text{tot}}$ 可以通过将与每个节点相关的三角形数量相加，然后除以 3 来求得，因为每个三角形在其三个顶点处各被计数一次。设 $T_i$ 是包含节点 $i$ 的三角形数量。由于环状格的旋转对称性，对于所有节点 $i \\in V$，$T_i$ 的值都是相同的。我们将这个常数值表示为 $T_{\\text{node}}$。那么，三角形的总数为：\n$$T_{\\text{tot}} = \\frac{1}{3} \\sum_{i=0}^{N-1} T_i = \\frac{1}{3} N T_{\\text{node}}$$\n我们的任务简化为求 $T_{\\text{node}}$。\n\n让我们为一个任意节点计算 $T_{\\text{node}}$，为不失一般性，我们可以将其标记为节点 0。一个包含节点 0 的三角形必须是 $\\{0, u, v\\}$ 的形式，其中 $u$ 和 $v$ 是 0 的邻居，并且 $u$ 和 $v$ 也互为邻居。因此，$T_{\\text{node}}$ 是节点 0 的邻居中，相互之间有边连接的邻居对的数量。\n\n节点 0 的邻域，记作 $\\mathcal{N}(0)$，由距离为 $1, 2, \\dots, k/2$ 的节点组成。这些节点是 $\\{1, 2, \\dots, k/2\\}$（“右侧”邻居，$\\mathcal{N}_R$）和 $\\{N-1, N-2, \\dots, N-k/2\\}$（“左侧”邻居，$\\mathcal{N}_L$）。\n$\\mathcal{N}(0) = \\mathcal{N}_R \\cup \\mathcal{N}_L$，其中 $\\mathcal{N}_R = \\{1, 2, \\dots, k/2\\}$ 且 $\\mathcal{N}_L = \\{N-k/2, N-k/2+1, \\dots, N-1\\}$。\n每个集合的大小为 $|\\mathcal{N}_R| = |\\mathcal{N}_L| = k/2$。总度数为 $|\\mathcal{N}(0)| = k$。\n\n我们计算满足 $u, v \\in \\mathcal{N}(0)$ 和 $d(u,v) \\le k/2$ 的对 $\\{u,v\\}$ 的数量。我们将这个计数问题分为三种情况。\n\n情况 1：两个节点都在 $\\mathcal{N}_R$ 中。\n设 $u, v \\in \\mathcal{N}_R$ 且 $1 \\le u  v \\le k/2$。距离为 $d(u,v) = \\min(v-u, N-(v-u))$。因为 $1 \\le v-u \\le k/2-1$ 且题目说明 $N \\ge k+1$，我们有 $N > k$，这意味着 $N-(v-u) > k-(k/2-1) = k/2+1 > v-u$。因此，$d(u,v) = v-u$。存在边的条件是 $v-u \\le k/2$。因为 $v \\le k/2$ 且 $u \\ge 1$，所以 $v-u$ 最多为 $k/2-1$。该条件总是满足的。因此，$\\mathcal{N}_R$ 中任意一对不同的节点都是相连的。这样的对的数量是从一个包含 $k/2$ 个节点的集合中选择 2 个节点的方法数，即 $\\binom{k/2}{2}$。\n\n情况 2：两个节点都在 $\\mathcal{N}_L$ 中。\n根据图的对称性，$\\mathcal{N}_L$ 内部相连的对的数量必须与 $\\mathcal{N}_R$ 内部的数量相同。这个数量也是 $\\binom{k/2}{2}$。\n\n情况 3：一个节点在 $\\mathcal{N}_R$ 中，另一个在 $\\mathcal{N}_L$ 中。\n设 $u \\in \\mathcal{N}_R$ 且 $v \\in \\mathcal{N}_L$。我们可以将 $u$ 写成 $u=i$（对于某个 $i \\in \\{1, 2, \\dots, k/2\\}$），将 $v$ 写成 $v=N-j$（对于某个 $j \\in \\{1, 2, \\dots, k/2\\}$）。距离为 $d(i, N-j) = \\min(i+j, N-(i+j))$。边存在的条件是 $\\min(i+j, N-(i+j)) \\le k/2$。为了得到一个不依赖于 $N$ 的简洁表达式，我们采用标准的大网络近似($N \\gg k$)，此时环绕连接（即距离由 $N-(i+j)$ 决定）的效应可以忽略。该条件近似为 $i+j \\le k/2$。\n\n我们必须计算满足 $1 \\le i \\le k/2$，$1 \\le j \\le k/2$，且 $i+j \\le k/2$ 的整数对 $(i,j)$ 的数量。我们可以对 $i$ 的可能取值进行求和：\n如果 $i=1$，那么 $j$ 可以是 $1, 2, \\dots, k/2-1$。$j$ 有 $k/2-1$ 个选择。\n如果 $i=2$，那么 $j$ 可以是 $1, 2, \\dots, k/2-2$。$j$ 有 $k/2-2$ 个选择。\n...\n如果 $i=k/2-1$，那么 $j$ 可以是 $1$。$j$ 有 $1$ 个选择。\n如果 $i \\ge k/2$，则 $j$ 没有可能的取值，因为 $j \\ge 1 \\implies i+j > k/2$。\n这类对的总数是和 $\\sum_{s=1}^{k/2-1} s = \\frac{(k/2-1)(k/2)}{2} = \\binom{k/2}{2}$。\n\n将所有三种情况的计数相加，包含节点 0 的三角形数量为：\n$$T_{\\text{node}} = \\binom{k/2}{2} + \\binom{k/2}{2} + \\binom{k/2}{2} = 3\\binom{k/2}{2} = \\frac{3 \\frac{k}{2}(\\frac{k}{2}-1)}{2} = \\frac{3k(k-2)}{8}$$\n\n最后，我们将此结果代入三角形总数的表达式中：\n$$T_{\\text{tot}} = \\frac{N T_{\\text{node}}}{3} = \\frac{N}{3} \\left( \\frac{3k(k-2)}{8} \\right) = \\frac{Nk(k-2)}{8}$$\n这就是该图中三角形总数的闭式解析表达式（在大网络近似下）。对于任何偶数 $k \\ge 2$，该表达式都是一个整数。",
            "answer": "$$\\boxed{\\frac{Nk(k-2)}{8}}$$"
        },
        {
            "introduction": "Watts-Strogatz 模型的核心洞见之一是，即使引入了少量的随机性，网络仍然能保持很高的聚类系数。这个练习将指导你使用一个简洁而深刻的平均场论证，来推导聚类系数 $C(p)$ 如何随着重连概率 $p$ 的增加而衰减。这个实践不仅揭示了“小世界”网络“局部世界”的本质，也让你体会到在复杂系统研究中，如何运用有效的近似方法来捕捉系统的核心行为。",
            "id": "4143554",
            "problem": "考虑Watts–Strogatz小世界网络模型，其中通过将$N$个节点中的每个节点与其$k$个最近邻连接（$k$为偶数）来构建一个环形晶格，然后每条无向边以概率$p \\in [0,1]$独立地重连到一个均匀随机选择的节点，同时避免自环和重复边。根据构造，每个节点的度$k$保持不变。令全局聚类系数$C(p)$定义为所有节点局部聚类系数的平均值，其中节点$i$的局部聚类系数为$C_{i} = \\frac{2 T_{i}}{k_{i}(k_{i}-1)}$，$T_{i}$是与节点$i$关联的三角形数量，$k_{i}=k$是节点$i$的度。用$C(0)$表示重连前初始环形晶格的聚类系数。\n\n从上述定义出发，并使用基于以下假设的平均场论证：\n- 每条无向边以概率$p$独立重连。\n- 在$p=0$时存在的三角形完全由局部环形边构成，并且只有当其所有三条构成边都未被重连时才能存活。\n- 在大$N$、$k \\ll N$和小$p$的极限下，由于重连而产生新三角形的情况可以忽略不计，因此对$C(p)$的主要贡献来自于$p=0$时存在的三角形的存活。\n- 度的保持确保了局部聚类系数中的分母$k(k-1)$在重连过程中保持不变。\n\n在这些假设下，推导一个用$C(0)$和$p$表示$C(p)$的解析表达式。你的最终答案必须是单一的封闭形式表达式。不需要四舍五入，最终表达式中也不应包含单位。",
            "solution": "全局聚类系数$C(p)$定义为网络中所有$N$个节点的局部聚类系数$C_i(p)$的平均值：\n$$C(p) = \\frac{1}{N} \\sum_{i=1}^{N} C_i(p)$$\n在Watts-Strogatz模型中，由于网络的统计同质性，所有节点在统计上是等价的。因此，我们可以用任意节点$i$的期望局部聚类系数来表示全局聚类系数：$C(p) = E[C_i(p)]$。\n对于给定的重连概率$p$，节点$i$的局部聚类系数由与该节点关联的三角形的期望数量$E[T_i(p)]$及其度$k_i=k$定义。如问题所述，度$k$根据构造是恒定的。\n$$C_i(p) = \\frac{2 E[T_i(p)]}{k(k-1)}$$\n问题提供了一组关键假设来构建平均场论证。具体来说，我们假设对$C(p)$的贡献完全来自于原始晶格中（$p=0$时）存在并且在重连过程中存活下来的三角形。新三角形的形成被认为是可忽略的。\n\n设$T_i(0)$为初始规则晶格（$p=0$时）中与节点$i$关联的三角形数量。这个初始晶格的聚类系数为：\n$$C(0) = \\frac{2 T_i(0)}{k(k-1)}$$\n现在，我们考虑重连过程的影响。一个三角形是由三个节点通过三条边连接而成的集合。对于一个在$p=0$时存在的三角形，要在重连过程中存活下来，其所有三条构成边都必须不被重连。\n\n根据问题陈述，每条边以概率$p$独立重连。因此，单条边*不*被重连（即存活）的概率是$(1-p)$。\n由于一个三角形由三条不同的边定义，并且这些边的重连事件是独立的，因此一个特定的三角形存活的概率是其三条边存活概率的乘积：\n$$P(\\text{triangle survives}) = (1-p) \\times (1-p) \\times (1-p) = (1-p)^3$$\n重连后与节点$i$关联的三角形的期望数量$E[T_i(p)]$，是初始三角形数量$T_i(0)$乘以任意一个三角形存活的概率。这源于期望的线性性质以及新三角形不形成的假设。\n$$E[T_i(p)] = T_i(0) \\times P(\\text{triangle survives}) = T_i(0) (1-p)^3$$\n现在我们可以写出聚类系数$C(p)$的表达式：\n$$C(p) = \\frac{2 E[T_i(p)]}{k(k-1)} = \\frac{2 \\left[ T_i(0) (1-p)^3 \\right]}{k(k-1)}$$\n我们可以重新整理这个表达式，将其与$C(0)$联系起来：\n$$C(p) = \\left( \\frac{2 T_i(0)}{k(k-1)} \\right) (1-p)^3$$\n将括号中的项识别为$C(0)$的定义，我们得到$C(p)$关于$C(0)$和$p$的最终表达式：\n$$C(p) = C(0) (1-p)^3$$\n这个结果概括了平均场近似，其中初始晶格的高局部聚类随着网络的随机化呈三次衰减。",
            "answer": "$$\\boxed{C(0)(1-p)^3}$$"
        },
        {
            "introduction": "除了高聚类特性，Watts-Strogatz 模型另一个更著名的特征是平均路径长度的急剧下降，这正是“小世界”名称的由来。这个练习将带你深入探索这一现象背后的机制，通过将其与渗流理论联系起来，你将推导出网络从小范围连接（大世界）到全局连接（小世界）的相变临界条件。完成这个实践后，你将理解为何只需几条“捷径”就能从根本上改变整个网络的全局距离尺度。",
            "id": "4143523",
            "problem": "考虑一个一维环上的 Watts–Strogatz 小世界网络模型，该网络有 $N$ 个节点，其中每个节点与其 $k$ 个最近邻节点（每侧 $k/2$ 个）相连。$M = N k / 2$ 条无向边中的每一条都以概率 $p$ 独立地重连到一个均匀随机选择的节点上，同时保持总边数不变。将每个节点的期望捷径数量定义为 $\\rho = p k / 2$。假设 $N$ 是渐近大的，$k$ 是固定的，且 $p$ 足够小，以至于度的涨落保持集中在 $k$ 附近。将重连边的系综视为在环之上形成的一个随机覆盖层，该覆盖层在平均场近似下可看作一个平均度为 $c = 2 \\rho$ 的 Erdős–Rényi 随机图。\n\n利用分支过程平均场论证和 Erdős–Rényi 随机图广为接受的渐近性质，在覆盖层是亚临界 ($c  1$) 和超临界 ($c > 1$) 的两种情况下，推导平均最短路径长度 $L(p)$ 关于 $\\rho$ 的显式渐近近似。基于这些近似，论证一旦 $\\rho$ 超过一个常数，$L(p)$ 的标度行为就会从关于 $N$ 的线性关系变为关于 $N$ 的对数关系，并精确确定这个常数。将你的最终答案表示为一个无单位的精确数值。如果在推导过程中需要陈述 $L(p)$ 的任何渐近形式，请用 $N$、$k$ 和 $\\rho$ 显式地写出所有形式。无需四舍五入。",
            "solution": "我们从 Watts–Strogatz 模型的构造和定义开始。基础图是一个有 $N$ 个节点且度为 $k$ 的环。无向边的数量为 $M = N k/2$。每条边以概率 $p$ 独立地重连，得到重连边的期望数量为 $p M$。将每个节点的期望捷径数量定义为\n$$\n\\rho = \\frac{p M}{N} = \\frac{p(Nk/2)}{N} = \\frac{pk}{2},\n$$\n这是重连操作贡献的每个节点的期望捷径端点数的一半。在随机覆盖层内，每条重连边为其两个端点节点各贡献度1；因此，由捷径形成的覆盖层的平均度为\n$$\nc = 2 \\rho = pk.\n$$\n\n接下来，我们概述一个关于平均最短路径长度 $L(p)$ 的平均场近似，这依赖于关于大随机图的两个经过充分检验的事实：\n- 在一个平均度为 $c$ 的 Erdős–Rényi 随机图 $G(N, c/N)$ 中，存在一个巨连通分量当且仅当 $c > 1$。对于固定的 $c > 1$ 和大的 $N$，巨连通分量内的典型距离标度为 $\\ln N / \\ln c$。\n- 在没有超临界随机覆盖层 ($c \\leq 1$) 的情况下，基础环中的典型距离与 $N$ 呈线性标度关系，具体为 $L(0) \\sim N/k$。\n\n我们将 Watts–Strogatz 图近似为一个一维环（提供短程边）与一个捷径的随机覆盖层（提供平均度为 $c$ 的长程边）的并集。最短路径结构由那个能从一个典型节点出发产生广度优先搜索 (BFS) 前沿主导增长的机制所控制。\n\n亚临界覆盖区域 ($c  1$):\n- 当 $c = 2 \\rho  1$ 时，覆盖层是亚临界的，不包含巨连通分量。随机覆盖层只贡献了典型大小为 $O(1)$ 的有限大小的簇，因此不能从根本上改变距离的标度行为。在此区域内，到达图距离为 $\\ell$ 的节点主要沿着环结构进行。由于沿着环每增加一步探索 $\\Theta(1)$ 个新节点，两个随机选择的节点之间的平均距离与 $N$ 呈线性标度关系。对环的一个标准估计是\n$$\nL(p) \\approx \\frac{N}{k}, \\quad \\text{对于 } c = 2 \\rho  1.\n$$\n这保持了基线标度 $L(p) = \\Theta(N)$，并反映出在逾渗意义上，捷径过于稀疏，无法改变全局距离。\n\n超临界覆盖区域 ($c > 1$):\n- 当 $c = 2 \\rho > 1$ 时，覆盖层产生一个巨连通分量，并且在平均场意义下，覆盖层上的 BFS 以 $c$ 为底数指数扩张。根据经典的随机图理论，由覆盖层支持的典型图距离标度为\n$$\nL_{\\text{overlay}} \\approx \\frac{\\ln N}{\\ln c} = \\frac{\\ln N}{\\ln (2 \\rho)}, \\quad \\text{对于 } c = 2 \\rho > 1.\n$$\n由于环本身是连通的，当 $N \\to \\infty$ 时，接入巨型覆盖层最多需要 $O(1)$ 步环上的移动。与 $\\ln N$ 项相比，这种常数偏移在渐近分析中可以忽略不计。因此，总平均最短路径长度的主导阶标度行为变为\n$$\nL(p) \\approx \\frac{\\ln N}{\\ln (2 \\rho)}, \\quad \\text{对于 } c = 2 \\rho > 1.\n$$\n\n标度行为的转变与临界常数:\n- 从线性标度 $L(p) = \\Theta(N)$ 到对数标度 $L(p) = \\Theta(\\ln N)$ 的转变发生在覆盖层穿过产生巨连通分量的逾渗阈值时。这个阈值是经典条件 $c = 1$，即\n$$\n2 \\rho = 1 \\quad \\Longrightarrow \\quad \\rho = \\frac{1}{2}.\n$$\n这是一个不依赖于 $N$ 或 $k$ 的常数；它完全由随机覆盖层的分支因子决定。对于 $\\rho \\leq \\frac{1}{2}$，覆盖层是亚临界的，不能引发小世界标度行为。对于 $\\rho > \\frac{1}{2}$，覆盖层是超临界的，距离渐近地由继承自巨连通分量的对数行为所主导。\n\n因此，所要求的平均场近似为\n$$\nL(p) \\approx \\frac{N}{k} \\quad \\text{对于 } \\rho  \\frac{1}{2},\n$$\n和\n$$\nL(p) \\approx \\frac{\\ln N}{\\ln(2 \\rho)} \\quad \\text{对于 } \\rho > \\frac{1}{2},\n$$\n而转变发生在 $\\rho$ 超过常数 $\\rho_{c} = \\frac{1}{2}$ 时。\n\n我们得出结论，平均路径长度从线性标度行为转变为对数标度行为时的临界捷径密度（每个节点）恰好是\n$$\n\\rho_{c} = \\frac{1}{2}.\n$$",
            "answer": "$$\\boxed{\\frac{1}{2}}$$"
        }
    ]
}