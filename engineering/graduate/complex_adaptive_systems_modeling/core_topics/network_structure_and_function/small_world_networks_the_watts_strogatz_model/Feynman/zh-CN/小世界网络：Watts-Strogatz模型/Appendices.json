{
    "hands_on_practices": [
        {
            "introduction": "Watts-Strogatz 模型始于一个规则的环形晶格。在理解“重连”过程的影响之前，我们必须首先精确地刻画这个初始状态的特性。此练习要求您从第一性原理出发，计算初始网络中的三角形总数，这是量化其高度局部结构（即高聚类特性）的基础。通过这项实践，您将锻炼在图上进行组合分析的能力，并为理解引入随机性后模型行为的变化奠定关键的基准。",
            "id": "4143504",
            "problem": "考虑在重连概率为 $p=0$ 时的 Watts–Strogatz (WS) 小世界网络模型，该模型产生一个规则环形晶格。有 $N$ 个节点放置在一个具有周期性边界条件的环上，用模 $N$ 的整数标记。每个节点与其两侧的 $m$ 个最近邻节点相连，总度数为 $2m$，其中 $1 \\leq m$ 且 $N \\geq 2m+1$ 以避免简并。一个三角形被定义为一个无序的三个不同节点的集合 $\\{i,j,k\\}$，使得所有三个节点对 $\\{i,j\\}$、$\\{j,k\\}$ 和 $\\{k,i\\}$ 都是边。设环上节点 $i$ 和 $j$ 之间的图论距离为 $d(i,j) = \\min\\{|i-j|, N - |i-j|\\}$。\n\n从这些定义和图中的组合计数基本原理出发，确定不同三角形总数 $T_{\\text{tot}}$ 关于 $N$ 和 $m$ 的闭式解析表达式。您的答案必须是单个符号表达式。如果您引入任何中间量，必须从第一性原理出发进行严格论证。您的最终答案应不带单位且不进行四舍五入。",
            "solution": "问题要求确定一种特定类型的规则图中三角形的总数 $T_{\\text{tot}}$。该图由 Watts-Strogatz 模型在重连概率为 $p=0$ 时生成。这构建了一个规则环形晶格。\n\n首先，我们根据给定的定义来形式化图的结构。节点集为 $V = \\{0, 1, \\dots, N-1\\}$，表示具有周期性边界条件的环上的 $N$ 个节点。如果两个不同节点 $i$ 和 $j$ 之间的图论距离满足 $1 \\le d(i,j) \\le m$，则它们之间存在一条边。由于其规则结构，每个节点的度都是常数 $k=2m$。约束条件 $N \\ge 2m+1$ 确保了对于任何节点，其“左侧”的 $m$ 个最近邻和“右侧”的 $m$ 个最近邻彼此之间以及与该节点本身都是不同的。\n\n一个三角形是一个由三个不同节点 $\\{i,j,k\\}$ 组成的无序集合，其中所有三个节点对都由边连接。三角形总数 $T_{\\text{tot}}$ 可以通过将与每个节点相关的三角形数量相加，然后除以 $3$ 来求得，因为每个三角形的三个顶点都会被计算一次。设 $T_i$ 是包含节点 $i$ 的三角形数量。由于环形晶格的旋转对称性，$T_i$ 对于所有节点 $i \\in V$ 都是相同的。让我们用 $T_{\\text{node}}$ 表示这个常数值。那么，三角形的总数为：\n$$T_{\\text{tot}} = \\frac{1}{3} \\sum_{i=0}^{N-1} T_i = \\frac{1}{3} N T_{\\text{node}}$$\n我们的任务简化为求 $T_{\\text{node}}$。\n\n让我们为一个任意节点计算 $T_{\\text{node}}$，不失一般性地，我们可以将其标记为节点 $0$。包含节点 $0$ 的三角形必须是 $\\{0, u, v\\}$ 的形式，其中 $u$ 和 $v$ 是 $0$ 的邻居，并且 $u$ 和 $v$ 也互为邻居。因此，$T_{\\text{node}}$ 是节点 $0$ 的邻居中，彼此之间有边相连的邻居对的数量。\n\n节点 $0$ 的邻域，记作 $\\mathcal{N}(0)$，由距离为 $1, 2, \\dots, m$ 的节点组成。这些节点是 $\\{1, 2, \\dots, m\\}$（“右”邻居，$\\mathcal{N}_R$）和 $\\{N-1, N-2, \\dots, N-m\\}$（“左”邻居，$\\mathcal{N}_L$）。\n$\\mathcal{N}(0) = \\mathcal{N}_R \\cup \\mathcal{N}_L$，其中 $\\mathcal{N}_R = \\{1, 2, \\dots, m\\}$ 且 $\\mathcal{N}_L = \\{N-m, N-m+1, \\dots, N-1\\}$。\n每个集合的大小为 $|\\mathcal{N}_R| = |\\mathcal{N}_L| = m$。总度数为 $|\\mathcal{N}(0)| = 2m$。\n\n我们计算满足 $u, v \\in \\mathcal{N}(0)$ 和 $d(u,v) \\le m$ 的节点对 $\\{u,v\\}$ 的数量。我们将这个计数问题分为三种情况。\n\n情况 1：两个节点都在 $\\mathcal{N}_R$ 中。\n设 $u, v \\in \\mathcal{N}_R$ 且 $1 \\le u  v \\le m$。距离为 $d(u,v) = v-u$。存在边的条件是 $v-u \\le m$。由于 $v \\le m$ 和 $u \\ge 1$，$v-u$ 最多为 $m-1$。该条件总是满足的。因此，$\\mathcal{N}_R$ 中任意一对不同的节点都是相连的。这种节点对的数量是从一个包含 $m$ 个节点的集合中选择 $2$ 个节点的方式数，即 $\\binom{m}{2}$。\n\n情况 2：两个节点都在 $\\mathcal{N}_L$ 中。\n根据图的对称性，$\\mathcal{N}_L$ 内部相连的节点对数量必须与 $\\mathcal{N}_R$ 内部相同。这个数量也是 $\\binom{m}{2}$。\n\n情况 3：一个节点在 $\\mathcal{N}_R$ 中，另一个在 $\\mathcal{N}_L$ 中。\n设 $u \\in \\mathcal{N}_R$ 且 $v \\in \\mathcal{N}_L$。我们可以将 $u$ 写成 $u=i$（对于某个 $i \\in \\{1, 2, \\dots, m\\}$），将 $v$ 写成 $v=N-j$（对于某个 $j \\in \\{1, 2, \\dots, m\\}$）。距离为 $d(u,v) = d(i, N-j) = \\min(i+j, N-(i+j))$。因此， $u$ 和 $v$ 之间存在边的条件是 $\\min(i+j, N-(i+j)) \\le m$。这等价于以下两个条件之一成立：(a) $i+j \\le m$ 或 (b) $N-(i+j) \\le m$（即 $i+j \\ge N-m$）。在典型的 Watts-Strogatz 模型设置中，节点总数 $N$ 远大于度 $2m$，即 $N \\gg 2m$。在这种情况下，$N-m$ 会远大于 $2m$。由于 $i$ 和 $j$ 的最大值均为 $m$，$i+j$ 的最大值为 $2m$。因此，条件 (b) $i+j \\ge N-m$ 不可能有解。我们只需考虑条件 (a) $i+j \\le m$。\n\n我们现在统计满足 $1 \\le i \\le m$，$1 \\le j \\le m$ 和 $i+j \\le m$ 的整数对 $(i,j)$ 的数量。我们可以对 $i$ 的可能值求和：\n如果 $i=1$，则 $j$ 可以是 $1, 2, \\dots, m-1$。有 $m-1$ 个 $j$ 的选择。\n如果 $i=2$，则 $j$ 可以是 $1, 2, \\dots, m-2$。有 $m-2$ 个 $j$ 的选择。\n...\n如果 $i=m-1$，则 $j$ 可以是 $1$。有 $1$ 个 $j$ 的选择。\n如果 $i \\ge m$，则没有可能的 $j$ 值，因为 $j \\ge 1 \\implies i+j  m$。\n此类配对的总数是总和 $\\sum_{k=1}^{m-1} k = \\frac{(m-1)m}{2} = \\binom{m}{2}$。\n\n总结所有三种情况的计数，涉及节点 $0$ 的三角形数量为：\n$$T_{\\text{node}} = \\binom{m}{2} + \\binom{m}{2} + \\binom{m}{2} = 3\\binom{m}{2} = \\frac{3m(m-1)}{2}$$\n\n最后，我们将此代入三角形总数的表达式中：\n$$T_{\\text{tot}} = \\frac{N T_{\\text{node}}}{3} = \\frac{N}{3} \\left( \\frac{3m(m-1)}{2} \\right) = \\frac{Nm(m-1)}{2}$$\n这就是图中三角形总数的闭式解析表达式。对于任何整数 $m \\ge 1$，该表达式都是一个整数，因为 $m(m-1)$ 总是一个偶数。",
            "answer": "$$\\boxed{\\frac{N m (m-1)}{2}}$$"
        },
        {
            "introduction": "在确定了初始晶格的高度聚类特性之后，我们现在探讨当以概率 $p$ 开始重连边时会发生什么。此练习利用一个平均场近似来模拟全局聚类系数 $C(p)$ 如何随 $p$ 变化，其核心思想是，对于较小的 $p$ 值，主要影响是现有三角形的破坏，而非新三角形的创建。这项实践将向您介绍统计物理学中的一种强大技术——平均场论证，并解释为何 Watts-Strogatz 模型即使在不是纯粹规则图的情况下也能保持高聚类特性，从而帮助您理解小世界现象中“高聚类”的部分。",
            "id": "4143554",
            "problem": "考虑 Watts–Strogatz 小世界网络模型，其中通过将每个节点连接到其 $k$ 个最近邻（$k$ 为偶数）来构建一个包含 $N$ 个节点的环形晶格，然后每条无向边以概率 $p \\in [0,1]$ 独立地重连到一个均匀随机选择的节点，同时避免自环和重复边。根据构造，每个节点的度 $k$ 保持不变。设全局聚类系数 $C(p)$ 定义为所有节点的局部聚类系数的平均值，其中节点 $i$ 的局部聚类系数为 $C_{i} = \\frac{2 T_{i}}{k_{i}(k_{i}-1)}$，$T_{i}$ 是与节点 $i$ 相关联的三角形数量，$k_{i}=k$ 是节点 $i$ 的度。用 $C(0)$ 表示重连前初始环形晶格的聚类系数。\n\n从以上定义出发，并使用基于以下假设的平均场论证：\n- 每条无向边以概率 $p$ 独立地重连。\n- 在 $p=0$ 时存在的三角形完全由局部环边形成，并且只有当其所有三条构成的局部边都未被重连时才能存活。\n- 在 $N$ 很大、$k \\ll N$ 且 $p$ 很小的情况下，由重连引起的新三角形的产生可以忽略不计，因此对 $C(p)$ 的主要贡献来自于在 $p=0$ 时存在的三角形的存活。\n- 度的保持确保了局部聚类系数中的分母 $k(k-1)$ 在重连过程中保持不变。\n\n在这些假设下，推导出一个用 $C(0)$ 和 $p$ 表示的 $C(p)$ 的解析表达式。您的最终答案必须是单一的封闭形式表达式。不需要四舍五入，最终表达式中也不应包含单位。",
            "solution": "全局聚类系数 $C(p)$ 是网络中所有 $N$ 个节点的局部聚类系数 $C_i(p)$ 的平均值。由于 Watts-Strogatz 网络的统计同质性，我们可以用任意单个节点的期望局部聚类系数来表示全局系数：$C(p) = C_i(p)$。\n\n根据定义，节点 $i$ 的局部聚类系数为 $C_i(p) = \\frac{2 E[T_i(p)]}{k(k-1)}$，其中 $E[T_i(p)]$ 是在重连概率为 $p$ 时与节点 $i$ 相关联的期望三角形数量，而度 $k$ 保持不变。\n\n我们的推导基于问题中给出的平均场假设。核心思想是，当 $p$ 较小时，聚类系数的变化主要源于初始晶格中存在的三角形因边被重连而遭到破坏。新三角形的形成（即三个原本不相连的节点因重连而形成三角形）被认为是稀有事件，其贡献可以忽略不计。\n\n设 $T_i(0)$ 为初始规则晶格（$p=0$）中与节点 $i$ 相关联的三角形数量。此时的聚类系数为：\n$$C(0) = \\frac{2 T_i(0)}{k(k-1)}$$\n现在，我们考虑重连过程的影响。一个三角形由三条边构成。要使一个在 $p=0$ 时存在的三角形在重连后依然存在，其全部三条边都必须“幸存”，即不被选中进行重连。\n\n根据模型规则，每条边都以概率 $p$ 独立地被重连。因此，任何一条特定的边不被重连的概率是 $(1-p)$。\n由于一个三角形的三条边是不同的，且重连事件是相互独立的，一个初始存在的三角形完整幸存下来的概率是这三个独立事件概率的乘积：\n$$P(\\text{三角形幸存}) = (1-p) \\times (1-p) \\times (1-p) = (1-p)^3$$\n根据期望的线性性质和新三角形可忽略的假设，重连后与节点 $i$ 相关联的期望三角形数 $E[T_i(p)]$ 就是初始三角形数 $T_i(0)$ 乘以单个三角形的幸存概率：\n$$E[T_i(p)] = T_i(0) \\times P(\\text{三角形幸存}) = T_i(0) (1-p)^3$$\n现在我们可以写出聚类系数 $C(p)$ 的表达式：\n$$C(p) = \\frac{2 E[T_i(p)]}{k(k-1)} = \\frac{2 \\left[ T_i(0) (1-p)^3 \\right]}{k(k-1)}$$\n通过重新组合，我们可以将此表达式与 $C(0)$ 联系起来：\n$$C(p) = \\left( \\frac{2 T_i(0)}{k(k-1)} \\right) (1-p)^3$$\n括号内的项正是 $C(0)$ 的定义，因此我们得到最终关系式：\n$$C(p) = C(0) (1-p)^3$$\n这个结果简洁地描述了在平均场近似下，聚类系数如何随着重连概率 $p$ 的增加而衰减。",
            "answer": "$$\\boxed{C(0)(1-p)^3}$$"
        },
        {
            "introduction": "小世界网络的决定性特征是高聚类特性与出人意料的短平均路径长度并存。我们已经看到了高聚类特性是如何维持的，现在我们将研究路径长度这一关键指标。此练习将演示，即使是少数作为“捷径”的重连边，也能如何显著缩短节点间的平均距离。您将运用来自逾渗理论的论证，揭示网络从一个“大世界”到一个“小世界”的转变，并通过推导平均路径长度 $L(p)$ 的标度变化，您将掌握“小世界”效应背后的核心机制，并确定这一转变发生的临界点。",
            "id": "4143523",
            "problem": "考虑一个一维环上的 Watts–Strogatz 小世界网络模型，该网络有 $N$ 个节点，其中每个节点都与其 $2K$ 个最近的邻居（每侧 $K$ 个）相连。$M = N K$ 条无向边中的每一条都以概率 $p$ 独立地被重连到一个均匀随机选择的节点，同时保持总边数不变。将每个节点的期望捷径密度定义为 $\\rho = p M / N$。假设 $N$ 是渐近大的，$K$ 是固定的，且 $p$ 足够小以至于度数波动仍然集中在 $2K$ 附近。将重连边的集合视为在环之上形成的一个随机覆盖，在平均场近似下，该覆盖可以由一个平均覆盖度为 $c = 2 \\rho$ 的 Erdős–Rényi 随机图来近似。\n\n使用分支过程的平均场论证以及 Erdős–Rényi 图广为接受的渐近性质，在覆盖是亚临界 ($c  1$) 和超临界 ($c  1$) 的情况下，推导平均最短路径长度 $L(p)$ 关于 $\\rho$ 的显式渐近近似。基于这些近似，论证当 $\\rho$ 超过一个常数时，$L(p)$ 的标度行为会从关于 $N$ 的线性关系变为关于 $N$ 的对数关系，并精确地确定这个常数。将你的最终答案表示为一个没有单位的精确数字。如果在你的推导中需要陈述 $L(p)$ 的任何渐近形式，请明确地用 $N$、$K$ 和 $\\rho$ 表示所有形式。无需四舍五入。",
            "solution": "我们从 Watts–Strogatz 模型的构造和定义开始。基础图是一个有 $N$ 个节点、度为 $2K$ 的环。无向边的数量为 $M = N K$。每条边都以概率 $p$ 独立地被重连，得到期望重连边数为 $p M$。定义每个节点的期望捷径密度为\n$$\n\\rho = \\frac{p M}{N} = p K,\n$$\n这是由重连贡献的每个节点的期望捷徑端点数。在随机覆盖中，每条重连边为其两个端点节点各贡献 $1$ 的度；因此，由捷径形成的覆盖的平均度为\n$$\nc = 2 \\rho.\n$$\n\n接下来，我们概述平均最短路径长度 $L(p)$ 的平均场近似，这依赖于关于大随机图的两个经过充分检验的事实：\n- 在一个平均度为 $c$ 的 Erdős–Rényi 随机图 $G(N, c/N)$ 中，存在一个巨连通分量当且仅当 $c  1$。在固定 $c  1$ 和大 $N$ 的情况下，巨连通分量内的典型距离的标度行为如 $\\ln N / \\ln c$。\n- 在没有超临界随机覆盖（$c \\leq 1$）的情况下，基础环中的典型距离与 $N$呈线性标度关系，具体来说，$L(0) \\sim N/(2K)$。\n\n我们将 Watts–Strogatz 图近似为一个一维环（提供短程边）和一个捷径的随机覆盖（提供平均度为 $c$ 的长程边）的并集。最短路径结构由从一个典型节点出发的广度优先搜索（BFS）前沿的增长中占主导地位的机制所控制。\n\n亚临界覆盖区 ($c  1$):\n- 当 $c = 2 \\rho  1$ 时，覆盖是亚临界的，不包含巨连通分量。随机覆盖只贡献了典型大小为 $O(1)$ 的有限大小的簇，因此不能从根本上改变距离的标度行为。在这种情况下，到达图距离为 $\\ell$ 的节点主要沿着环结构进行。由于沿着环每增加一步都会探索 $\\Theta(1)$ 个新节点，两个随机选择的节点之间的平均距离与 $N$ 呈线性标度关系。对于环的一个标准估计是\n$$\nL(p) \\approx \\frac{N}{2K}, \\quad \\text{for } c = 2 \\rho  1.\n$$\n这维持了基线标度 $L(p) = \\Theta(N)$，并反映出从逾渗的角度来看，捷径过于稀疏，无法改变全局距离。\n\n超临界覆盖区 ($c  1$):\n- 当 $c = 2 \\rho  1$ 时，覆盖会产生一个巨连通分量，在平均场意义上，覆盖上的广度优先搜索（BFS）以 $c$ 为底数呈指数级扩展。根据经典随机图理论，由覆盖支持的典型图距离的标度行为如下\n$$\nL_{\\text{overlay}} \\approx \\frac{\\ln N}{\\ln c} = \\frac{\\ln N}{\\ln (2 \\rho)}, \\quad \\text{for } c = 2 \\rho  1.\n$$\n因为环本身是连通的，当 $N \\to \\infty$ 时，接入巨覆盖最多需要 $O(1)$ 次的环上步数。与 $\\ln N$ 项相比，这种常数偏移在渐近分析中可以忽略不计。因此，总平均最短路径长度的主导阶标度行为变为\n$$\nL(p) \\approx \\frac{\\ln N}{\\ln (2 \\rho)}, \\quad \\text{for } c = 2 \\rho  1.\n$$\n\n标度行为的转变与临界常数：\n- 从线性标度 $L(p) = \\Theta(N)$ 到对数标度 $L(p) = \\Theta(\\ln N)$ 的转变发生在覆盖越过产生巨连通分量的逾渗阈值时。这个阈值是经典条件 $c = 1$，即，\n$$\n2 \\rho = 1 \\quad \\Longrightarrow \\quad \\rho = \\frac{1}{2}.\n$$\n这是一个不依赖于 $N$ 或 $K$ 的常数；它完全由随机覆盖的分支因子决定。对于 $\\rho \\leq \\frac{1}{2}$，覆盖是亚临界的，不能引起小世界标度行为。对于 $\\rho  \\frac{1}{2}$，覆盖是超临界的，距离在渐近上由继承自巨连通分量的对数行为主导。\n\n因此，所要求的平均场近似为\n$$\nL(p) \\approx \\frac{N}{2K} \\quad \\text{for } \\rho  \\frac{1}{2},\n$$\n和\n$$\nL(p) \\approx \\frac{\\ln N}{\\ln(2 \\rho)} \\quad \\text{for } \\rho  \\frac{1}{2},\n$$\n并且当 $\\rho$ 超过常数 $\\rho_{c} = \\frac{1}{2}$ 时发生转变。\n\n我们得出结论，平均路径长度从线性标度转变为对数标度的临界捷径密度恰好是\n$$\n\\rho_{c} = \\frac{1}{2}.\n$$",
            "answer": "$$\\boxed{\\frac{1}{2}}$$"
        }
    ]
}