{
    "hands_on_practices": [
        {
            "introduction": "糖景模型的基本动态源于其智能体的移动规则。这套简单的指令——观察、评估并移动到最佳地点——是驱动所有涌现复杂性的引擎。这个练习  提供了一个具体的场景，用于计算智能体的最优移动，这要求您仔细应用其视野、资源最大化和决策打破僵局的规则，从而为理解更复杂的系统行为打下基础。",
            "id": "4149418",
            "problem": "考虑一个基于代理的模型（ABM）中的经典 Sugarscape 代理，该代理处于一个有限格网环境 $\\mathcal{E}$ 中。此环境为一个 $3 \\times 3$ 的网格，坐标为 $(i,j)$，其中 $i,j \\in \\{1,2,3\\}$。该代理遵循标准的 Epstein–Axtell 移动规则：在每个时间步中，它会在其视力 $v$ 范围内，沿着四个基本方向（北、东、南、西）探查单元格，同时受限于网格边界和占用约束，并选择糖量值最大的目标单元格。若出现平局，则选择距离原点曼哈顿距离最小的目的地；若仍为平局，则按照固定的方向优先顺序 “东 $\\succ$ 南 $\\succ$ 西 $\\succ$ 北 $\\succ$ 停留” 来决定。代理可以合法地选择停留在原地，且禁止移动到任何已被其他代理占用的单元格。\n\n设目标代理位于 $\\mathcal{E}$ 的左上角 $(i,j)=(1,1)$。该代理的视力为 $v=3$。环境 $\\mathcal{E}$ 上的糖场 $S$ 和占用场 $O$ 由下式给出：\n$$\nS=\\begin{pmatrix}\n4  7  6 \\\\\n5  8  0 \\\\\n2  8  3\n\\end{pmatrix},\\qquad\nO=\\begin{pmatrix}\n0  1  0 \\\\\n1  0  0 \\\\\n0  1  0\n\\end{pmatrix},\n$$\n其中 $S_{ij}$ 是单元格 $(i,j)$ 处的可用糖量，$O_{ij}=1$ 表示 $(i,j)$ 已被另一代理占用，而 $O_{ij}=0$ 表示 $(i,j)$ 未被占用。代理不能移出 $\\mathcal{E}$，也不能移动到任何 $O_{ij}=1$ 的单元格上。代理在到达目的地单元格后，会收获该单元格上的全部可用糖量。\n\n根据这些规则，计算该代理在此时间步中选择的移动及其产生的糖摄入量。将最终答案表示为所产生的糖摄入量。最终答案无需四舍五入，也不应使用单位。",
            "solution": "该问题要求我们确定一个糖景智能体在给定环境和规则下的最优移动。\n\n**1. 确定智能体的可视范围和候选位置**\n智能体位于 $(1,1)$，视野为 $v=3$。移动规则规定，智能体沿四个基本方向（北、东、南、西）探查单元格。这意味着智能体的视野仅限于其当前位置所在的行和列，最远距离为3个单元格。\n\n*   **向东（行1）**: 智能体可以探查 $(1,2)$ 和 $(1,3)$。\n    *   单元格 $(1,2)$ 被占用 ($O_{12}=1$)，因此不可达。\n    *   单元格 $(1,3)$ 未被占用 ($O_{13}=0$)，糖量为 $S_{13}=6$。这是一个候选位置。\n*   **向南（列1）**: 智能体可以探查 $(2,1)$ 和 $(3,1)$。\n    *   单元格 $(2,1)$ 被占用 ($O_{21}=1$)，因此不可达。\n    *   单元格 $(3,1)$ 未被占用 ($O_{31}=0$)，糖量为 $S_{31}=2$。这是一个候选位置。\n*   **向北和向西**: 超出 $3 \\times 3$ 网格的边界，没有可探查的单元格。\n*   **停留**: 智能体也可以选择停留在当前位置 $(1,1)$。该位置未被占用 ($O_{11}=0$)，糖量为 $S_{11}=4$。这也是一个候选位置。\n\n因此，智能体需要在一组候选位置中做出选择：$\\{(1,3), (3,1), (1,1)\\}$。\n\n**2. 应用决策规则**\n\n智能体遵循以下分层决策规则：\n\n*   **规则1：选择糖量最高的单元格。**\n    我们比较候选位置的糖量：\n    *   $S(1,3) = 6$\n    *   $S(3,1) = 2$\n    *   $S(1,1) = 4$\n    糖量最高的单元格是 $(1,3)$，其糖量为6。由于没有其他单元格的糖量与此相同，不存在平局。\n\n*   **规则2和规则3（平局处理）**: 由于没有平局，我们不需要应用距离最小化或方向优先的规则。\n\n**3. 最终决策和糖摄入量**\n\n智能体选择移动到单元格 $(1,3)$。到达后，它会收获该单元格上的全部糖量。\n\n因此，该智能体产生的糖摄入量为 $6$。",
            "answer": "$$ \\boxed{6} $$"
        },
        {
            "introduction": "除了基本的生存行为，糖景智能体还可以进行经济交换，这是在“糖与香料”扩展模型中探索的一个特征。要理解贸易，我们必须首先使用微观经济学中的边际替代率（Marginal Rate of Substitution, MRS）概念来量化智能体的偏好。这个练习  将指导您推导和计算MRS，它揭示了智能体用一种资源交换另一种资源的意愿。",
            "id": "4149408",
            "problem": "考虑Sugarscape模型的“糖与香料”扩展，其中每个智能体拥有糖的存量 $s \\in \\mathbb{R}_{>0}$ 和香料的存量 $p \\in \\mathbb{R}_{>0}$，并且每个时期会产生 $m_s \\in \\mathbb{R}_{>0}$ 单位糖和 $m_p \\in \\mathbb{R}_{>0}$ 单位香料的新陈代谢需求。假设瞬时福利由一个基于智能体新陈代谢需求的单调、严格拟凹的效用函数表示，具体为 $U(s,p) = s^{m_s} p^{m_p}$。在局部双边贸易下，交易决策围绕边际替代率 (MRS) 展开，其定义为糖的边际效用与香料的边际效用之比。$\\mathrm{MRS} > 1$ 的智能体在边际上相对于香料更偏好糖（愿意为一单位糖放弃更多香料），而 $\\mathrm{MRS}  1$ 的智能体在边际上相对于糖更偏好香料。\n\n从效用函数的表示形式和MRS作为边际效用之比的标准定义出发，推导该智能体的 $\\mathrm{MRS}$ 表达式，用 $s$、$p$、$m_s$ 和 $m_p$ 表示。然后，对于一个参数为 $(s,p,m_s,m_p) = (10,6,2,3)$ 的智能体，计算其 $\\mathrm{MRS}$，并使用上述交易规则来确定它在边际上是更偏好糖还是香料。\n\n将您的最终数值答案表示为 $\\mathrm{MRS}$ 的值。无需四舍五入。",
            "solution": "该问题在微观经济学理论和基于智能体的建模框架内提法明确且具有科学依据。所有必要信息均已提供，且定义标准、一致。\n\n智能体的福利由效用函数 $U(s,p) = s^{m_s} p^{m_p}$ 描述，其中 $s$ 是糖的存量，$p$ 是香料的存量，$m_s$ 和 $m_p$ 分别是糖和香料的新陈代谢需求。所有参数 $s, p, m_s, m_p$ 均为正实数。\n\n边际替代率 (MRS) 在问题中被定义为糖的边际效用与香料的边际效用之比。一种商品的边际效用是效用函数对该商品数量的偏导数。\n\n首先，我们通过求 $U(s,p)$ 对 $s$ 的偏导数来计算糖的边际效用 $MU_s$：\n$$\nMU_s = \\frac{\\partial U}{\\partial s} = \\frac{\\partial}{\\partial s} \\left( s^{m_s} p^{m_p} \\right)\n$$\n将 $p$ 及其指数 $m_p$ 视为常数，我们应用幂法则进行微分：\n$$\nMU_s = m_s s^{m_s - 1} p^{m_p}\n$$\n接下来，我们通过求 $U(s,p)$ 对 $p$ 的偏导数来计算香料的边际效用 $MU_p$：\n$$\nMU_p = \\frac{\\partial U}{\\partial p} = \\frac{\\partial}{\\partial p} \\left( s^{m_s} p^{m_p} \\right)\n$$\n将 $s$ 及其指数 $m_s$ 视为常数，我们再次应用幂法则：\n$$\nMU_p = m_p s^{m_s} p^{m_p - 1}\n$$\n根据问题陈述，MRS 是 $MU_s$ 与 $MU_p$ 之比：\n$$\n\\mathrm{MRS} = \\frac{MU_s}{MU_p} = \\frac{m_s s^{m_s - 1} p^{m_p}}{m_p s^{m_s} p^{m_p - 1}}\n$$\n为简化此表达式，我们将具有相同底数的项组合在一起：\n$$\n\\mathrm{MRS} = \\left(\\frac{m_s}{m_p}\\right) \\left(\\frac{s^{m_s - 1}}{s^{m_s}}\\right) \\left(\\frac{p^{m_p}}{p^{m_p - 1}}\\right)\n$$\n使用指数法则 $x^a / x^b = x^{a-b}$，我们得到：\n$$\n\\mathrm{MRS} = \\left(\\frac{m_s}{m_p}\\right) s^{(m_s - 1) - m_s} p^{m_p - (m_p - 1)}\n$$\n$$\n\\mathrm{MRS} = \\left(\\frac{m_s}{m_p}\\right) s^{-1} p^{1}\n$$\n这就得出了此效用函数的MRS的一般表达式：\n$$\n\\mathrm{MRS} = \\frac{m_s}{m_p} \\frac{p}{s}\n$$\n现在，我们必须计算参数为 $(s, p, m_s, m_p) = (10, 6, 2, 3)$ 的特定智能体的MRS。我们将这些值代入推导出的表达式中：\n$$\ns = 10\n$$\n$$\np = 6\n$$\n$$\nm_s = 2\n$$\n$$\nm_p = 3\n$$\n将这些值代入MRS公式：\n$$\n\\mathrm{MRS} = \\frac{2}{3} \\cdot \\frac{6}{10}\n$$\n$$\n\\mathrm{MRS} = \\frac{12}{30}\n$$\n化简该分数可得：\n$$\n\\mathrm{MRS} = \\frac{2}{5}\n$$\n为了确定该智能体的偏好，我们使用所提供的交易规则。该规则指出，如果 $\\mathrm{MRS}  1$，则该智能体在边际上相对于糖更偏好香料。\n我们计算出的值为 $\\mathrm{MRS} = \\frac{2}{5} = 0.4$。由于 $0.4  1$，该智能体确实在边际上相对于糖更偏好香料。这意味着该智能体愿意放弃 $0.4$ 单位的香料来获得额外一单位的糖。最终要求的答案是MRS的数值。",
            "answer": "$$\n\\boxed{\\frac{2}{5}}\n$$"
        },
        {
            "introduction": "当两个具有不同偏好的智能体相遇时，贸易成为可能，但前提是它们能在一个价格上达成一致。为了使贸易是自愿且互利的，价格必须落在由它们各自MRS值决定的特定区间内。这个练习  要求您定义这个价格区间并计算一个“公平”的价格，从而阐释模型中双边贸易的核心机制。",
            "id": "4149373",
            "problem": "考虑一个糖景模型，其中有两种资源，糖 $s$ 和香料 $p$，以及其偏好由柯布-道格拉斯效用函数 $U(s,p)=s^{\\alpha}p^{1-\\alpha}$ 表示的代理人。糖对香料的边际替代率 (MRS) 定义为 $MRS=\\frac{\\partial U/\\partial s}{\\partial U/\\partial p}$。两个代理人 $i$ 和 $j$ 位于相邻的网格位置上，并正在考虑进行一次小额双边贸易。在这次贸易中，代理人 $i$ 从代理人 $j$ 处获得 $\\Delta s0$ 单位的糖，并以单位价格 $q0$ 将 $q\\,\\Delta s$ 单位的香料转移给代理人 $j$。在他们当前的禀赋下，代理人 $i$ 和 $j$ 的边际替代率分别为 $MRS_{i}=\\frac{3}{2}$ 和 $MRS_{j}=\\frac{1}{4}$。\n\n从边际效用和对小额贸易效用变化的一阶近似的定义出发，推导使贸易对双方代理人均能改善福利的价格 $q$ 所需满足的充分必要条件。然后，在满足此条件的价格集合中，选择一个单一的内部价格 $q$，该价格在某种意义上是对称的，即它最小化了价格 $q$ 与两个代理人 MRS 值的绝对对数相对偏差的最大值，也就是最小化 $\\max\\{|\\ln(q)-\\ln(MRS_{i})|,\\,|\\ln(q)-\\ln(MRS_{j})|\\}$。\n\n使用给定的 MRS 值计算这个对称的内部价格。只需以单一精确表达式的形式报告最终的价格 $q$。无需四舍五入。",
            "solution": "用户提供了一个来自基于代理人建模领域的问题，具体涉及糖景模型中的贸易。\n\n首先，我们验证问题陈述。\n**步骤1：提取给定信息**\n- 效用函数：$U(s,p) = s^{\\alpha}p^{1-\\alpha}$，其中 $s$ 为糖，$p$ 为香料。\n- 边际替代率 (MRS)：$MRS = \\frac{\\partial U/\\partial s}{\\partial U/\\partial p}$。\n- 贸易描述：代理人 $i$ 从代理人 $j$ 处获得 $\\Delta s  0$ 单位的糖。代理人 $i$ 将 $q \\Delta s$ 单位的香料给予代理人 $j$。以香料计价的糖的价格为 $q  0$。\n- 代理人特定数据：$MRS_i = \\frac{3}{2}$ 和 $MRS_j = \\frac{1}{4}$。\n- 目标1：推导使贸易能够互惠改善福利的价格 $q$ 所需的条件。\n- 目标2：找到使价格 $q$ 与各代理人 MRS 值的绝对对数相对偏差的最大值最小化的价格 $q$，即最小化 $\\max\\{|\\ln(q) - \\ln(MRS_i)|, |\\ln(q) - \\ln(MRS_j)|\\}$。\n\n**步骤2：使用提取的给定信息进行验证**\n该问题在微观经济理论和基于代理人建模方面具有科学依据。这是一个适定问题，包含了所有必要的数据和一组清晰、客观的任务。效用、MRS 和福利改善型贸易等概念都是标准概念。优化问题定义明确。该问题不包含科学缺陷、歧义或矛盾。\n\n**步骤3：结论与行动**\n问题是有效的。我们开始求解。\n\n对于一个代理人糖的禀赋变化量 $\\Delta s$ 和香料的禀赋变化量 $\\Delta p$ 都很小时，其效用变化量 $\\Delta U$ 可通过全微分近似为：\n$$\n\\Delta U \\approx \\frac{\\partial U}{\\partial s}\\Delta s + \\frac{\\partial U}{\\partial p}\\Delta p\n$$\n为使贸易对一个代理人而言是福利改善的，其效用必须增加，即 $\\Delta U  0$。\n\n我们来分析每个代理人的贸易情况。\n\n**对于代理人 $i$**：\n代理人 $i$ 获得糖并付出香料。其禀赋的变化为：\n$\\Delta s_i = +\\Delta s$\n$\\Delta p_i = -q \\Delta s$\n\n代理人 $i$ 的效用变化为：\n$$\n\\Delta U_i \\approx \\frac{\\partial U_i}{\\partial s}(+\\Delta s) + \\frac{\\partial U_i}{\\partial p}(-q \\Delta s) = \\left(\\frac{\\partial U_i}{\\partial s} - q \\frac{\\partial U_i}{\\partial p}\\right) \\Delta s\n$$\n为使贸易对代理人 $i$ 是福利改善的，必须有 $\\Delta U_i  0$。由于 $\\Delta s  0$，这要求：\n$$\n\\frac{\\partial U_i}{\\partial s} - q \\frac{\\partial U_i}{\\partial p}  0\n$$\n$$\n\\frac{\\partial U_i}{\\partial s}  q \\frac{\\partial U_i}{\\partial p}\n$$\n对于给定的柯布-道格拉斯效用函数，在任何正禀赋下，边际效用 $\\frac{\\partial U}{\\partial s}$ 和 $\\frac{\\partial U}{\\partial p}$ 均为正。因此，我们可以用 $\\frac{\\partial U_i}{\\partial p}$ 除不等式两边而不改变不等号方向：\n$$\n\\frac{\\partial U_i / \\partial s}{\\partial U_i / \\partial p}  q\n$$\n根据定义，这即是 $MRS_i  q$。\n\n**对于代理人 $j$**：\n代理人 $j$ 付出糖并获得香料。其禀赋的变化为：\n$\\Delta s_j = -\\Delta s$\n$\\Delta p_j = +q \\Delta s$\n\n代理人 $j$ 的效用变化为：\n$$\n\\Delta U_j \\approx \\frac{\\partial U_j}{\\partial s}(-\\Delta s) + \\frac{\\partial U_j}{\\partial p}(+q \\Delta s) = \\left(-\\frac{\\partial U_j}{\\partial s} + q \\frac{\\partial U_j}{\\partial p}\\right) \\Delta s\n$$\n为使贸易对代理人 $j$ 是福利改善的，必须有 $\\Delta U_j  0$。由于 $\\Delta s  0$，这要求：\n$$\n-\\frac{\\partial U_j}{\\partial s} + q \\frac{\\partial U_j}{\\partial p}  0\n$$\n$$\nq \\frac{\\partial U_j}{\\partial p}  \\frac{\\partial U_j}{\\partial s}\n$$\n用正的边际效用 $\\frac{\\partial U_j}{\\partial p}$ 除不等式两边：\n$$\nq  \\frac{\\partial U_j / \\partial s}{\\partial U_j / \\partial p}\n$$\n根据定义，这即是 $q  MRS_j$。\n\n**互惠福利改善贸易的条件**：\n为使贸易能同时对两个代理人都有利，两个条件必须同时满足。这就得出了关于价格 $q$ 的充分必要条件：\n$$\nMRS_j  q  MRS_i\n$$\n使用给定值，互惠价格的区间为 $\\frac{1}{4}  q  \\frac{3}{2}$。\n\n**寻找对称价格**：\n第二个任务是找到在此区间内使以下函数最小化的价格 $q$：\n$$\nf(q) = \\max\\{|\\ln(q) - \\ln(MRS_i)|, |\\ln(q) - \\ln(MRS_j)|\\}\n$$\n利用对数性质 $\\ln(a) - \\ln(b) = \\ln(a/b)$，该函数可以写为：\n$$\nf(q) = \\max\\{|\\ln(q/MRS_i)|, |\\ln(q/MRS_j)|\\}\n$$\n在有利可图的贸易区间 $MRS_j  q  MRS_i$ 内，我们有：\n$q/MRS_i  1$，这意味着 $\\ln(q/MRS_i)  0$。\n$q/MRS_j  1$，这意味着 $\\ln(q/MRS_j)  0$。\n\n因此，我们可以去掉绝对值符号：\n$|\\ln(q/MRS_i)| = -\\ln(q/MRS_i) = \\ln(MRS_i/q)$\n$|\\ln(q/MRS_j)| = \\ln(q/MRS_j)$\n\n需要最小化的函数变为：\n$$\nf(q) = \\max\\{\\ln(MRS_i/q), \\ln(q/MRS_j)\\}\n$$\n设 $g_1(q) = \\ln(MRS_i/q)$ 和 $g_2(q) = \\ln(q/MRS_j)$。函数 $g_1(q)$ 随 $q$ 单调递减，而 $g_2(q)$ 随 $q$ 单调递增。这样一对函数的最大值的最小值出现在它们相等的点 $q^*$，即 $g_1(q^*) = g_2(q^*)$。\n\n令 $\\max$ 函数的两个参数相等：\n$$\n\\ln(MRS_i/q) = \\ln(q/MRS_j)\n$$\n由于对数函数是一一对应的，这意味着它们的自变量相等：\n$$\n\\frac{MRS_i}{q} = \\frac{q}{MRS_j}\n$$\n求解 $q$：\n$$\nq^2 = MRS_i \\cdot MRS_j\n$$\n$$\nq = \\sqrt{MRS_i \\cdot MRS_j}\n$$\n满足此条件的价格 $q$ 是两个代理人边际替代率的几何平均值。\n\n**价格计算**：\n给定 $MRS_i = \\frac{3}{2}$ 和 $MRS_j = \\frac{1}{4}$。将这些值代入推导出的 $q$ 的公式中：\n$$\nq = \\sqrt{\\frac{3}{2} \\cdot \\frac{1}{4}} = \\sqrt{\\frac{3}{8}}\n$$\n为了以标准简化形式呈现：\n$$\nq = \\frac{\\sqrt{3}}{\\sqrt{8}} = \\frac{\\sqrt{3}}{2\\sqrt{2}}\n$$\n分母有理化：\n$$\nq = \\frac{\\sqrt{3} \\cdot \\sqrt{2}}{2\\sqrt{2} \\cdot \\sqrt{2}} = \\frac{\\sqrt{6}}{2 \\cdot 2} = \\frac{\\sqrt{6}}{4}\n$$\n这就是对称内部价格的最终精确表达式。",
            "answer": "$$\\boxed{\\frac{\\sqrt{6}}{4}}$$"
        }
    ]
}