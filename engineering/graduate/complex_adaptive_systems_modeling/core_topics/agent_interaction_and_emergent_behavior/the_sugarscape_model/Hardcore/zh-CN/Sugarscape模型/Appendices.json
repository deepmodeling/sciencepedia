{
    "hands_on_practices": [
        {
            "introduction": "要掌握 Sugarscape 模型，首先必须理解其最核心的机制：智能体的移动规则。这个练习将带你亲手计算一个智能体在特定环境中的决策过程。通过解决这个问题 ，你将熟悉智能体如何根据其“视野”范围内的资源分布，并在遵守占有规则的前提下，做出最大化自身利益的选择。",
            "id": "4149418",
            "problem": "考虑一个基于主体的模型 (ABM) 中的经典糖景主体，该主体位于一个有限网格环境 $\\mathcal{E}$ 上，此环境是一个 $3 \\times 3$ 的网格，坐标为 $(i,j)$，其中 $i,j \\in \\{1,2,3\\}$。该主体遵循标准的 Epstein–Axtell 移动规则：在每个时间步，它会沿着四个基本方向（北、东、南、西）探查其视野 $v$ 范围内的格子，受网格边界和占用约束的限制，并选择糖量值最大的目标格子。若出现平局，则选择与当前位置曼哈顿距离最小的目标格子；如果仍然平局，则遵循固定的方向优先顺序：东 $\\succ$ 南 $\\succ$ 西 $\\succ$ 北 $\\succ$ 停留。主体可以合法地选择停留在原地，并且禁止移动到任何已被其他主体占用的格子。\n\n假设目标主体位于 $\\mathcal{E}$ 的左上角 $(i,j)=(1,1)$。该主体的视野为 $v=3$。$\\mathcal{E}$ 上的糖场 $S$ 和占用场 $O$ 由以下公式给出\n$$\nS=\\begin{pmatrix}\n4  7  6 \\\\\n5  8  0 \\\\\n2  8  3\n\\end{pmatrix},\\qquad\nO=\\begin{pmatrix}\n0  1  0 \\\\\n1  0  0 \\\\\n0  1  0\n\\end{pmatrix},\n$$\n其中 $S_{ij}$ 是格子 $(i,j)$ 上的可用糖量，$O_{ij}=1$ 表示格子 $(i,j)$ 已被另一主体占用，而 $O_{ij}=0$ 表示该格子未被占用。该主体不能移动到 $\\mathcal{E}$ 之外，也不能移动到任何 $O_{ij}=1$ 的格子上。主体到达目标格子后，会获取该格子上全部的可用糖量。\n\n根据这些规则，计算该主体在此时间步选择的移动及其产生的糖摄入量。最终答案以产生的糖摄入量表示。最终答案无需四舍五入，也不应使用单位。",
            "solution": "本问题要求根据给定的规则确定糖域主体的移动选择。规则是：\n1.  **感知**: 主体从其当前位置 $(1,1)$ 沿东、南、西、北四个基本方向扫描，视野 $v=3$。\n2.  **过滤**: 忽略被占用的地块（即 $O_{ij}=1$ 的地块）。\n3.  **决策**:\n    a. 选择糖量 $S$ 最大的可用地块。\n    b. 如果糖量出现平局，选择曼哈顿距离最近的地块。\n    c. 如果仍然平局，按“东 $\\succ$ 南 $\\succ$ 西 $\\succ$ 北 $\\succ$ 停留”的顺序选择。\n\n我们来逐步执行此过程：\n\n**步骤 1: 确定可见地块**\n主体位于 $(1,1)$。其沿四个基本方向可见的地块为：\n*   向东: $(1,2)$, $(1,3)$\n*   向南: $(2,1)$, $(3,1)$\n*   向西: 无\n*   向北: 无\n主体也可以选择停留在原地 $(1,1)$。\n\n**步骤 2: 过滤被占用的地块**\n给定的占用场为 $O=\\begin{pmatrix} 0  1  0 \\\\ 1  0  0 \\\\ 0  1  0 \\end{pmatrix}$。\n这意味着地块 $(1,2)$, $(2,1)$ 和 $(3,2)$ 被占用。\n*   可见地块 $(1,2)$ 被占用，因此不可选。\n*   可见地块 $(2,1)$ 被占用，因此不可选。\n\n因此，主体可供选择的合法地块集合为：\n*   原地: $(1,1)$\n*   向东: $(1,3)$\n*   向南: $(3,1)$\n\n**步骤 3: 评估可用地块并决策**\n我们现在查看这些可用地块的糖量。糖场为 $S=\\begin{pmatrix} 4  7  6 \\\\ 5  8  0 \\\\ 2  8  3 \\end{pmatrix}$。\n*   地块 $(1,1)$ 的糖量为 $S_{11} = 4$。\n*   地块 $(1,3)$ 的糖量为 $S_{13} = 6$。\n*   地块 $(3,1)$ 的糖量为 $S_{31} = 2$。\n\n比较糖量：$\\{4, 6, 2\\}$。\n最大糖量为 6，唯一地对应于地块 $(1,3)$。\n\n由于没有出现平局，主体将选择移动到糖量最高的地块 $(1,3)$。\n\n**结论**\n主体选择移动到地块 $(1,3)$，并摄入该地块上的全部糖量，即 6。",
            "answer": "$$ \\boxed{6} $$"
        },
        {
            "introduction": "Sugarscape 模型的一个重要扩展是引入了贸易，这使得更复杂的社会经济现象（如市场和价格形成）得以涌现。这个练习  旨在揭示贸易行为的微观经济学基础。你将通过推导和计算边际替代率（Marginal Rate of Substitution, $MRS$），来量化一个智能体对不同资源的相对偏好，这是理解其交易决策的关键一步。",
            "id": "4149408",
            "problem": "考虑糖域模型 (Sugarscape model) 的糖与香料 (Sugar-and-Spice) 扩展，其中每个主体拥有糖存量 $s \\in \\mathbb{R}_{0}$ 和香料存量 $p \\in \\mathbb{R}_{0}$，并且每个时期需要消耗 $m_s \\in \\mathbb{R}_{0}$ 单位的糖和 $m_p \\in \\mathbb{R}_{0}$ 单位的香料作为代谢需求。假设瞬时福利由一个基于主体代谢需求的单调、严格拟凹的效用函数表示，具体为 $U(s,p) = s^{m_s} p^{m_p}$。在局部双边贸易中，交易决策围绕边际替代率 (Marginal Rate of Substitution, MRS) 展开，其定义为糖的边际效用与香料的边际效用之比。$MRS > 1$ 的主体在边际上更偏好糖（相对于香料）（即愿意为一单位糖放弃更多香料），而 $MRS  1$ 的主体在边际上更偏好香料（相对于糖）。\n\n从该效用表示和 MRS 作为边际效用之比的标准定义出发，推导主体的 $\\mathrm{MRS}$ 关于 $s$、$p$、$m_s$ 和 $m_p$ 的表达式。然后，对于一个参数为 $(s,p,m_s,m_p) = (10,6,2,3)$ 的主体，计算其 $\\mathrm{MRS}$，并使用上述交易规则判断其在边际上更偏好糖还是香料。\n\n将最终数值答案表示为 $\\mathrm{MRS}$ 的值。无需四舍五入。",
            "solution": "该问题在微观经济学理论和基于主体的建模框架内是适定的，并具有科学依据。所有必要信息均已提供，且定义标准、一致。\n\n主体的福利由效用函数 $U(s,p) = s^{m_s} p^{m_p}$ 描述，其中 $s$ 是糖的存量，$p$ 是香料的存量，$m_s$ 和 $m_p$ 分别是糖和香料的代谢需求。所有参数 $s, p, m_s, m_p$ 均为正实数。\n\n问题中定义边际替代率 (MRS) 为糖的边际效用与香料的边际效用之比。一种商品的边际效用是效用函数对该商品数量的偏导数。\n\n首先，我们通过求 $U(s,p)$ 对 $s$ 的偏导数来计算糖的边际效用 $MU_s$：\n$$\nMU_s = \\frac{\\partial U}{\\partial s} = \\frac{\\partial}{\\partial s} \\left( s^{m_s} p^{m_p} \\right)\n$$\n将 $p$ 及其指数 $m_p$ 视为常数，我们应用微分的幂法则：\n$$\nMU_s = m_s s^{m_s - 1} p^{m_p}\n$$\n接下来，我们通过求 $U(s,p)$ 对 $p$ 的偏导数来计算香料的边际效用 $MU_p$：\n$$\nMU_p = \\frac{\\partial U}{\\partial p} = \\frac{\\partial}{\\partial p} \\left( s^{m_s} p^{m_p} \\right)\n$$\n将 $s$ 及其指数 $m_s$ 视为常数，我们再次应用幂法则：\n$$\nMU_p = m_p s^{m_s} p^{m_p - 1}\n$$\n根据问题陈述，MRS 是 $MU_s$ 与 $MU_p$ 的比值：\n$$\n\\mathrm{MRS} = \\frac{MU_s}{MU_p} = \\frac{m_s s^{m_s - 1} p^{m_p}}{m_p s^{m_s} p^{m_p - 1}}\n$$\n为简化此表达式，我们将具有相同底数的项组合在一起：\n$$\n\\mathrm{MRS} = \\left(\\frac{m_s}{m_p}\\right) \\left(\\frac{s^{m_s - 1}}{s^{m_s}}\\right) \\left(\\frac{p^{m_p}}{p^{m_p - 1}}\\right)\n$$\n使用指数法则 $x^a / x^b = x^{a-b}$，我们得到：\n$$\n\\mathrm{MRS} = \\left(\\frac{m_s}{m_p}\\right) s^{(m_s - 1) - m_s} p^{m_p - (m_p - 1)}\n$$\n$$\n\\mathrm{MRS} = \\left(\\frac{m_s}{m_p}\\right) s^{-1} p^{1}\n$$\n这就得到了该效用函数的 MRS 的一般表达式：\n$$\n\\mathrm{MRS} = \\frac{m_s}{m_p} \\frac{p}{s}\n$$\n现在，我们必须计算参数为 $(s, p, m_s, m_p) = (10, 6, 2, 3)$ 的特定主体的 MRS。我们将这些值代入推导出的表达式中：\n$$\ns = 10\n$$\n$$\np = 6\n$$\n$$\nm_s = 2\n$$\n$$\nm_p = 3\n$$\n将这些值代入 MRS 公式：\n$$\n\\mathrm{MRS} = \\frac{2}{3} \\cdot \\frac{6}{10}\n$$\n$$\n\\mathrm{MRS} = \\frac{12}{30}\n$$\n化简分数得到：\n$$\n\\mathrm{MRS} = \\frac{2}{5}\n$$\n为了确定主体的偏好，我们使用所提供的交易规则。该规则指出，如果 $MRS  1$，则主体在边际上更偏好香料（相对于糖）。\n我们计算出的值为 $\\mathrm{MRS} = \\frac{2}{5} = 0.4$。由于 $0.4  1$，该主体确实在边际上更偏好香料（相对于糖）。这意味着该主体愿意放弃 0.4 单位的香料来获得一单位额外的糖。题目要求的最终答案是 MRS 的数值。",
            "answer": "$$\n\\boxed{\\frac{2}{5}}\n$$"
        },
        {
            "introduction": "在理解了单个智能体的偏好如何用边际替代率（$MRS$）来量化之后，下一步是探究两个智能体之间如何进行交易。这个练习  直接建立在 $MRS$ 的概念之上，让你确定一个互惠互利的交易能够成立的价格区间。通过这个过程，你将深刻体会到，正是智能体之间主观估值的差异，才为财富的重新分配和市场交换创造了空间。",
            "id": "4149373",
            "problem": "考虑一个糖景模型，其中有两种资源：糖 $s$ 和香料 $p$。代理人的偏好由柯布-道格拉斯效用函数 $U(s,p)=s^{\\alpha}p^{1-\\alpha}$ 表示。糖对香料的边际替代率（MRS）定义为 $\\mathrm{MRS}=\\frac{\\partial U/\\partial s}{\\partial U/\\partial p}$。两个代理人 $i$ 和 $j$ 位于相邻的网格点上，正在考虑进行一次小额双边贸易。在该贸易中，代理人 $i$ 从代理人 $j$ 处收到 $\\Delta s > 0$ 单位的糖，并以单位价格 $q>0$ 将 $q\\,\\Delta s$ 单位的香料转移给代理人 $j$。在他们当前的禀赋下，代理人拥有 $MRS_{i}=\\frac{3}{2}$ 和 $MRS_{j}=\\frac{1}{4}$。\n\n从边际效用和小额贸易中效用变化的一阶近似的定义出发，推导价格 $q$ 满足何种充要条件时，该贸易对两个代理人都是共同福利增进的。然后，在满足此条件的价格集合中，选择一个内部价格 $q$，该价格在某种意义上是对称的，即它最小化了与两个代理人 $MRS$ 值的绝对对数相对偏差的最大值，也就是说，它最小化了 $\\max\\{|\\ln(q)-\\ln(MRS_{i})|,\\,|\\ln(q)-\\ln(MRS_{j})|\\}$。\n\n使用给定的 $MRS$ 值计算这个对称内部价格。仅将所得价格 $q$ 以单一精确表达式的形式给出。无需四舍五入。",
            "solution": "对于糖的禀赋 $\\Delta s$ 和香料的禀赋 $\\Delta p$ 的微小变化，代理人效用 $\\Delta U$ 的变化可以通过全微分来近似：\n$$\n\\Delta U \\approx \\frac{\\partial U}{\\partial s}\\Delta s + \\frac{\\partial U}{\\partial p}\\Delta p\n$$\n为了使贸易对代理人是福利增进的，其效用必须增加，即 $\\Delta U > 0$。\n\n我们来分析每个代理人的贸易情况。\n\n**对于代理人 $i$**：\n代理人 $i$ 收到糖并付出香料。其禀赋的变化是 $\\Delta s_i = +\\Delta s$ 和 $\\Delta p_i = -q \\Delta s$。\n代理人 $i$ 的效用变化是：\n$$\n\\Delta U_i \\approx \\frac{\\partial U_i}{\\partial s}(+\\Delta s) + \\frac{\\partial U_i}{\\partial p}(-q \\Delta s) = \\left(\\frac{\\partial U_i}{\\partial s} - q \\frac{\\partial U_i}{\\partial p}\\right) \\Delta s\n$$\n为了使贸易对代理人 $i$ 是福利增进的，我们必须有 $\\Delta U_i > 0$。由于 $\\Delta s > 0$ 且边际效用为正，这要求：\n$$\n\\frac{\\partial U_i / \\partial s}{\\partial U_i / \\partial p} > q\n$$\n根据定义，这就是 $MRS_i > q$。\n\n**对于代理人 $j$**：\n代理人 $j$ 付出糖并收到香料。其禀赋的变化是 $\\Delta s_j = -\\Delta s$ 和 $\\Delta p_j = +q \\Delta s$。\n代理人 $j$ 的效用变化是：\n$$\n\\Delta U_j \\approx \\frac{\\partial U_j}{\\partial s}(-\\Delta s) + \\frac{\\partial U_j}{\\partial p}(+q \\Delta s) = \\left(-\\frac{\\partial U_j}{\\partial s} + q \\frac{\\partial U_j}{\\partial p}\\right) \\Delta s\n$$\n为了使贸易对代理人 $j$ 是福利增进的，我们必须有 $\\Delta U_j > 0$。由于 $\\Delta s > 0$ 且边际效用为正，这要求：\n$$\nq > \\frac{\\partial U_j / \\partial s}{\\partial U_j / \\partial p}\n$$\n根据定义，这就是 $q > MRS_j$。\n\n**共同福利增进贸易的条件**：\n为了使贸易对两个代理人同时有利，两个条件都必须满足，这得出了关于价格 $q$ 的充要条件：\n$$\nMRS_j  q  MRS_i\n$$\n使用给定的值，共同有利的价格区间是 $\\frac{1}{4}  q  \\frac{3}{2}$。\n\n**寻找对称价格**：\n第二个任务是找到在此区间内最小化以下函数的价格 $q$：\n$$\nf(q) = \\max\\{|\\ln(q) - \\ln(MRS_i)|, |\\ln(q) - \\ln(MRS_j)|\\}\n$$\n该函数在 $q$ 使得 $\\max$ 中的两项相等时达到最小值。\n$$\n|\\ln(q) - \\ln(MRS_i)| = |\\ln(q) - \\ln(MRS_j)|\n$$\n由于 $MRS_j  q  MRS_i$，我们有 $\\ln(q) - \\ln(MRS_i)  0$ 和 $\\ln(q) - \\ln(MRS_j) > 0$。因此，我们可以去掉绝对值符号：\n$$\n-(\\ln(q) - \\ln(MRS_i)) = \\ln(q) - \\ln(MRS_j)\n$$\n$$\n\\ln(MRS_i) - \\ln(q) = \\ln(q) - \\ln(MRS_j)\n$$\n$$\n2\\ln(q) = \\ln(MRS_i) + \\ln(MRS_j) = \\ln(MRS_i \\cdot MRS_j)\n$$\n$$\n\\ln(q^2) = \\ln(MRS_i \\cdot MRS_j)\n$$\n解出 $q$：\n$$\nq^2 = MRS_i \\cdot MRS_j \\implies q = \\sqrt{MRS_i \\cdot MRS_j}\n$$\n满足此条件的价格 $q$ 是两个代理人边际替代率的几何平均数。\n\n**价格计算**：\n给定 $MRS_i = \\frac{3}{2}$ 和 $MRS_j = \\frac{1}{4}$。将这些值代入推导出的 $q$ 的公式中：\n$$\nq = \\sqrt{\\frac{3}{2} \\cdot \\frac{1}{4}} = \\sqrt{\\frac{3}{8}}\n$$\n为了以标准的简化形式呈现：\n$$\nq = \\frac{\\sqrt{3}}{\\sqrt{8}} = \\frac{\\sqrt{3}}{2\\sqrt{2}} = \\frac{\\sqrt{3} \\cdot \\sqrt{2}}{2\\sqrt{2} \\cdot \\sqrt{2}} = \\frac{\\sqrt{6}}{4}\n$$\n这就是对称内部价格的最终精确表达式。",
            "answer": "$$\\boxed{\\frac{\\sqrt{6}}{4}}$$"
        }
    ]
}