{
    "hands_on_practices": [
        {
            "introduction": "本练习提供了将概念模型转化为数学公式的基础实践。你将学习如何将定性描述关系的因果回路图，转换为能够定量捕捉系统动态的常微分方程组，这是系统动力学建模的一项核心技能 。这一过程使得对系统的均衡点和局部稳定性等属性进行严格分析成为可能。",
            "id": "4122901",
            "problem": "考虑一个包含两个存量的因果回路图：$P(t)$ 代表适应性主体种群，$K(t)$ 代表累积的知识资本。该图包含两个闭合回路：\n\n- 一个增强回路 $R$：知识增加采纳，采纳增加知识。具体来说，$K$ 增加了流入 $P$ 的采纳量，$P$ 增加了流入 $K$ 的知识生产量。\n- 一个平衡回路 $B$：种群增加放弃量，从而减少自身。具体来说，$P$ 增加了从 $P$ 流出的放弃量。\n\n假设以下具有科学依据的存量流量建模假设：\n\n- 根据存量流量建模的定义，一个存量的时间变化率等于其流入量之和减去其流出量之和。\n- 在复杂适应性系统中常用的质量作用式相互作用下，流入 $P$ 的采纳量与乘积 $K P$ 成正比，比例常数为 $a  0$；从 $P$ 流出的放弃量与 $P$ 成正比，常数为 $b  0$；流入 $K$ 的知识生产量与 $P$ 成正比，常数为 $u  0$；从 $K$ 流出的知识陈旧量与 $K$ 成正比，常数为 $v  0$。\n- 所有参数 $a$、$b$、$u$ 和 $v$ 均为不随时间变化的正数常量，且对所有 $t$ 都有 $P(t) \\ge 0$，$K(t) \\ge 0$。\n\n任务：\n\n1. 使用上述假设和“存量变化等于流入量减去流出量”的基本定义，将该因果回路图转化为关于 $P(t)$ 和 $K(t)$ 的一对存量流量常微分方程（Ordinary Differential Equation (ODE)）。\n2. 求解非平凡内部平衡点 $(P^{*}, K^{*})$，其中 $P^{*}  0$ 且 $K^{*}  0$。\n3. 推导该 ODE 系统的雅可比矩阵，并在点 $(P^{*}, K^{*})$ 处对其求值。\n4. 使用因果效应符号的基本原理，通过检查流量函数的适当偏导数，验证增强回路 $R$ 具有正极性，平衡回路 $B$ 具有负极性。然后，通过分析平衡点处雅可比矩阵的符号结构，将这些回路极性与局部线性动力学联系起来。\n5. 计算在 $(P^{*}, K^{*})$ 处的雅可比矩阵的主导（最大实部）特征值，并用 $a$、$b$、$u$ 和 $v$ 表示为一个闭式解析表达式。\n\n以主导特征值的精确解析表达式形式提供最终答案。不需要进行数值近似。",
            "solution": "用户提供了一个问题陈述，描述了一个涉及主体种群 $P(t)$ 和知识资本 $K(t)$ 的复杂适应性系统的因果回路图。该问题要求进行一系列推导，从构建系统的常微分方程（ODE）开始，到寻找非平凡平衡点，通过雅可比矩阵分析系统的局部稳定性，最终计算在该平衡点处雅可比矩阵的主导特征值。\n\n### 步骤 1：问题验证\n\n首先，我将验证问题陈述的有效性。\n\n**提取的已知条件：**\n- 存量：$P(t)$（适应性主体种群），$K(t)$（累积知识资本）。\n- 增强回路 $R$：$K$ 增加流入 $P$ 的采纳量，$P$ 增加流入 $K$ 的知识生产量。\n- 平衡回路 $B$：$P$ 增加从 $P$ 流出的放弃量。\n- 定义：存量的时间变化率等于其流入量之和减去其流出量之和。\n- 流量函数：\n  - 流入 $P$ 的采纳量：与 $K P$ 成正比，常数为 $a  0$。\n  - 从 $P$ 流出的放弃量：与 $P$ 成正比，常数为 $b  0$。\n  - 流入 $K$ 的知识生产量：与 $P$ 成正比，常数为 $u  0$。\n  - 从 $K$ 流出的知识陈旧量：与 $K$ 成正比，常数为 $v  0$。\n- 参数：$a$、$b$、$u$、$v$ 是不随时间变化的正数常量。\n- 状态空间：对所有 $t$，$P(t) \\ge 0$，$K(t) \\ge 0$。\n- 任务：\n  1. 转化为 ODE。\n  2. 寻找非平凡平衡点 $(P^{*}, K^{*})$，其中 $P^{*}  0$，$K^{*}  0$。\n  3. 推导雅可比矩阵并在 $(P^{*}, K^{*})$ 处求值。\n  4. 验证回路极性并将其与雅可比矩阵联系起来。\n  5. 计算在 $(P^{*}, K^{*})$ 处雅可比矩阵的主导特征值。\n\n**验证结论：**\n- **科学性：** 该问题使用了标准的存量流量建模方法，并结合了质量作用动力学（类似于 Lotka-Volterra 模型），这些都是系统动力学、理论生态学和复杂适应性系统建模中基础且成熟的框架。在此建模范式内，所给假设是科学合理的。\n- **适定性：** 该问题在数学上是适定的。它提供了构建和分析 ODE 系统所需的所有函数形式和参数约束。任务具体明确，并能导出一个唯一的解析解。\n- **客观性：** 语言正式、精确且完全客观，不包含任何主观论断。\n- **完整性与一致性：** 问题是自洽的，没有矛盾之处。给定的信息足以完成所有要求的任务。\n- **现实性：** 该设定是一个标准的、尽管简化的技术采纳或社会学习模型，这是此类动力系统的常见应用。作为一个模型，它在科学上是可信的。\n- **结构：** 问题结构清晰，要求进行一系列逻辑连贯的分析步骤，这是动力系统分析的典型特征。\n\n该问题满足可解科学问题的所有标准，是有效的。我将继续进行求解。\n\n### 步骤 2：求解推导\n\n**1. 构建 ODE 系统**\n\n根据“存量变化率等于其总流入量减去总流出量”的基本定义，我们构建 $P(t)$ 和 $K(t)$ 的微分方程。\n\n对于种群存量 $P(t)$：\n- 流入（采纳）：$a K P$\n- 流出（放弃）：$b P$\n变化率为：\n$$ \\frac{dP}{dt} = a K P - b P = P(aK - b) $$\n\n对于知识存量 $K(t)$：\n- 流入（生产）：$u P$\n- 流出（陈旧）：$v K$\n变化率为：\n$$ \\frac{dK}{dt} = u P - v K $$\n\nODE 系统为：\n$$ \\frac{dP}{dt} = P(t)(aK(t) - b) $$\n$$ \\frac{dK}{dt} = uP(t) - vK(t) $$\n\n**2. 非平凡平衡点**\n\n通过将时间导数设为零来找到平衡点 $(P^{*}, K^{*})$：\n$$ \\frac{dP}{dt} = P^{*}(aK^{*} - b) = 0 $$\n$$ \\frac{dK}{dt} = uP^{*} - vK^{*} = 0 $$\n\n从第一个方程，我们得到两种可能性：$P^{*} = 0$ 或 $aK^{*} - b = 0$。\n如果 $P^{*} = 0$，第二个方程给出 $u(0) - vK^{*} = 0$，这意味着 $K^{*} = 0$。这就得到了平凡平衡点 $(0, 0)$。\n\n问题要求的是非平凡内部平衡点，其中 $P^{*}  0$ 且 $K^{*}  0$。为此，必须有 $P^{*} \\ne 0$，因此第一个方程要求：\n$$ aK^{*} - b = 0 \\implies K^{*} = \\frac{b}{a} $$\n由于 $a  0$ 且 $b  0$，我们有 $K^{*}  0$。\n\n将 $K^{*}$ 的这个结果代入第二个平衡方程：\n$$ uP^{*} - v\\left(\\frac{b}{a}\\right) = 0 $$\n$$ uP^{*} = \\frac{vb}{a} $$\n$$ P^{*} = \\frac{vb}{ua} $$\n由于 $u  0$，$v  0$，$b  0$ 且 $a  0$，我们有 $P^{*}  0$。\n\n因此，唯一的非平凡平衡点是 $(P^{*}, K^{*}) = \\left(\\frac{vb}{ua}, \\frac{b}{a}\\right)$。\n\n**3. 平衡点处的雅可比矩阵**\n\n系统的雅可比矩阵 $J$ 是由变化率函数的偏导数组成的矩阵。设 $f(P, K) = P(aK - b) = aPK - bP$ 且 $g(P, K) = uP - vK$。\n$$ J(P, K) = \\begin{pmatrix} \\frac{\\partial f}{\\partial P}  \\frac{\\partial f}{\\partial K} \\\\ \\frac{\\partial g}{\\partial P}  \\frac{\\partial g}{\\partial K} \\end{pmatrix} = \\begin{pmatrix} aK - b  aP \\\\ u  -v \\end{pmatrix} $$\n现在，我们在非平凡平衡点 $(P^{*}, K^{*}) = \\left(\\frac{vb}{ua}, \\frac{b}{a}\\right)$ 处计算该矩阵的值：\n$$ J^{*} = J(P^{*}, K^{*}) = \\begin{pmatrix} a\\left(\\frac{b}{a}\\right) - b  a\\left(\\frac{vb}{ua}\\right) \\\\ u  -v \\end{pmatrix} = \\begin{pmatrix} b - b  \\frac{vb}{u} \\\\ u  -v \\end{pmatrix} = \\begin{pmatrix} 0  \\frac{vb}{u} \\\\ u  -v \\end{pmatrix} $$\n\n**4. 回路极性验证及与雅可比矩阵的联系**\n\n如果变量 $X$ 的增加导致变量 $Y$ 的变化率增加（即 $\\frac{\\partial}{\\partial X} (\\frac{dY}{dt})  0$），则从 $X$ 到 $Y$ 的因果链为正，否则为负。回路的极性是其组成链符号的乘积。\n\n- **增强回路 R ($K \\to P \\to K$)：**\n  - 链 $K \\to P$：$K$ 对 $P$ 变化率的影响是 $\\frac{\\partial}{\\partial K}(\\frac{dP}{dt}) = \\frac{\\partial}{\\partial K}(aPK - bP) = aP$。由于在感兴趣的区域内 $P  0$，该链为正（$+$）。\n  - 链 $P \\to K$：$P$ 对 $K$ 变化率的影响是 $\\frac{\\partial}{\\partial P}(\\frac{dK}{dt}) = \\frac{\\partial}{\\partial P}(uP - vK) = u$。由于 $u  0$，该链为正（$+$）。\n  - R 的回路极性：$(+) \\times (+) = (+)$。这证实了 R 是一个增强回路。\n\n- **平衡回路 B ($P \\to P$)：**\n  - 该回路代表种群 $P$ 通过放弃流出量对其自身变化的影响。流出量为 $bP$。该项对 $P$ 变化率的影响是 $\\frac{\\partial}{\\partial P}(-bP) = -b$。由于 $b  0$，此影响为负（$-$），证实了 B 是一个平衡回路。\n\n雅可比矩阵 $J^{*}$ 的元素代表了平衡点处的这些线性化因果效应：\n- $J^{*}_{12} = aP^{*} = \\frac{vb}{u}  0$：这是 $K$ 对 $P$ 增长率的正向影响（链 $K \\to P$）。\n- $J^{*}_{21} = u  0$：这是 $P$ 对 $K$ 增长率的正向影响（链 $P \\to K$）。\n非对角元素的乘积 $J^{*}_{12}J^{*}_{21} = (\\frac{vb}{u})(u) = vb  0$，代表了增强反馈回路 $R$ 的正增益。\n- $J^{*}_{11} = aK^{*} - b = 0$：该项代表对 $P$ 的净自身效应。在平衡点，知识的增强效应（$aK^{*}$）与放弃的自限平衡效应（$-b$）完全抵消。\n- $J^{*}_{22} = -v  0$：这代表了由于陈旧而对知识产生的自阻尼效应。\n\n**5. 雅可比矩阵的主导特征值**\n\n雅可比矩阵 $J^{*}$ 的特征值 $\\lambda$ 是特征方程 $\\det(J^{*} - \\lambda I) = 0$ 的根，其中 $I$ 是单位矩阵。\n$$ \\det \\begin{pmatrix} 0 - \\lambda  \\frac{vb}{u} \\\\ u  -v - \\lambda \\end{pmatrix} = 0 $$\n$$ (-\\lambda)(-v - \\lambda) - \\left(\\frac{vb}{u}\\right)(u) = 0 $$\n$$ \\lambda(v + \\lambda) - vb = 0 $$\n$$ \\lambda^2 + v\\lambda - vb = 0 $$\n\n我们使用二次公式 $\\lambda = \\frac{-B \\pm \\sqrt{B^2 - 4AC}}{2A}$ 求解这个关于 $\\lambda$ 的二次方程，其中 $A=1$，$B=v$，$C=-vb$。\n$$ \\lambda = \\frac{-v \\pm \\sqrt{v^2 - 4(1)(-vb)}}{2(1)} $$\n$$ \\lambda = \\frac{-v \\pm \\sqrt{v^2 + 4vb}}{2} $$\n\n两个特征值为：\n$$ \\lambda_1 = \\frac{-v + \\sqrt{v^2 + 4vb}}{2} $$\n$$ \\lambda_2 = \\frac{-v - \\sqrt{v^2 + 4vb}}{2} $$\n\n主导特征值是具有最大实部的那个。由于 $v  0$ 和 $b  0$，项 $v^2 + 4vb$ 为正，因此平方根是实数。\n此外，$v^2 + 4vb  v^2$，这意味着 $\\sqrt{v^2 + 4vb}  \\sqrt{v^2} = v$。\n因此：\n- $\\lambda_1 = \\frac{1}{2}(-v + (\\text{一个大于 } v \\text{ 的值}))  0$。\n- $\\lambda_2 = \\frac{1}{2}(-v - (\\text{一个大于 } v \\text{ 的值}))  0$。\n\n主导特征值是 $\\lambda_1$，它是一个正数。这表明非平凡平衡点是不稳定的（具体来说，是一个鞍点），系统通常会受增强回路动力学的驱动而偏离此点并增长。\n\n主导特征值的最终表达式是 $\\lambda_1$。",
            "answer": "$$\\boxed{\\frac{-v + \\sqrt{v^2 + 4vb}}{2}}$$"
        },
        {
            "introduction": "正反馈回路可以导致深刻的非线性行为，例如临界点，在临界点附近，一个微小的变化就可能将系统推向一个完全不同的状态。本练习挑战你从基本原理出发，推导出一个社会临界现象的数学模型，并创建一个算法来预测其长期结果 。这个练习将加深你对双稳态、吸引盆以及增强回路如何创造路径依赖的理解。",
            "id": "4122943",
            "problem": "考虑一个充分混合的种群，在时间 $t$ 时，有比例为 $x(t) \\in [0,1]$ 的个体采纳了一种新行为。正向社会影响（增强反馈）意味着净采纳漂移随 $x$ 的增加而增加，而饱和（平衡反馈）则意味着 $x=0$ 和 $x=1$ 是吸收态。假设一个确定性平均场描述，其具有以下从基本建模定义中导出的核心结构性约束：\n- 吸收边界：预期的变化率满足 $f(0)=0$ 和 $f(1)=0$。\n- 存在一个单一的内部临界采纳阈值 $x=\\theta$（其中 $\\theta \\in (0,1)$），使得 $f(\\theta)=0$，对于 $x \\in (0,\\theta)$ 有 $f(x)  0$，对于 $x \\in (\\theta,1)$ 有 $f(x)0$。这体现了在内部阈值周围的增强社会影响以及在边界处的平衡饱和。\n- 时间尺度可分性：存在一个正的标量速率参数 $r0$，它控制漂移 $f(x)$ 的总体时间尺度，而不改变其符号结构。\n- 最小平滑度和简洁性：在满足上述符号和零点约束的光滑函数中，选择阶数最小的多项式。\n\n任务：\n1. 仅根据上述结构性约束，推导出与符号模式和零点位置一致的最小阶多项式漂移 $f(x)$，并识别所有平衡点。通过线性化，利用 $f'(x^\\star)$ 的符号确定每个平衡点的局部稳定性。\n2. 将此模型中的临界突变定义为存在一个临界比例 $x=\\theta$，它分隔了两个稳定平衡点的吸引盆。描述该临界突变阈值，并解释围绕 $x=\\theta$ 的无穷小扰动如何决定长期结果。\n3. 设计一个算法，给定 $(r,\\theta,x_0)$，其中 $r0$，$\\theta \\in (0,1)$，初始条件为 $x_0 \\in [0,1]$，该算法返回两个量：\n   - 在确定性动力学下，当 $t \\to \\infty$ 时达到的渐近采纳水平 $x_\\infty$，以及\n   - 该平衡点处局部雅可比矩阵的符号，$\\operatorname{sign}(f'(x_\\infty)) \\in \\{-1,0,1\\}$，其中 $-1$ 表示局部平衡（稳定），$+1$ 表示局部增强（不稳定），$0$ 表示中性（临界）。\n4. 将此算法实现为一个完整的、可运行的程序。使用以下参数值测试套件来检验一般行为、一个边缘情况以及近边界阈值：\n   - $(r,\\theta,x_0)=(1.5,0.3,0.1)$，\n   - $(r,\\theta,x_0)=(1.5,0.3,0.8)$，\n   - $(r,\\theta,x_0)=(0.8,0.5,0.5)$，\n   - $(r,\\theta,x_0)=(2.0,0.99,0.98)$，\n   - $(r,\\theta,x_0)=(2.0,0.99,0.991)$。\n   以上所有数字均为无量纲。\n\n你的程序应该生成单行输出，其中包含所有测试用例的结果，形式为方括号括起来的逗号分隔列表，其中每个元素本身是一个形式为 [x_infty, s] 的双元素列表，x_infty 是一个浮点数，s 是 {-1,0,1} 中的一个整数。例如，一个有效的输出结构看起来像 [[0.0,-1],[1.0,-1],[$\\dots$,$\\dots$],[$\\dots$,$\\dots$],[$\\dots$,$\\dots$]]。",
            "solution": "问题陈述已经过验证，被认为是有效的。它在科学上基于动力系统理论的原理，是适定的和客观的。所提供的约束是自洽的，足以推导出唯一的解而没有矛盾。\n\n该问题要求分析一个用于采纳新行为的确定性平均场模型，该模型由采纳者比例 $x(t) \\in [0,1]$ 描述。变化率或漂移由 $\\frac{dx}{dt} = f(x)$ 给出。\n\n**1. 漂移函数的推导与稳定性分析**\n\n问题对漂移函数 $f(x)$ 施加了几个结构性约束。\n\n首先，我们被告知 $x=0$ 和 $x=1$ 是吸收边界，这转化为数学条件 $f(0)=0$ 和 $f(1)=0$。\n\n其次，存在一个单一的内部临界采纳阈值 $x=\\theta \\in (0,1)$，它也是一个平衡点，因此 $f(\\theta)=0$。这三个条件，$f(0)=0$、$f(\\theta)=0$ 和 $f(1)=0$，意味着函数 $f(x)$ 在 $x=0$、$x=\\theta$ 和 $x=1$ 处有根。我们必须选择满足这些条件的最小阶多项式这一约束，使我们导向一个三次多项式，因为一个有三个不同根的多项式至少是三次的。我们可以用其因式分解形式表示这个多项式：\n$$f(x) = K \\cdot x(x-\\theta)(x-1)$$\n其中 $K$ 是一个比例常数。\n\n第三，我们使用符号约束来确定 $K$ 的符号。我们被告知，对于 $x \\in (0,\\theta)$，$f(x)  0$；对于 $x \\in (\\theta,1)$，$f(x)  0$。让我们分析乘积 $x(x-\\theta)(x-1)$：\n- 对于 $x \\in (0, \\theta)$：$x$ 是正数，$(x-\\theta)$ 是负数，$(x-1)$ 是负数。乘积 $x(x-\\theta)(x-1)$ 是正数。为了使 $f(x)$ 为负， $K$ 必须是负数。\n- 对于 $x \\in (\\theta, 1)$：$x$ 是正数，$(x-\\theta)$ 是正数，$(x-1)$ 是负数。乘积 $x(x-\\theta)(x-1)$ 是负数。为了使 $f(x)$ 为正， $K$ 必须是负数。\n\n两个条件都要求 $K  0$。我们可以通过令 $K = -r$ 来重写该函数，其中 $r  0$ 是一个正的标量。这与时间尺度可分性的第四个约束一致，其中 $r$ 是一个正速率参数。这给出了：\n$$f(x) = -r \\cdot x(x-\\theta)(x-1) = r \\cdot x(1-x)(x-\\theta)$$\n这是与所有给定约束一致的最小阶多项式漂移函数。\n\n平衡点或不动点 $x^\\star$ 是 $f(x^\\star) = 0$ 的解。根据构造，它们是：\n$$x_1^\\star = 0, \\quad x_2^\\star = \\theta, \\quad x_3^\\star = 1$$\n\n为了确定每个平衡点的局部稳定性，我们分析雅可比矩阵的符号，在这个一维系统中即为一阶导数 $f'(x^\\star)$。负号（$f'(x^\\star)  0$）表示稳定平衡点（平衡反馈），而正号（$f'(x^\\star)0$）表示不稳定平衡点（增强反馈）。\n\n首先，我们求 $f(x)$ 的导数：\n$$f(x) = r(x - x^2)(x-\\theta) = r(x^2 - \\theta x - x^3 + \\theta x^2) = r(-x^3 + (1+\\theta)x^2 - \\theta x)$$\n$$f'(x) = \\frac{d}{dx}f(x) = r(-3x^2 + 2(1+\\theta)x - \\theta)$$\n\n现在，我们在每个平衡点处计算 $f'(x)$ 的值：\n- 在 $x_1^\\star = 0$ 处：\n  $f'(0) = r(-3(0)^2 + 2(1+\\theta)(0) - \\theta) = -r\\theta$。\n  因为 $r0$ 且 $\\theta \\in (0,1)$，所以 $f'(0)  0$。因此，$x^\\star=0$ 是一个**稳定**平衡点。\n\n- 在 $x_3^\\star = 1$ 处：\n  $f'(1) = r(-3(1)^2 + 2(1+\\theta)(1) - \\theta) = r(-3 + 2 + 2\\theta - \\theta) = r(\\theta - 1)$。\n  因为 $r0$ 且 $\\theta \\in (0,1)$，所以 $(\\theta-1)  0$，因此 $f'(1)  0$。因此，$x^\\star=1$ 是一个**稳定**平衡点。\n\n- 在 $x_2^\\star = \\theta$ 处：\n  $f'(\\theta) = r(-3\\theta^2 + 2(1+\\theta)\\theta - \\theta) = r(-3\\theta^2 + 2\\theta + 2\\theta^2 - \\theta) = r(-\\theta^2 + \\theta) = r\\theta(1-\\theta)$。\n  因为 $r0$ 且 $\\theta \\in (0,1)$，所以 $\\theta$ 和 $(1-\\theta)$ 都是正数。因此，$f'(\\theta)  0$。所以，$x^\\star=\\theta$ 是一个**不稳定**平衡点。\n\n**2. 临界突变的表征**\n\n该系统是双稳态的，拥有两个稳定平衡点（$x=0$ 和 $x=1$）和一个不稳定平衡点（$x=\\theta$）。不稳定的平衡点 $x=\\theta$ 充当一个临界突变点，或称分界线。它将状态空间 $[0,1]$ 分为两个吸引盆。\n\n- $x^\\star=0$ 平衡点（行为消亡）的吸引盆是区间 $[0, \\theta)$。对于任何初始条件 $x_0 \\in [0, \\theta)$，动力学决定 $\\frac{dx}{dt} = f(x)  0$，导致 $x(t)$ 减小并渐近趋近于 $x_\\infty = 0$。\n\n- $x^\\star=1$ 平衡点（完全采纳）的吸引盆是区间 $(\\theta, 1]$。对于任何初始条件 $x_0 \\in (\\theta, 1]$，动力学决定 $\\frac{dx}{dt} = f(x)  0$，导致 $x(t)$ 增加并渐近趋近于 $x_\\infty = 1$。\n\n- 如果系统恰好从临界突变点 $x_0 = \\theta$ 开始，理论上它将永远保持在那里，因为 $\\frac{dx}{dt}=f(\\theta)=0$。\n\n临界突变的特征在于这种对相对于阈值 $\\theta$ 的初始条件的急剧敏感性。一个将系统推离阈值的无穷小扰动决定了其长期命运。如果 $x(0) = \\theta + \\epsilon$ 对于一个无穷小的 $\\epsilon  0$ 成立，系统将向 $x=1$ 移动。如果 $x(0) = \\theta - \\epsilon$，它将向 $x=0$ 移动。\n\n**3. 算法设计**\n\n任务是设计一个算法，输入 $(r, \\theta, x_0)$ 并返回渐近状态 $x_\\infty$ 和该状态下雅可比矩阵的符号 $\\operatorname{sign}(f'(x_\\infty))$。上述分析直接得出以下算法：\n\n1.  比较初始采纳比例 $x_0$ 与临界突变阈值 $\\theta$。\n\n2.  如果 $x_0  \\theta$：\n    系统处于稳定平衡点 $x^\\star = 0$ 的吸引盆中。\n    - 渐近水平为 $x_\\infty = 0.0$。\n    - 此平衡点的雅可比矩阵为 $f'(0) = -r\\theta  0$。其符号为 $-1$。\n    - 输出为 $[0.0, -1]$。\n\n3.  如果 $x_0  \\theta$：\n    系统处于稳定平衡点 $x^\\star = 1$ 的吸引盆中。\n    - 渐近水平为 $x_\\infty = 1.0$。\n    - 此平衡点的雅可比矩阵为 $f'(1) = r(\\theta-1)  0$。其符号为 $-1$。\n    - 输出为 $[1.0, -1]$。\n\n4.  如果 $x_0 = \\theta$：\n    系统从不稳定的平衡点 $x^\\star = \\theta$ 开始并保持在该点上。\n    - 渐近水平为 $x_\\infty = \\theta$。\n    - 此平衡点的雅可比矩阵为 $f'(\\theta) = r\\theta(1-\\theta)  0$。其符号为 $+1$。\n    - 输出为 $[\\theta, 1]$。\n\n参数 $r$ 影响向平衡点收敛的速度，但只要 $r0$，它不改变平衡点的位置、它们的稳定性或吸引盆。因此，算法的逻辑与 $r$ 的值无关。在为雅可比矩阵符号指定的集合 $\\{-1, 0, 1\\}$ 中包含值 $0$ 将对应于 $f'(x^\\star)=0$ 的临界稳定平衡点。然而，鉴于问题的约束 $r0$ 和 $\\theta \\in (0,1)$，三个平衡点中没有一个是临界的。\n\n**4. 实现**\n\n该算法按要求用 Python 实现。代码将处理提供的测试套件并按指定格式化输出。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the problem of determining asymptotic state and stability\n    for a social tipping point model.\n    \"\"\"\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # (r, theta, x0)\n        (1.5, 0.3, 0.1),\n        (1.5, 0.3, 0.8),\n        (0.8, 0.5, 0.5),\n        (2.0, 0.99, 0.98),\n        (2.0, 0.99, 0.991),\n    ]\n\n    results = []\n    for r, theta, x0 in test_cases:\n        # The core logic of the algorithm.\n        # It determines the asymptotic state x_infty and the stability\n        # at that state based on the initial condition x0 relative to the\n        # tipping threshold theta.\n        #\n        # The drift is f(x) = r * x * (1-x) * (x-theta).\n        # Equilibria are at x=0, x=theta, x=1.\n        \n        x_infty = 0.0\n        sign_jacobian = 0\n\n        if x0  theta:\n            # System evolves to the stable equilibrium at x=0.\n            x_infty = 0.0\n            # Stability is determined by f'(0) = -r*theta, which is  0.\n            sign_jacobian = -1\n        elif x0  theta:\n            # System evolves to the stable equilibrium at x=1.\n            x_infty = 1.0\n            # Stability is determined by f'(1) = r*(theta-1), which is  0.\n            sign_jacobian = -1\n        else:  # x0 == theta\n            # System stays at the unstable equilibrium x=theta.\n            x_infty = theta\n            # Stability is determined by f'(theta) = r*theta*(1-theta), which is  0.\n            sign_jacobian = 1\n        \n        results.append([x_infty, sign_jacobian])\n\n    # Format the final output string to match the problem specification\n    # precisely: [[0.0,-1],[1.0,-1],...], with no spaces.\n    # The default string representation of a list includes spaces, so we remove them.\n    output_str = str(results).replace(\" \", \"\")\n    \n    # Final print statement in the exact required format.\n    print(output_str)\n\nsolve()\n```"
        },
        {
            "introduction": "时间延迟在现实世界的系统中无处不在，它能极大地改变系统行为，而且其方式常常有悖直觉。本练习旨在解决一个常见的误解，即认为延迟仅仅是将负反馈“翻转”为正反馈，并利用控制论的原理提供一个更精确的解释 。通过分析延迟带来的相移如何使负反馈回路失稳，你将对复杂系统中的振荡动力学获得更细致的理解。",
            "id": "4122930",
            "problem": "在一个复杂的自适应系统中，一个标量状态变量 $x(t)$ 由一个带延迟传感的线性时不变 (LTI) 负反馈回路调节。通常有人声称，时间延迟的存在会“翻转”回路极性或“使反馈变为正反馈”。请将以下建模原语和定义作为推理的基础：\n\n- 持续时间为 $\\tau  0$ 的纯时间延迟在拉普拉斯域中建模为 $e^{-s \\tau}$，它在虚轴（$s = j \\omega$）上的幅值为 $1$，并在频率 $\\omega$ 处贡献一个 $-\\omega \\tau$ 的相移。\n- 在一个被控对象 $P(s)$ 和控制器 $C(s)$ 的标准负反馈互联中，闭环特征方程为 $1 + L(s) = 0$，其中 $L(s) = P(s) C(s)$ 是回路传递函数，回路的“极性”由反馈互联的代数符号设定，而非由频率相关的相位累积设定。\n- 当闭环在复平面的虚轴上或右半平面有极点时，会分别产生持续或增长的振荡；根据奈奎斯特准则，发生穿越的一个必要条件是，对于某个 $\\omega  0$，有 $|L(j \\omega)| \\geq 1$ 且 $L(j \\omega)$ 的相位等于 $-\\pi$ 模 $2\\pi$。\n- 一个反例应能证明，延迟的负反馈可以产生振荡放大（增长或共振峰值），而无需援引任何净正反馈符号翻转。\n\n回答以下多项选择题。选择所有正确的选项。\n\nA. 时间延迟 $e^{-s \\tau}$ 改变了回路极性，因为它在所有频率上都将回路传递函数乘以 $-1$，从而将负反馈变为正反馈。\n\nB. 在一个 LTI 回路中，纯延迟 $e^{-s \\tau}$ 在 $s = j \\omega$ 时的幅值为 $1$，并且只增加相位 $-\\omega \\tau$，因此延迟不决定反馈的代数符号。回路极性由互联的符号设定；延迟改变相位，但不改变静态符号。\n\nC. 考虑一个负反馈回路，其被控对象为 $P(s) = \\dfrac{1}{1 + s}$，延迟控制器为 $C(s) = k e^{-s \\tau}$。选择 $k = \\dfrac{3}{2} \\sqrt{2}$ 和 $\\tau = \\dfrac{3 \\pi}{4}$ 会产生一个不稳定的振荡闭环模式，即使反馈路径符号为负；这证明了在没有净正回路增益的情况下也会发生振荡放大。\n\nD. 对于延迟负反馈系统 $\\dot{x}(t) = -k\\, x(t - \\tau)$，其中 $k  0$ 且 $\\tau  0$，不可能发生振荡，因为无论延迟如何，$k$ 的负号保证了非振荡衰减。\n\nE. 在回路 $P(s) = \\dfrac{1}{1 + s}$ 和 $C(s) = k e^{-s \\tau}$ 中，设定 $k = \\dfrac{1}{2}$ 和 $\\tau = \\dfrac{\\pi}{2}$ 会在 $s = j$ 处放置一个极点，因此产生持续振荡，这证明了延迟翻转了反馈极性。\n\n选择所有正确的选项。",
            "solution": "用户提供了一个关于复杂自适应系统中负反馈回路中时间延迟效应的问题陈述。任务是验证问题陈述的有效性，然后，如果有效，通过评估每个选项来解决这个多项选择题。\n\n### 问题验证\n\n**第一步：提取已知条件**\n\n问题提供了以下建模原语、定义和背景：\n1.  一个标量状态变量 $x(t)$ 由一个带延迟传感的线性时不变 (LTI) 负反馈回路调节。\n2.  一个常见的说法是，时间延迟会“翻转”回路极性或“使反馈变为正反馈”。\n3.  持续时间为 $\\tau  0$ 的纯时间延迟在拉普拉斯域中建模为 $e^{-s \\tau}$。\n4.  延迟算子 $e^{-s \\tau}$ 在虚轴（$s = j \\omega$）上的幅值为 $1$，并在频率 $\\omega$ 处贡献一个 $-\\omega \\tau$ 的相移。\n5.  在一个被控对象 $P(s)$ 和控制器 $C(s)$ 的标准负反馈互联中，闭环特征方程为 $1 + L(s) = 0$，其中 $L(s) = P(s) C(s)$ 是回路传递函数。\n6.  回路的“极性”由反馈互联的代数符号设定，而非由频率相关的相位累积设定。\n7.  当闭环在复平面的虚轴上或右半平面有极点时，会分别产生持续或增长的振荡。\n8.  根据奈奎斯特准则，（稳定性边界）穿越的一个必要条件是，对于某个 $\\omega  0$，有 $|L(j \\omega)| \\geq 1$ 且 $L(j \\omega)$ 的相位等于 $-\\pi$ 模 $2\\pi$。\n9.  一个反例应能证明，延迟的负反馈可以导致振荡放大，而无需援引“净正反馈符号翻转”。\n\n**第二步：使用提取的已知条件进行验证**\n\n根据验证标准评估问题陈述。\n\n-   **科学依据：** 该问题牢固地植根于经典控制理论的原理，这是工程学和应用数学的核心学科。所有技术定义（拉普拉斯变换、特征方程、奈奎斯特稳定性判据）都是标准的且陈述正确。\n-   **适定的：** 问题要求基于所提供的理论框架评估几个陈述。任务清晰，可以通过严谨的分析确定一组正确/错误的选项。\n-   **客观的：** 问题以精确的技术语言陈述。它将一个常见的误解（延迟“翻转”反馈极性）设定为一个需要批判性审视的前提，这是科学和工程教育中标准的教学方法。语言没有主观性。\n\n该问题没有表现出任何使其无效的缺陷：\n1.  **科学或事实上的不健全：** 所有原理都是正确的。\n2.  **不可形式化或不相关：** 问题完全可以在 LTI 系统理论中形式化。\n3.  **不完整或矛盾的设定：** 设定是自洽和一致的。\n4.  **不切实际或不可行：** 模型是理想化的，但它们是标准的教科书示例。\n5.  **不适定或结构不良：** 结构清晰，能导向唯一的解。\n6.  **伪深刻、琐碎或同义反复：** 问题探讨了静态回路极性与动态相位效应之间一个微妙但重要的区别，这是一个不平凡的概念点。\n7.  **超出科学可验证性：** 所有主张在数学上都是可验证的。\n\n**第三步：结论与行动**\n\n问题陈述是**有效的**。可以继续进行分析。\n\n### 求解推导\n\n问题的核心是区分反馈回路的静态符号（其“极性”）与其组件（特别是时间延迟）引入的动态相移。负反馈回路的特征是有一个减去反馈信号的求和点，从而得到形式为 $1 + L(s) = 0$ 的特征方程。常见的误解是将 $\\angle L(j\\omega) = -\\pi$（一个不稳定的条件）等同于回路变为“正反馈”。正反馈意味着特征方程为 $1 - L(s) = 0$（假设 $L(s)$ 具有正的直流增益）。延迟 $e^{-s\\tau}$ 增加了相位 $-\\omega\\tau$，这可能有助于在某个频率下满足 $-\\pi$ 的相位条件，但它不改变特征方程本身的符号。\n\n**逐项分析**\n\n**A. 时间延迟 $e^{-s \\tau}$ 改变了回路极性，因为它在所有频率上都将回路传递函数乘以 $-1$，从而将负反馈变为正反馈。**\n\n延迟元件的频率响应是 $e^{-j\\omega\\tau}$。要使其等于 $-1$，必须有 $\\omega\\tau = \\pi + 2n\\pi$，其中 $n$ 为整数。这个条件只在特定的离散频率下满足，而不是在*所有*频率下。例如，在直流（$\\omega=0$）时，$e^{-j(0)\\tau} = 1$。延迟在所有频率上都起到乘以 $-1$ 的作用这一前提是错误的。\n**结论：错误。**\n\n**B. 在一个 LTI 回路中，纯延迟 $e^{-s \\tau}$ 在 $s = j \\omega$ 时的幅值为 $1$，并且只增加相位 $-\\omega \\tau$，因此延迟不决定反馈的代数符号。回路极性由互联的符号设定；延迟改变相位，但不改变静态符号。**\n\n这个陈述是对控制理论原理的正确而精确的阐述。其幅值为 $|e^{-j\\omega\\tau}| = |\\cos(-\\omega\\tau) + j\\sin(-\\omega\\tau)| = \\sqrt{\\cos^2(\\omega\\tau) + \\sin^2(\\omega\\tau)} = 1$。其相位根据定义为 $-\\omega\\tau$。回路的极性是由求和点的符号决定的结构属性，反映在 $1+L(s)=0$ 中的“+”号。在零频率（$\\omega=0$）时，延迟项为 $1$，对静态（直流）增益或极性没有影响。该陈述正确地区分了静态极性和动态相移的作用。\n**结论：正确。**\n\n**C. 考虑一个负反馈回路，其被控对象为 $P(s) = \\dfrac{1}{1 + s}$，延迟控制器为 $C(s) = k e^{-s \\tau}$。选择 $k = \\dfrac{3}{2} \\sqrt{2}$ 和 $\\tau = \\dfrac{3 \\pi}{4}$ 会产生一个不稳定的振荡闭环模式，即使反馈路径符号为负；这证明了在没有净正回路增益的情况下也会发生振荡放大。**\n\n该选项提供了一个需要测试的具体例子。回路传递函数为 $L(s) = P(s)C(s) = \\dfrac{k e^{-s \\tau}}{1+s}$。此负反馈回路的特征方程为 $1+L(s)=0$。\n为检查不稳定性，我们使用奈奎斯特准则。我们找到相位相交频率 $\\omega_{pc}$，即回路传递函数相位为 $-\\pi$ 的频率。\n$\\angle L(j\\omega) = \\angle(k) + \\angle(e^{-j\\omega\\tau}) - \\angle(1+j\\omega) = 0 - \\omega\\tau - \\arctan(\\omega)$。\n设定 $\\angle L(j\\omega_{pc}) = -\\pi$：\n$-\\omega_{pc}\\tau - \\arctan(\\omega_{pc}) = -\\pi \\implies \\omega_{pc}\\tau + \\arctan(\\omega_{pc}) = \\pi$。\n给定延迟 $\\tau = \\dfrac{3\\pi}{4}$，我们测试一个简单的解。让我们尝试 $\\omega_{pc}=1 \\text{ rad/s}$：\n$(1)\\left(\\dfrac{3\\pi}{4}\\right) + \\arctan(1) = \\dfrac{3\\pi}{4} + \\dfrac{\\pi}{4} = \\pi$。\n该条件在 $\\omega_{pc}=1 \\text{ rad/s}$ 处精确满足。\n现在，我们评估在该频率下的回路增益幅值：\n$|L(j\\omega_{pc})| = |L(j1)| = \\left| \\dfrac{k e^{-j\\tau}}{1+j1} \\right| = \\dfrac{|k| |e^{-j\\tau}|}{|1+j1|} = \\dfrac{k}{\\sqrt{1^2+1^2}} = \\dfrac{k}{\\sqrt{2}}$。\n为了不稳定，我们需要 $|L(j\\omega_{pc})|  1$。\n$\\dfrac{k}{\\sqrt{2}}  1 \\implies k  \\sqrt{2}$。\n给定的增益是 $k = \\dfrac{3}{2}\\sqrt{2}$。由于 $\\dfrac{3}{2}  1$，我们有 $k  \\sqrt{2}$。具体来说，在相交频率处的回路增益幅值为 $|L(j1)| = \\dfrac{\\frac{3}{2}\\sqrt{2}}{\\sqrt{2}} = \\dfrac{3}{2}  1$。\n根据奈奎斯特准则，该系统是不稳定的。不稳定性源于一对复共轭极点穿过右半平面，导致增长的振荡。这正确地证明了一个负反馈回路可以因延迟而变得不稳定，导致振荡放大，而其基本反馈极性没有任何改变。\n**结论：正确。**\n\n**D. 对于延迟负反馈系统 $\\dot{x}(t) = -k\\, x(t - \\tau)$，其中 $k  0$ 且 $\\tau  0$，不可能发生振荡，因为无论延迟如何，$k$ 的负号保证了非振荡衰减。**\n\n该方程描述了一个带纯延迟反馈的系统。在拉普拉斯域中，特征方程为 $s + k e^{-s \\tau} = 0$。\n要判断是否可能发生持续振荡，我们寻找形式为 $s=j\\omega$（其中 $\\omega  0$）的解。\n$j\\omega + k e^{-j\\omega\\tau} = 0 \\implies j\\omega = -k(\\cos(\\omega\\tau) - j\\sin(\\omega\\tau))$。\n令实部和虚部分别相等：\n1.  实部：$0 = -k \\cos(\\omega\\tau) \\implies \\cos(\\omega\\tau)=0$（因为 $k0$）。\n2.  虚部：$\\omega = k \\sin(\\omega\\tau)$。\n从实部来看，最小正解是 $\\omega\\tau = \\dfrac{\\pi}{2}$。这意味着 $\\omega = \\dfrac{\\pi}{2\\tau}$。\n在此相位下，$\\sin(\\omega\\tau) = \\sin(\\pi/2) = 1$。\n将这些代入虚部方程得到：$\\dfrac{\\pi}{2\\tau} = k(1) \\implies k\\tau = \\dfrac{\\pi}{2}$。\n这是稳定性的边界。如果 $k\\tau = \\dfrac{\\pi}{2}$，系统在虚轴上有极点，并表现出持续振荡。如果 $k\\tau  \\dfrac{\\pi}{2}$，系统不稳定，并有增长的振荡。不可能发生振荡的说法是错误的。\n**结论：错误。**\n\n**E. 在回路 $P(s) = \\dfrac{1}{1 + s}$ 和 $C(s) = k e^{-s \\tau}$ 中，设定 $k = \\dfrac{1}{2}$ 和 $\\tau = \\dfrac{\\pi}{2}$ 会在 $s = j$ 处放置一个极点，因此产生持续振荡，这证明了延迟翻转了反馈极性。**\n\n该选项声称对于给定的参数，$s=j$ 是一个闭环极点。我们通过将这些值代入特征方程 $1+L(s)=0$ 来检验。\n$1 + P(s)C(s) = 1 + \\dfrac{k e^{-s \\tau}}{1+s} = 0$。\n当 $s=j$, $k=\\dfrac{1}{2}$, $\\tau=\\dfrac{\\pi}{2}$ 时：\n$1 + \\dfrac{\\frac{1}{2} e^{-j(\\pi/2)}}{1+j} = 1 + \\dfrac{\\frac{1}{2}(-j)}{1+j} = 1 + \\dfrac{-j/2}{1+j}$。\n为简化，分子分母同乘以分母的共轭：\n$1 + \\dfrac{-j/2}{1+j} \\times \\dfrac{1-j}{1-j} = 1 + \\dfrac{-j/2 + j^2/2}{1^2+1^2} = 1 + \\dfrac{-j/2 - 1/2}{2} = 1 - \\dfrac{1}{4} - \\dfrac{j}{4} = \\dfrac{3}{4} - \\dfrac{j}{4}$。\n由于 $\\dfrac{3}{4} - \\dfrac{j}{4} \\neq 0$，特征方程在 $s=j$ 处不满足。因此，$s=j$ 不是一个极点。该陈述的前提是错误的。此外，其结论“这证明了延迟翻转了反馈极性”在概念上是有缺陷的，原因如前所述。\n**结论：错误。**",
            "answer": "$$\\boxed{BC}$$"
        }
    ]
}