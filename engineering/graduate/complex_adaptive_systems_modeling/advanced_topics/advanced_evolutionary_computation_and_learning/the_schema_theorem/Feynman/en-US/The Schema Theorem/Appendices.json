{
    "hands_on_practices": [
        {
            "introduction": "The Schema Theorem's power lies in its ability to predict the propagation of \"building blocks\"—compact patterns with high fitness. A crucial factor in a schema's survival is its defining length, $\\delta(H)$, which determines its robustness against disruption by crossover. This first exercise  invites you to explore this relationship by constructing and analyzing two schemas with extreme defining lengths, providing a foundational understanding of why shorter schemas are more likely to be passed on to the next generation.",
            "id": "4148767",
            "problem": "Consider a binary string environment used in a Genetic Algorithm (GA) where individuals are represented by fixed-length bitstrings of length $l$. A schema is a template over $\\{0,1,\\ast\\}$ of length $l$ where $\\ast$ denotes a wildcard that matches either $0$ or $1$. The order of a schema $H$, denoted $o(H)$, is the number of fixed (non-$\\ast$) positions in the template. The defining length of a schema $H$, denoted $\\delta(H)$, is the distance between the leftmost and rightmost fixed positions, measured in indices under $1$-indexed coordinates; that is, if the leftmost and rightmost fixed positions are at indices $i_{\\min}$ and $i_{\\max}$, respectively, then $\\delta(H) = i_{\\max} - i_{\\min}$. In one-point crossover, the crossover point is selected uniformly at random from the $l-1$ possible positions between adjacent bits, and crossover occurs with probability $p_c$.\n\nWork in the setting $l=10$ and construct two explicit schemas $H_{\\mathrm{adj}}$ and $H_{\\mathrm{span}}$ with $o(H)=3$ that illustrate edge cases. In $H_{\\mathrm{adj}}$, the three fixed positions are adjacent. In $H_{\\mathrm{span}}$, the three fixed positions span most of the string by placing two fixed positions at the ends.\n\nStarting from the definitions above and first principles about uniformly random one-point crossover, compute $\\delta(H_{\\mathrm{adj}})$ and $\\delta(H_{\\mathrm{span}})$, and then determine the difference between the upper bounds on their disruption probabilities under one-point crossover with $p_c = \\frac{3}{5}$. For this purpose, treat any crossover point falling strictly between the leftmost and rightmost fixed positions of a schema as potentially disruptive. Express the final answer as a single exact fraction, with no rounding.",
            "solution": "The supplied problem is valid. It is scientifically grounded in the principles of genetic algorithms, well-posed with sufficient information, and objectively stated. We will proceed with a full solution.\n\nThe problem asks us to analyze two schemas, $H_{\\mathrm{adj}}$ and $H_{\\mathrm{span}}$, within the context of a genetic algorithm operating on binary strings of length $l=10$. Both schemas must have an order of $o(H)=3$.\n\nFirst, we construct the two schemas according to the problem's specifications. The specific values ($0$ or $1$) in the fixed positions are irrelevant for the calculation of defining length and disruption probability, as is the exact placement of interior fixed bits, provided the structural constraints are met.\n\nFor $H_{\\mathrm{adj}}$, the three fixed positions must be adjacent. We can place them at the beginning of the string for simplicity, at indices $i=1, 2, 3$. An example of such a schema is $111\\ast\\ast\\ast\\ast\\ast\\ast\\ast$. The leftmost fixed position is at index $i_{\\min}=1$, and the rightmost is at $i_{\\max}=3$. The defining length, $\\delta(H)$, is defined as $\\delta(H) = i_{\\max} - i_{\\min}$.\nFor our constructed schema $H_{\\mathrm{adj}}$:\n$$\n\\delta(H_{\\mathrm{adj}}) = 3 - 1 = 2\n$$\nThis result is independent of where the block of three adjacent bits is placed. For instance, if the fixed positions were $5, 6, 7$, then $\\delta(H_{\\mathrm{adj}}) = 7 - 5 = 2$.\n\nFor $H_{\\mathrm{span}}$, the three fixed positions must include the two ends of the string. For a string of length $l=10$ with $1$-based indexing, the ends are at indices $1$ and $10$. The third fixed position can be at any index between $2$ and $9$. Let us place it at index $5$. An example of such a schema is $1\\ast\\ast\\ast1\\ast\\ast\\ast\\ast0$. The leftmost fixed position is at $i_{\\min}=1$, and the rightmost is at $i_{\\max}=10$.\nFor our constructed schema $H_{\\mathrm{span}}$:\n$$\n\\delta(H_{\\mathrm{span}}) = 10 - 1 = 9\n$$\nThis result is independent of the location of the third fixed bit, as $\\delta(H)$ only depends on the outermost fixed positions.\n\nNext, we determine the upper bound on the disruption probability for each schema under one-point crossover. In a genetic algorithm, a schema $H$ is disrupted by crossover if the crossover event separates the defining bits of the schema. The probability of crossover occurring is given as $p_c = \\frac{3}{5}$.\n\nFor a string of length $l$, there are $l-1$ possible locations for a one-point crossover, between adjacent bits. The crossover point is chosen uniformly at random from these $l-1$ positions. In this problem, $l=10$, so there are $10-1=9$ possible crossover points.\n\nThe problem states that a crossover is disruptive if the crossover point falls strictly between the leftmost and rightmost fixed positions. A crossover after bit $k$ is disruptive if $i_{\\min} \\le k  i_{\\max}$. The number of such disruptive points is $(i_{\\max}-1) - i_{\\min} + 1 = i_{\\max} - i_{\\min} = \\delta(H)$.\n\nThe probability that a randomly chosen crossover point is disruptive is the ratio of the number of disruptive points to the total number of possible points: $\\frac{\\delta(H)}{l-1}$.\n\nThe upper bound for the probability of disruption, $P_d(H)$, is the probability that crossover occurs, $p_c$, multiplied by the probability that the chosen crossover point falls within the defining length of the schema.\n$$\nP_{d, \\text{upper}}(H) = p_c \\frac{\\delta(H)}{l-1}\n$$\n\nNow, we apply this formula to our two schemas, using $p_c=\\frac{3}{5}$, $l=10$, $\\delta(H_{\\mathrm{adj}})=2$, and $\\delta(H_{\\mathrm{span}})=9$.\n\nFor $H_{\\mathrm{adj}}$:\n$$\nP_{d, \\text{upper}}(H_{\\mathrm{adj}}) = \\frac{3}{5} \\times \\frac{\\delta(H_{\\mathrm{adj}})}{l-1} = \\frac{3}{5} \\times \\frac{2}{10-1} = \\frac{3}{5} \\times \\frac{2}{9} = \\frac{6}{45} = \\frac{2}{15}\n$$\n\nFor $H_{\\mathrm{span}}$:\n$$\nP_{d, \\text{upper}}(H_{\\mathrm{span}}) = \\frac{3}{5} \\times \\frac{\\delta(H_{\\mathrm{span}})}{l-1} = \\frac{3}{5} \\times \\frac{9}{10-1} = \\frac{3}{5} \\times \\frac{9}{9} = \\frac{3}{5} \\times 1 = \\frac{3}{5}\n$$\n\nFinally, the problem asks for the difference between these two upper bounds. We calculate $P_{d, \\text{upper}}(H_{\\mathrm{span}}) - P_{d, \\text{upper}}(H_{\\mathrm{adj}})$:\n$$\n\\text{Difference} = \\frac{3}{5} - \\frac{2}{15}\n$$\nTo subtract these fractions, we find a common denominator, which is $15$.\n$$\n\\text{Difference} = \\frac{3 \\times 3}{5 \\times 3} - \\frac{2}{15} = \\frac{9}{15} - \\frac{2}{15} = \\frac{7}{15}\n$$\nThis result illustrates a core principle of the Schema Theorem: schemas with shorter defining lengths (like $H_{\\mathrm{adj}}$) are less likely to be disrupted by crossover than schemas with long defining lengths (like $H_{\\mathrm{span}}$), and are thus more likely to propagate to the next generation.",
            "answer": "$$\\boxed{\\frac{7}{15}}$$"
        },
        {
            "introduction": "Having established how schema structure affects survival, we now integrate all the forces of a canonical genetic algorithm: selection, crossover, and mutation. This practice problem  challenges you to apply the full Schema Theorem to predict the fate of a specific schema. By calculating the lower bound on its expected representation in the next generation, you will synthesize all the core concepts into a single, powerful predictive model.",
            "id": "4148788",
            "problem": "Consider a binary Genetic Algorithm (GA) operating on fixed-length strings of length $l=6$. Using schema notation, the set of strings that have $1$ in positions $3$ and $5$ and arbitrary bits elsewhere is represented by the schema `**1*1*`. Let this schema be denoted by $H$. The population at generation $t$ contains $m(H,t)=90$ instances of $H$. Fitness-proportionate selection is used, with population mean fitness $\\bar{f}(t)=1.5$ and mean fitness of strings matching $H$ equal to $f(H,t)=1.8$. Reproduction uses single-point crossover with probability $p_{c}=0.7$, where the crossover point is selected uniformly at random from the $l-1$ possible cut positions, independent of the parents. After crossover, bitwise mutation is applied independently to each bit with mutation probability $p_{m}=0.01$ per bit. Assume a sufficiently large population such that expectations accurately reflect realized counts and assume independence of selection, crossover, and mutation events.\n\nStarting only from the definitions of schema, fitness-proportionate selection, single-point crossover with uniformly random cut position, and independent bitwise mutation, derive the lower bound on the expected number of instances of $H$ in generation $t+1$ by analyzing:\n- The expected multiplicative effect of fitness-proportionate selection on instances of $H$.\n- The probability that single-point crossover does not disrupt schema $H$.\n- The probability that mutation does not disrupt the fixed positions of schema $H$.\n\nCompute the resulting lower bound numerically and provide your final answer as a single real number. Do not round; report the exact value obtained from the given parameters.",
            "solution": "The problem asks for the derivation of a lower bound on the expected number of instances of a specific schema, $H$, in the subsequent generation of a Genetic Algorithm. This calculation is based on the principles of the Schema Theorem, which analyzes the effects of selection, crossover, and mutation on the propagation of schemata.\n\nThe problem states that we must derive the result starting from the definitions of the genetic operators. We will analyze the effect of each operator—selection, crossover, and mutation—sequentially on the number of instances of the schema $H = \\text{**1*1*}$.\n\nThe given parameters are:\n- String length: $l=6$.\n- Schema: $H = \\text{**1*1*}$.\n- Number of instances of $H$ at generation $t$: $m(H,t)=90$.\n- Population mean fitness: $\\bar{f}(t)=1.5$.\n- Mean fitness of strings matching $H$: $f(H,t)=1.8$.\n- Crossover probability (single-point): $p_c=0.7$.\n- Mutation probability (per bit): $p_m=0.01$.\n\nFirst, we characterize the schema $H$:\n- The order of the schema, $o(H)$, is the number of fixed positions. For $H = \\text{**1*1*}$, the fixed bits are at positions $3$ and $5$. Thus, $o(H) = 2$.\n- The defining length of the schema, $\\delta(H)$, is the distance between its first and last fixed positions. The first fixed position is $3$ and the last is $5$. Thus, $\\delta(H) = 5 - 3 = 2$.\n\n**1. Effect of Fitness-Proportionate Selection**\n\nFitness-proportionate selection increases the representation of schemata with above-average fitness. The expected number of instances of schema $H$ in the mating pool after selection, denoted $E[m'(H,t)]$, is proportional to the ratio of the schema's average fitness to the population's average fitness.\n\nStarting from the definition, the total fitness of the population is $N\\bar{f}(t)$, where $N$ is the population size. The total fitness of strings belonging to schema $H$ is $m(H,t)f(H,t)$. Under fitness-proportionate selection, the proportion of individuals from $H$ in the mating pool is the ratio of the total fitness of $H$-individuals to the total fitness of the population. The expected number of instances is this proportion multiplied by the population size $N$:\n$$ E[m'(H,t)] = N \\times \\frac{m(H,t)f(H,t)}{N\\bar{f}(t)} = m(H,t) \\frac{f(H,t)}{\\bar{f}(t)} $$\nSubstituting the given values:\n$$ E[m'(H,t)] = 90 \\times \\frac{1.8}{1.5} = 90 \\times 1.2 = 108 $$\nSo, after selection, we expect to have $108$ instances of schema $H$ in the mating pool.\n\n**2. Effect of Single-Point Crossover**\n\nNext, we calculate the probability that an instance of schema $H$ survives disruption by single-point crossover. A lower bound is found by considering only the disruption of existing schemata and ignoring the creation of new ones. An instance of $H$ is disrupted if it undergoes crossover (with probability $p_c$) and the crossover point falls between its defining bits.\n\nThe number of possible cut points for single-point crossover is $l-1 = 6-1 = 5$.\nThe number of cut points that fall between the first and last fixed positions of $H$ is equal to its defining length, $\\delta(H) = 2$.\nThe probability of a disruptive cut, given that crossover occurs, is $\\frac{\\delta(H)}{l-1}$.\nThe total probability of disruption for an individual schema is the probability of crossover multiplied by the conditional probability of disruption: $p_{\\text{disrupt}} = p_c \\frac{\\delta(H)}{l-1}$.\nThe probability of survival, $P_s(\\text{crossover})$, is therefore at least $1 - p_{\\text{disrupt}}$.\n$$ P_s(\\text{crossover}) \\ge 1 - p_c \\frac{\\delta(H)}{l-1} $$\nSubstituting the values:\n$$ P_s(\\text{crossover}) \\ge 1 - 0.7 \\times \\frac{2}{6-1} = 1 - 0.7 \\times \\frac{2}{5} = 1 - 0.7 \\times 0.4 = 1 - 0.28 = 0.72 $$\n\n**3. Effect of Bitwise Mutation**\n\nFinally, we analyze the effect of mutation. A schema $H$ survives mutation if none of its $o(H)$ fixed bits are altered. The probability of mutation for a single bit is $p_m$. The probability that a single bit does *not* mutate is $1-p_m$. Since mutations are independent for each bit, the probability that all $o(H)$ fixed bits remain unchanged is $(1-p_m)^{o(H)}$. This represents a lower bound on the survival probability, as it neglects the creation of $H$ from non-$H$ strings via mutation.\n$$ P_s(\\text{mutation}) \\ge (1-p_m)^{o(H)} $$\nSubstituting the values:\n$$ P_s(\\text{mutation}) \\ge (1 - 0.01)^{2} = (0.99)^2 = 0.9801 $$\n\n**4. Combined Lower Bound Calculation**\n\nTo obtain the lower bound on the expected number of instances of $H$ in generation $t+1$, we combine these effects multiplicatively. We start with the number of instances of $H$ at generation $t$, apply the selection multiplier, and then the survival probabilities from crossover and mutation.\n\n$$ E[m(H, t+1)] \\ge m(H, t) \\times \\frac{f(H,t)}{\\bar{f}(t)} \\times \\left(1 - p_c \\frac{\\delta(H)}{l-1}\\right) \\times (1-p_m)^{o(H)} $$\nLet's compute the final numerical value using the intermediate results:\n$$ E[m(H, t+1)]_{\\text{lower bound}} = (\\text{initial count}) \\times (\\text{selection effect}) \\times (\\text{crossover survival}) \\times (\\text{mutation survival}) $$\n$$ E[m(H, t+1)]_{\\text{lower bound}} = 90 \\times \\left(\\frac{1.8}{1.5}\\right) \\times (0.72) \\times (0.9801) $$\n$$ E[m(H, t+1)]_{\\text{lower bound}} = 90 \\times 1.2 \\times 0.72 \\times 0.9801 $$\n$$ E[m(H, t+1)]_{\\text{lower bound}} = 108 \\times 0.72 \\times 0.9801 $$\n$$ E[m(H, t+1)]_{\\text{lower bound}} = 77.76 \\times 0.9801 $$\n$$ E[m(H, t+1)]_{\\text{lower bound}} = 76.212576 $$\nThis is the final exact numerical value for the lower bound on the expected number of instances of schema $H$ in the next generation.",
            "answer": "$$\\boxed{76.212576}$$"
        },
        {
            "introduction": "The classic Schema Theorem provides a powerful but incomplete picture by focusing on schema survival and giving only a lower bound on propagation. To achieve a more precise understanding, we must also account for the creation of new schema instances through genetic operators. This final exercise  delves into this nuance, asking you to calculate the expected number of schemas created by crossover, thereby illustrating the difference between the lower-bound estimate and the true expected value.",
            "id": "4148744",
            "problem": "Consider a binary Genetic Algorithm (GA) operating on strings of length $l=6$ with single-point crossover and no mutation. Let the schema $H$ be defined by fixed bits at positions $p_{1}=2$ and $p_{2}=5$ such that $x_{2}=1$ and $x_{5}=0$, with all other positions wildcard. The order of the schema is $o(H)=2$ and its defining length is $\\delta(H)=p_{2}-p_{1}=3$. Parents are sampled independently from a large, well-mixed population with the following joint frequencies over the pair of bits $(x_{2},x_{5})$:\n$$\nf_{10}=\\frac{3}{10},\\quad f_{11}=\\frac{1}{4},\\quad f_{00}=\\frac{1}{5},\\quad f_{01}=\\frac{1}{4},\n$$\nwhich satisfy $\\sum_{i\\in\\{0,1\\}}\\sum_{j\\in\\{0,1\\}} f_{ij}=1$. A mating produces one offspring by choosing a crossover point $K$ uniformly at random from $\\{1,2,3,4,5\\}$, taking the left segment (positions $1$ through $K$) from the first parent and the right segment (positions $K+1$ through $6$) from the second parent.\n\nDefine a \"created instance of $H$\" as an offspring belonging to $H$ while neither parent belongs to $H$. Assume $M=100$ independent matings. Using an exact schema theorem perspective that decomposes the expected schema count into survival and creation, focus exclusively on the creation due to single-point crossover and compute the expected number of created instances of $H$ in the offspring population.\n\nProvide your final answer as a single real number. No rounding is required.",
            "solution": "The problem is valid as it is scientifically grounded in the principles of genetic algorithms, well-posed with all necessary information provided, and stated in objective, formal language. It is free of contradictions, ambiguities, or factual unsoundness.\n\nThe objective is to compute the expected number of \"created instances\" of schema $H$ over $M=100$ independent matings. A created instance is an offspring that belongs to schema $H$ while neither of its parents belongs to $H$.\n\nLet's define the schema $H$ and the conditions for membership. The schema is $H=\\text{*1**0*}$, meaning a binary string of length $l=6$ belongs to $H$ if and only if its bit at position $2$ is $1$ and its bit at position $5$ is $0$. We can denote this condition on a string $s$ as $(s_2, s_5) = (1, 0)$. The problem provides the population frequencies for the four possible pairs of bits at these two positions:\n- $P((x_2, x_5) = (1,0)) = f_{10} = \\frac{3}{10}$. This is the frequency of individuals belonging to schema $H$.\n- $P((x_2, x_5) = (1,1)) = f_{11} = \\frac{1}{4}$.\n- $P((x_2, x_5) = (0,0)) = f_{00} = \\frac{1}{5}$.\n- $P((x_2, x_5) = (0,1)) = f_{01} = \\frac{1}{4}$.\n\nBy the linearity of expectation, the total expected number of created instances is the number of matings $M$ multiplied by the probability of a single mating producing a created instance. Let $P_{create}$ be this probability.\n$E[\\text{created instances}] = M \\times P_{create}$.\n\nA created instance requires three conditions for a single mating event between parent $1$ ($P_1$) and parent $2$ ($P_2$) producing offspring $O$:\n1. $P_1 \\notin H$\n2. $P_2 \\notin H$\n3. $O \\in H$\n\nLet's analyze the effect of the single-point crossover on the schema-defining bits at positions $p_1=2$ and $p_2=5$. The crossover point $K$ is chosen uniformly from $\\{1, 2, 3, 4, 5\\}$. The offspring $O$ is formed by taking bits $1$ through $K$ from $P_1$ and bits $K+1$ through $6$ from $P_2$. The relevant bits of the offspring, $(O_2, O_5)$, are determined as follows:\n- If $K  p_1=2$ (i.e., $K=1$), both bits $O_2$ and $O_5$ come from $P_2$. So, $(O_2, O_5) = (P_{2,2}, P_{2,5})$.\n- If $K \\ge p_2=5$ (i.e., $K=5$), both bits $O_2$ and $O_5$ come from $P_1$. So, $(O_2, O_5) = (P_{1,2}, P_{1,5})$.\n- If $p_1 \\le K  p_2$ (i.e., $K \\in \\{2, 3, 4\\}$), the crossover point lies between the defining bits. This is a \"disruptive\" crossover for the schema. $O_2$ comes from $P_1$ and $O_5$ comes from $P_2$. So, $(O_2, O_5) = (P_{1,2}, P_{2,5})$.\n\nNow, let's find the probability of creation, $P_{create}$, by considering these cases for $K$.\nThe event of creation is the intersection of the events $\\{P_1 \\notin H, P_2 \\notin H, O \\in H\\}$.\n\nCase 1: Crossover point $K$ is non-disruptive ($K=1$ or $K=5$).\n- If $K=1$, for the offspring to be in $H$, we must have $(O_2, O_5) = (P_{2,2}, P_{2,5})=(1,0)$. This would mean $P_2 \\in H$, which violates the condition that the parents are not in $H$. Thus, creation cannot occur if $K=1$.\n- If $K=5$, for the offspring to be in $H$, we must have $(O_2, O_5) = (P_{1,2}, P_{1,5})=(1,0)$. This would mean $P_1 \\in H$, which also violates the conditions for creation. Thus, creation cannot occur if $K=5$.\n\nCase 2: Crossover point $K$ is disruptive ($K \\in \\{2, 3, 4\\}$).\nCreation can only occur in this case. The probability of a disruptive crossover is $P(K \\in \\{2, 3, 4\\}) = \\frac{3}{5}$.\nFor a disruptive crossover, the offspring's defining bits are $(O_2, O_5) = (P_{1,2}, P_{2,5})$.\nThe condition $O \\in H$ means $(P_{1,2}, P_{2,5})=(1,0)$, which implies $P_{1,2}=1$ and $P_{2,5}=0$.\nNow we apply the conditions on the parents:\n- $P_1 \\notin H$: The bit pair for $P_1$ is $(P_{1,2}, P_{1,5})$. Since we require $P_{1,2}=1$, the condition $P_1 \\notin H$ implies $(1, P_{1,5}) \\neq (1,0)$, which means $P_{1,5} \\neq 0$. For a binary alphabet, this enforces $P_{1,5}=1$. Therefore, parent $P_1$ must have the bit pair $(1,1)$.\n- $P_2 \\notin H$: The bit pair for $P_2$ is $(P_{2,2}, P_{2,5})$. Since we require $P_{2,5}=0$, the condition $P_2 \\notin H$ implies $(P_{2,2}, 0) \\neq (1,0)$, which means $P_{2,2} \\neq 1$. For a binary alphabet, this enforces $P_{2,2}=0$. Therefore, parent $P_2$ must have the bit pair $(0,0)$.\n\nIn summary, a created instance is produced if and only if the crossover is disruptive ($K \\in \\{2,3,4\\}$) AND parent $P_1$ is of type $(1,1)$ for the defining bits AND parent $P_2$ is of type $(0,0)$ for the defining bits.\n\nThe selection of parents and the choice of a crossover point are independent events. Therefore, the probability of creation, $P_{create}$, is the product of the probabilities of these three independent events:\n$P_{create} = P(K \\in \\{2,3,4\\}) \\times P(P_1 \\text{ is type } (1,1)) \\times P(P_2 \\text{ is type } (0,0))$\n\nUsing the provided frequencies:\n- $P(K \\in \\{2,3,4\\}) = \\frac{3}{5}$\n- $P(P_1 \\text{ is type } (1,1)) = f_{11} = \\frac{1}{4}$\n- $P(P_2 \\text{ is type } (0,0)) = f_{00} = \\frac{1}{5}$\n\nSubstituting these values:\n$$P_{create} = \\frac{3}{5} \\times \\frac{1}{4} \\times \\frac{1}{5} = \\frac{3}{100}$$\n\nFinally, the expected number of created instances over $M=100$ matings is:\n$$E[\\text{created instances}] = M \\times P_{create} = 100 \\times \\frac{3}{100} = 3$$\nThe expected number of created instances of schema $H$ is $3$.",
            "answer": "$$\\boxed{3}$$"
        }
    ]
}