{
    "hands_on_practices": [
        {
            "introduction": "对平准化度电成本（LCOE）的深刻理解始于从贴现现金流等基本经济原理进行推导。本练习将通过为一个传统发电厂从零开始构建LCOE公式，来巩固这一核心概念。该推导会清晰地将总成本分解为资本成本、固定运维成本以及可变/燃料成本等组成部分。",
            "id": "4100716",
            "problem": "一座以天然气为燃料的火力发电厂稳定运行，在 $n$ 年的期限内，每年产生 $E$ 兆瓦时的电量。该项目在时间 $t=0$ 时产生一笔前期资本支出 $I$，在每年年末 $t \\in \\{1,\\dots,n\\}$ 支付固定的年度运营和维护成本 $A$，以及每兆瓦时 $v$ 的可变运营和维护成本和每兆瓦时 $f$ 的燃料成本。假设输送的电量 $E$以及成本率 $A$、$v$ 和 $f$ 随时间保持不变，不存在残值或退役成本，且真实贴现率是一个恒定的正数 $r0$。所有的年度成本和电量产出均发生在每年年末。\n\n仅从平准化度电成本 (LCOE) 的基本定义——即LCOE是使所有成本的现值等于所有能源产出现值的恒定电价（每兆瓦时）——出发，推导 LCOE 关于 $I$、$A$、$v$、$f$、$E$、$r$ 和 $n$ 的闭式表达式。然后，将LCOE中的燃料和可变成本份额定义为LCOE中归因于燃料及可变运营和维护成本的部分，并推导该份额关于相同参数的闭式表达式。最后，对于固定的 $r0$，求解当 $n \\to \\infty$ 时 LCOE 的极限形式。\n\n将你的最终答案以一个行向量的形式给出，按顺序包含：(i) LCOE 表达式，(ii) 燃料和可变成本份额的表达式（以小数形式而非百分比表示），(iii) 当 $n \\to \\infty$ 且 $r0$ 时LCOE的极限值。无需进行数值计算。最终答案中不要包含单位。",
            "solution": "题目陈述经验证。\n\n**步骤1：提取已知条件**\n- 年发电量：$E$ (兆瓦时/年)\n- 项目寿命：$n$ (年)\n- $t=0$ 时的前期资本支出：$I$\n- 固定运营和维护 (OM) 成本：每年 $A$，在每年年末 $t \\in \\{1,\\dots,n\\}$ 支付\n- 可变 OM 成本：每兆瓦时 $v$\n- 燃料成本：每兆瓦时 $f$\n- 恒定真实贴现率：$r > 0$\n- 所有年度成本和电量产出均发生在每年年末。\n- 无残值或退役成本。\n- LCOE的定义：使所有成本的现值等于所有能源产出现值的恒定电价（每兆瓦时）。\n\n**步骤2：使用提取的已知条件进行验证**\n- **科学依据：** 该问题是现金流贴现分析的一个标准应用，用于确定平准化能源成本，这是能源经济学和工程学中的一个基本概念。它基于成熟的金融数学。\n- **适定性：** 所有必要的参数（$I$、$A$、$v$、$f$、$E$、$r$、$n$）均已提供，目标明确，可得到唯一解。\n- **客观性：** 问题以精确、定量的术语陈述，没有主观性或模糊性。\n- 该问题是自洽、一致且科学合理的。未发现任何缺陷。\n\n**步骤3：结论与行动**\n问题有效。将继续进行求解。\n\n平准化度电成本 (LCOE) 定义为使项目净现值为零的单位能源价格。这意味着总成本的现值必须等于总收入的现值，其中收入是使用 LCOE作为所生产电量的恒定价格计算的。\n\n令 $PV_{costs}$ 为项目生命周期内发生的所有成本的现值。这些成本包括时间 $t=0$ 时的初始投资 $I$，以及为期 $n$ 年的年度成本。初始投资的现值就是 $I$，因为它发生在 $t=0$。在每年年末 $t \\in \\{1, \\dots, n\\}$ 支付的年度成本是固定 OM 成本 $A$、总可变 OM 成本 ($v \\times E$) 和总燃料成本 ($f \\times E$) 的总和。\n\n年度总成本 $C_{annual}$ 为：\n$$C_{annual} = A + vE + fE = A + (v+f)E$$\n这些年度成本的现值是每笔年度成本贴现到 $t=0$ 的总和：\n$$PV_{annual\\_costs} = \\sum_{t=1}^{n} \\frac{A + (v+f)E}{(1+r)^t} = (A + (v+f)E) \\sum_{t=1}^{n} \\frac{1}{(1+r)^t}$$\n所有成本的总现值为：\n$$PV_{costs} = I + PV_{annual\\_costs} = I + (A + (v+f)E) \\sum_{t=1}^{n} (1+r)^{-t}$$\n\n现在，令 $PV_{energy}$ 为以 LCOE 计价的总产出电量的现值。年发电量为 $E$。以 LCOE 的价格计算，年度收入为 $\\text{LCOE} \\times E$。这一系列收入流的现值为：\n$$PV_{energy} = \\sum_{t=1}^{n} \\frac{\\text{LCOE} \\times E}{(1+r)^t} = (\\text{LCOE} \\times E) \\sum_{t=1}^{n} (1+r)^{-t}$$\n\n求和项 $\\sum_{t=1}^{n} (1+r)^{-t}$ 是一个有限几何级数，其首项为 $a = (1+r)^{-1}$，公比为 $k = (1+r)^{-1}$，共有 $n$ 项。其和由下式给出：\n$$\\sum_{t=1}^{n} k^t = k \\frac{1-k^n}{1-k} = \\frac{1}{1+r} \\frac{1-(1+r)^{-n}}{1 - \\frac{1}{1+r}} = \\frac{1}{1+r} \\frac{1-(1+r)^{-n}}{\\frac{r}{1+r}} = \\frac{1-(1+r)^{-n}}{r}$$\n该项是现值年金因子。\n\n根据定义，对于LCOE，有 $PV_{costs} = PV_{energy}$。\n$$I + (A + (v+f)E) \\left(\\frac{1-(1+r)^{-n}}{r}\\right) = (\\text{LCOE} \\times E) \\left(\\frac{1-(1+r)^{-n}}{r}\\right)$$\n为了解出 LCOE，我们将等式两边同时除以总电量产出的现值，即 $E \\left(\\frac{1-(1+r)^{-n}}{r}\\right)$。\n$$\\text{LCOE} = \\frac{I + (A + (v+f)E) \\left(\\frac{1-(1+r)^{-n}}{r}\\right)}{E \\left(\\frac{1-(1+r)^{-n}}{r}\\right)}$$\n分开各项可得：\n$$\\text{LCOE} = \\frac{I}{E \\left(\\frac{1-(1+r)^{-n}}{r}\\right)} + \\frac{A + (v+f)E}{E}$$\n$$\\text{LCOE} = \\frac{Ir}{E(1-(1+r)^{-n})} + \\frac{A}{E} + v + f$$\n这就是 LCOE 的闭式表达式。其中 $\\frac{r}{1-(1+r)^{-n}}$ 项被称为资本回收因子 (CRF)。\n\n接下来，我们推导LCOE中燃料和可变成本的份额。这是LCOE中归因于可变OM $v$ 和燃料成本 $f$ 的部分。从最终的LCOE表达式来看，各组成部分是相加的：平准化资本成本为 $\\frac{Ir}{E(1-(1+r)^{-n})}$，平准化固定OM $\\frac{A}{E}$，可变OM $v$，燃料成本为 $f$。\n燃料和可变成本部分为 $v+f$。该份额我们记作 $S_{v+f}$，是此部分除以总LCOE。\n$$S_{v+f} = \\frac{v+f}{\\text{LCOE}} = \\frac{v+f}{\\frac{Ir}{E(1-(1+r)^{-n})} + \\frac{A}{E} + v + f}$$\n\n最后，我们求解当项目寿命 $n$ 趋近于无穷大时 LCOE 的极限，其中贴现率 $r0$ 为固定的正数。\n$$\\lim_{n \\to \\infty} \\text{LCOE} = \\lim_{n \\to \\infty} \\left( \\frac{Ir}{E(1-(1+r)^{-n})} + \\frac{A}{E} + v + f \\right)$$\n由于 $r0$，我们有 $1+r  1$。因此，当 $n \\to \\infty$ 时，项 $(1+r)^n \\to \\infty$，于是 $(1+r)^{-n} = \\frac{1}{(1+r)^n} \\to 0$。\n将此极限代入表达式中：\n$$\\lim_{n \\to \\infty} \\text{LCOE} = \\frac{Ir}{E(1-0)} + \\frac{A}{E} + v + f$$\n$$\\lim_{n \\to \\infty} \\text{LCOE} = \\frac{Ir}{E} + \\frac{A}{E} + v + f$$\n这个结果是直观的：对于一个无限寿命的资产，其年化资本成本就是初始投资 $I$ 按贴现率 $r$ 计算的利息。\n\n最终答案要求一个行向量，按顺序包含这三个表达式。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{I r}{E(1-(1+r)^{-n})} + \\frac{A}{E} + v + f  \\frac{v+f}{\\frac{I r}{E(1-(1+r)^{-n})} + \\frac{A}{E} + v + f}  \\frac{Ir}{E} + \\frac{A}{E} + v + f\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "在发电项目之后，我们将目光转向储能技术。虽然平准化成本的概念可以灵活套用，但将其应用于储能时需要格外严谨的定义。此练习探讨了分母的选择——充电量、放电量或可靠交付电量——如何关键性地影响最终的指标及其解读，从而避免产生误导性的比较。",
            "id": "4100712",
            "problem": "考虑一个以重复的日循环方式运行的固定式电化学储能资产，该资产在 $N$ 年的有限期限内建模，并采用恒定的实际贴现率 $r$。设成本的现值 (PV) 为 $PV(C)$，各种能量的现值为：\n- $PV(E_{\\mathrm{ch}})$，充电到储能系统中的能量的现值，\n- $PV(E_{\\mathrm{dis}})$，从储能系统中放出的能量的现值，\n- $PV(E_{\\mathrm{firm}})$，在考虑了可用性和可交付性约束后，在指定的稳定服务窗口内（例如，满足容量义务）可交付的放电能量的现值。\n\n假设以下基本定义和关系对所有年份 $t=1,\\dots,N$ 均成立：\n- 往返效率不随时间变化，由 $\\eta_{\\mathrm{rt}} \\in (0,1)$ 给出，因此 $E_{\\mathrm{dis},t} = \\eta_{\\mathrm{rt}}\\,E_{\\mathrm{ch},t}$。\n- 稳定性分数不随时间变化，由 $\\alpha \\in (0,1)$ 给出，因此 $E_{\\mathrm{firm},t} = \\alpha\\,E_{\\mathrm{dis},t}$。\n- 成本包括一个固定的现值部分 $C_{\\mathrm{fix}}$（包括资本支出以及固定运营和维护费用）和一个与吞吐量成比例的部分，该部分按单位放电能量指定，系数为 $v$（单位为 $\\$/$\\text{MWh} 放电量），因此 $PV(C) = C_{\\mathrm{fix}} + v\\,PV(E_{\\mathrm{dis}})$。\n- 忽略充电能量本身的货币成本（即，不要将输入电力购买成本计入 $PV(C)$）。\n\n定义三个平准化指标，每个指标都与其分母保持一致：\n- 基于充电的储能平准化成本 $LCOS_{\\mathrm{ch}} \\equiv PV(C)/PV(E_{\\mathrm{ch}})$，\n- 基于放电的放电平准化成本 $LCOD_{\\mathrm{dis}} \\equiv PV(C)/PV(E_{\\mathrm{dis}})$，\n- 稳定交付的交付平准化成本 $LCOD_{\\mathrm{firm}} \\equiv PV(C)/PV(E_{\\mathrm{firm}})$。\n\n假设 $\\eta_{\\mathrm{rt}}=0.85$ 且 $\\alpha=0.90$。在上述假设下，以下哪个陈述是正确的？\n\nA. $LCOS_{\\mathrm{dis}} = LCOS_{\\mathrm{ch}}/\\eta_{\\mathrm{rt}}$ 且 $LCOD_{\\mathrm{firm}} = LCOS_{\\mathrm{dis}}/\\alpha$。因此，$LCOD_{\\mathrm{firm}} = LCOS_{\\mathrm{ch}}/(\\eta_{\\mathrm{rt}}\\alpha)$，所以使用 $LCOS_{\\mathrm{ch}}$ 与发电机的平准化能源成本 (LCOE) 进行比较，会以 $1/(\\eta_{\\mathrm{rt}}\\alpha)$ 的乘法因子低估稳定交付服务的每 MWh 成本。\n\nB. $LCOS_{\\mathrm{dis}}$ 低于 $LCOS_{\\mathrm{ch}}$，因为 $PV(E_{\\mathrm{dis}})  PV(E_{\\mathrm{ch}})$，而除以一个较小的分母会得到一个较小的平准化成本。\n\nC. 当成本模型包含与吞吐量成比例的项 $v\\,PV(E_{\\mathrm{dis}})$ 时，仅使用 $\\eta_{\\mathrm{rt}}$ 无法在 $LCOS_{\\mathrm{ch}}$ 和 $LCOS_{\\mathrm{dis}}$ 之间进行精确转换；该关系取决于 $C_{\\mathrm{fix}}$ 和 $v$，不能写成简单的缩放形式。\n\nD. 当 $\\eta_{\\mathrm{rt}}=0.85$ 且 $\\alpha=0.90$ 时，排序 $LCOS_{\\mathrm{ch}}  LCOS_{\\mathrm{dis}}  LCOD_{\\mathrm{firm}}$ 成立，并且比率 $LCOS_{\\mathrm{dis}}/LCOS_{\\mathrm{ch}} = 1/0.85$ 和 $LCOD_{\\mathrm{firm}}/LCOS_{\\mathrm{dis}} = 1/0.90$ 成立，且与 $C_{\\mathrm{fix}}$ 和 $v$ 无关。\n\nE. 只要储能指标和发电机指标都以 $\\$/$\\text{MWh} 表示，就可以直接进行比较，而无论储能指标使用 $PV(E_{\\mathrm{ch}})$、$PV(E_{\\mathrm{dis}})$ 还是 $PV(E_{\\mathrm{firm}})$ 作为其分母，也无论是否包含输入充电能量成本。",
            "solution": "用户提供了一个待解决的问题，遵循严格的验证和解题协议。\n\n### 问题验证\n\n**步骤 1：提取已知条件**\n\n问题陈述提供了以下定义、数据和假设：\n-   一个固定式电化学储能资产在 $N$ 年的有限期限内进行建模。\n-   实际贴现率 $r$ 是恒定的。\n-   成本的现值：$PV(C)$。\n-   充电能量的现值：$PV(E_{\\mathrm{ch}})$。\n-   放电能量的现值：$PV(E_{\\mathrm{dis}})$。\n-   稳定交付能量的现值：$PV(E_{\\mathrm{firm}})$。\n-   对于所有年份 $t=1,\\dots,N$，往返效率 $\\eta_{\\mathrm{rt}} \\in (0,1)$ 不随时间变化，且 $E_{\\mathrm{dis},t} = \\eta_{\\mathrm{rt}}\\,E_{\\mathrm{ch},t}$。\n-   对于所有年份 $t=1,\\dots,N$，稳定性分数 $\\alpha \\in (0,1)$ 不随时间变化，且 $E_{\\mathrm{firm},t} = \\alpha\\,E_{\\mathrm{dis},t}$。\n-   成本模型为 $PV(C) = C_{\\mathrm{fix}} + v\\,PV(E_{\\mathrm{dis}})$，其中 $C_{\\mathrm{fix}}$ 是固定成本的现值，$v$ 是可变成本系数。\n-   充电能量的货币成本将被忽略。\n-   平准化指标的定义如下：\n    1.  $LCOS_{\\mathrm{ch}} \\equiv PV(C)/PV(E_{\\mathrm{ch}})$\n    2.  $LCOD_{\\mathrm{dis}} \\equiv PV(C)/PV(E_{\\mathrm{dis}})$\n    3.  $LCOD_{\\mathrm{firm}} \\equiv PV(C)/PV(E_{\\mathrm{firm}})$\n-   给定的具体数值为：$\\eta_{\\mathrm{rt}}=0.85$ 和 $\\alpha=0.90$。\n\n**步骤 2：使用提取的已知条件进行验证**\n\n根据指定标准对问题进行评估：\n-   **科学依据**：该问题基于能源经济学和系统分析这一成熟领域。现值、平准化成本、往返效率以及固定/可变成本等概念都是标准概念。该模型是一个简化模型，但在科学和数学上是合理的。\n-   **良态问题**：该问题是良态的。变量之间的关系被明确定义，问题旨在推导这些定义的后果。可以确定指标之间的一组唯一关系。\n-   **客观性**：语言精确、量化，没有主观或含糊的术语。\n-   **不完整或矛盾的设置**：设置是完整的且自洽的。关联三个平准化成本指标所需的所有信息都已提供。\n-   **不切实际或不可行**：所提供的效率 ($\\eta_{\\mathrm{rt}}=0.85$) 和稳定性分数 ($\\alpha=0.90$) 的数值对于现代电池储能系统是现实的。成本模型结构也是一种标准表示。\n-   **其他缺陷**：该问题并非微不足道，因为它需要仔细的代数操作，并正确理解可变成本部分如何在不同指标中传播。它不是同义反复、隐喻性或无法验证的。\n\n**步骤 3：结论和行动**\n\n问题陈述是**有效的**。设置科学合理、良态且内部一致。我现在将着手解决问题。\n\n### 解题推导\n\n解决此问题需要建立三个已定义的平准化成本指标之间的数学关系。\n\n首先，我们关联这些指标的分母，即不同能量的现值。时间序列 $X_t$ 的现值由 $PV(X) = \\sum_{t=1}^{N} \\frac{X_t}{(1+r)^t}$ 给出。\n\n1.  **关联 $PV(E_{\\mathrm{dis}})$ 和 $PV(E_{\\mathrm{ch}})$**：\n    已知 $E_{\\mathrm{dis},t} = \\eta_{\\mathrm{rt}}\\,E_{\\mathrm{ch},t}$ 且 $\\eta_{\\mathrm{rt}}$ 不随时间变化：\n    $$PV(E_{\\mathrm{dis}}) = \\sum_{t=1}^{N} \\frac{E_{\\mathrm{dis},t}}{(1+r)^t} = \\sum_{t=1}^{N} \\frac{\\eta_{\\mathrm{rt}}\\,E_{\\mathrm{ch},t}}{(1+r)^t} = \\eta_{\\mathrm{rt}} \\sum_{t=1}^{N} \\frac{E_{\\mathrm{ch},t}}{(1+r)^t} = \\eta_{\\mathrm{rt}}\\,PV(E_{\\mathrm{ch}})$$\n\n2.  **关联 $PV(E_{\\mathrm{firm}})$ 和 $PV(E_{\\mathrm{dis}})$**：\n    已知 $E_{\\mathrm{firm},t} = \\alpha\\,E_{\\mathrm{dis},t}$ 且 $\\alpha$ 不随时间变化：\n    $$PV(E_{\\mathrm{firm}}) = \\sum_{t=1}^{N} \\frac{E_{\\mathrm{firm},t}}{(1+r)^t} = \\sum_{t=1}^{N} \\frac{\\alpha\\,E_{\\mathrm{dis},t}}{(1+r)^t} = \\alpha \\sum_{t=1}^{N} \\frac{E_{\\mathrm{dis},t}}{(1+r)^t} = \\alpha\\,PV(E_{\\mathrm{dis}})$$\n\n接下来，我们使用这些分母关系来建立平准化成本指标之间的关系。所有三个指标的分子 $PV(C)$ 都是相同的。\n\n1.  **关联 $LCOD_{\\mathrm{dis}}$ 和 $LCOS_{\\mathrm{ch}}$**：\n    $$LCOD_{\\mathrm{dis}} = \\frac{PV(C)}{PV(E_{\\mathrm{dis}})}$$\n    根据关系式 $PV(E_{\\mathrm{dis}}) = \\eta_{\\mathrm{rt}}\\,PV(E_{\\mathrm{ch}})$，我们可以写出 $PV(E_{\\mathrm{ch}}) = \\frac{PV(E_{\\mathrm{dis}})}{\\eta_{\\mathrm{rt}}}$。\n    将此代入 $LCOS_{\\mathrm{ch}}$ 的定义中：\n    $$LCOS_{\\mathrm{ch}} = \\frac{PV(C)}{PV(E_{\\mathrm{ch}})} = \\frac{PV(C)}{PV(E_{\\mathrm{dis}})/\\eta_{\\mathrm{rt}}} = \\eta_{\\mathrm{rt}} \\left( \\frac{PV(C)}{PV(E_{\\mathrm{dis}})} \\right) = \\eta_{\\mathrm{rt}}\\,LCOD_{\\mathrm{dis}}$$\n    整理后，我们得到直接关系：\n    $$LCOD_{\\mathrm{dis}} = \\frac{LCOS_{\\mathrm{ch}}}{\\eta_{\\mathrm{rt}}}$$\n\n2.  **关联 $LCOD_{\\mathrm{firm}}$ 和 $LCOD_{\\mathrm{dis}}$**：\n    $$LCOD_{\\mathrm{firm}} = \\frac{PV(C)}{PV(E_{\\mathrm{firm}})}$$\n    根据关系式 $PV(E_{\\mathrm{firm}}) = \\alpha\\,PV(E_{\\mathrm{dis}})$，我们将其代入 $LCOD_{\\mathrm{firm}}$ 的定义中：\n    $$LCOD_{\\mathrm{firm}} = \\frac{PV(C)}{\\alpha\\,PV(E_{\\mathrm{dis}})} = \\frac{1}{\\alpha} \\left( \\frac{PV(C)}{PV(E_{\\mathrm{dis}})} \\right) = \\frac{LCOD_{\\mathrm{dis}}}{\\alpha}$$\n\n必须注意，这些关系式 $LCOD_{\\mathrm{dis}} = LCOS_{\\mathrm{ch}}/\\eta_{\\mathrm{rt}}$ 和 $LCOD_{\\mathrm{firm}} = LCOD_{\\mathrm{dis}}/\\alpha$ 是直接从定义中得出的恒等式。只要所有三个指标都使用相同的 $PV(C)$，无论成本分子 $PV(C)$ 的具体结构如何，这些关系都成立。在成本模型 $PV(C) = C_{\\mathrm{fix}} + v\\,PV(E_{\\mathrm{dis}})$ 中包含与吞吐量成比例的项 $v\\,PV(E_{\\mathrm{dis}})$ 并不会改变这些转换因子。为了明确证明这一点：\n$$LCOD_{\\mathrm{dis}} = \\frac{C_{\\mathrm{fix}} + v\\,PV(E_{\\mathrm{dis}})}{PV(E_{\\mathrm{dis}})} = \\frac{C_{\\mathrm{fix}}}{PV(E_{\\mathrm{dis}})} + v$$\n$$LCOS_{\\mathrm{ch}} = \\frac{C_{\\mathrm{fix}} + v\\,PV(E_{\\mathrm{dis}})}{PV(E_{\\mathrm{ch}})} = \\frac{C_{\\mathrm{fix}} + v\\,(\\eta_{\\mathrm{rt}}PV(E_{\\mathrm{ch}}))}{PV(E_{\\mathrm{ch}})} = \\frac{C_{\\mathrm{fix}}}{PV(E_{\\mathrm{ch}})} + v\\,\\eta_{\\mathrm{rt}}$$\n现在，我们来计算 $LCOS_{\\mathrm{ch}}/\\eta_{\\mathrm{rt}}$：\n$$\\frac{LCOS_{\\mathrm{ch}}}{\\eta_{\\mathrm{rt}}} = \\frac{1}{\\eta_{\\mathrm{rt}}}\\left( \\frac{C_{\\mathrm{fix}}}{PV(E_{\\mathrm{ch}})} + v\\,\\eta_{\\mathrm{rt}} \\right) = \\frac{C_{\\mathrm{fix}}}{\\eta_{\\mathrm{rt}}\\,PV(E_{\\mathrm{ch}})} + v = \\frac{C_{\\mathrm{fix}}}{PV(E_{\\mathrm{dis}})} + v$$\n这与 $LCOD_{\\mathrm{dis}}$ 的表达式完全相同，证实了该关系与成本结构无关。\n\n### 逐项分析\n\n关于术语的说明：选项中使用了术语 $LCOS_{\\mathrm{dis}}$。这在问题陈述中没有定义，问题陈述定义了 $LCOS_{\\mathrm{ch}}$、$LCOD_{\\mathrm{dis}}$ 和 $LCOD_{\\mathrm{firm}}$。根据上下文，$LCOS_{\\mathrm{dis}}$ 明确是 $LCOD_{\\mathrm{dis}}$（基于放电的放电平准化成本）的笔误。分析将在此修正下进行。\n\n**A. $LCOS_{\\mathrm{dis}} = LCOS_{\\mathrm{ch}}/\\eta_{\\mathrm{rt}}$ 且 $LCOD_{\\mathrm{firm}} = LCOS_{\\mathrm{dis}}/\\alpha$。因此，$LCOD_{\\mathrm{firm}} = LCOS_{\\mathrm{ch}}/(\\eta_{\\mathrm{rt}}\\alpha)$，所以使用 $LCOS_{\\mathrm{ch}}$ 与发电机的平准化能源成本 (LCOE) 进行比较，会以 $1/(\\eta_{\\mathrm{rt}}\\alpha)$ 的乘法因子低估稳定交付服务的每 MWh 成本。**\n- 关系式 $LCOD_{\\mathrm{dis}} = LCOS_{\\mathrm{ch}}/\\eta_{\\mathrm{rt}}$（修正笔误后）已在上面被证明是正确的。\n- 关系式 $LCOD_{\\mathrm{firm}} = LCOD_{\\mathrm{dis}}/\\alpha$（修正笔误后）也已被证明是正确的。\n- 推论 $LCOD_{\\mathrm{firm}} = (LCOS_{\\mathrm{ch}}/\\eta_{\\mathrm{rt}})/\\alpha = LCOS_{\\mathrm{ch}}/(\\eta_{\\mathrm{rt}}\\alpha)$ 是一个正确的代数代换。\n- 概念要点也是正确的。“稳定交付服务”的成本是 $LCOD_{\\mathrm{firm}}$。如果错误地使用 $LCOS_{\\mathrm{ch}}$ 进行比较，成本将被低估。正确指标与错误指标的比率为 $LCOD_{\\mathrm{firm}} / LCOS_{\\mathrm{ch}} = 1/(\\eta_{\\mathrm{rt}}\\alpha)$。这就是低估的因子。\n**结论：正确。**\n\n**B. $LCOS_{\\mathrm{dis}}$ 低于 $LCOS_{\\mathrm{ch}}$，因为 $PV(E_{\\mathrm{dis}})  PV(E_{\\mathrm{ch}})$，而除以一个较小的分母会得到一个较小的平准化成本。**\n- 该陈述声称 $LCOD_{\\mathrm{dis}}  LCOS_{\\mathrm{ch}}$。根据我们的推导，$LCOD_{\\mathrm{dis}} = LCOS_{\\mathrm{ch}}/\\eta_{\\mathrm{rt}}$。因为 $\\eta_{\\mathrm{rt}}=0.85  1$，所以 $1/\\eta_{\\mathrm{rt}}  1$，因此 $LCOD_{\\mathrm{dis}}  LCOS_{\\mathrm{ch}}$。该声明是错误的。\n- 推理也是错误的。将一个正的分子 $PV(C)$ 除以一个较小的正的分母 ($PV(E_{\\mathrm{dis}})  PV(E_{\\mathrm{ch}})$) 会得到一个*更大*的商，而不是更小的。\n**结论：不正确。**\n\n**C. 当成本模型包含与吞吐量成比例的项 $v\\,PV(E_{\\mathrm{dis}})$ 时，仅使用 $\\eta_{\\mathrm{rt}}$ 无法在 $LCOS_{\\mathrm{ch}}$ 和 $LCOS_{\\mathrm{dis}}$ 之间进行精确转换；该关系取决于 $C_{\\mathrm{fix}}$ 和 $v$，不能写成简单的缩放形式。**\n- 这显然是错误的。正如在推导部分所证明的，关系式 $LCOD_{\\mathrm{dis}} = LCOS_{\\mathrm{ch}}/\\eta_{\\mathrm{rt}}$ 是一个精确的恒等式，无论 $C_{\\mathrm{fix}}$ 和 $v$ 的值如何都成立。转换是一个简单的、精确的按 $1/\\eta_{\\mathrm{rt}}$ 的缩放。\n**结论：不正确。**\n\n**D. 当 $\\eta_{\\mathrm{rt}}=0.85$ 且 $\\alpha=0.90$ 时，排序 $LCOS_{\\mathrm{ch}}  LCOS_{\\mathrm{dis}}  LCOD_{\\mathrm{firm}}$ 成立，并且比率是 $LCOS_{\\mathrm{dis}}/LCOS_{\\mathrm{ch}} = 1/0.85$ 和 $LCOD_{\\mathrm{firm}}/LCOS_{\\mathrm{dis}} = 1/0.90$，且与 $C_{\\mathrm{fix}}$ 和 $v$ 无关。**\n- **排序**：我们有 $LCOD_{\\mathrm{dis}} = LCOS_{\\mathrm{ch}}/\\eta_{\\mathrm{rt}}  LCOS_{\\mathrm{ch}}$（因为 $\\eta_{\\mathrm{rt}}  1$）和 $LCOD_{\\mathrm{firm}} = LCOD_{\\mathrm{dis}}/\\alpha  LCOD_{\\mathrm{dis}}$（因为 $\\alpha  1$）。排序 $LCOS_{\\mathrm{ch}}  LCOD_{\\mathrm{dis}}  LCOD_{\\mathrm{firm}}$ 是正确的。\n- **比率**：从 $LCOD_{\\mathrm{dis}} = LCOS_{\\mathrm{ch}}/\\eta_{\\mathrm{rt}}$，比率 $LCOD_{\\mathrm{dis}}/LCOS_{\\mathrm{ch}} = 1/\\eta_{\\mathrm{rt}} = 1/0.85$。这是正确的。从 $LCOD_{\\mathrm{firm}} = LCOD_{\\mathrm{dis}}/\\alpha$，比率 $LCOD_{\\mathrm{firm}}/LCOD_{\\mathrm{dis}} = 1/\\alpha = 1/0.90$。这也是正确的（考虑了笔误）。\n- **独立性**：正如所证明的，这些比率是源于定义的恒等式，并且与成本结构无关，即与 $C_{\\mathrm{fix}}$ 和 $v$ 无关。这是一个正确且重要的陈述。\n**结论：正确。**\n\n**E. 只要储能指标和发电机指标都以 $\\$/$\\text{MWh} 表示，就可以直接进行比较，而无论储能指标使用 $PV(E_{\\mathrm{ch}})$、$PV(E_{\\mathrm{dis}})$ 还是 $PV(E_{\\mathrm{firm}})$ 作为其分母，也无论是否包含输入充电能量成本。**\n- 这个陈述根本上是不正确的。单位 $\\$/\\text{MWh}$ 是有效比较的必要条件，但不是充分条件。\n- 分母的选择（$E_{\\mathrm{ch}}$、$E_{\\mathrm{dis}}$、$E_{\\mathrm{firm}}$）从根本上改变了所测量的对象（储存成本、交付成本、稳定交付成本）。发电机的 LCOE 是交付能量的成本，这使得 $LCOD_{\\mathrm{dis}}$ 或 $LCOD_{\\mathrm{firm}}$ 成为概念上平行的指标，而不是 $LCOS_{\\mathrm{ch}}$。\n- 是否包含输入能源成本是一个关键的“成本边界”假设。发电机的 LCOE 包括其燃料成本。一个公平的比较将要求储能指标也包括其“燃料”成本，即充电电力的购买成本。将一个排除了此成本的指标与一个包含了此成本的指标进行比较，是不可同日而语的。\n**结论：不正确。**\n\n选项 A 和 D 都是从问题前提中推导出的正确陈述。",
            "answer": "$$\\boxed{AD}$$"
        },
        {
            "introduction": "理解了LCOE的计算，我们更进一步，从计算转向分析。在实际项目中，LCOE并非一个确定不变的数值，它受到其输入参数不确定性的影响。本计算练习介绍了一种强大的工具——龙卷风敏感性分析，用于识别哪些变量（如资本成本 $I$、贴现率 $r$ 或容量因子 $CF$）对项目的LCOE影响最大，从而为风险管理和投资决策提供指导。",
            "id": "4100745",
            "problem": "给定一个单一技术可再生能源发电项目的电力成本基准模型。电站容量固定为 $1$ 兆瓦。在运营年份 $t \\in \\{1,\\dots,N\\}$ 的年发电量由物理性能关系 $E_t = H \\cdot CF \\cdot (1-\\delta)^{t-1}$ 定义，其中 $H$ 是一年的小时数，$CF$ 是容量因子，$\\delta$ 是年均性能衰减率（以小数表示）。使用 $H = 8760$ 小时/年。成本包括在 $t=0$ 时的前期资本支出 $I$，每年的固定运营和维护成本 $F$（在每年年底支付），以及单位发电量的可变运营和维护成本 $v$（在每年年底根据 $E_t$ 按比例支付）。年贴现率为 $r$。\n\n平准化能源成本（LCOE）定义为单位能源的恒定价格，记为 $L$，使得在 $N$ 年的生命周期内，收入的现值等于成本的现值：\n$$\n\\sum_{t=1}^{N} \\frac{L \\cdot E_t}{(1+r)^t} \\;=\\; I \\;+\\; \\sum_{t=1}^{N} \\frac{F}{(1+r)^t} \\;+\\; \\sum_{t=1}^{N} \\frac{v \\cdot E_t}{(1+r)^t}.\n$$\n所有货币量单位为美元，能量单位为兆瓦时，因此 $L$ 以美元/兆瓦时表示。假设 $r \\ge 0$，$CF \\in (0,1]$，以及 $\\delta \\in [0,1)$。\n\n任务：对 LCOE 就四个基准参数 $\\{I, r, CF, \\delta\\}$ 进行龙卷风敏感性分析。对于 $\\{I, r, CF, \\delta\\}$ 中的每个参数 $x$，使用每个测试用例提供的绝对幅度 $\\{\\Delta I, \\Delta r, \\Delta CF, \\Delta \\delta\\}$ 定义对称的低扰动和高扰动：\n- 低值情况：$x_{\\mathrm{low}} = \\mathrm{clamp}(x - \\Delta x)$，\n- 高值情况：$x_{\\mathrm{high}} = \\mathrm{clamp}(x + \\Delta x)$。\n\n使用以下域限制规则以确保科学真实性和数值适定性：\n- $I \\ge 0$,\n- $r \\ge 0$,\n- $CF \\in [\\varepsilon, 1]$，其中 $\\varepsilon = 10^{-9}$，\n- $\\delta \\in [0, 0.3]$。\n\n对于每个参数 $x$，计算基准 LCOE、低扰动 LCOE 和高扰动 LCOE，分别记为 $L_{\\mathrm{base}}$、$L_{\\mathrm{low}}(x)$ 和 $L_{\\mathrm{high}}(x)$。将 $x$ 的龙卷风影响幅度定义为\n$$\n\\Delta_x \\;=\\; \\max\\left( \\left| L_{\\mathrm{low}}(x) - L_{\\mathrm{base}} \\right|,\\; \\left| L_{\\mathrm{high}}(x) - L_{\\mathrm{base}} \\right| \\right).\n$$\n按 $\\Delta_x$ 的降序对参数进行排序。如果出现完全相同的情况，则按照自然顺序 $\\{I, r, CF, \\delta\\}$ 确定性地打破平局。\n\n使用上述核心经济学定义和现值第一性原理，根据基准参数构建 $L$：\n- 年发电量：$E_t = H \\cdot CF \\cdot (1-\\delta)^{t-1}$，\n- 能量现值：$PV_E = \\sum_{t=1}^{N} \\dfrac{E_t}{(1+r)^t}$，\n- 成本现值：$PV_C = I + \\sum_{t=1}^{N} \\dfrac{F}{(1+r)^t} + v \\cdot \\sum_{t=1}^{N} \\dfrac{E_t}{(1+r)^t}$，\n- 平准化成本：$L = \\dfrac{PV_C}{PV_E}$。\n\n所有量必须以上述指定的单位处理。尽管 $L$ 的单位是美元/兆瓦时，但您的程序不直接打印 $L$；它只打印每个测试用例的变量排序。此问题中不使用角度。不打印任何百分比。\n\n测试套件：对于每个测试用例，您将得到一个参数元组 $(I, r, CF, \\delta, N, F, v, \\Delta I, \\Delta r, \\Delta CF, \\Delta \\delta)$，如下所示：\n- 案例 $1$：$(1300000, 0.07, 0.4, 0.01, 25, 35000, 3, 200000, 0.02, 0.05, 0.005)$，\n- 案例 $２$：$(900000, 0.05, 0.25, 0.005, 30, 12000, 1.5, 100000, 0.015, 0.04, 0.004)$，\n- 案例 $３$：$(1000000, 0.12, 0.35, 0.015, 20, 30000, 4, 250000, 0.03, 0.06, 0.007)$，\n- 案例 $４$：$(1100000, 0.0, 0.1, 0.0, 20, 25000, 2, 200000, 0.01, 0.05, 0.002)$。\n\n排序输出的索引约定必须是：$0$ 代表 $I$，$1$ 代表 $r$，$2$ 代表 $CF$，$3$ 代表 $\\delta$。\n\n最终输出格式：您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表。每个测试用例的结果本身必须是一个包含四个整数的列表，这些整数编码了四个变量按影响幅度降序的排名。例如，两个测试用例的有效输出将是 $[[0,2,1,3],[0,1,2,3]]$。\n\n您的程序必须实现上述要求，并打印一行编码了四个案例排名的输出，顺序与给定顺序相同。输出必须是使用指定索引约定的整数列表的列表。不应打印任何其他文本。",
            "solution": "我们从平准化能源成本（LCOE）的核心经济学定义开始，即在项目生命周期内，使收入现值等于成本现值的单位能源恒定价格。假设电站容量为 $1$ 兆瓦，年小时数 $H = 8760$，容量因子 $CF$，年衰减率 $\\delta$，贴现率 $r \\ge 0$，生命周期 $N$ 年，年固定运营和维护成本 $F$ 美元，可变运营和维护成本 $v$ 美元/兆瓦时，以及在 $t=0$ 时的初始资本支出 $I$ 美元。\n\n物理能量模型：第 $t$ 年的年发电量由 $E_t = H \\cdot CF \\cdot (1-\\delta)^{t-1}$ 给出。这表示从第 $t=1$ 年开始，由于性能衰减导致的发电量几何级数下降。这种形式是光伏和其他可再生能源技术中衰减的成熟表示方法，并与逐年乘性损失一致。\n\n现值基础：在时间 $t$ 的确定性现金流 $X_t$ 以贴现率 $r$ 贴现后的现值为 $X_t/(1+r)^t$。将此应用于能源和成本，能量的现值为\n$$\nPV_E \\;=\\; \\sum_{t=1}^{N} \\frac{E_t}{(1+r)^t} \\;=\\; \\sum_{t=1}^{N} \\frac{H \\cdot CF \\cdot (1-\\delta)^{t-1}}{(1+r)^t}.\n$$\n固定运营和维护成本的现值为\n$$\nPV_F \\;=\\; \\sum_{t=1}^{N} \\frac{F}{(1+r)^t}.\n$$\n与发电量成比例增长的可变运营和维护成本的现值为\n$$\nPV_V \\;=\\; \\sum_{t=1}^{N} \\frac{v \\cdot E_t}{(1+r)^t} \\;=\\; v \\cdot \\sum_{t=1}^{N} \\frac{E_t}{(1+r)^t} \\;=\\; v \\cdot PV_E.\n$$\n总成本的现值则为\n$$\nPV_C \\;=\\; I \\;+\\; PV_F \\;+\\; PV_V \\;=\\; I \\;+\\; \\sum_{t=1}^{N} \\frac{F}{(1+r)^t} \\;+\\; v \\cdot \\sum_{t=1}^{N} \\frac{E_t}{(1+r)^t}.\n$$\n\nLCOE 推导：LCOE $L$ 是使收入现值等于成本现值的恒定价格：\n$$\n\\sum_{t=1}^{N} \\frac{L \\cdot E_t}{(1+r)^t} \\;=\\; PV_C.\n$$\n利用求和的线性性质求解 $L$，\n$$\nL \\cdot \\left( \\sum_{t=1}^{N} \\frac{E_t}{(1+r)^t} \\right) \\;=\\; PV_C\n\\;\\;\\Rightarrow\\;\\;\nL \\;=\\; \\frac{PV_C}{PV_E} \\;=\\; \\frac{I + \\sum_{t=1}^{N} \\dfrac{F}{(1+r)^t} + v \\cdot \\sum_{t=1}^{N} \\dfrac{E_t}{(1+r)^t}}{\\sum_{t=1}^{N} \\dfrac{E_t}{(1+r)^t}}.\n$$\n此表达式在 $r \\ge 0$，$CF \\in (0,1]$ 和 $\\delta \\in [0,1)$ 的条件下有定义，单位为美元/兆瓦时。当 $r = 0$ 时，分母因子 $(1+r)^t$ 等于 $1$，求和仍然是良定义的。为确保数值适定性，我们强制 $CF \\ge \\varepsilon$（其中 $\\varepsilon$ 是一个小的正数）和 $0 \\le \\delta \\le 0.3$ 以避免在项目周期内出现近乎完全的衰减。\n\n龙卷风敏感性分析方法：龙卷风图根据参数在对称的低-高扰动下对结果的影响进行排序。对于每个参数 $x \\in \\{I, r, CF, \\delta\\}$，我们使用绝对扰动幅度 $\\Delta x$ 和域限制规则 $I \\ge 0$，$r \\ge 0$，$CF \\in [\\varepsilon, 1]$，$\\delta \\in [0, 0.3]$，通过 $x_{\\mathrm{low}} = \\mathrm{clamp}(x - \\Delta x)$ 和 $x_{\\mathrm{high}} = \\mathrm{clamp}(x + \\Delta x)$ 定义低值和高值。将所有其他参数保持在基准水平，我们计算三个 LCOE 值：基准值 $L_{\\mathrm{base}}$，降低 $x$ 后的 $L_{\\mathrm{low}}(x)$，以及提高 $x$ 后的 $L_{\\mathrm{high}}(x)$。影响幅度定义为绝对值上较大的偏差：\n$$\n\\Delta_x \\;=\\; \\max\\left( \\left| L_{\\mathrm{low}}(x) - L_{\\mathrm{base}} \\right|,\\; \\left| L_{\\mathrm{high}}(x) - L_{\\mathrm{base}} \\right| \\right).\n$$\n排序是按 $\\Delta_x$ 的降序进行，平局由固定顺序 $\\{I, r, CF, \\delta\\}$ 打破以确保确定性。索引 $\\{0,1,2,3\\}$ 分别对应 $\\{I, r, CF, \\delta\\}$。\n\n算法设计：\n- 对于每个测试用例，使用上面定义的总和，其中 $E_t = H \\cdot CF \\cdot (1-\\delta)^{t-1}$ 且贴现因子为 $(1+r)^t$，来计算 $L_{\\mathrm{base}}$。\n- 对于每个参数 $x$，通过限制形成低值和高值，在保持其他参数不变的情况下重新计算 LCOE，并计算 $\\Delta_x$。\n- 按 $\\Delta_x$ 的降序对参数索引进行排序，使用索引顺序作为平局决胜规则。\n- 为每个测试用例返回一个包含四个按序排列索引的列表。\n\n测试用例：\n- 案例 $1$：$(1300000, 0.07, 0.4, 0.01, 25, 35000, 3, 200000, 0.02, 0.05, 0.005)$，\n- 案例 $２$：$(900000, 0.05, 0.25, 0.005, 30, 12000, 1.5, 100000, 0.015, 0.04, 0.004)$，\n- 案例 $３$：$(1000000, 0.12, 0.35, 0.015, 20, 30000, 4, 250000, 0.03, 0.06, 0.007)$，\n- 案例 $４$：$(1100000, 0.0, 0.1, 0.0, 20, 25000, 2, 200000, 0.01, 0.05, 0.002)$。\n\n程序实现了以上内容并输出单行结果：一个列表，其元素是每个案例的索引列表，该索引列表编码了按影响降序排列的龙卷风敏感性排名。输出数据类型是整数列表的列表，不打印任何其他文本。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\nHOURS_PER_YEAR = 8760.0\n\ndef clamp_I(x):\n    return max(0.0, x)\n\ndef clamp_r(x):\n    return max(0.0, x)\n\ndef clamp_CF(x, eps=1e-9):\n    return min(1.0, max(eps, x))\n\ndef clamp_delta(x):\n    # Upper bound at 0.3 to avoid extreme degradation\n    return min(0.3, max(0.0, x))\n\ndef lcoe(I, r, CF, delta, N, F, v):\n    # Compute present value of energy and costs; unit capacity = 1 MW\n    # Annual energy generation with degradation\n    PV_E = 0.0\n    PV_F = 0.0\n    for t in range(1, N + 1):\n        # Energy in MWh for year t\n        E_t = HOURS_PER_YEAR * CF * ((1.0 - delta) ** (t - 1))\n        df = (1.0 + r) ** t  # discount factor\n        PV_E += E_t / df\n        PV_F += F / df\n    PV_C = I + PV_F + v * PV_E\n    # Avoid division by zero (PV_E should be > 0 due to CF clamp)\n    return PV_C / PV_E\n\ndef tornado_ranking(case):\n    # case: (I, r, CF, delta, N, F, v, dI, dr, dCF, ddelta)\n    I, r, CF, delta, N, F, v, dI, dr, dCF, ddelta = case\n\n    # Clamp baseline parameters\n    I  = clamp_I(I)\n    r  = clamp_r(r)\n    CF = clamp_CF(CF)\n    delta = clamp_delta(delta)\n\n    # Compute baseline LCOE\n    L_base = lcoe(I, r, CF, delta, N, F, v)\n\n    impacts = []\n    # Index mapping: 0-I, 1-r, 2-CF, 3-delta\n    # Perturb I\n    I_low  = clamp_I(I - dI)\n    I_high = clamp_I(I + dI)\n    L_low  = lcoe(I_low, r, CF, delta, N, F, v)\n    L_high = lcoe(I_high, r, CF, delta, N, F, v)\n    impacts.append(max(abs(L_low - L_base), abs(L_high - L_base)))\n\n    # Perturb r\n    r_low  = clamp_r(r - dr)\n    r_high = clamp_r(r + dr)\n    L_low  = lcoe(I, r_low, CF, delta, N, F, v)\n    L_high = lcoe(I, r_high, CF, delta, N, F, v)\n    impacts.append(max(abs(L_low - L_base), abs(L_high - L_base)))\n\n    # Perturb CF\n    CF_low  = clamp_CF(CF - dCF)\n    CF_high = clamp_CF(CF + dCF)\n    L_low  = lcoe(I, r, CF_low, delta, N, F, v)\n    L_high = lcoe(I, r, CF_high, delta, N, F, v)\n    impacts.append(max(abs(L_low - L_base), abs(L_high - L_base)))\n\n    # Perturb delta\n    delta_low  = clamp_delta(delta - ddelta)\n    delta_high = clamp_delta(delta + ddelta)\n    L_low  = lcoe(I, r, CF, delta_low, N, F, v)\n    L_high = lcoe(I, r, CF, delta_high, N, F, v)\n    impacts.append(max(abs(L_low - L_base), abs(L_high - L_base)))\n\n    # Rank by decreasing impact; ties broken by index order (stable sort)\n    indices = [0, 1, 2, 3]\n    # Sort by (-impact, index) for deterministic tie-breaking\n    ranked = sorted(indices, key=lambda idx: (-impacts[idx], idx))\n    return ranked\n\ndef solve():\n    # Define the test cases from the problem statement.\n    # Each tuple: (I, r, CF, delta, N, F, v, dI, dr, dCF, ddelta)\n    test_cases = [\n        (1300000.0, 0.07, 0.4, 0.01, 25, 35000.0, 3.0, 200000.0, 0.02, 0.05, 0.005),\n        (900000.0, 0.05, 0.25, 0.005, 30, 12000.0, 1.5, 100000.0, 0.015, 0.04, 0.004),\n        (1000000.0, 0.12, 0.35, 0.015, 20, 30000.0, 4.0, 250000.0, 0.03, 0.06, 0.007),\n        (1100000.0, 0.0, 0.1, 0.0, 20, 25000.0, 2.0, 200000.0, 0.01, 0.05, 0.002),\n    ]\n\n    results = []\n    for case in test_cases:\n        result = tornado_ranking(case)\n        results.append(result)\n\n    # Final print statement in the exact required format.\n    # Print list of lists of integers; ensure no extra spaces for strictness if desired\n    # but default str(list) is acceptable; however we control formatting explicitly.\n    out = \"[\" + \",\".join(\"[\" + \",\".join(str(i) for i in r) + \"]\" for r in results) + \"]\"\n    print(out)\n\nif __name__ == \"__main__\":\n    solve()\n```"
        }
    ]
}