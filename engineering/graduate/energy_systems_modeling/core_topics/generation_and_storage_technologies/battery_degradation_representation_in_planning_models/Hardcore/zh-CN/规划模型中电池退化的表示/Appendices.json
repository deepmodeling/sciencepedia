{
    "hands_on_practices": [
        {
            "introduction": "在实际建模中，电池的总退化通常被分解为几个独立的部分，其中最重要的是日历老化和循环老化。本练习将指导您应用一个简化的、可加性模型，该模型结合了与时间相关的日历退化和与使用相关的循环退化。通过这个计算，您将练习如何根据经验校准的参数来预测电池在特定运行周期后的剩余容量。",
            "id": "4071265",
            "problem": "一个额定容量为 $Q_{0}$ ($\\mathrm{kWh}$) 的电网级锂离子电池储能系统，在一个长期规划模型中，通过使用根据电化学和经验证据校准的简化形式退化组件来表示。该表示方法基于两个经过充分检验的事实：\n- 对于固体电解质界面膜 (SEI) 的扩散限制生长，可循环锂的损失（即容量衰减）与日历时间 $t$ 的平方根成比例；这是菲克输运控制SEI生长速率的结果，产生的厚度 $\\delta(t) \\propto \\sqrt{t}$ 和容量损失 $\\Delta Q_{\\mathrm{cal}}(t) \\propto \\delta(t)$。\n- 在中等放电深度和固定工作条件下进行循环时，每个等效满循环 (EFC) 导致的可循环锂增量损失近似恒定，产生的累计容量损失与 EFC 数量 $N$ 呈线性关系，即 $\\Delta Q_{\\mathrm{cyc}}(N) \\propto N$。其中，一个 EFC 聚合了多次部分循环，其总能量吞吐量等于一次额定的满充满放。\n\n假设在所关注的时间范围内，日历老化和循环老化机制是独立的，并且它们的损失线性相加，其比例常数分别为 $\\alpha$（用于日历时间）和 $\\beta$（用于循环），两者均在电池包级别上进行校准。从这些基本事实出发，推导剩余容量 $Q(t,N)$ 关于 $Q_{0}$、$\\alpha$、$\\beta$、$t$ 和 $N$ 的解析表达式。\n\n然后，使用 $Q_{0}=100\\ \\mathrm{kWh}$、$\\alpha=0.2\\ \\mathrm{kWh}/\\sqrt{\\mathrm{day}}$、$\\beta=0.05\\ \\mathrm{kWh}$ 每 EFC、$t=90\\ \\mathrm{day}$ 和 $N=300$ EFC，计算 $Q(t,N)$ 的数值。最终容量以 $\\mathrm{kWh}$ 为单位表示，并将您的答案四舍五入到四位有效数字。",
            "solution": "首先对问题陈述进行严格的验证过程。\n\n### 步骤1：提取已知条件\n-   额定容量：$Q_{0}$ (单位 $\\mathrm{kWh}$)\n-   日历时间：$t$\n-   等效满循环 (EFC) 次数：$N$\n-   日历容量损失模型：$\\Delta Q_{\\text{cal}}(t) \\propto \\sqrt{t}$\n-   循环容量损失模型：$\\Delta Q_{\\text{cyc}}(N) \\propto N$\n-   假设：日历和循环退化机制是独立的，其损失线性相加。\n-   日历损失的比例常数：$\\alpha$\n-   循环损失的比例常数：$\\beta$\n-   要求推导：剩余容量 $Q(t,N)$ 关于 $Q_{0}$、$\\alpha$、$\\beta$、$t$ 和 $N$ 的解析表达式。\n-   用于计算的数值：\n    -   $Q_{0} = 100\\ \\mathrm{kWh}$\n    -   $\\alpha = 0.2\\ \\mathrm{kWh}/\\sqrt{\\mathrm{day}}$\n    -   $\\beta = 0.05\\ \\mathrm{kWh}$ 每 EFC\n    -   $t = 90\\ \\mathrm{day}$\n    -   $N = 300$ EFC\n-   最终指令：计算 $Q(t,N)$ 的数值，并四舍五入到四位有效数字。\n\n### 步骤2：使用提取的已知条件进行验证\n对问题的有效性进行评估。\n-   **科学依据**：该问题基于已建立但简化的电池退化模型。日历老化的时间平方根依赖性（与扩散限制的SEI层生长相关）以及对等效满循环次数的线性依赖性，是电池建模和能源系统分析领域中标准且广泛使用的近似方法。对于一个简化形式的模型，其前提是科学合理的。\n-   **适定性**：该问题是适定的。它提供了所有必要的信息，包括初始条件($Q_0$)、模型形式($\\propto \\sqrt{t}$, $\\propto N$)、常数($\\alpha, \\beta$)，以及一组清晰的假设（损失机制的独立性和线性可加性），从而能够推导出唯一的解析表达式并计算出相应的数值结果。\n-   **客观性**：该问题以客观、技术性的语言陈述，没有歧义或主观论断。\n\n该问题没有表现出任何诸如科学不合理、不完整、矛盾或结构不适定等缺陷。\n\n### 步骤3：结论与行动\n问题是**有效的**。将推导解答。\n\n电池的剩余容量 $Q(t,N)$ 定义为初始额定容量 $Q_{0}$ 减去总容量损失 $\\Delta Q_{\\text{total}}(t,N)$。\n$$\nQ(t,N) = Q_{0} - \\Delta Q_{\\text{total}}(t,N)\n$$\n问题陈述指出，总损失是独立的日历损失和循环损失分量的线性和。\n$$\n\\Delta Q_{\\text{total}}(t,N) = \\Delta Q_{\\text{cal}}(t) + \\Delta Q_{\\text{cyc}}(N)\n$$\n日历老化引起的容量损失 $\\Delta Q_{\\text{cal}}(t)$ 与时间的平方根成正比，比例常数为 $\\alpha$。\n$$\n\\Delta Q_{\\text{cal}}(t) = \\alpha \\sqrt{t}\n$$\n循环引起的容量损失 $\\Delta Q_{\\text{cyc}}(N)$ 与等效满循环次数成正比，比例常数为 $\\beta$。\n$$\n\\Delta Q_{\\text{cyc}}(N) = \\beta N\n$$\n将这些表达式代入总损失方程，得到：\n$$\n\\Delta Q_{\\text{total}}(t,N) = \\alpha \\sqrt{t} + \\beta N\n$$\n因此，剩余容量 $Q(t,N)$ 的解析表达式为：\n$$\nQ(t,N) = Q_{0} - (\\alpha \\sqrt{t} + \\beta N)\n$$\n这是要求解答的第一部分。\n\n对于第二部分，我们将给定的数值代入此表达式。给定的值为：\n$Q_{0} = 100\\ \\mathrm{kWh}$\n$\\alpha = 0.2\\ \\mathrm{kWh}/\\sqrt{\\mathrm{day}}$\n$\\beta = 0.05\\ \\mathrm{kWh}$ 每 EFC\n$t = 90\\ \\mathrm{day}$\n$N = 300$ EFC\n\n首先，我们计算日历损失分量：\n$$\n\\Delta Q_{\\text{cal}}(90) = \\alpha \\sqrt{t} = 0.2 \\cdot \\sqrt{90}\n$$\n由于 $\\sqrt{90} = \\sqrt{9 \\cdot 10} = 3\\sqrt{10}$，这变为：\n$$\n\\Delta Q_{\\text{cal}}(90) = 0.2 \\cdot 3\\sqrt{10} = 0.6\\sqrt{10}\\ \\mathrm{kWh}\n$$\n接下来，我们计算循环损失分量：\n$$\n\\Delta Q_{\\text{cyc}}(300) = \\beta N = 0.05 \\cdot 300 = 15\\ \\mathrm{kWh}\n$$\n总容量损失是这两个分量之和：\n$$\n\\Delta Q_{\\text{total}}(90, 300) = (0.6\\sqrt{10} + 15)\\ \\mathrm{kWh}\n$$\n则剩余容量为：\n$$\nQ(90, 300) = Q_{0} - \\Delta Q_{\\text{total}}(90, 300) = 100 - (0.6\\sqrt{10} + 15)\n$$\n$$\nQ(90, 300) = 85 - 0.6\\sqrt{10}\\ \\mathrm{kWh}\n$$\n为了求出数值，我们近似 $\\sqrt{10} \\approx 3.16227766$：\n$$\nQ(90, 300) \\approx 85 - 0.6 \\cdot 3.16227766\n$$\n$$\nQ(90, 300) \\approx 85 - 1.897366596\n$$\n$$\nQ(90, 300) \\approx 83.102633404\\ \\mathrm{kWh}\n$$\n问题要求将答案四舍五入到四位有效数字。前四位有效数字是 $8$、$3$、$1$ 和 $0$。第五位数字是 $2$，所以我们向下舍入。\n$$\nQ(90, 300) \\approx 83.10\\ \\mathrm{kWh}\n$$",
            "answer": "$$\\boxed{83.10}$$"
        },
        {
            "introduction": "为了在能源系统规划中进行成本效益分析，必须将物理上的电池磨损转化为经济成本。这个练习演示了如何将电池的总更换成本摊销到其整个使用寿命中，从而得出一个线性的边际退化成本（以美元/兆瓦时为单位）。这种方法对于在优化模型中将退化作为运营成本进行内部化至关重要。",
            "id": "4071287",
            "problem": "一个容量扩展规划模型试图通过为每单位放电能量分配一个线性的边际退化成本来内化电池损耗。假设一种锂离子电池技术，其寿命由与 Palmgren–Miner 法则（常称为 Miner 法则）一致的线性累积损伤所决定：累积损伤 $D$ 随每次应力事件加性累积，当 $D=1$ 时，该资产达到其寿命终点。在基于循环寿命的表示方法中，将等效满充满放循环（EFC）定义为释放的能量等于其额定能量容量 $E_{\\mathrm{nom}}$；在线性损伤模型下，一个 EFC 造成的损伤为 $1/N_{\\mathrm{EFC}}$，其中 $N_{\\mathrm{EFC}}$ 是达到寿命终点前的 EFC 次数。设寿命终点时的重置成本 $C_{\\mathrm{rep}}$ 为长期规划中使用的现值成本。假设日历老化可忽略不计，往返效率对损伤计算的影响被忽略（即，损伤与在电池输出端测量的放电能量成比例），并且部分循环的放电能量可线性累加计入 EFC。\n\n仅从这些定义和假设出发，推导每单位放电能量的边际退化成本 $\\lambda_{\\mathrm{MWh}}$ 作为 $C_{\\mathrm{rep}}$、$E_{\\mathrm{nom}}$ 和 $N_{\\mathrm{EFC}}$ 的函数。然后，对于一个 $E_{\\mathrm{nom}}=100\\ \\mathrm{kWh}$，$N_{\\mathrm{EFC}}=4{,}000$ 且 $C_{\\mathrm{rep}}=\\$100{,}000$ 的电池，计算 $\\lambda_{\\mathrm{MWh}}$ 的值。以美元/兆瓦时为单位表示最终答案。如果结果不是整数，则将答案四舍五入到四位有效数字。",
            "solution": "该问题要求基于线性累积损伤模型，推导电池每单位放电能量的边际退化成本。推导之后，必须针对一组特定参数进行数值计算。\n\n首先，我们验证问题陈述的有效性。\n**步骤1：提取已知条件**\n-   损伤累积模型：Palmgren–Miner 法则（线性累积损伤）。\n-   损伤变量：$D$。\n-   寿命终点条件：$D=1$。\n-   循环定义：一个等效满充满放循环（EFC）是释放的能量等于其额定能量容量 $E_{\\mathrm{nom}}$。\n-   每个 EFC 的损伤：一个 EFC 造成的损伤是 $1/N_{\\mathrm{EFC}}$。\n-   到达寿命终点的总循环次数：$N_{\\mathrm{EFC}}$。\n-   重置成本：$C_{\\mathrm{rep}}$ 是寿命终点时重置的现值成本。\n-   假设：日历老化可忽略不计；往返效率对损伤计算的影响被忽略；部分循环线性累加。\n-   推导用变量：$C_{\\mathrm{rep}}$、$E_{\\mathrm{nom}}$、$N_{\\mathrm{EFC}}$。\n-   计算用数值：$E_{\\mathrm{nom}}=100\\ \\mathrm{kWh}$，$N_{\\mathrm{EFC}}=4,000$，$C_{\\mathrm{rep}}=\\$100,000$。\n-   目标变量：$\\lambda_{\\mathrm{MWh}}$，以美元/兆瓦时为单位的边际退化成本。\n-   四舍五入：如果结果不是整数，则四舍五入到四位有效数字。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题具有科学依据，采用标准的工程模型（线性累积损伤）进行寿命评估，该模型因其简单性和易处理性而在能源系统建模中很常用。问题提法恰当，提供了推导唯一解所需的所有信息。所用术语在该领域内是客观和精确的。假设被明确陈述且前后一致。数值对于电池储能系统而言在物理上是合理的。因此，该问题是有效的。\n\n**步骤3：推导与求解**\n核心原理是将总重置成本 $C_{\\mathrm{rep}}$ 摊销到电池在其整个寿命周期内提供的总服务量上。该服务量以总放电能量来衡量。\n\n电池在达到其寿命终点前可以提供的等效满充满放循环（EFC）总次数为 $N_{\\mathrm{EFC}}$。根据定义，一个 EFC 对应于等于电池额定能量容量 $E_{\\mathrm{nom}}$ 的总放电能量。\n\n因此，电池在其整个运行寿命内可以释放的总能量 $E_{\\mathrm{total}}$ 是 EFC 次数与每个 EFC 的放电能量的乘积：\n$$\nE_{\\mathrm{total}} = N_{\\mathrm{EFC}} \\times E_{\\mathrm{nom}}\n$$\n问题陈述该模型使用线性的边际退化成本。这意味着每单位放电能量对总损耗成本的贡献是相等的。需要摊销的总成本是重置成本 $C_{\\mathrm{rep}}$。边际退化成本（我们记为 $\\lambda$）是这个总成本线性地分配到总放电能量上。\n\n因此，每单位能量的边际成本为：\n$$\n\\lambda = \\frac{\\text{总成本}}{\\text{总放电能量}} = \\frac{C_{\\mathrm{rep}}}{E_{\\mathrm{total}}}\n$$\n代入 $E_{\\mathrm{total}}$ 的表达式，我们得到边际成本作为给定参数的函数：\n$$\n\\lambda = \\frac{C_{\\mathrm{rep}}}{N_{\\mathrm{EFC}} E_{\\mathrm{nom}}}\n$$\n参数的单位是：$C_{\\mathrm{rep}}$ 以美元（$）为单位，$N_{\\mathrm{EFC}}$ 是无量纲量（循环次数），$E_{\\mathrm{nom}}$ 以千瓦时（kWh）为单位。因此，推导出的边际成本 $\\lambda$ 的单位是美元/千瓦时（$/\\mathrm{kWh}$）。\n\n问题要求最终答案 $\\lambda_{\\mathrm{MWh}}$ 以美元/兆瓦时（$/\\mathrm{MWh}$）为单位。我们使用换算因子 $1 \\ \\mathrm{MWh} = 1000 \\ \\mathrm{kWh}$。为了从 $\\$/\\mathrm{kWh}$ 转换为 $\\$/\\mathrm{MWh}$，我们需要乘以 $1000$：\n$$\n\\lambda_{\\mathrm{MWh}} \\left[\\frac{\\$}{\\mathrm{MWh}}\\right] = \\lambda \\left[\\frac{\\$}{\\mathrm{kWh}}\\right] \\times \\frac{1000 \\ \\mathrm{kWh}}{1 \\ \\mathrm{MWh}}\n$$\n所以，所需单位的边际退化成本的符号表达式是：\n$$\n\\lambda_{\\mathrm{MWh}} = 1000 \\times \\frac{C_{\\mathrm{rep}}}{N_{\\mathrm{EFC}} E_{\\mathrm{nom}}}\n$$\n这是所需答案的第一部分。\n\n接下来，我们使用提供的数据计算 $\\lambda_{\\mathrm{MWh}}$ 的数值：\n-   $C_{\\mathrm{rep}} = \\$100,000$\n-   $N_{\\mathrm{EFC}} = 4,000$\n-   $E_{\\mathrm{nom}} = 100 \\ \\mathrm{kWh}$\n\n首先，我们计算寿命期总能量吞吐量 $E_{\\mathrm{total}}$：\n$$\nE_{\\mathrm{total}} = N_{\\mathrm{EFC}} \\times E_{\\mathrm{nom}} = 4,000 \\times 100 \\ \\mathrm{kWh} = 400,000 \\ \\mathrm{kWh}\n$$\n现在，我们计算以 $\\$/\\mathrm{kWh}$ 为单位的边际成本：\n$$\n\\lambda = \\frac{C_{\\mathrm{rep}}}{E_{\\mathrm{total}}} = \\frac{\\$100,000}{400,000 \\ \\mathrm{kWh}} = 0.25\\ \\$/\\mathrm{kWh}\n$$\n最后，我们将这个值转换为 $\\$/\\mathrm{MWh}$：\n$$\n\\lambda_{\\mathrm{MWh}} = 0.25 \\ \\frac{\\$}{\\mathrm{kWh}} \\times \\frac{1000 \\ \\mathrm{kWh}}{1 \\ \\mathrm{MWh}} = 250\\ \\$/\\mathrm{MWh}\n$$\n或者，使用组合公式：\n$$\n\\lambda_{\\mathrm{MWh}} = 1000 \\times \\frac{100,000}{4,000 \\times 100} = 1000 \\times \\frac{100,000}{400,000} = 1000 \\times 0.25 = 250\n$$\n结果 250 是一个整数。因此，四舍五入规则不适用。边际退化成本为 250 美元/兆瓦时。",
            "answer": "$$\\boxed{250}$$"
        },
        {
            "introduction": "并非所有充放电循环都对电池造成同等程度的损害；循环的深度和速率起着关键作用。本练习通过比较两个具有相同总能量吞吐量但功率曲线不同的调度方案，来阐明这一关键点。使用凸二次磨损函数，您将量化更高峰值功率对电池退化的不成比例的影响，从而理解为何先进的规划模型需要超越简单的循环计数。",
            "id": "4071253",
            "problem": "在一个离散时间规划框架中，对一个并网锂离子电池进行建模，其时间步长为 $\\Delta t$，能量容量为 $E$，并具有完美的往返效率（无损耗）。荷电状态 $s_t$ 根据以下核心定义演变\n$$\ns_{t+1} = s_{t} + \\frac{\\Delta t}{E} P_{t},\n$$\n其中 $P_{t}$ 是时间 $t$ 的有功功率，充电时（能量流入电池）取正值，放电时（能量流出电池）取负值。将时间 $t$ 的增量归一化循环深度定义为\n$$\nC_r(t) = |\\Delta s_{t}| = \\left|\\frac{\\Delta t}{E} P_{t}\\right|.\n$$\n在规划模型中，一个广泛用于表示循环引起损耗的凸代理函数通过以下方式随时间累加：\n$$\nW = \\sum_{t} g\\big(C_r(t)\\big),\n$$\n其中循环应力函数为二次函数 $g(C_r) = C_r^{2}$。\n\n考虑在一个时间范围内，时间步长 $\\Delta t = 0.5\\ \\text{h}$、电池能量容量 $E = 100\\ \\text{kWh}$ 的两个 $T=8$ 个周期的调度方案。初始荷电状态为 $s_{0} = 0.5$，功率限制使得两个方案都是可行的。两个候选功率调度方案如下：\n\n- 方案 A（低峰值，更频繁的循环）：\n  $P = \\big[+50,\\,-50,\\,+50,\\,-50,\\,+50,\\,-50,\\,+50,\\,-50\\big]\\,\\text{kW}$。\n\n- 方案 B（高峰值，更稀疏的循环）：\n  $P = \\big[+100,\\,-100,\\,0,\\,0,\\,+100,\\,-100,\\,0,\\,0\\big]\\,\\text{kW}$。\n\n两种方案具有相同的总绝对能量吞吐量 $\\sum_{t=1}^{8} |P_{t}|\\,\\Delta t$，但峰值 $|P_{t}|$ 不同。\n\n仅使用上述定义，计算在 $g(C_r)=C_r^{2}$ 条件下，方案 A 和方案 B 的总损耗 $W_A$ 和 $W_B$ 之间的差异 $\\Delta W \\equiv W_B - W_A$。将最终的损耗差异表示为小数（无量纲）。提供一个精确值（无需四舍五入）。",
            "solution": "该问题要求计算两个功率调度方案 A 和 B 之间的总损耗差异 $\\Delta W \\equiv W_B - W_A$。总损耗 $W$ 定义为循环应力函数 $g(C_r)$ 随时间的总和，该函数取决于增量归一化循环深度 $C_r(t)$。\n\n给出的主要定义如下：\n1.  增量归一化循环深度：$C_r(t) = |\\Delta s_{t}| = \\left|\\frac{\\Delta t}{E} P_{t}\\right|$\n2.  总损耗：$W = \\sum_{t} g(C_r(t))$\n3.  循环应力函数：$g(C_r) = C_r^{2}$\n\n提供的常数是时间步长 $\\Delta t = 0.5\\ \\text{h}$ 和电池能量容量 $E = 100\\ \\text{kWh}$。我们可以预先计算用于确定循环深度的常数因子：\n$$\n\\frac{\\Delta t}{E} = \\frac{0.5\\ \\text{h}}{100\\ \\text{kWh}} = 0.005\\ \\text{kW}^{-1}\n$$\n该因子乘以以 $\\text{kW}$ 为单位的功率 $P_{t}$ 后，可得出无量纲量 $C_r(t)$。\n\n首先，我们计算方案 A 的总损耗，记为 $W_A$。\n方案 A 的功率调度在 $T=8$ 个周期内以向量形式给出：\n$$\nP_A = \\big[+50,\\,-50,\\,+50,\\,-50,\\,+50,\\,-50,\\,+50,\\,-50\\big]\\,\\text{kW}\n$$\n对于从 $1$ 到 $8$ 的每个时间步 $t$，功率的幅值是恒定的：$|P_{t}| = 50\\ \\text{kW}$。\n我们可以计算方案 A 在任何时间步 $t$ 的增量归一化循环深度：\n$$\nC_{r,A}(t) = \\left|\\frac{\\Delta t}{E} P_{t}\\right| = \\left|0.005\\ \\text{kW}^{-1} \\times (\\pm 50\\ \\text{kW})\\right| = |\\pm 0.25| = 0.25\n$$\n由于对于所有 $t \\in \\{1, \\dots, 8\\}$，$C_{r,A}(t)$ 是恒定的，所以循环应力 $g(C_{r,A}(t))$ 也是恒定的：\n$$\ng(C_{r,A}(t)) = \\left(C_{r,A}(t)\\right)^2 = (0.25)^2 = 0.0625\n$$\n方案 A 的总损耗是这 $8$ 个时间步长内这些值的总和：\n$$\nW_A = \\sum_{t=1}^{8} g(C_{r,A}(t)) = 8 \\times 0.0625 = 0.5\n$$\n\n接下来，我们计算方案 B 的总损耗，记为 $W_B$。\n方案 B 的功率调度是：\n$$\nP_B = \\big[+100,\\,-100,\\,0,\\,0,\\,+100,\\,-100,\\,0,\\,0\\big]\\,\\text{kW}\n$$\n我们必须计算每个时间步的循环深度。\n对于 $t \\in \\{1, 2, 5, 6\\}$，功率幅值为 $|P_{t}| = 100\\ \\text{kW}$。循环深度为：\n$$\nC_{r,B}(t) = \\left|\\frac{\\Delta t}{E} P_{t}\\right| = \\left|0.005\\ \\text{kW}^{-1} \\times (\\pm 100\\ \\text{kW})\\right| = |\\pm 0.5| = 0.5\n$$\n对于这些时间步，循环应力为：\n$$\ng(C_{r,B}(t)) = (0.5)^2 = 0.25\n$$\n对于 $t \\in \\{3, 4, 7, 8\\}$，功率为 $P_{t} = 0\\ \\text{kW}$。循环深度为：\n$$\nC_{r,B}(t) = \\left|\\frac{\\Delta t}{E} \\times 0\\right| = 0\n$$\n对于这些时间步，循环应力为：\n$$\ng(C_{r,B}(t)) = (0)^2 = 0\n$$\n方案 B 的总损耗是这 $8$ 个周期内循环应力的总和。其中有 $4$ 个非零项和 $4$ 个零项：\n$$\nW_B = \\sum_{t=1}^{8} g(C_{r,B}(t)) = (4 \\times 0.25) + (4 \\times 0) = 1.0\n$$\n\n最后，我们计算总损耗的差异，$\\Delta W = W_B - W_A$。\n$$\n\\Delta W = 1.0 - 0.5 = 0.5\n$$\n结果表明，即使总能量吞吐量相同，根据凸二次损耗模型，具有更高峰值功率（因此单个循环更深）的方案也会导致更大的损耗。这证明了在规划模型中使用此类函数以激励更平滑的电池运行是合理的。",
            "answer": "$$\\boxed{0.5}$$"
        }
    ]
}