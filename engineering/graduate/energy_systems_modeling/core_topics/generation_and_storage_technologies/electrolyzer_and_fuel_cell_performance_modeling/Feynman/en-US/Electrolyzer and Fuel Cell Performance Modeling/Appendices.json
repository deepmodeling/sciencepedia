{
    "hands_on_practices": [
        {
            "introduction": "A cornerstone of performance modeling is the ability to deconstruct overall voltage loss into its constituent parts, primarily ohmic, activation, and mass transport losses. This exercise introduces a powerful diagnostic approach using a simplified Randles equivalent circuit, which models the electrode interface with a resistor $R_{\\mathrm{ct}}$ for charge-transfer kinetics in parallel with a capacitor $C_{\\mathrm{dl}}$ for double-layer charging, all in series with an ohmic resistance $R_{\\mathrm{ohm}}$. By simulating fundamental electrochemical techniques—current interrupt and Electrochemical Impedance Spectroscopy (EIS)—you will derive the direct relationships between experimental signatures and these key model parameters, providing a practical framework for diagnosing cell health and degradation .",
            "id": "4087792",
            "problem": "Design a computational diagnostic protocol for a single cell in an electrolyzer or fuel cell that uses current interrupt and Electrochemical Impedance Spectroscopy (EIS) to separate ohmic and activation losses and to compute the expected signatures for healthy versus degraded behavior. Start from first principles: Ohm’s law for bulk conduction, conservation of charge at the electrode–electrolyte interface, and linearization of interfacial kinetics around a steady operating point leading to a small-signal charge-transfer resistance and a double-layer capacitance. Assume that the cell can be represented, near a given operating point, by a series ohmic resistance and an interfacial parallel branch capturing activation and capacitive effects. Do not assume any mass-transport elements in this task.\n\nUsing only the above foundational assumptions, derive expressions that connect the following observables to the underlying parameters: the immediate voltage jump upon a current interrupt, the subsequent relaxation time constant, the high-frequency real-axis intercept of the impedance spectrum, the diameter of the high-frequency semicircle in the Nyquist plot, and the characteristic frequency of that semicircle.\n\nThen, implement a program that computes, for each test case, the following outputs in this exact order:\n- The immediate ohmic voltage drop upon interrupt, in volts (V).\n- The relaxation time constant of the activation overpotential decay, in seconds (s).\n- The high-frequency real-axis intercept of the impedance spectrum, in ohms ($\\Omega$).\n- The diameter of the high-frequency semicircle in the Nyquist plot, in ohms ($\\Omega$).\n- The characteristic frequency of that semicircle, in hertz (Hz).\n- A degradation classification flag as an integer: output $1$ if any of the following hold, otherwise $0$: series ohmic resistance strictly greater than threshold $R_{\\mathrm{ohm,th}}$, or charge-transfer resistance strictly greater than threshold $R_{\\mathrm{ct,th}}$, or double-layer capacitance strictly less than threshold $C_{\\mathrm{dl,th}}$.\n\nUse the following thresholds for classification:\n- $R_{\\mathrm{ohm,th}} = 0.03~\\Omega$,\n- $R_{\\mathrm{ct,th}} = 0.30~\\Omega$,\n- $C_{\\mathrm{dl,th}} = 0.80~\\mathrm{F}$.\n\nFor each test case, you are given the tuple $\\left(I_0, R_{\\mathrm{ohm}}, R_{\\mathrm{ct}}, C_{\\mathrm{dl}}\\right)$, where $I_0$ is the operating current immediately prior to interrupt, $R_{\\mathrm{ohm}}$ is the series ohmic resistance, $R_{\\mathrm{ct}}$ is the charge-transfer resistance obtained from linearizing interfacial kinetics, and $C_{\\mathrm{dl}}$ is the double-layer capacitance. Assume a current step from $I_0$ to $0$ at $t=0$.\n\nTest suite (four cases):\n- Case A (healthy nominal): $\\left(10.0~\\mathrm{A}, 0.02~\\Omega, 0.10~\\Omega, 1.0~\\mathrm{F}\\right)$.\n- Case B (degraded ohmic and kinetics): $\\left(10.0~\\mathrm{A}, 0.04~\\Omega, 0.40~\\Omega, 0.5~\\mathrm{F}\\right)$.\n- Case C (kinetics-limited): $\\left(5.0~\\mathrm{A}, 0.02~\\Omega, 1.00~\\Omega, 2.0~\\mathrm{F}\\right)$.\n- Case D (nearly ohmic): $\\left(20.0~\\mathrm{A}, 0.015~\\Omega, 0.02~\\Omega, 1.5~\\mathrm{F}\\right)$.\n\nYour program must compute the outputs for each case in the specified order, round each real-valued output to exactly $6$ decimal places, and express them in the specified units: volts (V) for voltages, ohms ($\\Omega$) for resistances, seconds (s) for time constants, and hertz (Hz) for frequencies. The degradation flag must be an integer $0$ or $1$.\n\nFinal output format: Your program should produce a single line of output containing a comma-separated list of per-case results enclosed in square brackets, where each per-case result is itself a list in the order specified above. For example, a valid shape is\n$[\\,[x_{1,1},x_{1,2},\\dots],[x_{2,1},x_{2,2},\\dots],\\dots\\,]$.",
            "solution": "The electrochemical cell is modeled by an equivalent electrical circuit consisting of a series ohmic resistance, $R_{\\mathrm{ohm}}$, and a parallel combination of a charge-transfer resistance, $R_{\\mathrm{ct}}$, and a double-layer capacitance, $C_{\\mathrm{dl}}$. The total voltage across the cell, $V(t)$, is the sum of the voltage drop across the ohmic resistor, $V_{\\mathrm{ohm}}(t)$, and the voltage across the parallel RC element, which represents the activation overpotential, $\\eta_{\\mathrm{act}}(t)$.\n$$V(t) = V_{\\mathrm{ohm}}(t) + \\eta_{\\mathrm{act}}(t) = I(t)R_{\\mathrm{ohm}} + \\eta_{\\mathrm{act}}(t)$$\nwhere $I(t)$ is the total current flowing through the cell. The current through the parallel RC element, $I_{\\mathrm{F}}(t)$ (faradaic current through $R_{\\mathrm{ct}}$) and $I_{\\mathrm{C}}(t)$ (capacitive current through $C_{\\mathrm{dl}}$), partitions such that $I(t) = I_{\\mathrm{F}}(t) + I_{\\mathrm{C}}(t)$. By definition, $I_{\\mathrm{F}}(t) = \\eta_{\\mathrm{act}}(t) / R_{\\mathrm{ct}}$ and $I_{\\mathrm{C}}(t) = C_{\\mathrm{dl}} \\frac{d\\eta_{\\mathrm{act}}(t)}{dt}$.\n\nWe will derive the required outputs by analyzing the two specified experimental techniques: current interrupt and Electrochemical Impedance Spectroscopy (EIS).\n\n**1. Current Interrupt Analysis**\n\nIn a current interrupt experiment, a steady-state operating current is abruptly cut off. We are given that the current $I(t)$ steps from a constant value $I_0$ to $0$ at time $t=0$.\n\n- **Steady State ($t < 0$)**: The cell operates under a constant DC current $I_0$. In this steady state, the capacitor acts as an open circuit ($d\\eta_{\\mathrm{act}}/dt = 0$), so no current flows through $C_{\\mathrm{dl}}$. The entire current $I_0$ flows through both $R_{\\mathrm{ohm}}$ and $R_{\\mathrm{ct}}$. The initial cell voltage is:\n  $$V(t<0) = V_0 = I_0 R_{\\mathrm{ohm}} + I_0 R_{\\mathrm{ct}}$$\n  The initial activation overpotential is $\\eta_{\\mathrm{act}}(t<0) = I_0 R_{\\mathrm{ct}}$.\n\n- **Instantaneous Response ($t = 0^+$)**: At the moment the current is interrupted ($I(t=0^+) = 0$), two things happen:\n  1. The voltage drop across the ohmic resistor, $V_{\\mathrm{ohm}}(t) = I(t) R_{\\mathrm{ohm}}$, instantaneously drops to $0$ because the current becomes $0$.\n  2. The voltage across the capacitor, $\\eta_{\\mathrm{act}}(t)$, cannot change instantaneously because this would require an infinite current to change the stored charge. Therefore, the activation overpotential just after the interrupt is the same as just before: $\\eta_{\\mathrm{act}}(t=0^+) = \\eta_{\\mathrm{act}}(t=0^-) = I_0 R_{\\mathrm{ct}}$.\n  The total cell voltage at $t=0^+$ is $V(t=0^+) = I(t=0^+)R_{\\mathrm{ohm}} + \\eta_{\\mathrm{act}}(t=0^+) = 0 \\cdot R_{\\mathrm{ohm}} + I_0 R_{\\mathrm{ct}} = I_0 R_{\\mathrm{ct}}$.\n\n- **Output 1: Immediate Ohmic Voltage Drop**: The immediate voltage drop upon interrupt is the difference in voltage caused by the ohmic component. This is the change in $V_{\\mathrm{ohm}}(t)$ from $t=0^-$ to $t=0^+$, which is $\\Delta V_{\\mathrm{ohm}} = V_{\\mathrm{ohm}}(0^-) - V_{\\mathrm{ohm}}(0^+) = I_0 R_{\\mathrm{ohm}} - 0 = I_0 R_{\\mathrm{ohm}}$.\n  $$\\Delta V_{\\mathrm{ohm, drop}} = I_0 R_{\\mathrm{ohm}}$$\n\n- **Relaxation Response ($t > 0$)**: For $t>0$, the total external current is $I(t)=0$. The overpotential $\\eta_{\\mathrm{act}}(t)$ now decays as the charge stored in the double-layer capacitor $C_{\\mathrm{dl}}$ discharges through the charge-transfer resistor $R_{\\mathrm{ct}}$. Applying Kirchhoff's current law to the internal RC loop gives:\n  $$\\frac{\\eta_{\\mathrm{act}}(t)}{R_{\\mathrm{ct}}} + C_{\\mathrm{dl}} \\frac{d\\eta_{\\mathrm{act}}(t)}{dt} = 0$$\n  This is a first-order linear homogeneous differential equation. The solution is of the form $\\eta_{\\mathrm{act}}(t) = A e^{-t/\\tau}$. The time constant $\\tau$ is identified from the equation as $\\tau = R_{\\mathrm{ct}} C_{\\mathrm{dl}}$. The activation overpotential decays exponentially from its initial value $\\eta_{\\mathrm{act}}(0) = I_0 R_{\\mathrm{ct}}$.\n\n- **Output 2: Relaxation Time Constant**: The time constant of this exponential decay is given by the product of the resistance and capacitance of the discharging circuit.\n  $$\\tau = R_{\\mathrm{ct}} C_{\\mathrm{dl}}$$\n\n**2. Electrochemical Impedance Spectroscopy (EIS) Analysis**\n\nEIS measures the impedance of the cell, $Z(\\omega) = V(\\omega)/I(\\omega)$, as a function of angular frequency $\\omega = 2\\pi f$. For the given circuit model, the total impedance is the sum of the series resistance and the impedance of the parallel RC element.\n\nThe impedance of the parallel $R_{\\mathrm{ct}}$-$C_{\\mathrm{dl}}$ sub-circuit, $Z_{\\mathrm{RC}}(\\omega)$, is:\n$$Z_{\\mathrm{RC}}(\\omega) = \\left( \\frac{1}{R_{\\mathrm{ct}}} + \\frac{1}{1/(j\\omega C_{\\mathrm{dl}})} \\right)^{-1} = \\left( \\frac{1}{R_{\\mathrm{ct}}} + j\\omega C_{\\mathrm{dl}} \\right)^{-1} = \\frac{R_{\\mathrm{ct}}}{1 + j\\omega R_{\\mathrm{ct}} C_{\\mathrm{dl}}}$$\nThe total cell impedance is:\n$$Z_{\\mathrm{cell}}(\\omega) = R_{\\mathrm{ohm}} + Z_{\\mathrm{RC}}(\\omega) = R_{\\mathrm{ohm}} + \\frac{R_{\\mathrm{ct}}}{1 + j\\omega R_{\\mathrm{ct}} C_{\\mathrm{dl}}}$$\nTo analyze the Nyquist plot ($-Z_{\\mathrm{imag}}$ vs. $Z_{\\mathrm{real}}$), we separate the impedance into its real and imaginary parts by multiplying the numerator and denominator of the second term by its complex conjugate:\n$$Z_{\\mathrm{cell}}(\\omega) = R_{\\mathrm{ohm}} + \\frac{R_{\\mathrm{ct}}(1 - j\\omega R_{\\mathrm{ct}} C_{\\mathrm{dl}})}{1 + (\\omega R_{\\mathrm{ct}} C_{\\mathrm{dl}})^2} = \\left( R_{\\mathrm{ohm}} + \\frac{R_{\\mathrm{ct}}}{1 + (\\omega R_{\\mathrm{ct}} C_{\\mathrm{dl}})^2} \\right) - j \\left( \\frac{\\omega R_{\\mathrm{ct}}^2 C_{\\mathrm{dl}}}{1 + (\\omega R_{\\mathrm{ct}} C_{\\mathrm{dl}})^2} \\right)$$\nSo, $Z_{\\mathrm{real}}(\\omega) = R_{\\mathrm{ohm}} + \\frac{R_{\\mathrm{ct}}}{1 + (\\omega R_{\\mathrm{ct}} C_{\\mathrm{dl}})^2}$ and $Z_{\\mathrm{imag}}(\\omega) = -\\frac{\\omega R_{\\mathrm{ct}}^2 C_{\\mathrm{dl}}}{1 + (\\omega R_{\\mathrm{ct}} C_{\\mathrm{dl}})^2}$.\n\n- **Output 3: High-Frequency Real-Axis Intercept**: In the high-frequency limit ($\\omega \\to \\infty$), the capacitor's impedance ($1/(j\\omega C_{\\mathrm{dl}})$) approaches $0$, effectively shorting out the charge-transfer resistor $R_{\\mathrm{ct}}$.\n  $$\\lim_{\\omega \\to \\infty} Z_{\\mathrm{cell}}(\\omega) = R_{\\mathrm{ohm}} + \\frac{R_{\\mathrm{ct}}}{1 + j(\\infty)} = R_{\\mathrm{ohm}}$$\n  The high-frequency intercept on the real axis of the Nyquist plot is therefore $R_{\\mathrm{ohm}}$.\n\n- **Output 4: Diameter of the High-Frequency Semicircle**: In the low-frequency limit ($\\omega \\to 0$), the capacitor's impedance approaches infinity, acting as an open circuit. The impedance becomes purely real:\n  $$\\lim_{\\omega \\to 0} Z_{\\mathrm{cell}}(\\omega) = R_{\\mathrm{ohm}} + \\frac{R_{\\mathrm{ct}}}{1 + j(0)} = R_{\\mathrm{ohm}} + R_{\\mathrm{ct}}$$\n  This is the low-frequency real-axis intercept. The Nyquist plot for this circuit is a semicircle that starts at $R_{\\mathrm{ohm}}$ (high frequency) and ends at $R_{\\mathrm{ohm}} + R_{\\mathrm{ct}}$ (low frequency). The diameter of this semicircle is the difference between these two intercepts.\n  $$\\mathrm{Diameter} = (R_{\\mathrm{ohm}} + R_{\\mathrm{ct}}) - R_{\\mathrm{ohm}} = R_{\\mathrm{ct}}$$\n\n- **Output 5: Characteristic Frequency**: The characteristic frequency, $f_{\\mathrm{char}}$, is the frequency at the apex of the semicircle, where the magnitude of the imaginary part, $|Z_{\\mathrm{imag}}(\\omega)|$, is maximal. Let $\\tau = R_{\\mathrm{ct}} C_{\\mathrm{dl}}$. We want to maximize $|Z_{\\mathrm{imag}}(\\omega)| = \\frac{\\omega \\tau R_{\\mathrm{ct}}}{1 + (\\omega \\tau)^2}$. Taking the derivative with respect to $\\omega$ and setting it to zero yields that the maximum occurs when $\\omega \\tau = 1$. The characteristic angular frequency is $\\omega_{\\mathrm{char}} = 1/\\tau = 1/(R_{\\mathrm{ct}} C_{\\mathrm{dl}})$. The problem asks for the frequency in Hertz ($f$), where $\\omega = 2\\pi f$.\n  $$f_{\\mathrm{char}} = \\frac{\\omega_{\\mathrm{char}}}{2\\pi} = \\frac{1}{2\\pi R_{\\mathrm{ct}} C_{\\mathrm{dl}}}$$\n\n**3. Degradation Classification**\n\nThe degradation flag is an integer indicator based on whether the cell's parameters exceed specified thresholds, which signify performance loss. Ohmic resistance and charge-transfer resistance increase with degradation (e.g., due to contact loss, membrane drying, or catalyst poisoning), while double-layer capacitance often decreases (e.g., due to loss of active surface area).\n\n- **Output 6: Degradation Classification Flag**: The flag is set to $1$ if any of the following conditions are met, and $0$ otherwise:\n  - $R_{\\mathrm{ohm}} > R_{\\mathrm{ohm,th}} = 0.03~\\Omega$\n  - $R_{\\mathrm{ct}} > R_{\\mathrm{ct,th}} = 0.30~\\Omega$\n  - $C_{\\mathrm{dl}}  C_{\\mathrm{dl,th}} = 0.80~\\mathrm{F}$\n\nThese derived expressions will be implemented to compute the required outputs for the given test cases.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes diagnostic outputs for an electrochemical cell model based on\n    current interrupt and EIS analysis, and classifies its degradation state.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    # Each case is a tuple: (I0 (A), R_ohm (Ohm), R_ct (Ohm), C_dl (F))\n    test_cases = [\n        (10.0, 0.02, 0.10, 1.0),   # Case A (healthy nominal)\n        (10.0, 0.04, 0.40, 0.5),   # Case B (degraded ohmic and kinetics)\n        (5.0, 0.02, 1.00, 2.0),   # Case C (kinetics-limited)\n        (20.0, 0.015, 0.02, 1.5), # Case D (nearly ohmic)\n    ]\n\n    # Define the thresholds for\n    r_ohm_th = 0.03  # Ohms\n    r_ct_th = 0.30   # Ohms\n    c_dl_th = 0.80   # Farads\n\n    # List to store the string representation of results for each case\n    results_str_list = []\n\n    for case in test_cases:\n        I_0, R_ohm, R_ct, C_dl = case\n\n        # 1. Immediate ohmic voltage drop upon interrupt (V)\n        ohmic_drop = I_0 * R_ohm\n\n        # 2. Relaxation time constant of the activation overpotential decay (s)\n        time_constant = R_ct * C_dl\n\n        # 3. High-frequency real-axis intercept of the impedance spectrum (Ohm)\n        hf_intercept = R_ohm\n\n        # 4. Diameter of the high-frequency semicircle in the Nyquist plot (Ohm)\n        semicircle_diameter = R_ct\n\n        # 5. Characteristic frequency of that semicircle (Hz)\n        # Check for non-zero R_ct and C_dl to avoid division by zero\n        if R_ct  0 and C_dl  0:\n            char_frequency = 1 / (2 * np.pi * R_ct * C_dl)\n        else:\n            char_frequency = float('inf') # Or handle as an error case\n\n        # 6. Degradation classification flag (0 or 1)\n        is_degraded = (R_ohm  r_ohm_th) or \\\n                      (R_ct  r_ct_th) or \\\n                      (C_dl  c_dl_th)\n        degradation_flag = 1 if is_degraded else 0\n        \n        # Assemble the list of results for the current case\n        # Floats are formatted to 6 decimal places, int remains int\n        current_case_outputs = [\n            f\"{ohmic_drop:.6f}\",\n            f\"{time_constant:.6f}\",\n            f\"{hf_intercept:.6f}\",\n            f\"{semicircle_diameter:.6f}\",\n            f\"{char_frequency:.6f}\",\n            degradation_flag\n        ]\n        \n        # Format the list into a string like \"[val1,val2,...]\"\n        # map(str, ...) converts all items, including the integer flag, to string\n        # before joining.\n        case_results_str = f\"[{','.join(map(str, current_case_outputs))}]\"\n        \n        results_str_list.append(case_results_str)\n\n    # Final print statement in the exact required format.\n    # Joins the string representations of each case's results with a comma,\n    # and wraps them in outer brackets.\n    print(f\"[{','.join(results_str_list)}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "Effective performance models must not only describe behavior but also predict it under new conditions. This practice guides you through a complete data-driven modeling workflow, from raw experimental data to a fully predictive tool. Starting with polarization curves measured at two different temperatures, you will use a standard voltage model incorporating activation and ohmic losses to perform a least-squares parameter estimation. By fitting the extracted exchange current density $j_0(T)$ and membrane conductivity $\\sigma(T)$ to the Arrhenius relationship, you will build a robust model capable of predicting cell performance at new operating temperatures .",
            "id": "4087828",
            "problem": "Consider a Proton Exchange Membrane (PEM) fuel cell described by a standard polarization model that combines reversible thermodynamics, activation losses, and ohmic losses. Let $V$ denote the cell voltage at current density $j$ and temperature $T$. The reversible voltage is $E_{\\mathrm{rev}}(T)$, the activation overpotential is modeled by the Tafel approximation of the Butler–Volmer equation, and the ohmic drop is modeled by a uniform ionic conductivity in the membrane. Specifically, assume the following physically motivated relationships:\n- Reversible voltage: $$E_{\\mathrm{rev}}(T) = E_0 - \\gamma \\left(T - T_0\\right),$$ where $E_0 = 1.229$ (volts), $\\gamma = 8.5 \\times 10^{-4}$ (volts per kelvin), and $T_0 = 298.15$ (kelvin).\n- Activation overpotential (Tafel form for a single dominant electrode process): $$\\eta_{\\mathrm{act}}(j,T) = \\frac{R T}{\\alpha F} \\ln\\!\\left(\\frac{j}{j_0(T)}\\right),$$ where $R$ is the universal gas constant, $\\alpha$ is the effective charge-transfer coefficient, $F$ is the Faraday constant, and $j_0(T)$ is the exchange current density.\n- Ohmic drop across the membrane: $$\\eta_{\\mathrm{ohm}}(j,T) = j \\frac{L_{\\mathrm{mem}}}{\\sigma(T)},$$ where $L_{\\mathrm{mem}}$ is the membrane thickness and $\\sigma(T)$ is the ionic conductivity of the membrane.\n\nThe overall voltage model is $$V(j,T) = E_{\\mathrm{rev}}(T) - \\eta_{\\mathrm{act}}(j,T) - \\eta_{\\mathrm{ohm}}(j,T).$$\n\nAssume the exchange current density $j_0(T)$ and membrane conductivity $\\sigma(T)$ each follow an Arrhenius form:\n- $$j_0(T) = A_{j_0}\\,\\exp\\!\\left(-\\frac{E_{a,\\mathrm{act}}}{R\\,T}\\right),$$\n- $$\\sigma(T) = A_{\\sigma}\\,\\exp\\!\\left(-\\frac{E_{a,\\mathrm{ohm}}}{R\\,T}\\right),$$\nwhere $A_{j_0}$, $A_{\\sigma}$ are pre-exponential factors and $E_{a,\\mathrm{act}}$, $E_{a,\\mathrm{ohm}}$ are activation energies.\n\nConstants to be used are:\n- Universal gas constant $R = 8.314462618$ (joules per mole per kelvin).\n- Faraday constant $F = 96485.33212$ (coulombs per mole).\n- Effective charge-transfer coefficient $\\alpha = 0.5$ (dimensionless).\n- Membrane thickness $L_{\\mathrm{mem}} = 2.0 \\times 10^{-5}$ (meters).\n\nYou are given polarization data at two temperatures, reported as triplets $(j,V)$ of current density and measured voltage. All current densities must be treated in $A/\\mathrm{m}^2$, all temperatures in kelvin, and all voltages in volts. The two datasets are:\n\n- At $T_1 = 333.15$ (kelvin) corresponding to $60\\,^{\\circ}\\text{C}$:\n  - $(j,V) = (500,\\,0.7890)$,\n  - $(j,V) = (2000,\\,0.7056)$,\n  - $(j,V) = (5000,\\,0.6455)$.\n\n- At $T_2 = 343.15$ (kelvin) corresponding to $70\\,^{\\circ}\\text{C}$:\n  - $(j,V) = (500,\\,0.8011)$,\n  - $(j,V) = (2000,\\,0.7173)$,\n  - $(j,V) = (5000,\\,0.6563)$.\n\nTasks:\n1. Starting from the given fundamental relationships, infer $j_0(T_1)$, $\\sigma(T_1)$ from the first dataset and $j_0(T_2)$, $\\sigma(T_2)$ from the second dataset by solving a well-posed least-squares parameter estimation problem based on $$V(j,T) = E_{\\mathrm{rev}}(T) - \\frac{R T}{\\alpha F}\\ln\\!\\left(\\frac{j}{j_0(T)}\\right) - j \\frac{L_{\\mathrm{mem}}}{\\sigma(T)}.$$\n   You must enforce $j_0(T) > 0$ and $\\sigma(T) > 0$.\n\n2. Using the two temperature-specific estimates of $j_0(T)$ and $\\sigma(T)$, derive the Arrhenius parameters $(A_{j_0}, E_{a,\\mathrm{act}})$ and $(A_{\\sigma}, E_{a,\\mathrm{ohm}})$ by fitting the two-point Arrhenius forms:\n   - $$\\ln j_0(T) = \\ln A_{j_0} - \\frac{E_{a,\\mathrm{act}}}{R}\\frac{1}{T},$$\n   - $$\\ln \\sigma(T) = \\ln A_{\\sigma} - \\frac{E_{a,\\mathrm{ohm}}}{R}\\frac{1}{T}.$$\n\n3. With these Arrhenius parameters, predict the voltage $V(j)$ at $T_3 = 353.15$ (kelvin) corresponding to $80\\,^{\\circ}\\text{C}$ for the following test suite of current densities (all in $A/\\mathrm{m}^2$): $[50,\\,500,\\,2000,\\,5000,\\,10000]$. Use the same voltage model $$V(j,T_3) = E_{\\mathrm{rev}}(T_3) - \\frac{R T_3}{\\alpha F}\\ln\\!\\left(\\frac{j}{j_0(T_3)}\\right) - j \\frac{L_{\\mathrm{mem}}}{\\sigma(T_3)},$$ with $j_0(T_3)$ and $\\sigma(T_3)$ computed from the Arrhenius relationships you derived.\n\nRequirements:\n- Express all voltages in volts. The final outputs must be numerical values rounded to four decimal places.\n- Angles do not appear; no angle units are required.\n- No percentages appear; no percentage notation is required.\n- Your program must produce a single line of output containing the predicted voltages for the specified test suite at $T_3$ as a comma-separated list enclosed in square brackets, for example, $$[v_1,v_2,v_3,v_4,v_5].$$\n\nTest suite coverage mandate:\n- Include the given \"happy path\" values $j = 500$, $j = 2000$, and $j = 5000$.\n- Include the boundary-like low-current case $j = 50$ where activation dominates.\n- Include the higher-current case $j = 10000$ to probe ohmic contributions.\n\nYour task is to implement a complete, runnable program that performs all steps deterministically and outputs the required single-line format.",
            "solution": "The problem requires the development of a predictive model for a Proton Exchange Membrane (PEM) fuel cell's performance, based on a set of experimental data at two distinct temperatures. The solution involves a multi-step process: (1) estimating temperature-specific model parameters from polarization data using a least-squares method, (2) determining the temperature dependency of these parameters by fitting them to Arrhenius equations, and (3) using the complete model to predict cell voltage at a new temperature.\n\nThe fundamental equation governing the cell voltage $V$ as a function of current density $j$ and temperature $T$ is given by:\n$$V(j,T) = E_{\\mathrm{rev}}(T) - \\eta_{\\mathrm{act}}(j,T) - \\eta_{\\mathrm{ohm}}(j,T)$$\nwhere the components are:\n- Reversible voltage: $E_{\\mathrm{rev}}(T) = E_0 - \\gamma \\left(T - T_0\\right)$\n- Activation overpotential: $\\eta_{\\mathrm{act}}(j,T) = \\frac{R T}{\\alpha F} \\ln\\left(\\frac{j}{j_0(T)}\\right)$\n- Ohmic overpotential: $\\eta_{\\mathrm{ohm}}(j,T) = j \\frac{L_{\\mathrm{mem}}}{\\sigma(T)}$\n\nThe parameters to be determined are the exchange current density $j_0(T)$ and the membrane conductivity $\\sigma(T)$.\n\n**Step 1: Parameter Estimation via Linearization and Least Squares**\n\nFor a fixed temperature $T$, the parameters $j_0(T)$ and $\\sigma(T)$ are constant. The voltage equation can be rearranged to isolate the known and unknown terms, facilitating a linear regression.\nStarting with the voltage equation:\n$$V(j,T) = E_{\\mathrm{rev}}(T) - \\frac{R T}{\\alpha F} \\ln\\left(\\frac{j}{j_0(T)}\\right) - j \\frac{L_{\\mathrm{mem}}}{\\sigma(T)}$$\nWe can expand the logarithmic term:\n$$V(j,T) = E_{\\mathrm{rev}}(T) - \\frac{R T}{\\alpha F} \\ln(j) + \\frac{R T}{\\alpha F} \\ln(j_0(T)) - j \\frac{L_{\\mathrm{mem}}}{\\sigma(T)}$$\nRearranging the terms to group known quantities on one side yields a linear relationship:\n$$E_{\\mathrm{rev}}(T) - V(j,T) - \\frac{R T}{\\alpha F}\\ln(j) = \\left[-\\frac{R T}{\\alpha F}\\ln(j_0(T))\\right] \\cdot 1 + \\left[\\frac{L_{\\mathrm{mem}}}{\\sigma(T)}\\right] \\cdot j$$\nThis equation is in the form of a simple linear model, $Y = \\beta_1 + \\beta_2 x$, where:\n- The dependent variable is $Y(j,T) = E_{\\mathrm{rev}}(T) - V(j,T) - \\frac{R T}{\\alpha F}\\ln(j)$.\n- The independent variable is $x = j$.\n- The coefficients to be determined are $\\beta_1(T) = -\\frac{R T}{\\alpha F}\\ln(j_0(T))$ and $\\beta_2(T) = \\frac{L_{\\mathrm{mem}}}{\\sigma(T)}$.\n\nFor each temperature, $T_1 = 333.15\\,\\mathrm{K}$ and $T_2 = 343.15\\,\\mathrm{K}$, we are given three data points $(j_i, V_i)$. This forms an overdetermined system of linear equations for the two unknown coefficients $(\\beta_1, \\beta_2)$. We can write this system in matrix form as $\\mathbf{Y} = \\mathbf{X}\\boldsymbol{\\beta}$, where:\n$$\\mathbf{Y} = \\begin{pmatrix} Y(j_1, T) \\\\ Y(j_2, T) \\\\ Y(j_3, T) \\end{pmatrix}, \\quad \\mathbf{X} = \\begin{pmatrix} 1  j_1 \\\\ 1  j_2 \\\\ 1  j_3 \\end{pmatrix}, \\quad \\boldsymbol{\\beta} = \\begin{pmatrix} \\beta_1 \\\\ \\beta_2 \\end{pmatrix}$$\nThe solution that minimizes the sum of squared errors, $\\|\\mathbf{Y} - \\mathbf{X}\\boldsymbol{\\beta}\\|^2$, is found using the method of least squares. The resulting coefficients $\\hat{\\beta}_1$ and $\\hat{\\beta}_2$ are then used to recover the physical parameters $j_0(T)$ and $\\sigma(T)$:\nFrom $\\hat{\\beta}_1 = -\\frac{R T}{\\alpha F}\\ln(j_0(T))$, we solve for $j_0(T)$:\n$$j_0(T) = \\exp\\left(-\\frac{\\hat{\\beta}_1 \\alpha F}{R T}\\right)$$\nFrom $\\hat{\\beta}_2 = \\frac{L_{\\mathrm{mem}}}{\\sigma(T)}$, we solve for $\\sigma(T)$:\n$$\\sigma(T) = \\frac{L_{\\mathrm{mem}}}{\\hat{\\beta}_2}$$\nThis procedure is applied to the datasets for $T_1$ and $T_2$ to find $(j_0(T_1), \\sigma(T_1))$ and $(j_0(T_2), \\sigma(T_2))$.\n\n**Step 2: Determination of Arrhenius Parameters**\n\nThe temperature dependence of $j_0(T)$ and $\\sigma(T)$ is described by the Arrhenius equation. For a generic parameter $P(T)$, the relationship is:\n$$P(T) = A \\exp\\left(-\\frac{E_a}{R T}\\right)$$\nTaking the natural logarithm of both sides linearizes the equation with respect to $1/T$:\n$$\\ln P(T) = \\ln A - \\frac{E_a}{R}\\frac{1}{T}$$\nHaving determined $P(T)$ at two distinct temperatures, $T_1$ and $T_2$, we have a system of two linear equations with two unknowns, $\\ln A$ and $E_a/R$:\n\\begin{align*} \\ln P(T_1) = \\ln A - \\frac{E_a}{R}\\frac{1}{T_1} \\\\ \\ln P(T_2) = \\ln A - \\frac{E_a}{R}\\frac{1}{T_2} \\end{align*}\nSubtracting the second equation from the first yields an expression for the activation energy, $E_a$:\n$$\\ln P(T_1) - \\ln P(T_2) = \\frac{E_a}{R}\\left(\\frac{1}{T_2} - \\frac{1}{T_1}\\right) \\implies E_a = R \\frac{\\ln(P(T_1)/P(T_2))}{1/T_2 - 1/T_1}$$\nOnce $E_a$ is determined, the pre-exponential factor $A$ can be found by substituting $E_a$ back into one of the equations:\n$$\\ln A = \\ln P(T_1) + \\frac{E_a}{R T_1} \\implies A = P(T_1) \\exp\\left(\\frac{E_a}{R T_1}\\right)$$\nThis procedure is applied to the pairs $(T_1, j_0(T_1))$ and $(T_2, j_0(T_2))$ to find $(A_{j_0}, E_{a,\\mathrm{act}})$, and to the pairs $(T_1, \\sigma(T_1))$ and $(T_2, \\sigma(T_2))$ to find $(A_{\\sigma}, E_{a,\\mathrm{ohm}})$.\n\n**Step 3: Predictive Calculation**\n\nWith the four Arrhenius parameters $(A_{j_0}, E_{a,\\mathrm{act}}, A_{\\sigma}, E_{a,\\mathrm{ohm}})$ fully determined, the model is complete. We can now predict the voltage for any current density $j$ and temperature $T$ within the model's validity range.\nThe task is to predict the voltage at $T_3 = 353.15\\,\\mathrm{K}$ for a given set of current densities.\nFirst, we calculate the values of $j_0$ and $\\sigma$ at $T_3$:\n$$j_0(T_3) = A_{j_0} \\exp\\left(-\\frac{E_{a,\\mathrm{act}}}{R T_3}\\right)$$\n$$\\sigma(T_3) = A_{\\sigma} \\exp\\left(-\\frac{E_{a,\\mathrm{ohm}}}{R T_3}\\right)$$\nWe also compute the reversible potential at this temperature:\n$$E_{\\mathrm{rev}}(T_3) = E_0 - \\gamma (T_3 - T_0)$$\nFinally, for each specified current density $j$ in the test suite, the voltage $V(j, T_3)$ is calculated using the full model equation:\n$$V(j,T_3) = E_{\\mathrm{rev}}(T_3) - \\frac{R T_3}{\\alpha F}\\ln\\left(\\frac{j}{j_0(T_3)}\\right) - j \\frac{L_{\\mathrm{mem}}}{\\sigma(T_3)}$$\nThe resulting voltages are then rounded to four decimal places as required for the final output. This systematic approach ensures that the model parameters are rigorously derived from the provided data and then used consistently for prediction.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the PEM fuel cell modeling problem by performing a three-step\n    parameter estimation and prediction process.\n    \"\"\"\n    \n    # --- Constants ---\n    E0 = 1.229  # V\n    GAMMA = 8.5e-4  # V/K\n    T0 = 298.15  # K\n    R = 8.314462618  # J/(mol*K)\n    F = 96485.33212  # C/mol\n    ALPHA = 0.5\n    L_MEM = 2.0e-5  # m\n\n    # --- Experimental Data ---\n    # T1 = 60 C = 333.15 K\n    T1 = 333.15\n    data1 = {\n        'j': np.array([500.0, 2000.0, 5000.0]),  # A/m^2\n        'V': np.array([0.7890, 0.7056, 0.6455])  # V\n    }\n\n    # T2 = 70 C = 343.15 K\n    T2 = 343.15\n    data2 = {\n        'j': np.array([500.0, 2000.0, 5000.0]),\n        'V': np.array([0.8011, 0.7173, 0.6563])\n    }\n\n    def get_params_at_temp(T, j_data, v_data):\n        \"\"\"\n        Step 1: Perform least-squares fitting to find j0(T) and sigma(T).\n        Linear model: Y = beta1 + beta2 * j\n        \"\"\"\n        E_rev = E0 - GAMMA * (T - T0)\n        \n        # Construct the dependent variable vector Y\n        Y = E_rev - v_data - (R * T / (ALPHA * F)) * np.log(j_data)\n        \n        # Construct the design matrix X\n        X = np.vstack([np.ones_like(j_data), j_data]).T\n        \n        # Perform linear least-squares regression\n        beta, _, _, _ = np.linalg.lstsq(X, Y, rcond=None)\n        beta1, beta2 = beta[0], beta[1]\n        \n        # Recover physical parameters j0 and sigma from beta coefficients\n        # beta1 = -(R*T / (ALPHA*F)) * ln(j0)\n        j0 = np.exp(-beta1 * ALPHA * F / (R * T))\n        \n        # beta2 = L_mem / sigma\n        sigma = L_MEM / beta2\n        \n        return j0, sigma\n\n    def get_arrhenius_params(T1, p1, T2, p2):\n        \"\"\"\n        Step 2: Calculate Arrhenius parameters (A, Ea) from two data points.\n        Model: ln(P) = ln(A) - (Ea/R) * (1/T)\n        \"\"\"\n        log_p1 = np.log(p1)\n        log_p2 = np.log(p2)\n        \n        # Solve the 2x2 system for Ea and A\n        # Ea/R = (ln(p1) - ln(p2)) / (1/T2 - 1/T1)\n        Ea_over_R = (log_p1 - log_p2) / (1/T2 - 1/T1)\n        Ea = Ea_over_R * R\n        \n        # ln(A) = ln(p1) + (Ea/R) * (1/T1)\n        log_A = log_p1 + Ea_over_R * (1/T1)\n        A = np.exp(log_A)\n        \n        return A, Ea\n\n    # --- Step 1 Executions ---\n    j0_T1, sigma_T1 = get_params_at_temp(T1, data1['j'], data1['V'])\n    j0_T2, sigma_T2 = get_params_at_temp(T2, data2['j'], data2['V'])\n\n    # --- Step 2 Executions ---\n    A_j0, E_a_act = get_arrhenius_params(T1, j0_T1, T2, j0_T2)\n    A_sigma, E_a_ohm = get_arrhenius_params(T1, sigma_T1, T2, sigma_T2)\n\n    # --- Step 3: Prediction ---\n    T3 = 353.15  # 80 C\n    j_test_suite = np.array([50.0, 500.0, 2000.0, 5000.0, 10000.0])\n    \n    # Calculate parameters at T3 using Arrhenius model\n    j0_T3 = A_j0 * np.exp(-E_a_act / (R * T3))\n    sigma_T3 = A_sigma * np.exp(-E_a_ohm / (R * T3))\n    E_rev_T3 = E0 - GAMMA * (T3 - T0)\n    \n    # Calculate voltages for the test suite\n    eta_act_T3 = (R * T3 / (ALPHA * F)) * np.log(j_test_suite / j0_T3)\n    eta_ohm_T3 = j_test_suite * L_MEM / sigma_T3\n    \n    V_predicted = E_rev_T3 - eta_act_T3 - eta_ohm_T3\n    \n    # Format results for output\n    formatted_results = [f\"{v:.4f}\" for v in V_predicted]\n    \n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "While zero-dimensional models are useful, they cannot capture the spatial variations in reactant concentration and current density that occur within a real device. This practice extends our analysis to a one-dimensional channel, introducing the crucial role of mass transport. You will derive a model for the reactant concentration profile along the channel by balancing axial convection with consumption at the electrode surface, which is co-limited by reaction kinetics and mass-transfer resistance. This exercise provides a foundational understanding of how reactant depletion leads to performance gradients and introduces the concept of a mass-transport-limited current, a key factor in the design and operation of high-performance electrochemical systems .",
            "id": "4087830",
            "problem": "Consider a steady, isothermal, incompressible flow of a single reacting species in a straight channel above a planar reactive electrode. The flow is along the axial coordinate $x \\in [0,L]$ with constant volumetric flow rate $Q$ and uniform cross section of width $W$. Let $c(x,y)$ denote the molar concentration of the reactant species in the channel, where $y$ is the transverse coordinate measured from the reactive wall at $y=0$ upwards into the channel. Assume the following physically standard and widely accepted bases and approximations from mass conservation and transport phenomena:\n- Species conservation: at steady state, convection balances diffusion and reaction, with negligible axial diffusion compared to axial convection, and transverse diffusion dominant across a thin hydrodynamic and concentration boundary layer.\n- Fick’s law of diffusion: the diffusive molar flux is $-D \\, \\partial c/\\partial y$ in the transverse direction, where $D$ is the molecular diffusivity (assumed constant).\n- A linear mass-transfer description near the wall: the molar flux from the bulk to the wall is $J(x) = k_m \\left(c_b(x) - c_s(x)\\right)$, where $k_m$ is a mass-transfer coefficient, $c_b(x)$ is a representative bulk concentration near the edge of the diffusion film, and $c_s(x)$ is the interfacial concentration at the reactive wall.\n- First-order surface reaction kinetics on the electrode: the molar reaction rate per unit area is $R_s(x) = k_r \\, c_s(x)$, where $k_r$ is a kinetic rate coefficient. The corresponding local current density is linked to the molar reaction rate by Faraday’s law as $j(x) = n F R_s(x)$, where $n$ is the number of electrons transferred per mole of reactant and $F$ is the Faraday constant.\n\nTask A (derivation): Starting from species conservation and Fick’s law in the channel, use a cross-sectional averaging or thin-film argument to derive a one-dimensional axial balance for $c_b(x)$ that closes the problem by coupling the mass-transfer flux $J(x)$ and the surface reaction rate $R_s(x)$ through an interfacial balance at the reactive wall. Determine an explicit expression for the effective first-order consumption of $c_b(x)$ along $x$ in terms of $k_m$ and $k_r$, and obtain the resulting closed-form expressions for the axial bulk concentration $c_b(x)$ and the current density distribution $j(x)$.\n\nTask B (evaluation): Using your derived expressions, compute the following five outputs for each specified test case:\n- The outlet bulk concentration $c_b(L)$ in mol/m$^3$.\n- The local current density at the channel inlet $j(0)$ in A/m$^2$.\n- The local current density at the mid-channel $j(L/2)$ in A/m$^2$.\n- The local current density at the channel outlet $j(L)$ in A/m$^2$.\n- The total current $I_{\\mathrm{tot}} = \\int_0^L j(x) \\, W \\, dx$ in A.\n\nAll answers must be expressed in SI units as indicated above and rounded to six decimal places. Angles do not appear in this problem. Do not use percentages.\n\nYour program must implement your derived formulas and evaluate the following test suite. In each case, assume hydrogen as the reactant with $n = 2$ and $F = 96485~\\text{C/mol}$.\n\nTest cases (each line lists $Q$ in m$^3$/s, $W$ in m, $L$ in m, $k_m$ in m/s, $k_r$ in m/s, $c_{\\mathrm{in}}$ in mol/m$^3$):\n1. $Q = 1.0 \\times 10^{-6}$, $W = 1.0 \\times 10^{-3}$, $L = 0.10$, $k_m = 2.0 \\times 10^{-3}$, $k_r = 5.0 \\times 10^{-3}$, $c_{\\mathrm{in}} = 15.0$.\n2. $Q = 1.0 \\times 10^{-6}$, $W = 1.0 \\times 10^{-3}$, $L = 0.10$, $k_m = 1.0 \\times 10^{-2}$, $k_r = 1.0 \\times 10^{-4}$, $c_{\\mathrm{in}} = 34.0$.\n3. $Q = 1.0 \\times 10^{-6}$, $W = 1.0 \\times 10^{-3}$, $L = 0.10$, $k_m = 5.0 \\times 10^{-5}$, $k_r = 1.0 \\times 10^{-1}$, $c_{\\mathrm{in}} = 34.0$.\n4. $Q = 1.0 \\times 10^{-4}$, $W = 1.0 \\times 10^{-3}$, $L = 0.10$, $k_m = 2.0 \\times 10^{-3}$, $k_r = 5.0 \\times 10^{-3}$, $c_{\\mathrm{in}} = 15.0$.\n5. $Q = 1.0 \\times 10^{-6}$, $W = 1.0 \\times 10^{-3}$, $L = 0.10$, $k_m = 2.0 \\times 10^{-3}$, $k_r = 0.0$, $c_{\\mathrm{in}} = 15.0$.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets. For each test case, append the five outputs in the order $[c_b(L), j(0), j(L/2), j(L), I_{\\mathrm{tot}}]$, so that the final output for the five cases is a flattened list of $25$ numbers: $[c^{(1)}_L, j^{(1)}_0, j^{(1)}_{L/2}, j^{(1)}_L, I^{(1)}_{\\mathrm{tot}}, \\ldots, c^{(5)}_L, j^{(5)}_0, j^{(5)}_{L/2}, j^{(5)}_L, I^{(5)}_{\\mathrm{tot}}]$, with each value rounded to six decimal places.",
            "solution": "### Task A: Derivation of Governing Equations\n\nWe begin by performing a molar species balance on a differential control volume of the channel, extending from axial position $x$ to $x+dx$. The volumetric flow rate is $Q$. The rate of change of moles of the reactant species within the control volume is zero at steady state. The balance is:\n$$\n(\\text{Molar flow in at } x) - (\\text{Molar flow out at } x+dx) - (\\text{Rate of consumption at the wall}) = 0\n$$\nIn mathematical terms, this is expressed using the bulk concentration $c_b(x)$:\n$$\nQ c_b(x) - Q c_b(x+dx) - R_s(x) (W dx) = 0\n$$\nwhere $R_s(x)$ is the molar reaction rate per unit area of the reactive wall, and $W dx$ is the differential area of the wall. Dividing by $dx$ and taking the limit as $dx \\to 0$, we obtain the ordinary differential equation:\n$$\n-Q \\frac{dc_b}{dx} - W R_s(x) = 0 \\quad \\implies \\quad Q \\frac{dc_b}{dx} = -W R_s(x)\n$$\nTo solve this, we must express the reaction rate $R_s(x)$ in terms of the bulk concentration $c_b(x)$. At the reactive surface, the molar flux of reactant from the bulk, $J(x)$, must equal the rate of consumption by the surface reaction, $R_s(x)$. The problem provides expressions for both:\n$$\nJ(x) = k_m (c_b(x) - c_s(x))\n$$\n$$\nR_s(x) = k_r c_s(x)\n$$\nEquating these two rates, $J(x) = R_s(x)$:\n$$\nk_m (c_b(x) - c_s(x)) = k_r c_s(x)\n$$\nWe solve for the unknown surface concentration $c_s(x)$:\n$$\nk_m c_b(x) = k_m c_s(x) + k_r c_s(x) = (k_m + k_r) c_s(x)\n$$\n$$\nc_s(x) = \\left( \\frac{k_m}{k_m + k_r} \\right) c_b(x)\n$$\nSubstituting this back into the expression for $R_s(x)$:\n$$\nR_s(x) = k_r \\left( \\frac{k_m}{k_m + k_r} \\right) c_b(x)\n$$\nThis defines an effective first-order rate coefficient, $k_{\\mathrm{eff}}$, which combines the resistances of mass transfer ($1/k_m$) and reaction kinetics ($1/k_r$) in series:\n$$\nk_{\\mathrm{eff}} = \\frac{k_m k_r}{k_m + k_r} = \\left(\\frac{1}{k_m} + \\frac{1}{k_r}\\right)^{-1}\n$$\nThe reaction rate is now expressed in terms of the bulk concentration: $R_s(x) = k_{\\mathrm{eff}} c_b(x)$.\nWe substitute this into the differential species balance:\n$$\nQ \\frac{dc_b}{dx} = -W (k_{\\mathrm{eff}} c_b(x))\n$$\nThis is a separable first-order ODE:\n$$\n\\frac{dc_b}{c_b} = -\\frac{W k_{\\mathrm{eff}}}{Q} dx\n$$\nWe integrate from the channel inlet ($x=0$, where $c_b(0) = c_{\\mathrm{in}}$) to an arbitrary position $x$:\n$$\n\\int_{c_{\\mathrm{in}}}^{c_b(x)} \\frac{dc'_b}{c'_b} = -\\frac{W k_{\\mathrm{eff}}}{Q} \\int_0^x dx'\n$$\n$$\n\\ln\\left(\\frac{c_b(x)}{c_{\\mathrm{in}}}\\right) = -\\frac{W k_{\\mathrm{eff}}}{Q} x\n$$\nSolving for $c_b(x)$, we get the axial bulk concentration profile:\n$$\nc_b(x) = c_{\\mathrm{in}} \\exp\\left(-\\frac{W k_{\\mathrm{eff}}}{Q} x\\right)\n$$\nNext, we derive the expression for the local current density, $j(x)$. Using Faraday's law, $j(x) = n F R_s(x)$, and our expression for $R_s(x)$:\n$$\nj(x) = n F k_{\\mathrm{eff}} c_b(x) = n F k_{\\mathrm{eff}} c_{\\mathrm{in}} \\exp\\left(-\\frac{W k_{\\mathrm{eff}}}{Q} x\\right)\n$$\nThis completes the derivation part (Task A).\n\n### Task B: Evaluation Formulas\nThe following formulas are used for the numerical evaluation. We define the decay constant $\\alpha = \\frac{W k_{\\mathrm{eff}}}{Q}$.\n\n1.  **Outlet bulk concentration $c_b(L)$**:\n    $$\n    c_b(L) = c_{\\mathrm{in}} \\exp(-\\alpha L)\n    $$\n2.  **Local current density at the channel inlet $j(0)$**:\n    $$\n    j(0) = n F k_{\\mathrm{eff}} c_{\\mathrm{in}} \\exp(-\\alpha \\cdot 0) = n F k_{\\mathrm{eff}} c_{\\mathrm{in}}\n    $$\n3.  **Local current density at the mid-channel $j(L/2)$**:\n    $$\n    j(L/2) = n F k_{\\mathrm{eff}} c_{\\mathrm{in}} \\exp\\left(-\\frac{\\alpha L}{2}\\right)\n    $$\n4.  **Local current density at the channel outlet $j(L)$**:\n    $$\n    j(L) = n F k_{\\mathrm{eff}} c_{\\mathrm{in}} \\exp(-\\alpha L)\n    $$\n5.  **Total current $I_{\\mathrm{tot}}$**:\n    The total current is the integral of the local current density over the entire electrode area, $A_{\\mathrm{electrode}} = W L$.\n    $$\n    I_{\\mathrm{tot}} = \\int_0^L j(x) W dx = \\int_0^L n F k_{\\mathrm{eff}} c_{\\mathrm{in}} W \\exp(-\\alpha x) dx\n    $$\n    $$\n    I_{\\mathrm{tot}} = n F k_{\\mathrm{eff}} c_{\\mathrm{in}} W \\int_0^L \\exp(-\\alpha x) dx = n F k_{\\mathrm{eff}} c_{\\mathrm{in}} W \\left[ -\\frac{1}{\\alpha} \\exp(-\\alpha x) \\right]_0^L\n    $$\n    $$\n    I_{\\mathrm{tot}} = n F k_{\\mathrm{eff}} c_{\\mathrm{in}} W \\left( \\frac{1 - \\exp(-\\alpha L)}{\\alpha} \\right)\n    $$\n    Substituting $\\alpha = W k_{\\mathrm{eff}}/Q$, we can simplify this expression:\n    $$\n    I_{\\mathrm{tot}} = n F k_{\\mathrm{eff}} c_{\\mathrm{in}} W \\left( \\frac{1 - \\exp(-\\alpha L)}{W k_{\\mathrm{eff}}/Q} \\right) = n F Q c_{\\mathrm{in}} (1 - \\exp(-\\alpha L))\n    $$\n    This final form for $I_{\\mathrm{tot}}$ is computationally more stable, especially for cases where $k_{\\mathrm{eff}}$ (and thus $\\alpha$) approaches zero. It also shows physically that the total current is proportional to the total amount of reactant consumed in the channel, which is $Q(c_{\\mathrm{in}} - c_b(L))$.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the electrochemical channel problem by deriving and applying formulas for concentration and current density.\n    \"\"\"\n    \n    # Define constants\n    n = 2  # Number of electrons for H2 oxidation\n    F = 96485  # Faraday constant in C/mol\n\n    # Define the test cases from the problem statement.\n    # Each tuple contains: Q, W, L, k_m, k_r, c_in\n    test_cases = [\n        (1.0e-6, 1.0e-3, 0.10, 2.0e-3, 5.0e-3, 15.0),\n        (1.0e-6, 1.0e-3, 0.10, 1.0e-2, 1.0e-4, 34.0),\n        (1.0e-6, 1.0e-3, 0.10, 5.0e-5, 1.0e-1, 34.0),\n        (1.0e-4, 1.0e-3, 0.10, 2.0e-3, 5.0e-3, 15.0),\n        (1.0e-6, 1.0e-3, 0.10, 2.0e-3, 0.0, 15.0),\n    ]\n\n    # List to store all results flattened\n    all_results = []\n\n    for case in test_cases:\n        Q, W, L, k_m, k_r, c_in = case\n\n        # 1. Calculate the effective rate coefficient, k_eff\n        # This combines mass transfer and reaction kinetics resistances in series.\n        if k_m + k_r == 0:\n            k_eff = 0.0\n        else:\n            k_eff = (k_m * k_r) / (k_m + k_r)\n\n        # 2. Calculate the exponential decay constant, alpha\n        # This governs how rapidly concentration decays along the channel.\n        # A check for Q=0 is not needed based on test cases, but would be good practice.\n        alpha = (W * k_eff) / Q\n        \n        # 3. Calculate the five required outputs using derived formulas\n        \n        # Outlet bulk concentration c_b(L) in mol/m^3\n        cb_L = c_in * np.exp(-alpha * L)\n        \n        # Local current density at the channel inlet j(0) in A/m^2\n        j_0 = n * F * k_eff * c_in\n        \n        # Local current density at the mid-channel j(L/2) in A/m^2\n        j_L_half = j_0 * np.exp(-alpha * L / 2.0)\n        \n        # Local current density at the channel outlet j(L) in A/m^2\n        j_L = j_0 * np.exp(-alpha * L)\n        \n        # Total current I_tot in A\n        # Use np.expm1 for better numerical precision for small arguments.\n        # 1 - exp(-x) is equivalent to -expm1(-x)\n        I_tot = - (n * F * Q * c_in * np.expm1(-alpha * L))\n        \n        # Append the five formatted results for the current case\n        all_results.extend([\n            f\"{cb_L:.6f}\",\n            f\"{j_0:.6f}\",\n            f\"{j_L_half:.6f}\",\n            f\"{j_L:.6f}\",\n            f\"{I_tot:.6f}\"\n        ])\n\n    # Final print statement in the exact required format\n    print(f\"[{','.join(all_results)}]\")\n\nsolve()\n```"
        }
    ]
}