{
    "hands_on_practices": [
        {
            "introduction": "This practice focuses on the economic dispatch subproblem, the core of unit commitment decisions. By calculating the optimal output for a set of already-committed generators, you will apply the foundational principle of equal incremental cost . This exercise is crucial for understanding how system-wide demand is met at the minimum possible variable cost in any given hour.",
            "id": "4113801",
            "problem": "Consider a single scheduling period $t$ within a Unit Commitment (UC) problem to be solved by Dynamic Programming (DP) across time. At period $t$, the on/off commitment decisions are given and fixed as $u_{1,t}=1$ and $u_{2,t}=1$. You are to perform the single-period economic dispatch subproblem consistent with these fixed commitments. There are two thermal generating units $i \\in \\{1,2\\}$ with quadratic production cost functions of the form\n$$\nC_i(p_{i,t}) \\;=\\; a_i u_{i,t} \\;+\\; b_i \\, p_{i,t} \\;+\\; c_i \\, p_{i,t}^{2},\n$$\nwith strictly positive quadratic coefficients $c_i>0$. Each online unit must satisfy its operating bounds $p_{i,t}^{\\min} \\le p_{i,t} \\le p_{i,t}^{\\max}$ and the power balance $\\sum_{i=1}^{2} p_{i,t} \\;=\\; D_t$, where transmission losses are neglected.\n\nData for period $t$ are:\n- Demand $D_t = 150$ MW.\n- Unit $1$: $a_1 = 100$, $b_1 = 12$, $c_1 = 0.02$, $p_{1,t}^{\\min} = 20$ MW, $p_{1,t}^{\\max} = 100$ MW.\n- Unit $2$: $a_2 = 150$, $b_2 = 10$, $c_2 = 0.04$, $p_{2,t}^{\\min} = 30$ MW, $p_{2,t}^{\\max} = 120$ MW.\n\nStarting only from first principles of constrained convex optimization and power balance for economic dispatch under fixed commitment (i.e., Lagrangian optimality conditions and feasibility), derive the optimal dispatch that minimizes total production cost, including verification against operating bounds. Your derivation must reason from the definitions of marginal cost and feasibility conditions and must explicitly justify the treatment of the fixed commitment terms $a_i u_{i,t}$.\n\nCompute the exact optimal $p_{1,t}$ and $p_{2,t}$ that equalize marginal costs subject to the bounds and satisfy the power balance. Provide your final answer as exact values in MW (no rounding). Express the final answer as an ordered pair $(p_{1,t},p_{2,t})$.",
            "solution": "We are given a single-period economic dispatch subproblem for two units with fixed commitment decisions $u_{1,t}=1$ and $u_{2,t}=1$. The objective is to minimize the total production cost subject to the power balance and operating bounds. The production cost of unit $i$ is\n$$\nC_i(p_{i,t}) \\;=\\; a_i u_{i,t} + b_i p_{i,t} + c_i p_{i,t}^2,\n$$\nwith $c_i>0$ ensuring strict convexity in $p_{i,t}$. The total cost is\n$$\nC_{\\text{tot}}(p_{1,t},p_{2,t}) \\;=\\; \\sum_{i=1}^{2} \\left(a_i u_{i,t} + b_i p_{i,t} + c_i p_{i,t}^2\\right).\n$$\nThe feasibility constraints are:\n$$\np_{1,t} + p_{2,t} \\;=\\; D_t,\n$$\n$$\np_{i,t}^{\\min} \\le p_{i,t} \\le p_{i,t}^{\\max}, \\quad i \\in \\{1,2\\}.\n$$\n\nBecause $u_{i,t}$ are fixed and equal to $1$, the no-load terms $a_i u_{i,t}$ are constants with respect to $p_{i,t}$. Therefore, with respect to determining the optimal dispatch $(p_{1,t},p_{2,t})$, they do not affect the first-order conditions; they only shift the total cost by a constant. The marginal cost (derivative of $C_i$ with respect to $p_{i,t}$) is\n$$\n\\frac{\\partial C_i}{\\partial p_{i,t}} \\;=\\; b_i + 2 c_i p_{i,t}.\n$$\n\nWe now set up the constrained optimization using the Karush-Kuhn-Tucker (KKT) conditions. Let $\\lambda$ be the Lagrange multiplier for the power balance constraint, and let $\\mu_i^{-} \\ge 0$ and $\\mu_i^{+} \\ge 0$ be the multipliers for the lower and upper bounds, respectively. The Lagrangian is\n$$\n\\mathcal{L} \\;=\\; \\sum_{i=1}^{2} \\left(a_i u_{i,t} + b_i p_{i,t} + c_i p_{i,t}^2\\right) \\;+\\; \\lambda \\left(D_t - \\sum_{i=1}^{2} p_{i,t}\\right) \\;+\\; \\sum_{i=1}^{2} \\mu_i^{-} \\left(p_{i,t} - p_{i,t}^{\\min}\\right) \\;+\\; \\sum_{i=1}^{2} \\mu_i^{+} \\left(p_{i,t}^{\\max} - p_{i,t}\\right).\n$$\nThe stationarity conditions are:\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial p_{i,t}} \\;=\\; b_i + 2 c_i p_{i,t} - \\lambda + \\mu_i^{-} - \\mu_i^{+} \\;=\\; 0, \\quad i \\in \\{1,2\\}.\n$$\nComplementary slackness requires\n$$\n\\mu_i^{-} \\left(p_{i,t} - p_{i,t}^{\\min}\\right) \\;=\\; 0, \\quad \\mu_i^{+} \\left(p_{i,t}^{\\max} - p_{i,t}\\right) \\;=\\; 0, \\quad \\mu_i^{-} \\ge 0, \\; \\mu_i^{+} \\ge 0.\n$$\nFeasibility requires the power balance and bounds be satisfied.\n\nIf neither bound is active for unit $i$, then $\\mu_i^{-}=\\mu_i^{+}=0$ and the stationarity reduces to\n$$\nb_i + 2 c_i p_{i,t} \\;=\\; \\lambda.\n$$\nThus, for two units not at bounds, we obtain the equal incremental cost condition\n$$\nb_1 + 2 c_1 p_{1,t} \\;=\\; b_2 + 2 c_2 p_{2,t} \\;=\\; \\lambda,\n$$\ntogether with the balance $p_{1,t} + p_{2,t} = D_t$.\n\nWe first solve the interior system (no bounds active) and then verify the solution satisfies the bounds. Using the given parameters,\n$$\nb_1 = 12, \\quad c_1 = 0.02, \\quad b_2 = 10, \\quad c_2 = 0.04, \\quad D_t = 150.\n$$\nThe equal marginal cost equations are\n$$\n12 + 2(0.02) p_{1,t} \\;=\\; 10 + 2(0.04) p_{2,t},\n$$\nthat is,\n$$\n12 + 0.04 p_{1,t} \\;=\\; 10 + 0.08 p_{2,t}.\n$$\nTogether with\n$$\np_{1,t} + p_{2,t} \\;=\\; 150.\n$$\nSolve this linear system. Subtracting $10$ from both sides of the marginal cost equality,\n$$\n2 + 0.04 p_{1,t} \\;=\\; 0.08 p_{2,t} \\;\\;\\Longrightarrow\\;\\; 0.04 p_{1,t} \\;=\\; -2 + 0.08 p_{2,t}.\n$$\nEquivalently,\n$$\np_{1,t} \\;=\\; -\\frac{2}{0.04} + \\frac{0.08}{0.04} p_{2,t} \\;=\\; -50 + 2 p_{2,t}.\n$$\nSubstitute into the balance:\n$$\n(-50 + 2 p_{2,t}) + p_{2,t} \\;=\\; 150 \\;\\;\\Longrightarrow\\;\\; 3 p_{2,t} \\;=\\; 200 \\;\\;\\Longrightarrow\\;\\; p_{2,t} \\;=\\; \\frac{200}{3}.\n$$\nThen\n$$\np_{1,t} \\;=\\; 150 - p_{2,t} \\;=\\; 150 - \\frac{200}{3} \\;=\\; \\frac{450}{3} - \\frac{200}{3} \\;=\\; \\frac{250}{3}.\n$$\nWe verify bounds:\n$$\np_{1,t}^{\\min} = 20 \\le \\frac{250}{3} \\le 100 = p_{1,t}^{\\max}, \\quad p_{2,t}^{\\min} = 30 \\le \\frac{200}{3} \\le 120 = p_{2,t}^{\\max}.\n$$\nBoth are satisfied strictly inside the bounds, so neither lower nor upper bound is active, implying $\\mu_i^{-}=\\mu_i^{+}=0$ for $i \\in \\{1,2\\}$ is consistent, and the equal marginal cost condition is valid.\n\nFinally, we can confirm the marginal costs are equal at the solution:\n$$\n\\text{MC}_1 \\;=\\; 12 + 0.04 \\cdot \\frac{250}{3} \\;=\\; 12 + \\frac{10}{3} \\;=\\; \\frac{46}{3}, \\quad\n\\text{MC}_2 \\;=\\; 10 + 0.08 \\cdot \\frac{200}{3} \\;=\\; 10 + \\frac{16}{3} \\;=\\; \\frac{46}{3}.\n$$\nThus, the dispatch is optimal. The constants $a_i u_{i,t}$ enter the total cost but do not affect the first-order conditions for $p_{i,t}$, as expected for fixed $u_{i,t}$.\n\nTherefore, the exact optimal dispatch in megawatts is\n$$\np_{1,t} \\;=\\; \\frac{250}{3}, \\qquad p_{2,t} \\;=\\; \\frac{200}{3}.\n$$",
            "answer": "$$\\boxed{\\left(\\frac{250}{3}, \\frac{200}{3}\\right)}$$"
        },
        {
            "introduction": "Here, we confront the central theme of this chapter: the trade-off between myopic heuristics and optimal, forward-looking methods. By comparing a simple Priority List schedule with a Dynamic Programming solution, you will see firsthand how ignoring inter-temporal costs like startups can lead to suboptimal outcomes . This exercise highlights the economic value of intelligent, multi-period planning.",
            "id": "4113842",
            "problem": "Consider the Unit Commitment (UC) problem over a horizon of $3$ one-hour periods with deterministic net load demands $\\{D_{1},D_{2},D_{3}\\}=\\{60,160,60\\}$ megawatts. There are two thermal generating units, indexed by $i\\in\\{A,B\\}$, each with an operating cost model per period of the form $C_{i,t}=\\alpha_{i}\\,u_{i,t}+\\beta_{i}\\,P_{i,t}+S_{i}\\,y_{i,t}$, where $u_{i,t}\\in\\{0,1\\}$ is the on/off decision, $y_{i,t}\\in\\{0,1\\}$ is the start-up decision indicating a transition from off to on between period $t-1$ and $t$, and $P_{i,t}$ is the scheduled output subject to technical constraints $P_{i}^{\\min}u_{i,t}\\leq P_{i,t}\\leq P_{i}^{\\max}u_{i,t}$. There are no minimum up/down time constraints and no ramping constraints. Shutdown cost is zero. The initial condition at $t=0$ is $u_{A,0}=0$ and $u_{B,0}=0$. Demand must be exactly met in each period, i.e., $\\sum_{i}P_{i,t}=D_{t}$.\n\nThe unit parameters are:\n- Unit $A$: $P_{A}^{\\min}=100$, $P_{A}^{\\max}=200$, $\\alpha_{A}=400$, $\\beta_{A}=10$, $S_{A}=3000$.\n- Unit $B$: $P_{B}^{\\min}=50$, $P_{B}^{\\max}=120$, $\\alpha_{B}=50$, $\\beta_{B}=30$, $S_{B}=1500$.\n\nWe define a Priority List (PL) heuristic that ranks units by ascending linear marginal cost $\\beta_{i}$ and, in each period independently, commits the minimum set of units from the top of the list necessary to feasibly meet $D_{t}$, dispatching economically given the committed set, but ignoring inter-temporal start-up considerations. Separately, define the Dynamic Programming (DP) method based on the Principle of Optimality that computes an inter-temporal optimal commitment minimizing total cost $\\sum_{t=1}^{3}\\sum_{i}(\\alpha_{i}u_{i,t}+\\beta_{i}P_{i,t}+S_{i}y_{i,t})$ subject to the constraints and initial condition.\n\nUsing the data above, compute:\n1. The PL schedule and its total cost over the $3$ periods.\n2. The DP-optimal schedule and its total cost over the $3$ periods.\n3. The cost gap, defined as $\\text{PL total cost} - \\text{DP total cost}$.\n\nExpress the final cost gap in dollars as a single real-valued number. No rounding is required; report the exact value.",
            "solution": "The problem is first validated to ensure it is well-posed, scientifically grounded, and self-contained.\n\n### Step 1: Extract Givens\n- Time horizon: $3$ one-hour periods, indexed by $t\\in\\{1,2,3\\}$.\n- Net load demands: $\\{D_{1},D_{2},D_{3}\\}=\\{60, 160, 60\\}$ megawatts (MW).\n- Generating units: Two thermal units, indexed by $i\\in\\{A,B\\}$.\n- Cost function per unit per period: $C_{i,t}=\\alpha_{i}\\,u_{i,t}+\\beta_{i}\\,P_{i,t}+S_{i}\\,y_{i,t}$.\n- Decision variables: $u_{i,t}\\in\\{0,1\\}$ (on/off status), $y_{i,t}\\in\\{0,1\\}$ (startup status), $P_{i,t}$ (power output, MW).\n- Constraints:\n    - Generation limits: $P_{i}^{\\min}u_{i,t}\\leq P_{i,t}\\leq P_{i}^{\\max}u_{i,t}$.\n    - Power balance: $\\sum_{i}P_{i,t}=D_{t}$.\n    - Startup logic: $y_{i,t} = \\max(0, u_{i,t} - u_{i,t-1})$.\n- Initial conditions (at $t=0$): $u_{A,0}=0$, $u_{B,0}=0$.\n- Unit A parameters: $P_{A}^{\\min}=100$ MW, $P_{A}^{\\max}=200$ MW, $\\alpha_{A}=400$ ($/hr), $\\beta_{A}=10$ ($/MWh), $S_{A}=3000$ ($).\n- Unit B parameters: $P_{B}^{\\min}=50$ MW, $P_{B}^{\\max}=120$ MW, $\\alpha_{B}=50$ ($/hr), $\\beta_{B}=30$ ($/MWh), $S_{B}=1500$ ($).\n- Other constraints: No minimum up/down times, no ramping constraints, zero shutdown cost.\n- Methods to be used: Priority List (PL) heuristic and Dynamic Programming (DP).\n- Objective: Compute the cost gap, defined as (PL total cost) - (DP total cost).\n\n### Step 2: Validate Using Extracted Givens\nThe problem statement describes a classic, simplified Unit Commitment (UC) problem, a well-established topic in power systems engineering and energy systems modeling.\n- **Scientifically Grounded**: The model components (cost functions, generation constraints, power balance) are standard representations used in the field. The problem is a direct application of established optimization techniques (PL, DP) to a formal model. It is free of pseudoscience or factual unsoundness.\n- **Well-Posed**: The problem is well-defined with a clear objective function (minimize total cost), a complete set of constraints, and all necessary numerical data. A unique, stable, and meaningful solution exists.\n- **Objective**: The problem is stated in precise mathematical and engineering terms, free of subjective or ambiguous language.\n\n### Step 3: Verdict and Action\nThe problem is valid. A full solution will be provided.\n\n### Solution Derivation\n\nThe total cost over the $3$-period horizon is $\\sum_{t=1}^{3}\\sum_{i\\in\\{A,B\\}} C_{i,t}$. We will compute this total cost using two methods.\n\n#### 1. Priority List (PL) Heuristic Schedule and Cost\n\nThe PL heuristic ranks units by ascending linear marginal cost, $\\beta_i$.\n- Unit A: $\\beta_{A}=10$ $/MWh.\n- Unit B: $\\beta_{B}=30$ $/MWh.\nThe priority list is therefore (A, B). For each period, we commit the minimum set of units from this list needed to feasibly supply the demand $D_t$.\n\n**Period $t=1$: $D_1=60$ MW**\n- Check Unit A (top of list): Its minimum output is $P_{A}^{\\min}=100$ MW, which is greater than the demand $D_1=60$ MW. Unit A cannot be on alone.\n- Check Unit B (next on list): Its operating range is $[P_{B}^{\\min}, P_{B}^{\\max}] = [50, 120]$ MW. Since $50 \\leq 60 \\leq 120$, Unit B can meet the demand alone.\n- Commitment: $u_{A,1}=0$, $u_{B,1}=1$. Dispatch: $P_{A,1}=0$, $P_{B,1}=60$ MW.\n- Cost for $t=1$: Unit B starts up ($u_{B,0}=0 \\to u_{B,1}=1$), so $y_{B,1}=1$.\n  $$C_1 = (\\alpha_B u_{B,1} + \\beta_B P_{B,1}) + S_B y_{B,1} = (50 \\times 1 + 30 \\times 60) + 1500 \\times 1 = 50 + 1800 + 1500 = \\$3350$$\n\n**Period $t=2$: $D_2=160$ MW**\n- Check Unit A: Its range is $[100, 200]$ MW. Since $100 \\leq 160 \\leq 200$, Unit A can meet the demand alone. This is a minimal set.\n- Commitment: $u_{A,2}=1$, $u_{B,2}=0$. Dispatch: $P_{A,2}=160$ MW, $P_{B,2}=0$.\n- Cost for $t=2$: Unit A starts up ($u_{A,1}=0 \\to u_{A,2}=1$), so $y_{A,2}=1$. Unit B shuts down.\n  $$C_2 = (\\alpha_A u_{A,2} + \\beta_A P_{A,2}) + S_A y_{A,2} = (400 \\times 1 + 10 \\times 160) + 3000 \\times 1 = 400 + 1600 + 3000 = \\$5000$$\n\n**Period $t=3$: $D_3=60$ MW**\n- The logic is identical to Period 1. Unit A alone is infeasible. Unit B alone is feasible.\n- Commitment: $u_{A,3}=0$, $u_{B,3}=1$. Dispatch: $P_{A,3}=0$, $P_{B,3}=60$ MW.\n- Cost for $t=3$: Unit B starts up again ($u_{B,2}=0 \\to u_{B,3}=1$), so $y_{B,3}=1$.\n  $$C_3 = (\\alpha_B u_{B,3} + \\beta_B P_{B,3}) + S_B y_{B,3} = (50 \\times 1 + 30 \\times 60) + 1500 \\times 1 = 50 + 1800 + 1500 = \\$3350$$\n\n**Total PL Cost**:\n$$C_{\\text{PL}} = C_1 + C_2 + C_3 = 3350 + 5000 + 3350 = \\$11700$$\n\n#### 2. Dynamic Programming (DP) Optimal Schedule and Cost\n\nDP finds the minimum cost path over the time horizon. The state is the on/off status of the two units, $(u_A, u_B)$. There are $2^2=4$ states: $S_0=(0,0)$, $S_1=(0,1)$, $S_2=(1,0)$, $S_3=(1,1)$. Let $F_t(S)$ be the minimum cumulative cost to reach state $S$ at time $t$. The initial state is $S_0=(0,0)$ at $t=0$ with $F_0(S_0)=0$.\n\n**Stage $t=1$: $D_1=60$ MW**\n- From $F_0(0,0)=0$.\n- Feasibility: State $(0,1)$ is feasible as $50 \\le 60 \\le 120$. States $(1,0)$ and $(1,1)$ are infeasible as their minimum generation ($100$ and $150$ MW respectively) exceeds the demand.\n- To State $(0,1)$: Unit B starts up ($y_{B,1}=1$). Dispatch is $P_{B,1}=60$.\n  - Stage cost = $(\\alpha_B + \\beta_B P_{B,1}) + S_B = (50 + 30 \\times 60) + 1500 = 1850 + 1500 = 3350$.\n  - $F_1(0,1) = F_0(0,0) + 3350 = 3350$.\n\n**Stage $t=2$: $D_2=160$ MW**\n- Start from $F_1(0,1)=3350$.\n- Feasibility: State $(0,1)$ is infeasible as $D_2=160 > P_B^{\\max}=120$. States $(1,0)$ and $(1,1)$ are feasible.\n- Path to State $(1,0)$: Unit A starts up ($y_{A,2}=1$), B shuts down. Dispatch $P_{A,2}=160$.\n  - Stage cost = $(\\alpha_A + \\beta_A P_{A,2}) + S_A = (400 + 10 \\times 160) + 3000 = 2000 + 3000 = 5000$.\n  - Cumulative cost: $F_2(1,0) = F_1(0,1) + 5000 = 3350 + 5000 = 8350$.\n- Path to State $(1,1)$: Unit A starts up ($y_{A,2}=1$), B stays on. Demand $D_2=160$.\n  - Economic Dispatch for $(1,1)$: To minimize $10 P_A + 30 P_B$ subject to $P_A+P_B=160$, $100 \\le P_A \\le 200$, $50 \\le P_B \\le 120$. Since $\\beta_A<\\beta_B$, we maximize $P_A$. The constraint on $P_B$ implies $P_B = 160 - P_A$, so $50 \\le 160 - P_A \\le 120$, which gives $P_A \\in [40, 110]$. Combined with $P_A \\in [100, 200]$, the feasible range for $P_A$ is $[100, 110]$. To minimize cost, we use the cheaper unit A as much as possible, so we set $P_A=110$. Then $P_B = 50$. Dispatch is $(110, 50)$.\n  - Stage cost = $(\\alpha_A + \\alpha_B + \\beta_A P_A + \\beta_B P_B) + S_A = (400+50+10 \\times 110+30 \\times 50) + 3000 = (450+1100+1500) + 3000 = 3050+3000 = 6050$.\n  - Cumulative cost: $F_2(1,1) = F_1(0,1) + 6050 = 3350 + 6050 = 9400$.\n\n**Stage $t=3$: $D_3=60$ MW**\n- Feasibility: Only state $(0,1)$ is feasible. We calculate the cost to reach this state from the states at $t=2$.\n- From State $(1,0)$ (cumulative cost $8350$): B starts up ($y_{B,3}=1$), A shuts down. Dispatch $P_{B,3}=60$.\n  - Stage cost = $(\\alpha_B + \\beta_B P_{B,3}) + S_B = (50 + 30 \\times 60) + 1500 = 1850 + 1500 = 3350$.\n  - Total cost path 1: $8350 + 3350 = 11700$.\n- From State $(1,1)$ (cumulative cost $9400$): B stays on ($y_{B,3}=0$), A shuts down. Dispatch $P_{B,3}=60$.\n  - Stage cost = $(\\alpha_B + \\beta_B P_{B,3}) + S_B y_{B,3} = (50 + 30 \\times 60) + 0 = 1850$.\n  - Total cost path 2: $9400 + 1850 = 11250$.\n\n**Total DP Cost**:\nThe minimum cost at the end of the horizon is the minimum of all possible paths.\n$$C_{\\text{DP}} = \\min(11700, 11250) = \\$11250$$\nThe optimal schedule is $(0,1)\\to(1,1)\\to(0,1)$. This path keeps Unit B online in period 2, incurring higher production cost but avoiding a re-start cost in period 3.\n\n#### 3. Cost Gap\n\nThe cost gap is the difference between the total cost of the PL heuristic and the DP optimal method.\n$$\\text{Cost Gap} = C_{\\text{PL}} - C_{\\text{DP}} = 11700 - 11250 = 450$$",
            "answer": "$$\\boxed{450}$$"
        },
        {
            "introduction": "Building on the Dynamic Programming framework, this final practice introduces realistic operational constraints, specifically minimum up and down times. You will learn how these physical limitations restrict the feasible transitions between states and require an expanded state definition in your DP model . Solving this problem provides insight into how real-world unit commitment models balance economic objectives with the physical realities of power plant operations.",
            "id": "4113826",
            "problem": "Consider a thermal generation Unit Commitment (UC) problem for two units over a horizon of $T=3$ periods with minimum up/down time constraints, posed to be solved by Dynamic Programming (DP). The fundamental base is the definition of UC feasibility under minimum up/down times and convex production cost minimization at each period given a commitment. Assume the following:\n\n- The demand in period $t$ is $D_t$ with $D_1=130$, $D_2=220$, and $D_3=160$ (megawatts).\n- Each unit $i \\in \\{1,2\\}$ has a minimum and maximum output $P_{\\min,i}$ and $P_{\\max,i}$ with $P_{\\min,1}=50$, $P_{\\max,1}=150$, $P_{\\min,2}=40$, $P_{\\max,2}=120$ (megawatts).\n- Each unit $i$ has a convex quadratic variable generation cost $C^{\\mathrm{var}}_i(P_i)=a_i P_i + b_i P_i^2$ where $a_1=9$, $b_1=0.002$, $a_2=7$, and $b_2=0.003$ (U.S. dollars (USD) per megawatt and USD per megawatt squared, respectively).\n- Each unit $i$ incurs a no-load cost $F_i$ when on, with $F_1=700$ and $F_2=500$ (USD per period).\n- Each unit $i$ incurs a startup cost $S_i$ when transitioning from off to on, with $S_1=2000$ and $S_2=1500$ (USD).\n- There are no shutdown costs and no ramp-rate constraints; power balance must hold exactly in each period.\n- Minimum up/down times are $MU_1=2$, $MD_1=1$, $MU_2=1$, and $MD_2=2$ (periods).\n- Initial status and counters at the start of period $t=1$ are: unit $1$ is on and has been on for $1$ period, while unit $2$ is off and has been off for $1$ period. Counters evolve by incrementing within the same status; when a status changes, the counter for the new status resets to $1$. Transitions that would violate $MU_i$ or $MD_i$ are infeasible.\n\nTask:\n- Formulate the DP state as the pair of unit statuses and their time-in-status counters, and explain how minimum up/down time counters constrain feasible startup decisions in this instance.\n- At each period, given a feasible commitment, compute the economically optimal dispatch by minimizing the total variable cost $\\sum_{i} \\left(a_i P_i + b_i P_i^2\\right)$ subject to $P_{\\min,i} \\le P_i \\le P_{\\max,i}$ and $\\sum_{i} P_i = D_t$, and then add no-load and startup costs incurred in that period.\n- Use DP recursion to identify the optimal feasible commitment path over $T=3$ that satisfies demand in all periods, and compute the total cost over the horizon.\n\nExpress the final total optimal cost in U.S. dollars (USD). Round your answer to four significant figures.",
            "solution": "The user wants to solve a Unit Commitment (UC) problem using Dynamic Programming (DP).\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n\n- **Time Horizon**: $T=3$ periods.\n- **Demand**: $D_1=130$ MW, $D_2=220$ MW, $D_3=160$ MW.\n- **Unit 1 Parameters**:\n    - Power limits: $P_{\\min,1}=50$ MW, $P_{\\max,1}=150$ MW.\n    - Variable cost: $C^{\\mathrm{var}}_1(P_1)=a_1 P_1 + b_1 P_1^2$ with $a_1=9$ USD/MW, $b_1=0.002$ USD/MW$^2$.\n    - No-load cost: $F_1=700$ USD/period.\n    - Startup cost: $S_1=2000$ USD.\n    - Minimum up/down times: $MU_1=2$ periods, $MD_1=1$ period.\n- **Unit 2 Parameters**:\n    - Power limits: $P_{\\min,2}=40$ MW, $P_{\\max,2}=120$ MW.\n    - Variable cost: $C^{\\mathrm{var}}_2(P_2)=a_2 P_2 + b_2 P_2^2$ with $a_2=7$ USD/MW, $b_2=0.003$ USD/MW$^2$.\n    - No-load cost: $F_2=500$ USD/period.\n    - Startup cost: $S_2=1500$ USD.\n    - Minimum up/down times: $MU_2=1$ period, $MD_2=2$ periods.\n- **Other Constraints**:\n    - No shutdown costs.\n    - No ramp-rate constraints.\n    - Power balance: $\\sum_i P_i = D_t$ for each period $t$.\n- **Initial Conditions (start of period $t=1$)**:\n    - Unit 1: ON, has been ON for $1$ period.\n    - Unit 2: OFF, has been OFF for $1$ period.\n\n**Step 2: Validate Using Extracted Givens**\n\nThe problem is a standard, well-defined optimization problem in the field of power systems engineering.\n- **Scientifically Grounded**: The model is a simplified but standard formulation of the Unit Commitment problem, based on fundamental principles of economic dispatch and operational constraints. All parameters and concepts are standard in the field.\n- **Well-Posed**: The problem is specified with a clear objective function (minimize total cost) and a complete set of constraints (demand, generation limits, minimum up/down times). The provided data is sufficient to determine a unique optimal solution.\n- **Objective**: The problem is stated with precise numerical data and clear, unambiguous terminology. It is free of subjective or opinion-based claims.\n\nThe problem does not exhibit any of the invalidity flaws. It is a complete, consistent, and solvable problem.\n\n**Step 3: Verdict and Action**\n\nThe problem is **valid**. Proceeding with the solution.\n\n### Dynamic Programming Solution\n\nThe solution is found using a forward Dynamic Programming approach.\n\n**DP State Formulation**\nThe state for each unit $i$ at the beginning of period $t$ is its status (ON/OFF) and the number of consecutive periods it has been in that status. We can represent this with a single signed integer $x_{i,t-1}$.\n- $x_{i,t-1} = k > 0$: Unit $i$ has been ON for $k$ periods.\n- $x_{i,t-1} = -k < 0$: Unit $i$ has been OFF for $k$ periods.\nThe state of the system at the start of period $t$ is the pair $(x_{1,t-1}, x_{2,t-1})$.\n\nInitial state at start of period $t=1$: $(x_{1,0}, x_{2,0}) = (+1, -1)$.\n\n**Economic Dispatch (ED) Subproblem**\nFor any given commitment (set of ON units) in a period $t$, we must find the power outputs $P_i$ that minimize the total variable cost $\\sum_{i} C^{\\mathrm{var}}_i(P_i)$ subject to $\\sum_{i} P_i = D_t$ and $P_{\\min,i} \\le P_i \\le P_{\\max,i}$.\n\nThe optimal dispatch is achieved when the incremental costs (IC) of all operating units are equal, provided no unit is at its power limit. The incremental cost for unit $i$ is $IC_i(P_i) = \\frac{dC^{\\mathrm{var}}_i}{dP_i} = a_i + 2b_i P_i$.\n- For Unit 1: $IC_1(P_1) = 9 + 2(0.002)P_1 = 9 + 0.004P_1$. With $P_1 \\in [50, 150]$, the IC range is $[9+0.004(50), 9+0.004(150)] = [9.2, 9.6]$.\n- For Unit 2: $IC_2(P_2) = 7 + 2(0.003)P_2 = 7 + 0.006P_2$. With $P_2 \\in [40, 120]$, the IC range is $[7+0.006(40), 7+0.006(120)] = [7.24, 7.72]$.\n\nSince the maximum IC of Unit 2 ($7.72$) is less than the minimum IC of Unit 1 ($9.2$), Unit 2 is always more economical to dispatch. This creates a clear priority order: use Unit 2 first, then Unit 1.\n\n**DP Recurrence Step-by-Step**\n\n**Period $t=1$**\n- **Initial State**: $(+1, -1)$. Demand $D_1=130$ MW.\n- **Feasible Decisions**:\n    - Unit 1: Has been ON for $1$ period. $MU_1 = 2$. It must remain ON. New counter is $1+1=2$.\n    - Unit 2: Has been OFF for $1$ period. $MD_2 = 2$. It must remain OFF. New counter is $1+1=2$.\n- **Unique Feasible Commitment**: Unit 1 ON, Unit 2 OFF $(u_1=1, u_2=0)$. State at end of period 1 becomes $(+2, -2)$.\n- **Economic Dispatch**: Unit 1 must supply the entire demand. $P_1 = 130$ MW. This is feasible as $50 \\le 130 \\le 150$.\n- **Cost for Period 1 ($C_1$)**:\n    - Startup cost: $0$.\n    - No-load cost: $F_1 = 700$.\n    - Variable cost: $C^{\\mathrm{var}}_1(130) = 9 \\times 130 + 0.002 \\times 130^2 = 1170 + 0.002 \\times 16900 = 1170 + 33.8 = 1203.8$.\n    - Total cost: $C_1 = 700 + 1203.8 = 1903.8$ USD.\n\n**Period $t=2$**\n- **Starting State**: $(+2, -2)$. Demand $D_2=220$ MW.\n- **Feasible Decisions**:\n    - Unit 1: Has been ON for $2$ periods ($\\ge MU_1=2$). Can stay ON or shut down.\n    - Unit 2: Has been OFF for $2$ periods ($\\ge MD_2=2$). Can stay OFF or start up.\n- **Commitment Feasibility (Power Balance)**:\n    - $(u_1=1, u_2=1)$: Total capacity $[50+40, 150+120] = [90, 270]$. Demand $220$ is within this range. Feasible.\n    - $(u_1=1, u_2=0)$: Total capacity $[50, 150]$. Demand $220$ is not in this range. Infeasible.\n    - $(u_1=0, u_2=1)$: Total capacity $[40, 120]$. Demand $220$ is not in this range. Infeasible.\n    - $(u_1=0, u_2=0)$: Total capacity $[0, 0]$. Demand $220$ is not in this range. Infeasible.\n- **Unique Feasible Commitment**: Unit 1 ON, Unit 2 ON $(u_1=1, u_2=1)$. State at end of period 2 becomes $(+3, +1)$.\n- **Economic Dispatch**: For $D_2=220$ MW, use cheaper Unit 2 first. If we set $P_2 = P_{\\max,2} = 120$ MW, remaining demand is $220-120=100$ MW. Unit 1 must supply $P_1=100$ MW. This is feasible as $50 \\le 100 \\le 150$. Dispatch: $(P_1, P_2) = (100, 120)$.\n- **Cost for Period 2 ($C_2$)**:\n    - Startup cost: Unit 2 starts up, $S_2 = 1500$.\n    - No-load cost: $F_1 + F_2 = 700 + 500 = 1200$.\n    - Variable cost:\n        - $C^{\\mathrm{var}}_1(100) = 9 \\times 100 + 0.002 \\times 100^2 = 900 + 20 = 920$.\n        - $C^{\\mathrm{var}}_2(120) = 7 \\times 120 + 0.003 \\times 120^2 = 840 + 43.2 = 883.2$.\n    - Total cost: $C_2 = 1500 + 1200 + 920 + 883.2 = 4503.2$ USD.\n\n**Period $t=3$**\n- **Starting State**: $(+3, +1)$. Demand $D_3=160$ MW.\n- **Feasible Decisions**:\n    - Unit 1: Has been ON for $3$ periods ($\\ge MU_1=2$). Can stay ON or shut down.\n    - Unit 2: Has been ON for $1$ period ($\\ge MU_2=1$). Can stay ON or shut down.\n- **Commitment Feasibility (Power Balance)**:\n    - $(u_1=1, u_2=1)$: Total capacity $[90, 270]$. Demand $160$ is within this range. Feasible.\n    - $(u_1=1, u_2=0)$: Total capacity $[50, 150]$. Demand $160$ is not in this range. Infeasible.\n    - $(u_1=0, u_2=1)$: Total capacity $[40, 120]$. Demand $160$ is not in this range. Infeasible.\n    - $(u_1=0, u_2=0)$: Total capacity $[0, 0]$. Demand $160$ is not in this range. Infeasible.\n- **Unique Feasible Commitment**: Unit 1 ON, Unit 2 ON $(u_1=1, u_2=1)$. State at end of period 3 becomes $(+4, +2)$.\n- **Economic Dispatch**: For $D_3=160$ MW, we use the priority order. Setting $P_2 = P_{\\max,2} = 120$ MW leaves $P_1 = 40$ MW, which violates $P_{\\min,1}=50$. Therefore, the more expensive Unit 1 must be dispatched at its minimum: $P_1=P_{\\min,1}=50$ MW. The remaining demand, $160-50=110$ MW, must be supplied by Unit 2. This is feasible as $40 \\le 110 \\le 120$. Dispatch: $(P_1, P_2) = (50, 110)$.\n- **Cost for Period 3 ($C_3$)**:\n    - Startup cost: $0$.\n    - No-load cost: $F_1 + F_2 = 700 + 500 = 1200$.\n    - Variable cost:\n        - $C^{\\mathrm{var}}_1(50) = 9 \\times 50 + 0.002 \\times 50^2 = 450 + 5 = 455$.\n        - $C^{\\mathrm{var}}_2(110) = 7 \\times 110 + 0.003 \\times 110^2 = 770 + 36.3 = 806.3$.\n    - Total cost: $C_3 = 1200 + 455 + 806.3 = 2461.3$ USD.\n\n**Total Optimal Cost**\nThe constraints on minimum up/down times and power balance forced a single unique feasible schedule over the $3$-period horizon. The total cost is the sum of the costs from each period.\nTotal Cost = $C_1 + C_2 + C_3 = 1903.8 + 4503.2 + 2461.3 = 8868.3$ USD.\n\nThe problem requires rounding to four significant figures. The value $8868.3$ rounded to four significant figures is $8868$.",
            "answer": "$$\\boxed{8868}$$"
        }
    ]
}