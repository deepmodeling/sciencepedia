{
    "hands_on_practices": [
        {
            "introduction": "Before constructing complex optimization models, it is essential to have a firm grasp of the underlying cost structure. This practice provides a concrete exercise in calculating the full operational cost of a thermal generator from a given schedule, including complex components like state-dependent start-up costs and piecewise-linear variable costs. By evaluating the economic impact of a small change in the schedule , you will develop an intuition for the trade-offs that the unit commitment model must balance.",
            "id": "4104439",
            "problem": "A thermal generating unit is modeled within the Mixed-Integer Programming (MIP) formulation of the Unit Commitment (UC) problem over a planning horizon of $T = 8$ one-hour periods. The commitment variable is $u_t \\in \\{0,1\\}$ for each period $t \\in \\{1,2,\\dots,8\\}$, where $u_t = 1$ indicates the unit is on. The start-up indicator is $y_t \\in \\{0,1\\}$, defined by $y_t = \\max\\{0, u_t - u_{t-1}\\}$ with the convention that $u_0$ corresponds to the status immediately before the horizon. The shutdown indicator is $w_t \\in \\{0,1\\}$, defined by $w_t = \\max\\{0, u_{t-1} - u_t\\}$. The production decision is $p_t \\ge 0$, which must satisfy $p_t \\in [P^{\\min}, P^{\\max}]$ whenever $u_t = 1$ and $p_t = 0$ whenever $u_t = 0$. The cost decomposition follows standard UC modeling practice: total production cost includes a no-load cost, a variable cost, and event-based start-up and shutdown costs.\n\nThe unit’s parameters are:\n- Minimum and maximum power: $P^{\\min} = 50$ megawatts and $P^{\\max} = 150$ megawatts.\n- Variable production cost is convex piecewise linear with a breakpoint at $P^{\\text{mid}} = 100$ megawatts:\n$$\nC^{\\text{var}}(p_t) = \n\\begin{cases}\nm_1 \\, p_t & \\text{if } p_t \\le P^{\\text{mid}}, \\\\\nm_1 \\, P^{\\text{mid}} + m_2 \\, (p_t - P^{\\text{mid}}) & \\text{if } p_t > P^{\\text{mid}},\n\\end{cases}\n$$\nwith slopes $m_1 = 18$ United States Dollars per megawatt-hour and $m_2 = 30$ United States Dollars per megawatt-hour.\n- No-load cost: $C^{\\text{nl}} = 500$ United States Dollars per hour whenever $u_t = 1$.\n- Shutdown cost per event: $SD = 1000$ United States Dollars.\n- Start-up cost depends on the consecutive offline duration $d$ immediately prior to the start:\n$$\nSU(d) = \n\\begin{cases}\nSU^{\\text{hot}} = 2000 & \\text{if } d \\le H^{\\text{hot}}, \\\\\nSU^{\\text{warm}} = 5000 & \\text{if } H^{\\text{hot}} < d \\le H^{\\text{warm}}, \\\\\nSU^{\\text{cold}} = 12000 & \\text{if } d > H^{\\text{warm}},\n\\end{cases}\n$$\nwith thresholds $H^{\\text{hot}} = 2$ hours and $H^{\\text{warm}} = 6$ hours. The consecutive offline duration $d$ at a start in period $t$ equals the number of successive hours with $u_\\tau = 0$ directly preceding $t$, including the offline hours prior to the horizon. The initial status before the horizon is $u_0 = 0$ and the unit has been offline for $L_0 = 7$ hours prior to period $t=1$.\n\nConsider the following trial schedule over $t = 1,\\dots,8$:\n- $t = 1$: $u_1 = 0$, $p_1 = 0$.\n- $t = 2$: $u_2 = 0$, $p_2 = 0$.\n- $t = 3$: $u_3 = 1$, $y_3 = 1$, $p_3 = 80$.\n- $t = 4$: $u_4 = 1$, $y_4 = 0$, $p_4 = 120$.\n- $t = 5$: $u_5 = 1$, $y_5 = 0$, $p_5 = 100$.\n- $t = 6$: $u_6 = 0$, $w_6 = 1$, $p_6 = 0$.\n- $t = 7$: $u_7 = 0$, $p_7 = 0$.\n- $t = 8$: $u_8 = 1$, $y_8 = 1$, $p_8 = 150$.\n\nAssume that ramping limits and minimum up/down time constraints are satisfied by the trial schedule and do not bind. Using the above definitions:\n1. Compute the total cost over the horizon aggregating the start-up costs, shutdown costs, no-load costs, and variable production costs for the given trial schedule.\n2. Define an alternative schedule identical to the trial schedule except that the first start and associated on-state at period $t = 3$ are shifted later by one period to $t = 4$, with $u_3 = 0$, $y_4 = 1$, and the production levels from period $t = 4$ onward unchanged from the trial schedule. Compute the total cost under this alternative.\n3. Report the marginal cost of starting one period earlier versus later, defined as the difference between the trial schedule cost (start at $t = 3$) and the alternative schedule cost (start at $t = 4$). A positive value indicates that starting earlier is more costly.\n\nExpress the final answer in United States Dollars (USD) and round your answer to four significant figures. Periods are one hour long.",
            "solution": "The problem is first validated against the specified criteria.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n\n-   **Planning Horizon**: $T = 8$ one-hour periods.\n-   **Variables**:\n    -   Commitment: $u_t \\in \\{0,1\\}$ for $t \\in \\{1, 2, \\dots, 8\\}$.\n    -   Start-up: $y_t = \\max\\{0, u_t - u_{t-1}\\} \\in \\{0,1\\}$.\n    -   Shutdown: $w_t = \\max\\{0, u_{t-1} - u_t\\} \\in \\{0,1\\}$.\n    -   Production: $p_t \\ge 0$.\n-   **Initial Conditions**: $u_0 = 0$, and the unit has been offline for $L_0 = 7$ hours prior to period $t=1$.\n-   **Unit Parameters**:\n    -   Minimum Power: $P^{\\min} = 50$ megawatts.\n    -   Maximum Power: $P^{\\max} = 150$ megawatts.\n    -   Production Constraint: $u_t = 1 \\implies p_t \\in [P^{\\min}, P^{\\max}]$, $u_t = 0 \\implies p_t = 0$.\n    -   No-Load Cost: $C^{\\text{nl}} = 500$ USD/hr.\n    -   Shutdown Cost: $SD = 1000$ USD/event.\n    -   Variable Cost: A convex piecewise linear function $C^{\\text{var}}(p_t)$ with a breakpoint at $P^{\\text{mid}} = 100$ MW.\n        -   Slope 1: $m_1 = 18$ USD/MWh for $p_t \\le P^{\\text{mid}}$.\n        -   Slope 2: $m_2 = 30$ USD/MWh for $p_t > P^{\\text{mid}}$.\n    -   Start-up Cost $SU(d)$ based on offline duration $d$:\n        -   $SU^{\\text{hot}} = 2000$ USD if $d \\le H^{\\text{hot}} = 2$ hours.\n        -   $SU^{\\text{warm}} = 5000$ USD if $H^{\\text{hot}}  d \\le H^{\\text{warm}} = 6$ hours.\n        -   $SU^{\\text{cold}} = 12000$ USD if $d > H^{\\text{warm}} = 6$ hours.\n-   **Trial Schedule**:\n    -   $t = 1$: $u_1 = 0$, $p_1 = 0$.\n    -   $t = 2$: $u_2 = 0$, $p_2 = 0$.\n    -   $t = 3$: $u_3 = 1$, $y_3 = 1$, $p_3 = 80$.\n    -   $t = 4$: $u_4 = 1$, $y_4 = 0$, $p_4 = 120$.\n    -   $t = 5$: $u_5 = 1$, $y_5 = 0$, $p_5 = 100$.\n    -   $t = 6$: $u_6 = 0$, $w_6 = 1$, $p_6 = 0$.\n    -   $t = 7$: $u_7 = 0$, $p_7 = 0$.\n    -   $t = 8$: $u_8 = 1$, $y_8 = 1$, $p_8 = 150$.\n-   **Alternative Schedule Definition**: Identical to trial, but start at $t=4$ instead of $t=3$. So $u_3=0$, $y_4=1$, and production levels from $t=4$ onward are unchanged.\n-   **Requested Computations**:\n    1.  Total cost of the trial schedule.\n    2.  Total cost of the alternative schedule.\n    3.  Marginal cost: (Cost of trial schedule) - (Cost of alternative schedule).\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is a standard, well-defined exercise in calculating the operational cost of a thermal generator based on a given schedule. The model and parameters are consistent with established practices in energy systems engineering and mixed-integer programming for unit commitment.\n-   **Scientifically Grounded**: The problem is based on the standard economic dispatch and unit commitment models used in power system operations. All parameters and concepts are valid.\n-   **Well-Posed**: The problem provides all necessary data to compute the required costs. The tasks are specific and lead to unique numerical answers.\n-   **Objective**: The language is precise and quantitative. No subjective elements are present.\n-   The data is internally consistent. For example, the given production levels $p_t$ are within the $[P^{\\min}, P^{\\max}]$ range when the unit is on ($u_t=1$) and are zero when the unit is off ($u_t=0$). For instance, at $t=3$, $p_3=80$ is within $[50, 150]$.\n\n**Step 3: Verdict and Action**\nThe problem is deemed **valid**. A full solution will be provided.\n\n### Solution\n\nThe total cost over the horizon is the sum of start-up, shutdown, no-load, and variable production costs.\n$C_{\\text{total}} = \\sum_{t=1}^{T} \\left( SU_t + SD \\cdot w_t + C^{\\text{nl}} \\cdot u_t + C^{\\text{var}}(p_t) \\right)$\nwhere $SU_t$ is the start-up cost incurred if a start-up event happens in period $t$.\n\n**1. Total Cost of the Trial Schedule ($C_{\\text{trial}}$)**\n\nFirst, we calculate each cost component for the given trial schedule.\n\n**A. Start-up Costs:**\nStart-ups occur when $y_t = 1$, which is at $t=3$ and $t=8$.\n-   **Start-up at $t=3$**: The unit is offline for $t=1, 2$. The initial offline duration is $L_0=7$ hours. The total consecutive offline duration $d_3$ before the start at $t=3$ is $d_3 = L_0 + 2 = 7 + 2 = 9$ hours. Since $d_3 = 9 > H^{\\text{warm}} = 6$, this is a cold start. The cost is $SU(d_3) = SU^{\\text{cold}} = \\$12000$.\n-   **Start-up at $t=8$**: The unit is on at $t=5$ and shuts down at $t=6$. It remains offline for $t=6, 7$. The consecutive offline duration $d_8$ before the start at $t=8$ is $d_8 = 2$ hours. Since $d_8=2 \\le H^{\\text{hot}}=2$, this is a hot start. The cost is $SU(d_8) = SU^{\\text{hot}} = \\$2000$.\n-   Total Start-up Cost: $C_{\\text{su}} = \\$12000 + \\$2000 = \\$14000$.\n\n**B. Shutdown Costs:**\nA shutdown occurs when $w_t=1$, which is at $t=6$. There is one shutdown event.\n-   Total Shutdown Cost: $C_{\\text{sd}} = 1 \\cdot SD = \\$1000$.\n\n**C. No-Load Costs:**\nThe unit is online ($u_t=1$) during periods $t=3, 4, 5, 8$. This is a total of $4$ hours.\n-   Total No-Load Cost: $C_{\\text{nl}} = 4 \\cdot C^{\\text{nl}} = 4 \\cdot \\$500 = \\$2000$.\n\n**D. Variable Production Costs:**\nWe calculate the cost for each period the unit is producing power.\n-   $t=3$: $p_3 = 80$ MW. Since $p_3 \\le P^{\\text{mid}}=100$, the cost is $C^{\\text{var}}(80) = m_1 \\cdot p_3 = 18 \\cdot 80 = \\$1440$.\n-   $t=4$: $p_4 = 120$ MW. Since $p_4 > P^{\\text{mid}}$, the cost is $C^{\\text{var}}(120) = m_1 \\cdot P^{\\text{mid}} + m_2 \\cdot (p_4 - P^{\\text{mid}}) = 18 \\cdot 100 + 30 \\cdot (120 - 100) = 1800 + 30 \\cdot 20 = 1800 + 600 = \\$2400$.\n-   $t=5$: $p_5 = 100$ MW. Since $p_5 \\le P^{\\text{mid}}$, the cost is $C^{\\text{var}}(100) = m_1 \\cdot p_5 = 18 \\cdot 100 = \\$1800$.\n-   $t=8$: $p_8 = 150$ MW. Since $p_8 > P^{\\text{mid}}$, the cost is $C^{\\text{var}}(150) = m_1 \\cdot P^{\\text{mid}} + m_2 \\cdot (p_8 - P^{\\text{mid}}) = 18 \\cdot 100 + 30 \\cdot (150 - 100) = 1800 + 30 \\cdot 50 = 1800 + 1500 = \\$3300$.\n-   Total Variable Cost: $C_{\\text{var}} = \\$1440 + \\$2400 + \\$1800 + \\$3300 = \\$8940$.\n\n**Total Cost of Trial Schedule:**\n$C_{\\text{trial}} = C_{\\text{su}} + C_{\\text{sd}} + C_{\\text{nl}} + C_{\\text{var}} = \\$14000 + \\$1000 + \\$2000 + \\$8940 = \\$25940$.\n\n**2. Total Cost of the Alternative Schedule ($C_{\\text{alt}}$)**\n\nIn the alternative schedule, the unit is off at $t=3$ and starts at $t=4$. The commitment and production schedule for $t=4$ onwards is the same as the trial schedule.\nThe new schedule is: $u'_1=0, u'_2=0, u'_3=0, u'_4=1, u'_5=1, u'_6=0, u'_7=0, u'_8=1$.\nProduction is: $p'_3=0, p'_4=120, p'_5=100, p'_8=150$.\n\n**A. Start-up Costs:**\nStart-ups occur at $t=4$ and $t=8$.\n-   **Start-up at $t=4$**: The unit is offline for $t=1, 2, 3$. With $L_0=7$, the total offline duration is $d_4 = L_0 + 3 = 7 + 3 = 10$ hours. Since $d_4 = 10 > H^{\\text{warm}}=6$, this is a cold start. Cost is $SU(d_4) = SU^{\\text{cold}} = \\$12000$.\n-   **Start-up at $t=8$**: The offline period is still $t=6, 7$, so $d_8 = 2$ hours. This is a hot start. Cost is $SU(d_8) = SU^{\\text{hot}} = \\$2000$.\n-   Total Start-up Cost: $C'_{\\text{su}} = \\$12000 + \\$2000 = \\$14000$.\n\n**B. Shutdown Costs:**\nA shutdown occurs at $t=6$ ($u'_5=1, u'_6=0$). There is one shutdown.\n-   Total Shutdown Cost: $C'_{\\text{sd}} = 1 \\cdot SD = \\$1000$.\n\n**C. No-Load Costs:**\nThe unit is online ($u'_t=1$) during periods $t=4, 5, 8$. This is a total of $3$ hours.\n-   Total No-Load Cost: $C'_{\\text{nl}} = 3 \\cdot C^{\\text{nl}} = 3 \\cdot \\$500 = \\$1500$.\n\n**D. Variable Production Costs:**\nProduction occurs at $t=4, 5, 8$.\n-   $C^{\\text{var}}(p'_4=120) = \\$2400$.\n-   $C^{\\text{var}}(p'_5=100) = \\$1800$.\n-   $C^{\\text{var}}(p'_8=150) = \\$3300$.\n-   Total Variable Cost: $C'_{\\text{var}} = \\$2400 + \\$1800 + \\$3300 = \\$7500$.\n\n**Total Cost of Alternative Schedule:**\n$C_{\\text{alt}} = C'_{\\text{su}} + C'_{\\text{sd}} + C'_{\\text{nl}} + C'_{\\text{var}} = \\$14000 + \\$1000 + \\$1500 + \\$7500 = \\$24000$.\n\n**3. Marginal Cost of Starting Earlier**\n\nThe marginal cost is defined as the difference between the trial schedule cost and the alternative schedule cost.\nMarginal Cost $= C_{\\text{trial}} - C_{\\text{alt}} = \\$25940 - \\$24000 = \\$1940$.\nThis positive value indicates that starting earlier (at $t=3$) is more costly. The difference arises because the trial schedule incurs costs for an additional hour of operation at $t=3$ (no-load cost and variable cost), while the start-up cost type (cold start) remains the same for both schedules.\nThe cost difference is precisely the cost of operating at $t=3$:\n$\\Delta C = C^{\\text{nl}} + C^{\\text{var}}(p_3) = \\$500 + \\$1440 = \\$1940$.\n\nThe problem requires the answer to be rounded to four significant figures. The calculated value is $1940$. To express this unambiguously with four significant figures, we use scientific notation: $1.940 \\times 10^3$.\nThe first computed value is $25940$, which is $2.594 \\times 10^4$ to four significant figures.\nThe second computed value is $24000$, which is $2.400 \\times 10^4$ to four significant figures.\nThe problem primarily asks to \"Report the marginal cost\". The previous two calculations are intermediary steps for this final report.",
            "answer": "$$\\boxed{1.940 \\times 10^3}$$"
        },
        {
            "introduction": "Mixed-integer programming formulations for unit commitment rely on \"Big-$M$\" constants to link binary commitment variables, such as $u_t$, to continuous operational constraints like ramping limits. The theoretical validity and computational performance of the model critically depend on choosing these constants to be as \"tight\" (small) as possible without cutting off feasible solutions. This exercise challenges you to derive the minimal required values for $M^{\\mathrm{up}}$ and $M^{\\mathrm{down}}$ by analyzing the worst-case scenarios that occur during generator start-up and shutdown transitions .",
            "id": "4104445",
            "problem": "Consider a single thermal unit to be scheduled over discrete, equally spaced time periods in a Mixed-Integer Programming (MIP) unit commitment model. Let $u_t \\in \\{0,1\\}$ denote the on/off commitment state at time $t$, and let $P_t \\in \\mathbb{R}_{\\ge 0}$ denote the real power output at time $t$. The unit has minimum and maximum generation limits $P^{\\min}$ and $P^{\\max}$, and symmetric single-period ramp limits: an upward ramp limit $RU$ and a downward ramp limit $RD$. The standard linking constraints enforce the power bounds\n$$\nP^{\\min} u_t \\le P_t \\le P^{\\max} u_t \\quad \\text{for all } t,\n$$\nso that when the unit is off, $P_t = 0$, and when it is on, $P_t \\in [P^{\\min}, P^{\\max}]$. To couple consecutive time periods $(t-1,t)$, consider the following Big-$M$ ramping constraints using constants $M^{\\mathrm{up}}$ and $M^{\\mathrm{down}}$:\n$$\nP_t - P_{t-1} \\le RU + M^{\\mathrm{up}} \\left(2 - u_{t-1} - u_t \\right),\n$$\n$$\nP_{t-1} - P_t \\le RD + M^{\\mathrm{down}} \\left(2 - u_{t-1} - u_t \\right).\n$$\nThese constraints are intended to enforce the physical ramp limits $RU$ and $RD$ when the unit is on in consecutive periods and to relax appropriately when at least one of the periods is off, without excluding any physically feasible $(P_{t-1}, P_t, u_{t-1}, u_t)$ combinations admitted by the power bounds.\n\nUsing only the definitions above and the requirement that the Big-$M$ constants must be large enough to avoid cutting off any feasible solution permitted by the power bounds when at least one of $u_{t-1}$ or $u_t$ equals zero, determine the smallest nonnegative values of $M^{\\mathrm{up}}$ and $M^{\\mathrm{down}}$ as real numbers for the numerical parameter values\n$$\nP^{\\min} = 60, \\quad P^{\\max} = 240, \\quad RU = 90, \\quad RD = 110.\n$$\nGive your final answer as a two-entry row vector $\\left[M^{\\mathrm{up}} \\; M^{\\mathrm{down}}\\right]$ with no units. No rounding is required.",
            "solution": "The problem requires the determination of the smallest nonnegative values for the Big-M constants, denoted as $M^{\\mathrm{up}}$ and $M^{\\mathrm{down}}$, in a set of ramping constraints for a unit commitment model. The constraints must remain valid for all feasible scenarios defined by the unit's power limits and its on/off state transitions.\n\nThe given parameters for the thermal unit are:\n- Minimum generation limit: $P^{\\min} = 60$\n- Maximum generation limit: $P^{\\max} = 240$\n- Upward ramp limit: $RU = 90$\n- Downward ramp limit: $RD = 110$\n\nThe variables are:\n- The binary commitment state at time $t$: $u_t \\in \\{0, 1\\}$\n- The real power output at time $t$: $P_t \\ge 0$\n\nThe power output is linked to the commitment state by the bounds:\n$$P^{\\min} u_t \\le P_t \\le P^{\\max} u_t$$\nThis implies that if $u_t=0$, then $P_t=0$. If $u_t=1$, then $P_t \\in [P^{\\min}, P^{\\max}]$.\n\nThe two ramping constraints to be analyzed are:\n1. Upward ramp: $P_t - P_{t-1} \\le RU + M^{\\mathrm{up}} \\left(2 - u_{t-1} - u_t \\right)$\n2. Downward ramp: $P_{t-1} - P_t \\le RD + M^{\\mathrm{down}} \\left(2 - u_{t-1} - u_t \\right)$\n\nThe constants $M^{\\mathrm{up}}$ and $M^{\\mathrm{down}}$ must be chosen just large enough so that these constraints do not improperly restrict the feasible space when the unit is not operating continuously (i.e., when $(u_{t-1}, u_t) \\neq (1,1)$). We analyze the constraints by considering all possible combinations of $(u_{t-1}, u_t)$.\n\n**Case 1: Unit is ON in both periods $(u_{t-1}=1, u_t=1)$**\nThe term $(2 - u_{t-1} - u_t) = 2 - 1 - 1 = 0$. The constraints reduce to:\n$$P_t - P_{t-1} \\le RU$$\n$$P_{t-1} - P_t \\le RD$$\nThese are the standard ramping constraints for a continuously operating unit. This case is the intended operating mode for these base constraints and does not provide bounds on $M^{\\mathrm{up}}$ or $M^{\\mathrm{down}}$.\n\n**Case 2: Unit is OFF in both periods $(u_{t-1}=0, u_t=0)$**\nHere, $P_{t-1}=0$ and $P_t=0$. The term $(2 - u_{t-1} - u_t) = 2 - 0 - 0 = 2$. The constraints become:\n$$0 - 0 \\le RU + 2 M^{\\mathrm{up}} \\implies 0 \\le RU + 2 M^{\\mathrm{up}}$$\n$$0 - 0 \\le RD + 2 M^{\\mathrm{down}} \\implies 0 \\le RD + 2 M^{\\mathrm{down}}$$\nSince $RU, RD, M^{\\mathrm{up}}, M^{\\mathrm{down}}$ must be nonnegative, these inequalities are trivially satisfied and do not impose a tight bound.\n\nThe critical cases are those involving a change in the unit's commitment state, where the Big-M terms are activated to relax the base ramping constraints.\n\n**Determining $M^{\\mathrm{up}}$**\n\nWe must ensure the upward ramp constraint $P_t - P_{t-1} \\le RU + M^{\\mathrm{up}} \\left(2 - u_{t-1} - u_t \\right)$ does not eliminate any feasible solutions. This is equivalent to requiring:\n$$M^{\\mathrm{up}} \\ge \\frac{(P_t - P_{t-1}) - RU}{2 - u_{t-1} - u_t}$$\nfor all feasible states where the denominator is non-zero. We need to find the maximum value the right-hand side can take.\n\n**Subcase _a_: Unit starts up $(u_{t-1}=0, u_t=1)$**\nThe feasible power levels are $P_{t-1}=0$ and $P_t \\in [P^{\\min}, P^{\\max}]$. The denominator is $2 - 0 - 1 = 1$. The condition on $M^{\\mathrm{up}}$ becomes:\n$$M^{\\mathrm{up}} \\ge (P_t - 0) - RU = P_t - RU$$\nTo satisfy this for all possible generation levels $P_t$ upon startup, we must consider the worst case, which corresponds to the maximum value of $P_t$.\n$$M^{\\mathrm{up}} \\ge \\max_{P_t \\in [P^{\\min}, P^{\\max}]} (P_t - RU) = P^{\\max} - RU$$\n\n**Subcase _b_: Unit shuts down $(u_{t-1}=1, u_t=0)$**\nThe feasible power levels are $P_{t-1} \\in [P^{\\min}, P^{\\max}]$ and $P_t=0$. The denominator is $2 - 1 - 0 = 1$. The condition becomes:\n$$M^{\\mathrm{up}} \\ge (0 - P_{t-1}) - RU = -P_{t-1} - RU$$\nTo satisfy this for all possible generation levels $P_{t-1}$ before shutdown, we must consider the worst case, which corresponds to the maximum value of $-P_{t-1} - RU$. This occurs when $P_{t-1}$ is minimized.\n$$M^{\\mathrm{up}} \\ge \\max_{P_{t-1} \\in [P^{\\min}, P^{\\max}]} (-P_{t-1} - RU) = -P^{\\min} - RU$$\n\nTo ensure the constraint is valid for all state transitions, $M^{\\mathrm{up}}$ must be greater than or equal to the maximum of these lower bounds.\n$$M^{\\mathrm{up}} \\ge \\max(P^{\\max} - RU, -P^{\\min} - RU)$$\nSince $P^{\\max}$, $P^{\\min}$, and $RU$ are positive, $P^{\\max} - RU$ is strictly greater than $-P^{\\min} - RU$. Thus, the binding constraint is $M^{\\mathrm{up}} \\ge P^{\\max} - RU$.\nThe problem requires the smallest nonnegative value, so $M^{\\mathrm{up}} = \\max(0, P^{\\max} - RU)$.\nSubstituting the numerical values:\n$$M^{\\mathrm{up}} = \\max(0, 240 - 90) = \\max(0, 150) = 150$$\n\n**Determining $M^{\\mathrm{down}}$**\n\nSimilarly, for the downward ramp constraint $P_{t-1} - P_t \\le RD + M^{\\mathrm{down}} \\left(2 - u_{t-1} - u_t \\right)$, we require:\n$$M^{\\mathrm{down}} \\ge \\frac{(P_{t-1} - P_t) - RD}{2 - u_{t-1} - u_t}$$\nfor all state transitions.\n\n**Subcase _a_: Unit starts up $(u_{t-1}=0, u_t=1)$**\nFeasible levels are $P_{t-1}=0$ and $P_t \\in [P^{\\min}, P^{\\max}]$. The denominator is $1$. The condition is:\n$$M^{\\mathrm{down}} \\ge (0 - P_t) - RD = -P_t - RD$$\nThe worst case is the maximum of $-P_t - RD$, which occurs at the minimum $P_t$.\n$$M^{\\mathrm{down}} \\ge \\max_{P_t \\in [P^{\\min}, P^{\\max}]} (-P_t - RD) = -P^{\\min} - RD$$\n\n**Subcase _b_: Unit shuts down $(u_{t-1}=1, u_t=0)$**\nFeasible levels are $P_{t-1} \\in [P^{\\min}, P^{\\max}]$ and $P_t=0$. The denominator is $1$. The condition is:\n$$M^{\\mathrm{down}} \\ge (P_{t-1} - 0) - RD = P_{t-1} - RD$$\nThe worst case occurs at the maximum $P_{t-1}$.\n$$M^{\\mathrm{down}} \\ge \\max_{P_{t-1} \\in [P^{\\min}, P^{\\max}]} (P_{t-1} - RD) = P^{\\max} - RD$$\n\nTo cover all cases, $M^{\\mathrm{down}}$ must be greater than or equal to the maximum of these lower bounds.\n$$M^{\\mathrm{down}} \\ge \\max(-P^{\\min} - RD, P^{\\max} - RD)$$\nSince $P^{\\max}$, $P^{\\min}$, and $RD$ are positive, $P^{\\max} - RD$ is the larger value. The smallest nonnegative value is $M^{\\mathrm{down}} = \\max(0, P^{\\max} - RD)$.\nSubstituting the numerical values:\n$$M^{\\mathrm{down}} = \\max(0, 240 - 110) = \\max(0, 130) = 130$$\n\nThe resulting tightest nonnegative Big-M values are $M^{\\mathrm{up}} = 150$ and $M^{\\mathrm{down}} = 130$.",
            "answer": "$$\n\\boxed{\n\\begin{bmatrix}\n150  130\n\\end{bmatrix}\n}\n$$"
        },
        {
            "introduction": "In real-world operations, rigid constraints such as a generator's minimum up-time can conflict with low-demand periods, creating an infeasible scheduling problem where minimum generation exceeds demand. This exercise presents a classic example of such an infeasibility and guides you through the standard modeling technique to resolve it: introducing slack variables for energy curtailment or load shedding, penalized by a large cost coefficient $M$ in the objective function. Mastering this concept  is crucial for developing robust unit commitment models that can find a \"least-bad\" solution even when ideal operation is not possible.",
            "id": "4104480",
            "problem": "A thermal Unit Commitment (UC) problem is posed over a discrete time horizon with two periods, $t \\in \\{1,2\\}$. There are two conventional generators $i \\in \\{1,2\\}$, each with a binary commitment variable $u_{i,t} \\in \\{0,1\\}$ and a continuous production variable $p_{i,t} \\ge 0$. Assume the standard logical link between commitment and production via minimum and maximum stable power: for each generator $i$ and period $t$, $p_{i,t} \\ge P_{\\min,i} \\, u_{i,t}$ and $p_{i,t} \\le P_{\\max,i} \\, u_{i,t}$. The power balance constraint is an equality in each period. Minimum up-time constraints are enforced in the standard sense: if a generator starts up, it must remain committed for a prescribed number of consecutive periods. Initial conditions carry over from prior to the horizon.\n\nData are as follows:\n- Demand is $D_1 = 180$ and $D_2 = 90$ (both in megawatts).\n- Generator $1$: $P_{\\min,1} = 60$, $P_{\\max,1} = 100$, minimum up-time $L_1 = 3$, marginal energy cost $c_1 = 20$ (in dollars per megawatt-hour).\n- Generator $2$: $P_{\\min,2} = 60$, $P_{\\max,2} = 100$, minimum up-time $L_2 = 2$, marginal energy cost $c_2 = 25$ (in dollars per megawatt-hour).\n- Initial conditions at $t=0$: generator $1$ is on and has just started such that it is required by its minimum up-time to remain on for both $t=1$ and $t=2$; generator $2$ is off and has no restriction preventing startup at $t=1$.\n\nAssume no ramps or minimum down-times beyond what is explicitly stated, and no other sources or sinks of energy. The objective is to minimize total generation costs (marginal energy cost times energy) subject to the constraints. You may assume any fixed startup or shutdown costs are negligible relative to the magnitudes discussed below.\n\nStarting from the fundamental UC definitions above (binary commitment implying operational bounds, power balance as an equality, and minimum up-time as a restriction on sequences of $u_{i,t}$ given initial conditions), reason about feasibility of the power balance. Then consider augmenting the model with nonnegative slack variables penalized by a “big-$M$” coefficient in the objective to restore feasibility when the base UC is infeasible.\n\nWhich option correctly identifies the infeasibility mechanism and gives a correct feasibility-restoring modification by adding appropriately signed load adjustment variables with a sufficiently large penalty, together with the minimal magnitudes of these variables for the given data?\n\nA. The base UC is infeasible at $t=2$ because minimum up-times force both generators to be on, so the sum of minimum outputs is $P_{\\min,1} + P_{\\min,2} = 120$, which exceeds $D_2 = 90$, making the equality power balance impossible. To restore feasibility, introduce two nonnegative slack variables for each $t$: dumped-energy $s_t \\ge 0$ and load shedding $l_t \\ge 0$, replace the balance equation with $\\sum_{i} p_{i,t} - s_t + l_t = D_t$, and add a penalty $M (s_t + l_t)$ to the objective with $M$ chosen such that $M > \\max\\{c_1, c_2\\}$. For the given data, the minimal slacks are $s_2 = 30$ and $l_2 = 0$, with $s_1 = l_1 = 0$.\n\nB. The base UC is infeasible at $t=1$ because $\\sum_i P_{\\max,i}  D_1$. To restore feasibility, add a single load shedding variable $l_t \\ge 0$ on the left side of the balance so that $\\sum_i p_{i,t} + l_t = D_t$, and set $M = 10$ to discourage shedding. The minimal shedding is $l_1 = 80$ and $l_2 = 0$.\n\nC. The base UC is feasible. No slack variables are needed; set $p_{1,1} = 100$, $p_{2,1} = 80$, $p_{1,2} = 60$, $p_{2,2} = 30$.\n\nD. The base UC infeasibility is caused by ramp-rate limits, not minimum up-times. To fix it, add only load shedding $l_t \\ge 0$ on the right side, $\\sum_i p_{i,t} = D_t - l_t$, with $M = 30$. Then $l_2 = 30$ resolves the conflict at $t=2$ without any dumped-energy variable.",
            "solution": "The problem requires an analysis of the feasibility of a two-generator, two-period Unit Commitment (UC) problem, and an evaluation of proposed modifications to handle potential infeasibilities.\n\n### Step 1: Extract Givens\n\n- **Time Horizon**: $t \\in \\{1, 2\\}$.\n- **Generators**: $i \\in \\{1, 2\\}$.\n- **Variables**: Binary commitment $u_{i,t} \\in \\{0,1\\}$, continuous production $p_{i,t} \\ge 0$.\n- **Constraints**:\n    - $p_{i,t} \\ge P_{\\min,i} \\, u_{i,t}$\n    - $p_{i,t} \\le P_{\\max,i} \\, u_{i,t}$\n    - $\\sum_{i=1}^{2} p_{i,t} = D_t$ for $t \\in \\{1, 2\\}$.\n    - Standard minimum up-time constraints.\n- **Data**:\n    - Demand: $D_1 = 180$ MW, $D_2 = 90$ MW.\n    - Generator $1$: $P_{\\min,1} = 60$ MW, $P_{\\max,1} = 100$ MW, minimum up-time $L_1 = 3$ periods, marginal cost $c_1 = 20$ $/MWh.\n    - Generator $2$: $P_{\\min,2} = 60$ MW, $P_{\\max,2} = 100$ MW, minimum up-time $L_2 = 2$ periods, marginal cost $c_2 = 25$ $/MWh.\n- **Initial Conditions ($t=0$)**:\n    - Generator $1$: On, and has been on for $1$ period.\n    - Generator $2$: Off.\n- **Assumptions**:\n    - Objective is to minimize total marginal generation cost $\\sum_{i,t} c_i p_{i,t}$.\n    - Startup/shutdown costs are negligible.\n    - No ramp-rate limits or minimum down-time constraints beyond what is implied.\n\n### Step 2: Validate Using Extracted Givens\n\nThe problem statement describes a standard Unit Commitment problem, a well-defined mixed-integer linear program used in power systems engineering. All terms are standard, and the provided data is numerically consistent and physically plausible for a small-scale system. The logic of minimum up-time and its interaction with initial conditions is a core concept in this field. The problem is scientifically grounded, well-posed, objective, and contains sufficient information for a rigorous analysis. Therefore, the problem is deemed **valid**.\n\n### Step 3: Derivation and Analysis\n\nWe will first determine the commitment status of each generator across the time horizon based on the initial conditions and constraints. Then, we will check the feasibility of the power balance equation for each period.\n\n**Analysis of Commitment Status:**\n\n1.  **Generator 1**:\n    - At $t=0$, generator $1$ has been on for $1$ period.\n    - Its minimum up-time is $L_1 = 3$ periods.\n    - Therefore, it must remain on for at least two more consecutive periods. This forces its commitment status to be on for the entire horizon: $u_{1,1} = 1$ and $u_{1,2} = 1$.\n\n2.  **Generator 2**:\n    - At $t=0$, generator $2$ is off. It is free to start up at $t=1$.\n    - The decision for $u_{2,1}$ and $u_{2,2}$ will be determined by feasibility and cost minimization, subject to its minimum up-time $L_2=2$.\n\n**Feasibility Analysis of the Base UC Problem:**\n\n**Period $t=1$**:\n- Demand is $D_1 = 180$ MW.\n- Generator $1$ must be on ($u_{1,1}=1$), so its production is bounded: $p_{1,1} \\in [P_{\\min,1}, P_{\\max,1}]$, which is $p_{1,1} \\in [60, 100]$.\n- The power balance is $p_{1,1} + p_{2,1} = 180$.\n- To satisfy this balance, the required production from generator $2$ is $p_{2,1} = 180 - p_{1,1}$.\n- Since $p_{1,1} \\le P_{\\max,1} = 100$, the minimum required production from generator $2$ is $p_{2,1, \\text{req}} \\ge 180 - 100 = 80$ MW.\n- A production level of $80$ MW is greater than $0$, so generator $2$ must be turned on: $u_{2,1}=1$.\n- With $u_{2,1}=1$, the allowed production range for generator $2$ is $p_{2,1} \\in [P_{\\min,2}, P_{\\max,2}]$, which is $p_{2,1} \\in [60, 100]$.\n- The required range for $p_{2,1}$ is $[80, 120]$ (derived from $p_{2,1} = 180-p_{1,1}$ and $p_{1,1} \\in [60, 100]$).\n- The intersection of the required range $[80, 120]$ and the allowed operational range $[60, 100]$ is $[80, 100]$. This is a non-empty, feasible range of production for generator $2$.\n- For example, a feasible dispatch is $p_{1,1}=100$ MW and $p_{2,1}=80$ MW.\n- **Conclusion for $t=1$**: The system is feasible. The only feasible commitment schedule is $(u_{1,1}, u_{2,1}) = (1,1)$.\n\n**Period $t=2$**:\n- Demand is $D_2 = 90$ MW.\n- As established, generator $1$ must be on: $u_{1,2}=1$.\n- From the analysis of $t=1$, we found that generator $2$ must be turned on at $t=1$ ($u_{2,1}=1$).\n- Generator $2$ has a minimum up-time of $L_2 = 2$ periods. Since it started at $t=1$, it must remain on at $t=2$. This forces $u_{2,2}=1$.\n- With both generators committed, the minimum generation from each is:\n    - $p_{1,2} \\ge P_{\\min,1} \\cdot u_{1,2} = 60 \\cdot 1 = 60$ MW.\n    - $p_{2,2} \\ge P_{\\min,2} \\cdot u_{2,2} = 60 \\cdot 1 = 60$ MW.\n- The total minimum generation at $t=2$ is $\\sum_i p_{i,2} \\ge 60 + 60 = 120$ MW.\n- The power balance constraint requires $\\sum_i p_{i,2} = D_2 = 90$ MW.\n- This results in a contradiction: the system must supply at least $120$ MW, but must exactly meet a demand of $90$ MW. This is impossible.\n- **Conclusion for $t=2$**: The base UC problem is infeasible due to forced over-generation.\n\n**Feasibility Restoration:**\nThe infeasibility is an excess generation of at least $120 - 90 = 30$ MW at $t=2$. To restore feasibility, the model must be augmented to handle this surplus.\n- A \"dumped energy\" or \"curtailment\" slack variable, $s_t \\ge 0$, is introduced to absorb excess generation.\n- A \"load shedding\" or \"unserved energy\" slack variable, $l_t \\ge 0$, is also commonly added to handle deficits, making the formulation robust.\n- The correct, standard power balance equation with these slack variables is:\n$$ \\sum_i p_{i,t} = D_t + s_t - l_t $$\nThis equation states that generation equals demand plus any dumped energy minus any shed load.\n- At $t=2$, we have an energy surplus, so we expect $s_2 > 0$ and $l_2 = 0$. The equation becomes $\\sum_i p_{i,2} = D_2 + s_2$.\n- To find the minimal slack value, we consider the minimum possible generation, $\\sum_i p_{i,2} = 120$ MW.\n- Substituting into the balance equation: $120 = 90 + s_2$.\n- This gives a minimal dumped energy of $s_2 = 30$ MW.\n- At $t=1$, the system is feasible, so the minimal slacks are $s_1 = 0$ and $l_1 = 0$.\n- The penalty term $M(s_t + l_t)$ is added to the objective. To ensure slacks are used only when necessary, the penalty $M$ must make their use more expensive than any available generation dispatch adjustment. A sufficient condition is that $M$ is greater than the highest marginal cost of generation, i.e., $M > \\max_i c_i = \\max\\{20, 25\\} = 25$ $/MWh.\n\n### Option-by-Option Analysis\n\n**A. The base UC is infeasible at $t=2$ because minimum up-times force both generators to be on, so the sum of minimum outputs is $P_{\\min,1} + P_{\\min,2} = 120$, which exceeds $D_2 = 90$, making the equality power balance impossible. To restore feasibility, introduce two nonnegative slack variables for each $t$: dumped-energy $s_t \\ge 0$ and load shedding $l_t \\ge 0$, replace the balance equation with $\\sum_{i} p_{i,t} - s_t + l_t = D_t$, and add a penalty $M (s_t + l_t)$ to the objective with $M$ chosen such that $M > \\max\\{c_1, c_2\\}$. For the given data, the minimal slacks are $s_2 = 30$ and $l_2 = 0$, with $s_1 = l_1 = 0$.**\n\n- The explanation for the infeasibility at $t=2$ is perfectly accurate, matching our derivation.\n- The use of slack variables $s_t$ and $l_t$ is the correct conceptual approach.\n- The penalty condition $M > \\max\\{c_1, c_2\\}$ is correct.\n- The calculated minimal slack values ($s_2 = 30$, others zero) are correct.\n- The proposed power balance equation is now correct. `Generation - Dumped + Shed = Demand` is a standard and physically correct formulation.\n\nVerdict: **Correct**.\n\n**B. The base UC is infeasible at $t=1$ because $\\sum_i P_{\\max,i}  D_1$. To restore feasibility, add a single load shedding variable $l_t \\ge 0$ on the left side of the balance so that $\\sum_i p_{i,t} + l_t = D_t$, and set $M = 10$ to discourage shedding. The minimal shedding is $l_1 = 80$ and $l_2 = 0$.**\n\n- The premise is incorrect. As shown in our analysis, the system is feasible at $t=1$.\n- The claim that $\\sum_i P_{\\max,i}  D_1$ is false; $100+100=200 > 180$.\n- The entire basis of the option is flawed.\n\nVerdict: **Incorrect**.\n\n**C. The base UC is feasible. No slack variables are needed; set $p_{1,1} = 100$, $p_{2,1} = 80$, $p_{1,2} = 60$, $p_{2,2} = 30$.**\n\n- The initial premise that the base UC is feasible is false. Our analysis proved it is infeasible at $t=2$.\n- The proposed solution violates the minimum generation constraint for generator $2$ at $t=2$. As derived, $u_{2,2}=1$, which implies $p_{2,2} \\ge P_{\\min,2}=60$. The option suggests $p_{2,2}=30$. This is not a valid dispatch.\n\nVerdict: **Incorrect**.\n\n**D. The base UC infeasibility is caused by ramp-rate limits, not minimum up-times. To fix it, add only load shedding $l_t \\ge 0$ on the right side, $\\sum_i p_{i,t} = D_t - l_t$, with $M = 30$. Then $l_2 = 30$ resolves the conflict at $t=2$ without any dumped-energy variable.**\n\n- The cause of infeasibility is incorrectly identified. The problem states to assume no ramp limits, and our analysis showed minimum up-times are the cause.\n- It proposes using load shedding ($l_t$) to solve an over-generation problem. This is conceptually wrong. A load shed variable cannot absorb excess power. The equation $\\sum_i p_{i,t} = D_t - l_t$ for $t=2$ would require $120 \\le \\sum p_{i,t} = 90 - l_2$, which is impossible for $l_2 \\ge 0$.\n\nVerdict: **Incorrect**.",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}