{
    "hands_on_practices": [
        {
            "introduction": "机组组合问题的核心在于对发电机组启停状态和功率输出之间非凸关系的建模。一个强有力的公式通过构建可行域的凸包（convex hull）来精确描述这种关系。本练习将带你通过一个基本案例，探索在线性规划松弛中，启停变量与功率输出变量之间的关系，从而加深对强公式（strong formulation）基础的理解。",
            "id": "4127322",
            "problem": "考虑一个机组组合模型中的单个火电机组。设二进制启停变量为 $u_t \\in \\{0,1\\}$，实数值功率输出为 $p_t \\in \\mathbb{R}_{+}$。该机组有一个技术最小出力 $P^{\\min}$ 和一个技术最大出力 $P^{\\max}$。针对可行运行集凸包的一种强启停关联公式采用线性不等式来强制执行以下基本行为：当机组关闭时（$u_t=0$），输出为零；当机组开启时（$u_t=1$），输出位于由技术最小和最大出力界定的闭区间内。在机组组合的线性规划松弛中，变量 $u_t$ 被允许在区间 $[0,1]$ 内取小数值，并且在没有对 $u_t$ 施加整数性约束的情况下，施加相同的关联不等式。\n\n给定 $P^{\\min}=50$ MW 和 $P^{\\max}=200$ MW，完成以下任务：\n- 仅使用强启停关联约束的基本定义和标准凸包推理，确定当 $u_t=0$ 时 $p_t$ 的可行区间。\n- 确定当 $u_t=1$ 时 $p_t$ 的可行区间。\n- 在线性规划松弛中，确定当 $u_t=0.4$ 时 $p_t$ 的允许值集合，并解释为什么在强公式下这些值是允许的。\n\n最后，计算当 $u_t=0.4$ 时 $p_t$ 可行区间的下界和上界之和。以MW为单位表示您的最终数值答案。不要四舍五入；报告精确值。",
            "solution": "用户希望解决一个关于强机组组合公式的问题。\n\n### 步骤 1：提取已知条件\n-   启停变量：$u_t \\in \\{0,1\\}$ (二进制)\n-   功率输出：$p_t \\in \\mathbb{R}_{+}$ (非负实数)\n-   技术最小出力：$P^{\\min}=50$ MW\n-   技术最大出力：$P^{\\max}=200$ MW\n-   当 $u_t=0$ 时的行为：$p_t=0$。\n-   当 $u_t=1$ 时的行为：$p_t$ 位于由技术最小和最大出力界定的闭区间内。\n-   在线性规划（LP）松弛中，$u_t$ 位于区间 $[0,1]$ 内。\n-   任务是找出当 $u_t=0$、$u_t=1$ 和 $u_t=0.4$ 时 $p_t$ 的可行区间，然后计算 $u_t=0.4$ 情况下区间的上下界之和。\n\n### 步骤 2：使用提取的已知条件进行验证\n-   **科学依据**：该问题是能源系统优化和数学规划领域的一个标准基础练习，具体涉及机组组合问题的公式化。强公式、凸包和LP松弛等概念在数学和科学上都是合理的。\n-   **适定性**：该问题是适定的。它提供了所有必要的参数（$P^{\\min}$、$P^{\\max}$）和一组明确的目标。定义清晰无歧义，可以导出一个唯一、稳定且有意义的解。\n-   **客观性**：问题以精确、客观和技术性的语言陈述，不含主观性或个人意见。\n-   该问题没有表现出任何诸如科学上不合理、数据缺失、矛盾或含糊不清等缺陷。它是应用数学中一个可形式化和可验证的问题。\n\n### 步骤 3：结论与行动\n该问题有效。将提供解决方案。\n\n问题要求分析单个发电机组的启停变量 $u_t$ 和功率输出 $p_t$ 之间的关系。机组的运行状态由变量对 $(u_t, p_t)$ 定义。问题指定了真实整数模型的可行运行点：\n$1$。当机组关闭时，其启停状态为 $u_t=0$，功率输出为 $p_t=0$。这对应于 $(u_t, p_t)$ 平面中的点 $(0, 0)$。\n$2$。当机组开启时，其启停状态为 $u_t=1$，其功率输出 $p_t$ 必须在其最小和最大发电水平之间，即 $P^{\\min} \\le p_t \\le P^{\\max}$。这对应于垂直线段 $\\{(1, p_t) | P^{\\min} \\le p_t \\le P^{\\max}\\}$。\n\n混合整数问题的总可行集是这两种情况的并集：\n$$ S = \\{(0, 0)\\} \\cup \\{ (1, p_t) \\mid P^{\\min} \\le p_t \\le P^{\\max} \\} $$\n线性规划（LP）松弛的“强启停关联公式”由该集合 $S$ 的凸包定义。凸包，记为 $\\text{conv}(S)$，是包含 $S$ 的最小凸集。在几何上，这是 $(u_t, p_t)$ 平面中以 $S$ 的极点为顶点的三角形。顶点是：\n-   $V_0 = (0, 0)$\n-   $V_1 = (1, P^{\\min})$\n-   $V_2 = (1, P^{\\max})$\n\n这个凸包中的任何点 $(u_t, p_t)$ 都可以用一组线性不等式来描述。这些不等式定义了由 $V_0$、$V_1$ 和 $V_2$ 形成的三角形的边界。\n连接 $V_0$ 和 $V_1$ 的线段由方程 $p_t = P^{\\min} u_t$ 描述。由于可行域在该线上方，我们得到不等式：\n$$ p_t \\ge P^{\\min} u_t $$\n连接 $V_0$ 和 $V_2$ 的线段由方程 $p_t = P^{\\max} u_t$ 描述。由于可行域在该线下方，我们得到不等式：\n$$ p_t \\le P^{\\max} u_t $$\n第三个边界是从 $V_1$ 到 $V_2$ 的线段，即对于 $p_t \\in [P^{\\min}, P^{\\max}]$ 的 $u_t=1$。上述两个不等式足以描述 $u_t \\in [0,1]$ 的可行域。这两个不等式，$p_t \\ge P^{\\min} u_t$ 和 $p_t \\le P^{\\max} u_t$，就是强启停关联约束。\n\n给定 $P^{\\min}=50$ MW 和 $P^{\\max}=200$ MW。约束条件是：\n$1$。$p_t \\ge 50 u_t$\n$2$。$p_t \\le 200 u_t$\n\n我们现在评估在指定的 $u_t$ 值下 $p_t$ 的可行区间。\n\n**情况 1：当 $u_t=0$ 时 $p_t$ 的可行区间**\n根据基本定义，当机组关闭时（$u_t=0$），其输出必须为零（$p_t=0$）。可行集只是单个值 $\\{0\\}$，可以表示为区间 $[0, 0]$。\n使用推导出的不等式：\n-   $p_t \\ge 50 \\times 0 \\implies p_t \\ge 0$\n-   $p_t \\le 200 \\times 0 \\implies p_t \\le 0$\n这两个条件共同意味着 $p_t=0$。因此，可行区间是 $[0, 0]$。\n\n**情况 2：当 $u_t=1$ 时 $p_t$ 的可行区间**\n根据基本定义，当机组开启时（$u_t=1$），其输出必须在其技术限制范围内，$p_t \\in [P^{\\min}, P^{\\max}]$。\n使用给定值，即为 $[50, 200]$。\n使用推导出的不等式：\n-   $p_t \\ge 50 \\times 1 \\implies p_t \\ge 50$\n-   $p_t \\le 200 \\times 1 \\implies p_t \\le 200$\n这两个条件将 $p_t$ 的可行区间定义为 $[50, 200]$。\n\n**情况 3：LP松弛中当 $u_t=0.4$ 时 $p_t$ 的可行区间**\n在LP松弛中，$u_t$ 可以是小数。我们将 $u_t=0.4$ 代入强关联约束中：\n-   $p_t \\ge 50 \\times 0.4 \\implies p_t \\ge 20$\n-   $p_t \\le 200 \\times 0.4 \\implies p_t \\le 80$\n$p_t$ 的允许值集合是区间 $[20, 80]$。\n\n这些值被允许的原因根植于凸包的定义。松弛可行集中的任何点 $(u_t, p_t)$ 必须能够表示为原始离散可行集顶点的凸组合，即 $V_0=(0, 0)$、$V_1=(1, 50)$ 和 $V_2=(1, 200)$。\n一个点 $(u_t, p_t)$ 可以写成：\n$$ (u_t, p_t) = \\alpha_0 V_0 + \\alpha_1 V_1 + \\alpha_2 V_2 $$\n其中 $\\alpha_0, \\alpha_1, \\alpha_2 \\ge 0$ 且 $\\alpha_0+\\alpha_1+\\alpha_2=1$。\n按分量来看，这是：\n$$ u_t = \\alpha_0(0) + \\alpha_1(1) + \\alpha_2(1) = \\alpha_1 + \\alpha_2 $$\n$$ p_t = \\alpha_0(0) + \\alpha_1(50) + \\alpha_2(200) = 50\\alpha_1 + 200\\alpha_2 $$\n给定 $u_t = 0.4$，我们有 $\\alpha_1 + \\alpha_2 = 0.4$。并且 $\\alpha_1 \\ge 0$ 和 $\\alpha_2 \\ge 0$。我们可以将 $\\alpha_2$ 表示为 $\\alpha_2 = 0.4 - \\alpha_1$。因为 $\\alpha_2 \\ge 0$，我们必须有 $0.4 - \\alpha_1 \\ge 0$，这意味着 $\\alpha_1 \\le 0.4$。所以，$0 \\le \\alpha_1 \\le 0.4$。\n将 $\\alpha_2$ 代入 $p_t$ 的表达式中：\n$$ p_t = 50\\alpha_1 + 200(0.4 - \\alpha_1) = 50\\alpha_1 + 80 - 200\\alpha_1 = 80 - 150\\alpha_1 $$\n为了找到 $p_t$ 的范围，我们在 $\\alpha_1$ 的极值处对其进行求值：\n-   当 $\\alpha_1=0$ 时，$p_t = 80 - 150(0) = 80$。这是上界。\n-   当 $\\alpha_1=0.4$ 时，$p_t = 80 - 150(0.4) = 80 - 60 = 20$。这是下界。\n当 $\\alpha_1$ 从 $0$ 连续变化到 $0.4$ 时，$p_t$ 从 $80$ 连续下降到 $20$。这证实了对于 $u_t = 0.4$，$p_t$ 的可行集确实是区间 $[20, 80]$。\n\n**最终计算**\n问题要求计算当 $u_t=0.4$ 时 $p_t$ 可行区间的下界和上界之和。\n-   下界：$20$ MW\n-   上界：$80$ MW\n-   和 = $20 + 80 = 100$\n\n最终数值答案是 $100$。",
            "answer": "$$\n\\boxed{100}\n$$"
        },
        {
            "introduction": "除了静态的运行约束，发电机组还必须遵守如最小停机时间之类的动态（或跨时段）约束。直接对这些逻辑规则进行建模可能效率低下，而有效的做法是引入“有效不等式”（valid inequalities）来切除违反这些规则的松弛解。本练习将指导你从第一性原理出发，推导并应用一个经典的最小停机时间不等式，亲身体验其如何在一个混合整数规划模型中强制执行物理约束。",
            "id": "4127319",
            "problem": "考虑一个在离散时间段 $t \\in \\{1,\\dots,T\\}$ 内运行的单一火力发电机组，其具有二元启停状态 $u_t \\in \\{0,1\\}$、二元启动指示变量 $x_t \\in \\{0,1\\}$ 和二元停机指示变量 $y_t \\in \\{0,1\\}$。连接这些变量的基本逻辑由标准机组状态转移方程 $u_t - u_{t-1} = x_t - y_t$（对所有 $t \\in \\{2,\\dots,T\\}$）给出，以及边界条件 $0 \\le u_t \\le 1$、$x_t \\in \\{0,1\\}$、$y_t \\in \\{0,1\\}$。最小停机时间为 $T^{\\mathrm{down}}=2$，其解释为：在任何一次停机后，机组必须在接下来的 $2$ 个连续时段内保持关闭状态。请在标准的混合整数线性规划（MILP）建模框架内，从第一性原理和上述定义出发，推导一个强有效不等式，该不等式通过将任意时刻 $k$ 的启停状态 $u_k$ 与最近的停机指示变量之和相关联来强制执行最小停机时间。然后，将您推导出的不等式具体化到 $T^{\\mathrm{down}}=2$ 和时间范围为 $T=5$ 个时段的情况。假设在时间 $t=3$ 时发生停机，即 $y_3=1$，并且不对其他停机指示变量做任何进一步的假设。通过在 $k=3$ 和 $k=4$ 处评估您的具体化不等式，确定 $u_3$ 和 $u_4$ 的强制值。将您的最终答案以行向量 $\\big(u_3,u_4\\big)$ 的形式报告。无需四舍五入，也不涉及单位。",
            "solution": "首先验证问题，以确保其具有科学依据、是良构的且客观的。\n\n**步骤1：提取已知条件**\n- 时间段: $t \\in \\{1,\\dots,T\\}$\n- 变量:\n  - 二元启停状态: $u_t \\in \\{0,1\\}$\n  - 二元启动指示变量: $x_t \\in \\{0,1\\}$\n  - 二元停机指示变量: $y_t \\in \\{0,1\\}$\n- 逻辑: $u_t - u_{t-1} = x_t - y_t$ 对所有 $t \\in \\{2,\\dots,T\\}$\n- 最小停机时间: $T^{\\mathrm{down}}=2$\n- 最小停机时间的解释: 在任何一次停机后，机组必须在接下来的 $2$ 个连续时段内保持关闭状态。\n- 建模框架: 混合整数线性规划 (MILP)\n- 问题特定条件: 时间范围 $T=5$，在 $t=3$ 时发生停机 ($y_3=1$)。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题具有科学依据，是电力系统工程和运筹学中的一个标准表述。其术语和数学结构在能源系统建模领域已经非常成熟。该问题是良构的，具有明确的目标和足够的数据来为所要求的值找到唯一解。语言是客观和精确的。没有矛盾、没有完成特定任务所缺失的数据，也不依赖于伪科学。该问题是推导和应用MILP约束的一个有效练习。\n\n**步骤3：结论与行动**\n问题被判定为**有效**。将继续求解过程。\n\n第一个任务是为最小停机时间约束推导一个强有效不等式。最小停机时间 $T^{\\mathrm{down}}$ 要求，如果一个机组在时间 $t$ 停机（由 $y_t=1$ 指示），它必须在总共 $T^{\\mathrm{down}}$ 个时段内保持关闭状态。在时间 $t$ 的停机意味着状态从 $u_{t-1}=1$ 变为 $u_t=0$。因此，机组必须保持关闭的时段是 $t, t+1, \\dots, t+T^{\\mathrm{down}}-1$。因此，逻辑蕴涵是：\n$y_t = 1 \\implies u_{\\tau} = 0$ 对所有 $\\tau \\in \\{t, t+1, \\dots, t+T^{\\mathrm{down}}-1\\}$。\n\n为了将其表述为将时间 $k$ 的状态 $u_k$ 与最近的停机事件相关联的单个线性不等式，我们考虑这个蕴涵的逆否命题。如果机组在时间 $k$ 是开启的（即 $u_k=1$），那么就不可能发生过任何会强制其关闭的停机事件。如果在强制关闭期间 $k$ 落在其中，即 $t \\le k \\le t+T^{\\mathrm{down}}-1$，则时间 $t$ 的停机会强制 $u_k=0$。对 $t$ 进行整理，这个条件是 $k-T^{\\mathrm{down}}+1 \\le t \\le k$。\n\n因此，如果 $u_k=1$，那么在区间 $[k-T^{\\mathrm{down}}+1, k]$ 内的任何时间 $t$ 都不能发生停机。由于 $y_t$ 是一个二元停机指示变量，这意味着：\n$u_k = 1 \\implies y_t = 0$ 对所有 $t \\in \\{k-T^{\\mathrm{down}}+1, \\dots, k\\}$。\n\n这等同于陈述，如果 $u_k=1$，那么在该关键窗口内停机指示变量的总和必须为零：\n$u_k=1 \\implies \\sum_{t=k-T^{\\mathrm{down}}+1}^{k} y_t = 0$。\n问题要求一个将 $u_k$ 与停机指示变量之和联系起来的不等式。逻辑条件“如果A，则B”等价于“非(A且非B)”。在我们的例子中，我们不能同时拥有 $u_k=1$ 和 $\\sum_{t=k-T^{\\mathrm{down}}+1}^{k} y_t \\ge 1$。\n机组组合的一个重要特性是，一个机组不能在没有中间启动的情况下停机两次。一次启动要求机组至少关闭 $T^{\\mathrm{down}}$ 个时段。这意味着两次停机事件，比如说在 $t_1$ 和 $t_2$，必须至少相隔 $T^{\\mathrm{down}}$ 个时段，即 $|t_1-t_2| \\ge T^{\\mathrm{down}}$。因此，在任何长度为 $T^{\\mathrm{down}}$ 的时间区间内，最多只能有一次停机。求和窗口 $[k-T^{\\mathrm{down}}+1, k]$ 的长度为 $T^{\\mathrm{down}}$。因此，二元变量 $y_t$ 在此窗口上的和最多为 1：\n$\\sum_{t=k-T^{\\mathrm{down}}+1}^{k} y_t \\in \\{0, 1\\}$。\n\n鉴于此，我们不能同时拥有 $u_k=1$ 和 $\\sum y_t=1$ 的条件可以被线性不等式完美地捕捉到：\n$$u_k + \\sum_{t=k-T^{\\mathrm{down}}+1}^{k} y_t \\le 1$$\n这是最小停机时间的通用强有效不等式，对 $k \\ge T^{\\mathrm{down}}$ 有效。对于 $k  T^{\\mathrm{down}}$，求和下界将调整为 $\\max(1, k-T^{\\mathrm{down}}+1)$。\n\n第二个任务是为给定的参数 $T^{\\mathrm{down}}=2$ 和时间范围 $T=5$ 具体化这个不等式。不等式变为：\n$$u_k + \\sum_{t=k-1}^{k} y_t \\le 1$$\n展开为：\n$$u_k + y_{k-1} + y_k \\le 1$$\n这个不等式对 $k \\in \\{2, 3, 4, 5\\}$ 有效。\n\n第三个任务是在给定 $t=3$ 时发生停机，即 $y_3=1$ 的条件下，评估这个具体化的不等式以找到 $u_3$ 和 $u_4$ 的强制值。\n\n为了确定 $u_3$ 的值，我们在具体化的不等式中设置 $k=3$：\n$$u_3 + y_{3-1} + y_3 \\le 1$$\n$$u_3 + y_2 + y_3 \\le 1$$\n代入给定条件 $y_3=1$：\n$$u_3 + y_2 + 1 \\le 1$$\n两边减去 $1$ 得到：\n$$u_3 + y_2 \\le 0$$\n变量 $u_3$ 和 $y_2$ 是二元的，因此是非负的，即 $u_3 \\ge 0$ 和 $y_2 \\ge 0$。两个非负变量的和小于或等于 $0$ 的唯一可能是两个变量都等于 $0$。因此，这个不等式强制 $u_3=0$ 和 $y_2=0$。$u_3$ 的强制值为 $0$。\n\n为了确定 $u_4$ 的值，我们在具体化的不等式中设置 $k=4$：\n$$u_4 + y_{4-1} + y_4 \\le 1$$\n$$u_4 + y_3 + y_4 \\le 1$$\n代入给定条件 $y_3=1$：\n$$u_4 + 1 + y_4 \\le 1$$\n两边减去 $1$ 得到：\n$$u_4 + y_4 \\le 0$$\n同样，由于 $u_4 \\ge 0$ 和 $y_4 \\ge 0$，它们的和只有在两者都为 $0$ 时才能小于或等于 $0$。这个不等式强制 $u_4=0$ 和 $y_4=0$。$u_4$ 的强制值为 $0$。\n\n这些结果与最小停机时间为 $2$ 的物理意义一致：在 $t=3$ 时停机（$y_3=1$）意味着机组必须在时段 $t=3$ 和 $t=4$ 关闭，所以 $u_3=0$ 和 $u_4=0$。\n\n强制值为 $u_3=0$ 和 $u_4=0$。最终答案应以行向量 $(u_3, u_4)$ 的形式报告。",
            "answer": "$$\\boxed{\\begin{pmatrix} 0  0 \\end{pmatrix}}$$"
        },
        {
            "introduction": "强公式的价值最终体现在其对线性规划（LP）松弛的“紧化”（tightening）效果上，一个更紧的松弛能够为求解器提供更优的界限，从而极大加速求解过程。本练习通过一个包含最小发电量和最小开机时间约束的小型优化问题，让你对比分析一个关键有效不等式存在与否对 LP 松弛最优解的影响。通过这个量化比较，你将深刻理解不同约束如何相互作用，以及强公式在实际求解中的重要性。",
            "id": "4127281",
            "problem": "考虑一个机组组合 (UC) 优化问题中的单个火电机组，时间跨度为两个时间段 $t \\in \\{1,2\\}$，并关注其线性规划 (LP) 松弛，其中二元变量被松弛为 $[0,1]$ 区间内的连续变量。该机组具有启停状态变量 $u_t \\in [0,1]$、启动变量 $y_t \\in [0,1]$、发电量变量 $p_t \\ge 0$ 和弃电量变量 $s_t \\ge 0$。初始状态为关闭，即 $u_0 = 0$。每个时间段的需求由 $d_t \\ge 0$ 给出。目标函数是最小化启动成本和线性生产成本之和。该模型在两个时间段上使用了强最小持续运行时间约束和标准容量耦合约束。具体来说，该模型是：\n- 目标函数：最小化 $a y_1 + c (p_1 + p_2)$。\n- 平衡约束：$p_t = d_t + s_t$，对于 $t \\in \\{1,2\\}$。\n- 容量耦合约束：$P^{\\min} u_t \\le p_t \\le P^{\\max} u_t$，对于 $t \\in \\{1,2\\}$。\n- 启动逻辑：$y_1 \\ge u_1 - u_0$，其中 $u_0 = 0$。\n- 强最小持续运行时间（两个时间段）：$u_1 + u_2 \\ge 2 y_1$。\n\n在此设定中，有效不等式 $P^{\\min} u_t \\le p_t$ 将开机决策与调度耦合起来。比较以下两种情况在线性规划松弛下的最优目标函数值：\n- 情况 A（无最小出力）：$P^{\\min} = 0$，因此下限容量不等式无效。\n- 情况 B（有正的最小出力）：$P^{\\min}  0$，因此下限容量不等式被强制执行。\n\n使用以下数值数据：\n- $P^{\\max} = 100$，\n- 情况 B 中 $P^{\\min} = 40$，情况 A 中 $P^{\\min} = 0$，\n- $d_1 = 30$, $d_2 = 0$，\n- $a = 100$，\n- $c = 10$。\n\n假设每个时间段为一小时，因此 $p_t$ 的单位是 $\\text{MW}$，生产成本 $c$ 的单位是 $\\text{\\$/MWh}$。计算情况 B 和情况 A 的最优 LP 松弛目标值之差，并以 $\\text{\\$}$ 为单位表示您的最终答案。无需四舍五入。",
            "solution": "该问题要求计算在一个机组组合 (UC) 问题的线性规划 (LP) 松弛下，两种不同最小发电水平情景的最优目标值之差。设 $Z_A$ 为情况 A ($P^{\\min}=0$) 的最优目标值，$Z_B$ 为情况 B ($P^{\\min}0$) 的最优目标值。我们必须计算 $Z_B - Z_A$。\n\n该优化问题可以表述如下：\n最小化 $Z = a y_1 + c (p_1 + p_2)$\n约束条件：\n1. $p_1 = d_1 + s_1$\n2. $p_2 = d_2 + s_2$\n3. $P^{\\min} u_1 \\le p_1 \\le P^{\\max} u_1$\n4. $P^{\\min} u_2 \\le p_2 \\le P^{\\max} u_2$\n5. $y_1 \\ge u_1 - u_0$\n6. $u_1 + u_2 \\ge 2 y_1$\n7. $u_t \\in [0, 1]$ 对于 $t \\in \\{1, 2\\}$\n8. $y_1 \\in [0, 1]$\n9. $p_t \\ge 0$, $s_t \\ge 0$ 对于 $t \\in \\{1, 2\\}$\n\n给定的数值数据如下：\n- $P^{\\max} = 100$\n- $d_1 = 30$, $d_2 = 0$\n- $a = 100$, $c = 10$\n- $u_0 = 0$\n\n根据约束 (5) 和 $u_0 = 0$，我们得到 $y_1 \\ge u_1$。\n将其与约束 (6) $u_1 + u_2 \\ge 2 y_1$ 结合，我们推导出一个重要关系。由于 $y_1 \\ge u_1$，必然有 $u_1 + u_2 \\ge 2 u_1$，简化后得到 $u_2 \\ge u_1$。\n此外，为了存在一个满足这两个约束的可行解 $y_1$，必须有 $u_1 \\le y_1 \\le \\frac{u_1 + u_2}{2}$。\n\n我们现在将对每种情况求解 LP。\n\n**情况 A：$P^{\\min} = 0$**\n\n发电量约束变为 $0 \\le p_t \\le P^{\\max} u_t$。\n目标函数是最小化 $Z_A = 100 y_1 + 10 (p_1 + p_2)$。\n使用平衡方程，我们可以将目标函数写为 $Z_A = 100 y_1 + 10 (d_1 + s_1 + d_2 + s_2) = 100 y_1 + 10 (30 + s_1 + 0 + s_2) = 100 y_1 + 300 + 10 s_1 + 10 s_2$。\n由于 $y_1$、$s_1$ 和 $s_2$ 的成本系数为正，我们寻求这些变量的最小可行值。\n\n为了最小化成本，我们应该尝试将弃电量设为零：$s_1 = 0$ 和 $s_2 = 0$。\n这意味着 $p_1 = d_1 = 30$ 和 $p_2 = d_2 = 0$。\n我们检查这是否可行。\n对于 $t=1$，容量约束为 $0 \\le p_1 \\le P^{\\max} u_1$，因此 $30 \\le 100 u_1$，这意味着 $u_1 \\ge 0.3$。\n对于 $t=2$，容量约束为 $0 \\le p_2 \\le P^{\\max} u_2$，因此 $0 \\le 100 u_2$，这对任何 $u_2 \\ge 0$ 都成立。\n为了最小化目标项 $100 y_1$，我们必须最小化 $y_1$。\n对 $y_1$ 的约束是 $y_1 \\ge u_1$ 和 $y_1 \\le \\frac{u_1+u_2}{2}$，其中 $u_1 \\ge 0.3$ 且 $u_2 \\ge u_1$。\n为了最小化 $y_1$，我们必须最小化其下界 $u_1$。$u_1$ 的最小值为 $0.3$。\n我们设置 $u_1 = 0.3$。\n为了满足 $u_2 \\ge u_1$，$u_2$ 的最小值也是 $0.3$。\n当 $u_1 = 0.3$ 和 $u_2 = 0.3$ 时，对 $y_1$ 的约束变为 $0.3 \\le y_1 \\le \\frac{0.3+0.3}{2} = 0.3$。这迫使 $y_1 = 0.3$。\n这个可行解是 $u_1=0.3$, $u_2=0.3$, $y_1=0.3$, $p_1=30$, $p_2=0$, $s_1=0$, $s_2=0$。\n目标值为 $Z_A = 100(0.3) + 10(30+0) = 30 + 300 = 330$。\n\n**情况 B：$P^{\\min} = 40$**\n\n现在发电量约束为 $40 u_t \\le p_t \\le 100 u_t$。\n目标是最小化 $Z_B = 100 y_1 + 10 (p_1 + p_2) = 100 y_1 + 300 + 10 s_1 + 10 s_2$。\n同样，我们寻求最小化 $y_1$、$s_1$ 和 $s_2$。\n\n对于 $t=1$：$40 u_1 \\le p_1 \\le 100 u_1$。代入 $p_1 = 30+s_1$：\n1. $40 u_1 \\le 30 + s_1 \\implies s_1 \\ge 40 u_1 - 30$。由于 $s_1 \\ge 0$，我们有 $s_1 \\ge \\max(0, 40 u_1 - 30)$。\n2. $30 + s_1 \\le 100 u_1$。由于 $s_1 \\ge 0$，这意味着 $30 \\le 100 u_1$，所以 $u_1 \\ge 0.3$。\n\n对于 $t=2$：$40 u_2 \\le p_2 \\le 100 u_2$。代入 $p_2 = s_2$：\n3. $40 u_2 \\le s_2$。\n\n为了最小化目标函数，我们必须为变量选择尽可能小的值，因此我们将它们设置为下界：\n$y_1 = u_1$（这要求 $u_2 \\ge u_1$）\n$s_1 = \\max(0, 40 u_1 - 30)$\n$s_2 = 40 u_2$\n\n将这些代入目标函数，我们用 $u_1$ 和 $u_2$ 来表示它：\n$Z_B(u_1, u_2) = 100 u_1 + 300 + 10 \\max(0, 40 u_1 - 30) + 10 (40 u_2)$\n$Z_B(u_1, u_2) = 100 u_1 + 300 + 10 \\max(0, 40 u_1 - 30) + 400 u_2$\n我们需要在 $u_1 \\ge 0.3$ 和 $u_2 \\ge u_1$ 的约束下最小化这个函数。\n成本函数在 $u_2$ 上是严格递增的。为了最小化它，对于任何给定的 $u_1$，我们必须选择最小的 $u_2$，即 $u_2 = u_1$。\n代入 $u_2 = u_1$，问题简化为最小化一个关于 $u_1$ 的函数：\n$Z_B(u_1) = 100 u_1 + 300 + 10 \\max(0, 40 u_1 - 30) + 400 u_1$\n$Z_B(u_1) = 500 u_1 + 300 + 10 \\max(0, 40 u_1 - 30)$\n我们在 $u_1 \\ge 0.3$ 的约束下最小化它。\n\n我们分析这个分段函数：\n- 如果 $0.3 \\le u_1 \\le 0.75$，那么 $40 u_1 - 30 \\le 0$，所以 $\\max(0, 40 u_1 - 30) = 0$。\n目标函数为 $Z_B(u_1) = 500 u_1 + 300$。这是一个关于 $u_1$ 的增函数。在此区间内的最小值在 $u_1 = 0.3$ 处取得。\n$Z_B(0.3) = 500(0.3) + 300 = 150 + 300 = 450$。\n\n- 如果 $u_1  0.75$，那么 $40 u_1 - 30  0$，所以 $\\max(0, 40 u_1 - 30) = 40 u_1 - 30$。\n目标函数为 $Z_B(u_1) = 500 u_1 + 300 + 10(40 u_1 - 30) = 500 u_1 + 300 + 400 u_1 - 300 = 900 u_1$。这也是一个增函数。其最小值在区间的下端，即 $u_1 \\to 0.75^{+}$ 时趋近。该值为 $900(0.75) = 675$。\n\n比较这两段的最小值，全局最小值为 $450$，在 $u_1=0.3$ 时取得。\n情况 B 的最优解为：$u_1 = 0.3$，$u_2 = 0.3$，$y_1 = 0.3$。这得到 $s_1 = \\max(0, 40(0.3) - 30) = 0$ 和 $s_2 = 40(0.3) = 12$。因此，$p_1=30$ 且 $p_2=12$。\n最优目标值为 $Z_B = 450$。\n\n**差值计算**\n\n最优目标值之差为：\n$Z_B - Z_A = 450 - 330 = 120$。\n根据题目要求，单位是美元。\n情况 B 中的额外成本是由于时间段 2 的最小发电量约束。由于 $u_10$（为了满足时间段 1 的需求）且最小持续运行时间约束强制 $u_2 \\ge u_1$，因此 $u_2$ 也必须为正。当 $P^{\\min}=400$ 时，即使需求为零，这也会强制发电量 $p_2 \\ge 40 u_2  0$，从而产生一个成本。在这种情况下，额外成本恰好是 $c \\cdot p_2 = 10 \\cdot 12 = 120$。",
            "answer": "$$\n\\boxed{120}\n$$"
        }
    ]
}