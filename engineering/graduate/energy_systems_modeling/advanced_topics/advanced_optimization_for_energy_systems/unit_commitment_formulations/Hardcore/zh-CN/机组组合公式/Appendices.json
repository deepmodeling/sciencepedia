{
    "hands_on_practices": [
        {
            "introduction": "本节的第一个实践旨在通过关注单个发电机的基本物理限制，为后续学习奠定基础。在优化一个系统之前，我们必须能够验证一个提议的调度计划是否物理上可行。本练习  要求您根据一个发电机组的最小发电量和爬坡约束，检查一个给定的调度计划，从而对运行可行性有一个具体的理解。",
            "id": "4134246",
            "problem": "考虑一个在机组组合（UC）背景下的单一火电机组，该机组需要在有限的时间范围内精确跟随已知的逐时负荷曲线。其发电时间序列以 $\\Delta t = 1$ 小时的均匀时间步长进行离散化，并且该机组在整个时间范围内都处于运行状态。将小时 $t$ 的负荷记为 $L_t$，机组的出力记为 $P_t$。该机组必须始终满足功率平衡 $P_t = L_t$，运行时须满足最小稳定出力约束 $P_t \\geq P^{\\min}$，以及按小时定义的爬坡约束：向上爬坡 $R^{\\uparrow}$ 和向下爬坡 $R^{\\downarrow}$。在时间 $t=0$ 时的初始出力为 $P_0$。假设该机组的最大出力足够高，在此场景中永远不会成为限制条件。\n\n决定可行性的基本约束如下：\n- 功率平衡：对所有 $t$，有 $P_t = L_t$。\n- 最小出力：对所有 $t$，有 $P_t \\geq P^{\\min}$。\n- 向上爬坡：对所有 $t \\geq 1$，有 $P_t - P_{t-1} \\leq R^{\\uparrow} \\Delta t$。\n- 向下爬坡：对所有 $t \\geq 1$，有 $P_{t-1} - P_t \\leq R^{\\downarrow} \\Delta t$。\n\n给定条件如下：\n- 最小出力 $P^{\\min} = 150$ 兆瓦。\n- 向上爬坡限制 $R^{\\uparrow} = 90$ 兆瓦/小时。\n- 向下爬坡限制 $R^{\\downarrow} = 110$ 兆瓦/小时。\n- 初始出力 $P_0 = 200$ 兆瓦。\n- 在 $t = 1, 2, \\dots, 8$ 小时内的负荷曲线：\n  - $L_1 = 260$, $L_2 = 340$, $L_3 = 280$, $L_4 = 170$, $L_5 = 150$, $L_6 = 220$, $L_7 = 310$, $L_8 = 180$ 兆瓦。\n\n定义可行性指标 $I$ 如下\n$$\nI = \\begin{cases}\n1,  \\text{若存在满足所有约束的出力 } \\{P_t\\}_{t=1}^{8} \\text{ 且对所有 } t \\text{ 都有 } P_t = L_t, \\\\\n0,  \\text{其他情况。}\n\\end{cases}\n$$\n\n计算 $I$。最终答案必须是一个不带单位的实数。无需四舍五入。",
            "solution": "问题要求判断该机组在满足最小出力和爬坡限制的条件下，是否能精确跟随给定的负荷。其基本原则是，当机组运行时，每个时刻的出力与负荷相等，即 $P_t = L_t$，以及对出力变化的跨时段约束，即爬坡约束。这些是能源系统建模中机組组合（UC）公式的标准运行约束。\n\n我们通过系统地检查各项约束来求解。\n\n首先，最小出力约束要求对所有 $t$ 都有 $P_t \\geq P^{\\min}$。由于 $P_t = L_t$，我们必须对所有 $t$ 都有 $L_t \\geq P^{\\min}$。给定的负荷值为\n$$\nL_1 = 260, \\quad L_2 = 340, \\quad L_3 = 280, \\quad L_4 = 170, \\quad L_5 = 150, \\quad L_6 = 220, \\quad L_7 = 310, \\quad L_8 = 180.\n$$\n当 $P^{\\min} = 150$ 时，我们逐一检查：\n- $L_1 = 260 \\geq 150$ 成立。\n- $L_2 = 340 \\geq 150$ 成立。\n- $L_3 = 280 \\geq 150$ 成立。\n- $L_4 = 170 \\geq 150$ 成立。\n- $L_5 = 150 \\geq 150$ 成立（达到约束边界但可行）。\n- $L_6 = 220 \\geq 150$ 成立。\n- $L_7 = 310 \\geq 150$ 成立。\n- $L_8 = 180 \\geq 150$ 成立。\n\n因此，如果机组精确跟随负荷，则在所有小时内都满足最小出力约束。\n\n其次，考虑爬坡约束。在时间离散化步长 $\\Delta t = 1$ 小时的情况下，连续小时之间允许的最大出力增加量为 $R^{\\uparrow} \\Delta t = 90 \\times 1 = 90$ 兆瓦，允许的最大出力减少量为 $R^{\\downarrow} \\Delta t = 110 \\times 1 = 110$ 兆瓦。由于 $P_t = L_t$，我们可以通过检查差值 $L_t - L_{t-1}$ 来检验爬坡约束，从初始出力 $P_0 = 200$ 必须转换到 $L_1$ 开始。\n\n计算连续的差值并与爬坡限制进行比较：\n- 从 $t=0$ 到 $t=1$：$L_1 - P_0 = 260 - 200 = 60$。向上爬坡检查：$60 \\leq 90$ 成立。\n- 从 $t=1$ 到 $t=2$：$L_2 - L_1 = 340 - 260 = 80$。向上爬坡检查：$80 \\leq 90$ 成立。\n- 从 $t=2$ 到 $t=3$：$L_3 - L_2 = 280 - 340 = -60$。向下爬坡幅度：$|{-60}| = 60 \\leq 110$ 成立。\n- 从 $t=3$ 到 $t=4$：$L_4 - L_3 = 170 - 280 = -110$。向下爬坡幅度：$|{-110}| = 110 \\leq 110$ 成立（正好在限制上，这是允许的，因为不等式是非严格的）。\n- 从 $t=4$ 到 $t=5$：$L_5 - L_4 = 150 - 170 = -20$。向下爬坡幅度：$|{-20}| = 20 \\leq 110$ 成立。\n- 从 $t=5$ 到 $t=6$：$L_6 - L_5 = 220 - 150 = 70$。向上爬坡检查：$70 \\leq 90$ 成立。\n- 从 $t=6$ 到 $t=7$：$L_7 - L_6 = 310 - 220 = 90$。向上爬坡检查：$90 \\leq 90$ 成立（达到限制）。\n- 从 $t=7$ 到 $t=8$：$L_8 - L_7 = 180 - 310 = -130$。向下爬坡幅度：$|{-130}| = 130$。与向下爬坡限制 $110$ 比较：$130 \\leq 110$ 不成立。\n\n因此，在 $t=7$ 和 $t=8$ 之间存在向下爬坡违规。由于机组必须精确跟随负荷，而所需的出力变化超过了其向下爬坡能力，因此不存在满足所有约束的可行出力方案。因此，可行性指标为 $I = 0$。\n\n没有其他约束是紧约束或被违反，最小出力约束也得到满足，但这一个向下爬坡违规就足以确定问题是不可行的。\n\n因此，计算出的可行性指标为 $I = 0$。",
            "answer": "$$\\boxed{0}$$"
        },
        {
            "introduction": "在可行性概念的基础上，本实践将重点转移到改变机组状态的逻辑和经济方面。机组组合的核心是关于启停决策。本练习  将指导您将一系列启停状态 ($u_t$) 转化为具体的启动 ($y_t$) 和关停 ($z_t$) 事件，并计算相关成本，这些成本实际中取决于机组最近的历史（热启动、温启动或冷启动）。",
            "id": "4134201",
            "problem": "考虑一个独立运行的火力发电机组，其离散时间范围长度为 $T=16$，时间索引集为 $\\mathcal{T}=\\{1,2,\\dots,16\\}$。在时间 $t$ 的二进制开/关机状态为 $u_t \\in \\{0,1\\}$，其中 $u_t=1$ 表示机组开启，$u_t=0$ 表示机组关闭。边界上的初始状态为 $u_0=1$。固定的开/关机计划由以下序列给出：\n$$\n(u_1,u_2,\\dots,u_{16})=(1,1,0,0,1,1,1,0,0,1,0,1,1,0,0,1).\n$$\n定义启动指示变量 $y_t \\in \\{0,1\\}$，如果在时段 $t$ 开始时发生启动，则其值为 $1$，否则为 $0$；定义停机指示变量 $z_t \\in \\{0,1\\}$，如果在时段 $t$ 开始时发生停机，则其值为 $1$，否则为 $0$。启动是指在时间 $t-1$ 和 $t$ 之间的边界上，机组状态从关机转换到开机；停机是指在同一边界上，机组状态从开机转换到关机。\n\n使用二进制转换的基本原理和两状态过程中的变化守恒，确定由固定的 $u_t$ 所隐含的序列 $(y_t)_{t \\in \\mathcal{T}}$ 和 $(z_t)_{t \\in \\mathcal{T}}$，并验证以下两个逻辑一致性属性：\n1. 净转换次数满足：在 $\\mathcal{T}$ 上的总启动次数减去总停机次数，等于 $t=0$ 和 $t=T$ 之间的状态变化。\n2. 在 $\\mathcal{T}$ 中不存在任何时间 $t$，使得启动和停机同时发生。\n\n对于每个启动时间 $t$（即 $y_t=1$），定义紧邻 $t$ 之前的停机时长为\n$$\n\\ell_t \\equiv \\max\\{k \\in \\mathbb{Z}_{\\ge 0}: u_{t-1}=0, u_{t-2}=0, \\dots, u_{t-k}=0\\},\n$$\n约定如果 $u_{t-1}=1$，则 $\\ell_t=0$。根据停机时长阈值规则对每次启动进行分类：\n- 热启动：如果 $\\ell_t=1$,\n- 温启动：如果 $\\ell_t=2$,\n- 冷启动：如果 $\\ell_t \\ge 3$.\n设每次事件的成本为：热启动成本 $C_{\\text{hot}}=3$ 千美元，温启动成本 $C_{\\text{warm}}=5$ 千美元，冷启动成本 $C_{\\text{cold}}=9$ 千美元，每次停机的停机成本 $C_{\\downarrow}=0.8$ 千美元。计算整个时间范围内的总启动和停机成本，\n$$\nC_{\\text{total}}=\\sum_{t=1}^{T} \\big( C_{\\text{hot}} \\cdot \\mathbf{1}\\{\\ell_t=1\\} + C_{\\text{warm}} \\cdot \\mathbf{1}\\{\\ell_t=2\\} + C_{\\text{cold}} \\cdot \\mathbf{1}\\{\\ell_t \\ge 3\\} \\big) y_t \\;+\\; \\sum_{t=1}^{T} C_{\\downarrow}\\, z_t,\n$$\n其中 $\\mathbf{1}\\{\\cdot\\}$ 是指示函数。将您的最终 $C_{\\text{total}}$ 值四舍五入到四位有效数字，并以千美元 (k$) 为单位表示。您的最终答案必须是一个实数。",
            "solution": "问题的核心是根据给定的火力发电机组开/关机计划，确定启动和停机事件的序列，然后计算总相关成本。\n\n首先，我们根据二进制开/关机状态 $u_t$ 建立启动和停机指示变量 $y_t$ 和 $z_t$ 的定义。如果机组状态从关机（$u_{t-1}=0$）转换到开机（$u_t=1$），则在时间 $t$ 发生一次启动。如果机组状态从开机（$u_{t-1}=1$）转换到关机（$u_t=0$），则发生一次停机。对于 $t \\in \\mathcal{T}=\\{1, 2, \\dots, 16\\}$，这些可以数学地表示为：\n$$\ny_t = \\max(0, u_t - u_{t-1})\n$$\n$$\nz_t = \\max(0, u_{t-1} - u_t)\n$$\n问题提供了初始状态 $u_0=1$ 以及时间范围 $T=16$ 内的运行计划：\n$$\n(u_1, u_2, \\dots, u_{16}) = (1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 0, 1)\n$$\n现在我们可以生成 $t \\in \\{0, 1, \\dots, 16\\}$ 的完整状态序列 $u_t$：\n$$\n(u_0, u_1, \\dots, u_{16}) = (1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 0, 1)\n$$\n使用这个序列，我们确定启动和停机发生的时间点：\n- 对于 $t=3$：$u_2=1, u_3=0 \\implies z_3=1$。\n- 对于 $t=5$：$u_4=0, u_5=1 \\implies y_5=1$。\n- 对于 $t=8$：$u_7=1, u_8=0 \\implies z_8=1$。\n- 对于 $t=10$：$u_9=0, u_{10}=1 \\implies y_{10}=1$。\n- 对于 $t=11$：$u_{10}=1, u_{11}=0 \\implies z_{11}=1$。\n- 对于 $t=12$：$u_{11}=0, u_{12}=1 \\implies y_{12}=1$。\n- 对于 $t=14$：$u_{13}=1, u_{14}=0 \\implies z_{14}=1$。\n- 对于 $t=16$：$u_{15}=0, u_{16}=1 \\implies y_{16}=1$。\n所有其他的 $y_t$ 和 $z_t$ 均为 $0$。\n启动序列 $(y_t)_{t \\in \\mathcal{T}}$ 在 $t \\in \\{5, 10, 12, 16\\}$ 时为1。\n停机序列 $(z_t)_{t \\in \\mathcal{T}}$ 在 $t \\in \\{3, 8, 11, 14\\}$ 时为1。\n\n接下来，我们验证两个逻辑一致性属性。\n1. 总启动次数为 $\\sum_{t=1}^{16} y_t = 4$。总停机次数为 $\\sum_{t=1}^{16} z_t = 4$。净转换次数为 $\\sum y_t - \\sum z_t = 4 - 4 = 0$。在 $t=0$ 和 $t=T=16$ 之间的状态变化为 $u_{16} - u_0 = 1 - 1 = 0$。该属性得到验证，因为 $0=0$。这是预料之中的，因为 $\\sum_{t=1}^{T} (y_t - z_t) = \\sum_{t=1}^{T} (u_t - u_{t-1}) = u_T - u_0$ 是一个裂项求和。\n2. 定义 $y_t = \\max(0, u_t-u_{t-1})$ 和 $z_t=\\max(0, u_{t-1}-u_t)$ 确保了对于任何给定的转换，两者中只有一个可以是非零的。如果 $u_t=u_{t-1}$，则两者都为 $0$。如果 $u_t \\ne u_{t-1}$，则一个为 $1$ 另一个为 $0$。因此，对于所有 $t$，$y_t + z_t \\in \\{0, 1\\}$，这满足 $y_t+z_t \\le 1$。没有同时发生启动和停机的情况。\n\n现在，我们通过计算之前的停机时长 $\\ell_t$ 来对每次启动进行分类。\n- 对于 $t=5$ 的启动：我们检查状态 $u_4, u_3, \\dots$。我们有 $u_4=0$ 和 $u_3=0$，但 $u_2=1$。连续关机状态的长度为 $2$。因此，$\\ell_5=2$。这是一次温启动。\n- 对于 $t=10$ 的启动：我们检查 $u_9, u_8, \\dots$。我们有 $u_9=0$ 和 $u_8=0$，但 $u_7=1$。连续关机状态的长度为 $2$。因此，$\\ell_{10}=2$。这是一次温启动。\n- 对于 $t=12$ 的启动：我们检查 $u_{11}, u_{10}, \\dots$。我们有 $u_{11}=0$，但 $u_{10}=1$。连续关机状态的长度为 $1$。因此，$\\ell_{12}=1$。这是一次热启动。\n- 对于 $t=16$ 的启动：我们检查 $u_{15}, u_{14}, \\dots$。我们有 $u_{15}=0$ 和 $u_{14}=0$，但 $u_{13}=1$。连续关机状态的长度为 $2$。因此，$\\ell_{16}=2$。这是一次温启动。\n\n在这个计划中没有冷启动（$\\ell_t \\ge 3$）。\n总启动成本是每次启动事件成本的总和：\n- $t=5$：温启动，成本为 $C_{\\text{warm}} = 5$ 千美元。\n- $t=10$：温启动，成本为 $C_{\\text{warm}} = 5$ 千美元。\n- $t=12$：热启动，成本为 $C_{\\text{hot}} = 3$ 千美元。\n- $t=16$：温启动，成本为 $C_{\\text{warm}} = 5$ 千美元。\n$$\n\\text{Total Startup Cost} = C_{\\text{warm}} + C_{\\text{warm}} + C_{\\text{hot}} + C_{\\text{warm}} = 5 + 5 + 3 + 5 = 18 \\text{ k\\$}\n$$\n总停机成本是停机次数乘以每次停机的成本 $C_{\\downarrow}=0.8$ 千美元。共有 $4$ 次停机。\n$$\n\\text{Total Shutdown Cost} = 4 \\times C_{\\downarrow} = 4 \\times 0.8 = 3.2 \\text{ k\\$}\n$$\n整个时间范围内的总成本是启动成本和停机成本的总和：\n$$\nC_{\\text{total}} = (\\text{Total Startup Cost}) + (\\text{Total Shutdown Cost}) = 18 + 3.2 = 21.2 \\text{ k\\$}\n$$\n问题要求将最终答案四舍五入到四位有效数字。数值 $21.2$ 有三位有效数字。为了用四位有效数字表示，我们添加一个尾随的零。\n$$\nC_{\\text{total}} = 21.20 \\text{ k\\$}\n$$",
            "answer": "$$\n\\boxed{21.20}\n$$"
        },
        {
            "introduction": "现实世界中的调度是一个动态过程，取决于系统的当前状态。最后一个实践通过演示如何在机组组合公式中处理初始条件，整合了之前的概念。您将学习到一个机组之前的运行状态，例如其初始输出和剩余的运行时间义务，如何产生会传播到未来的约束性约束，这是构建现实的、滚动优化模型的关键技能 。",
            "id": "4134203",
            "problem": "考虑在一个机组组合（UC）模型中，对单个火力发电机组在一个包含 $T = 3$ 个离散时段的有限规划时域内进行调度，其中机组组合（UC）指的是在满足工程约束的条件下，对发电机组的启停状态和出力进行的混合整数优化。设二元启停变量为 $u_t \\in \\{0,1\\}$，表示在时段 $t$ 机组是开启（$u_t = 1$）还是关闭（$u_t = 0$）；启动变量为 $s_t \\in \\{0,1\\}$；停机变量为 $r_t \\in \\{0,1\\}$；实值发电量为 $g_t \\ge 0$，单位为兆瓦（MW）。\n\n使用以下基本关系和经过充分检验的运行事实：\n- 逻辑状态转移：对每个时段 $t$，有 $u_t - u_{t-1} = s_t - r_t$。\n- 最小连续运行时间要求：机组一旦启动，必须连续运行至少 $L^{u}$ 个时段。\n- 最小连续停机时间要求：机组一旦停机，必须连续停机至少 $L^{d}$ 个时段。\n- 运行时发电量限制：$P^{\\min} \\, u_t \\le g_t \\le P^{\\max} \\, u_t$。\n- 考虑启动和停机裕量的爬坡限制：\n  $$g_t - g_{t-1} \\le R^{\\uparrow} \\, u_{t-1} + S^{\\uparrow} \\, s_t$$\n  $$g_{t-1} - g_t \\le R^{\\downarrow} \\, u_t + S^{\\downarrow} \\, r_t$$\n\n在初始时刻 $t=0$，已知机组处于开启状态，其启停状态为 $u_0 = 1$，初始发电出力为 $g_0 = 90$ MW，且剩余最小连续运行时间约束为 $\\tau^{u}_0 = 2$ 个时段（意味着由于之前的运行和最小连续运行时间 $L^{u}$ 的要求，该机组在接下来的2个时段内必须保持开启）。初始剩余最小连续停机时间为 $\\tau^{d}_0 = 0$ 个时段。物理参数如下：\n- $L^{u} = 3$ 个时段，$L^{d} = 2$ 个时段，\n- $P^{\\min} = 50$ MW，$P^{\\max} = 200$ MW，\n- $R^{\\uparrow} = 40$ MW/时段，$R^{\\downarrow} = 60$ MW/时段，\n- $S^{\\uparrow} = 80$ MW，$S^{\\downarrow} = 120$ MW。\n\n任务：\n1. 从上述基本关系出发，将初始启停状态 $u_0$、初始剩余运行/停机时间计数 $\\tau^{u}_0$ 和 $\\tau^{d}_0$、以及初始发电出力 $g_0$ 明确地纳入到管控时段 $t = 1, 2, 3$ 的约束中。你的推导应清楚地展示这些初始条件如何限制 $t = 1, 2, 3$ 的 $u_t$、$s_t$、$r_t$ 和 $g_t$。\n2. 使用推导出的约束，确定在时段 $t=1$ 的最大可行发电量 $g_1$（单位：MW），该发电量需满足所有由初始条件和物理参数引申出的约束。以MW为单位给出你的最终数值答案。无需四舍五入，请提供精确值。",
            "solution": "该问题要求对一个 $T=3$ 时段内的单机组组合问题进行两部分分析。首先，我们必须根据给定的初始条件，推导出时段 $t=1, 2, 3$ 的具体约束。其次，我们必须使用这些约束来确定第一个时段的最大可行发电水平 $g_1$。如果对于所有后续时段（$t=2, 3$），至少存在一种有效的调度延续方案，那么发电水平 $g_1$ 就被认为是可行的。\n\n给定参数如下：\n- 规划时域：$T=3$ 个时段。\n- 初始状态（$t=0$）：$u_0 = 1$，$g_0 = 90$ MW，$\\tau^{u}_0 = 2$ 个时段，$\\tau^{d}_0 = 0$ 个时段。\n- 机组参数：$L^{u} = 3$，$L^{d} = 2$，$P^{\\min} = 50$ MW，$P^{\\max} = 200$ MW，$R^{\\uparrow} = 40$ MW/时段，$R^{\\downarrow} = 60$ MW/时段，$S^{\\uparrow} = 80$ MW，$S^{\\downarrow} = 120$ MW。\n\n### 任务1：推导 $t = 1, 2, 3$ 的约束\n\n我们将结合初始条件和机组的演进状态，系统地推导每个时段的约束。\n\n**时段 $t=1$ 的约束：**\n\n1.  **启停状态 ($u_1, s_1, r_1$)：** 初始剩余最小运行时间为 $\\tau^{u}_0 = 2$ 个时段。这要求机组在 $t=1$ 和 $t=2$ 时段必须保持运行。\n    因此，$t=1$ 的启停状态是固定的：$u_1 = 1$。\n    使用逻辑状态转移方程 $u_1 - u_0 = s_1 - r_1$，其中 $u_1=1$ 且给定的 $u_0=1$：\n    $$1 - 1 = s_1 - r_1 \\Rightarrow s_1 - r_1 = 0$$\n    由于一个机组不能同时启动和停机（$s_1$ 和 $r_1$ 不能同时为1），这意味着 $s_1 = 0$ 且 $r_1 = 0$。\n\n2.  **发电量限制 ($g_1$)：** 当机组运行时，发电量必须在最小和最大出力限制之间。\n    $$P^{\\min} u_1 \\le g_1 \\le P^{\\max} u_1 \\Rightarrow 50 \\le g_1 \\le 200$$\n\n3.  **爬坡限制 ($g_1$)：**\n    - 上爬坡约束为 $g_1 - g_0 \\le R^{\\uparrow} u_0 + S^{\\uparrow} s_1$。代入已知值：\n      $$g_1 - 90 \\le (40)(1) + (80)(0) \\Rightarrow g_1 - 90 \\le 40 \\Rightarrow g_1 \\le 130$$\n    - 下爬坡约束为 $g_0 - g_1 \\le R^{\\downarrow} u_1 + S^{\\downarrow} r_1$。代入已知值：\n      $$90 - g_1 \\le (60)(1) + (120)(0) \\Rightarrow 90 - g_1 \\le 60 \\Rightarrow g_1 \\ge 30$$\n\n    综合所有关于 $g_1$ 的约束：$g_1$ 必须满足 $g_1 \\ge \\max(50, 30) = 50$ 和 $g_1 \\le \\min(200, 130) = 130$。\n    所以，对于 $t=1$：$u_1=1, s_1=0, r_1=0$ 且 $50 \\le g_1 \\le 130$。\n\n**时段 $t=2$ 的约束：**\n\n1.  **启停状态 ($u_2, s_2, r_2$)：** 初始运行时间要求 $\\tau^{u}_0 = 2$ 也迫使机组在时段 $t=2$ 开启。\n    因此，$u_2 = 1$。\n    根据状态转移 $u_2 - u_1 = s_2 - r_2$：\n    $$1 - 1 = s_2 - r_2 \\Rightarrow s_2 = 0, r_2 = 0$$\n\n2.  **发电量限制 ($g_2$)：**\n    $$P^{\\min} u_2 \\le g_2 \\le P^{\\max} u_2 \\Rightarrow 50 \\le g_2 \\le 200$$\n\n3.  **爬坡限制 ($g_2$)：**\n    - 上爬坡：$g_2 - g_1 \\le R^{\\uparrow} u_1 + S^{\\uparrow} s_2 = (40)(1) + (80)(0) \\Rightarrow g_2 \\le g_1 + 40$。\n    - 下爬坡：$g_1 - g_2 \\le R^{\\downarrow} u_2 + S^{\\downarrow} r_2 = (60)(1) + (120)(0) \\Rightarrow g_2 \\ge g_1 - 60$。\n\n    所以，对于 $t=2$：$u_2=1, s_2=0, r_2=0$ 且 $\\max(50, g_1 - 60) \\le g_2 \\le \\min(200, g_1 + 40)$。\n\n**时段 $t=3$ 的约束：**\n\n1.  **启停状态 ($u_3, s_3, r_3$)：** 在 $t=3$ 开始时，机组已在时段 $t=0, 1, 2$ 连续运行，满足了 $L^u=3$ 个时段的总最小运行时间。因此，机组可以选择继续运行或停机。$u_3$ 是一个决策变量。\n    状态转移为 $u_3 - u_2 = s_3 - r_3 \\Rightarrow u_3 - 1 = s_3 - r_3$。\n    - 如果 $u_3=1$，则 $s_3=0, r_3=0$。\n    - 如果 $u_3=0$，则 $s_3=0, r_3=1$。\n\n2.  **发电量和爬坡限制 ($g_3$)：** 这些取决于 $u_3$ 的选择。\n    - **情况A：机组继续运行 ($u_3=1, s_3=0, r_3=0$)。**\n      - 发电量限制：$50 \\le g_3 \\le 200$。\n      - 爬坡限制：$\\max(50, g_2 - 60) \\le g_3 \\le \\min(200, g_2 + 40)$。\n    - **情况B：机组停机 ($u_3=0, s_3=0, r_3=1$)。**\n      - 发电量：$g_3 = 0$。\n      - 爬坡限制：对前一个时段发电量 $g_2$ 的下爬坡约束变为紧约束。\n        $g_2 - g_3 \\le R^{\\downarrow} u_3 + S^{\\downarrow} r_3 \\Rightarrow g_2 - 0 \\le (60)(0) + (120)(1) \\Rightarrow g_2 \\le 120$。\n        这意味着只有在 $g_2 \\le 120$ MW 时，才可能在 $t=3$ 停机。\n\n### 任务2：确定最大可行 $g_1$\n\n$g_1$ 的最大可行值是满足 $t=1$ 时段约束，并允许 $t=2$ 和 $t=3$ 时段存在一个有效状态和发电水平序列的最高值。\n\n根据任务1，适用于 $t=1$ 的约束将 $g_1$ 限制在区间 $[50, 130]$ 内。该区间的最大值为 $g_1 = 130$ MW。我们必须验证设置 $g_1=130$ 是否允许 $t=2$ 和 $t=3$ 存在一个可行的轨迹。\n\n假设 $g_1 = 130$。\n\n**$t=2$ 的可行性检查：**\n对 $g_2$ 的约束为：\n$$\\max(50, g_1 - 60) \\le g_2 \\le \\min(200, g_1 + 40)$$\n代入 $g_1=130$：\n$$\\max(50, 130 - 60) \\le g_2 \\le \\min(200, 130 + 40)$$\n$$\\max(50, 70) \\le g_2 \\le \\min(200, 170)$$\n$$70 \\le g_2 \\le 170$$\n由于该区间非空（例如，我们可以选择 $g_2=100$），因此存在一个 $t=2$ 的可行发电水平。\n\n**$t=3$ 的可行性检查：**\n为了使调度可行，必须至少存在一个 $t=3$ 的有效选项。我们需要检查对于任何有效的 $g_2$（其中 $70 \\le g_2 \\le 170$），是否存在一个 $t=3$ 的有效状态。\n让我们分析 $t=3$ 时的两种可能操作：\n\n- **选项A（继续运行，$u_3=1$）：**\n  我们需要确定是否存在一个可行的 $g_3$。$g_3$ 的区间为 $[\\max(50, g_2 - 60), \\min(200, g_2 + 40)]$。如果下界小于或等于上界，则该区间非空。对于其有效范围 $[70, 170]$ 内的任何 $g_2$：\n  - $g_2 - 60 \\le g_2 + 40$（恒成立）。\n  - $50 \\le g_2 + 40 \\Rightarrow g_2 \\ge 10$（成立，因为 $g_2 \\ge 70$）。\n  - $g_2 - 60 \\le 200 \\Rightarrow g_2 \\le 260$（成立，因为 $g_2 \\le 170$）。\n  因此，对于任何有效的 $g_2$ 选择，如果机组继续运行，总能找到一个可行的 $g_3$。存在一条可行路径。\n\n- **选项B（停机，$u_3=0$）：**\n  此选项仅在 $g_2 \\le S^{\\downarrow} = 120$ 时可用。由于 $g_2$ 的可行范围是 $[70, 170]$，我们可以选择一个允许停机的 $g_2$（例如 $g_2 = 100$），也可以选择一个不允许停机的 $g_2$（例如 $g_2=150$）。\n\n关键点在于，只要至少存在一条前进的路径，调度就是可行的。由于选项A（继续运行）对于任何可行的 $g_2$ 总是可用的，因此无论如何选择 $g_2$（在其允许范围内），$t=3$ 的可行路径总是得到保证。\n\n这证实了未来时段（$t=2, 3$）的约束不会对 $g_1$ 的范围施加任何进一步的限制。$g_1$ 的可行范围就是仅从 $t=1$ 的约束推导出的范围，即 $50 \\le g_1 \\le 130$。\n\n此范围内的最大值为 $130$。任何大于 $130$ 的 $g_1$ 值都将违反 $t=1$ 的上爬坡约束。因此，时段 $t=1$ 的最大可行发电量是 $130$ MW。",
            "answer": "$$\\boxed{130}$$"
        }
    ]
}