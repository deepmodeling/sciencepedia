{
    "hands_on_practices": [
        {
            "introduction": "The definition of Conditional Value-at-Risk ($\\text{CVaR}$) involves complex statistical concepts, but its optimization is surprisingly practical. This foundational exercise guides you through the process of reformulating a $\\text{CVaR}$ minimization problem for power system reserves into a standard linear program. Mastering this technique  is essential for applying risk-averse methods to real-world systems.",
            "id": "4077181",
            "problem": "An independent system operator must decide a single day-ahead fast-start reserve capacity $x \\ge 0$ (in megawatts) to hedge uncertain net demand in a power system with variable renewable generation. Let the deterministic demand be $D$ and let the renewable generation be the random variable $R(\\xi)$, where $\\xi$ denotes the scenario. The operator incurs a capacity cost coefficient $c_x$ per unit of $x$ and a shortage penalty coefficient $c_p$ per unit of unmet demand. The realized loss under decision $x$ and scenario $\\xi$ is\n$$\nL(x,\\xi) \\;=\\; c_x\\,x \\;+\\; c_p\\,\\max\\bigl(0,\\,D - R(\\xi) - x\\bigr).\n$$\nThe operator seeks a risk-averse decision that minimizes the Conditional Value-at-Risk (CVaR) at confidence level $\\alpha \\in (0, 1)$ of the random loss $L(x,\\xi)$.\n\nStarting from the core definitions of Value-at-Risk (VaR) as the $\\alpha$-quantile of a loss distribution and Conditional Value-at-Risk (CVaR) as the tail expectation beyond VaR, derive a sample-based convex optimization reformulation for minimizing CVaR over $x$ using $N$ independent and identically distributed scenarios $\\{\\xi^{(i)}\\}_{i=1}^{N}$ of $R(\\xi)$ with equal probability, and show that this reformulation reduces to a linear program in appropriate decision and auxiliary variables.\n\nThen solve the following small instance. Consider $N=4$ equally likely scenarios with demand $D=100$ and renewable realizations $R(\\xi^{(1)})=70$, $R(\\xi^{(2)})=80$, $R(\\xi^{(3)})=90$, and $R(\\xi^{(4)})=95$. Let $c_x=2$ and $c_p=20$. Use confidence level $\\alpha=0.75$. Determine the optimal reserve capacity $x^{\\star}$ that minimizes the sample-based CVaR of $L(x,\\xi)$ for this instance. Express the final answer for $x^{\\star}$ in megawatts (MW). No rounding is required.",
            "solution": "The user wants me to solve a problem in risk-averse optimization for energy systems.\n\n### Step 1: Extract Givens\n-   Role of the decision maker: Independent system operator.\n-   Decision variable: Day-ahead fast-start reserve capacity, $x \\ge 0$ (MW).\n-   Deterministic demand: $D$.\n-   Random renewable generation: $R(\\xi)$, where $\\xi$ is the scenario.\n-   Capacity cost coefficient: $c_x$.\n-   Shortage penalty coefficient: $c_p$.\n-   Loss function under decision $x$ and scenario $\\xi$: $L(x,\\xi) = c_x x + c_p \\max(0, D - R(\\xi) - x)$.\n-   Optimization objective: Minimize the Conditional Value-at-Risk (CVaR) at confidence level $\\alpha \\in (0,1)$ of the random loss $L(x,\\xi)$.\n-   Task 1: Derive a sample-based convex optimization reformulation for minimizing CVaR over $x$ using $N$ independent and identically distributed scenarios $\\{\\xi^{(i)}\\}_{i=1}^{N}$ of $R(\\xi)$ with equal probability, and show that this reformulation reduces to a linear program.\n-   Task 2: Solve a specific instance with the following data:\n    -   Number of scenarios: $N=4$.\n    -   Demand: $D=100$.\n    -   Renewable generation realizations: $R(\\xi^{(1)})=70$, $R(\\xi^{(2)})=80$, $R(\\xi^{(3)})=90$, $R(\\xi^{(4)})=95$.\n    -   Capacity cost coefficient: $c_x=2$.\n    -   Shortage penalty coefficient: $c_p=20$.\n    -   Confidence level: $\\alpha=0.75$.\n-   Final Answer Requirement: The optimal reserve capacity $x^{\\star}$ in megawatts (MW).\n\n### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded, well-posed, and objective.\n-   **Scientifically Grounded**: The problem is a standard application of stochastic optimization and risk-averse decision-making, specifically using CVaR, to a common problem in power systems operation (unit commitment and reserve allocation). The formulation of the loss function is a well-established model for balancing capacity costs and shortage costs.\n-   **Well-Posed**: The problem is well-defined. The objective function, CVaR, is coherent and convex, and the decision space $x \\ge 0$ is a convex set. The loss function $L(x, \\xi)$ is convex in $x$. Since CVaR preserves convexity, the overall problem of minimizing $\\text{CVaR}_{\\alpha}(L(x, \\xi))$ is a convex optimization problem, which guarantees that a global minimum exists (and is unique if the objective is strictly convex, though not required).\n-   **Objective**: The problem statement is precise, using standard mathematical and economic terminology. All parameters and the objective are clearly and unambiguously defined.\n\nThe problem does not exhibit any of the invalidity flaws. It is a complete, consistent, and formalizable problem rooted in established operations research and energy economics principles.\n\n### Step 3: Verdict and Action\nThe problem is valid. I will proceed with providing a complete solution.\n\nThe solution is divided into two parts as requested by the problem statement.\n\n**Part 1: Derivation of the Linear Programming Reformulation**\n\nLet $Z(x, \\xi) = L(x, \\xi)$ be the random loss for a given decision $x$. The Value-at-Risk ($\\text{VaR}$) at a confidence level $\\alpha \\in (0,1)$ is the $\\alpha$-quantile of the loss distribution:\n$$\n\\text{VaR}_{\\alpha}(Z) = \\inf\\{z \\in \\mathbb{R} \\mid P(Z \\le z) \\ge \\alpha\\}.\n$$\nThe Conditional Value-at-Risk ($\\text{CVaR}$) is the expected loss in the $(1-\\alpha)$-tail of the distribution, i.e., the expected loss given that the loss exceeds the $\\text{VaR}$:\n$$\n\\text{CVaR}_{\\alpha}(Z) = E[Z \\mid Z > \\text{VaR}_{\\alpha}(Z)].\n$$\nA key result by Rockafellar and Uryasev (2000) provides a tractable way to optimize $\\text{CVaR}$. The $\\text{CVaR}$ of a random variable $Z$ can be found by solving an optimization problem with an auxiliary variable $v \\in \\mathbb{R}$:\n$$\n\\text{CVaR}_{\\alpha}(Z) = \\min_{v \\in \\mathbb{R}} \\left( v + \\frac{1}{1-\\alpha} E[\\max(0, Z - v)] \\right).\n$$\nThe optimal value of $v$ in this formulation is the $\\text{VaR}_{\\alpha}(Z)$.\n\nOur objective is to minimize the $\\text{CVaR}$ of the loss $L(x, \\xi)$ with respect to the reserve capacity $x \\ge 0$. This can be written as a joint minimization over $x$ and the auxiliary variable $v$:\n$$\n\\min_{x \\ge 0} \\text{CVaR}_{\\alpha}(L(x, \\xi)) = \\min_{x \\ge 0, v \\in \\mathbb{R}} \\left( v + \\frac{1}{1-\\alpha} E[\\max(0, L(x, \\xi) - v)] \\right).\n$$\nWe are given $N$ i.i.d. scenarios $\\{\\xi^{(i)}\\}_{i=1}^{N}$ with equal probability $1/N$. We can use the sample-average approximation (SAA) to replace the expectation operator $E[\\cdot]$ with an average over the samples:\n$$\nE[f(\\xi)] \\approx \\frac{1}{N} \\sum_{i=1}^{N} f(\\xi^{(i)}).\n$$\nApplying this to our objective function, and letting $R_i = R(\\xi^{(i)})$, the problem becomes:\n$$\n\\min_{x \\ge 0, v \\in \\mathbb{R}} \\left( v + \\frac{1}{N(1-\\alpha)} \\sum_{i=1}^{N} \\max\\left(0, L(x, \\xi^{(i)}) - v\\right) \\right).\n$$\nSubstituting the expression for the loss function $L(x, \\xi^{(i)}) = c_x x + c_p \\max(0, D - R_i - x)$:\n$$\n\\min_{x \\ge 0, v \\in \\mathbb{R}} \\left( v + \\frac{1}{N(1-\\alpha)} \\sum_{i=1}^{N} \\max\\left(0, c_x x + c_p \\max(0, D - R_i - x) - v\\right) \\right).\n$$\nThis objective function is convex but not linear due to the two nested $\\max$ functions. We can reformulate this as a linear program (LP) by introducing auxiliary variables.\n\nFirst, let's introduce an auxiliary variable $u_i$ for each scenario $i=1, \\dots, N$ to represent the term $\\max(0, \\dots)$:\n$$\nu_i \\ge c_x x + c_p \\max(0, D - R_i - x) - v, \\quad u_i \\ge 0.\n$$\nThe problem then becomes:\n$$\n\\min_{x, v, u_1, \\dots, u_N} \\left( v + \\frac{1}{N(1-\\alpha)} \\sum_{i=1}^{N} u_i \\right)\n$$\nsubject to the constraints on $u_i$. The constraints still contain a $\\max$ function. We can linearize this by introducing another set of auxiliary variables $s_i$ for the shortage term in each scenario:\n$$\ns_i \\ge D - R_i - x, \\quad s_i \\ge 0.\n$$\nThis is equivalent to $s_i = \\max(0, D - R_i - x)$.\n\nBy substituting $s_i$ into the constraints for $u_i$, we obtain a fully linear set of constraints. The final LP reformulation is:\n$$\n\\begin{array}{cll}\n\\min & v + \\frac{1}{N(1-\\alpha)} \\sum_{i=1}^{N} u_i & \\\\\n\\text{s.t.} & u_i \\ge c_x x + c_p s_i - v, & \\forall i=1, \\dots, N \\\\\n& s_i \\ge D - R_i - x, & \\forall i=1, \\dots, N \\\\\n& x \\ge 0 & \\\\\n& v \\in \\mathbb{R} & \\\\\n& u_i \\ge 0, & \\forall i=1, \\dots, N \\\\\n& s_i \\ge 0, & \\forall i=1, \\dots, N\n\\end{array}\n$$\nThis is a linear program with decision variables $x$, $v$, and the auxiliary variables $\\{u_i\\}_{i=1}^N$ and $\\{s_i\\}_{i=1}^N$. This completes the first part of the task.\n\n**Part 2: Solution for the Specific Instance**\n\nWe are given the following data:\n-   $N=4$ scenarios.\n-   $D=100$ MW.\n-   Renewable realizations: $R_1=70$ MW, $R_2=80$ MW, $R_3=90$ MW, $R_4=95$ MW.\n-   Costs: $c_x=2$ per MW, $c_p=20$ per MW.\n-   Confidence level: $\\alpha=0.75$.\n\nFirst, let's calculate the net demand $d_i = D - R_i$ for each scenario:\n$$\nd_1 = 100 - 70 = 30 \\text{ MW} \\\\\nd_2 = 100 - 80 = 20 \\text{ MW} \\\\\nd_3 = 100 - 90 = 10 \\text{ MW} \\\\\nd_4 = 100 - 95 = 5 \\text{ MW}\n$$\nThe loss function for each scenario $i$ is $L_i(x) = c_x x + c_p \\max(0, d_i - x)$.\n$$\nL_1(x) = 2x + 20 \\max(0, 30 - x) \\\\\nL_2(x) = 2x + 20 \\max(0, 20 - x) \\\\\nL_3(x) = 2x + 20 \\max(0, 10 - x) \\\\\nL_4(x) = 2x + 20 \\max(0, 5 - x)\n$$\nSince $d_1 > d_2 > d_3 > d_4$, it can be shown that for any given $x \\ge 0$, the losses are ordered as $L_1(x) \\ge L_2(x) \\ge L_3(x) \\ge L_4(x)$.\n\nWe want to minimize the sample-based $\\text{CVaR}_{0.75}$ of the loss. The number of scenarios in the tail of the distribution is $q = N(1-\\alpha) = 4(1-0.75) = 4(0.25) = 1$. When $N(1-\\alpha)$ is an integer, the sample $\\text{CVaR}$ is the average of the $N(1-\\alpha)$ largest losses. In this case, with $q=1$, the sample $\\text{CVaR}_{0.75}$ is simply the single largest loss.\nDue to the ordering of losses, the largest loss is always $L_1(x)$.\nTherefore, the problem of minimizing $\\text{CVaR}_{0.75}(L(x, \\xi))$ reduces to minimizing the maximum loss, which is $L_1(x)$:\n$$\n\\min_{x \\ge 0} L_1(x) = \\min_{x \\ge 0} \\left( 2x + 20 \\max(0, 30-x) \\right).\n$$\nThis is a convex optimization problem, which can be solved by analyzing the objective function $f(x) = 2x + 20 \\max(0, 30-x)$.\n\nWe consider two cases for $x \\ge 0$:\n1.  Case 1: $0 \\le x \\le 30$.\n    In this interval, $\\max(0, 30-x) = 30-x$. The objective function becomes:\n    $$\n    f(x) = 2x + 20(30-x) = 2x + 600 - 20x = 600 - 18x.\n    $$\n    This function is linearly decreasing in $x$. Its minimum value on the interval $[0, 30]$ is achieved at $x=30$, where $f(30) = 600 - 18(30) = 600 - 540 = 60$.\n\n2.  Case 2: $x > 30$.\n    In this interval, $\\max(0, 30-x) = 0$. The objective function becomes:\n    $$\n    f(x) = 2x.\n    $$\n    This function is linearly increasing in $x$. Its minimum value on the interval $(30, \\infty)$ is approached as $x$ approaches $30$ from the right. The value at $x=30$ is $f(30) = 2(30)=60$.\n\nCombining both cases, the function $f(x)$ is decreasing for $x \\in [0, 30)$ and increasing for $x \\in (30, \\infty)$. The global minimum is therefore attained at the point $x=30$.\nThe optimal reserve capacity is $x^{\\star} = 30$ MW.\n\nTo confirm this, we check the subgradient of $f(x)$ at $x=30$.\nThe subgradient of $f(x)$ at $x$ is $\\partial f(x) = 2 + 20 \\cdot \\partial_x(\\max(0, 30-x))$.\nThe subgradient of $\\max(0, 30-x)$ at $x=30$ is the interval $[-1, 0]$.\nThus, the subgradient of $f(x)$ at $x=30$ is:\n$$\n\\partial f(30) = 2 + 20 \\cdot [-1, 0] = 2 + [-20, 0] = [-18, 2].\n$$\nSince $0 \\in [-18, 2]$, the point $x=30$ is indeed the minimizer of $f(x)$.\n\nThe optimal reserve capacity is $30$ MW.",
            "answer": "$$\n\\boxed{30}\n$$"
        },
        {
            "introduction": "Minimizing the average cost is a common objective, but what if the worst-case outcomes are catastrophic? This practice directly contrasts a risk-neutral (expected cost) approach with a risk-averse ($\\text{CVaR}$) one in the context of generator commitment. By working through this example , you will quantify the trade-off between average performance and protection against extreme financial losses.",
            "id": "4077132",
            "problem": "Consider a single-period generation commitment and dispatch problem for an electrical power system with two thermal generators and uncertain demand. Let the two generators be indexed by $i \\in \\{1,2\\}$. For each generator $i$, the decision variable $x_i \\in \\{0,1\\}$ represents whether the generator is committed (on) or not (off). If committed, generator $i$ can produce an output $g_i \\ge 0$ up to its nameplate capacity $P_i$ (in $\\mathrm{MWh}$) in this single period. The uncertain net demand $D$ is modeled as a discrete random variable with support $\\{d_k\\}_{k=1}^K$ and probabilities $\\{\\pi_k\\}_{k=1}^K$ satisfying $\\sum_{k=1}^K \\pi_k = 1$, where each $d_k$ is expressed in $\\mathrm{MWh}$ and each $\\pi_k$ is a decimal fraction.\n\nAssume linear variable production costs and fixed commitment costs: generator $i$ has a variable cost $c_i$ (in $/MWh$) and a fixed cost $f_i$ (in $/h$) that is incurred if $x_i = 1$. Any unmet demand $L \\ge 0$ in a scenario incurs a penalty cost $\\lambda$ (in $/MWh$), representing the Value of Lost Load. For each scenario $k$, the dispatch solves the deterministic linear program to minimize the scenario cost subject to supply-demand balance and capacity limits:\n$$\n\\min_{g_1,g_2,L} \\quad c_1 g_1 + c_2 g_2 + \\lambda L \\\\\n\\text{subject to} \\\\\ng_1 + g_2 + L = d_k, \\\\\n0 \\le g_i \\le x_i P_i \\quad \\text{for } i \\in \\{1,2\\}, \\\\\nL \\ge 0.\n$$\nThe total scenario cost then equals the optimal value of the above dispatch objective plus the fixed commitment cost $f_1 x_1 + f_2 x_2$.\n\nDefine the expected-cost objective as the expectation of the total scenario cost:\n$$\n\\mathbb{E}[\\text{cost}] = \\sum_{k=1}^K \\pi_k \\, \\text{cost}(x_1,x_2; d_k).\n$$\nDefine the Conditional Value-at-Risk (CVaR) at confidence level $\\beta \\in (0,1)$ for the random total cost $X$ by the risk measure\n$$\n\\operatorname{CVaR}_\\beta(X) = \\min_{z \\in \\mathbb{R}} \\left\\{ z + \\frac{1}{1-\\beta} \\, \\mathbb{E}\\left[(X - z)_+\\right] \\right\\},\n$$\nwhere $(\\cdot)_+ = \\max\\{\\cdot, 0\\}$ and the expectation is taken with respect to the scenario probabilities $\\{\\pi_k\\}_{k=1}^K$.\n\nYour task is to implement a program that, for each specified test case, performs the following steps:\n- Enumerate all commitment patterns $(x_1,x_2) \\in \\{0,1\\}^2$.\n- For each commitment and each demand scenario $k$, compute the optimal dispatch $(g_1,g_2,L)$ that minimizes the scenario cost, subject to the linear constraints above. Use the fundamental linear programming principle that, under linear costs and capacity constraints, optimal dispatch in this single-period setting will allocate generation to lower variable-cost units first, up to their capacity, before allocating to higher variable-cost units; shedding occurs only if total committed capacity is insufficient to meet the scenario demand. The dispatch should be computed in $\\mathrm{MWh}$, and the resulting scenario cost in $\\$$.\n- Compute the total scenario costs (including fixed commitment costs) and from them compute the expected cost (in $\\$$) and the Conditional Value-at-Risk at level $\\beta$ (in $\\$$) for each commitment.\n- Identify the expected-cost-optimal commitment (minimizer of $\\mathbb{E}[\\text{cost}]$) and the Conditional Value-at-Risk-optimal commitment (minimizer of $\\operatorname{CVaR}_\\beta$). In case of ties, break ties by lexicographic order on $(x_1,x_2)$.\n- Compute the probability that load is shed (i.e., $L > 0$) under the expected-cost-optimal commitment, which equals $\\sum_{k: d_k > x_1 P_1 + x_2 P_2} \\pi_k$. This probability must be expressed as a decimal fraction.\n\nExpress all computed costs in dollars ($\\$$) and all energies in megawatt-hours ($\\mathrm{MWh}$). Report probabilities as decimal fractions. The final program output must present, for each test case, a list with the following eight entries:\n1. $x_1$ of the expected-cost-optimal commitment (integer $0$ or $1$),\n2. $x_2$ of the expected-cost-optimal commitment (integer $0$ or $1$),\n3. the expected cost for that commitment (float, in $\\$$),\n4. $x_1$ of the Conditional Value-at-Risk-optimal commitment (integer $0$ or $1$),\n5. $x_2$ of the Conditional Value-at-Risk-optimal commitment (integer $0$ or $1$),\n6. the $\\operatorname{CVaR}_\\beta$ value for that commitment (float, in $\\$$),\n7. an integer indicator equal to $1$ if the two optimal commitments differ and $0$ otherwise,\n8. the probability of load shedding under the expected-cost-optimal commitment (float, decimal fraction).\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, where each element is the list described above for one test case, in order. For example, the output format must be like [case1,case2,case3] with no extra spaces or characters.\n\nUse the following three test cases, which are designed to cover a normal case, a boundary case, and a penalty-sensitive edge case:\n- Test Case $1$ (heavy tail with expensive peaker):\n  - Generator $1$: $P_1 = 50 \\mathrm{MWh}$, $c_1 = 20 \\$/\\mathrm{MWh}$, $f_1 = 500 \\$/\\mathrm{h}$.\n  - Generator $2$: $P_2 = 70 \\mathrm{MWh}$, $c_2 = 50 \\$/\\mathrm{MWh}$, $f_2 = 9000 \\$/\\mathrm{h}$.\n  - Demand scenarios: $\\{d_k\\} = [40, 60, 110] \\mathrm{MWh}$ with probabilities $\\{\\pi_k\\} = [0.7, 0.2, 0.1]$.\n  - Penalty: $\\lambda = 1000 \\$/\\mathrm{MWh}$.\n  - Confidence level: $\\beta = 0.9$.\n- Test Case $2$ (same demand, moderate fixed cost for generator $2$):\n  - Generator $1$: $P_1 = 50 \\mathrm{MWh}$, $c_1 = 20 \\$/\\mathrm{MWh}$, $f_1 = 500 \\$/\\mathrm{h}$.\n  - Generator $2$: $P_2 = 70 \\mathrm{MWh}$, $c_2 = 50 \\$/\\mathrm{MWh}$, $f_2 = 2000 \\$/\\mathrm{h}$.\n  - Demand scenarios: $\\{d_k\\} = [40, 60, 110] \\mathrm{MWh}$ with probabilities $\\{\\pi_k\\} = [0.7, 0.2, 0.1]$.\n  - Penalty: $\\lambda = 1000 \\$/\\mathrm{MWh}$.\n  - Confidence level: $\\beta = 0.9$.\n- Test Case $3$ (same generators as Test Case $1$ but lower Value of Lost Load):\n  - Generator $1$: $P_1 = 50 \\mathrm{MWh}$, $c_1 = 20 \\$/\\mathrm{MWh}$, $f_1 = 500 \\$/\\mathrm{h}$.\n  - Generator $2$: $P_2 = 70 \\mathrm{MWh}$, $c_2 = 50 \\$/\\mathrm{MWh}$, $f_2 = 9000 \\$/\\mathrm{h}$.\n  - Demand scenarios: $\\{d_k\\} = [40, 60, 110] \\mathrm{MWh}$ with probabilities $\\{\\pi_k\\} = [0.7, 0.2, 0.1]$.\n  - Penalty: $\\lambda = 200 \\$/\\mathrm{MWh}$.\n  - Confidence level: $\\beta = 0.9$.\n\nYour program must implement the computations exactly as specified and output the results for the three test cases in a single line as a comma-separated list enclosed in square brackets, with no spaces.",
            "solution": "The user-provided problem is a well-defined exercise in energy systems optimization, focusing on the comparison between risk-neutral (expected cost) and risk-averse (Conditional Value-at-Risk) decision-making under uncertainty. The problem statement is scientifically grounded, self-contained, and logically consistent. Therefore, it is deemed valid, and a full solution follows.\n\n### **Problem Formulation and Methodology**\n\nThe problem requires us to determine the optimal commitment strategy for a two-generator power system facing uncertain demand. The commitment decision is represented by binary variables $(x_1, x_2)$, where $x_i=1$ if generator $i$ is on and $x_i=0$ if it is off. We must compare the optimal commitment under two different objectives: minimizing the expected total cost and minimizing the Conditional Value-at-Risk (CVaR) of the total cost.\n\nThe core of the methodology involves a four-step process for each of the four possible commitment strategies $(x_1, x_2) \\in \\{(0,0), (0,1), (1,0), (1,1)\\}$:\n\n1.  **Optimal Dispatch per Scenario:** For a given commitment $(x_1, x_2)$ and a specific demand scenario $d_k$, we must determine the least-cost dispatch of generation $(g_1, g_2)$ and the amount of load shedding $L$. The problem specifies that generator costs $c_i$ are linear and the penalty for load shedding $\\lambda$ is also linear. This leads to a merit-order dispatch rule: satisfy demand using the cheapest available resource first, up to its capacity, before moving to the next cheapest. The marginal costs are $c_1 < c_2 < \\lambda$. Therefore, for a given demand $d_k$ and a total available capacity of $C_{total} = x_1 P_1 + x_2 P_2$:\n    *   Generation from unit $1$: $g_1 = \\min(d_k, x_1 P_1)$.\n    *   Remaining demand to be met: $d'_k = d_k - g_1$.\n    *   Generation from unit $2$: $g_2 = \\min(d'_k, x_2 P_2)$.\n    *   Unmet demand (load shed): $L = d_k - g_1 - g_2 = \\max(0, d_k - C_{total})$.\n    The variable dispatch cost for this scenario is $C_{disp,k} = c_1 g_1 + c_2 g_2 + \\lambda L$.\n\n2.  **Total Scenario Cost Calculation:** The total cost for scenario $k$ under commitment $(x_1, x_2)$ is the sum of the variable dispatch cost and the fixed commitment costs:\n    $$C_{total, k}(x_1, x_2) = C_{disp,k} + (f_1 x_1 + f_2 x_2)$$\n\n3.  **Objective Function Evaluation:**\n    *   **Expected Cost:** For each commitment $(x_1, x_2)$, the expected cost is the probability-weighted average of the total costs across all $K$ scenarios:\n    $$\\mathbb{E}[\\text{cost}](x_1, x_2) = \\sum_{k=1}^K \\pi_k C_{total, k}(x_1, x_2)$$\n    *   **Conditional Value-at-Risk (CVaR):** The CVaR at a confidence level $\\beta$ measures the expected loss in the $(1-\\beta)\\%$ worst-case scenarios. For a discrete distribution of costs $\\{C_k\\}_{k=1}^K$ with probabilities $\\{\\pi_k\\}_{k=1}^K$, a standard formula for $\\operatorname{CVaR}_\\beta$ can be derived. First, we sort the cost-probability pairs $(C_k, \\pi_k)$ in non-decreasing order of cost, resulting in a sequence $(C_{(i)}, \\pi_{(i)})$ for $i=1, \\dots, K$. We then find the smallest index $m$ such that the cumulative probability $P_m = \\sum_{i=1}^m \\pi_{(i)} \\ge \\beta$. The $\\operatorname{CVaR}_\\beta$ is then calculated as:\n    $$ \\operatorname{CVaR}_\\beta = \\frac{1}{1-\\beta} \\left[ \\sum_{i=m+1}^K \\pi_{(i)} C_{(i)} + \\left(\\sum_{i=1}^m \\pi_{(i)} - \\beta \\right) C_{(m)} \\right] $$\n    This formula correctly handles cases where the $\\beta$-quantile falls within a probability mass or exactly at a boundary.\n\n4.  **Optimal Commitment Selection and Analysis:** After calculating the expected cost and CVaR for all four commitment strategies, we identify the optimal ones:\n    *   The expected-cost-optimal commitment is $(x_1^*, x_2^*)_{\\mathbb{E}} = \\arg\\min_{(x_1,x_2)} \\mathbb{E}[\\text{cost}](x_1, x_2)$.\n    *   The CVaR-optimal commitment is $(x_1^*, x_2^*)_{\\operatorname{CVaR}} = \\arg\\min_{(x_1,x_2)} \\operatorname{CVaR}_\\beta[\\text{cost}](x_1, x_2)$.\n    Ties are broken by selecting the commitment that is lexicographically smallest. Finally, the probability of load shedding under the expected-cost-optimal commitment is computed as the sum of probabilities of all scenarios where demand exceeds the available capacity:\n    $$P(L>0) = \\sum_{k: d_k > (x_1^*)_{\\mathbb{E}} P_1 + (x_2^*)_{\\mathbb{E}} P_2} \\pi_k$$\n\nThis complete procedure is implemented for each of the three test cases provided.\n\n### **Detailed Calculation for Test Case 1**\n\nLet's illustrate the process for Test Case 1:\n- Parameters: $P_1=50$, $c_1=20$, $f_1=500$; $P_2=70$, $c_2=50$, $f_2=9000$; Demands $\\{d_k\\}=[40, 60, 110]$; Probabilities $\\{\\pi_k\\}=[0.7, 0.2, 0.1]$; $\\lambda=1000$; $\\beta=0.9$.\n\n**1. Commitment $(x_1, x_2) = (1, 0)$:**\n- Capacity $C_{total} = 50$. Fixed cost $C_{fixed} = 500$.\n- Scenario $k=1$ ($d_1=40$): $g_1=40, g_2=0, L=0$. $C_{disp,1} = 20 \\times 40 = 800$. $C_{total,1} = 800 + 500 = 1300$.\n- Scenario $k=2$ ($d_2=60$): $g_1=50, g_2=0, L=10$. $C_{disp,2} = 20 \\times 50 + 1000 \\times 10 = 11000$. $C_{total,2} = 11000 + 500 = 11500$.\n- Scenario $k=3$ ($d_3=110$): $g_1=50, g_2=0, L=60$. $C_{disp,3} = 20 \\times 50 + 1000 \\times 60 = 61000$. $C_{total,3} = 61000 + 500 = 61500$.\n- Expected Cost: $0.7(1300) + 0.2(11500) + 0.1(61500) = 910 + 2300 + 6150 = 9360$.\n- CVaR$_{0.9}$: Costs are $[1300, 11500, 61500]$ with probs $[0.7, 0.2, 0.1]$. Cumulative probs are $[0.7, 0.9, 1.0]$. The worst $10\\%$ of outcomes corresponds to the third scenario. $\\operatorname{CVaR}_{0.9} = 61500$.\n\n**2. Commitment $(x_1, x_2) = (1, 1)$:**\n- Capacity $C_{total} = 120$. Fixed cost $C_{fixed} = 500 + 9000 = 9500$.\n- Scenario $k=1$ ($d_1=40$): $g_1=40, g_2=0, L=0$. $C_{disp,1} = 20 \\times 40 = 800$. $C_{total,1} = 800 + 9500 = 10300$.\n- Scenario $k=2$ ($d_2=60$): $g_1=50, g_2=10, L=0$. $C_{disp,2} = 20 \\times 50 + 50 \\times 10 = 1500$. $C_{total,2} = 1500 + 9500 = 11000$.\n- Scenario $k=3$ ($d_3=110$): $g_1=50, g_2=60, L=0$. $C_{disp,3} = 20 \\times 50 + 50 \\times 60 = 4000$. $C_{total,3} = 4000 + 9500 = 13500$.\n- Expected Cost: $0.7(10300) + 0.2(11000) + 0.1(13500) = 7210 + 2200 + 1350 = 10760$.\n- CVaR$_{0.9}$: Costs are $[10300, 11000, 13500]$. The worst $10\\%$ outcome is the third scenario. $\\operatorname{CVaR}_{0.9} = 13500$.\n\nAfter evaluating all four commitments, we find:\n- Expected-cost-optimal: $(1,0)$ with $\\mathbb{E}[\\text{cost}] = 9360$.\n- CVaR-optimal: $(1,1)$ with $\\operatorname{CVaR}_{0.9} = 13500$.\n- The commitments differ.\n- Load shed probability for $(1,0)$: Capacity is $50 \\mathrm{MWh}$. Demands are $40, 60, 110 \\mathrm{MWh}$. Shedding occurs for demands $60$ and $110$. The sum of probabilities is $0.2 + 0.1 = 0.3$.\n\nThe same computation is repeated for all test cases to generate the final output. The results showcase the trade-off between minimizing average costs (which might accept high-cost, low-probability events) and mitigating tail risk (which prioritizes avoiding catastrophic high-cost outcomes, even if it increases the average cost).",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the generation commitment and dispatch problem for the given test cases.\n    \"\"\"\n    test_cases = [\n        {\n            \"g1\": {\"P\": 50, \"c\": 20, \"f\": 500},\n            \"g2\": {\"P\": 70, \"c\": 50, \"f\": 9000},\n            \"demand\": {\"d\": np.array([40, 60, 110]), \"pi\": np.array([0.7, 0.2, 0.1])},\n            \"lambda\": 1000,\n            \"beta\": 0.9,\n        },\n        {\n            \"g1\": {\"P\": 50, \"c\": 20, \"f\": 500},\n            \"g2\": {\"P\": 70, \"c\": 50, \"f\": 2000},\n            \"demand\": {\"d\": np.array([40, 60, 110]), \"pi\": np.array([0.7, 0.2, 0.1])},\n            \"lambda\": 1000,\n            \"beta\": 0.9,\n        },\n        {\n            \"g1\": {\"P\": 50, \"c\": 20, \"f\": 500},\n            \"g2\": {\"P\": 70, \"c\": 50, \"f\": 9000},\n            \"demand\": {\"d\": np.array([40, 60, 110]), \"pi\": np.array([0.7, 0.2, 0.1])},\n            \"lambda\": 200,\n            \"beta\": 0.9,\n        },\n    ]\n\n    results = []\n\n    for case in test_cases:\n        e_cost_results = {'cost': float('inf'), 'commit': None}\n        cvar_results = {'cost': float('inf'), 'commit': None}\n\n        # Enumerate all 4 commitment patterns in lexicographic order\n        commitments = [(0, 0), (0, 1), (1, 0), (1, 1)]\n\n        for x1, x2 in commitments:\n            # Calculate total scenario costs for this commitment\n            total_costs = []\n            \n            p1, c1, f1 = case[\"g1\"][\"P\"], case[\"g1\"][\"c\"], case[\"g1\"][\"f\"]\n            p2, c2, f2 = case[\"g2\"][\"P\"], case[\"g2\"][\"c\"], case[\"g2\"][\"f\"]\n            demands = case[\"demand\"][\"d\"]\n            probs = case[\"demand\"][\"pi\"]\n            lambda_val = case[\"lambda\"]\n            beta = case[\"beta\"]\n\n            fixed_cost = x1 * f1 + x2 * f2\n\n            for d_k in demands:\n                # Optimal dispatch based on merit order (c1 < c2 < lambda)\n                # Generator 1 dispatch\n                g1 = min(d_k, x1 * p1)\n                rem_demand = d_k - g1\n                \n                # Generator 2 dispatch\n                g2 = min(rem_demand, x2 * p2)\n                rem_demand -= g2\n                \n                # Load shedding\n                L = rem_demand\n\n                dispatch_cost = c1 * g1 + c2 * g2 + lambda_val * L\n                total_scenario_cost = dispatch_cost + fixed_cost\n                total_costs.append(total_scenario_cost)\n\n            total_costs = np.array(total_costs)\n\n            # Calculate Expected Cost\n            expected_cost = np.dot(total_costs, probs)\n\n            # Calculate Conditional Value-at-Risk (CVaR)\n            cost_prob_pairs = sorted(zip(total_costs, probs))\n            sorted_costs, sorted_probs = zip(*cost_prob_pairs)\n            \n            cum_prob = 0.0\n            cvar_m_idx = -1\n            for i in range(len(sorted_probs)):\n                cum_prob += sorted_probs[i]\n                if cum_prob >= beta:\n                    cvar_m_idx = i\n                    break\n            \n            cvar_val = 0.0\n            if 1.0 - beta > 1e-9: # Check for non-zero denominator\n                tail_sum = 0.0\n                if cvar_m_idx + 1 < len(sorted_costs):\n                    tail_sum = np.dot(sorted_costs[cvar_m_idx+1:], sorted_probs[cvar_m_idx+1:])\n                \n                spillover_prob = cum_prob - beta\n                cvar_val = (tail_sum + spillover_prob * sorted_costs[cvar_m_idx]) / (1.0 - beta)\n\n            # Update optimal commitments (tie-breaking is handled by loop order)\n            if expected_cost < e_cost_results['cost']:\n                e_cost_results['cost'] = expected_cost\n                e_cost_results['commit'] = (x1, x2)\n            \n            if cvar_val < cvar_results['cost']:\n                cvar_results['cost'] = cvar_val\n                cvar_results['commit'] = (x1, x2)\n\n        # Calculate probability of load shedding for E-cost optimal commitment\n        e_cost_optimal_commit = e_cost_results['commit']\n        total_capacity_e_cost = e_cost_optimal_commit[0] * p1 + e_cost_optimal_commit[1] * p2\n        \n        shed_prob = 0.0\n        for i, d_k in enumerate(demands):\n            if d_k > total_capacity_e_cost:\n                shed_prob += probs[i]\n\n        # Indicator for differing commitments\n        commits_differ = 1 if e_cost_results['commit'] != cvar_results['commit'] else 0\n\n        # Assemble the final list for this case\n        case_result = [\n            e_cost_results['commit'][0],\n            e_cost_results['commit'][1],\n            float(e_cost_results['cost']),\n            cvar_results['commit'][0],\n            cvar_results['commit'][1],\n            float(cvar_results['cost']),\n            commits_differ,\n            float(shed_prob)\n        ]\n        results.append(case_result)\n\n    # Format the final output string\n    case_strings = [f\"[{','.join(map(str, r))}]\" for r in results]\n    print(f\"[{','.join(case_strings)}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "An optimal plan made today should ideally remain optimal tomorrow, but this is not always true for certain risk measures. This thought-provoking exercise explores the concept of time inconsistency, a critical and often counter-intuitive property of $\\text{CVaR}$ in multi-stage decision problems. Calculating the \"suboptimality gap\"  will reveal how risk perceptions can shift over time, forcing a re-evaluation of pre-committed strategies.",
            "id": "4077176",
            "problem": "Consider a two-stage energy scheduling problem for a microgrid with uncertain operating regime. At time $t=1$, the regime $S \\in \\{G,B\\}$ is revealed, where $G$ denotes a normal grid state and $B$ denotes a stressed grid state. The regime has probabilities $\\mathbb{P}(S=G) = 0.8$ and $\\mathbb{P}(S=B) = 0.2$. After observing $S$, the operator chooses a reserve action $a_{S} \\in [0,1]$ (dimensionless), representing the fraction of available fast reserve to commit in that regime. At time $t=2$, a shock may occur that forces costly load adjustments; the shock probability is $\\mathbb{P}(\\text{shock} \\mid S=G) = 0.1$ and $\\mathbb{P}(\\text{shock} \\mid S=B) = 0.5$. Losses (dimensionless cost units) are given by:\n- If no shock occurs in regime $S$, the loss is $10 + 2 a_{S}$.\n- If a shock occurs in regime $S$, the loss is $c_{S} - 20 a_{S}$, where $c_{G} = 40$ and $c_{B} = 80$.\n\nThe risk objective is the Conditional Value-at-Risk (CVaR) at level $\\alpha = 0.9$ of the terminal loss, assessed at $t=0$ before observing $S$. Use the standard definition of Conditional Value-at-Risk (CVaR): for a loss random variable $L$ and confidence level $\\alpha \\in (0,1)$,\n$$\n\\operatorname{CVaR}_{\\alpha}(L) \\;=\\; \\inf_{v \\in \\mathbb{R}} \\left\\{ v \\;+\\; \\frac{1}{1-\\alpha} \\,\\mathbb{E}\\left[ (L - v)_{+} \\right] \\right\\},\n$$\nwhere $(x)_{+} = \\max\\{x,0\\}$.\n\nA plan at $t=0$ is the choice of functions $a_{G}$ and $a_{B}$ to be used after observing the regime. Show that an unconditional $\\operatorname{CVaR}_{0.9}$-optimal plan exists with $a_{B}^{*} = 1$ and $a_{G}^{*}$ arbitrary. Fix the particular unconditional $\\operatorname{CVaR}_{0.9}$-optimal plan $(a_{G}^{*},a_{B}^{*}) = (0,1)$.\n\nNow consider time consistency: at $t=1$, suppose regime $G$ is realized. If the operator re-optimizes using the conditional $\\operatorname{CVaR}_{0.9}$ of the loss given $S=G$, the optimal reserve action $a_{G}$ need not coincide with the precommitted $a_{G}^{*}$. Define the suboptimality gap in regime $G$ under re-optimization as\n$$\n\\Delta \\;=\\; \\operatorname{CVaR}_{0.9}\\!\\left(L \\,\\middle|\\, S=G,\\, a_{G}=a_{G}^{*}\\right) \\;-\\; \\min_{a_{G} \\in [0,1]} \\operatorname{CVaR}_{0.9}\\!\\left(L \\,\\middle|\\, S=G,\\, a_{G}\\right).\n$$\n\nCompute $\\Delta$ as an exact real number. No rounding is required. Provide only the numerical value of $\\Delta$ as your final answer.",
            "solution": "The user wants to compute the suboptimality gap $\\Delta$ for a two-stage energy scheduling problem.\n\nThe problem is deemed valid as it is a well-posed, scientifically grounded, and objective problem in the field of risk-averse optimization, a recognized discipline within energy systems modeling. All necessary data and definitions are provided, and there are no internal contradictions.\n\nThe suboptimality gap is defined as:\n$$\n\\Delta = \\operatorname{CVaR}_{0.9}\\!\\left(L \\,\\middle|\\, S=G,\\, a_{G}=a_{G}^{*}\\right) - \\min_{a_{G} \\in [0,1]} \\operatorname{CVaR}_{0.9}\\!\\left(L \\,\\middle|\\, S=G,\\, a_{G}\\right)\n$$\nwhere $(a_{G}^{*}, a_{B}^{*}) = (0, 1)$ is the pre-committed plan. We must therefore compute $\\Delta$ for $a_G^*=0$.\n\nFirst, we will briefly verify the preliminary statement that an optimal unconditional plan has $a_B^*=1$ and arbitrary $a_G$. The unconditional loss random variable $L(a_G, a_B)$ has four possible outcomes:\n1. Regime $G$, no shock: loss $l_{G,ns} = 10+2a_G$, probability $\\mathbb{P}(S=G) \\times \\mathbb{P}(\\text{no shock}|G) = 0.8 \\times (1-0.1) = 0.72$.\n2. Regime $G$, shock: loss $l_{G,s} = 40-20a_G$, probability $\\mathbb{P}(S=G) \\times \\mathbb{P}(\\text{shock}|G) = 0.8 \\times 0.1 = 0.08$.\n3. Regime $B$, no shock: loss $l_{B,ns} = 10+2a_B$, probability $\\mathbb{P}(S=B) \\times \\mathbb{P}(\\text{no shock}|B) = 0.2 \\times (1-0.5) = 0.10$.\n4. Regime $B$, shock: loss $l_{B,s} = 80-20a_B$, probability $\\mathbb{P}(S=B) \\times \\mathbb{P}(\\text{shock}|B) = 0.2 \\times 0.5 = 0.10$.\n\nFor any $a_G, a_B \\in [0,1]$, we have $l_{B,s} = 80-20a_B \\ge 60$, $l_{G,s} = 40-20a_G\\in [20,40]$, $l_{B,ns}=10+2a_B\\in [10,12]$, and $l_{G,ns}=10+2a_G\\in [10,12]$. Thus, $l_{B,s}$ is always the largest loss.\nThe $\\operatorname{CVaR}_{0.9}$ is the expectation of the loss over the worst $1-\\alpha=0.1$ portion of the probability distribution. Since the single event $(S=B, \\text{shock})$ has a probability of $0.1$ and results in the highest loss, the $\\operatorname{CVaR}_{0.9}$ of the unconditional loss is exactly the loss from this event.\n$$\n\\operatorname{CVaR}_{0.9}(L(a_G, a_B)) = l_{B,s} = 80 - 20a_B\n$$\nTo minimize this, we must choose $(a_G, a_B)$ to minimize $80-20a_B$. This minimum is achieved when $a_B$ is maximized, i.e., $a_B^*=1$. The objective function does not depend on $a_G$, so $a_G^*$ can be any value in $[0,1]$. This confirms the problem's premise. The minimal unconditional CVaR is $80 - 20(1) = 60$. The plan $(a_G^*, a_B^*) = (0,1)$ is indeed one such optimal plan.\n\nNow, we proceed to compute the two terms of $\\Delta$.\n\n**1. Calculation of the first term: $\\operatorname{CVaR}_{0.9}(L \\mid S=G, a_G=a_G^*=0)$**\n\nGiven that regime $S=G$ has occurred, we consider the conditional loss random variable $L_G(a_G)$. The shock probability is $\\mathbb{P}(\\text{shock} \\mid S=G) = 0.1$.\nThe loss $L_G(a_G)$ can take two values:\n- $40 - 20 a_G$ if a shock occurs (with probability $0.1$).\n- $10 + 2 a_G$ if no shock occurs (with probability $0.9$).\n\nWe evaluate this for the pre-committed action $a_G^*=0$. The random variable $L_G(0)$ takes the value $40$ with probability $0.1$ and $10$ with probability $0.9$.\nWe use the given definition of CVaR with $\\alpha = 0.9$:\n$$\n\\operatorname{CVaR}_{0.9}(L_G(0)) = \\inf_{v \\in \\mathbb{R}} \\left\\{ v + \\frac{1}{1-0.9} \\mathbb{E}\\left[ (L_G(0) - v)_{+} \\right] \\right\\}\n$$\nLet $F(v) = v + 10 \\, \\mathbb{E}\\left[ (L_G(0) - v)_{+} \\right]$. The expectation is given by:\n$$\n\\mathbb{E}\\left[ (L_G(0) - v)_{+} \\right] = 0.1 \\cdot (40 - v)_{+} + 0.9 \\cdot (10 - v)_{+}\n$$\nSo, $F(v) = v + 10 \\left( 0.1(40-v)_{+} + 0.9(10-v)_{+} \\right)$. We analyze $F(v)$ over three intervals based on the loss values $10$ and $40$:\n- For $v < 10$: $F(v) = v + 10(0.1(40-v) + 0.9(10-v)) = v + (40-v) + 9(10-v) = 40 + 90 - 9v = 130 - 9v$. This function is decreasing.\n- For $10 \\le v < 40$: $F(v) = v + 10(0.1(40-v) + 0) = v + (40-v) = 40$. This function is constant.\n- For $v \\ge 40$: $F(v) = v + 10(0+0) = v$. This function is increasing.\n\nThe function $F(v)$ decreases to a value of $40$ at $v=10$, remains constant at $40$ for $v \\in [10, 40)$, and then increases for $v \\ge 40$. The minimum value is $40$.\nTherefore, $\\operatorname{CVaR}_{0.9}(L \\mid S=G, a_G=0) = 40$.\n\n**2. Calculation of the second term: $\\min_{a_{G} \\in [0,1]} \\operatorname{CVaR}_{0.9}(L \\mid S=G, a_{G})$**\n\nFirst, we express $\\operatorname{CVaR}_{0.9}(L \\mid S=G, a_G)$ as a function of $a_G$. Let's call this function $h(a_G)$. The conditional loss $L_G(a_G)$ takes values $l_1(a_G) = 40-20a_G$ and $l_2(a_G) = 10+2a_G$. For any $a_G \\in [0,1]$, $40-20a_G \\ge 10+2a_G$ because $30 \\ge 22a_G$, which is true since $a_G \\le 1 < 30/22$. So, $l_1$ is always the higher loss.\nThe probability of the higher loss is $0.1$, which equals $1-\\alpha$. Thus, the $\\operatorname{CVaR}_{0.9}$ is simply the value of this higher loss.\nLet's verify this with the optimization formula. Let $F(v, a_G) = v + 10(0.1(l_1(a_G)-v)_+ + 0.9(l_2(a_G)-v)_+)$.\n- For $v < l_2(a_G)$: $F_v' < 0$.\n- For $l_2(a_G) \\le v < l_1(a_G)$: $F(v, a_G) = v + 10(0.1(l_1(a_G)-v)) = v + l_1(a_G)-v = l_1(a_G)$.\n- For $v \\ge l_1(a_G)$: $F_v' > 0$.\nThe infimum of $F(v, a_G)$ over $v$ is $l_1(a_G)$.\nSo, $h(a_G) = \\operatorname{CVaR}_{0.9}(L \\mid S=G, a_G) = l_1(a_G) = 40 - 20a_G$.\n\nWe now need to minimize this function over the feasible set for the action $a_G$:\n$$\n\\min_{a_{G} \\in [0,1]} h(a_G) = \\min_{a_{G} \\in [0,1]} (40 - 20a_G)\n$$\nThe function $40 - 20a_G$ is a strictly decreasing linear function of $a_G$. The minimum value on the interval $[0,1]$ is attained at $a_G=1$.\nThe minimum value is $40 - 20(1) = 20$.\nSo, $\\min_{a_{G} \\in [0,1]} \\operatorname{CVaR}_{0.9}(L \\mid S=G, a_G) = 20$. The optimal reserve action upon re-optimization is $a_G=1$.\n\n**3. Computation of the suboptimality gap $\\Delta$**\n\nFinally, we compute $\\Delta$ by substituting the values of the two terms:\n$$\n\\Delta = 40 - 20 = 20\n$$\nThis gap represents the cost of commitment. By sticking to the unconditionally optimal plan's action for regime $G$ (which is $a_G^*=0$), the operator incurs a conditional CVaR of $40$. By re-optimizing after observing regime $G$, the operator would choose $a_G=1$ and achieve a lower conditional CVaR of $20$. The difference is the suboptimality gap, $\\Delta=20$.",
            "answer": "$$\n\\boxed{20}\n$$"
        }
    ]
}