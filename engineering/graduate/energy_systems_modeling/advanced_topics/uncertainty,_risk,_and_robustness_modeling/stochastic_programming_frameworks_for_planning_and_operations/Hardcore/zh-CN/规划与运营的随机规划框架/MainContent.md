## 引言
随着可再生能源渗透率的不断提高和市场环境日趋复杂，不确定性已成为现代[能源系统规划](@entry_id:1124498)与运营中不可回避的核心挑战。传统的确定性[优化方法](@entry_id:164468)依赖于单一的未来预测，在应对需求波动、燃料价格变化和[间歇性](@entry_id:275330)能源出力方面显得力不从心，往往导致决策的次优甚至脆弱。为了制定在多种未来可能性下都表现稳健且经济的策略，决策者迫切需要一个能够系统性地将不确定性纳入决策过程的数学框架。[随机规划](@entry_id:168183)正是为解决此类问题而设计的强大工具。

本文旨在为读者提供一个关于[随机规划](@entry_id:168183)在能源领域应用的全面指南。我们将从“原理与机制”一章开始，深入探讨不确定性的数学描述、两阶段与多阶段模型的构建，以及[风险管理](@entry_id:141282)的基本概念。接着，在“应用与跨学科联系”一章中，我们将展示这些理论如何应用于[电力](@entry_id:264587)系统的[机组组合](@entry_id:1133606)、容量扩张以及与其他基础设施的耦合问题。最后，在“动手实践”部分，读者将通过具体案例，亲手计算和分析[随机规划](@entry_id:168183)问题的解，从而巩固所学知识并体会其现实价值。通过这三个章节的递进学习，读者将能够建立起从理论基础到实际应用的完整知识体系，为在不确定性环境中做出更优决策打下坚实的基础。

## 原理与机制

本章旨在深入探讨[随机规划](@entry_id:168183)的基本原理和核心机制，正是这些原理和机制使其能够应用于复杂的[能源系统规划](@entry_id:1124498)与运营问题。在引言章节的基础上，我们将从不确定性的数学表示出发，系统性地构建两阶段与多阶段[随机规划](@entry_id:168183)的理论框架，并最终将视野拓展至风险管理与鲁棒性等前沿领域。

### 随机性的数学表示

[随机规划](@entry_id:168183)的核心在于对不确定性进行数学建模，并在此基础上做出最优决策。这一过程始于对随机现象的严格概率论描述。

#### [概率空间](@entry_id:201477)与[随机变量](@entry_id:195330)

在[测度论概率](@entry_id:182677)的框架下，任何随机现象都可以用一个**[概率空间](@entry_id:201477) (probability space)** 来描述，它是一个三元组 $(\Omega, \mathcal{F}, \mathbb{P})$。其中：
- $\Omega$ 是**[样本空间](@entry_id:275301) (sample space)**，包含了所有可能发生的基本结果（或称“世界状态”）。
- $\mathcal{F}$ 是一个**$\sigma$-代数 ($\sigma$-algebra)**，代表了我们可以区分的事件的集合。$\mathcal{F}$ 中的每个元素都是 $\Omega$ 的一个子集，代表一个事件。
- $\mathbb{P}$ 是一个**[概率测度](@entry_id:190821) (probability measure)**，它为 $\mathcal{F}$ 中的每一个事件赋予一个 $[0, 1]$ 之间的概率值。

在[能源系统建模](@entry_id:1124496)中，我们关心的不确定量，如风力发电出力、[电力](@entry_id:264587)需求或燃料价格，被建模为**[随机变量](@entry_id:195330) (random variables)**。一个[随机变量](@entry_id:195330)并非变量，而是一个从[样本空间](@entry_id:275301) $\Omega$ 到某个[可测空间](@entry_id:189701)（通常是实数集 $\mathbb{R}$ 或其子集）的[可测函数](@entry_id:159040)。例如，考虑一个特定节点的风力发电出力，我们可以将底层的[样本空间](@entry_id:275301) $\Omega$ 构想为所有可能的气象状态集合。风力发电模型则是一个函数 $W: \Omega \to [0, \overline{W}]$，它将每一种气象状态 $\omega \in \Omega$ 映射到一个具体的功率输出值 $W(\omega)$，其中 $\overline{W}$ 是风机的最大容量。为了使这个函数成为一个合法的[随机变量](@entry_id:195330)，它必须是**可测的 (measurable)**，这意味着对于任意一个功率区间的询问（例如，“风电出力是否在 $100\,\text{MW}$ 到 $200\,\text{MW}$ 之间？”），其对应的所有气象状态的集合必须是 $\mathcal{F}$ 中的一个事件，从而拥有一个明确的概率 。

#### [期望值](@entry_id:150961)的计算：从积分到求和

风险中性[随机规划](@entry_id:168183)的目标是最小化总成本的**[期望值](@entry_id:150961) (expected value)**。从数学上讲，一个[随机变量](@entry_id:195330) $X(\omega)$ 的[期望值](@entry_id:150961)是其在整个[样本空间](@entry_id:275301)上关于[概率测度](@entry_id:190821) $\mathbb{P}$ 的 **Lebesgue 积分 (Lebesgue integral)**：
$$
\mathbb{E}[X] = \int_{\Omega} X(\omega) d\mathbb{P}(\omega)
$$

在[随机规划](@entry_id:168183)问题中，成本函数本身依赖于决策变量 $x$ 和[随机变量](@entry_id:195330) $\xi(\omega)$。例如，对于一个给定的第一阶段决策 $x$，其第二阶段的补救成本（recourse cost）可以表示为 $h(x, \xi(\omega))$。那么，期望补救成本 $Q(x)$ 就是这个成本函数在所有可能的世界状态下的加权平均 。
$$
Q(x) = \mathbb{E}[h(x, \xi)] = \int_{\Omega} h(x, \xi(\omega)) d\mathbb{P}(\omega)
$$
这个定义虽然严谨，但在计算上不便，因为它涉及到抽象的[样本空间](@entry_id:275301) $\Omega$。通过**[变量替换定理](@entry_id:160749) (change of variables theorem)**，我们可以将积分从[样本空间](@entry_id:275301) $\Omega$ 转移到[随机变量](@entry_id:195330)的取值空间（例如，风电出力的区间 $[0, \overline{W}]$）。这需要引入**[前推测度](@entry_id:201640) (pushforward measure)** $\mathbb{P}_{\xi}$，它描述了[随机变量](@entry_id:195330) $\xi$ 本身的概率分布。于是，[期望值](@entry_id:150961)可以等价地写为：
$$
Q(x) = \int_{\mathbb{R}} h(x, w) d\mathbb{P}_{\xi}(w)
$$
如果[随机变量](@entry_id:195330)的分布是**绝对连续的 (absolutely continuous)**（相对于 Lebesgue 测度），即它拥有一个**概率密度函数 (probability density function, PDF)** $f_{\xi}(w)$，那么上述 Lebesgue 积分就简化为我们更熟悉的 Riemann 积分形式 ：
$$
Q(x) = \int_{\mathbb{R}} h(x, w) f_{\xi}(w) dw
$$

#### 场景近似：离散化处理

在绝大多数实际应用中，处理连续的概率分布是极其困难或不可能的。因此，随机规划通常依赖于对不确定性的离散化表示，即用一个有限的**场景 (scenarios)** 集合来近似底层的[连续分布](@entry_id:264735)。一个场景集合由一组可能的结果 $\{w_s\}_{s=1}^S$ 和它们对应的概率 $\{p_s\}_{s=1}^S$ 构成，其中 $p_s > 0$ 且 $\sum_{s=1}^S p_s = 1$。

从[测度论](@entry_id:139744)的角度看，这种离散近似等价于用一个**[原子测度](@entry_id:182056) (atomic measure)** $\mathbb{P}^{(S)} = \sum_{s=1}^S p_s \delta_{w_s}$ 来代替真实的[概率测度](@entry_id:190821) $\mathbb{P}_{\xi}$，其中 $\delta_{w_s}$ 是在点 $w_s$ 上的 **Dirac 测度**。在这种表示下，[期望值](@entry_id:150961)的计算从积分简化为一个加权求和：
$$
Q^{(S)}(x) = \int h(x, w) d\mathbb{P}^{(S)}(w) = \sum_{s=1}^S p_s h(x, w_s)
$$
一个好的场景近似应该能够保证，当场景数量 $S \to \infty$ 时，近似解能够收敛到真实问题的解。这在数学上与测度的**[弱收敛](@entry_id:146650) (weak convergence)** 概念紧密相关。如果场景近似测[度序列](@entry_id:267850) $\mathbb{P}^{(S)}$ [弱收敛](@entry_id:146650)于真实测度 $\mathbb{P}_{\xi}$，并且成本函数 $h(x, \cdot)$ 是有界连续的，那么近似的期望成本 $Q^{(S)}(x)$ 将会收敛到真实的期望成本 $Q(x)$ 。这为基于场景的[随机规划](@entry_id:168183)方法的合理性提供了坚实的理论基础。

### [两阶段随机规划](@entry_id:1133555)

[两阶段随机规划](@entry_id:1133555)是应用最广泛的随机规划模型之一，它清晰地刻画了“先决策，后观察，再补救”的[序贯决策](@entry_id:145234)过程。

#### “此时此地”与“拭目以待”决策

在两阶段模型中，决策被分为两类：
- **第一阶段决策 (first-stage decisions)**：在不确定性揭晓之前必须做出的决策，常被称为“**此时此地 (here-and-now)**”决策。例如，在[电力系统规划](@entry_id:1130079)中，建设哪些[发电机](@entry_id:268282)组的投资决策就是第一阶段决策 。这些决策必须是单一的，不能依赖于未来可能发生的任何特定情景。
- **第二阶段决策 (second-stage decisions)**：在不确定性的某个具体实现（场景）被观察到之后做出的适应性或补救性决策，常被称为“**拭目以待 (wait-and-see)**”或**补救决策 (recourse decisions)**。例如，在投资决策完成后，根据实际的负荷和可再生能源出力情况，如何调度已建成的[发电机](@entry_id:268282)组以满足需求的运营决策，就是第二阶段决策。这些决策是场景相关的，即对于每一种可能出现的场景，都可以有不同的应对策略。

#### 模型构建：目标函数与约束

一个典型的两阶段随机[线性规划](@entry_id:138188)问题具有如下结构。其目标是最小化第一阶段的确定性成本与第二阶段的期望补救成本之和。

以[电力](@entry_id:264587)容量[扩张问题](@entry_id:150521)为例 ，假设 $x$ 是表示各类[发电机](@entry_id:268282)组装机容量的向量（第一阶段决策），$c^{\top}x$ 是其投资成本。在不确定性 $\omega$（例如，未来的负荷与可再生能源组合）实现后，需要做出运营决策 $y_{\omega}$（第二阶段决策），其成本为 $q_{\omega}^{\top}y_{\omega}$。该问题的[目标函数](@entry_id:267263)是：
$$
\min_{x, y_{\omega}} \quad c^{\top}x + \sum_{\omega \in \Omega} p_{\omega} (q_{\omega}^{\top}y_{\omega})
$$
模型的约束也分为两个阶段：
1.  **第一阶段约束**：这些约束只涉及第一阶段决策变量 $x$，并且必须在任何不确定性实现之前就得到满足。例如，$Ax \le b$ 可能代表总投资预算或土地使用限制。
2.  **第二阶段约束 (补救约束)**：这些约束对每个场景 $\omega \in \Omega$ 都必须成立，它们将第一阶段决策 $x$ 和第二阶段决策 $y_{\omega}$ 联系起来。例如，约束 $T_{\omega}x + W_{\omega}y_{\omega} \ge h_{\omega}$ 可以表示在场景 $\omega$ 下，由投资 $x$ 提供的能力（如 $T_{\omega}x$）和运营手段 $y_{\omega}$ 提供的服务（如 $W_{\omega}y_{\omega}$）必须共同满足该场景下的需求 $h_{\omega}$。

关键在于，整个模型中只有一个第一阶段决策向量 $x$，它被所有场景共享。这种结构本身就强制了第一阶段决策的**非预期性 (nonanticipativity)**，即决策 $x$ 不能“预见”未来哪个特定场景 $\omega$ 将会发生。与此相对，第二阶段决策 $y_{\omega}$ 被允许随 $\omega$ 变化，体现了决策的适应性。

#### 衡量随机性的价值：EVPI与[VSS](@entry_id:635952)

为了评估使用[随机规划](@entry_id:168183)模型的价值，学术界定义了两个重要的指标：**完美信息[期望值](@entry_id:150961) (Expected Value of Perfect Information, EVPI)** 和**随机解的价值 (Value of the Stochastic Solution, [VSS](@entry_id:635952))** 。考虑一个成本最小化问题：

- 令 $z^{\mathrm{SP}}$ 为标准[两阶段随机规划](@entry_id:1133555)问题的最优[目标函数](@entry_id:267263)值。这是通过求解 $\min_{x} \{c^{\top}x + \mathbb{E}[Q(x, \xi)]\}$ 得到的，代表了在不确定性下可以实现的最佳期望成本。

- 令 $z^{\mathrm{WS}}$ (Wait-and-See) 为完美信息问题的期望成本。这是通过假设我们能预知每个场景 $\omega$ 的发生，并为之单独优化，然后将各场景下的最优成本按概率加权平均得到的值。即 $z^{\mathrm{WS}} = \mathbb{E}[\min_{x,y} \{c^{\top}x + Q(x, y, \xi)\}]$。它代表了拥有“水晶球”的理想情况下的成本，是随机问题成本的一个理论下界。

- 令 $z^{\mathrm{EEV}}$ (Expected result of the Expected Value solution) 为[期望值](@entry_id:150961)问题解的期望成本。这是通过先用[期望值](@entry_id:150961) $\bar{\xi} = \mathbb{E}[\xi]$ 替代[随机变量](@entry_id:195330) $\xi$，求解一个确定性问题得到第一阶段决策 $x^{\mathrm{EV}}$，然后将这个固定的 $x^{\mathrm{EV}}$ 放回原始的随机环境中评估其真实期望成本得到的值。

对于最小化问题，这些值之间存在固定的[序关系](@entry_id:138937)：$z^{\mathrm{WS}} \le z^{\mathrm{SP}} \le z^{\mathrm{EEV}}$。

**EVPI** 定义为 $z^{\mathrm{SP}} - z^{\mathrm{WS}}$。它量化了不确定性本身带来的成本，或者说，决策者为了获得关于未来的完美预报而愿意支付的最高价格。一个较大的 EVPI 意味着不确定性对系统性能有显著影响。

**VSS** 定义为 $z^{\mathrm{EEV}} - z^{\mathrm{SP}}$。它量化了使用随机规划模型相对于使用简单确定性模型（即[期望值](@entry_id:150961)模型）所带来的期望成本节约。一个较大的 VSS 表明，明确地对不确定性进行建模并优化是至关重要的，仅使用平均值会做出代价高昂的决策。

### 多阶段随机规划与信息结构

当决策过程涉及多个时间阶段，且每个阶段都有新的不确定性信息被揭示时，两阶段模型就扩展为多阶段随机规划。

#### 动态决策过程

在多阶段模型中，决策和不确定性实现交替发生。例如，在日前-日内-实时的[电力市场](@entry_id:1124241)调度中，每一步决策都是在前一阶段决策和新信息的基础上做出的。这种动态过程通常用一个**场景树 (scenario tree)** 来表示。场景树的每个节点代表在特定时间点的一个特定信息状态，树的每条从根到叶的路径则构成一个完整的场景。

#### 非预期性约束

在多阶段背景下，**非预期性 (nonanticipativity)** 成为了一个必须显式施加的约束。其核心思想是：在任意时刻 $t$ 做出的决策，只能依赖于直到时刻 $t$ 为止已经观测到的信息，而不能利用未来的信息。

从理论上讲，信息随时间的演化可以用一个**信息流 (filtration)** $\{\mathcal{F}_t\}_{t=0}^T$ 来描述，其中 $\mathcal{F}_t$ 是一个 $\sigma$-代数，代表了到时刻 $t$ 为止所有可观测事件的集合。非预期性要求在时刻 $t$ 的决策 $x_t$ 必须是 $\mathcal{F}_t$-**可测的 (measurable)**，即 $x_t$ 是一个只依赖于 $\mathcal{F}_t$ 中信息的函数 。

在基于场景树的实践中，这一抽象要求转化为一个非常具体的操作：在场景树的同一阶段 $t$，所有经过同一个节点 $n$ 的场景，都拥有完全相同的历史信息（从根节点到节点 $n$ 的路径是唯一的）。因此，非预期性约束要求，对于所有经过节点 $n$ 的场景 $\omega$ 和 $\omega'$，它们在阶段 $t$ 的决策必须完全相同，即 $x_t(\omega) = x_t(\omega')$ 。例如，在一个水电-火电联合调度问题中，如果两个场景在第3天之前的天气和负荷情况完全一样（即它们在场景树的第3天处于同一个节点），那么它们在第3天的水电释放量和火电出力决策也必须完全一样 。

#### 计算影响

非预期性约束是多阶段随机规划在计算上的主要挑战。在包含 $S$ 个场景的“扩展式”模型中，如果不加非预期性约束，整个问题会分解为 $S$ 个独立的确定性优化问题。然而，非预期性约束，如 $x_t(\omega) = x_t(\omega')$，将不同场景的决策变量耦合在了一起，形成了一个大规模的、高度结构化的单体优化问题。

这些约束的数量可能非常庞大。在一个具有特定分支结构的场景树中，所需的独立非预期性[等式约束](@entry_id:175290)的总数可以通过对每个非叶子节点进行计算而得出：对于阶段 $t$ 的每个节点 $n$，如果它连接了 $|Sc(n)|$ 个后续场景，且该阶段的决策向量维度为 $d_t$，则需要 $(|Sc(n)|-1) \times d_t$ 个标量约束 。这些耦合约束的存在是使用如 Benders 分解或对偶分解等**分解算法 (decomposition algorithms)** 的主要动机，这些算法旨在利用问题的特殊结构来降低计算复杂度。

### 构建不确定性模型

随机规划的性能在很大程度上取决于其输入——不确定性模型的质量。构建一个既能代表真实不确定性又能保证计算可行性的场景集，是应用过程中的关键一步。

#### 场景生成与[场景削减](@entry_id:1131296)

这个过程通常分为两步：**场景生成 (scenario generation)** 和 **[场景削减](@entry_id:1131296) (scenario reduction)** 。

**场景生成**的目标是创建一个大规模的场景集（例如，数千或数万个场景），以高保真度地近似不确定性参数的真实[联合概率分布](@entry_id:171550)。输入通常是历史数据和一个经过验证的[概率模型](@entry_id:265150)（如多元时间序列模型）。输出是一个包含大量加权轨迹的场景集，它应尽可能地保留原始数据中的关键统计特性，如[边际分布](@entry_id:264862)、时间自相关性和空间[互相关性](@entry_id:188177)。

**[场景削减](@entry_id:1131296)**的目标则是将生成的大规模场景集压缩成一个规模小得多（例如，数十或数百个场景）的代表性场景集，以确保最终的[随机规划](@entry_id:168183)问题在计算上是可解的。其输入是原始的大场景集和目标场景数。这个过程本身通常被构建为一个优化问题，即寻找一个[子集和](@entry_id:634263)新的概率权重，使得削减后的[离散概率分布](@entry_id:166565)与原始的[离散分布](@entry_id:193344)之间的某种**概率度量 (probability metric)**（如 Wasserstein 距离）最小化。[场景削减](@entry_id:1131296)是在保真度和计算可行性之间进行权衡的艺术。

### 超越[期望值](@entry_id:150961)：[风险规避](@entry_id:137406)与鲁棒性

传统的风险中性随机规划旨在优化期望性能，但这可能导致在某些低概率但高影响的极端事件中表现不佳。为了解决这个问题，研究者们发展了多种[风险规避](@entry_id:137406)和鲁棒的决策框架。

#### 风险度量：[VaR](@entry_id:140792)与C[VaR](@entry_id:140792)

[风险规避优化](@entry_id:1131052)通过引入**风险度量 (risk measures)** 来取代[期望值](@entry_id:150961)算子，从而更审慎地评估不确定结果。两种最常用的风险度量是**风险价值 (Value-at-Risk, VaR)** 和**[条件风险价值](@entry_id:163580) (Conditional Value-at-Risk, C[VaR](@entry_id:140792))** 。

对于一个损失（成本）[随机变量](@entry_id:195330) $L$，在置信水平 $\alpha$（例如 $0.95$）下：
- $\mathbf{VaR_{\alpha}(L)}$ 是损失分布的 $\alpha$-分位数，即一个阈值，实际损失有 $1-\alpha$ 的概率会超过它。它回答了问题：“在正常情况下，我们最多会损失多少？”
- $\mathbf{CVaR_{\alpha}(L)}$ 是损失超过 $\mathrm{VaR}_{\alpha}(L)$ 时的[条件期望](@entry_id:159140)值。它回答了问题：“当坏情况发生时，我们平均会损失多少？”

从理论性质上看，CVaR 远优于 [VaR](@entry_id:140792)。一个理想的风险度量应满足一组称为**一致性 (coherence)** 的公理，其中最重要的是**[次可加性](@entry_id:137224) (subadditivity)**，即 $\rho(L_1+L_2) \le \rho(L_1) + \rho(L_2)$。该性质意味着投资组合的风险不应大于其各组成部分风险之和，体现了“多样化”的好处。CVaR 是一致的，而 [VaR](@entry_id:140792) 在一般情况下不满足[次可加性](@entry_id:137224)，这可能导致它在[组合优化](@entry_id:264983)中给出不合理的决策。

从优化角度看，CVaR 也更具优势。最小化 CVaR 通常可以被构建为一个[凸优化](@entry_id:137441)问题，如果基础[损失函数](@entry_id:634569)是线性的，它甚至可以被精确地转换为一个**线性规划 (Linear Program, LP)** 问题。这通过引入一组辅助变量来实现，使得 CVaR 能够无缝地集成到标准的[随机规划](@entry_id:168183)框架中 。相比之下，VaR 通常是非凸的，优化 VaR 是一个计算上非常困难的问题。

#### 概率约束规划

处理风险的另一种方法是**概率约束规划 (Chance-Constrained Programming, [CCP](@entry_id:196059))**。它不直接优化风险度量，而是在满足一定可靠性水平的前提下优化期望成本。这些可靠性要求以概率约束的形式出现。

在多区域[电力](@entry_id:264587)系统备用规划等问题中，可以施加两种类型的概率约束 ：
- **个体概率约束 (Individual Chance Constraints, ICCs)**：为每个区域或每个关键组件单独设置可靠性目标。例如，$\mathbb{P}(r_k \ge \Delta_k) \ge 1-\epsilon_k$，要求区域 $k$ 的备用 $r_k$ 足以覆盖其短缺量 $\Delta_k$ 的概率至少为 $1-\epsilon_k$。
- **[联合概率](@entry_id:266356)约束 (Joint Chance Constraint, JCC)**：为整个系统设置一个总体的可靠性目标。例如，$\mathbb{P}(r_k \ge \Delta_k \text{ for all } k) \ge 1-\epsilon$，要求所有区域同时满足备用充足的概率至少为 $1-\epsilon$。

JCC 更能准确地描述系统层面的可靠性，但它在计算上是极其困难的，因为其[可行域](@entry_id:136622)通常是非凸的。ICCs 提供了一种保守但可行的近似方法。通过**[联合界](@entry_id:267418) (union bound)**，如果我们将各区域的风险预算 $\epsilon_k$ 之和控制在总体风险容忍度 $\epsilon$ 之内（即 $\sum_k \epsilon_k \le \epsilon$），那么满足所有 ICCs 的解一定也满足 JCC。这种近似的保守性在各区域的风险事件高度正相关时尤为明显。然而，ICCs 的巨大优势在于其计算上的易处理性。在许多情况下（例如，当不确定性服从高斯分布时），每个 ICC 都可以被精确地转换为一个**[二阶锥规划](@entry_id:165523) (Second-Order Cone Program, SOCP)** 约束，这是一种可以被高效求解的凸约束。

#### [随机规划](@entry_id:168183)与[鲁棒优化](@entry_id:163807)的分野

随机规划（SP）是处理不确定性的主流范式，但并非唯一。**[鲁棒优化](@entry_id:163807) (Robust Optimization, RO)** 提供了另一种视角 。
- **[不确定性表示](@entry_id:1133583)**：SP 依赖于对不确定性的概率分布的精确了解或假设。而 RO 采用一种非概率的方法，它将不确定性描述为一个无需概率信息的确定性**[不确定集](@entry_id:634516) (uncertainty set)** $\mathcal{U}$，并假设不确定性的任何实现都将落在这个集合内。
- **目标准则**：SP 优化的是期望性能（或风险度量）。RO 则采取一种“最坏情况”的保守策略，其目标是优化在[不确定集](@entry_id:634516)内所有可能实现中最差情况下的性能。例如，最小化最坏情况下的成本。
- **决策策略**：在两阶段或多阶段设置中，RO 和 SP 都要求决策策略是**非预期的**。RO 的解对于[不确定集](@entry_id:634516)中的**每一个**实现都必须是可行的，而 SP 的解则要求以概率 1 可行。

#### 分布式[鲁棒优化](@entry_id:163807)：连接桥梁

**分布式[鲁棒优化](@entry_id:163807) (Distributionally Robust Optimization, DRO)** 是一个更现代、更通用的框架，它在 SP 和 RO 之间架起了一座桥梁。DRO 不再假设一个单一的、精确的概率分布，也不完全抛弃概率信息，而是考虑一个由多个可能的概率分布组成的**[模糊集](@entry_id:269080) (ambiguity set)** $\mathcal{P}$ 。

DRO 的目标是最小化在[模糊集](@entry_id:269080)中所有可能分布下的最坏期望成本：
$$
\min_{x} \sup_{\mathbb{P} \in \mathcal{P}} \mathbb{E}_{\mathbb{P}}[C(x, \xi)]
$$
这个框架的强大之处在于它的通用性：
- 如果[模糊集](@entry_id:269080) $\mathcal{P}$ 只包含一个单一的分布 $\{\mathbb{P}_0\}$，DRO 就退化为标准的随机规划。
- 如果[模糊集](@entry_id:269080) $\mathcal{P}$ 包含了某个支撑集 $\mathcal{U}$ 上的所有可能分布，DRO 就退化为[鲁棒优化](@entry_id:163807)，因为最坏的[期望值](@entry_id:150961)将由将所有概率[质量集中](@entry_id:175432)于最差结果的那个分布给出。

[模糊集](@entry_id:269080)的构建方式是 DRO 的核心。常见的构建方法包括 ：
- **基于矩的模糊集**：定义一个分布集合，其一阶矩（均值）和二阶矩（方差）等与从数据中估计出的矩相符。例如，一个简单的[发电调度](@entry_id:1130037)问题，其最坏情况期望成本在矩约束下可以通过求解一个**[半定规划](@entry_id:268613) (Semidefinite Program, SDP)** 来得到。
- **基于 $\phi$-散度的[模糊集](@entry_id:269080)**：定义一个以某个标称分布 $\mathbb{P}_0$ 为中心、以 $\phi$-散度（如 Kullback-Leibler 散度）为“距离”的“球”。这种方法在理论上具有良好的[对偶性质](@entry_id:276134)，例如，在 KL 散度下，最坏[期望值](@entry_id:150961)问题有一个与[指数函数](@entry_id:161417)相关的对偶形式，这在某些情况下也导致了可计算的重构。

通过在完全相信一个[概率模型](@entry_id:265150)（SP）和完全不相信概率模型（RO）之间进行权衡，DRO 为[能源系统规划](@entry_id:1124498)者在模型不确定性下做出更可靠的决策提供了强有力的工具。