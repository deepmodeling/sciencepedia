{
    "hands_on_practices": [
        {
            "introduction": "The foundational task in implementing synthetic inertia is to design the control law that emulates the behavior of a physical synchronous machine. This exercise guides you through the process of designing the core control parameters, the virtual inertia $M$ and damping $D$, for a grid-forming inverter. By linking the linearized power-angle relationship to the canonical form of a second-order dynamic system, this practice demonstrates how to use pole placement techniques to achieve desired performance characteristics, such as a specific damping ratio $\\zeta$ and natural frequency $\\omega_n$ .",
            "id": "4127863",
            "problem": "A grid-forming inverter connected to a strong grid is controlled to provide synthetic inertia and damping through a frequency control loop. The inverter terminal voltage magnitude is held at $1.0$ per-unit (p.u.), and the grid bus voltage magnitude is $1.0$ p.u. The inverter is connected to the grid through an equivalent reactance $X_{\\mathrm{eq}}$, and the steady-state power transfer follows the power-angle relation, which at small angles is well-approximated by the linearized synchronizing torque (power-angle sensitivity). The inverter’s frequency control loop emulates a second-order electromechanical dynamic by commanding the inverter’s active power such that the angle $\\delta(t)$ (in radians) and the frequency deviation $\\omega(t) = \\dot{\\delta}(t)$ are governed by an effective inertia parameter $M$ and damping parameter $D$.\n\nStarting from first principles and well-tested formulas, do the following:\n\n1. Use the sinusoidal power-flow relation between a source behind reactance and the grid, and its small-angle linearization, to express the synchronizing power coefficient $K_{s}$ in terms of $V_{\\mathrm{inv}}$, $V_{\\mathrm{g}}$, and $X_{\\mathrm{eq}}$. Assume the operating point satisfies $\\delta_{0} \\approx 0$ and use radians for angles.\n2. Using the synthetic inertia and damping control law that emulates the swing-like dynamics, derive the small-signal homogeneous second-order differential equation in $\\delta(t)$ and identify the corresponding closed-loop characteristic polynomial.\n3. Given a design target of damping ratio $\\zeta = 0.7$ and natural frequency $\\omega_{n}$, place the closed-loop poles at the desired locations by solving for $M$ and $D$ in terms of $K_{s}$, $\\zeta$, and $\\omega_{n}$.\n4. For a specific case with $V_{\\mathrm{inv}} = 1.0$ p.u., $V_{\\mathrm{g}} = 1.0$ p.u., $X_{\\mathrm{eq}} = 0.3$ p.u., and desired $\\omega_{n} = 20$ radians per second, compute the numerical values of $M$ and $D$ corresponding to the pole placement in Part 3.\n\nExpress the final numerical values as follows:\n- Use radians for angles.\n- Round your numerical values to four significant figures.\n- Express $M$ in p.u.$\\cdot$seconds squared (p.u.$\\cdot$s$^{2}$).\n- Express $D$ in p.u.$\\cdot$seconds (p.u.$\\cdot$s).\n\nYour final answer must be a single row matrix containing $M$ and $D$ in the specified units and rounding.",
            "solution": "### Problem Validation\n#### Step 1: Extract Givens\nThe problem provides the following information:\n-   Inverter terminal voltage magnitude: $V_{\\mathrm{inv}} = 1.0$ per-unit (p.u.).\n-   Grid bus voltage magnitude: $V_{\\mathrm{g}} = 1.0$ p.u.\n-   Equivalent reactance: $X_{\\mathrm{eq}} = 0.3$ p.u.\n-   Steady-state operating point angle: $\\delta_{0} \\approx 0$ radians.\n-   The system dynamics are governed by an effective inertia parameter $M$ and damping parameter $D$.\n-   The angle is denoted by $\\delta(t)$ in radians.\n-   The frequency deviation is defined as $\\omega(t) = \\dot{\\delta}(t)$.\n-   The control system emulates a second-order electromechanical dynamic.\n-   Design target for damping ratio: $\\zeta = 0.7$.\n-   Design target for natural frequency: $\\omega_{n} = 20$ radians per second.\n-   Required units for final answer: $M$ in p.u.$\\cdot$s$^{2}$, $D$ in p.u.$\\cdot$s.\n-   Required precision for final answer: round to four significant figures.\n\n#### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded, well-posed, and objective.\n-   **Scientifically Grounded:** The problem is based on fundamental principles of power system analysis, including the power-angle relationship for AC power flow and the second-order swing equation model used for stability analysis. The concept of synthetic inertia provided by grid-forming inverters is a well-established topic in modern power systems research and engineering. All physical quantities and their relationships are sound.\n-   **Well-Posed:** The problem is structured as a standard control design task. It provides sufficient information (system parameters, control objectives) to determine a unique solution for the control parameters ($M$ and $D$). The steps are logical and lead to a clear, computable result.\n-   **Objective:** The language is precise and quantitative. All terms like \"synthetic inertia,\" \"damping ratio,\" and \"natural frequency\" are standard in control theory and power engineering.\n\nThe problem does not exhibit any of the invalidity flaws. It is a textbook example of control parameter design for a grid-forming inverter providing ancillary services. The request for specific units for $M$ and $D$ clarifies the common convention in this field where the angle in radians is treated as a dimensionless quantity within the state-space formulation, resolving potential ambiguity.\n\n#### Step 3: Verdict and Action\nThe problem is valid. A complete solution will be provided.\n\n### Solution\nThe problem asks for a multi-part derivation and calculation concerning the control design of a grid-forming inverter providing synthetic inertia.\n\n#### Part 1: Synchronizing Power Coefficient ($K_s$)\nThe active power $P$ transferred from the inverter to the grid through a reactance $X_{\\mathrm{eq}}$ is given by the power-flow relation:\n$$P(\\delta) = \\frac{V_{\\mathrm{inv}} V_{\\mathrm{g}}}{X_{\\mathrm{eq}}} \\sin(\\delta)$$\nwhere $\\delta$ is the angle of the inverter's voltage with respect to the grid's voltage.\n\nThe synchronizing power coefficient, $K_s$, represents the stiffness of the electrical connection and is defined as the slope of the power-angle curve at the operating point $\\delta_0$. It is the first derivative of power with respect to the angle:\n$$K_s = \\frac{dP}{d\\delta} \\bigg|_{\\delta=\\delta_0} = \\frac{V_{\\mathrm{inv}} V_{\\mathrm{g}}}{X_{\\mathrm{eq}}} \\cos(\\delta_0)$$\nThe problem specifies a small-angle linearization around the operating point $\\delta_0 \\approx 0$. At this point, $\\cos(\\delta_0) \\approx \\cos(0) = 1$. Therefore, the synchronizing power coefficient is:\n$$K_s = \\frac{V_{\\mathrm{inv}} V_{\\mathrm{g}}}{X_{\\mathrm{eq}}}$$\n\n#### Part 2: Dynamic Equation and Characteristic Polynomial\nThe inverter's control loop emulates the electromechanical swing equation, which is a second-order system. The general form of this equation relates the inertial and damping torques (powers) to the accelerating torque (power), which is the difference between the reference power $P_{\\mathrm{ref}}$ (analogous to mechanical power) and the electrical power output $P_e$.\n$$M \\frac{d^2\\delta(t)}{dt^2} + D \\frac{d\\delta(t)}{dt} = P_{\\mathrm{ref}}(t) - P_e(t)$$\nFor small-signal stability analysis, we analyze the system's response to small perturbations around a steady-state operating point $(\\delta_0, P_{e0})$, where $P_{e0} = P_{\\mathrm{ref}}$. Let $\\delta(t) = \\delta_0 + \\Delta\\delta(t)$ and $P_e(t) = P_{e0} + \\Delta P_e(t)$. Assuming the power reference is constant ($\\Delta P_{\\mathrm{ref}} = 0$), the linearized equation for the perturbations becomes:\n$$M \\frac{d^2(\\Delta\\delta)}{dt^2} + D \\frac{d(\\Delta\\delta)}{dt} = -\\Delta P_e(t)$$\nThe change in electrical power $\\Delta P_e$ is related to the change in angle $\\Delta\\delta$ by the synchronizing power coefficient $K_s$ from Part 1:\n$$\\Delta P_e(t) \\approx K_s \\Delta\\delta(t)$$\nSubstituting this into the dynamic equation, we obtain the homogeneous second-order linear differential equation. For notational simplicity, we let $\\delta(t)$ represent the deviation $\\Delta\\delta(t)$.\n$$M \\ddot{\\delta}(t) + D \\dot{\\delta}(t) = -K_s \\delta(t)$$\n$$M \\ddot{\\delta}(t) + D \\dot{\\delta}(t) + K_s \\delta(t) = 0$$\nTo find the characteristic polynomial, we take the Laplace transform of this equation, assuming zero initial conditions:\n$$M s^2 \\Delta(s) + D s \\Delta(s) + K_s \\Delta(s) = 0$$\nDividing by $\\Delta(s)$, the characteristic polynomial $C(s)$ is:\n$$C(s) = M s^2 + D s + K_s = 0$$\n\n#### Part 3: Pole Placement for $M$ and $D$\nThe goal is to place the closed-loop poles to achieve a desired damping ratio $\\zeta$ and natural frequency $\\omega_n$. The standard characteristic polynomial for a second-order system is:\n$$s^2 + 2\\zeta\\omega_n s + \\omega_n^2 = 0$$\nTo match our derived characteristic equation to this standard form, we divide by $M$:\n$$s^2 + \\frac{D}{M} s + \\frac{K_s}{M} = 0$$\nBy comparing the coefficients of the two polynomial forms, we obtain two algebraic equations:\n1.  $\\omega_n^2 = \\frac{K_s}{M}$\n2.  $2\\zeta\\omega_n = \\frac{D}{M}$\n\nWe can now solve for $M$ and $D$ in terms of $K_s$, $\\zeta$, and $\\omega_n$. From equation (1):\n$$M = \\frac{K_s}{\\omega_n^2}$$\nFrom equation (2), we solve for $D$:\n$$D = 2\\zeta\\omega_n M$$\nSubstituting the expression for $M$ into the equation for $D$:\n$$D = 2\\zeta\\omega_n \\left( \\frac{K_s}{\\omega_n^2} \\right) = \\frac{2\\zeta K_s}{\\omega_n}$$\nThese are the required expressions for the synthetic inertia $M$ and damping $D$.\n\n#### Part 4: Numerical Calculation\nWe are given the following specific values:\n-   $V_{\\mathrm{inv}} = 1.0$ p.u.\n-   $V_{\\mathrm{g}} = 1.0$ p.u.\n-   $X_{\\mathrm{eq}} = 0.3$ p.u.\n-   $\\zeta = 0.7$\n-   $\\omega_n = 20$ rad/s\n\nFirst, we calculate the synchronizing power coefficient $K_s$ from Part 1. Based on the problem's units specification, $K_s$ is in p.u.\n$$K_s = \\frac{V_{\\mathrm{inv}} V_{\\mathrm{g}}}{X_{\\mathrm{eq}}} = \\frac{1.0 \\times 1.0}{0.3} = \\frac{10}{3} \\text{ p.u.}$$\nNext, we use the formulas from Part 3 to compute $M$ and $D$.\n\nFor the inertia parameter $M$:\n$$M = \\frac{K_s}{\\omega_n^2} = \\frac{10/3}{(20)^2} = \\frac{10}{3 \\times 400} = \\frac{10}{1200} = \\frac{1}{120} \\text{ p.u.}\\cdot\\text{s}^2$$\nAs a decimal, $M = 0.0083333...$ p.u.$\\cdot$s$^2$. Rounding to four significant figures gives:\n$$M \\approx 0.008333 \\text{ p.u.}\\cdot\\text{s}^2$$\nFor the damping parameter $D$:\n$$D = \\frac{2\\zeta K_s}{\\omega_n} = \\frac{2 \\times 0.7 \\times (10/3)}{20} = \\frac{1.4 \\times 10}{3 \\times 20} = \\frac{14}{60} = \\frac{7}{30} \\text{ p.u.}\\cdot\\text{s}$$\nAs a decimal, $D = 0.23333...$ p.u.$\\cdot$s. Rounding to four significant figures gives:\n$$D \\approx 0.2333 \\text{ p.u.}\\cdot\\text{s}$$\nThe calculated values for $M$ and $D$ will place the system's poles to meet the specified performance of $\\zeta=0.7$ and $\\omega_n=20$ rad/s.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.008333  0.2333\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "A controller is only as good as the measurements it receives. The synthetic inertia controller designed previously relies on an accurate estimate of the Rate of Change of Frequency (ROCOF), a signal that is notoriously susceptible to noise. This practice explores the fundamental challenge of measurement uncertainty by asking you to analyze the statistical properties of a common finite-difference ROCOF estimator . Deriving the estimator's bias and variance reveals the inherent trade-off between estimation accuracy and noise amplification, a critical insight for designing robust control systems.",
            "id": "4127896",
            "problem": "A grid-forming inverter tasked with synthetic inertia emulation relies on an online estimate of the Rate of Change of Frequency (ROCOF) to modulate its fast active power injection. Consider a frequency measurement model, sampled at time instants $t$ and $t-\\Delta$, given by $f(t)=f_{0}+\\alpha t+\\epsilon(t)$, where $f_{0}$ and $\\alpha$ are deterministic constants, and $\\epsilon(t)$ represents measurement noise. Assume $\\epsilon(t)$ is zero-mean white noise that is wide-sense stationary (WSS) with variance $\\sigma_{\\epsilon}^{2}$, and is uncorrelated across distinct time instants (i.e., $\\operatorname{Cov}(\\epsilon(t),\\epsilon(s))=0$ for $t\\neq s$). The ROCOF at time $t$ for the noiseless ramp component is $r(t)=\\frac{d}{dt}\\left(f_{0}+\\alpha t\\right)=\\alpha$. \n\nThe inverter estimates ROCOF using the finite-difference estimator $\\hat{r}(t)=\\frac{f(t)-f(t-\\Delta)}{\\Delta}$. Starting from the definitions of expectation, variance, and the properties of white noise, derive the bias and variance of $\\hat{r}(t)$ with respect to the true ROCOF $r(t)$ under the stated model and assumptions. Express the bias in $\\mathrm{Hz/s}$ and the variance in $(\\mathrm{Hz/s})^{2}$. No numerical values are provided; your final answer must be a closed-form expression in terms of $\\alpha$, $\\Delta$, and $\\sigma_{\\epsilon}^{2}$. No rounding is required.",
            "solution": "The problem requires the derivation of the bias and variance of a finite-difference estimator for the Rate of Change of Frequency (ROCOF). The validation process confirms the problem is scientifically grounded, well-posed, and complete. We can therefore proceed with the derivation.\n\nThe given frequency measurement model is:\n$$f(t) = f_{0} + \\alpha t + \\epsilon(t)$$\nwhere $f_{0}$ and $\\alpha$ are deterministic constants, and $\\epsilon(t)$ is a zero-mean, wide-sense stationary (WSS) white noise process. The properties of the noise are:\n1.  Expectation: $E[\\epsilon(t)] = 0$ for all $t$.\n2.  Variance: $\\operatorname{Var}(\\epsilon(t)) = E[\\epsilon(t)^2] - (E[\\epsilon(t)])^2 = E[\\epsilon(t)^2] = \\sigma_{\\epsilon}^{2}$ for all $t$, due to WSS property.\n3.  Uncorrelatedness: $\\operatorname{Cov}(\\epsilon(t), \\epsilon(s)) = 0$ for $t \\neq s$. Since the mean is zero, this implies $E[\\epsilon(t)\\epsilon(s)] = E[\\epsilon(t)]E[\\epsilon(s)] = 0$ for $t \\neq s$.\n\nThe true ROCOF of the deterministic part of the signal is defined as:\n$$r(t) = \\frac{d}{dt}\\left(f_{0} + \\alpha t\\right) = \\alpha$$\nThe estimator for the ROCOF, $\\hat{r}(t)$, is given by the backward finite-difference formula:\n$$\\hat{r}(t) = \\frac{f(t) - f(t-\\Delta)}{\\Delta}$$\n\nFirst, we express the estimator $\\hat{r}(t)$ in terms of the model components. We substitute the expression for $f(t)$ at time instants $t$ and $t-\\Delta$:\n$$f(t) = f_{0} + \\alpha t + \\epsilon(t)$$\n$$f(t-\\Delta) = f_{0} + \\alpha(t-\\Delta) + \\epsilon(t-\\Delta)$$\nSubstituting these into the estimator equation:\n$$\\hat{r}(t) = \\frac{1}{\\Delta} \\left[ (f_{0} + \\alpha t + \\epsilon(t)) - (f_{0} + \\alpha(t-\\Delta) + \\epsilon(t-\\Delta)) \\right]$$\nWe simplify the expression by collecting terms:\n$$\\hat{r}(t) = \\frac{1}{\\Delta} \\left[ (f_{0} - f_{0}) + (\\alpha t - \\alpha(t-\\Delta)) + (\\epsilon(t) - \\epsilon(t-\\Delta)) \\right]$$\n$$\\hat{r}(t) = \\frac{1}{\\Delta} \\left[ \\alpha \\Delta + \\epsilon(t) - \\epsilon(t-\\Delta) \\right]$$\n$$\\hat{r}(t) = \\alpha + \\frac{\\epsilon(t) - \\epsilon(t-\\Delta)}{\\Delta}$$\nThis expression separates the estimator into the true value $\\alpha$ and an error term dependent on the noise.\n\n**Derivation of Bias**\n\nThe bias of the estimator $\\hat{r}(t)$ with respect to the true value $r(t)=\\alpha$ is defined as:\n$$\\operatorname{Bias}(\\hat{r}(t)) = E[\\hat{r}(t)] - r(t) = E[\\hat{r}(t)] - \\alpha$$\nWe compute the expectation of the estimator $E[\\hat{r}(t)]$:\n$$E[\\hat{r}(t)] = E\\left[\\alpha + \\frac{\\epsilon(t) - \\epsilon(t-\\Delta)}{\\Delta}\\right]$$\nBy the linearity of the expectation operator:\n$$E[\\hat{r}(t)] = E[\\alpha] + \\frac{1}{\\Delta} \\left( E[\\epsilon(t)] - E[\\epsilon(t-\\Delta)] \\right)$$\nSince $\\alpha$ is a deterministic constant, $E[\\alpha] = \\alpha$. The noise is zero-mean, so $E[\\epsilon(t)] = 0$ and $E[\\epsilon(t-\\Delta)] = 0$.\n$$E[\\hat{r}(t)] = \\alpha + \\frac{1}{\\Delta} (0 - 0) = \\alpha$$\nThe expected value of the estimator is equal to the true value. Therefore, the bias is:\n$$\\operatorname{Bias}(\\hat{r}(t)) = \\alpha - \\alpha = 0$$\nThe estimator is unbiased. The bias is $0 \\ \\mathrm{Hz/s}$.\n\n**Derivation of Variance**\n\nThe variance of the estimator $\\hat{r}(t)$ is defined as:\n$$\\operatorname{Var}(\\hat{r}(t)) = E\\left[ (\\hat{r}(t) - E[\\hat{r}(t)])^2 \\right]$$\nFrom our previous steps, we know $E[\\hat{r}(t)] = \\alpha$. Substituting the expressions for $\\hat{r}(t)$ and its expectation:\n$$\\operatorname{Var}(\\hat{r}(t)) = E\\left[ \\left( \\left(\\alpha + \\frac{\\epsilon(t) - \\epsilon(t-\\Delta)}{\\Delta}\\right) - \\alpha \\right)^2 \\right]$$\n$$\\operatorname{Var}(\\hat{r}(t)) = E\\left[ \\left( \\frac{\\epsilon(t) - \\epsilon(t-\\Delta)}{\\Delta} \\right)^2 \\right]$$\nWe can factor out the constant term $\\frac{1}{\\Delta^2}$:\n$$\\operatorname{Var}(\\hat{r}(t)) = \\frac{1}{\\Delta^2} E\\left[ (\\epsilon(t) - \\epsilon(t-\\Delta))^2 \\right]$$\nNow, we expand the squared term inside the expectation:\n$$(\\epsilon(t) - \\epsilon(t-\\Delta))^2 = \\epsilon(t)^2 - 2\\epsilon(t)\\epsilon(t-\\Delta) + \\epsilon(t-\\Delta)^2$$\nApplying the expectation operator and using its linearity:\n$$E\\left[ (\\epsilon(t) - \\epsilon(t-\\Delta))^2 \\right] = E[\\epsilon(t)^2] - 2E[\\epsilon(t)\\epsilon(t-\\Delta)] + E[\\epsilon(t-\\Delta)^2]$$\nWe evaluate each term using the given properties of the noise $\\epsilon(t)$:\n1.  The variance of the noise is $\\operatorname{Var}(\\epsilon(t)) = \\sigma_{\\epsilon}^{2}$. Since the mean is $0$, we have $E[\\epsilon(t)^2] = \\sigma_{\\epsilon}^{2}$. As the noise is WSS, the variance is constant, so $E[\\epsilon(t-\\Delta)^2] = \\sigma_{\\epsilon}^{2}$.\n2.  The noise is uncorrelated at distinct time instants. For any sampling interval $\\Delta > 0$, the time instants $t$ and $t-\\Delta$ are distinct. Therefore, the covariance is zero: $\\operatorname{Cov}(\\epsilon(t), \\epsilon(t-\\Delta)) = 0$. Since the mean is zero, this implies $E[\\epsilon(t)\\epsilon(t-\\Delta)] = 0$.\n\nSubstituting these results back into the expanded expectation:\n$$E\\left[ (\\epsilon(t) - \\epsilon(t-\\Delta))^2 \\right] = \\sigma_{\\epsilon}^{2} - 2(0) + \\sigma_{\\epsilon}^{2} = 2\\sigma_{\\epsilon}^{2}$$\nFinally, we substitute this back into the expression for the variance of $\\hat{r}(t)$:\n$$\\operatorname{Var}(\\hat{r}(t)) = \\frac{1}{\\Delta^2} (2\\sigma_{\\epsilon}^{2}) = \\frac{2\\sigma_{\\epsilon}^{2}}{\\Delta^2}$$\nThe variance of the estimator is $\\frac{2\\sigma_{\\epsilon}^{2}}{\\Delta^2} \\ (\\mathrm{Hz/s})^2$.\n\nThe bias and variance are thus determined as $0$ and $\\frac{2\\sigma_{\\epsilon}^{2}}{\\Delta^{2}}$, respectively.",
            "answer": "$$\\boxed{\\begin{pmatrix} 0  \\frac{2\\sigma_{\\epsilon}^{2}}{\\Delta^{2}} \\end{pmatrix}}$$"
        },
        {
            "introduction": "Having quantified the noise in our ROCOF measurement, the next practical step is to prevent the inverter from reacting to benign fluctuations, which can cause unnecessary wear and energy losses. This exercise introduces the concept of an actuation deadband, a common and effective technique for enhancing controller robustness . You will engage in a realistic design scenario, using principles of statistical detection theory to determine an optimal deadband threshold. This task beautifully illustrates the engineering trade-off between maintaining sensitivity to genuine grid disturbances and ensuring immunity to measurement noise.",
            "id": "4127885",
            "problem": "A grid-forming inverter (GFI) providing synthetic inertia is designed to inject inertial power proportional to the measured rate-of-change-of-frequency (RoCoF), but only when the absolute value of the measured RoCoF exceeds a deadband threshold, so that small fluctuations and measurement noise do not cause spurious actuation. The inertial response deadband is the interval around zero RoCoF within which the inverter deliberately does not respond. Its purpose is to suppress actuation due to noise and benign micro-fluctuations while still allowing an energetic response to genuine disturbances.\n\nConsider the following modeling assumptions, which will be used to design a deadband threshold for the RoCoF trigger:\n\n- The inverter samples the measured RoCoF at period $T_s = 0.02\\,\\text{s}$ and computes a scalar trigger signal $|\\dot{f}_m(k)|$, where $\\dot{f}_m(k) = \\dot{f}(k) + n(k)$ is the measured RoCoF at discrete time index $k$, $\\dot{f}(k)$ is the true RoCoF, and $n(k)$ is zero-mean measurement noise.\n- The measurement noise $n(k)$ is modeled as independent and identically distributed Gaussian with standard deviation $\\sigma = 0.02\\,\\text{Hz/s}$.\n- Under normal, undisturbed operation, the true RoCoF satisfies $\\dot{f}(k) = 0$.\n- A deadband threshold $\\theta$ is applied to the absolute measured RoCoF, such that the inertial response is enabled if and only if $|\\dot{f}_m(k)|  \\theta$.\n- The operator requires that the expected number of false actuations per day is no more than $R_f = 1$ for a single inverter, assuming independent samples. A false actuation occurs when $|\\dot{f}_m(k)|  \\theta$ under undisturbed operation.\n- To maintain efficacy for real disturbances, the operator specifies a minimum credible disturbance RoCoF magnitude $A_{\\min} = 0.30\\,\\text{Hz/s}$ and requires a detection probability of at least $P_d^{\\min} = 0.95$ for events with $|\\dot{f}(k)| = A_{\\min}$ within a single sample.\n\nUsing these assumptions and fundamental definitions of Gaussian probability, choose the smallest deadband threshold $\\theta$ from the options below that satisfies both the false actuation requirement and the disturbance detection requirement.\n\nA. $\\theta = 0.104\\,\\text{Hz/s}$\n\nB. $\\theta = 0.020\\,\\text{Hz/s}$\n\nC. $\\theta = 0.300\\,\\text{Hz/s}$\n\nD. $\\theta = 0.150\\,\\text{Hz/s}$",
            "solution": "The problem statement is critically validated before proceeding to a solution.\n\n### Step 1: Extract Givens\n- Sampling period: $T_s = 0.02\\,\\text{s}$\n- Measured Rate-of-Change-of-Frequency (RoCoF): $\\dot{f}_m(k) = \\dot{f}(k) + n(k)$, where $k$ is the discrete time index, $\\dot{f}(k)$ is the true RoCoF, and $n(k)$ is measurement noise.\n- Noise model: $n(k)$ is independent and identically distributed (i.i.d.) Gaussian with mean $0$ and standard deviation $\\sigma = 0.02\\,\\text{Hz/s}$.\n- Condition for undisturbed operation: $\\dot{f}(k) = 0$.\n- Actuation condition: The inertial response is enabled if $|\\dot{f}_m(k)|  \\theta$, where $\\theta$ is the deadband threshold.\n- False actuation constraint: The expected number of false actuations per day must be no more than $R_f = 1$. A false actuation is defined as actuation when $\\dot{f}(k) = 0$.\n- Disturbance detection constraint: For a minimum credible disturbance of magnitude $|\\dot{f}(k)| = A_{\\min} = 0.30\\,\\text{Hz/s}$, the probability of detection in a single sample must be at least $P_d^{\\min} = 0.95$.\n\n### Step 2: Validate Using Extracted Givens\n- **Scientifically Grounded**: The problem is grounded in standard principles of statistical signal processing (detection theory, Gaussian noise models) and power systems engineering (frequency control, synthetic inertia). All concepts are well-established.\n- **Well-Posed**: The problem is well-posed. It provides two distinct, quantifiable constraints on a single variable, $\\theta$, and asks for the selection of the best value from a discrete set of options based on these constraints. This structure allows for a unique solution.\n- **Objective**: The problem is stated in precise, objective language with clearly defined quantitative requirements. There are no subjective or ambiguous terms.\n- **Completeness and Consistency**: The problem provides all necessary data (sampling rate, noise statistics, performance requirements) to establish a solvable mathematical model. The constraints are not inherently contradictory, though they do create opposing pressures on the choice of $\\theta$, which is the essence of a design trade-off problem.\n- **Realism**: The numerical values for sampling period, noise level, and RoCoF magnitudes are realistic for modern power systems and inverter control applications.\n\n### Step 3: Verdict and Action\nThe problem statement is valid. It is scientifically sound, well-posed, and complete. A solution will be derived.\n\n### Derivation of the Solution\n\nThe problem requires finding the smallest threshold $\\theta$ from the given options that satisfies two constraints: one on the maximum rate of false actuations and another on the minimum probability of detecting a genuine disturbance. We will derive the permissible range for $\\theta$ by analyzing each constraint separately.\n\n**Constraint 1: False Actuation Rate**\n\nA false actuation occurs when the true RoCoF is zero, i.e., $\\dot{f}(k) = 0$, but the measurement noise causes the trigger condition to be met.\nUnder this condition, the measured RoCoF is just the noise: $\\dot{f}_m(k) = n(k)$. The noise is a random variable following a Gaussian distribution, $n(k) \\sim N(0, \\sigma^2)$, with $\\sigma = 0.02\\,\\text{Hz/s}$.\n\nThe probability of a false actuation in a single sample, $P_{fa}$, is the probability that $|\\dot{f}_m(k)|  \\theta$:\n$$P_{fa} = P(|n(k)|  \\theta) = P(n(k)  \\theta) + P(n(k)  -\\theta)$$\nDue to the symmetry of the zero-mean Gaussian distribution, this simplifies to:\n$$P_{fa} = 2 \\cdot P(n(k)  \\theta)$$\nLet $Z = n(k)/\\sigma$ be a standard normal variable, $Z \\sim N(0, 1)$. The inequality becomes:\n$$P_{fa} = 2 \\cdot P(Z  \\theta/\\sigma) = 2 \\cdot (1 - \\Phi(\\theta/\\sigma))$$\nwhere $\\Phi(\\cdot)$ is the cumulative distribution function (CDF) of the standard normal distribution.\n\nThe number of samples taken per day, $N_{samples}$, is:\n$$N_{samples} = \\frac{1\\,\\text{day}}{T_s} = \\frac{24\\,\\text{hours/day} \\times 3600\\,\\text{s/hour}}{0.02\\,\\text{s/sample}} = 4,320,000\\,\\text{samples/day}$$\nThe expected number of false actuations per day, $E_{fa}$, is $N_{samples} \\times P_{fa}$. The constraint is $E_{fa} \\le R_f = 1$.\n$$N_{samples} \\cdot P_{fa} \\le 1 \\implies P_{fa} \\le \\frac{1}{N_{samples}} = \\frac{1}{4,320,000} \\approx 2.3148 \\times 10^{-7}$$\nSubstituting the expression for $P_{fa}$:\n$$2 \\cdot (1 - \\Phi(\\theta/\\sigma)) \\le 2.3148 \\times 10^{-7}$$\n$$1 - \\Phi(\\theta/\\sigma) \\le 1.1574 \\times 10^{-7}$$\n$$\\Phi(\\theta/\\sigma) \\ge 1 - 1.1574 \\times 10^{-7} = 0.99999988426$$\nWe need to find the quantile $q = \\theta/\\sigma$ corresponding to this cumulative probability. Using the inverse standard normal CDF, we find $q \\approx 5.144$.\nThus, we require:\n$$\\frac{\\theta}{\\sigma} \\ge 5.144$$\n$$\\theta \\ge 5.144 \\cdot \\sigma = 5.144 \\cdot (0.02\\,\\text{Hz/s}) = 0.10288\\,\\text{Hz/s}$$\nThis sets the lower bound for the threshold $\\theta$.\n\n**Constraint 2: Disturbance Detection Probability**\n\nFor a genuine disturbance with magnitude $|\\dot{f}(k)| = A_{\\min} = 0.30\\,\\text{Hz/s}$, the detection probability $P_d$ must be at least $P_d^{\\min} = 0.95$.\nLet's consider the case where $\\dot{f}(k) = A_{\\min} = 0.30\\,\\text{Hz/s}$. The measured RoCoF is $\\dot{f}_m(k) = A_{\\min} + n(k)$, which is a Gaussian random variable $\\dot{f}_m(k) \\sim N(A_{\\min}, \\sigma^2)$.\nDetection occurs if $|\\dot{f}_m(k)|  \\theta$, which is equivalent to $\\dot{f}_m(k)  \\theta$ or $\\dot{f}_m(k)  -\\theta$.\nThe probability of detection is $P_d = P(\\dot{f}_m(k)  \\theta) + P(\\dot{f}_m(k)  -\\theta)$.\nThe condition $P_d \\ge 0.95$ is equivalent to the probability of non-detection being at most $1 - 0.95 = 0.05$. Non-detection occurs when $-\\theta \\le \\dot{f}_m(k) \\le \\theta$.\n$$P(-\\theta \\le \\dot{f}_m(k) \\le \\theta) \\le 0.05$$\nLet's standardize the variable $\\dot{f}_m(k)$. Let $Z = (\\dot{f}_m(k) - A_{\\min})/\\sigma \\sim N(0, 1)$.\nThe inequality for non-detection becomes:\n$$P\\left( \\frac{-\\theta - A_{\\min}}{\\sigma} \\le Z \\le \\frac{\\theta - A_{\\min}}{\\sigma} \\right) \\le 0.05$$\nThis can be written using the CDF $\\Phi(\\cdot)$ as:\n$$\\Phi\\left(\\frac{\\theta - A_{\\min}}{\\sigma}\\right) - \\Phi\\left(\\frac{-\\theta - A_{\\min}}{\\sigma}\\right) \\le 0.05$$\nThe term $\\frac{-\\theta - A_{\\min}}{\\sigma}$ will be a large negative number, since $\\theta  0$ and $A_{\\min} = 0.30$. For instance, for $\\theta  0.1$, this argument is less than $\\frac{-0.1 - 0.3}{0.02} = -20$. A value of $\\Phi(z)$ for $z  -20$ is extremely close to $0$. Thus, the second term is negligible. The inequality simplifies to:\n$$\\Phi\\left(\\frac{\\theta - A_{\\min}}{\\sigma}\\right) \\le 0.05$$\nTo satisfy this, the argument must be less than or equal to the $5^{th}$ percentile of the standard normal distribution, which is approximately $-1.645$.\n$$\\frac{\\theta - A_{\\min}}{\\sigma} \\le -1.645$$\n$$\\theta - A_{\\min} \\le -1.645 \\cdot \\sigma$$\n$$\\theta \\le A_{\\min} - 1.645 \\cdot \\sigma$$\nSubstituting the values $A_{\\min} = 0.30\\,\\text{Hz/s}$ and $\\sigma=0.02\\,\\text{Hz/s}$:\n$$\\theta \\le 0.30 - 1.645 \\cdot (0.02) = 0.30 - 0.0329 = 0.2671\\,\\text{Hz/s}$$\nThis sets the upper bound for the threshold $\\theta$.\n(Note: The symmetric case $\\dot{f}(k) = -A_{\\min}$ yields the same upper bound).\n\n**Combined Constraints and Option Evaluation**\n\nThe deadband threshold $\\theta$ must satisfy both constraints simultaneously:\n$$0.10288\\,\\text{Hz/s} \\le \\theta \\le 0.2671\\,\\text{Hz/s}$$\n\nNow we evaluate the given options against this valid range. The question asks for the smallest threshold value from the options that lies within this range.\n\n*   **A. $\\theta = 0.104\\,\\text{Hz/s}$**:\n    This value satisfies both inequalities: $0.10288 \\le 0.104 \\le 0.2671$. Thus, it is a valid threshold.\n\n*   **B. $\\theta = 0.020\\,\\text{Hz/s}$**:\n    This value violates the lower bound: $0.020 \\not\\ge 0.10288$. A threshold this low would cause an unacceptably high rate of false actuations. Incorrect.\n\n*   **C. $\\theta = 0.300\\,\\text{Hz/s}$**:\n    This value violates the upper bound: $0.300 \\not\\le 0.2671$. A threshold this high would not meet the required detection probability for minimum credible disturbances. Incorrect.\n\n*   **D. $\\theta = 0.150\\,\\text{Hz/s}$**:\n    This value satisfies both inequalities: $0.10288 \\le 0.150 \\le 0.2671$. Thus, it is also a valid threshold.\n\nWe are asked to choose the *smallest* threshold from the options that satisfies the requirements. We have two valid options: A ($\\theta=0.104\\,\\text{Hz/s}$) and D ($\\theta=0.150\\,\\text{Hz/s}$). Comparing these two, $0.104\\,\\text{Hz/s}$ is the smaller value. Therefore, Option A is the correct answer to the question posed. Option D, while being a valid threshold, is not the smallest valid choice among the options.\n\n**Final Verdict on Options:**\n- Option A: Satisfies both constraints and is the smallest option to do so. **Correct.**\n- Option B: Fails the false actuation constraint. **Incorrect.**\n- Option C: Fails the detection probability constraint. **Incorrect.**\n- Option D: Satisfies both constraints but is not the smallest valid option. **Incorrect.**",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}