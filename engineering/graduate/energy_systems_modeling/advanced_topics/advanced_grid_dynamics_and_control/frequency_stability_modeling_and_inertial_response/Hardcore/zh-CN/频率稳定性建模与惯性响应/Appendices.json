{
    "hands_on_practices": [
        {
            "introduction": "本章的第一个实践练习将带您回到频率稳定性的物理根源。当发电与负荷之间出现功率失衡时，系统的频率会立即开始变化，其初始变化率（RoCoF）完全由同步发电机组转子中储存的旋转动能决定。通过练习 ，您将从第一性原理出发，推导系统惯量与初始RoCoF之间的关系，并为一个包含多种不同发电机的电力系统计算其在遭受发电量损失后的初始频率响应。",
            "id": "4092121",
            "problem": "一个额定频率为 $f_{0}$ 的大容量电力系统，在时间 $t=0$ 时经历了一次突发的净发电功率损失 $\\Delta P$，此时任何调速器或一次调频响应尚未动作。该系统由多台具有不同惯性常数 $H_{i}$ 和额定视在功率 $S_{i}$ 的同步发电机供电。假设功率因数为1，因此在基准值转换中，兆伏安 (MVA) 等于兆瓦 (MW)。在初始暂态过程中，可以忽略负荷阻尼和摩擦。\n\n从旋转动力学和能量平衡的基本原理出发，推导初始频率变化率 (RoCoF) 的表达式，RoCoF 定义为 $t=0^{+}$ 时的 $df/dt$。该表达式需用一个由发电机组组合 $\\{H_{i},S_{i}\\}$ 和系统基准功率 $S_{\\text{base}}$ 构建的系统级惯性系数 $M_{\\text{sys}}$ 来表示。然后，根据以下数据计算初始 RoCoF 的数值：\n- 额定频率 $f_{0} = 50\\,\\text{Hz}$。\n- 系统基准功率 $S_{\\text{base}} = 1500\\,\\text{MW}$。\n- 同步发电机组组合：\n  - 发电机 $1$：$H_{1} = 6.0\\,\\text{s}$，$S_{1} = 600\\,\\text{MVA}$。\n  - 发电机 $2$：$H_{2} = 4.5\\,\\text{s}$，$S_{2} = 400\\,\\text{MVA}$。\n  - 发电机 $3$：$H_{3} = 3.0\\,\\text{s}$，$S_{3} = 300\\,\\text{MVA}$。\n  - 发电机 $4$：$H_{4} = 2.0\\,\\text{s}$，$S_{4} = 200\\,\\text{MVA}$。\n- 净发电功率损失量 $\\Delta P = 220\\,\\text{MW}$。\n\n将初始 RoCoF 以带符号的值（如果频率下降则为负）报告，单位为 $\\text{Hz}\\,\\text{s}^{-1}$。将您的答案四舍五入至四位有效数字。最后，根据推导出的表达式的结构，定性评论初始 RoCoF 对发电机组组合构成的灵敏度。",
            "solution": "该问题是有效的，因为它科学地基于应用于电力系统的旋转动力学原理，所有必要信息均已提供，问题提法得当，并且表述客观。我们可以开始求解。\n\n解决方案包括三个部分：首先，从基本原理推导初始频率变化率 (RoCoF)；其次，对给定的系统参数进行数值计算；第三，对结果进行定性讨论。\n\n**第1部分：初始 RoCoF 的推导**\n\n分析从构成电力系统的同步发电机的旋转动力学开始。对于单个旋转质量，其动能 ($E_k$) 由下式给出：\n$$\nE_k = \\frac{1}{2} J \\omega_m^2\n$$\n其中 $J$ 是转动惯量，$\\omega_m$ 是机械角速度。\n\n同步发电机 $i$ 的惯性常数 $H_i$ 定义为在同步转速 $\\omega_{m,s}$ 下存储在旋转质量中的动能，并由该发电机的 MVA 额定值 $S_i$ 进行归一化：\n$$\nH_i = \\frac{E_{k,i,s}}{S_i} = \\frac{\\frac{1}{2} J_i \\omega_{m,s}^2}{S_i}\n$$\n一个由 $n$ 台发电机组成的系统，在频率 $f$ 下同步运行，其总动能可以用它们在额定频率 $f_0$ 下的动能来表示。机械速度 $\\omega_m$ 与电频率 $f$ 成正比。因此，动能与 $f^2$ 成正比。发电机 $i$ 在频率 $f$ 下的动能为：\n$$\nE_{k,i}(f) = E_{k,i,s} \\left(\\frac{f}{f_0}\\right)^2 = (H_i S_i) \\left(\\frac{f}{f_0}\\right)^2\n$$\n系统的总动能是各个动能之和：\n$$\nE_{k, \\text{sys}}(f) = \\sum_{i=1}^{n} E_{k,i}(f) = \\left(\\frac{f}{f_0}\\right)^2 \\sum_{i=1}^{n} H_i S_i\n$$\n能量守恒基本原理规定，系统动能的变化率必须等于总机械输入功率 $P_m$ 和总电气输出功率 $P_e$ 之间的功率不平衡。\n$$\n\\frac{dE_{k, \\text{sys}}}{dt} = P_m - P_e\n$$\n在时间 $t=0$ 时，系统经历了一次突发的发电功率损失 $\\Delta P$。这造成了一个瞬时的功率不平衡，即电气负载超过了机械输入功率。题目说明我们可以忽略调速器响应，因此 $P_m$ 最初不发生变化。于是，功率不平衡为：\n$$\nP_m - P_e = -\\Delta P\n$$\n机械功率的亏空由存储在旋转质量中的动能提供，导致它们减速。我们可以写出：\n$$\n\\frac{dE_{k, \\text{sys}}}{dt} = -\\Delta P\n$$\n现在，我们对 $E_{k, \\text{sys}}(f)$ 的表达式关于时间 $t$ 求导：\n$$\n\\frac{dE_{k, \\text{sys}}}{dt} = \\frac{d}{dt} \\left[ \\left(\\frac{f}{f_0}\\right)^2 \\sum_{i=1}^{n} H_i S_i \\right] = \\left(\\sum_{i=1}^{n} H_i S_i\\right) \\frac{d}{dt} \\left(\\frac{f^2}{f_0^2}\\right)\n$$\n使用链式法则：\n$$\n\\frac{dE_{k, \\text{sys}}}{dt} = \\left(\\sum_{i=1}^{n} H_i S_i\\right) \\frac{2f}{f_0^2} \\frac{df}{dt}\n$$\n令 $\\frac{dE_{k, \\text{sys}}}{dt}$ 的两个表达式相等：\n$$\n\\left(\\sum_{i=1}^{n} H_i S_i\\right) \\frac{2f}{f_0^2} \\frac{df}{dt} = -\\Delta P\n$$\n初始 RoCoF 是 $\\frac{df}{dt}$ 在 $t=0^+$ 时的值。在这一瞬间，频率尚未显著偏离其额定值，因此我们可以近似认为 $f \\approx f_0$。\n$$\n\\left(\\sum_{i=1}^{n} H_i S_i\\right) \\frac{2f_0}{f_0^2} \\frac{df}{dt}\\bigg|_{t=0^+} = -\\Delta P\n$$\n$$\n\\frac{2}{f_0}\\left(\\sum_{i=1}^{n} H_i S_i\\right) \\frac{df}{dt}\\bigg|_{t=0^+} = -\\Delta P\n$$\n求解初始 RoCoF 可得：\n$$\n\\frac{df}{dt}\\bigg|_{t=0^+} = -\\frac{\\Delta P \\cdot f_0}{2 \\sum_{i=1}^{n} H_i S_i}\n$$\n题目要求用一个由 $\\{H_i, S_i\\}$ 和 $S_{\\text{base}}$ 构建的系统级惯性系数 $M_{\\text{sys}}$ 来表示这个表达式。电力系统分析中的一个标准方法是定义一个标幺制的系统惯性常数 $M_{pu}$。首先，我们在统一的系统基准 $S_{\\text{base}}$ 上定义等效系统惯性常数 $H_{\\text{sys}}$：\n$$\nH_{\\text{sys}} = \\frac{\\text{Total Kinetic Energy at } f_0}{\\text{System Base Power}} = \\frac{\\sum_{i=1}^{n} H_i S_i}{S_{\\text{base}}}\n$$\n标准的标幺制功角摆动方程是 $2H_{\\text{sys}} \\frac{d\\omega_{pu}}{dt} = \\Delta P_{pu}$，其中 $\\omega_{pu} = f/f_0$ 且 $\\Delta P_{pu} = \\Delta P/S_{\\text{base}}$。对于发电功率损失，符号为负。我们定义系统惯性系数 $M_{\\text{sys}}$ 为标幺制系数 $M_{pu} = 2H_{\\text{sys}}$。\n$$\nM_{\\text{sys}} = 2H_{\\text{sys}} = \\frac{2 \\sum_{i=1}^{n} H_i S_i}{S_{\\text{base}}}\n$$\n将此定义和其他标幺量代入功角摆动方程：\n$$\nM_{\\text{sys}} \\frac{d(f/f_0)}{dt} = -\\frac{\\Delta P}{S_{\\text{base}}} \\implies \\frac{M_{\\text{sys}}}{f_0} \\frac{df}{dt} = -\\frac{\\Delta P}{S_{\\text{base}}}\n$$\n求解 RoCoF：\n$$\n\\frac{df}{dt}\\bigg|_{t=0^+} = -\\frac{\\Delta P \\cdot f_0}{M_{\\text{sys}} S_{\\text{base}}}\n$$\n将 $M_{\\text{sys}}$ 的表达式代回此方程，验证了我们的第一个推导：\n$$\n\\frac{df}{dt} = -\\frac{\\Delta P \\cdot f_0}{\\left(\\frac{2 \\sum H_i S_i}{S_{\\text{base}}}\\right) S_{\\text{base}}} = -\\frac{\\Delta P \\cdot f_0}{2 \\sum H_i S_i}\n$$\n两种表述是等效的。我们将使用推导出的表达式进行数值计算。\n\n**第2部分：数值计算**\n\n首先，我们计算额定频率下的系统总动能，由项 $\\sum_{i=1}^{4} H_i S_i$ 表示。题目说明功率因数为1，因此 MVA 可视为 MW。$H_i S_i$ 的单位是 MW-s（兆焦耳）。\n\n给定数据：\n- $H_1 = 6.0\\,\\text{s}$，$S_1 = 600\\,\\text{MW}$\n- $H_2 = 4.5\\,\\text{s}$，$S_2 = 400\\,\\text{MW}$\n- $H_3 = 3.0\\,\\text{s}$，$S_3 = 300\\,\\text{MW}$\n- $H_4 = 2.0\\,\\text{s}$，$S_4 = 200\\,\\text{MW}$\n\n计算各个 $H_i S_i$ 的乘积：\n- $H_1 S_1 = (6.0\\,\\text{s}) \\times (600\\,\\text{MW}) = 3600\\,\\text{MW}\\cdot\\text{s}$\n- $H_2 S_2 = (4.5\\,\\text{s}) \\times (400\\,\\text{MW}) = 1800\\,\\text{MW}\\cdot\\text{s}$\n- $H_3 S_3 = (3.0\\,\\text{s}) \\times (300\\,\\text{MW}) = 900\\,\\text{MW}\\cdot\\text{s}$\n- $H_4 S_4 = (2.0\\,\\text{s}) \\times (200\\,\\text{MW}) = 400\\,\\text{MW}\\cdot\\text{s}$\n\n将这些值相加，得到总存储动能：\n$$\n\\sum_{i=1}^{4} H_i S_i = 3600 + 1800 + 900 + 400 = 6700\\,\\text{MW}\\cdot\\text{s}\n$$\n现在，我们可以使用推导出的公式和给定的参数来计算初始 RoCoF：\n- $\\Delta P = 220\\,\\text{MW}$\n- $f_0 = 50\\,\\text{Hz}$\n$$\n\\frac{df}{dt}\\bigg|_{t=0^+} = -\\frac{\\Delta P \\cdot f_0}{2 \\sum_{i=1}^{4} H_i S_i} = -\\frac{(220\\,\\text{MW}) \\times (50\\,\\text{Hz})}{2 \\times (6700\\,\\text{MW}\\cdot\\text{s})}\n$$\n$$\n\\frac{df}{dt}\\bigg|_{t=0^+} = -\\frac{11000}{13400}\\,\\text{Hz}\\cdot\\text{s}^{-1} = -\\frac{110}{134}\\,\\text{Hz}\\cdot\\text{s}^{-1} = -\\frac{55}{67}\\,\\text{Hz}\\cdot\\text{s}^{-1}\n$$\n将其转换为小数值：\n$$\n\\frac{df}{dt}\\bigg|_{t=0^+} \\approx -0.8208955... \\,\\text{Hz}\\cdot\\text{s}^{-1}\n$$\n四舍五入到四位有效数字，初始 RoCoF 为 $-0.8209\\,\\text{Hz}\\cdot\\text{s}^{-1}$。负号表示频率正在下降，这与发电功率损失的情况相符。\n\n**第3部分：关于灵敏度的定性评论**\n\n推导出的初始 RoCoF 表达式 $\\frac{df}{dt} = -\\frac{\\Delta P \\cdot f_0}{2 \\sum H_i S_i}$ 揭示了扰动发生后立即影响频率稳定性的关键因素。RoCoF 与功率不平衡量 $\\Delta P$ 的大小成正比，但与系统的总存储动能 $\\sum H_i S_i$ 成反比。\n\n这个分母项 $\\sum H_i S_i$ 代表了系统的转动惯量。其构成至关重要。每台发电机 $i$ 对总惯量的贡献是其惯性常数 $H_i$ 和其容量 $S_i$ 的乘积。因此，那些既大（$S_i$ 值高）又具有高惯性常数（$H_i$ 值高）的发电机对于维持系统频率稳定性格外重要。例如，在我们的计算中，发电机1（$H_1=6$, $S_1=600$）贡献了 $3600\\,\\text{MW}\\cdot\\text{s}$，占系统总惯量的一半以上（$53.7\\%$）。\n\n因此，初始 RoCoF 对发电机组组合的构成高度敏感。如果发电机组组合从常规同步发电机（其固有地具有高 H 值）转向具有较低或零内在惯量的发电技术（例如许多基于逆变器的资源，如光伏发电或4型风力发电机），将会减少系统总惯量 $\\sum H_i S_i$。根据推导的公式，对于相同的功率不平衡 $\\Delta P$，分母值的降低将导致 RoCoF 的幅值成比例地增大。更高的 RoCoF 使系统更容易发生快速频率衰减，可能触发低频减载继电器，并增加连锁故障的风险。",
            "answer": "$$\n\\boxed{-0.8209}\n$$"
        },
        {
            "introduction": "初始频率变化率（RoCoF）描绘了扰动发生瞬间的系统响应，但这并非故事的全貌。除了惯性，系统中还存在阻尼效应（如频率敏感性负荷），它会抵抗频率的变化并最终使频率稳定在一个新的平衡点。在练习  中，您将为一个包含惯性 ($M$) 和阻尼 ($D$) 的单机无穷大系统建立动态模型，通过求解描述其动态行为的微分方程，获得频率偏差随时间变化的完整轨迹。",
            "id": "4092150",
            "problem": "一台同步发电机连接到一个刚性电网，该电网可以建模为一个具有固定电角频率 $\\omega_{s}$ 的无穷大母线。考虑发电机转子速度围绕 $\\omega_{s}$ 的小偏差，并将频率偏差定义为 $\\Delta \\omega(t) \\equiv \\omega(t)-\\omega_{s}$。该发电机具有一个有效惯性参数 $M0$（将功率不平衡映射为加速度）和一个总阻尼系数 $D0$（将频率偏差映射为功率耗散项），在所关心的时间范围内，两者均被视作常数。在 $t=0$ 之前，系统处于稳态，其中 $\\Delta \\omega(t)=0$，机械输入功率 $P_{m}$ 与电气输出功率 $P_{e}$ 完全平衡。在 $t=0^{+}$ 时，电网需求的电气功率阶跃增加一个恒定量 $\\Delta P0$，使得对于所有 $t \\geq 0$，电气功率变为 $P_{e}+\\Delta P$，而在所关心的短时间窗口内，机械输入功率保持在 $P_{m}$ 不变（无一次控制作用）。假设为小信号运行，因此围绕 $\\omega_{s}$ 的线性化是有效的，并且电阻和负荷频率效应由 $D$ 捕捉。\n\n从刚性转子的旋转动力学第一性原理（转矩平衡和旋转动能守恒）出发，在这些假设下推导控制 $\\Delta \\omega(t)$ 的线性常微分方程，并用初始条件 $\\Delta \\omega(0)=0$ 求解 $t \\geq 0$ 时的方程。然后确定渐近频率偏差 $\\lim_{t \\to \\infty} \\Delta \\omega(t)$。用 $M$、$D$、$\\Delta P$ 和 $t$ 将你的结果表示为闭式表达式。将你的最终答案以行矩阵形式提供，其第一个条目是 $\\Delta \\omega(t)$，第二个条目是渐近偏差。不需要进行数值计算或四舍五入。最终答案中不要包含单位。",
            "solution": "在尝试解答之前，将对问题进行验证。\n\n### 步骤1：提取已知条件\n- 系统描述：一台同步发电机连接到一个刚性电网（无穷大母线）。\n- 无穷大母线频率：$\\omega_s$，固定的电角频率。\n- 频率偏差：$\\Delta \\omega(t) \\equiv \\omega(t)-\\omega_{s}$。\n- 惯性参数：$M  0$，常数。\n- 阻尼系数：$D  0$，常数。\n- 扰动前状态（$t0$）：稳态，$\\Delta \\omega(t)=0$，机械功率 $P_m$ 等于电气功率 $P_e$。\n- 在 $t=0^{+}$ 时的扰动：电气功率需求阶跃增加 $\\Delta P  0$。\n- 扰动后电气功率（$t \\geq 0$）：$P_e + \\Delta P$。\n- 扰动后机械功率（$t \\geq 0$）：$P_m$，常数。\n- 初始条件：$\\Delta \\omega(0)=0$。\n- 假设：小信号运行，线性化有效，电阻和负荷频率效应由 $D$ 捕捉。\n- 要求输出：\n    1. 关于 $\\Delta \\omega(t)$ 的线性常微分方程。\n    2. 对于 $t \\geq 0$ 的解 $\\Delta \\omega(t)$。\n    3. 渐近频率偏差 $\\lim_{t \\to \\infty} \\Delta \\omega(t)$。\n\n### 步骤2：使用提取的已知条件进行验证\n根据指定标准对问题进行验证。\n\n- **科学基础（关键）**：该问题在根本上是合理的。它描述了连接到无穷大母线的单机经典摇摆方程，这是电力系统稳定性分析中的一个基石模型。参数 $M$（惯性）和 $D$（阻尼）代表了众所周知的物理特性。所描述的动态响应是牛顿第二旋转定律在同步发电机上的直接应用。\n\n- **适定性**：该问题是适定的。它要求解一个具有常系数和常数强迫项的一阶线性常微分方程。给出了一个特定的初始条件 $\\Delta \\omega(0)=0$。这种设置保证了在 $t \\geq 0$ 时解的存在性和唯一性。\n\n- **客观性（关键）**：该问题使用电气工程和控制理论中精确、客观和标准的术语（例如，“同步发电机”、“无穷大母线”、“惯性参数”、“阻尼系数”）来陈述。没有主观或含糊的语言。\n\n- **缺陷分析**：\n    1. **科学上不合理**：无。该模型是研究频率动态特性的一个有效且广泛使用的简化模型。\n    2. **不可形式化/不相关**：无。该问题是能源系统建模主题中的一个典型例子，特别是在频率稳定性方面。\n    3. **不完整/矛盾**：无。所有必要的参数（$M$、$D$、$\\Delta P$）和初始条件都已给出。关系是自洽的。\n    4. **不切实际/不可行**：无。虽然是一个简化模型（例如，没有调速器作用），但该模型对于分析发电机在短时间尺度内的故障后即时惯性响应是物理上现实的。条件 $M0$ 和 $D0$ 是物理上必需的，并已说明。\n    5. **不适定/结构不良**：无。问题结构清晰，并能导出一个唯一的稳定解。\n    6. **伪深刻/琐碎**：无。该问题要求正确应用第一性原理来推导和求解一个微分方程，这是对基本理解的非平凡考验。\n    7. **超出科学可验证性**：无。该模型及其解可通过标准数学分析进行验证，并可与更复杂的模拟进行比较。\n\n### 步骤3：结论与行动\n问题**有效**。将提供完整解答。\n\n### 推导与求解\n\n同步发电机的旋转动力学由能量守恒原理或等效地由转子上的转矩平衡所支配。转子动能 $E_k$ 的变化率等于加速功率，即机械输入功率 $P_{mech}$ 与总电气输出功率 $P_{elec,total}$ 之差。\n\n转子的动能由 $E_k = \\frac{1}{2}J\\omega^2$ 给出，其中 $J$ 是转动惯量，$\\omega$ 是转子的角速度。功率平衡方程为：\n$$ \\frac{dE_k}{dt} = P_{mech} - P_{elec,total} $$\n动能的变化率为 $\\frac{dE_k}{dt} = \\frac{d}{dt}\\left(\\frac{1}{2}J\\omega^2\\right) = J\\omega\\frac{d\\omega}{dt}$。\n在电力系统中，通常使用一个惯性参数 $M$，它将功率不平衡与频率偏差 $\\Delta \\omega(t)$ 的角加速度直接关联起来。基本运动方程定义为：\n$$ M \\frac{d(\\Delta \\omega)}{dt} = P_{accel} $$\n其中 $P_{accel}$ 是加速功率。由于 $\\Delta \\omega(t) = \\omega(t) - \\omega_s$ 且 $\\omega_s$ 是一个常数，所以 $\\frac{d(\\Delta \\omega)}{dt} = \\frac{d\\omega}{dt}$。因此，方程变为：\n$$ M \\frac{d(\\Delta \\omega)}{dt} = P_{mech} - P_{elec,total} $$\n对于时间段 $t \\geq 0$，机械输入功率保持在其扰动前的值 $P_m$ 不变。所以，$P_{mech} = P_m$。\n总电气输出功率 $P_{elec,total}$ 由两部分组成。第一部分是扰动前存在的负荷 $P_e$，加上负荷的突然阶跃增加量 $\\Delta P$。第二部分是与频率偏差成正比的阻尼功率分量 $D\\Delta\\omega(t)$。该项代表频率敏感负荷和发电机的电气阻尼效应。一个正的 $\\Delta\\omega$ 会导致电气输出功率增加，从而抵制频率的增加。因此，对于 $t \\geq 0$：\n$$ P_{elec,total} = P_e + \\Delta P + D \\Delta \\omega(t) $$\n将 $P_{mech}$ 和 $P_{elec,total}$ 的表达式代入摇摆方程：\n$$ M \\frac{d(\\Delta \\omega)}{dt} = P_m - \\left( P_e + \\Delta P + D \\Delta \\omega(t) \\right) $$\n在 $t=0$ 的扰动之前，系统处于稳态，这意味着机械功率与电气功率完全平衡：$P_m = P_e$。将此恒等式代入方程可得：\n$$ M \\frac{d(\\Delta \\omega)}{dt} = P_e - \\left( P_e + \\Delta P + D \\Delta \\omega(t) \\right) $$\n$$ M \\frac{d(\\Delta \\omega)}{dt} = - \\Delta P - D \\Delta \\omega(t) $$\n这就是控制频率偏差 $\\Delta \\omega(t)$ 的线性常微分方程（ODE）。为了求解它，我们将其重新排列为标准形式：\n$$ M \\frac{d(\\Delta \\omega)}{dt} + D \\Delta \\omega(t) = - \\Delta P $$\n两边除以 $M$（非零）得到：\n$$ \\frac{d(\\Delta \\omega)}{dt} + \\frac{D}{M} \\Delta \\omega(t) = - \\frac{\\Delta P}{M} $$\n这是一个形式为 $y' + ay = b$ 的一阶线性非齐次常微分方程，其中 $y(t) = \\Delta \\omega(t)$，$a = \\frac{D}{M}$，以及 $b = -\\frac{\\Delta P}{M}$。\n\n解是齐次解 $\\Delta \\omega_h(t)$ 和特解 $\\Delta \\omega_p(t)$ 的和。\n齐次方程为 $\\frac{d(\\Delta \\omega_h)}{dt} + \\frac{D}{M} \\Delta \\omega_h(t) = 0$。其解的形式为 $\\Delta \\omega_h(t) = C \\exp\\left(-\\frac{D}{M}t\\right)$，其中 $C$ 是一个积分常数。\n\n对于特解，由于右侧是一个常数，我们假设一个常数解 $\\Delta \\omega_p(t) = K$。将其代入常微分方程：\n$$ \\frac{d(K)}{dt} + \\frac{D}{M} K = - \\frac{\\Delta P}{M} $$\n$$ 0 + \\frac{D}{M} K = - \\frac{\\Delta P}{M} $$\n求解 $K$ 得到 $K = -\\frac{\\Delta P}{D}$。因此，$\\Delta \\omega_p(t) = -\\frac{\\Delta P}{D}$。\n\n通解是齐次解和特解的和：\n$$ \\Delta \\omega(t) = \\Delta \\omega_h(t) + \\Delta \\omega_p(t) = C \\exp\\left(-\\frac{D}{M}t\\right) - \\frac{\\Delta P}{D} $$\n为了求出常数 $C$，我们应用初始条件 $\\Delta \\omega(0) = 0$：\n$$ \\Delta \\omega(0) = C \\exp(0) - \\frac{\\Delta P}{D} = 0 $$\n$$ C - \\frac{\\Delta P}{D} = 0 \\implies C = \\frac{\\Delta P}{D} $$\n将 $C$ 的值代回通解，得到 $t \\geq 0$ 时 $\\Delta \\omega(t)$ 的最终表达式：\n$$ \\Delta \\omega(t) = \\frac{\\Delta P}{D} \\exp\\left(-\\frac{D}{M}t\\right) - \\frac{\\Delta P}{D} $$\n这可以因式分解为更常见的形式：\n$$ \\Delta \\omega(t) = -\\frac{\\Delta P}{D} \\left(1 - \\exp\\left(-\\frac{D}{M}t\\right)\\right) $$\n接下来，我们确定当 $t \\to \\infty$ 时的渐近频率偏差。由于 $M  0$ 和 $D  0$，比率 $\\frac{D}{M}$ 为正。因此，随着时间的增加，指数项将衰减到零。\n$$ \\lim_{t \\to \\infty} \\Delta \\omega(t) = \\lim_{t \\to \\infty} \\left[ -\\frac{\\Delta P}{D} \\left(1 - \\exp\\left(-\\frac{D}{M}t\\right)\\right) \\right] $$\n$$ = -\\frac{\\Delta P}{D} \\left(1 - \\lim_{t \\to \\infty} \\exp\\left(-\\frac{D}{M}t\\right)\\right) $$\n$$ = -\\frac{\\Delta P}{D} (1 - 0) = -\\frac{\\Delta P}{D} $$\n渐近频率偏差为 $-\\frac{\\Delta P}{D}$。这是新的稳态频率偏差，此时阻尼功率 $D \\Delta \\omega$ 恰好平衡了功率缺额 $-\\Delta P$。\n\n所需的两个结果是 $\\Delta \\omega(t)$ 及其渐近值。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n-\\frac{\\Delta P}{D} \\left(1 - \\exp\\left(-\\frac{D}{M}t\\right)\\right)  -\\frac{\\Delta P}{D}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "随着可再生能源并网比例的增加，传统同步发电机提供的自然惯量正在减少，这为电网带来了新的挑战。为了弥补这一缺失，基于逆变器的资源（如储能和光伏）可以通过控制来模拟惯性，即提供“合成惯量”。然而，与物理惯量不同，合成惯量受到设备功率 ($P_{\\text{lim}}$) 和能量 ($E_{\\text{avail}}$) 的严格限制。练习  旨在让您分析这些实际约束，并计算在给定的扰动下，一个逆变器能够持续提供惯性支撑的最长时间。",
            "id": "4092161",
            "problem": "一个并网逆变器资源通过响应系统频率变化来指令有功功率，从而实现惯性模拟。设系统频率为 $f(t)$，其标称值为 $f_{0}$，角频率为 $\\omega(t) = 2\\pi f(t)$，频率变化率 (RoCoF) 定义为 $\\dot{f}(t) = \\frac{d f(t)}{dt}$。该合成惯性控制器由一个微分增益 $K_{d}$ 参数化，其物理意义是指令有功功率与 RoCoF 之间的比例关系。该设备在惯性模拟中受到严格的有功功率限制 $P_{\\text{lim}}$ 和有限的可用能量预算 $E_{\\text{avail}}$ 的约束，并且在模拟窗口期间无法补充能量。\n\n考虑一个最坏情况事件，其中在扰动发生后的持续时间为 $T$ 的连续窗口内，RoCoF 的幅值被一个常数 $R$ 所限制，即对于 $0 \\leq t \\leq T$ 有 $|\\dot{f}(t)| = R$。假设 $\\dot{f}(t)$ 的符号使得惯性模拟在整个时间间隔内注入功率（设备放电）。从惯性功率与 $\\frac{d\\omega}{dt}$ 成正比的摇摆方程定义以及能量-功率关系 $E(t) = \\int_{0}^{t} P(\\tau)\\,d\\tau$ 出发，根据第一性原理推导由功率限制 $P_{\\text{lim}}$ 和能量预算 $E_{\\text{avail}}$ 对合成惯性作用施加的约束。然后，利用这些约束，计算在所述事件下，以给定的微分增益 $K_{d}$ 可以维持惯性模拟的最长持续时间 $T_{\\max}$。\n\n使用以下参数值：\n- 微分增益 $K_{d} = 163\\,\\text{MW}\\cdot\\text{s}/\\text{Hz}$，\n- RoCoF 幅值 $R = 0.42\\,\\text{Hz}/\\text{s}$，\n- 功率限制 $P_{\\text{lim}} = 58\\,\\text{MW}$，\n- 可用能量 $E_{\\text{avail}} = 820\\,\\text{MW}\\cdot\\text{s}$。\n\n以秒为单位表示最终时间，并将您的答案四舍五入到四位有效数字。",
            "solution": "用户要求我解决一个与逆变器资源中合成惯性模拟的约束相关的问题。\n\n### 步骤1：问题验证\n\n首先，我将对问题陈述进行严格的验证。\n\n#### 1.1. 提取已知条件\n\n-   **系统变量：**\n    -   系统频率：$f(t)$\n    -   标称频率：$f_{0}$\n    -   角频率：$\\omega(t) = 2\\pi f(t)$\n    -   频率变化率 (RoCoF)：$\\dot{f}(t) = \\frac{d f(t)}{dt}$\n-   **控制器和设备参数：**\n    -   合成惯性的微分增益：$K_{d} = 163\\,\\text{MW}\\cdot\\text{s}/\\text{Hz}$\n    -   有功功率限制：$P_{\\text{lim}} = 58\\,\\text{MW}$\n    -   可用能量预算：$E_{\\text{avail}} = 820\\,\\text{MW}\\cdot\\text{s}$\n-   **事件条件：**\n    -   RoCoF 幅值是恒定的：对于 $0 \\leq t \\leq T$ 有 $|\\dot{f}(t)| = R$\n    -   RoCoF 幅值：$R = 0.42\\,\\text{Hz}/\\text{s}$\n    -   设备在整个时间间隔内注入功率（放电）。\n    -   在模拟期间不能补充能量。\n-   **定义：**\n    -   惯性功率与 $\\frac{d\\omega}{dt}$ 成正比。\n    -   指令有功功率与 RoCoF 成正比，比例常数（增益）为 $K_{d}$。\n    -   能量-功率关系：$E(t) = \\int_{0}^{t} P(\\tau)\\,d\\tau$。\n\n#### 1.2. 使用提取的已知条件进行验证\n\n-   **科学依据：**该问题牢固地植根于电力系统工程，特别是在基于逆变器的资源（IBR）的频率控制辅助服务建模中。合成惯性、RoCoF、功率限制和能量约束等概念是该领域的标准。使用比例控制器（$P \\propto \\dot{f}$）是快速频率响应的一种常见实现方式。单位在量纲上是一致的：$[K_d] \\cdot [R] = (\\text{功率} \\cdot \\text{时间} / \\text{频率}) \\cdot (\\text{频率} / \\text{时间}) = \\text{功率}$。\n-   **适定性：**该问题是适定的。它清楚地定义了系统、事件、控制律和物理约束。它要求一个特定的、可计算的量（$T_{\\max}$），并且根据所提供的数据存在唯一解。\n-   **客观性：**该问题以精确、客观和技术性的语言陈述，没有任何主观性或偏见。\n-   **完整性和一致性：**该问题是自洽的。所有必要的参数（$K_d, R, P_{\\text{lim}}, E_{\\text{avail}}$）都已提供。功率、能量和 RoCoF 之间的关系已经定义。没有明显的矛盾。对摇摆方程的引用为所模拟的物理原理提供了背景，而针对 IBR 的具体控制律（$P \\propto \\dot{f}$，增益为 $K_d$）被明确给出，这是一种一致且标准的方法。\n-   **现实性：**对于参与频率调节的公用事业规模的储能系统或大型可再生能源发电厂来说，这些参数值是现实的。$0.42\\,\\text{Hz/s}$ 的 RoCoF 代表了一个重大但合理的系统扰动。功率和能量容量在典型范围内。\n\n#### 1.3. 结论与行动\n\n问题陈述是有效的。它在科学上是合理的，是适定的，并且提供了所有必要的信息。我将继续推导解决方案。\n\n### 步骤2：解决方案推导\n\n解决方案需要推导惯性作用的约束，然后计算该作用可以维持的最长时间。\n\n首先，我们形式化逆变器资源的功率响应。问题陈述指出，指令有功功率（我们称之为 $P_{cmd}(t)$）与 RoCoF $\\dot{f}(t)$ 成正比。增益为 $K_d$。由于设备正在注入功率，并且我们已知 RoCoF 的幅值，我们可以将指令功率的幅值写为：\n$$P_{cmd}(t) = K_{d} |\\dot{f}(t)|$$\n在事件期间，当 $0 \\leq t \\leq T$ 时 $|\\dot{f}(t)| = R$，指令功率是恒定的：\n$$P_{cmd} = K_{d} R$$\n\n该指令功率受到设备的物理限制。第一个约束是有功功率限制 $P_{\\text{lim}}$。注入电网的实际功率 $P_{inj}(t)$ 不能超过此限制。因此，注入功率是指令功率和功率限制中的较小者：\n$$P_{inj}(t) = \\min(P_{cmd}(t), P_{\\text{lim}})$$\n对于指定的事件，在整个模拟期间，注入功率是恒定的：\n$$P_{inj} = \\min(K_{d} R, P_{\\text{lim}})$$\n这个方程代表了由功率限制对合成惯性作用施加的第一个约束。\n\n接下来，我们考虑第二个约束：可用能量预算 $E_{\\text{avail}}$。在持续时间为 $T$ 的时间间隔内，输送的总能量 $E(T)$ 是注入功率的积分：\n$$E(T) = \\int_{0}^{T} P_{inj}(\\tau) \\, d\\tau$$\n由于在事件期间 $P_{inj}$ 是恒定的，积分简化为：\n$$E(T) = P_{inj} \\cdot T$$\n输送的总能量不能超过可用预算。这给了我们第二个约束：\n$$E(T) \\leq E_{\\text{avail}}$$\n代入 $E(T)$ 的表达式，我们得到：\n$$T \\cdot \\min(K_{d} R, P_{\\text{lim}}) \\leq E_{\\text{avail}}$$\n\n模拟的最长持续时间 $T_{\\max}$ 是能量预算完全耗尽的时刻。我们通过将能量约束设为等式来找到这个时间：\n$$T_{\\max} \\cdot \\min(K_{d} R, P_{\\text{lim}}) = E_{\\text{avail}}$$\n求解 $T_{\\max}$：\n$$T_{\\max} = \\frac{E_{\\text{avail}}}{\\min(K_{d} R, P_{\\text{lim}})}$$\n这个表达式给出了最大可持续时间，同时考虑了功率和能量约束。分母代表实际输送的功率，该功率受控制指令或物理硬件限制的制约，取两者中的较小值。\n\n现在，我们代入给定的数值：\n-   $K_{d} = 163\\,\\text{MW}\\cdot\\text{s}/\\text{Hz}$\n-   $R = 0.42\\,\\text{Hz}/\\text{s}$\n-   $P_{\\text{lim}} = 58\\,\\text{MW}$\n-   $E_{\\text{avail}} = 820\\,\\text{MW}\\cdot\\text{s}$\n\n首先，我们计算指令功率 $K_{d} R$：\n$$K_{d} R = (163\\,\\text{MW}\\cdot\\text{s}/\\text{Hz}) \\cdot (0.42\\,\\text{Hz}/\\text{s}) = 68.46\\,\\text{MW}$$\n接下来，我们通过应用功率限制来确定实际注入功率 $P_{inj}$：\n$$P_{inj} = \\min(68.46\\,\\text{MW}, 58\\,\\text{MW}) = 58\\,\\text{MW}$$\n结果表明，惯性响应已饱和；设备无法提供全部指令功率，并受其最大额定功率 $P_{\\text{lim}}$ 的限制。\n\n最后，我们使用实际注入功率和可用能量计算最大持续时间 $T_{\\max}$：\n$$T_{\\max} = \\frac{E_{\\text{avail}}}{P_{inj}} = \\frac{820\\,\\text{MW}\\cdot\\text{s}}{58\\,\\text{MW}}$$\n$$T_{\\max} \\approx 14.137931... \\,\\text{s}$$\n\n问题要求将最终答案四舍五入到四位有效数字。\n$$T_{\\max} \\approx 14.14\\,\\text{s}$$",
            "answer": "$$\\boxed{14.14}$$"
        }
    ]
}