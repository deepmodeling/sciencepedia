{
    "hands_on_practices": [
        {
            "introduction": "深度学习模型通常不能直接处理原始传感器读数；它们需要经过精心设计的特征。频率变化率（Rate of Change of Frequency, RoCoF）是电网稳定性的关键指标，对于故障诊断至关重要。本练习将引导您从离散时间的相量测量单元（PMU）数据中，使用标准的最小二乘法来估计这一关键特征。这个实践将理论概念（RoCoF）与机器学习应用中必要的数据预处理步骤联系起来，是连接电力系统工程与数据科学的重要一环。",
            "id": "4083510",
            "problem": "一台相量测量单元 (PMU) 监控一个标称频率为 $50\\,\\text{Hz}$ 的电力系统的电网频率。PMU 的采样率为每秒 $50$ 个样本，因此每个样本发生在时间 $t_k = k \\times 0.02\\,\\text{s}$，其中整数 $k \\geq 0$。一个深度学习故障诊断流水线将长短期记忆 (LSTM) 网络与一个基于阈值的预警模块相结合。输入到 LSTM 的一个工程特征是频率变化率 (RoCoF)，对于 PMU 的离散时间测量值，它在每个采样点通过频率对时间的最佳拟合线（普通最小二乘法）在 $M = 5$ 个样本的滑动窗口上的斜率来计算。\n\n一个事件发生，由于发电净脱网导致频率出现线性斜坡变化。PMU 报告了以下在时间 $t_k$ (单位: $\\text{s}$) 的频率样本 $f_k$ (单位: $\\text{Hz}$)，斜坡从 $t = 0.10\\,\\text{s}$ 开始：\n$$\n\\begin{aligned}\n&k: &&0 &&1 &&2 &&3 &&4 &&5 &&6 &&7 &&8 &&9 &&10 &&11 &&12\\\\\n&t_k: &&0 &&0.02 &&0.04 &&0.06 &&0.08 &&0.10 &&0.12 &&0.14 &&0.16 &&0.18 &&0.20 &&0.22 &&0.24\\\\\n&f_k: &&50.000 &&50.000 &&50.000 &&50.000 &&50.000 &&50.000 &&49.988 &&49.976 &&49.964 &&49.952 &&49.940 &&49.928 &&49.916\n\\end{aligned}\n$$\n当估计的 RoCoF（在最近的 $M = 5$ 个样本上计算的斜率）的幅值首次超过阈值 $\\theta = 0.4\\,\\text{Hz}\\cdot \\text{s}^{-1}$ 时，基于阈值的预警模块触发。\n\n从第一性原理出发，使用 RoCoF 作为频率时间导数的定义，以及其在指定窗口上通过最小二乘斜率的离散时间估计，来确定：\n- 在满足阈值条件的最早采样点处的 RoCoF 估计值 (单位: $\\text{Hz}\\cdot \\text{s}^{-1}$)。\n- 最早检测时间 (单位: $\\text{s}$)，定义为该采样点的时间戳 $t_k$。\n\n将所求的两个量四舍五入到四位有效数字。以秒为单位表示检测时间。",
            "solution": "本问题要求根据离散的频率测量序列计算频率变化率 (RoCoF)。RoCoF 通过在 $M=5$ 个样本的滑动窗口上使用普通最小二乘 (OLS) 回归得到的最佳拟合线的斜率来估计。我们必须找到第一个时刻 $t_k$，在该时刻估计的 RoCoF 的幅值超过阈值 $\\theta = 0.4\\,\\text{Hz}\\cdot \\text{s}^{-1}$。\n\n首先，我们来建立 OLS 斜率的公式。对于一组 $M$ 个数据点 $(x_i, y_i)$，最佳拟合线 $y = a + bx$ 的斜率 $b$ 由下式给出：\n$$\nb = \\frac{M \\sum_{i=1}^{M} x_i y_i - (\\sum_{i=1}^{M} x_i) (\\sum_{i=1}^{M} y_i)}{M \\sum_{i=1}^{M} x_i^2 - (\\sum_{i=1}^{M} x_i)^2}\n$$\n在我们的案例中，数据点是时间和频率，即 $(t_j, f_j)$。时间样本是等间隔的，采样周期为 $\\Delta t = 0.02\\,\\text{s}$。这种均匀性使得斜率公式可以被显著简化。\n\n让我们考虑一个在索引 $k$ 处结束的、包含 $M=5$ 个样本的窗口。此窗口中的样本索引从 $k-4$ 到 $k$。为了简化 OLS 公式，我们可以为该窗口定义一个局部的、中心化的时间变量。设窗口内的索引为 $j \\in \\{-2, -1, 0, 1, 2\\}$，对应于样本索引 $\\{k-4, k-3, k-2, k-1, k\\}$。相对于窗口中心 ($t_{k-2}$) 的时间坐标为 $\\tau_j = j \\Delta t$。使用这个中心化的时间变量，$\\sum \\tau_j = 0$，斜率公式简化为：\n$$\n\\text{RoCoF}_k = b = \\frac{\\sum_{j=-2}^{2} \\tau_j f_{k-2+j}}{\\sum_{j=-2}^{2} \\tau_j^2}\n$$\n对于固定的窗口大小和采样率，分母是一个常数：\n$$\n\\sum_{j=-2}^{2} \\tau_j^2 = \\sum_{j=-2}^{2} (j \\Delta t)^2 = (\\Delta t)^2 \\sum_{j=-2}^{2} j^2 = (\\Delta t)^2 ((-2)^2 + (-1)^2 + 0^2 + 1^2 + 2^2) = 10(\\Delta t)^2\n$$\n代入 $\\Delta t = 0.02\\,\\text{s}$，分母为 $10 \\times (0.02)^2 = 10 \\times 0.0004 = 0.004\\,\\text{s}^2$。\n\n分子为：\n$$\n\\sum_{j=-2}^{2} \\tau_j f_{k-2+j} = \\Delta t \\sum_{j=-2}^{2} j f_{k-2+j} = \\Delta t (-2f_{k-4} - 1f_{k-3} + 0f_{k-2} + 1f_{k-1} + 2f_k)\n$$\n结合分子和分母，样本 $k$ 处的 RoCoF 为：\n$$\n\\text{RoCoF}_k = \\frac{\\Delta t (-2f_{k-4} - f_{k-3} + f_{k-1} + 2f_k)}{10(\\Delta t)^2} = \\frac{-2f_{k-4} - f_{k-3} + f_{k-1} + 2f_k}{10 \\Delta t}\n$$\n因为 $10 \\Delta t = 10 \\times 0.02 = 0.2\\,\\text{s}$，公式变为：\n$$\n\\text{RoCoF}_k = \\frac{1}{0.2} (-2f_{k-4} - f_{k-3} + f_{k-1} + 2f_k) = 5(-2f_{k-4} - f_{k-3} + f_{k-1} + 2f_k)\n$$\n我们现在可以迭代地应用此公式，从第一个可能的窗口（在 $k=4$ 处结束）开始，直到满足条件 $|\\text{RoCoF}_k| > 0.4\\,\\text{Hz}\\cdot \\text{s}^{-1}$。频率数据 $f_k$ 已给出。\n\n对于 $k  6$，任何 5 样本窗口中的所有频率均为 $50.000\\,\\text{Hz}$。常数函数的斜率为零。\n对于 $k=4$，窗口为 $\\{f_0, f_1, f_2, f_3, f_4\\}$，所有值均为 $50.000\\,\\text{Hz}$。因此，$\\text{RoCoF}_4 = 0$。\n对于 $k=5$，窗口为 $\\{f_1, f_2, f_3, f_4, f_5\\}$，所有值均为 $50.000\\,\\text{Hz}$。因此，$\\text{RoCoF}_5 = 0$。\n幅值 $|\\text{RoCoF}_k|$ 为 $0$，不大于 $0.4\\,\\text{Hz}\\cdot \\text{s}^{-1}$。\n\n对于 $k=6$：窗口样本为 $\\{f_2, f_3, f_4, f_5, f_6\\}$。\n频率：$\\{50.000, 50.000, 50.000, 50.000, 49.988\\}$。\n$$\n\\text{RoCoF}_6 = 5 \\times (-2f_2 - f_3 + f_5 + 2f_6) = 5 \\times [-2(50.000) - 1(50.000) + 1(50.000) + 2(49.988)]\n$$\n$$\n\\text{RoCoF}_6 = 5 \\times [-100.000 + 2(49.988)] = 5 \\times [-100.000 + 99.976] = 5 \\times (-0.024) = -0.12\\,\\text{Hz}\\cdot \\text{s}^{-1}\n$$\n$|\\text{RoCoF}_6| = 0.12\\,\\text{Hz}\\cdot \\text{s}^{-1}$，不大于 $0.4\\,\\text{Hz}\\cdot \\text{s}^{-1}$。\n\n对于 $k=7$：窗口样本为 $\\{f_3, f_4, f_5, f_6, f_7\\}$。\n频率：$\\{50.000, 50.000, 50.000, 49.988, 49.976\\}$。\n$$\n\\text{RoCoF}_7 = 5 \\times (-2f_3 - f_4 + f_6 + 2f_7) = 5 \\times [-2(50.000) - 1(50.000) + 1(49.988) + 2(49.976)]\n$$\n$$\n\\text{RoCoF}_7 = 5 \\times [-150.000 + 49.988 + 99.952] = 5 \\times [-150.000 + 149.940] = 5 \\times (-0.060) = -0.30\\,\\text{Hz}\\cdot \\text{s}^{-1}\n$$\n$|\\text{RoCoF}_7| = 0.30\\,\\text{Hz}\\cdot \\text{s}^{-1}$，不大于 $0.4\\,\\text{Hz}\\cdot \\text{s}^{-1}$。\n\n对于 $k=8$：窗口样本为 $\\{f_4, f_5, f_6, f_7, f_8\\}$。\n频率：$\\{50.000, 50.000, 49.988, 49.976, 49.964\\}$。\n$$\n\\text{RoCoF}_8 = 5 \\times (-2f_4 - f_5 + f_7 + 2f_8) = 5 \\times [-2(50.000) - 1(50.000) + 1(49.976) + 2(49.964)]\n$$\n$$\n\\text{RoCoF}_8 = 5 \\times [-150.000 + 49.976 + 99.928] = 5 \\times [-150.000 + 149.904] = 5 \\times (-0.096) = -0.48\\,\\text{Hz}\\cdot \\text{s}^{-1}\n$$\n$|\\text{RoCoF}_8| = 0.48\\,\\text{Hz}\\cdot \\text{s}^{-1}$。该值大于阈值 $0.4\\,\\text{Hz}\\cdot \\text{s}^{-1}$。\n这是满足阈值条件的第一个样本索引。\n\n所求的量为：\n1. 此样本处的 RoCoF 估计值：$\\text{RoCoF}_8 = -0.48\\,\\text{Hz}\\cdot \\text{s}^{-1}$。\n2. 最早检测时间，即此样本的时间戳：$t_8$。\n时间由 $t_k = k \\times 0.02\\,\\text{s}$ 给出。\n$t_8 = 8 \\times 0.02\\,\\text{s} = 0.16\\,\\text{s}$。\n\n本问题要求将两个量都四舍五入到四位有效数字。\n- RoCoF 估计值：$-0.48\\,\\text{Hz}\\cdot \\text{s}^{-1}$ 四舍五入到四位有效数字为 $-0.4800\\,\\text{Hz}\\cdot \\text{s}^{-1}$。\n- 检测时间：$0.16\\,\\text{s}$ 四舍五入到四位有效数字为 $0.1600\\,\\text{s}$。\n因此，最终答案是 $-0.4800$ 和 $0.1600$。",
            "answer": "$$\\boxed{\\begin{pmatrix} -0.4800  0.1600 \\end{pmatrix}}$$"
        },
        {
            "introduction": "在提取了如频率变化率（RoCoF）等时序特征后，下一步是将这些序列数据输入到像长短期记忆（LSTM）网络这样的时间序列模型中。一个模型的复杂度和容量由其可训练参数的数量决定。本练习将带您从第一性原理出发，推导并计算一个标准LSTM单元的参数总数。掌握这一计算对于理解模型架构、评估计算资源需求以及建立模型规模与性能之间权衡的直觉至关重要。",
            "id": "4083509",
            "problem": "一个输电系统运营商正在部署一个深度学习流水线，用于利用相量测量单元（PMU）数据流进行实时电网监测和故障诊断。其核心时间编码器是一个单层长短期记忆（LSTM）网络，其中长短期记忆（LSTM）是指一种具有门控状态更新的特殊循环神经网络。PMU在每个时间步提供同步的、带时间戳的特征向量。根据LSTM循环的基础定义，输入门、遗忘门、输出门和候选门中的每一个都计算当前输入和前一个隐藏状态的仿射映射，然后进行非线性变换，而单元状态和隐藏状态通过逐元素操作进行更新。假设以下系统和建模前提：\n- 每个时间步的输入是一个维度为 $d=16$ 的特征向量。\n- LSTM的隐藏状态维度为 $h=64$。\n- PMU序列长度为 $T=200$ 个时间步。\n- 每个门使用一个单独的输入到隐藏层的权重矩阵、一个单独的隐藏层到隐藏层的权重矩阵和一个单独的偏置向量；没有窥视孔连接，没有投影层，也没有层归一化。\n- 与时不变循环模型一致，所有时间步都重复使用相同的参数。\n\n从标准的LSTM门控和状态更新定义以及上述假设出发，推导出这个单层LSTM核心中可训练参数的总数（计算所有门和所有偏置），然后计算其数值。将最终答案表示为整数参数计数。无需四舍五入，答案不带任何物理单位。在计数中排除任何输入嵌入、输出（解码器）层或额外的头部。",
            "solution": "目标是根据给定的输入维度、隐藏状态维度和架构约束，计算单层LSTM网络核心中可训练参数的总数。神经网络层中的参数数量是其所有权重和偏置的总和。由于循环神经网络的时不变特性，参数在所有时间步上共享，这意味着序列长度 $T$ 不影响总参数数量。\n\n一个标准的LSTM单元包含四个主要组件，用于计算当前输入向量 $x_t \\in \\mathbb{R}^d$ 和前一个隐藏状态向量 $h_{t-1} \\in \\mathbb{R}^h$ 的变换。这些组件是输入门（$i_t$）、遗忘门（$f_t$）、输出门（$o_t$）和候选单元状态块（$g_t$）。对于这些组件中的每一个，都会计算一个仿射变换。我们用 $W$ 表示输入 $x_t$ 的权重矩阵，用 $U$ 表示前一个隐藏状态 $h_{t-1}$ 的权重矩阵。每个门还有一个偏置向量 $b$。\n\n这四个组件的方程如下：\n1.  **输入门**：$i_t = \\sigma(W_i x_t + U_i h_{t-1} + b_i)$\n2.  **遗忘门**：$f_t = \\sigma(W_f x_t + U_f h_{t-1} + b_f)$\n3.  **候选单元状态**：$g_t = \\tanh(W_g x_t + U_g h_{t-1} + b_g)$\n4.  **输出门**：$o_t = \\sigma(W_o x_t + U_o h_{t-1} + b_o)$\n\n在这些方程中，$\\sigma$ 表示sigmoid激活函数，$\\tanh$ 表示双曲正切激活函数。然后，状态更新由以下公式给出：\n单元状态更新：$c_t = f_t \\odot c_{t-1} + i_t \\odot g_t$\n隐藏状态更新：$h_t = o_t \\odot \\tanh(c_t)$\n其中 $\\odot$ 表示逐元素乘法。\n\n可训练的参数是权重矩阵 $W_i, W_f, W_g, W_o$，循环权重矩阵 $U_i, U_f, U_g, U_o$ 和偏置向量 $b_i, b_f, b_g, b_o$。\n\n我们根据输入维度 $d$ 和隐藏维度 $h$ 来确定这些参数张量的维度。\n- 输入向量 $x_t$ 的维度是 $d$。\n- 隐藏状态向量 $h_{t-1}$ 的维度是 $h$。\n- 每个门仿射变换的输出（例如，$W_i x_t + U_i h_{t-1} + b_i$）必须具有维度 $h$，以便与维度为 $h$ 的其他状态相结合。\n\n对于单个门（例如，输入门）：\n- 项 $W_i x_t$ 必须产生一个维度为 $h$ 的向量。由于 $x_t$ 的维度是 $d$，矩阵 $W_i$ 的维度必须是 $h \\times d$。因此，$W_i$ 中的参数数量为 $h \\cdot d$。\n- 项 $U_i h_{t-1}$ 必须产生一个维度为 $h$ 的向量。由于 $h_{t-1}$ 的维度是 $h$，矩阵 $U_i$ 的维度必须是 $h \\times h$。$U_i$ 中的参数数量为 $h^2$。\n- 偏置向量 $b_i$ 被加到结果上，因此其维度必须是 $h$。$b_i$ 中的参数数量为 $h$。\n\n因此，单个门组件（如输入门）的总参数数量是其输入权重矩阵、循环权重矩阵和偏置向量参数的总和：\n$$N_{\\text{gate}} = (h \\cdot d) + (h \\cdot h) + h = hd + h^2 + h$$\n\n由于有四个这样的组件（输入、遗忘、候选和输出），并且每个组件都有相同的参数结构，因此LSTM层中的总参数数量 $N_{\\text{total}}$ 是单个门参数数量的四倍：\n$$N_{\\text{total}} = 4 \\times N_{\\text{gate}}$$\n$$N_{\\text{total}} = 4 \\times (hd + h^2 + h)$$\n\n现在，我们代入问题陈述中提供的值：\n- 输入特征维度：$d = 16$\n- 隐藏状态维度：$h = 64$\n\n将这些值代入推导出的公式中：\n$$N_{\\text{total}} = 4 \\times ((64 \\cdot 16) + 64^2 + 64)$$\n\n首先，我们计算括号内的各项：\n- $64 \\cdot 16 = 1024$\n- $64^2 = 4096$\n- 偏置项为 $64$。\n\n将这些项相加：\n$$1024 + 4096 + 64 = 5120 + 64 = 5184$$\n\n最后，我们乘以 $4$：\n$$N_{\\text{total}} = 4 \\times 5184$$\n$$N_{\\text{total}} = 20736$$\n\n单层LSTM核心中可训练参数的总数为 $20736$。这个数字计算了所有四个门的权重矩阵和偏置向量，同时正确地考虑了在时间维度 $T$ 上的标准参数共享。",
            "answer": "$$\\boxed{20736}$$"
        },
        {
            "introduction": "在模型训练完成并作出预测后，我们必须严格评估其诊断性能。在像电网故障检测这样的应用中，事件的稀有性导致了严重的类别不平衡，这使得准确率等标准指标失去参考价值。本练习将探讨两种在不平衡数据集下更为稳健的评估指标：F1分数和马修斯相关系数（MCC），并要求您从混淆矩阵的原始计数开始计算它们。通过这个实践，您将深刻理解在真实世界的不平衡场景中，选择能够真实反映模型效能的评估指标是何等重要。",
            "id": "4083465",
            "problem": "一个公用事业规模的配电网由时间同步的相量测量单元 (PMU) 监控，这些单元产生高速率的测量数据。一个卷积神经网络 (CNN) 经过训练，用于从带标签的 PMU 时间窗口中检测瞬态线路故障。在为期一周的部署中，CNN 对每个时间窗口产生一个二元决策 $X \\in \\{0,1\\}$，真实标签为 $Y \\in \\{0,1\\}$，其中 $X=1$ 和 $Y=1$ 表示故障窗口。\n\n评估集包含 $N$ 个独立的窗口，具有故障监控中典型的严重类别不平衡：混淆矩阵的计数如下：\n- 真阳性 $TP = 600$，\n- 假阳性 $FP = 400$，\n- 假阴性 $FN = 1{,}400$，\n- 真阴性 $TN = 199{,}600$，\n所以窗口总数为 $N = TP + FP + FN + TN = 202{,}000$，正类的基准率为 $202{,}000$ 中的 $2{,}000$。\n\n仅从第一性原理和适用于分类与相关的核心定义（即，二元随机变量的 Pearson 积矩相关系数定义，以及精确率、召回率和调和平均数的定义）出发，推导出该二元混淆矩阵的马修斯相关系数 (MCC) 和 F1 分数。然后计算给定计数的比率 $\\text{MCC}/\\text{F1}$。\n\n将最终比率表示为一个无单位的纯数，并将您的答案四舍五入至四位有效数字。",
            "solution": "**1. F1 分数的推导**\n\nF1 分数定义为精确率 ($P$) 和召回率 ($R$) 的调和平均数。\n首先，我们根据混淆矩阵元素定义精确率和召回率：\n-   精确率 ($P$)：预测为正的样本中实际为正的比例。\n    $$P = \\frac{TP}{TP + FP}$$\n-   召回率 ($R$)：实际为正的样本中被正确识别的比例。也称为灵敏度。\n    $$R = \\frac{TP}{TP + FN}$$\n两个数 $a$ 和 $b$ 的调和平均数由 $H = \\frac{2}{\\frac{1}{a} + \\frac{1}{b}} = \\frac{2ab}{a+b}$ 给出。\n用 $P$ 和 $R$ 替换 $a$ 和 $b$ 得到 F1 分数：\n$$F1 = \\frac{2PR}{P+R} = \\frac{2 \\left(\\frac{TP}{TP+FP}\\right) \\left(\\frac{TP}{TP+FN}\\right)}{\\frac{TP}{TP+FP} + \\frac{TP}{TP+FN}}$$\n为简化，我们在分子和分母上乘以 $(TP+FP)(TP+FN)$：\n$$F1 = \\frac{2(TP)^2}{TP(TP+FN) + TP(TP+FP)} = \\frac{2(TP)^2}{TP^2 + TP \\cdot FN + TP^2 + TP \\cdot FP}$$\n从分母中提出 $TP$（假设 $TP \\neq 0$）：\n$$F1 = \\frac{2TP}{TP+FN + TP+FP} = \\frac{2TP}{2TP + FP + FN}$$\n这是 F1 分数的标准公式。\n\n**2. 马修斯相关系数 (MCC) 的推导**\n\n二元分类的 MCC 等同于二元变量 $X$（预测）和 $Y$（真实值）的 Pearson 积矩相关系数 $\\rho_{X,Y}$，其中 $X, Y \\in \\{0, 1\\}$。\n$\\rho_{X,Y}$ 的公式为：\n$$\\rho_{X,Y} = \\frac{\\text{cov}(X, Y)}{\\sigma_X \\sigma_Y} = \\frac{E[XY] - E[X]E[Y]}{\\sqrt{\\text{Var}(X)} \\sqrt{\\text{Var}(Y)}}$$\n期望值由混淆矩阵计数估计，其中 $N = TP+FP+FN+TN$：\n-   $E[X] = P(X=1) = \\frac{TP+FP}{N}$\n-   $E[Y] = P(Y=1) = \\frac{TP+FN}{N}$\n-   $XY=1$ 仅当 $X=1$ 且 $Y=1$ 时成立，所以 $E[XY] = P(X=1, Y=1) = \\frac{TP}{N}$\n\n分子，即协方差，为：\n$$\\text{cov}(X, Y) = \\frac{TP}{N} - \\left(\\frac{TP+FP}{N}\\right)\\left(\\frac{TP+FN}{N}\\right) = \\frac{N \\cdot TP - (TP+FP)(TP+FN)}{N^2}$$\n展开各项并代入 $N = TP+FP+FN+TN$：\n$$N \\cdot TP - (TP^2 + TP \\cdot FN + FP \\cdot TP + FP \\cdot FN)$$\n$$= (TP+FP+FN+TN)TP - (TP^2 + TP \\cdot FN + FP \\cdot TP + FP \\cdot FN)$$\n$$= (TP^2+FP \\cdot TP+FN \\cdot TP+TN \\cdot TP) - (TP^2 + TP \\cdot FN + FP \\cdot TP + FP \\cdot FN)$$\n$$= TN \\cdot TP - FP \\cdot FN$$\n因此，协方差为 $\\frac{TP \\cdot TN - FP \\cdot FN}{N^2}$。\n\n分母涉及方差。对于二元变量 $A \\in \\{0, 1\\}$，$\\text{Var}(A) = P(A=1)P(A=0)$。\n-   $\\text{Var}(X) = P(X=1)P(X=0) = \\left(\\frac{TP+FP}{N}\\right)\\left(\\frac{TN+FN}{N}\\right)$\n-   $\\text{Var}(Y) = P(Y=1)P(Y=0) = \\left(\\frac{TP+FN}{N}\\right)\\left(\\frac{TN+FP}{N}\\right)$\n标准差的乘积为：\n$$\\sigma_X \\sigma_Y = \\sqrt{\\text{Var}(X)\\text{Var}(Y)} = \\frac{\\sqrt{(TP+FP)(TP+FN)(TN+FP)(TN+FN)}}{N^2}$$\n\n结合分子和分母得到 MCC：\n$$\\text{MCC} = \\frac{\\frac{TP \\cdot TN - FP \\cdot FN}{N^2}}{\\frac{\\sqrt{(TP+FP)(TP+FN)(TN+FP)(TN+FN)}}{N^2}}$$\n$$\\text{MCC} = \\frac{TP \\cdot TN - FP \\cdot FN}{\\sqrt{(TP+FP)(TP+FN)(TN+FP)(TN+FN)}}$$\n\n**3. 数值计算**\n\n给定值为 $TP = 600$，$FP = 400$，$FN = 1{,}400$，以及 $TN = 199{,}600$。\n\n-   **F1 分数计算**：\n    $$F1 = \\frac{2 \\times 600}{2 \\times 600 + 400 + 1{,}400} = \\frac{1{,}200}{1{,}200 + 400 + 1{,}400} = \\frac{1{,}200}{3{,}000} = 0.4$$\n\n-   **MCC 计算**：\n    -   分子： $TP \\cdot TN - FP \\cdot FN = (600)(199{,}600) - (400)(1{,}400) = 119{,}760{,}000 - 560{,}000 = 119{,}200{,}000$。\n    -   分母项：\n        -   $TP+FP = 600 + 400 = 1{,}000$\n        -   $TP+FN = 600 + 1{,}400 = 2{,}000$\n        -   $TN+FP = 199{,}600 + 400 = 200{,}000$\n        -   $TN+FN = 199{,}600 + 1{,}400 = 201{,}000$\n    -   分母： $\\sqrt{(1{,}000)(2{,}000)(200{,}000)(201{,}000)} = \\sqrt{8.04 \\times 10^{16}}$\n    -   $MCC = \\frac{119{,}200{,}000}{\\sqrt{8.04 \\times 10^{16}}} = \\frac{1.192 \\times 10^8}{2.835489... \\times 10^8} \\approx 0.420380...$\n\n**4. 比率计算**\n\n最后，我们计算比率 $\\text{MCC}/\\text{F1}$：\n$$\\frac{\\text{MCC}}{\\text{F1}} = \\frac{0.420380...}{0.4} = 1.05095...$$\n四舍五入到四位有效数字，结果是 $1.051$。",
            "answer": "$$\\boxed{1.051}$$"
        }
    ]
}