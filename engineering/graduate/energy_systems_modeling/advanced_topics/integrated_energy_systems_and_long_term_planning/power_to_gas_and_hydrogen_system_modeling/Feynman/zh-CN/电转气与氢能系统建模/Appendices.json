{
    "hands_on_practices": [
        {
            "introduction": "要对“电转气”系统进行建模，我们首先需要一个关于其核心部件——电解槽的稳健模型。本练习  深入探讨了电化学原理，将电池电压分解为其基本的物理贡献项。掌握这一点有助于预测电解槽在不同操作条件下的效率和性能，是进行任何系统级模拟的基础。",
            "id": "4113184",
            "problem": "您的任务是为质子交换膜（PEM）水电解槽构建并评估一个物理上一致的电池电压模型。该模型必须结合可逆电压、活化过电位、考虑温相关膜电导率的欧姆过电位以及浓差过电位。您还必须通过计算电压对电流密度的灵敏度，来量化电池电压相对于电流密度的局部标度关系。所有推导的表达式必须源自第一性原理或经过充分检验的基础公式。\n\n考虑写成生成方向的总的水电解反应为 $\\mathrm{H_2} + \\frac{1}{2}\\mathrm{O_2} \\rightarrow \\mathrm{H_2O}$。为了对电解槽（逆过程）进行建模，取可逆电压的绝对值。将电池电压 $U$ 定义为\n$$\nU(i,T) = U_{\\mathrm{rev}}(T,p_{\\mathrm{H}_2},p_{\\mathrm{O}_2}) + \\eta_{\\mathrm{act}}(i,T) + \\eta_{\\mathrm{ohm}}(i,T) + \\eta_{\\mathrm{conc}}(i,T),\n$$\n其中 $i$ 是电流密度，单位为 $\\mathrm{A/m^2}$，$T$ 是温度，单位为 $\\mathrm{K}$。\n\n使用以下基本依据和建模假设：\n\n- 吉布斯自由能和可逆电压：\n  - 设液态水的标准生成焓变为 $\\Delta H_f^0$，标准生成熵变为 $\\Delta S_f^0$。通过分解吉布斯自由能来近似电解的可逆电压大小的温度依赖性，\n    $$\n    U_{\\mathrm{rev},0}(T) = \\frac{-\\Delta H_f^0 + T\\,\\Delta S_f^0}{nF},\n    $$\n    其中 $n$ 是每摩尔氢气转移的电子数 ($n=2$)，$F$ 是法拉第常数。\n  - 使用标准压力 $p_0$，通过 Nernst 方程引入压力校正，\n    $$ \n    U_{\\mathrm{rev}}(T,p_{\\mathrm{H}_2},p_{\\mathrm{O}_2}) = U_{\\mathrm{rev},0}(T) + \\frac{RT}{2F}\\ln\\left(\\frac{p_{\\mathrm{H}_2}}{p_0}\\left(\\frac{p_{\\mathrm{O}_2}}{p_0}\\right)^{1/2}\\right),\n    $$\n    其中 $R$ 是普适气体常数，$p_{\\mathrm{H}_2}$、$p_{\\mathrm{O}_2}$ 是产物气体分压。\n\n- 活化过电位（源自 Butler-Volmer 关系在阳极分支的 Tafel 近似）：\n  $$\n  \\eta_{\\mathrm{act}}(i,T) = \\frac{RT}{\\alpha F}\\ln\\left(\\frac{i}{i_0}\\right),\n  $$\n  其中 $i_0$ 是有效交换电流密度，$\\alpha$ 是集总表观电荷转移系数。假设在 $i > i_0$ 的区域内运行，以使对数有良好定义并与阳极分支的运行一致。\n\n- 欧姆过电位（聚合物电解质膜中质子电导率的欧姆定律和 Arrhenius 温度依赖性）：\n  $$\n  \\eta_{\\mathrm{ohm}}(i,T) = i\\,\\left(\\frac{t_{\\mathrm{mem}}}{\\sigma(T)} + R_s\\right),\n  $$\n  其中 $t_{\\mathrm{mem}}$ 是膜厚度，$R_s$ 是面积比残余电阻，膜电导率 $\\sigma(T)$ 遵循以 $T_{\\mathrm{ref}}$ 为参考的 Arrhenius 关系，\n  $$\n  \\sigma(T) = \\sigma_{\\mathrm{ref}}\\,\\exp\\left(\\frac{E_a}{R}\\left(\\frac{1}{T_{\\mathrm{ref}}} - \\frac{1}{T}\\right)\\right),\n  $$\n  其中 $E_a$ 是质子传输的表观活化能。\n\n- 浓差过电位（以极限电流密度 $i_L$ 表示的传质限制）：\n  $$\n  \\eta_{\\mathrm{conc}}(i,T) = \\frac{RT}{nF}\\ln\\left(\\frac{1}{1 - \\frac{i}{i_L}}\\right),\n  $$\n  在 $0  i  i_L$ 时有效。\n\n通过计算给定工作点下的灵敏度 $dU/di$ 来量化 $U$ 随电流密度的局部标度关系。使用上述模型，推导出\n$$\n\\frac{dU}{di} = \\frac{d\\eta_{\\mathrm{act}}}{di} + \\frac{d\\eta_{\\mathrm{ohm}}}{di} + \\frac{d\\eta_{\\mathrm{conc}}}{di},\n$$\n其中\n$$\n\\frac{d\\eta_{\\mathrm{act}}}{di} = \\frac{RT}{\\alpha F}\\frac{1}{i}, \\quad\n\\frac{d\\eta_{\\mathrm{ohm}}}{di} = \\frac{t_{\\mathrm{mem}}}{\\sigma(T)} + R_s, \\quad\n\\frac{d\\eta_{\\mathrm{conc}}}{di} = \\frac{RT}{nF}\\,\\frac{1}{i_L\\left(1 - \\frac{i}{i_L}\\right)}.\n$$\n\n使用的常数和单位：\n- 使用 $R = 8.314462618\\,\\mathrm{J/(mol\\cdot K)}$，$F = 96485.33212\\,\\mathrm{C/mol}$，$n = 2$，$p_0 = 10^5\\,\\mathrm{Pa}$。\n- 使用 $\\Delta H_f^0 = -285.83\\times 10^3\\,\\mathrm{J/mol}$ 和 $\\Delta S_f^0 = -163.2\\,\\mathrm{J/(mol\\cdot K)}$ 作为液态水的生成数据。\n- 所有温度单位必须为 $\\mathrm{K}$，电流密度单位为 $\\mathrm{A/m^2}$，压力单位为 $\\mathrm{Pa}$，厚度单位为 $\\mathrm{m}$，电导率单位为 $\\mathrm{S/m}$，电阻单位为 $\\Omega\\cdot\\mathrm{m^2}$，活化能单位为 $\\mathrm{J/mol}$。\n- 将每个最终电池电压 $U$ 以 $\\mathrm{V}$ 为单位表示，每个灵敏度 $dU/di$ 以 $\\mathrm{V}\\cdot\\mathrm{m^2/A}$ 为单位表示，两者都四舍五入到六位小数。\n\n测试套件：\n提供四个测试用例以评估模型的不同方面。对每个案例，计算数值对 $\\left[U,\\,\\frac{dU}{di}\\right]$。\n\n- 案例1（基准线，中等电流，加压产物）：\n  - $T = 333.15\\,\\mathrm{K}$，$i = 10^4\\,\\mathrm{A/m^2}$，$t_{\\mathrm{mem}} = 180\\times 10^{-6}\\,\\mathrm{m}$，\n  - $\\sigma_{\\mathrm{ref}} = 8\\,\\mathrm{S/m}$，$T_{\\mathrm{ref}} = 298.15\\,\\mathrm{K}$，$E_a = 1.2\\times 10^4\\,\\mathrm{J/mol}$，\n  - $R_s = 5\\times 10^{-5}\\,\\Omega\\cdot\\mathrm{m^2}$，$i_L = 2.0\\times 10^4\\,\\mathrm{A/m^2}$，\n  - $i_0 = 10^{-2}\\,\\mathrm{A/m^2}$，$\\alpha = 0.5$，\n  - $p_{\\mathrm{H}_2} = 3.0\\times 10^6\\,\\mathrm{Pa}$，$p_{\\mathrm{O}_2} = 3.0\\times 10^6\\,\\mathrm{Pa}$。\n\n- 案例2（较高温度降低欧姆损耗）：\n  - $T = 353.15\\,\\mathrm{K}$，$i = 10^4\\,\\mathrm{A/m^2}$，$t_{\\mathrm{mem}} = 180\\times 10^{-6}\\,\\mathrm{m}$，\n  - $\\sigma_{\\mathrm{ref}} = 8\\,\\mathrm{S/m}$，$T_{\\mathrm{ref}} = 298.15\\,\\mathrm{K}$，$E_a = 1.2\\times 10^4\\,\\mathrm{J/mol}$，\n  - $R_s = 5\\times 10^{-5}\\,\\Omega\\cdot\\mathrm{m^2}$，$i_L = 2.0\\times 10^4\\,\\mathrm{A/m^2}$，\n  - $i_0 = 10^{-2}\\,\\mathrm{A/m^2}$，$\\alpha = 0.5$，\n  - $p_{\\mathrm{H}_2} = 3.0\\times 10^6\\,\\mathrm{Pa}$，$p_{\\mathrm{O}_2} = 3.0\\times 10^6\\,\\mathrm{Pa}$。\n\n- 案例3（更薄的膜降低面积比电阻）：\n  - $T = 333.15\\,\\mathrm{K}$，$i = 10^4\\,\\mathrm{A/m^2}$，$t_{\\mathrm{mem}} = 100\\times 10^{-6}\\,\\mathrm{m}$，\n  - $\\sigma_{\\mathrm{ref}} = 8\\,\\mathrm{S/m}$，$T_{\\mathrm{ref}} = 298.15\\,\\mathrm{K}$，$E_a = 1.2\\times 10^4\\,\\mathrm{J/mol}$，\n  - $R_s = 5\\times 10^{-5}\\,\\Omega\\cdot\\mathrm{m^2}$，$i_L = 2.0\\times 10^4\\,\\mathrm{A/m^2}$，\n  - $i_0 = 10^{-2}\\,\\mathrm{A/m^2}$，$\\alpha = 0.5$，\n  - $p_{\\mathrm{H}_2} = 3.0\\times 10^6\\,\\mathrm{Pa}$，$p_{\\mathrm{O}_2} = 3.0\\times 10^6\\,\\mathrm{Pa}$。\n\n- 案例4（接近传质限制）：\n  - $T = 333.15\\,\\mathrm{K}$，$i_L = 2.0\\times 10^4\\,\\mathrm{A/m^2}$，$i = 0.95\\,i_L$，\n  - $t_{\\mathrm{mem}} = 180\\times 10^{-6}\\,\\mathrm{m}$，\n  - $\\sigma_{\\mathrm{ref}} = 8\\,\\mathrm{S/m}$，$T_{\\mathrm{ref}} = 298.15\\,\\mathrm{K}$，$E_a = 1.2\\times 10^4\\,\\mathrm{J/mol}$，\n  - $R_s = 5\\times 10^{-5}\\,\\Omega\\cdot\\mathrm{m^2}$，\n  - $i_0 = 10^{-2}\\,\\mathrm{A/m^2}$，$\\alpha = 0.5$，\n  - $p_{\\mathrm{H}_2} = 3.0\\times 10^6\\,\\mathrm{Pa}$，$p_{\\mathrm{O}_2} = 3.0\\times 10^6\\,\\mathrm{Pa}$。\n\n程序要求：\n- 实现上述模型，并为每个测试用例计算数值对 $\\left[U,\\,\\frac{dU}{di}\\right]$。\n- 将 $U$ 和 $\\frac{dU}{di}$ 都四舍五入到六位小数。\n- 您的程序应生成单行输出，包含一个由方括号括起来的逗号分隔列表形式的结果，其中每个测试用例的结果本身就是一个 $\\left[U,\\,dU/di\\right]$ 形式的列表。例如，包含两个案例的输出格式应为 $\\big[\\,[U_1,dU/di|_1],[U_2,dU/di|_2]\\,\\big]$。",
            "solution": "该问题已经过分析并被证实是有效的。它在科学上基于电化学和传输现象的既定原理，提法恰当，提供了所有必要信息，且其表述是客观的。所用参数和模型是分析 PEM 水电解槽的标准模型。\n\n任务是计算在指定操作条件下，质子交换膜（PEM）水电解槽的电池电压 $U$ 及其对电流密度的灵敏度 $\\frac{dU}{di}$。该模型由四个不同的电压贡献组成：可逆电池电压和三个过电位项（活化、欧姆和浓差）。\n\n总电池电压 $U$ 作为电流密度 $i$ 和温度 $T$ 的函数，由以下总和给出：\n$$\nU(i,T) = U_{\\mathrm{rev}}(T,p_{\\mathrm{H}_2},p_{\\mathrm{O}_2}) + \\eta_{\\mathrm{act}}(i,T) + \\eta_{\\mathrm{ohm}}(i,T) + \\eta_{\\mathrm{conc}}(i,T)\n$$\n每个分量都基于基础或公认的经验关系进行建模。\n\n1.  **可逆电池电压 ($U_{\\mathrm{rev}}$)**\n    可逆电压是电解所需的理论最低电压，由水分解反应（$\\mathrm{H_2O} \\rightarrow \\mathrm{H_2} + \\frac{1}{2}\\mathrm{O_2}$）的吉布斯自由能变决定。它分两部分计算。首先，确定与温度相关的标准电位 $U_{\\mathrm{rev},0}(T)$。问题使用分解反应的吉布斯自由能变来定义此值，该值从液态水的标准生成焓（$\\Delta H_f^0$）和熵（$\\Delta S_f^0$）近似得出。\n    $$\n    U_{\\mathrm{rev},0}(T) = \\frac{-\\Delta G_f(T)}{nF} = \\frac{-(\\Delta H_f^0 - T\\Delta S_f^0)}{nF} = \\frac{-\\Delta H_f^0 + T\\Delta S_f^0}{nF}\n    $$\n    此处，$n=2$ 是转移的电子数，$F$ 是法拉第常数（$96485.33212\\,\\mathrm{C/mol}$），液态水生成的\n    热力学数据为 $\\Delta H_f^0 = -285.83\\times 10^3\\,\\mathrm{J/mol}$ 和 $\\Delta S_f^0 = -163.2\\,\\mathrm{J/(mol\\cdot K)}$。\n\n    其次，使用 Nernst 方程添加一个校正项，以考虑产物气体压力（$p_{\\mathrm{H}_2}$、$p_{\\mathrm{O}_2}$）与标准压力 $p_0 = 10^5\\,\\mathrm{Pa}$ 的差异。\n    $$\n    U_{\\mathrm{rev}}(T,p_{\\mathrm{H}_2},p_{\\mathrm{O}_2}) = U_{\\mathrm{rev},0}(T) + \\frac{RT}{nF}\\ln\\left(\\frac{p_{\\mathrm{H}_2}}{p_0}\\left(\\frac{p_{\\mathrm{O}_2}}{p_0}\\right)^{1/2}\\right)\n    $$\n    其中 $R$ 是普适气体常数（$8.314462618\\,\\mathrm{J/(mol\\cdot K)}$）。\n\n2.  **活化过电位 ($\\eta_{\\mathrm{act}}$)**\n    这种过电位源于驱动电极表面电化学反应必须克服的能垒。对于远大于交换电流密度 $i_0$ 的电流密度 $i$，Butler-Volmer 方程简化为阳极分支的 Tafel 方程：\n    $$\n    \\eta_{\\mathrm{act}}(i,T) = \\frac{RT}{\\alpha F}\\ln\\left(\\frac{i}{i_0}\\right)\n    $$\n    其中 $\\alpha$ 是表观电荷转移系数。\n\n3.  **欧姆过电位 ($\\eta_{\\mathrm{ohm}}$)**\n    该项表示由于电解质膜中的离子电阻和其他电池组件中的电子电阻引起的电压降。它遵循面积比电阻的欧姆定律：\n    $$\n    \\eta_{\\mathrm{ohm}}(i,T) = i \\cdot R_{\\mathrm{ohm}}(T) = i\\,\\left(\\frac{t_{\\mathrm{mem}}}{\\sigma(T)} + R_s\\right)\n    $$\n    此处，$t_{\\mathrm{mem}}$ 是膜厚度，$R_s$ 是一个残余电阻项，$\\sigma(T)$ 是膜的温相关质子电导率。$\\sigma(T)$ 使用 Arrhenius 型关系建模：\n    $$\n    \\sigma(T) = \\sigma_{\\mathrm{ref}}\\,\\exp\\left(\\frac{E_a}{R}\\left(\\frac{1}{T_{\\mathrm{ref}}} - \\frac{1}{T}\\right)\\right)\n    $$\n    其中 $\\sigma_{\\mathrm{ref}}$ 是参考温度 $T_{\\mathrm{ref}}$ 下的电导率，$E_a$ 是质子传输的活化能。\n\n4.  **浓差过电位 ($\\eta_{\\mathrm{conc}}$)**\n    在高电流密度下，当电极表面反应物的消耗速率受反应物传质限制时，这种过电位变得显著。它以极限电流密度 $i_L$ 来建模：\n    $$\n    \\eta_{\\mathrm{conc}}(i,T) = \\frac{RT}{nF}\\ln\\left(\\frac{1}{1 - \\frac{i}{i_L}}\\right)\n    $$\n    此表达式在 $0  i  i_L$ 时有效。当 $i$ 接近 $i_L$ 时，$\\eta_{\\mathrm{conc}}$ 急剧增加。\n\n**局部灵敏度分析**\n电压随电流密度的局部标度关系，或灵敏度 $\\frac{dU}{di}$，量化了极化曲线（$U$ vs. $i$）的局部斜率。它是一个重要参数，代表了电池的局部面积比电阻。由于 $U_{\\mathrm{rev}}$ 不依赖于电流密度 $i$，其导数为零。总灵敏度是各过电位项导数之和：\n$$\n\\frac{dU}{di} = \\frac{d\\eta_{\\mathrm{act}}}{di} + \\frac{d\\eta_{\\mathrm{ohm}}}{di} + \\frac{d\\eta_{\\mathrm{conc}}}{di}\n$$\n各个导数提供如下：\n$$\n\\frac{d\\eta_{\\mathrm{act}}}{di} = \\frac{RT}{\\alpha F}\\frac{1}{i}\n$$\n$$\n\\frac{d\\eta_{\\mathrm{ohm}}}{di} = R_{\\mathrm{ohm}}(T) = \\frac{t_{\\mathrm{mem}}}{\\sigma(T)} + R_s\n$$\n$$\n\\frac{d\\eta_{\\mathrm{conc}}}{di} = \\frac{RT}{nF}\\,\\frac{1}{i_L - i} = \\frac{RT}{nF}\\,\\frac{1}{i_L\\left(1 - \\frac{i}{i_L}\\right)}\n$$\n\n**计算步骤**\n对于每个测试用例，计算过程如下：\n1.  给定操作温度 $T$ 和膜参数（$E_a$, $\\sigma_{\\mathrm{ref}}$, $T_{\\mathrm{ref}}$），计算膜电导率 $\\sigma(T)$。\n2.  使用计算出的 $\\sigma(T)$、膜厚度 $t_{\\mathrm{mem}}$ 和残余电阻 $R_s$ 计算总欧姆电阻 $R_{\\mathrm{ohm}}$。\n3.  使用各自的公式和测试用例的给定参数（$i, T, p_{\\mathrm{H}_2}, p_{\\mathrm{O}_2}$ 等）计算四个电压分量：$U_{\\mathrm{rev}}$、$\\eta_{\\mathrm{act}}$、$\\eta_{\\mathrm{ohm}}$ 和 $\\eta_{\\mathrm{conc}}$。\n4.  将四个分量相加，得到总电池电压 $U$。\n5.  计算三个灵敏度分量：$\\frac{d\\eta_{\\mathrm{act}}}{di}$、$\\frac{d\\eta_{\\mathrm{ohm}}}{di}$ 和 $\\frac{d\\eta_{\\mathrm{conc}}}{di}$。\n6.  将三个灵敏度分量相加，得到总灵敏度 $\\frac{dU}{di}$。\n7.  按要求将最终值 $U$ 和 $\\frac{dU}{di}$ 都四舍五入到六位小数。\n\n此程序将为问题陈述中指定的四个测试用例中的每一个实施。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the PEM electrolyzer modeling problem for all test cases.\n    \"\"\"\n\n    # Physical and thermodynamic constants\n    R = 8.314462618  # J/(mol·K)\n    F = 96485.33212  # C/mol\n    N = 2              # Number of electrons\n    P0 = 1e5           # Pa, standard pressure\n    DELTA_H_f0 = -285.83e3  # J/mol, for liquid water\n    DELTA_S_f0 = -163.2   # J/(mol·K), for liquid water\n\n    # Test cases defined in the problem statement\n    test_cases = [\n        # Case 1 (baseline)\n        {\n            \"T\": 333.15, \"i\": 1e4, \"t_mem\": 180e-6, \"sigma_ref\": 8.0,\n            \"T_ref\": 298.15, \"E_a\": 1.2e4, \"R_s\": 5e-5, \"i_L\": 2.0e4,\n            \"i_0\": 1e-2, \"alpha\": 0.5, \"p_h2\": 3.0e6, \"p_o2\": 3.0e6\n        },\n        # Case 2 (higher temperature)\n        {\n            \"T\": 353.15, \"i\": 1e4, \"t_mem\": 180e-6, \"sigma_ref\": 8.0,\n            \"T_ref\": 298.15, \"E_a\": 1.2e4, \"R_s\": 5e-5, \"i_L\": 2.0e4,\n            \"i_0\": 1e-2, \"alpha\": 0.5, \"p_h2\": 3.0e6, \"p_o2\": 3.0e6\n        },\n        # Case 3 (thinner membrane)\n        {\n            \"T\": 333.15, \"i\": 1e4, \"t_mem\": 100e-6, \"sigma_ref\": 8.0,\n            \"T_ref\": 298.15, \"E_a\": 1.2e4, \"R_s\": 5e-5, \"i_L\": 2.0e4,\n            \"i_0\": 1e-2, \"alpha\": 0.5, \"p_h2\": 3.0e6, \"p_o2\": 3.0e6\n        },\n        # Case 4 (near mass-transport limitation)\n        {\n            \"T\": 333.15, \"i_L\": 2.0e4, \"i\": 0.95 * 2.0e4, \"t_mem\": 180e-6,\n            \"sigma_ref\": 8.0, \"T_ref\": 298.15, \"E_a\": 1.2e4, \"R_s\": 5e-5,\n            \"i_0\": 1e-2, \"alpha\": 0.5, \"p_h2\": 3.0e6, \"p_o2\": 3.0e6\n        }\n    ]\n\n    def calculate_voltage_and_sensitivity(params):\n        \"\"\"\n        Calculates the cell voltage U and its sensitivity dU/di for a given set of parameters.\n        \"\"\"\n        T = params[\"T\"]\n        i = params[\"i\"]\n        t_mem = params[\"t_mem\"]\n        sigma_ref = params[\"sigma_ref\"]\n        T_ref = params[\"T_ref\"]\n        E_a = params[\"E_a\"]\n        R_s = params[\"R_s\"]\n        i_L = params[\"i_L\"]\n        i_0 = params[\"i_0\"]\n        alpha = params[\"alpha\"]\n        p_h2 = params[\"p_h2\"]\n        p_o2 = params[\"p_o2\"]\n\n        # 1. Reversible Voltage (U_rev)\n        u_rev_0 = (-DELTA_H_f0 + T * DELTA_S_f0) / (N * F)\n        nernst_correction = (R * T) / (N * F) * np.log((p_h2 / P0) * (p_o2 / P0)**0.5)\n        u_rev = u_rev_0 + nernst_correction\n\n        # 2. Activation Overpotential (eta_act)\n        eta_act = (R * T) / (alpha * F) * np.log(i / i_0)\n\n        # 3. Ohmic Overpotential (eta_ohm)\n        # First, calculate temperature-dependent conductivity sigma(T)\n        sigma_T = sigma_ref * np.exp((E_a / R) * (1 / T_ref - 1 / T))\n        # Total area-specific ohmic resistance\n        r_ohm = t_mem / sigma_T + R_s\n        eta_ohm = i * r_ohm\n\n        # 4. Concentration Overpotential (eta_conc)\n        eta_conc = (R * T) / (N * F) * np.log(1 / (1 - i / i_L))\n\n        # Total Cell Voltage\n        U = u_rev + eta_act + eta_ohm + eta_conc\n\n        # Sensitivity analysis (dU/di)\n        # derivative of reversible potential is 0\n        d_eta_act_di = (R * T) / (alpha * F * i)\n        d_eta_ohm_di = r_ohm\n        d_eta_conc_di = (R * T) / (N * F) * (1 / (i_L - i))\n        dU_di = d_eta_act_di + d_eta_ohm_di + d_eta_conc_di\n        \n        return [round(U, 6), round(dU_di, 6)]\n\n    results = []\n    for case_params in test_cases:\n        result_pair = calculate_voltage_and_sensitivity(case_params)\n        results.append(str(result_pair))\n    \n    # Format the final output string exactly as required\n    print(f\"[{','.join(results)}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "一个“电转气”工厂不仅仅是一个电解槽，它是一个集成的系统。本练习  演示了如何通过分析不同单元之间的能量流动来提高整体效率。通过从放热的甲烷化过程中回收废热，我们可以减少外部能源输入，这展示了智能工艺设计的一个关键原则。",
            "id": "4113186",
            "problem": "一个电转气工厂将质子交换膜（PEM）水电解槽与下游的二氧化碳甲烷化反应器耦合在一起。该电解槽的辅助系统需要一个 $60^{\\circ}\\mathrm{C}$ 的热水回路来加热和加湿进料，并补偿输配损失。该回路以 $\\dot{m}_{\\mathrm{w}}=40\\ \\mathrm{kg/s}$ 的质量流率循环液态水，水的比热容为 $c_{p,\\mathrm{w}}=4.18\\ \\mathrm{kJ/(kg\\cdot K)}$。水在 $30^{\\circ}\\mathrm{C}$ 时进入该回路。除了将水从 $30^{\\circ}\\mathrm{C}$ 显热加热到 $60^{\\circ}\\mathrm{C}$ 之外，辅助系统中还有其他固定的热损失，总计 $2.5\\ \\mathrm{MW}$。\n\n在基准配置中，这一热负荷完全由一个天然气锅炉满足，其热效率为 $\\eta_{\\mathrm{b}}=0.90$（基于低位热值）。天然气的低位热值（LHV）为 $50\\ \\mathrm{MJ/kg}$。\n\n现提出一种集成方案，通过一个逆流换热器从放热的甲烷化反应器流出物中回收 $5.0\\ \\mathrm{MW}$ 的热量。高温甲烷化料流在 $150^{\\circ}\\mathrm{C}$ 时进入换热器，其热容流率足够大，因此将其冷却以提供 $5.0\\ \\mathrm{MW}$ 的热量时，不会对冷侧的目标温度构成限制。换热网络的设计旨在处处满足 $\\Delta T_{\\min}=10\\ \\mathrm{K}$ 的最小温差。假设为单相操作，可忽略不计的环境热损失，并且回收的 $5.0\\ \\mathrm{MW}$ 热量在其温度水平下可用，足以加热水回路而不违反 $\\Delta T_{\\min}$ 约束。\n\n利用热力学第一定律和能量平衡，确定通过实施 $5.0\\ \\mathrm{MW}$ 的热回收，基准公用工程消耗的减少量，量化为节省的天然气质量流率，单位为 $\\mathrm{kg/s}$。将你的答案四舍五入至四位有效数字。最终值以 $\\mathrm{kg/s}$ 表示。",
            "solution": "在进行求解之前，对问题陈述进行了严格验证。\n\n### 步骤 1：提取已知条件\n- 热水回路目标温度：$T_{\\mathrm{w,out}} = 60^{\\circ}\\mathrm{C}$\n- 回路中水的质量流率：$\\dot{m}_{\\mathrm{w}} = 40\\ \\mathrm{kg/s}$\n- 水的比热容：$c_{p,\\mathrm{w}} = 4.18\\ \\mathrm{kJ/(kg\\cdot K)}$\n- 回路加热的进水温度：$T_{\\mathrm{w,in}} = 30^{\\circ}\\mathrm{C}$\n- 辅助系统中的固定热损失：$P_{\\mathrm{loss}} = 2.5\\ \\mathrm{MW}$\n- 基准热源：天然气锅炉\n- 锅炉热效率：$\\eta_{\\mathrm{b}} = 0.90$\n- 天然气的低位热值：$LHV_{\\mathrm{ng}} = 50\\ \\mathrm{MJ/kg}$\n- 提议的甲烷化热回收：$P_{\\mathrm{rec}} = 5.0\\ \\mathrm{MW}$\n- 换热的最小温差：$\\Delta T_{\\min} = 10\\ \\mathrm{K}$\n- 假设：回收的 $5.0\\ \\mathrm{MW}$ 热量在满足 $\\Delta T_{\\min}$ 约束的温度水平下可用。\n\n### 步骤 2：使用提取的已知条件进行验证\n根据既定标准对问题进行评估：\n- **科学依据：** 问题牢固地植根于热力学第一定律和过程热集成原理，这些是能源系统工程的基础。所有提供的物理量，如温度、流率、热容和效率，对于工业电转气设施都是符合实际的。\n- **适定性：** 问题提供了计算总热需求并进而确定由指定热回收产生的燃料节省量所需的所有必要数据。问题清晰明确，并导向一个唯一的、稳定的解。\n- **客观性：** 问题使用精确的技术语言描述，不含任何主观性或意见。\n- **一致性检查：** 必须计算系统的总热需求，以确保提议的热回收量不超过它。热水回路所需的热量为 $P_{\\mathrm{w,sensible}} = \\dot{m}_{\\mathrm{w}} c_{p,\\mathrm{w}} (T_{\\mathrm{w,out}} - T_{\\mathrm{w,in}}) = (40\\ \\mathrm{kg/s}) \\times (4.18\\ \\mathrm{kJ/(kg\\cdot K)}) \\times (60 - 30)\\ \\mathrm{K} = 5016\\ \\mathrm{kW} = 5.016\\ \\mathrm{MW}$。总需求为 $P_{\\mathrm{demand}} = P_{\\mathrm{w,sensible}} + P_{\\mathrm{loss}} = 5.016\\ \\mathrm{MW} + 2.5\\ \\mathrm{MW} = 7.516\\ \\mathrm{MW}$。由于回收的热量 $P_{\\mathrm{rec}} = 5.0\\ \\mathrm{MW}$ 小于总需求 $P_{\\mathrm{demand}} = 7.516\\ \\mathrm{MW}$，因此该情景在物理上是一致的。锅炉仍需要提供剩余的 $2.516\\ \\mathrm{MW}$，因此问题没有被过度约束。问题的约束条件是自洽且充分的。\n\n### 步骤 3：结论与行动\n问题是 **有效的**，因为它在科学上是合理的，具有适定性、客观性且内部一致。将推导出解决方案。\n\n目标是求出因实施热回收而导致的天然气质量流率减少量 $\\Delta \\dot{m}_{\\mathrm{ng}}$。\n\n提议的热集成提供了 $P_{\\mathrm{rec}} = 5.0\\ \\mathrm{MW}$ 的热功率。这部分回收的热量直接替代了原本应由天然气锅炉提供的热量。因此，锅炉所需热功率输出的减少量 $\\Delta P_{\\mathrm{b}}$ 等于回收的热量：\n$$\n\\Delta P_{\\mathrm{b}} = P_{\\mathrm{rec}} = 5.0\\ \\mathrm{MW}\n$$\n根据热力学第一定律，锅炉的热效率 $\\eta_{\\mathrm{b}}$ 将有效热输出 $P_{\\mathrm{b}}$ 与来自燃料的能量输入速率 $P_{\\mathrm{fuel}}$ 联系起来：\n$$\n\\eta_{\\mathrm{b}} = \\frac{P_{\\mathrm{b}}}{P_{\\mathrm{fuel}}}\n$$\n来自燃料的能量输入速率由燃料质量流率 $\\dot{m}_{\\mathrm{ng}}$ 与其低位热值 $LHV_{\\mathrm{ng}}$ 的乘积给出：\n$$\nP_{\\mathrm{fuel}} = \\dot{m}_{\\mathrm{ng}} \\cdot LHV_{\\mathrm{ng}}\n$$\n结合这两个关系式，产生一定热量所需的天然气质量流率为：\n$$\n\\dot{m}_{\\mathrm{ng}} = \\frac{P_{\\mathrm{b}}}{\\eta_{\\mathrm{b}} \\cdot LHV_{\\mathrm{ng}}}\n$$\n天然气质量流率的减少量 $\\Delta \\dot{m}_{\\mathrm{ng}}$ 对应于不再需要用于产生所节省的热功率 $\\Delta P_{\\mathrm{b}}$ 的燃料。因此，我们可以写出：\n$$\n\\Delta \\dot{m}_{\\mathrm{ng}} = \\frac{\\Delta P_{\\mathrm{b}}}{\\eta_{\\mathrm{b}} \\cdot LHV_{\\mathrm{ng}}}\n$$\n代入 $\\Delta P_{\\mathrm{b}} = P_{\\mathrm{rec}}$：\n$$\n\\Delta \\dot{m}_{\\mathrm{ng}} = \\frac{P_{\\mathrm{rec}}}{\\eta_{\\mathrm{b}} \\cdot LHV_{\\mathrm{ng}}}\n$$\n给定值为：\n- $P_{\\mathrm{rec}} = 5.0\\ \\mathrm{MW} = 5.0 \\times 10^{6}\\ \\mathrm{J/s}$\n- $\\eta_{\\mathrm{b}} = 0.90$\n- $LHV_{\\mathrm{ng}} = 50\\ \\mathrm{MJ/kg} = 50 \\times 10^{6}\\ \\mathrm{J/kg}$\n\n将这些值代入 $\\Delta \\dot{m}_{\\mathrm{ng}}$ 的方程中：\n$$\n\\Delta \\dot{m}_{\\mathrm{ng}} = \\frac{5.0 \\times 10^{6}\\ \\mathrm{J/s}}{0.90 \\times (50 \\times 10^{6}\\ \\mathrm{J/kg})}\n$$\n$$\n\\Delta \\dot{m}_{\\mathrm{ng}} = \\frac{5.0}{0.90 \\times 50}\\ \\mathrm{kg/s}\n$$\n$$\n\\Delta \\dot{m}_{\\mathrm{ng}} = \\frac{5.0}{45}\\ \\mathrm{kg/s}\n$$\n$$\n\\Delta \\dot{m}_{\\mathrm{ng}} \\approx 0.111111...\\ \\mathrm{kg/s}\n$$\n问题要求将答案四舍五入至四位有效数字。\n$$\n\\Delta \\dot{m}_{\\mathrm{ng}} \\approx 0.1111\\ \\mathrm{kg/s}\n$$\n关于水回路温度、流率和固定损失的额外信息，虽然对于确认整个系统的能量平衡和问题的有效性是必要的，但对于计算燃料消耗的减少量并非直接需要。燃料消耗的减少量仅取决于被替代的热负荷大小、锅炉效率和燃料特性。",
            "answer": "$$\\boxed{0.1111}$$"
        },
        {
            "introduction": "一个氢气项目的可行性最终取决于其经济性。这最后一个练习  将技术和经济因素结合起来，指导您完成平准化氢成本 (LCOH) 的计算。该指标将资本支出、运营成本和设备性能综合成一个单一、有力的经济可行性指标。",
            "id": "4113260",
            "problem": "一座并网的质子交换膜电解槽工厂通过电解将电能转化为氢气。假设该工厂的连续额定电力输入为 $20\\ \\mathrm{MW}$，容量因子为 50%，购电价格为 $\\$30/\\mathrm{MWh}$，基于低热值 (LHV) 的电解转换效率为 55%，前期资本支出为额定容量每千瓦 $\\$800$，经济寿命为 $N=20$ 年，实际贴现率为 $r=8\\%$。设固定运营和维护成本为每年前期资本成本的 $3\\%$。使用氢气的低热值 $q_{\\mathrm{H_2}}=33.33\\ \\mathrm{kWh/kg}$ 作为一个经过充分验证的热化学事实。\n\n从能量平衡、容量因子定义和货币时间价值（等额年金现值）的基本原理出发，推导出年产氢量和工厂的等效年成本。然后计算平准化氢成本 (LCOH)，其定义为在整个生命周期内，使所有成本的现值等于所有产出氢气的现值的恒定单位成本，并且，由于年成本和年产量是恒定的，它也等于等效年化成本与年产氢量的比率。以美元/千克 ($/\\mathrm{kg}$) 为单位表示最终的 LCOH，并将您的答案四舍五入到四位有效数字。",
            "solution": "问题要求计算一座并网质子交换膜 (PEM) 电解槽工厂的平准化氢成本 (LCOH)。验证过程确认了问题陈述是科学合理的、定义明确且客观的，并包含了完整解答所需的所有必要信息。我们将从基本原理出发，推导所需的量。\n\n对于年产量和成本恒定的本问题，LCOH 定义为工厂的总等效年成本与年产氢气总质量的比值。\n$$\n\\mathrm{LCOH} = \\frac{C_{\\text{annual}}}{M_{\\mathrm{H_2}, \\text{annual}}}\n$$\n其中 $C_{\\text{annual}}$ 是等效年成本，单位为美元/年，$M_{\\mathrm{H_2}, \\text{annual}}$ 是年产氢量，单位为千克/年。\n\n首先，我们计算年产氢量 $M_{\\mathrm{H_2}, \\text{annual}}$。\n\n工厂的额定电力输入功率为 $P_{\\text{rated}} = 20\\ \\mathrm{MW}$，相当于 $20,000\\ \\mathrm{kW}$。工厂以 $CF = 50\\% = 0.5$ 的容量因子运行。一年的总小时数为 $365 \\times 24 = 8,760\\ \\mathrm{h}$。\n工厂消耗的年电能 $E_{\\text{in, annual}}$ 由下式给出：\n$$\nE_{\\text{in, annual}} = P_{\\text{rated}} \\times CF \\times (8,760\\ \\mathrm{h/yr})\n$$\n代入给定值：\n$$\nE_{\\text{in, annual}} = (20\\ \\mathrm{MW}) \\times 0.5 \\times (8,760\\ \\mathrm{h/yr}) = 10\\ \\mathrm{MW} \\times (8,760\\ \\mathrm{h/yr}) = 87,600\\ \\mathrm{MWh/yr}\n$$\n为了与其他给定值保持一致，将其转换为千瓦时 (kWh)：\n$$\nE_{\\text{in, annual}} = 87,600\\ \\mathrm{MWh/yr} \\times \\frac{1,000\\ \\mathrm{kWh}}{1\\ \\mathrm{MWh}} = 87,600,000\\ \\mathrm{kWh/yr}\n$$\n基于低热值 (LHV) 计算的电解转换效率 $\\eta_{\\text{ely}}$ 为 $55\\%$ ($0.55$)。氢气的 LHV 给出为 $q_{\\mathrm{H_2}} = 33.33\\ \\mathrm{kWh/kg}$。年产氢气质量 $M_{\\mathrm{H_2}, \\text{annual}}$ 是生产的氢气的总能量含量除以其比能量含量 (LHV)：\n$$\nM_{\\mathrm{H_2}, \\text{annual}} = \\frac{E_{\\text{in, annual}} \\times \\eta_{\\text{ely}}}{q_{\\mathrm{H_2}}}\n$$\n代入数值：\n$$\nM_{\\mathrm{H_2}, \\text{annual}} = \\frac{(87,600,000\\ \\mathrm{kWh/yr}) \\times 0.55}{33.33\\ \\mathrm{kWh/kg}} = \\frac{48,180,000\\ \\mathrm{kWh/yr}}{33.33\\ \\mathrm{kWh/kg}} \\approx 1,445,445.4\\ \\mathrm{kg/yr}\n$$\n接下来，我们计算等效年成本 $C_{\\text{annual}}$。该成本是三个组成部分的总和：年化资本成本 ($C_{\\text{CAPEX, annual}}$)、年固定运营和维护成本 ($C_{\\text{O, annual}}$) 和年电力成本 ($C_{\\text{Elec, annual}}$)。\n$$\nC_{\\text{annual}} = C_{\\text{CAPEX, annual}} + C_{\\text{O, annual}} + C_{\\text{Elec, annual}}\n$$\n1.  **资本成本及其年化**：\n    前期资本支出为额定容量每千瓦 $\\$800$。总前期资本支出 ($C_{\\text{CAPEX}}$) 为：\n    $$\n    C_{\\text{CAPEX}} = (800\\ \\$/\\mathrm{kW}) \\times (20,000\\ \\mathrm{kW}) = \\$16,000,000\n    $$\n    为了计算这项前期投资的等效年成本，我们使用资本回收因子 ($CRF$)，它是实际贴现率 $r=8\\%=0.08$ 和经济寿命 $N=20$ 年的函数。\n    $$\n    CRF(r, N) = \\frac{r(1+r)^N}{(1+r)^N - 1}\n    $$\n    对于给定的值：\n    $$\n    CRF(0.08, 20) = \\frac{0.08(1+0.08)^{20}}{(1+0.08)^{20} - 1} = \\frac{0.08(1.08)^{20}}{(1.08)^{20} - 1} \\approx 0.1018522\n    $$\n    年化资本成本为：\n    $$\n    C_{\\text{CAPEX, annual}} = C_{\\text{CAPEX}} \\times CRF \\approx \\$16,000,000 \\times 0.1018522 \\approx \\$1,629,635.55\\ / \\mathrm{yr}\n    $$\n2.  **年固定运营和维护成本**：\n    该成本为每年前期资本成本的 $3\\%$ ($f_{\\text{O}} = 0.03$)。\n    $$\n    C_{\\text{O, annual}} = C_{\\text{CAPEX}} \\times f_{\\text{O}} = \\$16,000,000 \\times 0.03 = \\$480,000\\ / \\mathrm{yr}\n    $$\n3.  **年电力成本**：\n    购电价格给出为 $p_{\\text{elec}} = \\$30/\\mathrm{MWh}$。\n    $$\n    C_{\\text{Elec, annual}} = E_{\\text{in, annual}} \\times p_{\\text{elec}} = (87,600\\ \\mathrm{MWh/yr}) \\times (30\\ \\$/\\mathrm{MWh}) = \\$2,628,000\\ / \\mathrm{yr}\n    $$\n现在，我们将这三个组成部分相加，得到总等效年成本：\n$$\nC_{\\text{annual}} \\approx \\$1,629,635.55 + \\$480,000 + \\$2,628,000 = \\$4,737,635.55\\ / \\mathrm{yr}\n$$\n最后，我们通过将总年成本除以年产氢量来计算 LCOH：\n$$\n\\mathrm{LCOH} = \\frac{C_{\\text{annual}}}{M_{\\mathrm{H_2}, \\text{annual}}} \\approx \\frac{\\$4,737,635.55\\ / \\mathrm{yr}}{1,445,445.4\\ \\mathrm{kg/yr}} \\approx 3.2776\\ \\$/\\mathrm{kg}\n$$\n问题要求将答案四舍五入到四位有效数字。\n$$\n\\mathrm{LCOH} \\approx 3.278\\ \\$/\\mathrm{kg}\n$$",
            "answer": "$$\n\\boxed{3.278}\n$$"
        }
    ]
}