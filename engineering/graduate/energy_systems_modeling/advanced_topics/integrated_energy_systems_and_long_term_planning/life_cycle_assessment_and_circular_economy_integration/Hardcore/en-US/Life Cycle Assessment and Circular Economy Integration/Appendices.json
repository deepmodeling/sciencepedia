{
    "hands_on_practices": [
        {
            "introduction": "A cornerstone of any rigorous Life Cycle Assessment (LCA) is the clear distinction between the functional unit and the reference flow. The functional unit defines the service provided by the system, while the reference flow quantifies the product or energy needed to deliver that service. This exercise () provides hands-on practice in applying these core definitions to an energy storage system, where you will calculate the necessary energy input based on efficiency, bridging the abstract function with a concrete physical flow.",
            "id": "4101059",
            "problem": "A grid-connected lithium-ion Battery Energy Storage System (BESS) participates in a circular economy business model where it is refurbished and reused across multiple service lives. For a Life Cycle Assessment (LCA), the goal-and-scope definition adopts the functional unit as the delivery of $1 \\text{ MWh}$ of electricity at the point of grid interconnection during a single charge-discharge cycle under steady ambient conditions. The battery exhibits a constant round-trip efficiency (RTE) of $\\eta_{\\mathrm{RTE}} = 0.85$, which accounts for charge, discharge, and auxiliary losses over the cycle. Assume no self-discharge or calendar aging within the cycle and neglect standby energy.\n\nUsing only core definitions from LCA and energy conversion, and starting from first principles (energy conservation and the definition of efficiency as useful energy out divided by energy in), derive the expression for the charging electricity that must flow into the battery, $E_{\\mathrm{in}}$, such that the functional unit is satisfied. Explain how this quantity embodies the reference flow in the LCA framework for the chosen functional unit. Then compute the numerical value of $E_{\\mathrm{in}}$ for $\\eta_{\\mathrm{RTE}} = 0.85$ when the functional unit is $1 \\text{ MWh}$ delivered. Round your answer to four significant figures. Express the final energy in $\\text{MWh}$.",
            "solution": "The problem requires the derivation of an expression for the charging energy, $E_{\\mathrm{in}}$, required for a Battery Energy Storage System (BESS) to deliver a specific functional unit of energy, $E_{\\mathrm{out}}$, and then to compute its numerical value. The derivation must start from first principles.\n\nLet us begin by defining the relevant quantities based on the problem statement.\nThe energy supplied to the battery during the charging phase is denoted as $E_{\\mathrm{in}}$.\nThe useful electrical energy delivered by the battery to the grid during the discharging phase is denoted as $E_{\\mathrm{out}}$.\nThe energy dissipated as heat and other losses within the battery and its associated power electronics during one complete charge-discharge cycle is denoted as $E_{\\mathrm{loss}}$.\n\nThe first principle to apply is the law of conservation of energy. For the system boundary encompassing the BESS, the total energy entering the system must equal the sum of the useful energy leaving the system and the energy lost or stored within the system. For a complete charge-discharge cycle where the battery's state of charge returns to its initial value, the net change in stored energy is zero. Under the given assumptions (no self-discharge, no calendar aging), the energy balance for a single cycle is:\n$$E_{\\mathrm{in}} = E_{\\mathrm{out}} + E_{\\mathrm{loss}}$$\n\nThe second principle is the definition of efficiency. The round-trip efficiency, $\\eta_{\\mathrm{RTE}}$, is defined as the ratio of the useful energy output to the total energy input over a complete cycle.\n$$ \\eta_{\\mathrm{RTE}} = \\frac{\\text{Useful Energy Out}}{\\text{Total Energy In}} $$\nUsing our defined variables, this translates to:\n$$ \\eta_{\\mathrm{RTE}} = \\frac{E_{\\mathrm{out}}}{E_{\\mathrm{in}}} $$\nThe problem states that $\\eta_{\\mathrm{RTE}}$ is a constant value of $0.85$.\n\nThe goal is to find the expression for the charging electricity, $E_{\\mathrm{in}}$, that must be supplied to the battery. We can rearrange the efficiency equation to solve for $E_{\\mathrm{in}}$:\n$$ E_{\\mathrm{in}} = \\frac{E_{\\mathrm{out}}}{\\eta_{\\mathrm{RTE}}} $$\nThis is the derived expression for the required input energy based on first principles.\n\nNext, the problem asks to explain how this quantity, $E_{\\mathrm{in}}$, embodies the reference flow in the Life Cycle Assessment (LCA) framework.\nIn LCA, the **functional unit** is a quantified measure of the function or service provided by the product system being studied. Here, the functional unit is explicitly defined as \"the delivery of $1 \\text{ MWh}$ of electricity at the point of grid interconnection\". Thus, $E_{\\mathrm{out}} = 1 \\text{ MWh}$.\n\nThe **reference flow** is the amount of product or, in this case, energy input required to fulfill the defined functional unit. It is the bridge between the abstract function (the functional unit) and the physical flows that are inventoried in the LCA. To provide the service of delivering $E_{\\mathrm{out}} = 1 \\text{ MWh}$ to the grid, the system must draw a specific amount of electricity, $E_{\\mathrm{in}}$, from the grid for charging. This quantity, $E_{\\mathrm{in}}$, is the primary input flow directly linked to providing the function. Therefore, $E_{\\mathrm{in}}$ is the reference flow for this LCA. All other life cycle inputs and outputs (e.g., manufacturing materials, end-of-life waste) are typically scaled relative to this reference flow.\n\nFinally, we must compute the numerical value of $E_{\\mathrm{in}}$.\nThe problem provides the following values:\nThe functional unit, which corresponds to the useful energy output: $E_{\\mathrm{out}} = 1 \\text{ MWh}$.\nThe round-trip efficiency: $\\eta_{\\mathrm{RTE}} = 0.85$.\n\nSubstituting these values into our derived expression for $E_{\\mathrm{in}}$:\n$$ E_{\\mathrm{in}} = \\frac{1 \\text{ MWh}}{0.85} $$\nPerforming the calculation:\n$$ E_{\\mathrm{in}} \\approx 1.176470588... \\text{ MWh} $$\nThe problem requires the answer to be rounded to four significant figures.\n$$ E_{\\mathrm{in}} \\approx 1.176 \\text{ MWh} $$\nThis means that to deliver $1 \\text{ MWh}$ of energy, the battery must be charged with approximately $1.176 \\text{ MWh}$ of energy, with the difference of $0.176 \\text{ MWh}$ being lost as heat due to the system's inefficiency.",
            "answer": "$$\\boxed{1.176}$$"
        },
        {
            "introduction": "Integrating circular economy principles into LCA requires moving beyond simple mass balance to account for real-world complexities like material degradation and market limitations. This practice problem () challenges you to model a downcycling scenario, where a recycled material has lower quality than its virgin counterpart. You will learn to calculate an \"effective substitution fraction\" that respects functional equivalence and physical constraints, providing a more realistic estimate of the environmental benefits of recycling.",
            "id": "4100984",
            "problem": "A polymer component used in a utility-scale photovoltaic inverter enclosure is assessed using Life Cycle Assessment (LCA) within an energy systems modeling framework. The functional unit is provision of $1\\,\\mathrm{kg}$ of polymer with specified mechanical and thermal performance for one unit of the enclosure over a service life. The polymer is mechanically recycled at end of life under the following circularity parameters: collection rate $c$, sorting and reprocessing yield $y$, and a market absorption cap $m$ that limits the fraction of the original functional mass demand that can be met by the recycled grade due to performance and specification constraints. The mechanical recycling produces a downcycled grade whose functional performance per unit mass is reduced relative to virgin polymer and is represented by a quality factor $q \\in [0,1]$. \n\nAssume the following numerically specified parameters for the recycling system at end of life: $c = 0.75$, $y = 0.85$, $m = 0.80$, and $q = 0.65$. The virgin production cradle-to-gate Global Warming Potential (GWP) intensity is $I_{\\mathrm{v}}$ and the mechanical recycling cradle-to-gate GWP intensity is $I_{\\mathrm{r}}$, where $I_{\\mathrm{v}}$ and $I_{\\mathrm{r}}$ are finite, positive constants that are not specified numerically here. Use a system expansion approach, where avoided burden is counted as the displacement of virgin production by functionally equivalent recycled material. The effective substitution fraction $s$ is defined as the fraction of the functional unit of virgin polymer that is displaced by recycled polymer when accounting for both availability constraints and reduced functional equivalence due to downcycling.\n\nStarting from conservation of mass for end-of-life flows and the equivalence principle in LCA that requires functional performance matching for substitution, derive the expression for the effective substitution fraction $s$ in terms of the defined parameters and then compute its numerical value using the data provided. You must ensure that your derivation respects the constraint that the fraction of virgin demand met by recycled material cannot exceed the market absorption cap $m$ and cannot exceed the available recycled mass after collection and yield losses.\n\nRound your final numerical result to four significant figures and express it as a dimensionless decimal fraction. Do not include any units in the final answer box.",
            "solution": "The problem is validated as scientifically grounded, well-posed, and objective. It presents a standard scenario in Life Cycle Assessment (LCA) concerning the integration of recycled materials into a product system, adhering to established principles of mass balance and functional equivalence. The provided parameters are sufficient and consistent for deriving the requested quantity.\n\nThe objective is to derive an expression for the effective substitution fraction, $s$, and then calculate its numerical value. The fraction $s$ represents the portion of a functional unit of virgin polymer that is effectively displaced by recycled material. This displacement is subject to constraints from material availability, processing yields, functional quality, and market absorption.\n\nLet the functional unit be the provision of function equivalent to $M_{\\mathrm{FU}} = 1\\,\\mathrm{kg}$ of virgin polymer. At the end of its service life, this mass of polymer, $M_{\\mathrm{EOL}} = M_{\\mathrm{FU}}$, becomes available for recycling.\n\nFirst, we establish the mass of recycled polymer that is successfully produced from the end-of-life material.\nThe mass of polymer collected is a fraction $c$ of the total available mass:\n$$M_{\\mathrm{coll}} = c \\cdot M_{\\mathrm{EOL}} = c \\cdot M_{\\mathrm{FU}}$$\nThis collected mass undergoes sorting and reprocessing, which has a yield of $y$. The mass of recycled polymer produced, $M_{\\mathrm{rec}}$, is therefore:\n$$M_{\\mathrm{rec}} = y \\cdot M_{\\mathrm{coll}} = y \\cdot (c \\cdot M_{\\mathrm{FU}}) = c \\cdot y \\cdot M_{\\mathrm{FU}}$$\n\nNext, we must account for the functional equivalence of the recycled polymer. The quality factor, $q$, represents the performance of the recycled material relative to the virgin material. A mass $M_{\\mathrm{rec}}$ of recycled polymer provides the same function as a mass $q \\cdot M_{\\mathrm{rec}}$ of virgin polymer. The total available functional substitution, based on the supply of recycled material, is:\n$$F_{\\mathrm{avail}} = q \\cdot M_{\\mathrm{rec}} = q \\cdot c \\cdot y \\cdot M_{\\mathrm{FU}}$$\nThis quantity represents the maximum mass of virgin polymer that could theoretically be displaced, limited only by the amount and quality of the recycled material produced.\n\nHowever, there is a second constraint: the market absorption cap, $m$. This parameter limits the fraction of the original functional demand that can be met with the recycled grade. The maximum functional substitution allowed by the market is:\n$$F_{\\mathrm market} = m \\cdot M_{\\mathrm{FU}}$$\n\nThe actual functional displacement, which we can denote as $M_{\\mathrm{displaced}}$, is limited by the more restrictive of these two factors: the available functional supply and the market's capacity for absorption. Therefore, the actual functional displacement is the minimum of $F_{\\mathrm{avail}}$ and $F_{\\mathrm{market}}$:\n$$M_{\\mathrm{displaced}} = \\min(F_{\\mathrm{avail}}, F_{\\mathrm{market}}) = \\min(q \\cdot c \\cdot y \\cdot M_{\\mathrm{FU}}, m \\cdot M_{\\mathrm{FU}})$$\n\nThe effective substitution fraction, $s$, is defined as the fraction of the functional unit of virgin polymer that is displaced. This is the ratio of the displaced functional mass to the total functional unit mass:\n$$s = \\frac{M_{\\mathrm{displaced}}}{M_{\\mathrm{FU}}} = \\frac{\\min(q \\cdot c \\cdot y \\cdot M_{\\mathrm{FU}}, m \\cdot M_{\\mathrm{FU}})}{M_{\\mathrm{FU}}}$$\nSimplifying this expression gives the general formula for $s$:\n$$s = \\min(q \\cdot c \\cdot y, m)$$\n\nNow, we can compute the numerical value of $s$ using the provided parameters:\n$c = 0.75$\n$y = 0.85$\n$m = 0.80$\n$q = 0.65$\n\nFirst, we calculate the supply-side limiting term, $q \\cdot c \\cdot y$:\n$$q \\cdot c \\cdot y = 0.65 \\times 0.75 \\times 0.85$$\n$$q \\cdot c \\cdot y = 0.65 \\times 0.6375$$\n$$q \\cdot c \\cdot y = 0.414375$$\n\nNext, we compare this value to the market absorption cap, $m$:\n$$m = 0.80$$\n\nWe apply the minimum function to find $s$:\n$$s = \\min(0.414375, 0.80)$$\nSince $0.414375  0.80$, the effective substitution is limited by the availability and quality of the recycled material, not by the market's capacity to absorb it.\n$$s = 0.414375$$\n\nThe problem requires the result to be rounded to four significant figures.\n$$s \\approx 0.4144$$\nThis dimensionless value indicates that for every $1\\,\\mathrm{kg}$ of virgin polymer functionality required, $0.4144\\,\\mathrm{kg}$ can be effectively displaced by the specified recycling system. The GWP intensities $I_{\\mathrm{v}}$ and $I_{\\mathrm{r}}$, while relevant for a full LCA calculation of environmental impact, are not needed for determining the substitution fraction $s$.",
            "answer": "$$\\boxed{0.4144}$$"
        },
        {
            "introduction": "Deterministic LCA models provide a single-point estimate of environmental impact, but in reality, many input parameters are uncertain. This exercise () introduces a powerful technique for navigating this uncertainty: variance-based global sensitivity analysis. By deriving and applying Sobol indices, you will quantitatively determine which uncertain factors—such as grid carbon intensity or manufacturing energy—contribute most to the variance in a battery's total life cycle emissions, a critical skill for building robust and credible energy system models.",
            "id": "4100998",
            "problem": "You are modeling the life cycle greenhouse gas emissions of a lithium-ion battery pack, integrating circular economy effects via end-of-life recovered-material credits, and quantifying parametric uncertainty using variance-based global sensitivity analysis. Consider a scalar life cycle assessment (LCA) response function $f$ defined on two independent uncertain inputs: grid carbon intensity during use-phase charging and manufacturing energy use. Let $g$ denote grid carbon intensity in $\\text{kg\\,CO}_2/\\text{kWh}$, $M$ denote manufacturing energy use in $\\text{kWh}$, $U$ denote lifetime electricity consumption for charging in $\\text{kWh}$, $g_m$ denote the manufacturing grid carbon intensity in $\\text{kg\\,CO}_2/\\text{kWh}$, $\\eta_r$ denote the fraction of manufacturing energy avoided through closed-loop recycling (dimensionless), and $B$ denote other fixed life cycle emissions in $\\text{kg\\,CO}_2$ not parameterized by $g$ or $M$ (for example, transport and non-electric process emissions). Under a linear additive model that integrates circular economy effects through avoided manufacturing energy, define\n$$\nY = f(g,M) = g\\,U + g_m\\,M\\,(1-\\eta_r) + B,\n$$\nwith $g$ and $M$ independent random variables reflecting parametric uncertainty.\n\nStarting from the Analysis of Variance–High Dimensional Model Representation (ANOVA–HDMR) variance decomposition and the definition of first-order Sobol indices,\n$$\n\\mathrm{Var}(Y) = \\sum_{i} V_i + \\sum_{ij} V_{ij} + \\cdots,\\quad S_i = \\frac{V_i}{\\mathrm{Var}(Y)},\\quad V_i = \\mathrm{Var}\\big( \\mathbb{E}[Y\\,|\\,X_i] \\big),\n$$\nderive a closed-form expression for the first-order Sobol index $S_g$ of the grid carbon intensity $g$ and the first-order Sobol index $S_M$ of the manufacturing energy use $M$ for the model $Y=f(g,M)$ above. Assume $g$ and $M$ are independent and each follows a continuous uniform distribution on a closed interval. Express the indices as functions of $U$, $g_m$, $\\eta_r$, and the distribution parameters of $g$ and $M$.\n\nYour program must implement these derived expressions and compute $S_g$ and $S_M$ for each test case in the following test suite. All physical constants and intervals are scientifically plausible for electric vehicle battery packs and industrial electricity supply. The outcomes $S_g$ and $S_M$ are dimensionless and must be reported as decimal numbers.\n\nUse the uniform distribution variance formula $\\mathrm{Var}(X)=\\frac{(b-a)^2}{12}$ for $X\\sim\\mathcal{U}(a,b)$.\n\nTest suite (each case defines $U$, $g$ range, $M$ range, $g_m$, $\\eta_r$, and $B$), with all physical values expressed in their specified units:\n\n- Case $1$ (baseline, moderate grid variability and manufacturing energy): $U=30000\\ \\text{kWh}$, $g \\in [0.2,0.8]\\,\\text{kg\\,CO}_2/\\text{kWh}$, $M \\in [4000,6000]\\ \\text{kWh}$, $g_m=0.6\\,\\text{kg\\,CO}_2/\\text{kWh}$, $\\eta_r=0.3$, $B=2000\\,\\text{kg\\,CO}_2$.\n- Case $2$ (clean grid): $U=30000\\ \\text{kWh}$, $g \\in [0.02,0.08]\\,\\text{kg\\,CO}_2/\\text{kWh}$, $M \\in [4000,6000]\\ \\text{kWh}$, $g_m=0.6\\,\\text{kg\\,CO}_2/\\text{kWh}$, $\\eta_r=0.3$, $B=2000\\,\\text{kg\\,CO}_2$.\n- Case $3$ (dirty grid and low manufacturing energy): $U=30000\\ \\text{kWh}$, $g \\in [0.6,0.9]\\,\\text{kg\\,CO}_2/\\text{kWh}$, $M \\in [2000,3000]\\ \\text{kWh}$, $g_m=0.6\\,\\text{kg\\,CO}_2/\\text{kWh}$, $\\eta_r=0.3$, $B=2000\\,\\text{kg\\,CO}_2$.\n- Case $4$ (high manufacturing uncertainty, weak circular economy integration): $U=30000\\ \\text{kWh}$, $g \\in [0.2,0.4]\\,\\text{kg\\,CO}_2/\\text{kWh}$, $M \\in [2000,20000]\\ \\text{kWh}$, $g_m=0.6\\,\\text{kg\\,CO}_2/\\text{kWh}$, $\\eta_r=0.1$, $B=2000\\,\\text{kg\\,CO}_2$.\n- Case $5$ (grid fixed, manufacturing uncertain): $U=30000\\ \\text{kWh}$, $g \\in [0.4,0.4]\\,\\text{kg\\,CO}_2/\\text{kWh}$, $M \\in [4000,6000]\\ \\text{kWh}$, $g_m=0.6\\,\\text{kg\\,CO}_2/\\text{kWh}$, $\\eta_r=0.3$, $B=2000\\,\\text{kg\\,CO}_2$.\n- Case $6$ (manufacturing fixed, grid uncertain): $U=30000\\ \\text{kWh}$, $g \\in [0.2,0.8]\\,\\text{kg\\,CO}_2/\\text{kWh}$, $M \\in [5000,5000]\\ \\text{kWh}$, $g_m=0.6\\,\\text{kg\\,CO}_2/\\text{kWh}$, $\\eta_r=0.3$, $B=2000\\,\\text{kg\\,CO}_2$.\n\nFor each case, let the program compute $S_g$ and $S_M$, and determine a boolean indicator $\\mathrm{grid\\_more}$ equal to $\\mathrm{True}$ if $S_g  S_M$ and $\\mathrm{False}$ otherwise.\n\nFinal output format requirement: Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, where each test case’s result is itself a list of the form $[S_g,S_M,\\mathrm{grid\\_more}]$. For example, the output should look like $[[0.1,0.9,\\mathrm{False}],[\\dots]]$. All floats in the output must be rounded to six decimal places. No units should be printed in the output; indices are dimensionless.",
            "solution": "The problem is scientifically and mathematically well-posed. All required data and definitions are provided, the context is grounded in established methods of life cycle assessment and global sensitivity analysis, and the task is to derive and apply analytical formulas, which is a standard procedure in quantitative modeling. The problem is therefore deemed valid and a solution will be provided.\n\nThe objective is to derive closed-form expressions for the first-order Sobol indices, $S_g$ and $S_M$, for the life cycle assessment model output $Y = f(g, M)$. The model is given by:\n$$\nY = g\\,U + g_m\\,M\\,(1-\\eta_r) + B\n$$\nHere, $g$ and $M$ are independent random variables, and $U$, $g_m$, $\\eta_r$, and $B$ are constants. For notational convenience, let $C_g = U$ and $C_M = g_m(1-\\eta_r)$. The model can be written as:\n$$\nY = C_g g + C_M M + B\n$$\nThis is a linear additive model in its uncertain inputs $g$ and $M$.\n\nThe first-order Sobol index for an input $X_i$ is defined as $S_i = V_i / \\mathrm{Var}(Y)$, where $V_i = \\mathrm{Var}(\\mathbb{E}[Y | X_i])$ is the first-order partial variance associated with $X_i$.\n\nFirst, we compute the total variance of the output, $\\mathrm{Var}(Y)$. Since $g$ and $M$ are independent, and $C_g$, $C_M$, and $B$ are constants, we have:\n$$\n\\mathrm{Var}(Y) = \\mathrm{Var}(C_g g + C_M M + B)\n$$\nUsing the properties of variance, $\\mathrm{Var}(A+B) = \\mathrm{Var}(A) + \\mathrm{Var}(B)$ for independent $A, B$, and $\\mathrm{Var}(aX+b) = a^2\\mathrm{Var}(X)$ for constant $a, b$, we get:\n$$\n\\mathrm{Var}(Y) = \\mathrm{Var}(C_g g) + \\mathrm{Var}(C_M M) = C_g^2 \\mathrm{Var}(g) + C_M^2 \\mathrm{Var}(M)\n$$\nThe inputs $g$ and $M$ follow continuous uniform distributions, $g \\sim \\mathcal{U}(g_a, g_b)$ and $M \\sim \\mathcal{U}(M_a, M_b)$. The variance of a uniform distribution $\\mathcal{U}(a,b)$ is $\\frac{(b-a)^2}{12}$. Therefore:\n$$\n\\mathrm{Var}(g) = \\frac{(g_b - g_a)^2}{12}\n$$\n$$\n\\mathrm{Var}(M) = \\frac{(M_b - M_a)^2}{12}\n$$\nSubstituting these into the expression for $\\mathrm{Var}(Y)$:\n$$\n\\mathrm{Var}(Y) = C_g^2 \\frac{(g_b - g_a)^2}{12} + C_M^2 \\frac{(M_b - M_a)^2}{12}\n$$\n\nNext, we derive the partial variance for $g$, $V_g = \\mathrm{Var}(\\mathbb{E}[Y | g])$. We first find the conditional expectation of $Y$ given $g$.\n$$\n\\mathbb{E}[Y | g] = \\mathbb{E}[C_g g + C_M M + B | g]\n$$\nBy linearity of expectation and treating $g$ as a constant within the expectation:\n$$\n\\mathbb{E}[Y | g] = C_g g + C_M \\mathbb{E}[M | g] + B\n$$\nSince $g$ and $M$ are independent, $\\mathbb{E}[M | g] = \\mathbb{E}[M]$. The term $\\mathbb{E}[M]$ is a constant. Thus:\n$$\n\\mathbb{E}[Y | g] = C_g g + C_M \\mathbb{E}[M] + B\n$$\nNow, we take the variance of this expression with respect to $g$:\n$$\nV_g = \\mathrm{Var}(\\mathbb{E}[Y | g]) = \\mathrm{Var}(C_g g + C_M \\mathbb{E}[M] + B)\n$$\nSince $C_M \\mathbb{E}[M]$ and $B$ are constants, they do not contribute to the variance:\n$$\nV_g = \\mathrm{Var}(C_g g) = C_g^2 \\mathrm{Var}(g) = C_g^2 \\frac{(g_b - g_a)^2}{12}\n$$\n\nSimilarly, we derive the partial variance for $M$, $V_M = \\mathrm{Var}(\\mathbb{E}[Y | M])$.\n$$\n\\mathbb{E}[Y | M] = \\mathbb{E}[C_g g + C_M M + B | M] = C_g \\mathbb{E}[g | M] + C_M M + B\n$$\nDue to independence, $\\mathbb{E}[g | M] = \\mathbb{E}[g]$, which is a constant.\n$$\n\\mathbb{E}[Y | M] = C_g \\mathbb{E}[g] + C_M M + B\n$$\nTaking the variance with respect to $M$:\n$$\nV_M = \\mathrm{Var}(\\mathbb{E}[Y | M]) = \\mathrm{Var}(C_g \\mathbb{E}[g] + C_M M + B) = \\mathrm{Var}(C_M M) = C_M^2 \\mathrm{Var}(M) = C_M^2 \\frac{(M_b - M_a)^2}{12}\n$$\n\nNow we can formulate the Sobol indices.\nFor $g$, the first-order index $S_g$ is:\n$$\nS_g = \\frac{V_g}{\\mathrm{Var}(Y)} = \\frac{C_g^2 \\mathrm{Var}(g)}{C_g^2 \\mathrm{Var}(g) + C_M^2 \\mathrm{Var}(M)} = \\frac{C_g^2 \\frac{(g_b-g_a)^2}{12}}{C_g^2 \\frac{(g_b-g_a)^2}{12} + C_M^2 \\frac{(M_b-M_a)^2}{12}}\n$$\nCanceling the common factor of $1/12$ and substituting back $C_g = U$ and $C_M = g_m(1-\\eta_r)$:\n$$\nS_g = \\frac{U^2(g_b-g_a)^2}{U^2(g_b-g_a)^2 + (g_m(1-\\eta_r))^2(M_b-M_a)^2}\n$$\nFor $M$, the first-order index $S_M$ is:\n$$\nS_M = \\frac{V_M}{\\mathrm{Var}(Y)} = \\frac{C_M^2 \\mathrm{Var}(M)}{C_g^2 \\mathrm{Var}(g) + C_M^2 \\mathrm{Var}(M)} = \\frac{C_M^2 \\frac{(M_b-M_a)^2}{12}}{C_g^2 \\frac{(g_b-g_a)^2}{12} + C_M^2 \\frac{(M_b-M_a)^2}{12}}\n$$\nSimilarly simplifying and substituting:\n$$\nS_M = \\frac{(g_m(1-\\eta_r))^2(M_b-M_a)^2}{U^2(g_b-g_a)^2 + (g_m(1-\\eta_r))^2(M_b-M_a)^2}\n$$\nThese are the final closed-form expressions implemented in the program. Note that for this purely additive model, $V_g + V_M = \\mathrm{Var}(Y)$, so $S_g + S_M = 1$ and all higher-order and interaction Sobol indices are zero. The constant term $B$ does not affect the variance and thus has no influence on the Sobol indices.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes first-order Sobol indices for a linear LCA model\n    and determines which input parameter contributes more to the output variance.\n    \"\"\"\n    \n    # Test suite from the problem statement. B is ignored as it's an additive constant.\n    # Format: (U, (g_a, g_b), (M_a, M_b), g_m, eta_r)\n    test_cases = [\n        # Case 1 (baseline)\n        (30000, (0.2, 0.8), (4000, 6000), 0.6, 0.3),\n        # Case 2 (clean grid)\n        (30000, (0.02, 0.08), (4000, 6000), 0.6, 0.3),\n        # Case 3 (dirty grid and low manufacturing energy)\n        (30000, (0.6, 0.9), (2000, 3000), 0.6, 0.3),\n        # Case 4 (high manufacturing uncertainty, weak circular economy)\n        (30000, (0.2, 0.4), (2000, 20000), 0.6, 0.1),\n        # Case 5 (grid fixed, manufacturing uncertain)\n        (30000, (0.4, 0.4), (4000, 6000), 0.6, 0.3),\n        # Case 6 (manufacturing fixed, grid uncertain)\n        (30000, (0.2, 0.8), (5000, 5000), 0.6, 0.3),\n    ]\n\n    results = []\n    \n    for case in test_cases:\n        U, g_range, M_range, g_m, eta_r = case\n        g_a, g_b = g_range\n        M_a, M_b = M_range\n\n        # The closed-form expressions for Sobol indices S_g and S_M are\n        # derived from the variance decomposition of the output Y.\n        # Y = g*U + g_m*M*(1-eta_r) + B\n        # Let's denote the two terms contributing to variance as T_g and T_M.\n        # These terms are proportional to the partial variances. The factor 1/12\n        # from the uniform distribution variance formula cancels out.\n        \n        # Term related to grid carbon intensity (g)\n        # T_g = U^2 * (g_b - g_a)^2\n        term_g = U**2 * (g_b - g_a)**2\n        \n        # Term related to manufacturing energy (M)\n        # T_M = (g_m * (1 - eta_r))^2 * (M_b - M_a)^2\n        term_m = (g_m * (1 - eta_r))**2 * (M_b - M_a)**2\n        \n        # The total variance is proportional to the sum of these terms\n        total_term = term_g + term_m\n        \n        # Calculate Sobol indices\n        # S_g = T_g / (T_g + T_M)\n        # S_M = T_M / (T_g + T_M)\n        \n        if total_term == 0:\n            # This case occurs if both inputs are fixed (no uncertainty).\n            # The total variance is 0, and Sobol indices are ill-defined (0/0).\n            # A common convention is to set them to 0.\n            S_g = 0.0\n            S_M = 0.0\n        else:\n            S_g = term_g / total_term\n            S_M = term_m / total_term\n            \n        # Determine if grid uncertainty contribution is larger than manufacturing's\n        grid_more = S_g  S_M\n        \n        results.append([S_g, S_M, grid_more])\n\n    # Format the output as a string according to the problem specification.\n    # Example: [[0.100000,0.900000,False],[...]]\n    output_parts = []\n    for res in results:\n        s_g_val, s_m_val, grid_more_val = res\n        # Format floats to 6 decimal places and convert boolean to its string representation\n        part = f\"[{s_g_val:.6f},{s_m_val:.6f},{grid_more_val}]\"\n        output_parts.append(part)\n    \n    final_output_string = f\"[{','.join(output_parts)}]\"\n    \n    print(final_output_string)\n\nsolve()\n```"
        }
    ]
}