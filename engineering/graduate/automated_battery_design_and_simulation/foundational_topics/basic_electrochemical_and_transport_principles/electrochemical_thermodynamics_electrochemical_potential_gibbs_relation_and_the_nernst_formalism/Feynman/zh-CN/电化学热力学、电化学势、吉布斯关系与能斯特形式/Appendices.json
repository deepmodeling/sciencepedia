{
    "hands_on_practices": [
        {
            "introduction": "本次练习将我们关于电化学热力学的理论讨论，应用于电池科学中的一个核心计算。您将从电化学势相等的基本原理出发，推导出锂金属电极的平衡电势，然后使用一个假设的实验测量值来计算过电势 (overpotential)——这是衡量电化学反应动力学障碍和能量损失的关键指标 。这项练习旨在强化热力学平衡态（由能斯特方程描述）与驱动电化学过程的非平衡态之间的联系。",
            "id": "3924881",
            "problem": "一个自动化的电池设计与仿真框架正在校准锂金属负极在含有六氟磷酸锂（$\\text{LiPF}_{6}$）的碳酸酯溶剂中的锂沉积和剥离动力学及成核过程。该框架测量的金属|电解质边界上的界面电势降为 $\\phi_{\\text{metal}}-\\phi_{\\text{electrolyte}}$。对于半反应 $\\text{Li}^{+} + e^{-} \\rightarrow \\text{Li(s)}$，假设以下基于物理的模型假设：\n- 平衡界面电势由电化学势相等以及电解质中 $\\text{Li}^{+}$ 的热力学活度决定，固态锂相的活度取为1。\n- 摩尔活度是相对于标准态浓度 $c^{\\circ}=1\\ \\text{M}$ 定义的，电解质活度模型为 $a_{\\text{Li}^{+}}=\\gamma c$，其中 $c$ 是相对于 $c^{\\circ}$ 的无量纲浓度。\n- 对于 $\\text{Li}^{+}/\\text{Li}$ 电对，标准电势为 $E^{\\circ}=0\\ \\text{V}$（根据此参考反应的惯例）。\n\n在温度 $T=298\\ \\text{K}$ 的受控测量中，一个 $1\\ \\text{M}$ 的 $\\text{LiPF}_{6}$ 电解质表现出活度系数 $\\gamma=1.3$，测得的界面电势降为 $\\phi_{\\text{metal}}-\\phi_{\\text{electrolyte}}=20\\ \\text{mV}$。从化学势、电化学势和活度的基本定义出发，推导以 $\\text{Li}^{+}$ 活度表示的平衡界面电势，然后计算锂沉积的过电势 $\\eta$，其定义为实际界面电势降与平衡界面电势之差，即 $\\eta=\\left(\\phi_{\\text{metal}}-\\phi_{\\text{electrolyte}}\\right)-E_{\\text{eq}}$。将计算出的 $\\eta$ 视为包含任何成核贡献的总过电势。最终答案以伏特为单位，并四舍五入至四位有效数字。",
            "solution": "必须首先确定问题陈述的有效性。\n\n**步骤 1：提取已知条件**\n- 半反应：$\\text{Li}^{+} + e^{-} \\rightarrow \\text{Li(s)}$\n- 测得的界面电势降：$\\phi_{\\text{metal}}-\\phi_{\\text{electrolyte}} = 20\\ \\text{mV}$\n- 平衡条件：由电化学势相等定义。\n- 固态锂相活度：$a_{\\text{Li(s)}} = 1$\n- 锂离子活度：$a_{\\text{Li}^{+}}=\\gamma c$，其中 $c$ 是相对于 $c^{\\circ}=1\\ \\text{M}$ 的无量纲浓度。\n- 标准电势：对于 $\\text{Li}^{+}/\\text{Li}$ 电对，$E^{\\circ}=0\\ \\text{V}$。\n- 温度：$T=298\\ \\text{K}$。\n- 电解质浓度：$1\\ \\text{M}$，因此 $c=1$。\n- 活度系数：$\\gamma=1.3$。\n- 过电势的定义：$\\eta = \\left(\\phi_{\\text{metal}}-\\phi_{\\text{electrolyte}}\\right)-E_{\\text{eq}}$。\n- 所需常数：普适气体常数 $R$ 和法拉第常数 $F$。\n\n**步骤 2：使用提取的已知条件进行验证**\n该问题具有科学依据，依赖于热力学和电化学的基本原理，即使用化学势和电化学势的概念来定义平衡（能斯特方程）和过电势。所提供的温度、浓度、活度系数和测量电势值对于电化学实验是物理上现实的。该问题提法得当；它提供了充分且一致的数据和定义，以计算过电势 η 的唯一值。语言客观而精确。尽管问题标题提到了“锂沉积”，且提供的数据对应于阳极过电势（驱动剥离），但要计算的过电势的定义已明确给出为 $\\eta = E_{\\text{实际}} - E_{\\text{平衡}}$。这个定义是通用的。该计算是针对极化曲线上的一个特定点，所得 $\\eta$ 的符号正确地指示了热力学驱动力的方向。因此，不存在使问题无效的根本性矛盾。该问题被认为是有效的。\n\n**步骤 3：结论与行动**\n问题有效。将提供完整解答。\n\n问题的核心是计算过电势 $\\eta$，这需要计算平衡电势 $E_{\\text{eq}}$。问题要求此推导从基本原理开始。\n\n物种 $i$ 的电化学势 $\\bar{\\mu}_i$ 定义为其化学势 $\\mu_i$ 和其电势能之和：\n$$\n\\bar{\\mu}_i = \\mu_i + z_i F \\phi\n$$\n其中 $z_i$ 是物种 $i$ 的电荷数， $F$ 是法拉第常数，$\\phi$ 是局部电势。化学势由下式给出：\n$$\n\\mu_i = \\mu_i^{\\circ} + RT \\ln a_i\n$$\n其中 $\\mu_i^{\\circ}$ 是标准化学势， $R$ 是普适气体常数， $T$ 是绝对温度， $a_i$ 是物种的活度。\n\n半反应是 $\\text{Li}^{+} + e^{-} \\rightleftharpoons \\text{Li(s)}$。在平衡状态下，反应物的电化学势之和等于产物的电化学势。反应物 $\\text{Li}^{+}$ 和 $e^{-}$ 分别存在于电解质相和金属相中。产物 $\\text{Li(s)}$ 是固态金属相。\n$$\n\\bar{\\mu}_{\\text{Li}^{+},\\text{elec}} + \\bar{\\mu}_{e^{-},\\text{metal}} = \\bar{\\mu}_{\\text{Li(s)},\\text{solid}}\n$$\n代入电化学势和化学势的定义：\n$$\n(\\mu_{\\text{Li}^{+}}^{\\circ} + RT \\ln a_{\\text{Li}^{+}} + (1)F\\phi_{\\text{electrolyte}}) + (\\mu_{e^{-}}^{\\circ} - (1)F\\phi_{\\text{metal}}) = (\\mu_{\\text{Li(s)}}^{\\circ} + RT \\ln a_{\\text{Li(s)}})\n$$\n平衡界面电势降为 $E_{\\text{eq}} = \\phi_{\\text{metal}} - \\phi_{\\text{electrolyte}}$。重新整理方程以求解该差值：\n$$\nF(\\phi_{\\text{metal}} - \\phi_{\\text{electrolyte}}) = (\\mu_{\\text{Li}^{+}}^{\\circ} + \\mu_{e^{-}}^{\\circ} - \\mu_{\\text{Li(s)}}^{\\circ}) + RT \\ln\\left(\\frac{a_{\\text{Li}^{+}}}{a_{\\text{Li(s)}}}\\right)\n$$\n$(\\mu_{\\text{Li}^{+}}^{\\circ} + \\mu_{e^{-}}^{\\circ} - \\mu_{\\text{Li(s)}}^{\\circ})$ 项与反应的标准吉布斯自由能 $\\Delta G^{\\circ} = \\mu_{\\text{Li(s)}}^{\\circ} - \\mu_{\\text{Li}^{+}}^{\\circ} - \\mu_{e^{-}}^{\\circ}$ 相关。标准电极电势 $E^{\\circ}$ 由 $\\Delta G^{\\circ} = -nFE^{\\circ}$ 定义，对于此反应 $n=1$。因此，$(\\mu_{\\text{Li}^{+}}^{\\circ} + \\mu_{e^{-}}^{\\circ} - \\mu_{\\text{Li(s)}}^{\\circ}) = -\\Delta G^{\\circ} = F E^{\\circ}$。\n将此代入电势方程得到：\n$$\nF E_{\\text{eq}} = F E^{\\circ} + RT \\ln\\left(\\frac{a_{\\text{Li}^{+}}}{a_{\\text{Li(s)}}}\\right)\n$$\n两边除以 $F$ 得到平衡电势的能斯特方程：\n$$\nE_{\\text{eq}} = E^{\\circ} + \\frac{RT}{F} \\ln\\left(\\frac{a_{\\text{Li}^{+}}}{a_{\\text{Li(s)}}}\\right)\n$$\n现在，我们可以使用所提供的数据计算 $E_{\\text{eq}}$。\n标准电势给定为 $E^{\\circ} = 0\\ \\text{V}$。\n固态锂的活度为 $a_{\\text{Li(s)}} = 1$。\n锂离子的活度是 $a_{\\text{Li}^{+}} = \\gamma c$。当 $\\gamma=1.3$ 且 $c=1$ 时，我们得到 $a_{\\text{Li}^{+}} = 1.3$。\n温度为 $T=298\\ \\text{K}$。使用气体常数 $R \\approx 8.31446\\ \\text{J}\\cdot\\text{mol}^{-1}\\cdot\\text{K}^{-1}$ 和法拉第常数 $F \\approx 96485.33\\ \\text{C}\\cdot\\text{mol}^{-1}$ 的值，热电压项为：\n$$\n\\frac{RT}{F} = \\frac{(8.31446\\ \\text{J}\\cdot\\text{mol}^{-1}\\cdot\\text{K}^{-1})(298\\ \\text{K})}{96485.33\\ \\text{C}\\cdot\\text{mol}^{-1}} \\approx 0.02568\\ \\text{V}\n$$\n将这些值代入能斯特方程：\n$$\nE_{\\text{eq}} = 0\\ \\text{V} + (0.02568\\ \\text{V}) \\ln\\left(\\frac{1.3}{1}\\right) = (0.02568\\ \\text{V}) \\ln(1.3)\n$$\n计算 1.3 的自然对数：\n$$\n\\ln(1.3) \\approx 0.26236\n$$\n因此，平衡电势为：\n$$\nE_{\\text{eq}} \\approx (0.02568\\ \\text{V})(0.26236) \\approx 0.006737\\ \\text{V}\n$$\n问题将过电势 $\\eta$ 定义为测量的界面电势降（我们可以称之为 $E_{\\text{meas}}$）与平衡电势 $E_{\\text{eq}}$ 之差：\n$$\n\\eta = E_{\\text{meas}} - E_{\\text{eq}}\n$$\n我们已知 $E_{\\text{meas}} = \\phi_{\\text{metal}}-\\phi_{\\text{electrolyte}} = 20\\ \\text{mV} = 0.020\\ \\text{V}$。\n代入 $E_{\\text{meas}}$ 和 $E_{\\text{eq}}$ 的值：\n$$\n\\eta = 0.020\\ \\text{V} - 0.006737\\ \\text{V} = 0.013263\\ \\text{V}\n$$\n过电势的正号 ($\\eta > 0$) 表明电极相对于其平衡状态发生了阳极极化。这意味着热力学驱动力有利于氧化反应 $\\text{Li(s)} \\rightarrow \\text{Li}^{+} + e^{-}$，即锂的剥离，而非沉积。这与测量的电势 ($20\\ \\text{mV}$) 高于平衡电势 ($\\approx 6.74\\ \\text{mV}$) 是一致的。\n\n最终答案必须以伏特为单位，并四舍五入至四位有效数字。\n$$\n\\eta \\approx 0.01326\\ \\text{V}\n$$",
            "answer": "$$\n\\boxed{0.01326}\n$$"
        },
        {
            "introduction": "在掌握了基本平衡电势的计算之后，本练习将引导您探索更真实的情境：温度和压力等环境因素如何影响电极电势。您需要从吉布斯基本关系式 $dG = -SdT + VdP$ 出发，推导出一个包含温度和压力修正项的电势模型，并将其通过编程实现 。这项实践对于开发能够在不同操作条件下精确预测电池性能的稳健仿真模型至关重要。",
            "id": "3909032",
            "problem": "考虑一个在固体基质中的单电子嵌入半反应，通常写为还原形式 $A_{\\mathrm{ox}} + e^- \\rightarrow A_{\\mathrm{red}}$，其中氧化形式 $A_{\\mathrm{ox}}$、还原形式 $A_{\\mathrm{red}}$ 和电子 $e^-$ 的活度分别表示为 $a_{\\mathrm{ox}}$、$a_{\\mathrm{red}}$ 和 $a_{e^-}$。根据惯例，在金属集流体中假设 $a_{e^-} = 1$。设每摩尔反应转移的电子数为 $n$，Faraday 常数为 $F$，普适气体常数为 $R$。\n\n目标是从第一性原理出发，仅从基本关系和定义开始，推导并实现平衡半电池电势 $E(T,P,\\{a_i\\})$ 作为温度 $T$、压力 $P$ 和参与物种活度 $\\{a_i\\}$ 的函数。使用国际单位制（SI）。最终的数值输出必须以伏特为单位。\n\n您必须从以下几点出发：\n- 封闭系统的 Gibbs 基本关系式，$dG = -S\\,dT + V\\,dP + \\sum_i \\mu_i\\,dn_i$，其中 $G$ 是 Gibbs 自由能，$S$ 是熵，$V$ 是体积，$\\mu_i$ 是物种 $i$ 的化学势，$n_i$ 是其物质的量。\n- 化学势以活度表示的定义，$\\mu_i(T,P,a_i) = \\mu_i^\\circ(T,P) + R\\,T \\ln a_i$，其中 $\\mu_i^\\circ(T,P)$ 是在温度 $T$ 和压力 $P$ 下的标准化学势。\n- 反应 Gibbs 能与化学势的化学计量加和之间的关系，$\\Delta G(T,P,\\{a_i\\}) = \\sum_i \\nu_i\\,\\mu_i(T,P,a_i)$，其中 $\\nu_i$ 是化学计量系数，符号约定为产物的 $\\nu_i$ 为正，反应物的 $\\nu_i$ 为负。\n- 平衡电动势（EMF）$E$ 的定义，通过 $\\Delta G = -n\\,F\\,E$。\n\n为在参考条件附近对温度和压力的依赖关系进行线性化，请作如下假设：\n- 在所考虑的 $T$ 和 $P$ 范围内，反应熵变 $\\Delta S$ 和反应体积变 $\\Delta V$ 是常数。\n- 标准反应 Gibbs 能仅通过 $\\Delta S$ 和 $\\Delta V$ 依赖于温度和压力，这与 Gibbs 关系式一致。\n\n在这些基础上，推导一个关于 $E(T,P,\\{a_i\\})$ 的显式表达式，该表达式用参考温度 $T_0$ 和参考压力 $P_0$ 下的 $E^\\circ(T_0,P_0)$、反应熵变 $\\Delta S$、反应体积变 $\\Delta V$ 以及通过反应商表示的活度 $\\{a_i\\}$ 来表示。然后将此表达式实现为一个程序。\n\n对该半反应使用以下参数值：\n- 参考温度 $T_0 = 298.15$ K。\n- 参考压力 $P_0 = 100000$ Pa (1 巴)。\n- 参考条件下的标准电势 $E^\\circ(T_0,P_0) = 0.400$ V。\n- 电子数 $n = 1$。\n- 反应熵变 $\\Delta S = -25$ J/mol/K。\n- 反应体积变 $\\Delta V = -5\\times 10^{-6}$ m$^3$/mol。\n- Faraday 常数 $F = 96485.33212$ C/mol。\n- 普适气体常数 $R = 8.314462618$ J/mol/K。\n- 该半反应的化学计量系数为 $\\nu_{\\mathrm{red}} = +1$、$\\nu_{\\mathrm{ox}} = -1$ 和 $\\nu_{e^-} = -1$。\n\n您必须为以下测试案例组计算电势 $E$，每个案例指定为 $(T,P,a_{\\mathrm{red}},a_{\\mathrm{ox}})$：\n- 案例 1：$(298.15, 100000, 1.0, 1.0)$。\n- 案例 2：$(350.0, 100000, 1.0, 1.0)$。\n- 案例 3：$(298.15, 200000000.0, 1.0, 1.0)$。\n- 案例 4：$(298.15, 100000.0, 0.01, 1.0)$。\n- 案例 5：$(250.0, 50000.0, 10.0, 1.0)$。\n\n每个计算出的 $E$ 必须以伏特表示，并四舍五入到 $6$ 位小数。您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表，例如 $[E_1,E_2,E_3,E_4,E_5]$，其中每个 $E_i$ 是案例 $i$ 的四舍五入后的浮点数。\n\n您的程序必须是一个完整、可运行的程序，并且不得读取任何输入。它必须实现推导出的表达式来计算每个测试案例的 $E$。通过要求所有活度都为严格正实数来确保数值稳定性。如果您使用任何对数，它们必须是自然对数。",
            "solution": "该问题是有效的，因为它科学地基于电化学热力学的既定原理，问题陈述清晰且信息充分，可得出唯一解，并且陈述客观。我们开始进行推导。\n\n目标是为单电子还原反应 $A_{\\mathrm{ox}} + e^- \\rightarrow A_{\\mathrm{red}}$ 推导平衡半电池电势 $E(T, P, \\{a_i\\})$ 的表达式。推导将从所提供的基本关系式开始。\n\n第一步：将 Gibbs 自由能与电化学电势相关联。\n\n对于可逆电化学反应，Gibbs 自由能的变化量 $\\Delta G$ 与电动势（EMF）或电势 $E$ 通过以下方程相关联：\n$$\n\\Delta G = -nFE\n$$\n此处，$n$ 是每摩尔反应转移的电子摩尔数，$F$ 是 Faraday 常数。对于给定反应，$n=1$。该方程可重新排列以表达电势 $E$：\n$$\nE = -\\frac{\\Delta G}{nF}\n$$\n\n第二步：用化学势表示 Gibbs 自由能。\n\n反应 Gibbs 能 $\\Delta G$ 也可以表示为产物和反应物的化学势 $\\mu_i$ 的总和，并由其化学计量系数 $\\nu_i$ 加权：\n$$\n\\Delta G(T,P,\\{a_i\\}) = \\sum_i \\nu_i \\mu_i(T,P,a_i)\n$$\n给定的符号约定是产物的 $\\nu_i$ 为正，反应物的 $\\nu_i$ 为负。对于反应 $A_{\\mathrm{ox}} + e^- \\rightarrow A_{\\mathrm{red}}$，物种为 $A_{\\mathrm{red}}$（产物）、$A_{\\mathrm{ox}}$（反应物）和 $e^-$（反应物）。因此，化学计量系数为 $\\nu_{\\mathrm{red}} = +1$、$\\nu_{\\mathrm{ox}} = -1$ 和 $\\nu_{e^-} = -1$。\n\n将这些系数代入求和式中得到：\n$$\n\\Delta G = (1)\\mu_{\\mathrm{red}} + (-1)\\mu_{\\mathrm{ox}} + (-1)\\mu_{e^-} = \\mu_{\\mathrm{red}} - \\mu_{\\mathrm{ox}} - \\mu_{e^-}\n$$\n每个物种的化学势 $\\mu_i$ 由其标准态化学势 $\\mu_i^\\circ$ 和其活度 $a_i$ 定义：\n$$\n\\mu_i(T,P,a_i) = \\mu_i^\\circ(T,P) + RT \\ln a_i\n$$\n其中 $R$ 是普适气体常数，$T$ 是绝对温度。将此定义代入 $\\Delta G$ 的表达式中：\n$$\n\\Delta G = (\\mu_{\\mathrm{red}}^\\circ + RT \\ln a_{\\mathrm{red}}) - (\\mu_{\\mathrm{ox}}^\\circ + RT \\ln a_{\\mathrm{ox}}) - (\\mu_{e^-}^\\circ + RT \\ln a_{e^-})\n$$\n将标准电势项和活度项分组：\n$$\n\\Delta G = (\\mu_{\\mathrm{red}}^\\circ - \\mu_{\\mathrm{ox}}^\\circ - \\mu_{e^-}^\\circ) + RT(\\ln a_{\\mathrm{red}} - \\ln a_{\\mathrm{ox}} - \\ln a_{e^-})\n$$\n第一项是标准反应 Gibbs 能，$\\Delta G^\\circ(T,P) = \\sum_i \\nu_i \\mu_i^\\circ$。第二项可利用对数性质 $\\ln x - \\ln y = \\ln(x/y)$ 进行书写：\n$$\n\\Delta G = \\Delta G^\\circ(T,P) + RT \\ln \\left( \\frac{a_{\\mathrm{red}}}{a_{\\mathrm{ox}}a_{e^-}} \\right)\n$$\n问题陈述中假设 $a_{e^-} = 1$。因此表达式变为：\n$$\n\\Delta G = \\Delta G^\\circ(T,P) + RT \\ln \\left( \\frac{a_{\\mathrm{red}}}{a_{\\mathrm{ox}}} \\right)\n$$\n代入 $\\Delta G = -nFE$ 和 $\\Delta G^\\circ = -nFE^\\circ$：\n$$\n-nFE = -nFE^\\circ(T,P) + RT \\ln \\left( \\frac{a_{\\mathrm{red}}}{a_{\\mathrm{ox}}} \\right)\n$$\n两边同除以 $-nF$ 得到 Nernst 方程：\n$$\nE = E^\\circ(T,P) - \\frac{RT}{nF} \\ln \\left( \\frac{a_{\\mathrm{red}}}{a_{\\mathrm{ox}}} \\right)\n$$\n\n第三步：推导标准电势 $E^\\circ(T,P)$ 对温度和压力的依赖关系。\n\n系统状态变化的 Gibbs 基本关系式为 $dG = -S\\,dT + V\\,dP$。对于一个反应，可以写出 Gibbs 能变化的表达式 $d(\\Delta G) = -\\Delta S\\,dT + \\Delta V\\,dP$，其中 $\\Delta S$ 是反应熵变，$\\Delta V$ 是反应体积变。该关系式对标准态量也成立：\n$$\nd(\\Delta G^\\circ) = -\\Delta S^\\circ \\,dT + \\Delta V^\\circ \\,dP\n$$\n问题陈述中假设在所考虑的温度 $T$ 和压力 $P$ 范围内，反应熵变 $\\Delta S$ 和反应体积变 $\\Delta V$ 为常数。因此我们近似认为 $\\Delta S^\\circ \\approx \\Delta S$ 和 $\\Delta V^\\circ \\approx \\Delta V$。\n为了求出在一般状态 $(T, P)$ 下的 $\\Delta G^\\circ$，我们从参考状态 $(T_0, P_0)$ 到 $(T, P)$ 对该微分形式进行积分：\n$$\n\\int_{\\Delta G^\\circ(T_0, P_0)}^{\\Delta G^\\circ(T, P)} d(\\Delta G^\\circ) = \\int_{T_0}^T -\\Delta S \\,dT + \\int_{P_0}^P \\Delta V \\,dP\n$$\n$$\n\\Delta G^\\circ(T, P) - \\Delta G^\\circ(T_0, P_0) = -\\Delta S (T - T_0) + \\Delta V (P - P_0)\n$$\n因此，在 $(T, P)$ 下的标准反应 Gibbs 能为：\n$$\n\\Delta G^\\circ(T, P) = \\Delta G^\\circ(T_0, P_0) - \\Delta S (T - T_0) + \\Delta V (P - P_0)\n$$\n现在，代入 $\\Delta G^\\circ = -nFE^\\circ$：\n$$\n-nFE^\\circ(T, P) = -nFE^\\circ(T_0, P_0) - \\Delta S (T - T_0) + \\Delta V (P - P_0)\n$$\n两边同除以 $-nF$ 得到标准电势 $E^\\circ(T,P)$ 的表达式：\n$$\nE^\\circ(T, P) = E^\\circ(T_0, P_0) + \\frac{\\Delta S}{nF}(T - T_0) - \\frac{\\Delta V}{nF}(P - P_0)\n$$\n\n第四步：构建最终表达式。\n\n将第三步中得到的 $E^\\circ(T, P)$ 表达式代入第二步中的 Nernst 方程，我们得到半电池电势 $E(T, P, a_{\\mathrm{red}}, a_{\\mathrm{ox}})$ 的完整表达式：\n$$\nE(T, P, a_{\\mathrm{red}}, a_{\\mathrm{ox}}) = \\left[ E^\\circ(T_0, P_0) + \\frac{\\Delta S}{nF}(T - T_0) - \\frac{\\Delta V}{nF}(P - P_0) \\right] - \\frac{RT}{nF} \\ln \\left( \\frac{a_{\\mathrm{red}}}{a_{\\mathrm{ox}}} \\right)\n$$\n这个最终方程在程序中实现。给定参数：\n$T_0 = 298.15$ K, $P_0 = 100000$ Pa, $E^\\circ(T_0,P_0) = 0.400$ V, $n = 1$, $\\Delta S = -25$ J/mol/K, $\\Delta V = -5 \\times 10^{-6}$ m$^3$/mol, $F = 96485.33212$ C/mol, $R = 8.314462618$ J/mol/K。\n\n算法将是该公式的直接实现：\n1.  定义所有常数和参考参数。\n2.  对于每个测试案例 $(T, P, a_{\\mathrm{red}}, a_{\\mathrm{ox}})$，计算三个主要组成部分：\n    a. 参考电势 $E^\\circ(T_0, P_0)$。\n    b. 标准电势的温度和压力修正项：$\\frac{\\Delta S}{nF}(T - T_0)$ 和 $-\\frac{\\Delta V}{nF}(P - P_0)$。\n    c. 依赖于活度的 Nernst 项：$-\\frac{RT}{nF} \\ln \\left( \\frac{a_{\\mathrm{red}}}{a_{\\mathrm{ox}}} \\right)$。\n3.  将这些部分相加得到总电势 $E$。\n4.  将结果四舍五入到 $6$ 位小数并存储。\n5.  处理完所有测试案例后，按规定格式化结果列表。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Derives and computes the equilibrium half-cell potential E based on\n    electrochemical thermodynamics principles.\n    \"\"\"\n    \n    # Define constants and parameters based on the problem statement.\n    T0 = 298.15           # Reference temperature in K\n    P0 = 100000.0         # Reference pressure in Pa\n    E0_ref = 0.400        # Standard potential at reference conditions in V\n    N = 1.0               # Number of electrons transferred\n    DELTA_S = -25.0       # Reaction entropy change in J/mol/K\n    DELTA_V = -5.0e-6     # Reaction volume change in m^3/mol\n    F = 96485.33212       # Faraday constant in C/mol\n    R = 8.314462618       # Universal gas constant in J/mol/K\n\n    def calculate_potential(T, P, a_red, a_ox):\n        \"\"\"\n        Calculates the half-cell potential E(T, P, {a_i}) using the derived formula.\n\n        The formula is:\n        E = [ E°(T0,P0) + (ΔS/nF)*(T-T0) - (ΔV/nF)*(P-P0) ] - (RT/nF)*ln(a_red/a_ox)\n        \"\"\"\n        \n        # Calculate the temperature correction for the standard potential\n        temp_correction = (DELTA_S / (N * F)) * (T - T0)\n        \n        # Calculate the pressure correction for the standard potential\n        pressure_correction = - (DELTA_V / (N * F)) * (P - P0)\n        \n        # Calculate the standard potential at the given T and P\n        E_std_TP = E0_ref + temp_correction + pressure_correction\n        \n        # Calculate the Nernst term (activity correction)\n        # np.log is the natural logarithm.\n        activity_term = - (R * T / (N * F)) * np.log(a_red / a_ox)\n        \n        # The total potential is the sum of the standard part and the activity part\n        E_total = E_std_TP + activity_term\n        \n        return E_total\n\n    # Define the test cases from the problem statement.\n    # Each case is a tuple: (T in K, P in Pa, a_red, a_ox)\n    test_cases = [\n        (298.15, 100000.0, 1.0, 1.0),\n        (350.0, 100000.0, 1.0, 1.0),\n        (298.15, 200000000.0, 1.0, 1.0),\n        (298.15, 100000.0, 0.01, 1.0),\n        (250.0, 50000.0, 10.0, 1.0)\n    ]\n\n    results = []\n    for case in test_cases:\n        T, P, a_red, a_ox = case\n        \n        # Ensure activities are strictly positive as required\n        if a_red == 0 or a_ox == 0:\n            raise ValueError(\"Activities must be strictly positive real numbers.\")\n\n        # Calculate the potential for the current case\n        potential = calculate_potential(T, P, a_red, a_ox)\n        \n        # Round the result to 6 decimal places and add to the list\n        results.append(np.round(potential, 6))\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "本项压轴实践将介绍一种在高级地球化学和电化学建模中广泛应用的强大技术：将电子视为一种形式上的化学组分。通过基于系统的氧化还原电位 ($Eh$) 定义电子活度，我们可以优雅地求解复杂氧化还原体系中各物种的平衡分布 。您将把此方法应用于经典的铁氧化还原电对，通过编程来演示如何隐式地强制执行电子平衡，并预测不同氧化还原环境下的化学物种形态。",
            "id": "4069289",
            "problem": "您被要求设计并实现一种算法，通过将电子正式引入作为一种基底物种，并推导明确包含电子反应的质量作用方程，从而在水相氧化还原形态分析中强制实现电子平衡。这项工作必须从基本的热力学定义出发，进而形成一种适用于平衡计算的实用计算方法。该算法应应用于一个以铁氧化还原电对为特征的、简单且科学上合理的含水体系，最终程序必须计算在指定的氧化还原电位条件下的平衡形态。\n\n基础出发点是以下这套公认的定律和定义：\n- 物种 $i$ 的化学势为 $\\mu_i = \\mu_i^\\circ + RT \\ln a_i$，其中 $\\mu_i^\\circ$ 是标准化学势，$R$ 是普适气体常数，$T$ 是绝对温度，$a_i$ 是物种 $i$ 的活度。\n- 对于一个化学计量系数为 $\\nu_i$ 的反应，当化学计量系数乘以化学势的总和为零时，即 $\\sum_i \\nu_i \\mu_i = 0$，反应达到平衡。\n- 在温度 $T$ 下，一个反应的平衡常数 $K$ 为 $K = \\exp\\left(-\\Delta G^\\circ / RT\\right)$，其中 $\\Delta G^\\circ$ 是反应的标准吉布斯自由能变。对于一个涉及 $n$ 个电子且标准电位为 $E^\\circ$ 的电化学半反应，$\\Delta G^\\circ = -n F E^\\circ$，其中 $F$ 是法拉第常数。\n- 氧化还原电位（Eh）通过 $pe = -\\log_{10}(a_e)$ 和 $Eh = \\left(\\frac{RT}{F}\\right) \\ln(10) \\cdot pe$ 与形式电子活度相关联。这些关系定义了与所施加的 $Eh$ 一致的形式电子物种活度 $a_e$。\n\n基于以上这些，您必须推导出包含电子物种的铁氧化还原电对的质量作用方程，并构建一个算法，该算法通过将电子视为一个化学势受给定 $Eh$ 约束的形式基底物种来强制实现电子平衡。所考虑的体系是含铁水溶液，其反应按还原方向写为：\n$$\\mathrm{Fe^{3+}} + e^- \\rightleftharpoons \\mathrm{Fe^{2+}}.$$\n假设为理想行为，因此活度约等于质量摩尔浓度，$a_i \\approx m_i$，并且为本练习之目的，忽略络合与水解。设温度 $T = 298.15\\,\\mathrm{K}$，法拉第常数 $F = 96485.33212\\,\\mathrm{C\\,mol^{-1}}$，普适气体常数 $R = 8.314462618\\,\\mathrm{J\\,mol^{-1}\\,K^{-1}}$，以及 $\\mathrm{Fe^{3+}}/\\mathrm{Fe^{2+}}$ 电对的标准电位 $E^\\circ = 0.771\\,\\mathrm{V}$（相对于一个常规电极，以便所提供的 $Eh$ 值可以直接比较）。所有 $Eh$ 值将以伏特为单位提供，并且必须按此处理。\n\n您的算法必须：\n- 从基本定义出发，推导出包含电子活度的铁电对的质量作用定律关系。\n- 将电子作为一个形式组分引入，其化学势由给定的 $Eh$ 根据上述关系固定，从而通过反应化学计量和施加的电子化学势来隐式地强制实现电子平衡。清楚地说明电子在反应中如何出现和消失，以及为什么它的总量不是一个守恒的质量平衡变量，但其电位却被强制执行。\n- 使用总溶解铁约束 $C_T = m_{\\mathrm{Fe^{2+}}} + m_{\\mathrm{Fe^{3+}}}$ 来封闭系统并计算物种分布。\n\n实现要求：\n- 温度 $T$ 必须以 $\\mathrm{K}$ 为单位，氧化还原电位 $Eh$ 以 $\\mathrm{V}$ 为单位，所有计算出的质量摩尔浓度以 $\\mathrm{mol\\,kg^{-1}}$ 为单位。所要求的输出是无量纲的摩尔分数，因此输出不需要单位。\n- 假设活度是理想的，并按 $a_i = m_i$ 处理。\n- 使用上面提供的常数 $R$、$T$、$F$ 和 $E^\\circ$。\n- 为了数值稳定性，您可以在适当的地方使用对数，但请确保您的最终输出在数值上是双精度正确的。\n\n测试套件与输出：\n- 使用以下参数集测试套件，每个参数集由 $(Eh, C_T)$ 定义，其中 $Eh$ 以伏特为单位，$C_T$ 是总溶解铁浓度，单位为 $\\mathrm{mol\\,kg^{-1}}$：\n    1. $(0.771, 1.0\\times 10^{-3})$ 作为参考条件。\n    2. $(1.000, 1.0\\times 10^{-3})$ 作为强氧化条件。\n    3. $(0.000, 1.0\\times 10^{-3})$ 作为还原条件。\n    4. $(-0.500, 1.0\\times 10^{-3})$ 作为极端还原边界情况。\n\n您的程序必须为每个测试用例计算 $\\mathrm{Fe^{2+}}$ 的平衡摩尔分数，定义为 $x_{\\mathrm{Fe^{2+}}} = \\frac{m_{\\mathrm{Fe^{2+}}}}{m_{\\mathrm{Fe^{2+}}} + m_{\\mathrm{Fe^{3+}}}}$，并将结果按上述顺序输出为包含在方括号中的单行逗号分隔列表（例如，$[r_1,r_2,r_3,r_4]$）。每个 $r_i$ 必须是一个浮点数。",
            "solution": "我们从化学势的基本热力学定义开始。物种 $i$ 的化学势由 $\\mu_i = \\mu_i^\\circ + RT \\ln a_i$ 给出，其中 $\\mu_i^\\circ$ 是标准化学势，$R$ 是普适气体常数，$T$ 是温度，$a_i$ 是物种 $i$ 的活度。对于一个具有化学计量系数 $\\nu_i$ 的平衡反应，平衡条件是化学计量系数加权的化学势之和为零，即 $\\sum_i \\nu_i \\mu_i = 0$。\n\n考虑以还原形式书写的含水铁氧化还原电对：\n$$\\mathrm{Fe^{3+}} + e^- \\rightleftharpoons \\mathrm{Fe^{2+}}.$$\n设化学计量系数为 $\\nu_{\\mathrm{Fe^{3+}}} = -1$，$\\nu_{e^-} = -1$，以及 $\\nu_{\\mathrm{Fe^{2+}}} = +1$，使用反应物具有负化学计量系数而产物具有正化学计量系数的约定。平衡条件可写为\n$$\\nu_{\\mathrm{Fe^{3+}}} \\mu_{\\mathrm{Fe^{3+}}} + \\nu_{e^-} \\mu_{e^-} + \\nu_{\\mathrm{Fe^{2+}}} \\mu_{\\mathrm{Fe^{2+}}} = 0,$$\n即\n$$-\\mu_{\\mathrm{Fe^{3+}}} - \\mu_{e^-} + \\mu_{\\mathrm{Fe^{2+}}} = 0.$$\n代入 $\\mu_i = \\mu_i^\\circ + RT \\ln a_i$ 得\n$$-\\left(\\mu_{\\mathrm{Fe^{3+}}}^\\circ + RT \\ln a_{\\mathrm{Fe^{3+}}}\\right) - \\left(\\mu_{e^-}^\\circ + RT \\ln a_{e^-}\\right) + \\left(\\mu_{\\mathrm{Fe^{2+}}}^\\circ + RT \\ln a_{\\mathrm{Fe^{2+}}}\\right) = 0.$$\n整理后，\n$$\\left(\\mu_{\\mathrm{Fe^{2+}}}^\\circ - \\mu_{\\mathrm{Fe^{3+}}}^\\circ - \\mu_{e^-}^\\circ\\right) + RT \\left(\\ln a_{\\mathrm{Fe^{2+}}} - \\ln a_{\\mathrm{Fe^{3+}}} - \\ln a_{e^-}\\right) = 0.$$\n将此反应的标准吉布斯自由能变 $\\Delta G^\\circ$ 定义为\n$$\\Delta G^\\circ = \\mu_{\\mathrm{Fe^{2+}}}^\\circ - \\mu_{\\mathrm{Fe^{3+}}}^\\circ - \\mu_{e^-}^\\circ.$$\n则平衡条件变为\n$$\\Delta G^\\circ + RT \\ln\\left(\\frac{a_{\\mathrm{Fe^{2+}}}}{a_{\\mathrm{Fe^{3+}}} a_{e^-}}\\right) = 0,$$\n或\n$$\\ln\\left(\\frac{a_{\\mathrm{Fe^{2+}}}}{a_{\\mathrm{Fe^{3+}}} a_{e^-}}\\right) = -\\frac{\\Delta G^\\circ}{RT}.$$\n对两边取指数，\n$$\\frac{a_{\\mathrm{Fe^{2+}}}}{a_{\\mathrm{Fe^{3+}}} a_{e^-}} = \\exp\\left(-\\frac{\\Delta G^\\circ}{RT}\\right) = K.$$\n该关系式是包含电子物种的质量作用方程，写作\n$$a_{\\mathrm{Fe^{2+}}} = K \\, a_{\\mathrm{Fe^{3+}}} \\, a_{e^-}.$$\n对于一个涉及 $n$ 个电子且标准电位为 $E^\\circ$ 的电化学半反应，标准吉布斯自由能变为 $\\Delta G^\\circ = -n F E^\\circ$。在本例中，$n = 1$，得出\n$$K = \\exp\\left(-\\frac{\\Delta G^\\circ}{RT}\\right) = \\exp\\left(\\frac{F E^\\circ}{RT}\\right).$$\n\n我们现在引入形式电子物种。在氧化还原平衡计算中，电子不是一个守恒的质量平衡量，因为电子在氧化还原物种之间交换，而不会在水相中作为独立的守恒库积累。相反，我们通过外部指定的氧化还原电位 $Eh$ 来施加电子的化学势。形式电子活度 $a_{e^-}$ 受以下关系约束\n$$pe = -\\log_{10}(a_{e^-}), \\quad Eh = \\left(\\frac{RT}{F}\\right)\\ln(10)\\cdot pe.$$\n解出 $a_{e^-}$ 关于 $Eh$ 的表达式，得到\n$$pe = \\frac{Eh}{\\left(\\frac{RT}{F}\\right)\\ln(10)}, \\quad a_{e^-} = 10^{-pe}.$$\n因此，电子平衡是通过算法引入一个具有由给定 $Eh$ 固定的化学势（和活度）的电子物种来实现的，从而确保电子的化学计量一致地出现在质量作用关系中，而电子的总数不作为一个独立的守恒变量出现。因此，电子在不引入独立质量平衡方程的情况下介导了氧化还原转换。\n\n假设理想行为，即活度等于质量摩尔浓度，$a_i \\approx m_i$，并定义总溶解铁为\n$$C_T = m_{\\mathrm{Fe^{2+}}} + m_{\\mathrm{Fe^{3+}}},$$\n质量作用关系变为\n$$m_{\\mathrm{Fe^{2+}}} = K \\, a_{e^-} \\, m_{\\mathrm{Fe^{3+}}}.$$\n定义比率\n$$r = \\frac{m_{\\mathrm{Fe^{2+}}}}{m_{\\mathrm{Fe^{3+}}}} = K \\, a_{e^-}.$$\n利用总铁平衡，\n$$m_{\\mathrm{Fe^{3+}}} = \\frac{C_T}{1 + r}, \\quad m_{\\mathrm{Fe^{2+}}} = \\frac{C_T \\, r}{1 + r}.$$\n因此，$\\mathrm{Fe^{2+}}$ 的平衡摩尔分数为\n$$x_{\\mathrm{Fe^{2+}}} = \\frac{m_{\\mathrm{Fe^{2+}}}}{m_{\\mathrm{Fe^{2+}}} + m_{\\mathrm{Fe^{3+}}}} = \\frac{r}{1 + r}.$$\n这个表达式，连同 $r = K \\, a_{e^-}$ 和 $a_{e^-} = 10^{-Eh/\\left(\\frac{RT}{F}\\right)\\ln(10)}$，在给定 $T$、$R$、$F$ 和 $E^\\circ$ 的情况下，提供了从 $Eh$ 到 $\\mathrm{Fe^{2+}}$ 分数的完整映射。\n\n算法设计：\n1. 输入常数 $R$、$T$、$F$ 和 $E^\\circ$。计算平衡常数\n   $$K = \\exp\\left(\\frac{F E^\\circ}{RT}\\right).$$\n2. 对于每个具有指定 $Eh$（单位为伏特）和 $C_T$（单位为 $\\mathrm{mol\\,kg^{-1}}$）的测试用例，计算\n   $$pe = \\frac{Eh}{\\left(\\frac{RT}{F}\\right)\\ln(10)}, \\quad a_{e^-} = 10^{-pe}.$$\n3. 计算 $r = K \\, a_{e^-}$，然后计算摩尔分数\n   $$x_{\\mathrm{Fe^{2+}}} = \\frac{r}{1 + r}.$$\n4. 将所有测试用例的 $x_{\\mathrm{Fe^{2+}}}$ 值汇总到一个列表中，并按指定格式打印。\n\n科学真实性考量：\n- 在 $T = 298.15\\,\\mathrm{K}$ 时，$\\mathrm{Fe^{3+}}/\\mathrm{Fe^{2+}}$ 电对的标准电位 $E^\\circ = 0.771\\,\\mathrm{V}$ 是广为接受的。\n- 理想活度 $a_i \\approx m_i$ 的假设在低离子强度下用于说明性计算目的是合理的，并且支持清晰的算法推导。\n- $Eh$ 值的范围包括了对水体系而言物理上合理的氧化和还原条件，其中 $Eh = 1.000\\,\\mathrm{V}$ 代表强氧化条件，$Eh = -0.500\\,\\mathrm{V}$ 代表强还原条件。\n\n此方法可推广到铁体系之外，通过构建一个包含电子列的化学计量矩阵，并将电子视为一个由 $Eh$ 设定固定化学势的基底组分。然后，通过将所有反应（包括电子化学计量）的质量作用定律与守恒元素（如铁）的元素质量平衡相结合来求解平衡，通常使用非线性求解器。在这个问题中，由于只有两种铁物种通过一个涉电子反应和一总铁平衡相互转换，该体系可以简化为一个解析解。\n\n最终程序实现了此算法，并以指定的单行格式输出测试套件所要求的平衡摩尔分数。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef fe_redox_fraction(Eh, C_total, T=298.15):\n    \"\"\"\n    Compute the equilibrium mole fraction of Fe(II) in an aqueous system\n    with the Fe(III)/Fe(II) redox couple, introducing formal electron a_e\n    constrained by Eh.\n    \n    Parameters:\n        Eh (float): Oxidation-reduction potential in volts.\n        C_total (float): Total dissolved iron molality (mol/kg).\n        T (float): Temperature in Kelvin (default 298.15 K).\n        \n    Returns:\n        float: Mole fraction of Fe(II).\n    \"\"\"\n    # Constants\n    R = 8.314462618          # J/mol/K\n    F = 96485.33212          # C/mol\n    E0 = 0.771               # V, standard potential for Fe3+/Fe2+ couple at 25 C\n    ln10 = np.log(10.0)\n    \n    # Equilibrium constant for Fe3+ + e- -> Fe2+\n    K = np.exp(F * E0 / (R * T))\n    \n    # pe from Eh: Eh = (RT/F)*ln(10) * pe\n    pe = Eh / ((R * T / F) * ln10)\n    \n    # Formal electron activity\n    a_e = 10.0 ** (-pe)\n    \n    # Ratio r = m_Fe2 / m_Fe3 = K * a_e\n    r = K * a_e\n    \n    # Mole fraction of Fe(II)\n    x_Fe2 = r / (1.0 + r)\n    return float(x_Fe2)\n\ndef solve():\n    # Define the test cases from the problem statement.\n    # Each case: (Eh in V, C_total in mol/kg)\n    test_cases = [\n        (0.771, 1.0e-3),  # Reference: Eh equals E0, expect ~0.5 Fe(II) fraction\n        (1.000, 1.0e-3),  # Strongly oxidizing\n        (0.000, 1.0e-3),  # Reducing\n        (-0.500, 1.0e-3), # Extremely reducing boundary case\n    ]\n\n    results = []\n    for Eh, C_total in test_cases:\n        # Compute Fe(II) mole fraction; C_total cancels in the fraction but is included for completeness.\n        x_Fe2 = fe_redox_fraction(Eh, C_total, T=298.15)\n        results.append(x_Fe2)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}