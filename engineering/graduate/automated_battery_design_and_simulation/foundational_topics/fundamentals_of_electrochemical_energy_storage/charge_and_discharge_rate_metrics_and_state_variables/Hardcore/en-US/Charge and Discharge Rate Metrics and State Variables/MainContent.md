## Introduction
The metrics used to describe a battery's state and performance—such as State of Charge (SOC), C-rate, and State of Health (SOH)—form the fundamental language of energy storage engineering. A clear understanding of these concepts is essential for designing, controlling, and optimizing any system that relies on electrochemical energy, from consumer electronics to electric vehicles and grid-scale installations. However, the simple textbook definitions of these variables often fail to capture the complex, dynamic, and non-ideal behavior of real-world batteries. Factors like degradation, material-specific thermodynamics, and transport limitations introduce significant nuances that can lead to critical errors in design and control if ignored.

This article bridges the gap between idealized theory and practical application by providing a rigorous exploration of battery charge and discharge metrics. We will move beyond simple definitions to build a robust framework for modeling and predicting battery behavior under realistic conditions.

The following chapters will guide you through this complex landscape. In "Principles and Mechanisms," we will dissect the fundamental [state variables](@entry_id:138790), exploring their electrochemical basis and the intricate ways they are affected by rate, temperature, and degradation. In "Applications and Interdisciplinary Connections," we will see how these principles are applied in the real world, from battery system design and advanced control to lifetime modeling and techno-economic analysis. Finally, "Hands-On Practices" will provide opportunities to apply these concepts, translating theoretical knowledge into practical skills for modeling and simulation.

## Principles and Mechanisms

This chapter delves into the fundamental principles that govern the state and performance of [electrochemical cells](@entry_id:200358). We will define the essential [state variables](@entry_id:138790)—State of Charge, State of Energy, and their counterparts—and explore the intricate relationships between them. Moving beyond idealized concepts, we will dissect the real-world complexities introduced by material properties, operating conditions, and cell degradation. The goal is to establish a rigorous framework for understanding, modeling, and predicting battery behavior, which is essential for advanced design and simulation.

### Fundamental State Variables: Charge, Stoichiometry, and Voltage

The most ubiquitous state variable for a battery is the **State of Charge (SOC)**, conventionally representing the fraction of charge remaining in the cell relative to its total capacity. It is typically expressed as a normalized quantity, $s$, ranging from $s=1$ (fully charged) to $s=0$ (fully discharged). Its complement is the **Depth of Discharge (DOD)**, defined as the fraction of capacity that has been discharged, such that under ideal conditions, $DOD = 1 - SOC$.

In practice, SOC can be conceptualized and estimated in several ways. The most common method in battery management systems is **ampere-hour counting** (or Coulomb counting), where the terminal current is integrated over time to track the net charge entering or leaving the cell. While practical for real-time estimation, this method is fundamentally a bookkeeping exercise. It does not, by itself, capture the true physical state of the materials within the cell.

For first-principles electrochemical modeling, such as in the Doyle-Fuller-Newman (DFN) framework, a more fundamental definition of state is required. This is the **electrode stoichiometry**, often denoted by $\theta$, which represents the normalized concentration of the active species (e.g., lithium) within the electrode's host material. As elucidated in the context of physics-based modeling , [stoichiometry](@entry_id:140916) is the true underlying state variable. The cell's thermodynamic properties, such as the electrode's open-circuit potential, are a direct function of the surface stoichiometry. Likewise, the rates of electrochemical reactions, described by kinetic laws like the Butler-Volmer equation, depend directly on the concentrations of reactants at the electrode-electrolyte interface. The macroscopic, ampere-hour-based SOC is thus a derived quantity that results from integrating the local, stoichiometry-driven reaction rates over the entire electrode structure. This distinction is critical: a physics-based model predicts the evolution of [stoichiometry](@entry_id:140916) distributions, from which other quantities like terminal voltage and ampere-hour SOC can be computed. Furthermore, when side reactions that consume active material occur, only a [stoichiometry](@entry_id:140916)-based approach that tracks the inventory of active species in the host material can accurately capture the cell's degrading state without constant recalibration.

The second fundamental state variable is the **Open-Circuit Voltage (OCV)**. The OCV is the terminal voltage of the cell when it is in complete [thermodynamic equilibrium](@entry_id:141660). This condition implies not only zero external current but also the complete relaxation of all internal gradients, including concentration gradients of lithium within the solid electrode particles and of salt ions within the electrolyte. The OCV is therefore a direct reflection of the cell's internal [thermodynamic state](@entry_id:200783), determined by the difference in the chemical potentials of the positive and negative electrodes.

Measuring the true equilibrium OCV as a function of SOC, denoted $OCV(SOC)$, is a non-trivial experimental task that requires a specific protocol . A common and scientifically sound method involves incrementally changing the SOC by passing a small amount of charge and then allowing the cell to rest at open-circuit for an extended period. The critical question is determining the minimum rest time, $t_{\min}$. This time is governed by the slowest relaxation processes in the cell, which are typically diffusion in the solid active materials and in the electrolyte. The characteristic time constant for diffusion is proportional to the square of the diffusion length divided by the diffusion coefficient. Therefore, a physics-based minimum rest time must be chosen to be greater than the characteristic times for both solid-state diffusion ($\tau_s \propto R_{\max}^2 / D_{s,\min}$) and electrolyte diffusion ($\tau_e \propto L_e^2 / D_e$), where $R_{\max}$ is the largest particle radius, $L_e$ is the electrode thickness, and $D_{s,\min}$ and $D_e$ are the respective minimum diffusion coefficients. In an automated test, after waiting for this calculated $t_{\min}$, the system should verify that the voltage drift has fallen below a small threshold (e.g., $|dV/dt| < \delta_V$) before recording the OCV value. Any method that neglects these slow [diffusion processes](@entry_id:170696) and uses short rest times will measure a transient, [non-equilibrium potential](@entry_id:268442), not the true OCV.

### The Interplay and Complexities of State Variables

While the definitions of SOC, DOD, and OCV are straightforward in an ideal context, their relationships in real cells are complicated by degradation, rate effects, and material-specific thermodynamics.

A common assumption is the simple inverse relationship $DOD = 1 - SOC$. However, this equality holds only if both quantities are normalized to the same capacity basis. In automated simulation and control, it is common for different system modules to use different normalization bases, revealing the physical complexities of the battery's state . For instance, an SOC estimator might normalize the remaining charge by the *effective available capacity* under the current operating conditions, $Q_{\mathrm{eff}}(I,t)$, while a scheduling module might track DOD relative to the cell's *datasheet nominal capacity*, $Q_{\mathrm{nom}}$. The [effective capacity](@entry_id:748806) is known to decrease at higher discharge rates (the Peukert effect) and also decreases over the cell's life due to degradation ([irreversible capacity loss](@entry_id:266917), $Q_{\mathrm{irr}}$). Under these distinct normalizations, the relationship becomes:

$$DOD = \left(1 - \frac{Q_{\mathrm{irr}}(t)}{Q_{\mathrm{nom}}}\right) \left(\frac{I_{\mathrm{ref}}}{I}\right)^{k-1} (1 - SOC)$$

Here, the term $(1 - Q_{\mathrm{irr}}(t)/Q_{\mathrm{nom}})$ represents the fraction of nominal capacity that is still reversibly available, a key indicator of **State of Health (SOH)**. The term $(I_{\mathrm{ref}}/I)^{k-1}$, where $k$ is the Peukert exponent, captures the rate-dependent capacity loss. This more complete formula demonstrates that a simple mapping between SOC and DOD is insufficient and that a robust model must account for both aging and rate dependency.

A further complexity arises from the OCV itself. While we often plot $OCV(SOC)$ as a single curve, many battery chemistries exhibit **[voltage hysteresis](@entry_id:1133881)**, where the equilibrium OCV at a given SOC depends on the cell's recent history (i.e., whether it was charged or discharged to that SOC). This phenomenon is not merely a slow relaxation effect but a true thermodynamic feature of the electrode materials . In nickel-based chemistries (e.g., NiMH), for example, hysteresis arises from complex [solid-state phase transformations](@entry_id:1131919) between different crystal structures of nickel hydroxide and nickel oxyhydroxide. These transformations involve mechanical strain energy, which must be overcome during charging (raising the voltage) and is partially recovered during discharge (lowering the voltage). The result is a distinct gap between the charge and discharge OCV curves. This path-dependence has direct practical consequences: a SOC estimator that relies on a single-valued voltage mapping (e.g., using only the discharge curve) will incur significant errors when the cell is on the charge path. For a typical nickel-based cell, this error can be as high as 10-15% of the total capacity .

To model such systems rigorously, the state description must be expanded. The cell's state cannot be defined by SOC and temperature ($T$) alone; it requires an additional internal state variable, $h$, that encodes the path-dependent history. The Gibbs free energy is then a function $\Delta G(SOC, T, h)$, leading to a path-dependent equilibrium voltage $E_{\mathrm{eq}}(SOC, T, h)$. To resolve the ambiguity this creates, one must use auxiliary measurements . A powerful technique involves measuring the **[entropic coefficient](@entry_id:1124550)**, $\alpha = (\partial E_{\mathrm{eq}} / \partial T)_{SOC}$. From fundamental thermodynamics, this quantity is proportional to the [entropy change](@entry_id:138294) of the cell reaction, $\Delta S$, which is also dependent on the internal state $h$. By measuring the pair of values $(E_{\mathrm{meas}}, \alpha_{\mathrm{meas}})$ at a given moment, one can invert against pre-calibrated libraries of $E_{\mathrm{lib}}(SOC, T, h)$ and $\alpha_{\mathrm{lib}}(SOC, h)$ to find a unique solution for the state $(SOC, h)$. This turns a one-dimensional, ambiguous mapping into a two-dimensional, unique one, enabling accurate state estimation even in hysteretic systems.

### Rate Capability Metrics: From C-rate to Transport-Normalized Rate

To compare the performance of different batteries, it is essential to have a standardized metric for the applied electrical load. The most common metric is the **C-rate**, which expresses the current as a multiple of the cell's nominal capacity. A rate of 1C corresponds to a current that would theoretically discharge the entire nominal capacity in one hour.

However, the nominal C-rate can be a misleading indicator of the actual physical stress on the battery's internal components . A more rigorous definition of C-rate relates it to the local electrochemical activity. For a uniform electrode, the C-rate can be expressed as the ratio of the areal current density, $j$ (in A/m²), to the areal capacity, $\gamma$ (in Ah/m²), also known as electrode loading. This shows that two cells with different electrode designs (e.g., one with a thin, low-loading electrode and another with a thick, high-loading electrode) will experience very different local current densities even when operated at the same nominal C-rate. A cell with higher loading (larger $\gamma$) will have a lower C-rate for the same applied current, as the total current is distributed over more active material.

For advanced cell design and comparison, even this improved definition is insufficient, as it does not account for limitations in ion transport through the porous electrode structure. Two electrodes with the same areal capacity $\gamma$ but different microstructures (thickness $L$, porosity $\varepsilon$, and tortuosity $\tau$) will exhibit vastly different transport losses at the same current density $j$. To create a true "apples-to-apples" comparison of electrochemical stress, a **transport-normalized C-rate**, $C^{\star}$, can be constructed . This involves first defining a characteristic current density, $i_{\mathrm{tr}}$, which represents the theoretical limit imposed by [electrolyte transport](@entry_id:1124302). This limit is reached when the applied current causes the salt concentration at one end of the electrode to drop to zero. Based on a simplified 1D transport model, this [limiting current](@entry_id:266039) is proportional to the [effective diffusivity](@entry_id:183973) of the electrolyte in the porous medium:

$$ i_{\mathrm{tr}} \propto \frac{D_{\mathrm{eff}} c_0}{L} \propto \frac{D \varepsilon c_0}{L \tau} $$

where $D$ is the bulk electrolyte diffusivity and $c_0$ is the bulk concentration. The ratio of the applied current density $i$ to this characteristic current density defines a dimensionless transport utilization factor, $\chi = i/i_{\mathrm{tr}}$. By requiring that different cells have the same $\chi$ value, we can define a corrected C-rate, $C^{\star}$, that normalizes for differences in [electrode design](@entry_id:1124280). For a test cell (A) relative to a reference cell (R), its corrected C-rate is:

$$ C^{\star}_{\mathrm{A}} = C_{\mathrm{A}} \left( \frac{Q_{\mathrm{areal,A}}}{Q_{\mathrm{areal,R}}} \right) \left( \frac{L_{\mathrm{A}}}{L_{\mathrm{R}}} \right) \left( \frac{\tau_{\mathrm{A}}}{\tau_{\mathrm{R}}} \right) \left( \frac{\varepsilon_{\mathrm{R}}}{\varepsilon_{\mathrm{A}}} \right) \left( \frac{D_{\mathrm{R}}}{D_{\mathrm{A}}} \right) $$

This metric reveals that a cell with a thicker, denser (low porosity), and more tortuous electrode must be operated at a much lower nominal C-rate to experience the same level of transport stress as a reference cell with a thin, porous, and less tortuous electrode.

### Performance Under Load: Capacity, Energy, and Power

The ultimate performance of a battery is judged by its ability to deliver charge, energy, and power under specific operating conditions. These performance metrics are not fixed constants but are dynamic functions of the cell's state and the applied load.

The **[effective capacity](@entry_id:748806)** of a cell is the total charge that can be delivered under a given discharge protocol before a termination condition—typically a lower cut-off voltage—is met. This is almost always less than the nominal capacity. One key reason is the internal voltage drop due to the cell's resistance. Consider a constant power discharge, a common scenario in applications like electric vehicles. To maintain constant power $P=VI$ as the voltage $V$ naturally decreases with falling SOC, the current $I$ must increase. This increasing current, flowing through the internal resistance $R$, causes an ever-larger voltage drop, $V_{\mathrm{drop}}=IR$. The terminal voltage, $V = OCV - IR$, therefore falls much faster than the OCV itself. As a result, the terminal voltage hits the cut-off limit while the OCV is still significantly higher, leaving a substantial amount of charge "stranded" and unusable in the cell . This effect is more pronounced at higher power levels, leading to a trade-off between power delivery and energy utilization.

This distinction between charge and usable energy motivates the definition of the **State of Energy (SOE)**. While SOC tracks the remaining charge, SOE tracks the remaining fraction of deliverable *energy*. SOC is a poor proxy for SOE because the amount of energy delivered per unit of charge (i.e., the average terminal voltage) is not constant throughout the discharge . The terminal voltage depends on both the OCV curve's shape and the voltage losses. Using a polynomial model for the OCV and resistance, the SOE at a given SOC $s$ under constant current discharge can be derived by integrating the terminal power:

$$ \text{SOE}(s) = \frac{\int_{0}^{s} V_{\mathrm{term}}(\sigma) \, d\sigma}{\int_{0}^{1} V_{\mathrm{term}}(\sigma) \, d\sigma} = \frac{(V_{a} - I R_{a})s + \frac{1}{2}(V_{b} - I R_{b})s^{2} + \frac{1}{3}V_{c}s^{3}}{(V_{a} - I R_{a}) + \frac{1}{2}(V_{b} - I R_{b}) + \frac{1}{3}V_{c}} $$

This cubic relationship highlights the non-linearity between SOE and SOC. The deviation is most severe for cells with flat OCV profiles (e.g., Lithium Iron Phosphate, LFP), where a large change in SOC corresponds to a small change in OCV. In such cells, voltage losses dominate the shape of the terminal voltage curve, making SOE highly dependent on the current, whereas SOC is nearly unobservable from voltage alone.

Finally, the non-ideal behaviors discussed—resistance and hysteresis—directly impact the **energy efficiency** of the battery. The round-trip energy efficiency, $\eta_E$, is the ratio of energy delivered during discharge, $W_{\mathrm{dis}}$, to the energy supplied during charge, $W_{\mathrm{ch}}$. The difference, $W_{\mathrm{loss}} = W_{\mathrm{ch}} - W_{\mathrm{dis}}$, represents energy converted to heat due to irreversible processes . By modeling the terminal voltage during charge and discharge as $V_{\mathrm{ch}} = V_{\mathrm{eq}} + V_{\mathrm{pol}}$ and $V_{\mathrm{dis}} = V_{\mathrm{eq}} - V_{\mathrm{pol}}$, where $V_{\mathrm{pol}}$ is the total polarization (overpotential), the efficiency for a symmetric cycle can be shown to be:

$$ \eta_{E} = \frac{\int (V_{\mathrm{eq}} - V_{\mathrm{pol}}) dQ}{\int (V_{\mathrm{eq}} + V_{\mathrm{pol}}) dQ} \approx \frac{\bar{V}_{\mathrm{eq}} - \bar{V}_{\mathrm{pol}}}{\bar{V}_{\mathrm{eq}} + \bar{V}_{\mathrm{pol}}} $$

The total polarization can be decomposed into contributions from [ohmic resistance](@entry_id:1129097) ($IR$) and from [thermodynamic hysteresis](@entry_id:1133065) ($h_0$). The total dissipated energy over a cycle is directly proportional to the sum of these polarization terms, $W_{\mathrm{loss}} \propto (IR + h_0)$. This provides a direct, quantitative link between the fundamental material property of [voltage hysteresis](@entry_id:1133881) and the macroscopic performance metric of energy efficiency, underscoring the importance of understanding these principles for designing efficient energy storage systems.