{
    "hands_on_practices": [
        {
            "introduction": "电池的性能极限通常取决于离子在电解质中迁移的速度。本练习将引导你从基本原理出发，推导这一基础物理限制——极限电流密度 。通过探究搅拌对极限电流的影响，本练习旨在连接抽象的理论与具体的工程实践，揭示提高电池功率输出的途径。",
            "id": "3942739",
            "problem": "在一个自动化设计与模拟装置中，对非水电解质锂离子电池（LIB）电解液中的一个平面锂沉积电极进行测试。电解液中含有溶剂化的锂离子，其体相浓度为 $c_{\\infty}$，在电极附近形成一个厚度为 $\\delta$ 的流体动力学边界层，该边界层建立了一个垂直于表面的的一维扩散路径。假设操作为等温、扩散系数 $D$ 恒定且处于稳态。在传质限制条件下，界面处的锂离子浓度趋近于零。\n\n从菲克第一扩散定律和电荷守恒（法拉第定律）的基本原理出发，推导平面电极的传质极限电流密度 $i_{\\mathrm{lim}}$ 的表达式，该表达式应以 $n$、$F$、$D$、$c_{\\infty}$ 和 $\\delta$ 表示。假设稳态下，穿过边界层的浓度分布是线性的。\n\n然后，使用您推导的表达式，计算在两种仅边界层厚度不同的流体动力学条件下的极限电流密度：\n- 静态：$\\delta_{\\mathrm{q}} = 2.5 \\times 10^{-4}\\ \\text{m}$，\n- 搅拌：$\\delta_{\\mathrm{s}} = 4.0 \\times 10^{-5}\\ \\text{m}$，\n其中 $n = 1$，$F = 96485\\ \\text{C mol}^{-1}$，$D = 1.5 \\times 10^{-9}\\ \\text{m}^{2}\\ \\text{s}^{-1}$，且 $c_{\\infty} = 1.2\\ \\text{mol L}^{-1}$ （使用 $1\\ \\text{mol L}^{-1} = 1000\\ \\text{mol m}^{-3}$）。将这两个电流密度以安培每平方米（A/m$^{2}$）表示。\n\n最后，根据您的推导，定性解释搅拌如何改变 $\\delta$ 并因此改变 $i_{\\mathrm{lim}}$，并将您的推理与自动化电池设计模拟如何从流场推断 $\\delta$ 联系起来。\n\n报告最终答案，即无量纲比值 $i_{\\mathrm{lim},\\mathrm{s}}/i_{\\mathrm{lim},\\mathrm{q}}$，四舍五入至四位有效数字。该比值无需单位。",
            "solution": "所提出的问题具有科学依据，提法严谨，并包含了完整求解所需的所有信息。它基于电化学和传质的基本原理，特别是 Fick 第一扩散定律和 Faraday 电解定律，并应用于一个标准模型（Nernst 扩散层）。所提供的参数对于锂离子电池系统是符合物理实际的。因此，我将继续进行推导和分析。\n\n第一步是推导传质极限电流密度 $i_{\\mathrm{lim}}$ 的表达式。该问题涉及锂离子 Li$^+$ 向平面电极的一维扩散。设 $x$ 为垂直于电极表面的坐标，其中电极表面处 $x=0$，流体动力学边界层边缘处 $x=\\delta$。\n\n根据 Fick 第一扩散定律，物质的摩尔通量 $J$ 与浓度梯度成正比。在一维情况下，表示为：\n$$J(x) = -D \\frac{dc(x)}{dx}$$\n其中 $D$ 是扩散系数，$c(x)$ 是位置 $x$ 处的 Li$^+$ 摩尔浓度。负号表示离子的净移动方向是从高浓度区域到低浓度区域。\n\n问题指定假设稳态下穿过边界层的浓度分布是线性的。这是 Nernst 扩散层模型的关键简化假设。边界条件为：\n1.  在扩散层边缘（$x=\\delta$）：浓度等于体相浓度，$c(\\delta) = c_{\\infty}$。\n2.  在传质限制条件下（$x=0$）：电化学反应非常快，以至于离子一到达表面就被消耗掉。因此，界面浓度趋近于零，$c(0) = 0$。\n\n对于线性分布，浓度梯度 $\\frac{dc}{dx}$ 在整个层内（$0 \\le x \\le \\delta$）是恒定的，可以计算为两个边界点之间的斜率：\n$$\\frac{dc}{dx} = \\frac{c(\\delta) - c(0)}{\\delta - 0} = \\frac{c_{\\infty} - 0}{\\delta} = \\frac{c_{\\infty}}{\\delta}$$\n将此恒定梯度代入 Fick 第一定律，得到稳态通量：\n$$J = -D \\left( \\frac{c_{\\infty}}{\\delta} \\right)$$\n通量 $J$ 的单位是 mol m$^{-2}$ s$^{-1}$。负号表示通量方向为负 $x$ 方向，即朝向 $x=0$ 处的电极。因此，到达电极表面的离子通量大小为：\n$$|J| = \\frac{Dc_{\\infty}}{\\delta}$$\n这代表了通过扩散向电极供应离子的最大可能速率。\n\n接下来，我们使用 Faraday 定律将此摩尔通量与电流密度联系起来。电流密度 $i$ 是单位时间单位面积上传递的总电荷。沉积反应为 $\\text{Li}^+ + e^- \\rightarrow \\text{Li}(s)$。每摩尔反应的 Li$^+$ 离子会转移 $nF$ 的电荷，其中 $n$ 是每摩尔反应物对应的电子摩尔数（此处 $n=1$），$F$ 是 Faraday 常数（每摩尔电子的电荷量）。\n\n电流密度与电极表面摩尔通量的大小成正比：\n$$i = nF|J|$$\n在传质限制条件下，此电流密度即为极限电流密度 $i_{\\mathrm{lim}}$。代入 $|J|$ 的表达式：\n$$i_{\\mathrm{lim}} = nF \\left( \\frac{Dc_{\\infty}}{\\delta} \\right)$$\n这就是所要求的平面电极传质极限电流密度的表达式。\n\n第二个任务是计算在两种给定的流体动力学条件下 $i_{\\mathrm{lim}}$ 的值。首先，我们必须确保所有参数都使用一致的国际单位制（SI）单位。体相浓度为 $c_{\\infty} = 1.2\\ \\text{mol L}^{-1}$。使用给定的换算关系 $1\\ \\text{mol L}^{-1} = 1000\\ \\text{mol m}^{-3}$：\n$$c_{\\infty} = 1.2\\ \\text{mol L}^{-1} \\times \\frac{1000\\ \\text{mol m}^{-3}}{1\\ \\text{mol L}^{-1}} = 1200\\ \\text{mol m}^{-3}$$\n其他参数为：\n$n = 1$\n$F = 96485\\ \\text{C mol}^{-1}$\n$D = 1.5 \\times 10^{-9}\\ \\text{m}^{2}\\ \\text{s}^{-1}$\n\n我们来计算公因子 $nFDc_{\\infty}$：\n$$nFDc_{\\infty} = (1) \\times (96485\\ \\text{C mol}^{-1}) \\times (1.5 \\times 10^{-9}\\ \\text{m}^{2}\\ \\text{s}^{-1}) \\times (1200\\ \\text{mol m}^{-3})$$\n$$nFDc_{\\infty} = 0.173673\\ \\text{C} \\cdot \\text{m}^{-1} \\cdot \\text{s}^{-1} = 0.173673\\ \\text{A} \\cdot \\text{m}^{-1}$$\n因为 $1\\ \\text{A} = 1\\ \\text{C s}^{-1}$。\n\n现在，我们可以计算每种情况下的极限电流密度：\n1.  静态条件：$\\delta_{\\mathrm{q}} = 2.5 \\times 10^{-4}\\ \\text{m}$\n$$i_{\\mathrm{lim},\\mathrm{q}} = \\frac{nFDc_{\\infty}}{\\delta_{\\mathrm{q}}} = \\frac{0.173673\\ \\text{A} \\cdot \\text{m}^{-1}}{2.5 \\times 10^{-4}\\ \\text{m}} \\approx 694.69\\ \\text{A m}^{-2}$$\n2.  搅拌条件：$\\delta_{\\mathrm{s}} = 4.0 \\times 10^{-5}\\ \\text{m}$\n$$i_{\\mathrm{lim},\\mathrm{s}} = \\frac{nFDc_{\\infty}}{\\delta_{\\mathrm{s}}} = \\frac{0.173673\\ \\text{A} \\cdot \\text{m}^{-1}}{4.0 \\times 10^{-5}\\ \\text{m}} \\approx 4341.83\\ \\text{A m}^{-2}$$\n\n第三个任务是定性解释。推导出的关系式 $i_{\\mathrm{lim}} = nFDc_{\\infty}/\\delta$ 表明，极限电流密度与扩散边界层的厚度 $\\delta$ 成反比。搅拌引入了强制对流，即体相流体的运动。这种对流将富含 Li$^+$ 离子的电解液从体相区域输运到比单纯扩散能达到的更靠近电极表面的地方。这种增强的传输使扩散层“变薄”；也就是说，扩散是主要传输机制的区域被压缩到紧贴表面。因此，搅拌减小了 $\\delta$ 的值。根据反比关系，更小的 $\\delta$ 会导致更大的浓度梯度，从而产生更高的极限电流密度 $i_{\\mathrm{lim}}$。\n在自动化电池设计与模拟的背景下，计算流体力学（CFD）被用来模拟电池单元复杂几何结构内的电解液流场。这些模拟通过求解流体运动的控制方程（例如，Navier-Stokes 方程）来确定整个单元内的速度分布。根据这些速度场，可以使用专门的传质关联式或直接模拟浓度场来确定电极表面所有点上的局部有效边界层厚度 $\\delta$。这使得预测 $i_{\\mathrm{lim}}$ 的空间分布成为可能，有助于识别潜在的高电流“热点”或易于出现过早传质限制和锂沉积的“死区”，从而指导改进电池设计。\n\n最后，我们计算无量纲比值 $i_{\\mathrm{lim},\\mathrm{s}}/i_{\\mathrm{lim},\\mathrm{q}}$。使用推导出的 $i_{\\mathrm{lim}}$ 表达式：\n$$\\frac{i_{\\mathrm{lim},\\mathrm{s}}}{i_{\\mathrm{lim},\\mathrm{q}}} = \\frac{\\frac{nFDc_{\\infty}}{\\delta_{\\mathrm{s}}}}{\\frac{nFDc_{\\infty}}{\\delta_{\\mathrm{q}}}}$$\n常数 $n$、$F$、$D$ 和 $c_{\\infty}$ 被消去，只留下边界层厚度的简单比值：\n$$\\frac{i_{\\mathrm{lim},\\mathrm{s}}}{i_{\\mathrm{lim},\\mathrm{q}}} = \\frac{\\delta_{\\mathrm{q}}}{\\delta_{\\mathrm{s}}}$$\n代入给定的数值：\n$$\\frac{i_{\\mathrm{lim},\\mathrm{s}}}{i_{\\mathrm{lim},\\mathrm{q}}} = \\frac{2.5 \\times 10^{-4}\\ \\text{m}}{4.0 \\times 10^{-5}\\ \\text{m}} = \\frac{2.5}{0.4} = 6.25$$\n题目要求答案四舍五入到四位有效数字。因此，该比值为 $6.250$。",
            "answer": "$$\n\\boxed{6.250}\n$$"
        },
        {
            "introduction": "除了电化学性能，热管理对于电池的安全性和寿命至关重要。本练习引入了一种强大的工程简化方法——集总热容模型，用以预测电芯的温度响应 。通过将该模型应用于一个实际的功率曲线，你将学会分析瞬态热行为并评估电芯是否在安全温度范围内运行，这是电池包设计中的一项关键技能。",
            "id": "3942743",
            "problem": "将一个单层软包电池热模型简化为一个集总体，该集总体具有单一的热容和与等温冷却环境之间的单一热阻。从应用于电池的能量守恒定律出发，将内部电化学产热视作指定的输入功率，并将向环境的散热视作线性热阻。该电池的质量为 $m = 0.075\\,\\mathrm{kg}$，有效比热容为 $c_{p} = 900\\,\\mathrm{J\\,kg^{-1}\\,K^{-1}}$，因此其集总热容为 $C_{\\mathrm{th}} = m c_{p}$。该电池连接到一个热管理板，与温度为 $T_{\\infty} = 298\\,\\mathrm{K}$ 的环境冷却剂之间存在有效热阻 $R_{\\mathrm{th}} = 2.4\\,\\mathrm{K\\,W^{-1}}$。电池的初始温度等于环境温度，$T(0) = T_{\\infty}$。\n\n在一个驱动循环中，内部产热功率曲线 $P(t)$ 是分段恒定的：\n- 在 $0 \\leq t  450\\,\\mathrm{s}$ 范围内，$P(t) = 18\\,\\mathrm{W}$。\n- 在 $450\\,\\mathrm{s} \\leq t  1200\\,\\mathrm{s}$ 范围内，$P(t) = 6\\,\\mathrm{W}$。\n- 在 $1200\\,\\mathrm{s} \\leq t \\leq 1500\\,\\mathrm{s}$ 范围内，$P(t) = 0\\,\\mathrm{W}$。\n\n电池卷芯的热安全极限指定为 $T_{\\mathrm{lim}} = 333\\,\\mathrm{K}$。使用集总热容和热阻模型，从第一性原理出发，推导该功率曲线下的温度轨迹 $T(t)$，确定在整个循环中达到的最高电池温度，并评估是否达到或超过了热安全极限。\n\n报告在循环期间达到的单个最高温度。以摄氏度表示最终答案，并四舍五入到四位有效数字。",
            "solution": "集总体热模型基于能量守恒原理。电池内能的变化率等于内部产热率减去向周围环境的散热率。该原理可表示为以下一阶常微分方程（ODE）：\n$$C_{\\mathrm{th}} \\frac{dT(t)}{dt} = P(t) - Q_{\\mathrm{loss}}(t)$$\n其中 $T(t)$ 是电池温度，$C_{\\mathrm{th}}$ 是集总热容，$P(t)$ 是内部产热率，$Q_{\\mathrm{loss}}(t)$ 是向环境冷却剂的散热率。散热通过线性热阻 $R_{\\mathrm{th}}$ 建模，传向温度为 $T_{\\infty}$ 的等温环境：\n$$Q_{\\mathrm{loss}}(t) = \\frac{T(t) - T_{\\infty}}{R_{\\mathrm{th}}}$$\n将此式代入能量平衡方程，得到电池温度的控制常微分方程：\n$$C_{\\mathrm{th}} \\frac{dT}{dt} = P(t) - \\frac{T(t) - T_{\\infty}}{R_{\\mathrm{th}}}$$\n该方程可以整理成一阶线性常微分方程的标准形式。定义热时间常数 $\\tau = R_{\\mathrm{th}} C_{\\mathrm{th}}$，方程变为：\n$$\\frac{dT}{dt} + \\frac{1}{\\tau} T(t) = \\frac{P(t) R_{\\mathrm{th}} + T_{\\infty}}{\\tau}$$\n对于分段恒定的功率输入 $P$，在从 $t_i$ 开始、初始温度为 $T(t_i)$ 的时间区间内，此常微分方程的解为：\n$$T(t) = T_{ss} + (T(t_i) - T_{ss}) \\exp\\left(-\\frac{t - t_i}{\\tau}\\right)$$\n其中 $T_{ss}$ 是恒定功率 $P$ 下的稳态温度，通过令 $\\frac{dT}{dt}=0$ 求得：\n$$0 = P - \\frac{T_{ss} - T_{\\infty}}{R_{\\mathrm{th}}} \\implies T_{ss} = T_{\\infty} + P R_{\\mathrm{th}}$$\n\n首先，我们根据已知条件计算热学常数的值：\n- 热容：$C_{\\mathrm{th}} = m c_{p} = (0.075\\,\\mathrm{kg}) \\times (900\\,\\mathrm{J\\,kg^{-1}\\,K^{-1}}) = 67.5\\,\\mathrm{J\\,K^{-1}}$\n- 热时间常数：$\\tau = R_{\\mathrm{th}} C_{\\mathrm{th}} = (2.4\\,\\mathrm{K\\,W^{-1}}) \\times (67.5\\,\\mathrm{J\\,K^{-1}}) = 162\\,\\mathrm{s}$\n- 环境温度：$T_{\\infty} = 298\\,\\mathrm{K}$\n- 初始温度：$T(0) = 298\\,\\mathrm{K}$\n\n现在我们求解三个时间区间内各自的温度轨迹。\n\n**区间1：$0 \\leq t  450\\,\\mathrm{s}$**\n- 功率：$P_1 = 18\\,\\mathrm{W}$\n- 初始条件：$T(0) = 298\\,\\mathrm{K}$\n- 此区间的稳态温度：\n$$T_{ss,1} = T_{\\infty} + P_1 R_{\\mathrm{th}} = 298\\,\\mathrm{K} + (18\\,\\mathrm{W})(2.4\\,\\mathrm{K\\,W^{-1}}) = 298\\,\\mathrm{K} + 43.2\\,\\mathrm{K} = 341.2\\,\\mathrm{K}$$\n- 温度演变过程为：\n$$T(t) = T_{ss,1} + (T(0) - T_{ss,1}) \\exp\\left(-\\frac{t}{\\tau}\\right) = 341.2 + (298 - 341.2) \\exp\\left(-\\frac{t}{162}\\right)$$\n$$T(t) = 341.2 - 43.2 \\exp\\left(-\\frac{t}{162}\\right)$$\n在此区间末尾，$t_1 = 450\\,\\mathrm{s}$ 时，温度为：\n$$T(450) = 341.2 - 43.2 \\exp\\left(-\\frac{450}{162}\\right) \\approx 341.2 - 43.2 \\exp(-2.777...) \\approx 341.2 - 43.2(0.06217) \\approx 338.514\\,\\mathrm{K}$$\n\n**区间2：$450\\,\\mathrm{s} \\leq t  1200\\,\\mathrm{s}$**\n- 功率：$P_2 = 6\\,\\mathrm{W}$\n- 此区间的初始条件为 $T(450) \\approx 338.514\\,\\mathrm{K}$。\n- 此区间的稳态温度：\n$$T_{ss,2} = T_{\\infty} + P_2 R_{\\mathrm{th}} = 298\\,\\mathrm{K} + (6\\,\\mathrm{W})(2.4\\,\\mathrm{K\\,W^{-1}}) = 298\\,\\mathrm{K} + 14.4\\,\\mathrm{K} = 312.4\\,\\mathrm{K}$$\n在 $t=450\\,\\mathrm{s}$ 时，由于 $T(450) \\approx 338.514\\,\\mathrm{K}$ 高于该区间的稳态温度 $T_{ss,2}$，电池温度将开始下降。\n\n- 在区间1中，由于$T(t)$从$298\\,\\mathrm{K}$向$341.2\\,\\mathrm{K}$单调递增，温度在此区间内持续升高。\n- 在区间2中，由于初始温度$T(450)$高于该区间的稳态目标温度$T_{ss,2}$，温度将单调递减。\n- 在区间3中，功率为0，温度将继续向环境温度$T_\\infty$单调递减。\n\n因此，温度在第一个区间内升高，并在功率降低的瞬间，即$t=450\\,\\mathrm{s}$时，达到峰值。\n$$T_{\\mathrm{max}} = T(450) = 341.2 - 43.2 \\exp\\left(-\\frac{450}{162}\\right) \\approx 338.514066\\,\\mathrm{K}$$\n问题要求以摄氏度报告该温度，并四舍五入到四位有效数字。转换公式为 $T_{^\\circ\\mathrm{C}} = T_{\\mathrm{K}} - 273.15$。\n$$T_{\\mathrm{max}}(^\\circ\\mathrm{C}) = 338.514066 - 273.15 = 65.364066\\,^\\circ\\mathrm{C}$$\n四舍五入到四位有效数字得到 $65.36\\,^\\circ\\mathrm{C}$。\n\n热安全极限为 $T_{\\mathrm{lim}} = 333\\,\\mathrm{K}$。由于 $T_{\\mathrm{max}} \\approx 338.51\\,\\mathrm{K}$，在循环期间超过了安全极限。问题只要求报告最高温度值。",
            "answer": "$$\n\\boxed{65.36}\n$$"
        },
        {
            "introduction": "电池的长期衰减是一个复杂的过程，其根源通常在于固体电解质界面（SEI）膜生长等副反应。本练习旨在让你从静态分析走向动态仿真，从零开始构建一个耦合了SEI生长、锂库存损失和库仑效率的计算模型 。通过将SEI的生长与容量衰减和库仑效率直接关联，该实践将为你提供模拟电池循环寿命核心机制的第一手经验。",
            "id": "3942723",
            "problem": "您的任务是构建一个数学上一致的耦合模型，该模型能够捕捉锂离子电池负极在恒流循环下固体电解质界面膜 (SEI) 的生长和可循环锂量的损失，然后使用该模型模拟库仑效率如何随循环次数演变。程序必须实现该模型，为一组给定的物理上合理的参数计算库仑效率序列，并为指定的测试套件生成一行包含结果的输出。\n\n基本基础和模型假设：\n- 从法拉第电解定律开始：电化学反应消耗电荷的速率与反应物和产物的化学计量速率成正比。设 SEI 厚度表示为 $\\delta(t)$（单位：米），寄生 SEI 形成电流密度表示为 $j_{\\text{sei}}(t)$（单位：安培/平方米）。\n- 假设通过 SEI 的扩散限制溶剂还原产生的电流密度与厚度成反比，$j_{\\text{sei}}(t) = \\kappa/\\delta(t)$，其中 $\\kappa$ 是一个有效的传输-动力学前置因子，单位为安培/米。\n- 假设有效前置因子 $\\kappa$ 服从阿伦尼乌斯温度依赖性，$\\kappa = k_0 \\exp\\!\\left(-\\frac{E_a}{R T}\\right)$，其中 $k_0$ 是一个指前因子（单位：安培/米），$E_a$ 是活化能（单位：焦耳/摩尔），$R$ 是普适摩尔气体常数（单位：焦耳/摩尔/开尔文），$T$ 是温度（单位：开尔文）。\n- 通过法拉第定律和一个恒定的每电荷厚度系数 $\\Gamma$ 将 SEI 厚度增长与消耗的电荷联系起来，使得 $\\frac{d\\delta}{dt} = \\Gamma j_{\\text{sei}}(t)$。该系数定义为 $\\Gamma = \\frac{M_{\\text{sei}}}{\\rho_{\\text{sei}} F n_e}$，其中 $M_{\\text{sei}}$ 是主要 SEI 化合物的摩尔质量（单位：千克/摩尔），$\\rho_{\\text{sei}}$ 是其质量密度（单位：千克/立方米），$F$ 是法拉第常数（单位：库仑/摩尔），$n_e$ 是还原反应产生的每个 SEI 化学式单元的电子数（无量纲）。所有符号必须使用其物理上一致的单位。\n- 设单位面积可循环锂量为 $N_{\\text{Li}}(t)$（单位：摩尔/平方米）。SEI 生长与锂量损失之间的耦合关系由 $\\frac{dN_{\\text{Li}}}{dt} = -\\frac{j_{\\text{sei}}(t)}{F}$ 给出，假设每个并入 SEI 的锂离子不可逆地消耗一个电子；符号约定为当 SEI 消耗电荷时，锂量减少。\n\n循环协议和待计算量：\n- 电池以恒定的每循环充电电荷 $Q_{\\text{ch}}$（单位：库仑）和恒定的充电电流 $I$（单位：安培）进行恒流循环。每个循环的充电持续时间为 $t_{\\text{ch}} = \\frac{Q_{\\text{ch}}}{I}$（单位：秒）。为计算库仑效率，假设 SEI 主要在充电期间形成，并忽略放电期间的 SEI 形成。\n- 电极的几何面积为 $A$（单位：平方米）。\n- 第 $n$ 个循环的库仑效率，表示为 $\\mathrm{CE}_n$，定义为测得的放电容量与施加的充电容量之比。根据上述假设，这由可逆输送的容量除以施加的电荷给出。作为充电期间 SEI 生长引起的寄生电荷消耗的直接结果，这可以从第 $n$ 个循环中因 SEI 形成而不可逆消耗的寄生电荷 $Q_{\\text{loss},n}$ 计算得出，即 $\\mathrm{CE}_n = 1 - \\frac{Q_{\\text{loss},n}}{Q_{\\text{ch}}}$，其中 $Q_{\\text{loss},n}$ 是该循环中副反应的总电荷（单位：库仑）。第 $n$ 个循环的副反应电荷必须从上述耦合模型中获得，使用 $j_{\\text{sei}}$、$\\delta(t)$ 和 $\\Gamma$ 之间物理上一致的关系。\n\n实现要求：\n- 使用上述基本定律和定义来构建 $\\delta$ 和 $N_{\\text{Li}}$ 的逐周期更新，并从指定的初始条件 $\\delta(0) = \\delta_0$ 和 $N_{\\text{Li}}(0) = N_{\\text{Li},0}$ 开始，为每个循环计算 $\\mathrm{CE}_n$。\n- 以正确的单位表示所有物理量：\n  - SEI 厚度单位为米。\n  - 面积单位为平方米。\n  - 电流单位为安培。\n  - 电荷单位为库仑。\n  - 温度单位为开尔文。\n  - 活化能单位为焦耳/摩尔。\n  - 摩尔质量单位为千克/摩尔。\n  - 质量密度单位为千克/立方米。\n  - 报告库仑效率为小数（无单位）。\n- 您的程序必须为下面描述的测试套件中的每个测试用例计算序列 $\\left[\\mathrm{CE}_1, \\mathrm{CE}_2, \\ldots, \\mathrm{CE}_N\\right]$，其中 $N$ 是要模拟的循环次数。\n\n测试套件：\n对于每个测试用例，模拟 $N$ 个循环并输出 $\\mathrm{CE}_n$ 值的列表。使用 $R = 8.314$ 焦耳/摩尔/开尔文和 $F = 96485$ 库仑/摩尔。SEI 的材料特性采用富含碳酸盐的 SEI 近似，其中 $M_{\\text{sei}} = 0.074$ 千克/摩尔，$\\rho_{\\text{sei}} = 2110$ 千克/立方米，且 $n_e = 1$。初始单位面积可循环锂量为 $N_{\\text{Li},0} = 0.05$ 摩尔/平方米。每个循环的充电量为 $Q_{\\text{ch}} = 3600$ 库仑。\n\n提供四个测试用例：\n- 用例 1（正常情况）：$A = 0.01$, $\\delta_0 = 3\\times 10^{-9}$, $k_0 = 0.15$, $E_a = 50000$, $T = 298$, $I = 1$, $N = 50$。\n- 用例 2（由于电流较大导致充电时间缩短）：$A = 0.01$, $\\delta_0 = 3\\times 10^{-9}$, $k_0 = 0.15$, $E_a = 50000$, $T = 298$, $I = 4$, $N = 50$。\n- 用例 3（较低温度）：$A = 0.01$, $\\delta_0 = 3\\times 10^{-9}$, $k_0 = 0.15$, $E_a = 50000$, $T = 258$, $I = 1$, $N = 50$。\n- 用例 4（初始 SEI 较薄）：$A = 0.01$, $\\delta_0 = 5\\times 10^{-10}$, $k_0 = 0.15$, $E_a = 50000$, $T = 298$, $I = 1$, $N = 50$。\n\n最终输出格式：\n您的程序应生成一行输出，其中包含一个用方括号括起来的逗号分隔列表形式的结果，每个元素是对应测试用例每个循环的库仑效率列表，按用例 1 到 4 的顺序排列。例如，输出应如下所示：$[[\\mathrm{CE}_1^{(1)},\\ldots,\\mathrm{CE}_{N}^{(1)}],[\\mathrm{CE}_1^{(2)},\\ldots],[\\mathrm{CE}_1^{(3)},\\ldots],[\\mathrm{CE}_1^{(4)},\\ldots]]$，其中上标表示用例索引。不应打印任何其他文本。",
            "solution": "该问题要求构建并实现一个用于模拟锂离子电池电极中固体电解质界面膜（SEI）生长和可循环锂量损失的耦合模型。目标是模拟在指定次数的恒流循环中库仑效率（$\\mathrm{CE}$）的演变。该模型基于基本的电化学原理，并将针对一组给定的测试用例进行求解。\n\n起点是所提供的一组微分方程和定义。我们将首先从这些连续时间方程推导出逐周期的更新规则。我们已知 SEI 的生长主要发生在每个循环的充电阶段。\n\n首先，我们处理 SEI 厚度 $\\delta(t)$。其生长速率由 $\\frac{d\\delta}{dt} = \\Gamma j_{\\text{sei}}(t)$ 给出，其中寄生电流密度为 $j_{\\text{sei}}(t) = \\kappa/\\delta(t)$。这里，$\\Gamma$ 是每电荷厚度系数，$\\kappa$ 是一个有效的传输-动力学前置因子。结合这些方程，得到一个关于 $\\delta(t)$ 的单一微分方程：\n$$\n\\frac{d\\delta}{dt} = \\frac{\\Gamma \\kappa}{\\delta(t)}\n$$\n这是一个可分离的常微分方程。我们可以将其重排为 $\\delta(t) d\\delta = \\Gamma \\kappa dt$。为了找到单个循环内的厚度变化，我们将此方程在充电周期 $t_{\\text{ch}}$ 上积分。设 $\\delta_{n-1}$ 是第 $n$ 个循环开始时的 SEI 厚度（即，该循环充电步骤的时间 $t=0$ 时），$\\delta_n$ 是充电周期结束时（即 $t_{\\text{ch}} = Q_{\\text{ch}}/I$ 时）的厚度。\n$$\n\\int_{\\delta_{n-1}}^{\\delta_n} \\delta \\, d\\delta = \\int_{0}^{t_{\\text{ch}}} \\Gamma \\kappa \\, dt\n$$\n由于在固定温度下的单个充电步骤中，$\\Gamma$ 和 $\\kappa$ 被认为是常数，积分结果为：\n$$\n\\frac{1}{2}\\delta_n^2 - \\frac{1}{2}\\delta_{n-1}^2 = \\Gamma \\kappa t_{\\text{ch}}\n$$\n这为厚度的平方提供了一个从一个循环到下一个循环的离散更新规则：\n$$\n\\delta_n^2 = \\delta_{n-1}^2 + 2 \\Gamma \\kappa t_{\\text{ch}}\n$$\n因此，第 $n$ 个循环充电期结束时的 SEI 厚度为：\n$$\n\\delta_n = \\sqrt{\\delta_{n-1}^2 + 2 \\Gamma \\kappa t_{\\text{ch}}}\n$$\n模拟将从初始厚度 $\\delta_0$ 开始。\n\n接下来，我们推导在第 $n$ 个循环中因 SEI 形成而损失的总寄生电荷的表达式，记为 $Q_{\\text{loss},n}$。总寄生电流为 $I_{\\text{sei}}(t) = A \\cdot j_{\\text{sei}}(t)$，其中 $A$ 是电极面积。在充电时间内对该电流进行积分，得到损失的电荷：\n$$\nQ_{\\text{loss},n} = \\int_{0}^{t_{\\text{ch}}} I_{\\text{sei}}(t) \\, dt = A \\int_{0}^{t_{\\text{ch}}} j_{\\text{sei}}(t) \\, dt\n$$\n利用关系式 $j_{\\text{sei}}(t) = \\frac{1}{\\Gamma} \\frac{d\\delta}{dt}$，我们可以将积分变量从时间 $t$ 变为厚度 $\\delta$：\n$$\nQ_{\\text{loss},n} = A \\int_{\\delta_{n-1}}^{\\delta_n} \\frac{1}{\\Gamma} \\, d\\delta = \\frac{A}{\\Gamma} (\\delta_n - \\delta_{n-1})\n$$\n该方程直接将一个循环中的电荷损失与该循环中 SEI 厚度的变化联系起来。\n\n第 $n$ 个循环的库仑效率 $\\mathrm{CE}_n$ 定义为 $\\mathrm{CE}_n = 1 - \\frac{Q_{\\text{loss},n}}{Q_{\\text{ch}}}$。代入我们对 $Q_{\\text{loss},n}$ 的表达式：\n$$\n\\mathrm{CE}_n = 1 - \\frac{A(\\delta_n - \\delta_{n-1})}{\\Gamma Q_{\\text{ch}}}\n$$\n这允许在每个循环中使用厚度值 $\\delta_{n-1}$ 和 $\\delta_n$ 来计算 $\\mathrm{CE}_n$。\n\n最后，我们考虑单位面积可循环锂量 $N_{\\text{Li}}(t)$。其变化率由 $\\frac{dN_{\\text{Li}}}{dt} = -\\frac{j_{\\text{sei}}(t)}{F}$ 给出。在第 $n$ 个循环的充电周期内积分，得到该循环中可循环锂的总损失：\n$$\n\\Delta N_{\\text{Li},n} = N_{\\text{Li},n} - N_{\\text{Li},n-1} = -\\int_{0}^{t_{\\text{ch}}} \\frac{j_{\\text{sei}}(t)}{F} \\, dt = -\\frac{1}{F} \\frac{Q_{\\text{loss},n}}{A}\n$$\n因此，锂量的更新规则是：\n$$\nN_{\\text{Li},n} = N_{\\text{Li},n-1} - \\frac{Q_{\\text{loss},n}}{A F}\n$$\n虽然 $N_{\\text{Li},n}$ 的值不直接用于计算 $\\mathrm{CE}_n$，但根据问题陈述，其计算是构成完整模型实现所必需的。\n\n每个测试用例的计算流程如下：\n1.  确定基本常数的值 $R = 8.314 \\, \\text{J/(mol}\\cdot\\text{K)}$ 和 $F = 96485 \\, \\text{C/mol}$。\n2.  定义 SEI 的材料属性（$M_{\\text{sei}} = 0.074 \\, \\text{kg/mol}$, $\\rho_{\\text{sei}} = 2110 \\, \\text{kg/m}^3$, $n_e=1$）和循环参数 $Q_{\\text{ch}} = 3600 \\, \\text{C}$。\n3.  对于每个具体的测试用例，初始化参数 $A$, $\\delta_0$, $k_0$, $E_a$, $T$, $I$, 和 $N$。\n4.  计算派生参数：\n    -   $\\Gamma = \\frac{M_{\\text{sei}}}{\\rho_{\\text{sei}} F n_e}$\n    -   $\\kappa = k_0 \\exp\\left(-\\frac{E_a}{R T}\\right)$\n    -   $t_{\\text{ch}} = \\frac{Q_{\\text{ch}}}{I}$\n5.  初始化状态变量：$\\delta_{\\text{current}} \\leftarrow \\delta_0$ 和 $N_{\\text{Li},\\text{current}} \\leftarrow N_{\\text{Li},0}$。\n6.  从循环 $n = 1$ 迭代到 $N$：\n    a. 存储当前厚度：$\\delta_{\\text{previous}} \\leftarrow \\delta_{\\text{current}}$。\n    b. 更新厚度：$\\delta_{\\text{current}} \\leftarrow \\sqrt{\\delta_{\\text{previous}}^2 + 2 \\Gamma \\kappa t_{\\text{ch}}}$。\n    c. 计算电荷损失：$Q_{\\text{loss},n} \\leftarrow \\frac{A}{\\Gamma}(\\delta_{\\text{current}} - \\delta_{\\text{previous}})$。\n    d. 计算库仑效率：$\\mathrm{CE}_n \\leftarrow 1 - \\frac{Q_{\\text{loss},n}}{Q_{\\text{ch}}}$。存储该值。\n    e. 更新锂量：$N_{\\text{Li},\\text{current}} \\leftarrow N_{\\text{Li},\\text{current}} - \\frac{Q_{\\text{loss},n}}{A F}$。\n7.  收集该测试用例的 $\\mathrm{CE}_n$ 值序列。\n最终的程序为所有指定的测试用例实现此算法，并按要求格式化输出。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the SEI growth and coulombic efficiency problem for a suite of test cases.\n    \"\"\"\n\n    # Global constants\n    R = 8.314  # J/(mol*K)\n    F = 96485  # C/mol\n\n    # SEI properties (carbonate-rich approximation)\n    M_sei = 0.074   # kg/mol\n    rho_sei = 2110  # kg/m^3\n    n_e = 1.0       # dimensionless\n\n    # General cycle parameters\n    N_li_0 = 0.05   # mol/m^2\n    Q_ch = 3600.0   # C\n\n    def compute_ce_sequence(A, delta_0, k_0, E_a, T, I, N):\n        \"\"\"\n        Computes the sequence of coulombic efficiencies for a single test case.\n\n        Args:\n            A (float): Electrode geometric area in m^2.\n            delta_0 (float): Initial SEI thickness in m.\n            k_0 (float): Pre-exponential factor in A/m.\n            E_a (float): Activation energy in J/mol.\n            T (float): Temperature in K.\n            I (float): Charge current in A.\n            N (int): Number of cycles to simulate.\n\n        Returns:\n            list: A list of coulombic efficiencies for N cycles.\n        \"\"\"\n        # Calculate derived constants based on the provided parameters\n        # Thickness-per-charge coefficient Gamma in m^3/C\n        Gamma = M_sei / (rho_sei * F * n_e)\n        \n        # Effective transport-kinetic prefactor kappa in A/m\n        kappa = k_0 * np.exp(-E_a / (R * T))\n        \n        # Charge duration per cycle t_ch in s\n        t_ch = Q_ch / I\n\n        # Initialize state variables\n        delta_current = delta_0\n        n_li_current = N_li_0\n        ce_list = []\n\n        # Loop through each cycle\n        for _ in range(N):\n            delta_previous = delta_current\n            \n            # Update SEI thickness using the derived discrete update rule\n            delta_current = np.sqrt(delta_previous**2 + 2 * Gamma * kappa * t_ch)\n            \n            # Calculate parasitic charge loss in this cycle\n            q_loss_n = (A / Gamma) * (delta_current - delta_previous)\n            \n            # Calculate Coulombic Efficiency for the cycle\n            ce_n = 1.0 - (q_loss_n / Q_ch)\n            ce_list.append(ce_n)\n            \n            # Update cyclable lithium inventory (as required, though unused for CE list)\n            n_li_current -= q_loss_n / (A * F)\n\n        return ce_list\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # Case 1 (happy path)\n        {'A': 0.01, 'delta_0': 3e-9, 'k_0': 0.15, 'E_a': 50000, 'T': 298, 'I': 1, 'N': 50},\n        # Case 2 (shorter charge duration due to higher current)\n        {'A': 0.01, 'delta_0': 3e-9, 'k_0': 0.15, 'E_a': 50000, 'T': 298, 'I': 4, 'N': 50},\n        # Case 3 (lower temperature)\n        {'A': 0.01, 'delta_0': 3e-9, 'k_0': 0.15, 'E_a': 50000, 'T': 258, 'I': 1, 'N': 50},\n        # Case 4 (thin initial SEI)\n        {'A': 0.01, 'delta_0': 5e-10, 'k_0': 0.15, 'E_a': 50000, 'T': 298, 'I': 1, 'N': 50},\n    ]\n\n    all_results = []\n    for case_params in test_cases:\n        result = compute_ce_sequence(**case_params)\n        all_results.append(result)\n\n    # Format the final output string exactly as specified: [[...],[...],...]\n    formatted_results = [f\"[{','.join(map(str, res))}]\" for res in all_results]\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```"
        }
    ]
}