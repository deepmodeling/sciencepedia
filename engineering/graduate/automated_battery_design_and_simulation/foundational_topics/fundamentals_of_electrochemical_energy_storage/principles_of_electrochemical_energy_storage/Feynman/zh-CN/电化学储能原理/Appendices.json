{
    "hands_on_practices": [
        {
            "introduction": "在电池设计中，一个核心的挑战是理解并突破其功率输出的极限。这些极限通常源于电解质中离子传输的速率限制。本练习将引导您从基本原理出发，动手推导决定电池最大工作速率的关键参数之一——极限扩散电流密度。通过这个实践（），您不仅能掌握基于菲克定律的推导过程，还能定量分析电解质的宏观流动（例如，通过搅拌或内部流动设计）如何显著影响传质边界层，进而提高电池的性能极限。",
            "id": "3942739",
            "problem": "在一个自动化设计与模拟装置中，对一个置于非水锂离子电池（LIB）电解质中的平面锂沉积电极进行测试。电解质含有溶剂化的锂离子，其体相浓度为 $c_{\\infty}$，在电极附近，一个厚度为 $\\delta$ 的流体动力学边界层建立了一条垂直于表面的一维扩散路径。假设操作为等温，扩散系数 $D$ 恒定，且系统处于稳态。在传质限制条件下，界面锂离子浓度趋近于零。\n\n从菲克第一扩散定律和电荷守恒（法拉第定律）这些基本原理出发，推导平面电极的传质极限电流密度 $i_{\\mathrm{lim}}$ 的表达式，该表达式应由 $n$、$F$、$D$、$c_{\\infty}$ 和 $\\delta$ 表示。假设稳态下边界层内的浓度分布是线性的。\n\n然后，使用你推导的表达式，计算两种仅边界层厚度不同的流体动力学条件下的极限电流密度：\n- 静止：$\\delta_{\\mathrm{q}} = 2.5 \\times 10^{-4}\\ \\text{m}$，\n- 搅拌：$\\delta_{\\mathrm{s}} = 4.0 \\times 10^{-5}\\ \\text{m}$，\n其中 $n = 1$，$F = 96485\\ \\text{C mol}^{-1}$，$D = 1.5 \\times 10^{-9}\\ \\text{m}^{2}\\ \\text{s}^{-1}$，$c_{\\infty} = 1.2\\ \\text{mol L}^{-1}$（使用 $1\\ \\text{mol L}^{-1} = 1000\\ \\text{mol m}^{-3}$）。将两种电流密度以安培每平方米（A/m$^{2}$）表示。\n\n最后，根据你的推导，定性解释搅拌如何改变 $\\delta$ 及其对 $i_{\\mathrm{lim}}$ 的影响，并将你的推理与自动化电池设计模拟如何从流场推断 $\\delta$ 联系起来。\n\n报告无量纲比值 $i_{\\mathrm{lim},\\mathrm{s}}/i_{\\mathrm{lim},\\mathrm{q}}$ 作为你的最终答案，并四舍五入到四位有效数字。该比值无需单位。",
            "solution": "第一步是推导传质极限电流密度 $i_{\\mathrm{lim}}$ 的表达式。该问题涉及锂离子 Li$^+$ 向平面电极的一维扩散。设 $x$ 为垂直于电极表面的坐标，其中 $x=0$ 位于电极表面，$x=\\delta$ 位于流体动力学边界层的边缘。\n\n根据菲克第一扩散定律，物质的摩尔通量 $J$ 与浓度梯度成正比。在一维情况下，这表示为：\n$$J(x) = -D \\frac{dc(x)}{dx}$$\n其中 $D$ 是扩散系数，$c(x)$ 是在位置 $x$ 处的 Li$^+$ 的摩尔浓度。负号表示离子的净移动方向是从高浓度区域到低浓度区域。\n\n该问题指定假设在稳态下边界层内的浓度分布是线性的。这是 Nernst 扩散层模型的一个关键简化假设。边界条件为：\n1.  在扩散层边缘 ($x=\\delta$)：浓度等于体相浓度，$c(\\delta) = c_{\\infty}$。\n2.  在传质限制条件下 ($x=0$)：电化学反应非常快，以至于离子一到达表面就被消耗掉。因此，界面浓度趋近于零，$c(0) = 0$。\n\n对于线性分布，浓度梯度 $\\frac{dc}{dx}$ 在整个层（$0 \\le x \\le \\delta$）内是恒定的，可以计算为两个边界点之间的斜率：\n$$\\frac{dc}{dx} = \\frac{c(\\delta) - c(0)}{\\delta - 0} = \\frac{c_{\\infty} - 0}{\\delta} = \\frac{c_{\\infty}}{\\delta}$$\n将此恒定梯度代入菲克第一定律，得到稳态通量：\n$$J = -D \\left( \\frac{c_{\\infty}}{\\delta} \\right)$$\n通量 $J$ 的单位是 mol m$^{-2}$ s$^{-1}$。负号表示通量在负 $x$ 方向，即朝向位于 $x=0$ 的电极。因此，到达电极表面的离子通量的大小为：\n$$|J| = \\frac{Dc_{\\infty}}{\\delta}$$\n这代表了通过扩散向电极供应离子的最大可能速率。\n\n接下来，我们使用法拉第定律将此摩尔通量与电流密度联系起来。电流密度 $i$ 是单位面积单位时间内转移的总电荷。沉积反应为 $\\text{Li}^+ + e^- \\rightarrow \\text{Li}(s)$。每摩尔反应的 Li$^+$ 离子，会转移 $nF$ 的电荷，其中 $n$ 是每摩尔反应物所需的电子摩尔数（这里 $n=1$），$F$ 是法拉第常数（每摩尔电子的电荷）。\n\n电流密度与电极表面的摩尔通量大小成正比：\n$$i = nF|J|$$\n在传质限制条件下，此电流密度即为极限电流密度 $i_{\\mathrm{lim}}$。代入 $|J|$ 的表达式：\n$$i_{\\mathrm{lim}} = nF \\left( \\frac{Dc_{\\infty}}{\\delta} \\right)$$\n这就是平面电极传质极限电流密度所需的表达式。\n\n第二个任务是计算给定两种流体动力学条件下的 $i_{\\mathrm{lim}}$。首先，我们必须确保所有参数都使用一致的国际单位制（SI）单位。体相浓度为 $c_{\\infty} = 1.2\\ \\text{mol L}^{-1}$。使用提供的换算关系 $1\\ \\text{mol L}^{-1} = 1000\\ \\text{mol m}^{-3}$：\n$$c_{\\infty} = 1.2\\ \\text{mol L}^{-1} \\times \\frac{1000\\ \\text{mol m}^{-3}}{1\\ \\text{mol L}^{-1}} = 1200\\ \\text{mol m}^{-3}$$\n其他参数为：\n$n = 1$\n$F = 96485\\ \\text{C mol}^{-1}$\n$D = 1.5 \\times 10^{-9}\\ \\text{m}^{2}\\ \\text{s}^{-1}$\n\n让我们计算公共因子 $nFDc_{\\infty}$：\n$$nFDc_{\\infty} = (1) \\times (96485\\ \\text{C mol}^{-1}) \\times (1.5 \\times 10^{-9}\\ \\text{m}^{2}\\ \\text{s}^{-1}) \\times (1200\\ \\text{mol m}^{-3})$$\n$$nFDc_{\\infty} = 0.173673\\ \\text{C} \\cdot \\text{m}^{-1} \\cdot \\text{s}^{-1} = 0.173673\\ \\text{A} \\cdot \\text{m}^{-1}$$\n因为 $1\\ \\text{A} = 1\\ \\text{C s}^{-1}$。\n\n现在，我们可以计算每种情况下的极限电流密度：\n1.  静止条件：$\\delta_{\\mathrm{q}} = 2.5 \\times 10^{-4}\\ \\text{m}$\n$$i_{\\mathrm{lim},\\mathrm{q}} = \\frac{nFDc_{\\infty}}{\\delta_{\\mathrm{q}}} = \\frac{0.173673\\ \\text{A} \\cdot \\text{m}^{-1}}{2.5 \\times 10^{-4}\\ \\text{m}} \\approx 694.69\\ \\text{A m}^{-2}$$\n2.  搅拌条件：$\\delta_{\\mathrm{s}} = 4.0 \\times 10^{-5}\\ \\text{m}$\n$$i_{\\mathrm{lim},\\mathrm{s}} = \\frac{nFDc_{\\infty}}{\\delta_{\\mathrm{s}}} = \\frac{0.173673\\ \\text{A} \\cdot \\text{m}^{-1}}{4.0 \\times 10^{-5}\\ \\text{m}} \\approx 4341.83\\ \\text{A m}^{-2}$$\n\n第三个任务是定性解释。推导出的关系式 $i_{\\mathrm{lim}} = nFDc_{\\infty}/\\delta$ 表明，极限电流密度与扩散边界层的厚度 $\\delta$ 成反比。搅拌引入了强制对流，即主体流体的运动。这种对流将富含 Li$^+$ 离子的电解质从体相区域输送到比单独扩散所能达到的更靠近电极表面的地方。这种增强的传输使扩散层变薄；也就是说，扩散是主导输运机制的区域被压缩到紧贴表面。因此，搅拌减小了 $\\delta$ 的值。根据反比关系，较小的 $\\delta$ 会导致较大的浓度梯度，从而产生更高的极限电流密度 $i_{\\mathrm{lim}}$。\n在自动化电池设计和模拟的背景下，计算流体动力学（CFD）被用来模拟电池单元复杂几何形状内的电解质流场。这些模拟求解流体运动的控制方程（例如，Navier-Stokes 方程）以确定整个电池单元的速度分布。从这些流场中，可以利用专门的传质关联式或直接模拟浓度场来确定电极表面所有点的局部有效边界层厚度 $\\delta$。这使得能够预测 $i_{\\mathrm{lim}}$ 的空间分布，有助于识别潜在的高电流“热点”或易于发生过早传质限制和锂沉积的“死区”，从而指导改进电池设计。\n\n最后，我们计算无量纲比值 $i_{\\mathrm{lim},\\mathrm{s}}/i_{\\mathrm{lim},\\mathrm{q}}$。使用推导出的 $i_{\\mathrm{lim}}$ 表达式：\n$$\\frac{i_{\\mathrm{lim},\\mathrm{s}}}{i_{\\mathrm{lim},\\mathrm{q}}} = \\frac{\\frac{nFDc_{\\infty}}{\\delta_{\\mathrm{s}}}}{\\frac{nFDc_{\\infty}}{\\delta_{\\mathrm{q}}}}$$\n常数 $n$、$F$、$D$ 和 $c_{\\infty}$ 被消去，只留下边界层厚度的简单比值：\n$$\\frac{i_{\\mathrm{lim},\\mathrm{s}}}{i_{\\mathrm{lim},\\mathrm{q}}} = \\frac{\\delta_{\\mathrm{q}}}{\\delta_{\\mathrm{s}}}$$\n代入给定的数值：\n$$\\frac{i_{\\mathrm{lim},\\mathrm{s}}}{i_{\\mathrm{lim},\\mathrm{q}}} = \\frac{2.5 \\times 10^{-4}\\ \\text{m}}{4.0 \\times 10^{-5}\\ \\text{m}} = \\frac{2.5}{0.4} = 6.25$$\n问题要求答案四舍五入到四位有效数字。因此，该比值为 $6.250$。",
            "answer": "$$\n\\boxed{6.250}\n$$"
        },
        {
            "introduction": "电池的安全性和使用寿命在很大程度上取决于有效的热管理。在工作过程中，电池内部会因电化学反应和内部电阻而产生热量，如果不能有效散发，温度升高可能导致性能下降甚至热失控。本练习（）介绍了一种强大的工程简化方法——集总参数热模型，用于分析和预测电芯的温度动态。通过解决这个在动态功率输入下的瞬态热传导问题，您将学会如何评估电芯的温度响应，并判断其是否会超出安全工作范围，这是电池管理系统（BMS）设计中的一项基本技能。",
            "id": "3942743",
            "problem": "将一个单层软包电池热模型简化为具有单一热容和单一热阻的集总体，该热阻指向一个等温冷却环境。从应用于电池的能量守恒定律出发，将内部电化学产热视为一个给定的输入功率，并将向环境的散热视为一个线性热阻。该电池的质量为 $m = 0.075\\,\\mathrm{kg}$，有效比热容为 $c_{p} = 900\\,\\mathrm{J\\,kg^{-1}\\,K^{-1}}$，因此其集总热容为 $C_{\\mathrm{th}} = m c_{p}$。该电池连接到一个热管理板，与温度为 $T_{\\infty} = 298\\,\\mathrm{K}$ 的环境冷却剂之间存在一个有效热阻 $R_{\\mathrm{th}} = 2.4\\,\\mathrm{K\\,W^{-1}}$。电池的初始温度等于环境温度，$T(0) = T_{\\infty}$。\n\n在一个驱动循环中，内部产热功率曲线 $P(t)$ 是分段恒定的：\n- 当 $0 \\leq t  450\\,\\mathrm{s}$ 时，$P(t) = 18\\,\\mathrm{W}$。\n- 当 $450\\,\\mathrm{s} \\leq t  1200\\,\\mathrm{s}$ 时，$P(t) = 6\\,\\mathrm{W}$。\n- 当 $1200\\,\\mathrm{s} \\leq t \\leq 1500\\,\\mathrm{s}$ 时，$P(t) = 0\\,\\mathrm{W}$。\n\n电池卷芯的热安全极限被指定为 $T_{\\mathrm{lim}} = 333\\,\\mathrm{K}$。使用集总热容和热阻模型，从基本原理出发推导出该功率曲线下的温度轨迹 $T(t)$，确定在整个循环中达到的最高电池温度，并评估是否达到或超过了热安全极限。\n\n报告在循环中达到的单个最高温度。以摄氏度表示最终答案，并四舍五入到四位有效数字。",
            "solution": "集总体热模型基于能量守恒原理。电池内能的变化率等于内部产热率减去向周围环境的散热率。这个原理可以表示为以下一阶常微分方程（ODE）：\n$$C_{\\mathrm{th}} \\frac{dT(t)}{dt} = P(t) - Q_{\\mathrm{loss}}(t)$$\n其中 $T(t)$ 是电池温度，$C_{\\mathrm{th}}$ 是集总热容，$P(t)$ 是内部产热率，而 $Q_{\\mathrm{loss}}(t)$ 是向环境冷却剂的散热率。散热通过一个线性热阻 $R_{\\mathrm{th}}$ 建模，该热阻指向温度为 $T_{\\infty}$ 的等温环境：\n$$Q_{\\mathrm{loss}}(t) = \\frac{T(t) - T_{\\infty}}{R_{\\mathrm{th}}}$$\n将此代入能量平衡方程，得到电池温度的控制常微分方程：\n$$C_{\\mathrm{th}} \\frac{dT}{dt} = P(t) - \\frac{T(t) - T_{\\infty}}{R_{\\mathrm{th}}}$$\n该方程可以重排为一阶线性常微分方程的标准形式：\n$$\\frac{dT}{dt} + \\frac{1}{R_{\\mathrm{th}} C_{\\mathrm{th}}} T(t) = \\frac{P(t)}{C_{\\mathrm{th}}} + \\frac{T_{\\infty}}{R_{\\mathrm{th}} C_{\\mathrm{th}}}$$\n我们定义热时间常数 $\\tau = R_{\\mathrm{th}} C_{\\mathrm{th}}$。方程变为：\n$$\\frac{dT}{dt} + \\frac{1}{\\tau} T(t) = \\frac{P(t) R_{\\mathrm{th}} + T_{\\infty}}{\\tau}$$\n对于分段恒定的功率输入 $P$，此常微分方程在一个从 $t_i$ 开始、初始温度为 $T(t_i)$ 的时间区间内的解为：\n$$T(t) = T_{ss} + (T(t_i) - T_{ss}) \\exp\\left(-\\frac{t - t_i}{\\tau}\\right)$$\n其中 $T_{ss}$ 是恒定功率 $P$ 下的稳态温度，通过设置 $\\frac{dT}{dt}=0$ 求得：\n$$0 = P - \\frac{T_{ss} - T_{\\infty}}{R_{\\mathrm{th}}} \\implies T_{ss} = T_{\\infty} + P R_{\\mathrm{th}}$$\n\n首先，我们根据已知条件计算热学常数的值：\n- 热容：$C_{\\mathrm{th}} = m c_{p} = (0.075\\,\\mathrm{kg}) \\times (900\\,\\mathrm{J\\,kg^{-1}\\,K^{-1}}) = 67.5\\,\\mathrm{J\\,K^{-1}}$\n- 热时间常数：$\\tau = R_{\\mathrm{th}} C_{\\mathrm{th}} = (2.4\\,\\mathrm{K\\,W^{-1}}) \\times (67.5\\,\\mathrm{J\\,K^{-1}}) = 162\\,\\mathrm{s}$\n- 环境温度：$T_{\\infty} = 298\\,\\mathrm{K}$\n- 初始温度：$T(0) = 298\\,\\mathrm{K}$\n\n我们现在求解三个时间区间中每个区间的温度轨迹。\n\n**区间 1: $0 \\leq t  450\\,\\mathrm{s}$**\n- 功率：$P_1 = 18\\,\\mathrm{W}$\n- 初始条件：$T(0) = 298\\,\\mathrm{K}$\n- 此区间的稳态温度：\n$$T_{ss,1} = T_{\\infty} + P_1 R_{\\mathrm{th}} = 298\\,\\mathrm{K} + (18\\,\\mathrm{W})(2.4\\,\\mathrm{K\\,W^{-1}}) = 298\\,\\mathrm{K} + 43.2\\,\\mathrm{K} = 341.2\\,\\mathrm{K}$$\n- 温度演变过程为：\n$$T(t) = T_{ss,1} + (T(0) - T_{ss,1}) \\exp\\left(-\\frac{t}{\\tau}\\right) = 341.2 + (298 - 341.2) \\exp\\left(-\\frac{t}{162}\\right)$$\n$$T(t) = 341.2 - 43.2 \\exp\\left(-\\frac{t}{162}\\right)$$\n在此区间末尾，$t_1 = 450\\,\\mathrm{s}$ 时，温度为：\n$$T(450) = 341.2 - 43.2 \\exp\\left(-\\frac{450}{162}\\right) \\approx 341.2 - 43.2 \\exp(-2.777...) \\approx 341.2 - 43.2(0.06217) \\approx 338.514\\,\\mathrm{K}$$\n\n**区间 2: $450\\,\\mathrm{s} \\leq t  1200\\,\\mathrm{s}$**\n- 功率：$P_2 = 6\\,\\mathrm{W}$\n- 此区间的初始条件为 $T(450) \\approx 338.514\\,\\mathrm{K}$。令 $t' = t - 450$。\n- 此区间的稳态温度：\n$$T_{ss,2} = T_{\\infty} + P_2 R_{\\mathrm{th}} = 298\\,\\mathrm{K} + (6\\,\\mathrm{W})(2.4\\,\\mathrm{K\\,W^{-1}}) = 298\\,\\mathrm{K} + 14.4\\,\\mathrm{K} = 312.4\\,\\mathrm{K}$$\n- 温度演变过程为：\n$$T(t) = T_{ss,2} + (T(450) - T_{ss,2}) \\exp\\left(-\\frac{t-450}{\\tau}\\right) \\approx 312.4 + (338.514 - 312.4) \\exp\\left(-\\frac{t-450}{162}\\right)$$\n$$T(t) \\approx 312.4 + 26.114 \\exp\\left(-\\frac{t-450}{162}\\right)$$\n\n**区间 3: $1200\\,\\mathrm{s} \\leq t \\leq 1500\\,\\mathrm{s}$**\n- 功率：$P_3 = 0\\,\\mathrm{W}$\n- 初始条件为 $T(1200)$。\n- 此区间的稳态温度：\n$$T_{ss,3} = T_{\\infty} + P_3 R_{\\mathrm{th}} = 298\\,\\mathrm{K} + (0\\,\\mathrm{W})(2.4\\,\\mathrm{K\\,W^{-1}}) = 298\\,\\mathrm{K}$$\n\n为了找到最高温度，我们分析温度的变化率 $\\frac{dT}{dt} = \\frac{1}{C_{\\mathrm{th}}} \\left( P(t) R_{\\mathrm{th}} - (T(t)-T_{\\infty}) \\right)$。如果 $P(t) R_{\\mathrm{th}} > T(t)-T_{\\infty}$，温度升高，否则温度降低。\n\n- 在区间 1（$0 \\leq t  450\\,\\mathrm{s}$）中：$P_1 R_{\\mathrm{th}} = 43.2\\,\\mathrm{K}$。温度从 $T(0)=T_\\infty$ 开始，所以 $T(0)-T_\\infty = 0$。由于 $T(t)$ 向 $T_{ss,1}=341.2\\,\\mathrm{K}$ 增加，条件 $T(t)-T_\\infty  43.2\\,\\mathrm{K}$ 在整个区间内都成立（因为 $T(450)-T_\\infty \\approx 338.514 - 298 = 40.514\\,\\mathrm{K}  43.2\\,\\mathrm{K}$）。因此，温度在此区间内是单调递增的。\n\n- 在区间 2（$450\\,\\mathrm{s} \\leq t  1200\\,\\mathrm{s}$）中：$P_2 R_{\\mathrm{th}} = 14.4\\,\\mathrm{K}$。在此区间开始时，$T(450)-T_\\infty \\approx 40.514\\,\\mathrm{K}$。由于 $14.4\\,\\mathrm{K}  40.514\\,\\mathrm{K}$，$\\frac{dT}{dt}$ 变为负值。温度将单调下降，趋近于 $T_{ss,2} = 312.4\\,\\mathrm{K}$。\n\n- 在区间 3（$1200\\,\\mathrm{s} \\leq t \\leq 1500\\,\\mathrm{s}$）中：$P_3 R_{\\mathrm{th}} = 0\\,\\mathrm{K}$。在 $t=1200\\,\\mathrm{s}$ 时的温度将高于 $T_{ss,2}=312.4\\,\\mathrm{K}$，因此远高于 $T_\\infty=298\\,\\mathrm{K}$。所以 $T(1200)-T_\\infty > 0$，$\\frac{dT}{dt}$ 保持为负，电池继续向 $T_\\infty$ 冷却。\n\n温度在第一个区间内上升，在功率降低的时刻达到峰值，然后在循环的剩余时间内下降。因此，最高温度在 $t=450\\,\\mathrm{s}$ 时达到。\n$$T_{\\mathrm{max}} = T(450) = 341.2 - 43.2 \\exp\\left(-\\frac{450}{162}\\right) \\approx 338.514066\\,\\mathrm{K}$$\n问题要求以摄氏度报告此温度，并四舍五入到四位有效数字。转换公式为 $T_{^\\circ\\mathrm{C}} = T_{\\mathrm{K}} - 273.15$。\n$$T_{\\mathrm{max}}(^\\circ\\mathrm{C}) = 338.514066 - 273.15 = 65.364066\\,^\\circ\\mathrm{C}$$\n四舍五入到四位有效数字得到 $65.36\\,^\\circ\\mathrm{C}$。\n\n热安全极限是 $T_{\\mathrm{lim}} = 333\\,\\mathrm{K}$。由于 $T_{\\mathrm{max}} \\approx 338.51\\,\\mathrm{K}$，在循环期间超过了安全极限。问题只要求报告最高温度值。",
            "answer": "$$\n\\boxed{65.36}\n$$"
        },
        {
            "introduction": "电池的性能会随着循环次数的增加而衰退，理解和预测这种老化过程是实现长寿命储能系统的关键。固体电解质界面（SEI）膜的持续生长是导致锂离子电池容量衰减和内阻增加的主要机理之一。本练习（）要求您将描述SEI生长的物理化学定律转化为一个计算模型，并用它来模拟库伦效率随循环次数的演变。这项实践将理论与编程相结合，让您亲身体验如何通过仿真来研究电池的长期退化行为，这是自动化电池设计领域的一项核心能力。",
            "id": "3942723",
            "problem": "您的任务是构建一个数学上一致的耦合模型，该模型能够捕捉锂离子电池负极在恒流循环下固体电解质界面膜（SEI）的生长和可循环锂库存的损失，然后使用此模型模拟库仑效率如何随循环次数演变。程序必须实现该模型，为一组给定的物理上合理的参数计算库仑效率序列，并生成包含指定测试套件结果的单行输出。\n\n基本原理和模型假设：\n- 从法拉第电解定律开始：电化学反应消耗电荷的速率与反应物和产物的化学计量速率成正比。设SEI厚度表示为$\\delta(t)$（单位：米），寄生SEI形成电流密度表示为$j_{\\text{sei}}(t)$（单位：安培/平方米）。\n- 假设通过SEI的扩散限制的溶剂还原产生的电流密度与厚度成反比，$j_{\\text{sei}}(t) = \\kappa/\\delta(t)$，其中$\\kappa$是一个有效的传输动力学前置因子，单位为安培/米。\n- 假设有效前置因子$\\kappa$遵循阿伦尼乌斯（Arrhenius）温度依赖性，$\\kappa = k_0 \\exp\\!\\left(-\\frac{E_a}{R T}\\right)$，其中$k_0$是指前因子（单位：安培/米），$E_a$是活化能（单位：焦耳/摩尔），$R$是通用摩尔气体常数（单位：焦耳/摩尔·开尔文），$T$是温度（单位：开尔文）。\n- 通过法拉第定律和一个恒定的单位电荷厚度系数$\\Gamma$，将SEI厚度增长与消耗的电荷关联起来，使得$\\frac{d\\delta}{dt} = \\Gamma j_{\\text{sei}}(t)$。该系数定义为$\\Gamma = \\frac{M_{\\text{sei}}}{\\rho_{\\text{sei}} F n_e}$，其中$M_{\\text{sei}}$是主要SEI化合物的摩尔质量（单位：千克/摩尔），$\\rho_{\\text{sei}}$是其质量密度（单位：千克/立方米），$F$是法拉第常数（单位：库仑/摩尔），$n_e$是还原反应生成的每个SEI分子式单元的电子数（无量纲）。所有符号必须使用其物理上一致的单位。\n- 设单位面积的可循环锂库存为$N_{\\text{Li}}(t)$（单位：摩尔/平方米）。SEI生长与锂库存损失之间的耦合关系由$\\frac{dN_{\\text{Li}}}{dt} = -\\frac{j_{\\text{sei}}(t)}{F}$给出，假设每个并入SEI的锂离子不可逆地消耗一个电子；符号约定为当SEI消耗电荷时，库存减少。\n\n循环方案和待计算量：\n- 电池以恒定的每周期充电量$Q_{\\text{ch}}$（单位：库仑）和充电期间的恒定电流$I$（单位：安培）进行恒流循环。每个周期的充电时长为$t_{\\text{ch}} = \\frac{Q_{\\text{ch}}}{I}$（单位：秒）。为计算库仑效率，假设SEI形成主要发生在充电期间，并忽略放电期间的SEI形成。\n- 电极的几何面积为$A$（单位：平方米）。\n- 第$n$个周期的库仑效率，表示为$\\mathrm{CE}_n$，定义为测得的放电容量与施加的充电容量之比。在上述假设下，这由传递的可逆容量除以施加的电荷给出。作为充电期间SEI生长寄生电荷消耗的直接结果，这可以从第$n$个周期内因SEI形成而不可逆消耗的寄生电荷$Q_{\\text{loss},n}$计算得出：$\\mathrm{CE}_n = 1 - \\frac{Q_{\\text{loss},n}}{Q_{\\text{ch}}}$，其中$Q_{\\text{loss},n}$是该周期内副反应的总电荷（单位：库仑）。第$n$个周期的副反应电荷必须从上述耦合模型中获得，使用$j_{\\text{sei}}$、$\\delta(t)$和$\\Gamma$之间物理上一致的关系。\n\n实现要求：\n- 使用上述基本定律和定义，构建$\\delta$和$N_{\\text{Li}}$的逐周期更新，并从指定的初始条件$\\delta(0) = \\delta_0$和$N_{\\text{Li}}(0) = N_{\\text{Li},0}$开始，计算每个周期的$\\mathrm{CE}_n$。\n- 以正确的单位表示所有物理量：\n  - SEI厚度单位为米。\n  - 面积单位为平方米。\n  - 电流单位为安培。\n  - 电荷单位为库仑。\n  - 温度单位为开尔文。\n  - 活化能单位为焦耳/摩尔。\n  - 摩尔质量单位为千克/摩尔。\n  - 质量密度单位为千克/立方米。\n  - 库仑效率以小数值报告（无单位）。\n- 您的程序必须为下面描述的测试套件中的每个测试用例计算序列$\\left[\\mathrm{CE}_1, \\mathrm{CE}_2, \\ldots, \\mathrm{CE}_N\\right]$，其中$N$是模拟的循环次数。\n\n测试套件：\n对于每个测试用例，模拟$N$个周期并输出$\\mathrm{CE}_n$值的列表。使用$R = 8.314$焦耳/摩尔·开尔文和$F = 96485$库仑/摩尔。SEI的材料属性采用富含碳酸盐的SEI近似值，$M_{\\text{sei}} = 0.074$千克/摩尔，$\\rho_{\\text{sei}} = 2110$千克/立方米，以及$n_e = 1$。单位面积的初始可循环锂库存为$N_{\\text{Li},0} = 0.05$摩尔/平方米。每个周期的充电量为$Q_{\\text{ch}} = 3600$库仑。\n\n提供四个测试用例：\n- 用例1（正常路径）：$A = 0.01$，$\\delta_0 = 3\\times 10^{-9}$，$k_0 = 0.15$，$E_a = 50000$，$T = 298$，$I = 1$，$N = 50$。\n- 用例2（因电流较大导致充电时间较短）：$A = 0.01$，$\\delta_0 = 3\\times 10^{-9}$，$k_0 = 0.15$，$E_a = 50000$，$T = 298$，$I = 4$，$N = 50$。\n- 用例3（较低温度）：$A = 0.01$，$\\delta_0 = 3\\times 10^{-9}$，$k_0 = 0.15$，$E_a = 50000$，$T = 258$，$I = 1$，$N = 50$。\n- 用例4（初始SEI较薄）：$A = 0.01$，$\\delta_0 = 5\\times 10^{-10}$，$k_0 = 0.15$，$E_a = 50000$，$T = 298$，$I = 1$，$N = 50$。\n\n最终输出格式：\n您的程序应生成单行输出，其中包含一个逗号分隔的列表，该列表用方括号括起来，每个元素是对应测试用例每个周期的库仑效率列表，按用例1到4的顺序排列。例如，输出应类似于$[[\\mathrm{CE}_1^{(1)},\\ldots,\\mathrm{CE}_{N}^{(1)}],[\\mathrm{CE}_1^{(2)},\\ldots],[\\mathrm{CE}_1^{(3)},\\ldots],[\\mathrm{CE}_1^{(4)},\\ldots]]$，其中上标表示用例索引。不应打印任何其他文本。",
            "solution": "该问题要求构建并实现一个用于固体电解质界面膜（SEI）生长和可循环锂库存损失的耦合模型，应用于锂离子电池电极。目标是模拟在指定恒流循环次数下库仑效率（$\\mathrm{CE}$）的变化。该模型基于基本电化学原理，并需针对一组给定的测试用例进行求解。\n\n出发点是所提供的微分方程和定义集。我们将首先从这些连续时间方程推导出逐周期更新规则。根据题意，SEI生长主要发生在每个周期的充电阶段。\n\n首先，我们处理SEI厚度$\\delta(t)$。其生长速率由$\\frac{d\\delta}{dt} = \\Gamma j_{\\text{sei}}(t)$给出，其中寄生电流密度为$j_{\\text{sei}}(t) = \\kappa/\\delta(t)$。这里，$\\Gamma$是单位电荷厚度系数，$\\kappa$是有效的传输动力学前置因子。结合这些方程，得到关于$\\delta(t)$的单个微分方程：\n$$\n\\frac{d\\delta}{dt} = \\frac{\\Gamma \\kappa}{\\delta(t)}\n$$\n这是一个可分离的常微分方程。我们可以将其重新排列为$\\delta(t) d\\delta = \\Gamma \\kappa dt$。为了求出单个周期内的厚度变化，我们在充电周期$t_{\\text{ch}}$内对该方程进行积分。设$\\delta_{n-1}$为第$n$个周期开始时（即该周期充电步骤的$t=0$时刻）的SEI厚度，$\\delta_n$为充电周期$t_{\\text{ch}} = Q_{\\text{ch}}/I$结束时的厚度。\n$$\n\\int_{\\delta_{n-1}}^{\\delta_n} \\delta \\, d\\delta = \\int_{0}^{t_{\\text{ch}}} \\Gamma \\kappa \\, dt\n$$\n由于在固定温度下的单个充电步骤中，$\\Gamma$和$\\kappa$被视为常数，积分结果为：\n$$\n\\frac{1}{2}\\delta_n^2 - \\frac{1}{2}\\delta_{n-1}^2 = \\Gamma \\kappa t_{\\text{ch}}\n$$\n这为厚度的平方提供了一个从一个周期到下一个周期的离散更新规则：\n$$\n\\delta_n^2 = \\delta_{n-1}^2 + 2 \\Gamma \\kappa t_{\\text{ch}}\n$$\n因此，第$n$个周期充电结束时的SEI厚度为：\n$$\n\\delta_n = \\sqrt{\\delta_{n-1}^2 + 2 \\Gamma \\kappa t_{\\text{ch}}}\n$$\n模拟将从初始厚度$\\delta_0$开始。\n\n接下来，我们推导在第$n$个周期内因SEI形成而损失的总寄生电荷的表达式，记为$Q_{\\text{loss},n}$。总寄生电流为$I_{\\text{sei}}(t) = A \\cdot j_{\\text{sei}}(t)$，其中$A$是电极面积。在充电时间内对该电流进行积分，得到损失的电荷：\n$$\nQ_{\\text{loss},n} = \\int_{0}^{t_{\\text{ch}}} I_{\\text{sei}}(t) \\, dt = A \\int_{0}^{t_{\\text{ch}}} j_{\\text{sei}}(t) \\, dt\n$$\n利用关系式$j_{\\text{sei}}(t) = \\frac{1}{\\Gamma} \\frac{d\\delta}{dt}$，我们可以将积分变量从时间$t$更改为厚度$\\delta$：\n$$\nQ_{\\text{loss},n} = A \\int_{\\delta_{n-1}}^{\\delta_n} \\frac{1}{\\Gamma} \\, d\\delta = \\frac{A}{\\Gamma} (\\delta_n - \\delta_{n-1})\n$$\n该方程直接将一个周期内的电荷损失与该周期内SEI厚度的变化联系起来。\n\n第$n$个周期的库仑效率$\\mathrm{CE}_n$定义为$\\mathrm{CE}_n = 1 - \\frac{Q_{\\text{loss},n}}{Q_{\\text{ch}}}$。代入我们对$Q_{\\text{loss},n}$的表达式：\n$$\n\\mathrm{CE}_n = 1 - \\frac{A(\\delta_n - \\delta_{n-1})}{\\Gamma Q_{\\text{ch}}}\n$$\n这允许在每个周期使用厚度值$\\delta_{n-1}$和$\\delta_n$来计算$\\mathrm{CE}_n$。\n\n最后，我们考虑单位面积的可循环锂库存$N_{\\text{Li}}(t)$。其变化率由$\\frac{dN_{\\text{Li}}}{dt} = -\\frac{j_{\\text{sei}}(t)}{F}$给出。在第$n$个周期的充电时间内积分，得到该周期内可循环锂的总损失：\n$$\n\\Delta N_{\\text{Li},n} = N_{\\text{Li},n} - N_{\\text{Li},n-1} = -\\int_{0}^{t_{\\text{ch}}} \\frac{j_{\\text{sei}}(t)}{F} \\, dt = -\\frac{1}{F} \\frac{Q_{\\text{loss},n}}{A}\n$$\n因此，锂库存的更新规则是：\n$$\nN_{\\text{Li},n} = N_{\\text{Li},n-1} - \\frac{Q_{\\text{loss},n}}{A F}\n$$\n虽然$N_{\\text{Li},n}$的值不直接用于计算$\\mathrm{CE}_n$，但根据问题陈述，其计算是构成完整模型实现所必需的。\n\n每个测试用例的计算过程如下：\n1.  确定基本常数的值$R = 8.314 \\, \\text{J/(mol}\\cdot\\text{K)}$和$F = 96485 \\, \\text{C/mol}$。\n2.  定义SEI的材料属性（$M_{\\text{sei}} = 0.074 \\, \\text{kg/mol}$，$\\rho_{\\text{sei}} = 2110 \\, \\text{kg/m}^3$，$n_e=1$）和循环参数$Q_{\\text{ch}} = 3600 \\, \\text{C}$。\n3.  对于每个特定的测试用例，初始化参数$A$、$\\delta_0$、$k_0$、$E_a$、$T$、$I$和$N$。\n4.  计算派生参数：\n    -   $\\Gamma = \\frac{M_{\\text{sei}}}{\\rho_{\\text{sei}} F n_e}$\n    -   $\\kappa = k_0 \\exp\\left(-\\frac{E_a}{R T}\\right)$\n    -   $t_{\\text{ch}} = \\frac{Q_{\\text{ch}}}{I}$\n5.  初始化状态变量：$\\delta_{\\text{current}} \\leftarrow \\delta_0$和$N_{\\text{Li},\\text{current}} \\leftarrow N_{\\text{Li},0}$。\n6.  从周期$n = 1$迭代到$N$：\n    a. 存储当前厚度：$\\delta_{\\text{previous}} \\leftarrow \\delta_{\\text{current}}$。\n    b. 更新厚度：$\\delta_{\\text{current}} \\leftarrow \\sqrt{\\delta_{\\text{previous}}^2 + 2 \\Gamma \\kappa t_{\\text{ch}}}$。\n    c. 计算电荷损失：$Q_{\\text{loss},n} \\leftarrow \\frac{A}{\\Gamma}(\\delta_{\\text{current}} - \\delta_{\\text{previous}})$。\n    d. 计算库仑效率：$\\mathrm{CE}_n \\leftarrow 1 - \\frac{Q_{\\text{loss},n}}{Q_{\\text{ch}}}$。存储该值。\n    e. 更新锂库存：$N_{\\text{Li},\\text{current}} \\leftarrow N_{\\text{Li},\\text{current}} - \\frac{Q_{\\text{loss},n}}{A F}$。\n7.  收集该测试用例的$\\mathrm{CE}_n$值序列。\n最终的程序为所有指定的测试用例实现此算法，并按要求格式化输出。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the SEI growth and coulombic efficiency problem for a suite of test cases.\n    \"\"\"\n\n    # Global constants\n    R = 8.314  # J/(mol*K)\n    F = 96485  # C/mol\n\n    # SEI properties (carbonate-rich approximation)\n    M_sei = 0.074   # kg/mol\n    rho_sei = 2110  # kg/m^3\n    n_e = 1.0       # dimensionless\n\n    # General cycle parameters\n    N_li_0 = 0.05   # mol/m^2\n    Q_ch = 3600.0   # C\n\n    def compute_ce_sequence(A, delta_0, k_0, E_a, T, I, N):\n        \"\"\"\n        Computes the sequence of coulombic efficiencies for a single test case.\n\n        Args:\n            A (float): Electrode geometric area in m^2.\n            delta_0 (float): Initial SEI thickness in m.\n            k_0 (float): Pre-exponential factor in A/m.\n            E_a (float): Activation energy in J/mol.\n            T (float): Temperature in K.\n            I (float): Charge current in A.\n            N (int): Number of cycles to simulate.\n\n        Returns:\n            list: A list of coulombic efficiencies for N cycles.\n        \"\"\"\n        # Calculate derived constants based on the provided parameters\n        # Thickness-per-charge coefficient Gamma in m^3/C\n        Gamma = M_sei / (rho_sei * F * n_e)\n        \n        # Effective transport-kinetic prefactor kappa in A/m\n        kappa = k_0 * np.exp(-E_a / (R * T))\n        \n        # Charge duration per cycle t_ch in s\n        t_ch = Q_ch / I\n\n        # Initialize state variables\n        delta_current = delta_0\n        n_li_current = N_li_0\n        ce_list = []\n\n        # Loop through each cycle\n        for _ in range(N):\n            delta_previous = delta_current\n            \n            # Update SEI thickness using the derived discrete update rule\n            delta_current = np.sqrt(delta_previous**2 + 2 * Gamma * kappa * t_ch)\n            \n            # Calculate parasitic charge loss in this cycle\n            q_loss_n = (A / Gamma) * (delta_current - delta_previous)\n            \n            # Calculate Coulombic Efficiency for the cycle\n            ce_n = 1.0 - (q_loss_n / Q_ch)\n            ce_list.append(ce_n)\n            \n            # Update cyclable lithium inventory (as required, though unused for CE list)\n            n_li_current -= q_loss_n / (A * F)\n\n        return ce_list\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # Case 1 (happy path)\n        {'A': 0.01, 'delta_0': 3e-9, 'k_0': 0.15, 'E_a': 50000, 'T': 298, 'I': 1, 'N': 50},\n        # Case 2 (shorter charge duration due to higher current)\n        {'A': 0.01, 'delta_0': 3e-9, 'k_0': 0.15, 'E_a': 50000, 'T': 298, 'I': 4, 'N': 50},\n        # Case 3 (lower temperature)\n        {'A': 0.01, 'delta_0': 3e-9, 'k_0': 0.15, 'E_a': 50000, 'T': 258, 'I': 1, 'N': 50},\n        # Case 4 (thin initial SEI)\n        {'A': 0.01, 'delta_0': 5e-10, 'k_0': 0.15, 'E_a': 50000, 'T': 298, 'I': 1, 'N': 50},\n    ]\n\n    all_results = []\n    for case_params in test_cases:\n        result = compute_ce_sequence(**case_params)\n        all_results.append(result)\n\n    # Format the final output string exactly as specified: [[...],[...],...]\n    formatted_results = [f\"[{','.join(map(str, res))}]\" for res in all_results]\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```"
        }
    ]
}