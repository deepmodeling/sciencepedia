{
    "hands_on_practices": [
        {
            "introduction": "在自动化的电池设计与仿真流程中，我们常常需要整合来自不同文献、技术规格书和实验测量的数据。这些数据源可能采用不同的单位体系来描述比能量和能量密度。本练习旨在通过第一性原理推导，巩固您在不同单位（如焦耳、瓦时、兆焦耳）之间进行精确转换的能力，这是确保数据一致性和模型准确性的基本功。",
            "id": "3952144",
            "problem": "一个自动化的电池设计和仿真流程必须协调在不同单位制下报告的比能量和能量密度的材料特性数据集。比能量定义为单位质量的能量，能量密度定义为单位体积的能量。考虑比能量的单位 $\\mathrm{J/kg}$、$\\mathrm{Wh/kg}$、$\\mathrm{MJ/kg}$，以及能量密度的单位 $\\mathrm{J/m^{3}}$、$\\mathrm{Wh/L}$、$\\mathrm{MJ/m^{3}}$。仅使用以下基本事实：一瓦特等于一焦耳每秒，因此 $1\\,\\mathrm{Wh} = 3600\\,\\mathrm{J}$，以及升的定义 $1\\,\\mathrm{L} = 10^{-3}\\,\\mathrm{m}^{3}$。\n\n令 $s_{J/kg}$ 表示以 $\\mathrm{J/kg}$ 为单位的比能量值，$s_{Wh/kg}$ 表示以 $\\mathrm{Wh/kg}$ 为单位的同一物理量的值，$s_{MJ/kg}$ 表示以 $\\mathrm{MJ/kg}$ 为单位的值。类似地，令 $d_{J/m^{3}}$ 表示以 $\\mathrm{J/m^{3}}$ 为单位的能量密度值，$d_{Wh/L}$ 表示以 $\\mathrm{Wh/L}$ 为单位的同一物理量的值，$d_{MJ/m^{3}}$ 表示以 $\\mathrm{MJ/m^{3}}$ 为单位的值。\n\n从上述基本定义和事实出发，推导由以下关系式定义的精确、无量纲的乘法转换系数 $f_{1}$、$f_{2}$、$f_{3}$、$f_{4}$、$f_{5}$、$f_{6}$：\n$$\ns_{Wh/kg} = f_{1}\\,s_{J/kg}, \\quad s_{MJ/kg} = f_{2}\\,s_{J/kg}, \\quad s_{MJ/kg} = f_{3}\\,s_{Wh/kg},\n$$\n$$\nd_{Wh/L} = f_{4}\\,d_{J/m^{3}}, \\quad d_{MJ/m^{3}} = f_{5}\\,d_{J/m^{3}}, \\quad d_{MJ/m^{3}} = f_{6}\\,d_{Wh/L}.\n$$\n将您的最终答案表示为有序行矩阵 $\\bigl[f_{1}\\ \\\\ f_{2}\\ \\\\ f_{3}\\ \\\\ f_{4}\\ \\\\ f_{5}\\ \\\\ f_{6}\\bigr]$，使用精确值且不进行四舍五入。最终的行矩阵中不要包含单位。不需要进行数值近似或四舍五入。",
            "solution": "任务是推导六个无量纲的乘法转换系数 $f_1$ 到 $f_6$，这些系数关联了比能量和能量密度的不同单位。推导将基于所提供的定义和基本事实。\n\n基本事实如下：\n$1. \\quad 1\\,\\mathrm{Wh} = 3600\\,\\mathrm{J}$\n$2. \\quad 1\\,\\mathrm{L} = 10^{-3}\\,\\mathrm{m}^{3}$\n\n此外，我们使用国际单位制（SI）标准前缀“兆”（M），它代表因子 $10^6$。因此，$1\\,\\mathrm{MJ} = 10^6\\,\\mathrm{J}$。\n\n一个物理量的值是数值和单位的乘积。在单位转换时，物理量本身保持不变。每个推导都将使用这一原则。\n\n**推导 $f_1$ ($s_{Wh/kg} = f_{1}\\,s_{J/kg}$)**\n\n设 $S$ 为一个比能量。其值可以表示为 $S = s_{J/kg} \\cdot [\\mathrm{J/kg}]$ 或 $S = s_{Wh/kg} \\cdot [\\mathrm{Wh/kg}]$。\n令两者相等可得：\n$$s_{Wh/kg} \\left[ \\frac{\\mathrm{Wh}}{\\mathrm{kg}} \\right] = s_{J/kg} \\left[ \\frac{\\mathrm{J}}{\\mathrm{kg}} \\right]$$\n根据基本事实 $1\\,\\mathrm{Wh} = 3600\\,\\mathrm{J}$，我们可以写出单位焦耳的转换为 $1\\,\\mathrm{J} = \\frac{1}{3600}\\,\\mathrm{Wh}$。\n将此代入等式右侧：\n$$s_{Wh/kg} \\left[ \\frac{\\mathrm{Wh}}{\\mathrm{kg}} \\right] = s_{J/kg} \\left[ \\frac{1}{3600} \\frac{\\mathrm{Wh}}{\\mathrm{kg}} \\right]$$\n现在等式两边的单位相同。通过令数值系数相等，我们得到数值之间的关系：\n$$s_{Wh/kg} = \\frac{1}{3600} s_{J/kg}$$\n将其与给定关系式 $s_{Wh/kg} = f_{1}\\,s_{J/kg}$ 进行比较，我们发现：\n$$f_1 = \\frac{1}{3600}$$\n\n**推导 $f_2$ ($s_{MJ/kg} = f_{2}\\,s_{J/kg}$)**\n\n设 $S$ 为一个比能量。其值可以表示为 $S = s_{J/kg} \\cdot [\\mathrm{J/kg}]$ 或 $S = s_{MJ/kg} \\cdot [\\mathrm{MJ/kg}]$。\n令两者相等可得：\n$$s_{MJ/kg} \\left[ \\frac{\\mathrm{MJ}}{\\mathrm{kg}} \\right] = s_{J/kg} \\left[ \\frac{\\mathrm{J}}{\\mathrm{kg}} \\right]$$\n使用国际单位制前缀定义，$1\\,\\mathrm{MJ} = 10^6\\,\\mathrm{J}$，这意味着 $1\\,\\mathrm{J} = 10^{-6}\\,\\mathrm{MJ}$。\n将此代入等式右侧：\n$$s_{MJ/kg} \\left[ \\frac{\\mathrm{MJ}}{\\mathrm{kg}} \\right] = s_{J/kg} \\left[ 10^{-6} \\frac{\\mathrm{MJ}}{\\mathrm{kg}} \\right]$$\n令数值系数相等：\n$$s_{MJ/kg} = 10^{-6} s_{J/kg}$$\n将其与给定关系式 $s_{MJ/kg} = f_{2}\\,s_{J/kg}$ 进行比较，我们发现：\n$$f_2 = 10^{-6}$$\n\n**推导 $f_3$ ($s_{MJ/kg} = f_{3}\\,s_{Wh/kg}$)**\n\n设 $S$ 为一个比能量。其值可以表示为 $S = s_{Wh/kg} \\cdot [\\mathrm{Wh/kg}]$ 或 $S = s_{MJ/kg} \\cdot [\\mathrm{MJ/kg}]$。\n令两者相等可得：\n$$s_{MJ/kg} \\left[ \\frac{\\mathrm{MJ}}{\\mathrm{kg}} \\right] = s_{Wh/kg} \\left[ \\frac{\\mathrm{Wh}}{\\mathrm{kg}} \\right]$$\n我们需要将单位 $\\mathrm{Wh}$ 转换为 $\\mathrm{MJ}$。\n使用 $1\\,\\mathrm{Wh} = 3600\\,\\mathrm{J}$ 和 $1\\,\\mathrm{J} = 10^{-6}\\,\\mathrm{MJ}$，我们有：\n$$1\\,\\mathrm{Wh} = 3600 \\times (10^{-6}\\,\\mathrm{MJ}) = 3.6 \\times 10^3 \\times 10^{-6}\\,\\mathrm{MJ} = 3.6 \\times 10^{-3}\\,\\mathrm{MJ}$$\n将此代入等式右侧：\n$$s_{MJ/kg} \\left[ \\frac{\\mathrm{MJ}}{\\mathrm{kg}} \\right] = s_{Wh/kg} \\left[ 3.6 \\times 10^{-3} \\frac{\\mathrm{MJ}}{\\mathrm{kg}} \\right]$$\n令数值系数相等：\n$$s_{MJ/kg} = 3.6 \\times 10^{-3} s_{Wh/kg}$$\n将其与给定关系式 $s_{MJ/kg} = f_{3}\\,s_{Wh/kg}$ 进行比较，我们发现：\n$$f_3 = 3.6 \\times 10^{-3}$$\n\n**推导 $f_4$ ($d_{Wh/L} = f_{4}\\,d_{J/m^{3}}$)**\n\n设 $D$ 为一个能量密度。其值可以表示为 $D = d_{J/m^3} \\cdot [\\mathrm{J/m^3}]$ 或 $D = d_{Wh/L} \\cdot [\\mathrm{Wh/L}]$。\n令两者相等可得：\n$$d_{Wh/L} \\left[ \\frac{\\mathrm{Wh}}{\\mathrm{L}} \\right] = d_{J/m^{3}} \\left[ \\frac{\\mathrm{J}}{\\mathrm{m^3}} \\right]$$\n我们需要将单位 $\\mathrm{J/m^3}$ 转换为 $\\mathrm{Wh/L}$。我们使用 $1\\,\\mathrm{J} = \\frac{1}{3600}\\,\\mathrm{Wh}$ 和 $1\\,\\mathrm{m^3} = \\frac{1}{10^{-3}}\\,\\mathrm{L} = 10^3\\,\\mathrm{L}$。\n$$\n\\frac{\\mathrm{J}}{\\mathrm{m^3}} = \\frac{ \\frac{1}{3600} \\,\\mathrm{Wh} }{10^3\\,\\mathrm{L}} = \\frac{1}{3600 \\times 10^3} \\frac{\\mathrm{Wh}}{\\mathrm{L}} = \\frac{1}{3.6 \\times 10^6} \\frac{\\mathrm{Wh}}{\\mathrm{L}}\n$$\n将此代入 $D$ 的等式右侧：\n$$d_{Wh/L} \\left[ \\frac{\\mathrm{Wh}}{\\mathrm{L}} \\right] = d_{J/m^{3}} \\left[ \\frac{1}{3.6 \\times 10^6} \\frac{\\mathrm{Wh}}{\\mathrm{L}} \\right]$$\n令数值系数相等：\n$$d_{Wh/L} = \\frac{1}{3.6 \\times 10^6} d_{J/m^{3}} = \\frac{1}{3600000} d_{J/m^{3}}$$\n将其与给定关系式 $d_{Wh/L} = f_{4}\\,d_{J/m^{3}}$ 进行比较，我们发现：\n$$f_4 = \\frac{1}{3600000}$$\n\n**推导 $f_5$ ($d_{MJ/m^{3}} = f_{5}\\,d_{J/m^{3}}$)**\n\n设 $D$ 为一个能量密度。其值可以表示为 $D = d_{J/m^3} \\cdot [\\mathrm{J/m^3}]$ 或 $D = d_{MJ/m^3} \\cdot [\\mathrm{MJ/m^3}]$。\n令两者相等可得：\n$$d_{MJ/m^{3}} \\left[ \\frac{\\mathrm{MJ}}{\\mathrm{m^3}} \\right] = d_{J/m^{3}} \\left[ \\frac{\\mathrm{J}}{\\mathrm{m^3}} \\right]$$\n体积单位 $[\\mathrm{m^3}]$ 对两者是共同的。我们只需要转换能量单位。使用 $1\\,\\mathrm{J} = 10^{-6}\\,\\mathrm{MJ}$：\n$$d_{MJ/m^{3}} \\left[ \\frac{\\mathrm{MJ}}{\\mathrm{m^3}} \\right] = d_{J/m^{3}} \\left[ 10^{-6} \\frac{\\mathrm{MJ}}{\\mathrm{m^3}} \\right]$$\n令数值系数相等：\n$$d_{MJ/m^{3}} = 10^{-6} d_{J/m^{3}}$$\n将其与给定关系式 $d_{MJ/m^{3}} = f_{5}\\,d_{J/m^{3}}$ 进行比较，我们发现：\n$$f_5 = 10^{-6}$$\n\n**推导 $f_6$ ($d_{MJ/m^{3}} = f_{6}\\,d_{Wh/L}$)**\n\n设 $D$ 为一个能量密度。其值可以表示为 $D = d_{Wh/L} \\cdot [\\mathrm{Wh/L}]$ 或 $D = d_{MJ/m^3} \\cdot [\\mathrm{MJ/m^3}]$。\n令两者相等可得：\n$$d_{MJ/m^{3}} \\left[ \\frac{\\mathrm{MJ}}{\\mathrm{m^3}} \\right] = d_{Wh/L} \\left[ \\frac{\\mathrm{Wh}}{\\mathrm{L}} \\right]$$\n我们需要将单位 $\\mathrm{Wh/L}$ 转换为 $\\mathrm{MJ/m^3}$。我们使用 $1\\,\\mathrm{Wh} = 3600\\,\\mathrm{J}$、$1\\,\\mathrm{L} = 10^{-3}\\,\\mathrm{m^3}$ 和 $1\\,\\mathrm{J} = 10^{-6}\\,\\mathrm{MJ}$。\n首先，将 $\\mathrm{Wh/L}$ 转换为 $\\mathrm{J/m^3}$：\n$$\n\\frac{\\mathrm{Wh}}{\\mathrm{L}} = \\frac{3600\\,\\mathrm{J}}{10^{-3}\\,\\mathrm{m^3}} = 3600 \\times 10^3 \\frac{\\mathrm{J}}{\\mathrm{m^3}} = 3.6 \\times 10^6 \\frac{\\mathrm{J}}{\\mathrm{m^3}}\n$$\n接下来，将 $\\mathrm{J/m^3}$ 转换为 $\\mathrm{MJ/m^3}$：\n$$\n3.6 \\times 10^6 \\frac{\\mathrm{J}}{\\mathrm{m^3}} = 3.6 \\times 10^6 \\left( 10^{-6} \\frac{\\mathrm{MJ}}{\\mathrm{m^3}} \\right) = 3.6 \\frac{\\mathrm{MJ}}{\\mathrm{m^3}}\n$$\n所以，单位转换为 $1\\,\\frac{\\mathrm{Wh}}{\\mathrm{L}} = 3.6\\,\\frac{\\mathrm{MJ}}{\\mathrm{m^3}}$。将此代入 $D$ 的等式右侧：\n$$d_{MJ/m^{3}} \\left[ \\frac{\\mathrm{MJ}}{\\mathrm{m^3}} \\right] = d_{Wh/L} \\left[ 3.6 \\frac{\\mathrm{MJ}}{\\mathrm{m^3}} \\right]$$\n令数值系数相等：\n$$d_{MJ/m^{3}} = 3.6 \\, d_{Wh/L}$$\n将其与给定关系式 $d_{MJ/m^{3}} = f_{6}\\,d_{Wh/L}$ 进行比较，我们发现：\n$$f_6 = 3.6$$\n\n推导出的六个系数是：\n$f_1 = \\frac{1}{3600}$\n$f_2 = 10^{-6}$\n$f_3 = 3.6 \\times 10^{-3}$\n$f_4 = \\frac{1}{3600000}$\n$f_5 = 10^{-6}$\n$f_6 = 3.6$\n\n最终答案是这些精确值的有序行矩阵。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{1}{3600} & 10^{-6} & 3.6 \\times 10^{-3} & \\frac{1}{3600000} & 10^{-6} & 3.6\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "电池的标称比能量通常是一个理想值。在实际应用中，可获得的能量会受到工作条件（尤其是放电倍率）的显著影响。本练习将引导您使用一个简化的电化学模型，来量化分析不同放电倍率（C-rate）下电池的实际输出能量和比能量。通过这个实践，您将深刻理解内阻、电压降和放电截止条件如何共同决定电池的“可用”能量，这是评估电池性能和进行系统级设计的核心技能。",
            "id": "3952130",
            "problem": "一个单体电化学电池在恒流放电下的模型使用开路电压（OCV）函数和集总内阻来描述。令放电深度变量 $z \\in [0,1]$ 表示从电池中取出的电量占额定容量的比例，其中 $z=0$ 表示放电开始，$z=1$ 表示额定容量完全放电。开路电压（OCV）由 $V_{\\mathrm{oc}}(z)=3.6+0.4(1-z)$ 给出，负载下的端电压模型为 $V_{t}(z)=V_{\\mathrm{oc}}(z)-I R$，其中 $I$ 是放电电流，$R$ 是恒定的内阻。该电池的额定容量为 $2\\,\\mathrm{Ah}$，质量为 $45\\,\\mathrm{g}$，内阻为 $R=50\\,\\mathrm{m}\\Omega$。设定了截止电压 $V_{\\mathrm{cut}}=2.7\\,\\mathrm{V}$：当 $V_{t}(z)=V_{\\mathrm{cut}}$ 时，放电必须在第一个满足此条件的 $z$ 值处停止。\n\n从电能的定义 $E=\\int V\\,\\mathrm{d}Q$ 和欧姆定律出发，并利用移出电荷与放电深度之间的关系 $\\mathrm{d}Q=Q_{\\mathrm{nom}}\\,\\mathrm{d}z$（其中 $Q_{\\mathrm{nom}}$ 为额定容量），推导在恒定电流下放电直至达到截止电压或 $z=1$（以先到者为准）时释放的能量。然后，评估两种放电倍率下的放电能量和相应的比能量：$0.2\\mathrm{C}$ 和 $2\\mathrm{C}$。其中，C-rate（放电倍率）表示在一小时内放出额定容量所需的电流 $I$，即对于 $\\alpha\\mathrm{C}$，有 $I=\\alpha\\,Q_{\\mathrm{nom}}$。将放电能量以瓦时（Wh）表示，比能量以瓦时每千克（Wh/kg）表示。将最终数值结果四舍五入至四位有效数字。\n\n以四元行矩阵的形式提供最终答案，顺序为 $(E_{0.2\\mathrm{C}},\\ \\mathrm{SE}_{0.2\\mathrm{C}},\\ E_{2\\mathrm{C}},\\ \\mathrm{SE}_{2\\mathrm{C}})$。",
            "solution": "问题陈述已经过验证，被认为是科学上可靠、定义明确且客观的。它提出了一个标准的、尽管简化的恒流放电下电池单体的电化学模型。所有必要的参数和定义都已提供，不存在内部矛盾或科学上不合理的论断。因此，可以推导出一个完整且合理的解。\n\n电池在放电过程中释放的总电能 $E$ 是端电压 $V_{t}$ 对放出电荷 $Q$ 的积分：\n$$E = \\int V_{t} \\, \\mathrm{d}Q$$\n问题通过电池的额定容量 $Q_{\\mathrm{nom}}$ 将移出的电荷微分量 $\\mathrm{d}Q$ 与放电深度的微分变化量 $\\mathrm{d}z$ 联系起来：\n$$\\mathrm{d}Q = Q_{\\mathrm{nom}} \\, \\mathrm{d}z$$\n将此关系代入能量积分，并从放电开始（$z=0$）积分到最终放电深度（$z_{final}$），我们得到：\n$$E = \\int_{0}^{z_{final}} V_{t}(z) \\, Q_{\\mathrm{nom}} \\, \\mathrm{d}z = Q_{\\mathrm{nom}} \\int_{0}^{z_{final}} V_{t}(z) \\, \\mathrm{d}z$$\n端电压 $V_{t}(z)$ 由模型 $V_{t}(z) = V_{\\mathrm{oc}}(z) - IR$ 给出，其中 $I$ 是恒定的放电电流，$R$ 是内阻。开路电压 $V_{\\mathrm{oc}}(z)$ 是 $z$ 的线性函数：\n$$V_{\\mathrm{oc}}(z) = 3.6 + 0.4(1-z) = 3.6 + 0.4 - 0.4z = 4.0 - 0.4z$$\n将 $V_{\\mathrm{oc}}(z)$ 和 $V_{t}(z)$ 的表达式代入能量积分，得到：\n$$E = Q_{\\mathrm{nom}} \\int_{0}^{z_{final}} (4.0 - 0.4z - IR) \\, \\mathrm{d}z$$\n被积函数是 $z$ 的线性函数。执行定积分得到：\n$$E = Q_{\\mathrm{nom}} \\left[ (4.0 - IR)z - 0.4\\frac{z^2}{2} \\right]_{0}^{z_{final}}$$\n$$E = Q_{\\mathrm{nom}} \\left( (4.0 - IR)z_{final} - 0.2z_{final}^2 \\right)$$\n放电过程在电池完全放电（$z=1$）或端电压降至指定的截止电压 $V_{\\mathrm{cut}} = 2.7\\,\\mathrm{V}$ 时终止，以先发生者为准。令 $z_{cut}$ 为 $V_t(z) = V_{\\mathrm{cut}}$ 时的放电深度。\n$$V_{t}(z_{cut}) = 4.0 - 0.4z_{cut} - IR = V_{\\mathrm{cut}}$$\n求解 $z_{cut}$：\n$$0.4z_{cut} = 4.0 - V_{\\mathrm{cut}} - IR$$\n$$z_{cut} = \\frac{4.0 - V_{\\mathrm{cut}} - IR}{0.4}$$\n因此，最终放电深度为 $z_{final} = \\min(z_{cut}, 1)$。我们现在将此框架应用于两种指定的C-rate（放电倍率）。比能量 $\\mathrm{SE}$ 计算为 $\\mathrm{SE} = E/m$，其中 $m = 45\\,\\mathrm{g} = 0.045\\,\\mathrm{kg}$。\n\n情况1：$0.2\\mathrm{C}$ 放电倍率\n放电倍率 $\\alpha = 0.2\\,\\mathrm{h}^{-1}$。电流 $I_{0.2\\mathrm{C}}$ 为：\n$$I_{0.2\\mathrm{C}} = \\alpha Q_{\\mathrm{nom}} = 0.2\\,\\mathrm{h}^{-1} \\times 2\\,\\mathrm{Ah} = 0.4\\,\\mathrm{A}$$\n内阻 $R = 50\\,\\mathrm{m}\\Omega = 0.050\\,\\Omega$ 上的电压降为：\n$$I_{0.2\\mathrm{C}}R = (0.4\\,\\mathrm{A})(0.050\\,\\Omega) = 0.02\\,\\mathrm{V}$$\n我们计算此电流下的 $z_{cut}$：\n$$z_{cut, 0.2\\mathrm{C}} = \\frac{4.0 - 2.7 - 0.02}{0.4} = \\frac{1.28}{0.4} = 3.2$$\n由于 $z_{cut, 0.2\\mathrm{C}} = 3.2 > 1$，电池将在电压达到 $V_{\\mathrm{cut}}$ 之前完全放电至 $z=1$。因此，$z_{final} = 1$。\n放电能量 $E_{0.2\\mathrm{C}}$ 为：\n$$E_{0.2\\mathrm{C}} = (2\\,\\mathrm{Ah}) \\left( (4.0\\,\\mathrm{V} - 0.02\\,\\mathrm{V})(1) - 0.2\\,\\mathrm{V}(1)^2 \\right)$$\n$$E_{0.2\\mathrm{C}} = (2\\,\\mathrm{Ah}) (3.98\\,\\mathrm{V} - 0.2\\,\\mathrm{V}) = 2\\,\\mathrm{Ah} \\times 3.78\\,\\mathrm{V} = 7.56\\,\\mathrm{Wh}$$\n相应的比能量 $\\mathrm{SE}_{0.2\\mathrm{C}}$ 为：\n$$\\mathrm{SE}_{0.2\\mathrm{C}} = \\frac{7.56\\,\\mathrm{Wh}}{0.045\\,\\mathrm{kg}} = 168\\,\\mathrm{Wh}/\\mathrm{kg}$$\n四舍五入至四位有效数字，$E_{0.2\\mathrm{C}} = 7.560\\,\\mathrm{Wh}$ 且 $\\mathrm{SE}_{0.2\\mathrm{C}} = 168.0\\,\\mathrm{Wh}/\\mathrm{kg}$。\n\n情况2：$2\\mathrm{C}$ 放电倍率\n放电倍率 $\\alpha = 2\\,\\mathrm{h}^{-1}$。电流 $I_{2\\mathrm{C}}$ 为：\n$$I_{2\\mathrm{C}} = \\alpha Q_{\\mathrm{nom}} = 2\\,\\mathrm{h}^{-1} \\times 2\\,\\mathrm{Ah} = 4\\,\\mathrm{A}$$\n内阻上的电压降为：\n$$I_{2\\mathrm{C}}R = (4\\,\\mathrm{A})(0.050\\,\\Omega) = 0.2\\,\\mathrm{V}$$\n我们计算此电流下的 $z_{cut}$：\n$$z_{cut, 2\\mathrm{C}} = \\frac{4.0 - 2.7 - 0.2}{0.4} = \\frac{1.1}{0.4} = 2.75$$\n由于 $z_{cut, 2\\mathrm{C}} = 2.75 > 1$，电池同样将在电压达到 $V_{\\mathrm{cut}}$ 之前完全放电至 $z=1$。因此，$z_{final} = 1$。\n放电能量 $E_{2\\mathrm{C}}$ 为：\n$$E_{2\\mathrm{C}} = (2\\,\\mathrm{Ah}) \\left( (4.0\\,\\mathrm{V} - 0.2\\,\\mathrm{V})(1) - 0.2\\,\\mathrm{V}(1)^2 \\right)$$\n$$E_{2\\mathrm{C}} = (2\\,\\mathrm{Ah}) (3.8\\,\\mathrm{V} - 0.2\\,\\mathrm{V}) = 2\\,\\mathrm{Ah} \\times 3.6\\,\\mathrm{V} = 7.2\\,\\mathrm{Wh}$$\n相应的比能量 $\\mathrm{SE}_{2\\mathrm{C}}$ 为：\n$$\\mathrm{SE}_{2\\mathrm{C}} = \\frac{7.2\\,\\mathrm{Wh}}{0.045\\,\\mathrm{kg}} = 160\\,\\mathrm{Wh}/\\mathrm{kg}$$\n四舍五入至四位有效数字，$E_{2\\mathrm{C}} = 7.200\\,\\mathrm{Wh}$ 且 $\\mathrm{SE}_{2\\mathrm{C}} = 160.0\\,\\mathrm{Wh}/\\mathrm{kg}$。\n\n最终结果以所要求的四元行矩阵 $\\left(E_{0.2\\mathrm{C}},\\ \\mathrm{SE}_{0.2\\mathrm{C}},\\ E_{2\\mathrm{C}},\\ \\mathrm{SE}_{2\\mathrm{C}}\\right)$ 的形式呈现。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n7.560 & 168.0 & 7.200 & 160.0\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "提升电池能量密度的关键在于优化电极层面的设计，但这涉及到多个相互关联的材料和工艺参数。我们应该优先改进哪个参数？本练习将指导您从底层物理模型出发，进行一次一阶灵敏度分析，以量化评估电极的关键参数（如活性材料的压实密度、孔隙率和活性物质含量）的不确定性对整体能量密度的影响。通过编写代码解决这个问题，您将掌握一种识别设计瓶颈、指导优化方向的核心工程方法，这对于自动化电池设计平台的开发至关重要。",
            "id": "3952095",
            "problem": "考虑一种复合电池电极，其体积能量密度取决于单位体积内电化学活性材料的质量及其比能量。从以下构成推导基本基础的定义开始：\n\n- 令 $s_a$ 表示活性材料的比能量，单位为瓦时/千克 (Wh/kg)。\n- 令 $\\tau$ 表示活性粉末的振实密度，单位为千克/立方米 (kg/m$^3$)，解释为颗粒尺度上单位堆积体积内压实活性粉末的质量。\n- 令 $\\varepsilon$ 表示电极孔隙率（无量纲），定义为电极尺度上电极体积中由孔隙占据的比例。\n- 令 $\\omega_a$ 表示活性负载量（无量纲），定义为电极总固体中活性材料的质量分数。\n\n假设电化学非活性组分（粘合剂和导电添加剂）均匀分散在电极固体中，并且振实密度 $\\tau$ 适用于活性粉末相。根据第一性原理的单位体积质量论证，单位电极体积内的活性材料质量为 $m_a/V = \\tau \\cdot (1 - \\varepsilon) \\cdot \\omega_a$。那么，体积能量密度为 $E_v = s_a \\cdot \\tau \\cdot (1 - \\varepsilon) \\cdot \\omega_a$，单位为瓦时/立方米 (Wh/m$^3$)。需要时，使用 $1\\,\\text{m}^3 = 1000\\,\\text{L}$ 将其转换为瓦时/升 (Wh/L)。\n\n你需要对 $E_v$ 关于 $\\tau$、$\\varepsilon$ 和 $\\omega_a$ 中不确定性进行局部一阶灵敏度分析，假设这些参数中的不确定性是统计独立的，并且足够小以至于线性化是准确的。使用 $E_v$ 的对数线性化来计算无量纲方差贡献。具体来说，使用 $\\ln E_v$ 上的不确定性传播：\n$$\n\\ln E_v = \\ln s_a + \\ln \\tau + \\ln(1 - \\varepsilon) + \\ln \\omega_a,\n$$\n其中独立不确定性由标准差 $\\sigma_\\tau$（对于 $\\tau$）、$\\sigma_\\varepsilon$（对于 $\\varepsilon$）和 $\\sigma_{\\omega}$（对于 $\\omega_a$）表征。将相对标准差定义为 $\\sigma_{\\tau,\\mathrm{rel}} = \\sigma_\\tau / \\tau$ 和 $\\sigma_{\\omega,\\mathrm{rel}} = \\sigma_{\\omega}/\\omega_a$，并将有效孔隙率贡献定义为 $\\sigma_{\\varepsilon,\\mathrm{eff}} = \\sigma_\\varepsilon / (1 - \\varepsilon)$。对 $\\mathrm{Var}(\\ln E_v)$ 的一阶贡献为：\n$$\nC_\\tau = \\left(\\sigma_{\\tau,\\mathrm{rel}}\\right)^2,\\quad\nC_\\varepsilon = \\left(\\sigma_{\\varepsilon,\\mathrm{eff}}\\right)^2,\\quad\nC_{\\omega} = \\left(\\sigma_{\\omega,\\mathrm{rel}}\\right)^2,\n$$\n归一化分数贡献为：\n$$\nf_\\tau = \\frac{C_\\tau}{C_\\tau + C_\\varepsilon + C_{\\omega}},\\quad\nf_\\varepsilon = \\frac{C_\\varepsilon}{C_\\tau + C_\\varepsilon + C_{\\omega}},\\quad\nf_{\\omega} = \\frac{C_{\\omega}}{C_\\tau + C_\\varepsilon + C_{\\omega}}.\n$$\n\n你的任务是实现一个完整的、可运行的程序，对于每个测试用例，计算在方差意义上对 $E_v$ 影响最强的参数索引，以及每个参数对 $\\ln E_v$ 总方差的分数贡献。使用索引映射 $0 \\rightarrow \\tau$、$1 \\rightarrow \\varepsilon$、$2 \\rightarrow \\omega_a$。将每个分数贡献 $f_\\tau$、$f_\\varepsilon$、$f_{\\omega}$ 四舍五入到六位小数。$\\tau$ 和 $\\omega_a$ 的所有不确定性都以相对标准差（小数分数）的形式给出，而 $\\varepsilon$ 的不确定性以与 $\\varepsilon$ 相同单位的绝对标准差形式给出。假设 $s_a$ 的不确定性可以忽略不计，并将其视为已知的常数输入。\n\n物理单位和数值要求：\n- 需要时以 Wh/m$^3$ 计算 $E_v$，如果你希望验证物理合理性，可使用上述转换因子将其转换为 Wh/L；但是，不要在最终输出中包含 $E_v$。所有报告的灵敏度度量都是无量纲的。\n- 使用其指定单位表示所有提供的物理量。\n- 将 $\\tau$ 和 $\\omega_a$ 的所有不确定性输入表示为小数分数（不带百分号），将 $\\varepsilon$ 的不确定性输入表示为绝对标准差。\n- 本问题不涉及角度。\n\n测试套件：\n对于每个测试用例，程序接收一个元组 $(s_a, \\tau, \\varepsilon, \\omega_a, \\sigma_{\\tau,\\mathrm{rel}}, \\sigma_{\\varepsilon}, \\sigma_{\\omega,\\mathrm{rel}})$，其值如下：\n\n- 案例 $1$（一般情况）：$(200\\,\\text{Wh/kg},\\, 2200\\,\\text{kg/m}^3,\\, 0.35,\\, 0.93,\\, 0.05,\\, 0.03,\\, 0.02)$。\n- 案例 $2$（低孔隙率边界）：$(180\\,\\text{Wh/kg},\\, 2400\\,\\text{kg/m}^3,\\, 0.05,\\, 0.90,\\, 0.05,\\, 0.02,\\, 0.02)$。\n- 案例 $3$（高孔隙率边缘）：$(210\\,\\text{Wh/kg},\\, 2100\\,\\text{kg/m}^3,\\, 0.60,\\, 0.95,\\, 0.03,\\, 0.05,\\, 0.01)$。\n- 案例 $4$（主导的活性负载量不确定性）：$(200\\,\\text{Wh/kg},\\, 2300\\,\\text{kg/m}^3,\\, 0.30,\\, 0.99,\\, 0.02,\\, 0.02,\\, 0.10)$。\n\n要求的最终输出格式：\n你的程序应生成单行输出，其中包含用方括号括起来的逗号分隔列表形式的结果。对于每个测试用例，输出一个形式为 $[i_{\\max}, f_\\tau, f_\\varepsilon, f_{\\omega}]$ 的列表，其中 $i_{\\max}$ 是影响最大参数的整数索引，$f_\\tau$、$f_\\varepsilon$、$f_{\\omega}$ 是四舍五入到六位小数的分数贡献。最终的单行必须严格采用 $[[i_1,f_{\\tau,1},f_{\\varepsilon,1},f_{\\omega,1}],[i_2,f_{\\tau,2},f_{\\varepsilon,2},f_{\\omega,2}],\\dots]$ 的形式，不含空格。",
            "solution": "所提出的问题已经过严格验证，并被确定是可靠的。它在科学上基于材料科学和电化学的原理，特别是与电池电极的设计有关。其数学框架利用了对数线性化模型上的一阶不确定性传播，这是一种用于灵敏度分析的标准且适当的方法。该问题是适定的，提供了所有必要的参数和定义，确保可以推导出唯一且稳定的解。给定的物理量及其相关的不确定性是符合实际的。该问题没有模糊性、主观性和逻辑不一致性。因此，有必要提供一个完整的解决方案。\n\n主要目标是对象复合电池电极的体积能量密度 $E_v$ 进行一阶灵敏度分析。该分析将量化三个关键参数——振实密度（$\\tau$）、孔隙率（$\\varepsilon$）和活性材料质量分数（$\\omega_a$）中的不确定性对 $\\ln E_v$ 总方差的分数贡献。\n\n分析始于为体积能量密度提供的模型：\n$$\nE_v = s_a \\cdot \\tau \\cdot (1 - \\varepsilon) \\cdot \\omega_a\n$$\n其中 $s_a$ 是活性材料的比能量，被视为不确定性可忽略的常数。其他参数是 $\\tau$（振实密度）、$\\varepsilon$（孔隙率）和 $\\omega_a$（活性负载量）。\n\n为了便于进行灵敏度分析，我们采用对数线性化，将乘法模型转换为加法模型。对等式两边取自然对数，得到：\n$$\n\\ln E_v = \\ln s_a + \\ln \\tau + \\ln(1 - \\varepsilon) + \\ln \\omega_a\n$$\n对于具有独立变量 $x_i$ 的函数 $y = f(x_1, x_2, \\dots, x_n)$，其不确定性传播由以下一阶公式给出：\n$$\n\\mathrm{Var}(y) \\approx \\sum_{i=1}^{n} \\left( \\frac{\\partial f}{\\partial x_i} \\right)^2 \\mathrm{Var}(x_i)\n$$\n其中 $\\mathrm{Var}(x_i) = \\sigma_{x_i}^2$ 是变量 $x_i$ 的方差。\n\n将此应用于我们的对数模型 $y = \\ln E_v$，其中变量为 $\\tau$、$\\varepsilon$ 和 $\\omega_a$，我们首先计算偏导数：\n- 关于 $\\tau$：$\\frac{\\partial (\\ln E_v)}{\\partial \\tau} = \\frac{1}{\\tau}$\n- 关于 $\\varepsilon$：$\\frac{\\partial (\\ln E_v)}{\\partial \\varepsilon} = \\frac{1}{1 - \\varepsilon} \\cdot (-1) = -\\frac{1}{1 - \\varepsilon}$\n- 关于 $\\omega_a$：$\\frac{\\partial (\\ln E_v)}{\\partial \\omega_a} = \\frac{1}{\\omega_a}$\n\n将这些导数代入方差传播公式，$\\ln E_v$ 的总方差近似为：\n$$\n\\mathrm{Var}(\\ln E_v) \\approx \\left(\\frac{1}{\\tau}\\right)^2 \\sigma_\\tau^2 + \\left(-\\frac{1}{1 - \\varepsilon}\\right)^2 \\sigma_\\varepsilon^2 + \\left(\\frac{1}{\\omega_a}\\right)^2 \\sigma_{\\omega_a}^2\n$$\n该表达式可以根据问题陈述中定义的相对不确定性和有效不确定性重写为：\n$$\n\\mathrm{Var}(\\ln E_v) \\approx \\left(\\frac{\\sigma_\\tau}{\\tau}\\right)^2 + \\left(\\frac{\\sigma_\\varepsilon}{1 - \\varepsilon}\\right)^2 + \\left(\\frac{\\sigma_{\\omega_a}}{\\omega_a}\\right)^2\n$$\n问题将单个方差贡献 $C_i$ 定义如下：\n- $C_\\tau = (\\sigma_{\\tau,\\mathrm{rel}})^2 = \\left(\\frac{\\sigma_\\tau}{\\tau}\\right)^2$\n- $C_\\varepsilon = (\\sigma_{\\varepsilon,\\mathrm{eff}})^2 = \\left(\\frac{\\sigma_\\varepsilon}{1 - \\varepsilon}\\right)^2$\n- $C_{\\omega} = (\\sigma_{\\omega,\\mathrm{rel}})^2 = \\left(\\frac{\\sigma_{\\omega_a}}{\\omega_a}\\right)^2\n\n$\\ln E_v$ 的总方差是这些贡献的总和：$C_{total} = C_\\tau + C_\\varepsilon + C_{\\omega}$。\n\n归一化分数贡献 $f_i$ 代表了归因于每个参数的总方差比例，其计算方式如下：\n$$\nf_\\tau = \\frac{C_\\tau}{C_{total}}, \\quad f_\\varepsilon = \\frac{C_\\varepsilon}{C_{total}}, \\quad f_{\\omega} = \\frac{C_{\\omega}}{C_{total}}\n$$\n具有最大方差贡献 $C_i$ 的参数被认为是影响最大的。该参数的索引 $i_{\\max}$ 使用映射 $0 \\rightarrow \\tau$、$1 \\rightarrow \\varepsilon$ 和 $2 \\rightarrow \\omega_a$ 来确定。\n\n每个测试用例的算法步骤如下：\n1.  接收输入参数 $(\\dots, \\varepsilon, \\dots, \\sigma_{\\tau,\\mathrm{rel}}, \\sigma_{\\varepsilon}, \\sigma_{\\omega,\\mathrm{rel}})$。\n2.  计算单个方差贡献：$C_\\tau = (\\sigma_{\\tau,\\mathrm{rel}})^2$、$C_\\varepsilon = (\\sigma_\\varepsilon / (1 - \\varepsilon))^2$ 和 $C_{\\omega} = (\\sigma_{\\omega,\\mathrm{rel}})^2$。\n3.  识别 $C_\\tau$、$C_\\varepsilon$ 和 $C_{\\omega}$ 中的最大贡献以确定索引 $i_{\\max}$。例如，如果 $C_\\varepsilon$ 是最大的，则 $i_{\\max}$ 为 $1$。\n4.  将贡献求和以找到总方差：$C_{total} = C_\\tau + C_\\varepsilon + C_{\\omega}$。\n5.  通过将每个单个贡献除以 $C_{total}$ 来计算分数贡献 $f_\\tau$、$f_\\varepsilon$ 和 $f_{\\omega}$。\n6.  将每个分数贡献四舍五入到六位小数。\n7.  将结果格式化为列表 $[i_{\\max}, f_\\tau, f_\\varepsilon, f_{\\omega}]$。\n\n这种有原则的方法系统地确定了电极能量密度对其组成材料和结构特性变化的灵敏度，为电池制造中的过程控制和优化提供了定量基础。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Calculates the most influential parameter and the fractional variance\n    contributions for the volumetric energy density of a battery electrode\n    based on a first-order sensitivity analysis.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    # Each tuple contains:\n    # (s_a, tau, epsilon, omega_a, sigma_tau_rel, sigma_epsilon, sigma_omega_rel)\n    # s_a: specific energy (Wh/kg)\n    # tau: tap density (kg/m^3)\n    # epsilon: porosity (dimensionless)\n    # omega_a: active loading (dimensionless)\n    # sigma_tau_rel: relative std dev of tau\n    # sigma_epsilon: absolute std dev of epsilon\n    # sigma_omega_rel: relative std dev of omega_a\n    test_cases = [\n        (200, 2200, 0.35, 0.93, 0.05, 0.03, 0.02),\n        (180, 2400, 0.05, 0.90, 0.05, 0.02, 0.02),\n        (210, 2100, 0.60, 0.95, 0.03, 0.05, 0.01),\n        (200, 2300, 0.30, 0.99, 0.02, 0.02, 0.10),\n    ]\n\n    results = []\n    for case in test_cases:\n        # Unpack the case parameters. s_a and tau are not needed for this\n        # specific calculation but are part of the problem's data structure.\n        s_a, tau, epsilon, omega_a, sigma_tau_rel, sigma_epsilon, sigma_omega_rel = case\n\n        # Calculate the individual variance contributions (C_i)\n        # C_tau = (sigma_tau_rel)^2\n        # C_epsilon = (sigma_epsilon_eff)^2 = (sigma_epsilon / (1 - epsilon))^2\n        # C_omega = (sigma_omega_rel)^2\n        \n        C_tau = sigma_tau_rel**2\n        \n        # Guard against division by zero if epsilon is 1, though problem\n        # constraints make this impossible.\n        if epsilon >= 1.0:\n            # Physically impossible state, results would be non-physical\n            # Assigning infinity to ensure it's handled if it ever occurs\n            C_epsilon = float('inf')\n        else:\n            sigma_epsilon_eff = sigma_epsilon / (1.0 - epsilon)\n            C_epsilon = sigma_epsilon_eff**2\n            \n        C_omega = sigma_omega_rel**2\n\n        # Create a list of contributions to find the maximum\n        contributions = [C_tau, C_epsilon, C_omega]\n        \n        # Determine the index of the most influential parameter (0: tau, 1: epsilon, 2: omega_a)\n        i_max = np.argmax(contributions)\n\n        # Calculate the total variance\n        C_total = sum(contributions)\n\n        # Calculate fractional contributions (f_i) and round to 6 decimal places.\n        # Guard against division by zero if all uncertainties are zero.\n        if C_total > 0:\n            f_tau = round(C_tau / C_total, 6)\n            f_epsilon = round(C_epsilon / C_total, 6)\n            f_omega = round(C_omega / C_total, 6)\n        else:\n            # If total variance is zero, contributions are undefined or can be set to 0.\n            f_tau, f_epsilon, f_omega = 0.0, 0.0, 0.0\n\n        # Append the formatted result for the current case\n        results.append([i_max, f_tau, f_epsilon, f_omega])\n\n    # Format the final output string exactly as required, with no spaces.\n    inner_strings = [f\"[{res[0]},{res[1]},{res[2]},{res[3]}]\" for res in results]\n    final_output = f\"[{','.join(inner_strings)}]\"\n    \n    # Print the final result in the exact required format.\n    print(final_output)\n\nsolve()\n```"
        }
    ]
}