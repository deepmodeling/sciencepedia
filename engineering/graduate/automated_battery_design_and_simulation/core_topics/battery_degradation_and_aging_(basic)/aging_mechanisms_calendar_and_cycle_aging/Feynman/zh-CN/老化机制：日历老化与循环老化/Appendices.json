{
    "hands_on_practices": [
        {
            "introduction": "理解电池退化的物理根源对于设计稳健的系统至关重要。本次实践首先深入探讨低温充电过程中发生的电化学现象，这是一种会显著加速老化的工况。通过推导和计算桑德时间（Sand's time），您将量化锂析出（一种严重的退化模式）的风险，从而将基础的传输原​​理与实际操作限制联系起来。",
            "id": "3893079",
            "problem": "一个锂离子电池（LIB）的石墨负极在低温环境中以恒定的几何电流密度进行充电。在一个与负极相邻的一维、半无限电解质区域中，假设存在一种二元、电中性的电解质，其初始本体盐浓度 $c_0$ 均匀，并受菲克扩散定律支配。充电过程中，离子电流 $i$ 流向负极，由于通过溶剂固定的阳离子迁移数 $t_+^0$ 的传输耦合作用，负极附近的盐浓度下降。电解质盐扩散系数 $D(T)$ 和负极交换电流密度 $i_0(T)$ 均遵循阿伦尼乌斯温度依赖性。将电解质视为静止（无对流）、等温、无均相反应，并忽略体积变化效应。\n\n从物质守恒定律和菲克第二定律出发，解释温度降低如何导致 $D(T)$ 和 $i_0(T)$ 减小，从而在给定电流 $i$ 的情况下，同时增大了浓差极化和动力学过电势。使用法拉第定律，在电中性条件下将施加的电流密度与界面盐通量联系起来。在负极处施加一个恒定通量的边界条件，并推导负极表面盐浓度达到零的时间（即桑德时间 $t_s$）的显式表达式。然后，使用以下物理上一致的参数，计算在 $T=273\\,\\mathrm{K}$ 时的 $t_s$ 值：\n- 参考温度: $T_\\mathrm{ref} = 298\\,\\mathrm{K}$。\n- 初始本体盐浓度: $c_0 = 1000\\,\\mathrm{mol\\,m^{-3}}$。\n- 在 $T_\\mathrm{ref}$ 时的参考电解质盐扩散系数: $D_\\mathrm{ref} = 2.4 \\times 10^{-10}\\,\\mathrm{m^2\\,s^{-1}}$。\n- 扩散活化能: $E_D = 22 \\times 10^{3}\\,\\mathrm{J\\,mol^{-1}}$。\n- 溶剂固定的阳离子迁移数: $t_+^0 = 0.38$。\n- 充电期间的几何电流密度: $i = 25\\,\\mathrm{A\\,m^{-2}}$。\n- 法拉第常数: $F = 96485\\,\\mathrm{C\\,mol^{-1}}$。\n- 普适气体常数: $R = 8.314\\,\\mathrm{J\\,mol^{-1}\\,K^{-1}}$。\n- 交换电流密度遵循 $i_0(T) = i_{0,\\mathrm{ref}} \\exp\\!\\left[-\\dfrac{E_a}{R}\\left(\\dfrac{1}{T}-\\dfrac{1}{T_\\mathrm{ref}}\\right)\\right]$，具有某个活化能 $E_a0$ 和参考值 $i_{0,\\mathrm{ref}}$（这仅用于动力学效应的定性解释；$i_0$ 不需要数值）。\n\n将 $t_s$ 的最终数值答案四舍五入至三位有效数字。时间以秒 (s) 为单位表示。",
            "solution": "问题陈述已经过严格评估，被确定为科学上合理、提法明确且完整。它描述了一个植根于基本原理的经典电化学传输问题，并为求得唯一解提供了所有必要参数。因此，我们可以继续进行推导和计算。\n\n该问题需要进行两部分分析：首先，定性解释温度对电化学过电势的影响；其次，定量推导和计算桑德时间 $t_s$。\n\n**第一部分：温度对过电势的定性影响**\n\n这里涉及两个主要的过电势来源：动力学过电势（$\\eta_k$）和浓差过电势（$\\eta_c$）。\n\n1.  **动力学过电势 ($\\eta_k$):** 驱动电荷转移反应（在此情况下为锂离子嵌入石墨）以非零速率进行所需的过电势。电流密度 ($i$) 与动力学过电势之间的关系由巴特勒-沃尔默方程描述。该方程中的一个关键参数是交换电流密度 $i_0$，它代表了平衡状态下的反应速率。问题陈述指出，$i_0(T)$ 遵循阿伦尼乌斯型温度依赖性：\n    $$i_0(T) = i_{0,\\mathrm{ref}} \\exp\\left[-\\frac{E_a}{R}\\left(\\frac{1}{T}-\\frac{1}{T_\\mathrm{ref}}\\right)\\right]$$\n    其中活化能 $E_a$ 为正。当温度 $T$ 降低时，项 $(\\frac{1}{T} - \\frac{1}{T_\\mathrm{ref}})$ 变为更大的正值。考虑到 $E_a  0$ 和 $R  0$，指数的参数会变为更小的负值。因此，温度降低导致交换电流密度 $i_0(T)$ 减小。根据巴特勒-沃尔默方程，对于给定的施加电流密度 $i$，较小的 $i_0$ 需要更大绝对值的动力学过电势 $|\\eta_k|$ 来维持反应速率。因此，低温会增加动力学限制。\n\n2.  **浓差过电势 ($\\eta_c$):** 这种过电势源于电极表面和本体电解质之间电活性物质（此处为 Li$^+$ 离子，反映在盐浓度 $c$ 中）浓度的空间差异。在恒定电流下，离子在电极表面被消耗，从而建立起浓度梯度。问题陈述指出，电解质盐扩散系数 $D(T)$ 也遵循阿伦尼乌斯关系：\n    $$D(T) = D_\\mathrm{ref} \\exp\\left[-\\frac{E_D}{R}\\left(\\frac{1}{T}-\\frac{1}{T_\\mathrm{ref}}\\right)\\right]$$\n    其中扩散活化能 $E_D$ 为正。与 $i_0$ 的情况类似，温度 $T$ 的降低会导致盐扩散系数 $D(T)$ 的减小。根据菲克第一定律，盐通量 ($N_s$) 与扩散系数和浓度梯度的乘积成正比：$N_s = -D \\frac{\\partial c}{\\partial x}$。为了维持到电极表面的恒定离子通量（这是维持恒定电流 $i$ 所需的），较低的扩散系数 $D$ 必须由更陡峭的浓度梯度 $|\\frac{\\partial c}{\\partial x}|$ 来补偿。更陡峭的梯度意味着本体浓度 ($c_0$) 和表面浓度 ($c_s$) 之间的差异更大。这种更大的浓度差异对应于更大的浓差过电势。\n\n总之，温度降低会同时减小 $i_0(T)$ 和 $D(T)$，这又分别导致动力学过电势和浓差过电势的增加，从而阻碍了电池的性能。\n\n**第二部分：桑德时间 ($t_s$) 的推导与计算**\n\n我们从一维区域（$x \\ge 0$）中无均相反应的盐的物质守恒定律开始：\n$$ \\frac{\\partial c}{\\partial t} = -\\frac{\\partial N_s}{\\partial x} $$\n其中 $c(x,t)$ 是盐浓度，$N_s$ 是盐通量。假设扩散系数 $D$ 相对于浓度和位置是恒定的，菲克第一定律给出 $N_s = -D \\frac{\\partial c}{\\partial x}$。将其代入守恒定律，得到控制浓度动态变化的菲克第二定律：\n$$ \\frac{\\partial c}{\\partial t} = D \\frac{\\partial^2 c}{\\partial x^2} $$\n为了求解这个偏微分方程，我们必须指定初始条件和边界条件。\n\n*   **初始条件 (IC):** 在 $t=0$ 时，电解质具有均匀的浓度 $c_0$。\n    $$ c(x, 0) = c_0 \\quad \\text{for } x \\ge 0 $$\n*   **边界条件1 (BC1):** 区域是半无限的，因此在远离电极处，浓度保持其本体值。\n    $$ \\lim_{x \\to \\infty} c(x, t) = c_0 \\quad \\text{for } t \\ge 0 $$\n*   **边界条件2 (BC2):** 在负极表面（$x=0$）处，施加一个恒定的电流密度 $i$。该电流由离子承载。在电解质中，电流通过阳离子通量（$N_+$）和阴离子通量（$N_-$）与电流密度相关：$i = F(z_+ N_+ + z_- N_-)$。对于像 LiPF$_6$ 这样的 1:1 型电解质，$z_+=1$ 且 $z_-=-1$。阳离子的迁移数 $t_+^0$ 代表由阳离子承载的电流分数，$i_+ = t_+^0 i = F N_+$。然而，出现在我们扩散方程中的是盐通量。根据二元电解质的浓溶液理论，电极表面的盐通量 $N_s$ 与电流密度 $i$ 和阳离子迁移数 $t_+^0$ 的关系如下：\n    $$ N_s(x=0) = \\frac{i(1-t_+^0)}{F} $$\n    由于 $N_s = -D \\frac{\\partial c}{\\partial x}$，我们可以将电极表面的恒定通量边界条件写为：\n    $$ -D \\frac{\\partial c}{\\partial x} \\bigg|_{x=0} = \\frac{i(1 - t_+^0)}{F} \\quad \\text{for } t  0 $$\n\n菲克第二定律在这些特定的初始和边界条件下，其在表面（$x=0$）处的浓度解是输运现象中的一个标准结果：\n$$ c(0, t) = c_0 - \\frac{2i(1-t_+^0)}{F\\sqrt{\\pi D}} \\sqrt{t} $$\n桑德时间 $t_s$ 定义为表面浓度降至零的时间，即 $c(0, t_s) = 0$。将上述表达式设为零，我们可以求解 $t_s$。\n$$ 0 = c_0 - \\frac{2i(1-t_+^0)}{F\\sqrt{\\pi D}} \\sqrt{t_s} $$\n$$ \\sqrt{t_s} = \\frac{c_0 F \\sqrt{\\pi D}}{2i(1-t_+^0)} $$\n两边平方，得到桑德时间的显式表达式：\n$$ t_s = \\frac{\\pi D}{4} \\left( \\frac{c_0 F}{i(1-t_+^0)} \\right)^2 $$\n这就是著名的桑德方程。\n\n**数值计算：**\n我们必须首先计算在操作温度 $T = 273\\,\\mathrm{K}$ 下的盐扩散系数 $D$。\n$$ D(T) = D_\\mathrm{ref} \\exp\\left[-\\frac{E_D}{R}\\left(\\frac{1}{T} - \\frac{1}{T_\\mathrm{ref}}\\right)\\right] $$\n使用给定参数：\n$D_\\mathrm{ref} = 2.4 \\times 10^{-10}\\,\\mathrm{m^2\\,s^{-1}}$，$T_\\mathrm{ref} = 298\\,\\mathrm{K}$，$E_D = 22 \\times 10^{3}\\,\\mathrm{J\\,mol^{-1}}$，$R = 8.314\\,\\mathrm{J\\,mol^{-1}\\,K^{-1}}$，$T = 273\\,\\mathrm{K}$。\n$$ \\frac{E_D}{R} = \\frac{22 \\times 10^{3}\\,\\mathrm{J\\,mol^{-1}}}{8.314\\,\\mathrm{J\\,mol^{-1}\\,K^{-1}}} \\approx 2646.14\\,\\mathrm{K} $$\n$$ \\frac{1}{T} - \\frac{1}{T_\\mathrm{ref}} = \\frac{1}{273\\,\\mathrm{K}} - \\frac{1}{298\\,\\mathrm{K}} \\approx 3.073 \\times 10^{-4}\\,\\mathrm{K^{-1}} $$\n$$ D(273\\,\\mathrm{K}) = (2.4 \\times 10^{-10}) \\exp\\left[-2646.14 \\times (3.073 \\times 10^{-4})\\right] $$\n$$ D(273\\,\\mathrm{K}) = (2.4 \\times 10^{-10}) \\exp(-0.8131) \\approx (2.4 \\times 10^{-10}) \\times 0.4435 = 1.0644 \\times 10^{-10}\\,\\mathrm{m^2\\,s^{-1}} $$\n现在，我们将此值和其他参数代入桑德方程：\n$c_0 = 1000\\,\\mathrm{mol\\,m^{-3}}$，$F = 96485\\,\\mathrm{C\\,mol^{-1}}$，$i = 25\\,\\mathrm{A\\,m^{-2}}$，$t_+^0 = 0.38$。\n$$ t_s = \\frac{\\pi (1.0644 \\times 10^{-10}\\,\\mathrm{m^2\\,s^{-1}})}{4} \\left( \\frac{(1000\\,\\mathrm{mol\\,m^{-3}})(96485\\,\\mathrm{C\\,mol^{-1}})}{(25\\,\\mathrm{A\\,m^{-2}})(1 - 0.38)} \\right)^2 $$\n$$ t_s \\approx (8.3598 \\times 10^{-11}) \\left( \\frac{9.6485 \\times 10^7}{15.5} \\right)^2 \\,\\mathrm{s} $$\n$$ t_s \\approx (8.3598 \\times 10^{-11}) (6.2248 \\times 10^6)^2 \\,\\mathrm{s} $$\n$$ t_s \\approx (8.3598 \\times 10^{-11}) (3.8748 \\times 10^{13}) \\,\\mathrm{s} \\approx 3239.38\\,\\mathrm{s} $$\n按要求将结果四舍五入至三位有效数字。\n$$ t_s \\approx 3240\\,\\mathrm{s} $$\n这个值等同于 $3.24 \\times 10^3\\,\\mathrm{s}$。",
            "answer": "$$\\boxed{3.24 \\times 10^{3}}$$"
        },
        {
            "introduction": "除了性能损失，电池老化还可能带来安全风险。本练习将我们的重点转移到高荷电状态下的日历老化，此时寄生反应可能导致气体产生和内部压力累积。您将应用化学动力学和热力学原理来模拟这一过程，并评估电池排气的风险，从而将微观反应速率与宏观机械安全联系起来。",
            "id": "3893068",
            "problem": "一个圆柱形锂离子电池在恒定温度下高电压存储 $30$ 天，其罐内顶部空间表现为密封的理想气体体积。气体产生源于正极在高荷电状态下日历老化过程中的电解液氧化，这一过程受到固体电解质界面（SEI）钝化的调节。假设以下具有科学依据的动力学和热力学关系：\n\n- 在时间 $t$（单位：天）的气体生成速率为 $r(t)$（单位：$\\mathrm{mol/day}$），由于钝化作用，该速率根据 $r(t) = r_{0}/(1 + \\alpha t)$ 衰减，其中 $r_{0}$ 是存储条件下的初始速率，$\\alpha$ 是钝化常数。\n- 存储条件下的初始速率 $r_{0}$ 是通过阿伦尼乌斯温度标度和指数电压敏感性，从参考温度 $T_{\\mathrm{ref}}$ 和参考电压 $V_{\\mathrm{ref}}$ 下的参考速率 $r_{\\mathrm{ref}}$ 获得的：\n$$\nr_{0} \\;=\\; r_{\\mathrm{ref}} \\,\\exp\\!\\left(\\frac{E_{a}}{k_{B}}\\left(\\frac{1}{T_{\\mathrm{ref}}} - \\frac{1}{T}\\right)\\right) \\,\\exp\\!\\left(\\gamma\\left(V_{\\mathrm{hold}} - V_{\\mathrm{ref}}\\right)\\right),\n$$\n其中 $E_{a}$ 是活化能，$k_{B}$ 是玻尔兹曼常数，$T$ 是存储温度，$V_{\\mathrm{hold}}$ 是存储电压，$\\gamma$ 是一个经验电压敏感性参数。\n- 理想气体关系决定了由增加的摩尔数引起的压力增量：当在温度 $T$、体积为 $V$ 的密封顶部空间中生成额外量为 $\\Delta n$ 的气体时，压力增量为 $\\Delta p = \\Delta n \\, R \\, T / V$，其中 $R$ 是通用气体常数。\n- 排气泄压阈值为 $p_{\\mathrm{relief}}$，超过该值，罐体的泄压装置将启动。\n\n参数：\n- $r_{\\mathrm{ref}} = 5.0 \\times 10^{-5}$ $\\mathrm{mol/day}$，在 $T_{\\mathrm{ref}} = 298$ $\\mathrm{K}$ 和 $V_{\\mathrm{ref}} = 4.20$ $\\mathrm{V}$ 时，\n- $E_{a} = 0.50$ $\\mathrm{eV}$，$k_{B} = 8.617333262 \\times 10^{-5}$ $\\mathrm{eV/K}$，\n- $T = 308$ $\\mathrm{K}$，$V_{\\mathrm{hold}} = 4.40$ $\\mathrm{V}$，$\\gamma = 5.0$ $\\mathrm{V^{-1}}$，\n- $\\alpha = 0.040$ $\\mathrm{day^{-1}}$，\n- $V = 1.0 \\times 10^{-5}$ $\\mathrm{m^{3}}$，$R = 8.314462618$ $\\mathrm{J\\,mol^{-1}\\,K^{-1}}$，$p_{\\mathrm{relief}} = 1.4 \\times 10^{6}$ $\\mathrm{Pa}$。\n\n将排气风险指数定义为 $H := \\Delta p(30) / p_{\\mathrm{relief}}$，其中 $\\Delta p(30)$ 是 $30$ 天后的累积压力上升值。在上述假设下计算 $H$。将您的答案四舍五入到四位有效数字。最终指数以小数形式表示（无单位）。",
            "solution": "问题陈述已经过验证，被认为是有效的。它科学地基于应用于电池老化的化学动力学和热力学原理。该问题是适定的，为获得唯一解提供了所有必要的参数和方程。语言客观，参数在量纲上一致且物理上合理。\n\n目标是计算排气风险指数 $H$，其定义为 $30$ 天后的累积压力增量 $\\Delta p(30)$ 与排气泄压阈值 $p_{\\mathrm{relief}}$ 之比。\n$$\nH = \\frac{\\Delta p(30)}{p_{\\mathrm{relief}}}\n$$\n\n计算过程分四步进行：\n1.  计算初始产气速率 $r_0$。\n2.  计算 $30$ 天内产生的气体总摩尔数 $\\Delta n$。\n3.  计算由此产生的压力增量 $\\Delta p(30)$。\n4.  计算最终的风险指数 $H$。\n\n**步骤1：计算初始产气速率 $r_0$**\n\n初始速率 $r_0$ 由以下表达式给出：\n$$\nr_{0} = r_{\\mathrm{ref}} \\exp\\left(\\frac{E_{a}}{k_{B}}\\left(\\frac{1}{T_{\\mathrm{ref}}} - \\frac{1}{T}\\right)\\right) \\exp\\left(\\gamma\\left(V_{\\mathrm{hold}} - V_{\\mathrm{ref}}\\right)\\right)\n$$\n给定参数如下：\n- $r_{\\mathrm{ref}} = 5.0 \\times 10^{-5}$ $\\mathrm{mol/day}$\n- $E_{a} = 0.50$ $\\mathrm{eV}$\n- $k_{B} = 8.617333262 \\times 10^{-5}$ $\\mathrm{eV/K}$\n- $T_{\\mathrm{ref}} = 298$ $\\mathrm{K}$\n- $T = 308$ $\\mathrm{K}$\n- $\\gamma = 5.0$ $\\mathrm{V^{-1}}$\n- $V_{\\mathrm{ref}} = 4.20$ $\\mathrm{V}$\n- $V_{\\mathrm{hold}} = 4.40$ $\\mathrm{V}$\n\n首先，我们计算指数函数的参数。\n温相关项的参数为：\n$$\n\\frac{E_{a}}{k_{B}}\\left(\\frac{1}{T_{\\mathrm{ref}}} - \\frac{1}{T}\\right) = \\frac{0.50}{8.617333262 \\times 10^{-5}} \\left(\\frac{1}{298} - \\frac{1}{308}\\right) \\approx 5802.143 \\left(0.0033557 - 0.0032468\\right) \\approx 0.63215\n$$\n电压相关项的参数为：\n$$\n\\gamma\\left(V_{\\mathrm{hold}} - V_{\\mathrm{ref}}\\right) = 5.0 \\times (4.40 - 4.20) = 5.0 \\times 0.20 = 1.0\n$$\n现在，将这些值代回 $r_0$ 的表达式中：\n$$\nr_0 = (5.0 \\times 10^{-5}) \\times \\exp(0.63215) \\times \\exp(1.0) \\approx (5.0 \\times 10^{-5}) \\times 1.88173 \\times 2.71828 \\approx 2.5576 \\times 10^{-4} \\, \\mathrm{mol/day}\n$$\n\n**步骤2：计算产生的气体总摩尔数 $\\Delta n$**\n\n在 $t_f = 30$ 天内产生的气体总摩尔数 $\\Delta n$ 是速率 $r(t)$ 的时间积分：\n$$\n\\Delta n = \\int_{0}^{t_f} r(t) \\, dt = \\int_{0}^{t_f} \\frac{r_{0}}{1 + \\alpha t} \\, dt\n$$\n钝化常数 $\\alpha = 0.040$ $\\mathrm{day^{-1}}$。积分计算结果为：\n$$\n\\Delta n = \\frac{r_0}{\\alpha} \\left[ \\ln(1 + \\alpha t) \\right]_{0}^{t_f} = \\frac{r_0}{\\alpha} \\left( \\ln(1 + \\alpha t_f) - \\ln(1) \\right) = \\frac{r_0}{\\alpha} \\ln(1 + \\alpha t_f)\n$$\n代入数值 $r_0 \\approx 2.5576 \\times 10^{-4}$ $\\mathrm{mol/day}$，$\\alpha = 0.040$ $\\mathrm{day^{-1}}$ 和 $t_f = 30$ 天：\n$$\n\\Delta n = \\frac{2.5576 \\times 10^{-4}}{0.040} \\ln(1 + 0.040 \\times 30) = (6.394 \\times 10^{-3}) \\ln(1 + 1.2) = (6.394 \\times 10^{-3}) \\ln(2.2)\n$$\n$$\n\\Delta n \\approx (6.394 \\times 10^{-3}) \\times 0.78846 \\approx 5.0415 \\times 10^{-3} \\, \\mathrm{mol}\n$$\n\n**步骤3：计算压力增量 $\\Delta p(30)$**\n\n压力增量由理想气体定律给出：\n$$\n\\Delta p(30) = \\frac{\\Delta n R T}{V}\n$$\n使用给定参数：\n- $\\Delta n \\approx 5.0415 \\times 10^{-3}$ $\\mathrm{mol}$\n- $R = 8.314462618$ $\\mathrm{J\\,mol^{-1}\\,K^{-1}}$\n- $T = 308$ $\\mathrm{K}$\n- $V = 1.0 \\times 10^{-5}$ $\\mathrm{m^{3}}$\n\n代入这些值：\n$$\n\\Delta p(30) = \\frac{(5.0415 \\times 10^{-3}) \\times 8.314462618 \\times 308}{1.0 \\times 10^{-5}} \\approx \\frac{12.9109}{1.0 \\times 10^{-5}} \\approx 1.2911 \\times 10^{6} \\, \\mathrm{Pa}\n$$\n\n**步骤4：计算排气风险指数 $H$**\n\n最后一步是使用给定的排气泄压阈值 $p_{\\mathrm{relief}} = 1.4 \\times 10^{6}$ $\\mathrm{Pa}$ 计算无量纲指数 $H$。\n$$\nH = \\frac{\\Delta p(30)}{p_{\\mathrm{relief}}} = \\frac{1.2911 \\times 10^{6}}{1.4 \\times 10^{6}} \\approx 0.92221\n$$\n按要求将结果四舍五入到四位有效数字，得到 $0.9222$。",
            "answer": "$$\\boxed{0.9222}$$"
        },
        {
            "introduction": "在实践中，老化数据通常反映了多种机制的混合作用，而识别主导过程是一项关键的诊断任务。最后的这个练习介绍了一种数据驱动的方法，用于区分两种基本的老化规律：扩散限制的（与 $\\sqrt{t}$ 成正比）和反应限制的（与 $t$ 成正比）退化。通过将这些竞争模型与数据进行拟合，并使用赤池信息准则（Akaike Information Criterion, AIC）进行模型选择，您将学习一种从实验观察中揭示老化物理本质的强大技术。",
            "id": "3893099",
            "problem": "在自动化电池设计和仿真的任务中，您需要根据作为运行时间平方根函数的容量保持率测量数据，来确定哪种老化机制与观测结果最为一致。两种相互竞争的机制分别是：以扩散限制钝化为主的日历老化，和以吞吐量相关的衰减为主的循环老化。基本理论源于经过充分检验的观察结果：对于扩散限制的钝化（通常归因于固体电解质界面膜（SEI）的形成），钝化层的厚度随时间平方根的增长而增长，且容量损失与此厚度成正比。在恒定速率下持续循环时，基于吞吐量的衰减随时间近似线性增长。令 $t$ 表示以天为单位的时间，$s = \\sqrt{t}$ 表示时间的平方根，因此 $s$ 的单位是 $\\sqrt{\\text{天}}$。令 $C(t)$ 表示容量保持率，作为初始容量的无量纲分数。考虑以下两种参数模型：\n\n- 日历老化模型（扩散限制）：$$C(s) = C_0 - k \\, s,$$ 其中 $C_0$ 是一个近似初始保持率的无量纲截距，$k$ 是一个单位为 $1/\\sqrt{\\text{天}}$ 的非负系数。\n\n- 循环老化模型（恒定循环速率下的吞吐量限制）：$$C(s) = C_0 - \\gamma \\, s^2,$$ 其中 $C_0$ 是一个无量纲截距，$\\gamma$ 是一个单位为 $1/\\text{天}$ 的非负系数，因为 $s^2 = t$。\n\n假设加性测量噪声是独立同分布的，并且近似为零均值的高斯分布。对于一个数据集 $\\{(s_i, y_i)\\}_{i=1}^n$，您必须使用非线性最小二乘法对两个模型进行拟合，并使用符合物理意义的界限 $C_0 \\in [0.5, 1.5]$ 以及非负性约束 $k \\ge 0$，$\\gamma \\ge 0$。拟合后，计算残差平方和 $$\\text{RSS} = \\sum_{i=1}^{n} \\left( y_i - \\hat{C}(s_i) \\right)^2,$$ 然后在高斯误差模型下，为每个模型计算赤池信息准则 (AIC)，其中 $p$ 为自由参数的数量：$$\\text{AIC} = 2p + n \\, \\ln\\!\\left(\\frac{\\text{RSS}}{n}\\right)。$$ 两个模型均使用 $p = 2$。如果 $\\text{RSS}$ 在数值上等于 $0$，则将其视为 $\\text{RSS} = 10^{-15}$ 以避免对数中的奇异点。通过选择 AIC 严格较小的模型来决定哪种机制更能解释数据；如果 AIC 值在 $10^{-9}$ 的容差范围内相等，则选择日历老化模型。\n\n您的程序必须对以下每个测试用例实现拟合和 AIC 计算。在每个用例中，$s$ 的单位是 $\\sqrt{\\text{天}}$，$y$ 是一个无量纲的容量保持率分数。无需进行单位转换。该测试套件涵盖了一个典型的日历老化案例、一个典型的循环老化案例、一个混合机制案例、一个小样本边界案例以及一个高噪声案例。\n\n测试用例 1（日历老化主导）：\n- $s$ 值：$[\\,0.0,\\,1.0,\\,2.0,\\,3.0,\\,4.0,\\,5.0,\\,6.0,\\,7.0,\\,8.0,\\,9.0,\\,10.0\\,]$\n- $y$ 值：$[\\,1.0000,\\,0.9972,\\,0.9939,\\,0.9911,\\,0.9882,\\,0.9851,\\,0.9820,\\,0.9790,\\,0.9760,\\,0.9728,\\,0.9699\\,]$\n\n测试用例 2（循环老化主导）：\n- $s$ 值：$[\\,0.0,\\,1.0,\\,2.0,\\,3.0,\\,4.0,\\,5.0,\\,6.0,\\,7.0,\\,8.0,\\,9.0,\\,10.0\\,]$\n- $y$ 值：$[\\,1.0000,\\,0.9999,\\,0.9996,\\,0.9991,\\,0.9985,\\,0.9975,\\,0.9965,\\,0.9950,\\,0.9936,\\,0.9918,\\,0.9900\\,]$\n\n测试用例 3（混合老化：日历加循环贡献）：\n- $s$ 值：$[\\,0.0,\\,1.0,\\,2.0,\\,3.0,\\,4.0,\\,5.0,\\,6.0,\\,7.0,\\,8.0,\\,9.0,\\,10.0\\,]$\n- $y$ 值：$[\\,1.0000,\\,0.9979,\\,0.9958,\\,0.9936,\\,0.9912,\\,0.9887,\\,0.9862,\\,0.9836,\\,0.9808,\\,0.9780,\\,0.9750\\,]$\n\n测试用例 4（小样本边界案例）：\n- $s$ 值：$[\\,0.0,\\,5.0,\\,10.0\\,]$\n- $y$ 值：$[\\,1.0000,\\,0.9850,\\,0.9701\\,]$\n\n测试用例 5（高噪声日历老化案例）：\n- $s$ 值：$[\\,0.0,\\,1.0,\\,2.5,\\,4.0,\\,6.0,\\,8.5,\\,10.0\\,]$\n- $y$ 值：$[\\,1.0000,\\,0.9995,\\,0.9953,\\,0.9890,\\,0.9870,\\,0.9788,\\,0.9735\\,]$\n\n您的程序必须为每个测试用例拟合两个模型，计算残差和赤池信息准则 (AIC)，并决定哪种机制更能解释数据。将每个测试用例的最终决定表示为一个整数，其中 $1$ 表示日历老化，$2$ 表示循环老化。最终输出格式必须是单行，包含一个用方括号括起来的逗号分隔列表，其中每个元素是针对一个测试用例的三个数字的列表：$[m, \\text{AIC}_{\\text{calendar}}, \\text{AIC}_{\\text{cycle}}]$。这里 $m$ 是整数表示的模型选择，AIC 值是实数。例如，您的输出应遵循以下模式：$$[\\,[m_1, \\text{AIC}_{\\text{cal},1}, \\text{AIC}_{\\text{cyc},1}],\\,[m_2, \\text{AIC}_{\\text{cal},2}, \\text{AIC}_{\\text{cyc},2}],\\,\\dots\\,].$$",
            "solution": "经评估，问题陈述有效。它在科学上基于已建立的电池衰减经验模型，问题阐述清晰，目标和方法明确，并以精确、客观的语言表达。所有解决问题所需的数据、约束和标准都已提供，不存在内部矛盾、歧义或事实错误。\n\n任务是确定两种相互竞争的电池容量衰减模型中，哪一种能更好地解释给定的实验数据。决策基于一个量化的统计标准，即赤池信息准则（AIC）。\n\n两种容量保持率 $C$ 作为 $s = \\sqrt{t}$（其中 $t$ 是以天为单位的时间）的函数模型如下：\n1.  **日历老化模型**：该模型假设衰减主要由扩散限制过程主导，例如钝化层的生长。容量保持率被建模为时间平方根 $s$ 的线性函数：\n    $$C(s) = C_0 - k \\, s$$\n    这里，$C_0$ 是初始容量保持率分数，$k$ 是衰减速率常数，单位为 $1/\\sqrt{\\text{天}}$。\n\n2.  **循环老化模型**：该模型假设衰减主要由与总充电通量成正比的效应主导，在恒定循环条件下，总充电通量与时间 $t$ 成正比。由于 $t=s^2$，容量保持率被建模为 $s$ 的二次函数：\n    $$C(s) = C_0 - \\gamma \\, s^2$$\n    这里，$C_0$ 是初始容量保持率分数，$\\gamma$ 是衰减速率常数，单位为 $1/\\text{天}$。\n\n对于每个给定的数据集 $\\{(s_i, y_i)\\}_{i=1}^n$，流程如下：\n\n首先，我们使用非线性最小二乘算法将两个模型与数据进行拟合。此过程找到最优参数值（日历模型的 $C_0$ 和 $k$；循环模型的 $C_0$ 和 $\\gamma$），以最小化残差平方和（RSS）。拟合受到物理上合理的界限约束：初始容量 $C_0$ 必须在 $[0.5, 1.5]$ 范围内，衰减常数 $k$ 和 $\\gamma$ 必须为非负（$k \\ge 0$，$\\gamma \\ge 0$），因为容量不能自发增加。\n\n其次，我们为每个拟合模型计算 RSS，定义为：\n$$\\text{RSS} = \\sum_{i=1}^{n} \\left( y_i - \\hat{C}(s_i) \\right)^2$$\n其中 $y_i$ 是观测到的容量保持率值，$\\hat{C}(s_i)$ 是拟合模型在点 $s_i$ 处的预测值。\n\n第三，我们为每个模型计算赤池信息准则（AIC）。AIC 是一种用于模型选择的统计度量，它在拟合优度（由 RSS 表示）和模型复杂性（由自由参数数量 $p$ 表示）之间进行权衡。公式为：\n$$\\text{AIC} = 2p + n \\, \\ln\\!\\left(\\frac{\\text{RSS}}{n}\\right)$$\n对于我们的两个模型，自由参数的数量都是 $p=2$（即 $\\{C_0, k\\}$ 和 $\\{C_0, \\gamma\\}$）。数据点的数量为 $n$。如果 $\\text{RSS}$ 在计算上为零，则用一个小的数值 $10^{-15}$ 代替，以防止在对数中出现错误。\n\n最后，我们应用指定的决策规则来选择更好的模型。AIC 较低的模型通常更优。然而，为了解决性能几乎相等情况下的模糊性，日历老化模型被赋予优先权。规则是：当且仅当循环老化模型（模型2）的 AIC 值比日历老化模型的 AIC 值小超过 $10^{-9}$ 的容差时，才选择循环老化模型。在所有其他情况下——如果日历模型的 AIC 更小，或者两个 AIC 值在容差范围内相等——则选择日历老化模型（模型1）。这通过以下方式实现：如果 $\\text{AIC}_{\\text{calendar}} - \\text{AIC}_{\\text{cycle}} \\le 10^{-9}$，则选择模型1，否则选择模型2。\n\n这种结构化的定量方法可以客观、可重复地确定与所提供数据最为一致的老化机制。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.optimize import curve_fit\n\ndef solve():\n    \"\"\"\n    Fits calendar and cycle aging models to battery capacity data and selects\n    the best model based on the Akaike Information Criterion (AIC).\n    \"\"\"\n\n    # Define the models for curve fitting.\n    # s is the square root of time.\n    def calendar_model(s, C0, k):\n        \"\"\"C(s) = C0 - k * s\"\"\"\n        return C0 - k * np.asarray(s)\n\n    def cycle_model(s, C0, gamma):\n        \"\"\"C(s) = C0 - gamma * s^2\"\"\"\n        return C0 - gamma * np.asarray(s)**2\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        {\n            \"s\": [0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0],\n            \"y\": [1.0000, 0.9972, 0.9939, 0.9911, 0.9882, 0.9851, 0.9820, 0.9790, 0.9760, 0.9728, 0.9699],\n        },\n        {\n            \"s\": [0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0],\n            \"y\": [1.0000, 0.9999, 0.9996, 0.9991, 0.9985, 0.9975, 0.9965, 0.9950, 0.9936, 0.9918, 0.9900],\n        },\n        {\n            \"s\": [0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0],\n            \"y\": [1.0000, 0.9979, 0.9958, 0.9936, 0.9912, 0.9887, 0.9862, 0.9836, 0.9808, 0.9780, 0.9750],\n        },\n        {\n            \"s\": [0.0, 5.0, 10.0],\n            \"y\": [1.0000, 0.9850, 0.9701],\n        },\n        {\n            \"s\": [0.0, 1.0, 2.5, 4.0, 6.0, 8.5, 10.0],\n            \"y\": [1.0000, 0.9995, 0.9953, 0.9890, 0.9870, 0.9788, 0.9735],\n        },\n    ]\n\n    results = []\n    \n    # Parameters for AIC calculation\n    p = 2  # Number of free parameters for each model (C0, k) or (C0, gamma)\n    rss_min_val = 1e-15 # Value to use if RSS is zero\n    \n    # Bounds for the fitting parameters [C0, k/gamma]\n    # C0 must be in [0.5, 1.5], k and gamma must be non-negative\n    bounds = ([0.5, 0], [1.5, np.inf])\n\n    for case in test_cases:\n        s_data = np.array(case[\"s\"])\n        y_data = np.array(case[\"y\"])\n        n = len(s_data)\n\n        # --- Calendar Aging Model Fit ---\n        try:\n            popt_cal, _ = curve_fit(calendar_model, s_data, y_data, bounds=bounds)\n            y_pred_cal = calendar_model(s_data, *popt_cal)\n            rss_cal = np.sum((y_data - y_pred_cal)**2)\n            if rss_cal  rss_min_val:\n                rss_cal = rss_min_val\n            aic_cal = 2 * p + n * np.log(rss_cal / n)\n        except RuntimeError:\n            aic_cal = np.inf  # If fit fails, assign infinite AIC\n\n        # --- Cycle Aging Model Fit ---\n        try:\n            popt_cyc, _ = curve_fit(cycle_model, s_data, y_data, bounds=bounds)\n            y_pred_cyc = cycle_model(s_data, *popt_cyc)\n            rss_cyc = np.sum((y_data - y_pred_cyc)**2)\n            if rss_cyc  rss_min_val:\n                rss_cyc = rss_min_val\n            aic_cyc = 2 * p + n * np.log(rss_cyc / n)\n        except RuntimeError:\n            aic_cyc = np.inf # If fit fails, assign infinite AIC\n\n        # --- Model Selection ---\n        # Select calendar (1) unless cycle (2) is better by more than the tolerance.\n        # This means calendar is chosen if it's better, or if they are tied within tolerance.\n        model_choice = 0\n        if aic_cal - aic_cyc = 1e-9:\n            model_choice = 1 # Calendar model wins or it's a tie\n        else:\n            model_choice = 2 # Cycle model wins\n            \n        results.append([model_choice, aic_cal, aic_cyc])\n\n    # Format the final output string to match the required format precisely.\n    # e.g., [[1,-123.4,-98.7],[2,-50.1,-60.9]]\n    output_str = \"[\" + \",\".join(f\"[{r[0]},{r[1]},{r[2]}]\" for r in results) + \"]\"\n    print(output_str)\n\nsolve()\n```"
        }
    ]
}