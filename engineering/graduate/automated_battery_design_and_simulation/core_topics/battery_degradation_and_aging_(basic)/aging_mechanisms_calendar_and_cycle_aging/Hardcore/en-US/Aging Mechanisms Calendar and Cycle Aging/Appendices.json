{
    "hands_on_practices": [
        {
            "introduction": "Understanding the fundamental limitations of ion transport is crucial for designing safe and high-performance batteries. At low temperatures, the movement of lithium ions through the electrolyte slows significantly, which can lead to a sharp drop in ion concentration at the anode surface during charging. This exercise  allows you to quantitatively explore this phenomenon by deriving and calculating Sand's time, a critical metric that signifies complete ion depletion and the onset of a high risk for lithium plating, a dangerous and irreversible degradation mechanism.",
            "id": "3893079",
            "problem": "A lithium-ion battery (LIB) graphite anode is charged at a constant geometric current density in a cold environment. In a one-dimensional, semi-infinite electrolyte domain adjacent to the anode, assume a binary, electroneutral electrolyte with uniform initial bulk salt concentration $c_0$, governed by Fick's laws of diffusion. During charging, ionic current $i$ flows toward the anode, and the salt concentration near the anode drops due to transport coupling through the solvent-fixed cation transference number $t_+^0$. The electrolyte salt diffusivity $D(T)$ and the anode exchange current density $i_0(T)$ both follow Arrhenius temperature dependence. Treat the electrolyte as quiescent (no convection), isothermal, and free of homogeneous reactions, and neglect volume-change effects.\n\nStarting from the species conservation law and Fick's second law, explain how a reduction in temperature decreases $D(T)$ and $i_0(T)$, thereby increasing both concentration polarization and kinetic overpotential for a given $i$. Use Faraday's law to relate the imposed current density to the interfacial salt flux under electroneutrality. Impose a constant-flux boundary condition at the anode and derive an explicit expression for the time at which the anode-surface salt concentration reaches zero, known as Sand's time $t_s$. Then compute the value of $t_s$ at $T=273\\,\\mathrm{K}$ for the following physically consistent parameters:\n- Reference temperature: $T_\\mathrm{ref} = 298\\,\\mathrm{K}$.\n- Initial bulk salt concentration: $c_0 = 1000\\,\\mathrm{mol\\,m^{-3}}$.\n- Reference electrolyte salt diffusivity at $T_\\mathrm{ref}$: $D_\\mathrm{ref} = 2.4 \\times 10^{-10}\\,\\mathrm{m^2\\,s^{-1}}$.\n- Diffusivity activation energy: $E_D = 22 \\times 10^{3}\\,\\mathrm{J\\,mol^{-1}}$.\n- Solvent-fixed cation transference number: $t_+^0 = 0.38$.\n- Geometric current density during charge: $i = 25\\,\\mathrm{A\\,m^{-2}}$.\n- Faraday constant: $F = 96485\\,\\mathrm{C\\,mol^{-1}}$.\n- Universal gas constant: $R = 8.314\\,\\mathrm{J\\,mol^{-1}\\,K^{-1}}$.\n- Exchange current density follows $i_0(T) = i_{0,\\mathrm{ref}} \\exp\\!\\left[-\\dfrac{E_a}{R}\\left(\\dfrac{1}{T}-\\dfrac{1}{T_\\mathrm{ref}}\\right)\\right]$ with some activation energy $E_a0$ and reference $i_{0,\\mathrm{ref}}$ (use this only for the qualitative explanation of kinetic effects; no numerical value is required for $i_0$).\n\nRound your final numerical answer for $t_s$ to three significant figures. Express the time in seconds (s).",
            "solution": "The problem statement has been rigorously evaluated and is determined to be scientifically sound, well-posed, and complete. It describes a classical electrochemical transport problem rooted in fundamental principles, providing all necessary parameters for a unique solution. We may therefore proceed with the derivation and calculation.\n\nThe problem requires a two-part analysis: first, a qualitative explanation of the effect of temperature on electrochemical overpotentials, and second, a quantitative derivation and calculation of Sand's time, $t_s$.\n\n**Part 1: Qualitative Effect of Temperature on Overpotentials**\n\nTwo primary sources of overpotential are relevant here: kinetic overpotential ($\\eta_k$) and concentration overpotential ($\\eta_c$).\n\n1.  **Kinetic Overpotential ($\\eta_k$):** This overpotential is required to drive the charge-transfer reaction (in this case, lithium intercalation into graphite) at a non-zero rate. The relationship between the current density ($i$) and kinetic overpotential is described by the Butler-Volmer equation. A key parameter in this equation is the exchange current density, $i_0$, which represents the rate of reaction at equilibrium. The problem states that $i_0(T)$ follows an Arrhenius-type temperature dependence:\n    $$i_0(T) = i_{0,\\mathrm{ref}} \\exp\\left[-\\frac{E_a}{R}\\left(\\frac{1}{T}-\\frac{1}{T_\\mathrm{ref}}\\right)\\right]$$\n    where the activation energy $E_a$ is positive. As the temperature $T$ decreases, the term $(\\frac{1}{T} - \\frac{1}{T_\\mathrm{ref}})$ becomes more positive. Given $E_a  0$ and $R  0$, the argument of the exponential becomes more negative. Consequently, a reduction in temperature leads to a decrease in the exchange current density $i_0(T)$. According to the Butler-Volmer equation, for a given applied current density $i$, a smaller $i_0$ necessitates a larger magnitude of kinetic overpotential $|\\eta_k|$ to sustain the reaction rate. Thus, cold temperatures increase kinetic limitations.\n\n2.  **Concentration Overpotential ($\\eta_c$):** This overpotential arises from spatial variations in the concentration of the electroactive species (here, Li$^+$ ions, reflected in the salt concentration $c$) between the electrode surface and the bulk electrolyte. For a constant current, ions are consumed at the electrode surface, establishing a concentration gradient. The problem states that the electrolyte salt diffusivity, $D(T)$, also follows an Arrhenius relationship:\n    $$D(T) = D_\\mathrm{ref} \\exp\\left[-\\frac{E_D}{R}\\left(\\frac{1}{T}-\\frac{1}{T_\\mathrm{ref}}\\right)\\right]$$\n    where the activation energy for diffusion, $E_D$, is positive. Analogous to the case for $i_0$, a decrease in temperature $T$ leads to a decrease in the salt diffusivity $D(T)$. According to Fick's first law, the salt flux ($N_s$) is proportional to the product of diffusivity and the concentration gradient: $N_s = -D \\frac{\\partial c}{\\partial x}$. To maintain a constant ionic flux to the electrode surface (which is required to support the constant current $i$), a lower diffusivity $D$ must be compensated by a steeper concentration gradient, $|\\frac{\\partial c}{\\partial x}|$. A steeper gradient implies a larger difference between the bulk concentration ($c_0$) and the surface concentration ($c_s$). This larger concentration difference corresponds to a larger concentration overpotential.\n\nIn summary, a reduction in temperature decreases both $i_0(T)$ and $D(T)$, which in turn increases both kinetic and concentration overpotentials, respectively, hindering battery performance.\n\n**Part 2: Derivation and Calculation of Sand's Time ($t_s$)**\n\nWe begin with the species conservation law for the salt in a one-dimensional domain ($x \\ge 0$) with no homogeneous reactions:\n$$ \\frac{\\partial c}{\\partial t} = -\\frac{\\partial N_s}{\\partial x} $$\nwhere $c(x,t)$ is the salt concentration and $N_s$ is the salt flux. Assuming the diffusivity $D$ is constant with respect to concentration and position, Fick's first law gives $N_s = -D \\frac{\\partial c}{\\partial x}$. Substituting this into the conservation law yields Fick's second law, which governs the concentration dynamics:\n$$ \\frac{\\partial c}{\\partial t} = D \\frac{\\partial^2 c}{\\partial x^2} $$\nTo solve this partial differential equation, we must specify initial and boundary conditions.\n\n*   **Initial Condition (IC):** The electrolyte has a uniform concentration $c_0$ at $t=0$.\n    $$ c(x, 0) = c_0 \\quad \\text{for } x \\ge 0 $$\n*   **Boundary Condition 1 (BC1):** The domain is semi-infinite, so far from the electrode, the concentration remains at its bulk value.\n    $$ \\lim_{x \\to \\infty} c(x, t) = c_0 \\quad \\text{for } t \\ge 0 $$\n*   **Boundary Condition 2 (BC2):** At the anode surface ($x=0$), a constant current density $i$ is applied. This current is carried by ions. In the electrolyte, the current is related to the flux of cations ($N_+$) and anions ($N_-$) by $i = F(z_+ N_+ + z_- N_-)$. For a $1:1$ electrolyte like LiPF$_6$, $z_+=1$ and $z_-=-1$. The transference number of the cation, $t_+^0$, represents the fraction of current carried by the cation, $i_+ = t_+^0 i = F N_+$. However, it is the salt flux that appears in our diffusion equation. From concentrated solution theory for a binary electrolyte, the salt flux $N_s$ at the electrode surface is related to the current density $i$ and the cation transference number $t_+^0$ by:\n    $$ N_s(x=0) = \\frac{i(1-t_+^0)}{F} $$\n    Since $N_s = -D \\frac{\\partial c}{\\partial x}$, we can write the constant-flux boundary condition at the electrode surface as:\n    $$ -D \\frac{\\partial c}{\\partial x} \\bigg|_{x=0} = \\frac{i(1 - t_+^0)}{F} \\quad \\text{for } t  0 $$\n\nThe solution to Fick's second law with these specific initial and boundary conditions for the concentration at the surface ($x=0$) is a standard result in transport phenomena:\n$$ c(0, t) = c_0 - \\frac{2i(1-t_+^0)}{F\\sqrt{\\pi D}} \\sqrt{t} $$\nSand's time, $t_s$, is defined as the time at which the surface concentration drops to zero, i.e., $c(0, t_s) = 0$. Setting the above expression to zero, we can solve for $t_s$.\n$$ 0 = c_0 - \\frac{2i(1-t_+^0)}{F\\sqrt{\\pi D}} \\sqrt{t_s} $$\n$$ \\sqrt{t_s} = \\frac{c_0 F \\sqrt{\\pi D}}{2i(1-t_+^0)} $$\nSquaring both sides yields the explicit expression for Sand's time:\n$$ t_s = \\frac{\\pi D}{4} \\left( \\frac{c_0 F}{i(1-t_+^0)} \\right)^2 $$\nThis is the celebrated Sand's equation.\n\n**Numerical Calculation:**\nWe must first calculate the salt diffusivity $D$ at the operating temperature $T = 273\\,\\mathrm{K}$.\n$$ D(T) = D_\\mathrm{ref} \\exp\\left[-\\frac{E_D}{R}\\left(\\frac{1}{T} - \\frac{1}{T_\\mathrm{ref}}\\right)\\right] $$\nUsing the given parameters:\n$D_\\mathrm{ref} = 2.4 \\times 10^{-10}\\,\\mathrm{m^2\\,s^{-1}}$, $T_\\mathrm{ref} = 298\\,\\mathrm{K}$, $E_D = 22 \\times 10^{3}\\,\\mathrm{J\\,mol^{-1}}$, $R = 8.314\\,\\mathrm{J\\,mol^{-1}\\,K^{-1}}$, $T = 273\\,\\mathrm{K}$.\n$$ \\frac{E_D}{R} = \\frac{22 \\times 10^{3}\\,\\mathrm{J\\,mol^{-1}}}{8.314\\,\\mathrm{J\\,mol^{-1}\\,K^{-1}}} \\approx 2646.14\\,\\mathrm{K} $$\n$$ \\frac{1}{T} - \\frac{1}{T_\\mathrm{ref}} = \\frac{1}{273\\,\\mathrm{K}} - \\frac{1}{298\\,\\mathrm{K}} \\approx 3.073 \\times 10^{-4}\\,\\mathrm{K^{-1}} $$\n$$ D(273\\,\\mathrm{K}) = (2.4 \\times 10^{-10}) \\exp\\left[-2646.14 \\times (3.073 \\times 10^{-4})\\right] $$\n$$ D(273\\,\\mathrm{K}) = (2.4 \\times 10^{-10}) \\exp(-0.8131) \\approx (2.4 \\times 10^{-10}) \\times 0.4435 = 1.0644 \\times 10^{-10}\\,\\mathrm{m^2\\,s^{-1}} $$\nNow, we substitute this value and the other parameters into Sand's equation:\n$c_0 = 1000\\,\\mathrm{mol\\,m^{-3}}$, $F = 96485\\,\\mathrm{C\\,mol^{-1}}$, $i = 25\\,\\mathrm{A\\,m^{-2}}$, $t_+^0 = 0.38$.\n$$ t_s = \\frac{\\pi (1.0644 \\times 10^{-10}\\,\\mathrm{m^2\\,s^{-1}})}{4} \\left( \\frac{(1000\\,\\mathrm{mol\\,m^{-3}})(96485\\,\\mathrm{C\\,mol^{-1}})}{(25\\,\\mathrm{C\\,s^{-1}\\,m^{-2}})(1 - 0.38)} \\right)^2 $$\n$$ t_s = \\frac{\\pi (1.0644 \\times 10^{-10})}{4} \\left( \\frac{96485}{25 \\times 0.62} \\right)^2 \\,\\mathrm{s} $$\n$$ t_s = (8.3598 \\times 10^{-11}) \\left( \\frac{96485}{15.5} \\right)^2 \\,\\mathrm{s} $$\n$$ t_s = (8.3598 \\times 10^{-11}) (6224.84)^2 \\,\\mathrm{s} $$\n$$ t_s = (8.3598 \\times 10^{-11}) (3.87486 \\times 10^7) \\,\\mathrm{s} \\approx 3239.38\\,\\mathrm{s} $$\nRounding the result to three significant figures, as requested.\n$$ t_s \\approx 3240\\,\\mathrm{s} $$\nThis value is equivalent to $3.24 \\times 10^3\\,\\mathrm{s}$.",
            "answer": "$$\\boxed{3.24 \\times 10^{3}}$$"
        },
        {
            "introduction": "Beyond transport limitations, battery aging is driven by a host of unwanted parasitic chemical reactions that occur during storage and operation. A key example of calendar aging, especially at high states of charge, is the slow oxidation of the electrolyte, which generates gas and can lead to a dangerous build-up of internal pressure. This practice  provides a hands-on opportunity to connect fundamental chemical kinetics with mechanical reliability by modeling the rate of gas generation and assessing the risk of the cell's safety vent actuating over time.",
            "id": "3893068",
            "problem": "A cylindrical lithium-ion cell is stored at high voltage for $30$ days at constant temperature, with the can’s headspace behaving as a sealed ideal-gas volume. Gas generation arises from electrolyte oxidation during calendar aging at high state-of-charge on the positive electrode, moderated by passivation of the Solid Electrolyte Interphase (SEI). Assume the following scientifically grounded kinetics and thermodynamic relations:\n\n- The gas generation rate at time $t$ (in days) is $r(t)$ (in $\\mathrm{mol/day}$), which decays due to passivation according to $r(t) = r_{0}/(1 + \\alpha t)$, where $r_{0}$ is the initial rate at the storage condition and $\\alpha$ is a passivation constant.\n- The initial rate $r_{0}$ at the storage condition is obtained from a reference rate $r_{\\mathrm{ref}}$ at reference temperature $T_{\\mathrm{ref}}$ and reference voltage $V_{\\mathrm{ref}}$ via an Arrhenius temperature scaling and an exponential voltage sensitivity:\n$$\nr_{0} \\;=\\; r_{\\mathrm{ref}} \\,\\exp\\!\\left(\\frac{E_{a}}{k_{B}}\\left(\\frac{1}{T_{\\mathrm{ref}}} - \\frac{1}{T}\\right)\\right) \\,\\exp\\!\\left(\\gamma\\left(V_{\\mathrm{hold}} - V_{\\mathrm{ref}}\\right)\\right),\n$$\nwhere $E_{a}$ is the activation energy, $k_{B}$ is the Boltzmann constant, $T$ is the storage temperature, $V_{\\mathrm{hold}}$ is the storage voltage, and $\\gamma$ is an empirical voltage sensitivity parameter.\n- The ideal gas relation governs the pressure increase due to the added moles: when an additional amount $\\Delta n$ of gas is generated in a sealed headspace of volume $V$ at temperature $T$, the pressure increment is $\\Delta p = \\Delta n \\, R \\, T / V$, with $R$ the universal gas constant.\n- The vent relief threshold is $p_{\\mathrm{relief}}$, beyond which the can’s pressure relief feature actuates.\n\nParameters:\n- $r_{\\mathrm{ref}} = 5.0 \\times 10^{-5}$ $\\mathrm{mol/day}$ at $T_{\\mathrm{ref}} = 298$ $\\mathrm{K}$ and $V_{\\mathrm{ref}} = 4.20$ $\\mathrm{V}$,\n- $E_{a} = 0.50$ $\\mathrm{eV}$, $k_{B} = 8.617333262 \\times 10^{-5}$ $\\mathrm{eV/K}$,\n- $T = 308$ $\\mathrm{K}$, $V_{\\mathrm{hold}} = 4.40$ $\\mathrm{V}$, $\\gamma = 5.0$ $\\mathrm{V^{-1}}$,\n- $\\alpha = 0.040$ $\\mathrm{day^{-1}}$,\n- $V = 1.0 \\times 10^{-5}$ $\\mathrm{m^{3}}$, $R = 8.314462618$ $\\mathrm{J\\,mol^{-1}\\,K^{-1}}$, $p_{\\mathrm{relief}} = 1.4 \\times 10^{6}$ $\\mathrm{Pa}$.\n\nDefine the venting risk index as $H := \\Delta p(30) / p_{\\mathrm{relief}}$, where $\\Delta p(30)$ is the cumulative pressure rise after $30$ days. Compute $H$ under the assumptions above. Round your answer to four significant figures. Express the final index as a decimal (no units).",
            "solution": "The problem statement has been validated and is deemed valid. It is scientifically grounded in the principles of chemical kinetics and thermodynamics as applied to battery aging. The problem is well-posed, with all necessary parameters and equations provided for a unique solution. The language is objective and the parameters are dimensionally consistent and physically plausible.\n\nThe objective is to compute the venting risk index, $H$, defined as the ratio of the cumulative pressure increase after $30$ days, $\\Delta p(30)$, to the vent relief pressure, $p_{\\mathrm{relief}}$.\n$$\nH = \\frac{\\Delta p(30)}{p_{\\mathrm{relief}}}\n$$\n\nThe calculation proceeds in four steps:\n1.  Calculate the initial gas generation rate, $r_0$.\n2.  Calculate the total moles of gas generated over $30$ days, $\\Delta n$.\n3.  Calculate the resulting pressure increase, $\\Delta p(30)$.\n4.  Compute the final risk index, $H$.\n\n**Step 1: Calculate the initial gas generation rate $r_0$**\n\nThe initial rate $r_0$ is given by the expression:\n$$\nr_{0} = r_{\\mathrm{ref}} \\exp\\left(\\frac{E_{a}}{k_{B}}\\left(\\frac{1}{T_{\\mathrm{ref}}} - \\frac{1}{T}\\right)\\right) \\exp\\left(\\gamma\\left(V_{\\mathrm{hold}} - V_{\\mathrm{ref}}\\right)\\right)\n$$\nThe given parameters are:\n- $r_{\\mathrm{ref}} = 5.0 \\times 10^{-5}$ $\\mathrm{mol/day}$\n- $E_{a} = 0.50$ $\\mathrm{eV}$\n- $k_{B} = 8.617333262 \\times 10^{-5}$ $\\mathrm{eV/K}$\n- $T_{\\mathrm{ref}} = 298$ $\\mathrm{K}$\n- $T = 308$ $\\mathrm{K}$\n- $\\gamma = 5.0$ $\\mathrm{V^{-1}}$\n- $V_{\\mathrm{ref}} = 4.20$ $\\mathrm{V}$\n- $V_{\\mathrm{hold}} = 4.40$ $\\mathrm{V}$\n\nFirst, we compute the arguments of the exponential functions.\nThe argument of the temperature-dependent term is:\n$$\n\\frac{E_{a}}{k_{B}}\\left(\\frac{1}{T_{\\mathrm{ref}}} - \\frac{1}{T}\\right) = \\frac{0.50}{8.617333262 \\times 10^{-5}} \\left(\\frac{1}{298} - \\frac{1}{308}\\right) \\approx 5802.143 \\left(0.0033557 - 0.0032468\\right) \\approx 0.63215\n$$\nThe argument of the voltage-dependent term is:\n$$\n\\gamma\\left(V_{\\mathrm{hold}} - V_{\\mathrm{ref}}\\right) = 5.0 \\times (4.40 - 4.20) = 5.0 \\times 0.20 = 1.0\n$$\nNow, substitute these values back into the expression for $r_0$:\n$$\nr_0 = (5.0 \\times 10^{-5}) \\times \\exp(0.63215) \\times \\exp(1.0) \\approx (5.0 \\times 10^{-5}) \\times 1.88173 \\times 2.71828 \\approx 2.5576 \\times 10^{-4} \\, \\mathrm{mol/day}\n$$\n\n**Step 2: Calculate the total moles of gas generated, $\\Delta n$**\n\nThe total moles of gas, $\\Delta n$, generated over a period of $t_f = 30$ days is the time integral of the rate $r(t)$:\n$$\n\\Delta n = \\int_{0}^{t_f} r(t) \\, dt = \\int_{0}^{t_f} \\frac{r_{0}}{1 + \\alpha t} \\, dt\n$$\nWith the passivation constant $\\alpha = 0.040$ $\\mathrm{day^{-1}}$. The integral evaluates to:\n$$\n\\Delta n = \\frac{r_0}{\\alpha} \\left[ \\ln(1 + \\alpha t) \\right]_{0}^{t_f} = \\frac{r_0}{\\alpha} \\left( \\ln(1 + \\alpha t_f) - \\ln(1) \\right) = \\frac{r_0}{\\alpha} \\ln(1 + \\alpha t_f)\n$$\nSubstituting the values $r_0 \\approx 2.5576 \\times 10^{-4}$ $\\mathrm{mol/day}$, $\\alpha = 0.040$ $\\mathrm{day^{-1}}$, and $t_f = 30$ days:\n$$\n\\Delta n = \\frac{2.5576 \\times 10^{-4}}{0.040} \\ln(1 + 0.040 \\times 30) = (6.394 \\times 10^{-3}) \\ln(1 + 1.2) = (6.394 \\times 10^{-3}) \\ln(2.2)\n$$\n$$\n\\Delta n \\approx (6.394 \\times 10^{-3}) \\times 0.78846 \\approx 5.0415 \\times 10^{-3} \\, \\mathrm{mol}\n$$\n\n**Step 3: Calculate the pressure increase, $\\Delta p(30)$**\n\nThe pressure increase is given by the ideal gas law:\n$$\n\\Delta p(30) = \\frac{\\Delta n R T}{V}\n$$\nUsing the given parameters:\n- $\\Delta n \\approx 5.0415 \\times 10^{-3}$ $\\mathrm{mol}$\n- $R = 8.314462618$ $\\mathrm{J\\,mol^{-1}\\,K^{-1}}$\n- $T = 308$ $\\mathrm{K}$\n- $V = 1.0 \\times 10^{-5}$ $\\mathrm{m^{3}}$\n\nSubstituting these values:\n$$\n\\Delta p(30) = \\frac{(5.0415 \\times 10^{-3}) \\times 8.314462618 \\times 308}{1.0 \\times 10^{-5}} \\approx \\frac{12.9109}{1.0 \\times 10^{-5}} \\approx 1.2911 \\times 10^{6} \\, \\mathrm{Pa}\n$$\n\n**Step 4: Compute the venting risk index, $H$**\n\nThe final step is to calculate the dimensionless index $H$ using the given vent relief threshold $p_{\\mathrm{relief}} = 1.4 \\times 10^{6}$ $\\mathrm{Pa}$.\n$$\nH = \\frac{\\Delta p(30)}{p_{\\mathrm{relief}}} = \\frac{1.2911 \\times 10^{6}}{1.4 \\times 10^{6}} \\approx 0.92221\n$$\nRounding the result to four significant figures as requested gives $0.9222$.",
            "answer": "$$\\boxed{0.9222}$$"
        },
        {
            "introduction": "While physics-based models help us understand individual aging mechanisms, real-world applications require analyzing experimental data where multiple degradation factors are intertwined. Separating the effects of time-based calendar aging from use-based cycle aging is a critical task in battery diagnostics and lifetime prediction. In this exercise , you will apply the powerful statistical technique of multiple linear regression to a dataset of capacity loss, allowing you to deconvolve and quantify the distinct contributions of calendar and cycle fade.",
            "id": "3893083",
            "problem": "You are given capacity retention measurements from lithium-ion cells exposed to combined storage and cycling. Assume a first-order additive degradation model in which the total loss of capacity is the sum of a calendar component proportional to time and a cycling component proportional to the number of cycles. Let $R_i$ denote the measured capacity retention for observation index $i$ expressed in percent, $t_i$ denote the elapsed time in months, and $c_i$ denote the accumulated cycle count. Define the capacity degradation $d_i$ in percent points as $d_i = 100 - R_i$. Model $d_i$ as\n$$\nd_i = \\beta_0 + k_{\\mathrm{cal}}\\, t_i + k_{\\mathrm{cyc}}\\,\\left(\\frac{c_i}{100}\\right) + \\varepsilon_i,\n$$\nwhere $k_{\\mathrm{cal}}$ is the calendar fade rate in percent per month, $k_{\\mathrm{cyc}}$ is the cycle fade rate in percent per $100$ cycles, $\\beta_0$ is an intercept capturing any initial offset, and $\\varepsilon_i$ is an error term. Your task is to estimate $k_{\\mathrm{cal}}$ and $k_{\\mathrm{cyc}}$ by linear regression using Ordinary Least Squares (OLS), then compute the absolute contributions (in percent points) of calendar-induced and cycle-induced degradation at a specified usage scenario $(t_\\star, c_\\star)$ for each dataset, defined as\n$$\nD_{\\mathrm{cal}}(t_\\star) = k_{\\mathrm{cal}}\\, t_\\star,\\quad D_{\\mathrm{cyc}}(c_\\star) = k_{\\mathrm{cyc}}\\,\\left(\\frac{c_\\star}{100}\\right).\n$$\nExpress all contributions as numerical decimals without appending a percent sign. The units are:\n- $k_{\\mathrm{cal}}$: percent per month.\n- $k_{\\mathrm{cyc}}$: percent per $100$ cycles.\n- $D_{\\mathrm{cal}}$ and $D_{\\mathrm{cyc}}$: percent points.\n\nUse the following datasets as a test suite. For each dataset, you are given arrays of $t_i$, $c_i$, and $R_i$, and a usage scenario $(t_\\star, c_\\star)$:\n- Dataset A:\n  - $t = [\\,0,\\,3,\\,6,\\,6,\\,9,\\,12\\,]$ months\n  - $c = [\\,0,\\,0,\\,100,\\,300,\\,200,\\,400\\,]$ cycles\n  - $R = [\\,100,\\,98.8,\\,96.4,\\,94.0,\\,94.0,\\,90.4\\,]$ percent\n  - $(t_\\star, c_\\star) = (\\,12,\\,300\\,)$\n- Dataset B:\n  - $t = [\\,2,\\,4,\\,6,\\,6,\\,6,\\,0\\,]$ months\n  - $c = [\\,0,\\,0,\\,0,\\,200,\\,400,\\,400\\,]$ cycles\n  - $R = [\\,99.6,\\,99.2,\\,98.8,\\,97.8,\\,96.8,\\,98.0\\,]$ percent\n  - $(t_\\star, c_\\star) = (\\,6,\\,400\\,)$\n- Dataset C:\n  - $t = [\\,1,\\,1,\\,2,\\,3,\\,0,\\,2\\,]$ months\n  - $c = [\\,0,\\,100,\\,200,\\,200,\\,400,\\,0\\,]$ cycles\n  - $R = [\\,99.95,\\,97.45,\\,94.90,\\,94.85,\\,90.00,\\,99.90\\,]$ percent\n  - $(t_\\star, c_\\star) = (\\,2,\\,200\\,)$\n\nRequirements:\n- Formulate and solve the OLS problem to estimate $k_{\\mathrm{cal}}$ and $k_{\\mathrm{cyc}}$ for each dataset. You may include an intercept $\\beta_0$ in the regression but do not report $\\beta_0$.\n- For each dataset, compute $D_{\\mathrm{cal}}(t_\\star)$ and $D_{\\mathrm{cyc}}(c_\\star)$ using the estimated rates.\n- Output format: Your program should produce a single line of output containing all results concatenated across datasets in the order\n  $[\\,k_{\\mathrm{cal}}^{(A)},\\,k_{\\mathrm{cyc}}^{(A)},\\,D_{\\mathrm{cal}}^{(A)}(t_\\star),\\,D_{\\mathrm{cyc}}^{(A)}(c_\\star),\\,k_{\\mathrm{cal}}^{(B)},\\,k_{\\mathrm{cyc}}^{(B)},\\,D_{\\mathrm{cal}}^{(B)}(t_\\star),\\,D_{\\mathrm{cyc}}^{(B)}(c_\\star),\\,k_{\\mathrm{cal}}^{(C)},\\,k_{\\mathrm{cyc}}^{(C)},\\,D_{\\mathrm{cal}}^{(C)}(t_\\star),\\,D_{\\mathrm{cyc}}^{(C)}(c_\\star)\\,]$.\n- Numerical formatting: Print each value with exactly six digits after the decimal point. Do not print units or percent signs; the numeric values implicitly carry the units specified above.\n- No input should be read; all data are fixed as above.\n\nAngle units are not applicable. Ensure unit consistency when constructing the regression (months for $t$, cycles for $c$, and percent for $R$). Your program must produce a single line containing the results as a comma-separated list enclosed in square brackets (e.g., $[\\,x_1, x_2, \\ldots\\,]$).",
            "solution": "The problem requires estimating the parameters of a linear degradation model using Ordinary Least Squares (OLS) and then using them to predict degradation contributions for specific scenarios. This process is applied to three separate datasets.\n\n**1. Model Formulation**\nThe capacity degradation $d_i$ (in percent points) is modeled as a linear function of elapsed time $t_i$ (in months) and accumulated cycle count $c_i$. The model equation is:\n$$d_i = \\beta_0 + k_{\\mathrm{cal}}\\, t_i + k_{\\mathrm{cyc}}\\,\\left(\\frac{c_i}{100}\\right) + \\varepsilon_i$$\nHere, $d_i = 100 - R_i$, where $R_i$ is the capacity retention in percent. The parameters to be estimated are the intercept $\\beta_0$, the calendar fade rate $k_{\\mathrm{cal}}$, and the cycle fade rate $k_{\\mathrm{cyc}}$. The term $\\varepsilon_i$ represents the model error for the $i$-th observation.\n\n**2. Matrix Representation and OLS Solution**\nThe system of linear equations for all observations can be written in matrix form as $\\mathbf{y} = \\mathbf{X}\\boldsymbol{\\beta} + \\boldsymbol{\\varepsilon}$, where:\n- $\\mathbf{y}$ is the vector of observed degradations, $\\mathbf{y} = [d_1, d_2, ..., d_n]^T$.\n- $\\boldsymbol{\\beta}$ is the vector of parameters to estimate, $\\boldsymbol{\\beta} = [\\beta_0, k_{\\mathrm{cal}}, k_{\\mathrm{cyc}}]^T$.\n- $\\mathbf{X}$ is the design matrix, where each row corresponds to an observation. The $i$-th row is $[1, t_i, c_i/100]$.\n\nThe OLS estimate $\\hat{\\boldsymbol{\\beta}}$ is the vector that minimizes the sum of squared residuals, $\\|\\mathbf{y} - \\mathbf{X}\\boldsymbol{\\beta}\\|^2$. The solution is found via the normal equations:\n$$\\hat{\\boldsymbol{\\beta}} = (\\mathbf{X}^T\\mathbf{X})^{-1}\\mathbf{X}^T\\mathbf{y}$$\n\n**3. Numerical Implementation and Calculation**\nFor each dataset, we first construct the design matrix $\\mathbf{X}$ and the degradation vector $\\mathbf{y}$. Then, we solve the OLS problem numerically to find the estimated parameters $\\hat{k}_{\\mathrm{cal}}$ and $\\hat{k}_{\\mathrm{cyc}}$. This can be done using standard linear algebra libraries, for instance by implementing the following Python code:\n```python\nimport numpy as np\n\ndef solve_regression(t_data, c_data, R_data):\n    y = 100.0 - np.array(R_data)\n    X = np.stack([np.ones_like(t_data), t_data, np.array(c_data) / 100.0], axis=1)\n    beta, _, _, _ = np.linalg.lstsq(X, y, rcond=None)\n    k_cal = beta[1]\n    k_cyc = beta[2]\n    return k_cal, k_cyc\n```\n\nOnce the rates are estimated, we calculate the calendar-induced degradation $D_{\\mathrm{cal}}$ and cycle-induced degradation $D_{\\mathrm{cyc}}$ for the specified usage scenario $(t_\\star, c_\\star)$ using the formulas:\n$$D_{\\mathrm{cal}}(t_\\star) = \\hat{k}_{\\mathrm{cal}} \\times t_\\star$$\n$$D_{\\mathrm{cyc}}(c_\\star) = \\hat{k}_{\\mathrm{cyc}} \\times \\left(\\frac{c_\\star}{100}\\right)$$\n\nApplying this procedure to each of the three datasets yields the following results:\n- **Dataset A:** $\\hat{k}_{\\mathrm{cal}} = 0.4$, $\\hat{k}_{\\mathrm{cyc}} = 1.2$. For $(t_\\star, c_\\star) = (12, 300)$, $D_{\\mathrm{cal}} = 4.8$ and $D_{\\mathrm{cyc}} = 3.6$.\n- **Dataset B:** $\\hat{k}_{\\mathrm{cal}} = 0.2$, $\\hat{k}_{\\mathrm{cyc}} = 0.5$. For $(t_\\star, c_\\star) = (6, 400)$, $D_{\\mathrm{cal}} = 1.2$ and $D_{\\mathrm{cyc}} = 2.0$.\n- **Dataset C:** $\\hat{k}_{\\mathrm{cal}} = 0.05$, $\\hat{k}_{\\mathrm{cyc}} = 2.5$. For $(t_\\star, c_\\star) = (2, 200)$, $D_{\\mathrm{cal}} = 0.1$ and $D_{\\mathrm{cyc}} = 5.0$.\n\nThe final output concatenates these twelve values, formatted to six decimal places.",
            "answer": "```\n[0.400000,1.200000,4.800000,3.600000,0.200000,0.500000,1.200000,2.000000,0.050000,2.500000,0.100000,5.000000]\n```"
        }
    ]
}