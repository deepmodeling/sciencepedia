{
    "hands_on_practices": [
        {
            "introduction": "多孔电极理论的基础是将复杂的微观现实转化为可管理的宏观方程的体积平均过程。这项练习将通过推导一个关键量（如电解质浓度）的表观平均值，来巩固对这一基本过程的理解。它旨在建立孔隙内局部本征性质与整个电极的表观（或体积）性质之间的关键桥梁。",
            "id": "3942510",
            "problem": "考虑一个一维非均相电池电极，其占据一个从位置 $x = x_{0}$ 到 $x = x_{0} + \\Delta x$ 的板状区域，且具有恒定的横截面积 $A$。孔隙空间完全被电解质饱和，不存在气相。局部的电解质填充孔隙率为 $\\varepsilon^{\\ell}(x)$，局部固相分数为 $\\varepsilon^{s}(x)$，在代表性单元体积 (REV) 内几乎处处满足 $\\varepsilon^{\\ell}(x) + \\varepsilon^{s}(x) = 1$。电解质浓度场 $c^{\\ell}(x)$ 仅在电解质填充的孔隙空间内有定义。\n\n从多孔介质体积平均法中使用的标准定义出发，即在电解质填充体积上的内禀相平均和在 REV 总体积上的表观（或称外在）平均，推导一个用 $\\varepsilon^{\\ell}(x)$、$c^{\\ell}(x)$ 和 $\\Delta x$ 表示的、在整个 REV 上的电解质浓度表观平均值的表达式。假设横截面积 $A$ 是常数，并且所有场都足够光滑，以便在适当的情况下可以交换积分和乘法运算。\n\n请将您的最终表达式简化为关于 $x$ 在区间 $[x_{0}, x_{0} + \\Delta x]$ 上的单个积分。最终答案必须是单个闭合形式的解析表达式。无需四舍五入。最终答案中请勿包含单位。",
            "solution": "该问题陈述已经过验证，被认为是具有科学依据、适定且客观的。这是多孔介质中输运现象领域的标准推导，特别是在多孔电极理论的背景下。我们可以开始求解。\n\n目标是推导在一维代表性单元体积 (REV) 上的电解质浓度表观平均值的表达式，此处记为 $\\langle c^{\\ell} \\rangle_{sup}$。REV 被定义为一个具有恒定横截面积 $A$ 的板状区域，从位置 $x = x_{0}$ 延伸到 $x = x_{0} + \\Delta x$。\n\n根据定义，一个物理量的表观平均值是其在其所定义的相的体积上的积分，并除以 REV 的总体积进行归一化。在本例中，电解质浓度 $c^{\\ell}$ 在电解质相体积 $V_{\\ell}$ 内定义，REV 的总体积为 $V_{REV}$。因此，表观平均浓度由下式给出：\n$$\n\\langle c^{\\ell} \\rangle_{sup} = \\frac{1}{V_{REV}} \\int_{V_{\\ell}} c^{\\ell} \\, dV\n$$\n问题指明 REV 是一个横截面积为常数 $A$、长度为 $\\Delta x$ 的板状区域。因此，REV 的总体积为：\n$$\nV_{REV} = A \\cdot \\Delta x\n$$\n浓度场由 $c^{\\ell}(x)$ 给出，这意味着在给定位置 $x$ 处，浓度在电解质相的任何横截面上都是均匀的。这个量 $c^{\\ell}(x)$ 是在位置 $x$ 处电解质填充面积上的浓度的内禀相平均值。\n\n体积分可以用笛卡尔坐标表示。积分是在电解质所占据的体积 $V_{\\ell}$ 上进行的。我们可以将其写成一个累次积分，首先对给定 $x$ 处的电解质横截面积 $A_{\\ell}(x)$ 进行积分，然后沿电极长度从 $x_{0}$ 到 $x_{0} + \\Delta x$ 进行积分。\n$$\n\\int_{V_{\\ell}} c^{\\ell} \\, dV = \\int_{x_{0}}^{x_{0} + \\Delta x} \\left( \\iint_{A_{\\ell}(x)} c^{\\ell}(x) \\, dy \\, dz \\right) dx\n$$\n由于 $c^{\\ell}(x)$ 仅是 $x$ 的函数，因此在对面积（$y$ 和 $z$ 坐标）进行积分时，可以将其视为常数。\n$$\n\\iint_{A_{\\ell}(x)} c^{\\ell}(x) \\, dy \\, dz = c^{\\ell}(x) \\left( \\iint_{A_{\\ell}(x)} dy \\, dz \\right)\n$$\n积分 $\\iint_{A_{\\ell}(x)} dy \\, dz$ 就是在位置 $x$ 处的电解质相的面积，即 $A_{\\ell}(x)$。因此，内层积分简化为：\n$$\n\\iint_{A_{\\ell}(x)} c^{\\ell}(x) \\, dy \\, dz = c^{\\ell}(x) A_{\\ell}(x)\n$$\n将此结果代回总体积分的表达式中，得到：\n$$\n\\int_{V_{\\ell}} c^{\\ell} \\, dV = \\int_{x_{0}}^{x_{0} + \\Delta x} c^{\\ell}(x) A_{\\ell}(x) \\, dx\n$$\n现在，我们将电解质相面积 $A_{\\ell}(x)$ 与局部电解质填充孔隙率 $\\varepsilon^{\\ell}(x)$ 联系起来。位置 $x$ 处的孔隙率定义为电解质相所占据的面积占总横截面积 $A$ 的比例：\n$$\n\\varepsilon^{\\ell}(x) = \\frac{A_{\\ell}(x)}{A}\n$$\n重新整理这个定义，我们得到 $A_{\\ell}(x)$ 的表达式：\n$$\nA_{\\ell}(x) = \\varepsilon^{\\ell}(x) A\n$$\n现在我们可以将 $A_{\\ell}(x)$ 的这个表达式代入表观平均值的积分中：\n$$\n\\langle c^{\\ell} \\rangle_{sup} = \\frac{1}{V_{REV}} \\int_{x_{0}}^{x_{0} + \\Delta x} c^{\\ell}(x) \\left( \\varepsilon^{\\ell}(x) A \\right) \\, dx\n$$\n将 $V_{REV}$ 替换为 $A \\Delta x$：\n$$\n\\langle c^{\\ell} \\rangle_{sup} = \\frac{1}{A \\Delta x} \\int_{x_{0}}^{x_{0} + \\Delta x} A \\varepsilon^{\\ell}(x) c^{\\ell}(x) \\, dx\n$$\n常数总横截面积 $A$ 同时出现在分子和分母中，因此可以消去。\n$$\n\\langle c^{\\ell} \\rangle_{sup} = \\frac{1}{\\Delta x} \\int_{x_{0}}^{x_{0} + \\Delta x} \\varepsilon^{\\ell}(x) c^{\\ell}(x) \\, dx\n$$\n这就是在整个 REV 上的电解质浓度表观平均值的最终表达式。正如题目所要求，它被表示为关于 $x$ 在指定区间上的单个积分。项 $\\varepsilon^{\\ell}(x) c^{\\ell}(x)$ 代表局部表观浓度，而整个表达式是其在该区域长度上的空间平均值。",
            "answer": "$$\\boxed{\\frac{1}{\\Delta x} \\int_{x_{0}}^{x_{0} + \\Delta x} \\varepsilon^{\\ell}(x) c^{\\ell}(x) \\, dx}$$"
        },
        {
            "introduction": "在体积平均概念的基础上，本练习将演示如何使用孔隙率和曲折度等微观结构参数来定义有效的输运系数。通过计算有效扩散系数并展示其对关键性能指标——浓差极化——的直接影响，这项练习将抽象概念具体化。它强调了多孔介质中复杂的输运路径如何阻碍离子的传输。",
            "id": "3942538",
            "problem": "一个充满液体电解质的多孔聚合物隔膜被建模为静止、各向同性、宏观均匀的介质。孔隙空间中的电解质在微观尺度上遵循菲克定律（Fick’s law），其本征（体相）盐扩散系数 $D$ 在自由溶液中定义。该隔膜测得的液相孔隙率为 $\\varepsilon^{\\ell}=0.35$，曲折度为 $\\tau=2.1$。隔膜厚度为 $L=100\\,\\mu\\text{m}$。多孔电极的体积平均框架通过有效的菲克定律 $-\\!D_{\\text{eff}}\\nabla \\langle c \\rangle$ 来表示相平均盐通量，其中 $D_{\\text{eff}}$ 是有效扩散系数，$\\langle c \\rangle$ 是孔隙相中的体积平均盐浓度。\n\n从微观尺度的菲克定律以及相平均、孔隙率和曲折度的定义出发，推导用 $D$、$\\varepsilon^{\\ell}$ 和 $\\tau$ 表示 $D_{\\text{eff}}$ 的表达式。然后，利用在均匀盐通量下的一维稳态盐输运（如同在恒电流操作下隔膜内无体积源时所建立的），说明穿过隔膜的盐浓度降 $\\Delta c$ 如何依赖于 $D_{\\text{eff}}$ 和 $L$。利用这种依赖关系，预测在厚度为 $L=100\\,\\mu\\text{m}$ 的隔膜上，相对于一个理想的“完全开放”隔膜（其 $\\varepsilon^{\\ell}=1$ 和 $\\tau=1$，但具有相同的本征扩散系数 $D$ 和相同的施加盐通量），浓度极化（此处定义为比率 $\\Delta c_{\\text{actual}}/\\Delta c_{\\text{open}}$）的倍数增加。\n\n给定 $D=2.5\\times 10^{-10}\\,\\text{m}^2/\\text{s}$、$\\varepsilon^{\\ell}=0.35$ 和 $\\tau=2.1$，计算 $D_{\\text{eff}}$ 和浓度极化的倍数增加。将 $D_{\\text{eff}}$ 以 $\\text{m}^2/\\text{s}$ 为单位表示，增加因子以纯数表示。将两个量均四舍五入到四位有效数字。",
            "solution": "出发点是在充满电解质的孔隙空间中，盐输运的微观尺度菲克定律，\n$$\n\\mathbf{N}(\\mathbf{x}) \\;=\\; -\\,D\\,\\nabla c(\\mathbf{x}),\n$$\n其中 $\\mathbf{N}$ 是局部盐摩尔通量，$D$ 是自由溶液中的本征（体相）盐扩散系数，$c$ 是局部盐浓度，所有这些都定义在孔隙的液相内。\n\n为了获得适用于多孔介质的宏观描述，我们对一个包含固相和液相的代表性单元体积（REV）进行体积平均。液相孔隙率 $\\varepsilon^{\\ell}$ 定义为 REV 内的液相体积分数。液相中的相平均通量为\n$$\n\\langle \\mathbf{N} \\rangle^{\\ell} \\;=\\; \\frac{1}{V}\\int_{V^{\\ell}} \\mathbf{N}(\\mathbf{x})\\,\\mathrm{d}V \\;=\\; -\\,\\frac{D}{V}\\int_{V^{\\ell}} \\nabla c(\\mathbf{x})\\,\\mathrm{d}V,\n$$\n其中 $V$ 是 REV 的总体积，$V^{\\ell}$ 是液相体积。在各向同性多孔介质体积平均的标准闭合假设下，孔隙空间中的平均微观梯度可以通过一个曲折度因子与相平均浓度的宏观梯度联系起来。具体来说，对于各向同性介质，曲折度 $\\tau$ 通过以下方式引入\n$$\n\\langle \\nabla c \\rangle^{\\ell} \\;\\approx\\; \\frac{1}{\\tau}\\,\\nabla \\langle c \\rangle,\n$$\n这捕捉了输运路径的延长和孔隙网络中梯度的扭曲。使用孔隙率的定义 $\\varepsilon^{\\ell} = V^{\\ell}/V$，相平均通量变为\n$$\n\\langle \\mathbf{N} \\rangle^{\\ell} \\;=\\; -\\,D\\,\\varepsilon^{\\ell}\\,\\langle \\nabla c \\rangle^{\\ell}\n\\;\\approx\\; -\\,D\\,\\varepsilon^{\\ell}\\,\\frac{1}{\\tau}\\,\\nabla \\langle c \\rangle.\n$$\n识别宏观本构关系 $\\langle \\mathbf{N} \\rangle^{\\ell} = -\\,D_{\\text{eff}}\\,\\nabla \\langle c \\rangle$ 即可得出有效扩散系数\n$$\nD_{\\text{eff}} \\;=\\; D\\,\\frac{\\varepsilon^{\\ell}}{\\tau}.\n$$\n\n接下来，考虑在边界处电极反应施加的均匀盐通量 $N_{s}$（单位为 $\\text{mol}/\\text{m}^2\\text{s}$）下，穿过厚度为 $L$ 的隔膜的一维稳态输运。在隔膜内部（无体积源），控制方程简化为恒定通量，菲克定律给出\n$$\nN_{s} \\;=\\; -\\,D_{\\text{eff}}\\,\\frac{\\mathrm{d}c}{\\mathrm{d}x},\n$$\n因此浓度梯度是均匀的：\n$$\n\\frac{\\mathrm{d}c}{\\mathrm{d}x} \\;=\\; -\\,\\frac{N_{s}}{D_{\\text{eff}}}.\n$$\n穿过隔膜厚度 $L$ 的浓度降则为\n$$\n\\Delta c \\;=\\; \\int_{0}^{L}\\!\\left|\\frac{\\mathrm{d}c}{\\mathrm{d}x}\\right|\\,\\mathrm{d}x \\;=\\; \\frac{N_{s} L}{D_{\\text{eff}}}.\n$$\n对于一个 $\\varepsilon^{\\ell}=1$ 和 $\\tau=1$ 的理想“完全开放”隔膜，有效扩散系数等于本征扩散系数，$D_{\\text{eff,open}} = D$，从而得到\n$$\n\\Delta c_{\\text{open}} \\;=\\; \\frac{N_{s} L}{D}.\n$$\n因此，在相同的施加盐通量 $N_{s}$ 和厚度 $L$ 下，浓度极化（浓度降之比）的倍数增加为\n$$\n\\frac{\\Delta c_{\\text{actual}}}{\\Delta c_{\\text{open}}}\n\\;=\\;\n\\frac{N_{s} L / D_{\\text{eff}}}{N_{s} L / D}\n\\;=\\;\n\\frac{D}{D_{\\text{eff}}}\n\\;=\\;\n\\frac{D}{D\\,\\varepsilon^{\\ell}/\\tau}\n\\;=\\;\n\\frac{\\tau}{\\varepsilon^{\\ell}}.\n$$\n\n使用给定值 $D=2.5\\times 10^{-10}\\,\\text{m}^2/\\text{s}$、$\\varepsilon^{\\ell}=0.35$ 和 $\\tau=2.1$，有效扩散系数为\n$$\nD_{\\text{eff}} \\;=\\; \\left(2.5\\times 10^{-10}\\right)\\,\\frac{0.35}{2.1}\n\\;=\\;\n\\left(2.5\\times 10^{-10}\\right)\\times \\frac{1}{6}\n\\;=\\;\n4.166666666\\ldots\\times 10^{-11}\\,\\text{m}^2/\\text{s}.\n$$\n四舍五入到四位有效数字，$D_{\\text{eff}} = 4.167\\times 10^{-11}\\,\\text{m}^2/\\text{s}$。\n\n浓度极化的倍数增加为\n$$\n\\frac{\\tau}{\\varepsilon^{\\ell}} \\;=\\; \\frac{2.1}{0.35} \\;=\\; 6.000,\n$$\n已经是精确值，四舍五入到四位有效数字后仍为 $6.000$。\n\n因此，所求的量是单位为 $\\text{m}^2/\\text{s}$ 的 $D_{\\text{eff}}$ 和无量纲的增加因子。",
            "answer": "$$\\boxed{\\begin{pmatrix}4.167 \\times 10^{-11} & 6.000\\end{pmatrix}}$$"
        },
        {
            "introduction": "最后的这项练习将前面的概念整合到一个综合性的多孔电极计算模型中。通过数值求解电荷输运和反应动力学的耦合方程，您将直接模拟电流和电势在电极中的分布。这个综合性练习将理论与仿真联系起来，为理解和设计电池电极提供了强大的工具。",
            "id": "3942511",
            "problem": "考虑一个厚度为 $L$、具有均匀比表面积 $a_s$（单位体积的界面面积）的一维多孔电极，在温度 $T$ 下等温运行。电解质离子电流密度 $i^{\\ell}(x)$ 和固相电子电流密度 $i^{s}(x)$ 沿厚度方向的坐标 $x \\in [0,L]$ 变化。在稳态条件下，多孔电极中满足以下基本关系：\n\n1. 电解质相中的电荷守恒：$$\\frac{d}{dx} i^{\\ell}(x) = a_s F j(x),$$ 其中 $j(x)$ 是摩尔界面反应通量，单位为 $\\mathrm{mol}\\,\\mathrm{m}^{-2}\\,\\mathrm{s}^{-1}$，$F$ 是法拉第常数。\n\n2. 固相中的电荷守恒：$$\\frac{d}{dx} i^{s}(x) = -a_s F j(x).$$\n\n3. 总电流密度是恒定的：$$i^{\\mathrm{tot}}(x) = i^{\\ell}(x) + i^{s}(x) = I,$$ 其中 $I$ 是外部施加的电流密度（放电时为正），单位为 $\\mathrm{A}\\,\\mathrm{m}^{-2}$。\n\n4. 具有恒定有效电导率的各相中的欧姆定律：$$i^{\\ell}(x) = -\\kappa_{\\mathrm{eff}} \\frac{d}{dx} \\phi_{\\ell}(x), \\quad i^{s}(x) = -\\sigma_{\\mathrm{eff}} \\frac{d}{dx} \\phi_{s}(x),$$ 其中 $\\phi_{\\ell}(x)$ 是电解质电势，$\\phi_{s}(x)$ 是固相电势，$\\kappa_{\\mathrm{eff}}$ 和 $\\sigma_{\\mathrm{eff}}$ 的单位为 $\\mathrm{S}\\,\\mathrm{m}^{-1}$。\n\n5. 用过电势 $\\eta(x) = \\phi_{s}(x) - \\phi_{\\ell}(x) - U$ 表示的 Butler–Volmer 界面动力学，其中 $U$ 是平衡电势（假定在整个电极上是恒定的）。将单位为 $\\mathrm{A}\\,\\mathrm{m}^{-2}$ 的法拉第界面电流密度 $j_A(x)$ 定义为 $$j_A(x) = i_0 \\left[\\exp\\left(\\frac{\\alpha_a F}{R T} \\eta(x)\\right) - \\exp\\left(-\\frac{\\alpha_c F}{R T} \\eta(x)\\right)\\right],$$ 其中 $i_0$ 是交换电流密度，单位为 $\\mathrm{A}\\,\\mathrm{m}^{-2}$，$\\alpha_a$ 和 $\\alpha_c$ 分别是阳极和阴极电荷转移系数，$R$ 是普适气体常数，$T$ 是绝对温度。摩尔通量则为 $j(x) = j_A(x)/F$。\n\n使用上述关系，并从电荷守恒和欧姆定律的基本原理出发，推导一个关于 $\\phi_s(x)$ 和 $\\phi_{\\ell}(x)$ 的边值问题，并求解沿 $x \\in [0,L]$ 的离子电流密度分布 $i^{\\ell}(x)$。使用能够描述物理上真实接触的边界条件：\n- 在集电器处（$x=0$），电解质不承载电流：$$i^{\\ell}(0) = 0,$$ 固相承载施加的电流：$$i^{s}(0) = I.$$\n- 在隔膜界面处（$x=L$），固相不承载电流：$$i^{s}(L) = 0,$$ 并通过设置 $\\phi_{\\ell}(L) = 0$ 来选择一个电势参考点。\n\n在整个过程中，假设电荷转移系数是对称的，即 $\\alpha_a = \\alpha_c = 1/2$。以 $\\mathrm{A}\\,\\mathrm{m}^{-2}$ 为单位表示 $i^{\\ell}(x)$。\n\n您的任务是编写一个完整的、可运行的程序，该程序使用这些原理构建并求解关于 $\\phi_s(x)$ 和 $\\phi_{\\ell}(x)$ 的边值问题，并针对下面测试套件中的每个测试用例，返回在五个均匀间隔的位置 $x \\in \\{0, L/4, L/2, 3L/4, L\\}$ 处的离子电流密度 $i^{\\ell}(x)$。\n\n所需常数：\n- 法拉第常数 $F = 96485\\,\\mathrm{C}\\,\\mathrm{mol}^{-1}$，\n- 普适气体常数 $R = 8.314\\,\\mathrm{J}\\,\\mathrm{mol}^{-1}\\,\\mathrm{K}^{-1}$。\n\n测试套件（三个用例）：\n- 用例 1（平衡动力学，中等电导率）：$$L = 1.0 \\times 10^{-4}\\,\\mathrm{m},\\quad a_s = 1.0 \\times 10^{6}\\,\\mathrm{m}^{-1},\\quad I = 10.0\\,\\mathrm{A}\\,\\mathrm{m}^{-2},\\quad \\sigma_{\\mathrm{eff}} = 100.0\\,\\mathrm{S}\\,\\mathrm{m}^{-1},\\quad \\kappa_{\\mathrm{eff}} = 1.0\\,\\mathrm{S}\\,\\mathrm{m}^{-1},\\quad i_0 = 1.0\\,\\mathrm{A}\\,\\mathrm{m}^{-2},\\quad T = 298.0\\,\\mathrm{K},\\quad U = 0.1\\,\\mathrm{V}.$$\n- 用例 2（反应受限，较低电导率）：$$L = 1.0 \\times 10^{-4}\\,\\mathrm{m},\\quad a_s = 5.0 \\times 10^{6}\\,\\mathrm{m}^{-1},\\quad I = 5.0\\,\\mathrm{A}\\,\\mathrm{m}^{-2},\\quad \\sigma_{\\mathrm{eff}} = 50.0\\,\\mathrm{S}\\,\\mathrm{m}^{-1},\\quad \\kappa_{\\mathrm{eff}} = 0.5\\,\\mathrm{S}\\,\\mathrm{m}^{-1},\\quad i_0 = 0.05\\,\\mathrm{A}\\,\\mathrm{m}^{-2},\\quad T = 298.0\\,\\mathrm{K},\\quad U = 0.05\\,\\mathrm{V}.$$\n- 用例 3（高电解质电导率，短电极）：$$L = 5.0 \\times 10^{-5}\\,\\mathrm{m},\\quad a_s = 2.0 \\times 10^{6}\\,\\mathrm{m}^{-1},\\quad I = 20.0\\,\\mathrm{A}\\,\\mathrm{m}^{-2},\\quad \\sigma_{\\mathrm{eff}} = 200.0\\,\\mathrm{S}\\,\\mathrm{m}^{-1},\\quad \\kappa_{\\mathrm{eff}} = 10.0\\,\\mathrm{S}\\,\\mathrm{m}^{-1},\\quad i_0 = 5.0\\,\\mathrm{A}\\,\\mathrm{m}^{-2},\\quad T = 298.0\\,\\mathrm{K},\\quad U = 0.2\\,\\mathrm{V}.$$\n\n最终输出格式：\n您的程序应生成一行输出，其中包含一个以逗号分隔的五元列表的列表，并用方括号括起来，每个五元列表为其中一个测试用例在 $x \\in \\{0, L/4, L/2, 3L/4, L\\}$ 处的 $i^{\\ell}(x)$，单位为 $\\mathrm{A}\\,\\mathrm{m}^{-2}$。例如：\"[[i0,i1,i2,i3,i4],[...],[...]]\"，数值为浮点数，单位为 $\\mathrm{A}\\,\\mathrm{m}^{-2}$。",
            "solution": "该问题要求推导并求解一个描述一维多孔电极内稳态电势和电流分布的边值问题 (BVP)。解将通过应用问题陈述中阐述的电化学基本原理来获得。\n\n控制物理原理如下：\n1.  电解质相和固相中的电荷守恒，它将电流的散度与局部反应速率联系起来：\n    $$ \\frac{d}{dx} i^{\\ell}(x) = a_s j_A(x) $$\n    $$ \\frac{d}{dx} i^{s}(x) = -a_s j_A(x) $$\n    其中 $j_A(x)$ 是界面电流密度，单位为 $\\mathrm{A}\\,\\mathrm{m}^{-2}$。将这两个方程相加可以证实总电流 $i^{\\ell}(x) + i^{s}(x) = I$ 是守恒的（$dI/dx = 0$）。\n\n2.  各相中电荷传输的欧姆定律，它将电流密度与电势的梯度联系起来：\n    $$ i^{\\ell}(x) = -\\kappa_{\\mathrm{eff}} \\frac{d}{dx} \\phi_{\\ell}(x) $$\n    $$ i^{s}(x) = -\\sigma_{\\mathrm{eff}} \\frac{d}{dx} \\phi_{s}(x) $$\n\n3.  固-电解质界面电化学反应的 Butler-Volmer 动力学。界面电流密度 $j_A(x)$ 是过电势 $\\eta(x) = \\phi_{s}(x) - \\phi_{\\ell}(x) - U$ 的函数。当转移系数对称，即 $\\alpha_a = \\alpha_c = 1/2$ 时，该方程简化为：\n    $$ j_A(x) = i_0 \\left[\\exp\\left(\\frac{F}{2 R T} \\eta(x)\\right) - \\exp\\left(-\\frac{F}{2 R T} \\eta(x)\\right)\\right] = 2 i_0 \\sinh\\left(\\frac{F \\eta(x)}{2 R T}\\right) $$\n\n为了构建关于电势 $\\phi_s(x)$ 和 $\\phi_{\\ell}(x)$ 的 BVP，我们结合这些原理。通过将欧姆定律代入电荷守恒方程，我们得到一个由两个耦合的二阶非线性常微分方程 (ODE) 组成的系统：\n$$ \\frac{d}{dx} \\left(-\\kappa_{\\mathrm{eff}} \\frac{d\\phi_{\\ell}}{dx}\\right) = -\\kappa_{\\mathrm{eff}} \\frac{d^2\\phi_{\\ell}}{dx^2} = a_s j_A\\left(\\phi_s(x), \\phi_{\\ell}(x)\\right) $$\n$$ \\frac{d}{dx} \\left(-\\sigma_{\\mathrm{eff}} \\frac{d\\phi_{s}}{dx}\\right) = -\\sigma_{\\mathrm{eff}} \\frac{d^2\\phi_{s}}{dx^2} = -a_s j_A\\left(\\phi_s(x), \\phi_{\\ell}(x)\\right) $$\n其中 $j_A$ 是由 Butler-Volmer 方程给出的关于 $\\phi_s$ 和 $\\phi_{\\ell}$ 的非线性函数。\n\n这个由两个二阶 ODE 组成的系统需要四个边界条件才能得到唯一解。给定的物理约束提供了这些条件：\n1.  在集电器处（$x=0$），电解质电流为零：$i^{\\ell}(0) = 0 \\implies -\\kappa_{\\mathrm{eff}} \\frac{d\\phi_{\\ell}}{dx}(0) = 0 \\implies \\frac{d\\phi_{\\ell}}{dx}(0) = 0$。\n2.  在集电器处（$x=0$），固相承载总电流：$i^{s}(0) = I \\implies -\\sigma_{\\mathrm{eff}} \\frac{d\\phi_{s}}{dx}(0) = I \\implies \\frac{d\\phi_{s}}{dx}(0) = -\\frac{I}{\\sigma_{\\mathrm{eff}}}$。\n3.  在隔膜界面处（$x=L$），固相电流为零：$i^{s}(L) = 0 \\implies -\\sigma_{\\mathrm{eff}} \\frac{d\\phi_{s}}{dx}(L) = 0 \\implies \\frac{d\\phi_{s}}{dx}(L) = 0$。\n4.  在隔膜界面处（$x=L$），设置电势参考点：$\\phi_{\\ell}(L) = 0$。\n\n至此，BVP 的公式化完成。由于 $\\sinh$ 项的非线性特性，通常无法获得解析解，因此需要采用数值方法。我们将使用一个鲁棒的 BVP 求解器 `scipy.integrate.solve_bvp`，该求解器要求将问题转化为一阶 ODE 系统。\n\n我们定义一个包含四个分量的状态向量 $Y(x)$：\n$$ Y(x) = \\begin{bmatrix} Y_0(x) \\\\ Y_1(x) \\\\ Y_2(x) \\\\ Y_3(x) \\end{bmatrix} = \\begin{bmatrix} \\phi_s(x) \\\\ \\frac{d\\phi_s}{dx}(x) \\\\ \\phi_{\\ell}(x) \\\\ \\frac{d\\phi_{\\ell}}{dx}(x) \\end{bmatrix} $$\n这个二阶 ODE 系统可以重写为包含四个一阶 ODE 的系统，即 $\\frac{dY}{dx} = f(x, Y)$：\n$$ \\frac{d}{dx} \\begin{bmatrix} Y_0 \\\\ Y_1 \\\\ Y_2 \\\\ Y_3 \\end{bmatrix} = \\begin{bmatrix} Y_1 \\\\ \\frac{a_s}{\\sigma_{\\mathrm{eff}}} j_A(Y_0, Y_2) \\\\ Y_3 \\\\ -\\frac{a_s}{\\kappa_{\\mathrm{eff}}} j_A(Y_0, Y_2) \\end{bmatrix} $$\n其中 $j_A(Y_0, Y_2) = 2 i_0 \\sinh\\left(\\frac{F (Y_0 - Y_2 - U)}{2 R T}\\right)$。\n\n边界条件用边界 $x=0$（由下标 $a$ 表示）和 $x=L$（由下标 $b$ 表示）处的状态向量表示：\n1.  $\\frac{d\\phi_{\\ell}}{dx}(0) = 0 \\implies Y_3(a) = 0$\n2.  $\\frac{d\\phi_{s}}{dx}(0) = -I/\\sigma_{\\mathrm{eff}} \\implies Y_1(a) = -I/\\sigma_{\\mathrm{eff}}$\n3.  $\\frac{d\\phi_{s}}{dx}(L) = 0 \\implies Y_1(b) = 0$\n4.  $\\phi_{\\ell}(L) = 0 \\implies Y_2(b) = 0$\n\n数值算法的步骤如下：\n1.  为 ODE 系统和边界条件残差定义 Python 函数。\n2.  为 $x \\in [0, L]$ 提供初始网格，并为该网格上的解向量 $Y(x)$ 提供初始猜测。通常，全零猜测是求解器的一个足够好的起点。\n3.  使用这些函数、网格和猜测值调用 `scipy.integrate.solve_bvp`。求解器会迭代地精化解，直到 ODE 和边界条件在指定的容差内得到满足。\n4.  一旦 BVP 求解完毕，得到的 `sol` 对象包含了解 $Y(x)$ 的连续表示。所需的量，即离子电流密度 $i^{\\ell}(x)$，可以通过欧姆定律从解中计算得出：\n    $$ i^{\\ell}(x) = -\\kappa_{\\mathrm{eff}} \\frac{d\\phi_{\\ell}}{dx}(x) = -\\kappa_{\\mathrm{eff}} Y_3(x) $$\n该表达式在所需的点 $x \\in \\{0, L/4, L/2, 3L/4, L\\}$ 处进行求值。\n\n将此过程系统地应用于问题陈述中提供的每个测试用例，以生成最终结果。",
            "answer": "```python\nimport numpy as np\nfrom scipy.integrate import solve_bvp\n\ndef solve():\n    \"\"\"\n    Solves the porous electrode boundary-value problem for three test cases\n    and returns the ionic current density at specified points.\n    \"\"\"\n    # Universal Constants\n    F = 96485.0  # Faraday constant in C/mol\n    R = 8.314  # Universal gas constant in J/(mol*K)\n\n    # Test suite from the problem statement\n    test_cases = [\n        # Case 1: balanced kinetics, moderate conductivities\n        {'L': 1.0e-4, 'a_s': 1.0e6, 'I': 10.0, 'sigma_eff': 100.0,\n         'kappa_eff': 1.0, 'i0': 1.0, 'T': 298.0, 'U': 0.1},\n        # Case 2: reaction-limited, lower conductivities\n        {'L': 1.0e-4, 'a_s': 5.0e6, 'I': 5.0, 'sigma_eff': 50.0,\n         'kappa_eff': 0.5, 'i0': 0.05, 'T': 298.0, 'U': 0.05},\n        # Case 3: high electrolyte conductivity, short electrode\n        {'L': 5.0e-5, 'a_s': 2.0e6, 'I': 20.0, 'sigma_eff': 200.0,\n         'kappa_eff': 10.0, 'i0': 5.0, 'T': 298.0, 'U': 0.2}\n    ]\n\n    all_results = []\n\n    for params in test_cases:\n        L = params['L']\n        a_s = params['a_s']\n        I = params['I']\n        sigma_eff = params['sigma_eff']\n        kappa_eff = params['kappa_eff']\n        i0 = params['i0']\n        T = params['T']\n        U = params['U']\n\n        # Pre-compute the thermal voltage term\n        F_over_2RT = F / (2.0 * R * T)\n\n        def ode_fun(x, y):\n            \"\"\"\n            Defines the system of first-order ODEs.\n            y = [phi_s, d(phi_s)/dx, phi_l, d(phi_l)/dx]\n            \"\"\"\n            phi_s, dphi_s_dx, phi_l, dphi_l_dx = y[0], y[1], y[2], y[3]\n            eta = phi_s - phi_l - U\n            \n            # Butler-Volmer kinetics for alpha_a = alpha_c = 0.5\n            j_A = 2.0 * i0 * np.sinh(F_over_2RT * eta)\n\n            # System equations\n            d2phi_s_dx2 = (a_s * j_A) / sigma_eff\n            d2phi_l_dx2 = -(a_s * j_A) / kappa_eff\n            \n            return np.vstack((dphi_s_dx, d2phi_s_dx2, dphi_l_dx, d2phi_l_dx2))\n\n        def bc_fun(ya, yb):\n            \"\"\"\n            Defines the boundary condition residuals.\n            ya = y(0), yb = y(L)\n            \"\"\"\n            return np.array([\n                ya[3],                          # d(phi_l)/dx(0) = 0\n                ya[1] + I / sigma_eff,          # d(phi_s)/dx(0) = -I/sigma_eff\n                yb[1],                          # d(phi_s)/dx(L) = 0\n                yb[2]                           # phi_l(L) = 0\n            ])\n\n        # Initial spatial mesh and guess for the solution\n        x_mesh = np.linspace(0, L, 101)\n        y_guess = np.zeros((4, x_mesh.size))\n        \n        # Solve the Boundary-Value Problem\n        sol = solve_bvp(ode_fun, bc_fun, x_mesh, y_guess, tol=1e-6)\n        \n        # Define evaluation points\n        x_eval = np.array([0.0, L/4.0, L/2.0, 3.0*L/4.0, L])\n        \n        # Get the solution at the evaluation points\n        y_eval = sol.sol(x_eval)\n        \n        # Calculate ionic current density: i_l(x) = -kappa_eff * d(phi_l)/dx\n        # d(phi_l)/dx corresponds to y[3]\n        i_l_values = -kappa_eff * y_eval[3]\n        \n        # Ensure boundary conditions are met exactly in output for clarity\n        i_l_values[0] = 0.0\n        # i_l(L) must be I due to conservation of charge;\n        # the numerical solution should be very close. We'll list the solver's result.\n        \n        all_results.append(list(i_l_values))\n        \n    # Format the output string as per requirements\n    inner_strings = [f\"[{','.join(map(str, res))}]\" for res in all_results]\n    final_output = f\"[{','.join(inner_strings)}]\"\n    \n    print(final_output)\n\nsolve()\n```"
        }
    ]
}