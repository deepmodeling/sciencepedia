{
    "hands_on_practices": [
        {
            "introduction": "理解平衡状态是进行任何热分析的第一步。该练习专注于计算电池单元的稳态温度，这代表了产热与散热完美平衡的临界点。掌握这一基本计算，为评估电池在恒定负载下的热性能提供了至关重要的基准。",
            "id": "3925561",
            "problem": "一个自动化的电池设计工作流程将单个方形锂离子电池建模为一个集总热节点，该节点与温度为 $T_{\\infty}$ 的环境进行热交换。该电池的体积为 $V=3.0\\times 10^{-5}\\,\\mathrm{m^3}$，密度为 $\\rho=2000\\,\\mathrm{kg\\,m^{-3}}$，恒压比热容 ($c_p$) 为 $c_p=1000\\,\\mathrm{J\\,kg^{-1}\\,K^{-1}}$。通过对流向环境散热，其总对流热导为 $hA=7\\,\\mathrm{W\\,K^{-1}}$，其中 $h$ 是对流传热系数，$A$ 是有效暴露面积。在运行期间，由于电化学和欧姆损耗，内部生热率恒为 $Q_{\\mathrm{gen}}=15\\,\\mathrm{W}$。\n\n从集总热力学系统的热力学第一定律以及物理上合理的对流热交换本构关系出发，推导出控制能量平衡方程，并确定电池的稳态温升 $\\Delta T=T_{\\mathrm{ss}}-T_{\\infty}$。将您的答案四舍五入到四位有效数字，并以开尔文为单位表示最终结果。",
            "solution": "首先对问题进行验证，以确保其科学上合理、提法得当且客观。\n\n**步骤1：提取已知条件**\n- 电池体积：$V=3.0\\times 10^{-5}\\,\\mathrm{m^3}$\n- 电池密度：$\\rho=2000\\,\\mathrm{kg\\,m^{-3}}$\n- 电池比热容：$c_p=1000\\,\\mathrm{J\\,kg^{-1}\\,K^{-1}}$\n- 环境温度：$T_{\\infty}$\n- 总对流热导：$hA=7\\,\\mathrm{W\\,K^{-1}}$\n- 内部生热率：$Q_{\\mathrm{gen}}=15\\,\\mathrm{W}$\n- 目标：确定稳态温升 $\\Delta T=T_{\\mathrm{ss}}-T_{\\infty}$。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题基于热力学第一定律和牛顿冷却定律，这些是热工学中公认的原理。集总电容模型是对此类问题的一种标准且适当的简化假设。所有提供的关于体积、密度、比热、热导和生热的数值，对于运行负载下的方形锂离子电池都是物理上现实的。该问题是自洽的，提供了确定稳态条件所需的所有必要数据。问题清晰明确，旨在寻求一个单一、唯一的量化结果。因此，该问题被认为是有效的。\n\n**步骤3：结论与行动**\n问题有效。将继续进行求解。\n\n电池热行为的控制原理是应用于集总参数系统的热力学第一定律。将电池视为具有均匀温度 $T$ 的单个热节点，其能量平衡可以表示为：\n$$ \\frac{dE}{dt} = \\dot{E}_{\\mathrm{in}} - \\dot{E}_{\\mathrm{out}} + \\dot{E}_{\\mathrm{gen}} $$\n其中 $\\frac{dE}{dt}$ 是电池中储存的内能的变化率，$\\dot{E}_{\\mathrm{in}}$ 是能量传入电池的速率，$\\dot{E}_{\\mathrm{out}}$ 是能量传出电池的速率，$\\dot{E}_{\\mathrm{gen}}$ 是电池内部能量生成的速率。\n\n根据问题陈述，我们来定义每一项：\n1.  集总质量的内能变化率由 $\\frac{dE}{dt} = mc_p \\frac{dT}{dt}$ 给出。电池的质量为 $m = \\rho V$。因此，能量储存速率为：\n    $$ \\frac{dE}{dt} = \\rho V c_p \\frac dT{dt} $$\n2.  热量从周围环境传入系统。在此问题中，周围环境是热沉，因此除了内部生热外，没有从外部源向电池传入热量。所以，$\\dot{E}_{\\mathrm{in}} = 0$。\n3.  电池通过对流向周围环境散热。根据牛顿冷却定律，该散热速率为：\n    $$ \\dot{E}_{\\mathrm{out}} = Q_{\\mathrm{conv}} = hA(T - T_{\\infty}) $$\n    其中 $hA$ 是总对流热导。\n4.  内部以恒定速率 $Q_{\\mathrm{gen}}$ 生热。因此：\n    $$ \\dot{E}_{\\mathrm{gen}} = Q_{\\mathrm{gen}} $$\n\n将这些项代入能量平衡方程，得到电池温度的控制常微分方程：\n$$ \\rho V c_p \\frac dT{dt} = Q_{\\mathrm{gen}} - hA(T - T_{\\infty}) $$\n这个方程描述了电池的瞬态热响应。然而，问题要求的是稳态温升。在稳态下，电池的温度不再随时间变化。这个条件由以下公式定义：\n$$ \\frac{dT}{dt} = 0 $$\n设电池的稳态温度为 $T_{\\mathrm{ss}}$。将稳态条件应用于控制方程，我们得到：\n$$ 0 = Q_{\\mathrm{gen}} - hA(T_{\\mathrm{ss}} - T_{\\infty}) $$\n这可以简化为一个平衡表述：在稳态下，内部生热速率必须等于向周围环境的散热速率。\n$$ Q_{\\mathrm{gen}} = hA(T_{\\mathrm{ss}} - T_{\\infty}) $$\n问题要求确定稳态温升，其定义为 $\\Delta T = T_{\\mathrm{ss}} - T_{\\infty}$。我们可以重新排列稳态能量平衡方程，直接求解这个量：\n$$ \\Delta T = T_{\\mathrm{ss}} - T_{\\infty} = \\frac{Q_{\\mathrm{gen}}}{hA} $$\n注意，电池的体积 $V$、密度 $\\rho$ 和比热容 $c_p$ 决定了其热质量，因此影响达到稳态所需的时间，但它们不影响最终的稳态温度本身。\n\n现在，我们将给定的数值代入推导出的 $\\Delta T$ 表达式中：\n- $Q_{\\mathrm{gen}} = 15\\,\\mathrm{W}$\n- $hA = 7\\,\\mathrm{W\\,K^{-1}}$\n\n$$ \\Delta T = \\frac{15\\,\\mathrm{W}}{7\\,\\mathrm{W\\,K^{-1}}} = \\frac{15}{7}\\,\\mathrm{K} $$\n进行除法运算得到：\n$$ \\Delta T \\approx 2.142857... \\,\\mathrm{K} $$\n问题要求答案四舍五入到四位有效数字。\n$$ \\Delta T \\approx 2.143\\,\\mathrm{K} $$\n温差单位开尔文（K）在量纲上是一致且适当的。",
            "answer": "$$\\boxed{2.143}$$"
        },
        {
            "introduction": "稳态分析告诉我们最终的温度，而瞬态分析则揭示了系统如何达到该温度。本练习深入探讨电池的动态热响应，引入了热时间常数 $τ$ 这一关键概念。通过推导完整的温度随时间变化的轨迹，您将洞悉热量变化的速率，这对于设计有效的热管理策略至关重要。",
            "id": "3925723",
            "problem": "一个圆柱形锂离子电池被表示为一个集总热节点，其总热容为 $C$，并且只有一个到环境的对流散热路径，其特征由乘积 $hA$ 描述，其中 $h$ 是对流传热系数，$A$ 是暴露的表面积。环境温度是均匀且恒定的，为 $T_{\\infty}$。在时间 $t=0$ 时，电池从开路状态转换到恒流放电状态，这会产生一个均匀的体积生热率，积分后得到净生热功率 $Q_{\\mathrm{gen}}$，此后该值保持不变。假设内部温度场在空间上是均匀的，因此集总模型是合理的。\n\n从集总控制体的热力学第一定律出发，并将与环境的对流视为唯一的外部散热机制，推导电池温度 $T(t)$ 的控制常微分方程，并在初始条件 $T(0)=T_{\\infty}$ 下求解 $t \\ge 0$ 时的解。使用以下参数：$C=150\\,\\mathrm{J\\,K^{-1}}$，$hA=12\\,\\mathrm{W\\,K^{-1}}$，$Q_{\\mathrm{gen}}=18\\,\\mathrm{W}$，以及 $T_{\\infty}=298\\,\\mathrm{K}$。计算热时间常数 $\\tau$，并预测对于 $Q_{\\mathrm{gen}}$ 的阶跃输入，其显式解析温度轨迹 $T(t)$。\n\n以秒为单位表示时间常数，以开尔文为单位表示温度轨迹。将你的最终答案以包含 $\\tau$ 和 $T(t)$ 的单行矩阵形式给出，并将 $T(t)$ 保留为 $t$ 的函数。无需四舍五入；给出精确值。",
            "solution": "首先根据指定标准对问题进行验证。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n- 总热容：$C=150\\,\\mathrm{J\\,K^{-1}}$\n- 对流散热乘积：$hA=12\\,\\mathrm{W\\,K^{-1}}$\n- 净生热功率：$Q_{\\mathrm{gen}}=18\\,\\mathrm{W}$ (对于 $t \\ge 0$)\n- 环境温度：$T_{\\infty}=298\\,\\mathrm{K}$\n- 初始条件：$T(0)=T_{\\infty}$\n- 模型：具有单一对流散热路径的集总热节点。\n- 控制原理：集总控制体的热力学第一定律。\n\n**步骤2：使用提取的已知条件进行验证**\n- **科学依据：** 该问题基于热力学第一定律和牛顿冷却定律，这是传热学和热力学的基本原理。当物体内部的空间温度梯度可忽略不计时（即毕渥数较低时），集总电容模型是一种标准且有效的工程近似，问题明确假设此条件已满足。\n- **适定性：** 该问题描述了一个具有常系数和指定初始条件的一阶线性常微分方程。这构成了一个适定的初值问题，保证了唯一且稳定解的存在。\n- **客观性：** 该问题使用精确、明确的科学语言和定量数据进行陈述。没有主观或基于观点的陈述。\n- **完整性与一致性：** 提供了求解温度轨迹 $T(t)$ 所需的所有必要参数（$C$, $hA$, $Q_{\\mathrm{gen}}$, $T_{\\infty}$）和初始条件（$T(0)$）。数据在量纲上是一致的。\n\n**步骤3：结论与行动**\n该问题是有效的，因为它具有科学依据、适定、客观且自洽。将制定一个完整的解决方案。\n\n### 求解推导\n\n分析始于将热力学第一定律应用于代表电池单元的集总控制体。能量平衡方程为：\n$$\n\\frac{dE}{dt} = \\dot{E}_{\\text{in}} - \\dot{E}_{\\text{out}} + \\dot{E}_{\\text{gen}}\n$$\n其中 $\\frac{dE}{dt}$ 是系统内能的变化率，$\\dot{E}_{\\text{in}}$ 是能量传入系统的速率，$\\dot{E}_{\\text{out}}$ 是能量传出系统的速率，$\\dot{E}_{\\text{gen}}$ 是系统内部能量生成的速率。\n\n对于此问题：\n1.  内能的变化率通过热容 $C$ 与温度变化相关联：$\\frac{dE}{dt} = C\\frac{dT}{dt}$。\n2.  没有能量传入系统，因此 $\\dot{E}_{\\text{in}}=0$。\n3.  能量传出系统仅通过与周围环境的对流发生。这种热损失由牛顿冷却定律描述：$\\dot{E}_{\\text{out}} = hA(T(t) - T_{\\infty})$。\n4.  内部生热率以恒定功率 $Q_{\\mathrm{gen}}$ 给出，因此 $\\dot{E}_{\\text{gen}} = Q_{\\mathrm{gen}}$。\n\n将这些项代入能量平衡方程，得到电池温度 $T(t)$ 的控制常微分方程（ODE）：\n$$\nC\\frac{dT}{dt} = 0 - hA(T(t) - T_{\\infty}) + Q_{\\mathrm{gen}}\n$$\n整理各项，我们得到：\n$$\nC\\frac{dT}{dt} + hA \\cdot T(t) = hA \\cdot T_{\\infty} + Q_{\\mathrm{gen}}\n$$\n这是一个一阶线性非齐次常微分方程。为了确定热时间常数，我们可以除以 $hA$ 将方程化为标准形式：\n$$\n\\frac{C}{hA}\\frac{dT}{dt} + T(t) = T_{\\infty} + \\frac{Q_{\\mathrm{gen}}}{hA}\n$$\n该方程的形式为 $\\tau \\frac{dy}{dt} + y = K$，其中导数项的系数是系统的时间常数 $\\tau$。因此，热时间常数为：\n$$\n\\tau = \\frac{C}{hA}\n$$\n代入给定值：\n$$\n\\tau = \\frac{150\\,\\mathrm{J\\,K^{-1}}}{12\\,\\mathrm{W\\,K^{-1}}} = 12.5\\,\\mathrm{s}\n$$\n单位是正确的，因为 $\\mathrm{J}/\\mathrm{W} = \\mathrm{J}/(\\mathrm{J/s}) = \\mathrm{s}$。\n\n为了求解该常微分方程，我们定义一个新的温差变量 $\\theta(t) = T(t) - T_{\\infty}$。其导数为 $\\frac{d\\theta}{dt} = \\frac{dT}{dt}$。将此代入常微分方程的第一个形式中：\n$$\nC\\frac{d\\theta}{dt} = -hA \\cdot \\theta(t) + Q_{\\mathrm{gen}}\n$$\n整理后得到：\n$$\nC\\frac{d\\theta}{dt} + hA \\cdot \\theta(t) = Q_{\\mathrm{gen}}\n$$\n此常微分方程的解是齐次解（$\\theta_h$）和特解（$\\theta_p$）之和。齐次方程为 $C\\frac{d\\theta_h}{dt} + hA \\cdot \\theta_h = 0$，其解为 $\\theta_h(t) = K_1 \\exp\\left(-\\frac{hA}{C}t\\right) = K_1 \\exp\\left(-\\frac{t}{\\tau}\\right)$，其中 $K_1$ 是一个常数。对于常数强迫项 $Q_{\\mathrm{gen}}$，我们假设一个常数特解 $\\theta_p = K_2$。代入方程得到 $C(0) + hA \\cdot K_2 = Q_{\\mathrm{gen}}$，所以 $K_2 = \\frac{Q_{\\mathrm{gen}}}{hA}$。\n\n$\\theta(t)$ 的通解为：\n$$\n\\theta(t) = \\theta_h(t) + \\theta_p(t) = K_1 \\exp\\left(-\\frac{t}{\\tau}\\right) + \\frac{Q_{\\mathrm{gen}}}{hA}\n$$\n代回 $T(t) = \\theta(t) + T_{\\infty}$：\n$$\nT(t) = T_{\\infty} + \\frac{Q_{\\mathrm{gen}}}{hA} + K_1 \\exp\\left(-\\frac{t}{\\tau}\\right)\n$$\n我们使用初始条件 $T(0) = T_{\\infty}$ 来求常数 $K_1$。在 $t=0$ 时：\n$$\nT(0) = T_{\\infty} = T_{\\infty} + \\frac{Q_{\\mathrm{gen}}}{hA} + K_1 \\exp(0)\n$$\n$$\n0 = \\frac{Q_{\\mathrm{gen}}}{hA} + K_1 \\implies K_1 = -\\frac{Q_{\\mathrm{gen}}}{hA}\n$$\n将 $K_1$ 代回 $T(t)$ 的通解中：\n$$\nT(t) = T_{\\infty} + \\frac{Q_{\\mathrm{gen}}}{hA} - \\frac{Q_{\\mathrm{gen}}}{hA} \\exp\\left(-\\frac{t}{\\tau}\\right)\n$$\n这可以因式分解，得到温度轨迹的最终解析表达式：\n$$\nT(t) = T_{\\infty} + \\frac{Q_{\\mathrm{gen}}}{hA} \\left(1 - \\exp\\left(-\\frac{t}{\\tau}\\right)\\right)\n$$\n现在，我们将给定的数值代入此表达式：\n- $T_{\\infty} = 298\\,\\mathrm{K}$\n- $\\frac{Q_{\\mathrm{gen}}}{hA} = \\frac{18\\,\\mathrm{W}}{12\\,\\mathrm{W\\,K^{-1}}} = 1.5\\,\\mathrm{K}$\n- $\\tau = 12.5\\,\\mathrm{s}$\n\n显式温度轨迹为：\n$$\nT(t) = 298 + 1.5 \\left(1 - \\exp\\left(-\\frac{t}{12.5}\\right)\\right)\n$$\n\n所要求的两个量是热时间常数 $\\tau$ 和温度轨迹 $T(t)$。\n$\\tau = 12.5\\,\\mathrm{s}$\n$T(t) = 298 + 1.5(1 - \\exp(-t/12.5))\\,\\mathrm{K}$",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 12.5  298 + 1.5(1 - \\exp(-t/12.5)) \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "现实世界中的电池系统表现出复杂的行为，其中电阻和传热等参数并非恒定，而是依赖于温度。这项高级实践从简化的解析模型转向数值模拟，这是自动化设计的基石。您将实现一个稳健的数值求解器来处理这些非线性问题，这项技能可直接应用于构建用于性能和安全分析的高保真度电池模型。",
            "id": "3925686",
            "problem": "考虑一个单一电池单元的集中热容模型，其热状态由标量温度 $T(t)$ 描述，该模型遵循控制质量的热力学第一定律所蕴含的能量平衡。其控制常微分方程为\n$$\nC_{\\mathrm{th}} \\,\\frac{dT}{dt} \\;=\\; Q_{\\mathrm{gen}}(T) \\;-\\; hA(T)\\,\\big(T - T_{\\infty}\\big),\n$$\n其中 $C_{\\mathrm{th}}$ 是集中热容，$Q_{\\mathrm{gen}}(T)$ 是内部生热率，$hA(T)$ 是与环境进行对流的有效传热系数乘以面积的积，$T_{\\infty}$ 是环境温度。所有量都通过其对 $T(t)$ 和系统参数的依赖性而成为时间的函数。你将使用大小为 $\\Delta t$ 的时间步长，采用后向欧拉法从时间 $t^n$ 时的 $T^n$ 推进到时间 $t^{n+1} = t^n + \\Delta t$ 时的 $T^{n+1}$。后向欧拉法在 $T^{n+1}$ 处计算方程右侧，从而得到一个关于 $T^{n+1}$ 的隐式更新。\n\n任务：\n- 从给定的能量平衡方程出发，推导关于 $T^{n+1}$ 的隐式后向欧拉更新方程，用 $T^n$、$C_{\\mathrm{th}}$、$\\Delta t$、$Q_{\\mathrm{gen}}(T^{n+1})$、$hA(T^{n+1})$ 和 $T_{\\infty}$ 表示。\n- 构建标量残差函数 $F(T^{n+1})$，使得后向欧拉更新通过求解 $F(T^{n+1}) = 0$ 获得。\n- 推导求解 $F(T^{n+1}) = 0$ 的牛顿-拉夫逊迭代法，包括用 $Q_{\\mathrm{gen}}'(T^{n+1})$ 和 $hA'(T^{n+1})$ 表示的导数 $F'(T^{n+1})$ 的表达式。\n- 实现一个程序，针对下面的每个测试用例，根据指定的 $Q_{\\mathrm{gen}}(T)$ 和 $hA(T)$ 构建 $F(T^{n+1})$ 和 $F'(T^{n+1})$，使用牛顿-拉夫逊法求解 $T^{n+1}$，并输出收敛后的 $T^{n+1}$。\n\n物理单位：\n- 所有温度以 $\\mathrm{K}$ (开尔文) 报告。\n- 时间步长 $\\Delta t$ 的单位为 $\\mathrm{s}$ (秒)。\n- 热容 $C_{\\mathrm{th}}$ 的单位为 $\\mathrm{J}/\\mathrm{K}$ (焦耳/开尔文)。\n- 生热量 $Q_{\\mathrm{gen}}$ 的单位为 $\\mathrm{W}$ (瓦特)。\n- 对流项 $hA$ 的单位为 $\\mathrm{W}/\\mathrm{K}$ (瓦特/开尔文)。\n\n牛顿-拉夫逊实现细节：\n- 使用 $T^n$ 作为 $T^{n+1}$ 的初始猜测值。\n- 当绝对残差 $|F(T^{n+1})|  10^{-12}$ 或迭代步长变化 $|T^{(k+1)} - T^{(k)}|  10^{-12}$ 时停止，或者在 $50$ 次迭代后停止 (如果未能提前收敛，则将最后一次迭代的结果作为最终结果)。\n- 对于每个测试用例，根据给定的定义计算 $Q_{\\mathrm{gen}}'(T)$ 和 $hA'(T)$ 的解析表达式。\n\n测试套件：\n对于每个用例，使用指定的参数来定义 $Q_{\\mathrm{gen}}(T)$ 和 $hA(T)$，并求解 $T^{n+1}$。\n\n- 用例 $1$ (非线性生热和轻度温度依赖性对流)：\n  - $C_{\\mathrm{th}} = 1000\\,\\mathrm{J}/\\mathrm{K}$，$\\Delta t = 1\\,\\mathrm{s}$，$T^n = 298\\,\\mathrm{K}$，$T_{\\infty} = 298\\,\\mathrm{K}$。\n  - 电流 $I = 10\\,\\mathrm{A}$，参考温度 $T_{\\mathrm{ref}} = 298\\,\\mathrm{K}$，欧姆电阻 $R(T) = R_0\\big(1 + \\alpha\\,(T - T_{\\mathrm{ref}})\\big)$，其中 $R_0 = 0.01\\,\\Omega$ 且 $\\alpha = 0.002\\,\\mathrm{K}^{-1}$。\n  - 开路电压 (OCV) 熵项 $Q_{\\mathrm{entropic}}(T) = I\\,T\\,\\gamma$，其中 $\\gamma = 0.0002\\,\\mathrm{V}/\\mathrm{K}$。\n  - $Q_{\\mathrm{gen}}(T) = I^2\\,R(T) + Q_{\\mathrm{entropic}}(T)$。\n  - $hA(T) = hA_0\\big(1 + \\beta\\,(T - T_{\\mathrm{ref}})\\big)$，其中 $hA_0 = 4\\,\\mathrm{W}/\\mathrm{K}$ 且 $\\beta = 0.001\\,\\mathrm{K}^{-1}$。\n\n- 用例 $2$ (纯冷却，恒定对流)：\n  - $C_{\\mathrm{th}} = 1500\\,\\mathrm{J}/\\mathrm{K}$，$\\Delta t = 5\\,\\mathrm{s}$，$T^n = 320\\,\\mathrm{K}$，$T_{\\infty} = 298\\,\\mathrm{K}$。\n  - $Q_{\\mathrm{gen}}(T) = 0$。\n  - $hA(T) = 8\\,\\mathrm{W}/\\mathrm{K}$ (恒定)。\n\n- 用例 $3$ (大时间步长，强欧姆加热，恒定对流)：\n  - $C_{\\mathrm{th}} = 1200\\,\\mathrm{J}/\\mathrm{K}$，$\\Delta t = 30\\,\\mathrm{s}$，$T^n = 298\\,\\mathrm{K}$，$T_{\\infty} = 298\\,\\mathrm{K}$。\n  - 电流 $I = 50\\,\\mathrm{A}$，$T_{\\mathrm{ref}} = 298\\,\\mathrm{K}$，电阻 $R(T) = R_0\\big(1 + \\alpha\\,(T - T_{\\mathrm{ref}})\\big)$，其中 $R_0 = 0.01\\,\\Omega$ 且 $\\alpha = 0.005\\,\\mathrm{K}^{-1}$。\n  - $Q_{\\mathrm{gen}}(T) = I^2\\,R(T)$。\n  - $hA(T) = 3\\,\\mathrm{W}/\\mathrm{K}$ (恒定)。\n\n- 用例 $4$ (非常小的时间步长，物理模型与用例 $1$ 相同)：\n  - $C_{\\mathrm{th}} = 1000\\,\\mathrm{J}/\\mathrm{K}$，$\\Delta t = 0.001\\,\\mathrm{s}$，$T^n = 298\\,\\mathrm{K}$，$T_{\\infty} = 298\\,\\mathrm{K}$。\n  - $Q_{\\mathrm{gen}}(T)$ 和 $hA(T)$ 的定义及参数与用例 $1$ 相同。\n\n- 用例 $5$ (类似于自然对流标度的非线性对流，混合生热)：\n  - $C_{\\mathrm{th}} = 900\\,\\mathrm{J}/\\mathrm{K}$，$\\Delta t = 10\\,\\mathrm{s}$，$T^n = 305\\,\\mathrm{K}$，$T_{\\infty} = 295\\,\\mathrm{K}$。\n  - 电流 $I = 20\\,\\mathrm{A}$，$T_{\\mathrm{ref}} = 298\\,\\mathrm{K}$，电阻 $R(T) = R_0\\big(1 + \\alpha\\,(T - T_{\\mathrm{ref}})\\big)$，其中 $R_0 = 0.012\\,\\Omega$ 且 $\\alpha = 0.0015\\,\\mathrm{K}^{-1}$。\n  - 熵项 $Q_{\\mathrm{entropic}}(T) = I\\,T\\,\\gamma$，其中 $\\gamma = 0.00015\\,\\mathrm{V}/\\mathrm{K}$。\n  - $Q_{\\mathrm{gen}}(T) = I^2\\,R(T) + Q_{\\mathrm{entropic}}(T)$。\n  - $hA(T) = hA_0\\,\\big(\\frac{T}{298}\\big)^{0.25}$，其中 $hA_0 = 5\\,\\mathrm{W}/\\mathrm{K}$。\n\n最终输出规范：\n- 你的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表形式的结果，例如 `[result_1,result_2,result_3]`。\n- 每个 $result_i$ 是相应测试用例收敛后的 $T^{n+1}$，以 $\\mathrm{K}$ 为单位，并四舍五入到六位小数。",
            "solution": "在进行求解之前，需要对问题进行验证。\n\n### 步骤1：提取已知条件\n- **控制方程：** $C_{\\mathrm{th}} \\,\\frac{dT}{dt} \\;=\\; Q_{\\mathrm{gen}}(T) \\;-\\; hA(T)\\,\\big(T - T_{\\infty}\\big)$\n- **变量与参数：** 温度 $T(t)$，时间 $t$，时间步长 $\\Delta t$，集中热容 $C_{\\mathrm{th}}$，生热率 $Q_{\\mathrm{gen}}(T)$，有效传热系数-面积乘积 $hA(T)$，环境温度 $T_{\\infty}$，时间 $t^n$ 时的温度为 $T^n$，时间 $t^{n+1}$ 时的温度为 $T^{n+1}$。\n- **数值方法：** 用于时间积分的后向欧拉法。用于求解所得非线性代数方程的牛顿-拉夫逊法。\n- **牛顿-拉夫逊法具体要求：** $T^{n+1}$ 的初始猜测值为 $T^n$。收敛准则：$|F(T^{n+1})|  10^{-12}$ 或更新步长 $|T^{(k+1)} - T^{(k)}|  10^{-12}$。最大迭代次数：$50$。\n- **测试用例：**\n  - **用例 1：** $C_{\\mathrm{th}} = 1000\\,\\mathrm{J}/\\mathrm{K}$，$\\Delta t = 1\\,\\mathrm{s}$，$T^n = 298\\,\\mathrm{K}$，$T_{\\infty} = 298\\,\\mathrm{K}$。$I = 10\\,\\mathrm{A}$，$T_{\\mathrm{ref}} = 298\\,\\mathrm{K}$。$R(T) = R_0\\big(1 + \\alpha\\,(T - T_{\\mathrm{ref}})\\big)$，其中 $R_0 = 0.01\\,\\Omega$，$\\alpha = 0.002\\,\\mathrm{K}^{-1}$。$Q_{\\mathrm{entropic}}(T) = I\\,T\\,\\gamma$，其中 $\\gamma = 0.0002\\,\\mathrm{V}/\\mathrm{K}$。$Q_{\\mathrm{gen}}(T) = I^2\\,R(T) + Q_{\\mathrm{entropic}}(T)$。$hA(T) = hA_0\\big(1 + \\beta\\,(T - T_{\\mathrm{ref}})\\big)$，其中 $hA_0 = 4\\,\\mathrm{W}/\\mathrm{K}$，$\\beta = 0.001\\,\\mathrm{K}^{-1}$。\n  - **用例 2：** $C_{\\mathrm{th}} = 1500\\,\\mathrm{J}/\\mathrm{K}$，$\\Delta t = 5\\,\\mathrm{s}$，$T^n = 320\\,\\mathrm{K}$，$T_{\\infty} = 298\\,\\mathrm{K}$。$Q_{\\mathrm{gen}}(T) = 0$。$hA(T) = 8\\,\\mathrm{W}/\\mathrm{K}$。\n  - **用例 3：** $C_{\\mathrm{th}} = 1200\\,\\mathrm{J}/\\mathrm{K}$，$\\Delta t = 30\\,\\mathrm{s}$，$T^n = 298\\,\\mathrm{K}$，$T_{\\infty} = 298\\,\\mathrm{K}$。$I = 50\\,\\mathrm{A}$，$T_{\\mathrm{ref}} = 298\\,\\mathrm{K}$。$R(T) = R_0\\big(1 + \\alpha\\,(T - T_{\\mathrm{ref}})\\big)$，其中 $R_0 = 0.01\\,\\Omega$，$\\alpha = 0.005\\,\\mathrm{K}^{-1}$。$Q_{\\mathrm{gen}}(T) = I^2\\,R(T)$。$hA(T) = 3\\,\\mathrm{W}/\\mathrm{K}$。\n  - **用例 4：** $C_{\\mathrm{th}} = 1000\\,\\mathrm{J}/\\mathrm{K}$，$\\Delta t = 0.001\\,\\mathrm{s}$，$T^n = 298\\,\\mathrm{K}$，$T_{\\infty} = 298\\,\\mathrm{K}$。$Q_{\\mathrm{gen}}(T)$ 和 $hA(T)$ 与用例 1 相同。\n  - **用例 5：** $C_{\\mathrm{th}} = 900\\,\\mathrm{J}/\\mathrm{K}$，$\\Delta t = 10\\,\\mathrm{s}$，$T^n = 305\\,\\mathrm{K}$，$T_{\\infty} = 295\\,\\mathrm{K}$。$I = 20\\,\\mathrm{A}$，$T_{\\mathrm{ref}} = 298\\,\\mathrm{K}$。$R(T) = R_0\\big(1 + \\alpha\\,(T - T_{\\mathrm{ref}})\\big)$，其中 $R_0 = 0.012\\,\\Omega$，$\\alpha = 0.0015\\,\\mathrm{K}^{-1}$。$Q_{\\mathrm{entropic}}(T) = I\\,T\\,\\gamma$，其中 $\\gamma = 0.00015\\,\\mathrm{V}/\\mathrm{K}$。$Q_{\\mathrm{gen}}(T) = I^2\\,R(T) + Q_{\\mathrm{entropic}}(T)$。$hA(T) = hA_0\\,\\big(\\frac{T}{298}\\big)^{0.25}$，其中 $hA_0 = 5\\,\\mathrm{W}/\\mathrm{K}$。\n\n### 步骤2：使用提取的已知条件进行验证\n该问题具有科学依据、良态且客观。\n- **科学依据：** 控制方程是热力学第一定律在集中电容系统中的直接应用，这是传热分析中的一个标准且有效的模型。生热项（$I^2R$ 焦耳热和熵热）以及对流冷却项是电池热模型中的基本概念。\n- **良态性：** 该问题提供了一个明确定义的常微分方程和一个初始条件（$T^n$ 可视为该时间步的初始条件）。它指定了一个标准的、稳定的数值方法（隐式后向欧拉法）来寻找唯一解 $T^{n+1}$。使用牛顿-拉夫逊法求解所得的代数方程也是一种标准技术。每个用例的所有参数和函数都已明确定义。\n- **客观性：** 问题以精确的数学和物理术语陈述，没有歧义或主观论断。所提供的参数对于电池单元来说是物理上现实的。\n\n### 步骤3：结论与行动\n该问题是有效的，可以按要求进行求解。\n\n### 推导与求解方法\n求解过程包括所要求的三个主要理论步骤：使用后向欧拉法离散化控制常微分方程，为所得的代数方程构建残差函数，以及推导牛顿-拉夫逊更新方案以求解下一时间步的温度 $T^{n+1}$。\n\n**1. 后向欧拉离散化**\n集中热容模型的控制常微分方程 (ODE) 为：\n$$\nC_{\\mathrm{th}} \\frac{dT}{dt} = Q_{\\mathrm{gen}}(T) - hA(T)\\,\\big(T - T_{\\infty}\\big)\n$$\n为了将解从时间 $t^n$ 推进到 $t^{n+1} = t^n + \\Delta t$，我们使用一阶有限差分来近似时间导数。后向欧拉法在未知的未来时间 $t^{n+1}$（对应于未知温度 $T^{n+1}$）处计算 ODE 的整个右侧 (RHS)。时间导数项近似为：\n$$\n\\frac{dT}{dt} \\bigg|_{t^{n+1}} \\approx \\frac{T(t^{n+1}) - T(t^n)}{t^{n+1} - t^n} = \\frac{T^{n+1} - T^n}{\\Delta t}\n$$\n代入此近似并将 RHS 在 $T^{n+1}$ 处求值，得到隐式后向欧拉更新方程：\n$$\nC_{\\mathrm{th}} \\frac{T^{n+1} - T^n}{\\Delta t} = Q_{\\mathrm{gen}}(T^{n+1}) - hA(T^{n+1})\\,\\big(T^{n+1} - T_{\\infty}\\big)\n$$\n这是一个关于未知温度 $T^{n+1}$ 的非线性代数方程。\n\n**2. 残差函数构建**\n为了使用像牛顿-拉夫逊这样的求根算法来求解此方程，我们必须首先将其表示为 $F(x) = 0$ 的形式。设未知变量为 $T \\equiv T^{n+1}$。通过将离散化方程的各项移到一边，我们定义标量残差函数 $F(T)$：\n$$\nF(T) = \\frac{C_{\\mathrm{th}}}{\\Delta t}(T - T^n) - Q_{\\mathrm{gen}}(T) + hA(T)\\,\\big(T - T_{\\infty}\\big)\n$$\n解 $T^{n+1}$ 是方程 $F(T) = 0$ 的根。\n\n**3. 牛顿-拉夫逊迭代**\n牛顿-拉夫逊法是寻找 $F(T) = 0$ 根的迭代过程。给定一个迭代值 $T^{(k)}$，下一个迭代值 $T^{(k+1)}$ 通过以下公式求得：\n$$\nT^{(k+1)} = T^{(k)} - \\frac{F(T^{(k)})}{F'(T^{(k)})}\n$$\n其中 $F'(T)$ 是残差函数 $F(T)$ 相对于 $T$ 的导数。我们通过对 $F(T)$ 的每一项进行微分来计算 $F'(T)$：\n$$\nF'(T) = \\frac{d}{dT} \\left[ \\frac{C_{\\mathrm{th}}}{\\Delta t}(T - T^n) - Q_{\\mathrm{gen}}(T) + hA(T)\\,(T - T_{\\infty}) \\right]\n$$\n第一项相对于 $T$ 的导数是 $\\frac{C_{\\mathrm{th}}}{\\Delta t}$，因为对于当前时间步，$T^n$ 是一个常数。第二项的导数是 $-Q_{\\mathrm{gen}}'(T)$。对于第三项，我们使用乘法法则，其中 $u(T) = hA(T)$ 和 $v(T) = T - T_{\\infty}$：\n$$\n\\frac{d}{dT} \\left[ hA(T)\\,(T - T_{\\infty}) \\right] = \\left(\\frac{d}{dT} hA(T)\\right)(T - T_{\\infty}) + hA(T)\\left(\\frac{d}{dT}(T - T_{\\infty})\\right)\n$$\n$$\n= hA'(T)(T - T_{\\infty}) + hA(T)(1)\n$$\n合并所有微分项，得到 $F'(T)$ 的表达式：\n$$\nF'(T) = \\frac{C_{\\mathrm{th}}}{\\Delta t} - Q_{\\mathrm{gen}}'(T) + hA'(T)(T - T_{\\infty}) + hA(T)\n$$\n对于每个测试用例，必须将 $Q_{\\mathrm{gen}}(T)$、$hA(T)$ 及其导数 $Q_{\\mathrm{gen}}'(T)$ 和 $hA'(T)$ 的具体函数形式代入 $F(T)$ 和 $F'(T)$ 的表达式中。牛顿-拉夫逊迭代以初始猜测值 $T^{(0)} = T^n$ 开始，并持续进行直到满足指定的收敛准则。\n\n**算法实现**\n实现了一个 Python 程序来求解所有五个测试用例的 $T^{n+1}$。程序的核心是一个通用的牛顿-拉夫逊求解器，它接受残差函数、其导数和初始猜测值作为参数。对于每个测试用例，使用特定于问题的参数来定义用于 $Q_{\\mathrm{gen}}(T)$、$hA(T)$、$Q_{\\mathrm{gen}}'(T)$ 和 $hA'(T)$ 的 Python `lambda` 函数。然后，这些函数用于构建该用例特定的 $F(T)$ 和 $F'(T)$，并传递给求解器。求解器迭代直到收敛并返回最终温度，然后收集这些温度以供最终输出。",
            "answer": "[298.001002,318.943147,301.766779,298.000001,305.042795]"
        }
    ]
}