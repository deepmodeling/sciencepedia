{
    "hands_on_practices": [
        {
            "introduction": "在任何电-热分析中，第一步都是精确地为汇流排和集流体等组件的电阻建模。这个练习  将从第一性原理出发，分解如何推导薄导电片的电阻 $R$，从而引出实用且广泛使用的“薄层电阻” $R_{\\square}$（或“方块电阻”）概念。这为构建更复杂的模型奠定了必要的基础。",
            "id": "3897282",
            "problem": "一个锂离子电池模组使用一个矩形铜母线段来收集和分配来自多个电芯极耳的电流。该母线段可以理想化为一个均匀、各向同性的导电薄片，其厚度为 $t$，长度为 $L$，宽度为 $W$。在垂直于长度的两个相对边缘上，有沿整个宽度分布的等势接触。假设存在稳恒直流电（DC），等势边缘处的接触电阻可忽略不计，电学特性的温度依赖性可忽略不计，并且没有电流拥挤效应，因此电流密度在整个宽度上是均匀的。\n\n从连续介质传导定律和几何定义出发（不使用任何预先推导的简化关系），完成以下任务：\n- 推导由长度 $L$ 分隔的两个相对等势边缘之间的总电阻，用材料电阻率 $\\rho$、薄片厚度 $t$ 和长宽比 $L/W$ 表示。\n- 引入一个称为薄层电阻 $R_{\\square}$ 的参数，并根据您的推导，用 $\\rho$ 和 $t$ 定义它，使得总电阻可以写成 $R_{\\square}$ 与两个相对边缘之间的方块数 $N$ 的乘积。用 $L$ 和 $W$ 确定 $N$。\n- 对于室温下的铜片，其 $\\rho = 1.68 \\times 10^{-8}\\ \\Omega\\!\\cdot\\!\\mathrm{m}$，$t = 100~\\mu\\mathrm{m}$，$L = 0.12~\\mathrm{m}$，$W = 12~\\mathrm{mm}$，使用方块数概念计算两个相对边缘之间的电阻。\n\n以毫欧为单位表示最终电阻值，并四舍五入到四位有效数字。",
            "solution": "首先对问题陈述进行严格的验证过程。\n\n### 第1步：提取已知条件\n- **对象：** 一个矩形铜母线段，理想化为均匀、各向同性的导电薄片。\n- **尺寸：** 厚度 $t$，长度 $L$，宽度 $W$。\n- **接触：** 沿整个宽度分布在垂直于长度的两个相对边缘（相距 $L$）上的等势接触。\n- **假设：**\n    - 稳恒直流电（DC）。\n    - 等势边缘处的接触电阻可忽略不计。\n    - 电学特性的温度依赖性可忽略不计。\n    - 无电流拥挤效应，意味着电流密度在整个宽度上是均匀的。\n- **任务1：** 从连续介质传导定律出发，推导总电阻 $R$，用材料电阻率 $\\rho$、厚度 $t$ 和长宽比 $L/W$ 表示。\n- **任务2：** 定义薄层电阻 $R_{\\square}$ 和方块数 $N$，使得 $R = R_{\\square} N$。\n- **任务3：** 根据给定的数值计算电阻。\n- **数值数据：**\n    - 铜的电阻率：$\\rho = 1.68 \\times 10^{-8}\\ \\Omega\\!\\cdot\\!\\mathrm{m}$\n    - 厚度：$t = 100~\\mu\\mathrm{m}$\n    - 长度：$L = 0.12~\\mathrm{m}$\n    - 宽度：$W = 12~\\mathrm{mm}$\n- **最终答案格式：** 以毫欧为单位表示电阻，并四舍五入到四位有效数字。\n\n### 第2步：使用提取的已知条件进行验证\n根据验证标准对问题进行评估。\n- **科学依据：** 该问题基于电传导的基本原理（微分形式的欧姆定律）以及电阻、电阻率和几何的标准定义。该模型是电气和电子工程中常见且有效的理想化模型。所提供的物理常数是正确的。\n- **适定性：** 该问题提供了一套完整的假设（均匀性、稳态、理想接触）和数据，从而可以得到唯一且有意义的解。各项任务逻辑顺序清晰，陈述明确。\n- **客观性：** 语言精确、量化，没有任何主观或含糊不清的术语。\n\n### 第3步：结论与行动\n该问题是**有效的**。它是一个适定的、科学上合理的题目陈述，可以用第一性原理来解决。现在将按要求进行求解过程。\n\n### 电阻推导\n我们从连续介质形式的欧姆定律开始，它将导电材料内的电场矢量 $\\vec{E}$ 与电流密度矢量 $\\vec{J}$ 联系起来：\n$$ \\vec{E} = \\rho \\vec{J} $$\n其中 $\\rho$ 是材料的电阻率。\n\n我们建立一个笛卡尔坐标系，其中导电薄片位于 $x$-$y$ 平面内。长度 $L$ 沿 $x$ 轴方向，从 $x=0$ 到 $x=L$。宽度 $W$ 沿 $y$ 轴方向，从 $y=0$ 到 $y=W$。厚度 $t$ 沿 $z$ 轴方向，从 $z=0$ 到 $z=t$。\n\n问题陈述，在 $x=0$ 和 $x=L$ 的边缘施加了沿整个宽度 $W$ 分布的等势接触。设 $x=0$ 处的电势为 $V_0$，$x=L$ 处的电势为 $V_L$。薄片长度方向上的电势差为 $\\Delta V = V_0 - V_L$。\n\n由于几何形状、等势接触以及无电流拥挤的假设，电流从 $x=0$ 的边缘均匀地流向 $x=L$ 的边缘。这意味着电场 $\\vec{E}$ 是均匀的，并且纯粹沿 $x$ 轴方向。\n$$ \\vec{E} = E_x \\hat{i} $$\n均匀电场与电势差之间的关系由下式给出：\n$$ \\Delta V = - \\int_{L}^{0} \\vec{E} \\cdot d\\vec{l} = - \\int_{L}^{0} E_x dx = E_x L $$\n因此，电场的大小为 $E_x = \\frac{\\Delta V}{L}$。\n\n总电流 $I$ 沿电场方向流动。电流密度 $\\vec{J}$ 也纯粹沿 $x$ 轴方向（$\\vec{J} = J_x \\hat{i}$）。问题假设电流密度在整个宽度上（并隐含地，在厚度上）是均匀的。总电流 $I$ 是电流密度在横截面积 $A = W \\times t$ 上的积分。\n$$ I = \\iint_A \\vec{J} \\cdot d\\vec{A} = J_x \\times (W \\times t) $$\n因此，电流密度的大小为 $J_x = \\frac{I}{W t}$。\n\n现在，我们将 $E_x$ 和 $J_x$ 的表达式代入标量形式的欧姆定律 $E_x = \\rho J_x$：\n$$ \\frac{\\Delta V}{L} = \\rho \\left( \\frac{I}{W t} \\right) $$\n总电阻 $R$ 定义为电势差与总电流之比，$R = \\frac{\\Delta V}{I}$。重新排列上面的方程以求解该比率：\n$$ \\frac{\\Delta V}{I} = \\rho \\frac{L}{W t} $$\n因此，总电阻为：\n$$ R = \\rho \\frac{L}{W t} $$\n为了用长宽比 $L/W$ 来表示，我们将各项组合如下：\n$$ R = \\left( \\frac{\\rho}{t} \\right) \\left( \\frac{L}{W} \\right) $$\n这完成了任务的第一部分。\n\n### 薄层电阻和方块数\n任务的第二部分要求我们引入薄层电阻 $R_{\\square}$ 和方块数 $N$ 的概念，使得总电阻可以写成 $R = R_{\\square} N$。\n\n通过将推导出的方程 $R = \\left( \\frac{\\rho}{t} \\right) \\left( \\frac{L}{W} \\right)$ 与目标形式 $R = R_{\\square} N$ 进行比较，我们可以做出以下识别：\n- **薄层电阻** $R_{\\square}$ 定义为薄膜材料一个方块（$L=W$）的电阻。其值仅取决于材料的电阻率和薄膜的厚度。\n  $$ R_{\\square} = \\frac{\\rho}{t} $$\n  $R_{\\square}$ 的单位是欧姆（$\\Omega$），但通常以“欧姆每方块”（$\\Omega/\\square$）来表示，以指明其概念来源。\n\n- **方块数** $N$ 是一个无量纲的几何因子，表示在电阻器的长度 $L$ 方向上可以串联多少个边长为 $W$ 的方块。\n  $$ N = \\frac{L}{W} $$\n这个公式强调了均匀矩形薄片的总电阻是材料特性（$R_{\\square}$）和几何因子（$N$）的乘积。\n\n### 数值计算\n最后的任务是使用给定的值计算电阻。\n- $\\rho = 1.68 \\times 10^{-8}\\ \\Omega\\!\\cdot\\!\\mathrm{m}$\n- $t = 100~\\mu\\mathrm{m} = 100 \\times 10^{-6}~\\mathrm{m} = 1.0 \\times 10^{-4}~\\mathrm{m}$\n- $L = 0.12~\\mathrm{m}$\n- $W = 12~\\mathrm{mm} = 12 \\times 10^{-3}~\\mathrm{m} = 0.012~\\mathrm{m}$\n\n首先，我们计算薄层电阻 $R_{\\square}$：\n$$ R_{\\square} = \\frac{\\rho}{t} = \\frac{1.68 \\times 10^{-8}\\ \\Omega\\!\\cdot\\!\\mathrm{m}}{1.0 \\times 10^{-4}~\\mathrm{m}} = 1.68 \\times 10^{-4}\\ \\Omega $$\n\n接下来，我们计算方块数 $N$：\n$$ N = \\frac{L}{W} = \\frac{0.12~\\mathrm{m}}{0.012~\\mathrm{m}} = 10 $$\n\n最后，我们使用方块数概念计算总电阻 $R$：\n$$ R = R_{\\square} N = (1.68 \\times 10^{-4}\\ \\Omega) \\times 10 = 1.68 \\times 10^{-3}\\ \\Omega $$\n\n题目要求答案以毫欧（$\\mathrm{m}\\Omega$）表示，并四舍五入到四位有效数字。\n$$ R = 1.68 \\times 10^{-3}\\ \\Omega = 1.68~\\mathrm{m}\\Omega $$\n为了用四位有效数字表示这个值，我们将其写为 $1.680~\\mathrm{m}\\Omega$。",
            "answer": "$$\\boxed{1.680}$$"
        },
        {
            "introduction": "管理热量与管理电流同等重要，而一个显著的温升来源发生在机械接触界面。这个实践  聚焦于热学方面，引导学生推导一个真实连接处的总温降 $\\Delta T$。该模型结合了热界面材料（TIM）的体热阻和固有的热接触电阻 $R''_{tc}$ 的影响，将电阻类比的概念应用于热流分析。",
            "id": "3897339",
            "problem": "考虑一个棱柱形锂离子电池模块，其中铜母线排通过一个由机械接触界面和一层薄的导热界面材料（TIM）组成的接头，与铝制冷却板粘合在一起。该模块在稳态条件下运行，与传导相比，辐射和对流可以忽略不计，并且穿过接头沿厚度方向的传热可很好地近似为一维传热。母线排散热，使得接头处的局部热通量在标称接触面积 $A$ 上是均匀的，且等于 $q''$。机械接触贡献了单位面积热接触电阻 $R''_{tc}$，而 TIM 的厚度为 $d$，导热系数为 $k$。\n\n从傅里叶热传导定律和单位面积热接触电阻的定义出发，推导并计算穿过整个母线排到冷却板接头的总温降 $\\Delta T$ 的闭式表达式，该表达式应为给定参数 $q''$、$R''_{tc}$、$d$ 和 $k$ 的函数。陈述您引用的任何中间定义，并通过与稳态一维传导相符的物理推理来证明每一步的合理性。\n\n将您的最终温降以开尔文为单位表示为单个闭式解析表达式，并且除了 $q''$、$R''_{tc}$、$d$、$k$ 和 $A$ 之外，不要引入任何其他参数。无需四舍五入；请提供精确表达式。",
            "solution": "问题陈述已经过验证，并被确定为是合理的。其科学基础是稳态热传导原理，问题是适定、客观的，并且包含获得唯一解所需的所有必要信息。该问题要求推导复合导热界面的总温降，这是热工学中的一个标准练习。因此，我们可以开始求解。\n\n问题描述了一个一维稳态传热情景，热量穿过一个由两个串联排列的独立热障组成的接头：一层导热界面材料（TIM）和一个机械接触界面。穿过整个接头的总温降 $\\Delta T$ 是穿过每个组件的单独温降之和。这类似于电路中串联电阻上的总电压降是各个电阻上电压降的总和。\n\n温降（$\\Delta T$）、热率（$Q$）和热阻（$R_{th}$）之间的基本关系由下式给出：\n$$\n\\Delta T = Q \\cdot R_{th}\n$$\n问题给出了热通量 $q''$，即单位面积的热率，$q'' = \\frac{Q}{A}$，其中 $A$ 是标称接触面积。使用单位面积热阻 $R''_{th}$ 会更方便，其定义为：\n$$\nR''_{th} = R_{th} \\cdot A\n$$\n使用这些定义，温降可以表示为：\n$$\n\\Delta T = \\left( q'' \\cdot A \\right) \\cdot \\left( \\frac{R''_{th}}{A} \\right) = q'' \\cdot R''_{th}\n$$\n由于热障是串联的，它们的电阻相加。总单位面积热阻 $R''_{total}$ 是 TIM 层的单位面积热阻 $R''_{TIM}$ 和机械界面的单位面积热接触电阻 $R''_{tc}$ 的总和：\n$$\nR''_{total} = R''_{TIM} + R''_{tc}\n$$\n因此，总温降为：\n$$\n\\Delta T = q'' \\cdot R''_{total} = q'' \\left( R''_{TIM} + R''_{tc} \\right)\n$$\n$R''_{tc}$ 的值已在问题陈述中直接给出。我们必须从第一性原理，特别是傅里叶热传导定律，来推导 $R''_{TIM}$ 的表达式。\n\n对于沿厚度方向（我们称之为 $x$ 方向）的稳态一维传导，傅里叶定律为：\n$$\nQ = -k A \\frac{dT}{dx}\n$$\n其中 $Q$ 是恒定的热率，$k$ 是材料（本例中为 TIM）的导热系数，$A$ 是垂直于热流方向的横截面积，而 $\\frac{dT}{dx}$ 是温度梯度。\n\n两边同除以面积 $A$，得到以热通量 $q''$ 表示的定律：\n$$\nq'' = \\frac{Q}{A} = -k \\frac{dT}{dx}\n$$\n为了求出厚度为 $d$ 的 TIM 层上的温降，我们可以分离变量并沿该层厚度进行积分。设 TIM 在母线排一侧的温度为 $T_1$（在 $x=0$ 处），在冷却板一侧的温度为 $T_2$（在 $x=d$ 处）。\n$$\ndT = -\\frac{q''}{k} dx\n$$\n对两边进行积分，根据问题陈述，假设 $k$ 和 $q''$ 在整个 TIM 层中是恒定的：\n$$\n\\int_{T_1}^{T_2} dT = -\\frac{q''}{k} \\int_{0}^{d} dx\n$$\n执行积分得到：\n$$\nT_2 - T_1 = -\\frac{q'' d}{k}\n$$\n穿过 TIM 层的温降 $\\Delta T_{TIM}$ 定义为较高温度减去较低温度，即 $\\Delta T_{TIM} = T_1 - T_2$。因此：\n$$\n\\Delta T_{TIM} = \\frac{q'' d}{k}\n$$\n根据我们的定义 $\\Delta T = q'' \\cdot R''_{th}$，TIM 层的单位面积热阻为：\n$$\nR''_{TIM} = \\frac{\\Delta T_{TIM}}{q''} = \\frac{d}{k}\n$$\n现在，我们可以将 $R''_{TIM}$ 的这个表达式代回到总温降 $\\Delta T$ 的方程中。\n$$\n\\Delta T = q'' \\left( R''_{TIM} + R''_{tc} \\right)\n$$\n$$\n\\Delta T = q'' \\left( \\frac{d}{k} + R''_{tc} \\right)\n$$\n这是穿过接头的总温降的最终闭式表达式。它仅是给定参数 $q''$、$d$、$k$ 和 $R''_{tc}$ 的函数。标称面积 $A$ 没有出现在最终表达式中，因为计算是基于强度性质（通量和单位面积电阻）的。温降的单位开尔文与该表达式在量纲上是一致的，因为 $\\frac{W}{m^2} \\left( \\frac{m}{W/(m \\cdot K)} + \\frac{m^2 \\cdot K}{W} \\right)$ 简化后为 $K$。",
            "answer": "$$\n\\boxed{q'' \\left( \\frac{d}{k} + R''_{tc} \\right)}\n$$"
        },
        {
            "introduction": "现实世界的工程设计涉及整合多种物理效应来做出决策。这最后一个练习  是一个综合性实践，要求学生为一个集流体接头构建一个完整但简化的电-热模型。通过实现一个离散的电阻网络，学生可以模拟和比较不同的极耳设计，直接观察电流分布、有效压降 $V_{\\text{eff}}$ 和温升 $\\Delta T$ 之间的权衡，从而将理论与实际的设计分析联系起来。",
            "id": "3897289",
            "problem": "棱柱形锂离子电池使用金属集电器和极耳连接到外部汇流排。在高倍率放电下，沿集流板的非均匀电流收集以及极耳到汇流排的有限电接触和热接触电阻会导致电流分布不均、额外的电压降和温升。从第一性原理出发，构建集电器集流板的一维离散电阻网络模型，以比较在三倍C倍率（C-rate）下，单个宽极耳与双窄极耳的性能。基础是以下一组基本定律和定义：欧姆定律 $V = IR$，基尔霍夫电流定律（KCL）即节点处电流的代数和为零，以及稳态热传导，其中集总热接触电阻为 $R_{\\text{th}}$，温升 $\\Delta T$ 满足 $\\Delta T = P \\, R_{\\text{th}}$，其中 $P$ 是热流。\n\n将长度为 $W$、高度为 $H$、厚度为 $t$ 的集电器集流板建模为由 $N$ 个节点组成的一维链，节点间距为 $\\Delta x = W/N$。假设金属片的体电阻率为 $\\rho$，则相邻节点之间的电阻为\n$$\nR_{\\text{seg}} = \\frac{\\rho \\, \\Delta x}{t \\, H} \\quad \\text{(Ohm)}。\n$$\n假设从电芯核心均匀注入到每个节点的电流等于 $I_{\\text{in}} = I_{\\text{tot}}/N$，其中 $I_{\\text{tot}}$ 是总放电电流。极耳被表示为一些区域，在这些区域内，极耳覆盖范围内的每个节点都通过一个电接触电阻连接到汇流排（视为电地，电位为 $0$）。\n$$\nR_{\\text{contact,node}} = \\frac{r_{\\text{c,e}}}{A_{\\text{node}}} = \\frac{r_{\\text{c,e}}}{H \\, \\Delta x} \\quad \\text{(Ohm)},\n$$\n其中 $r_{\\text{c,e}}$ 是极耳到汇流排的电接触电阻率（单位为 $\\text{Ohm}\\cdot\\text{m}^2$），$A_{\\text{node}}$ 是一个节点的投影接触面积。极耳区域外的节点具有有效无限大的接触电阻（开路）。对每个支路应用欧姆定律，并对电压为 $V_i$ 的每个节点 $i$ 应用基尔霍夫电流定律，得到线性系统\n$$\n\\left(\\sum_{j\\in \\mathcal{N}(i)} \\frac{1}{R_{\\text{seg}}} + \\frac{1}{R_{\\text{contact,node},i}}\\right) V_i \\;-\\; \\sum_{j\\in \\mathcal{N}(i)} \\frac{1}{R_{\\text{seg}}} V_j \\;=\\; I_{\\text{in}},\n$$\n其中 $\\mathcal{N}(i)$ 是最近邻节点的索引。求解 $\\{V_i\\}$ 可得到通过每个极耳节点的流向汇流排的电流 $I_{\\text{tab},i} = V_i / R_{\\text{contact,node},i}$，以及每个极耳的总电流，即其所有节点电流之和。集流板和接触点中耗散的欧姆功率计算如下\n$$\nP_{\\text{seg}} = \\sum_{\\langle i,j\\rangle} \\frac{(V_i - V_j)^2}{R_{\\text{seg}}}, \\quad P_{\\text{contact}} = \\sum_{\\text{tab nodes } i} \\frac{V_i^2}{R_{\\text{contact,node},i}}, \\quad P_{\\text{tot}} = P_{\\text{seg}} + P_{\\text{contact}} \\quad \\text{(W)}。\n$$\n定义由集流板和极耳接触引起的有效电压降（IR降）为\n$$\nV_{\\text{eff}} = \\frac{P_{\\text{tot}}}{I_{\\text{tot}}} \\quad \\text{(V)},\n$$\n由于功率平衡，这等于由注入电流加权的注入点平均电位。对于热建模，假设唯一的散热路径是通过极耳到汇流排的热接触，其热接触电阻率为 $r_{\\text{c,th}}$，单位为 $\\text{m}^2\\cdot\\text{K}/\\text{W}$。到环境温度冷却剂的总热阻为\n$$\nR_{\\text{th,tot}} = \\frac{r_{\\text{c,th}}}{A_{\\text{contact,tot}}} = \\frac{r_{\\text{c,th}}}{\\sum_{\\text{tab nodes}} H \\, \\Delta x} \\quad \\text{(K/W)},\n$$\n稳态温升为\n$$\n\\Delta T = P_{\\text{tot}} \\, R_{\\text{th,tot}} \\quad \\text{(K)}。\n$$\n\n您的任务是实现这个模型，以比较在三倍C倍率放电下，以下极耳设计和材料/接触方案。对于所有情况，使用 $N = 100$ 个节点，棱柱形集流板长度 $W = 0.1\\,\\text{m}$，高度 $H = 0.2\\,\\text{m}$，并根据C倍率的定义指定均匀电流（容量 $Q$（安时）的三倍，因此 $I_{\\text{tot}} = 3\\,Q$（安培））。报告有效IR降 $V_{\\text{eff}}$（单位：伏特 V），稳态温升 $\\Delta T$（单位：开尔文 K），以及极耳电流列表（单位：安培 A），每个极耳一个值。\n\n测试套件（每个案例都是独立的）：\n1. 案例A（单个宽极耳，铝集电器）：$t = 15\\times 10^{-6}\\,\\text{m}$，$\\rho = 2.82\\times 10^{-8}\\,\\Omega\\cdot\\text{m}$，$Q = 50\\,\\text{Ah}$，$r_{\\text{c,e}} = 1.0\\times 10^{-7}\\,\\Omega\\cdot\\text{m}^2$，$r_{\\text{c,th}} = 1.0\\times 10^{-4}\\,\\text{m}^2\\cdot\\text{K}/\\text{W}$，单个中心极耳，宽度为 $0.04\\,\\text{m}$，即区间 $[0.03,\\,0.07]\\,\\text{m}$。\n2. 案例B（双窄极耳，铝集电器）：与案例A相同的 $t$, $\\rho$, $Q$, $r_{\\text{c,e}}$, $r_{\\text{c,th}}$；两个极耳，每个宽度为 $0.02\\,\\text{m}$，位于四分之一位置，区间为 $[0.015,\\,0.035]\\,\\text{m}$ 和 $[0.065,\\,0.085]\\,\\text{m}$。\n3. 案例C（双窄极耳，电接触不良）：与案例B相同的几何形状和材料，但 $r_{\\text{c,e}} = 1.0\\times 10^{-6}\\,\\Omega\\cdot\\text{m}^2$。\n4. 案例D（单个窄极耳位于边缘，铜集电器）：$t = 12\\times 10^{-6}\\,\\text{m}$，$\\rho = 1.68\\times 10^{-8}\\,\\Omega\\cdot\\text{m}$，$Q = 50\\,\\text{Ah}$，$r_{\\text{c,e}} = 1.0\\times 10^{-7}\\,\\Omega\\cdot\\text{m}^2$，$r_{\\text{c,th}} = 1.0\\times 10^{-4}\\,\\text{m}^2\\cdot\\text{K}/\\text{W}$，单个极耳，宽度为 $0.02\\,\\text{m}$，位于边缘，区间为 $[0.0,\\,0.02]\\,\\text{m}$。\n\n角度单位不适用。在您的实现中，精确求解离散线性系统（达到浮点精度），并计算所要求的量。将所有输出表示为浮点数。最终输出格式必须是单行，包含四个测试案例的结果列表，其中每个案例的结果是列表\n$$\n[\\,V_{\\text{eff}},\\;\\Delta T,\\;[\\,I_{\\text{tab},1},\\;I_{\\text{tab},2},\\;\\dots]\\,].\n$$\n例如，您的程序应生成单行输出，其中包含用方括号括起来的逗号分隔的结果列表，如下所示\n$$\n[[V_A,\\Delta T_A,[I_{A,1}]],\\;[V_B,\\Delta T_B,[I_{B,1},I_{B,2}]],\\;[V_C,\\Delta T_C,[I_{C,1},I_{C,2}]],\\;[V_D,\\Delta T_D,[I_{D,1}]]].\n$$\n报告 $V_{\\text{eff}}$（单位：$\\text{V}$），$\\Delta T$（单位：$\\text{K}$）和极耳电流（单位：$\\text{A}$）；打印输出中不包含单位。在打印输出中四舍五入到六位小数。",
            "solution": "该问题是有效的，因为它科学地基于欧姆定律、基尔霍夫定律和热传导原理。该问题提法明确，提供了一套完整的参数和物理模型，可转化为一个可解的、非奇异的线性方程组。所有术语都有定义，所提供的数据在物理上是现实且一致的。\n\n目标是通过将集流板建模为一维离散电阻网络来比较不同的集电器极耳设计。该分析将确定每个指定案例的有效电压降、温升和电流分布。\n\n模型的核心是代表长度为 $W$、高度为 $H$、厚度为 $t$ 的集电器集流板的 $N$ 个离散节点组成的一维链。空间步长为 $\\Delta x = W/N$。每个节点 $i$（$i=0, \\dots, N-1$）代表长度为 $\\Delta x$ 的集流板段。\n\n电气模型基于电阻网络。两个相邻节点 $i$ 和 $i+1$ 之间的金属集流板段的电阻由矩形导体的公式给出：\n$$\nR_{\\text{seg}} = \\frac{\\rho \\, \\Delta x}{t \\, H}\n$$\n其中 $\\rho$ 是材料的体电阻率。\n\n假设一个均匀的电流 $I_{\\text{in}} = I_{\\text{tot}}/N$ 从电芯的电化学核心注入到每个节点。总电流 $I_{\\text{tot}}$ 由电芯容量 $Q$ 和指定的3C倍率确定，因此 $I_{\\text{tot}} = 3 \\times Q$（其中使用 $Q$ 的安时数值）。\n\n电流通过极耳从集流板中引出，极耳连接到一个保持在 $0\\,\\text{V}$ 接地电位的外部汇流排。在极耳的覆盖区域内，每个节点 $i$ 通过一个接触电阻 $R_{\\text{contact,node},i}$ 连接到地。该电阻由比接触电阻率 $r_{\\text{c,e}}$ 和节点接触面积 $A_{\\text{node}} = H \\cdot \\Delta x$ 导出：\n$$\nR_{\\text{contact,node},i} = \\frac{r_{\\text{c,e}}}{H \\, \\Delta x}\n$$\n对于任何极耳区域外的节点，该接触电阻实际上是无限大的，意味着没有从这些节点到地的电流路径。\n\n在每个节点 $i$ 应用基尔霍夫电流定律（KCL），即流入节点的电流总和等于流出节点的电流总和。设 $V_i$ 为节点 $i$ 的电压。电流包括：\n1.  来自电芯核心的电流：$I_{\\text{in}}$（流入）\n2.  流向地/汇流排的电流：$I_{\\text{ground},i} = V_i / R_{\\text{contact,node},i}$（流出）\n3.  来自/流向相邻节点的电流：$(V_{j} - V_i) / R_{\\text{seg}}$，对于每个邻居 $j$（流出或流入）\n\n对于一个普通的内部节点 $i$（邻居为 $i-1$ 和 $i+1$），KCL方程为：\n$$\nI_{\\text{in}} + \\frac{V_{i-1} - V_i}{R_{\\text{seg}}} + \\frac{V_{i+1} - V_i}{R_{\\text{seg}}} - \\frac{V_i}{R_{\\text{contact,node},i}} = 0\n$$\n重新整理此方程，按电压项分组，得到问题陈述中提供的形式：\n$$\n\\left(\\frac{2}{R_{\\text{seg}}} + \\frac{1}{R_{\\text{contact,node},i}}\\right) V_i - \\frac{1}{R_{\\text{seg}}}V_{i-1} - \\frac{1}{R_{\\text{seg}}}V_{i+1} = I_{\\text{in}}\n$$\n对于边界节点 $i=0$ 和 $i=N-1$（在链中只有一个邻居），方程分别为：\n$$\n\\left(\\frac{1}{R_{\\text{seg}}} + \\frac{1}{R_{\\text{contact,node},0}}\\right) V_0 - \\frac{1}{R_{\\text{seg}}}V_1 = I_{\\text{in}}\n$$\n$$\n\\left(\\frac{1}{R_{\\text{seg}}} + \\frac{1}{R_{\\text{contact,node},N-1}}\\right) V_{N-1} - \\frac{1}{R_{\\text{seg}}}V_{N-2} = I_{\\text{in}}\n$$\n这 $N$ 个线性方程构成一个系统 $A\\mathbf{V} = \\mathbf{b}$，其中 $\\mathbf{V} = [V_0, V_1, \\dots, V_{N-1}]^T$ 是未知节点电压的向量，$\\mathbf{b} = [I_{\\text{in}}, I_{\\text{in}}, \\dots, I_{\\text{in}}]^T$ 是注入电流的向量，而 $A$ 是一个 $N \\times N$ 矩阵。矩阵 $A$ 是对称三对角矩阵，其元素由KCL方程中电压的系数定义。具体来说，使用电导 $g_{\\text{seg}} = 1/R_{\\text{seg}}$ 和 $g_{\\text{contact},i} = 1/R_{\\text{contact,node},i}$：\n$$\nA_{i,j} =\n\\begin{cases}\ng_{\\text{seg}} + g_{\\text{contact},i}  \\text{if } i=j=0 \\text{ or } i=j=N-1 \\\\\n2g_{\\text{seg}} + g_{\\text{contact},i}  \\text{if } i=j \\text{ and } 0  i  N-1 \\\\\n-g_{\\text{seg}}  \\text{if } |i-j| = 1 \\\\\n0  \\text{otherwise}\n\\end{cases}\n$$\n求解该线性系统以得到电压向量 $\\mathbf{V}$。\n\n一旦节点电压已知，由于欧姆加热而耗散的总功率 $P_{\\text{tot}}$ 通过将集流板段（$P_{\\text{seg}}$）和极耳接触点（$P_{\\text{contact}}$）耗散的功率相加来计算：\n$$\nP_{\\text{seg}} = \\sum_{i=0}^{N-2} \\frac{(V_i - V_{i+1})^2}{R_{\\text{seg}}}, \\quad P_{\\text{contact}} = \\sum_{\\text{tab nodes } i} \\frac{V_i^2}{R_{\\text{contact,node},i}}\n$$\n$$\nP_{\\text{tot}} = P_{\\text{seg}} + P_{\\text{contact}}\n$$\n有效电压降，作为电气性能的指标，定义为：\n$$\nV_{\\text{eff}} = \\frac{P_{\\text{tot}}}{I_{\\text{tot}}}\n$$\n每个极耳收集的电流是构成该极耳的节点电流之和：\n$$\nI_{\\text{tab}, k} = \\sum_{\\text{nodes } i \\in \\text{tab } k} \\frac{V_i}{R_{\\text{contact,node},i}}\n$$\n\n对于热分析，总功耗 $P_{\\text{tot}}$ 作为热源。该模型假设散热仅通过极耳到汇流排的热接触发生。总热阻 $R_{\\text{th,tot}}$ 使用比热接触电阻率 $r_{\\text{c,th}}$ 和所有极耳的总接触面积 $A_{\\text{contact,tot}}$ 计算：\n$$\nR_{\\text{th,tot}} = \\frac{r_{\\text{c,th}}}{A_{\\text{contact,tot}}} = \\frac{r_{\\text{c,th}}}{\\left(\\sum_{\\text{tab nodes}} 1\\right) \\cdot H \\cdot \\Delta x}\n$$\n然后，集电器组件相对于汇流排温度的稳态温升 $\\Delta T$ 由下式给出：\n$$\n\\Delta T = P_{\\text{tot}} \\, R_{\\text{th,tot}}\n$$\n\n实现将通过为每个测试案例构建和求解线性系统，然后从解中计算所需的输出指标（$V_{\\text{eff}}$、$\\Delta T$ 和极耳电流）来继续。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef run_case(W, H, t, rho, Q, r_c_e, r_c_th, tabs_geom, N=100):\n    \"\"\"\n    Solves the 1D resistive network model for a single test case.\n    \n    Args:\n        W (float): Header length [m].\n        H (float): Header height [m].\n        t (float): Header thickness [m].\n        rho (float): Header material resistivity [Ohm.m].\n        Q (float): Cell capacity [Ah].\n        r_c_e (float): Electrical contact resistivity [Ohm.m^2].\n        r_c_th (float): Thermal contact resistivity [m^2.K/W].\n        tabs_geom (list of tuples): List of (start, end) positions for each tab [m].\n        N (int): Number of nodes in the discretization.\n\n    Returns:\n        tuple: (V_eff, delta_T, tab_currents)\n            V_eff (float): Effective IR drop [V].\n            delta_T (float): Steady-state temperature rise [K].\n            tab_currents (list of float): Current through each tab [A].\n    \"\"\"\n    # 1. Calculate derived constants\n    dx = W / N\n    I_tot = 3.0 * Q\n    I_in = I_tot / N\n    R_seg = (rho * dx) / (t * H)\n    g_seg = 1.0 / R_seg if R_seg > 0 else float('inf')\n\n    # 2. Identify nodes belonging to each tab\n    tab_nodes_map = []\n    all_tab_nodes = set()\n    for start, end in tabs_geom:\n        # A node i corresponds to the interval [i*dx, (i+1)*dx].\n        # It is part of the tab if its interval overlaps with the tab's interval.\n        nodes = [i for i in range(N) if (i + 1) * dx > start and i * dx < end]\n        tab_nodes_map.append(nodes)\n        all_tab_nodes.update(nodes)\n\n    # 3. Build the linear system A*V = b\n    A = np.zeros((N, N))\n    b = np.full(N, I_in)\n\n    R_contact_node = r_c_e / (H * dx)\n    g_contact_node = 1.0 / R_contact_node if R_contact_node > 0 else float('inf')\n\n    for i in range(N):\n        # Diagonal elements\n        # Contribution from neighbors\n        if i > 0:\n            A[i, i] += g_seg\n        if i < N - 1:\n            A[i, i] += g_seg\n        # Contribution from contact to ground\n        if i in all_tab_nodes:\n            A[i, i] += g_contact_node\n\n        # Off-diagonal elements\n        if i > 0:\n            A[i, i - 1] = -g_seg\n        if i < N - 1:\n            A[i, i + 1] = -g_seg\n\n    # 4. Solve for node voltages V\n    V = np.linalg.solve(A, b)\n\n    # 5. Calculate total power dissipation\n    P_contact = 0\n    if g_contact_node > 0 and len(all_tab_nodes) > 0:\n        contact_nodes_indices = list(all_tab_nodes)\n        P_contact = np.sum((V[contact_nodes_indices]**2) * g_contact_node)\n\n    P_seg = 0\n    for i in range(N - 1):\n        P_seg += ((V[i] - V[i + 1])**2) * g_seg\n    \n    P_tot = P_contact + P_seg\n\n    # 6. Calculate effective voltage drop\n    V_eff = P_tot / I_tot\n\n    # 7. Calculate thermal properties\n    A_contact_tot = len(all_tab_nodes) * H * dx\n    R_th_tot = r_c_th / A_contact_tot if A_contact_tot > 0 else float('inf')\n    delta_T = P_tot * R_th_tot\n\n    # 8. Calculate individual tab currents\n    tab_currents = []\n    if g_contact_node > 0:\n        for nodes_for_one_tab in tab_nodes_map:\n            if nodes_for_one_tab:\n                current = np.sum(V[nodes_for_one_tab] * g_contact_node)\n                tab_currents.append(current)\n\n    return V_eff, delta_T, tab_currents\n\ndef solve():\n    # Define the test cases from the problem statement.\n    common_params = {\n        'N': 100,\n        'W': 0.1,    # m\n        'H': 0.2,    # m\n        'Q': 50.0,   # Ah\n    }\n\n    test_cases = [\n        # Case A: single wide tab, aluminum collector\n        {**common_params, \n         't': 15e-6, 'rho': 2.82e-8, 'r_c_e': 1.0e-7, 'r_c_th': 1.0e-4, \n         'tabs_geom': [(0.03, 0.07)]},\n        # Case B: dual narrower tabs, aluminum collector\n        {**common_params, \n         't': 15e-6, 'rho': 2.82e-8, 'r_c_e': 1.0e-7, 'r_c_th': 1.0e-4, \n         'tabs_geom': [(0.015, 0.035), (0.065, 0.085)]},\n        # Case C: dual narrower tabs, poor electrical contact\n        {**common_params, \n         't': 15e-6, 'rho': 2.82e-8, 'r_c_e': 1.0e-6, 'r_c_th': 1.0e-4, \n         'tabs_geom': [(0.015, 0.035), (0.065, 0.085)]},\n        # Case D: single narrow tab at edge, copper collector\n        {**common_params, \n         't': 12e-6, 'rho': 1.68e-8, 'r_c_e': 1.0e-7, 'r_c_th': 1.0e-4,\n         'tabs_geom': [(0.0, 0.02)]},\n    ]\n\n    all_results = []\n    for params in test_cases:\n        result = run_case(\n            W=params['W'], H=params['H'], t=params['t'], rho=params['rho'],\n            Q=params['Q'], r_c_e=params['r_c_e'], r_c_th=params['r_c_th'],\n            tabs_geom=params['tabs_geom'], N=params['N']\n        )\n        all_results.append(result)\n\n    # Format the final output string exactly as specified.\n    formatted_strings = []\n    for v_eff, delta_t, currents in all_results:\n        s_currents = f\"[{','.join([f'{c:.6f}' for c in currents])}]\"\n        s_case = f\"[{v_eff:.6f},{delta_t:.6f},{s_currents}]\"\n        formatted_strings.append(s_case)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(formatted_strings)}]\")\n\nsolve()\n```[[0.016390,30.730704,[150.000000]],[0.013146,24.649520,[75.000000,75.000000]],[0.100938,189.258810,[75.000000,75.000000]],[0.019183,71.937748,[150.000000]]]"
        }
    ]
}