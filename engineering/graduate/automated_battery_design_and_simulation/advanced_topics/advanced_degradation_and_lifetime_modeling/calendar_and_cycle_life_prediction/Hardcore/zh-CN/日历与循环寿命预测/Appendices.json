{
    "hands_on_practices": [
        {
            "introduction": "温度是影响电池日历老化的关键因素。为了在有限的测试时间内评估电池的长期待机寿命，工程师们常常采用高温加速老化测试。阿伦尼乌斯方程为量化温度对化学反应速率的影响提供了理论基础，也因此成为连接不同温度下老化速率的核心工具。本练习 () 将指导你计算一个关键参数——加速因子（Acceleration Factor），它使得我们能够利用高温下的短期数据来预测电池在正常工作温度下的长期性能。",
            "id": "3897779",
            "problem": "一个用于日历寿命预测的自动化电池设计和仿真工作流程将固体电解质界面膜 (SEI) 的生长建模为一个热激活过程。假设 SEI 生长速率常数 $k(T)$ 表现出阿伦尼乌斯型行为，其特征在于活化能 $E_a$ 和普适气体常数 $R$。考虑一个存储场景，其中一个锂离子电池在两个温度 $T_1=298\\,\\text{K}$ 和 $T_2=318\\,\\text{K}$ 下老化，已知的 SEI 活化能为 $E_a=45\\,\\text{kJ}\\,\\text{mol}^{-1}$。加速因子定义为无量纲比率 $AF=\\frac{k(T_2)}{k(T_1)}$，用于在仿真中外推不同温度间的日历老化速率。\n\n使用普适气体常数 $R=8.314462618\\,\\text{J}\\,\\text{mol}^{-1}\\,\\text{K}^{-1}$，计算给定温度和活化能下的 $AF$。将最终结果以无量纲数的形式报告，并四舍五入到四位有效数字。",
            "solution": "热激活过程的 SEI 生长速率常数 $k(T)$ 由阿伦尼乌斯行为描述，这是化学和材料物理学中一个经过充分检验的关于反应速率的经验定律。阿伦尼乌斯形式由下式给出\n$$\nk(T)=k_0\\,\\exp\\!\\left(-\\frac{E_a}{R\\,T}\\right),\n$$\n其中 $k_0$ 是指前因子，$E_a$ 是活化能，$R$ 是普适气体常数，$T$ 是绝对温度。加速因子定义为 $AF=\\frac{k(T_2)}{k(T_1)}$，直接由 $T_2$ 和 $T_1$ 时的速率常数之比得出：\n$$\nAF=\\frac{k(T_2)}{k(T_1)}=\\frac{k_0\\,\\exp\\!\\left(-\\frac{E_a}{R\\,T_2}\\right)}{k_0\\,\\exp\\!\\left(-\\frac{E_a}{R\\,T_1}\\right)}=\\exp\\!\\left(\\frac{E_a}{R}\\left(\\frac{1}{T_1}-\\frac{1}{T_2}\\right)\\right).\n$$\n该表达式表明 $AF$ 是无量纲的，并且仅取决于 $E_a$、$R$ 以及温度 $T_1$ 和 $T_2$。因为 $T_2>T_1$，所以项 $\\frac{1}{T_1}-\\frac{1}{T_2}$ 是正的，因此 $AF>1$，这与较高温度下更快的动力学在物理上是一致的。\n\n我们现在代入给定的值，在最终数值计算前保持量为符号形式：\n- $E_a=45\\,\\text{kJ}\\,\\text{mol}^{-1}=45{,}000\\,\\text{J}\\,\\text{mol}^{-1}$，\n- $R=8.314462618\\,\\text{J}\\,\\text{mol}^{-1}\\,\\text{K}^{-1}$，\n- $T_1=298\\,\\text{K}$，\n- $T_2=318\\,\\text{K}$。\n\n首先计算温度倒数之差：\n$$\n\\frac{1}{T_1}-\\frac{1}{T_2}=\\frac{T_2-T_1}{T_1\\,T_2}=\\frac{318-298}{298\\cdot 318}=\\frac{20}{94{,}764}.\n$$\n因此指数变为\n$$\n\\frac{E_a}{R}\\left(\\frac{1}{T_1}-\\frac{1}{T_2}\\right)=\\frac{45{,}000}{8.314462618}\\cdot \\frac{20}{94{,}764}.\n$$\n为了对其进行数值计算：\n$$\n\\frac{E_a}{R}\\approx \\frac{45{,}000}{8.314462618}\\approx 5{,}412.26,\n$$\n并且\n$$\n\\frac{1}{T_1}-\\frac{1}{T_2}=\\frac{20}{94{,}764}\\approx 2.1105\\times 10^{-4}.\n$$\n因此，\n$$\n\\frac{E_a}{R}\\left(\\frac{1}{T_1}-\\frac{1}{T_2}\\right)\\approx 5{,}412.26\\times 2.1105\\times 10^{-4}\\approx 1.14226.\n$$\n最后，计算加速因子：\n$$\nAF=\\exp\\!\\left(1.14226\\right)\\approx 3.1338.\n$$\n四舍五入到四位有效数字并以无量纲数报告，得到\n$$\nAF\\approx 3.134.\n$$\n这个量级表明，在阿伦尼乌斯假设下，$T_2=318\\,\\text{K}$ 时由 SEI 驱动的日历老化速率大约是 $T_1=298\\,\\text{K}$ 时速率的 $3.134$ 倍，这与预期的降解过程的热加速是一致的。",
            "answer": "$$\\boxed{3.134}$$"
        },
        {
            "introduction": "电池在实际应用中的老化是静态存储（日历老化）和动态充放电（循环老化）共同作用的结果。为了准确预测电池在特定工况下的剩余使用寿命（Remaining Useful Life, RUL），我们需要一种能综合评估这两种老化贡献的方法。本练习 () 介绍了一种在工程领域广泛应用的线性叠加模型，通过将独立的日历和循环衰减率相结合，来预测电池达到寿命终点所需的时间。",
            "id": "3897803",
            "problem": "一个自动化并网交互系统中的锂离子电池的标称容量为 $Q_{\\mathrm{nom}} = 5.000~\\mathrm{Ah}$。当前，在固定温度 $T = 308.15~\\mathrm{K}$ 和充电状态 (SOC) $0.50$ 下的诊断特性分析报告显示，最大可释放容量为 $Q_{\\mathrm{now}} = 4.600~\\mathrm{Ah}$。寿命终点定义为最大可释放容量首次达到 $Q_{\\mathrm{EOL}} = 0.80\\,Q_{\\mathrm{nom}}$ 的时刻。\n\n在与系统相关的条件下，相同温度和 SOC 下的独立实验室测量提供了以下线性化的容量衰减率：\n- 当电池在固定 $T$ 和 SOC 下不进行循环存储时，日历存储容量衰减率为 $\\left.\\frac{dQ}{dt}\\right|_{\\mathrm{cal}} = -1.10 \\times 10^{-4}~\\mathrm{Ah/day}$。\n- 每等效全循环 (EFC) 的循环诱导容量衰减率为 $\\left.\\frac{dQ}{dN}\\right|_{\\mathrm{cyc}} = -1.10 \\times 10^{-3}~\\mathrm{Ah}$，其中一个 EFC 定义为从完全充电到完全放电的一次完整放电。\n\n系统的每日工作循环包括 4 个相同的局部放电-充电回路，每个回路的放电深度相对于 $Q_{\\mathrm{nom}}$ 为 $0.20$，并在相同的固定温度下进行。根据上述标准 EFC 定义，每日累积的 EFC 数量等于每日总放电安时数除以 $Q_{\\mathrm{nom}}$。\n\n假设：\n- 在剩余使用寿命期间，温度、SOC 窗口和工作循环保持不变。\n- 日历存储和循环诱导的容量衰减贡献线性叠加，且其速率在剩余寿命期间保持不变。\n- 容量 $Q$ 的变化对工作循环实现的影响可以忽略不计。\n\n仅使用这些数据和假设，计算剩余使用寿命，定义为从现在到容量 $Q$ 首次达到 $Q_{\\mathrm{EOL}}$ 的时间。最终答案以天为单位表示，并四舍五入到四位有效数字。",
            "solution": "我们从容量 $Q(t)$ 的定义开始，即在指定条件下最大可释放的电荷量。寿命终点条件是 $Q(t_{\\mathrm{EOL}}) = Q_{\\mathrm{EOL}}$，剩余使用寿命为 $t_{\\mathrm{RUL}} = t_{\\mathrm{EOL}} - t_{\\mathrm{now}}$，其中 $Q(t_{\\mathrm{now}}) = Q_{\\mathrm{now}}$。\n\n在所述假设下，瞬时容量衰减率被建模为在固定温度和充电状态 (SOC) 下的日历存储贡献与一个与等效全循环计数器 $N(t)$ 成正比的循环诱导贡献的叠加：\n$$\n\\frac{dQ}{dt} \\;=\\; \\left.\\frac{dQ}{dt}\\right|_{\\mathrm{cal}} \\;+\\; \\left.\\frac{dQ}{dN}\\right|_{\\mathrm{cyc}} \\,\\frac{dN}{dt}.\n$$\n此处，由于 $T$、SOC 和工作循环是固定的，$\\left.\\frac{dQ}{dt}\\right|_{\\mathrm{cal}}$ 和 $\\left.\\frac{dQ}{dN}\\right|_{\\mathrm{cyc}}$ 被视为常数。\n\n接下来，我们根据工作循环确定等效全循环累积率 $\\frac{dN}{dt}$。等效全循环 (EFC) 的定义是，一个 EFC 对应于一次 $Q_{\\mathrm{nom}}$ 安时电量的完全放电。每日工作循环包含 4 个局部循环，每个循环的放电深度相对于 $Q_{\\mathrm{nom}}$ 为 $0.20$。因此，每日总放电安时数为\n$$\nQ_{\\mathrm{dis,day}} \\;=\\; 4 \\times 0.20 \\times Q_{\\mathrm{nom}} \\;=\\; 0.80 \\, Q_{\\mathrm{nom}}.\n$$\n根据所述定义，每日累积的 EFC 数量为\n$$\n\\dot{N} \\;\\equiv\\; \\frac{dN}{dt} \\;=\\; \\frac{Q_{\\mathrm{dis,day}}}{Q_{\\mathrm{nom}} \\times 1~\\mathrm{day}} \\;=\\; \\frac{0.80\\,Q_{\\mathrm{nom}}}{Q_{\\mathrm{nom}} \\times 1~\\mathrm{day}} \\;=\\; 0.80~\\mathrm{day}^{-1}.\n$$\n\n将给定的速率和 $\\dot{N}$ 代入叠加模型，得到一个恒定的总衰减率：\n$$\n\\frac{dQ}{dt} \\;=\\; \\left(-1.10 \\times 10^{-4}~\\mathrm{\\frac{Ah}{day}}\\right) \\;+\\; \\left(-1.10 \\times 10^{-3}~\\mathrm{\\frac{Ah}{EFC}}\\right)\\,\\left(0.80~\\mathrm{\\frac{EFC}{day}}\\right).\n$$\n每日的循环诱导贡献为\n$$\n\\left(-1.10 \\times 10^{-3}~\\mathrm{\\frac{Ah}{EFC}}\\right)\\,\\left(0.80~\\mathrm{\\frac{EFC}{day}}\\right) \\;=\\; -8.80 \\times 10^{-4}~\\mathrm{\\frac{Ah}{day}}.\n$$\n因此，总的恒定速率为\n$$\n\\frac{dQ}{dt} \\;=\\; -1.10 \\times 10^{-4}~\\mathrm{\\frac{Ah}{day}} \\;+\\; \\left(-8.80 \\times 10^{-4}~\\mathrm{\\frac{Ah}{day}}\\right) \\;=\\; -9.90 \\times 10^{-4}~\\mathrm{\\frac{Ah}{day}}.\n$$\n\n达到寿命终点所需的剩余容量减少量为\n$$\n\\Delta Q_{\\mathrm{req}} \\;=\\; Q_{\\mathrm{now}} - Q_{\\mathrm{EOL}}.\n$$\n已知 $Q_{\\mathrm{now}} = 4.600~\\mathrm{Ah}$ 且 $Q_{\\mathrm{EOL}} = 0.80\\,Q_{\\mathrm{nom}} = 0.80 \\times 5.000~\\mathrm{Ah} = 4.000~\\mathrm{Ah}$，我们得到\n$$\n\\Delta Q_{\\mathrm{req}} \\;=\\; 4.600~\\mathrm{Ah} - 4.000~\\mathrm{Ah} \\;=\\; 0.600~\\mathrm{Ah}.\n$$\n\n假设总衰减率恒定，损失 $\\Delta Q_{\\mathrm{req}}$ 所需的时间为\n$$\nt_{\\mathrm{RUL}} \\;=\\; \\frac{\\Delta Q_{\\mathrm{req}}}{\\left|\\frac{dQ}{dt}\\right|} \\;=\\; \\frac{0.600~\\mathrm{Ah}}{9.90 \\times 10^{-4}~\\mathrm{\\frac{Ah}{day}}} \\;=\\; \\frac{0.600}{9.90 \\times 10^{-4}}~\\mathrm{day}.\n$$\n计算该比值，\n$$\nt_{\\mathrm{RUL}} \\;=\\; 606.060606\\ldots~\\mathrm{day}.\n$$\n\n根据要求四舍五入到四位有效数字，剩余使用寿命为\n$$\nt_{\\mathrm{RUL}} \\;=\\; 606.1~\\mathrm{day}.\n$$",
            "answer": "$$\\boxed{606.1}$$"
        },
        {
            "introduction": "虽然经验模型在特定条件下能够有效预测寿命，但基于物理的模型能提供更深刻的机理洞察和更强的外推预测能力。这类模型将宏观的性能衰减（如容量损失）与微观的电化学副反应直接联系起来。本练习 () 要求你从一个具体的寄生副反应（固态电解质界面膜的扩散限制性生长）出发，通过积分计算推导出容量衰减的解析表达式，并将其付诸实践。这个过程将帮助你理解如何将底层的物理化学原理转化为可执行的仿真预测代码。",
            "id": "3897761",
            "problem": "您的任务是设计并实现一个程序，用于计算锂离子电池因负极寄生副反应导致的日历老化，其表现为容量损失。您的程序必须通过对副反应电流密度在真实电极表面积和时间上进行积分来计算容量衰减，表示为 $Q(t)$，然后将得到的损失电荷转换为毫安时。容量衰减必须以 $\\mathrm{mAh}$ 为单位表示。\n\n使用以下具有科学依据的基础：\n- 副反应电流密度 $j_{\\text{side}}(t; T, \\mathrm{SOC})$ 定义在真实的活性表面上。总寄生电流是 $j_{\\text{side}}$ 在真实表面积上的面积分。\n- 损失的电荷等于电流的时间积分。以安时为单位的损失容量等于以库仑为单位的损失电荷除以 $3600$，而以毫安时为单位则再乘以 $1000$。\n- 总真实表面积建模为 $S = a_{s} A_{\\mathrm{geom}} L$，其中 $a_{s}$ 是比表面积，$A_{\\mathrm{geom}}$ 是几何面积，$L$ 是电极厚度。\n- 副反应电流密度表现出扩散限制的增长，并建模为\n$$\nj_{\\text{side}}(t; T, \\mathrm{SOC}) = k_{\\mathrm{ref}} \\exp\\left(-\\frac{E_{a}}{R}\\left(\\frac{1}{T} - \\frac{1}{T_{\\mathrm{ref}}}\\right)\\right) \\exp\\left(\\beta\\left(\\mathrm{SOC}-\\mathrm{SOC}_{\\mathrm{ref}}\\right)\\right) \\left(t + t_{0}\\right)^{-1/2},\n$$\n其中，$k_{\\mathrm{ref}}$ 的单位是 $\\mathrm{A\\,m^{-2}\\,s^{1/2}}$，$E_{a}$ 是活化能，单位是 $\\mathrm{J\\,mol^{-1}}$，$R$ 是通用气体常数，单位是 $\\mathrm{J\\,mol^{-1}\\,K^{-1}}$，$T$ 和 $T_{\\mathrm{ref}}$ 的单位是 $\\mathrm{K}$，$\\beta$ 和 $\\mathrm{SOC}_{\\mathrm{ref}}$ 是无量纲的，$t$ 和 $t_{0}$ 的单位是 $\\mathrm{s}$。荷电状态（SOC）是无量纲的。通用气体常数为 $R = 8.314462618\\,\\mathrm{J\\,mol^{-1}\\,K^{-1}}$。\n\n仅根据这些基础和定义，通过对与 $j_{\\text{side}}$ 相关的锂损失在电极表面和时间上进行积分，推导并实现容量衰减 $Q(t)$（单位：$\\mathrm{mAh}$）作为参数 $\\{t, T, \\mathrm{SOC}, A_{\\mathrm{geom}}, L, a_{s}, k_{\\mathrm{ref}}, E_{a}, T_{\\mathrm{ref}}, \\beta, \\mathrm{SOC}_{\\mathrm{ref}}, t_{0}\\}$ 的函数。\n\n物理单位：\n- 时间 $t$ 和 $t_{0}$ 的单位是 $\\mathrm{s}$。\n- 温度 $T$ 和 $T_{\\mathrm{ref}}$ 的单位是 $\\mathrm{K}$。\n- 容量输出 $Q(t)$ 必须以 $\\mathrm{mAh}$ 表示，并四舍五入到六位小数。\n\n角度单位不适用。不涉及百分比。\n\n测试套件：\n使用以下参数集，每个参数集产生一个浮点数结果（容量衰减，单位为 $\\mathrm{mAh}$）。所有未指定的常量必须严格按照给定值采用，以下所有数字对于本问题均为精确值。\n\n所有测试的通用参数：\n- $A_{\\mathrm{geom}} = 0.08\\,\\mathrm{m^{2}}$\n- $L = 70\\times 10^{-6}\\,\\mathrm{m}$\n- $a_{s} = 2.0\\times 10^{5}\\,\\mathrm{m^{2}\\,m^{-3}}$\n- $k_{\\mathrm{ref}} = 0.08\\,\\mathrm{A\\,m^{-2}\\,s^{1/2}}$\n- $E_{a} = 35000\\,\\mathrm{J\\,mol^{-1}}$\n- $T_{\\mathrm{ref}} = 298\\,\\mathrm{K}$\n- $\\beta = 2.0$ (无量纲)\n- $\\mathrm{SOC}_{\\mathrm{ref}} = 0.5$ (无量纲)\n- $t_{0} = 100000\\,\\mathrm{s}$\n\n独立测试用例：\n- 情况 $1$（理想路径，中等条件下的基准日历年）：$t = 31536000\\,\\mathrm{s}$，$T = 298\\,\\mathrm{K}$，$\\mathrm{SOC} = 0.5$。\n- 情况 $2$（零经过时间的边界条件）：$t = 0\\,\\mathrm{s}$，$T = 298\\,\\mathrm{K}$，$\\mathrm{SOC} = 0.5$。\n- 情况 $3$（高温和高荷电状态）：$t = 31536000\\,\\mathrm{s}$，$T = 323\\,\\mathrm{K}$，$\\mathrm{SOC} = 0.8$。\n- 情况 $4$（基准温度下的低荷电状态）：$t = 31536000\\,\\mathrm{s}$，$T = 298\\,\\mathrm{K}$，$\\mathrm{SOC} = 0.1$。\n\n程序要求：\n- 仅使用提供的基础和定义，为每个情况实现 $Q(t)$（单位：$\\mathrm{mAh}$）的计算。\n- 使用通用气体常数 $R = 8.314462618\\,\\mathrm{J\\,mol^{-1}\\,K^{-1}}$。\n- 将每个结果四舍五入到六位小数。\n- 您的程序应生成单行输出，其中包含用方括号括起来的逗号分隔的结果列表（例如，“[result1,result2,result3,result4]”），每个结果以小数形式打印，小数点后精确到六位，并按上述情况的顺序排列。",
            "solution": "经评估，用户提供的问题是有效的。它在科学上基于已建立的电池老化模型，在数学上是适定的、客观的，并包含唯一解所需的所有必要信息。可以进行容量衰减公式的推导和实现。\n\n主要任务是推导容量衰减 $Q(t)$（单位：毫安时，$\\mathrm{mAh}$）的解析表达式，然后针对一组给定的参数对该表达式进行数值实现。\n\n容量衰减是由寄生副反应引起的。总寄生电流 $I_{\\text{side}}(t)$ 是副反应电流密度 $j_{\\text{side}}(t)$ 在总真实电极表面积 $S$ 上的积分。假设电流密度在整个表面上是均匀的，这个积分可以简化为乘法：\n$$\nI_{\\text{side}}(t) = j_{\\text{side}}(t) \\cdot S\n$$\n总真实表面积 $S$ 由比表面积 $a_s$、电极几何面积 $A_{\\text{geom}}$ 和电极厚度 $L$ 的乘积给出：\n$$\nS = a_{s} A_{\\mathrm{geom}} L\n$$\n副反应电流密度 $j_{\\text{side}}(t)$ 由以下函数建模：\n$$\nj_{\\text{side}}(t; T, \\mathrm{SOC}) = k_{\\mathrm{ref}} \\exp\\left(-\\frac{E_{a}}{R}\\left(\\frac{1}{T} - \\frac{1}{T_{\\mathrm{ref}}}\\right)\\right) \\exp\\left(\\beta\\left(\\mathrm{SOC}-\\mathrm{SOC}_{\\mathrm{ref}}\\right)\\right) \\left(t + t_{0}\\right)^{-1/2}\n$$\n其中参数是温度 ($T$)、荷电状态 ($\\mathrm{SOC}$) 和时间 ($t$) 的函数。因此，任意时刻 $t$ 的总寄生电流为：\n$$\nI_{\\text{side}}(t) = (a_{s} A_{\\mathrm{geom}} L) \\cdot \\left[ k_{\\mathrm{ref}} \\exp\\left(-\\frac{E_{a}}{R}\\left(\\frac{1}{T} - \\frac{1}{T_{\\mathrm{ref}}}\\right)\\right) \\exp\\left(\\beta\\left(\\mathrm{SOC}-\\mathrm{SOC}_{\\mathrm{ref}}\\right)\\right) \\left(t + t_{0}\\right)^{-1/2} \\right]\n$$\n在从 $0$ 到 $t$ 的时间间隔内损失的总电荷 $\\Delta C(t)$ 是寄生电流 $I_{\\text{side}}(t)$ 的时间积分。为此，我们对一个哑变量 $\\tau$ 从 $0$ 到 $t$ 进行积分。\n$$\n\\Delta C(t) = \\int_{0}^{t} I_{\\text{side}}(\\tau) \\,d\\tau\n$$\n在日历老化期间，假定参数 $T$ 和 $\\mathrm{SOC}$ 是恒定的。因此，在 $I_{\\text{side}}(\\tau)$ 的表达式中，除了 $(\\tau + t_{0})^{-1/2}$ 项外，所有项相对于积分变量 $\\tau$ 都是常数。我们可以将常数项从积分中提出来。为简洁起见，我们定义一个集体常数因子 $K'$：\n$$\nK' = (a_{s} A_{\\mathrm{geom}} L) \\cdot k_{\\mathrm{ref}} \\exp\\left(-\\frac{E_{a}}{R}\\left(\\frac{1}{T} - \\frac{1}{T_{\\mathrm{ref}}}\\right)\\right) \\exp\\left(\\beta\\left(\\mathrm{SOC}-\\mathrm{SOC}_{\\mathrm{ref}}\\right)\\right)\n$$\n$K'$ 的单位是 $\\mathrm{m^{-1}} \\cdot \\mathrm{m^2} \\cdot \\mathrm{m} \\cdot \\mathrm{A\\,m^{-2}\\,s^{1/2}} = \\mathrm{A \\cdot s^{1/2}}$。损失电荷的积分变为：\n$$\n\\Delta C(t) = K' \\int_{0}^{t} (\\tau + t_{0})^{-1/2} \\,d\\tau\n$$\n该积分的计算如下：\n$$\n\\int_{0}^{t} (\\tau + t_{0})^{-1/2} \\,d\\tau = \\left[ \\frac{(\\tau + t_{0})^{1/2}}{1/2} \\right]_{0}^{t} = \\left[ 2\\sqrt{\\tau + t_{0}} \\right]_{0}^{t} = 2\\sqrt{t + t_{0}} - 2\\sqrt{0 + t_{0}} = 2\\left(\\sqrt{t + t_{0}} - \\sqrt{t_{0}}\\right)\n$$\n此结果的单位是 $\\mathrm{s^{1/2}}$，因此 $\\Delta C(t)$ 的单位是 $(\\mathrm{A \\cdot s^{1/2}}) \\cdot \\mathrm{s^{1/2}} = \\mathrm{A \\cdot s}$，即库仑。这在量纲上是一致的。\n\n将此结果代回，我们得到以库仑为单位的总损失电荷：\n$$\n\\Delta C(t) = 2 K' \\left(\\sqrt{t + t_{0}} - \\sqrt{t_{0}}\\right)\n$$\n最后一步是将这个损失的电荷 $\\Delta C(t)$ 从库仑 ($\\mathrm{A \\cdot s}$) 转换为毫安时 ($\\mathrm{mAh}$)。一小时有 $3600$ 秒。\n$$\nQ(t) \\text{ in Ah} = \\frac{\\Delta C(t) \\text{ in A}\\cdot\\text{s}}{3600 \\text{ s/h}}\n$$\n要从安时 ($\\mathrm{Ah}$) 转换为毫安时 ($\\mathrm{mAh}$)，我们乘以 $1000$：\n$$\nQ(t) \\text{ in mAh} = Q(t) \\text{ in Ah} \\times 1000 \\text{ mA/A} = \\frac{\\Delta C(t)}{3600} \\times 1000 = \\frac{\\Delta C(t)}{3.6}\n$$\n将所有部分组合起来，得到容量衰减 $Q(t)$（单位：$\\mathrm{mAh}$）的最终表达式：\n$$\nQ(t) = \\frac{1000}{3600} \\cdot 2 \\cdot (a_{s} A_{\\mathrm{geom}} L) \\cdot k_{\\mathrm{ref}} \\exp\\left(-\\frac{E_{a}}{R}\\left(\\frac{1}{T} - \\frac{1}{T_{\\mathrm{ref}}}\\right)\\right) \\exp\\left(\\beta\\left(\\mathrm{SOC}-\\mathrm{SOC}_{\\mathrm{ref}}\\right)\\right) \\left(\\sqrt{t + t_{0}} - \\sqrt{t_{0}}\\right)\n$$\n这就是需要实现的方程。程序将使用提供的参数为四个测试用例中的每一个计算 $Q(t)$。\n\n参数如下：\n- $A_{\\mathrm{geom}} = 0.08\\,\\mathrm{m^{2}}$\n- $L = 70 \\times 10^{-6}\\,\\mathrm{m}$\n- $a_{s} = 2.0 \\times 10^{5}\\,\\mathrm{m^{-1}}$\n- $k_{\\mathrm{ref}} = 0.08\\,\\mathrm{A\\,m^{-2}\\,s^{1/2}}$\n- $E_{a} = 35000\\,\\mathrm{J\\,mol^{-1}}$\n- $T_{\\mathrm{ref}} = 298\\,\\mathrm{K}$\n- $\\beta = 2.0$\n- $\\mathrm{SOC}_{\\mathrm{ref}} = 0.5$\n- $t_{0} = 100000\\,\\mathrm{s}$\n- $R = 8.314462618\\,\\mathrm{J\\,mol^{-1}\\,K^{-1}}$\n\n实现过程将把这些常量以及每个测试用例中 $t$、$T$ 和 $\\mathrm{SOC}$ 的特定值代入最终推导出的 $Q(t)$ 方程中。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes lithium-ion battery calendar fade based on a parasitic side reaction model.\n    The capacity fade Q(t) is derived by integrating the side-reaction current density\n    over the electrode surface and time.\n    \"\"\"\n\n    # Common physical and model parameters\n    A_geom = 0.08  # Geometric area in m^2\n    L = 70e-6  # Electrode thickness in m\n    a_s = 2.0e5  # Specific surface area in m^2/m^3 (or m^-1)\n    k_ref = 0.08  # Reference reaction rate constant in A m^-2 s^(1/2)\n    E_a = 35000.0  # Activation energy in J mol^-1\n    T_ref = 298.0  # Reference temperature in K\n    beta = 2.0  # SOC dependence factor (dimensionless)\n    SOC_ref = 0.5  # Reference State of Charge (dimensionless)\n    t0 = 100000.0  # Initial time offset for film growth in s\n    R = 8.314462618  # Universal gas constant in J mol^-1 K^-1\n\n    # Individual test cases: (t in s, T in K, SOC)\n    test_cases = [\n        (31536000.0, 298.0, 0.5),  # Case 1: Baseline\n        (0.0, 298.0, 0.5),         # Case 2: Zero elapsed time\n        (31536000.0, 323.0, 0.8),  # Case 3: Elevated T and SOC\n        (31536000.0, 298.0, 0.1),  # Case 4: Low SOC\n    ]\n\n    results = []\n    \n    # Pre-calculate surface area\n    S = a_s * A_geom * L  # Total true surface area in m^2\n\n    for case in test_cases:\n        t, T, SOC = case\n\n        # Derived formula for capacity fade Q(t) in mAh\n        \n        # 1. Temperature-dependent term (Arrhenius)\n        temp_term = np.exp((-E_a / R) * (1.0 / T - 1.0 / T_ref))\n        \n        # 2. SOC-dependent term\n        soc_term = np.exp(beta * (SOC - SOC_ref))\n        \n        # 3. Time-dependent term from integration\n        # Integral of (tau + t0)^(-1/2) from 0 to t is 2*(sqrt(t + t0) - sqrt(t0))\n        if t + t0  0: # Physicality check\n             time_integral_term = 0.0\n        else:\n             time_integral_term = 2.0 * (np.sqrt(t + t0) - np.sqrt(t0))\n\n        # 4. Combine terms to get total lost charge in Coulombs (A*s)\n        # The formula from the derivation is: Delta_C = K' * time_integral_term\n        # where K' = S * k_ref * temp_term * soc_term\n        K_prime = S * k_ref * temp_term * soc_term\n        lost_charge_coulombs = K_prime * time_integral_term\n        \n        # 5. Convert lost charge from Coulombs (A.s) to mAh\n        # 1 mAh = 1e-3 A * 3600 s = 3.6 Coulombs\n        capacity_fade_mAh = lost_charge_coulombs / 3.6\n        \n        results.append(capacity_fade_mAh)\n\n    # Format results to six decimal places for the final output string\n    formatted_results = [f\"{res:.6f}\" for res in results]\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```"
        }
    ]
}