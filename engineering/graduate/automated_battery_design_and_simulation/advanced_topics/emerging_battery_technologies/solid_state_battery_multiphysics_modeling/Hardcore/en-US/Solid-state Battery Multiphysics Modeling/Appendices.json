{
    "hands_on_practices": [
        {
            "introduction": "The open-circuit voltage of a battery is fundamentally dictated by the thermodynamics of its electrode materials. This first practice  provides a foundational exercise in deriving this relationship from first principles. By starting with a regular solution model for the Gibbs free energy of an intercalation host, you will connect the microscopic statistical thermodynamics of lithium mixing to the macroscopic, measurable equilibrium potential, a critical link in any multiphysics battery model.",
            "id": "3950667",
            "problem": "Consider a single-phase intercalation solid in a Solid-State Battery where lithium occupies intercalation sites with fractional occupancy $c \\in (0,1)$. The molar Gibbs free energy per mole of intercalation sites is modeled by a regular solution form\n$$\ng(c) = R T \\left[c \\ln c + (1-c)\\ln(1-c)\\right] + \\Omega\\, c(1-c),\n$$\nwhere $R$ is the universal gas constant, $T$ is the absolute temperature, and $\\Omega$ is a composition-independent interaction parameter. Treat $g(c)$ as the molar free energy of the host with respect to lithium composition $c$ under isothermal, isobaric conditions, neglecting elastic, electrostatic, and gradient energy contributions.\n\nStarting from the definition of chemical potential as the partial derivative of Gibbs free energy with respect to the number of moles of a species at fixed temperature and pressure, derive the composition-dependent lithium chemical potential $\\mu(c)$ associated with $g(c)$. Then, starting from the equilibrium of electrochemical potentials for the interfacial reaction $\\mathrm{Li}^{+} + e^{-} \\rightleftharpoons \\mathrm{Li}(\\text{solid})$ and taking the lithium metal reference $\\mathrm{Li}/\\mathrm{Li}^{+}$ so that $\\mu_{\\mathrm{Li}}^{\\mathrm{metal}}$ is the molar chemical potential of lithium in the metal, obtain the closed-form expression for the open-circuit equilibrium voltage $V_{\\mathrm{eq}}(c)$ of the intercalation electrode versus $\\mathrm{Li}/\\mathrm{Li}^{+}$.\n\nExpress $\\mu(c)$ in joules per mole and $V_{\\mathrm{eq}}(c)$ in volts. Report your final expressions symbolically. No numerical evaluation is required. The final answer must be a single analytical expression or, if multiple quantities are requested, a single row matrix containing those expressions.",
            "solution": "The user wants to derive the chemical potential and equilibrium voltage for a solid-state battery electrode.\n\n### Step 1: Problem Validation\n\n**1.1. Extract Givens**\n\n-   **System**: A single-phase intercalation solid in a Solid-State Battery.\n-   **State Variable**: Fractional occupancy of lithium intercalation sites, $c \\in (0,1)$.\n-   **Molar Gibbs Free Energy**: The molar Gibbs free energy per mole of intercalation sites is given by the regular solution model:\n    $$g(c) = R T \\left[c \\ln c + (1-c)\\ln(1-c)\\right] + \\Omega\\, c(1-c)$$\n-   **Constants**: $R$ (universal gas constant), $T$ (absolute temperature), $\\Omega$ (composition-independent interaction parameter).\n-   **Assumptions**: Isothermal and isobaric conditions. Elastic, electrostatic, and gradient energy contributions are neglected.\n-   **Definition**: Chemical potential is the partial derivative of Gibbs free energy with respect to the number of moles of a species at fixed temperature and pressure.\n-   **Interfacial Reaction**: $\\mathrm{Li}^{+} + e^{-} \\rightleftharpoons \\mathrm{Li}(\\text{solid})$.\n-   **Reference Electrode**: The reference is the lithium metal electrode, $\\mathrm{Li}/\\mathrm{Li}^{+}$.\n-   **Reference Chemical Potential**: $\\mu_{\\mathrm{Li}}^{\\mathrm{metal}}$ is the molar chemical potential of lithium in the metal.\n-   **Quantities to Derive**:\n    1.  The composition-dependent lithium chemical potential, $\\mu(c)$.\n    2.  The open-circuit equilibrium voltage, $V_{\\mathrm{eq}}(c)$, of the intercalation electrode versus the $\\mathrm{Li}/\\mathrm{Li}^{+}$ reference.\n\n**1.2. Validate Using Extracted Givens**\n\n-   **Scientific Grounding**: The problem is based on the regular solution model, a standard and fundamental theory in chemical thermodynamics and materials science used to describe the free energy of mixing in solid solutions, including intercalation compounds. The derivation of chemical potential from Gibbs free energy and the relationship between chemical potential and electrode potential are core principles of electrochemistry. The problem is scientifically sound.\n-   **Well-Posedness**: The problem provides a specific functional form for the free energy, clear definitions, and a well-defined reference state. It asks for the derivation of two specific physical quantities, $\\mu(c)$ and $V_{\\mathrm{eq}}(c)$. All necessary information is provided, and the problem structure leads to a unique analytical solution.\n-   **Objectivity**: The problem is stated using precise, objective, and standard scientific language. It is free from any subjective or ambiguous terminology.\n\n**1.3. Verdict and Action**\n\nThe problem is valid as it is scientifically grounded, well-posed, and objective. It does not violate any of the invalidity criteria. We may proceed to the solution.\n\n### Step 2: Solution Derivation\n\n**2.1. Derivation of the Chemical Potential, $\\mu(c)$**\n\nThe problem asks for the lithium chemical potential $\\mu(c)$ associated with the molar Gibbs free energy $g(c)$. In the context of an intercalation solid, where lithium atoms occupy sites on a fixed lattice, the relevant chemical potential is the \"insertion potential.\" This is the change in the total Gibbs free energy, $G$, of the system when one mole of lithium is inserted, which corresponds to filling one mole of vacant sites.\n\nLet $N$ be the total number of moles of intercalation sites. The total Gibbs free energy of the system is $G = N \\cdot g(c)$. The fractional occupancy is $c = n_{\\mathrm{Li}} / N$, where $n_{\\mathrm{Li}}$ is the number of moles of lithium in the solid.\n\nThe chemical potential for the intercalation process is defined as the partial derivative of the total Gibbs free energy $G$ with respect to the number of moles of lithium $n_{\\mathrm{Li}}$, while keeping the total number of sites $N$ constant (along with temperature $T$ and pressure $P$).\n$$\n\\mu(c) = \\left( \\frac{\\partial G}{\\partial n_{\\mathrm{Li}}} \\right)_{T,P,N}\n$$\nWe can apply the chain rule:\n$$\n\\mu(c) = \\frac{\\partial}{\\partial n_{\\mathrm{Li}}} \\left[ N \\cdot g(c) \\right] = N \\frac{dg(c)}{dc} \\frac{\\partial c}{\\partial n_{\\mathrm{Li}}}\n$$\nSince $c = n_{\\mathrm{Li}} / N$, the derivative $\\frac{\\partial c}{\\partial n_{\\mathrm{Li}}}$ is equal to $1/N$. Substituting this into the expression for $\\mu(c)$:\n$$\n\\mu(c) = N \\frac{dg}{dc} \\frac{1}{N} = \\frac{dg}{dc}\n$$\nThus, the chemical potential is the first derivative of the molar Gibbs free energy with respect to the composition $c$. Now we compute this derivative from the given expression for $g(c)$:\n$$\ng(c) = R T \\left[c \\ln c + (1-c)\\ln(1-c)\\right] + \\Omega c(1-c)\n$$\nDifferentiating with respect to $c$:\n$$\n\\frac{dg}{dc} = \\frac{d}{dc} \\left( R T \\left[c \\ln c + (1-c)\\ln(1-c)\\right] + \\Omega [c - c^2] \\right)\n$$\n$$\n\\frac{dg}{dc} = R T \\left[ \\left(1 \\cdot \\ln c + c \\cdot \\frac{1}{c}\\right) + \\left(-1 \\cdot \\ln(1-c) + (1-c) \\cdot \\frac{-1}{1-c}\\right) \\right] + \\Omega (1 - 2c)\n$$\n$$\n\\frac{dg}{dc} = R T \\left[ \\ln c + 1 - \\ln(1-c) - 1 \\right] + \\Omega (1 - 2c)\n$$\n$$\n\\frac{dg}{dc} = R T \\left[ \\ln c - \\ln(1-c) \\right] + \\Omega (1 - 2c)\n$$\nThis gives the final expression for the chemical potential:\n$$\n\\mu(c) = R T \\ln\\left(\\frac{c}{1-c}\\right) + \\Omega (1 - 2c)\n$$\nThis expression is in joules per mole, as required.\n\n**2.2. Derivation of the Equilibrium Voltage, $V_{\\mathrm{eq}}(c)$**\n\nThe open-circuit equilibrium voltage, $V_{\\mathrm{eq}}(c)$, of an electrode is the difference in its electric potential, $\\phi_{\\mathrm{solid}}$, and the electric potential of a reference electrode, $\\phi_{\\mathrm{ref}}$.\n$$\nV_{\\mathrm{eq}} = \\phi_{\\mathrm{solid}} - \\phi_{\\mathrm{ref}}\n$$\nAt equilibrium, the electrochemical potential, $\\tilde{\\mu}_i = \\mu_i + z_i F \\phi$, of all species involved in the electrode reactions are balanced. For the intercalation electrode reaction $\\mathrm{Li}^{+} + e^{-} \\rightleftharpoons \\mathrm{Li}(\\text{solid})$, we have:\n$$\n\\tilde{\\mu}_{\\mathrm{Li}^{+}}^{\\mathrm{electrolyte}} + \\tilde{\\mu}_{e^{-}}^{\\mathrm{solid}} = \\tilde{\\mu}_{\\mathrm{Li}}^{\\mathrm{solid}}\n$$\nSubstituting the expressions for electrochemical potential:\n$$\n\\left( \\mu_{\\mathrm{Li}^{+}}^{\\mathrm{electrolyte}} + F\\phi_{\\mathrm{electrolyte}} \\right) + \\left( \\mu_{e^{-}}^{\\mathrm{solid}} - F\\phi_{\\mathrm{solid}} \\right) = \\mu_{\\mathrm{Li}}^{\\mathrm{solid}}(c)\n$$\nRearranging to solve for the electrode potential $\\phi_{\\mathrm{solid}}$:\n$$\n-F\\phi_{\\mathrm{solid}} = \\mu_{\\mathrm{Li}}^{\\mathrm{solid}}(c) - \\mu_{\\mathrm{Li}^{+}}^{\\mathrm{electrolyte}} - \\mu_{e^{-}}^{\\mathrm{solid}} - F\\phi_{\\mathrm{electrolyte}}\n$$\nThe problem specifies a lithium metal reference electrode, $\\mathrm{Li}/\\mathrm{Li}^{+}$, for which the reaction is $\\mathrm{Li}^{+} + e^{-} \\rightleftharpoons \\mathrm{Li}(\\text{metal})$. At equilibrium, we have a similar balance:\n$$\n\\tilde{\\mu}_{\\mathrm{Li}^{+}}^{\\mathrm{electrolyte}} + \\tilde{\\mu}_{e^{-}}^{\\mathrm{ref}} = \\tilde{\\mu}_{\\mathrm{Li}}^{\\mathrm{metal}}\n$$\n$$\n\\left( \\mu_{\\mathrm{Li}^{+}}^{\\mathrm{electrolyte}} + F\\phi_{\\mathrm{electrolyte}} \\right) + \\left( \\mu_{e^{-}}^{\\mathrm{ref}} - F\\phi_{\\mathrm{ref}} \\right) = \\mu_{\\mathrm{Li}}^{\\mathrm{metal}}\n$$\nHere, $\\mu_{\\mathrm{Li}}^{\\mathrm{metal}}$ is the chemical potential of lithium in the metal reference, as given in the problem. Rearranging for the reference potential $\\phi_{\\mathrm{ref}}$:\n$$\n-F\\phi_{\\mathrm{ref}} = \\mu_{\\mathrm{Li}}^{\\mathrm{metal}} - \\mu_{\\mathrm{Li}^{+}}^{\\mathrm{electrolyte}} - \\mu_{e^{-}}^{\\mathrm{ref}} - F\\phi_{\\mathrm{electrolyte}}\n$$\nTo find the voltage $V_{\\mathrm{eq}} = \\phi_{\\mathrm{solid}} - \\phi_{\\mathrm{ref}}$, we subtract the two rearranged equations:\n$$\n-F(\\phi_{\\mathrm{solid}} - \\phi_{\\mathrm{ref}}) = (\\mu_{\\mathrm{Li}}^{\\mathrm{solid}}(c) - \\mu_{\\mathrm{Li^{+}}}^{\\mathrm{electrolyte}} - \\mu_{e^{-}}^{\\mathrm{solid}}) - (\\mu_{\\mathrm{Li}}^{\\mathrm{metal}} - \\mu_{\\mathrm{Li^{+}}}^{\\mathrm{electrolyte}} - \\mu_{e^{-}}^{\\mathrm{ref}})\n$$\n$$\n-FV_{\\mathrm{eq}} = \\mu_{\\mathrm{Li}}^{\\mathrm{solid}}(c) - \\mu_{\\mathrm{Li}}^{\\mathrm{metal}} - (\\mu_{e^{-}}^{\\mathrm{solid}} - \\mu_{e^{-}}^{\\mathrm{ref}})\n$$\nAt open-circuit, there is no net current flow between the electrode and the reference. This implies that they are in electronic equilibrium, so the chemical potential of electrons (the Fermi level) is equal in both: $\\mu_{e^{-}}^{\\mathrm{solid}} = \\mu_{e^{-}}^{\\mathrm{ref}}$. Therefore, the term $(\\mu_{e^{-}}^{\\mathrm{solid}} - \\mu_{e^{-}}^{\\mathrm{ref}})$ is zero. The equation simplifies to:\n$$\n-FV_{\\mathrm{eq}}(c) = \\mu_{\\mathrm{Li}}^{\\mathrm{solid}}(c) - \\mu_{\\mathrm{Li}}^{\\mathrm{metal}}\n$$\nThe chemical potential of lithium in the solid, $\\mu_{\\mathrm{Li}}^{\\mathrm{solid}}(c)$, is the quantity we derived in the first part, $\\mu(c)$.\n$$\nV_{\\mathrm{eq}}(c) = -\\frac{\\mu(c) - \\mu_{\\mathrm{Li}}^{\\mathrm{metal}}}{F}\n$$\nSubstituting the expression for $\\mu(c)$:\n$$\nV_{\\mathrm{eq}}(c) = -\\frac{1}{F} \\left[ R T \\ln\\left(\\frac{c}{1-c}\\right) + \\Omega (1 - 2c) - \\mu_{\\mathrm{Li}}^{\\mathrm{metal}} \\right]\n$$\nThis is the final expression for the equilibrium voltage in volts. The problem requests symbolic expressions for both $\\mu(c)$ and $V_{\\mathrm{eq}}(c)$. We will report both in a row matrix.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\nR T \\ln\\left(\\frac{c}{1-c}\\right) + \\Omega (1 - 2c)  -\\frac{1}{F}\\left(R T \\ln\\left(\\frac{c}{1-c}\\right) + \\Omega(1 - 2c) - \\mu_{\\mathrm{Li}}^{\\mathrm{metal}}\\right)\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "While thermodynamics sets the cell's potential, its power capability is governed by kinetics and transport, especially at the electrode-electrolyte interface. This exercise  delves into modeling the dynamic response of this interface. You will linearize the Butler-Volmer equation and construct an equivalent circuit to derive the complex impedance, providing the theoretical underpinnings for interpreting Electrochemical Impedance Spectroscopy (EIS) data—a workhorse technique for battery characterization.",
            "id": "3950676",
            "problem": "A planar working electrode is in intimate contact with a homogeneous solid electrolyte of thickness $L$ and ionic conductivity $\\kappa_{i}$. The geometric area of the electrode–electrolyte interface is $A$. The interfacial redox reaction at the working electrode follows Butler–Volmer kinetics with exchange current density $j_{0}$ (defined per geometric area), charge-transfer symmetry factor $\\alpha$ with $0  \\alpha  1$, temperature $T$, universal gas constant $R$, and Faraday constant $F$. The same interface also exhibits a double-layer (interfacial) capacitance per geometric area $C_{dl}$. The counter electrode at the far side of the electrolyte is non-polarizable (negligible interfacial impedance). Mass transport in the electrolyte is purely migrational and described by Ohm’s law, and any concentration gradients or chemical capacitances can be neglected. The electrolyte’s conductivity is frequency independent in the range of interest.\n\nA small sinusoidal current perturbation at angular frequency $\\omega$ is applied to the working electrode under zero direct-current bias, and the resulting voltage response between the working electrode metal and the counter electrode metal is measured, as in Electrochemical Impedance Spectroscopy (EIS).\n\nStarting from first principles appropriate for this system, namely:\n- Butler–Volmer kinetics for the faradaic current density $j$ as a function of overpotential $\\eta$ at the working electrode,\n- the definition of the double-layer current density as the time derivative of the interfacial charge, and\n- Ohm’s law for ionic conduction through the electrolyte,\n\nderive, under the small-signal (linear) approximation about zero overpotential, the closed-form expression for the total complex impedance $Z(\\omega)$ measured between the working electrode metal and the counter electrode metal. Express $Z(\\omega)$ in terms of $R$, $T$, $F$, $j_{0}$, $C_{dl}$, $\\kappa_{i}$, $L$, $A$, and $\\omega$. Provide the final answer as a single closed-form analytic expression. Do not include units in the final expression. No numerical evaluation is required.",
            "solution": "The problem statement has been critically validated and is deemed to be scientifically grounded, well-posed, objective, and internally consistent. It describes a standard electrochemical system for which impedance is to be calculated, a classic problem in physical electrochemistry. All provided parameters are physically meaningful and sufficient for the derivation, with one minor ambiguity. The Butler-Volmer equation's dependence on the number of electrons transferred, $n$, is not explicitly stated. However, the request to express the final answer solely in terms of the given variables ($R$, $T$, $F$, etc.) strongly implies that $n$ should not appear. This is satisfied by making the common assumption that $n=1$, which we will adopt for this derivation. Therefore, the problem is considered valid and a solution will be provided.\n\nThe total complex impedance, $Z(\\omega)$, measured between the working electrode and the non-polarizable counter electrode is the series combination of the impedance of the solid electrolyte, $Z_{el}$, and the impedance of the working electrode-electrolyte interface, $Z_{int}$. The negligible impedance of the counter electrode means it does not contribute to the total impedance.\n$$\nZ(\\omega) = Z_{el} + Z_{int}\n$$\n\nFirst, we derive the expression for the electrolyte impedance, $Z_{el}$. The problem states that mass transport in the electrolyte is purely migrational and described by Ohm's law. For a homogeneous conductor of uniform cross-sectional area $A$, thickness $L$, and ionic conductivity $\\kappa_i$, the resistance is given by:\n$$\nR_{el} = \\frac{L}{\\kappa_i A}\n$$\nSince the electrolyte's conductivity is given as frequency-independent, its impedance is purely real and equal to this resistance.\n$$\nZ_{el} = R_{el} = \\frac{L}{\\kappa_i A}\n$$\n\nNext, we derive the expression for the interfacial impedance, $Z_{int}$. At the electrode-electrolyte interface, the total current can flow through two parallel pathways: the faradaic reaction (charge transfer) and the charging/discharging of the electrochemical double layer. Therefore, the interfacial impedance is the result of a parallel combination of the charge-transfer impedance, $Z_{ct}$, and the double-layer capacitance impedance, $Z_{dl}$.\nThe total interfacial admittance, $Y_{int}$, is the sum of the individual admittances:\n$$\nY_{int} = Y_{ct} + Y_{dl} = \\frac{1}{Z_{ct}} + \\frac{1}{Z_{dl}}\n$$\nThe interfacial impedance is the reciprocal of the total interfacial admittance:\n$$\nZ_{int} = \\frac{1}{Y_{int}} = \\left( \\frac{1}{Z_{ct}} + \\frac{1}{Z_{dl}} \\right)^{-1}\n$$\n\nLet's determine the individual impedance components, $Z_{ct}$ and $Z_{dl}$.\n\nThe charge-transfer process is described by Butler-Volmer kinetics. The faradaic current density, $j_f$, is a function of the overpotential $\\eta$:\n$$\nj_f = j_{0} \\left[ \\exp\\left(\\frac{(1-\\alpha)nF\\eta}{RT}\\right) - \\exp\\left(-\\frac{\\alpha nF\\eta}{RT}\\right) \\right]\n$$\nwhere $n$ is the number of electrons transferred in the elementary reaction step. The problem requires a small-signal (linear) approximation about zero overpotential ($\\eta \\to 0$). In this limit, the faradaic process behaves as a pure resistor, known as the charge-transfer resistance, $R_{ct}$. The impedance $Z_{ct}$ is thus purely real, $Z_{ct} = R_{ct}$. The value of $R_{ct}$ is related to the total faradaic current $I_f = j_f A$ by $R_{ct} = \\left(\\frac{dI_f}{d\\eta}\\right)^{-1}|_{\\eta=0}$.\nFirst, we find the derivative of the current density with respect to overpotential:\n$$\n\\frac{dj_f}{d\\eta} = j_{0} \\left[ \\frac{(1-\\alpha)nF}{RT}\\exp\\left(\\frac{(1-\\alpha)nF\\eta}{RT}\\right) + \\frac{\\alpha nF}{RT}\\exp\\left(-\\frac{\\alpha nF\\eta}{RT}\\right) \\right]\n$$\nEvaluating this at zero overpotential, $\\eta=0$:\n$$\n\\frac{dj_f}{d\\eta}\\bigg|_{\\eta=0} = j_{0} \\left( \\frac{(1-\\alpha)nF}{RT} + \\frac{\\alpha nF}{RT} \\right) = j_{0} \\frac{nF}{RT}\n$$\nThe \"charge-transfer conductance\" per unit area is $g'_{ct} = \\frac{j_0 nF}{RT}$. The total charge-transfer resistance $R_{ct}$ for an electrode of area $A$ is:\n$$\nR_{ct} = \\frac{1}{A g'_{ct}} = \\frac{RT}{nFAj_0}\n$$\nAs established during validation, we assume $n=1$:\n$$\nZ_{ct} = R_{ct} = \\frac{RT}{FAj_0}\n$$\n\nThe double-layer acts as a capacitor. The problem gives the double-layer capacitance per geometric area as $C_{dl}$. For an electrode of area $A$, the total double-layer capacitance is $C_{dl, total} = C_{dl} A$. The impedance of a capacitor with capacitance $C$ at angular frequency $\\omega$ is given by $Z_C = \\frac{1}{i\\omega C}$, where $i$ is the imaginary unit ($i^2 = -1$).\nTherefore, the double-layer impedance is:\n$$\nZ_{dl} = \\frac{1}{i\\omega C_{dl, total}} = \\frac{1}{i\\omega C_{dl} A}\n$$\n\nNow we can calculate the total interfacial impedance $Z_{int}$ by combining $Z_{ct}$ and $Z_{dl}$ in parallel:\n$$\nZ_{int} = \\left( \\frac{1}{Z_{ct}} + \\frac{1}{Z_{dl}} \\right)^{-1} = \\left( \\frac{1}{R_{ct}} + i\\omega C_{dl} A \\right)^{-1}\n$$\n$$\nZ_{int} = \\frac{R_{ct}}{1 + i\\omega R_{ct} C_{dl} A}\n$$\nSubstituting the expression for $R_{ct}$:\n$$\nZ_{int} = \\frac{\\frac{RT}{FAj_0}}{1 + i\\omega \\left(\\frac{RT}{FAj_0}\\right) C_{dl} A} = \\frac{\\frac{RT}{FAj_0}}{1 + i\\omega \\frac{RTC_{dl}}{Fj_0}}\n$$\nNote that the area $A$ appears in the numerator of the right-hand term in the denominator (from $C_{dl,total}$) and in the denominator of the left-hand term (from $R_{ct}$), thus cancelling out in the time constant $\\tau = R_{ct}C_{dl,total} = \\frac{RTC_{dl}}{Fj_0}$.\n\nFinally, the total complex impedance $Z(\\omega)$ is the sum of the electrolyte resistance and the interfacial impedance:\n$$\nZ(\\omega) = Z_{el} + Z_{int} = \\frac{L}{\\kappa_i A} + \\frac{\\frac{RT}{FAj_0}}{1 + i\\omega \\frac{RTC_{dl}}{Fj_0}}\n$$\nThis is the closed-form expression for the total complex impedance of the described electrochemical cell under the given conditions. All variables in the expression ($R$, $T$, $F$, $j_{0}$, $C_{dl}$, $\\kappa_{i}$, $L$, $A$, and $\\omega$) are those specified in the problem statement. The charge-transfer symmetry factor $\\alpha$ does not appear in the final linearized expression, which is a correct result for the impedance at zero DC bias.",
            "answer": "$$\\boxed{\\frac{L}{\\kappa_{i} A} + \\frac{\\frac{RT}{FAj_{0}}}{1 + i \\omega \\frac{RT C_{dl}}{F j_{0}}}}$$"
        },
        {
            "introduction": "Idealized models often assume uniform interfaces, but reality in solid-state batteries is far more complex. This final practice  introduces the critical issue of interfacial heterogeneity, a key factor limiting SSB performance and lifetime. Through a numerical simulation, you will apply the Butler-Volmer model to a non-uniform interface to predict how spatial variations in local properties can lead to current 'hotspots,' demonstrating a powerful computational approach to understanding and mitigating degradation mechanisms.",
            "id": "3950652",
            "problem": "You are modeling a Solid-State Battery (SSB) interfacial contact where the interfacial current density varies spatially due to heterogeneous local exchange current density and overpotential. Starting from fundamental reaction kinetics and thermodynamics, derive a physically consistent expression for the local interfacial current density $j(x)$ as a function of the exchange current density $j_0(x)$ and the interfacial overpotential $\\eta(x)$ using a charge-transfer model that respects detailed balance and thermal activation at temperature $T$. You may assume a symmetric electron transfer with anodic and cathodic transfer coefficients, a single-step rate-limiting reaction, and constant temperature. Then, enforce global charge conservation by finding a uniform scalar adjustment $\\Delta$ to the interfacial overpotential such that the spatial average of $j(x)$ along the contact equals a specified applied average current density $J_{\\mathrm{app}}$, that is, solve for $\\Delta$ satisfying\n$$\n\\frac{1}{L}\\int_{0}^{L} j\\!\\left(x;\\,\\Delta\\right)\\,dx = J_{\\mathrm{app}}.\n$$\nAfter determining $\\Delta$, compute the heterogeneity metric\n$$\nr = \\frac{\\max_{x \\in [0,L]} j\\!\\left(x;\\,\\Delta\\right)}{\\frac{1}{L}\\int_{0}^{L} j\\!\\left(x;\\,\\Delta\\right)\\,dx},\n$$\nwhich quantifies the peak-to-mean amplification of interfacial current density due to spatial heterogeneity.\n\nModeling assumptions and inputs:\n- Use the Butler-Volmer (BV) kinetics derived from fundamental reaction-rate theory with anodic transfer coefficient $\\alpha_a$ and cathodic transfer coefficient $\\alpha_c$, Faraday constant $F$, and universal gas constant $R$. The temperature is $T$. The BV kinetics must be derived as part of your solution and must not be assumed without justification.\n- The spatial domain is one-dimensional and defined on $[0,L]$ with $L$ in meters. Discretize the domain uniformly with $N$ points and approximate the spatial average by a uniform average over the grid points.\n- The interfacial overpotential used in the kinetics is $\\eta_{\\mathrm{bare}}(x) + \\Delta$, where $\\eta_{\\mathrm{bare}}(x)$ is a prescribed spatially varying base overpotential and $\\Delta$ is the unknown uniform shift determined by the global charge conservation condition.\n- Physical constants: Faraday constant $F$ in $\\mathrm{C/mol}$ and universal gas constant $R$ in $\\mathrm{J/(mol\\cdot K)}$ must be used consistently.\n- Units: Express the final reported uniform overpotential shift $\\Delta$ in volts (V). The heterogeneity metric $r$ is dimensionless and must be reported as a decimal number. The interfacial current density $j(x)$ is in $\\mathrm{A/m^2}$.\n\nNumerical discretization requirements:\n- Use $N$ uniformly spaced points on $[0,L]$ with $N = 400$.\n- Use $L = 10^{-3}$ meters.\n- Use $T = 298$ kelvin.\n- Use $\\alpha_a = 0.5$ and $\\alpha_c = 0.5$.\n- Use $F = 96485.33212$ $\\mathrm{C/mol}$ and $R = 8.314462618$ $\\mathrm{J/(mol\\cdot K)}$.\n\nTest suite:\nFor each case, compute $j(x)$, determine $\\Delta$ such that the spatially averaged $j(x)$ equals $J_{\\mathrm{app}}$, and compute $r$.\n- Case $1$ (uniform contact, baseline):\n  - $j_0(x) = 10$ $\\mathrm{A/m^2}$,\n  - $\\eta_{\\mathrm{bare}}(x) = 0.02$ $\\mathrm{V}$,\n  - $J_{\\mathrm{app}} = 5$ $\\mathrm{A/m^2}$.\n- Case $2$ (sinusoidal heterogeneity in contact quality and microstructure-driven overpotential variation):\n  - $j_0(x) = 15\\left(1 + 0.4\\sin\\left(\\frac{2\\pi x}{L}\\right)\\right)$ $\\mathrm{A/m^2}$,\n  - $\\eta_{\\mathrm{bare}}(x) = 0.01 + 0.025\\cos\\left(\\frac{2\\pi x}{L}\\right)$ $\\mathrm{V}$,\n  - $J_{\\mathrm{app}} = 8$ $\\mathrm{A/m^2}$.\n- Case $3$ (localized hotspot in exchange current density with net cathodic operation):\n  - $j_0(x) = 5\\left(1 + 0.7\\exp\\left(-\\frac{(x - 0.7L)^2}{2(0.05L)^2}\\right)\\right)$ $\\mathrm{A/m^2}$,\n  - $\\eta_{\\mathrm{bare}}(x) = -0.03 + 0.02\\sin\\left(\\frac{4\\pi x}{L}\\right)$ $\\mathrm{V}$,\n  - $J_{\\mathrm{app}} = -3$ $\\mathrm{A/m^2}$.\n\nAnswer specification:\n- Your program must compute $\\Delta$ and $r$ for each case using the above definitions and assumptions.\n- Final output format: Produce a single line of output containing a comma-separated list enclosed in square brackets with the two results per case concatenated in order, that is, $[\\Delta_1, r_1, \\Delta_2, r_2, \\Delta_3, r_3]$, where each $\\Delta_i$ is in volts (V) and each $r_i$ is dimensionless.",
            "solution": "The theoretical foundation for the interfacial current density is derived from the principles of chemical kinetics and electrochemistry, specifically the transition state theory applied to an electrochemical reaction. We consider a single-step, single-electron transfer reaction at the electrode-electrolyte interface:\n$$\n\\mathrm{Red} \\rightleftharpoons \\mathrm{Ox} + e^-\n$$\nwhere $\\mathrm{Red}$ is the reduced species and $\\mathrm{Ox}$ is the oxidized species.\n\nThe rates of the forward (anodic, oxidation) and backward (cathodic, reduction) reactions, denoted $v_a$ and $v_c$, are described by an Arrhenius-type expression. The rate depends on the concentration of reactants and an activation energy barrier, $\\Delta G^\\ddagger$. According to transition state theory, the rate constant $k$ is given by $k = A\\exp(-\\Delta G^\\ddagger / (RT))$, where $R$ is the universal gas constant and $T$ is the absolute temperature.\n\nIn an electrochemical system, the activation energy barrier is modulated by the electrode potential, $E$. The difference between the electrode potential and its equilibrium value, $E_{eq}$, is the overpotential, $\\eta = E - E_{eq}$. This overpotential contributes an electrical energy term, $F\\eta$ per mole of electrons, to the Gibbs free energy change of the reaction. This electrical energy alters the activation barriers for the anodic and cathodic processes. The effect is partitioned by the transfer coefficients, $\\alpha_a$ for the anodic process and $\\alpha_c$ for the cathodic process, which represent the fraction of the overpotential that aids or hinders each reaction. For a single elementary step, it is assumed that $\\alpha_a + \\alpha_c = 1$. The problem specifies $\\alpha_a = 0.5$ and $\\alpha_c = 0.5$.\n\nThe activation barrier for the anodic reaction, $\\Delta G_a^\\ddagger$, is lowered by the overpotential, while the barrier for the cathodic reaction, $\\Delta G_c^\\ddagger$, is raised:\n$$\n\\Delta G_a^\\ddagger(\\eta) = \\Delta G_{a, eq}^\\ddagger - \\alpha_a F \\eta\n$$\n$$\n\\Delta G_c^\\ddagger(\\eta) = \\Delta G_{c, eq}^\\ddagger + \\alpha_c F \\eta\n$$\nHere, $\\Delta G_{eq}^\\ddagger$ represents the activation barriers at equilibrium ($\\eta=0$).\n\nThe anodic and cathodic reaction rates are thus:\n$$\nv_a = k_a^0 \\exp\\left(\\frac{\\alpha_a F \\eta}{RT}\\right)\n$$\n$$\nv_c = k_c^0 \\exp\\left(-\\frac{\\alpha_c F \\eta}{RT}\\right)\n$$\nwhere $k_a^0$ and $k_c^0$ are rate constants at equilibrium, which include reactant concentrations and the exponential term involving the equilibrium activation barrier.\n\nThe net current density, $j$, is the difference between the anodic current density, $j_a = F v_a$, and the cathodic current density, $j_c = F v_c$:\n$$\nj = j_a - j_c = F k_a^0 \\exp\\left(\\frac{\\alpha_a F \\eta}{RT}\\right) - F k_c^0 \\exp\\left(-\\frac{\\alpha_c F \\eta}{RT}\\right)\n$$\nAt equilibrium ($\\eta=0$), the net current is zero, so $j_a = j_c$. This common rate is known as the exchange current density, $j_0$:\n$$\nj_0 = F k_a^0 = F k_c^0\n$$\nThis relationship stems from the principle of detailed balance. Substituting $j_0$ back into the expression for the net current density yields the Butler-Volmer equation:\n$$\nj(\\eta) = j_0 \\left[ \\exp\\left(\\frac{\\alpha_a F \\eta}{RT}\\right) - \\exp\\left(-\\frac{\\alpha_c F \\eta}{RT}\\right) \\right]\n$$\nThis equation provides a physically consistent model for the local interfacial current density as a function of the local exchange current density $j_0$ and the local overpotential $\\eta$.\n\nIn this problem, the interface is heterogeneous. Both the exchange current density, $j_0(x)$, and a base overpotential, $\\eta_{\\mathrm{bare}}(x)$, vary spatially along the coordinate $x \\in [0, L]$. A uniform scalar adjustment, $\\Delta$, is applied to the entire interface to satisfy a global current demand. The total local overpotential is therefore $\\eta_{total}(x) = \\eta_{\\mathrm{bare}}(x) + \\Delta$. The local current density is:\n$$\nj(x; \\Delta) = j_0(x) \\left[ \\exp\\left(\\frac{\\alpha_a F (\\eta_{\\mathrm{bare}}(x) + \\Delta)}{RT}\\right) - \\exp\\left(-\\frac{\\alpha_c F (\\eta_{\\mathrm{bare}}(x) + \\Delta)}{RT}\\right) \\right]\n$$\nThe value of $\\Delta$ is determined by enforcing the global charge conservation condition, which states that the spatially averaged current density must equal the applied average current density, $J_{\\mathrm{app}}$:\n$$\n\\frac{1}{L}\\int_{0}^{L} j(x; \\Delta)\\,dx = J_{\\mathrm{app}}\n$$\nTo solve this problem numerically, we discretize the spatial domain $[0, L]$ into $N=400$ uniformly spaced points, $x_i$, for $i \\in \\{0, 1, \\dots, N-1\\}$. The integral is approximated by a simple average over these points:\n$$\n\\frac{1}{N}\\sum_{i=0}^{N-1} j(x_i; \\Delta) = J_{\\mathrm{app}}\n$$\nThis can be rewritten as a root-finding problem for the unknown $\\Delta$:\n$$\nG(\\Delta) = \\left( \\frac{1}{N}\\sum_{i=0}^{N-1} j(x_i; \\Delta) \\right) - J_{\\mathrm{app}} = 0\n$$\nThe function $G(\\Delta)$ is monotonically increasing with respect to $\\Delta$ because each term $j(x_i; \\Delta)$ is a monotonically increasing function of $\\Delta$ (since $j_0(x)0$, and the exponential terms ensure a positive derivative). This guarantees that a unique solution for $\\Delta$ exists for any given $J_{\\mathrm{app}}$, and it can be found efficiently using a numerical root-finding algorithm like the bisection or Brent's method.\n\nAfter solving for $\\Delta$, we compute the final local current density profile $j(x_i; \\Delta)$. The heterogeneity metric, $r$, is then calculated as the ratio of the peak local current density to the mean current density:\n$$\nr = \\frac{\\max_{i} j(x_i; \\Delta)}{\\frac{1}{N}\\sum_{i=0}^{N-1} j(x_i; \\Delta)} = \\frac{\\max_{i} j(x_i; \\Delta)}{J_{\\mathrm{app}}}\n$$\nThe denominator simplifies to $J_{\\mathrm{app}}$ by the definition of how $\\Delta$ is calculated.\n\nThe numerical implementation will proceed by defining the spatially varying functions $j_0(x)$ and $\\eta_{\\mathrm{bare}}(x)$ for each test case, setting up the function $G(\\Delta)$, and solving for $\\Delta$ using a numerical solver. The physical constants are $F = 96485.33212 \\, \\mathrm{C/mol}$, $R = 8.314462618 \\, \\mathrm{J/(mol\\cdot K)}$, $T = 298 \\, \\mathrm{K}$. The model parameters are $L = 10^{-3} \\, \\mathrm{m}$, $N = 400$, $\\alpha_a = 0.5$, and $\\alpha_c = 0.5$.",
            "answer": "```python\nimport numpy as np\nfrom scipy.optimize import root_scalar\n\ndef solve():\n    \"\"\"\n    Solves for the overpotential shift and heterogeneity metric for given\n    solid-state battery interface models.\n    \"\"\"\n\n    # Physical and numerical constants\n    F = 96485.33212  # Faraday constant in C/mol\n    R = 8.314462618  # Universal gas constant in J/(mol.K)\n    T = 298.0         # Temperature in K\n    L = 1e-3          # Domain length in m\n    N = 400           # Number of discretization points\n    alpha_a = 0.5     # Anodic transfer coefficient\n    alpha_c = 0.5     # Cathodic transfer coefficient\n    \n    # Thermal voltage multiplied by transfer coefficients\n    V_T_a = (alpha_a * F) / (R * T)\n    V_T_c = (alpha_c * F) / (R * T)\n\n    # Define the spatial grid\n    x = np.linspace(0, L, N)\n\n    # Test cases\n    test_cases = [\n        # Case 1: Uniform contact\n        {\n            \"j0_func\": lambda x, L: np.full_like(x, 10.0),\n            \"eta_bare_func\": lambda x, L: np.full_like(x, 0.02),\n            \"J_app\": 5.0\n        },\n        # Case 2: Sinusoidal heterogeneity\n        {\n            \"j0_func\": lambda x, L: 15.0 * (1.0 + 0.4 * np.sin(2.0 * np.pi * x / L)),\n            \"eta_bare_func\": lambda x, L: 0.01 + 0.025 * np.cos(2.0 * np.pi * x / L),\n            \"J_app\": 8.0\n        },\n        # Case 3: Localized hotspot\n        {\n            \"j0_func\": lambda x, L: 5.0 * (1.0 + 0.7 * np.exp(-((x - 0.7 * L)**2) / (2.0 * (0.05 * L)**2))),\n            \"eta_bare_func\": lambda x, L: -0.03 + 0.02 * np.sin(4.0 * np.pi * x / L),\n            \"J_app\": -3.0\n        }\n    ]\n\n    results = []\n\n    for case in test_cases:\n        j0_func = case[\"j0_func\"]\n        eta_bare_func = case[\"eta_bare_func\"]\n        J_app = case[\"J_app\"]\n\n        # Evaluate spatially-varying properties on the grid\n        j0_vals = j0_func(x, L)\n        eta_bare_vals = eta_bare_func(x, L)\n\n        def objective_func(delta):\n            \"\"\"\n            Function G(delta) = avg(j) - J_app, which we want to find the root of.\n            \"\"\"\n            eta_total = eta_bare_vals + delta\n            \n            # Butler-Volmer equation\n            j_local = j0_vals * (np.exp(V_T_a * eta_total) - np.exp(-V_T_c * eta_total))\n            \n            avg_j = np.mean(j_local)\n            \n            return avg_j - J_app\n\n        # Solve for the overpotential shift delta\n        # A wide bracket ensures the root is found, given the monotonic nature of the objective function.\n        sol = root_scalar(objective_func, bracket=[-1.0, 1.0], method='brentq')\n        delta_sol = sol.root\n\n        # Calculate final current density profile with the found delta\n        eta_total_final = eta_bare_vals + delta_sol\n        j_final = j0_vals * (np.exp(V_T_a * eta_total_final) - np.exp(-V_T_c * eta_total_final))\n        \n        # Calculate the heterogeneity metric r\n        # The denominator is J_app by construction of the problem.\n        r = np.max(j_final) / J_app\n        \n        results.append(delta_sol)\n        results.append(r)\n\n    # Format and print the final output\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n\n```"
        }
    ]
}