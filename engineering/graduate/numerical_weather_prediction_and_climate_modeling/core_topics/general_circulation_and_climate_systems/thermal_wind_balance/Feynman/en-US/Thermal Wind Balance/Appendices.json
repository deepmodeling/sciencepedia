{
    "hands_on_practices": [
        {
            "introduction": "This first exercise provides a fundamental, quantitative test of the thermal wind relationship in a familiar atmospheric context. By deriving the connection between the geostrophic wind shear and the horizontal temperature gradient from first principles, you will solidify your understanding of how hydrostatic and geostrophic balances combine. The calculation, based on a typical midlatitude synoptic scenario, demonstrates the power of this principle in explaining the existence of phenomena like the jet stream. ",
            "id": "4104319",
            "problem": "Consider a midlatitude synoptic situation in which the horizontal mean virtual temperature $T_{v}$ decreases poleward by $\\Delta T = 10\\,\\mathrm{K}$ over a meridional distance $L = 500\\,\\mathrm{km}$, and this meridional temperature gradient is approximately uniform with height across the $1000$–$500\\,\\mathrm{hPa}$ layer. Assume dry-air conditions so that $T_{v} \\approx T$ (virtual temperature equals temperature), and adopt the following constants: the dry-air gas constant $R_{d} = 287\\,\\mathrm{J\\,kg^{-1}\\,K^{-1}}$, gravitational acceleration $g = 9.80665\\,\\mathrm{m\\,s^{-2}}$, Earth’s rotation rate $\\Omega = 7.2921159 \\times 10^{-5}\\,\\mathrm{s^{-1}}$, and latitude $\\phi = 45^{\\circ}$ so that the Coriolis parameter is $f = 2 \\Omega \\sin \\phi$. Using only the hydrostatic relation, the ideal gas law, and geostrophic balance on a rotating Earth, derive from first principles an expression for the $1000$–$500\\,\\mathrm{hPa}$ layer thickness horizontal gradient magnitude $|\\nabla(\\Delta z)|$ and the implied zonal geostrophic wind shear magnitude across the layer $|\\Delta u_{g}|$ for a purely meridional temperature gradient. Then evaluate these magnitudes for the given numerical values.\n\nExpress the thickness gradient magnitude in $\\mathrm{m\\,km^{-1}}$ and the geostrophic wind shear magnitude in $\\mathrm{m\\,s^{-1}}$. Round both values to four significant figures. Provide the final answer as two values in the order $\\left(|\\nabla(\\Delta z)|,\\,|\\Delta u_{g}|\\right)$.",
            "solution": "The problem statement is first validated against the required criteria.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n-   Horizontal mean virtual temperature $T_v$ decreases poleward by $\\Delta T = 10\\,\\mathrm{K}$ over a meridional distance $L = 500\\,\\mathrm{km}$.\n-   The meridional temperature gradient is approximately uniform with height across the $1000$–$500\\,\\mathrm{hPa}$ layer.\n-   Assumption of dry-air conditions: $T_v \\approx T$.\n-   Dry-air gas constant: $R_d = 287\\,\\mathrm{J\\,kg^{-1}\\,K^{-1}}$.\n-   Gravitational acceleration: $g = 9.80665\\,\\mathrm{m\\,s^{-2}}$.\n-   Earth’s rotation rate: $\\Omega = 7.2921159 \\times 10^{-5}\\,\\mathrm{s^{-1}}$.\n-   Latitude: $\\phi = 45^{\\circ}$.\n-   Coriolis parameter: $f = 2 \\Omega \\sin \\phi$.\n-   Governing principles: hydrostatic relation, ideal gas law, and geostrophic balance.\n-   The problem requires a derivation from first principles and numerical evaluation of the layer thickness horizontal gradient magnitude $|\\nabla(\\Delta z)|$ and the zonal geostrophic wind shear magnitude $|\\Delta u_g|$.\n\n**Step 2: Validate Using Extracted Givens**\n-   **Scientifically Grounded**: The problem is fundamentally based on the core principles of atmospheric dynamics: the hydrostatic approximation, the ideal gas law, and geostrophic balance. The combination of these principles leads to the thermal wind relationship, a cornerstone of meteorology. The provided physical scenario (a midlatitude temperature gradient) and constants are realistic and standard.\n-   **Well-Posed**: The problem is clearly defined, asking for the derivation of two specific quantities and their numerical evaluation. The given information is sufficient to determine a unique solution.\n-   **Objective**: The problem is stated in precise, quantitative, and objective scientific language.\n-   **Completeness and Consistency**: All necessary constants, conditions, and assumptions ($R_d, g, \\Omega, \\phi, \\Delta T, L$, the pressure layer, dry air assumption, uniform gradient) are provided. There are no contradictions.\n-   **Other Flaws**: The problem is a standard textbook exercise in atmospheric science. It is not trivial as it requires derivation from first principles, and it is not ill-posed, unrealistic, or unscientific.\n\n**Step 3: Verdict and Action**\nThe problem is valid. A complete solution will be provided.\n\n### Derivation and Solution\n\nThe problem requires the derivation of the layer thickness gradient and the geostrophic wind shear from first principles.\n\n**1. Derivation of the Thickness Gradient Magnitude $|\\nabla(\\Delta z)|$**\n\nThe derivation begins with the hydrostatic relation and the ideal gas law.\nThe hydrostatic relation is given by:\n$$ \\frac{\\mathrm{d}p}{\\mathrm{d}z} = -\\rho g $$\nwhere $p$ is pressure, $z$ is geometric height, $\\rho$ is density, and $g$ is the acceleration due to gravity.\n\nThe ideal gas law for dry air is:\n$$ p = \\rho R_d T $$\nwhere $R_d$ is the gas constant for dry air and $T$ is the temperature (using the problem's assumption that $T_v \\approx T$).\n\nCombining these two equations by eliminating $\\rho = p / (R_d T)$:\n$$ \\frac{\\mathrm{d}p}{\\mathrm{d}z} = -\\frac{p g}{R_d T} $$\nRearranging to express an infinitesimal change in height $\\mathrm{d}z$:\n$$ \\mathrm{d}z = -\\frac{R_d T}{g} \\frac{\\mathrm{d}p}{p} $$\nThe thickness of a layer, $\\Delta z$, between two pressure levels $p_1$ (lower) and $p_2$ (upper) is found by integrating this expression:\n$$ \\Delta z = z_2 - z_1 = \\int_{p_1}^{p_2} -\\frac{R_d T}{g} \\frac{\\mathrm{d}p}{p} = \\int_{p_2}^{p_1} \\frac{R_d T}{g} \\frac{\\mathrm{d}p}{p} $$\nAssuming a layer-mean temperature $\\bar{T}$, which can be taken out of the integral, we obtain the hypsometric equation:\n$$ \\Delta z = \\frac{R_d \\bar{T}}{g} \\ln\\left(\\frac{p_1}{p_2}\\right) $$\nTo find the horizontal gradient of the layer thickness, we apply the horizontal gradient operator $\\nabla_p$ (gradient on a constant pressure surface) to $\\Delta z$. The terms $R_d$, $g$, $p_1$, and $p_2$ are constants.\n$$ \\nabla_p(\\Delta z) = \\nabla_p\\left[ \\frac{R_d}{g} \\ln\\left(\\frac{p_1}{p_2}\\right) \\bar{T} \\right] = \\frac{R_d}{g} \\ln\\left(\\frac{p_1}{p_2}\\right) \\nabla_p \\bar{T} $$\nThe problem states that there is a purely meridional temperature gradient. Let the poleward direction be the $y$-axis. The temperature decreases poleward, so the gradient vector is $\\nabla_p \\bar{T} = \\frac{\\partial \\bar{T}}{\\partial y} \\hat{\\mathbf{j}}$. The magnitude of this gradient is approximated as $|\\frac{\\partial \\bar{T}}{\\partial y}| \\approx \\frac{\\Delta T}{L}$.\nThe magnitude of the thickness gradient is therefore:\n$$ |\\nabla_p(\\Delta z)| = \\frac{R_d}{g} \\ln\\left(\\frac{p_1}{p_2}\\right) \\left| \\frac{\\partial \\bar{T}}{\\partial y} \\right| = \\frac{R_d \\Delta T}{g L} \\ln\\left(\\frac{p_1}{p_2}\\right) $$\n\n**2. Derivation of the Zonal Geostrophic Wind Shear Magnitude $|\\Delta u_g|$**\n\nThe derivation of the thermal wind relationship starts with the geostrophic wind equations on an isobaric surface:\n$$ u_g = -\\frac{g}{f} \\frac{\\partial z}{\\partial y} $$\n$$ v_g = \\frac{g}{f} \\frac{\\partial z}{\\partial x} $$\nwhere $u_g$ and $v_g$ are the zonal (x-direction) and meridional (y-direction) components of the geostrophic wind, and $f$ is the Coriolis parameter.\n\nThe vertical shear of the geostrophic wind is the difference in wind between two vertical levels. This can be expressed as a vector difference $\\Delta \\mathbf{v}_g = \\mathbf{v}_g(p_2) - \\mathbf{v}_g(p_1)$. For the zonal component:\n$$ \\Delta u_g = u_g(p_2) - u_g(p_1) = -\\frac{g}{f} \\left( \\frac{\\partial z_2}{\\partial y} - \\frac{\\partial z_1}{\\partial y} \\right) = -\\frac{g}{f} \\frac{\\partial (z_2 - z_1)}{\\partial y} = -\\frac{g}{f} \\frac{\\partial (\\Delta z)}{\\partial y} $$\nFor the meridional component:\n$$ \\Delta v_g = v_g(p_2) - v_g(p_1) = \\frac{g}{f} \\left( \\frac{\\partial z_2}{\\partial x} - \\frac{\\partial z_1}{\\partial x} \\right) = \\frac{g}{f} \\frac{\\partial (\\Delta z)}{\\partial x} $$\nFrom the hypsometric equation, we have $\\Delta z = \\frac{R_d \\bar{T}}{g} \\ln(p_1/p_2)$. Substituting this into the shear equations:\n$$ \\frac{\\partial (\\Delta z)}{\\partial y} = \\frac{\\partial}{\\partial y} \\left( \\frac{R_d \\bar{T}}{g} \\ln\\left(\\frac{p_1}{p_2}\\right) \\right) = \\frac{R_d}{g} \\ln\\left(\\frac{p_1}{p_2}\\right) \\frac{\\partial \\bar{T}}{\\partial y} $$\n$$ \\frac{\\partial (\\Delta z)}{\\partial x} = \\frac{R_d}{g} \\ln\\left(\\frac{p_1}{p_2}\\right) \\frac{\\partial \\bar{T}}{\\partial x} $$\nSubstituting these into the expressions for $\\Delta u_g$ and $\\Delta v_g$:\n$$ \\Delta u_g = -\\frac{g}{f} \\left( \\frac{R_d}{g} \\ln\\left(\\frac{p_1}{p_2}\\right) \\frac{\\partial \\bar{T}}{\\partial y} \\right) = -\\frac{R_d}{f} \\ln\\left(\\frac{p_1}{p_2}\\right) \\frac{\\partial \\bar{T}}{\\partial y} $$\n$$ \\Delta v_g = \\frac{g}{f} \\left( \\frac{R_d}{g} \\ln\\left(\\frac{p_1}{p_2}\\right) \\frac{\\partial \\bar{T}}{\\partial x} \\right) = \\frac{R_d}{f} \\ln\\left(\\frac{p_1}{p_2}\\right) \\frac{\\partial \\bar{T}}{\\partial x} $$\nThe problem specifies a purely meridional temperature gradient, so $\\frac{\\partial \\bar{T}}{\\partial x} = 0$, which implies $\\Delta v_g = 0$. The wind shear is purely zonal.\nThe magnitude of the zonal geostrophic wind shear is:\n$$ |\\Delta u_g| = \\left| -\\frac{R_d}{f} \\ln\\left(\\frac{p_1}{p_2}\\right) \\frac{\\partial \\bar{T}}{\\partial y} \\right| = \\frac{R_d}{f} \\ln\\left(\\frac{p_1}{p_2}\\right) \\left| \\frac{\\partial \\bar{T}}{\\partial y} \\right| $$\nUsing the approximation $\\left| \\frac{\\partial \\bar{T}}{\\partial y} \\right| \\approx \\frac{\\Delta T}{L}$, we get:\n$$ |\\Delta u_g| = \\frac{R_d \\Delta T}{f L} \\ln\\left(\\frac{p_1}{p_2}\\right) $$\n\n**3. Numerical Evaluation**\n\nThe given values are:\n$R_d = 287\\,\\mathrm{J\\,kg^{-1}\\,K^{-1}}$\n$g = 9.80665\\,\\mathrm{m\\,s^{-2}}$\n$\\Delta T = 10\\,\\mathrm{K}$\n$L = 500\\,\\mathrm{km} = 5 \\times 10^5\\,\\mathrm{m}$\n$p_1 = 1000\\,\\mathrm{hPa}$\n$p_2 = 500\\,\\mathrm{hPa}$\n$\\Omega = 7.2921159 \\times 10^{-5}\\,\\mathrm{s^{-1}}$\n$\\phi = 45^{\\circ}$\n\nFirst, calculate the Coriolis parameter $f$:\n$$ f = 2 \\Omega \\sin\\phi = 2 \\times (7.2921159 \\times 10^{-5}\\,\\mathrm{s^{-1}}) \\times \\sin(45^{\\circ}) \\approx 1.031262 \\times 10^{-4}\\,\\mathrm{s^{-1}} $$\nThe pressure ratio term is $\\ln(p_1/p_2) = \\ln(1000/500) = \\ln(2) \\approx 0.693147$.\n\nCalculate $|\\nabla(\\Delta z)|$:\n$$ |\\nabla(\\Delta z)| = \\frac{(287\\,\\mathrm{J\\,kg^{-1}\\,K^{-1}}) \\times (10\\,\\mathrm{K})}{(9.80665\\,\\mathrm{m\\,s^{-2}}) \\times (5 \\times 10^5\\,\\mathrm{m})} \\ln(2) $$\n$$ |\\nabla(\\Delta z)| \\approx \\frac{2870}{4.903325 \\times 10^6} \\times 0.693147 \\approx 5.8531 \\times 10^{-4} \\times 0.693147 \\approx 4.05734 \\times 10^{-4} $$\nThis result is dimensionless (m/m). To express it in $\\mathrm{m\\,km^{-1}}$, we multiply by $1000$:\n$$ |\\nabla(\\Delta z)| \\approx 4.05734 \\times 10^{-4} \\times 1000\\,\\mathrm{m\\,km^{-1}} \\approx 0.405734\\,\\mathrm{m\\,km^{-1}} $$\nRounding to four significant figures gives $0.4057\\,\\mathrm{m\\,km^{-1}}$.\n\nCalculate $|\\Delta u_g|$:\n$$ |\\Delta u_g| = \\frac{(287\\,\\mathrm{J\\,kg^{-1}\\,K^{-1}}) \\times (10\\,\\mathrm{K})}{(1.031262 \\times 10^{-4}\\,\\mathrm{s^{-1}}) \\times (5 \\times 10^5\\,\\mathrm{m})} \\ln(2) $$\n$$ |\\Delta u_g| \\approx \\frac{2870}{51.5631} \\times 0.693147 \\approx 55.660 \\times 0.693147 \\approx 38.5827\\,\\mathrm{m\\,s^{-1}} $$\nRounding to four significant figures gives $38.58\\,\\mathrm{m\\,s^{-1}}$.\n\nThe final calculated values are $|\\nabla(\\Delta z)| \\approx 0.4057\\,\\mathrm{m\\,km^{-1}}$ and $|\\Delta u_g| \\approx 38.58\\,\\mathrm{m\\,s^{-1}}$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.4057 & 38.58\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "We now shift our focus to the ocean, where density is a function of both temperature and salinity. This exercise challenges you to extend the thermal wind concept by incorporating a linearized equation of state, a cornerstone of physical oceanography. By deriving the thermal wind shear symbolically in terms of temperature and salinity gradients, you will uncover how these two properties jointly, and sometimes competitively, control the vertical structure of oceanic currents. ",
            "id": "3816945",
            "problem": "Consider a large-scale, steady ocean flow on a constant Coriolis parameter plane (an $f$-plane), under the Boussinesq approximation with a constant reference density $\\,\\rho_{0}\\,$. Let the vertical coordinate $\\,z\\,$ be positive upward, with $\\,z=0\\,$ at the free surface, and $\\,\\boldsymbol{x}=(x,y,z)\\,$ where $\\,x\\,$ is eastward and $\\,y\\,$ is northward. Assume hydrostatic balance in the vertical and geostrophic balance in the horizontal. The geostrophic velocity components are $\\,u_{g}(x,y,z)\\,$ (eastward) and $\\,v_{g}(x,y,z)\\,$ (northward), and the pressure is $\\,p(x,y,z)\\,$. Gravity has magnitude $\\,g>0\\,$. The Coriolis parameter is $\\,f\\,$, and the Rossby number $\\,Ro\\,$ is small so that ageostrophic accelerations are negligible. The fluid has temperature $\\,T(x,y,z)\\,$ and salinity $\\,S(x,y,z)\\,$, and obeys the linear equation of state\n$$\n\\rho(x,y,z)=\\rho_{0}\\bigl[1-\\alpha\\bigl(T(x,y,z)-T_{0}\\bigr)+\\beta\\bigl(S(x,y,z)-S_{0}\\bigr)\\bigr],\n$$\nwhere $\\,\\alpha>0\\,$ is the thermal expansion coefficient, $\\,\\beta>0\\,$ is the haline contraction coefficient, and $\\,T_{0},S_{0}\\,$ are spatial constants. Treat $\\,\\alpha\\,$ and $\\,\\beta\\,$ as constants and assume all fields are sufficiently smooth for interchange of mixed partial derivatives.\n\nStarting only from the geostrophic and hydrostatic balances together with the linear equation of state, derive an explicit analytical expression for the eastward thermal wind shear $\\,f\\,\\partial u_{g}/\\partial z\\,$ in terms of the horizontal gradients $\\,\\partial T/\\partial y\\,$ and $\\,\\partial S/\\partial y\\,$, $\\,g\\,$, $\\,\\alpha\\,$, and $\\,\\beta\\,$. State any commutation of derivatives you use. Express your final analytical expression in International System of Units (SI) base units. Do not insert numerical values; provide a closed-form symbolic expression only.",
            "solution": "The problem is subjected to validation before proceeding to a solution.\n\n### Step 1: Extract Givens\n- **System**: A large-scale, steady ocean flow on a constant Coriolis parameter plane ($f$-plane).\n- **Approximations**: Boussinesq approximation with constant reference density $\\rho_{0}$; hydrostatic balance in the vertical; geostrophic balance in the horizontal; negligible ageostrophic accelerations (small Rossby number $Ro$).\n- **Coordinates**: $\\boldsymbol{x}=(x,y,z)$, where $z$ is positive upward with $z=0$ at the free surface, $x$ is eastward, and $y$ is northward.\n- **Fields and Variables**:\n  - Geostrophic velocity (eastward): $u_{g}(x,y,z)$\n  - Geostrophic velocity (northward): $v_{g}(x,y,z)$\n  - Pressure: $p(x,y,z)$\n  - Temperature: $T(x,y,z)$\n  - Salinity: $S(x,y,z)$\n  - Density: $\\rho(x,y,z)$\n- **Constants**:\n  - Coriolis parameter: $f$\n  - Gravitational acceleration magnitude: $g>0$\n  - Reference density: $\\rho_{0}$\n  - Thermal expansion coefficient: $\\alpha>0$\n  - Haline contraction coefficient: $\\beta>0$\n  - Reference temperature: $T_{0}$\n  - Reference salinity: $S_{0}$\n- **Governing Relations**:\n  - Equation of State (linear): $\\rho(x,y,z)=\\rho_{0}\\bigl[1-\\alpha\\bigl(T(x,y,z)-T_{0}\\bigr)+\\beta\\bigl(S(x,y,z)-S_{0}\\bigr)\\bigr]$\n- **Condition**: All fields are sufficiently smooth for the interchange of mixed partial derivatives.\n- **Objective**: Derive an explicit analytical expression for the eastward thermal wind shear, $f\\,\\partial u_{g}/\\partial z$, in terms of $\\partial T/\\partial y$, $\\partial S/\\partial y$, $g$, $\\alpha$, and $\\beta$.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded, as it is based on the fundamental principles of geophysical fluid dynamics, namely geostrophic and hydrostatic balance, which combine to form the thermal wind relation. The Boussinesq approximation and the linear equation of state are standard, valid idealizations used in physical oceanography. The problem is well-posed; it provides all the necessary equations and constants to derive the requested expression. The terminology is precise and objective. There are no contradictions, missing pieces of information, or violations of physical laws. The request to express the final answer in SI units for a symbolic expression is interpreted to mean that the variables in the derived formula represent standard physical quantities in a consistent unit system (like SI), which does not invalidate the problem.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid**. A solution will be derived.\n\nThe derivation commences from the provided governing principles: geostrophic balance and hydrostatic balance.\n\nThe geostrophic balance equations describe the flow where the Coriolis force balances the pressure gradient force. Under the Boussinesq approximation, where density variations are neglected in the inertia terms, the constant reference density $\\rho_{0}$ is used. The northward component of the momentum equation, which defines the eastward geostrophic velocity $u_{g}$, is:\n$$\nf u_{g} = -\\frac{1}{\\rho_{0}} \\frac{\\partial p}{\\partial y}\n$$\nThe vertical momentum equation reduces to hydrostatic balance, where the vertical pressure gradient is balanced by the force of gravity:\n$$\n\\frac{\\partial p}{\\partial z} = -\\rho g\n$$\nThe problem asks for an expression involving the vertical shear of the eastward geostrophic velocity, $\\partial u_{g}/\\partial z$. We start by differentiating the geostrophic equation for $u_{g}$ with respect to the vertical coordinate $z$:\n$$\n\\frac{\\partial}{\\partial z} (f u_{g}) = \\frac{\\partial}{\\partial z} \\left(-\\frac{1}{\\rho_{0}} \\frac{\\partial p}{\\partial y}\\right)\n$$\nSince the Coriolis parameter $f$ and reference density $\\rho_{0}$ are constants, they can be moved outside the derivative:\n$$\nf \\frac{\\partial u_{g}}{\\partial z} = -\\frac{1}{\\rho_{0}} \\frac{\\partial^2 p}{\\partial z \\partial y}\n$$\nThe problem states that the fields are sufficiently smooth to permit the commutation (interchange of order) of mixed partial derivatives. We apply this property to the pressure field:\n$$\n\\frac{\\partial^2 p}{\\partial z \\partial y} = \\frac{\\partial^2 p}{\\partial y \\partial z}\n$$\nThis allows us to rewrite the equation for the velocity shear as:\n$$\nf \\frac{\\partial u_{g}}{\\partial z} = -\\frac{1}{\\rho_{0}} \\frac{\\partial}{\\partial y} \\left(\\frac{\\partial p}{\\partial z}\\right)\n$$\nNow, we substitute the hydrostatic balance equation, $\\partial p/\\partial z = -\\rho g$, into this expression:\n$$\nf \\frac{\\partial u_{g}}{\\partial z} = -\\frac{1}{\\rho_{0}} \\frac{\\partial}{\\partial y} \\left(-\\rho g\\right)\n$$\nThe gravitational acceleration $g$ is a constant, so it can be brought outside the partial derivative:\n$$\nf \\frac{\\partial u_{g}}{\\partial z} = \\frac{g}{\\rho_{0}} \\frac{\\partial \\rho}{\\partial y}\n$$\nThis equation is the thermal wind relation, linking the vertical shear of the zonal flow to the meridional density gradient. To express this in terms of temperature and salinity gradients, we use the provided linear equation of state:\n$$\n\\rho(x,y,z)=\\rho_{0}\\bigl[1-\\alpha\\bigl(T(x,y,z)-T_{0}\\bigr)+\\beta\\bigl(S(x,y,z)-S_{0}\\bigr)\\bigr]\n$$\nWe take the partial derivative of this equation with respect to $y$. The constants $\\rho_{0}$, $\\alpha$, $\\beta$, $T_{0}$, and $S_{0}$ are not functions of $y$:\n$$\n\\frac{\\partial \\rho}{\\partial y} = \\frac{\\partial}{\\partial y} \\left( \\rho_{0} - \\rho_{0}\\alpha T + \\rho_{0}\\alpha T_{0} + \\rho_{0}\\beta S - \\rho_{0}\\beta S_{0} \\right)\n$$\n$$\n\\frac{\\partial \\rho}{\\partial y} = -\\rho_{0}\\alpha \\frac{\\partial T}{\\partial y} + \\rho_{0}\\beta \\frac{\\partial S}{\\partial y}\n$$\n$$\n\\frac{\\partial \\rho}{\\partial y} = \\rho_{0} \\left( -\\alpha \\frac{\\partial T}{\\partial y} + \\beta \\frac{\\partial S}{\\partial y} \\right)\n$$\nFinally, we substitute this expression for the meridional density gradient $\\partial \\rho/\\partial y$ back into the thermal wind relation:\n$$\nf \\frac{\\partial u_{g}}{\\partial z} = \\frac{g}{\\rho_{0}} \\left[ \\rho_{0} \\left( -\\alpha \\frac{\\partial T}{\\partial y} + \\beta \\frac{\\partial S}{\\partial y} \\right) \\right]\n$$\nThe reference density $\\rho_{0}$ cancels out, yielding the final expression for the eastward thermal wind shear:\n$$\nf \\frac{\\partial u_{g}}{\\partial z} = g \\left( -\\alpha \\frac{\\partial T}{\\partial y} + \\beta \\frac{\\partial S}{\\partial y} \\right)\n$$\nThis equation explicitly provides the eastward thermal wind shear in terms of the specified variables. The variables are understood to be expressed in a consistent system of units, such as the International System of Units (SI).",
            "answer": "$$\n\\boxed{g\\left(-\\alpha \\frac{\\partial T}{\\partial y} + \\beta \\frac{\\partial S}{\\partial y}\\right)}\n$$"
        },
        {
            "introduction": "To conclude our hands-on exploration, we bridge the gap between analytical theory and computational practice. This final exercise guides you through building a numerical pipeline to compute the geostrophic shear from gridded fields of temperature and salinity, mirroring the tasks performed in modern ocean and climate modeling. By implementing the thermal wind balance with a realistic equation of state (TEOS-10) and numerical gradient calculations, you will gain practical experience in diagnosing large-scale dynamics from data. ",
            "id": "3816979",
            "problem": "You are given horizontally varying three-dimensional fields of Absolute Salinity $S_A(x,y,z)$ in $\\mathrm{g}\\,\\mathrm{kg}^{-1}$ and Conservative Temperature $\\Theta(x,y,z)$ in $^{\\circ}\\mathrm{C}$ on a uniform rectilinear grid at a constant latitude $\\phi$ in degrees. Starting from a valid physical base, design and implement a computational pipeline that computes a physically consistent seawater density field $\\rho(x,y,z)$ and then evaluates the vertical geostrophic shear implied by the balance between rotation, stratification, and hydrostatic pressure. Your pipeline must explicitly and consistently use the derivative structure of the Thermodynamic Equation Of Seawater (TEOS-10) rather than numerically differentiating a possibly noisy $\\rho(x,y,z)$ field. The derivation must begin from the rotating-frame momentum equations and the hydrostatic approximation and proceed logically to the thermal wind relation between vertical shear and horizontal density gradients. Your algorithm must express all quantities in the International System of Units (SI) and clearly state assumptions and approximations.\n\nUse the following scientifically sound and widely accepted base:\n- The rotating-frame momentum equations under steady, inviscid, large-scale conditions in the ocean admit horizontal geostrophic balance, and vertical momentum admits hydrostatic balance.\n- The Boussinesq approximation is appropriate for large-scale oceanic flows.\n- The conservative and absolute thermodynamic variables follow TEOS-10, whose derivative structure may be linearized around reference conditions.\n\nYou must implement the pipeline under these conditions and parameters:\n- Let the grid be uniform with $N_x=32$, $N_y=32$, $N_z=40$ points, spacings $d_x=d_y=10^4\\,\\mathrm{m}$ and $d_z=50\\,\\mathrm{m}$, with $x$ pointing east, $y$ pointing north, and $z$ positive downward.\n- Use the reference density $\\rho_0=1027\\,\\mathrm{kg}\\,\\mathrm{m}^{-3}$, gravitational acceleration $g=9.80665\\,\\mathrm{m}\\,\\mathrm{s}^{-2}$, and Earth's rotation rate $\\Omega=7.292115\\times 10^{-5}\\,\\mathrm{s}^{-1}$. The Coriolis parameter is $f=2\\Omega\\sin(\\phi_\\mathrm{rad})$ where $\\phi_\\mathrm{rad}$ is the latitude in radians.\n- Pressure is approximated hydrostatically as $p(z)=\\rho_0 g z$ in Pa with a flat free surface ($\\nabla_h p=0$).\n- Linearize the TEOS-10 equation of state derivatives at reference conditions $(S_{\\mathrm{ref}},\\Theta_{\\mathrm{ref}},p_{\\mathrm{ref}})$ using constant coefficients: thermal expansion coefficient $\\alpha=2.0\\times 10^{-4}\\,\\mathrm{K}^{-1}$, haline contraction coefficient $\\beta=7.6\\times 10^{-4}\\,(\\mathrm{g}\\,\\mathrm{kg}^{-1})^{-1}$, and a representative adiabatic compressibility $\\gamma=4.5\\times 10^{-10}\\,\\mathrm{Pa}^{-1}$. Use $(S_{\\mathrm{ref}},\\Theta_{\\mathrm{ref}},p_{\\mathrm{ref}})=(35\\,\\mathrm{g}\\,\\mathrm{kg}^{-1},10\\,^{\\circ}\\mathrm{C},0\\,\\mathrm{Pa})$.\n- Compute density as $\\rho(x,y,z)=\\rho_0\\left[1-\\alpha\\left(\\Theta(x,y,z)-\\Theta_{\\mathrm{ref}}\\right)+\\beta\\left(S_A(x,y,z)-S_{\\mathrm{ref}}\\right)+\\gamma\\left(p(z)-p_{\\mathrm{ref}}\\right)\\right]$, and compute horizontal density gradients via TEOS-10 derivatives (chain rule) rather than by direct differencing of $\\rho$: $\\nabla_h \\rho=\\rho_0\\left[\\beta\\,\\nabla_h S_A-\\alpha\\,\\nabla_h \\Theta\\right]$ since $\\nabla_h p=0$ by assumption.\n- Evaluate the vertical geostrophic shear implied by large-scale balance using your derived relation.\n\nYour program must implement second-order accurate centered finite differences for horizontal gradients internally, handle the vector-valued shear correctly, and aggregate a scalar measure from three-dimensional arrays as specified below. Angles must be treated in $\\mathrm{radians}$ internally.\n\nDesign a test suite that spans a general case, a near-equatorial small-$f$ case, a zero-horizontal-gradient case, and a strong haline front case. For each case, construct $S_A(x,y,z)$ and $\\Theta(x,y,z)$ from analytic, grid-resolved patterns using normalized coordinates $\\xi=x/L_x$, $\\eta=y/L_y$, and $\\zeta=z/L_z$ with $L_x=N_x d_x$, $L_y=N_y d_y$, and $L_z=N_z d_z$, ensuring physical realism and self-consistency:\n\n- Case A (midlatitude stratified with both salinity and temperature gradients): latitude $\\phi=45^{\\circ}$, $S_A(x,y,z)=S_{\\mathrm{ref}}+0.008\\,\\xi+0.012\\,\\eta+0.002\\,\\zeta$, $\\Theta(x,y,z)=\\Theta_{\\mathrm{ref}}+0.15\\,\\xi+0.05\\,\\eta-1.5\\,\\zeta$.\n- Case B (near-equatorial small-$f$): latitude $\\phi=1^{\\circ}$, $S_A(x,y,z)=S_{\\mathrm{ref}}+0.000\\,\\xi+0.010\\,\\eta+0.002\\,\\zeta$, $\\Theta(x,y,z)=\\Theta_{\\mathrm{ref}}+0.20\\,\\xi+0.000\\,\\eta-0.5\\,\\zeta$.\n- Case C (no horizontal gradients): latitude $\\phi=30^{\\circ}$, $S_A(x,y,z)=S_{\\mathrm{ref}}+0.000\\,\\xi+0.000\\,\\eta+0.002\\,\\zeta$, $\\Theta(x,y,z)=\\Theta_{\\mathrm{ref}}+0.000\\,\\xi+0.000\\,\\eta-0.5\\,\\zeta$.\n- Case D (strong haline front with mixed temperature gradients): latitude $\\phi=60^{\\circ}$, $S_A(x,y,z)=S_{\\mathrm{ref}}+0.000\\,\\xi+0.030\\,\\eta+0.001\\,\\zeta$, $\\Theta(x,y,z)=\\Theta_{\\mathrm{ref}}+0.050\\,\\xi+0.050\\,\\eta-0.2\\,\\zeta$.\n\nFor each case, compute the magnitude of the vertical geostrophic shear vector at every grid point, defined as $\\left\\|\\partial \\mathbf{u}_g / \\partial z\\right\\|=\\sqrt{\\left(\\partial u_g/\\partial z\\right)^2+\\left(\\partial v_g/\\partial z\\right)^2}$, and return a single scalar per case equal to the arithmetic mean over the entire three-dimensional grid. Express the returned scalars in $\\mathrm{s}^{-1}$ as decimal floating-point numbers rounded to $6$ decimal places.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., $\\left[\\mathrm{result}_1,\\mathrm{result}_2,\\mathrm{result}_3,\\mathrm{result}_4\\right]$).",
            "solution": "The problem requires the design and implementation of a computational pipeline to calculate the vertical geostrophic shear from three-dimensional fields of Absolute Salinity, $S_A(x,y,z)$, and Conservative Temperature, $\\Theta(x,y,z)$. The solution is founded on the principles of geophysical fluid dynamics, specifically the thermal wind balance, which arises from geostrophic and hydrostatic equilibrium in a stratified, rotating fluid.\n\n### Step 1: Theoretical Derivation of the Thermal Wind Equations\n\nThe derivation begins with the steady, inviscid, Boussinesq horizontal momentum equations in a rotating reference frame where geostrophic balance holds. The coordinate system is defined with $x$ pointing east (zonal), $y$ pointing north (meridional), and $z$ positive downward. The geostrophic velocity components, $u_g$ (zonal) and $v_g$ (meridional), are related to the pressure, $p$, by:\n$$ -f v_g = -\\frac{1}{\\rho_0} \\frac{\\partial p}{\\partial x} \\quad (1) $$\n$$ f u_g = -\\frac{1}{\\rho_0} \\frac{\\partial p}{\\partial y} \\quad (2) $$\nHere, $f=2\\Omega\\sin(\\phi)$ is the Coriolis parameter at latitude $\\phi$ ($\\Omega$ is Earth's rotation rate), and $\\rho_0$ is a constant reference density.\n\nThe vertical momentum balance is given by the hydrostatic approximation:\n$$ \\frac{\\partial p}{\\partial z} = \\rho g \\quad (3) $$\nwhere $g$ is the acceleration due to gravity and $\\rho(x,y,z)$ is the in-situ seawater density.\n\nThe thermal wind relation describes the vertical shear of the geostrophic flow. It is derived by taking the vertical derivative ($\\partial/\\partial z$) of the geostrophic equations ($1$) and ($2$) and combining them with the hydrostatic equation ($3$). Assuming $f$ is constant with depth (the traditional approximation, valid on the vertical scales considered), we proceed.\n\nTaking $\\partial/\\partial z$ of equation ($2$):\n$$ f \\frac{\\partial u_g}{\\partial z} = -\\frac{1}{\\rho_0} \\frac{\\partial^2 p}{\\partial z \\partial y} $$\nAssuming the pressure field is sufficiently smooth, we can switch the order of differentiation (Clairaut's theorem):\n$$ f \\frac{\\partial u_g}{\\partial z} = -\\frac{1}{\\rho_0} \\frac{\\partial}{\\partial y} \\left( \\frac{\\partial p}{\\partial z} \\right) $$\nSubstituting the hydrostatic balance (equation $3$):\n$$ f \\frac{\\partial u_g}{\\partial z} = -\\frac{1}{\\rho_0} \\frac{\\partial (\\rho g)}{\\partial y} = -\\frac{g}{\\rho_0} \\frac{\\partial \\rho}{\\partial y} $$\nThis yields the zonal component of the thermal wind shear:\n$$ \\frac{\\partial u_g}{\\partial z} = -\\frac{g}{f \\rho_0} \\frac{\\partial \\rho}{\\partial y} \\quad (4) $$\n\nSimilarly, taking $\\partial/\\partial z$ of equation ($1$):\n$$ -f \\frac{\\partial v_g}{\\partial z} = -\\frac{1}{\\rho_0} \\frac{\\partial^2 p}{\\partial z \\partial x} = -\\frac{1}{\\rho_0} \\frac{\\partial}{\\partial x} \\left( \\frac{\\partial p}{\\partial z} \\right) $$\nSubstituting the hydrostatic balance:\n$$ -f \\frac{\\partial v_g}{\\partial z} = -\\frac{g}{\\rho_0} \\frac{\\partial \\rho}{\\partial x} $$\nThis yields the meridional component of the thermal wind shear:\n$$ \\frac{\\partial v_g}{\\partial z} = \\frac{g}{f \\rho_0} \\frac{\\partial \\rho}{\\partial x} \\quad (5) $$\nEquations ($4$) and ($5$) are the thermal wind equations. They link the vertical shear of the horizontal geostrophic flow to the horizontal gradients of the density field.\n\n### Step 2: Incorporating the Linearized Equation of State\n\nThe problem specifies using the derivative structure of the TEOS-10 equation of state, linearized around reference conditions ($S_{\\mathrm{ref}}$, $\\Theta_{\\mathrm{ref}}$, $p_{\\mathrm{ref}}$). The horizontal density gradient, $\\nabla_h \\rho = (\\partial\\rho/\\partial x, \\partial\\rho/\\partial y)$, is given by applying the chain rule to the linearized equation of state, $\\rho = \\rho(S_A, \\Theta, p)$.\n$$ \\nabla_h \\rho = \\frac{\\partial \\rho}{\\partial S_A} \\nabla_h S_A + \\frac{\\partial \\rho}{\\partial \\Theta} \\nabla_h \\Theta + \\frac{\\partial \\rho}{\\partial p} \\nabla_h p $$\nThe problem provides the constant, linearized coefficients: $\\partial\\rho/\\partial S_A \\approx \\rho_0 \\beta$ and $\\partial\\rho/\\partial\\Theta \\approx -\\rho_0 \\alpha$, where $\\alpha$ is the thermal expansion coefficient and $\\beta$ is the haline contraction coefficient. It also specifies a simplified pressure model where horizontal pressure gradients do not contribute to the density calculation itself, i.e., $\\nabla_h p \\approx 0$ in the equation of state. This is a common simplification consistent with the Boussinesq approximation. Thus, the horizontal density gradient is:\n$$ \\nabla_h \\rho = \\rho_0 \\left( \\beta \\nabla_h S_A - \\alpha \\nabla_h \\Theta \\right) $$\nIn component form:\n$$ \\frac{\\partial \\rho}{\\partial x} = \\rho_0 \\left( \\beta \\frac{\\partial S_A}{\\partial x} - \\alpha \\frac{\\partial \\Theta}{\\partial x} \\right) \\quad (6) $$\n$$ \\frac{\\partial \\rho}{\\partial y} = \\rho_0 \\left( \\beta \\frac{\\partial S_A}{\\partial y} - \\alpha \\frac{\\partial \\Theta}{\\partial y} \\right) \\quad (7) $$\nThis formulation adheres to the requirement not to differentiate a computed $\\rho(x,y,z)$ field directly.\n\nSubstituting equations ($6$) and ($7$) into the thermal wind equations ($4$) and ($5$) eliminates the intermediate density calculation and cancels the reference density $\\rho_0$:\n$$ \\frac{\\partial u_g}{\\partial z} = -\\frac{g}{f \\rho_0} \\left[ \\rho_0 \\left( \\beta \\frac{\\partial S_A}{\\partial y} - \\alpha \\frac{\\partial \\Theta}{\\partial y} \\right) \\right] = -\\frac{g}{f} \\left( \\beta \\frac{\\partial S_A}{\\partial y} - \\alpha \\frac{\\partial \\Theta}{\\partial y} \\right) \\quad (8) $$\n$$ \\frac{\\partial v_g}{\\partial z} = \\frac{g}{f \\rho_0} \\left[ \\rho_0 \\left( \\beta \\frac{\\partial S_A}{\\partial x} - \\alpha \\frac{\\partial \\Theta}{\\partial x} \\right) \\right] = \\frac{g}{f} \\left( \\beta \\frac{\\partial S_A}{\\partial x} - \\alpha \\frac{\\partial \\Theta}{\\partial x} \\right) \\quad (9) $$\nThese are the final, computable forms of the vertical geostrophic shear components.\n\n### Step 3: Computational Pipeline Design\n\nThe algorithm computes the mean geostrophic shear magnitude for each of the four specified test cases.\n\n1.  **Constants and Grid Setup**: Define all physical constants ($g, \\rho_0, \\Omega, \\alpha, \\beta, S_{\\mathrm{ref}}, \\Theta_{\\mathrm{ref}}$) and grid parameters ($N_x, N_y, N_z, d_x, d_y, d_z$). All units are converted to SI.\n\n2.  **Iterate Through Test Cases**: For each case:\n    a. **Coriolis Parameter**: Calculate $f = 2\\Omega\\sin(\\phi_{\\mathrm{rad}})$, where the case latitude $\\phi$ is converted from degrees to radians. Note that for $\\phi=1^\\circ$, $f$ is small but non-zero, making the calculation valid. For $\\phi=0$, $f=0$ and the thermal wind balance breaks down; this case is not tested.\n    b. **Generate Input Fields**: Construct the $3$D fields for Absolute Salinity $S_A(x,y,z)$ and Conservative Temperature $\\Theta(x,y,z)$. This is done by first creating normalized coordinate arrays $\\xi, \\eta, \\zeta$ over the grid, where $\\xi_i = i/N_x$, $\\eta_j = j/N_y$, and $\\zeta_k = k/N_z$. The analytic functions provided for each case are then evaluated on these normalized grids.\n    c. **Compute Horizontal Gradients**: The horizontal gradients of $S_A$ and $\\Theta$ ($\\partial S_A/\\partial x, \\partial S_A/\\partial y, \\partial \\Theta/\\partial x, \\partial \\Theta/\\partial y$) are computed numerically. Following the problem specification, a second-order accurate centered finite difference scheme is used. The `numpy.gradient` function provides a robust implementation of this, using centered differences for interior points and first-order one-sided differences at the boundaries. This is applied along the $x$ (axis $0$) and $y$ (axis $1$) directions with the respective grid spacings $d_x$ and $d_y$.\n    d. **Calculate Shear Components**: Using the computed gradients and the derived equations ($8$) and ($9$), the $3$D fields for the shear components $\\partial u_g/\\partial z$ and $\\partial v_g/\\partial z$ are calculated at every grid point.\n    e. **Calculate Shear Magnitude**: The magnitude of the vertical geostrophic shear vector is computed at each grid point using the Euclidean norm:\n    $$ \\left\\|\\frac{\\partial \\mathbf{u}_g}{\\partial z}\\right\\| = \\sqrt{\\left(\\frac{\\partial u_g}{\\partial z}\\right)^2 + \\left(\\frac{\\partial v_g}{\\partial z}\\right)^2} $$\n    f. **Aggregate and Store Result**: The arithmetic mean of the shear magnitude is computed over the entire $3$D grid. The resulting scalar value is rounded to $6$ decimal places and stored. For Case C, where horizontal gradients are zero, the shear is correctly computed as $0$.\n\n3.  **Final Output**: The list of stored mean shear magnitudes for all cases is formatted into the specified string format: `[result_A,result_B,result_C,result_D]`.\n\nThis pipeline systematically translates the fundamental physics of thermal wind balance into a concrete numerical algorithm, adhering strictly to the problem's constraints and scientific best practices.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes the mean vertical geostrophic shear magnitude for several test cases\n    based on the thermal wind balance in a stratified, rotating ocean.\n    \"\"\"\n\n    # Physical and reference constants in SI units\n    RHO_0 = 1027.0  # Reference density [kg m^-3]\n    G = 9.80665  # Gravitational acceleration [m s^-2]\n    OMEGA = 7.292115e-5  # Earth's rotation rate [s^-1]\n    \n    # Linearized TEOS-10 coefficients\n    ALPHA = 2.0e-4  # Thermal expansion coefficient [K^-1 or (degC)^-1]\n    BETA = 7.6e-4   # Haline contraction coefficient [(g/kg)^-1]\n\n    # Reference state for linearization\n    S_REF = 35.0    # Reference salinity [g/kg]\n    THETA_REF = 10.0  # Reference temperature [deg C]\n    \n    # Grid parameters\n    NX, NY, NZ = 32, 32, 40\n    DX, DY, DZ = 1e4, 1e4, 50.0  # Grid spacing in [m]\n\n    # Test case definitions: (latitude_deg, s_coeffs, theta_coeffs)\n    # coeffs are (cx, cy, cz) for the analytic functions\n    test_cases = [\n        # Case A: Midlatitude stratified case\n        (45.0, (0.008, 0.012, 0.002), (0.15, 0.05, -1.5)),\n        # Case B: Near-equatorial small-f case\n        (1.0, (0.0, 0.010, 0.002), (0.20, 0.0, -0.5)),\n        # Case C: No horizontal gradients case\n        (30.0, (0.0, 0.0, 0.002), (0.0, 0.0, -0.5)),\n        # Case D: Strong haline front case\n        (60.0, (0.0, 0.030, 0.001), (0.050, 0.050, -0.2)),\n    ]\n\n    results = []\n\n    # Create normalized coordinate vectors for building fields\n    xi_vec = np.arange(NX) / NX\n    eta_vec = np.arange(NY) / NY\n    zeta_vec = np.arange(NZ) / NZ\n\n    # Reshape for broadcasting to a 3D grid\n    xi = xi_vec[:, np.newaxis, np.newaxis]\n    eta = eta_vec[np.newaxis, :, np.newaxis]\n    zeta = zeta_vec[np.newaxis, np.newaxis, :]\n\n    for lat_deg, s_coeffs, theta_coeffs in test_cases:\n        # 1. Calculate Coriolis parameter f\n        lat_rad = np.deg2rad(lat_deg)\n        f_coriolis = 2 * OMEGA * np.sin(lat_rad)\n        \n        # 2. Generate 3D salinity and temperature fields\n        csx, csy, csz = s_coeffs\n        ct_x, cty, ctz = theta_coeffs\n        \n        S_A = S_REF + csx * xi + csy * eta + csz * zeta\n        Theta = THETA_REF + ct_x * xi + cty * eta + ctz * zeta\n\n        # 3. Compute horizontal gradients using 2nd-order centered differences\n        # np.gradient handles boundaries with 1st-order differences.\n        # axis=0 corresponds to x, axis=1 corresponds to y\n        grad_S_A_x = np.gradient(S_A, DX, axis=0)\n        grad_S_A_y = np.gradient(S_A, DY, axis=1)\n        \n        grad_Theta_x = np.gradient(Theta, DX, axis=0)\n        grad_Theta_y = np.gradient(Theta, DY, axis=1)\n\n        # 4. Calculate vertical geostrophic shear components\n        # Thermal wind equations:\n        # du_g/dz = -(g/f) * (beta * dS/dy - alpha * dT/dy)\n        # dv_g/dz =  (g/f) * (beta * dS/dx - alpha * dT/dx)\n        \n        # Check for f=0 (at equator) to avoid division by zero, although not in test cases\n        if f_coriolis == 0:\n            # If horizontal density gradients exist, shear is infinite (balance fails)\n            # If no horizontal gradients, shear is indeterminate but physically zero.\n            # Case C has zero gradients, so the result is 0.\n            if np.all(grad_S_A_x == 0) and np.all(grad_S_A_y == 0) and \\\n               np.all(grad_Theta_x == 0) and np.all(grad_Theta_y == 0):\n                du_g_dz = np.zeros_like(S_A)\n                dv_g_dz = np.zeros_like(S_A)\n            else:\n                # In a real scenario, this would indicate the model is invalid at the equator.\n                # For the purpose of this problem, we can represents this as NaN.\n                du_g_dz = np.full_like(S_A, np.nan)\n                dv_g_dz = np.full_like(S_A, np.nan)\n        else:\n            term_g_over_f = G / f_coriolis\n            \n            # Density gradient terms from TEOS-10 derivative structure\n            d_rho_dx_term = BETA * grad_S_A_x - ALPHA * grad_Theta_x\n            d_rho_dy_term = BETA * grad_S_A_y - ALPHA * grad_Theta_y\n            \n            du_g_dz = -term_g_over_f * d_rho_dy_term\n            dv_g_dz = term_g_over_f * d_rho_dx_term\n\n        # 5. Compute the magnitude of the shear vector at each grid point\n        shear_magnitude = np.sqrt(du_g_dz**2 + dv_g_dz**2)\n\n        # 6. Aggregate result: compute arithmetic mean over the entire 3D grid\n        mean_shear_magnitude = np.mean(shear_magnitude)\n\n        # Round to 6 decimal places as required\n        results.append(round(mean_shear_magnitude, 6))\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n\n```"
        }
    ]
}