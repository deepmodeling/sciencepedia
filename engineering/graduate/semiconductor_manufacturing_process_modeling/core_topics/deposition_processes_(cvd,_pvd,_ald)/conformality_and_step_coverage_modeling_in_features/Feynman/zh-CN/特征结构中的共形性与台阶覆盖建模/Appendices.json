{
    "hands_on_practices": [
        {
            "introduction": "本练习是物理气相沉积（PVD）建模的基础。通过运用简化的“视线”模型，我们可以解析计算出特征结构的几何形状（如深宽比）和粒子入射角分布如何直接影响侧壁上的薄膜厚度。这个练习是理解几何遮蔽效应的关键，而几何遮蔽是导致薄膜不共形性的主要原因之一。",
            "id": "4115203",
            "problem": "在低压物理气相沉积 (PVD) 溅射到高深宽比结构中，入射粒子的输运可以近似为弹道输运，其首次碰撞的附着概率等于1，且没有粒子从结构表面再发射。考虑一个宽度为 $w$、深度为 $h$ 的二维沟槽，其在平面外方向上无限长，代表一个通孔的横截面。在沟槽入口平面（顶部开口）处的入射角度分布有两个分量：一个定向分量和一个在所有方向上各向同性的单次散射气相分量。在相同的工艺条件下，单次散射各向同性分量占平坦、水平、无限开放表面上总面积沉积速率的比例为 $\\beta$（其中 $0 \\le \\beta \\le 1$）。\n\n仅使用直线视线输运、入射的余弦投影定律以及沟槽侧壁的几何自遮蔽效应，推导单次散射各向同性分量对沟槽中点深度处局部侧壁阶梯覆盖率的贡献。将此分量在深度 $d$ 处的侧壁阶梯覆盖率定义为比率\n$$\nS_{\\mathrm{iso}}(d) \\equiv \\frac{J_{\\mathrm{wall,iso}}(d)}{J_{\\mathrm{open}}},\n$$\n其中 $J_{\\mathrm{wall,iso}}(d)$ 是仅由单次散射各向同性分量引起的在深度 $d$ 处侧壁上的局部沉积速率，而 $J_{\\mathrm{open}}$ 是在相同总入射通量下，平坦、水平、无限开放表面上的总面积沉积速率。在中点深度 $d = h/2$ 处计算 $S_{\\mathrm{iso}}(d)$，并将最终答案表示为包含 $\\beta$、$h$ 和 $w$ 的封闭形式解析表达式。推理中若有任何角度量，均应以弧度处理。最终答案必须是无单位的单个表达式。",
            "solution": "用户希望我解决一个与半导体制造中的保形性相关的问题。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n-   **工艺：** 低压物理气相沉积 (PVD) 溅射。\n-   **特征几何：** 宽度为 $w$、深度为 $h$ 的二维沟槽，在平面外方向上无限长。\n-   **粒子输运模型：** 弹道输运，首次碰撞附着概率为1，无粒子从特征表面再发射。\n-   **入射通量：** 在沟槽入口处由两个分量组成：一个定向分量和一个单次散射气相分量。\n-   **各向同性分量：** 单次散射分量在方向上是各向同性的。它占平坦、水平、无限开放表面 ($J_{\\mathrm{open}}$) 上总面积沉积速率的比例为 $\\beta$ ($0 \\le \\beta \\le 1$)。\n-   **建模假设：** 直线视线输运，入射的余弦投影定律，以及沟槽侧壁的几何自遮蔽。\n-   **目标：** 推导单次散射各向同性分量对沟槽中点深度 $d = h/2$ 处局部侧壁阶梯覆盖率 $S_{\\mathrm{iso}}(d)$ 的贡献。\n-   **阶梯覆盖率的定义：** $S_{\\mathrm{iso}}(d) \\equiv \\frac{J_{\\mathrm{wall,iso}}(d)}{J_{\\mathrm{open}}}$，其中 $J_{\\mathrm{wall,iso}}(d)$ 是各向同性分量在深度 $d$ 处侧壁上的局部沉积速率，而 $J_{\\mathrm{open}}$ 是开放水平表面上的总面积沉积速率。\n-   **最终答案：** 以 $\\beta$、$h$ 和 $w$ 表示的 $S_{\\mathrm{iso}}(h/2)$ 的封闭形式解析表达式。\n\n**步骤2：使用提取的已知条件进行验证**\n-   **科学依据：** 该问题描述了一个经典的视线（或克努森）输运模型，这是对低压沉积过程进行建模的标准且科学上合理的简化方法。弹道输运、单位附着系数和各向同性通量分量的假设在半导体工艺模拟领域是公认的。\n-   **良定性：** 该问题是良定的。几何形状、物理模型和待计算的量都已足够精确地定义。参数明确，通过几何积分可以获得唯一的数学解。\n-   **客观性：** 问题陈述是客观的，使用了精确的定量语言，避免了任何主观或模糊的术语。\n\n-   **缺陷检查表：**\n    1.  **科学/事实不健全：** 无。该模型是一个有效的物理近似。\n    2.  **无法形式化/不相关：** 无。该问题是该领域的典型练习。\n    3.  **不完整/矛盾的设置：** 无。$J_{\\mathrm{open}}$、$J_{\\mathrm{wall,iso}}(d)$ 和 $\\beta$ 的定义是一致的，足以进行求解。\n    4.  **不切实际/不可行：** 无。条件是理想化的，但代表了此类模型的标准起点。\n    5.  **不良定/结构不良：** 无。该问题是一个定义明确的几何积分任务。\n    6.  **伪深刻/琐碎：** 无。计算并非微不足道，需要正确应用积分学和几何推理。\n    7.  **超出科学可验证性：** 无。该推导在数学上是可验证的。\n\n**步骤3：结论和行动**\n问题有效。将提供完整解答。\n\n### 解题推导\n\n解决方案要求计算来自各向同性通量分量的侧壁沉积速率，并用开放表面上的总沉积速率对其进行归一化。\n\n首先，让我们将各向同性通量分量的强度与给定参数联系起来。设 $I_{\\mathrm{iso}}$ 为各向同性强度，定义为单位立体角内的粒子通量（单位面积单位时间单位立体角的粒子数）。由该各向同性通量引起的水平表面上的沉积速率 $J_{\\mathrm{open,iso}}$，是通过对表面上方半球内的所有入射方向的贡献进行积分得到的。在与表面法线成 $\\theta$ 极角的微分立体角 $d\\Omega$ 的贡献为 $I_{\\mathrm{iso}} \\cos\\theta d\\Omega$。\n立体角元为 $d\\Omega = \\sin\\theta d\\theta d\\phi$，其中 $\\phi$ 是方位角。\n$$\nJ_{\\mathrm{open,iso}} = \\int_{0}^{2\\pi} d\\phi \\int_{0}^{\\pi/2} I_{\\mathrm{iso}} \\cos\\theta \\sin\\theta d\\theta\n$$\n$$\nJ_{\\mathrm{open,iso}} = 2\\pi I_{\\mathrm{iso}} \\int_{0}^{\\pi/2} \\sin\\theta \\cos\\theta d\\theta = 2\\pi I_{\\mathrm{iso}} \\left[ \\frac{1}{2}\\sin^2\\theta \\right]_{0}^{\\pi/2} = \\pi I_{\\mathrm{iso}}\n$$\n根据问题陈述，该各向同性分量占总沉积速率 $J_{\\mathrm{open}}$ 的比例为 $\\beta$。\n$$\nJ_{\\mathrm{open,iso}} = \\beta J_{\\mathrm{open}}\n$$\n因此，我们可以将各向同性强度表示为：\n$$\n\\pi I_{\\mathrm{iso}} = \\beta J_{\\mathrm{open}} \\implies I_{\\mathrm{iso}} = \\frac{\\beta J_{\\mathrm{open}}}{\\pi}\n$$\n接下来，我们计算在深度 $d$ 处的垂直侧壁上的沉积速率，记为 $J_{\\mathrm{wall,iso}}(d)$。考虑侧壁上深度为 $d$ 的一点 $P$。我们建立一个坐标系，使 $P$ 位于原点 $(0,0,0)$。侧壁位于 $y-z$ 平面，其法向量为 $\\vec{n} = (1,0,0)$。沟槽开口是由 $z=d$，$0  x  w$ 和 $-\\infty  y  \\infty$ 定义的无限长条带。\n\n$P$ 点的沉积速率是入射通量的法向分量在 $P$ 点可以“看到”开口的立体角 $\\Omega_P$ 上的积分。设入射方向由向量 $\\vec{u}$ 指定。速率为 $J_{\\mathrm{wall,iso}}(d) = \\int_{\\Omega_P} I_{\\mathrm{iso}} (\\vec{u} \\cdot \\vec{n}) d\\Omega$。\n让我们使用以 $P$ 为中心的球坐标 $(\\alpha, \\psi)$，其中 $\\alpha$ 是与壁面法线（$x$ 轴）的极角，$\\psi$ 是方位角。方向向量为 $\\vec{u} = (\\cos\\alpha, \\sin\\alpha\\cos\\psi, \\sin\\alpha\\sin\\psi)$。法向分量为 $\\vec{u} \\cdot \\vec{n} = \\cos\\alpha$。立体角元为 $d\\Omega = \\sin\\alpha d\\alpha d\\psi$。\n$$\nJ_{\\mathrm{wall,iso}}(d) = \\iint_{\\Omega_P} I_{\\mathrm{iso}} \\cos\\alpha \\sin\\alpha d\\alpha d\\psi\n$$\n$\\alpha$ 和 $\\psi$ 的积分极限由沟槽开口的几何形状决定。从 $P$ 点沿方向 $(\\alpha, \\psi)$ 发出的一条射线必须穿过开口。射线的坐标为 $(r\\cos\\alpha, r\\sin\\alpha\\cos\\psi, r\\sin\\alpha\\sin\\psi)$。为了与开口相交，对于某个 $r>0$，必须有 $z=d$ 和 $0  x  w$。\n1.  $r\\sin\\alpha\\sin\\psi = d \\implies r = \\frac{d}{\\sin\\alpha\\sin\\psi}$。这要求 $\\sin\\psi > 0$，因此 $\\psi \\in (0, \\pi)$。\n2.  $x = r\\cos\\alpha = \\frac{d\\cos\\alpha}{\\sin\\alpha\\sin\\psi}  w$。这得出 $\\cot\\alpha  \\frac{w}{d}\\sin\\psi$。由于射线要进入沟槽，$\\alpha \\in [0, \\pi/2]$，所以 $\\alpha$ 的下限是 $\\alpha_{\\mathrm{min}} = \\arccot\\left(\\frac{w}{d}\\sin\\psi\\right)$，上限是 $\\alpha_{\\mathrm{max}} = \\pi/2$。\n\n积分变为：\n$$\nJ_{\\mathrm{wall,iso}}(d) = I_{\\mathrm{iso}} \\int_{0}^{\\pi} \\left[ \\int_{\\arccot(\\frac{w}{d}\\sin\\psi)}^{\\pi/2} \\cos\\alpha\\sin\\alpha d\\alpha \\right] d\\psi\n$$\n内层积分为：\n$$\n\\int \\cos\\alpha\\sin\\alpha d\\alpha = \\frac{1}{2}\\sin^2\\alpha\n$$\n$$\n\\left[ \\frac{1}{2}\\sin^2\\alpha \\right]_{\\arccot(\\frac{w}{d}\\sin\\psi)}^{\\pi/2} = \\frac{1}{2}\\left( \\sin^2\\left(\\frac{\\pi}{2}\\right) - \\sin^2\\left(\\arccot\\left(\\frac{w}{d}\\sin\\psi\\right)\\right) \\right)\n$$\n使用恒等式 $\\sin^2(\\arccot(u)) = \\frac{1}{1+u^2}$，结果是：\n$$\n\\frac{1}{2}\\left( 1 - \\frac{1}{1 + \\left(\\frac{w}{d}\\sin\\psi\\right)^2} \\right) = \\frac{1}{2} \\frac{\\left(\\frac{w}{d}\\sin\\psi\\right)^2}{1 + \\left(\\frac{w}{d}\\sin\\psi\\right)^2}\n$$\n现在，我们对 $\\psi$ 进行外层积分。设 $A = w/d$。\n$$\nJ_{\\mathrm{wall,iso}}(d) = \\frac{I_{\\mathrm{iso}}}{2} \\int_{0}^{\\pi} \\frac{A^2\\sin^2\\psi}{1+A^2\\sin^2\\psi} d\\psi = \\frac{I_{\\mathrm{iso}}}{2} \\int_{0}^{\\pi} \\left(1 - \\frac{1}{1+A^2\\sin^2\\psi}\\right) d\\psi\n$$\n$$\nJ_{\\mathrm{wall,iso}}(d) = \\frac{I_{\\mathrm{iso}}}{2} \\left( \\pi - \\int_{0}^{\\pi} \\frac{1}{1+A^2\\sin^2\\psi}d\\psi \\right)\n$$\n剩下的积分可以使用标准结果或通过换元（$t=\\tan(\\psi/2)$ 或转换为 $\\sec^2\\psi$）来求解：\n$$\n\\int_{0}^{\\pi} \\frac{d\\psi}{1+A^2\\sin^2\\psi} = 2 \\int_{0}^{\\pi/2} \\frac{d\\psi}{1+A^2\\sin^2\\psi} = 2 \\int_{0}^{\\infty} \\frac{dt}{1+t^2+A^2t^2} = 2\\int_{0}^{\\infty}\\frac{dt}{1+(1+A^2)t^2}\n$$\n这里我们使用了 $t=\\tan(\\psi)$。计算结果为 $\\frac{\\pi}{\\sqrt{1+A^2}}$。\n$$\n\\int_{0}^{\\pi} \\frac{d\\psi}{1+A^2\\sin^2\\psi} = \\frac{\\pi}{\\sqrt{1+(w/d)^2}} = \\frac{\\pi d}{\\sqrt{d^2+w^2}}\n$$\n将此代回：\n$$\nJ_{\\mathrm{wall,iso}}(d) = \\frac{I_{\\mathrm{iso}}}{2} \\left( \\pi - \\frac{\\pi d}{\\sqrt{d^2+w^2}} \\right) = \\frac{\\pi I_{\\mathrm{iso}}}{2} \\left( 1 - \\frac{d}{\\sqrt{d^2+w^2}} \\right)\n$$\n现在，代入 $I_{\\mathrm{iso}} = \\beta J_{\\mathrm{open}}/\\pi$：\n$$\nJ_{\\mathrm{wall,iso}}(d) = \\frac{\\pi}{2} \\left( \\frac{\\beta J_{\\mathrm{open}}}{\\pi} \\right) \\left( 1 - \\frac{d}{\\sqrt{d^2+w^2}} \\right) = \\frac{\\beta J_{\\mathrm{open}}}{2} \\left( 1 - \\frac{d}{\\sqrt{d^2+w^2}} \\right)\n$$\n阶梯覆盖率定义为 $S_{\\mathrm{iso}}(d) = J_{\\mathrm{wall,iso}}(d) / J_{\\mathrm{open}}$。\n$$\nS_{\\mathrm{iso}}(d) = \\frac{\\beta}{2} \\left( 1 - \\frac{d}{\\sqrt{d^2+w^2}} \\right)\n$$\n最后，我们在沟槽的中点深度 $d = h/2$ 处计算该表达式。\n$$\nS_{\\mathrm{iso}}\\left(\\frac{h}{2}\\right) = \\frac{\\beta}{2} \\left( 1 - \\frac{h/2}{\\sqrt{(h/2)^2+w^2}} \\right)\n$$\n化简括号中的项：\n$$\n\\frac{h/2}{\\sqrt{h^2/4+w^2}} = \\frac{h/2}{\\sqrt{\\frac{h^2+4w^2}{4}}} = \\frac{h/2}{\\frac{\\sqrt{h^2+4w^2}}{2}} = \\frac{h}{\\sqrt{h^2+4w^2}}\n$$\n因此，中点深度处阶梯覆盖率的最终表达式为：\n$$\nS_{\\mathrm{iso}}\\left(\\frac{h}{2}\\right) = \\frac{\\beta}{2} \\left( 1 - \\frac{h}{\\sqrt{h^2+4w^2}} \\right)\n$$",
            "answer": "$$\n\\boxed{\\frac{\\beta}{2} \\left( 1 - \\frac{h}{\\sqrt{h^{2} + 4w^{2}}} \\right)}\n$$"
        },
        {
            "introduction": "在掌握了输运模型后，我们将关注点从粒子输运转向表面反应，以原子层沉积（ALD）为背景。 该练习要求我们建立并求解一个描述表面前驱物覆盖度随时间演化的速率方程。这有助于我们理解，为何像ALD这样的反应限制过程能够克服PVD中的输运限制，从而实现出色的共形性。",
            "id": "4115217",
            "problem": "考虑一个在半导体晶圆上刻蚀出的深度为 $H$ 的高深宽比沟槽结构。令 $y$ 表示沿该结构中心线测量的一维坐标，从开口处 $y=0$ 到沟槽底部 $y=H$。在原子层沉积 (ALD) 的前驱体暴露步骤中，由于扩散和表面反应之间的竞争，沟槽内的气相前驱体浓度迅速达到一个准稳态的空间分布。假设在时间 $t=0$ 时刻阶跃式引入前驱体后，其浓度不随时间变化，仅随位置变化，表达式为 $c(y)=c_{0}\\exp(-y/\\lambda)$，其中 $c_{0}$ 是开口处的浓度，$\\lambda$ 是由沟槽内质量输运决定的有效穿透深度。\n\n设表面由单位面积数量密度为 $\\Gamma$ 的等效反应位点组成，并定义分数表面覆盖率 $\\theta(y,t)$ 为在位置 $y$ 和时间 $t$ 时被化学吸附的前驱体占据的这些位点的分数。假设表面反应遵循一级动力学：单位面积的吸附速率与局部浓度和未被占据的位点分数成正比，而单位面积的解吸速率与被占据的位点分数成正比。具体来说，设吸附速率常数为 $k_{\\mathrm{ads}}$，解吸速率常数为 $k_{\\mathrm{des}}$，则单位面积的吸附速率为 $r_{\\mathrm{ads}}(y,t)=k_{\\mathrm{ads}}\\,c(y)\\,\\Gamma\\,(1-\\theta(y,t))$，单位面积的解吸速率为 $r_{\\mathrm{des}}(y,t)=k_{\\mathrm{des}}\\,\\Gamma\\,\\theta(y,t)$。相对于吸附和解吸反应，忽略吸附物沿表面的横向扩散。\n\n从 $\\theta$ 的定义和微小表面元上位点占据的平衡出发，推导 $\\theta(y,t)$ 的控制方程，并在初始条件 $\\theta(y,0)=0$ 下求解。将 $\\theta(y,t)$ 的最终解表示为 $y$ 和 $t$ 的闭合形式函数。不需要进行数值计算；只需提供 $\\theta(y,t)$ 的解析表达式。",
            "solution": "该问题是有效的。它为模拟微结构内原子层沉积 (ALD) 过程中的表面动力学提供了一个科学上合理、适定且客观的情景。所有必要的参数和初始条件都已给出，可用于推导和求解表面覆盖率的控制方程。\n\n第一步是推导分数表面覆盖率 $\\theta(y,t)$ 的控制微分方程。我们关心的量是单位面积上被占据的反应位点数，它等于总位点密度 $\\Gamma$ 与分数覆盖率 $\\theta(y,t)$ 的乘积。该量的变化率必须等于前驱体的净吸附速率。\n\n在固定位置 $y$ 处，单位面积上被占据位点的变化率为：\n$$ \\frac{d}{dt} (\\Gamma \\, \\theta(y,t)) = \\Gamma \\frac{\\partial \\theta(y,t)}{\\partial t} $$\n该速率是吸附速率 $r_{\\mathrm{ads}}(y,t)$ 与解吸速率 $r_{\\mathrm{des}}(y,t)$ 之差。\n$$ \\Gamma \\frac{\\partial \\theta(y,t)}{\\partial t} = r_{\\mathrm{ads}}(y,t) - r_{\\mathrm{des}}(y,t) $$\n代入给定的速率表达式：\n$$ \\Gamma \\frac{\\partial \\theta(y,t)}{\\partial t} = k_{\\mathrm{ads}}\\,c(y)\\,\\Gamma\\,(1-\\theta(y,t)) - k_{\\mathrm{des}}\\,\\Gamma\\,\\theta(y,t) $$\n位点密度 $\\Gamma$ 是一个非零常数，可以从每一项中消去，得到 $\\theta(y,t)$ 的控制方程：\n$$ \\frac{\\partial \\theta(y,t)}{\\partial t} = k_{\\mathrm{ads}}\\,c(y)\\,(1-\\theta(y,t)) - k_{\\mathrm{des}}\\,\\theta(y,t) $$\n这是一个偏微分方程。然而，对于任何固定的位置 $y$，前驱体浓度 $c(y)$ 关于时间 $t$ 是恒定的。因此，相对于变量 $t$，该方程可视为一阶线性常微分方程 (ODE)。我们可以通过组合包含 $\\theta$ 的项，将方程重新排列成标准形式：\n$$ \\frac{d\\theta}{dt} = k_{\\mathrm{ads}}\\,c(y) - k_{\\mathrm{ads}}\\,c(y)\\,\\theta - k_{\\mathrm{des}}\\,\\theta $$\n$$ \\frac{d\\theta}{dt} + (k_{\\mathrm{ads}}\\,c(y) + k_{\\mathrm{des}})\\,\\theta = k_{\\mathrm{ads}}\\,c(y) $$\n该常微分方程的形式为 $\\frac{d\\theta}{dt} + P\\theta = Q$，其中 $P = k_{\\mathrm{ads}}\\,c(y) + k_{\\mathrm{des}}$ 和 $Q = k_{\\mathrm{ads}}\\,c(y)$ 是不随时间 $t$ 变化的系数。\n\n我们可以在初始条件 $\\theta(y,0)=0$ 下求解这个线性一阶常微分方程。通解可以通过使用积分因子 $I(t) = \\exp(\\int P \\, dt) = \\exp(Pt)$ 来找到。\n解由下式给出：\n$$ \\theta(t) = \\frac{1}{I(t)} \\left( \\int I(t) Q \\, dt + C \\right) = \\frac{1}{\\exp(Pt)} \\left( \\int \\exp(Pt) Q \\, dt + C \\right) $$\n由于 $Q$ 不随 $t$ 变化：\n$$ \\theta(t) = \\frac{1}{\\exp(Pt)} \\left( \\frac{Q}{P}\\exp(Pt) + C \\right) = \\frac{Q}{P} + C\\exp(-Pt) $$\n这里，$C$ 是积分常数。我们使用初始条件 $\\theta(y,0)=0$ 来确定 $C$。在 $t=0$ 时：\n$$ \\theta(0) = \\frac{Q}{P} + C\\exp(0) = \\frac{Q}{P} + C $$\n$$ 0 = \\frac{Q}{P} + C \\implies C = -\\frac{Q}{P} $$\n将 $C$ 的值代回通解，得到 $\\theta(y,t)$ 的特解：\n$$ \\theta(y,t) = \\frac{Q}{P} - \\frac{Q}{P}\\exp(-Pt) = \\frac{Q}{P}\\left(1 - \\exp(-Pt)\\right) $$\n现在，我们将 $P$ 和 $Q$ 的表达式代回此解中：\n$$ P = k_{\\mathrm{ads}}\\,c(y) + k_{\\mathrm{des}} $$\n$$ Q = k_{\\mathrm{ads}}\\,c(y) $$\n$$ \\theta(y,t) = \\frac{k_{\\mathrm{ads}}\\,c(y)}{k_{\\mathrm{ads}}\\,c(y) + k_{\\mathrm{des}}} \\left( 1 - \\exp\\left( -(k_{\\mathrm{ads}}\\,c(y) + k_{\\mathrm{des}})t \\right) \\right) $$\n最后，我们将给定的前驱体浓度空间分布 $c(y) = c_{0}\\exp(-y/\\lambda)$ 代入，以获得 $\\theta(y,t)$ 的最终闭合形式表达式：\n$$ \\theta(y,t) = \\frac{k_{\\mathrm{ads}}\\,c_{0}\\exp(-y/\\lambda)}{k_{\\mathrm{ads}}\\,c_{0}\\exp(-y/\\lambda) + k_{\\mathrm{des}}} \\left( 1 - \\exp\\left( -(k_{\\mathrm{ads}}\\,c_{0}\\exp(-y/\\lambda) + k_{\\mathrm{des}})t \\right) \\right) $$\n该表达式描述了在模型假设下，前驱体暴露期间沟槽内任意位置 $y$ 和任意时间 $t$ 的表面覆盖率演变过程。项 $\\frac{k_{\\mathrm{ads}}\\,c_{0}\\exp(-y/\\lambda)}{k_{\\mathrm{ads}}\\,c_{0}\\exp(-y/\\lambda) + k_{\\mathrm{des}}}$ 表示依赖于位置的稳态（或平衡）覆盖率 $\\theta_{ss}(y)$，而指数项则描述了以一个依赖于位置的时间常数 $\\tau(y) = (k_{\\mathrm{ads}}\\,c_{0}\\exp(-y/\\lambda) + k_{\\mathrm{des}})^{-1}$ 趋近于该稳态的瞬态过程。",
            "answer": "$$\\boxed{\\frac{k_{\\mathrm{ads}}\\,c_{0}\\exp(-y/\\lambda)}{k_{\\mathrm{ads}}\\,c_{0}\\exp(-y/\\lambda) + k_{\\mathrm{des}}} \\left( 1 - \\exp\\left( -\\left(k_{\\mathrm{ads}}\\,c_{0}\\exp\\left(-\\frac{y}{\\lambda}\\right) + k_{\\mathrm{des}}\\right)t \\right) \\right)}$$"
        },
        {
            "introduction": "本练习将我们带入一个更高级的主题，处理一个更复杂且符合实际的现象：表面曲率对沉积速率的影响。准确预测尖锐拐角处的薄膜轮廓对于现代器件至关重要。这个问题要求我们将解析推导与数值计算相结合，这是工艺建模工程师必须掌握的一项核心技能。",
            "id": "4115232",
            "problem": "考虑一个沉积过程的二维截面模型，该过程在一个带圆角的矩形沟槽中进行，并采用曲率敏感的表面动力学定律。目标是量化在曲率效应显著的尖锐拐角处的保形性（conformality）和台阶覆盖率（step coverage）。从第一性原理和核心几何事实出发进行研究。假设如下：\n\n- 单位面积上的入射粒子通量是恒定的，记为 $J$。\n- 一个恒定的动力学因子 $\\Gamma$（单位为纳米/单位通量）将入射通量转换为法向界面速度，使得基础速度与 $J$ 成正比。\n- 局部法向生长速度在一阶曲率上与局部曲率呈线性关系。具体来说，速度的增减与由特征微观长度 $\\ell$（单位为纳米）缩放的局部曲率成正比。\n- 局部界面在各处都纯粹以速度 $V_n$ 沿法线方向推进，局部薄膜厚度 $s(t)$ 满足 $ds/dt = V_n$，且 $s(0)=0$。\n- 局部曲率 $\\kappa$ 定义为沉积环境中表面的有符号曲率，单位为纳米的倒数。使用约定，凸拐角具有 $\\kappa > 0$，凹拐角具有 $\\kappa  0$。\n- 对于初始曲率为 $\\kappa_0$（等于 $\\pm 1/R$，其中 $R$ 是拐角半径）的圆弧，在法向偏移量为 $s$ 处的平行（偏移）曲线的曲率由著名的平行曲线关系式给出：\n$$\n\\kappa(s) = \\frac{\\kappa_0}{1 + \\kappa_0 s}.\n$$\n这捕捉了直线段曲率为零以及圆弧沿其法线偏移后仍保持为圆形但半径调整过的几何事实。\n\n任务：\n\n1. 从表面质量守恒、法向运动学定义 $ds/dt = V_n$、量纲一致性以及曲率一阶线性修正的前提条件出发，推导一个依赖于曲率的法向速度 $V_n$ 的表达式，该表达式与 $J$ 成正比，并包含一个乘以曲率的长度尺度 $\\ell$。仔细论证修正项的量纲形式以及凸拐角与凹拐角符号约定的影响。\n\n2. 使用推导出的 $V_n$ 和用于圆弧的平行曲线曲率定律 $\\kappa(s)$，获得以下情况中局部薄膜厚度 $s(t)$ 的控制常微分方程：\n   - 平面段（曲率为零）。\n   - 初始曲率为 $\\kappa_0$ 的弯曲拐角弧。\n   推导出一个将 $s(t)$ 与时间 $t$ 关联的隐式表达式，对于一般的 $\\kappa_0$ 和 $\\ell$ 可以进行数值求解。\n\n3. 设计一个算法，对于给定的时间 $t$、曲率 $\\kappa_0$、通量 $J$、动力学因子 $\\Gamma$ 和长度尺度 $\\ell$ 来稳健地计算 $s(t)$。您的算法必须：\n   - 对于弯曲段，使用单调区间套方法（例如，二分法）数值求解关于 $s(t)$ 的隐式关系，并解析地处理平面段的特殊情况。\n   - 通过要求在 $t=0$ 时 $1 + \\kappa_0 \\ell > 0$ 来确保物理真实性，以使初始速度为非负。对于 $\\kappa_0  0$ 的凹弧，确保数值求解器遵守容许范围 $s  1/|\\kappa_0| - \\ell$，以便对数项保持有定义且偏移半径保持为正。\n   - 以纳米（$\\mathrm{nm}$）为单位生成薄膜厚度，比率以无单位的小数形式表示。\n\n4. 定义保形性度量。设 $s_{\\text{field}}(t)$ 表示沟槽上方平面区域的厚度，$s_{\\text{top}}(t)$ 表示半径为 $R_{\\text{top}}$ 的凸顶角的厚度（$\\kappa_0 = +1/R_{\\text{top}}$），$s_{\\text{bottom}}(t)$ 表示半径为 $R_{\\text{bottom}}$ 的凹底角的厚度（$\\kappa_0 = -1/R_{\\text{bottom}}$）。计算台阶覆盖率：\n$$\nr_{\\text{bottom}} = \\frac{s_{\\text{bottom}}(t)}{s_{\\text{field}}(t)}, \\quad\nr_{\\text{top}} = \\frac{s_{\\text{top}}(t)}{s_{\\text{field}}(t)}.\n$$\n将这两个比率都报告为小数（不带百分号）。\n\n5. 在一个程序中实现计算。使用以下物理上合理的参数集测试套件（所有长度单位为纳米，时间单位为秒，曲率单位为纳米的倒数，速度单位为纳米/秒）：\n\n- 测试案例1（一般情况）：\n  - $\\Gamma = 0.6$ $\\mathrm{nm}$ 每单位通量，$J = 1.0$ 每秒（因此基础速率 $A = \\Gamma J = 0.6$ $\\mathrm{nm/s}$），\n  - $\\ell = 5$ $\\mathrm{nm}$，\n  - $R_{\\text{top}} = 50$ $\\mathrm{nm}$，$R_{\\text{bottom}} = 50$ $\\mathrm{nm}$，\n  - $t = 10$ $\\mathrm{s}$。\n\n- 测试案例2（尖锐拐角）：\n  - $\\Gamma = 1.0$ $\\mathrm{nm}$ 每单位通量，$J = 1.0$ 每秒（$A = 1.0$ $\\mathrm{nm/s}$），\n  - $\\ell = 2$ $\\mathrm{nm}$，\n  - $R_{\\text{top}} = 5$ $\\mathrm{nm}$，$R_{\\text{bottom}} = 5$ $\\mathrm{nm}$，\n  - $t = 4$ $\\mathrm{s}$。\n\n- 测试案例3（强凹曲率减速）：\n  - $\\Gamma = 0.5$ $\\mathrm{nm}$ 每单位通量，$J = 1.0$ 每秒（$A = 0.5$ $\\mathrm{nm/s}$），\n  - $\\ell = 18$ $\\mathrm{nm}$，\n  - $R_{\\text{top}} = 20$ $\\mathrm{nm}$，$R_{\\text{bottom}} = 20$ $\\mathrm{nm}$，\n  - $t = 5$ $\\mathrm{s}$。\n\n- 测试案例4（无曲率效应基准）：\n  - $\\Gamma = 0.75$ $\\mathrm{nm}$ 每单位通量，$J = 1.0$ 每秒（$A = 0.75$ $\\mathrm{nm/s}$），\n  - $\\ell = 0$ $\\mathrm{nm}$，\n  - $R_{\\text{top}} = 10$ $\\mathrm{nm}$，$R_{\\text{bottom}} = 10$ $\\mathrm{nm}$，\n  - $t = 8$ $\\mathrm{s}$。\n\n对于每个测试案例，计算并返回序对 $\\left[r_{\\text{bottom}}, r_{\\text{top}}\\right]$。\n\n您的程序应生成单行输出，其中包含用方括号括起来的逗号分隔列表形式的结果，每个测试案例按指定顺序表示为一个双元素列表。例如，输出格式必须类似于：\n\"[[r_{b1},r_{t1}],[r_{b2},r_{t2}],[r_{b3},r_{t3}],[r_{b4},r_{t4}]]\"。",
            "solution": "该问题陈述具有科学依据、是适定的（well-posed），并且内部一致。它提出了一个用于薄膜沉积中表面演化的标准（尽管简化了）模型，这是半导体工艺建模中的一个核心重要课题。其前提基于已建立的几何原理（平行曲线）和物理近似（生长速率对曲率的线性依赖）。为获得唯一解所需的所有参数和约束都已提供。因此，该问题是有效的，并将提供一个解。\n\n根据问题的任务要求，解决方案分四个阶段展开：\n1.  推导依赖于曲率的法向速度 $V_n$。\n2.  建立薄膜厚度 $s(t)$ 的控制常微分方程（ODE）。\n3.  对ODE进行积分，以找到 $s(t)$ 的隐式方程。\n4.  描述用于求解 $s(t)$ 并计算所需保形性度量的数值算法。\n\n**1. 法向速度 $V_n$ 的推导**\n\n问题陈述指出，局部法向生长速度 $V_n$ 由一个与入射通量 $J$ 成正比的基础速度，加上一个与局部曲率 $\\kappa$ 呈线性关系的一阶修正项组成。\n\n基础速度，我们称之为 $A$，通过动力学因子 $\\Gamma$ 与通量 $J$ 相关。$\\Gamma$ 的单位给出为纳米/单位通量（例如，$\\mathrm{nm} / (\\mathrm{particles} \\cdot \\mathrm{cm}^{-2} \\cdot \\mathrm{s}^{-1})$），而 $J$ 的单位是通量（例如，$\\mathrm{particles} \\cdot \\mathrm{cm}^{-2} \\cdot \\mathrm{s}^{-1}$）。为了得到单位为 $\\mathrm{nm/s}$ 的速度，基础速度的量纲一致形式为：\n$$\nA = \\Gamma J.\n$$\n对速度的修正必须与曲率 $\\kappa$（单位：$\\mathrm{nm}^{-1}$）呈线性关系，并涉及特征长度尺度 $\\ell$（单位：$\\mathrm{nm}$）。为了保持量纲一致性——即修正项也必须具有速度单位（$\\mathrm{nm/s}$）——最直接的公式是将基础速度 $A$ 乘以一个与 $\\kappa$ 成正比的无量纲因子。由 $\\ell$ 和 $\\kappa$ 形成的无量纲群是 $(\\ell \\kappa)$。\n\n因此，总法向速度 $V_n$ 可以表示为：\n$$\nV_n(\\kappa) = A (1 + \\ell \\kappa).\n$$\n这个形式是满足曲率线性要求和量纲一致性的最简形式。符号约定也与物理预期一致：\n- 对于凸拐角（例如，沟槽顶部），$\\kappa > 0$。速度变为 $V_n = A(1 + \\ell\\kappa) > A$，表示生长加速。\n- 对于凹拐角（例如，沟槽底部），$\\kappa  0$。速度变为 $V_n = A(1 - \\ell|\\kappa|)  A$，表示生长减缓，这通常是由于几何遮蔽效应。问题的约束条件 $1 + \\kappa_0 \\ell > 0$ 确保了初始速度为正，防止了在过程开始时出现非物理的刻蚀现象。\n\n**2. 薄膜厚度 $s(t)$ 控制常微分方程的建立**\n\n薄膜的演化由局部法向运动学决定，即 $ds/dt = V_n$，其中 $s(t)$ 是在时间 $t$ 后垂直于初始表面生长的局部薄膜厚度。曲率 $\\kappa$ 不是恒定的，而是随着表面的生长而演化。对于具有曲率为 $\\kappa_0$ 的圆弧的初始表面，在法向距离 $s$ 处的平行曲线的曲率由以下公式给出：\n$$\n\\kappa(s) = \\frac{\\kappa_0}{1 + \\kappa_0 s}.\n$$\n将此代入我们对 $V_n$ 的表达式中，我们得到速度作为厚度 $s$ 的函数：\n$$\nV_n(s) = A \\left(1 + \\ell \\frac{\\kappa_0}{1 + \\kappa_0 s}\\right).\n$$\n合并各项，我们得到：\n$$\nV_n(s) = A \\left(\\frac{1 + \\kappa_0 s + \\ell \\kappa_0}{1 + \\kappa_0 s}\\right) = A \\left(\\frac{1 + \\kappa_0(s + \\ell)}{1 + \\kappa_0 s}\\right).\n$$\n因此，薄膜厚度 $s(t)$ 的控制常微分方程是：\n$$\n\\frac{ds}{dt} = A \\left(\\frac{1 + \\kappa_0(s + \\ell)}{1 + \\kappa_0 s}\\right),\n$$\n初始条件为 $s(0) = 0$。\n\n**3. 积分与隐式解**\n\n推导出的常微分方程是一个一阶、自治、可分离的微分方程。我们可以分离变量来求解它：\n$$\n\\left(\\frac{1 + \\kappa_0 s}{1 + \\kappa_0(s + \\ell)}\\right) ds = A \\, dt.\n$$\n我们对两边从初始状态 $(s=0, t=0)$ 积分到一般状态 $(s(t), t)$：\n$$\n\\int_{0}^{s(t)} \\left(\\frac{1 + \\kappa_0 u}{1 + \\kappa_0 \\ell + \\kappa_0 u}\\right) du = \\int_{0}^{t} A \\, d\\tau.\n$$\n右边就是 $At$。对于左边的积分，我们使用代数变换重写被积函数：\n$$\n\\frac{1 + \\kappa_0 u}{1 + \\kappa_0 \\ell + \\kappa_0 u} = \\frac{(1 + \\kappa_0 \\ell + \\kappa_0 u) - \\kappa_0 \\ell}{1 + \\kappa_0 \\ell + \\kappa_0 u} = 1 - \\frac{\\kappa_0 \\ell}{1 + \\kappa_0 \\ell + \\kappa_0 u}.\n$$\n积分变为：\n$$\n\\int_{0}^{s} \\left(1 - \\frac{\\kappa_0 \\ell}{1 + \\kappa_0 \\ell + \\kappa_0 u}\\right) du = \\left[ u - \\ell \\ln(1 + \\kappa_0 \\ell + \\kappa_0 u) \\right]_0^s.\n$$\n这里，我们使用了标准积分 $\\int \\frac{k}{a+ku} du = \\ln(a+ku)$。根据问题的约束条件（$1+\\kappa_0 \\ell > 0$ 且对于凹拐角 $s$ 小于曲率半径），项 $(1 + \\kappa_0 \\ell + \\kappa_0 u)$ 保证为正，因此对数中的绝对值是不需要的。\n\n计算定积分：\n$$\n\\left( s - \\ell \\ln(1 + \\kappa_0(s + \\ell)) \\right) - \\left( 0 - \\ell \\ln(1 + \\kappa_0 \\ell) \\right) = s - \\ell \\left( \\ln(1 + \\kappa_0(s + \\ell)) - \\ln(1 + \\kappa_0 \\ell) \\right).\n$$\n使用对数性质简化为：\n$$\ns - \\ell \\ln\\left(\\frac{1 + \\kappa_0(s + \\ell)}{1 + \\kappa_0 \\ell}\\right).\n$$\n将此与右边的积分相等，我们得到 $s$ 和 $t$ 之间的隐式关系：\n$$\nA t = s - \\ell \\ln\\left(\\frac{1 + \\kappa_0(s + \\ell)}{1 + \\kappa_0 \\ell}\\right).\n$$\n特殊情况：\n- 如果 $\\kappa_0 = 0$（平面），常微分方程简化为 $ds/dt = A$，得到 $s(t) = At$。\n- 如果 $\\ell = 0$（无曲率依赖），对数项消失，我们同样得到 $s(t) = At$，意味着沉积是完全保形的。\n\n**4. 数值解和度量计算算法**\n\n为了在给定时间 $t$ 求得厚度 $s$，我们必须数值求解该隐式方程。我们定义一个函数 $f(s)$，其根即为所需的厚度：\n$$\nf(s) = s - \\ell \\ln\\left(\\frac{1 + \\kappa_0(s + \\ell)}{1 + \\kappa_0 \\ell}\\right) - At = 0.\n$$\n该函数对 $s$ 的导数是 $f'(s) = (1 + \\kappa_0 s) / (1 + \\kappa_0(s + \\ell))$，在给定的物理约束下，它总是正的。这保证了 $f(s)$ 是严格单调的，使其非常适合像二分法这样的求根算法。\n\n算法如下：\n1.  **输入**：时间 $t$、初始曲率 $\\kappa_0$、基础速率 $A = \\Gamma J$ 和特征长度 $\\ell$。\n2.  **处理特殊情况**：如果 $\\ell=0$ 或 $\\kappa_0=0$，返回 $s = At$。\n3.  **数值解（二分法）**：\n    a. 如上定义函数 $f(s)$。\n    b. 建立一个搜索区间 $[s_{\\text{low}}, s_{\\text{high}}]$。因为 $f(0) = -At  0$，我们可以设置 $s_{\\text{low}} = 0$。\n    c. 对于上界 $s_{\\text{high}}$：\n        - 如果 $\\kappa_0 > 0$（凸面），生长加速。我们可以从一个猜测值开始，如 $s_{\\text{high}} = 2At$，并扩展区间（例如，通过加倍）直到 $f(s_{\\text{high}}) > 0$。\n        - 如果 $\\kappa_0  0$（凹面），生长减速。厚度 $s$ 受到物理条件的限制，即偏移曲线不自交，这意味着 $1 + \\kappa_0(s+\\ell) > 0$。这给出了一个上限 $s  1/|\\kappa_0| - \\ell$。我们设置 $s_{\\text{high}} = 1/|\\kappa_0| - \\ell$。当 $s$ 接近这个极限时，$f(s) \\to \\infty$，所以这为根提供了一个有效的上界。\n    d. 在区间 $[s_{\\text{low}}, s_{\\text{high}}]$ 上重复二分法足够多次（例如，100次）以达到高精度，根据 $f(s_{\\text{mid}})$ 的符号更新边界。\n    e. 返回最终的中点作为 $s(t)$ 的解。\n\n4.  **度量计算**：\n    a. 计算平场厚度：$s_{\\text{field}}(t) = s(t, \\kappa_0=0, A, \\ell) = At$。\n    b. 计算顶角厚度：$s_{\\text{top}}(t) = s(t, \\kappa_0=1/R_{\\text{top}}, A, \\ell)$。\n    c. 计算底角厚度：$s_{\\text{bottom}}(t) = s(t, \\kappa_0=-1/R_{\\text{bottom}}, A, \\ell)$。\n    d. 计算比率：$r_{\\text{bottom}} = s_{\\text{bottom}}(t) / s_{\\text{field}}(t)$ 和 $r_{\\text{top}} = s_{\\text{top}}(t) / s_{\\text{field}}(t)$。\n\n对问题中提供的每个测试案例实施此过程。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Main function to solve the deposition problem for the given test cases.\n    \"\"\"\n\n    def solve_s_numeric(t, k0, A, l, R=None):\n        \"\"\"\n        Calculates the film thickness s(t) by numerically solving the implicit equation.\n\n        Args:\n            t (float): Time.\n            k0 (float): Initial curvature.\n            A (float): Base deposition rate (Gamma * J).\n            l (float): Characteristic length scale.\n            R (float, optional): Initial radius, for concave cases (|k0| = 1/R).\n\n        Returns:\n            float: Film thickness s at time t.\n        \"\"\"\n        # Handle trivial cases where growth is uniform.\n        if l == 0 or k0 == 0:\n            return A * t\n\n        # Check the physical realism constraint at t=0.\n        # This condition should be met by all valid test cases.\n        if not (1 + k0 * l > 0):\n            # This would indicate an invalid parameter set leading to initial etching.\n            return np.nan\n\n        # The implicit equation is f(s) = 0, where:\n        # f(s) = s - l * log((1 + k0*(s+l)) / (1 + k0*l)) - A*t\n        term_denom = 1 + k0 * l\n        target_val = A * t\n\n        def f(s):\n            term_numer = 1 + k0 * (s + l)\n            # The argument to the log must be positive. This is guaranteed by the\n            # choice of the upper bound s_high in the bisection search.\n            return s - l * np.log(term_numer / term_denom) - target_val\n\n        # --- Bisection Method for Root Finding ---\n        s_low = 0.0\n\n        # Set the upper bound for the search bracket [s_low, s_high].\n        if k0 > 0:  # Convex corner: growth is accelerated\n            # Start with a reasonable guess for s_high and expand if necessary.\n            s_high = 2.0 * A * t\n            # Ensure the bracket is valid (f(s_high) > 0).\n            # f(0) is always negative (-A*t), so f(s_low) is negative.\n            while f(s_high)  0:\n                s_high *= 2.0\n        else:  # Concave corner (k0  0): growth is retarded\n            # The thickness s is physically limited to prevent self-intersection.\n            # The limit is s  1/|k0| - l = R - l.\n            # As s approaches this limit, f(s) -> infinity. This is a hard upper bound.\n            s_high = R - l\n            # To avoid floating point issues at the boundary, we step back a tiny amount.\n            if s_high = 0:\n                # This case R = l is ruled out by the 1+k0*l > 0 constraint\n                return np.nan\n            # Just use s_high directly. f(s) -> +inf, so f(s_high-eps) will be positive and large.\n\n        # Bisection loop for a fixed number of iterations for high precision.\n        for _ in range(100):\n            s_mid = (s_low + s_high) / 2.0\n            if s_mid == s_low or s_mid == s_high: # Reached precision limit\n                break\n            if f(s_mid)  0:\n                s_low = s_mid\n            else:\n                s_high = s_mid\n\n        return (s_low + s_high) / 2.0\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # (Gamma, J, l, R_top, R_bottom, t)\n        (0.6, 1.0, 5, 50, 50, 10),  # Test Case 1\n        (1.0, 1.0, 2, 5, 5, 4),    # Test Case 2\n        (0.5, 1.0, 18, 20, 20, 5),   # Test Case 3\n        (0.75, 1.0, 0, 10, 10, 8),  # Test Case 4\n    ]\n\n    results = []\n    for case in test_cases:\n        Gamma, J, l, R_top, R_bottom, t = case\n        \n        # Calculate base deposition rate\n        A = Gamma * J\n        \n        # Calculate field thickness (planar surface, k0=0)\n        s_field = A * t\n        \n        # Calculate thickness on top convex corner\n        k_top = 1.0 / R_top\n        s_top = solve_s_numeric(t, k_top, A, l, R=R_top)\n        \n        # Calculate thickness on bottom concave corner\n        k_bottom = -1.0 / R_bottom\n        s_bottom = solve_s_numeric(t, k_bottom, A, l, R=R_bottom)\n        \n        # Calculate conformality ratios\n        r_top = s_top / s_field\n        r_bottom = s_bottom / s_field\n        \n        results.append([r_bottom, r_top])\n\n    # Final print statement in the exact required format.\n    # The str() representation of a list of lists with spaces removed matches the spec.\n    print(str(results).replace(\" \", \"\"))\n\nsolve()\n```"
        }
    ]
}