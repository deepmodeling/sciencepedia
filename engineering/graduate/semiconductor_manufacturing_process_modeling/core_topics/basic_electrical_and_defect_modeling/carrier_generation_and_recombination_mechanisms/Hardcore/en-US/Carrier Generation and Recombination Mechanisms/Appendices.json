{
    "hands_on_practices": [
        {
            "introduction": "Understanding the steady-state balance between carrier generation and recombination is fundamental to device modeling. This practice challenges you to numerically solve the core equation $G=R$, incorporating the three primary recombination mechanisms (SRH, radiative, and Auger) to find the steady-state carrier concentrations under illumination. This exercise will build your skills in implementing physical models and calculating key parameters like quasi-Fermi levels, which describe the system's non-equilibrium state .",
            "id": "4112479",
            "problem": "Consider a uniformly illuminated, long, one-dimensional silicon slab at steady state with negligible spatial gradients and negligible surface recombination, so that spatial current divergence is zero. Use the electron and hole continuity equations as the fundamental base, namely that the electron continuity equation is $$\\frac{\\partial n}{\\partial t} = G_n - R_n + \\frac{1}{q}\\nabla \\cdot \\mathbf{J}_n$$ and the hole continuity equation is $$\\frac{\\partial p}{\\partial t} = G_p - R_p - \\frac{1}{q}\\nabla \\cdot \\mathbf{J}_p,$$ where $n$ is the electron density, $p$ is the hole density, $G_n$ and $G_p$ are generation rates, $R_n$ and $R_p$ are recombination rates, $q$ is the elementary charge, and $\\mathbf{J}_n$ and $\\mathbf{J}_p$ are the electron and hole current densities. Under the stated conditions, set $$\\nabla \\cdot \\mathbf{J}_n = 0$$ and $$\\nabla \\cdot \\mathbf{J}_p = 0,$$ and consider only uniform optical pair generation, so that $$G_n = G_p = G_{\\mathrm{op}}.$$ At steady state, $$\\partial n/\\partial t = 0$$ and $$\\partial p/\\partial t = 0,$$ which implies $$G_{\\mathrm{op}} = R(n,p),$$ where $$R(n,p)$$ is the total recombination rate per unit volume.\n\nModel the total recombination rate $$R(n,p)$$ as the sum of Shockley-Read-Hall (SRH), radiative, and Auger recombination mechanisms, using well-tested forms. Assume a single mid-gap trap so that the SRH recombination uses $$n_1 = p_1 = n_i,$$ where $$n_i$$ is the intrinsic carrier concentration. Specifically, use\n$$R_{\\mathrm{SRH}}(n,p) = \\frac{n p - n_i^2}{\\tau_p (n + n_1) + \\tau_n (p + p_1)},$$\n$$R_{\\mathrm{rad}}(n,p) = B \\left(n p - n_i^2\\right),$$\n$$R_{\\mathrm{Auger}}(n,p) = \\left(C_n n + C_p p\\right)\\left(n p - n_i^2\\right),$$\nand $$R(n,p) = R_{\\mathrm{SRH}}(n,p) + R_{\\mathrm{rad}}(n,p) + R_{\\mathrm{Auger}}(n,p).$$\n\nAssume complete dopant ionization and use charge neutrality and mass-action to determine equilibrium carrier densities in the dark before illumination. Let the net doping be $$N_{\\mathrm{net}} = N_D - N_A,$$ where $$N_D$$ is the donor concentration and $$N_A$$ is the acceptor concentration. In equilibrium, $$n_0 p_0 = n_i^2$$ and $$n_0 - p_0 = N_{\\mathrm{net}},$$ which determines $$n_0$$ and $$p_0$$. Under uniform optical pair generation at steady state, assume equal excess carriers for electrons and holes, so let $$\\Delta n = \\Delta p = \\Delta$$ and thus $$n = n_0 + \\Delta$$ and $$p = p_0 + \\Delta.$$ Find $$\\Delta$$ by solving $$G_{\\mathrm{op}} = R(n_0 + \\Delta, p_0 + \\Delta).$$\n\nOnce $$n$$ and $$p$$ are determined, compute the electron and hole quasi-Fermi levels relative to the intrinsic energy level $$E_i$$ as\n$$E_{F_n} - E_i = k_B T \\ln\\left(\\frac{n}{n_i}\\right), \\quad E_{F_p} - E_i = - k_B T \\ln\\left(\\frac{p}{n_i}\\right),$$\nwhere $$k_B$$ is the Boltzmann constant and $$T$$ is the absolute temperature. Express energies in electronvolts (eV).\n\nYour task is to write a complete, runnable program that, for each specified test case, numerically solves for $$\\Delta$$ satisfying $$G_{\\mathrm{op}} = R(n_0 + \\Delta, p_0 + \\Delta)$$ and then computes $$E_{F_n} - E_i$$ and $$E_{F_p} - E_i$$. Use a robust root-finding strategy that does not rely on closed-form shortcuts. All physical units must be consistently handled: densities in $\\mathrm{cm^{-3}}$, rates in $\\mathrm{cm^{-3}\\,s^{-1}}$, lifetimes in $\\mathrm{s}$, radiative coefficients in $\\mathrm{cm^{3}\\,s^{-1}}$, Auger coefficients in $\\mathrm{cm^{6}\\,s^{-1}}$, temperature in $\\mathrm{K}$, and energies in $\\mathrm{eV}$. Report $$E_{F_n} - E_i$$ and $$E_{F_p} - E_i$$ in $\\mathrm{eV}$, each rounded to six decimal places.\n\nUse the Boltzmann constant in electronvolts per kelvin as $$k_B = 8.617333262145\\times 10^{-5}\\,\\mathrm{eV/K}.$$\n\nTest suite (each case provides $$T$$, $$n_i$$, $$N_D$$, $$N_A$$, $$\\tau_n$$, $$\\tau_p$$, $$B$$, $$C_n$$, $$C_p$$, $$G_{\\mathrm{op}}$$-type):\n$1.$ General low-injection, moderately doped $$p$$-type: $$T=300\\,\\mathrm{K}$$, $$n_i=1.0\\times 10^{10}\\,\\mathrm{cm^{-3}}$$, $$N_D=0\\,\\mathrm{cm^{-3}}$$, $$N_A=1.0\\times 10^{16}\\,\\mathrm{cm^{-3}}$$, $$\\tau_n=1.0\\times 10^{-6}\\,\\mathrm{s}$$, $$\\tau_p=1.0\\times 10^{-6}\\,\\mathrm{s}$$, $$B=1.0\\times 10^{-14}\\,\\mathrm{cm^{3}\\,s^{-1}}$$, $$C_n=2.8\\times 10^{-31}\\,\\mathrm{cm^{6}\\,s^{-1}}$$, $$C_p=9.9\\times 10^{-32}\\,\\mathrm{cm^{6}\\,s^{-1}}$$, $$G_{\\mathrm{op}}=5.0\\times 10^{20}\\,\\mathrm{cm^{-3}\\,s^{-1}}$$.\n$2.$ High-injection $$n$$-type with asymmetric lifetimes: $$T=300\\,\\mathrm{K}$$, $$n_i=1.0\\times 10^{10}\\,\\mathrm{cm^{-3}}$$, $$N_D=1.0\\times 10^{15}\\,\\mathrm{cm^{-3}}$$, $$N_A=0\\,\\mathrm{cm^{-3}}$$, $$\\tau_n=1.0\\times 10^{-6}\\,\\mathrm{s}$$, $$\\tau_p=2.0\\times 10^{-6}\\,\\mathrm{s}$$, $$B=1.0\\times 10^{-14}\\,\\mathrm{cm^{3}\\,s^{-1}}$$, $$C_n=2.8\\times 10^{-31}\\,\\mathrm{cm^{6}\\,s^{-1}}$$, $$C_p=1.0\\times 10^{-31}\\,\\mathrm{cm^{6}\\,s^{-1}}$$, $$G_{\\mathrm{op}}=1.0\\times 10^{23}\\,\\mathrm{cm^{-3}\\,s^{-1}}$$.\n$3.$ Heavily doped $$n$$-type, Auger-dominated recombination: $$T=300\\,\\mathrm{K}$$, $$n_i=1.0\\times 10^{10}\\,\\mathrm{cm^{-3}}$$, $$N_D=1.0\\times 10^{18}\\,\\mathrm{cm^{-3}}$$, $$N_A=0\\,\\mathrm{cm^{-3}}$$, $$\\tau_n=1.0\\times 10^{-5}\\,\\mathrm{s}$$, $$\\tau_p=1.0\\times 10^{-5}\\,\\mathrm{s}$$, $$B=1.0\\times 10^{-15}\\,\\mathrm{cm^{3}\\,s^{-1}}$$, $$C_n=2.8\\times 10^{-31}\\,\\mathrm{cm^{6}\\,s^{-1}}$$, $$C_p=1.0\\times 10^{-31}\\,\\mathrm{cm^{6}\\,s^{-1}}$$, $$G_{\\mathrm{op}}=1.0\\times 10^{22}\\,\\mathrm{cm^{-3}\\,s^{-1}}$$.\n$4.$ Near-dark boundary case, lightly $$p$$-type with long lifetimes: $$T=300\\,\\mathrm{K}$$, $$n_i=1.0\\times 10^{10}\\,\\mathrm{cm^{-3}}$$, $$N_D=0\\,\\mathrm{cm^{-3}}$$, $$N_A=1.0\\times 10^{15}\\,\\mathrm{cm^{-3}}$$, $$\\tau_n=1.0\\times 10^{-4}\\,\\mathrm{s}$$, $$\\tau_p=1.0\\times 10^{-4}\\,\\mathrm{s}$$, $$B=1.0\\times 10^{-14}\\,\\mathrm{cm^{3}\\,s^{-1}}$$, $$C_n=2.8\\times 10^{-31}\\,\\mathrm{cm^{6}\\,s^{-1}}$$, $$C_p=1.0\\times 10^{-31}\\,\\mathrm{cm^{6}\\,s^{-1}}$$, $$G_{\\mathrm{op}}=1.0\\times 10^{5}\\,\\mathrm{cm^{-3}\\,s^{-1}}$$.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets. Each test case’s result is the list $$[E_{F_n} - E_i, E_{F_p} - E_i]$$ in $\\mathrm{eV}$, each rounded to six decimal places. The overall output must thus be of the form $$[[x_1,y_1],[x_2,y_2],[x_3,y_3],[x_4,y_4]]$$ with no spaces.",
            "solution": "The problem requires the calculation of electron and hole quasi-Fermi levels in a uniformly illuminated semiconductor slab at steady state. The solution involves numerically solving a non-linear equation for the excess carrier concentration, which is derived from fundamental semiconductor physics principles.\n\nThe starting point is the pair of carrier continuity equations provided:\n$$\n\\frac{\\partial n}{\\partial t} = G_n - R_n + \\frac{1}{q}\\nabla \\cdot \\mathbf{J}_n \\\\\n\\frac{\\partial p}{\\partial t} = G_p - R_p - \\frac{1}{q}\\nabla \\cdot \\mathbf{J}_p\n$$\nUnder the specified conditions of steady state ($$\\partial/\\partial t = 0$$), uniform illumination ($$G_n = G_p = G_{\\mathrm{op}}$$), and negligible spatial gradients ($$\\nabla \\cdot \\mathbf{J} = 0$$), these equations simplify to a single balance equation:\n$$\nG_{\\mathrm{op}} = R(n,p)\n$$\nwhere $$R(n,p)$$ is the total net recombination rate, which is the sum of Shockley-Read-Hall ($$R_{\\mathrm{SRH}}$$), radiative ($$R_{\\mathrm{rad}}$$), and Auger ($$R_{\\mathrm{Auger}}$$) recombination rates.\n\nThe first step is to determine the equilibrium carrier concentrations, $$n_0$$ and $$p_0$$, in the semiconductor before illumination (in the dark). These are determined by the net doping concentration $$N_{\\mathrm{net}} = N_D - N_A$$ and the intrinsic carrier concentration $$n_i$$ through the principles of charge neutrality and the mass-action law:\n$$\nn_0 - p_0 = N_{\\mathrm{net}} \\\\\nn_0 p_0 = n_i^2\n$$\nSubstituting $$p_0 = n_0 - N_{\\mathrm{net}}$$ into the mass-action law yields a quadratic equation for $$n_0$$:\n$$\nn_0(n_0 - N_{\\mathrm{net}}) = n_i^2 \\implies n_0^2 - N_{\\mathrm{net}} n_0 - n_i^2 = 0\n$$\nThe physically valid solution for $$n_0$$ (which must be positive) is given by the quadratic formula:\n$$\nn_0 = \\frac{N_{\\mathrm{net}} + \\sqrt{N_{\\mathrm{net}}^2 + 4n_i^2}}{2}\n$$\nOnce $$n_0$$ is calculated, $$p_0$$ is determined from $$p_0 = n_i^2 / n_0$$.\n\nUnder uniform optical generation, electron-hole pairs are created. We assume low-level injection conditions do not necessarily hold, but we do assume that the excess electron concentration $$\\Delta n$$ is equal to the excess hole concentration $$\\Delta p$$. Let this excess concentration be $$\\Delta = \\Delta n = \\Delta p$$. The total carrier concentrations under illumination are then:\n$$\nn = n_0 + \\Delta \\\\\np = p_0 + \\Delta\n$$\nThe core of the problem is to find the value of $$\\Delta$$ that satisfies the steady-state balance equation $$G_{\\mathrm{op}} = R(n,p)$$. The total recombination rate $$R$$ is a function of $$\\Delta$$:\n$$\nR(\\Delta) = R_{\\mathrm{SRH}}(\\Delta) + R_{\\mathrm{rad}}(\\Delta) + R_{\\mathrm{Auger}}(\\Delta)\n$$\nThe component rates are expressed in terms of $$n$$ and $$p$$:\n$$\nR_{\\mathrm{SRH}} = \\frac{np - n_i^2}{\\tau_p(n + n_1) + \\tau_n(p + p_1)} \\\\\nR_{\\mathrm{rad}} = B(np - n_i^2) \\\\\nR_{\\mathrm{Auger}} = (C_n n + C_p p)(np - n_i^2)\n$$\nFor a single mid-gap trap level, we have $$n_1 = p_1 = n_i$$. The term $$np - n_i^2$$ can be simplified by substituting $$n = n_0 + \\Delta$$ and $$p = p_0 + \\Delta$$:\n$$\nnp - n_i^2 = (n_0 + \\Delta)(p_0 + \\Delta) - n_i^2 = n_0 p_0 + \\Delta(n_0 + p_0) + \\Delta^2 - n_i^2\n$$\nSince $$n_0 p_0 = n_i^2$$, this term simplifies to:\n$$\nnp - n_i^2 = \\Delta(n_0 + p_0 + \\Delta)\n$$\nSubstituting these expressions into the balance equation gives a single non-linear equation for $$\\Delta$$:\n$$\nG_{\\mathrm{op}} = \\left( \\frac{1}{\\tau_p(n_0+\\Delta+n_i) + \\tau_n(p_0+\\Delta+n_i)} + B + C_n(n_0+\\Delta) + C_p(p_0+\\Delta) \\right) \\times \\Delta(n_0+p_0+\\Delta)\n$$\nThis equation, $$G_{\\mathrm{op}} = R(\\Delta)$$, does not have a straightforward analytical solution for $$\\Delta$$. Therefore, it must be solved numerically. We define a function $$f(\\Delta) = R(\\Delta) - G_{\\mathrm{op}}$$ and seek the root $$\\Delta \\ge 0$$ where $$f(\\Delta) = 0$$. The recombination rate $$R(\\Delta)$$ is a monotonically increasing function for $$\\Delta \\ge 0$$, with $$R(0) = 0$$. Thus, for any $$G_{\\mathrm{op}} \\ge 0$$, a unique non-negative root for $$\\Delta$$ exists. A robust numerical root-finding algorithm, such as Brent's method, can be employed. This method requires bracketing the root. Since $$f(0) = -G_{\\mathrm{op}} \\le 0$$ and $$f(\\Delta)  0$$ for a sufficiently large $$\\Delta$$, we can use a bracket like $$[0, \\Delta_{\\mathrm{max}}]$$ where $$\\Delta_{\\mathrm{max}}$$ is a physically plausible upper bound (e.g., $10^{21}\\,\\mathrm{cm^{-3}}$).\n\nOnce the numerical solver finds $$\\Delta$$, the total carrier concentrations $$n$$ and $$p$$ are computed. With these values, the electron and hole quasi-Fermi levels relative to the intrinsic Fermi level $$E_i$$ are calculated using the provided formulas:\n$$\nE_{F_n} - E_i = k_B T \\ln\\left(\\frac{n}{n_i}\\right) \\\\\nE_{F_p} - E_i = -k_B T \\ln\\left(\\frac{p}{n_i}\\right)\n$$\nHere, $$k_B$$ is the Boltzmann constant in $\\mathrm{eV/K}$, $$T$$ is the temperature in Kelvin, and the result is in electronvolts (eV). The calculations will be implemented for each test case provided. The consistent use of specified units ($$\\mathrm{cm^{-3}}$$, $$\\mathrm{s}$$, etc.) is maintained throughout the calculation.",
            "answer": "```python\nimport numpy as np\nfrom scipy.optimize import root_scalar\n\ndef solve():\n    \"\"\"\n    Solves for the quasi-Fermi levels in a semiconductor slab under illumination\n    for a series of test cases.\n    \"\"\"\n\n    k_B = 8.617333262145e-5  # eV/K\n\n    test_cases = [\n        # T, ni, ND, NA, tau_n, tau_p, B, Cn, Cp, G_op\n        (300, 1.0e10, 0, 1.0e16, 1.0e-6, 1.0e-6, 1.0e-14, 2.8e-31, 9.9e-32, 5.0e20),\n        (300, 1.0e10, 1.0e15, 0, 1.0e-6, 2.0e-6, 1.0e-14, 2.8e-31, 1.0e-31, 1.0e23),\n        (300, 1.0e10, 1.0e18, 0, 1.0e-5, 1.0e-5, 1.0e-15, 2.8e-31, 1.0e-31, 1.0e22),\n        (300, 1.0e10, 0, 1.0e15, 1.0e-4, 1.0e-4, 1.0e-14, 2.8e-31, 1.0e-31, 1.0e5),\n    ]\n\n    all_results = []\n    \n    for case in test_cases:\n        T, ni, ND, NA, tau_n, tau_p, B, Cn, Cp, G_op = case\n\n        # Step 1: Calculate equilibrium carrier concentrations n0 and p0\n        N_net = ND - NA\n        n0 = 0.5 * (N_net + np.sqrt(N_net**2 + 4 * ni**2))\n        p0 = ni**2 / n0\n\n        # Step 2: Define the function f(delta) = R(delta) - G_op for root finding\n        def total_recombination_minus_G(delta, n0, p0, ni, tau_n, tau_p, B, Cn, Cp, G_op):\n            if delta  0:\n                # Excess concentration cannot be negative. Return a large positive value\n                # to guide solver away from this region if it strays.\n                return 1e30\n\n            # Calculate total concentrations\n            n = n0 + delta\n            p = p0 + delta\n            \n            # The common term in all recombination mechanisms\n            np_minus_ni2 = delta * (n0 + p0 + delta)\n\n            # SRH recombination rate (with n1 = p1 = ni for mid-gap traps)\n            R_srh_denom = tau_p * (n + ni) + tau_n * (p + ni)\n            # Avoid division by zero, although physically R_srh_denom is always positive\n            if R_srh_denom == 0:\n                R_srh = 0.0\n            else:\n                R_srh = np_minus_ni2 / R_srh_denom\n\n            # Radiative recombination rate\n            R_rad = B * np_minus_ni2\n\n            # Auger recombination rate\n            R_auger = (Cn * n + Cp * p) * np_minus_ni2\n            \n            # Total recombination rate\n            R_total = R_srh + R_rad + R_auger\n            \n            return R_total - G_op\n\n        # Step 3: Numerically solve for delta\n        # The bracket [0, 1e21] is a safe range for delta. f(0) is -G_op  0.\n        # f(1e21) will be very large and positive.\n        sol = root_scalar(\n            total_recombination_minus_G,\n            args=(n0, p0, ni, tau_n, tau_p, B, Cn, Cp, G_op),\n            method='brentq',\n            bracket=[0, 1e21] \n        )\n        delta = sol.root\n\n        # Step 4: Calculate total carrier concentrations under illumination\n        n = n0 + delta\n        p = p0 + delta\n\n        # Step 5: Calculate quasi-Fermi levels relative to Ei\n        kBT = k_B * T\n        E_Fn_Ei = kBT * np.log(n / ni)\n        E_Fp_Ei = -kBT * np.log(p / ni)\n        \n        # Format and append results\n        case_result = [round(E_Fn_Ei, 6), round(E_Fp_Ei, 6)]\n        all_results.append(case_result)\n\n    # Final print statement in the exact required format\n    # Example format: [[x1,y1],[x2,y2]]\n    result_str = \",\".join([f\"[{res[0]},{res[1]}]\" for res in all_results])\n    print(f\"[{result_str}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "While the previous exercise focused on finding the steady-state carrier density, this practice explores the consequences of the competition between different recombination pathways. For an optoelectronic device like a Light Emitting Diode (LED), only radiative recombination is useful, while SRH and Auger recombination are loss mechanisms. In this exercise, you will derive and calculate the Internal Quantum Efficiency (IQE) to quantify how effectively injected carriers are converted into photons, providing direct insight into device performance .",
            "id": "4112530",
            "problem": "Consider a direct-gap Light Emitting Diode (LED) operated in steady state under uniform double-carrier injection into its active region, so that the electron and hole densities satisfy $n = p$ and are spatially uniform with value $n$ throughout the active volume. Assume that the three dominant carrier recombination mechanisms in the active region are Shockley–Read–Hall (SRH) recombination via mid-gap traps, band-to-band radiative recombination, and Auger recombination. Let the SRH mechanism be characterized by an effective Shockley–Read–Hall lifetime $\\tau_{\\mathrm{SRH}}$, the radiative process by a bimolecular coefficient $B$, and the Auger process by an effective three-particle coefficient $C$. Neglect photon reabsorption and optical outcoupling effects so that every radiatively recombined electron–hole pair generates one internally emitted photon.\n\nUsing the steady-state carrier continuity principle that net generation equals total recombination in the active region and using only well-established functional forms for the recombination-rate densities of the three mechanisms under the condition $n=p$, derive from first principles a closed-form expression for the internal quantum efficiency (IQE), denoted $\\eta_{\\mathrm{int}}$, defined as the fraction of total electron–hole recombination events that are radiative, as a function of $B$, $C$, $\\tau_{\\mathrm{SRH}}$, and the injection level $n$.\n\nThen, evaluate $\\eta_{\\mathrm{int}}$ numerically for the following physically realistic parameter values representative of a III–V LED active region under high-level injection: $B = 1.0 \\times 10^{-11}\\,\\mathrm{cm}^{3}\\,\\mathrm{s}^{-1}$, $C = 1.0 \\times 10^{-30}\\,\\mathrm{cm}^{6}\\,\\mathrm{s}^{-1}$, $\\tau_{\\mathrm{SRH}} = 1.0 \\times 10^{-7}\\,\\mathrm{s}$, and $n = 2.0 \\times 10^{18}\\,\\mathrm{cm}^{-3}$. Round your final numerical IQE to four significant figures and express it as a unitless decimal number.",
            "solution": "The problem statement is validated as scientifically grounded, well-posed, objective, and complete. It describes a standard scenario in semiconductor optoelectronics—the analysis of internal quantum efficiency in an LED using the established ABC model for carrier recombination. All parameters are provided with physically realistic values and consistent units. I will now proceed with the derivation and calculation.\n\nThe core principle for this problem is the steady-state carrier continuity equation. In steady state, the total rate of carrier recombination must balance the net rate of carrier generation. The problem specifies a uniform carrier density under injection, implying a uniform generation rate $G$ throughout the active volume. The total recombination rate per unit volume, $R_{\\mathrm{total}}$, is the sum of the rates of the three specified mechanisms: Shockley–Read–Hall (SRH) recombination, band-to-band radiative recombination, and Auger recombination.\n\nLet $R_{\\mathrm{SRH}}$, $R_{\\mathrm{rad}}$, and $R_{\\mathrm{Aug}}$ be the recombination-rate densities (events per unit volume per unit time) for the SRH, radiative, and Auger processes, respectively. The total recombination rate density is:\n$$\nR_{\\mathrm{total}} = R_{\\mathrm{SRH}} + R_{\\mathrm{rad}} + R_{\\mathrm{Aug}}\n$$\nIn steady state, $G = R_{\\mathrm{total}}$.\n\nWe now establish the well-established functional forms for each recombination mechanism under the given condition of double-carrier injection where the electron concentration $n$ equals the hole concentration $p$.\n\n1.  **Shockley–Read–Hall (SRH) Recombination**: This non-radiative process occurs via defect states or traps within the semiconductor bandgap. The rate is proportional to the excess carrier concentration. For high-level injection where $n \\approx p \\gg n_i$ (the intrinsic carrier concentration), the excess carrier concentration is approximately $n$. The rate is given by:\n    $$\n    R_{\\mathrm{SRH}} = \\frac{n}{\\tau_{\\mathrm{SRH}}}\n    $$\n    where $\\tau_{\\mathrm{SRH}}$ is the effective SRH lifetime. This term is often written as $An$, where $A = 1/\\tau_{\\mathrm{SRH}}$ is the SRH coefficient.\n\n2.  **Band-to-Band Radiative Recombination**: This is the desired process in an LED, where an electron from the conduction band recombines with a hole in the valence band, emitting a photon. It is a bimolecular process, so its rate is proportional to the product of the electron and hole concentrations:\n    $$\n    R_{\\mathrm{rad}} = Bnp\n    $$\n    Given the condition $n=p$, this simplifies to:\n    $$\n    R_{\\mathrm{rad}} = B n^2\n    $$\n    where $B$ is the bimolecular recombination coefficient.\n\n3.  **Auger Recombination**: This is a non-radiative, three-particle process. An electron and a hole recombine, but the energy is transferred to a third carrier (either an electron or a hole), which is excited to a higher energy state. The general rate is $R_{\\mathrm{Aug}} = C_n n^2 p + C_p n p^2$. Under the condition $n=p$ and with an effective Auger coefficient $C$ (where $C$ implicitly combines the electron- and hole-mediated processes), the rate is:\n    $$\n    R_{\\mathrm{Aug}} = C n^3\n    $$\n\nThe total recombination rate density is the sum of these three rates:\n$$\nR_{\\mathrm{total}} = \\frac{n}{\\tau_{\\mathrm{SRH}}} + B n^2 + C n^3\n$$\n\nThe internal quantum efficiency, $\\eta_{\\mathrm{int}}$, is defined as the fraction of total recombination events that are radiative. This is the ratio of the radiative recombination rate to the total recombination rate:\n$$\n\\eta_{\\mathrm{int}} = \\frac{R_{\\mathrm{rad}}}{R_{\\mathrm{total}}}\n$$\nSubstituting the expressions for the rates, we derive the closed-form expression for $\\eta_{\\mathrm{int}}$ as a function of the given parameters:\n$$\n\\eta_{\\mathrm{int}}(n) = \\frac{B n^2}{\\frac{n}{\\tau_{\\mathrm{SRH}}} + B n^2 + C n^3}\n$$\nThis expression can be algebraically simplified by dividing the numerator and denominator by $n$:\n$$\n\\eta_{\\mathrm{int}}(n) = \\frac{B n}{\\frac{1}{\\tau_{\\mathrm{SRH}}} + B n + C n^2}\n$$\nThis is the required closed-form expression for the internal quantum efficiency.\n\nNext, we evaluate $\\eta_{\\mathrm{int}}$ numerically using the provided parameter values:\n$B = 1.0 \\times 10^{-11}\\,\\mathrm{cm}^{3}\\,\\mathrm{s}^{-1}$\n$C = 1.0 \\times 10^{-30}\\,\\mathrm{cm}^{6}\\,\\mathrm{s}^{-1}$\n$\\tau_{\\mathrm{SRH}} = 1.0 \\times 10^{-7}\\,\\mathrm{s}$\n$n = 2.0 \\times 10^{18}\\,\\mathrm{cm}^{-3}$\n\nWe will calculate the value of each recombination rate density individually.\n\nSRH rate:\n$$\nR_{\\mathrm{SRH}} = \\frac{n}{\\tau_{\\mathrm{SRH}}} = \\frac{2.0 \\times 10^{18}\\,\\mathrm{cm}^{-3}}{1.0 \\times 10^{-7}\\,\\mathrm{s}} = 2.0 \\times 10^{25}\\,\\mathrm{cm}^{-3}\\,\\mathrm{s}^{-1}\n$$\n\nRadiative rate:\n$$\nR_{\\mathrm{rad}} = B n^2 = (1.0 \\times 10^{-11}\\,\\mathrm{cm}^{3}\\,\\mathrm{s}^{-1}) \\times (2.0 \\times 10^{18}\\,\\mathrm{cm}^{-3})^2\n$$\n$$\nR_{\\mathrm{rad}} = (1.0 \\times 10^{-11}) \\times (4.0 \\times 10^{36})\\,\\mathrm{cm}^{-3}\\,\\mathrm{s}^{-1} = 4.0 \\times 10^{25}\\,\\mathrm{cm}^{-3}\\,\\mathrm{s}^{-1}\n$$\n\nAuger rate:\n$$\nR_{\\mathrm{Aug}} = C n^3 = (1.0 \\times 10^{-30}\\,\\mathrm{cm}^{6}\\,\\mathrm{s}^{-1}) \\times (2.0 \\times 10^{18}\\,\\mathrm{cm}^{-3})^3\n$$\n$$\nR_{\\mathrm{Aug}} = (1.0 \\times 10^{-30}) \\times (8.0 \\times 10^{54})\\,\\mathrm{cm}^{-3}\\,\\mathrm{s}^{-1} = 8.0 \\times 10^{24}\\,\\mathrm{cm}^{-3}\\,\\mathrm{s}^{-1}\n$$\n\nNow, we calculate the total recombination rate density:\n$$\nR_{\\mathrm{total}} = R_{\\mathrm{SRH}} + R_{\\mathrm{rad}} + R_{\\mathrm{Aug}}\n$$\n$$\nR_{\\mathrm{total}} = (2.0 \\times 10^{25} + 4.0 \\times 10^{25} + 8.0 \\times 10^{24})\\,\\mathrm{cm}^{-3}\\,\\mathrm{s}^{-1}\n$$\n$$\nR_{\\mathrm{total}} = (2.0 \\times 10^{25} + 4.0 \\times 10^{25} + 0.8 \\times 10^{25})\\,\\mathrm{cm}^{-3}\\,\\mathrm{s}^{-1} = 6.8 \\times 10^{25}\\,\\mathrm{cm}^{-3}\\,\\mathrm{s}^{-1}\n$$\n\nFinally, we compute the internal quantum efficiency:\n$$\n\\eta_{\\mathrm{int}} = \\frac{R_{\\mathrm{rad}}}{R_{\\mathrm{total}}} = \\frac{4.0 \\times 10^{25}\\,\\mathrm{cm}^{-3}\\,\\mathrm{s}^{-1}}{6.8 \\times 10^{25}\\,\\mathrm{cm}^{-3}\\,\\mathrm{s}^{-1}} = \\frac{4.0}{6.8} = \\frac{40}{68} = \\frac{10}{17}\n$$\nThe decimal value is:\n$$\n\\eta_{\\mathrm{int}} \\approx 0.58823529...\n$$\nRounding to four significant figures as requested, we obtain:\n$$\n\\eta_{\\mathrm{int}} \\approx 0.5882\n$$",
            "answer": "$$\n\\boxed{0.5882}\n$$"
        },
        {
            "introduction": "Accurate device simulation requires models with parameters that are calibrated to experimental data. This practice shifts our focus from recombination to high-field generation mechanisms, such as impact ionization, which are critical in phenomena like avalanche breakdown. You will implement a data-fitting algorithm to extract the key coefficients of a field-dependent generation model from measured data, a vital skill in developing and validating predictive process and device models .",
            "id": "4112497",
            "problem": "Consider a high-field carrier generation mechanism in a semiconductor where the generation (impact ionization or field-induced tunneling) coefficient $\\alpha$ depends on the electric field $E$ and exhibits an exponential sensitivity to the inverse field consistent with barrier-lowering physics. For sufficiently large $E$, the logarithm of the generation coefficient can be approximated as a linear function of the inverse electric field. Starting from widely accepted physical principles for field-assisted barrier crossing and tunneling, develop an algorithm that, given measured pairs $\\{(E_i,\\alpha_i)\\}$ in the vicinity of breakdown, estimates the two parameters that characterize the exponential dependence and determines a validity range in $E$ over which the model is consistent with the data to within a specified tolerance.\n\nFundamental base to use:\n- Barrier-crossing and tunneling probabilities under strong electric field can be approximated using semiclassical arguments, which lead to an exponential dependence on a suitably scaled inverse field. This implies that $\\ln\\alpha$ can be treated as approximately linear in $1/E$ in the high-field regime.\n- Ordinary least squares on the linearized relationship is a well-tested method to estimate linear model coefficients in the presence of measurement noise.\n\nYour program must:\n1. Accept the provided test suite of measured data sets (no user input; hard-code them).\n2. For each data set:\n   - Transform $\\{(E_i,\\alpha_i)\\}$ to the variables $x_i = 1/E_i$ and $y_i = \\ln(\\alpha_i)$.\n   - Fit a straight line $y_i \\approx c + m x_i$ using least squares. Interpret the fitted parameters in terms of the original exponential model coefficients $A$ and $B$ through $A = \\exp(c)$ and $B = -m$, ensuring that $A > 0$.\n   - Compute residuals $r_i = y_i - (c + m x_i)$.\n   - Define a tolerance $\\tau$ (in natural-log units) and determine the largest contiguous block of the data when sorted by $E$ such that $|r_i| \\le \\tau$ for all points in that block. If multiple blocks have the same length, pick the one with the smallest mean absolute residual $\\frac{1}{N}\\sum |r_i|$ within the block. Report the validity range $[E_{\\min},E_{\\max}]$ using the smallest and largest $E$ in the selected block.\n3. Output, for each data set, the fitted $A$ in $\\mathrm{m}^{-1}$, $B$ in $\\mathrm{V}/\\mathrm{m}$, and the validity bounds $E_{\\min}$ and $E_{\\max}$ in $\\mathrm{V}/\\mathrm{m}$ as floating-point numbers rounded to six significant digits.\n\nTest suite (each case is a list of measured pairs $\\{(E_i,\\alpha_i)\\}$; $E$ in $\\mathrm{V}/\\mathrm{m}$, $\\alpha$ in $\\mathrm{m}^{-1}$):\n- Case 1 (silicon-like, high-field avalanche region):\n  - $E$: $[1.8\\times 10^7,\\; 2.0\\times 10^7,\\; 2.2\\times 10^7,\\; 2.5\\times 10^7,\\; 3.0\\times 10^7]$\n  - $\\alpha$: $[4.96367\\times 10^3,\\; 1.072983\\times 10^4,\\; 2.299059\\times 10^4,\\; 4.5609\\times 10^4,\\; 1.4823484\\times 10^5]$\n- Case 2 (gallium-arsenide-like, moderate field variation):\n  - $E$: $[1.2\\times 10^7,\\; 1.5\\times 10^7,\\; 1.8\\times 10^7,\\; 2.1\\times 10^7,\\; 2.4\\times 10^7]$\n  - $\\alpha$: $[1.9\\times 10^3,\\; 1.02\\times 10^4,\\; 2.9\\times 10^4,\\; 6.5\\times 10^4,\\; 1.2\\times 10^5]$\n- Case 3 (wide-bandgap material with an outlier):\n  - $E$: $[2.5\\times 10^7,\\; 3.0\\times 10^7,\\; 3.5\\times 10^7,\\; 4.0\\times 10^7,\\; 4.5\\times 10^7]$\n  - $\\alpha$: $[2.4\\times 10^2,\\; 1.18\\times 10^3,\\; 8.0\\times 10^3,\\; 9.7\\times 10^3,\\; 1.9\\times 10^4]$\n\nModel-consistency tolerance:\n- Use $\\tau = 0.3$.\n\nFinal output format:\n- Produce a single line containing a flattened, comma-separated list enclosed in square brackets, aggregating all cases as `[A_1,B_1,E_{\\min,1},E_{\\max,1},A_2,B_2,E_{\\min,2},E_{\\max,2},A_3,B_3,E_{\\min,3},E_{\\max,3}]`.\n- All numbers must be expressed in $\\mathrm{SI}$ units as specified above and rounded to six significant digits.",
            "solution": "The user-provided problem statement has been analyzed and validated as scientifically sound, well-posed, objective, and self-contained. The problem falls within the domain of semiconductor device physics and process modeling, specifically concerning the characterization of high-field carrier generation. It outlines a clear, algorithmically defined procedure for data analysis. Therefore, a solution is warranted.\n\nThe core of the problem is to fit experimental data of the carrier generation coefficient, $\\alpha$, versus the electric field, $E$, to a physically motivated model and determine the model's region of validity.\n\nThe physical basis for the model, $\\alpha(E) = A \\exp(-B/E)$, stems from semiclassical theories of carrier transport in high electric fields. Phenomena such as impact ionization and field-induced tunneling (e.g., Zener or Fowler-Nordheim tunneling) are governed by the probability that a carrier acquires sufficient energy from the field to overcome a potential barrier. For impact ionization, the barrier is the ionization energy, $E_i$. For tunneling, it is the bandgap energy, $E_g$. In both cases, simplified one-dimensional analysis using the WKB approximation or mean-free-path arguments leads to a generation rate or coefficient that depends exponentially on the inverse of the electric field, i.e., of the form $\\alpha \\propto \\exp(-\\text{const}/E)$. This theoretical foundation justifies the use of the model $\\alpha(E) = A e^{-B/E}$, where $A$ is a pre-exponential factor related to material properties and scattering rates, and $B$ is a critical field parameter related to the energy barrier and carrier mean free path.\n\nTo determine the parameters $A$ and $B$ from a set of measured data points $\\{(E_i, \\alpha_i)\\}$, we first linearize the model equation. Taking the natural logarithm of both sides yields:\n$$\n\\ln(\\alpha) = \\ln(A) - \\frac{B}{E}\n$$\nThis equation is in the form of a straight line, $y = c + mx$, by making the following substitutions:\n$$\ny = \\ln(\\alpha)\n$$\n$$\nx = \\frac{1}{E}\n$$\n$$\nc = \\ln(A) \\quad (\\text{the y-intercept})\n$$\n$$\nm = -B \\quad (\\text{the slope})\n$$\nWith the data transformed to the $(x, y)$ coordinate system, we can apply the method of ordinary least squares (OLS) to find the best-fit line. OLS determines the parameters $m$ and $c$ that minimize the sum of the squared vertical distances (residuals) between the data points $y_i$ and the fitted line $c + mx_i$. Given a set of $N$ data points $\\{(x_i, y_i)\\}$, the OLS estimators for the slope $m$ and intercept $c$ are:\n$$\nm = \\frac{N(\\sum x_i y_i) - (\\sum x_i)(\\sum y_i)}{N(\\sum x_i^2) - (\\sum x_i)^2}\n$$\n$$\nc = \\bar{y} - m \\bar{x}\n$$\nwhere $\\bar{x}$ and $\\bar{y}$ are the sample means of $x_i$ and $y_i$. After finding $m$ and $c$ from the fit on the entire dataset, the physical parameters $A$ and $B$ are recovered using the inverse transformations:\n$$\nA = \\exp(c)\n$$\n$$\nB = -m\n$$\nThe problem further requires an assessment of the model's validity. The model is an approximation and may not hold across the entire range of measured data due to measurement errors, the presence of outliers, or the influence of other physical mechanisms not captured by the simple exponential form. We define a validity criterion based on the residuals of the fit in the logarithmic domain, $r_i = y_i - (c + mx_i)$. A point is considered consistent with the model if its residual's absolute value is within a specified tolerance, $\\tau$:\n$$\n|r_i| \\le \\tau\n$$\nThe procedure for determining the validity range is executed as follows:\n1.  The data points are sorted by the electric field, $E$, in ascending order.\n2.  The residuals $r_i$ are calculated for all points based on the single OLS fit performed on the complete dataset.\n3.  A boolean flag is assigned to each point, indicating whether $|r_i| \\le \\tau$.\n4.  We then identify all contiguous blocks of data points for which this condition holds true.\n5.  The lengths of these blocks are compared, and the maximum length is determined.\n6.  If there is a unique block with the maximum length, its corresponding electric field range, $[E_{\\min}, E_{\\max}]$, is chosen as the validity range.\n7.  If multiple blocks share the same maximum length, a tie-breaking rule is applied: the mean absolute residual, $\\frac{1}{N_{\\text{block}}} \\sum_{\\text{block}} |r_i|$, is calculated for each of these blocks. The block with the smallest mean absolute residual is selected, and its field range $[E_{\\min}, E_{\\max}]$ is reported as the final validity range.\n\nThis comprehensive procedure allows for the robust estimation of the key physical parameters $A$ and $B$ while simultaneously defining a data-driven range of electric fields over which the underlying high-field generation model can be confidently applied.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nimport itertools\n\ndef solve():\n    \"\"\"\n    Main function to process test cases and print the final result.\n    \"\"\"\n    # Test suite from the problem statement\n    # Each case is a tuple of (E_list, alpha_list)\n    test_cases = [\n        # Case 1 (silicon-like, high-field avalanche region)\n        (\n            [1.8e7, 2.0e7, 2.2e7, 2.5e7, 3.0e7],\n            [4.96367e3, 1.072983e4, 2.299059e4, 4.5609e4, 1.4823484e5]\n        ),\n        # Case 2 (gallium-arsenide-like, moderate field variation)\n        (\n            [1.2e7, 1.5e7, 1.8e7, 2.1e7, 2.4e7],\n            [1.9e3, 1.02e4, 2.9e4, 6.5e4, 1.2e5]\n        ),\n        # Case 3 (wide-bandgap material with an outlier)\n        (\n            [2.5e7, 3.0e7, 3.5e7, 4.0e7, 4.5e7],\n            [2.4e2, 1.18e3, 8.0e3, 9.7e3, 1.9e4]\n        )\n    ]\n\n    # Model-consistency tolerance\n    tau = 0.3\n\n    all_results = []\n    for E_data, alpha_data in test_cases:\n        A, B, E_min, E_max = analyze_data_set(np.array(E_data), np.array(alpha_data), tau)\n        \n        # Format results to six significant digits\n        formatted_results = [f\"{val:.6g}\" for val in [A, B, E_min, E_max]]\n        all_results.extend(formatted_results)\n\n    # Final print statement in the exact required format\n    print(f\"[{','.join(all_results)}]\")\n\ndef analyze_data_set(E, alpha, tau):\n    \"\"\"\n    Performs the analysis for a single data set.\n    \n    1. Fits the linearized model alpha = A * exp(-B/E) using least squares.\n    2. Determines the validity range [E_min, E_max] based on residual tolerance.\n    \n    Args:\n        E (np.ndarray): Array of electric field values [V/m].\n        alpha (np.ndarray): Array of generation coefficient values [m^-1].\n        tau (float): Tolerance for residuals in natural-log units.\n        \n    Returns:\n        tuple: A, B, E_min, E_max\n    \"\"\"\n    # The problem data is already sorted by E, but sorting is good practice.\n    sort_indices = np.argsort(E)\n    E_sorted = E[sort_indices]\n    alpha_sorted = alpha[sort_indices]\n\n    # 1. Transform data for linearization: y = ln(alpha), x = 1/E\n    x = 1.0 / E_sorted\n    y = np.log(alpha_sorted)\n\n    # 2. Fit a straight line y = c + m*x using least squares on the full dataset.\n    # np.polyfit(x, y, 1) returns [m, c] for slope and intercept.\n    m, c = np.polyfit(x, y, 1)\n\n    # 3. Interpret fitted parameters to find A and B\n    # A = exp(c), B = -m\n    A = np.exp(c)\n    B = -m\n\n    # 4. Compute residuals r_i = y_i - (c + m*x_i)\n    residuals = y - (m * x + c)\n\n    # 5. Determine the largest contiguous block of valid points\n    is_valid = np.abs(residuals) = tau\n\n    # Find all maximal contiguous blocks of 'True' in is_valid\n    blocks = []\n    current_pos = 0\n    for is_v_group, group in itertools.groupby(is_valid):\n        num_items = len(list(group))\n        if is_v_group:  # This is a block of 'True' (valid) points\n            blocks.append((current_pos, current_pos + num_items - 1))\n        current_pos += num_items\n        \n    if not blocks:\n        # No valid points found; this case is not expected based on the problem.\n        return A, B, np.nan, np.nan\n\n    # Find the length of the largest block(s)\n    max_len = max(end - start + 1 for start, end in blocks)\n\n    # Filter for blocks that have this maximum length\n    max_len_blocks = [(s, e) for s, e in blocks if (e - s + 1) == max_len]\n\n    # 6. Apply tie-breaker if necessary\n    best_block = None\n    if len(max_len_blocks) == 1:\n        best_block = max_len_blocks[0]\n    else:\n        min_mean_abs_res = float('inf')\n        for s, e in max_len_blocks:\n            # Calculate mean absolute residual for the block\n            mean_abs_res = np.mean(np.abs(residuals[s : e + 1]))\n            if mean_abs_res  min_mean_abs_res:\n                min_mean_abs_res = mean_abs_res\n                best_block = (s, e)\n    \n    # 7. Report the validity range [E_min, E_max]\n    start_idx, end_idx = best_block\n    E_min = E_sorted[start_idx]\n    E_max = E_sorted[end_idx]\n\n    return A, B, E_min, E_max\n\nsolve()\n```"
        }
    ]
}