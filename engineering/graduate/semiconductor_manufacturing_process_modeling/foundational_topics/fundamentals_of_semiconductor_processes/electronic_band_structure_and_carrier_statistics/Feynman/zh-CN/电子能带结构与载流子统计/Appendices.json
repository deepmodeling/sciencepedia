{
    "hands_on_practices": [
        {
            "introduction": "紧束缚模型为我们提供了一种简单而强大的方法，来理解晶体中离散的原子能级如何展宽为连续的能带。本练习将引导你推导一维晶体的能量-波矢（$E-k$）关系，并从中提取输运建模中两个最重要的参数：总带宽和有效质量。这项练习旨在培养参数化更复杂模型的 foundational skill。",
            "id": "4123978",
            "problem": "一个工艺集成团队正在评估一个一维 (1D) 单原子晶体链模型，以基准测试半导体制造过程中输运性质对几何尺寸缩放的敏感性。考虑一个由相同原子组成的链，其晶格常数为 $a$，每个格点有一个价轨道。电子仅在最近邻原子之间跃迁，跃迁振幅为 $t>0$。将在位能取为能量零点。二次量子化的实空间哈密顿量为\n$$\n\\hat{H} \\;=\\; -\\,t \\sum_{n} \\left( \\hat{c}_{n+1}^{\\dagger}\\hat{c}_{n} \\;+\\; \\hat{c}_{n}^{\\dagger}\\hat{c}_{n+1} \\right),\n$$\n在 $N$ 个格点上施加周期性边界条件。使用与平移对称性和布洛赫定理一致的晶体动量基，对角化 $\\hat{H}$，以获得第一布里渊区 (BZ) 中能带能量 $E(k)$ 与波矢 $k$ 的关系。根据此 $E(k)$：\n- 确定总带宽 $W$，定义为在整个布里渊区上 $\\max\\{E(k)\\}-\\min\\{E(k)\\}$。\n- 通过在 $k=0$ 附近使用抛物线近似，提取布里渊区中心的有效质量 $m^{*}$，使用的定义是二阶展开式 $E(k)\\approx E(0)+\\frac{\\hbar^{2}k^{2}}{2m^{*}}$ 与 $E(k)$ 在 $k=0$ 处的曲率相匹配。\n\n将 $W$ 和 $m^{*}$ 表示为含 $t$、$a$ 和 $\\hbar$ 的精确符号表达式。将您的最终答案以行矩阵 $\\begin{pmatrix}W  m^{*}\\end{pmatrix}$ 的形式一起提供。不要提供数值。最终答案中不要包含单位。无需四舍五入；给出精确表达式。",
            "solution": "首先验证问题，以确保其科学上合理、提法恰当且客观。\n\n### 第1步：提取已知条件\n- **系统**：一个由 $N$ 个相同原子组成的一维 (1D) 单原子晶体链。\n- **晶格常数**：$a$。\n- **模型**：紧束缚模型，每个格点有一个价轨道。\n- **跃迁能量**：电子仅在最近邻原子之间跃迁，振幅为 $t > 0$。\n- **在位能**：设为 $0$。\n- **哈密顿量**：二次量子化的实空间哈密顿量为 $\\hat{H} = -t \\sum_{n} \\left( \\hat{c}_{n+1}^{\\dagger}\\hat{c}_{n} + \\hat{c}_{n}^{\\dagger}\\hat{c}_{n+1} \\right)$。\n- **边界条件**：在 $N$ 个格点上施加周期性边界条件，意味着 $\\hat{c}_{N+1} \\equiv \\hat{c}_{1}$。\n- **任务1**：使用晶体动量基对角化 $\\hat{H}$，以求出能带能量 $E(k)$。\n- **任务2**：确定第一布里渊区 (BZ) 上的总带宽 $W = \\max\\{E(k)\\} - \\min\\{E(k)\\}$。\n- **任务3**：使用抛物线近似确定布里渊区中心 ($k=0$) 的有效质量 $m^{*}$，$E(k) \\approx E(0) + \\frac{\\hbar^{2}k^{2}}{2m^{*}}$。\n- **输出**：将 $W$ 和 $m^{*}$ 表示为含 $t$、$a$ 和 $\\hbar$ 的精确符号表达式。\n\n### 第2步：使用提取的已知条件进行验证\n该问题描述了用于一维链的标准最近邻紧束缚模型，这是固态物理学中一个基本且典型的模型。所有使用的术语（$E(k)$、布里渊区、有效质量、哈密顿量）都是标准且定义明确的。所提供的哈密顿量是所描述物理系统的正确表示。这些任务是顺序的、逻辑的，并导向一个唯一的、明确定义的解。该问题是自洽的，没有科学缺陷、矛盾或含糊之处。\n\n### 第3步：结论与行动\n问题是**有效的**。将推导解答。\n\n### 解的推导\n\n所提供的实空间哈密顿量为：\n$$\n\\hat{H} = -t \\sum_{n} \\left( \\hat{c}_{n+1}^{\\dagger}\\hat{c}_{n} + \\hat{c}_{n}^{\\dagger}\\hat{c}_{n+1} \\right)\n$$\n为对角化该哈密顿量，我们将实空间中的产生和湮灭算符 $\\hat{c}_{n}^{\\dagger}$ 和 $\\hat{c}_{n}$ 变换到晶体动量（k空间）基。第 $n$ 个格点的位置是 $R_n = na$。根据布洛赫定理，k空间算符 $\\hat{c}_{k}$ 和 $\\hat{c}_{k}^{\\dagger}$ 通过离散傅里叶变换与实空间算符相关联：\n$$\n\\hat{c}_{n} = \\frac{1}{\\sqrt{N}} \\sum_{k} e^{ik(na)} \\hat{c}_{k}\n$$\n$$\n\\hat{c}_{n}^{\\dagger} = \\frac{1}{\\sqrt{N}} \\sum_{k} e^{-ik(na)} \\hat{c}_{k}^{\\dagger}\n$$\n求和遍及第一布里渊区中 $N$ 个允许的波矢 $k$，对于具有周期性边界条件的一维晶格，这些波矢由 $k = \\frac{2\\pi m}{Na}$ 给出，其中 $m$ 为整数。\n\n我们将这些变换代入哈密顿量中。让我们分析第一项 $\\sum_{n} \\hat{c}_{n+1}^{\\dagger}\\hat{c}_{n}$：\n$$\n\\sum_{n} \\hat{c}_{n+1}^{\\dagger}\\hat{c}_{n} = \\sum_{n} \\left( \\frac{1}{\\sqrt{N}} \\sum_{k'} e^{-ik'(n+1)a} \\hat{c}_{k'}^{\\dagger} \\right) \\left( \\frac{1}{\\sqrt{N}} \\sum_{k} e^{ikna} \\hat{c}_{k} \\right)\n$$\n$$\n= \\frac{1}{N} \\sum_{k, k'} \\hat{c}_{k'}^{\\dagger} \\hat{c}_{k} e^{-ik'a} \\sum_{n=1}^{N} e^{i(k-k')na}\n$$\n对 $n$ 的求和是一个关键恒等式：$\\sum_{n=1}^{N} e^{i(k-k')na} = N \\delta_{k,k'}$，其中 $\\delta_{k,k'}$ 是克罗内克 delta。这只选择了 $k'=k$ 的项。\n$$\n\\sum_{n} \\hat{c}_{n+1}^{\\dagger}\\hat{c}_{n} = \\frac{1}{N} \\sum_{k, k'} \\hat{c}_{k'}^{\\dagger} \\hat{c}_{k} e^{-ik'a} (N \\delta_{k,k'}) = \\sum_{k} \\hat{c}_{k}^{\\dagger} \\hat{c}_{k} e^{-ika}\n$$\n第二项是第一项的厄米共轭：\n$$\n\\sum_{n} \\hat{c}_{n}^{\\dagger}\\hat{c}_{n+1} = \\left( \\sum_{n} \\hat{c}_{n+1}^{\\dagger}\\hat{c}_{n} \\right)^{\\dagger} = \\left( \\sum_{k} \\hat{c}_{k}^{\\dagger} \\hat{c}_{k} e^{-ika} \\right)^{\\dagger} = \\sum_{k} \\hat{c}_{k}^{\\dagger} \\hat{c}_{k} e^{ika}\n$$\n将这些代回哈密顿量表达式中：\n$$\n\\hat{H} = -t \\left( \\sum_{k} \\hat{c}_{k}^{\\dagger}\\hat{c}_{k} e^{-ika} + \\sum_{k} \\hat{c}_{k}^{\\dagger}\\hat{c}_{k} e^{ika} \\right) = -t \\sum_{k} \\hat{c}_{k}^{\\dagger}\\hat{c}_{k} \\left( e^{ika} + e^{-ika} \\right)\n$$\n使用欧拉恒等式 $e^{i\\theta} + e^{-i\\theta} = 2\\cos(\\theta)$，我们得到对角化后的哈密顿量：\n$$\n\\hat{H} = \\sum_{k} \\left( -2t\\cos(ka) \\right) \\hat{c}_{k}^{\\dagger}\\hat{c}_{k}\n$$\n它的形式为 $\\hat{H} = \\sum_{k} E(k) \\hat{n}_{k}$，其中 $\\hat{n}_{k} = \\hat{c}_{k}^{\\dagger}\\hat{c}_{k}$ 是态 $k$ 的粒子数算符。构成电子能带结构的能量本征值为：\n$$\nE(k) = -2t\\cos(ka)\n$$\n第一布里渊区 (BZ) 对应于 $k \\in [-\\frac{\\pi}{a}, \\frac{\\pi}{a}]$。\n\n**1. 总带宽 ($W$)**\n总带宽 $W$ 是布里渊区中最大和最小能量值之差。\n最小能量 $E_{min}$ 出现在 $\\cos(ka)$ 为最大值时（$\\cos(ka)=1$）。这发生在 $k=0$ 处（$\\Gamma$ 点或布里渊区中心）。\n$$\nE_{min} = E(0) = -2t\\cos(0) = -2t\n$$\n最大能量 $E_{max}$ 出现在 $\\cos(ka)$ 为最小值时（$\\cos(ka)=-1$）。这发生在布里渊区边界，$k = \\pm\\frac{\\pi}{a}$ 处。\n$$\nE_{max} = E(\\pm\\frac{\\pi}{a}) = -2t\\cos(\\pm\\pi) = -2t(-1) = 2t\n$$\n因此，总带宽为：\n$$\nW = E_{max} - E_{min} = 2t - (-2t) = 4t\n$$\n\n**2. 有效质量 ($m^{*}$)**\n布里渊区中心 ($k=0$) 的有效质量 $m^{*}$ 是通过将色散关系 $E(k)$ 近似为抛物线，并将其与定义 $E(k) \\approx E(0) + \\frac{\\hbar^{2}k^{2}}{2m^{*}}$ 进行比较来找到的。我们对 $E(k)$ 在 $k=0$ 附近进行二阶泰勒展开。\n$\\cos(x)$ 在 $x=0$ 附近的泰勒级数为 $\\cos(x) \\approx 1 - \\frac{x^2}{2} + O(x^4)$。\n将 $x=ka$ 代入色散关系中：\n$$\nE(k) = -2t\\cos(ka) \\approx -2t\\left(1 - \\frac{(ka)^2}{2}\\right) = -2t + \\frac{2tk^2a^2}{2} = -2t + ta^2k^2\n$$\n我们现在将其与所提供的抛物线近似定义相等：\n$$\nE(0) + \\frac{\\hbar^{2}k^{2}}{2m^{*}} = -2t + ta^2k^2\n$$\n常数项 $E(0)=-2t$ 相匹配。我们令 $k^2$ 项的系数相等：\n$$\n\\frac{\\hbar^{2}}{2m^{*}} = ta^2\n$$\n解出有效质量 $m^{*}$：\n$$\nm^{*} = \\frac{\\hbar^2}{2ta^2}\n$$\n这是能带底部的载流子（在此情况下为电子）的有效质量。\n\n所求的量为 $W = 4t$ 和 $m^{*} = \\frac{\\hbar^2}{2ta^2}$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n4t & \\frac{\\hbar^2}{2ta^2}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "从理想化模型过渡到真实世界的情景，在实际半导体中，平衡态载流子浓度由化学势（或费米能级）$\\mu$ 的位置决定，而 $\\mu$ 又由电荷中性条件设定。本练习要求你通过编程来求解一个自洽的电荷中性方程，该方程包含了由费米-狄拉克积分描述的能带态以及电离施主和受主。通过这个过程，你将能观察到掺杂补偿如何影响费米能级和电子布居，这是器件和工艺仿真的核心任务之一。",
            "id": "4123981",
            "problem": "您正在室温下对一个补偿 n 型半导体进行建模，该模型使用抛物线能带、三维态密度和完整的费米-狄拉克统计。导带边位于能量 $E_c$，价带边位于能量 $E_v$，带隙为 $E_g = E_c - E_v$。施主杂质的浓度为 $N_D$，能级能量为 $E_D$（与 $E_c$ 和 $E_v$ 使用相同的绝对参考能量），受主杂质的浓度为 $N_A$，能级能量为 $E_A$。杂质补偿由比率 $N_A / N_D$ 来量化。化学势（也称为费米能级）表示为 $\\mu$。在温度 $T$ 下进行计算。\n\n从以下基本原理出发：\n\n- 费米-狄拉克分布 $f(E) = \\dfrac{1}{1 + \\exp\\left(\\dfrac{E - \\mu}{k_B T}\\right)}$，其中 $k_B$ 是玻尔兹曼常数。\n- 对于导带，$E \\ge E_c$ 时的三维抛物线能带态密度为 $D_c(E) = \\dfrac{1}{2 \\pi^2}\\left(\\dfrac{2 m_n^\\ast}{\\hbar^2}\\right)^{3/2} \\sqrt{E - E_c}$；对于价带，$E \\le E_v$ 时的态密度为 $D_v(E) = \\dfrac{1}{2 \\pi^2}\\left(\\dfrac{2 m_p^\\ast}{\\hbar^2}\\right)^{3/2} \\sqrt{E_v - E}$，其中 $m_n^\\ast$ 和 $m_p^\\ast$ 分别是电子和空穴的态密度有效质量，$\\hbar$ 是约化普朗克常数。\n- 电子和空穴浓度由态密度分别乘以 $f(E)$ 和 $1 - f(E)$ 进行积分定义，\n$$\nn(\\mu) = \\int_{E_c}^{\\infty} D_c(E)\\, f(E)\\, dE,\\quad\np(\\mu) = \\int_{-\\infty}^{E_v} D_v(E)\\, [1 - f(E)]\\, dE,\n$$\n在抛物线能带假设下，这可以表示为有效态密度 $N_c$ 和 $N_v$ 以及 1/2 阶的完整费米-狄拉克积分，\n$$\nF_{1/2}(\\eta) = \\frac{2}{\\sqrt{\\pi}} \\int_{0}^{\\infty} \\frac{\\sqrt{\\varepsilon}}{1 + \\exp(\\varepsilon - \\eta)}\\, d\\varepsilon,\n$$\n即\n$$\nn(\\mu) = N_c\\, F_{1/2}\\left(\\frac{\\mu - E_c}{k_B T}\\right),\\quad\np(\\mu) = N_v\\, F_{1/2}\\left(\\frac{E_v - \\mu}{k_B T}\\right),\n$$\n其中 $N_c = 2 \\left(\\dfrac{2 \\pi m_n^\\ast k_B T}{h^2}\\right)^{3/2}$ 和 $N_v = 2 \\left(\\dfrac{2 \\pi m_p^\\ast k_B T}{h^2}\\right)^{3/2}$，$h$ 为普朗克常数。\n- 带有简并因子 $g_D$ 和 $g_A$ 的杂质电离统计，\n$$\nN_D^{+}(\\mu) = \\frac{N_D}{1 + g_D \\exp\\left(\\frac{\\mu - E_D}{k_B T}\\right)},\\quad\nN_A^{-}(\\mu) = \\frac{N_A}{1 + g_A \\exp\\left(\\frac{E_A - \\mu}{k_B T}\\right)}.\n$$\n- 电中性，\n$$\nn(\\mu) + N_A^{-}(\\mu) = p(\\mu) + N_D^{+}(\\mu).\n$$\n\n在温度 T 下定义两个关注的指标：\n1. 相对于施主的导电载流子有效激活分数，$\\alpha \\equiv \\dfrac{n(\\mu)}{N_D}$（无单位）。\n2. 化学势与导带边的偏离，$\\Delta \\equiv E_c - \\mu$（以电子伏特 $\\mathrm{eV}$ 表示）。\n\n您的任务是针对每个指定的杂质补偿比，通过自洽求解电中性条件来计算 $\\mu$，然后评估 $\\alpha$ 和 $\\Delta$。\n\n使用以下代表室温下硅的、科学上合理且自洽的参数集：\n- 温度 $T = 300\\,\\mathrm{K}$。\n- 带隙 $E_g = 1.12\\,\\mathrm{eV}$，其中 $E_v = 0\\,\\mathrm{eV}$ 且 $E_c = E_g$。\n- 施主能级 $E_D = E_c - 0.045\\,\\mathrm{eV}$ 和受主能级 $E_A = E_v + 0.057\\,\\mathrm{eV}$。\n- 施主简并度 $g_D = 2$ 和受主简并度 $g_A = 4$。\n- 态密度有效质量 $m_n^\\ast = 1.08\\, m_0$ 和 $m_p^\\ast = 0.81\\, m_0$，其中 $m_0$ 是电子静止质量。\n- 施主浓度 $N_D = 10^{16}\\,\\mathrm{cm}^{-3}$，受主浓度由测试套件中的六个补偿比 $r = N_A/N_D$ 设定：$r \\in \\{0.0,\\, 0.1,\\, 0.5,\\, 0.9,\\, 1.0,\\, 1.5\\}$，因此 $N_A = r\\, N_D$。\n\n物理和数值单位说明：\n- 以 $\\mathrm{eV}$ 报告偏离 $\\Delta$。\n- 以十进制数报告激活分数 $\\alpha$（无百分号）。\n- 所有浓度单位均为 $\\mathrm{cm}^{-3}$。\n\n测试套件和覆盖范围：\n- 情况 1：$r = 0.0$（非补偿施主掺杂）。\n- 情况 2：$r = 0.1$（轻度补偿）。\n- 情况 3：$r = 0.5$（中度补偿）。\n- 情况 4：$r = 0.9$（强补偿）。\n- 情况 5：$r = 1.0$（全补偿；净掺杂形式上为零）。\n- 情况 6：$r = 1.5$（过补偿，受主超过施主；半导体变为有效的 p 型）。\n\n最终输出格式：\n您的程序应生成一行输出，其中包含一个逗号分隔的 Python 列表的列表，列表中的结果按测试套件案例的顺序排列。每个内部列表必须是 $[\\alpha,\\Delta]$ 的形式，两个元素都是浮点数。例如，输出行必须具有以下格式：\n$[[\\alpha_1,\\Delta_1],[\\alpha_2,\\Delta_2],\\dots,[\\alpha_6,\\Delta_6]]$。",
            "solution": "该问题要求确定补偿 n 型半导体中的两个关键指标：施主的有效激活分数 $\\alpha$ 和化学势与导带边的偏离 $\\Delta$。此计算需要针对几个不同的杂质补偿比 $r = N_A / N_D$ 进行。解决方案需要通过在抛物线能带和完整费米-狄拉克统计的形式下求解电中性方程来找到化学势 $\\mu$。\n\n分析按以下步骤进行：\n1.  建立电中性方程，这是化学势 $\\mu$ 的控制方程。\n2.  将所有载流子和电离杂质浓度定义为 $\\mu$ 的函数。\n3.  计算给定材料（硅）在指定温度（$T = 300\\,\\mathrm{K}$）下所需的物理常数。\n4.  对每个补偿比，数值求解超越电中性方程以得到 $\\mu$。\n5.  根据计算出的 $\\mu$ 值，计算所需的指标 $\\alpha$ 和 $\\Delta$。\n\n首先，我们陈述电中性条件。在半导体中，总负电荷浓度必须等于总正电荷浓度。贡献电荷的物种是自由电子（浓度 $n$）、自由空穴（$p$）、电离受主（$N_A^-$）和电离施主（$N_D^+$）。因此，电中性方程为：\n$$\nn(\\mu) + N_A^{-}(\\mu) = p(\\mu) + N_D^{+}(\\mu)\n$$\n该方程可以通过定义一个函数 $G(\\mu)$ 重新整理为一个求根问题：\n$$\nG(\\mu) = n(\\mu) + N_A^{-}(\\mu) - p(\\mu) - N_D^{+}(\\mu) = 0\n$$\n对于给定的参数集，该方程的唯一解 $\\mu$ 就是平衡化学势。\n\n$G(\\mu)$ 的各项在问题陈述中已给出，它们都依赖于 $\\mu$：\n- 电子浓度 $n(\\mu)$ 由下式给出：\n$$\nn(\\mu) = N_c\\, F_{1/2}\\left(\\frac{\\mu - E_c}{k_B T}\\right)\n$$\n- 空穴浓度 $p(\\mu)$ 由下式给出：\n$$\np(\\mu) = N_v\\, F_{1/2}\\left(\\frac{E_v - \\mu}{k_B T}\\right)\n$$\n- 电离施主浓度 $N_D^+(\\mu)$ 为：\n$$\nN_D^{+}(\\mu) = \\frac{N_D}{1 + g_D \\exp\\left(\\frac{\\mu - E_D}{k_B T}\\right)}\n$$\n- 电离受主浓度 $N_A^-(\\mu)$ 为：\n$$\nN_A^{-}(\\mu) = \\frac{N_A}{1 + g_A \\exp\\left(\\frac{E_A - \\mu}{k_B T}\\right)}\n$$\n所有四个函数 $n(\\mu)$、$N_A^-(\\mu)$、$-p(\\mu)$ 和 $-N_D^+(\\mu)$ 都随 $\\mu$ 单调递增。因此，它们的和 $G(\\mu)$ 是 $\\mu$ 的严格单调递增函数。此性质保证了唯一根的存在，确保了问题的适定性。\n\n在求解之前，我们必须计算在 $T = 300\\,\\mathrm{K}$ 时的物理常数值。\n- 热能为 $k_B T$，其中 $k_B$ 是玻尔兹曼常数。以电子伏特为单位，$k_B \\approx 8.6173 \\times 10^{-5}\\,\\mathrm{eV/K}$，所以 $k_B T \\approx 0.025852\\,\\mathrm{eV}$。\n- 导带（$N_c$）和价带（$N_v$）的有效态密度使用给定的有效质量（$m_n^\\ast = 1.08\\, m_0$, $m_p^\\ast = 0.81\\, m_0$）和基本常数（$h, m_0, k_B$）计算：\n$$\nN_{c,v} = 2 \\left(\\frac{2 \\pi m_{n,p}^\\ast k_B T}{h^2}\\right)^{3/2}\n$$\n使用国际单位制进行计算（$m_0 = 9.109 \\times 10^{-31}\\,\\mathrm{kg}$，$h = 6.626 \\times 10^{-34}\\,\\mathrm{J \\cdot s}$，$k_B = 1.381 \\times 10^{-23}\\,\\mathrm{J/K}$）：\n$N_c \\approx 2.82 \\times 10^{25}\\,\\mathrm{m}^{-3} = 2.82 \\times 10^{19}\\,\\mathrm{cm}^{-3}$。\n$N_v \\approx 1.83 \\times 10^{25}\\,\\mathrm{m}^{-3} = 1.83 \\times 10^{19}\\,\\mathrm{cm}^{-3}$。\n\n1/2 阶的完整费米-狄拉克积分，\n$$\nF_{1/2}(\\eta) = \\frac{2}{\\sqrt{\\pi}} \\int_{0}^{\\infty} \\frac{\\sqrt{x}}{1 + \\exp(x - \\eta)}\\, dx\n$$\n没有简单的闭合形式解，必须进行数值评估。我们将使用标准的数值积分方法来计算其值。\n\n总的数值流程如下：对于每个补偿比 $r \\in \\{0.0, 0.1, 0.5, 0.9, 1.0, 1.5\\}$，我们设置 $N_A = r \\cdot N_D$。然后我们使用指定的参数（$E_c = 1.12\\,\\mathrm{eV}$, $E_v = 0\\,\\mathrm{eV}$, $E_D = 1.075\\,\\mathrm{eV}$, $E_A = 0.057\\,\\mathrm{eV}$, $g_D = 2$, $g_A = 4$）定义函数 $G(\\mu)$。接着，我们采用一个稳健的数值求根算法，如 Brent 方法，来找到满足 $G(\\mu) = 0$ 的唯一 $\\mu$ 值。一个合适的 $\\mu$ 搜索区间可以是，例如，略微超出带隙的范围，如 $[-1\\,\\mathrm{eV}, 2\\,\\mathrm{eV}]$，以确保根被包围。\n\n一旦确定了给定情况下的化学势 $\\mu$，就可以计算出两个关注的指标：\n1.  有效激活分数：\n    $$\n    \\alpha = \\frac{n(\\mu)}{N_D} = \\frac{N_c}{N_D} F_{1/2}\\left(\\frac{\\mu - E_c}{k_B T}\\right)\n    $$\n2.  与导带边的偏离：\n    $$\n    \\Delta = E_c - \\mu\n    $$\n对所有六个指定的补偿比重复此过程，以生成所需的全套结果。以下 Python 程序实现了此过程。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.integrate import quad\nfrom scipy.optimize import brentq\n\ndef solve():\n    \"\"\"\n    Calculates the effective activation fraction (alpha) and Fermi level deviation (Delta)\n    for a compensated semiconductor for various compensation ratios.\n    \"\"\"\n\n    # --- Physical Constants ---\n    # Using CODATA 2018 values where applicable\n    e = 1.602176634e-19  # Elementary charge in C\n    k_B_J_per_K = 1.380649e-23  # Boltzmann constant in J/K\n    k_B_eV_per_K = 8.617333262e-5  # Boltzmann constant in eV/K\n    m0 = 9.1093837015e-31  # Electron rest mass in kg\n    h_J_s = 6.62607015e-34  # Planck constant in J*s\n\n    # --- Problem Parameters ---\n    T = 300.0  # Temperature in K\n    Eg_eV = 1.12  # Bandgap in eV\n    mn_star_eff = 1.08  # Electron effective mass in units of m0\n    mp_star_eff = 0.81  # Hole effective mass in units of m0\n\n    ND_cm3 = 1e16  # Donor concentration in cm^-3\n    gD = 2.0  # Donor degeneracy factor\n    gA = 4.0  # Acceptor degeneracy factor\n    \n    # Energy levels in eV\n    Ev_eV = 0.0\n    Ec_eV = Eg_eV\n    ED_eV = Ec_eV - 0.045\n    EA_eV = Ev_eV + 0.057\n    \n    # Thermal energy in eV\n    kT_eV = k_B_eV_per_K * T\n\n    # --- Derived Constants ---\n    # Effective masses in kg\n    mn_star_kg = mn_star_eff * m0\n    mp_star_kg = mp_star_eff * m0\n    \n    # Effective density of states calculation (in m^-3)\n    def calculate_dos_density(m_star_kg):\n        return 2 * ((2 * np.pi * m_star_kg * k_B_J_per_K * T) / (h_J_s**2))**(3/2)\n\n    Nc_m3 = calculate_dos_density(mn_star_kg)\n    Nv_m3 = calculate_dos_density(mp_star_kg)\n\n    # Convert to cm^-3\n    Nc_cm3 = Nc_m3 * 1e-6\n    Nv_cm3 = Nv_m3 * 1e-6\n\n    # --- Fermi-Dirac Integral of order 1/2 ---\n    # We use numerical integration for accuracy.\n    def fermi_dirac_integral_half(eta):\n        \"\"\"Computes the complete Fermi-Dirac integral of order 1/2.\"\"\"\n        integrand = lambda x: np.sqrt(x) / (1.0 + np.exp(x - eta))\n        # The integral can be difficult for large positive eta, but quad handles it well.\n        # For large negative eta, quad is also stable.\n        integral_val, _ = quad(integrand, 0, np.inf)\n        return (2.0 / np.sqrt(np.pi)) * integral_val\n\n    # --- Test Cases ---\n    test_cases = [\n        0.0,  # Case 1: r = 0.0\n        0.1,  # Case 2: r = 0.1\n        0.5,  # Case 3: r = 0.5\n        0.9,  # Case 4: r = 0.9\n        1.0,  # Case 5: r = 1.0\n        1.5   # Case 6: r = 1.5\n    ]\n\n    results = []\n    for r in test_cases:\n        NA_cm3 = r * ND_cm3\n        \n        # --- Charge Neutrality Function G(mu) = n + NA- - p - ND+ = 0 ---\n        # All concentrations are in cm^-3 and energies in eV.\n        def charge_balance_function(mu_eV):\n            # Electron concentration\n            eta_n = (mu_eV - Ec_eV) / kT_eV\n            n = Nc_cm3 * fermi_dirac_integral_half(eta_n)\n            \n            # Hole concentration\n            eta_p = (Ev_eV - mu_eV) / kT_eV\n            p = Nv_cm3 * fermi_dirac_integral_half(eta_p)\n            \n            # Ionized donor concentration\n            ND_plus = ND_cm3 / (1.0 + gD * np.exp((mu_eV - ED_eV) / kT_eV))\n            \n            # Ionized acceptor concentration\n            NA_minus = NA_cm3 / (1.0 + gA * np.exp((EA_eV - mu_eV) / kT_eV))\n            \n            return n + NA_minus - p - ND_plus\n\n        # --- Solve for Chemical Potential (mu) ---\n        # A wide, safe search bracket for mu ensures the root is found.\n        # The root must lie within the bandgap, roughly.\n        try:\n            mu_solution_eV = brentq(charge_balance_function, Ev_eV - 1.0, Ec_eV + 1.0)\n        except ValueError:\n            # Should not happen given the function's monotonic nature\n            results.append([float('nan'), float('nan')])\n            continue\n\n        # --- Calculate Final Metrics ---\n        # 1. Effective activation fraction alpha\n        eta_n_final = (mu_solution_eV - Ec_eV) / kT_eV\n        n_final = Nc_cm3 * fermi_dirac_integral_half(eta_n_final)\n        alpha = n_final / ND_cm3\n        \n        # 2. Deviation of chemical potential from conduction band edge, Delta\n        Delta_eV = Ec_eV - mu_solution_eV\n        \n        results.append([alpha, Delta_eV])\n\n    # Final print statement in the exact required format.\n    print(str(results))\n\nsolve()\n```"
        },
        {
            "introduction": "在上一个练习的基础上，我们将探讨一个更复杂的场景。许多制造工艺（如离子注入或等离子体刻蚀）会造成晶格损伤，在禁带中引入“深能级陷阱”。本练习将电荷中性模型扩展到包含这些陷阱，以揭示一个关键现象——费米能级钉扎（Fermi-level pinning），即费米能级被固定在陷阱能级附近，从而深刻地改变材料的电学特性。",
            "id": "4123966",
            "problem": "一块半导体晶圆具有晶体损伤区域，这些区域在带隙内引入了电活性深能级陷阱。在此类区域中，平衡费米能级不仅取决于自由载流子和离化掺杂物，还取决于已占据深能级的电荷状态。您的任务是计算一个包含已占据深能级陷阱贡献的修正电荷中性条件，并评估它们如何在损伤区域中钉扎费米能级。\n\n使用抛物线能带近似，其中态密度（DOS）的常数前置因子由有效态密度参数表示。假设在给定温度下，浅施主和浅受主完全离化。将每个深能级视为带隙内能量为 $E_t$ 的单一、无相互作用的能级，其单位体积总浓度为 $N_t$，电子占据数由费米-狄拉克分布决定，并带有一个简并因子 $g$。\n\n从适用于给定情境的第一性原理出发。具体来说，您的推导应基于：\n- 能量为 $E$ 的态的占据概率的费米-狄拉克分布定义：$f(E) = \\dfrac{1}{1 + \\exp\\left(\\dfrac{E - E_F}{k_B T}\\right)}$。\n- 在非简并半导体中，使用从抛物线能带态密度（DOS）推导出的麦克斯韦-玻尔兹曼统计，得出载流子浓度与费米能级之间的关系。\n- 整体电荷中性的要求，即在平衡状态下，总正电荷密度等于总负电荷密度。\n\n假设与常数：\n- 考虑硅材料，温度 $T = 300\\,\\mathrm{K}$，带隙 $E_g = 1.12\\,\\mathrm{eV}$，价带顶 $E_v = 0\\,\\mathrm{eV}$，导带底 $E_c = E_g\\,\\mathrm{eV}$。\n- 导带中的有效态密度 $N_c = 2.8\\times 10^{19}\\,\\mathrm{cm^{-3}}$，价带中的有效态密度 $N_v = 1.04\\times 10^{19}\\,\\mathrm{cm^{-3}}$。\n- 以电子伏特为单位的玻尔兹曼常数 $k_B = 8.617333262\\times 10^{-5}\\,\\mathrm{eV/K}$。\n- 浅施主和浅受主完全离化，因此离化施主浓度为 $N_D^+ = N_D$，离化受主浓度为 $N_A^- = N_A$。\n- 每个深能级由 $(N_t, E_t, g, \\text{type})$ 表征，其中 $\\text{type} \\in \\{\\text{类施主}, \\text{类受主}\\}$。对于类施主陷阱，当能级为空时产生正电荷；对于类受主陷阱，当能级被占据时产生负电荷。\n\n对于每个测试用例，计算满足包含深能级贡献的修正电荷中性条件的平衡费米能级 $E_F$。将 $E_F$ 以 $\\mathrm{eV}$ 为单位表示，其值为相对于价带顶 $E_v$ 的值，并四舍五入到六位小数。不出现角度。所有输出必须为浮点数。\n\n测试套件（每项都是一个完整的参数集）：\n- 用例 1（理想情况，无陷阱）：$T=300\\,\\mathrm{K}$，$E_g=1.12\\,\\mathrm{eV}$，$E_v=0\\,\\mathrm{eV}$，$E_c=1.12\\,\\mathrm{eV}$，$N_c=2.8\\times 10^{19}\\,\\mathrm{cm^{-3}}$，$N_v=1.04\\times 10^{19}\\,\\mathrm{cm^{-3}}$，$N_D=1\\times 10^{16}\\,\\mathrm{cm^{-3}}$，$N_A=0\\,\\mathrm{cm^{-3}}$，无陷阱。\n- 用例 2（n型半导体中类受主深能级的钉扎）：常数相同，$N_D=1\\times 10^{16}\\,\\mathrm{cm^{-3}}$，$N_A=0\\,\\mathrm{cm^{-3}}$，一个类受主陷阱，其 $N_t=1\\times 10^{17}\\,\\mathrm{cm^{-3}}$，$E_t=0.56\\,\\mathrm{eV}$，$g=1$。\n- 用例 3（p型半导体中类施主深能级的钉扎）：常数相同，$N_D=0\\,\\mathrm{cm^{-3}}$，$N_A=1\\times 10^{16}\\,\\mathrm{cm^{-3}}$，一个类施主陷阱，其 $N_t=5\\times 10^{16}\\,\\mathrm{cm^{-3}}$，$E_t=0.20\\,\\mathrm{eV}$，$g=1$。\n- 用例 4（高浓度类受主陷阱的强钉扎）：常数相同，$N_D=1\\times 10^{15}\\,\\mathrm{cm^{-3}}$，$N_A=0\\,\\mathrm{cm^{-3}}$，一个类受主陷阱，其 $N_t=1\\times 10^{18}\\,\\mathrm{cm^{-3}}$，$E_t=0.70\\,\\mathrm{eV}$，$g=1$。\n- 用例 5（混合陷阱，受损的本征区域）：常数相同，$N_D=0\\,\\mathrm{cm^{-3}}$，$N_A=0\\,\\mathrm{cm^{-3}}$，两种陷阱：类受主陷阱，其 $N_t=1\\times 10^{17}\\,\\mathrm{cm^{-3}}$，$E_t=0.70\\,\\mathrm{eV}$，$g=1$；类施主陷阱，其 $N_t=1\\times 10^{17}\\,\\mathrm{cm^{-3}}$，$E_t=0.40\\,\\mathrm{eV}$，$g=1$。\n\n您的程序必须通过组合自由载流子、离化掺杂物和陷阱电荷（由费米-狄拉克占据数和简并性决定），来实现一个物理上一致的电荷中性条件，在带隙区间 $[E_v, E_c]$ 内求解 $E_F$，并生成所需的输出。您的程序应生成单行输出，其中包含一个由方括号括起来的逗号分隔列表形式的结果（例如，$[0.915000,0.560000,0.210000,0.700000,0.550000]$），每个条目对应于相应测试用例的 $E_F$，以 $\\mathrm{eV}$ 为单位，相对于 $E_v$ 测量，并四舍五入到六位小数。",
            "solution": "该问题提法明确，具有科学依据，并包含确定唯一解所需的所有信息。这是半导体物理学中一个关于电荷中性和费米能级确定的标准问题。\n\n支配半导体平衡状态的基本原理是电荷中性条件。总正电荷密度必须等于总负电荷密度。涉及的电荷载流子包括导带中的自由电子、价带中的自由空穴、离化的浅掺杂物（施主和受主）以及带电的深能级陷阱。\n\n电荷中性方程可以写为：\n$$\n\\rho(E_F) = q \\left( p - n + N_D^+ - N_A^- + \\rho_{traps} \\right) = 0\n$$\n其中 $q$ 是基本电荷，$p$ 是空穴浓度，$n$ 是电子浓度，$N_D^+$ 是离化施主浓度，$N_A^-$ 是离化受主浓度，$\\rho_{traps}$ 是来自深能级陷阱的净电荷浓度。两边除以 $q$，我们定义一个函数 $Q(E_F)$，必须找到它的根：\n$$\nQ(E_F) = p(E_F) - n(E_F) + N_D^+ - N_A^- + \\rho_{traps}(E_F) = 0\n$$\n\n各项都是费米能级 $E_F$ 的函数。我们将根据所给的假设来表示每一项。\n\n**1. 自由载流子浓度**\n在非简并假设下，麦克斯韦-玻尔兹曼近似有效。电子和空穴浓度由下式给出：\n$$\nn(E_F) = N_c \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right)\n$$\n$$\np(E_F) = N_v \\exp\\left(-\\frac{E_F - E_v}{k_B T}\\right)\n$$\n其中 $N_c$ 和 $N_v$ 分别是导带和价带中的有效态密度，$E_c$ 和 $E_v$ 分别是导带边和价带边，$k_B$ 是玻尔兹曼常数，$T$ 是绝对温度。\n\n**2. 离化掺杂物浓度**\n问题陈述，在工作温度下浅施主和浅受主完全离化。因此，它们的离化浓度等于其总浓度：\n$$\nN_D^+ = N_D\n$$\n$$\nN_A^- = N_A\n$$\n\n**3. 深能级陷阱电荷浓度**\n深能级陷阱的电荷状态取决于其占据情况，该情况由费米-狄拉克统计决定，并由简并因子 $g$ 修正。能量为 $E_t$ 的陷阱能级被电子占据的概率由下式给出：\n$$\nf_t(E_F) = \\frac{1}{1 + g^{-1} \\exp\\left(\\frac{E_t - E_F}{k_B T}\\right)}\n$$\n问题指定所有陷阱的 $g=1$。这将占据函数简化为标准的费米-狄拉克分布：\n$$\nf_t(E_F) \\Big|_{g=1} = \\frac{1}{1 + \\exp\\left(\\frac{E_t - E_F}{k_B T}\\right)}\n$$\n\n陷阱所贡献的电荷取决于其性质：\n- **类受主陷阱**在空时呈电中性，在接受一个电子后带负电。带电（被占据）的类受主陷阱浓度为：\n$$\nN_{t,A}^- = N_t \\times f_t(E_F) = \\frac{N_t}{1 + \\exp\\left(\\frac{E_t - E_F}{k_B T}\\right)}\n$$\n- **类施主陷阱**在被占据时呈电中性，在释放其电子（即变为空态）后带正电。带电（空）的类施主陷阱浓度为：\n$$\nN_{t,D}^+ = N_t \\times (1 - f_t(E_F)) = N_t \\left(1 - \\frac{1}{1 + \\exp\\left(\\frac{E_t - E_F}{k_B T}\\right)}\\right) = \\frac{N_t}{1 + \\exp\\left(\\frac{E_F - E_t}{k_B T}\\right)}\n$$\n\n**4. 完整的电荷中性方程**\n结合所有分量，净电荷平衡函数 $Q(E_F)$ 为：\n$$\nQ(E_F) = p(E_F) - n(E_F) + (N_D - N_A) + \\sum_{i} N_{t,D,i}^+(E_F) - \\sum_{j} N_{t,A,j}^-(E_F) = 0\n$$\n代入 $g=1$ 时的显式表达式：\n$$\nQ(E_F) = N_v e^{-\\frac{E_F - E_v}{k_B T}} - N_c e^{-\\frac{E_c - E_F}{k_B T}} + (N_D - N_A) + \\sum_{i} \\frac{N_{t,D,i}}{1 + e^{\\frac{E_F - E_{t,D,i}}{k_B T}}} - \\sum_{j} \\frac{N_{t,A,j}}{1 + e^{\\frac{E_{t,A,j} - E_F}{k_B T}}} = 0\n$$\n这是一个关于未知费米能级 $E_F$ 的超越方程。可以证明，在带隙内的物理相关范围 $[E_v, E_c]$ 上，$Q(E_F)$ 是 $E_F$ 的单调递减函数。因此，存在唯一的根，并且可以使用数值求根算法（如二分法或布伦特法）来高效地找到它。对于此问题，$E_F$ 的搜索在区间 $[E_v, E_c]$ 内执行，即 $[0, 1.12]\\,\\mathrm{eV}$。\n\n对于每个测试用例，我们将把 $N_D$、$N_A$ 和陷阱参数的具体值代入此方程，并求解 $E_F$。\n\n使用的参数如下：\n$T = 300\\,\\mathrm{K}$\n$E_g = 1.12\\,\\mathrm{eV}$\n$E_v = 0\\,\\mathrm{eV}$\n$E_c = 1.12\\,\\mathrm{eV}$\n$N_c = 2.8 \\times 10^{19}\\,\\mathrm{cm^{-3}}$\n$N_v = 1.04 \\times 10^{19}\\,\\mathrm{cm^{-3}}$\n$k_B = 8.617333262 \\times 10^{-5}\\,\\mathrm{eV/K}$\n\n每个用例的解都需要对电荷平衡方程进行迭代数值求解。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.optimize import brentq\n\ndef solve():\n    \"\"\"\n    Computes the equilibrium Fermi level in silicon considering shallow dopants and deep-level traps.\n    \"\"\"\n\n    # --- Constants and Physical Parameters ---\n    T = 300.0  # Temperature in Kelvin\n    E_g = 1.12  # Bandgap of Si in eV\n    E_v = 0.0   # Valence band edge in eV\n    E_c = 1.12  # Conduction band edge in eV\n    N_c = 2.8e19  # Effective density of states in conduction band (cm^-3)\n    N_v = 1.04e19  # Effective density of states in valence band (cm^-3)\n    k_B = 8.617333262e-5  # Boltzmann constant in eV/K\n    k_B_T = k_B * T  # Thermal energy in eV\n\n    # --- Test Case Definitions ---\n    # Each case defines shallow dopant concentrations and a list of traps.\n    # Trap format: (Nt, Et, g, type), where type is 'donor-like' or 'acceptor-like'.\n    test_cases = [\n        # Case 1: n-type, no traps\n        {'ND': 1e16, 'NA': 0.0, 'traps': []},\n        # Case 2: n-type, acceptor-like trap\n        {'ND': 1e16, 'NA': 0.0, 'traps': [(1e17, 0.56, 1, 'acceptor-like')]},\n        # Case 3: p-type, donor-like trap\n        {'ND': 0.0, 'NA': 1e16, 'traps': [(5e16, 0.20, 1, 'donor-like')]},\n        # Case 4: n-type, high concentration acceptor-like trap\n        {'ND': 1e15, 'NA': 0.0, 'traps': [(1e18, 0.70, 1, 'acceptor-like')]},\n        # Case 5: Intrinsic, mixed traps\n        {'ND': 0.0, 'NA': 0.0, 'traps': [\n            (1e17, 0.70, 1, 'acceptor-like'),\n            (1e17, 0.40, 1, 'donor-like')]\n        },\n    ]\n\n    def charge_balance_function(EF, case_params):\n        \"\"\"\n        Calculates the net charge density for a given Fermi level EF.\n        The root of this function is the equilibrium Fermi level.\n        Q(EF) = p - n + (ND+ - NA-) + (trap_pos_charge - trap_neg_charge)\n        \"\"\"\n        ND = case_params['ND']\n        NA = case_params['NA']\n        traps = case_params['traps']\n\n        # Free carrier concentrations (Maxwell-Boltzmann approximation)\n        n = N_c * np.exp(-(E_c - EF) / k_B_T)\n        p = N_v * np.exp(-(EF - E_v) / k_B_T)\n\n        # Net charge from fully ionized shallow dopants\n        dopant_charge = ND - NA\n\n        # Net charge from deep-level traps\n        trap_charge = 0.0\n        for Nt, Et, g, type in traps:\n            if type == 'donor-like':\n                # Positively charged when empty\n                # For g=1, this is Nt * (1 - f(Et)), where f is standard Fermi-Dirac\n                charge_contribution = Nt / (1 + g * np.exp((EF - Et) / k_B_T))\n                trap_charge += charge_contribution\n            elif type == 'acceptor-like':\n                # Negatively charged when occupied\n                # For g=1, this is Nt * f(Et)\n                charge_contribution = Nt / (1 + (1/g) * np.exp((Et - EF) / k_B_T))\n                trap_charge -= charge_contribution\n\n        return p - n + dopant_charge + trap_charge\n\n    results = []\n    # Solve for EF for each test case\n    for case in test_cases:\n        # brentq is a robust root-finding algorithm for a monotonic function on a bounded interval.\n        # The search interval [E_v, E_c] is the physical range for the Fermi level.\n        # A small epsilon is subtracted/added to the bounds to avoid potential issues at the edges\n        # with the exponential terms, though brentq is generally robust.\n        epsilon = 1e-9\n        try:\n            EF_solution = brentq(charge_balance_function, E_v + epsilon, E_c - epsilon, args=(case,))\n            results.append(round(EF_solution, 6))\n        except ValueError:\n            # This can happen if the function does not cross zero within the interval,\n            # indicating a potential issue with the problem setup or model. Not expected here.\n            results.append(float('nan'))\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(f'{r:.6f}' for r in results)}]\")\n\nsolve()\n```"
        }
    ]
}