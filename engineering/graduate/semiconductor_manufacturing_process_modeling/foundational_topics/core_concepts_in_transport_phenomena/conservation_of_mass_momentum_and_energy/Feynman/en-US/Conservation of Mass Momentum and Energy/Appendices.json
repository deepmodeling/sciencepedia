{
    "hands_on_practices": [
        {
            "introduction": "Understanding the transient behavior of a reactor is crucial for process control. This exercise explores the initial moments after a deposition reaction begins, demonstrating how the principles of mass and momentum conservation are intricately linked. By analyzing the system's response at $t=0^+$, you will uncover the role of fluid inertia and discover why the initial pressure drop is governed by the reaction kinetics alone, a key insight into the dynamics of coupled physical phenomena .",
            "id": "4115463",
            "problem": "An isothermal low-pressure chemical vapor deposition reactor used in semiconductor manufacturing is modeled as a rigid, well-mixed control volume of gas with constant volume $V$. The reactor is connected to a very large upstream reservoir through a straight, horizontal tube of length $L$ and uniform cross-sectional area $A$. The gas in both the reservoir and the reactor is an ideal mixture at the same uniform temperature $T$. Initially, at time $t=0$, the system is at rest with uniform pressure $p(0)=P_{\\mathrm{res}}$ and zero flow velocity everywhere in the tube.\n\nAt $t=0^{+}$, a surface reaction begins that removes gas-phase moles from the reactor at a constant net molar rate $R_{\\mathrm{dep}}$ (moles per second), representing precursor consumption by deposition. The reservoir pressure $P_{\\mathrm{res}}$ remains constant for all $t \\ge 0$. The gas can flow from the reservoir into the reactor through the tube in response to any pressure difference that arises.\n\nAssume:\n- The ideal gas law holds with the universal gas constant $R_{u}$.\n- The reactor is rigid and isothermal, so $V$ and $T$ are constant.\n- The gas in the tube can be modeled as a uniform plug flow of density $\\rho(t)$ and cross-sectional average velocity $u(t)$; for the initial transient on a vanishingly small time interval after $t=0$, take $\\rho(t) \\approx \\rho(0)$.\n- The momentum equation for the gas in the tube is governed by one-dimensional integral conservation of momentum with no wall friction and negligible gravitational head. Thus, the pressure force difference between the reservoir and reactor acts to accelerate the gas slug in the tube.\n- The reactor is large enough and the initial transient is short enough that the composition changes do not significantly change $\\rho(0)$ or $T$.\n\nUsing only global conservation of mass for the reactor control volume, the ideal gas law, and the one-dimensional integral momentum balance for the tube, determine the initial time derivative of the reactor pressure, $\\left.\\dfrac{dp}{dt}\\right|_{t=0^{+}}$, caused by the onset of deposition and the associated transient momentum response of the connecting tube.\n\nUse the following parameter values:\n- $V = 0.020\\ \\text{m}^{3}$,\n- $T = 1000\\ \\text{K}$,\n- $P_{\\text{res}} = 400\\ \\text{Pa}$,\n- $L = 0.50\\ \\text{m}$,\n- $A = 1.00 \\times 10^{-4}\\ \\text{m}^{2}$,\n- $R_{\\text{dep}} = 2.00 \\times 10^{-5}\\ \\text{mol s}^{-1}$,\n- $R_{u} = 8.314462618\\ \\text{J mol}^{-1}\\text{K}^{-1}$.\n\nExpress your final answer for $\\left.\\dfrac{dp}{dt}\\right|_{t=0^{+}}$ in $\\text{Pa s}^{-1}$. Round your answer to four significant figures. No intermediate approximations or empirical orifice relations are permitted; begin from first-principles conservation statements and the ideal gas law.",
            "solution": "The problem requires the determination of the initial time derivative of the reactor pressure, $\\left.\\dfrac{dp}{dt}\\right|_{t=0^{+}}$, immediately following the start of a deposition reaction. To find this, we must establish the governing equations for the system based on the principles of conservation of mass and momentum, along with the ideal gas law.\n\nLet $p(t)$ be the pressure in the reactor, $n(t)$ be the number of moles of gas in the reactor, and $u(t)$ be the velocity of the gas in the connecting tube. The reactor volume $V$ and temperature $T$ are constant.\n\nFirst, we apply the principle of conservation of mass to the reactor control volume. The rate of change of moles in the reactor, $\\dfrac{dn}{dt}$, is equal to the molar rate of gas flowing in from the tube, $\\dot{n}_{\\mathrm{in}}$, minus the molar rate of gas consumed by the deposition reaction, $R_{\\mathrm{dep}}$.\n$$\n\\frac{dn}{dt} = \\dot{n}_{\\mathrm{in}} - R_{\\mathrm{dep}}\n$$\nThe inflow rate $\\dot{n}_{\\mathrm{in}}$ is the product of the gas's molar density $(\\rho(t)/M)$ and its volumetric flow rate $(A u(t))$, where $\\rho(t)$ is the gas density in the tube, $M$ is the molar mass, $A$ is the tube's cross-sectional area, and $u(t)$ is the gas velocity.\n$$\n\\dot{n}_{\\mathrm{in}} = \\frac{\\rho(t)}{M} A u(t)\n$$\nThus, the molar balance is:\n$$\n\\frac{dn}{dt} = \\frac{\\rho(t) A u(t)}{M} - R_{\\mathrm{dep}}\n$$\nNext, we relate the number of moles $n(t)$ to the pressure $p(t)$ using the ideal gas law for the reactor volume $V$:\n$$\np(t)V = n(t)R_u T\n$$\nSince $V$, $R_u$, and $T$ are constants, we can differentiate with respect to time to relate the rate of change of pressure to the rate of change of moles:\n$$\nV\\frac{dp}{dt} = R_u T \\frac{dn}{dt}\n$$\nSubstituting the molar balance equation into this expression yields the first governing differential equation for the reactor pressure:\n$$\nV\\frac{dp}{dt} = R_u T \\left(\\frac{\\rho(t) A u(t)}{M} - R_{\\mathrm{dep}}\\right) = \\left(\\frac{\\rho(t) R_u T}{M}\\right) A u(t) - R_u T R_{\\mathrm{dep}}\n$$\nThe problem states that for the initial transient, we can approximate the gas density in the tube as constant, $\\rho(t) \\approx \\rho(0)$. At time $t=0$, the entire system is at pressure $P_{\\mathrm{res}}$ and temperature $T$. The ideal gas law for the gas at this initial state gives $P_{\\mathrm{res}} = \\frac{\\rho(0)}{M}R_u T$. The term in the parentheses can therefore be approximated as:\n$$\n\\frac{\\rho(t) R_u T}{M} \\approx \\frac{\\rho(0) R_u T}{M} = P_{\\mathrm{res}}\n$$\nSubstituting this into the equation for $\\dfrac{dp}{dt}$ gives our first dynamic equation, valid for the initial transient:\n$$\n\\frac{dp}{dt} = \\frac{P_{\\mathrm{res}} A}{V} u(t) - \\frac{R_u T R_{\\mathrm{dep}}}{V} \\quad (* A)\n$$\nSecond, we apply the one-dimensional integral conservation of momentum to the slug of gas within the tube of length $L$ and area $A$. The net force on the gas is the difference in pressure forces at the inlet (reservoir pressure $P_{\\mathrm{res}}$) and the outlet (reactor pressure $p(t)$). This net force equals the rate of change of momentum of the gas slug.\n$$\n\\sum F = \\frac{d}{dt}(\\text{momentum})\n$$\n$$\n(P_{\\mathrm{res}} - p(t)) A = \\frac{d}{dt}(m_{\\mathrm{tube}} u(t))\n$$\nThe mass of the gas in the tube, $m_{\\mathrm{tube}}$, is the product of its density and volume, $m_{\\mathrm{tube}} = \\rho(t) A L$. Using the assumption $\\rho(t) \\approx \\rho(0)$, the mass is constant: $m_{\\mathrm{tube}} \\approx \\rho(0) A L$.\n$$\n(P_{\\mathrm{res}} - p(t)) A = (\\rho(0) A L) \\frac{du}{dt}\n$$\nThis gives our second dynamic equation, governing the gas acceleration:\n$$\n\\frac{du}{dt} = \\frac{P_{\\mathrm{res}} - p(t)}{\\rho(0) L} \\quad (* B)\n$$\nWe need to find the value of $\\left.\\dfrac{dp}{dt}\\right|_{t=0^{+}}$. This is found by evaluating Equation $(* A)$ at the limit $t \\to 0^{+}$.\n$$\n\\left.\\frac{dp}{dt}\\right|_{t=0^{+}} = \\frac{P_{\\mathrm{res}} A}{V} u(0^{+}) - \\frac{R_u T R_{\\mathrm{dep}}}{V}\n$$\nTo evaluate this, we need the value of the velocity $u(0^{+})$. The initial state of the system at $t=0$ is rest, so $u(0)=0$. The momentum equation $(* B)$ shows that the acceleration $\\dfrac{du}{dt}$ is driven by the pressure difference $P_{\\mathrm{res}} - p(t)$, which is finite. A finite acceleration implies that the velocity $u(t)$ must be a continuous function of time. Therefore, the velocity immediately after the transient begins must be equal to the velocity just before:\n$$\nu(0^{+}) = u(0) = 0\n$$\nSubstituting $u(0^{+})=0$ into the expression for $\\left.\\dfrac{dp}{dt}\\right|_{t=0^{+}}$:\n$$\n\\left.\\frac{dp}{dt}\\right|_{t=0^{+}} = \\frac{P_{\\mathrm{res}} A}{V} (0) - \\frac{R_u T R_{\\mathrm{dep}}}{V} = -\\frac{R_u T R_{\\mathrm{dep}}}{V}\n$$\nThis result indicates that at the very instant the deposition reaction begins ($t=0^+$), the pressure starts to drop solely due to the consumption of moles within the reactor. The inflow of gas has not yet begun ($u(0^+)=0$), as the gas in the tube requires a finite amount of time to accelerate in response to the nascent pressure difference. Thus, the parameters related to the momentum response ($L$, $A$, $P_{\\mathrm{res}}$) do not appear in the final expression for the initial rate of pressure change, even though the momentum equation is essential for correctly establishing that $u(0^+) = 0$.\n\nNow, we substitute the given numerical values:\n$R_u = 8.314462618\\ \\text{J mol}^{-1}\\text{K}^{-1}$\n$T = 1000\\ \\text{K}$\n$R_{\\text{dep}} = 2.00 \\times 10^{-5}\\ \\text{mol s}^{-1}$\n$V = 0.020\\ \\text{m}^{3}$\n\n$$\n\\left.\\frac{dp}{dt}\\right|_{t=0^{+}} = - \\frac{(8.314462618\\ \\text{J mol}^{-1}\\text{K}^{-1}) (1000\\ \\text{K}) (2.00 \\times 10^{-5}\\ \\text{mol s}^{-1})}{0.020\\ \\text{m}^{3}}\n$$\n$$\n\\left.\\frac{dp}{dt}\\right|_{t=0^{+}} = - \\frac{0.166289\\dots\\ \\text{J s}^{-1}}{0.020\\ \\text{m}^{3}}\n$$\n$$\n\\left.\\frac{dp}{dt}\\right|_{t=0^{+}} = -8.31446\\dots\\ \\text{Pa s}^{-1}\n$$\nRounding to four significant figures, the result is $-8.314\\ \\text{Pa s}^{-1}$.",
            "answer": "$$\\boxed{-8.314}$$"
        },
        {
            "introduction": "Predicting the operating temperature of a plasma reactor is a fundamental task in process design, as temperature critically affects reaction rates and etch uniformity. This problem applies the principle of energy conservation to construct a global energy balance for an inductively coupled plasma (ICP) reactor. You will practice modeling a complex system by identifying and formulating the primary energy transfer mechanisms—RF power absorption, convective heat flow, conduction, and thermal radiation—to determine the steady-state gas temperature .",
            "id": "4115502",
            "problem": "An inductively coupled plasma (ICP) etch reactor is operated at steady state with Radio Frequency (RF) power absorbed by the plasma. The plasma gas in the reactor volume is modeled as spatially uniform at a steady temperature $T_{g}$, and the surrounding chamber wall and coolant are maintained at a constant temperature $T_{c}$. A global energy balance is to be performed on a control volume that encloses only the gas, using the principle of conservation of energy. The following data are given and are scientifically consistent for a semiconductor manufacturing reactor:\n\n- Absorbed RF power: $P_{\\text{abs}} = 1000 \\text{ W}$.\n- Gas mass flow rate: $\\dot{m} = 1.0 \\times 10^{-4} \\text{ kg s}^{-1}$.\n- Gas specific heat at constant pressure: $c_{p} = 520 \\text{ J kg}^{-1}\\text{K}^{-1}$.\n- Inlet gas temperature: $T_{\\text{in}} = 300 \\text{ K}$.\n- Chamber wall and coolant temperature (assumed isothermal due to active cooling): $T_{c} = 300 \\text{ K}$.\n- Conductive loss path modeled as a quartz window of area $A_{\\text{cond}} = 0.10 \\text{ m}^{2}$, thickness $L = 0.020 \\text{ m}$, and thermal conductivity $k = 1.4 \\text{ W m}^{-1}\\text{K}^{-1}$ in series directly between the gas and the coolant at $T_{c}$.\n- Effective radiating surface area from the gas to the walls: $A_{\\text{rad}} = 0.50 \\text{ m}^{2}$.\n- Gas effective hemispherical emissivity (optically thin approximation): $\\varepsilon = 0.05$.\n- Stefan–Boltzmann constant: $\\sigma = 5.670374419 \\times 10^{-8} \\text{ W m}^{-2}\\text{K}^{-4}$.\n\nAssumptions:\n- Steady state with negligible accumulation of internal energy in the gas and negligible kinetic and potential energy changes.\n- The only work interaction is the RF power absorbed by the gas.\n- The net enthalpy change rate of the gas flowing through the control volume is modeled as $\\dot{m} c_{p} (T_{g} - T_{\\text{in}})$.\n- Conductive loss to the coolant occurs through the quartz window and is modeled by a lumped thermal resistance $R_{\\text{cond}} = L/(k A_{\\text{cond}})$, so the conductive heat loss is $(T_{g} - T_{c})/R_{\\text{cond}}$.\n- Radiative exchange from the gas to the isothermal wall at $T_{c}$ is modeled as $\\varepsilon \\sigma A_{\\text{rad}} (T_{g}^{4} - T_{c}^{4})$.\n\nTask:\n- Starting from the steady-state first law of thermodynamics for a control volume and the stated constitutive relations for convective, conductive, and radiative heat transfer, derive the algebraic energy balance for $T_{g}$ and solve for the physically relevant steady-state gas temperature $T_{g}  T_{c}$.\n- Round your final numerical result to four significant figures.\n- Express the final temperature in K.",
            "solution": "The problem is first assessed for its validity.\n\n**Step 1: Extract Givens**\n- Absorbed RF power: $P_{\\text{abs}} = 1000 \\text{ W}$\n- Gas mass flow rate: $\\dot{m} = 1.0 \\times 10^{-4} \\text{ kg s}^{-1}$\n- Gas specific heat at constant pressure: $c_{p} = 520 \\text{ J kg}^{-1}\\text{K}^{-1}$\n- Inlet gas temperature: $T_{\\text{in}} = 300 \\text{ K}$\n- Chamber wall and coolant temperature: $T_{c} = 300 \\text{ K}$\n- Conductive loss path area: $A_{\\text{cond}} = 0.10 \\text{ m}^{2}$\n- Conductive loss path thickness: $L = 0.020 \\text{ m}$\n- Conductive loss path thermal conductivity: $k = 1.4 \\text{ W m}^{-1}\\text{K}^{-1}$\n- Effective radiating surface area: $A_{\\text{rad}} = 0.50 \\text{ m}^{2}$\n- Gas effective hemispherical emissivity: $\\varepsilon = 0.05$\n- Stefan–Boltzmann constant: $\\sigma = 5.670374419 \\times 10^{-8} \\text{ W m}^{-2}\\text{K}^{-4}$\n- Assumption: Steady state with negligible accumulation of internal energy.\n- Assumption: Negligible kinetic and potential energy changes.\n- Assumption: The only work interaction is the RF power absorbed by the gas.\n- Constitutive relation: Net enthalpy change rate is $\\dot{m} c_{p} (T_{g} - T_{\\text{in}})$.\n- Constitutive relation: Conductive heat loss is $(T_{g} - T_{c})/R_{\\text{cond}}$ with $R_{\\text{cond}} = L/(k A_{\\text{cond}})$.\n- Constitutive relation: Radiative heat loss is $\\varepsilon \\sigma A_{\\text{rad}} (T_{g}^{4} - T_{c}^{4})$.\n- Task: Derive the energy balance and solve for the steady-state gas temperature $T_{g}  T_{c}$.\n- Task: Round the final result to four significant figures.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded, being based on the first law of thermodynamics applied to a common semiconductor manufacturing process (plasma etching). The physical model uses standard, well-established formulae for conduction, radiation, and convective enthalpy transport. All necessary data are provided, and the units are consistent within the SI system. The problem is well-posed, leading to a single nonlinear algebraic equation for the unknown temperature $T_{g}$, for which a unique, physically meaningful solution ($T_{g}  T_c$) is expected. The language is objective and precise. The problem is not trivial, as it requires solving a quartic equation, but it is a standard engineering calculation. Thus, the problem is deemed valid.\n\n**Step 3: Verdict and Action**\nThe problem is valid. A solution will be provided.\n\nThe analysis begins with the first law of thermodynamics for a control volume (CV) at steady state. The control volume encloses the plasma gas. The general steady-state energy balance is:\n$$\n\\frac{dE_{CV}}{dt} = 0 = \\dot{Q}_{\\text{net}} - \\dot{W}_{\\text{net}} + \\sum \\dot{m}_{\\text{in}} h_{\\text{in}} - \\sum \\dot{m}_{\\text{out}} h_{\\text{out}}\n$$\nwhere $\\dot{Q}_{\\text{net}}$ is the net rate of heat transfer into the CV, $\\dot{W}_{\\text{net}}$ is the net rate of work done by the CV, and $\\dot{m}h$ terms represent the rate of enthalpy transport across the CV boundaries.\n\nIn this problem, work is done *on* the gas by the RF field, so $\\dot{W}_{\\text{net}} = -\\dot{W}_{\\text{in}} = -P_{\\text{abs}}$. Heat is transferred *out* of the gas to the colder walls, so $\\dot{Q}_{\\text{net}} = -\\dot{Q}_{\\text{out}}$. At steady state, the mass flow rate is constant, so $\\dot{m}_{\\text{in}} = \\dot{m}_{\\text{out}} = \\dot{m}$. The energy balance equation becomes:\n$$\n0 = -\\dot{Q}_{\\text{out}} - (-P_{\\text{abs}}) + \\dot{m}h_{\\text{in}} - \\dot{m}h_{\\text{out}}\n$$\nRearranging to a more intuitive \"Energy In = Energy Out\" form:\n$$\nP_{\\text{abs}} + \\dot{m}h_{\\text{in}} = \\dot{Q}_{\\text{out}} + \\dot{m}h_{\\text{out}}\n$$\nThis can be written as:\n$$\nP_{\\text{abs}} = \\dot{Q}_{\\text{out}} + \\dot{m}(h_{\\text{out}} - h_{\\text{in}})\n$$\nThe total heat loss, $\\dot{Q}_{\\text{out}}$, is the sum of conductive and radiative losses: $\\dot{Q}_{\\text{out}} = \\dot{Q}_{\\text{cond}} + \\dot{Q}_{\\text{rad}}$. The change in enthalpy rate is modeled as $\\dot{m}(h_{\\text{out}} - h_{\\text{in}}) = \\dot{m} c_{p} (T_{g} - T_{\\text{in}})$.\nSubstituting the given constitutive relations into the energy balance equation yields:\n$$\nP_{\\text{abs}} = \\frac{T_{g} - T_{c}}{R_{\\text{cond}}} + \\varepsilon \\sigma A_{\\text{rad}} (T_{g}^{4} - T_{c}^{4}) + \\dot{m} c_{p} (T_{g} - T_{\\text{in}})\n$$\nwhere the thermal resistance for conduction is $R_{\\text{cond}} = L / (k A_{\\text{cond}})$. The conductive term can be written as $\\frac{k A_{\\text{cond}}}{L}(T_{g} - T_{c})$.\nThe full energy balance equation is:\n$$\nP_{\\text{abs}} = \\frac{k A_{\\text{cond}}}{L}(T_{g} - T_{c}) + \\varepsilon \\sigma A_{\\text{rad}} (T_{g}^{4} - T_{c}^{4}) + \\dot{m} c_{p} (T_{g} - T_{\\text{in}})\n$$\nThe problem specifies that $T_{\\text{in}} = T_{c} = 300 \\text{ K}$. Let us denote this reference temperature as $T_{0} = 300 \\text{ K}$. The equation simplifies by grouping terms containing $(T_{g} - T_{0})$:\n$$\nP_{\\text{abs}} = \\left( \\frac{k A_{\\text{cond}}}{L} + \\dot{m} c_{p} \\right) (T_{g} - T_{0}) + \\varepsilon \\sigma A_{\\text{rad}} (T_{g}^{4} - T_{0}^{4})\n$$\nWe now calculate the numerical values of the coefficients using the provided data.\nThe coefficient for the linear heat loss terms (conduction and convection/flow) is:\n$$\nC_{1} = \\frac{k A_{\\text{cond}}}{L} + \\dot{m} c_{p} = \\frac{(1.4 \\text{ W m}^{-1}\\text{K}^{-1})(0.10 \\text{ m}^2)}{0.020 \\text{ m}} + (1.0 \\times 10^{-4} \\text{ kg s}^{-1})(520 \\text{ J kg}^{-1}\\text{K}^{-1})\n$$\n$$\nC_{1} = 7.0 \\text{ W K}^{-1} + 0.052 \\text{ W K}^{-1} = 7.052 \\text{ W K}^{-1}\n$$\nThe coefficient for the radiative heat loss term is:\n$$\nC_{2} = \\varepsilon \\sigma A_{\\text{rad}} = (0.05)(5.670374419 \\times 10^{-8} \\text{ W m}^{-2}\\text{K}^{-4})(0.50 \\text{ m}^2)\n$$\n$$\nC_{2} \\approx 1.41759 \\times 10^{-9} \\text{ W K}^{-4}\n$$\nSubstituting the known values and coefficients into the energy balance equation:\n$$\n1000 = 7.052 (T_{g} - 300) + (1.41759 \\times 10^{-9}) (T_{g}^{4} - 300^{4})\n$$\nThis is a nonlinear algebraic equation (a quartic equation) for $T_{g}$. It must be solved numerically. We seek the physically relevant root where $T_{g}  300 \\text{ K}$.\nLet $f(T_g) = 7.052 (T_{g} - 300) + (1.41759 \\times 10^{-9}) (T_{g}^{4} - 300^{4}) - 1000 = 0$.\nWe can solve this equation using an iterative numerical method or a solver. Let us test a value to confirm the order of magnitude. A first approximation ignoring radiation gives $1000 = 7.052(T_g - 300)$, which yields $T_g \\approx 441.8 \\text{ K}$. Using this as a starting point for iteration:\nTest $T_{g} = 436.17 \\text{ K}$:\n$$\nf(436.17) = 7.052(136.17) + (1.41759 \\times 10^{-9})(436.17^4 - 300^4) - 1000\n$$\n$$\nf(436.17) = 960.18 + (1.41759 \\times 10^{-9})(3.6168 \\times 10^{10} - 8.1 \\times 10^{9}) - 1000\n$$\n$$\nf(436.17) = 960.18 + 39.79 - 1000 = 999.97 - 1000 \\approx -0.03 \\text{ W}\n$$\nTest $T_g = 436.18 \\text{ K}$:\n$$\nf(436.18) = 7.052(136.18) + (1.41759 \\times 10^{-9})(436.18^4 - 300^4) - 1000\n$$\n$$\nf(436.18) = 960.25 + (1.41759 \\times 10^{-9})(3.6177 \\times 10^{10} - 8.1 \\times 10^{9}) - 1000\n$$\n$$\nf(436.18) = 960.25 + 39.80 - 1000 = 1000.05 - 1000 \\approx +0.05 \\text{ W}\n$$\nThe solution for $T_{g}$ lies between $436.17 \\text{ K}$ and $436.18 \\text{ K}$. By linear interpolation, the value is closer to $436.17 \\text{ K}$. Solving with higher precision yields $T_g \\approx 436.173 \\text{ K}$.\nThe problem requires rounding the final result to four significant figures.\n$$\nT_{g} \\approx 436.2 \\text{ K}\n$$",
            "answer": "$$\n\\boxed{436.2}\n$$"
        },
        {
            "introduction": "The ultimate test of a process model is its adherence to fundamental conservation laws. This practice bridges analytical theory and computational verification by challenging you to confirm global mass conservation in a simulated Chemical Vapor Deposition (CVD) reactor. By accounting for convection, volumetric reactions, and multiple surface reactions, you will develop and implement a rigorous check on a model's physical consistency, a critical skill for anyone developing or validating simulation software in semiconductor manufacturing .",
            "id": "4115524",
            "problem": "Consider a cylindrical Chemical Vapor Deposition (CVD) reactor used in semiconductor manufacturing, with uniform axial gas flow and heterogeneous surface deposition at the end caps and the cylindrical side wall. The reactor has radius $R$ and length $L$, cross-sectional area $A = \\pi R^2$, and side-wall perimeter $P = 2 \\pi R$. A single depositing precursor species with mass density field $ \\rho(x,t) $ undergoes a first-order volumetric reaction in the gas phase and first-order surface reactions at the end caps ($x=0$ and $x=L$) and along the side wall. The volumetric reaction sink is $ r(x,t) = k_v \\rho(x,t) $ with $k_v$ in $\\text{s}^{-1}$. The reactive boundary fluxes are $ j_0(t) = k_0 \\rho(0,t) $ at $x=0$, $ j_L(t) = k_L \\rho(L,t) $ at $x=L$, and $ j_{\\text{side}}(x,t) = k_{\\text{side}} \\rho(x,t) $ along the cylindrical side wall, where $k_0$ and $k_L$ are in $\\text{m/s}$ and $k_{\\text{side}}$ is in $\\text{m/s}$. The axial inflow and outflow convective mass fluxes at the end caps are $ \\Phi_{\\text{in}}(t) = A u \\rho(0,t) $ and $ \\Phi_{\\text{out}}(t) = A u \\rho(L,t) $, respectively, where $u$ (in $\\text{m/s}$) is a uniform axial velocity.\n\nThe reactor simulation field for the precursor is reported to take the form $ \\rho(x,t) = \\rho_{\\text{ref}} f(x) \\exp(\\theta t) $, where $ \\rho_{\\text{ref}} $ is a constant reference mass density (in $\\text{kg/m}^3$), $ \\theta $ is an unknown constant (in $\\text{s}^{-1}$), and\n$$\nf(x) = 1 + \\lambda \\frac{x}{L} + \\eta \\sin\\!\\left( \\pi \\frac{x}{L} \\right).\n$$\nAll quantities are in International System of Units (SI). The total mass of the precursor within the reactor control volume is\n$$\nM(t) = \\int_{0}^{L} A \\rho(x,t) \\, dx,\n$$\nwith $M(t)$ in $\\text{kg}$ and $dM/dt$ in $\\text{kg/s}$.\n\nTask:\n- Starting from the conservation of mass for a fixed control volume, derive the global mass balance that relates $ dM/dt $ to the net convective inflow minus outflow and the integrated reaction sinks (volumetric plus all reactive boundary sinks).\n- Use this principle to determine $ \\theta $ in terms of the reactor geometry and kinetic constants so that the reported $ \\rho(x,t) $ is globally mass-conservative.\n- Implement a program that, for each provided test case, computes $ M(t) $, $ dM/dt $, the net inflow minus outflow, and the integrated reaction sinks at specified times, and verifies conservation by checking that the residual\n$$\n\\mathcal{R}(t) = \\frac{dM}{dt} - \\left( \\Phi_{\\text{in}} - \\Phi_{\\text{out}} \\right) + \\int_{0}^{L} A r(x,t) \\, dx + A j_0(t) + A j_L(t) + \\int_{0}^{L} P j_{\\text{side}}(x,t) \\, dx\n$$\nis within a specified tolerance. The sign convention is such that inflow adds mass, outflow removes mass, and all reaction terms are sinks that remove mass from the control volume. The residual must be evaluated in $\\text{kg/s}$.\n- For each test case, evaluate $ \\mathcal{R}(t) $ at three times and return a boolean indicating whether $ \\max_t |\\mathcal{R}(t)| \\le \\tau $ with tolerance $ \\tau = 1.0 \\times 10^{-12} $ $\\text{kg/s}$.\n\nUse the following test suite. For each case, compute with times $ t \\in \\{ 0.0, 1.0, 2.0 \\} $ seconds and tolerance $ \\tau = 1.0 \\times 10^{-12} $ $\\text{kg/s}$:\n- Case 1 (typical CVD, mixed sinks):\n  - $ L = 0.5 $ $\\text{m}$, $ R = 0.05 $ $\\text{m}$, $ u = 0.2 $ $\\text{m/s}$,\n  - $ k_v = 0.1 $ $\\text{s}^{-1}$, $ k_0 = 0.01 $ $\\text{m/s}$, $ k_L = 0.02 $ $\\text{m/s}$, $ k_{\\text{side}} = 0.001 $ $\\text{m/s}$,\n  - $ \\rho_{\\text{ref}} = 0.01 $ $\\text{kg/m}^3$, $ \\lambda = 0.3 $, $ \\eta = 0.5 $.\n- Case 2 (boundary-dominated sinks):\n  - $ L = 0.3 $ $\\text{m}$, $ R = 0.03 $ $\\text{m}$, $ u = 0.05 $ $\\text{m/s}$,\n  - $ k_v = 0.02 $ $\\text{s}^{-1}$, $ k_0 = 0.0 $ $\\text{m/s}$, $ k_L = 0.03 $ $\\text{m/s}$, $ k_{\\text{side}} = 0.02 $ $\\text{m/s}$,\n  - $ \\rho_{\\text{ref}} = 0.015 $ $\\text{kg/m}^3$, $ \\lambda = 0.5 $, $ \\eta = 0.2 $.\n- Case 3 (no reactive boundaries, volumetric and convection only):\n  - $ L = 0.4 $ $\\text{m}$, $ R = 0.04 $ $\\text{m}$, $ u = 0.3 $ $\\text{m/s}$,\n  - $ k_v = 0.15 $ $\\text{s}^{-1}$, $ k_0 = 0.0 $ $\\text{m/s}$, $ k_L = 0.0 $ $\\text{m/s}$, $ k_{\\text{side}} = 0.0 $ $\\text{m/s}$,\n  - $ \\rho_{\\text{ref}} = 0.02 $ $\\text{kg/m}^3$, $ \\lambda = 0.2 $, $ \\eta = 0.7 $.\n- Case 4 (symmetric axial profile, convective term cancels):\n  - $ L = 0.6 $ $\\text{m}$, $ R = 0.02 $ $\\text{m}$, $ u = 0.1 $ $\\text{m/s}$,\n  - $ k_v = 0.05 $ $\\text{s}^{-1}$, $ k_0 = 0.01 $ $\\text{m/s}$, $ k_L = 0.01 $ $\\text{m/s}$, $ k_{\\text{side}} = 0.005 $ $\\text{m/s}$,\n  - $ \\rho_{\\text{ref}} = 0.012 $ $\\text{kg/m}^3$, $ \\lambda = 0.0 $, $ \\eta = 0.4 $.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., $[ \\text{result1}, \\text{result2}, \\text{result3}, \\text{result4} ]$), where each $ \\text{resulti} $ is a boolean indicating whether the conservation verification passed for the corresponding case.",
            "solution": "We begin from the conservation of mass for a fixed control volume, expressed via the Reynolds Transport Theorem specialized to mass. The global mass balance states that the rate of change of mass in the control volume, $dM/dt$, equals the net rate of mass convected in minus the total rate of mass consumed by reactions.\n$$\n\\frac{dM}{dt} = (\\text{Mass Inflow Rate}) - (\\text{Mass Outflow Rate}) - (\\text{Reaction Sink Rate})\n$$\nFor the cylindrical reactor with uniform axial velocity $u$ and one-dimensional axial dependence, the net convective mass flux is the inflow minus outflow at the end caps:\n$$\n\\text{Net Convective Inflow} = \\Phi_{\\text{in}} - \\Phi_{\\text{out}} = A u \\rho(0,t) - A u \\rho(L,t).\n$$\nThe reaction sinks are composed of a volumetric sink and three surface sinks. The total reaction sink rate is:\n$$\n\\text{Total Sink Rate} = \\int_0^L A r(x,t) \\, dx + A j_0(t) + A j_L(t) + \\int_0^L P j_{\\text{side}}(x,t) \\, dx\n$$\nAggregating, the global mass balance becomes\n$$\n\\frac{dM}{dt} = \\left[ A u \\rho(0,t) - A u \\rho(L,t) \\right] - \\left( \\int_0^L A k_v \\rho(x,t) \\, dx + A k_0 \\rho(0,t) + A k_L \\rho(L,t) + \\int_0^L P k_{\\text{side}} \\rho(x,t) \\, dx \\right).\n$$\n\nThe reactor simulation reports $ \\rho(x,t) = \\rho_{\\text{ref}} f(x) \\exp(\\theta t) $, with $ f(x) = 1 + \\lambda x/L + \\eta \\sin(\\pi x/L) $. Define $ f_0 = f(0) = 1 $ and $ f_L = f(L) = 1 + \\lambda $. The integral of $ f(x) $ over $ x \\in [0,L] $ is\n$$\n\\int_0^L f(x) \\, dx = \\int_0^L 1 \\, dx + \\lambda \\int_0^L \\frac{x}{L} \\, dx + \\eta \\int_0^L \\sin\\!\\left( \\pi \\frac{x}{L} \\right) \\, dx\n= L + \\lambda \\frac{L}{2} + \\eta \\frac{2L}{\\pi} = L \\left( 1 + \\frac{\\lambda}{2} + \\frac{2 \\eta}{\\pi} \\right).\n$$\nLet $ F = \\int_0^L f(x) \\, dx = L \\left( 1 + \\frac{\\lambda}{2} + \\frac{2 \\eta}{\\pi} \\right) $. The total mass is then\n$$\nM(t) = \\int_0^L A \\rho(x,t) \\, dx = \\int_0^L A \\rho_{\\text{ref}} f(x) e^{\\theta t} \\, dx = A \\rho_{\\text{ref}} F e^{\\theta t},\n$$\nand its time derivative is\n$$\n\\frac{dM}{dt} = \\theta A \\rho_{\\text{ref}} F e^{\\theta t}.\n$$\nSubstituting the functional form of $\\rho(x,t)$ into the mass balance equation and dividing both sides by the common factor $ A \\rho_{\\text{ref}} e^{\\theta t} $ yields an algebraic equation for $ \\theta $:\n$$\n\\theta F = u ( f_0 - f_L ) - k_v F - (k_0 f_0 + k_L f_L) - \\frac{P}{A} k_{\\text{side}} F.\n$$\nRecognizing $ P/A = \\frac{2 \\pi R}{\\pi R^2} = \\frac{2}{R} $, we can solve for $\\theta$:\n$$\n\\theta = \\frac{ u ( f_0 - f_L ) - k_0 f_0 - k_L f_L }{ F } - k_v - \\frac{ 2 k_{\\text{side}} }{ R }.\n$$\nThis choice of $ \\theta $ ensures that the reported $ \\rho(x,t) $ satisfies the global mass conservation law exactly.\n\nAlgorithm design:\n- For each test case, compute $ A = \\pi R^2 $, $ P = 2 \\pi R $, $ f_0 = 1 $, $ f_L = 1 + \\lambda $, and $ F = L \\left( 1 + \\frac{\\lambda}{2} + \\frac{2 \\eta}{\\pi} \\right) $.\n- Compute $ \\theta $ using the derived expression.\n- For each time $ t $ in the specified set:\n  - Compute the rate of mass change: $ dM/dt = \\theta A \\rho_{\\text{ref}} F e^{\\theta t} $.\n  - Compute the net convective inflow: $ \\text{NetConv} = A u \\rho_{\\text{ref}} e^{\\theta t} ( f_0 - f_L ) $.\n  - Compute total sink rate: $ S_{\\text{total}} = S_{\\text{vol}} + S_{\\text{end}} + S_{\\text{side}} $, where\n    - $ S_{\\text{vol}} = A k_v \\rho_{\\text{ref}} e^{\\theta t} F $\n    - $ S_{\\text{end}} = A \\rho_{\\text{ref}} e^{\\theta t} ( k_0 f_0 + k_L f_L ) $\n    - $ S_{\\text{side}} = P k_{\\text{side}} \\rho_{\\text{ref}} e^{\\theta t} F $\n  - Form the residual, which must be zero for a conservative solution:\n    $$\n    \\mathcal{R}(t) = \\frac{dM}{dt} - \\text{NetConv} + S_{\\text{total}}\n    $$\n- Check if $ \\max_t |\\mathcal{R}(t)| \\le \\tau $ for the given tolerance $ \\tau $; return a boolean per case.\n\nBecause all expressions are analytic and the value of $\\theta$ is derived to enforce the balance, numerical evaluation of the residual should yield a value at or near machine precision. The tolerance $ \\tau = 1.0 \\times 10^{-12} $ $\\text{kg/s}$ is appropriate for verifying this with double-precision floating-point arithmetic.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef compute_theta(L, R, u, kv, k0, kL, k_side, lam, eta):\n    # Geometry\n    A = np.pi * R**2\n    P = 2.0 * np.pi * R\n    # f(x) properties\n    f0 = 1.0\n    fL = 1.0 + lam\n    F = L * (1.0 + lam / 2.0 + 2.0 * eta / np.pi)\n    # Theta is derived from dM/dt = NetConv - TotalSinks\n    theta = (u * (f0 - fL) - k0 * f0 - kL * fL) / F - kv - (2.0 * k_side / R)\n    return theta, A, P, f0, fL, F\n\ndef verify_case(params, times, tol):\n    L, R, u, kv, k0, kL, k_side, rho_ref, lam, eta = params\n    theta, A, P, f0, fL, F = compute_theta(L, R, u, kv, k0, kL, k_side, lam, eta)\n    max_resid = 0.0\n    for t in times:\n        exp_term = np.exp(theta * t)\n        \n        # Calculate each term of the mass balance\n        dMdt = theta * A * rho_ref * F * exp_term\n        conv = A * u * rho_ref * exp_term * (f0 - fL)\n        S_vol = A * kv * rho_ref * exp_term * F\n        S_end = A * rho_ref * exp_term * (k0 * f0 + kL * fL)\n        S_side = P * k_side * rho_ref * exp_term * F\n        \n        # Residual = dM/dt - (NetConvection - TotalSinks) = dM/dt - NetConvection + TotalSinks\n        # This must be zero if theta is chosen correctly.\n        resid = dMdt - conv + (S_vol + S_end + S_side)\n        \n        max_resid = max(max_resid, abs(resid))\n        \n    return max_resid = tol\n\ndef solve():\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # Case 1\n        (0.5, 0.05, 0.2, 0.1, 0.01, 0.02, 0.001, 0.01, 0.3, 0.5),\n        # Case 2\n        (0.3, 0.03, 0.05, 0.02, 0.0, 0.03, 0.02, 0.015, 0.5, 0.2),\n        # Case 3\n        (0.4, 0.04, 0.3, 0.15, 0.0, 0.0, 0.0, 0.02, 0.2, 0.7),\n        # Case 4\n        (0.6, 0.02, 0.1, 0.05, 0.01, 0.01, 0.005, 0.012, 0.0, 0.4),\n    ]\n    times = [0.0, 1.0, 2.0]  # seconds\n    tol = 1.0e-12  # kg/s tolerance\n\n    results = []\n    for case in test_cases:\n        result = verify_case(case, times, tol)\n        results.append(result)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}