{
    "hands_on_practices": [
        {
            "introduction": "We begin our exploration with the most fundamental approach to modeling deposition: a purely kinematic and geometric model. This exercise  strips away the complex physics of transport and surface chemistry to focus solely on the consequences of film growth at different rates on different surfaces. By tracking the movement of these surfaces, you will derive a predictive relationship for where a void becomes trapped, providing a powerful first-order intuition for how process parameters influence fill outcomes.",
            "id": "4178285",
            "problem": "A vertical cylindrical via of initial radius $a$ and depth $H$ is to be filled by a film grown from the vapor phase. Assume an axisymmetric geometry with straight, vertical sidewalls and a flat bottom. The local film thickness grows at a constant rate normal to the surface: along the sidewalls at a uniform rate $R_s$ (reducing the via radius) and on the bottom at a uniform rate $R_b$ (raising the bottom interface). Neglect any top-surface overhang or re-entrant profile formation, gas-phase transport limitations, and any curvature-dependent effects; treat the deposition kinetics as purely kinematic with constant interface speeds. Define the dimensionless rate ratio $\\alpha \\equiv R_s/R_b$. The seam forms when the opposing sidewall fronts meet and the opening pinches off, trapping a void below the pinch-off plane. Under the physically relevant condition that a seam indeed forms within the via, namely $0  a/\\alpha  H$, use first-principles geometric kinematics of moving interfaces to derive an explicit analytic expression for the seam depth measured from the top surface downward at the instant of pinch-off, as a function of $\\alpha$. Express your final answer in symbolic form in terms of $H$, $a$, and $\\alpha$. No numerical evaluation is required and no units should be included in the final answer.",
            "solution": "The problem asks for the depth of the seam formed during the filling of a cylindrical via. The analysis will be based on a kinematic model of film growth, where the film surface propagates locally normal to itself at a constant rate.\n\nFirst, we establish a coordinate system. Let the system be a cylindrical coordinate system $(r, \\theta, z)$. Due to the specified axisymmetry, the problem can be analyzed in a 2D cross-section in the $r-z$ plane. Let the origin $(r=0, z=0)$ be at the center of the via's initial bottom. The $z$-axis corresponds to the central axis of the via.\nThe initial geometry of the via is therefore described by:\n- The bottom surface: $z=0$ for $0 \\le r \\le a$.\n- The sidewall: $r=a$ for $0 \\le z \\le H$.\n- The top opening is at $z=H$.\n\nThe film growth is described by two constant rates:\n- $R_b$: the growth rate on the bottom surface, normal to the surface (in the $+z$ direction).\n- $R_s$: the growth rate on the sidewall, normal to the surface (in the $-r$ direction).\n\nThe problem statement neglects curvature effects, which allows us to model the evolving fronts as planar surfaces that remain orthogonal to the axes, a simplification often employed in ballistic or string models of deposition.\n\nAt any time $t > 0$, the position of the growing film fronts can be described as follows:\n- The front originating from the bottom advances upward. Its position is a horizontal plane at $z_b(t) = R_b t$.\n- The front originating from the sidewall advances inward. Its position is a vertical cylindrical surface at $r_s(t) = a - R_s t$.\n\nPinch-off is the event where the growing films from the opposing sidewalls meet at the central axis, $r=0$. We can find the time at which pinch-off occurs, $t_p$, by setting $r_s(t_p) = 0$:\n$$a - R_s t_p = 0$$\nSolving for $t_p$ gives the pinch-off time:\n$$t_p = \\frac{a}{R_s}$$\n\nWhen pinch-off occurs, a void is trapped below a certain height. The top of this void, which corresponds to the \"pinch-off plane\" mentioned in the problem, is the point on the central axis ($r=0$) that is simultaneously reached by the film growing from the bottom and the film growing from the sidewalls. Let the height of this point be $z_{tip}$, measured from the initial bottom of the via.\n\nThe time required for the film growing from the bottom to reach the height $z_{tip}$ is:\n$$t_{bottom} = \\frac{z_{tip}}{R_b}$$\n\nThe time required for the film growing from the sidewall (initially at $r=a$) to reach the central axis ($r=0$) at any height $z$ is:\n$$t_{side} = \\frac{a}{R_s}$$\nThis time is independent of the height $z$.\n\nThe tip of the void forms at the height $z_{tip}$ where these two times are equal, $t_{bottom} = t_{side}$.\n$$\\frac{z_{tip}}{R_b} = \\frac{a}{R_s}$$\nNote that this equality also means that the void tip forms precisely at the pinch-off time $t_p$.\n\nWe can now solve for $z_{tip}$:\n$$z_{tip} = a \\frac{R_b}{R_s}$$\n\nThe problem defines the dimensionless rate ratio as $\\alpha \\equiv R_s/R_b$. Substituting this into the expression for $z_{tip}$:\n$$z_{tip} = a \\frac{1}{\\alpha} = \\frac{a}{\\alpha}$$\nThis height $z_{tip}$ is measured from the bottom of the via ($z=0$). The provided condition $0  a/\\alpha  H$ ensures that this $z_{tip}$ is physically located within the initial via depth, $0  z_{tip}  H$, confirming that a void is indeed trapped.\n\nThe problem asks for the seam depth, $D$, measured from the top surface of the via ($z=H$) downward to the pinch-off plane (at $z=z_{tip}$). This depth is the difference between the total via depth and the height of the void tip:\n$$D = H - z_{tip}$$\nSubstituting the expression for $z_{tip}$ yields the final expression for the seam depth:\n$$D = H - \\frac{a}{\\alpha}$$\nThis expression represents the depth from the top opening of the via to the highest point of the trapped void at the moment of pinch-off.",
            "answer": "$$\\boxed{H - \\frac{a}{\\alpha}}$$"
        },
        {
            "introduction": "Moving beyond simple kinematics, this practice  delves into the core physics governing many Chemical Vapor Deposition (CVD) processes: the competition between precursor transport and surface reaction. You will apply a classic one-dimensional reaction-diffusion model to derive a relationship between a key process metric, step coverage, and the dimensionless Thiele modulus. This exercise demonstrates how to use fundamental theory to interpret experimental data and diagnose the physical limitations of a deposition process.",
            "id": "4178265",
            "problem": "A trench of width $W$ and depth $H$ is to be filled by a single-precursor Chemical Vapor Deposition (CVD) process. During deposition, voids can form within trenches and vias when the bottom surface receives significantly less flux than the top opening, which is quantified by the step coverage. Define the dimensionless step coverage $S$ as the ratio of the bottom film thickness to the top film thickness. A measurement yields $S=0.4$ for a trench with aspect ratio $H/W=10$, under steady-state flow and constant precursor partial pressure at the trench opening.\n\nAssume that precursor transport along the trench depth direction $z$ is governed by Fick’s law of diffusion and a first-order consumption (sink) due to surface reaction that can be homogenized into the trench volume. Let the effective volumetric rate constant be $k_{\\mathrm{eff}}$ and the effective diffusivity be $D_{\\mathrm{eff}}$, both taken as constants along $z$. The one-dimensional steady-state precursor concentration $C(z)$ satisfies the species balance derived from conservation of mass and Fick’s first law, subject to a Dirichlet boundary condition at the opening $C(0)=C_{0}$ and a no-flux Neumann boundary condition at the bottom $\\frac{dC}{dz}\\big|_{z=H}=0$. The Thiele modulus is defined by $\\phi = H \\sqrt{k_{\\mathrm{eff}}/D_{\\mathrm{eff}}}$.\n\nStarting from these principles, derive a closed-form relationship between the step coverage $S$ and the Thiele modulus $\\phi$. Then, use the measured $S=0.4$ to back-calculate the effective $\\phi$ for this trench. Round your numerical value of $\\phi$ to four significant figures. Express your final answer as a dimensionless quantity.\n\nFinally, based on your derived relationship, explain qualitatively which process changes (e.g., modifications to $D_{\\mathrm{eff}}$, $k_{\\mathrm{eff}}$, or gas-phase boundary conditions) would be required to achieve $S0.8$ for the same geometry, and provide the corresponding inequality constraint on $\\phi$ that would ensure $S \\geq 0.8$. Do not include this inequality in your final numeric answer.",
            "solution": "The goal is to obtain a functional relationship between the step coverage $S$ and the Thiele modulus $\\phi$ from first principles, and then invert that relationship to back-calculate $\\phi$ given $S=0.4$.\n\nWe begin from conservation of mass for the precursor in a one-dimensional trench, using Fick’s first law and a homogenized first-order sink. Let $z$ denote the depth coordinate measured from the opening ($z=0$) to the bottom ($z=H$). The steady-state molar flux is $J(z) = -D_{\\mathrm{eff}} \\frac{dC}{dz}$. A volumetric first-order sink with rate constant $k_{\\mathrm{eff}}$ implies that the local consumption rate per unit volume is $r = k_{\\mathrm{eff}} C$. The species balance in steady state is\n$$\n\\frac{dJ}{dz} + r = 0 \\quad \\Rightarrow \\quad \\frac{d}{dz}\\!\\left(-D_{\\mathrm{eff}} \\frac{dC}{dz}\\right) + k_{\\mathrm{eff}} C = 0,\n$$\nwhich simplifies (for constant $D_{\\mathrm{eff}}$) to\n$$\nD_{\\mathrm{eff}} \\frac{d^{2}C}{dz^{2}} - k_{\\mathrm{eff}} C = 0.\n$$\nDefine $\\lambda^{2} = \\frac{k_{\\mathrm{eff}}}{D_{\\mathrm{eff}}}$, so that the governing ordinary differential equation is\n$$\n\\frac{d^{2}C}{dz^{2}} - \\lambda^{2} C = 0.\n$$\nThe general solution is\n$$\nC(z) = A \\cosh(\\lambda z) + B \\sinh(\\lambda z).\n$$\nApply the boundary conditions. At the opening, the gas-phase precursor concentration is fixed, so\n$$\nC(0) = C_{0} \\quad \\Rightarrow \\quad A = C_{0}.\n$$\nAt the bottom, a no-flux boundary condition reflects a closed end with no mass flow through $z=H$:\n$$\n\\frac{dC}{dz}\\Big|_{z=H} = 0 \\quad \\Rightarrow \\quad \\lambda A \\sinh(\\lambda H) + \\lambda B \\cosh(\\lambda H) = 0.\n$$\nDividing by $\\lambda$ and substituting $A=C_{0}$,\n$$\nC_{0} \\sinh(\\lambda H) + B \\cosh(\\lambda H) = 0 \\quad \\Rightarrow \\quad B = - C_{0} \\tanh(\\lambda H).\n$$\nThus the concentration profile is\n$$\nC(z) = C_{0} \\left[ \\cosh(\\lambda z) - \\tanh(\\lambda H) \\sinh(\\lambda z) \\right].\n$$\nThe bottom concentration is\n$$\nC(H) = C_{0} \\left[ \\cosh(\\lambda H) - \\tanh(\\lambda H)\\, \\sinh(\\lambda H) \\right] = \\frac{C_{0}}{\\cosh(\\lambda H)},\n$$\nwhere we used $\\cosh^{2}(x) - \\sinh^{2}(x) = 1$ to evaluate $\\cosh(x) - \\tanh(x)\\sinh(x) = \\frac{1}{\\cosh(x)}$.\n\nAssuming the local deposition rate is proportional to the local concentration (first-order surface reaction rate law) and that the top deposition rate is proportional to $C_{0}$, the step coverage $S$ (bottom thickness divided by top thickness) becomes the ratio of bottom to top concentrations:\n$$\nS \\equiv \\frac{\\text{bottom thickness}}{\\text{top thickness}} \\approx \\frac{C(H)}{C(0)} = \\frac{1}{\\cosh(\\lambda H)}.\n$$\nRecognizing the Thiele modulus $\\phi = H \\sqrt{k_{\\mathrm{eff}}/D_{\\mathrm{eff}}} = \\lambda H$, we obtain a closed-form relationship:\n$$\nS = \\frac{1}{\\cosh(\\phi)} = \\mathrm{sech}(\\phi).\n$$\n\nTo back-calculate $\\phi$ from the measured $S=0.4$, invert the relation. Since $S = \\mathrm{sech}(\\phi)$,\n$$\n\\cosh(\\phi) = \\frac{1}{S}.\n$$\nTherefore,\n$$\n\\phi = \\arccosh\\!\\left(\\frac{1}{S}\\right) = \\ln\\!\\left(\\frac{1}{S} + \\sqrt{\\frac{1}{S^{2}} - 1}\\right).\n$$\nSubstitute $S=0.4$:\n$$\n\\cosh(\\phi) = \\frac{1}{0.4} = 2.5,\n$$\n$$\n\\phi = \\arccosh(2.5) = \\ln\\!\\left(2.5 + \\sqrt{2.5^{2} - 1}\\right) = \\ln\\!\\left(2.5 + \\sqrt{6.25 - 1}\\right) = \\ln\\!\\left(2.5 + \\sqrt{5.25}\\right).\n$$\nEvaluating the square root and the logarithm symbolically first and then numerically for the final value,\n$$\n\\phi = \\ln\\!\\left(2.5 + \\sqrt{5.25}\\right).\n$$\nNumerically, $\\sqrt{5.25} \\approx 2.291287847$, so $2.5 + \\sqrt{5.25} \\approx 4.791287847$, and\n$$\n\\phi \\approx \\ln(4.791287847) \\approx 1.566799236.\n$$\nRounded to four significant figures, the effective Thiele modulus is\n$$\n\\phi \\approx 1.567.\n$$\n\nTo achieve $S0.8$ in the same geometry, the relationship $S = \\mathrm{sech}(\\phi)$ implies an upper bound on $\\phi$:\n$$\nS \\geq 0.8 \\quad \\Rightarrow \\quad \\mathrm{sech}(\\phi) \\geq 0.8 \\quad \\Rightarrow \\quad \\cosh(\\phi) \\leq \\frac{1}{0.8} = 1.25 \\quad \\Rightarrow \\quad \\phi \\leq \\arccosh(1.25).\n$$\nCompute this bound in closed form:\n$$\n\\phi_{\\max} = \\arccosh(1.25) = \\ln\\!\\left(1.25 + \\sqrt{1.25^{2} - 1}\\right) = \\ln\\!\\left(1.25 + \\sqrt{0.5625}\\right) = \\ln(2) \\approx 0.693147.\n$$\nHence $S \\geq 0.8$ requires $\\phi \\leq \\ln(2)$. From $\\phi = H \\sqrt{k_{\\mathrm{eff}}/D_{\\mathrm{eff}}}$, this can be realized by:\n- Increasing $D_{\\mathrm{eff}}$: for example, operating at lower total pressure to increase the mean free path and transition toward Knudsen-diffusion-dominated transport in narrow trenches, optimizing precursor diffusivity by carrier gas selection, and modestly increasing temperature if it increases $D_{\\mathrm{eff}}$ without overly increasing $k_{\\mathrm{eff}}$.\n- Decreasing $k_{\\mathrm{eff}}$: reducing the sticking coefficient via inhibitors or surfactants, lowering substrate temperature to decrease the surface reaction rate constant, or switching to self-limiting Atomic Layer Deposition (ALD) cycles that effectively suppress deep-feature consumption during precursor dosing.\n- Maintaining a high and stable $C_{0}$ at the opening: employing pulsed or high-flow dosing to avoid depletion at the trench mouth, thereby ensuring the Dirichlet boundary $C(0)=C_{0}$ remains valid at a high value.\n\nFor a trench, the homogenized rate constant relates to geometry and surface kinetics via the surface-to-volume ratio. For a rectangular trench of width $W$ and depth $H$, the surface area per unit length is $2H + W$ and the volume per unit length is $WH$, so the surface-to-volume ratio is $\\frac{2}{W} + \\frac{1}{H}$. If the intrinsic first-order surface rate constant is $k_{s}$, a common homogenization gives $k_{\\mathrm{eff}} \\approx k_{s}\\left(\\frac{2}{W} + \\frac{1}{H}\\right)$. With $H/W = 10$, we have $\\frac{2}{W} + \\frac{1}{H} = \\frac{21}{H}$, so\n$$\n\\phi = H \\sqrt{\\frac{k_{\\mathrm{eff}}}{D_{\\mathrm{eff}}}} \\approx H \\sqrt{\\frac{k_{s}}{D_{\\mathrm{eff}}} \\left(\\frac{21}{H}\\right)} = \\sqrt{\\frac{21 H k_{s}}{D_{\\mathrm{eff}}}}.\n$$\nThus achieving $\\phi \\leq \\ln(2)$ imposes\n$$\n\\frac{k_{s}}{D_{\\mathrm{eff}}} \\leq \\frac{(\\ln 2)^{2}}{21 H},\n$$\nquantifying how reductions in $k_{s}$ or increases in $D_{\\mathrm{eff}}$ (or both) can mitigate void formation by raising $S$ above $0.8$ for the given aspect ratio.",
            "answer": "$$\\boxed{1.567}$$"
        },
        {
            "introduction": "Our final practice advances to a challenge representative of modern, graduate-level process modeling: developing a computational simulation that integrates multiple, interacting physical effects. In this exercise , you will implement a model based on Classical Nucleation Theory (CNT) that accounts for spatially varying precursor concentration, surface wettability, and mechanical stress. This hands-on coding problem will equip you with the skills to numerically predict the spatial distribution of nucleation and identify the complex conditions that lead to void initiation in advanced semiconductor features.",
            "id": "4178261",
            "problem": "Consider a one-dimensional representation of a high-aspect-ratio trench feature used in semiconductor manufacturing, with vertical coordinate $z \\in [0,H]$ measured in meters from the top opening at $z=0$ to the bottom at $z=H$. The objective is to estimate the spatial distribution of the heterogeneous nucleation rate per unit volume $J(z)$ in the feature using Classical Nucleation Theory (CNT), and to algorithmically identify when early top nucleation leads to void initiation.\n\nUse the following modeling assumptions to construct $J(z)$:\n- The nucleation rate follows the CNT expression $J(z) = J_0 \\exp\\left(-\\Delta G^*(z)/(k_B T)\\right)$, where $J_0$ is a kinetic prefactor in $\\mathrm{m^{-3}\\,s^{-1}}$, $\\Delta G^*(z)$ is the free energy barrier in $\\mathrm{J}$, $k_B$ is the Boltzmann constant in $\\mathrm{J/K}$, and $T$ is the absolute temperature in $\\mathrm{K}$.\n- The precursor concentration decays with depth due to transport limitations as $C(z) = C_0 \\exp\\left(-\\alpha z/H\\right)$, with $C_0$ and $C_{\\mathrm{eq}}$ in $\\mathrm{mol/m^3}$ and $\\alpha$ dimensionless. The supersaturation is $S(z) = C(z)/C_{\\mathrm{eq}}$, with $S(z)  0$ and the chemical potential driving force $\\Delta \\mu(z) = k_B T \\ln S(z)$.\n- The local wetting condition varies along depth as $\\theta(z) = \\theta_0 + \\beta z/H$, with $\\theta_0$ and $\\beta$ in radians.\n- The local normal stress varies along depth as $\\sigma(z) = \\sigma_0 + s\\, z/H$, with $\\sigma$ in $\\mathrm{Pa}$. Use the sign convention that positive $\\sigma$ is compressive and negative $\\sigma$ is tensile.\n- The material atomic volume is $\\Omega$ in $\\mathrm{m^3}$ and the surface energy density is $\\gamma$ in $\\mathrm{J/m^2}$.\n\nStarting from the capillarity-based free-energy description of a nucleus on a surface (surface energy terms opposing formation and volume free-energy terms favoring formation), and using consistent thermodynamics, derive an expression for $\\Delta G^*(z)$ for heterogeneous nucleation of a spherical-cap nucleus including:\n- A geometric wetting factor $f(\\theta(z))$ that reduces the barrier compared to homogeneous nucleation.\n- A stress-corrected chemical driving force, i.e., use $\\Delta \\mu_{\\mathrm{eff}}(z) = \\Delta \\mu(z) - \\Omega \\sigma(z)$.\n\nThen construct $J(z)$ with these ingredients and compute the following metrics:\n1. The top-dominance fraction $F_{\\mathrm{top}}$, defined as the fraction of total nucleation activity occurring in the top quarter of the feature,\n$$\nF_{\\mathrm{top}} \\equiv \\frac{\\int_{0}^{H/4} J(z)\\, dz}{\\int_{0}^{H} J(z)\\, dz},\n$$\nwhich is dimensionless.\n2. The top-to-bottom surface nucleation rate ratio,\n$$\nR \\equiv \\frac{J(0)}{J(H)},\n$$\nwhich is dimensionless.\n\nDefine early top nucleation and void initiation risk as a boolean condition that is true if and only if $F_{\\mathrm{top}} \\ge F_{\\mathrm{th}}$ and $R \\ge R_{\\mathrm{th}}$, with thresholds $F_{\\mathrm{th}} = 0.6$ and $R_{\\mathrm{th}} = 10$.\n\nImplementation constraints:\n- Angles must be treated in radians.\n- All physical parameters must be used in International System of Units (SI).\n- To ensure numerical robustness when $J(z)$ is extremely small, you must compute integrals for $F_{\\mathrm{top}}$ using a numerically stable transformation that avoids overflow or underflow (for example, by shifting exponents using the maximum value across the domain).\n- If the stress-corrected supersaturation term appearing in the barrier expression becomes non-positive at any depth (indicating no nucleation driving force), regularize it by replacing it with a small positive floor value to avoid division by zero; the choice of floor must be explicitly stated in your solution and used consistently in your program.\n\nTest suite:\nFor all test cases, use $N=1000$ uniform grid points in $z \\in [0,H]$.\n\nProvide four parameter sets, each a complete tuple $(T,H,C_0,C_{\\mathrm{eq}},\\alpha,\\theta_0,\\beta,\\sigma_0,s,J_0,\\gamma,\\Omega)$ with the following values:\n- Test case 1 (general case with moderate transport decay and mild tensile stress increase with depth): $(650,\\; 2.0\\times 10^{-6},\\; 5.0,\\; 0.5,\\; 2.0,\\; 1.2,\\; 0.3,\\; 1.0\\times 10^{8},\\; -2.0\\times 10^{8},\\; 1.0\\times 10^{35},\\; 1.5,\\; 1.6\\times 10^{-29})$.\n- Test case 2 (boundary case with uniform concentration and top more wetting; negligible stress): $(600,\\; 2.0\\times 10^{-6},\\; 5.0,\\; 0.5,\\; 0.0,\\; 0.9,\\; -0.5,\\; 0.0,\\; 0.0,\\; 1.0\\times 10^{35},\\; 1.5,\\; 1.6\\times 10^{-29})$.\n- Test case 3 (edge case with extreme precursor depletion; neutral wetting; negligible stress): $(600,\\; 2.0\\times 10^{-6},\\; 5.0,\\; 0.5,\\; 6.0,\\; 1.2,\\; 0.0,\\; 0.0,\\; 0.0,\\; 1.0\\times 10^{35},\\; 1.5,\\; 1.6\\times 10^{-29})$.\n- Test case 4 (competing effects with strong transport decay but large tensile stress increase with depth): $(650,\\; 2.0\\times 10^{-6},\\; 5.0,\\; 0.5,\\; 4.0,\\; 1.3,\\; 0.4,\\; 2.0\\times 10^{8},\\; -5.0\\times 10^{8},\\; 1.0\\times 10^{35},\\; 1.5,\\; 1.6\\times 10^{-29})$.\n\nYour program must:\n- For each test case, compute $F_{\\mathrm{top}}$ (a float) and the risk boolean as defined above.\n- Produce a single line of output containing the results as a comma-separated list enclosed in square brackets, in the order of test cases 1 through 4, and within each test case, list $F_{\\mathrm{top}}$ followed by the boolean risk indicator. For example: \"[0.6123,True,0.4510,False, ...]\". Values should be printed in their natural string representation; $F_{\\mathrm{top}}$ must be dimensionless as defined, and the booleans must be either True or False.",
            "solution": "The problem requires an analysis of heterogeneous nucleation within a one-dimensional trench, a common feature in semiconductor manufacturing. The goal is to develop a model for the nucleation rate $J(z)$ as a function of depth $z$, and from this model, to compute metrics that quantify the risk of void formation due to preferential nucleation at the feature opening. The analysis is based on Classical Nucleation Theory (CNT), incorporating spatially varying precursor concentration, surface wettability, and mechanical stress.\n\nThe derivation and solution are structured as follows: First, we derive the expression for the critical free energy barrier for heterogeneous nucleation, $\\Delta G^*(z)$, by incorporating all specified physical effects. Second, we construct the full expression for the nucleation rate $J(z)$. Third, we detail the procedure for calculating the specified metrics, $F_{\\mathrm{top}}$ and $R$, paying close attention to numerical stability.\n\n### Derivation of the Nucleation Energy Barrier $\\Delta G^*(z)$\n\nClassical Nucleation Theory describes the formation of a stable new phase from a parent phase. The process is governed by a competition between the reduction in volume free energy and the increase in surface free energy. The total change in Gibbs free energy, $\\Delta G$, upon forming a nucleus of the new phase is a function of its size, typically a radius $r$. The maximum of this function, $\\Delta G^* = \\Delta G(r^*)$, represents the activation energy barrier for nucleation, located at the critical nucleus radius $r^*$.\n\nThe problem specifies a spherical-cap nucleus formed on a surface, which is a case of heterogeneous nucleation. The derivation is most clearly presented by first stating the standard result for homogeneous nucleation (a spherical nucleus in a uniform parent phase) and then modifying it for the heterogeneous case.\n\nThe free energy barrier for homogeneous nucleation is given by:\n$$\n\\Delta G^*_{\\mathrm{hom}} = \\frac{16\\pi}{3} \\frac{\\gamma^3 \\Omega^2}{(\\Delta \\mu_{\\mathrm{eff}})^2}\n$$\nwhere $\\gamma$ is the surface energy density of the nucleus-precursor interface, $\\Omega$ is the atomic volume of the nucleating material, and $\\Delta \\mu_{\\mathrm{eff}}$ is the effective chemical potential driving force per atom for the phase transformation.\n\nFor heterogeneous nucleation on a planar substrate, the presence of the substrate reduces the required surface energy, thus lowering the activation barrier. The critical radius $r^*$ remains the same as in the homogeneous case, $r^* = 2\\gamma\\Omega/\\Delta\\mu_{\\mathrm{eff}}$, but the total energy barrier is reduced by a geometric and energetic factor dependent on the contact angle $\\theta$. The heterogeneous nucleation barrier $\\Delta G^*$ is related to the homogeneous barrier by:\n$$\n\\Delta G^*(z) = \\Delta G^*_{\\mathrm{hom}} f(\\theta(z))\n$$\nThe function $f(\\theta)$ is the catalytic wetting factor, given by:\n$$\nf(\\theta) = \\frac{(2 + \\cos\\theta)(1 - \\cos\\theta)^2}{4}\n$$\nCombining these, the position-dependent energy barrier is:\n$$\n\\Delta G^*(z) = \\left( \\frac{16\\pi \\gamma^3 \\Omega^2}{3 (\\Delta \\mu_{\\mathrm{eff}}(z))^2} \\right) \\left( \\frac{(2 + \\cos\\theta(z))(1 - \\cos\\theta(z))^2}{4} \\right) = \\frac{4\\pi \\gamma^3 \\Omega^2}{3} \\frac{(2 + \\cos\\theta(z))(1 - \\cos\\theta(z))^2}{(\\Delta \\mu_{\\mathrm{eff}}(z))^2}\n$$\nWe must now substitute the given expressions for the spatially-varying quantities $\\theta(z)$ and $\\Delta \\mu_{\\mathrm{eff}}(z)$.\n\nThe contact angle varies linearly with normalized depth $z/H$:\n$$\n\\theta(z) = \\theta_0 + \\beta \\frac{z}{H}\n$$\nThe effective driving force $\\Delta \\mu_{\\mathrm{eff}}(z)$ is the sum of the chemical driving force from supersaturation, $\\Delta \\mu(z)$, and a mechanical work term due to stress, $-\\Omega \\sigma(z)$. The problem states to use a sign convention where compressive stress is positive, which opposes nucleation, hence the minus sign.\n$$\n\\Delta \\mu_{\\mathrm{eff}}(z) = \\Delta \\mu(z) - \\Omega \\sigma(z)\n$$\nThe chemical driving force is related to the supersaturation $S(z)$:\n$$\n\\Delta \\mu(z) = k_B T \\ln S(z)\n$$\nwhere $k_B$ is the Boltzmann constant and $T$ is the absolute temperature. The supersaturation $S(z) = C(z)/C_{\\mathrm{eq}}$ depends on the precursor concentration profile $C(z) = C_0 \\exp(-\\alpha z/H)$. Therefore,\n$$\n\\ln S(z) = \\ln\\left(\\frac{C_0}{C_{\\mathrm{eq}}}\\right) - \\alpha \\frac{z}{H}\n$$\nThe stress profile is given as $\\sigma(z) = \\sigma_0 + s \\, z/H$. Substituting all components into the effective driving force expression yields:\n$$\n\\Delta \\mu_{\\mathrm{eff}}(z) = k_B T \\left(\\ln\\left(\\frac{C_0}{C_{\\mathrm{eq}}}\\right) - \\alpha \\frac{z}{H}\\right) - \\Omega \\left(\\sigma_0 + s \\frac{z}{H}\\right)\n$$\nThis expression is the complete driving force term. Nucleation can only occur if $\\Delta \\mu_{\\mathrm{eff}}(z)  0$. If at any depth $z$ this condition is not met, the barrier $\\Delta G^*(z)$ becomes infinite or ill-defined, and the nucleation rate is effectively zero. For numerical implementation, if $\\Delta \\mu_{\\mathrm{eff}}(z) \\le 0$, we must regularize the calculation. We define an effective supersaturation logarithm, $\\ln S_{\\mathrm{eff}}(z) = \\Delta \\mu_{\\mathrm{eff}}(z) / (k_B T)$. When this term is non-positive, we replace it with a small positive floor value, which we set to $\\epsilon = 1.0 \\times 10^{-9}$. This choice ensures that regions with no physical driving force are assigned a very large but finite barrier, leading to a negligible but numerically stable nucleation rate.\n\n### Nucleation Rate Profile $J(z)$\n\nWith the energy barrier $\\Delta G^*(z)$ fully defined, the heterogeneous nucleation rate per unit volume $J(z)$ is given by the CNT expression:\n$$\nJ(z) = J_0 \\exp\\left(-\\frac{\\Delta G^*(z)}{k_B T}\\right)\n$$\nwhere $J_0$ is the kinetic prefactor. Substituting the derived expression for $\\Delta G^*(z)$:\n$$\nJ(z) = J_0 \\exp\\left( -\\frac{4\\pi \\gamma^3 \\Omega^2}{3 k_B T} \\frac{(2 + \\cos\\theta(z))(1 - \\cos\\theta(z))^2}{(\\Delta \\mu_{\\mathrm{eff}}(z))^2} \\right)\n$$\nThis equation provides a complete model for the nucleation rate as a function of depth, accounting for all specified physical phenomena.\n\n### Calculation of Performance Metrics\n\nThe problem defines two metrics to assess the risk of void formation.\n\n1.  **Top-Dominance Fraction, $F_{\\mathrm{top}}$**: This metric is the ratio of nucleation events in the top quarter of the trench to the total number of events in the entire trench.\n    $$\n    F_{\\mathrm{top}} = \\frac{\\int_{0}^{H/4} J(z)\\, dz}{\\int_{0}^{H} J(z)\\, dz}\n    $$\n    The exponential nature of $J(z)$ requires careful numerical integration to avoid underflow or overflow. We define the exponent as $E(z) = -\\Delta G^*(z)/(k_B T)$ so that $J(z) = J_0 e^{E(z)}$. We find the maximum value of the exponent across the domain, $E_{\\max} = \\max_{z \\in [0,H]} E(z)$, and rewrite the fraction as:\n    $$\n    F_{\\mathrm{top}} = \\frac{\\int_{0}^{H/4} J_0 e^{E(z)} dz}{\\int_{0}^{H} J_0 e^{E(z)} dz} = \\frac{\\int_{0}^{H/4} e^{E(z) - E_{\\max}} dz}{\\int_{0}^{H} e^{E(z) - E_{\\max}} dz}\n    $$\n    The new integrand, $e^{E(z) - E_{\\max}}$, is numerically stable, with a maximum value of $1$. The integrals are then computed numerically using the trapezoidal rule over a uniform grid of $N=1000$ points.\n\n2.  **Top-to-Bottom Ratio, $R$**: This is the ratio of the nucleation rate at the top surface ($z=0$) to that at the bottom ($z=H$).\n    $$\n    R = \\frac{J(0)}{J(H)} = \\frac{J_0 \\exp(-\\Delta G^*(0)/(k_B T))}{J_0 \\exp(-\\Delta G^*(H)/(k_B T))} = \\exp\\left(\\frac{\\Delta G^*(H) - \\Delta G^*(0)}{k_B T}\\right) = \\exp(E(0) - E(H))\n    $$\n    This formulation, using the difference of exponents, is also numerically robust.\n\nFinally, the void initiation risk is evaluated as a Boolean condition: risk is `True` if and only if $F_{\\mathrm{top}} \\ge F_{\\mathrm{th}}$ and $R \\ge R_{\\mathrm{th}}$, using the given thresholds $F_{\\mathrm{th}} = 0.6$ and $R_{\\mathrm{th}} = 10$. This procedure is applied to each of the provided test cases.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the semiconductor nucleation problem.\n\n    This function implements the Classical Nucleation Theory (CNT) model described in the problem,\n    calculates the relevant metrics (F_top and R) for several test cases, and determines the\n    void initiation risk based on specified thresholds.\n    \"\"\"\n\n    # Physical and numerical constants\n    K_B = 1.380649e-23  # Boltzmann constant in J/K\n    N = 1000  # Number of grid points for numerical integration\n    F_TH = 0.6  # Threshold for top-dominance fraction\n    R_TH = 10.0  # Threshold for top-to-bottom ratio\n\n    # Regularization floor for the logarithm of the effective supersaturation.\n    # This prevents division-by-zero or log-of-non-positive issues when the\n    # driving force for nucleation is zero or negative.\n    LN_S_EFF_FLOOR = 1.0e-9\n\n    # Test cases as tuples of:\n    # (T, H, C0, C_eq, alpha, theta0, beta, sigma0, s, J0, gamma, Omega)\n    test_cases = [\n        # Case 1: General case\n        (650.0, 2.0e-6, 5.0, 0.5, 2.0, 1.2, 0.3, 1.0e8, -2.0e8, 1.0e35, 1.5, 1.6e-29),\n        # Case 2: Uniform concentration, wetting varies\n        (600.0, 2.0e-6, 5.0, 0.5, 0.0, 0.9, -0.5, 0.0, 0.0, 1.0e35, 1.5, 1.6e-29),\n        # Case 3: Extreme precursor depletion\n        (600.0, 2.0e-6, 5.0, 0.5, 6.0, 1.2, 0.0, 0.0, 0.0, 1.0e35, 1.5, 1.6e-29),\n        # Case 4: Competing effects of depletion and stress\n        (650.0, 2.0e-6, 5.0, 0.5, 4.0, 1.3, 0.4, 2.0e8, -5.0e8, 1.0e35, 1.5, 1.6e-29),\n    ]\n\n    results = []\n\n    for case in test_cases:\n        T, H, C0, C_eq, alpha, theta0, beta, sigma0, s, J0, gamma, Omega = case\n\n        # 1. Create the spatial grid\n        z_grid = np.linspace(0.0, H, N)\n        z_norm = z_grid / H\n\n        # 2. Calculate position-dependent physical quantities\n        \n        # Supersaturation S(z) and its logarithm\n        S_z = (C0 / C_eq) * np.exp(-alpha * z_norm)\n        \n        # Log of supersaturation from concentration\n        ln_S_z = np.log(C0 / C_eq) - alpha * z_norm\n        \n        # Stress profile sigma(z)\n        sigma_z = sigma0 + s * z_norm\n        \n        # Contact angle profile theta(z)\n        theta_z = theta0 + beta * z_norm\n\n        # 3. Calculate the effective driving force\n        \n        # Effective driving force for nucleation per atom (Delta_mu_eff)\n        # is composed of a chemical part and a stress part.\n        # We compute its value divided by (k_B * T), which is ln(S_eff).\n        ln_S_eff_z = ln_S_z - (Omega * sigma_z) / (K_B * T)\n        \n        # Regularize to prevent non-positive driving force issues\n        ln_S_eff_z = np.maximum(ln_S_eff_z, LN_S_EFF_FLOOR)\n        \n        # Full effective driving force\n        delta_mu_eff_z = K_B * T * ln_S_eff_z\n\n        # 4. Calculate the nucleation energy barrier exponent\n        \n        # Geometric wetting factor f(theta)\n        cos_theta_z = np.cos(theta_z)\n        f_theta_z = (2.0 + cos_theta_z) * (1.0 - cos_theta_z)**2 / 4.0\n        \n        # Constant part of the homogeneous barrier expression\n        barrier_const = (16.0 * np.pi * gamma**3 * Omega**2) / 3.0\n        \n        # Heterogeneous nucleation barrier Delta_G*(z)\n        delta_G_star_z = barrier_const * f_theta_z / (delta_mu_eff_z**2)\n        \n        # The exponent term in the nucleation rate expression J(z)\n        exponent_z = -delta_G_star_z / (K_B * T)\n\n        # 5. Compute the metrics F_top and R\n\n        # Top-to-bottom ratio R\n        # Calculated from the difference of exponents for numerical stability\n        R = np.exp(exponent_z[0] - exponent_z[-1])\n\n        # Top-dominance fraction F_top\n        # The integral is computed on a stabilized version of J(z) to avoid underflow/overflow.\n        exp_max = np.max(exponent_z)\n        stable_J_integrand = np.exp(exponent_z - exp_max)\n\n        # Index corresponding to the top quarter of the trench (z=H/4)\n        N_quarter_idx = (N - 1) // 4\n        \n        # Numerically integrate using the trapezoidal rule\n        integral_top = np.trapz(\n            stable_J_integrand[:N_quarter_idx + 1], \n            z_grid[:N_quarter_idx + 1]\n        )\n        integral_total = np.trapz(stable_J_integrand, z_grid)\n        \n        # Avoid division by zero if total nucleation is zero\n        F_top = integral_top / integral_total if integral_total > 0 else 0.0\n\n        # 6. Evaluate the void initiation risk\n        risk = (F_top >= F_TH) and (R >= R_TH)\n\n        # Store results for this case\n        results.append(F_top)\n        results.append(risk)\n\n    # Format and print the final output string\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}