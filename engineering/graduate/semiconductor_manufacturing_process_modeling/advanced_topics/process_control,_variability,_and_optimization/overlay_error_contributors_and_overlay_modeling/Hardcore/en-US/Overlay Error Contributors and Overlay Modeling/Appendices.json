{
    "hands_on_practices": [
        {
            "introduction": "Mastering overlay analysis begins with understanding how to deconstruct the total measured error into its fundamental physical contributors. This first exercise  focuses on a simplified yet powerful affine model to isolate scale and orthogonality errors originating from both the reticle and the wafer. By working through this problem, you will practice deriving the overlay vector field and using measurement data to solve for specific layer-dependent distortion parameters.",
            "id": "4146938",
            "problem": "In advanced optical lithography overlay modeling for semiconductor manufacturing, the printed position on a layer is often modeled as the nominal design position perturbed by a small affine distortion, valid to first order in the small parameters. Let the nominal design position be the vector $\\mathbf{x} \\in \\mathbb{R}^{2}$, referenced to the wafer center. For a given layer $\\ell \\in \\{r,w\\}$ (reticle-conditioned layer and wafer-conditioned layer, respectively), assume the printed position is\n$$\n\\mathbf{x}_{\\ell} = \\left( \\mathbf{I} + \\mathbf{E}_{\\ell} \\right)\\mathbf{x},\n$$\nwhere $\\mathbf{I}$ is the $2 \\times 2$ identity and $\\mathbf{E}_{\\ell}$ is a small, constant distortion matrix for the layer over the field of view. In this problem, restrict attention to two first-order contributors only: isotropic scale and orthogonality skew. Model these as\n$$\n\\mathbf{E}_{\\ell} = s_{\\ell}\\,\\mathbf{I} + k_{\\ell}\\,\\mathbf{K},\n$$\nwhere $s_{\\ell}$ is the isotropic scale (dimensionless), $k_{\\ell}$ is the orthogonality skew (dimensionless), and\n$$\n\\mathbf{K} \\equiv \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix},\n$$\nso that a positive $k_{\\ell}$ couples $x$ into $y$ and $y$ into $x$ symmetrically. Assume translations are eliminated by centering the coordinate system at the wafer center, and that inter-layer rotation is negligible at the order of interest.\n\nThe overlay vector field is defined as the difference between the wafer-conditioned and reticle-conditioned printed positions at the same nominal design point:\n$$\n\\mathbf{u}(\\mathbf{x}) \\equiv \\mathbf{x}_{w} - \\mathbf{x}_{r}.\n$$\n\nYou measure overlay at $4$ symmetrically placed sites at radius $L$ from the wafer center:\n- Site $\\mathbf{x}_{1} = (L, 0)$,\n- Site $\\mathbf{x}_{2} = (0, L)$,\n- Site $\\mathbf{x}_{3} = (-L, 0)$,\n- Site $\\mathbf{x}_{4} = (0, -L)$,\n\nwith $L = 10\\,\\mathrm{mm}$. The measured overlay vectors at these sites, expressed in nanometers, are:\n- $\\mathbf{u}(\\mathbf{x}_{1}) = (50\\,\\mathrm{nm},\\, -30\\,\\mathrm{nm})$,\n- $\\mathbf{u}(\\mathbf{x}_{2}) = (-30\\,\\mathrm{nm},\\, 50\\,\\mathrm{nm})$,\n- $\\mathbf{u}(\\mathbf{x}_{3}) = (-50\\,\\mathrm{nm},\\, 30\\,\\mathrm{nm})$,\n- $\\mathbf{u}(\\mathbf{x}_{4}) = (30\\,\\mathrm{nm},\\, -50\\,\\mathrm{nm})$.\n\nIndependent metrology on the reticle yields $s_{r} = -2.0 \\times 10^{-6}$ and $k_{r} = 1.0 \\times 10^{-6}$. Assume that across these sites the two-parameter model above is valid and that measurement noise is negligible.\n\nStarting from the definitions given and the first-order affine model, derive the overlay field in terms of the differential parameters and use the measured data to estimate the wafer layerâ€™s orthogonality skew $k_{w}$. Express your final answer as a dimensionless decimal number and round to three significant figures. Do not use a percent sign or parts-per notation in your final answer.",
            "solution": "The user wants me to solve a problem based on an affine model for lithographic overlay.\n\n### Step 1: Extract Givens\n-   Nominal design position: $\\mathbf{x} \\in \\mathbb{R}^{2}$.\n-   Printed position on layer $\\ell \\in \\{r, w\\}$: $\\mathbf{x}_{\\ell} = (\\mathbf{I} + \\mathbf{E}_{\\ell})\\mathbf{x}$, where $\\mathbf{I}$ is the $2 \\times 2$ identity matrix.\n-   Distortion matrix model: $\\mathbf{E}_{\\ell} = s_{\\ell}\\mathbf{I} + k_{\\ell}\\mathbf{K}$.\n-   Parameters: $s_{\\ell}$ (isotropic scale), $k_{\\ell}$ (orthogonality skew).\n-   Matrix $\\mathbf{K}$: $\\mathbf{K} \\equiv \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}$.\n-   Overlay vector field: $\\mathbf{u}(\\mathbf{x}) \\equiv \\mathbf{x}_{w} - \\mathbf{x}_{r}$.\n-   Measurement sites:\n    -   $\\mathbf{x}_{1} = (L, 0)$\n    -   $\\mathbf{x}_{2} = (0, L)$\n    -   $\\mathbf{x}_{3} = (-L, 0)$\n    -   $\\mathbf{x}_{4} = (0, -L)$\n-   Radius: $L = 10\\,\\mathrm{mm}$.\n-   Measured overlay vectors:\n    -   $\\mathbf{u}(\\mathbf{x}_{1}) = (50\\,\\mathrm{nm},\\, -30\\,\\mathrm{nm})$\n    -   $\\mathbf{u}(\\mathbf{x}_{2}) = (-30\\,\\mathrm{nm},\\, 50\\,\\mathrm{nm})$\n    -   $\\mathbf{u}(\\mathbf{x}_{3}) = (-50\\,\\mathrm{nm},\\, 30\\,\\mathrm{nm})$\n    -   $\\mathbf{u}(\\mathbf{x}_{4}) = (30\\,\\mathrm{nm},\\, -50\\,\\mathrm{nm})$\n-   Reticle layer parameters: $s_{r} = -2.0 \\times 10^{-6}$ and $k_{r} = 1.0 \\times 10^{-6}$.\n-   Objective: Find the wafer layer's orthogonality skew, $k_{w}$.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded, employing a standard first-order affine model for lithographic overlay, a well-established practice in semiconductor manufacturing process modeling. The model is well-posed, providing a system of linear equations with sufficient measurement data to solve for the unknown parameters. The problem is stated objectively using precise mathematical terms, and the provided data is complete and internally consistent. For example, the measurement at $\\mathbf{x}_{3} = -\\mathbf{x}_{1}$ is $\\mathbf{u}(\\mathbf{x}_3) = (-50, 30)\\,\\mathrm{nm}$, which is equal to $-\\mathbf{u}(\\mathbf{x}_1) = -(50, -30)\\,\\mathrm{nm}$. This is consistent with the linear relationship $\\mathbf{u}(\\mathbf{x}) = \\mathbf{M}\\mathbf{x}$. The physical values are realistic for overlay errors (nanometers) and distortion parameters (parts-per-million). The problem is therefore valid.\n\n### Step 3: Verdict and Action\nThe problem is valid. I will now proceed with a full, reasoned-out solution.\n\nThe objective is to determine the wafer layer's orthogonality skew, $k_{w}$. To do this, we must first establish the relationship between the measured overlay vectors and the model parameters.\n\nFirst, we derive the expression for the overlay vector field, $\\mathbf{u}(\\mathbf{x})$. By definition, it is the difference between the printed positions on the wafer-conditioned layer ($w$) and the reticle-conditioned layer ($r$):\n$$\n\\mathbf{u}(\\mathbf{x}) = \\mathbf{x}_{w} - \\mathbf{x}_{r}\n$$\nSubstituting the given model for the printed positions, $\\mathbf{x}_{\\ell} = (\\mathbf{I} + \\mathbf{E}_{\\ell})\\mathbf{x}$:\n$$\n\\mathbf{u}(\\mathbf{x}) = (\\mathbf{I} + \\mathbf{E}_{w})\\mathbf{x} - (\\mathbf{I} + \\mathbf{E}_{r})\\mathbf{x}\n$$\n$$\n\\mathbf{u}(\\mathbf{x}) = (\\mathbf{I} + \\mathbf{E}_{w} - \\mathbf{I} - \\mathbf{E}_{r})\\mathbf{x} = (\\mathbf{E}_{w} - \\mathbf{E}_{r})\\mathbf{x}\n$$\nLet's define a differential distortion matrix $\\Delta\\mathbf{E} = \\mathbf{E}_{w} - \\mathbf{E}_{r}$. The overlay field is thus a linear transformation of the nominal position vector: $\\mathbf{u}(\\mathbf{x}) = \\Delta\\mathbf{E}\\,\\mathbf{x}$.\n\nNext, we substitute the model for the distortion matrices, $\\mathbf{E}_{\\ell} = s_{\\ell}\\mathbf{I} + k_{\\ell}\\mathbf{K}$:\n$$\n\\Delta\\mathbf{E} = (s_{w}\\mathbf{I} + k_{w}\\mathbf{K}) - (s_{r}\\mathbf{I} + k_{r}\\mathbfK)\n$$\nGrouping terms by the identity matrix $\\mathbf{I}$ and the skew matrix $\\mathbf{K}$:\n$$\n\\Delta\\mathbf{E} = (s_{w} - s_{r})\\mathbf{I} + (k_{w} - k_{r})\\mathbf{K}\n$$\nWe define the differential scale $\\Delta s = s_{w} - s_{r}$ and the differential orthogonality skew $\\Delta k = k_{w} - k_{r}$. The overlay model becomes:\n$$\n\\mathbf{u}(\\mathbf{x}) = (\\Delta s\\,\\mathbf{I} + \\Delta k\\,\\mathbf{K})\\mathbf{x}\n$$\nLet $\\mathbf{x} = \\begin{pmatrix} x \\\\ y \\end{pmatrix}$ and $\\mathbf{u}(\\mathbf{x}) = \\begin{pmatrix} u_x \\\\ u_y \\end{pmatrix}$. The matrix $\\Delta\\mathbf{E}$ is:\n$$\n\\Delta\\mathbf{E} = \\Delta s \\begin{pmatrix} 1 & 0 \\\\ 0 & 1 \\end{pmatrix} + \\Delta k \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix} = \\begin{pmatrix} \\Delta s & \\Delta k \\\\ \\Delta k & \\Delta s \\end{pmatrix}\n$$\nSo, the component equations for the overlay vector are:\n$$\nu_x(x, y) = (\\Delta s)x + (\\Delta k)y\n$$\n$$\nu_y(x, y) = (\\Delta k)x + (\\Delta s)y\n$$\nNow, we use the provided measurement data to determine the values of the differential parameters $\\Delta s$ and $\\Delta k$. We can use any of the four measurement sites. Let's use site $\\mathbf{x}_{1} = (L, 0)$.\nAt this site, $x=L$ and $y=0$. The model predicts:\n$$\nu_x(L, 0) = (\\Delta s)L + (\\Delta k)(0) = (\\Delta s)L\n$$\n$$\nu_y(L, 0) = (\\Delta k)L + (\\Delta s)(0) = (\\Delta k)L\n$$\nThe measurement at this site is given as $\\mathbf{u}(\\mathbf{x}_{1}) = (50\\,\\mathrm{nm},\\, -30\\,\\mathrm{nm})$. Equating the model to the measurement:\n$$\n(\\Delta s)L = 50\\,\\mathrm{nm}\n$$\n$$\n(\\Delta k)L = -30\\,\\mathrm{nm}\n$$\nThe radius $L$ is given as $10\\,\\mathrm{mm}$. To maintain consistent units, we convert $L$ to nanometers. Since $1\\,\\mathrm{mm} = 10^6\\,\\mathrm{nm}$:\n$$\nL = 10\\,\\mathrm{mm} = 10 \\times 10^6\\,\\mathrm{nm} = 1.0 \\times 10^7\\,\\mathrm{nm}\n$$\nNow we can solve for the dimensionless parameters $\\Delta s$ and $\\Delta k$:\n$$\n\\Delta s = \\frac{50\\,\\mathrm{nm}}{1.0 \\times 10^7\\,\\mathrm{nm}} = 5.0 \\times 10^{-6}\n$$\n$$\n\\Delta k = \\frac{-30\\,\\mathrm{nm}}{1.0 \\times 10^7\\,\\mathrm{nm}} = -3.0 \\times 10^{-6}\n$$\nThe problem asks for the wafer layer's orthogonality skew, $k_{w}$. We use the definition of the differential skew:\n$$\n\\Delta k = k_{w} - k_{r}\n$$\nSolving for $k_{w}$:\n$$\nk_{w} = \\Delta k + k_{r}\n$$\nWe substitute the value we just calculated for $\\Delta k$ and the given value for the reticle skew, $k_{r} = 1.0 \\times 10^{-6}$:\n$$\nk_{w} = (-3.0 \\times 10^{-6}) + (1.0 \\times 10^{-6}) = -2.0 \\times 10^{-6}\n$$\nThe problem requests the final answer as a dimensionless decimal number rounded to three significant figures. The calculated value is $-2.0 \\times 10^{-6}$. Rounding this to three significant figures gives $-2.00 \\times 10^{-6}$.",
            "answer": "$$\n\\boxed{-2.00 \\times 10^{-6}}\n$$"
        },
        {
            "introduction": "Moving from component analysis to a holistic system view, this practice  addresses the common scenario of matching different lithography tools. Here, you will employ a general first-order affine model to capture the systematic differences between two exposure systems. This exercise will build your skills in model parameterization and, crucially, in model validation by calculating the root-mean-square ($\\mathrm{RMS}$) residual error on a set of test locations.",
            "id": "4146948",
            "problem": "A mixed-tool wafer exposure scenario is studied to quantify overlay errors when layers are patterned on two different scanners. Overlay at any in-field location is modeled in first order by a differential affine transformation that captures tool matching parameters. Specifically, for wafer-plane coordinates $\\mathbf{r} = (x, y)^{\\top}$ expressed in millimeters (mm), the overlay vector $\\mathbf{o}(x,y)$ expressed in nanometers (nm) is approximated by\n$$\n\\mathbf{o}(x,y) = \\mathbf{T} + \\mathbf{A}\\,\\mathbf{r},\n$$\nwhere $\\mathbf{T} \\in \\mathbb{R}^{2}$ represents differential translation between the two tools, and $\\mathbf{A} \\in \\mathbb{R}^{2 \\times 2}$ is the first-order linear distortion matrix encompassing differential magnification, rotation, and orthogonality (shear). This model is the standard small-distortion linearization used in mix-and-match overlay modeling and tool matching.\n\nThree training metrology targets provide overlay measurements used to estimate $\\mathbf{T}$ and $\\mathbf{A}$:\n- At $(x,y) = (10, 0)$ mm: $\\mathbf{o} = (25, 26)$ nm.\n- At $(x,y) = (0, 10)$ mm: $\\mathbf{o} = (-5, -4)$ nm.\n- At $(x,y) = (10, 10)$ mm: $\\mathbf{o} = (15, 26)$ nm.\n\nFour additional test targets provide measured overlays to assess residuals under the first-order model:\n- At $(x,y) = (5, 5)$ mm: $\\mathbf{o} = (10.25, 11.25)$ nm.\n- At $(x,y) = (10, -10)$ mm: $\\mathbf{o} = (37, 24)$ nm.\n- At $(x,y) = (-10, 0)$ mm: $\\mathbf{o} = (-16, -34)$ nm.\n- At $(x,y) = (0, -10)$ mm: $\\mathbf{o} = (15, -5)$ nm.\n\nUsing only the training targets, estimate the parameters $\\mathbf{T}$ and $\\mathbf{A}$ by linear least squares based on the stated first-order model. Then, using these estimated parameters, compute the predicted overlays at the four test targets, form the residual vectors as the measured overlay minus the predicted overlay at each test target, and finally compute the Root Mean Square (RMS) residual magnitude\n$$\n\\mathrm{RMS} = \\sqrt{\\frac{1}{N} \\sum_{i=1}^{N} \\left\\|\\mathbf{res}_{i}\\right\\|^{2}},\n$$\nwhere $\\mathbf{res}_{i}$ is the residual vector at the $i$-th test target and $N = 4$. Express the final RMS magnitude in nanometers (nm). Round your answer to four significant figures.",
            "solution": "The user wants me to solve a problem in semiconductor manufacturing process modeling.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n\nThe problem provides the following information:\n1.  **Overlay Model**: The overlay vector $\\mathbf{o}(x,y)$ in nanometers (nm) at an in-field location $\\mathbf{r} = (x, y)^{\\top}$ in millimeters (mm) is given by a first-order affine transformation:\n    $$ \\mathbf{o}(x,y) = \\mathbf{T} + \\mathbf{A}\\,\\mathbf{r} $$\n    where $\\mathbf{T} \\in \\mathbb{R}^{2}$ is the differential translation vector and $\\mathbf{A} \\in \\mathbb{R}^{2 \\times 2}$ is the linear distortion matrix.\n2.  **Training Data**: Three overlay measurements are provided to estimate the model parameters:\n    *   At $\\mathbf{r}_1 = (10, 0)^{\\top}$ mm, the measured overlay is $\\mathbf{o}_1^{\\text{meas}} = (25, 26)^{\\top}$ nm.\n    *   At $\\mathbf{r}_2 = (0, 10)^{\\top}$ mm, the measured overlay is $\\mathbf{o}_2^{\\text{meas}} = (-5, -4)^{\\top}$ nm.\n    *   At $\\mathbf{r}_3 = (10, 10)^{\\top}$ mm, the measured overlay is $\\mathbf{o}_3^{\\text{meas}} = (15, 26)^{\\top}$ nm.\n3.  **Test Data**: Four additional overlay measurements are provided to assess the model's residuals:\n    *   At $\\mathbf{r}_4 = (5, 5)^{\\top}$ mm, the measured overlay is $\\mathbf{o}_4^{\\text{meas}} = (10.25, 11.25)^{\\top}$ nm.\n    *   At $\\mathbf{r}_5 = (10, -10)^{\\top}$ mm, the measured overlay is $\\mathbf{o}_5^{\\text{meas}} = (37, 24)^{\\top}$ nm.\n    *   At $\\mathbf{r}_6 = (-10, 0)^{\\top}$ mm, the measured overlay is $\\mathbf{o}_6^{\\text{meas}} = (-16, -34)^{\\top}$ nm.\n    *   At $\\mathbf{r}_7 = (0, -10)^{\\top}$ mm, the measured overlay is $\\mathbf{o}_7^{\\text{meas}} = (15, -5)^{\\top}$ nm.\n4.  **Residual Definition**: The residual vector at a test target is defined as the measured overlay minus the predicted overlay.\n5.  **Performance Metric**: The Root Mean Square (RMS) residual magnitude is to be computed using the formula:\n    $$ \\mathrm{RMS} = \\sqrt{\\frac{1}{N} \\sum_{i=1}^{N} \\left\\|\\mathbf{r}_{i}\\right\\|^{2}} $$\n    where $\\mathbf{r}_{i}$ is the residual vector at the $i$-th test target and the number of test targets is $N = 4$.\n\n**Step 2: Validate Using Extracted Givens**\n\n*   **Scientifically Grounded**: The problem is well-grounded in the field of semiconductor manufacturing. The use of a first-order affine model, $\\mathbf{o} = \\mathbf{T} + \\mathbf{A}\\mathbf{r}$, is a standard and fundamental practice for modeling and correcting overlay errors between lithography tools. The units (mm for wafer coordinates, nm for overlay errors) are conventional for this application.\n*   **Well-Posed**: The problem is well-posed. It requires the estimation of $6$ unknown parameters (two components of $\\mathbf{T}$ and four components of $\\mathbf{A}$) from $3$ training data points, where each point provides $2$ equations (one for each coordinate of the overlay vector). This results in a system of $6$ linear equations in $6$ unknowns, which is solvable. The subsequent calculation of residuals and the RMS metric are clearly defined procedures.\n*   **Objective**: The problem is formulated entirely in objective, mathematical terms, with no ambiguity, subjectivity, or reliance on opinion.\n*   **Complete and Consistent**: The problem provides all necessary data and definitions to arrive at a unique solution. The training data, test data, mathematical model, and the metric to be calculated are all explicitly stated. There are no internal contradictions.\n\n**Step 3: Verdict and Action**\n\nThe problem is deemed **valid** as it is scientifically grounded, well-posed, objective, and complete. I will proceed with the solution.\n\n### Solution\n\nThe first step is to determine the parameters of the affine model using the training data. The model can be written in component form as:\n$$\n\\begin{pmatrix} o_x \\\\ o_y \\end{pmatrix} = \\begin{pmatrix} T_x \\\\ T_y \\end{pmatrix} + \\begin{pmatrix} A_{xx} & A_{xy} \\\\ A_{yx} & A_{yy} \\end{pmatrix} \\begin{pmatrix} x \\\\ y \\end{pmatrix}\n$$\nThis separates into two independent systems of linear equations:\n1.  For the x-component of the overlay: $o_x = T_x + A_{xx}x + A_{xy}y$\n2.  For the y-component of the overlay: $o_y = T_y + A_{yx}x + A_{yy}y$\n\nWe have $6$ unknowns: $T_x, T_y, A_{xx}, A_{xy}, A_{yx}, A_{yy}$. We use the $3$ training points to generate $6$ equations.\n\nFor the x-components ($T_x, A_{xx}, A_{xy}$):\n*   At $(x,y) = (10, 0)$, $o_x = 25$: $25 = T_x + 10A_{xx} + 0A_{xy} \\implies T_x + 10A_{xx} = 25$ (Eq. 1)\n*   At $(x,y) = (0, 10)$, $o_x = -5$: $-5 = T_x + 0A_{xx} + 10A_{xy} \\implies T_x + 10A_{xy} = -5$ (Eq. 2)\n*   At $(x,y) = (10, 10)$, $o_x = 15$: $15 = T_x + 10A_{xx} + 10A_{xy}$ (Eq. 3)\n\nFrom Eq. 1, $10A_{xx} = 25 - T_x$. From Eq. 2, $10A_{xy} = -5 - T_x$. Substituting these into Eq. 3:\n$15 = T_x + (25 - T_x) + (-5 - T_x)$\n$15 = 20 - T_x$\n$T_x = 5$\n\nSubstituting $T_x = 5$ back into the expressions for $A_{xx}$ and $A_{xy}$:\n$10A_{xx} = 25 - 5 = 20 \\implies A_{xx} = 2$\n$10A_{xy} = -5 - 5 = -10 \\implies A_{xy} = -1$\n\nFor the y-components ($T_y, A_{yx}, A_{yy}$):\n*   At $(x,y) = (10, 0)$, $o_y = 26$: $26 = T_y + 10A_{yx} + 0A_{yy} \\implies T_y + 10A_{yx} = 26$ (Eq. 4)\n*   At $(x,y) = (0, 10)$, $o_y = -4$: $-4 = T_y + 0A_{yx} + 10A_{yy} \\implies T_y + 10A_{yy} = -4$ (Eq. 5)\n*   At $(x,y) = (10, 10)$, $o_y = 26$: $26 = T_y + 10A_{yx} + 10A_{yy}$ (Eq. 6)\n\nFrom Eq. 4, $10A_{yx} = 26 - T_y$. From Eq. 5, $10A_{yy} = -4 - T_y$. Substituting these into Eq. 6:\n$26 = T_y + (26 - T_y) + (-4 - T_y)$\n$26 = 22 - T_y$\n$T_y = -4$\n\nSubstituting $T_y = -4$ back into the expressions for $A_{yx}$ and $A_{yy}$:\n$10A_{yx} = 26 - (-4) = 30 \\implies A_{yx} = 3$\n$10A_{yy} = -4 - (-4) = 0 \\implies A_{yy} = 0$\n\nThus, the estimated parameters are:\n$$ \\mathbf{T} = \\begin{pmatrix} 5 \\\\ -4 \\end{pmatrix}, \\quad \\mathbf{A} = \\begin{pmatrix} 2 & -1 \\\\ 3 & 0 \\end{pmatrix} $$\nThe prediction model is:\n$$ \\mathbf{o}^{\\text{pred}}(x,y) = \\begin{pmatrix} 5 \\\\ -4 \\end{pmatrix} + \\begin{pmatrix} 2 & -1 \\\\ 3 & 0 \\end{pmatrix} \\begin{pmatrix} x \\\\ y \\end{pmatrix} = \\begin{pmatrix} 5 + 2x - y \\\\ -4 + 3x \\end{pmatrix} $$\n\nNext, we compute the predicted overlays $\\mathbf{o}^{\\text{pred}}$ for the $N=4$ test targets and their corresponding residual vectors $\\mathbf{res} = \\mathbf{o}^{\\text{meas}} - \\mathbf{o}^{\\text{pred}}$.\n\n1.  Test target at $(x,y) = (5, 5)$:\n    $\\mathbf{o}^{\\text{pred}} = \\begin{pmatrix} 5 + 2(5) - 5 \\\\ -4 + 3(5) \\end{pmatrix} = \\begin{pmatrix} 10 \\\\ 11 \\end{pmatrix}$ nm.\n    $\\mathbf{o}^{\\text{meas}} = (10.25, 11.25)^{\\top}$ nm.\n    $\\mathbf{res}_1 = \\begin{pmatrix} 10.25 - 10 \\\\ 11.25 - 11 \\end{pmatrix} = \\begin{pmatrix} 0.25 \\\\ 0.25 \\end{pmatrix}$ nm.\n\n2.  Test target at $(x,y) = (10, -10)$:\n    $\\mathbf{o}^{\\text{pred}} = \\begin{pmatrix} 5 + 2(10) - (-10) \\\\ -4 + 3(10) \\end{pmatrix} = \\begin{pmatrix} 35 \\\\ 26 \\end{pmatrix}$ nm.\n    $\\mathbf{o}^{\\text{meas}} = (37, 24)^{\\top}$ nm.\n    $\\mathbf{res}_2 = \\begin{pmatrix} 37 - 35 \\\\ 24 - 26 \\end{pmatrix} = \\begin{pmatrix} 2 \\\\ -2 \\end{pmatrix}$ nm.\n\n3.  Test target at $(x,y) = (-10, 0)$:\n    $\\mathbf{o}^{\\text{pred}} = \\begin{pmatrix} 5 + 2(-10) - 0 \\\\ -4 + 3(-10) \\end{pmatrix} = \\begin{pmatrix} -15 \\\\ -34 \\end{pmatrix}$ nm.\n    $\\mathbf{o}^{\\text{meas}} = (-16, -34)^{\\top}$ nm.\n    $\\mathbf{res}_3 = \\begin{pmatrix} -16 - (-15) \\\\ -34 - (-34) \\end{pmatrix} = \\begin{pmatrix} -1 \\\\ 0 \\end{pmatrix}$ nm.\n\n4.  Test target at $(x,y) = (0, -10)$:\n    $\\mathbf{o}^{\\text{pred}} = \\begin{pmatrix} 5 + 2(0) - (-10) \\\\ -4 + 3(0) \\end{pmatrix} = \\begin{pmatrix} 15 \\\\ -4 \\end{pmatrix}$ nm.\n    $\\mathbf{o}^{\\text{meas}} = (15, -5)^{\\top}$ nm.\n    $\\mathbf{res}_4 = \\begin{pmatrix} 15 - 15 \\\\ -5 - (-4) \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ -1 \\end{pmatrix}$ nm.\n\nFinally, we compute the RMS residual magnitude. First, we find the squared magnitude of each residual vector:\n$\\|\\mathbf{res}_1\\|^2 = (0.25)^2 + (0.25)^2 = 0.0625 + 0.0625 = 0.125$\n$\\|\\mathbf{res}_2\\|^2 = (2)^2 + (-2)^2 = 4 + 4 = 8$\n$\\|\\mathbf{res}_3\\|^2 = (-1)^2 + (0)^2 = 1$\n$\\|\\mathbf{res}_4\\|^2 = (0)^2 + (-1)^2 = 1$\n\nNow, we apply the RMS formula with $N=4$:\n$$ \\mathrm{RMS} = \\sqrt{\\frac{1}{4} \\sum_{i=1}^{4} \\|\\mathbf{res}_i\\|^2} = \\sqrt{\\frac{1}{4} (0.125 + 8 + 1 + 1)} $$\n$$ \\mathrm{RMS} = \\sqrt{\\frac{10.125}{4}} = \\sqrt{2.53125} $$\n$$ \\mathrm{RMS} \\approx 1.590990257... $$\nRounding to four significant figures, we get $1.591$. The units are nanometers (nm).",
            "answer": "$$\n\\boxed{1.591}\n$$"
        },
        {
            "introduction": "The final practice shifts our perspective from analyzing a single set of measurements to characterizing the statistical behavior of the entire manufacturing process. This problem  guides you through deriving an overlay budget for a double-patterning process by treating the error components as random variables with known statistical properties. You will apply principles of error propagation to calculate a die-averaged root-mean-square ($\\mathrm{RMS}$) overlay, providing a powerful metric for setting process specifications and control limits.",
            "id": "4146955",
            "problem": "In Lithography-Etch-Lithography-Etch (LELE) double patterning, the overlay between two sequential exposures is modeled by the difference between two small transformations applied to the ideal pattern coordinates. Consider a single die centered at the origin with rectangular extent $R = [-a,a] \\times [-b,b]$, with $a = 5\\,\\mathrm{mm}$ and $b = 4\\,\\mathrm{mm}$. For exposure $i \\in \\{1,2\\}$, the printed location $\\mathbf{r}'_{i}$ of an ideal point $\\mathbf{r} = (x,y)^{\\top}$ is modeled, under the small-error approximation, as\n$$\n\\mathbf{r}'_{i} = \\mathbf{t}_{i} + \\left( \\mathbf{I} + m_{i}\\,\\mathbf{I} + \\theta_{i}\\,\\mathbf{J} + \\alpha_{i}\\,\\mathbf{H} \\right)\\mathbf{r},\n$$\nwhere $\\mathbf{t}_{i} \\in \\mathbb{R}^{2}$ is the global translation vector, $m_{i}$ is the isotropic magnification error (dimensionless), $\\theta_{i}$ is the in-plane rotation angle around the die center (in radians), $\\alpha_{i}$ is the small non-orthogonality (skew) parameter (dimensionless), $\\mathbf{I}$ is the $2\\times 2$ identity matrix, $\\mathbf{J} = \\begin{pmatrix}0 & -1 \\\\ 1 & 0\\end{pmatrix}$ generates a small rotation, and $\\mathbf{H} = \\begin{pmatrix}0 & 1 \\\\ 1 & 0\\end{pmatrix}$ generates a small symmetric shear capturing non-orthogonality.\n\nAssume the following statistically well-tested conditions:\n- All scalar errors $m_{i}$, $\\theta_{i}$, $\\alpha_{i}$ and the translation components of $\\mathbf{t}_{i}$ are independent across $i$ and mutually independent within each exposure, each having zero mean.\n- The translation components of $\\mathbf{t}_{i}$ have identical standard deviation $\\sigma_{T}$ per axis, with $\\sigma_{T} = 0.8\\,\\mathrm{nm}$.\n- The magnification error has standard deviation $\\sigma_{M} = 1.5\\times 10^{-7}$ (dimensionless).\n- The rotation has standard deviation $\\sigma_{\\theta} = 3.5\\times 10^{-7}$ (in radians).\n- The non-orthogonality has standard deviation $\\sigma_{\\alpha} = 1.0\\times 10^{-7}$ (dimensionless).\n\nDefine the overlay vector at location $\\mathbf{r}$ as $\\mathbf{O}(\\mathbf{r}) = \\mathbf{r}'_{2} - \\mathbf{r}'_{1}$, and the die-averaged root-mean-square (RMS) overlay magnitude as\n$$\n\\mathrm{RMS} = \\left( \\frac{1}{|R|} \\iint_{R} \\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right]\\, \\mathrm{d}x\\,\\mathrm{d}y \\right)^{1/2},\n$$\nwhere $|R|$ is the die area and $\\mathbb{E}[\\cdot]$ denotes expectation over the error distributions.\n\nStarting from fundamental definitions of small rigid-body and linear distortions and the properties of independent zero-mean random variables, derive the die-averaged $\\mathrm{RMS}$ from first principles. Then evaluate the $3$-sigma double-patterning overlay budget defined as $3\\times \\mathrm{RMS}$ using the numerical parameters above.\n\nRound your final numeric answer to four significant figures. Express the overlay budget in nanometers. Use radians for any angular quantities in your derivation.",
            "solution": "The problem asks for the derivation and calculation of the $3$-sigma double-patterning overlay budget, defined as $3\\times \\mathrm{RMS}$, where $\\mathrm{RMS}$ is the die-averaged root-mean-square overlay magnitude.\n\n### Step 1: Problem Validation\n\n**1.1. Extract Givens:**\n- Process: Lithography-Etch-Lithography-Etch (LELE) double patterning.\n- Die region: $R = [-a,a] \\times [-b,b]$, with $a = 5\\,\\mathrm{mm}$ and $b = 4\\,\\mathrm{mm}$.\n- Transformation model for exposure $i \\in \\{1,2\\}$: $\\mathbf{r}'_{i} = \\mathbf{t}_{i} + \\left( \\mathbf{I} + m_{i}\\,\\mathbf{I} + \\theta_{i}\\,\\mathbf{J} + \\alpha_{i}\\,\\mathbf{H} \\right)\\mathbf{r}$.\n- Error terms: $\\mathbf{t}_{i}$ (translation), $m_{i}$ (magnification), $\\theta_{i}$ (rotation), $\\alpha_{i}$ (non-orthogonality).\n- Matrices: $\\mathbf{I} = \\begin{pmatrix}1 & 0 \\\\ 0 & 1\\end{pmatrix}$, $\\mathbf{J} = \\begin{pmatrix}0 & -1 \\\\ 1 & 0\\end{pmatrix}$, $\\mathbf{H} = \\begin{pmatrix}0 & 1 \\\\ 1 & 0\\end{pmatrix}$.\n- Statistical properties:\n    - All scalar errors ($m_i, \\theta_i, \\alpha_i$) and translation components are independent across $i$ and mutually independent within each exposure.\n    - All errors have zero mean: $\\mathbb{E}[m_i] = 0$, $\\mathbb{E}[\\theta_i] = 0$, $\\mathbb{E}[\\alpha_i] = 0$, $\\mathbb{E}[\\mathbf{t}_i] = \\mathbf{0}$.\n    - Standard deviations:\n        - Translation (per axis): $\\sigma_{T} = 0.8\\,\\mathrm{nm}$. So, $\\mathrm{Var}(t_{ix}) = \\mathrm{Var}(t_{iy}) = \\sigma_T^2$.\n        - Magnification: $\\sigma_{M} = 1.5\\times 10^{-7}$.\n        - Rotation: $\\sigma_{\\theta} = 3.5\\times 10^{-7}\\,\\mathrm{rad}$.\n        - Non-orthogonality: $\\sigma_{\\alpha} = 1.0\\times 10^{-7}$.\n- Definitions:\n    - Overlay vector: $\\mathbf{O}(\\mathbf{r}) = \\mathbf{r}'_{2} - \\mathbf{r}'_{1}$.\n    - Die-averaged RMS overlay magnitude: $\\mathrm{RMS} = \\left( \\frac{1}{|R|} \\iint_{R} \\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right]\\, \\mathrm{d}x\\,\\mathrm{d}y \\right)^{1/2}$. $|R|$ is the die area.\n- Task: Derive $\\mathrm{RMS}$ from first principles and evaluate $3 \\times \\mathrm{RMS}$ numerically, rounding to four significant figures.\n\n**1.2. Validate Using Extracted Givens:**\n- **Scientifically Grounded:** The problem is firmly located within semiconductor manufacturing process modeling, specifically photolithography overlay. The linear model for small distortions is a standard, scientifically valid approximation. The error components (translation, magnification, rotation, skew/non-orthogonality) are the conventional terms used in industry and academia.\n- **Well-Posed:** The problem provides all necessary definitions, statistical properties, and numerical values. The definitions of the overlay vector and the RMS average are mathematically precise and unambiguous. A unique, meaningful solution can be derived.\n- **Objective:** The language is formal and quantitative. No subjective or opinion-based statements are present.\n- The problem is self-contained and internally consistent.\n\n**1.3. Verdict and Action:**\nThe problem is valid. A full, reasoned solution will be provided.\n\n### Step 2: Derivation of the RMS Overlay\n\nThe overlay vector $\\mathbf{O}(\\mathbf{r})$ is the difference between the printed locations from the two exposures:\n$$\n\\mathbf{O}(\\mathbf{r}) = \\mathbf{r}'_{2} - \\mathbf{r}'_{1}\n$$\nSubstituting the given transformation model:\n$$\n\\mathbf{O}(\\mathbf{r}) = \\left[ \\mathbf{t}_{2} + \\left( \\mathbf{I} + m_{2}\\mathbf{I} + \\theta_{2}\\mathbf{J} + \\alpha_{2}\\mathbf{H} \\right)\\mathbf{r} \\right] - \\left[ \\mathbf{t}_{1} + \\left( \\mathbf{I} + m_{1}\\mathbf{I} + \\theta_{1}\\mathbf{J} + \\alpha_{1}\\mathbf{H} \\right)\\mathbf{r} \\right]\n$$\nGrouping terms:\n$$\n\\mathbf{O}(\\mathbf{r}) = (\\mathbf{t}_{2} - \\mathbf{t}_{1}) + \\left[ (m_{2}-m_{1})\\mathbf{I} + (\\theta_{2}-\\theta_{1})\\mathbf{J} + (\\alpha_{2}-\\alpha_{1})\\mathbf{H} \\right]\\mathbf{r}\n$$\nLet us define the differential error terms: $\\Delta\\mathbf{t} = \\mathbf{t}_{2} - \\mathbf{t}_{1}$, $\\Delta m = m_{2} - m_{1}$, $\\Delta\\theta = \\theta_{2} - \\theta_{1}$, and $\\Delta\\alpha = \\alpha_{2} - \\alpha_{1}$. The overlay vector becomes:\n$$\n\\mathbf{O}(\\mathbf{r}) = \\Delta\\mathbf{t} + (\\Delta m\\,\\mathbf{I} + \\Delta\\theta\\,\\mathbf{J} + \\Delta\\alpha\\,\\mathbf{H})\\mathbf{r}\n$$\nLet the distortion matrix be $\\mathbf{M}_{\\Delta} = \\Delta m\\,\\mathbf{I} + \\Delta\\theta\\,\\mathbf{J} + \\Delta\\alpha\\,\\mathbf{H}$. Then $\\mathbf{O}(\\mathbf{r}) = \\Delta\\mathbf{t} + \\mathbf{M}_{\\Delta}\\mathbf{r}$.\n\nWe need to compute the expected squared magnitude of the overlay vector, $\\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right]$.\n$$\n\\|\\mathbf{O}(\\mathbf{r})\\|^{2} = \\mathbf{O}(\\mathbf{r})^{\\top}\\mathbf{O}(\\mathbf{r}) = (\\Delta\\mathbf{t} + \\mathbf{M}_{\\Delta}\\mathbf{r})^{\\top}(\\Delta\\mathbf{t} + \\mathbf{M}_{\\Delta}\\mathbf{r})\n$$\n$$\n\\|\\mathbf{O}(\\mathbf{r})\\|^{2} = \\Delta\\mathbf{t}^{\\top}\\Delta\\mathbf{t} + 2\\Delta\\mathbf{t}^{\\top}\\mathbf{M}_{\\Delta}\\mathbf{r} + \\mathbf{r}^{\\top}\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta}\\mathbf{r}\n$$\nThe expectation is taken over the distributions of the error parameters. Using the linearity of expectation:\n$$\n\\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right] = \\mathbb{E}\\left[\\Delta\\mathbf{t}^{\\top}\\Delta\\mathbf{t}\\right] + 2\\mathbb{E}\\left[\\Delta\\mathbf{t}^{\\top}\\mathbf{M}_{\\Delta}\\mathbf{r}\\right] + \\mathbb{E}\\left[\\mathbf{r}^{\\top}\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta}\\mathbf{r}\\right]\n$$\nThe error terms $m_i, \\theta_i, \\alpha_i$ and the components of $\\mathbf{t}_i$ are all independent with zero mean. This implies their differences $\\Delta m, \\Delta\\theta, \\Delta\\alpha$ and the components of $\\Delta\\mathbf{t}$ also have zero mean. For example, $\\mathbb{E}[\\Delta m] = \\mathbb{E}[m_2] - \\mathbb{E}[m_1] = 0-0=0$.\nThe cross-term involves products of $\\Delta\\mathbf{t}$ components with $\\Delta m, \\Delta\\theta, \\Delta\\alpha$. Since all these variables are independent and have zero mean, the expectation of their product is zero.\n$$\n\\mathbb{E}\\left[\\Delta\\mathbf{t}^{\\top}\\mathbf{M}_{\\Delta}\\mathbf{r}\\right] = \\mathbb{E}[\\Delta\\mathbf{t}]^{\\top}\\mathbb{E}[\\mathbf{M}_{\\Delta}]\\mathbf{r} = \\mathbf{0}^{\\top}\\mathbf{0}\\mathbf{r} = 0\n$$\nThus, the expected squared magnitude simplifies to:\n$$\n\\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right] = \\mathbb{E}\\left[\\Delta\\mathbf{t}^{\\top}\\Delta\\mathbf{t}\\right] + \\mathbf{r}^{\\top}\\mathbb{E}\\left[\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta}\\right]\\mathbf{r}\n$$\nWe evaluate each term separately.\n\n1.  **Translation Term:** $\\mathbb{E}\\left[\\Delta\\mathbf{t}^{\\top}\\Delta\\mathbf{t}\\right]$\n    $\\Delta\\mathbf{t} = (\\Delta t_x, \\Delta t_y)^{\\top} = (t_{2x}-t_{1x}, t_{2y}-t_{1y})^{\\top}$.\n    $\\Delta\\mathbf{t}^{\\top}\\Delta\\mathbf{t} = (\\Delta t_x)^2 + (\\Delta t_y)^2$.\n    $\\mathbb{E}\\left[\\Delta\\mathbf{t}^{\\top}\\Delta\\mathbf{t}\\right] = \\mathbb{E}[(\\Delta t_x)^2] + \\mathbb{E}[(\\Delta t_y)^2]$.\n    Since $\\mathbb{E}[\\Delta t_x]=0$, $\\mathbb{E}[(\\Delta t_x)^2] = \\mathrm{Var}(\\Delta t_x) = \\mathrm{Var}(t_{2x}-t_{1x})$. Due to independence, $\\mathrm{Var}(t_{2x}-t_{1x}) = \\mathrm{Var}(t_{2x}) + \\mathrm{Var}(t_{1x}) = \\sigma_T^2 + \\sigma_T^2 = 2\\sigma_T^2$.\n    Similarly, $\\mathbb{E}[(\\Delta t_y)^2] = 2\\sigma_T^2$.\n    Therefore, $\\mathbb{E}\\left[\\Delta\\mathbf{t}^{\\top}\\Delta\\mathbf{t}\\right] = 2\\sigma_T^2 + 2\\sigma_T^2 = 4\\sigma_T^2$.\n\n2.  **Distortion Term:** $\\mathbf{r}^{\\top}\\mathbb{E}\\left[\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta}\\right]\\mathbf{r}$\n    First, find $\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta}$. We have $\\mathbf{M}_{\\Delta} = \\Delta m\\,\\mathbf{I} + \\Delta\\theta\\,\\mathbf{J} + \\Delta\\alpha\\,\\mathbf{H}$. The transpose is $\\mathbf{M}_{\\Delta}^{\\top} = \\Delta m\\,\\mathbf{I}^{\\top} + \\Delta\\theta\\,\\mathbf{J}^{\\top} + \\Delta\\alpha\\,\\mathbf{H}^{\\top}$. With $\\mathbf{I}^{\\top}=\\mathbf{I}$, $\\mathbf{J}^{\\top}=-\\mathbf{J}$, $\\mathbf{H}^{\\top}=\\mathbf{H}$, we get $\\mathbf{M}_{\\Delta}^{\\top} = \\Delta m\\,\\mathbf{I} - \\Delta\\theta\\,\\mathbf{J} + \\Delta\\alpha\\,\\mathbf{H}$.\n    The product is $\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta} = (\\Delta m\\,\\mathbf{I} - \\Delta\\theta\\,\\mathbf{J} + \\Delta\\alpha\\,\\mathbf{H}) (\\Delta m\\,\\mathbf{I} + \\Delta\\theta\\,\\mathbf{J} + \\Delta\\alpha\\,\\mathbf{H})$.\n    Using the matrix relations $\\mathbf{J}^2 = -\\mathbf{I}$, $\\mathbf{H}^2 = \\mathbf{I}$, $\\mathbf{JH} = -\\mathbf{HJ}$, $\\mathbf{IJ}=\\mathbf{J}$, $\\mathbf{IH}=\\mathbf{H}$, and expanding, we get:\n    $\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta} = \\Delta m^2\\mathbf{I} + \\Delta\\theta^2\\mathbf{I} + \\Delta\\alpha^2\\mathbf{I} + 2\\Delta m\\Delta\\alpha\\mathbf{H} + 2\\Delta\\theta\\Delta\\alpha\\mathbf{JH}$.\n    Taking the expectation and using the independence and zero-mean properties ($\\mathbb{E}[\\Delta m\\Delta\\alpha]=0$, $\\mathbb{E}[\\Delta\\theta\\Delta\\alpha]=0$):\n    $\\mathbb{E}[\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta}] = (\\mathbb{E}[\\Delta m^2] + \\mathbb{E}[\\Delta\\theta^2] + \\mathbb{E}[\\Delta\\alpha^2])\\mathbf{I}$.\n    As with translation, $\\mathbb{E}[\\Delta m^2] = \\mathrm{Var}(\\Delta m) = 2\\sigma_M^2$, $\\mathbb{E}[\\Delta\\theta^2] = 2\\sigma_{\\theta}^2$, and $\\mathbb{E}[\\Delta\\alpha^2] = 2\\sigma_{\\alpha}^2$.\n    So, $\\mathbb{E}[\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta}] = (2\\sigma_M^2 + 2\\sigma_{\\theta}^2 + 2\\sigma_{\\alpha}^2)\\mathbf{I}$.\n    The distortion term becomes $ \\mathbf{r}^{\\top} \\left( 2(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2)\\mathbf{I} \\right) \\mathbf{r} = 2(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2) \\mathbf{r}^{\\top}\\mathbf{r}$.\n    With $\\mathbf{r}=(x,y)^{\\top}$, $\\mathbf{r}^{\\top}\\mathbf{r} = x^2+y^2$. The term is $2(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2)(x^2+y^2)$.\n\nCombining both terms, the expected squared overlay at position $\\mathbf{r}$ is:\n$$\n\\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right] = 4\\sigma_T^2 + 2(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2)(x^2+y^2)\n$$\n\nNow, we compute the die-averaged RMS overlay. This involves integrating $\\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right]$ over the die area $R=[-a,a] \\times [-b,b]$ and dividing by the area $|R|=(2a)(2b)=4ab$.\n$$\n\\frac{1}{|R|} \\iint_{R} \\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right]\\, \\mathrm{d}x\\,\\mathrm{d}y = \\frac{1}{4ab} \\iint_{R} \\left( 4\\sigma_T^2 + 2(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2)(x^2+y^2) \\right) \\mathrm{d}x\\,\\mathrm{d}y\n$$\nThe integral separates:\n$$\n\\frac{1}{4ab} \\left( \\iint_{R} 4\\sigma_T^2 \\,\\mathrm{d}A + \\iint_{R} 2(\\sigma_M^2 + \\dots)(x^2+y^2) \\,\\mathrm{d}A \\right)\n$$\nThe first integral is $4\\sigma_T^2 \\iint_{R} \\mathrm{d}A = 4\\sigma_T^2 |R| = 16ab\\sigma_T^2$.\nThe second integral requires integrating $x^2+y^2$ over the rectangle:\n$$\n\\iint_{R} (x^2+y^2) \\,\\mathrm{d}x\\,\\mathrm{d}y = \\int_{-b}^{b} \\int_{-a}^{a} (x^2+y^2) \\,\\mathrm{d}x\\,\\mathrm{d}y\n$$\n$$\n= \\int_{-b}^{b} \\left[ \\frac{x^3}{3} + y^2x \\right]_{-a}^{a} \\,\\mathrm{d}y = \\int_{-b}^{b} \\left( \\frac{2a^3}{3} + 2ay^2 \\right) \\,\\mathrm{d}y\n$$\n$$\n= \\left[ \\frac{2a^3}{3}y + \\frac{2a}{3}y^3 \\right]_{-b}^{b} = \\frac{4a^3b}{3} + \\frac{4ab^3}{3} = \\frac{4ab}{3}(a^2+b^2)\n$$\nThis integral is also equal to $|R|\\frac{a^2+b^2}{3}$.\nPlugging back into the average calculation:\n$$\n\\mathrm{RMS}^2 = \\frac{1}{4ab} \\left( 16ab\\sigma_T^2 + 2(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2) \\frac{4ab}{3}(a^2+b^2) \\right)\n$$\n$$\n\\mathrm{RMS}^2 = 4\\sigma_T^2 + \\frac{2}{3}(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2)(a^2+b^2)\n$$\nThe RMS overlay is the square root of this expression:\n$$\n\\mathrm{RMS} = \\sqrt{4\\sigma_T^2 + \\frac{2}{3}(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2)(a^2+b^2)}\n$$\n\n### Step 3: Numerical Evaluation\n\nWe are given:\n- $a = 5\\,\\mathrm{mm} = 5 \\times 10^6\\,\\mathrm{nm}$\n- $b = 4\\,\\mathrm{mm} = 4 \\times 10^6\\,\\mathrm{nm}$\n- $\\sigma_T = 0.8\\,\\mathrm{nm}$\n- $\\sigma_M = 1.5 \\times 10^{-7}$\n- $\\sigma_{\\theta} = 3.5 \\times 10^{-7}$\n- $\\sigma_{\\alpha} = 1.0 \\times 10^{-7}$\n\nFirst, calculate the squared standard deviations:\n- $\\sigma_T^2 = (0.8)^2 = 0.64\\,\\mathrm{nm}^2$\n- $\\sigma_M^2 = (1.5 \\times 10^{-7})^2 = 2.25 \\times 10^{-14}$\n- $\\sigma_{\\theta}^2 = (3.5 \\times 10^{-7})^2 = 12.25 \\times 10^{-14}$\n- $\\sigma_{\\alpha}^2 = (1.0 \\times 10^{-7})^2 = 1.00 \\times 10^{-14}$\n\nNext, calculate the terms for $\\mathrm{RMS}^2$. All units will be in nm.\n- Translation component contribution: $4\\sigma_T^2 = 4 \\times 0.64\\,\\mathrm{nm}^2 = 2.56\\,\\mathrm{nm}^2$.\n- Distortion component contribution:\n    - Sum of squared sigmas: $\\Sigma_{\\sigma^2} = \\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2 = (2.25 + 12.25 + 1.00) \\times 10^{-14} = 15.5 \\times 10^{-14}$.\n    - Sum of squared dimensions: $a^2+b^2 = (5 \\times 10^6)^2 + (4 \\times 10^6)^2 = (25 \\times 10^{12}) + (16 \\times 10^{12}) = 41 \\times 10^{12}\\,\\mathrm{nm}^2$.\n    - Distortion term: $\\frac{2}{3}\\Sigma_{\\sigma^2}(a^2+b^2) = \\frac{2}{3}(15.5 \\times 10^{-14})(41 \\times 10^{12})\\,\\mathrm{nm}^2$.\n    - $= \\frac{2 \\times 15.5 \\times 41}{3} \\times 10^{-2}\\,\\mathrm{nm}^2 = \\frac{1271}{3} \\times 10^{-2}\\,\\mathrm{nm}^2 \\approx 423.666... \\times 10^{-2}\\,\\mathrm{nm}^2 \\approx 4.23667\\,\\mathrm{nm}^2$.\n\nNow, calculate $\\mathrm{RMS}^2$:\n$$\n\\mathrm{RMS}^2 = 2.56\\,\\mathrm{nm}^2 + 4.23667\\,\\mathrm{nm}^2 = 6.79667\\,\\mathrm{nm}^2\n$$\nCalculate $\\mathrm{RMS}$:\n$$\n\\mathrm{RMS} = \\sqrt{6.79667}\\,\\mathrm{nm} \\approx 2.6070417\\,\\mathrm{nm}\n$$\nFinally, calculate the $3$-sigma overlay budget:\n$$\n3 \\times \\mathrm{RMS} = 3 \\times 2.6070417\\,\\mathrm{nm} \\approx 7.821125\\,\\mathrm{nm}\n$$\nRounding to four significant figures gives $7.821\\,\\mathrm{nm}$.",
            "answer": "$$\\boxed{7.821}$$"
        }
    ]
}