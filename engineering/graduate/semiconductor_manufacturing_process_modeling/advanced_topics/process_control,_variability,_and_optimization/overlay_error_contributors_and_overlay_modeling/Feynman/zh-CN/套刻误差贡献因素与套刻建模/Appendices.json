{
    "hands_on_practices": [
        {
            "introduction": "套刻误差是多个误差源（如光罩和晶圆台）综合作用的结果。为了校正这些误差，我们必须首先分离出它们的各自贡献。本练习  提供了使用简化的物理模型来解构原始套刻测量数据的第一手实践。通过分析数据，您将学习如何将差分形变分解为其组成部分，并求解一个特定的未知参数，这是套刻诊断中的一项基本技能。",
            "id": "4146938",
            "problem": "在用于半导体制造的先进光学光刻套刻建模中，一个层上的印制位置通常被建模为名义设计位置受到一个小的仿射畸变的扰动，该模型在小参数的一阶范围内有效。设名义设计位置为矢量 $\\mathbf{x} \\in \\mathbb{R}^{2}$，以晶圆中心为参考。对于给定的层 $\\ell \\in \\{r,w\\}$（分别为掩模版条件层和晶圆条件层），假设印制位置为\n$$\n\\mathbf{x}_{\\ell} = \\left( \\mathbf{I} + \\mathbf{E}_{\\ell} \\right)\\mathbf{x},\n$$\n其中 $\\mathbf{I}$ 是一个 $2\\times 2$ 单位矩阵，$\\mathbf{E}_{\\ell}$ 是该层在整个视场上的一个小的、恒定的畸变矩阵。在本问题中，仅关注两个一阶贡献项：各向同性缩放和正交性扭曲。将它们建模为\n$$\n\\mathbf{E}_{\\ell} = s_{\\ell}\\,\\mathbf{I} + k_{\\ell}\\,\\mathbf{K},\n$$\n其中 $s_{\\ell}$ 是各向同性缩放（无量纲），$k_{\\ell}$ 是正交性扭曲（无量纲），且\n$$\n\\mathbf{K} \\equiv \\begin{pmatrix} 0  1 \\\\ 1  0 \\end{pmatrix},\n$$\n因此，一个正的 $k_{\\ell}$ 会将 $x$ 对称地耦合到 $y$，并将 $y$ 对称地耦合到 $x$。假设通过将坐标系中心置于晶圆中心已消除了平移，并且在所关注的阶数上层间旋转可忽略不计。\n\n套刻矢量场定义为在同一点名义设计位置上，晶圆条件层和掩模版条件层印制位置之差：\n$$\n\\mathbf{u}(\\mathbf{x}) \\equiv \\mathbf{x}_{w} - \\mathbf{x}_{r}.\n$$\n\n您在距离晶圆中心半径为 $L$ 的4个对称放置的位置点测量套刻：\n- 位置点 $\\mathbf{x}_{1} = (L, 0)$,\n- 位置点 $\\mathbf{x}_{2} = (0, L)$,\n- 位置点 $\\mathbf{x}_{3} = (-L, 0)$,\n- 位置点 $\\mathbf{x}_{4} = (0, -L)$,\n\n其中 $L = 10\\,\\mathrm{mm}$。在这些位置点测得的套刻矢量（以纳米表示）为：\n- $\\mathbf{u}(\\mathbf{x}_{1}) = (50\\,\\mathrm{nm},\\, -30\\,\\mathrm{nm})$,\n- $\\mathbf{u}(\\mathbf{x}_{2}) = (-30\\,\\mathrm{nm},\\, 50\\,\\mathrm{nm})$,\n- $\\mathbf{u}(\\mathbf{x}_{3}) = (-50\\,\\mathrm{nm},\\, 30\\,\\mathrm{nm})$,\n- $\\mathbf{u}(\\mathbf{x}_{4}) = (30\\,\\mathrm{nm},\\, -50\\,\\mathrm{nm})$.\n\n对掩模版的独立测量得出 $s_{r} = -2.0 \\times 10^{-6}$ 和 $k_{r} = 1.0 \\times 10^{-6}$。假设在这些位置点上，上述的双参数模型是有效的，且测量噪声可以忽略不计。\n\n从给定的定义和一阶仿射模型出发，用微分参数推导套刻场，并使用测量数据估计晶圆层的正交性扭曲 $k_{w}$。将您的最终答案表示为一个无量纲的十进制数，并四舍五入到三位有效数字。不要在最终答案中使用百分号或百万分率等表示法。",
            "solution": "用户希望我基于光刻套刻的仿射模型解决一个问题。\n\n### 步骤 1：提取已知条件\n-   名义设计位置：$\\mathbf{x} \\in \\mathbb{R}^{2}$。\n-   层 $\\ell \\in \\{r, w\\}$ 上的印制位置：$\\mathbf{x}_{\\ell} = (\\mathbf{I} + \\mathbf{E}_{\\ell})\\mathbf{x}$，其中 $\\mathbf{I}$ 是一个 $2 \\times 2$ 单位矩阵。\n-   畸变矩阵模型：$\\mathbf{E}_{\\ell} = s_{\\ell}\\mathbf{I} + k_{\\ell}\\mathbf{K}$。\n-   参数：$s_{\\ell}$（各向同性缩放），$k_{\\ell}$（正交性扭曲）。\n-   矩阵 $\\mathbf{K}$：$\\mathbf{K} \\equiv \\begin{pmatrix} 0  1 \\\\ 1  0 \\end{pmatrix}$。\n-   套刻矢量场：$\\mathbf{u}(\\mathbf{x}) \\equiv \\mathbf{x}_{w} - \\mathbf{x}_{r}$。\n-   测量位置点：\n    -   $\\mathbf{x}_{1} = (L, 0)$\n    -   $\\mathbf{x}_{2} = (0, L)$\n    -   $\\mathbf{x}_{3} = (-L, 0)$\n    -   $\\mathbf{x}_{4} = (0, -L)$\n-   半径：$L = 10\\,\\mathrm{mm}$。\n-   测得的套刻矢量：\n    -   $\\mathbf{u}(\\mathbf{x}_{1}) = (50\\,\\mathrm{nm},\\, -30\\,\\mathrm{nm})$\n    -   $\\mathbf{u}(\\mathbf{x}_{2}) = (-30\\,\\mathrm{nm},\\, 50\\,\\mathrm{nm})$\n    -   $\\mathbf{u}(\\mathbf{x}_{3}) = (-50\\,\\mathrm{nm},\\, 30\\,\\mathrm{nm})$\n    -   $\\mathbf{u}(\\mathbf{x}_{4}) = (30\\,\\mathrm{nm},\\, -50\\,\\mathrm{nm})$\n-   掩模版层参数：$s_{r} = -2.0 \\times 10^{-6}$ 和 $k_{r} = 1.0 \\times 10^{-6}$。\n-   目标：求出晶圆层的正交性扭曲 $k_{w}$。\n\n### 步骤 2：使用提取的已知条件进行验证\n该问题具有科学依据，采用了光刻套刻的标准一阶仿射模型，这是半导体制造过程建模中一种成熟的做法。该模型是适定的，提供了一个线性方程组和足够的测量数据来求解未知参数。问题以精确的数学术语客观陈述，所提供的数据是完整且内部一致的。例如，在 $\\mathbf{x}_{3} = -\\mathbf{x}_{1}$ 处的测量值为 $\\mathbf{u}(\\mathbf{x}_3) = (-50, 30)\\,\\mathrm{nm}$，这等于 $-\\mathbf{u}(\\mathbf{x}_1) = -(50, -30)\\,\\mathrm{nm}$。这与线性关系 $\\mathbf{u}(\\mathbf{x}) = \\mathbf{M}\\mathbf{x}$ 是一致的。物理数值对于套刻误差（纳米）和畸变参数（百万分率）来说是符合实际的。因此，该问题是有效的。\n\n### 步骤 3：结论与行动\n问题是有效的。我现在将进行全面、合理的求解。\n\n目标是确定晶圆层的正交性扭曲 $k_{w}$。为此，我们必须首先建立测量的套刻矢量与模型参数之间的关系。\n\n首先，我们推导套刻矢量场 $\\mathbf{u}(\\mathbf{x})$ 的表达式。根据定义，它是晶圆条件层（$w$）和掩模版条件层（$r$）上印制位置之差：\n$$\n\\mathbf{u}(\\mathbf{x}) = \\mathbf{x}_{w} - \\mathbf{x}_{r}\n$$\n代入给定的印制位置模型 $\\mathbf{x}_{\\ell} = (\\mathbf{I} + \\mathbf{E}_{\\ell})\\mathbf{x}$：\n$$\n\\mathbf{u}(\\mathbf{x}) = (\\mathbf{I} + \\mathbf{E}_{w})\\mathbf{x} - (\\mathbf{I} + \\mathbf{E}_{r})\\mathbf{x}\n$$\n$$\n\\mathbf{u}(\\mathbf{x}) = (\\mathbf{I} + \\mathbf{E}_{w} - \\mathbf{I} - \\mathbf{E}_{r})\\mathbf{x} = (\\mathbf{E}_{w} - \\mathbf{E}_{r})\\mathbf{x}\n$$\n我们定义一个微分畸变矩阵 $\\Delta\\mathbf{E} = \\mathbf{E}_{w} - \\mathbf{E}_{r}$。因此，套刻场是名义位置矢量的线性变换：$\\mathbf{u}(\\mathbf{x}) = \\Delta\\mathbf{E}\\,\\mathbf{x}$。\n\n接下来，我们代入畸变矩阵的模型 $\\mathbf{E}_{\\ell} = s_{\\ell}\\mathbf{I} + k_{\\ell}\\mathbf{K}$：\n$$\n\\Delta\\mathbf{E} = (s_{w}\\mathbf{I} + k_{w}\\mathbf{K}) - (s_{r}\\mathbf{I} + k_{r}\\mathbf{K})\n$$\n按单位矩阵 $\\mathbf{I}$ 和扭曲矩阵 $\\mathbf{K}$ 对各项进行分组：\n$$\n\\Delta\\mathbf{E} = (s_{w} - s_{r})\\mathbf{I} + (k_{w} - k_{r})\\mathbf{K}\n$$\n我们定义微分缩放 $\\Delta s = s_{w} - s_{r}$ 和微分正交性扭曲 $\\Delta k = k_{w} - k_{r}$。套刻模型变为：\n$$\n\\mathbf{u}(\\mathbf{x}) = (\\Delta s\\,\\mathbf{I} + \\Delta k\\,\\mathbf{K})\\mathbf{x}\n$$\n设 $\\mathbf{x} = \\begin{pmatrix} x \\\\ y \\end{pmatrix}$ 且 $\\mathbf{u}(\\mathbf{x}) = \\begin{pmatrix} u_x \\\\ u_y \\end{pmatrix}$。矩阵 $\\Delta\\mathbf{E}$ 为：\n$$\n\\Delta\\mathbf{E} = \\Delta s \\begin{pmatrix} 1  0 \\\\ 0  1 \\end{pmatrix} + \\Delta k \\begin{pmatrix} 0  1 \\\\ 1  0 \\end{pmatrix} = \\begin{pmatrix} \\Delta s  \\Delta k \\\\ \\Delta k  \\Delta s \\end{pmatrix}\n$$\n所以，套刻矢量的分量方程为：\n$$\nu_x(x, y) = (\\Delta s)x + (\\Delta k)y\n$$\n$$\nu_y(x, y) = (\\Delta k)x + (\\Delta s)y\n$$\n现在，我们使用提供的测量数据来确定微分参数 $\\Delta s$ 和 $\\Delta k$ 的值。我们可以使用四个测量位置点中的任意一个。让我们使用位置点 $\\mathbf{x}_{1} = (L, 0)$。\n在此位置点，$x=L$ 且 $y=0$。模型预测：\n$$\nu_x(L, 0) = (\\Delta s)L + (\\Delta k)(0) = (\\Delta s)L\n$$\n$$\nu_y(L, 0) = (\\Delta k)L + (\\Delta s)(0) = (\\Delta k)L\n$$\n此位置点的测量值给出为 $\\mathbf{u}(\\mathbf{x}_{1}) = (50\\,\\mathrm{nm},\\, -30\\,\\mathrm{nm})$。将模型与测量值等同起来：\n$$\n(\\Delta s)L = 50\\,\\mathrm{nm}\n$$\n$$\n(\\Delta k)L = -30\\,\\mathrm{nm}\n$$\n半径 $L$ 给出为 $10\\,\\mathrm{mm}$。为保持单位一致，我们将 $L$ 转换为纳米。因为 $1\\,\\mathrm{mm} = 10^6\\,\\mathrm{nm}$：\n$$\nL = 10\\,\\mathrm{mm} = 10 \\times 10^6\\,\\mathrm{nm} = 1.0 \\times 10^7\\,\\mathrm{nm}\n$$\n现在我们可以求解无量纲参数 $\\Delta s$ 和 $\\Delta k$：\n$$\n\\Delta s = \\frac{50\\,\\mathrm{nm}}{1.0 \\times 10^7\\,\\mathrm{nm}} = 5.0 \\times 10^{-6}\n$$\n$$\n\\Delta k = \\frac{-30\\,\\mathrm{nm}}{1.0 \\times 10^7\\,\\mathrm{nm}} = -3.0 \\times 10^{-6}\n$$\n问题要求的是晶圆层的正交性扭曲 $k_{w}$。我们使用微分扭曲的定义：\n$$\n\\Delta k = k_{w} - k_{r}\n$$\n求解 $k_{w}$：\n$$\nk_{w} = \\Delta k + k_{r}\n$$\n我们代入刚才计算出的 $\\Delta k$ 值和给定的掩模版扭曲值 $k_{r} = 1.0 \\times 10^{-6}$：\n$$\nk_{w} = (-3.0 \\times 10^{-6}) + (1.0 \\times 10^{-6}) = -2.0 \\times 10^{-6}\n$$\n问题要求最终答案是一个无量纲的十进制数，并四舍五入到三位有效数字。计算值为 $-2.0 \\times 10^{-6}$。将其四舍五入到三位有效数字得到 $-2.00 \\times 10^{-6}$。",
            "answer": "$$\n\\boxed{-2.00 \\times 10^{-6}}\n$$"
        },
        {
            "introduction": "在识别了误差源之后，下一步是建立一个能够预测整个视场套刻情况的综合模型。这对于“混合匹配”光刻技术至关重要，因为该技术中不同层可能使用不同的扫描仪进行曝光。在此实践中 ，您将扮演一名工艺工程师，利用一组“训练”数据来校准一个通用的仿射套刻模型。然后，您将用一个独立的“测试”数据集来检验模型的预测准确性，学习通过残差分析来量化模型性能这一关键技能。",
            "id": "4146948",
            "problem": "研究了一个混合工具晶圆曝光场景，以量化当不同层在两台不同扫描式光刻机上进行图形化时产生的套刻误差。视场内任意位置的套刻误差通过一个捕获工具匹配参数的一阶差分仿射变换来建模。具体来说，对于以毫米（mm）表示的晶圆平面坐标 $\\mathbf{r} = (x, y)^{\\top}$，以纳米（nm）表示的套刻向量 $\\mathbf{o}(x,y)$ 可近似为\n$$\n\\mathbf{o}(x,y) = \\mathbf{T} + \\mathbf{A}\\,\\mathbf{r},\n$$\n其中 $\\mathbf{T} \\in \\mathbb{R}^{2}$ 代表两台工具之间的差分平移，而 $\\mathbf{A} \\in \\mathbb{R}^{2 \\times 2}$ 是一阶线性畸变矩阵，包含差分放大率、旋转和正交性（剪切）。该模型是在混合匹配（mix-and-match）套刻建模和工具匹配中使用的标准小畸变线性化模型。\n\n三个训练量测标靶提供了用于估计 $\\mathbf{T}$ 和 $\\mathbf{A}$ 的套刻测量值：\n- 在 $(x,y) = (10, 0)$ mm 处：$\\mathbf{o} = (25, 26)$ nm。\n- 在 $(x,y) = (0, 10)$ mm 处：$\\mathbf{o} = (-5, -4)$ nm。\n- 在 $(x,y) = (10, 10)$ mm 处：$\\mathbf{o} = (15, 26)$ nm。\n\n另外四个测试标靶提供了测量的套刻值，用于评估一阶模型下的残差：\n- 在 $(x,y) = (5, 5)$ mm 处：$\\mathbf{o} = (10.25, 11.25)$ nm。\n- 在 $(x,y) = (10, -10)$ mm 处：$\\mathbf{o} = (37, 24)$ nm。\n- 在 $(x,y) = (-10, 0)$ mm 处：$\\mathbf{o} = (-16, -34)$ nm。\n- 在 $(x,y) = (0, -10)$ mm 处：$\\mathbf{o} = (15, -5)$ nm。\n\n仅使用训练标靶，基于所述的一阶模型，通过线性最小二乘法估计参数 $\\mathbf{T}$ 和 $\\mathbf{A}$。然后，使用这些估计出的参数，计算四个测试标靶处的预测套刻值，将每个测试标靶处的残差向量定义为测量套刻值减去预测套刻值，最后计算残差幅度的均方根（RMS）\n$$\n\\mathrm{RMS} = \\sqrt{\\frac{1}{N} \\sum_{i=1}^{N} \\left\\|\\mathbf{r}_{i}\\right\\|^{2}},\n$$\n其中 $\\mathbf{r}_{i}$ 是第 $i$ 个测试标靶处的残差向量，且 $N = 4$。以纳米（nm）为单位表示最终的 RMS 幅度。将您的答案四舍五入到四位有效数字。",
            "solution": "用户希望我解决一个半导体制造过程建模中的问题。\n\n### 问题验证\n\n**步骤 1：提取已知条件**\n\n问题提供了以下信息：\n1.  **套刻模型**：位于视场内位置 $\\mathbf{r} = (x, y)^{\\top}$（单位：mm）的套刻向量 $\\mathbf{o}(x,y)$（单位：nm）由一个一阶仿射变换给出：\n    $$ \\mathbf{o}(x,y) = \\mathbf{T} + \\mathbf{A}\\,\\mathbf{r} $$\n    其中 $\\mathbf{T} \\in \\mathbb{R}^{2}$ 是差分平移向量，$\\mathbf{A} \\in \\mathbb{R}^{2 \\times 2}$ 是线性畸变矩阵。\n2.  **训练数据**：提供了三个套刻测量值用于估计模型参数：\n    *   在 $\\mathbf{r}_1 = (10, 0)^{\\top}$ mm 处，测量的套刻值为 $\\mathbf{o}_1^{\\text{meas}} = (25, 26)^{\\top}$ nm。\n    *   在 $\\mathbf{r}_2 = (0, 10)^{\\top}$ mm 处，测量的套刻值为 $\\mathbf{o}_2^{\\text{meas}} = (-5, -4)^{\\top}$ nm。\n    *   在 $\\mathbf{r}_3 = (10, 10)^{\\top}$ mm 处，测量的套刻值为 $\\mathbf{o}_3^{\\text{meas}} = (15, 26)^{\\top}$ nm。\n3.  **测试数据**：提供了另外四个套刻测量值用于评估模型的残差：\n    *   在 $\\mathbf{r}_4 = (5, 5)^{\\top}$ mm 处，测量的套刻值为 $\\mathbf{o}_4^{\\text{meas}} = (10.25, 11.25)^{\\top}$ nm。\n    *   在 $\\mathbf{r}_5 = (10, -10)^{\\top}$ mm 处，测量的套刻值为 $\\mathbf{o}_5^{\\text{meas}} = (37, 24)^{\\top}$ nm。\n    *   在 $\\mathbf{r}_6 = (-10, 0)^{\\top}$ mm 处，测量的套刻值为 $\\mathbf{o}_6^{\\text{meas}} = (-16, -34)^{\\top}$ nm。\n    *   在 $\\mathbf{r}_7 = (0, -10)^{\\top}$ mm 处，测量的套刻值为 $\\mathbf{o}_7^{\\text{meas}} = (15, -5)^{\\top}$ nm。\n4.  **残差定义**：测试标靶处的残差向量定义为测量套刻值减去预测套刻值。\n5.  **性能指标**：需要使用以下公式计算残差幅度的均方根（RMS）：\n    $$ \\mathrm{RMS} = \\sqrt{\\frac{1}{N} \\sum_{i=1}^{N} \\left\\|\\mathbf{r}_{i}\\right\\|^{2}} $$\n    其中 $\\mathbf{r}_{i}$ 是第 $i$ 个测试标靶处的残差向量，测试标靶数量为 $N = 4$。\n\n**步骤 2：使用提取的已知条件进行验证**\n\n*   **科学依据**：该问题在半导体制造领域有充分的依据。使用一阶仿射模型 $\\mathbf{o} = \\mathbf{T} + \\mathbf{A}\\mathbf{r}$ 是建模和校正光刻工具之间套刻误差的标准和基础实践。单位（晶圆坐标用 mm，套刻误差用 nm）是该应用的常规单位。\n*   **适定性**：该问题是适定的。它要求从 $3$ 个训练数据点估计 $6$ 个未知参数（$\\mathbf{T}$ 的两个分量和 $\\mathbf{A}$ 的四个分量），其中每个点提供 $2$ 个方程（套刻向量的每个坐标各一个）。这构成了一个包含 $6$ 个未知数的 $6$ 个线性方程组，是可解的。后续计算残差和 RMS 指标的步骤也是明确定义的过程。\n*   **客观性**：该问题完全以客观的数学术语表述，没有歧义、主观性或依赖于观点。\n*   **完整性与一致性**：该问题提供了得出唯一解所需的所有数据和定义。训练数据、测试数据、数学模型以及待计算的指标都已明确说明。内部没有矛盾。\n\n**步骤 3：结论与行动**\n\n该问题被认为是**有效**的，因为它具有科学依据、适定、客观且完整。我将继续进行求解。\n\n### 解题过程\n\n第一步是使用训练数据确定仿射模型的参数。模型可以写成如下分量形式：\n$$\n\\begin{pmatrix} o_x \\\\ o_y \\end{pmatrix} = \\begin{pmatrix} T_x \\\\ T_y \\end{pmatrix} + \\begin{pmatrix} A_{xx}  A_{xy} \\\\ A_{yx}  A_{yy} \\end{pmatrix} \\begin{pmatrix} x \\\\ y \\end{pmatrix}\n$$\n这可以分解为两个独立的线性方程组：\n1.  对于套刻的 x 分量：$o_x = T_x + A_{xx}x + A_{xy}y$\n2.  对于套刻的 y 分量：$o_y = T_y + A_{yx}x + A_{yy}y$\n\n我们有 $6$ 个未知数：$T_x, T_y, A_{xx}, A_{xy}, A_{yx}, A_{yy}$。我们使用 $3$ 个训练点生成 $6$ 个方程。\n\n对于 x 分量 ($T_x, A_{xx}, A_{xy}$):\n*   在 $(x,y) = (10, 0)$ 处，$o_x = 25$：$25 = T_x + 10A_{xx} + 0A_{xy} \\implies T_x + 10A_{xx} = 25$ (方程 1)\n*   在 $(x,y) = (0, 10)$ 处，$o_x = -5$：$-5 = T_x + 0A_{xx} + 10A_{xy} \\implies T_x + 10A_{xy} = -5$ (方程 2)\n*   在 $(x,y) = (10, 10)$ 处，$o_x = 15$：$15 = T_x + 10A_{xx} + 10A_{xy}$ (方程 3)\n\n根据方程 1，$10A_{xx} = 25 - T_x$。根据方程 2，$10A_{xy} = -5 - T_x$。将这些代入方程 3：\n$15 = T_x + (25 - T_x) + (-5 - T_x)$\n$15 = 20 - T_x$\n$T_x = 5$\n\n将 $T_x = 5$ 代回 $A_{xx}$ 和 $A_{xy}$ 的表达式中：\n$10A_{xx} = 25 - 5 = 20 \\implies A_{xx} = 2$\n$10A_{xy} = -5 - 5 = -10 \\implies A_{xy} = -1$\n\n对于 y 分量 ($T_y, A_{yx}, A_{yy}$):\n*   在 $(x,y) = (10, 0)$ 处，$o_y = 26$：$26 = T_y + 10A_{yx} + 0A_{yy} \\implies T_y + 10A_{yx} = 26$ (方程 4)\n*   在 $(x,y) = (0, 10)$ 处，$o_y = -4$：$-4 = T_y + 0A_{yx} + 10A_{yy} \\implies T_y + 10A_{yy} = -4$ (方程 5)\n*   在 $(x,y) = (10, 10)$ 处，$o_y = 26$：$26 = T_y + 10A_{yx} + 10A_{yy}$ (方程 6)\n\n根据方程 4，$10A_{yx} = 26 - T_y$。根据方程 5，$10A_{yy} = -4 - T_y$。将这些代入方程 6：\n$26 = T_y + (26 - T_y) + (-4 - T_y)$\n$26 = 22 - T_y$\n$T_y = -4$\n\n将 $T_y = -4$ 代回 $A_{yx}$ 和 $A_{yy}$ 的表达式中：\n$10A_{yx} = 26 - (-4) = 30 \\implies A_{yx} = 3$\n$10A_{yy} = -4 - (-4) = 0 \\implies A_{yy} = 0$\n\n因此，估计的参数为：\n$$ \\mathbf{T} = \\begin{pmatrix} 5 \\\\ -4 \\end{pmatrix}, \\quad \\mathbf{A} = \\begin{pmatrix} 2  -1 \\\\ 3  0 \\end{pmatrix} $$\n预测模型为：\n$$ \\mathbf{o}^{\\text{pred}}(x,y) = \\begin{pmatrix} 5 \\\\ -4 \\end{pmatrix} + \\begin{pmatrix} 2  -1 \\\\ 3  0 \\end{pmatrix} \\begin{pmatrix} x \\\\ y \\end{pmatrix} = \\begin{pmatrix} 5 + 2x - y \\\\ -4 + 3x \\end{pmatrix} $$\n\n接下来，我们计算 $N=4$ 个测试标靶的预测套刻值 $\\mathbf{o}^{\\text{pred}}$ 及其对应的残差向量 $\\mathbf{res} = \\mathbf{o}^{\\text{meas}} - \\mathbf{o}^{\\text{pred}}$。\n\n1.  测试标靶位于 $(x,y) = (5, 5)$ 处：\n    $\\mathbf{o}^{\\text{pred}} = \\begin{pmatrix} 5 + 2(5) - 5 \\\\ -4 + 3(5) \\end{pmatrix} = \\begin{pmatrix} 10 \\\\ 11 \\end{pmatrix}$ nm。\n    $\\mathbf{o}^{\\text{meas}} = (10.25, 11.25)^{\\top}$ nm。\n    $\\mathbf{res}_1 = \\begin{pmatrix} 10.25 - 10 \\\\ 11.25 - 11 \\end{pmatrix} = \\begin{pmatrix} 0.25 \\\\ 0.25 \\end{pmatrix}$ nm。\n\n2.  测试标靶位于 $(x,y) = (10, -10)$ 处：\n    $\\mathbf{o}^{\\text{pred}} = \\begin{pmatrix} 5 + 2(10) - (-10) \\\\ -4 + 3(10) \\end{pmatrix} = \\begin{pmatrix} 35 \\\\ 26 \\end{pmatrix}$ nm。\n    $\\mathbf{o}^{\\text{meas}} = (37, 24)^{\\top}$ nm。\n    $\\mathbf{res}_2 = \\begin{pmatrix} 37 - 35 \\\\ 24 - 26 \\end{pmatrix} = \\begin{pmatrix} 2 \\\\ -2 \\end{pmatrix}$ nm。\n\n3.  测试标靶位于 $(x,y) = (-10, 0)$ 处：\n    $\\mathbf{o}^{\\text{pred}} = \\begin{pmatrix} 5 + 2(-10) - 0 \\\\ -4 + 3(-10) \\end{pmatrix} = \\begin{pmatrix} -15 \\\\ -34 \\end{pmatrix}$ nm。\n    $\\mathbf{o}^{\\text{meas}} = (-16, -34)^{\\top}$ nm。\n    $\\mathbf{res}_3 = \\begin{pmatrix} -16 - (-15) \\\\ -34 - (-34) \\end{pmatrix} = \\begin{pmatrix} -1 \\\\ 0 \\end{pmatrix}$ nm。\n\n4.  测试标靶位于 $(x,y) = (0, -10)$ 处：\n    $\\mathbf{o}^{\\text{pred}} = \\begin{pmatrix} 5 + 2(0) - (-10) \\\\ -4 + 3(0) \\end{pmatrix} = \\begin{pmatrix} 15 \\\\ -4 \\end{pmatrix}$ nm。\n    $\\mathbf{o}^{\\text{meas}} = (15, -5)^{\\top}$ nm。\n    $\\mathbf{res}_4 = \\begin{pmatrix} 15 - 15 \\\\ -5 - (-4) \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ -1 \\end{pmatrix}$ nm。\n\n最后，我们计算 RMS 残差幅度。首先，我们计算每个残差向量的模的平方：\n$\\|\\mathbf{res}_1\\|^2 = (0.25)^2 + (0.25)^2 = 0.0625 + 0.0625 = 0.125$\n$\\|\\mathbf{res}_2\\|^2 = (2)^2 + (-2)^2 = 4 + 4 = 8$\n$\\|\\mathbf{res}_3\\|^2 = (-1)^2 + (0)^2 = 1$\n$\\|\\mathbf{res}_4\\|^2 = (0)^2 + (-1)^2 = 1$\n\n现在，我们应用 $N=4$ 的 RMS 公式：\n$$ \\mathrm{RMS} = \\sqrt{\\frac{1}{4} \\sum_{i=1}^{4} \\|\\mathbf{res}_i\\|^2} = \\sqrt{\\frac{1}{4} (0.125 + 8 + 1 + 1)} $$\n$$ \\mathrm{RMS} = \\sqrt{\\frac{10.125}{4}} = \\sqrt{2.53125} $$\n$$ \\mathrm{RMS} \\approx 1.590990257... $$\n四舍五入到四位有效数字，我们得到 $1.591$。单位是纳米（nm）。",
            "answer": "$$\n\\boxed{1.591}\n$$"
        },
        {
            "introduction": "对于像双重曝光这样的先进技术，仅仅对单次套刻进行建模是不够的；我们必须理解并控制大量晶圆上误差的统计分布。这需要建立一个统计误差预算。这项高级练习  要求您从确定性建模转向统计分析。您将从第一性原理出发，推导各种基本误差源（如平移、放大和旋转）的方差如何共同决定一个综合的工艺性能指标——芯片平均均方根（$RMS$）套刻误差。这项技能对于在高产量制造中设定工艺规格和预测良率至关重要。",
            "id": "4146955",
            "problem": "在光刻-蚀刻-光刻-蚀刻（LELE）双重曝光工艺中，两次连续曝光之间的套刻（overlay）被建模为施加于理想图形坐标的两个微小变换之差。考虑一个以原点为中心、尺寸范围为 $R = [-a,a] \\times [-b,b]$ 的单个晶粒，其中 $a = 5\\,\\mathrm{mm}$ 且 $b = 4\\,\\mathrm{mm}$。对于曝光 $i \\in \\{1,2\\}$，在小误差近似下，理想点 $\\mathbf{r} = (x,y)^{\\top}$ 的印刷位置 $\\mathbf{r}'_{i}$ 被建模为\n$$\n\\mathbf{r}'_{i} = \\mathbf{t}_{i} + \\left( \\mathbf{I} + m_{i}\\,\\mathbf{I} + \\theta_{i}\\,\\mathbf{J} + \\alpha_{i}\\,\\mathbf{H} \\right)\\mathbf{r},\n$$\n其中 $\\mathbf{t}_{i} \\in \\mathbb{R}^{2}$ 是全局平移矢量，$m_{i}$ 是各向同性放大误差（无量纲），$\\theta_{i}$ 是围绕晶粒中心的面内旋转角（单位为弧度），$\\alpha_{i}$ 是微小的非正交性（倾斜）参数（无量纲），$\\mathbf{I}$ 是一个 $2\\times 2$ 单位矩阵，$\\mathbf{J} = \\begin{pmatrix}0  -1 \\\\ 1  0\\end{pmatrix}$ 产生微小旋转，$\\mathbf{H} = \\begin{pmatrix}0  1 \\\\ 1  0\\end{pmatrix}$ 产生捕捉非正交性的微小对称剪切。\n\n假设以下经过统计充分检验的条件：\n- 所有标量误差 $m_{i}$、$\\theta_{i}$、$\\alpha_{i}$ 以及 $\\mathbf{t}_{i}$ 的平移分量在不同曝光 $i$ 之间是独立的，并且在每次曝光内部也是相互独立的，每个误差的均值都为零。\n- $\\mathbf{t}_{i}$ 的平移分量在每个轴向上具有相同的标准差 $\\sigma_{T}$，其值为 $\\sigma_{T} = 0.8\\,\\mathrm{nm}$。\n- 放大误差的标准差为 $\\sigma_{M} = 1.5\\times 10^{-7}$ (无量纲)。\n- 旋转的标准差为 $\\sigma_{\\theta} = 3.5\\times 10^{-7}$ (单位为弧度)。\n- 非正交性的标准差为 $\\sigma_{\\alpha} = 1.0\\times 10^{-7}$ (无量纲)。\n\n将位置 $\\mathbf{r}$ 处的套刻矢量定义为 $\\mathbf{O}(\\mathbf{r}) = \\mathbf{r}'_{2} - \\mathbf{r}'_{1}$，并将晶粒平均均方根（RMS）套刻量级定义为\n$$\n\\mathrm{RMS} = \\left( \\frac{1}{|R|} \\iint_{R} \\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right]\\, \\mathrm{d}x\\,\\mathrm{d}y \\right)^{1/2},\n$$\n其中 $|R|$ 是晶粒面积，$\\mathbb{E}[\\cdot]$ 表示对误差分布求期望。\n\n从微小刚体和线性畸变的基本定义以及独立的零均值随机变量的性质出发，依据第一性原理推导晶粒平均 $\\mathrm{RMS}$。然后，使用上述数值参数，评估定义为 $3\\times \\mathrm{RMS}$ 的3-sigma双重曝光套刻预算。\n\n将最终数值答案四舍五入至四位有效数字。套刻预算以纳米为单位表示。在推导过程中，所有角度量均使用弧度。",
            "solution": "题目要求推导和计算3-sigma双重曝光套刻预算，其定义为 $3\\times \\mathrm{RMS}$，其中 $\\mathrm{RMS}$ 是晶粒平均均方根套刻量级。\n\n### 第 1 步：问题验证\n\n**1.1. 提取已知条件：**\n- 工艺：光刻-蚀刻-光刻-蚀刻（LELE）双重曝光。\n- 晶粒区域：$R = [-a,a] \\times [-b,b]$，其中 $a = 5\\,\\mathrm{mm}$，$b = 4\\,\\mathrm{mm}$。\n- 曝光 $i \\in \\{1,2\\}$ 的变换模型：$\\mathbf{r}'_{i} = \\mathbf{t}_{i} + \\left( \\mathbf{I} + m_{i}\\,\\mathbf{I} + \\theta_{i}\\,\\mathbf{J} + \\alpha_{i}\\,\\mathbf{H} \\right)\\mathbf{r}$。\n- 误差项：$\\mathbf{t}_{i}$（平移），$m_{i}$（放大），$\\theta_{i}$（旋转），$\\alpha_{i}$（非正交性）。\n- 矩阵：$\\mathbf{I} = \\begin{pmatrix}1  0 \\\\ 0  1\\end{pmatrix}$，$\\mathbf{J} = \\begin{pmatrix}0  -1 \\\\ 1  0\\end{pmatrix}$，$\\mathbf{H} = \\begin{pmatrix}0  1 \\\\ 1  0\\end{pmatrix}$。\n- 统计特性：\n    - 所有标量误差（$m_i, \\theta_i, \\alpha_i$）和平移分量在不同曝光 $i$ 之间是独立的，并且在每次曝光内部也是相互独立的。\n    - 所有误差的均值为零：$\\mathbb{E}[m_i] = 0$，$\\mathbb{E}[\\theta_i] = 0$，$\\mathbb{E}[\\alpha_i] = 0$，$\\mathbb{E}[\\mathbf{t}_i] = \\mathbf{0}$。\n    - 标准差：\n        - 平移（每轴）：$\\sigma_{T} = 0.8\\,\\mathrm{nm}$。因此，$\\mathrm{Var}(t_{ix}) = \\mathrm{Var}(t_{iy}) = \\sigma_T^2$。\n        - 放大：$\\sigma_{M} = 1.5\\times 10^{-7}$。\n        - 旋转：$\\sigma_{\\theta} = 3.5\\times 10^{-7}\\,\\mathrm{rad}$。\n        - 非正交性：$\\sigma_{\\alpha} = 1.0\\times 10^{-7}$。\n- 定义：\n    - 套刻矢量：$\\mathbf{O}(\\mathbf{r}) = \\mathbf{r}'_{2} - \\mathbf{r}'_{1}$。\n    - 晶粒平均RMS套刻量级：$\\mathrm{RMS} = \\left( \\frac{1}{|R|} \\iint_{R} \\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right]\\, \\mathrm{d}x\\,\\mathrm{d}y \\right)^{1/2}$。$|R|$ 是晶粒面积。\n- 任务：依据第一性原理推导 $\\mathrm{RMS}$，并使用数值进行计算 $3 \\times \\mathrm{RMS}$，结果四舍五入至四位有效数字。\n\n**1.2. 使用提取的已知条件进行验证：**\n- **科学依据：** 该问题明确地定位于半导体制造工艺建模，特别是光刻套刻领域。用于微小畸变的线性模型是标准的、科学上有效的近似。误差分量（平移、放大、旋转、倾斜/非正交性）是工业界和学术界使用的常规术语。\n- **良构问题：** 该问题提供了所有必要的定义、统计特性和数值。套刻矢量和RMS平均值的定义在数学上是精确和无歧义的。可以推导出一个唯一的、有意义的解。\n- **客观性：** 语言是形式化和定量的。不存在主观或基于观点的陈述。\n- 该问题是自洽且内部一致的。\n\n**1.3. 结论与行动：**\n问题有效。将提供一个完整的、有理有据的解答。\n\n### 第 2 步：RMS套刻的推导\n\n套刻矢量 $\\mathbf{O}(\\mathbf{r})$ 是两次曝光产生的印刷位置之差：\n$$\n\\mathbf{O}(\\mathbf{r}) = \\mathbf{r}'_{2} - \\mathbf{r}'_{1}\n$$\n代入给定的变换模型：\n$$\n\\mathbf{O}(\\mathbf{r}) = \\left[ \\mathbf{t}_{2} + \\left( \\mathbf{I} + m_{2}\\mathbf{I} + \\theta_{2}\\mathbf{J} + \\alpha_{2}\\mathbf{H} \\right)\\mathbf{r} \\right] - \\left[ \\mathbf{t}_{1} + \\left( \\mathbf{I} + m_{1}\\mathbf{I} + \\theta_{1}\\mathbf{J} + \\alpha_{1}\\mathbf{H} \\right)\\mathbf{r} \\right]\n$$\n对各项进行分组：\n$$\n\\mathbf{O}(\\mathbf{r}) = (\\mathbf{t}_{2} - \\mathbf{t}_{1}) + \\left[ (m_{2}-m_{1})\\mathbf{I} + (\\theta_{2}-\\theta_{1})\\mathbf{J} + (\\alpha_{2}-\\alpha_{1})\\mathbf{H} \\right]\\mathbf{r}\n$$\n让我们定义差异误差项：$\\Delta\\mathbf{t} = \\mathbf{t}_{2} - \\mathbf{t}_{1}$，$\\Delta m = m_{2} - m_{1}$，$\\Delta\\theta = \\theta_{2} - \\theta_{1}$，以及 $\\Delta\\alpha = \\alpha_{2} - \\alpha_{1}$。套刻矢量变为：\n$$\n\\mathbf{O}(\\mathbf{r}) = \\Delta\\mathbf{t} + (\\Delta m\\,\\mathbf{I} + \\Delta\\theta\\,\\mathbf{J} + \\Delta\\alpha\\,\\mathbf{H})\\mathbf{r}\n$$\n令畸变矩阵为 $\\mathbf{M}_{\\Delta} = \\Delta m\\,\\mathbf{I} + \\Delta\\theta\\,\\mathbf{J} + \\Delta\\alpha\\,\\mathbf{H}$。则 $\\mathbf{O}(\\mathbf{r}) = \\Delta\\mathbf{t} + \\mathbf{M}_{\\Delta}\\mathbf{r}$。\n\n我们需要计算套刻矢量模长的平方期望值，即 $\\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right]$。\n$$\n\\|\\mathbf{O}(\\mathbf{r})\\|^{2} = \\mathbf{O}(\\mathbf{r})^{\\top}\\mathbf{O}(\\mathbf{r}) = (\\Delta\\mathbf{t} + \\mathbf{M}_{\\Delta}\\mathbf{r})^{\\top}(\\Delta\\mathbf{t} + \\mathbf{M}_{\\Delta}\\mathbf{r})\n$$\n$$\n\\|\\mathbf{O}(\\mathbf{r})\\|^{2} = \\Delta\\mathbf{t}^{\\top}\\Delta\\mathbf{t} + 2\\Delta\\mathbf{t}^{\\top}\\mathbf{M}_{\\Delta}\\mathbf{r} + \\mathbf{r}^{\\top}\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta}\\mathbf{r}\n$$\n期望是针对误差参数的分布计算的。利用期望的线性性质：\n$$\n\\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right] = \\mathbb{E}\\left[\\Delta\\mathbf{t}^{\\top}\\Delta\\mathbf{t}\\right] + 2\\mathbb{E}\\left[\\Delta\\mathbf{t}^{\\top}\\mathbf{M}_{\\Delta}\\mathbf{r}\\right] + \\mathbb{E}\\left[\\mathbf{r}^{\\top}\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta}\\mathbf{r}\\right]\n$$\n误差项 $m_i, \\theta_i, \\alpha_i$ 以及 $\\mathbf{t}_i$ 的分量都是均值为零的独立变量。这意味着它们的差值 $\\Delta m, \\Delta\\theta, \\Delta\\alpha$ 以及 $\\Delta\\mathbf{t}$ 的分量的均值也为零。例如，$\\mathbb{E}[\\Delta m] = \\mathbb{E}[m_2] - \\mathbb{E}[m_1] = 0-0=0$。\n交叉项包含 $\\Delta\\mathbf{t}$ 分量与 $\\Delta m, \\Delta\\theta, \\Delta\\alpha$ 的乘积。由于所有这些变量都是独立的且均值为零，它们乘积的期望为零。\n$$\n\\mathbb{E}\\left[\\Delta\\mathbf{t}^{\\top}\\mathbf{M}_{\\Delta}\\mathbf{r}\\right] = \\mathbb{E}[\\Delta\\mathbf{t}]^{\\top}\\mathbb{E}[\\mathbf{M}_{\\Delta}]\\mathbf{r} = \\mathbf{0}^{\\top}\\mathbf{0}\\mathbf{r} = 0\n$$\n因此，模长的平方期望值简化为：\n$$\n\\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right] = \\mathbb{E}\\left[\\Delta\\mathbf{t}^{\\top}\\Delta\\mathbf{t}\\right] + \\mathbf{r}^{\\top}\\mathbb{E}\\left[\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta}\\right]\\mathbf{r}\n$$\n我们分别计算每一项。\n\n1.  **平移项：** $\\mathbb{E}\\left[\\Delta\\mathbf{t}^{\\top}\\Delta\\mathbf{t}\\right]$\n    $\\Delta\\mathbf{t} = (\\Delta t_x, \\Delta t_y)^{\\top} = (t_{2x}-t_{1x}, t_{2y}-t_{1y})^{\\top}$。\n    $\\Delta\\mathbf{t}^{\\top}\\Delta\\mathbf{t} = (\\Delta t_x)^2 + (\\Delta t_y)^2$。\n    $\\mathbb{E}\\left[\\Delta\\mathbf{t}^{\\top}\\Delta\\mathbf{t}\\right] = \\mathbb{E}[(\\Delta t_x)^2] + \\mathbb{E}[(\\Delta t_y)^2]$。\n    由于 $\\mathbb{E}[\\Delta t_x]=0$，$\\mathbb{E}[(\\Delta t_x)^2] = \\mathrm{Var}(\\Delta t_x) = \\mathrm{Var}(t_{2x}-t_{1x})$。由于独立性，$\\mathrm{Var}(t_{2x}-t_{1x}) = \\mathrm{Var}(t_{2x}) + \\mathrm{Var}(t_{1x}) = \\sigma_T^2 + \\sigma_T^2 = 2\\sigma_T^2$。\n    同理，$\\mathbb{E}[(\\Delta t_y)^2] = 2\\sigma_T^2$。\n    因此，$\\mathbb{E}\\left[\\Delta\\mathbf{t}^{\\top}\\Delta\\mathbf{t}\\right] = 2\\sigma_T^2 + 2\\sigma_T^2 = 4\\sigma_T^2$。\n\n2.  **畸变项：** $\\mathbf{r}^{\\top}\\mathbb{E}\\left[\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta}\\right]\\mathbf{r}$\n    首先，计算 $\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta}$。我们有 $\\mathbf{M}_{\\Delta} = \\Delta m\\,\\mathbf{I} + \\Delta\\theta\\,\\mathbf{J} + \\Delta\\alpha\\,\\mathbf{H}$。其转置为 $\\mathbf{M}_{\\Delta}^{\\top} = \\Delta m\\,\\mathbf{I}^{\\top} + \\Delta\\theta\\,\\mathbf{J}^{\\top} + \\Delta\\alpha\\,\\mathbf{H}^{\\top}$。由于 $\\mathbf{I}^{\\top}=\\mathbf{I}$，$\\mathbf{J}^{\\top}=-\\mathbf{J}$，$\\mathbf{H}^{\\top}=\\mathbf{H}$，我们得到 $\\mathbf{M}_{\\Delta}^{\\top} = \\Delta m\\,\\mathbf{I} - \\Delta\\theta\\,\\mathbf{J} + \\Delta\\alpha\\,\\mathbf{H}$。\n    乘积为 $\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta} = (\\Delta m\\,\\mathbf{I} - \\Delta\\theta\\,\\mathbf{J} + \\Delta\\alpha\\,\\mathbf{H}) (\\Delta m\\,\\mathbf{I} + \\Delta\\theta\\,\\mathbf{J} + \\Delta\\alpha\\,\\mathbf{H})$。\n    使用矩阵关系式 $\\mathbf{J}^2 = -\\mathbf{I}$，$\\mathbf{H}^2 = \\mathbf{I}$，$\\mathbf{JH} = -\\mathbf{HJ}$，$\\mathbf{IJ}=\\mathbf{J}$，$\\mathbf{IH}=\\mathbf{H}$，展开后得到：\n    $\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta} = \\Delta m^2\\mathbf{I} + \\Delta\\theta^2\\mathbf{I} + \\Delta\\alpha^2\\mathbf{I} + 2\\Delta m\\Delta\\alpha\\mathbf{H} - 2\\Delta\\theta\\Delta\\alpha\\mathbf{JH}$。\n    取期望并使用独立性和零均值性质（$\\mathbb{E}[\\Delta m\\Delta\\alpha]=0$，$\\mathbb{E}[\\Delta\\theta\\Delta\\alpha]=0$）：\n    $\\mathbb{E}[\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta}] = (\\mathbb{E}[\\Delta m^2] + \\mathbb{E}[\\Delta\\theta^2] + \\mathbb{E}[\\Delta\\alpha^2])\\mathbf{I}$。\n    与平移项类似，$\\mathbb{E}[\\Delta m^2] = \\mathrm{Var}(\\Delta m) = 2\\sigma_M^2$，$\\mathbb{E}[\\Delta\\theta^2] = 2\\sigma_{\\theta}^2$，以及 $\\mathbb{E}[\\Delta\\alpha^2] = 2\\sigma_{\\alpha}^2$。\n    所以，$\\mathbb{E}[\\mathbf{M}_{\\Delta}^{\\top}\\mathbf{M}_{\\Delta}] = (2\\sigma_M^2 + 2\\sigma_{\\theta}^2 + 2\\sigma_{\\alpha}^2)\\mathbf{I}$。\n    畸变项变为 $ \\mathbf{r}^{\\top} \\left( 2(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2)\\mathbf{I} \\right) \\mathbf{r} = 2(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2) \\mathbf{r}^{\\top}\\mathbf{r}$。\n    对于 $\\mathbf{r}=(x,y)^{\\top}$，$\\mathbf{r}^{\\top}\\mathbf{r} = x^2+y^2$。该项为 $2(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2)(x^2+y^2)$。\n\n结合这两项，位置 $\\mathbf{r}$ 处的套刻平方期望值为：\n$$\n\\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right] = 4\\sigma_T^2 + 2(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2)(x^2+y^2)\n$$\n\n现在，我们计算晶粒平均RMS套刻。这涉及到在晶粒区域 $R=[-a,a] \\times [-b,b]$ 上对 $\\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right]$ 进行积分，然后除以面积 $|R|=(2a)(2b)=4ab$。\n$$\n\\frac{1}{|R|} \\iint_{R} \\mathbb{E}\\left[ \\|\\mathbf{O}(\\mathbf{r})\\|^{2} \\right]\\, \\mathrm{d}x\\,\\mathrm{d}y = \\frac{1}{4ab} \\iint_{R} \\left( 4\\sigma_T^2 + 2(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2)(x^2+y^2) \\right) \\mathrm{d}x\\,\\mathrm{d}y\n$$\n积分可以分开：\n$$\n\\frac{1}{4ab} \\left( \\iint_{R} 4\\sigma_T^2 \\,\\mathrm{d}A + \\iint_{R} 2(\\sigma_M^2 + \\dots)(x^2+y^2) \\,\\mathrm{d}A \\right)\n$$\n第一个积分是 $4\\sigma_T^2 \\iint_{R} \\mathrm{d}A = 4\\sigma_T^2 |R| = 16ab\\sigma_T^2$。\n第二个积分需要将 $x^2+y^2$ 在矩形区域上积分：\n$$\n\\iint_{R} (x^2+y^2) \\,\\mathrm{d}x\\,\\mathrm{d}y = \\int_{-b}^{b} \\int_{-a}^{a} (x^2+y^2) \\,\\mathrm{d}x\\,\\mathrm{d}y\n$$\n$$\n= \\int_{-b}^{b} \\left[ \\frac{x^3}{3} + y^2x \\right]_{-a}^{a} \\,\\mathrm{d}y = \\int_{-b}^{b} \\left( \\frac{2a^3}{3} + 2ay^2 \\right) \\,\\mathrm{d}y\n$$\n$$\n= \\left[ \\frac{2a^3}{3}y + \\frac{2a}{3}y^3 \\right]_{-b}^{b} = \\frac{4a^3b}{3} + \\frac{4ab^3}{3} = \\frac{4ab}{3}(a^2+b^2)\n$$\n这个积分也等于 $|R|\\frac{a^2+b^2}{3}$。\n代回到平均值计算中：\n$$\n\\mathrm{RMS}^2 = \\frac{1}{4ab} \\left( 16ab\\sigma_T^2 + 2(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2) \\frac{4ab}{3}(a^2+b^2) \\right)\n$$\n$$\n\\mathrm{RMS}^2 = 4\\sigma_T^2 + \\frac{2}{3}(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2)(a^2+b^2)\n$$\nRMS套刻是此表达式的平方根：\n$$\n\\mathrm{RMS} = \\sqrt{4\\sigma_T^2 + \\frac{2}{3}(\\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2)(a^2+b^2)}\n$$\n\n### 第 3 步：数值计算\n\n已知条件：\n- $a = 5\\,\\mathrm{mm} = 5 \\times 10^6\\,\\mathrm{nm}$\n- $b = 4\\,\\mathrm{mm} = 4 \\times 10^6\\,\\mathrm{nm}$\n- $\\sigma_T = 0.8\\,\\mathrm{nm}$\n- $\\sigma_M = 1.5 \\times 10^{-7}$\n- $\\sigma_{\\theta} = 3.5 \\times 10^{-7}$\n- $\\sigma_{\\alpha} = 1.0 \\times 10^{-7}$\n\n首先，计算标准差的平方：\n- $\\sigma_T^2 = (0.8)^2 = 0.64\\,\\mathrm{nm}^2$\n- $\\sigma_M^2 = (1.5 \\times 10^{-7})^2 = 2.25 \\times 10^{-14}$\n- $\\sigma_{\\theta}^2 = (3.5 \\times 10^{-7})^2 = 12.25 \\times 10^{-14}$\n- $\\sigma_{\\alpha}^2 = (1.0 \\times 10^{-7})^2 = 1.00 \\times 10^{-14}$\n\n接下来，计算 $\\mathrm{RMS}^2$ 的各项。所有单位都将以nm表示。\n- 平移分量贡献：$4\\sigma_T^2 = 4 \\times 0.64\\,\\mathrm{nm}^2 = 2.56\\,\\mathrm{nm}^2$。\n- 畸变分量贡献：\n    - sigma平方和：$\\Sigma_{\\sigma^2} = \\sigma_M^2 + \\sigma_{\\theta}^2 + \\sigma_{\\alpha}^2 = (2.25 + 12.25 + 1.00) \\times 10^{-14} = 15.5 \\times 10^{-14}$。\n    - 尺寸平方和：$a^2+b^2 = (5 \\times 10^6)^2 + (4 \\times 10^6)^2 = (25 \\times 10^{12}) + (16 \\times 10^{12}) = 41 \\times 10^{12}\\,\\mathrm{nm}^2$。\n    - 畸变项：$\\frac{2}{3}\\Sigma_{\\sigma^2}(a^2+b^2) = \\frac{2}{3}(15.5 \\times 10^{-14})(41 \\times 10^{12})\\,\\mathrm{nm}^2$。\n    - $= \\frac{2 \\times 15.5 \\times 41}{3} \\times 10^{-2}\\,\\mathrm{nm}^2 = \\frac{1271}{3} \\times 10^{-2}\\,\\mathrm{nm}^2 \\approx 423.666... \\times 10^{-2}\\,\\mathrm{nm}^2 \\approx 4.23667\\,\\mathrm{nm}^2$。\n\n现在，计算 $\\mathrm{RMS}^2$：\n$$\n\\mathrm{RMS}^2 = 2.56\\,\\mathrm{nm}^2 + 4.23667\\,\\mathrm{nm}^2 = 6.79667\\,\\mathrm{nm}^2\n$$\n计算 $\\mathrm{RMS}$：\n$$\n\\mathrm{RMS} = \\sqrt{6.79667}\\,\\mathrm{nm} \\approx 2.6070417\\,\\mathrm{nm}\n$$\n最后，计算3-sigma套刻预算：\n$$\n3 \\times \\mathrm{RMS} = 3 \\times 2.6070417\\,\\mathrm{nm} \\approx 7.821125\\,\\mathrm{nm}\n$$\n四舍五入到四位有效数字得到 $7.821\\,\\mathrm{nm}$。",
            "answer": "$$\\boxed{7.821}$$"
        }
    ]
}