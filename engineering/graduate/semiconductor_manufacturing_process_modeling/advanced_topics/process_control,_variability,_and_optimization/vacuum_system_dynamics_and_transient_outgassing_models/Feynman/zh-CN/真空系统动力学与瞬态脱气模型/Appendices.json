{
    "hands_on_practices": [
        {
            "introduction": "我们从一个理想化的真空系统开始。这个练习将指导您从基本物理原理（理想气体定律和质量守恒）出发，推导并求解描述腔室压力随时间变化的基本微分方程。通过这个实践，您将掌握真空系统分析的核心概念，即泵抽时间常数 $\\tau = V/S_{\\mathrm{eff}}$，为后续更复杂的模型奠定坚实基础。",
            "id": "4177668",
            "problem": "半导体制造设备中的一个单晶圆工艺腔室由一个涡轮分子泵和一个前级泵抽真空。假设腔室内的气体在温度 $T=300\\ \\mathrm{K}$ 下是空间均匀且等温的。腔室体积为 $V=0.1\\ \\mathrm{m^3}$。在腔室处的有效抽速（定义为在腔室压力下的体积流率）是恒定的，为 $S_{\\mathrm{eff}}=1000\\ \\mathrm{L/s}$。由瞬态出气和泄漏引起的内部气体负载可忽略不计，因此取净内部生成率为 $G=0$。腔室的初始压力为 $p_0=10\\ \\mathrm{Pa}$，而您希望达到 $p=0.1\\ \\mathrm{Pa}$。\n\n从理想气体定律和腔室内分子数的质量守恒平衡出发，并利用有效抽速的定义将流出量与数密度关联起来，推导压力 $p(t)$ 的控制常微分方程，并求解该方程以获得从 $p_0$ 达到 $p$ 所需的时间 $t$。然后，使用给定参数对 $t$ 进行数值计算。以秒为单位表示您的最终答案，并将答案四舍五入至四位有效数字。使用 $1\\ \\mathrm{L}=10^{-3}\\ \\mathrm{m^3}$。",
            "solution": "首先验证该问题是有科学依据、提法明确、客观且自洽的。给定的参数对于半导体工艺腔室和真空系统在物理上是现实的。所要求的基于理想气体定律和质量守恒的建模方法是分析真空系统动力学的标准且正确的方法。因此，该问题被认为是有效的，可以寻求其解。\n\n控制真空腔室内压力变化的基本原理是质量守恒，可以表示为腔室体积 $V$ 内气体分子数 $N$ 的关系。分子数的变化率是进入腔室的分子速率（流入）与离开腔室的分子速率（流出）之差。\n$$\n\\frac{dN}{dt} = \\text{流入速率} - \\text{流出速率}\n$$\n流入速率来自净内部气体负载 $G$，题目说明其可忽略不计，因此 $G=0$。\n流出速率是单位时间内被泵抽走的分子数。有效抽速 $S_{\\mathrm{eff}}$ 定义为单位时间内抽走的气体体积，该体积是在腔室内部压力 $p$ 下测量的。单位时间内抽走的分子数是分子数密度 $n=N/V$ 与有效抽速 $S_{\\mathrm{eff}}$ 的乘积。\n$$\n\\text{流出速率} = n S_{\\mathrm{eff}} = \\frac{N}{V} S_{\\mathrm{eff}}\n$$\n将这些代入守恒方程可得：\n$$\n\\frac{dN}{dt} = 0 - \\frac{N}{V} S_{\\mathrm{eff}} = -\\frac{S_{\\mathrm{eff}}}{V} N\n$$\n为了用压力 $p$ 来表示这个方程，我们对体积 $V$ 中、温度 $T$ 下的 $N$ 个分子使用理想气体定律：\n$$\npV = N k_B T\n$$\n其中 $k_B$ 是玻尔兹曼常数。由于体积 $V$ 和温度 $T$ 是恒定的，我们可以通过对理想气体定律关于时间 $t$ 求导，将 $N$ 的变化率与 $p$ 的变化率联系起来：\n$$\nV \\frac{dp}{dt} = k_B T \\frac{dN}{dt}\n$$\n现在，我们将质量平衡方程中 $\\frac{dN}{dt}$ 的表达式代入理想气体定律的这种微分形式中：\n$$\nV \\frac{dp}{dt} = k_B T \\left( -\\frac{S_{\\mathrm{eff}}}{V} N \\right)\n$$\n为了从此方程中消去 $N$，我们将理想气体定律重排为 $N = \\frac{pV}{k_B T}$ 并将其代入右侧：\n$$\nV \\frac{dp}{dt} = k_B T \\left( -\\frac{S_{\\mathrm{eff}}}{V} \\frac{pV}{k_B T} \\right)\n$$\n项 $V$ 和 $k_B T$ 被消去，得到压力 $p(t)$ 的控制常微分方程 (ODE)：\n$$\n\\frac{dp}{dt} = -\\frac{S_{\\mathrm{eff}}}{V} p\n$$\n这是一个一阶线性齐次微分方程。为了求解从初始压力 $p_0$ 抽真空至最终压力 $p$ 所需的时间 $t$，我们可以分离变量：\n$$\n\\frac{dp}{p} = -\\frac{S_{\\mathrm{eff}}}{V} dt\n$$\n我们对这个方程从初始条件 $(t=0, p=p_0)$ 积分到最终状态 $(t, p)$：\n$$\n\\int_{p_0}^{p} \\frac{1}{p'} dp' = -\\int_{0}^{t} \\frac{S_{\\mathrm{eff}}}{V} dt'\n$$\n由于 $S_{\\mathrm{eff}}$ 和 $V$ 是常数，积分得到：\n$$\n[\\ln|p'|]_{p_0}^{p} = -\\frac{S_{\\mathrm{eff}}}{V} [t']_{0}^{t}\n$$\n由于压力是一个正值，所以绝对值是不必要的。\n$$\n\\ln(p) - \\ln(p_0) = -\\frac{S_{\\mathrm{eff}}}{V} t\n$$\n利用对数的性质，我们得到：\n$$\n\\ln\\left(\\frac{p}{p_0}\\right) = -\\frac{S_{\\mathrm{eff}}}{V} t\n$$\n求解时间 $t$：\n$$\nt = -\\frac{V}{S_{\\mathrm{eff}}} \\ln\\left(\\frac{p}{p_0}\\right) = \\frac{V}{S_{\\mathrm{eff}}} \\ln\\left(\\frac{p_0}{p}\\right)\n$$\n这是抽气时间的解析表达式。现在我们使用给定的参数对该表达式进行数值计算。首先，我们必须确保所有单位在国际单位制(SI)中是一致的。\n给定值为：\n腔室体积, $V = 0.1\\ \\mathrm{m^3}$。\n初始压力, $p_0 = 10\\ \\mathrm{Pa}$。\n最终压力, $p = 0.1\\ \\mathrm{Pa}$。\n有效抽速, $S_{\\mathrm{eff}} = 1000\\ \\mathrm{L/s}$。\n\n我们使用给定的换算关系 $1\\ \\mathrm{L} = 10^{-3}\\ \\mathrm{m^3}$ 将抽速从升/秒转换为立方米/秒：\n$$\nS_{\\mathrm{eff}} = 1000\\ \\frac{\\mathrm{L}}{\\mathrm{s}} \\times \\frac{10^{-3}\\ \\mathrm{m^3}}{1\\ \\mathrm{L}} = 1.0\\ \\mathrm{m^3/s}\n$$\n现在将数值代入 $t$ 的方程中：\n$$\nt = \\frac{0.1\\ \\mathrm{m^3}}{1.0\\ \\mathrm{m^3/s}} \\ln\\left(\\frac{10\\ \\mathrm{Pa}}{0.1\\ \\mathrm{Pa}}\\right)\n$$\n$$\nt = 0.1 \\ln(100)\n$$\n100 的自然对数是：\n$$\n\\ln(100) = \\ln(10^2) = 2\\ln(10) \\approx 4.605170\n$$\n所以，所需时间为：\n$$\nt \\approx 0.1 \\times 4.605170 = 0.4605170\\ \\mathrm{s}\n$$\n题目要求答案四舍五入到四位有效数字。前四位有效数字是 $4$、$6$、$0$ 和 $5$。下一位数字是 $1$，小于 $5$，因此我们舍去。\n$$\nt \\approx 0.4605\\ \\mathrm{s}\n$$",
            "answer": "$$\\boxed{0.4605}$$"
        },
        {
            "introduction": "在实际的半导体制造中，真空腔室内通常是多种气体的混合物，并且腔体壁和晶圆会持续释放气体（释气）。这个练习将模型扩展到多组分气体系统，并引入了恒定的释气源。通过求解各组分的分压演化，您将学会如何处理与组分相关的泵速，并理解释气率如何决定系统的最终极限真空度。",
            "id": "4177708",
            "problem": "半导体制造工具中的单晶圆工艺腔室在晶圆加载后被抽真空。腔室内的气体是氢气（$\\mathrm{H}_2$）、水蒸气（$\\mathrm{H}_2\\mathrm{O}$）和氮气（$\\mathrm{N}_2$）的理想混合物。腔室体积为 $V = 0.15\\,\\mathrm{m^3}$，气体温度均匀且恒定。腔室通过一个受流导限制的歧管连接到高真空泵，这导致在腔室端口处，不同气体的有效抽速不同：$S_{\\mathrm{H}_2} = 350\\,\\mathrm{L/s}$、$S_{\\mathrm{H}_2\\mathrm{O}} = 250\\,\\mathrm{L/s}$ 和 $S_{\\mathrm{N}_2} = 300\\,\\mathrm{L/s}$。晶圆和内壁表面以恒定的通量对每种气体进行释气（通量定义为压力-体积流率，单位为 $\\mathrm{Pa\\,m^3/s}$）：$Q_{\\mathrm{H}_2} = 2.0 \\times 10^{-5}\\,\\mathrm{Pa\\,m^3/s}$、$Q_{\\mathrm{H}_2\\mathrm{O}} = 6.0 \\times 10^{-5}\\,\\mathrm{Pa\\,m^3/s}$ 和 $Q_{\\mathrm{N}_2} = 1.5 \\times 10^{-5}\\,\\mathrm{Pa\\,m^3/s}$。在时间 $t=0$ 时，分压分别为 $p_{\\mathrm{H}_2}(0) = 0.40\\,\\mathrm{Pa}$、$p_{\\mathrm{H}_2\\mathrm{O}}(0) = 1.20\\,\\mathrm{Pa}$ 和 $p_{\\mathrm{N}_2}(0) = 0.80\\,\\mathrm{Pa}$。\n\n假设气体为理想混合物，各组分之间无相互转化，并使用基于组分的质量守恒、理想气体定律和有效抽速的定义来模拟瞬态抽真空过程。使用以上数据：\n\n1. 对于给定的恒定通量 $Q_i$ 和有效抽速 $S_i$，推导每个分压 $p_i(t)$ 随时间演变的控制常微分方程。\n2. 针对每种气体，在初始条件 $p_i(0)$ 下求解 $p_i(t)$。\n3. 计算总压 $p_{\\mathrm{tot}}(t) = p_{\\mathrm{H_2}}(t) + p_{\\mathrm{H_2O}}(t) + p_{\\mathrm{N_2}}(t)$ 首次达到阈值 $p_{\\mathrm{thr}} = 1.0 \\times 10^{-2}\\,\\mathrm{Pa}$ 的时间 $t_{\\mathrm{thr}}$。\n\n将最终时间 $t_{\\mathrm{thr}}$ 以秒为单位表示，并将答案四舍五入到四位有效数字。在代入数值之前，所有中间步骤必须以符号形式显示。",
            "solution": "该问题经检验在科学上是成立的、良态的、客观的且自洽的。所提供的数据是一致的，并且对于模拟真空系统动力学是物理上合理的。我们开始求解。\n\n解答按要求分为三个部分：推导控制方程，求解每种气体的方程，以及计算达到目标压力所需的时间。\n\n**1. 控制常微分方程（ODE）的推导**\n\n腔室中每种气体组分 $i$ 的分压动力学由质量平衡方程控制。对于恒定的体积 $V$ 和恒定的温度 $T$，气体量 $p_i V$ 的变化率等于进入该体积的总气体通量减去离开该体积的总气体通量。\n总通量是来自内部释气的气体通量 $Q_i$ 与被泵抽走的气体通量 $Q_{\\text{pump},i}$ 的代数和。\n\n组分 $i$ 的质量平衡可以用通量（压力-体积流率）表示为：\n$$V \\frac{d p_i(t)}{dt} = \\sum Q_{\\text{in}} - \\sum Q_{\\text{out}}$$\n在此系统中，唯一的气体来源是内壁表面的释气，其通量为恒定的 $Q_i$。唯一的汇是真空泵。被泵抽走的通量定义为泵入口处的分压 $p_i(t)$ 与该组分的有效抽速 $S_i$ 的乘积。\n$$Q_{\\text{in}} = Q_i$$\n$$Q_{\\text{out}} = S_i p_i(t)$$\n将这些代入平衡方程得到：\n$$V \\frac{d p_i(t)}{dt} = Q_i - S_i p_i(t)$$\n这就是组分 $i$ 的分压 $p_i(t)$ 的控制常微分方程。它是一个一阶线性非齐次常微分方程。我们可以将其写成标准形式：\n$$\\frac{d p_i(t)}{dt} + \\frac{S_i}{V} p_i(t) = \\frac{Q_i}{V}$$\n\n**2. 分压 $p_i(t)$ 的求解**\n\n该常微分方程的形式为 $\\frac{dy}{dt} + ay = b$，其中 $y(t) = p_i(t)$，$a = \\frac{S_i}{V}$，$b = \\frac{Q_i}{V}$。其通解可以使用积分因子 $I(t) = \\exp\\left(\\int a \\, dt\\right) = \\exp\\left(\\frac{S_i}{V}t\\right)$ 求得。\n解由下式给出：\n$$p_i(t) = \\exp\\left(-\\frac{S_i}{V}t\\right) \\left[ \\int \\exp\\left(\\frac{S_i}{V}t\\right) \\frac{Q_i}{V} dt + C \\right]$$\n其中 $C$ 是积分常数。对右侧进行积分：\n$$p_i(t) = \\exp\\left(-\\frac{S_i}{V}t\\right) \\left[ \\frac{Q_i}{V} \\frac{V}{S_i} \\exp\\left(\\frac{S_i}{V}t\\right) + C \\right]$$\n$$p_i(t) = \\frac{Q_i}{S_i} + C \\exp\\left(-\\frac{S_i}{V}t\\right)$$\n项 $p_{i, \\infty} = \\frac{Q_i}{S_i}$ 表示组分 $i$ 在稳态（$t \\to \\infty$）下的极限分压，此时释气速率等于抽气速率。\n常数 $C$ 由初始条件 $p_i(t=0) = p_i(0)$ 确定。\n$$p_i(0) = \\frac{Q_i}{S_i} + C \\implies C = p_i(0) - \\frac{Q_i}{S_i}$$\n将 $C$ 代回解中，得到每种组分分压随时间演变的特解：\n$$p_i(t) = \\frac{Q_i}{S_i} + \\left( p_i(0) - \\frac{Q_i}{S_i} \\right) \\exp\\left(-\\frac{S_i}{V}t\\right)$$\n这也可以用每种组分的特征抽气时间常数 $\\tau_i = \\frac{V}{S_i}$ 来表示：\n$$p_i(t) = p_{i, \\infty} + \\left( p_i(0) - p_{i, \\infty} \\right) \\exp\\left(-\\frac{t}{\\tau_i}\\right)$$\n\n**3. 时间 $t_{\\mathrm{thr}}$ 的计算**\n\n首先，所有参数必须使用统一的国际单位制（SI）单位。腔室体积 $V$ 的单位是 $\\mathrm{m^3}$，通量 $Q_i$ 的单位是 $\\mathrm{Pa\\,m^3/s}$，压力 $p_i$ 的单位是 $\\mathrm{Pa}$。抽速 $S_i$ 以 $\\mathrm{L/s}$ 为单位给出，必须使用换算关系 $1\\,\\mathrm{L} = 10^{-3}\\,\\mathrm{m^3}$ 将其转换为 $\\mathrm{m^3/s}$。\n\n已知值：\n$V = 0.15\\,\\mathrm{m^3}$\n$p_{\\mathrm{thr}} = 1.0 \\times 10^{-2}\\,\\mathrm{Pa}$\n\n各组分数据：\n氢气（$\\mathrm{H}_2$）：\n$S_{\\mathrm{H}_2} = 350\\,\\mathrm{L/s} = 0.350\\,\\mathrm{m^3/s}$\n$Q_{\\mathrm{H}_2} = 2.0 \\times 10^{-5}\\,\\mathrm{Pa\\,m^3/s}$\n$p_{\\mathrm{H}_2}(0) = 0.40\\,\\mathrm{Pa}$\n\n水蒸气（$\\mathrm{H}_2\\mathrm{O}$）：\n$S_{\\mathrm{H}_2\\mathrm{O}} = 250\\,\\mathrm{L/s} = 0.250\\,\\mathrm{m^3/s}$\n$Q_{\\mathrm{H}_2\\mathrm{O}} = 6.0 \\times 10^{-5}\\,\\mathrm{Pa\\,m^3/s}$\n$p_{\\mathrm{H}_2\\mathrm{O}}(0) = 1.20\\,\\mathrm{Pa}$\n\n氮气（$\\mathrm{N}_2$）：\n$S_{\\mathrm{N}_2} = 300\\,\\mathrm{L/s} = 0.300\\,\\mathrm{m^3/s}$\n$Q_{\\mathrm{N}_2} = 1.5 \\times 10^{-5}\\,\\mathrm{Pa\\,m^3/s}$\n$p_{\\mathrm{N}_2}(0) = 0.80\\,\\mathrm{Pa}$\n\n接下来，我们计算每种组分的极限压力 $p_{i, \\infty}$ 和时间常数 $\\tau_i$。\n\n对于 $\\mathrm{H}_2$：\n$p_{\\mathrm{H}_2, \\infty} = \\frac{Q_{\\mathrm{H}_2}}{S_{\\mathrm{H}_2}} = \\frac{2.0 \\times 10^{-5}}{0.350} \\approx 5.714 \\times 10^{-5}\\,\\mathrm{Pa}$\n$\\tau_{\\mathrm{H}_2} = \\frac{V}{S_{\\mathrm{H}_2}} = \\frac{0.15}{0.350} \\approx 0.4286\\,\\mathrm{s}$\n\n对于 $\\mathrm{H}_2\\mathrm{O}$：\n$p_{\\mathrm{H}_2\\mathrm{O}, \\infty} = \\frac{Q_{\\mathrm{H}_2\\mathrm{O}}}{S_{\\mathrm{H}_2\\mathrm{O}}} = \\frac{6.0 \\times 10^{-5}}{0.250} = 2.4 \\times 10^{-4}\\,\\mathrm{Pa}$\n$\\tau_{\\mathrm{H}_2\\mathrm{O}} = \\frac{V}{S_{\\mathrm{H}_2\\mathrm{O}}} = \\frac{0.15}{0.250} = 0.600\\,\\mathrm{s}$\n\n对于 $\\mathrm{N}_2$：\n$p_{\\mathrm{N}_2, \\infty} = \\frac{Q_{\\mathrm{N}_2}}{S_{\\mathrm{N}_2}} = \\frac{1.5 \\times 10^{-5}}{0.300} = 5.0 \\times 10^{-5}\\,\\mathrm{Pa}$\n$\\tau_{\\mathrm{N}_2} = \\frac{V}{S_{\\mathrm{N}_2}} = \\frac{0.15}{0.300} = 0.500\\,\\mathrm{s}$\n\n在时间 $t$ 时腔室内的总压力是各分压之和：\n$p_{\\mathrm{tot}}(t) = p_{\\mathrm{H}_2}(t) + p_{\\mathrm{H}_2\\mathrm{O}}(t) + p_{\\mathrm{N}_2}(t)$\n我们需要找到时间 $t_{\\mathrm{thr}}$，使得 $p_{\\mathrm{tot}}(t_{\\mathrm{thr}}) = p_{\\mathrm{thr}}$。\n$$p_{\\mathrm{thr}} = \\sum_{i} \\left[ p_{i, \\infty} + (p_i(0) - p_{i, \\infty}) \\exp\\left(-\\frac{t_{\\mathrm{thr}}}{\\tau_i}\\right) \\right]$$\n该方程可以重新整理为：\n$$p_{\\mathrm{thr}} - \\sum_i p_{i, \\infty} = \\sum_i (p_i(0) - p_{i, \\infty}) \\exp\\left(-\\frac{t_{\\mathrm{thr}}}{\\tau_i}\\right)$$\n总极限压力为 $p_{\\mathrm{tot}, \\infty} = \\sum_i p_{i, \\infty} \\approx 5.714 \\times 10^{-5} + 2.4 \\times 10^{-4} + 5.0 \\times 10^{-5} \\approx 3.471 \\times 10^{-4}\\,\\mathrm{Pa}$。\n将数值代入关于 $t_{\\mathrm{thr}}$ 的方程中：\n$$1.0 \\times 10^{-2} - 3.471 \\times 10^{-4} = (0.40 - 5.714 \\times 10^{-5}) \\exp\\left(-\\frac{t_{\\mathrm{thr}}}{0.4286}\\right) + (1.20 - 2.4 \\times 10^{-4}) \\exp\\left(-\\frac{t_{\\mathrm{thr}}}{0.600}\\right) + (0.80 - 5.0 \\times 10^{-5}) \\exp\\left(-\\frac{t_{\\mathrm{thr}}}{0.500}\\right)$$\n$$9.653 \\times 10^{-3} \\approx 0.3999 \\exp(-2.333 t_{\\mathrm{thr}}) + 1.1998 \\exp(-1.667 t_{\\mathrm{thr}}) + 0.79995 \\exp(-2.000 t_{\\mathrm{thr}})$$\n这是一个关于 $t_{\\mathrm{thr}}$ 的超越方程，没有简单的解析解。它必须通过数值方法求解。使用数值求根方法（例如牛顿-拉弗森法或二分法），我们可以确定满足此方程的 $t_{\\mathrm{thr}}$ 的值。\n\n对该方程进行数值求解，得到时间 $t_{\\mathrm{thr}}$。\n得到的值为 $t_{\\mathrm{thr}} \\approx 3.0441\\,\\mathrm{s}$。\n按要求将结果四舍五入到四位有效数字，我们得到 $t_{\\mathrm{thr}} = 3.044\\,\\mathrm{s}$。",
            "answer": "$$\\boxed{3.044}$$"
        },
        {
            "introduction": "为了实现高精度的过程建模，我们必须考虑更为复杂的物理现象，例如随时间衰减的瞬态释气和跨越不同流态（分子流到粘性流）且依赖于压力的气导。这项综合性实践要求您建立一个非线性的常微分方程，该方程整合了这些高级模型。此练习的重点在于培养您将复杂的物理模型转化为数值求解方案的能力，这在现代真空系统设计与分析中是一项至关重要的技能。",
            "id": "4177664",
            "problem": "考虑一个用于半导体制造的集总参数真空室，其内部气体动力学主要由瞬态出气和通过管路连接的泵的抽气过程决定，该管路同时支持分子流和粘性流。从腔室内气体的质量守恒声明和理想气体定律 (IGL) 出发，推导一个关于腔室压力 $p(t)$ 的控制常微分方程 (ODE)，该方程需一致地包含一个依赖于压力的粘性流导 $C_\\mathrm{visc}(p)$。假设如下：\n\n- 腔室具有固定体积 $V$（单位：$\\mathrm{m}^3$）。\n- 来自瞬态出气的气体通量被建模为一个已知函数 $Q_\\mathrm{outg}(t)$（单位：$\\mathrm{Pa} \\cdot \\mathrm{m}^3/\\mathrm{s}$），该函数汇集了表面解吸和体扩散的贡献。\n- 气体被抽至基础压力为 $p_b$（单位：$\\mathrm{Pa}$）的泵，这一过程通过总流导为 $C_\\mathrm{tot}(p) = C_\\mathrm{mol} + C_\\mathrm{visc}(p)$（单位：$\\mathrm{m}^3/\\mathrm{s}$）的管路进行建模，其中 $C_\\mathrm{mol}$ 是恒定的分子流流导（与压力无关），而 $C_\\mathrm{visc}(p)$ 则捕捉了依赖于压力的层流粘性流效应。\n- 离开腔室的净通量为 $Q_\\mathrm{pump}(p) = C_\\mathrm{tot}(p)\\,\\big(p - p_b\\big)$（单位：$\\mathrm{Pa} \\cdot \\mathrm{m}^3/\\mathrm{s}$）。\n- 理想气体温度均匀且恒定，因此在固定体积 $V$ 下，理想气体定律提供了气体量和压力之间的直接关系。\n\n对于粘性贡献，使用以下具有物理依据的参数化方法：\n- $C_\\mathrm{visc}(p) = k_v\\,p$，其中 $k_v$（单位：$\\mathrm{m}^3/(\\mathrm{s}\\cdot\\mathrm{Pa})$）是一个由管路几何形状和气体在层流、可压缩区域的粘度决定的常数。\n- 分子流贡献 $C_\\mathrm{mol}$（单位：$\\mathrm{m}^3/\\mathrm{s}$）是恒定的。\n\n将出气通量建模为扩散限制的表面项和一阶体积项之和：\n- $Q_\\mathrm{outg}(t) = \\dfrac{Q_{s0}}{1 + \\sqrt{t/\\tau_s}} + Q_{v0}\\,\\mathrm{e}^{-t/\\tau_v}$，其参数为 $Q_{s0}$（单位：$\\mathrm{Pa}\\cdot\\mathrm{m}^3/\\mathrm{s}$）、$\\tau_s$（单位：$\\mathrm{s}$）、$Q_{v0}$（单位：$\\mathrm{Pa}\\cdot\\mathrm{m}^3/\\mathrm{s}$）和 $\\tau_v$（单位：$\\mathrm{s}$）。\n\n任务要求：\n1. 从质量守恒和理想气体定律出发，推导包含指定 $C_\\mathrm{visc}(p)$ 的关于 $p(t)$ 的集总参数常微分方程。\n2. 描述一种适用于此非线性常微分方程的数值积分方案，该方案在分子流和粘性流两种状态下都能保持准确和稳定。\n3. 实现一个完整的、可运行的程序，对下面定义的每个测试用例，在 $t=0$ 到 $t=t_\\mathrm{end}$ 的区间上对常微分方程进行积分，并输出最终的压力值。\n\n所有用例的初始条件：\n- $p(0) = p_0$。\n\n本问题不涉及角度单位。所有物理答案必须以 $\\mathrm{Pa}$ 和 $\\mathrm{s}$ 表示。您的程序必须生成单行输出，其中包含用方括号括起来的逗号分隔的结果列表。每个结果必须是最终压力 $p(t_\\mathrm{end})$，以 $\\mathrm{Pa}$ 为单位，四舍五入到六位小数，并按测试用例的顺序排列。\n\n使用以下测试套件，它探测了不同的流态和边界情况：\n- 测试用例 1（两种流态均活跃的一般情况）：\n  - $V = 0.1$, $C_\\mathrm{mol} = 0.5$, $k_v = 0.02$, $p_b = 0$, $p_0 = 100$, $Q_{s0} = 0.05$, $\\tau_s = 100$, $Q_{v0} = 0.02$, $\\tau_v = 200$, $t_\\mathrm{end} = 200$。\n- 测试用例 2（边界情况：纯分子流）：\n  - $V = 0.1$, $C_\\mathrm{mol} = 0.5$, $k_v = 0$, $p_b = 0$, $p_0 = 100$, $Q_{s0} = 0.05$, $\\tau_s = 100$, $Q_{v0} = 0.02$, $\\tau_v = 200$, $t_\\mathrm{end} = 200$。\n- 测试用例 3（边界情况：非零泵基础压力）：\n  - $V = 0.1$, $C_\\mathrm{mol} = 0.3$, $k_v = 0.01$, $p_b = 1$, $p_0 = 2$, $Q_{s0} = 0.005$, $\\tau_s = 300$, $Q_{v0} = 0$, $\\tau_v = 1$, $t_\\mathrm{end} = 500$。\n- 测试用例 4（边界情况：高压下的强粘性非线性）：\n  - $V = 0.1$, $C_\\mathrm{mol} = 0.1$, $k_v = 0.2$, $p_b = 0$, $p_0 = 500$, $Q_{s0} = 0.2$, $\\tau_s = 50$, $Q_{v0} = 0.1$, $\\tau_v = 50$, $t_\\mathrm{end} = 50$。\n- 测试用例 5（边界情况：零出气，抽气至基础压力）：\n  - $V = 0.1$, $C_\\mathrm{mol} = 0.4$, $k_v = 0.05$, $p_b = 0$, $p_0 = 5$, $Q_{s0} = 0$, $\\tau_s = 1$, $Q_{v0} = 0$, $\\tau_v = 1$, $t_\\mathrm{end} = 100$。\n\n您的程序应生成单行输出，其中包含用方括号括起来的逗号分隔的结果列表（例如，$[p_1,p_2,p_3,p_4,p_5]$），其中 $p_i$ 是测试用例 1 到 5 的最终压力，每个压力值都以 $\\mathrm{Pa}$ 为单位，并四舍五入到六位小数。",
            "solution": "该问题要求推导真空室中压力 $p(t)$ 的控制常微分方程 (ODE)，讨论求解该方程的合适数值方法，并为一组测试用例实现该解法。\n\n### 第一部分：控制常微分方程的推导\n\n推导始于腔室体积 $V$ 内气体的质量守恒原理。腔室内气体量的变化率等于进入气体的总速率减去排出气体的总速率。在真空系统的背景下，这种质量平衡可以方便地使用通量 $Q$ 来表示，其单位为 $\\mathrm{Pa} \\cdot \\mathrm{m}^3/\\mathrm{s}$。\n\n理想气体定律 $p V = N k_B T$ 将压力 $p$、体积 $V$ 和温度 $T$ 与气体分子数 $N$ 联系起来。其中，$k_B$ 是 Boltzmann 常数。通量 $Q$ 定义为 $Q = k_B T \\frac{dN}{dt}$。鉴于体积 $V$ 和温度 $T$ 是恒定的，对理想气体定律关于时间 $t$ 求导，得到 $V \\frac{dp}{dt} = k_B T \\frac{dN}{dt}$。这直接将压力变化率与净通量联系起来：\n$$\nV \\frac{dp}{dt} = Q_{\\text{net}} = Q_{\\text{in}} - Q_{\\text{out}}\n$$\n在本问题中，进入腔室的气体 $Q_{\\text{in}}$ 是由瞬态出气 $Q_{\\text{outg}}(t)$ 引起的。离开腔室的气体 $Q_{\\text{out}}$ 是由泵抽走的 $Q_{\\text{pump}}(p)$。因此，守恒方程变为：\n$$\nV \\frac{dp(t)}{dt} = Q_{\\text{outg}}(t) - Q_{\\text{pump}}(p(t))\n$$\n问题为通量项提供了具体模型。出气通量 $Q_{\\text{outg}}(t)$ 由一个扩散限制项和一个一阶解吸项之和给出：\n$$\nQ_{\\text{outg}}(t) = \\frac{Q_{s0}}{1 + \\sqrt{t/\\tau_s}} + Q_{v0}\\,e^{-t/\\tau_v}\n$$\n抽气通量 $Q_{\\text{pump}}(p)$ 通过流向基础压力为 $p_b$ 的泵的管路中的流动来建模。该流动由管路的总流导 $C_{\\text{tot}}(p)$ 和其两端的压差 $(p - p_b)$ 决定：\n$$\nQ_{\\text{pump}}(p) = C_{\\text{tot}}(p) (p - p_b)\n$$\n总流导 $C_{\\text{tot}}(p)$ 是恒定分子流导 $C_{\\text{mol}}$ 和依赖于压力的粘性流导 $C_{\\text{visc}}(p) = k_v p$ 的和：\n$$\nC_{\\text{tot}}(p) = C_{\\text{mol}} + C_{\\text{visc}}(p) = C_{\\text{mol}} + k_v p\n$$\n将此代入 $Q_{\\text{pump}}(p)$ 的表达式中，得到：\n$$\nQ_{\\text{pump}}(p) = (C_{\\text{mol}} + k_v p) (p - p_b)\n$$\n现在，我们将 $Q_{\\text{outg}}(t)$ 和 $Q_{\\text{pump}}(p)$ 的完整表达式代入主守恒方程：\n$$\nV \\frac{dp}{dt} = \\left( \\frac{Q_{s0}}{1 + \\sqrt{t/\\tau_s}} + Q_{v0}\\,e^{-t/\\tau_v} \\right) - (C_{\\text{mol}} + k_v p) (p - p_b)\n$$\n最后，通过分离出导数 $\\frac{dp}{dt}$，我们得到了关于腔室压力 $p(t)$ 的一阶、非线性、非自治的控制常微分方程：\n$$\n\\frac{dp}{dt} = \\frac{1}{V} \\left[ \\left( \\frac{Q_{s0}}{1 + \\sqrt{t/\\tau_s}} + Q_{v0}\\,e^{-t/\\tau_v} \\right) - (C_{\\text{mol}} + k_v p)(p - p_b) \\right]\n$$\n该方程与初始条件 $p(0) = p_0$ 一起构成了一个适定的初值问题 (IVP)。非线性源于压力中的二次项 $-k_v p^2$，该项来自粘性流的贡献。非自治性则是因为出气项 $Q_{\\text{outg}}(t)$ 具有显式的时间依赖性。\n\n### 第二部分：数值积分方案\n\n推导出的 ODE $\\frac{dp}{dt} = f(t, p)$ 是非线性的，并且可能是刚性的。当系统涉及在差异极大的时间尺度上发生的物理过程时，可能会出现刚性问题。在本问题中，系统的特征时间常数（可近似为 $\\tau_{\\text{sys}} \\approx V / \\frac{\\partial Q_{\\text{pump}}}{\\partial p}$）随压力而变化。在高压下，项 $k_v p$ 在流导中占主导地位，导致时间常数 $\\tau_{\\text{sys}} \\approx V/(2 k_v p)$ 很小，抽气过程非常迅速。在低压下，系统动力学较慢，由恒定的分子流导 $C_\\mathrm{mol}$ 和缓慢的出气速率决定。\n\n简单的显式数值方法，如前向欧拉法，通常是条件稳定的。对于刚性系统，它们的稳定域非常小，即使解本身变化缓慢，也必须使用极小的时间步长 $\\Delta t$ 以避免数值振荡和发散。这使得这类方法效率极低。\n\n一种更稳健、更有效的方法是使用自适应步长积分器。像 Runge-Kutta-Fehlberg (RKF45) 或 Dormand-Prince (RKDP54) 这样的方法会在每一步估计局部截断误差，并相应地调整步长，在解快速变化时采用小步长，在解平滑时采用大步长。\n\n对于潜在的刚性问题，隐式或半隐式方法更为优越。`LSODA`（Livermore Solver for Ordinary Differential Equations with Automatic method switching）算法是一个绝佳的选择。它能自动检测刚性，并在非刚性预测-校正方法（Adams-Moulton）和刚性方法（Backward Differentiation Formula, BDF）之间切换。这种自适应性使得 `LSODA` 对于当前这类在积分区间内刚性程度变化很大的问题非常有效。标准的科学计算库，如 Python 中的 `scipy.integrate`，提供了这些高级求解器的高质量实现（例如，使用 `method='LSODA'` 的 `solve_ivp`）。这种方法确保了在不同物理状态（粘性流、分子流和出气主导）下的准确性和计算效率。\n\n### 第三部分：实现策略\n\n解决方案将使用 Python 实现，利用 `numpy` 库进行数值运算，并使用 `scipy.integrate.solve_ivp` 对 ODE 进行数值积分。\n总体结构如下：\n1.  定义一个 Python 函数 `ode_system(t, p, ...)`。该函数将接受当前时间 $t$、压力 $p$（作为单元素数组）以及系统参数（$V, C_{\\text{mol}}, k_v$ 等）作为参数。它将根据推导出的 ODE 计算并返回 $\\frac{dp}{dt}$ 的值。\n2.  问题陈述中提供的五个测试用例将存储在一个元组列表中，每个元组包含一次模拟的所有参数（$V, C_{\\text{mol}}, k_v, p_b, p_0, Q_{s0}, \\tau_s, Q_{v0}, \\tau_v, t_{\\text{end}}$）。\n3.  一个循环将遍历每个测试用例。在循环内部：\n    a. 提取参数、初始条件 $p_0$ 和时间区间 $[0, t_{\\text{end}}]$。\n    b. 调用 `scipy.integrate.solve_ivp` 函数，传入 `ode_system`、时间区间、初始值 $[p_0]$ 和参数元组。为保证稳健性，将指定 `method='LSODA'`。\n    c. `solve_ivp` 返回的解对象包含时间点和相应的压力值。最终压力 $p(t_{\\text{end}})$ 将是解数组的最后一个元素。\n4.  每个测试用例的最终压力将被四舍五入到六位小数并存储在一个结果列表中。\n5.  最后，程序将按照指定的输出格式，将收集到的结果打印为单个用方括号括起来的逗号分隔字符串。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.integrate import solve_ivp\n\ndef solve():\n    \"\"\"\n    Solves the vacuum chamber pressure ODE for a suite of test cases.\n    \"\"\"\n    \n    # Test cases as defined in the problem statement.\n    # Each tuple contains: (V, C_mol, k_v, p_b, p_0, Q_s0, tau_s, Q_v0, tau_v, t_end)\n    test_cases = [\n        (0.1, 0.5, 0.02, 0, 100, 0.05, 100, 0.02, 200, 200),\n        (0.1, 0.5, 0, 0, 100, 0.05, 100, 0.02, 200, 200),\n        (0.1, 0.3, 0.01, 1, 2, 0.005, 300, 0, 1, 500),\n        (0.1, 0.1, 0.2, 0, 500, 0.2, 50, 0.1, 50, 50),\n        (0.1, 0.4, 0.05, 0, 5, 0, 1, 0, 1, 100),\n    ]\n\n    def ode_system(t, p, V, C_mol, k_v, p_b, Q_s0, tau_s, Q_v0, tau_v):\n        \"\"\"\n        Defines the ODE dp/dt = f(t, p) for the vacuum chamber pressure.\n        \n        Args:\n            t: Current time.\n            p: Current pressure (as a 1-element array).\n            V: Chamber volume.\n            C_mol: Molecular conductance.\n            k_v: Viscous conductance coefficient.\n            p_b: Pump base pressure.\n            Q_s0: Surface outgassing coefficient.\n            tau_s: Surface outgassing time constant.\n            Q_v0: Volumetric outgassing coefficient.\n            tau_v: Volumetric outgassing time constant.\n            \n        Returns:\n            The value of dp/dt.\n        \"\"\"\n        pressure = p[0]\n        \n        # Physical guard: pressure cannot be negative.\n        if pressure  0:\n            pressure = 0\n            \n        # I. Calculate total outgassing throughput Q_outg(t)\n        # Diffusion-limited surface term\n        # The term is well-defined for t>=0 and tau_s>0.\n        if Q_s0 > 0:\n            q_outg_s = Q_s0 / (1.0 + np.sqrt(t / tau_s))\n        else:\n            q_outg_s = 0.0\n        \n        # First-order volumetric term\n        if Q_v0 > 0:\n            q_outg_v = Q_v0 * np.exp(-t / tau_v)\n        else:\n            q_outg_v = 0.0\n            \n        q_outg = q_outg_s + q_outg_v\n\n        # II. Calculate pump throughput Q_pump(p)\n        # Total conductance C_tot(p) = C_mol + C_visc(p)\n        # C_visc(p) = k_v * p\n        c_tot = C_mol + k_v * pressure\n        \n        # Q_pump(p) = C_tot(p) * (p - p_b)\n        q_pump = c_tot * (pressure - p_b)\n        \n        # III. Apply conservation of mass: V * dp/dt = Q_outg - Q_pump\n        dpdt = (1.0 / V) * (q_outg - q_pump)\n        \n        return [dpdt]\n\n    results = []\n    for case in test_cases:\n        V, C_mol, k_v, p_b, p_0, Q_s0, tau_s, Q_v0, tau_v, t_end = case\n        \n        # Pack parameters for the solver\n        params = (V, C_mol, k_v, p_b, Q_s0, tau_s, Q_v0, tau_v)\n        \n        # Set time span and initial condition\n        t_span = (0, t_end)\n        p_initial = [p_0]\n        \n        # Integrate the ODE\n        sol = solve_ivp(\n            ode_system,\n            t_span,\n            p_initial,\n            args=params,\n            method='LSODA',  # Robust solver for potentially stiff problems\n            rtol=1e-8,       # Set tighter tolerances for better accuracy\n            atol=1e-10\n        )\n        \n        # Extract the final pressure\n        final_pressure = sol.y[0, -1]\n        \n        # Format the result to six decimal places\n        results.append(f\"{final_pressure:.6f}\")\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(results)}]\")\n\nsolve()\n```"
        }
    ]
}