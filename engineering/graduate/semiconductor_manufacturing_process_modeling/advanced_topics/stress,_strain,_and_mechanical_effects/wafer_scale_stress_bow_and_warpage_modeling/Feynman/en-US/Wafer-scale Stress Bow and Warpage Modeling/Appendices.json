{
    "hands_on_practices": [
        {
            "introduction": "Stoney's equation is the cornerstone for inferring thin film stress from wafer curvature measurements. However, any real-world metrology is subject to noise. This practice  provides a crucial link between the idealized model and its practical application by asking you to quantify how measurement uncertainty in wafer bow propagates to uncertainty in the inferred stress. Mastering this analysis is essential for establishing robust process control windows and understanding the limitations of your characterization tools.",
            "id": "4179204",
            "problem": "A thin, uniformly stressed film of thickness $t_{f}$ is deposited on a circular, isotropic silicon substrate (wafer) of radius $a$, thickness $t_{s}$, elastic modulus $E_{s}$, and Poisson’s ratio $\\nu_{s}$. The average biaxial film stress $\\,\\sigma_{f}\\,$ is inferred from the substrate’s mean curvature $\\,\\kappa\\,$ using the classic Stoney relation for thin films on thick substrates. The wafer metrology measures the out-of-plane “bow” $\\,b\\,$ defined as the center deflection relative to the plane of the wafer edge. Assume the deflection is a shallow spherical cap so that the curvature and bow are related by the small-slope geometry for a circular plate. The metrology noise on the bow measurement is modeled as zero-mean Gaussian with standard deviation $\\,\\eta\\,$ and is the only source of uncertainty; all material and geometric parameters are known exactly.\n\nUsing first-order linear error propagation from bow to inferred film stress, determine the standard deviation of the inferred average film stress. Use the following parameter values: $a = 150\\,\\text{mm}$, $t_{s} = 725\\,\\mu\\text{m}$, $t_{f} = 100\\,\\text{nm}$, $E_{s} = 130\\,\\text{GPa}$, $\\nu_{s} = 0.27$, and $\\eta = 0.10\\,\\mu\\text{m}$. Express the final standard deviation in megapascal (MPa) and round your answer to four significant figures.\n\nYour answer must be a single real number.",
            "solution": "The objective is to find the standard deviation of the inferred film stress, which we denote as $\\delta\\sigma_{f}$, resulting from the uncertainty in the bow measurement, $\\delta b = \\eta$. Using first-order linear error propagation, the relationship is given by:\n$$ \\delta\\sigma_{f} = \\left| \\frac{d\\sigma_{f}}{db} \\right| \\delta b $$\nTo evaluate this, we must first establish the functional relationship between the film stress $\\sigma_{f}$ and the wafer bow $b$.\n\nFirst, the problem states that the film stress $\\sigma_{f}$ is related to the substrate curvature $\\kappa$ by Stoney's equation. For a thin film on a thick substrate, this is:\n$$ \\sigma_{f} t_{f} = M_{s} \\frac{t_{s}^2}{6} \\kappa $$\nwhere $M_{s}$ is the biaxial modulus of the substrate. The biaxial modulus is defined in terms of the Young's modulus $E_{s}$ and Poisson's ratio $\\nu_{s}$ as:\n$$ M_{s} = \\frac{E_{s}}{1 - \\nu_{s}} $$\nSubstituting this into Stoney's equation and solving for $\\sigma_{f}$ gives:\n$$ \\sigma_{f} = \\frac{E_{s} t_{s}^2}{6(1 - \\nu_{s})t_{f}} \\kappa $$\n\nSecond, the problem specifies that the wafer deflection is a shallow spherical cap, and we should use the small-slope geometry to relate the curvature $\\kappa$ to the bow $b$. For a circular plate of radius $a$, the radius of curvature $R$ is related to the bow $b$ by the sagittal theorem. For a shallow deflection where $b \\ll a$, this relationship simplifies to:\n$$ R \\approx \\frac{a^2}{2b} $$\nThe mean curvature $\\kappa$ is the reciprocal of the radius of curvature, so:\n$$ \\kappa = \\frac{1}{R} \\approx \\frac{2b}{a^2} $$\n\nNow, we combine the two relationships by substituting the expression for $\\kappa$ into the equation for $\\sigma_{f}$:\n$$ \\sigma_{f} = \\frac{E_{s} t_{s}^2}{6(1 - \\nu_{s})t_{f}} \\left( \\frac{2b}{a^2} \\right) $$\nSimplifying this expression yields the direct relationship between stress and bow:\n$$ \\sigma_{f} = \\left( \\frac{E_{s} t_{s}^2}{3(1 - \\nu_{s})t_{f} a^2} \\right) b $$\nThe term in the parenthesis is a constant. We can now compute the derivative of $\\sigma_{f}$ with respect to $b$:\n$$ \\frac{d\\sigma_{f}}{db} = \\frac{E_{s} t_{s}^2}{3(1 - \\nu_{s})t_{f} a^2} $$\nSince all parameters are positive, the absolute value is redundant.\n\nThe standard deviation of the stress $\\delta\\sigma_{f}$ is then found by substituting this derivative and $\\delta b = \\eta$ into the error propagation formula:\n$$ \\delta\\sigma_{f} = \\left( \\frac{E_{s} t_{s}^2}{3(1 - \\nu_{s})t_{f} a^2} \\right) \\eta $$\n\nTo perform the calculation, we must convert all given parameters to a consistent set of units, preferably base SI units (meters, Pascals).\n- $a = 150\\,\\text{mm} = 0.15\\,\\text{m}$\n- $t_{s} = 725\\,\\mu\\text{m} = 725 \\times 10^{-6}\\,\\text{m}$\n- $t_{f} = 100\\,\\text{nm} = 100 \\times 10^{-9}\\,\\text{m} = 1 \\times 10^{-7}\\,\\text{m}$\n- $E_{s} = 130\\,\\text{GPa} = 130 \\times 10^9\\,\\text{Pa}$\n- $\\nu_{s} = 0.27$\n- $\\eta = 0.10\\,\\mu\\text{m} = 0.10 \\times 10^{-6}\\,\\text{m} = 1 \\times 10^{-7}\\,\\text{m}$\n\nSubstituting these values into the expression for $\\delta\\sigma_{f}$:\n$$ \\delta\\sigma_{f} = \\frac{(130 \\times 10^9\\,\\text{Pa}) (725 \\times 10^{-6}\\,\\text{m})^2}{3(1 - 0.27)(1 \\times 10^{-7}\\,\\text{m}) (0.15\\,\\text{m})^2} (1 \\times 10^{-7}\\,\\text{m}) $$\nThe term $(1 \\times 10^{-7}\\,\\text{m})$ from $\\eta$ in the numerator cancels with the term $(1 \\times 10^{-7}\\,\\text{m})$ from $t_{f}$ in the denominator, simplifying the calculation:\n$$ \\delta\\sigma_{f} = \\frac{(130 \\times 10^9\\,\\text{Pa}) (725 \\times 10^{-6}\\,\\text{m})^2}{3(0.73) (0.15\\,\\text{m})^2} $$\n$$ \\delta\\sigma_{f} = \\frac{(130 \\times 10^9) (525625 \\times 10^{-12})}{3(0.73) (0.0225)} \\,\\text{Pa} $$\n$$ \\delta\\sigma_{f} = \\frac{68331250 \\times 10^{-3}}{0.049275} \\,\\text{Pa} $$\n$$ \\delta\\sigma_{f} = \\frac{68331.25}{0.049275} \\,\\text{Pa} $$\n$$ \\delta\\sigma_{f} \\approx 1386733.244\\,\\text{Pa} $$\nThe problem requires the answer in megapascal (MPa).\n$$ 1\\,\\text{MPa} = 10^6\\,\\text{Pa} $$\n$$ \\delta\\sigma_{f} \\approx \\frac{1386733.244}{10^6} \\,\\text{MPa} \\approx 1.386733244\\,\\text{MPa} $$\nFinally, rounding to four significant figures as requested:\n$$ \\delta\\sigma_{f} \\approx 1.387\\,\\text{MPa} $$",
            "answer": "$$\\boxed{1.387}$$"
        },
        {
            "introduction": "While Stoney's equation is powerful, modern semiconductor devices involve complex multilayer film stacks that require a more general approach. This exercise  introduces Classical Laminated Plate Theory (CLPT) to analyze a symmetric multilayer stack, a common design motif. By working through the mechanics of this structure, you will derive a fundamental result about how symmetry can be engineered to suppress warpage from uniform thermal loads, a key principle in integrated circuit design.",
            "id": "4179194",
            "problem": "A circular silicon wafer is modeled as a symmetric five-layer laminate with the coordinate $z$ measured through the thickness and the mid-plane at $z=0$. The stacking sequence from the bottom surface ($z=-H/2$) to the top surface ($z=+H/2$) is silicon nitride (SiN), silicon dioxide (SiO$_2$), crystalline silicon (Si), silicon dioxide (SiO$_2$), silicon nitride (SiN). The silicon substrate thickness is $h_{s}=775\\,\\mathrm{\\mu m}$ and the dielectric stack on each face consists of $t_{n}=0.5\\,\\mathrm{\\mu m}$ of SiN and $t_{ox}=0.5\\,\\mathrm{\\mu m}$ of SiO$_2$, so the total thickness is $H=h_{s}+2(t_{ox}+t_{n})$. All layers are assumed to be homogeneous, linearly elastic, and isotropic under plane stress. The elastic properties and coefficients of thermal expansion are:\n- Silicon: $E_{s}=130\\,\\mathrm{GPa}$, $\\nu_{s}=0.27$, $\\alpha_{s}=2.6\\times 10^{-6}\\,\\mathrm{K}^{-1}$;\n- Silicon dioxide: $E_{ox}=70\\,\\mathrm{GPa}$, $\\nu_{ox}=0.17$, $\\alpha_{ox}=0.5\\times 10^{-6}\\,\\mathrm{K}^{-1}$;\n- Silicon nitride: $E_{n}=250\\,\\mathrm{GPa}$, $\\nu_{n}=0.23$, $\\alpha_{n}=2.8\\times 10^{-6}\\,\\mathrm{K}^{-1}$.\n\nThe wafer is cooled uniformly from a stress-free assembly temperature $T_{d}$ to a reference temperature $T_{r}$, experiencing a uniform temperature change $\\Delta T=T_{r}-T_{d}$ across the thickness. The wafer is free-standing with no externally applied in-plane forces or bending moments. Use Classical Laminated Plate Theory (CLPT) where the in-plane force and moment resultants satisfy\n$$\n\\begin{pmatrix} N_{x} \\\\ N_{y} \\\\ N_{xy} \\end{pmatrix}\n=\n\\mathbf{A}\\begin{pmatrix} \\epsilon^{0}_{x} \\\\ \\epsilon^{0}_{y} \\\\ \\gamma^{0}_{xy} \\end{pmatrix}\n+\n\\mathbf{B}\\begin{pmatrix} \\kappa_{x} \\\\ \\kappa_{y} \\\\ \\kappa_{xy} \\end{pmatrix}\n-\n\\begin{pmatrix} N^{T}_{x} \\\\ N^{T}_{y} \\\\ N^{T}_{xy} \\end{pmatrix},\n\\quad\n\\begin{pmatrix} M_{x} \\\\ M_{y} \\\\ M_{xy} \\end{pmatrix}\n=\n\\mathbf{B}\\begin{pmatrix} \\epsilon^{0}_{x} \\\\ \\epsilon^{0}_{y} \\\\ \\gamma^{0}_{xy} \\end{pmatrix}\n+\n\\mathbf{D}\\begin{pmatrix} \\kappa_{x} \\\\ \\kappa_{y} \\\\ \\kappa_{xy} \\end{pmatrix}\n-\n\\begin{pmatrix} M^{T}_{x} \\\\ M^{T}_{y} \\\\ M^{T}_{xy} \\end{pmatrix},\n$$\nwith stiffness matrices defined by through-thickness integrals of the reduced stiffness.\n\nAssume axisymmetric warpage so that $\\kappa_{x}=\\kappa_{y}$ and $N_{xy}=M_{xy}=0$. In isotropic plane stress, the reduced stiffness component is $\\bar{Q}_{11}(z)=\\frac{E(z)}{1-\\nu(z)^{2}}$. Starting from the CLPT definitions of the stiffness matrices and thermal resultants, perform the following:\n\n1. Using the symmetric stacking about $z=0$, verify that the extensional–bending coupling matrix satisfies $\\mathbf{B}=\\mathbf{0}$.\n\n2. Compute the effective bending stiffness scalar $D\\equiv D_{11}$ by evaluating $D_{11}=\\int_{-H/2}^{H/2}\\bar{Q}_{11}(z)\\,z^{2}\\,\\mathrm{d}z$ for the given layer geometry and properties.\n\n3. Derive the thermal moment resultant $M^{T}_{x}$ for a uniform $\\Delta T$ and determine the curvature $\\kappa_{x}$ under the free-standing condition $N_{x}=M_{x}=0$.\n\nExpress the final curvature as a single real number in $\\mathrm{m}^{-1}$.",
            "solution": "The problem requires an analysis of the thermally induced warpage of a symmetric five-layer wafer using Classical Laminated Plate Theory (CLPT). We must validate the problem, which has been found to be sound, and then proceed with the three specified tasks.\n\nThe analysis hinges on the constitutive relations for a laminate plate:\n$$\n\\mathbf{N} = \\mathbf{A}\\boldsymbol{\\epsilon}^0 + \\mathbf{B}\\boldsymbol{\\kappa} - \\mathbf{N}^T\n$$\n$$\n\\mathbf{M} = \\mathbf{B}\\boldsymbol{\\epsilon}^0 + \\mathbf{D}\\boldsymbol{\\kappa} - \\mathbf{M}^T\n$$\nwhere $\\mathbf{N}$ and $\\mathbf{M}$ are the in-plane force and moment resultants, $\\boldsymbol{\\epsilon}^0$ and $\\boldsymbol{\\kappa}$ are the mid-plane strains and curvatures, and $\\mathbf{A}$, $\\mathbf{B}$, $\\mathbf{D}$ are the stiffness matrices. $\\mathbf{N}^T$ and $\\mathbf{M}^T$ are the thermal resultants.\n\nThe wafer is free-standing, so the external resultants are zero: $\\mathbf{N}=\\mathbf{0}$ and $\\mathbf{M}=\\mathbf{0}$. The problem assumes axisymmetric warpage, so $\\kappa_x = \\kappa_y = \\kappa$ and $\\kappa_{xy}=0$. By symmetry of the structure and loading, the mid-plane strains are also axisymmetric, so $\\epsilon^0_x = \\epsilon^0_y = \\epsilon^0$ and $\\gamma^0_{xy}=0$.\n\n**1. Verification of the Extensional–Bending Coupling Matrix $\\mathbf{B}$**\n\nThe extensional-bending coupling matrix $\\mathbf{B}$ is defined by the integral:\n$$\n\\mathbf{B} = \\int_{-H/2}^{H/2} \\mathbf{\\bar{Q}}(z) z \\, \\mathrm{d}z\n$$\nwhere $\\mathbf{\\bar{Q}}(z)$ is the plane-stress reduced stiffness matrix at vertical position $z$. The problem describes a symmetric laminate, meaning the material properties and layer thicknesses are symmetric with respect to the mid-plane at $z=0$. This implies that the stiffness matrix $\\mathbf{\\bar{Q}}(z)$ is an even function of $z$, i.e., $\\mathbf{\\bar{Q}}(z) = \\mathbf{\\bar{Q}}(-z)$.\n\nThe integrand for $\\mathbf{B}$ is the product of an even function, $\\mathbf{\\bar{Q}}(z)$, and an odd function, $f(z)=z$. The product of an even and an odd function is an odd function. Let the integrand be $\\mathbf{F}(z) = \\mathbf{\\bar{Q}}(z) z$. Then $\\mathbf{F}(-z) = \\mathbf{\\bar{Q}}(-z) (-z) = \\mathbf{\\bar{Q}}(z) (-z) = - \\mathbf{\\bar{Q}}(z) z = -\\mathbf{F}(z)$.\n\nThe integral of any odd function over a symmetric interval of the form $[-a, a]$ is identically zero. Therefore, we can conclude:\n$$\n\\mathbf{B} = \\int_{-H/2}^{H/2} \\mathbf{F}(z) \\, \\mathrm{d}z = \\mathbf{0}\n$$\nThis verifies that the extensional–bending coupling matrix is the zero matrix for this symmetric laminate.\n\n**2. Computation of the Effective Bending Stiffness $D_{11}$**\n\nThe bending stiffness matrix $\\mathbf{D}$ is defined as:\n$$\n\\mathbf{D} = \\int_{-H/2}^{H/2} \\mathbf{\\bar{Q}}(z) z^2 \\, \\mathrm{d}z\n$$\nWe are asked to compute the component $D_{11}$, where $\\bar{Q}_{11}(z) = \\frac{E(z)}{1-\\nu(z)^2}$. The integrand, $\\bar{Q}_{11}(z) z^2$, is an even function of $z$ since $\\bar{Q}_{11}(z)$ is even and $z^2$ is even. We can therefore write the integral as:\n$$\nD_{11} = 2 \\int_{0}^{H/2} \\bar{Q}_{11}(z) z^2 \\, \\mathrm{d}z\n$$\nWe first define the layer boundaries relative to the mid-plane at $z=0$. The thicknesses are $h_s = 775\\,\\mathrm{\\mu m}$, $t_{ox} = 0.5\\,\\mathrm{\\mu m}$, and $t_n = 0.5\\,\\mathrm{\\mu m}$.\nThe interface coordinates in the upper half ($z>0$) are:\n$z_1 = \\frac{h_s}{2} = \\frac{775 \\times 10^{-6}}{2} = 3.875 \\times 10^{-4}\\,\\mathrm{m}$ (Si/SiO$_2$ interface)\n$z_2 = z_1 + t_{ox} = 3.875 \\times 10^{-4} + 0.5 \\times 10^{-6} = 3.880 \\times 10^{-4}\\,\\mathrm{m}$ (SiO$_2$/SiN interface)\n$z_3 = z_2 + t_n = 3.880 \\times 10^{-4} + 0.5 \\times 10^{-6} = 3.885 \\times 10^{-4}\\,\\mathrm{m}$ (Top surface, $H/2$)\n\nThe integral is evaluated as a sum over the layers:\n$$\nD_{11} = 2 \\left[ \\int_{0}^{z_1} \\bar{Q}_{11,s} z^2 \\, \\mathrm{d}z + \\int_{z_1}^{z_2} \\bar{Q}_{11,ox} z^2 \\, \\mathrm{d}z + \\int_{z_2}^{z_3} \\bar{Q}_{11,n} z^2 \\, \\mathrm{d}z \\right]\n$$\nwhere $\\bar{Q}_{11,k} = \\frac{E_k}{1-\\nu_k^2}$ for each material $k \\in \\{ s, ox, n \\}$.\nThe values of $\\bar{Q}_{11}$ are:\n$\\bar{Q}_{11,s} = \\frac{130 \\times 10^9\\,\\mathrm{Pa}}{1 - 0.27^2} = \\frac{130 \\times 10^9}{0.9271} \\approx 1.40222 \\times 10^{11}\\,\\mathrm{Pa}$\n$\\bar{Q}_{11,ox} = \\frac{70 \\times 10^9\\,\\mathrm{Pa}}{1 - 0.17^2} = \\frac{70 \\times 10^9}{0.9711} \\approx 7.2183 \\times 10^{10}\\,\\mathrm{Pa}$\n$\\bar{Q}_{11,n} = \\frac{250 \\times 10^9\\,\\mathrm{Pa}}{1 - 0.23^2} = \\frac{250 \\times 10^9}{0.9471} \\approx 2.63964 \\times 10^{11}\\,\\mathrm{Pa}$\n\nEvaluating the integrals:\n$$\nD_{11} = 2 \\left[ \\bar{Q}_{11,s} \\left[ \\frac{z^3}{3} \\right]_0^{z_1} + \\bar{Q}_{11,ox} \\left[ \\frac{z^3}{3} \\right]_{z_1}^{z_2} + \\bar{Q}_{11,n} \\left[ \\frac{z^3}{3} \\right]_{z_2}^{z_3} \\right]\n$$\n$$\nD_{11} = \\frac{2}{3} \\left[ \\bar{Q}_{11,s} z_1^3 + \\bar{Q}_{11,ox} (z_2^3 - z_1^3) + \\bar{Q}_{11,n} (z_3^3 - z_2^3) \\right]\n$$\nCalculating the powers of $z$:\n$z_1^3 = (3.875 \\times 10^{-4})^3 \\approx 5.8192 \\times 10^{-11}\\,\\mathrm{m^3}$\n$z_2^3 = (3.880 \\times 10^{-4})^3 \\approx 5.8419 \\times 10^{-11}\\,\\mathrm{m^3}$\n$z_3^3 = (3.885 \\times 10^{-4})^3 \\approx 5.8647 \\times 10^{-11}\\,\\mathrm{m^3}$\n\nSubstituting these values:\n$D_{11} \\approx \\frac{2}{3} \\left[ (1.40222 \\times 10^{11})(5.8192 \\times 10^{-11}) + (7.2183 \\times 10^{10})(5.8419 \\times 10^{-11} - 5.8192 \\times 10^{-11}) + (2.63964 \\times 10^{11})(5.8647 \\times 10^{-11} - 5.8419 \\times 10^{-11}) \\right]$\n$D_{11} \\approx \\frac{2}{3} \\left[ 8.160 + (7.2183 \\times 10^{10})(2.27 \\times 10^{-13}) + (2.63964 \\times 10^{11})(2.28 \\times 10^{-13}) \\right]$\n$D_{11} \\approx \\frac{2}{3} \\left[ 8.160 + 0.0164 + 0.0602 \\right]$\n$D_{11} \\approx \\frac{2}{3} [8.2366] \\approx 5.491\\,\\mathrm{N \\cdot m}$\n\n**3. Derivation of Thermal Moment $M^{T}_{x}$ and Curvature $\\kappa_{x}$**\n\nWith $\\mathbf{B}=\\mathbf{0}$, the moment equation for the free-standing wafer ($M_x=0$) is:\n$$\nM_x = D_{11}\\kappa_x + D_{12}\\kappa_y - M^{T}_x = 0\n$$\nUsing the axisymmetry assumption $\\kappa_x = \\kappa_y = \\kappa$:\n$$\n(D_{11} + D_{12})\\kappa = M^{T}_x\n$$\nThe thermal moment resultant $M^{T}_x$ is defined as:\n$$\nM^{T}_{x} = \\int_{-H/2}^{H/2} (\\bar{Q}_{11}(z) \\epsilon_x^T(z) + \\bar{Q}_{12}(z) \\epsilon_y^T(z)) z \\, \\mathrm{d}z\n$$\nFor isotropic layers and a uniform temperature change $\\Delta T$, the thermal strain is $\\epsilon_x^T = \\epsilon_y^T = \\alpha(z) \\Delta T$.\n$$\nM^{T}_{x} = \\Delta T \\int_{-H/2}^{H/2} (\\bar{Q}_{11}(z) + \\bar{Q}_{12}(z)) \\alpha(z) z \\, \\mathrm{d}z\n$$\nThe term $\\bar{Q}_{11}(z) + \\bar{Q}_{12}(z) = \\frac{E(z)}{1-\\nu(z)^2} + \\frac{\\nu(z)E(z)}{1-\\nu(z)^2} = \\frac{E(z)(1+\\nu(z))}{(1-\\nu(z))(1+\\nu(z))} = \\frac{E(z)}{1-\\nu(z)}$.\nSo,\n$$\nM^{T}_{x} = \\Delta T \\int_{-H/2}^{H/2} \\frac{E(z)}{1-\\nu(z)} \\alpha(z) z \\, \\mathrm{d}z\n$$\nThe laminate is symmetric, so the material properties $E(z)$, $\\nu(z)$, and $\\alpha(z)$ are all even functions of $z$. The combination $f(z) = \\frac{E(z)}{1-\\nu(z)} \\alpha(z)$ is therefore also an even function. The integrand for $M^{T}_{x}$ is $g(z) = f(z)z$, which is the product of an even function and an odd function, resulting in an odd function. As established in Part 1, the integral of an odd function over a symmetric interval is zero.\n$$\nM^{T}_{x} = 0\n$$\nSubstituting this result back into the moment equation:\n$$\n(D_{11} + D_{12})\\kappa = 0\n$$\nThe term $D_{11} + D_{12} = \\int_{-H/2}^{H/2} \\frac{E(z)}{1-\\nu(z)} z^2 \\, \\mathrm{d}z$. The integrand is strictly positive for $z \\ne 0$, so the integral $D_{11}+D_{12}$ is a positive, non-zero quantity. For the product to be zero, the curvature must be zero.\n$$\n\\kappa = 0\n$$\nTherefore, the curvature $\\kappa_x$ is $0\\,\\mathrm{m}^{-1}$. This result is a direct consequence of the laminate's symmetry. A symmetric laminate subjected to a uniform temperature change will expand or contract in-plane but will not exhibit any warpage. The problem requests the calculation of quantities that would be needed for a non-symmetric case, but for the given symmetric configuration, the resulting curvature is zero by first principles.",
            "answer": "$$\\boxed{0}$$"
        },
        {
            "introduction": "The ultimate goal of process modeling is to create predictive simulation tools that can anticipate wafer shape throughout a complex manufacturing sequence. This final practice  challenges you to build such a tool for a bilayer system using the full Classical Laminated Plate Theory (CLPT) framework. By implementing a model that incorporates temperature-dependent material properties, you will move beyond static, room-temperature analysis to simulate the dynamic evolution of curvature during a thermal cycle, a critical capability for predicting process-induced stress and ensuring device reliability.",
            "id": "4179191",
            "problem": "A free, axisymmetric bilayer wafer consisting of an isotropic substrate of thickness $h_s$ and an isotropic thin film of thickness $h_f$ experiences thermal curvature during a temperature cycle $T \\mapsto T(t)$ due to mismatch in thermal expansion and temperature-dependent stiffness. Assume Kirchhoff–Love thin plate theory, small deflections, plane stress, equi-biaxial in-plane strain, and negligible temperature dependence of Poisson’s ratio. Let $z$ denote the through-thickness coordinate measured from the bottom surface of the substrate, so that the substrate occupies $z \\in [0,h_s]$ and the film occupies $z \\in [h_s,h_s+h_f]$. The midplane strain is $\\varepsilon_0$ and the equi-biaxial curvature is $\\kappa$, with the linear strain field $\\varepsilon(z) = \\varepsilon_0 + z \\kappa$. For each layer $i \\in \\{\\text{sub}, \\text{film}\\}$, Hooke’s law under equi-biaxial, plane stress gives the stress $\\sigma_i(z,T)$ as\n$$\n\\sigma_i(z,T) = \\bar{E}_i(T)\\left[ \\varepsilon_0 + z \\kappa - \\alpha_i(T) \\Delta T \\right],\n$$\nwhere $\\bar{E}_i(T) = \\dfrac{E_i(T)}{1-\\nu_i}$ is the biaxial modulus, $\\alpha_i(T)$ is the coefficient of thermal expansion, and $\\Delta T = T - T_{\\mathrm{ref}}$ with $T_{\\mathrm{ref}}$ a stress-free reference temperature. The in-plane resultant force $N(T)$ and bending moment $M(T)$ per unit width are\n$$\nN(T) = \\int_0^{h_s+h_f} \\sigma(z,T) \\, dz, \\quad M(T) = \\int_0^{h_s+h_f} z \\, \\sigma(z,T) \\, dz,\n$$\nwith piecewise $\\sigma(z,T)$ for substrate and film. For a free laminate with no external mechanical loads, force and moment equilibria require $N(T) = 0$ and $M(T) = 0$. Defining the stiffness integrals\n$$\nA(T) = \\int_0^{h_s+h_f} \\bar{E}(T) \\, dz, \\quad B(T) = \\int_0^{h_s+h_f} z \\, \\bar{E}(T) \\, dz, \\quad D(T) = \\int_0^{h_s+h_f} z^2 \\, \\bar{E}(T) \\, dz,\n$$\nand the thermal load integrals\n$$\nN_T(T) = \\int_0^{h_s+h_f} \\bar{E}(T) \\alpha(T) \\Delta T \\, dz, \\quad M_T(T) = \\int_0^{h_s+h_f} z \\, \\bar{E}(T) \\alpha(T) \\Delta T \\, dz,\n$$\nthe equilibrium conditions yield the linear system\n$$\n\\begin{bmatrix}\nA(T) & B(T) \\\\\nB(T) & D(T)\n\\end{bmatrix}\n\\begin{bmatrix}\n\\varepsilon_0(T) \\\\ \\kappa(T)\n\\end{bmatrix}\n=\n\\begin{bmatrix}\nN_T(T) \\\\ M_T(T)\n\\end{bmatrix}.\n$$\nThis construction explicitly incorporates temperature-dependent elastic moduli $E(T)$ and coefficient of thermal expansion $\\alpha(T)$ into the bilayer curvature problem; the weighting function $f(z)$ in the thermal moment integral $M_T(T) = \\int \\alpha(T) E(T) f(z) \\Delta T \\, dz$ specializes to $f(z) = z$ for moment and $f(z) = 1$ for force.\n\nYour task is to implement a program that, given layer thicknesses, Poisson’s ratios, and temperature-dependent functions $E_i(T)$ and $\\alpha_i(T)$ for the substrate and film, computes the equi-biaxial curvature $\\kappa(T)$ at specified temperatures over thermal cycles by:\n- assembling $A(T)$, $B(T)$, $D(T)$, $N_T(T)$, and $M_T(T)$ via through-thickness integrals for piecewise-constant layers, and\n- solving for $\\kappa(T)$ using the linear system above at each temperature step.\n\nAssume the following isotropic, temperature-dependent material models and parameters, stated in International System of Units (SI), with temperature in kelvin:\n- Substrate (single-crystal silicon, approximate isotropic model):\n  - $E_{\\mathrm{Si}}(T) = 1.69 \\times 10^{11} - 4.8 \\times 10^{7} \\, (T - 300)$,\n  - $\\nu_{\\mathrm{Si}} = 0.27$,\n  - $\\alpha_{\\mathrm{Si}}(T) = 2.6 \\times 10^{-6} + 2.0 \\times 10^{-9} \\, (T - 300)$.\n- Film A (silicon nitride, approximate):\n  - $E_{\\mathrm{Si_3N_4}}(T) = 2.50 \\times 10^{11} - 2.0 \\times 10^{7} \\, (T - 300)$,\n  - $\\nu_{\\mathrm{Si_3N_4}} = 0.27$,\n  - $\\alpha_{\\mathrm{Si_3N_4}}(T) = 3.0 \\times 10^{-6} + 1.5 \\times 10^{-9} \\, (T - 300)$.\n- Film B (copper, approximate):\n  - $E_{\\mathrm{Cu}}(T) = 1.10 \\times 10^{11} - 1.2 \\times 10^{8} \\, (T - 300)$,\n  - $\\nu_{\\mathrm{Cu}} = 0.34$,\n  - $\\alpha_{\\mathrm{Cu}}(T) = 16.5 \\times 10^{-6} + 4.0 \\times 10^{-9} \\, (T - 300)$.\n\nLet the stress-free reference temperature be $T_{\\mathrm{ref}} = 300$ K. Use Kelvin for all temperature inputs. Express curvature in inverse meters (m$^{-1}$).\n\nImplement the evaluation using analytic layer-wise integrals with $z$ measured from the bottom of the substrate:\n- For the substrate over $z \\in [0,h_s]$:\n  - $\\int dz = h_s$, $\\int z \\, dz = \\dfrac{h_s^2}{2}$, $\\int z^2 \\, dz = \\dfrac{h_s^3}{3}$.\n- For the film over $z \\in [h_s,h_s+h_f]$:\n  - $\\int dz = h_f$,\n  - $\\int z \\, dz = h_s h_f + \\dfrac{h_f^2}{2}$,\n  - $\\int z^2 \\, dz = h_s^2 h_f + h_s h_f^2 + \\dfrac{h_f^3}{3}$.\n\nTest suite:\n- Case $1$ (happy path): Substrate silicon thickness $h_s = 7.75 \\times 10^{-4}$ m, Film A (silicon nitride) thickness $h_f = 1.0 \\times 10^{-6}$ m, temperature list $[300, 400, 500, 600, 500, 400, 300]$ K.\n- Case $2$ (high mismatch metal film): Substrate silicon thickness $h_s = 7.75 \\times 10^{-4}$ m, Film B (copper) thickness $h_f = 5.0 \\times 10^{-6}$ m, temperature list $[300, 500, 800, 500, 300]$ K.\n- Case $3$ (edge case, identical materials): Substrate silicon thickness $h_s = 7.75 \\times 10^{-4}$ m, Film identical silicon thickness $h_f = 2.0 \\times 10^{-6}$ m, temperature list $[300, 700, 300]$ K.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, where each element corresponds to a test case and is itself a list of floating-point values representing $\\kappa(T)$ in m$^{-1}$ at the specified temperatures for that case, for example, $[[\\kappa_{1,1},\\kappa_{1,2},\\dots],[\\kappa_{2,1},\\dots],[\\kappa_{3,1},\\dots]]$.",
            "solution": "The problem is valid. It presents a well-posed and scientifically grounded problem in continuum mechanics, specifically regarding the thermal-elastic behavior of bilayer thin-film structures. All necessary physical parameters, mathematical models, and boundary conditions are provided, allowing for a unique and meaningful solution.\n\nThe solution is derived from the principles of classical laminate plate theory (CLPT) for an axisymmetric bilayer wafer subjected to a uniform temperature change. The foundational assumptions are: the wafer behaves as a thin plate according to Kirchhoff-Love theory (implying small deflections and that normals to the mid-surface remain straight and normal after deformation), the material layers are isotropic and linearly elastic, the system is in a state of plane stress, and the in-plane strain is equi-biaxial. Poisson's ratio for each material is assumed to be independent of temperature, a common simplification.\n\nThe through-thickness coordinate is denoted by $z$, measured from the bottom of the substrate layer. The total strain $\\varepsilon(z)$ at any point through the thickness is a sum of the uniform midplane strain $\\varepsilon_0$ and a bending strain that varies linearly with $z$:\n$$\n\\varepsilon(z) = \\varepsilon_0 + z \\kappa\n$$\nwhere $\\kappa$ is the uniform, equi-biaxial curvature of the plate.\n\nThe total strain $\\varepsilon(z)$ is composed of an elastic component $\\varepsilon_e(z,T)$ and a thermal component $\\varepsilon_{th}(T)$. The thermal strain is uniform within each layer and is given by $\\varepsilon_{th, i}(T) = \\alpha_i(T) \\Delta T$, where $\\alpha_i(T)$ is the temperature-dependent coefficient of thermal expansion for layer $i \\in \\{s, f\\}$ (substrate, film) and $\\Delta T = T - T_{\\mathrm{ref}}$ is the temperature change from a stress-free reference state $T_{\\mathrm{ref}}$.\n\nUnder plane stress conditions, Hooke's law relates the in-plane stress $\\sigma_i(z,T)$ to the elastic strain $\\varepsilon_{e, i}(z,T) = \\varepsilon(z) - \\varepsilon_{th, i}(T)$:\n$$\n\\sigma_i(z,T) = \\bar{E}_i(T) \\varepsilon_{e, i}(z,T) = \\bar{E}_i(T) \\left[ \\varepsilon_0 + z \\kappa - \\alpha_i(T) \\Delta T \\right]\n$$\nwhere $\\bar{E}_i(T) = \\frac{E_i(T)}{1-\\nu_i}$ is the biaxial modulus of layer $i$, with $E_i(T)$ being the Young's modulus and $\\nu_i$ the Poisson's ratio.\n\nSince the wafer is free and not subjected to any external forces or moments, the net in-plane force resultant $N(T)$ and bending moment resultant $M(T)$ per unit width must be zero. These resultants are obtained by integrating the stress through the total thickness $h = h_s + h_f$:\n$$\nN(T) = \\int_0^{h} \\sigma(z,T) \\, dz = 0\n$$\n$$\nM(T) = \\int_0^{h} z \\, \\sigma(z,T) \\, dz = 0\n$$\nSubstituting the expression for stress, we can separate the mechanical and thermal contributions. Let's define the stiffness integrals $A(T)$, $B(T)$, and $D(T)$ and the thermal load integrals $N_T(T)$ and $M_T(T)$ as follows:\n$$\nA(T) = \\int_0^{h} \\bar{E}(z,T) \\, dz \\quad B(T) = \\int_0^{h} z \\bar{E}(z,T) \\, dz \\quad D(T) = \\int_0^{h} z^2 \\bar{E}(z,T) \\, dz\n$$\n$$\nN_T(T) = \\int_0^{h} \\bar{E}(z,T) \\alpha(z,T) \\Delta T \\, dz \\quad M_T(T) = \\int_0^{h} z \\bar{E}(z,T) \\alpha(z,T) \\Delta T \\, dz\n$$\nHere, $\\bar{E}(z,T)$ and $\\alpha(z,T)$ are piecewise functions, taking values for the substrate for $z \\in [0, h_s]$ and for the film for $z \\in [h_s, h_s+h_f]$. The equilibrium conditions $N(T)=0$ and $M(T)=0$ expand to:\n$$\nA(T) \\varepsilon_0 + B(T) \\kappa - N_T(T) = 0\n$$\n$$\nB(T) \\varepsilon_0 + D(T) \\kappa - M_T(T) = 0\n$$\nThis forms a $2 \\times 2$ linear system for the unknown kinematic variables $\\varepsilon_0(T)$ and $\\kappa(T)$:\n$$\n\\begin{bmatrix}\nA(T) & B(T) \\\\\nB(T) & D(T)\n\\end{bmatrix}\n\\begin{bmatrix}\n\\varepsilon_0(T) \\\\ \\kappa(T)\n\\end{bmatrix}\n=\n\\begin{bmatrix}\nN_T(T) \\\\ M_T(T)\n\\end{bmatrix}\n$$\nSince the material properties are constant within each layer, the integrals can be evaluated analytically. Let the substrate properties be denoted by subscript $s$ and film properties by $f$:\n- $A(T) = \\bar{E}_s(T) \\int_0^{h_s} dz + \\bar{E}_f(T) \\int_{h_s}^{h_s+h_f} dz = \\bar{E}_s(T) h_s + \\bar{E}_f(T) h_f$\n- $B(T) = \\bar{E}_s(T) \\int_0^{h_s} z dz + \\bar{E}_f(T) \\int_{h_s}^{h_s+h_f} z dz = \\bar{E}_s(T) \\frac{h_s^2}{2} + \\bar{E}_f(T) \\left(h_s h_f + \\frac{h_f^2}{2}\\right)$\n- $D(T) = \\bar{E}_s(T) \\int_0^{h_s} z^2 dz + \\bar{E}_f(T) \\int_{h_s}^{h_s+h_f} z^2 dz = \\bar{E}_s(T) \\frac{h_s^3}{3} + \\bar{E}_f(T) \\left(h_s^2 h_f + h_s h_f^2 + \\frac{h_f^3}{3}\\right)$\n- $N_T(T) = \\Delta T \\left(\\bar{E}_s(T) \\alpha_s(T) h_s + \\bar{E}_f(T) \\alpha_f(T) h_f \\right)$\n- $M_T(T) = \\Delta T \\left(\\bar{E}_s(T) \\alpha_s(T) \\frac{h_s^2}{2} + \\bar{E}_f(T) \\alpha_f(T) \\left(h_s h_f + \\frac{h_f^2}{2}\\right) \\right)$\n\nWe are tasked with finding the curvature $\\kappa(T)$. This can be found efficiently by applying Cramer's rule to the linear system:\n$$\n\\kappa(T) = \\frac{\\det \\begin{pmatrix} A(T) & N_T(T) \\\\ B(T) & M_T(T) \\end{pmatrix}}{\\det \\begin{pmatrix} A(T) & B(T) \\\\ B(T) & D(T) \\end{pmatrix}} = \\frac{A(T) M_T(T) - B(T) N_T(T)}{A(T) D(T) - B(T)^2}\n$$\nThe denominator $A(T)D(T) - B(T)^2$ is strictly positive for any physically realistic bilayer, ensuring a unique solution exists. If $T = T_{\\mathrm{ref}}$, then $\\Delta T = 0$, which makes $N_T(T) = M_T(T) = 0$, resulting in $\\kappa(T) = 0$, as expected.\n\nThe computational algorithm proceeds as follows: for each specified temperature $T$ in a given test case:\n1.  Calculate $\\Delta T = T - T_{\\mathrm{ref}}$. If $\\Delta T=0$, the curvature is $0$.\n2.  Evaluate the temperature-dependent material properties $E_s(T)$, $\\alpha_s(T)$, $E_f(T)$, and $\\alpha_f(T)$ using the provided linear functions.\n3.  Compute the corresponding biaxial moduli $\\bar{E}_s(T)$ and $\\bar{E}_f(T)$.\n4.  Assemble the coefficients $A(T)$, $B(T)$, $D(T)$, $N_T(T)$, and $M_T(T)$ using the analytical formulas derived above.\n5.  Solve for $\\kappa(T)$ using the Cramer's rule expression.\nThis process is repeated for all temperatures and all test cases.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\n\ndef solve():\n    \"\"\"\n    Solves the bilayer wafer curvature problem for the specified test cases.\n    \"\"\"\n    \n    # Define a dictionary to store material properties and their temperature dependencies.\n    # The functions take temperature T in Kelvin.\n    MATERIALS = {\n        'Si': {\n            'E_func': lambda T: 1.69e11 - 4.8e7 * (T - 300.0),\n            'nu': 0.27,\n            'alpha_func': lambda T: 2.6e-6 + 2.0e-9 * (T - 300.0)\n        },\n        'Si3N4': {\n            'E_func': lambda T: 2.50e11 - 2.0e7 * (T - 300.0),\n            'nu': 0.27,\n            'alpha_func': lambda T: 3.0e-6 + 1.5e-9 * (T - 300.0)\n        },\n        'Cu': {\n            'E_func': lambda T: 1.10e11 - 1.2e8 * (T - 300.0),\n            'nu': 0.34,\n            'alpha_func': lambda T: 16.5e-6 + 4.0e-9 * (T - 300.0)\n        }\n    }\n    \n    # Stress-free reference temperature in Kelvin.\n    T_ref = 300.0\n\n    def solve_case(case_params):\n        \"\"\"\n        Calculates the curvature for a single test case over a list of temperatures.\n        \"\"\"\n        h_s, film_mat_name, h_f, temperatures = case_params\n        \n        sub_mat = MATERIALS['Si']\n        film_mat = MATERIALS[film_mat_name]\n        \n        curvatures = []\n        \n        for T in temperatures:\n            # At the reference temperature, thermal stress and curvature are zero.\n            if T == T_ref:\n                curvatures.append(0.0)\n                continue\n            \n            delta_T = T - T_ref\n            \n            # --- Substrate properties at temperature T ---\n            E_s = sub_mat['E_func'](T)\n            nu_s = sub_mat['nu']\n            alpha_s = sub_mat['alpha_func'](T)\n            # Biaxial modulus for the substrate\n            E_bar_s = E_s / (1.0 - nu_s)\n            \n            # --- Film properties at temperature T ---\n            E_f = film_mat['E_func'](T)\n            nu_f = film_mat['nu']\n            alpha_f = film_mat['alpha_func'](T)\n            # Biaxial modulus for the film\n            E_bar_f = E_f / (1.0 - nu_f)\n            \n            # --- Stiffness matrix coefficients (A, B, D) ---\n            # These are derived by integrating the biaxial modulus through the thickness.\n            A = E_bar_s * h_s + E_bar_f * h_f\n            B = E_bar_s * (h_s**2 / 2.0) + E_bar_f * (h_s * h_f + h_f**2 / 2.0)\n            D = E_bar_s * (h_s**3 / 3.0) + E_bar_f * (h_s**2 * h_f + h_s * h_f**2 + h_f**3 / 3.0)\n            \n            # --- Thermal load vector components (N_T, M_T) ---\n            # These represent the internal force and moment generated by thermal mismatch.\n            N_T = delta_T * (E_bar_s * alpha_s * h_s + E_bar_f * alpha_f * h_f)\n            M_T = delta_T * (E_bar_s * alpha_s * (h_s**2 / 2.0) + E_bar_f * alpha_f * (h_s * h_f + h_f**2 / 2.0))\n            \n            # --- Solve for curvature kappa using Cramer's rule ---\n            # Denominator = det([[A, B], [B, D]]) = A*D - B*B\n            denominator = A * D - B**2\n            \n            # Numerator for kappa = det([[A, N_T], [B, M_T]]) = A*M_T - B*N_T\n            numerator = A * M_T - B * N_T\n            \n            # The matrix is non-singular for any physical bilayer system.\n            kappa = numerator / denominator\n            curvatures.append(kappa)\n            \n        return curvatures\n\n    # Define the test cases from the problem statement.\n    # Format: (substrate_thickness, film_material_name, film_thickness, [temperature_list])\n    test_cases = [\n        (7.75e-4, 'Si3N4', 1.0e-6, [300, 400, 500, 600, 500, 400, 300]),\n        (7.75e-4, 'Cu', 5.0e-6, [300, 500, 800, 500, 300]),\n        (7.75e-4, 'Si', 2.0e-6, [300, 700, 300]) # Film is also Si (edge case)\n    ]\n\n    results = []\n    for case in test_cases:\n        result = solve_case(case)\n        results.append(result)\n\n    # Format the final output string as specified in the problem statement.\n    # e.g., [[k1_1,k1_2,...],[k2_1,...],[k3_1,...]]\n    results_str = f\"[{','.join([f'[{\",\".join(map(str, r))}]' for r in results])}]\"\n    print(results_str)\n\nsolve()\n```"
        }
    ]
}