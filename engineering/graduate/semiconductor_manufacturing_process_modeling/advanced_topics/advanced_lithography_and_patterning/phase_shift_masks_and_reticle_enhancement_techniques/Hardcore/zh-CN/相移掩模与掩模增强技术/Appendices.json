{
    "hands_on_practices": [
        {
            "introduction": "相移掩模的核心优势在于利用相消干涉来锐化图像边缘。本练习将指导您从基本原理出发，构建一个计算模型，以量化简单相移结构相对于传统二元掩模所带来的图像对比度提升 。通过这个实践，您将把标量衍射理论与部分相干成像的Abbe模型相结合，将抽象的物理概念转化为可测量的光刻性能指标。",
            "id": "4150342",
            "problem": "要求您实现一个基于物理和数学基础的一维光学光刻空气成像模型，以量化在透明孔径旁引入一个$180^\\circ$相移边缘（一种边缘相移掩模（PSM）特征）相比于传统二元掩模所带来的图像对比度改善。建模背景为半导体制造过程建模，特别是相移掩模和光罩增强技术（RET），其推导必须从标量傅里叶光学和部分相干成像入手。\n\n给定一个由数值孔径（NA）表征的投影系统和一个由部分相干因子 $\\sigma$ 表征的传统光源，为两种掩模配置建模空气成像：\n- 一种具有半无限透明区域的二元掩模：$m_{\\mathrm{BIN}}(x)=1$ 对于 $x>0$ 且 $m_{\\mathrm{BIN}}(x)=0$ 对于 $x\\le 0$。\n- 一种边缘相移掩模（PSM），其在不透明侧旁边有一个 $180^\\circ$ 相移的透射边缘：$m_{\\mathrm{PSM}}(x)=1$ 对于 $x>0$，$m_{\\mathrm{PSM}}(x)=-1$ 对于 $-w<x\\le 0$（表示单位振幅的 $\\pi$ 相移），以及 $m_{\\mathrm{PSM}}(x)=0$ 对于 $x\\le -w$，其中边缘宽度 $w$ 固定为 $w=\\alpha \\,\\lambda/\\mathrm{NA}$，$\\alpha=0.25$。\n\n使用标量Abbe部分相干照明成像公式：空气像强度 $I(x)$ 是由半径为 $k_s=\\sigma\\,k_c$ 的均匀圆形光源上的点状光源元素产生的相干图像的非相干平均，其中 $k_c=\\mathrm{NA}/\\lambda$ 是相干截止空间频率。在一维情况下，通过沿光瞳轴采样光源位移 $s\\in[-k_s,k_s]$ 来对光源建模。对于每个源点 $s$，相干传递函数为 $H_s(k)=P(k-s)$，其中光瞳 $P(k)=1$ 当 $|k|\\le k_c$ 时，否则 $P(k)=0$。电场为 $E_s(x)=\\mathcal{F}^{-1}\\{ H_s(k)\\,M(k)\\}$，其中 $M(k)=\\mathcal{F}\\{m(x)\\}$ 是掩模透射率的傅里叶变换。部分相干空气成像为 $I(x)=\\langle |E_s(x)|^2\\rangle_s$，其中 $\\langle\\cdot\\rangle_s$ 表示对光源样本的平均。\n\n将边缘周围对称评估窗口中的局部对比度定义为 Michelson 对比度\n$$\nC=\\frac{I_{\\max}-I_{\\min}}{I_{\\max}+I_{\\min}},\n$$\n其中 $I_{\\max}$ 和 $I_{\\min}$ 是 $I(x)$ 在 $x\\in[-x_w,x_w]$ 上的最大值和最小值，窗口宽度 $x_w=0.5\\,\\lambda/\\mathrm{NA}$。分别计算二元掩模和PSM掩模的对比度 $C_{\\mathrm{BIN}}$ 和 $C_{\\mathrm{PSM}}$，并报告改善因子\n$$\nF=\\frac{C_{\\mathrm{PSM}}}{C_{\\mathrm{BIN}}}.\n$$\n\n使用的基本和建模假设：\n- 标量傅里叶光学，具有小角度近轴近似和理想圆形光瞳：相干传递函数的支持域受限于 $k_c=\\mathrm{NA}/\\lambda$。\n- 部分相干照明的Abbe成像：强度是来自均匀分布在半径为 $k_s=\\sigma\\,k_c$ 的光源盘上的点光源元素的相干图像的非相干平均。\n- 对于沿不变维度取向的边缘，采用一维掩模和成像。\n- 波长固定为 $\\lambda=193\\,\\mathrm{nm}$，内部建模和报告时，空间坐标 $x$ 必须使用 $\\mu\\mathrm{m}$ 单位。\n- 评估窗口宽度为 $x_w=0.5\\,\\lambda/\\mathrm{NA}$，以 $\\mu\\mathrm{m}$ 为单位测量。\n- 边缘相移掩模的宽度为 $w=\\alpha\\,\\lambda/\\mathrm{NA}$，固定 $\\alpha=0.25$，其 $180^\\circ$ 相移在边缘区域被建模为负单位振幅。\n\n数值实现要求：\n- 将长度为 $L=4.0\\,\\mu\\mathrm{m}$ 的一维空间域离散化为 $N_x=4096$ 个均匀样本。\n- 在 $-k_s$ 和 $k_s$ 之间（含两端）使用 $N_s=51$ 个均匀间隔的光源样本；当 $\\sigma=0$ 时，视为 $N_s=1$ 且 $s=0$。\n- 使用离散傅里叶变换计算 $\\mathcal{F}$ 和 $\\mathcal{F}^{-1}$，并通过离散傅里叶频率定义频率网格 $k$，单位为周期/$\\mu\\mathrm{m}$。\n\n您的程序必须为每个测试用例计算 $F$，并生成最终输出，形式为单行、方括号括起来的逗号分隔列表，每个浮点数四舍五入到六位小数，例如 $[f_1,f_2,\\ldots,f_n]$。输出中没有物理单位，因为 $F$ 是无量纲的；所有中间空间量必须在内部以 $\\mu\\mathrmm$ 处理。\n\n用于覆盖典型和边缘条件的测试套件：\n- 测试用例 1: $\\mathrm{NA}=0.85$, $\\sigma=0.50$。\n- 测试用例 2: $\\mathrm{NA}=0.20$, $\\sigma=0.50$。\n- 测试用例 3: $\\mathrm{NA}=0.93$, $\\sigma=0.30$。\n- 测试用例 4: $\\mathrm{NA}=0.85$, $\\sigma=0.00$。\n- 测试用例 5: $\\mathrm{NA}=0.85$, $\\sigma=1.00$。\n\n您的程序应生成单行输出，包含用方括号括起来的逗号分隔列表形式的结果（例如，$[f_1,f_2,f_3,f_4,f_5]$），其中每个条目是四舍五入到六位小数的改善因子 $F$。",
            "solution": "该问题已经过验证，被认为是科学上合理、定义明确且客观的。它提出了一个计算光刻中的标准任务，尽管有所简化：即使用标量衍射理论对边缘的空气成像进行建模，并量化一种光罩增强技术（RET），特别是边缘型相移掩模（PSM），相对于传统二元掩模的性能。所有必要的参数以及基于Abbe部分相干成像理论的清晰方法均已提供。\n\n解决方案首先构建指定成像模型的数值实现。该模型为给定的一维掩模透射率 $m(x)$、数值孔径 $\\mathrm{NA}$、波长 $\\lambda$ 和部分相干因子 $\\sigma$，计算晶圆上的空气像强度 $I(x)$。对二元掩模（$m_{\\mathrm{BIN}}$）和相移掩模（$m_{\\mathrm{PSM}}$）都执行此过程。随后，计算每种情况下的图像对比度并确定它们的比率。\n\n理论基础是Abbe的部分相干成像公式。在此模型中，部分相干光源被视为一组互不相干的点光源的集合。最终的图像强度是每个光源点产生的图像强度的总和。对于一维系统，位于对应空间频率 $s$ 的横向位置上的点光源，在像平面上产生电场 $E_s(x)$。总强度 $I(x)$ 是对所有光源点的平均值：\n$$\nI(x) = \\left\\langle |E_s(x)|^2 \\right\\rangle_s\n$$\n光源被定义为在频域中半径为 $k_s = \\sigma k_c$ 的区域内均匀分布的点，其中 $k_c = \\mathrm{NA}/\\lambda$ 是投影透镜光瞳的相干截止频率。对于这个一维问题，我们在区间 $s \\in [-k_s, k_s]$ 内用 $N_s$ 个点对光源进行均匀采样。\n\n单个光源点 $s$ 的电场 $E_s(x)$ 使用傅里叶光学计算。它是掩模的傅里叶变换 $M(k) = \\mathcal{F}\\{m(x)\\}$ 与相干传递函数 $H_s(k)$ 乘积的逆傅里叶变换：\n$$\nE_s(x) = \\mathcal{F}^{-1}\\left\\{ M(k) H_s(k) \\right\\}\n$$\n相干传递函数 $H_s(k)$ 由光瞳函数 $P(k)$ 平移 $s$ 得到，即 $H_s(k) = P(k-s)$。光瞳函数代表一个理想的低通滤波器，定义为当 $|k| \\le k_c$ 时 $P(k) = 1$，否则 $P(k) = 0$。这意味着对于每个光源点 $s$，成像系统会通过掩模在 $[s - k_c, s + k_c]$ 范围内的空间频率。\n\n数值实现过程如下：\n1. 定义一个长度为 $L = 4.0\\,\\mu\\mathrm{m}$、包含 $N_x = 4096$ 个点的一维空间网格 $x$。固定波长为 $\\lambda = 193\\,\\mathrm{nm} = 0.193\\,\\mu\\mathrm{m}$。相应的离散空间频率网格 $k$ 是利用离散傅里叶变换（DFT）的性质获得的。\n\n2. 对于每个测试用例 $(\\mathrm{NA}, \\sigma)$，计算相关的物理参数：$k_c = \\mathrm{NA}/\\lambda$，$k_s = \\sigma k_c$，PSM边缘宽度 $w = \\alpha\\lambda/\\mathrm{NA}$（其中 $\\alpha=0.25$），以及对比度评估窗口半宽 $x_w = 0.5\\lambda/\\mathrm{NA}$。\n\n3. 在离散空间网格 $x$ 上定义两个掩模透射函数：\n- **二元掩模 ($m_{\\mathrm{BIN}}$):** 对于 $x > 0$，$m_{\\mathrm{BIN}}(x) = 1$；对于 $x \\le 0$，$m_{\\mathrm{BIN}}(x) = 0$。\n- **相移掩模 ($m_{\\mathrm{PSM}}$):** 对于 $x>0$，$m_{\\mathrm{PSM}}(x) = 1$；对于 $-w  x \\le 0$，$m_{\\mathrm{PSM}}(x)=-1$；对于 $x \\le -w$，$m_{\\mathrm{PSM}}(x)=0$。\n\n4. 对每个掩模，计算空气成像：\n    a. 通过对 $m(x)$ 进行快速傅里叶变换（FFT）计算掩模频谱 $M(k)$。\n    b. 对 $[-k_s, k_s]$ 区间内 $N_s=51$ 个均匀间隔的光源点 $s$ 执行循环。对于相干情况 $\\sigma=0$，使用单个点 $s=0$。\n    c. 在每次迭代中，构建移位后的光瞳函数 $P(k-s)$。\n    d. 找到电场频谱 $E_s(k) = M(k)P(k-s)$，并通过逆FFT获得电场 $E_s(x)$。\n    e. 将强度 $|E_s(x)|^2$ 添加到累加和中。\n    f. 循环结束后，将总和除以光源点数（相干情况下为 $N_s$ 或 $1$）以获得最终的空气成像 $I(x)$。\n\n5. 对每个空气成像计算 Michelson 对比度 $C = (I_{\\max} - I_{\\min}) / (I_{\\max} + I_{\\min})$。$I_{\\max}$ 和 $I_{\\min}$ 是对称评估窗口 $x \\in [-x_w, x_w]$ 内的最大和最小强度值。由此得到 $C_{\\mathrm{BIN}}$ 和 $C_{\\mathrm{PSM}}$。\n\n6. 最终的改善因子计算为比率 $F = C_{\\mathrm{PSM}} / C_{\\mathrm{BIN}}$。对问题陈述中提供的所有测试用例重复此整个过程。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n# from scipy import ...\n\ndef calculate_improvement_factor(NA, sigma):\n    \"\"\"\n    Calculates the contrast improvement factor for a PSM over a binary mask.\n    \"\"\"\n    # Fundamental constants and numerical parameters\n    LAMBDA = 0.193  # Wavelength in um\n    L = 4.0         # Spatial domain length in um\n    NX = 4096       # Number of spatial samples\n\n    # Calculate image for binary mask\n    I_bin, x_grid = compute_aerial_image('BIN', NA, sigma, LAMBDA, L, NX)\n    C_bin = calculate_contrast(I_bin, x_grid, NA, LAMBDA)\n\n    # Calculate image for PSM mask\n    I_psm, _ = compute_aerial_image('PSM', NA, sigma, LAMBDA, L, NX)\n    C_psm = calculate_contrast(I_psm, x_grid, NA, LAMBDA)\n    \n    if C_bin == 0:\n        # Avoid division by zero, though physically unlikely for this problem.\n        return np.inf\n\n    return C_psm / C_bin\n\ndef compute_aerial_image(mask_type, NA, sigma, lambda_um, L, Nx):\n    \"\"\"\n    Computes the 1D aerial image using the Abbe model of partially coherent imaging.\n    \"\"\"\n    # Number of source samples\n    NS = 51\n\n    # Discretized spatial and frequency grids\n    dx = L / Nx\n    x = dx * (np.arange(Nx) - Nx / 2)  # Centered spatial grid\n    k = np.fft.fftfreq(Nx, d=dx)      # Frequency grid in cycles/um\n\n    # System parameters in physical units\n    kc = NA / lambda_um  # Coherent cutoff frequency\n    ks = sigma * kc      # Source radius in frequency space\n\n    # Define the mask transmission function m(x)\n    if mask_type == 'BIN':\n        mask = (x > 0).astype(float)\n    elif mask_type == 'PSM':\n        alpha = 0.25\n        w = alpha * lambda_um / NA  # Rim width\n        mask = np.zeros(Nx, dtype=float)\n        mask[x > 0] = 1.0\n        mask[(x > -w)  (x = 0)] = -1.0\n    else:\n        raise ValueError(\"Unknown mask type specified.\")\n\n    # Compute mask spectrum via FFT\n    M = np.fft.fft(mask)\n\n    # Define source samples\n    if sigma == 0:\n        s_samples = np.array([0.0])\n        num_s_samples = 1\n    else:\n        s_samples = np.linspace(-ks, ks, NS)\n        num_s_samples = NS\n    \n    # Incoherent summation over source points (Abbe's method)\n    total_intensity = np.zeros(Nx, dtype=float)\n    for s in s_samples:\n        # Coherent Transfer Function (pupil shifted by source point s)\n        # It's a low-pass filter centered at s.\n        pupil_s = (np.abs(k - s) = kc).astype(float)\n        \n        # E-field spectrum at image plane\n        E_spectrum = M * pupil_s\n        \n        # E-field at image plane via inverse FFT\n        E_field = np.fft.ifft(E_spectrum)\n        \n        # Accumulate intensity from this source point\n        total_intensity += np.abs(E_field)**2\n\n    # Average the intensities to get the final aerial image\n    aerial_image = total_intensity / num_s_samples\n    \n    return aerial_image, x\n\ndef calculate_contrast(intensity, x, NA, lambda_um):\n    \"\"\"\n    Calculates the Michelson contrast of an aerial image within a defined window.\n    \"\"\"\n    # Define the evaluation window half-width\n    xw = 0.5 * lambda_um / NA\n    \n    # Find indices within the evaluation window\n    eval_indices = np.where(np.abs(x) = xw)\n    \n    I_window = intensity[eval_indices]\n\n    # Handle case where window is empty (should not happen with given params)\n    if I_window.size == 0:\n        return 0.0\n\n    I_max = np.max(I_window)\n    I_min = np.min(I_window)\n    \n    denominator = I_max + I_min\n    if denominator  1e-9: # Check for near-zero denominator to avoid instability\n        return 0.0\n    \n    contrast = (I_max - I_min) / denominator\n    return contrast\n\ndef solve():\n    \"\"\"\n    Main function to run the test cases and print the results.\n    \"\"\"\n    # (Parameter set 1), (Parameter set 2), ...\n    test_cases = [\n        (0.85, 0.50),\n        (0.20, 0.50),\n        (0.93, 0.30),\n        (0.85, 0.00),\n        (0.85, 1.00),\n    ]\n\n    results = []\n    for NA, sigma in test_cases:\n        improvement_factor = calculate_improvement_factor(NA, sigma)\n        results.append(round(improvement_factor, 6))\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "尽管交替相移掩模（alt-PSM）非常强大，但在复杂的电路版图中分配相位（$0$ 或 $\\pi$）时，我们常常会遇到无法满足所有邻近特征相位相反要求的“相位冲突”。本练习将相移分配问题抽象为一个图论中的着色问题，让您能够运用算法思维来识别和解决这些冲突 。您将学习如何通过寻找图中的奇数长度环路来定位冲突，并计算出使版图变得可制造所需的最少“相位切割”次数。",
            "id": "4150402",
            "problem": "在半导体制造工艺建模的光学邻近效应校正 (OPC) 中，相移掩模 (PSM) 和光罩增强技术 (RET) 利用干涉来锐化空中成像。根据标量傅里叶光学，晶圆平面上的空中成像强度由 $I(\\mathbf{r}) = |E(\\mathbf{r})|^{2}$ 给出，其中 $E(\\mathbf{r})$ 是经过光瞳滤波的掩模透射所产生的复电场。当两个相邻的、接近关键尺寸的特征被赋予 $180^{\\circ}$ 的相对相移时，它们重叠的衍射场会在标称的暗区发生相消干涉，在预期的亮区发生相长干涉，从而提高成像对比度并扩展工艺窗口。这启发了对每个特征进行二元相位分配 $x_{i} \\in \\{0, \\pi\\}$ 的方法，其中邻近约束倾向于为足够接近的特征分配相反的相位。\n\n基于这些基础，推导一个算法来检测相位冲突，并使用修剪特征和相位切割来解决它们：\n\n- 将版图建模为一个无向图 $G=(V,E)$，其顶点集 $V=\\{v_{1}, v_{2}, \\dots, v_{n}\\}$ 对应于掩模特征，如果特征 $i$ 和 $j$ 之间的距离在临界间距之内（在此间距下，分配相反相位可以最大化成像对比度），则其边集 $E$ 包含 $(v_{i}, v_{j})$。一个可行的二元相位分配要求对于每条边 $(i,j) \\in E$，相位需满足 $x_{i} - x_{j} \\equiv \\pi \\pmod{2\\pi}$。\n- 仅使用第一性原理和核心定义，展示如何检测不可行性（即相位冲突）并用图论术语对其进行刻画。\n- 定义一种解决策略，该策略通过插入相位切割（以打破由所选边代表的约束）和相应的修剪特征（以阻止切割附近的杂散图形），使得修改后的图对于二元相位分配变得可行。\n\n然后，将您的算法应用于以下具有 $n = 7$ 个特征的示例版图：\n- 顶点集 $V = \\{v_{1}, v_{2}, v_{3}, v_{4}, v_{5}, v_{6}, v_{7}\\}$。\n- 边集\n$$\nE = \\big\\{(v_{1},v_{2}), (v_{2},v_{3}), (v_{3},v_{1}), (v_{3},v_{4}), (v_{4},v_{5}), (v_{5},v_{3}), (v_{5},v_{6}), (v_{6},v_{7}), (v_{7},v_{4}), (v_{2},v_{4})\\big\\}.\n$$\n\n计算在该示例图中消除所有相位冲突所需的最少相位切割次数，以使一致的二元相位分配存在。您的最终答案应表示为一个整数，不带单位。无需四舍五入。",
            "solution": "问题陈述经评估有效。它在科学上基于傅里叶光学和光罩增强技术（特别是交替相移掩模）的原理。所提供的模型，一个表示特征邻近度和相位约束的无向图，是该物理问题的一个标准且适定的形式化表述。该问题是客观、自洽的，并要求对一个明确定义的图论问题给出解答，而该问题直接适用于所述的工程挑战。\n\n该问题要求提供一个算法来管理光学邻近效应校正（OPC）中的相位分配，描述相位冲突的特征，并使用最少数量的“相位切割”来解决此类冲突。这需要应用于一个特定的版图。\n\n首先，我们用图论的术语来形式化该问题。版图被建模为一个无向图 $G=(V,E)$，其中顶点 $V$ 是掩模特征，边 $E$ 连接处于临界间距内的特征。每个特征 $v_i$ 被赋予一个来自集合 $\\{0, \\pi\\}$ 的相位 $x_i$。对于由一条边 $(v_i, v_j) \\in E$ 所代表的任意两个相邻特征，其可行性约束为 $x_i - x_j \\equiv \\pi \\pmod{2\\pi}$。这个条件等价于 $x_i \\neq x_j$。\n\n让我们将两种可能的相位 $0$ 和 $\\pi$ 与两种不同的“颜色”（例如 $C_0$ 和 $C_1$）关联起来。相位分配问题就等同于为每个顶点 $v_i \\in V$ 分配一种颜色 $c(v_i) \\in \\{C_0, C_1\\}$，使得对于每条边 $(v_i, v_j) \\in E$，都有 $c(v_i) \\neq c(v_j)$。这是图 $G$ 的 $2$-着色的定义。一个允许 $2$-着色的图被称为二分图。\n\n因此，相位冲突或不可行性对应于图 $G$ 不是 $2$-可着色的。图论的一个基本定理指出，一个图是二分图（即 $2$-可着色的）当且仅当它不包含奇数长度的环路。因此，相位冲突存在的充要条件是图 $G$ 包含至少一个奇数长度的环路。\n\n检测相位冲突的算法涉及搜索奇数长度的环路。这可以通过图遍历算法（如广度优先搜索 (BFS) 或深度优先搜索 (DFS)）高效完成。在遍历过程中，我们可以尝试对图进行 $2$-着色。从一个任意顶点开始，我们给它分配颜色 $C_0$。它的所有邻居都必须被分配颜色 $C_1$。它们的所有邻居又必须被分配颜色 $C_0$，依此类推。如果算法遇到一条连接两个已被分配相同颜色的顶点的边，就检测到了相位冲突。这一发现标志着存在一个奇数长度的环路。\n\n解决策略涉及插入“相位切割”。在两个特征 $v_i$ 和 $v_j$ 之间进行相位切割会移除它们必须具有相反相位的约束。在图模型中，这等同于从边集 $E$ 中删除边 $(v_i, v_j)$。总体目标是通过移除最少数量的边来使图成为二分图。这个问题被称为寻找奇环路横断的最小边集，它等价于无权图上的最大割 (MAX-CUT) 问题。需要移除的最小边数即为移除后能断开所有奇环路的最小边数。\n\n现在，我们将此框架应用于给定的示例版图。\n顶点集为 $V = \\{v_1, v_2, v_3, v_4, v_5, v_6, v_7\\}$。\n给出的边集为 $E = \\big\\{(v_1,v_2), (v_2,v_3), (v_3,v_1), (v_3,v_4), (v_4,v_5), (v_5,v_3), (v_5,v_6), (v_6,v_7), (v_7,v_4), (v_2,v_4)\\big\\}$。由于图是无向的，边 $(v_5,v_3)$ 与 $(v_3,v_5)$ 相同，因此我们考虑唯一的边集：\n$E = \\{(v_1,v_2), (v_2,v_3), (v_3,v_1), (v_3,v_4), (v_4,v_5), (v_3,v_5), (v_5,v_6), (v_6,v_7), (v_7,v_4), (v_2,v_4)\\}$。\n\n为了找到最少的相位切割次数，我们必须首先确定该图是否为二分图。我们寻找奇数长度的环路。\n通过观察，我们可以识别出几个奇数长度的环路：\n$1$. $C_1$: $v_1 \\to v_2 \\to v_3 \\to v_1$。其边为 $(v_1,v_2), (v_2,v_3), (v_3,v_1)$。长度为 $3$，是奇数。\n$2$. $C_2$: $v_3 \\to v_4 \\to v_5 \\to v_3$。其边为 $(v_3,v_4), (v_4,v_5), (v_5,v_3)$。长度为 $3$，是奇数。\n$3$. $C_3$: $v_2 \\to v_3 \\to v_4 \\to v_2$。其边为 $(v_2,v_3), (v_3,v_4), (v_2,v_4)$。长度为 $3$，是奇数。\n\n这些奇数环路的存在证实了该图不是二分图，因此若不进行修改，可行的二元相位分配是不可能的。我们必须移除边来打破所有奇数环路。\n\n为了找到最小切割数，我们可以建立一个下界。环路 $C_1 = (v_1,v_2,v_3)$ 和 $C_2 = (v_3,v_4,v_5)$ 是不同的。我们来检查它们的边集：\n$E(C_1) = \\{(v_1,v_2), (v_2,v_3), (v_3,v_1)\\}$\n$E(C_2) = \\{(v_3,v_4), (v_4,v_5), (v_3,v_5)\\}$\n这两个边集是不相交的。要同时打破这两个环路，我们必须从 $E(C_1)$ 中移除至少一条边，并从 $E(C_2)$ 中移除至少一条边。因此，所需的最小切割数必须至少为 $2$。\n\n现在，我们必须确定 $2$ 次切割是否足够。这可以通过找到一个包含 $2$ 条边的集合，移除这些边能使图成为二分图来实现。这等价于找到顶点集的一个二分划分 $(A, B)$，使得恰好有 $2$ 条边的两个端点都位于 $A$ 或 $B$ 中。让我们尝试构建这样一个划分。\n我们提出以下划分：\n集合 $A = \\{v_1, v_4, v_6\\}$\n集合 $B = \\{v_2, v_3, v_5, v_7\\}$\n\n我们现在检查 $E$ 中的每一条边，看它是否连接了同一集合内的顶点。这些“内部”边代表了此划分的相位冲突。\n$1$. $(v_1,v_2)$: $v_1 \\in A, v_2 \\in B$。正常。\n$2$. $(v_2,v_3)$: $v_2 \\in B, v_3 \\in B$。这是一个冲突。必须切割这条边。\n$3$. $(v_3,v_1)$: $v_3 \\in B, v_1 \\in A$。正常。\n$4$. $(v_3,v_4)$: $v_3 \\in B, v_4 \\in A$。正常。\n$5$. $(v_4,v_5)$: $v_4 \\in A, v_5 \\in B$。正常。\n$6$. $(v_3,v_5)$: $v_3 \\in B, v_5 \\in B$。这是一个冲突。必须切割这条边。\n$7$. $(v_5,v_6)$: $v_5 \\in B, v_6 \\in A$。正常。\n$8$. $(v_6,v_7)$: $v_6 \\in A, v_7 \\in B$。正常。\n$9$. $(v_7,v_4)$: $v_7 \\in B, v_4 \\in A$。正常。\n$10$. $(v_2,v_4)$: $v_2 \\in B, v_4 \\in A$。正常。\n\n对于此划分，只有两条边 $(v_2,v_3)$ 和 $(v_3,v_5)$ 连接了同一划分集（在此例中为集合 $B$）内的顶点。如果我们对这两条边执行相位切割，剩余的图就成为具有划分 $(A,B)$ 的二分图。\n将相位 $0$ 分配给 $A$ 中的所有顶点，将相位 $\\pi$ 分配给 $B$ 中的所有顶点，对于修改后的图来说，将是一个有效的相位分配。\n\n由于我们已经建立了一个 $2$ 次切割的下界，并且找到了一个恰好使用 $2$ 次切割的有效解，我们可以得出结论，所需的最少相位切割次数为 $2$。",
            "answer": "$$\\boxed{2}$$"
        },
        {
            "introduction": "理想的设计与物理现实之间总存在差距，在掩模制造中尤其如此。本练习旨在探讨掩模制造过程中的非理想效应，特别是蚀刻沟槽的侧壁倾斜角对最终相移量的影响 。通过推导由于梯形轮廓引起的一阶相位修正，您将深刻理解为何制造公差的精确控制对于高级光刻胶增强技术（RET）的成功至关重要。",
            "id": "4150409",
            "problem": "考虑一种作为光罩增强技术 (RET) 的交替相移掩模 (PSM)，其实现方式是在折射率为 $n_{m}$ 的熔融石英掩模基底上刻蚀一个深度为 $h$ 的沟槽，沟槽中填充有折射率为 $n_{a}$ 的空气。一个自由空间波长为 $\\lambda$ 的垂直入射平面波穿过该掩模。出射表面的局部光学相位由光程 (OPL) 定义决定，其中相位累积与 $\\int n(\\mathbf{r})\\,ds$ 成正比。在理想的垂直侧壁情况下，该沟槽旨在使通过未刻蚀区域和刻蚀区域的光之间产生 $\\Delta \\phi = \\pi$ 的相对相移。然而，实际刻蚀产生的沟槽截面为梯形：沟槽侧壁与垂直方向有一个微小角度 $\\delta$ 的偏离，因此顶部宽度为 $w_{t}$，底部宽度为 $w_{b} = w_{t} - 2 h \\tan(\\delta)$。\n\n从光学相位的定义（$k_{0}$ 乘以 OPL，其中 $k_{0} = 2\\pi/\\lambda$）出发，通过对顶部孔径上的局部相位进行面积平均，来为梯形沟槽的有效相移建模。对于小角度 $\\delta$，推导由梯形侧壁引起的理想相移的一阶修正项 $\\Delta \\phi^{(1)}$ 的表达式，该表达式用 $\\lambda$、$n_{m}$、$n_{a}$、$h$、$w_{t}$ 和 $\\delta$ 表示。然后，利用理想矩形沟槽深度 $h$ 的选择需满足在垂直入射时产生 $\\Delta \\phi = \\pi$ 的物理要求，对以下参数进行 $\\Delta \\phi^{(1)}$ 的数值计算：\n$\\lambda = 193\\,\\mathrm{nm}$，$n_{m} = 1.56$，$n_{a} = 1.00$，$w_{t} = 200\\,\\mathrm{nm}$，以及 $\\delta = 0.035\\,\\mathrm{rad}$。\n\n最终的相位修正以弧度表示，并将您的答案四舍五入到四位有效数字。",
            "solution": "### 步骤 1：提取已知条件\n-   掩模类型：交替相移掩模 (PSM)\n-   增强技术：光罩增强技术 (RET)\n-   沟槽深度：$h$\n-   掩模基底折射率：$n_m$\n-   沟槽填充物（空气）折射率：$n_a$\n-   入射波：垂直入射平面波\n-   自由空间波长：$\\lambda$\n-   光学相位定义：$k_0 \\times \\text{OPL}$，其中 $k_0 = 2\\pi/\\lambda$，OPL 为光程 $\\int n(\\mathbf{r})\\,ds$。\n-   理想相对相移：$\\Delta \\phi = \\pi$\n-   实际沟槽几何形状：梯形截面\n-   侧壁与垂直方向的偏离角：$\\delta$（小角度）\n-   沟槽顶部宽度：$w_{t}$\n-   沟槽底部宽度：$w_{b} = w_{t} - 2 h \\tan(\\delta)$\n-   建模方法：对顶部孔径上的局部相位进行面积平均。\n-   任务 1：推导对于小角度 $\\delta$，由梯形侧壁引起的理想相移的一阶修正项 $\\Delta \\phi^{(1)}$。\n-   任务 2：对 $\\Delta \\phi^{(1)}$ 进行数值计算。\n-   数值参数：\n    -   $\\lambda = 193\\,\\mathrm{nm}$\n    -   $n_{m} = 1.56$\n    -   $n_{a} = 1.00$\n    -   $w_{t} = 200\\,\\mathrm{nm}$\n    -   $\\delta = 0.035\\,\\mathrm{rad}$\n-   最终答案格式：以弧度为单位，四舍五入到四位有效数字。\n\n### 步骤 2：使用提取的已知条件进行验证\n对问题进行验证。\n-   **科学上合理**：该问题陈述基于波动光学的基本原理，特别是光程、相位累积和折射率的概念。所描述的应用，即相移掩模，是半导体光刻中一种标准且关键的光罩增强技术。用带有梯形侧壁的非理想沟槽模型来表示制造误差是符合实际的。通过平均计算有效相位的方法是物理学和工程分析中一种常用且有效的简化方法。所有方面在科学上都是合理的。\n-   **适定的**：该问题是适定的。它清晰地定义了几何形状、需要使用的物理原理以及待推导的量。它为数值计算提供了所有必要的参数。目标是找到一个一阶修正项，这意味着一个明确定义的数学过程（对小角度 $\\delta$ 的泰勒展开）。该问题的结构导向一个唯一的解。\n-   **客观的**：该问题以精确、客观的语言陈述。它使用了光学和半导体工艺的标准术语。没有主观或基于观点的陈述。\n\n### 步骤 3：结论与行动\n该问题是**有效的**。它在科学上是合理的，适定的，并且是客观的。我将继续进行求解。\n\n首先，我们建立理想相移 $\\Delta \\phi = \\pi$ 的条件。相移是波穿过刻蚀区域与未刻蚀区域所累积的相位之差。对于深度为 $h$ 的理想矩形沟槽，光程差 (OPD) 为 $(n_m - n_a)h$。相移 $\\Delta \\phi$ 由 $k_0 \\times \\text{OPD}$ 给出，其中 $k_0 = 2\\pi/\\lambda$。\n$$ \\Delta \\phi_{\\text{ideal}} = k_0 (n_m - n_a) h = \\frac{2\\pi}{\\lambda} (n_m - n_a) h $$\n问题指出，这个理想相移为 $\\pi$。\n$$ \\pi = \\frac{2\\pi}{\\lambda} (n_m - n_a) h $$\n这使我们能够确定所需的刻蚀深度 $h$：\n$$ h = \\frac{\\lambda}{2(n_m - n_a)} $$\n这个关系式将在后续的数值计算中使用。\n\n接下来，我们为非理想梯形沟槽的相移建模。根据指示，我们需要通过对宽度为 $w_t$ 的顶部孔径上的局部相位进行平均来找到有效相移。我们定义一个坐标系，其中 $x$ 是穿过沟槽的横向位置，中心在 $x=0$。在位置 $x$ 处的沟槽深度由函数 $z_f(x)$ 给出。沟槽具有梯形截面，顶部宽度为 $w_t$，底部宽度为 $w_b = w_t - 2h\\tan(\\delta)$，深度为 $h$。\n深度剖面 $z_f(x)$ 为：\n-   $z_f(x) = h$ 对于 $|x| \\leq w_b/2$ （平坦底部）\n-   $z_f(x)$ 在倾斜区域 $w_b/2  |x|  w_t/2$ 内从 $h$ 线性变化到 $0$。\n\n在位置 $x$ 处，相对于未刻蚀区域的局部相移是 $\\Delta\\phi(x) = k_0 (n_m - n_a) z_f(x)$。有效相移 $\\overline{\\Delta\\phi}$ 是 $\\Delta\\phi(x)$ 在顶部孔径宽度 $w_t$ 上的平均值：\n$$ \\overline{\\Delta\\phi} = \\frac{1}{w_t} \\int_{-w_t/2}^{w_t/2} \\Delta\\phi(x) \\, dx = \\frac{k_0(n_m - n_a)}{w_t} \\int_{-w_t/2}^{w_t/2} z_f(x) \\, dx $$\n积分 $\\int_{-w_t/2}^{w_t/2} z_f(x) \\, dx$ 就是梯形截面的面积。梯形的面积 $A$ 由公式 $A = \\text{高} \\times \\frac{\\text{底}_1 + \\text{底}_2}{2}$ 给出。在我们的情况中，“高”是沟槽深度 $h$，“底”是顶部和底部宽度 $w_t$ 和 $w_b$。\n$$ A = h \\frac{w_t + w_b}{2} $$\n代入 $w_b = w_t - 2h\\tan(\\delta)$：\n$$ A = h \\frac{w_t + (w_t - 2h\\tan(\\delta))}{2} = h \\frac{2w_t - 2h\\tan(\\delta)}{2} = h(w_t - h\\tan(\\delta)) $$\n现在，我们将这个面积代回到平均相移的表达式中：\n$$ \\overline{\\Delta\\phi} = \\frac{k_0(n_m - n_a)}{w_t} [h(w_t - h\\tan(\\delta))] $$\n$$ \\overline{\\Delta\\phi} = k_0(n_m - n_a)h \\left(1 - \\frac{h}{w_t}\\tan(\\delta)\\right) $$\n我们识别出 $k_0(n_m - n_a)h$ 这一项是理想相移，它等于 $\\pi$。\n$$ \\overline{\\Delta\\phi} = \\pi \\left(1 - \\frac{h}{w_t}\\tan(\\delta)\\right) = \\pi - \\frac{\\pi h}{w_t}\\tan(\\delta) $$\n问题要求计算对于小角度 $\\delta$ 的一阶修正。对于小角度 $\\delta$（以弧度为单位），我们可以使用泰勒展开 $\\tan(\\delta) \\approx \\delta$。总相移可以写成理想部分加上一个修正项：$\\overline{\\Delta\\phi} = \\Delta \\phi_{\\text{ideal}} + \\Delta \\phi^{(\\text{correction})}$。对于 $\\delta$ 的一阶近似，这变为：\n$$ \\overline{\\Delta\\phi} \\approx \\pi - \\frac{\\pi h \\delta}{w_t} $$\n一阶修正项 $\\Delta\\phi^{(1)}$ 是 $\\delta$ 的线性项：\n$$ \\Delta\\phi^{(1)} = -\\frac{\\pi h \\delta}{w_t} $$\n这就是推导出的一阶修正表达式。\n\n为了进行数值计算，我们首先代入 $h$ 的表达式：\n$$ \\Delta\\phi^{(1)} = -\\frac{\\pi \\delta}{w_t} \\left(\\frac{\\lambda}{2(n_m - n_a)}\\right) = -\\frac{\\pi \\lambda \\delta}{2w_t(n_m - n_a)} $$\n现在我们代入给定的数值：\n-   $\\lambda = 193\\,\\mathrm{nm}$\n-   $n_{m} = 1.56$\n-   $n_{a} = 1.00$\n-   $w_{t} = 200\\,\\mathrm{nm}$\n-   $\\delta = 0.035\\,\\mathrm{rad}$\n\n$$ \\Delta\\phi^{(1)} = -\\frac{\\pi (193\\,\\mathrm{nm}) (0.035)}{2 (200\\,\\mathrm{nm}) (1.56 - 1.00)} $$\n纳米（nm）单位相互抵消，结果如要求一样以弧度为单位。\n$$ \\Delta\\phi^{(1)} = -\\frac{\\pi \\times 193 \\times 0.035}{2 \\times 200 \\times 0.56} = -\\frac{\\pi \\times 6.755}{400 \\times 0.56} = -\\frac{6.755\\pi}{224} $$\n计算数值：\n$$ \\Delta\\phi^{(1)} \\approx -0.03015625 \\times \\pi \\approx -0.09473901... $$\n问题要求答案四舍五入到四位有效数字。\n$$ \\Delta\\phi^{(1)} \\approx -0.09474 \\, \\text{rad} $$",
            "answer": "$$\\boxed{-0.09474}$$"
        }
    ]
}