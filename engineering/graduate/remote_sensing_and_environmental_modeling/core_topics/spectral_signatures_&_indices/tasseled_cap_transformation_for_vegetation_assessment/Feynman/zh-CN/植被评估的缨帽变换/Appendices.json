{
    "hands_on_practices": [
        {
            "introduction": "缨帽变换本质上是一种线性变换，其核心是将一个像素的光谱反射率向量投影到代表亮度、绿度等物理意义的基向量上。本练习旨在通过从第一性原理出发，推导并计算一个光谱向量在亮度轴上的标量投影，从而将抽象的线性代数概念与具体的遥感指数建立联系。通过这个实践，您将深入理解缨帽变换背后的基本数学机制。",
            "id": "3858323",
            "problem": "一台六波段光学成像光谱辐射计获取了某异质农业生态系统经过大气校正的地表方向反射率，波段范围从可见光到短波红外。设单个像素的光谱反射率由列向量 $\\mathbf{r} \\in \\mathbb{R}^{6}$ 表示，其波段依次为蓝、绿、红、近红外、短波红外1和短波红外2：\n$$\n\\mathbf{r} = \\begin{pmatrix}\n0.066 \\\\\n0.089 \\\\\n0.215 \\\\\n0.402 \\\\\n0.356 \\\\\n0.112\n\\end{pmatrix}.\n$$\n一个仪器团队定义了一个缨帽（Tasseled Cap, TC）亮度分量，作为此六维波段空间中的一个固定方向，由向量 $\\mathbf{b} \\in \\mathbb{R}^{6}$ 表示：\n$$\n\\mathbf{b} = \\begin{pmatrix}\n0.3029 \\\\\n0.2786 \\\\\n0.4733 \\\\\n0.5599 \\\\\n0.5080 \\\\\n0.1872\n\\end{pmatrix}.\n$$\n假设在 $\\mathbb{R}^{6}$ 上使用标准的欧几里得内积，并将 $\\mathbf{r}$ 在由 $\\mathbf{b}$ 生成的一维子空间上的投影解释为与场景亮度成正比的单变量指数。仅从内积空间中欧几里得内积、向量范数和正交投影的定义出发，推导 $\\mathbf{r}$ 在由 $\\mathbf{b}$ 定义的轴上的投影的有符号长度的表达式，并计算给定 $\\mathbf{r}$ 和 $\\mathbf{b}$ 的数值。将最终答案表示为无单位的小数，并四舍五入到五位有效数字。",
            "solution": "用户希望解决以下问题：\n一台六波段光学成像光谱辐射计获取了某异质农业生态系统经过大气校正的地表方向反射率，波段范围从可见光到短波红外。设单个像素的光谱反射率由列向量 $\\mathbf{r} \\in \\mathbb{R}^{6}$ 表示，其波段依次为蓝、绿、红、近红外、短波红外1和短波红外2：\n$$\n\\mathbf{r} = \\begin{pmatrix}\n0.066 \\\\\n0.089 \\\\\n0.215 \\\\\n0.402 \\\\\n0.356 \\\\\n0.112\n\\end{pmatrix}.\n$$\n一个仪器团队定义了一个缨帽（Tasseled Cap, TC）亮度分量，作为此六维波段空间中的一个固定方向，由向量 $\\mathbf{b} \\in \\mathbb{R}^{6}$ 表示：\n$$\n\\mathbf{b} = \\begin{pmatrix}\n0.3029 \\\\\n0.2786 \\\\\n0.4733 \\\\\n0.5599 \\\\\n0.5080 \\\\\n0.1872\n\\end{pmatrix}.\n$$\n假设在 $\\mathbb{R}^{6}$ 上使用标准的欧几里得内积，并将 $\\mathbf{r}$ 在由 $\\mathbf{b}$ 生成的一维子空间上的投影解释为与场景亮度成正比的单变量指数。仅从内积空间中欧几里得内积、向量范数和正交投影的定义出发，推导 $\\mathbf{r}$ 在由 $\\mathbf{b}$ 定义的轴上的投影的有符号长度的表达式，并计算给定 $\\mathbf{r}$ 和 $\\mathbf{b}$ 的数值。将最终答案表示为无单位的小数，并四舍五入到五位有效数字。\n\n### 问题验证\n\n**第一步：提取已知条件**\n\n-   反射率向量：$\\mathbf{r} = \\begin{pmatrix} 0.066 \\\\ 0.089 \\\\ 0.215 \\\\ 0.402 \\\\ 0.356 \\\\ 0.112 \\end{pmatrix} \\in \\mathbb{R}^{6}$\n-   缨帽亮度向量：$\\mathbf{b} = \\begin{pmatrix} 0.3029 \\\\ 0.2786 \\\\ 0.4733 \\\\ 0.5599 \\\\ 0.5080 \\\\ 0.1872 \\end{pmatrix} \\in \\mathbb{R}^{6}$\n-   数学框架：$\\mathbb{R}^{6}$ 上的标准欧几里得内积。\n-   任务：从第一性原理（内积、范数和正交投影的定义）出发，推导 $\\mathbf{r}$ 在由 $\\mathbf{b}$ 定义的轴上的投影的有符号长度的表达式。\n-   任务：计算给定 $\\mathbf{r}$ 和 $\\mathbf{b}$ 的数值。\n-   输出要求：一个无单位的小数，四舍五入到五位有效数字。\n\n**第二步：使用提取的已知条件进行验证**\n\n1.  **科学依据**：该问题基于缨帽变换，这是遥感领域中分析多光谱数据的一种成熟且标准的技术。反射率值对于有植被覆盖的地表是物理上现实的。亮度向量的系数与为陆地卫星（Landsat）等卫星传感器推导出的系数一致。其底层数学框架是线性代数。该问题在科学上和数学上都是合理的。\n2.  **适定性**：该问题要求计算一个向量在另一个向量上的标量投影，这是线性代数中唯一定义的量。所有必要的数据（两个向量）和数学背景（欧几里得内积空间）都已提供。\n3.  **客观性**：问题使用精确、客观的数学和科学术语陈述。没有歧义或主观内容。\n4.  **完整性与一致性**：问题是自包含的。向量的维度（$6$）是一致的。没有遗漏任何必要信息，也没有相互矛盾的约束。\n5.  **现实性与可行性**：反射率和缨帽向量的数值是符合实际的。所需的计算是可行的。\n\n**第三步：结论与行动**\n\n该问题是有效的。它具有科学依据，是适定的、客观的和完整的。我将进行推导和求解。\n\n### 解答\n\n目标是找到向量 $\\mathbf{r} \\in \\mathbb{R}^{6}$ 在由向量 $\\mathbf{b} \\in \\mathbb{R}^{6}$ 生成的一维子空间上的正交投影的有符号长度。这个量也被称为 $\\mathbf{r}$ 在 $\\mathbf{b}$ 上的标量投影。我们将按要求从第一性原理推导该表达式。\n\n设内积空间为配备了标准欧几里得内积的 $\\mathbb{R}^{6}$，对于任意两个向量 $\\mathbf{u} = (u_1, \\dots, u_6)^T$ 和 $\\mathbf{v} = (v_1, \\dots, v_6)^T$，其内积定义为：\n$$\n\\langle \\mathbf{u}, \\mathbf{v} \\rangle = \\mathbf{u}^T \\mathbf{v} = \\sum_{i=1}^{6} u_i v_i\n$$\n向量 $\\mathbf{u}$ 的范数通过内积定义为 $\\|\\mathbf{u}\\| = \\sqrt{\\langle \\mathbf{u}, \\mathbf{u} \\rangle}$。\n\n向量 $\\mathbf{r}$ 在由 $\\mathbf{b}$ 生成的子空间上的正交投影是一个向量，我们记为 $\\mathbf{p}$。由于 $\\mathbf{p}$ 位于由 $\\mathbf{b}$ 生成的子空间中，它必须是 $\\mathbf{b}$ 的一个标量倍：\n$$\n\\mathbf{p} = c \\mathbf{b}\n$$\n其中 $c$ 为某个标量。\n\n正交投影的定义特征是误差向量 $\\mathbf{r} - \\mathbf{p}$ 与其投影到的子空间正交。在这种情况下，这意味着 $\\mathbf{r} - \\mathbf{p}$ 必须与由 $\\mathbf{b}$ 生成的子空间中的每个向量正交，这等价于与 $\\mathbf{b}$ 本身正交。正交条件用内积表示为：\n$$\n\\langle \\mathbf{r} - \\mathbf{p}, \\mathbf{b} \\rangle = 0\n$$\n将 $\\mathbf{p} = c \\mathbf{b}$ 代入正交条件，我们得到：\n$$\n\\langle \\mathbf{r} - c \\mathbf{b}, \\mathbf{b} \\rangle = 0\n$$\n利用内积对其第一个参数的线性性质：\n$$\n\\langle \\mathbf{r}, \\mathbf{b} \\rangle - \\langle c \\mathbf{b}, \\mathbf{b} \\rangle = 0\n$$\n利用性质 $\\langle k \\mathbf{u}, \\mathbf{v} \\rangle = k \\langle \\mathbf{u}, \\mathbf{v} \\rangle$：\n$$\n\\langle \\mathbf{r}, \\mathbf{b} \\rangle - c \\langle \\mathbf{b}, \\mathbf{b} \\rangle = 0\n$$\n解出标量 $c$：\n$$\nc = \\frac{\\langle \\mathbf{r}, \\mathbf{b} \\rangle}{\\langle \\mathbf{b}, \\mathbf{b} \\rangle}\n$$\n因此，投影向量为 $\\mathbf{p} = \\frac{\\langle \\mathbf{r}, \\mathbf{b} \\rangle}{\\langle \\mathbf{b}, \\mathbf{b} \\rangle} \\mathbf{b}$。\n\n投影的“有符号长度”是 $\\mathbf{r}$ 沿着 $\\mathbf{b}$ 方向的标量分量。这是当投影向量 $\\mathbf{p}$ 表示为 $\\mathbf{b}$ 方向上的单位向量的倍数时的标量系数。令 $\\hat{\\mathbf{b}}$ 为 $\\mathbf{b}$ 方向上的单位向量：\n$$\n\\hat{\\mathbf{b}} = \\frac{\\mathbf{b}}{\\|\\mathbf{b}\\|}\n$$\n其中 $\\|\\mathbf{b}\\| = \\sqrt{\\langle \\mathbf{b}, \\mathbf{b} \\rangle}$。\n\n令 $L$ 为有符号长度。根据定义，$\\mathbf{p} = L \\hat{\\mathbf{b}}$。我们可以通过重写 $\\mathbf{p}$ 的表达式来找到 $L$：\n$$\n\\mathbf{p} = \\frac{\\langle \\mathbf{r}, \\mathbf{b} \\rangle}{\\langle \\mathbf{b}, \\mathbf{b} \\rangle} \\mathbf{b} = \\frac{\\langle \\mathbf{r}, \\mathbf{b} \\rangle}{\\|\\mathbf{b}\\|^2} \\mathbf{b} = \\left( \\frac{\\langle \\mathbf{r}, \\mathbf{b} \\rangle}{\\|\\mathbf{b}\\|} \\right) \\frac{\\mathbf{b}}{\\|\\mathbf{b}\\|} = \\left( \\frac{\\langle \\mathbf{r}, \\mathbf{b} \\rangle}{\\|\\mathbf{b}\\|} \\right) \\hat{\\mathbf{b}}\n$$\n通过与 $\\mathbf{p} = L \\hat{\\mathbf{b}}$ 比较，我们确定有符号长度 $L$ 为：\n$$\nL = \\frac{\\langle \\mathbf{r}, \\mathbf{b} \\rangle}{\\|\\mathbf{b}\\|} = \\frac{\\langle \\mathbf{r}, \\mathbf{b} \\rangle}{\\sqrt{\\langle \\mathbf{b}, \\mathbf{b} \\rangle}}\n$$\n这就是推导出的有符号长度的表达式。\n\n现在，我们为给定的向量计算其数值：\n$$\n\\mathbf{r} = \\begin{pmatrix} 0.066 \\\\ 0.089 \\\\ 0.215 \\\\ 0.402 \\\\ 0.356 \\\\ 0.112 \\end{pmatrix}, \\quad \\mathbf{b} = \\begin{pmatrix} 0.3029 \\\\ 0.2786 \\\\ 0.4733 \\\\ 0.5599 \\\\ 0.5080 \\\\ 0.1872 \\end{pmatrix}\n$$\n首先，我们计算内积 $\\langle \\mathbf{r}, \\mathbf{b} \\rangle$：\n$$\n\\langle \\mathbf{r}, \\mathbf{b} \\rangle = (0.066)(0.3029) + (0.089)(0.2786) + (0.215)(0.4733) + (0.402)(0.5599) + (0.356)(0.5080) + (0.112)(0.1872)\n$$\n$$\n\\langle \\mathbf{r}, \\mathbf{b} \\rangle = 0.0199914 + 0.0247954 + 0.1017595 + 0.2250798 + 0.1808480 + 0.0209664\n$$\n$$\n\\langle \\mathbf{r}, \\mathbf{b} \\rangle = 0.5734405\n$$\n接下来，我们计算 $\\mathbf{b}$ 的范数平方，即 $\\langle \\mathbf{b}, \\mathbf{b} \\rangle$：\n$$\n\\langle \\mathbf{b}, \\mathbf{b} \\rangle = (0.3029)^2 + (0.2786)^2 + (0.4733)^2 + (0.5599)^2 + (0.5080)^2 + (0.1872)^2\n$$\n$$\n\\langle \\mathbf{b}, \\mathbf{b} \\rangle = 0.09174841 + 0.07761796 + 0.22401289 + 0.31348801 + 0.25806400 + 0.03504384\n$$\n$$\n\\langle \\mathbf{b}, \\mathbf{b} \\rangle = 0.99997511\n$$\n$\\mathbf{b}$ 的范数是该值的平方根：\n$$\n\\|\\mathbf{b}\\| = \\sqrt{0.99997511} \\approx 0.9999875549\n$$\n最后，我们计算有符号长度 $L$：\n$$\nL = \\frac{\\langle \\mathbf{r}, \\mathbf{b} \\rangle}{\\|\\mathbf{b}\\|} = \\frac{0.5734405}{0.9999875549} \\approx 0.573447668\n$$\n问题要求结果四舍五入到五位有效数字。前五位有效数字是 $5, 7, 3, 4, 4$。第六位是 $7$，所以我们将第五位向上取整。\n$$\nL \\approx 0.57345\n$$\n这就是计算出的给定像素的缨帽亮度指数的数值。",
            "answer": "$$\n\\boxed{0.57345}\n$$"
        },
        {
            "introduction": "在真实的遥感影像中，像素很少由单一地物构成，通常是多种地物的混合体。此练习模拟了一个更为贴近现实的应用场景，它要求您首先运用线性光谱混合分析 (LSMA) 模型来计算混合像元的光谱反射率。接着，您将对计算出的混合光谱应用缨帽变换的绿度分量系数，这个过程展示了如何将缨帽变换应用于复杂的异质地表，是进行真实地貌植被评估的一项关键技能。",
            "id": "3858422",
            "problem": "一个由Landsat业务陆地成像仪 (OLI) 探测到的卫星像元，已知是水体、光合有效植被和裸土的混合物。假设采用线性光谱混合分析 (LSMA) 中的线性光谱混合模型，并且缨帽变换 (TCT) 的绿度分量是通过对波段反射率应用一个固定的线性变换得到的。考虑OLI的六个地表反射率波段：蓝光 ($B2$)、绿光 ($B3$)、红光 ($B4$)、近红外 ($B5$)、短波红外1 ($B6$) 和短波红外2 ($B7$)。该像元由 $30\\%$ 的水体、$50\\%$ 的植被和 $20\\%$ 的土壤组成，其面积分数分别为 $f_{\\mathrm{w}}=0.3$，$f_{\\mathrm{v}}=0.5$ 和 $f_{\\mathrm{s}}=0.2$。这些地物的端元地表反射率光谱 (无量纲) 如下：\n\n$$\\text{Water:}\\quad \\begin{pmatrix}0.04 \\\\ 0.03 \\\\ 0.02 \\\\ 0.01 \\\\ 0.01 \\\\ 0.01\\end{pmatrix},\\quad \\text{Vegetation:}\\quad \\begin{pmatrix}0.05 \\\\ 0.09 \\\\ 0.05 \\\\ 0.50 \\\\ 0.15 \\\\ 0.08\\end{pmatrix},\\quad \\text{Soil:}\\quad \\begin{pmatrix}0.10 \\\\ 0.15 \\\\ 0.20 \\\\ 0.25 \\\\ 0.30 \\\\ 0.25\\end{pmatrix},$$\n\n排序为 $\\left(B2, B3, B4, B5, B6, B7\\right)$。适用于Landsat OLI这些波段的缨帽变换 (TCT) 绿度系数如下：\n\n$$\\boldsymbol{\\alpha}_{\\mathrm{green}}=\\begin{pmatrix}-0.2941 \\\\ -0.2430 \\\\ -0.5424 \\\\ 0.7276 \\\\ 0.0713 \\\\ -0.1608\\end{pmatrix}.$$\n\n从反射率作为反射辐射亮度与入射辐照度的无量纲比率的物理定义，以及LSMA下的线性混合假设出发，推导出该混合像元的预期波段反射率，然后使用提供的绿度系数计算TCT绿度值。将最终答案表示为一个无单位小数，并四舍五入到四位有效数字。",
            "solution": "该问题是有效的，因为它在科学上基于遥感原理（线性光谱混合分析和缨帽变换），问题提法清晰，提供了所有必要数据，并以客观、正式的语言表述。其中没有矛盾、歧义或事实错误。\n\n求解过程分为两个主要步骤：首先，使用线性光谱混合分析 (LSMA) 模型计算混合像元的地表反射率；其次，将缨帽变换 (TCT) 的绿度变换应用于得到的反射率光谱。\n\nLSMA模型假定，混合像元的反射率是其组成端元反射率的线性组合，并由它们各自的面积分数加权。令 $\\mathbf{R}_{\\mathrm{pixel}}$ 为代表混合像元在指定的六个Landsat OLI波段 ($B2, B3, B4, B5, B6, B7$) 中地表反射率的6元素列向量。令 $\\mathbf{R}_{\\mathrm{w}}$、$\\mathbf{R}_{\\mathrm{v}}$ 和 $\\mathbf{R}_{\\mathrm{s}}$ 分别为水体、植被和土壤纯净端元的相应反射率向量，并令 $f_{\\mathrm{w}}$、$f_{\\mathrm{v}}$ 和 $f_{\\mathrm{s}}$ 为它们的面积分数。该模型表示为：\n$$ \\mathbf{R}_{\\mathrm{pixel}} = f_{\\mathrm{w}} \\mathbf{R}_{\\mathrm{w}} + f_{\\mathrm{v}} \\mathbf{R}_{\\mathrm{v}} + f_{\\mathrm{s}} \\mathbf{R}_{\\mathrm{s}} $$\n问题提供了分数丰度 $f_{\\mathrm{w}} = 0.3$，$f_{\\mathrm{v}} = 0.5$ 和 $f_{\\mathrm{s}} = 0.2$。注意这些分数之和为 $1$ ($0.3 + 0.5 + 0.2 = 1.0$)，这代表一个完全约束的混合。端元反射率向量也已给出。\n\n代入给定值：\n$$ \\mathbf{R}_{\\mathrm{pixel}} = 0.3 \\begin{pmatrix}0.04 \\\\ 0.03 \\\\ 0.02 \\\\ 0.01 \\\\ 0.01 \\\\ 0.01\\end{pmatrix} + 0.5 \\begin{pmatrix}0.05 \\\\ 0.09 \\\\ 0.05 \\\\ 0.50 \\\\ 0.15 \\\\ 0.08\\end{pmatrix} + 0.2 \\begin{pmatrix}0.10 \\\\ 0.15 \\\\ 0.20 \\\\ 0.25 \\\\ 0.30 \\\\ 0.25\\end{pmatrix} $$\n我们计算每个波段的加权和：\n$$ \\mathbf{R}_{\\mathrm{pixel}} = \\begin{pmatrix} (0.3)(0.04) + (0.5)(0.05) + (0.2)(0.10) \\\\ (0.3)(0.03) + (0.5)(0.09) + (0.2)(0.15) \\\\ (0.3)(0.02) + (0.5)(0.05) + (0.2)(0.20) \\\\ (0.3)(0.01) + (0.5)(0.50) + (0.2)(0.25) \\\\ (0.3)(0.01) + (0.5)(0.15) + (0.2)(0.30) \\\\ (0.3)(0.01) + (0.5)(0.08) + (0.2)(0.25) \\end{pmatrix} = \\begin{pmatrix} 0.012 + 0.025 + 0.020 \\\\ 0.009 + 0.045 + 0.030 \\\\ 0.006 + 0.025 + 0.040 \\\\ 0.003 + 0.250 + 0.050 \\\\ 0.003 + 0.075 + 0.060 \\\\ 0.003 + 0.040 + 0.050 \\end{pmatrix} $$\n这得到混合像元的反射率向量：\n$$ \\mathbf{R}_{\\mathrm{pixel}} = \\begin{pmatrix} 0.057 \\\\ 0.084 \\\\ 0.071 \\\\ 0.303 \\\\ 0.138 \\\\ 0.093 \\end{pmatrix} $$\nTCT绿度值，记为 $G$，计算为TCT绿度系数向量 $\\boldsymbol{\\alpha}_{\\mathrm{green}}$ 与像元的反射率向量 $\\mathbf{R}_{\\mathrm{pixel}}$ 的点积。\n$$ G = \\boldsymbol{\\alpha}_{\\mathrm{green}}^{\\mathrm{T}} \\mathbf{R}_{\\mathrm{pixel}} $$\n代入给定的系数和计算出的反射率向量：\n$$ G = \\begin{pmatrix} -0.2941  -0.2430  -0.5424  0.7276  0.0713  -0.1608 \\end{pmatrix} \\begin{pmatrix} 0.057 \\\\ 0.084 \\\\ 0.071 \\\\ 0.303 \\\\ 0.138 \\\\ 0.093 \\end{pmatrix} $$\n逐项进行计算：\n$$ G = (-0.2941)(0.057) + (-0.2430)(0.084) + (-0.5424)(0.071) + (0.7276)(0.303) + (0.0713)(0.138) + (-0.1608)(0.093) $$\n$$ G = -0.0167637 - 0.0204120 - 0.0385104 + 0.2204528 + 0.0098394 - 0.0149544 $$\n将这些值相加得到最终的TCT绿度值：\n$$ G = 0.1396517 $$\n问题要求答案四舍五入到四位有效数字。前四位有效数字是 $1$、$3$、$9$ 和 $6$。第五位数字是 $5$，因此需要将最后一位有效数字向上取整。\n$$ G \\approx 0.1397 $$\n这个值是无量纲的，与问题的物理定义一致。",
            "answer": "$$\\boxed{0.1397}$$"
        }
    ]
}