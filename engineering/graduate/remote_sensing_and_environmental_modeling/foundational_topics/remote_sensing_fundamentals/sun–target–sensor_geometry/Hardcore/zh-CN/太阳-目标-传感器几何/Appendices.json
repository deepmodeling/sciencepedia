{
    "hands_on_practices": [
        {
            "introduction": "为了量化太阳-目标-传感器几何关系，我们首先需要一种精确描述方向的数学语言。本练习将指导您把太阳天顶角和方位角这两个基于观测的角度，转换为局部ENU（东-北-天）坐标系下的方向矢量。掌握这项从第一性原理出发的坐标转换，是进行所有后续几何分析，如计算相位角或应用方向反射模型的关键一步。",
            "id": "3856007",
            "problem": "一个地面站点位于纬度 $35^{\\circ}$、经度 $-120^{\\circ}$。在某一特定时刻，从该站点观测到太阳，其太阳天顶角为 $30^{\\circ}$，太阳方位角为 $150^{\\circ}$，其中方位角从地理北方向顺时针测量。考虑本地的东-北-上 (ENU) 参考系，其中东轴指向经度增加的方向，北轴指向纬度增加的方向，上轴是远离地球中心的本地地表法线方向。设 $\\mathbf{s}$ 表示在此 ENU 坐标系中，从地面目标指向太阳的单位太阳光照方向向量。\n\n仅使用天顶角和方位角的基本几何定义以及 ENU 坐标轴的正交性，从第一性原理推导 $\\mathbf{s}$ 在 ENU 坐标系中的分量，然后根据给定角度计算它们的值。所有角度均以度为单位。将最终分量表示为有序三元组 $(s_{E}, s_{N}, s_{U})$，并将每个分量四舍五入到四位有效数字。这些分量是无量纲的。提供最终的有序三元组作为唯一结果。",
            "solution": "问题在于确定单位太阳光照向量 $\\mathbf{s}$ 在本地东-北-上 (ENU) 笛卡尔坐标系中的分量。太阳的方向由其天顶角 $\\theta_s$ 和方位角 $\\phi_s$ 指定。所提供的地面站点的纬度和经度确定了 ENU 参考系定义的位置，但对于几何变换本身而言并非必需。\n\n设 ENU 坐标系由一组标准正交基向量 $(\\hat{\\mathbf{e}}_E, \\hat{\\mathbf{e}}_N, \\hat{\\mathbf{e}}_U)$ 定义。太阳光照向量 $\\mathbf{s}$ 是一个从地面目标指向太阳的单位向量。它可以表示为基向量的线性组合：\n$$\n\\mathbf{s} = s_E \\hat{\\mathbf{e}}_E + s_N \\hat{\\mathbf{e}}_N + s_U \\hat{\\mathbf{e}}_U\n$$\n我们的目标是使用给定角度从第一性原理求出标量分量 $(s_E, s_N, s_U)$。\n\n太阳天顶角 $\\theta_s$ 定义为本地天顶（上方向）与太阳方向之间的夹角。因此，$\\theta_s$ 是向量 $\\mathbf{s}$ 与基向量 $\\hat{\\mathbf{e}}_U$ 之间的夹角。$\\mathbf{s}$ 沿上轴的分量 $s_U$ 是通过将 $\\mathbf{s}$ 投影到 $\\hat{\\mathbf{e}}_U$ 上得到的。使用点积的定义：\n$$\ns_U = \\mathbf{s} \\cdot \\hat{\\mathbf{e}}_U = |\\mathbf{s}| |\\hat{\\mathbf{e}}_U| \\cos(\\theta_s)\n$$\n由于 $\\mathbf{s}$ 和 $\\hat{\\mathbf{e}}_U$ 都是单位向量，它们的模长为 $|\\mathbf{s}| = 1$ 和 $|\\hat{\\mathbf{e}}_U| = 1$。因此，上方向的分量为：\n$$\ns_U = \\cos(\\theta_s)\n$$\n\n接下来，我们求解水平（东-北）平面中的分量。我们可以将向量 $\\mathbf{s}$ 分解为其垂直和水平部分：\n$$\n\\mathbf{s} = \\mathbf{s}_h + \\mathbf{s}_v\n$$\n其中 $\\mathbf{s}_v = s_U \\hat{\\mathbf{e}}_U$ 是垂直分量，$\\mathbf{s}_h = s_E \\hat{\\mathbf{e}}_E + s_N \\hat{\\mathbf{e}}_N$ 是水平分量，即 $\\mathbf{s}$ 在东-北平面上的投影。\n根据勾股定理应用于由 $\\mathbf{s}$ 及其投影构成的直角三角形，水平分量 $\\mathbf{s}_h$ 的模长由下式给出：\n$$\n|\\mathbf{s}_h| = |\\mathbf{s}| \\sin(\\theta_s) = \\sin(\\theta_s)\n$$\n\n太阳方位角 $\\phi_s$ 指定了水平向量 $\\mathbf{s}_h$ 在东-北平面内的方向。题目说明 $\\phi_s$ 是从地理北方向顺时针测量的。在我们的 ENU 参考系中，这对应于从 $\\hat{\\mathbf{e}}_N$ 轴顺时针测量的角度。\n\n为了求出北方向的分量 $s_N$，我们将水平向量 $\\mathbf{s}_h$ 投影到北轴 $\\hat{\\mathbf{e}}_N$ 上。根据定义，$\\mathbf{s}_h$ 和 $\\hat{\\mathbf{e}}_N$ 之间的夹角就是方位角 $\\phi_s$。\n$$\ns_N = |\\mathbf{s}_h| \\cos(\\phi_s) = \\sin(\\theta_s) \\cos(\\phi_s)\n$$\n\n为了求出东方向的分量 $s_E$，我们将 $\\mathbf{s}_h$ 投影到东轴 $\\hat{\\mathbf{e}}_E$ 上。ENU 参考系是一个右手系。如果北对应 y 轴正方向，东对应 x 轴正方向，那么从北轴顺时针测量到东轴的角度是 $270^{\\circ}$ 或 $-90^{\\circ}$。反之，从东轴顺时针测量到北轴的角度是 $90^{\\circ}$。向量 $\\mathbf{s}_h$ 相对于东轴的角度，顺时针测量为 $(\\phi_s - 90^{\\circ})$。因此，在东轴上的投影是：\n$$\ns_E = |\\mathbf{s}_h| \\cos(\\phi_s - 90^{\\circ})\n$$\n使用三角恒等式 $\\cos(x - 90^{\\circ}) = \\sin(x)$，我们得到：\n$$\ns_E = |\\mathbf{s}_h| \\sin(\\phi_s) = \\sin(\\theta_s) \\sin(\\phi_s)\n$$\n这个从第一性原理出发的推导得出了变换公式。\n\n总而言之，太阳光照向量 $\\mathbf{s}$ 的分量为：\n$$\ns_E = \\sin(\\theta_s) \\sin(\\phi_s)\n$$\n$$\ns_N = \\sin(\\theta_s) \\cos(\\phi_s)\n$$\n$$\ns_U = \\cos(\\theta_s)\n$$\n\n现在，我们代入给定的数值：$\\theta_s = 30^{\\circ}$ 和 $\\phi_s = 150^{\\circ}$。\n我们有以下三角函数值：\n$\\sin(30^{\\circ}) = \\frac{1}{2} = 0.5$\n$\\cos(30^{\\circ}) = \\frac{\\sqrt{3}}{2}$\n$\\sin(150^{\\circ}) = \\sin(180^{\\circ} - 30^{\\circ}) = \\sin(30^{\\circ}) = \\frac{1}{2} = 0.5$\n$\\cos(150^{\\circ}) = \\cos(180^{\\circ} - 30^{\\circ}) = -\\cos(30^{\\circ}) = -\\frac{\\sqrt{3}}{2}$\n\n将这些值代入分量方程：\n$s_E = \\sin(30^{\\circ}) \\sin(150^{\\circ}) = \\left(\\frac{1}{2}\\right) \\left(\\frac{1}{2}\\right) = \\frac{1}{4} = 0.25$\n$s_N = \\sin(30^{\\circ}) \\cos(150^{\\circ}) = \\left(\\frac{1}{2}\\right) \\left(-\\frac{\\sqrt{3}}{2}\\right) = -\\frac{\\sqrt{3}}{4}$\n$s_U = \\cos(30^{\\circ}) = \\frac{\\sqrt{3}}{2}$\n\n最后一步是进行数值计算并将结果四舍五入到四位有效数字。\n$s_E = 0.2500$\n$s_N = -\\frac{\\sqrt{3}}{4} \\approx -0.4330127... \\approx -0.4330$\n$s_U = \\frac{\\sqrt{3}}{2} \\approx 0.8660254... \\approx 0.8660$\n\n单位太阳光照向量 $\\mathbf{s}$ 在 ENU 坐标系中的分量为 $(0.2500, -0.4330, 0.8660)$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.2500  -0.4330  0.8660\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "有了描述太阳和传感器方向的矢量，我们便可以量化它们之间的角度关系，这直接影响地表的观测亮度。本练习将引导您推导相位角$g$的表达式，它是连接太阳、目标和传感器三者的核心几何量。您还将分析后向散射（$g \\approx 0$）这一特殊几何构型，这对于理解遥感图像中的“热点效应”至关重要。",
            "id": "3855985",
            "problem": "考虑一个水平的地球表面和一个局部右手坐标系，其单位法向量 $\\hat{\\mathbf{n}}$ 指向正上方。设太阳光照方向由太阳天顶角 $i$ 和太阳方位角 $\\phi_{s}$ 表征，传感器观测方向由观测天顶角 $e$ 和观测方位角 $\\phi_{v}$ 表征。在用于双向反射分布函数（BRDF）的标准双向几何结构中，相位角 $g$ 定义为从地表指向太阳的单位向量与从地表指向传感器的单位向量之间的夹角。从方向余弦和点积的定义出发，推导出一个在水平表面上用 $i$、$e$ 以及相对方位角差 $\\Delta \\phi = \\phi_{v} - \\phi_{s}$ 表示 $\\cos(g)$ 的表达式。利用该表达式，从第一性原理出发解释为什么后向散射几何结构对应于 $g \\approx 0$。最后，施加约束条件 $i = e$，推导在水平表面上使 $g = 0$ 时 $\\phi_{v}$ 和 $\\phi_{s}$ 需满足的条件。给出所需的相对方位角差 $\\Delta \\phi$ 的值，以弧度为单位。如果出现任何特殊的几何简并情况，请明确地予以分类，但不要改变所要求的数值。最终答案以弧度表示。无需四舍五入。",
            "solution": "该问题要求根据太阳-传感器几何关系推导相位角 $g$ 的余弦，并分析一个特殊情况。\n\n我们首先建立一个坐标系并表示方向向量。设本地坐标系为东-北-上 (ENU) 右手笛卡尔坐标系，其中地表法向（上）为 z 轴，即 $\\mathbf{n} = (0, 0, 1)$。\n\n太阳方向矢量 $\\mathbf{s}$ 从目标指向太阳。根据本文约定，其方向由天顶角 $i$ 和从北方顺时针测量的方位角 $\\phi_s$ 给出。其在 ENU (东, 北, 上) 坐标下的分量为：\n$$ \\mathbf{s} = (\\sin(i) \\sin(\\phi_s), \\sin(i) \\cos(\\phi_s), \\cos(i)) $$\n类似地，观测方向矢量 $\\mathbf{v}$ 从目标指向传感器，由天顶角 $e$ 和方位角 $\\phi_v$ 定义：\n$$ \\mathbf{v} = (\\sin(e) \\sin(\\phi_v), \\sin(e) \\cos(\\phi_v), \\cos(e)) $$\n\n相位角 $g$ 定义为矢量 $\\mathbf{s}$ 和 $\\mathbf{v}$ 之间的夹角。根据点积的定义，夹角的余弦为：\n$$ \\cos(g) = \\mathbf{s} \\cdot \\mathbf{v} $$\n代入笛卡尔分量，我们计算点积：\n$$ \\cos(g) = (\\sin(i) \\sin(\\phi_s)) (\\sin(e) \\sin(\\phi_v)) + (\\sin(i) \\cos(\\phi_s)) (\\sin(e) \\cos(\\phi_v)) + (\\cos(i)) (\\cos(e)) $$\n我们可以提出公因式 $\\sin(i) \\sin(e)$：\n$$ \\cos(g) = \\sin(i) \\sin(e) [\\cos(\\phi_s) \\cos(\\phi_v) + \\sin(\\phi_s) \\sin(\\phi_v)] + \\cos(i) \\cos(e) $$\n使用差角余弦的三角恒等式 $\\cos(A - B) = \\cos(A)\\cos(B) + \\sin(A)\\sin(B)$，令 $A = \\phi_v$ 和 $B = \\phi_s$，我们得到：\n$$ \\cos(g) = \\sin(i) \\sin(e) \\cos(\\phi_v - \\phi_s) + \\cos(i) \\cos(e) $$\n相对方位角差给定为 $\\Delta \\phi = \\phi_v - \\phi_s$。代入此定义，我们得到第一个要求的表达式：\n$$ \\cos(g) = \\cos(i) \\cos(e) + \\sin(i) \\sin(e) \\cos(\\Delta \\phi) $$\n\n接下来，我们从第一性原理出发解释为什么后向散射几何结构对应于 $g \\approx 0$。后向散射是辐射被直接散射回其源头的物理过程。在太阳-目标-传感器的几何关系中，这意味着传感器与太阳处于同一视线上，但位于太阳光照路径的反方向。向量 $\\mathbf{s}$ 从目标指向太阳。向量 $\\mathbf{v}$ 从目标指向传感器。为了让传感器截获后向散射的辐射，它必须与太阳位于相对于目标的完全相同的方向上。因此，指向传感器的方向向量 $\\mathbf{v}$ 必须与指向太阳的方向向量 $\\mathbf{s}$ 重合。数学上，这表示为 $\\mathbf{v} \\approx \\mathbf{s}$。相位角 $g$ 被定义为这两个向量之间的夹角。如果这两个向量几乎相同，根据定义，它们之间的夹角就几乎为零。因此，后向散射几何结构对应于 $g \\approx 0$。这种配置在遥感中也被称为“热点”。\n\n最后，我们施加约束条件 $i = e$ 和 $g = 0$ 来找出方位角需要满足的条件。设 $g = 0$ 意味着 $\\cos(g) = \\cos(0) = 1$。我们推导的表达式变为：\n$$ 1 = \\cos(i) \\cos(e) + \\sin(i) \\sin(e) \\cos(\\Delta \\phi) $$\n现在，我们应用约束条件 $i = e$：\n$$ 1 = \\cos(i) \\cos(i) + \\sin(i) \\sin(i) \\cos(\\Delta \\phi) $$\n$$ 1 = \\cos^2(i) + \\sin^2(i) \\cos(\\Delta \\phi) $$\n使用基本三角恒等式 $\\sin^2(i) + \\cos^2(i) = 1$，我们可以写出 $1 - \\cos^2(i) = \\sin^2(i)$。将其代入方程得到：\n$$ \\sin^2(i) = \\sin^2(i) \\cos(\\Delta \\phi) $$\n为了解出 $\\cos(\\Delta \\phi)$，我们必须考虑两种情况。\n\n情况1：$i \\neq 0$。天顶角 $i$ 的范围通常是 $[0, \\frac{\\pi}{2}]$。对于 $i \\neq 0$，我们有 $\\sin(i) \\neq 0$，因此 $\\sin^2(i) \\neq 0$。我们可以安全地将方程两边同时除以 $\\sin^2(i)$：\n$$ 1 = \\cos(\\Delta \\phi) $$\n$\\Delta \\phi$ 的解为 $\\Delta \\phi = 2k\\pi$，其中 $k$ 为任意整数。主值为 $\\Delta \\phi = 0$。这意味着 $\\phi_v - \\phi_s = 0$，即 $\\phi_v = \\phi_s$。这是当太阳天顶角和观测天顶角相等且非零时，实现精确后向散射几何结构（$g=0$）对方位角的要求。\n\n情况2：$i = 0$。如果太阳天顶角为 $i=0$，则光照来自正上方（天底）。约束条件 $i=e$ 意味着 $e=0$，即传感器也从正上方进行观测。在这种情况下，方程变为 $\\sin^2(0) = \\sin^2(0) \\cos(\\Delta \\phi)$，简化为 $0 = 0$。这个方程对 $\\cos(\\Delta \\phi)$ 的任何值都成立。这是一种几何简并情况。当太阳和传感器都位于天顶（$i=e=0$）时，它们的方位角 $\\phi_s$ 和 $\\phi_v$ 是未定义或不相关的。方向向量 $\\mathbf{s}$ 和 $\\mathbf{v}$ 都变成 $(0, 0, 1)$，因此它们完全对齐，相位角 $g$ 始终为 $0$，与方位角无关。\n\n问题要求的是所需的相对方位角差 $\\Delta \\phi$ 的值。除了 $i = e = 0$ 的简并情况外，条件明确为 $\\cos(\\Delta \\phi) = 1$。该条件的主值为 $\\Delta\\phi = 0$。所要求的数值，以弧度表示，是 $0$。",
            "answer": "$$\n\\boxed{0}\n$$"
        },
        {
            "introduction": "太阳-目标-传感器几何结构直接影响传感器接收到的地表反射信号，导致同一地物在不同观测角度下呈现出不同的亮度。本练习将介绍经典的Minnaert反射模型，并让您通过分析其参数$k$来量化地表的反射各向异性。这个实践将几何概念（入射角和出射角）与一个广泛应用的经验BRDF模型联系起来，展示了如何利用几何信息来更好地解译地表特性。",
            "id": "3855976",
            "problem": "一台机载成像光谱仪测量了均质地表的双向反射率，该地表反射率的角度依赖性使用 Minnaert 反射定律进行建模。在遥感中，双向反射分布函数（BRDF）将辐亮度与辐照度联系起来，作为光照和观测几何的函数，而像 Minnaert 模型这样的经验定律被广泛用于捕捉太阳-目标-传感器几何中的各向异性。考虑以下形式的 Minnaert 反射模型\n$$\nR = \\rho \\,\\cos^{\\,k-1}(i)\\,\\cos^{\\,k-1}(e),\n$$\n其中 $R$ 是方向反射因子，$\\rho$ 是一个类反照率参数，$k$ 是 Minnaert 参数，$i$ 是太阳入射天顶角，$e$ 是传感器出射（观测）天顶角。从“反射率的各向异性表现为 $R$ 对 $\\cos(i)$ 和 $\\cos(e)$ 的系统性依赖”这一经过充分检验的原理出发，使用对数微分法推导参数 $k$ 如何通过 $\\ln(R)$ 对 $\\ln(\\cos(i))$ 和 $\\ln(\\cos(e))$ 的灵敏度来控制各向异性。然后，对于一个具有 $\\rho = 0.3$、$k = 0.7$、$i = 50$ 度和 $e = 20$ 度的地表，计算在此几何条件下的反射率 $R$。在计算任何三角函数值之前，请将角度从度转换为弧度。将您的数值答案四舍五入到四位有效数字，并以无单位小数表示。",
            "solution": "该问题要求分析 Minnaert 反射模型，其方程如下：\n$$\nR = \\rho \\,\\cos^{\\,k-1}(i)\\,\\cos^{\\,k-1}(e)\n$$\n此处，$R$ 是方向反射因子，$\\rho$ 是一个类反照率参数，$k$ 是控制各向异性的 Minnaert 参数，$i$ 是太阳入射天顶角，$e$ 是传感器出射（观测）天顶角。\n\n任务的第一部分是推导参数 $k$ 如何通过 $\\ln(R)$ 对 $\\ln(\\cos(i))$ 和 $\\ln(\\cos(e))$ 的灵敏度来控制反射率的各向异性。为此，我们首先对 Minnaert 方程取自然对数。这是一种用于使模型线性化以便于分析和参数反演的标准技术。\n$$\n\\ln(R) = \\ln\\left(\\rho \\,\\cos^{\\,k-1}(i)\\,\\cos^{\\,k-1}(e)\\right)\n$$\n利用对数的性质 $\\ln(ab) = \\ln(a) + \\ln(b)$ 和 $\\ln(a^b) = b\\ln(a)$，我们可以展开该表达式：\n$$\n\\ln(R) = \\ln(\\rho) + \\ln(\\cos^{\\,k-1}(i)) + \\ln(\\cos^{\\,k-1}(e))\n$$\n$$\n\\ln(R) = \\ln(\\rho) + (k-1)\\ln(\\cos(i)) + (k-1)\\ln(\\cos(e))\n$$\n该方程揭示了 $\\ln(R)$ 与 $\\ln(\\cos(i))$ 和 $\\ln(\\cos(e))$ 两项之间的线性关系。$\\ln(R)$ 对这些几何项的灵敏度可以通过它们各自的偏导数来量化。\n\n我们计算 $\\ln(R)$ 对 $\\ln(\\cos(i))$ 的偏导数。在此运算中，$\\rho$、$k$ 和 $e$ 被视为常数。\n$$\n\\frac{\\partial \\ln(R)}{\\partial (\\ln(\\cos(i)))} = \\frac{\\partial}{\\partial (\\ln(\\cos(i)))} \\left[ \\ln(\\rho) + (k-1)\\ln(\\cos(i)) + (k-1)\\ln(\\cos(e)) \\right] = k-1\n$$\n类似地，我们计算 $\\ln(R)$ 对 $\\ln(\\cos(e))$ 的偏导数，将 $\\rho$、$k$ 和 $i$ 视为常数。\n$$\n\\frac{\\partial \\ln(R)}{\\partial (\\ln(\\cos(e)))} = \\frac{\\partial}{\\partial (\\ln(\\cos(e)))} \\left[ \\ln(\\rho) + (k-1)\\ln(\\cos(i)) + (k-1)\\ln(\\cos(e)) \\right] = k-1\n$$\n这些导数表明，对数反射率对角度余弦的对数的灵敏度是恒定的，且等于 $k-1$。这个结果阐明了 $k$ 的作用：\n- 如果 $k=1$，灵敏度为 $0$。反射率方程简化为 $R = \\rho$，这描述了一个完全漫反射或朗伯体表面。这种表面具有各向同性反射，意味着从所有观测方向看，其亮度都相同，与光照方向无关。\n- 如果 $k \\neq 1$，表面是各向异性的。$k$ 的值决定了这种各向异性的性质和程度。对于大多数自然地表，$0  k  1$，这使得 $k-1$ 为负。这表示一种“临边昏暗”效应，即地表朝向临边处（即在大的天顶角 $i$ 或 $e$ 处，此时 $\\cos(i)$ 和 $\\cos(e)$ 很小）显得更暗。\n- 如果 $k > 1$，$k-1$ 为正，对应于“临边增亮”效应，即反射率在大的天顶角处增加。\n\n因此，参数 $k$ 是地表反射率各向异性的一个直接且定量的度量。\n\n任务的第二部分是计算给定参数下的反射率 $R$：$\\rho = 0.3$，$k = 0.7$，$i = 50^\\circ$，$e = 20^\\circ$。\nMinnaert 模型中的指数是 $k-1$：\n$$\nk-1 = 0.7 - 1 = -0.3\n$$\n将给定值代入模型方程：\n$$\nR = 0.3 \\times \\cos^{-0.3}(50^\\circ) \\times \\cos^{-0.3}(20^\\circ)\n$$\n这个表达式可以合并为：\n$$\nR = 0.3 \\times \\left( \\cos(50^\\circ) \\cos(20^\\circ) \\right)^{-0.3}\n$$\n题目说明在计算三角函数之前必须将角度转换为弧度。标准计算器可以直接处理以度为单位的输入。余弦值为：\n$$\n\\cos(50^\\circ) \\approx 0.6427876\n$$\n$$\n\\cos(20^\\circ) \\approx 0.9396926\n$$\n然后我们计算它们的乘积：\n$$\n\\cos(50^\\circ) \\cos(20^\\circ) \\approx 0.6427876 \\times 0.9396926 \\approx 0.6040228\n$$\n接下来，我们将这个乘积提高到 $-0.3$ 次方：\n$$\n(0.6040228)^{-0.3} \\approx 1.1632716\n$$\n最后，我们乘以类反照率参数 $\\rho$：\n$$\nR = 0.3 \\times 1.1632716 \\approx 0.3489815\n$$\n题目要求将结果四舍五入到四位有效数字。\n$$\nR \\approx 0.3490\n$$\n方向反射因子 $R$ 是一个无量纲量。",
            "answer": "$$\\boxed{0.3490}$$"
        }
    ]
}