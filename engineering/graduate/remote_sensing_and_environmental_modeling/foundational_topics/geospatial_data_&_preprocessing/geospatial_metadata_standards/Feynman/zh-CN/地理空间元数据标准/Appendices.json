{
    "hands_on_practices": [
        {
            "introduction": "地理空间数据的位置精度是评估其可靠性的核心指标，也是元数据中必须明确说明的关键质量要素。本练习将指导您计算均方根误差（$RMSE$），这是根据 ISO 19157 标准量化和报告绝对位置精度的行业标准方法。通过这个实践，您将掌握从一组地面控制点的坐标残差中，推导出单一、有意义的精度统计数据的基本技能，这对于任何依赖精确地理配准的环境建模应用都至关重要 。",
            "id": "3816999",
            "problem": "一个遥感团队将一幅多光谱卫星图像地理配准到一个投影的、以米为单位的坐标参考系统。为了评估用于环境建模的水平位置精度，他们收集了用高精度全球导航卫星系统（GNSS）测量的地面控制点，并计算了图像派生位置与GNSS参考位置之间的残差向量。国际标准化组织（ISO）标准 $19157$ 定义了一个数据质量元素，“位置精度”，其定量结果必须是一个适合元数据编码的、带有单位的标量值。\n\n从基本的欧几里得几何以及均方误差作为随机误差大小估计量的定义出发，推导出一个单一的标量精度统计量，该统计量在水平误差是无偏的、各点之间独立的、并且在两个平面轴上是各向同性的假设下是适用的。然后，根据以下残差（每个残差 $i$ 以米为单位，表示为 $(dx_i, dy_i)$）计算该统计量：\n\n- $i=1$: $(0.35,-0.42)$\n- $i=2$: $(-0.28,0.31)$\n- $i=3$: $(0.12,-0.08)$\n- $i=4$: $(-0.50,-0.55)$\n- $i=5$: $(0.18,0.26)$\n- $i=6$: $(-0.04,0.10)$\n- $i=7$: $(0.67,-0.73)$\n- $i=8$: $(-0.22,-0.19)$\n- $i=9$: $(0.05,0.02)$\n- $i=10$: $(-0.39,0.44)$\n\n根据 ISO $19157$ 框架，该标量将作为“位置精度”（绝对外部位置精度）的定量结果进行编码，单位为米。报告将要编码的最终数值。答案以米表示，并四舍五入到四位有效数字。",
            "solution": "该问题被评估为有效。它在科学上基于统计学和大地测量学的原理，问题提出得很好，有足够的数据和明确的约束条件，并且语言客观。任务是推导并计算一个标准的位置精度度量。\n\n问题要求从一组 $N$ 个水平残差向量 $\\mathbf{r}_i = (dx_i, dy_i)$（其中 $i = 1, \\dots, N$）中推导出一个单一的标量精度统计量。推导必须基于基本的欧几里得几何和均方误差（MSE）的定义，并假设误差是无偏的、独立的和各向同性的。\n\n根据欧几里得几何，每个点 $i$ 的误差大小，即径向误差 $e_i$，是其残差向量的欧几里得范数：\n$$e_i = \\sqrt{dx_i^2 + dy_i^2}$$\n这表示图像派生位置与真实地面位置之间的直线距离。\n\n问题指定使用均方误差的概念。第 $i$ 个点的误差平方为 $e_i^2$：\n$$e_i^2 = dx_i^2 + dy_i^2$$\n这 $N$ 个点的均方误差是这些单个误差平方的算术平均值。在此背景下，它被称为均方径向误差，我们可以表示为 $MSRE$。\n$$MSRE = \\frac{1}{N} \\sum_{i=1}^{N} e_i^2 = \\frac{1}{N} \\sum_{i=1}^{N} (dx_i^2 + dy_i^2)$$\n误差无偏（即总体平均误差为零）的假设证明了相对于参考值 $0$ 计算 MSE 是合理的。各点之间独立的假设验证了以这种方式对误差平方求和的有效性。各向同性（所有方向上的误差方差相等）的假设是该统计量通常被解释的一个条件，但对于其计算而言并非严格要求。\n\n$MSRE$ 统计量的单位是长度的平方（例如，平方米）。ISO $19157$ 要求一个标量统计量，其单位与原始测量值（米）相同。为此，我们取 $MSRE$ 的平方根。得到的量是径向误差的均方根误差，记为 $RMSE_r$：\n$$RMSE_r = \\sqrt{MSRE} = \\sqrt{\\frac{1}{N} \\sum_{i=1}^{N} (dx_i^2 + dy_i^2)}$$\n这个统计量，通常称为水平或总 RMSE，是地理空间应用中位置精度的标准单值度量，并满足问题的所有要求。\n\n现在我们根据给定的数据计算这个值。我们有 $N=10$ 个残差向量。首先，我们计算分量的平方和，$\\sum dx_i^2$ 和 $\\sum dy_i^2$。\n\n给定的残差 $(dx_i, dy_i)$（单位：米）是：\n1: $(0.35, -0.42)$\n2: $(-0.28, 0.31)$\n3: $(0.12, -0.08)$\n4: $(-0.50, -0.55)$\n5: $(0.18, 0.26)$\n6: $(-0.04, 0.10)$\n7: $(0.67, -0.73)$\n8: $(-0.22, -0.19)$\n9: $(0.05, 0.02)$\n10: $(-0.39, 0.44)$\n\n$dx$ 分量的平方和是：\n$$ \\sum_{i=1}^{10} dx_i^2 = (0.35)^2 + (-0.28)^2 + (0.12)^2 + (-0.50)^2 + (0.18)^2 + (-0.04)^2 + (0.67)^2 + (-0.22)^2 + (0.05)^2 + (-0.39)^2 $$\n$$ \\sum_{i=1}^{10} dx_i^2 = 0.1225 + 0.0784 + 0.0144 + 0.2500 + 0.0324 + 0.0016 + 0.4489 + 0.0484 + 0.0025 + 0.1521 = 1.1512 $$\n\n$dy$ 分量的平方和是：\n$$ \\sum_{i=1}^{10} dy_i^2 = (-0.42)^2 + (0.31)^2 + (-0.08)^2 + (-0.55)^2 + (0.26)^2 + (0.10)^2 + (-0.73)^2 + (-0.19)^2 + (0.02)^2 + (0.44)^2 $$\n$$ \\sum_{i=1}^{10} dy_i^2 = 0.1764 + 0.0961 + 0.0064 + 0.3025 + 0.0676 + 0.0100 + 0.5329 + 0.0361 + 0.0004 + 0.1936 = 1.4220 $$\n\n径向误差平方的总和是：\n$$ \\sum_{i=1}^{10} e_i^2 = \\sum_{i=1}^{10} dx_i^2 + \\sum_{i=1}^{10} dy_i^2 = 1.1512 + 1.4220 = 2.5732 $$\n\n现在我们使用 $N=10$ 计算 $RMSE_r$：\n$$ RMSE_r = \\sqrt{\\frac{2.5732}{10}} = \\sqrt{0.25732} \\approx 0.50726718... $$\n\n问题要求最终答案报告为四位有效数字。前四位有效数字是 $5$、$0$、$7$、$2$。第五位有效数字是 $6$，大于或等于 $5$，所以我们将第四位有效数字向上取整。\n$$ RMSE_r \\approx 0.5073 $$\n这就是将要以米为单位进行编码的单一标量精度统计量。",
            "answer": "$$\\boxed{0.5073}$$"
        },
        {
            "introduction": "为了优化存储和传输效率，科学数据集（如 netCDF 文件）通常以“打包”的整数形式存储浮点数数据。本练习模拟了一个在数据处理中极为常见的任务：根据气候与预报（CF）元数据约定，使用 `scale_factor` 和 `add_offset` 属性来“解包”数据，并进行单位转换。这个过程深刻揭示了元数据在将原始存储值正确转换为有意义的物理量方面所起的关键作用，确保了数据的科学可用性 。",
            "id": "3817005",
            "problem": "一个网络通用数据格式 (netCDF) 文件遵循气候与预报 (CF) 元数据约定，并包含一个表示海表温度的压缩整数变量。该变量名为 \"sst\"，并以有符号 $16$ 位整数形式存储。其 CF 压缩属性如下：属性 `scale_factor` 等于 $0.01$，属性 `add_offset` 等于 $175.00$。\"sst\" 的 \"units\" 属性为 \"K\" (开尔文)，与 Unidata 单位 (UDUNITS) 库一致，表示解压缩后的物理值单位为开尔文。在时间 $t_{0}$，像素索引 $(i,j)=(512,1024)$ 处的压缩值为 $x_{\\mathrm{packed}}=12485$。\n\n根据 CF 数据压缩的定义以及 UDUNITS 对摄氏度-开尔文关系的定义，执行以下操作：\n\n- 解压缩该值，以获得 $(i,j,t_{0})$ 处的物理海表温度 $x_{\\mathrm{unpacked}}$（单位：开尔文）。\n- 将解压缩后的温度从开尔文转换为摄氏度。\n- 将最终的摄氏温度四舍五入至四位有效数字，并以摄氏度为单位表示答案。\n\n此外，根据 CF 元数据标准，在将数据解压缩为浮点值后，确定需要对元数据进行哪些必要的更新，以反映变量 \"sst\" 从开尔文到摄氏度的单位转换。请用文字描述这些更新，而不是通过计算。\n\n您最终提交的答案必须是对应于 $(i,j,t_{0})$ 处温度的单个实数值，以摄氏度为单位，并四舍五入到四位有效数字。请勿在最终的数字答案框中包含单位。",
            "solution": "该问题具有科学依据，提法明确且客观。它基于已确立的地理空间数据标准，特别是网络通用数据格式 (netCDF) 和气候与预报 (CF) 元数据约定。求解唯一解所需的所有数据和定义均已提供。解题过程涉及直接应用 CF 定义的数据解压缩公式和标准的物理单位转换。\n\n首先，我们解压缩该压缩整数值以获得真实的物理值。CF 元数据约定使用 `scale_factor` 和 `add_offset` 这两个属性来定义压缩值 ($x_{\\mathrm{packed}}$) 和解压缩后的物理值 ($x_{\\mathrm{unpacked}}$) 之间的关系，如下所示：\n$$x_{\\mathrm{unpacked}} = x_{\\mathrm{packed}} \\times \\text{scale\\_factor} + \\text{add\\_offset}$$\n问题提供了以下值：\n- 在指定位置，海表温度变量 \"sst\" 的压缩值为 $x_{\\mathrm{packed}} = 12485$。\n- `scale_factor` 属性为 $0.01$。\n- `add_offset` 属性为 $175.00$。\n\n将这些值代入公式，得出解压缩后的温度（单位：开尔文 $K$），正如元数据中的 `\"units\"` 属性所指定：\n$$x_{\\mathrm{unpacked}} = 12485 \\times 0.01 + 175.00$$\n$$x_{\\mathrm{unpacked}} = 124.85 + 175.00$$\n$$x_{\\mathrm{unpacked}} = 299.85$$\n因此，海表温度（单位：开尔文）为 $T_{\\mathrm{K}} = 299.85 \\, \\mathrm{K}$。\n\n接下来，我们将此温度从开尔文转换为摄氏度 ($^{\\circ}\\mathrm{C}$)。开氏温标 ($T_{\\mathrm{K}}$) 和摄氏温标 ($T_{^{\\circ}\\mathrm{C}}$) 之间的关系定义如下：\n$$T_{^{\\circ}\\mathrm{C}} = T_{\\mathrm{K}} - 273.15$$\n该定义是标准化的，并且是 UDUNITS 等库中进行单位转换的基础。\n\n将解压缩后的开尔文温度代入此方程：\n$$T_{^{\\circ}\\mathrm{C}} = 299.85 - 273.15$$\n$$T_{^{\\circ}\\mathrm{C}} = 26.70$$\n\n问题要求将最终答案四舍五入到四位有效数字。计算出的值为 $26.70$。数字 $2$、$6$、$7$ 和 $0$ 均为有效数字。末尾的零是有效数字，因为减法运算涉及的两个数都精确到小数点后两位，所以结果也精确到小数点后两位。因此，$26.70$ 这个值已经恰好有四位有效数字，无需进一步四舍五入。\n\n最后，问题要求说明为反映单位转换而需要进行的元数据更新。如果创建一个新变量来包含摄氏度的海表温度（或者如果覆盖原始变量），则根据 CF 约定，需要进行以下元数据更改：\n1.  **更新 `units` 属性**：变量 \"sst\" 的 `units` 属性必须从 `\"K\"` 更改为表示摄氏度的字符串。一个标准且合规的选择是 `\"Celsius\"` 或 `\"degree_C\"`。\n2.  **移除压缩属性**：`scale_factor` 和 `add_offset` 属性专用于压缩数据。由于新数据是解压缩后的浮点值，这些属性不再适用，必须从变量的元数据中移除。\n3.  **更新数据类型**：此操作隐含了变量数据类型的更改。它将从有符号 $16$ 位整数转换为浮点类型，例如 $32$ 位浮点数 (`float`) 或 $64$ 位浮点数 (`double`)，以精确存储解压缩后的值。\n\n所要求的数值答案是以摄氏度为单位的温度，并四舍五入到四位有效数字。",
            "answer": "$$\n\\boxed{26.70}\n$$"
        },
        {
            "introduction": "在遥感和全球导航卫星系统（GNSS）应用中，精确的时间记录至关重要，但这常常涉及到不同时间系统之间的复杂转换。本练习将引导您完成一个基本但关键的计算：将全球定位系统（GPS）时间戳转换为协调世界时（UTC），并按照 ISO 8601 标准进行格式化编码。这项技能对于确保跨平台、跨传感器的时间数据互操作性和可复现性是必不可少的，是创建符合 ISO 19115 标准的高质量元数据的基础 。",
            "id": "3817009",
            "problem": "一台用于遥感的星载成像光谱仪生成的采集时间以 GPS (Global Positioning System) 秒为单位，从 GPS 纪元开始计数。其 Level-1 产品必须根据国际标准化组织 (International Organization for Standardization, ISO) 19115 元数据标准进行记录，并使用协调世界时 (Coordinated Universal Time, UTC) 的 ISO 8601 日期时间编码，具体格式为 $YYYY$-$MM$-$DD$T$hh$:$mm$:$ss$Z$。该仪器报告的采集时间戳为 $t_{\\mathrm{GPS}} = 1{,}284{,}035{,}218$ 秒，数据集声明的 GPS–UTC 偏移量为 $N_{\\mathrm{leap}} = 18$ 闰秒。\n\n从基本定义出发，推导 GPS 时间与 UTC 时间之间的关系。然后，计算与 $t_{\\mathrm{GPS}}$ 对应的 UTC 时刻，并将其以要求的格式 $YYYY$-$MM$-$DD$T$hh$:$mm$:$ss$Z$ 写出其 ISO 8601 编码，以包含在元数据字段中。最后，将该 UTC 时刻转换为简化儒略日 (Modified Julian Date, MJD)，并提供四舍五入到七位有效数字的值。以天为单位表示最终数值。\n\n使用以下经过充分检验的事实作为您推导的基础：\n- GPS 纪元为 $1980$-$01$-$06$T$00$:$00$:$00$Z$。\n- GPS 时间是连续的，没有闰秒，并且在任何时刻都满足 $t_{\\mathrm{GPS}} - t_{\\mathrm{UTC}} = N_{\\mathrm{leap}}$。\n- UNIX 纪元为 $1970$-$01$-$01$T$00$:$00$:$00$Z$，从 UNIX 纪元到 GPS 纪元的偏移量为 $t_{0} = 315{,}964{,}800$ 秒。\n- 简化儒略日 (Modified Julian Date) 与 UNIX 时间的关系为 $\\mathrm{MJD} = \\mathrm{MJD}_{0} + \\frac{t_{\\mathrm{UNIX}}}{86400}$，其中 $\\mathrm{MJD}_{0} = 40{,}587$ 对应于 $1970$-$01$-$01$T$00$:$00$:$00$Z$，而 $86400$ 是一天中的秒数。\n\n将最终的 MJD 四舍五入到七位有效数字，并以天为单位表示。除非元数据编码的指定格式明确要求，否则不应进行其他舍入。",
            "solution": "解答过程包括三个步骤：首先，我们确定给定的 UTC 时刻自 UNIX 纪元以来经过的秒数。其次，我们将这个连续的秒数转换为标准的 ISO 8601 日历日期和时间格式。第三，我们将连续的秒数转换为简化儒略日 (MJD)。\n\n**1. 从 UNIX 纪元推导 UTC 时间（以秒为单位）**\n\n问题给出了 GPS 时间 $t_{\\mathrm{GPS}}$ 和 UTC 时间 $t_{\\mathrm{UTC}}$ 之间的关系为 $t_{\\mathrm{GPS}} - t_{\\mathrm{UTC}} = N_{\\mathrm{leap}}$。在此背景下，$t_{\\mathrm{GPS}}$ 表示自 GPS 纪元（$1980$-$01$-$06$T$00$:$00$:$00$Z$）以来连续计数的秒数。术语 $t_{\\mathrm{UTC}}$ 应解释为从同一 GPS 纪元开始，在 UTC 时间尺度上对应的国际单位制（SI）秒的连续计数。因此，自 GPS 纪元以来经过的 UTC 秒数为：\n$$ \\Delta t_{\\mathrm{UTC, from \\ GPS \\ epoch}} = t_{\\mathrm{GPS}} - N_{\\mathrm{leap}} $$\n代入给定值：\n$$ \\Delta t_{\\mathrm{UTC, from \\ GPS \\ epoch}} = 1{,}284{,}035{,}218 - 18 = 1{,}284{,}035{,}200 \\text{ seconds} $$\n\n为了找到相对于 UNIX 纪元（$1970$-$01$-$01$T$00$:$00$:$00$Z$）的时间，我们必须加上 UNIX 纪元和 GPS 纪元之间的偏移量。GPS 纪元发生在 UNIX 纪元之后的 $t_{0} = 315{,}964{,}800$ 秒。自 UNIX 纪元以来经过的 UTC 总秒数（表示为 $t_{\\mathrm{UNIX}}$）是该偏移量与自 GPS 纪元以来经过的时间之和。\n$$ t_{\\mathrm{UNIX}} = t_{0} + \\Delta t_{\\mathrm{UTC, from \\ GPS \\ epoch}} $$\n$$ t_{\\mathrm{UNIX}} = 315{,}964{,}800 + 1{,}284{,}035{,}200 = 1{,}600{,}000{,}000 \\text{ seconds} $$\n这个值 $t_{\\mathrm{UNIX}}$ 是对应于卫星观测的 UNIX 时间戳。\n\n**2. 转换为 ISO 8601 UTC 表示法**\n\n现在我们将 $t_{\\mathrm{UNIX}} = 1{,}600{,}000{,}000$ 秒转换为 $YYYY$-$MM$-$DD$T$hh$:$mm$:$ss$Z$ 格式。首先，我们将总秒数分为完整的天数和当天内剩余的秒数。一天包含 $86400$ 秒。\n自 UNIX 纪元以来经过的完整天数为：\n$$ N_{\\mathrm{days}} = \\left\\lfloor \\frac{t_{\\mathrm{UNIX}}}{86400} \\right\\rfloor = \\left\\lfloor \\frac{1{,}600{,}000{,}000}{86400} \\right\\rfloor = \\lfloor 18518.5185... \\rfloor = 18518 \\text{ days} $$\n进入当天的秒数为：\n$$ S_{\\mathrm{day}} = t_{\\mathrm{UNIX}} \\pmod{86400} = 1{,}600{,}000{,}000 \\pmod{86400} = 44800 \\text{ seconds} $$\n接下来，我们将 $S_{\\mathrm{day}}$ 转换为小时、分钟和秒：\n- 小时 ($hh$): $\\left\\lfloor \\frac{44800}{3600} \\right\\rfloor = 12$\n- 剩余秒数: $44800 - 12 \\times 3600 = 1600$\n- 分钟 ($mm$): $\\left\\lfloor \\frac{1600}{60} \\right\\rfloor = 26$\n- 剩余秒数 ($ss$): $1600 - 26 \\times 60 = 40$\n当天的时间是 $12$:$26$:$40$ UTC。\n\n为了确定日期，我们计算 UNIX 纪元日 $1970$-$01$-$01$ 之后的第 $18518$ 天对应的日历日期。$1970$ 年到 $2019$ 年共计 $50$ 年。此区间内的闰年有 $1972$、$1976$、$1980$、$1984$、$1988$、$1992$、$1996$、$2000$、$2004$、$2008$、$2012$ 和 $2016$。共有 $12$ 个闰年。从 $1970$-$01$-$01$ 到 $2019$-$12$-$31$ 的天数是 $50 \\times 365 + 12 = 18262$ 天。\n进入 $2020$ 年的天数是 $18518 - 18262 = 256$ 天。因此，当天是 $2020$ 年的第 $257$ 天。\n$2020$ 年是闰年。各月份天数如下：一月 ($31$)、二月 ($29$)、三月 ($31$)、四月 ($30$)、五月 ($31$)、六月 ($30$)、七月 ($31$)、八月 ($31$)。到八月底的累计天数是 $244$。\n九月份的日期是 $257 - 244 = 13$。\n因此，日期是 $2020$-$09$-$13$。\n\n结合日期和时间，ISO 8601 表示法为 $2020$-$09$-$13$T$12$:$26$:$40$Z$。\n\n**3. 转换为简化儒略日 (MJD)**\n\n问题提供了将 UNIX 时间戳转换为 MJD 的公式：\n$$ \\mathrm{MJD} = \\mathrm{MJD}_{0} + \\frac{t_{\\mathrm{UNIX}}}{86400} $$\n代入已知值：\n$$ \\mathrm{MJD} = 40587 + \\frac{1{,}600{,}000{,}000}{86400} $$\n$$ \\mathrm{MJD} = 40587 + 18518.5185185... $$\n$$ \\mathrm{MJD} = 59105.5185185... \\text{ days} $$\n问题要求将此值四舍五入到七位有效数字。该数的前七位数字是 $5, 9, 1, 0, 5, 5, 1$。第八位数字是 $8$，即 $\\ge 5$，因此我们将第七位数字 ($1$) 向上舍入为 $2$。\n$$ \\mathrm{MJD}_{\\mathrm{rounded}} = 59105.52 \\text{ days} $$\n这是最终的数值。",
            "answer": "$$\n\\boxed{59105.52}\n$$"
        }
    ]
}