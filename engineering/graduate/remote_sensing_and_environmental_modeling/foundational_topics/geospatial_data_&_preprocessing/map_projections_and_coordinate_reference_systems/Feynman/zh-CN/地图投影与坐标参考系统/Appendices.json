{
    "hands_on_practices": [
        {
            "introduction": "地图投影不可避免地会引入变形，而定量地理解这种变形是地图学的核心任务之一。这项练习  旨在深入探讨作为地图学基石的墨卡托投影，通过从微分几何的第一性原理出发，推导其比例因子。本实践将帮助你深刻理解“正形”这一关键性质，以及它如何决定一个投影的具体数学形式。",
            "id": "3826254",
            "problem": "一个遥感工作流在坐标参考系统 (CRS) 中对球形地球模型使用全球圆柱等角投影，其中地球被近似为半径 $R=6\\,378\\,137\\ \\mathrm{m}$ 的球体。设大地纬度为 $\\phi$，经度为 $\\lambda$，并考虑球面上的局部微分距离，由球面在地理坐标系下的第一基本形式给出：$ds^{2}=R^{2}\\left(d\\phi^{2}+\\cos^{2}\\!\\phi\\,d\\lambda^{2}\\right)$。圆柱投影将经线映射为垂直线，将纬线映射为水平线，因此地图坐标可以写成 $x=f(\\lambda)$ 和 $y=g(\\phi)$ 的形式，其中 $f$ 和 $g$ 是可微函数。点比例因子 $k(\\phi)$ 定义为在等角映射（其中局部比例是各向同性的）下，纬度 $\\phi$ 处无穷小地图长度与相应真实地面长度的共同比率。\n\n仅从上述球面度规、圆柱映射形式 $x=f(\\lambda)$ 和 $y=g(\\phi)$ 以及等角性定义（局部比例在所有方向上相等）出发，推导在赤道处比例为真实的条件下，球面墨卡托投影的依赖于纬度的点比例因子 $k(\\phi)$。然后，计算该比例因子在 $\\phi=45^{\\circ}$ 和 $\\phi=60^{\\circ}$ 处的值。如上所述，使用 $R=6\\,378\\,137\\ \\mathrm{m}$，并将角度量视为以度为单位。将最终的数值答案表示为无量纲比例因子，并四舍五入到七位有效数字。",
            "solution": "用户提供了一个制图学和微分几何领域的问题，要求推导球面墨卡托投影的点比例因子。\n\n### 问题验证\n\n**第一步：提取已知条件**\n-   模型：球形地球模型的全球圆柱等角投影。\n-   地球半径：$R=6\\,378\\,137\\ \\mathrm{m}$。\n-   坐标：大地纬度 $\\phi$，经度 $\\lambda$。\n-   球面度规（第一基本形式）：$ds^{2}=R^{2}\\left(d\\phi^{2}+\\cos^{2}\\!\\phi\\,d\\lambda^{2}\\right)$。\n-   映射形式：圆柱投影，地图坐标为 $x=f(\\lambda)$ 和 $y=g(\\phi)$，其中 $f$ 和 $g$ 可微。\n-   比例因子定义：点比例因子 $k(\\phi)$ 是在等角映射（局部比例各向同性）下，无穷小地图长度与相应真实地面长度的共同比率。\n-   条件1：映射是等角的。\n-   条件2：赤道（$\\phi=0$）处的比例是真实的（$k=1$）。\n-   任务1：推导依赖于纬度的点比例因子 $k(\\phi)$。\n-   任务2：计算 $\\phi=45^{\\circ}$ 和 $\\phi=60^{\\circ}$ 处的 $k(\\phi)$。\n-   输出规范：数值答案四舍五入到七位有效数字。\n\n**第二步：使用提取的已知条件进行验证**\n该问题具有科学依据，是地图投影理论中基于微分几何原理的一个标准练习。该问题是适定的，提供了足够的条件（球面度规、圆柱映射形式、等角性及一个归一化条件）来唯一确定比例因子。语言客观且精确。该问题不违反任何无效性标准。注意到问题中包含了半径 $R$，但它对最终的无量纲比例因子没有影响，这并不使问题无效。\n\n**第三步：结论与行动**\n问题有效。将提供一个完整的、有理有据的解答。\n\n### 推导与求解\n\n目标是使用球形地球模型，推导在赤道处比例为真实的圆柱等角投影的点比例因子 $k(\\phi)$。\n\n球面上的无穷小长度元 $ds$ 由第一基本形式给出：\n$$ds^{2}=R^{2}d\\phi^{2} + R^{2}\\cos^{2}\\!\\phi\\,d\\lambda^{2}$$\n其中 $R$ 是球体半径，$\\phi$ 是纬度，$\\lambda$ 是经度。\n\n该投影将球面映射到具有笛卡尔坐标 $(x, y)$ 的平面地图上。对于圆柱投影，映射函数的形式为 $x=f(\\lambda)$ 和 $y=g(\\phi)$。地图上的无穷小长度元 $ds_{map}$ 由平面上的欧几里得度规给出：\n$$ds_{map}^{2} = dx^{2} + dy^{2}$$\n\n使用链式法则，我们可以用 $d\\lambda$ 和 $d\\phi$ 来表示 $dx$ 和 $dy$：\n$$dx = \\frac{df}{d\\lambda}d\\lambda = f'(\\lambda)d\\lambda$$\n$$dy = \\frac{dg}{d\\phi}d\\phi = g'(\\phi)d\\phi$$\n\n将这些表达式代入地图度规中，得到：\n$$ds_{map}^{2} = (g'(\\phi))^{2}d\\phi^{2} + (f'(\\lambda))^{2}d\\lambda^{2}$$\n\n点比例因子 $k$ 由关系 $ds_{map} = k \\cdot ds$ 定义，这意味着 $ds_{map}^{2} = k^{2}ds^{2}$。问题指出投影是等角的，这意味着在任何给定点，所有方向上的比例都相同。因此，比例因子 $k$ 可以是位置的函数，即 $k=k(\\phi, \\lambda)$，但不是方向的函数。\n\n将 $ds^{2}$ 和 $ds_{map}^{2}$ 的表达式代入比例关系中：\n$$(g'(\\phi))^{2}d\\phi^{2} + (f'(\\lambda))^{2}d\\lambda^{2} = k^{2} \\left(R^{2}d\\phi^{2} + R^{2}\\cos^{2}\\!\\phi\\,d\\lambda^{2}\\right)$$\n$$(g'(\\phi))^{2}d\\phi^{2} + (f'(\\lambda))^{2}d\\lambda^{2} = k^{2}R^{2}d\\phi^{2} + k^{2}R^{2}\\cos^{2}\\!\\phi\\,d\\lambda^{2}$$\n\n为了使此等式对任何独立的无穷小位移 $d\\phi$ 和 $d\\lambda$ 都成立，等式两边 $d\\phi^{2}$ 和 $d\\lambda^{2}$ 的系数必须相等。\n\n令 $d\\phi^{2}$ 的系数相等：\n$$(g'(\\phi))^{2} = k^{2}R^{2} \\implies |g'(\\phi)| = kR$$\n假设纬度从南向北增加，则 $g'(\\phi) > 0$。因此，$g'(\\phi) = kR$。（方程1）\n\n令 $d\\lambda^{2}$ 的系数相等：\n$$(f'(\\lambda))^{2} = k^{2}R^{2}\\cos^{2}\\!\\phi \\implies |f'(\\lambda)| = kR\\cos\\phi$$\n假设经度从西向东增加，则 $f'(\\lambda) > 0$。因此，$f'(\\lambda) = kR\\cos\\phi$。（方程2）\n\n从方程1可知，左侧的 $g'(\\phi)$ 仅依赖于 $\\phi$。因此，右侧的 $kR$ 也必须仅依赖于 $\\phi$。由于 $R$ 是一个常数，这意味着比例因子 $k$ 必须仅是纬度 $\\phi$ 的函数，即 $k=k(\\phi)$。这与问题陈述中的记号 $k(\\phi)$ 一致。\n\n现在考虑方程2：$f'(\\lambda) = k(\\phi)R\\cos\\phi$。此方程的左侧 $f'(\\lambda)$ 仅是 $\\lambda$ 的函数，而右侧仅是 $\\phi$ 的函数。一个只关于 $\\lambda$ 的函数要对所有 $\\lambda$ 和 $\\phi$ 都等于一个只关于 $\\phi$ 的函数，唯一的方法是两者都等于一个常数。设此常数为 $C_1$。\n$$f'(\\lambda) = C_1$$\n$$k(\\phi)R\\cos\\phi = C_1$$\n\n从第二个关系式中，我们可以表达出比例因子 $k(\\phi)$：\n$$k(\\phi) = \\frac{C_1}{R\\cos\\phi}$$\n这给出了比例因子的函数形式，相差一个常数。\n\n为了确定常数 $C_1$，我们使用赤道处比例为真实的条件。这意味着在 $\\phi=0$ 处，比例因子 $k(0)$ 必须等于 $1$。\n$$k(0) = \\frac{C_1}{R\\cos(0)} = \\frac{C_1}{R \\cdot 1} = 1$$\n这意味着 $C_1 = R$。\n\n将 $C_1=R$ 代回 $k(\\phi)$ 的表达式中：\n$$k(\\phi) = \\frac{R}{R\\cos\\phi} = \\frac{1}{\\cos\\phi} = \\sec\\phi$$\n这就是在赤道处比例为真实的球面墨卡托投影的点比例因子的推导表达式。注意，正如预期的那样，比例因子是无量纲的，并且与地球半径 $R$ 无关。\n\n我们也可以确定完整的投影方程。从 $f'(\\lambda)=C_1=R$，积分得到 $x = f(\\lambda) = R\\lambda + C_2$。在 $\\lambda=0$ 处设 $x=0$ 得到 $C_2=0$，所以 $x=R\\lambda$。\n根据方程1，$g'(\\phi) = k(\\phi)R = (\\sec\\phi)R$。对 $\\phi$ 积分：\n$$y = g(\\phi) = \\int R\\sec\\phi \\,d\\phi = R \\ln|\\sec\\phi + \\tan\\phi| + C_3$$\n在 $\\phi=0$ 处设 $y=0$ 得到 $C_3=-R\\ln|\\sec(0)+\\tan(0)| = -R\\ln|1+0|=0$。所以，$y=R\\ln(\\sec\\phi + \\tan\\phi)$。这些是球面墨卡托投影的标准方程。\n\n最后一步是计算给定纬度下的 $k(\\phi)=\\sec\\phi$。\n\n1.  在 $\\phi=45^{\\circ}$ 处的计算：\n    $45^{\\circ}$ 的余弦是 $\\cos(45^{\\circ}) = \\frac{\\sqrt{2}}{2}$。\n    $$k(45^{\\circ}) = \\sec(45^{\\circ}) = \\frac{1}{\\cos(45^{\\circ})} = \\frac{1}{\\frac{\\sqrt{2}}{2}} = \\frac{2}{\\sqrt{2}} = \\sqrt{2}$$\n    数值为 $\\sqrt{2} \\approx 1.41421356...$。\n    四舍五入到七位有效数字，得到 $1.414214$。\n\n2.  在 $\\phi=60^{\\circ}$ 处的计算：\n    $60^{\\circ}$ 的余弦是 $\\cos(60^{\\circ}) = \\frac{1}{2}$。\n    $$k(60^{\\circ}) = \\sec(60^{\\circ}) = \\frac{1}{\\cos(60^{\\circ})} = \\frac{1}{\\frac{1}{2}} = 2$$\n    该值恰好为 $2$。为了表示为七位有效数字，我们写成 $2.000000$。\n\n在 $\\phi=45^{\\circ}$ 处的比例因子约为 $1.414214$，在 $\\phi=60^{\\circ}$ 处恰好为 $2.000000$。",
            "answer": "$$\\boxed{\\begin{pmatrix} 1.414214 & 2.000000 \\end{pmatrix}}$$"
        },
        {
            "introduction": "在掌握了一般理论之后，我们需要将其应用于具体且全球通用的坐标系统。通用横轴墨卡托 (Universal Transverse Mercator, UTM) 系统是遥感和环境建模领域的主力工具。这项练习  提供了确定 UTM 网格中任何给定位置基本参数的动手实践，这是处理 UTM 投影数据的关键第一步。",
            "id": "3826257",
            "problem": "一个点由1984年世界大地坐标系 (WGS 84) 的大地坐标定义，其经度为 $\\lambda=-123.5^\\circ$，纬度为 $\\phi=49^\\circ$。考虑将通用横轴墨卡托 (UTM) 投影作为坐标参考系统 (CRS)，采用标准的UTM经度分带和常规的伪原点定义。忽略在挪威 (Norway) 和斯瓦尔巴群岛 (Svalbard) 使用的特殊经度分带例外情况。\n\n仅根据以下基本事实：(i) UTM将地球划分为$60$个区域，每个区域跨越$6^\\circ$经度，从$\\lambda=-180^\\circ$开始向东编号为$1$到$60$；(ii) 每个区域的中央子午线是其$6^\\circ$经度跨度的中点；(iii) 选择UTM伪东坐标和伪北坐标是为了避免出现负的投影坐标，并带有取决于半球的北坐标偏移量。请为给定点确定以下参数：\n- 与经度 $\\lambda=-123.5^\\circ$ 相关联的UTM区域编号 $Z$，\n- 区域的中央子午线 $\\lambda_{0}$，以度为单位表示，\n- 适用于此CRS中纬度为 $\\phi=49^\\circ$ 的点的伪东坐标 $\\mathrm{FE}$ 和伪北坐标 $\\mathrm{FN}$ 偏移量，以米为单位表示。\n\n将您的最终答案表示为行矩阵 $\\begin{pmatrix}Z & \\lambda_{0} & \\mathrm{FE} & \\mathrm{FN}\\end{pmatrix}$，其中 $\\lambda_{0}$ 的单位为度，$\\mathrm{FE}$ 和 $\\mathrm{FN}$ 的单位为米。请提供精确值，无需四舍五入。角度必须以度为单位表示。",
            "solution": "所述问题是有效的。它在科学上基于大地测量学和地图学的原理，特别是通用横轴墨卡托 (UTM) 坐标系统的定义。该问题提法得当、客观，并且包含足够的信息，通过应用其名称所隐含的UTM系统标准约定，可以推导出唯一的解。\n\n任务是确定WGS 84椭球上一个大地坐标为经度 $\\lambda = -123.5^\\circ$ 和纬度 $\\phi = 49^\\circ$ 的点的UTM区域编号 $Z$、中央子午线 $\\lambda_{0}$、伪东坐标 $\\mathrm{FE}$ 和伪北坐标 $\\mathrm{FN}$。\n\n首先，我们确定UTM区域编号 $Z$。问题陈述地球被划分为$60$个区域，每个区域跨越$6^\\circ$经度，从180度子午线（$\\lambda = -180^\\circ$）开始向东编号为$1$到$60$。对于给定的经度 $\\lambda$，其区域编号可以通过将经度原点从本初子午线（$0^\\circ$）移至180度子午线（$-180^\\circ$），然后除以区域宽度（$6^\\circ$），最后对结果取上整（ceiling）来计算。这个数学关系表示为：\n$$Z = \\left\\lceil \\frac{\\lambda - (-180^\\circ)}{6^\\circ} \\right\\rceil = \\left\\lceil \\frac{\\lambda + 180^\\circ}{6^\\circ} \\right\\rceil$$\n代入给定的经度 $\\lambda = -123.5^\\circ$：\n$$Z = \\left\\lceil \\frac{-123.5 + 180}{6} \\right\\rceil = \\left\\lceil \\frac{56.5}{6} \\right\\rceil = \\lceil 9.4166\\ldots \\rceil = 10$$\n因此，该点位于UTM第10区。\n\n其次，我们确定第10区的中央子午线 $\\lambda_{0}$。问题陈述中央子午线是其所在区域$6^\\circ$经度跨度的中点。任何区域 $Z$ 的经度跨度是从经度 $-180^\\circ + (Z-1) \\times 6^\\circ$ 到 $-180^\\circ + Z \\times 6^\\circ$。对于第10区，西边界是 $-180^\\circ + (10-1) \\times 6^\\circ = -126^\\circ$，东边界是 $-180^\\circ + 10 \\times 6^\\circ = -120^\\circ$。中央子午线是这两个边界的平均值：\n$$\\lambda_{0} = \\frac{-126^\\circ + (-120^\\circ)}{2} = \\frac{-246^\\circ}{2} = -123^\\circ$$\n或者，区域 $Z$ 的中央子午线可以直接使用以下公式计算：\n$$\\lambda_{0} = (Z \\times 6^\\circ) - 183^\\circ$$\n对于 $Z=10$：\n$$\\lambda_{0} = (10 \\times 6^\\circ) - 183^\\circ = 60^\\circ - 183^\\circ = -123^\\circ$$\n第10区的中央子午线是 $\\lambda_{0} = -123^\\circ$。\n\n第三，我们确定伪东坐标 $\\mathrm{FE}$ 和伪北坐标 $\\mathrm{FN}$。这些是UTM系统中使用的常规偏移量，以确保所有投影坐标均为正值。\n伪东坐标 $\\mathrm{FE}$ 是一个应用于相对于中央子午线的东坐标的恒定值。任何UTM区的中央子午线都被赋予 $500,000$ 米的伪东坐标值，以防止区域内出现负的东坐标值。因此：\n$$\\mathrm{FE} = 500,000 \\, \\text{米}$$\n伪北坐标 $\\mathrm{FN}$ 取决于所在的半球。对于北半球的位置（纬度 $\\phi > 0^\\circ$），赤道是北坐标的原点，其值为 $0$ 米。由于所有北坐标值均为正，因此不需要偏移量。对于南半球的位置（纬度 $\\phi < 0^\\circ$），赤道被赋予 $10,000,000$ 米的值，以防止出现负的北坐标值。给定点的纬度为 $\\phi = 49^\\circ$，位于北半球。因此，伪北坐标为：\n$$\\mathrm{FN} = 0 \\, \\text{米}$$\n\n总而言之，为给定点确定的参数如下：\n- UTM区域编号 $Z = 10$\n- 中央子午线 $\\lambda_{0} = -123^\\circ$\n- 伪东坐标 $\\mathrm{FE} = 500,000$ 米\n- 伪北坐标 $\\mathrm{FN} = 0$ 米\n\n这四个值构成了最终答案，将以行矩阵的形式呈现。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n10 & -123 & 500000 & 0\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "本节旨在架起地图学理论与真实世界数据处理之间的桥梁。在处理全球栅格数据集时，诸如“反子午线”（即 180° 经线）等计算问题是无法回避的。这个编程练习  将指导你设计并实现一种算法，以确保数据在跨越 180° 经线时仍能保持连续性，这对于任何需要创建无缝全球地图产品的研究者来说，都是一项至关重要的技能。",
            "id": "3826281",
            "problem": "给定一个采用Plate Carrée投影（也称为等距圆柱投影）的全球经纬度栅格，该栅格参照世界大地测量系统$1984$（WGS$84$）坐标参考系统（CRS）。任务是从第一性原理出发，对对子午线（即$\\lambda = \\pm \\pi$弧度，对应$\\pm 180^\\circ$经度的线）进行分析，并为将栅格重投影到球面Web墨卡托投影（EPSG:$3857$）设计一种算法性分块方案，以避免输出网格中出现不连续性。然后，您必须为该方案计算一个定量的连续性度量。\n\n使用的基本依据：\n- 定义：经度 $\\lambda \\in [-\\pi, \\pi)$ 和纬度 $\\varphi \\in (-\\frac{\\pi}{2}, \\frac{\\pi}{2})$，单位均为弧度。假设地球为半径$R$米的球体。\n- 规范化经度包裹：对于任意经度$\\lambda$，定义归一化映射\n$$\nf(\\lambda) = ((\\lambda + \\pi) \\bmod 2\\pi) - \\pi,\n$$\n该映射将任意实数$\\lambda$映射到$[-\\pi, \\pi)$区间内。\n- 球面Web墨卡托正向变换（坐标单位为米）：对于经度$\\lambda$和纬度$\\varphi$，\n$$\nx = R \\,\\lambda, \\qquad y = R \\,\\ln\\!\\left(\\tan\\!\\left(\\frac{\\pi}{4} + \\frac{\\varphi}{2}\\right)\\right).\n$$\n本问题仅需考虑$x$坐标的连续性。\n- 分块：一个经度区间$[\\lambda_0, \\lambda_0 + \\Delta \\lambda)$，其中$\\lambda_0 \\in [-\\pi,\\pi)$且$\\Delta \\lambda > 0$，被视为经度上的单个分块。分块连续排列以覆盖完整的$2\\pi$经度范围。\n\n任务：\n1. 推导一个稳健的规则，用于分割任意分块区间$[\\lambda_0, \\lambda_0 + \\Delta \\lambda)$，以确保没有单个分段跨越对子午线。使用规范区间$[-\\pi, \\pi)$：\n   - 如果$\\lambda_0 + \\Delta \\lambda \\le \\pi$，则保留单个分段$[\\lambda_0, \\lambda_0 + \\Delta \\lambda)$。\n   - 如果$\\lambda_0 + \\Delta \\lambda > \\pi$，则在对子午线处将其分割为两个分段：\n     $[\\lambda_0, \\pi)$ 和 $[-\\pi, \\lambda_0 + \\Delta \\lambda - 2\\pi)$。\n   所有端点均以弧度为单位。在分割前，必须对任何起始经度应用归一化函数$f(\\cdot)$。\n2. 从指定的经度$\\lambda_s$开始，通过串联宽度为$\\Delta \\lambda$的分块来构建一个覆盖全球的分块方案，直到累积宽度恰好等于$2\\pi$。如果对于整数$N$，$N \\,\\Delta\\lambda$超过$2\\pi$，则必须截断最后一个分块的宽度，以确保精确覆盖$2\\pi$。每个构建的分块必须根据步骤1中的规则按需进行分割。\n3. 使用$R = 6378137\\,\\mathrm{m}$，通过$x = R\\,\\lambda$投影每个分割后的分段端点。将所有得到的$x$坐标区间分段按其左端点排序。将连续性度量定义为沿$x$轴的连续分段之间的最大绝对间隙：\n$$\nG = \\max_{i} \\left| x_{i+1}^{\\mathrm{left}} - x_{i}^{\\mathrm{right}} \\right|,\n$$\n单位为米。$G = 0$表示完全邻接，没有不连续性；任何$G > 0$表示不连续的大小。\n4. 在一个程序中实现此逻辑，该程序：\n   - 将上述步骤应用于测试套件中的每组参数。\n   - 为每个测试用例返回一个浮点数：连续性度量$G$，单位为米。\n\n角度单位要求：\n- 程序中所有角度的处理和指定都必须使用弧度。\n\n物理单位要求：\n- 所有$x$坐标和最终的连续性度量$G$必须以米表示。\n\n测试套件：\n使用地球半径$R = 6378137\\,\\mathrm{m}$和以下$(\\lambda_s, \\Delta\\lambda)$对（单位均为弧度）：\n- 案例1（理想情况）：$\\lambda_s = -\\pi$, $\\Delta\\lambda = \\frac{\\pi}{3}$。\n- 案例2（非整除宽度）：$\\lambda_s = -\\pi$, $\\Delta\\lambda = 100 \\cdot \\frac{\\pi}{180}$。\n- 案例3（带偏移的跨越）：$\\lambda_s = -\\pi + 20 \\cdot \\frac{\\pi}{180}$, $\\Delta\\lambda = 200 \\cdot \\frac{\\pi}{180}$。\n- 案例4（单个分块覆盖全球）：$\\lambda_s = -\\pi$, $\\Delta\\lambda = 2\\pi$。\n- 案例5（带偏移的半球宽度）：$\\lambda_s = -\\pi + \\frac{\\pi}{4}$, $\\Delta\\lambda = \\pi$。\n\n最终输出格式：\n您的程序应生成单行输出，其中包含用方括号括起来的逗号分隔结果列表（例如，`[result1,result2,result3]`）。每个结果必须是对应测试用例的浮点数$G$，单位为米，并按上述测试套件的顺序排列。",
            "solution": "用户提供了一个需要设计并实现地理空间栅格重投影分块方案的问题，重点是正确处理对子午线的不连续性。在尝试求解之前，应对问题陈述进行验证。\n\n### 问题验证\n\n首先，从问题陈述中提取已知信息：\n-   **输入CRS**：Plate Carrée，WGS84。\n-   **输出CRS**：球面Web墨卡托，EPSG:3857。\n-   **坐标系**：经度 $\\lambda \\in [-\\pi, \\pi)$，纬度 $\\varphi \\in (-\\frac{\\pi}{2}, \\frac{\\pi}{2})$。\n-   **地球半径**：$R = 6378137\\,\\mathrm{m}$。\n-   **经度归一化**：$f(\\lambda) = ((\\lambda + \\pi) \\bmod 2\\pi) - \\pi$。\n-   **正向投影（x坐标）**：$x = R \\,\\lambda$。\n-   **分块定义**：一个区间 $[\\lambda_0, \\lambda_0 + \\Delta\\lambda)$，其中 $\\lambda_0 \\in [-\\pi, \\pi)$。\n-   **对子午线分割规则**：如果 $\\lambda_0 + \\Delta\\lambda > \\pi$，则将区间 $[\\lambda_0, \\lambda_0 + \\Delta\\lambda)$ 分割为 $[\\lambda_0, \\pi)$ 和 $[-\\pi, \\lambda_0 + \\Delta\\lambda - 2\\pi)$。\n-   **分块构建**：从经度 $\\lambda_s$ 开始，顺序放置宽度为 $\\Delta\\lambda$（或最后一个分块为截断宽度）的分块，以覆盖总计 $2\\pi$ 的角度宽度。\n-   **连续性度量**：$G = \\max_{i} \\left| x_{i+1}^{\\mathrm{left}} - x_{i}^{\\mathrm{right}} \\right|$，在对所有经度分段进行投影和排序后计算。\n-   **测试套件**：提供了五对 $(\\lambda_s, \\Delta\\lambda)$。\n\n根据验证标准对问题进行评估：\n1.  **科学性或事实性**：该问题在科学上是合理的。它基于地图学和计算大地测绘学的既定原则，使用了标准的投影（Plate Carrée，Web墨卡托）、基准（WGS84）和数学形式。对子午线处的不连续性是全球数据处理中一个真实且关键的问题。\n2.  **适定性与完整性**：该问题是适定的。它提供了所有必要的定义、常数和逐步的程序。目标——计算连续性度量 $G$——定义清晰，并且每个测试用例都期望有唯一的解。\n3.  **客观性与清晰度**：语言正式、精确且客观。术语通过数学方式定义，没有主观解释的余地。\n\n该问题被认定为**有效**。这是一个应用于地理空间科学的计算几何学方面的严谨、自洽的练习。\n\n### 解法推导\n\n目标是实现指定的分块和分割算法，并计算定量连续性度量 $G$。该算法旨在生成一组经度分段，当投影后，在目标 $x$ 坐标空间中形成一个完全连续的区间集合。因此，$G$ 的理论值应为 $0$。由于浮点数运算的限制，计算出的值可能是一个非常小的非零数，本解法将计算并报告该值。\n\n解法按以下步骤实现：\n\n1.  **经度归一化函数**：数学定义 $f(\\lambda) = ((\\lambda + \\pi) \\bmod 2\\pi) - \\pi$ 将任意实数经度 $\\lambda$ 映射到规范区间 $[-\\pi, \\pi)$。为了处理浮点模运算的细微差别，使用基于向下取整的定义稳健地实现：$a \\bmod n = a - n \\cdot \\lfloor a/n \\rfloor$。\n\n2.  **分块与分割算法**：一个循环生成分块以覆盖整个 $2\\pi$ 经度范围。\n    -   将一个未包裹的经度 `current_start_lon_unwrapped` 初始化为起始经度 $\\lambda_s$。\n    -   将已覆盖的角度宽度总和 `total_width` 初始化为 $0$。\n    -   只要 `total_width` 小于 $2\\pi$（使用一个小的容差进行浮点比较），循环就继续。\n    -   在每次迭代中，通过对 `current_start_lon_unwrapped` 应用函数 $f(\\cdot)$ 来归一化当前分块的起始点 $\\lambda_0$。\n    -   当前分块的宽度 `tile_width` 被确定为全局分块宽度 $\\Delta\\lambda$ 与完成 $2\\pi$ 覆盖所需的剩余角度宽度中的较小者。这能正确地截断最后一个分块。\n    -   分块的未归一化端点计算为 $\\lambda_{\\text{end}} = \\lambda_0 + \\text{tile\\_width}$。\n    -   应用对子午线分割规则：\n        -   如果 $\\lambda_{\\text{end}} \\le \\pi$，则分块不跨越对子午线，生成单个分段 $[\\lambda_0, \\lambda_{\\text{end}})$。\n        -   如果 $\\lambda_{\\text{end}} > \\pi$，则分块跨越对子午线。它被分割成两个分段：$[\\lambda_0, \\pi)$ 和 $[-\\pi, \\lambda_{\\text{end}} - 2\\pi)$。第二个分段的端点正确地环绕地球。\n    -   生成的经度分段被收集到一个列表中。\n    -   为下一次迭代更新 `current_start_lon_unwrapped` 和 `total_width`。\n\n3.  **投影与连续性度量计算**：\n    -   使用给定的线性变换 $x = R \\lambda$ 将每个经度分段 $[\\lambda_{\\text{start}}, \\lambda_{\\text{end}})$ 投影到EPSG:$3857$的$x$坐标系。这会产生一组 $x$ 坐标区间 $[x_{\\text{start}}, x_{\\text{end}})$。半径 $R$ 为 $6378137\\,\\mathrm{m}$。\n    -   $x$ 坐标区间的列表根据其起始坐标 $x_{\\text{start}}$ 按升序排序。\n    -   通过迭代排序后的 $x$ 坐标区间列表来计算连续性度量 $G$。对于每对相邻的区间 $(i, i+1)$，计算第二个区间的起始点与第一个区间的结束点之间的绝对差 $|x_{i+1}^{\\mathrm{left}} - x_i^{\\mathrm{right}}|$。$G$ 是所有这些差值中的最大值。\n\n此过程应用于问题中指定的每个测试用例，并存储得到的 $G$ 值。最终输出是这些值的列表。由于分割算法的精心设计确保了分段边界的完美对齐，所有测试用例的 $G$ 的期望结果均为 $0.0$，受限于机器精度。",
            "answer": "[0.0,0.0,0.0,0.0,0.0]"
        }
    ]
}