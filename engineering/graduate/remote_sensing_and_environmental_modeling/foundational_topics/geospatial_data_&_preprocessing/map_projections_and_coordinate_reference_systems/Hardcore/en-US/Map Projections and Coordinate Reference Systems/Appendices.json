{
    "hands_on_practices": [
        {
            "introduction": "Understanding a coordinate reference system (CRS) goes beyond simply knowing its name; it requires grasping the rules that govern the transformation from the curved Earth to a flat map. This exercise provides a foundational hands-on experience with the Universal Transverse Mercator (UTM) system, one of the most widely used CRSs in remote sensing and environmental science. By deriving the key parameters of a UTM zone from first principles, you will build a concrete understanding of how this global standard organizes spatial data. ",
            "id": "3826257",
            "problem": "A point is defined by World Geodetic System 1984 (WGS 84) geodetic coordinates with longitude $\\lambda=-123.5^\\circ$ and latitude $\\phi=49^\\circ$. Consider the Universal Transverse Mercator (UTM) projection as a Coordinate Reference System (CRS), with standard UTM longitudinal zoning and the conventional false origin definitions. Ignore special longitudinal zone exceptions used in Norway and Svalbard.\n\nUsing only the foundational facts that (i) UTM divides the globe into $60$ zones that each span $6^\\circ$ of longitude and are numbered $1$ through $60$ increasing eastward starting at $\\lambda=-180^\\circ$, (ii) each zone’s central meridian is the midpoint of its $6^\\circ$ longitudinal span, and (iii) UTM false easting and false northing are chosen to avoid negative projected coordinates with hemisphere-dependent northing offsets, determine the following for the given point:\n- The UTM zone number $Z$ associated with $\\lambda=-123.5^\\circ$,\n- The zone central meridian $\\lambda_{0}$, expressed in degrees,\n- The false easting $\\mathrm{FE}$ and false northing $\\mathrm{FN}$ offsets appropriate for a point at $\\phi=49^\\circ$ in this CRS, expressed in meters.\n\nExpress your final answer as a row matrix $\\begin{pmatrix}Z  \\lambda_{0}  \\mathrm{FE}  \\mathrm{FN}\\end{pmatrix}$ with $\\lambda_{0}$ in degrees and $\\mathrm{FE}$ and $\\mathrm{FN}$ in meters. Provide exact values; no rounding is required. Angles must be expressed in degrees.",
            "solution": "The problem as stated is valid. It is scientifically grounded in the principles of geodesy and cartography, specifically the definition of the Universal Transverse Mercator (UTM) coordinate system. The problem is well-posed, objective, and contains sufficient information to derive a unique solution by applying the standard conventions of the UTM system, which are implicitly invoked by name.\n\nThe task is to determine the UTM zone number $Z$, the central meridian $\\lambda_{0}$, the false easting $\\mathrm{FE}$, and the false northing $\\mathrm{FN}$ for a point with geodetic coordinates longitude $\\lambda = -123.5^\\circ$ and latitude $\\phi = 49^\\circ$ on the WGS 84 ellipsoid.\n\nFirst, we determine the UTM zone number $Z$. The problem states that the globe is divided into $60$ zones, each spanning $6^\\circ$ of longitude, numbered $1$ to $60$ eastward from the anti-meridian ($\\lambda = -180^\\circ$). The zone number for a given longitude $\\lambda$ can be calculated by shifting the longitude origin from the Prime Meridian ($0^\\circ$) to the anti-meridian ($-180^\\circ$), dividing by the zone width ($6^\\circ$), and taking the ceiling of the result. This mathematical relationship is expressed as:\n$$Z = \\left\\lceil \\frac{\\lambda - (-180^\\circ)}{6^\\circ} \\right\\rceil = \\left\\lceil \\frac{\\lambda + 180^\\circ}{6^\\circ} \\right\\rceil$$\nSubstituting the given longitude $\\lambda = -123.5^\\circ$:\n$$Z = \\left\\lceil \\frac{-123.5 + 180}{6} \\right\\rceil = \\left\\lceil \\frac{56.5}{6} \\right\\rceil = \\lceil 9.4166\\ldots \\rceil = 10$$\nThus, the point lies within UTM Zone $10$.\n\nSecond, we determine the central meridian $\\lambda_{0}$ for Zone $10$. The problem states that the central meridian is the midpoint of its zone's $6^\\circ$ longitudinal span. The longitudinal span for any zone $Z$ is from longitude $-180^\\circ + (Z-1) \\times 6^\\circ$ to $-180^\\circ + Z \\times 6^\\circ$. For Zone $10$, the western boundary is $-180^\\circ + (10-1) \\times 6^\\circ = -126^\\circ$ and the eastern boundary is $-180^\\circ + 10 \\times 6^\\circ = -120^\\circ$. The central meridian is the average of these boundaries:\n$$\\lambda_{0} = \\frac{-126^\\circ + (-120^\\circ)}{2} = \\frac{-246^\\circ}{2} = -123^\\circ$$\nAlternatively, the central meridian for zone $Z$ can be calculated directly using the formula:\n$$\\lambda_{0} = (Z \\times 6^\\circ) - 183^\\circ$$\nFor $Z=10$:\n$$\\lambda_{0} = (10 \\times 6^\\circ) - 183^\\circ = 60^\\circ - 183^\\circ = -123^\\circ$$\nThe central meridian for Zone $10$ is $\\lambda_{0} = -123^\\circ$.\n\nThird, we determine the false easting $\\mathrm{FE}$ and false northing $\\mathrm{FN}$. These are conventional offsets used in the UTM system to ensure all projected coordinates are positive.\nThe false easting, $\\mathrm{FE}$, is a constant value applied to the easting coordinate relative to the central meridian. The central meridian of any UTM zone is assigned a false easting of $500,000$ meters to prevent negative easting values within the zone. Therefore:\n$$\\mathrm{FE} = 500,000 \\, \\text{meters}$$\nThe false northing, $\\mathrm{FN}$, is dependent on the hemisphere. For locations in the Northern Hemisphere (latitude $\\phi  0^\\circ$), the equator is the origin for northing, with a value of $0$ meters. Since all northings are positive, no offset is needed. For locations in the Southern Hemisphere (latitude $\\phi  0^\\circ$), the equator is assigned a value of $10,000,000$ meters to prevent negative northing values. The given point has a latitude of $\\phi = 49^\\circ$, which is in the Northern Hemisphere. Therefore, the false northing is:\n$$\\mathrm{FN} = 0 \\, \\text{meters}$$\n\nIn summary, the determined parameters for the given point are:\n- UTM Zone Number $Z = 10$\n- Central Meridian $\\lambda_{0} = -123^\\circ$\n- False Easting $\\mathrm{FE} = 500,000$ meters\n- False Northing $\\mathrm{FN} = 0$ meters\n\nThese four values constitute the final answer, which is to be presented as a row matrix.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n10  -123  500000  0\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "Every map projection is a compromise, trading fidelity in one property to preserve another. This inevitable trade-off results in distortions of area, shape, distance, or direction, which we must be able to quantify. This practice guides you through a first-principles derivation of the point scale factor for the spherical Mercator projection, showing how distortion can be described mathematically and how it varies systematically across the map. ",
            "id": "3826254",
            "problem": "A remote sensing workflow uses a global cylindrical conformal projection for a spherical Earth model in a Coordinate Reference System (CRS), where the Earth is approximated as a sphere of radius $R=6\\,378\\,137\\ \\mathrm{m}$. Let geodetic latitude be denoted by $\\phi$ and longitude by $\\lambda$, and consider local differential distances on the sphere given by the first fundamental form for a sphere in geographic coordinates: $ds^{2}=R^{2}\\left(d\\phi^{2}+\\cos^{2}\\!\\phi\\,d\\lambda^{2}\\right)$. A cylindrical projection maps meridians to vertical lines and parallels to horizontal lines, so that the map coordinates can be written as $x=f(\\lambda)$ and $y=g(\\phi)$ with $f$ and $g$ differentiable functions. The point scale factor $k(\\phi)$ is defined as the common ratio of an infinitesimal map length to the corresponding true ground length at latitude $\\phi$, under a conformal mapping where local scale is isotropic.\n\nStarting only from the spherical metric above, the cylindrical mapping form $x=f(\\lambda)$ and $y=g(\\phi)$, and the definition of conformality (equality of local scale in all directions), derive the latitude-dependent point scale factor $k(\\phi)$ for the spherical Mercator projection under the condition that the scale at the equator is true. Then, evaluate this scale factor at $\\phi=45^{\\circ}$ and $\\phi=60^{\\circ}$. Use $R=6\\,378\\,137\\ \\mathrm{m}$ as stated, and treat angular quantities in degrees. Express your final numerical answers as dimensionless scale factors, rounded to seven significant figures.",
            "solution": "The user has provided a problem in the domain of cartography and differential geometry, requiring the derivation of the point scale factor for a spherical Mercator projection.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n-   Model: Global cylindrical conformal projection for a spherical Earth.\n-   Earth Radius: $R=6\\,378\\,137\\ \\mathrm{m}$.\n-   Coordinates: Geodetic latitude $\\phi$, longitude $\\lambda$.\n-   Metric on the sphere (First Fundamental Form): $ds^{2}=R^{2}\\left(d\\phi^{2}+\\cos^{2}\\!\\phi\\,d\\lambda^{2}\\right)$.\n-   Mapping Form: Cylindrical projection with map coordinates $x=f(\\lambda)$ and $y=g(\\phi)$, where $f$ and $g$ are differentiable.\n-   Scale Factor Definition: The point scale factor $k(\\phi)$ is the common ratio of an infinitesimal map length to the corresponding true ground length, defined under a conformal mapping where local scale is isotropic.\n-   Condition 1: The mapping is conformal.\n-   Condition 2: The scale at the equator ($\\phi=0$) is true ($k=1$).\n-   Task 1: Derive the latitude-dependent point scale factor $k(\\phi)$.\n-   Task 2: Evaluate $k(\\phi)$ at $\\phi=45^{\\circ}$ and $\\phi=60^{\\circ}$.\n-   Output Specification: Numerical answers rounded to seven significant figures.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded, being a standard exercise in the theory of map projections, based on principles of differential geometry. It is well-posed, providing sufficient conditions (spherical metric, cylindrical mapping form, conformality, and a normalization condition) to uniquely determine the scale factor. The language is objective and precise. The problem does not violate any of the invalidity criteria. The inclusion of the radius $R$ is noted, but its eventual irrelevance to the dimensionless scale factor does not invalidate the problem.\n\n**Step 3: Verdict and Action**\nThe problem is valid. A full, reasoned solution will be provided.\n\n### Derivation and Solution\n\nThe objective is to derive the point scale factor $k(\\phi)$ for a cylindrical conformal projection with true scale at the equator, using a spherical Earth model.\n\nThe infinitesimal element of length on the surface of the sphere, $ds$, is given by the first fundamental form:\n$$ds^{2}=R^{2}d\\phi^{2} + R^{2}\\cos^{2}\\!\\phi\\,d\\lambda^{2}$$\nwhere $R$ is the radius of the sphere, $\\phi$ is the latitude, and $\\lambda$ is the longitude.\n\nThe projection maps the spherical surface onto a planar map with Cartesian coordinates $(x, y)$. For a cylindrical projection, the mapping functions have the form $x=f(\\lambda)$ and $y=g(\\phi)$. The infinitesimal element of length on the map, $ds_{map}$, is given by the Euclidean metric in the plane:\n$$ds_{map}^{2} = dx^{2} + dy^{2}$$\n\nUsing the chain rule, we can express $dx$ and $dy$ in terms of $d\\lambda$ and $d\\phi$:\n$$dx = \\frac{df}{d\\lambda}d\\lambda = f'(\\lambda)d\\lambda$$\n$$dy = \\frac{dg}{d\\phi}d\\phi = g'(\\phi)d\\phi$$\n\nSubstituting these expressions into the map metric gives:\n$$ds_{map}^{2} = (g'(\\phi))^{2}d\\phi^{2} + (f'(\\lambda))^{2}d\\lambda^{2}$$\n\nThe point scale factor, $k$, is defined by the relation $ds_{map} = k \\cdot ds$, which implies $ds_{map}^{2} = k^{2}ds^{2}$. The problem states the projection is conformal, which means the scale at any given point is the same in all directions. Thus, the scale factor $k$ can be a function of position, i.e., $k=k(\\phi, \\lambda)$, but not of direction.\n\nSubstituting the expressions for $ds^{2}$ and $ds_{map}^{2}$ into the scaled relationship:\n$$(g'(\\phi))^{2}d\\phi^{2} + (f'(\\lambda))^{2}d\\lambda^{2} = k^{2} \\left(R^{2}d\\phi^{2} + R^{2}\\cos^{2}\\!\\phi\\,d\\lambda^{2}\\right)$$\n$$(g'(\\phi))^{2}d\\phi^{2} + (f'(\\lambda))^{2}d\\lambda^{2} = k^{2}R^{2}d\\phi^{2} + k^{2}R^{2}\\cos^{2}\\!\\phi\\,d\\lambda^{2}$$\n\nFor this equality to hold for any independent infinitesimal displacements $d\\phi$ and $d\\lambda$, the coefficients of $d\\phi^{2}$ and $d\\lambda^{2}$ on both sides must be equal.\n\nEquating coefficients of $d\\phi^{2}$:\n$$(g'(\\phi))^{2} = k^{2}R^{2} \\implies |g'(\\phi)| = kR$$\nLet's assume latitude increases from south to north, so $g'(\\phi)  0$. Thus, $g'(\\phi) = kR$. (Equation 1)\n\nEquating coefficients of $d\\lambda^{2}$:\n$$(f'(\\lambda))^{2} = k^{2}R^{2}\\cos^{2}\\!\\phi \\implies |f'(\\lambda)| = kR\\cos\\phi$$\nLet's assume longitude increases from west to east, so $f'(\\lambda)  0$. Thus, $f'(\\lambda) = kR\\cos\\phi$. (Equation 2)\n\nFrom Equation 1, the left side, $g'(\\phi)$, depends only on $\\phi$. Therefore, the right side, $kR$, must also depend only on $\\phi$. As $R$ is a constant, this implies that the scale factor $k$ must be a function of latitude $\\phi$ only, i.e., $k=k(\\phi)$. This is consistent with the problem statement's notation $k(\\phi)$.\n\nNow consider Equation 2: $f'(\\lambda) = k(\\phi)R\\cos\\phi$. The left side of this equation, $f'(\\lambda)$, is a function of $\\lambda$ only, while the right side is a function of $\\phi$ only. The only way a function of $\\lambda$ can be equal to a function of $\\phi$ for all $\\lambda$ and $\\phi$ is if both are equal to a constant. Let this constant be $C_1$.\n$$f'(\\lambda) = C_1$$\n$$k(\\phi)R\\cos\\phi = C_1$$\n\nFrom the second relation, we can express the scale factor $k(\\phi)$:\n$$k(\\phi) = \\frac{C_1}{R\\cos\\phi}$$\nThis gives the functional form of the scale factor, up to a constant.\n\nTo determine the constant $C_1$, we use the condition that scale is true at the equator. This means that at $\\phi=0$, the scale factor $k(0)$ must be equal to $1$.\n$$k(0) = \\frac{C_1}{R\\cos(0)} = \\frac{C_1}{R \\cdot 1} = 1$$\nThis implies $C_1 = R$.\n\nSubstituting $C_1=R$ back into the expression for $k(\\phi)$:\n$$k(\\phi) = \\frac{R}{R\\cos\\phi} = \\frac{1}{\\cos\\phi} = \\sec\\phi$$\nThis is the derived expression for the point scale factor of the spherical Mercator projection with true scale at the equator. Note that the scale factor is dimensionless and independent of the Earth's radius $R$, as expected.\n\nWe can also determine the full projection equations. From $f'(\\lambda)=C_1=R$, we integrate to get $x = f(\\lambda) = R\\lambda + C_2$. Setting $x=0$ at $\\lambda=0$ gives $C_2=0$, so $x=R\\lambda$.\nFrom Equation 1, $g'(\\phi) = k(\\phi)R = (\\sec\\phi)R$. Integrating with respect to $\\phi$:\n$$y = g(\\phi) = \\int R\\sec\\phi \\,d\\phi = R \\ln|\\sec\\phi + \\tan\\phi| + C_3$$\nSetting $y=0$ at $\\phi=0$ gives $C_3=-R\\ln|\\sec(0)+\\tan(0)| = -R\\ln|1+0|=0$. So, $y=R\\ln(\\sec\\phi + \\tan\\phi)$. These are the standard equations for the spherical Mercator projection.\n\nThe final step is to evaluate $k(\\phi)=\\sec\\phi$ for the given latitudes.\n\n1.  Evaluation at $\\phi=45^{\\circ}$:\n    The cosine of $45^{\\circ}$ is $\\cos(45^{\\circ}) = \\frac{\\sqrt{2}}{2}$.\n    $$k(45^{\\circ}) = \\sec(45^{\\circ}) = \\frac{1}{\\cos(45^{\\circ})} = \\frac{1}{\\frac{\\sqrt{2}}{2}} = \\frac{2}{\\sqrt{2}} = \\sqrt{2}$$\n    The numerical value is $\\sqrt{2} \\approx 1.41421356...$.\n    Rounding to seven significant figures, we get $1.414214$.\n\n2.  Evaluation at $\\phi=60^{\\circ}$:\n    The cosine of $60^{\\circ}$ is $\\cos(60^{\\circ}) = \\frac{1}{2}$.\n    $$k(60^{\\circ}) = \\sec(60^{\\circ}) = \\frac{1}{\\cos(60^{\\circ})} = \\frac{1}{\\frac{1}{2}} = 2$$\n    The value is exactly $2$. To express this to seven significant figures, we write $2.000000$.\n\nThe scale factor at $\\phi=45^{\\circ}$ is approximately $1.414214$, and at $\\phi=60^{\\circ}$ it is exactly $2.000000$.",
            "answer": "$$\\boxed{\\begin{pmatrix} 1.414214  2.000000 \\end{pmatrix}}$$"
        },
        {
            "introduction": "The theoretical elegance of map projections often meets harsh realities during computational implementation, especially when processing global datasets. One of the most classic computational hurdles is the discontinuity at the antimeridian, which can create artifacts and errors in reprojected imagery. This advanced practice moves from theory to application, challenging you to design a robust tiling algorithm that programmatically handles the 'dateline wrap' to ensure seamless and continuous global data layers. ",
            "id": "3826281",
            "problem": "You are given a global longitude–latitude raster in the Plate Carrée projection (also known as Equirectangular), referenced to the World Geodetic System $1984$ (WGS$84$) Coordinate Reference System (CRS). The goal is to reason from first principles about the antimeridian (the line at $\\lambda = \\pm \\pi$ radians, corresponding to $\\pm 180^\\circ$ longitude) and design an algorithmic tiling scheme for raster reprojection to the Spherical Web Mercator projection (EPSG:$3857$) that avoids discontinuities in the output grid. You must then compute a quantitative continuity metric for the scheme.\n\nFundamental bases to use:\n- Definitions: Longitude $\\lambda \\in [-\\pi, \\pi)$ and latitude $\\varphi \\in (-\\frac{\\pi}{2}, \\frac{\\pi}{2})$, both in radians. Assume a spherical Earth of radius $R$ in meters.\n- Canonical longitude wrapping: For any longitude $\\lambda$, define the normalized mapping\n$$\nf(\\lambda) = ((\\lambda + \\pi) \\bmod 2\\pi) - \\pi,\n$$\nwhich maps any real $\\lambda$ into $[-\\pi, \\pi)$.\n- Spherical Web Mercator forward transform (for coordinates measured in meters): For longitude $\\lambda$ and latitude $\\varphi$,\n$$\nx = R \\,\\lambda, \\qquad y = R \\,\\ln\\!\\left(\\tan\\!\\left(\\frac{\\pi}{4} + \\frac{\\varphi}{2}\\right)\\right).\n$$\nYou will only need the $x$-coordinate continuity for this problem.\n- Tiling: A longitude interval $[\\lambda_0, \\lambda_0 + \\Delta \\lambda)$ with $\\lambda_0 \\in [-\\pi,\\pi)$ and $\\Delta \\lambda  0$ is considered a single tile in longitude. Tiles are laid consecutively to cover a full $2\\pi$ span of longitudes.\n\nTask:\n1. Derive a robust rule to split any tile interval $[\\lambda_0, \\lambda_0 + \\Delta \\lambda)$ so that no individual segment crosses the antimeridian. Use the canonical interval $[-\\pi, \\pi)$:\n   - If $\\lambda_0 + \\Delta \\lambda \\le \\pi$, keep the single segment $[\\lambda_0, \\lambda_0 + \\Delta \\lambda)$.\n   - If $\\lambda_0 + \\Delta \\lambda  \\pi$, split at the antimeridian into two segments:\n     $[\\lambda_0, \\pi)$ and $[-\\pi, \\lambda_0 + \\Delta \\lambda - 2\\pi)$.\n   All endpoints are in radians. The normalization $f(\\cdot)$ must be applied to any starting longitude before splitting.\n2. Construct a world-covering tiling by concatenating tiles of width $\\Delta \\lambda$ starting at a specified $\\lambda_s$ until the cumulative width equals exactly $2\\pi$. If $N \\,\\Delta\\lambda$ exceeds $2\\pi$ for integer $N$, the final tile width must be truncated to ensure exact coverage of $2\\pi$. Every constructed tile must be split as needed per the rule in step $1$.\n3. Project each split segment endpoint via $x = R\\,\\lambda$ with $R = 6378137\\,\\mathrm{m}$. Sort all resulting $x$-interval segments by their left endpoint. Define the continuity metric as the maximum absolute gap between consecutive segments along $x$:\n$$\nG = \\max_{i} \\left| x_{i+1}^{\\mathrm{left}} - x_{i}^{\\mathrm{right}} \\right|,\n$$\nwhich is measured in meters. A value $G = 0$ indicates perfect adjacency with no discontinuities; any $G  0$ indicates a discontinuity magnitude.\n4. Implement this logic in a single program that:\n   - Applies the above steps to each parameter set in the test suite.\n   - Returns one float per test case: the continuity metric $G$ in meters.\n\nAngle unit requirement:\n- All angles must be handled and specified in radians in the program.\n\nPhysical unit requirement:\n- All $x$-coordinates and the final continuity metric $G$ must be expressed in meters.\n\nTest suite:\nUse Earth radius $R = 6378137\\,\\mathrm{m}$ and the following $(\\lambda_s, \\Delta\\lambda)$ pairs (both in radians):\n- Case $1$ (happy path): $\\lambda_s = -\\pi$, $\\Delta\\lambda = \\frac{\\pi}{3}$.\n- Case $2$ (non-dividing width): $\\lambda_s = -\\pi$, $\\Delta\\lambda = 100 \\cdot \\frac{\\pi}{180}$.\n- Case $3$ (crossing with offset): $\\lambda_s = -\\pi + 20 \\cdot \\frac{\\pi}{180}$, $\\Delta\\lambda = 200 \\cdot \\frac{\\pi}{180}$.\n- Case $4$ (full world in one tile): $\\lambda_s = -\\pi$, $\\Delta\\lambda = 2\\pi$.\n- Case $5$ (hemisphere width with offset): $\\lambda_s = -\\pi + \\frac{\\pi}{4}$, $\\Delta\\lambda = \\pi$.\n\nFinal output format:\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., \"[result1,result2,result3]\"). Each result must be the float $G$ for the corresponding test case, in meters, in the order of the test suite above.",
            "solution": "The user has provided a problem that requires designing and implementing a tiling scheme for geospatial raster reprojection, with a focus on correctly handling the antimeridian discontinuity. The problem statement is to be validated before a solution is attempted.\n\n### Problem Validation\n\nFirst, the givens are extracted from the problem statement:\n-   **Input CRS**: Plate Carrée, WGS84.\n-   **Output CRS**: Spherical Web Mercator, EPSG:3857.\n-   **Coordinate System**: Longitude $\\lambda \\in [-\\pi, \\pi)$, Latitude $\\varphi \\in (-\\frac{\\pi}{2}, \\frac{\\pi}{2})$.\n-   **Earth Radius**: $R = 6378137\\,\\mathrm{m}$.\n-   **Longitude Normalization**: $f(\\lambda) = ((\\lambda + \\pi) \\bmod 2\\pi) - \\pi$.\n-   **Forward Projection (x-coordinate)**: $x = R \\,\\lambda$.\n-   **Tile Definition**: An interval $[\\lambda_0, \\lambda_0 + \\Delta\\lambda)$ with $\\lambda_0 \\in [-\\pi, \\pi)$.\n-   **Antimeridian Splitting Rule**: An interval $[\\lambda_0, \\lambda_0 + \\Delta\\lambda)$ is split if $\\lambda_0 + \\Delta\\lambda  \\pi$ into $[\\lambda_0, \\pi)$ and $[-\\pi, \\lambda_0 + \\Delta\\lambda - 2\\pi)$.\n-   **Tiling Construction**: Sequentially place tiles of width $\\Delta\\lambda$ (or a truncated width for the last tile) starting from a longitude $\\lambda_s$ to cover a total angular width of $2\\pi$.\n-   **Continuity Metric**: $G = \\max_{i} \\left| x_{i+1}^{\\mathrm{left}} - x_{i}^{\\mathrm{right}} \\right|$ after projecting and sorting all longitude segments.\n-   **Test Suite**: Five pairs of $(\\lambda_s, \\Delta\\lambda)$ are provided.\n\nThe problem is evaluated against the validation criteria:\n1.  **Scientific or Factual Soundness**: The problem is scientifically sound. It is grounded in the established principles of cartography and computational geodesy, using standard projections (Plate Carrée, Web Mercator), datums (WGS84), and mathematical formalisms. The discontinuity at the antimeridian is a genuine and critical issue in global data processing.\n2.  **Well-Posedness and Completeness**: The problem is well-posed. It provides all necessary definitions, constants, and a step-by-step procedure. The objective, the calculation of the continuity metric $G$, is clearly defined, and a unique solution is expected for each test case.\n3.  **Objectivity and Clarity**: The language is formal, precise, and objective. Terms are defined mathematically, leaving no room for subjective interpretation.\n\nThe problem is deemed **valid**. It is a rigorous, self-contained exercise in computational geometry as applied to geospatial science.\n\n### Solution Derivation\n\nThe goal is to implement the specified tiling and splitting algorithm and calculate the quantitative continuity metric $G$. The algorithm is designed to produce a set of longitude segments that, when projected, form a perfectly contiguous set of intervals in the target $x$-coordinate space. Therefore, the theoretical value of $G$ is $0$. The computed value might be a very small non-zero number due to floating-point arithmetic limitations, which this solution will calculate and report.\n\nThe solution is implemented in the following steps:\n\n1.  **Longitude Normalization Function**: The mathematical definition $f(\\lambda) = ((\\lambda + \\pi) \\bmod 2\\pi) - \\pi$ maps any real longitude $\\lambda$ to the canonical interval $[-\\pi, \\pi)$. This is implemented robustly to handle the nuances of floating-point modulo arithmetic, using the floor-based definition: $a \\bmod n = a - n \\cdot \\lfloor a/n \\rfloor$.\n\n2.  **Tiling and Splitting Algorithm**: A loop generates tiles to cover the entire $2\\pi$ longitude range.\n    -   An unwrapped longitude, `current_start_lon_unwrapped`, is initialized to the starting longitude $\\lambda_s$.\n    -   A running total of the angular width covered, `total_width`, is initialized to $0$.\n    -   The loop continues as long as `total_width` is less than $2\\pi$, with a small tolerance for floating-point comparisons.\n    -   In each iteration, the start of the current tile, $\\lambda_0$, is normalized by applying the function $f(\\cdot)$ to `current_start_lon_unwrapped`.\n    -   The width of the current tile, `tile_width`, is determined as the minimum of the global tile width $\\Delta\\lambda$ and the remaining angular width required to complete the $2\\pi$ coverage. This correctly truncates the final tile.\n    -   The unnormalized endpoint of the tile is calculated as $\\lambda_{\\text{end}} = \\lambda_0 + \\text{tile\\_width}$.\n    -   The antimeridian splitting rule is applied:\n        -   If $\\lambda_{\\text{end}} \\le \\pi$, the tile does not cross the antimeridian, and a single segment $[\\lambda_0, \\lambda_{\\text{end}})$ is generated.\n        -   If $\\lambda_{\\text{end}}  \\pi$, the tile crosses the antimeridian. It is split into two segments: $[\\lambda_0, \\pi)$ and $[-\\pi, \\lambda_{\\text{end}} - 2\\pi)$. The second segment's endpoint correctly wraps around the globe.\n    -   The generated longitude segments are collected in a list.\n    -   `current_start_lon_unwrapped` and `total_width` are updated for the next iteration.\n\n3.  **Projection and Continuity Metric Calculation**:\n    -   Each longitude segment $[\\lambda_{\\text{start}}, \\lambda_{\\text{end}})$ is projected to the EPSG:$3857$ $x$-coordinate system using the given linear transformation $x = R \\lambda$. This yields a set of $x$-intervals $[x_{\\text{start}}, x_{\\text{end}})$. The radius $R$ is $6378137\\,\\mathrm{m}$.\n    -   The list of $x$-intervals is sorted in ascending order based on their starting coordinate, $x_{\\text{start}}$.\n    -   The continuity metric $G$ is calculated by iterating through the sorted list of $x$-intervals. For each adjacent pair of intervals $(i, i+1)$, the absolute difference between the start of the second interval and the end of the first, $|x_{i+1}^{\\mathrm{left}} - x_i^{\\mathrm{right}}|$, is computed. $G$ is the maximum of these differences over all pairs.\n\nThis procedure is applied to each test case specified in the problem, and the resulting value of $G$ is stored. The final output is a list of these values. Due to the careful design of the splitting algorithm, which ensures that segment boundaries align perfectly, the expected result for $G$ is $0.0$ for all test cases, subject to machine precision.",
            "answer": "```python\nimport numpy as np\nimport math\n\ndef solve():\n    \"\"\"\n    Solves the tiling and continuity problem for all specified test cases.\n    \"\"\"\n\n    # World Geodetic System 1984 (WGS84) semi-major axis in meters.\n    R = 6378137.0\n\n    # Test suite of (lambda_s, Delta_lambda) pairs in radians.\n    test_cases = [\n        # Case 1: Happy path\n        (-np.pi, np.pi / 3.0),\n        # Case 2: Non-dividing width\n        (-np.pi, 100.0 * np.pi / 180.0),\n        # Case 3: Crossing with offset\n        (-np.pi + 20.0 * np.pi / 180.0, 200.0 * np.pi / 180.0),\n        # Case 4: Full world in one tile\n        (-np.pi, 2.0 * np.pi),\n        # Case 5: Hemisphere width with offset\n        (-np.pi + np.pi / 4.0, np.pi),\n    ]\n\n    results = []\n    for lambda_s, delta_lambda in test_cases:\n        metric = compute_continuity_metric(lambda_s, delta_lambda, R)\n        results.append(metric)\n    \n    # Print the results in the required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\ndef compute_continuity_metric(lambda_s, delta_lambda, R):\n    \"\"\"\n    Computes the continuity metric G for a given tiling scheme.\n\n    Args:\n        lambda_s (float): The starting longitude in radians.\n        delta_lambda (float): The standard tile width in radians.\n        R (float): The Earth radius in meters.\n\n    Returns:\n        float: The continuity metric G in meters.\n    \"\"\"\n\n    def normalize_lon(lon):\n        \"\"\"\n        Normalizes a longitude to the range [-pi, pi) using the mathematical\n        definition of modulo. f(lambda) = ((lambda + pi) mod 2pi) - pi.\n        \"\"\"\n        a = lon + np.pi\n        n = 2.0 * np.pi\n        return (a - n * math.floor(a / n)) - np.pi\n\n    lon_segments = []\n    total_width_covered = 0.0\n    current_start_lon_unwrapped = lambda_s\n    \n    # Use a small epsilon for robust floating point comparison.\n    epsilon = 1e-12\n\n    while (2.0 * np.pi - total_width_covered)  epsilon:\n        # Normalize the start of the tile interval to [-pi, pi).\n        lon_0 = normalize_lon(current_start_lon_unwrapped)\n\n        # Truncate the last tile to ensure total width is exactly 2*pi.\n        tile_width = min(delta_lambda, 2.0 * np.pi - total_width_covered)\n        \n        lon_end_unnormalized = lon_0 + tile_width\n\n        # Apply the antimeridian splitting rule.\n        if lon_end_unnormalized = np.pi + epsilon:\n            # No split needed.\n            lon_segments.append((lon_0, lon_end_unnormalized))\n        else:\n            # Split the tile at the antimeridian.\n            lon_segments.append((lon_0, np.pi))\n            wrapped_end = lon_end_unnormalized - 2.0 * np.pi\n            lon_segments.append((-np.pi, wrapped_end))\n        \n        total_width_covered += tile_width\n        current_start_lon_unwrapped += tile_width\n\n    # Project longitude segments to x-coordinates.\n    x_segments = [(R * start, R * end) for start, end in lon_segments]\n\n    # Sort segments by their left (starting) x-coordinate.\n    x_segments.sort(key=lambda seg: seg[0])\n    \n    # If there is only one segment, there are no gaps.\n    if len(x_segments) = 1:\n        return 0.0\n\n    # Calculate the maximum gap between consecutive segments.\n    max_gap = 0.0\n    for i in range(len(x_segments) - 1):\n        # Gap is the absolute difference between the start of the next\n        # segment and the end of the current one.\n        gap = abs(x_segments[i+1][0] - x_segments[i][1])\n        if gap  max_gap:\n            max_gap = gap\n            \n    return max_gap\n\nif __name__ == \"__main__\":\n    solve()\n```"
        }
    ]
}