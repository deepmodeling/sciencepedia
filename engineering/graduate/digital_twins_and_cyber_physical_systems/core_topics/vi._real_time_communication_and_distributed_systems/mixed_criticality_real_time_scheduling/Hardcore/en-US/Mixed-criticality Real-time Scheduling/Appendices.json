{
    "hands_on_practices": [
        {
            "introduction": "The cornerstone of mixed-criticality analysis is verifying whether a system can meet its deadlines in all operational modes. This first exercise focuses on the Adaptive Mixed-Criticality (AMC) model for fixed-priority systems. You will apply response-time analysis (RTA) to determine schedulability, calculating worst-case response times for both the nominal low-criticality (LO) mode and the more demanding high-criticality (HI) mode, where low-criticality tasks are dropped but may have already caused interference . This practice reinforces the fundamental mechanics of AMC schedulability.",
            "id": "4230844",
            "problem": "In a cyber-physical system with a Digital Twin for safety monitoring, consider a mixed-criticality workload scheduled by fixed-priority preemptive scheduling under Adaptive Mixed-Criticality (AMC) semantics. The system implements implicit deadlines, so for each task $i$, the relative deadline $D_i$ equals its period $T_i$. Priorities are assigned by rate-monotonic order (shorter period implies higher priority); when two tasks share the same period, the higher criticality task is given higher priority than the lower criticality task. Under AMC semantics, the system operates in a low-criticality mode (LO mode) while all tasks execute with their low-criticality worst-case execution times, and if any high-criticality (HI) task overruns its low-criticality budget, the system transitions to high-criticality mode (HI mode), during which low-criticality tasks are dropped (do not execute further) and HI tasks execute with their high-criticality worst-case execution times. The worst-case response time of a task is defined as the maximum time from release to completion under preemption by higher-priority tasks, accounting for all jobs of those higher-priority tasks that can be released within the response-time window. In HI mode for HI tasks, low-criticality tasks can interfere only due to jobs released prior to the mode change; interference from low-criticality tasks does not persist beyond the mode switch.\n\nThe task set is:\n- High-criticality tasks: $\\tau_{H1}$ with $(C^{LO}, C^{HI}, T) = (2, 4, 10)$, and $\\tau_{H2}$ with $(C^{LO}, C^{HI}, T) = (1, 3, 20)$.\n- Low-criticality tasks: $\\tau_{L1}$ with $(C^{LO}, T) = (1, 10)$, and $\\tau_{L2}$ with $(C^{LO}, T) = (2, 20)$.\n\nAssume time is measured in milliseconds. Using the above semantics and starting from the fundamental definitions of worst-case response time under fixed-priority preemptive scheduling and the AMC distinction between LO mode and HI mode, determine whether the task set is schedulable under AMC-FP (Adaptive Mixed-Criticality Fixed Priority) and compute, for each HI task, the maximum response time across both modes. Report the two maximum response times for $\\tau_{H1}$ and $\\tau_{H2}$ (in milliseconds), and also report a schedulability indicator $s$ defined by $s=1$ if the task set is schedulable under AMC-FP and $s=0$ otherwise. Present the final outputs as a single row vector. No rounding is required; provide exact values.",
            "solution": "The problem requires an analysis of a mixed-criticality task set to determine its schedulability under the Adaptive Mixed-Criticality Fixed Priority (AMC-FP) scheduling policy. We must also compute the maximum response times for the high-criticality tasks across all operational modes.\n\nFirst, we establish the priority assignment for the tasks. The policy is rate-monotonic (RM), where a shorter period implies a higher priority. For tasks with equal periods, the one with higher criticality is assigned higher priority. The task set is:\n- $\\tau_{H1}$: $(C_{H1}^{LO}, C_{H1}^{HI}, T_{H1}) = (2, 4, 10)$\n- $\\tau_{H2}$: $(C_{H2}^{LO}, C_{H2}^{HI}, T_{H2}) = (1, 3, 20)$\n- $\\tau_{L1}$: $(C_{L1}^{LO}, T_{L1}) = (1, 10)$\n- $\\tau_{L2}$: $(C_{L2}^{LO}, T_{L2}) = (2, 20)$\n\nTasks $\\tau_{H1}$ and $\\tau_{L1}$ have the shortest period, $T=10$. Since $\\tau_{H1}$ is a high-criticality (HI) task and $\\tau_{L1}$ is a low-criticality (LO) task, $\\tau_{H1}$ has higher priority than $\\tau_{L1}$.\nTasks $\\tau_{H2}$ and $\\tau_{L2}$ have the next period, $T=20$. $\\tau_{H2}$ is a HI task and $\\tau_{L2}$ is a LO task, so $\\tau_{H2}$ has higher priority than $\\tau_{L2}$.\nComparing the periods, tasks with $T=10$ have higher priority than tasks with $T=20$.\nTherefore, the complete priority ordering, from highest to lowest, is: $\\tau_{H1} > \\tau_{L1} > \\tau_{H2} > \\tau_{L2}$.\n\nA task set is schedulable under AMC-FP if and only if two conditions are met:\n1. All tasks are schedulable in LO-criticality mode. This means the worst-case response time in LO mode, $R_i^{LO}$, for each task $\\tau_i$ must not exceed its deadline, $D_i$. Since deadlines are implicit, $D_i=T_i$. So, $\\forall i, R_i^{LO} \\le T_i$.\n2. All high-criticality tasks are schedulable in HI-criticality mode. This means the worst-case response time in HI mode, $R_i^{HI}$, for each HI task $\\tau_i$ must not exceed its deadline. So, for all HI tasks $\\tau_i$, $R_i^{HI} \\le T_i$.\n\nWe use response time analysis (RTA) to compute the worst-case response times. Let $hp(i)$ denote the set of tasks with priority higher than task $\\tau_i$.\n\n**LO-Mode Schedulability Analysis**\nIn LO mode, all tasks execute with their low-criticality worst-case execution times ($C_i^{LO}$). The worst-case response time of a task $\\tau_i$ is given by the recurrence relation:\n$$R_i^{(k+1)} = C_i^{LO} + \\sum_{j \\in hp(i)} \\left\\lceil \\frac{R_i^{(k)}}{T_j} \\right\\rceil C_j^{LO}$$\nThe iteration starts with $R_i^{(0)} = C_i^{LO}$ and continues until $R_i^{(k+1)} = R_i^{(k)}$.\n\n- **Task $\\tau_{H1}$:** $hp(H1) = \\emptyset$.\n$R_{H1}^{LO} = C_{H1}^{LO} = 2$.\nCheck: $R_{H1}^{LO} = 2 \\le T_{H1} = 10$. Schedulable.\n\n- **Task $\\tau_{L1}$:** $hp(L1) = \\{\\tau_{H1}\\}$.\n$R_{L1}^{LO} = C_{L1}^{LO} + \\left\\lceil \\frac{R_{L1}^{LO}}{T_{H1}} \\right\\rceil C_{H1}^{LO} = 1 + \\left\\lceil \\frac{R_{L1}^{LO}}{10} \\right\\rceil 2$.\n$R^{(0)} = 1$.\n$R^{(1)} = 1 + \\left\\lceil \\frac{1}{10} \\right\\rceil 2 = 1 + 1 \\times 2 = 3$.\n$R^{(2)} = 1 + \\left\\lceil \\frac{3}{10} \\right\\rceil 2 = 1 + 1 \\times 2 = 3$.\n$R_{L1}^{LO} = 3$.\nCheck: $R_{L1}^{LO} = 3 \\le T_{L1} = 10$. Schedulable.\n\n- **Task $\\tau_{H2}$:** $hp(H2) = \\{\\tau_{H1}, \\tau_{L1}\\}$.\n$R_{H2}^{LO} = C_{H2}^{LO} + \\left\\lceil \\frac{R_{H2}^{LO}}{T_{H1}} \\right\\rceil C_{H1}^{LO} + \\left\\lceil \\frac{R_{H2}^{LO}}{T_{L1}} \\right\\rceil C_{L1}^{LO} = 1 + \\left\\lceil \\frac{R_{H2}^{LO}}{10} \\right\\rceil 2 + \\left\\lceil \\frac{R_{H2}^{LO}}{10} \\right\\rceil 1 = 1 + \\left\\lceil \\frac{R_{H2}^{LO}}{10} \\right\\rceil 3$.\n$R^{(0)} = 1$.\n$R^{(1)} = 1 + \\left\\lceil \\frac{1}{10} \\right\\rceil 3 = 1 + 1 \\times 3 = 4$.\n$R^{(2)} = 1 + \\left\\lceil \\frac{4}{10} \\right\\rceil 3 = 1 + 1 \\times 3 = 4$.\n$R_{H2}^{LO} = 4$.\nCheck: $R_{H2}^{LO} = 4 \\le T_{H2} = 20$. Schedulable.\n\n- **Task $\\tau_{L2}$:** $hp(L2) = \\{\\tau_{H1}, \\tau_{L1}, \\tau_{H2}\\}$.\n$R_{L2}^{LO} = C_{L2}^{LO} + \\left\\lceil \\frac{R_{L2}^{LO}}{T_{H1}} \\right\\rceil C_{H1}^{LO} + \\left\\lceil \\frac{R_{L2}^{LO}}{T_{L1}} \\right\\rceil C_{L1}^{LO} + \\left\\lceil \\frac{R_{L2}^{LO}}{T_{H2}} \\right\\rceil C_{H2}^{LO} = 2 + \\left\\lceil \\frac{R_{L2}^{LO}}{10} \\right\\rceil 2 + \\left\\lceil \\frac{R_{L2}^{LO}}{10} \\right\\rceil 1 + \\left\\lceil \\frac{R_{L2}^{LO}}{20} \\right\\rceil 1 = 2 + \\left\\lceil \\frac{R_{L2}^{LO}}{10} \\right\\rceil 3 + \\left\\lceil \\frac{R_{L2}^{LO}}{20} \\right\\rceil 1$.\n$R^{(0)} = 2$.\n$R^{(1)} = 2 + \\left\\lceil \\frac{2}{10} \\right\\rceil 3 + \\left\\lceil \\frac{2}{20} \\right\\rceil 1 = 2 + 1 \\times 3 + 1 \\times 1 = 6$.\n$R^{(2)} = 2 + \\left\\lceil \\frac{6}{10} \\right\\rceil 3 + \\left\\lceil \\frac{6}{20} \\right\\rceil 1 = 2 + 1 \\times 3 + 1 \\times 1 = 6$.\n$R_{L2}^{LO} = 6$.\nCheck: $R_{L2}^{LO} = 6 \\le T_{L2} = 20$. Schedulable.\n\nAll tasks are schedulable in LO mode.\n\n**HI-Mode Schedulability Analysis**\nIn HI mode, LO tasks are dropped, and HI tasks execute with their high-criticality WCETs ($C_i^{HI}$). The worst-case response time for a HI task $\\tau_i$ accounts for interference from higher-priority HI tasks running at their $C_j^{HI}$ and interference from higher-priority LO tasks that may have been released before the mode switch. The standard RTA equation is:\n$$R_i^{HI} = C_i^{HI} + \\sum_{j \\in hp(i) \\cap \\text{HI}} \\left\\lceil \\frac{R_i^{HI}}{T_j} \\right\\rceil C_j^{HI} + \\sum_{k \\in hp(i) \\cap \\text{LO}} \\left\\lceil \\frac{R_i^{LO}}{T_k} \\right\\rceil C_k^{LO}$$\nThe iteration is solved for $R_i^{HI}$.\n\n- **Task $\\tau_{H1}$:** $hp(H1) = \\emptyset$, so there is no interference.\n$R_{H1}^{HI} = C_{H1}^{HI} = 4$.\nCheck: $R_{H1}^{HI} = 4 \\le T_{H1} = 10$. Schedulable.\n\n- **Task $\\tau_{H2}$:** $hp(H2) = \\{\\tau_{H1}, \\tau_{L1}\\}$. The set of higher-priority HI tasks is $hp(H2) \\cap \\text{HI} = \\{\\tau_{H1}\\}$, and the set of higher-priority LO tasks is $hp(H2) \\cap \\text{LO} = \\{\\tau_{L1}\\}$.\nWe use the previously computed value $R_{H2}^{LO} = 4$.\n$R_{H2}^{HI} = C_{H2}^{HI} + \\left\\lceil \\frac{R_{H2}^{HI}}{T_{H1}} \\right\\rceil C_{H1}^{HI} + \\left\\lceil \\frac{R_{H2}^{LO}}{T_{L1}} \\right\\rceil C_{L1}^{LO} = 3 + \\left\\lceil \\frac{R_{H2}^{HI}}{10} \\right\\rceil 4 + \\left\\lceil \\frac{4}{10} \\right\\rceil 1$.\nThe term for LO-task interference is $\\left\\lceil \\frac{4}{10} \\right\\rceil 1 = 1 \\times 1 = 1$.\nThe equation simplifies to $R_{H2}^{HI} = 3 + 1 + \\left\\lceil \\frac{R_{H2}^{HI}}{10} \\right\\rceil 4 = 4 + \\left\\lceil \\frac{R_{H2}^{HI}}{10} \\right\\rceil 4$.\nWe solve by iteration, starting with an initial guess $R^{(0)} = C_{H2}^{HI} + \\text{(interference from } \\tau_{L1}\\text{)} = 3+1 = 4$.\n$R^{(0)} = 4$.\n$R^{(1)} = 4 + \\left\\lceil \\frac{4}{10} \\right\\rceil 4 = 4 + 1 \\times 4 = 8$.\n$R^{(2)} = 4 + \\left\\lceil \\frac{8}{10} \\right\\rceil 4 = 4 + 1 \\times 4 = 8$.\n$R_{H2}^{HI} = 8$.\nCheck: $R_{H2}^{HI} = 8 \\le T_{H2} = 20$. Schedulable.\n\nBoth high-criticality tasks are schedulable in HI mode.\n\n**Conclusion on Schedulability and Final Values**\nSince all tasks are schedulable in LO mode and all HI tasks are schedulable in HI mode, the entire task set is schedulable under AMC-FP. Thus, the schedulability indicator is $s=1$.\n\nThe maximum response time for each HI task is the maximum of its response times in the two modes.\n- For $\\tau_{H1}$: $R_{H1}^{max} = \\max(R_{H1}^{LO}, R_{H1}^{HI}) = \\max(2, 4) = 4$.\n- For $\\tau_{H2}$: $R_{H2}^{max} = \\max(R_{H2}^{LO}, R_{H2}^{HI}) = \\max(4, 8) = 8$.\n\nThe final results to be reported are the maximum response times for $\\tau_{H1}$ and $\\tau_{H2}$, and the schedulability indicator $s$. The values are $4$ ms, $8$ ms, and $1$, respectively.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n4  8  1\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "Moving from fixed to dynamic priorities, this practice explores the Earliest Deadline First with Virtual Deadlines (EDF-VD) scheduler. This approach introduces a critical design parameter, the deadline scaling factor $x$, which balances LO-mode schedulability against the system's ability to handle HI-mode overruns. Your task is to derive the fundamental constraints on $x$ and use them to determine if a schedulable configuration is even possible for a given workload . This moves beyond simple verification to the crucial domain of design-space exploration and feasibility analysis.",
            "id": "4230834",
            "problem": "A cyber-physical system’s digital twin must co-schedule a dual-criticality workload on a single unit-speed processor using Earliest Deadline First with Virtual Deadlines (EDF-VD). The low-criticality (LO) workload models estimators and anomaly detectors in the digital twin, while the high-criticality (HI) workload models safety-critical controllers. Let the aggregate utilizations be defined as follows: $U_{L}^{LO}$ is the sum of the utilizations of all LO tasks under their LO worst-case execution times, $U_{H}^{LO}$ is the sum of the utilizations of all HI tasks evaluated at their LO worst-case execution times, and $U_{H}^{HI}$ is the sum of the utilizations of all HI tasks evaluated at their HI worst-case execution times. Under EDF-VD, HI tasks have their deadlines scaled by a factor $x \\in (0,1]$ in LO mode (their virtual deadlines are $x$ times their actual deadlines), while LO tasks retain their actual deadlines. After a mode switch, LO tasks are discarded and HI tasks execute with their actual deadlines and HI worst-case execution times.\n\nStarting from the fundamental EDF schedulability principle for implicit-deadline task sets—namely, that a set with total utilization at most $1$ is schedulable on a unit-speed processor—and the processor-demand interpretation of deadline scaling (deadline compression by a factor $x$ inflates the effective utilization by a factor $1/x$), derive the necessary feasibility conditions that $x$ must satisfy to ensure schedulability in LO mode and that, upon a worst-case mode switch, the remaining HI workload can be completed by each job’s actual deadline. Then, for the specific aggregate utilizations $U_{L}^{LO} = 0.35$, $U_{H}^{LO} = 0.25$, and $U_{H}^{HI} = 0.9$, determine the Lebesgue measure of the set of all $x \\in (0,1]$ that satisfy these EDF-VD feasibility conditions. Express the final answer as a real number without units.",
            "solution": "The problem requires the derivation of feasibility conditions for the deadline scaling factor $x$ in a dual-criticality system scheduled with Earliest Deadline First with Virtual Deadlines (EDF-VD). Subsequently, for a given set of aggregate utilizations, we must determine the Lebesgue measure of the set of all valid $x$ in the interval $(0,1]$.\n\nFirst, we derive the necessary feasibility conditions for $x$. The system comprises low-criticality (LO) tasks and high-criticality (HI) tasks on a single unit-speed processor. The aggregate utilizations are given as $U_{L}^{LO}$, $U_{H}^{LO}$, and $U_{H}^{HI}$.\n\nCondition 1: Schedulability in LO-criticality mode.\nIn LO mode, all tasks are active. The LO tasks execute with their specified LO worst-case execution times (WCETs), contributing a total utilization of $U_{L}^{LO}$. The HI tasks also execute with their LO-WCETs, contributing a base utilization of $U_{H}^{LO}$. However, under EDF-VD, the deadlines of HI tasks are scaled by a factor $x \\in (0,1]$. As stated in the problem, this deadline compression by a factor of $x$ inflates the effective processor utilization demand by a factor of $1/x$. Therefore, the effective utilization of the HI tasks in LO mode is $\\frac{U_{H}^{LO}}{x}$.\n\nFor the entire task set to be schedulable under EDF, the total utilization must not exceed the processor capacity, which is $1$ for a unit-speed processor.\n$$U_{L}^{LO} + \\frac{U_{H}^{LO}}{x} \\le 1$$\nSince $x > 0$, we can rearrange this inequality to find a lower bound for $x$.\n$$\\frac{U_{H}^{LO}}{x} \\le 1 - U_{L}^{LO}$$\n$$x \\ge \\frac{U_{H}^{LO}}{1 - U_{L}^{LO}}$$\nThis inequality provides the first condition, a lower bound on the scaling factor $x$. Let us denote this lower bound as $x_{min}$.\n$$x_{min} = \\frac{U_{H}^{LO}}{1 - U_{L}^{LO}}$$\n\nCondition 2: Schedulability during and after a mode switch to HI-criticality mode.\nA mode switch occurs if a HI task exceeds its LO-WCET. At this point, all LO tasks are discarded, and HI tasks are permitted to execute up to their HI-WCETs, while still needing to meet their original, unscaled deadlines. We must ensure that the system remains schedulable through this transition. This requires that sufficient processor capacity is available to accommodate the additional workload from HI tasks, which is the difference between their HI-mode utilization ($U_{H}^{HI}$) and their LO-mode utilization ($U_{H}^{LO}$).\n\nThe standard sufficient condition for the schedulability of the transition under EDF-VD for implicit-deadline tasks establishes a relationship between the excess HI-mode demand and the capacity made available by the scheduling policy. By completing HI tasks within their virtual deadlines ($x$ times their actual deadlines), a time interval of length $(1-x)D_i$ is effectively reserved before each actual deadline $D_i$. This \"slack\" distributed across the timeline provides capacity to handle overruns. The processor capacity available to HI tasks is already constrained by the presence of LO tasks before the switch, amounting to a fraction $1 - U_{L}^{LO}$ of the total capacity. A rigorous derivation based on supply and demand bound functions shows that the excess utilization demand of HI tasks, $U_{H}^{HI} - U_{H}^{LO}$, must be serviceable by the processor capacity fraction $1 - U_{L}^{LO}$, scaled by the temporal slack factor $1-x$. The resulting inequality is:\n$$(1-x)(1 - U_{L}^{LO}) \\ge U_{H}^{HI} - U_{H}^{LO}$$\nAssuming $U_{H}^{HI} > U_{H}^{LO}$, we must have $x  1$. We can rearrange this to find an upper bound on $x$.\n$$1-x \\ge \\frac{U_{H}^{HI} - U_{H}^{LO}}{1 - U_{L}^{LO}}$$\n$$x \\le 1 - \\frac{U_{H}^{HI} - U_{H}^{LO}}{1 - U_{L}^{LO}}$$\nThis inequality provides the second condition, an upper bound on $x$. Let us denote this upper bound as $x_{max}$.\n$$x_{max} = 1 - \\frac{U_{H}^{HI} - U_{H}^{LO}}{1 - U_{L}^{LO}}$$\n\nFor a valid scaling factor $x$ to exist, we must have $x_{min} \\le x_{max}$. This implies:\n$$\\frac{U_{H}^{LO}}{1 - U_{L}^{LO}} \\le 1 - \\frac{U_{H}^{HI} - U_{H}^{LO}}{1 - U_{L}^{LO}}$$\nMultiplying by $1 - U_{L}^{LO}$ (which must be positive for the system to be non-trivial, a condition our data satisfies):\n$$U_{H}^{LO} \\le (1 - U_{L}^{LO}) - (U_{H}^{HI} - U_{H}^{LO})$$\n$$U_{H}^{LO} \\le 1 - U_{L}^{LO} - U_{H}^{HI} + U_{H}^{LO}$$\n$$0 \\le 1 - U_{L}^{LO} - U_{H}^{HI}$$\n$$U_{L}^{LO} + U_{H}^{HI} \\le 1$$\nThis is a fundamental condition for the schedulability of the system under EDF-VD.\n\nNow, we apply the specific aggregate utilizations provided in the problem: $U_{L}^{LO} = 0.35$, $U_{H}^{LO} = 0.25$, and $U_{H}^{HI} = 0.9$.\nLet's first check the fundamental feasibility condition:\n$$U_{L}^{LO} + U_{H}^{HI} = 0.35 + 0.9 = 1.25$$\nSince $1.25 > 1$, the necessary condition for the existence of a valid $x$ is not met. This implies that the set of valid scaling factors is empty. To confirm this, we will calculate $x_{min}$ and $x_{max}$.\n\nCalculating the lower bound for $x$:\n$$x_{min} = \\frac{U_{H}^{LO}}{1 - U_{L}^{LO}} = \\frac{0.25}{1 - 0.35} = \\frac{0.25}{0.65} = \\frac{25}{65} = \\frac{5}{13}$$\n\nCalculating the upper bound for $x$:\n$$x_{max} = 1 - \\frac{U_{H}^{HI} - U_{H}^{LO}}{1 - U_{L}^{LO}} = 1 - \\frac{0.9 - 0.25}{1 - 0.35} = 1 - \\frac{0.65}{0.65} = 1 - 1 = 0$$\n\nThe derived feasibility conditions require $x$ to be in the interval $[x_{min}, x_{max}]$, so we must have:\n$$\\frac{5}{13} \\le x \\le 0$$\nThe problem states that $x \\in (0, 1]$. The set of all $x$ satisfying the feasibility conditions is the intersection of the interval $[\\frac{5}{13}, 0]$ and the interval $(0, 1]$.\nSince $\\frac{5}{13} > 0$, the interval $[\\frac{5}{13}, 0]$ is the empty set, denoted by $\\emptyset$.\nThe intersection of the empty set with any other set is the empty set.\n$$S = \\left[\\frac{5}{13}, 0\\right] \\cap (0, 1] = \\emptyset$$\nThe problem asks for the Lebesgue measure of this set $S$. The Lebesgue measure on the real line generalizes the notion of length. The measure of the empty set is, by definition, $0$.\n\nTherefore, for the given system parameters, there is no value of the scaling factor $x$ that can guarantee schedulability, and the Lebesgue measure of the set of valid $x$ is $0$.",
            "answer": "$$\\boxed{0}$$"
        },
        {
            "introduction": "While the previous exercises involved analyzing systems with a given priority order or design, a key practical challenge is to *find* a valid schedule in the first place. This final practice introduces a constructive approach using a mixed-criticality adaptation of Audsley's algorithm for assigning fixed priorities. By iteratively testing which task can tolerate the lowest priority among the remaining set, you will build a complete, valid priority ordering from the ground up . This exercise develops a deeper, procedural understanding of schedulability and shifts the focus from analysis to synthesis.",
            "id": "4230842",
            "problem": "Consider a uniprocessor, fully preemptive, fixed-priority scheduling problem under the sporadic task model with constrained deadlines, where each task has a single relative deadline equal to its minimum inter-arrival time. The system is mixed-criticality with two criticality levels (low and high). In the low-criticality operating mode, all tasks must meet deadlines using low-criticality worst-case execution times, whereas upon a mode switch to the high-criticality operating mode, only high-criticality tasks must continue to meet deadlines, using high-criticality worst-case execution times, and low-criticality tasks may be discarded. Assume no release jitter and synchronous releases are worst case.\n\nYou are given four sporadic tasks $\\tau_1, \\tau_2, \\tau_3, \\tau_4$ with the following parameters. For each task $\\tau_i$, $T_i$ denotes the minimum inter-arrival time (and equals the relative deadline $D_i$), $C_i^{\\mathrm{LO}}$ denotes the low-criticality worst-case execution time, and $C_i^{\\mathrm{HI}}$ denotes the high-criticality worst-case execution time (defined only for high-criticality tasks). Task criticality levels are indicated in parentheses.\n\n- $\\tau_1$ (high criticality): $T_1 = D_1 = 40$, $C_1^{\\mathrm{LO}} = 4$, $C_1^{\\mathrm{HI}} = 8$.\n- $\\tau_2$ (high criticality): $T_2 = D_2 = 25$, $C_2^{\\mathrm{LO}} = 5$, $C_2^{\\mathrm{HI}} = 9$.\n- $\\tau_3$ (low criticality): $T_3 = D_3 = 20$, $C_3^{\\mathrm{LO}} = 3$.\n- $\\tau_4$ (low criticality): $T_4 = D_4 = 10$, $C_4^{\\mathrm{LO}} = 2$.\n\nUsing Audsley’s algorithm for fixed-priority assignment, adapted to the mixed-criticality setting with two operating modes as follows, determine a valid fixed-priority order:\n\n- At each step, among the tasks not yet assigned a priority, identify any task that can be assigned the lowest priority among the remaining tasks such that, in the low-criticality mode, it meets its deadline when all remaining tasks are assumed to have higher priority; and, if the candidate task is high criticality, then it must additionally meet its deadline in the high-criticality mode when only high-criticality tasks are assumed to execute (with low-criticality tasks possibly contributing only at a mode switch consistent with standard Advanced Mixed-Criticality (AMC) semantics). Low-criticality tasks do not need to be schedulable in the high-criticality mode.\n- If multiple tasks are feasible as the lowest priority in any step, break ties by choosing the task with the smallest index $i$.\n\nEncode the final fixed-priority order from highest to lowest as a single integer $E$ using the following rule. If the final order from highest to lowest is $(\\tau_{i_1}, \\tau_{i_2}, \\tau_{i_3}, \\tau_{i_4})$, define\n$$\nE \\;=\\; 1000\\, i_1 \\;+\\; 100\\, i_2 \\;+\\; 10\\, i_3 \\;+\\; i_4.\n$$\n\nCompute $E$. Provide the final answer as a single integer. No rounding is required.",
            "solution": "We begin from first principles of fixed-priority response-time analysis for sporadic tasks. Under fixed-priority preemptive scheduling on a single processor, the worst-case response time $R_i$ of a task $\\tau_i$ at a given priority level is the minimal fixed point of the recurrence\n$$\nR_i \\;=\\; C_i \\;+\\; \\sum_{\\tau_j \\in \\mathrm{hp}(i)} \\left\\lceil \\frac{R_i}{T_j} \\right\\rceil C_j,\n$$\nwhere $\\mathrm{hp}(i)$ denotes the set of tasks with strictly higher priority than $\\tau_i$, $C_i$ is the worst-case execution time used in the operating mode under consideration, and each term $\\left\\lceil \\frac{R_i}{T_j} \\right\\rceil C_j$ upper-bounds the interference from task $\\tau_j$ during the interval of length $R_i$. Task $\\tau_i$ is deemed schedulable if $R_i \\leq D_i$.\n\nIn the two-mode mixed-criticality setting as per Advanced Mixed-Criticality (AMC) semantics, low-criticality (LO) mode requires that every task $\\tau_i$ is schedulable using $C_i^{\\mathrm{LO}}$, with interference from all higher-priority tasks also using their $C_j^{\\mathrm{LO}}$. In the high-criticality (HI) mode, only high-criticality tasks must remain schedulable. A conservative response-time bound for a high-criticality task $\\tau_i$ in HI mode is given by the AMC response-time bound (AMC-rtb), which accounts for (i) interference from higher-priority high-criticality tasks using their $C_j^{\\mathrm{HI}}$ over the entire HI-mode response interval $R_i^{\\mathrm{HI}}$ and (ii) possible carry-in interference due to higher-priority low-criticality tasks up to $R_i^{\\mathrm{LO}}$. Concretely, the bounds we apply are:\n- Low mode for any $\\tau_i$:\n$$\nR_i^{\\mathrm{LO}} \\;=\\; C_i^{\\mathrm{LO}} \\;+\\; \\sum_{\\tau_j \\in \\mathrm{hp}(i)} \\left\\lceil \\frac{R_i^{\\mathrm{LO}}}{T_j} \\right\\rceil C_j^{\\mathrm{LO}}.\n$$\n- High mode for high-criticality $\\tau_i$:\n$$\nR_i^{\\mathrm{HI}} \\;=\\; C_i^{\\mathrm{HI}} \\;+\\; \\sum_{\\tau_j \\in \\mathrm{hp}_H(i)} \\left\\lceil \\frac{R_i^{\\mathrm{HI}}}{T_j} \\right\\rceil C_j^{\\mathrm{HI}} \\;+\\; \\sum_{\\tau_k \\in \\mathrm{hp}_L(i)} \\left\\lceil \\frac{R_i^{\\mathrm{LO}}}{T_k} \\right\\rceil C_k^{\\mathrm{LO}},\n$$\nwhere $\\mathrm{hp}_H(i)$ and $\\mathrm{hp}_L(i)$ denote, respectively, the higher-priority high- and low-criticality tasks relative to $\\tau_i$.\n\nAudsley’s algorithm assigns priorities from lowest to highest by iteratively, at each step, selecting a task that can be safely placed at the lowest priority among the remaining tasks, using the above schedulability checks. If more than one task satisfies the condition in any iteration, we choose the task with the smallest index, per the tie-break rule in the problem.\n\nWe proceed step by step.\n\nStep $1$: Determine which task can be assigned the lowest priority among all four tasks $\\{\\tau_1,\\tau_2,\\tau_3,\\tau_4\\}$.\n\n- Candidate $\\tau_4$ (low criticality) as lowest:\nLow mode with $\\mathrm{hp}(4)=\\{\\tau_1,\\tau_2,\\tau_3\\}$:\nIterate $w^{(0)}=C_4^{\\mathrm{LO}}=2$,\n$$\nw^{(1)} \\;=\\; 2 \\;+\\; \\left\\lceil \\frac{w^{(0)}}{T_1} \\right\\rceil 4 \\;+\\; \\left\\lceil \\frac{w^{(0)}}{T_2} \\right\\rceil 5 \\;+\\; \\left\\lceil \\frac{w^{(0)}}{T_3} \\right\\rceil 3 \\;=\\; 2 \\;+\\; 1\\cdot 4 \\;+\\; 1\\cdot 5 \\;+\\; 1\\cdot 3 \\;=\\; 14.\n$$\nCheck again with $w^{(1)}=14$: $\\left\\lceil \\frac{14}{40} \\right\\rceil = 1$, $\\left\\lceil \\frac{14}{25} \\right\\rceil = 1$, $\\left\\lceil \\frac{14}{20} \\right\\rceil = 1$, hence $w^{(2)}=14$. Thus $R_4^{\\mathrm{LO}}=14$. Since $D_4=10$, we have $R_4^{\\mathrm{LO}} > D_4$, so $\\tau_4$ cannot be the lowest.\n\n- Candidate $\\tau_3$ (low criticality) as lowest:\nLow mode with $\\mathrm{hp}(3)=\\{\\tau_1,\\tau_2,\\tau_4\\}$:\nStart $w^{(0)}=3$,\n$$\nw^{(1)} \\;=\\; 3 \\;+\\; \\left\\lceil \\frac{3}{40} \\right\\rceil 4 \\;+\\; \\left\\lceil \\frac{3}{25} \\right\\rceil 5 \\;+\\; \\left\\lceil \\frac{3}{10} \\right\\rceil 2 \\;=\\; 3 \\;+\\; 4 \\;+\\; 5 \\;+\\; 2 \\;=\\; 14.\n$$\nWith $w^{(1)}=14$, we get $\\left\\lceil \\frac{14}{40} \\right\\rceil=1$, $\\left\\lceil \\frac{14}{25} \\right\\rceil=1$, $\\left\\lceil \\frac{14}{10} \\right\\rceil=2$, so\n$$\nw^{(2)} \\;=\\; 3 \\;+\\; 4 \\;+\\; 5 \\;+\\; 2\\cdot 2 \\;=\\; 16.\n$$\nRe-evaluate with $w^{(2)}=16$: $\\left\\lceil \\frac{16}{40} \\right\\rceil=1$, $\\left\\lceil \\frac{16}{25} \\right\\rceil=1$, $\\left\\lceil \\frac{16}{10} \\right\\rceil=2$, hence $w^{(3)}=16$ is a fixed point. Therefore $R_3^{\\mathrm{LO}}=16 \\leq D_3=20$. Since $\\tau_3$ is low criticality, no high-mode check is required. Thus $\\tau_3$ is feasible as the lowest.\n\n- Candidate $\\tau_1$ (high criticality) as lowest:\nLow mode with $\\mathrm{hp}(1)=\\{\\tau_2,\\tau_3,\\tau_4\\}$:\nStart $w^{(0)}=4$,\n$$\nw^{(1)} \\;=\\; 4 \\;+\\; \\left\\lceil \\frac{4}{25} \\right\\rceil 5 \\;+\\; \\left\\lceil \\frac{4}{20} \\right\\rceil 3 \\;+\\; \\left\\lceil \\frac{4}{10} \\right\\rceil 2 \\;=\\; 4 \\;+\\; 5 \\;+\\; 3 \\;+\\; 2 \\;=\\; 14.\n$$\nWith $w^{(1)}=14$: $\\left\\lceil \\frac{14}{25} \\right\\rceil=1$, $\\left\\lceil \\frac{14}{20} \\right\\rceil=1$, $\\left\\lceil \\frac{14}{10} \\right\\rceil=2$, so\n$$\nw^{(2)} \\;=\\; 4 \\;+\\; 5 \\;+\\; 3 \\;+\\; 2\\cdot 2 \\;=\\; 16.\n$$\nWith $w^{(2)}=16$, the ceilings are unchanged, thus $R_1^{\\mathrm{LO}}=16 \\leq D_1=40$.\n\nHigh mode (AMC-rtb) for $\\tau_1$ with $\\mathrm{hp}_H(1)=\\{\\tau_2\\}$ and $\\mathrm{hp}_L(1)=\\{\\tau_3,\\tau_4\\}$. First compute the low-mode carry-in terms using $R_1^{\\mathrm{LO}}=16$:\n$$\n\\left\\lceil \\frac{R_1^{\\mathrm{LO}}}{T_3} \\right\\rceil C_3^{\\mathrm{LO}} \\;=\\; \\left\\lceil \\frac{16}{20} \\right\\rceil \\cdot 3 \\;=\\; 1\\cdot 3 \\;=\\; 3, \\qquad\n\\left\\lceil \\frac{R_1^{\\mathrm{LO}}}{T_4} \\right\\rceil C_4^{\\mathrm{LO}} \\;=\\; \\left\\lceil \\frac{16}{10} \\right\\rceil \\cdot 2 \\;=\\; 2\\cdot 2 \\;=\\; 4.\n$$\nThus the total low-criticality carry-in is $3+4=7$. Now iterate $R_1^{\\mathrm{HI}}$:\nStart $w^{(0)} = C_1^{\\mathrm{HI}} + 7 = 8 + 7 = 15$,\n$$\nw^{(1)} \\;=\\; 8 \\;+\\; \\left\\lceil \\frac{w^{(0)}}{T_2} \\right\\rceil 9 \\;+\\; 7 \\;=\\; 8 \\;+\\; 1\\cdot 9 \\;+\\; 7 \\;=\\; 24.\n$$\nWith $w^{(1)}=24$, $\\left\\lceil \\frac{24}{25} \\right\\rceil=1$, hence $w^{(2)}=24$ is a fixed point. Therefore $R_1^{\\mathrm{HI}}=24 \\leq D_1=40$. Hence $\\tau_1$ is feasible as the lowest.\n\n- Candidate $\\tau_2$ (high criticality) as lowest:\nLow mode with $\\mathrm{hp}(2)=\\{\\tau_1,\\tau_3,\\tau_4\\}$:\nStart $w^{(0)}=5$,\n$$\nw^{(1)} \\;=\\; 5 \\;+\\; \\left\\lceil \\frac{5}{40} \\right\\rceil 4 \\;+\\; \\left\\lceil \\frac{5}{20} \\right\\rceil 3 \\;+\\; \\left\\lceil \\frac{5}{10} \\right\\rceil 2 \\;=\\; 5 \\;+\\; 4 \\;+\\; 3 \\;+\\; 2 \\;=\\; 14.\n$$\nWith $w^{(1)}=14$: $\\left\\lceil \\frac{14}{40} \\right\\rceil=1$, $\\left\\lceil \\frac{14}{20} \\right\\rceil=1$, $\\left\\lceil \\frac{14}{10} \\right\\rceil=2$, so\n$$\nw^{(2)} \\;=\\; 5 \\;+\\; 4 \\;+\\; 3 \\;+\\; 2\\cdot 2 \\;=\\; 16,\n$$\nwhich is a fixed point with $R_2^{\\mathrm{LO}}=16 \\leq D_2=25$.\n\nHigh mode (AMC-rtb) for $\\tau_2$ with $\\mathrm{hp}_H(2)=\\{\\tau_1\\}$ and $\\mathrm{hp}_L(2)=\\{\\tau_3,\\tau_4\\}$:\nThe low-mode carry-in interference using $R_2^{\\mathrm{LO}}=16$ is:\n$$\n\\left\\lceil \\frac{16}{20} \\right\\rceil \\cdot 3 \\;+\\; \\left\\lceil \\frac{16}{10} \\right\\rceil \\cdot 2 \\;=\\; 3 \\;+\\; 4 \\;=\\; 7.\n$$\nNow iterate for $R_2^{\\mathrm{HI}}$, including interference from $\\tau_1$:\nStart $w^{(0)} = C_2^{\\mathrm{HI}} + 7 = 9 + 7 = 16$.\n$$\nw^{(1)} \\;=\\; 9 \\;+\\; \\left\\lceil \\frac{w^{(0)}}{T_1} \\right\\rceil 8 \\;+\\; 7 \\;=\\; 16 \\;+\\; \\left\\lceil \\frac{16}{40} \\right\\rceil 8 \\;=\\; 16 + 8 = 24.\n$$\nWith $w^{(1)}=24$, $\\left\\lceil \\frac{24}{40} \\right\\rceil=1$, hence $w^{(2)}=24$ is a fixed point. Therefore $R_2^{\\mathrm{HI}}=24 \\leq D_2=25$. Hence $\\tau_2$ is feasible as the lowest.\n\nConclusion for Step $1$: Feasible lowest-priority candidates are $\\tau_1$, $\\tau_2$, and $\\tau_3$; $\\tau_4$ is not feasible. By the tie-break rule (smallest index), select $\\tau_1$ as the lowest priority among all four tasks.\n\nStep $2$: Remove $\\tau_1$ and determine the lowest among the remaining tasks $\\{\\tau_2,\\tau_3,\\tau_4\\}$.\n\n- Candidate $\\tau_4$ (low criticality) as lowest with $\\mathrm{hp}(4)=\\{\\tau_2,\\tau_3\\}$:\nLow mode:\nStart $w^{(0)}=2$,\n$$\nw^{(1)} \\;=\\; 2 \\;+\\; \\left\\lceil \\frac{2}{25} \\right\\rceil 5 \\;+\\; \\left\\lceil \\frac{2}{20} \\right\\rceil 3 \\;=\\; 2 \\;+\\; 5 \\;+\\; 3 \\;=\\; 10.\n$$\nWith $w^{(1)}=10$: $\\left\\lceil \\frac{10}{25} \\right\\rceil=1$, $\\left\\lceil \\frac{10}{20} \\right\\rceil=1$, so $w^{(2)}=10$, hence $R_4^{\\mathrm{LO}}=10 \\leq D_4=10$. Feasible.\n\n- Candidate $\\tau_3$ (low criticality) as lowest with $\\mathrm{hp}(3)=\\{\\tau_2,\\tau_4\\}$:\nLow mode:\nStart $w^{(0)}=3$,\n$$\nw^{(1)} \\;=\\; 3 \\;+\\; \\left\\lceil \\frac{3}{25} \\right\\rceil 5 \\;+\\; \\left\\lceil \\frac{3}{10} \\right\\rceil 2 \\;=\\; 3 \\;+\\; 5 \\;+\\; 2 \\;=\\; 10,\n$$\nwhich is a fixed point with $R_3^{\\mathrm{LO}}=10 \\leq D_3=20$. Feasible.\n\n- Candidate $\\tau_2$ (high criticality) as lowest with $\\mathrm{hp}(2)=\\{\\tau_3,\\tau_4\\}$:\nLow mode:\nStart $w^{(0)}=5$,\n$$\nw^{(1)} \\;=\\; 5 \\;+\\; \\left\\lceil \\frac{5}{20} \\right\\rceil 3 \\;+\\; \\left\\lceil \\frac{5}{10} \\right\\rceil 2 \\;=\\; 5 \\;+\\; 3 \\;+\\; 2 \\;=\\; 10,\n$$\nthus $R_2^{\\mathrm{LO}}=10 \\leq 25$. High mode (AMC-rtb) with $\\mathrm{hp}_H(2)=\\{\\}$ and $\\mathrm{hp}_L(2)=\\{\\tau_3,\\tau_4\\}$:\nCarry-in from low mode using $R_2^{\\mathrm{LO}}=10$:\n$$\n\\left\\lceil \\frac{10}{20} \\right\\rceil \\cdot 3 \\;=\\; 3, \\qquad \\left\\lceil \\frac{10}{10} \\right\\rceil \\cdot 2 \\;=\\; 2,\n$$\nsum $=5$. Hence\n$$\nR_2^{\\mathrm{HI}} \\;=\\; C_2^{\\mathrm{HI}} \\;+\\; 5 \\;=\\; 9 \\;+\\; 5 \\;=\\; 14 \\;\\leq\\; D_2=25.\n$$\nFeasible.\n\nConclusion for Step $2$: All three candidates are feasible; by the tie-break rule, select $\\tau_2$ as the next-lowest priority. Now the two lowest priorities are, from bottom up: $\\tau_1$ (lowest), $\\tau_2$.\n\nStep $3$: Remove $\\tau_2$; remaining tasks are $\\{\\tau_3,\\tau_4\\}$.\n\n- Candidate $\\tau_4$ (low criticality) as lowest with $\\mathrm{hp}(4)=\\{\\tau_3\\}$:\nLow mode:\nStart $w^{(0)}=2$,\n$$\nw^{(1)} \\;=\\; 2 \\;+\\; \\left\\lceil \\frac{2}{20} \\right\\rceil 3 \\;=\\; 2 \\;+\\; 3 \\;=\\; 5,\n$$\nand with $w^{(1)}=5$, $\\left\\lceil \\frac{5}{20} \\right\\rceil=1$, so $R_4^{\\mathrm{LO}}=5 \\leq 10$. Feasible.\n\n- Candidate $\\tau_3$ (low criticality) as lowest with $\\mathrm{hp}(3)=\\{\\tau_4\\}$:\nLow mode:\nStart $w^{(0)}=3$,\n$$\nw^{(1)} \\;=\\; 3 \\;+\\; \\left\\lceil \\frac{3}{10} \\right\\rceil 2 \\;=\\; 3 \\;+\\; 2 \\;=\\; 5,\n$$\nand with $w^{(1)}=5$, $\\left\\lceil \\frac{5}{10} \\right\\rceil=1$, so $R_3^{\\mathrm{LO}}=5 \\leq 20$. Feasible.\n\nConclusion for Step $3$: Both candidates are feasible; by the tie-break rule, select $\\tau_3$ as the next-lowest. The remaining unassigned task is $\\tau_4$, which therefore receives the highest priority.\n\nFinal fixed-priority order from highest to lowest is $(\\tau_4, \\tau_3, \\tau_2, \\tau_1)$.\n\nPer the encoding rule, with $(i_1,i_2,i_3,i_4)=(4,3,2,1)$, we obtain\n$$\nE \\;=\\; 1000\\cdot 4 \\;+\\; 100\\cdot 3 \\;+\\; 10\\cdot 2 \\;+\\; 1 \\;=\\; 4321.\n$$\nThus the requested encoded priority assignment integer is $4321$.",
            "answer": "$$\\boxed{4321}$$"
        }
    ]
}