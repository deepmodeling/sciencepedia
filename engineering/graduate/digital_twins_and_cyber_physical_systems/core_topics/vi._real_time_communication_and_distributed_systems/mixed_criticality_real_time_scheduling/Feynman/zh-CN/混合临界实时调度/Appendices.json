{
    "hands_on_practices": [
        {
            "introduction": "在混合关键性系统中，验证一个给定的调度策略是否能保证所有任务的实时性是首要任务。本练习将引导您应用自适应混合关键性（AMC）模型下的响应时间分析（RTA）方法，对一个采用固定优先级调度的任务集进行可调度性检验 。通过亲手计算低关键性模式和高关键性模式下的最坏情况响应时间，您将深入理解模式切换对任务干扰和系统行为的核心影响。",
            "id": "4230844",
            "problem": "在一个使用数字孪生进行安全监控的信息物理系统中，考虑一个混合关键性工作负载，该负载在自适应混合关键性 (AMC) 语义下通过固定优先级抢占式调度进行调度。系统实现隐式截止时间，因此对于每个任务 $i$，其相对截止时间 $D_i$ 等于其周期 $T_i$。优先级按速率单调顺序分配（周期越短，优先级越高）；当两个任务周期相同时，关键性较高的任务被赋予比关键性较低的任务更高的优先级。在 AMC 语义下，当所有任务都以其低关键性最坏情况执行时间执行时，系统在低关键性模式（LO 模式）下运行；如果任何高关键性（HI）任务超出了其低关键性预算，系统则转换到高关键性模式（HI 模式），在此模式下，低关键性任务被丢弃（不再执行），而 HI 任务则以其高关键性最坏情况执行时间执行。任务的最坏情况响应时间定义为，在受更高优先级任务抢占的情况下，从任务释放到完成的最长时间，这需要考虑在响应时间窗口内可能释放的那些更高优先级任务的所有作业。在 HI 任务的 HI 模式下，低关键性任务的干扰仅可能来自模式切换前释放的作业；来自低关键性任务的干扰在模式切换后不会持续。\n\n任务集为：\n- 高关键性任务：$\\tau_{H1}$，其参数为 $(C^{\\mathrm{LO}}, C^{\\mathrm{HI}}, T) = (2, 4, 10)$，以及 $\\tau_{H2}$，其参数为 $(C^{\\mathrm{LO}}, C^{\\mathrm{HI}}, T) = (1, 3, 20)$。\n- 低关键性任务：$\\tau_{L1}$，其参数为 $(C^{\\mathrm{LO}}, T) = (1, 10)$，以及 $\\tau_{L2}$，其参数为 $(C^{\\mathrm{LO}}, T) = (2, 20)$。\n\n假设时间以毫秒为单位。使用上述语义，并从固定优先级抢占式调度下的最坏情况响应时间的基本定义以及 AMC 对 LO 模式和 HI 模式的区分出发，确定该任务集在 AMC-FP（自适应混合关键性固定优先级）下是否可调度，并为每个 HI 任务计算其在两种模式下的最大响应时间。报告 $\\tau_{H1}$ 和 $\\tau_{H2}$ 的两个最大响应时间（以毫秒为单位），并报告一个可调度性指示符 $s$，定义为：如果任务集在 AMC-FP 下可调度，则 $s=1$，否则 $s=0$。将最终输出呈现为单个行向量。无需四舍五入；提供精确值。",
            "solution": "该问题要求对一个混合关键性任务集进行分析，以确定其在自适应混合关键性固定优先级（AMC-FP）调度策略下的可调度性。我们还必须计算高关键性任务在所有操作模式下的最大响应时间。\n\n首先，我们确定任务的优先级分配。策略是速率单调（RM），即周期越短，优先级越高。对于周期相同的任务，关键性较高的任务被分配更高的优先级。任务集如下：\n- $\\tau_{H1}$: $(C_{H1}^{\\mathrm{LO}}, C_{H1}^{\\mathrm{HI}}, T_{H1}) = (2, 4, 10)$\n- $\\tau_{H2}$: $(C_{H2}^{\\mathrm{LO}}, C_{H2}^{\\mathrm{HI}}, T_{H2}) = (1, 3, 20)$\n- $\\tau_{L1}$: $(C_{L1}^{\\mathrm{LO}}, T_{L1}) = (1, 10)$\n- $\\tau_{L2}$: $(C_{L2}^{\\mathrm{LO}}, T_{L2}) = (2, 20)$\n\n任务 $\\tau_{H1}$ 和 $\\tau_{L1}$ 的周期最短，为 $T=10$。由于 $\\tau_{H1}$ 是高关键性（HI）任务，而 $\\tau_{L1}$ 是低关键性（LO）任务，因此 $\\tau_{H1}$ 的优先级高于 $\\tau_{L1}$。\n任务 $\\tau_{H2}$ 和 $\\tau_{L2}$ 的周期次之，为 $T=20$。$\\tau_{H2}$ 是 HI 任务，而 $\\tau_{L2}$ 是 LO 任务，因此 $\\tau_{H2}$ 的优先级高于 $\\tau_{L2}$。\n比较周期，周期为 $T=10$ 的任务比周期为 $T=20$ 的任务具有更高的优先级。\n因此，从高到低的完整优先级排序是：$\\tau_{H1} > \\tau_{L1} > \\tau_{H2} > \\tau_{L2}$。\n\n一个任务集在 AMC-FP 下可调度的充要条件是满足以下两个条件：\n1. 所有任务在 LO 关键性模式下都可调度。这意味着每个任务 $\\tau_i$ 在 LO 模式下的最坏情况响应时间 $R_i^{\\mathrm{LO}}$ 不得超过其截止时间 $D_i$。由于截止时间是隐式的，$D_i=T_i$。因此，$\\forall i, R_i^{\\mathrm{LO}} \\le T_i$。\n2. 所有高关键性任务在 HI 关键性模式下都可调度。这意味着每个 HI 任务 $\\tau_i$ 在 HI 模式下的最坏情况响应时间 $R_i^{\\mathrm{HI}}$ 不得超过其截止时间。因此，对于所有 HI 任务 $\\tau_i$，$R_i^{\\mathrm{HI}} \\le T_i$。\n\n我们使用响应时间分析（RTA）来计算最坏情况响应时间。令 $hp(i)$ 表示比任务 $\\tau_i$ 优先级更高的任务集合。\n\n**LO 模式可调度性分析**\n在 LO 模式下，所有任务都以其低关键性最坏情况执行时间（$C_i^{\\mathrm{LO}}$）执行。任务 $\\tau_i$ 的最坏情况响应时间由以下递推关系给出：\n$$R_i^{(k+1)} = C_i^{\\mathrm{LO}} + \\sum_{j \\in hp(i)} \\left\\lceil \\frac{R_i^{(k)}}{T_j} \\right\\rceil C_j^{\\mathrm{LO}}$$\n迭代从 $R_i^{(0)} = C_i^{\\mathrm{LO}}$ 开始，直到 $R_i^{(k+1)} = R_i^{(k)}$ 为止。\n\n- **任务 $\\tau_{H1}$：** $hp(H1) = \\emptyset$。\n$R_{H1}^{\\mathrm{LO}} = C_{H1}^{\\mathrm{LO}} = 2$。\n检查：$R_{H1}^{\\mathrm{LO}} = 2 \\le T_{H1} = 10$。可调度。\n\n- **任务 $\\tau_{L1}$：** $hp(L1) = \\{\\tau_{H1}\\}$。\n$R_{L1}^{\\mathrm{LO}} = C_{L1}^{\\mathrm{LO}} + \\left\\lceil \\frac{R_{L1}^{\\mathrm{LO}}}{T_{H1}} \\right\\rceil C_{H1}^{\\mathrm{LO}} = 1 + \\left\\lceil \\frac{R_{L1}^{\\mathrm{LO}}}{10} \\right\\rceil 2$。\n$R^{(0)} = 1$。\n$R^{(1)} = 1 + \\left\\lceil \\frac{1}{10} \\right\\rceil 2 = 1 + 1 \\times 2 = 3$。\n$R^{(2)} = 1 + \\left\\lceil \\frac{3}{10} \\right\\rceil 2 = 1 + 1 \\times 2 = 3$。\n$R_{L1}^{\\mathrm{LO}} = 3$。\n检查：$R_{L1}^{\\mathrm{LO}} = 3 \\le T_{L1} = 10$。可调度。\n\n- **任务 $\\tau_{H2}$：** $hp(H2) = \\{\\tau_{H1}, \\tau_{L1}\\}$。\n$R_{H2}^{\\mathrm{LO}} = C_{H2}^{\\mathrm{LO}} + \\left\\lceil \\frac{R_{H2}^{\\mathrm{LO}}}{T_{H1}} \\right\\rceil C_{H1}^{\\mathrm{LO}} + \\left\\lceil \\frac{R_{H2}^{\\mathrm{LO}}}{T_{L1}} \\right\\rceil C_{L1}^{\\mathrm{LO}} = 1 + \\left\\lceil \\frac{R_{H2}^{\\mathrm{LO}}}{10} \\right\\rceil 2 + \\left\\lceil \\frac{R_{H2}^{\\mathrm{LO}}}{10} \\right\\rceil 1 = 1 + \\left\\lceil \\frac{R_{H2}^{\\mathrm{LO}}}{10} \\right\\rceil 3$。\n$R^{(0)} = 1$。\n$R^{(1)} = 1 + \\left\\lceil \\frac{1}{10} \\right\\rceil 3 = 1 + 1 \\times 3 = 4$。\n$R^{(2)} = 1 + \\left\\lceil \\frac{4}{10} \\right\\rceil 3 = 1 + 1 \\times 3 = 4$。\n$R_{H2}^{\\mathrm{LO}} = 4$。\n检查：$R_{H2}^{\\mathrm{LO}} = 4 \\le T_{H2} = 20$。可调度。\n\n- **任务 $\\tau_{L2}$：** $hp(L2) = \\{\\tau_{H1}, \\tau_{L1}, \\tau_{H2}\\}$。\n$R_{L2}^{\\mathrm{LO}} = C_{L2}^{\\mathrm{LO}} + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{T_{H1}} \\right\\rceil C_{H1}^{\\mathrm{LO}} + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{T_{L1}} \\right\\rceil C_{L1}^{\\mathrm{LO}} + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{T_{H2}} \\right\\rceil C_{H2}^{\\mathrm{LO}} = 2 + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{10} \\right\\rceil 2 + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{10} \\right\\rceil 1 + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{20} \\right\\rceil 1 = 2 + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{10} \\right\\rceil 3 + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{20} \\right\\rceil 1$。\n$R^{(0)} = 2$。\n$R^{(1)} = 2 + \\left\\lceil \\frac{2}{10} \\right\\rceil 3 + \\left\\lceil \\frac{2}{20} \\right\\rceil 1 = 2 + 1 \\times 3 + 1 \\times 1 = 6$。\n$R^{(2)} = 2 + \\left\\lceil \\frac{6}{10} \\right\\rceil 3 + \\left\\lceil \\frac{6}{20} \\right\\rceil 1 = 2 + 1 \\times 3 + 1 \\times 1 = 6$。\n$R_{L2}^{\\mathrm{LO}} = 6$。\n检查：$R_{L2}^{\\mathrm{LO}} = 6 \\le T_{L2} = 20$。可调度。\n\n所有任务在 LO 模式下均可调度。\n\n**HI 模式可调度性分析**\n在 HI 模式下，LO 任务被丢弃，HI 任务以其高关键性最坏情况执行时间（$C_i^{\\mathrm{HI}}$）执行。HI 任务 $\\tau_i$ 的最坏情况响应时间考虑了来自以 $C_j^{\\mathrm{HI}}$ 运行的更高优先级 HI 任务的干扰，以及可能在模式切换前已释放的更高优先级 LO 任务的干扰。标准的 RTA 方程为：\n$$R_i^{\\mathrm{HI}} = C_i^{\\mathrm{HI}} + \\sum_{j \\in hp(i) \\cap \\text{HI}} \\left\\lceil \\frac{R_i^{\\mathrm{HI}}}{T_j} \\right\\rceil C_j^{\\mathrm{HI}} + \\sum_{k \\in hp(i) \\cap \\text{LO}} \\left\\lceil \\frac{R_i^{\\mathrm{LO}}}{T_k} \\right\\rceil C_k^{\\mathrm{LO}}$$\n对 $R_i^{\\mathrm{HI}}$ 求解此迭代方程。\n\n- **任务 $\\tau_{H1}$：** $hp(H1) = \\emptyset$，因此没有干扰。\n$R_{H1}^{\\mathrm{HI}} = C_{H1}^{\\mathrm{HI}} = 4$。\n检查：$R_{H1}^{\\mathrm{HI}} = 4 \\le T_{H1} = 10$。可调度。\n\n- **任务 $\\tau_{H2}$：** $hp(H2) = \\{\\tau_{H1}, \\tau_{L1}\\}$。更高优先级的 HI 任务集合为 $hp(H2) \\cap \\text{HI} = \\{\\tau_{H1}\\}$，更高优先级的 LO 任务集合为 $hp(H2) \\cap \\text{LO} = \\{\\tau_{L1}\\}$。\n我们使用之前计算出的值 $R_{H2}^{\\mathrm{LO}} = 4$。\n$R_{H2}^{\\mathrm{HI}} = C_{H2}^{\\mathrm{HI}} + \\left\\lceil \\frac{R_{H2}^{\\mathrm{HI}}}{T_{H1}} \\right\\rceil C_{H1}^{\\mathrm{HI}} + \\left\\lceil \\frac{R_{H2}^{\\mathrm{LO}}}{T_{L1}} \\right\\rceil C_{L1}^{\\mathrm{LO}} = 3 + \\left\\lceil \\frac{R_{H2}^{\\mathrm{HI}}}{10} \\right\\rceil 4 + \\left\\lceil \\frac{4}{10} \\right\\rceil 1$。\nLO 任务干扰项为 $\\left\\lceil \\frac{4}{10} \\right\\rceil 1 = 1 \\times 1 = 1$。\n方程简化为 $R_{H2}^{\\mathrm{HI}} = 3 + 1 + \\left\\lceil \\frac{R_{H2}^{\\mathrm{HI}}}{10} \\right\\rceil 4 = 4 + \\left\\lceil \\frac{R_{H2}^{\\mathrm{HI}}}{10} \\right\\rceil 4$。\n我们通过迭代求解，初始猜测值为 $R^{(0)} = C_{H2}^{\\mathrm{HI}} + \\text{(来自 } \\tau_{L1}\\text{ 的干扰)} = 3+1 = 4$。\n$R^{(0)} = 4$。\n$R^{(1)} = 4 + \\left\\lceil \\frac{4}{10} \\right\\rceil 4 = 4 + 1 \\times 4 = 8$。\n$R^{(2)} = 4 + \\left\\lceil \\frac{8}{10} \\right\\rceil 4 = 4 + 1 \\times 4 = 8$。\n$R_{H2}^{\\mathrm{HI}} = 8$。\n检查：$R_{H2}^{\\mathrm{HI}} = 8 \\le T_{H2} = 20$。可调度。\n\n两个高关键性任务在 HI 模式下均可调度。\n\n**关于可调度性和最终值的结论**\n由于所有任务在 LO 模式下都可调度，且所有 HI 任务在 HI 模式下也均可调度，因此整个任务集在 AMC-FP 下是可调度的。因此，可调度性指示符为 $s=1$。\n\n每个 HI 任务的最大响应时间是其在两种模式下响应时间的最大值。\n- 对于 $\\tau_{H1}$：$R_{H1}^{\\max} = \\max(R_{H1}^{\\mathrm{LO}}, R_{H1}^{\\mathrm{HI}}) = \\max(2, 4) = 4$。\n- 对于 $\\tau_{H2}$：$R_{H2}^{\\max} = \\max(R_{H2}^{\\mathrm{LO}}, R_{H2}^{\\mathrm{HI}}) = \\max(4, 8) = 8$。\n\n需要报告的最终结果是 $\\tau_{H1}$ 和 $\\tau_{H2}$ 的最大响应时间以及可调度性指示符 $s$。这些值分别为 $4$ 毫秒、$8$ 毫秒和 $1$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n4  8  1\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "与固定优先级调度不同，基于最早截止时间优先（EDF）的动态优先级调度为混合关键性系统提供了另一种思路。本练习的核心是探索EDF与虚拟截止时间（EDF-VD）策略，您需要从基本原理出发，推导确保系统在不同模式下均可调度的关键约束条件 。这个过程将揭示虚拟截止时间缩放因子 $x$ 如何成为调节系统资源分配与安全裕度的核心杠杆。",
            "id": "4230803",
            "problem": "一个单核信息物理系统集成了一个数字孪生（DT）状态估计回路和两个非安全关键的分析任务。该平台使用最早截止时间优先虚拟截止时间（EDF-VD）算法，其中高关键性作业在低关键性模式下被分配按因子 $x \\in (0,1]$ 缩放的虚拟截止时间。DT 回路是高关键性的，而分析任务是低关键性的。任务参数如下：一个高关键性任务，其参数为 $(C^{\\mathrm{LO}}, C^{\\mathrm{HI}}, T) = (3, 6, 15)$；两个低关键性任务，其参数分别为 $(C^{\\mathrm{LO}}, T) = (2, 15)$ 和 $(1, 10)$。假设所有任务都为隐式截止时间（$D=T$）。当模式切换到高关键性模式时，所有低关键性任务都将被丢弃。\n\n从实时调度的核心定义和法则出发，使用以下内容作为基本依据：\n- 在任何有效的调度策略下，给定模式下任何时间区间内的处理器供应不能被该模式下的累积需求所超过。\n- 对于在最早截止时间优先（EDF）算法下的隐式截止时间周期性任务，要保证在单个处理器上的可调度性，只需确保利用率之和不超过 $1$。\n- 在 EDF-VD 算法下，在低关键性模式中为高关键性任务分配按 $x$ 缩放的虚拟截止时间，会使其相对需求加速 $1/x$ 倍。\n\n仅使用这些基本原则，推导在低关键性模式下约束 $x$ 的必要不等式，以及在上述丢弃低关键性任务的假设下，高关键性模式的可调度性条件。然后，计算对于给定的任务集，满足低关键性模式和高关键性模式条件的最小 $x \\in (0,1]$。通过代入任务参数和所选的 $x$ 值，对两个测试进行数值验证。将最终答案表示为精确值（不要四舍五入）。",
            "solution": "### 可调度性条件的推导\n\n我们首先对任务参数和利用率进行形式化。令 $\\mathcal{T}_H$ 表示高关键性任务的集合，$\\mathcal{T}_L$ 表示低关键性任务的集合。\n对于高关键性任务 $\\tau_H \\in \\mathcal{T}_H$：\n- 低关键性执行时间 $C_H^{\\mathrm{LO}} = 3$。\n- 高关键性执行时间 $C_H^{\\mathrm{HI}} = 6$。\n- 周期 $T_H = 15$。\n- 低关键性利用率 $U_H^{\\mathrm{LO}} = \\frac{C_H^{\\mathrm{LO}}}{T_H} = \\frac{3}{15} = \\frac{1}{5}$。\n- 高关键性利用率 $U_H^{\\mathrm{HI}} = \\frac{C_H^{\\mathrm{HI}}}{T_H} = \\frac{6}{15} = \\frac{2}{5}$。\n\n对于低关键性任务 $\\tau_{L1}, \\tau_{L2} \\in \\mathcal{T}_L$：\n- 任务 $\\tau_{L1}$：$C_{L1}^{\\mathrm{LO}} = 2$，$T_{L1} = 15$。利用率 $U_{L1}^{\\mathrm{LO}} = \\frac{2}{15}$。\n- 任务 $\\tau_{L2}$：$C_{L2}^{\\mathrm{LO}} = 1$，$T_{L2} = 10$。利用率 $U_{L2}^{\\mathrm{LO}} = \\frac{1}{10}$。\n\n低关键性任务的总利用率为：\n$$ \\sum_{\\tau_i \\in \\mathcal{T}_L} U_i^{\\mathrm{LO}} = U_{L1}^{\\mathrm{LO}} + U_{L2}^{\\mathrm{LO}} = \\frac{2}{15} + \\frac{1}{10} = \\frac{4}{30} + \\frac{3}{30} = \\frac{7}{30} $$\n\n对 $x$ 的约束条件的推导，是通过分析问题的基本原则所指定的两种系统模式来进行的。\n\n**1. 低关键性（LO）模式可调度性条件**\n\n在低关键性（LO）模式下，所有任务都处于活动状态。假定高关键性任务的执行时间最多为其 $C^{\\mathrm{LO}}$。根据问题定义，EDF-VD 调度器为高关键性任务分配虚拟截止时间。对于一个具有隐式截止时间 $T_j$ 的任务 $\\tau_j \\in \\mathcal{T}_H$，其虚拟截止时间为 $D_j' = x T_j$。\n\n基本原则 3 指出，这会使高关键性任务的需求加速 $1/x$ 倍。对于 EDF 可调度性测试而言，这意味着高关键性任务 $\\tau_j$ 的有效利用率是其 LO 模式执行时间除以其虚拟截止时间：\n$$ U_{j, \\text{eff}}^{\\mathrm{LO}} = \\frac{C_j^{\\mathrm{LO}}}{x T_j} = \\frac{1}{x} U_j^{\\mathrm{LO}} $$\n低关键性任务按其原始截止时间进行调度，因此其利用率保持不变。\n\n基本原则 2 提供了 EDF 可调度性的充分条件：利用率（在本例中为有效利用率）之和不得超过 $1$。\n$$ \\sum_{\\tau_i \\in \\mathcal{T}_L} U_i^{\\mathrm{LO}} + \\sum_{\\tau_j \\in \\mathcal{T}_H} U_{j, \\text{eff}}^{\\mathrm{LO}} \\le 1 $$\n代入有效利用率的表达式：\n$$ \\sum_{\\tau_i \\in \\mathcal{T}_L} U_i^{\\mathrm{LO}} + \\frac{1}{x} \\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{LO}} \\le 1 $$\n这是在 LO 模式下约束 $x$ 的必要不等式。\n\n**2. 高关键性（HI）模式可调度性条件**\n\n模式切换后，所有低关键性任务都将被丢弃。系统重新配置为仅包含集合 $\\mathcal{T}_H$ 中的高关键性任务。在此模式下，这些任务的执行时间最长可达其 $C^{\\mathrm{HI}}$，并且它们的截止时间恢复为其原始的隐式截止时间 $T_j$。\n\n必须保证这个新系统配置的可调度性。将基本原则 2 应用于在 HI 模式下活动的任务集（$\\mathcal{T}_H$），EDF 下的可调度性充分条件是：\n$$ \\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{HI}} \\le 1 $$\n这是 HI 模式的可调度性条件。它是对任务集参数的一个基本检查。如果不满足此条件，则无论缩放因子 $x$ 为何值，系统在 HI 模式下都根本不可调度。\n\n### 计算最小的有效 $x$\n\n我们必须找到满足两个推导条件的最小 $x \\in (0,1]$。\n\n首先，我们用给定的任务参数验证 HI 模式的条件：\n$$ \\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{HI}} = U_H^{\\mathrm{HI}} = \\frac{2}{5} $$\n由于 $\\frac{2}{5} \\le 1$，HI 模式的可调度性条件得到满足。\n\n接下来，我们求解 LO 模式不等式以得到 $x$：\n$$ \\frac{1}{x} \\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{LO}} \\le 1 - \\sum_{\\tau_i \\in \\mathcal{T}_L} U_i^{\\mathrm{LO}} $$\n鉴于 $\\sum U_j^{\\mathrm{LO}} > 0$ 并且我们需要 $x>0$，我们可以重新整理不等式以找到 $x$ 的下界：\n$$ x \\ge \\frac{\\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{LO}}}{1 - \\sum_{\\tau_i \\in \\mathcal{T}_L} U_i^{\\mathrm{LO}}} $$\n为了找到最小的有效 $x$，我们选择使该不等式成立为等式的值，因为这代表了确保 LO 模式可调度性所需的最小缩放。\n$$ x_{min} = \\frac{\\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{LO}}}{1 - \\sum_{\\tau_i \\in \\mathcal{T}_L} U_i^{\\mathrm{LO}}} $$\n我们必须确保 $x_{min} \\in (0,1]$。条件 $x_{min} \\le 1$ 等价于 $\\sum U_j^{\\mathrm{LO}} \\le 1 - \\sum U_i^{\\mathrm{LO}}$，即 $\\sum U_j^{\\mathrm{LO}} + \\sum U_i^{\\mathrm{LO}} \\le 1$。这意味着整个任务集在 LO 模式下的总利用率不得超过 $1$，这是任何可调度性的基本要求。对于给定的任务，该总和为 $\\frac{1}{5} + \\frac{7}{30} = \\frac{6}{30} + \\frac{7}{30} = \\frac{13}{30} \\le 1$，因此该条件成立。\n\n现在，我们代入数值：\n$$ x_{min} = \\frac{\\frac{1}{5}}{1 - \\frac{7}{30}} = \\frac{\\frac{1}{5}}{\\frac{30-7}{30}} = \\frac{\\frac{1}{5}}{\\frac{23}{30}} $$\n$$ x_{min} = \\frac{1}{5} \\times \\frac{30}{23} = \\frac{6}{23} $$\n$x$ 的最小值为 $\\frac{6}{23}$。该值在所需范围 $(0,1]$ 内。\n\n### 数值验证\n我们使用 $x = \\frac{6}{23}$ 来验证推导出的条件。\n\n1.  **HI 模式测试**：\n    $$ \\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{HI}} \\le 1 \\implies \\frac{2}{5} \\le 1 $$\n    此式成立。\n\n2.  **LO 模式测试**：\n    $$ \\sum_{\\tau_i \\in \\mathcal{T}_L} U_i^{\\mathrm{LO}} + \\frac{1}{x} \\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{LO}} \\le 1 $$\n    $$ \\frac{7}{30} + \\frac{1}{6/23} \\left(\\frac{1}{5}\\right) \\le 1 $$\n    $$ \\frac{7}{30} + \\frac{23}{6} \\left(\\frac{1}{5}\\right) \\le 1 $$\n    $$ \\frac{7}{30} + \\frac{23}{30} \\le 1 $$\n    $$ \\frac{30}{30} \\le 1 \\implies 1 \\le 1 $$\n    此式成立。\n\n两个条件都由 $x = \\frac{6}{23}$ 满足，且这是满足条件的最小值。",
            "answer": "$$\\boxed{\\frac{6}{23}}$$"
        },
        {
            "introduction": "仅仅分析一个已知的优先级顺序是否可行是不够的，一个更具挑战性的问题是如何系统性地找到一个可行的优先级分配。本练习将向您介绍经典的Audsley最优优先级分配算法，并将其应用于混合关键性场景 。通过自底向上地为任务分配优先级，并反复运用混合关键性响应时间分析进行验证，您将掌握一种从分析到综合的关键问题解决能力。",
            "id": "4230842",
            "problem": "考虑一个在零星任务模型下的单处理器、完全抢占式、固定优先级调度问题，该模型具有约束截止时间，其中每个任务的单个相对截止时间等于其最小到达间隔时间。该系统是具有两个临界度级别（低和高）的混合临界度系统。在低临界度操作模式下，所有任务必须使用其低临界度最坏情况执行时间来满足截止时间；而在模式切换到高临界度操作模式时，只有高临界度任务必须继续使用其高临界度最坏情况执行时间来满足截止时间，低临界度任务可能会被丢弃。假设没有释放抖动，并且同步释放是最坏情况。\n\n给定四个零星任务 $\\tau_1, \\tau_2, \\tau_3, \\tau_4$ 及其以下参数。对于每个任务 $\\tau_i$，$T_i$ 表示最小到达间隔时间（也等于相对截止时间 $D_i$），$C_i^{\\mathrm{LO}}$ 表示低临界度最坏情况执行时间，$C_i^{\\mathrm{HI}}$ 表示高临界度最坏情况执行时间（仅为高临界度任务定义）。任务的临界度级别在括号中表示。\n\n- $\\tau_1$ (高临界度): $T_1 = D_1 = 40$, $C_1^{\\mathrm{LO}} = 4$, $C_1^{\\mathrm{HI}} = 8$。\n- $\\tau_2$ (高临界度): $T_2 = D_2 = 25$, $C_2^{\\mathrm{LO}} = 5$, $C_2^{\\mathrm{HI}} = 9$。\n- $\\tau_3$ (低临界度): $T_3 = D_3 = 20$, $C_3^{\\mathrm{LO}} = 3$。\n- $\\tau_4$ (低临界度): $T_4 = D_4 = 10$, $C_4^{\\mathrm{LO}} = 2$。\n\n使用适用于具有两种操作模式的混合临界度设置的 Audsley 固定优先级分配算法，如下所述，确定一个有效的固定优先级顺序：\n\n- 在每一步中，从未分配优先级的任务中，识别出可以被分配为剩余任务中最低优先级的任务，该任务需满足以下条件：在低临界度模式下，当所有其他剩余任务被假定具有更高优先级时，它能够满足其截止时间；并且，如果该候选任务是高临界度的，那么它还必须在高临界度模式下满足其截止时间，此时假定只有高临界度任务在执行（低临界度任务可能仅在符合标准高级混合临界度（AMC）语义的模式切换时产生干扰）。低临界度任务不需要在高临界度模式下可调度。\n- 如果在任何步骤中，有多个任务可作为最低优先级，则通过选择索引 $i$ 最小的任务来打破平局。\n\n使用以下规则，将最终从高到低的固定优先级顺序编码为单个整数 $E$。如果最终从高到低的顺序是 $(\\tau_{i_1}, \\tau_{i_2}, \\tau_{i_3}, \\tau_{i_4})$，则定义\n$$\nE \\;=\\; 1000\\, i_1 \\;+\\; 100\\, i_2 \\;+\\; 10\\, i_3 \\;+\\; i_4.\n$$\n\n计算 $E$。以单个整数形式提供最终答案。无需四舍五入。",
            "solution": "我们从零星任务的固定优先级响应时间分析的基本原理开始。在单处理器上的固定优先级抢占式调度下，给定优先级水平的任务 $\\tau_i$ 的最坏情况响应时间 $R_i$ 是以下递归式的最小不动点\n$$\nR_i \\;=\\; C_i \\;+\\; \\sum_{\\tau_j \\in \\mathrm{hp}(i)} \\left\\lceil \\frac{R_i}{T_j} \\right\\rceil C_j,\n$$\n其中 $\\mathrm{hp}(i)$ 表示优先级严格高于 $\\tau_i$ 的任务集合，$C_i$ 是所考虑的操作模式下使用的最坏情况执行时间，每一项 $\\left\\lceil \\frac{R_i}{T_j} \\right\\rceil C_j$ 是任务 $\\tau_j$ 在长度为 $R_i$ 的时间间隔内产生的干扰的上界。如果 $R_i \\leq D_i$，则任务 $\\tau_i$ 被认为是可调度的。\n\n根据高级混合临界度（AMC）语义，在双模式混合临界度设置中，低临界度（LO）模式要求每个任务 $\\tau_i$ 在使用 $C_i^{\\mathrm{LO}}$ 时是可调度的，其中来自所有更高优先级任务的干扰也使用它们的 $C_j^{\\mathrm{LO}}$。在高临界度（HI）模式下，只有高临界度任务必须保持可调度。高临界度任务 $\\tau_i$ 在 HI 模式下的一个保守响应时间界限由 AMC 响应时间界限（AMC-rtb）给出，该界限考虑了 (i) 在整个 HI 模式响应时间间隔 $R_i^{\\mathrm{HI}}$ 内，来自更高优先级的高临界度任务使用其 $C_j^{\\mathrm{HI}}$ 所产生的干扰，以及 (ii) 由更高优先级的低临界度任务在长达 $R_i^{\\mathrm{LO}}$ 的时间内的可能带入干扰。具体来说，我们应用的界限是：\n- 任何任务 $\\tau_i$ 的低模式：\n$$\nR_i^{\\mathrm{LO}} \\;=\\; C_i^{\\mathrm{LO}} \\;+\\; \\sum_{\\tau_j \\in \\mathrm{hp}(i)} \\left\\lceil \\frac{R_i^{\\mathrm{LO}}}{T_j} \\right\\rceil C_j^{\\mathrm{LO}}.\n$$\n- 高临界度任务 $\\tau_i$ 的高模式：\n$$\nR_i^{\\mathrm{HI}} \\;=\\; C_i^{\\mathrm{HI}} \\;+\\; \\sum_{\\tau_j \\in \\mathrm{hp}_H(i)} \\left\\lceil \\frac{R_i^{\\mathrm{HI}}}{T_j} \\right\\rceil C_j^{\\mathrm{HI}} \\;+\\; \\sum_{\\tau_k \\in \\mathrm{hp}_L(i)} \\left\\lceil \\frac{R_i^{\\mathrm{LO}}}{T_k} \\right\\rceil C_k^{\\mathrm{LO}},\n$$\n其中 $\\mathrm{hp}_H(i)$ 和 $\\mathrm{hp}_L(i)$ 分别表示相对于 $\\tau_i$ 具有更高优先级的高临界度和低临界度任务。\n\nAudsley 算法通过在每一步迭代地选择一个可以安全地置于剩余任务中最低优先级的任务来从最低到最高分配优先级，这使用了上述的可调度性检查。如果在任何迭代中，有多个任务满足条件，我们根据问题中的平局决胜规则选择索引最小的任务。\n\n我们分步进行。\n\n步骤 1：确定在所有四个任务 $\\{\\tau_1,\\tau_2,\\tau_3,\\tau_4\\}$ 中，哪个任务可以被分配最低优先级。\n\n- 候选任务 $\\tau_4$（低临界度）作为最低优先级：\n低模式，其中 $\\mathrm{hp}(4)=\\{\\tau_1,\\tau_2,\\tau_3\\}$：\n迭代 $w^{(0)}=C_4^{\\mathrm{LO}}=2$，\n$$\nw^{(1)} \\;=\\; 2 \\;+\\; \\left\\lceil \\frac{w^{(0)}}{T_1} \\right\\rceil 4 \\;+\\; \\left\\lceil \\frac{w^{(0)}}{T_2} \\right\\rceil 5 \\;+\\; \\left\\lceil \\frac{w^{(0)}}{T_3} \\right\\rceil 3 \\;=\\; 2 \\;+\\; 1\\cdot 4 \\;+\\; 1\\cdot 5 \\;+\\; 1\\cdot 3 \\;=\\; 14.\n$$\n用 $w^{(1)}=14$ 再次检查：$\\left\\lceil \\frac{14}{40} \\right\\rceil = 1$，$\\left\\lceil \\frac{14}{25} \\right\\rceil = 1$，$\\left\\lceil \\frac{14}{20} \\right\\rceil = 1$，因此 $w^{(2)}=14$。于是 $R_4^{\\mathrm{LO}}=14$。由于 $D_4=10$，我们有 $R_4^{\\mathrm{LO}} > D_4$，所以 $\\tau_4$ 不能是最低优先级。\n\n- 候选任务 $\\tau_3$（低临界度）作为最低优先级：\n低模式，其中 $\\mathrm{hp}(3)=\\{\\tau_1,\\tau_2,\\tau_4\\}$：\n开始 $w^{(0)}=3$，\n$$\nw^{(1)} \\;=\\; 3 \\;+\\; \\left\\lceil \\frac{3}{40} \\right\\rceil 4 \\;+\\; \\left\\lceil \\frac{3}{25} \\right\\rceil 5 \\;+\\; \\left\\lceil \\frac{3}{10} \\right\\rceil 2 \\;=\\; 3 \\;+\\; 4 \\;+\\; 5 \\;+\\; 2 \\;=\\; 14.\n$$\n用 $w^{(1)}=14$，我们得到 $\\left\\lceil \\frac{14}{40} \\right\\rceil=1$，$\\left\\lceil \\frac{14}{25} \\right\\rceil=1$，$\\left\\lceil \\frac{14}{10} \\right\\rceil=2$，所以\n$$\nw^{(2)} \\;=\\; 3 \\;+\\; 4 \\;+\\; 5 \\;+\\; 2\\cdot 2 \\;=\\; 16.\n$$\n用 $w^{(2)}=16$ 重新评估：$\\left\\lceil \\frac{16}{40} \\right\\rceil=1$，$\\left\\lceil \\frac{16}{25} \\right\\rceil=1$，$\\left\\lceil \\frac{16}{10} \\right\\rceil=2$，因此 $w^{(3)}=16$ 是一个不动点。所以 $R_3^{\\mathrm{LO}}=16 \\leq D_3=20$。由于 $\\tau_3$ 是低临界度的，不需要进行高模式检查。因此 $\\tau_3$ 作为最低优先级是可行的。\n\n- 候选任务 $\\tau_1$（高临界度）作为最低优先级：\n低模式，其中 $\\mathrm{hp}(1)=\\{\\tau_2,\\tau_3,\\tau_4\\}$：\n开始 $w^{(0)}=4$，\n$$\nw^{(1)} \\;=\\; 4 \\;+\\; \\left\\lceil \\frac{4}{25} \\right\\rceil 5 \\;+\\; \\left\\lceil \\frac{4}{20} \\right\\rceil 3 \\;+\\; \\left\\lceil \\frac{4}{10} \\right\\rceil 2 \\;=\\; 4 \\;+\\; 5 \\;+\\; 3 \\;+\\; 2 \\;=\\; 14.\n$$\n用 $w^{(1)}=14$：$\\left\\lceil \\frac{14}{25} \\right\\rceil=1$，$\\left\\lceil \\frac{14}{20} \\right\\rceil=1$，$\\left\\lceil \\frac{14}{10} \\right\\rceil=2$，所以\n$$\nw^{(2)} \\;=\\; 4 \\;+\\; 5 \\;+\\; 3 \\;+\\; 2\\cdot 2 \\;=\\; 16.\n$$\n用 $w^{(2)}=16$，向上取整的值不变，因此 $R_1^{\\mathrm{LO}}=16 \\leq D_1=40$。\n\n$\\tau_1$ 的高模式 (AMC-rtb)，其中 $\\mathrm{hp}_H(1)=\\{\\tau_2\\}$ 且 $\\mathrm{hp}_L(1)=\\{\\tau_3,\\tau_4\\}$。首先使用 $R_1^{\\mathrm{LO}}=16$ 计算低模式带入项：\n$$\n\\left\\lceil \\frac{R_1^{\\mathrm{LO}}}{T_3} \\right\\rceil C_3^{\\mathrm{LO}} \\;=\\; \\left\\lceil \\frac{16}{20} \\right\\rceil \\cdot 3 \\;=\\; 1\\cdot 3 \\;=\\; 3, \\qquad\n\\left\\lceil \\frac{R_1^{\\mathrm{LO}}}{T_4} \\right\\rceil C_4^{\\mathrm{LO}} \\;=\\; \\left\\lceil \\frac{16}{10} \\right\\rceil \\cdot 2 \\;=\\; 2\\cdot 2 \\;=\\; 4.\n$$\n因此，总的低临界度带入干扰是 $3+4=7$。现在迭代 $R_1^{\\mathrm{HI}}$：\n开始 $w^{(0)} = C_1^{\\mathrm{HI}} + 7 = 8 + 7 = 15$，\n$$\nw^{(1)} \\;=\\; 8 \\;+\\; \\left\\lceil \\frac{w^{(0)}}{T_2} \\right\\rceil 9 \\;+\\; 7 \\;=\\; 8 \\;+\\; \\left\\lceil \\frac{15}{25} \\right\\rceil \\cdot 9 \\;+\\; 7 \\;=\\; 8 \\;+\\; 1\\cdot 9 \\;+\\; 7 \\;=\\; 24.\n$$\n用 $w^{(1)}=24$，$\\left\\lceil \\frac{24}{25} \\right\\rceil=1$，因此 $w^{(2)}=24$ 是一个不动点。所以 $R_1^{\\mathrm{HI}}=24 \\leq D_1=40$。因此 $\\tau_1$ 作为最低优先级是可行的。\n\n- 候选任务 $\\tau_2$（高临界度）作为最低优先级：\n低模式，其中 $\\mathrm{hp}(2)=\\{\\tau_1,\\tau_3,\\tau_4\\}$：\n开始 $w^{(0)}=5$，\n$$\nw^{(1)} \\;=\\; 5 \\;+\\; \\left\\lceil \\frac{5}{40} \\right\\rceil 4 \\;+\\; \\left\\lceil \\frac{5}{20} \\right\\rceil 3 \\;+\\; \\left\\lceil \\frac{5}{10} \\right\\rceil 2 \\;=\\; 5 \\;+\\; 4 \\;+\\; 3 \\;+\\; 2 \\;=\\; 14.\n$$\n用 $w^{(1)}=14$：$\\left\\lceil \\frac{14}{40} \\right\\rceil=1$，$\\left\\lceil \\frac{14}{20} \\right\\rceil=1$，$\\left\\lceil \\frac{14}{10} \\right\\rceil=2$，所以\n$$\nw^{(2)} \\;=\\; 5 \\;+\\; 4 \\;+\\; 3 \\;+\\; 2\\cdot 2 \\;=\\; 16,\n$$\n这是一个不动点，且 $R_2^{\\mathrm{LO}}=16 \\leq D_2=25$。\n\n$\\tau_2$ 的高模式 (AMC-rtb)，其中 $\\mathrm{hp}_H(2)=\\{\\tau_1\\}$ 且 $\\mathrm{hp}_L(2)=\\{\\tau_3,\\tau_4\\}$：\n使用 $R_2^{\\mathrm{LO}}=16$ 计算低模式带入干扰：\n$$\n\\left\\lceil \\frac{16}{20} \\right\\rceil \\cdot 3 \\;=\\; 3, \\qquad \\left\\lceil \\frac{16}{10} \\right\\rceil \\cdot 2 \\;=\\; 4,\n$$\n和为 7。现在迭代 $R_2^{\\mathrm{HI}}$：\n$$R_2^{\\mathrm{HI}} = C_2^{\\mathrm{HI}} + \\left\\lceil \\frac{R_2^{\\mathrm{HI}}}{T_1} \\right\\rceil C_1^{\\mathrm{HI}} + (\\text{带入干扰}) = 9 + \\left\\lceil \\frac{R_2^{\\mathrm{HI}}}{40} \\right\\rceil 8 + 7 = 16 + \\left\\lceil \\frac{R_2^{\\mathrm{HI}}}{40} \\right\\rceil 8.$$\n开始 $w^{(0)}=16$,\n$$w^{(1)} = 16 + \\left\\lceil \\frac{16}{40} \\right\\rceil 8 = 16 + 1 \\cdot 8 = 24.$$\n用 $w^{(1)}=24$,\n$$w^{(2)} = 16 + \\left\\lceil \\frac{24}{40} \\right\\rceil 8 = 16 + 1 \\cdot 8 = 24.$$\n这是一个不动点，且 $R_2^{\\mathrm{HI}}=24 \\leq D_2=25$。因此 $\\tau_2$ 作为最低优先级是可行的。\n\n步骤 1 结论：可行的最低优先级候选任务是 $\\tau_1$、$\\tau_2$ 和 $\\tau_3$；$\\tau_4$ 不可行。根据平局决胜规则（最小索引），选择 $\\tau_1$ 作为所有四个任务中的最低优先级。\n\n步骤 2：移除 $\\tau_1$，并在剩余任务 $\\{\\tau_2,\\tau_3,\\tau_4\\}$ 中确定最低优先级。\n\n- 候选任务 $\\tau_4$（低临界度）作为最低优先级，其中 $\\mathrm{hp}(4)=\\{\\tau_2,\\tau_3\\}$：\n低模式：\n开始 $w^{(0)}=2$，\n$$\nw^{(1)} \\;=\\; 2 \\;+\\; \\left\\lceil \\frac{2}{25} \\right\\rceil 5 \\;+\\; \\left\\lceil \\frac{2}{20} \\right\\rceil 3 \\;=\\; 2 \\;+\\; 5 \\;+\\; 3 \\;=\\; 10.\n$$\n用 $w^{(1)}=10$：$\\left\\lceil \\frac{10}{25} \\right\\rceil=1$，$\\left\\lceil \\frac{10}{20} \\right\\rceil=1$，所以 $w^{(2)}=10$，因此 $R_4^{\\mathrm{LO}}=10 \\leq D_4=10$。可行。\n\n- 候选任务 $\\tau_3$（低临界度）作为最低优先级，其中 $\\mathrm{hp}(3)=\\{\\tau_2,\\tau_4\\}$：\n低模式：\n开始 $w^{(0)}=3$，\n$$\nw^{(1)} \\;=\\; 3 \\;+\\; \\left\\lceil \\frac{3}{25} \\right\\rceil 5 \\;+\\; \\left\\lceil \\frac{3}{10} \\right\\rceil 2 \\;=\\; 3 \\;+\\; 5 \\;+\\; 2 \\;=\\; 10,\n$$\n这是一个不动点，且 $R_3^{\\mathrm{LO}}=10 \\leq D_3=20$。可行。\n\n- 候选任务 $\\tau_2$（高临界度）作为最低优先级，其中 $\\mathrm{hp}(2)=\\{\\tau_3,\\tau_4\\}$：\n低模式：\n开始 $w^{(0)}=5$，\n$$\nw^{(1)} \\;=\\; 5 \\;+\\; \\left\\lceil \\frac{5}{20} \\right\\rceil 3 \\;+\\; \\left\\lceil \\frac{5}{10} \\right\\rceil 2 \\;=\\; 5 \\;+\\; 3 \\;+\\; 2 \\;=\\; 10,\n$$\n因此 $R_2^{\\mathrm{LO}}=10 \\leq 25$。高模式 (AMC-rtb)，其中 $\\mathrm{hp}_H(2)=\\{\\}$ 且 $\\mathrm{hp}_L(2)=\\{\\tau_3,\\tau_4\\}$：\n使用 $R_2^{\\mathrm{LO}}=10$ 计算低模式带入干扰：\n$$\n\\left\\lceil \\frac{10}{20} \\right\\rceil \\cdot 3 \\;=\\; 3, \\qquad \\left\\lceil \\frac{10}{10} \\right\\rceil \\cdot 2 \\;=\\; 2,\n$$\n和为 5。因此\n$$\nR_2^{\\mathrm{HI}} \\;=\\; C_2^{\\mathrm{HI}} \\;+\\; 5 \\;=\\; 9 \\;+\\; 5 \\;=\\; 14 \\;\\leq\\; D_2=25.\n$$\n可行。\n\n步骤 2 结论：所有三个候选任务都是可行的；根据平局决胜规则，选择 $\\tau_2$ 作为次低优先级。现在两个最低的优先级是，从低到高：$\\tau_1$（最低），$\\tau_2$。\n\n步骤 3：移除 $\\tau_2$；剩余任务为 $\\{\\tau_3,\\tau_4\\}$。\n\n- 候选任务 $\\tau_4$（低临界度）作为最低优先级，其中 $\\mathrm{hp}(4)=\\{\\tau_3\\}$：\n低模式：\n开始 $w^{(0)}=2$，\n$$\nw^{(1)} \\;=\\; 2 \\;+\\; \\left\\lceil \\frac{2}{20} \\right\\rceil 3 \\;=\\; 2 \\;+\\; 3 \\;=\\; 5,\n$$\n用 $w^{(1)}=5$，$\\left\\lceil \\frac{5}{20} \\right\\rceil=1$，所以 $R_4^{\\mathrm{LO}}=5 \\leq 10$。可行。\n\n- 候选任务 $\\tau_3$（低临界度）作为最低优先级，其中 $\\mathrm{hp}(3)=\\{\\tau_4\\}$：\n低模式：\n开始 $w^{(0)}=3$，\n$$\nw^{(1)} \\;=\\; 3 \\;+\\; \\left\\lceil \\frac{3}{10} \\right\\rceil 2 \\;=\\; 3 \\;+\\; 2 \\;=\\; 5,\n$$\n用 $w^{(1)}=5$，$\\left\\lceil \\frac{5}{10} \\right\\rceil=1$，所以 $R_3^{\\mathrm{LO}}=5 \\leq 20$。可行。\n\n步骤 3 结论：两个候选任务都是可行的；根据平局决胜规则，选择 $\\tau_3$ 作为次低优先级。剩下未分配的任务是 $\\tau_4$，因此它获得最高优先级。\n\n最终从高到低的固定优先级顺序是 $(\\tau_4, \\tau_3, \\tau_2, \\tau_1)$。\n\n根据编码规则，当 $(i_1,i_2,i_3,i_4)=(4,3,2,1)$ 时，我们得到\n$$\nE \\;=\\; 1000\\cdot 4 \\;+\\; 100\\cdot 3 \\;+\\; 10\\cdot 2 \\;+\\; 1 \\;=\\; 4321.\n$$\n因此，所要求的编码后的优先级分配整数是 $4321$。",
            "answer": "$$\\boxed{4321}$$"
        }
    ]
}