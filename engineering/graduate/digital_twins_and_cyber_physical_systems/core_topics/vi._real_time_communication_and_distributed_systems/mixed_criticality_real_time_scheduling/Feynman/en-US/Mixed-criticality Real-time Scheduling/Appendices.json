{
    "hands_on_practices": [
        {
            "introduction": "Our first practice focuses on the cornerstone of fixed-priority mixed-criticality systems: schedulability analysis under the Adaptive Mixed-Criticality (AMC) framework. This exercise requires a rigorous application of response-time analysis to verify that all tasks meet their deadlines in low-criticality mode, and that high-criticality tasks remain safe after a mode switch . Mastering this calculation is fundamental to guaranteeing the predictable behavior of safety-critical systems.",
            "id": "4230844",
            "problem": "In a cyber-physical system with a Digital Twin for safety monitoring, consider a mixed-criticality workload scheduled by fixed-priority preemptive scheduling under Adaptive Mixed-Criticality (AMC) semantics. The system implements implicit deadlines, so for each task $i$, the relative deadline $D_i$ equals its period $T_i$. Priorities are assigned by rate-monotonic order (shorter period implies higher priority); when two tasks share the same period, the higher criticality task is given higher priority than the lower criticality task. Under AMC semantics, the system operates in a low-criticality mode (LO mode) while all tasks execute with their low-criticality worst-case execution times, and if any high-criticality (HI) task overruns its low-criticality budget, the system transitions to high-criticality mode (HI mode), during which low-criticality tasks are dropped (do not execute further) and HI tasks execute with their high-criticality worst-case execution times. The worst-case response time of a task is defined as the maximum time from release to completion under preemption by higher-priority tasks, accounting for all jobs of those higher-priority tasks that can be released within the response-time window. In HI mode for HI tasks, low-criticality tasks can interfere only due to jobs released prior to the mode change; interference from low-criticality tasks does not persist beyond the mode switch.\n\nThe task set is:\n- High-criticality tasks: $\\tau_{H1}$ with $(C^{\\mathrm{LO}}, C^{\\mathrm{HI}}, T) = (2, 4, 10)$, and $\\tau_{H2}$ with $(C^{\\mathrm{LO}}, C^{\\mathrm{HI}}, T) = (1, 3, 20)$.\n- Low-criticality tasks: $\\tau_{L1}$ with $(C^{\\mathrm{LO}}, T) = (1, 10)$, and $\\tau_{L2}$ with $(C^{\\mathrm{LO}}, T) = (2, 20)$.\n\nAssume time is measured in milliseconds. Using the above semantics and starting from the fundamental definitions of worst-case response time under fixed-priority preemptive scheduling and the AMC distinction between LO mode and HI mode, determine whether the task set is schedulable under AMC-FP (Adaptive Mixed-Criticality Fixed Priority) and compute, for each HI task, the maximum response time across both modes. Report the two maximum response times for $\\tau_{H1}$ and $\\tau_{H2}$ (in milliseconds), and also report a schedulability indicator $s$ defined by $s=1$ if the task set is schedulable under AMC-FP and $s=0$ otherwise. Present the final outputs as a single row vector. No rounding is required; provide exact values.",
            "solution": "The problem requires an analysis of a mixed-criticality task set to determine its schedulability under the Adaptive Mixed-Criticality Fixed Priority (AMC-FP) scheduling policy. We must also compute the maximum response times for the high-criticality tasks across all operational modes.\n\nFirst, we establish the priority assignment for the tasks. The policy is rate-monotonic (RM), where a shorter period implies a higher priority. For tasks with equal periods, the one with higher criticality is assigned higher priority. The task set is:\n- $\\tau_{H1}$: $(C_{H1}^{\\mathrm{LO}}, C_{H1}^{\\mathrm{HI}}, T_{H1}) = (2, 4, 10)$\n- $\\tau_{H2}$: $(C_{H2}^{\\mathrm{LO}}, C_{H2}^{\\mathrm{HI}}, T_{H2}) = (1, 3, 20)$\n- $\\tau_{L1}$: $(C_{L1}^{\\mathrm{LO}}, T_{L1}) = (1, 10)$\n- $\\tau_{L2}$: $(C_{L2}^{\\mathrm{LO}}, T_{L2}) = (2, 20)$\n\nTasks $\\tau_{H1}$ and $\\tau_{L1}$ have the shortest period, $T=10$. Since $\\tau_{H1}$ is a high-criticality (HI) task and $\\tau_{L1}$ is a low-criticality (LO) task, $\\tau_{H1}$ has higher priority than $\\tau_{L1}$.\nTasks $\\tau_{H2}$ and $\\tau_{L2}$ have the next period, $T=20$. $\\tau_{H2}$ is a HI task and $\\tau_{L2}$ is a LO task, so $\\tau_{H2}$ has higher priority than $\\tau_{L2}$.\nComparing the periods, tasks with $T=10$ have higher priority than tasks with $T=20$.\nTherefore, the complete priority ordering, from highest to lowest, is: $\\tau_{H1} > \\tau_{L1} > \\tau_{H2} > \\tau_{L2}$.\n\nA task set is schedulable under AMC-FP if and only if two conditions are met:\n1. All tasks are schedulable in LO-criticality mode. This means the worst-case response time in LO mode, $R_i^{\\mathrm{LO}}$, for each task $\\tau_i$ must not exceed its deadline, $D_i$. Since deadlines are implicit, $D_i=T_i$. So, $\\forall i, R_i^{\\mathrm{LO}} \\le T_i$.\n2. All high-criticality tasks are schedulable in HI-criticality mode. This means the worst-case response time in HI mode, $R_i^{\\mathrm{HI}}$, for each HI task $\\tau_i$ must not exceed its deadline. So, for all HI tasks $\\tau_i$, $R_i^{\\mathrm{HI}} \\le T_i$.\n\nWe use response time analysis (RTA) to compute the worst-case response times. Let $hp(i)$ denote the set of tasks with priority higher than task $\\tau_i$.\n\n**LO-Mode Schedulability Analysis**\nIn LO mode, all tasks execute with their low-criticality worst-case execution times ($C_i^{\\mathrm{LO}}$). The worst-case response time of a task $\\tau_i$ is given by the recurrence relation:\n$$R_i^{(k+1)} = C_i^{\\mathrm{LO}} + \\sum_{j \\in hp(i)} \\left\\lceil \\frac{R_i^{(k)}}{T_j} \\right\\rceil C_j^{\\mathrm{LO}}$$\nThe iteration starts with $R_i^{(0)} = C_i^{\\mathrm{LO}}$ and continues until $R_i^{(k+1)} = R_i^{(k)}$.\n\n- **Task $\\tau_{H1}$:** $hp(H1) = \\emptyset$.\n$R_{H1}^{\\mathrm{LO}} = C_{H1}^{\\mathrm{LO}} = 2$.\nCheck: $R_{H1}^{\\mathrm{LO}} = 2 \\le T_{H1} = 10$. Schedulable.\n\n- **Task $\\tau_{L1}$:** $hp(L1) = \\{\\tau_{H1}\\}$.\n$R_{L1}^{\\mathrm{LO}} = C_{L1}^{\\mathrm{LO}} + \\left\\lceil \\frac{R_{L1}^{\\mathrm{LO}}}{T_{H1}} \\right\\rceil C_{H1}^{\\mathrm{LO}} = 1 + \\left\\lceil \\frac{R_{L1}^{\\mathrm{LO}}}{10} \\right\\rceil 2$.\n$R^{(0)} = 1$.\n$R^{(1)} = 1 + \\left\\lceil \\frac{1}{10} \\right\\rceil 2 = 1 + 1 \\times 2 = 3$.\n$R^{(2)} = 1 + \\left\\lceil \\frac{3}{10} \\right\\rceil 2 = 1 + 1 \\times 2 = 3$.\n$R_{L1}^{\\mathrm{LO}} = 3$.\nCheck: $R_{L1}^{\\mathrm{LO}} = 3 \\le T_{L1} = 10$. Schedulable.\n\n- **Task $\\tau_{H2}$:** $hp(H2) = \\{\\tau_{H1}, \\tau_{L1}\\}$.\n$R_{H2}^{\\mathrm{LO}} = C_{H2}^{\\mathrm{LO}} + \\left\\lceil \\frac{R_{H2}^{\\mathrm{LO}}}{T_{H1}} \\right\\rceil C_{H1}^{\\mathrm{LO}} + \\left\\lceil \\frac{R_{H2}^{\\mathrm{LO}}}{T_{L1}} \\right\\rceil C_{L1}^{\\mathrm{LO}} = 1 + \\left\\lceil \\frac{R_{H2}^{\\mathrm{LO}}}{10} \\right\\rceil 2 + \\left\\lceil \\frac{R_{H2}^{\\mathrm{LO}}}{10} \\right\\rceil 1 = 1 + \\left\\lceil \\frac{R_{H2}^{\\mathrm{LO}}}{10} \\right\\rceil 3$.\n$R^{(0)} = 1$.\n$R^{(1)} = 1 + \\left\\lceil \\frac{1}{10} \\right\\rceil 3 = 1 + 1 \\times 3 = 4$.\n$R^{(2)} = 1 + \\left\\lceil \\frac{4}{10} \\right\\rceil 3 = 1 + 1 \\times 3 = 4$.\n$R_{H2}^{\\mathrm{LO}} = 4$.\nCheck: $R_{H2}^{\\mathrm{LO}} = 4 \\le T_{H2} = 20$. Schedulable.\n\n- **Task $\\tau_{L2}$:** $hp(L2) = \\{\\tau_{H1}, \\tau_{L1}, \\tau_{H2}\\}$.\n$R_{L2}^{\\mathrm{LO}} = C_{L2}^{\\mathrm{LO}} + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{T_{H1}} \\right\\rceil C_{H1}^{\\mathrm{LO}} + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{T_{L1}} \\right\\rceil C_{L1}^{\\mathrm{LO}} + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{T_{H2}} \\right\\rceil C_{H2}^{\\mathrm{LO}} = 2 + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{10} \\right\\rceil 2 + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{10} \\right\\rceil 1 + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{20} \\right\\rceil 1 = 2 + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{10} \\right\\rceil 3 + \\left\\lceil \\frac{R_{L2}^{\\mathrm{LO}}}{20} \\right\\rceil 1$.\n$R^{(0)} = 2$.\n$R^{(1)} = 2 + \\left\\lceil \\frac{2}{10} \\right\\rceil 3 + \\left\\lceil \\frac{2}{20} \\right\\rceil 1 = 2 + 1 \\times 3 + 1 \\times 1 = 6$.\n$R^{(2)} = 2 + \\left\\lceil \\frac{6}{10} \\right\\rceil 3 + \\left\\lceil \\frac{6}{20} \\right\\rceil 1 = 2 + 1 \\times 3 + 1 \\times 1 = 6$.\n$R_{L2}^{\\mathrm{LO}} = 6$.\nCheck: $R_{L2}^{\\mathrm{LO}} = 6 \\le T_{L2} = 20$. Schedulable.\n\nAll tasks are schedulable in LO mode.\n\n**HI-Mode Schedulability Analysis**\nIn HI mode, LO tasks are dropped, and HI tasks execute with their high-criticality WCETs ($C_i^{\\mathrm{HI}}$). The worst-case response time for a HI task $\\tau_i$ accounts for interference from higher-priority HI tasks running at their $C_j^{\\mathrm{HI}}$ and interference from higher-priority LO tasks that may have been released before the mode switch. The standard RTA equation is:\n$$R_i^{\\mathrm{HI}} = C_i^{\\mathrm{HI}} + \\sum_{j \\in hp(i) \\cap \\text{HI}} \\left\\lceil \\frac{R_i^{\\mathrm{HI}}}{T_j} \\right\\rceil C_j^{\\mathrm{HI}} + \\sum_{k \\in hp(i) \\cap \\text{LO}} \\left\\lceil \\frac{R_i^{\\mathrm{LO}}}{T_k} \\right\\rceil C_k^{\\mathrm{LO}}$$\nThe iteration is solved for $R_i^{\\mathrm{HI}}$.\n\n- **Task $\\tau_{H1}$:** $hp(H1) = \\emptyset$, so there is no interference.\n$R_{H1}^{\\mathrm{HI}} = C_{H1}^{\\mathrm{HI}} = 4$.\nCheck: $R_{H1}^{\\mathrm{HI}} = 4 \\le T_{H1} = 10$. Schedulable.\n\n- **Task $\\tau_{H2}$:** $hp(H2) = \\{\\tau_{H1}, \\tau_{L1}\\}$. The set of higher-priority HI tasks is $hp(H2) \\cap \\text{HI} = \\{\\tau_{H1}\\}$, and the set of higher-priority LO tasks is $hp(H2) \\cap \\text{LO} = \\{\\tau_{L1}\\}$.\nWe use the previously computed value $R_{H2}^{\\mathrm{LO}} = 4$.\n$R_{H2}^{\\mathrm{HI}} = C_{H2}^{\\mathrm{HI}} + \\left\\lceil \\frac{R_{H2}^{\\mathrm{HI}}}{T_{H1}} \\right\\rceil C_{H1}^{\\mathrm{HI}} + \\left\\lceil \\frac{R_{H2}^{\\mathrm{LO}}}{T_{L1}} \\right\\rceil C_{L1}^{\\mathrm{LO}} = 3 + \\left\\lceil \\frac{R_{H2}^{\\mathrm{HI}}}{10} \\right\\rceil 4 + \\left\\lceil \\frac{4}{10} \\right\\rceil 1$.\nThe term for LO-task interference is $\\left\\lceil \\frac{4}{10} \\right\\rceil 1 = 1 \\times 1 = 1$.\nThe equation simplifies to $R_{H2}^{\\mathrm{HI}} = 3 + 1 + \\left\\lceil \\frac{R_{H2}^{\\mathrm{HI}}}{10} \\right\\rceil 4 = 4 + \\left\\lceil \\frac{R_{H2}^{\\mathrm{HI}}}{10} \\right\\rceil 4$.\nWe solve by iteration, starting with an initial guess $R^{(0)} = C_{H2}^{\\mathrm{HI}} + (\\text{interference from } \\tau_{L1}) = 3+1 = 4$.\n$R^{(0)} = 4$.\n$R^{(1)} = 4 + \\left\\lceil \\frac{4}{10} \\right\\rceil 4 = 4 + 1 \\times 4 = 8$.\n$R^{(2)} = 4 + \\left\\lceil \\frac{8}{10} \\right\\rceil 4 = 4 + 1 \\times 4 = 8$.\n$R_{H2}^{\\mathrm{HI}} = 8$.\nCheck: $R_{H2}^{\\mathrm{HI}} = 8 \\le T_{H2} = 20$. Schedulable.\n\nBoth high-criticality tasks are schedulable in HI mode.\n\n**Conclusion on Schedulability and Final Values**\nSince all tasks are schedulable in LO mode and all HI tasks are schedulable in HI mode, the entire task set is schedulable under AMC-FP. Thus, the schedulability indicator is $s=1$.\n\nThe maximum response time for each HI task is the maximum of its response times in the two modes.\n- For $\\tau_{H1}$: $R_{H1}^{\\max} = \\max(R_{H1}^{\\mathrm{LO}}, R_{H1}^{\\mathrm{HI}}) = \\max(2, 4) = 4$.\n- For $\\tau_{H2}$: $R_{H2}^{\\max} = \\max(R_{H2}^{\\mathrm{LO}}, R_{H2}^{\\mathrm{HI}}) = \\max(4, 8) = 8$.\n\nThe final results to be reported are the maximum response times for $\\tau_{H1}$ and $\\tau_{H2}$, and the schedulability indicator $s$. The values are $4$ ms, $8$ ms, and $1$, respectively.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n4  8  1\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "We now shift our focus to dynamic-priority scheduling, exploring the widely-used Earliest Deadline First with Virtual Deadlines (EDF-VD) policy. The core of this method lies in choosing a scaling factor, $x$, to shorten the deadlines of high-criticality tasks, thereby giving them implicit priority in low-criticality mode . This practice will guide you through deriving the mathematical conditions that govern $x$ and finding its optimal value, illustrating the critical design trade-off between system performance and safety assurance.",
            "id": "4230803",
            "problem": "A single-core cyber-physical system integrates a Digital Twin (DT) state-estimation loop and two non-safety-critical analytics tasks. The platform uses Earliest Deadline First with Virtual Deadlines (EDF-VD), where high-criticality jobs are assigned virtual deadlines scaled by a factor $x \\in (0,1]$ in low-criticality mode. The DT loop is high-criticality, and the analytics tasks are low-criticality. The task parameters are as follows: one high-criticality task with $(C^{\\mathrm{LO}}, C^{\\mathrm{HI}}, T) = (3, 6, 15)$ and two low-criticality tasks with $(C^{\\mathrm{LO}}, T) = (2, 15)$ and $(1, 10)$. Assume implicit deadlines ($D=T$) for all tasks. Upon a mode switch to high-criticality mode, all low-criticality tasks are discarded.\n\nStarting from core definitions and laws of real-time scheduling, use the following as the fundamental base:\n- The processor supply in any interval in a given mode cannot be exceeded by cumulative demand in that mode under any valid scheduling policy.\n- For implicit-deadline periodic tasks under Earliest Deadline First (EDF), it is sufficient to ensure that the sum of utilizations does not exceed $1$ for schedulability on a single processor.\n- Under EDF-VD, assigning virtual deadlines scaled by $x$ to high-criticality tasks in low-criticality mode accelerates their relative demand by a factor of $1/x$.\n\nUsing only these base principles, derive the necessary inequality that constrains $x$ in low-criticality mode and the schedulability condition in high-criticality mode under the above assumption about discarding low-criticality tasks. Then, compute the smallest $x \\in (0,1]$ that satisfies both the low-criticality and high-criticality mode conditions for the given task set. Verify both tests numerically by substituting task parameters and the chosen $x$. Express your final answer as an exact value (no rounding).",
            "solution": "The problem statement is subjected to validation prior to any attempt at a solution.\n\n### Step 1: Extract Givens\n- **System**: A single-core cyber-physical system.\n- **Scheduler**: Earliest Deadline First with Virtual Deadlines (EDF-VD).\n- **Virtual Deadline Scaling**: High-criticality jobs are assigned virtual deadlines scaled by a factor $x \\in (0,1]$ in low-criticality mode.\n- **Task Set**:\n  - One high-criticality task, $\\tau_H$, with parameters $(C^{\\mathrm{LO}}, C^{\\mathrm{HI}}, T) = (3, 6, 15)$.\n  - Two low-criticality tasks, $\\tau_{L1}$ and $\\tau_{L2}$, with parameters $(C^{\\mathrm{LO}}, T) = (2, 15)$ and $(1, 10)$ respectively.\n- **Deadlines**: All tasks have implicit deadlines, i.e., relative deadline $D$ equals period $T$.\n- **Mode Switch Behavior**: Upon a mode switch to high-criticality (HI) mode, all low-criticality (LO) tasks are discarded.\n- **Base Principles**:\n  1. The processor supply in any interval in a given mode cannot be exceeded by cumulative demand in that mode under any valid scheduling policy.\n  2. For implicit-deadline periodic tasks under Earliest Deadline First (EDF), it is sufficient to ensure that the sum of utilizations does not exceed $1$ for schedulability on a single processor.\n  3. Under EDF-VD, assigning virtual deadlines scaled by $x$ to high-criticality tasks in low-criticality mode accelerates their relative demand by a factor of $1/x$.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded within the established theory of mixed-criticality real-time scheduling. The concepts of EDF-VD, task utilization, and mode switching are standard and well-defined. The problem is well-posed, providing all necessary parameters and a clear objective: to derive schedulability conditions from specified principles and compute the minimum valid scaling factor $x$. The language is objective and formal. The givens are self-contained and not contradictory; for all tasks, the worst-case execution time is less than or equal to the period ($C \\le T$). The problem does not violate any of the invalidity criteria.\n\n### Step 3: Verdict and Action\nThe problem is **valid**. A solution will be derived.\n\n### Derivation of Schedulability Conditions\n\nWe begin by formalizing the task parameters and utilizations. Let $\\mathcal{T}_H$ denote the set of high-criticality tasks and $\\mathcal{T}_L$ denote the set of low-criticality tasks.\nFor the high-criticality task $\\tau_H \\in \\mathcal{T}_H$:\n- Low-criticality execution time $C_H^{\\mathrm{LO}} = 3$.\n- High-criticality execution time $C_H^{\\mathrm{HI}} = 6$.\n- Period $T_H = 15$.\n- Low-criticality utilization $U_H^{\\mathrm{LO}} = \\frac{C_H^{\\mathrm{LO}}}{T_H} = \\frac{3}{15} = \\frac{1}{5}$.\n- High-criticality utilization $U_H^{\\mathrm{HI}} = \\frac{C_H^{\\mathrm{HI}}}{T_H} = \\frac{6}{15} = \\frac{2}{5}$.\n\nFor the low-criticality tasks $\\tau_{L1}, \\tau_{L2} \\in \\mathcal{T}_L$:\n- Task $\\tau_{L1}$: $C_{L1}^{\\mathrm{LO}} = 2$, $T_{L1} = 15$. Utilization $U_{L1}^{\\mathrm{LO}} = \\frac{2}{15}$.\n- Task $\\tau_{L2}$: $C_{L2}^{\\mathrm{LO}} = 1$, $T_{L2} = 10$. Utilization $U_{L2}^{\\mathrm{LO}} = \\frac{1}{10}$.\n\nThe total utilization of low-criticality tasks is:\n$$ \\sum_{\\tau_i \\in \\mathcal{T}_L} U_i^{\\mathrm{LO}} = U_{L1}^{\\mathrm{LO}} + U_{L2}^{\\mathrm{LO}} = \\frac{2}{15} + \\frac{1}{10} = \\frac{4}{30} + \\frac{3}{30} = \\frac{7}{30} $$\n\nThe derivation of the constraints on $x$ proceeds by analyzing the two system modes as specified by the problem's base principles.\n\n**1. Low-Criticality (LO) Mode Schedulability Condition**\n\nIn LO-mode, all tasks are active. The high-criticality tasks are presumed to execute for at most their $C^{\\mathrm{LO}}$ times. According to the problem definition, the EDF-VD scheduler assigns virtual deadlines to high-criticality tasks. For a task $\\tau_j \\in \\mathcal{T}_H$ with implicit deadline $T_j$, its virtual deadline is $D_j' = x T_j$.\n\nBase Principle 3 states that this accelerates the demand of the high-criticality tasks by a factor of $1/x$. For the purpose of the EDF schedulability test, this means the effective utilization of a high-criticality task $\\tau_j$ is its LO-mode execution time divided by its virtual deadline:\n$$ U_{j, \\text{eff}}^{\\mathrm{LO}} = \\frac{C_j^{\\mathrm{LO}}}{x T_j} = \\frac{1}{x} U_j^{\\mathrm{LO}} $$\nThe low-criticality tasks are scheduled with their original deadlines, so their utilizations are unchanged.\n\nBase Principle 2 provides the sufficient condition for EDF schedulability: the sum of utilizations (effective, in this case) must not exceed $1$.\n$$ \\sum_{\\tau_i \\in \\mathcal{T}_L} U_i^{\\mathrm{LO}} + \\sum_{\\tau_j \\in \\mathcal{T}_H} U_{j, \\text{eff}}^{\\mathrm{LO}} \\le 1 $$\nSubstituting the expression for effective utilization:\n$$ \\sum_{\\tau_i \\in \\mathcal{T}_L} U_i^{\\mathrm{LO}} + \\frac{1}{x} \\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{LO}} \\le 1 $$\nThis is the necessary inequality that constrains $x$ in LO-mode.\n\n**2. High-Criticality (HI) Mode Schedulability Condition**\n\nUpon a mode switch, all low-criticality tasks are discarded. The system is reconfigured to contain only the high-criticality tasks from the set $\\mathcal{T}_H$. In this mode, these tasks may execute for up to their $C^{\\mathrm{HI}}$ times, and their deadlines revert to their original implicit deadlines $T_j$.\n\nThe scheduling of this new system configuration must be guaranteed. Applying Base Principle 2 to the set of tasks active in HI-mode ($\\mathcal{T}_H$), the sufficient condition for schedulability under EDF is:\n$$ \\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{HI}} \\le 1 $$\nThis is the schedulability condition for HI-mode. It is a fundamental check on the task set's parameters. If this condition is not met, the system is fundamentally unschedulable in HI-mode, irrespective of the scaling factor $x$.\n\n### Computing the Smallest Valid $x$\n\nWe must find the smallest $x \\in (0,1]$ that satisfies both derived conditions.\n\nFirst, we verify the HI-mode condition with the given task parameters:\n$$ \\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{HI}} = U_H^{\\mathrm{HI}} = \\frac{2}{5} $$\nSince $\\frac{2}{5} \\le 1$, the HI-mode schedulability condition is satisfied.\n\nNext, we solve the LO-mode inequality for $x$:\n$$ \\frac{1}{x} \\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{LO}} \\le 1 - \\sum_{\\tau_i \\in \\mathcal{T}_L} U_i^{\\mathrm{LO}} $$\nGiven that $\\sum U_j^{\\mathrm{LO}} > 0$ and we require $x>0$, we can rearrange the inequality to find a lower bound for $x$:\n$$ x \\ge \\frac{\\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{LO}}}{1 - \\sum_{\\tau_i \\in \\mathcal{T}_L} U_i^{\\mathrm{LO}}} $$\nTo find the smallest valid $x$, we select the value that makes this inequality an equality, as this represents the minimum required scaling to ensure LO-mode schedulability.\n$$ x_{min} = \\frac{\\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{LO}}}{1 - \\sum_{\\tau_i \\in \\mathcal{T}_L} U_i^{\\mathrm{LO}}} $$\nWe must ensure that $x_{min} \\in (0,1]$. The condition $x_{min} \\le 1$ is equivalent to $\\sum U_j^{\\mathrm{LO}} \\le 1 - \\sum U_i^{\\mathrm{LO}}$, or $\\sum U_j^{\\mathrm{LO}} + \\sum U_i^{\\mathrm{LO}} \\le 1$. This means the total LO-mode utilization of the entire task set must not exceed $1$, which is a basic requirement for any schedulability. For the given tasks, this sum is $\\frac{1}{5} + \\frac{7}{30} = \\frac{6}{30} + \\frac{7}{30} = \\frac{13}{30} \\le 1$, so the condition holds.\n\nNow, we substitute the numerical values:\n$$ x_{min} = \\frac{\\frac{1}{5}}{1 - \\frac{7}{30}} = \\frac{\\frac{1}{5}}{\\frac{30-7}{30}} = \\frac{\\frac{1}{5}}{\\frac{23}{30}} $$\n$$ x_{min} = \\frac{1}{5} \\times \\frac{30}{23} = \\frac{6}{23} $$\nThe smallest value for $x$ is $\\frac{6}{23}$. This value is in the required range $(0,1]$.\n\n### Numerical Verification\nWe verify the derived conditions with $x = \\frac{6}{23}$.\n\n1.  **HI-mode test**:\n    $$ \\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{HI}} \\le 1 \\implies \\frac{2}{5} \\le 1 $$\n    This is true.\n\n2.  **LO-mode test**:\n    $$ \\sum_{\\tau_i \\in \\mathcal{T}_L} U_i^{\\mathrm{LO}} + \\frac{1}{x} \\sum_{\\tau_j \\in \\mathcal{T}_H} U_j^{\\mathrm{LO}} \\le 1 $$\n    $$ \\frac{7}{30} + \\frac{1}{6/23} \\left(\\frac{1}{5}\\right) \\le 1 $$\n    $$ \\frac{7}{30} + \\frac{23}{6} \\left(\\frac{1}{5}\\right) \\le 1 $$\n    $$ \\frac{7}{30} + \\frac{23}{30} \\le 1 $$\n    $$ \\frac{30}{30} \\le 1 \\implies 1 \\le 1 $$\n    This is true.\n\nBoth conditions are satisfied by $x = \\frac{6}{23}$, and this is the smallest such value.",
            "answer": "$$\\boxed{\\frac{6}{23}}$$"
        },
        {
            "introduction": "Modern cyber-physical systems often employ multiple processors, introducing the challenge of task allocation on top of scheduling. This final exercise extends the EDF-VD concept to a partitioned multiprocessor system, where you must decide which tasks run on which core . Your goal is to find a partition that minimizes peak processor demand across all modes, a problem that mirrors the real-world engineering task of balancing load and guaranteeing schedulability in complex, multi-core environments.",
            "id": "4230850",
            "problem": "A cyber-physical systemâ€™s digital twin executes periodic workloads with mixed criticality on $m=2$ identical processors under partitioned scheduling and Earliest Deadline First with Virtual Deadlines (EDF-VD). There are two high-criticality (HI) tasks with parameters $(C^{\\mathrm{LO}}, C^{\\mathrm{HI}}, T) = (2, 4, 10)$ and $(1, 2, 10)$, and two low-criticality (LO) tasks with parameters $(C, T) = (1, 10)$ and $(1, 20)$. The virtual deadline scaling factor is $x = 0.75$.\n\nAssume implicit deadlines equal to periods and that, upon a mode switch to HI mode, all LO tasks are discarded. Under EDF-VD in partitioned scheduling, a processor is deemed schedulable if both of the following hold on that processor:\n- In LO mode, the cumulative demand of LO tasks plus the inflated demand of HI tasks (due to virtual deadlines) does not exceed capacity.\n- In HI mode, considering only HI tasks, the required processing capacity does not exceed the reserved capacity guaranteed by the virtual deadlines.\n\nFormally justify the per-processor conditions starting from the definitions of utilization for periodic tasks and the effect of virtual deadlines on density, then partition the task set across the $m=2$ processors so as to minimize the peak normalized demand across both modes. Define the peak normalized demand of a partition as\n$$\nR \\equiv \\max_{q \\in \\{1,2\\}} \\max\\!\\left( U^{\\mathrm{LO}}(q) + \\frac{U^{\\mathrm{HI,LO}}(q)}{x}, \\frac{U^{\\mathrm{HI,HI}}(q)}{x} \\right),\n$$\nwhere $U^{\\mathrm{LO}}(q)$ is the sum of utilizations of LO tasks assigned to processor $q$, $U^{\\mathrm{HI,LO}}(q)$ is the sum of LO-mode utilizations of HI tasks assigned to processor $q$, and $U^{\\mathrm{HI,HI}}(q)$ is the sum of HI-mode utilizations of HI tasks assigned to processor $q$.\n\nCompute the minimal achievable value of $R$ over all partitions. Express your final answer as an exact fraction with no units. Do not round.",
            "solution": "The problem is a well-posed optimization problem within the domain of mixed-criticality real-time scheduling. All parameters are provided, the objective function is clearly defined, and there are no scientific or logical contradictions. The problem is therefore deemed valid.\n\nThe central task is to partition a set of mixed-criticality tasks onto $m=2$ processors to minimize the peak normalized demand, $R$. The peak normalized demand for a given partition is defined as:\n$$\nR \\equiv \\max_{q \\in \\{1,2\\}} \\max\\!\\left( U^{\\mathrm{LO}}(q) + \\frac{U^{\\mathrm{HI,LO}}(q)}{x}, \\frac{U^{\\mathrm{HI,HI}}(q)}{x} \\right)\n$$\nwhere $q$ is the processor index, $x$ is the virtual deadline scaling factor, $U^{\\mathrm{LO}}(q)$ is the sum of utilizations of low-criticality (LO) tasks on processor $q$, $U^{\\mathrm{HI,LO}}(q)$ is the sum of LO-mode utilizations of high-criticality (HI) tasks on processor $q$, and $U^{\\mathrm{HI,HI}}(q)$ is the sum of HI-mode utilizations of HI tasks on processor $q$.\n\nFirst, we must formally justify the two terms within the inner maximum, which represent the normalized schedulability demands for each processor in LO mode and HI mode, respectively.\nUnder Earliest Deadline First (EDF) scheduling, a set of periodic tasks is schedulable on a single processor if the sum of their densities does not exceed the processor capacity, which is $1$. The density of a task $\\tau_i$ with computation time $C_i$ and deadline $D_i$ is $\\delta_i = C_i/D_i$. For implicit deadlines, $D_i = T_i$, so the density equals the utilization $U_i = C_i/T_i$.\n\nIn the LO-criticality mode under EDF-VD, LO tasks retain their original parameters, so their density is their utilization. HI tasks, however, are scheduled using a virtual deadline $D'_i = x \\cdot T_i$. The density of a HI task $\\tau_i$ in LO mode is therefore $\\delta_i^{\\mathrm{LO}} = C_i^{\\mathrm{LO}} / D'_i = C_i^{\\mathrm{LO}} / (x \\cdot T_i) = U_i^{\\mathrm{LO}} / x$.\nThe total density on a processor $q$ in LO mode is the sum of densities of all tasks assigned to it:\n$$\n\\sum_{\\tau_j \\in \\text{LO tasks on } q} U_j + \\sum_{\\tau_i \\in \\text{HI tasks on } q} \\frac{U_i^{\\mathrm{LO}}}{x} = U^{\\mathrm{LO}}(q) + \\frac{U^{\\mathrm{HI,LO}}(q)}{x}\n$$\nThis quantity is the normalized LO-mode demand, and for schedulability, it must be $\\le 1$.\n\nIn the HI-criticality mode, all LO tasks are discarded. HI tasks execute with their HI-mode computation time, $C_i^{\\mathrm{HI}}$, and their true deadline, $T_i$. The total utilization is $U^{\\mathrm{HI,HI}}(q) = \\sum_{\\tau_i \\in \\text{HI on } q} C_i^{\\mathrm{HI}}/T_i$. The schedulability condition provided in the problem formulation is that this demand, when scaled by the factor $x$, must not exceed capacity. This leads to the normalized HI-mode demand $\\frac{U^{\\mathrm{HI,HI}}(q)}{x}$, which must also be $\\le 1$. This condition is a standard simplification in EDF-VD analysis, reflecting that the capacity reserved for HI tasks is related to their inflated LO-mode demand.\n\nThe problem is to find a partition that minimizes $R$, the maximum of these two demand metrics over both processors. This can be formulated as a vector packing problem. For each task $\\tau_k$, we can define a two-dimensional load vector $\\mathbf{v}_k$:\n- If $\\tau_k$ is a HI task: $\\mathbf{v}_k = \\left( \\frac{U_k^{\\mathrm{HI,LO}}}{x}, \\frac{U_k^{\\mathrm{HI,HI}}}{x} \\right)$\n- If $\\tau_k$ is a LO task: $\\mathbf{v}_k = \\left( U_k^{\\mathrm{LO}}, 0 \\right)$\n\nFor a partition of tasks into sets $S_1$ and $S_2$ for processors $1$ and $2$, the total load on each processor is $\\mathbf{V_q} = \\sum_{\\tau_k \\in S_q} \\mathbf{v}_k = (L_1(q), L_2(q))$. The objective is to minimize $R = \\max\\{L_1(1), L_2(1), L_1(2), L_2(2)\\}$.\n\nLet's calculate the utilizations and load vectors for the given tasks.\nThe processors are $m=2$ and the scaling factor is $x = 0.75 = \\frac{3}{4}$, so $\\frac{1}{x} = \\frac{4}{3}$.\nThe tasks are:\n- HI-task $\\tau_{H1}$: $(C^{\\mathrm{LO}}, C^{\\mathrm{HI}}, T) = (2, 4, 10)$. Utilizations: $U_{H1}^{\\mathrm{LO}} = \\frac{2}{10}$, $U_{H1}^{\\mathrm{HI}} = \\frac{4}{10}$.\n- HI-task $\\tau_{H2}$: $(C^{\\mathrm{LO}}, C^{\\mathrm{HI}}, T) = (1, 2, 10)$. Utilizations: $U_{H2}^{\\mathrm{LO}} = \\frac{1}{10}$, $U_{H2}^{\\mathrm{HI}} = \\frac{2}{10}$.\n- LO-task $\\tau_{L1}$: $(C, T) = (1, 10)$. Utilization: $U_{L1} = \\frac{1}{10}$.\n- LO-task $\\tau_{L2}$: $(C, T) = (1, 20)$. Utilization: $U_{L2} = \\frac{1}{20}$.\n\nNow, we compute the load vectors:\n- $\\mathbf{v}_{H1} = \\left( \\frac{U_{H1}^{\\mathrm{LO}}}{x}, \\frac{U_{H1}^{\\mathrm{HI}}}{x} \\right) = \\left( \\frac{2/10}{3/4}, \\frac{4/10}{3/4} \\right) = \\left( \\frac{2}{10} \\cdot \\frac{4}{3}, \\frac{4}{10} \\cdot \\frac{4}{3} \\right) = \\left( \\frac{8}{30}, \\frac{16}{30} \\right) = \\left( \\frac{4}{15}, \\frac{8}{15} \\right)$.\n- $\\mathbf{v}_{H2} = \\left( \\frac{U_{H2}^{\\mathrm{LO}}}{x}, \\frac{U_{H2}^{\\mathrm{HI}}}{x} \\right) = \\left( \\frac{1/10}{3/4}, \\frac{2/10}{3/4} \\right) = \\left( \\frac{1}{10} \\cdot \\frac{4}{3}, \\frac{2}{10} \\cdot \\frac{4}{3} \\right) = \\left( \\frac{4}{30}, \\frac{8}{30} \\right) = \\left( \\frac{2}{15}, \\frac{4}{15} \\right)$.\n- $\\mathbf{v}_{L1} = \\left( U_{L1}, 0 \\right) = \\left( \\frac{1}{10}, 0 \\right)$.\n- $\\mathbf{v}_{L2} = \\left( U_{L2}, 0 \\right) = \\left( \\frac{1}{20}, 0 \\right)$.\n\nTo simplify addition, we use a common denominator of $60$:\n- $\\mathbf{v}_{H1} = \\left( \\frac{16}{60}, \\frac{32}{60} \\right)$\n- $\\mathbf{v}_{H2} = \\left( \\frac{8}{60}, \\frac{16}{60} \\right)$\n- $\\mathbf{v}_{L1} = \\left( \\frac{6}{60}, 0 \\right)$\n- $\\mathbf{v}_{L2} = \\left( \\frac{3}{60}, 0 \\right)$\n\nThe total load vector is $\\mathbf{V}_{total} = \\mathbf{v}_{H1} + \\mathbf{v}_{H2} + \\mathbf{v}_{L1} + \\mathbf{v}_{L2} = \\left( \\frac{16+8+6+3}{60}, \\frac{32+16}{60} \\right) = \\left( \\frac{33}{60}, \\frac{48}{60} \\right)$.\nWe need to find a subset of tasks for processor $1$, $S_1$, that minimizes $\\max(L_1(1), L_2(1), L_1(2), L_2(2))$, where $\\mathbf{V}_1 = (L_1(1), L_2(1))$ and $\\mathbf{V}_2 = \\mathbf{V}_{total} - \\mathbf{V}_1 = (L_1(2), L_2(2))$. There are $2^{4-1}=8$ non-symmetric partitions to check for $4$ tasks on $2$ processors.\n\nLet's test some promising partitions. A good strategy is to balance the larger components of the load vectors. The second component (HI-mode load) is non-zero only for HI tasks. The loads are $(\\dots, \\frac{32}{60})$ and $(\\dots, \\frac{16}{60})$. A natural partition is to place one HI task on each processor.\n\nPartition 1: $S_1 = \\{\\tau_{H1}, \\tau_{L1}\\}$, $S_2 = \\{\\tau_{H2}, \\tau_{L2}\\}$.\n- $\\mathbf{V}_1 = \\mathbf{v}_{H1} + \\mathbf{v}_{L1} = \\left( \\frac{16}{60} + \\frac{6}{60}, \\frac{32}{60} \\right) = \\left( \\frac{22}{60}, \\frac{32}{60} \\right)$.\n- $\\mathbf{V}_2 = \\mathbf{v}_{H2} + \\mathbf{v}_{L2} = \\left( \\frac{8}{60} + \\frac{3}{60}, \\frac{16}{60} \\right) = \\left( \\frac{11}{60}, \\frac{16}{60} \\right)$.\n- $R_1 = \\max \\left( \\max\\left(\\frac{22}{60}, \\frac{32}{60}\\right), \\max\\left(\\frac{11}{60}, \\frac{16}{60}\\right) \\right) = \\max\\left(\\frac{32}{60}, \\frac{16}{60}\\right) = \\frac{32}{60}$.\n\nPartition 2: $S_1 = \\{\\tau_{H1}, \\tau_{L2}\\}$, $S_2 = \\{\\tau_{H2}, \\tau_{L1}\\}$.\n- $\\mathbf{V}_1 = \\mathbf{v}_{H1} + \\mathbf{v}_{L2} = \\left( \\frac{16}{60} + \\frac{3}{60}, \\frac{32}{60} \\right) = \\left( \\frac{19}{60}, \\frac{32}{60} \\right)$.\n- $\\mathbf{V}_2 = \\mathbf{v}_{H2} + \\mathbf{v}_{L1} = \\left( \\frac{8}{60} + \\frac{6}{60}, \\frac{16}{60} \\right) = \\left( \\frac{14}{60}, \\frac{16}{60} \\right)$.\n- $R_2 = \\max \\left( \\max\\left(\\frac{19}{60}, \\frac{32}{60}\\right), \\max\\left(\\frac{14}{60}, \\frac{16}{60}\\right) \\right) = \\max\\left(\\frac{32}{60}, \\frac{16}{60}\\right) = \\frac{32}{60}$.\n\nPartition 3: $S_1 = \\{\\tau_{H1}\\}$, $S_2 = \\{\\tau_{H2}, \\tau_{L1}, \\tau_{L2}\\}$.\n- $\\mathbf{V}_1 = \\mathbf{v}_{H1} = \\left( \\frac{16}{60}, \\frac{32}{60} \\right)$.\n- $\\mathbf{V}_2 = \\mathbf{v}_{H2} + \\mathbf{v}_{L1} + \\mathbf{v}_{L2} = \\left( \\frac{8+6+3}{60}, \\frac{16}{60} \\right) = \\left( \\frac{17}{60}, \\frac{16}{60} \\right)$.\n- $R_3 = \\max \\left( \\max\\left(\\frac{16}{60}, \\frac{32}{60}\\right), \\max\\left(\\frac{17}{60}, \\frac{16}{60}\\right) \\right) = \\max\\left(\\frac{32}{60}, \\frac{17}{60}\\right) = \\frac{32}{60}$.\n\nLet's check a seemingly unbalanced partition, placing both HI tasks on one processor.\nPartition 4: $S_1 = \\{\\tau_{H1}, \\tau_{H2}\\}$, $S_2 = \\{\\tau_{L1}, \\tau_{L2}\\}$.\n- $\\mathbf{V}_1 = \\mathbf{v}_{H1} + \\mathbf{v}_{H2} = \\left( \\frac{16+8}{60}, \\frac{32+16}{60} \\right) = \\left( \\frac{24}{60}, \\frac{48}{60} \\right)$.\n- $\\mathbf{V}_2 = \\mathbf{v}_{L1} + \\mathbf{v}_{L2} = \\left( \\frac{6+3}{60}, 0 \\right) = \\left( \\frac{9}{60}, 0 \\right)$.\n- $R_4 = \\max \\left( \\max\\left(\\frac{24}{60}, \\frac{48}{60}\\right), \\max\\left(\\frac{9}{60}, 0\\right) \\right) = \\max\\left(\\frac{48}{60}, \\frac{9}{60}\\right) = \\frac{48}{60}$.\nThis value is clearly larger than $\\frac{32}{60}$.\n\nA systematic check of all 8 partitions confirms that the minimum achievable value for $R$ is found in several partitions. For instance, the partition placing $\\{\\tau_{H1}\\}$ on one processor and all other tasks on the second processor yields this minimum. The value is $\\frac{32}{60}$.\nSimplifying this fraction:\n$$\nR_{min} = \\frac{32}{60} = \\frac{16}{30} = \\frac{8}{15}\n$$\nThis value is less than $1$, which implies that the optimal partition is schedulable. The question asks for the minimal achievable value of $R$.\nThe minimal value is $\\frac{8}{15}$.",
            "answer": "$$\n\\boxed{\\frac{8}{15}}\n$$"
        }
    ]
}