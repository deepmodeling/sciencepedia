{
    "hands_on_practices": [
        {
            "introduction": "掌握形式化规约语言的第一步是亲手计算其量化语义，即“鲁棒性”。本练习  将引导您为一个简单的正弦信号和一个“全局”（Globally, $\\mathbf{G}$）规约计算鲁棒性。通过这个过程，您将理解鲁棒性的数学定义（作为下确界 $\\inf$）如何具体地转化为在一个时间区间内寻找函数最小值的过程。",
            "id": "4222915",
            "problem": "考虑一个由数字孪生指定的标量信息物理系统 (CPS) 信号，该信号为连续时间函数 $x:\\mathbb{R}_{\\ge 0}\\to\\mathbb{R}$，且 $x(t)=\\sin t$。一个需求在信号时序逻辑 (STL) 中被形式化为公式 $\\varphi=\\mathbf{G}_{[0,2\\pi]}\\,\\big(x(t)\\ge 0\\big)$，并在初始时间 $t=0$ 进行解释。使用基于 $\\mathbb{R}$ 上欧几里得度量的有符号距离的标准鲁棒（定量）STL 语义，其中对于形式为 $h(x(t))\\ge 0$ 的原子谓词 $\\mu$，其在时间 $t$ 的鲁棒性为 $\\rho_{\\mu}(x,t)=h(x(t))$，否定式的鲁棒性为 $\\rho_{\\neg\\psi}(x,t)=-\\rho_{\\psi}(x,t)$，合取式的鲁棒性为 $\\rho_{\\psi_{1}\\wedge\\psi_{2}}(x,t)=\\min\\{\\rho_{\\psi_{1}}(x,t),\\rho_{\\psi_{2}}(x,t)\\}$，全局算子的鲁棒性为 $\\rho_{\\mathbf{G}_{I}\\psi}(x,0)=\\inf_{\\tau\\in I}\\rho_{\\psi}(x,\\tau)$。\n\n从这些核心定义和正弦函数的标准性质出发，判断定性满足 $x\\models\\varphi$ 是否成立，并找出在 $[0,2\\pi]$ 内谓词 $x(t)\\ge 0$ 被违反的确切时间子区间。然后计算鲁棒性 $\\rho_{\\varphi}(x,0)$，结果为一个精确的实数。为评分需要，仅报告鲁棒性值作为您的最终数值答案。无需四舍五入，不涉及物理单位。角度以弧度为单位。",
            "solution": "该问题要求对给定的信号 $x(t)=\\sin t$ 评估一个信号时序逻辑 (STL) 公式 $\\varphi=\\mathbf{G}_{[0,2\\pi]}\\,\\big(x(t)\\ge 0\\big)$。评估过程包括在时间 $t=0$ 解释下，确定其定性满足性和定量鲁棒性。\n\n首先，我们分析 STL 公式 $\\varphi$ 的结构。它由一个作用于时间区间 $I=[0, 2\\pi]$ 的“全局”算子 $\\mathbf{G}_{I}$ 和一个原子谓词组成，该原子谓词可表示为 $\\psi$。原子谓词为 $\\psi \\equiv \\big(x(t)\\ge 0\\big)$。\n\n谓词 $\\psi$ 的一般形式为 $h(x(t))\\ge 0$。在本例中，函数 $h$ 是恒等函数，即 $h(z)=z$，因此 $h(x(t)) = x(t)$。给定信号为 $x(t) = \\sin t$。因此，谓词内的表达式就是 $\\sin t \\ge 0$。\n\n根据所提供的原子谓词鲁棒语义的定义，其在给定时间 $\\tau$ 的鲁棒性为 $\\rho_{\\psi}(x,\\tau) = h(x(\\tau))$。对于我们的问题，这变为：\n$$\n\\rho_{\\psi}(x,\\tau) = x(\\tau) = \\sin \\tau\n$$\n\n我们首先处理定性满足性，记为 $x \\models \\varphi$。这是一个布尔属性。公式 $\\varphi = \\mathbf{G}_{[0,2\\pi]}\\,(x(t)\\ge 0)$ 为真，当且仅当谓词 $x(t)\\ge 0$ 在区间 $[0, 2\\pi]$ 内的所有时间 $t$ 上都成立。我们必须检查 $\\sin t \\ge 0$ 是否对所有 $t \\in [0, 2\\pi]$ 都成立。已知正弦函数在 $t \\in [0, \\pi]$ 上为非负，在 $t \\in (\\pi, 2\\pi)$ 上为严格负。由于在区间 $[0, 2\\pi]$ 内存在时间 $t$ 使得 $\\sin t  0$，因此该条件在整个区间上不成立。具体来说，谓词 $x(t) \\ge 0$ 在开时间子区间 $(\\pi, 2\\pi)$ 上被违反。因此，定性满足性不成立，即 $x \\not\\models \\varphi$。\n\n接下来，我们计算公式 $\\varphi$ 在初始时间 $t=0$ 的定量鲁棒性，记为 $\\rho_{\\varphi}(x,0)$。全局算子 $\\mathbf{G}_{I}$ 的鲁棒性定义为：\n$$\n\\rho_{\\mathbf{G}_{I}\\psi}(x,0) = \\inf_{\\tau\\in I}\\rho_{\\psi}(x,\\tau)\n$$\n在我们的例子中，区间是 $I = [0, 2\\pi]$，原子鲁棒性是 $\\rho_{\\psi}(x,\\tau) = \\sin \\tau$。将这些代入公式，我们得到：\n$$\n\\rho_{\\varphi}(x,0) = \\inf_{\\tau\\in [0,2\\pi]} (\\sin \\tau)\n$$\n这将问题简化为在闭区间 $[0, 2\\pi]$ 上寻找函数 $\\sin \\tau$ 的下确界（最大下界）。由于函数 $f(\\tau) = \\sin \\tau$ 在紧区间（闭合且有界）$[0, 2\\pi]$ 上是连续的，根据极值定理，它在该区间上必能取到其最小值。因此，下确界等于该函数在此区间上的全局最小值。\n\n正弦函数的值域是 $[-1, 1]$。我们需要找到它在 $\\tau \\in [0, 2\\pi]$ 上所取的最小值。$\\sin \\tau$ 的最小值是 $-1$，并且在 $\\tau = \\frac{3\\pi}{2}$ 时取到该值。由于 $\\frac{3\\pi}{2}$ 是区间 $[0, 2\\pi]$ 内的一个元素，因此 $\\sin \\tau$ 在该区间上的最小值确实是 $-1$。\n\n因此，鲁棒性值为：\n$$\n\\rho_{\\varphi}(x,0) = \\min_{\\tau\\in [0,2\\pi]} (\\sin \\tau) = -1\n$$\n负的鲁棒性值 $\\rho_{\\varphi}(x,0) = -1  0$ 与该性质被违反的定性结论 ($x \\not\\models \\varphi$) 一致。鲁棒性的量值 $|-1|=1$ 量化了违反的程度，表示信号 $x(t)$ 低于阈值 $0$ 的最大有符号距离。",
            "answer": "$$\\boxed{-1}$$"
        },
        {
            "introduction": "鲁棒性不仅是一个度量满足程度的数值，它更为系统分析和测试提供了关键指导。本练习  探讨了“最终”（Eventually, $\\mathbf{F}$）算子，并要求您解释计算出的鲁棒性值如何指导“证伪”（falsification）过程。您将看到，鲁棒性的大小及其对应的关键时刻，能高效地指引我们寻找违反系统规约的行为。",
            "id": "4222917",
            "problem": "考虑一个由数字孪生监控的信息物理系统 (CPS)。该数字孪生维持一个标量信号 $x : \\mathbb{R}_{\\ge 0} \\to \\mathbb{R}$，代表一个归一化的资源水平。假设观测到的轨迹为 $x(t) = 1 - 0.1 t$，适用于 $t \\ge 0$。系统需求以信号时序逻辑 (STL) 的形式指定为公式 $\\varphi = \\mathbf{F}_{[0,5]}(x(t) \\ge 0.6)$，并在 $\\mathbb{R}_{\\ge 0}$上根据标准的连续时间定量语义进行解释。\n\n从信号时序逻辑 (STL) 中原子谓词和有界区间上的“最终”时间算子的定量语义的形式化定义出发，推导并计算给定 $x(t)$ 和 $\\varphi$ 的鲁棒性值 $\\rho(x,\\varphi,0)$。然后，解释计算出的鲁棒性如何指导证伪过程，即说明当前行为距离违反规范有多远，以及调整信号形状的哪些方面对于将鲁棒性降至零以下最为关键。\n\n提供 $\\rho(x,\\varphi,0)$ 的数值作为最终答案。无需四舍五入。不要包含单位。",
            "solution": "该问题要求计算给定信号和STL公式的鲁棒性值，并解释其对证伪的指导意义。\n\n**1. 鲁棒性计算**\n\n- **公式与信号**：我们要评估的公式是 $\\varphi = \\mathbf{F}_{[0,5]}(x(t) \\ge 0.6)$，作用于信号 $x(t) = 1 - 0.1 t$。\n- **原子谓词的鲁棒性**：公式中的原子谓词是 $\\psi \\equiv (x(t) \\ge 0.6)$。根据标准定义，其在时间 $t$ 的鲁棒性为 $\\rho_{\\psi}(x, t) = x(t) - 0.6$。\n- **“最终”算子的鲁棒性**：“最终”算子 $\\mathbf{F}_{I}$ 的鲁棒性定义为在时间区间 $I$ 内，其子公式鲁棒性的上确界 (supremum)。因此，$\\varphi$ 在时间 $t=0$ 的鲁棒性为：\n  $$ \\rho(x,\\varphi,0) = \\sup_{t \\in [0,5]} \\rho_{\\psi}(x, t) $$\n- **代入计算**：将信号和原子鲁棒性定义代入上式：\n  $$ \\rho(x,\\varphi,0) = \\sup_{t \\in [0,5]} (x(t) - 0.6) = \\sup_{t \\in [0,5]} ((1 - 0.1 t) - 0.6) = \\sup_{t \\in [0,5]} (0.4 - 0.1 t) $$\n- **求上确界**: 函数 $f(t) = 0.4 - 0.1 t$ 是一个关于时间 $t$ 的线性递减函数。因此，它在闭区间 $[0, 5]$ 上的最大值（即上确界）在区间的左端点 $t=0$ 处取得。\n- **最终结果**:\n  $$ \\rho(x,\\varphi,0) = f(0) = 0.4 - 0.1 \\times 0 = 0.4 $$\n因此，该信号轨迹对于公式 $\\varphi$ 的鲁棒性值为 0.4。\n\n**2. 对证伪的指导意义**\n\n- **结果解释**: 鲁棒性值 $\\rho = 0.4$ 是一个正数，这意味着当前信号轨迹 $x(t)$ 满足规约 $\\varphi$。不仅如此，它还提供了一个“安全裕度”为 $0.4$。\n- **指导证伪**: 证伪的目标是找到一个使规约被违反的系统行为（即找到使鲁棒性值变为负数的输入或参数）。鲁棒性计算揭示，对于这个线性递减信号，鲁棒性值（即函数 $0.4-0.1t$ 在 $[0,5]$ 上的最大值）完全由 $t=0$ 时刻决定。这意味着，要使系统违反规约（即实现证伪），最有效的策略是降低信号在初始时刻的值。例如，如果我们将信号的初始值从 $1.0$ 降低到 $0.5$，鲁棒性将变为 $\\sup_{t \\in [0,5]} ((0.5-0.1t)-0.6) = -0.1$，成功找到一个反例。单纯增快信号的下降速率（即增大 `0.1` 这个系数）并不会改变这个鲁棒性值，因为最大值始终在 $t=0$ 处取得。因此，鲁棒性分析精确地指引了证伪工作的方向：攻击系统的初始状态。",
            "answer": "$$\\boxed{0.4}$$"
        },
        {
            "introduction": "形式化规约通常定义在连续时间上，但数字孪生和监控系统则工作在离散的采样数据上。本练习  旨在连接这两个世界，解决一个关键的实际问题：我们必须以多快的频率对信号进行采样，才能确保不会错过满足规约的关键行为？通过求解确保“有声性”（soundness）的最小采样周期，本练习揭示了连续时间语义与离散实现约束之间的深刻联系。",
            "id": "4222939",
            "problem": "考虑一个信息物理系统 (CPS)，其被控对象状态是一个标量输出，由连续时间信号 $x : \\mathbb{R}_{\\ge 0} \\to \\mathbb{R}$ 建模，该信号由 $x(t) = \\sin(\\omega t)$ 给出，其中 $\\omega$ 是振荡器的角频率。假设 $\\omega = 1$，因此 $x(t) = \\sin(t)$，其中角度以弧度为单位，时间以秒为单位。该系统的数字孪生通过在时间 $t_{k} = k \\Delta t$（$k \\in \\mathbb{N}$）进行均匀采样来监控 $x(t)$（零采样抖动和零延迟），从而产生离散时间观测值 $x[k] = x(t_{k})$。\n\n令 $\\varphi$ 为一个度量时序逻辑 (MTL) 公式，其中 MTL 代表度量时序逻辑，定义为 $\\varphi = \\mathbf{F}_{[0,\\pi]}(x \\ge 0.5)$。在有界“最终”算子 $\\mathbf{F}_{I}$ 在区间 $I \\subseteq \\mathbb{R}_{\\ge 0}$ 上的连续时间语义下，公式 $\\varphi$ 在时间 $t = 0$ 被满足，当且仅当存在 $t' \\in [0,\\pi]$ 使得 $x(t') \\ge 0.5$。\n\n为了使数字孪生的采样轨迹在 $t=0$ 时对监控 $\\varphi$ 是可靠的——也就是说，每当连续的被控对象在 $t=0$ 时满足 $\\varphi$，采样轨迹就必须包含至少一个索引 $k$ 使得 $t_{k} \\in [0,\\pi]$ 且 $x[k] \\ge 0.5$——必须选择足够小的采样周期 $\\Delta t$，以避免错过在 $[0,\\pi]$ 内谓词 $x \\ge 0.5$ 的连续满足窗口。\n\n仅从以下几点出发：\n- $\\mathbf{F}_{[0,\\pi]}$ 的连续时间语义的定义，\n- 三角学事实，即 $x(t) = \\sin(t)$ 在 $[0,\\frac{\\pi}{2}]$ 上严格递增，在 $[\\frac{\\pi}{2},\\pi]$ 上严格递减，\n- 以及对于形如 $\\sin(t) \\ge \\alpha$ 且 $\\alpha \\in (0,1)$ 的阈值的反正弦关系，\n\n推导出采样周期的最紧上界 $\\Delta t^{\\star}$，使得任何满足 $\\Delta t \\le \\Delta t^{\\star}$ 的均匀采样器都必须在 $[0,\\pi]$ 内的 $x \\ge 0.5$ 的满足窗口中包含至少一个采样时刻。用秒表示你的最终答案 $\\Delta t^{\\star}$。不需要四舍五入。角度必须以弧度处理。",
            "solution": "该问题要求我们找到保证能够检测到满足规约事件的、最宽松的（即最大的）均匀采样周期 $\\Delta t^{\\star}$。\n\n**1. 确定满足规约的时间窗口**\n\n- **规约**: 规约是 $\\varphi = \\mathbf{F}_{[0,\\pi]}(x \\ge 0.5)$，信号是 $x(t) = \\sin(t)$。\n- **满足条件**: 我们需要找到所有时间 $t \\in [0, \\pi]$，使得 $\\sin(t) \\ge 0.5$。\n- **求解等式**: 首先，我们求解 $\\sin(t) = 0.5$。根据反正弦函数，在 $[0, \\pi/2]$ 内的主解是 $t_1 = \\arcsin(0.5) = \\frac{\\pi}{6}$。\n- **利用对称性**: 正弦函数在区间 $[0, \\pi]$ 上关于 $t=\\pi/2$ 对称。因此，第二个解是 $t_2 = \\pi - t_1 = \\pi - \\frac{\\pi}{6} = \\frac{5\\pi}{6}$。\n- **确定不等式区间**: 题目中提到，$\\sin(t)$ 在 $[0, \\pi/2]$ 上递增，在 $[\\pi/2, \\pi]$ 上递减。因此，不等式 $\\sin(t) \\ge 0.5$ 在区间 $\\left[ \\frac{\\pi}{6}, \\frac{5\\pi}{6} \\right]$ 上成立。这个区间就是我们必须保证采到至少一个样本的“满足窗口”。\n\n**2. 计算满足窗口的长度**\n\n满足窗口的长度 $L$ 为：\n$$ L = t_2 - t_1 = \\frac{5\\pi}{6} - \\frac{\\pi}{6} = \\frac{4\\pi}{6} = \\frac{2\\pi}{3} \\text{ 秒} $$\n\n**3. 推导最紧采样周期上界**\n\n- **采样保证**: 为了确保在任何长度为 $L$ 的闭区间内至少捕获一个样本点，采样周期 $\\Delta t$ 不能大于该区间的长度 $L$。\n- **最坏情况分析**: 我们可以想象最坏的情况：一个采样点刚好落在满足窗口开始前的瞬间 $t_{start} - \\epsilon$，而下一个采样点则落在窗口结束后的瞬间 $t_{end} + \\delta$。如果 $\\Delta t > L$，那么这种情况是可能发生的，从而导致采样器“跳过”整个满足窗口，未能检测到事件。\n- **最紧上界**: 为了在所有情况下（无论采样起始的相位如何）都绝对保证能采到样本，采样周期 $\\Delta t$ 必须小于或等于满足窗口的长度 $L$。因此，$\\Delta t$ 的最紧上界 $\\Delta t^{\\star}$ 就是窗口的长度本身。\n$$ \\Delta t^{\\star} = L = \\frac{2\\pi}{3} $$\n任何小于或等于 $\\frac{2\\pi}{3}$ 秒的采样周期都将保证至少有一个采样点落在满足窗口之内，从而使数字孪生的监控是可靠的。",
            "answer": "$$\n\\boxed{\\frac{2\\pi}{3}}\n$$"
        }
    ]
}