{
    "hands_on_practices": [
        {
            "introduction": "This exercise is about building a bridge between fundamental physics and the abstract framework of bond graphs. By modeling a simple rotational actuator, you will practice translating physical components (inertia, spring) into their corresponding bond graph elements ($I$ and $C$), applying junction laws, and systematically deriving the system's state-space model and transfer function. This is a foundational skill for analyzing the dynamics of any physical system. ",
            "id": "4204400",
            "problem": "A rotational actuator in a Cyber-Physical System (CPS) is being modeled for a Digital Twin (DT) using acausal multi-domain bond graphs. The actuator comprises a rigid body with rotational inertia $J$ connected through a torsional spring of stiffness $K$ to a rigid ground. An externally applied torque $u(t)$ from a controller acts at the common rotational junction. Assume small angular deflections so that linear torsional elasticity holds, negligible damping, and rigid connections so that a single angular velocity $\\omega(t)$ is present at the junction.\n\nStarting from first principles, namely Newton’s second law for rotation and Hooke’s law for torsion, and using the acausal bond graph representation with preferred integral causality for both storage elements:\n- Treat the inertia as an $I$-element with generalized momentum state $p(t)$ and the torsional spring as a $C$-element with generalized displacement state $q(t)$.\n- Use bond graph junction structure consistent with a series connection (common flow and effort balance) to derive the storage element constitutive equations in integral causality and the interconnection constraint.\n- From these, assemble the Linear Time-Invariant (LTI) state-space model in the form $\\dot{x}(t) = Ax(t) + Bu(t)$, $y(t) = Cx(t) + Du(t)$, where the output $y(t)$ is the absolute rotation angle $\\theta(t)$ and the input $u(t)$ is the applied torque. Express $y(t)$ in radians.\n\nFinally, compute the transfer function $G(s) = \\Theta(s) / U(s)$ from the input torque $u(t)$ to the output angle $\\theta(t)$ using the Laplace transform variable $s$. Provide your final answer as a single closed-form analytical expression for $G(s)$. No rounding is required. If units are needed for interpretation, the angle is in radians and torque is in Newton-meter.",
            "solution": "The problem statement has been critically validated and is deemed to be scientifically grounded, well-posed, objective, and internally consistent. It presents a standard problem in modeling and control of physical systems, using established principles from mechanics, bond graph theory, and linear systems analysis. The problem provides all necessary information and clear instructions to derive a unique and meaningful solution.\n\nThe problem asks for the derivation of the transfer function $G(s)$ relating the input torque $u(t)$ to the output angle $\\theta(t)$ for a rotational actuator. The derivation will proceed from first principles using the specified bond graph methodology.\n\nFirst, we model the system using an acausal bond graph. The system consists of an external torque source acting on a rotational inertia, which is connected to a torsional spring, with the other end of the spring grounded. All components at the actuator's junction share a common angular velocity, $\\omega(t)$. In bond graph terminology, a common flow variable ($\\omega(t)$ is a flow in the rotational energy domain) implies that the components are connected to a $1$-junction. The elements connected to this $1$-junction are:\n$1$. A Source of Effort (SE), representing the externally applied torque $u(t)$.\n$2$. An Inertia element (I), representing the rigid body's rotational inertia $J$.\n$3$. A Compliance element (C), representing the torsional spring of stiffness $K$.\n\nThe $1$-junction enforces two rules:\na) The flow (angular velocity, $\\omega$) is common to all connected bonds.\nb) The efforts (torques, $\\tau$) on the bonds algebraically sum to zero. Taking power to flow from the source into the junction and from the junction into the passive elements, the effort balance is:\n$$u(t) - \\tau_I(t) - \\tau_C(t) = 0$$\nwhere $\\tau_I(t)$ is the torque required to accelerate the inertia and $\\tau_C(t)$ is the torque exerted by the spring. This equation can be rearranged as:\n$$\\tau_I(t) = u(t) - \\tau_C(t)$$\nThis represents Newton's second law for rotation applied at the junction.\n\nNext, we define the state variables as specified in the problem, corresponding to the energy stored in the I and C elements under preferred integral causality.\n- The state variable for the I-element (inertia $J$) is the generalized momentum, $p(t)$. For a rotational system, this is the angular momentum.\n- The state variable for the C-element (spring $K$) is the generalized displacement, $q(t)$. For a rotational system, this is the angular displacement or angle, $\\theta(t)$.\n\nThe state vector is therefore $x(t) = \\begin{pmatrix} p(t) \\\\ q(t) \\end{pmatrix}$. The output is specified as the angle $y(t) = \\theta(t)$, which is equal to the state variable $q(t)$.\n\nWe now establish the constitutive relations for the storage elements and the differential equations for the state variables.\nThe constitutive law for the I-element relates the state variable $p(t)$ to the flow variable $\\omega(t)$:\n$$p(t) = J \\omega(t) \\implies \\omega(t) = \\frac{1}{J} p(t)$$\nThe constitutive law for the C-element relates the state variable $q(t)$ to the effort variable $\\tau_C(t)$:\n$$\\tau_C(t) = K q(t)$$\nThis is Hooke's law for torsion.\n\nThe time derivatives of the state variables are defined by the fundamental relations of the I and C elements:\n- For the I-element, the time derivative of momentum is the effort: $\\dot{p}(t) = \\tau_I(t)$.\n- For the C-element, the time derivative of displacement is the flow: $\\dot{q}(t) = \\omega(t)$.\n\nWe can now assemble the state equations by substituting the constitutive laws and junction relations:\nFor the first state equation, $\\dot{p}(t)$:\n$$\\dot{p}(t) = \\tau_I(t) = u(t) - \\tau_C(t)$$\nSubstituting $\\tau_C(t) = K q(t)$, we get:\n$$\\dot{p}(t) = -K q(t) + u(t)$$\nFor the second state equation, $\\dot{q}(t)$:\n$$\\dot{q}(t) = \\omega(t)$$\nSubstituting $\\omega(t) = \\frac{1}{J} p(t)$, we get:\n$$\\dot{q}(t) = \\frac{1}{J} p(t)$$\n\nWe can now write the system in the standard Linear Time-Invariant (LTI) state-space form $\\dot{x}(t) = Ax(t) + Bu(t)$.\n$$\n\\begin{pmatrix} \\dot{p}(t) \\\\ \\dot{q}(t) \\end{pmatrix} = \\begin{pmatrix} 0 & -K \\\\ \\frac{1}{J} & 0 \\end{pmatrix} \\begin{pmatrix} p(t) \\\\ q(t) \\end{pmatrix} + \\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix} u(t)\n$$\nThis gives the state matrix $A$ and the input matrix $B$:\n$$A = \\begin{pmatrix} 0 & -K \\\\ \\frac{1}{J} & 0 \\end{pmatrix}, \\quad B = \\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix}$$\n\nThe output equation is $y(t) = Cx(t) + Du(t)$. The output is $y(t) = \\theta(t) = q(t)$. In matrix form:\n$$\ny(t) = \\begin{pmatrix} 0 & 1 \\end{pmatrix} \\begin{pmatrix} p(t) \\\\ q(t) \\end{pmatrix} + (0) u(t)\n$$\nThis gives the output matrix $C$ and the feedthrough matrix $D$:\n$$C = \\begin{pmatrix} 0 & 1 \\end{pmatrix}, \\quad D = 0$$\n\nFinally, we compute the transfer function $G(s) = \\Theta(s)/U(s)$ using the formula $G(s) = C(sI - A)^{-1}B + D$, where $I$ is the identity matrix and $s$ is the Laplace variable.\nFirst, we find the matrix $(sI - A)$:\n$$sI - A = s\\begin{pmatrix} 1 & 0 \\\\ 0 & 1 \\end{pmatrix} - \\begin{pmatrix} 0 & -K \\\\ \\frac{1}{J} & 0 \\end{pmatrix} = \\begin{pmatrix} s & K \\\\ -\\frac{1}{J} & s \\end{pmatrix}$$\nNext, we compute the inverse, $(sI - A)^{-1}$. The determinant is $\\det(sI - A) = (s)(s) - (K)(-\\frac{1}{J}) = s^2 + \\frac{K}{J}$.\n$$(sI - A)^{-1} = \\frac{1}{s^2 + \\frac{K}{J}} \\begin{pmatrix} s & -K \\\\ \\frac{1}{J} & s \\end{pmatrix}$$\nNow we pre-multiply by $C$ and post-multiply by $B$:\n$$G(s) = \\begin{pmatrix} 0 & 1 \\end{pmatrix} \\left( \\frac{1}{s^2 + \\frac{K}{J}} \\begin{pmatrix} s & -K \\\\ \\frac{1}{J} & s \\end{pmatrix} \\right) \\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix} + 0$$\n$$G(s) = \\frac{1}{s^2 + \\frac{K}{J}} \\left( \\begin{pmatrix} 0 & 1 \\end{pmatrix} \\begin{pmatrix} s & -K \\\\ \\frac{1}{J} & s \\end{pmatrix} \\right) \\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix}$$\n$$G(s) = \\frac{1}{s^2 + \\frac{K}{J}} \\begin{pmatrix} \\frac{1}{J} & s \\end{pmatrix} \\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix}$$\n$$G(s) = \\frac{1}{s^2 + \\frac{K}{J}} \\left( \\frac{1}{J} \\cdot 1 + s \\cdot 0 \\right) = \\frac{\\frac{1}{J}}{s^2 + \\frac{K}{J}}$$\nMultiplying the numerator and denominator by $J$ yields the simplified, final expression for the transfer function:\n$$G(s) = \\frac{1}{Js^2 + K}$$\nThis result is consistent with the second-order ordinary differential equation for an undamped mass-spring system subjected to an external force, $J\\ddot{\\theta} + K\\theta = u$, after applying the Laplace transform.",
            "answer": "$$\\boxed{\\frac{1}{Js^2 + K}}$$"
        },
        {
            "introduction": "Real-world cyber-physical systems often involve the interaction of multiple energy domains. This practice moves beyond a single domain to model a DC motor, a classic electromechanical system, introducing the gyrator ($GY$) element to represent energy transduction. You will apply the sequential causality assignment procedure to a more complex graph and encounter a scenario where an energy storage element is forced into derivative causality, a common and important feature in physical system modeling. ",
            "id": "4204438",
            "problem": "A Direct Current (DC) motor drives a rotational load through a flexible shaft. The system is modeled as a multi-domain bond graph suitable for a digital twin of the motor-load assembly. The electrical domain consists of a source of effort, an armature resistance, and an armature inductance in series at an electrical $1$-junction. The electromechanical transduction is represented by a gyrator (GY) with modulus $K$ that connects the electrical $1$-junction to a mechanical $1$-junction. The mechanical $1$-junction collects an inertia, a rotational damper, and a torsional spring (modeled as a compliance) in parallel with the gyrator port. All bonds are oriented from the junction toward passive elements.\n\nFundamental base assumptions:\n- Each bond carries an effort $e$ and a flow $f$, with instantaneous power $P=ef$.\n- For an inertial storage element ($I$-element) with parameter $I$, the generalized momentum $p$ satisfies $\\dot{p}=e$ and the stored energy is $H_{I}=\\frac{p^{2}}{2I}$.\n- For a compliant storage element ($C$-element) with parameter $C$, the generalized displacement $q$ satisfies $\\dot{q}=f$ and the stored energy is $H_{C}=\\frac{q^{2}}{2C}$.\n- A gyrator (GY) with modulus $K$ enforces $e_{1}=K f_{2}$ and $e_{2}=K f_{1}$ between its ports $1$ and $2$.\n\nThe element parameters are:\n- Electrical source of effort $S_{e}$ imposes an armature voltage $V_{s}$ (its numeric value is not needed for the causality assignment).\n- Armature resistance $R_{e}$ with resistance $R_e = 1.2~\\Omega$.\n- Armature inductance $I_{L}$ with inductance $L = 0.012~\\mathrm{H}$.\n- Gyrator modulus $K = 0.08~\\mathrm{N\\cdot m/A}$.\n- Rotational inertia $I_{J}$ with moment of inertia $J = 0.016~\\mathrm{kg\\cdot m^2}$.\n- Rotational damper $R_{B}$ with damping $B = 0.06~\\mathrm{N\\cdot m\\cdot s/rad}$.\n- Torsional spring $C_{k}$ with compliance $C_k = \\frac{1}{k}$, where $k = 45~\\mathrm{N\\cdot m/rad}$, so $C_k = \\frac{1}{45}~\\mathrm{rad/(N\\cdot m)}$.\n\nInitial conditions at $t=0$:\n- Armature current $i(0) = 2.5~\\mathrm{A}$.\n- Load angular velocity $\\omega(0) = 75~\\mathrm{rad/s}$.\n- Shaft twist (angular displacement across the torsional spring) $\\theta(0) = 0.12~\\mathrm{rad}$.\n\nTasks:\n1. Using bond graph junction rules and element constitutive laws, determine a causality assignment that yields an ordinary differential equation (state-space) form by assigning integral causality to all storage elements whenever feasible. Explicitly state the causality direction (which side carries the causal stroke) for $I_{L}$, $I_{J}$, $C_{k}$, and describe how $S_{e}$, $R_{e}$, $R_{B}$, and the gyrator constrain or propagate causality at the electrical and mechanical $1$-junctions.\n2. From the chosen causality, identify the associated canonical state variables for the storage elements and write them symbolically in terms of physical quantities.\n3. Compute the total stored energy $H(0)$ at $t=0$ as the sum of the energies in all storage elements, using the initial conditions and parameters above. Express the final energy in $\\mathrm{J}$ and round your answer to four significant figures.",
            "solution": "The problem statement is first validated against the specified criteria.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n- **System Description**: A Direct Current (DC) motor drives a rotational load through a flexible shaft. The system is modeled by a bond graph.\n- **Electrical Domain**: A source of effort ($S_{e}$) imposes voltage $V_{s}$. An armature resistance ($R_{e}$) and an armature inductance ($I_{L}$) are in series at an electrical $1$-junction.\n- **Mechanical Domain**: An inertia ($I_{J}$), a rotational damper ($R_{B}$), and a torsional spring ($C_{k}$) are in parallel at a mechanical $1$-junction.\n- **Transduction**: A gyrator (GY) with modulus $K$ connects the electrical $1$-junction and the mechanical $1$-junction.\n- **Bond Orientation**: All bonds from junctions to passive elements are oriented toward the elements.\n- **Constitutive Laws**:\n    - Power: $P=ef$.\n    - $I$-element: $\\dot{p}=e$, $H_{I}=\\frac{p^{2}}{2I}$.\n    - $C$-element: $\\dot{q}=f$, $H_{C}=\\frac{q^{2}}{2C}$.\n    - GY: $e_{1}=K f_{2}$ and $e_{2}=K f_{1}$ for ports $1$ and $2$.\n- **Parameters**:\n    - $R_{e} = 1.2~\\Omega$.\n    - $L = 0.012~\\mathrm{H}$ (for $I_{L}$).\n    - $K = 0.08~\\mathrm{N\\cdot m/A}$.\n    - $J = 0.016~\\mathrm{kg\\cdot m^{2}}$ (for $I_{J}$).\n    - $B = 0.06~\\mathrm{N\\cdot m\\cdot s/rad}$ (for $R_{B}$).\n    - $C_{k} = \\frac{1}{k}$ where $k = 45~\\mathrm{N\\cdot m/rad}$, so $C_{k} = \\frac{1}{45}~\\mathrm{rad/(N\\cdot m)}$.\n- **Initial Conditions at $t=0$**:\n    - Armature current $i(0) = 2.5~\\mathrm{A}$.\n    - Load angular velocity $\\omega(0) = 75~\\mathrm{rad/s}$.\n    - Shaft twist $\\theta(0) = 0.12~\\mathrm{rad}$.\n- **Tasks**:\n    1. Determine causality for a state-space form, maximizing integral causality. Describe causality for all elements.\n    2. Identify canonical state variables.\n    3. Compute total stored energy $H(0)$ at $t=0$ to four significant figures.\n\n**Step 2: Validate Using Extracted Givens**\n- **Scientifically Grounded**: The problem describes a standard electromechanical system (DC motor with a load) and uses bond graphs, a well-established and scientifically valid modeling methodology in engineering. The constitutive laws are correct representations of physical elements. The problem is correctly grounded in physics and systems theory.\n- **Well-Posed**: The problem is structured into three clear, sequential tasks. The goal is unambiguous: perform a causality analysis, identify state variables, and calculate initial energy. Sufficient data is provided to complete all tasks.\n- **Objective**: The language is formal, precise, and free of subjective or opinion-based content.\n- **Completeness and Consistency**: All parameters and initial conditions required for the calculations are provided. The units are consistent within the SI system. The description of components \"in series at a 1-junction\" (common flow, sum of efforts) and \"in parallel at a 1-junction\" (common flow, sum of efforts) is consistent with the standard definition of a 1-junction in electrical and mechanical domains, respectively.\n- **No other flaws** (unrealistic, ill-posed, trivial, etc.) are detected. The problem requires a standard application of bond graph theory.\n\n**Step 3: Verdict and Action**\nThe problem is valid. A complete solution will be provided.\n\n### Solution\n\n**Task 1: Causality Assignment**\n\nThe causality assignment follows the Sequential Causality Assignment Procedure (SCAP), with the goal of assigning integral causality to storage elements ($I$ and $C$) wherever possible. Integral causality for an $I$-element means it receives effort ($e$) as input and determines flow ($f$) as output. For a $C$-element, it means receiving flow ($f$) as input and determining effort ($e$) as output.\n\nThe system topology consists of an electrical $1$-junction and a mechanical $1$-junction connected by a gyrator (GY).\n\n1.  **Analyze the Mechanical Domain**: The mechanical domain has a $1$-junction, representing a common flow (angular velocity, $\\omega$). The elements connected are an inertia $I_{J}$, a damper $R_{B}$, a spring $C_{k}$, and the gyrator. A $1$-junction requires exactly one connected bond to determine the common flow; all other bonds must accept this flow and return an effort.\n    To maximize integral causality, we check if a storage element can determine the flow. The inertia element $I_{J}$, when in integral causality, takes effort as input and determines flow as output. This is a valid candidate for setting the flow of the $1$-junction.\n    Let us assign $I_{J}$ to be the determinant of flow for the mechanical $1$-junction.\n    -   **$I_{J}$**: Being in integral causality, it computes its flow $f_{IJ} = \\omega$ from its state, the generalized momentum $p_J$, where $\\dot{p}_J = e_{IJ}$. The net effort $e_{IJ}$ is the sum of efforts from the other bonds at the junction. The causal stroke on the $I_J$ bond is at the junction.\n    -   **Mechanical $1$-junction**: This junction now imposes the flow $\\omega$ on all other connected elements: $R_{B}$, $C_{k}$, and the GY.\n    -   **$R_{B}$**: Receives flow $\\omega$ as input and determines its effort $e_{RB} = B \\omega$. The causal stroke is at the element $R_{B}$.\n    -   **$C_{k}$**: Receives flow $\\omega$ as input. It integrates the flow to find its state, the generalized displacement $q_k = \\theta$, and determines its effort $e_{Ck} = q_k/C_k$. This is integral causality for the $C_k$ element. The causal stroke is at the element $C_{k}$.\n    -   **GY (Port 2, Mechanical)**: Receives flow $f_2 = \\omega$ from the junction and must determine the corresponding effort $e_2$. The causal stroke is at the element GY.\n    This assignment successfully places both mechanical storage elements, $I_{J}$ and $C_{k}$, in integral causality.\n\n2.  **Propagate Causality through the Gyrator (GY)**: The causality at Port 2 is now fixed: flow $f_2$ is the input, and effort $e_2$ is the output. A gyrator inverts causality. If one port has effort-in/flow-out causality, the other must have flow-in/effort-out causality.\n    -   At Port 2, the causality is flow-in ($f_2=\\omega$ is input from the junction). Therefore, the GY must determine effort $e_2$ as output.\n    -   This causality at Port 2 (flow-in, effort-out) forces the causality at Port 1 to be effort-in, flow-out. That is, the GY must receive effort $e_1$ as an input and will determine the flow $f_1$ as an output.\n\n3.  **Analyze the Electrical Domain**: The electrical domain has a $1$-junction, representing common flow (current, $i$). The elements are the source $S_e$, resistance $R_e$, inductance $I_L$, and the gyrator.\n    -   From the GY's causality, the GY determines the flow $f_1=i$ and imposes it on the electrical $1$-junction. This satisfies the rule for a $1$-junction, which needs one bond to set the flow.\n    -   **GY (Port 1, Electrical)**: The causal stroke is at the junction. The GY outputs flow $f_1 = i$.\n    -   **Electrical $1$-junction**: Imposes the current $i$ on the remaining elements: $S_e$, $R_e$, and $I_L$.\n    -   **$S_e$**: This is a source of effort. It receives flow $i$ and determines its effort $V_s$. This is consistent with its nature. Causal stroke is at the element $S_e$.\n    -   **$R_e$**: Receives flow $i$ and determines effort $e_{Re} = i R_e$. Causal stroke is at the element $R_e$.\n    -   **$I_L$**: Receives flow $i$ as input and must determine its effort $e_{IL}$. The constitutive law for the inductor's effort is $e_{IL} = L \\frac{di}{dt} = \\frac{d}{dt}(L f_{IL})$. This is **derivative causality**. The a priori assignment of integral causality is not feasible for $I_L$ due to the structure of the system. The causal stroke is at the element $I_L$.\n\n**Summary of Causality Assignment**:\n-   $I_{L}$: Derivative causality. Receives flow $i$, determines effort $e_{IL}$.\n-   $I_{J}$: Integral causality. Receives effort $e_{IJ}$, determines flow $\\omega$.\n-   $C_{k}$: Integral causality. Receives flow $\\omega$, determines effort $e_{Ck}$.\n-   $S_{e}$: Fixed causality (source of effort). Receives flow $i$, determines effort $V_s$.\n-   $R_{e}, R_{B}$: Resistive causality. Receive flow, determine effort.\n-   GY: At the electrical port 1, it receives effort $e_1$ and determines flow $f_1=i$. At the mechanical port 2, it receives flow $f_2=\\omega$ and determines effort $e_2$. The total causality is consistent.\n\n**Task 2: Canonical State Variables**\n\nThe canonical state variables of a system modeled by a bond graph are the generalized momenta of $I$-elements in integral causality and the generalized displacements of $C$-elements in integral causality.\n\n-   From the causality assignment in Task 1, the inductor $I_L$ is in derivative causality. Its generalized momentum, $p_L = Li$, is not an independent state variable.\n-   The inertia $I_J$ is in integral causality. Its state variable is its generalized momentum, $p_J$. Physically, this represents the **angular momentum of the load**, where $p_J = J\\omega$.\n-   The spring $C_k$ is in integral causality. Its state variable is its generalized displacement, $q_k$. Physically, this represents the **angular displacement (twist) of the shaft**, where $q_k = \\theta$.\n\nThus, the two canonical state variables are $p_J$ and $q_k$.\n\n**Task 3: Total Stored Energy at $t=0$**\n\nThe total stored energy $H$ is the sum of the energies stored in the three storage elements: inductor $I_L$, inertia $I_J$, and spring $C_k$.\n$H(t) = H_{I_L}(t) + H_{I_J}(t) + H_{C_k}(t)$\n\n1.  **Energy in the Inductor ($I_L$)**: The energy stored in an inductor is given by $H_{I_L} = \\frac{1}{2} L i^2$.\n    Using the initial condition $i(0) = 2.5~\\mathrm{A}$ and parameter $L = 0.012~\\mathrm{H}$:\n    $$H_{I_L}(0) = \\frac{1}{2} (0.012~\\mathrm{H}) (2.5~\\mathrm{A})^2 = \\frac{1}{2} (0.012) (6.25)~\\mathrm{J} = 0.0375~\\mathrm{J}$$\n\n2.  **Energy in the Inertia ($I_J$)**: The rotational kinetic energy stored in the inertia is $H_{I_J} = \\frac{1}{2} J \\omega^2$.\n    Using the initial condition $\\omega(0) = 75~\\mathrm{rad/s}$ and parameter $J = 0.016~\\mathrm{kg\\cdot m^2}$:\n    $$H_{I_J}(0) = \\frac{1}{2} (0.016~\\mathrm{kg\\cdot m^2}) (75~\\mathrm{rad/s})^2 = \\frac{1}{2} (0.016) (5625)~\\mathrm{J} = 45~\\mathrm{J}$$\n\n3.  **Energy in the Torsional Spring ($C_k$)**: The potential energy stored in the spring is given by $H_{C_k} = \\frac{q_k^2}{2C_k}$. Since $q_k = \\theta$ and $C_k=1/k$, this is also $\\frac{1}{2} k \\theta^2$.\n    Using the initial condition $\\theta(0) = 0.12~\\mathrm{rad}$ and parameter $k = 45~\\mathrm{N\\cdot m/rad}$:\n    $$H_{C_k}(0) = \\frac{1}{2} (45~\\mathrm{N\\cdot m/rad}) (0.12~\\mathrm{rad})^2 = \\frac{1}{2} (45) (0.0144)~\\mathrm{J} = 0.324~\\mathrm{J}$$\n\n4.  **Total Stored Energy**: The total energy at $t=0$ is the sum of these three components.\n    $$H(0) = H_{I_L}(0) + H_{I_J}(0) + H_{C_k}(0)$$\n    $$H(0) = 0.0375~\\mathrm{J} + 45~\\mathrm{J} + 0.324~\\mathrm{J} = 45.3615~\\mathrm{J}$$\n\nRounding the final answer to four significant figures gives $45.36~\\mathrm{J}$.",
            "answer": "$$\\boxed{45.36}$$"
        },
        {
            "introduction": "A key benefit of the bond graph methodology is its ability to diagnose ill-posed models through causality assignment. This exercise presents a system with a causality conflict, where two energy storage elements have a dependent relationship that prevents the formulation of a standard state-space model. You will learn to identify this conflict and then resolve it by introducing a parasitic resistance, a technique that reflects physical reality and makes the model mathematically well-posed. ",
            "id": "4204452",
            "problem": "Consider an electrical subnetwork within a cyber-physical system intended for use in a Digital Twin. The subnetwork is represented by a bond graph with a $0$-junction (common effort, parallel connection) driven by an ideal Source of Effort $Se$ imposing an effort $e_{s}(t)$ across the junction. Two energy storage elements, a capacitance $C_{1}$ and a capacitance $C_{2}$, are initially connected directly to the $0$-junction in parallel. The effort $e(t)$ at the $0$-junction equals the source effort $e_{s}(t)$. The task is to perform causality assignment and analyze the network from first principles, then resolve any causality inconsistencies by introducing a resistive element.\n\nUse the following foundational laws and definitions:\n- Kirchhoff’s Current Law (KCL): At a $0$-junction, the algebraic sum of flows equals zero.\n- Kirchhoff’s Voltage Law (KVL): At a $1$-junction, the algebraic sum of efforts equals zero.\n- Ideal Source of Effort: The effort $e$ at its bond is imposed to equal the source value, while the flow is determined by the rest of the network.\n- Capacitor constitutive law: In the time domain, $i(t) = C \\, \\frac{dv(t)}{dt}$; under integral causality, $v(t) = \\frac{1}{C} q(t)$ and $\\dot{q}(t) = i(t)$.\n- Resistor constitutive law: $v(t) = R \\, i(t)$.\n- Laplace transformation for linear time-invariant analysis with zero initial conditions, using $s$ as the Laplace variable.\n\nTasks:\n1. Perform causality assignment for the original parallel network consisting of the $Se$, $C_{1}$, and $C_{2}$ connected to a $0$-junction. Identify any causality conflicts or derivative-causality requirements that arise for the storage elements and explain why they occur, using bond graph causality rules and the above foundational laws.\n2. Modify the network by placing a resistor $R$ in series with the capacitor $C_{2}$ (i.e., the branch containing $C_{2}$ becomes a series connection of $R$ and $C_{2}$, represented by a $1$-junction connected as a branch to the original $0$-junction). Perform causality assignment for the modified network and justify how the resistor $R$ alleviates the causality inconsistency by enabling integral causality on at least one storage element.\n3. For the modified network, derive the input admittance $Y(s) = \\frac{I_{s}(s)}{E_{s}(s)}$ seen by the Source of Effort, where $I_{s}(s)$ is the Laplace transform of the source flow and $E_{s}(s)$ is the Laplace transform of the source effort. Express your final answer as a closed-form analytic expression in terms of $s$, $R$, $C_{1}$, and $C_{2}$. The admittance has units of siemens; provide the final expression without units.",
            "solution": "The problem statement submitted for analysis is first subjected to a rigorous validation process.\n\n### Step 1: Extract Givens\n- **System**: An electrical subnetwork within a cyber-physical system, represented by a bond graph.\n- **Initial Configuration**: A $0$-junction (common effort) driven by an ideal Source of Effort, $Se$, which imposes effort $e_s(t)$. Two capacitors, $C_1$ and $C_2$, are connected in parallel to this $0$-junction. The effort at the junction is $e(t) = e_s(t)$.\n- **Modified Configuration**: A resistor $R$ is placed in series with capacitor $C_2$. This $R-C_2$ branch is connected to the original $0$-junction.\n- **Foundational Laws and Definitions**:\n    - KCL at a $0$-junction: $\\sum f_i = 0$.\n    - KVL at a $1$-junction: $\\sum e_i = 0$.\n    - Ideal Source of Effort ($Se$): Imposes effort $e$; flow $f$ is determined by the connected system.\n    - Capacitor ($C$): $i(t) = C \\frac{dv(t)}{dt}$. In integral causality, $v(t) = \\frac{1}{C} q(t)$ where $\\dot{q}(t) = i(t)$. (Note: in bond graph terminology, effort $e$ corresponds to voltage $v$, flow $f$ corresponds to current $i$, and generalized displacement $q$ corresponds to charge.)\n    - Resistor ($R$): $v(t) = R i(t)$.\n    - Analysis Method: Laplace transformation using variable $s$, assuming zero initial conditions.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is assessed against the validation criteria.\n- **Scientifically Grounded**: The problem is based entirely on the principles of linear circuit theory and bond graph modeling, which are established frameworks for analyzing dynamic systems. All concepts (effort, flow, causality, impedance) are standard in physics and engineering. The problem is scientifically sound.\n- **Well-Posed**: The problem is structured as a pedagogical exercise. It first presents a system with a known modeling issue (causal conflict) and asks for its identification (Task 1). It then proposes a standard method for resolving this issue (Task 2) and asks for an analysis of the corrected system (Task 3). This structure is logical and leads to a unique, meaningful solution for the final analysis.\n- **Objective**: The problem statement uses precise, unambiguous technical language. There are no subjective or opinion-based assertions.\n\n### Step 3: Verdict and Action\nThe problem is scientifically sound, well-posed, objective, and complete. It is therefore deemed **valid**. The solution process will now proceed.\n\n### Task 1: Causality Assignment on the Original Network\n\nThe original network consists of a source of effort $Se$ connected to a $0$-junction, with two capacitors $C_1$ and $C_2$ also connected to this junction. The bond graph is $Se - 0 - (C_1, C_2)$. Causality assignment proceeds as follows:\n\n1.  An ideal Source of Effort ($Se$) dictates the effort on the bond it is connected to. Therefore, it imposes its effort on the $0$-junction. The causal stroke is placed at the junction end of the bond: $Se \\to | 0$.\n2.  A $0$-junction has exactly one bond that determines its effort. All other connected bonds must have their effort determined *by* the junction. Since the effort is set by $Se$, the $0$-junction now imposes this effort, $e_s(t)$, on both capacitors $C_1$ and $C_2$. This means the causal strokes for the capacitor bonds must be placed away from the junction and towards the capacitors: $0 \\to | C_1$ and $0 \\to | C_2$.\n3.  For a storage element like a capacitor, its preferred causality is **integral causality**. In this form, the capacitor accepts a flow ($f$) input, integrates it over time to determine its state variable (charge, $q(t) = \\int f(t) dt$), and outputs an effort ($e(t) = q(t)/C$). This corresponds to the causal stroke being at the capacitor: $... \\to | C$.\n4.  The alternative is **derivative causality**, where the capacitor accepts an effort ($e$) input and outputs a flow ($f(t) = C \\frac{de(t)}{dt}$). This corresponds to the causal stroke being away from the capacitor: $... | \\leftarrow C$.\n\nIn the given configuration, the causality assignment from step 2 ($0 \\to | C_1$ and $0 \\to | C_2$) forces both capacitors $C_1$ and $C_2$ into **derivative causality**. This presents a causality conflict. For a system to be formulated in a standard state-space form, its energy storage elements must be in integral causality, as their state variables (e.g., charge on a capacitor) must be independent. Here, the efforts across both capacitors are constrained to be identical and equal to the source effort: $e_{C1}(t) = e_{C2}(t) = e_s(t)$. This creates an algebraic dependency between the state variables, which violates the requirements for a proper state-space model. The system is ill-posed from a state-space perspective.\n\n### Task 2: Causality Assignment on the Modified Network\n\nThe network is modified by placing a resistor $R$ in series with $C_2$. This series branch is then connected to the $0$-junction. The bond graph structure is now $Se - 0 - (C_1, 1 - (R, C_2))$, where the $1$-junction represents the series connection of $R$ and $C_2$.\n\n1.  As before, the source $Se$ imposes its effort on the $0$-junction: $Se \\to | 0$.\n2.  The $0$-junction imposes its effort, $e_s(t)$, on the other two connected bonds:\n    - For the capacitor $C_1$: $0 \\to | C_1$. This forces $C_1$ into **derivative causality**, which is an unavoidable consequence of it being directly in parallel with an ideal effort source.\n    - For the series branch: $0 \\to | 1$. The $0$-junction imposes effort $e_s(t)$ on the $1$-junction, which represents the total effort across the $R-C_2$ series combination.\n3.  Now, we analyze the $1$-junction. It has three bonds: one from the $0$-junction, one to $R$, and one to $C_2$. A $1$-junction represents a common flow and a summation of efforts ($e_{01} - e_R - e_{C2} = 0$). We know $e_{01} = e_s(t)$. So, $e_s(t) = e_R(t) + e_{C2}(t)$. To resolve the original conflict, we attempt to place $C_2$ in its preferred integral causality.\n4.  Assigning integral causality to $C_2$ means it accepts a flow input and outputs an effort. The bond graph causality is $1 \\to | C_2$. With this assignment, $C_2$ computes its effort $e_{C2}$ based on its internal state (charge).\n5.  At the $1$-junction, the efforts must sum. We know $e_s$ (from the $0$-junction) and $e_{C2}$ (from $C_2$). The junction can therefore compute the effort across the resistor: $e_R(t) = e_s(t) - e_{C2}(t)$. This means the junction imposes effort on the resistor $R$. The causality is thus $1 | \\leftarrow R$.\n6.  A resistor in this causality ($e$ in, $f$ out) computes its flow as $f_R = e_R / R$.\n7.  A $1$-junction must have a single element that determines the flow for the entire junction. In this causal assignment, the resistor $R$ computes the flow, $f_R$, which then becomes the common flow for the $1$-junction. This common flow is then imposed on $C_2$. This is consistent with the assignment $1 \\to | C_2$, where $C_2$ accepts a flow.\n\nThe causality is now fully assigned and consistent. The resistor $R$ alleviates the causality conflict by \"breaking\" the rigid effort constraint on $C_2$. The effort across $C_2$ is no longer forced to be $e_s(t)$; instead, $e_{C2}(t) = e_s(t) - e_R(t)$. This degree of freedom allows $C_2$ to be in integral causality, making its charge an independent state variable. While $C_1$ remains in derivative causality, the system now has one independent state variable ($q_2$ on $C_2$) and is well-posed for state-space analysis.\n\n### Task 3: Derivation of Input Admittance for the Modified Network\n\nWe need to find the input admittance $Y(s) = \\frac{I_s(s)}{E_s(s)}$ for the modified network. The total current from the source, $I_s(s)$, splits into two parallel branches at the $0$-junction. The total admittance is the sum of the admittances of the parallel branches.\n\nThe first branch contains only the capacitor $C_1$. The constitutive law for a capacitor in the Laplace domain is $I(s) = s C E(s)$. Therefore, its admittance $Y_{C1}(s)$ is:\n$$ Y_{C1}(s) = \\frac{I_{C1}(s)}{E_s(s)} = s C_1 $$\n\nThe second branch is a series combination of the resistor $R$ and the capacitor $C_2$. The total impedance of a series branch is the sum of the individual impedances.\nThe impedance of the resistor $R$ is $Z_R(s) = R$.\nThe impedance of the capacitor $C_2$ is $Z_{C2}(s) = \\frac{1}{s C_2}$.\n\nThe impedance of the series branch, $Z_{branch}(s)$, is:\n$$ Z_{branch}(s) = Z_R(s) + Z_{C2}(s) = R + \\frac{1}{s C_2} = \\frac{s R C_2 + 1}{s C_2} $$\n\nThe admittance of this branch, $Y_{branch}(s)$, is the reciprocal of its impedance:\n$$ Y_{branch}(s) = \\frac{1}{Z_{branch}(s)} = \\frac{s C_2}{s R C_2 + 1} $$\n\nThe total input admittance $Y(s)$ seen by the source is the sum of the admittances of the two parallel branches:\n$$ Y(s) = Y_{C1}(s) + Y_{branch}(s) = s C_1 + \\frac{s C_2}{s R C_2 + 1} $$\n\nTo express this as a single rational function, we find a common denominator:\n$$ Y(s) = \\frac{s C_1 (s R C_2 + 1)}{s R C_2 + 1} + \\frac{s C_2}{s R C_2 + 1} $$\n$$ Y(s) = \\frac{s C_1 (s R C_2 + 1) + s C_2}{s R C_2 + 1} $$\n$$ Y(s) = \\frac{s^{2} R C_1 C_2 + s C_1 + s C_2}{s R C_2 + 1} $$\n\nFinally, factoring the numerator gives the closed-form analytic expression:\n$$ Y(s) = \\frac{s^{2} R C_1 C_2 + s(C_1 + C_2)}{s R C_2 + 1} $$",
            "answer": "$$\\boxed{\\frac{s^2 R C_1 C_2 + s(C_1 + C_2)}{s R C_2 + 1}}$$"
        }
    ]
}