{
    "hands_on_practices": [
        {
            "introduction": "在数字孪生和硬件在环 (HIL) 仿真中，确保实时求解器的稳定性是首要挑战。与离线仿真不同，实时应用要求在固定的时间步长内完成计算，这使得数值积分方法的选择和参数设定至关重要。本练习将通过分析一个简化的 V2G 逆变器模型，帮助你掌握判断显式积分方法稳定性的核心原理，并计算出保证仿真稳定运行的最大允许步长 。",
            "id": "4212990",
            "problem": "一家电力聚合商正在一个实时硬件在环（HIL）测试平台上，使用数字孪生来验证一个用于需求响应的车网互动（V2G）控制器。该控制器与一个连接到 $50\\,\\mathrm{Hz}$ 配电馈线的逆变器进行交互。在一个标称工作点附近，逆变器-电网耦合在同步参考坐标系中的聚合小信号动态特性，可以由一个线性时不变模型 $\\dot{x}(t) = A x(t)$ 很好地近似，其中\n\n$$\nA = \\begin{pmatrix}\n-50  -314 \\\\\n314  -50\n\\end{pmatrix}\\,\\mathrm{s}^{-1}。\n$$\n\nHIL 实时求解器目前使用显式前向欧拉积分器。信息物理约束要求，在固定步长积分下，离散时间闭环仿真必须保持渐近稳定。\n\n在信息物理协同仿真的背景下，解释对于带有 V2G 控制器的实时硬件在环（HIL）测试，固定步长积分和可变步长积分之间的区别。然后，从线性系统在显式前向欧拉离散化下的离散时间稳定性基本原理出发，推导积分步长 $h$ 必须满足的条件，以使离散化后的动态保持渐近稳定，并计算给定矩阵 $A$ 的最大允许固定步长 $h_{\\max}$。将最终数值结果四舍五入至四位有效数字，并以 $\\mathrm{ms}$ 为单位表示。",
            "solution": "所述问题具有科学依据、提法得当、客观且完整。它描述了信息物理系统仿真中的一个标准问题，具体而言，是应用于代表电力电子接口的线性时不变（LTI）系统的数值积分方法的稳定性分析。所提供的数据是一致的，并且足以得到唯一解。因此，该问题是有效的。\n\n该问题包括两部分：定性解释和定量推导。\n\n第1部分：实时硬件在环（HIL）中固定步长积分与可变步长积分的区别\n\n在 V2G 控制器的 HIL 仿真背景下，电网的数字孪生必须与实时时钟和被测物理硬件（控制器）同步执行。这施加了严格的“实时约束”：仿真必须在预定的时间预算内完成每个计算周期。\n\n固定步长积分在整个仿真过程中使用一个恒定的时间步长 $h$。因此，数值求解器的每一步都需要可预测的、几乎恒定的计算时间。这种确定性对于 HIL 应用至关重要。它确保仿真能够在实时时钟的每个节拍为控制器可靠地产生输出，防止数据上溢或下溢，并保持信息（仿真）和物理（控制器）组件之间的同步。虽然固定步长求解器的效率可能较低——即使在动态缓慢的时期也需要小步长，以确保在快速暂态期间的稳定性和准确性——但其时间上的可预测性对于实时操作是不可或缺的。\n\n相比之下，可变步长积分根据每一步的局部误差估计动态调整时间步长 $h$。当系统状态变化迅速时，减小步长以保持准确性；当系统处于静止状态时，增大步长以提高计算速度。这使得可变步长求解器对于离线（非实时）仿真非常高效。然而，正是这一特性使其不适用于 HIL。每一步的计算量不是恒定的；一个复杂的暂态可能迫使求解器采取许多小的、计算密集型的步骤，导致该周期的执行时间超出实时截止时间。这种确定性的丧失会破坏与硬件的实时同步，使 HIL 测试无效。因此，对于 V2G 系统的稳健 HIL 协同仿真，固定步长积分器是必需的选择。\n\n第2部分：最大允许固定步长 $h_{\\max}$ 的推导\n\n系统的小信号动态由连续时间 LTI 模型描述：\n$$\n\\dot{x}(t) = A x(t)\n$$\n其中状态矩阵为 $A = \\begin{pmatrix} -50  -314 \\\\ 314  -50 \\end{pmatrix}\\,\\mathrm{s}^{-1}$。\n\nHIL 求解器使用显式前向欧拉积分器。该微分方程的前向欧拉离散化是通过用前向差分近似导数 $\\dot{x}(t)$ 得到的：\n$$\n\\frac{x(t+h) - x(t)}{h} \\approx A x(t)\n$$\n令 $x_k = x(kh)$，其中 $k$ 是整数索引，$h$ 是固定积分步长。离散时间表示变为：\n$$\n\\frac{x_{k+1} - x_k}{h} = A x_k\n$$\n重新整理此方程可得离散时间状态空间模型：\n$$\nx_{k+1} = x_k + h A x_k = (I + hA) x_k\n$$\n这是一个形式为 $x_{k+1} = A_d x_k$ 的离散时间 LTI 系统，其中离散时间状态转移矩阵为 $A_d = I + hA$。\n\n为使该离散时间系统渐近稳定，其状态矩阵 $A_d$ 的所有特征值必须严格位于复平面中的单位圆内。也就是说，对于 $A_d$ 的每一个特征值 $\\lambda_d$，必须满足 $|\\lambda_d|  1$。\n\n$A_d = I + hA$ 的特征值与连续时间矩阵 $A$ 的特征值相关。如果 $\\lambda_A$ 是 $A$ 的一个特征值，则 $A_d$ 对应的特征值为 $\\lambda_d = 1 + h\\lambda_A$。因此，离散化系统的稳定性条件为：\n$$\n|1 + h\\lambda_A|  1\n$$\n对矩阵 $A$ 的所有特征值 $\\lambda_A$ 均成立。\n\n首先，我们必须求出 $A$ 的特征值。它们是特征方程 $\\det(A - \\lambda_A I) = 0$ 的根。\n$$\n\\det \\begin{pmatrix} -50 - \\lambda_A  -314 \\\\ 314  -50 - \\lambda_A \\end{pmatrix} = 0\n$$\n$$\n(-50 - \\lambda_A)^2 - (314)(-314) = 0\n$$\n$$\n(50 + \\lambda_A)^2 + 314^2 = 0\n$$\n$$\n(50 + \\lambda_A)^2 = -314^2\n$$\n对两边开平方，其中 $j = \\sqrt{-1}$：\n$$\n50 + \\lambda_A = \\pm j 314\n$$\n$$\n\\lambda_A = -50 \\pm j 314\n$$\n特征值是一对共轭复数：$\\lambda_{A,1} = -50 + j 314$ 和 $\\lambda_{A,2} = -50 - j 314$。两个特征值的实部均为 $-50  0$，这证实了原始连续时间系统是渐近稳定的。\n\n现在，我们应用稳定性条件。由于对于两个共轭复数特征值，其模 $|1 + h\\lambda_A|$ 是相同的，我们只需要测试其中一个。我们使用 $\\lambda_A = -50 + j 314$。\n$$\n|1 + h(-50 + j 314)|  1\n$$\n$$\n|(1 - 50h) + j(314h)|  1\n$$\n复数 $z = a+jb$ 的模为 $|z| = \\sqrt{a^2 + b^2}$。对不等式两边平方可得：\n$$\n(1 - 50h)^2 + (314h)^2  1^2\n$$\n$$\n1 - 100h + (50)^2 h^2 + (314)^2 h^2  1\n$$\n$$\n1 - 100h + 2500 h^2 + 98596 h^2  1\n$$\n$$\n1 - 100h + 101096 h^2  1\n$$\n两边减去 $1$ 可得：\n$$\n-100h + 101096 h^2  0\n$$\n由于 $h$ 必须是正的时间步长（$h>0$），我们可以用 $h$ 除该不等式，而不用改变其方向：\n$$\n-100 + 101096 h  0\n$$\n$$\n101096 h  100\n$$\n$$\nh  \\frac{100}{101096}\n$$\n这就给出了步长 $h$ 必须满足的条件。最大允许步长 $h_{\\max}$ 是此条件边界上的值：\n$$\nh_{\\max} = \\frac{100}{101096} \\,\\mathrm{s}\n$$\n现在，我们计算数值：\n$$\nh_{\\max} \\approx 0.0009891588 \\,\\mathrm{s}\n$$\n题目要求答案以毫秒（$\\mathrm{ms}$）为单位，并四舍五入至四位有效数字。\n$$\n1 \\,\\mathrm{s} = 1000 \\,\\mathrm{ms}\n$$\n$$\nh_{\\max} \\approx 0.0009891588 \\times 1000 \\,\\mathrm{ms} = 0.9891588 \\,\\mathrm{ms}\n$$\n四舍五入至四位有效数字可得：\n$$\nh_{\\max} \\approx 0.9892 \\,\\mathrm{ms}\n$$",
            "answer": "$$\n\\boxed{0.9892}\n$$"
        },
        {
            "introduction": "在数字孪生成功运行的基础上，评估其状态估计的准确性是关键的下一步。实际的控制系统不仅受制于连续世界的物理定律，还受到离散化和量化等数字化过程引入的误差影响。本练习要求你为 V2G 应用中的一个状态观测器推导其在模型失配和测量量化下的最差情况误差界限 ，从而让你深入理解数字实现对系统性能的具体影响。",
            "id": "4212981",
            "problem": "一个系统运营商使用一个聚合电动汽车 (EV) 车队的数字孪生 (DT)，该车队通过车辆到电网 (V2G) 服务参与电网的需求响应。该 DT 估算车队平均荷电状态 (SoC) 与电网请求目标之间的偏差。设连续时间线性化偏差动态由状态变量 $x(t)$ 建模，其遵循以下方程\n$$\n\\dot{x}(t) = a\\,x(t) + b\\,u(t), \\quad y(t) = x(t),\n$$\n其中 $u(t)$ 是调度员指令的归一化聚合 V2G 控制输入（在采样间隔内为分段常数），$y(t)$ 是通过车载信息系统测量的 SoC 偏差。物理边界为对所有 $t$ 都有 $|x(t)| \\leq X_{\\max}$ 和 $|u(t)| \\leq U_{\\max}$。\n\n数字孪生以采样周期 $h$ 运行，并使用一个带有量化车载信息测量校正的前向欧拉观测器：\n$$\n\\hat{x}_{k+1} = \\hat{x}_{k} + h\\left(a\\,\\hat{x}_{k} + b\\,u_{k}\\right) + L\\left(y_{q,k} - \\hat{x}_{k}\\right),\n$$\n其中 $y_{q,k}$ 是在第 $k$ 个采样时刻对 $y$ 的量化测量，采用步长为 $\\Delta$ 的中置均匀量化器，因此 $y_{q,k} = y_{k} + q_{k}$，其中 $q_{k} \\in \\left[-\\frac{\\Delta}{2},\\,\\frac{\\Delta}{2}\\right]$。假设 $u(t)$ 在 $[kh,(k+1)h)$ 上为零阶保持。\n\n从连续时间系统的精确零阶保持离散化出发，推导当 $k \\to \\infty$ 时观测器估计误差 $|e_{k}| = |x_{k} - \\hat{x}_{k}|$ 的稳态最坏情况上界，用 $h$, $\\Delta$, $L$, $a$, $b$, $X_{\\max}$ 和 $U_{\\max}$ 表示。您可以将量化误差视为有界加性扰动，将前向欧拉模型失配视为由精确离散系统与欧拉预测器之间差异产生的有界外生项。\n\n然后，使用以下参数值\n$$\na = -1,\\quad b = 1,\\quad h = \\frac{1}{60},\\quad \\Delta = 10^{-3},\\quad L = 0.98,\\quad X_{\\max} = 1,\\quad U_{\\max} = 0.5,\n$$\n计算您的稳态最坏情况上界的数值。将您的答案四舍五入到四位有效数字。将最终界限表示为一个纯数（无单位）。",
            "solution": "用户希望我解决这个问题。\n我已验证该问题并且它是有效的。\n我现在将进行解答。\n\n该问题是有效的。这是一个控制与估计理论中适定的问题，具体涉及信息物理系统的状态观测器误差分析。所有参数和模型都定义清晰，前提条件在科学上是合理的。\n\n解题过程分为以下几个步骤：\n1.  推导连续时间系统的精确零阶保持 (ZOH) 离散化。\n2.  建立估计误差 $e_k = x_k - \\hat{x}_k$ 的动态方程。\n3.  识别并界定驱动误差的外生扰动项，这些扰动项源于模型失配和测量量化。\n4.  基于稳定的误差动态，推导误差幅值的最坏情况稳态上界。\n5.  代入给定的数值计算最终的界限。\n\n**1. 系统的精确离散化**\n连续时间系统由以下线性时不变 (LTI) 系统描述：\n$$\n\\dot{x}(t) = a\\,x(t) + b\\,u(t)\n$$\n控制输入 $u(t)$ 是分段常数，$u(t) = u_k$ 对 $t \\in [kh, (k+1)h)$ 成立。状态空间方程在一个采样间隔内（从 $t=kh$ 到 $t=(k+1)h$）的解由下式给出：\n$$\nx((k+1)h) = \\exp(ah)x(kh) + \\int_{kh}^{(k+1)h} \\exp(a((k+1)h - \\tau))b\\,u_k\\,d\\tau\n$$\n记 $x_k = x(kh)$，我们可以计算该积分：\n$$\n\\int_{0}^{h} \\exp(as)b\\,u_k\\,ds = b\\,u_k \\left[\\frac{\\exp(as)}{a}\\right]_0^h = \\frac{b}{a}(\\exp(ah)-1)u_k\n$$\n因此，精确的离散时间模型为：\n$$\nx_{k+1} = A_d x_k + B_d u_k\n$$\n其中 $A_d = \\exp(ah)$ 且 $B_d = \\frac{b}{a}(\\exp(ah)-1)$。\n\n**2. 估计误差动态**\n估计误差定义为 $e_k = x_k - \\hat{x}_k$。误差的动态为 $e_{k+1} = x_{k+1} - \\hat{x}_{k+1}$。\n观测器模型给出如下：\n$$\n\\hat{x}_{k+1} = \\hat{x}_{k} + h(a\\,\\hat{x}_{k} + b\\,u_{k}) + L(y_{q,k} - \\hat{x}_{k})\n$$\n我们可以将其重写为：\n$$\n\\hat{x}_{k+1} = (1+ah-L)\\hat{x}_k + hb\\,u_k + L\\,y_{q,k}\n$$\n量化测量为 $y_{q,k} = y_k + q_k = x_k + q_k$，其中 $|q_k| \\le \\frac{\\Delta}{2}$。将其代入观测器方程：\n$$\n\\hat{x}_{k+1} = (1+ah-L)\\hat{x}_k + hb\\,u_k + L(x_k + q_k)\n$$\n现在我们写出 $e_{k+1}$ 的表达式：\n$$\ne_{k+1} = (A_d x_k + B_d u_k) - \\left( (1+ah-L)\\hat{x}_k + hb\\,u_k + Lx_k + Lq_k \\right)\n$$\n为了得到一个关于 $e_k$ 的方程，我们代入 $\\hat{x}_k = x_k - e_k$：\n$$\ne_{k+1} = (A_d x_k + B_d u_k) - \\left( (1+ah-L)(x_k - e_k) + hb\\,u_k + Lx_k + Lq_k \\right)\n$$\n$$\ne_{k+1} = (1+ah-L)e_k + (A_d - (1+ah-L) - L)x_k + (B_d - hb)u_k - Lq_k\n$$\n简化 $x_k$ 的系数：\n$$\ne_{k+1} = (1+ah-L)e_k + (A_d - 1 - ah)x_k + (B_d - hb)u_k - Lq_k\n$$\n这是一个关于误差 $e_k$ 的线性系统，形式为 $e_{k+1} = A_e e_k + w_k$，其中误差系统矩阵为 $A_e = 1+ah-L$，外生输入 $w_k$ 为：\n$$\nw_k = \\underbrace{(A_d - 1 - ah)x_k + (B_d - hb)u_k}_{\\text{模型失配}} - \\underbrace{Lq_k}_{\\text{量化误差}}\n$$\n\n**3. 界定外生输入**\n为了找到最坏情况误差，我们必须找到 $|w_k|$ 的一个上界 $W$。使用三角不等式：\n$$\n|w_k| \\le |A_d - 1 - ah|\\,|x_k| + |B_d - hb|\\,|u_k| + |L|\\,|q_k|\n$$\n问题陈述 $|x(t)| \\le X_{\\max}$ 和 $|u(t)| \\le U_{\\max}$。这意味着 $|x_k| \\le X_{\\max}$ 和 $|u_k| \\le U_{\\max}$。我们还已知 $|q_k| \\le \\frac{\\Delta}{2}$。\n代入这些界限，我们得到：\n$$\n|w_k| \\le W = |\\exp(ah) - 1 - ah|\\,X_{\\max} + \\left|\\frac{b}{a}(\\exp(ah)-1) - hb\\right|\\,U_{\\max} + |L|\\frac{\\Delta}{2}\n$$\n\n**4. 稳态误差界**\n误差动态由递归式 $|e_{k+1}| \\le |A_e|\\,|e_k| + W$ 描述。为使观测器误差有界，误差动态必须是稳定的，这要求 $|A_e| = |1+ah-L|  1$。如果此条件成立，当 $k \\to \\infty$ 时，初始误差的贡献消失，误差幅值 $|e_k|$ 达到一个由持续扰动 $W$ 决定的稳态界。这个界 $E_{\\infty}$ 是该递归式的不动点：\n$$\nE_{\\infty} = |A_e|E_{\\infty} + W\n$$\n求解 $E_{\\infty}$，我们得到最坏情况稳态误差界：\n$$\nE_{\\infty} = \\frac{W}{1-|A_e|} = \\frac{|\\exp(ah) - 1 - ah|\\,X_{\\max} + \\left|\\frac{b}{a}(\\exp(ah)-1) - hb\\right|\\,U_{\\max} + |L|\\frac{\\Delta}{2}}{1-|1+ah-L|}\n$$\n\n**5. 数值计算**\n我们代入给定的参数值：\n$a = -1$, $b = 1$, $h = \\frac{1}{60}$, $\\Delta = 10^{-3}$, $L = 0.98$, $X_{\\max} = 1$, $U_{\\max} = 0.5$.\n\n首先，计算分母中的项 $|A_e|$：\n$$\nA_e = 1+ah-L = 1 + (-1)\\left(\\frac{1}{60}\\right) - 0.98 = 0.02 - \\frac{1}{60} = \\frac{1}{50} - \\frac{1}{60} = \\frac{6-5}{300} = \\frac{1}{300}\n$$\n所以 $|A_e| = \\frac{1}{300}  1$，确认了稳定性。分母是 $1-|A_e| = 1 - \\frac{1}{300} = \\frac{299}{300}$。\n\n接下来，计算分子中的项 $W$：\n乘积 $ah = (-1)(\\frac{1}{60}) = -\\frac{1}{60}$。\n项 $(\\exp(ah)-1-ah)$ 和 $(\\frac{b}{a}(\\exp(ah)-1)-hb)$ 代表了前向欧拉近似的误差。\n对于第一项的系数：\n$$\n|\\exp(-1/60) - 1 - (-1/60)| = |\\exp(-1/60) - 59/60|\n$$\n因为对于任何 $x \\neq 0$，都有 $\\exp(x) > 1+x$，对于 $x=-1/60$，我们有 $\\exp(-1/60) > 1-1/60 = 59/60$。绝对值内的表达式是正的。\n$X_{\\max}$ 的系数：$\\exp(-1/60) - 59/60 \\approx 0.9834714655 - 0.9833333333 \\approx 1.38132 \\times 10^{-4}$。\n\n对于第二项的系数：\n$$\n\\left|\\frac{1}{-1}(\\exp(-1/60)-1) - \\frac{1}{60}(1)\\right| = |1 - \\exp(-1/60) - 1/60| = |\\frac{59}{60} - \\exp(-1/60)|\n$$\n这与之前的值相同。\n$U_{\\max}$ 的系数：$\\exp(-1/60) - 59/60 \\approx 1.38132 \\times 10^{-4}$。\n\n界的模型失配分量是：\n$$\nW_m = (\\exp(-1/60) - 59/60)X_{\\max} + (\\exp(-1/60) - 59/60)U_{\\max}\n$$\n$$\nW_m = (\\exp(-1/60) - 59/60)(X_{\\max} + U_{\\max}) \\approx (1.38132 \\times 10^{-4})(1+0.5) = (1.38132 \\times 10^{-4})(1.5) \\approx 2.07198 \\times 10^{-4}\n$$\n界的量化误差分量是：\n$$\nW_q = |L|\\frac{\\Delta}{2} = |0.98|\\frac{10^{-3}}{2} = 0.98 \\times 0.0005 = 4.9 \\times 10^{-4}\n$$\n扰动的总界是：\n$$\nW = W_m + W_q \\approx 2.07198 \\times 10^{-4} + 4.9 \\times 10^{-4} = 6.97198 \\times 10^{-4}\n$$\n最后，我们计算稳态误差界 $E_{\\infty}$：\n$$\nE_{\\infty} = \\frac{W}{1-|A_e|} \\approx \\frac{6.97198 \\times 10^{-4}}{299/300} = \\frac{(6.97198 \\times 10^{-4}) \\times 300}{299} \\approx \\frac{2.091594 \\times 10^{-1}}{299} \\approx 6.9953 \\times 10^{-4}\n$$\n四舍五入到四位有效数字，我们得到 $0.0006995$。",
            "answer": "$$\n\\boxed{0.0006995}\n$$"
        },
        {
            "introduction": "构建了稳定且精确的数字孪生模型后，如何经济高效地部署和运行这些计算任务成为一个系统级优化问题。现代 V2G 系统通常采用车载、边缘和云端协同的分布式计算架构，在延迟、能耗和成本之间进行权衡。本练习将此部署决策构建为一个带约束的二次规划问题 ，旨在训练你使用数学优化工具来解决复杂的网络物理系统资源分配问题。",
            "id": "4212996",
            "problem": "一个电动汽车车队聚合器在一个信息物理系统内运行其车辆到电网 (V2G) 协调机制的数字孪生 (DT)。在每个持续时间为 $\\Delta t$ 的决策间隔内，该DT必须执行一个模型预测控制步骤，其总计算需求为 $C$ 个机器周期，输入输出数据量为 $S$ 比特。计算任务可以划分到三类节点上：车载处理器、场站的边缘服务器和云服务。设分配给这些节点的工作负载比例分别为 $x_v$、$x_d$ 和 $x_c$，满足 $x_v + x_d + x_c = 1$ 且 $x_v, x_d, x_c \\ge 0$。\n\n在节点 $i \\in \\{v,d,c\\}$ 上执行比例为 $x_i$ 的任务所产生的延迟被建模为处理时间 $C x_i / f_i$ 加上卸载部分的通信时间 $S x_i / R_i$，其中 $f_i$ 是有效处理速率，$R_i$ 是与节点 $i$ 相关路径上的有效数据速率（对于车辆，取 $R_v = \\infty$）。能量消耗被建模为处理能耗 $C e_i x_i$ 加上当 $i \\in \\{d,c\\}$ 时的传输能耗 $S e_{tx,i} x_i$。货币成本被建模为每周期费用 $m_i C x_i$ 和每比特费用 $n_i S x_i$。DT编排器使用一个标量化目标函数，该函数通过正常数权重 $w_L$、$w_E$ 和 $w_M$ 来权衡延迟、能量和成本，并用一个凸惩罚项 $\\kappa_i x_i^2$ 来描述每个节点上的竞争/排队开销。总目标函数具有以下可分离的二次型形式\n$$\nJ(x_v,x_d,x_c) = \\sum_{i \\in \\{v,d,c\\}} \\left( g_i x_i + h_i x_i^2 \\right),\n$$\n其中，每个线性系数 $g_i$ 是单位比例的延迟、能量和货币成本贡献的加权和，每个 $h_i$ 是竞争惩罚系数。\n\n隐私策略要求至少比例为 $p_{\\mathrm{priv}}$ 的工作负载在数据主权节点（车辆或场站）上处理，即 $x_v + x_d \\ge p_{\\mathrm{priv}}$。带宽约束要求卸载的部分在决策间隔内不超过可用的上行链路容量，即\n$$\nx_d \\le \\frac{B_d \\Delta t}{S}, \\quad x_c \\le \\frac{B_c \\Delta t}{S},\n$$\n其中 $B_d$ 和 $B_c$ 分别是到场站和到云端的可用总上行速率。\n\n在一个特定的间隔内，经校准的性能分析得出以下系数：\n- $h_v = 2$, $h_d = 3$, $h_c = 4$,\n- $g_v = 1.2$, $g_d = 1.0$, $g_c = 0.6$.\n\n策略和网络参数如下：\n- $p_{\\mathrm{priv}} = 0.7$,\n- $S = 100$ megabits, $\\Delta t = 0.5$ seconds,\n- $B_d = 70$ megabits per second, $B_c = 80$ megabits per second.\n\n在这些条件下，确定最优的云端计算比例 $x_c^{\\star}$，使得 $J(x_v,x_d,x_c)$ 在满足约束条件 $x_v + x_d + x_c = 1$, $x_v, x_d, x_c \\ge 0$, $x_v + x_d \\ge p_{\\mathrm{priv}}$, $x_d \\le \\frac{B_d \\Delta t}{S}$ 和 $x_c \\le \\frac{B_c \\Delta t}{S}$ 的情况下最小。将你的答案四舍五入到四位有效数字。以无量纲的比例形式表示你的答案。",
            "solution": "所述问题构成了一个有效的、适定的约束优化问题。所有给定的参数都是一致的，并且该问题基于信息物理系统工程中的一个现实应用场景。因此，我们可以进行正式求解。\n\n任务是找到最优的工作负载比例 $(x_v^{\\star}, x_d^{\\star}, x_c^{\\star})$，以在满足一组线性等式和不等式约束的条件下，最小化二次目标函数\n$$\nJ(x_v, x_d, x_c) = \\sum_{i \\in \\{v,d,c\\}} \\left( g_i x_i + h_i x_i^2 \\right)\n$$\n\n首先，我们将给定的数值系数代入目标函数：\n$$\nJ(x_v, x_d, x_c) = (1.2 x_v + 2 x_v^2) + (1.0 x_d + 3 x_d^2) + (0.6 x_c + 4 x_c^2)\n$$\n系数 $h_i$ 均为正数（$h_v=2$, $h_d=3$, $h_c=4$），这使得目标函数是严格凸的。可行域由一组线性约束定义，形成一个紧凸集（一个多胞体）。在一个紧凸集上最小化一个严格凸函数，保证存在唯一解。\n\n接下来，我们使用给定的参数来明确约束条件。\n主要约束是工作负载划分：\n$$\nx_v + x_d + x_c = 1 \\quad (1)\n$$\n以及非负性条件：\n$$\nx_v \\ge 0, \\quad x_d \\ge 0, \\quad x_c \\ge 0 \\quad (2)\n$$\n隐私约束由 $p_{\\mathrm{priv}} = 0.7$ 给出：\n$$\nx_v + x_d \\ge 0.7 \\quad (3)\n$$\n带宽约束取决于参数 $S = 100$ megabits, $\\Delta t = 0.5$ seconds, $B_d = 70$ Mb/s, and $B_c = 80$ Mb/s。 让我们计算 $x_d$ 和 $x_c$ 的上界：\n$$\nx_d \\le \\frac{B_d \\Delta t}{S} = \\frac{(70 \\text{ Mb/s}) \\times (0.5 \\text{ s})}{100 \\text{ Mb}} = \\frac{35}{100} = 0.35 \\quad (4)\n$$\n$$\nx_c \\le \\frac{B_c \\Delta t}{S} = \\frac{(80 \\text{ Mb/s}) \\times (0.5 \\text{ s})}{100 \\text{ Mb}} = \\frac{40}{100} = 0.40 \\quad (5)\n$$\n我们可以简化约束集。根据约束(1)，我们有 $x_v + x_d = 1 - x_c$。将其代入隐私约束(3)得到：\n$$\n1 - x_c \\ge 0.7 \\implies x_c \\le 0.3\n$$\n这个新的 $x_c$ 上界比带宽约束(5)施加的上界更紧，即 $0.3  0.40$。因此，作用于优化变量的有效约束集为：\n$$\n\\begin{cases}\nx_v + x_d + x_c = 1 \\\\\nx_v \\ge 0, \\quad x_d \\ge 0, \\quad x_c \\ge 0 \\\\\nx_d \\le 0.35 \\\\\nx_c \\le 0.3\n\\end{cases}\n$$\n\n这是一个二次规划问题。解决此类问题的标准方法是使用Karush-Kuhn-Tucker (KKT) 条件。一个更简单的方法是，首先仅在等式约束 $x_v + x_d + x_c = 1$ 的条件下，找到目标函数的无约束最小值。如果这个解也满足所有的不等式约束，那么它就是完整问题的最优解。\n\n让我们为该等式约束问题构造拉格朗日函数：\n$$\n\\mathcal{L}(x_v, x_d, x_c, \\lambda) = J(x_v, x_d, x_c) - \\lambda (x_v + x_d + x_c - 1)\n$$\n通过将 $\\mathcal{L}$ 关于每个 $x_i$ 的偏导数设为零，可以找到一阶最优性必要条件：\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial x_i} = g_i + 2 h_i x_i - \\lambda = 0, \\quad \\text{for } i \\in \\{v, d, c\\}\n$$\n这意味着在最优点，边际成本是相等的：\n$$\ng_v + 2 h_v x_v = g_d + 2 h_d x_d = g_c + 2 h_c x_c = \\lambda\n$$\n由此，我们可以用拉格朗日乘子 $\\lambda$ 来表示每个变量 $x_i$：\n$$\nx_v = \\frac{\\lambda - g_v}{2 h_v}, \\quad x_d = \\frac{\\lambda - g_d}{2 h_d}, \\quad x_c = \\frac{\\lambda - g_c}{2 h_c}\n$$\n将这些表达式代入等式约束 $x_v + x_d + x_c = 1$ 中：\n$$\n\\frac{\\lambda - g_v}{2 h_v} + \\frac{\\lambda - g_d}{2 h_d} + \\frac{\\lambda - g_c}{2 h_c} = 1\n$$\n我们可以求解 $\\lambda$：\n$$\n\\lambda \\left( \\frac{1}{2 h_v} + \\frac{1}{2 h_d} + \\frac{1}{2 h_c} \\right) = 1 + \\frac{g_v}{2 h_v} + \\frac{g_d}{2 h_d} + \\frac{g_c}{2 h_c}\n$$\n代入给定值：\n$$\n\\lambda \\left( \\frac{1}{2(2)} + \\frac{1}{2(3)} + \\frac{1}{2(4)} \\right) = 1 + \\frac{1.2}{2(2)} + \\frac{1.0}{2(3)} + \\frac{0.6}{2(4)}\n$$\n$$\n\\lambda \\left( \\frac{1}{4} + \\frac{1}{6} + \\frac{1}{8} \\right) = 1 + \\frac{1.2}{4} + \\frac{1.0}{6} + \\frac{0.6}{8}\n$$\n$$\n\\lambda \\left( \\frac{6+4+3}{24} \\right) = 1 + 0.3 + \\frac{1}{6} + 0.075\n$$\n$$\n\\lambda \\left( \\frac{13}{24} \\right) = 1.375 + \\frac{1}{6} = \\frac{11}{8} + \\frac{1}{6} = \\frac{33+4}{24} = \\frac{37}{24}\n$$\n$$\n\\lambda = \\frac{37}{24} \\cdot \\frac{24}{13} = \\frac{37}{13}\n$$\n现在我们可以计算 $x_v, x_d, x_c$ 的候选最优值：\n$$\nx_v^{\\star} = \\frac{\\frac{37}{13} - 1.2}{4} = \\frac{\\frac{37}{13} - \\frac{6}{5}}{4} = \\frac{\\frac{185 - 78}{65}}{4} = \\frac{107}{260}\n$$\n$$\nx_d^{\\star} = \\frac{\\frac{37}{13} - 1.0}{6} = \\frac{\\frac{37 - 13}{13}}{6} = \\frac{24}{13 \\times 6} = \\frac{4}{13} = \\frac{80}{260}\n$$\n$$\nx_c^{\\star} = \\frac{\\frac{37}{13} - 0.6}{8} = \\frac{\\frac{37}{13} - \\frac{3}{5}}{8} = \\frac{\\frac{185 - 39}{65}}{8} = \\frac{146}{65 \\times 8} = \\frac{146}{520} = \\frac{73}{260}\n$$\n作为验证，它们的和是 $x_v^{\\star} + x_d^{\\star} + x_c^{\\star} = \\frac{107+80+73}{260} = \\frac{260}{260} = 1$。等式约束得到满足。\n\n最后，我们必须验证该解是否满足所有的不等式约束：\n1. 非负性：$x_v^{\\star} = \\frac{107}{260} > 0$, $x_d^{\\star} = \\frac{80}{260} > 0$, $x_c^{\\star} = \\frac{73}{260} > 0$。均满足。\n2. 带宽/隐私约束：\n   - 对于 $x_d$：$x_d^{\\star} = \\frac{4}{13} \\approx 0.3077$。约束为 $x_d \\le 0.35$。由于 $0.3077  0.35$，此约束得到满足。\n   - 对于 $x_c$：$x_c^{\\star} = \\frac{73}{260} \\approx 0.2808$。有效约束为 $x_c \\le 0.3$。由于 $0.2808  0.3$，此约束得到满足。\n\n由于在超平面 $x_v+x_d+x_c=1$ 上的无约束最小值严格位于由不等式约束定义的可行域内，因此该点是完全约束问题的唯一全局最小值。\n\n题目要求的是最优云端计算比例 $x_c^{\\star}$，并四舍五入到四位有效数字。\n$$\nx_c^{\\star} = \\frac{73}{260} \\approx 0.28076923...\n$$\n四舍五入到四位有效数字得到 0.2808。",
            "answer": "$$\n\\boxed{0.2808}\n$$"
        }
    ]
}