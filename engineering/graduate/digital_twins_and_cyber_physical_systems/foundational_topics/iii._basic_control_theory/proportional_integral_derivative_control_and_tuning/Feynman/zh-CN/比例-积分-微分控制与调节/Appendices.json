{
    "hands_on_practices": [
        {
            "introduction": "PID 控制器参数的整定是控制工程中的一个核心挑战。在深入研究复杂的数字实现之前，掌握经典的经验整定方法至关重要。本练习将带你回顾 Ziegler-Nichols 闭环整定法，这是一种基于系统稳定性边界响应的基础启发式方法。通过这个实践 ()，你将学习如何通过诱导系统产生持续振荡来获取关键的系统特性——极限增益 $K_u$ 和极限周期 $P_u$，并利用它们为 PID 控制器计算出一组可靠的初始参数。",
            "id": "1622333",
            "problem": "一位工程师的任务是为制造厂中的一个热过程整定控制器。为了确定初始整定参数，该工程师采用了第一种 Ziegler-Nichols 方法（闭环法）。该过程被置于一个带有纯比例控制器的反馈回路中。工程师逐渐增加比例增益，直到系统的温度输出开始呈现持续、稳定的振荡。当增益（称为极限增益 $K_u$）设置为 $10.0$ 时，系统达到这个临界点。这些振荡的周期（称为极限周期 $P_u$）测量为 $3.0$ 秒。\n\n根据这些实验结果，计算标准非交互式比例-积分-微分（PID）控制器的整定参数。PID 控制器的传递函数形式为 $C(s) = K_p \\left(1 + \\frac{1}{T_i s} + T_d s\\right)$。\n\n确定比例增益 $K_p$、积分时间 $T_i$ 和微分时间 $T_d$ 的数值。以 $(K_p, T_i, T_d)$ 的顺序将你的最终答案表示为一组三个数。积分时间 $T_i$ 和微分时间 $T_d$ 必须以秒为单位表示。",
            "solution": "我们应用第一种 Ziegler-Nichols 闭环整定法则，来整定形式为 $C(s) = K_p\\left(1 + \\frac{1}{T_i s} + T_d s\\right)$ 的理想（非交互式）PID 控制器。对于这种形式，给定在纯比例控制下获得持续振荡时的极限增益 $K_u$ 和极限周期 $P_u$，整定公式为：\n$$\nK_p = 0.6 K_u, \\quad T_i = \\frac{P_u}{2}, \\quad T_d = \\frac{P_u}{8}.\n$$\n代入实验值 $K_u = 10.0$ 和 $P_u = 3.0$ s：\n$$\nK_p = 0.6 \\times 10.0 = 6.0,\n$$\n$$\nT_i = \\frac{3.0}{2} = 1.5 \\text{ s},\n$$\n$$\nT_d = \\frac{3.0}{8} = 0.375 \\text{ s}.\n$$\n因此，所需的整定参数按 $(K_p, T_i, T_d)$ 顺序为 $(6.0, 1.5, 0.375)$。",
            "answer": "$$\\boxed{\\begin{pmatrix} 6  1.5  0.375 \\end{pmatrix}}$$"
        },
        {
            "introduction": "从理论参数整定到实际系统部署，我们需要处理许多现实世界中的复杂问题。在工业应用和信息物理系统中，控制器在手动和自动模式之间的切换非常普遍。本练习将探讨“无扰动切换” (Bumpless Transfer)，这是一项关键技术，旨在防止控制信号在切换瞬间发生突变，从而避免对物理过程造成干扰或损害。通过这个实践 ()，你将学习如何通过正确初始化控制器（特别是积分项）的内部状态，来实现平稳的模式转换。",
            "id": "4237286",
            "problem": "一个使用数字孪生（DT）的网络物理系统（CPS）监控一个单输入单输出的设备。该设备一直以手动模式运行，其中执行器指令保持在一个恒定值。在时间 $t = 0$ 时，模式切换到自动控制，由一个并联形式的比例-积分-微分（PID）控制器管理，其微分作用由一阶低通滤波器进行滤波，定义为\n$$\nu(t) = K_p e(t) + I(t) + K_d v(t),\n$$\n其中 $e(t) = r(t) - y(t)$ 是设定值 $r(t)$ 和测量输出 $y(t)$ 之间的跟踪误差，$I(t)$ 是积分器对控制信号的贡献，而 $v(t)$ 是误差的滤波后导数，满足一阶滤波器方程\n$$\nT_f \\dot{v}(t) + v(t) = \\dot{e}(t).\n$$\n当控制器处于自动模式时，积分器的贡献由内部状态 $\\xi(t)$ 通过 $I(t) = K_i \\xi(t)$ 和 $\\dot{\\xi}(t) = e(t)$ 生成。在手动模式下，PID不驱动设备；然而，数字孪生（DT）提供了 $e(t)$ 和 $\\dot{e}(t)$ 的估计值。\n\n为避免在切换瞬间出现输出不连续，自动控制器的输出 $u(0^{+})$ 相对于切换前瞬间的手动指令 $u(0^{-})$ 不得引入跳变。根据第一性原理，计算在这种控制器结构下，$t=0$ 时发生无扰切换的条件，并利用这些条件设计积分器状态的初始化 $\\xi(0^{+})$，使得积分器的贡献 $I(0^{+})$ 能确保控制信号的连续性。\n\n假设在 $t=0$ 时，有以下由数字孪生观测到的量和控制器参数：\n- $u(0^{-}) = 3.1$ 伏特，\n- $r(0) = 2.0$ (与 y 单位相同)，\n- $y(0) = 1.7$ (与 r 单位相同)，\n- $\\dot{e}(0) = -0.4$ (与 e 单位相同每秒)，\n- $K_p = 3.0$，\n- $K_i = 2.0$，\n- $K_d = 0.5$，\n- $T_f = 0.05$ 秒。\n\n假设微分滤波器状态的初始化选择 $v(0^{+})$ 与滤波器模型及 $t=0$ 时的数字孪生估计值一致，以避免微分项贡献的跳变。使用这些数据，确定实现无扰切换所需的积分器贡献 $I(0^{+})$ 的数值。将最终答案四舍五入到四位有效数字，并以伏特为单位表示。",
            "solution": "该问题定义明确，有科学依据，并提供了确定PID控制器积分项初始条件以确保从手动模式到自动模式无扰切换所需的所有信息。我们将开始求解。\n\n无扰切换的基本原理是确保在从手动控制切换到自动控制的瞬间，控制信号 $u(t)$ 的连续性。设 $t=0$ 为切换时间。因此，无扰切换的条件是：\n$$\nu(0^{+}) = u(0^{-})\n$$\n其中 $u(0^{-})$ 是切换前瞬间手动模式下的控制信号值，而 $u(0^{+})$ 是切换后瞬间自动PID控制器生成的控制信号初始值。\n\n问题给出了手动控制信号的值为 $u(0^{-}) = 3.1$ 伏特。\n\nPID控制器以并联形式定义为：\n$$\nu(t) = K_p e(t) + I(t) + K_d v(t)\n$$\n在 $t=0^{+}$ 时刻，自动控制器的输出为：\n$$\nu(0^{+}) = K_p e(0^{+}) + I(0^{+}) + K_d v(0^{+})\n$$\n为实现无扰切换，我们必须有：\n$$\nu(0^{-}) = K_p e(0^{+}) + I(0^{+}) + K_d v(0^{+})\n$$\n我们的目标是确定满足此方程所需的积分器贡献值 $I(0^{+})$。这需要我们确定 $t=0^{+}$ 时其他项的值。\n\n首先，我们确定比例项的贡献。跟踪误差为 $e(t) = r(t) - y(t)$。假设设备输出 $y(t)$ 和设定值 $r(t)$ 在切换瞬间是时间的连续函数（这是对物理系统和非脉冲设定值变化的标准假设），我们有 $e(0^{+}) = e(0)$。给出了 $t=0$ 时的值：$r(0) = 2.0$ 和 $y(0) = 1.7$。\n因此，切换时的误差为：\n$$\ne(0) = r(0) - y(0) = 2.0 - 1.7 = 0.3\n$$\n比例项的贡献是 $K_p e(0)$。\n\n其次，我们确定微分项的贡献。误差的滤波后导数 $v(t)$ 由微分方程 $T_f \\dot{v}(t) + v(t) = \\dot{e}(t)$ 控制。问题指出，微分滤波器状态 $v(0^{+})$ 的初始化应“与滤波器模型及 $t=0$ 时的数字孪生估计值一致”。这是一个标准程序，用以避免初始化时微分项产生的人为“冲击”。实现平滑初始化的最直接和最常见的方法是将滤波器的状态设置为其要滤波的信号的当前（未滤波）值。在这种情况下，滤波器的输入是 $\\dot{e}(t)$，数字孪生提供的估计值为 $\\dot{e}(0) = -0.4$。因此，我们将滤波器状态初始化为：\n$$\nv(0^{+}) = \\dot{e}(0) = -0.4\n$$\n这个初始化意味着在 $t=0$ 时，滤波器方程变为 $T_f \\dot{v}(0^{+}) + \\dot{e}(0) = \\dot{e}(0)$，从而得到 $T_f \\dot{v}(0^{+}) = 0$。由于 $T_f = 0.05 \\ne 0$，这意味着 $\\dot{v}(0^{+}) = 0$。这对应于微分滤波器的最优平滑启动，因为其变化率初始为零。\n\n现在我们可以将已知量代入无扰切换条件中：\n$$\nu(0^{-}) = K_p e(0) + I(0^{+}) + K_d v(0^{+})\n$$\n我们可以重新整理这个方程来求解所需的积分器贡献 $I(0^{+})$：\n$$\nI(0^{+}) = u(0^{-}) - K_p e(0) - K_d v(0^{+})\n$$\n代入 $e(0) = r(0) - y(0)$ 和 $v(0^{+}) = \\dot{e}(0)$，我们得到通用设计方程：\n$$\nI(0^{+}) = u(0^{-}) - K_p(r(0) - y(0)) - K_d \\dot{e}(0)\n$$\n现在我们代入给定的数值：\n- $u(0^{-}) = 3.1$\n- $K_p = 3.0$\n- $r(0) = 2.0$\n- $y(0) = 1.7$\n- $K_d = 0.5$\n- $\\dot{e}(0) = -0.4$\n\n计算如下：\n$$\nI(0^{+}) = 3.1 - (3.0) \\times (2.0 - 1.7) - (0.5) \\times (-0.4)\n$$\n$$\nI(0^{+}) = 3.1 - (3.0) \\times (0.3) - (-0.2)\n$$\n$$\nI(0^{+}) = 3.1 - 0.9 + 0.2\n$$\n$$\nI(0^{+}) = 2.2 + 0.2\n$$\n$$\nI(0^{+}) = 2.4\n$$\n问题还要求设计积分器状态的初始化 $\\xi(0^{+})$。关系由 $I(t) = K_i \\xi(t)$ 给出。因此，在 $t=0^{+}$ 时：\n$$\n\\xi(0^{+}) = \\frac{I(0^{+})}{K_i}\n$$\n使用给定值 $K_i = 2.0$：\n$$\n\\xi(0^{+}) = \\frac{2.4}{2.0} = 1.2\n$$\n这完成了问题的设计部分。最终要求的数值答案是 $I(0^{+})$ 的值，以伏特表示，并四舍五入到四位有效数字。\n\n计算出的值为 $I(0^{+}) = 2.4$。为了用四位有效数字表示，我们写作 $2.400$。",
            "answer": "$$\\boxed{2.400}$$"
        },
        {
            "introduction": "除了模式切换，我们还必须考虑执行器的物理限制，这是另一个关键的现实约束。当 PID 控制器的积分项在执行器饱和期间累积巨大误差时，就会出现“积分饱和” (Integrator Windup) 现象，导致系统超调严重、恢复缓慢。本练习将带你了解一种重要的抗饱和策略，并计算积分器状态的安全边界。通过这个实践 ()，你将学会如何确定在执行器达到极限时，积分器状态的最大允许值，从而有效防止积分饱和，保证控制器在饱和退出后能迅速恢复正常工作。",
            "id": "2731947",
            "problem": "一个单位反馈回路使用一个通过 Ziegler-Nichols (ZN) 极限振荡法整定的比例-积分-微分 (PID) 控制器。在使用纯比例控制器的极限测试中，在极限增益 $K_{u} = 8$ 和极限周期 $T_{u} = 2.5\\,\\mathrm{s}$ 时观测到持续振荡。该 PID 控制器以理想并联形式实现，执行器在硬上限 $u_{\\max} = 4.5$（以执行器的原生单位）处饱和。\n\n在一次大的设定点变化过程中的某一瞬间 $t_{0}$，测得的误差及其时间导数分别为 $e(t_{0}) = 0.8$ 和 $\\dot{e}(t_{0}) = -0.3\\,\\mathrm{s}^{-1}$。微分作用被施加于误差信号。该控制器采用一种带有有限跟踪时间常数 $T_{t} > 0$ 的抗积分饱和反算方案。\n\n假设使用基于 $(K_{u}, T_{u})$ 的标准 Ziegler-Nichols 规则来确定 PID 参数，并假设抗积分饱和反算驱动内部积分器，使得在饱和状态下的平衡点，内部计算的未饱和控制量等于饱和的执行器输出。在这些条件下，确定与在 $t_{0}$ 时刻无积分饱和情况相一致的控制器积分器状态的最大值 $x_{I,\\max}(t_{0})$，该值被定义为在 $t_{0}$ 时刻使得内部计算的控制量等于 $u_{\\max}$ 的积分器状态值。\n\n将您的最终答案表示为单个实数，单位为“误差-秒”（例如，如果误差单位是弧度，则单位为 $\\mathrm{rad}\\cdot\\mathrm{s}$）。将您的答案四舍五入到五位有效数字。",
            "solution": "首先，将对问题进行严格的验证过程。\n\n步骤 1：提取已知条件。\n- 控制器类型：理想并联形式的比例-积分-微分 (PID) 控制器。\n- 反馈回路：单位反馈。\n- 整定方法：Ziegler-Nichols (ZN) 极限振荡法。\n- 极限增益：$K_{u} = 8$。\n- 极限周期：$T_{u} = 2.5\\,\\mathrm{s}$。\n- 执行器饱和上限：$u_{\\max} = 4.5$。\n- $t_{0}$ 时刻的误差：$e(t_{0}) = 0.8$。\n- $t_{0}$ 时刻的误差导数：$\\dot{e}(t_{0}) = -0.3\\,\\mathrm{s}^{-1}$。\n- 微分作用：作用于误差信号。\n- 抗饱和方案：反算，跟踪时间常数 $T_{t} > 0$。\n- $t_{0}$ 时刻无饱和条件的定义：对于积分器状态 $x_{I,\\max}(t_{0})$，内部计算的控制量在 $t_{0}$ 时刻等于 $u_{\\max}$。\n\n步骤 2：使用提取的已知条件进行验证。\n该问题具有科学依据，因为它基于经典控制理论的标准原理，特别是 PID 控制、Ziegler-Nichols 整定以及带抗积分饱和的执行器饱和。该问题是适定的；它提供了所有必要的数值和一个明确的目标：在精确定义的边界条件下计算积分器状态的特定值。术语在控制工程领域是标准且无歧义的。所提供的信息是自洽且一致的。对抗积分饱和机制的描述作为背景信息，但计算中并不需要 $T_t$ 的具体值，因为计算是由饱和边界处的平衡条件定义的。这不构成缺陷，而是考验区分相关信息和无关信息的能力。\n\n步骤 3：结论与行动。\n问题被认定为有效。将制定解决方案。\n\n任务是确定控制器积分器状态的最大值，记为 $x_{I,\\max}(t_{0})$，使得在给定瞬间 $t_{0}$，控制器内部计算的输出恰好处于饱和极限 $u_{\\max}$。\n\n理想并联形式的 PID 控制器由未饱和控制输出 $u_{unsat}(t)$ 的方程描述：\n$$u_{unsat}(t) = K_p e(t) + K_i x_I(t) + K_d \\frac{de(t)}{dt}$$\n其中 $x_{I}(t)$ 代表积分器状态，定义为 $x_{I}(t) = \\int_{0}^{t} e(\\tau) d\\tau$。参数 $K_p$、$K_i$ 和 $K_d$ 分别是比例、积分和微分增益。\n\n问题指出，控制器参数是使用标准 Ziegler-Nichols 极限振荡法对 PID 控制器的规则确定的。这些规则如下：\n- 比例增益：$K_p = 0.6 K_u$\n- 积分时间常数：$T_i = 0.5 T_u$\n- 微分时间常数：$T_d = 0.125 T_u$\n\n增益 $K_i$ 和 $K_d$ 通过以下并联形式的标准定义与 $K_p$、$T_i$ 和 $T_d$ 相关联：\n- $K_i = \\frac{K_p}{T_i}$\n- $K_d = K_p T_d$\n\n我们已知极限增益 $K_u = 8$ 和极限周期 $T_u = 2.5\\,\\mathrm{s}$。现在我们可以计算控制器参数。\n$$K_p = 0.6 \\times 8 = 4.8$$\n$$T_i = 0.5 \\times 2.5\\,\\mathrm{s} = 1.25\\,\\mathrm{s}$$\n$$T_d = 0.125 \\times 2.5\\,\\mathrm{s} = 0.3125\\,\\mathrm{s}$$\n\n使用这些时间常数，我们计算积分和微分增益：\n$$K_i = \\frac{K_p}{T_i} = \\frac{4.8}{1.25\\,\\mathrm{s}} = 3.84\\,\\mathrm{s}^{-1}$$\n$$K_d = K_p T_d = 4.8 \\times 0.3125\\,\\mathrm{s} = 1.5\\,\\mathrm{s}$$\n\n在时刻 $t_0$ 系统处于饱和阈值的条件是，未饱和控制输出等于饱和极限 $u_{\\max}$。\n$$u_{unsat}(t_0) = u_{\\max}$$\n\n将 PID 控制器方程在 $t_0$ 时刻、积分器状态为 $x_{I,\\max}(t_0)$ 的情况代入：\n$$K_p e(t_0) + K_i x_{I,\\max}(t_0) + K_d \\dot{e}(t_0) = u_{\\max}$$\n我们必须解这个方程，求出 $x_{I,\\max}(t_0)$。\n$$K_i x_{I,\\max}(t_0) = u_{\\max} - K_p e(t_0) - K_d \\dot{e}(t_0)$$\n$$x_{I,\\max}(t_0) = \\frac{1}{K_i} \\left( u_{\\max} - K_p e(t_0) - K_d \\dot{e}(t_0) \\right)$$\n\n现在，我们将已知的数值代入此表达式：\n- $u_{\\max} = 4.5$\n- $e(t_0) = 0.8$\n- $\\dot{e}(t_0) = -0.3\\,\\mathrm{s}^{-1}$\n- $K_p = 4.8$\n- $K_i = 3.84\\,\\mathrm{s}^{-1}$\n- $K_d = 1.5\\,\\mathrm{s}$\n\n计算过程如下：\n$$x_{I,\\max}(t_0) = \\frac{1}{3.84} \\left( 4.5 - (4.8)(0.8) - (1.5)(-0.3) \\right)$$\n$$x_{I,\\max}(t_0) = \\frac{1}{3.84} \\left( 4.5 - 3.84 - (-0.45) \\right)$$\n$$x_{I,\\max}(t_0) = \\frac{1}{3.84} \\left( 4.5 - 3.84 + 0.45 \\right)$$\n$$x_{I,\\max}(t_0) = \\frac{1}{3.84} \\left( 0.66 + 0.45 \\right)$$\n$$x_{I,\\max}(t_0) = \\frac{1.11}{3.84}$$\n$$x_{I,\\max}(t_0) = 0.2890625$$\n单位是一致的，结果为所要求的“误差-秒”。\n\n问题要求答案四舍五入到五位有效数字。计算值为 $0.2890625$。前五位有效数字是 $2, 8, 9, 0, 6$。随后的数字是 $2$，小于 $5$，因此我们向下取整。\n\n因此，与无积分饱和情况相一致的积分器状态最大值为 $0.28906$。",
            "answer": "$$\\boxed{0.28906}$$"
        }
    ]
}