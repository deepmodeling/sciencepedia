{
    "hands_on_practices": [
        {
            "introduction": "To build a solid foundation, we begin with the most fundamental application of a Control Barrier Function. This exercise guides you through the process of ensuring safety for a simple scalar system from first principles. By constructing a class-$\\mathcal{K}$ function and deriving the safety condition, you will see how a Quadratic Program (QP) naturally arises as a method for finding a minimally invasive safe control input. ",
            "id": "2695296",
            "problem": "Consider the scalar control system given by $\\dot{x} = u$ with the safety requirement $x \\leq 1$, encoded by the function $h(x) = 1 - x$. The safe set is $\\mathcal{C} = \\{ x \\in \\mathbb{R} : h(x) \\geq 0 \\}$. \n\nTasks:\n1. Construct a valid extended class-$\\mathcal{K}$ function $\\alpha : \\mathbb{R} \\to \\mathbb{R}$ and justify that it satisfies the defining properties.\n2. Using only the definitions of a safety set $\\mathcal{C}$ and a zeroing control barrier function (ZCBF), derive the inequality that admissible controls $u$ must satisfy to render $\\mathcal{C}$ forward invariant for the system $\\dot{x} = u$.\n3. Using your derived inequality, characterize the admissible set of controls at a generic state $x \\in \\mathbb{R}$.\n4. Suppose a nominal control $u_{\\mathrm{nom}}(x)$ is filtered through the quadratic program that minimally modifies it to enforce the safety constraint at the current state,\n   $$\\min_{u \\in \\mathbb{R}} \\ (u - u_{\\mathrm{nom}}(x))^{2} \\quad \\text{subject to the ZCBF admissibility inequality at the current } x.$$\n   Take $\\alpha(s) = \\kappa s$ with $\\kappa = 3$, evaluate at the state $x = 0.8$, and use the nominal value $u_{\\mathrm{nom}}(0.8) = 1.2$. Compute the optimal safety-filtered control $u^{\\star}$ returned by the quadratic program.\n\nExpress your final answer as a single real number. Do not round.",
            "solution": "The problem will be validated and, if deemed valid, solved in a sequential manner, addressing each of the four specified tasks.\n\nFirst, an assessment of the problem statement is required.\n\nGivens are extracted verbatim as follows:\n- System model: $\\dot{x} = u$, where $x \\in \\mathbb{R}$ and $u \\in \\mathbb{R}$.\n- Safety requirement: $x \\leq 1$.\n- Barrier function: $h(x) = 1 - x$.\n- Safe set: $\\mathcal{C} = \\{ x \\in \\mathbb{R} : h(x) \\geq 0 \\}$.\n- Task 1: Construct a valid extended class-$\\mathcal{K}$ function $\\alpha : \\mathbb{R} \\to \\mathbb{R}$ and justify its properties.\n- Task 2: Derive the zeroing control barrier function (ZCBF) inequality for admissible controls $u$ using only the definitions of a safe set and a ZCBF.\n- Task 3: Characterize the set of admissible controls at a generic state $x$.\n- Task 4: Solve a specific quadratic program (QP) for the safety-filtered control $u^{\\star}$. The QP is $\\min_{u \\in \\mathbb{R}} \\ (u - u_{\\mathrm{nom}}(x))^{2}$ subject to the ZCBF inequality. The specific parameters are: $\\alpha(s) = \\kappa s$ with $\\kappa = 3$, evaluation state $x = 0.8$, and nominal control $u_{\\mathrm{nom}}(0.8) = 1.2$.\n\nThe problem is subjected to validation.\nThe problem is **scientifically grounded** and **objective**. It is a standard, well-defined problem in the field of control theory, specifically concerning the application of zeroing control barrier functions (ZCBFs) for ensuring safety in control systems. All terms such as \"control system,\" \"safe set,\" \"class-$\\mathcal{K}$ function,\" and \"ZCBF\" are rigorously defined within the discipline. The system model is a simple integrator, which is a fundamental building block in control theory. The problem is **well-posed**, as it provides all necessary information and definitions to proceed with a logical derivation and arrive at a unique solution for the specified quadratic program. The problem is self-contained, consistent, and free of any scientific, logical, or factual flaws. No part of the problem violates fundamental principles, relies on pseudoscience, or is in any way subjective.\n\nThe problem is determined to be **valid**. A complete solution is now presented.\n\n**Task 1: Construction of an Extended Class-$\\mathcal{K}$ Function**\nAn extended class-$\\mathcal{K}$ function $\\alpha : \\mathbb{R} \\to \\mathbb{R}$ is a function that is strictly increasing and satisfies $\\alpha(0) = 0$. A simple and common choice for such a function is a linear function of the form $\\alpha(s) = \\kappa s$ for some positive real constant $\\kappa$.\nTo justify that this is a valid choice, we verify the two defining properties:\n1.  **Strictly increasing**: The derivative of $\\alpha(s)$ with respect to $s$ is $\\frac{d\\alpha}{ds} = \\kappa$. For the function to be strictly increasing, its derivative must be positive. Thus, we must have $\\kappa  0$. Given this condition, the function is indeed strictly increasing for all $s \\in \\mathbb{R}$.\n2.  **Passes through the origin**: Evaluating the function at $s=0$ gives $\\alpha(0) = \\kappa \\cdot 0 = 0$. This property is satisfied for any choice of $\\kappa$.\nTherefore, any function $\\alpha(s) = \\kappa s$ with $\\kappa  0$ is a valid extended class-$\\mathcal{K}$ function. The problem later specifies $\\kappa=3$, which is a valid choice.\n\n**Task 2: Derivation of the ZCBF Admissibility Inequality**\nThe safe set is defined as $\\mathcal{C} = \\{x \\in \\mathbb{R} : h(x) \\geq 0\\}$. To render the set $\\mathcal{C}$ forward invariant, any state trajectory $x(t)$ starting in $\\mathcal{C}$ must remain in $\\mathcal{C}$ for all future time $t \\geq 0$. This means that if $h(x(t_0)) \\geq 0$, we must ensure $h(x(t)) \\geq 0$ for all $t  t_0$.\nA sufficient condition to enforce this is to ensure that whenever the state is on the boundary of the safe set, i.e., $h(x) = 0$, the state velocity vector does not point outside the set. This translates to the condition $\\dot{h}(x) \\geq 0$ when $h(x)=0$.\nA zeroing control barrier function (ZCBF) formalizes and strengthens this requirement for all points inside the set, not just on the boundary. A function $h$ is a ZCBF if there exists an extended class-$\\mathcal{K}$ function $\\alpha$ such that for all $x$ in the domain of interest, the following inequality holds:\n$$ \\dot{h}(x, u) \\geq -\\alpha(h(x)) $$\nThe time derivative of $h(x(t))$ is found using the chain rule:\n$$ \\dot{h}(x, u) = \\frac{\\partial h}{\\partial x} \\dot{x} $$\nWe are given $h(x) = 1 - x$, so the partial derivative with respect to $x$ is:\n$$ \\frac{\\partial h}{\\partial x} = -1 $$\nThe system dynamics are given as $\\dot{x} = u$. Substituting these into the expression for $\\dot{h}$:\n$$ \\dot{h}(x, u) = (-1) u = -u $$\nNow, substituting this into the ZCBF inequality:\n$$ -u \\geq -\\alpha(h(x)) $$\nMultiplying both sides by $-1$ reverses the inequality sign:\n$$ u \\leq \\alpha(h(x)) $$\nFinally, substituting the expression for $h(x)$:\n$$ u \\leq \\alpha(1 - x) $$\nThis is the inequality that any admissible control $u$ must satisfy to guarantee the forward invariance of the safe set $\\mathcal{C}$.\n\n**Task 3: Characterization of the Admissible Control Set**\nBased on the inequality derived in Task 2, the set of all admissible controls at a given state $x$, denoted by $K_{\\mathrm{cbf}}(x)$, is the set of all inputs $u \\in \\mathbb{R}$ that satisfy the ZCBF condition.\n$$ K_{\\mathrm{cbf}}(x) = \\{ u \\in \\mathbb{R} : u \\leq \\alpha(1 - x) \\} $$\nThis set represents a closed half-line on the real number line, bounded from above by the value $\\alpha(1 - x)$. In interval notation, this is expressed as:\n$$ K_{\\mathrm{cbf}}(x) = (-\\infty, \\alpha(1-x)] $$\nAny control input chosen from this set at state $x$ is guaranteed to be safe.\n\n**Task 4: Computation of the Optimal Safety-Filtered Control**\nThe problem is to find the optimal control $u^{\\star}$ by solving the following quadratic program (QP):\n$$ u^{\\star} = \\arg\\min_{u \\in \\mathbb{R}} \\ (u - u_{\\mathrm{nom}}(x))^{2} $$\nsubject to the constraint derived in Task 2:\n$$ u \\leq \\alpha(1-x) $$\nThis is a problem of finding the point in the feasible set $K_{\\mathrm{cbf}}(x)$ that is closest to the nominal control $u_{\\mathrm{nom}}(x)$ in the Euclidean sense. The objective function $(u - u_{\\mathrm{nom}}(x))^{2}$ is a parabola with its vertex (minimum) at $u = u_{\\mathrm{nom}}(x)$.\nLet the upper bound of the feasible set be $u_{\\mathrm{bound}} = \\alpha(1 - x)$. The constraint is $u \\leq u_{\\mathrm{bound}}$.\nThere are two possible cases for the solution $u^{\\star}$:\n1.  If the unconstrained minimum $u_{\\mathrm{nom}}(x)$ lies within the feasible set (i.e., $u_{\\mathrm{nom}}(x) \\leq u_{\\mathrm{bound}}$), then the optimal solution is $u^{\\star} = u_{\\mathrm{nom}}(x)$. The nominal control is already safe.\n2.  If the unconstrained minimum lies outside the feasible set (i.e., $u_{\\mathrm{nom}}(x)  u_{\\mathrm{bound}}$), then the optimal solution is the point in the feasible set that is closest to $u_{\\mathrm{nom}}(x)$. For the interval $(-\\infty, u_{\\mathrm{bound}}]$, the closest point is the boundary itself, $u^{\\star} = u_{\\mathrm{bound}}$.\nThis logic can be summarized as $u^{\\star} = \\min(u_{\\mathrm{nom}}(x), u_{\\mathrm{bound}})$.\n\nWe are given the following values for evaluation:\n- Extended class-$\\mathcal{K}$ function: $\\alpha(s) = \\kappa s$ with $\\kappa = 3$, so $\\alpha(s) = 3s$.\n- State: $x = 0.8$.\n- Nominal control at this state: $u_{\\mathrm{nom}}(0.8) = 1.2$.\n\nFirst, we compute the upper bound $u_{\\mathrm{bound}}$ at the state $x = 0.8$:\n$$ u_{\\mathrm{bound}} = \\alpha(1 - x) = 3 \\times (1 - 0.8) = 3 \\times 0.2 = 0.6 $$\nThe safety constraint is therefore $u \\leq 0.6$. The feasible set is $K_{\\mathrm{cbf}}(0.8) = (-\\infty, 0.6]$.\n\nNext, we compare the nominal control $u_{\\mathrm{nom}}(0.8)$ with this bound:\n$$ u_{\\mathrm{nom}}(0.8) = 1.2 $$\nWe observe that $1.2  0.6$, so $u_{\\mathrm{nom}}(0.8)  u_{\\mathrm{bound}}$. The nominal control is not safe as it violates the ZCBF condition.\nWe are in the second case, where the optimal control $u^{\\star}$ is the projection of $u_{\\mathrm{nom}}$ onto the feasible set. Thus, the optimal safety-filtered control is the boundary value.\n$$ u^{\\star} = u_{\\mathrm{bound}} = 0.6 $$\nThis is the result of the quadratic program. The controller minimally modifies the nominal input $u_{\\mathrm{nom}}(0.8) = 1.2$ to $u^{\\star} = 0.6$ to satisfy the safety constraint.",
            "answer": "$$\n\\boxed{0.6}\n$$"
        },
        {
            "introduction": "Building on the fundamentals, we now move to a more complex, nonlinear planar system. This practice focuses on deconstructing the CBF inequality into its core components: the Lie derivatives $L_f h(x)$ and $L_g h(x)$. By calculating and interpreting these terms, you will develop a crucial geometric intuition for how a system's inherent dynamics (drift) and control actions independently influence its trajectory relative to the boundary of the safe set. ",
            "id": "4210344",
            "problem": "A digital twin for a planar cyber-physical system models the physical plantâ€™s state as $x = [x_{1}\\; x_{2}]^{\\top} \\in \\mathbb{R}^{2}$, evolving under a control-affine dynamics $\\dot{x} = f(x) + g(x) u$, where $u \\in \\mathbb{R}$ is the control input. The digital twin uses a Control Barrier Function (CBF) for safety assurance to certify forward invariance of the safe set $\\mathcal{C} = \\{x \\in \\mathbb{R}^{2} \\mid h(x) \\ge 0\\}$, where $h: \\mathbb{R}^{2} \\to \\mathbb{R}$ is the continuously differentiable function\n$$\nh(x) = 1 - \\big(x_{1}^{2} + 2 x_{2}^{2}\\big).\n$$\nThe system vector fields are\n$$\nf(x) = \\begin{bmatrix} x_{2} \\\\ -x_{1} + x_{1} x_{2} \\end{bmatrix}, \\qquad g(x) = \\begin{bmatrix} x_{1}^{2} \\\\ 1 \\end{bmatrix}.\n$$\nStarting only from the chain rule and the definition of the time derivative of $h(x(t))$ along trajectories of $\\dot{x} = f(x) + g(x) u$, compute the Lie derivatives $L_{f} h(x)$ and $L_{g} h(x)$, and then evaluate them at the boundary point $x^{\\star} = \\begin{bmatrix} 1 \\\\ 0 \\end{bmatrix} \\in \\partial \\mathcal{C}$. Interpret the signs of $L_{f} h(x^{\\star})$ and $L_{g} h(x^{\\star})$ in terms of whether the drift and the input channel locally drive the state toward the interior $\\{h0\\}$ or toward the exterior $\\{h0\\}$ of the safe set at $x^{\\star}$.\n\nReport your final answer as the row vector $\\big[L_{f} h(x^{\\star}) \\;\\; L_{g} h(x^{\\star})\\big]$. No rounding is required.",
            "solution": "The problem is valid as it is well-posed, scientifically grounded in nonlinear control theory, and all necessary components are clearly defined.\n\nThe time derivative of the function $h(x(t))$ along the trajectories of the system $\\dot{x} = f(x) + g(x) u$ is found using the chain rule:\n$$\n\\dot{h}(x) = \\frac{dh}{dt} = \\frac{\\partial h}{\\partial x} \\dot{x}\n$$\nwhere $\\frac{\\partial h}{\\partial x}$ is the gradient of $h(x)$, which is a row vector $\\nabla h(x)^{\\top}$. Substituting the system dynamics for $\\dot{x}$, we get:\n$$\n\\dot{h}(x) = \\frac{\\partial h}{\\partial x} (f(x) + g(x) u)\n$$\nBy linearity of the dot product, this can be expanded to:\n$$\n\\dot{h}(x) = \\frac{\\partial h}{\\partial x} f(x) + \\left(\\frac{\\partial h}{\\partial x} g(x)\\right) u\n$$\nThe terms in this expression are defined as the Lie derivatives of $h$ along the vector fields $f$ and $g$, respectively:\n$$\nL_{f} h(x) \\triangleq \\frac{\\partial h}{\\partial x} f(x) = \\nabla h(x) \\cdot f(x)\n$$\n$$\nL_{g} h(x) \\triangleq \\frac{\\partial h}{\\partial x} g(x) = \\nabla h(x) \\cdot g(x)\n$$\nThus, the condition for safety certification using a Control Barrier Function (CBF), which requires $\\dot{h}(x) \\ge 0$ on the boundary $\\partial\\mathcal{C} = \\{x \\mid h(x) = 0\\}$, becomes the inequality:\n$$\nL_{f} h(x) + L_{g} h(x) u \\ge 0\n$$\n\nFirst, we compute the gradient of the given function $h(x) = 1 - x_{1}^{2} - 2 x_{2}^{2}$.\n$$\n\\frac{\\partial h}{\\partial x} = \\begin{bmatrix} \\frac{\\partial h}{\\partial x_{1}}  \\frac{\\partial h}{\\partial x_{2}} \\end{bmatrix} = \\begin{bmatrix} -2 x_{1}  -4 x_{2} \\end{bmatrix}\n$$\nNow, we can compute the Lie derivatives.\n\nThe Lie derivative $L_{f} h(x)$ is:\n$$\nL_{f} h(x) = \\begin{bmatrix} -2 x_{1}  -4 x_{2} \\end{bmatrix} \\begin{bmatrix} x_{2} \\\\ -x_{1} + x_{1} x_{2} \\end{bmatrix}\n$$\n$$\nL_{f} h(x) = (-2 x_{1})(x_{2}) + (-4 x_{2})(-x_{1} + x_{1} x_{2})\n$$\n$$\nL_{f} h(x) = -2 x_{1} x_{2} + 4 x_{1} x_{2} - 4 x_{1} x_{2}^{2}\n$$\n$$\nL_{f} h(x) = 2 x_{1} x_{2} - 4 x_{1} x_{2}^{2}\n$$\nThe Lie derivative $L_{g} h(x)$ is:\n$$\nL_{g} h(x) = \\begin{bmatrix} -2 x_{1}  -4 x_{2} \\end{bmatrix} \\begin{bmatrix} x_{1}^{2} \\\\ 1 \\end{bmatrix}\n$$\n$$\nL_{g} h(x) = (-2 x_{1})(x_{1}^{2}) + (-4 x_{2})(1)\n$$\n$$\nL_{g} h(x) = -2 x_{1}^{3} - 4 x_{2}\n$$\nNext, we evaluate these expressions at the specified boundary point $x^{\\star} = \\begin{bmatrix} 1 \\\\ 0 \\end{bmatrix}$. First, we confirm $h(x^{\\star}) = 1 - (1^{2} + 2(0)^{2}) = 1 - 1 = 0$, so $x^{\\star}$ is indeed on the boundary $\\partial \\mathcal{C}$.\n\nEvaluating $L_{f} h(x)$ at $x^{\\star}$:\n$$\nL_{f} h(x^{\\star}) = 2(1)(0) - 4(1)(0)^{2} = 0 - 0 = 0\n$$\nEvaluating $L_{g} h(x)$ at $x^{\\star}$:\n$$\nL_{g} h(x^{\\star}) = -2(1)^{3} - 4(0) = -2 - 0 = -2\n$$\nThe requested row vector is $\\begin{bmatrix} L_{f} h(x^{\\star})  L_{g} h(x^{\\star}) \\end{bmatrix} = \\begin{bmatrix} 0  -2 \\end{bmatrix}$.\n\nInterpretation of the signs:\nThe gradient vector $\\nabla h(x)$ points in the direction of the fastest increase of $h(x)$. Since the safe set $\\mathcal{C}$ is defined by $h(x) \\ge 0$, the gradient $\\nabla h(x)$ at any point on the boundary $\\partial\\mathcal{C}$ is normal to the boundary and points toward the interior of the safe set.\n-   The sign of $L_{f} h(x^{\\star}) = \\nabla h(x^{\\star}) \\cdot f(x^{\\star})$ indicates whether the drift vector field $f(x)$ points into or out of the safe set at $x^{\\star}$. Here, $L_{f} h(x^{\\star}) = 0$. This implies that the drift vector field $f(x^{\\star})$ is orthogonal to the gradient $\\nabla h(x^{\\star})$. Geometrically, this means the drift vector is tangent to the boundary of the safe set at $x^{\\star}$. The drift component of the dynamics neither moves the state toward the interior nor the exterior of the safe set; it moves it along the boundary.\n-   The sign of $L_{g} h(x^{\\star}) = \\nabla h(x^{\\star}) \\cdot g(x^{\\star})$ indicates whether the control vector field $g(x)$ points into or out of the safe set at $x^{\\star}$. Here, $L_{g} h(x^{\\star}) = -2  0$. This implies that the control vector field $g(x^{\\star})$ has a component that points in the direction opposite to the inward-pointing normal vector $\\nabla h(x^{\\star})$. Therefore, the input channel locally drives the state toward the exterior (the unsafe region where $h  0$) of the safe set. To satisfy the CBF condition $L_f h(x^{\\star}) + L_g h(x^{\\star}) u \\ge 0$, which simplifies to $0 + (-2)u \\ge 0$ or $u \\le 0$, a non-positive control input is required at $x^{\\star}$ to prevent a safety violation.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 0  -2 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "Theoretical controllers must be adapted for real-world application, where physical systems face limitations such as actuator saturation. This exercise addresses this challenge by incorporating input bounds and introducing a slack variable, $\\delta$, to relax the CBF constraint. You will formulate a QP that balances the goals of tracking a reference control and minimizing any necessary safety violation, and analyze the conditions under which a safety guarantee is feasible. ",
            "id": "4210319",
            "problem": "A digital twin in a cyber-physical system uses a Control Barrier Function (CBF) to guarantee safety of a ground robot with control input $u \\in \\mathbb{R}^{2}$. The safe set is defined by a continuously differentiable function $h(x)$ with the safety condition $h(x) \\ge 0$. At a given time, the digital twin evaluates the Lie derivatives along the drift and input vector fields, and the extended class-$\\mathcal{K}$ function, yielding the following numerical values: $L_{f}h = -0.7$, $L_{g}h = \\begin{bmatrix} 0.6  -0.8 \\end{bmatrix}$, and $\\alpha(h) = -0.1$. To handle inevitable modeling mismatches, the CBF constraint is relaxed by a nonnegative slack variable $\\delta \\ge 0$. The nominal control input is $u_{\\mathrm{ref}} = \\begin{bmatrix} 0.2 \\\\ 0.1 \\end{bmatrix}$. The control input is subject to hard bounds $u \\in \\mathcal{U}$ with $u_{1} \\in [-0.4,\\, 0.6]$ and $u_{2} \\in [-0.3,\\, 0.2]$. Consider solving a Quadratic Program (QP) that penalizes control deviation and slack according to the cost $(u - u_{\\mathrm{ref}})^{\\top} I (u - u_{\\mathrm{ref}}) + 50\\, \\delta^{2}$, where $I$ is the $2 \\times 2$ identity matrix.\n\nUsing only the fundamental CBF forward-invariance condition for a safe set, properties of Lie derivatives, and elementary convex analysis, do the following:\n\n1) Write the explicit Quadratic Program (QP) in the decision variables $u \\in \\mathbb{R}^{2}$ and $\\delta \\in \\mathbb{R}$ that the digital twin should solve at this time, including its objective function and all constraints.\n\n2) Analyze how the input bounds $u \\in \\mathcal{U}$ affect the feasibility of the CBF constraint at this instant by determining the minimal relaxation $\\delta_{\\min}$ required to render the CBF inequality feasible under the specified bounds. Provide the single numerical value of $\\delta_{\\min}$ as your final answer. Do not round the final answer. The final answer must be a single real number.",
            "solution": "The problem is valid as it is scientifically grounded in control theory, well-posed, and contains all necessary information to formulate and solve the required tasks.\n\nThe solution is divided into two parts as requested by the problem statement.\n\n### Part 1: Quadratic Program (QP) Formulation\n\nThe task is to formulate a Quadratic Program (QP) to find the optimal control input $u = \\begin{bmatrix} u_1 \\\\ u_2 \\end{bmatrix} \\in \\mathbb{R}^2$ and the slack variable $\\delta \\in \\mathbb{R}$. A QP consists of a quadratic objective function and a set of linear inequality constraints.\n\n**Objective Function:**\nThe objective is to minimize the deviation from a reference control $u_{\\mathrm{ref}}$ and the magnitude of the slack variable $\\delta$. The cost function is given as:\n$$J(u, \\delta) = (u - u_{\\mathrm{ref}})^{\\top} I (u - u_{\\mathrm{ref}}) + 50 \\delta^2$$\nGiven $u_{\\mathrm{ref}} = \\begin{bmatrix} 0.2 \\\\ 0.1 \\end{bmatrix}$ and $I$ being the $2 \\times 2$ identity matrix, the objective function can be written explicitly in terms of the decision variables $u_1$, $u_2$, and $\\delta$:\n$$J(u_1, u_2, \\delta) = \\left( \\begin{bmatrix} u_1 \\\\ u_2 \\end{bmatrix} - \\begin{bmatrix} 0.2 \\\\ 0.1 \\end{bmatrix} \\right)^{\\top} \\begin{bmatrix} 1  0 \\\\ 0  1 \\end{bmatrix} \\left( \\begin{bmatrix} u_1 \\\\ u_2 \\end{bmatrix} - \\begin{bmatrix} 0.2 \\\\ 0.1 \\end{bmatrix} \\right) + 50 \\delta^2$$\n$$J(u_1, u_2, \\delta) = (u_1 - 0.2)^2 + (u_2 - 0.1)^2 + 50 \\delta^2$$\nThe goal is to minimize this function.\n\n**Constraints:**\nThe optimization is subject to several constraints.\n1.  **Relaxed Control Barrier Function (CBF) Constraint:** The fundamental condition for rendering the safe set $\\mathcal{C} = \\{ x \\in \\mathbb{R}^n \\mid h(x) \\ge 0 \\}$ forward invariant is $\\dot{h}(x,u) \\ge -\\alpha(h(x))$, where $\\alpha$ is an extended class-$\\mathcal{K}$ function. In terms of Lie derivatives, this is expressed as $L_f h(x) + L_g h(x) u \\ge -\\alpha(h(x))$. To ensure feasibility, this constraint is relaxed using a non-negative slack variable $\\delta$, leading to the inequality:\n    $$L_f h(x) + L_g h(x) u + \\alpha(h(x)) \\ge -\\delta$$\n    Substituting the given numerical values: $L_f h = -0.7$, $L_g h = \\begin{bmatrix} 0.6  -0.8 \\end{bmatrix}$, and $\\alpha(h) = -0.1$.\n    $$-0.7 + \\begin{bmatrix} 0.6  -0.8 \\end{bmatrix} \\begin{bmatrix} u_1 \\\\ u_2 \\end{bmatrix} - 0.1 \\ge -\\delta$$\n    $$-0.8 + 0.6 u_1 - 0.8 u_2 \\ge -\\delta$$\n    Rearranging this into a standard form for a linear constraint gives:\n    $$0.6 u_1 - 0.8 u_2 + \\delta \\ge 0.8$$\n\n2.  **Control Input Bounds:** The control input $u$ is subject to hard bounds, $u \\in \\mathcal{U}$, where $u_1 \\in [-0.4, 0.6]$ and $u_2 \\in [-0.3, 0.2]$. These are expressed as box constraints:\n    $$-0.4 \\le u_1 \\le 0.6$$\n    $$-0.3 \\le u_2 \\le 0.2$$\n\n3.  **Slack Variable Non-negativity:** The slack variable $\\delta$ must be non-negative, as stated in the problem.\n    $$\\delta \\ge 0$$\n\n**Complete QP formulation:**\nCombining the objective function and all constraints, the explicit QP to be solved by the digital twin is:\n$$\\text{Minimize}_{u_1, u_2, \\delta} \\quad (u_1 - 0.2)^2 + (u_2 - 0.1)^2 + 50 \\delta^2$$\n$$\\text{Subject to:}$$\n$$\\begin{cases}\n0.6 u_1 - 0.8 u_2 + \\delta \\ge 0.8 \\\\\n-0.4 \\le u_1 \\le 0.6 \\\\\n-0.3 \\le u_2 \\le 0.2 \\\\\n\\delta \\ge 0\n\\end{cases}$$\n\n### Part 2: Minimal Feasible Relaxation\n\nThe second task is to determine the minimal relaxation $\\delta_{\\min}$ required for the CBF inequality to be feasible, given the bounds on the control input $u$.\n\nThe relaxed CBF inequality must be satisfied by some control $u \\in \\mathcal{U}$. The inequality can be written as:\n$$0.6 u_1 - 0.8 u_2 \\ge 0.8 - \\delta$$\nFor a given $\\delta$, a feasible control $u = \\begin{bmatrix} u_1 \\\\ u_2 \\end{bmatrix}$ exists within the bounds $\\mathcal{U} = [-0.4, 0.6] \\times [-0.3, 0.2]$ if and only if the maximum possible value of the left-hand side over the set $\\mathcal{U}$ is greater than or equal to the right-hand side.\n\nLet the expression on the left-hand side be a function of the control input, $C(u) = 0.6 u_1 - 0.8 u_2$. We need to find the maximum value of this function over the compact set $\\mathcal{U}$:\n$$C_{\\max} = \\max_{u \\in \\mathcal{U}} C(u) = \\max_{\\substack{-0.4 \\le u_1 \\le 0.6 \\\\ -0.3 \\le u_2 \\le 0.2}} (0.6 u_1 - 0.8 u_2)$$\nSince $C(u)$ is a linear function and the domain $\\mathcal{U}$ is a rectangle (a convex polytope), the maximum must occur at one of the vertices. Alternatively, since the terms involving $u_1$ and $u_2$ are separable, we can maximize them independently:\n- The term $0.6 u_1$ is maximized when $u_1$ is maximal. Since $u_1 \\in [-0.4, 0.6]$, we choose $u_1 = 0.6$.\n- The term $-0.8 u_2$ is maximized when $u_2$ is minimal. Since $u_2 \\in [-0.3, 0.2]$, we choose $u_2 = -0.3$.\n\nThus, the maximum value of $C(u)$ is:\n$$C_{\\max} = 0.6 \\times (0.6) - 0.8 \\times (-0.3) = 0.36 + 0.24 = 0.6$$\n\nFor the CBF inequality to have a solution $u \\in \\mathcal{U}$, we must satisfy the condition:\n$$C_{\\max} \\ge 0.8 - \\delta$$\nSubstituting the value of $C_{\\max}$:\n$$0.6 \\ge 0.8 - \\delta$$\nRearranging this inequality to solve for $\\delta$:\n$$\\delta \\ge 0.8 - 0.6$$\n$$\\delta \\ge 0.2$$\nThe problem requires the minimal relaxation $\\delta_{\\min}$, which is the smallest value of $\\delta$ that satisfies this condition. We also have the physical constraint that the slack variable must be non-negative, $\\delta \\ge 0$.\nThe minimal value $\\delta_{\\min}$ must satisfy both conditions. Therefore,\n$$\\delta_{\\min} = \\max\\{0, 0.2\\} = 0.2$$\nThe minimal relaxation required to ensure feasibility of the CBF constraint is $\\delta_{\\min} = 0.2$.",
            "answer": "$$\n\\boxed{0.2}\n$$"
        }
    ]
}