{
    "hands_on_practices": [
        {
            "introduction": "分析联邦系统的第一步是理解其集体行为。这涉及到创建一个单一的数学模型，该模型能捕捉所有互连子系统的动态。本练习将演示如何为互连的线性时不变（LTI）系统构建一个复合状态空间模型。通过求解其平衡点，我们将实践一项基础技能，即评估整个联邦数字孪生的稳态行为，这对于稳定性分析至关重要。",
            "id": "4209278",
            "problem": "一个联合赛博物理系统 (Cyber-Physical System, CPS) 的组合数字孪生 (Digital Twin, DT) 是通过互联两个线性时不变子系统孪生而形成的。子系统 $1$ 的状态为 $x_1 \\in \\mathbb{R}^{2}$，输入为 $u_1 \\in \\mathbb{R}^{2}$，输出为 $y_1 \\in \\mathbb{R}^{2}$，其动态特性为\n$$\n\\dot{x}_1 = A_1 x_1 + B_1 u_1, \\quad y_1 = C_1 x_1 + D_1 u_1,\n$$\n子系统 $2$ 的状态为 $x_2 \\in \\mathbb{R}^{2}$，输入为 $u_2 \\in \\mathbb{R}^{2}$，输出为 $y_2 \\in \\mathbb{R}^{2}$，其动态特性为\n$$\n\\dot{x}_2 = A_2 x_2 + B_2 u_2, \\quad y_2 = C_2 x_2 + D_2 u_2.\n$$\n在这个联合组合 DT 中，互联关系定义为\n$$\nu_1 = C_2 x_2, \\qquad u_2 = C_1 x_1,\n$$\n即，每个子系统的输入是另一个子系统基于状态的输出（互联中没有使用直接馈通）。子系统的参数矩阵为\n$$\nA_1=\\begin{pmatrix}-1  2\\\\ -3  -4\\end{pmatrix},\\quad B_1=\\begin{pmatrix}1  0\\\\ 0  1\\end{pmatrix},\\quad C_1=\\begin{pmatrix} \\frac{1}{2}  0\\\\ 0  -1\\end{pmatrix},\\quad D_1=\\begin{pmatrix}0  0\\\\ 0  0\\end{pmatrix},\n$$\n$$\nA_2=\\begin{pmatrix}-2  1\\\\ 1  -3\\end{pmatrix},\\quad B_2=\\begin{pmatrix}2  0\\\\ 0  1\\end{pmatrix},\\quad C_2=\\begin{pmatrix}1  1\\\\ 0  2\\end{pmatrix},\\quad D_2=\\begin{pmatrix}0  0\\\\ 0  0\\end{pmatrix}.\n$$\n仅使用线性时不变系统的基本状态空间建模原理和自治系统平衡的定义，确定在给定互联下的组合联合 DT 的平衡点 $(x_1^{\\star},x_2^{\\star})$。请将您的最终答案表示为单个行向量\n$$\n\\begin{pmatrix} x_{1,1}^{\\star}  x_{1,2}^{\\star}  x_{2,1}^{\\star}  x_{2,2}^{\\star} \\end{pmatrix}\n$$\n无单位。无需四舍五入；请提供精确值。",
            "solution": "该问题要求确定一个组合联合数字孪生的平衡点 $(x_1^{\\star}, x_2^{\\star})$。该系统由两个互联的线性时不变 (LTI) 子系统描述。\n\n首先，我们为整个组合系统建立数学模型。组合系统的状态是各个子系统状态的串联，定义为 $x = \\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix}$，其中 $x \\in \\mathbb{R}^{4}$。\n\n各个子系统的动态特性由下式给出：\n$$\n\\dot{x}_1 = A_1 x_1 + B_1 u_1\n$$\n$$\n\\dot{x}_2 = A_2 x_2 + B_2 u_2\n$$\n子系统之间的互联由耦合方程定义：\n$$\nu_1 = C_2 x_2\n$$\n$$\nu_2 = C_1 x_1\n$$\n将这些互联法则代入子系统动态方程，得到组合系统的动态特性，该动态特性是其自身状态的函数，从而使其成为一个自治系统：\n$$\n\\dot{x}_1 = A_1 x_1 + B_1 (C_2 x_2) = A_1 x_1 + (B_1 C_2) x_2\n$$\n$$\n\\dot{x}_2 = A_2 x_2 + B_2 (C_1 x_1) = (B_2 C_1) x_1 + A_2 x_2\n$$\n这可以表示为组合系统的标准状态空间形式 $\\dot{x} = A_{comp} x$：\n$$\n\\begin{pmatrix} \\dot{x}_1 \\\\ \\dot{x}_2 \\end{pmatrix} = \\begin{pmatrix} A_1  B_1 C_2 \\\\ B_2 C_1  A_2 \\end{pmatrix} \\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix}\n$$\n这里，$A_{comp} = \\begin{pmatrix} A_1  B_1 C_2 \\\\ B_2 C_1  A_2 \\end{pmatrix}$ 是组合系统的状态矩阵。\n\n自治系统 $\\dot{x} = f(x)$ 的平衡点 $x^{\\star}$ 是一个系统可以无限期保持的状态。这发生在状态导数为零时，即 $\\dot{x} = 0$。对于我们的线性系统，平衡条件是 $\\dot{x}^{\\star} = A_{comp} x^{\\star} = 0$。这是一个齐次线性方程组。\n\n为了找到平衡点，我们必须首先使用给定的参数矩阵构造矩阵 $A_{comp}$。\n给定的矩阵是：\n$$\nA_1=\\begin{pmatrix}-1  2\\\\ -3  -4\\end{pmatrix}, B_1=\\begin{pmatrix}1  0\\\\ 0  1\\end{pmatrix}, C_1=\\begin{pmatrix} \\frac{1}{2}  0\\\\ 0  -1\\end{pmatrix}\n$$\n$$\nA_2=\\begin{pmatrix}-2  1\\\\ 1  -3\\end{pmatrix}, B_2=\\begin{pmatrix}2  0\\\\ 0  1\\end{pmatrix}, C_2=\\begin{pmatrix}1  1\\\\ 0  2\\end{pmatrix}\n$$\n我们计算非对角块矩阵 $B_1 C_2$ 和 $B_2 C_1$：\n$$\nB_1 C_2 = \\begin{pmatrix}1  0\\\\ 0  1\\end{pmatrix} \\begin{pmatrix}1  1\\\\ 0  2\\end{pmatrix} = \\begin{pmatrix}1  1\\\\ 0  2\\end{pmatrix}\n$$\n$$\nB_2 C_1 = \\begin{pmatrix}2  0\\\\ 0  1\\end{pmatrix} \\begin{pmatrix} \\frac{1}{2}  0\\\\ 0  -1\\end{pmatrix} = \\begin{pmatrix}(2)(\\frac{1}{2})+(0)(0)  (2)(0)+(0)(-1)\\\\ (0)(\\frac{1}{2})+(1)(0)  (0)(0)+(1)(-1)\\end{pmatrix} = \\begin{pmatrix}1  0\\\\ 0  -1\\end{pmatrix}\n$$\n现在，我们组装组合状态矩阵 $A_{comp}$：\n$$\nA_{comp} = \\begin{pmatrix} A_1  B_1 C_2 \\\\ B_2 C_1  A_2 \\end{pmatrix} = \\left(\\begin{array}{cc|cc} -1  2  1  1 \\\\ -3  -4  0  2 \\\\ \\hline 1  0  -2  1 \\\\ 0  -1  1  -3 \\end{array}\\right)\n$$\n平衡点 $x^{\\star}$ 是方程 $A_{comp} x^{\\star} = 0$ 的解。非平凡解（即 $x^{\\star} \\neq 0$）存在的充要条件是矩阵 $A_{comp}$ 是奇异的，即其行列式为零（$\\det(A_{comp}) = 0$）。如果矩阵是非奇异的（$\\det(A_{comp}) \\neq 0$），唯一的解就是平凡解 $x^{\\star} = 0$。\n\n我们接下来计算 $A_{comp}$ 的行列式。我们使用拉普拉斯展开法。由于第三行存在一个零元素，沿该行展开是有利的。\n$$\n\\det(A_{comp}) = (1) \\cdot C_{31} + (0) \\cdot C_{32} + (-2) \\cdot C_{33} + (1) \\cdot C_{34}\n$$\n其中 $C_{ij}$ 是第 $i$ 行第 $j$ 列元素的代数余子式。\n$$\n\\det(A_{comp}) = (1) \\cdot (-1)^{3+1} \\det\\begin{pmatrix} 2  1  1 \\\\ -4  0  2 \\\\ -1  1  -3 \\end{pmatrix} + (-2) \\cdot (-1)^{3+3} \\det\\begin{pmatrix} -1  2  1 \\\\ -3  -4  2 \\\\ 0  -1  -3 \\end{pmatrix} + (1) \\cdot (-1)^{3+4} \\det\\begin{pmatrix} -1  2  1 \\\\ -3  -4  0 \\\\ 0  -1  1 \\end{pmatrix}\n$$\n我们计算所需的三个 $3 \\times 3$ 行列式：\n$M_{31} = \\det\\begin{pmatrix} 2  1  1 \\\\ -4  0  2 \\\\ -1  1  -3 \\end{pmatrix} = 2(0-2) - 1(12-(-2)) + 1(-4-0) = -4 - 14 - 4 = -22$。\n$M_{33} = \\det\\begin{pmatrix} -1  2  1 \\\\ -3  -4  2 \\\\ 0  -1  -3 \\end{pmatrix} = -1(12-(-2)) - 2(9-0) + 1(3-0) = -14 - 18 + 3 = -29$。\n$M_{34} = \\det\\begin{pmatrix} -1  2  1 \\\\ -3  -4  0 \\\\ 0  -1  1 \\end{pmatrix} = -1(-4-0) - 2(-3-0) + 1(3-0) = 4 + 6 + 3 = 13$。\n\n将这些值代回 $\\det(A_{comp})$ 的表达式中：\n$$\n\\det(A_{comp}) = (1)(1)(-22) + (-2)(1)(-29) + (1)(-1)(13)\n$$\n$$\n\\det(A_{comp}) = -22 + 58 - 13\n$$\n$$\n\\det(A_{comp}) = 36 - 13 = 23\n$$\n由于 $\\det(A_{comp}) = 23 \\neq 0$，矩阵 $A_{comp}$ 是非奇异的（可逆的）。因此，齐次线性方程组 $A_{comp} x^{\\star} = 0$ 只有一个解，即平凡解 $x^{\\star} = 0$。\n\n平衡状态为 $x^{\\star} = \\begin{pmatrix} x_1^{\\star} \\\\ x_2^{\\star} \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 0 \\\\ 0 \\end{pmatrix}$。这对应于两个子系统都静止在各自的原点。\n以所要求的行向量格式表示，平衡点为 $\\begin{pmatrix} x_{1,1}^{\\star}  x_{1,2}^{\\star}  x_{2,1}^{\\star}  x_{2,2}^{\\star} \\end{pmatrix} = \\begin{pmatrix} 0  0  0  0 \\end{pmatrix}$。",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 0  0  0  0 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "除了连续动态之外，联邦数字孪生还必须通过离散事件和协议来协调其行为。这种协调中的失败，例如死锁，可能会使整个系统陷入瘫痪。本练习介绍了一种用于建模和组合组件交互协议的形式化方法——接口自动机（Interface Automata）。通过构建同步乘积并分析其是否存在死锁，我们学习如何形式化地验证孪生体之间的通信逻辑是健全的，并且没有严重的协调缺陷。",
            "id": "4209229",
            "problem": "在组合式与联邦式数字孪生的背景下，考虑两个组件孪生通过接口自动机（Interface Automata）进行协调，从而在信息物理系统（CPS）中形成一个组合式数字孪生。接口自动机是一个五元组 $\\mathcal{A} = (S_{\\mathcal{A}}, s_{\\mathcal{A},0}, I_{\\mathcal{A}}, O_{\\mathcal{A}}, H_{\\mathcal{A}}, T_{\\mathcal{A}})$，其中 $S_{\\mathcal{A}}$ 是有限状态集，$s_{\\mathcal{A},0} \\in S_{\\mathcal{A}}$ 是初始状态，$I_{\\mathcal{A}}$ 是输入动作集，$O_{\\mathcal{A}}$ 是输出动作集，$H_{\\mathcal{A}}$ 是内部动作集，$T_{\\mathcal{A}} \\subseteq S_{\\mathcal{A}} \\times (I_{\\mathcal{A}} \\cup O_{\\mathcal{A}} \\cup H_{\\mathcal{A}}) \\times S_{\\mathcal{A}}$ 是迁移关系。当一方产生输出且另一方接受其为输入时，组合操作在共享动作上进行同步；共享动作在组合体中变为内部动作。那些启用不匹配共享输出（即另一方在当前状态下无法接受的输出）的状态被认为是不兼容的，并且必须根据经典的接口自动机语义从可达的组合体中移除。\n\n设两个组件孪生由以下接口自动机给出：\n- 第一个自动机 $\\mathcal{A}$ 模拟一个传感孪生：\n  - $S_{\\mathcal{A}} = \\{ s_{0}, s_{1}, s_{2} \\}$，$s_{\\mathcal{A},0} = s_{0}$。\n  - $I_{\\mathcal{A}} = \\{ \\text{resp} \\}$，$O_{\\mathcal{A}} = \\{ \\text{req}, \\text{ping} \\}$，$H_{\\mathcal{A}} = \\{ \\text{work} \\}$。\n  - $T_{\\mathcal{A}}$ 包括：\n    - $(s_{0}, \\text{req}, s_{1})$，\n    - $(s_{1}, \\text{work}, s_{2})$，\n    - $(s_{2}, \\text{req}, s_{1})$，\n    - $(s_{1}, \\text{resp}, s_{0})$，\n    - $(s_{0}, \\text{ping}, s_{0})$。\n- 第二个自动机 $\\mathcal{B}$ 模拟一个执行孪生：\n  - $S_{\\mathcal{B}} = \\{ t_{0}, t_{1} \\}$，$s_{\\mathcal{B},0} = t_{0}$。\n  - $I_{\\mathcal{B}} = \\{ \\text{req} \\}$，$O_{\\mathcal{B}} = \\{ \\text{resp}, \\text{alarm} \\}$，$H_{\\mathcal{B}} = \\{ \\text{calc} \\}$。\n  - $T_{\\mathcal{B}}$ 包括：\n    - $(t_{0}, \\text{req}, t_{1})$，\n    - $(t_{1}, \\text{resp}, t_{0})$，\n    - $(t_{0}, \\text{alarm}, t_{0})$，\n    - $(t_{1}, \\text{calc}, t_{1})$。\n\n设共享动作字母表为 $\\Sigma = \\{ \\text{req}, \\text{resp} \\}$；$\\Sigma$ 之外的动作不被共享。定义同步积 $\\mathcal{A} \\parallel \\mathcal{B}$ 如下：\n- 组合状态 $S = S_{\\mathcal{A}} \\times S_{\\mathcal{B}}$，初始状态为 $(s_{0}, t_{0})$。\n- 内部动作和非共享动作在各自的组件上交错执行。\n- $\\Sigma$ 中的共享动作仅当在当前状态对下，它们在一个组件中作为输出被启用，并在另一个组件中作为输入被启用时才进行同步，同步后在组合体中变为内部动作。\n- 不兼容的状态被移除：如果存在一个动作 $a \\in \\Sigma$，使得在某个组件的当前状态下 $a$ 作为输出被启用，而在另一个组件的当前状态下 $a$ 没有作为输入被启用，则组合状态 $(s, t)$ 是不兼容的。\n\n根据这些规则计算同步积，移除不兼容状态，然后确定最终得到的组合自动机中可达死锁状态的数量，其中死锁状态是一个没有任何被启用的内部、同步或非共享输出动作的可达组合状态。以整数形式表示最终答案。无需四舍五入，不涉及物理单位。你的推理必须从上面提供的形式化定义出发，并遵循适用于CPS中组合式与联邦式数字孪生的接口自动机组合的基本原则。",
            "solution": "该问题要求计算由两个接口自动机 $\\mathcal{A}$ 和 $\\mathcal{B}$ 的同步积所形成的组合式数字孪生中可达死锁状态的数量。解决方案的步骤是：首先验证问题，然后构建组合自动机，根据接口自动机的规则对其进行剪枝，最后分析其可达状态以寻找死锁。\n\n### 第1步：问题验证\n\n问题陈述已经过验证，被认为是有效的。\n- **已知条件**：\n  - 自动机 $\\mathcal{A}$：\n    - 状态 $S_{\\mathcal{A}} = \\{ s_{0}, s_{1}, s_{2} \\}$，初始状态 $s_{\\mathcal{A},0} = s_{0}$。\n    - 输入动作 $I_{\\mathcal{A}} = \\{ \\text{resp} \\}$。\n    - 输出动作 $O_{\\mathcal{A}} = \\{ \\text{req}, \\text{ping} \\}$。\n    - 内部动作 $H_{\\mathcal{A}} = \\{ \\text{work} \\}$。\n    - 迁移 $T_{\\mathcal{A}} = \\{ (s_{0}, \\text{req}, s_{1}), (s_{1}, \\text{work}, s_{2}), (s_{2}, \\text{req}, s_{1}), (s_{1}, \\text{resp}, s_{0}), (s_{0}, \\text{ping}, s_{0}) \\}$。\n  - 自动机 $\\mathcal{B}$：\n    - 状态 $S_{\\mathcal{B}} = \\{ t_{0}, t_{1} \\}$，初始状态 $s_{\\mathcal{B},0} = t_{0}$。\n    - 输入动作 $I_{\\mathcal{B}} = \\{ \\text{req} \\}$。\n    - 输出动作 $O_{\\mathcal{B}} = \\{ \\text{resp}, \\text{alarm} \\}$。\n    - 内部动作 $H_{\\mathcal{B}} = \\{ \\text{calc} \\}$。\n    - 迁移 $T_{\\mathcal{B}} = \\{ (t_{0}, \\text{req}, t_{1}), (t_{1}, \\text{resp}, t_{0}), (t_{0}, \\text{alarm}, t_{0}), (t_{1}, \\text{calc}, t_{1}) \\}$。\n  - 共享动作字母表 $\\Sigma = \\{ \\text{req}, \\text{resp} \\}$。\n  - 组合规则：标准的接口自动机组合，并移除不兼容状态。如果一个组件启用的共享输出在另一个组件中不是一个启用的输入，则组合状态 $(s, t)$ 是不兼容的。\n  - 死锁状态是一个没有任何出向迁移的可达状态。\n- **结论**：该问题在接口自动机理论中有科学依据，是良构的、客观且自洽的。因此，该问题是有效的。\n\n### 第2步：构建组合自动机\n\n设组合自动机为 $\\mathcal{P} = \\mathcal{A} \\parallel \\mathcal{B}$。\n\n**2.1. 组合状态空间**\n完整的、未剪枝的状态空间是组件状态空间的笛卡尔积：\n$S = S_{\\mathcal{A}} \\times S_{\\mathcal{B}} = \\{ (s_{0}, t_{0}), (s_{0}, t_{1}), (s_{1}, t_{0}), (s_{1}, t_{1}), (s_{2}, t_{0}), (s_{2}, t_{1}) \\}$。\n初始状态为 $(s_{\\mathcal{A},0}, s_{\\mathcal{B},0}) = (s_{0}, t_{0})$。\n\n**2.2. 识别不兼容状态**\n如果存在一个共享动作 $a \\in \\Sigma = \\{\\text{req}, \\text{resp}\\}$，使得动作 $a$ 在状态 $s$（或 $t$）是一个启用的输出，但在状态 $t$（或 $s$）不是一个启用的输入，则组合状态 $(s, t)$ 是不兼容的。\n\n- $\\mathcal{A}$ 的启用输出：\n  - 从 $s_{0}$：$\\text{req}, \\text{ping}$。共享输出：$\\text{req}$。\n  - 从 $s_{1}$：无。\n  - 从 $s_{2}$：$\\text{req}$。共享输出：$\\text{req}$。\n- $\\mathcal{A}$ 的启用输入：\n  - 从 $s_{1}$：$\\text{resp}$。\n- $\\mathcal{B}$ 的启用输出：\n  - 从 $t_{0}$：$\\text{alarm}$。无共享输出。\n  - 从 $t_{1}$：$\\text{resp}$。共享输出：$\\text{resp}$。\n- $\\mathcal{B}$ 的启用输入：\n  - 从 $t_{0}$：$\\text{req}$。\n\n我们检查每一对 $(s, t) \\in S$：\n- $(s_{0}, t_{0})$：$\\mathcal{A}$ 可以输出 $\\text{req}$；$\\mathcal{B}$ 在 $t_{0}$ 可以输入 $\\text{req}$。$\\mathcal{B}$ 在 $t_{0}$ 没有共享输出。此状态是兼容的。\n- $(s_{0}, t_{1})$：$\\mathcal{A}$ 在 $s_{0}$ 可以输出 $\\text{req}$。$\\mathcal{B}$ 在 $t_{1}$ 没有针对 $\\text{req}$ 的输入迁移。因此，$(s_{0}, t_{1})$ 是**不兼容的**。\n- $(s_{1}, t_{0})$：$\\mathcal{A}$ 在 $s_{1}$ 没有共享输出。$\\mathcal{B}$ 在 $t_{0}$ 没有共享输出。此状态是兼容的。\n- $(s_{1}, t_{1})$：$\\mathcal{B}$ 在 $t_{1}$ 可以输出 $\\text{resp}$；$\\mathcal{A}$ 在 $s_{1}$ 可以输入 $\\text{resp}$。此状态是兼容的。\n- $(s_{2}, t_{0})$：$\\mathcal{A}$ 在 $s_{2}$ 可以输出 $\\text{req}$；$\\mathcal{B}$ 在 $t_{0}$ 可以输入 $\\text{req}$。此状态是兼容的。\n- $(s_{2}, t_{1})$：$\\mathcal{A}$ 在 $s_{2}$ 可以输出 $\\text{req}$。$\\mathcal{B}$ 在 $t_{1}$ 没有针对 $\\text{req}$ 的输入迁移。因此，$(s_{2}, t_{1})$ 是**不兼容的**。\n\n不兼容状态集为 $S_{\\text{incomp}} = \\{ (s_{0}, t_{1}), (s_{2}, t_{1}) \\}$。组合自动机将定义在合法状态集上，任何导致不兼容状态的迁移都将被移除。\n\n**2.3. 在剪枝后的自动机上进行可达性分析**\n我们从初始状态 $(s_{0}, t_{0})$ 开始，在遵守不兼容性约束的同时进行可达性分析。可达状态集 $\\mathcal{R}$ 是迭代构建的。\n\n- 初始可达集：$\\mathcal{R} = \\{ (s_{0}, t_{0}) \\}$。\n\n- **从 $(s_{0}, t_{0})$ 开始探索：**\n  - **`req` 上的同步**：$\\mathcal{A}$ 有一个输出迁移 $(s_{0}, \\text{req}, s_{1})$，$\\mathcal{B}$ 有一个输入迁移 $(t_{0}, \\text{req}, t_{1})$。它们同步，产生组合体中的一个内部迁移：$((s_{0}, t_{0}), \\text{req}_{\\text{sync}}, (s_{1}, t_{1}))$。目标状态 $(s_{1}, t_{1})$ 是兼容的。我们将 $(s_{1}, t_{1})$ 添加到可达集中。$\\mathcal{R} = \\{ (s_{0}, t_{0}), (s_{1}, t_{1}) \\}$。\n  - **`ping` 的交错**：$\\mathcal{A}$ 有一个非共享输出迁移 $(s_{0}, \\text{ping}, s_{0})$。这产生一个组合迁移 $((s_{0}, t_{0}), \\text{ping}, (s_{0}, t_{0}))$。目标状态已在 $\\mathcal{R}$ 中。\n  - **`alarm` 的交错**：$\\mathcal{B}$ 有一个非共享输出迁移 $(t_{0}, \\text{alarm}, t_{0})$。这产生一个组合迁移 $((s_{0}, t_{0}), \\text{alarm}, (s_{0}, t_{0}))$。目标状态已在 $\\mathcal{R}$ 中。\n\n- **从 $(s_{1}, t_{1})$ 开始探索：**\n  - **`resp` 上的同步**：$\\mathcal{B}$ 有一个输出迁移 $(t_{1}, \\text{resp}, t_{0})$，$\\mathcal{A}$ 有一个输入迁移 $(s_{1}, \\text{resp}, s_{0})$。它们同步，产生一个内部迁移：$((s_{1}, t_{1}), \\text{resp}_{\\text{sync}}, (s_{0}, t_{0}))$。目标状态 $(s_{0}, t_{0})$ 已在 $\\mathcal{R}$ 中。\n  - **`work` 的交错**：$\\mathcal{A}$ 有一个内部迁移 $(s_{1}, \\text{work}, s_{2})$。这将创建一个到状态 $(s_{2}, t_{1})$ 的组合迁移。然而，$(s_{2}, t_{1})$ 是一个不兼容的状态。因此，这个迁移从组合自动机中被移除。\n  - **`calc` 的交错**：$\\mathcal{B}$ 有一个内部迁移 $(t_{1}, \\text{calc}, t_{1})$。这导致一个组合迁移 $((s_{1}, t_{1}), \\text{calc}, (s_{1}, t_{1}))$。目标状态已在 $\\mathcal{R}$ 中。\n\n没有新的状态被添加到 $\\mathcal{R}$。探索完成。最终组合自动机中的可达状态集为 $\\mathcal{R} = \\{ (s_{0}, t_{0}), (s_{1}, t_{1}) \\}$。\n\n### 第3步：识别死锁状态\n\n死锁状态是一个没有任何被启用的出向迁移（内部、同步或非共享输出）的可达状态。我们检查 $\\mathcal{R}$ 中的每个状态。\n\n- **状态 $(s_{0}, t_{0})$：**\n  该状态在最终组合自动机中有以下被启用的出向迁移：\n  1. $((s_{0}, t_{0}), \\text{req}_{\\text{sync}}, (s_{1}, t_{1}))$ (同步)\n  2. $((s_{0}, t_{0}), \\text{ping}, (s_{0}, t_{0}))$ (非共享输出)\n  3. $((s_{0}, t_{0}), \\text{alarm}, (s_{0}, t_{0}))$ (非共享输出)\n  由于它有出向迁移，$(s_{0}, t_{0})$ 不是一个死锁状态。\n\n- **状态 $(s_{1}, t_{1})$：**\n  该状态有以下被启用的出向迁移：\n  1. $((s_{1}, t_{1}), \\text{resp}_{\\text{sync}}, (s_{0}, t_{0}))$ (同步)\n  2. $((s_{1}, t_{1}), \\text{calc}, (s_{1}, t_{1}))$ (内部)\n  由于它有出向迁移，$(s_{1}, t_{1})$ 不是一个死锁状态。\n\n两个可达状态都不是死锁状态。因此，可达死锁状态的数量为 $0$。",
            "answer": "$$\\boxed{0}$$"
        },
        {
            "introduction": "实现联邦数字孪生通常涉及协同仿真（co-simulation），即多个仿真模型并发运行并交换数据。当这些模型之间存在瞬时依赖关系（即直接馈通）时，会在每个时间步产生一个必须求解的代数环。本练习基于压缩映射原理，探讨了用于解决此类代数环的高斯-赛德尔（Gauss-Seidel）迭代方案的收敛性。通过推导保证收敛的最大仿真步长，我们为确保协同仿真的数值稳定性并产生可靠结果提供了关键洞见。",
            "id": "4209299",
            "problem": "考虑两个耦合的功能模型单元 (FMU)，其中功能模型单元 (FMU) 指的是一种具有明确定义的输入输出行为的标准化黑盒模型。每个 FMU 是一个具有直接馈通和连续时间状态动力学的单输入单输出线性时不变系统。对于 FMU $i \\in \\{1,2\\}$，其连续时间动力学和输出由下式给出\n$$\n\\dot{x}_{i}(t) = a_{i}\\,x_{i}(t) + b_{i}\\,u_{i}(t), \\quad y_{i}(t) = c_{i}\\,x_{i}(t) + d_{i}\\,u_{i}(t),\n$$\n其中 $a_{i}, b_{i}, c_{i}, d_{i}$ 是非负实标量，$x_{i}(t)$ 是状态，$u_{i}(t)$ 是输入，$y_{i}(t)$ 是输出。这些 FMU 在联合仿真环境中耦合，宏步长为 $h > 0$，在每个宏步长 $t_{n} \\mapsto t_{n+1} = t_{n} + h$ 处使用高斯-赛德尔顺序，并遵循以下代数耦合：\n$$\nu_{1}(t_{n+1}) = y_{2}(t_{n+1}), \\quad u_{2}(t_{n+1}) = y_{1}(t_{n+1}).\n$$\n假设每个 FMU 内部的单步数值积分使用前向欧拉法，并且直接馈通项满足 $d_{1} d_{2}  1$。\n\n从前向欧拉离散化原理、Lipschitz 连续性定义和 Banach 不动点定理（压缩映射原理）出发，完成以下任务：\n\n1. 推导高斯-赛德尔不动点迭代，该迭代在宏步长 $t_{n+1}$ 处使用 $y_{1}(t_{n+1})$ 的最新值和 $y_{2}(t_{n+1})$ 的前一次迭代值来更新耦合变量 $y_{2}(t_{n+1})$。将此迭代明确表示为关于 $y_{2}(t_{n+1})$ 的仿射映射。\n\n2. 使用由前向欧拉离散化和给定系统结构得出的 Lipschitz 常数，推导高斯-赛德尔迭代收敛的充分条件。将此条件简化为以下形式的单个不等式：\n$$\n\\left(d_{1} + h\\,c_{1} b_{1}\\right)\\left(d_{2} + h\\,c_{2} b_{2}\\right)  1.\n$$\n\n3. 确定保证高斯-赛德尔联合仿真不动点迭代收敛的最大容许宏步长 $h_{\\max}$ 的精确闭式表达式，该表达式仅用 $i \\in \\{1,2\\}$ 的 $a_{i}, b_{i}, c_{i}, d_{i}$ 表示，并满足任务2中推导的条件。将 $h_{\\max}$ 以单个解析表达式的形式给出。\n\n无需数值取整，最终表达式中不应包含任何单位。",
            "solution": "该问题要求分析一个用于两个耦合线性时不变 (LTI) 系统的高斯-赛德尔联合仿真方案，这两个系统表示为功能模型单元 (FMU)。分析分三步进行：推导不动点迭代，建立收敛条件，以及确定最大允许步长 $h_{\\max}$。\n\n每个 FMU $i \\in \\{1,2\\}$ 的连续时间动力学由下式给出：\n$$\n\\dot{x}_{i}(t) = a_{i}\\,x_{i}(t) + b_{i}\\,u_{i}(t)\n$$\n$$\ny_{i}(t) = c_{i}\\,x_{i}(t) + d_{i}\\,u_{i}(t)\n$$\n所有参数 $a_{i}, b_{i}, c_{i}, d_{i}$ 均为非负实标量。在每个宏步长 $t_{n+1} = t_{n}+h$ 处的耦合是代数的：\n$$\nu_{1}(t_{n+1}) = y_{2}(t_{n+1}), \\quad u_{2}(t_{n+1}) = y_{1}(t_{n+1})\n$$\n这为 $t_{n+1}$ 处的耦合变量定义了一个代数方程组，必须通过迭代求解。问题指定了高斯-赛德尔迭代方案。\n\n为了推导一个依赖于步长 $h$ 的收敛条件，我们必须首先确定输出 $y_{i}(t_{n+1})$ 如何依赖于输入 $u_{i}(t_{n+1})$。这种依赖关系是由数值积分方案产生的。问题指出使用了前向欧拉法。在具有隐式耦合的联合仿真背景下，这通常被解释为半隐式或显式积分器-隐式耦合方案。状态导数在 $t_n$ 处计算，但在代数环中，它是 $t_{n+1}$ 处输入的函数。因此，状态方程更精确的离散化形式是：\n$$\n\\frac{x_{i}(t_{n+1}) - x_{i}(t_{n})}{h} = a_{i}\\,x_{i}(t_{n}) + b_{i}\\,u_{i}(t_{n+1})\n$$\n这是一个类似前向欧拉的更新，其中导数的状态依赖部分在 $t_n$ 处计算，而输入则取自 $t_{n+1}$ 以形成隐式代数约束。重新整理 $x_{i}(t_{n+1})$：\n$$\nx_{i}(t_{n+1}) = x_{i}(t_{n}) + h \\left( a_{i}\\,x_{i}(t_{n}) + b_{i}\\,u_{i}(t_{n+1}) \\right) = (1+ha_{i})x_{i}(t_{n}) + h b_{i} u_{i}(t_{n+1})\n$$\n现在，我们将其代入 $y_{i}(t_{n+1})$ 的输出方程中：\n$$\ny_{i}(t_{n+1}) = c_{i}x_{i}(t_{n+1}) + d_{i}u_{i}(t_{n+1}) = c_{i}\\left( (1+ha_{i})x_{i}(t_{n}) + h b_{i} u_{i}(t_{n+1}) \\right) + d_{i}u_{i}(t_{n+1})\n$$\n对依赖于 $u_{i}(t_{n+1})$ 和 $x_i(t_n)$ 的项进行分组：\n$$\ny_{i}(t_{n+1}) = c_{i}(1+ha_{i})x_{i}(t_{n}) + (d_{i} + h c_{i} b_{i})u_{i}(t_{n+1})\n$$\n这个方程定义了一个从输入 $u_{i}(t_{n+1})$ 到输出 $y_{i}(t_{n+1})$ 的仿射映射。我们将仅依赖于前一步 $t_n$ 状态的常数部分定义为 $z_{i,n} = c_{i}(1+ha_{i})x_{i}(t_{n})$，增益定义为 $L_{i}(h) = d_{i} + h c_{i} b_{i}$。在步长 $t_{n+1}$ 处的输入输出关系是：\n$$\ny_{i}(t_{n+1}) = z_{i,n} + L_{i}(h)u_{i}(t_{n+1})\n$$\n现在我们可以分析耦合系统的迭代解。为简洁起见，令 $y_i = y_i(t_{n+1})$ 和 $u_i = u_i(t_{n+1})$。待解系统为：\n$$\ny_{1} = z_{1,n} + L_{1}(h)u_{1}\n$$\n$$\ny_{2} = z_{2,n} + L_{2}(h)u_{2}\n$$\n耦合约束为 $u_{1} = y_{2}$ 和 $u_{2} = y_{1}$。代入这些约束得到：\n$$\ny_{1} = z_{1,n} + L_{1}(h)y_{2}\n$$\n$$\ny_{2} = z_{2,n} + L_{2}(h)y_{1}\n$$\n\n**1. 高斯-赛德尔不动点迭代的推导**\n\n问题指定了一个高斯-赛德尔顺序，它使用 $y_{1}(t_{n+1})$ 的最新值来更新 $y_{2}(t_{n+1})$。这意味着在每次迭代中，计算顺序为 FMU $1 \\to$ FMU $2$。令 $y_i^{(k)}$ 表示 $y_i$ 的第 $k$ 次迭代值。迭代方案为：\n$$\ny_{1}^{(k+1)} = z_{1,n} + L_{1}(h)y_{2}^{(k)}\n$$\n$$\ny_{2}^{(k+1)} = z_{2,n} + L_{2}(h)y_{1}^{(k+1)}\n$$\n为了找到 $y_2$ 作为其前一值的仿射映射的迭代，我们将 $y_{1}^{(k+1)}$ 的表达式代入第二个方程：\n$$\ny_{2}^{(k+1)} = z_{2,n} + L_{2}(h) \\left( z_{1,n} + L_{1}(h)y_{2}^{(k)} \\right)\n$$\n$$\ny_{2}^{(k+1)} = (z_{2,n} + L_{2}(h)z_{1,n}) + (L_{1}(h)L_{2}(h)) y_{2}^{(k)}\n$$\n这就是所要求的仿射映射。让我们用原始参数明确地写出它。令 $y_{2,n+1}^{(k)}$ 为 $y_{2}(t_{n+1})$ 的第 $k$ 次迭代值。\n$$\ny_{2,n+1}^{(k+1)} = \\left( c_{2}(1+ha_{2})x_{2}(t_{n}) + (d_{2} + h c_{2} b_{2})c_{1}(1+ha_{1})x_{1}(t_{n}) \\right) + \\left( (d_{1} + h c_{1} b_{1})(d_{2} + h c_{2} b_{2}) \\right) y_{2,n+1}^{(k)}\n$$\n这是一个形式为 $y^{(k+1)} = C + K y^{(k)}$ 的迭代，它是一个仿射映射。\n\n**2. 收敛条件的推导**\n\n根据 Banach 不动点定理（压缩映射原理），如果函数 $F$ 是一个压缩映射，则迭代 $y_2^{(k+1)} = F(y_2^{(k)})$ 对于任何初始猜测都会收敛到一个唯一的不动点。对于仿射映射 $F(y) = C + Ky$，此条件等价于其 Lipschitz 常数小于 $1$。Lipschitz 常数为 $|K|$。\n在我们的例子中，仿射映射的斜率为 $K = L_{1}(h)L_{2}(h)$。因此，收敛条件是：\n$$\n|L_{1}(h)L_{2}(h)|  1\n$$\n让我们代入 $L_1(h)$ 和 $L_2(h)$ 的表达式：\n$$\n|(d_{1} + h c_{1} b_{1})(d_{2} + h c_{2} b_{2})|  1\n$$\n问题指出 $a_i, b_i, c_i, d_i$ 均为非负实标量，且 $h > 0$。因此，项 $c_1 b_1 \\ge 0$ 和 $c_2 b_2 \\ge 0$。这意味着 $d_{1} + h c_{1} b_{1} \\ge 0$ 和 $d_{2} + h c_{2} b_{2} \\ge 0$。这两个项的乘积因此是非负的，可以去掉绝对值符号。收敛的充分条件变为：\n$$\n(d_{1} + h c_{1} b_{1})(d_{2} + h c_{2} b_{2})  1\n$$\n这与任务2中给出的不等式相符。\n\n**3. 最大步长 $h_{\\max}$ 的确定**\n\n我们必须找到满足收敛条件的最大 $h  0$。展开不等式：\n$$\nd_{1}d_{2} + h d_1 c_2 b_2 + h d_2 c_1 b_1 + h^2 (c_1 b_1)(c_2 b_2)  1\n$$\n这是一个关于 $h$ 的二次不等式。让我们将其重新排列成标准形式 $Ph^2 + Qh + R  0$：\n$$\n(c_{1}b_{1}c_{2}b_{2})h^2 + (d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1})h + (d_{1}d_{2} - 1)  0\n$$\n让我们确定系数：\n$P = c_{1}b_{1}c_{2}b_{2}$\n$Q = d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1}$\n$R = d_{1}d_{2} - 1$\n\n根据问题陈述，所有基本参数都是非负的，所以 $P \\ge 0$ 和 $Q \\ge 0$。给定的条件 $d_{1}d_{2}  1$ 意味着 $R  0$。\n二次函数 $f(h) = Ph^2 + Qh + R$ 表示一个开口向上的抛物线（如果 $P=0$ 则为一条直线）。在 $h=0$ 时，$f(0) = R  0$。对于小的正数 $h$，不等式成立。为了找到 $h$ 的上界，我们需要找到方程 $Ph^2 + Qh + R = 0$ 的正根。\n根由 $h = \\frac{-Q \\pm \\sqrt{Q^2 - 4PR}}{2P}$ 给出。由于 $P \\ge 0$，$Q \\ge 0$ 且 $R  0$，判别式 $\\Delta = Q^2 - 4PR$ 始终非负，保证了实根的存在。带有负号的根 $\\frac{-Q - \\sqrt{\\Delta}}{2P}$ 是非正的。定义 $h_{\\max}$ 的正根是 $h_{\\max} = \\frac{-Q + \\sqrt{Q^2 - 4PR}}{2P}$。\n\n该根的一个更数值稳定和通用的形式，它也能很好地处理 $P=0$ 的情况，是通过将分子和分母同乘以分子的共轭项得到的：\n$$\nh_{\\max} = \\frac{-Q + \\sqrt{Q^2 - 4PR}}{2P} \\times \\frac{-Q - \\sqrt{Q^2 - 4PR}}{-Q - \\sqrt{Q^2 - 4PR}} = \\frac{Q^2 - (Q^2 - 4PR)}{2P(-Q - \\sqrt{Q^2 - 4PR})} = \\frac{4PR}{2P(-Q - \\sqrt{\\Delta})} = \\frac{2R}{-Q - \\sqrt{\\Delta}}\n$$\n当 $P$ 很小时，这种形式可以避免灾难性抵消，并且在 $P \\to 0$ 时表现良好。代入 $P, Q, R$ 和 $\\Delta = Q^2 - 4PR$：\n$$\nh_{\\max} = \\frac{2(d_{1}d_{2} - 1)}{-(d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1}) - \\sqrt{(d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1})^2 - 4(c_{1}b_{1}c_{2}b_{2})(d_{1}d_{2} - 1)}}\n$$\n由于 $d_1 d_2 - 1  0$，我们可以同时翻转分子和分母的符号：\n$$\nh_{\\max} = \\frac{2(1 - d_{1}d_{2})}{d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1} + \\sqrt{(d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1})^2 + 4c_{1}b_{1}c_{2}b_{2}(1 - d_{1}d_{2})}}\n$$\n平方根下的项可以展开和简化：\n$(d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1})^2 + 4c_{1}b_{1}c_{2}b_{2}(1 - d_{1}d_{2}) = (d_{1}c_{2}b_{2})^2 + 2d_1d_2c_1b_1c_2b_2 + (d_{2}c_{1}b_{1})^2 + 4c_1b_1c_2b_2 - 4d_1d_2c_1b_1c_2b_2$\n$= (d_{1}c_{2}b_{2})^2 - 2d_1d_2c_1b_1c_2b_2 + (d_{2}c_{1}b_{1})^2 + 4c_1b_1c_2b_2 = (d_{1}c_{2}b_{2} - d_{2}c_{1}b_{1})^2 + 4c_{1}b_{1}c_{2}b_{2}$\n所以 $h_{\\max}$ 的最终表达式是：\n$$\nh_{\\max} = \\frac{2(1-d_1d_2)}{d_1c_2b_2 + d_2c_1b_1 + \\sqrt{(d_1c_2b_2 - d_2c_1b_1)^2 + 4c_1b_1c_2b_2}}\n$$\n这个单一的解析表达式对所有非负参数值都有效，如果 $c_1b_1c_2b_2 > 0$ 则正确地得出一个有限正值，如果 $c_1b_1c_2b_2 = 0$ 但 $d_1c_2b_2+d_2c_1b_1 > 0$ 则得出另一个有限正值，如果二次项和线性项都消失，则 $h_{\\max} \\to \\infty$，因为分母中的所有项都是非负的，并且只能同时为零。参数 $a_1$ 和 $a_2$ 不影响收敛条件。",
            "answer": "$$\n\\boxed{\\frac{2(1-d_{1}d_{2})}{d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1} + \\sqrt{(d_{1}c_{2}b_{2} - d_{2}c_{1}b_{1})^{2} + 4c_{1}b_{1}c_{2}b_{2}}}}\n$$"
        }
    ]
}