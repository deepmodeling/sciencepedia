{"hands_on_practices": [{"introduction": "The foundation of sequential logic lies in the concept of stateâ€”a memory of past events that influences future behavior. In synthetic biology, we can engineer genetic circuits that act as finite-state machines, transitioning between discrete operational modes in response to a sequence of chemical inputs. This first exercise provides a practical application of this principle, challenging you to trace the behavior of a multi-state genetic memory module to predict its final state after a series of signals.", "problem": "A synthetic biology research team is designing a genetic sequential circuit within a bacterium. This circuit, termed the \"Tri-stable Memory Module,\" is designed to respond to a sequence of chemical inputs. The state of the circuit determines which protein, if any, the bacterium produces. The module can exist in one of three discrete states:\n\n1.  **OFF**: The baseline state where no specific output protein is produced. The module is always in this state upon its initial creation.\n2.  **PRIMED**: An intermediate state triggered by an initial signal. In this state, the cell produces a transient, non-functional marker peptide but not the final output protein.\n3.  **ON**: The fully activated state where the cell stably produces a desired functional protein (e.g., an enzyme or a fluorescent marker).\n\nThe transitions between these states are governed by the addition of three distinct, non-interacting chemical signals to the cell's environment. The circuit processes one signal at a time, and its state transitions are deterministic based on the current state and the current input signal. The logic is as follows:\n\n*   **Transitions from the OFF state:**\n    *   An input of `Signal-X` causes a transition to the `PRIMED` state.\n    *   An input of `Signal-Y` or `Reset-Z` causes no change, and the state remains `OFF`.\n\n*   **Transitions from the PRIMED state:**\n    *   An input of `Signal-Y` causes a transition to the `ON` state.\n    *   An input of `Signal-X` causes no change, and the state remains `PRIMED`.\n    *   An input of `Reset-Z` causes a transition to the `OFF` state.\n\n*   **Transitions from the ON state:**\n    *   An input of `Reset-Z` causes a transition to the `OFF` state.\n    *   An input of `Signal-X` or `Signal-Y` causes no change, and the state remains `ON`.\n\nA fresh culture of bacteria containing this circuit is prepared, meaning all circuits are initially in the `OFF` state. The culture is then subjected to the following sequence of signals, added one after another in the specified order:\n\n`Signal-X`, `Signal-X`, `Signal-Y`, `Reset-Z`, `Signal-X`, `Signal-Y`\n\nWhat is the final state of the Tri-stable Memory Module after this entire sequence of signals has been processed?\n\nA. OFF\n\nB. PRIMED\n\nC. ON\n\nD. The state oscillates between PRIMED and ON.\n\nE. The final state cannot be determined without knowing the signal concentrations.", "solution": "We model the module as a deterministic finite-state machine with initial state OFF. The allowed state transitions are:\n- From OFF: Signal-X leads to PRIMED; Signal-Y or Reset-Z lead to no change (remain OFF).\n- From PRIMED: Signal-Y leads to ON; Signal-X leads to no change (remain PRIMED); Reset-Z leads to OFF.\n- From ON: Reset-Z leads to OFF; Signal-X or Signal-Y lead to no change (remain ON).\n\nProcess the given sequence in order, starting from OFF.\n\n1) Input: Signal-X, current state: OFF. Rule from OFF with Signal-X gives next state PRIMED.\nState becomes PRIMED.\n\n2) Input: Signal-X, current state: PRIMED. Rule from PRIMED with Signal-X gives no change.\nState remains PRIMED.\n\n3) Input: Signal-Y, current state: PRIMED. Rule from PRIMED with Signal-Y gives next state ON.\nState becomes ON.\n\n4) Input: Reset-Z, current state: ON. Rule from ON with Reset-Z gives next state OFF.\nState becomes OFF.\n\n5) Input: Signal-X, current state: OFF. Rule from OFF with Signal-X gives next state PRIMED.\nState becomes PRIMED.\n\n6) Input: Signal-Y, current state: PRIMED. Rule from PRIMED with Signal-Y gives next state ON.\nState becomes ON.\n\nTherefore, after processing the entire sequence, the final state is ON, corresponding to option C. The transitions are deterministic and do not depend on concentrations, so the final state is uniquely determined.", "answer": "$$\\boxed{C}$$", "id": "2073892"}, {"introduction": "While the previous problem treated state transitions as instantaneous logical steps, the physical reality of biological circuits involves processes that take time. This introduces a critical challenge known as a 'race condition', where the final state of a system depends on which of two competing molecular processes 'wins'. This exercise [@problem_id:2073919] explores this exact scenario within a genetic toggle switch, demonstrating how the relative speeds of gene expression can deterministically select the circuit's outcome.", "problem": "A synthetic biologist designs a genetic \"decision-making\" circuit in a bacterium. The circuit is designed to choose one of two possible states, represented by the expression of one of two fluorescent proteins: Green Fluorescent Protein (GFP) or Red Fluorescent Protein (RFP).\n\nThe circuit consists of two operons arranged in a mutually repressive \"toggle switch\" architecture:\n1.  **Operon Green**: Contains the gene for GFP and a gene for a repressor protein, Repressor-R. The expression of this operon is controlled by Promoter-G.\n2.  **Operon Red**: Contains the gene for RFP and a gene for a repressor protein, Repressor-G. The expression of this operon is controlled by Promoter-R.\n\nThe repressors function as follows:\n-   Repressor-R, produced by Operon Green, binds to and deactivates Promoter-R.\n-   Repressor-G, produced by Operon Red, binds to and deactivates Promoter-G.\n\nBoth Promoter-G and Promoter-R are initially in an \"off\" state but are designed to be activated by the addition of the same external chemical inducer, Signal-I. Once Signal-I is added to the cell culture, both promoters are activated simultaneously, initiating a \"race\" between the two operons.\n\nLet's define the \"lock-in time\" for each pathway as the total time elapsed from the addition of Signal-I to the point where the pathway's repressor protein reaches a sufficient concentration to completely and irreversibly shut down a single molecule of the opposing promoter. Due to differences in codon usage and protein folding dynamics, these times are different for each pathway.\n\n-   The lock-in time for the Green pathway (to produce enough Repressor-R) is $T_{Green} = 18.5$ minutes.\n-   The lock-in time for the Red pathway (to produce enough Repressor-G) is $T_{Red} = 16.0$ minutes.\n\nIf a culture of identical cells containing this circuit is grown and Signal-I is introduced at time $t=0$, what will be the stable, long-term observable fluorescent state of the cells?\n\nA) The cells will exclusively express GFP and appear green.\n\nB) The cells will exclusively express RFP and appear red.\n\nC) The cells will express both GFP and RFP, appearing yellow/orange.\n\nD) The cells will not express either fluorescent protein.\n\nE) The outcome is unpredictable; the culture will contain a random mixture of green cells and red cells.", "solution": "Define $T_{Green}$ as the time from $t=0$ (addition of Signal-I) until Operon Green produces enough Repressor-R to shut down Promoter-R, and $T_{Red}$ as the corresponding time for Operon Red to produce enough Repressor-G to shut down Promoter-G. By construction, both promoters are activated simultaneously at $t=0$, initiating production of their respective repressors.\n\nKey principle for a mutually repressive toggle switch: once one repressor reaches its threshold concentration first, it binds the opposing promoter and shuts it off. This extinguishes further production of the opposing repressor, thereby reinforcing the initial winner and establishing a stable, absorbing state with one operon ON and the other OFF. Thus, the outcome is determined by the inequality between the lock-in times:\n$$\n\\text{If } T_{Red} < T_{Green} \\text{, then Repressor-G shuts off Promoter-G first } \\Rightarrow \\text{Promoter-G OFF, Red state ON.}\n$$\n$$\n\\text{If } T_{Green} < T_{Red} \\text{, then Repressor-R shuts off Promoter-R first } \\Rightarrow \\text{Promoter-R OFF, Green state ON.}\n$$\n\nGiven the stated values, we have $T_{Red} < T_{Green}$. Therefore, the Red pathway locks in first, Repressor-G shuts down Promoter-G before Repressor-R can reach its own threshold, and the system settles into the stable Red state with RFP expression and GFP silenced. Since the culture consists of identical cells under the same deterministic timing, the stable, long-term observable state is exclusively red across the culture.", "answer": "$$\\boxed{B}$$", "id": "2073919"}, {"introduction": "Having seen how timing can create challenges like race conditions [@problem_id:2073919], we now turn to harnessing dynamics as a powerful design tool. Advanced sequential circuits can implement temporal logic, responding not just to the presence of a signal, but to its duration. This problem [@problem_id:2073941] presents a sophisticated circuit known as a temporal band-pass filter, which uses the interplay between a fast-degrading repressor and a slow-degrading activator to create a specific window of responsiveness, showcasing how continuous dynamics can be engineered to achieve complex logical functions.", "problem": "A synthetic gene circuit is designed to function as a temporal band-pass filter, responding only to an input signal of a specific duration. The circuit is structured as follows:\n\nAn input signal, modeled as a square pulse of a chemical inducer `S` present for a duration $d_{in}$, simultaneously initiates the production of an activator protein `A` and a repressor protein `R`. The dynamics of their concentrations, denoted $[A]$ and $[R]$, are governed by the following first-order differential equations:\n$$ \\frac{d[A]}{dt} = \\alpha_A S(t) - \\delta_A [A] $$\n$$ \\frac{d[R]}{dt} = \\alpha_R S(t) - \\delta_R [R] $$\nwhere $S(t) = 1$ for $0 \\le t \\le d_{in}$ and $S(t) = 0$ otherwise. The parameters $\\alpha_A$ and $\\alpha_R$ are the maximum production rates, and $\\delta_A$ and $\\delta_R$ are the first-order degradation rates. Both proteins are absent at $t=0$.\n\nThe circuit produces a fluorescent output protein `Y` only at times $t$ when the concentration of the activator is above an activation threshold, $[A](t) > K_A$, and the concentration of the repressor is below a repression threshold, $[R](t) < K_R$. The circuit is designed such that the activator is more stable than the repressor, i.e., $\\delta_A < \\delta_R$. Output can be produced either during or after the input pulse, provided the conditions on $[A]$ and $[R]$ are met.\n\nThe operational window of the filter is defined by the range of input durations $[T_{min}, T_{max}]$ that result in the production of some amount of output `Y`.\n- $T_{min}$ is the minimum input duration required for the peak concentration of activator `A` to just reach the threshold $K_A$.\n- $T_{max}$ is the input duration at which the opportunity for output vanishes. This critical point occurs when, for the concentrations $[A](T_{max})$ and $[R](T_{max})$ at the end of the pulse, the subsequent decay causes the activator to drop below $K_A$ at the exact same instant the repressor drops below $K_R$.\n\nAssume that all production rates and threshold constants are set such that $0 < K_A \\delta_A < \\alpha_A$ and $0 < K_R \\delta_R < \\alpha_R$. A key feature of this circuit is the ability to tune its properties by varying the repressor production rate $\\alpha_R$.\n\nDetermine the specific value of $\\alpha_R$ for which the temporal filtering window completely closes, i.e., $T_{max} = T_{min}$. Express your answer as a symbolic expression in terms of $\\alpha_A, \\delta_A, \\delta_R, K_A,$ and $K_R$.", "solution": "During the input pulse, with $S(t)=1$ for $0 \\leq t \\leq d$, the dynamics\n$$\\frac{d[A]}{dt}=\\alpha_A-\\delta_A [A],\\qquad \\frac{d[R]}{dt}=\\alpha_R-\\delta_R [R],\\qquad [A](0)=[R](0)=0$$\nhave solutions\n$$[A](t)=\\frac{\\alpha_A}{\\delta_A}\\left(1-\\exp(-\\delta_A t)\\right),\\qquad [R](t)=\\frac{\\alpha_R}{\\delta_R}\\left(1-\\exp(-\\delta_R t)\\right).$$\nThus, at the end of a pulse of duration $d$, the concentrations are\n$$A_d=[A](d)=\\frac{\\alpha_A}{\\delta_A}\\left(1-\\exp(-\\delta_A d)\\right),\\qquad R_d=[R](d)=\\frac{\\alpha_R}{\\delta_R}\\left(1-\\exp(-\\delta_R d)\\right).$$\nAfter the pulse ($t>d$), both species decay:\n$$[A](t)=A_d\\,\\exp(-\\delta_A(t-d)),\\qquad [R](t)=R_d\\,\\exp(-\\delta_R(t-d)).$$\n\nBy definition, $T_{min}$ is the smallest duration for which the peak activator just reaches $K_A$. Since $[A](t)$ increases monotonically during the pulse and then decays, its peak at fixed $d$ occurs at $t=d$. Hence $T_{min}$ satisfies\n$$A_{T_{min}}=K_A\\quad\\Longrightarrow\\quad \\frac{\\alpha_A}{\\delta_A}\\left(1-\\exp(-\\delta_A T_{min})\\right)=K_A,$$\nwhich gives\n$$\\exp(-\\delta_A T_{min})=1-\\frac{K_A\\delta_A}{\\alpha_A},\\qquad T_{min}=\\frac{1}{\\delta_A}\\ln\\!\\left(\\frac{\\alpha_A}{\\alpha_A-K_A\\delta_A}\\right).$$\n\nFor $T_{max}$, define $t_A$ and $t_R$ as the post-pulse times when $[A]$ and $[R]$ cross their thresholds. From the post-pulse decays,\n$$t_A-d=\\frac{1}{\\delta_A}\\ln\\!\\left(\\frac{A_d}{K_A}\\right),\\qquad t_R-d=\\frac{1}{\\delta_R}\\ln\\!\\left(\\frac{R_d}{K_R}\\right).$$\nAt $T_{max}$, the opportunity for output vanishes when these crossings coincide:\n$$\\frac{1}{\\delta_A}\\ln\\!\\left(\\frac{A_d}{K_A}\\right)=\\frac{1}{\\delta_R}\\ln\\!\\left(\\frac{R_d}{K_R}\\right)\\quad\\text{with }d=T_{max}.$$\n\nWe now impose the window-closure condition $T_{max}=T_{min}$. At $d=T_{min}$ we have $A_d=K_A$ by definition, so\n$$\\frac{1}{\\delta_A}\\ln\\!\\left(\\frac{A_d}{K_A}\\right)=\\frac{1}{\\delta_A}\\ln(1)=0,$$\nforcing\n$$\\frac{1}{\\delta_R}\\ln\\!\\left(\\frac{R_d}{K_R}\\right)=0\\quad\\Longrightarrow\\quad R_d=K_R.$$\nTherefore, at $d=T_{min}$ the repressor end-of-pulse concentration must satisfy\n$$\\frac{\\alpha_R}{\\delta_R}\\left(1-\\exp(-\\delta_R T_{min})\\right)=K_R,$$\nwhich solves for $\\alpha_R$ as\n$$\\alpha_R=\\frac{\\delta_R K_R}{1-\\exp(-\\delta_R T_{min})}.$$\nSubstituting $T_{min}=\\frac{1}{\\delta_A}\\ln\\!\\left(\\frac{\\alpha_A}{\\alpha_A-K_A\\delta_A}\\right)$ yields\n$$\\exp(-\\delta_R T_{min})=\\exp\\!\\left(-\\frac{\\delta_R}{\\delta_A}\\ln\\!\\left(\\frac{\\alpha_A}{\\alpha_A-K_A\\delta_A}\\right)\\right)=\\left(\\frac{\\alpha_A-K_A\\delta_A}{\\alpha_A}\\right)^{\\delta_R/\\delta_A}.$$\nHence the repressor production rate at which the temporal window closes is\n$$\\alpha_R=\\frac{\\delta_R K_R}{1-\\left(\\frac{\\alpha_A-K_A\\delta_A}{\\alpha_A}\\right)^{\\delta_R/\\delta_A}}=\\frac{\\delta_R K_R}{1-\\left(1-\\frac{K_A\\delta_A}{\\alpha_A}\\right)^{\\delta_R/\\delta_A}}.$$\nThis expression respects the assumptions $0<K_A\\delta_A<\\alpha_A$ (ensuring $T_{min}>0$ and the exponent base in $(0,1)$) and gives a positive finite $\\alpha_R$.", "answer": "$$\\boxed{\\frac{\\delta_R K_R}{1-\\left(1-\\frac{K_A \\delta_A}{\\alpha_A}\\right)^{\\delta_R/\\delta_A}}}$$", "id": "2073941"}]}