## 引言
在几何光学中，为了简化和分析复杂光学系统的成像行为，我们引入了[主点](@entry_id:173969)、[焦点](@entry_id:174388)和节点等一系列基点。虽然[主点](@entry_id:173969)因其与[横向放大率](@entry_id:167633)的直接联系而广为人知，但节点——控制系统[角放大率](@entry_id:169653)的关键——其独特的物理意义和应用往往更显微妙和深刻。许多学习者在遇到物方和像方介质不同、导致节点与[主点](@entry_id:173969)分离的情况时会感到困惑，未能完全把握节点在精密光学设计（如水下摄影或测量）中的核心作用。本文旨在填补这一认知空白，系统性地阐明节点的理论与实践。

在接下来的内容中，我们将分三步深入探讨：首先，在“原理与机制”一章中，我们将从基本定义出发，建立使用光线追迹矩阵计算节点位置的通用方法；接着，在“应用与跨学科联系”一章中，我们将展示节点在全景相机、人眼模型等领域的实际应用，并将其概念[外延](@entry_id:161930)至物理学的其他分支；最后，通过“动手实践”部分的精选问题，您将有机会亲手计算和分析不同系统中的节点，从而将理论知识转化为解决实际问题的能力。

## 原理与机制

在[几何光学](@entry_id:175509)的宏大框架中，为了简化对复杂光学系统的分析，我们引入了一套称为基点（cardinal points）的参考点。在上一章中，我们已经对基点有了初步的了解。本章将深入探讨其中一对至关重要的基点——**节点（nodal points）**——的原理和机制。不同于主要处理[横向放大率](@entry_id:167633)的[主点](@entry_id:173969)（principal points），节点在处理光线角度方面扮演着核心角色，是理解和设计许多精密光学仪器（如全景相机和测量系统）的关键。

### 节点：光学系统的角向中心

对于任何一个共轴光学系统，都存在一对独特的轴上[共轭点](@entry_id:160335)，称为第一节点 $N_1$ 和第二节点 $N_2$。它们的定义基于一个非常特殊的性质：任何射向第一节点 $N_1$ 的入射光线，经过系统[折射](@entry_id:163428)后，其出射光线看起来就好像是从第二节点 $N_2$ 发出的，并且其方向与入射方向完全平行。

这个定义意味着，对于通过节点的光线，系统的**[角放大率](@entry_id:169653)（angular magnification）**恒为+1。这是节点的根本属性，也是其区别于其他基点的核心特征。回顾一下，[主点](@entry_id:173969) $P_1$ 和 $P_2$ 是一对共轭点，其[横向放大率](@entry_id:167633)（transverse magnification）为+1。这两个概念虽然相关，但在应用中有着本质的区别。

一个极其重要的推论是，当光学系统两侧（即物方空间和像方空间）的介质[折射率](@entry_id:168910)相同时，例如透镜放置在空气中，节点的定义会导致其位置与[主点](@entry_id:173969)完全重合。在这种常见情况下，$N_1$ 与 $P_1$ 重合，$N_2$ 与 $P_2$ 重合。然而，一旦系统两侧的介质不同，例如水下相机（物方是水，像方是空气），[主点](@entry_id:173969)和节点便会分离，各自展现其独特的物理意义。理解它们之间的差异对于精确设计此类系统至关重要。

### 节点位置的计算：从基本情况到通用方法

为了掌握节点的应用，我们首先需要能够精确地确定它们在系统中的位置。我们可以从最简单的光学界面开始，逐步建立起一套通用的计算方法。

#### 单个折射球面

考虑一个曲率半径为 $R$ 的单个球面，它分隔了[折射率](@entry_id:168910)分别为 $n_1$ 和 $n_2$ 的两种介质。这是一个最基本的光学系统。对于这个系统，任何穿过球面[曲率中心](@entry_id:270032) $C$ 的光线都会垂直入射到球面上，因此其传播方向不会改变。这条光线的[角放大率](@entry_id:169653)为1，这完美地符合了节点的定义。因此，我们可以直观地得出结论：对于单个折射球面，第一节点 $N_1$ 和第二节点 $N_2$ 都与球面的[曲率中心](@entry_id:270032) $C$ 重合 [@problem_id:1009660]。

这个结论虽然简单，但揭示了节点与系统几何形状的深刻联系。更有趣的是，我们还可以探讨节点与[焦点](@entry_id:174388)之间的关系。例如，对于该单球面系统，其第二[焦点](@entry_id:174388) $F_2$ 的位置由 $z_{F2} = \frac{n_2 R}{n_2 - n_1}$ 给出，而节点 $N_2$ 位于[曲率中心](@entry_id:270032)，即 $z_{N2} = R$ （以球面顶点为原点）。因此，第二[焦点](@entry_id:174388)与第二节点之间的距离为：

$|z_{F2} - z_{N2}| = |\frac{n_2 R}{n_2 - n_1} - R| = |\frac{n_2 R - n_2 R + n_1 R}{n_2 - n_1}| = |\frac{n_1 R}{n_2 - n_1}|$

这个关系在更复杂的系统中虽然不再直接适用，但它展示了不同基点位置之间的内在数学关联。

#### 通用方法：光线追迹矩阵

对于由多个透镜和界面组成的复杂光学系统，逐个表面追迹光线来寻找节点是不切实际的。一个更强大和系统的方法是使用**光线追迹矩阵（ray transfer matrix）**，也称为 **ABCD 矩阵**。我们将光线在某一参考平面上的状态用一个列向量 $\begin{pmatrix} y \\ \theta \end{pmatrix}$ 表示，其中 $y$ 是光线距[光轴](@entry_id:175875)的高度，$\theta$ 是光线与光轴的夹角。

一个光学系统对光线的变换可以由一个 $2 \times 2$ 矩阵 $M$ 描述：

$$
\begin{pmatrix} y_{out} \\ \theta_{out} \end{pmatrix} = M \begin{pmatrix} y_{in} \\ \theta_{in} \end{pmatrix} = \begin{pmatrix} A  B \\ C  D \end{pmatrix} \begin{pmatrix} y_{in} \\ \theta_{in} \end{pmatrix}
$$

其中，$(y_{in}, \theta_{in})$ 是在输入参考平面的光线状态，$(y_{out}, \theta_{out})$ 是在输出参考平面的光线状态。需要注意的是，当系统物方和像方[折射率](@entry_id:168910)不同时（分别为 $n_i$ 和 $n_f$），[矩阵的行列式](@entry_id:148198) $\det(M) = AD - BC = n_i / n_f$。如果使用约化角度 $n\theta$ 定义光线向量，则矩阵形式会略有不同，但基本原理相通。

现在，我们利用节点的定义来推导其位置。设第一节点 $N_1$ 位于输入参考平面左侧距离为 $z_{N1}$ 处（按光学惯例，左为正）。一条射向 $N_1$ 的入射光线，在输入参考平面（$z=0$）处满足 $y_{in} = z_{N1} \theta_{in}$。根据节点定义，出射光线的角度必须与入射光线相同，即 $\theta_{out} = \theta_{in}$。将这两个条件代入[矩阵方程](@entry_id:203695)的第二行：

$$
\theta_{out} = C y_{in} + D \theta_{in} \implies \theta_{in} = C (z_{N1} \theta_{in}) + D \theta_{in}
$$

由于此式对任意[入射角](@entry_id:192705) $\theta_{in}$ 均成立，我们可以消去 $\theta_{in}$，得到：

$$
1 = C z_{N1} + D \implies z_{N1} = \frac{1 - D}{C}
$$

这就是第一节点相对于输入参考平面的位置。

同样，出射光线看起来像是从第二节点 $N_2$ 发出的。设 $N_2$ 位于输出参考平面右侧距离为 $z_{N2}$ 处（右为正）。那么在输出参考平面处，光线的高度应满足 $y_{out} = z_{N2} \theta_{out}$。由于 $\theta_{out} = \theta_{in}$，我们有 $y_{out} = z_{N2} \theta_{in}$。将此代入矩阵方程的第一行：

$$
y_{out} = A y_{in} + B \theta_{in} \implies z_{N2} \theta_{in} = A (z_{N1} \theta_{in}) + B \theta_{in}
$$

再次消去 $\theta_{in}$，得到第二节点相对于输出参考平面的位置：

$$
z_{N2} = A z_{N1} + B
$$

这两个公式，$z_{N1} = (1-D)/C$ 和 $z_{N2} = A z_{N1} + B$，构成了利用 ABCD 矩阵计算任意共轴系统节点位置的通用算法。输入和输出参考平面通常选在系统的第一个和最后一个物理表面上。

### 应用实例：复合与可变[焦距](@entry_id:164489)系统中的节点

掌握了计算方法后，我们来看几个具体的例子，以加深对节点行为的理解。

#### [厚透镜](@entry_id:191464)系统

考虑一个用于高[压实](@entry_id:161543)验舱的观测窗，它是一个厚平凸透镜 [@problem_id:2242520]。其平坦表面朝向真空 ($n_i=1.0$)，凸表面（[曲率半径](@entry_id:274690)为 $R$）朝向充满[折射率](@entry_id:168910)为 $n_f$ 的气体的舱内。透镜材料[折射率](@entry_id:168910)为 $n_L$，中心厚度为 $d$。

通过构建该系统的光线追迹矩阵，并应用我们导出的通用公式，可以计算出第二节点 $N_2$ 相对于透镜第二顶点 $V_2$ 的位置。经过推导，我们得到一个简洁而深刻的结果：

$$
z_{N2, V2} = R \frac{n_f - 1}{n_f - n_L}
$$

这个结果的非凡之处在于，第二节点的位置**与透镜的厚度 $d$ 无关**。这是一个非直观的结论，它表明在某些特定几何构型中，系统的基点位置可能仅由表面的曲率和介质的[折射率](@entry_id:168910)决定，而与元件的物理厚度无关。

#### 复合透镜系统

当多个透镜组合在一起时，系统的节点位置会发生有趣的变化。考虑一个由两个焦距均为 $f$ 的相同薄[会聚透镜](@entry_id:166798)组成的系统，它们在空气中相隔距离 $d=f$ [@problem_id:2242517]。

我们可以构建这个系统的总 ABCD 矩阵，它等于第二个透镜矩阵、中间[传播矩阵](@entry_id:753816)和第一个透镜矩阵的乘积。计算得到的总矩阵为：

$$
M = \begin{pmatrix} 0  f \\ -1/f  0 \end{pmatrix}
$$

由于系统在空气中，节点与[主点](@entry_id:173969)重合。我们可以使用[主点](@entry_id:173969)位置的公式 $p = (1-D)/C$ 和 $q = (A-1)/C$ (其中 $p$ 和 $q$ 分别是第一和第二[主点](@entry_id:173969)相对于输入和输出参考平面的位置)。代入 $A=0, D=0, C=-1/f$，我们得到 $p = (1-0)/(-1/f) = -f$ 和 $q = (0-1)/(-1/f) = f$。

如果我们将输入参考平面设在第一个透镜处（$z=0$），输出参考平面设在第二个透镜处（$z=f$），那么第一主（节）点的位置是 $z_{N1} = 0 + p = -f$，第二主（节）点的位置是 $z_{N2} = f + q = 2f$。

结果是 $\begin{pmatrix} z_{N1}  z_{N2} \end{pmatrix} = \begin{pmatrix} -f  2f \end{pmatrix}$。这意味着第一节点位于第一个透镜左侧距离为 $f$ 处，而第二节点位于第二个透镜右侧距离为 $f$ 处。这个现象清晰地表明，复合系统的基点可以位于其物理元件之外。

#### 可变焦距（变焦）系统

在变焦镜头等可变焦距系统中，通过改变内部透镜元件的间距来调整[有效焦距](@entry_id:163089)。随着系统几何结构的变化，其基点（包括节点）的位置也会相应地移动。

考虑一个简化的变焦模型：一个焦距 $f_1 = +10.0 \text{ cm}$ 的会聚透镜固定在 $z=0$ 处，一个[焦距](@entry_id:164489) $f_2 = -5.0 \text{ cm}$ 的[发散透镜](@entry_id:168382)的位置 $d$ 可以从 $2.0 \text{ cm}$ 变到 $7.0 \text{ cm}$ [@problem_id:2242504]。我们可以推导出第二节点 $N_2$ 的位置 $z_{N2}$ 作为透镜间距 $d$ 的函数：

$$
z_{N2}(d) = d \frac{f_1 - d}{f_1 + f_2 - d}
$$

将 $f_1$ 和 $f_2$ 的值代入，当 $d$ 从 $2.0 \text{ cm}$ 变化到 $7.0 \text{ cm}$ 时，我们可以计算出 $z_{N2}$ 的初始位置和最终位置，进而得到 $N_2$ 的总位移量。计算表明，在这个变焦范围内，$N_2$ 的位置会发生约 $15.8 \text{ cm}$ 的显著移动。这生动地说明了在设计变焦镜头时，不仅要考虑焦距的变化，还必须追踪基点的动态轨迹，因为这直接影响到取景器和自动对焦系统的设计。

### 节点的实际意义：全景成像与远心系统

节点的理论似乎有些抽象，但它们在现实世界的[光学工程](@entry_id:272219)中具有极其重要的应用价值，尤其是在需要精确控制成像角度的场合。

#### 全景成像

节点最著名的应用是在拍摄全景照片时。为了无缝拼接多张照片，必须消除**视差（parallax）**，即在相机旋转时，近景和远景物体之间发生相对位移的现象。消除视差的唯一方法是让相机围绕其**[入射光瞳](@entry_id:163672)的中心**旋转。对于无穷远处的物体，这个旋转中心就是系统的**第一节点 $N_1$**。当相机围绕 $N_1$ 旋转时，来自远处物体的光线虽然以不同角度进入镜头，但它们经过系统后，其在像平面上的成像位置保持不变。

当物方和像方介质不同时，这一点变得尤为关键。考虑一个水下成像系统，物方是水（$n_1=1.33$），像方是空气（$n_2=1.00$）[@problem_id:2242522]。在这种情况下，$N_1$ 和 $P_1$ 不再重合。如果因为制造失误，旋转枢轴被错误地设置在了第一[主点](@entry_id:173969) $P_1$ 上，而不是第一节点 $N_1$ 上，那么在旋转相机进行扫描时，图像就会在传感器上发生平移，导致模糊。

我们可以量化这个误差。[主点](@entry_id:173969)和节点之间的距离与[焦距](@entry_id:164489)和[折射率](@entry_id:168910)有关。旋转一个微小角度 $\theta$ 产生的图像位移 $\Delta y$ 大小为：

$$
\Delta y = |f_2 (1 - \frac{n_1}{n_2})| \theta
$$

其中 $f_2$ 是系统的第二焦距。对于一个焦距为 $50.0 \text{ mm}$ 的水下镜头，当 $n_1=1.33$，$n_2=1.00$ 时，即使只旋转 $2.0$ 度，由此产生的图像位移也可达 $0.576 \text{ mm}$，这对于高分辨率成像来说是不可接受的。这个例子有力地证明了在非对称介质环境中精确区分和使用节点的重要性。

#### 远心系统

在[机器视觉](@entry_id:177866)和精密测量领域，**[远心镜头](@entry_id:171523)（telecentric lens）**是一种重要的工具。一个**物方远心系统**的特性是其[主光线](@entry_id:165818)（通过光阑中心的光线）在物方空间中都与光轴平行。这确保了即使物体有轻微的离焦，其测量到的尺寸也不会改变。

要实现物方远心，必须将系统的**[入射光瞳](@entry_id:163672)（entrance pupil）**置于无穷远处。[入射光瞳](@entry_id:163672)是[孔径光阑](@entry_id:173170)（aperture stop）经过其前方所有光学元件所成的像。要让[入射光瞳](@entry_id:163672)位于无穷远，就必须将[孔径光阑](@entry_id:173170)放置在前方光学系统的[后焦平面](@entry_id:164391)上。

在一个由两个薄透镜 $L_1$（[焦距](@entry_id:164489) $f_1$）和 $L_2$（焦距 $f_2$）组成的系统中，如果我们将[孔径光阑](@entry_id:173170)与 $L_2$ 重合，为了实现物方远心，两透镜的间距 $d$ 必须等于 $f_1$ [@problem_id:2242523]。在这种特定配置下，我们可以计算系统第一节点 $N_1$ 的位置。推导结果表明，$N_1$ 相对于第一透镜 $L_1$ 的位置为：

$$
z_{N1} = \frac{f_1^2}{f_2}
$$

这个结果将远心系统的设计约束（$d=f_1$）与系统基点的位置直接联系起来，展示了在系统级[光学设计](@entry_id:163416)中，光阑、基点和元件参数之间是如何相互关联、共同决定系统性能的。

### 高等课题：节点的[色散](@entry_id:263750)与概念边界

节点的概念在[近轴光学](@entry_id:269651)中非常强大，但它也有其应用的边界和更复杂的表现形式。

#### 节点的[色散](@entry_id:263750)

我们通常假设[折射率](@entry_id:168910)是恒定的，但在现实中，所有光学材料都存在**[色散](@entry_id:263750)（dispersion）**，即[折射率](@entry_id:168910)随波长而变化。由于透镜的[焦距](@entry_id:164489)和功率依赖于[折射率](@entry_id:168910)，系统的基点位置（包括节点）也必然会随波长变化。这种现象称为**基点的色度像差（chromatic aberration of cardinal points）**。

考虑一个薄透镜，它分隔了空气（$n_o=1$）和一种[色散](@entry_id:263750)液体（[折射率](@entry_id:168910)为 $n_i$）[@problem_id:979984]。透镜本身也是[色散](@entry_id:263750)的。由于 $n_o \neq n_i$，节点与[主点](@entry_id:173969)分离。第二节点 $N_2$ 的位置由 $z_{N2} = (n_i - n_o)/P$ 给出，其中 $P$ 是系统光焦度。因为 $n_i$、透镜[折射率](@entry_id:168910) $n_L$ 以及光焦度 $P$ 都随波长变化，所以 $z_{N2}$ 也会变化。

我们可以推导出第二节点的[纵向色差](@entry_id:174616) $\Delta z_{N2}$，即不同波长下 $N_2$ 位置的差异。在微小变化近似下，其表达式与材料的平均[折射率](@entry_id:168910)、**[色散](@entry_id:263750)率（dispersivity）**$\nu$ 以及透镜的几何形状有关。这个分析表明，对于一个宽[光谱成像](@entry_id:263745)系统，并不存在一个单一的、适用于所有颜色的节点。相反，存在一个节点的轨迹。在设计高精度消[色差](@entry_id:174838)系统时，不仅要校正[焦点](@entry_id:174388)的[色差](@entry_id:174838)，有时也需要考虑并校正节点的色差。

#### 概念的边界：[非线性系统](@entry_id:168347)

节点以及整个基点理论都建立在[近轴近似](@entry_id:177930)下的一个基本假设之上：光学系统对光线的变换是**线性**的，可以用 ABCD 矩阵来描述。然而，并非所有光学元件都遵循这个线性法则。

考虑一个由**轴锥镜（axicon）**和[厚透镜](@entry_id:191464)组成的混合系统 [@problem_id:2242497]。轴锥镜是一种特殊的锥形透镜，它在[近轴近似](@entry_id:177930)下的作用是对通过它的光线施加一个恒定的角度偏转 $\Delta\theta$，而不改变其高度。这种变换是**仿射（affine）**而[非线性](@entry_id:637147)的，因为存在一个常数偏移项。其变换关系为 $\theta' = \theta - \Delta\theta$。

当我们将这个[非线性](@entry_id:637147)元件与一个遵循线性 ABCD 法则的透镜组合时，整个系统的变换就不再能用一个单一的 ABCD 矩阵来描述。我们还能为这样的系统定义节点吗？

经过仔细分析，我们发现：
1. 通过精确调整轴锥镜和透镜之间的距离（使其等于透镜的[等效焦距](@entry_id:168828)），我们可以创造一个条件，使得存在一个明确定义的第一节点 $N_1$。射向该点的所有光线，无论其初始角度如何，出射时的角度都与入射角相同。
2. 然而，对于第二节点 $N_2$，情况就不同了。从系统出射的光线，当反向延长时，它们不会交于光轴上的同一个点。它们的 apparent origin 的位置依赖于入射光线的角度 $u$。因此，一个唯一的、与光线无关的第二节点 $N_2$ **不存在**。

这个例子是一个深刻的警示。它告诉我们，像节点这样的基本概念，其有效性是受限于其底层数学模型的假设的。当遇到像轴锥镜这样引入[非线性](@entry_id:637147)（或仿射）变换的元件时，我们必须回到最基本的定义去审视，并准备好接受传统工具可能失效的结论。这正是科学严谨性的体现：不仅要知其然，更要知其所以然，并明了其[适用范围](@entry_id:636189)的边界。