{"hands_on_practices": [{"introduction": "理论是重要的，但真正的理解来自于实践。让我们从相机内部开始：在我们将图像投射到传感器上之前，传感器本身可以有多大的放置容差？这个练习将焦点深度（depth of focus）这一概念与数码相机中一个非常具体且重要的参数——像素尺寸——联系起来，帮助我们理解在保持图像清晰的情况下，传感器位置的允许变化范围。[@problem_id:2225440]", "problem": "一款用于天文摄影的数码相机正在设计中，其拍摄对象（恒星和遥远的星系）实际上距离相机无穷远。该相机使用一个焦距为 $f$ 的简单薄透镜。镜头的光圈可以调节，其有效直径由f数（$N$）描述，f数是焦距与光圈直径之比。相机的传感器是一个平面，由方形像素网格组成，每个像素的边长为 $p$。\n\n为了使图像被认为是可接受的清晰对焦，来自无穷远处点光源的模糊（称为弥散圆）的直径不得大于单个像素的宽度。焦深是传感器在保持这种可接受清晰度条件的同时，可以沿光轴向着镜头和远离镜头的方向移动的总距离。\n\n假设相机对无穷远处的物体完美对焦，请推导总焦深 $\\delta_{focus}$ 的表达式，用f数 $N$ 和像素宽度 $p$ 表示。", "solution": "对于一个对焦于无穷远的薄透镜，像平面位于焦距处，因此最佳对焦的传感器位置距离透镜为 $f$。设镜头光圈直径为 $D$。根据f数的定义，$N = f/D$，因此\n$$\nD = \\frac{f}{N}.\n$$\n当传感器沿光轴从最佳对焦平面（正向或负向）位移一小段距离 $s$ 时，来自无穷远处一点的光束会形成一个以焦点为顶点的圆锥体。在距离顶点为 $f$ 的透镜平面上，该圆锥体的直径为 $D$。根据相似三角形原理，在距离顶点 $|s|$ 的平面上，失焦模糊圆的直径 $c$ 为\n$$\nc = D \\frac{|s|}{f}.\n$$\n可接受的清晰度条件要求弥散圆不超过像素宽度 $p$，即\n$$\nc \\leq p \\quad \\Rightarrow \\quad D \\frac{|s|}{f} \\leq p.\n$$\n求解最大允许位移量，\n$$\n|s|_{\\max} = \\frac{p f}{D} = \\frac{p f}{f/N} = p N.\n$$\n总焦深是传感器朝向和远离透镜的全部允许移动距离，这是单侧容差的两倍：\n$$\n\\delta_{focus} = 2 |s|_{\\max} = 2 N p.\n$$", "answer": "$$\\boxed{2 N p}$$", "id": "2225440"}, {"introduction": "在理解了传感器端的容差之后，我们现在将目光转向相机外的世界。景深（depth of field）描述了场景中有多少部分能够被清晰地记录下来。这个练习模拟了一个常见的摄影场景，要求我们计算当焦点对准主体时，背景中的一个物体会产生多大的模糊圆，从而判断它是否在可接受的清晰范围之内。[@problem_id:2225463]", "problem": "一位摄影师正在使用一台配备了焦距为 $f = 50.0$ mm 镜头的相机拍摄肖像。该镜头被近似为单个薄透镜。拍摄对象位于距离镜头 $s_o = 4.00$ m 处，相机已对其对焦。在背景中，有一个地标位于距离镜头 $s_b = 10.0$ m 处。镜头光圈设置为 f-值为 $N = 4.0$。\n\n为了使图像被认为是“可接受的清晰”，物体上的任何点在传感器上形成的模糊圆的直径都不能大于一个指定的最大直径，这个最大直径被称为弥散圆 (Circle of Confusion, CoC)。对于这台相机和观看条件，可接受的弥散圆定义为 $C = 0.025$ mm。\n\n计算由远处地标上的一个理论点在相机传感器上形成的模糊圆的实际直径。用微米 ($\\mu$m) 表示你的答案，并四舍五入到三位有效数字。", "solution": "使用薄透镜方程求出拍摄对象和背景的像距：\n$$\n\\frac{1}{f}=\\frac{1}{s}+\\frac{1}{v}\\,,\\quad v=\\frac{f s}{s-f}.\n$$\n已知 $f=50\\ \\text{mm}$，$s_{o}=4000\\ \\text{mm}$，以及 $s_{b}=10000\\ \\text{mm}$，\n$$\nv_{o}=\\frac{f s_{o}}{s_{o}-f}=\\frac{50\\cdot 4000}{4000-50}=\\frac{200000}{3950}=\\frac{4000}{79}\\ \\text{mm},\n$$\n$$\nv_{b}=\\frac{f s_{b}}{s_{b}-f}=\\frac{50\\cdot 10000}{10000-50}=\\frac{500000}{9950}=\\frac{10000}{199}\\ \\text{mm}.\n$$\n光圈直径由 f-值 $N$ 给出：\n$$\nD=\\frac{f}{N}=\\frac{50}{4}=\\frac{25}{2}\\ \\text{mm}.\n$$\n对于放置在 $x=v_{o}$ 处的传感器，而背景点本应聚焦在 $v_{b}$ 处，传感器上的模糊圆直径（根据相似三角形）为\n$$\nc=D\\,\\left|1-\\frac{v_{o}}{v_{b}}\\right|.\n$$\n计算比率：\n$$\n\\frac{v_{o}}{v_{b}}=\\frac{(4000/79)}{(10000/199)}=\\frac{4000\\cdot 199}{79\\cdot 10000}=\\frac{796000}{790000}=\\frac{398}{395},\n$$\n因此\n$$\n\\left|1-\\frac{v_{o}}{v_{b}}\\right|=\\left|1-\\frac{398}{395}\\right|=\\frac{3}{395}.\n$$\n所以，\n$$\nc=D\\cdot \\frac{3}{395}=\\frac{25}{2}\\cdot \\frac{3}{395}=\\frac{75}{790}\\ \\text{mm}.\n$$\n通过乘以 $1000$ 转换为微米：\n$$\nc=\\frac{75}{790}\\times 1000=\\frac{75000}{790}=\\frac{7500}{79}\\ \\text{micrometers}\\approx 94.9367\\ \\text{micrometers}.\n$$\n四舍五入到三位有效数字，模糊圆的直径为 $94.9$ 微米。", "answer": "$$\\boxed{94.9}$$", "id": "2225463"}, {"introduction": "对于风景或纪实摄影师来说，一个常见的目标是让从近到远的整个场景都保持清晰。为了实现这一点，专业人士会使用一个称为“超焦距”的对焦技术。这个练习将引导你计算当相机对焦在超焦距时，能够保持可接受清晰度的最近物体距离，揭示出最大化景深的强大策略。[@problem_id:2225441]", "problem": "一台高分辨率监控摄像头被安装用于监视一条长而直的巷道。该相机的镜头系统可以被建模为焦距为 $f = 85.0$ mm 的单个薄透镜。操作员将镜头光圈调整至 f 数为 $N = 5.60$。对于相机的传感器，任何被模糊成直径小于或等于“弥散圆”直径 $c = 0.0250$ mm 的图像特征，均被认为是“可接受的清晰”。\n\n为了最大化被监控区域的总景深，相机以一种特殊方式对焦，使得可接受清晰度的最远极限延伸至无穷远。确定一个物体能被认为可接受清晰的、离相机最近的距离。\n\n最终答案以米为单位，并四舍五入至三位有效数字。", "solution": "我们将透镜建模为薄透镜，并使用近轴光学。设 $f$ 为焦距，$N$ 为 f 数，$c$ 为传感器上可接受的弥散圆直径，$D$ 为光圈直径。根据 f 数的定义，$D = \\frac{f}{N}$。\n\n为了使可接受清晰度的远极限在无穷远处，对焦距离必须是超焦距。当透镜对焦于与物距 $s_{0}$ 对应的像距 $b_{0}$ 时，位于无穷远处的物体在 $b = f$ 处形成清晰的图像。对于无穷远处的物体，在 $b_{0}$ 处的传感器平面上的模糊圆可通过相似三角形给出：\n$$\nc = D \\frac{b_{0} - f}{f}.\n$$\n代入 $D = \\frac{f}{N}$ 可得\n$$\nc = \\frac{f}{N} \\cdot \\frac{b_{0} - f}{f} = \\frac{b_{0} - f}{N} \\quad \\Rightarrow \\quad b_{0} = f + N c.\n$$\n薄透镜方程将 $s_{0}$ 和 $b_{0}$ 联系起来：\n$$\n\\frac{1}{s_{0}} + \\frac{1}{b_{0}} = \\frac{1}{f} \\quad \\Rightarrow \\quad \\frac{1}{s_{0}} = \\frac{1}{f} - \\frac{1}{b_{0}} = \\frac{b_{0} - f}{f b_{0}} = \\frac{N c}{f b_{0}}.\n$$\n因此\n$$\ns_{0} = \\frac{f b_{0}}{N c} = \\frac{f(f + N c)}{N c} = \\frac{f^{2}}{N c} + f \\equiv H,\n$$\n这就是超焦距（从透镜测量）。\n\n接下来，确定当对焦于 $s_{0} = H$ 时，仍能保持可接受清晰度的最近物距 $s_{n}$。对于位于 $s_{n}$ 处的物体，其像距为 $b = \\frac{f s_{n}}{s_{n} - f}$，而传感器位置保持在 $b_{0} = \\frac{f s_{0}}{s_{0} - f}$。传感器上的模糊圆为\n$$\nc = D \\frac{b - b_{0}}{b} = \\frac{f}{N} \\left(1 - \\frac{b_{0}}{b}\\right) = \\frac{f}{N} \\left(1 - \\frac{\\frac{f s_{0}}{s_{0} - f}}{\\frac{f s_{n}}{s_{n} - f}}\\right) = \\frac{f}{N} \\left(1 - \\frac{s_{0}(s_{n} - f)}{s_{n}(s_{0} - f)}\\right).\n$$\n代数化简可得\n$$\nc = \\frac{f^{2}}{N} \\cdot \\frac{s_{0} - s_{n}}{s_{n}(s_{0} - f)}.\n$$\n解出 $s_{n}$ 可得\n$$\nc N \\, s_{n} (s_{0} - f) = f^{2} (s_{0} - s_{n})\n\\quad \\Rightarrow \\quad\ns_{n} \\left[f^{2} + c N (s_{0} - f)\\right] = f^{2} s_{0}\n\\quad \\Rightarrow \\quad\ns_{n} = \\frac{f^{2} s_{0}}{f^{2} + c N (s_{0} - f)}.\n$$\n使用 $H = \\frac{f^{2}}{N c} + f$ 意味着 $N c = \\frac{f^{2}}{H - f}$，并代入 $s_{0} = H$ 可得\n$$\ns_{n} = \\frac{f^{2} H}{f^{2} + \\frac{f^{2}}{H - f} (H - f)} = \\frac{f^{2} H}{2 f^{2}} = \\frac{H}{2}.\n$$\n因此，当对焦于超焦距 $H$ 时，最近的可接受清晰物距等于 $\\frac{H}{2}$。\n\n用数值计算 $H$，其中 $f = 85.0 \\text{ mm}$，$N = 5.60$，且 $c = 0.0250 \\text{ mm}$：\n$$\nH = \\frac{f^{2}}{N c} + f = \\frac{(85.0)^{2}}{5.60 \\times 0.0250} + 85.0 \\text{ mm}.\n$$\n计算：\n$$\n\\frac{(85.0)^{2}}{5.60 \\times 0.0250} = \\frac{7225}{0.14} = 51607.142857\\ldots \\text{ mm},\n\\quad\nH = 51692.142857\\ldots \\text{ mm}.\n$$\n因此最近距离是\n$$\ns_{n} = \\frac{H}{2} = 25846.0714285\\ldots \\text{ mm} = 25.8460714285\\ldots \\text{ m}.\n$$\n以米为单位，四舍五入至三位有效数字，结果是 $25.8$。", "answer": "$$\\boxed{25.8}$$", "id": "2225441"}]}