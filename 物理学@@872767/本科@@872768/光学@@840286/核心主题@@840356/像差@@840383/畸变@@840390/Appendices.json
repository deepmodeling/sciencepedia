{"hands_on_practices": [{"introduction": "光学畸变是影响图像几何精度的主要像差之一。在虚拟现实（VR）等应用中，为了给用户提供沉浸式体验，必须对镜头引入的畸变进行精确补偿。本练习将通过一个简化的三阶多项式模型，带你亲手计算枕形畸变的程度，这是理解和校正畸变的第一步。[@problem_id:2227399]", "problem": "一位软件工程师正在为一款新的虚拟现实（VR）头戴设备设计预校正算法。该头戴设备中使用的简单单片透镜会引入大量光学畸变。对于一个理想情况下应成像于距视场中心（光轴）径向距离为 $y_i$ 的点，由于枕形畸变，其感知的实际径向距离 $y_a$ 会更大。这种效应可以通过三阶畸变模型很好地近似：\n\n$$y_a = y_i + C y_i^3$$\n\n其中 $C$ 是一个正常数，用于表征特定透镜的畸变严重程度。\n\n对于这款VR头戴设备中的透镜，其畸变系数为 $C = 2.5 \\text{ m}^{-2}$。工程师考虑了渲染到内部显示器上的图像上的一个测试点。该点的位置使得在一个完美的无畸变系统中，它将被感知在距离光轴 $y_i = 8.0 \\text{ cm}$ 的位置。\n\n计算该测试点的百分比畸变。百分比畸变定义为位移 $(\\Delta y = y_a - y_i)$ 与理想位置 $y_i$ 的比值。将最终答案以小数形式表示，并四舍五入到三位有效数字。", "solution": "从枕形畸变的三阶畸变模型开始：\n$$y_{a} = y_{i} + C y_{i}^{3}.$$\n径向位移定义为\n$$\\Delta y = y_{a} - y_{i} = C y_{i}^{3}.$$\n因此，定义为位移与理想位置之比的百分比畸变为\n$$\\frac{\\Delta y}{y_{i}} = \\frac{C y_{i}^{3}}{y_{i}} = C y_{i}^{2}.$$\n代入给定值，并使用一致的国际单位制单位。当 $C = 2.5\\ \\text{m}^{-2}$ 且 $y_{i} = 8.0\\ \\text{cm} = 8.0 \\times 10^{-2}\\ \\text{m}$ 时，我们有\n$$\\frac{\\Delta y}{y_{i}} = \\left(2.5\\ \\text{m}^{-2}\\right)\\left(8.0 \\times 10^{-2}\\ \\text{m}\\right)^{2}.$$\n计算平方并化简，注意单位会抵消，得到一个无量纲的量：\n$$\\frac{\\Delta y}{y_{i}} = 2.5 \\times 8.0^{2} \\times 10^{-4} = 2.5 \\times 64.0 \\times 10^{-4} = 160.0 \\times 10^{-4} = 1.600 \\times 10^{-2}.$$\n表示为小数并四舍五入到三位有效数字，结果是\n$$0.0160.$$", "answer": "$$\\boxed{0.0160}$$", "id": "2227399"}, {"introduction": "并非所有镜头都以消除畸变为最终目标，广角和鱼眼镜头的设计便是一个典型例子。为了实现更宽的视场，这些镜头常采用非直线投影模型，如等立体角投影，这会有意地引入桶形畸变。通过本练习，你将学会如何量化不同投影模型之间的差异，并理解畸变在光学设计中作为一种权衡的实际意义。[@problem_id:2227350]", "problem": "一个光学工程团队正在对一款定制的广角镜头进行特性分析，该镜头旨在用于自动驾驶汽车的环境感知套件。对于处理直线的理想导航软件而言，镜头应具有直线投影特性。在这种投影中，物场中与光轴成 $\\theta$ 角的一个点，根据公式 $y'_{ideal} = f \\tan(\\theta)$ 被映射到图像传感器上的高度 $y'_{ideal}$，其中 $f$ 是镜头的有效焦距。\n\n然而，为了实现非常宽的视场，该定制镜头被设计为等立体角投影。这种投影将同一个物点映射到传感器上的高度 $y'_{actual}$，由 $y'_{actual} = 2f \\sin(\\frac{\\theta}{2})$ 给出。\n\n光学畸变是衡量偏离理想直线投影程度的指标。它通过相对畸变系数 $D$ 来量化，定义为 $D = \\frac{y'_{actual} - y'_{ideal}}{y'_{ideal}}$。$D$ 的负值表示桶形畸变，此时物方空间中的直线在图像中会呈现向外弯曲的曲线。\n\n计算该定制镜头在视场角 $\\theta = \\frac{2\\pi}{5}$ 弧度时的相对畸变系数 $D$ 的数值。将你的最终答案四舍五入到四位有效数字。", "solution": "理想的直线投影将视场角 $\\theta$ 映射到图像高度 $y'_{ideal} = f \\tan(\\theta)$，而等立体角投影将其映射到 $y'_{actual} = 2 f \\sin\\!\\left(\\frac{\\theta}{2}\\right)$。相对畸变系数定义为\n$$\nD = \\frac{y'_{actual} - y'_{ideal}}{y'_{ideal}}。\n$$\n代入给定的图像高度，\n$$\nD = \\frac{2 f \\sin\\!\\left(\\frac{\\theta}{2}\\right) - f \\tan(\\theta)}{f \\tan(\\theta)} = \\frac{2 \\sin\\!\\left(\\frac{\\theta}{2}\\right)}{\\tan(\\theta)} - 1.\n$$\n使用 $\\tan(\\theta) = \\frac{\\sin(\\theta)}{\\cos(\\theta)}$ 和 $\\sin(\\theta) = 2 \\sin\\!\\left(\\frac{\\theta}{2}\\right)\\cos\\!\\left(\\frac{\\theta}{2}\\right)$ 来简化该比率：\n$$\n\\frac{2 \\sin\\!\\left(\\frac{\\theta}{2}\\right)}{\\tan(\\theta)} = 2 \\sin\\!\\left(\\frac{\\theta}{2}\\right) \\cdot \\frac{\\cos(\\theta)}{\\sin(\\theta)} = 2 \\sin\\!\\left(\\frac{\\theta}{2}\\right) \\cdot \\frac{\\cos(\\theta)}{2 \\sin\\!\\left(\\frac{\\theta}{2}\\right)\\cos\\!\\left(\\frac{\\theta}{2}\\right)} = \\frac{\\cos(\\theta)}{\\cos\\!\\left(\\frac{\\theta}{2}\\right)}.\n$$\n因此，\n$$\nD = \\frac{\\cos(\\theta)}{\\cos\\!\\left(\\frac{\\theta}{2}\\right)} - 1.\n$$\n对于 $\\theta = \\frac{2\\pi}{5}$，我们有 $\\frac{\\theta}{2} = \\frac{\\pi}{5}$。使用精确的三角函数值\n$$\n\\cos\\!\\left(\\frac{2\\pi}{5}\\right) = \\frac{\\sqrt{5} - 1}{4}, \\qquad \\cos\\!\\left(\\frac{\\pi}{5}\\right) = \\frac{1 + \\sqrt{5}}{4},\n$$\n我们得到\n$$\nD = \\frac{\\frac{\\sqrt{5} - 1}{4}}{\\frac{1 + \\sqrt{5}}{4}} - 1 = \\frac{\\sqrt{5} - 1}{\\sqrt{5} + 1} - 1 = \\frac{(\\sqrt{5} - 1) - (\\sqrt{5} + 1)}{\\sqrt{5} + 1} = -\\frac{2}{\\sqrt{5} + 1}.\n$$\n等价地，\n$$\nD = \\frac{1 - \\sqrt{5}}{2}.\n$$\n数值上，$\\frac{1 - \\sqrt{5}}{2} \\approx -0.6180339887\\ldots$，四舍五入到四位有效数字为 $-0.6180$。", "answer": "$$\\boxed{-0.6180}$$", "id": "2227350"}, {"introduction": "在计算机视觉和精密测量领域，消除镜头畸变是保证数据准确性的关键步骤。相机标定过程的核心就是建立一个精确的数学模型来描述并反向校正这种畸变。本练习模拟了相机标定的基本思想，你将利用已知的理想点和测量点坐标，来求解描述径向畸变的多项式系数，从而掌握畸变校正的核心原理。[@problem_id:947296]", "problem": "在光学成像系统（如相机）中，镜头缺陷会导致几何畸变。一种常见的畸变是径向畸变，它使物方空间中的直线在图像中呈现为曲线。为了进行精确测量和应用于计算机视觉，必须校正这种畸变。\n\n一个广泛用于校正径向畸变的模型是多项式模型。假设畸变中心位于像平面原点，理想（无畸变）坐标 $(x_u, y_u)$ 与测量（有畸变）坐标 $(x_d, y_d)$ 之间的关系可表示为：\n$$x_u = x_d (1 + k_1 r_d^2 + k_2 r_d^4 + \\dots)$$\n$$y_u = y_d (1 + k_1 r_d^2 + k_2 r_d^4 + \\dots)$$\n其中 $r_d = \\sqrt{x_d^2 + y_d^2}$ 是畸变图像中点到中心的径向距离，$k_1, k_2, \\dots$ 是径向畸变系数。\n\n考虑一个畸变可以由前两个系数 $k_1$ 和 $k_2$ 很好地描述的系统。为标定该系统，我们测量已知物体的位置。假设我们已对两个不同的、标记为1和2的离轴点进行了此项测量。对于点1，理想径向位置为 $r_{u,1}$，测量径向位置为 $r_{d,1}$。对于点2，理想和测量的径向位置分别为 $r_{u,2}$ 和 $r_{d,2}$。\n\n利用这些信息，确定以下定义的量 $Q$ 的符号表达式：\n$$Q = 2 k_1 r_{d,1}^2 r_{d,2}^2 + k_2 r_{d,1}^2 r_{d,2}^2 (r_{d,1}^2 + r_{d,2}^2)$$\n请用给定的径向位置 $r_{u,1}, r_{d,1}, r_{u,2}$ 和 $r_{d,2}$ 来表示你的答案。", "solution": "1. 对于点 $i=1,2$ 的径向映射方程为：\n$$r_{u,i}=r_{d,i}\\bigl(1+k_1r_{d,i}^2+k_2r_{d,i}^4\\bigr).$$\n定义 $s_i=r_{d,i}^2$ 以及 \n$$A_i=\\frac{r_{u,i}}{r_{d,i}}-1=k_1s_i+k_2s_i^2.$$\n2. 由此得到线性方程组\n$$k_1s_1+k_2s_1^2=A_1,\\quad k_1s_2+k_2s_2^2=A_2.$$\n其行列式为 \n$$D=s_1s_2^2-s_2s_1^2=s_1s_2(s_2-s_1).$$\n因此\n$$k_1=\\frac{A_1s_2^2-A_2s_1^2}{D},\\qquad k_2=\\frac{A_2s_1-A_1s_2}{D}.$$\n3. 量\n$$Q=2k_1s_1s_2+k_2s_1s_2(s_1+s_2)=s_1s_2\\bigl(2k_1+k_2(s_1+s_2)\\bigr)$$\n代入后可得\n$$Q=\\frac{2(A_1s_2^2-A_2s_1^2)+(s_1+s_2)(A_2s_1-A_1s_2)}{s_2-s_1}\n=A_1s_2+A_2s_1.$$\n4. 将 $A_i$ 和 $s_i$ 的定义代回，得到\n$$Q=r_{d,2}^2\\Bigl(\\frac{r_{u,1}}{r_{d,1}}-1\\Bigr)+r_{d,1}^2\\Bigl(\\frac{r_{u,2}}{r_{d,2}}-1\\Bigr).$$", "answer": "$$\\boxed{r_{d,2}^2\\bigl(\\tfrac{r_{u,1}}{r_{d,1}}-1\\bigr)+r_{d,1}^2\\bigl(\\tfrac{r_{u,2}}{r_{d,2}}-1\\bigr)}$$", "id": "947296"}]}