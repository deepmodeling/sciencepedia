{"hands_on_practices": [{"introduction": "布尔可满足性问题（SAT）是计算复杂性理论的核心。虽然一般的 SAT 问题（尤其是 3-SAT）是 NP-完备的，但其一个重要的特例——2-可满足性问题（2-SAT）——却可以在多项式时间内解决。本练习将引导你通过构建蕴含图来解决一个 2-SAT 实例，这是一种揭示问题可解结构并避免蛮力搜索的巧妙算法 [@problem_id:61693]。通过这个实践，你将亲身体会到属于 P 类的问题的关键特征。", "problem": "在计算复杂性理论的研究中，布尔可满足性问题 (SAT) 扮演着核心角色。虽然一般的 SAT 问题是 NP完全的，但一个值得注意的特例，2-可满足性 (2-SAT) 问题，是可以在多项式时间内求解的。一个解决 2-SAT 问题的巧妙算法是根据给定的 2-CNF 公式构建一个*蕴含图*。\n\n一个 2-CNF 公式是多个子句的合取 (AND)，其中每个子句是两个文字的析取 (OR)。一个文字是一个布尔变量或其否定形式。对于一个包含变量 $\\{x_1, \\dots, x_n\\}$ 的公式，其文字集合为 $\\{x_1, \\neg x_1, \\dots, x_n, \\neg x_n\\}$。\n\n一个 2-CNF 公式的蕴含图 $G=(V, E)$ 是一个有向图，其中顶点 $V$ 是所有文字的集合。对于公式中每个形如 $(a \\lor b)$ 的子句，我们在 $E$ 中添加两条有向边：$\\neg a \\to b$ 和 $\\neg b \\to a$。这代表了逻辑蕴含关系：如果 $a$ 为假，则 $b$ 必须为真；如果 $b$ 为假，则 $a$ 必须为真。\n\n一个 2-CNF 公式是不可满足的，当且仅当存在一个变量 $x_i$，使得 $x_i$ 和它的否定 $\\neg x_i$ 位于蕴含图的同一个*强连通分量* (SCC) 中。一个 SCC 是一个极大子图，其中对于分量中的任意两个顶点 $u, v$，都存在一条从 $u$ 到 $v$ 的有向路径和一条从 $v$ 到 $u$ 的有向路径。\n\n我们将一个**矛盾强连通分量**定义为包含至少一对文字 $\\{x_i, \\neg x_i\\}$（对于某个变量 $x_i$）的 SCC。\n\n考虑以下基于变量集合 $\\{x_1, x_2, x_3, x_4, x_5, x_6, x_7\\}$ 的 2-CNF 公式 $\\Phi$。\n$$\n\\Phi = (\\neg x_1 \\lor x_2) \\land (\\neg x_2 \\lor \\neg x_1) \\land (x_1 \\lor \\neg x_2) \\land (x_1 \\lor x_2)\n\\land (\\neg x_3 \\lor x_4) \\land (\\neg x_4 \\lor \\neg x_3) \\land (x_3 \\lor \\neg x_4) \\land (x_3 \\lor x_4)\n\\land (\\neg x_5 \\lor x_6) \\land (\\neg x_6 \\lor x_5) \\land (x_1 \\lor x_7)\n$$\n\n你的任务是确定公式 $\\Phi$ 的蕴含图中矛盾强连通分量的总数。", "solution": "1. 蕴含图的构建。对于每个子句 $(a \\lor b)$，我们添加边 $\\neg a \\to b$ 和 $\\neg b \\to a$。\n\n   关于 $x_1, x_2$ 的子句：\n   从 $(\\neg x_1 \\lor x_2)$ 导出蕴含 $x_1 \\to x_2$ 和 $\\neg x_2 \\to \\neg x_1$。\n   从 $(\\neg x_2 \\lor \\neg x_1)$ 导出蕴含 $x_2 \\to \\neg x_1$ 和 $x_1 \\to \\neg x_2$。\n   从 $(x_1 \\lor \\neg x_2)$ 导出蕴含 $\\neg x_1 \\to \\neg x_2$ 和 $x_2 \\to x_1$。\n   从 $(x_1 \\lor x_2)$ 导出蕴含 $\\neg x_1 \\to x_2$ 和 $\\neg x_2 \\to x_1$。\n   \n   因此，在 $\\{x_1, x_2, \\neg x_1, \\neg x_2\\}$ 上的子图有边，可以形成如 $x_1 \\leftrightarrow x_2$ 和 $\\neg x_1 \\leftrightarrow \\neg x_2$ 的路径，以及如 $x_1 \\to \\neg x_1$ 的交叉路径。因此，$\\{x_1, x_2, \\neg x_1, \\neg x_2\\}$ 整体是一个强连通分量 (SCC)，同时包含 $x_1$ 和 $\\neg x_1$。\n\n2. 关于 $x_3, x_4$ 的子句形式相同，得到一个 SCC $\\{x_3, x_4, \\neg x_3, \\neg x_4\\}$，也包含 $x_3$ 和 $\\neg x_3$。\n\n3. 关于 $x_5, x_6$ 的子句：\n   $(\\neg x_5 \\lor x_6)$ 导出 $x_5 \\to x_6$ 和 $\\neg x_6 \\to \\neg x_5$。\n   $(\\neg x_6 \\lor x_5)$ 导出 $x_6 \\to x_5$ 和 $\\neg x_5 \\to \\neg x_6$。\n   这产生了两个不相交的 SCC：$\\{x_5, x_6\\}$ 和 $\\{\\neg x_5, \\neg x_6\\}$，两者都不包含某个变量及其否定。\n\n4. 子句 $(x_1 \\lor x_7)$ 添加了边 $\\neg x_1 \\to x_7$ 和 $\\neg x_7 \\to x_1$。\n   这些边不会将 $x_7$ 或 $\\neg x_7$ 循环地并入任何现有的 SCC，所以 $\\{x_7\\}$ 和 $\\{\\neg x_7\\}$ 仍然是单例 SCC。\n\n5. 统计矛盾 SCC：即对于某个 $i$ 包含 $\\{x_i, \\neg x_i\\}$ 的 SCC。\n   我们恰好有两个：\n   $\\{x_1, x_2, \\neg x_1, \\neg x_2\\}$ 和 $\\{x_3, x_4, \\neg x_3, \\neg x_4\\}$。\n   因此总数为 $2$。", "answer": "$$\\boxed{2}$$", "id": "61693"}, {"introduction": "与易于处理的 2-SAT 问题形成鲜明对比，3-SAT 是第一个被证明的 NP-完备问题，代表了“难”问题的典型。对于这类问题，目前尚无已知的多项式时间算法，我们常常需要探索一个指数级增长的搜索空间。这个练习要求你为一个给定的 3-CNF 公式找到字典序最后的满足赋值，这个过程会让你直观地感受到在 NP-完备问题的复杂情形中进行系统性搜索的挑战 [@problem_id:61604]。", "problem": "在计算复杂性理论中，布尔可满足性问题 (SAT) 是 NP 完全性的一个基石。一个常见的变体是 3-SAT 问题，其中布尔公式以 3-合取范式 (3-CNF) 的形式给出。\n\n如果一个布尔公式是若干子句的合取 (AND, $\\land$)，并且每个子句是恰好三个文字的析取 (OR, $\\lor$)，则该公式为 3-CNF 形式。一个文字可以是一个布尔变量 $x_i$ 或其否定 $\\neg x_i$。\n\n对变量 $x_1, \\dots, x_n$ 进行的一组布尔值（真=1，假=0）赋值，如果能使整个公式求值为真，则称之为可满足赋值。一个赋值可以表示为一个二进制串 $A = (a_1, a_2, \\dots, a_n)$，其中 $a_i$ 是赋给 $x_i$ 的值。\n\n所有可能赋值的集合 $\\{0, 1\\}^n$ 可以按字典序排列。如果赋值 $A=(a_1, \\dots, a_n)$ 和 $B=(b_1, \\dots, b_n)$ 在从左起第一个不同的索引 $i$ 处有 $a_i > b_i$，则称 $A$ 的字典序大于 $B$。字典序最后的满足赋值是在此排序中最大的可满足赋值。\n\n一个二进制串的汉明权重是该串中 1 的数量。\n\n考虑以下包含 $n=6$ 个变量 $\\{x_1, x_2, x_3, x_4, x_5, x_6\\}$ 和 $m=8$ 个子句的 3-CNF 公式 $\\Phi$：\n$\\Phi = C_1 \\land C_2 \\land C_3 \\land C_4 \\land C_5 \\land C_6 \\land C_7 \\land C_8$，其中\n$C_1 = (x_1 \\lor x_2 \\lor x_3)$\n$C_2 = (\\neg x_1 \\lor \\neg x_2 \\lor x_4)$\n$C_3 = (x_2 \\lor \\neg x_3 \\lor x_5)$\n$C_4 = (\\neg x_4 \\lor \\neg x_5 \\lor x_6)$\n$C_5 = (x_1 \\lor \\neg x_3 \\lor \\neg x_6)$\n$C_6 = (\\neg x_2 \\lor x_4 \\lor \\neg x_5)$\n$C_7 = (x_3 \\lor x_5 \\lor x_6)$\n$C_8 = (\\neg x_3 \\lor \\neg x_5 \\lor \\neg x_6)$\n\n确定公式 $\\Phi$ 的字典序最后的满足赋值的汉明权重。", "solution": "我们采用标准的贪心过程来构建字典序最后的满足赋值 $A=(x_1,\\dots,x_6)$，即依次测试每一位，当且仅当存在某个补全的赋值使其仍然可满足时，才将该位设为 1。\n\n1.  尝试 $x_1=1$。可以找到一个完整的赋值（例如下面的 $111101$）来满足 $\\Phi$，所以我们设\n$$x_1=1.$$\n\n2.  在 $x_1=1$ 的条件下，尝试 $x_2=1$。同样存在一个补全的赋值（例如 $111101$）满足所有子句，所以\n$$x_2=1.$$\n\n3.  在 $(x_1,x_2)=(1,1)$ 的条件下，尝试 $x_3=1$。存在一个补全的赋值，所以\n$$x_3=1.$$\n\n4.  在 $(x_1,x_2,x_3)=(1,1,1)$ 的条件下，尝试 $x_4=1$。存在一个补全的赋值，所以\n$$x_4=1.$$\n\n5.  在 $(x_1,x_2,x_3,x_4)=(1,1,1,1)$ 的条件下，尝试 $x_5=1$。我们证明不存在可能的补全赋值：\n   对于任意 $x_6\\in\\{0,1\\}$，\n   $C_4=(\\neg x_4\\lor\\neg x_5\\lor x_6)=(0\\lor0\\lor x_6)=x_6$，\n   $C_8=(\\neg x_3\\lor\\neg x_5\\lor\\neg x_6)=(0\\lor0\\lor\\neg x_6)=\\neg x_6$。\n   因此 $C_4$ 和 $C_8$ 同时要求 $x_6=1$ 和 $x_6=0$，这是一个矛盾。所以\n$$x_5=0.$$\n\n6.  最后，在 $(x_1,\\dots,x_5)=(1,1,1,1,0)$ 的条件下，尝试 $x_6=1$。通过直接代入可以验证\n$$A=(1,1,1,1,0,1)$$\n满足所有八个子句 $C_1,\\dots,C_8$，所以\n$$x_6=1.$$\n\n因此，字典序最后的满足赋值是\n$$A=(1,1,1,1,0,1),$$\n其汉明权重为\n$$\\sum_{i=1}^6 x_i = 1+1+1+1+0+1 = 5.$$", "answer": "$$\\boxed{5}$$", "id": "61604"}, {"introduction": "NP-完备性理论的基石是“归约”的概念，它允许我们在不同问题之间建立难度关系。本练习探讨了两个经典的 NP-难问题：最小顶点覆盖和最大独立集。你将通过一个简单的证明，揭示这两个问题规模之间存在一个优美而直接的恒等关系，这表明它们实际上是同一个问题的“两面” [@problem_id:61625]。理解这种对偶性是掌握 NP-完备类结构的关键一步。", "problem": "在图论中，独立集和顶点覆盖是两个基本概念。考虑一个无向图 $G = (V, E)$，其中 $V$ 是顶点集，$E$ 是边集。设顶点总数为 $N = |V|$。\n\n一个**独立集**是顶点的一个子集 $S \\subseteq V$，使得对于 $S$ 中任意一对不同的顶点 $u, v$，边 $(u, v)$ 都不在 $E$ 中。换句话说，独立集中的任意两个顶点都不相邻。$G$ 的最大独立集的大小记为 $\\alpha(G)$。\n\n一个**顶点覆盖**是顶点的一个子集 $C \\subseteq V$，使得 $E$ 中的每条边都至少有一个端点在 $C$ 中。$G$ 的最小顶点覆盖的大小记为 $\\tau(G)$。\n\n寻找最大独立集和最小顶点覆盖都是经典的 NP 难问题。然而，对于任何给定的图，它们的大小之间存在直接关系。\n\n给定一个有 $N$ 个顶点的图 $G$，假设其最大独立集的大小为 $\\alpha(G) = \\alpha$。请确定其最小顶点覆盖的大小 $\\tau(G)$，并用 $N$ 和 $\\alpha$ 表示。", "solution": "在图论中，对于任何具有 $|V| = N$ 个顶点的无向图 $G = (V, E)$，一个集合是独立集当且仅当它的补集是顶点覆盖。\n\n*   设 $S$ 是一个独立集。那么，其补集 $V \\setminus S$ 是一个顶点覆盖。这是因为对于任何边 $(u, v) \\in E$，根据独立集的定义，顶点 $u$ 和 $v$ 不能同时在 $S$ 中。因此，至少有一个端点（$u$ 或 $v$）必须在 $V \\setminus S$ 中，这意味着 $V \\setminus S$ 覆盖了所有边。\n\n*   反之，如果 $C$ 是一个顶点覆盖，那么 $V \\setminus C$ 是一个独立集。这是因为如果在 $V \\setminus C$ 中的两个顶点 $u, v$ 之间存在一条边，那么这条边 $(u,v)$ 的两个端点都不在 $C$ 中，这将与 $C$ 是一个顶点覆盖的定义相矛盾。\n\n基于这个对偶关系，我们可以推导出 $\\alpha(G)$ 和 $\\tau(G)$ 之间的关系。\n\n1.  设 $S^*$ 是一个最大独立集，因此 $|S^*| = \\alpha(G) = \\alpha$。\n    根据上述关系，$V \\setminus S^*$ 是一个顶点覆盖，其大小为 $|V \\setminus S^*| = N - \\alpha$。\n    由于 $\\tau(G)$ 是*最小*顶点覆盖的大小，它必须小于或等于任何一个顶点覆盖的大小。因此：\n    $$\n    \\tau(G) \\leq N - \\alpha\n    $$\n\n2.  设 $C^*$ 是一个最小顶点覆盖，因此 $|C^*| = \\tau(G)$。\n    根据上述关系，$V \\setminus C^*$ 是一个独立集，其大小为 $|V \\setminus C^*| = N - \\tau(G)$。\n    由于 $\\alpha(G)$ 是*最大*独立集的大小，它必须大于或等于任何一个独立集的大小。因此：\n    $$\n    \\alpha \\geq N - \\tau(G)\n    $$\n\n3.  对第 2 步中的不等式进行整理：\n    $$\n    \\alpha \\geq N - \\tau(G) \\implies \\tau(G) \\geq N - \\alpha\n    $$\n\n4.  结合第 1 步和第 3 步的不等式：\n    $$\n    \\tau(G) \\leq N - \\alpha \\quad \\text{和} \\quad \\tau(G) \\geq N - \\alpha\n    $$\n    这两个条件同时成立的唯一可能性是等式成立。\n\n因此，\n$$\n\\tau(G) = N - \\alpha\n$$\n\n最小顶点覆盖的大小是 $N - \\alpha$。", "answer": "$$\n\\boxed{N - \\alpha}\n$$", "id": "61625"}]}