{"hands_on_practices": [{"introduction": "本练习提供了一个具体的、分步的分析，展示了在一次纠错循环中的单个故障如何导致逻辑错误。通过研究重复码这一简单案例，您将对故障传播以及纠错电路每一组件中容错设计的关键需求建立基本理解。这项练习将培养您分析更复杂协议失效模式的直觉。", "problem": "一个距离为3的重复码被用来保护一个逻辑量子比特免受比特翻转（$X$）错误的影响。逻辑基态定义为 $|0\\rangle_L = |000\\rangle$ 和 $|1\\rangle_L = |111\\rangle$。通过测量两个稳定子生成元 $S_1 = Z_1 Z_2$ 和 $S_2 = Z_2 Z_3$ 来实现错误检测和纠正，其中 $Z_i$ 是作用在量子比特 $i$ 上的泡利Z算符。\n\n稳定子 $Z_i Z_j$ 的测量是使用一个辅助量子比特（记为ancilla）进行的。该辅助量子比特被初始化在 $|0\\rangle_a$ 态，然后施加一个由两个连续的CNOT门组成的电路，即先施加 CNOT($i, a$)，再施加 CNOT($j, a$) 。在计算基矢 $\\{|0\\rangle, |1\\rangle\\}$ 中对辅助量子比特进行测量，得到综合征比特。测量结果0对应于综合征比特 $s=0$（稳定子本征值为+1），测量结果1对应于 $s=1$（稳定子本征值为-1）。\n\n考虑一个初始化在无错误状态 $|0\\rangle_L$ 的逻辑量子比特。启动一个单周期的纠错过程，其中首先测量 $S_1$ 的综合征，然后测量 $S_2$ 的综合征。\n\n在此周期中发生了一个单一故障：在测量第一个稳定子 $S_1 = Z_1 Z_2$ 的过程中，第二个CNOT门，即 CNOT(2, a)，发生了故障。这个故障门执行了标准的 CNOT(2, a) 操作，但同时在其控制量子比特（数据量子比特2）上施加了一个泡利 $X$ 错误。假定整个纠错周期中的所有其他门和测量都是完美的。\n\n纠正过程基于测得的综合征对 $(s_1, s_2)$。它假设最多只发生了一个单量子比特 $X$ 错误，并对与测得的综合征唯一对应的数据量子比特施加相应的泡利 $X$ 纠正。如果综合征是 (0,0)，则不施加任何纠正。\n\n计算这个单一故障导致逻辑错误的概率。逻辑错误定义为：在纠正步骤之后，数据量子比特的最终状态在随后一轮完美的纠错中被解码为 $|1\\rangle_L$ 的事件。", "solution": "初始状态为 $|0\\rangle_L = |000\\rangle$。纠错周期从使用一个初始化为 $|0\\rangle_a$ 的辅助量子比特测量 $S_1 = Z_1 Z_2$ 开始。\n\n- 施加 CNOT(1, a)：控制量子比特是量子比特1（状态为 $|0\\rangle$），因此辅助量子比特保持不变。状态：$|000\\rangle |0\\rangle_a$。\n- 第二个CNOT门 CNOT(2, a) 发生故障。首先，它执行标准的 CNOT(2, a) 操作：控制量子比特2的状态是 $|0\\rangle$，因此辅助量子比特保持不变。状态：$|000\\rangle |0\\rangle_a$。然后，它在量子比特2上施加一个 $X$ 错误，将其翻转为 $|1\\rangle$。状态：$|010\\rangle |0\\rangle_a$。\n- 测量辅助量子比特：结果为0（因为它处于 $|0\\rangle$ 态），因此综合征比特 $s_1 = 0$。\n- 测量后，丢弃辅助量子比特。数据状态：$|010\\rangle$。\n\n接下来，用一个新的初始化为 $|0\\rangle_a$ 的辅助量子比特测量 $S_2 = Z_2 Z_3$。\n\n- 施加 CNOT(2, a)：控制量子比特2的状态是 $|1\\rangle$，因此辅助量子比特翻转。状态：$|010\\rangle |1\\rangle_a$。\n- 施加 CNOT(3, a)：控制量子比特3的状态是 $|0\\rangle$，因此没有变化。状态：$|010\\rangle |1\\rangle_a$。\n- 测量辅助量子比特：结果为1，因此综合征比特 $s_2 = 1$。\n- 综合征对：$(s_1, s_2) = (0, 1)$。\n\n对于综合征 (0,1) 的纠正过程，假设在量子比特3上发生了一个单一的 $X$ 错误，并施加 $X_3$。\n\n- 对量子比特3施加 $X$：状态从 $|010\\rangle$ 变为 $|011\\rangle$。\n\n最终状态为 $|011\\rangle$。随后一轮完美的纠错将对此状态进行解码：\n\n- 测量 $S_1 = Z_1 Z_2$：\n  - $Z_1 Z_2 |011\\rangle = Z_1 |0\\rangle \\otimes Z_2 |1\\rangle \\otimes |1\\rangle = (+1)|0\\rangle \\otimes (-1)|1\\rangle \\otimes |1\\rangle = -|011\\rangle$，因此本征值为-1，综合征比特 $s_1 = 1$。\n- 测量 $S_2 = Z_2 Z_3$：\n  - $Z_2 Z_3 |011\\rangle = |0\\rangle \\otimes Z_2 |1\\rangle \\otimes Z_3 |1\\rangle = |0\\rangle \\otimes (-|1\\rangle) \\otimes (-|1\\rangle) = (+1)|011\\rangle$，因此本征值为+1，综合征比特 $s_2 = 0$。\n- 综合征 (1,0) 对应于量子比特1上的一个 $X$ 错误。施加 $X_1$：$|011\\rangle$ 变为 $|111\\rangle = |1\\rangle_L$。\n\n该状态被解码为 $|1\\rangle_L$，这是一个逻辑错误，因为初始状态是 $|0\\rangle_L$。由于演化是确定性的且没有分支，该故障总是导致此结果。\n\n因此，发生逻辑错误的概率为1。", "answer": "$$ \\boxed{1} $$", "id": "83521"}, {"introduction": "通用量子计算需要非 Clifford 门，而这些门通常通过一种称为“魔术态蒸馏”的高成本过程来容错实现。本题模拟了一个“魔术态工厂”，要求您计算预期的资源消耗，其中考虑了概率性成功和量子态的回收。掌握此类资源分析对于评估不同容错架构的开销和效率至关重要。", "problem": "在容错量子计算方案中，例如使用 Steane $[[7,1,3]]$ 编码的方案，来自克利福德群的逻辑操作（如 Hadamard、Phase、CNOT）通常可以横向实现，这使得它们的成本相对较低。\n\n然而，非克利福德门，如 $T$ 门（$T = \\text{diag}(1, e^{i\\pi/4})$），对于通用量子计算至关重要，但其容错实现的成本要高得多。\n\n实现逻辑 $T$ 门的一种常用方法是“魔术态注入”。这包括将一个特化的辅助量子比特制备在“魔术态”上并消耗它。这些魔术态必须以非常高的保真度制备，这一任务由“魔术态蒸馏工厂”完成。\n\n考虑一个运行“$N_{in}$ 输入-1 输出”蒸馏协议的工厂。每次尝试，该协议消耗 $N_{in}$ 个物理魔术态。\n- 概率为 $p_{succ}$ 时，尝试成功，产生一个高保真度的逻辑魔术态。在这种情况下，还会确定初始的 $N_{in}$ 个态中有 $k$ 个未被错误损坏，可以返回到可用的物理态池中。\n- 概率为 $1-p_{succ}$ 时，尝试失败。不产生逻辑魔术态，并且所有 $N_{in}$ 个物理态都被视为丢失。\n\n为使工厂成为态的净消耗者（即不是永动机），它必须满足条件 $N_{in}  k p_{succ}$。\n\n某个特定算法需要一个逻辑受控相位门（$CS$ 门，或受控-$S$ 门），这是一个非克利福德门。逻辑 $CS$ 门的一个标准分解需要执行几个逻辑克利福德门和三个逻辑 T 族门（$T$ 或 $T^\\dagger$）。假设为 $T^\\dagger$ 门制备魔术态的成本与为 $T$ 门制备的成本相同。与魔术态制备相比，逻辑克利福德门的成本被认为是可忽略不计的。\n\n计算实现单个逻辑 $CS$ 门所消耗的*净*物理魔术态的期望数量。你的答案应以参数 $N_{in}$、$k$ 和 $p_{succ}$ 表示。", "solution": "为了求出实现单个逻辑 $CS$ 门所消耗的净物理魔术态的期望数量，注意到该门需要三个逻辑 T 族门（每个为 $T$ 或 $T^\\dagger$）。每个 T 族门需要一个逻辑魔术态，因此总共需要三个逻辑魔术态。\n\n产生一个逻辑魔术态所消耗的物理魔术态的净期望值，记为 $E$，满足从蒸馏协议推导出的方程：\n- 以概率 $p_{succ}$，尝试成功：净消耗为 $N_{in} - k$ 个物理态（消耗 $N_{in}$ 个但返回 $k$ 个未损坏的态），且不产生进一步的成本。\n- 以概率 $1 - p_{succ}$，尝试失败：净消耗为 $N_{in}$ 个物理态（全部丢失），且过程重新开始，产生额外的期望成本 $E$。\n\n因此，$E$ 的方程为：\n\n$$\nE = p_{succ} (N_{in} - k) + (1 - p_{succ}) (N_{in} + E)\n$$\n\n求解 $E$：\n\n$$\nE = p_{succ} N_{in} - p_{succ} k + (1 - p_{succ}) N_{in} + (1 - p_{succ}) E\n$$\n\n\n$$\nE = N_{in} - p_{succ} k + (1 - p_{succ}) E\n$$\n\n\n$$\nE - (1 - p_{succ}) E = N_{in} - p_{succ} k\n$$\n\n\n$$\np_{succ} E = N_{in} - p_{succ} k\n$$\n\n\n$$\nE = \\frac{N_{in} - p_{succ} k}{p_{succ}} = \\frac{N_{in}}{p_{succ}} - k\n$$\n\n这是每个逻辑魔术态所消耗的净物理魔术态的期望值。对于三个逻辑魔术态，总的期望净消耗为：\n\n$$\n3E = 3 \\left( \\frac{N_{in}}{p_{succ}} - k \\right)\n$$\n\n每个逻辑魔术态的生产过程是相同且独立的，而 $E$ 的表达式已经考虑了在该状态的蒸馏过程中对返回的物理态的重用。因此，三个逻辑魔术态的总期望净消耗为 $3E$。", "answer": "$$\\boxed{3\\left(\\frac{N_{in}}{p_{succ}} - k\\right)}$$", "id": "83631"}, {"introduction": "表面码与最小权重完美匹配（MWPM）等解码算法相结合，是构建量子计算机的主要候选方案之一。本练习探讨了一种关键的失效机制：解码器面临多种权重相同的最低“成本”错误解释，从而产生歧义（简并）。通过分析 MWPM 解码器在这种情况下如何可能做出错误选择，您将理解即使在未超过码距的情况下逻辑错误也可能发生，并体会到容错成功率的概率性本质。", "problem": "考虑一个码距为 $d=3$ 的旋转表面码，它定义在一个 $3 \\times 3$ 的数据量子比特网格上。数据量子比特位于整数坐标 $(i,j)$ 处，其中 $i,j \\in \\{0, 1, 2\\}$。该码有四个 $Z$ 型格点稳定子 $S_k$，其位置可由网格中四个基本方格的中心来标识：$s_1 \\to (0.5, 0.5)$，$s_2 \\to (1.5, 0.5)$，$s_3 \\to (0.5, 1.5)$ 和 $s_4 \\to (1.5, 1.5)$。作用在数据量子比特 $(i,j)$ 上的一个 $X$ 错误会翻转相邻 $Z$ 稳定子的测量结果。例如，作用在量子比特 $q_{1,0}$（位于 $s_1$ 和 $s_2$ 之间的边上）上的一个 $X$ 错误会产生一个综合征对 $\\{s_1, s_2\\}$。\n\n$X$ 错误的纠正是通过在综合征图上使用最小权重完美匹配 (MWPM) 算法来执行的。两个综合征之间边的权重是它们位置之间的曼哈顿距离。例如，配对 $s_1$ 和 $s_2$ 的权重为 $w(s_1,s_2) = |1.5-0.5| + |0.5-0.5| = 1$，这对应于 $q_{1,0}$ 上的单个错误。\n\n假设系统经历了两个单量子比特 $X$ 错误：一个在数据量子比特 $q_{1,0}$ 上，另一个在数据量子比特 $q_{1,2}$ 上。这对应于一个错误算符 $E = X_{1,0} \\otimes X_{1,2}$。因此，综合征测量将揭示四个被激发的稳定子。\n\nMWPM 解码器将计算这四个综合征的所有可能配对的总权重，并选择权重最小的配对来施加一个纠正操作。如果存在多个具有相同最小权重的配对（简并情况），解码器将从中随机均匀地选择一个。\n\n如果所施加的纠正算符 $C$ 与初始错误 $E$ 相结合，产生的净操作 $E' = C \\cdot E$ 等效于一个非平凡的逻辑算符 $X_L$，则会发生逻辑错误。对于该码，一个逻辑 $X_L$ 算符是一串连接码的顶边界（$j=2$ 边）和底边界（$j=0$ 边）的 $X$ 算符，例如对于任意列 $i$，有 $X_L = X_{i,0}X_{i,1}X_{i,2}$。\n\n计算对于给定的双量子比特错误 $E = X_{1,0}X_{1,2}$，MWPM 解码过程导致逻辑 $X_L$ 错误的概率。", "solution": "1. **确定产生的综合征**\n   根据问题描述，数据量子比特位于整数坐标处。一个作用于 $q_{i,j}$ 的 $X$ 错误会翻转其相邻的 $Z$ 稳定子。\n   - $q_{1,0}$ 上的错误：$q_{1,0}$ 是一个边界量子比特，它只与 $s_1$ 和 $s_2$ 相邻。因此，它会激发综合征 $\\{s_1, s_2\\}$。\n   - $q_{1,2}$ 上的错误：$q_{1,2}$ 也是一个边界量子比特，它与 $s_3$ 和 $s_4$ 相邻。因此，它会激发综合征 $\\{s_3, s_4\\}$。\n   - 总的综合征集为 $\\{s_1, s_2, s_3, s_4\\}$。\n\n2. **计算所有可能配对的总权重**\n   有三种方法可以将这四个综合征两两配对：\n   - **水平配对 $M_h = \\{(s_1, s_2), (s_3, s_4)\\}$**: \n     $W_h = w(s_1,s_2) + w(s_3,s_4) = (|1.5-0.5| + 0) + (|1.5-0.5| + 0) = 1 + 1 = 2$。\n   - **垂直配对 $M_v = \\{(s_1, s_3), (s_2, s_4)\\}$**:\n     $W_v = w(s_1,s_3) + w(s_2,s_4) = (0 + |1.5-0.5|) + (0 + |1.5-0.5|) = 1 + 1 = 2$。\n   - **对角配对 $M_d = \\{(s_1, s_4), (s_2, s_3)\\}$**:\n     $W_d = w(s_1,s_4) + w(s_2,s_3) = (|1.5-0.5| + |1.5-0.5|) + (|1.5-0.5| + |1.5-0.5|) = 2 + 2 = 4$。\n\n3. **确定最小权重匹配与解码器选择**\n   最小权重为2，存在两种权重相同的配对方案：水平配对 $M_h$ 和垂直配对 $M_v$。根据题设，解码器会从这两个方案中随机均匀选择一个。\n\n4. **分析解码结果**\n   - **如果解码器选择 $M_h$**: 这个配对所对应的最可能错误是 $X_{1,0} \\otimes X_{1,2}$，这正是实际发生的物理错误。因此，解码器会施加修正操作 $C = X_{1,0} \\otimes X_{1,2}$。净操作为 $E' = C \\cdot E = (X_{1,0} \\otimes X_{1,2}) \\cdot (X_{1,0} \\otimes X_{1,2}) = I$。这是一个正确的修正，没有逻辑错误。\n   - **如果解码器选择 $M_v$**: 这个配对对应的最可能错误是一个穿过中心的单量子比特错误 $X_{1,1}$。这是因为 $q_{1,1}$ 同时与所有四个稳定子 $s_1, s_2, s_3, s_4$ 相邻，一个 $X_{1,1}$ 错误会产生相同的综合征集。因此，解码器会施加修正操作 $C = X_{1,1}$。净操作为 $E' = C \\cdot E = X_{1,1} \\cdot (X_{1,0} \\otimes X_{1,2}) = X_{1,0}X_{1,1}X_{1,2}$。根据定义，这正是一个非平凡的逻辑 $X_L$ 算符。因此，发生了逻辑错误。\n\n5. **计算逻辑错误概率**\n   由于解码器在两种等权重的方案中随机选择，而其中一种导致了逻辑错误，所以发生逻辑错误的概率是 $1/2$。\n   $$\n   P(\\text{逻辑错误}) = \\frac{1}{2}\n   $$", "answer": "$$\\boxed{\\frac12}$$", "id": "83509"}]}