{"hands_on_practices": [{"introduction": "引入泡利算符的二元辛表示法，其主要动机之一是为了简化算符之间对易关系的判定。通过这种表示，复杂的矩阵乘法被转换为了简洁的二元向量内积运算。本练习将引导你实践如何将泡利算符串（Pauli string）转换为二元向量，并应用辛内积来确定它们是对易还是反对易 [@problem_id:144648]。", "problem": "$n$量子比特泡利群 $\\mathcal{P}_n$ 由单量子比特泡利矩阵 $\\{I, X, Y, Z\\}$ 的张量积组成的算符构成，并带有一个来自 $\\{1, -1, i, -i\\}$ 的全局相位因子。在研究对易关系时，可以忽略相位因子。一个 $n$ 量子比特泡利串 $P = \\sigma_1 \\otimes \\sigma_2 \\otimes \\dots \\otimes \\sigma_n$，其中 $\\sigma_j \\in \\{I, X, Y, Z\\}$，可以方便地用一个长度为 $2n$ 的二元列向量表示。\n\n这种二元辛表示的构造如下。首先，我们将每个单量子比特泡利算符映射为一对比特 $(x, z)$：\n- $I \\rightarrow (0, 0)$\n- $X \\rightarrow (1, 0)$\n- $Z \\rightarrow (0, 1)$\n- $Y = iXZ \\rightarrow (1, 1)$\n\n然后，一个 $n$ 量子比特泡利算符 $P = \\sigma_1 \\otimes \\dots \\otimes \\sigma_n$ 被映射到一个 $2n$ 维的二元列向量 $v_P = (x_1, \\dots, x_n, z_1, \\dots, z_n)^T$，其中 $(x_j, z_j)$ 是与 $\\sigma_j$ 对应的二元对。\n\n两个泡利算符 $P_1$ 和 $P_2$ 之间的对易关系可以通过它们对应二元向量 $v_1 = (x_1 | z_1)^T$ 和 $v_2 = (x_2 | z_2)^T$ 的辛内积来确定。辛内积定义为：\n$$\n\\omega(v_1, v_2) = x_1^T z_2 + x_2^T z_1 \\pmod 2\n$$\n这里，点积 $a^T b = \\sum_j a_j b_j$ 是在二元域 $\\mathbb{F}_2$ 上进行的（即加法是异或运算）。当且仅当 $\\omega(v_1, v_2) = 0$ 时，两个算符对易，即 $P_1 P_2 = P_2 P_1$。当且仅当 $\\omega(v_1, v_2) = 1$ 时，它们反对易，即 $P_1 P_2 = -P_2 P_1$。\n\n考虑一个4量子比特系统和以下两个泡利算符（写成紧凑记法，例如 $YIXZ = Y \\otimes I \\otimes X \\otimes Z$）：\n- $P_1 = YIXZ$\n- $P_2 = ZYXI$\n\n计算辛内积 $\\omega(v_{P_1}, v_{P_2})$ 的值。", "solution": "给定一个4量子比特系统的两个泡利算符：\n- $ P_1 = Y \\otimes I \\otimes X \\otimes Z $\n- $ P_2 = Z \\otimes Y \\otimes X \\otimes I $\n\n首先，使用以下映射将每个算符表示为二元列向量：\n- $ I \\rightarrow (0, 0) $\n- $ X \\rightarrow (1, 0) $\n- $ Z \\rightarrow (0, 1) $\n- $ Y \\rightarrow (1, 1) $\n\n对于 $ P_1 = YIXZ $：\n- 量子比特 1 (Y)：$ (x_1, z_1) = (1, 1) $\n- 量子比特 2 (I)：$ (x_2, z_2) = (0, 0) $\n- 量子比特 3 (X)：$ (x_3, z_3) = (1, 0) $\n- 量子比特 4 (Z)：$ (x_4, z_4) = (0, 1) $\n因此，$ v_{P_1} = (x_1, x_2, x_3, x_4 | z_1, z_2, z_3, z_4)^T = (1, 0, 1, 0 | 1, 0, 0, 1)^T $。\n\n对于 $ P_2 = ZYXI $：\n- 量子比特 1 (Z)：$ (x_1', z_1') = (0, 1) $\n- 量子比特 2 (Y)：$ (x_2', z_2') = (1, 1) $\n- 量子比特 3 (X)：$ (x_3', z_3') = (1, 0) $\n- 量子比特 4 (I)：$ (x_4', z_4') = (0, 0) $\n因此，$ v_{P_2} = (x_1', x_2', x_3', x_4' | z_1', z_2', z_3', z_4')^T = (0, 1, 1, 0 | 1, 1, 0, 0)^T $。\n\n辛内积定义为：\n\n$$\n\\omega(v_{P_1}, v_{P_2}) = \\mathbf{x}^T \\mathbf{z}' + {\\mathbf{x}'}^T \\mathbf{z} \\pmod{2}\n$$\n  \n其中：\n- $\\mathbf{x} = (1, 0, 1, 0)^T$ 对于 $v_{P_1}$\n- $\\mathbf{z} = (1, 0, 0, 1)^T$ 对于 $v_{P_1}$\n- $\\mathbf{x}' = (0, 1, 1, 0)^T$ 对于 $v_{P_2}$\n- $\\mathbf{z}' = (1, 1, 0, 0)^T$ 对于 $v_{P_2}$\n并且 $\\cdot$ 表示在 $\\mathbb{F}_2$ 上的点积（乘积之和模2）。\n\n计算 $\\mathbf{x}^T \\mathbf{z}'$：\n\n$$\n\\mathbf{x}^T \\mathbf{z}' = (1 \\cdot 1) + (0 \\cdot 1) + (1 \\cdot 0) + (0 \\cdot 0) = 1 + 0 + 0 + 0 = 1\n$$\n  \n\n计算 ${\\mathbf{x}'}^T \\mathbf{z}$：\n\n$$\n{\\mathbf{x}'}^T \\mathbf{z} = (0 \\cdot 1) + (1 \\cdot 0) + (1 \\cdot 0) + (0 \\cdot 1) = 0 + 0 + 0 + 0 = 0\n$$\n  \n\n现在求和并对2取模：\n\n$$\n\\omega(v_{P_1}, v_{P_2}) = (1 + 0) \\mod 2 = 1 \\mod 2 = 1\n$$\n  \n\n或者，按量子比特计算（对每个 $j$ 求和 $x_j z_j' + x_j' z_j$）：\n- 量子比特 1：$x_1 z_1' + x_1' z_1 = (1 \\cdot 1) + (0 \\cdot 1) = 1 + 0 = 1$\n- 量子比特 2：$x_2 z_2' + x_2' z_2 = (0 \\cdot 1) + (1 \\cdot 0) = 0 + 0 = 0$\n- 量子比特 3：$x_3 z_3' + x_3' z_3 = (1 \\cdot 0) + (1 \\cdot 0) = 0 + 0 = 0$\n- 量子比特 4：$x_4 z_4' + x_4' z_4 = (0 \\cdot 0) + (0 \\cdot 1) = 0 + 0 = 0$\n总和：$1 + 0 + 0 + 0 = 1$，且 $1 \\mod 2 = 1$。\n\n因此，$\\omega(v_{P_1}, v_{P_2}) = 1$。", "answer": "$$ \\boxed{1} $$", "id": "144648"}, {"introduction": "在二元辛表示下，任何克利福德（Clifford）电路的整体作用都可以等效为一个单一的辛矩阵。本练习通过构建基本门（如CNOT门）和复合门（如SWAP门）的辛矩阵，来阐释这一核心原理 [@problem_id:144749]。通过操作这些矩阵，我们不仅可以证明电路的等价性，还能探索更高效的门组合方式，这是量子电路综合中的一项关键任务。", "problem": "在二元辛表示法中，一个n量子比特泡利算符 $P$（忽略相位）由一个 $2n$ 维二元列向量 $v_P = (x_1, \\dots, x_n, z_1, \\dots, z_n)^T \\in \\mathbb{F}_2^{2n}$ 表示。\n\n克利福德门 $U$ 对泡利算符的共轭作用 $U P U^\\dagger$ 对应于其向量表示上的一个线性变换。如果 $P$ 对应向量 $v$，那么 $P' = U P U^\\dagger$ 对应的向量 $v'$ 满足 $v' = S_U v$，其中 $S_U$ 是一个 $2n \\times 2n$ 的二元辛矩阵。一个克利福德门序列 $U = U_k \\dots U_2 U_1$（$U_1$ 先作用）由其对应辛矩阵的乘积 $S_U = S_{U_k} \\dots S_{U_2} S_{U_1}$ 表示。\n\n考虑一个2量子比特系统（$n=2$）。基向量为 $e_1=(1,0,0,0)^T$ (对应 $X_1=X \\otimes I$)，$e_2=(0,1,0,0)^T$ (对应 $X_2=I \\otimes X$)，$e_3=(0,0,1,0)^T$ (对应 $Z_1=Z \\otimes I$) 和 $e_4=(0,0,0,1)^T$ (对应 $Z_2=I \\otimes Z$)。\n\n控制-非门 $CNOT_{c,t}$（控制位为 $c$、目标位为 $t$）是一个克利福德门。它对其坐标的作用是：$x_t \\to x_t+x_c$ 和 $z_c \\to z_c+z_t$，其他坐标不变。\n交换门 SWAP 也是一个克利福德门。它交换两个量子比特的 $x$ 和 $z$ 坐标，即 $x_1 \\leftrightarrow x_2$ 且 $z_1 \\leftrightarrow z_2$。\n\n使用此形式体系，完成以下任务：\n1.  推导 $4 \\times 4$ 的二元辛矩阵 $S_{SWAP}$、$S_{CNOT_{12}}$ 和 $S_{CNOT_{21}}$。\n2.  利用矩阵乘法验证著名的恒等式 $SWAP = CNOT_{12} CNOT_{21} CNOT_{12}$。\n3.  仅使用这些矩阵，确定构造一个 SWAP 门所需的最少 CNOT 门（$CNOT_{12}$ 或 $CNOT_{21}$ 类型均可）数量。", "solution": "我们遵循文章主体部分的约定，使用列向量表示 $v = (x_1, x_2, z_1, z_2)^T$，变换规则为 $v' = S_U v$。\n\n**1. 推导各个门的辛矩阵**\n\n*   **$S_{CNOT_{12}}$**: 控制位 $c=1$，目标位 $t=2$。变换规则为 $x_2 \\to x_2+x_1$ 和 $z_1 \\to z_1+z_2$。\n    - $x_1' = x_1$\n    - $x_2' = x_1 + x_2$\n    - $z_1' = z_1 + z_2$\n    - $z_2' = z_2$\n    这可以写成矩阵形式 $v' = S_{CNOT_{12}} v$：\n    $$ S_{CNOT_{12}} = \\begin{pmatrix} 1  0  0  0 \\\\ 1  1  0  0 \\\\ 0  0  1  1 \\\\ 0  0  0  1 \\end{pmatrix} $$\n\n*   **$S_{CNOT_{21}}$**: 控制位 $c=2$，目标位 $t=1$。变换规则为 $x_1 \\to x_1+x_2$ 和 $z_2 \\to z_2+z_1$。\n    - $x_1' = x_1 + x_2$\n    - $x_2' = x_2$\n    - $z_1' = z_1$\n    - $z_2' = z_1 + z_2$\n    对应的矩阵为：\n    $$ S_{CNOT_{21}} = \\begin{pmatrix} 1  1  0  0 \\\\ 0  1  0  0 \\\\ 0  0  1  0 \\\\ 0  0  1  1 \\end{pmatrix} $$\n\n*   **$S_{SWAP}$**: 交换规则为 $x_1 \\leftrightarrow x_2$ 和 $z_1 \\leftrightarrow z_2$。\n    - $x_1' = x_2$\n    - $x_2' = x_1$\n    - $z_1' = z_2$\n    - $z_2' = z_1$\n    对应的矩阵为：\n    $$ S_{SWAP} = \\begin{pmatrix} 0  1  0  0 \\\\ 1  0  0  0 \\\\ 0  0  0  1 \\\\ 0  0  1  0 \\end{pmatrix} $$\n\n**2. 验证恒等式**\n\n我们需要计算矩阵乘积 $S_{CNOT_{12}} S_{CNOT_{21}} S_{CNOT_{12}}$。\n首先计算中间两项的乘积（所有运算均在 $\\mathbb{F}_2$ 中进行）：\n$$ S_{CNOT_{21}} S_{CNOT_{12}} = \\begin{pmatrix} 1  1  0  0 \\\\ 0  1  0  0 \\\\ 0  0  1  0 \\\\ 0  0  1  1 \\end{pmatrix} \\begin{pmatrix} 1  0  0  0 \\\\ 1  1  0  0 \\\\ 0  0  1  1 \\\\ 0  0  0  1 \\end{pmatrix} = \\begin{pmatrix} 0  1  0  0 \\\\ 1  1  0  0 \\\\ 0  0  1  1 \\\\ 0  0  1  0 \\end{pmatrix} $$\n然后用 $S_{CNOT_{12}}$ 左乘这个结果：\n$$ S_{CNOT_{12}} (S_{CNOT_{21}} S_{CNOT_{12}}) = \\begin{pmatrix} 1  0  0  0 \\\\ 1  1  0  0 \\\\ 0  0  1  1 \\\\ 0  0  0  1 \\end{pmatrix} \\begin{pmatrix} 0  1  0  0 \\\\ 1  1  0  0 \\\\ 0  0  1  1 \\\\ 0  0  1  0 \\end{pmatrix} = \\begin{pmatrix} 0  1  0  0 \\\\ 1  0  0  0 \\\\ 0  0  0  1 \\\\ 0  0  1  0 \\end{pmatrix} $$\n这个结果恰好是 $S_{SWAP}$。恒等式得到验证。\n\n**3. 确定最少 CNOT 门数量**\n\n我们已经证明了3个CNOT门足以实现一个SWAP门。一个或两个CNOT门是不够的，因为它们的辛矩阵与 $S_{SWAP}$ 不同。例如，任何单个CNOT门的辛矩阵都不是置换矩阵，而两个CNOT门的乘积（$S_{CNOT_{12}}S_{CNOT_{21}}$ 或 $S_{CNOT_{21}}S_{CNOT_{12}}$）也与 $S_{SWAP}$ 不同。因此，构造一个SWAP门所需的最少CNOT门数量是3个。", "answer": "$$\\boxed{3}$$", "id": "144749"}, {"introduction": "二元辛表示法是高效模拟稳定态电路（stabilizer circuits）的核心工具，其中也包括了模拟量子测量的效应。本练习将带你完整地走过一个关键算法：在一个泡利算符测量之后，如何更新一个稳定态（以线性簇态为例）的生成元集 [@problem_id:144769]。掌握这项技能对于深入理解量子纠错和基于测量的量子计算至关重要。", "problem": "一个 $N$ 量子比特的泡利算符 $P$，在相差一个相位因子的意义下，可以由一个长度为 $2N$ 的二进制行向量 $v = (x_1, \\dots, x_N | z_1, \\dots, z_N) \\in \\mathbb{F}_2^{2N}$ 表示。从单量子比特泡利矩阵到 $(x|z)$ 对的映射为：$I \\to (0|0)$，$X \\to (1|0)$，$Z \\to (0|1)$，以及 $Y \\to (1|1)$。对于泡利算符的张量积，每个量子比特对应的二进制向量被串联起来。一个稳定子态由一组 $N$ 个对易、独立的泡利算符 $\\{S_i\\}$（即稳定子生成元）定义。这组生成元可以由一个 $N \\times 2N$ 的二进制矩阵 $G$ 表示，该矩阵称为生成元矩阵，其中第 $i$ 行是 $S_i$ 的二进制向量。两个泡利算符 $P_1$ 和 $P_2$ 的乘积对应于它们各自二进制向量的模2加法。\n\n两个泡利算符 $P_1$ 和 $P_2$（其二进制向量分别为 $v_1 = (x_1|z_1)$ 和 $v_2 = (x_2|z_2)$）之间的对易关系由辛内积决定：$P_1 P_2 = (-1)^{\\omega(v_1, v_2)} P_2 P_1$，其中 $\\omega(v_1, v_2) = x_1 \\cdot z_2 + z_1 \\cdot x_2 \\pmod 2$。如果指数为 0，则算符对易；如果为 1，则反对易。\n\n考虑一个 4 量子比特的线性簇态。其稳定子生成元由下式给出：\n$S_1 = X_1 Z_2$\n$S_2 = Z_1 X_2 Z_3$\n$S_3 = Z_2 X_3 Z_4$\n$S_4 = Z_3 X_4$\n\n对该状态进行泡利算符 $M = Y_2$ 的投影测量，测量结果为 -1。这将更新稳定子群及其生成元矩阵。生成元矩阵 $G$ 的更新规则如下：\n1. 找出与测量算符 $M$ 反对易的初始生成元集合 $\\{S_i\\}$。\n2. 从这些反对易的生成元中选择一个（记作 $S_p$）作为主元。\n3. 对于与 $M$ 反对易的每个其他生成元 $S_j$，其在生成元矩阵中对应的行向量 $g_j$ 更新为 $g_j' = g_j + g_p \\pmod 2$。\n4. 主元生成元的行 $g_p$ 被替换为测量算符 $M$ 的二进制向量 $m$。\n5. 与 $M$ 对易的生成元保持不变。\n测量结果 ($\\pm 1$) 不改变最终的二进制生成元矩阵。\n\n你的任务是找到更新后的 $4 \\times 8$ 生成元矩阵 $G_{final}$。为确保答案唯一，将此矩阵转换为域 $\\mathbb{F}_2$ 上的行简化阶梯形矩阵 (RREF)。这个最终的 RREF 矩阵中所有二进制项的总和是多少？", "solution": "我们将量子比特标记为 1–4，并将每个稳定子 $S_i$ 写成一个行向量 $(x|z)\\in\\mathbb{F}_2^{8}$：\n$$\nS_1=X_1Z_2:\\;(x|z)=(1,0,0,0\\mid0,1,0,0),$$\n$$\nS_2=Z_1X_2Z_3:\\;(0,1,0,0\\mid1,0,1,0),$$\n$$\nS_3=Z_2X_3Z_4:\\;(0,0,1,0\\mid0,1,0,1),$$\n$$\nS_4=Z_3X_4:\\;(0,0,0,1\\mid0,0,1,0).\n$$\n测量算符 $M=Y_2$ 具有\n$$m=(0,1,0,0\\mid0,1,0,0)。$$\n计算辛内积 $\\omega(v,m)=x_v\\cdot z_m+z_v\\cdot x_m\\pmod2$。可以发现 $S_1, S_2, S_3$ 均与 $M$ 反对易，而 $S_4$ 与 $M$ 对易。\n\n选择 $S_1$ 作为主元。我们将其行替换为 $m$，并对每个其他反对易的行加上旧的 $S_1$ 行：\n$$\ng_1'=m,\\quad\ng_j'=g_j+g_1\\pmod2\\quad (j=2,3),\\quad\ng_4'=g_4.\n$$\n因此，更新后的生成元矩阵为\n$$\nG=\\begin{pmatrix}\n0  1  0  0  0  1  0  0\\\\\n1  1  0  0  1  1  1  0\\\\\n1  0  1  0  0  0  0  1\\\\\n0  0  0  1  0  0  1  0\n\\end{pmatrix}.\n$$\n我们现在将其化为 $\\mathbb{F}_2$ 上的行简化阶梯形矩阵 (RREF)。通过行交换和消元，可以在第 1-4 列得到主元：\n$$\nG_{\\rm RREF}=\n\\begin{pmatrix}\n1  0  0  0  1  0  1  0\\\\\n0  1  0  0  0  1  0  0\\\\\n0  0  1  0  1  0  1  1\\\\\n0  0  0  1  0  0  1  0\n\\end{pmatrix}.\n$$\n最后，将 RREF 矩阵中所有元素相加得到：\n$$\n(1+1+1) + (1+1) + (1+1+1+1) + (1+1) = 3 + 2 + 4 + 2 = 11.\n$$", "answer": "$$\\boxed{11}$$", "id": "144769"}]}