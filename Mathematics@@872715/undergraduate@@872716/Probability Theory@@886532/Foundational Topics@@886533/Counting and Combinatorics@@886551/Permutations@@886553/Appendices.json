{"hands_on_practices": [{"introduction": "Mastering permutations begins with understanding how to count arrangements when not all items are unique. This exercise [@problem_id:1378986] moves beyond simple factorials to tackle permutations of a multiset, a scenario encountered frequently in fields from cryptography to information theory. By figuring out how to arrange a sequence with repeated digits, you will practice the fundamental principle of dividing out the overcounting caused by identical elements, using the multinomial coefficient formula $\\frac{n!}{n_1!n_2!\\dots n_k!}$.", "problem": "A university's computer science department is designing a new security protocol for lab access. The protocol generates a daily access code by taking the current date in the YYYYMMDD format and creating all possible unique sequences by rearranging its digits. For instance, on February 24th, 2024, the base digit sequence is 20240224. How many distinct access codes can be generated from this specific sequence of digits?", "solution": "We are asked for the number of distinct sequences obtainable by rearranging the digits of the string \"20240224\". This is a permutations-of-a-multiset problem.\n\nFirst, determine the multiplicities of each digit:\n- The total length is $8$.\n- The digit $2$ appears $4$ times.\n- The digit $0$ appears $2$ times.\n- The digit $4$ appears $2$ times.\n\nFor a multiset with total size $n$ and multiplicities $n_{1}, n_{2}, \\dots$, the number of distinct permutations is given by the multinomial coefficient:\n$$\n\\frac{n!}{n_{1}!\\,n_{2}!\\,\\cdots}.\n$$\n\nHere, $n=8$ and the multiplicities are $4,2,2$, so the count is\n$$\n\\frac{8!}{4!\\,2!\\,2!}.\n$$\nCompute by cancellation:\n$$\n\\frac{8!}{4!\\,2!\\,2!}=\\frac{8\\cdot 7\\cdot 6\\cdot 5\\cdot 4!}{4!\\cdot 2\\cdot 2}=\\frac{8\\cdot 7\\cdot 6\\cdot 5}{4}=\\frac{1680}{4}=420.\n$$\nThus, there are $420$ distinct access codes.", "answer": "$$\\boxed{420}$$", "id": "1378986"}, {"introduction": "Real-world problems often come with specific rules that limit the possible arrangements. This practice [@problem_id:1378958] builds on the concept of multisets by introducing structural requirements, such as fixed positions and the grouping of identical items into a single, contiguous block. You will learn a powerful problem-solving strategy: simplify the problem by addressing the most rigid constraints first, then arranging the remaining components, a method that is invaluable in algorithm design and network protocol configuration.", "problem": "A security protocol for an Internet of Things (IoT) network requires the generation of 12-byte session keys. Each key is constructed using a specific pool of available bytes, which consists of:\n- Four identical 'Header' bytes (H)\n- Five identical 'Data' bytes (D)\n- Three identical 'Terminator' bytes (T)\n\nFor a key to be considered valid, it must adhere to the following structural rules:\n1. The key must use all 12 available bytes from the pool.\n2. The first byte of the key must be a Header byte.\n3. The last byte of the key must be a Terminator byte.\n4. All five Data bytes must be arranged contiguously, forming a single unbroken block within the key.\n\nHow many distinct valid session keys can be generated?", "solution": "We must form length-12 sequences using exactly four identical $H$, five identical $D$, and three identical $T$, with position $1$ fixed as $H$, position $12$ fixed as $T$, and all five $D$ contiguously as a single block.\n\nFixing position $1$ as $H$ and position $12$ as $T$ leaves positions $2$ through $11$ (a total of $10$ positions) to place the remaining multiset: $3$ $H$, $5$ $D$, and $2$ $T$. The five $D$ must occupy a contiguous block within positions $\\{2,3,\\ldots,11\\}$. If the block starts at position $s$, it occupies positions $s,s+1,s+2,s+3,s+4$, which must be contained in $\\{2,\\ldots,11\\}$. Therefore $s$ satisfies $2 \\leq s \\leq 7$, giving exactly\n$$10 - 5 + 1 = 6$$\npossible starting positions for the $D$-block.\n\nFor any fixed placement of the $D$-block, the remaining $10-5=5$ positions among $2$ through $11$ must be filled with $3$ identical $H$ and $2$ identical $T$. The number of distinct fillings is the number of ways to choose which $3$ of the $5$ positions receive $H$, namely\n$$\\binom{5}{3} = 10.$$\n\nSince different $D$-block starting positions produce distinct sequences (the unique run of five $D$ determines the block), the total number of valid keys is\n$$6 \\times \\binom{5}{3} = 6 \\times 10 = 60.$$", "answer": "$$\\boxed{60}$$", "id": "1378958"}, {"introduction": "Some combinatorial problems require satisfying multiple conditions at once, including both structural patterns (like alternation) and negative constraints (avoiding adjacency). This scenario [@problem_id:1379008] challenges you to combine pattern-based counting with the principle of inclusion-exclusion, a cornerstone of advanced enumeration. By first calculating the total number of valid alternating arrangements and then subtracting the forbidden cases where a specific pair is adjacent, you will develop a flexible and essential technique for tackling complex permutation problems.", "problem": "A technology company is assembling a new interdisciplinary team for a critical project. The team consists of 5 data scientists and 5 software engineers. For a promotional photograph, all 10 team members are to be seated in a single row of 10 chairs. To visually represent the collaborative nature of the team, the seating arrangement must be such that no two employees from the same department (i.e., no two data scientists or no two software engineers) sit next to each other. Furthermore, due to a well-known professional rivalry, a specific data scientist, Alice, and a specific software engineer, Bob, must not be seated in adjacent chairs.\n\nDetermine the total number of possible seating arrangements that satisfy both of these conditions.", "solution": "Let D denote a data scientist and S denote a software engineer. The problem asks for the number of arrangements of 5 D's and 5 S's in a row that satisfy two conditions:\n1. The arrangement must be alternating (no two D's or two S's are adjacent).\n2. A specific data scientist, Alice (A), and a specific software engineer, Bob (B), are not adjacent.\n\nWe will solve this using the principle of inclusion-exclusion. Let $N_{total}$ be the total number of alternating arrangements without any restrictions on Alice and Bob. Let $N_{forbidden}$ be the number of alternating arrangements where Alice and Bob *are* adjacent. The desired number of arrangements is then $N_{total} - N_{forbidden}$.\n\nStep 1: Calculate the total number of alternating arrangements, $N_{total}$.\nThere are two possible patterns for an alternating arrangement of 5 D's and 5 S's:\nCase 1: The row starts with a data scientist. The pattern is D S D S D S D S D S.\n- The 5 positions for the data scientists can be filled by the 5 specific data scientists in $5!$ ways.\n- The 5 positions for the software engineers can be filled by the 5 specific software engineers in $5!$ ways.\n- The total number of arrangements for this case is $5! \\times 5!$.\n\nCase 2: The row starts with a software engineer. The pattern is S D S D S D S D S D.\n- Similarly, the 5 software engineers can be arranged in $5!$ ways and the 5 data scientists can be arranged in $5!$ ways.\n- The total number of arrangements for this case is $5! \\times 5!$.\n\nTherefore, the total number of alternating arrangements is the sum of the arrangements from both cases:\n$N_{total} = (5! \\times 5!) + (5! \\times 5!) = 2 \\times (5!)^2$.\n$5! = 120$. So, $N_{total} = 2 \\times (120)^2 = 2 \\times 14400 = 28800$.\n\nStep 2: Calculate the number of forbidden arrangements, $N_{forbidden}$, where the arrangement is alternating AND Alice and Bob are adjacent.\nWe must again consider the two alternating patterns.\n\nCase A: The pattern is D S D S D S D S D S.\nAlice (A) is a data scientist (D), so she must be in an odd-numbered position (1, 3, 5, 7, 9). Bob (B) is a software engineer (S), so he must be in an even-numbered position (2, 4, 6, 8, 10). For them to be adjacent, their position numbers must differ by 1. Let's count the number of adjacent position pairs (position for A, position for B) or (position for B, position for A) that are possible.\nThe adjacent seat pairs are (1,2), (2,3), (3,4), ..., (9,10).\n- If A is in position 1 (D), B can be in position 2 (S).\n- If A is in position 3 (D), B can be in position 2 (S) or 4 (S).\n- If A is in position 5 (D), B can be in position 4 (S) or 6 (S).\n- If A is in position 7 (D), B can be in position 6 (S) or 8 (S).\n- If A is in position 9 (D), B can be in position 8 (S) or 10 (S).\nThe total number of ways to place Alice and Bob adjacently is $1 + 2 + 2 + 2 + 2 = 9$.\nFor each of these 9 placements of Alice and Bob, the remaining 4 data scientists can be arranged in the remaining 4 'D' slots in $4!$ ways, and the remaining 4 software engineers can be arranged in the remaining 4 'S' slots in $4!$ ways.\nSo, the number of forbidden arrangements in this case is $9 \\times 4! \\times 4!$.\n\nCase B: The pattern is S D S D S D S D S D.\nAlice (A) must be in an even-numbered position (2, 4, 6, 8, 10). Bob (B) must be in an odd-numbered position (1, 3, 5, 7, 9).\nBy symmetry with Case A, there are also 9 ways to place Alice and Bob adjacently.\n- If B is in position 1 (S), A can be in position 2 (D).\n- If B is in position 3 (S), A can be in position 2 (D) or 4 (D).\n- ...and so on. The logic is identical, giving 9 possible adjacent placements for the (A,B) pair.\nFor each of these 9 placements, the remaining 4 data scientists and 4 software engineers can be arranged in $4! \\times 4!$ ways.\nSo, the number of forbidden arrangements in this case is also $9 \\times 4! \\times 4!$.\n\nThe total number of forbidden arrangements is the sum from both cases:\n$N_{forbidden} = (9 \\times 4! \\times 4!) + (9 \\times 4! \\times 4!) = 18 \\times (4!)^2$.\n$4! = 24$. So, $N_{forbidden} = 18 \\times (24)^2 = 18 \\times 576 = 10368$.\n\nStep 3: Calculate the final answer.\nThe number of valid arrangements is $N_{total} - N_{forbidden}$.\nNumber of ways = $(2 \\times (5!)^2) - (18 \\times (4!)^2)$\nWe can simplify this expression before calculating:\nNumber of ways = $2 \\times (5 \\times 4!)^2 - 18 \\times (4!)^2$\n$= 2 \\times 25 \\times (4!)^2 - 18 \\times (4!)^2$\n$= (50 - 18) \\times (4!)^2$\n$= 32 \\times (4!)^2$\n$= 32 \\times (24)^2$\n$= 32 \\times 576$\n$= 18432$.\n\nAlternatively, using the pre-calculated values:\nNumber of ways = $28800 - 10368 = 18432$.", "answer": "$$\\boxed{18432}$$", "id": "1379008"}]}