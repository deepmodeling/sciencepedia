{"hands_on_practices": [{"introduction": "We begin with a classic application from population genetics. The Wright-Fisher model describes how allele frequencies can change randomly from one generation to the next, a process known as genetic drift. This exercise [@problem_id:1336267] uses Hoeffding's inequality, a specific instance of the Azuma-Hoeffding inequality for independent variables, to quantify how the size of a population provides a buffer against large, random fluctuations in its genetic makeup.", "problem": "Consider a simplified model of genetic drift known as the Wright-Fisher model. We are studying a haploid population, meaning each individual has only one copy of each gene. The population size is constant, with $N$ individuals in every generation.\n\nA specific gene in this population exists in two forms, or alleles, denoted $A_1$ and $A_2$. In the initial generation, which we'll call generation 0, the proportion of individuals carrying the $A_1$ allele is $p_0$, where $0  p_0  1$.\n\nThe next generation, generation 1, is created by sampling $N$ individuals with replacement from the generation 0 population. This means each of the $N$ spots in the new generation is filled by picking one individual at random from the original $N$ individuals, and this process is repeated $N$ times.\n\nLet $p_1$ be the frequency (proportion) of the $A_1$ allele in generation 1. The random nature of sampling causes the allele frequency to fluctuate, a phenomenon known as genetic drift. The change in allele frequency in one generation is $\\Delta p = p_1 - p_0$. For any given small positive value $\\epsilon$, find an upper bound on the probability that the magnitude of this frequency change exceeds $\\epsilon$. That is, find an upper bound for the probability $P(|\\Delta p|  \\epsilon)$.\n\nYour answer should be a closed-form expression in terms of the population size $N$ and the deviation threshold $\\epsilon$.", "solution": "In a haploid Wright-Fisher model with sampling with replacement, construct indicator variables $X_{i}$ for $i=1,\\dots,N$, where $X_{i}=1$ if the $i$-th sampled individual in generation $1$ carries allele $A_{1}$ and $X_{i}=0$ otherwise. Because each draw is from generation $0$ with replacement and the fraction of $A_{1}$ there is $p_{0}$, the $X_{i}$ are independent and identically distributed Bernoulli random variables with parameter $p_{0}$:\n$$\n\\mathbb{P}(X_{i}=1)=p_{0}, \\quad \\mathbb{P}(X_{i}=0)=1-p_{0}, \\quad \\text{and} \\quad \\mathbb{E}[X_{i}]=p_{0}.\n$$\nLet $K=\\sum_{i=1}^{N} X_{i}\\sim \\text{Binomial}(N,p_{0})$ be the count of $A_{1}$ alleles in generation $1$, so the generation-$1$ frequency is\n$$\np_{1}=\\frac{K}{N}=\\frac{1}{N}\\sum_{i=1}^{N} X_{i}.\n$$\nTherefore the one-generation change is\n$$\n\\Delta p = p_{1}-p_{0} = \\frac{1}{N}\\sum_{i=1}^{N} X_{i} - \\mathbb{E}[X_{i}].\n$$\nWe apply Hoeffding's inequality for independent variables bounded in $[0,1]$. For i.i.d. $X_{i}\\in[0,1]$ with mean $\\mathbb{E}[X_{i}]=p_{0}$, the sample mean $S_{N}=\\frac{1}{N}\\sum_{i=1}^{N} X_{i}$ satisfies\n$$\n\\mathbb{P}\\left(\\left|S_{N}-\\mathbb{E}[S_{N}]\\right|\\ge \\epsilon\\right) \\le 2 \\exp\\!\\left(-2 N \\epsilon^{2}\\right).\n$$\nSince $S_{N}=p_{1}$ and $\\mathbb{E}[S_{N}]=p_{0}$, this gives\n$$\n\\mathbb{P}\\left(\\left|p_{1}-p_{0}\\right|\\ge \\epsilon\\right) \\le 2 \\exp\\!\\left(-2 N \\epsilon^{2}\\right).\n$$\nBecause $\\mathbb{P}(|\\Delta p|\\epsilon)\\le \\mathbb{P}(|\\Delta p|\\ge \\epsilon)$, the same bound holds for the strict inequality:\n$$\n\\mathbb{P}\\left(\\left|\\Delta p\\right|\\epsilon\\right) \\le 2 \\exp\\!\\left(-2 N \\epsilon^{2}\\right).\n$$\nThis bound depends only on $N$ and $\\epsilon$ and holds uniformly for all $p_{0}\\in(0,1)$.", "answer": "$$\\boxed{2\\exp\\!\\left(-2N\\epsilon^{2}\\right)}$$", "id": "1336267"}, {"introduction": "Real-world systems often involve summing contributions from non-identical components. This problem [@problem_id:1336240] models the total load on a data center where servers have different computational capacities. By applying Hoeffding's inequality to a sum of independent but not identically distributed variables, we can establish stability guarantees for the entire system, a crucial task in systems engineering.", "problem": "A data center operates a cluster of $n=200$ independent servers. For server $i$, where $i=1, 2, \\ldots, 200$, its computational load, if active, is quantified by a fixed score $c_i = \\frac{i}{200}$. On any given day, each server $i$ has a probability of being active of exactly $1/2$, independently of all other servers. The total load on the system is the sum of the scores of all active servers.\n\nWe are interested in the stability of the system's total load. Calculate a theoretical upper bound for the probability that the total daily load deviates from its expected value by at least $10.0$ units.\n\nRound your final answer to three significant figures.", "solution": "Let $X_{i}$ be the indicator that server $i$ is active on a given day, so $X_{i} \\sim \\text{Bernoulli}(1/2)$ independently for $i=1,2,\\ldots,200$. The load contribution of server $i$ is $c_{i}X_{i}$ with $c_{i}=\\frac{i}{200}$, so the total load is\n$$\nS=\\sum_{i=1}^{200} c_{i}X_{i}.\n$$\nThe expected total load is\n$$\n\\mathbb{E}[S]=\\sum_{i=1}^{200} c_{i}\\mathbb{E}[X_{i}]=\\frac{1}{2}\\sum_{i=1}^{200} c_{i}=\\frac{1}{2}\\cdot \\frac{1}{200}\\sum_{i=1}^{200} i=\\frac{1}{2}\\cdot \\frac{1}{200}\\cdot \\frac{200\\cdot 201}{2}=\\frac{201}{4}.\n$$\nWe seek an upper bound on $\\mathbb{P}(|S-\\mathbb{E}[S]|\\geq 10)$. Since each summand $Y_{i}=c_{i}X_{i}$ lies in the interval $[0,c_{i}]$, Hoeffdingâ€™s inequality for independent bounded variables gives\n$$\n\\mathbb{P}\\big(|S-\\mathbb{E}[S]|\\geq t\\big)\\leq 2\\exp\\!\\left(-\\frac{2t^{2}}{\\sum_{i=1}^{200} (c_{i}-0)^{2}}\\right)=2\\exp\\!\\left(-\\frac{2t^{2}}{\\sum_{i=1}^{200} c_{i}^{2}}\\right).\n$$\nCompute the denominator:\n$$\n\\sum_{i=1}^{200} c_{i}^{2}=\\sum_{i=1}^{200}\\left(\\frac{i}{200}\\right)^{2}=\\frac{1}{200^{2}}\\sum_{i=1}^{200} i^{2}=\\frac{1}{40000}\\cdot \\frac{200\\cdot 201\\cdot 401}{6}=\\frac{80601}{1200}.\n$$\nWith $t=10$, the bound becomes\n$$\n\\mathbb{P}\\big(|S-\\mathbb{E}[S]|\\geq 10\\big)\\leq 2\\exp\\!\\left(-\\frac{2\\cdot 10^{2}}{\\frac{80601}{1200}}\\right)=2\\exp\\!\\left(-\\frac{240000}{80601}\\right).\n$$\nNumerically evaluating the right-hand side and rounding to three significant figures gives approximately $0.102$.", "answer": "$$\\boxed{0.102}$$", "id": "1336240"}, {"introduction": "We now move to a more advanced application that showcases the full power of the Azuma-Hoeffding inequality. The number of comparisons in the randomized quicksort algorithm is a complex random variable whose components are not independent. However, the process can be described by a martingale, allowing us to use the inequality to derive powerful performance guarantees [@problem_id:1336225], demonstrating a key technique in modern algorithm analysis.", "problem": "A software engineer is analyzing the performance of a legacy data processing system. A core component of this system sorts large batches of unique numerical job identifiers using the randomized quicksort algorithm. The overall system performance is highly sensitive to the number of key comparisons performed during this sorting step.\n\nConsider a single run of the randomized quicksort algorithm on a list of $n$ distinct elements. Let $C$ be the total number of key comparisons, which is a random variable. The engineer's goal is to establish a robust performance guarantee.\n\nFor this analysis, you are given the following information:\n1.  The number of elements to be sorted is $n = 40000$.\n2.  The expected number of comparisons, $\\mu$, is given by the formula $\\mu = 2n \\ln(n)$, where $\\ln$ denotes the natural logarithm.\n3.  The probabilistic behavior of $C$ can be bounded using a form of the Azuma-Hoeffding inequality. For a suitable martingale representation of the sorting process, the sum of the squares of the one-step differences is bounded above by $\\frac{\\pi^2}{6} n^2$.\n4.  The specific inequality to use is: $P(|C - \\mu| \\ge t) \\le 2 \\exp\\left(-\\frac{t^2}{B}\\right)$, where $t  0$ and $B$ is the upper bound on the sum of the squares of the one-step differences mentioned in point 3.\n\nA new Service Level Agreement (SLA) requires that the probability of the number of comparisons $C$ exceeding its mean $\\mu$ by more than a certain fraction $\\lambda$ of the mean must be extremely small. Specifically, the requirement is $P(C - \\mu  \\lambda \\mu) \\le 10^{-12}$.\n\nDetermine the minimum a dimensionless value of the fractional deviation $\\lambda$ that satisfies this SLA. Round your final answer to three significant figures.", "solution": "We are given a single-run randomized quicksort on $n$ distinct elements with total comparisons $C$, mean $\\mu=2n\\ln(n)$, and an Azuma-Hoeffding type tail bound\n$$\nP\\!\\left(|C-\\mu|\\ge t\\right)\\le 2\\exp\\!\\left(-\\frac{t^{2}}{B}\\right),\n$$\nwith $B$ bounded by the sum of squared one-step differences, here $B=\\frac{\\pi^{2}}{6}n^{2}$.\n\nThe SLA requires\n$$\nP\\!\\left(C-\\mu\\lambda\\mu\\right)\\le 10^{-12}.\n$$\nSince $P(C-\\mu\\lambda\\mu)\\le P(|C-\\mu|\\ge \\lambda\\mu)$, it suffices to enforce\n$$\nP\\!\\left(|C-\\mu|\\ge \\lambda\\mu\\right)\\le 10^{-12}.\n$$\nBy the given inequality,\n$$\nP\\!\\left(|C-\\mu|\\ge \\lambda\\mu\\right)\\le 2\\exp\\!\\left(-\\frac{\\lambda^{2}\\mu^{2}}{B}\\right).\n$$\nThus a sufficient condition for the SLA is\n$$\n2\\exp\\!\\left(-\\frac{\\lambda^{2}\\mu^{2}}{B}\\right)\\le 10^{-12}.\n$$\nTaking natural logarithms and rearranging gives\n$$\n-\\frac{\\lambda^{2}\\mu^{2}}{B}+\\ln 2\\le -12\\ln 10\n\\quad\\Longrightarrow\\quad\n\\frac{\\lambda^{2}\\mu^{2}}{B}\\ge 12\\ln 10+\\ln 2,\n$$\nso\n$$\n\\lambda^{2}\\ge \\frac{B}{\\mu^{2}}\\left(12\\ln 10+\\ln 2\\right).\n$$\nUsing $\\mu=2n\\ln n$ and $B=\\frac{\\pi^{2}}{6}n^{2}$,\n$$\n\\frac{B}{\\mu^{2}}\n=\\frac{\\frac{\\pi^{2}}{6}n^{2}}{\\left(2n\\ln n\\right)^{2}}\n=\\frac{\\pi^{2}}{24(\\ln n)^{2}}.\n$$\nHence the minimal sufficient $\\lambda$ is\n$$\n\\lambda=\\frac{\\pi}{\\ln n}\\sqrt{\\frac{12\\ln 10+\\ln 2}{24}}.\n$$\nFor $n=40000$, $\\ln n=\\ln(4\\times 10^{4})=\\ln 4+4\\ln 10$. Substituting numerical values,\n$$\n\\ln 2\\approx 0.6931471806,\\quad \\ln 10\\approx 2.302585093,\\quad \\ln 4=2\\ln 2\\approx 1.386294361,\n$$\nso\n$$\n\\ln n\\approx 1.386294361+4\\times 2.302585093\\approx 10.596634733,\n$$\nand\n$$\n\\lambda\\approx \\frac{\\pi}{10.596634733}\\sqrt{\\frac{12\\ln 10+\\ln 2}{24}}\n\\approx 0.296470788\\times 1.086357989\\approx 0.322073409.\n$$\nRounding to three significant figures gives $0.322$.", "answer": "$$\\boxed{0.322}$$", "id": "1336225"}]}