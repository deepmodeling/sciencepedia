{"hands_on_practices": [{"introduction": "The abstract mathematics of parametric curves finds one of its most direct and visually compelling applications in computer animation. To create realistic motion, we must describe not only an object's position over time but also its orientation. This exercise explores how the differential properties of a curve, specifically its tangent vector, can be used to control both the orientation and the perceived brightness of a moving object, providing a fundamental link between calculus and dynamic shading in computer graphics [@problem_id:1623888].", "problem": "In a computer-generated animation, a small, flat, reflective disk moves along a circular path in the $xy$-plane. The position of the disk's center at time $t \\ge 0$ is given by the vector $\\vec{p}(t) = (R \\cos(\\omega t), R \\sin(\\omega t), 0)$, where $R$ and $\\omega$ are positive constants representing the radius and angular frequency, respectively.\n\nFor a realistic animation, the disk is oriented such that its surface normal vector, $\\vec{n}(t)$, always points in the direction of its instantaneous velocity. The normal vector $\\vec{n}(t)$ must be a unit vector.\n\nThe scene is lit by a single, stationary point light source located at the position $\\vec{L} = (X_L, 0, H)$, where $X_L$ and $H$ are positive constants.\n\nIn simple lighting models like the Lambertian reflection model, the perceived brightness of the disk is proportional to the dot product of the disk's unit normal vector and the unit vector pointing from the disk to the light source. Let this brightness factor be $B(t) = \\vec{n}(t) \\cdot \\vec{s}(t)$, where $\\vec{s}(t)$ is the unit vector pointing from the disk's position $\\vec{p}(t)$ to the light source $\\vec{L}$.\n\nDerive a closed-form analytic expression for the rate of change of the brightness factor, $\\frac{dB}{dt}$, as a function of time $t$ and the constants $R, \\omega, X_L, H$.", "solution": "The diskâ€™s center is at $\\vec{p}(t) = \\left(R \\cos(\\omega t), R \\sin(\\omega t), 0\\right)$. Its velocity is\n$$\n\\vec{v}(t) = \\frac{d\\vec{p}}{dt} = \\left(-R \\omega \\sin(\\omega t), R \\omega \\cos(\\omega t), 0\\right),\n$$\nwith magnitude $\\|\\vec{v}(t)\\| = R \\omega$. Since the surface normal $\\vec{n}(t)$ is a unit vector pointing in the direction of the velocity, \n$$\n\\vec{n}(t) = \\frac{\\vec{v}(t)}{\\|\\vec{v}(t)\\|} = \\left(-\\sin(\\omega t), \\cos(\\omega t), 0\\right).\n$$\n\nThe vector from the disk to the light is\n$$\n\\vec{r}(t) = \\vec{L} - \\vec{p}(t) = \\left(X_{L} - R \\cos(\\omega t), - R \\sin(\\omega t), H\\right),\n$$\nwith length\n$$\nd(t) = \\|\\vec{r}(t)\\| = \\sqrt{\\left(X_{L} - R \\cos(\\omega t)\\right)^{2} + \\left(R \\sin(\\omega t)\\right)^{2} + H^{2}} = \\sqrt{X_{L}^{2} - 2 X_{L} R \\cos(\\omega t) + R^{2} + H^{2}}.\n$$\nThus the unit vector toward the light is\n$$\n\\vec{s}(t) = \\frac{\\vec{r}(t)}{d(t)}.\n$$\n\nThe brightness factor is $B(t) = \\vec{n}(t) \\cdot \\vec{s}(t)$. Compute the dot product:\n$$\nB(t) = \\frac{\\left(-\\sin(\\omega t), \\cos(\\omega t), 0\\right) \\cdot \\left(X_{L} - R \\cos(\\omega t), - R \\sin(\\omega t), H\\right)}{d(t)}.\n$$\nThe numerator simplifies as\n$$\n-\\sin(\\omega t)\\left(X_{L} - R \\cos(\\omega t)\\right) + \\cos(\\omega t)\\left(- R \\sin(\\omega t)\\right) = - X_{L} \\sin(\\omega t),\n$$\nso\n$$\nB(t) = \\frac{- X_{L} \\sin(\\omega t)}{d(t)} = \\frac{- X_{L} \\sin(\\omega t)}{\\sqrt{X_{L}^{2} - 2 X_{L} R \\cos(\\omega t) + R^{2} + H^{2}}}.\n$$\n\nDifferentiate $B(t)$ using the quotient (or product) rule. Let $A(t) = - X_{L} \\sin(\\omega t)$ and $g(t) = X_{L}^{2} - 2 X_{L} R \\cos(\\omega t) + R^{2} + H^{2}$, so $d(t) = \\sqrt{g(t)}$. Then\n$$\nA'(t) = - X_{L} \\omega \\cos(\\omega t),\n$$\nand\n$$\ng'(t) = 2 X_{L} R \\omega \\sin(\\omega t), \\quad d'(t) = \\frac{g'(t)}{2 \\sqrt{g(t)}} = \\frac{X_{L} R \\omega \\sin(\\omega t)}{d(t)}.\n$$\nUsing $B = A/d$,\n$$\n\\frac{dB}{dt} = \\frac{A'}{d} - \\frac{A d'}{d^{2}} = \\frac{- X_{L} \\omega \\cos(\\omega t)}{d(t)} + \\frac{X_{L}^{2} R \\omega \\sin^{2}(\\omega t)}{d(t)^{3}}.\n$$\nCombine over the common denominator $d(t)^{3}$ and substitute $d(t)^{2} = g(t)$:\n$$\n\\frac{dB}{dt} = \\frac{- X_{L} \\omega \\cos(\\omega t)\\, g(t) + X_{L}^{2} R \\omega \\sin^{2}(\\omega t)}{g(t)^{\\frac{3}{2}}}.\n$$\nExpanding and simplifying the numerator using $\\sin^{2}(\\omega t) = 1 - \\cos^{2}(\\omega t)$ yields\n$$\n\\frac{dB}{dt} = \\frac{X_{L} \\omega \\left[ - \\left( X_{L}^{2} + R^{2} + H^{2} \\right) \\cos(\\omega t) + X_{L} R \\left( 1 + \\cos^{2}(\\omega t) \\right) \\right]}{\\left( X_{L}^{2} - 2 X_{L} R \\cos(\\omega t) + R^{2} + H^{2} \\right)^{\\frac{3}{2}}}.\n$$\nThis is a closed-form analytic expression for the rate of change of the brightness factor as a function of $t$ and the constants $R, \\omega, X_{L}, H$.", "answer": "$$\\boxed{\\frac{X_{L} \\omega \\left[ - \\left( X_{L}^{2} + R^{2} + H^{2} \\right) \\cos(\\omega t) + X_{L} R \\left( 1 + \\cos^{2}(\\omega t) \\right) \\right]}{\\left( X_{L}^{2} - 2 X_{L} R \\cos(\\omega t) + R^{2} + H^{2} \\right)^{\\frac{3}{2}}}}$$", "id": "1623888"}, {"introduction": "Applying a 2D image, or texture, to a 3D surface is a cornerstone of realistic rendering. However, when the 3D surface is stretched or scaled, the texture can become distorted. This practice delves into how we can use the tools of differential geometry to quantify this distortion [@problem_id:1623913]. By examining how the basis vectors of the texture space transform, we can analyze the shearing and stretching of the texture map, a crucial step in ensuring visual fidelity in graphics applications.", "problem": "In computer graphics, a fundamental task is to map a 2D texture onto a 3D surface. The visual quality of the result depends heavily on how this mapping distorts the original texture. Consider a simple scenario where a 2D texture, parameterized by coordinates $(u, v)$ in a texture space, is applied to a plane in 3D world space.\n\nThe mapping from a texture point $P_{tex} = (u,v,0)$ to a world point $P_{world}$ occurs through two successive geometric transformations:\n1.  A rotation $R$ by an angle $\\theta$ about the z-axis.\n2.  A non-uniform scaling $S$ with a factor of $s_x$ along the x-axis and $s_y$ along the y-axis. The scaling along the z-axis is 1.\n\nThe overall transformation is given by the composition $P_{world} = S \\cdot (R \\cdot P_{tex})$. The local distortion of the texture on the final surface is characterized by the transformation of the texture space's orthogonal basis vectors. These transformed vectors are the tangent vectors $\\mathbf{T}_u = \\frac{\\partial P_{world}}{\\partial u}$ and $\\mathbf{T}_v = \\frac{\\partial P_{world}}{\\partial v}$, which describe how the texture grid is stretched and sheared on the world-space plane.\n\nDetermine the cosine of the angle $\\phi$ between these two transformed basis vectors, $\\mathbf{T}_u$ and $\\mathbf{T}_v$. Your answer should be a symbolic expression in terms of $\\theta$, $s_x$, and $s_y$.", "solution": "Let the rotation about the z-axis by angle $\\theta$ be\n$$\nR=\\begin{pmatrix}\n\\cos\\theta & -\\sin\\theta & 0\\\\\n\\sin\\theta & \\cos\\theta & 0\\\\\n0 & 0 & 1\n\\end{pmatrix},\n$$\nand the non-uniform scaling be\n$$\nS=\\begin{pmatrix}\ns_{x} & 0 & 0\\\\\n0 & s_{y} & 0\\\\\n0 & 0 & 1\n\\end{pmatrix}.\n$$\nA texture point is $P_{tex}=(u,v,0)^{\\top}$. After rotation,\n$$\nR\\,P_{tex}=\\begin{pmatrix}\nu\\cos\\theta - v\\sin\\theta\\\\\nu\\sin\\theta + v\\cos\\theta\\\\\n0\n\\end{pmatrix}.\n$$\nAfter scaling,\n$$\nP_{world}=S\\,(R\\,P_{tex})=\\begin{pmatrix}\ns_{x}\\left(u\\cos\\theta - v\\sin\\theta\\right)\\\\\ns_{y}\\left(u\\sin\\theta + v\\cos\\theta\\right)\\\\\n0\n\\end{pmatrix}.\n$$\nThe tangent vectors are the partial derivatives with respect to $u$ and $v$:\n$$\n\\mathbf{T}_{u}=\\frac{\\partial P_{world}}{\\partial u}=\\begin{pmatrix}\ns_{x}\\cos\\theta\\\\\ns_{y}\\sin\\theta\\\\\n0\n\\end{pmatrix},\\qquad\n\\mathbf{T}_{v}=\\frac{\\partial P_{world}}{\\partial v}=\\begin{pmatrix}\n-\\,s_{x}\\sin\\theta\\\\\ns_{y}\\cos\\theta\\\\\n0\n\\end{pmatrix}.\n$$\nThe cosine of the angle $\\phi$ between $\\mathbf{T}_{u}$ and $\\mathbf{T}_{v}$ is\n$$\n\\cos\\phi=\\frac{\\mathbf{T}_{u}\\cdot\\mathbf{T}_{v}}{\\|\\mathbf{T}_{u}\\|\\,\\|\\mathbf{T}_{v}\\|}.\n$$\nCompute the numerator:\n$$\n\\mathbf{T}_{u}\\cdot\\mathbf{T}_{v}=(s_{x}\\cos\\theta)(-s_{x}\\sin\\theta)+(s_{y}\\sin\\theta)(s_{y}\\cos\\theta)=(s_{y}^{2}-s_{x}^{2})\\sin\\theta\\cos\\theta.\n$$\nCompute the norms:\n$$\n\\|\\mathbf{T}_{u}\\|=\\sqrt{s_{x}^{2}\\cos^{2}\\theta+s_{y}^{2}\\sin^{2}\\theta},\\qquad\n\\|\\mathbf{T}_{v}\\|=\\sqrt{s_{x}^{2}\\sin^{2}\\theta+s_{y}^{2}\\cos^{2}\\theta}.\n$$\nTherefore,\n$$\n\\cos\\phi=\\frac{(s_{y}^{2}-s_{x}^{2})\\sin\\theta\\cos\\theta}{\\sqrt{s_{x}^{2}\\cos^{2}\\theta+s_{y}^{2}\\sin^{2}\\theta}\\,\\sqrt{s_{x}^{2}\\sin^{2}\\theta+s_{y}^{2}\\cos^{2}\\theta}}.\n$$", "answer": "$$\\boxed{\\frac{(s_{y}^{2}-s_{x}^{2})\\sin\\theta\\cos\\theta}{\\sqrt{s_{x}^{2}\\cos^{2}\\theta+s_{y}^{2}\\sin^{2}\\theta}\\,\\sqrt{s_{x}^{2}\\sin^{2}\\theta+s_{y}^{2}\\cos^{2}\\theta}}}$$", "id": "1623913"}, {"introduction": "While continuous surfaces are a powerful theoretical tool, real-world 3D models are almost always represented as discrete triangle meshes. This raises a critical question: how do we translate concepts like curvature from the smooth world to the discrete? This problem introduces the cotangent formula, a foundational method in digital geometry processing for approximating the mean curvature at a vertex on a mesh [@problem_id:1623928]. Mastering this technique provides insight into how continuous geometric properties are adapted for computation, enabling algorithms for mesh smoothing, shape analysis, and physical simulation.", "problem": "In the field of digital geometry processing, a common way to approximate the curvature of a smooth surface represented by a triangle mesh is by using discrete operators. One such operator defines the discrete mean curvature vector at a vertex.\n\nConsider a vertex $p_i$ on a triangle mesh. Its neighbors, which are the vertices connected to $p_i$ by an edge, form its 1-ring neighborhood, denoted as $j \\in N(i)$. The discrete mean curvature vector, $\\vec{K}_i$, at vertex $p_i$ is defined as a weighted sum of the vectors pointing from $p_i$ to its neighbors:\n$$ \\vec{K}_i = \\sum_{j \\in N(i)} w_{ij} (p_j - p_i) $$\nThe weight $w_{ij}$ associated with the edge $(p_i, p_j)$ is given by the \"cotangent formula\":\n$$ w_{ij} = \\frac{1}{2} (\\cot \\alpha_{ij} + \\cot \\beta_{ij}) $$\nHere, $\\alpha_{ij}$ and $\\beta_{ij}$ are the two angles in the two triangles that are adjacent to the edge $(p_i, p_j)$, and these angles are positioned opposite to the edge $(p_i, p_j)$.\n\nYou are given a central vertex $P_0$ and its 1-ring neighborhood consisting of three vertices $P_1, P_2, P_3$. The coordinates of these vertices are:\n$P_0 = (0, 0, 1)$\n$P_1 = (\\sqrt{3}, 1, 0)$\n$P_2 = (-\\sqrt{3}, 1, 0)$\n$P_3 = (0, -2, 0)$\n\nThese vertices form three triangles that meet at $P_0$: $\\triangle P_0 P_1 P_2$, $\\triangle P_0 P_2 P_3$, and $\\triangle P_0 P_3 P_1$.\n\nCalculate the components $(K_x, K_y, K_z)$ of the discrete mean curvature vector $\\vec{K}_0$ at vertex $P_0$. Express your answer using exact values, not decimal approximations.", "solution": "We use the given discrete mean curvature vector definition at $P_{0}$:\n$$\\vec{K}_{0}=\\sum_{j \\in \\{1,2,3\\}} w_{0j}\\,(P_{j}-P_{0}), \\quad w_{0j}=\\frac{1}{2}\\left(\\cot \\alpha_{0j}+\\cot \\beta_{0j}\\right),$$\nwhere $\\alpha_{0j}$ and $\\beta_{0j}$ are the angles opposite the edge $(P_{0},P_{j})$ in the two incident triangles. For a triangle with angle at vertex $V$ formed by vectors $u$ and $v$, we compute\n$$\\cot \\angle(u,v)=\\frac{u \\cdot v}{|u \\times v|}.$$\n\nFirst, list the needed difference vectors:\n$$P_{0}=(0,0,1),\\quad P_{1}=(\\sqrt{3},1,0),\\quad P_{2}=(-\\sqrt{3},1,0),\\quad P_{3}=(0,-2,0),$$\n$$P_{1}-P_{0}=(\\sqrt{3},1,-1),\\quad P_{2}-P_{0}=(-\\sqrt{3},1,-1),\\quad P_{3}-P_{0}=(0,-2,-1),$$\n$$P_{0}-P_{2}=(\\sqrt{3},-1,1),\\quad P_{1}-P_{2}=(2\\sqrt{3},0,0),\\quad P_{0}-P_{3}=(0,2,1),\\quad P_{1}-P_{3}=(\\sqrt{3},3,0),$$\n$$P_{3}-P_{2}=(\\sqrt{3},-3,0),\\quad P_{3}-P_{1}=(-\\sqrt{3},-3,0).$$\n\nEdge $(P_{0},P_{1})$: adjacent triangles $P_{0}P_{1}P_{2}$ and $P_{0}P_{3}P_{1}$.\n- In $\\triangle P_{0}P_{1}P_{2}$, opposite angle at $P_{2}$ with $u=P_{0}-P_{2}=(\\sqrt{3},-1,1)$ and $v=P_{1}-P_{2}=(2\\sqrt{3},0,0)$:\n$$u \\cdot v=6,\\quad u \\times v=(0,2\\sqrt{3},2\\sqrt{3}),\\quad |u \\times v|=2\\sqrt{6},$$\n$$\\cot \\alpha_{01}=\\frac{6}{2\\sqrt{6}}=\\frac{\\sqrt{6}}{2}.$$\n- In $\\triangle P_{0}P_{3}P_{1}$, opposite angle at $P_{3}$ with $u=P_{0}-P_{3}=(0,2,1)$ and $v=P_{1}-P_{3}=(\\sqrt{3},3,0)$:\n$$u \\cdot v=6,\\quad u \\times v=(-3,\\sqrt{3},-2\\sqrt{3}),\\quad |u \\times v|=2\\sqrt{6},$$\n$$\\cot \\beta_{01}=\\frac{6}{2\\sqrt{6}}=\\frac{\\sqrt{6}}{2}.$$\nThus,\n$$w_{01}=\\frac{1}{2}\\left(\\frac{\\sqrt{6}}{2}+\\frac{\\sqrt{6}}{2}\\right)=\\frac{\\sqrt{6}}{2}.$$\n\nEdge $(P_{0},P_{2})$: adjacent triangles $P_{0}P_{1}P_{2}$ and $P_{0}P_{2}P_{3}$.\n- In $\\triangle P_{0}P_{1}P_{2}$, opposite angle at $P_{1}$ with $u=P_{0}-P_{1}=(-\\sqrt{3},-1,1)$ and $v=P_{2}-P_{1}=(-2\\sqrt{3},0,0)$:\n$$u \\cdot v=6,\\quad u \\times v=(0,-2\\sqrt{3},-2\\sqrt{3}),\\quad |u \\times v|=2\\sqrt{6},$$\n$$\\cot \\alpha_{02}=\\frac{6}{2\\sqrt{6}}=\\frac{\\sqrt{6}}{2}.$$\n- In $\\triangle P_{0}P_{2}P_{3}$, opposite angle at $P_{3}$ with $u=P_{0}-P_{3}=(0,2,1)$ and $v=P_{2}-P_{3}=(-\\sqrt{3},3,0)$:\n$$u \\cdot v=6,\\quad u \\times v=(-3,-\\sqrt{3},2\\sqrt{3}),\\quad |u \\times v|=2\\sqrt{6},$$\n$$\\cot \\beta_{02}=\\frac{6}{2\\sqrt{6}}=\\frac{\\sqrt{6}}{2}.$$\nThus,\n$$w_{02}=\\frac{1}{2}\\left(\\frac{\\sqrt{6}}{2}+\\frac{\\sqrt{6}}{2}\\right)=\\frac{\\sqrt{6}}{2}.$$\n\nEdge $(P_{0},P_{3})$: adjacent triangles $P_{0}P_{2}P_{3}$ and $P_{0}P_{3}P_{1}$.\n- In $\\triangle P_{0}P_{2}P_{3}$, opposite angle at $P_{2}$ with $u=P_{0}-P_{2}=(\\sqrt{3},-1,1)$ and $v=P_{3}-P_{2}=(\\sqrt{3},-3,0)$:\n$$u \\cdot v=6,\\quad u \\times v=(3,\\sqrt{3},-2\\sqrt{3}),\\quad |u \\times v|=2\\sqrt{6},$$\n$$\\cot \\alpha_{03}=\\frac{6}{2\\sqrt{6}}=\\frac{\\sqrt{6}}{2}.$$\n- In $\\triangle P_{0}P_{3}P_{1}$, opposite angle at $P_{1}$ with $u=P_{0}-P_{1}=(-\\sqrt{3},-1,1)$ and $v=P_{3}-P_{1}=(-\\sqrt{3},-3,0)$:\n$$u \\cdot v=6,\\quad u \\times v=(3,-\\sqrt{3},2\\sqrt{3}),\\quad |u \\times v|=2\\sqrt{6},$$\n$$\\cot \\beta_{03}=\\frac{6}{2\\sqrt{6}}=\\frac{\\sqrt{6}}{2}.$$\nThus,\n$$w_{03}=\\frac{1}{2}\\left(\\frac{\\sqrt{6}}{2}+\\frac{\\sqrt{6}}{2}\\right)=\\frac{\\sqrt{6}}{2}.$$\n\nTherefore all three weights are equal: $w_{01}=w_{02}=w_{03}=\\frac{\\sqrt{6}}{2}$. Hence\n$$\\vec{K}_{0}=\\frac{\\sqrt{6}}{2}\\,\\big[(P_{1}-P_{0})+(P_{2}-P_{0})+(P_{3}-P_{0})\\big].$$\nCompute the sum:\n$$(P_{1}-P_{0})+(P_{2}-P_{0})+(P_{3}-P_{0})=(\\sqrt{3}-\\sqrt{3}+0,\\;1+1-2,\\;-1-1-1)=(0,0,-3).$$\nThus\n$$\\vec{K}_{0}=\\left(0,\\;0,\\;-\\frac{3\\sqrt{6}}{2}\\right).$$\nTherefore, the components are $K_{x}=0$, $K_{y}=0$, $K_{z}=-\\frac{3\\sqrt{6}}{2}$, using exact values.", "answer": "$$\\boxed{\\left(0, 0, -\\frac{3\\sqrt{6}}{2}\\right)}$$", "id": "1623928"}]}