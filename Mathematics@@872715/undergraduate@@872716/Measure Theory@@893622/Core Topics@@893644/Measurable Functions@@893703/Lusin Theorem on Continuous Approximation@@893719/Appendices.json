{"hands_on_practices": [{"introduction": "Lusin's theorem can feel abstract, so let's begin with a concrete example. We will approximate a simple step function, the first Rademacher function, which has a single jump discontinuity on the interval $(0,1)$. This exercise [@problem_id:1430239] demonstrates the fundamental technique of \"patching\" a discontinuity with a continuous segment and allows us to directly calculate the measure of the resulting exceptional set.", "problem": "In measure theory, Lusin's theorem states that any measurable function on a space of finite measure can be approximated by a continuous function. Specifically, for any measurable function $f$ and any $\\epsilon  0$, there exists a continuous function $g$ such that the measure of the set where $f$ and $g$ differ is less than $\\epsilon$.\n\nConsider the interval $X = [0,1]$ with the standard Lebesgue measure, denoted by $\\lambda$. Let the first Rademacher function $r_1: [0,1] \\to \\mathbb{R}$ be defined as $r_1(x) = \\text{sgn}(\\sin(2\\pi x))$, where the signum function is defined as $\\text{sgn}(z) = 1$ if $z0$, $\\text{sgn}(z) = -1$ if $z0$, and $\\text{sgn}(0) = 0$.\n\nLet's construct a potential continuous approximation for $r_1(x)$. For a small positive constant $\\delta = \\frac{1}{30}$, define the continuous, piecewise linear function $g: [0,1] \\to \\mathbb{R}$ as follows:\n$$\ng(x) = \\begin{cases}\n1  \\text{if } 0 \\le x \\le \\frac{1}{2} - \\delta \\\\\n-\\frac{1}{\\delta}\\left(x - \\frac{1}{2}\\right)  \\text{if } \\frac{1}{2} - \\delta  x  \\frac{1}{2} + \\delta \\\\\n-1  \\text{if } \\frac{1}{2} + \\delta \\le x \\le 1\n\\end{cases}\n$$\n\nYour task is to determine the Lebesgue measure of the exceptional set $E = \\{x \\in [0,1] \\mid r_1(x) \\neq g(x)\\}$. Express your final answer as a fraction in simplest form.", "solution": "We first describe $r_{1}$ precisely on $[0,1]$. Since $\\sin(2\\pi x)=0$ at $x\\in\\{0,\\tfrac{1}{2},1\\}$ and is positive on $(0,\\tfrac{1}{2})$ and negative on $(\\tfrac{1}{2},1)$, the definition of the signum function implies\n$$\nr_{1}(x)=\n\\begin{cases}\n1  \\text{for } x\\in(0,\\tfrac{1}{2}),\\\\\n0  \\text{for } x\\in\\{0,\\tfrac{1}{2},1\\},\\\\\n-1  \\text{for } x\\in(\\tfrac{1}{2},1).\n\\end{cases}\n$$\nThe function $g$ is given by\n$$\ng(x)=\n\\begin{cases}\n1  \\text{for } 0\\le x\\le \\tfrac{1}{2}-\\delta,\\\\\n-\\dfrac{1}{\\delta}\\left(x-\\tfrac{1}{2}\\right)  \\text{for } \\tfrac{1}{2}-\\deltax\\tfrac{1}{2}+\\delta,\\\\\n-1  \\text{for } \\tfrac{1}{2}+\\delta\\le x\\le 1,\n\\end{cases}\n$$\nwith $\\delta=\\tfrac{1}{30}$. On the outer intervals, for $x\\in(0,\\tfrac{1}{2}-\\delta]$ we have $r_{1}(x)=1=g(x)$ and for $x\\in[\\tfrac{1}{2}+\\delta,1)$ we have $r_{1}(x)=-1=g(x)$. At $x=0$ and $x=1$ there is disagreement, but these are singletons and thus have Lebesgue measure zero.\n\nOn the middle interval $(\\tfrac{1}{2}-\\delta,\\tfrac{1}{2}+\\delta)$, $g$ varies linearly from $1$ to $-1$, while $r_{1}(x)=1$ on $(\\tfrac{1}{2}-\\delta,\\tfrac{1}{2})$ and $r_{1}(x)=-1$ on $(\\tfrac{1}{2},\\tfrac{1}{2}+\\delta)$. Therefore, $r_{1}(x)\\neq g(x)$ for every $x$ in this open interval except possibly at $x=\\tfrac{1}{2}-\\delta$, $x=\\tfrac{1}{2}$, and $x=\\tfrac{1}{2}+\\delta$, where they agree; these are finitely many points, hence measure zero. Consequently,\n$$\n\\lambda\\big(E\\big)=\\lambda\\big((\\tfrac{1}{2}-\\delta,\\tfrac{1}{2}+\\delta)\\setminus\\{\\tfrac{1}{2}\\}\\big)=\\lambda\\big((\\tfrac{1}{2}-\\delta,\\tfrac{1}{2}+\\delta)\\big)=(\\tfrac{1}{2}+\\delta)-(\\tfrac{1}{2}-\\delta)=2\\delta.\n$$\nSubstituting $\\delta=\\tfrac{1}{30}$ yields\n$$\n\\lambda(E)=2\\cdot \\frac{1}{30}=\\frac{1}{15}.\n$$\nSingle points where $r_{1}\\neq g$ do not affect the measure, so the result stands.", "answer": "$$\\boxed{\\frac{1}{15}}$$", "id": "1430239"}, {"introduction": "Having seen how to handle a simple discontinuity, let's tackle a more profound case: a function that is discontinuous everywhere. The Dirichlet function provides a classic example where our geometric intuition might struggle. This practice [@problem_id:1430281] forces us to rely on the measure-theoretic nature of Lusin's theorem, showing how the approximation must align with the function's behavior on the \"larger\" set of irrationals and what this implies for its integral.", "problem": "Let $f: [0,1] \\to \\mathbb{R}$ be the Dirichlet function, defined as $f(x) = 1$ if $x$ is a rational number, and $f(x) = 0$ if $x$ is an irrational number. The Dirichlet function is a well-known example of a Lebesgue measurable function.\n\nA key result in measure theory is Lusin's theorem. It states that for any measurable function $h$ on a finite-measure space (like $[0,1]$ with Lebesgue measure) and for any given $\\delta  0$, there exists a continuous function $\\phi$ defined on the same space such that the Lebesgue measure of the set where $h$ and $\\phi$ differ is less than $\\delta$. That is, $m(\\{x : h(x) \\neq \\phi(x)\\})  \\delta$. Furthermore, if the original function $h$ is bounded, i.e., $|h(x)| \\le M$ for some constant $M$, then the approximating continuous function $\\phi$ can also be chosen to be bounded by the same constant, $|\\phi(x)| \\le M$.\n\nApply Lusin's theorem to the Dirichlet function $f$ on the interval $[0,1]$ with $\\delta = \\frac{1}{10}$. According to the theorem, there exists a continuous function $g: [0,1] \\to [0,1]$ such that the Lebesgue measure of the set $\\{x \\in [0,1] : f(x) \\neq g(x)\\}$ is less than $\\frac{1}{10}$.\n\nWhich of the following statements must be true for *any* such function $g$?\n\nA. $g(x) = 0$ for all $x \\in [0,1]$.\n\nB. $g(x) = f(x)$ for almost every $x \\in [0,1]$.\n\nC. The integral $\\int_0^1 g(x) dx$ can take any value in the interval $[0, 1)$.\n\nD. $\\int_0^1 g(x) dx \\ge \\frac{1}{10}$.\n\nE. $\\int_0^1 g(x) dx  \\frac{1}{10}$.", "solution": "Let $f:[0,1]\\to\\mathbb{R}$ be the Dirichlet function with $f(x)=1$ for $x\\in\\mathbb{Q}\\cap[0,1]$ and $f(x)=0$ for $x\\in[0,1]\\setminus\\mathbb{Q}$. By Lusinâ€™s theorem with $\\delta=\\frac{1}{10}$ and boundedness $|f|\\leq 1$, for any continuous $g:[0,1]\\to[0,1]$ satisfying $m(\\{x\\in[0,1]:g(x)\\neq f(x)\\})\\frac{1}{10}$, define the mismatch set\n$$\nF=\\{x\\in[0,1]:g(x)\\neq f(x)\\},\n$$\nso $m(F)\\frac{1}{10}$. Let $E=[0,1]\\setminus F$, then $g(x)=f(x)$ for all $x\\in E$.\n\nSince the rationals in $[0,1]$ have Lebesgue measure $0$ and the irrationals have measure $1$, write $I=[0,1]\\setminus\\mathbb{Q}$. On $E\\cap I$, $f(x)=0$, hence $g(x)=0$. On $E\\cap\\mathbb{Q}$, $g(x)=1$, but $m(E\\cap\\mathbb{Q})=0$. Therefore $g=0$ almost everywhere on $E$, and hence\n$$\n\\int_{E} g(x)\\,dx=0.\n$$\nOn $F$, we have $0\\leq g\\leq 1$, so by monotonicity of the integral,\n$$\n\\int_{F} g(x)\\,dx\\leq \\int_{F} 1\\,dx=m(F)\\frac{1}{10}.\n$$\nThus\n$$\n\\int_{0}^{1} g(x)\\,dx=\\int_{E} g(x)\\,dx+\\int_{F} g(x)\\,dx=0+\\int_{F} g(x)\\,dx\\frac{1}{10}.\n$$\nThis shows that for any such $g$, the integral is strictly less than $\\frac{1}{10}$.\n\nNow evaluate each option:\n- A is not necessary, since one can choose continuous $g$ that is positive on a small interval of length less than $\\frac{1}{10}$ and zero elsewhere, which is not identically zero and still satisfies $m(F)\\frac{1}{10}$.\n- B is not necessary, since in the previous construction $m(F)0$, so $g\\neq f$ on a set of positive measure and hence not equal almost everywhere.\n- C is false because we proved $0\\leq\\int_{0}^{1}g\\frac{1}{10}$, so values near $1$ are impossible.\n- D is false because the integral is strictly less than $\\frac{1}{10}$.\n- E follows directly from the integral estimate above and must be true for any such $g$.\n\nTherefore, the only statement that must be true for any such $g$ is E.", "answer": "$$\\boxed{E}$$", "id": "1430281"}, {"introduction": "Our final practice moves from calculation to conceptual deduction, exploring the deep interplay between continuity and the structure of the exceptional set. Using Thomae's function, which is discontinuous only on the rationals, we can investigate necessary properties of any valid Lusin approximation. This problem [@problem_id:1430243] will challenge you to use proof techniques to reveal a non-obvious fact about where the approximation must differ from the original function, at least in a limiting sense.", "problem": "Consider a function $f:[0,1] \\to \\mathbb{R}$ known as Thomae's function, defined as follows:\n$$\nf(x) = \\begin{cases}\n\\frac{1}{q}  \\text{if } x = \\frac{p}{q} \\text{ is a rational number in } (0,1] \\text{ expressed in lowest terms with } q  0 \\\\\n0  \\text{if } x \\text{ is an irrational number in } [0,1] \\text{ or if } x=0\n\\end{cases}\n$$\nA key property of such measurable functions is that they can be approximated by continuous functions. Specifically, for any real number $\\delta  0$, it is guaranteed that there exists a continuous function $g:[0,1] \\to \\mathbb{R}$ and a corresponding \"exceptional set\" $E \\subset [0,1]$ such that the Lebesgue measure of $E$ is less than $\\delta$, and $f(x) = g(x)$ for all $x$ in the complement, $[0,1] \\setminus E$.\n\nLet $\\mathbb{Q}$ be the set of rational numbers. Given the property described above, which one of the following statements about the exceptional set $E$ is necessarily true for any valid choice of the continuous function $g$ and its corresponding exceptional set $E$?\n\nA. The set $E$ must be an open set.\n\nB. The set $E$ must contain every rational number in the interval $(0,1]$.\n\nC. The closure of the set $E$ must contain every rational number in the interval $(0,1]$.\n\nD. The set $E$ must be a countable set.\n\nE. The set $E$ can be chosen to be the empty set, provided $\\delta$ is large enough.", "solution": "We recall the setup: $f$ is Thomae's function on $[0,1]$, measurable and finite everywhere, and Lusin's theorem guarantees that for any $\\delta0$ there exist a continuous $g:[0,1]\\to\\mathbb{R}$ and a measurable set $E\\subset[0,1]$ with Lebesgue measure $m(E)\\delta$ such that $f(x)=g(x)$ for all $x\\in[0,1]\\setminus E$.\n\nWe analyze which statements about $E$ must hold for any such valid pair $(g,E)$.\n\nFirst, we establish a necessary condition involving closure. Fix any rational $r\\in(0,1]$, say $r=\\frac{p}{q}$ in lowest terms with $q0$. Suppose, for contradiction, that $r\\notin\\overline{E}$, the closure of $E$ in $[0,1]$. Then there exists $\\varepsilon0$ such that\n$$\n\\big((r-\\varepsilon,r+\\varepsilon)\\cap[0,1]\\big)\\cap E=\\emptyset.\n$$\nThus $f=g$ on the whole interval $(r-\\varepsilon,r+\\varepsilon)\\cap[0,1]$. Since irrationals are dense, choose a sequence $(x_{n})$ of irrational numbers with $x_{n}\\to r$ and $x_{n}\\in(r-\\varepsilon,r+\\varepsilon)\\cap[0,1]$ for all $n$. For each $n$, $x_{n}\\notin E$, hence $g(x_{n})=f(x_{n})=0$. Therefore,\n$$\n\\lim_{n\\to\\infty}g(x_{n})=0.\n$$\nBut $r\\notin E$, so $g(r)=f(r)=\\frac{1}{q}0$. This contradicts the continuity of $g$ at $r$, which requires $\\lim_{x\\to r}g(x)=g(r)$. Hence our assumption was false, and we conclude that\n$$\nr\\in\\overline{E}\\quad\\text{for every }r\\in(0,1]\\cap\\mathbb{Q}.\n$$\nTherefore, the closure of $E$ must contain every rational in $(0,1]$. This proves that statement C is necessarily true.\n\nWe now show the other options are not necessary.\n\nA. $E$ must be open. This is not necessary. Given any valid pair $(g,E)$, if we choose any measurable set $S\\subset[0,1]\\setminus E$ with $m(S)=0$ (for instance, a Cantor-type set), then $g=f$ on $S$ as well, and the pair $(g,E\\cup S)$ is still valid with $m(E\\cup S)=m(E)\\delta$. The new exceptional set $E\\cup S$ need not be open. Hence openness is not necessary.\n\nB. $E$ must contain every rational in $(0,1]$. This is not necessary. The argument above shows only that every rational must lie in $\\overline{E}$. It is consistent with continuity of $g$ that a rational $r$ be excluded from $E$ provided $E$ contains a punctured neighborhood around $r$, i.e., there exists $\\varepsilon0$ with $\\big((r-\\varepsilon,r+\\varepsilon)\\setminus\\{r\\}\\big)\\cap[0,1]\\subset E$. Such patterns occur in constructions where $f$ is continuous on a large closed set that contains isolated rational points. Thus $E$ need not contain all rationals.\n\nD. $E$ must be countable. This is not necessary. In standard constructions, $E$ can be taken open with small measure, hence uncountable. More generally, there is no requirement that $E$ be countable; only $m(E)\\delta$ is required.\n\nE. $E$ can be chosen empty for large $\\delta$. This is impossible. If $E=\\emptyset$, then $g=f$ on all of $[0,1]$, which would force $g$ to be discontinuous (since $f$ is discontinuous at every rational in $(0,1]$), contradicting the requirement that $g$ be continuous. Hence $E\\neq\\emptyset$ for every $\\delta0$.\n\nCombining these, only statement C is necessarily true for any valid choice of $g$ and its exceptional set $E$.", "answer": "$$\\boxed{C}$$", "id": "1430243"}]}