{"hands_on_practices": [{"introduction": "To begin our hands-on exploration, we will analyze a function whose definition is based on the distinction between dyadic rationals and other numbers. This type of function, which partitions the domain into two dense, interlocking sets, provides a classic illustration of why the Riemann integral can fail. By calculating the upper and lower Darboux integrals directly, you will see firsthand how the function's wild oscillations on every subinterval prevent the upper and lower sums from ever converging to the same value [@problem_id:1429259].", "problem": "In real analysis, the Riemann integral is defined via upper and lower sums. Its limitations become apparent when dealing with highly discontinuous functions. Consider one such function, $f: [0, 1] \\to \\mathbb{R}$, constructed based on the set of dyadic rationals.\n\nA number $x$ is defined as a **dyadic rational** if it can be expressed in the form $\\frac{k}{2^n}$ for some integer $k$ and non-negative integer $n$.\n\nThe function $f(x)$ is defined over the interval $[0, 1]$ as follows:\n$$\nf(x) = \\begin{cases} \n1  \\text{if } x \\text{ is a dyadic rational} \\\\\n0  \\text{if } x \\text{ is not a dyadic rational} \n\\end{cases}\n$$\n\nLet $L = \\underline{\\int_0^1} f(x) \\, dx$ denote the lower Riemann integral and $U = \\overline{\\int_0^1} f(x) \\, dx$ denote the upper Riemann integral of $f$ over the interval $[0,1]$.\n\nCalculate the values of the lower and upper Riemann integrals. Present your answer as a row matrix `(L U)`.", "solution": "Define the set of dyadic rationals by $D=\\{x\\in[0,1]: x=\\frac{k}{2^{n}}\\text{ for some integers }k,n\\text{ with }n\\geq 0\\}$. The function is $f(x)=1$ if $x\\in D$ and $f(x)=0$ if $x\\notin D$.\n\nFirst, show $D$ is dense in $[0,1]$. Let $(a,b)\\subset[0,1]$ with $ab$. Choose $n\\in\\mathbb{N}$ such that $(b-a)2^{n}1$. By the Archimedean property, there exists an integer $k$ with $a2^{n}kb2^{n}$. Dividing by $2^{n}$ gives $a\\frac{k}{2^{n}}b$, hence $(a,b)\\cap D\\neq\\varnothing$.\n\nNext, show $[0,1]\\setminus D$ meets every nondegenerate interval. Since $D$ is countable and every interval in $[0,1]$ is uncountable, for any $(a,b)\\subset[0,1]$ with $ab$ there exists $x\\in(a,b)$ with $x\\notin D$. Thus $(a,b)\\cap([0,1]\\setminus D)\\neq\\varnothing$.\n\nConsider any partition $P:\\ 0=x_{0}x_{1}\\cdotsx_{n}=1$. For each subinterval $[x_{i-1},x_{i}]$ of positive length, by the density of $D$ we have a point where $f=1$, so\n$$\n\\sup\\{f(x):x\\in[x_{i-1},x_{i}]\\}=1.\n$$\nBy the fact that $[0,1]\\setminus D$ meets every interval, there is also a point where $f=0$, so\n$$\n\\inf\\{f(x):x\\in[x_{i-1},x_{i}]\\}=0.\n$$\nTherefore, the lower Darboux sum for $P$ is\n$$\nL(P,f)=\\sum_{i=1}^{n}\\left(\\inf_{x\\in[x_{i-1},x_{i}]}f(x)\\right)(x_{i}-x_{i-1})=\\sum_{i=1}^{n}0\\cdot(x_{i}-x_{i-1})=0,\n$$\nand the upper Darboux sum is\n$$\nU(P, f)=\\sum_{i=1}^{n}\\left(\\sup_{x\\in[x_{i-1},x_{i}]}f(x)\\right)(x_{i}-x_{i-1})=\\sum_{i=1}^{n}1\\cdot(x_{i}-x_{i-1})=\\sum_{i=1}^{n}(x_{i}-x_{i-1})=1.\n$$\nThe lower Riemann integral is the supremum of all lower sums over all partitions, hence\n$$\nL=\\underline{\\int_{0}^{1}}f(x)\\,dx=\\sup_{P}L(P,f)=0.\n$$\nThe upper Riemann integral is the infimum of all upper sums over all partitions, hence\n$$\nU=\\overline{\\int_{0}^{1}}f(x)\\,dx=\\inf_{P}U(P,f)=1.\n$$\nThus the requested row matrix is $\\begin{pmatrix}0  1\\end{pmatrix}$.", "answer": "$$\\boxed{\\begin{pmatrix} 0  1 \\end{pmatrix}}$$", "id": "1429259"}, {"introduction": "This next exercise presents a more subtle challenge, built upon a variation of the well-known Thomae's function. By assigning a constant, non-zero value to the irrational numbers, we drastically alter the function's integrability, even though the values on the rational numbers still diminish. This problem [@problem_id:1429261] forces a careful consideration of how the supremum and infimum behave on any given interval and reveals that the behavior on the 'larger' set of irrationals can dominate the outcome.", "problem": "In the study of signal processing, some theoretical models exhibit pathological behavior. Consider one such model for a signal $f(t)$ defined on the time interval $t \\in [0, 1]$. The signal's value depends on whether the time instant $t$ is a rational or irrational number.\n\nThe function $f: [0, 1] \\to \\mathbb{R}$ is defined as follows:\n$$\nf(t) = \\begin{cases}\n\\frac{1}{3}  \\text{if } t \\text{ is an irrational number} \\\\\n\\frac{1}{q}  \\text{if } t = \\frac{p}{q} \\text{ is a rational number in lowest terms, with } p, q \\text{ integers and } q  0\n\\end{cases}\n$$\nFor example, $f(\\sqrt{2}/2) = 1/3$, $f(3/4) = 1/4$, and $f(0) = f(0/1) = 1$.\n\nYour task is to determine the value of the lower Riemann integral and the upper Riemann integral of this function $f$ over the interval $[0, 1]$. Present your answer as a single row matrix of the form $\\begin{pmatrix} L  U \\end{pmatrix}$, where $L$ is the value of the lower Riemann integral and $U$ is the value of the upper Riemann integral.", "solution": "We analyze the lower and upper Riemann integrals via Darboux sums. For a partition $P=\\{x_{0},x_{1},\\dots,x_{n}\\}$ of $[0,1]$ with $x_{0}=0x_{1}\\dotsx_{n}=1$, define for each subinterval $I_{i}=[x_{i-1},x_{i}]$ the lower and upper Darboux sums by\n$$\nL(f,P)=\\sum_{i=1}^{n} m_{i}\\,(x_{i}-x_{i-1}),\\quad m_{i}=\\inf_{x\\in I_{i}} f(x),\n$$\n$$\nU(f,P)=\\sum_{i=1}^{n} M_{i}\\,(x_{i}-x_{i-1}),\\quad M_{i}=\\sup_{x\\in I_{i}} f(x).\n$$\nThe lower Riemann integral is $L=\\sup_{P}L(f,P)$ and the upper Riemann integral is $U=\\inf_{P}U(f,P)$.\n\nFirst, to find the lower integral, we determine $m_i$ for any subinterval $I_i$. In any non-degenerate interval, there exist irrational numbers, for which $f(x)=1/3$. There also exist rational numbers. For any integer $N>0$, it is possible to find a rational number $x=p/q$ (in lowest terms) within $I_i$ such that its denominator $q > N$. For such a number, $f(x) = 1/q  1/N$. Since we can make $1/N$ arbitrarily small by choosing a large enough $N$, this means we can find values of $f$ in $I_i$ that are arbitrarily close to 0. Therefore, the infimum of $f$ over any subinterval must be $m_i = 0$. Consequently, for any partition $P$, the lower sum is $L(f,P)=0$. Taking the supremum over all partitions yields\n$$\nL=\\sup_{P}L(f,P)=0.\n$$\n\nNext, we bound the upper Riemann integral. Observe that for any interval $I\\subset[0,1]$, since irrationals are dense and $f(x)=\\frac{1}{3}$ for all irrational $x$, we have $M_{i}\\geq\\frac{1}{3}$ for every subinterval $I_{i}$, hence for any partition $P$,\n$$\nU(f,P)=\\sum_{i=1}^{n} M_{i}\\,(x_{i}-x_{i-1})\\geq \\frac{1}{3}\\sum_{i=1}^{n}(x_{i}-x_{i-1})=\\frac{1}{3}.\n$$\nThus $U\\geq \\frac{1}{3}$.\n\nTo show $U\\leq \\frac{1}{3}$, fix $\\varepsilon0$ and choose $\\delta0$ small enough so that $\\frac{5}{3}\\delta\\varepsilon$ and $0\\delta\\frac{1}{4}$. Consider the partition that includes the points $0,\\delta,\\frac{1}{2}-\\delta,\\frac{1}{2}+\\delta,1-\\delta,1$ (and optionally further subdivides the complementary pieces). Denote the five consecutive subintervals by\n$$\nI_{1}=[0,\\delta],\\quad I_{2}=[\\delta,\\tfrac{1}{2}-\\delta],\\quad I_{3}=[\\tfrac{1}{2}-\\delta,\\tfrac{1}{2}+\\delta],\\quad I_{4}=[\\tfrac{1}{2}+\\delta,1-\\delta],\\quad I_{5}=[1-\\delta,1].\n$$\nOn $I_{1}$ and $I_{5}$, each contains a point with $q=1$ (namely $0$ and $1$), so $M_{1}=M_{5}=1$. On $I_{3}$, the point $\\tfrac{1}{2}$ gives $q=2$, so $M_{3}=\\frac{1}{2}$. On $I_{2}$ and $I_{4}$, there are no points with $q=1$ or $q=2$, so all rational values satisfy $f(x)\\leq \\frac{1}{3}$, while irrationals give $f(x)=\\frac{1}{3}$; hence $M_{2}=M_{4}=\\frac{1}{3}$. Therefore, for this partition,\n$$\nU(f,P)\\leq 1\\cdot|I_{1}|+\\frac{1}{3}\\cdot|I_{2}|+\\frac{1}{2}\\cdot|I_{3}|+\\frac{1}{3}\\cdot|I_{4}|+1\\cdot|I_{5}|.\n$$\nUsing $|I_{1}|=\\delta$, $|I_{2}|=\\frac{1}{2}-2\\delta$, $|I_{3}|=2\\delta$, $|I_{4}|=\\frac{1}{2}-2\\delta$, $|I_{5}|=\\delta$, we compute\n$$\nU(f,P)\\leq \\delta+\\frac{1}{3}\\Big(\\frac{1}{2}-2\\delta\\Big)+\\frac{1}{2}(2\\delta)+\\frac{1}{3}\\Big(\\frac{1}{2}-2\\delta\\Big)+\\delta\n= \\frac{1}{3}+\\frac{5}{3}\\delta.\n$$\nBy the choice of $\\delta$, this is less than $\\frac{1}{3}+\\varepsilon$. Since $\\varepsilon0$ was arbitrary, it follows that $U\\leq \\frac{1}{3}$. Combined with $U\\geq \\frac{1}{3}$, we conclude\n$$\nU=\\frac{1}{3}.\n$$\n\nTherefore, the lower and upper Riemann integrals are $L=0$ and $U=\\frac{1}{3}$, respectively.", "answer": "$$\\boxed{\\begin{pmatrix} 0  \\frac{1}{3} \\end{pmatrix}}$$", "id": "1429261"}, {"introduction": "After examining functions that are not Riemann integrable, this final practice offers a surprising and important counterexample. Here we have a function that is discontinuous at every rational point in the interval, yet it remains perfectly Riemann integrable [@problem_id:1308067]. This exercise demonstrates that the mere presence of discontinuities on a dense set is not sufficient to prevent integrability; rather, the specific values the function takes at these discontinuities are crucial. By working through this problem, you will gain a deeper appreciation for the precise conditions under which the Riemann integral succeeds.", "problem": "Let a function $H(x)$ be defined on the interval $[0, 1]$. This function is the sum of a continuous function and a second function which is discontinuous at all rational points except $x=0$.\nThe function is defined as $H(x) = \\cos(\\frac{\\pi x}{2}) + R(x)$, where $R(x)$ is the 'rational height function' defined as follows:\n$$\nR(x) = \\begin{cases}\n1/q,  \\text{if } x = p/q \\text{ is a rational number in } (0, 1] \\text{ expressed in lowest terms with } p,q \\in \\mathbb{Z}^+ \\\\\n0,  \\text{if } x=0 \\text{ or } x \\text{ is an irrational number in } [0, 1]\n\\end{cases}\n$$\nCalculate the value of the Riemann integral $\\int_0^1 H(x) dx$. Your final answer should be a single closed-form analytic expression.", "solution": "We use linearity of the Riemann integral to split the integral into two parts:\n$$\n\\int_{0}^{1} H(x)\\,dx \\;=\\; \\int_{0}^{1} \\cos\\!\\left(\\frac{\\pi x}{2}\\right)\\,dx \\;+\\; \\int_{0}^{1} R(x)\\,dx.\n$$\nFirst, compute the continuous part using the fundamental theorem of calculus and the antiderivative rule $\\int \\cos(ax)\\,dx = \\frac{1}{a}\\sin(ax)$:\n$$\n\\int_{0}^{1} \\cos\\!\\left(\\frac{\\pi x}{2}\\right)\\,dx\n= \\left.\\frac{2}{\\pi}\\,\\sin\\!\\left(\\frac{\\pi x}{2}\\right)\\right|_{0}^{1}\n= \\frac{2}{\\pi}\\left(\\sin\\!\\left(\\frac{\\pi}{2}\\right) - \\sin(0)\\right)\n= \\frac{2}{\\pi}.\n$$\nNext, evaluate $\\int_{0}^{1} R(x)\\,dx$ for the rational height function (Thomaeâ€™s function). The function $R$ is bounded with $0 \\leq R(x) \\leq 1$. Every subinterval of $[0,1]$ contains an irrational number where $R$ is $0$, so the infimum of $R$ on any subinterval is $0$. Hence all lower sums are $0$, implying the lower Riemann integral is $0$.\n\nTo show the upper Riemann integral is $0$, fix $\\varepsilon0$. Choose $N\\in\\mathbb{N}$ such that $\\frac{1}{N}\\frac{\\varepsilon}{2}$. Let $S_{N}$ be the finite set of rationals in $[0,1]$ with reduced denominator at most $N$. Construct a partition that isolates each point of $S_{N}$ in its own subinterval, and choose those subintervals so that the sum of their lengths is less than $\\frac{\\varepsilon}{2}$. On the remaining subintervals, any rational has reduced denominator greater than $N$, hence $R(x)\\leq \\frac{1}{N}$ there, and the supremum of $R$ on each such subinterval is at most $\\frac{1}{N}$. Therefore, the contribution of these remaining subintervals to the upper sum is at most $\\frac{1}{N}\\cdot 1\\frac{\\varepsilon}{2}$. The isolated subintervals contribute at most their total length times the bound $1$, which is less than $\\frac{\\varepsilon}{2}$. Thus the upper sum is less than $\\varepsilon$, and since $\\varepsilon0$ is arbitrary, the upper Riemann integral is $0$. Therefore,\n$$\n\\int_{0}^{1} R(x)\\,dx = 0.\n$$\nCombining both parts gives\n$$\n\\int_{0}^{1} H(x)\\,dx \\;=\\; \\frac{2}{\\pi} + 0 \\;=\\; \\frac{2}{\\pi}.\n$$", "answer": "$$\\boxed{\\frac{2}{\\pi}}$$", "id": "1308067"}]}