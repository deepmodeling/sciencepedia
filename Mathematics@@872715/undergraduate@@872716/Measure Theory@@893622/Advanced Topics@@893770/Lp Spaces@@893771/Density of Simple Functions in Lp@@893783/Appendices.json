{"hands_on_practices": [{"introduction": "This first exercise provides a concrete starting point for understanding approximation by simple functions. Instead of just showing that an approximation exists, you will calculate the *best possible* approximation in the $L^1$ norm for a given partition. This problem [@problem_id:1414848] will connect the abstract concept of $L^1$ distance to a concrete optimization task, revealing that the optimal choice for the constant on each piece is the median of the function over that interval.", "problem": "Consider the function $f(x) = \\sin(\\pi x)$ on the interval $[0, 1]$, which is equipped with the standard Lebesgue measure. The interval is partitioned into four subintervals of equal length: $I_1 = [0, 1/4]$, $I_2 = (1/4, 1/2]$, $I_3 = (1/2, 3/4]$, and $I_4 = (3/4, 1]$.\n\nWe are interested in approximating $f(x)$ with a simple function $\\phi(x)$ of the form\n$$ \\phi(x) = \\sum_{k=1}^{4} c_k \\chi_{I_k}(x) $$\nwhere each $c_k$ is a real constant and $\\chi_{I_k}(x)$ is the characteristic function for the interval $I_k$.\n\nThe quality of the approximation is measured by the $L^1$ norm of the difference, defined as $\\| g \\|_{L^1([0,1])} = \\int_0^1 |g(x)| dx$. The best approximation is the function $\\phi(x)$ that minimizes this error, i.e., it minimizes $\\|f - \\phi\\|_{L^1([0,1])}$.\n\nDetermine the unique ordered quadruple of real constants $(c_1, c_2, c_3, c_4)$ that defines this best simple function approximation. Provide your answer as an ordered quadruple of exact analytic expressions.", "solution": "We minimize the error in the form\n$$\\|f-\\phi\\|_{L^{1}([0,1])}=\\sum_{k=1}^{4}\\int_{I_{k}}|f(x)-c_{k}|\\,dx,$$\nso the optimal constants are obtained independently by minimizing, for each interval $I_{k}$,\n$$F_{k}(c)=\\int_{I_{k}}|f(x)-c|\\,dx.$$\nFor any integrable function on a set with Lebesgue measure, $F_{k}(c)$ is convex in $c$ and satisfies, for every $c$ not equal to $f(x)$ on a set of positive measure,\n$$\\frac{d}{dc}F_{k}(c)=\\int_{I_{k}}\\operatorname{sgn}(c-f(x))\\,dx=m\\{x\\in I_{k}:f(x)c\\}-m\\{x\\in I_{k}:f(x)c\\},$$\nwhere $m$ denotes Lebesgue measure. Hence any minimizer $c$ satisfies\n$$m\\{x\\in I_{k}:f(x)\\le c\\}\\ge \\tfrac{1}{2}m(I_{k})\\quad\\text{and}\\quad m\\{x\\in I_{k}:f(x)\\ge c\\}\\ge \\tfrac{1}{2}m(I_{k}),$$\nthat is, $c$ is a median of $f$ on $I_{k}$. If $f$ is strictly monotone and continuous on $I_{k}=[a,b]$, this median is unique and equals $f$ evaluated at the midpoint, because the set where $f(x)\\le c$ (or $\\ge c$) occupies exactly half the interval only when $x=(a+b)/2$.\n\nFor $f(x)=\\sin(\\pi x)$ on $[0,1]$, $f$ is strictly increasing on $[0,\\tfrac{1}{2}]$ and strictly decreasing on $[\\tfrac{1}{2},1]$. On each $I_{k}$, $f$ is strictly monotone and continuous. Therefore, the unique minimizer on $I_{k}$ is\n$$c_{k}=f\\!\\left(\\frac{a_{k}+b_{k}}{2}\\right),$$\nwhere $I_{k}=[a_{k},b_{k}]$ (the open/closed endpoints are irrelevant to the integral). The midpoints are\n$$\\frac{0+\\tfrac{1}{4}}{2}=\\frac{1}{8},\\quad \\frac{\\tfrac{1}{4}+\\tfrac{1}{2}}{2}=\\frac{3}{8},\\quad \\frac{\\tfrac{1}{2}+\\tfrac{3}{4}}{2}=\\frac{5}{8},\\quad \\frac{\\tfrac{3}{4}+1}{2}=\\frac{7}{8}.$$\nThus\n$$c_{1}=\\sin\\!\\left(\\frac{\\pi}{8}\\right),\\quad c_{2}=\\sin\\!\\left(\\frac{3\\pi}{8}\\right),\\quad c_{3}=\\sin\\!\\left(\\frac{5\\pi}{8}\\right),\\quad c_{4}=\\sin\\!\\left(\\frac{7\\pi}{8}\\right).$$\nUsing $\\sin(\\pi-\\theta)=\\sin(\\theta)$ gives $c_{3}=\\sin\\!\\left(\\frac{3\\pi}{8}\\right)$ and $c_{4}=\\sin\\!\\left(\\frac{\\pi}{8}\\right)$. Employing half-angle identities,\n$$\\sin\\!\\left(\\frac{\\pi}{8}\\right)=\\frac{\\sqrt{2-\\sqrt{2}}}{2},\\qquad \\sin\\!\\left(\\frac{3\\pi}{8}\\right)=\\cos\\!\\left(\\frac{\\pi}{8}\\right)=\\frac{\\sqrt{2+\\sqrt{2}}}{2}.$$\nTherefore, the unique ordered quadruple is\n$$\\left(\\frac{\\sqrt{2-\\sqrt{2}}}{2},\\ \\frac{\\sqrt{2+\\sqrt{2}}}{2},\\ \\frac{\\sqrt{2+\\sqrt{2}}}{2},\\ \\frac{\\sqrt{2-\\sqrt{2}}}{2}\\right).$$\nUniqueness follows from the strict monotonicity of $f$ on each subinterval, which yields a unique median and hence a unique minimizer for each $c_{k}$.", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{\\sqrt{2-\\sqrt{2}}}{2}  \\frac{\\sqrt{2+\\sqrt{2}}}{2}  \\frac{\\sqrt{2+\\sqrt{2}}}{2}  \\frac{\\sqrt{2-\\sqrt{2}}}{2}\\end{pmatrix}}$$", "id": "1414848"}, {"introduction": "The proof that simple functions are dense in $L^p$ spaces typically relies on a specific construction method that partitions the function's *range*. However, a more intuitive approach, reminiscent of Riemann sums, is to partition the function's *domain*. This exercise [@problem_id:1414869] asks you to implement both of these methods for the function $f(x) = \\exp(x)$ and compare their effectiveness, providing valuable insight into why certain theoretical constructions are preferred over others.", "problem": "In measure theory, a key result is that any function in an $L^p$ space can be approximated by a sequence of simple functions. This problem explores the quantitative performance of two standard methods for constructing such simple function approximations for the function $f(x) = e^x$ on the interval $[0,1]$. The approximation error is measured using the $L^1$ norm, defined for a real-valued function $g$ on $[a,b]$ as $\\|g\\|_{L^1} = \\int_a^b |g(x)|dx$.\n\nLet $f(x) = e^x$ for $x \\in [0,1]$. We will construct two simple function approximations to $f$ using $n=2$ partitions.\n\n1.  **Domain Partitioning Simple Function, $s_2(x)$**: The domain $[0,1]$ is partitioned into two equal subintervals: $I_0 = [0, 1/2)$ and $I_1 = [1/2, 1]$. The simple function $s_2(x)$ is defined to be constant on each subinterval, taking the value of $f(x)$ at the left endpoint of that subinterval. That is, $s_2(x) = f(0)$ for $x \\in I_0$ and $s_2(x) = f(1/2)$ for $x \\in I_1$.\n\n2.  **Range Partitioning Simple Function, $\\phi_2(x)$**: The range of $f$ on $[0,1]$ is $[1, e]$. This range is partitioned into two equal subintervals. Let the partition points be $y_0 = 1$, $y_1 = 1 + (e-1)/2$, and $y_2=e$. This divides the domain $[0,1]$ into two sets based on the function's values: $E_0 = \\{x \\in [0,1] \\mid y_0 \\leq f(x)  y_1\\}$ and $E_1 = \\{x \\in [0,1] \\mid y_1 \\leq f(x) \\leq y_2\\}$. The simple function $\\phi_2(x)$ is defined as $\\phi_2(x) = y_0$ for $x \\in E_0$ and $\\phi_2(x) = y_1$ for $x \\in E_1$.\n\nLet $E_D = \\|f - s_2\\|_{L^1}$ be the approximation error for the domain partitioning method and $E_R = \\|f - \\phi_2\\|_{L^1}$ be the approximation error for the range partitioning method.\n\nCalculate the ratio $\\frac{E_D}{E_R}$. Your answer should be a single closed-form analytic expression.", "solution": "Let $f(x)=\\exp(x)$ on $[0,1]$. For the domain-partition simple function $s_{2}$, we have $s_{2}(x)=1$ on $[0,\\frac{1}{2})$ and $s_{2}(x)=\\exp\\!\\left(\\frac{1}{2}\\right)$ on $[\\frac{1}{2},1]$. Since $\\exp(x)$ is increasing on $[0,1]$, we can drop absolute values. Thus\n$$\nE_{D}=\\int_{0}^{\\frac{1}{2}}\\big(\\exp(x)-1\\big)\\,dx+\\int_{\\frac{1}{2}}^{1}\\big(\\exp(x)-\\exp\\!\\left(\\tfrac{1}{2}\\right)\\big)\\,dx.\n$$\nCompute each term:\n$$\n\\int_{0}^{\\frac{1}{2}}\\big(\\exp(x)-1\\big)\\,dx=\\big[\\exp(x)-x\\big]_{0}^{\\frac{1}{2}}=\\exp\\!\\left(\\tfrac{1}{2}\\right)-1-\\tfrac{1}{2}=\\exp\\!\\left(\\tfrac{1}{2}\\right)-\\tfrac{3}{2},\n$$\n$$\n\\int_{\\frac{1}{2}}^{1}\\big(\\exp(x)-\\exp\\!\\left(\\tfrac{1}{2}\\right)\\big)\\,dx=\\big[\\exp(x)\\big]_{\\frac{1}{2}}^{1}-\\exp\\!\\left(\\tfrac{1}{2}\\right)\\big(1-\\tfrac{1}{2}\\big)=\\exp(1)-\\tfrac{3}{2}\\exp\\!\\left(\\tfrac{1}{2}\\right).\n$$\nTherefore\n$$\nE_{D}=\\exp(1)-\\tfrac{1}{2}\\exp\\!\\left(\\tfrac{1}{2}\\right)-\\tfrac{3}{2}.\n$$\n\nFor the range-partition simple function $\\phi_{2}$, the range $[1,\\exp(1)]$ is split at $y_{1}=1+\\tfrac{\\exp(1)-1}{2}=\\tfrac{1+\\exp(1)}{2}$. Let $a=\\ln(y_{1})=\\ln\\!\\left(\\tfrac{1+\\exp(1)}{2}\\right)$. Then $\\phi_{2}(x)=1$ on $[0,a)$ and $\\phi_{2}(x)=y_{1}$ on $[a,1]$. Since $\\exp$ is increasing, the absolute values drop, and\n$$\nE_{R}=\\int_{0}^{a}\\big(\\exp(x)-1\\big)\\,dx+\\int_{a}^{1}\\big(\\exp(x)-y_{1}\\big)\\,dx.\n$$\nCompute:\n$$\n\\int_{0}^{a}\\big(\\exp(x)-1\\big)\\,dx=\\big[\\exp(x)-x\\big]_{0}^{a}=(\\exp(a)-1)-a=(y_{1}-1)-a,\n$$\n$$\n\\int_{a}^{1}\\big(\\exp(x)-y_{1}\\big)\\,dx=\\big[\\exp(x)\\big]_{a}^{1}-y_{1}(1-a)=\\exp(1)-\\exp(a)-y_{1}(1-a)=\\exp(1)-2y_{1}+y_{1}a.\n$$\nHence\n$$\nE_{R}=(y_{1}-1)-a+\\exp(1)-2y_{1}+y_{1}a=\\exp(1)-1-y_{1}-a+y_{1}a.\n$$\nSubstituting $y_{1}=\\tfrac{1+\\exp(1)}{2}$ and $a=\\ln\\!\\left(\\tfrac{1+\\exp(1)}{2}\\right)$ gives\n$$\nE_{R}=\\frac{\\exp(1)-3}{2}+\\frac{\\exp(1)-1}{2}\\,\\ln\\!\\left(\\frac{1+\\exp(1)}{2}\\right).\n$$\n\nTherefore, the ratio is\n$$\n\\frac{E_{D}}{E_{R}}=\\frac{\\exp(1)-\\tfrac{1}{2}\\exp\\!\\left(\\tfrac{1}{2}\\right)-\\tfrac{3}{2}}{\\tfrac{1}{2}\\big[(\\exp(1)-3)+(\\exp(1)-1)\\ln\\!\\left(\\tfrac{1+\\exp(1)}{2}\\right)\\big]}=\\frac{2\\exp(1)-\\exp\\!\\left(\\tfrac{1}{2}\\right)-3}{(\\exp(1)-3)+(\\exp(1)-1)\\ln\\!\\left(\\tfrac{1+\\exp(1)}{2}\\right)}.\n$$", "answer": "$$\\boxed{\\frac{2\\exp(1)-\\exp\\!\\left(\\frac{1}{2}\\right)-3}{\\left(\\exp(1)-3\\right)+\\left(\\exp(1)-1\\right)\\ln\\!\\left(\\frac{1+\\exp(1)}{2}\\right)}}$$", "id": "1414869"}, {"introduction": "The convergence of simple functions to an $L^p$ function is a powerful result, but it is crucial to understand the exact nature of this convergence. This practice problem [@problem_id:1414901] presents a classic and illuminating example known as the \"sliding hump\" or \"typewriter\" sequence. By analyzing this sequence, you will discover that convergence in the $L^p$ norm (for $1 \\le p \\lt \\infty$) is a fundamentally different concept from pointwise convergence, a distinction that is critical for a deeper understanding of analysis.", "problem": "Let the interval $[0,1]$ be equipped with the standard Lebesgue measure. Consider a sequence of functions $(f_n)_{n=1}^\\infty$ defined as follows. For each integer $n \\geq 1$, there is a unique representation $n = 2^k + j$ where $k$ is a non-negative integer and $j$ is an integer such that $0 \\le j  2^k$. The function $f_n$ is defined as the indicator function of the closed interval $I_n = [j/2^k, (j+1)/2^k]$.\n\nWe define three sets based on the properties of this sequence:\n- $A = \\{ p \\in [1, \\infty] \\mid \\text{the sequence } (f_n) \\text{ converges to the zero function in the } L^p \\text{ norm} \\}$\n- $B = \\{ x \\in [0,1] \\mid \\text{the numerical sequence } (f_n(x))_{n=1}^\\infty \\text{ converges} \\}$\n- $C = \\{ x \\in [0,1] \\mid \\text{the series } \\sum_{n=1}^\\infty f_n(x) \\text{ converges to a finite value} \\}$\n\nWhich of the following correctly identifies these three sets? Let $\\mathcal{D}$ denote the set of dyadic rational numbers in $[0,1]$ (i.e., numbers of the form $m/2^q$ for integers $m, q$ with $q \\ge 0$).\n\nA) $A = [1, \\infty]$, $B = \\emptyset$, $C = \\emptyset$\n\nB) $A = [1, \\infty)$, $B = \\emptyset$, $C = \\emptyset$\n\nC) $A = [1, \\infty)$, $B = \\mathcal{D}$, $C = \\emptyset$\n\nD) $A = [1, \\infty]$, $B = \\emptyset$, $C = [0,1]$\n\nE) $A = [1, \\infty)$, $B = \\mathcal{D}$, $C = \\mathcal{D}$", "solution": "For each integer $n \\geq 1$, write $n = 2^{k} + j$ with $k \\in \\mathbb{N}_{0}$ and $0 \\leq j  2^{k}$. Then $f_{n} = \\mathbf{1}_{I_{n}}$ where $I_{n} = \\left[\\frac{j}{2^{k}}, \\frac{j+1}{2^{k}}\\right]$. The Lebesgue measure of $I_{n}$ is\n$$\n|I_{n}| = \\frac{1}{2^{k}}.\n$$\n\nSet $A$: convergence in $L^{p}$. For $1 \\leq p  \\infty$,\n$$\n\\|f_{n}\\|_{L^{p}} = \\left(\\int_{0}^{1} |f_{n}(x)|^{p} \\, dx\\right)^{1/p} = \\left(\\int_{I_{n}} 1 \\, dx\\right)^{1/p} = |I_{n}|^{1/p} = 2^{-k/p}.\n$$\nAs $n \\to \\infty$, we have $k = \\lfloor \\log_{2}(n) \\rfloor \\to \\infty$, hence $2^{-k/p} \\to 0$, so $f_{n} \\to 0$ in $L^{p}$ for all $1 \\leq p  \\infty$. For $p = \\infty$,\n$$\n\\|f_{n}\\|_{L^{\\infty}} = \\operatorname{ess\\,sup}_{x \\in [0,1]} |f_{n}(x)| = 1 \\quad \\text{for all } n,\n$$\nso no convergence to $0$ in $L^{\\infty}$. Therefore $A = [1,\\infty)$.\n\nSet $B$: pointwise convergence of $f_{n}(x)$. Fix $x \\in [0,1]$. For each $k \\in \\mathbb{N}_{0}$, the dyadic intervals $\\left[\\frac{j}{2^{k}}, \\frac{j+1}{2^{k}}\\right]$ cover $[0,1]$, so there exists at least one $j$ with $0 \\leq j  2^{k}$ such that $x \\in I_{n}$ for $n = 2^{k} + j$. Thus for each $k$ there exists some index $n$ in the block $\\{2^{k},\\dots,2^{k+1}-1\\}$ with $f_{n}(x) = 1$. Since the sequence $(f_{n}(x))$ takes values in $\\{0,1\\}$ and has at least one $1$ in every block for all $k$, it has infinitely many ones and hence cannot be eventually constant. Therefore $(f_{n}(x))$ does not converge for any $x$, and $B = \\emptyset$.\n\nSet $C$: convergence of the series $\\sum_{n=1}^{\\infty} f_{n}(x)$. For any fixed $x \\in [0,1]$ and any $K \\in \\mathbb{N}_{0}$, define $N_{K} = 2^{K+1} - 1$. As shown above, for each $k = 0,1,\\dots,K$ there exists an index $n \\in \\{2^{k},\\dots,2^{k+1}-1\\}$ with $f_{n}(x) = 1$. Hence the partial sums satisfy\n$$\n\\sum_{n=1}^{N_{K}} f_{n}(x) \\geq K+1.\n$$\nLetting $K \\to \\infty$ shows the partial sums are unbounded and the series diverges to $+\\infty$ for every $x$. Thus $C = \\emptyset$.\n\nCombining these, we have $A = [1,\\infty)$, $B = \\emptyset$, and $C = \\emptyset$, which corresponds to option B.", "answer": "$$\\boxed{B}$$", "id": "1414901"}]}