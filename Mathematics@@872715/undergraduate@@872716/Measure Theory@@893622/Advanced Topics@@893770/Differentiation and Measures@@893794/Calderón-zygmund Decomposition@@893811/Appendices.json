{"hands_on_practices": [{"introduction": "The foundation of the Calderón-Zygmund decomposition is a recursive algorithm that systematically identifies regions where a function is \"large\" on average. This first exercise [@problem_id:1406721] invites you to perform this selection procedure on a simple step function. By manually calculating averages and applying the stopping criterion, you will build an intuition for how the \"bad set\" $\\Omega$ is constructed.", "problem": "In measure theory, the Calderón-Zygmund decomposition is a fundamental tool for analyzing functions by splitting them into a \"good\" part and a \"bad\" part. This problem asks you to apply the core iterative step of this decomposition to a specific function.\n\nA dyadic interval in $[0,1]$ is an interval of the form $[k/2^n, (k+1)/2^n]$ where $n$ and $k$ are non-negative integers with $0 \\le k  2^n$. The iterative selection procedure for the decomposition is as follows:\n1. Start with the base interval $I_0 = [0,1]$.\n2. For any given dyadic interval $I$ that has not been selected, calculate its average value of the function $f$, which is given by $m_I(f) = \\frac{1}{|I|} \\int_I f(x) dx$, where $|I|$ is the length of the interval.\n3. If $m_I(f) > \\alpha$, the interval $I$ is added to a collection of selected intervals. This branch of the process terminates; the interval is not subdivided further.\n4. If $m_I(f) \\le \\alpha$, the interval $I$ is not selected. It is then subdivided into its two dyadic subintervals of the next generation (i.e., an interval $[a, b]$ is subdivided into $[a, (a+b)/2]$ and $[(a+b)/2, b]$). The procedure from step 2 is then applied to each of these two new subintervals.\n\nThis recursive process yields a collection of disjoint, maximal dyadic intervals $\\{I_j\\}$ such that the average of $f$ on each $I_j$ is strictly greater than $\\alpha$.\n\nConsider the function $f: [0, 1] \\to \\mathbb{R}$ defined by:\n$$\nf(x) = \\begin{cases} 10  \\text{if } x \\in [0, 1/8) \\cup [7/8, 1] \\\\ 1  \\text{if } x \\in [1/8, 7/8) \\end{cases}\n$$\nApply the selection procedure described above with the level $\\alpha = 5$. What is the resulting collection of selected dyadic intervals?\n\nA. $\\{[0, 1/8], [7/8, 1]\\}$\n\nB. $\\{[0, 1/4], [3/4, 1]\\}$\n\nC. $\\{[0, 1/2], [1/2, 1]\\}$\n\nD. $\\{[1/8, 7/8]\\}$\n\nE. $\\{[0, 1]\\}$", "solution": "We apply the stated selection rule using $m_{I}(f)=\\frac{1}{|I|}\\int_{I}f(x)\\,dx$ with $\\alpha=5$. Start with $I_{0}=[0,1]$:\n$$\n\\int_{0}^{1}f(x)\\,dx=\\int_{0}^{1/8}10\\,dx+\\int_{1/8}^{7/8}1\\,dx+\\int_{7/8}^{1}10\\,dx=10\\cdot\\frac{1}{8}+1\\cdot\\frac{6}{8}+10\\cdot\\frac{1}{8}=\\frac{26}{8}=\\frac{13}{4}.\n$$\nHence $m_{[0,1]}(f)=\\frac{1}{1}\\cdot\\frac{13}{4}=\\frac{13}{4}  5$, so $[0,1]$ is not selected and we subdivide into $[0,1/2]$ and $[1/2,1]$.\n\nFor $I=[0,1/2]$:\n$$\n\\int_{0}^{1/2}f(x)\\,dx=\\int_{0}^{1/8}10\\,dx+\\int_{1/8}^{1/2}1\\,dx=10\\cdot\\frac{1}{8}+1\\cdot\\frac{3}{8}=\\frac{13}{8},\n$$\nso $m_{[0,1/2]}(f)=\\frac{1}{1/2}\\cdot\\frac{13}{8}=\\frac{13}{4}  5$. Not selected; subdivide into $[0,1/4]$ and $[1/4,1/2]$.\n\nFor $I=[0,1/4]$:\n$$\n\\int_{0}^{1/4}f(x)\\,dx=\\int_{0}^{1/8}10\\,dx+\\int_{1/8}^{1/4}1\\,dx=10\\cdot\\frac{1}{8}+1\\cdot\\frac{1}{8}=\\frac{11}{8},\n$$\nso $m_{[0,1/4]}(f)=\\frac{1}{1/4}\\cdot\\frac{11}{8}=\\frac{11}{2} > 5$. Therefore $[0,1/4]$ is selected and this branch stops. For completeness, $[1/4,1/2]$ has\n$$\n\\int_{1/4}^{1/2}f(x)\\,dx=\\int_{1/4}^{1/2}1\\,dx=\\frac{1}{4},\\quad m_{[1/4,1/2]}(f)=\\frac{1}{1/4}\\cdot\\frac{1}{4}=1\\le 5,\n$$\nso it would never yield a selected subinterval with average exceeding $5$ under further subdivision.\n\nFor $I=[1/2,1]$:\n$$\n\\int_{1/2}^{1}f(x)\\,dx=\\int_{1/2}^{7/8}1\\,dx+\\int_{7/8}^{1}10\\,dx=1\\cdot\\frac{3}{8}+10\\cdot\\frac{1}{8}=\\frac{13}{8},\n$$\nso $m_{[1/2,1]}(f)=\\frac{1}{1/2}\\cdot\\frac{13}{8}=\\frac{13}{4}  5$. Not selected; subdivide into $[1/2,3/4]$ and $[3/4,1]$.\n\nFor $I=[3/4,1]$:\n$$\n\\int_{3/4}^{1}f(x)\\,dx=\\int_{3/4}^{7/8}1\\,dx+\\int_{7/8}^{1}10\\,dx=1\\cdot\\frac{1}{8}+10\\cdot\\frac{1}{8}=\\frac{11}{8},\n$$\nso $m_{[3/4,1]}(f)=\\frac{1}{1/4}\\cdot\\frac{11}{8}=\\frac{11}{2} > 5$, hence $[3/4,1]$ is selected. The sibling $[1/2,3/4]$ has average $1$ and is not selected, and further subdivisions there cannot exceed $\\alpha$ because $f\\equiv 1$ on that interval.\n\nTherefore, the resulting collection of disjoint, maximal dyadic intervals with $m_{I}(f)>\\alpha$ is $\\{[0,1/4], [3/4,1]\\}$, which corresponds to option B.", "answer": "$$\\boxed{B}$$", "id": "1406721"}, {"introduction": "Beyond the initial construction, understanding the structural properties of the Calderón-Zygmund decomposition is key to its application. This practice [@problem_id:1406728] investigates how the decomposition behaves under scaling. By determining the new decomposition for a function $h(x) = c f(x)$, you will uncover a fundamental linearity that governs the relationship between the function, its good and bad parts, and the decomposition level $\\alpha$.", "problem": "Let $f \\in L^1(\\mathbb{R}^n)$ be a non-negative integrable function. For any given level $\\alpha > 0$, the Calderón-Zygmund decomposition of $f$ expresses it as a sum $f = g + b$, where $g$ is a \"good\" function and $b$ is a \"bad\" function. This decomposition is constructed based on a collection of disjoint cubes $\\{Q_j\\}$ and has the following properties:\n\n1.  The \"good\" function is defined as $g(x) = f(x)$ for $x$ outside the union of the cubes, $\\Omega = \\bigcup_j Q_j$, and $g(x) = f_{Q_j}$ for $x \\in Q_j$, where $f_{Q_j} = \\frac{1}{|Q_j|} \\int_{Q_j} f(y) dy$ is the average of $f$ over the cube $Q_j$.\n2.  The cubes $\\{Q_j\\}$ are chosen such that for each $j$, the average of $f$ satisfies $\\alpha  f_{Q_j} \\le 2^n \\alpha$.\n3.  The \"bad\" function is given by $b(x) = \\sum_j b_j(x)$, where $b_j(x) = (f(x) - f_{Q_j}) \\chi_{Q_j}(x)$, with $\\chi_{Q_j}$ being the characteristic function of the cube $Q_j$. By construction, $b(x)=0$ for $x \\notin \\Omega$.\n4.  Each component $b_j$ of the bad function has a mean value of zero over its respective cube: $\\int_{Q_j} b_j(y) dy = 0$.\n\nNow, consider a new function $h(x) = c f(x)$ for some positive constant $c > 0$. We wish to find the Calderón-Zygmund decomposition for $h$, say $h = g' + b'$, at an appropriately chosen new level $\\alpha'$.\nGiven the decomposition $f=g+b$ at level $\\alpha$ with the associated cubes $\\{Q_j\\}$, determine the new level $\\alpha'$ (in terms of $\\alpha$ and $c$), the new good function $g'$ (in terms of $g$ and $c$), and the new bad function $b'$ (in terms of $b$ and $c$), such that $h = g' + b'$ forms a valid Calderón-Zygmund decomposition for $h$.\n\nYour result should be given as an ordered triplet $(\\alpha', g', b')$.", "solution": "We are given $f \\in L^{1}(\\mathbb{R}^{n})$, $f \\ge 0$, and its Calderón-Zygmund decomposition at level $\\alpha > 0$: $f = g + b$ associated to disjoint cubes $\\{Q_{j}\\}$, with\n1) $g(x) = f(x)$ for $x \\notin \\Omega := \\bigcup_{j} Q_{j}$, and $g(x) = f_{Q_{j}}$ for $x \\in Q_{j}$, where $f_{Q_{j}} := \\frac{1}{|Q_{j}|} \\int_{Q_{j}} f(y)\\,dy$,\n2) $\\alpha  f_{Q_{j}} \\le 2^{n} \\alpha$ for each $j$,\n3) $b(x) = \\sum_{j} b_{j}(x)$ with $b_{j}(x) = \\big(f(x) - f_{Q_{j}}\\big)\\chi_{Q_{j}}(x)$, hence $b=0$ on $\\mathbb{R}^{n}\\setminus \\Omega$,\n4) $\\int_{Q_{j}} b_{j}(y)\\,dy = 0$ for each $j$.\n\nLet $h(x) = c f(x)$ for a constant $c > 0$. We seek a Calderón-Zygmund decomposition $h = g' + b'$ at some level $\\alpha'$ with associated cubes. We claim that choosing the same cubes $\\{Q_{j}\\}$ and the new level\n$$\n\\alpha' := c \\alpha\n$$\ngives a valid decomposition, with $g' = c g$ and $b' = c b$. We verify all the defining properties.\n\nFirst, $h \\in L^{1}(\\mathbb{R}^{n})$ and $h \\ge 0$ since $c>0$ and $f \\in L^{1}(\\mathbb{R}^{n})$, $f \\ge 0$. For each cube $Q_{j}$, the average of $h$ over $Q_{j}$ is\n$$\nh_{Q_{j}} := \\frac{1}{|Q_{j}|} \\int_{Q_{j}} h(y)\\,dy = \\frac{1}{|Q_{j}|} \\int_{Q_{j}} c f(y)\\,dy = c \\frac{1}{|Q_{j}|} \\int_{Q_{j}} f(y)\\,dy = c f_{Q_{j}}.\n$$\nUsing the bounds for $f_{Q_{j}}$ at level $\\alpha$, we obtain\n$$\n\\alpha' = c \\alpha  c f_{Q_{j}} = h_{Q_{j}} \\le c \\cdot 2^{n} \\alpha = 2^{n} \\alpha',\n$$\nso the same family of cubes satisfies the Calderón-Zygmund selection criterion for $h$ at level $\\alpha'$. Equivalently, if the selection is made via the Hardy-Littlewood maximal function, note that $M h = M(c f) = c\\, M f$, so\n$$\n\\Omega' := \\{x \\in \\mathbb{R}^{n} : M h(x) > \\alpha'\\} = \\{x \\in \\mathbb{R}^{n} : c\\, M f(x) > c \\alpha\\} = \\{x \\in \\mathbb{R}^{n} : M f(x) > \\alpha\\} = \\Omega,\n$$\nand the corresponding Whitney-type decomposition produces the same disjoint cubes $\\{Q_{j}\\}$.\n\nDefine $g'$ in the standard manner for the decomposition of $h$ at level $\\alpha'$:\n$$\ng'(x) :=\n\\begin{cases}\nh(x),  x \\notin \\Omega,\\\\\nh_{Q_{j}},  x \\in Q_{j}.\n\\end{cases}\n$$\nBy the definition of $g$ and the computation of $h_{Q_{j}}$, we have for $x \\notin \\Omega$ that $g'(x) = h(x) = c f(x) = c g(x)$, and for $x \\in Q_{j}$ that $g'(x) = h_{Q_{j}} = c f_{Q_{j}} = c g(x)$. Therefore,\n$$\ng'(x) = c\\, g(x) \\quad \\text{for all } x \\in \\mathbb{R}^{n}.\n$$\nThis $g'$ satisfies the usual bounds: for $x \\notin \\Omega$, $g'(x) = h(x) \\le \\alpha'$, and for $x \\in Q_{j}$, $g'(x) = h_{Q_{j}} \\le 2^{n} \\alpha'$, so $0 \\le g'(x) \\le 2^{n} \\alpha'$ everywhere.\n\nDefine $b' := h - g'$. Then\n$$\nb'(x) = h(x) - g'(x) = c f(x) - c g(x) = c \\big(f(x) - g(x)\\big) = c\\, b(x).\n$$\nMoreover, $b'$ decomposes as $b'(x) = \\sum_{j} b'_{j}(x)$ with\n$$\nb'_{j}(x) := \\big(h(x) - h_{Q_{j}}\\big) \\chi_{Q_{j}}(x) = \\big(c f(x) - c f_{Q_{j}}\\big) \\chi_{Q_{j}}(x) = c \\big(f(x) - f_{Q_{j}}\\big) \\chi_{Q_{j}}(x) = c\\, b_{j}(x),\n$$\nso $b' = 0$ on $\\mathbb{R}^{n} \\setminus \\Omega$ and each $b'_{j}$ has mean zero:\n$$\n\\int_{Q_{j}} b'_{j}(y)\\,dy = \\int_{Q_{j}} c\\, b_{j}(y)\\,dy = c \\int_{Q_{j}} b_{j}(y)\\,dy = 0.\n$$\n\nTherefore, with the choice\n$$\n\\alpha' = c \\alpha, \\quad g' = c g, \\quad b' = c b,\n$$\nand the same cubes $\\{Q_{j}\\}$, we obtain a valid Calderón-Zygmund decomposition $h = g' + b'$ at level $\\alpha'$ satisfying all the required properties.", "answer": "$$\\boxed{\\begin{pmatrix} c \\alpha  c g  c b \\end{pmatrix}}$$", "id": "1406728"}, {"introduction": "The level $\\alpha$ acts as a threshold that determines the \"badness\" of a region. This final exercise [@problem_id:1406740] asks you to consider how the collection of selected cubes changes when this threshold is increased. By comparing the decompositions at level $\\alpha$ and $2\\alpha$, you will gain insight into the nested geometric structure of the exceptional sets and the hierarchical nature of the analysis.", "problem": "Let $f$ be a non-negative integrable function defined on $\\mathbb{R}^n$. For any cube $Q \\subset \\mathbb{R}^n$, its Lebesgue measure is denoted by $m(Q)$, and the average value of $f$ over $Q$ is given by $\\text{avg}(f, Q) = \\frac{1}{m(Q)} \\int_Q f(x) dx$.\n\nThe Calderón-Zygmund decomposition of $f$ at a given level $\\lambda > 0$ generates a collection of disjoint dyadic cubes. For the purpose of this problem, a dyadic cube $Q$ is selected for this collection if and only if it satisfies two conditions:\n1. $\\text{avg}(f, Q) > \\lambda$\n2. $\\text{avg}(f, P(Q)) \\le \\lambda$, where $P(Q)$ is the unique dyadic parent cube of $Q$. (Assume such a parent exists and that for sufficiently large cubes containing the support of $f$, the average is less than $\\lambda$).\n\nLet $\\mathcal{C}_\\alpha$ be the collection of all selected dyadic cubes for the function $f$ at level $\\alpha > 0$. Similarly, let $\\mathcal{C}_{2\\alpha}$ be the collection of all selected dyadic cubes for the same function $f$ at level $2\\alpha$.\n\nWhich of the following statements correctly describes the general relationship between the collections $\\mathcal{C}_\\alpha$ and $\\mathcal{C}_{2\\alpha}$?\n\nA. Every cube in $\\mathcal{C}_\\alpha$ is a dyadic subcube of a unique cube in $\\mathcal{C}_{2\\alpha}$.\n\nB. Every cube in $\\mathcal{C}_{2\\alpha}$ is a dyadic subcube of a unique cube in $\\mathcal{C}_\\alpha$.\n\nC. The two collections of cubes are always identical, i.e., $\\mathcal{C}_\\alpha = \\mathcal{C}_{2\\alpha}$.\n\nD. The two collections of cubes are always disjoint, i.e., $\\mathcal{C}_\\alpha \\cap \\mathcal{C}_{2\\alpha} = \\emptyset$.\n\nE. The union of all cubes in $\\mathcal{C}_\\alpha$ is equal in measure to the union of all cubes in $\\mathcal{C}_{2\\alpha}$.", "solution": "Let $f \\ge 0$ be integrable on $\\mathbb{R}^{n}$. For a dyadic cube $Q$, write $\\text{avg}(f,Q) = \\frac{1}{m(Q)}\\int_{Q} f(x)\\,dx$. A cube $Q$ belongs to $\\mathcal{C}_{\\lambda}$ if and only if\n$$\n\\text{avg}(f,Q) > \\lambda \\quad \\text{and} \\quad \\text{avg}(f,P(Q)) \\le \\lambda,\n$$\nwhere $P(Q)$ denotes the dyadic parent of $Q$. This implies disjointness of the cubes in $\\mathcal{C}_{\\lambda}$: if $Q_{1},Q_{2} \\in \\mathcal{C}_{\\lambda}$ and they intersect, then by dyadic nesting one must contain the other; say $Q_{1} \\subset Q_{2}$. This would imply $P(Q_1)$ is a subcube of $Q_2$ (or is $Q_2$ itself), leading to $\\text{avg}(f,P(Q_{1})) \\ge \\text{avg}(f,Q_{2}) > \\lambda$, which contradicts the selection condition for $Q_{1}$. Thus the cubes must be disjoint.\n\nDefine the dyadic Hardy-Littlewood maximal function\n$$\nM_{d}f(x) = \\sup\\{\\text{avg}(f,Q) : x \\in Q,\\, Q \\text{ dyadic}\\}.\n$$\nUsing the stopping-time definition and the assumption that for sufficiently large cubes containing the support of $f$ one has $\\text{avg}(f,Q)  \\lambda$, the standard argument shows\n$$\n\\bigcup_{Q \\in \\mathcal{C}_{\\lambda}} Q = \\{x \\in \\mathbb{R}^{n} : M_{d}f(x) > \\lambda\\}.\n$$\nHence\n$$\n\\bigcup_{Q \\in \\mathcal{C}_{2\\alpha}} Q = \\{x \\in \\mathbb{R}^{n} : M_{d}f(x) > 2\\alpha\\} \\subset \\{x \\in \\mathbb{R}^{n} : M_{d}f(x) > \\alpha\\} = \\bigcup_{R \\in \\mathcal{C}_{\\alpha}} R.\n$$\n\nFix a cube $Q \\in \\mathcal{C}_{2\\alpha}$. Then $\\text{avg}(f,Q) > 2\\alpha > \\alpha$. Consider the dyadic ancestor chain $Q = Q^{0} \\subset Q^{1} \\subset Q^{2} \\subset \\dots$, where $Q^{j+1} = P(Q^{j})$. By the given assumption that averages eventually become small, there must exist a minimal integer $j_{0} \\ge 0$ such that $\\text{avg}(f,Q^{j_{0}+1}) \\le \\alpha$. Since $\\text{avg}(f,Q^{0}) > \\alpha$, such a $j_0$ exists. Let $R := Q^{j_{0}}$. By construction, $\\text{avg}(f,R) > \\alpha$ and $\\text{avg}(f,P(R)) = \\text{avg}(f,Q^{j_0+1}) \\le \\alpha$. This means $R \\in \\mathcal{C}_{\\alpha}$. Moreover, $Q \\subset R$, so $Q$ is a dyadic subcube of $R$.\n\nTo see uniqueness, suppose $Q \\subset R_{1}$ and $Q \\subset R_{2}$ for $R_{1}, R_{2} \\in \\mathcal{C}_{\\alpha}$. Since $\\mathcal{C}_{\\alpha}$ is a disjoint family of dyadic cubes and $R_{1} \\cap R_{2} \\supset Q \\neq \\emptyset$, dyadic nesting implies $R_{1} = R_{2}$. Therefore each $Q \\in \\mathcal{C}_{2\\alpha}$ is a dyadic subcube of a unique $R \\in \\mathcal{C}_{\\alpha}$.\n\nThis establishes option B. The other options fail in general: A is false because many cubes in $\\mathcal{C}_{\\alpha}$ have $\\text{avg}(f,Q) \\in (\\alpha,2\\alpha]$ and need not be contained in any cube of $\\mathcal{C}_{2\\alpha}$; C is false unless $f$ has very special structure; D is not necessarily true, as a cube $Q$ with $\\text{avg}(f,Q) > 2\\alpha$ and $\\text{avg}(f,P(Q)) \\le \\alpha$ belongs to both collections; E is false in general since $\\{M_{d}f > 2\\alpha\\} \\subsetneq \\{M_{d}f > \\alpha\\}$ typically, so the measures of the unions differ.", "answer": "$$\\boxed{B}$$", "id": "1406740"}]}