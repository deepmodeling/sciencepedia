{"hands_on_practices": [{"introduction": "The first step in mastering formal logic is learning to read its language with precision. In first-order logic, the meaning of a variable is determined by the quantifier that binds it. This exercise challenges you to dissect a formula with nested quantifiers, carefully identifying the scope of each and determining exactly which quantifier binds each variable occurrence, a foundational skill for avoiding common interpretation errors [@problem_id:3048949].", "problem": "Let $\\mathcal{L}$ be a standard first-order language with unary predicate symbol $P$, binary predicate symbol $R$, and unary predicate symbol $S$. Consider the composite formula\n$$\n\\Phi \\;=\\; \\exists x\\,\\bigl(P(x) \\land \\forall y\\,\\bigl(R(x,y) \\lor \\exists x\\,S(x)\\bigr)\\bigr).\n$$\nWork within the standard syntactic definitions of first-order logic: the scope of a quantifier $Qv$ is the subformula it immediately governs; an occurrence of a variable $v$ is bound if it lies within the scope of a quantifier $Qv$ that binds it, and a quantifier $Qv$ binds exactly those occurrences of $v$ in its scope that are not captured by a closer quantifier on $v$. For the purpose of counting, consider only occurrences of variables inside atomic formulas (do not count the binding occurrences of variables that appear immediately after quantifier symbols).\n\nTask:\n1. Specify precisely the scope of each quantifier in $\\Phi$.\n2. Identify which occurrences of $x$ in atomic subformulas of $\\Phi$ are bound by which quantifier, using only the formal definitions above.\n3. Compute the total number of bound occurrences of the variable $x$ in $\\Phi$ (counting only occurrences inside atomic formulas).\n\nProvide your final answer as a single integer equal to the total in item 3. No rounding is necessary.", "solution": "The problem requires an analysis of the scopes of quantifiers and the binding of variables in a given first-order logic formula. We are asked to determine the total number of bound occurrences of the variable $x$ within the atomic subformulas of the composite formula $\\Phi$.\n\nThe formula is given as:\n$$\n\\Phi \\;=\\; \\exists x\\,\\bigl(P(x) \\land \\forall y\\,\\bigl(R(x,y) \\lor \\exists x\\,S(x)\\bigr)\\bigr)\n$$\n\nTo systematically analyze the formula, we will follow the three tasks outlined in the problem statement. For clarity, let us label the quantifiers from left to right:\n- $Q_1$ is the first quantifier, $\\exists x$.\n- $Q_2$ is the second quantifier, $\\forall y$.\n- $Q_3$ is the third quantifier, $\\exists x$.\n\n**1. Specify the scope of each quantifier**\n\nThe scope of a quantifier is defined as the subformula it immediately governs.\n\n- **Scope of $Q_1 = \\exists x$**: The first quantifier governs the entire subformula that follows it.\nThe scope of the outer $\\exists x$ is:\n$$\n\\bigl(P(x) \\land \\forall y\\,\\bigl(R(x,y) \\lor \\exists x\\,S(x)\\bigr)\\bigr)\n$$\n\n- **Scope of $Q_2 = \\forall y$**: This quantifier is nested within the scope of $Q_1$. It governs the subformula that immediately follows it.\nThe scope of $\\forall y$ is:\n$$\n\\bigl(R(x,y) \\lor \\exists x\\,S(x)\\bigr)\n$$\n\n- **Scope of $Q_3 = \\exists x$**: This quantifier is nested within the scopes of both $Q_1$ and $Q_2$. It governs the subformula that immediately follows it.\nThe scope of the inner $\\exists x$ is:\n$$\nS(x)\n$$\n\n**2. Identify which occurrences of $x$ are bound by which quantifier**\n\nWe need to examine each occurrence of the variable $x$ inside an atomic formula and determine which quantifier binds it. The rule states that a quantifier $Qv$ binds occurrences of $v$ within its scope, unless they are \"captured\" by a closer quantifier on the same variable $v$. An occurrence of a variable is bound if it is bound by any quantifier.\n\nThe atomic subformulas containing the variable $x$ in $\\Phi$ are $P(x)$, $R(x,y)$, and $S(x)$.\n\n- **Occurrence of $x$ in $P(x)$**:\nThis occurrence of $x$ is located within the formula $P(x)$.\nThe formula $P(x)$ is inside the scope of the outer quantifier $Q_1 = \\exists x$.\nThe scope of the inner quantifier $Q_3 = \\exists x$ is $S(x)$, which does not contain $P(x)$.\nTherefore, there is no closer quantifier on $x$ that captures this occurrence.\nConclusion: The occurrence of $x$ in $P(x)$ is bound by the outer quantifier, $Q_1 = \\exists x$.\n\n- **Occurrence of $x$ in $R(x,y)$**:\nThis occurrence of $x$ is located within the formula $R(x,y)$.\nThe formula $R(x,y)$ is inside the scope of the outer quantifier $Q_1 = \\exists x$.\nIt is also inside the scope of the quantifier $Q_2 = \\forall y$, but this quantifier binds the variable $y$, not $x$.\nThe scope of the inner quantifier $Q_3 = \\exists x$ is $S(x)$, which does not contain $R(x,y)$.\nTherefore, similar to the previous case, there's no closer quantifier on $x$ that captures this occurrence.\nConclusion: The occurrence of $x$ in $R(x,y)$ is bound by the outer quantifier, $Q_1 = \\exists x$.\n\n- **Occurrence of $x$ in $S(x)$**:\nThis occurrence of $x$ is located within the formula $S(x)$.\nThe formula $S(x)$ is inside the scope of the outer quantifier $Q_1 = \\exists x$.\nHowever, $S(x)$ is also the scope of the inner quantifier $Q_3 = \\exists x$.\nAccording to the rule, an occurrence of a variable is bound by the innermost (closest) quantifier whose scope contains that occurrence. Since the scope of $Q_3$ is a subformula of the scope of $Q_1$, $Q_3$ is the closer quantifier.\nConclusion: The occurrence of $x$ in $S(x)$ is \"captured\" and bound by the inner quantifier, $Q_3 = \\exists x$.\n\n**3. Compute the total number of bound occurrences of the variable $x$**\n\nWe are asked to count the total number of bound occurrences of $x$ inside the atomic formulas. Based on the analysis in step 2, all occurrences of $x$ in the atomic formulas are bound.\n\n- The single occurrence of $x$ in $P(x)$ is bound.\n- The single occurrence of $x$ in $R(x,y)$ is bound.\n- The single occurrence of $x$ in $S(x)$ is bound.\n\nCounting these occurrences, we have $1$ from $P(x)$, $1$ from $R(x,y)$, and $1$ from $S(x)$.\nThe total number of bound occurrences of the variable $x$ in the atomic formulas of $\\Phi$ is the sum:\n$$\n1 + 1 + 1 = 3\n$$", "answer": "$$\\boxed{3}$$", "id": "3048949"}, {"introduction": "Beyond simply reading formulas, a logician must be able to transform them into equivalent forms to reveal their underlying structure. This practice focuses on converting a formula into Negation Normal Form (NNF), a standard form where negations only apply to atomic statements. By applying the fundamental quantifier-negation equivalences, such as $\\neg \\forall x \\varphi(x) \\equiv \\exists x \\neg \\varphi(x)$, and De Morgan's laws, you will develop the crucial skill of syntactic manipulation that is essential for both theoretical proofs and automated reasoning systems [@problem_id:3048945].", "problem": "In classical first-order logic, an atomic formula is a predicate symbol applied to terms, and negation normal form (NNF) is any formula in which every occurrence of negation is applied directly to an atomic formula. Consider the formula $\\neg \\forall x\\,\\bigl(\\varphi(x) \\lor \\exists y\\,\\psi(x,y)\\bigr)$, where $\\varphi$ and $\\psi$ are predicate symbols and $x,y$ are variables. Using only equivalence laws that follow from the core semantics of first-order logic—specifically, the quantifier-negation equivalences and De Morgan’s laws for propositional connectives—transform this formula into an equivalent formula in which every negation is directly in front of an atomic formula. Then, in your resulting formula, let $N$ be the total number of occurrences of the negation symbol $\\neg$, and let $Q$ be the total number of occurrences of quantifier symbols ($\\forall$ or $\\exists$). Compute the single number $S = 3N + 2Q$. Provide the value of $S$ as an exact integer.", "solution": "The problem requires the transformation of a given first-order logic formula into its equivalent negation normal form (NNF) and the subsequent calculation of a value $S$ based on the number of negation and quantifier symbols in the resulting formula.\n\nThe initial formula is:\n$$ \\neg \\forall x\\,\\bigl(\\varphi(x) \\lor \\exists y\\,\\psi(x,y)\\bigr) $$\nA formula is in NNF if all negation symbols $\\neg$ are applied directly to atomic formulas. We will use standard logical equivalences to push the initial negation symbol inwards.\n\nStep 1: Apply the quantifier-negation equivalence.\nThe outermost operator is a negation applied to a universally quantified formula. We use the equivalence $\\neg \\forall z\\,P(z) \\equiv \\exists z\\,\\neg P(z)$. In our case, the variable $z$ is $x$ and the predicate $P(x)$ is the subformula $\\bigl(\\varphi(x) \\lor \\exists y\\,\\psi(x,y)\\bigr)$. Applying this equivalence transforms the formula into:\n$$ \\exists x\\,\\neg\\bigl(\\varphi(x) \\lor \\exists y\\,\\psi(x,y)\\bigr) $$\n\nStep 2: Apply De Morgan's Law for propositional connectives.\nThe negation symbol is now applied to a disjunction ($\\lor$). We use De Morgan's law, which states $\\neg(A \\lor B) \\equiv (\\neg A \\land \\neg B)$. Here, the term $A$ corresponds to the atomic formula $\\varphi(x)$ and the term $B$ corresponds to the subformula $\\exists y\\,\\psi(x,y)$. Applying this law yields:\n$$ \\exists x\\,\\bigl(\\neg\\varphi(x) \\land \\neg(\\exists y\\,\\psi(x,y))\\bigr) $$\nThe first negation $\\neg\\varphi(x)$ is now correctly positioned in front of an atomic formula. However, the second negation $\\neg(\\exists y\\,\\psi(x,y))$ is not, so a further step is required.\n\nStep 3: Apply the quantifier-negation equivalence again.\nThe remaining subformula that is not in NNF is $\\neg(\\exists y\\,\\psi(x,y))$. We use the second quantifier-negation equivalence, $\\neg \\exists z\\,P(z) \\equiv \\forall z\\,\\neg P(z)$. In this case, the variable $z$ is $y$ and the predicate $P(y)$ is $\\psi(x,y)$. Applying this equivalence transforms the subformula into $\\forall y\\,\\neg\\psi(x,y)$. Substituting this result back into the main formula gives us the final NNF formula:\n$$ \\exists x\\,\\bigl(\\neg\\varphi(x) \\land \\forall y\\,\\neg\\psi(x,y)\\bigr) $$\nThis formula is now in negation normal form, as both occurrences of the negation symbol $\\neg$ are immediately followed by an atomic formula ($\\varphi(x)$ and $\\psi(x,y)$).\n\nNext, we must count the number of negation symbols ($N$) and quantifier symbols ($Q$) in this final NNF formula.\nThe formula is $\\exists x\\,\\bigl(\\neg\\varphi(x) \\land \\forall y\\,\\neg\\psi(x,y)\\bigr)$.\n\n-   The number of negation symbols, $N$, is the count of occurrences of $\\neg$. We have $\\neg\\varphi(x)$ and $\\neg\\psi(x,y)$. Therefore, $N = 2$.\n-   The number of quantifier symbols, $Q$, is the count of occurrences of $\\forall$ and $\\exists$. We have $\\exists x$ and $\\forall y$. Therefore, $Q = 2$.\n\nFinally, we compute the value of $S$ using the given expression $S = 3N + 2Q$.\nSubstituting the values $N=2$ and $Q=2$ into the expression:\n$$ S = 3(2) + 2(2) $$\n$$ S = 6 + 4 $$\n$$ S = 10 $$\nThe value of $S$ is an exact integer, $10$.", "answer": "$$\n\\boxed{10}\n$$", "id": "3048945"}, {"introduction": "The final step in our practice is to bridge the gap between abstract syntax and concrete meaning. This exercise moves from manipulating symbols to evaluating their truth in a defined mathematical world, or 'structure.' By testing a formula against specific values in a finite universe, you will gain a tangible understanding of how Tarskian semantics work and see firsthand how a formula with free variables defines a specific relation over a domain [@problem_id:3048953].", "problem": "Consider a first-order structure $\\mathcal{A}$ for the language with one binary function symbol $+$ and one unary predicate symbol $E$, together with equality. The universe of discourse is $$A = \\{0,1,2,3,4,5\\}.$$ The binary function symbol is interpreted by addition modulo $6$: for all $a,b \\in A$, $$+^{\\mathcal{A}}(a,b) = (a+b) \\bmod 6.$$ The unary predicate symbol $E$ is interpreted as the subset of even elements: $$E^{\\mathcal{A}} = \\{0,2,4\\}.$$\n\nDefine the formula with free variables $$\\varphi(x,y) := \\exists z\\,\\big(x = y + z \\,\\wedge\\, E(z)\\big),$$ where $+$ is the function symbol of the language and $E$ is the predicate symbol.\n\nUsing the fundamental semantics of first-order logic—namely, that terms are evaluated under a variable assignment into the structure, quantifiers bind variables, and a formula’s truth value is determined relative to a structure and an assignment—carry out the following:\n\n1. Identify which variables of $\\varphi(x,y)$ are free and which are bound, and explain (from first principles) why the truth value of $\\varphi$ can change under different assignments for the free variables in the fixed structure $\\mathcal{A}$.\n\n2. Let $s_{1}$ and $s_{2}$ be two variable assignments with $s_{1}(x)=5$, $s_{1}(y)=1$, and $s_{2}(x)=4$, $s_{2}(y)=3$ (the values of any other variables under these assignments may be arbitrary elements of $A$). Evaluate the truth values of $\\varphi$ under $\\mathcal{A}$ and these assignments.\n\n3. Compute the total number of ordered pairs $(a,b) \\in A \\times A$ such that, under the assignment $s$ with $s(x)=a$ and $s(y)=b$, the formula $\\varphi$ is true in $\\mathcal{A}$. Your final answer must be this count as a single integer. No rounding is required.", "solution": "The problem provides a first-order structure $\\mathcal{A}$ for a language with a binary function symbol $+$, a unary predicate symbol $E$, and equality $=$. The universe of discourse is $A = \\{0,1,2,3,4,5\\}$. The interpretation of $+$ is addition modulo $6$, $+^{\\mathcal{A}}(a,b) = (a+b) \\bmod 6$, and the interpretation of $E$ is the set of even numbers in $A$, $E^{\\mathcal{A}} = \\{0,2,4\\}$. The formula to analyze is $\\varphi(x,y) := \\exists z\\,\\big(x = y + z \\,\\wedge\\, E(z)\\big)$.\n\n### Part 1: Free and Bound Variables\n\nThe formula is $\\varphi(x,y) := \\exists z\\,\\big(x = y + z \\,\\wedge\\, E(z)\\big)$.\nA variable in a formula is said to be *bound* if it occurs within the scope of a quantifier that binds it. In this formula, the variable $z$ is introduced by the existential quantifier $\\exists z$. The scope of this quantifier is the subformula $\\big(x = y + z \\,\\wedge\\, E(z)\\big)$. The occurrences of $z$ within this subformula are therefore bound.\n\nA variable is *free* if it has an occurrence in the formula that is not bound. The variables $x$ and $y$ appear in the formula, but they are not introduced by any quantifier. Therefore, $x$ and $y$ are the free variables of $\\varphi(x,y)$.\n\nA formula with free variables, often called an open formula, does not express a proposition with a fixed truth value. Instead, it defines a relation on the domain of the structure. The truth value of such a formula is evaluated relative to a variable assignment $s$, which maps the free variables to elements of the universe $A$. The notation $\\mathcal{A} \\models \\varphi[s]$ denotes that the structure $\\mathcal{A}$ satisfies the formula $\\varphi$ under the assignment $s$. The formula $\\varphi(x,y)$ is true for an assignment $s$ if the relation it defines holds for the elements $s(x)$ and $s(y)$. Since the relation may hold for some pairs of elements from $A$ and not for others, the truth value of $\\varphi(x,y)$ can change under different assignments for its free variables $x$ and $y$.\n\n### Part 2: Evaluation of Truth Values\n\nWe evaluate the truth of $\\varphi(x,y)$ in $\\mathcal{A}$ for two given assignments, $s_1$ and $s_2$.\n\n**For assignment $s_1$:**\nThe assignment is $s_1(x) = 5$ and $s_1(y) = 1$. We need to determine if $\\mathcal{A} \\models \\varphi[s_1]$. According to the semantics of the existential quantifier, this is true if and only if there exists an element $c \\in A$ such that the formula inside the quantifier is true when $z$ is assigned the value $c$. That is, we must find a $c \\in \\{0,1,2,3,4,5\\}$ that satisfies both conditions:\n$1.$ $s_1(x) = s_1(y) +^{\\mathcal{A}} c$\n$2.$ $c \\in E^{\\mathcal{A}}$\n\nSubstituting the values from $s_1$ and the interpretations from $\\mathcal{A}$:\n$1.$ $5 = (1 + c) \\bmod 6$\n$2.$ $c \\in \\{0,2,4\\}$\n\nFrom the first equation, we solve for $c$:\n$5 - 1 = c \\bmod 6$\n$4 = c \\bmod 6$\nSince $c \\in A$, the only solution is $c=4$.\nNow we check if this value for $c$ satisfies the second condition. The set $E^{\\mathcal{A}}$ is $\\{0,2,4\\}$. Since $4 \\in \\{0,2,4\\}$, a suitable element $c=4$ exists. Therefore, the formula $\\varphi$ is true under the assignment $s_1$.\n\n**For assignment $s_2$:**\nThe assignment is $s_2(x) = 4$ and $s_2(y) = 3$. We check if $\\mathcal{A} \\models \\varphi[s_2]$. We look for a $c \\in A$ such that:\n$1.$ $s_2(x) = s_2(y) +^{\\mathcal{A}} c$\n$2.$ $c \\in E^{\\mathcal{A}}$\n\nSubstituting the values from $s_2$:\n$1.$ $4 = (3 + c) \\bmod 6$\n$2.$ $c \\in \\{0,2,4\\}$\n\nFrom the first equation, we solve for $c$:\n$4 - 3 = c \\bmod 6$\n$1 = c \\bmod 6$\nThe only solution in $A$ is $c=1$.\nNow we check if this value for $c$ satisfies the second condition. The set $E^{\\mathcal{A}}$ is $\\{0,2,4\\}$. Since $1 \\notin \\{0,2,4\\}$, the value $c=1$ does not satisfy the second condition. As $c=1$ is the only value satisfying the equality, there is no element $c \\in A$ that satisfies both conditions simultaneously. Therefore, the formula $\\varphi$ is false under the assignment $s_2$.\n\n### Part 3: Counting Satisfying Pairs\n\nWe must find the total number of ordered pairs $(a,b) \\in A \\times A$ for which the formula $\\varphi$ is true under an assignment $s$ with $s(x)=a$ and $s(y)=b$.\nThe condition for a pair $(a,b)$ to satisfy $\\varphi$ is:\n$\\exists z \\in A \\big( a = (b+z) \\bmod 6 \\wedge z \\in E^{\\mathcal{A}} \\big)$\n\nThis is equivalent to saying that there exists a $z \\in \\{0,2,4\\}$ such that $a = (b+z) \\bmod 6$.\nThis equation can be rewritten in terms of modular arithmetic as $a - b \\equiv z \\pmod{6}$.\nSo, a pair $(a,b)$ satisfies the formula if and only if the value $(a-b) \\bmod 6$ is one of the elements in $E^{\\mathcal{A}} = \\{0,2,4\\}$.\n\nLet $d = (a-b) \\bmod 6$. We need to count the number of pairs $(a,b)$ where $a, b \\in \\{0,1,2,3,4,5\\}$ such that $d \\in \\{0,2,4\\}$.\nWe can analyze this by considering the number of pairs $(a,b)$ that produce each required value of $d$.\nFor any fixed value $d \\in \\{0,1,2,3,4,5\\}$, the equation $a = (b+d) \\bmod 6$ establishes a one-to-one correspondence between $a$ and $b$. For each of the $6$ possible choices for $b$, there is a unique value for $a$. Thus, for any given $d$, there are exactly $6$ pairs $(a,b)$ such that $(a-b) \\bmod 6 = d$.\n\nWe are interested in the cases where $d$ is $0$, $2$, or $4$.\n-   Case $d=0$: There are $6$ pairs $(a,b)$ such that $(a-b) \\bmod 6 = 0$. These are the pairs where $a=b$: $(0,0), (1,1), (2,2), (3,3), (4,4), (5,5)$.\n-   Case $d=2$: There are $6$ pairs $(a,b)$ such that $(a-b) \\bmod 6 = 2$. These are $(2,0), (3,1), (4,2), (5,3), (0,4), (1,5)$.\n-   Case $d=4$: There are $6$ pairs $(a,b)$ such that $(a-b) \\bmod 6 = 4$. These are $(4,0), (5,1), (0,2), (1,3), (2,4), (3,5)$.\n\nThe total number of satisfying pairs is the sum of the counts for these three disjoint cases.\nTotal count $= (\\text{number of pairs for } d=0) + (\\text{number of pairs for } d=2) + (\\text{number of pairs for } d=4)$\nTotal count $= 6 + 6 + 6 = 18$.\n\nThere are $18$ ordered pairs $(a,b)$ in $A \\times A$ that make the formula $\\varphi(x,y)$ true.", "answer": "$$\n\\boxed{18}\n$$", "id": "3048953"}]}