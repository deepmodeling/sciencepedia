{"hands_on_practices": [{"introduction": "Many introductory probability problems focus on binary outcomes, such as a coin flip being heads or tails. However, real-world scenarios often involve multiple possibilities. This practice extends the binary framework to a multinomial one, tackling the question of how to calculate probabilities when outcomes can fall into several distinct categories. By analyzing the composition of a sequence of data packets, you will apply the multinomial coefficient to partition a set of trials into specific groups, a fundamental skill in statistics and information theory. [@problem_id:1905149]", "problem": "In a simplified model of a digital communication system, a sequence of $N$ data packets is transmitted. Each packet can independently be in one of $S$ distinct states, labeled $1, 2, \\ldots, S$. For any given packet, each of these $S$ states is equally likely.\n\nLet's designate two specific states: 'State A' (state 1) and 'State B' (state 2). What is the probability that in a randomly transmitted sequence of $N$ packets, there are exactly $k_A$ packets in State A and exactly $k_B$ packets in State B, where $k_A$ and $k_B$ are non-negative integers such that $k_A + k_B \\le N$?\n\nProvide your answer as a single closed-form analytic expression in terms of $N$, $S$, $k_A$, and $k_B$.", "solution": "The problem asks for the probability of a specific composition in a sequence of $N$ packets, where each packet can independently take one of $S$ equally likely states. This is a classic problem in combinatorial probability. The solution can be found by calculating the ratio of the number of favorable outcomes to the total number of possible outcomes.\n\nFirst, let's determine the total number of possible outcomes. The sequence consists of $N$ packets. Each of these $N$ packets can be in any of the $S$ states. Since the state of each packet is independent, the total number of possible sequences in the sample space, $|\\Omega|$, can be found using the multiplication principle:\n$$ |\\Omega| = S \\times S \\times \\dots \\times S \\text{ (N times)} = S^N $$\n\nNext, we need to count the number of favorable outcomes, which we denote as $|E|$. A favorable outcome is a sequence containing exactly $k_A$ packets in State A, exactly $k_B$ packets in State B, and consequently, $N - k_A - k_B$ packets in any of the other states. We can construct such a sequence by following these steps:\n\n1.  **Choose the positions for State A:** We need to choose $k_A$ positions out of the $N$ available positions in the sequence for the packets in State A. The number of ways to do this is given by the binomial coefficient $\\binom{N}{k_A}$.\n$$ \\binom{N}{k_A} = \\frac{N!}{k_A!(N-k_A)!} $$\n\n2.  **Choose the positions for State B:** After placing the $k_A$ packets, there are $N - k_A$ positions remaining. We need to choose $k_B$ of these remaining positions for the packets in State B. The number of ways to do this is $\\binom{N-k_A}{k_B}$.\n$$ \\binom{N-k_A}{k_B} = \\frac{(N-k_A)!}{k_B!(N-k_A-k_B)!} $$\n\n3.  **Assign states to the remaining positions:** There are $N - k_A - k_B$ positions left. The packets in these positions must not be in State A or State B. There are $S-2$ other states available for each of these remaining packets. Since there are $N - k_A - k_B$ such positions, and the choice for each is independent, the number of ways to assign states to these remaining packets is $(S-2)^{N - k_A - k_B}$.\n\nBy the multiplication principle, the total number of favorable sequences, $|E|$, is the product of the number of ways to perform each step:\n$$ |E| = \\binom{N}{k_A} \\binom{N-k_A}{k_B} (S-2)^{N - k_A - k_B} $$\nLet's simplify the product of the binomial coefficients:\n$$ \\binom{N}{k_A} \\binom{N-k_A}{k_B} = \\frac{N!}{k_A!(N-k_A)!} \\times \\frac{(N-k_A)!}{k_B!(N-k_A-k_B)!} = \\frac{N!}{k_A!k_B!(N-k_A-k_B)!} $$\nThis is the multinomial coefficient $\\binom{N}{k_A, k_B, N-k_A-k_B}$, which counts the number of ways to arrange $N$ items into three distinct groups of sizes $k_A$, $k_B$, and $N-k_A-k_B$.\n\nSo, the total number of favorable outcomes is:\n$$ |E| = \\frac{N!}{k_A!k_B!(N-k_A-k_B)!} (S-2)^{N - k_A - k_B} $$\n\nFinally, the probability $P(E)$ is the ratio of the number of favorable outcomes to the total number of outcomes:\n$$ P(E) = \\frac{|E|}{|\\Omega|} = \\frac{\\frac{N!}{k_A!k_B!(N-k_A-k_B)!} (S-2)^{N - k_A - k_B}}{S^N} $$\n\nThis can be written as the final expression.", "answer": "$$\\boxed{\\frac{N!}{k_A! k_B! (N - k_A - k_B)!} \\frac{(S-2)^{N - k_A - k_B}}{S^N}}$$", "id": "1905149"}, {"introduction": "At first glance, some combinatorial problems can seem overwhelmingly complex, involving a vast number of possibilities. The key is often to find a clever change of perspective that simplifies the counting process dramatically. This problem, involving the arming of security checkpoints, demonstrates the power of the 'element-wise' method. [@problem_id:1905089] Instead of counting all the pairs of subsets that cover the entire set, we will focus on the fate of a single checkpoint and use independence to build our solution, a far more elegant and scalable approach.", "problem": "A high-security research facility is protected by $n$ distinct security checkpoints, numbered from 1 to $n$. The facility's security is managed by two independent computer systems, System Alpha and System Beta.\n\nWhen activated, System Alpha arms a subset of the $n$ checkpoints. Similarly, System Beta arms its own subset of checkpoints. For each system, any of the $2^n$ possible subsets of checkpoints is equally likely to be armed. The selections made by System Alpha and System Beta are statistically independent.\n\nThe facility is considered \"fully operational\" if and only if every single one of the $n$ checkpoints is armed by at least one of the two systems. If both systems are activated simultaneously, what is the probability that the facility becomes fully operational? Your answer should be an expression in terms of $n$.", "solution": "Let the set of checkpoints be $[n]=\\{1,2,\\dots,n\\}$. System Alpha chooses a random subset $A\\subseteq[n]$, and System Beta chooses a random subset $B\\subseteq[n]$, independently and uniformly among the $2^{n}$ subsets.\n\nThe facility is fully operational if and only if $A\\cup B=[n]$. For each checkpoint $i\\in[n]$, define the event $E_{i}$ that checkpoint $i$ is armed by at least one system, i.e., $i\\in A\\cup B$.\n\nFor a fixed $i$, the inclusion of $i$ in $A$ and in $B$ are independent Bernoulli events with parameter $\\frac{1}{2}$. Therefore,\n$$\n\\mathbb{P}(E_{i})=1-\\mathbb{P}(i\\notin A\\text{ and }i\\notin B)=1-\\left(\\frac{1}{2}\\right)\\left(\\frac{1}{2}\\right)=\\frac{3}{4}.\n$$\nAcross different checkpoints $i$, the pairs of inclusion indicators $\\big(\\mathbf{1}_{\\{i\\in A\\}},\\mathbf{1}_{\\{i\\in B\\}}\\big)$ are independent because each system chooses each element independently and the two systems are independent of each other. Hence the events $E_{1},\\dots,E_{n}$ are independent, and the probability that all checkpoints are armed is\n$$\n\\mathbb{P}\\left(\\bigcap_{i=1}^{n}E_{i}\\right)=\\prod_{i=1}^{n}\\mathbb{P}(E_{i})=\\left(\\frac{3}{4}\\right)^{n}.\n$$\n\nEquivalently, by counting: there are $4^{n}$ equally likely pairs $(A,B)$. For a fixed subset $S\\subseteq[n]$, the number of pairs with $S\\subseteq([n]\\setminus A)\\cap([n]\\setminus B)$ is $4^{n-|S|}$. By inclusionâ€“exclusion, the number of pairs with $A\\cup B=[n]$ is\n$$\n\\sum_{S\\subseteq[n]}(-1)^{|S|}4^{n-|S|}=4^{n}\\sum_{k=0}^{n}\\binom{n}{k}\\left(-\\frac{1}{4}\\right)^{k}=4^{n}\\left(1-\\frac{1}{4}\\right)^{n}=3^{n},\n$$\nso the desired probability is $\\frac{3^{n}}{4^{n}}=\\left(\\frac{3}{4}\\right)^{n}$.", "answer": "$$\\boxed{\\left(\\frac{3}{4}\\right)^{n}}$$", "id": "1905089"}, {"introduction": "Our final practice moves from static arrangements to the analysis of a dynamic process over time. The famous Ballot Problem asks not just about the final result of an election, but about the probability that one candidate maintains a lead throughout the entire counting process. To solve this, we will introduce the powerful reflection principle, a classic technique in combinatorics that uses a clever geometric insight to count paths that are constrained to one side of a boundary. [@problem_id:1905140] This method provides a beautiful solution to a historically significant problem and has deep connections to the study of random walks.", "problem": "In a community-driven software development project, two competing feature proposals, \"Arch\" and \"Bolt\", are put to a vote. Ultimately, Arch receives $a$ votes and Bolt receives $b$ votes, with the final tally confirming that Arch is the more popular proposal ($a > b$). The votes are tallied one by one from a randomly shuffled collection of all $a+b$ ballots. What is the probability that the running count of votes for Arch is strictly greater than the running count for Bolt throughout the entire tallying process? Express your answer as a closed-form analytic expression in terms of $a$ and $b$.", "solution": "Let $a>b$ be fixed positive integers. Model a tally as a length-$(a+b)$ word over $\\{A,B\\}$ with exactly $a$ symbols $A$ and $b$ symbols $B$. All such words are equiprobable, and their total number is\n$$\nT=\\binom{a+b}{a}.\n$$\nDefine the running difference after $k$ votes by $S_{k}=\\#\\{A\\text{ in first }k\\}-\\#\\{B\\text{ in first }k\\}$. The event of interest is\n$$\nE:\\quad S_{k}\\geq 1\\quad\\text{for all}\\quad k=1,2,\\dots,a+b.\n$$\nFor $E$ to hold, the first vote must be $A$; if the first vote is $B$ then $S_{1}=-1$ and $E$ fails. Condition on the first vote:\n$$\n\\mathbb{P}(E)=\\frac{a}{a+b}\\,\\mathbb{P}(F_{a-1,b}),\n$$\nwhere $F_{m,n}$ is the event that in a random word with $m$ symbols $A$ and $n$ symbols $B$, the partial sums never go negative:\n$$\nF_{m,n}:\\quad S'_{k}\\geq 0\\quad\\text{for all}\\quad k=1,2,\\dots,m+n.\n$$\nThus it suffices to compute $\\mathbb{P}(F_{m,n})$ for $m\\geq n$.\n\nCount the number of words with $m$ $A$'s and $n$ $B$'s that never go negative using the reflection principle. Let $G_{m,n}$ be the number of such nonnegative words. The total number of words is $\\binom{m+n}{m}$. Define a bijection between the set of words that ever go negative and the set of all words with $m+1$ $A$'s and $n-1$ $B$'s as follows:\n\n- For a word that goes negative, let $t$ be the minimal index with $S'_{t}=-1$. In the first $t$ steps, the number of $B$'s exceeds the number of $A$'s by exactly $1$. Reflect the first $t$ steps by swapping $A\\leftrightarrow B$. This increases the total number of $A$'s by $1$ and decreases the total number of $B$'s by $1$, producing a word with $m+1$ $A$'s and $n-1$ $B$'s.\n\n- This mapping is invertible by the same construction applied in reverse (starting from the minimal index where the reflected path hits $+1$), hence it is a bijection.\n\nTherefore, the number of words that ever go negative equals the number of words with $m+1$ $A$'s and $n-1$ $B$'s, which is $\\binom{m+n}{m+1}$. Hence\n$$\nG_{m,n}=\\binom{m+n}{m}-\\binom{m+n}{m+1}.\n$$\nUsing the binomial identity $\\binom{m+n}{m+1}=\\frac{n}{m+1}\\binom{m+n}{m}$, we simplify\n$$\nG_{m,n}=\\left(1-\\frac{n}{m+1}\\right)\\binom{m+n}{m}=\\frac{m-n+1}{m+1}\\binom{m+n}{m}.\n$$\nThus the probability of never going negative is\n$$\n\\mathbb{P}(F_{m,n})=\\frac{G_{m,n}}{\\binom{m+n}{m}}=\\frac{m-n+1}{m+1}.\n$$\nSubstituting $m=a-1$ and $n=b$ gives\n$$\n\\mathbb{P}(F_{a-1,b})=\\frac{(a-1)-b+1}{(a-1)+1}=\\frac{a-b}{a}.\n$$\nFinally,\n$$\n\\mathbb{P}(E)=\\frac{a}{a+b}\\cdot\\frac{a-b}{a}=\\frac{a-b}{a+b}.\n$$\nThis is the desired closed-form expression.", "answer": "$$\\boxed{\\frac{a-b}{a+b}}$$", "id": "1905140"}]}