{"hands_on_practices": [{"introduction": "The concept of a local isometry formalizes the idea of two Riemannian manifolds being 'locally identical' from a geometric perspective. This exercise takes you from the foundational definition of an isometry—a map that preserves the metric tensor—to a concrete system of partial differential equations [@problem_id:3073024]. By deriving this system and its infinitesimal version (the Killing equation), you will build a bridge between abstract definitions and the analytical tools used to study them. The final part demonstrates a profound consequence: local isometries must preserve local invariants like curvature, providing a powerful test for whether two spaces can be locally isometric.", "problem": "Let $U \\subset \\mathbb{R}^{n}$ be an open set with local coordinates $x^{1},\\dots,x^{n}$ and let $V \\subset \\mathbb{R}^{n}$ be an open set with local coordinates $y^{1},\\dots,y^{n}$. Consider two Riemannian metrics written in local coordinates as $g = g_{ij}(x)\\,dx^{i} \\otimes dx^{j}$ on $U$ and $h = h_{\\alpha\\beta}(y)\\,dy^{\\alpha} \\otimes dy^{\\beta}$ on $V$. A smooth map $\\varphi:U \\to V$ is a local isometry if, by definition, the pullback satisfies $\\varphi^{*}h = g$ on $U$.\n\n1. Using only the definition of pullback and the tensorial transformation rule, derive the coordinate expression of the system of Partial Differential Equations (PDE) that characterizes local isometries $\\varphi$, written entirely in terms of the component functions $\\varphi^{\\alpha}(x)$ and the metric coefficients $g_{ij}(x)$ and $h_{\\alpha\\beta}(y)$. Explain why this system is overdetermined by comparing the number of scalar equations to the number of scalar unknown functions.\n\n2. Now specialize to the case $h=g$ and consider a one-parameter family of diffeomorphisms $\\varphi_{t}$ with $\\varphi_{0}=\\mathrm{id}$ and velocity vector field $X = \\left.\\frac{d}{dt}\\right|_{t=0}\\varphi_{t}$. Linearize the system from part 1 at $t=0$ to obtain the infinitesimal isometry condition, known as the Killing equation, expressed in terms of the Levi-Civita connection $\\nabla$ of $g$.\n\n3. Apply your results to the following concrete situation in dimension $n=2$. On $U \\subset \\mathbb{R}^{2}$ with standard coordinates $(x,y)$, let $g = dx^{2} + dy^{2}$ be the Euclidean metric and let $h = \\exp\\!\\big(2 f(x,y)\\big)\\,\\big(dx^{2} + dy^{2}\\big)$ where $f(x,y) = a x^{2} + b x y + c y^{2}$ with constants $a$, $b$, $c \\in \\mathbb{R}$. Assume there exists a local isometry $\\varphi:U \\to U$ with $\\varphi(0,0)=(0,0)$ and $D\\varphi(0,0) = I$. Using the overdetermined system from part 1 together with the fact that Gaussian curvature is a local isometry invariant, determine the exact value of $a+c$. Provide your final result as a single exact number or a simplified closed-form expression with no units.", "solution": "This problem is divided into three parts. I will address each sequentially after validating the problem statement.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n-   $U, V \\subset \\mathbb{R}^{n}$ are open sets with coordinates $(x^{1},\\dots,x^{n})$ and $(y^{1},\\dots,y^{n})$, respectively.\n-   A Riemannian metric $g = g_{ij}(x)\\,dx^{i} \\otimes dx^{j}$ is on $U$.\n-   A Riemannian metric $h = h_{\\alpha\\beta}(y)\\,dy^{\\alpha} \\otimes dy^{\\beta}$ is on $V$.\n-   A smooth map $\\varphi: U \\to V$ is a local isometry if its pullback satisfies $\\varphi^{*}h = g$.\n-   **Part 2:** $h=g$, $\\varphi_{t}$ is a one-parameter family of diffeomorphisms with $\\varphi_{0}=\\mathrm{id}$, and the velocity vector field is $X = \\left.\\frac{d}{dt}\\right|_{t=0}\\varphi_{t}$.\n-   **Part 3:** $n=2$, coordinates $(x,y)$. The metric on $U \\subset \\mathbb{R}^2$ is $g = dx^{2} + dy^{2}$ (Euclidean). The map is $\\varphi: U \\to U$ (so $V=U$). The metric on the target is $h = \\exp(2 f(x,y))(dx^{2} + dy^{2})$, where this should be interpreted as being evaluated in the coordinates of the target space. Let the map be $\\varphi(x_1, x_2) = (y_1, y_2)$. Then $g=\\delta_{ij} dx^i dx^j$ and $h = \\exp(2f(y_1, y_2)) \\delta_{\\alpha\\beta} dy^\\alpha dy^\\beta$. The function is $f(x,y) = a x^{2} + b x y + c y^{2}$ for constants $a, b, c \\in \\mathbb{R}$. A local isometry $\\varphi$ is assumed to exist with $\\varphi(0,0)=(0,0)$ and its derivative at the origin $D\\varphi(0,0) = I$ (the identity matrix).\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is mathematically well-defined and situated within the standard framework of Riemannian geometry.\n-   **Scientifically Grounded:** All definitions (pullback, local isometry, Levi-Civita connection, Killing field, Gaussian curvature) are standard. The premises are mathematically sound.\n-   **Well-Posed:** Each part requests a standard derivation or a calculation based on a clear set of assumptions. The existence of the local isometry in Part 3 is a given premise, from which consequences are to be derived. The problem appears to lead to a unique, well-defined answer for $a+c$.\n-   **Objective:** The language is precise and unbiased.\nThe problem is not unsound, non-formalizable, incomplete, contradictory, unrealistic, or ill-posed. The structure is logical. The request in Part 3 to use both the PDE system and the invariance of curvature is a pedagogical directive to connect the component-level analysis with the high-level geometric concept, rather than a flaw.\n\n**Step 3: Verdict and Action**\nThe problem is **valid**. I will proceed with a full solution.\n\n### Part 1: PDE System for Local Isometries\n\nA map $\\varphi: (U,g) \\to (V,h)$ is a local isometry if the pullback of the metric $h$ is the metric $g$, i.e., $\\varphi^*h = g$. Let the map $\\varphi$ be given in local coordinates by functions $y^{\\alpha} = \\varphi^{\\alpha}(x^{1}, \\dots, x^{n})$.\n\nThe metric tensors are $g = g_{ij}(x) dx^i \\otimes dx^j$ and $h=h_{\\alpha\\beta}(y) dy^\\alpha \\otimes dy^\\beta$. The pullback $\\varphi^*h$ is a tensor on $U$. Its components in the $x$-coordinates are given by the tensorial transformation rule:\n$$\n(\\varphi^*h)_{ij}(x) = h_{\\alpha\\beta}(\\varphi(x)) \\frac{\\partial \\varphi^{\\alpha}}{\\partial x^i} \\frac{\\partial \\varphi^{\\beta}}{\\partial x^j}\n$$\nHere, Einstein summation convention is used for repeated Greek indices $\\alpha, \\beta$ from $1$ to $n$. The condition $\\varphi^*h=g$ means that the components must be equal for all $i,j$:\n$$\ng_{ij}(x) = h_{\\alpha\\beta}(\\varphi(x)) \\frac{\\partial \\varphi^{\\alpha}}{\\partial x^i} \\frac{\\partial \\varphi^{\\beta}}{\\partial x^j}\n$$\nThis is the system of partial differential equations (PDEs) that a local isometry must satisfy. The unknowns are the $n$ scalar functions $\\varphi^{\\alpha}(x^1, \\dots, x^n)$. The metric components $g_{ij}(x)$ and $h_{\\alpha\\beta}(y)$ are given functions.\n\nTo determine if the system is overdetermined, we compare the number of unknown functions to the number of scalar equations.\n-   Number of unknown functions: There are $n$ functions, $\\varphi^1, \\dots, \\varphi^n$.\n-   Number of scalar equations: The equation relates symmetric $n \\times n$ matrices, i.e., $(g_{ij}) = ((\\varphi^*h)_{ij})$. A symmetric $n \\times n$ matrix has $\\frac{n(n+1)}{2}$ independent components. Thus, there are $\\frac{n(n+1)}{2}$ scalar equations.\n\nThe system is overdetermined if the number of equations is greater than the number of unknowns:\n$$\n\\frac{n(n+1)}{2} > n\n$$\nThis inequality holds if $n+1 > 2$, which means $n > 1$. For $n=1$, we have $1$ equation and $1$ unknown, so the system is determined. For any dimension $n \\ge 2$, the system is overdetermined. For instance, in dimension $n=2$, we have $3$ equations for $2$ unknown functions. In dimension $n=3$, we have $6$ equations for $3$ unknown functions.\n\n### Part 2: The Killing Equation\n\nWe now specialize to the case where the manifolds and metrics are the same, i.e., $(U, g) = (V, h)$, and consider a one-parameter family of isometries $\\varphi_t: U \\to U$ with $\\varphi_0 = \\mathrm{id}$. The condition for each $\\varphi_t$ to be an isometry is:\n$$\ng_{ij}(x) = g_{\\alpha\\beta}(\\varphi_t(x)) \\frac{\\partial \\varphi_t^{\\alpha}}{\\partial x^i} \\frac{\\partial \\varphi_t^{\\beta}}{\\partial x^j}\n$$\nSince this holds for all $t$ in a neighborhood of $0$, its derivative with respect to $t$ must be zero. We take the derivative of the right-hand side and evaluate at $t=0$. Let $X$ be the vector field generating the flow, $X^\\gamma(x) = \\left.\\frac{d}{dt}\\right|_{t=0} \\varphi_t^\\gamma(x)$. At $t=0$, we have $\\varphi_0(x) = x$, so $\\varphi_0^\\alpha(x) = x^\\alpha$, and $\\frac{\\partial \\varphi_0^\\alpha}{\\partial x^i} = \\delta^\\alpha_i$.\nUsing the product rule for differentiation with respect to $t$:\n$$\n0 = \\left[ \\frac{d}{dt} g_{\\alpha\\beta}(\\varphi_t(x)) \\right]_{t=0} \\frac{\\partial \\varphi_0^{\\alpha}}{\\partial x^i} \\frac{\\partial \\varphi_0^{\\beta}}{\\partial x^j} + g_{\\alpha\\beta}(\\varphi_0(x)) \\left[ \\frac{d}{dt} \\frac{\\partial \\varphi_t^{\\alpha}}{\\partial x^i} \\right]_{t=0} \\frac{\\partial \\varphi_0^{\\beta}}{\\partial x^j} + g_{\\alpha\\beta}(\\varphi_0(x)) \\frac{\\partial \\varphi_0^{\\alpha}}{\\partial x^i} \\left[ \\frac{d}{dt} \\frac{\\partial \\varphi_t^{\\beta}}{\\partial x^j} \\right]_{t=0}\n$$\nLet's evaluate each term:\n1.  Using the chain rule: $\\frac{d}{dt} g_{\\alpha\\beta}(\\varphi_t(x)) = \\frac{\\partial g_{\\alpha\\beta}}{\\partial x^\\gamma}(\\varphi_t(x)) \\frac{d\\varphi_t^\\gamma}{dt}$. At $t=0$, this becomes $\\frac{\\partial g_{\\alpha\\beta}}{\\partial x^\\gamma}(x) X^\\gamma$. The first term is thus $\\frac{\\partial g_{\\alpha\\beta}}{\\partial x^\\gamma}(x) X^\\gamma \\delta^\\alpha_i \\delta^\\beta_j = \\frac{\\partial g_{ij}}{\\partial x^\\gamma} X^\\gamma$.\n2.  Swapping derivatives: $\\frac{d}{dt} \\frac{\\partial \\varphi_t^{\\alpha}}{\\partial x^i} = \\frac{\\partial}{\\partial x^i} \\frac{d\\varphi_t^\\alpha}{dt}$. At $t=0$, this is $\\frac{\\partial X^\\alpha}{\\partial x^i}$. The second term is $g_{\\alpha\\beta}(x) \\frac{\\partial X^\\alpha}{\\partial x^i} \\delta^\\beta_j = g_{j\\alpha}(x) \\frac{\\partial X^\\alpha}{\\partial x^i}$.\n3.  Similarly, the third term is $g_{\\alpha\\beta}(x) \\delta^\\alpha_i \\frac{\\partial X^\\beta}{\\partial x^j} = g_{i\\beta}(x) \\frac{\\partial X^\\beta}{\\partial x^j}$.\n\nSumming the terms and relabeling dummy indices:\n$$\n0 = \\frac{\\partial g_{ij}}{\\partial x^k} X^k + g_{jk} \\frac{\\partial X^k}{\\partial x^i} + g_{ik} \\frac{\\partial X^k}{\\partial x^j}\n$$\nThis expression is the component form of the Lie derivative of the metric $g$ with respect to the vector field $X$, $(\\mathcal{L}_X g)_{ij}$. So the condition is $\\mathcal{L}_X g = 0$.\nTo express this in terms of the Levi-Civita connection $\\nabla$, we use the identity $(\\mathcal{L}_X g)_{ij} = \\nabla_i X_j + \\nabla_j X_i$, where $X_j = g_{jk} X^k$ are the covariant components of $X$.\nThe derivation is as follows:\n$$\n\\nabla_i X_j + \\nabla_j X_i = \\nabla_i(g_{jk}X^k) + \\nabla_j(g_{ik}X^k)\n$$\nUsing the product rule and metric compatibility ($\\nabla g = 0$):\n$$\n= ( \\nabla_i g_{jk} ) X^k + g_{jk} \\nabla_i X^k + ( \\nabla_j g_{ik} ) X^k + g_{ik} \\nabla_j X^k\n$$\n$$\n= g_{jk} \\nabla_i X^k + g_{ik} \\nabla_j X^k\n$$\nIn coordinates, $\\nabla_i X^k = \\partial_i X^k + \\Gamma^k_{i\\ell} X^\\ell$. So,\n$$\n= g_{jk}(\\partial_i X^k + \\Gamma^k_{i\\ell} X^\\ell) + g_{ik}(\\partial_j X^k + \\Gamma^k_{j\\ell} X^\\ell)\n$$\n$$\n= g_{jk}\\partial_i X^k + g_{ik}\\partial_j X^k + (g_{jk}\\Gamma^k_{i\\ell} + g_{ik}\\Gamma^k_{j\\ell}) X^\\ell\n$$\nThe Christoffel symbols satisfy the relation $g_{jk}\\Gamma^k_{i\\ell} + g_{ik}\\Gamma^k_{j\\ell} = \\partial_\\ell g_{ij}$. So the expression becomes:\n$$\n= g_{jk}\\partial_i X^k + g_{ik}\\partial_j X^k + (\\partial_\\ell g_{ij}) X^\\ell = (\\mathcal{L}_X g)_{ij}\n$$\nThus, the infinitesimal isometry condition $\\mathcal{L}_X g = 0$ is equivalent to the Killing equation:\n$$\n\\nabla_i X_j + \\nabla_j X_i = 0\n$$\n\n### Part 3: Application to a 2D Case\n\nWe are given two metrics on subsets of $\\mathbb{R}^2$: the Euclidean metric $g=dx^2+dy^2$ and a conformally flat metric $h = \\exp(2 f(x,y)) (dx^2+dy^2)$, where $f(x,y) = ax^2 + bxy + cy^2$. We are told there exists a local isometry $\\varphi: (U,g) \\to (U,h)$.\n\nA fundamental theorem of Riemannian geometry states that local isometries preserve the Riemann curvature tensor. Consequently, all scalar quantities derived from it, such as the scalar curvature and, in dimension $2$, the Gaussian curvature, must be preserved. If $\\varphi$ is a local isometry, then for any point $p \\in U$, the Gaussian curvature of $g$ at $p$, denoted $K_g(p)$, must equal the Gaussian curvature of $h$ at the image point $\\varphi(p)$, denoted $K_h(\\varphi(p))$.\n$$\nK_g(p) = K_h(\\varphi(p))\n$$\nFirst, we compute the Gaussian curvature of the metric $g = dx^2+dy^2$. This is the standard flat metric on the Euclidean plane. Its Gaussian curvature is zero everywhere.\n$$\nK_g = 0\n$$\nTherefore, we must have $K_h(\\varphi(p)) = 0$ for all $p \\in U$. Since $\\varphi$ is a local isometry, it is a local diffeomorphism, meaning its image $\\varphi(U)$ is an open set. This implies that the Gaussian curvature $K_h$ must be zero on an open set. Since $f$ is a polynomial, the metric $h$ is analytic, and thus $K_h$ must be zero everywhere in its domain of definition.\n\nNext, we compute the Gaussian curvature $K_h$ for the metric $h = \\lambda(x,y)(dx^2+dy^2)$ where the conformal factor is $\\lambda(x,y) = \\exp(2f(x,y))$. The general formula for the Gaussian curvature of such a metric is:\n$$\nK_h = -\\frac{1}{2\\lambda} \\Delta (\\ln \\lambda)\n$$\nwhere $\\Delta = \\frac{\\partial^2}{\\partial x^2} + \\frac{\\partial^2}{\\partial y^2}$ is the standard Laplacian.\nIn our case, $\\ln \\lambda = \\ln(\\exp(2f(x,y))) = 2f(x,y)$. So,\n$$\nK_h = -\\frac{1}{2\\exp(2f)} \\Delta (2f) = -\\frac{1}{\\exp(2f)} \\Delta f\n$$\nThe condition $K_h=0$ implies that we must have $\\Delta f = 0$, since $\\exp(-2f)$ is never zero.\nNow we compute the Laplacian of $f(x,y) = ax^2+bxy+cy^2$:\n-   $\\frac{\\partial f}{\\partial x} = 2ax+by$\n-   $\\frac{\\partial^2 f}{\\partial x^2} = 2a$\n-   $\\frac{\\partial f}{\\partial y} = bx+2cy$\n-   $\\frac{\\partial^2 f}{\\partial y^2} = 2c$\n\nThe Laplacian is $\\Delta f = \\frac{\\partial^2 f}{\\partial x^2} + \\frac{\\partial^2 f}{\\partial y^2} = 2a+2c = 2(a+c)$.\nThe condition $\\Delta f = 0$ thus leads to:\n$$\n2(a+c) = 0 \\implies a+c = 0\n$$\nThis result stems directly from the invariance of Gaussian curvature. The problem provides additional information: $\\varphi(0,0)=(0,0)$ and $D\\varphi(0,0)=I$, and directs us to use the PDE system from Part 1. This extra information is not superfluous; it confirms the consistency of the setup and highlights the mechanism through which curvature invariance is enforced at the level of the PDE system. By expanding the isometry equations from Part 1 in a Taylor series around the origin, one can show that the given conditions on $\\varphi$ force the metric components $g_{ij}$ and $(\\varphi^*h)_{ij}$ and their first derivatives to match at the origin. The condition that their second derivatives must also match is equivalent to the condition that the curvature tensors $R_g$ and $R_h$ are equal at the origin. Since $R_g=0$, we must have $R_h(0)=0$. For a 2D conformally flat metric, this is equivalent to $K_h(0)=0$, which yields $2(a+c)=0$. The curvature invariance argument is a powerful encapsulation of this more detailed derivative-by-derivative analysis.", "answer": "$$\n\\boxed{0}\n$$", "id": "3073024"}, {"introduction": "The continuous symmetries of a geometric space are described by its group of isometries, and the infinitesimal version of these symmetries is captured by Killing vector fields. This quintessential practice invites you to compute these very fields for one of the most fundamental symmetric spaces: the two-sphere $S^2$ [@problem_id:3073019]. By calculating the vector fields generated by rotations and verifying their commutation relations, you will gain hands-on experience with the deep connection between the Lie group of isometries, $\\mathrm{SO}(3)$, and its Lie algebra, $\\mathfrak{so}(3)$, as realized on the manifold itself.", "problem": "Let $\\left(S^{2},g\\right)$ be the unit $2$-sphere with the round metric written in geodesic polar coordinates $(r,\\theta)$ as $g=dr^{2}+\\sin^{2}r\\,d\\theta^{2}$, where $r\\in(0,\\pi)$ is the colatitude and $\\theta\\in(0,2\\pi)$ is the longitude. Consider the canonical embedding $\\iota:S^{2}\\hookrightarrow\\mathbb{R}^{3}$, $\\iota(r,\\theta)=\\left(\\sin r\\cos\\theta,\\sin r\\sin\\theta,\\cos r\\right)$, so that $g$ is the metric induced from the Euclidean metric on $\\mathbb{R}^{3}$. The orthogonal group $\\mathrm{O}(3)$ acts by isometries on $S^{2}$, and its connected component $\\mathrm{SO}(3)$ is the special orthogonal group (SO(3)), whose Lie algebra is $\\mathfrak{so}(3)$, the special orthogonal Lie algebra ($\\mathfrak{so}(3)$).\n\nUsing only the fundamental definitions that Killing vector fields are infinitesimal generators of one-parameter groups of isometries and that rotations of $\\mathbb{R}^{3}$ restrict to isometries of $S^{2}$, do the following:\n\n1) Derive the three linearly independent Killing vector fields $X_{x},X_{y},X_{z}$ on $S^{2}$ generated by rotations about the $x$-, $y$-, and $z$-axes, respectively. Express each of $X_{x},X_{y},X_{z}$ in the coordinate basis $\\{\\partial_{r},\\partial_{\\theta}\\}$.\n\n2) Compute all Lie brackets $[X_{i},X_{j}]$ and verify the $\\mathfrak{so}(3)$ commutation relations, identifying the structure constants explicitly and explaining any sign convention that appears when passing from the matrix commutator in $\\mathfrak{so}(3)$ to the Lie bracket of vector fields on $S^{2}$.\n\n3) Let $I(r,\\theta)=g\\!\\left(X_{x},X_{x}\\right)+g\\!\\left(X_{y},X_{y}\\right)+g\\!\\left(X_{z},X_{z}\\right)$ denote the pointwise sum of squared norms of these three Killing fields. Prove that $I(r,\\theta)$ is constant on $S^{2}$ and compute its exact value. Report this value as your final answer. Express the final answer as an exact number (no rounding).", "solution": "The problem asks us to investigate the Killing vector fields on the unit $2$-sphere $S^2$ corresponding to the action of the rotation group $\\mathrm{SO}(3)$, compute their commutation relations, and evaluate a specific invariant quantity constructed from their norms. We will proceed in three parts as specified.\n\nThe sphere is described by the metric $g=dr^{2}+\\sin^{2}r\\,d\\theta^{2}$ in geodesic polar coordinates $(r,\\theta)$, and the embedding into $\\mathbb{R}^3$ is given by $p(r,\\theta) = (\\sin r\\cos\\theta, \\sin r\\sin\\theta, \\cos r)$.\n\n### 1. Derivation of the Killing Vector Fields\n\nA Killing vector field is the infinitesimal generator of a one-parameter group of isometries. The rotations about the $x, y, z$ axes in $\\mathbb{R}^3$ form one-parameter groups of isometries of $S^2$. The generators of these rotations in the Lie algebra $\\mathfrak{so}(3)$ are given by the matrices:\n$$\nL_x = \\begin{pmatrix} 0 & 0 & 0 \\\\ 0 & 0 & -1 \\\\ 0 & 1 & 0 \\end{pmatrix}, \\quad L_y = \\begin{pmatrix} 0 & 0 & 1 \\\\ 0 & 0 & 0 \\\\ -1 & 0 & 0 \\end{pmatrix}, \\quad L_z = \\begin{pmatrix} 0 & -1 & 0 \\\\ 1 & 0 & 0 \\\\ 0 & 0 & 0 \\end{pmatrix}\n$$\nThe one-parameter group of isometries on $\\mathbb{R}^3$ generated by $L_k$ (for $k \\in \\{x,y,z\\}$) is $\\Phi_t^k(P) = \\exp(t L_k) P$. This action restricts to $S^2$. The corresponding Killing vector field $X_k$ at a point $p \\in S^2$ is given by the time derivative of the flow at $t=0$:\n$$\nX_k|_p = \\frac{d}{dt}\\bigg|_{t=0} \\Phi_t^k(p) = L_k p\n$$\nThe resulting vector $X_k|_p$ is a vector in $\\mathbb{R}^3$ tangent to the sphere at $p$. We need to express this vector in the local coordinate basis $\\{\\partial_r, \\partial_\\theta\\}$. The basis vectors are tangent to the sphere and are computed by differentiating the embedding $p(r,\\theta)$:\n$$\n\\partial_r = \\frac{\\partial p}{\\partial r} = (\\cos r \\cos\\theta, \\cos r \\sin\\theta, -\\sin r)\n$$\n$$\n\\partial_\\theta = \\frac{\\partial p}{\\partial \\theta} = (-\\sin r \\sin\\theta, \\sin r \\cos\\theta, 0)\n$$\nThe metric components in this basis are $g(\\partial_r, \\partial_r) = \\partial_r \\cdot \\partial_r = 1$, $g(\\partial_\\theta, \\partial_\\theta) = \\partial_\\theta \\cdot \\partial_\\theta = \\sin^2 r$, and $g(\\partial_r, \\partial_\\theta) = \\partial_r \\cdot \\partial_\\theta = 0$. So $\\{\\partial_r, \\partial_\\theta\\}$ is an orthogonal basis.\nLet $V_k = L_k p$. We want to find coefficients $A_k(r,\\theta)$ and $B_k(r,\\theta)$ such that $X_k = A_k \\partial_r + B_k \\partial_\\theta$. Using the orthogonality of the basis, the components are found by projection:\n$$\nA_k = \\frac{g(V_k, \\partial_r)}{g(\\partial_r, \\partial_r)} = V_k \\cdot \\partial_r \\quad \\text{and} \\quad B_k = \\frac{g(V_k, \\partial_\\theta)}{g(\\partial_\\theta, \\partial_\\theta)} = \\frac{V_k \\cdot \\partial_\\theta}{\\sin^2 r}\n$$\n\nLet's compute the vector fields:\n\n**a) Rotation about the z-axis ($X_z$):**\n$$\nV_z = L_z p = \\begin{pmatrix} 0 & -1 & 0 \\\\ 1 & 0 & 0 \\\\ 0 & 0 & 0 \\end{pmatrix} \\begin{pmatrix} \\sin r \\cos\\theta \\\\ \\sin r \\sin\\theta \\\\ \\cos r \\end{pmatrix} = \\begin{pmatrix} -\\sin r \\sin\\theta \\\\ \\sin r \\cos\\theta \\\\ 0 \\end{pmatrix}\n$$\nWe observe that $V_z$ is precisely the coordinate vector field $\\partial_\\theta$. So, $A_z = 0$ and $B_z=1$.\n$$\nX_z = \\partial_\\theta\n$$\n\n**b) Rotation about the x-axis ($X_x$):**\n$$\nV_x = L_x p = \\begin{pmatrix} 0 & 0 & 0 \\\\ 0 & 0 & -1 \\\\ 0 & 1 & 0 \\end{pmatrix} \\begin{pmatrix} \\sin r \\cos\\theta \\\\ \\sin r \\sin\\theta \\\\ \\cos r \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ -\\cos r \\\\ \\sin r \\sin\\theta \\end{pmatrix}\n$$\nThe components are:\n$$\nA_x = V_x \\cdot \\partial_r = (0, -\\cos r, \\sin r \\sin\\theta) \\cdot (\\cos r \\cos\\theta, \\cos r \\sin\\theta, -\\sin r) = -\\cos^2 r \\sin\\theta - \\sin^2 r \\sin\\theta = -\\sin\\theta\n$$\n$$\nB_x \\sin^2 r = V_x \\cdot \\partial_\\theta = (0, -\\cos r, \\sin r \\sin\\theta) \\cdot (-\\sin r \\sin\\theta, \\sin r \\cos\\theta, 0) = -\\cos r \\sin r \\cos\\theta\n$$\nThus, $B_x = -\\frac{\\sin r \\cos r \\cos\\theta}{\\sin^2 r} = -\\cot r \\cos\\theta$.\nThe Killing field is:\n$$\nX_x = -\\sin\\theta \\, \\partial_r - \\cot r \\cos\\theta \\, \\partial_\\theta\n$$\n\n**c) Rotation about the y-axis ($X_y$):**\n$$\nV_y = L_y p = \\begin{pmatrix} 0 & 0 & 1 \\\\ 0 & 0 & 0 \\\\ -1 & 0 & 0 \\end{pmatrix} \\begin{pmatrix} \\sin r \\cos\\theta \\\\ \\sin r \\sin\\theta \\\\ \\cos r \\end{pmatrix} = \\begin{pmatrix} \\cos r \\\\ 0 \\\\ -\\sin r \\cos\\theta \\end{pmatrix}\n$$\nThe components are:\n$$\nA_y = V_y \\cdot \\partial_r = (\\cos r, 0, -\\sin r \\cos\\theta) \\cdot (\\cos r \\cos\\theta, \\cos r \\sin\\theta, -\\sin r) = \\cos^2 r \\cos\\theta + \\sin^2 r \\cos\\theta = \\cos\\theta\n$$\n$$\nB_y \\sin^2 r = V_y \\cdot \\partial_\\theta = (\\cos r, 0, -\\sin r \\cos\\theta) \\cdot (-\\sin r \\sin\\theta, \\sin r \\cos\\theta, 0) = -\\sin r \\cos r \\sin\\theta\n$$\nThus, $B_y = -\\frac{\\sin r \\cos r \\sin\\theta}{\\sin^2 r} = -\\cot r \\sin\\theta$.\nThe Killing field is:\n$$\nX_y = \\cos\\theta \\, \\partial_r - \\cot r \\sin\\theta \\, \\partial_\\theta\n$$\n\n### 2. Lie Brackets and Commutation Relations\n\nThe Lie bracket of two vector fields $X = A\\partial_r + B\\partial_\\theta$ and $Y=C\\partial_r + D\\partial_\\theta$ on a coordinate chart is $[X,Y] = (X(C) - Y(A))\\partial_r + (X(D) - Y(B))\\partial_\\theta$, since $[\\partial_r, \\partial_\\theta]=0$.\n\n**a) $[X_x, X_y]$:**\nLet $X=X_x$ and $Y=X_y$. $A=-\\sin\\theta, B=-\\cot r \\cos\\theta$ and $C=\\cos\\theta, D=-\\cot r \\sin\\theta$.\nr-component: $X_x(C) - X_y(A) = (-\\cot r \\cos\\theta)(-\\sin\\theta) - (-\\cot r \\sin\\theta)(-\\cos\\theta) = \\cot r \\cos\\theta \\sin\\theta - \\cot r \\sin\\theta \\cos\\theta = 0$.\n$\\theta$-component: $X_x(D) - X_y(B)$.\n$X_x(D) = (-\\sin\\theta)\\partial_r(-\\cot r \\sin\\theta) + (-\\cot r\\cos\\theta)\\partial_\\theta(-\\cot r\\sin\\theta) = (-\\sin\\theta)(\\csc^2 r \\sin\\theta) + (-\\cot r\\cos\\theta)(-\\cot r\\cos\\theta) = -\\csc^2 r \\sin^2\\theta + \\cot^2 r \\cos^2\\theta$.\n$X_y(B) = (\\cos\\theta)\\partial_r(-\\cot r \\cos\\theta) + (-\\cot r\\sin\\theta)\\partial_\\theta(-\\cot r\\cos\\theta) = (\\cos\\theta)(\\csc^2 r \\cos\\theta) + (-\\cot r\\sin\\theta)(\\cot r\\sin\\theta) = \\csc^2 r \\cos^2\\theta - \\cot^2 r \\sin^2\\theta$.\nThe difference is: $-\\csc^2 r \\sin^2\\theta + \\cot^2 r \\cos^2\\theta - \\csc^2 r \\cos^2\\theta + \\cot^2 r \\sin^2\\theta = -(\\csc^2 r - \\cot^2 r)(\\sin^2\\theta+\\cos^2\\theta) = -(1)(1)=-1$.\nSo, $[X_x, X_y] = -1 \\cdot \\partial_\\theta = -X_z$.\n\n**b) $[X_y, X_z]$:**\nLet $X=X_y$ and $Y=X_z$. $A=\\cos\\theta, B=-\\cot r \\sin\\theta$ and $C=0, D=1$.\nr-component: $X_y(C) - X_z(A) = 0 - \\partial_\\theta(\\cos\\theta) = \\sin\\theta$.\n$\\theta$-component: $X_y(D) - X_z(B) = 0 - \\partial_\\theta(-\\cot r \\sin\\theta) = \\cot r \\cos\\theta$.\nSo, $[X_y, X_z] = \\sin\\theta \\, \\partial_r + \\cot r \\cos\\theta \\, \\partial_\\theta = -(-\\sin\\theta \\, \\partial_r - \\cot r \\cos\\theta \\, \\partial_\\theta) = -X_x$.\n\n**c) $[X_z, X_x]$:**\nLet $X=X_z$ and $Y=X_x$. $A=0, B=1$ and $C=-\\sin\\theta, D=-\\cot r \\cos\\theta$.\nr-component: $X_z(C) - X_x(A) = \\partial_\\theta(-\\sin\\theta) - 0 = -\\cos\\theta$.\n$\\theta$-component: $X_z(D) - X_x(B) = \\partial_\\theta(-\\cot r \\cos\\theta) - 0 = \\cot r \\sin\\theta$.\nSo, $[X_z, X_x] = -\\cos\\theta \\, \\partial_r + \\cot r \\sin\\theta \\, \\partial_\\theta = -(\\cos\\theta \\, \\partial_r - \\cot r \\sin\\theta \\, \\partial_\\theta) = -X_y$.\n\nThe commutation relations are:\n$$\n[X_x, X_y] = -X_z, \\quad [X_y, X_z] = -X_x, \\quad [X_z, X_x] = -X_y\n$$\nThese can be summarized as $[X_i, X_j] = -\\epsilon_{ijk} X_k$ where $i,j,k \\in \\{x,y,z\\}$ index cyclically and $\\epsilon_{ijk}$ is the Levi-Civita symbol. The structure constants for the basis $\\{X_x, X_y, X_z\\}$ are $c^k_{ij} = -\\epsilon_{ijk}$.\n\nThe Lie algebra $\\mathfrak{so}(3)$ with basis $\\{L_x, L_y, L_z\\}$ satisfies $[L_i, L_j] = \\epsilon_{ijk}L_k$. The map $\\phi: \\mathfrak{so}(3) \\to \\mathfrak{X}(S^2)$ given by $L_k \\mapsto X_k$ is a Lie algebra anti-homomorphism, satisfying $[\\phi(L_i), \\phi(L_j)] = -\\phi([L_i,L_j])$. Our result $[X_i, X_j] = -X_k$ (for cyclic $i,j,k$) is consistent with $[L_i, L_j] = L_k$, confirming this anti-isomorphism. This sign convention is standard for Killing vector fields induced by a left group action on a manifold.\n\n### 3. Computation of the Invariant $I(r,\\theta)$\n\nThe quantity $I(r,\\theta)$ is the sum of the squared norms of the three Killing fields:\n$$\nI(r,\\theta)=g(X_x,X_x)+g(X_y,X_y)+g(X_z,X_z)\n$$\nFor a vector field $X = A \\partial_r + B \\partial_\\theta$, its squared norm is $g(X,X) = A^2 g(\\partial_r, \\partial_r) + B^2 g(\\partial_\\theta, \\partial_\\theta) = A^2 + B^2 \\sin^2 r$.\n\nLet's compute the norm of each field:\n*   $g(X_z, X_z) = g(\\partial_\\theta, \\partial_\\theta) = \\sin^2 r$.\n*   $g(X_x, X_x) = (-\\sin\\theta)^2 + (-\\cot r \\cos\\theta)^2 \\sin^2 r = \\sin^2\\theta + \\frac{\\cos^2 r}{\\sin^2 r}\\cos^2\\theta \\sin^2 r = \\sin^2\\theta + \\cos^2 r \\cos^2\\theta$.\n*   $g(X_y, X_y) = (\\cos\\theta)^2 + (-\\cot r \\sin\\theta)^2 \\sin^2 r = \\cos^2\\theta + \\frac{\\cos^2 r}{\\sin^2 r}\\sin^2\\theta \\sin^2 r = \\cos^2\\theta + \\cos^2 r \\sin^2\\theta$.\n\nNow we sum these quantities:\n$$\nI(r,\\theta) = (\\sin^2\\theta + \\cos^2 r \\cos^2\\theta) + (\\cos^2\\theta + \\cos^2 r \\sin^2\\theta) + (\\sin^2 r)\n$$\nGrouping terms:\n$$\nI(r,\\theta) = (\\sin^2\\theta + \\cos^2\\theta) + \\cos^2 r (\\cos^2\\theta + \\sin^2\\theta) + \\sin^2 r\n$$\nUsing the identity $\\sin^2\\phi + \\cos^2\\phi = 1$:\n$$\nI(r,\\theta) = 1 + \\cos^2 r (1) + \\sin^2 r = 1 + (\\cos^2 r + \\sin^2 r) = 1 + 1 = 2\n$$\nThe value of $I(r,\\theta)$ is $2$, which is independent of the coordinates $(r, \\theta)$. This proves that $I(r,\\theta)$ is a constant function on the sphere $S^2$. The exact value of this constant is $2$.", "answer": "$$\n\\boxed{2}\n$$", "id": "3073019"}, {"introduction": "While many introductory examples focus on highly symmetric spaces, most Riemannian manifolds have no non-trivial isometries. This problem challenges you to think like a geometer and engineer a metric with a prescribed, minimal set of symmetries [@problem_id:3073007]. By analyzing how different functional forms for the metric's components can either permit or break potential symmetries, you will develop a deeper intuition for the role of local isometry invariants. This practice illuminates how the isometry group is not just a property to be discovered, but a feature that can be controlled through careful design of the metric tensor.", "problem": "Let $\\mathbb{R}^2$ carry coordinates $(x,y)$. A smooth map $\\varphi \\colon (\\mathbb{R}^2,g) \\to (\\mathbb{R}^2,g)$ is a Riemannian isometry if and only if $\\varphi$ is a diffeomorphism and $\\varphi^{*}g=g$. Denote by $\\sigma(x,y)=(x,-y)$ the reflection across the $x$-axis. Consider the following candidate Riemannian metrics $g$ on $\\mathbb{R}^2$:\n- A. $g_A = dx^2 + \\bigl(1+y^2\\bigr)\\,dy^2$.\n- B. $g_B = e^{2u(x,y)}\\,(dx^2+dy^2)$ where $u(x,y)=x^2 + y^2 + y^4 + \\varepsilon \\tanh(x)$ for a fixed constant $\\varepsilon$ with $0 < \\varepsilon < 1$.\n- C. $g_C = e^{2(x^2+y^4)}\\,(dx^2+dy^2)$.\n- D. $g_D = e^{2(x^2+y^2)}\\,(dx^2+dy^2)$.\n\nWhich choice yields a metric whose full isometry group consists precisely of the identity map and the reflection $\\sigma$? Justify your selection from first principles, using the definition of isometry and structural invariants of the metric such as its conformal class and symmetry properties of defining coefficient functions. Your reasoning should explain both why $\\sigma$ is an isometry and why no other diffeomorphism is. The Gaussian curvature and the conformal factor may be used as local isometry invariants, but do not assume any special symmetry unless it is derived from the data of the metric itself.\n\nChoose exactly one option:\n- A\n- B\n- C\n- D", "solution": "The user wants me to identify which of the four given Riemannian metrics on $\\mathbb{R}^2$ has an isometry group consisting precisely of the identity map, $\\text{Id}$, and the reflection across the $x$-axis, $\\sigma(x,y) = (x,-y)$.\n\nA map $\\varphi \\colon (\\mathbb{R}^2, g) \\to (\\mathbb{R}^2, g)$ is an isometry if it is a diffeomorphism and its pullback satisfies $\\varphi^*g = g$. The set of all such isometries forms a group, denoted $\\text{Isom}(\\mathbb{R}^2, g)$. We are looking for the metric $g$ such that $\\text{Isom}(\\mathbb{R}^2, g) = \\{\\text{Id}, \\sigma\\}$.\n\nLet's first establish the condition for $\\sigma$ to be an isometry. Let a metric be given in coordinates $(x,y)$ as $g = g_{xx} dx^2 + 2g_{xy} dx\\,dy + g_{yy} dy^2$. The map is $\\sigma(x,y) = (\\tilde{x}, \\tilde{y}) = (x, -y)$. The inverse is $\\sigma^{-1}(\\tilde{x}, \\tilde{y}) = (x,y) = (\\tilde{x}, -\\tilde{y})$. The pullback $\\sigma^*g$ is computed by substituting the expressions for the old coordinates in terms of the new ones.\nAn alternative, more direct method is to compute the components of the pullback metric tensor. The Jacobian matrix of $\\sigma$ is $d\\sigma = \\begin{pmatrix} 1 & 0 \\\\ 0 & -1 \\end{pmatrix}$.\nThe pullback metric $(\\sigma^*g)_{p}$ at a point $p=(x,y)$ has components given by $(d\\sigma)^T g_{\\sigma(p)} (d\\sigma)$.\n$$\n(\\sigma^* g) = \\begin{pmatrix} 1 & 0 \\\\ 0 & -1 \\end{pmatrix} \\begin{pmatrix} g_{xx}(x,-y) & g_{xy}(x,-y) \\\\ g_{xy}(x,-y) & g_{yy}(x,-y) \\end{pmatrix} \\begin{pmatrix} 1 & 0 \\\\ 0 & -1 \\end{pmatrix} = \\begin{pmatrix} g_{xx}(x,-y) & -g_{xy}(x,-y) \\\\ -g_{xy}(x,-y) & g_{yy}(x,-y) \\end{pmatrix}\n$$\nFor $\\sigma$ to be an isometry, we must have $\\sigma^*g = g$, which component-wise means:\n$g_{xx}(x,y) = g_{xx}(x,-y)$ (i.e., $g_{xx}$ is an even function of $y$)\n$g_{yy}(x,y) = g_{yy}(x,-y)$ (i.e., $g_{yy}$ is an even function of $y$)\n$g_{xy}(x,y) = -g_{xy}(x,-y)$ (i.e., $g_{xy}$ is an odd function of $y$)\n\nAll four candidate metrics are of the form $g = g_{xx} dx^2 + g_{yy} dy^2$ with $g_{xy}=0$. For such metrics, the condition for $\\sigma$ to be an isometry simplifies to $g_{xx}$ and $g_{yy}$ both being even functions of $y$. We will check this first for each option, and then analyze the full isometry group.\n\nAll metrics from B, C, and D are conformally flat, i.e., of the form $g = e^{2u(x,y)}(dx^2+dy^2)$. An isometry $\\varphi$ of such a metric on $\\mathbb{R}^2$ must be a similarity transformation of the Euclidean plane, i.e., of the form $\\varphi(z) = az+b$ or $\\varphi(z) = a\\bar{z}+b$ where $z=x+iy$. The condition for $\\varphi$ to be an isometry is $u(\\varphi(p)) = u(p) - \\ln|a|$. If $|a|=1$ (i.e., $\\varphi$ is a Euclidean isometry), the condition becomes $u(\\varphi(p)) = u(p)$.\n\nLet's analyze each option.\n\n**Option A: $g_A = dx^2 + \\bigl(1+y^2\\bigr)\\,dy^2$.**\nHere, $g_{xx} = 1$ and $g_{yy} = 1+y^2$. Both are even functions of $y$, so $\\sigma$ is an isometry.\nTo determine the full isometry group, we can compute the Gaussian curvature $K_A$. For a metric $g = E\\,dx^2 + G\\,dy^2$, the curvature is $K = -\\frac{1}{2\\sqrt{EG}}\\left( \\frac{\\partial}{\\partial x}\\left(\\frac{G_x}{\\sqrt{EG}}\\right) + \\frac{\\partial}{\\partial y}\\left(\\frac{E_y}{\\sqrt{EG}}\\right) \\right)$.\nWith $E=1$ and $G=1+y^2$, we have $E_x=E_y=0$ and $G_x=0$.\n$$ K_A = -\\frac{1}{2\\sqrt{1+y^2}}\\left( \\frac{\\partial}{\\partial x}(0) + \\frac{\\partial}{\\partial y}(0) \\right) = 0 $$\nThe metric is flat. $(\\mathbb{R}^2, g_A)$ is locally isometric to the Euclidean plane. The map $\\psi(x,y) = (x, \\int_0^y \\sqrt{1+\\eta^2} d\\eta)$ is a global isometry to a subset of the Euclidean plane. The isometry group of the Euclidean plane is the Euclidean group $E(2)$, which includes all translations and rotations.\nFor example, translations in the $x$-direction, $\\varphi_c(x,y)=(x+c, y)$, are isometries of $g_A$:\n$$ \\varphi_c^*g_A = d(x+c)^2 + (1+y^2)d(y)^2 = dx^2 + (1+y^2)dy^2 = g_A $$\nThe isometry group is much larger than just $\\{\\text{Id}, \\sigma\\}$. Therefore, this option is incorrect.\n**Verdict for A: Incorrect.**\n\n**Option D: $g_D = e^{2(x^2+y^2)}\\,(dx^2+dy^2)$.**\nThis metric is conformally flat with $u(x,y)=x^2+y^2$. The function $u$ is even in $y$, so $\\sigma$ is an isometry since it preserves $u$: $u(x,-y) = x^2+(-y)^2 = x^2+y^2 = u(x,y)$.\nThe conformal factor $u(x,y) = x^2+y^2$ is invariant under any rotation $\\rho_\\theta$ around the origin, as $u(\\rho_\\theta(x,y)) = u(x\\cos\\theta - y\\sin\\theta, x\\sin\\theta + y\\cos\\theta) = (x\\cos\\theta - y\\sin\\theta)^2 + (x\\sin\\theta + y\\cos\\theta)^2 = x^2+y^2 = u(x,y)$.\nSince rotations are Euclidean isometries ($|a|=|e^{i\\theta}|=1$), they are isometries of $g_D$. The isometry group of $g_D$ thus contains the entire orthogonal group $O(2)$, which includes all rotations and reflections through the origin. This is a much larger group than $\\{\\text{Id}, \\sigma\\}$. Therefore, this option is incorrect.\n**Verdict for D: Incorrect.**\n\n**Option C: $g_C = e^{2(x^2+y^4)}\\,(dx^2+dy^2)$.**\nThis is a conformally flat metric with $u(x,y) = x^2+y^4$.\nThe function $u(x,y)$ is symmetric with respect to $y \\to -y$, since $u(x,-y) = x^2+(-y)^4 = x^2+y^4 = u(x,y)$. Since $\\sigma$ is a Euclidean isometry that preserves $u$, it is an isometry of $g_C$.\nLet's check for other isometries. Consider the reflection across the $y$-axis, $\\sigma_y(x,y)=(-x,y)$. This is also a Euclidean isometry. We check if it preserves $u(x,y)$:\n$$ u(\\sigma_y(x,y)) = u(-x,y) = (-x)^2 + y^4 = x^2+y^4 = u(x,y) $$\nSo, $\\sigma_y$ is also an isometry of $g_C$. The isometry group contains at least the four elements $\\{\\text{Id}, \\sigma, \\sigma_y, \\sigma\\circ\\sigma_y\\}$, which is a group isomorphic to $\\mathbb{Z}_2 \\times \\mathbb{Z}_2$. This group is larger than the required $\\{\\text{Id}, \\sigma\\}$. Therefore, this option is incorrect.\n**Verdict for C: Incorrect.**\n\n**Option B: $g_B = e^{2u(x,y)}\\,(dx^2+dy^2)$ where $u(x,y)=x^2 + y^2 + y^4 + \\varepsilon \\tanh(x)$ for $0 < \\varepsilon < 1$.**\nThis is a conformally flat metric with the specified $u(x,y)$.\nFirst, we check if $\\sigma(x,y)=(x,-y)$ is an isometry. This is a Euclidean isometry, so we only need to check if $u(x,y)$ is preserved.\n$$ u(x,-y) = x^2 + (-y)^2 + (-y)^4 + \\varepsilon \\tanh(x) = x^2+y^2+y^4+\\varepsilon\\tanh(x) = u(x,y) $$\nThe function $u(x,y)$ is invariant under $\\sigma$, so $\\sigma$ is an isometry of $g_B$. The group $\\text{Isom}(\\mathbb{R}^2, g_B)$ contains $\\{\\text{Id}, \\sigma\\}$.\n\nNow, we must show that there are no other isometries. As argued before, any isometry must be a similarity transformation $\\varphi(z)=az+b$ or $\\varphi(z)=a\\bar{z}+b$, satisfying $u(\\varphi(p)) + \\ln|a| = u(p)$.\nThe asymptotic behavior of $u(x,y)$ is dominated by $x^2$ and $y^4$.\nLet $\\varphi(z)=az+b$. For large $|y|$, $u(x,y) \\sim y^4$.\nLet $z=iy$. Then $\\varphi(iy)=a(iy)+b$. Let $a=a_r+ia_i$ and $b=b_x+ib_y$.\n$\\varphi(iy) = (-a_i y + b_x) + i(a_r y+b_y)$.\n$u(\\varphi(iy)) \\approx (-a_i y + b_x)^2 + (a_r y+b_y)^4 \\approx a_r^4 y^4$.\nWe need $u(\\varphi(iy)) + \\ln|a| \\approx u(iy) \\approx y^4$. This implies $a_r^4=1$, so $a_r=\\pm 1$.\nNow let $z=x$. $\\varphi(x) = (a_r x+b_x)+i(a_i x+b_y)$.\n$u(\\varphi(x)) \\approx (a_r x+b_x)^2 + (a_i x+b_y)^4$. If $a_i \\neq 0$, this grows like $x^4$.\nBut $u(x) = x^2+\\varepsilon\\tanh(x)$ grows like $x^2$. This mismatch implies $a_i = 0$.\nSo $a$ must be real, $a=\\pm 1$, which means $|a|=1$.\nThis proves any isometry must be a Euclidean isometry, for which the condition simplifies to $u(\\varphi(p)) = u(p)$.\n\nLet's test all possible Euclidean isometries.\n- Translations: $\\varphi(x,y)=(x+c, y+d)$.\n$u(x+c, y+d) = (x+c)^2 + (y+d)^2 + (y+d)^4 + \\varepsilon\\tanh(x+c)$. This must equal $u(x,y)$ for all $(x,y)$. Taking $d=0$ requires $(x+c)^2+\\varepsilon\\tanh(x+c) = x^2+\\varepsilon\\tanh(x)$, which is impossible for $c\\neq 0$. Taking $c=0$ requires $(y+d)^2+(y+d)^4 = y^2+y^4$, impossible for $d\\neq 0$. So only the trivial translation $(c,d)=(0,0)$ (the identity) is an isometry.\n- Rotations about the origin: $\\varphi_\\theta(x,y)=(x\\cos\\theta - y\\sin\\theta, x\\sin\\theta + y\\cos\\theta)$.\nFor $\\theta\\neq k\\pi$, this mixes $x$ and $y$. The term $\\varepsilon\\tanh(x\\cos\\theta-y\\sin\\theta)$ has a different structure from $\\varepsilon\\tanh(x)$. Let's test rotation by $\\pi$, $\\varphi_\\pi(x,y)=(-x,-y)$.\n$u(-x,-y) = (-x)^2+(-y)^2+(-y)^4+\\varepsilon\\tanh(-x) = x^2+y^2+y^4-\\varepsilon\\tanh(x)$.\nFor this to equal $u(x,y)$, we need $2\\varepsilon\\tanh(x)=0$ for all $x$, which is false since $\\varepsilon \\ne 0$. So $\\varphi_\\pi$ is not an isometry. This rules out all non-trivial rotations.\n- Reflections: A reflection through a line through the origin can be written as $\\varphi(z)=e^{i\\alpha}\\bar{z}$. We already showed this requires $\\alpha=k\\pi$.\n  - $\\alpha=0$: $\\varphi(z)=\\bar{z}$, i.e., $\\sigma(x,y)=(x,-y)$. We confirmed this is an isometry.\n  - $\\alpha=\\pi$: $\\varphi(z)=-\\bar{z}$, i.e., $\\sigma_y(x,y)=(-x,y)$. Let's check:\n    $u(-x,y) = (-x)^2+y^2+y^4+\\varepsilon\\tanh(-x) = x^2+y^2+y^4-\\varepsilon\\tanh(x) \\neq u(x,y)$.\n    So $\\sigma_y$ is not an isometry.\n\nAny Euclidean isometry is a composition of a translation, a rotation, and possibly a reflection. We have shown that the only allowed translation is the identity, the only allowed rotation is the identity, and the only allowed reflection fixing the origin is $\\sigma$. The composition of these allowed transformations gives only the identity map and $\\sigma$.\nTherefore, the isometry group for the metric $g_B$ consists precisely of the identity and the reflection $\\sigma$.\n**Verdict for B: Correct.**", "answer": "$$\\boxed{B}$$", "id": "3073007"}]}