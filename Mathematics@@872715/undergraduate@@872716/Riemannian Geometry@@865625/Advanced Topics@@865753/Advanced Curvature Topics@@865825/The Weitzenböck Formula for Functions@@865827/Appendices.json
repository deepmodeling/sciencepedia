{"hands_on_practices": [{"introduction": "To begin our exploration of the Weitzenböck formula, we start with the most fundamental case: a constant function. This exercise [@problem_id:3078612] serves as an essential sanity check, as any valid geometric identity must behave predictably under trivial conditions. By applying the definitions of the gradient $\\nabla f$, Laplacian $\\Delta f$, and Hessian $\\nabla^2 f$ to a constant function, you will confirm that every term in the Weitzenböck formula vanishes, reinforcing your understanding of how these operators measure local change.", "problem": "Let $\\left(M,g\\right)$ be a smooth Riemannian manifold with Levi-Civita connection $\\nabla$. Recall that for a smooth function $f \\colon M \\to \\mathbb{R}$, the gradient $\\nabla f$ is the unique vector field satisfying $g\\!\\left(\\nabla f, X\\right) = \\mathrm{d}f(X)$ for all smooth vector fields $X$, the Laplace–Beltrami operator is defined by $\\Delta f = \\operatorname{div}\\!\\left(\\nabla f\\right)$, where $\\operatorname{div}X = \\operatorname{tr}_{g}\\!\\left(\\nabla X\\right)$ for a vector field $X$, and the squared norm of the gradient is $|\\nabla f|^{2} = g\\!\\left(\\nabla f,\\nabla f\\right)$.\n\nLet $c \\colon M \\to \\mathbb{R}$ be a constant function. Using only these definitions, determine $\\nabla c$, $\\Delta c$, and $|\\nabla c|^{2}$. Then, based on your findings, comment on how the Weitzenböck formula for functions simplifies in the special case $f=c$.\n\nFinally, define the scalar quantity $E := |\\nabla c|^{2} + \\left(\\Delta c\\right)^{2}$ and evaluate $E$. Provide your final answer as a single exact value (no units, no rounding required).", "solution": "The problem requires the calculation of several differential geometric quantities associated with a constant function $c \\colon M \\to \\mathbb{R}$ on a smooth Riemannian manifold $(M,g)$, followed by a commentary on the Weitzenböck formula and the evaluation of a derived quantity $E$. We will proceed by rigorously applying the definitions provided.\n\nFirst, we determine the gradient vector field, $\\nabla c$. The gradient is defined as the unique vector field satisfying the relation $g(\\nabla c, X) = \\mathrm{d}c(X)$ for all smooth vector fields $X$ on $M$. Since $c$ is a constant function, its value is some real number $C_0 \\in \\mathbb{R}$ for all points in $M$. The exterior derivative, $\\mathrm{d}c$, is given in any local coordinate chart $(x^1, \\dots, x^n)$ by the formula $\\mathrm{d}c = \\sum_{i=1}^n \\frac{\\partial c}{\\partial x^i} \\mathrm{d}x^i$. As $c$ is constant, all its partial derivatives are zero: $\\frac{\\partial c}{\\partial x^i} = 0$ for all $i \\in \\{1, \\dots, n\\}$. Consequently, $\\mathrm{d}c$ is the zero $1$-form on $M$. This means that for any vector field $X$, the evaluation $\\mathrm{d}c(X)$ yields $0$. The defining equation for the gradient thus simplifies to $g(\\nabla c, X) = 0$ for all vector fields $X$. The Riemannian metric $g$ is, by definition, non-degenerate. This property implies that if a vector $v$ in a tangent space $T_pM$ satisfies $g(v,w)=0$ for all vectors $w \\in T_pM$, then $v$ must be the zero vector. Applying this property pointwise to the vector field $\\nabla c$, we are forced to conclude that $\\nabla c$ is the zero vector field everywhere on $M$.\n$$ \\nabla c = 0 $$\n\nSecond, we compute the squared norm of the gradient, $|\\nabla c|^2$. This quantity is defined by the inner product of the gradient vector field with itself: $|\\nabla c|^2 = g(\\nabla c, \\nabla c)$. Substituting our finding that $\\nabla c$ is the zero vector field, we obtain:\n$$ |\\nabla c|^2 = g(0, 0) = 0 $$\n\nThird, we determine the action of the Laplace–Beltrami operator on $c$, which is denoted by $\\Delta c$. The definition provided is $\\Delta c = \\operatorname{div}(\\nabla c)$. The divergence of a vector field $Y$ is given by the metric trace of its covariant derivative: $\\operatorname{div}(Y) = \\operatorname{tr}_g(\\nabla Y)$. In this specific case, the vector field is $Y = \\nabla c$, which we have shown to be the zero vector field. We therefore need to evaluate $\\Delta c = \\operatorname{tr}_g(\\nabla(\\nabla c))$. The expression $\\nabla(\\nabla c)$ denotes the covariant derivative of the vector field $\\nabla c$. This is a $(1,1)$-tensor field which maps a vector field $X$ to the vector field $\\nabla_X(\\nabla c)$. Since $\\nabla c$ is the zero vector field, its covariant derivative with respect to any vector field $X$ is also the zero vector field, i.e., $\\nabla_X(\\nabla c) = \\nabla_X(0) = 0$. This means the $(1,1)$-tensor field $\\nabla(\\nabla c)$ is identically zero. The trace of the zero tensor is, by definition, $0$.\n$$ \\Delta c = \\operatorname{tr}_g(0) = 0 $$\n\nNext, we are asked to comment on how the Weitzenböck formula for functions simplifies in the special case $f=c$. The general formula is:\n$$ \\frac{1}{2} \\Delta(|\\nabla f|^2) = |\\nabla^2 f|^2 + g(\\nabla f, \\nabla(\\Delta f)) + \\operatorname{Ric}(\\nabla f, \\nabla f) $$\nHere, $\\nabla^2 f$ is the Hessian of $f$ and $\\operatorname{Ric}$ is the Ricci curvature tensor of the manifold. We analyze the formula for our constant function $f=c$, for which we have established that $\\nabla c = 0$ and $\\Delta c = 0$.\nThe left-hand side of the formula is $\\frac{1}{2} \\Delta(|\\nabla c|^2)$. Since $|\\nabla c|^2 = 0$, this becomes $\\frac{1}{2} \\Delta(0)$. The Laplace–Beltrami operator acting on any constant function (including the zero function) yields $0$. Thus, the left-hand side is $0$.\nNow consider the right-hand side, which consists of three terms:\n$1$. The first term is $|\\nabla^2 c|^2$. The Hessian $\\nabla^2 c$ is a $(0,2)$-tensor field defined by $(\\nabla^2 c)(X,Y) = g(\\nabla_X(\\nabla c), Y)$. Since $\\nabla c = 0$, its covariant derivative $\\nabla_X(\\nabla c)$ is also $0$ for any vector field $X$. Thus, $\\nabla^2 c$ is the zero tensor, and its squared norm $|\\nabla^2 c|^2$ is $0$.\n$2$. The second term is $g(\\nabla c, \\nabla(\\Delta c))$. Substituting $\\nabla c=0$ and $\\Delta c=0$, this becomes $g(0, \\nabla(0))$. Due to the bilinearity of the metric $g$, this term is manifestly $0$.\n$3$. The third term is $\\operatorname{Ric}(\\nabla c, \\nabla c)$. Substituting $\\nabla c=0$, this becomes $\\operatorname{Ric}(0,0)$, which is $0$ by the bilinearity of the Ricci tensor.\nTherefore, the entire right-hand side evaluates to $0 + 0 + 0 = 0$. The Weitzenböck formula for a constant function $c$ simplifies to the trivial identity $0 = 0$. This is a consistent result, reflecting the fact that a constant function exhibits no local variation for the geometric operators or the curvature of the manifold to act upon non-trivially.\n\nFinally, we are required to define the scalar quantity $E := |\\nabla c|^2 + (\\Delta c)^2$ and evaluate it. Using the values derived in the preceding steps:\n$$ |\\nabla c|^2 = 0 $$\n$$ \\Delta c = 0 $$\nSubstituting these into the definition for $E$, we find:\n$$ E = 0 + (0)^2 = 0 $$\nThe final value of $E$ is $0$.", "answer": "$$\n\\boxed{0}\n$$", "id": "3078612"}, {"introduction": "Having established a baseline with constant functions, we now examine a linear function on the flat landscape of Euclidean space $\\mathbb{R}^n$. This scenario [@problem_id:3078639] allows us to investigate the Weitzenböck formula when the gradient is non-trivial but the underlying geometry has no curvature, meaning $\\operatorname{Ric} = 0$. This practice will give you hands-on experience computing the Hessian and Laplacian for a simple yet non-constant function, revealing how the formula elegantly connects second-order information about the function.", "problem": "Let $\\mathbb{R}^{n}$ be equipped with its standard Euclidean Riemannian metric $g$, and let $\\nabla$ denote the Levi-Civita connection. Consider the linear function $f:\\mathbb{R}^{n}\\to\\mathbb{R}$ defined by $f(x)=a\\cdot x=\\sum_{i=1}^{n}a_{i}x^{i}$ for a fixed constant vector $a\\in\\mathbb{R}^{n}$. Using only the coordinate definitions with respect to the standard frame $\\{\\partial_{1},\\dots,\\partial_{n}\\}$ that: (i) the gradient $\\nabla f$ is the metric dual of $\\mathrm{d}f$, (ii) the Hessian $\\operatorname{Hess}f$ is the covariant derivative of $\\nabla f$, and (iii) the Laplacian $\\Delta f$ is the divergence of $\\nabla f$, compute the explicit expressions for $\\nabla f$, $\\operatorname{Hess}f$, $\\Delta f$, and $\\tfrac{1}{2}\\Delta(|\\nabla f|^{2})$. Interpret $\\operatorname{Hess}f$ as a $(0,2)$-tensor (equivalently, a symmetric matrix) in the standard coordinates, and $|\\nabla f|^{2}$ as $g(\\nabla f,\\nabla f)$. \n\nPresent your final answer as a single row matrix containing the four quantities in the order $(\\nabla f,\\ \\operatorname{Hess}f,\\ \\Delta f,\\ \\tfrac{1}{2}\\Delta(|\\nabla f|^{2}))$. No numerical approximation is required; give your answer in exact symbolic form.", "solution": "The computations will be performed in the standard Cartesian coordinate system $\\{x^i\\}$ with the associated coordinate basis vectors $\\{\\partial_i\\}$.\n\n**1. Computation of the Gradient $\\nabla f$**\n\nThe gradient $\\nabla f$ is the vector field corresponding to the $1$-form $\\mathrm{d}f$ via the metric $g$. First, we compute the components of $\\mathrm{d}f$.\nThe components of the differential, $(\\mathrm{d}f)_j$, are given by the partial derivatives of $f$:\n$$(\\mathrm{d}f)_j = \\frac{\\partial f}{\\partial x^j} = \\frac{\\partial}{\\partial x^j} \\left( \\sum_{k=1}^{n} a_k x^k \\right)$$\nUsing the linearity of the derivative and that $\\frac{\\partial x^k}{\\partial x^j} = \\delta^k_j$, we get:\n$$(\\mathrm{d}f)_j = \\sum_{k=1}^{n} a_k \\frac{\\partial x^k}{\\partial x^j} = \\sum_{k=1}^{n} a_k \\delta^k_j = a_j$$\nThe components of $\\mathrm{d}f$ are the constant components of the vector $a$.\nNext, we find the components of the gradient vector field, $(\\nabla f)^i$, by raising the index of $(\\mathrm{d}f)_j$ using the inverse metric $g^{ij} = \\delta^{ij}$:\n$$(\\nabla f)^i = \\sum_{j=1}^{n} g^{ij} (\\mathrm{d}f)_j = \\sum_{j=1}^{n} \\delta^{ij} a_j = a_i$$\nThe gradient vector field is therefore $\\nabla f = \\sum_{i=1}^{n} a_i \\partial_i$. Since the components $a_i$ are constant, $\\nabla f$ is a constant vector field, which can be identified with the vector $a \\in \\mathbb{R}^n$.\n$$\\nabla f = a$$\n\n**2. Computation of the Hessian $\\operatorname{Hess}f$**\n\nThe Hessian is defined as the covariant derivative of the gradient vector field $\\nabla f$, viewed as a $(0,2)$-tensor. Let us use the equivalent standard definition of the Hessian in coordinates, $(\\operatorname{Hess}f)_{ij} = \\nabla_j (\\mathrm{d}f)_i$. The covariant derivative of a covector field with components $\\omega_i$ is given by $(\\nabla_j \\omega)_i = \\partial_j \\omega_i - \\sum_{k=1}^n \\Gamma^k_{ji}\\omega_k$.\nIn our case, $\\omega_i = (\\mathrm{d}f)_i = a_i$, and all Christoffel symbols $\\Gamma^k_{ji}$ are zero.\n$$(\\operatorname{Hess}f)_{ij} = \\partial_j (a_i) - \\sum_{k=1}^n \\Gamma^k_{ji} a_k = \\partial_j (a_i) - 0$$\nSince $a_i$ are the components of a constant vector, their partial derivatives are zero: $\\partial_j (a_i) = 0$.\nTherefore, all components of the Hessian are zero:\n$$(\\operatorname{Hess}f)_{ij} = 0$$\nAs a matrix in the standard basis, the Hessian is the $n \\times n$ zero matrix, denoted $0_{n \\times n}$.\n\n**3. Computation of the Laplacian $\\Delta f$**\n\nThe Laplacian is the divergence of the gradient field, $\\Delta f = \\operatorname{div}(\\nabla f)$. In coordinates, the divergence of a vector field $V$ with components $V^i$ is $\\operatorname{div}(V) = \\sum_{i=1}^n \\nabla_i V^i = \\sum_{i=1}^n (\\partial_i V^i + \\sum_{k=1}^n \\Gamma^i_{ik} V^k)$.\nFor the gradient field $V = \\nabla f$, the components are $V^i = (\\nabla f)^i = a_i$. With $\\Gamma^i_{ik}=0$, the formula simplifies:\n$$\\Delta f = \\sum_{i=1}^{n} \\partial_i (a_i)$$\nSince each component $a_i$ is a constant, its partial derivative is zero, $\\partial_i(a_i) = 0$.\n$$\\Delta f = \\sum_{i=1}^{n} 0 = 0$$\n\n**4. Computation of $\\frac{1}{2}\\Delta(|\\nabla f|^{2})$**\n\nFirst, we calculate the scalar quantity $|\\nabla f|^2$:\n$$|\\nabla f|^2 = g(\\nabla f, \\nabla f) = \\sum_{i,j=1}^{n} g_{ij} (\\nabla f)^i (\\nabla f)^j$$\nUsing $g_{ij} = \\delta_{ij}$ and $(\\nabla f)^i = a_i$, we obtain:\n$$|\\nabla f|^2 = \\sum_{i,j=1}^{n} \\delta_{ij} a_i a_j = \\sum_{i=1}^{n} a_i a_i = \\sum_{i=1}^{n} (a_i)^2$$\nThis expression is the squared Euclidean norm of the constant vector $a$, which we denote by $|a|^2$. Thus, $|\\nabla f|^2$ is a constant scalar function on $\\mathbb{R}^n$.\nNow we compute its Laplacian. The Laplacian of a scalar function $h$ in Cartesian coordinates is $\\Delta h = \\sum_{j=1}^n \\frac{\\partial^2 h}{(\\partial x^j)^2}$.\nLet $h(x) = |\\nabla f|^2 = |a|^2$. Since $|a|^2$ is a constant, all its partial derivatives are zero.\n$$\\Delta(|\\nabla f|^2) = \\Delta(|a|^2) = \\sum_{j=1}^{n} \\frac{\\partial^2}{(\\partial x^j)^2} (|a|^2) = 0$$\nConsequently,\n$$\\frac{1}{2}\\Delta(|\\nabla f|^{2}) = \\frac{1}{2} \\cdot 0 = 0$$\n\nThe four quantities are the constant vector field $a$, the zero matrix $0_{n \\times n}$, the scalar $0$, and the scalar $0$.", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\na & 0_{n \\times n} & 0 & 0\n\\end{pmatrix}\n}\n$$", "id": "3078639"}, {"introduction": "The true power of the Weitzenböck formula lies in its ability to connect analysis with geometry, a link forged by the Ricci curvature term. In this exercise [@problem_id:3078645], we leave the flatness of Euclidean space and turn our attention to the round n-sphere $S^n$, a classic example of a positively curved manifold. Your task is to derive the form of the Ricci tensor for a space of constant curvature and compute the term $\\operatorname{Ric}(\\nabla f, \\nabla f)$, allowing you to see precisely how the geometry of the sphere influences the Weitzenböck identity.", "problem": "Let $S^{n}$ denote the round $n$-sphere equipped with the standard Riemannian metric of constant sectional curvature $1$. Consider a smooth function $f \\in C^{\\infty}(S^{n})$ and its gradient vector field $\\nabla f$ with respect to this metric. In the Bochner–Weitzenböck identity for functions on a Riemannian manifold, a curvature term involving the Ricci tensor $\\operatorname{Ric}$ evaluated on $\\nabla f$ appears. Starting from the defining contraction of the Riemann curvature tensor,\n$$\n\\operatorname{Ric}(\\,X, Y\\,) \\;=\\; \\sum_{i=1}^{n} \\big\\langle R(e_{i}, X)Y,\\, e_{i} \\big\\rangle,\n$$\nwhere $\\{e_{i}\\}_{i=1}^{n}$ is any local orthonormal frame and $\\langle\\cdot,\\cdot\\rangle$ is the Riemannian metric, and using that the sectional curvature is constant and equal to $1$, derive the Ricci tensor of $S^{n}$ and then compute $\\operatorname{Ric}(\\nabla f, \\nabla f)$ in terms of $|\\nabla f|^{2} = \\langle \\nabla f, \\nabla f \\rangle$. Express your final answer as a single closed-form analytic expression. No rounding is required.", "solution": "The core of the problem is to compute the Ricci tensor for a space of constant sectional curvature and then evaluate it on a specific vector field. We are given the $n$-sphere, $S^n$, with its standard metric, which is known to have constant sectional curvature $K=1$.\n\nA fundamental result in Riemannian geometry states that for a manifold of constant sectional curvature $K$, the Riemann curvature tensor $R$ is given by the expression:\n$$\nR(X, Y)Z = K \\left( \\langle Y, Z \\rangle X - \\langle X, Z \\rangle Y \\right)\n$$\nfor any vector fields $X$, $Y$, and $Z$. In our case, for the sphere $S^n$, the sectional curvature is $K=1$. Thus, the expression for the Riemann curvature tensor simplifies to:\n$$\nR(X, Y)Z = \\langle Y, Z \\rangle X - \\langle X, Z \\rangle Y\n$$\n\nThe problem provides the definition of the Ricci tensor, $\\operatorname{Ric}$, as a contraction of the Riemann tensor:\n$$\n\\operatorname{Ric}(X, Y) = \\sum_{i=1}^{n} \\langle R(e_{i}, X)Y, e_{i} \\rangle\n$$\nwhere $\\{e_{i}\\}_{i=1}^{n}$ is any local orthonormal frame.\n\nWe can now derive the Ricci tensor for $S^n$ by substituting our expression for the Riemann tensor into this definition. We replace the generic vector field $Z$ in the curvature formula with $Y$, and the pair $(X, Y)$ in the curvature formula with $(e_i, X)$:\n$$\nR(e_i, X)Y = \\langle X, Y \\rangle e_i - \\langle e_i, Y \\rangle X\n$$\nSubstituting this into the definition of the Ricci tensor yields:\n$$\n\\operatorname{Ric}(X, Y) = \\sum_{i=1}^{n} \\langle \\langle X, Y \\rangle e_i - \\langle e_i, Y \\rangle X, e_i \\rangle\n$$\nUsing the linearity of the inner product $\\langle \\cdot, \\cdot \\rangle$ in its first argument, we can split the expression inside the summation:\n$$\n\\operatorname{Ric}(X, Y) = \\sum_{i=1}^{n} \\left( \\langle \\langle X, Y \\rangle e_i, e_i \\rangle - \\langle \\langle e_i, Y \\rangle X, e_i \\rangle \\right)\n$$\nThe terms $\\langle X, Y \\rangle$ and $\\langle e_i, Y \\rangle$ are scalars, so they can be factored out of the inner products:\n$$\n\\operatorname{Ric}(X, Y) = \\sum_{i=1}^{n} \\left( \\langle X, Y \\rangle \\langle e_i, e_i \\rangle - \\langle e_i, Y \\rangle \\langle X, e_i \\rangle \\right)\n$$\nSince $\\{e_i\\}_{i=1}^n$ is an orthonormal frame, we have by definition $\\langle e_i, e_j \\rangle = \\delta_{ij}$, the Kronecker delta. In particular, $\\langle e_i, e_i \\rangle = 1$ for each $i$. The expression simplifies to:\n$$\n\\operatorname{Ric}(X, Y) = \\sum_{i=1}^{n} \\left( \\langle X, Y \\rangle \\cdot 1 - \\langle X, e_i \\rangle \\langle Y, e_i \\rangle \\right)\n$$\nWe can distribute the summation over the two terms:\n$$\n\\operatorname{Ric}(X, Y) = \\sum_{i=1}^{n} \\langle X, Y \\rangle - \\sum_{i=1}^{n} \\langle X, e_i \\rangle \\langle Y, e_i \\rangle\n$$\nThe first term is the sum of $n$ identical terms $\\langle X, Y \\rangle$, which equals $n \\langle X, Y \\rangle$. The second term is the definition of the inner product $\\langle X, Y \\rangle$ expressed in terms of the components of $X$ and $Y$ with respect to the orthonormal basis $\\{e_i\\}$. Specifically, if we write $X = \\sum_i \\langle X, e_i \\rangle e_i$ and $Y = \\sum_j \\langle Y, e_j \\rangle e_j$, then their inner product is $\\langle X, Y \\rangle = \\sum_i \\langle X, e_i \\rangle \\langle Y, e_i \\rangle$.\nTherefore, our expression becomes:\n$$\n\\operatorname{Ric}(X, Y) = n \\langle X, Y \\rangle - \\langle X, Y \\rangle\n$$\nThis simplifies to the well-known formula for the Ricci tensor of an Einstein manifold with constant sectional curvature $K=1$:\n$$\n\\operatorname{Ric}(X, Y) = (n-1) \\langle X, Y \\rangle\n$$\n\nThe final step is to compute $\\operatorname{Ric}(\\nabla f, \\nabla f)$. We do this by substituting $X = \\nabla f$ and $Y = \\nabla f$ into the formula we just derived:\n$$\n\\operatorname{Ric}(\\nabla f, \\nabla f) = (n-1) \\langle \\nabla f, \\nabla f \\rangle\n$$\nThe term $\\langle \\nabla f, \\nabla f \\rangle$ is, by definition, the squared norm of the gradient vector field, denoted by $|\\nabla f|^2$.\nThus, we arrive at the final expression:\n$$\n\\operatorname{Ric}(\\nabla f, \\nabla f) = (n-1) |\\nabla f|^2\n$$\nThis result is a key component in the Bochner-Weitzenböck formula for functions, which relates the Laplacian of the function's gradient norm to the Hessian, the Laplacian of the function itself, and the Ricci curvature.", "answer": "$$\\boxed{(n-1)|\\nabla f|^2}$$", "id": "3078645"}]}