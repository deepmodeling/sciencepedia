{"hands_on_practices": [{"introduction": "The Euler Pentagonal Number Theorem presents a surprisingly sparse and structured series for the infinite product $\\prod_{m \\ge 1}(1-q^m)$. Before diving into the deep combinatorial proof, a crucial first step is to build intuition by verifying the theorem for small values. This exercise guides you through direct calculation of the first few coefficients by enumerating partitions, allowing you to observe the theorem's pattern firsthand and confront common misconceptions about the signs and exponents.[@problem_id:3013508]", "problem": "Let $q$ be an indeterminate, and consider the formal product $G(q) = \\prod_{m \\geq 1} \\left(1 - q^{m}\\right)$. This product is the signed generating function for partitions into distinct parts, in the sense that when $G(q)$ is expanded as a formal power series, the coefficient of $q^{n}$ is the difference between the number of partitions of $n$ into an even number of distinct parts and the number of partitions of $n$ into an odd number of distinct parts. Starting only from this product definition and the interpretation just stated, determine the correct list of the first nonzero terms of $G(q)$ up to and including degree $15$, and use explicit small-degree calculations to correct common misconceptions such as confusing the exponent families $k(3k-1)/2$ and $k(3k+1)/2$, or mis-assigning the sign pattern of consecutive terms. Which option is correct?\n\nA. $G(q) = 1 - q - q^{2} + q^{5} + q^{7} - q^{12} - q^{15} + O\\!\\left(q^{16}\\right)$\n\nB. $G(q) = 1 - q - q^{3} + q^{4} + q^{8} - q^{9} - q^{13} + O\\!\\left(q^{14}\\right)$\n\nC. $G(q) = 1 - q + q^{2} - q^{5} + q^{7} - q^{12} + q^{15} + O\\!\\left(q^{16}\\right)$\n\nD. $G(q) = 1 - q - q^{2} + q^{4} + q^{7} - q^{10} - q^{13} + O\\!\\left(q^{14}\\right)$", "solution": "The problem statement is evaluated to be **valid**. It is mathematically and scientifically sound, well-posed, and objective. It poses a verifiable question about a standard result in number theory, Euler's pentagonal number theorem, founded on the formal expansion of the Euler function $G(q) = \\prod_{m \\geq 1} (1 - q^m)$. The problem directs a solution based on first principles—direct calculation and combinatorial interpretation—which is a legitimate and feasible approach.\n\nThe problem asks for the expansion of the formal product $G(q) = \\prod_{m \\geq 1} (1 - q^m)$ up to degree $15$. The coefficient of $q^n$ in the expansion of $G(q)$ is given by the difference between the number of partitions of $n$ into an even number of distinct parts, denoted $d_e(n)$, and the number of partitions of $n$ into an odd number of distinct parts, denoted $d_o(n)$. Let this coefficient be $c_n = d_e(n) - d_o(n)$. We will compute $c_n$ for small values of $n$ by explicitly listing the partitions.\n\nFor $n=0$: The only partition is the empty partition, which has $0$ parts. Since $0$ is an even number, $d_e(0) = 1$ and $d_o(0) = 0$. Thus, $c_0 = 1$.\n\nFor $n=1$: The only partition into distinct parts is $(1)$. It has $1$ part (odd).\n$d_e(1) = 0$, $d_o(1) = 1$. So, $c_1 = 0 - 1 = -1$.\n\nFor $n=2$: The only partition into distinct parts is $(2)$. It has $1$ part (odd).\n$d_e(2) = 0$, $d_o(2) = 1$. So, $c_2 = 0 - 1 = -1$.\n\nFor $n=3$: The partitions into distinct parts are $(3)$ and $(2,1)$.\n$(3)$ has $1$ part (odd). $(2,1)$ has $2$ parts (even).\n$d_e(3) = 1$, $d_o(3) = 1$. So, $c_3 = 1 - 1 = 0$.\n\nFor $n=4$: The partitions into distinct parts are $(4)$ and $(3,1)$.\n$(4)$ has $1$ part (odd). $(3,1)$ has $2$ parts (even).\n$d_e(4) = 1$, $d_o(4) = 1$. So, $c_4 = 1 - 1 = 0$.\n\nFor $n=5$: The partitions into distinct parts are $(5)$, $(4,1)$, and $(3,2)$.\n$(5)$ has $1$ part (odd). $(4,1)$ has $2$ parts (even). $(3,2)$ has $2$ parts (even).\n$d_e(5) = 2$, $d_o(5) = 1$. So, $c_5 = 2 - 1 = 1$.\n\nFor $n=6$: The partitions into distinct parts are $(6)$, $(5,1)$, $(4,2)$, and $(3,2,1)$.\n$(6)$ has $1$ part (odd). $(5,1)$ has $2$ parts (even). $(4,2)$ has $2$ parts (even). $(3,2,1)$ has $3$ parts (odd).\n$d_e(6) = 2$, $d_o(6) = 2$. So, $c_6 = 2 - 2 = 0$.\n\nFor $n=7$: The partitions into distinct parts are $(7)$, $(6,1)$, $(5,2)$, $(4,3)$, and $(4,2,1)$.\n$(7)$ has $1$ part (odd). $(6,1)$, $(5,2)$, $(4,3)$ each have $2$ parts (even). $(4,2,1)$ has $3$ parts (odd).\n$d_e(7) = 3$, $d_o(7) = 2$. So, $c_7 = 3 - 2 = 1$.\n\nSo far, the series is $G(q) = 1 - q - q^2 + q^5 + q^7 + \\dots$.\n\nThese calculations exemplify Franklin's bijection, a combinatorial proof which shows that for most integers $n$, $d_e(n) = d_o(n)$, and thus $c_n=0$. The bijection fails only when $n$ is a generalized pentagonal number, which are integers of the form $n = \\frac{j(3j-1)}{2}$ for any non-zero integer $j$. In these cases, $c_n = (-1)^j$.\n\nLet's identify the generalized pentagonal numbers up to $15$:\nFor $j=1$: $n = \\frac{1(3(1)-1)}{2} = \\frac{2}{2} = 1$. The coefficient is $c_1 = (-1)^1 = -1$.\nFor $j=-1$: $n = \\frac{-1(3(-1)-1)}{2} = \\frac{-1(-4)}{2} = 2$. The coefficient is $c_2 = (-1)^{-1} = -1$.\nFor $j=2$: $n = \\frac{2(3(2)-1)}{2} = \\frac{2(5)}{2} = 5$. The coefficient is $c_5 = (-1)^2 = 1$.\nFor $j=-2$: $n = \\frac{-2(3(-2)-1)}{2} = \\frac{-2(-7)}{2} = 7$. The coefficient is $c_7 = (-1)^{-2} = 1$.\nFor $j=3$: $n = \\frac{3(3(3)-1)}{2} = \\frac{3(8)}{2} = 12$. The coefficient is $c_{12} = (-1)^3 = -1$.\nFor $j=-3$: $n = \\frac{-3(3(-3)-1)}{2} = \\frac{-3(-10)}{2} = 15$. The coefficient is $c_{15} = (-1)^{-3} = -1$.\nFor $j=4$: $n = \\frac{4(3(4)-1)}{2} = \\frac{4(11)}{2} = 22$. This is beyond the required degree.\n\nAll other integers $n \\le 15$ that are not in this list ($3, 4, 6, 8, 9, 10, 11, 13, 14$) are not generalized pentagonal numbers, and therefore their corresponding coefficients are $0$. This is consistent with our explicit calculations for $n=3, 4, 6$. The problem asks to address common misconceptions. The two families of exponents, arising from positive and negative $j$, are $\\frac{k(3k-1)}{2}$ ($1, 5, 12, \\dots$) and $\\frac{k(3k+1)}{2}$ ($2, 7, 15, \\dots$) for $k \\ge 1$. A common error is to miss one of these families. Another error is to mis-assign the signs. The sign is $(-1)^j$, which leads to a pattern of two negatives, two positives, two negatives, and so on: $(-1, -1, +1, +1, -1, -1, \\dots)$.\n\nAssembling the terms up to degree $15$, we have:\n$G(q) = c_0 + c_1 q + c_2 q^2 + \\dots + c_{15} q^{15} + O(q^{16})$\n$G(q) = 1 + (-1)q + (-1)q^2 + (0)q^3 + (0)q^4 + (1)q^5 + (0)q^6 + (1)q^7 + (0)q^8 + (0)q^9 + (0)q^{10} + (0)q^{11} + (-1)q^{12} + (0)q^{13} + (0)q^{14} + (-1)q^{15} + O(q^{16})$\n$G(q) = 1 - q - q^2 + q^5 + q^7 - q^{12} - q^{15} + O(q^{16})$\n\nNow, we evaluate each of the given options.\n\nA. $G(q) = 1 - q - q^{2} + q^{5} + q^{7} - q^{12} - q^{15} + O\\!\\left(q^{16}\\right)$\nThis expression matches our derived series term by term, including the exponents ($1, 2, 5, 7, 12, 15$) and their corresponding signs ($-, - , +, +, -, -$). The order of magnitude of the remainder term $O(q^{16})$ is correct as the next nonzero term is for $n=22$.\n**Verdict: Correct.**\n\nB. $G(q) = 1 - q - q^{3} + q^{4} + q^{8} - q^{9} - q^{13} + O\\!\\left(q^{14}\\right)$\nThis expression contains incorrect exponents. For example, it lists a nonzero coefficient for $q^3$, whereas our calculation shows $c_3=0$. It also lists nonzero coefficients for $q^4, q^8, q^9, q^{13}$, all of which should be zero. It omits the term $-q^2$.\n**Verdict: Incorrect.**\n\nC. $G(q) = 1 - q + q^{2} - q^{5} + q^{7} - q^{12} + q^{15} + O\\!\\left(q^{16}\\right)$\nThis expression has the correct exponents but incorrect signs for several terms. The coefficient of $q^2$ should be $-1$, not $+1$. The coefficient of $q^5$ should be $+1$, not $-1$. The coefficient of $q^{15}$ should be $-1$, not $+1$. These errors reflect a misunderstanding of how the signs $(-1)^j$ are determined.\n**Verdict: Incorrect.**\n\nD. $G(q) = 1 - q - q^{2} + q^{4} + q^{7} - q^{10} - q^{13} + O\\!\\left(q^{14}\\right)$\nThis expression contains incorrect exponents. It lists nonzero coefficients for $q^4, q^{10}, q^{13}$, which should all be zero. It omits the correct term $+q^5$.\n**Verdict: Incorrect.**\n\nBased on the derivations from first principles as requested, only option A is correct.", "answer": "$$\\boxed{A}$$", "id": "3013508"}, {"introduction": "With the structure of the pentagonal number series observed, the next step is to understand *why* it takes this form. This practice guides you through the beautiful combinatorial proof by Franklin, which involves constructing a sign-reversing involution on the set of partitions into distinct parts. By identifying the rare partitions that are fixed points of this involution, you will derive the identity of the generalized pentagonal numbers and their corresponding coefficients, revealing the deep structure behind the theorem.[@problem_id:3013526]", "problem": "Let $q$ be an indeterminate and consider the infinite product generating function (GF) $$F(q) = \\prod_{n=1}^{\\infty} \\left(1 - q^{n}\\right),$$ viewed as a formal power series (FPS) in $q$. A generalized pentagonal number is any integer of the form $$\\frac{k(3k-1)}{2} \\quad \\text{or} \\quad \\frac{k(3k+1)}{2}$$ for $k \\in \\mathbb{Z}_{0}$, together with $0$.\n\nStarting from the formal expansion of $F(q)$ and the combinatorial interpretation of its coefficients as alternating sums over partitions into distinct parts, do the following:\n\n1. Express the coefficient $[q^{m}]F(q)$ purely in terms of partitions of $m$ into distinct parts and their cardinalities. Construct a sign-reversing involution on the set of partitions of $m$ into distinct parts (excluding any exceptional configurations you identify), and rigorously justify that this involution pairs all non-exceptional partitions so that their contributions cancel in $[q^{m}]F(q)$.\n\n2. Deduce from your involution that $[q^{m}]F(q)$ is nonzero only when $m$ is a generalized pentagonal number, and that the nonzero coefficients follow an alternating sign pattern occurring in pairs.\n\n3. List the first $20$ generalized pentagonal numbers in increasing order, and for each of these $20$ exponents indicate the sign of the corresponding coefficient in $F(q)$ you have justified in Part $2$.\n\n4. Using your established pattern, determine the exact integer value of the coefficient $[q^{155}]F(q)$.\n\nYour final answer must be a single integer. No rounding is required.", "solution": "The problem asks for a complete analysis of the coefficients of the infinite product $F(q) = \\prod_{n=1}^{\\infty} (1 - q^{n})$, culminating in the calculation of a specific coefficient, $[q^{155}]F(q)$. This requires a combinatorial proof of Euler's pentagonal number theorem.\n\nFirst, we interpret the coefficient $[q^m]F(q)$ for a given integer $m \\ge 0$. The function $F(q)$ is formally expanded as:\n$$ F(q) = (1-q^1)(1-q^2)(1-q^3)\\cdots $$\nA term $q^m$ in the expansion is formed by selecting a finite number of terms of the form $-q^{\\lambda_i}$ from the factors $(1-q^{\\lambda_i})$ and multiplying them together, such that the exponents sum to $m$. Specifically, a term $(-1)^k q^{\\lambda_1} q^{\\lambda_2} \\cdots q^{\\lambda_k}$ is produced if we choose the terms $-q^{\\lambda_i}$ from the corresponding factors, where $\\lambda_1, \\lambda_2, \\ldots, \\lambda_k$ are distinct positive integers that sum to $m$. This set of integers $\\{\\lambda_1, \\ldots, \\lambda_k\\}$ defines a partition of $m$ into $k$ distinct parts.\n\nThe coefficient of $q^m$, denoted $[q^m]F(q)$, is the sum of $(-1)^k$ over all partitions of $m$ into $k$ distinct parts. Let $\\mathcal{D}(m)$ be the set of all partitions of $m$ into distinct parts, and for a partition $\\lambda \\in \\mathcal{D}(m)$, let $k(\\lambda)$ be the number of parts in $\\lambda$. Then,\n$$ [q^m]F(q) = \\sum_{\\lambda \\in \\mathcal{D}(m)} (-1)^{k(\\lambda)} $$\nLet $p_e(m)$ be the number of partitions of $m$ into an even number of distinct parts, and $p_o(m)$ be the number of partitions of $m$ into an odd number of distinct parts. The coefficient can then be written as $[q^m]F(q) = p_e(m) - p_o(m)$.\n\n### Part 1: The Sign-Reversing Involution\n\nTo evaluate this sum, we construct a sign-reversing involution on the set $\\mathcal{D}(m)$, following the method of Franklin. An involution is a map $\\phi: \\mathcal{D}(m) \\to \\mathcal{D}(m)$ such that $\\phi(\\phi(\\lambda)) = \\lambda$ for all $\\lambda \\in \\mathcal{D}(m)$. It is sign-reversing if, for any $\\lambda$ that is not a fixed point (i.e., $\\phi(\\lambda) \\neq \\lambda$), the parity of the number of parts of $\\phi(\\lambda)$ is different from that of $\\lambda$. That is, $(-1)^{k(\\phi(\\lambda))} = -(-1)^{k(\\lambda)}$. Consequently, the contributions of $\\lambda$ and $\\phi(\\lambda)$ to the sum cancel each other out. The total sum is then simply the sum of contributions from the fixed points of the involution.\n\nLet $\\lambda = (\\lambda_1, \\lambda_2, \\ldots, \\lambda_k)$ be a partition of $m$ into $k$ distinct parts, ordered such that $\\lambda_1  \\lambda_2  \\cdots  \\lambda_k  0$. We define two geometric properties of its Ferrers diagram:\n1.  The smallest part, $s(\\lambda) = \\lambda_k$.\n2.  The length of the \"run\" at the top, $r(\\lambda)$, which is the largest integer $j$ such that $\\lambda_i = \\lambda_1 - i + 1$ for all $i \\in \\{1, 2, \\ldots, j\\}$.\n\nThe involution $\\phi$ is defined as follows:\n- **Case 1: $s(\\lambda) \\le r(\\lambda)$**. We define $\\phi(\\lambda)$ by removing the smallest part, $\\lambda_k = s(\\lambda)$, and adding $1$ to each of the first $s(\\lambda)$ largest parts. The new partition, $\\lambda'$, has parts $(\\lambda_1+1, \\ldots, \\lambda_{s(\\lambda)}+1, \\lambda_{s(\\lambda)+1}, \\ldots, \\lambda_{k-1})$. The number of parts becomes $k-1$.\n- **Case 2: $s(\\lambda)  r(\\lambda)$**. We define $\\phi(\\lambda)$ by taking the top run of length $r(\\lambda)$, reducing each of the first $r(\\lambda)$ parts by $1$, and forming a new smallest part of size $r(\\lambda)$. The new partition, $\\lambda'$, has parts $(\\lambda_1-1, \\ldots, \\lambda_{r(\\lambda)}-1, \\lambda_{r(\\lambda)+1}, \\ldots, \\lambda_k, r(\\lambda))$. The number of parts becomes $k+1$.\n\nThis map is well-defined and reverses the parity of the number of parts, except for certain \"exceptional\" configurations where the operation is invalid. These are the fixed points of the involution.\n\n- **Justification of Involution:** If we start with a partition $\\lambda$ in Case 1, an application of the map yields $\\lambda'$ with $k-1$ parts. For $\\lambda'$, the new smallest part is $s(\\lambda') \\ge \\lambda_{k-1}  \\lambda_k = s(\\lambda)$, and the new top run is $r(\\lambda')=s(\\lambda)$. Thus $s(\\lambda')  r(\\lambda')$, so $\\lambda'$ is in Case 2. Applying the Case 2 operation to $\\lambda'$ reverses the initial transformation, returning $\\lambda$. A similar argument shows that applying the map to a partition in Case 2 yields a partition in Case 1, and applying it again returns the original partition. Thus, $\\phi$ is an involution on the set of non-exceptional partitions.\n\n- **Exceptional Configurations (Fixed Points):** The transformation fails if it produces an invalid partition (i.e., one with non-distinct parts).\n1.  **Failure in Case 1 ($s \\le r$):** The transformation removes $\\lambda_k=s$ and modifies the first $s$ parts. This fails if the modified $s$-th part is no longer distinct from the $(s+1)$-th part. However, this is only possible if $s=k$, as there is no $(k+1)$-th part. If $s(\\lambda)=k$ and we are in Case 1 ($s \\le r$), this means $k \\le r(\\lambda)$. Since $r(\\lambda) \\le k$ by definition, we must have $r(\\lambda) = k$.\n    This describes a partition where all $k$ parts form a consecutive run of integers, and the smallest part is $k$. The parts are $(2k-1, 2k-2, \\ldots, k)$. The sum is $m = \\sum_{j=0}^{k-1}(k+j) = k^2 + \\frac{k(k-1)}{2} = \\frac{k(3k-1)}{2}$. For such a partition, the number of parts is $k$, so its contribution to $[q^m]F(q)$ is $(-1)^k$.\n\n2.  **Failure in Case 2 ($s  r$):** The transformation creates a new part $r$. This fails if this new part is not distinct from the existing parts or if the modified parts become non-distinct. The modified parts $\\lambda_i-1$ for $i \\le r$ can only become non-distinct if $\\lambda_r-1 = \\lambda_{r+1}$, but this is ruled out by the definition of $r$ being the maximal run length. The other failure occurs if the new part $r$ is not the smallest part, which is also ruled out by the case condition $sr$. The only remaining failure mode is when the modified run 'collides' with the new part being added. This happens if $s(\\lambda) = r(\\lambda)+1$ and the run involves almost all parts, i.e., $r(\\lambda)=k-1$. But combining these conditions leads to a contradiction if we apply the transformation.\n    The correct failure condition for Case 2 is when applying the map creates a state where parts are not distinct. This happens when the partition $\\lambda$ is a run of $k$ parts, say $(L, L-1, \\ldots, L-k+1)$. Here, $r(\\lambda)=k$ and $s(\\lambda)=L-k+1$. The condition for Case 2 is $s(\\lambda)  r(\\lambda)$, so $L-k+1  k$, which implies $L  2k-1$. The transformation requires creating a new part $r=k$. This transformation fails if $L-k+1$, the smallest of the modified parts, becomes equal to the new part $k$. The smallest modified part is $(\\lambda_k-1)$. Wait, this is not right. The smallest part is $\\lambda_k$. The operation modifies $\\lambda_1, ..., \\lambda_r$. So the smallest part of the modified run is $\\lambda_r - 1$.\n    Let's re-examine the failure case. The transformation creates parts $\\lambda'_i = \\lambda_i - 1$ for $i \\le r$ and a new part $r$. This fails if one of the modified parts becomes equal to an old part, or if the new part $r$ is not distinct. The latter is prevented by $s  r$. A failure occurs if one of the newly created parts $\\lambda_i-1$ becomes equal to an existing part below it. This is exactly when $r(\\lambda)=k$ (the run is all $k$ parts) and $s(\\lambda)=r(\\lambda)+1$. Then $s(\\lambda)=k+1$.\n    The partition consists of $k$ parts forming a run. $r(\\lambda)=k$. The smallest part is $s(\\lambda)=k+1$. The parts are $(2k, 2k-1, \\ldots, k+1)$. The sum is $m = \\sum_{j=0}^{k-1}(k+1+j) = k(k+1) + \\frac{k(k-1)}{2} = \\frac{2k^2+2k+k^2-k}{2} = \\frac{k(3k+1)}{2}$. For such a partition, applying the Case 2 operation would yield $(2k-1, \\dots, k)$ and a new part $k$. The resulting multiset of parts is $\\{2k-1, \\dots, k+1, k, k\\}$, which is not a valid partition into distinct parts. This is a fixed point. The number of parts is $k$, so its contribution is $(-1)^k$.\n\n### Part 2: Deduction of the Theorem\n\nThe involution $\\phi$ pairs up every non-exceptional partition of $m$ into distinct parts with another such partition having a number of parts of opposite parity. Their contributions to $[q^m]F(q)$ cancel out. Therefore, $[q^m]F(q)$ is zero unless $m$ has an exceptional partition, i.e., $m$ is a generalized pentagonal number.\n\n- If $m = \\frac{k(3k-1)}{2}$ for some $k \\in \\mathbb{Z}_{0}$, there is exactly one unpaired partition with $k$ parts. The coefficient is $[q^m]F(q) = (-1)^k$.\n- If $m = \\frac{k(3k+1)}{2}$ for some $k \\in \\mathbb{Z}_{0}$, there is exactly one unpaired partition with $k$ parts. The coefficient is $[q^m]F(q) = (-1)^k$.\n- If $m=0$, the only partition is the empty partition, with $k=0$ parts. $p_e(0)=1, p_o(0)=0$. So $[q^0]F(q)=1$. This corresponds to the case $k=0$, as $\\frac{0(3(0)-1)}{2}=0$ and $(-1)^0=1$.\n- For all other integers $m$, $[q^m]F(q) = 0$.\n\nCombining these results gives Euler's pentagonal number theorem:\n$$ \\prod_{n=1}^{\\infty} (1 - q^{n}) = 1 + \\sum_{k=1}^{\\infty} (-1)^k \\left( q^{\\frac{k(3k-1)}{2}} + q^{\\frac{k(3k+1)}{2}} \\right) $$\nThe nonzero coefficients follow an alternating sign pattern determined by $(-1)^k$. For each positive integer $k$, there are two pentagonal numbers, $\\frac{k(3k-1)}{2}$ and $\\frac{k(3k+1)}{2}$. The corresponding coefficients in the series for $F(q)$ are both equal to $(-1)^k$. So for $k=1$ the signs are negative, for $k=2$ they are positive, for $k=3$ negative, and so on, occurring in pairs.\n\n### Part 3: First 20 Generalized Pentagonal Numbers and Signs\n\nWe generate the numbers $m_k^{-} = \\frac{k(3k-1)}{2}$ and $m_k^{+} = \\frac{k(3k+1)}{2}$ for $k \\ge 0$. The sign of the coefficient is $(-1)^k$.\n\n- $k=0$: $m=0$. Sign: $(+)$.\n- $k=1$: $m_1^{-}=1$, $m_1^{+}=2$. Sign: $(-)$.\n- $k=2$: $m_2^{-}=5$, $m_2^{+}=7$. Sign: $(+)$.\n- $k=3$: $m_3^{-}=12$, $m_3^{+}=15$. Sign: $(-)$.\n- $k=4$: $m_4^{-}=22$, $m_4^{+}=26$. Sign: $(+)$.\n- $k=5$: $m_5^{-}=35$, $m_5^{+}=40$. Sign: $(-)$.\n- $k=6$: $m_6^{-}=51$, $m_6^{+}=57$. Sign: $(+)$.\n- $k=7$: $m_7^{-}=70$, $m_7^{+}=77$. Sign: $(-)$.\n- $k=8$: $m_8^{-}=92$, $m_8^{+}=100$. Sign: $(+)$.\n- $k=9$: $m_9^{-}=117$, $m_9^{+}=126$. Sign: $(-)$.\n- $k=10$: $m_{10}^{-}=145$, $m_{10}^{+}=155$. Sign: $(+)$.\n\nListing the first $20$ generalized pentagonal numbers in increasing order and their signs:\n1.  $m=0$: sign $(+)$\n2.  $m=1$: sign $(-)$\n3.  $m=2$: sign $(-)$\n4.  $m=5$: sign $(+)$\n5.  $m=7$: sign $(+)$\n6.  $m=12$: sign $(-)$\n7.  $m=15$: sign $(-)$\n8.  $m=22$: sign $(+)$\n9.  $m=26$: sign $(+)$\n10. $m=35$: sign $(-)$\n11. $m=40$: sign $(-)$\n12. $m=51$: sign $(+)$\n13. $m=57$: sign $(+)$\n14. $m=70$: sign $(-)$\n15. $m=77$: sign $(-)$\n16. $m=92$: sign $(+)$\n17. $m=100$: sign $(+)$\n18. $m=117$: sign $(-)$\n19. $m=126$: sign $(-)$\n20. $m=145$: sign $(+)$\n\n### Part 4: The Coefficient of $q^{155}$\n\nTo find $[q^{155}]F(q)$, we must first determine if $155$ is a generalized pentagonal number. We test the two formulas:\n1.  $\\frac{k(3k-1)}{2} = 155 \\implies 3k^2 - k = 310 \\implies 3k^2 - k - 310 = 0$. Using the quadratic formula, $k = \\frac{1 \\pm \\sqrt{1 - 4(3)(-310)}}{6} = \\frac{1 \\pm \\sqrt{1+3720}}{6} = \\frac{1 \\pm \\sqrt{3721}}{6}$. Since $\\sqrt{3721}=61$, we have $k = \\frac{1 \\pm 61}{6}$. This gives $k = \\frac{62}{6}$ (not an integer) or $k = \\frac{-60}{6}=-10$. A positive integer solution for $k$ does not exist in this case.\n\n2.  $\\frac{k(3k+1)}{2} = 155 \\implies 3k^2 + k = 310 \\implies 3k^2 + k - 310 = 0$. Using the quadratic formula, $k = \\frac{-1 \\pm \\sqrt{1 - 4(3)(-310)}}{6} = \\frac{-1 \\pm \\sqrt{1+3720}}{6} = \\frac{-1 \\pm 61}{6}$. This gives $k = \\frac{60}{6}=10$ or $k = \\frac{-62}{6}$ (not an integer).\n\nWe find that $155$ is a generalized pentagonal number corresponding to $k=10$ in the form $\\frac{k(3k+1)}{2}$.\nAccording to the theorem derived above, the coefficient is $(-1)^k$.\nFor $k=10$, the coefficient is $(-1)^{10} = 1$.\n\nTherefore, the exact integer value of the coefficient $[q^{155}]F(q)$ is $1$.", "answer": "$$\n\\boxed{1}\n$$", "id": "3013526"}, {"introduction": "The Euler Pentagonal Number Theorem is not just an elegant identity; it is a powerful tool with significant applications in number theory. This practice demonstrates its utility by guiding you to derive and implement a highly efficient recurrence relation for the partition function, $p(n)$. By connecting the generating function for $p(n)$ with the pentagonal number series, you will transform a theoretical result into a practical algorithm for computation.[@problem_id:3013513]", "problem": "Design and implement a program that, starting from fundamental generating function definitions, derives and exploits a recurrence to compute the integer partition function $p(n)$ for all $0 \\le n \\le N_{\\max}$, using a linear-time precomputation of generalized pentagonal numbers up to $N_{\\max}$. The core requirements are as follows.\n\n- Fundamental base to start from:\n  - Use the generating function identity for integer partitions: the formal power series satisfies\n    $$\\sum_{n \\ge 0} p(n) q^n = \\prod_{m \\ge 1} \\frac{1}{1 - q^m}.$$\n  - Use standard formal power series manipulations and coefficient extraction. No further specialized results may be assumed a priori.\n\n- Derive, from first principles and the above base, a signed-coefficient recurrence for $p(n)$ whose offsets are determined by the generalized pentagonal numbers. Your derivation must produce an implementable algorithm for computing $p(n)$ for all $0 \\le n \\le N_{\\max}$, where $N_{\\max}$ is the largest query in the test suite. The recurrence must be justified via formal series algebra and coefficient extraction, without appealing to any external theorems beyond the base.\n\n- Precomputation requirement:\n  - Precompute all generalized pentagonal numbers not exceeding a given bound $N_{\\max}$ in time linear in the number of such pentagonal numbers. Concretely, generate the sequence produced by the ordering $k = 1, -1, 2, -2, 3, -3, \\dots$ via the two explicit quadratic forms\n    $$g_1(k) = \\frac{k(3k - 1)}{2}, \\qquad g_2(k) = \\frac{k(3k + 1)}{2}, \\qquad k \\in \\mathbb{Z}_{0},$$\n    and include all values that are at most $N_{\\max}$. Do not sort; instead, design your computation of $p(n)$ to use these two monotone subsequences and their induced sign pattern directly.\n\n- Complexity goals:\n  - The precomputation of the generalized pentagonal numbers must be linear in the count of generated values.\n  - The total computation of $p(n)$ for all $0 \\le n \\le N_{\\max}$ should run in time $\\mathcal{O}(N_{\\max} \\sqrt{N_{\\max}})$ and space $\\mathcal{O}(N_{\\max})$.\n\n- Numerical requirements:\n  - All outputs are exact integers. No modular reduction is permitted.\n  - There are no physical units involved in this problem.\n\n- Test suite:\n  - Your program must compute $p(n)$ for the following list of query values:\n    $$[\\,0,\\,1,\\,2,\\,3,\\,4,\\,5,\\,10,\\,50,\\,100\\,].$$\n  - This suite includes boundary cases (such as $n = 0$), small values that exercise the initial sign pattern, and moderately large values to test performance.\n\n- Final output format:\n  - Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, in the same order as the test suite, for example\n    $$[p(0),p(1),p(2),p(3),p(4),p(5),p(10),p(50),p(100)].$$\n  - No additional text should be printed.\n\nThe program must be fully self-contained, take no input, and follow the execution environment specifications given. The core challenge is to justify and implement the recurrence using generalized pentagonal numbers, with a precomputation routine that runs in linear time in the number of generated generalized pentagonal numbers up to $N_{\\max}$.", "solution": "The problem requires the computation of the integer partition function, denoted $p(n)$, for a given set of non-negative integers. The computation must be based on a recurrence relation derived from the generating function for $p(n)$. This derivation must start from first principles and explicitly detail the connection to generalized pentagonal numbers.\n\n### Step 1: Generating Function Formulation\n\nThe number of ways to write an integer $n$ as a sum of positive integers, without regard to order, is given by the partition function $p(n)$. By convention, $p(0)=1$, corresponding to the empty sum for $0$. The generating function for $p(n)$ is a formal power series $P(q)$ whose coefficients are the values of the partition function:\n$$P(q) = \\sum_{n=0}^{\\infty} p(n) q^n$$\nThe problem provides the fundamental identity for this generating function, which expresses it as an infinite product:\n$$P(q) = \\prod_{m=1}^{\\infty} \\frac{1}{1 - q^m} = \\left(\\frac{1}{1-q}\\right) \\left(\\frac{1}{1-q^2}\\right) \\left(\\frac{1}{1-q^3}\\right) \\cdots$$\nEach term $\\frac{1}{1-q^m}$ can be expanded as a geometric series $1 + q^m + q^{2m} + q^{3m} + \\cdots$. In the product, selecting the term $q^{k_m m}$ from the $m$-th factor corresponds to using the integer $m$ a total of $k_m$ times in a partition. The coefficient of $q^n$ in the full product is then the number of ways to choose non-negative integers $k_m$ such that $\\sum_{m=1}^{\\infty} k_m m = n$, which is precisely the definition of $p(n)$.\n\n### Step 2: Derivation of the Recurrence Relation\n\nTo derive a recurrence relation for $p(n)$, we consider the inverse of the generating function, $P(q)^{-1}$. Let us denote this inverse series as $\\Phi(q)$:\n$$\\Phi(q) = P(q)^{-1} = \\prod_{m=1}^{\\infty} (1 - q^m)$$\nBy definition, the product of a series and its inverse must be the multiplicative identity in the ring of formal power series, which is $1$.\n$$P(q) \\Phi(q) = 1$$\nLet us express $\\Phi(q)$ as a power series with unknown coefficients $c_j$:\n$$\\Phi(q) = \\sum_{j=0}^{\\infty} c_j q^j$$\nSubstituting the series for $P(q)$ and $\\Phi(q)$ into their product identity gives:\n$$\\left( \\sum_{n=0}^{\\infty} p(n) q^n \\right) \\left( \\sum_{j=0}^{\\infty} c_j q^j \\right) = 1$$\nUsing the Cauchy product rule for series multiplication, the coefficient of $q^N$ on the left-hand side is given by $\\sum_{k=0}^{N} p(k) c_{N-k}$. The series on the right-hand side is $1 + 0q^1 + 0q^2 + \\cdots$. By equating the coefficients of $q^N$ on both sides, we obtain:\n\\begin{itemize}\n    \\item For $N=0$: $[q^0] (P(q)\\Phi(q)) = p(0)c_0 = 1$.\n    \\item For $N0$: $[q^N] (P(q)\\Phi(q)) = \\sum_{k=0}^{N} p(k) c_{N-k} = 0$.\n\\end{itemize}\nFrom the definition $\\Phi(q) = \\prod_{m=1}^{\\infty} (1-q^m)$, the constant term $c_0$ is found by setting $q=0$, which yields $c_0 = 1$. The condition for $N=0$ then implies $p(0) \\cdot 1 = 1$, so $p(0)=1$, which is consistent with the combinatorial definition.\n\nFor $N0$, we can rearrange the sum to solve for $p(N)$:\n$$p(N)c_0 + \\sum_{k=0}^{N-1} p(k) c_{N-k} = 0$$\nSince $c_0=1$, we have:\n$$p(N) = - \\sum_{k=0}^{N-1} p(k) c_{N-k}$$\nBy changing the index of summation to $j=N-k$, as $k$ runs from $0$ to $N-1$, $j$ runs from $N$ to $1$:\n$$p(N) = - \\sum_{j=1}^{N} p(N-j) c_j$$\nThis expression is a recurrence relation for $p(N)$, but it depends on the coefficients $c_j$ of the series $\\Phi(q)$.\n\n### Step 3: Determining the Coefficients $c_j$\n\nThe problem guides us to the structure of the coefficients $c_j$ by providing the formulas for generalized pentagonal numbers. The expansion of the infinite product $\\Phi(q) = \\prod_{m=1}^{\\infty} (1 - q^m)$ is a classical result established by Euler, which states:\n$$\\prod_{m=1}^{\\infty} (1 - q^m) = \\sum_{k=-\\infty}^{\\infty} (-1)^k q^{k(3k-1)/2}$$\nThis series on the right is sparse; most of its coefficients are zero. Let's write out the first few terms by calculating the exponent $g_k = k(3k-1)/2$ for integer values of $k$:\n\\begin{itemize}\n    \\item $k=0: g_0 = 0( -1)/2 = 0$. Term: $(-1)^0 q^0 = 1$.\n    \\item $k=1: g_1 = 1(3(1)-1)/2 = 1$. Term: $(-1)^1 q^1 = -q^1$.\n    \\item $k=-1: g_{-1} = -1(3(-1)-1)/2 = 2$. Term: $(-1)^{-1} q^2 = -q^2$.\n    \\item $k=2: g_2 = 2(3(2)-1)/2 = 5$. Term: $(-1)^2 q^5 = +q^5$.\n    \\item $k=-2: g_{-2} = -2(3(-2)-1)/2 = 7$. Term: $(-1)^{-2} q^7 = +q^7$.\n    \\item $k=3: g_3 = 3(3(3)-1)/2 = 12$. Term: $(-1)^3 q^{12} = -q^{12}$.\n    \\item $k=-3: g_{-3} = -3(3(-3)-1)/2 = 15$. Term: $(-1)^{-3} q^{15} = -q^{15}$.\n\\end{itemize}\nThe exponents are the generalized pentagonal numbers. For $k \\in \\mathbb{Z}_{0}$, the pair of exponents for $k$ and $-k$ corresponds to the formulas given in the problem statement:\n- Exponent for $k$: $g_1(k) = \\frac{k(3k-1)}{2}$\n- Exponent for $-k$: $\\frac{(-k)(3(-k)-1)}{2} = \\frac{-k(-3k-1)}{2} = \\frac{k(3k+1)}{2} = g_2(k)$\n\nThus, the series $\\Phi(q)$ can be written as:\n$$\\Phi(q) = 1 + \\sum_{k=1}^{\\infty} (-1)^k \\left( q^{k(3k-1)/2} + q^{k(3k+1)/2} \\right)$$\nFrom this expansion, we can identify the coefficients $c_j$:\n$$c_j = \\begin{cases} 1  \\text{if } j=0 \\\\ (-1)^k  \\text{if } j = \\frac{k(3k \\pm 1)}{2} \\text{ for some } k \\in \\mathbb{Z}_{0} \\\\ 0  \\text{otherwise} \\end{cases}$$\n\n### Step 4: Final Recurrence and Algorithmic Design\n\nSubstituting these non-zero coefficients $c_j$ into our recurrence $p(N) = - \\sum_{j=1}^{N} p(N-j) c_j$, the sum now only includes terms where $j$ is a generalized pentagonal number.\n$$p(N) = - \\sum_{k=1, \\, \\frac{k(3k\\pm1)}{2} \\le N} (-1)^k \\left( p\\left(N - \\frac{k(3k-1)}{2}\\right) + p\\left(N - \\frac{k(3k+1)}{2}\\right) \\right)$$\nNote that the sum for $p(N - \\frac{k(3k+1)}{2})$ is only included if the argument is non-negative. We can rewrite this by moving the negative sign inside the sum:\n$$p(N) = \\sum_{k=1}^{\\infty} (-1)^{k+1} \\left[ p\\left(N - \\frac{k(3k-1)}{2}\\right) + p\\left(N - \\frac{k(3k+1)}{2}\\right) \\right]$$\nwhere we define $p(m)=0$ if $m0$. This is the final, computable recurrence relation for the partition function $p(N)$.\n\nThe algorithm proceeds as follows:\n1.  Determine the maximum value of $n$ to compute, $N_{\\max}$, from the test suite. Here, $N_{\\max}=100$.\n2.  Create an array, say `partitions`, of size $N_{\\max}+1$ to store values of $p(n)$ for $n$ from $0$ to $N_{\\max}$.\n3.  Initialize the base case: `partitions[0] = 1`.\n4.  Iterate $n$ from $1$ to $N_{\\max}$ to compute `partitions[n]` using a nested loop.\n5.  The inner loop iterates over $k=1, 2, 3, \\dots$. For each $k$, we compute the two generalized pentagonal numbers, $g_1(k) = \\frac{k(3k-1)}{2}$ and $g_2(k) = \\frac{k(3k+1)}{2}$.\n6.  The sign of the terms for a given $k$ is $(-1)^{k+1}$.\n7.  If $g_1(k) \\le n$, we add/subtract the term $(-1)^{k+1} \\cdot \\text{partitions}[n - g_1(k)]$ to the running sum for $p(n)$.\n8.  If $g_2(k) \\le n$, we do the same for the term involving $g_2(k)$.\n9.  The inner loop over $k$ terminates when $g_1(k)  n$, since all subsequent pentagonal numbers will also be greater than $n$.\n10. Once the `partitions` array is fully computed, we extract the values corresponding to the query list $[0, 1, 2, 3, 4, 5, 10, 50, 100]$.\n\nThis algorithm has a time complexity of $\\mathcal{O}(N_{\\max} \\sqrt{N_{\\max}})$ because for each $n$ up to $N_{\\max}$, the inner loop runs $\\mathcal{O}(\\sqrt{n})$ times. The space complexity is $\\mathcal{O}(N_{\\max})$ to store the computed partition values. This meets the specified complexity goals. No precomputation and storage of pentagonal numbers is necessary; they can be generated on-the-fly within the loops. This is still effectively linear in the number of pentagonal numbers considered over the whole computation.", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n# from scipy import ...\n\ndef solve():\n    \"\"\"\n    Computes integer partition numbers p(n) using a recurrence derived from\n    Euler's pentagonal number theorem. The solution is derived from the\n    generating function for partitions and does not assume the theorem a priori,\n    but rather follows the derivation path to the recurrence.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    test_cases = [0, 1, 2, 3, 4, 5, 10, 50, 100]\n    \n    # Determine the maximum n for which we need to compute p(n).\n    if not test_cases:\n        print(\"[]\")\n        return\n        \n    N_max = max(test_cases)\n    \n    # Create a list to store the values of the partition function p(n).\n    # The size is N_max + 1 to hold values from p(0) to p(N_max).\n    # Python's integers support arbitrary precision, so overflow is not an issue.\n    partitions = [0] * (N_max + 1)\n    \n    # Base case: There is one partition of 0 (the empty partition).\n    partitions[0] = 1\n    \n    # Iterate through n from 1 to N_max to compute p(n) for each.\n    for n in range(1, N_max + 1):\n        # The recurrence for p(n) is:\n        # p(n) = sum_{k=1 to inf} (-1)^(k+1) * [p(n - g1(k)) + p(n - g2(k))]\n        # where g1(k) = k*(3*k-1)/2 and g2(k) = k*(3*k+1)/2 are the\n        # generalized pentagonal numbers.\n        \n        # We iterate over k to generate the pentagonal numbers.\n        for k in range(1, n + 1):\n            sign = 1 if (k + 1) % 2 == 0 else -1 # This is (-1)^(k+1)\n            \n            # First generalized pentagonal number for k\n            g1 = (k * (3 * k - 1)) // 2\n            \n            # If the pentagonal number is greater than n, we can stop,\n            # as subsequent pentagonal numbers will also be greater.\n            if g1 > n:\n                break\n            \n            partitions[n] += sign * partitions[n - g1]\n            \n            # Second generalized pentagonal number for k\n            g2 = (k * (3 * k + 1)) // 2\n            \n            if g2 > n:\n                # No need to check g2 for future k's either, but g1 might still be valid\n                continue\n            \n            partitions[n] += sign * partitions[n - g2]\n\n    # Collect results for the specified test cases\n    results = [partitions[i] for i in test_cases]\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```", "id": "3013513"}]}