{"hands_on_practices": [{"introduction": "Understanding the ray class groups of the rational numbers $\\mathbb{Q}$ is the first step toward mastering class field theory. This exercise [@problem_id:3022533] illuminates the crucial role of the modulus, particularly the distinction between a modulus with only a finite part and one that includes the real place. By analyzing this difference, you will see how a simple sign condition on generators of principal ideals corresponds to the profound distinction between a full cyclotomic field and its maximal real subfield.", "problem": "Let $n \\geq 3$ be an integer and let $\\mathfrak{m}$ denote a modulus for the number field $\\mathbb{Q}$, with either $\\mathfrak{m} = n$ (finite part only) or $\\mathfrak{m} = n\\infty$ (finite part together with the unique real place). The ray class group $\\mathrm{Cl}_{\\mathfrak{m}}(\\mathbb{Q})$ is defined as the quotient of the group of fractional ideals of $\\mathbb{Q}$ coprime to the finite part $\\mathfrak{m}_f$ by the subgroup of principal ideals $(\\alpha)$ generated by elements $\\alpha \\in \\mathbb{Q}^{\\times}$ satisfying the congruence condition $\\alpha \\equiv 1 \\pmod{n}$ and, in addition, the sign condition $\\alpha > 0$ at the real place whenever $\\infty$ divides $\\mathfrak{m}$. Starting from these definitions, and relying only on fundamental class field theory facts for $\\mathbb{Q}$ (including the global Artin reciprocity and the Kronecker–Weber theorem), analyze how the sign condition at $\\infty$ changes which principal ideals are identified as trivial ray classes. Use this analysis to determine, in terms of the Euler totient function $\\varphi(n)$, the exact values of the cardinalities $|\\mathrm{Cl}_{n}(\\mathbb{Q})|$ and $|\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})|$. Express your final answers solely in terms of $n$ and $\\varphi(n)$ as a single analytical expression, and do not round.", "solution": "The problem is first validated against the given criteria.\n\n### Step 1: Extract Givens\n- Let $n \\ge 3$ be an integer.\n- Let $\\mathfrak{m}$ be a modulus for the number field $\\mathbb{Q}$.\n- Two cases for the modulus: $\\mathfrak{m} = n$ (finite part only) or $\\mathfrak{m} = n\\infty$ (finite part and the real place).\n- The ray class group is defined as $\\mathrm{Cl}_{\\mathfrak{m}}(\\mathbb{Q}) = I(\\mathfrak{m}) / P_{\\mathfrak{m}}$, where $I(\\mathfrak{m})$ is the group of fractional ideals of $\\mathbb{Q}$ coprime to the finite part of $\\mathfrak{m}$, and $P_{\\mathfrak{m}}$ is the subgroup of principal ideals $(\\alpha)$ generated by elements $\\alpha \\in \\mathbb{Q}^{\\times}$ satisfying certain conditions.\n- For a generator $\\alpha$ of an ideal in $P_{\\mathfrak{m}}$, the conditions are:\n    1. $\\alpha \\equiv 1 \\pmod{n}$. This is a congruence condition related to the finite part $(n)$. Specifically, if $\\alpha = a/b$ with $a, b \\in \\mathbb{Z}$ and $b$ is coprime to $n$, then $a \\equiv b \\pmod{n}$, which is equivalent to $\\nu_p(\\alpha-1) \\ge \\nu_p(n)$ for all prime factors $p$ of $n$. This is often denoted $\\alpha \\equiv 1 \\pmod* n$.\n    2. $\\alpha > 0$ if the modulus $\\mathfrak{m}$ includes the real place $\\infty$.\n- The task is to determine the cardinalities $|\\mathrm{Cl}_{n}(\\mathbb{Q})|$ and $|\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})|$ in terms of $n$ and the Euler totient function $\\varphi(n)$, by analyzing the effect of the sign condition.\n- The solution should rely on fundamental facts of class field theory for $\\mathbb{Q}$, including the Kronecker–Weber theorem and Artin reciprocity.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is well-defined, scientifically grounded, and objective. It is a standard problem in algebraic number theory.\n- **Scientific Soundness**: The concepts of number fields, moduli, ray class groups, and class field theory are all standard and mathematically rigorous. The problem statement does not violate any known mathematical principles.\n- **Well-Posedness**: The problem asks for the orders of two specific mathematical groups. These groups are well-defined, and their orders can be uniquely determined from the given information. The condition $n \\ge 3$ is significant and makes the problem well-posed, avoiding special cases for $n=1, 2$.\n- **Completeness and Consistency**: The problem provides all necessary definitions, either explicitly or by referring to standard terminology in number theory. There are no contradictions.\n- **Objectivity**: The problem is stated in precise, formal language without any subjective or opinion-based content.\n\n### Step 3: Verdict and Action\nThe problem is **valid**. A full solution will be provided.\n\n### Solution\nLet $K = \\mathbb{Q}$. We are asked to compute the order of the ray class group $\\mathrm{Cl}_{\\mathfrak{m}}(\\mathbb{Q})$ for two moduli, $\\mathfrak{m} = n$ and $\\mathfrak{m} = n\\infty$, where $n \\geq 3$ is an integer.\n\nThe ray class group for a modulus $\\mathfrak{m}$ is defined as the quotient $\\mathrm{Cl}_{\\mathfrak{m}}(\\mathbb{Q}) = I(\\mathfrak{m}) / P_{\\mathfrak{m}}$. For both moduli $\\mathfrak{m}=n$ and $\\mathfrak{m}=n\\infty$, the finite part is the ideal $(n)$. The group of fractional ideals $I(\\mathfrak{m})$ is therefore the group of fractional ideals of $\\mathbb{Q}$ that are coprime to $(n)$. We denote this group by $I_n$. This group is the same for both moduli.\n\nThe subgroups of principal ideals, however, are different. These are the ray subgroups.\nFor $\\mathfrak{m} = n\\infty$, the subgroup $P_{n\\infty}$ consists of principal ideals $(\\alpha)$ for which there exists a generator $\\alpha \\in \\mathbb{Q}^{\\times}$ such that $\\alpha \\equiv 1 \\pmod* n$ and $\\alpha > 0$.\nFor $\\mathfrak{m} = n$, the subgroup $P_n$ consists of principal ideals $(\\alpha)$ for which there exists a generator $\\alpha \\in \\mathbb{Q}^{\\times}$ such that $\\alpha \\equiv 1 \\pmod* n$, with no sign condition.\n\nFirst, we determine the order of $\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})$. The Kronecker-Weber theorem states that any abelian extension of $\\mathbb{Q}$ is contained within a cyclotomic field. A fundamental result of global class field theory is that the ray class field for the modulus $\\mathfrak{m} = n\\infty$ over $\\mathbb{Q}$ is precisely the $n$-th cyclotomic field, $L = \\mathbb{Q}(\\zeta_n)$, where $\\zeta_n = \\exp(2\\pi i / n)$.\nThe Artin reciprocity theorem provides a canonical isomorphism, the Artin map, between the ray class group and the Galois group of the ray class field extension:\n$$ \\mathrm{Cl}_{n\\infty}(\\mathbb{Q}) \\cong \\mathrm{Gal}(\\mathbb{Q}(\\zeta_n)/\\mathbb{Q}) $$\nThe order of the Galois group is the degree of the field extension, which is given by Euler's totient function:\n$$ |\\mathrm{Gal}(\\mathbb{Q}(\\zeta_n)/\\mathbb{Q})| = [\\mathbb{Q}(\\zeta_n):\\mathbb{Q}] = \\varphi(n) $$\nTherefore, the cardinality of the ray class group for modulus $n\\infty$ is:\n$$ |\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})| = \\varphi(n) $$\n\nNext, we determine the order of $\\mathrm{Cl}_n(\\mathbb{Q})$. The definition of $P_n$ relaxes the condition on the generators compared to $P_{n\\infty}$. Thus, $P_{n\\infty}$ is a subgroup of $P_n$.\nThe two ray class groups are $\\mathrm{Cl}_{n\\infty}(\\mathbb{Q}) = I_n/P_{n\\infty}$ and $\\mathrm{Cl}_n(\\mathbb{Q}) = I_n/P_n$.\nBy the third isomorphism theorem for groups, we have:\n$$ \\mathrm{Cl}_n(\\mathbb{Q}) = I_n/P_n \\cong (I_n/P_{n\\infty}) / (P_n/P_{n\\infty}) \\cong \\mathrm{Cl}_{n\\infty}(\\mathbb{Q}) / (P_n/P_{n\\infty}) $$\nTaking the orders, we get:\n$$ |\\mathrm{Cl}_n(\\mathbb{Q})| = \\frac{|\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})|}{|P_n/P_{n\\infty}|} = \\frac{\\varphi(n)}{|P_n:P_{n\\infty}|} $$\nOur task reduces to finding the index of the subgroup $P_{n\\infty}$ in $P_n$.\n\nAn ideal $(\\alpha) \\in P_n$ has, by definition, a generator $\\alpha_0$ such that $\\alpha_0 \\equiv 1 \\pmod* n$. This generator is unique: if another generator, $-\\alpha_0$, also satisfied the congruence, it would imply $1 \\equiv -1 \\pmod* n$, which requires $n|2$, but we are given $n \\ge 3$. The ideal $(\\alpha)$ belongs to the subgroup $P_{n\\infty}$ if and only if this unique generator $\\alpha_0$ is positive. The map $\\psi: P_n \\to \\{\\pm 1\\}$ defined by $\\psi((\\alpha)) = \\operatorname{sgn}(\\alpha_0)$ is a surjective group homomorphism. It is surjective because the ideal $(1-n)$ is in $P_n$ and its unique qualifying generator $1-n$ is negative (since $n \\ge 3$). The kernel of $\\psi$ is exactly $P_{n\\infty}$. Therefore, the quotient group $P_n/P_{n\\infty}$ is isomorphic to $\\{\\pm 1\\}$, and its order, the index $|P_n:P_{n\\infty}|$, is 2.\n\nSubstituting this back into our expression for the order of $\\mathrm{Cl}_n(\\mathbb{Q})$:\n$$ |\\mathrm{Cl}_n(\\mathbb{Q})| = \\frac{\\varphi(n)}{2} $$\n\nThe condition $n \\ge 3$ ensures that $\\varphi(n)$ is always an even number, so this result is an integer. Specifically, if $n>2$, then either $n$ has an odd prime factor $p$ (so $\\varphi(n)$ has a factor $\\varphi(p)=p-1$ which is even), or $n$ is a power of $2$, $n=2^k$ with $k \\ge 2$, in which case $\\varphi(n) = 2^{k-1}$ is even.\n\nIn summary:\nThe cardinality of the ray class group for modulus $\\mathfrak{m} = n\\infty$ is $|\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})| = \\varphi(n)$.\nThe cardinality of the ray class group for modulus $\\mathfrak{m} = n$ is $|\\mathrm{Cl}_{n}(\\mathbb{Q})| = \\frac{\\varphi(n)}{2}$.", "answer": "$$ \\boxed{ \\begin{pmatrix} \\frac{\\varphi(n)}{2} & \\varphi(n) \\end{pmatrix} } $$", "id": "3022533"}, {"introduction": "While ray class groups over $\\mathbb{Q}$ are relatively straightforward, fields with non-trivial unit groups introduce a new layer of complexity. A key step in determining the structure of a ray class group is to understand how the units of the field interact with the congruence conditions imposed by the modulus. This practice [@problem_id:3022522] focuses on this essential calculation for the real quadratic field $\\mathbb{Q}(\\sqrt{2})$, guiding you to compute the index of the ray subgroup of units by analyzing the behavior of the fundamental unit.", "problem": "Let $K = \\mathbb{Q}(\\sqrt{2})$ with ring of integers $\\mathcal{O}_{K} = \\mathbb{Z}[\\sqrt{2}]$. Let $\\mathfrak{m} = \\mathfrak{m}_{f}\\,\\mathfrak{m}_{\\infty}$ be the modulus with finite part $\\mathfrak{m}_{f} = 3\\mathcal{O}_{K}$ and infinite part $\\mathfrak{m}_{\\infty}$ equal to the product of the two real places of $K$. Let $\\mathcal{O}_{K}^{\\times}$ denote the unit group, and define the ray subgroup of units\n$$\nU_{\\mathfrak{m}} := \\left\\{ u \\in \\mathcal{O}_{K}^{\\times} : u \\equiv 1 \\pmod{3\\mathcal{O}_{K}} \\text{ and } \\sigma_{i}(u) > 0 \\text{ for } i=1,2 \\right\\},\n$$\nwhere $\\sigma_{1},\\sigma_{2}: K \\hookrightarrow \\mathbb{R}$ are the two real embeddings given by $\\sigma_{1}(\\sqrt{2}) = \\sqrt{2}$ and $\\sigma_{2}(\\sqrt{2}) = -\\sqrt{2}$. Consider the homomorphism\n$$\n\\varphi: \\mathcal{O}_{K}^{\\times} \\longrightarrow \\left(\\mathcal{O}_{K}/3\\mathcal{O}_{K}\\right)^{\\times} \\times \\left(\\{\\pm 1\\} \\times \\{\\pm 1\\}\\right),\n$$\ndefined by\n$$\n\\varphi(u) := \\left(u \\bmod 3\\mathcal{O}_{K},\\ \\big(\\operatorname{sgn}(\\sigma_{1}(u)),\\ \\operatorname{sgn}(\\sigma_{2}(u))\\big)\\right).\n$$\nStarting from fundamental definitions of ray class groups and the characterization of $U_{\\mathfrak{m}}$ as the kernel of the above map, and using only the structure of $\\mathcal{O}_{K}^{\\times}$ for $K$ real quadratic, evaluate the index $[\\mathcal{O}_{K}^{\\times} : U_{\\mathfrak{m}}]$ by explicitly computing the subgroup $\\varphi(\\mathcal{O}_{K}^{\\times})$. In particular, determine the images under $\\varphi$ of the fundamental unit $\\varepsilon = 1 + \\sqrt{2}$ and of $-1$, and use them to generate $\\varphi(\\mathcal{O}_{K}^{\\times})$.\n\nGive your final answer as an integer.", "solution": "The problem asks for the evaluation of the index $[\\mathcal{O}_{K}^{\\times} : U_{\\mathfrak{m}}]$, where $K = \\mathbb{Q}(\\sqrt{2})$, $\\mathcal{O}_{K} = \\mathbb{Z}[\\sqrt{2}]$ is its ring of integers, and $U_{\\mathfrak{m}}$ is the ray subgroup of units for the modulus $\\mathfrak{m} = 3\\mathcal{O}_{K} \\cdot \\mathfrak{m}_{\\infty}$.\n\nThe modulus is given by $\\mathfrak{m} = \\mathfrak{m}_{f}\\,\\mathfrak{m}_{\\infty}$, with the finite part $\\mathfrak{m}_{f} = 3\\mathcal{O}_{K}$ and the infinite part $\\mathfrak{m}_{\\infty}$ being the product of the two real places of $K$. The two real embeddings are $\\sigma_{1}, \\sigma_{2}: K \\hookrightarrow \\mathbb{R}$, defined by $\\sigma_{1}(\\sqrt{2}) = \\sqrt{2}$ and $\\sigma_{2}(\\sqrt{2}) = -\\sqrt{2}$.\n\nThe ray subgroup of units $U_{\\mathfrak{m}}$ is defined as\n$$\nU_{\\mathfrak{m}} = \\left\\{ u \\in \\mathcal{O}_{K}^{\\times} : u \\equiv 1 \\pmod{3\\mathcal{O}_{K}} \\text{ and } \\sigma_{i}(u) > 0 \\text{ for } i=1,2 \\right\\}.\n$$\nWe are given a homomorphism $\\varphi: \\mathcal{O}_{K}^{\\times} \\longrightarrow \\left(\\mathcal{O}_{K}/3\\mathcal{O}_{K}\\right)^{\\times} \\times \\left(\\{\\pm 1\\} \\times \\{\\pm 1\\}\\right)$ defined by\n$$\n\\varphi(u) = \\left(u \\bmod 3\\mathcal{O}_{K},\\ \\big(\\operatorname{sgn}(\\sigma_{1}(u)),\\ \\operatorname{sgn}(\\sigma_{2}(u))\\big)\\right).\n$$\nThe identity element of the codomain group is $(1 \\pmod{3\\mathcal{O}_{K}}, (1, 1))$. An element $u \\in \\mathcal{O}_{K}^{\\times}$ is in the kernel of $\\varphi$ if and only if $\\varphi(u) = (1, (1,1))$. This means $u \\equiv 1 \\pmod{3\\mathcal{O}_{K}}$ and $\\operatorname{sgn}(\\sigma_{1}(u)) = 1$, $\\operatorname{sgn}(\\sigma_{2}(u)) = 1$. The latter two conditions are equivalent to $\\sigma_{1}(u) > 0$ and $\\sigma_{2}(u) > 0$. This is precisely the definition of $U_{\\mathfrak{m}}$. Thus, $U_{\\mathfrak{m}} = \\ker(\\varphi)$.\n\nBy the First Isomorphism Theorem for groups, we have an isomorphism $\\mathcal{O}_{K}^{\\times} / \\ker(\\varphi) \\cong \\operatorname{Im}(\\varphi)$, which is $\\mathcal{O}_{K}^{\\times} / U_{\\mathfrak{m}} \\cong \\varphi(\\mathcal{O}_{K}^{\\times})$. The index of $U_{\\mathfrak{m}}$ in $\\mathcal{O}_{K}^{\\times}$ is the order of the quotient group:\n$$\n[\\mathcal{O}_{K}^{\\times} : U_{\\mathfrak{m}}] = |\\mathcal{O}_{K}^{\\times} / U_{\\mathfrak{m}}| = |\\varphi(\\mathcal{O}_{K}^{\\times})|.\n$$\nOur task is to compute the order of the image group $\\varphi(\\mathcal{O}_{K}^{\\times})$.\n\nFirst, we analyze the structure of the domain and codomain.\nThe domain is the group of units $\\mathcal{O}_{K}^{\\times}$ of the real quadratic field $K = \\mathbb{Q}(\\sqrt{2})$. By Dirichlet's Unit Theorem, $\\mathcal{O}_{K}^{\\times} \\cong \\{\\pm 1\\} \\times \\mathbb{Z}$. The group is generated by the unit $-1$ and the fundamental unit $\\varepsilon = 1 + \\sqrt{2}$. Any unit $u \\in \\mathcal{O}_{K}^{\\times}$ can be written in the form $u = (-1)^{k} \\varepsilon^{n}$ for $k \\in \\{0, 1\\}$ and $n \\in \\mathbb{Z}$.\n\nThe codomain is $G = (\\mathcal{O}_{K}/3\\mathcal{O}_{K})^{\\times} \\times (\\{\\pm 1\\} \\times \\{\\pm 1\\})$.\nTo understand the structure of the ring $\\mathcal{O}_{K}/3\\mathcal{O}_{K} = \\mathbb{Z}[\\sqrt{2}]/3\\mathbb{Z}[\\sqrt{2}]$, we consider the polynomial $p(x) = x^2 - 2$ over the field $\\mathbb{F}_3$. Since $1^2 \\equiv 1 \\pmod 3$ and $2^2 \\equiv 1 \\pmod 3$, $2$ is not a quadratic residue modulo $3$. Therefore, $x^2-2$ is irreducible over $\\mathbb{F}_3$. This implies that the ideal $3\\mathcal{O}_{K}$ is a prime ideal in $\\mathcal{O}_{K}$. The quotient ring $\\mathcal{O}_{K}/3\\mathcal{O}_{K}$ is a field extension of $\\mathbb{F}_3$ of degree $2$, which is the finite field $\\mathbb{F}_{3^2} = \\mathbb{F}_9$.\nThe multiplicative group $(\\mathcal{O}_{K}/3\\mathcal{O}_{K})^{\\times}$ is the multiplicative group of $\\mathbb{F}_9$, which is a cyclic group of order $9-1=8$. The second component of the codomain, $\\{\\pm 1\\} \\times \\{\\pm 1\\}$, is the Klein four-group, of order $4$. The total order of the codomain $G$ is $8 \\times 4 = 32$.\n\nSince $\\mathcal{O}_{K}^{\\times}$ is generated by $-1$ and $\\varepsilon = 1+\\sqrt{2}$, its image $\\varphi(\\mathcal{O}_{K}^{\\times})$ is generated by $\\varphi(-1)$ and $\\varphi(\\varepsilon)$. We compute these two elements.\n\nImage of $-1$:\n$$\n\\varphi(-1) = \\left(-1 \\pmod{3\\mathcal{O}_{K}},\\ \\big(\\operatorname{sgn}(\\sigma_{1}(-1)),\\ \\operatorname{sgn}(\\sigma_{2}(-1))\\big)\\right).\n$$\nSince $\\sigma_1$ and $\\sigma_2$ are field embeddings, they map $-1$ to $-1$. So $\\operatorname{sgn}(\\sigma_{1}(-1)) = -1$ and $\\operatorname{sgn}(\\sigma_{2}(-1)) = -1$.\n$$\n\\varphi(-1) = (-1, (-1, -1)).\n$$\nLet's call this generator $g_1$. Its order is $2$, since $g_1^2 = ((-1)^2, ((-1)^2, (-1)^2)) = (1, (1, 1))$, which is the identity element.\n\nImage of $\\varepsilon = 1+\\sqrt{2}$:\n$$\n\\varphi(\\varepsilon) = \\left(1+\\sqrt{2} \\pmod{3\\mathcal{O}_{K}},\\ \\big(\\operatorname{sgn}(\\sigma_{1}(1+\\sqrt{2})),\\ \\operatorname{sgn}(\\sigma_{2}(1+\\sqrt{2}))\\big)\\right).\n$$\nFor the sign component, $\\sigma_{1}(1+\\sqrt{2}) = 1+\\sqrt{2} > 0$ and $\\sigma_{2}(1+\\sqrt{2}) = 1-\\sqrt{2} < 0$. So the signs are $(1, -1)$.\nThe first component is the element $1+\\sqrt{2}$ in the group $(\\mathcal{O}_{K}/3\\mathcal{O}_{K})^{\\times} \\cong \\mathbb{F}_9^{\\times}$. Let's find its order:\n$(1+\\sqrt{2})^1 = 1+\\sqrt{2}$\n$(1+\\sqrt{2})^2 = 1 + 2\\sqrt{2} + 2 = 3 + 2\\sqrt{2} \\equiv 2\\sqrt{2} \\pmod 3$\n$(1+\\sqrt{2})^4 \\equiv (2\\sqrt{2})^2 = 8 \\equiv 2 \\equiv -1 \\pmod 3$\n$(1+\\sqrt{2})^8 \\equiv (-1)^2 = 1 \\pmod 3$\nThe order of $1+\\sqrt{2}$ in $(\\mathcal{O}_{K}/3\\mathcal{O}_{K})^{\\times}$ is $8$. Thus, it is a generator of this cyclic group.\nSo, we have:\n$$\n\\varphi(\\varepsilon) = (1+\\sqrt{2}, (1, -1)).\n$$\nLet's call this generator $g_2$. The order of $g_2$ is the least common multiple of the orders of its components. The order of $1+\\sqrt{2}$ is $8$. The order of $(1,-1)$ in $\\{\\pm 1\\}\\times\\{\\pm 1\\}$ is $2$. Thus, the order of $g_2$ is $\\operatorname{lcm}(8, 2) = 8$.\n\nThe image group $\\varphi(\\mathcal{O}_{K}^{\\times})$ is the subgroup of $G$ generated by $g_1 = (-1, (-1, -1))$ and $g_2 = (1+\\sqrt{2}, (1, -1))$. As the codomain $G$ is a direct product of abelian groups, it is abelian, and so is its subgroup $\\varphi(\\mathcal{O}_{K}^{\\times})$. Any element of this image group can be written as $g_1^k g_2^n$ for integers $k, n$. Since $|g_1|=2$ and $|g_2|=8$, all elements are of the form $g_1^k g_2^n$ for $k \\in \\{0,1\\}$ and $n \\in \\{0, 1, \\dots, 7\\}$.\n\nThe order of the group $\\langle g_1, g_2 \\rangle$ is given by\n$$\n|\\langle g_1, g_2 \\rangle| = \\frac{|\\langle g_1 \\rangle| \\cdot |\\langle g_2 \\rangle|}{|\\langle g_1 \\rangle \\cap \\langle g_2 \\rangle|} = \\frac{2 \\cdot 8}{|\\langle g_1 \\rangle \\cap \\langle g_2 \\rangle|}.\n$$\nWe need to determine the intersection of the cyclic subgroups $\\langle g_1 \\rangle$ and $\\langle g_2 \\rangle$. The only non-identity element of $\\langle g_1 \\rangle$ is $g_1$ itself. We check if $g_1$ is in $\\langle g_2 \\rangle$. This would mean $g_1 = g_2^n$ for some $n \\in \\{1,\\dots,7\\}$.\n$$\n(-1, (-1, -1)) = g_2^n = \\left((1+\\sqrt{2})^n,\\ (1, (-1)^n)\\right).\n$$\nComparing the sign components, we would require $(-1, -1) = (1, (-1)^n)$. This is impossible because the first coordinates do not match: $-1 \\neq 1$.\nTherefore, $g_1 \\notin \\langle g_2 \\rangle$, and the intersection of the two subgroups is the trivial group, i.e., $\\langle g_1 \\rangle \\cap \\langle g_2 \\rangle = \\{e\\}$, where $e$ is the identity element.\n\nThe order of the image group is $|\\varphi(\\mathcal{O}_{K}^{\\times})| = 2 \\cdot 8 = 16$.\nSince the image group is generated by commuting elements $g_1$ and $g_2$ with a trivial intersection of their cyclic subgroups, it is isomorphic to their direct product, $\\varphi(\\mathcal{O}_{K}^{\\times}) \\cong \\langle g_1 \\rangle \\times \\langle g_2 \\rangle \\cong C_2 \\times C_8$.\n\nFinally, the index is the order of this image group:\n$$\n[\\mathcal{O}_{K}^{\\times} : U_{\\mathfrak{m}}] = |\\varphi(\\mathcal{O}_{K}^{\\times})| = 16.\n$$", "answer": "$$\n\\boxed{16}\n$$", "id": "3022522"}, {"introduction": "The true power of class field theory is its ability to provide an explicit description of how prime ideals decompose in abelian extensions, a principle governed by the Artin reciprocity law. The central object in this description is the Frobenius element. This culminating practice [@problem_id:3022545] moves from calculating the size of class groups to using their structure, guiding you to compute a specific Frobenius element by connecting the abstract Artin map to a tangible calculation with cubic residue symbols.", "problem": "Let $K = \\mathbb{Q}(\\sqrt{-3}) = \\mathbb{Q}(\\zeta_{3})$ with discriminant $d = -3$, where $\\zeta_{3} = \\exp(2\\pi i/3)$. Let $\\mathfrak{p}$ be the unique prime of $\\mathcal{O}_{K}$ above $3$, equivalently $\\mathfrak{p} = (1 - \\zeta_{3})$, and let $\\mathfrak{m} = \\mathfrak{p}^{3}$ be the modulus. Denote by $K_{\\mathfrak{m}}$ the ray class field of $K$ modulo $\\mathfrak{m}$, and by $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K)$ the Frobenius element at an unramified prime ideal $\\mathfrak{q}$ of $\\mathcal{O}_{K}$.\n\nUsing only the foundational definitions of the Artin map, local reciprocity, and the residue symbol, proceed from first principles to identify $K_{\\mathfrak{m}}$ with a concrete cyclotomic extension and to compute the Frobenius element for a specific prime. In particular, argue from global and local class field theory that $K_{\\mathfrak{m}}$ is a cyclic extension of $K$ of degree $3$ which embeds into the cyclotomic field $\\mathbb{Q}(\\zeta_{9})$, and fix the generator $\\sigma \\in \\operatorname{Gal}(K_{\\mathfrak{m}}/K)$ by the rule $\\sigma(\\zeta_{9}) = \\zeta_{9}^{4}$.\n\nLet $p = 43$. Note that $p \\equiv 1 \\pmod{3}$ and hence $p$ splits in $K$. Let $\\mathfrak{q} \\subset \\mathcal{O}_{K}$ be any prime ideal lying above $p$. Using the residue symbol and local reciprocity at the places of $K$ dividing $\\mathfrak{m}$, determine the unique integer $k \\in \\{0,1,2\\}$ such that\n$$\n\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K) \\;=\\; \\sigma^{k}.\n$$\nGive your final answer as the single integer $k$. No rounding is required.", "solution": "The user wants me to solve a number theory problem.\n\n### Step 1: Problem Validation\n\n**1.1. Extract Givens**\n-   $K = \\mathbb{Q}(\\sqrt{-3}) = \\mathbb{Q}(\\zeta_{3})$\n-   $d = -3$ is the discriminant of $K$.\n-   $\\zeta_{3} = \\exp(2\\pi i/3)$.\n-   $\\mathcal{O}_{K}$ is the ring of integers of $K$.\n-   $\\mathfrak{p}$ is the unique prime of $\\mathcal{O}_{K}$ above $3$.\n-   $\\mathfrak{p} = (1 - \\zeta_{3})$.\n-   $\\mathfrak{m} = \\mathfrak{p}^{3}$ is the modulus.\n-   $K_{\\mathfrak{m}}$ is the ray class field of $K$ modulo $\\mathfrak{m}$.\n-   $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K)$ is the Frobenius element at an unramified prime ideal $\\mathfrak{q}$ of $\\mathcal{O}_{K}$.\n-   The problem instructs to use foundational definitions of the Artin map, local reciprocity, and the residue symbol.\n-   It is stated that $K_{\\mathfrak{m}}$ is a cyclic extension of $K$ of degree $3$ which embeds into $\\mathbb{Q}(\\zeta_{9})$.\n-   A generator $\\sigma \\in \\operatorname{Gal}(K_{\\mathfrak{m}}/K)$ is fixed by the rule $\\sigma(\\zeta_{9}) = \\zeta_{9}^{4}$.\n-   $p = 43$.\n-   $p \\equiv 1 \\pmod{3}$.\n-   $p$ splits in $K$.\n-   $\\mathfrak{q} \\subset \\mathcal{O}_{K}$ is any prime ideal lying above $p$.\n-   The task is to determine the unique integer $k \\in \\{0,1,2\\}$ such that $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K) = \\sigma^{k}$.\n\n**1.2. Validate Using Extracted Givens**\nThe problem is well-defined within the standard framework of algebraic number theory and class field theory. All givens are factually correct and consistent.\n-   The field $K = \\mathbb{Q}(\\sqrt{-3})$ is the cyclotomic field $\\mathbb{Q}(\\zeta_3)$, with ring of integers $\\mathcal{O}_K = \\mathbb{Z}[\\zeta_3]$ and class number $h_K=1$.\n-   The prime $3$ is ramified in $K$: $(3) = (1-\\zeta_3)^2 = \\mathfrak{p}^2$ where $\\mathfrak{p}$ is the prime ideal $(1-\\zeta_3)$ of norm $3$.\n-   The prime $p=43$ is congruent to $1 \\pmod 3$, so it splits in $K$.\n-   The problem asks for the computation of a specific Frobenius element in a ray class field, which is a standard procedure in class field theory. The setup is not incomplete, contradictory, or ambiguous.\n-   The requested methodology (using the residue symbol and reciprocity) is appropriate for this type of problem.\n\n**1.3. Verdict and Action**\nThe problem is valid. I will proceed to provide a complete solution.\n\n### Step 2: Solution\n\nThe problem asks for the determination of an integer $k$ describing the Frobenius element $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K)$ in terms of a given generator $\\sigma$. We will proceed by first identifying the ray class field $K_{\\mathfrak{m}}$ and its Galois group, and then using the Artin map and the cubic residue symbol to compute the Frobenius element.\n\n**1. Identification of the Ray Class Field $K_{\\mathfrak{m}}$**\nThe field $K=\\mathbb{Q}(\\zeta_3)$ has class number $h_K=1$. The ray class group modulo $\\mathfrak{m}=\\mathfrak{p}^3$ is given by the isomorphism\n$$ Cl_{\\mathfrak{m}}(K) \\cong (\\mathcal{O}_K / \\mathfrak{m})^* / \\operatorname{im}(\\mathcal{O}_K^*) $$\nThe group of units in $\\mathcal{O}_K$ is $\\mathcal{O}_K^* = \\{\\pm 1, \\pm \\zeta_3, \\pm \\zeta_3^2\\}$, a cyclic group of order $6$. The norm of the modulus is $N(\\mathfrak{m}) = N(\\mathfrak{p}^3) = N(\\mathfrak{p})^3 = 3^3 = 27$. The group of units of the residue ring $(\\mathcal{O}_K / \\mathfrak{p}^3)^*$ has order $\\phi(\\mathfrak{p}^3) = N(\\mathfrak{p}^3) - N(\\mathfrak{p}^2) = 27 - 9 = 18$. The image of $\\mathcal{O}_K^*$ in $(\\mathcal{O}_K / \\mathfrak{p}^3)^*$ is the entire group $\\mathcal{O}_K^*$ itself, as no unit other than $1$ is congruent to $1$ modulo $\\mathfrak{p}^3 = (1-\\zeta_3)^3$. The order of this image is $6$.\nTherefore, the order of the ray class group is $|Cl_{\\mathfrak{m}}(K)| = 18/6 = 3$. By class field theory, the ray class field $K_{\\mathfrak{m}}$ is a cyclic cubic extension of $K$.\n\nThe problem states that $K_{\\mathfrak{m}}$ embeds into $\\mathbb{Q}(\\zeta_9)$. The field $\\mathbb{Q}(\\zeta_9)$ is a degree $6$ extension of $\\mathbb{Q}$. Since $K = \\mathbb{Q}(\\zeta_3) = \\mathbb{Q}(\\zeta_9^3) \\subset \\mathbb{Q}(\\zeta_9)$, the extension $\\mathbb{Q}(\\zeta_9)/K$ is of degree $6/2 = 3$. It is known to be cyclic. An extension $L/K$ is the ray class field for modulus $\\mathfrak{f}$ if $\\mathfrak{f}$ is the conductor of the extension. We identify $K_{\\mathfrak{m}}$ with $L = \\mathbb{Q}(\\zeta_9)$. The extension $\\mathbb{Q}(\\zeta_9)/\\mathbb{Q}$ is ramified only at the prime $3$. Therefore, the extension $\\mathbb{Q}(\\zeta_9)/K$ can only be ramified at primes above $3$, i.e., at $\\mathfrak{p}$. This extension is $L = K(\\zeta_9)$, and one can show it is a Kummer extension. The conductor of such an extension is known to be $\\mathfrak{p}^3$. By the uniqueness property of class fields, we have $K_{\\mathfrak{m}} = \\mathbb{Q}(\\zeta_9)$.\n\n**2. The Galois Group and the Artin Map**\nThe Galois group $\\operatorname{Gal}(K_{\\mathfrak{m}}/K)$ is identified with $\\operatorname{Gal}(\\mathbb{Q}(\\zeta_9)/K)$. An automorphism $\\tau \\in \\operatorname{Gal}(\\mathbb{Q}(\\zeta_9)/\\mathbb{Q})$ is determined by its action on $\\zeta_9$, $\\tau_j(\\zeta_9)=\\zeta_9^j$ for some $j \\in (\\mathbb{Z}/9\\mathbb{Z})^*$. Such an automorphism fixes $K=\\mathbb{Q}(\\zeta_3)$ if it fixes $\\zeta_3 = \\zeta_9^3$. This requires $(\\zeta_9^j)^3 = \\zeta_9^{3j} = \\zeta_9^3$, which implies $3j \\equiv 3 \\pmod{9}$, or $j \\equiv 1 \\pmod{3}$. The values of $j \\in \\{1,2,4,5,7,8\\}$ satisfying this are $j \\in \\{1,4,7\\}$.\nThus, $\\operatorname{Gal}(K_{\\mathfrak{m}}/K) = \\{\\tau_1, \\tau_4, \\tau_7\\}$.\nThe problem specifies the generator $\\sigma = \\tau_4$, where $\\sigma(\\zeta_9) = \\zeta_9^4$. We check that $\\sigma^2(\\zeta_9) = \\sigma(\\zeta_9^4) = (\\zeta_9^4)^4 = \\zeta_9^{16} = \\zeta_9^7$, so $\\sigma^2 = \\tau_7$. And $\\sigma^3 = \\tau_1 = \\text{id}$. So $\\operatorname{Gal}(K_{\\mathfrak{m}}/K) = \\langle \\sigma \\rangle$.\n\nSince $K_{\\mathfrak{m}} = K(\\zeta_9)$ is a Kummer extension, there is a canonical isomorphism of character groups $\\chi: \\operatorname{Gal}(K_{\\mathfrak{m}}/K) \\to \\mu_3$, where $\\mu_3 = \\{\\zeta_3^0, \\zeta_3^1, \\zeta_3^2\\}$ is the group of third roots of unity. This map is given by $\\tau \\mapsto \\frac{\\tau(\\zeta_9)}{\\zeta_9}$. Let's find the image of our generator $\\sigma$:\n$$ \\chi(\\sigma) = \\frac{\\sigma(\\zeta_9)}{\\zeta_9} = \\frac{\\zeta_9^4}{\\zeta_9} = \\zeta_9^3 = \\zeta_3 $$\nSo, $\\sigma$ corresponds to the generator $\\zeta_3$ of $\\mu_3$. Consequently, $\\sigma^k$ corresponds to $\\zeta_3^k$.\n\n**3. Computing the Frobenius Element**\nThe Frobenius element $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K)$ can be determined via the Artin map. For a Kummer extension $L=K(\\sqrt[n]{a})/K$, the action of the Frobenius element $\\operatorname{Frob}_{\\mathfrak{q}}$ is related to the $n$-th power residue symbol. The character applied to the Frobenius element gives the residue symbol:\n$$ \\chi(\\operatorname{Frob}_{\\mathfrak{q}}) = \\left(\\frac{\\zeta_3}{\\mathfrak{q}}\\right)_3 $$\nHere, we are identifying $K(\\zeta_9)$ with $K(\\sqrt[3]{\\zeta_3})$. The cubic residue symbol $\\left(\\frac{\\alpha}{\\mathfrak{q}}\\right)_3$ is the unique third root of unity congruent to $\\alpha^{(N(\\mathfrak{q})-1)/3}$ modulo $\\mathfrak{q}$.\n\nThe prime is $p=43$. We need to find a prime ideal $\\mathfrak{q}$ in $\\mathcal{O}_K = \\mathbb{Z}[\\zeta_3]$ lying above $43$. We look for an element $\\pi = a+b\\zeta_3$ with norm $N(\\pi) = a^2-ab+b^2=43$.\nFor $b=1$, we have $a^2-a+1=43$, which gives $a^2-a-42=0$, or $(a-7)(a+6)=0$. We can choose $a=7$, so $\\pi = 7+\\zeta_3$. Let $\\mathfrak{q} = (\\pi) = (7+\\zeta_3)$.\nThe norm of $\\mathfrak{q}$ is $N(\\mathfrak{q})=43$.\nWe compute the cubic residue symbol:\n$$ \\left(\\frac{\\zeta_3}{\\mathfrak{q}}\\right)_3 \\equiv \\zeta_3^{(N(\\mathfrak{q})-1)/3} \\pmod{\\mathfrak{q}} $$\nThe exponent is $(43-1)/3 = 42/3 = 14$.\n$$ \\zeta_3^{14} = (\\zeta_3^3)^4 \\cdot \\zeta_3^2 = 1^4 \\cdot \\zeta_3^2 = \\zeta_3^2 $$\nSo, we have $\\chi(\\operatorname{Frob}_{\\mathfrak{q}}) = \\zeta_3^2$.\n\n**4. Determining $k$**\nWe are looking for the integer $k \\in \\{0, 1, 2\\}$ such that $\\operatorname{Frob}_{\\mathfrak{q}} = \\sigma^k$. Applying the character $\\chi$ to this equation, we get:\n$$ \\chi(\\operatorname{Frob}_{\\mathfrak{q}}) = \\chi(\\sigma^k) = (\\chi(\\sigma))^k $$\nSubstituting the values we found:\n$$ \\zeta_3^2 = (\\zeta_3)^k = \\zeta_3^k $$\nThis implies that $k \\equiv 2 \\pmod{3}$. Since $k$ must be in the set $\\{0, 1, 2\\}$, we conclude that $k=2$.\nThe argument involving local reciprocity as mentioned in the prompt provides the theoretical underpinning for relating the global Artin map for the ideal $\\mathfrak{q}$ to local properties at the ramified prime $\\mathfrak{p}$, which ultimately justifies the use of the residue symbol reciprocity law, but the direct calculation with the residue symbol is sufficient and correct.", "answer": "$$\n\\boxed{2}\n$$", "id": "3022545"}]}