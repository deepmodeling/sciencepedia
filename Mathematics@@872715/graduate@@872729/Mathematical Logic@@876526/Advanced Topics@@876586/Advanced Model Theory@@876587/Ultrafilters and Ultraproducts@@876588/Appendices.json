{"hands_on_practices": [{"introduction": "Mastering ultraproducts begins with a direct application of Łoś's Theorem. This first practice exercise provides a concrete scenario to walk through the fundamental two-step process: first, identifying the set of indices where a given sentence holds, and second, determining if this set belongs to the ultrafilter. By working with an ultraproduct of finite fields, you will see how basic number theory interacts with model-theoretic constructions [@problem_id:2973049].", "problem": "Let $\\mathcal{L}$ be the language of rings $\\{0,1,+,\\cdot\\}$. For each $n \\in \\mathbb{N}$, let $p_n$ denote the $n$th prime number, with the usual enumeration $p_1=2, p_2=3, p_3=5, p_4=7, \\dots$, and let $\\mathcal{M}_n$ be the $\\mathcal{L}$-structure with universe $\\mathbb{Z}/p_n\\mathbb{Z}$ interpreted as a field in the standard way. Let $I=\\mathbb{N}$ and let $\\mathcal{U}$ be a nonprincipal ultrafilter on $I$. Consider the ultraproduct $\\prod_{n \\in I} \\mathcal{M}_n/\\mathcal{U}$. Let $\\varphi$ be the $\\mathcal{L}$-sentence\n$$\n\\exists x \\ (x + x = 1).\n$$\nCompute the truth value of $\\varphi$ in the ultraproduct by explicitly identifying the set $S \\subseteq I$ of indices $n$ for which $\\mathcal{M}_n \\models \\varphi$ and then determining whether $S \\in \\mathcal{U}$. Report the final truth value as $1$ if $\\prod_{n \\in I} \\mathcal{M}_n/\\mathcal{U} \\models \\varphi$ and as $0$ otherwise. Express the final answer as an exact number with no rounding.", "solution": "The problem asks for the truth value of a first-order sentence $\\varphi$ in an ultraproduct of fields. The truth value is determined using Łoś's Theorem, which states that a sentence is true in an ultraproduct if and only if it is true in the constituent structures on a set of indices belonging to the ultrafilter.\n\nLet $\\mathcal{M} = \\prod_{n \\in I} \\mathcal{M}_n/\\mathcal{U}$ be the ultraproduct in question, where $I = \\mathbb{N}$, $\\mathcal{M}_n$ is the field $\\mathbb{Z}/p_n\\mathbb{Z}$, and $\\mathcal{U}$ is a nonprincipal ultrafilter on $I$. The language is $\\mathcal{L} = \\{0, 1, +, \\cdot\\}$. The sentence is $\\varphi \\equiv \\exists x \\ (x + x = 1)$.\n\nAccording to Łoś's Theorem, the statement $\\mathcal{M} \\models \\varphi$ is true if and only if the set $S = \\{n \\in I \\mid \\mathcal{M}_n \\models \\varphi\\}$ is an element of the ultrafilter $\\mathcal{U}$, i.e., $S \\in \\mathcal{U}$.\n\nOur first step is to explicitly identify the set $S$. A structure $\\mathcal{M}_n$ models $\\varphi$ if there exists an element in its universe, $\\mathbb{Z}/p_n\\mathbb{Z}$, that satisfies the formula $x+x=1$. This can be written as the equation $2x \\equiv 1 \\pmod{p_n}$.\n\nFor this linear congruence to have a solution for $x$ in $\\mathbb{Z}/p_n\\mathbb{Z}$, the element $2$ must have a multiplicative inverse in $\\mathbb{Z}/p_n\\mathbb{Z}$. An element $a$ in the ring $\\mathbb{Z}/m\\mathbb{Z}$ has a multiplicative inverse if and only if $\\gcd(a, m) = 1$. In our case, $a=2$ and $m=p_n$, where $p_n$ is the $n$-th prime number.\n\nThus, the condition for $\\mathcal{M}_n \\models \\varphi$ is that $2$ has a multiplicative inverse in $\\mathbb{Z}/p_n\\mathbb{Z}$, which is equivalent to $\\gcd(2, p_n) = 1$.\n\nSince $p_n$ is a prime number, its only positive divisors are $1$ and $p_n$. Therefore, $\\gcd(2, p_n)$ can only be $1$ or $2$.\nThe case $\\gcd(2, p_n) = 2$ occurs if and only if $p_n$ is a multiple of $2$. As $p_n$ is prime, this implies $p_n = 2$.\nThe case $\\gcd(2, p_n) = 1$ occurs if and only if $p_n$ is not a multiple of $2$, which means $p_n$ is any prime other than $2$.\n\nThe enumeration of primes is given as $p_1=2, p_2=3, p_3=5, \\dots$.\nThe condition $p_n = 2$ corresponds to the index $n=1$.\nFor $n=1$, we have $p_1=2$. The field is $\\mathcal{M}_1 = \\mathbb{Z}/2\\mathbb{Z}$. The equation $2x \\equiv 1 \\pmod{2}$ becomes $0 \\cdot x \\equiv 1 \\pmod{2}$, or $0 \\equiv 1 \\pmod{2}$, which is false. Thus, there is no solution for $x$ in $\\mathcal{M}_1$, and $\\mathcal{M}_1 \\not\\models \\varphi$.\n\nFor all indices $n > 1$, the prime $p_n$ is an odd prime ($p_2=3, p_3=5, \\dots$). For these primes, $\\gcd(2, p_n)=1$. Therefore, $2$ is an invertible element in the field $\\mathbb{Z}/p_n\\mathbb{Z}$ for all $n > 1$. The equation $2x=1$ has a unique solution, namely $x = 2^{-1}$. Consequently, for all $n > 1$, the sentence $\\varphi$ is true in $\\mathcal{M}_n$. That is, $\\mathcal{M}_n \\models \\varphi$ for all $n \\in \\mathbb{N}$ such that $n > 1$.\n\nSo, the set $S$ of indices $n$ for which $\\mathcal{M}_n \\models \\varphi$ is:\n$$S = \\{n \\in \\mathbb{N} \\mid n > 1\\} = \\{2, 3, 4, \\dots\\}$$\n\nThe second step is to determine if this set $S$ is in the ultrafilter $\\mathcal{U}$. We are given that $\\mathcal{U}$ is a nonprincipal ultrafilter on the set of natural numbers $I = \\mathbb{N}$. A key property of a nonprincipal ultrafilter on an infinite set like $\\mathbb{N}$ is that it contains all cofinite sets and no finite sets. A set is cofinite if its complement is finite.\n\nLet's consider the complement of $S$ in $I$:\n$$I \\setminus S = \\mathbb{N} \\setminus \\{2, 3, 4, \\dots\\} = \\{1\\}$$\nThe set $I \\setminus S$ is a finite set, as it contains only one element. Since $\\mathcal{U}$ is a nonprincipal ultrafilter, it does not contain any finite sets. Therefore, $I \\setminus S \\notin \\mathcal{U}$.\n\nBy the definition of an ultrafilter, for any subset $A \\subseteq I$, exactly one of $A$ or its complement $I \\setminus A$ must be in $\\mathcal{U}$. Since we have established that $I \\setminus S \\notin \\mathcal{U}$, it must be that its complement, $S$, is in $\\mathcal{U}$.\n$$S = \\{2, 3, 4, \\dots\\} \\in \\mathcal{U}$$\n\nSince $S = \\{n \\in I \\mid \\mathcal{M}_n \\models \\varphi\\} \\in \\mathcal{U}$, by Łoś's Theorem, the sentence $\\varphi$ is true in the ultraproduct $\\mathcal{M}$.\n$$\\prod_{n \\in I} \\mathcal{M}_n/\\mathcal{U} \\models \\varphi$$\nThe problem requires reporting the truth value as $1$ for true and $0$ for false. Therefore, the truth value is $1$.", "answer": "$$\\boxed{1}$$", "id": "2973049"}, {"introduction": "The true power of the ultraproduct construction lies in the ultrafilter itself. This practice demonstrates this principle in a striking way by showing how two different ultraproducts, built from the exact same family of structures, can have opposing properties. By changing the ultrafilter, we change the \"truth criterion,\" providing a clear illustration of how the ultrafilter selects which properties are inherited by the ultraproduct [@problem_id:2976510].", "problem": "Let $\\mathcal{L}$ be a first-order (FO) language with a single unary predicate symbol $P$ and a constant symbol $c$. For each natural number $n \\in \\mathbb{N}$, define an $\\mathcal{L}$-structure $\\mathcal{A}_{n}$ with domain $A_{n} = \\{0,1\\}$, interpreting $P$ and $c$ as follows:\n- For all $n$, set $P^{\\mathcal{A}_{n}} = \\{0\\}$.\n- Set $c^{\\mathcal{A}_{n}} = 0$ when $n$ is odd, and $c^{\\mathcal{A}_{n}} = 1$ when $n$ is even.\n\nLet $\\varphi$ be the sentence $P(c)$. Consider two nonprincipal ultrafilters on $\\mathbb{N}$:\n- $U_{\\mathrm{odd}}$, which contains the set of odd numbers.\n- $U_{\\mathrm{even}}$, which contains the set of even numbers.\n\nForm the two ultraproducts $\\prod_{n \\in \\mathbb{N}} \\mathcal{A}_{n} / U_{\\mathrm{odd}}$ and $\\prod_{n \\in \\mathbb{N}} \\mathcal{A}_{n} / U_{\\mathrm{even}}$ from the same family $\\{\\mathcal{A}_{n}\\}_{n \\in \\mathbb{N}}$ but with these different ultrafilters. Using Łoś’s theorem, and starting from the core definitions of ultrafilters and ultraproducts, compute the explicit set\n$$\nS_{\\varphi} = \\{n \\in \\mathbb{N} : \\mathcal{A}_{n} \\models \\varphi\\}\n$$\nand use it to determine the truth value of $\\varphi$ in each ultraproduct. Encode each truth value numerically, with $1$ indicating that the sentence holds in the corresponding ultraproduct and $0$ indicating that it does not.\n\nYour final answer must be a single row matrix with two entries, the first for $\\prod_{n} \\mathcal{A}_{n} / U_{\\mathrm{odd}}$ and the second for $\\prod_{n} \\mathcal{A}_{n} / U_{\\mathrm{even}}$, each entry being $1$ or $0$. No rounding is required.", "solution": "The problem is valid as it is scientifically grounded in mathematical logic, well-posed, and objective. It provides all necessary definitions to arrive at a unique, verifiable solution. We will proceed by first explicitly stating the core principle, Łoś’s theorem, and then applying it to the given structures and ultrafilters.\n\nLet $\\mathcal{L}$ be a first-order language, let $\\{\\mathcal{M}_{i}\\}_{i \\in I}$ be a family of $\\mathcal{L}$-structures indexed by a set $I$, and let $U$ be an ultrafilter on $I$. Łoś’s theorem states that for any $\\mathcal{L}$-sentence $\\psi$, the ultraproduct $\\prod_{i \\in I} \\mathcal{M}_{i} / U$ satisfies $\\psi$ if and only if the set of indices for which $\\psi$ holds in the individual structures is a member of the ultrafilter $U$. Symbolically:\n$$\n\\left( \\prod_{i \\in I} \\mathcal{M}_{i} / U \\right) \\models \\psi \\iff \\{i \\in I : \\mathcal{M}_{i} \\models \\psi\\} \\in U\n$$\n\nIn this problem, the language is $\\mathcal{L}$ with a unary predicate $P$ and a constant $c$. The family of structures is $\\{\\mathcal{A}_{n}\\}_{n \\in \\mathbb{N}}$ indexed by the set of natural numbers $\\mathbb{N}$. The sentence is $\\varphi \\equiv P(c)$. We are asked to determine the truth of $\\varphi$ in two different ultraproducts formed with two different ultrafilters on $\\mathbb{N}$, namely $U_{\\mathrm{odd}}$ and $U_{\\mathrm{even}}$.\n\nThe first step is to compute the set $S_{\\varphi} = \\{n \\in \\mathbb{N} : \\mathcal{A}_{n} \\models \\varphi\\}$, as requested. The sentence $\\varphi$ is $P(c)$. In any given structure $\\mathcal{A}_{n}$, the statement $\\mathcal{A}_{n} \\models P(c)$ is true if and only if the interpretation of the constant $c$, denoted $c^{\\mathcal{A}_{n}}$, is an element of the set that interprets the predicate $P$, denoted $P^{\\mathcal{A}_{n}}$. That is:\n$$\n\\mathcal{A}_{n} \\models \\varphi \\iff c^{\\mathcal{A}_{n}} \\in P^{\\mathcal{A}_{n}}\n$$\nThe problem defines the interpretations as follows:\n- The domain is $A_{n} = \\{0, 1\\}$ for all $n \\in \\mathbb{N}$.\n- The predicate interpretation is $P^{\\mathcal{A}_{n}} = \\{0\\}$ for all $n \\in \\mathbb{N}$.\n- The constant interpretation is $c^{\\mathcal{A}_{n}} = 0$ if $n$ is odd, and $c^{\\mathcal{A}_{n}} = 1$ if $n$ is even.\n\nWe evaluate the condition $c^{\\mathcal{A}_{n}} \\in P^{\\mathcal{A}_{n}}$ based on the parity of $n$:\n- If $n$ is an odd number: $c^{\\mathcal{A}_{n}} = 0$. The condition becomes $0 \\in \\{0\\}$, which is true. Thus, $\\mathcal{A}_{n} \\models \\varphi$ for all odd $n$.\n- If $n$ is an even number: $c^{\\mathcal{A}_{n}} = 1$. The condition becomes $1 \\in \\{0\\}$, which is false. Thus, $\\mathcal{A}_{n} \\not\\models \\varphi$ for all even $n$.\n\nTherefore, the set of natural numbers $n$ for which $\\mathcal{A}_{n}$ models $\\varphi$ is precisely the set of all odd natural numbers. Let this set be denoted by $\\mathbb{N}_{\\mathrm{odd}}$.\n$$\nS_{\\varphi} = \\{n \\in \\mathbb{N} : \\mathcal{A}_{n} \\models \\varphi\\} = \\{n \\in \\mathbb{N} : n \\text{ is odd}\\} = \\mathbb{N}_{\\mathrm{odd}}\n$$\n\nNow we can apply Łoś’s theorem to each ultraproduct.\n\nCase 1: The ultraproduct $\\prod_{n \\in \\mathbb{N}} \\mathcal{A}_{n} / U_{\\mathrm{odd}}$.\nLet $\\mathcal{B}_{\\mathrm{odd}} = \\prod_{n \\in \\mathbb{N}} \\mathcal{A}_{n} / U_{\\mathrm{odd}}$. According to Łoś's theorem, $\\mathcal{B}_{\\mathrm{odd}} \\models \\varphi$ if and only if $S_{\\varphi} \\in U_{\\mathrm{odd}}$.\nWe found that $S_{\\varphi} = \\mathbb{N}_{\\mathrm{odd}}$. The problem states that $U_{\\mathrm{odd}}$ is a nonprincipal ultrafilter on $\\mathbb{N}$ that contains the set of odd numbers. By this definition, $\\mathbb{N}_{\\mathrm{odd}} \\in U_{\\mathrm{odd}}$.\nTherefore, we conclude that $\\mathcal{B}_{\\mathrm{odd}} \\models \\varphi$. The corresponding numerical value is $1$.\n\nCase 2: The ultraproduct $\\prod_{n \\in \\mathbb{N}} \\mathcal{A}_{n} / U_{\\mathrm{even}}$.\nLet $\\mathcal{B}_{\\mathrm{even}} = \\prod_{n \\in \\mathbb{N}} \\mathcal{A}_{n} / U_{\\mathrm{even}}$. According to Łoś's theorem, $\\mathcal{B}_{\\mathrm{even}} \\models \\varphi$ if and only if $S_{\\varphi} \\in U_{\\mathrm{even}}$.\nAgain, $S_{\\varphi} = \\mathbb{N}_{\\mathrm{odd}}$. The problem states that $U_{\\mathrm{even}}$ is a nonprincipal ultrafilter on $\\mathbb{N}$ that contains the set of even numbers, which we denote by $\\mathbb{N}_{\\mathrm{even}}$. So, by definition, $\\mathbb{N}_{\\mathrm{even}} \\in U_{\\mathrm{even}}$.\nOne of the fundamental properties of an ultrafilter $U$ on a set $I$ is that for any subset $A \\subseteq I$, either $A \\in U$ or its complement $I \\setminus A \\in U$, but not both (since their intersection is the empty set, which is not in any filter).\nIn our context, the set is $\\mathbb{N}$, and the two relevant subsets are $\\mathbb{N}_{\\mathrm{odd}}$ and its complement $\\mathbb{N}_{\\mathrm{even}}$. Since we are given that $\\mathbb{N}_{\\mathrm{even}} \\in U_{\\mathrm{even}}$, its complement $\\mathbb{N}_{\\mathrm{odd}}$ cannot be in $U_{\\mathrm{even}}$.\nThus, $S_{\\varphi} = \\mathbb{N}_{\\mathrm{odd}} \\notin U_{\\mathrm{even}}$.\nTherefore, we conclude that $\\mathcal{B}_{\\mathrm{even}} \\not\\models \\varphi$. The corresponding numerical value is $0$.\n\nCombining the results, the truth value for $\\varphi$ in $\\prod_{n} \\mathcal{A}_{n} / U_{\\mathrm{odd}}$ is $1$, and in $\\prod_{n} \\mathcal{A}_{n} / U_{\\mathrm{even}}$ is $0$. The final answer is represented as a row matrix with these two values.", "answer": "$$\n\\boxed{\\begin{pmatrix} 1  0 \\end{pmatrix}}\n$$", "id": "2976510"}, {"introduction": "Ultraproducts are not just theoretical curiosities; they are powerful tools for constructing new mathematical objects with specific, desirable properties. This exercise moves toward such applications, asking you to determine a significant algebraic property—whether every element has a square root—in an ultraproduct of finite fields. Here, the ultrafilter is chosen to \"prefer\" structures with a certain characteristic, showcasing how ultraproducts can be tailored to yield fields with specific first-order theories [@problem_id:2976473].", "problem": "Let $\\langle K_{n} : n \\in \\mathbb{N} \\rangle$ be a sequence of fields in the language of rings. For each $n \\in \\mathbb{N}$, define\n$$\nK_{n} \\coloneqq \n\\begin{cases}\n\\mathbb{F}_{2^{n}}  \\text{if $n$ is even},\\\\\n\\mathbb{F}_{3^{n}}  \\text{if $n$ is odd}.\n\\end{cases}\n$$\nLet $U$ be a nonprincipal ultrafilter on $\\mathbb{N}$ satisfying $E \\in U$, where $E \\coloneqq \\{ n \\in \\mathbb{N} : n \\text{ is even} \\}$. Consider the ultraproduct field\n$$\nK \\coloneqq \\prod_{n \\in \\mathbb{N}} K_{n} \\big/ U.\n$$\nLet $\\varphi$ be the first-order sentence of rings\n$$\n\\varphi \\equiv \\forall x \\, \\exists y \\, (y^{2} = x).\n$$\nUsing only the foundational definitions of ultrafilter and ultraproduct, standard facts about finite fields, and Łoś's theorem, determine the truth value of $\\varphi$ in $K$. Express your final answer numerically as $1$ if $\\varphi$ is true in $K$ and $0$ if $\\varphi$ is false in $K$. Your answer must be a single numeral with no units. No rounding is required.", "solution": "The problem requires us to determine the truth value of a first-order sentence $\\varphi$ in an ultraproduct field $K$. The solution will proceed by applying Łoś's theorem, which connects the truth of a sentence in an ultraproduct to the truth of that sentence in the component structures.\n\nThe given first-order sentence in the language of rings is\n$$\n\\varphi \\equiv \\forall x \\, \\exists y \\, (y^{2} = x).\n$$\nThis sentence asserts that every element in the structure has a square root. In other words, the squaring map $s(y) = y^2$ is surjective.\n\nThe ultraproduct field is defined as\n$$\nK \\coloneqq \\prod_{n \\in \\mathbb{N}} K_{n} \\big/ U,\n$$\nwhere $\\langle K_{n} : n \\in \\mathbb{N} \\rangle$ is a sequence of finite fields given by\n$$\nK_{n} \\coloneqq \n\\begin{cases}\n\\mathbb{F}_{2^{n}}  \\text{if $n$ is even},\\\\\n\\mathbb{F}_{3^{n}}  \\text{if $n$ is odd},\n\\end{cases}\n$$\nand $U$ is a nonprincipal ultrafilter on $\\mathbb{N}$ such that $E = \\{ n \\in \\mathbb{N} : n \\text{ is even} \\} \\in U$.\n\nAccording to Łoś's theorem, the sentence $\\varphi$ is true in the ultraproduct $K$, denoted $K \\models \\varphi$, if and only if the set of indices $n$ for which $\\varphi$ is true in the component structure $K_n$ is an element of the ultrafilter $U$. Let $S$ be this set of indices:\n$$\nS \\coloneqq \\{ n \\in \\mathbb{N} : K_n \\models \\varphi \\}.\n$$\nOur goal is to determine this set $S$ and then check if $S \\in U$.\n\nWe must analyze the truth of $\\varphi$ in each field $K_n$. This requires us to examine the properties of the squaring map on finite fields.\n\nCase 1: $n$ is an even number.\nIn this case, $K_n = \\mathbb{F}_{2^n}$. This is a finite field of characteristic $2$. In any field of characteristic $2$, the map $f(x) = x^2$ is a field homomorphism, known as the Frobenius endomorphism. This is because $(a+b)^2 = a^2 + 2ab + b^2 = a^2 + b^2$ and $(ab)^2 = a^2 b^2$. Any field homomorphism is injective. Since $K_n$ is a finite set, an injective map from $K_n$ to itself must also be surjective. Therefore, for every element $x \\in \\mathbb{F}_{2^n}$, there exists a (unique) element $y \\in \\mathbb{F}_{2^n}$ such that $y^2 = x$. This means the sentence $\\varphi \\equiv \\forall x \\, \\exists y \\, (y^{2} = x)$ is true in $K_n$ for all even $n$.\n\nCase 2: $n$ is an odd number.\nIn this case, $K_n = \\mathbb{F}_{3^n}$. This is a finite field of characteristic $3$, which is an odd prime. Consider a finite field $\\mathbb{F}_q$ where the characteristic is not $2$. The squaring map $s: x \\mapsto x^2$ on the multiplicative group $\\mathbb{F}_q^\\times$ is a group homomorphism. Its kernel is $\\{x \\in \\mathbb{F}_q^\\times : x^2 = 1\\}$. Since the characteristic is not $2$, $1 \\neq -1$, and the equation $x^2-1=0$ has exactly two distinct roots, $1$ and $-1$. Thus, the kernel has size $2$. By the first isomorphism theorem for groups, the size of the image of this map (the set of non-zero quadratic residues) is $|\\mathbb{F}_q^\\times| / |\\ker(s)| = (q-1)/2$. Since $n$ is odd, $q = 3^n \\ge 3$, so $(q-1)/2  q-1$. This shows that the squaring map is not surjective on the multiplicative group $\\mathbb{F}_q^\\times$. There exist non-zero elements in $K_n$ that do not have a square root in $K_n$. Therefore, the sentence $\\varphi$ is false in $K_n$ for all odd $n$.\n\nCombining these two cases, we can identify the set $S$:\n$$\nS = \\{ n \\in \\mathbb{N} : K_n \\models \\varphi \\} = \\{ n \\in \\mathbb{N} : n \\text{ is even} \\}.\n$$\nThis is precisely the set $E$ defined in the problem statement.\n\nThe problem specifies that the ultrafilter $U$ contains the set $E$. That is, $E \\in U$.\nSince we have found that $S = E$, it follows that $S \\in U$.\n\nBy Łoś's theorem, $K \\models \\varphi$ if and only if $S \\in U$. Since we have established that $S \\in U$, we conclude that the sentence $\\varphi$ is true in the ultraproduct field $K$.\n\nThe problem asks to express this truth value numerically, with $1$ for true and $0$ for false. Since $\\varphi$ is true in $K$, the corresponding numerical value is $1$.", "answer": "$$\\boxed{1}$$", "id": "2976473"}]}