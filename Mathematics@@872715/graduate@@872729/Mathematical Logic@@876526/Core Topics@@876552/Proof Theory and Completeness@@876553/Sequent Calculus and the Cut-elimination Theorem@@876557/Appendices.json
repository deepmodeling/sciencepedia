{"hands_on_practices": [{"introduction": "The cut-elimination theorem is best understood not just by studying its proof, but by performing the reduction steps yourself. This first exercise provides a concrete scenario where you will apply the standard reduction for a cut on an implicational formula. By tracing the transformation from a proof with a cut to a cut-free proof, you will gain a hands-on feel for the mechanics of the algorithm and see firsthand how eliminating even a single cut can restructure and expand the proof tree [@problem_id:484256].", "problem": "In the context of propositional logic using the sequent calculus, we define sequents, axioms, and rules of inference as follows.\n\nA sequent is an expression of the form $\\Gamma \\vdash \\Delta$, where $\\Gamma$ (the antecedent) and $\\Delta$ (the succedent) are finite multisets of propositional formulas. Formulas are constructed using atomic propositions (e.g., $A, B, C$) and the implication connective ($\\to$).\n\nThe calculus consists of the following rules:\n\n1.  **Axiom (Identity)**: For any formula $A$, the sequent below is an axiom.\n    $$A \\vdash A$$\n\n2.  **Implication Right Rule**:\n    $$(\\rightarrow R): \\frac{A, \\Gamma \\vdash B, \\Delta}{\\Gamma \\vdash A \\to B, \\Delta}$$\n\n3.  **Implication Left Rule**: This is the multiplicative version.\n    $$(\\rightarrow L): \\frac{\\Gamma \\vdash A, \\Delta \\quad \\Pi, B \\vdash \\Sigma}{\\Gamma, \\Pi, A \\to B \\vdash \\Delta, \\Sigma}$$\n\n4.  **Cut Rule**:\n    $$(Cut): \\frac{\\Gamma \\vdash A, \\Delta \\quad A, \\Pi \\vdash \\Sigma}{\\Gamma, \\Pi \\vdash \\Delta, \\Sigma}$$\n\nA proof tree is a tree of sequents where each leaf is an instance of the Axiom (Identity) rule, and every non-leaf node (an inference) is a conclusion derived from its children (the premises) by one of the rules. An \"axiom leaf\" is a leaf of a proof tree.\n\nConsider the following proof tree $\\mathcal{D}$ for the sequent $\\vdash (A \\to B) \\to ((B \\to C) \\to (A \\to C))$, which represents the transitivity of implication.\n\n$$\n\\mathcal{D} =\n\\frac{\n  \\frac{\n    \\frac{\n      \\frac{A \\vdash A \\quad B \\vdash B}{A, A \\to B \\vdash B} (\\rightarrow L) \\quad \\frac{B \\vdash B \\quad C \\vdash C}{B, B \\to C \\vdash C} (\\rightarrow L)\n    }{A, A \\to B, B \\to C \\vdash C} (Cut)\n  }{A \\to B, B \\to C \\vdash A \\to C} (\\rightarrow R)\n}{(A \\to B) \\vdash (B \\to C) \\to (A \\to C)} (\\rightarrow R)\n}{\\vdash (A \\to B) \\to ((B \\to C) \\to (A \\to C))} (\\rightarrow R)\n$$\n\nThis proof contains a single application of the $(Cut)$ rule with the cut formula $B$. The cut-elimination procedure is a central result in proof theory that shows how to transform any proof containing cuts into a cut-free proof of the same end-sequent.\n\nApply the standard cut-elimination algorithm to the single $(Cut)$ inference in the proof $\\mathcal{D}$. This procedure will yield a new, cut-free proof tree $\\mathcal{D}'$. Your task is to determine the total number of axiom leaves in this resulting proof tree $\\mathcal{D}'$.", "solution": "We eliminate the single $(Cut)$ on $B$ in the derivation of \n$$\\vdash (A\\to B)\\to((B\\to C)\\to(A\\to C)).$$\nThe critical subproof derived $A, A\\to B, B\\to C \\vdash C$ by cutting on $B$. The cut-elimination procedure replaces this with a cut-free derivation. The core idea is to \"push\" the cut upwards until it disappears. In this case, it results in a proof segment constructed directly using the $(\\to L)$ rule twice.\n\nThe cut-free derivation of the sequent $A, A\\to B, B\\to C \\vdash C$ is as follows:\n$$\n\\frac{A \\vdash A \\quad \\frac{B \\vdash B \\quad C \\vdash C}{B, B \\to C \\vdash C} (\\to L)}{A, A \\to B, B \\to C \\vdash C} (\\to L)\n$$\nThis sub-proof requires three axiom leaves: $A \\vdash A$, $B \\vdash B$, and $C \\vdash C$.\n\nThe full cut-free proof tree $\\mathcal{D}'$ is then:\n$$\n\\frac{\n  \\frac{\n    \\frac{\n      A \\vdash A \\quad \\frac{B \\vdash B \\quad C \\vdash C}{B, B \\to C \\vdash C} (\\to L)\n    }{A, A \\to B, B \\to C \\vdash C} (\\to L)\n  }{A \\to B, B \\to C \\vdash A \\to C} (\\rightarrow R)\n}{(A \\to B) \\vdash (B \\to C) \\to (A \\to C)} (\\rightarrow R)\n}{\\vdash (A \\to B) \\to ((B \\to C) \\to (A \\to C))} (\\rightarrow R)\n$$\n\nCounting the leaves of this tree, we find there are exactly three axiom instances.", "answer": "$$\\boxed{3}$$", "id": "484256"}, {"introduction": "Moving from propositional to first-order logic introduces the complexity of quantifiers, which requires careful handling during cut-elimination. This practice focuses on the principal reduction case for the universal quantifier, a cornerstone of Gentzen's proof. You will perform the crucial step of substituting a term for an eigenvariable to reduce a cut on a $\\forall$-formula to a cut on one of its instances, reinforcing your understanding of variable management in formal proofs [@problem_id:2979668].", "problem": "Consider Gentzen's sequent calculus for classical first-order logic (LK) with the usual structural rules and the quantifier rules for the universal quantifier. The universal quantifier rules are:\n$$\n\\frac{\\Gamma \\vdash \\Delta, A(y)}{\\Gamma \\vdash \\Delta, \\forall x\\,A(x)}\\;\\;(\\forall\\text{-}R)\\quad\\text{with $y$ an eigenvariable not free in $\\Gamma$ or $\\Delta$,}\n$$\n$$\n\\frac{\\Pi, A(t) \\vdash \\Lambda}{\\Pi, \\forall x\\,A(x) \\vdash \\Lambda}\\;\\;(\\forall\\text{-}L)\\quad\\text{for any term $t$.}\n$$\nThe cut rule is:\n$$\n\\frac{\\Gamma \\vdash \\Delta, \\varphi \\quad\\quad \\Pi, \\varphi \\vdash \\Lambda}{\\Gamma, \\Pi \\vdash \\Delta, \\Lambda}\\;\\;(\\mathrm{cut}).\n$$\n\nWork in a first-order language with a constant symbol $a$, a unary function symbol $f$, and unary predicate symbols $P$ and $Q$. Let $A(x)$ be the formula $P(x) \\rightarrow Q(f(x))$. Suppose you have a derivation of the following shape in which the formula $\\forall x\\,A(x)$ is cut:\n$$\n\\infer[\\mathrm{cut}]{\\Gamma, \\Pi \\vdash \\Delta, \\Lambda}{\n  \\infer[\\forall\\text{-}R]{\\Gamma \\vdash \\Delta, \\forall x\\,A(x)}{\n    \\pi_{R}':\\;\\Gamma \\vdash \\Delta, A(y)\n  }\n  \n  \\infer[\\forall\\text{-}L]{\\Pi, \\forall x\\,A(x) \\vdash \\Lambda}{\n    \\pi_{L}':\\;\\Pi, A(f(a)) \\vdash \\Lambda\n  }\n}\n$$\nwhere $y$ is an eigenvariable for the $\\forall$-right inference, i.e., $y$ does not occur free in $\\Gamma$ or $\\Delta$.\n\nStarting from the fundamental definitions of the LK rules above, perform a detailed cut-reduction eliminating the cut on $\\forall x\\,A(x)$ by producing a cut on the instance $A(f(a))$. In your reduction, you must explicitly show how the eigenvariable condition is preserved, including any renaming of $y$ and the subsequent capture-avoiding substitution needed to align the cut formula instances.\n\nFor the purpose of quantifying the complexity of the cut, define the rank $\\mathrm{rk}(\\cdot)$ of formulas inductively by:\n- $\\mathrm{rk}(P(t)) = 0$ and $\\mathrm{rk}(Q(t)) = 0$ for any term $t$ (atomic formulas have rank $0$),\n- $\\mathrm{rk}(B \\rightarrow C) = \\max\\{\\mathrm{rk}(B), \\mathrm{rk}(C)\\} + 1$,\n- $\\mathrm{rk}(\\forall x\\,B) = \\mathrm{rk}(B) + 1$.\n\nAfter your cut-reduction is complete, determine the rank of the new cut formula $A(f(a))$ according to the above definition. Your final answer must be the single numerical value of this rank. No rounding is required.", "solution": "The initial derivation contains a principal cut on the formula $\\forall x\\,A(x)$. The cut-elimination procedure reduces this to a cut on a less complex formula.\n\n1.  The right premise of the cut, $\\pi_R'$, proves $\\Gamma \\vdash \\Delta, A(y)$, where $y$ is an eigenvariable not free in $\\Gamma$ or $\\Delta$. We can substitute the term $f(a)$ (from the left premise's inference) for $y$ throughout the derivation $\\pi_R'$. Since $f(a)$ is a ground term (contains no variables), this substitution is safe and results in a valid derivation $\\pi_R''$ of the sequent $\\Gamma \\vdash \\Delta, A(f(a))$.\n\n2.  The original derivation is replaced by a new one with a cut on the formula $A(f(a))$:\n    $$\n    \\infer[\\mathrm{cut}]{\\Gamma, \\Pi \\vdash \\Delta, \\Lambda}{\n      \\pi_R'': \\Gamma \\vdash \\Delta, A(f(a))\n      \n      \\pi_L': \\Pi, A(f(a)) \\vdash \\Lambda\n    }\n    $$\n    The cut is now on the instance $A(f(a))$, which is a formula of lower rank than $\\forall x\\,A(x)$.\n\n3.  The final step is to calculate the rank of the new cut formula, $A(f(a)) = P(f(a)) \\rightarrow Q(f(f(a)))$. According to the provided definition:\n    - The subformulas $P(f(a))$ and $Q(f(f(a)))$ are atomic, so their ranks are 0.\n      - $\\mathrm{rk}(P(f(a))) = 0$\n      - $\\mathrm{rk}(Q(f(f(a)))) = 0$\n    - The rank of the implication is given by $\\max\\{\\mathrm{rk}(\\text{antecedent}), \\mathrm{rk}(\\text{consequent})\\} + 1$.\n      - $\\mathrm{rk}(A(f(a))) = \\max\\{0, 0\\} + 1 = 1$.\n\nThe rank of the new cut formula is 1.", "answer": "$$\\boxed{1}$$", "id": "2979668"}, {"introduction": "While cut-free proofs possess the elegant subformula property, this purity comes at a cost, as the cut rule can be seen as a powerful form of lemma that allows for dramatically more concise proofs. This exercise invites you to quantify this trade-off by analyzing the \"speed-up\" a cut provides, demonstrating how eliminating a single cut on a structured formula can lead to an exponential increase in the length of the proof. This reveals a profound insight into the complexity of formal proofs and the power of Gentzen's Hauptsatz [@problem_id:2982698].", "problem": "Consider Gentzenâ€™s classical sequent calculus (LK) for propositional logic with structural rules (weakening, contraction, exchange), logical rules for $\\land$, $\\lor$, and $\\neg$, and the cut rule. Let the rank of a formula be the number of its binary connectives. For each integer $d \\geq 1$, define a formula $\\varphi_{d}$ to be a full binary tree of depth $d$ built from atoms using only $\\land$ and $\\lor$, so that the number of leaves is $2^{d}$ and the number of internal binary connectives is $2^{d} - 1$. Consider a proof $P_{d}$ in LK of some fixed sequent $\\Gamma \\vdash \\Delta$ that uses exactly one cut on the formula $\\varphi_{d}$, and suppose the two premisses of this cut contain no further cuts.\n\nMeasure the length of a proof as the number of logical rule applications, counting applications of the cut rule and of identity axioms $A \\vdash A$ as logical rule applications. Under the standard Gentzen cut-elimination transformation, a cut whose cut formula has top connective $\\land$ or $\\lor$ is replaced by two cuts on the immediate subformulas; and each time the cut is permuted across a logical introduction step on that connective, exactly one additional logical rule application is incurred. Atomic cuts are discharged by a single identity axiom.\n\nLet $L_{\\mathrm{cut}}(d)$ denote the contribution to the proof length from the single cut in $P_{d}$ (so $L_{\\mathrm{cut}}(d) = 1$), and let $L_{\\mathrm{cf}}(d)$ denote the total number of logical rule applications introduced when eliminating that cut from $P_{d}$, counting both the push steps incurred while permuting the cut across the $2^{d} - 1$ binary connectives and the $2^{d}$ identity axioms discharging the resulting atomic cuts at the leaves.\n\nCompute the exact closed-form analytic expression for the comparative speed-up ratio\n$$\nR(d) \\;=\\; \\frac{L_{\\mathrm{cf}}(d)}{L_{\\mathrm{cut}}(d)} \\, .\n$$\n\nYour final answer must be a single closed-form expression in $d$.", "solution": "The problem asks for the ratio $R(d) = L_{\\mathrm{cf}}(d) / L_{\\mathrm{cut}}(d)$. We are given $L_{\\mathrm{cut}}(d) = 1$, so we only need to compute $L_{\\mathrm{cf}}(d)$.\n\nThe cost of cut-elimination, $L_{\\mathrm{cf}}(d)$, is the sum of two components based on the provided model:\n1.  **Push Steps**: The number of logical rule applications needed to permute the cut through all connectives. The formula $\\varphi_d$ is a full binary tree of depth $d$ and has $2^d - 1$ binary connectives. According to the problem's cost model, eliminating these connectives requires $2^d - 1$ push steps.\n2.  **Identity Axioms**: After all connectives are eliminated, the process results in cuts on the atomic formulas at the leaves of $\\varphi_d$. The formula has $2^d$ leaves. Each of these atomic cuts is discharged by a single identity axiom, which counts as a logical rule application. This adds $2^d$ applications to the cost.\n\nThe total cost $L_{\\mathrm{cf}}(d)$ is the sum of these two components:\n$$\nL_{\\mathrm{cf}}(d) = (\\text{Number of push steps}) + (\\text{Number of identity axioms})\n$$\n$$\nL_{\\mathrm{cf}}(d) = (2^d - 1) + 2^d = 2 \\cdot 2^d - 1 = 2^{d+1} - 1\n$$\n\nThe comparative speed-up ratio is therefore:\n$$\nR(d) = \\frac{L_{\\mathrm{cf}}(d)}{L_{\\mathrm{cut}}(d)} = \\frac{2^{d+1} - 1}{1} = 2^{d+1} - 1\n$$", "answer": "$$\n\\boxed{2^{d+1} - 1}\n$$", "id": "2982698"}]}