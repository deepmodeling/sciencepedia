{"hands_on_practices": [{"introduction": "The journey to converting a formula into Prenex Normal Form often begins not with the quantifiers themselves, but with the logical connectives that bind the subformulas together. Before quantifiers can be moved to the front, connectives like implication ($A \\rightarrow B$) and equivalence ($A \\leftrightarrow B$) must be rewritten using logically equivalent forms involving only negation ($\\neg$), conjunction ($\\land$), and disjunction ($\\lor$). This initial exercise [@problem_id:1464836] focuses on this crucial first step, providing practice in applying the rule $A \\rightarrow B \\equiv \\neg A \\lor B$ to a quantified boolean formula.", "problem": "In computational complexity theory, a Quantified Boolean Formula (QBF) is a formula in propositional logic where variables can be quantified. A QBF is in Prenex Normal Form (PNF) if it is of the form $Q_1 x_1 Q_2 x_2 \\dots Q_n x_n \\phi$, where each $Q_i$ is a universal ($\\forall$) or existential ($\\exists$) quantifier, the $x_i$ are distinct boolean variables, and $\\phi$ is a quantifier-free boolean formula.\n\nAny QBF can be converted into an equivalent formula in PNF. Consider the following QBF:\n$$ \\psi = (\\forall x_1: (x_1 \\land \\neg x_2)) \\rightarrow (\\exists x_3: (x_3 \\lor x_1)) $$\nThe conversion process to PNF involves a sequence of steps applying logical equivalences to move all quantifiers to the front. The first step is often to eliminate logical connectives that obstruct quantifier movement, such as the implication ($\\rightarrow$).\n\nWhich of the following formulas is logically equivalent to $\\psi$ and represents the direct result of applying the appropriate rule to eliminate the implication connective?\n\nA. $\\forall x_1 \\exists x_3: ((x_1 \\land \\neg x_2) \\rightarrow (x_3 \\lor x_1))$\n\nB. $(\\exists x_1: \\neg(x_1 \\land \\neg x_2)) \\lor (\\exists x_3: (x_3 \\lor x_1))$\n\nC. $\\neg(\\forall x_1: (x_1 \\land \\neg x_2)) \\lor (\\exists x_3: (x_3 \\lor x_1))$\n\nD. $(\\forall x_1: \\neg(x_1 \\land \\neg x_2)) \\land (\\exists x_3: (x_3 \\lor x_1))$", "solution": "We use the standard propositional equivalence for implication elimination: for any formulas $A$ and $B$, the equivalence $A \\rightarrow B \\equiv \\neg A \\lor B$ holds.\n\nIdentify the antecedent and consequent in $\\psi$ as:\n$$\nA = (\\forall x_{1} : (x_{1} \\land \\neg x_{2})), \\quad B = (\\exists x_{3} : (x_{3} \\lor x_{1})).\n$$\nApplying the equivalence yields:\n$$\n\\psi \\equiv \\neg(\\forall x_{1} : (x_{1} \\land \\neg x_{2})) \\lor (\\exists x_{3} : (x_{3} \\lor x_{1})).\n$$\nThis matches option C exactly. Option A leaves the implication intact. Option B incorrectly changes the quantifier and structure. Option D replaces the implication with a conjunction, which is not the correct equivalence.", "answer": "$$\\boxed{C}$$", "id": "1464836"}, {"introduction": "With the formula's matrix simplified, the primary task of moving quantifiers can begin. This process is governed by a set of equivalence rules, but it contains a subtle trap: variable capture. To preserve logical meaning, it is essential that a quantifier being moved does not bind a variable that was previously free or bound by a different quantifier. This practice [@problem_id:1467507] challenges you to correctly handle quantifier movement over a disjunction, which requires the critical step of renaming bound variables (a process known as alpha-conversion) to ensure the integrity of the formula.", "problem": "In computational complexity theory, a True Quantified Boolean Formula (TQBF) is a formula in quantified boolean logic that is required to be in prenex normal form. A formula is in prenex normal form if it is of the form $\\mathcal{Q}_1 v_1 \\mathcal{Q}_2 v_2 \\dots \\mathcal{Q}_n v_n \\psi$, where each $\\mathcal{Q}_i$ is a universal quantifier ($\\forall$) or an existential quantifier ($\\exists$), the $v_i$ are distinct boolean variables, and $\\psi$ is a quantifier-free boolean formula involving the variables $v_1, \\dots, v_n$ and possibly other free variables.\n\nConsider the following quantified boolean formula $\\Phi$, where $x, y,$ and $z$ are boolean variables:\n$$ \\Phi = (\\forall x (x \\lor y)) \\lor (\\exists x (\\neg x \\land z)) $$\nWhich of the following formulas in prenex normal form is logically equivalent to $\\Phi$? Note that variables $a$ and $b$ are introduced as new, distinct boolean variables for the purpose of renaming.\n\nA. $\\forall x \\exists x (((x \\lor y) \\lor (\\neg x \\land z)))$\n\nB. $\\forall a \\exists b (((a \\lor y) \\land (\\neg b \\land z)))$\n\nC. $\\exists b \\forall a (((a \\lor y) \\lor (\\neg b \\land z)))$\n\nD. $\\forall a \\forall b (((a \\lor y) \\lor (\\neg b \\land z)))$\n\nE. $\\exists a \\exists b (((a \\lor y) \\lor (\\neg b \\land z)))$", "solution": "We start with the given formula\n$$\\Phi = (\\forall x\\,(x \\lor y)) \\lor (\\exists x\\,(\\neg x \\land z)).$$\nFirst, perform alpha-conversion to ensure distinct bound variables in different scopes. Rename the bound variable in the left disjunct to $a$ and in the right disjunct to $b$:\n$$\\Phi \\equiv (\\forall a\\,(a \\lor y)) \\lor (\\exists b\\,(\\neg b \\land z)).$$\nUse the standard prenex transformation rule for disjunction with an existential quantifier: if $b$ is not free in $\\alpha$, then $\\alpha \\lor (\\exists b\\,\\gamma) \\equiv \\exists b\\,(\\alpha \\lor \\gamma)$. Here, $\\alpha$ is $(\\forall a\\,(a \\lor y))$ and $b$ is not free in it, so\n$$(\\forall a\\,(a \\lor y)) \\lor (\\exists b\\,(\\neg b \\land z)) \\equiv \\exists b\\,\\big((\\forall a\\,(a \\lor y)) \\lor (\\neg b \\land z)\\big).$$\nNext, use the prenex transformation for disjunction with a universal quantifier: if $a$ is not free in $\\beta$, then $(\\forall a\\,\\varphi) \\lor \\beta \\equiv \\forall a\\,(\\varphi \\lor \\beta)$. Here, $\\beta$ is $(\\neg b \\land z)$ and $a$ is not free in it, hence\n$$\\exists b\\,\\big((\\forall a\\,(a \\lor y)) \\lor (\\neg b \\land z)\\big) \\equiv \\exists b\\,\\forall a\\,\\big((a \\lor y) \\lor (\\neg b \\land z)\\big).$$\nThus, a prenex normal form equivalent to $\\Phi$ is\n$$\\exists b\\,\\forall a\\,\\big((a \\lor y) \\lor (\\neg b \\land z)\\big),$$\nwhich matches option C. (Option A violates the distinct variable requirement; options B, D, and E alter the connective structure or quantifier types in ways that are not equivalent to the original formula.)", "answer": "$$\\boxed{C}$$", "id": "1467507"}, {"introduction": "Mastering the syntax of Prenex Normal Form is only half the battle; understanding its semantic implications is what unlocks its power in areas like automated theorem proving. PNF is a preparatory step for Skolemization, where existential quantifiers are replaced by functions. The structure of these \"Skolem functions\" depends directly on the order of universal quantifiers in the PNF prefix. This advanced practice [@problem_id:2982829] asks you to diagnose an error in a Skolemization process, forcing you to think critically about why the precise sequence of quantifiers in a PNF is not just a notational choice, but a fundamental declaration of dependency.", "problem": "Consider the sentence of first-order logic (FOL) in prenex form, $$\\forall x \\,\\exists y \\,\\exists z \\, S(x,y,z),$$ where $S$ is a quantifier-free predicate symbol in a fixed first-order language with equality. A purported Skolemization replaces both $\\exists y$ and $\\exists z$ by the same Skolem function term $f(x)$, yielding the universal closure $$\\forall x \\, S\\big(x,f(x),f(x)\\big).$$ Starting from the fundamental definitions of Skolemization and the dependency discipline on universally quantified variables, identify the precise logical error in this replacement and explain, by appeal to equisatisfiability and model-theoretic semantics, why this error can destroy satisfiability for some structures. Then derive the correct Skolem normal form by introducing the necessary Skolem function symbols and specifying their arities as enforced by the quantifier prefix and scope. Conclude by providing, as your final answer, the ordered pair of Skolem terms that correctly witness the existential quantifiers as a single LaTeX row matrix. No numerical rounding is required. Express your final answer only as the row matrix of the two Skolem terms.", "solution": "The process of Skolemization transforms a first-order logic formula into an equisatisfiable formula in Skolem normal form, which is a formula in prenex normal form containing only universal quantifiers. The core principle is to replace each existentially quantified variable with a term called a Skolem term. This term consists of a new function symbol, called a Skolem function, applied to all universally quantified variables whose quantifiers appear earlier in the prenex form (i.e., whose scope includes the existential quantifier being eliminated).\n\nThe given sentence is $$\\forall x \\,\\exists y \\,\\exists z \\, S(x,y,z).$$\nThe purported Skolemization is $$\\forall x \\, S\\big(x,f(x),f(x)\\big).$$\n\nThe precise logical error in this proposed transformation lies in the reuse of the same Skolem function term, $f(x)$, to replace two distinct existentially quantified variables, $y$ and $z$. The original sentence asserts that for any given $x$, there exist a value for $y$ and a value for $z$ that satisfy the predicate $S$. These two values, $y$ and $z$, are not required to be identical. The formula $\\exists y \\,\\exists z \\, S(x,y,z)$ makes no claim about the equality or inequality of the witnesses for $y$ and $z$.\n\nBy replacing both $y$ and $z$ with the identical term $f(x)$, the purported Skolemization implicitly introduces the constraint $y=z$. The resulting formula, $\\forall x \\, S\\big(x,f(x),f(x)\\big)$, asserts that for any $x$, there exists a single value, let's call it $w = f(x)$, such that $S(x,w,w)$ holds. This is a logically stronger statement than the original. A formula $\\Phi$ logically implies a formula $\\Psi$ (written $\\Phi \\models \\Psi$) if every model of $\\Phi$ is also a model of $\\Psi$. In this case, $\\forall x \\, \\exists w \\, S(x,w,w)$ implies $\\forall x \\, \\exists y \\, \\exists z \\, S(x,y,z)$ (by simply choosing $y=w$ and $z=w$), but the converse does not hold. The purported Skolemization is therefore not logically equivalent to the original formula.\n\nMore importantly, Skolemization is required to preserve satisfiability (i.e., be equisatisfiable), not logical equivalence. The error can destroy satisfiability. Let's demonstrate this with a model-theoretic argument. A formula is satisfiable if there exists at least one model (a domain of discourse and an interpretation of symbols) in which it is true.\nLet the domain of discourse be the set of integers, $\\mathbb{Z}$.\nLet the predicate $S(x,y,z)$ be interpreted as the relation $y + z = x$.\n\nThe original sentence becomes:\n$$\\forall x \\in \\mathbb{Z} \\,\\, \\exists y \\in \\mathbb{Z} \\,\\, \\exists z \\in \\mathbb{Z} \\,\\, (y+z=x).$$\nThis statement is true in the standard model of integers. For any integer $x$, we can always find suitable integers $y$ and $z$. For example, we can choose $y=0$ and $z=x$. Since such a model exists, the original formula is satisfiable.\n\nNow, consider the purported Skolemization under the same interpretation:\n$$\\forall x \\in \\mathbb{Z} \\,\\, (f(x) + f(x) = x).$$\nThis simplifies to $\\forall x \\in \\mathbb{Z} \\,\\, (2f(x) = x)$. This statement asserts that for every integer $x$, there exists an integer $f(x)$ (the witness) such that $2$ times that integer equals $x$. This is false. For any odd integer, such as $x=1$, there is no integer $w$ such that $2w = 1$. Consequently, no function $f: \\mathbb{Z} \\to \\mathbb{Z}$ can exist that satisfies this property for all $x$. The purported Skolemized formula is unsatisfiable over the integers.\n\nSince the original formula is satisfiable but the incorrectly Skolemized formula is not, the erroneous procedure has destroyed satisfiability, which violates the fundamental requirement of the Skolemization process.\n\nTo derive the correct Skolem normal form, we must introduce a unique Skolem function for each existential quantifier.\nThe original formula is $\\forall x \\,\\exists y \\,\\exists z \\, S(x,y,z)$.\n1.  The first existential quantifier is $\\exists y$. It is within the scope of the universal quantifier $\\forall x$. We must therefore replace $y$ with a term $f(x)$, where $f$ is a new function symbol of arity $1$. The formula becomes $\\forall x \\,\\exists z \\, S(x,f(x),z)$.\n2.  The second existential quantifier is $\\exists z$. It is also within the scope of $\\forall x$. We must replace $z$ with a term $g(x)$, where $g$ is another new function symbol of arity $1$, distinct from $f$.\n\nThe correct Skolem normal form is therefore:\n$$\\forall x \\, S\\big(x,f(x),g(x)\\big).$$\nThis formula is equisatisfiable with the original. If the original formula is true in a model, then for each $x$, there exist $y_x$ and $z_x$. We can define the interpretations of the functions $f$ and $g$ as $f(x) = y_x$ and $g(x) = z_x$. Conversely, if the Skolemized formula is true in a model with interpretations for $f$ and $g$, then for any $x$, we can choose $y = f(x)$ and $z = g(x)$ to satisfy the original formula.\n\nThe ordered pair of Skolem terms that correctly witness the existential quantifiers for $y$ and $z$ are $f(x)$ and $g(x)$, respectively.", "answer": "$$\\boxed{\\begin{pmatrix} f(x) & g(x) \\end{pmatrix}}$$", "id": "2982829"}]}