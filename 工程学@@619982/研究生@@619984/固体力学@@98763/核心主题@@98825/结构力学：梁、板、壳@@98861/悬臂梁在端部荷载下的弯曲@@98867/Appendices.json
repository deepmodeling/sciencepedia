{"hands_on_practices": [{"introduction": "在分析任何梁结构之前，首要任务是确定其内部的力，特别是弯矩$M(x)$。这个练习将引导你运用静力平衡的基本原理，通过分析一个自由体图来确定悬臂梁在末端荷载$P$作用下的弯矩分布[@problem_id:2617201]。掌握这项基础技能对于后续的所有梁理论分析至关重要，它是连接外部荷载与内部应力的桥梁。", "problem": "一根长度为 $L$ 的直棱悬臂梁，在 $x=0$ 处被刚性固定，在 $x=L$ 处为自由端。一个大小为 $P$ 的静态垂直点荷载施加于 $x=L$ 处的自由端，其作用方向为负 $y$ 方向。忽略梁的自重及任何其他荷载。考虑位于 $x=a$ 处的一个横截面，其中 $0 \\le a \\le L$。将该截面处的内弯矩 $M(a)$ 定义为：为保持静力平衡，必须施加于切口右侧梁段（即 $a \\le x \\le L$ 部分）自由体上的力偶，并规定逆时针方向的力矩为正。采用如下符号约定：正的 $M(a)$ 对应于拱起作用，即它会使左侧相邻材料的上部纤维受拉。\n\n仅使用自由体的静力平衡法则（合力为零且合力矩为零），推导出一个以 $P$、$L$ 和 $a$ 表示的 $M(a)$ 的闭式表达式。使用国际单位制，使得弯矩以牛顿-米表示。请提供最终表达式作为答案，无需进行数值修约。", "solution": "该问题陈述已通过验证，并被认定为有效。这是一个来自固体力学领域的、提法恰当且有科学依据的问题。所有必要的数据和定义均已提供，不存在内部矛盾或歧义。该问题要求使用静力平衡的基本原理推导悬臂梁中的内弯矩。\n\n推导过程如下。我们将分析梁段的自由体图，并应用平衡方程。\n\n问题指定对位于任意位置 $x=a$（其中 $0 \\le a \\le L$）处切口的右侧梁段进行自由体分析。此梁段范围从 $x=a$ 至 $x=L$ 处的自由端。\n\n作用于此自由体梁段的力与力矩如下：\n1. 作用在自由端 $x=L$ 处、大小为 $P$ 的外部点荷载。该力沿负 $y$ 方向（向下）作用。\n2. $x=a$ 处截面上的内力。这些是梁的左半部分（从 $x=0$ 到 $x=a$）对右半部分的作用。这些内力由一个内剪力（我们记作 $V(a)$）和一个内弯矩（$M(a)$）组成。\n\n问题要求对弯矩 $M(a)$ 采用一个特定的符号约定：正的 $M(a)$ 值必须对应于拱起作用，即梁的上部纤维受拉。对于水平梁，这对应于梁被弯曲成向下凹的形状。让我们分析在我们所选自由体（右侧梁段）上力矩 $M(a)$ 的方向。拱起力矩是指会引起切口左侧材料上部纤维受拉的力矩。这要求在 $x=a$ 处左侧梁段的截面上作用一个顺时针的力偶。根据牛顿第三定律，左侧梁段施加于右侧梁段的力矩必须大小相等、方向相反。因此，在右侧梁段的自由体图上，内弯矩 $M(a)$ 是一个逆时针方向的力矩。\n\n问题进一步说明，为书写平衡方程，逆时针方向的力矩应取为正。这与我们的分析结果一致；一个物理上为正（拱起）的力矩 $M(a)$ 对应于平衡方程中一个数学上为正（逆时针）的项。\n\n现在我们对该自由体梁段应用静力旋转平衡条件。绕任意点的力矩之和必须为零。我们选择对位于切口处的点 $(x=a, y=0)$ 求力矩之和。这是一个策略性选择，因为内剪力 $V(a)$ 通过此点，其力矩为零，从而简化了方程。\n\n旋转平衡方程为：\n$$ \\sum M_{\\text{at } x=a} = 0 $$\n\n作用于该梁段的力矩包括：\n1. 切口处的内弯矩 $M(a)$。根据我们的符号约定，我们视其为正，故其在总和中贡献为 $+M(a)$。\n2. 由外荷载 $P$ 产生的力矩。力 $P$ 作用于 $x=L$。此力相对于点 $x=a$ 的力臂为距离 $(L-a)$。由于力 $P$ 方向向下，它绕 $x=a$ 点产生一个顺时针力矩。在以逆时針为正的坐标系中，此力矩为负值，其大小为 $-P(L-a)$。\n\n将这些项代入平衡方程，得到：\n$$ M(a) - P(L-a) = 0 $$\n\n解出内弯矩 $M(a)$，我们得到表达式：\n$$ M(a) = P(L-a) $$\n\n这是悬臂梁沿线任意截面 $x=a$ 处内弯矩的闭式表达式。它用给定的参数 $P$、$L$ 和 $a$ 表示。单位是牛顿-米，符合要求，因为 $P$ 的单位是牛顿，$(L-a)$ 的单位是米。该表达式正确地表明，弯矩在固定支座处（$a=0$）达到最大值 $M(0) = PL$，而在自由端处（$a=L$）为零，$M(L) = 0$。由于 $P>0$ 且 $L \\ge a$，$M(a)$ 的值为非负，这与物理预期相符，即在悬臂梁上施加向下的末端荷载会在整个梁长上产生拱起力矩。", "answer": "$$ \\boxed{P(L-a)} $$", "id": "2617201"}, {"introduction": "一旦知道了弯矩分布，我们就可以利用欧拉-伯努利梁理论（Euler-Bernoulli beam theory）来计算梁的几何响应，即其挠度$w(x)$和转角$\\theta(x)$。这个练习建立在前一个练习的基础上，要求你对力矩-曲率关系 $EI w''(x) = M(x)$进行积分，以找出悬臂梁的挠度曲线[@problem_id:2617248]。通过这个实践，你将不仅能计算出最大挠度，还能更深入地理解梁在荷载作用下的变形形态，例如转角是如何沿梁长累积的。", "problem": "一根长度为 $L$、具有恒定抗弯刚度 $E I$ 的细长等截面线性弹性悬臂梁，其在 $x=0$ 处被固支，在 $x=L$ 处自由。一个集中竖向荷载 $P$ 作用在自由端 $x=L$ 处。假设挠度变形很小，符合欧拉-伯努利梁假说（即平截面在变形后仍然保持为平面，并垂直于变形后的中性轴），因此曲率由 $w^{\\prime\\prime}(x)=\\kappa(x)$ 给出，且与内弯矩的关系为 $\\kappa(x)=M(x)/(E I)$。角度以弧度为单位。\n\n仅从上述基本关系和梁段的静力平衡出发以求得内力合力，推导在固支边界条件 $w(0)=0$ 和 $\\theta(0)=0$ 下的挠度转角分布 $\\theta(x)=w^{\\prime}(x)$。然后，确定梁上唯一的点 $x^{\\star}\\in(0,L)$，使得该点的转角恰好等于梁端转角的一半，即 $\\theta(x^{\\star})=\\tfrac{1}{2}\\,\\theta(L)$。以精确的闭式无量纲比值 $x^{\\star}/L$ 的形式报告最终结果。并结合端部荷载作用下挠度曲线的三次函数特性，简要解释该位置的物理意义。\n\n你的最终答案必须是关于 $x^{\\star}/L$ 的单个闭式解析表达式，不带单位。请勿进行四舍五入。", "solution": "问题陈述需要经过验证。\n\n**步骤1：提取已知条件**\n- **系统**：一根细长、等截面、线性弹性的悬臂梁。\n- **长度**：$L$。\n- **抗弯刚度**：$EI$，为常数。\n- **边界条件**：在 $x=0$ 处固支，在 $x=L$ 处自由。这意味着挠度 $w(0)=0$ 且转角 $\\theta(0)=w^{\\prime}(0)=0$。\n- **荷载**：一个作用在自由端 $x=L$ 的集中竖向荷载 $P$。\n- **控制理论**：欧拉-伯努利梁假说。\n- **基本关系**：\n  - 曲率：$\\kappa(x) = w^{\\prime\\prime}(x)$。\n  - 弯矩-曲率关系：$\\kappa(x) = M(x)/(E I)$。\n- **目标**：\n  1. 推导转角分布 $\\theta(x) = w^{\\prime}(x)$。\n  2. 找到唯一的点 $x^{\\star} \\in (0,L)$ 使得 $\\theta(x^{\\star})=\\frac{1}{2}\\,\\theta(L)$。\n  3. 以无量纲比值 $x^{\\star}/L$ 报告结果。\n  4. 提供简要解释。\n\n**步骤2：使用提取的已知条件进行验证**\n- **科学依据**：该问题是固体力学中的一个典型习题，基于已被广泛认可的欧拉-伯努利梁理论。所有原理都是结构工程和机械工程的基础。\n- **适定性**：该问题具有明确的几何形状、材料属性（以 $EI$ 表示）、荷载和边界条件，是完整定义的。梁的挠度和转角存在唯一解，并且是待求的。寻找 $x^{\\star}$ 的条件是一个定义明确的代数问题。\n- **客观性**：语言精确、定量，没有主观或含糊不清的术语。\n- **缺陷分析**：该问题没有任何缺陷。它在科学上是合理的，也是完整的、无矛盾的、适定的。这是一个标准的、可形式化的问题，需要从第一性原理进行实质性推导。\n\n**步骤3：结论与行动**\n该问题被判定为**有效**。将进行求解推导。\n\n推导从静力平衡原理开始。考虑从位置 $x$ 到自由端 $x=L$ 的梁段的自由体图。我们假设荷载 $P$ 作用在 $y$ 轴负方向。截面处的内弯矩 $M(x)$ 必须与外荷载 $P$ 产生的力矩相平衡。对 $x$ 处的截面取矩：\n$$\n\\sum M_{\\text{cut}} = M(x) + P(L-x) = 0\n$$\n由此，可以得到内弯矩的分布为：\n$$\nM(x) = -P(L-x)\n$$\n负号表示向下的荷载引起负曲率（一个“上拱”弯矩，此时梁的顶部纤维受拉）。\n\n题目给出了弯矩 $M(x)$ 与曲率 $w^{\\prime\\prime}(x)$ 之间的基本欧拉-伯努利关系：\n$$\nEI w^{\\prime\\prime}(x) = M(x)\n$$\n代入 $M(x)$ 的表达式，得到挠曲线 $w(x)$ 的二阶常微分方程：\n$$\nEI w^{\\prime\\prime}(x) = -P(L-x)\n$$\n梁的转角 $\\theta(x)$ 由挠度的一阶导数给出，即 $\\theta(x) = w^{\\prime}(x)$。为了求出转角分布，我们必须对曲率方程关于 $x$ 进行积分：\n$$\nEI w^{\\prime}(x) = \\int -P(L-x) \\, dx = -P \\left( Lx - \\frac{x^2}{2} \\right) + C_1\n$$\n其中 $C_1$ 是积分常数。该常数可通过应用固支端（$x=0$）的边界条件来确定，即该处的转角必须为零：$\\theta(0) = w^{\\prime}(0) = 0$。\n$$\nEI w^{\\prime}(0) = -P \\left( L(0) - \\frac{(0)^2}{2} \\right) + C_1 = 0 \\implies C_1 = 0\n$$\n因此，沿梁的转角分布方程为：\n$$\n\\theta(x) = w^{\\prime}(x) = -\\frac{P}{EI} \\left( Lx - \\frac{x^2}{2} \\right)\n$$\n接下来，我们通过计算 $x=L$ 处的转角函数值来确定梁自由端的转角 $\\theta(L)$：\n$$\n\\theta(L) = -\\frac{P}{EI} \\left( L(L) - \\frac{L^2}{2} \\right) = -\\frac{P}{EI} \\left( L^2 - \\frac{L^2}{2} \\right) = -\\frac{PL^2}{2EI}\n$$\n题目要求找到位置 $x^{\\star}$，使得该处的转角恰好是梁端转角的一半：\n$$\n\\theta(x^{\\star}) = \\frac{1}{2} \\theta(L)\n$$\n代入 $\\theta(x^{\\star})$ 和 $\\theta(L)$ 的表达式：\n$$\n-\\frac{P}{EI} \\left( Lx^{\\star} - \\frac{(x^{\\star})^2}{2} \\right) = \\frac{1}{2} \\left( -\\frac{PL^2}{2EI} \\right)\n$$\n等式两边的 $-\\frac{P}{EI}$ 项可以消去，关系式简化为：\n$$\nLx^{\\star} - \\frac{(x^{\\star})^2}{2} = \\frac{L^2}{4}\n$$\n这是一个关于 $x^{\\star}$ 的一元二次方程。为了求解它，我们将其整理为标准形式 $ax^2 + bx + c = 0$：\n$$\n\\frac{1}{2}(x^{\\star})^2 - Lx^{\\star} + \\frac{L^2}{4} = 0\n$$\n两边乘以 $2$ 以消去分数，得到：\n$$\n(x^{\\star})^2 - 2Lx^{\\star} + \\frac{L^2}{2} = 0\n$$\n我们应用二次方程求根公式来求解 $x^{\\star}$：\n$$\nx^{\\star} = \\frac{-(-2L) \\pm \\sqrt{(-2L)^2 - 4(1)(\\frac{L^2}{2})}}{2(1)} = \\frac{2L \\pm \\sqrt{4L^2 - 2L^2}}{2}\n$$\n$$\nx^{\\star} = \\frac{2L \\pm \\sqrt{2L^2}}{2} = \\frac{2L \\pm L\\sqrt{2}}{2} = L \\left( 1 \\pm \\frac{\\sqrt{2}}{2} \\right)\n$$\n这会得到两个数学解：\n$$\nx^{\\star}_1 = L \\left( 1 + \\frac{\\sqrt{2}}{2} \\right) \\quad \\text{和} \\quad x^{\\star}_2 = L \\left( 1 - \\frac{\\sqrt{2}}{2} \\right)\n$$\n题目规定位置 $x^{\\star}$ 必须位于梁的物理域内，即 $x^{\\star} \\in (0,L)$。\n第一个根 $x^{\\star}_1 \\approx 1.707L$，超出了梁的长度范围，因此在物理上是不可接受的。\n第二个根 $x^{\\star}_2 \\approx L(1 - 0.707) = 0.293L$，位于区间 $(0,L)$ 内，是唯一的有效解。\n$$\nx^{\\star} = L \\left( 1 - \\frac{\\sqrt{2}}{2} \\right)\n$$\n最终结果要求以无量纲比值 $x^{\\star}/L$ 的形式给出：\n$$\n\\frac{x^{\\star}}{L} = 1 - \\frac{\\sqrt{2}}{2}\n$$\n**解释**：在端部荷载作用下，悬臂梁的挠度曲线是关于 $x$ 的三次多项式，具体为 $w(x) = -\\frac{P}{6EI}(3Lx^2 - x^3)$。它的一阶导数，即转角 $\\theta(x)$，是一个二次函数；它的二阶导数，即曲率 $\\kappa(x)$，是 $x$ 的一个线性函数。曲率与弯矩成正比，而弯矩从固支端（$x=0$）的最大值线性减小到自由端（$x=L$）的零。因此，转角的变化率在靠近支座处最大，并向梁端方向逐渐减小。这意味着转角的累积在最靠近支座的区域最快。结果 $x^{\\star}/L = 1 - \\frac{\\sqrt{2}}{2} \\approx 0.293$ 表明，梁端总转角的一半是在梁长度的前 $29.3\\%$ 范围内产生的。这种转角的非均匀累积，是由线性弯矩分布所决定的挠度曲线三次特性的直接结果。", "answer": "$$\n\\boxed{1 - \\frac{\\sqrt{2}}{2}}\n$$", "id": "2617248"}, {"introduction": "在现实世界的工程问题中，材料属性（如杨氏模量$E$）、几何尺寸（如惯性矩$I$和长度$L$）和外部荷载$P$等参数并非是确定不变的，它们都存在一定的不确定性。这项高级练习将经典的梁理论与现代计算科学方法相结合，要求你对悬臂梁模型进行不确定性量化[@problem_id:2617173]。你将通过推导并计算索博尔指数（Sobol indices），来定量分析不同输入参数的不确定性对梁挠度变异性的贡献，这是理解和设计稳健机械系统的关键一步。", "problem": "一根长度为 $L$、抗弯刚度为 $E I$、截面为矩形的直棱悬臂梁，其一端在 $x=0$ 处被刚性固定，另一自由端 $x=L$ 处承受一个向下的静态点力 $P$。令 $w(x)$ 表示微小的横向挠度，其符号约定为 $P$ 的作用方向为正，即 $w(x)>0$。假设遵循经典的 Euler–Bernoulli 运动学、材料线性和平截面假定，且挠度为微小挠度。梁方程通过 $E I \\, d^2 w/d x^2 = M(x)$ 将内弯矩 $M(x)$ 与曲率联系起来。\n\n1) 从梁弯曲的基本平衡关系和梁运动学出发，推导端点挠度 $w(L)$ 作为参数 $E$、$I$、$L$ 和 $P$ 的函数。您的推导必须从表达式 $E I \\, d^2 w/d x^2 = M(x)$ 和适用于固定-自由悬臂梁的边界条件（固定端挠度和斜率均为零）开始，并且不得假定任何预先引用的 $w(L)$ 公式。\n\n2) 当输入参数 $E$、$I$、$L$ 和 $P$ 为独立随机变量时，考虑随机响应 $Y = w(L)$。定义一阶基于方差的 Sobol 指数 $S_i$ 来表示输入 $X_i \\in \\{E,I,L,P\\}$ 对 $Y$ 方差的贡献，其公式为 $S_i = \\mathrm{Var}\\!\\left(\\mathbb{E}[Y \\mid X_i]\\right) / \\mathrm{Var}(Y)$。仅使用独立性、期望和方差的性质以及推导出的 $Y$ 的表达式，来获得一个精确的闭式表达式 $S_i$，该表达式专门适用于 $Y$ 可以写成一个常数乘以多个独立输入变量的函数之积的情况。您不得使用任何蒙特卡洛或准蒙特卡洛采样方法。\n\n3) 应用您在第 2 部分中得到的表达式，计算以下三个测试案例的一阶 Sobol 指数。将任何确定性常数视为方差为零的随机变量。所有物理量均为严格正值。当指定为对数正态分布时，其基础自然对数服从均值为 $m$、标准差为 $s$ 的正态分布，该分布由目标均值 $\\mu_{\\mathrm{target}}$ 和 $s$ 通过公式 $m = \\ln(\\mu_{\\mathrm{target}}) - \\tfrac{1}{2} s^2$ 唯一确定。\n\n- 测试案例 A (理想情况，独立均匀分布):\n  - $E \\sim \\mathrm{Uniform}(190\\times 10^{9}, 210\\times 10^{9})$，单位为帕斯卡。\n  - $I \\sim \\mathrm{Uniform}(1.8\\times 10^{-6}, 2.2\\times 10^{-6})$，单位为 $\\mathrm{m}^4$。\n  - $L \\sim \\mathrm{Uniform}(1.8, 2.2)$，单位为米。\n  - $P \\sim \\mathrm{Uniform}(900, 1100)$，单位为牛顿。\n\n- 测试案例 B (边界情况，一个确定性输入):\n  - $E = 200\\times 10^{9}$，单位为帕斯卡 (确定性)。\n  - $I \\sim \\mathrm{Uniform}(1.9\\times 10^{-6}, 2.1\\times 10^{-6})$，单位为 $\\mathrm{m}^4$。\n  - $L \\sim \\mathrm{Uniform}(1.9, 2.1)$，单位为米。\n  - $P \\sim \\mathrm{Uniform}(950, 1050)$，单位为牛顿。\n\n- 测试案例 C (独立对数正态分布，具有指定均值和对数标准差):\n  - $E$ 服从对数正态分布，其 $\\mu_{\\mathrm{target}} = 200\\times 10^{9}$ 且 $s_E = 0.05$。\n  - $I$ 服从对数正态分布，其 $\\mu_{\\mathrm{target}} = 2.0\\times 10^{-6}$ 且 $s_I = 0.10$。\n  - $L$ 服从对数正态分布，其 $\\mu_{\\mathrm{target}} = 2.0$ 且 $s_L = 0.05$。\n  - $P$ 服从对数正态分布，其 $\\mu_{\\mathrm{target}} = 1000$ 且 $s_P = 0.05$。\n\n程序实现要求：\n- 仅使用独立性假设和精确矩计算来获得一阶 Sobol 指数；不使用任何随机抽样。\n- 对每个测试案例，按 $[S_E, S_I, S_L, S_P]$ 的顺序计算指数。\n- 最终输出必须为单行，包含一个由逗号分隔的 $12$ 个浮点数列表，四舍五入到六位小数，并用方括号括起来，对应于扁平化串联 $[S_E^A, S_I^A, S_L^A, S_P^A, S_E^B, S_I^B, S_L^B, S_P^B, S_E^C, S_I^C, S_L^C, S_P^C]$。\n- 所有 Sobol 指数都是无量纲的。输出中不应出现任何物理单位。", "solution": "所述问题具有科学依据，提法恰当且客观。它基于固体力学（Euler-Bernoulli 梁理论）和不确定性量化（基于方差的灵敏度分析）的既定原则。参数和分布都已明确指定，从而可以得出一个唯一的、有意义的解。因此，该问题被认为是有效的。下面将系统地给出解答。\n\n**第 1 部分：悬臂梁端点挠度推导**\n\nEuler-Bernoulli 梁的横向挠度 $w(x)$ 由方程\n$$\nEI \\frac{d^2w}{dx^2} = M(x)\n$$\n控制，其中 $E$ 是杨氏模量，$I$ 是截面的面积二次矩，$M(x)$ 是内弯矩。问题指定了一根在 $x=0$ 处固定、在 $x=L$ 处自由的悬臂梁，在 $x=L$ 处作用一个向下的点力 $P$。挠度 $w(x)$ 定义为向下为正。\n\n弯矩 $M(x)$ 的标准符号约定将导致正曲率（向上凹，或称“下垂”）的力矩定义为正力矩。自由端的向下力 $P$ 将导致“上拱”力矩，引起负曲率。为求得力矩 $M(x)$，我们考虑梁从 $x$ 到 $L$ 部分的自由体图。为满足静态平衡，绕 $x$ 处截面的力矩总和必须为零。截面处的内弯矩 $M(x)$ 平衡了来自外力 $P$ 的力矩，该外力作用点距离截面为 $(L-x)$。因此，$M(x) + P(L-x) = 0$，得到\n$$\nM(x) = -P(L-x)\n$$\n将此代入梁方程：\n$$\nEI \\frac{d^2w}{dx^2} = -P(L-x)\n$$\n我们将此方程对 $x$ 积分两次以求得挠度 $w(x)$。第一次积分得到斜率 $dw/dx$：\n$$\nEI \\frac{dw}{dx} = \\int -P(L-x) \\,dx = -P \\left( Lx - \\frac{x^2}{2} \\right) + C_1\n$$\n固定端（$x=0$）的边界条件是斜率为零：$dw/dx(0)=0$。应用此条件：\n$$\nEI \\cdot 0 = -P \\left( L(0) - \\frac{0^2}{2} \\right) + C_1 \\implies C_1 = 0\n$$\n因此，斜率方程为：\n$$\nEI \\frac{dw}{dx} = -P \\left( Lx - \\frac{x^2}{2} \\right)\n$$\n第二次积分得到挠度 $w(x)$：\n$$\nEI w(x) = \\int -P \\left( Lx - \\frac{x^2}{2} \\right) \\,dx = -P \\left( L\\frac{x^2}{2} - \\frac{x^3}{6} \\right) + C_2\n$$\n固定端（$x=0$）的边界条件是挠度为零：$w(0)=0$。应用此条件：\n$$\nEI \\cdot 0 = -P \\left( L\\frac{0^2}{2} - \\frac{0^3}{6} \\right) + C_2 \\implies C_2 = 0\n$$\n因此，挠度曲线为：\n$$\nw(x) = -\\frac{P}{EI} \\left( \\frac{Lx^2}{2} - \\frac{x^3}{6} \\right)\n$$\n问题定义 $w(x) > 0$ 为向下，但我们的推导得出了负挠度，这表明使用的是一个标准坐标系，其中向上为正。我们取其绝对值作为向下的挠度。为求得自由端的挠度，我们将 $w(x)$ 在 $x=L$ 处求值：\n$$\nw(L) = \\left| -\\frac{P}{EI} \\left( \\frac{L(L^2)}{2} - \\frac{L^3}{6} \\right) \\right| = \\frac{P}{EI} \\left( \\frac{L^3}{2} - \\frac{L^3}{6} \\right) = \\frac{P}{EI} \\left( \\frac{3L^3 - L^3}{6} \\right) = \\frac{2PL^3}{6EI}\n$$\n端点挠度被正确地推导为：\n$$\nw(L) = \\frac{PL^3}{3EI}\n$$\n\n**第 2 部分：一阶 Sobol 指数推导**\n\n输出响应 $Y = w(L)$ 是四个独立随机输入 $X_i \\in \\{E, I, L, P\\}$ 的函数：\n$$\nY = f(E, I, L, P) = \\frac{1}{3} P L^3 E^{-1} I^{-1}\n$$\n这是一个输入函数之积：$Y = C \\prod_{i=1}^{4} f_i(X_i)$，其中 $C=1/3$，$f_1(E) = E^{-1}$，$f_2(I) = I^{-1}$，$f_3(L) = L^3$，以及 $f_4(P) = P$。\n\n输入 $X_i$ 的一阶 Sobol 指数 $S_i$ 定义为 $S_i = \\mathrm{Var}(\\mathbb{E}[Y \\mid X_i]) / \\mathrm{Var}(Y)$。我们推导分子和分母的表达式。\n\n条件期望 $\\mathbb{E}[Y \\mid X_i]$ 为：\n$$\n\\mathbb{E}[Y \\mid X_i] = \\mathbb{E}\\left[ C \\prod_{j=1}^{4} f_j(X_j) \\mid X_i \\right] = C f_i(X_i) \\prod_{j \\neq i} \\mathbb{E}[f_j(X_j)]\n$$\n项 $C \\prod_{j \\neq i} \\mathbb{E}[f_j(X_j)]$ 是一个常数。令 $\\mu_j = \\mathbb{E}[f_j(X_j)]$。\n$$\n\\mathbb{E}[Y \\mid X_i] = C f_i(X_i) \\prod_{j \\neq i} \\mu_j\n$$\n此条件期望的方差是：\n$$\n\\mathrm{Var}(\\mathbb{E}[Y \\mid X_i]) = \\mathrm{Var}\\left( C f_i(X_i) \\prod_{j \\neq i} \\mu_j \\right) = \\left( C \\prod_{j \\neq i} \\mu_j \\right)^2 \\mathrm{Var}(f_i(X_i))\n$$\n由于 $\\mathrm{Var}(f_i(X_i)) = \\mathbb{E}[f_i(X_i)^2] - (\\mathbb{E}[f_i(X_i)])^2 = \\mathbb{E}[f_i^2] - \\mu_i^2$，我们有：\n$$\n\\mathrm{Var}(\\mathbb{E}[Y \\mid X_i]) = C^2 \\left( \\prod_{j \\neq i} \\mu_j^2 \\right) (\\mathbb{E}[f_i^2] - \\mu_i^2)\n$$\n总方差 $\\mathrm{Var}(Y)$ 为 $\\mathbb{E}[Y^2] - (\\mathbb{E}[Y])^2$。\n$$\n\\mathbb{E}[Y] = \\mathbb{E}\\left[C \\prod_j f_j(X_j)\\right] = C \\prod_j \\mathbb{E}[f_j(X_j)] = C \\prod_j \\mu_j\n$$\n$$\n\\mathbb{E}[Y^2] = \\mathbb{E}\\left[C^2 \\prod_j f_j(X_j)^2\\right] = C^2 \\prod_j \\mathbb{E}[f_j(X_j)^2] = C^2 \\prod_j \\mathbb{E}[f_j^2]\n$$\n所以，总方差为：\n$$\n\\mathrm{Var}(Y) = C^2 \\left( \\prod_j \\mathbb{E}[f_j^2] - \\prod_j \\mu_j^2 \\right)\n$$\nSobol 指数 $S_i$ 是以下比率：\n$$\nS_i = \\frac{C^2 ( \\prod_{j \\neq i} \\mu_j^2 ) (\\mathbb{E}[f_i^2] - \\mu_i^2)}{C^2 ( \\prod_j \\mathbb{E}[f_j^2] - \\prod_j \\mu_j^2 )} = \\frac{ ( \\prod_j \\mu_j^2 / \\mu_i^2 ) (\\mathbb{E}[f_i^2] - \\mu_i^2) }{ \\prod_j \\mathbb{E}[f_j^2] - \\prod_j \\mu_j^2 }\n$$\n将分子中的项展开得到 $\\frac{ ( \\prod_j \\mu_j^2) (\\mathbb{E}[f_i^2]/\\mu_i^2 - 1) }{ \\prod_j \\mathbb{E}[f_j^2] - \\prod_j \\mu_j^2 }$。现在，将分子和分母同时除以 $\\prod_j \\mu_j^2$：\n$$\nS_i = \\frac{\\mathbb{E}[f_i^2]/\\mu_i^2 - 1}{\\left( \\prod_j \\mathbb{E}[f_j^2] / \\prod_j \\mu_j^2 \\right) - 1} = \\frac{\\mathbb{E}[f_i^2]/\\mu_i^2 - 1}{\\prod_j (\\mathbb{E}[f_j^2]/\\mu_j^2) - 1}\n$$\n我们定义无量纲量 $v_j = \\mathbb{E}[f_j(X_j)^2] / (\\mathbb{E}[f_j(X_j)])^2$。Sobol 指数的表达式简化为：\n$$\nS_i = \\frac{v_i - 1}{\\prod_{j=1}^{4} v_j - 1}\n$$\n这个精确的闭式表达式将用于计算。\n\n**第 3 部分：Sobol 指数计算**\n\n我们需要为每个输入 $X_j$ 在其指定的分布下计算 $v_j$。\n\n**均匀分布 $X \\sim \\mathrm{Uniform}(a,b)$ 的矩公式：**\n当 $k \\ne -1$ 时，$k$ 阶矩为 $\\mathbb{E}[X^k] = \\frac{b^{k+1}-a^{k+1}}{(k+1)(b-a)}$。\n当 $k=-1$ 时：$\\mathbb{E}[X^{-1}] = \\frac{\\ln(b/a)}{b-a}$。\n当 $k=-2$ 时：$\\mathbb{E}[X^{-2}] = \\frac{1}{ab}$。\n\n**对数正态分布 $X \\sim \\mathrm{Lognormal}(m,s^2)$ 的矩公式：**\n$k$ 阶矩为 $\\mathbb{E}[X^k] = \\exp(km + k^2s^2/2)$。给定 $\\mu_{\\mathrm{target}} = \\mathbb{E}[X]$，我们使用 $m = \\ln(\\mu_{\\mathrm{target}}) - s^2/2$。对于 $f(X)=X^k$，项 $v = \\mathbb{E}[(X^k)^2] / (\\mathbb{E}[X^k])^2 = \\mathbb{E}[X^{2k}] / (\\mathbb{E}[X^k])^2$。\n$$\nv = \\frac{\\exp(2km + (2k)^2s^2/2)}{(\\exp(km + k^2s^2/2))^2} = \\frac{\\exp(2km + 2k^2s^2)}{\\exp(2km + k^2s^2)} = \\exp(k^2s^2)\n$$\n\n**测试案例 A：均匀分布**\n- $E \\sim \\mathrm{U}(190 \\cdot 10^9, 210 \\cdot 10^9)$。$f_E=E^{-1}$。$v_E = \\mathbb{E}[E^{-2}]/(\\mathbb{E}[E^{-1}])^2 = \\frac{1/(ab)}{(\\ln(b/a)/(b-a))^2} = \\frac{(b-a)^2}{ab(\\ln(b/a))^2}$。\n- $I \\sim \\mathrm{U}(1.8 \\cdot 10^{-6}, 2.2 \\cdot 10^{-6})$。$f_I=I^{-1}$。$v_I$ 的形式与 $v_E$ 相同。\n- $L \\sim \\mathrm{U}(1.8, 2.2)$。$f_L=L^3$。$v_L = \\mathbb{E}[L^6]/(\\mathbb{E}[L^3])^2 = \\frac{(b^7-a^7)/(7(b-a))}{( (b^4-a^4)/(4(b-a)) )^2} = \\frac{16(b-a)(b^7-a^7)}{7(b^4-a^4)^2}$。\n- $P \\sim \\mathrm{U}(900, 1100)$。$f_P=P^1$。$v_P = \\mathbb{E}[P^2]/(\\mathbb{E}[P])^2 = \\frac{(b^3-a^3)/(3(b-a))}{((a+b)/2)^2} = \\frac{4(a^2+ab+b^2)}{3(a+b)^2}$。\n\n**测试案例 B：一个确定性输入**\n- $E = 200 \\cdot 10^9$ (确定性)。对于确定性输入，$\\mathbb{E}[f(X)] = f(c)$ 且 $\\mathbb{E}[f(X)^2] = f(c)^2$，所以 $v_E = 1$。Sobol 指数 $S_E = (v_E-1)/(\\dots) = 0$。\n- $I \\sim \\mathrm{U}(1.9 \\cdot 10^{-6}, 2.1 \\cdot 10^{-6})$。$f_I=I^{-1}$。$v_I$ 的计算方法与案例 A 相同。\n- $L \\sim \\mathrm{U}(1.9, 2.1)$。$f_L=L^3$。$v_L$ 的计算方法与案例 A 相同。\n- $P \\sim \\mathrm{U}(950, 1050)$。$f_P=P$。$v_P$ 的计算方法与案例 A 相同。\n其他指数的分母变为 $v_I v_L v_P - 1$。\n\n**测试案例 C：对数正态分布**\n使用简化形式 $v=\\exp(k^2s^2)$。\n- $E$：$k=-1$, $s_E=0.05$。$v_E=\\exp((-1)^2 s_E^2) = \\exp(s_E^2)$。\n- $I$：$k=-1$, $s_I=0.10$。$v_I=\\exp((-1)^2 s_I^2) = \\exp(s_I^2)$。\n- $L$：$k=3$, $s_L=0.05$。$v_L=\\exp(3^2 s_L^2) = \\exp(9 s_L^2)$。\n- $P$：$k=1$, $s_P=0.05$。$v_P=\\exp(1^2 s_P^2) = \\exp(s_P^2)$。\n总乘积为 $\\prod v_j = \\exp(s_E^2 + s_I^2 + 9s_L^2 + s_P^2)$。指数由这些值计算得出。\n\n实现过程将通过对每个测试案例的这些表达式进行数值评估来继续。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the problem of calculating first-order Sobol indices for the deflection\n    of a cantilever beam with random input parameters.\n    \"\"\"\n\n    test_cases = [\n        # Test Case A: Uniform distributions\n        {\n            'E': ('uniform', 190e9, 210e9),\n            'I': ('uniform', 1.8e-6, 2.2e-6),\n            'L': ('uniform', 1.8, 2.2),\n            'P': ('uniform', 900, 1100),\n        },\n        # Test Case B: One deterministic, others uniform\n        {\n            'E': ('deterministic', 200e9),\n            'I': ('uniform', 1.9e-6, 2.1e-6),\n            'L': ('uniform', 1.9, 2.1),\n            'P': ('uniform', 950, 1050),\n        },\n        # Test Case C: Lognormal distributions\n        {\n            'E': ('lognormal', 0.05),  # s_E\n            'I': ('lognormal', 0.10),  # s_I\n            'L': ('lognormal', 0.05),  # s_L\n            'P': ('lognormal', 0.05),  # s_P\n        }\n    ]\n\n    all_results = []\n\n    for case in test_cases:\n        v = {}\n\n        # E: f(E) = E^-1, k = -1\n        dist_type, *params_E = case['E']\n        if dist_type == 'uniform':\n            a, b = params_E\n            # v = E[f^2] / E[f]^2 = E[E^-2] / E[E^-1]^2\n            E_inv1_sq = (np.log(b / a) / (b - a))**2\n            E_inv2 = 1 / (a * b)\n            v['E'] = E_inv2 / E_inv1_sq\n        elif dist_type == 'deterministic':\n            v['E'] = 1.0\n        elif dist_type == 'lognormal':\n            s_E = params_E[0]\n            k = -1.0\n            v['E'] = np.exp(k**2 * s_E**2)\n\n        # I: f(I) = I^-1, k = -1\n        dist_type, *params_I = case['I']\n        if dist_type == 'uniform':\n            a, b = params_I\n            # v = E[f^2] / E[f]^2 = E[I^-2] / E[I^-1]^2\n            E_inv1_sq = (np.log(b / a) / (b - a))**2\n            E_inv2 = 1 / (a * b)\n            v['I'] = E_inv2 / E_inv1_sq\n        elif dist_type == 'deterministic':\n            v['I'] = 1.0\n        elif dist_type == 'lognormal':\n            s_I = params_I[0]\n            k = -1.0\n            v['I'] = np.exp(k**2 * s_I**2)\n            \n        # L: f(L) = L^3, k = 3\n        dist_type, *params_L = case['L']\n        if dist_type == 'uniform':\n            a, b = params_L\n            # v = E[f^2] / E[f]^2 = E[L^6] / E[L^3]^2\n            E_L3_sq = ((b**4 - a**4) / (4 * (b - a)))**2\n            E_L6 = (b**7 - a**7) / (7 * (b - a))\n            v['L'] = E_L6 / E_L3_sq\n        elif dist_type == 'deterministic':\n            v['L'] = 1.0\n        elif dist_type == 'lognormal':\n            s_L = params_L[0]\n            k = 3.0\n            v['L'] = np.exp(k**2 * s_L**2)\n\n        # P: f(P) = P, k = 1\n        dist_type, *params_P = case['P']\n        if dist_type == 'uniform':\n            a, b = params_P\n            # v = E[f^2] / E[f]^2 = E[P^2] / E[P]^2\n            E_P_sq = ((a + b) / 2)**2\n            E_P2 = (a**2 + a * b + b**2) / 3\n            v['P'] = E_P2 / E_P_sq\n        elif dist_type == 'deterministic':\n            v['P'] = 1.0\n        elif dist_type == 'lognormal':\n            s_P = params_P[0]\n            k = 1.0\n            v['P'] = np.exp(k**2 * s_P**2)\n\n        v_prod = v['E'] * v['I'] * v['L'] * v['P']\n        denominator = v_prod - 1\n        \n        # Handle the case where all inputs are deterministic (denominator is 0)\n        if np.isclose(denominator, 0):\n            s_E = 0.0\n            s_I = 0.0\n            s_L = 0.0\n            s_P = 0.0\n        else:\n            s_E = (v['E'] - 1) / denominator\n            s_I = (v['I'] - 1) / denominator\n            s_L = (v['L'] - 1) / denominator\n            s_P = (v['P'] - 1) / denominator\n\n        all_results.extend([s_E, s_I, s_L, s_P])\n    \n    # Format results to six decimal places\n    formatted_results = [f\"{res:.6f}\" for res in all_results]\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```", "id": "2617173"}]}