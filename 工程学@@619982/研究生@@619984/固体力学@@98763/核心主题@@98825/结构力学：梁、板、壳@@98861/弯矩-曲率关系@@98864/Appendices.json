{"hands_on_practices": [{"introduction": "掌握弯矩-曲率关系的核心在于能够从材料的应力-应变行为和截面的运动学假设出发，推导出其宏观响应。本练习将引导你为具有双线性应变硬化行为的矩形截面，从第一性原理出发，完整地推导出其$M-\\kappa$关系。通过这个过程，你将深刻理解梁从弹性阶段进入弹塑性阶段的力学行为演化。[@problem_id:2670668]", "problem": "一根拥有矩形截面（宽度为 $b$，总高度为 $h$）的直棱柱梁，在其强轴上承受纯弯曲。梁的变形遵循 Euler–Bernoulli 运动学假定，即平截面在变形后仍然保持为平面，且垂直于中性轴。材料在单轴拉伸和压缩下遵循一种双线性、率无关的应力-应变关系，其初始杨氏模量为 $E$，屈服应力为 $\\sigma_{y}$（对应屈服应变为 $\\epsilon_{y} = \\sigma_{y}/E$），屈服后硬化模量为常数 $H'$，且拉伸与压缩性能相同。截面上没有轴力，且由于截面和材料的对称性，中性轴保持在截面中间高度处。\n\n1) 仅从纵向应变的定义 $\\epsilon(y) = \\kappa y$（其中 $y$ 是纤维到中性轴的距离）和弯矩的定义 $M = \\int_{A} \\sigma(y)\\,y\\,\\mathrm{d}A$ 出发，推导该矩形截面精确的截面弯矩-曲率关系 $M(\\kappa)$。您的推导必须明确区分弹性阶段和弹塑性阶段，并仅用 $b$、$h$、$E$、$\\sigma_{y}$、$H'$ 和 $\\kappa$ 以闭合形式表示 $M(\\kappa)$。\n\n2) 通过引入塑性铰长度 $L_{p}$ 并假设在此长度上曲率是均匀的，从而铰转角满足 $\\theta_{d} = \\kappa L_{p}$，来定义在给定局部塑性铰转角需求 $\\theta_{d}$ 下的有效塑性弯矩。使用您在第1部分中得到的 $M(\\kappa)$，设 $M_{\\mathrm{eff}}(\\theta_{d}) := M(\\kappa = \\theta_{d}/L_{p})$。\n\n对以下数据进行 $M_{\\mathrm{eff}}(\\theta_{d})$ 的数值计算\n$b = 0.200 \\text{ m}$，$h = 0.300 \\text{ m}$，$E = 200 \\times 10^{9} \\text{ Pa}$，$\\sigma_{y} = 300 \\times 10^{6} \\text{ Pa}$，$H' = 5.0 \\times 10^{9} \\text{ Pa}$，$\\theta_{d} = 0.020 \\text{ rad}$，$L_{p} = 0.150 \\text{ m}$。\n将您的最终弯矩以 $\\text{kN}\\cdot\\text{m}$ 为单位表示，并四舍五入至四位有效数字。", "solution": "首先对问题陈述进行验证。\n\n从题目中逐字提取的已知条件：\n- 一根拥有矩形截面（宽度为 $b$，总高度为 $h$）的直棱柱梁。\n- 在其强轴上承受纯弯曲。\n- Euler–Bernoulli 运动学假定：平截面在变形后仍然保持为平面，且垂直于中性轴。\n- 材料应力-应变关系：双线性、率无关，初始杨氏模量为 $E$，屈服应力为 $\\sigma_{y}$（对应屈服应变为 $\\epsilon_{y} = \\sigma_{y}/E$），屈服后硬化模量为常数 $H'$。拉伸与压缩性能相同。\n- 无轴力，中性轴保持在中间高度处。\n- 应变定义：$\\epsilon(y) = \\kappa y$。\n- 弯矩定义：$M = \\int_{A} \\sigma(y)\\,y\\,\\mathrm{d}A$。\n- 第1部分任务：以闭合形式推导精确的截面弯矩-曲率关系 $M(\\kappa)$。\n- 第2部分定义：塑性铰长度 $L_{p}$ 和铰转角 $\\theta_{d} = \\kappa L_{p}$。\n- 第2部分任务：对 $M_{\\mathrm{eff}}(\\theta_{d}) := M(\\kappa = \\theta_{d}/L_{p})$ 进行数值计算。\n- 数值数据：$b = 0.200 \\text{ m}$，$h = 0.300 \\text{ m}$，$E = 200 \\times 10^{9} \\text{ Pa}$，$\\sigma_{y} = 300 \\times 10^{6} \\text{ Pa}$，$H' = 5.0 \\times 10^{9} \\text{ Pa}$，$\\theta_{d} = 0.020 \\text{ rad}$，$L_{p} = 0.150 \\text{ m}$。\n- 最终答案要求：以 $\\text{kN}\\cdot\\text{m}$ 为单位表示弯矩，并四舍五入至四位有效数字。\n\n对照标准进行验证：\n- **科学性**：该问题是非弹性固体力学领域一个标准的基础问题。Euler-Bernoulli 运动学、双线性材料模型、弯矩-曲率关系和塑性铰等概念是既定成熟的，并且是结构分析的核心。\n- **适定性**：问题定义清晰，提供了所有必要的信息和定义，并且其解析推导和数值计算都能得到唯一的、稳定的解。\n- **客观性**：语言精确、专业，不含任何主观或模糊的术语。\n\n结论：该问题有效。这是一个高等材料力学中提法得当、内容自洽的问题。我们开始求解。\n\n截面的响应通过首先建立本构律，然后对应力场在截面上进行积分来推导。\n\n**第1部分：弯矩-曲率关系 $M(\\kappa)$ 的推导**\n\n双线性应力-应变定律 $\\sigma(\\epsilon)$ 如下：\n$$\n\\sigma(\\epsilon) =\n\\begin{cases}\nE\\epsilon & \\text{对于 } |\\epsilon| \\le \\epsilon_y \\\\\n\\mathrm{sgn}(\\epsilon)[\\sigma_y + H'(|\\epsilon| - \\epsilon_y)] & \\text{对于 } |\\epsilon| > \\epsilon_y\n\\end{cases}\n$$\n其中 $\\epsilon_y = \\sigma_y / E$。应变沿深度呈线性分布：$\\epsilon(y) = \\kappa y$。弯矩为 $M = \\int_{-h/2}^{h/2} \\sigma(\\kappa y) y (b \\, dy)$。\n\n**阶段1：完全弹性行为 ($0 \\le \\kappa \\le \\kappa_y$)**\n只要边缘纤维（$y = \\pm h/2$）处的应变不超过屈服应变，截面就处于完全弹性状态。此条件 $|\\epsilon(h/2)| = \\kappa (h/2) \\le \\epsilon_y$ 定义了弹性阶段的极限。初屈服时的曲率为：\n$$ \\kappa_y = \\frac{\\epsilon_y}{h/2} = \\frac{2\\epsilon_y}{h} = \\frac{2\\sigma_y}{Eh} $$\n对于任何曲率 $\\kappa \\le \\kappa_y$，各处应力均为 $\\sigma(y) = E\\epsilon(y) = E\\kappa y$。弯矩为：\n$$ M(\\kappa) = \\int_{-h/2}^{h/2} (E\\kappa y) y (b \\, dy) = E\\kappa b \\int_{-h/2}^{h/2} y^2 dy = E\\kappa \\left( \\frac{bh^3}{12} \\right) $$\n令 $I = bh^3/12$ 为截面二次矩，则弹性阶段的弯矩-曲率关系为：\n$$ M(\\kappa) = EI\\kappa $$\n\n**阶段2：弹塑性行为 ($\\kappa > \\kappa_y$)**\n当 $\\kappa > \\kappa_y$ 时，外部纤维屈服。在 $|y| \\le y_c$ 范围内存在一个弹性核心，其中 $y_c$ 是应变等于 $\\epsilon_y$ 时距中性轴的距离。\n$$ \\kappa y_c = \\epsilon_y \\implies y_c = \\frac{\\epsilon_y}{\\kappa} = \\frac{\\kappa_y}{\\kappa}\\frac{h}{2} $$\n为了推导弯矩，我们使用叠加法。应力-应变定律可以分解为 $\\sigma(\\epsilon) = \\sigma_1(\\epsilon) + \\sigma_2(\\epsilon)$：\n1. 一个线性硬化分量：$\\sigma_1(\\epsilon) = H'\\epsilon$。这对所有应变都有效。\n2. 一个理想弹塑性分量：$\\sigma_2(\\epsilon)$，其弹性模量为 $E' = E - H'$，有效屈服应力为 $\\sigma_{y,eff} = \\sigma_y - H'\\epsilon_y = \\sigma_y(1 - H'/E)$。该分量的屈服应变为 $\\epsilon_{y,eff} = \\sigma_{y,eff} / E' = \\sigma_y/E = \\epsilon_y$。\n\n总弯矩为 $M = M_1 + M_2$。\n由线性硬化分量产生的弯矩为：\n$$ M_1 = \\int_A \\sigma_1(\\kappa y) y \\, dA = \\int_A (H'\\kappa y) y \\, dA = H'I\\kappa $$\n由理想弹塑性分量产生的弯矩需要对其弹性核心和塑性区进行积分。对于理想弹塑性的矩形截面，其弯矩是一个已知结果：\n$$ M_2 = M_{p,eff} \\left( 1 - \\frac{1}{3} \\frac{y_c^2}{(h/2)^2} \\right) $$\n其中 $M_{p,eff}$ 是对应于有效屈服应力 $\\sigma_{y,eff}$ 的全塑性弯矩，$y_c$ 是弹性核心的范围。\n$$ M_{p,eff} = \\sigma_{y,eff} Z_p = \\sigma_y \\left(1 - \\frac{H'}{E}\\right) \\frac{bh^2}{4} $$\n此处，$Z_p = bh^2/4$ 是塑性截面模量。代入 $y_c = (\\kappa_y/\\kappa)(h/2)$：\n$$ M_2 = \\sigma_y \\left(1 - \\frac{H'}{E}\\right) \\frac{bh^2}{4} \\left( 1 - \\frac{1}{3} \\left(\\frac{\\kappa_y}{\\kappa}\\right)^2 \\right) $$\n结合这两个部分，得到弹塑性阶段的弯矩：\n$$ M(\\kappa) = H'I\\kappa + \\sigma_y \\left(1 - \\frac{H'}{E}\\right) \\frac{bh^2}{4} \\left( 1 - \\frac{1}{3} \\left(\\frac{\\kappa_y}{\\kappa}\\right)^2 \\right) $$\n\n弯矩-曲率关系总结如下：\n$$\nM(\\kappa) =\n\\begin{cases}\nE I \\kappa & \\text{对于 } 0 \\le \\kappa \\le \\kappa_y \\\\\nH'I\\kappa + \\sigma_y \\left(1 - \\frac{H'}{E}\\right) Z_p \\left( 1 - \\frac{1}{3} \\left(\\frac{\\kappa_y}{\\kappa}\\right)^2 \\right) & \\text{对于 } \\kappa > \\kappa_y\n\\end{cases}\n$$\n其中 $I = bh^3/12$，$Z_p = bh^2/4$，以及 $\\kappa_y = 2\\sigma_y / (Eh)$。\n\n**第2部分：数值计算**\n\n已知数据：\n$b = 0.200 \\text{ m}$\n$h = 0.300 \\text{ m}$\n$E = 200 \\times 10^{9} \\text{ Pa}$\n$\\sigma_{y} = 300 \\times 10^{6} \\text{ Pa}$\n$H' = 5.0 \\times 10^{9} \\text{ Pa}$\n$\\theta_{d} = 0.020 \\text{ rad}$\n$L_{p} = 0.150 \\text{ m}$\n\n首先，计算所需的曲率 $\\kappa$：\n$$ \\kappa = \\frac{\\theta_d}{L_p} = \\frac{0.020}{0.150} = \\frac{2}{15} \\text{ m}^{-1} \\approx 0.1333 \\text{ m}^{-1} $$\n接下来，计算屈服曲率 $\\kappa_y$ 以确定所处阶段：\n$$ \\kappa_y = \\frac{2\\sigma_y}{Eh} = \\frac{2 \\times (300 \\times 10^6 \\text{ Pa})}{(200 \\times 10^9 \\text{ Pa}) \\times (0.300 \\text{ m})} = \\frac{6 \\times 10^8}{6 \\times 10^{10}} = 0.01 \\text{ m}^{-1} $$\n由于 $\\kappa = 2/15 \\text{ m}^{-1} > \\kappa_y = 0.01 \\text{ m}^{-1}$，截面处于弹塑性阶段。我们使用相应的公式。\n\n计算必要的几何和材料参数：\n截面二次矩：\n$$ I = \\frac{bh^3}{12} = \\frac{(0.200 \\text{ m})(0.300 \\text{ m})^3}{12} = 4.5 \\times 10^{-4} \\text{ m}^4 $$\n塑性截面模量：\n$$ Z_p = \\frac{bh^2}{4} = \\frac{(0.200 \\text{ m})(0.300 \\text{ m})^2}{4} = 4.5 \\times 10^{-3} \\text{ m}^3 $$\n硬化模量与杨氏模量之比：\n$$ \\frac{H'}{E} = \\frac{5.0 \\times 10^9 \\text{ Pa}}{200 \\times 10^9 \\text{ Pa}} = 0.025 $$\n曲率比的平方：\n$$ \\left(\\frac{\\kappa_y}{\\kappa}\\right)^2 = \\left(\\frac{0.01}{2/15}\\right)^2 = (0.075)^2 = 0.005625 $$\n\n现在，计算弯矩表达式的两项：\n第1项：$H'I\\kappa$\n$$ M_1 = (5.0 \\times 10^9 \\text{ Pa}) \\times (4.5 \\times 10^{-4} \\text{ m}^4) \\times (\\frac{2}{15} \\text{ m}^{-1}) = 300000 \\text{ N}\\cdot\\text{m} $$\n第2项：$\\sigma_y (1 - H'/E) Z_p (1 - \\frac{1}{3}(\\kappa_y/\\kappa)^2)$\n$$ M_2 = (300 \\times 10^6 \\text{ Pa}) \\times (1 - 0.025) \\times (4.5 \\times 10^{-3} \\text{ m}^3) \\times \\left(1 - \\frac{1}{3}(0.005625)\\right) $$\n$$ M_2 = (300 \\times 10^6) \\times (0.975) \\times (4.5 \\times 10^{-3}) \\times (1 - 0.001875) $$\n$$ M_2 = (1316250) \\times (0.998125) \\text{ N}\\cdot\\text{m} $$\n$$ M_2 = 1313791.40625 \\text{ N}\\cdot\\text{m} $$\n总弯矩 $M_{\\mathrm{eff}}(\\theta_d) = M(\\kappa)$ 是 $M_1 + M_2$ 之和：\n$$ M = 300000 + 1313791.40625 = 1613791.40625 \\text{ N}\\cdot\\text{m} $$\n转换为 $\\text{kN}\\cdot\\text{m}$：\n$$ M = 1613.79140625 \\text{ kN}\\cdot\\text{m} $$\n按要求四舍五入至四位有效数字：\n$$ M \\approx 1614 \\text{ kN}\\cdot\\text{m} $$\n有效塑性弯矩为 $1614 \\text{ kN}\\cdot\\text{m}$。", "answer": "$$\n\\boxed{1614}\n$$", "id": "2670668"}, {"introduction": "经典的欧拉-伯努利梁理论为我们提供了简洁的$M=EI\\kappa$关系，但这建立在一系列简化假设之上。本练习将挑战这些假设，特别是剪切变形的影响，引导你区分梁的几何挠度斜率$w'$和截面自身的转角$\\theta$。通过在铁木辛柯梁理论的框架下分析，你将对“曲率”这一概念的物理意义以及不同梁理论的适用范围有更精确的认识。[@problem_id:2663488]", "problem": "一根长度为 $L$ 的均质棱柱梁，由杨氏模量为 $E$、剪切模量为 $G$ 的线性弹性各向同性材料制成。其横截面为常数，面积为 $A$，截面二次矩为 $I$。剪切修正系数为 $k$。该梁短而深，因此剪切变形不可忽略，适用铁木辛柯梁运动学。设 $x$ 表示沿梁轴的轴向坐标，$w(x)$ 表示横向挠度，$\\theta(x)$ 表示横截面转角场。内弯矩场被规定为（由与静力平衡一致的某种外部载荷实现）：\n$$\nM(x) \\;=\\; M_{0}\\,\\sin\\!\\Big(\\frac{\\pi x}{L}\\Big),\n$$\n其中 $M_{0}$ 为常数振幅。\n\n请仅从梁的力和力矩平衡、小变形运动学以及铁木辛柯梁理论框架下的弯曲和剪切线性弹性本构关系出发，完成以下任务：\n\n- 推导横向斜率与横截面转角之间由剪切引起的差异，即 $w'(x)-\\theta(x)$ 的通用表达式，用内力及材料-截面常数表示。\n- 利用该结果以及给定的 $M(x)$，确定如果错误地应用欧拉-伯努利（EB）梁理论，将曲率等同于 $w''(x)$ 所推断出的曲率场，并将其与铁木辛柯理论中的真实弯曲曲率（定义为 $\\kappa_{\\mathrm{true}}(x)=\\theta'(x)$）进行比较。\n- 将相对曲率误差定义为\n$$\ne \\;=\\; \\frac{\\kappa_{\\mathrm{EB}}(x)-\\kappa_{\\mathrm{true}}(x)}{\\kappa_{\\mathrm{true}}(x)},\n$$\n并证明对于给定的 $M(x)$，此 $e$ 与 $x$ 无关。\n\n请提供一个关于 $e$ 的单一闭式解析表达式作为最终答案，用 $E$、$G$、$A$、$I$、$k$、$L$ 和基本常数表示。不包含单位。无需数值舍入。", "solution": "首先对问题陈述进行强制性验证程序。\n\n**第1步：提取已知条件**\n- 梁的属性：均质、棱柱形、长度 $L$、线性弹性各向同性材料。\n- 材料常数：杨氏模量 $E$、剪切模量 $G$。\n- 横截面属性：常数面积 $A$、截面二次矩 $I$、剪切修正系数 $k$。\n- 运动学变量：轴向坐标 $x$、横向挠度 $w(x)$、横截面转角 $\\theta(x)$。\n- 运动学假设：适用铁木辛柯梁理论。\n- 规定的内弯矩：$M(x) = M_{0}\\sin(\\frac{\\pi x}{L})$，其中 $M_{0}$ 是一个常数振幅。\n- 曲率定义：\n  - 欧拉-伯努利推断曲率：$\\kappa_{\\mathrm{EB}}(x) = w''(x)$。\n  - 真实弯曲曲率（铁木辛柯）：$\\kappa_{\\mathrm{true}}(x) = \\theta'(x)$。\n- 相对曲率误差定义：$e = \\frac{\\kappa_{\\mathrm{EB}}(x)-\\kappa_{\\mathrm{true}}(x)}{\\kappa_{\\mathrm{true}}(x)}$。\n- 任务：\n  1. 推导 $w'(x)-\\theta(x)$ 的表达式。\n  2. 确定 $\\kappa_{\\mathrm{EB}}(x)$ 并与 $\\kappa_{\\mathrm{true}}(x)$ 比较。\n  3. 证明相对误差 $e$ 与 $x$ 无关，并求其表达式。\n\n**第2步：使用提取的已知条件进行验证**\n- **科学性：** 该问题是固体力学中的一个标准练习，比较了两种公认的梁理论（欧拉-伯努利理论和铁木辛柯理论）。所有概念都植根于连续介质力学和结构分析的基本原理。该问题在科学上是合理的。\n- **适定性：** 问题陈述清晰地定义了所有术语，提供了所有必要信息，并要求一个具体、可推导的结果。存在唯一解。\n- **客观性：** 语言正式、技术性强，没有主观或模糊的措辞。\n- **完整性与一致性：** 问题是自洽的。所提供的信息足以且一致地推导出所需量。\n- **现实性：** 该设置描述了结构力学中一个物理上可能的情景。\n- **结构性：** 问题结构逻辑清晰，从基本关系引导到具体的比较分析。\n\n**第3步：结论与行动**\n该问题有效。这是一个来自固体力学领域的、适定的、科学上合理的问题。将提供完整的推导过程。\n\n我们从铁木辛柯梁理论的基本原理开始求解。\n\n在铁木辛柯梁理论中，运动学同时考虑了弯曲变形和剪切变形。剪应变 $\\gamma(x)$ 被定义为梁挠曲线的斜率 $w'(x) = \\frac{dw}{dx}$ 与横截面转角 $\\theta(x)$ 之差。\n$$\n\\gamma(x) = w'(x) - \\theta(x)\n$$\n这个运动学关系捕捉了由剪切引起的额外变形，而在欧拉-伯努利理论中，由于假设 $w'(x) = \\theta(x)$，这部分变形被忽略了。\n\n铁木辛柯梁的线性弹性剪切本构关系将剪力 $V(x)$ 与平均剪应变 $\\gamma(x)$ 联系起来。\n$$\nV(x) = kGA\\gamma(x)\n$$\n这里，$k$ 是剪切修正系数，$G$ 是剪切模量，$A$ 是横截面面积。\n\n结合这两个基本方程，我们可以按照问题第一部分的要求，用内剪力表示由剪切引起的横向斜率与横截面转角之差。\n$$\nw'(x) - \\theta(x) = \\frac{V(x)}{kGA}\n$$\n这是斜率的剪切分量的通用表达式。\n\n接下来，我们必须将此与给定的弯矩 $M(x)$ 联系起来。根据梁微元的静力平衡，剪力是弯矩对轴向坐标的导数：\n$$\nV(x) = \\frac{dM(x)}{dx}\n$$\n给定 $M(x) = M_{0}\\sin\\left(\\frac{\\pi x}{L}\\right)$，我们计算 $V(x)$：\n$$\nV(x) = \\frac{d}{dx}\\left[M_{0}\\sin\\left(\\frac{\\pi x}{L}\\right)\\right] = M_{0}\\left(\\frac{\\pi}{L}\\right)\\cos\\left(\\frac{\\pi x}{L}\\right)\n$$\n将此 $V(x)$ 的表达式代入我们关于 $w'(x) - \\theta(x)$ 的关系式中：\n$$\nw'(x) - \\theta(x) = \\frac{1}{kGA} \\left[ M_{0}\\left(\\frac{\\pi}{L}\\right)\\cos\\left(\\frac{\\pi x}{L}\\right) \\right] = \\frac{M_{0}\\pi}{kGAL}\\cos\\left(\\frac{\\pi x}{L}\\right)\n$$\n问题将欧拉-伯努利推断曲率定义为 $\\kappa_{\\mathrm{EB}}(x) = w''(x)$。为了求得此值，我们将 $w'(x)$ 的表达式对 $x$ 求导。首先，整理方程：$w'(x) = \\theta(x) + \\frac{M_{0}\\pi}{kGAL}\\cos\\left(\\frac{\\pi x}{L}\\right)$。\n现在求导：\n$$\nw''(x) = \\theta'(x) + \\frac{d}{dx}\\left[\\frac{M_{0}\\pi}{kGAL}\\cos\\left(\\frac{\\pi x}{L}\\right)\\right]\n$$\n$$\nw''(x) = \\theta'(x) - \\frac{M_{0}\\pi}{kGAL}\\left(\\frac{\\pi}{L}\\right)\\sin\\left(\\frac{\\pi x}{L}\\right) = \\theta'(x) - \\frac{M_{0}\\pi^{2}}{kGAL^{2}}\\sin\\left(\\frac{\\pi x}{L}\\right)\n$$\n根据定义，$\\kappa_{\\mathrm{EB}}(x) = w''(x)$。铁木辛柯理论中的真实弯曲曲率是 $\\kappa_{\\mathrm{true}}(x) = \\theta'(x)$。因此，我们有以下关系：\n$$\n\\kappa_{\\mathrm{EB}}(x) = \\kappa_{\\mathrm{true}}(x) - \\frac{M_{0}\\pi^{2}}{kGAL^{2}}\\sin\\left(\\frac{\\pi x}{L}\\right)\n$$\n弯曲的本构关系为 $M(x) = EI\\kappa_{\\mathrm{true}}(x)$。根据给定的 $M(x)$，我们可以表示 $\\kappa_{\\mathrm{true}}(x)$：\n$$\n\\kappa_{\\mathrm{true}}(x) = \\frac{M(x)}{EI} = \\frac{M_{0}}{EI}\\sin\\left(\\frac{\\pi x}{L}\\right)\n$$\n这使我们能够将 $M_{0}\\sin\\left(\\frac{\\pi x}{L}\\right)$ 写作 $EI\\kappa_{\\mathrm{true}}(x)$。将此代入连接两种曲率的方程中：\n$$\n\\kappa_{\\mathrm{EB}}(x) = \\kappa_{\\mathrm{true}}(x) - \\frac{\\pi^{2}}{kGAL^{2}}\\left[M_{0}\\sin\\left(\\frac{\\pi x}{L}\\right)\\right] = \\kappa_{\\mathrm{true}}(x) - \\frac{\\pi^{2}}{kGAL^{2}}\\left[EI\\kappa_{\\mathrm{true}}(x)\\right]\n$$\n$$\n\\kappa_{\\mathrm{EB}}(x) = \\left(1 - \\frac{\\pi^{2}EI}{L^{2}kGA}\\right)\\kappa_{\\mathrm{true}}(x)\n$$\n问题要求计算相对曲率误差 $e$，其定义为：\n$$\ne = \\frac{\\kappa_{\\mathrm{EB}}(x)-\\kappa_{\\mathrm{true}}(x)}{\\kappa_{\\mathrm{true}}(x)}\n$$\n从前一个方程，我们求得差值 $\\kappa_{\\mathrm{EB}}(x)-\\kappa_{\\mathrm{true}}(x)$：\n$$\n\\kappa_{\\mathrm{EB}}(x)-\\kappa_{\\mathrm{true}}(x) = -\\frac{\\pi^{2}EI}{L^{2}kGA} \\kappa_{\\mathrm{true}}(x)\n$$\n现在我们将这个差值代入定义中来计算相对误差 $e$。在 $\\kappa_{\\mathrm{true}}(x) \\neq 0$ 的区域（即对于 $x \\in (0, L)$），我们可以除以 $\\kappa_{\\mathrm{true}}(x)$：\n$$\ne = \\frac{-\\frac{\\pi^{2}EI}{L^{2}kGA} \\kappa_{\\mathrm{true}}(x)}{\\kappa_{\\mathrm{true}}(x)} = -\\frac{\\pi^{2}EI}{L^{2}kGA}\n$$\n这个关于 $e$ 的最终表达式是一个常数，仅取决于梁的材料和几何属性（$E$、$G$、$A$、$I$、$k$、$L$）以及基本常数 $\\pi$。它与轴向坐标 $x$ 无关，正如所要求证明的那样。负号表示，由于剪切变形对总斜率的贡献，从总挠度斜率（$w''$）推断出的曲率在量值上小于真实的弯曲曲率（$\\theta'$）。", "answer": "$$\n\\boxed{-\\frac{\\pi^{2}EI}{L^{2}kGA}}\n$$", "id": "2663488"}, {"introduction": "虽然解析方法能够为简单情况提供深刻的洞见，但处理复杂截面形状和非线性材料行为时，数值方法是不可或缺的。本练习将指导你实现纤维模型算法，这是一种在非线性结构分析中广泛应用的强大技术，用于计算任意截面的弯矩-曲率关系。通过亲手编写代码解决这个问题，你将把理论知识转化为解决实际工程问题的计算能力。[@problem_id:2663507]", "problem": "考虑一根横截面为矩形的棱柱梁，其宽度为 $b$，高度为 $h$。假设梁满足欧拉-伯努利梁理论的运动学假定（即平截面在变形后仍保持为平面），因此横截面上的轴向应变分布为 $\\epsilon_x(y) = \\epsilon_0 + \\kappa\\, y$。其中，$y$ 是从形心轴（向上为正）测量的坐标，$\\epsilon_0$ 是均匀轴向应变，$\\kappa$ 是曲率（单位：弧度/米）。材料被建模为各向同性、率无关、小应变的一维弹塑性固体，并伴有线性各向同性硬化：在单轴状态下，柯西应力 $\\sigma_x$ 是应变 $\\epsilon_x$ 的函数，该函数由以下原则定义：\n- 屈服前，应力呈线性弹性，杨氏模量为 $E$。\n- 在拉伸或压缩状态下，屈服始于初始屈服应力 $\\sigma_{y0}$。\n- 在单调加载下屈服后，应力-应变响应是双线性的，具有恒定的硬化模量 $H \\ge 0$。本问题忽略加载反向下的客观性。\n假设应变和转动均为小量，并忽略剪切变形。\n\n您的任务是实现一个纤维离散截面积分算法。对于给定的曲率 $\\kappa$，该算法需要确定唯一的轴向应变偏移 $\\epsilon_0$，使得截面上的合轴力为零，然后计算相应的弯矩 $M$（绕 $z$ 轴，其中 $x$ 轴沿梁方向， $y$ 轴垂直）。具体来说：\n- 将横截面离散为 $N_y$ 个水平纤维，每个纤维面积相等，为 $\\Delta A = b\\, h / N_y$。这些纤维的位置 $y_i$ 均匀分布在整个高度上，其中 $i = 1,2,\\ldots,N_y$。\n- 施加在第 $i$ 个纤维上的轴向应变为 $\\epsilon_i = \\epsilon_0 + \\kappa\\, y_i$。\n- 使用本构映射 $\\sigma_i = \\sigma_x(\\epsilon_i; E,\\sigma_{y0},H)$，该映射在首次屈服前为线性弹性，此后在单调加载下为线性各向同性硬化。\n- 通过求解给定 $\\kappa$ 下的 $\\epsilon_0$，强制满足轴向力平衡条件 $N(\\epsilon_0,\\kappa) = \\sum_{i=1}^{N_y} \\sigma_i \\Delta A = 0$。\n- 一旦满足 $N=0$，计算弯矩 $M(\\kappa) = \\sum_{i=1}^{N_y} \\sigma_i\\, y_i\\, \\Delta A$。\n\n仅从基本原理出发：内力合力的平衡、平截面假定的运动学以及含线性各向同性硬化的双线性弹塑性行为的定义。不要使用或引用任何预先推导出的弯矩-曲率关系。您的实现必须能处理纯弹性区域和直至接近全塑性响应的非弹性区域，并且在理想塑性（$H=0$）的极限情况下必须保持稳健。\n\n数值和物理参数设定：\n- 使用国际单位制：$b$ 和 $h$ 的单位是米， $E$、$\\sigma_{y0}$ 和 $H$ 的单位是帕斯卡， $\\kappa$ 的单位是弧度/米，报告的 $M$ 单位是牛顿-米。\n- 曲率的角度单位是弧度/米。\n- 使用 $N_y = 800$ 个纤维。\n- 使用稳健的求根策略求解关于 $\\epsilon_0$ 的标量平衡方程，该策略在切线刚度退化时仍能保持可靠（例如，将牛顿法与二分法回退相结合）。\n- 在计算从零开始单调加载下的一维弹塑性响应时，使用与线性各向同性硬化一致的双线性定律，其中弹性模量为 $E$，初始屈服应变为 $\\epsilon_y = \\sigma_{y0}/E$，对于 $H > 0$，屈服后切线模量为 $E_t = E H / (E + H)$，对于 $H = 0$， $E_t = 0$。\n\n测试用例：\n对于每组参数 $(b,h,E,\\sigma_{y0},H,\\kappa)$，计算弯矩 $M$（单位：牛顿-米）。使用以下四个测试用例：\n- 用例A（弹性区域）：$(\\, 0.3,\\, 0.6,\\, 210\\times 10^9,\\, 250\\times 10^6,\\, 2\\times 10^9,\\, 1.0\\times 10^{-5}\\,)$。\n- 用例B（中等塑性带硬化）：$(\\, 0.3,\\, 0.6,\\, 210\\times 10^9,\\, 250\\times 10^6,\\, 2\\times 10^9,\\, 5.0\\times 10^{-3}\\,)$。\n- 用例C（接近全塑性，理想塑性）：$(\\, 0.3,\\, 0.6,\\, 210\\times 10^9,\\, 250\\times 10^6,\\, 0.0,\\, 5.0\\times 10^{-2}\\,)$。\n- 用例D（零曲率边界情况）：$(\\, 0.3,\\, 0.6,\\, 210\\times 10^9,\\, 250\\times 10^6,\\, 1\\times 10^9,\\, 0.0\\,)$。\n\n最终输出规格：\n- 您的程序必须生成单行输出，其中包含一个 Python 列表字面量，内含四个计算出的弯矩值（单位：牛顿-米），四舍五入到三位小数，并按 $[M_A, M_B, M_C, M_D]$ 的顺序排列，分别对应于用例 A-D。\n- 除了分隔值的逗号外，该行不能有任何额外的文本或空格。例如，一个有效的输出格式是 $[11340.000,123456.789,6750000.000,0.000]$。", "solution": "所提出的问题是结构非线性分析中的一个标准练习，特别是计算采用非弹性材料模型的梁的弯矩-曲率关系。该问题具有科学依据，提法明确，并包含了获得唯一解所需的所有信息。我们将着手解决它。\n\n该解决方案建立在固体力学的三大支柱之上：运动学、材料本构律和平衡。\n\n**1. 运动学：欧拉-伯努利假定**\n我们分析的基础是欧拉-伯努利梁理论，该理论假定初始垂直于梁轴线的平截面在变形后仍然保持平面且垂直于轴线。这一运动学约束意味着轴向应变 $\\epsilon_x$ 在截面高度上呈线性分布。距离形心轴垂直距离为 $y$ 处的应变为：\n$$\n\\epsilon_x(y) = \\epsilon_0 + \\kappa y\n$$\n这里， $\\epsilon_0$ 表示整个截面上的均匀轴向应变，而 $\\kappa$ 是梁中性轴的曲率。我们的任务是找到特定的 $\\epsilon_0$ 值，以确保在给定 $\\kappa$ 的情况下满足轴向平衡。\n\n**2. 材料本构律：带硬化的双线性弹塑性**\n在单调单轴加载下，材料表现出双线性的应力-应变关系。该模型以一个初始的线性弹性区域和一个随后的线性塑性（硬化）区域为特征。设 $E$ 为杨氏模量， $\\sigma_{y0}$ 为初始屈服应力， $H$ 为硬化模量。屈服应变为 $\\epsilon_{y0} = \\sigma_{y0} / E$。屈服后切线模量 $E_t$ 是通过串联组合弹性和塑性刚度推导出来的，对于 $H > 0$，其结果为 $E_t = \\frac{EH}{E+H}$。对于理想塑性， $H=0$，这意味着 $E_t = 0$。\n\n单轴应力 $\\sigma_x$ 是轴向应变 $\\epsilon_x$ 的函数，如下所示：\n$$\n\\sigma_x(\\epsilon_x) =\n\\begin{cases}\nE \\epsilon_x & \\text{若 } |\\epsilon_x| \\le \\epsilon_{y0} \\quad \\text{(弹性)} \\\\\n\\sigma_{y0} + E_t (\\epsilon_x - \\epsilon_{y0}) & \\text{若 } \\epsilon_x > \\epsilon_{y0} \\quad \\text{(拉伸屈服)} \\\\\n-\\sigma_{y0} + E_t (\\epsilon_x + \\epsilon_{y0}) & \\text{若 } \\epsilon_x  -\\epsilon_{y0} \\quad \\text{(压缩屈服)}\n\\end{cases}\n$$\n这个关系是分段线性和连续的。局部切线模量 $d\\sigma_x/d\\epsilon_x$ 在弹性范围内为 $E$，在塑性范围内为 $E_t$。\n\n**3. 应力合力的平衡**\n横截面上的内力必须与任何外荷载保持平衡。对于纯弯曲，净轴向力 $N$ 必须为零。轴向力 $N$ 和弯矩 $M$ 定义为应力分布 $\\sigma_x(y)$ 在横截面积 $A$ 上的积分效应。\n\n轴向合力 $N$ 为：\n$$\nN = \\int_A \\sigma_x(y) \\, dA\n$$\n绕 z 轴（平行于宽度 $b$ 的轴）的弯矩合力 $M$ 为：\n$$\nM = \\int_A \\sigma_x(y) \\, y \\, dA\n$$\n\n**4. 数值解法：纤维离散法**\n由于应力函数 $\\sigma_x(\\epsilon_x(y))$ 是非线性的，平衡积分仅在最简单的情况下才具有解析解。一个通用而强大的解决方法是，将横截面离散为有限数量的“纤维”。\n\n我们将宽度为 $b$、高度为 $h$ 的矩形截面划分为 $N_y$ 个等厚度的水平纤维。每个纤维 $i$ 的面积为 $\\Delta A = b \\cdot (h/N_y)$，并位于形心坐标 $y_i$ 处。对于均匀离散，第 $i$ 个纤维（$i=1, 2, \\ldots, N_y$）的坐标可以定义在每层的中心：\n$$\ny_i = -\\frac{h}{2} + \\left(i - \\frac{1}{2}\\right) \\frac{h}{N_y}\n$$\n$N$ 和 $M$ 的连续积分随后被近似为有限和：\n$$\nN \\approx \\sum_{i=1}^{N_y} \\sigma_i \\Delta A \\quad\\text{和}\\quad M \\approx \\sum_{i=1}^{N_y} \\sigma_i y_i \\Delta A\n$$\n每个纤维中的应变由运动学关系给出：$\\epsilon_i = \\epsilon_0 + \\kappa y_i$。然后，每个纤维中的应力 $\\sigma_i$ 由本构律确定：$\\sigma_i = \\sigma_x(\\epsilon_i)$。\n\n**5. 计算给定曲率下弯矩的算法**\n对于指定的曲率 $\\kappa$，我们的步骤如下：\n1.  **求解 $\\epsilon_0$**：我们必须找到满足轴向平衡条件 $N(\\epsilon_0, \\kappa) = 0$ 的 $\\epsilon_0$ 值。这是一个关于标量非线性方程的求根问题：\n    $$\n    N(\\epsilon_0) = \\sum_{i=1}^{N_y} \\sigma_x(\\epsilon_0 + \\kappa y_i) \\Delta A = 0\n    $$\n    函数 $N(\\epsilon_0)$ 是单调递增的，因为 $\\sigma_x(\\epsilon_x)$ 是一个单调递增的函数。此属性保证了根的唯一性。一个稳健的数值方法，如 Brent 方法或带有二分法回退的牛顿-拉夫逊格式，适合此任务。问题说明推荐了这种稳健的方法。我们将使用一个标准的库函数，该函数实现了区间求根器（Brent 方法），此方法高度可靠。要使用这种方法，我们只需提供一个搜索区间 $[\\epsilon_{a}, \\epsilon_{b}]$，使得 $N(\\epsilon_{a})$ 和 $N(\\epsilon_{b})$ 符号相反。对于任何实际的工程问题，一个足够大的区间，如 $[-0.1, 0.1]$，都保证能将根包含在内。\n\n2.  **计算弯矩 $M$**：一旦找到唯一的根 $\\epsilon_0$，应变分布就完全确定了。每个纤维中的相应应力 $\\sigma_i$ 就可以计算出来。然后通过求和计算弯矩 $M$：\n    $$\n    M = \\sum_{i=1}^{N_y} \\sigma_x(\\epsilon_0 + \\kappa y_i) \\cdot y_i \\cdot \\Delta A\n    $$\n\n此算法在以下 Python 代码中实现，并遵守所有指定的约束。代码定义了一个用于双线性本构律的函数，一个用于计算给定 $\\epsilon_0$ 下轴向力的函数，并使用 `scipy.optimize.root_scalar` 来求解平衡方程，最后计算弯矩。对提供的每个测试用例重复此过程。", "answer": "```python\nimport numpy as np\nfrom scipy import optimize\n\ndef solve():\n    \"\"\"\n    Main function to solve the moment-curvature problem for the given test cases.\n    \"\"\"\n\n    test_cases = [\n        # (b, h, E, sigma_y0, H, kappa)\n        # Case A: Elastic\n        (0.3, 0.6, 210e9, 250e6, 2e9, 1.0e-5),\n        # Case B: Moderate plasticity with hardening\n        (0.3, 0.6, 210e9, 250e6, 2e9, 5.0e-3),\n        # Case C: Near fully plastic, perfect plasticity\n        (0.3, 0.6, 210e9, 250e6, 0.0, 5.0e-2),\n        # Case D: Zero curvature boundary case\n        (0.3, 0.6, 210e9, 250e6, 1e9, 0.0),\n    ]\n\n    results = []\n    for params in test_cases:\n        moment = calculate_moment_for_section(*params)\n        results.append(f\"{moment:.3f}\")\n\n    # The problem asks for a literal Python list string on a single line\n    print(f\"[{','.join(results)}]\")\n\n\ndef get_stress(epsilon, E, sigma_y0, E_t):\n    \"\"\"\n    Computes stress based on a bilinear elastoplastic model with linear hardening.\n    This function is vectorized to handle numpy arrays of strain.\n    \"\"\"\n    epsilon_y0 = sigma_y0 / E\n\n    # Conditions for elastic, tension yield, and compression yield\n    elastic_cond = np.abs(epsilon) = epsilon_y0\n    tension_yield_cond = epsilon > epsilon_y0\n    \n    # Calculate stress using np.where for vectorized conditional logic\n    stress = np.where(\n        elastic_cond,\n        E * epsilon,\n        np.where(\n            tension_yield_cond,\n            sigma_y0 + E_t * (epsilon - epsilon_y0),  # Tension yield\n            -sigma_y0 + E_t * (epsilon + epsilon_y0) # Compression yield\n        )\n    )\n    return stress\n\n\ndef calculate_moment_for_section(b, h, E, sigma_y0, H, kappa, Ny=800):\n    \"\"\"\n    Calculates the bending moment for a rectangular section given curvature and\n    material properties, using the fiber method.\n\n    Args:\n        b (float): Width of the cross-section [m].\n        h (float): Height of the cross-section [m].\n        E (float): Young's modulus [Pa].\n        sigma_y0 (float): Initial yield stress [Pa].\n        H (float): Hardening modulus [Pa].\n        kappa (float): Curvature [rad/m].\n        Ny (int): Number of fibers for discretization.\n\n    Returns:\n        float: The corresponding bending moment [Nm].\n    \"\"\"\n    if kappa == 0.0:\n        return 0.0\n\n    # 1. Define section and material properties\n    delta_A = b * h / Ny\n    if H > 0:\n        E_t = (E * H) / (E + H)\n    else:\n        E_t = 0.0\n\n    # 2. Discretize the section (fiber coordinates)\n    # y_coords are the centroidal positions of each fiber\n    y_coords = np.linspace(-h/2 + h/(2*Ny), h/2 - h/(2*Ny), Ny)\n\n    # 3. Define the objective function for the root-finder\n    # This function computes the net axial force N for a given axial strain epsilon_0.\n    def axial_force_function(epsilon_0):\n        # Calculate strain in each fiber\n        strains = epsilon_0 + kappa * y_coords\n        # Calculate stress in each fiber using the constitutive law\n        stresses = get_stress(strains, E, sigma_y0, E_t)\n        # Sum forces from all fibers to get the total axial force\n        net_force = np.sum(stresses) * delta_A\n        return net_force\n\n    # 4. Solve for epsilon_0 that makes axial force N = 0\n    # We use a robust bracketing root-finder from SciPy.\n    # The bracket [-0.1, 0.1] is extremely safe for strains in structural materials.\n    try:\n        # A robust bracketing solver like brentq is preferred\n        solution = optimize.root_scalar(\n            axial_force_function,\n            bracket=[-0.1, 0.1],\n            method='brentq'\n        )\n        epsilon_0_sol = solution.root\n    except ValueError:\n        # This fallback might occur if N(a) and N(b) have the same sign,\n        which is unlikely with a large bracket for this well-behaved function.\n        # For robustness, we return NaN.\n        return np.nan\n\n    # 5. Compute the bending moment using the found epsilon_0\n    # With the correct epsilon_0, compute the final strain and stress distributions\n    final_strains = epsilon_0_sol + kappa * y_coords\n    final_stresses = get_stress(final_strains, E, sigma_y0, E_t)\n    \n    # The moment is the sum of force*lever_arm for all fibers\n    moment = np.sum(final_stresses * y_coords) * delta_A\n    \n    return moment\n\n# This block allows the script to be run directly if needed,\n# but the calling environment will typically import and run solve().\nif __name__ == '__main__':\n    solve()\n```", "id": "2663507"}]}