{"hands_on_practices": [{"introduction": "蔡-吴（Tsai-Wu）失效准则是一个在应力分量上的二次多项式，其系数直接关联到材料的强度特性。本练习将指导您完成一个基础但至关重要的任务：从单向拉伸、压缩以及面内剪切强度等基本实验数据出发，标定蔡-吴准则中的线性和主平方项系数 $F_1, F_{11}, F_2, F_{22}, F_{66}$。通过这个实践，您将掌握将物理测量值转化为模型参数的核心技能。", "problem": "一单向纤维增强层板在面内应力状态下被建模为正交各向异性均质材料，其主材料轴用 $1$ (纤维方向) 和 $2$ (横向方向) 表示。考虑一个关于面内应力分量 $\\sigma_{1}$、$\\sigma_{2}$ 和 $\\tau_{12}$ 的二次型标量失效函数，写作\n$$\n\\mathcal{F}(\\sigma_{1},\\sigma_{2},\\tau_{12}) \\;=\\; F_{1}\\,\\sigma_{1} \\;+\\; F_{2}\\,\\sigma_{2} \\;+\\; F_{11}\\,\\sigma_{1}^{2} \\;+\\; F_{22}\\,\\sigma_{2}^{2} \\;+\\; 2F_{12}\\,\\sigma_{1}\\sigma_{2} \\;+\\; F_{66}\\,\\tau_{12}^{2},\n$$\n其失效面由 $\\mathcal{F} = 1$ 隐式定义。假设材料为正交各向异性且处于平面应力状态，并通过以下条件来标定这些系数：当一个单轴应力状态达到失效时，其相应的应力分量等于该模式和符号下实验测得的强度，而所有其他应力分量为零。具体来说，使用 $1$ 方向上的拉伸强度 $X_{t}$ 和压缩强度 $X_{c}$，$2$ 方向上的拉伸强度 $Y_{t}$ 和压缩强度 $Y_{c}$，以及面内剪切强度 $S_{12}$。\n\n从这个标定原则和上面给出的二次型出发（不假设任何额外的耦合数据），推导出 $F_{1}$、$F_{11}$、$F_{2}$、$F_{22}$ 和 $F_{66}$ 的解析表达式，这些表达式仅用强度 $X_{t}$、$X_{c}$、$Y_{t}$、$Y_{c}$ 和 $S_{12}$ 表示，并保持 $F_{12}$ 为待定。\n\n然后，针对以下强度值计算这些系数的数值：\n$$\nX_{t} = 1500 \\text{ MPa},\\quad X_{c} = 1200 \\text{ MPa},\\quad Y_{t} = 50 \\text{ MPa},\\quad Y_{c} = 200 \\text{ MPa},\\quad S_{12} = 80 \\text{ MPa}.\n$$\n使用兆帕 (MPa) 作为应力单位，因此 $F_{1}$ 和 $F_{2}$ 的单位为 $\\text{MPa}^{-1}$，$F_{11}$、$F_{22}$ 和 $F_{66}$ 的单位为 $\\text{MPa}^{-2}$。将每个报告的系数四舍五入至四位有效数字。将最终答案表示为按 $\\big(F_{1},\\,F_{11},\\,F_{2},\\,F_{22},\\,F_{66}\\big)$ 顺序排列的单行向量。", "solution": "所述问题有效。它描述了复合材料力学中的一个标准程序：使用基本强度数据来标定 Tsai-Wu 失效准则。该问题在科学上合理、内容自洽且提法得当。下面开始推导和计算。\n\n失效条件由二次函数 $\\mathcal{F}$ 的值达到 $1$ 来定义：\n$$\n\\mathcal{F}(\\sigma_{1},\\sigma_{2},\\tau_{12}) = F_{1}\\sigma_{1} + F_{2}\\sigma_{2} + F_{11}\\sigma_{1}^{2} + F_{22}\\sigma_{2}^{2} + 2F_{12}\\sigma_{1}\\sigma_{2} + F_{66}\\tau_{12}^{2} = 1\n$$\n通过将此准则应用于五个独立的单轴和纯剪切试验来标定这些系数。强度 $X_t, X_c, Y_t, Y_c, S_{12}$ 作为正的材料常数给出。\n\n**1. 纤维方向系数 $F_1$ 和 $F_{11}$ 的确定**\n\n*   **纵向拉伸：** 当 $\\sigma_1 = X_t$ 且所有其他应力分量为零时，层板失效。代入失效准则可得：\n    $$F_1 X_t + F_{11} X_t^2 = 1 \\quad (1)$$\n*   **纵向压缩：** 当 $\\sigma_1 = -X_c$ 时，层板失效。负号至关重要，因为应力是带符号的量，而强度是一个量值。准则给出：\n    $$F_1 (-X_c) + F_{11} (-X_c)^2 = 1 \\implies -F_1 X_c + F_{11} X_c^2 = 1 \\quad (2)$$\n\n我们求解关于 $F_1$ 和 $F_{11}$ 的线性方程组 $(1)$ 和 $(2)$。对式 $(1)$ 重新整理可得：\n$$F_1 = \\frac{1 - F_{11} X_t^2}{X_t}$$\n将此 $F_1$ 的表达式代入式 $(2)$：\n$$-\\left(\\frac{1 - F_{11} X_t^2}{X_t}\\right) X_c + F_{11} X_c^2 = 1$$\n$$-\\frac{X_c}{X_t} + F_{11} X_t X_c + F_{11} X_c^2 = 1$$\n$$F_{11} (X_t X_c + X_c^2) = 1 + \\frac{X_c}{X_t} = \\frac{X_t + X_c}{X_t}$$\n$$F_{11} X_c (X_t + X_c) = \\frac{X_t + X_c}{X_t}$$\n由于材料强度为正值，所以 $X_t + X_c \\neq 0$，因此我们可以除以该项：\n$$F_{11} = \\frac{1}{X_t X_c}$$\n现在，我们将此结果代回 $F_1$ 的表达式中：\n$$F_1 = \\frac{1 - \\left(\\frac{1}{X_t X_c}\\right) X_t^2}{X_t} = \\frac{1 - \\frac{X_t}{X_c}}{X_t} = \\frac{1}{X_t} - \\frac{1}{X_c}$$\n\n**2. 横向方向系数 $F_2$ 和 $F_{22}$ 的确定**\n\n该过程与纤维方向的情况完全相同，只是用横向强度 $Y_t$ 和 $Y_c$ 代替。\n*   **横向拉伸：** $\\sigma_2 = Y_t \\implies F_2 Y_t + F_{22} Y_t^2 = 1 \\quad (3)$\n*   **横向压缩：** $\\sigma_2 = -Y_c \\implies -F_2 Y_c + F_{22} Y_c^2 = 1 \\quad (4)$\n与前面的推导完全类似，$F_2$ 和 $F_{22}$ 的解为：\n$$F_2 = \\frac{1}{Y_t} - \\frac{1}{Y_c}$$\n$$F_{22} = \\frac{1}{Y_t Y_c}$$\n\n**3. 剪切系数 $F_{66}$ 的确定**\n\n*   **面内剪切：** 当 $\\tau_{12} = S_{12}$，且 $\\sigma_1=0$、$\\sigma_2=0$ 时，层板失效。准则变为：\n    $$F_{66} S_{12}^2 = 1$$\n    解出 $F_{66}$ 可得：\n    $$F_{66} = \\frac{1}{S_{12}^2}$$\n    二次项 $\\tau_{12}^2$ 的形式确保了失效预测与剪应力的符号无关，这与正交各向异性材料的特性一致。\n\n**4. 数值计算**\n\n现在我们将给定的强度数值代入这些解析表达式中。所有应力的单位均为兆帕 (MPa)。\n\n给定：$X_{t} = 1500$, $X_{c} = 1200$, $Y_{t} = 50$, $Y_{c} = 200$, $S_{12} = 80$。\n\n*   $F_1 = \\frac{1}{1500} - \\frac{1}{1200} = 0.0006666\\overline{6} - 0.0008333\\overline{3} = -0.0001666\\overline{6} \\, \\text{MPa}^{-1}$。\n    四舍五入至四位有效数字，得到 $F_1 = -1.667 \\times 10^{-4} \\, \\text{MPa}^{-1}$。\n\n*   $F_{11} = \\frac{1}{1500 \\times 1200} = \\frac{1}{1800000} = 5.555\\overline{5} \\times 10^{-7} \\, \\text{MPa}^{-2}$。\n    四舍五入至四位有效数字，得到 $F_{11} = 5.556 \\times 10^{-7} \\, \\text{MPa}^{-2}$。\n\n*   $F_2 = \\frac{1}{50} - \\frac{1}{200} = 0.02 - 0.005 = 0.015 \\, \\text{MPa}^{-1}$。\n    该值为精确值。为了以四位有效数字表示，我们写作 $F_2 = 1.500 \\times 10^{-2} \\, \\text{MPa}^{-1}$。\n\n*   $F_{22} = \\frac{1}{50 \\times 200} = \\frac{1}{10000} = 0.0001 \\, \\text{MPa}^{-2}$。\n    该值为精确值。为了以四位有效数字表示，我们写作 $F_{22} = 1.000 \\times 10^{-4} \\, \\text{MPa}^{-2}$。\n\n*   $F_{66} = \\frac{1}{80^2} = \\frac{1}{6400} = 0.00015625 \\, \\text{MPa}^{-2}$。\n    四舍五入至四位有效数字，得到 $F_{66} = 1.563 \\times 10^{-4} \\, \\text{MPa}^{-2}$。\n\n将这些数值结果整理成所要求的行向量 $(F_1, F_{11}, F_2, F_{22}, F_{66})$。", "answer": "$$\n\\boxed{\\begin{pmatrix} -1.667 \\times 10^{-4}  5.556 \\times 10^{-7}  1.500 \\times 10^{-2}  1.000 \\times 10^{-4}  1.563 \\times 10^{-4} \\end{pmatrix}}\n$$", "id": "2638073"}, {"introduction": "不同的失效准则基于不同的物理假设，因此对同一应力状态的预测可能存在差异。本练习要求您在给定的横向压缩和剪切组合应力作用下，分别计算交互式蔡-吴（Tsai-Wu）准则和基于失效模式的哈申（Hashin）准则的失效指数。通过比较这两个结果，您将深入理解不同失效模型背后的哲学思想，并学会如何解读它们对失效机制的预测。", "problem": "一个单向正交各向异性层合板（纤维方向沿材料轴$1$，横向沿材料轴$2$）承受均匀的面内平面应力状态$\\left(\\sigma_{11},\\sigma_{22},\\tau_{12}\\right)=\\left(0,-100,60\\right)\\,\\mathrm{MPa}$。该层合板的基体主导强度是典型的碳/环氧树脂体系：横向拉伸强度$Y_{t}=50\\,\\mathrm{MPa}$，横向压缩强度$Y_{c}=150\\,\\mathrm{MPa}$，以及面内剪切强度$S=70\\,\\mathrm{MPa}$。假设在失效前为小应变、线性正交各向异性弹性，并且失效由两种唯象模型评估：张量多项式Tsai–Wu准则和基于机理的Hashin准则。\n\n从以下定义出发：(i) Tsai–Wu准则是关于面内应力$\\sigma_{11}$、$\\sigma_{22}$和$\\tau_{12}$的二次多项式，其系数由单轴强度校准；以及(ii) Hashin基体准则利用横向应力的符号来区分基体拉伸失效和基体压缩失效，推导在给定应力状态下的失效指数：\n- Tsai–Wu准则，以及\n- Hashin基体压缩模式（此处相关，因为$\\sigma_{22}0$）。\n\n根据计算出的指数相对于单位阈值的大小，确定哪个机理预计起主导作用并解释原因。\n\n作为最终数值答案，报告主导失效指数，其定义为上述计算的两个指数中较大的一个。将报告的数字表示为无量纲量，并四舍五入到四位有效数字。", "solution": "所述问题具有科学依据，提法恰当且客观。它为应用复合材料力学中的既定原理提供了完整的数据和明确的说明。因此，该问题是有效的，并将提供解答。\n\n目标是使用两种不同的准则——Tsai–Wu准则和针对基体压缩的Hashin准则——来计算在给定平面应力状态下单向正交各向异性层合板的失效指数。\n\n在材料坐标系（$1$轴与纤维对齐，$2$轴与纤维横向）中，给定的应力状态为：\n$$\n\\sigma_{11} = 0\\,\\mathrm{MPa} \\\\\n\\sigma_{22} = -100\\,\\mathrm{MPa} \\\\\n\\tau_{12} = 60\\,\\mathrm{MPa}\n$$\n相关的材料强度为：\n$$\nY_{t} = 50\\,\\mathrm{MPa} \\quad \\text{（横向拉伸强度）} \\\\\nY_{c} = 150\\,\\mathrm{MPa} \\quad \\text{（横向压缩强度）} \\\\\nS = 70\\,\\mathrm{MPa} \\quad \\text{（面内剪切强度）}\n$$\n\n首先，我们分析Tsai–Wu失效准则。对于一般的平面应力状态，该准则表示为一个二次多项式：\n$$\nF_{1}\\sigma_{11} + F_{2}\\sigma_{22} + F_{11}\\sigma_{11}^{2} + F_{22}\\sigma_{22}^{2} + F_{66}\\tau_{12}^{2} + 2F_{12}\\sigma_{11}\\sigma_{22} = 1\n$$\n对于给定的应力状态，左侧的值即为Tsai–Wu失效指数，我们记为$I_{TW}$。如果$I_{TW} \\ge 1$，则预测会发生失效。系数$F_{i}$和$F_{ij}$是材料的强度参数。\n对于横向和剪切分量，这些系数定义为：\n$$\nF_{2} = \\frac{1}{Y_{t}} - \\frac{1}{Y_{c}} \\\\\nF_{22} = \\frac{1}{Y_{t}Y_{c}} \\\\\nF_{66} = \\frac{1}{S^{2}}\n$$\n问题给出的应力状态中，纵向应力$\\sigma_{11} = 0$。这极大地简化了Tsai–Wu准则，因为所有涉及$\\sigma_{11}$的项（即$F_{1}\\sigma_{11}$、$F_{11}\\sigma_{11}^{2}$和$2F_{12}\\sigma_{11}\\sigma_{22}$）都为零。因此，我们不需要纵向强度（$X_{t}$、$X_{c}$）或相互作用系数$F_{12}$。该准则简化为：\n$$\nI_{TW} = F_{2}\\sigma_{22} + F_{22}\\sigma_{22}^{2} + F_{66}\\tau_{12}^{2}\n$$\n现在我们使用给定的强度值计算必要的系数：\n$$\nF_{2} = \\frac{1}{50} - \\frac{1}{150} = \\frac{3-1}{150} = \\frac{2}{150} = \\frac{1}{75}\\,(\\mathrm{MPa})^{-1} \\\\\nF_{22} = \\frac{1}{50 \\times 150} = \\frac{1}{7500}\\,(\\mathrm{MPa})^{-2} \\\\\nF_{66} = \\frac{1}{70^{2}} = \\frac{1}{4900}\\,(\\mathrm{MPa})^{-2}\n$$\n将这些系数和应力分量代入$I_{TW}$的表达式中：\n$$\nI_{TW} = \\left(\\frac{1}{75}\\right)(-100) + \\left(\\frac{1}{7500}\\right)(-100)^{2} + \\left(\\frac{1}{4900}\\right)(60)^{2}\n$$\n$$\nI_{TW} = -\\frac{100}{75} + \\frac{10000}{7500} + \\frac{3600}{4900}\n$$\n$$\nI_{TW} = -\\frac{4}{3} + \\frac{4}{3} + \\frac{36}{49} = \\frac{36}{49}\n$$\n数值上，$I_{TW} \\approx 0.7347$。由于$I_{TW}  1$，Tsai–Wu准则预测该层合板在给定的应力状态下不会失效。\n\n接下来，我们分析Hashin失效准则。Hashin准则是基于机理的，区分纤维失效和基体失效，后者又进一步分为拉伸和压缩模式。考虑到横向应力$\\sigma_{22} = -100\\,\\mathrm{MPa}$是压缩的（$\\sigma_{22}  0$），相关的准则是基体压缩模式。此模式的方程为：\n$$\n\\left(\\frac{\\sigma_{22}}{2S}\\right)^{2} + \\left[\\left(\\frac{Y_{c}}{2S}\\right)^{2} - 1\\right]\\frac{\\sigma_{22}}{Y_{c}} + \\left(\\frac{\\tau_{12}}{S}\\right)^{2} = 1\n$$\n方程左侧是基体压缩的Hashin失效指数，我们记为$I_{H}$。如果$I_{H} \\ge 1$，则预测会发生失效。\n我们代入给定的应力和强度值：\n$$\nI_{H} = \\left(\\frac{-100}{2 \\times 70}\\right)^{2} + \\left[\\left(\\frac{150}{2 \\times 70}\\right)^{2} - 1\\right]\\frac{-100}{150} + \\left(\\frac{60}{70}\\right)^{2}\n$$\n$$\nI_{H} = \\left(\\frac{-10}{14}\\right)^{2} + \\left[\\left(\\frac{15}{14}\\right)^{2} - 1\\right]\\left(-\\frac{2}{3}\\right) + \\left(\\frac{6}{7}\\right)^{2}\n$$\n$$\nI_{H} = \\left(-\\frac{5}{7}\\right)^{2} + \\left[\\frac{225}{196} - 1\\right]\\left(-\\frac{2}{3}\\right) + \\frac{36}{49}\n$$\n$$\nI_{H} = \\frac{25}{49} + \\left[\\frac{225 - 196}{196}\\right]\\left(-\\frac{2}{3}\\right) + \\frac{36}{49}\n$$\n$$\nI_{H} = \\frac{25}{49} + \\left(\\frac{29}{196}\\right)\\left(-\\frac{2}{3}\\right) + \\frac{36}{49}\n$$\n$$\nI_{H} = \\frac{61}{49} - \\frac{58}{588} = \\frac{61}{49} - \\frac{29}{294}\n$$\n为了合并这些项，我们找到一个公分母，即$294 = 49 \\times 6$：\n$$\nI_{H} = \\frac{61 \\times 6}{49 \\times 6} - \\frac{29}{294} = \\frac{366}{294} - \\frac{29}{294} = \\frac{337}{294}\n$$\n数值上，$I_{H} \\approx 1.1463$。由于$I_{H}  1$，Hashin准则预测在基体压缩模式下会发生失效。\n\n为了确定主导机理，我们比较这两个指数。\n$$\nI_{TW} = \\frac{36}{49} \\approx 0.7347 \\\\\nI_{H} = \\frac{337}{294} \\approx 1.1463\n$$\nHashin指数超过了失效阈值$1$，而Tsai–Wu指数没有。因此，由Hashin准则描述的压缩模式下的基体失效是预测的主导失效机理。\n\n问题要求的是主导失效指数，定义为计算出的两个指数中较大的一个。\n$$\n\\text{主导指数} = \\max(I_{TW}, I_{H}) = \\max\\left(\\frac{36}{49}, \\frac{337}{294}\\right) = \\frac{337}{294}\n$$\n该值必须报告为四舍五入到四位有效数字。\n$$\n\\frac{337}{294} \\approx 1.1462585...\n$$\n四舍五入到四位有效数字得到$1.146$。", "answer": "$$\n\\boxed{1.146}\n$$", "id": "2638068"}, {"introduction": "在工程实践中，材料的强度参数往往需要通过一系列实验数据反向推算得出。本练习模拟了这一真实场景，要求您利用一组离轴拉伸实验的失效数据，通过最小二乘法拟合来提取蔡-希尔（Tsai-Hill）失效准则中的等效强度参数 $X, Y, S$。这个高级实践将理论模型与实验数据分析联系起来，展示了如何从原始测量中确定模型参数。", "problem": "给定单向层压板的多个离轴单轴拉伸破坏数据集。对于每个数据集，沿全局 $\\,x\\,$ 轴施加大小为 $\\,\\sigma^{\\text{(fail)}}\\,$ 的全局拉伸，同时层压板材料主轴 $\\,1\\,$ 与全局 $\\,x\\,$ 轴形成一个角度 $\\,\\theta\\,$（以度为单位）。假设在层压板坐标系中为平面应力状态。目标是通过最小二乘法将二次破坏曲面拟合到离轴数据，从而反算参数化拉伸情况下的 Tsai–Hill 破坏准则的有效纵向拉伸强度 $\\,X\\,$、横向拉伸强度 $\\,Y\\,$ 和面内剪切强度 $\\,S\\,$。\n\n基本和建模假设：\n- 对于沿全局 $\\,x\\,$ 轴施加的单轴全局应力 $\\,\\sigma\\,$，使用 Cauchy 应力变换。在从全局坐标系旋转 $\\,\\theta\\,$ 角的层压板坐标系 $\\,\\{1,2\\}\\,$ 中，平面应力分量满足\n  $$\\sigma_{11} = \\sigma \\cos^2\\theta,\\quad \\sigma_{22} = \\sigma \\sin^2\\theta,\\quad \\tau_{12} = \\sigma \\sin\\theta \\cos\\theta,$$\n  在这些公式中，$\\,\\theta\\,$ 以弧度为单位（相应地转换给定的度数）。\n- 采用一个齐次二次破坏指数，该指数与平面应力下正交各向异性对称性的 Tsai–Hill（拉伸）特例形式一致。在该特例中，存在三个正常数，每个都是某个强度的平方倒数，使得一般层压板应力状态的破坏指数为\n  $$\\mathcal{F}(\\sigma_{11},\\sigma_{22},\\tau_{12}) \\;=\\; a\\big(\\sigma_{11}^{2} - \\sigma_{11}\\sigma_{22}\\big) \\;+\\; b\\,\\sigma_{22}^{2} \\;+\\; c\\,\\tau_{12}^{2},$$\n  并且当 $\\,\\mathcal{F}=1\\,$ 时发生破坏。有效强度通过以下关系式关联\n  $$a=\\frac{1}{X^{2}},\\qquad b=\\frac{1}{Y^{2}},\\qquad c=\\frac{1}{S^{2}}.$$\n- 对于每个在角度 $\\,\\theta_i\\,$ 下进行的离轴拉伸试验，其测得的全局破坏应力为 $\\,\\sigma_i^{\\text{(fail)}}\\,$, 计算相应的层压板应力 $\\,(\\sigma_{11,i},\\sigma_{22,i},\\tau_{12,i})\\,$ 并强制执行破坏条件 $\\,\\mathcal{F}(\\sigma_{11,i},\\sigma_{22,i},\\tau_{12,i})=1\\,$。这为每次试验产生一个关于未知数 $\\,a, b, c\\,$ 的线性方程。对于多个试验，组装一个线性系统，并通过最小二乘法（在最小化残差平方和的意义上）估计 $\\,a, b, c\\,$。然后从估计的 $\\,a, b, c\\,$ 中恢复 $\\,X, Y, S\\,$。\n\n角度单位和物理单位：\n- 输入角度 $\\,\\theta\\,$ 以度为单位提供；在三角函数内部使用弧度。\n- 所有应力单位均为兆帕 (MPa)。以 MPa 为单位表示输出 $\\,X, Y, S\\,$，并四舍五入到三位小数。\n\n算法要求：\n- 对于每个数据集，构建设计矩阵，其中每个试验 $\\,i\\,$ 对应的一行等于\n  $$\\big[\\;\\sigma_{11,i}^{2} - \\sigma_{11,i}\\sigma_{22,i},\\;\\; \\sigma_{22,i}^{2},\\;\\; \\tau_{12,i}^{2}\\;\\big],$$\n  右侧等于 $\\,1\\,$。通过最小二乘法求解该超定线性系统以获得 $\\,\\hat a, \\hat b, \\hat c\\,$。然后计算\n  $$\\hat X = \\frac{1}{\\sqrt{\\hat a}},\\qquad \\hat Y = \\frac{1}{\\sqrt{\\hat b}},\\qquad \\hat S = \\frac{1}{\\sqrt{\\hat c}}.$$\n- 稳健地处理最小二乘解；如果 $\\,\\hat a, \\hat b, \\hat c\\,$ 中的任何一个由于数值舍入误差而非正，则在取平方根之前将其裁剪为一个小的正数。\n\n测试套件：\n实现您的程序来处理以下三个数据集。每个数据集是一对等长的列表：以度为单位的角度，以及相应的以 MPa 为单位的实测全局破坏应力。相同的建模和拟合过程独立地应用于每个数据集。\n\n- 数据集 A（良态，超定）：\n  - 角度 (度): $[0.0,\\,30.0,\\,45.0,\\,60.0,\\,90.0]$\n  - 实测全局破坏应力 (MPa): $[1500.0,\\,113.646,\\,69.448,\\,50.645,\\,40.0]$\n\n- 数据集 B（良态，超定，不同尺度）：\n  - 角度 (度): $[0.0,\\,30.0,\\,45.0,\\,60.0,\\,90.0]$\n  - 实测全局破坏应力 (MPa): $[1000.0,\\,90.561,\\,53.666,\\,38.456,\\,30.0]$\n\n- 数据集 C（最小，恰定，角度选择可分离参数）：\n  - 角度 (度): $[0.0,\\,45.0,\\,90.0]$\n  - 实测全局破坏应力 (MPa): $[1200.0,\\,84.745,\\,50.0]$\n\n要求的最终输出格式：\n- 您的程序应生成单行输出，其中包含结果，格式为逗号分隔的三元素列表的列表，每个数据集一个列表，其中每个三元素列表为 $[\\hat X,\\hat Y,\\hat S]$，单位为 MPa，每个值四舍五入到三位小数。例如：[[x1,y1,s1],[x2,y2,s2],[x3,y3,s3]]", "solution": "提交分析的问题陈述首先经过严格的验证过程。\n\n已知条件逐字提取如下：\n- **问题类型**: 通过使用最小二乘法将 Tsai–Hill 破坏准则拟合到离轴单轴拉伸试验数据，确定单向层压板的材料强度参数 $\\,X\\,$ (纵向拉伸)、$\\,Y\\,$ (横向拉伸) 和 $\\,S\\,$ (面内剪切)。\n- **应力状态**: 在层压板的主材料坐标系 $\\,\\{1,2\\}\\,$ 中为平面应力。\n- **应力变换**: 对于沿全局 $\\,x\\,$ 轴施加的全局单轴拉伸应力 $\\,\\sigma\\,$，其中材料轴 $\\,1\\,$ 与 $\\,x\\,$ 轴成 $\\,\\theta\\,$ 角，层压板应力为：\n$$\n\\sigma_{11} = \\sigma \\cos^2\\theta, \\quad \\sigma_{22} = \\sigma \\sin^2\\theta, \\quad \\tau_{12} = \\sigma \\sin\\theta \\cos\\theta\n$$\n- **破坏准则**: Tsai–Hill 准则，特指拉伸情况，由破坏指数 $\\,\\mathcal{F}\\,$ 给出，当 $\\,\\mathcal{F}=1\\,$ 时发生破坏。该指数定义为：\n$$\n\\mathcal{F}(\\sigma_{11},\\sigma_{22},\\tau_{12}) = a(\\sigma_{11}^{2} - \\sigma_{11}\\sigma_{22}) + b\\,\\sigma_{22}^{2} + c\\,\\tau_{12}^{2} = 1\n$$\n- **参数-强度关系**: 系数 $\\,a, b, c\\,$ 通过以下公式与材料强度 $\\,X, Y, S\\,$ 相关联：\n$$\na=\\frac{1}{X^{2}}, \\quad b=\\frac{1}{Y^{2}}, \\quad c=\\frac{1}{S^{2}}\n$$\n- **算法流程**: 对于一组由 $\\,i=1, \\dots, N\\,$ 索引的 $\\,N\\,$ 个试验，其在角度 $\\,\\theta_i\\,$ 下的破坏应力为 $\\,\\sigma_i^{\\text{(fail)}}\\,$, 构建一个线性系统 $\\,A \\mathbf{x} = \\mathbf{b}\\,$。未知向量为 $\\,\\mathbf{x} = [a, b, c]^T\\,$。设计矩阵 $\\,A\\,$ 的行 $A_i = [\\sigma_{11,i}^{2} - \\sigma_{11,i}\\sigma_{22,i}, \\sigma_{22,i}^{2}, \\tau_{12,i}^{2}]\\,$。右侧向量为 $\\,\\mathbf{b} = [1, 1, \\dots, 1]^T\\,$。该系统将通过最小二乘拟合求解，以获得估计系数 $\\,[\\hat a, \\hat b, \\hat c]\\,$。\n- **强度恢复**: 使用 $\\,\\hat X = 1/\\sqrt{\\hat a}\\,$，$\\,\\hat Y = 1/\\sqrt{\\hat b}\\,$ 和 $\\,\\hat S = 1/\\sqrt{\\hat c}\\,$ 恢复强度。\n- **数值稳健性**: 如果任何估计系数 $\\,\\hat a, \\hat b, \\hat c\\,$ 为非正数，在取平方根之前必须将其裁剪为一个小的正值。\n- **单位**: 输入角度 $\\,\\theta\\,$ 以度为单位。应力以 MPa 为单位。输出强度 $\\,X, Y, S\\,$ 必须以 MPa 为单位，并四舍五入到三位小数。\n- **测试数据集**:\n    - **数据集 A**: 角度 $\\,[0.0, 30.0, 45.0, 60.0, 90.0]\\,$ 度；应力 $\\,[1500.0, 113.646, 69.448, 50.645, 40.0]\\,$ MPa。\n    - **数据集 B**: 角度 $\\,[0.0, 30.0, 45.0, 60.0, 90.0]\\,$ 度；应力 $\\,[1000.0, 90.561, 53.666, 38.456, 30.0]\\,$ MPa。\n    - **数据集 C**: 角度 $\\,[0.0, 45.0, 90.0]\\,$ 度；应力 $\\,[1200.0, 84.745, 50.0]\\,$ MPa。\n\n此问题被判定为**有效**。它在科学上基于复合材料力学的既定理论，特别地使用了 Cauchy 应力变换和 Tsai–Hill 破坏准则。问题是适定的，描述了一个用于参数估计的标准线性最小二乘问题。问题陈述是客观、完整且内部一致的，提供了所有必要的数据、方程和通往唯一解的清晰算法路径。不存在矛盾、歧义或物理上不合理的假设。\n\n求解过程如下。对于每个给定的数据集，我们的目标是在最小二乘意义上找到最能拟合线性模型 $\\,A \\mathbf{x} = \\mathbf{b}\\,$ 的系数 $\\,\\mathbf{x} = [a, b, c]^T\\,$。\n\n首先，对于每个实验数据点 $\\,(\\theta_i, \\sigma_i^{\\text{(fail)}})\\,$，我们必须构建设计矩阵 $\\,A\\,$ 的一行。角度 $\\,\\theta_i\\,$ 以度为单位给出，必须转换为弧度以用于三角函数：$\\,\\theta_{i, \\text{rad}} = \\theta_{i, \\text{deg}} \\times (\\pi/180)\\,$。令 $\\,\\sigma_i = \\sigma_i^{\\text{(fail)}}\\,$.\n在层压板主坐标系 $\\,(1,2)\\,$ 中的应力分量计算如下：\n$$\n\\sigma_{11,i} = \\sigma_i \\cos^2(\\theta_{i, \\text{rad}})\n$$\n$$\n\\sigma_{22,i} = \\sigma_i \\sin^2(\\theta_{i, \\text{rad}})\n$$\n$$\n\\tau_{12,i} = \\sigma_i \\sin(\\theta_{i, \\text{rad}}) \\cos(\\theta_{i, \\text{rad}})\n$$\n破坏准则指出，在破坏点，$\\,a(\\sigma_{11,i}^{2} - \\sigma_{11,i}\\sigma_{22,i}) + b\\,\\sigma_{22,i}^{2} + c\\,\\tau_{12,i}^{2} = 1\\,$。这是一个关于未知数 $\\,a,b,c\\,$ 的线性方程。因此，设计矩阵 $\\,A\\,$ 的第 $\\,i\\,$ 行由 $\\,a,b,c\\,$ 的系数组成：\n$$\nA_i = \\begin{bmatrix} \\sigma_{11,i}^{2} - \\sigma_{11,i}\\sigma_{22,i}  \\sigma_{22,i}^{2}  \\tau_{12,i}^{2} \\end{bmatrix}\n$$\n右侧向量 $\\,\\mathbf{b}\\,$ 中对应的条目是 $\\,b_i = 1\\,$。\n\n从一个数据集中的所有 $\\,N\\,$ 个数据点构建矩阵 $\\,A\\,$ 和向量 $\\,\\mathbf{b}\\,$ 后，我们得到一个超定（如果 $\\,N  3\\,$）或恰定（如果 $\\,N=3\\,$）的线性方程组 $\\,A \\mathbf{x} = \\mathbf{b}\\,$。最小二乘解 $\\,\\hat{\\mathbf{x}} = [\\hat{a}, \\hat{b}, \\hat{c}]^T\\,$ 最小化了残差的欧几里得范数 $\\,\\|A \\mathbf{x} - \\mathbf{b}\\|_2\\,$。该解通常通过求解正规方程 $\\,(A^T A) \\hat{\\mathbf{x}} = A^T \\mathbf{b}\\,$ 找到，尽管在软件中通常使用数值上更优越的方法，如 QR 分解。我们将使用一个标准的数值线性代数库函数来找到 $\\,\\hat{\\mathbf{x}}\\,$。\n\n模型的物理基础要求强度 $\\,X, Y, S\\,$ 是正实数，这意味着系数 $\\,a,b,c\\,$ 必须是正数。由于实验噪声或模型不匹配，最小二乘拟合可能会为一个或多个系数产生小的负值或零值。根据问题的指示，我们通过将任何非正系数 $\\,\\hat{k} \\le 0\\,$ 裁剪为一个小的正常数 $\\,\\epsilon  0\\,$ 来强制其为正。我们选择 $\\,\\epsilon\\,$ 为浮点数的机器精度。\n$$\n\\hat{a}_{\\text{clipped}} = \\max(\\hat{a}, \\epsilon), \\quad \\hat{b}_{\\text{clipped}} = \\max(\\hat{b}, \\epsilon), \\quad \\hat{c}_{\\text{clipped}} = \\max(\\hat{c}, \\epsilon)\n$$\n\n最后，使用给定的关系式从裁剪后的系数中恢复估计的材料强度：\n$$\n\\hat{X} = \\frac{1}{\\sqrt{\\hat{a}_{\\text{clipped}}}}\n$$\n$$\n\\hat{Y} = \\frac{1}{\\sqrt{\\hat{b}_{\\text{clipped}}}}\n$$\n$$\n\\hat{S} = \\frac{1}{\\sqrt{\\hat{c}_{\\text{clipped}}}}\n$$\n该过程独立应用于三个数据集中的每一个。每个数据集的 $\\,[\\hat{X}, \\hat{Y}, \\hat{S}]\\,$ 的最终数值结果按照要求四舍五入到三位小数。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef calculate_strengths(angles_deg, stresses_fail):\n    \"\"\"\n    Calculates the lamina strengths X, Y, S by fitting the Tsai-Hill\n    criterion to off-axis tensile failure data using least-squares.\n\n    Args:\n        angles_deg (list[float]): List of off-axis angles in degrees.\n        stresses_fail (list[float]): List of corresponding global failure\n                                     stresses in MPa.\n\n    Returns:\n        list[float]: A list containing the estimated strengths [X, Y, S] in MPa.\n    \"\"\"\n    num_tests = len(angles_deg)\n    A = np.zeros((num_tests, 3))\n    b_vec = np.ones(num_tests)\n\n    angles_rad = np.deg2rad(angles_deg)\n\n    for i in range(num_tests):\n        sigma = stresses_fail[i]\n        theta = angles_rad[i]\n\n        cos_theta = np.cos(theta)\n        sin_theta = np.sin(theta)\n\n        sigma11 = sigma * cos_theta**2\n        sigma22 = sigma * sin_theta**2\n        tau12 = sigma * sin_theta * cos_theta\n\n        # Populate the i-th row of the design matrix A\n        # a(σ₁₁² - σ₁₁σ₂₂) + b(σ₂₂²) + c(τ₁₂²) = 1\n        A[i, 0] = sigma11**2 - sigma11 * sigma22\n        A[i, 1] = sigma22**2\n        A[i, 2] = tau12**2\n\n    # Solve the linear system Ax = b using least squares.\n    # np.linalg.lstsq returns (solution, residuals, rank, singular_values)\n    x_solution, _, _, _ = np.linalg.lstsq(A, b_vec, rcond=None)\n    a_param, b_param, c_param = x_solution\n\n    # Clip coefficients to a small positive number if they are non-positive,\n    # as required for physical consistency (strengths must be real).\n    eps = np.finfo(float).eps\n    a_clipped = max(a_param, eps)\n    b_clipped = max(b_param, eps)\n    c_clipped = max(c_param, eps)\n\n    # Calculate strengths from the clipped coefficients\n    X_strength = 1 / np.sqrt(a_clipped)\n    Y_strength = 1 / np.sqrt(b_clipped)\n    S_strength = 1 / np.sqrt(c_clipped)\n\n    return [X_strength, Y_strength, S_strength]\n\ndef solve():\n    \"\"\"\n    Main function to process all test cases and print the final result.\n    \"\"\"\n    test_cases = [\n        # Dataset A\n        {\n            \"angles_deg\": [0.0, 30.0, 45.0, 60.0, 90.0],\n            \"stresses_fail\": [1500.0, 113.646, 69.448, 50.645, 40.0]\n        },\n        # Dataset B\n        {\n            \"angles_deg\": [0.0, 30.0, 45.0, 60.0, 90.0],\n            \"stresses_fail\": [1000.0, 90.561, 53.666, 38.456, 30.0]\n        },\n        # Dataset C\n        {\n            \"angles_deg\": [0.0, 45.0, 90.0],\n            \"stresses_fail\": [1200.0, 84.745, 50.0]\n        }\n    ]\n\n    all_results = []\n    for case in test_cases:\n        strengths = calculate_strengths(case[\"angles_deg\"], case[\"stresses_fail\"])\n        # Round the final results to three decimal places\n        rounded_strengths = [round(s, 3) for s in strengths]\n        all_results.append(rounded_strengths)\n\n    # Final print statement in the exact required format: [[x1,y1,s1],[x2,y2,s2],...]\n    print(str(all_results).replace(\" \", \"\"))\n\nsolve()\n```", "id": "2885614"}]}