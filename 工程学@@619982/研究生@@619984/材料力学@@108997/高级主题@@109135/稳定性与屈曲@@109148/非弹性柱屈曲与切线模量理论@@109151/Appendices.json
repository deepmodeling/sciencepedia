{"hands_on_practices": [{"introduction": "在柱的设计中，一个至关重要的问题是判断其将发生弹性屈曲还是非弹性屈曲。本练习旨在推导一个关键的设计参数——细长比阈值 $\\lambda_{\\mathrm{th}}$。通过确定这个阈值，我们可以明确区分适用欧拉公式的长柱和需要非弹性理论（如切线模量理论）进行分析的中等或短粗柱，这对于进行安全且经济的结构设计至关重要。[@problem_id:2894162]", "problem": "一根长度为 $L$、均匀横截面积为 $A$、截面二次矩为 $I$ 的直棱柱，两端铰接支撑。材料在单轴压缩下服从各向同性、与率无关的双线性应力-应变本构：在应变达到 $\\varepsilon_{y}=\\sigma_{y}/E$ 之前为线性弹性，弹性模量为 $E$，屈服应力为 $\\sigma_{y}$；之后为线性硬化，切线（屈服后）模量为常数 $E_{h}$，其中 $0 \\leq E_{h}  E$。令屈服荷载为 $P_{y}=A \\sigma_{y}$。定义回转半径 $r=\\sqrt{I/A}$ 和有效长度系数 $K$，使得长细比为 $\\lambda = K L / r$。\n\n采用非弹性柱屈曲的切线模量理论，其中单轴应力-应变曲线的瞬时切线模量 $E_{t}$ 决定了小挠度屈曲特征值。对于双线性模型，当应力低于或等于 $\\sigma_{y}$ 时，$E_{t}=E$；当应力高于 $\\sigma_{y}$ 时，$E_{t}=E_{h}$。仅使用标准的梁柱平衡和曲率关系，确定弹性欧拉屈曲公式与非弹性（基于切线模量）屈曲公式相交处的长细比阈值 $\\lambda_{\\mathrm{th}}$。将最终答案表示为仅包含 $E$ 和 $\\sigma_{y}$ 的单个闭式符号表达式。请勿引入任何数值。最终表达式中无需单位。", "solution": "必须首先对问题陈述进行严格验证。\n\n步骤 1：提取已知条件。\n提供的信息如下：\n- 柱的几何形状与支承：一根长度为 $L$、均匀横截面积为 $A$、截面二次矩为 $I$ 的直棱柱，两端铰接支撑。\n- 材料模型：单轴压缩下的各向同性、与率无关的双线性应力-应变本构。\n- 弹性阶段：在达到屈服应力 $\\sigma_{y}$ 之前为线性弹性，模量为 $E$。\n- 非弹性阶段：应力高于 $\\sigma_{y}$ 时为线性硬化，切线模量为常数 $E_{h}$，其中 $0 \\leq E_{h}  E$。\n- 定义：\n  - 屈服应变：$\\varepsilon_{y} = \\sigma_{y}/E$。\n  - 屈服荷载：$P_{y} = A \\sigma_{y}$。\n  - 回转半径：$r = \\sqrt{I/A}$。\n  - 长细比：$\\lambda = K L / r$，其中 $K$ 是有效长度系数。\n- 控制理论：非弹性屈曲的切线模量理论，其中临界荷载由瞬时切线模量 $E_{t}$ 决定。对于指定的材料，当应力 $\\sigma \\leq \\sigma_{y}$ 时，$E_{t}=E$；当 $\\sigma  \\sigma_{y}$ 时，$E_{t}=E_{h}$。\n- 目标：确定弹性与非弹性屈曲公式相交处的长细比阈值 $\\lambda_{\\mathrm{th}}$，并用 $E$ 和 $\\sigma_{y}$ 表示。\n\n步骤 2：使用提取的已知条件进行验证。\n1.  **科学依据**：该问题坚实地植根于结构力学的经典理论，特别是关于非弹性柱屈曲的 Engesser 切线模量理论。双线性材料模型是此背景下使用的一种标准、成熟的理想化模型。该问题在科学上是合理的。\n2.  **适定性**：该问题是适定的。它提供了推导出长细比阈值唯一解所需的所有信息和定义。使用两端铰接柱意味着 $K=1$，这与所提供的 $\\lambda$ 的一般定义一致。\n3.  **客观性**：该问题以精确、客观和定量的术语陈述，没有任何模糊性或主观内容。\n\n步骤 3：结论与行动。\n该问题有效。这是材料力学中的一个标准、正式的问题。将提供解答。\n\n柱的临界屈曲应力 $\\sigma_{cr}$ 由广义欧拉公式给出，该公式包含了屈曲瞬间的切线模量 $E_{t}$。对于有效长度为 $KL$、横截面积为 $A$、截面二次矩为 $I$ 的柱，临界应力为：\n$$\n\\sigma_{cr} = \\frac{P_{cr}}{A} = \\frac{\\pi^2 E_t I}{A (KL)^2}\n$$\n使用回转半径 $r = \\sqrt{I/A}$ 和长细比 $\\lambda = KL/r$ 的定义，该方程简化为：\n$$\n\\sigma_{cr} = \\frac{\\pi^2 E_t}{\\lambda^2}\n$$\n切线模量 $E_t$ 取决于应力水平。根据所给的双线性材料模型，我们有两个不同的范围：\n\n1.  **弹性屈曲范围**：此范围对应于在材料屈服应力或其以下水平发生的屈曲，即 $\\sigma_{cr} \\leq \\sigma_{y}$。在此范围内，材料是弹性的，切线模量等于弹性模量，$E_{t} = E$。其控制方程是经典的欧拉屈曲公式：\n    $$\n    \\sigma_{cr} = \\frac{\\pi^2 E}{\\lambda^2}\n    $$\n    此公式仅在长细比 $\\lambda$ 足够大，以确保计算出的 $\\sigma_{cr}$ 不超过 $\\sigma_{y}$ 时适用。\n\n2.  **非弹性屈曲范围**：此范围对应于在材料屈服应力以上水平发生的屈曲，即 $\\sigma_{cr}  \\sigma_{y}$。在此范围内，材料已经屈服并表现出应变硬化。切线模量等于屈服后硬化模量，$E_{t} = E_{h}$。其控制方程为：\n    $$\n    \\sigma_{cr} = \\frac{\\pi^2 E_h}{\\lambda^2}\n    $$\n    此公式适用于长细比 $\\lambda$ 足够小的柱，使得柱只有在平均应力超过 $\\sigma_{y}$ 之后才变得不稳定。\n\n问题要求找到区分这两种行为范围的长细比阈值 $\\lambda_{\\mathrm{th}}$。该阈值代表了失效模式从弹性屈曲过渡到非弹性屈曲的边界条件。这个过渡发生在由弹性欧拉公式预测的临界应力恰好等于材料的屈服应力 $\\sigma_{y}$ 时。对于任何大于 $\\lambda_{\\mathrm{th}}$ 的长细比，柱将在低于 $\\sigma_{y}$ 的应力下发生弹性屈曲。对于任何小于 $\\lambda_{\\mathrm{th}}$ 的长细比，欧拉公式会错误地预测一个大于 $\\sigma_{y}$ 的屈曲应力，这表明柱必须先屈服，因此屈曲是一种非弹性现象。\n\n因此，定义阈值 $\\lambda_{\\mathrm{th}}$ 的条件是：\n$$\n\\sigma_{y} = \\frac{\\pi^2 E}{\\lambda_{\\mathrm{th}}^2}\n$$\n我们求解此方程以得到 $\\lambda_{\\mathrm{th}}$。重新整理各项，我们得到：\n$$\n\\lambda_{\\mathrm{th}}^2 = \\frac{\\pi^2 E}{\\sigma_{y}}\n$$\n取正平方根，因为根据定义，长细比是一个正量，我们得到长细比阈值的表达式：\n$$\n\\lambda_{\\mathrm{th}} = \\sqrt{\\frac{\\pi^2 E}{\\sigma_{y}}}\n$$\n这可以简化为：\n$$\n\\lambda_{\\mathrm{th}} = \\pi \\sqrt{\\frac{E}{\\sigma_{y}}}\n$$\n该表达式仅包含指定的变量 $E$ 和 $\\sigma_{y}$，符合要求。硬化模量 $E_h$ 的存在定义了非弹性范围（$\\lambda  \\lambda_{\\mathrm{th}}$）内的行为，但其值对于寻找边界本身并非必需。", "answer": "$$\n\\boxed{\\pi \\sqrt{\\frac{E}{\\sigma_{y}}}}\n$$", "id": "2894162"}, {"introduction": "一旦我们识别出柱将发生非弹性屈曲，下一步便是精确计算其临界载荷。本练习通过一个被均匀压缩至塑性范围的柱的实例，引导你直接应用切线模量理论。你将使用一个简化的双线性材料模型，亲手计算由于材料塑性引起的屈曲载荷的显著降低，从而深刻理解材料非线性行为对结构稳定性的决定性影响。[@problem_id:2885503]", "problem": "一根直径 $d=50\\,\\mathrm{mm}$、长度 $L=2.5\\,\\mathrm{m}$ 的直棱柱形圆形钢柱，在理想的铰接-铰接端之间受中心压缩荷载。材料由双线性单轴应力-应变定律表征：\n- 对于 $0 \\le \\varepsilon \\le \\varepsilon_{p}$，$\\sigma = E\\,\\varepsilon$，其中弹性模量 $E=210\\,\\mathrm{GPa}$，比例极限应力 $\\sigma_{p}=250\\,\\mathrm{MPa}$，因此 $\\varepsilon_{p}=\\sigma_{p}/E$。\n- 对于 $\\varepsilon\\varepsilon_{p}$，$\\sigma=\\sigma_{p}+H\\left(\\varepsilon-\\varepsilon_{p}\\right)$，其中切线（硬化）模量为常数 $H=8\\,\\mathrm{GPa}$。\n\n在准静态加载下，该柱被施加了均匀的压缩应变 $\\varepsilon^{\\ast}=1.50\\times 10^{-3}$，无残余应力，无初始几何缺陷。根据 Euler–Bernoulli 梁理论忽略剪切变形，并假设小挠度。\n\n使用关于当前预加载状态的第一性原理稳定性分析，采用切线模量法处理增量弯曲响应（即，在线性化弯矩-曲率关系中，用预应变 $\\varepsilon^{\\ast}$ 处的切线模量代替弹性模量）。确定此预加载状态下对应于最低阶模态（铰接-铰接）的非弹性临界屈曲荷载。\n\n说明：\n- 从双线性定律计算 $\\varepsilon^{\\ast}$ 处的切线模量 $E_{t}$。\n- 推导适用于切线模量法的横向挠度线性化控制方程及其特征值条件。\n- 根据给定数据，数值计算相应的临界荷载。\n- 将最终结果表示为以 $\\mathrm{kN}$ 为单位的单个数字，并四舍五入到四位有效数字。", "solution": "所述问题已经过验证，被认为是自洽、一致且在科学上基于固体力学原理，特别是非弹性柱屈曲理论。因此，我们可以进行正式求解。\n\n问题要求确定一个预加载到塑性范围内的柱的非弹性临界屈曲荷载。对此，适当的方法是切线模量理论，正如问题陈述中所指定的。\n\n首先，我们必须确定在指定预应变 $\\varepsilon^{\\ast} = 1.50 \\times 10^{-3}$ 下材料的状态。该材料表现出双线性应力-应变关系。弹性区域定义为应变 $\\varepsilon$ 满足 $0 \\le \\varepsilon \\le \\varepsilon_{p}$，其中 $\\varepsilon_{p}$ 是比例极限处的应变。比例极限应变计算如下：\n$$\n\\varepsilon_{p} = \\frac{\\sigma_{p}}{E}\n$$\n代入给定值，$\\sigma_{p}=250\\,\\mathrm{MPa} = 250 \\times 10^{6}\\,\\mathrm{Pa}$ 和 $E=210\\,\\mathrm{GPa} = 210 \\times 10^{9}\\,\\mathrm{Pa}$：\n$$\n\\varepsilon_{p} = \\frac{250 \\times 10^{6}\\,\\mathrm{Pa}}{210 \\times 10^{9}\\,\\mathrm{Pa}} = \\frac{25}{21000} = \\frac{1}{840} \\approx 1.1905 \\times 10^{-3}\n$$\n给定的预应变为 $\\varepsilon^{\\ast} = 1.50 \\times 10^{-3}$。由于 $\\varepsilon^{\\ast}  \\varepsilon_{p}$，该柱被均匀压缩进入塑性（硬化）范围。\n\n根据切线模量理论，增量弯曲响应由切线模量 $E_{t}$ 控制，该模量是应力-应变曲线在工作点 $\\varepsilon^{\\ast}$ 处的斜率。对于给定的双线性定律，当 $\\varepsilon  \\varepsilon_{p}$ 时，应力-应变关系为 $\\sigma=\\sigma_{p}+H\\left(\\varepsilon-\\varepsilon_{p}\\right)$。因此，切线模量就是常数硬化模量 $H$：\n$$\nE_{t} = \\frac{d\\sigma}{d\\varepsilon}\\bigg|_{\\varepsilon=\\varepsilon^{\\ast}} = H = 8\\,\\mathrm{GPa} = 8 \\times 10^{9}\\,\\mathrm{Pa}\n$$\n现在，我们推导屈曲的控制方程。设 $v(x)$ 是偏离直线平衡位置的一个小横向挠度。根据 Euler-Bernoulli 梁理论，内部弯矩 $M(x)$ 与曲率 $\\frac{d^{2}v}{dx^{2}}$ 的关系为 $M(x) = E_{t} I \\frac{d^{2}v}{dx^{2}}$，其中 $I$ 是横截面的截面二次矩。这个内部弯矩必须与由轴向荷载 $P$ 产生的外部弯矩 $P v(x)$ 相平衡。力矩平衡要求 $M(x) + P v(x) = 0$，这就得到了横向挠度的线性化控制微分方程：\n$$\nE_{t} I \\frac{d^{2}v}{dx^{2}} + P v(x) = 0\n$$\n这是一个二阶齐次线性常微分方程。令 $k^{2} = \\frac{P}{E_{t}I}$，方程变为 $\\frac{d^{2}v}{dx^{2}} + k^{2}v=0$。其通解为：\n$$\nv(x) = A \\sin(kx) + B \\cos(kx)\n$$\n其中 $A$ 和 $B$ 是常数。它们由边界条件确定。对于长度为 $L$ 的铰接-铰接柱，两端的挠度为零：\n1. $v(0) = 0$\n2. $v(L) = 0$\n\n应用第一个条件：\n$$\nv(0) = A \\sin(0) + B \\cos(0) = B = 0\n$$\n解简化为 $v(x) = A \\sin(kx)$。应用第二个条件：\n$$\nv(L) = A \\sin(kL) = 0\n$$\n为了得到非平凡解（即屈曲形状，$A \\neq 0$），我们必须有 $\\sin(kL)=0$。这是特征值条件，当以下条件满足时成立：\n$$\nkL = n\\pi, \\quad n = 1, 2, 3, \\ldots\n$$\n将 $k = \\sqrt{\\frac{P}{E_{t}I}}$ 代回，我们求得可能的屈曲荷载 $P_{n}$：\n$$\n\\sqrt{\\frac{P_{n}}{E_{t}I}} L = n\\pi \\implies P_{n} = \\frac{n^{2}\\pi^{2}E_{t}I}{L^{2}}\n$$\n最低的临界荷载 $P_{cr}$ 对应于第一屈曲模态，$n=1$：\n$$\nP_{cr} = \\frac{\\pi^{2}E_{t}I}{L^{2}}\n$$\n这是用于非弹性屈曲的 Engesser 公式。现在我们计算所需的量。该柱具有圆形横截面，直径 $d = 50\\,\\mathrm{mm} = 0.05\\,\\mathrm{m}$。截面二次矩 $I$ 为：\n$$\nI = \\frac{\\pi d^{4}}{64} = \\frac{\\pi (0.05\\,\\mathrm{m})^{4}}{64} = \\frac{\\pi (6.25 \\times 10^{-6}\\,\\mathrm{m}^{4})}{64}\n$$\n柱的长度为 $L=2.5\\,\\mathrm{m}$。将所有值代入临界荷载公式：\n$$\nP_{cr} = \\frac{\\pi^{2} (8 \\times 10^{9}\\,\\mathrm{Pa}) \\left( \\frac{\\pi (6.25 \\times 10^{-6}\\,\\mathrm{m}^{4})}{64} \\right)}{(2.5\\,\\mathrm{m})^{2}}\n$$\n我们可以简化该表达式：\n$$\nP_{cr} = \\frac{\\pi^{3} (8 \\times 10^{9}) (6.25 \\times 10^{-6})}{64 \\times 6.25} = \\frac{\\pi^{3} \\times 8 \\times 10^{3}}{64} = \\frac{\\pi^{3} \\times 1000}{8} = 125\\pi^{3}\\,\\mathrm{N}\n$$\n现在，我们计算其数值：\n$$\nP_{cr} \\approx 125 \\times (31.00627668) \\,\\mathrm{N} \\approx 3875.784585\\,\\mathrm{N}\n$$\n题目要求答案以千牛顿 ($\\mathrm{kN}$) 为单位，并四舍五入到四位有效数字。\n$$\nP_{cr} \\approx 3.87578\\,\\mathrm{kN}\n$$\n四舍五入到四位有效数字，我们得到：\n$$\nP_{cr} = 3.876\\,\\mathrm{kN}\n$$\n这就是预加载柱的非弹性临界屈曲荷载。", "answer": "$$\\boxed{3.876}$$", "id": "2885503"}, {"introduction": "前面的练习假设了均匀的压应力状态，然而在实际工程结构中，由于偏心荷载或横向荷载的存在，截面往往同时承受轴力和弯矩，导致应力呈梯度分布。本练习将介绍一种功能强大的数值方法——纤维模型法，来处理这种更普遍的情况。通过编写一个简短的程序，你将学习如何离散化截面并计算其在非均匀应力场下的有效刚度，这不仅是对切线模量理论的深化应用，也是通往高级非线性结构分析的重要一步。[@problem_id:2894079]", "problem": "实现一个程序，该程序将一个矩形截面沿深度方向离散化为纤维，根据每根纤维的当前应力为其分配切线模量，并组装基于切线模量理论进行非弹性柱屈曲评估所需的截面切线刚度量。\n\n您的设计必须从基本增量力学出发。使用关于一个主轴弯曲的 Bernoulli-Euler 梁截面的小应变运动学，其中截面上的轴向应变场写为 $ \\epsilon(y) = \\epsilon_0 - y \\, \\kappa $，其中 $ \\epsilon_0 $ 是截面参考线处的轴向应变，$ y $ 是从参考点沿截面深度测量的坐标，$ \\kappa $ 是曲率。每根纤维的增量本构关系为 $ \\mathrm{d}\\sigma = E_t(\\sigma) \\, \\mathrm{d}\\epsilon $，其中 $ \\sigma $ 是纤维中的当前轴向应力，$ E_t(\\sigma) $ 是在该应力下计算的切线模量。截面合力增量满足 $ \\mathrm{d}N = \\int_A \\mathrm{d}\\sigma \\, \\mathrm{d}A $ 和 $ \\mathrm{d}M = \\int_A y \\, \\mathrm{d}\\sigma \\, \\mathrm{d}A $，其中 $ A $ 是截面面积。您的程序必须将这些积分在纤维上进行离散化，并组装用于轴向和弯曲响应的截面切线刚度项。使用切线模量理论进行欧拉屈曲估算，其中屈曲表达式中的抗弯刚度是关于当前增量中性轴的截面切线抗弯刚度。\n\n几何形状与离散化：\n- 截面为宽度 $ b $、深度 $ h $ 的矩形。使用 $ b = 0.2 $ m 和 $ h = 0.3 $ m。\n- 将截面沿深度方向（$ y $ 轴）离散化为 $ N_f $ 个等厚度层，其中 $ N_f = 200 $。每层的面积为 $ A_f = b \\, h / N_f $，其形心坐标 $ y_i $ 位于该层的中心。令几何形心处 $ y = 0 $，朝顶面方向为正，因此 $ y \\in [-h/2, h/2] $。\n\n材料与切线模量：\n- 基本弹性模量为 $ E = 2.10 \\times 10^{11} $ Pa。\n- 屈服后切线模量为 $ E_p = 5.00 \\times 10^{9} $ Pa。\n- 屈服应力大小为 $ \\sigma_y = 2.50 \\times 10^{8} $ Pa。\n- 切线模量函数是双线性的，对每根纤维定义为：如果 $ |\\sigma| \\le \\sigma_y $，则 $ E_t(\\sigma) = E $；如果 $ |\\sigma|  \\sigma_y $，则 $ E_t(\\sigma) = E_p $。\n\n应力场指定：\n- 对于每个测试用例，当前轴向应力场根据 $ \\sigma(y) = s_0 + s_1 \\, (2y/h) $ 沿深度线性变化，其中给定的参数 $ s_0 $ 和 $ s_1 $ 的单位为帕斯卡。\n\n截面切线刚度组装：\n- 计算满足 $ \\sum_i E_{t,i} \\, A_f \\, (y_i - y_n) = 0 $ 的 $ E_t $ 加权增量中性轴位置 $ y_n $。这是唯一的 $ y_n $，使得 $ \\sum_i E_{t,i} \\, A_f \\, y_i = y_n \\sum_i E_{t,i} \\, A_f $。\n- 计算轴向切线刚度 $ S_N = \\sum_i E_{t,i} \\, A_f $，单位为牛顿。\n- 计算关于 $ z $ 轴的抗弯切线刚度（即在 $ x\\text{-}y $ 平面内的弯曲）$ S_M = \\sum_i E_{t,i} \\, A_f \\, (y_i - y_n)^2 $，单位为牛顿-米平方。\n- 对于长度为 $ L $、有效长度系数为 $ K $ 的柱，计算切线模量欧拉临界荷载 $ P_\\text{cr} = \\pi^2 \\, S_M / (K L)^2 $，单位为牛顿。使用与切线模量理论一致的小挠度屈曲准则。\n\n测试套件：\n使用以下四个独立的测试用例。每个用例由 $ (s_0, s_1, L, K) $ 定义。\n1. 用例 1：$ s_0 = 1.00 \\times 10^{8} $ Pa, $ s_1 = 0.00 $ Pa, $ L = 2.00 $ m, $ K = 1.00 $。\n2. 用例 2：$ s_0 = 0.00 $ Pa, $ s_1 = 3.00 \\times 10^{8} $ Pa, $ L = 2.00 $ m, $ K = 1.00 $。\n3. 用例 3：$ s_0 = 2.00 \\times 10^{8} $ Pa, $ s_1 = 1.00 \\times 10^{8} $ Pa, $ L = 3.00 $ m, $ K = 0.50 $。\n4. 用例 4：$ s_0 = 0.00 $ Pa, $ s_1 = 6.00 \\times 10^{8} $ Pa, $ L = 1.00 $ m, $ K = 2.00 $。\n\n程序要求：\n- 按照指定的方式实现纤维-层离散化，并对每个测试用例，使用上述定义计算三元组 $ (S_N, S_M, P_\\text{cr}) $。所有积分必须通过对 $ N_f $ 层的求和来近似。\n- 所有输出均使用国际单位制（SI）：$ S_N $ 的单位为牛顿，$ S_M $ 的单位为牛顿-米平方，$ P_\\text{cr} $ 的单位为牛顿。不需要角度输入；此问题中任何角度均不要使用度或弧度。\n- 您的程序应生成单行输出，其中包含四个测试用例的结果，形式为方括号内由逗号分隔的列表，按顺序连接各用例的三元组。即，输出必须是带有数值的 $ [S_{N,1}, S_{M,1}, P_{\\text{cr},1}, S_{N,2}, S_{M,2}, P_{\\text{cr},2}, S_{N,3}, S_{M,3}, P_{\\text{cr},3}, S_{N,4}, S_{M,4}, P_{\\text{cr},4}] $。", "solution": "在尝试解答之前，需对问题进行验证。\n\n### 第 1 步：提取已知条件\n-   **几何形状与离散化**：\n    -   矩形截面：宽度 $b = 0.2 \\, \\mathrm{m}$，深度 $h = 0.3 \\, \\mathrm{m}$。\n    -   纤维层数：$N_f = 200$。\n    -   纤维层面积：$A_f = b h / N_f$。\n    -   坐标系：$y \\in [-h/2, h/2]$，几何形心处 $y=0$。纤维形心 $y_i$ 位于每层的中心。\n-   **材料属性**：\n    -   弹性模量：$E = 2.10 \\times 10^{11} \\, \\mathrm{Pa}$。\n    -   屈服后切线模量：$E_p = 5.00 \\times 10^{9} \\, \\mathrm{Pa}$。\n    -   屈服应力：$\\sigma_y = 2.50 \\times 10^{8} \\, \\mathrm{Pa}$。\n-   **本构关系**：\n    -   切线模量：当 $|\\sigma| \\le \\sigma_y$ 时为 $E_t(\\sigma) = E$；当 $|\\sigma|  \\sigma_y$ 时为 $E_t(\\sigma) = E_p$。\n-   **应力场**：\n    -   当前应力分布：$\\sigma(y) = s_0 + s_1 (2y/h)$，参数 $(s_0, s_1)$ 按测试用例指定。\n-   **计算公式**：\n    -   增量中性轴：$y_n$ 满足 $\\sum_i E_{t,i} A_f (y_i - y_n) = 0$。\n    -   轴向切线刚度：$S_N = \\sum_i E_{t,i} A_f$。\n    -   抗弯切线刚度：$S_M = \\sum_i E_{t,i} A_f (y_i - y_n)^2$。\n    -   切线模量临界荷载：$P_\\text{cr} = \\pi^2 S_M / (K L)^2$。\n-   **测试用例**：\n    1.  $(s_0, s_1, L, K) = (1.00 \\times 10^{8} \\, \\mathrm{Pa}, 0.00 \\, \\mathrm{Pa}, 2.00 \\, \\mathrm{m}, 1.00)$。\n    2.  $(s_0, s_1, L, K) = (0.00 \\, \\mathrm{Pa}, 3.00 \\times 10^{8} \\, \\mathrm{Pa}, 2.00 \\, \\mathrm{m}, 1.00)$。\n    3.  $(s_0, s_1, L, K) = (2.00 \\times 10^{8} \\, \\mathrm{Pa}, 1.00 \\times 10^{8} \\, \\mathrm{Pa}, 3.00 \\, \\mathrm{m}, 0.50)$。\n    4.  $(s_0, s_1, L, K) = (0.00 \\, \\mathrm{Pa}, 6.00 \\times 10^{8} \\, \\mathrm{Pa}, 1.00 \\, \\mathrm{m}, 2.00)$。\n-   **输出要求**：单个逗号分隔的数值列表 $[S_{N,1}, S_{M,1}, P_{\\text{cr},1}, \\dots, S_{N,4}, S_{M,4}, P_{\\text{cr},4}]$。\n\n### 第 2 步：使用提取的已知条件进行验证\n根据既定准则对问题进行评估。\n1.  **科学依据**：该问题基于非弹性柱屈曲的经典理论，特别是切线模量理论（Engesser 理论）。使用纤维模型对截面进行离散化是结构力学中一种标准且有效的数值方法。控制方程与梁的连续介质力学原理一致。材料模型是标准的双线性简化。各方面都具有科学合理性。\n2.  **适定性**：所有必需的参数、常数和公式均已提供。问题定义完整明确，每个测试用例都有唯一的解。\n3.  **客观性**：问题以精确、技术性的语言陈述，不含主观性或个人观点。\n4.  **其他准则**：该问题可形式化，与指定主题直接相关，内部一致，且需要进行非平凡的计算。所提供的数值对于钢结构是物理上现实的。\n\n### 第 3 步：结论与行动\n该问题是**有效的**。将根据指定的方法提供解答。\n\n### 解答推导\n\n解答需要基于矩形截面的纤维离散化来计算截面属性。问题的核心是根据每根纤维的当前应力水平确定其切线模量，然后将所有纤维的贡献相加，以获得宏观的截面响应。\n\n首先，我们将宽度为 $b$、深度为 $h$ 的截面离散化为 $N_f$ 个水平层（即纤维）。每根纤维的高度为 $\\Delta y = h / N_f$，面积为 $A_f = b \\cdot \\Delta y = b h / N_f$。第 $i$ 根纤维（其中 $i$ 从 0 到 $N_f-1$ 索引，从底到顶）的形心位于坐标 $y_i$ 处：\n$$ y_i = -\\frac{h}{2} + \\left(i + \\frac{1}{2}\\right) \\Delta y = -\\frac{h}{2} + \\left(i + \\frac{1}{2}\\right) \\frac{h}{N_f} $$\n\n对于每个测试用例，每根纤维形心处的应力 $\\sigma_i$ 使用给定的线性应力分布计算：\n$$ \\sigma_i = \\sigma(y_i) = s_0 + s_1 \\left(\\frac{2y_i}{h}\\right) $$\n其中 $s_0$ 和 $s_1$ 是特定用例的参数。\n\n接下来，根据双线性材料定律确定每根纤维的切线模量 $E_{t,i}$，该定律取决于应力 $\\sigma_i$ 的绝对值与屈服应力 $\\sigma_y$ 的相对大小：\n$$ E_{t,i} = E_t(\\sigma_i) = \\begin{cases} E  \\text{if } |\\sigma_i| \\le \\sigma_y \\\\ E_p  \\text{if } |\\sigma_i|  \\sigma_y \\end{cases} $$\n这里，$E$ 是弹性模量，$E_p$ 是屈服后切线模量。\n\n在确定了每根纤维的切线模量后，我们可以通过用纤维上的求和来近似控制积分，从而计算截面的切线刚度属性。\n\n轴向切线刚度 $S_N$ 是所有纤维刚度贡献的总和：\n$$ S_N = \\sum_{i=0}^{N_f-1} E_{t,i} A_f $$\n该值对应于积分 $\\int_A E_t(y) \\, \\mathrm{d}A$。\n\n增量中性轴的位置 $y_n$ 是截面面积的 $E_t$ 加权形心。通过将关于此轴的 $E_t$ 加权一次矩设为零来找到它。求解 $y_n$：\n$$ \\sum_{i=0}^{N_f-1} E_{t,i} A_f (y_i - y_n) = 0 \\implies y_n = \\frac{\\sum_{i=0}^{N_f-1} E_{t,i} A_f y_i}{\\sum_{i=0}^{N_f-1} E_{t,i} A_f} = \\frac{\\sum_{i=0}^{N_f-1} E_{t,i} y_i}{\\sum_{i=0}^{N_f-1} E_{t,i}} $$\n项 $A_f$ 在分子和分母中被消去。\n\n切线抗弯刚度 $S_M$ 是关于增量中性轴 $y_n$ 的 $E_t$ 加权二次矩。这是使用平行轴定理的离散形式对每个纤维计算的：\n$$ S_M = \\sum_{i=0}^{N_f-1} E_{t,i} A_f (y_i - y_n)^2 $$\n该值对应于积分 $\\int_A E_t(y) (y - y_n)^2 \\, \\mathrm{d}A$，它代表了切线模量理论中的有效抗弯刚度 $(EI)_{eff}$。\n\n最后，使用欧拉屈曲公式，结合切线抗弯刚度 $S_M$ 和柱的有效长度 $K L$，计算切线模量临界屈曲荷载 $P_\\text{cr}$：\n$$ P_\\text{cr} = \\frac{\\pi^2 S_M}{(K L)^2} $$\n\n将此过程应用于问题陈述中指定的四个测试用例中的每一个。数值实现将直接使用这些公式。", "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Calculates inelastic section properties and buckling load for a rectangular\n    cross-section using the tangent modulus theory.\n    \"\"\"\n\n    # --- Problem Constants ---\n    # Geometry\n    b = 0.2  # m\n    h = 0.3  # m\n    Nf = 200 # Number of fibers\n\n    # Material properties\n    E = 2.10e11  # Pa (Elastic Modulus)\n    Ep = 5.00e9   # Pa (Post-yield Tangent Modulus)\n    sigma_y = 2.50e8 # Pa (Yield Stress)\n\n    # --- Discretization ---\n    # Fiber layer thickness\n    dy = h / Nf\n    # Fiber layer area\n    fiber_area = b * dy\n    # Fiber centroid coordinates, from bottom (-h/2) to top (+h/2)\n    y_coords = np.linspace(-h/2 + dy/2, h/2 - dy/2, Nf)\n\n    # --- Test Cases ---\n    test_cases = [\n        # (s0 [Pa], s1 [Pa], L [m], K)\n        (1.00e8, 0.00e8, 2.00, 1.00),\n        (0.00e8, 3.00e8, 2.00, 1.00),\n        (2.00e8, 1.00e8, 3.00, 0.50),\n        (0.00e8, 6.00e8, 1.00, 2.00),\n    ]\n\n    results = []\n    \n    for case in test_cases:\n        s0, s1, L, K = case\n\n        # 1. Calculate stress in each fiber\n        # sigma(y) = s0 + s1 * (2y/h)\n        stress = s0 + s1 * (2 * y_coords / h)\n\n        # 2. Determine tangent modulus for each fiber based on stress\n        # Et = E if |sigma| = sigma_y, else Ep\n        tangent_modulus = np.where(np.abs(stress) = sigma_y, E, Ep)\n        \n        # 3. Calculate section tangent stiffness properties\n        # Axial tangent stiffness S_N = sum(Et_i * A_f)\n        S_N = np.sum(tangent_modulus) * fiber_area\n\n        # Incremental neutral axis location y_n\n        # y_n = sum(Et_i * y_i) / sum(Et_i)\n        # Note: A_f cancels out\n        yn_numerator = np.sum(tangent_modulus * y_coords)\n        yn_denominator = np.sum(tangent_modulus)\n        y_n = yn_numerator / yn_denominator\n        \n        # Bending tangent stiffness S_M about the neutral axis\n        # S_M = sum(Et_i * A_f * (y_i - y_n)^2)\n        S_M = np.sum(tangent_modulus * (y_coords - y_n)**2) * fiber_area\n\n        # 4. Calculate tangent-modulus Euler critical load P_cr\n        # P_cr = pi^2 * S_M / (K*L)^2\n        effective_length = K * L\n        P_cr = (np.pi**2 * S_M) / (effective_length**2)\n\n        results.extend([S_N, S_M, P_cr])\n\n    # Format the output as a single comma-separated list in brackets.\n    output_str = f\"[{','.join(map(str, results))}]\"\n    print(output_str)\n\nsolve()\n```", "id": "2894079"}]}