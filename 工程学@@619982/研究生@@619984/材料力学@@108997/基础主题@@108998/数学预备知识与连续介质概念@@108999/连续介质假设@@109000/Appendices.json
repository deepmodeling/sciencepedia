{"hands_on_practices": [{"introduction": "连续介质假设本质上是一种将微观细节平均化为光滑、连续场的行为。第一个动手实践将这一抽象概念具体化，引导您完成“粗粒化”的过程。您将从一组具有各自质量和速度的离散粒子出发，利用数学平滑函数（高斯核）在网格上构建宏观的密度场和动量场。这个练习直接展示了平滑长度尺度 $\\eta$ 的选择，对于连接离散的微观世界和连续的宏观模型是何等关键。[@problem_id:2922844]", "problem": "给定一个二维域中的离散点粒子集，该集合与材料力学的连续介质假设相符：通过一个平滑核函数，对微观组分进行粗粒化平均，从而获得宏观场。您必须从基本守恒原理和定义出发，通过将离散粒子数据与宽度参数为 $\\eta$ 的归一化高斯核函数进行卷积，在一个均匀网格上构建粗粒化质量密度场和线性动量密度场，然后量化这些场在 $\\eta$ 变化时的平滑度。\n\n定义与建模假设：\n- 空间域为单位正方形 $\\Omega = [0,1]\\times[0,1]$，被视为无量纲，因此所有物理量均为无量纲。\n- 对于核函数宽度 $\\eta>0$，在位置 $\\mathbf{x}\\in \\Omega$ 处的粗粒化质量密度场定义为\n$$\n\\rho_{\\eta}(\\mathbf{x}) \\equiv \\sum_{p=1}^{P} m_p \\, W_{\\eta}(\\mathbf{x}-\\mathbf{x}_p),\n$$\n其中 $m_p$ 和 $\\mathbf{x}_p$ 分别是粒子 $p$ 的质量和位置，而 $W_{\\eta}$ 是二维空间中的归一化高斯核函数，\n$$\nW_{\\eta}(\\mathbf{r}) \\equiv \\frac{1}{2\\pi \\eta^2}\\,\\exp\\!\\left(-\\frac{\\|\\mathbf{r}\\|^2}{2\\eta^2}\\right).\n$$\n- 粗粒化线性动量密度场定义为\n$$\n\\mathbf{g}_{\\eta}(\\mathbf{x}) \\equiv \\sum_{p=1}^{P} m_p \\,\\mathbf{v}_p \\, W_{\\eta}(\\mathbf{x}-\\mathbf{x}_p),\n$$\n其中 $\\mathbf{v}_p$ 是粒子速度。注意 $\\mathbf{g}_{\\eta}$ 是一个在平面内具有两个分量的矢量场。\n\n为使计算显式、可测试和可复现而进行的离散化：\n- 在 $\\Omega$ 上使用一个均匀笛卡尔网格，每个方向有 $N$ 个点，坐标为 $x_i = i\\,h$ 和 $y_j = j\\,h$，其中 $i,j\\in\\{0,1,\\dots,N-1\\}$，$h\\equiv 1/(N-1)$。\n- 使用所述的 $W_{\\eta}$，通过对粒子进行直接求和，在所有网格节点 $(x_i,y_j)$ 上计算 $\\rho_{\\eta}$ 和 $\\mathbf{g}_{\\eta}$。\n- 对于标量网格场 $f$，通过量纲一致的、归一化的离散狄利克雷-能量比来定义其离散粗糙度（平滑度的倒数）\n$$\n\\mathcal{R}[f] \\equiv \\frac{\\sqrt{\\sum_{i=0}^{N-2}\\sum_{j=0}^{N-1}\\left(\\frac{f_{i+1,j}-f_{i,j}}{h}\\right)^2 h^2 \\;+\\; \\sum_{i=0}^{N-1}\\sum_{j=0}^{N-2}\\left(\\frac{f_{i,j+1}-f_{i,j}}{h}\\right)^2 h^2}}{\\sqrt{\\sum_{i=0}^{N-1}\\sum_{j=0}^{N-1} f_{i,j}^2 \\, h^2}}.\n$$\n- 矢量场 $\\mathbf{g}_{\\eta}=(g^{(x)}_{\\eta},g^{(y)}_{\\eta})$ 的粗糙度定义为\n$$\n\\mathcal{R}[\\mathbf{g}_{\\eta}] \\equiv \\frac{\\sqrt{\\sum_{i,j}\\left(\\left\\|\\nabla_h g^{(x)}_{\\eta}\\right\\|^2 + \\left\\|\\nabla_h g^{(y)}_{\\eta}\\right\\|^2\\right) h^2}}{\\sqrt{\\sum_{i,j}\\left(\\left(g^{(x)}_{\\eta}\\right)^2 + \\left(g^{(y)}_{\\eta}\\right)^2\\right) h^2}},\n$$\n其中 $\\|\\nabla_h f\\|^2$ 使用与 $\\mathcal{R}[f]$ 中相同的前向差分格式进行近似，对 $x$ 方向差分使用关于 $i\\in\\{0,\\dots,N-2\\}$ 和 $j\\in\\{0,\\dots,N-1\\}$ 的求和，对 $y$ 方向差分使用关于 $i\\in\\{0,\\dots,N-1\\}$ 和 $j\\in\\{0,\\dots,N-2\\}$ 的求和。\n\n用于可复现测试的数据：\n- 网格分辨率: $N=81$，因此 $h=1/(81-1)$。\n- 粒子数量: $P=6$，具有以下属性：\n  - 粒子 1：位置 $(0.20,\\,0.20)$，质量 $0.50$，速度 $(0.80,\\,0.10)$。\n  - 粒子 2：位置 $(0.80,\\,0.20)$，质量 $0.30$，速度 $(-0.20,\\,0.50)$。\n  - 粒子 3：位置 $(0.50,\\,0.50)$，质量 $0.70$，速度 $(0.00,\\,-0.60)$。\n  - 粒子 4：位置 $(0.10,\\,0.90)$，质量 $0.40$，速度 $(0.30,\\,0.30)$。\n  - 粒子 5：位置 $(0.90,\\,0.90)$，质量 $0.60$，速度 $(-0.40,\\,0.20)$。\n  - 粒子 6：位置 $(0.05,\\,0.05)$，质量 $0.20$，速度 $(0.00,\\,0.00)$。\n- 核函数宽度（测试套件）：$\\eta\\in\\{0.02,\\;0.05,\\;0.10,\\;0.25\\}$。\n\n任务：\n- 仅从上述定义和连续介质假设出发，对每个核函数宽度 $\\eta$，计算网格上的离散场 $\\rho_{\\eta}$ 和 $\\mathbf{g}_{\\eta}$，然后计算两个粗糙度度量 $\\mathcal{R}[\\rho_{\\eta}]$ 和 $\\mathcal{R}[\\mathbf{g}_{\\eta}]$。\n- 通过报告指定测试套件中每个 $\\eta$ 对应的序偶 $\\left(\\mathcal{R}[\\rho_{\\eta}],\\,\\mathcal{R}[\\mathbf{g}_{\\eta}]\\right)$，研究 $\\eta$ 如何影响平滑度。\n\n答案规格与输出格式：\n- 对于每个 $\\eta$，按 $\\eta=0.02$、$\\eta=0.05$、$\\eta=0.10$、$\\eta=0.25$ 的顺序，计算两个标量 $\\mathcal{R}[\\rho_{\\eta}]$ 和 $\\mathcal{R}[\\mathbf{g}_{\\eta}]$。\n- 使用标准四舍五入将每个标量圆整到 $6$ 位小数。\n- 您的程序应生成单行输出，其中包含一个由方括号括起来的逗号分隔列表，结果按以下顺序扁平化排列\n$$\n\\left[\\mathcal{R}[\\rho_{0.02}],\\;\\mathcal{R}[\\mathbf{g}_{0.02}],\\;\\mathcal{R}[\\rho_{0.05}],\\;\\mathcal{R}[\\mathbf{g}_{0.05}],\\;\\mathcal{R}[\\rho_{0.10}],\\;\\mathcal{R}[\\mathbf{g}_{0.10}],\\;\\mathcal{R}[\\rho_{0.25}],\\;\\mathcal{R}[\\mathbf{g}_{0.25}]\\right].\n$$\n- 输出必须是确切的一行，不含任何额外文本，例如，格式为 $\\left[r_1,r_2,r_3,r_4,r_5,r_6,r_7,r_8\\right]$，其中每个 $r_k$ 是一个圆整到 $6$ 位小数的浮点数。\n\n您的最终答案必须是一个完整的、可运行的程序，该程序执行这些步骤并打印所需的单行输出。", "solution": "问题陈述已经过验证，并被认定为有效。这是一个适定的计算问题，其基础是连续介质力学原理，特别是将离散粒子描述与连续场描述联系起来的粗粒化过程。所有的定义、数据和所需计算均已明确规定，没有歧义或矛盾。\n\n任务是根据一组离散粒子计算质量密度和线性动量密度的粗粒化场，然后量化这些场的平滑度。步骤如下：\n\n1.  **域的离散化**：将连续域 $\\Omega = [0,1]\\times[0,1]$ 离散化为一个 $N \\times N$ 点的均匀笛卡尔网格，其中 $N=81$。网格点为 $\\mathbf{x}_{ij} = (i h, j h)$，对于 $i,j \\in \\{0, 1, \\dots, N-1\\}$，网格间距为 $h=1/(N-1)$。\n\n2.  **构建连续场**：对于给定的核函数宽度 $\\eta$，在每个网格点 $\\mathbf{x}_{ij}$ 上构建质量密度场 $\\rho_{\\eta}$ 和线性动量密度场 $\\mathbf{g}_{\\eta}$。这些场是 $P=6$ 个粒子贡献的叠加，每个贡献都由一个归一化的二维高斯核函数 $W_{\\eta}$ 加权。\n    质量密度，一个标量场，由下式给出：\n    $$\n    \\rho_{\\eta}(\\mathbf{x}_{ij}) = \\sum_{p=1}^{P} m_p \\, W_{\\eta}(\\mathbf{x}_{ij}-\\mathbf{x}_p)\n    $$\n    线性动量密度，一个矢量场 $\\mathbf{g}_{\\eta} = (g^{(x)}_{\\eta}, g^{(y)}_{\\eta})$，由下式给出：\n    $$\n    \\mathbf{g}_{\\eta}(\\mathbf{x}_{ij}) = \\sum_{p=1}^{P} m_p \\,\\mathbf{v}_p \\, W_{\\eta}(\\mathbf{x}_{ij}-\\mathbf{x}_p)\n    $$\n    核函数定义为：\n    $$\n    W_{\\eta}(\\mathbf{r}) = \\frac{1}{2\\pi \\eta^2}\\,\\exp\\!\\left(-\\frac{\\|\\mathbf{r}\\|^2}{2\\eta^2}\\right)\n    $$\n    其中 $\\mathbf{r} = \\mathbf{x}_{ij} - \\mathbf{x}_p$ 是从粒子 $p$ 到网格点 $(i,j)$ 的矢量。\n\n3.  **量化场的平滑度**：计算出的场的平滑度通过离散粗糙度度量 $\\mathcal{R}$ 来量化。这个度量是一个归一化的比率。分子是场梯度 $L^2$-范数的离散近似，代表场空间变化的总变差或“能量”。分母是场本身的离散 $L^2$-范数，用于提供归一化。\n    对于网格上的标量场 $f$，其粗糙度为：\n    $$\n    \\mathcal{R}[f] = \\frac{\\sqrt{\\sum_{i,j} \\|\\nabla_h f_{ij}\\|^2 h^2}}{\\sqrt{\\sum_{i,j} f_{ij}^2 h^2}} = \\frac{\\sqrt{ \\sum_{i=0}^{N-2}\\sum_{j=0}^{N-1} (f_{i+1,j}-f_{i,j})^2 + \\sum_{i=0}^{N-1}\\sum_{j=0}^{N-2} (f_{i,j+1}-f_{i,j})^2 }}{h \\sqrt{\\sum_{i=0}^{N-1}\\sum_{j=0}^{N-1} f_{i,j}^2}}\n    $$\n    项 $\\|\\nabla_h f_{ij}\\|^2 h^2$ 使用梯度的前向差分来计算。在消去 $h$ 后，公式得到简化。\n    对于矢量场 $\\mathbf{g}_{\\eta} = (g^{(x)}_{\\eta}, g^{(y)}_{\\eta})$，粗糙度推广了这个概念：分子结合了两个分量的梯度能量，分母是矢量场的 $L^2$-范数。\n    $$\n    \\mathcal{R}[\\mathbf{g}_{\\eta}] = \\frac{\\sqrt{ \\left(\\text{NumSq}[g^{(x)}_{\\eta}]\\right) + \\left(\\text{NumSq}[g^{(y)}_{\\eta}]\\right) }}{h \\sqrt{\\sum_{i,j} \\left( (g^{(x)}_{\\eta,ij})^2 + (g^{(y)}_{\\eta,ij})^2\\right)}}\n    $$\n    其中 $\\text{NumSq}[f]$ 代表标量粗糙度计算中的分子平方项。\n\n对每个指定的核函数宽度 $\\eta \\in \\{0.02, 0.05, 0.10, 0.25\\}$ 都执行这整个过程。随着 $\\eta$ 的增加，高斯核函数变得更宽，导致更大的重叠和更平滑的宏观场。因此，粗糙度度量 $\\mathcal{R}[\\rho_{\\eta}]$ 和 $\\mathcal{R}[\\mathbf{g}_{\\eta}]$ 预计会减小，这证实了粗粒化过程的平滑效应。最终结果按要求进行圆整和格式化。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes coarse-grained mass and momentum density fields from discrete particle data\n    and calculates their roughness for various Gaussian kernel widths.\n    \"\"\"\n    # Define the test cases and parameters from the problem statement.\n    test_cases = [\n        # Particle data: [pos_x, pos_y, mass, vel_x, vel_y]\n        (np.array([\n            [0.20, 0.20, 0.50,  0.80,  0.10],\n            [0.80, 0.20, 0.30, -0.20,  0.50],\n            [0.50, 0.50, 0.70,  0.00, -0.60],\n            [0.10, 0.90, 0.40,  0.30,  0.30],\n            [0.90, 0.90, 0.60, -0.40,  0.20],\n            [0.05, 0.05, 0.20,  0.00,  0.00],\n        ]),\n        [0.02, 0.05, 0.10, 0.25])\n    ]\n\n    N = 81\n    h = 1.0 / (N - 1)\n    \n    # Generate grid coordinates\n    grid_coords = np.linspace(0, 1, N)\n    xx, yy = np.meshgrid(grid_coords, grid_coords)\n\n    results = []\n\n    for particles, eta_values in test_cases:\n        for eta in eta_values:\n            # Initialize fields for the current eta\n            rho = np.zeros((N, N))\n            g_x = np.zeros((N, N))\n            g_y = np.zeros((N, N))\n            \n            eta_sq = eta**2\n            kernel_norm = 1.0 / (2.0 * np.pi * eta_sq)\n            \n            # Sum contributions from all particles to construct the fields\n            for p_data in particles:\n                pos_x, pos_y, mass, vel_x, vel_y = p_data\n                \n                # Calculate squared distance from particle to all grid points\n                dist_sq = (xx - pos_x)**2 + (yy - pos_y)**2\n                \n                # Evaluate the Gaussian kernel over the grid\n                W = kernel_norm * np.exp(-dist_sq / (2.0 * eta_sq))\n                \n                # Accumulate weighted contributions to fields\n                rho += mass * W\n                g_x += mass * vel_x * W\n                g_y += mass * vel_y * W\n\n            # --- Calculate roughness for the scalar field rho ---\n            # Numerator: sqrt of sum of squared differences\n            diff_rho_x = rho[1:, :] - rho[:-1, :]\n            diff_rho_y = rho[:, 1:] - rho[:, :-1]\n            num_rho_sq = np.sum(diff_rho_x**2) + np.sum(diff_rho_y**2)\n            \n            # Denominator: h * sqrt of sum of squared field values\n            den_rho_sq_sum = np.sum(rho**2)\n            \n            if num_rho_sq == 0 or den_rho_sq_sum == 0:\n                R_rho = 0.0\n            else:\n                R_rho = np.sqrt(num_rho_sq) / (h * np.sqrt(den_rho_sq_sum))\n\n            # --- Calculate roughness for the vector field g ---\n            # Numerator: sqrt of the sum of squared gradient energies for each component\n            diff_gx_x = g_x[1:, :] - g_x[:-1, :]\n            diff_gx_y = g_x[:, 1:] - g_x[:, :-1]\n            num_gx_sq = np.sum(diff_gx_x**2) + np.sum(diff_gx_y**2)\n            \n            diff_gy_x = g_y[1:, :] - g_y[:-1, :]\n            diff_gy_y = g_y[:, 1:] - g_y[:, :-1]\n            num_gy_sq = np.sum(diff_gy_x**2) + np.sum(diff_gy_y**2)\n\n            num_g_sq = num_gx_sq + num_gy_sq\n\n            # Denominator: h * sqrt of sum of squared vector magnitudes\n            den_g_sq_sum = np.sum(g_x**2 + g_y**2)\n\n            if num_g_sq == 0 or den_g_sq_sum == 0:\n                R_g = 0.0\n            else:\n                 R_g = np.sqrt(num_g_sq) / (h * np.sqrt(den_g_sq_sum))\n\n            # Append rounded results to the list\n            results.append(round(R_rho, 6))\n            results.append(round(R_g, 6))\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```", "id": "2922844"}, {"introduction": "一旦我们接受连续介质的属性是平均值，一个关键问题便随之而来，尤其对于复杂材料：我们的样本必须多大，其平均属性才具有意义且不依赖于样本大小？本实践通过引入代表性体积单元（RVE）的概念，深入探讨了连续介质模型的统计基础。您将从随机场的首要原则出发，推导材料属性的变异性如何随体积变化，并确定达到期望的统计稳定性所需的最小尺寸。[@problem_id:2922835]", "problem": "一个统计均匀的两相复合材料被建模为一个连续介质，其具有空间波动的局部杨氏模量场 $E(\\mathbf{x})$，该场是二阶平稳且遍历的。该局部场的均值为 $\\mu_{E}$，方差为 $\\sigma_{E}^{2}$，各向同性两点协方差函数为 $R(r) = \\operatorname{Cov}\\!\\big(E(\\mathbf{0}),E(\\mathbf{r})\\big)$，其中 $r = \\|\\mathbf{r}\\|$。假设材料对比度小，因此体积为 $V$ 的试样的有效模量可由体积平均值近似：$E_{V} = \\frac{1}{V}\\int_{V} E(\\mathbf{x})\\,\\mathrm{d}\\mathbf{x}$。该试样是一个凸域，其特征尺寸远大于材料相关长度，因此边缘效应可忽略不计，且大体积渐近性适用。\n\n仅从连续介质运动学、体积平均的定义以及二阶平稳随机场的性质出发，推导在三维空间中，估计量 $E_{V}$ 的变异系数如何随试样体积 $V$ 变化。具体来说，用 $\\mu_{E}$、$\\sigma_{E}$、$V$ 和 $R(r)$ 的适当积分来表示变异系数 $\\mathrm{COV}(E_{V})$，并展示其对 $V$ 的依赖关系。\n\n然后，将其特化为高斯协方差\n$$\nR(r) \\;=\\; \\sigma_{E}^{2} \\exp\\!\\big(-(r/\\ell)^{2}\\big),\n$$\n其中相关长度为 $\\ell$。利用此特化形式，估计使得 $\\mathrm{COV}(E_{V}) \\le \\tau$ 的最小试样体积 $V_{\\mathrm{RVE}}$，其中容差为 $\\tau = 0.02$。使用参数 $\\mu_{E} = 70\\,\\mathrm{GPa}$，$\\sigma_{E} = 7\\,\\mathrm{GPa}$，以及 $\\ell = 0.2\\,\\mathrm{mm}$。以 $\\mathrm{mm}^{3}$ 为单位表示最终体积，并将您的答案四舍五入至三位有效数字。", "solution": "该问题要求推导随机介质体积平均性质的变异系数的标度关系，并对一个特定案例进行后续的数值计算。我们必须首先验证该问题。\n\n步骤 1：提取已知条件。\n- 局部杨氏模量 $E(\\mathbf{x})$ 是一个二阶平稳且遍历的随机场。\n- 场的均值：$\\mu_{E} = \\mathrm{E}[E(\\mathbf{x})]$。\n- 场的方差：$\\sigma_{E}^{2} = \\mathrm{Var}[E(\\mathbf{x})]$。\n- 各向同性两点协方差函数：$R(r) = \\operatorname{Cov}\\!\\big(E(\\mathbf{0}),E(\\mathbf{r})\\big)$，其中 $r = \\|\\mathbf{r}\\|$。\n- 有效模量由体积平均近似：$E_{V} = \\frac{1}{V}\\int_{V} E(\\mathbf{x})\\,\\mathrm{d}\\mathbf{x}$。\n- 试样体积 $V$ 相对于材料相关尺度很大，且边缘效应可忽略不计。\n- 任务 1：在三维空间中推导 $\\mathrm{COV}(E_{V})$ 随 $V$ 的标度关系，并用 $\\mu_E$、$\\sigma_E$、$V$ 和 $R(r)$ 的一个积分表示。\n- 任务 2：特化为高斯协方差 $R(r) = \\sigma_{E}^{2} \\exp\\!\\big(-(r/\\ell)^{2}\\big)$。\n- 任务 3：计算满足 $\\mathrm{COV}(E_{V}) \\le \\tau$ 的最小体积 $V_{\\mathrm{RVE}}$，其中 $\\tau = 0.02$。\n- 参数：$\\mu_{E} = 70\\,\\mathrm{GPa}$，$\\sigma_{E} = 7\\,\\mathrm{GPa}$，$\\ell = 0.2\\,\\mathrm{mm}$。\n\n步骤 2：使用提取的已知条件验证问题。\n该问题具有科学依据，是随机介质均匀化和材料力学中的一个标准课题。平稳随机场、体积平均和代表性体积单元 (RVE) 的概念都是基础性的。问题是适定的，提供了所有必要的信息和假设（如小对比度和大体积），从而可以得到一个唯一的、有意义的解。它使用精确的数学和物理术语进行了客观陈述。未检测到任何瑕疵。\n\n步骤 3：结论与行动。\n此问题有效。将提供完整解答。\n\n估计量 $E_{V}$ 的变异系数定义为其标准差与均值之比：\n$$\n\\mathrm{COV}(E_{V}) = \\frac{\\sqrt{\\mathrm{Var}(E_{V})}}{\\mathrm{E}[E_{V}]}\n$$\n我们必须首先计算 $E_{V}$ 的均值和方差。\n\n$E_{V}$ 的均值通过对其定义取期望得到：\n$$\n\\mathrm{E}[E_{V}] = \\mathrm{E}\\left[\\frac{1}{V}\\int_{V} E(\\mathbf{x})\\,\\mathrm{d}\\mathbf{x}\\right]\n$$\n根据期望算子的线性性质，我们可以将其与积分交换位置：\n$$\n\\mathrm{E}[E_{V}] = \\frac{1}{V}\\int_{V} \\mathrm{E}[E(\\mathbf{x})]\\,\\mathrm{d}\\mathbf{x}\n$$\n由于随机场 $E(\\mathbf{x})$ 是平稳的，其均值 $\\mathrm{E}[E(\\mathbf{x})]$ 对所有 $\\mathbf{x}$ 都是一个常数 $\\mu_{E}$。\n$$\n\\mathrm{E}[E_{V}] = \\frac{1}{V}\\int_{V} \\mu_{E}\\,\\mathrm{d}\\mathbf{x} = \\frac{1}{V}(\\mu_{E}V) = \\mu_{E}\n$$\n体积平均模量的均值就是局部模量场的均值。\n\n接下来，我们计算 $E_{V}$ 的方差：\n$$\n\\mathrm{Var}(E_{V}) = \\mathrm{E}\\left[\\big(E_{V} - \\mathrm{E}[E_{V}]\\big)^{2}\\right] = \\mathrm{E}\\left[\\left(\\frac{1}{V}\\int_{V} E(\\mathbf{x})\\,\\mathrm{d}\\mathbf{x} - \\mu_{E}\\right)^{2}\\right]\n$$\n我们可以将 $\\mu_{E}$ 写为 $\\mu_{E} = \\frac{1}{V}\\int_{V}\\mu_{E}\\,\\mathrm{d}\\mathbf{x}$，以便将各项合并到单个积分下：\n$$\n\\mathrm{Var}(E_{V}) = \\mathrm{E}\\left[\\left(\\frac{1}{V}\\int_{V} \\big(E(\\mathbf{x}) - \\mu_{E}\\big)\\,\\mathrm{d}\\mathbf{x}\\right)^{2}\\right] = \\frac{1}{V^{2}}\\mathrm{E}\\left[\\left(\\int_{V} E'(\\mathbf{x})\\,\\mathrm{d}\\mathbf{x}\\right)\\left(\\int_{V} E'(\\mathbf{y})\\,\\mathrm{d}\\mathbf{y}\\right)\\right]\n$$\n其中 $E'(\\mathbf{x}) = E(\\mathbf{x}) - \\mu_{E}$ 是场的零均值波动部分。积分的乘积可以写成一个二重积分：\n$$\n\\mathrm{Var}(E_{V}) = \\frac{1}{V^{2}}\\mathrm{E}\\left[\\int_{V}\\int_{V} E'(\\mathbf{x})E'(\\mathbf{y})\\,\\mathrm{d}\\mathbf{x}\\,\\mathrm{d}\\mathbf{y}\\right]\n$$\n交换期望与积分：\n$$\n\\mathrm{Var}(E_{V}) = \\frac{1}{V^{2}}\\int_{V}\\int_{V} \\mathrm{E}[E'(\\mathbf{x})E'(\\mathbf{y})]\\,\\mathrm{d}\\mathbf{x}\\,\\mathrm{d}\\mathbf{y}\n$$\n项 $\\mathrm{E}[E'(\\mathbf{x})E'(\\mathbf{y})]$ 是协方差 $\\operatorname{Cov}(E(\\mathbf{x}), E(\\mathbf{y}))$ 的定义。由于二阶平稳性，它只依赖于分离向量 $\\mathbf{r} = \\mathbf{y}-\\mathbf{x}$，即 $\\operatorname{Cov}(E(\\mathbf{x}), E(\\mathbf{y})) = R(\\mathbf{y}-\\mathbf{x})$。\n$$\n\\mathrm{Var}(E_{V}) = \\frac{1}{V^{2}}\\int_{V}\\int_{V} R(\\mathbf{y}-\\mathbf{x})\\,\\mathrm{d}\\mathbf{x}\\,\\mathrm{d}\\mathbf{y}\n$$\n问题陈述试样的特征尺寸远大于材料的相关长度。这为大体积渐近近似提供了依据。对于一个远离域 $V$ 边界的点 $\\mathbf{x}$，协方差函数对 $\\mathbf{y}$ 的积分近似于其在全空间上的积分，因为 $R$ 快速衰减。因此我们可以近似该二重积分：\n$$\n\\int_{V}\\int_{V} R(\\mathbf{y}-\\mathbf{x})\\,\\mathrm{d}\\mathbf{x}\\,\\mathrm{d}\\mathbf{y} \\approx \\int_{V} \\left( \\int_{\\mathbb{R}^{3}} R(\\mathbf{r})\\,\\mathrm{d}\\mathbf{r} \\right)\\,\\mathrm{d}\\mathbf{x} = V \\int_{\\mathbb{R}^{3}} R(\\mathbf{r})\\,\\mathrm{d}\\mathbf{r}\n$$\n所以，方差简化为：\n$$\n\\mathrm{Var}(E_{V}) \\approx \\frac{1}{V} \\int_{\\mathbb{R}^{3}} R(\\mathbf{r})\\,\\mathrm{d}\\mathbf{r}\n$$\n由于协方差 $R(r)$ 是各向同性的，我们在球坐标系中计算该积分，其中 $\\mathrm{d}\\mathbf{r} = r^{2}\\sin\\theta\\,\\mathrm{d}r\\,\\mathrm{d}\\theta\\,\\mathrm{d}\\phi$。\n$$\n\\int_{\\mathbb{R}^{3}} R(r)\\,\\mathrm{d}\\mathbf{r} = \\int_{0}^{\\infty}\\int_{0}^{\\pi}\\int_{0}^{2\\pi} R(r) r^{2}\\sin\\theta\\,\\mathrm{d}\\phi\\,\\mathrm{d}\\theta\\,\\mathrm{d}r = 4\\pi \\int_{0}^{\\infty} r^{2}R(r)\\,\\mathrm{d}r\n$$\n因此，方差为：\n$$\n\\mathrm{Var}(E_{V}) \\approx \\frac{4\\pi}{V} \\int_{0}^{\\infty} r^{2}R(r)\\,\\mathrm{d}r\n$$\n那么，变异系数为：\n$$\n\\mathrm{COV}(E_{V}) \\approx \\frac{1}{\\mu_{E}}\\sqrt{\\frac{4\\pi}{V} \\int_{0}^{\\infty} r^{2}R(r)\\,\\mathrm{d}r}\n$$\n这个结果展示了标度关系 $\\mathrm{COV}(E_{V}) \\propto V^{-1/2}$。\n\n现在，我们将其特化为高斯协方差函数 $R(r) = \\sigma_{E}^{2}\\exp\\big(-(r/\\ell)^{2}\\big)$。我们必须计算这个积分：\n$$\n\\int_{0}^{\\infty} r^{2}R(r)\\,\\mathrm{d}r = \\sigma_{E}^{2} \\int_{0}^{\\infty} r^{2}\\exp\\big(-(r/\\ell)^{2}\\big)\\,\\mathrm{d}r\n$$\n设 $u = r/\\ell$，则 $r = u\\ell$ 且 $\\mathrm{d}r = \\ell\\,\\mathrm{d}u$。积分变为：\n$$\n\\sigma_{E}^{2} \\int_{0}^{\\infty} (u\\ell)^{2}e^{-u^{2}}(\\ell\\,\\mathrm{d}u) = \\sigma_{E}^{2}\\ell^{3}\\int_{0}^{\\infty} u^{2}e^{-u^{2}}\\,\\mathrm{d}u\n$$\n这是一个标准的高斯积分，其值为 $\\int_{0}^{\\infty} u^{2}e^{-u^{2}}\\,\\mathrm{d}u = \\frac{\\sqrt{\\pi}}{4}$。\n因此，协方差在全空间上的积分为：\n$$\n\\int_{\\mathbb{R}^{3}} R(\\mathbf{r})\\,\\mathrm{d}\\mathbf{r} = 4\\pi \\left(\\sigma_{E}^{2}\\ell^{3} \\frac{\\sqrt{\\pi}}{4}\\right) = \\pi^{3/2} \\sigma_{E}^{2}\\ell^{3}\n$$\n高斯情况下的方差为：\n$$\n\\mathrm{Var}(E_{V}) \\approx \\frac{\\pi^{3/2}\\sigma_{E}^{2}\\ell^{3}}{V}\n$$\n而变异系数是：\n$$\n\\mathrm{COV}(E_{V}) \\approx \\frac{1}{\\mu_{E}}\\sqrt{\\frac{\\pi^{3/2}\\sigma_{E}^{2}\\ell^{3}}{V}} = \\frac{\\sigma_{E}}{\\mu_{E}}\\sqrt{\\frac{\\pi^{3/2}\\ell^{3}}{V}}\n$$\n最后，我们必须找到满足 $\\mathrm{COV}(E_{V}) \\le \\tau$ 的最小试样体积 $V_{\\mathrm{RVE}}$。我们求解等式：\n$$\n\\frac{\\sigma_{E}}{\\mu_{E}}\\sqrt{\\frac{\\pi^{3/2}\\ell^{3}}{V_{\\mathrm{RVE}}}} = \\tau\n$$\n两边平方，然后解出 $V_{\\mathrm{RVE}}$：\n$$\n\\left(\\frac{\\sigma_{E}}{\\mu_{E}}\\right)^{2}\\frac{\\pi^{3/2}\\ell^{3}}{V_{\\mathrm{RVE}}} = \\tau^{2} \\implies V_{\\mathrm{RVE}} = \\left(\\frac{\\sigma_{E}}{\\mu_{E}\\tau}\\right)^{2}\\pi^{3/2}\\ell^{3}\n$$\n给定参数 $\\mu_{E} = 70\\,\\mathrm{GPa}$，$\\sigma_{E} = 7\\,\\mathrm{GPa}$，$\\ell = 0.2\\,\\mathrm{mm}$，以及 $\\tau = 0.02$。\n比值 $\\sigma_{E}/\\mu_{E}$ 为 $\\frac{7}{70} = 0.1$。\n代入数值：\n$$\nV_{\\mathrm{RVE}} = \\left(\\frac{0.1}{0.02}\\right)^{2} \\pi^{3/2} (0.2\\,\\mathrm{mm})^{3}\n$$\n$$\nV_{\\mathrm{RVE}} = 5^{2} \\pi^{3/2} (0.008\\,\\mathrm{mm}^{3}) = 25 \\times 0.008 \\times \\pi^{3/2}\\,\\mathrm{mm}^{3} = 0.2\\,\\pi^{3/2}\\,\\mathrm{mm}^{3}\n$$\n现在我们计算数值：\n$$\nV_{\\mathrm{RVE}} \\approx 0.2 \\times (3.14159...)^{1.5} \\,\\mathrm{mm}^{3} \\approx 0.2 \\times 5.56832... \\,\\mathrm{mm}^{3} \\approx 1.11366... \\,\\mathrm{mm}^{3}\n$$\n四舍五入到三位有效数字，我们得到 $V_{\\mathrm{RVE}} \\approx 1.11\\,\\mathrm{mm}^{3}$。", "answer": "$$\\boxed{1.11}$$", "id": "2922835"}, {"introduction": "在理解了如何构建和统计地定义连续介质之后，我们需要一个实用的工具来判断该模型在特定情况下是否适用，尤其是在流体和气体动力学中。这最后一个实践介绍了克努森数（$Kn$），这是一个关键的无量纲参数，用于比较分子平均自由程与系统的特征长度尺度。通过为一个常见的工程应用计算 $Kn$ 值，您将学会如何应用这个“试金石”来判断流体是否可以被视为连续介质，或者是否必须考虑其离散的分子本性。[@problem_id:1798420]", "problem": "现代汽车催化转换器由一个陶瓷整块构成，其中包含数千个微小的平行通道，旨在最大化化学反应的表面积。为了精确地模拟高温废气流经这些通道的情况，工程师必须首先确定在给定的工作条件下，连续介质假设是否成立。我们将废气近似为空气。\n\n通道具有方形横截面，边长为 $d = 1.1 \\text{ mm}$。此流动的特征长度尺度 $L$ 被定义为该边长，因此 $L=d$。转换器内的气体温度为 $T = 800 \\text{ K}$，绝对压力为 $P = 115 \\text{ kPa}$。\n\n气体分子的平均自由程 $\\lambda$ 可以使用以下来自理想气体动理论的关系式来估算：\n$$\n\\lambda = \\frac{k_B T}{\\sqrt{2} \\pi d_{mol}^2 P}\n$$\n其中 $k_B = 1.381 \\times 10^{-23} \\text{ J/K}$ 是玻尔兹曼常数，$d_{mol} = 3.64 \\times 10^{-10} \\text{ m}$ 是空气分子的有效动力学直径。\n\n克努森数 $Kn$ 是一个无量纲量，定义为分子平均自由程与特征长度尺度之比。计算此流动的克努森数值。将最终答案四舍五入到三位有效数字。", "solution": "我们通过计算克努森数来确定连续介质假设是否成立，其定义为 $Kn = \\lambda/L$，其中 $L$ 是特征长度尺度，$\\lambda$ 是分子平均自由程。\n\n已知 $L = d = 1.1 \\text{ mm} = 1.1 \\times 10^{-3} \\text{ m}$，$T = 800 \\text{ K}$，以及 $P = 115 \\text{ kPa} = 1.15 \\times 10^{5} \\text{ Pa}$，理想气体的平均自由程为\n$$\n\\lambda = \\frac{k_{B} T}{\\sqrt{2} \\pi d_{mol}^{2} P}。\n$$\n首先计算分子：\n$$\nk_{B} T = \\left(1.381 \\times 10^{-23} \\text{ J/K}\\right)\\left(800 \\text{ K}\\right) = 1.1048 \\times 10^{-20} \\text{ J}。\n$$\n计算分子直径的平方：\n$$\nd_{mol}^{2} = \\left(3.64 \\times 10^{-10} \\text{ m}\\right)^{2} = 1.32496 \\times 10^{-19} \\text{ m}^{2}。\n$$\n构成（计算）分母：\n$$\n\\sqrt{2}\\,\\pi\\, d_{mol}^{2} P = \\left(\\sqrt{2}\\,\\pi\\right)\\left(1.32496 \\times 10^{-19} \\text{ m}^{2}\\right)\\left(1.15 \\times 10^{5} \\text{ Pa}\\right)。\n$$\n合并（计算）$d_{mol}^{2}$ 和 $P$：\n$$\n\\left(1.32496 \\times 10^{-19}\\right)\\left(1.15 \\times 10^{5}\\right) = 1.523704 \\times 10^{-14},\n$$\n所以\n$$\n\\sqrt{2}\\,\\pi\\, d_{mol}^{2} P = \\left(4.442882938\\right)\\left(1.523704 \\times 10^{-14}\\right) = 6.7696385 \\times 10^{-14}。\n$$\n因此，\n$$\n\\lambda = \\frac{1.1048 \\times 10^{-20}}{6.7696385 \\times 10^{-14}} \\text{ m} = 1.631993 \\times 10^{-7} \\text{ m}。\n$$\n最后，计算克努森数：\n$$\nKn = \\frac{\\lambda}{L} = \\frac{1.631993 \\times 10^{-7} \\text{ m}}{1.1 \\times 10^{-3} \\text{ m}} = \\left(\\frac{1.631993}{1.1}\\right) \\times 10^{-4} = 1.48363 \\times 10^{-4}。\n$$\n四舍五入到三位有效数字，\n$$\nKn = 1.48 \\times 10^{-4}。\n$$", "answer": "$$\\boxed{1.48 \\times 10^{-4}}$$", "id": "1798420"}]}