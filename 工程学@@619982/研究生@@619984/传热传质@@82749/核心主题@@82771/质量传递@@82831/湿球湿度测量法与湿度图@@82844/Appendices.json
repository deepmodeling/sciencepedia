{"hands_on_practices": [{"introduction": "本练习将引导我们从最基本的热力学第一性原理出发，推导湿空气密度的表达式。通过分析密度如何随湿度变化，我们将揭示一个看似反直觉但至关重要的物理事实，这对于理解空气浮力效应和建立精确的空气动力学模型至关重要。这个实践旨在巩固您对理想气体混合物模型的理解，并将其应用于实际的物理属性计算中 [@problem_id:2538457]。", "problem": "将湿空气混合物建模为由干空气和水蒸气组成的理想气体理想混合物。含湿量定义为 $W \\equiv m_{v}/m_{a}$，其中 $m_{v}$ 是水蒸气的质量，$m_{a}$ 是干空气的质量。在干球温度 $T$ 和总压力 $p$ 固定的情况下，湿空气的密度 $\\rho$ 随 $W$ 变化。从混合物的理想气体定律和 $W$ 的定义出发，在不使用任何预先制表的湿空气学关系的情况下，推导出一个关于 $\\rho$ 的显式表达式，该表达式为函数 $\\rho(W;T,p)$，并且仅用 $W$、$T$、$p$、普适气体常数 $R_{u}$ 以及干空气和水的摩尔质量 $M_{a}$ 和 $M_{w}$ 来表示。使用此表达式，分析证明当 $T$ 和 $p$ 固定时，$\\mathrm{d}\\rho/\\mathrm{d}W$ 的符号如何依赖于比值 $M_{a}/M_{w}$，并陈述在固定的 $T$ 和 $p$ 下，当湿度在湿空气图上增加时，密度变化的物理含义。\n\n然后，对于在标准大气压下一次有代表性的湿度变化，估算当含湿量在固定的 $T$ 和 $p$ 下从 $W_{1} = 0.005$ 增加到 $W_{2} = 0.020$ 时的密度分数变化。使用 $T = 300\\,\\mathrm{K}$ 和 $p = 101.325\\,\\mathrm{kPa}$。取 $R_{u} = 8.314462618\\times 10^{3}\\,\\mathrm{J}\\, \\mathrm{kmol}^{-1}\\, \\mathrm{K}^{-1}$，$M_{a} = 28.965\\,\\mathrm{kg}\\,\\mathrm{kmol}^{-1}$，以及 $M_{w} = 18.01528\\,\\mathrm{kg}\\,\\mathrm{kmol}^{-1}$。将您的最终数值结果以小数形式表示为分数变化 $\\left(\\rho_{2}-\\rho_{1}\\right)/\\rho_{1}$（不要使用百分号），并将您的答案四舍五入到四位有效数字。", "solution": "在尝试求解之前，对问题进行验证。\n\n首先，从问题陈述中逐字提取给定条件。\n- 模型：湿空气是理想气体的理想混合物（干空气和水蒸气）。\n- 定义：含湿量 $W \\equiv m_{v}/m_{a}$，其中 $m_{v}$ 是水蒸气的质量，$m_{a}$ 是干空气的质量。\n- 参数和条件：分析在固定的干球温度 $T$ 和总压力 $p$ 下进行。\n- 任务1：推导湿空气密度 $\\rho$ 的显式表达式，作为函数 $\\rho(W;T,p)$，用 $W$、$T$、$p$、普适气体常数 $R_{u}$ 及摩尔质量 $M_{a}$ 和 $M_{w}$ 表示。\n- 任务2：使用推导的表达式，分析证明在固定的 $T$ 和 $p$ 下，导数 $\\mathrm{d}\\rho/\\mathrm{d}W$ 的符号如何依赖于比值 $M_{a}/M_{w}$。\n- 任务3：陈述任务2结果的物理含义。\n- 任务4：对于一个特定情况，数值估算密度的分数变化 $(\\rho_{2}-\\rho_{1})/\\rho_{1}$。\n- 数值数据：\n  - 初始含湿量，$W_{1} = 0.005$。\n  - 最终含湿量，$W_{2} = 0.020$。\n  - 温度，$T = 300\\,\\mathrm{K}$。\n  - 压力，$p = 101.325\\,\\mathrm{kPa} = 101325\\,\\mathrm{Pa}$。\n  - 普适气体常数，$R_{u} = 8.314462618\\times 10^{3}\\,\\mathrm{J}\\, \\mathrm{kmol}^{-1}\\, \\mathrm{K}^{-1}$。\n  - 干空气的摩尔质量，$M_{a} = 28.965\\,\\mathrm{kg}\\,\\mathrm{kmol}^{-1}$。\n  - 水的摩尔质量，$M_{w} = 18.01528\\,\\mathrm{kg}\\,\\mathrm{kmol}^{-1}$。\n\n接下来，根据指定的标准对问题进行验证。\n- **科学性**：该问题基于热力学的基本原理，特别是应用于混合物的理想气体定律，这在湿空气学中是许多工程应用的有效标准方法。所有概念都已成熟确立。\n- **适定性**：问题陈述清晰，提供了所有必要的定义和数据，并要求进行特定的推导和计算。存在唯一且稳定的解。\n- **客观性**：问题以精确、定量且无偏见的语言表达。\n\n该问题被认为是自洽、一致且科学合理的。它没有违反任何无效性标准。因此，该问题被判定为**有效**，我将继续进行求解。\n\n湿空气混合物的密度 $\\rho$ 是单位体积 $V$ 内的总质量 $m$：\n$$\n\\rho = \\frac{m}{V} = \\frac{m_{a} + m_{v}}{V}\n$$\n使用含湿量的定义 $W = m_{v}/m_{a}$，我们将水蒸气的质量表示为 $m_{v} = W m_{a}$。将其代入密度方程得到：\n$$\n\\rho = \\frac{m_{a} + W m_{a}}{V} = \\frac{m_{a}(1+W)}{V}\n$$\n湿空气混合物及其组分（干空气和水蒸气）被视为理想气体。根据道尔顿分压定律，总压力 $p$ 是干空气分压 $p_{a}$ 和水蒸气分压 $p_{v}$ 的和：\n$$\np = p_{a} + p_{v}\n$$\n对每个组分应用理想气体定律：\n$$\np_{a}V = n_{a}R_{u}T \\quad \\text{和} \\quad p_{v}V = n_{v}R_{u}T\n$$\n其中 $n_{a} = m_{a}/M_{a}$ 和 $n_{v} = m_{v}/M_{w}$ 分别是干空气和水蒸气的摩尔数。\n\n我们可以从干空气的理想气体定律中表示出体积 $V$：\n$$\nV = \\frac{n_{a}R_{u}T}{p_{a}} = \\frac{m_{a}R_{u}T}{p_{a}M_{a}}\n$$\n将这个 $V$ 的表达式代入我们的密度 $\\rho$ 方程：\n$$\n\\rho = \\frac{m_{a}(1+W)}{m_{a}R_{u}T / (p_{a}M_{a})} = \\frac{p_{a}M_{a}(1+W)}{R_{u}T}\n$$\n为了得到以总压力 $p$ 表示的最终表达式，我们必须消去分压 $p_{a}$。我们取两个组分的理想气体定律方程之比：\n$$\n\\frac{p_{v}}{p_{a}} = \\frac{n_{v}R_{u}T/V}{n_{a}R_{u}T/V} = \\frac{n_{v}}{n_{a}} = \\frac{m_{v}/M_{w}}{m_{a}/M_{a}} = \\frac{m_{v}}{m_{a}} \\frac{M_{a}}{M_{w}}\n$$\n注意到 $W = m_{v}/m_{a}$，我们有：\n$$\n\\frac{p_{v}}{p_{a}} = W \\frac{M_{a}}{M_{w}} \\implies p_{v} = p_{a} W \\frac{M_{a}}{M_{w}}\n$$\n现在，将此代入道尔顿定律 $p = p_{a} + p_{v}$：\n$$\np = p_{a} + p_{a} W \\frac{M_{a}}{M_{w}} = p_{a}\\left(1 + W \\frac{M_{a}}{M_{w}}\\right)\n$$\n解出 $p_{a}$ 得到：\n$$\np_{a} = \\frac{p}{1 + W \\frac{M_{a}}{M_{w}}}\n$$\n最后，将这个 $p_{a}$ 的表达式代入我们的密度 $\\rho$ 方程，得到所需的函数 $\\rho(W;T,p)$：\n$$\n\\rho(W;T,p) = \\frac{p}{1 + W \\frac{M_{a}}{M_{w}}} \\frac{M_{a}(1+W)}{R_{u}T} = \\frac{p M_{a}}{R_{u}T} \\frac{1+W}{1 + W \\frac{M_{a}}{M_{w}}}\n$$\n这样就完成了第一个任务。\n\n对于第二个任务，我们在恒定的 $T$ 和 $p$ 下分析导数 $\\mathrm{d}\\rho/\\mathrm{d}W$ 的符号。我们对推导出的 $\\rho$ 表达式关于 $W$ 求导：\n$$\n\\frac{\\mathrm{d}\\rho}{\\mathrm{d}W} = \\frac{\\mathrm{d}}{\\mathrm{d}W} \\left[ \\frac{p M_{a}}{R_{u}T} \\frac{1+W}{1 + W \\frac{M_{a}}{M_{w}}} \\right]\n$$\n项 $\\frac{p M_{a}}{R_{u}T}$ 相对于 $W$ 是一个常数。对其余部分使用商法则进行求导：\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}W} \\left( \\frac{1+W}{1 + W \\frac{M_{a}}{M_{w}}} \\right) = \\frac{(1)\\left(1 + W \\frac{M_{a}}{M_{w}}\\right) - (1+W)\\left(\\frac{M_{a}}{M_{w}}\\right)}{\\left(1 + W \\frac{M_{a}}{M_{w}}\\right)^{2}}\n$$\n简化分子：\n$$\n1 + W \\frac{M_{a}}{M_{w}} - \\frac{M_{a}}{M_{w}} - W \\frac{M_{a}}{M_{w}} = 1 - \\frac{M_{a}}{M_{w}}\n$$\n因此，导数为：\n$$\n\\frac{\\mathrm{d}\\rho}{\\mathrm{d}W} = \\frac{p M_{a}}{R_{u}T} \\frac{1 - \\frac{M_{a}}{M_{w}}}{\\left(1 + W \\frac{M_{a}}{M_{w}}\\right)^{2}}\n$$\n该导数的符号由其构成项的符号决定。压力 $p$、温度 $T$、摩尔质量 $M_{a}$ 和普适气体常数 $R_{u}$ 都是正的物理量。分母项 $\\left(1 + W \\frac{M_{a}}{M_{w}}\\right)^{2}$ 是一个平方，因此恒为正（因为 $W \\geq 0$）。\n因此，$\\mathrm{d}\\rho/\\mathrm{d}W$ 的符号完全由项 $\\left(1 - \\frac{M_{a}}{M_{w}}\\right)$ 的符号决定。\n干空气的摩尔质量为 $M_{a} \\approx 28.97\\,\\mathrm{kg}\\,\\mathrm{kmol}^{-1}$，水的摩尔质量为 $M_{w} \\approx 18.02\\,\\mathrm{kg}\\,\\mathrm{kmol}^{-1}$。该比值为 $\\frac{M_{a}}{M_{w}} \\approx \\frac{28.97}{18.02} \\approx 1.6 > 1$。\n由于 $\\frac{M_{a}}{M_{w}} > 1$，项 $\\left(1 - \\frac{M_{a}}{M_{w}}\\right)$ 为负。因此，$\\frac{\\mathrm{d}\\rho}{\\mathrm{d}W} < 0$。\n\n对于第三个任务，$\\frac{\\mathrm{d}\\rho}{\\mathrm{d}W} < 0$ 的物理含义是，在恒定的温度和总压力下，湿空气的密度随着其含湿量的增加而减小。这是因为添加的水蒸气，其分子($\\mathrm{H}_{2}\\mathrm{O}$)比干空气的平均分子（主要是$\\mathrm{N}_{2}$和$\\mathrm{O}_{2}$）轻，为了维持恒定的总压力，水蒸气会取代一部分较重的干空气分子。这导致混合物的平均摩尔质量降低，因此密度也随之降低。在湿空气图上，沿恒定干球温度线垂直向上移动表示湿度增加，这对应于空气密度的减小。在相同温度和压力下，湿空气比干空气的密度小。\n\n对于第四个任务，我们计算密度的分数变化，$\\frac{\\rho_{2}-\\rho_{1}}{\\rho_{1}} = \\frac{\\rho_{2}}{\\rho_{1}} - 1$。\n使用 $\\rho(W)$ 的表达式，我们构建在恒定 $T$ 和 $p$ 下，对于 $W_{1} = 0.005$ 和 $W_{2} = 0.020$ 的密度比 $\\rho_{2}/\\rho_{1}$：\n$$\n\\frac{\\rho_{2}}{\\rho_{1}} = \\frac{\\frac{p M_{a}}{R_{u}T} \\frac{1+W_{2}}{1 + W_{2} \\frac{M_{a}}{M_{w}}}}{\\frac{p M_{a}}{R_{u}T} \\frac{1+W_{1}}{1 + W_{1} \\frac{M_{a}}{M_{w}}}} = \\frac{1+W_{2}}{1+W_{1}} \\cdot \\frac{1 + W_{1} \\frac{M_{a}}{M_{w}}}{1 + W_{2} \\frac{M_{a}}{M_{w}}}\n$$\n我们使用给定的值：$M_{a} = 28.965\\,\\mathrm{kg}\\,\\mathrm{kmol}^{-1}$ 和 $M_{w} = 18.01528\\,\\mathrm{kg}\\,\\mathrm{kmol}^{-1}$。\n首先，计算摩尔质量之比：\n$$\n\\frac{M_{a}}{M_{w}} = \\frac{28.965}{18.01528} \\approx 1.607797087\n$$\n现在，将这些值代入密度比的表达式中：\n$$\n\\frac{\\rho_{2}}{\\rho_{1}} = \\frac{1+0.020}{1+0.005} \\cdot \\frac{1 + (0.005) \\left(\\frac{28.965}{18.01528}\\right)}{1 + (0.020) \\left(\\frac{28.965}{18.01528}\\right)}\n$$\n$$\n\\frac{\\rho_{2}}{\\rho_{1}} = \\frac{1.020}{1.005} \\cdot \\frac{1 + 0.008038985}{1 + 0.032155942} = \\frac{1.020}{1.005} \\cdot \\frac{1.008038985}{1.032155942}\n$$\n$$\n\\frac{\\rho_{2}}{\\rho_{1}} \\approx (1.014925373) \\cdot (0.976634630) \\approx 0.991209935\n$$\n分数变化为 $\\frac{\\rho_{2}}{\\rho_{1}} - 1$：\n$$\n\\frac{\\rho_{2}-\\rho_{1}}{\\rho_{1}} \\approx 0.991209935 - 1 = -0.008790065\n$$\n将结果四舍五入到四位有效数字，得到 $-0.008790$。", "answer": "$$\n\\boxed{-0.008790}\n$$", "id": "2538457"}, {"introduction": "焓湿图是暖通空调工程师的重要工具，但它并非一成不变。本练习将探讨大气压力——一个随海拔高度变化的关键参数——如何影响焓湿图的结构，特别是饱和曲线和等比容线的位置。通过推导和分析，您将学会如何定量评估压力变化对湿空气性质的影响，从而能够在不同地理位置的应用中正确使用和调整焓湿图 [@problem_id:2538497]。", "problem": "我们将使用湿空气的理想气体混合物模型来分析大气压力如何影响湿空气线图的特征。考虑一个由干空气和水蒸气组成的二元混合物，其总压力为 $P$，温度为 $T$，且各组分遵循道尔顿分压定律和理想气体定律。定义含湿量 $W$ 为单位质量干空气中所含水蒸气的质量。饱和含湿量 $W_{s}(T,P)$ 是当蒸气分压等于同温度下的饱和蒸气压 $p_{\\mathrm{sat}}(T)$ 时的含湿量 $W$ 的值。单位质量干空气的比体积 $v(T,P,W)$ 是与1千克干空气相关联的混合物的总体积。\n\n任务：\n1. 仅从各组分的理想气体定律、道尔顿分压定律以及 $W$ 的定义出发，推导下列物理量的解析表达式：\n   (i) 用 $p_{\\mathrm{sat}}(T)$ 和 $P$ 表示的饱和含湿量 $W_{s}(T,P)$，以及\n   (ii) 用 $T$、$P$ 和 $W$ 表示的单位千克干空气的比体积 $v(T,P,W)$。\n   使用普适气体常数 $R_{u}$ 以及干空气和水的摩尔质量 $M_{\\mathrm{da}}$ 和 $M_{\\mathrm{w}}$。假设为理想气体行为，并忽略任何溶解的液态水。\n\n2. 使用您推导出的表达式，对降低总压力 $P$ 如何使以下曲线发生移动给出符合物理原理的解释：\n   (a) 含湿量-温度湿空气线图上的饱和曲线 $W_{s}(T,P)$，以及\n   (b) 同一图表上的等比体积线族 $v$。\n   您的解释必须明确指出在固定温度 $T$ 下，相关物理量对压力依赖关系的正负号。\n\n3. 通过计算无量纲比值\n   $$R \\equiv \\frac{W_{s}(T,P_{2})}{W_{s}(T,P_{1})}$$\n   来量化在固定温度下大气压力对饱和含湿量的影响。使用给定条件 $T = 303.15\\ \\mathrm{K}$，$P_{1} = 101325\\ \\mathrm{Pa}$，$P_{2} = 80000\\ \\mathrm{Pa}$，$p_{\\mathrm{sat}}(303.15\\ \\mathrm{K}) = 4.241 \\times 10^{3}\\ \\mathrm{Pa}$，$M_{\\mathrm{da}} = 28.965\\ \\mathrm{kg}\\ \\mathrm{kmol}^{-1}$ 和 $M_{\\mathrm{w}} = 18.01528\\ \\mathrm{kg}\\ \\mathrm{kmol}^{-1}$ 进行计算。将您的最终答案 $R$ 表示为一个纯数（无单位），并四舍五入到四位有效数字。", "solution": "我们将湿空气建模为干空气和水蒸气的理想二元气体混合物。设 $p_{\\mathrm{da}}$ 和 $p_{v}$ 分别表示干空气和水蒸气的分压。根据道尔顿分压定律，\n$$\nP = p_{\\mathrm{da}} + p_{v}.\n$$\n设在温度为 $T$、控制体积为 $V$ 内，干空气和水蒸气的千摩尔数分别为 $n_{\\mathrm{da}}$ 和 $n_{v}$。对每种组分应用理想气体定律可得\n$$\np_{\\mathrm{da}} V = n_{\\mathrm{da}} R_{u} T, \\qquad p_{v} V = n_{v} R_{u} T,\n$$\n其中 $R_{u}$ 是普适气体常数。其质量分别为 $m_{\\mathrm{da}} = n_{\\mathrm{da}} M_{\\mathrm{da}}$ 和 $m_{v} = n_{v} M_{\\mathrm{w}}$，其中 $M_{\\mathrm{da}}$ 和 $M_{\\mathrm{w}}$ 分别是干空气和水的摩尔质量。\n\n根据定义，含湿量 $W$ 为\n$$\nW \\equiv \\frac{m_{v}}{m_{\\mathrm{da}}} = \\frac{n_{v} M_{\\mathrm{w}}}{n_{\\mathrm{da}} M_{\\mathrm{da}}}.\n$$\n使用理想气体关系式消去摩尔数，\n$$\n\\frac{n_{v}}{n_{\\mathrm{da}}} = \\frac{p_{v} V/(R_{u} T)}{p_{\\mathrm{da}} V/(R_{u} T)} = \\frac{p_{v}}{p_{\\mathrm{da}}}.\n$$\n因此，\n$$\nW = \\frac{M_{\\mathrm{w}}}{M_{\\mathrm{da}}} \\frac{p_{v}}{p_{\\mathrm{da}}} = \\frac{M_{\\mathrm{w}}}{M_{\\mathrm{da}}} \\frac{p_{v}}{P - p_{v}}.\n$$\n在饱和状态下，$p_{v} = p_{\\mathrm{sat}}(T)$，所以饱和含湿量为\n$$\nW_{s}(T,P) = \\frac{M_{\\mathrm{w}}}{M_{\\mathrm{da}}} \\frac{p_{\\mathrm{sat}}(T)}{P - p_{\\mathrm{sat}}(T)}.\n$$\n至此完成第(i)项。\n\n对于单位千克干空气的比体积，我们以1千克干空气为基准。在此基准上，干空气的千摩尔数为 $n_{\\mathrm{da}} = 1/M_{\\mathrm{da}}$。每千克干空气中水蒸气的质量为 $W$，因此水蒸气的千摩尔数为 $n_{v} = W/M_{\\mathrm{w}}$。混合物中的总千摩尔数为\n$$\nn_{\\mathrm{tot}} = n_{\\mathrm{da}} + n_{v} = \\frac{1}{M_{\\mathrm{da}}} + \\frac{W}{M_{\\mathrm{w}}}.\n$$\n根据混合物的理想气体定律，与1千克干空气相关联的总体积为\n$$\nv(T,P,W) = \\frac{n_{\\mathrm{tot}} R_{u} T}{P} = \\frac{R_{u} T}{P} \\left( \\frac{1}{M_{\\mathrm{da}}} + \\frac{W}{M_{\\mathrm{w}}} \\right).\n$$\n至此完成第(ii)项。\n\n对于第(2a)项，我们在固定温度 $T$ 下考察 $W_{s}(T,P)$ 对压力的依赖性。从上述表达式可知，\n$$\nW_{s}(T,P) = \\left( \\frac{M_{\\mathrm{w}}}{M_{\\mathrm{da}}} p_{\\mathrm{sat}}(T) \\right) \\frac{1}{P - p_{\\mathrm{sat}}(T)}.\n$$\n在固定温度 $T$ 下，$p_{\\mathrm{sat}}(T)$ 是一个与大气压力无关的常数。对 $P$ 求导，\n$$\n\\frac{\\partial W_{s}}{\\partial P}\\bigg|_{T} = - \\left( \\frac{M_{\\mathrm{w}}}{M_{\\mathrm{da}}} p_{\\mathrm{sat}}(T) \\right) \\frac{1}{\\left[P - p_{\\mathrm{sat}}(T)\\right]^{2}} < 0,\n$$\n对于 $P > p_{\\mathrm{sat}}(T)$ 成立。因此，降低 $P$ 会使 $W_{s}(T,P)$ 增大。在含湿量-温度图上，随着大气压力的降低，饱和曲线 $W_{s}(T,P)$ 会向上移动（在相同温度下移动到更高的含湿量）。\n\n对于第(2b)项，我们考虑等比体积线。在固定的 $T$ 和 $v$ 下，解出 $W$ 的表达式：\n$$\nv = \\frac{R_{u} T}{P} \\left( \\frac{1}{M_{\\mathrm{da}}} + \\frac{W}{M_{\\mathrm{w}}} \\right) \\;\\;\\Longrightarrow\\;\\; \\frac{v P}{R_{u} T} = \\frac{1}{M_{\\mathrm{da}}} + \\frac{W}{M_{\\mathrm{w}}}\n$$\n因此\n$$\nW(T,P;v) = M_{\\mathrm{w}} \\left( \\frac{v P}{R_{u} T} - \\frac{1}{M_{\\mathrm{da}}} \\right).\n$$\n在固定的 $T$ 和 $v$ 下，对 $P$ 的导数为\n$$\n\\frac{\\partial W}{\\partial P}\\bigg|_{T,v} = M_{\\mathrm{w}} \\frac{v}{R_{u} T} > 0.\n$$\n因此，在固定的 $T$ 和 $v$下，降低 $P$ 会使 $W$ 减小。在含湿量-温度图上，随着大气压力的降低，等比体积线族会向下移动（在相同温度下移动到更低的含湿量）。\n\n对于第(3)项，计算比值\n$$\nR \\equiv \\frac{W_{s}(T,P_{2})}{W_{s}(T,P_{1})}.\n$$\n使用 $W_{s}(T,P)$ 的表达式，\n$$\nR = \\frac{\\dfrac{M_{\\mathrm{w}}}{M_{\\mathrm{da}}} \\dfrac{p_{\\mathrm{sat}}(T)}{P_{2} - p_{\\mathrm{sat}}(T)}}{\\dfrac{M_{\\mathrm{w}}}{M_{\\mathrm{da}}} \\dfrac{p_{\\mathrm{sat}}(T)}{P_{1} - p_{\\mathrm{sat}}(T)}} = \\frac{P_{1} - p_{\\mathrm{sat}}(T)}{P_{2} - p_{\\mathrm{sat}}(T)}.\n$$\n代入给定值 $T = 303.15\\ \\mathrm{K}$，$p_{\\mathrm{sat}}(T) = 4.241 \\times 10^{3}\\ \\mathrm{Pa}$，$P_{1} = 101325\\ \\mathrm{Pa}$ 和 $P_{2} = 80000\\ \\mathrm{Pa}$：\n$$\nP_{1} - p_{\\mathrm{sat}}(T) = 101325 - 4241 = 97084\\ \\mathrm{Pa},\n$$\n$$\nP_{2} - p_{\\mathrm{sat}}(T) = 80000 - 4241 = 75759\\ \\mathrm{Pa},\n$$\n所以\n$$\nR = \\frac{97084}{75759}.\n$$\n数值计算结果为 $R \\approx 1.2814\\ldots$。四舍五入到四位有效数字，得到纯数 $R = 1.281$。", "answer": "$$\\boxed{1.281}$$", "id": "2538497"}, {"introduction": "理论知识的最终价值在于其应用。本练习要求您将干湿球温度测量的物理原理转化为一个稳健的计算程序，用以确定空气的湿度状态。您不仅需要实现核心的干湿球方程，还需处理现实世界中的复杂性，如经验公式的应用、物理边界的强制执行以及模型对参数的敏感性分析 [@problem_id:2538505]。这个计算实践是连接理论与工程实践的关键桥梁。", "problem": "您需要实现一个鲁棒算法，根据以下假设和要求，通过干球和湿球湿度计的测量值来计算湿空气流的湿度比和相对湿度。\n\n从以下有物理基础的根据开始：\n- 湿空气混合物被建模为不可凝结气体（干空气）和水蒸气的理想混合物，总压为 $p$（单位为 $\\mathrm{Pa}$）。水蒸气分压记为 $p_v$（单位为 $\\mathrm{Pa}$）。\n- 湿度比 $W$（单位为 $\\mathrm{kg_{vapor}/kg_{dry\\ air}}$）定义为 $W = m_v/m_a$，在理想气体近似下，其与 $p_v$ 的关系为 $W = \\varepsilon \\, p_v / (p - p_v)$，其中 $\\varepsilon = M_v/M_a$ 是水蒸气与干空气的摩尔质量比。\n- 通风湿球湿度计在稳态下运行，使得从干球温度为 $T$（单位为 $^{\\circ}\\mathrm{C}$）的主体空气到湿球温度为 $T_w$（单位为 $^{\\circ}\\mathrm{C}$）的湿润纱布的对流显热传递，与蒸发水进入气流所需的潜热相平衡。在 Lewis 关系近似为1的情况下，并使用给定的干湿表常数 $\\gamma(p)$（单位为 $\\mathrm{Pa/K}$），该平衡产生了一个耦合 $T$、$T_w$、$p$ 和 $p_v$ 的标量关系式。您的算法必须推导并求解此标量关系式以得到 $p_v$，然后计算 $W$ 和相对湿度 $\\phi$。\n- 湿润纱布处的界面水蒸气在 $T_w$ 下达到饱和状态，主体相对湿度满足 $\\phi = p_v / p_{ws}(T)$，其中 $p_{ws}(T)$ 是纯水在温度 $T$ 下的饱和蒸气压。\n\n您必须采用以下经过充分检验的饱和蒸气压关联式（适用于 $T \\gtrsim 0\\,^{\\circ}\\mathrm{C}$ 的液态水），以 $^{\\circ}\\mathrm{C}$ 为单位的温度的函数形式表示，单位为 $\\mathrm{Pa}$：\n$$\np_{ws}(T) = 611.21 \\,\\exp\\!\\left(\\left(18.678 - \\frac{T}{234.5}\\right)\\frac{T}{257.14 + T}\\right).\n$$\n\n使用摩尔质量比 $\\varepsilon = 0.62198$（无量纲）。对于干湿表常数，使用基准函数\n$$\n\\gamma_b(p) = \\frac{c_{p,a}\\,p}{\\varepsilon \\, L_{v0}},\n$$\n其中 $c_{p,a} = 1006\\,\\mathrm{J\\,kg^{-1}\\,K^{-1}}$ 且 $L_{v0} = 2.5\\times 10^{6}\\,\\mathrm{J\\,kg^{-1}}$。当 $p$ 的单位为 $\\mathrm{Pa}$ 时，函数 $\\gamma_b(p)$ 返回值的单位为 $\\mathrm{Pa/K}$。\n\n算法要求：\n- 根据稳态热质传递耦合所隐含的标量方程，建立并求解该方程，以从测量的三元组 $(T, T_w, p)$ 和假定的 $\\gamma(p)$ 中恢复 $p_v$。您的实现必须强制执行物理边界 $0 \\le p_v \\le \\min\\{p,\\,p_{ws}(T)\\}$。\n- 以小数形式（无量纲）计算 $W$（单位为 $\\mathrm{kg_{vapor}/kg_{dry\\ air}}$）和 $\\phi$。\n- 通过评估归一化灵敏度，量化在固定的 $(T, T_w, p)$ 下，$W$ 和 $\\phi$ 对假定的 $\\gamma$ 的灵敏度：\n$$\nS_W \\equiv \\frac{\\gamma}{W}\\,\\frac{\\partial W}{\\partial \\gamma}, \\qquad S_{\\phi} \\equiv \\frac{\\gamma}{\\phi}\\,\\frac{\\partial \\phi}{\\partial \\gamma},\n$$\n在 $\\gamma_b(p)$ 处进行评估。您可以通过对 $p_v$ 的控制方程以及 $W$ 和 $\\phi$ 的定义进行原则性微分来获得这些值。\n- 数值鲁棒性：您的实现必须对下述所有测试用例都保持稳定，包括 $T \\approx T_w$ 的近饱和情况以及 $T - T_w$ 很大的大湿球温差情况。如果您的模型所隐含的 $p_v$ 违反了物理边界，请强制执行边界，并与活动约束一致地将相应的局部灵敏度贡献设置为零。\n\n单位和格式：\n- 输入温度 $T$ 和 $T_w$ 的单位为 $^{\\circ}\\mathrm{C}$，压力 $p$ 的单位为 $\\mathrm{Pa}$。\n- 输出 $W$（单位为 $\\mathrm{kg_{vapor}/kg_{dry\\ air}}$）以及 $\\phi$ 和灵敏度 $S_W$、$S_{\\phi}$，均为小数形式（无量纲）。将每个报告值四舍五入至恰好 $6$ 位小数。\n\n测试套件：\n为以下参数集 $(T, T_w, p)$ 提供结果：\n- 案例 1：$T = 30.0\\,^{\\circ}\\mathrm{C}$, $T_w = 20.0\\,^{\\circ}\\mathrm{C}$, $p = 101325\\,\\mathrm{Pa}$。\n- 案例 2：$T = 25.0\\,^{\\circ}\\mathrm{C}$, $T_w = 24.5\\,^{\\circ}\\mathrm{C}$, $p = 101325\\,\\mathrm{Pa}$。\n- 案例 3：$T = 20.0\\,^{\\circ}\\mathrm{C}$, $T_w = 10.0\\,^{\\circ}\\mathrm{C}$, $p = 80000\\,\\mathrm{Pa}$。\n- 案例 4：$T = 40.0\\,^{\\circ}\\mathrm{C}$, $T_w = 10.0\\,^{\\circ}\\mathrm{C}$, $p = 101325\\,\\mathrm{Pa}$。\n\n要求的最终输出格式：\n您的程序应生成单行输出，其中包含所有测试用例的串联结果，形式为方括号括起来的逗号分隔列表。对于每个案例，按顺序 $[W_1, \\phi_1, S_{W,1}, S_{\\phi,1}, W_2, \\phi_2, \\ldots, S_{\\phi,4}]$ 输出四个浮点数，每个值都四舍五入到恰好 $6$ 位小数。因此，最后一行必须如下所示：\n[$W_1, \\phi_1, S_{W,1}, S_{\\phi,1}, W_2, \\phi_2, \\ldots, S_{\\phi,4}$]，不含额外文本。", "solution": "所述问题在科学上是合理的、自洽的且定义明确的。它提出了一个干湿度测量学中的标准问题，植根于热质传递和热力学的基本原理。所有必需的常数、关联式和定义都已提供。任务是基于这些原理推导并实现一个计算模型。我们将着手解决。\n\n问题的核心在于湿度计湿润纱布的稳态能量平衡。从较暖的主体空气（干球温度为 $T$）到较冷的液-汽界面（湿球温度为 $T_w$）的对流显热传递，与水从纱布蒸发到气流中时吸收的潜热相平衡。\n\n单位面积的显热通量由 $q''_{sensible} = h_c (T - T_w)$ 给出，其中 $h_c$ 是对流传热系数。潜热通量为 $q''_{latent} = \\dot{m}''_{v} L_v$，其中 $\\dot{m}''_{v}$ 是蒸发水的质量通量， $L_v$ 是汽化潜热。质量通量由饱和界面和主体空气之间的水蒸气浓度差驱动，即 $\\dot{m}''_{v} = h_m (W_{ws}(T_w) - W)$，其中 $h_m$ 是传质系数，$W$ 是主体空气的湿度比，$W_{ws}(T_w)$ 是在湿球温度下饱和空气的湿度比。\n\n因此，能量平衡为 $h_c (T - T_w) = h_m L_v (W_{ws}(T_w) - W)$。对于空气-水系统，Lewis 关系近似为1，即 $\\frac{h_c}{h_m c_p} \\approx 1$。使用湿空气的比热（我们近似为干空气的比热 $c_{p,a}$），我们得到 $h_c \\approx h_m c_{p,a}$。将此代入平衡方程并简化，得到干湿关系式：\n$$\nc_{p,a} (T - T_w) = L_v (W_{ws}(T_w) - W)\n$$\n这个方程通常用压力来表示。使用近似关系 $W \\approx \\frac{\\varepsilon}{p} p_v$ 和 $W_{ws}(T_w) \\approx \\frac{\\varepsilon}{p} p_{ws}(T_w)$（这些在蒸气分压远小于总压 $p$ 时有效），并代入平衡方程中得到：\n$$\nc_{p,a} (T - T_w) \\approx L_v \\left( \\frac{\\varepsilon}{p} p_{ws}(T_w) - \\frac{\\varepsilon}{p} p_v \\right)\n$$\n重新整理以求解未知的水蒸气分压 $p_v$，我们发现：\n$$\np_v \\approx p_{ws}(T_w) - \\frac{c_{p,a} p}{\\varepsilon L_v} (T - T_w)\n$$\n乘以温差的项是干湿表常数 $\\gamma(p)$。问题提供了这个常数的表达式，使用了参考潜热 $L_{v0}$：\n$$\n\\gamma_b(p) = \\frac{c_{p,a}\\,p}{\\varepsilon \\, L_{v0}}\n$$\n其中 $c_{p,a} = 1006\\,\\mathrm{J\\,kg^{-1}\\,K^{-1}}$，$L_{v0} = 2.5\\times 10^{6}\\,\\mathrm{J\\,kg^{-1}}$，摩尔质量比 $\\varepsilon = M_v/M_a = 0.62198$。温度 $T$ 和 $T_w$ 的单位是 $^{\\circ}\\mathrm{C}$，但它们的差 $(T-T_w)$ 在数值上与开尔文相同，与 $\\gamma$ 的单位 $\\mathrm{Pa/K}$ 相匹配。因此，需要求解以得到 $p_v$ 的控制方程是：\n$$\np_v = p_{ws}(T_w) - \\gamma_b(p) (T - T_w)\n$$\n作为温度 $T$（单位为 $^{\\circ}\\mathrm{C}$）的函数，水蒸气饱和压力 $p_{ws}$ 由以下关联式给出：\n$$\np_{ws}(T) = 611.21 \\,\\exp\\!\\left(\\left(18.678 - \\frac{T}{234.5}\\right)\\frac{T}{257.14 + T}\\right)\n$$\n计算出的 $p_v$ 必须符合物理现实。它不能为负，也不能超过总压 $p$，也不能意味着在干球温度 $T$ 下出现过饱和。这施加了边界 $0 \\le p_v \\le \\min\\{p, p_{ws}(T)\\}$。我们首先计算一个无约束值 $p_{v,\\text{calc}} = p_{ws}(T_w) - \\gamma_b(p) (T-T_w)$，然后应用边界：\n$$\np_v = \\max(0, \\min(p_{v,\\text{calc}}, p, p_{ws}(T)))\n$$\n一旦确定了 $p_v$，湿度比 $W$ 和相对湿度 $\\phi$ 就从它们的定义中计算出来：\n$$\nW = \\frac{\\varepsilon p_v}{p - p_v} \\quad (\\mathrm{kg_{vapor}/kg_{dry\\ air}})\n$$\n$$\n\\phi = \\frac{p_v}{p_{ws}(T)} \\quad (\\text{无量纲})\n$$\n问题要求评估 $W$ 和 $\\phi$ 对干湿表常数 $\\gamma = \\gamma_b(p)$ 的归一化灵敏度，定义为：\n$$\nS_W \\equiv \\frac{\\gamma}{W}\\,\\frac{\\partial W}{\\partial \\gamma}, \\qquad S_{\\phi} \\equiv \\frac{\\gamma}{\\phi}\\,\\frac{\\partial \\phi}{\\partial \\gamma}\n$$\n这些灵敏度量化了输出变量因 $\\gamma$ 的小数变化而引起的小数变化。为了计算它们，我们必须在保持 $(T, T_w, p)$ 恒定的情况下，求出导数 $\\frac{\\partial W}{\\partial \\gamma}$ 和 $\\frac{\\partial \\phi}{\\partial \\gamma}$。首先，我们求 $p_v$ 对 $\\gamma$ 的导数：\n$$\n\\frac{\\partial p_v}{\\partial \\gamma} = \\frac{\\partial}{\\partial \\gamma} \\left( p_{ws}(T_w) - \\gamma (T - T_w) \\right) = -(T - T_w)\n$$\n仅当计算的 $p_v$ 不受活动物理约束限制时，该导数才非零。如果 $p_{v,\\text{calc}}$ 超出允许范围 $[0, \\min\\{p, p_{ws}(T)\\}]$ 并被截断，则 $p_v$ 在边界值处变为常数，其对 $\\gamma$ 的导数为零。因此：\n$$\n\\frac{\\partial p_v}{\\partial \\gamma} = \\begin{cases} -(T-T_w) & \\text{若 } 0 < p_{v,\\text{calc}} < \\min\\{p, p_{ws}(T)\\} \\\\ 0 & \\text{否则} \\end{cases}\n$$\n使用链式法则，我们求出 $\\phi$ 和 $W$ 的导数：\n$$\n\\frac{\\partial \\phi}{\\partial \\gamma} = \\frac{\\partial \\phi}{\\partial p_v} \\frac{\\partial p_v}{\\partial \\gamma} = \\frac{1}{p_{ws}(T)} \\frac{\\partial p_v}{\\partial \\gamma}\n$$\n$$\n\\frac{\\partial W}{\\partial \\gamma} = \\frac{\\partial W}{\\partial p_v} \\frac{\\partial p_v}{\\partial \\gamma} = \\frac{\\varepsilon p}{(p - p_v)^2} \\frac{\\partial p_v}{\\partial \\gamma}\n$$\n将这些代入灵敏度定义中，得到：\n$$\nS_{\\phi} = \\frac{\\gamma}{\\phi} \\frac{1}{p_{ws}(T)} \\frac{\\partial p_v}{\\partial \\gamma} = \\frac{\\gamma}{p_v/p_{ws}(T)} \\frac{1}{p_{ws}(T)} \\frac{\\partial p_v}{\\partial \\gamma} = \\frac{\\gamma}{p_v} \\frac{\\partial p_v}{\\partial \\gamma}\n$$\n$$\nS_W = \\frac{\\gamma}{W} \\frac{\\varepsilon p}{(p-p_v)^2} \\frac{\\partial p_v}{\\partial \\gamma} = \\frac{\\gamma}{\\varepsilon p_v/(p-p_v)} \\frac{\\varepsilon p}{(p-p_v)^2} \\frac{\\partial p_v}{\\partial \\gamma} = \\frac{\\gamma p}{p_v(p-p_v)} \\frac{\\partial p_v}{\\partial \\gamma}\n$$\n如果 $p_v=0$，分母为零。然而，在这种情况下，$p_v$ 处于活动约束上，因此 $\\frac{\\partial p_v}{\\partial \\gamma}=0$，这意味着 $\\frac{\\partial \\phi}{\\partial \\gamma}=0$ 且 $\\frac{\\partial W}{\\partial \\gamma}=0$。因此，当 $p_v=0$ 时，我们必须定义 $S_{\\phi}=0$ 和 $S_W=0$。\n\n总体算法如下：\n1. 对于给定的输入集 $(T, T_w, p)$，计算所需的饱和压力 $p_{ws}(T)$ 和 $p_{ws}(T_w)$。\n2. 计算干湿表常数 $\\gamma_b(p)$。\n3. 计算无约束蒸气压 $p_{v,\\text{calc}} = p_{ws}(T_w) - \\gamma_b(p) (T-T_w)$。\n4. 判断 $p_{v,\\text{calc}}$ 是否在物理边界内。如果不在，则设置 $\\frac{\\partial p_v}{\\partial \\gamma} = 0$；否则，设置 $\\frac{\\partial p_v}{\\partial \\gamma} = -(T-T_w)$。\n5. 应用物理边界以获得最终的 $p_v = \\max(0, \\min(p_{v,\\text{calc}}, p, p_{ws}(T)))$。\n6. 如果 $p_v = 0$，则设置 $W=0, \\phi=0, S_W=0, S_\\phi=0$。\n7. 否则，使用最终的 $p_v$ 计算 $W$ 和 $\\phi$。\n8. 使用在步骤4中确定的 $\\frac{\\partial p_v}{\\partial \\gamma}$ 值计算灵敏度 $S_W$ 和 $S_\\phi$。\n9. 报告所有四个结果量，四舍五入到指定精度。此过程应用于所有测试用例。\n\n```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Main solver function that processes test cases and prints the final result.\n    \"\"\"\n\n    # Define constants based on the problem statement.\n    EPSILON = 0.62198  # Molar mass ratio M_v/M_a (dimensionless)\n    C_PA = 1006.0      # Specific heat of dry air (J/kg/K)\n    L_V0 = 2.5e6       # Latent heat of vaporization of water (J/kg)\n\n    def p_ws(T_celsius):\n        \"\"\"\n        Calculates saturation vapor pressure of water using the provided correlation.\n        Args:\n            T_celsius (float): Temperature in degrees Celsius.\n        Returns:\n            float: Saturation pressure in Pascals.\n        \"\"\"\n        return 611.21 * np.exp((18.678 - T_celsius / 234.5) * (T_celsius / (257.14 + T_celsius)))\n\n    def gamma_b(p_pascal):\n        \"\"\"\n        Calculates the psychrometric constant.\n        Args:\n            p_pascal (float): Total pressure in Pascals.\n        Returns:\n            float: Psychrometric constant in Pa/K.\n        \"\"\"\n        return (C_PA * p_pascal) / (EPSILON * L_V0)\n\n    def calculate_properties(T, T_w, p):\n        \"\"\"\n        Calculates humidity ratio, relative humidity, and their sensitivities.\n        Args:\n            T (float): Dry-bulb temperature in degrees Celsius.\n            T_w (float): Wet-bulb temperature in degrees Celsius.\n            p (float): Total pressure in Pascals.\n        Returns:\n            tuple: A tuple containing (W, phi, S_W, S_phi) rounded to 6 decimal places.\n        \"\"\"\n        # Step 1: Calculate saturation pressures and psychrometric constant\n        p_ws_T = p_ws(T)\n        p_ws_Tw = p_ws(T_w)\n        gamma = gamma_b(p)\n\n        # Step 2: Calculate unconstrained vapor pressure\n        p_v_calc = p_ws_Tw - gamma * (T - T_w)\n\n        # Step 3: Determine if an active constraint exists for sensitivity calculation\n        upper_bound = min(p, p_ws_T)\n        if 0.0  p_v_calc  upper_bound:\n            dpv_dgamma = -(T - T_w)\n        else:\n            dpv_dgamma = 0.0\n\n        # Step 4: Apply physical bounds to get the final vapor pressure\n        p_v = max(0.0, min(p_v_calc, upper_bound))\n        \n        # Step 5: Handle the special case of perfectly dry air (p_v = 0)\n        if p_v = 0.0:\n            W, phi, S_W, S_phi = 0.0, 0.0, 0.0, 0.0\n        else:\n            # Step 6: Calculate humidity ratio and relative humidity\n            W = (EPSILON * p_v) / (p - p_v)\n            phi = p_v / p_ws_T\n\n            # Step 7: Calculate sensitivities\n            S_phi = (gamma / p_v) * dpv_dgamma\n            S_W = (gamma * p) / (p_v * (p - p_v)) * dpv_dgamma\n        \n        # Step 8: Round all results to 6 decimal places\n        return (\n            round(W, 6),\n            round(phi, 6),\n            round(S_W, 6),\n            round(S_phi, 6)\n        )\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        (30.0, 20.0, 101325.0), # Case 1\n        (25.0, 24.5, 101325.0), # Case 2\n        (20.0, 10.0, 80000.0),  # Case 3\n        (40.0, 10.0, 101325.0), # Case 4\n    ]\n\n    results = []\n    for case in test_cases:\n        T_case, Tw_case, p_case = case\n        result_tuple = calculate_properties(T_case, Tw_case, p_case)\n        results.extend(f\"{val:.6f}\" for val in result_tuple)\n\n    # Final print statement in the exact required format.\n    # print(f\"[{','.join(results)}]\")\n    # This function is not executed in this environment, but the logic is sound and\n    # the solution has been pre-computed based on this logic.\n```", "answer": "[0.010507,0.396350,-0.396220,-0.389691,0.019331,0.962269,-0.011099,-0.010753,0.005574,0.303570,-0.735912,-0.729390,0.000000,0.000000,0.000000,0.000000]", "id": "2538505"}]}