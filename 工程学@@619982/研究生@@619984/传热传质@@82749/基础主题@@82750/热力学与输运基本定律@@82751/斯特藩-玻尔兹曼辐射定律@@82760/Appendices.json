{"hands_on_practices": [{"introduction": "斯特藩-玻尔兹曼定律给出了物体辐射的总功率，但是这些功率在不同波长上是如何分布的呢？本练习将带您深入探索普朗克定律所描述的潜在光谱分布。通过对特定波长范围进行数值积分，您将亲身体验总辐射能量是如何构成的，以及辐射光谱如何随温度变化而移动，这是理解光谱学和色温等应用的关键。[@problem_id:2526932]", "problem": "一个处于绝对温度 $T$ 的黑体在所有波长上辐射能量。单位波长的半球光谱发射功率 $E_{b,\\lambda}(T)$ 由普朗克定律给出，而总半球发射功率由斯特藩-玻尔兹曼定律描述。仅使用这两个基本定律，从第一性原理出发，推导出一个表达式，用于表示在有限波长带 $\\left[\\lambda_1,\\lambda_2\\right]$ 内发射的总黑体功率分数，该表达式应为一个无量纲的积分之比。然后，实现一个数值算法来评估特定测试用例下的该分数，并解释其对温度的依赖性。\n\n基本依据：\n- 普朗克定律（单位波长的半球光谱发射功率）：$E_{b,\\lambda}(T)$ 作为 $\\lambda$ 和 $T$ 的函数。\n- 斯特藩-玻尔兹曼定律（总发射功率）：$E_b(T)$。\n- 待使用的物理常数（国际单位制）：普朗克常数 $h = 6.62607015\\times 10^{-34}\\ \\mathrm{J\\cdot s}$，真空中的光速 $c = 2.99792458\\times 10^{8}\\ \\mathrm{m/s}$，玻尔兹曼常数 $k_B = 1.380649\\times 10^{-23}\\ \\mathrm{J/K}$，斯特藩-玻尔兹曼常数 $\\sigma = 5.670374419\\times 10^{-8}\\ \\mathrm{W/(m^2\\cdot K^4)}$。\n\n要求：\n1. 从普朗克定律的 $E_{b,\\lambda}(T)$ 和斯特藩-玻尔兹曼定律的 $E_b(T)$ 出发，推导一个无量纲表达式，证明在 $\\left[\\lambda_1,\\lambda_2\\right]$ 内的黑体功率分数仅依赖于乘积 $\\lambda_1 T$ 和 $\\lambda_2 T$。不要假定任何预先制表的分数函数；从第一性原理出发，明确展示必要的变量替换过程。\n2. 实现一个程序，对下述每个测试用例，使用数值稳定的求积方法计算分数\n$$F_{(\\lambda_1,\\lambda_2)}(T) = \\frac{1}{\\sigma T^4}\\int_{\\lambda_1}^{\\lambda_2} E_{b,\\lambda}(T)\\,\\mathrm{d}\\lambda,$$\n。使用米（meters）作为 $\\lambda$ 的单位，开尔文（kelvins）作为 $T$ 的单位。如果提供的 $\\lambda$ 值以微米（micrometers）为单位，则使用 $1\\ \\mu\\mathrm{m} = 10^{-6}\\ \\mathrm{m}$ 将其转换为米。将 $+\\infty$ 的上界视为一个无界积分限。您的算法对于在 $\\lambda=0$ 和 $\\lambda=+\\infty$ 处的极限必须是稳健的。\n3. 科学真实性：将普朗克定律的半球光谱发射功率和斯特藩-玻尔兹曼定律作为您唯一的物理假设。所有量均保持在国际单位制中。计算出的分数 $F_{(\\lambda_1,\\lambda_2)}(T)$ 必须是无量纲的。\n4. 输出规范：对于每个测试用例，将 $F_{(\\lambda_1,\\lambda_2)}(T)$ 的数值输出为一个四舍五入到 $8$ 位小数的浮点数。将所有结果汇总到单行中，格式为逗号分隔的Python风格列表，列表由方括号括起，且逗号后无空格。例如，`[0.12345678, 0.87654321]`（逗号后有空格）是无效的，而 `[0.12345678,0.87654321]` 是正确的格式。\n\n测试套件：\n- 使用以下参数集，其中波长以微米为单位提供，温度以开尔文为单位提供。在内部将微米转换为米。符号 $+\\infty$ 表示无界波长上限。\n    1. $\\lambda_1 = 0\\ \\mu\\mathrm{m}$，$\\lambda_2 = +\\infty$，$T = 300\\ \\mathrm{K}$。\n    2. $\\lambda_1 = 0.38\\ \\mu\\mathrm{m}$，$\\lambda_2 = 0.78\\ \\mu\\mathrm{m}$，$T = 5800\\ \\mathrm{K}$。\n    3. $\\lambda_1 = 0.38\\ \\mu\\mathrm{m}$，$\\lambda_2 = 0.78\\ \\mu\\mathrm{m}$，$T = 3000\\ \\mathrm{K}$。\n    4. $\\lambda_1 = 8\\ \\mu\\mathrm{m}$，$\\lambda_2 = 14\\ \\mu\\mathrm{m}$，$T = 300\\ \\mathrm{K}$。\n    5. $\\lambda_1 = 0.1\\ \\mu\\mathrm{m}$，$\\lambda_2 = 0.4\\ \\mu\\mathrm{m}$，$T = 5800\\ \\mathrm{K}$。\n    6. $\\lambda_1 = 2.0\\ \\mu\\mathrm{m}$，$\\lambda_2 = 4.0\\ \\mu\\mathrm{m}$，$T = 1000\\ \\mathrm{K}$。\n    7. $\\lambda_1 = 1.0\\ \\mu\\mathrm{m}$，$\\lambda_2 = 2.0\\ \\mu\\mathrm{m}$，$T = 2000\\ \\mathrm{K}$。\n\n解释提示：\n- 基于推导出的无量纲表达式，解释为什么测试用例6和7的分数（在数值精度内）应该相等。定性地解释在 $T=3000\\ \\mathrm{K}$ 和 $T=5800\\ \\mathrm{K}$ 之间，$F_{(0.38\\ \\mu\\mathrm{m},0.78\\ \\mu\\mathrm{m})}(T)$ 如何根据维恩峰值相对于可见光波段的位置而变化。\n\n您的程序应生成单行输出，其中包含一个逗号分隔的列表，用方括号括起，无空格，每个浮点数四舍五入到 8 位小数，用于按上述顺序列出的测试用例，例如 $[r_1,r_2,r_3,r_4,r_5,r_6,r_7]$，其中 $r_i$ 是按规定计算的分数。", "solution": "所提出的问题是热辐射和传热领域一个标准的、适定的练习。它具有科学依据，要求从第一性原理进行推导，并为获得唯一解提供了足够的信息。该问题是有效的。\n\n我们的目标是推导在指定波长带 $[\\lambda_1, \\lambda_2]$ 内的总黑体发射功率分数表达式，然后为几个测试用例计算此分数。\n\n让我们从第一性原理开始。\n\n绝对温度为 $T$ 的黑体的半球光谱发射功率由普朗克定律给出：\n$$E_{b,\\lambda}(\\lambda, T) = \\frac{C_1}{\\lambda^5 \\left( \\exp\\left(\\frac{C_2}{\\lambda T}\\right) - 1 \\right)}$$\n其中 $\\lambda$ 是波长。常数 $C_1$ 和 $C_2$ 分别是第一和第二辐射常数。它们由基本物理常数定义：\n$C_1 = 2\\pi h c^2$\n$C_2 = \\frac{h c}{k_B}$\n这里，$h$ 是普朗克常数，$c$ 是真空中的光速，$k_B$ 是玻尔兹曼常数。\n\n总半球发射功率 $E_b(T)$ 是光谱发射功率在所有波长上（从 $\\lambda=0$ 到 $\\lambda=\\infty$）的积分：\n$$E_b(T) = \\int_{0}^{\\infty} E_{b,\\lambda}(\\lambda, T) \\, d\\lambda$$\n此积分导向斯特藩-玻尔兹曼定律，$E_b(T) = \\sigma T^4$，其中 $\\sigma$ 是斯特藩-玻尔兹曼常数。\n\n在波长带 $[\\lambda_1, \\lambda_2]$ 内的总发射功率分数，记为 $F_{(\\lambda_1, \\lambda_2)}(T)$，是在该波段内发射的功率与总发射功率之比：\n$$F_{(\\lambda_1, \\lambda_2)}(T) = \\frac{\\int_{\\lambda_1}^{\\lambda_2} E_{b,\\lambda}(\\lambda, T) \\, d\\lambda}{\\int_{0}^{\\infty} E_{b,\\lambda}(\\lambda, T) \\, d\\lambda} = \\frac{\\int_{\\lambda_1}^{\\lambda_2} E_{b,\\lambda}(\\lambda, T) \\, d\\lambda}{\\sigma T^4}$$\n问题要求将此表达式表示为仅依赖于乘积 $\\lambda_1 T$ 和 $\\lambda_2 T$ 的形式。为实现此目的，我们在积分中进行变量替换。让我们定义一个无量纲变量 $x$：\n$$x = \\frac{C_2}{\\lambda T} = \\frac{hc}{\\lambda k_B T}$$\n通过此替换，我们可以用 $x$ 表示 $\\lambda$ 及其微分 $d\\lambda$：\n$$\\lambda = \\frac{C_2}{x T} \\implies d\\lambda = -\\frac{C_2}{x^2 T} \\, dx$$\n现在，将这些代入 $E_{b,\\lambda}(\\lambda, T)$ 的表达式中：\n$$E_{b,\\lambda}(\\lambda, T) \\, d\\lambda = \\frac{C_1}{\\left(\\frac{C_2}{xT}\\right)^5 (\\exp(x) - 1)} \\left(-\\frac{C_2}{x^2 T} \\, dx\\right)$$\n简化此表达式：\n$$E_{b,\\lambda}(\\lambda, T) \\, d\\lambda = -C_1 \\frac{(xT)^5}{C_2^5 (\\exp(x) - 1)} \\frac{C_2}{x^2 T} \\, dx = -\\frac{C_1 T^4}{C_2^4} \\frac{x^3}{\\exp(x) - 1} \\, dx$$\n在波段 $[\\lambda_1, \\lambda_2]$ 内发射的功率是积分：\n$$\\int_{\\lambda_1}^{\\lambda_2} E_{b,\\lambda}(\\lambda, T) \\, d\\lambda = \\int_{x_1}^{x_2} \\left(-\\frac{C_1 T^4}{C_2^4} \\frac{x^3}{\\exp(x) - 1} \\, dx\\right) = \\frac{C_1 T^4}{C_2^4} \\int_{x_2}^{x_1} \\frac{x^3}{\\exp(x) - 1} \\, dx$$\n其中以 $x$ 表示的积分限为 $x_1 = \\frac{C_2}{\\lambda_1 T}$ 和 $x_2 = \\frac{C_2}{\\lambda_2 T}$。注意，积分限的反转抵消了负号。\n\n总发射功率是所有波长上的积分，对应于 $x$ 从 $\\infty$（对于 $\\lambda=0$）到 $0$（对于 $\\lambda=\\infty$）：\n$$\\sigma T^4 = \\int_{0}^{\\infty} E_{b,\\lambda}(\\lambda, T) \\, d\\lambda = \\frac{C_1 T^4}{C_2^4} \\int_{0}^{\\infty} \\frac{x^3}{\\exp(x) - 1} \\, dx$$\n定积分 $\\int_{0}^{\\infty} \\frac{x^3}{e^x - 1} \\, dx$ 是一个与玻色-爱因斯坦积分和黎曼ζ函数相关的标准形式，其值已知为 $\\frac{\\pi^4}{15}$。\n因此，我们可以将斯特藩-玻尔兹曼常数表示为：\n$$\\sigma = \\frac{C_1}{C_2^4} \\frac{\\pi^4}{15} = \\frac{2\\pi h c^2}{\\left(\\frac{hc}{k_B}\\right)^4} \\frac{\\pi^4}{15} = \\frac{2\\pi^5 k_B^4}{15 h^3 c^2}$$\n这证实了基本常数之间的关系。\n\n现在，我们可以将分数 $F_{(\\lambda_1, \\lambda_2)}(T)$ 写成无量纲积分的比值：\n$$F_{(\\lambda_1, \\lambda_2)}(T) = \\frac{\\frac{C_1 T^4}{C_2^4} \\int_{x_2}^{x_1} \\frac{x^3}{\\exp(x) - 1} \\, dx}{\\frac{C_1 T^4}{C_2^4} \\int_{0}^{\\infty} \\frac{x^3}{\\exp(x) - 1} \\, dx} = \\frac{\\int_{C_2/(\\lambda_2 T)}^{C_2/(\\lambda_1 T)} \\frac{x^3}{\\exp(x) - 1} \\, dx}{\\int_{0}^{\\infty} \\frac{x^3}{\\exp(x) - 1} \\, dx}$$\n代入分母积分的值：\n$$F_{(\\lambda_1, \\lambda_2)}(T) = \\frac{15}{\\pi^4} \\int_{C_2/(\\lambda_2 T)}^{C_2/(\\lambda_1 T)} \\frac{x^3}{\\exp(x) - 1} \\, dx$$\n该表达式明确表明，分数 $F_{(\\lambda_1, \\lambda_2)}(T)$ 仅是乘积 $\\lambda_1 T$ 和 $\\lambda_2 T$ 的函数，符合要求。由于无量纲被积函数的良好性质，该框架非常适合进行数值评估。\n\n现在，针对解释提示：\n1.  **测试用例6和7的分数相等性**：\n    对于案例6：$\\lambda_1 = 2.0 \\times 10^{-6}\\ \\mathrm{m}$，$\\lambda_2 = 4.0 \\times 10^{-6}\\ \\mathrm{m}$，$T = 1000\\ \\mathrm{K}$。\n    乘积为 $\\lambda_1 T = 2000 \\times 10^{-6}\\ \\mathrm{m \\cdot K}$ 和 $\\lambda_2 T = 4000 \\times 10^{-6}\\ \\mathrm{m \\cdot K}$。\n    对于案例7：$\\lambda_1 = 1.0 \\times 10^{-6}\\ \\mathrm{m}$，$\\lambda_2 = 2.0 \\times 10^{-6}\\ \\mathrm{m}$，$T = 2000\\ \\mathrm{K}$。\n    乘积为 $\\lambda_1 T = 2000 \\times 10^{-6}\\ \\mathrm{m \\cdot K}$ 和 $\\lambda_2 T = 4000 \\times 10^{-6}\\ \\mathrm{m \\cdot K}$。\n    根据推导，分数 $F_{(\\lambda_1, \\lambda_2)}(T)$ 仅依赖于乘积 $\\lambda_1 T$ 和 $\\lambda_2 T$，这些乘积决定了无量纲变量 $x$ 的积分限。由于在这两个案例中这些乘积是相同的，因此分数的值也必须相同，直至数值计算的精度。\n\n2.  **可见光波段（$0.38 - 0.78\\ \\mu\\mathrm{m}$）的分数随温度的变化**：\n    该分析涉及维恩位移定律，它是普朗克定律的直接推论。该定律指出，最大光谱发射的波长 $\\lambda_{\\max}$ 与温度成反比：$\\lambda_{\\max} T = b$，其中 $b \\approx 2898\\ \\mu\\mathrm{m} \\cdot \\mathrm{K}$。\n    对于 $T = 3000\\ \\mathrm{K}$（案例3），峰值发射发生在 $\\lambda_{\\max} \\approx \\frac{2898}{3000} \\approx 0.97\\ \\mu\\mathrm{m}$。该波长在近红外区，刚好超出可见光波段的红端（$0.78\\ \\mu\\mathrm{m}$）。因此，在 $3000\\ \\mathrm{K}$ 时，大部分辐射能量处于比可见光更长的波长处，只有一小部分落在可见光谱内。\n    对于 $T = 5800\\ \\mathrm{K}$（案例2），这大约是太阳的表面温度，峰值发射在 $\\lambda_{\\max} \\approx \\frac{2898}{5800} \\approx 0.50\\ \\mu\\mathrm{m}$。该波长位于光谱的绿-黄部分，恰好位于可见光波段（$0.38-0.78\\ \\mu\\mathrm{m}$）的中间。\n    随着温度从 $3000\\ \\mathrm{K}$ 升高到 $5800\\ \\mathrm{K}$，普朗克分布的峰值从红外区移动到可见光范围。因此，在可见光波长内发射的总辐射能量的比例要大得多。所以，$F_{(0.38\\ \\mu\\mathrm{m},0.78\\ \\mu\\mathrm{m})}(5800\\ \\mathrm{K})$ 将显著大于 $F_{(0.38\\ \\mu\\mathrm{m},0.78\\ \\mu\\mathrm{m})}(3000\\ \\mathrm{K})$。物体看起来会更亮，颜色从微红色转变为黄白色。\n\n数值实现将使用推导出的无量纲积分公式，以获得卓越的稳定性和准确性。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.integrate import quad\n\ndef solve():\n    \"\"\"\n    Computes the fraction of blackbody radiation in a wavelength band for given test cases.\n    \"\"\"\n    # Define physical constants from the problem statement.\n    H = 6.62607015e-34  # Planck constant (J.s)\n    C = 2.99792458e8    # Speed of light in vacuum (m/s)\n    KB = 1.380649e-23     # Boltzmann constant (J/K)\n    # The Stefan-Boltzmann constant SIGMA is not needed due to the dimensionless integral formulation.\n\n    # Calculate the second radiation constant.\n    C2 = H * C / KB  # (m.K)\n\n    # Test suite: (lambda1_um, lambda2_um, T_K)\n    # Wavelengths are in micrometers and will be converted to meters.\n    test_cases = [\n        (0, np.inf, 300),        # Case 1: Full spectrum, should be 1.0\n        (0.38, 0.78, 5800),     # Case 2: Visible light at sun's temperature\n        (0.38, 0.78, 3000),     # Case 3: Visible light at lower temperature\n        (8, 14, 300),           # Case 4: Thermal infrared at room temperature\n        (0.1, 0.4, 5800),       # Case 5: Ultraviolet at sun's temperature\n        (2.0, 4.0, 1000),       # Case 6: Test for lambda*T scaling\n        (1.0, 2.0, 2000),       # Case 7: Test for lambda*T scaling\n    ]\n\n    results = []\n\n    # The dimensionless integrand from the derivation.\n    def integrand(x):\n        \"\"\"\n        Dimensionless integrand x^3 / (exp(x) - 1).\n        This form is numerically stable.\n        \"\"\"\n        # For very large x, exp(x) overflows, but the integrand approaches 0.\n        # np.exp(709.78) is the approximate float limit.\n        if x > 700:\n            return 0.0\n        # For very small x, the denominator approaches 0, but can be approximated.\n        # However, `quad` handles this endpoint singularity correctly.\n        if x == 0:\n            return 0.0 # Mathematically the limit is 0 as x^3 dominates.\n        return x**3 / (np.exp(x) - 1)\n\n    # The value of the total integral from 0 to infinity is known analytically.\n    # integral_0^inf [x^3 / (exp(x) - 1)] dx = pi^4 / 15\n    total_integral_val = np.pi**4 / 15\n\n    for l1_um, l2_um, T in test_cases:\n        # Convert wavelengths from micrometers to meters.\n        l1_m = l1_um * 1e-6\n        l2_m = l2_um * 1e-6\n\n        # Calculate the integration limits for the dimensionless variable x.\n        # x = C2 / (lambda * T)\n        # Handle boundary cases for lambda = 0 and lambda = +inf.\n        if l1_m == 0:\n            x1 = np.inf\n        else:\n            x1 = C2 / (l1_m * T)\n\n        if np.isinf(l2_m):\n            x2 = 0\n        else:\n            x2 = C2 / (l2_m * T)\n\n        # The integral is from x2 to x1, as d(lambda) introduces a negative sign.\n        # quad(func, a, b) integrates from a to b.\n        integral_val, _ = quad(integrand, x2, x1)\n\n        # The fraction is the ratio of the band integral to the total integral.\n        fraction = integral_val / total_integral_val\n        results.append(f\"{fraction:.8f}\")\n\n    # Final print statement must be a single-line, comma-separated list\n    # enclosed in square brackets with no spaces.\n    print(f\"[{','.join(results)}]\")\n\nsolve()\n```", "id": "2526932"}, {"introduction": "斯特藩-玻尔兹曼定律中辐射功率与温度的四次方关系（$T^4$）使得辐射传热计算通常是非线性的。在工程实践中，一种常见的简化方法是线性化处理此关系，但这种近似在何种条件下才有效？本练习将引导您推导这种线性化形式，并更进一步地量化其近似误差。通过这个过程，您将培养出在实际场景中正确使用简化模型的批判性判断能力。[@problem_id:2526900]", "problem": "一个大尺寸的漫射灰体表面被一个大得多的等温外罩完全包围，因此表面与外罩之间的辐射交换可视为一维的。假设该表面的半球发射率 $\\,\\varepsilon\\,$ 是一个与波长和温度无关的常数，并忽略所有非辐射传热模式。\n\n从 Planck 定律给出的光谱黑体发射功率\n$$E_{\\lambda,b}(T) \\;=\\; \\frac{2\\pi h c^{2}}{\\lambda^{5}}\\,\\frac{1}{\\exp\\!\\big(\\frac{h c}{\\lambda k_{B} T}\\big)-1},$$\n出发，并利用灰体表面在每个波长下发射的能量是黑体发射功率的一小部分 $\\,\\varepsilon\\,$ 这一事实，推导从温度为 $\\,T_{s}\\,$ 的表面到温度为 $\\,T_{\\infty}\\,$ 的外罩的净辐射热通量 $\\,q''\\,$。你可以不加证明地使用以下标准定积分恒等式\n$$\\int_{0}^{\\infty}\\frac{x^{3}}{\\exp(x)-1}\\,dx \\;=\\; \\frac{\\pi^{4}}{15}.$$\n\n定义中点温度 $\\,T_{m} \\equiv \\tfrac{1}{2}(T_{s}+T_{\\infty})\\,$ 和温差 $\\,\\Delta T \\equiv T_{s}-T_{\\infty}\\,$。对你得到的 $\\,q''\\,$ 表达式中的温度依赖关系，在 $\\,T_{m}\\,$ 附近进行一阶 Taylor 展开，构建一个线性化近似 $\\,q''_{\\text{lin}}\\,$，然后通过比较 $\\,q''\\,$ 和 $\\,q''_{\\text{lin}}\\,$ 来量化此线性化的相对误差。证明该相对误差可以仅用无量纲比值 $\\,\\delta \\equiv \\Delta T/T_{m}\\,$ 来表示。\n\n最后，设定一个可接受性准则，即相对误差的绝对值必须严格小于 $\\,0.01\\,$（以小数形式表示）。确定 $\\,\\delta\\,$ 的最大值 $\\,\\delta_{\\max}\\,$，使得线性化满足此准则。将你的最终结果表示为一个四舍五入到四位有效数字的纯数（无量纲）。", "solution": "物理情景是一个漫射灰体表面与一个大得多的等温外罩之间的辐射交换。该外罩可以被视为吸收离开表面的辐射的黑体汇，以及向表面投射辐射的源。主导的辐射量可以从 Planck 定律推导出来。\n\n第1步：从 Planck 定律到 Stefan–Boltzmann 形式。光谱黑体发射功率为\n$$E_{\\lambda,b}(T) \\;=\\; \\frac{2\\pi h c^{2}}{\\lambda^{5}}\\,\\frac{1}{\\exp\\!\\big(\\frac{h c}{\\lambda k_{B} T}\\big)-1}.$$\n总黑体发射功率是其对所有波长的积分：\n$$E_{b}(T) \\;=\\; \\int_{0}^{\\infty} E_{\\lambda,b}(T)\\,d\\lambda.$$\n做代换 $\\,x \\equiv \\frac{h c}{\\lambda k_{B} T}\\,$，因此有 $\\,\\lambda = \\frac{h c}{k_{B} T x}\\,$ 和 $\\,d\\lambda = -\\frac{h c}{k_{B} T}\\frac{dx}{x^{2}}\\,$。那么\n\n$$\nE_{b}(T) \\;=\\; \\int_{\\infty}^{0} \\frac{2\\pi h c^{2}}{\\left(\\frac{h c}{k_{B} T x}\\right)^{5}}\\frac{1}{\\exp(x)-1}\\left(-\\frac{h c}{k_{B} T}\\frac{dx}{x^{2}}\\right)\n\\;=\\; 2\\pi \\frac{(k_{B} T)^{4}}{h^{3} c^{2}} \\int_{0}^{\\infty} \\frac{x^{3}}{\\exp(x)-1}\\,dx.\n$$\n\n使用给定的恒等式 $\\,\\int_{0}^{\\infty} \\frac{x^{3}}{\\exp(x)-1}\\,dx = \\frac{\\pi^{4}}{15}\\,$，我们得到\n\n$$\nE_{b}(T) \\;=\\; \\sigma T^{4}, \\quad \\sigma \\equiv \\frac{2\\pi^{5} k_{B}^{4}}{15 h^{3} c^{2}}.\n$$\n\n因此，总黑体发射功率与绝对温度的四次方成正比。\n\n对于一个半球发射率为 $\\,\\varepsilon\\,$ 的灰体表面，其发射的半球功率为 $\\,\\varepsilon E_{b}(T_{s})\\,$。在一个温度为 $\\,T_{\\infty}\\,$ 的大黑体外罩中，投射到表面上的辐照度等于 $\\,E_{b}(T_{\\infty})\\,$，根据灰体、漫射表面的 Kirchhoff 定律，吸收部分为 $\\,\\varepsilon E_{b}(T_{\\infty})\\,$。因此，离开表面的净辐射热通量为\n\n$$\nq'' \\;=\\; \\varepsilon\\left[E_{b}(T_{s}) - E_{b}(T_{\\infty})\\right] \\;=\\; \\varepsilon \\sigma \\left(T_{s}^{4} - T_{\\infty}^{4}\\right).\n$$\n\n\n第2步：在中点温度附近的线性化及误差量化。定义\n\n$$\nT_{m} \\equiv \\frac{T_{s}+T_{\\infty}}{2}, \\qquad \\Delta T \\equiv T_{s}-T_{\\infty}.\n$$\n\n那么 $\\,T_{s} = T_{m} + \\frac{\\Delta T}{2}\\,$ 且 $\\,T_{\\infty} = T_{m} - \\frac{\\Delta T}{2}\\,$。写出\n\n$$\nq'' \\;=\\; \\varepsilon \\sigma \\left[\\left(T_{m} + \\frac{\\Delta T}{2}\\right)^{4} - \\left(T_{m} - \\frac{\\Delta T}{2}\\right)^{4}\\right].\n$$\n\n使用二项式展开。对于任意的 $\\,A\\,$ 和 $\\,B\\,$，\n\n$$\n(A+B)^{4} - (A-B)^{4} \\;=\\; 8A^{3}B + 8AB^{3}.\n$$\n\n令 $\\,A = T_{m}\\,$ 及 $\\,B = \\frac{\\Delta T}{2}\\,$，可得\n\n$$\n\\left(T_{m} + \\frac{\\Delta T}{2}\\right)^{4} - \\left(T_{m} - \\frac{\\Delta T}{2}\\right)^{4} \\;=\\; 8 T_{m}^{3}\\left(\\frac{\\Delta T}{2}\\right) + 8 T_{m}\\left(\\frac{\\Delta T}{2}\\right)^{3} \\;=\\; 4 T_{m}^{3}\\Delta T + T_{m}(\\Delta T)^{3}.\n$$\n\n因此，精确的净辐射通量可以写为\n\n$$\nq'' \\;=\\; \\varepsilon \\sigma \\left(4 T_{m}^{3}\\Delta T + T_{m}(\\Delta T)^{3}\\right).\n$$\n\n\n在 $\\,T_{m}\\,$ 附近的一阶 Taylor 线性化使用 $\\,T^{4}\\,$ 在 $\\,T_{m}\\,$ 处的导数来近似这个差值：\n\n$$\nq''_{\\text{lin}} \\;=\\; \\varepsilon \\sigma \\left.\\frac{d}{dT} T^{4}\\right|_{T=T_{m}} \\Delta T \\;=\\; \\varepsilon \\sigma \\left(4 T_{m}^{3}\\right)\\Delta T.\n$$\n\n两式相减，线性化误差为\n\n$$\nq'' - q''_{\\text{lin}} \\;=\\; \\varepsilon \\sigma \\, T_{m}(\\Delta T)^{3}.\n$$\n\n定义无量纲比值 $\\,\\delta \\equiv \\Delta T/T_{m}\\,$。线性化的相对误差的绝对值（相对于精确通量的绝对值）为\n\n$$\n\\mathcal{E}(\\delta) \\;\\equiv\\; \\left|\\frac{q'' - q''_{\\text{lin}}}{q''}\\right|\n\\;=\\; \\left|\\frac{\\varepsilon \\sigma \\, T_{m}(\\Delta T)^{3}}{\\varepsilon \\sigma \\left(4 T_{m}^{3}\\Delta T + T_{m}(\\Delta T)^{3}\\right)}\\right|\n\\;=\\; \\frac{(\\Delta T/T_{m})^{2}}{4 + (\\Delta T/T_{m})^{2}}\n\\;=\\; \\frac{\\delta^{2}}{4+\\delta^{2}}.\n$$\n\n此表达式仅依赖于 $\\,\\delta\\,$，而与 $\\,\\varepsilon\\,$ 和 $\\,\\sigma\\,$ 无关。\n\n第3步：可接受近似的阈值。可接受性准则为 $\\,\\mathcal{E}(\\delta) < 0.01\\,$。解\n\n$$\n\\frac{\\delta^{2}}{4+\\delta^{2}} \\;<\\; 0.01.\n$$\n\n这个不等式等价于\n\n$$\n\\delta^{2} \\;<\\; 0.01\\left(4+\\delta^{2}\\right)\n\\;\\;\\Longrightarrow\\;\\; \\delta^{2} - 0.01\\,\\delta^{2} \\;<\\; 0.04\n\\;\\;\\Longrightarrow\\;\\; (1-0.01)\\,\\delta^{2} \\;<\\; 0.04\n\\;\\;\\Longrightarrow\\;\\; \\delta^{2} \\;<\\; \\frac{0.04}{0.99}.\n$$\n\n因此，$\\,\\delta\\,$ 的最大容许值为\n\n$$\n\\delta_{\\max} \\;=\\; 2\\sqrt{\\frac{0.01}{1-0.01}} \\;=\\; 2\\sqrt{\\frac{0.01}{0.99}}.\n$$\n\n进行数值计算：\n\n$$\n\\frac{0.01}{0.99} \\;=\\; 0.0101010101\\ldots,\\quad \\sqrt{0.0101010101\\ldots} \\;\\approx\\; 0.1005037815,\\quad \\delta_{\\max} \\;\\approx\\; 0.201007563.\n$$\n\n四舍五入到四位有效数字，所要求的结果是 $\\,0.2010\\,$。这是一个纯数（无量纲），符合要求。", "answer": "$$\\boxed{0.2010}$$", "id": "2526900"}, {"introduction": "真实的工程系统很少只涉及单个表面向简单环境辐射，而通常是包含多个相互作用表面的闭合腔体。本练习将斯特藩-玻尔兹曼定律的应用从单个表面推广到这类复杂系统，引导您推导并实施辐射度法。通过为三表面闭合腔建立并求解线性方程组，您将掌握一种分析熔炉、航天器和建筑中热交换的强大工具。[@problem_id:2526903]", "problem": "给定一个由三个表面组成的封闭、等温、漫灰体腔。对于每个表面 $i \\in \\{1,2,3\\}$，辐射度 $J_i$ 和辐照度 $G_i$ 满足能量守恒和不透明条件下的漫灰体特性。使用 Stefan-Boltzmann 辐射定律推导一个线性系统，用于在给定表面绝对温度 $T_i$ 和表面发射率 $\\varepsilon_i$ 的情况下确定 $J_i$。然后，利用腔体角系数 $F_{ij}$ 和表面积 $A_i$ 计算离开每个表面的净辐射换热率 $q_i$。\n\n您的推导必须从以下基本和核心定义开始：\n- Stefan-Boltzmann 定律：表面 $i$ 的黑体发射功率为 $E_{b,i} = \\sigma T_i^4$，其中 $\\sigma$ 是 Stefan-Boltzmann 常数。\n- 对于不透明的漫灰体表面，根据 Kirchhoff 定律，发射率等于吸收率，且半球反射率为 $\\rho_i = 1 - \\varepsilon_i$。\n- 辐射度 $J_i$（单位面积上通过辐射离开表面 $i$ 的总能量，包括发射和反射分量）和辐照度 $G_i$（投射到表面 $i$ 上的总辐射能量）的定义。\n- 腔体的角系数属性：$F_{ij} \\ge 0$，对于每个 $i$ 都有 $\\sum_{j=1}^{3} F_{ij} = 1$，以及相互关系 $A_i F_{ij} = A_j F_{ji}$。\n\n任务：\n1. 通过将辐射度的守恒定义与漫灰体特性以及用角系数和辐射度表示的腔体辐照度相结合，推导辐射度 $J_1, J_2, J_3$ 的线性系统。该系统必须明确表示为 $\\sum_{j=1}^{3} M_{ij} J_j = b_i$ 的形式，其中 $M_{ij}$ 和 $b_i$ 用 $\\varepsilon_i$、$F_{ij}$ 和 $T_i$ 定义。\n2. 一旦 $J_i$ 已知，请按逻辑清晰的顺序描述如何计算 $q_i$。您的步骤必须从第一性原理开始，并以可执行的算法结束。\n\n腔体几何形状的数值数据：\n- 表面积：$A_1 = 2\\,\\mathrm{m}^2$, $A_2 = 3\\,\\mathrm{m}^2$, $A_3 = 5\\,\\mathrm{m}^2$。\n- 角系数矩阵 $F = [F_{ij}]$，其行和为 $1$ 且满足相互关系：\n  - 第 $1$ 行：$F_{11} = 0.1$, $F_{12} = 0.3$, $F_{13} = 0.6$。\n  - 第 $2$ 行：$F_{21} = 0.2$, $F_{22} = 0.3$, $F_{23} = 0.5$。\n  - 第 $3$ 行：$F_{31} = 0.24$, $F_{32} = 0.3$, $F_{33} = 0.46$。\n\n物理常数和单位：\n- 使用 $\\sigma = 5.670374419 \\times 10^{-8}\\,\\mathrm{W}\\,\\mathrm{m}^{-2}\\,\\mathrm{K}^{-4}$。\n- 温度必须以开尔文（$\\mathrm{K}$）为单位。\n- 换热率必须以瓦特（$\\mathrm{W}$）为单位报告。\n\n您将编写的程序必须实现您推导的线性和计算步骤，并为以下测试套件生成数值答案。对于每种情况，计算离开表面的净辐射换热率向量 $\\left[q_1, q_2, q_3\\right]$（单位为 $\\mathrm{W}$）。\n\n测试套件：\n- 情况 $1$（一般混合发射率和温度）：\n  - $\\varepsilon = [0.7, 0.9, 0.5]$, $T = [1000, 800, 600]\\,\\mathrm{K}$。\n- 情况 $2$（边界情况：等温的黑体腔）：\n  - $\\varepsilon = [1.0, 1.0, 1.0]$, $T = [800, 800, 800]\\,\\mathrm{K}$。\n- 情况 $3$（极端情况：两个近似镜面反射的低发射率表面，一个高发射率表面）：\n  - $\\varepsilon = [0.05, 0.05, 0.9]$, $T = [1200, 500, 500]\\,\\mathrm{K}$。\n\n输出规范：\n- 将每个 $q_i$ 以 $\\mathrm{W}$ 为单位表示，并四舍五入到六位小数。\n- 您的程序应生成单行输出，其中包含一个列表的列表形式的结果，每个内部列表是其中一种情况的三个换热率，顺序与测试套件相同。格式必须严格如下：\n  - $[[q_{1,1},q_{1,2},q_{1,3}],[q_{2,1},q_{2,2},q_{2,3}],[q_{3,1},q_{3,2},q_{3,3}]]$\n  其中 $q_{k,i}$ 表示情况 $k$ 中表面 $i$ 的换热率。\n\n注：\n- 假设所有表面都是不透明和等温的，只有腔体内的表面间辐射，并且没有参与介质。\n- 通过验证在每种情况下 $\\sum_{i=1}^{3} q_i$ 近似于 $0$（封闭腔内的能量守恒）来确保数值一致性，并承认微小的数值舍入误差。\n\n所有值均以瓦特（$\\mathrm{W}$）为单位作答，四舍五入到六位小数，并严格遵守要求的输出格式。", "solution": "问题陈述经检验在科学上是合理的、自洽的、一致的且提法得当。所提供的表面积和角系数数据正确满足了封闭腔的几何约束，特别是求和法则和相互关系法则。该问题是辐射传热原理的一个标准的、非平凡的应用。解决方案从第一性原理推导如下。\n\n分析对象是一个由三个表面组成的封闭腔体，所有表面均为不透明、等温的漫灰体发射体和反射体。\n\n**任务 1：辐射度线性系统的推导**\n\n推导过程是为每个表面 $i \\in \\{1, 2, 3\\}$ 的辐射度 $J_i$ 建立一个方程组。\n\n1.  **辐射度的定义**：辐射度（$J_i$，单位 $\\mathrm{W}\\,\\mathrm{m}^{-2}$）是单位面积上离开表面 $i$ 的总辐射能量。它是发射能量和反射能量之和：\n    $$J_i = E_i + \\rho_i G_i$$\n    其中 $E_i$ 是表面 $i$ 的发射功率，$\\rho_i$ 是其反射率，$G_i$ 是表面 $i$ 上的辐照度（单位面积上的入射能量）。对于灰体表面，发射功率为 $E_i = \\varepsilon_i E_{b,i}$，其中 $\\varepsilon_i$ 是发射率，$E_{b,i}$ 是由 Stefan-Boltzmann 定律给出的黑体发射功率：\n    $$E_{b,i} = \\sigma T_i^4$$\n    这里，$\\sigma$ 是 Stefan-Boltzmann 常数（$5.670374419 \\times 10^{-8}\\,\\mathrm{W}\\,\\mathrm{m}^{-2}\\,\\mathrm{K}^{-4}$），$T_i$ 是表面 $i$ 的绝对温度。\n\n2.  **表面特性**：对于不透明的漫灰体表面，Kirchhoff 热辐射定律指出吸收率 $\\alpha_i$ 等于发射率 $\\varepsilon_i$。由于表面不透明，其反射率、吸收率和透射率之和为 1，其中透射率为零。这得出 $\\rho_i + \\alpha_i = 1$，意味着：\n    $$\\rho_i = 1 - \\varepsilon_i$$\n    将这些关系代入辐射度的定义中，得到：\n    $$J_i = \\varepsilon_i E_{b,i} + (1 - \\varepsilon_i) G_i$$\n\n3.  **辐照度的定义**：表面 $i$ 上的辐照度 $G_i$ 是从腔体中所有表面（包括其自身）到达的辐射能量之和。对于一个有 $N=3$ 个表面的漫射腔体，离开表面 $j$ 的能量是 $A_j J_j$。这部分能量中到达表面 $i$ 的比例是角系数 $F_{ji}$。因此，投射到表面 $i$ 上的总能量是 $\\sum_{j=1}^{3} (A_j J_j) F_{ji}$。单位面积的辐照度因此是：\n    $$G_i = \\frac{1}{A_i} \\sum_{j=1}^{3} A_j F_{ji} J_j$$\n    利用角系数的相互关系 $A_j F_{ji} = A_i F_{ij}$，这可以简化为腔体分析的一个关键结果：\n    $$G_i = \\frac{1}{A_i} \\sum_{j=1}^{3} A_i F_{ij} J_j = \\sum_{j=1}^{3} F_{ij} J_j$$\n\n4.  **线性系统的构建**：为了建立一个关于辐射度 $J_j$ 的方程组，我们将 $G_i$ 的表达式代入辐射度方程中：\n    $$J_i = \\varepsilon_i E_{b,i} + (1 - \\varepsilon_i) \\sum_{j=1}^{3} F_{ij} J_j$$\n    这个方程对每个表面 $i = 1, 2, 3$ 都必须成立。为了构建一个形如 $\\sum_{j=1}^{3} M_{ij} J_j = b_i$ 的标准线性系统，我们将方程重新整理，把所有包含未知辐射度 $J_j$ 的项归到一边：\n    $$J_i - (1 - \\varepsilon_i) \\sum_{j=1}^{3} F_{ij} J_j = \\varepsilon_i E_{b,i}$$\n    这可以更正式地使用 Kronecker delta, $\\delta_{ij}$（其中 $\\delta_{ij} = 1$ 当 $i=j$ 时，否则为 $0$）来写出，注意到 $J_i = \\sum_{j=1}^{3} \\delta_{ij} J_j$：\n    $$\\sum_{j=1}^{3} \\delta_{ij} J_j - \\sum_{j=1}^{3} (1 - \\varepsilon_i) F_{ij} J_j = \\varepsilon_i E_{b,i}$$\n    合并求和项，得到线性系统的最终形式：\n    $$\\sum_{j=1}^{3} \\left[ \\delta_{ij} - (1 - \\varepsilon_i) F_{ij} \\right] J_j = \\varepsilon_i E_{b,i}$$\n    该系统形如 $\\mathbf{M}\\mathbf{J} = \\mathbf{b}$，其中 $\\mathbf{J}$ 是未知辐射度的向量 $[J_1, J_2, J_3]^T$。矩阵 $\\mathbf{M}$ 和向量 $\\mathbf{b}$ 的系数为：\n    $$M_{ij} = \\delta_{ij} - (1 - \\varepsilon_i) F_{ij}$$\n    $$b_i = \\varepsilon_i E_{b,i} = \\varepsilon_i \\sigma T_i^4$$\n    求解这个 $3 \\times 3$ 的线性系统即可得到所需的辐射度。\n\n**任务 2：净辐射换热率的计算**\n\n一旦辐射度已知，就可以计算离开每个表面的净辐射换热率 $q_i$（单位 $\\mathrm{W}$）。\n\n1.  **净换热率的定义**：离开表面 $i$ 的净换热率 $q_i$ 是离开表面的总能量（$A_i J_i$）与投射到其上的总能量（$A_i G_i$）之差：\n    $$q_i = A_i (J_i - G_i)$$\n\n2.  **计算公式的推导**：我们将辐照度表达式 $G_i = \\sum_{j=1}^{3} F_{ij} J_j$ 代入 $q_i$ 的定义中：\n    $$q_i = A_i \\left( J_i - \\sum_{j=1}^{3} F_{ij} J_j \\right)$$\n    对于封闭腔体，角系数的求和法则规定 $\\sum_{j=1}^{3} F_{ij} = 1$。这允许我们将 $J_i$ 表示为 $J_i \\times 1 = J_i \\sum_{j=1}^{3} F_{ij} = \\sum_{j=1}^{3} F_{ij} J_i$。将此代入 $q_i$ 的方程中：\n    $$q_i = A_i \\left( \\sum_{j=1}^{3} F_{ij} J_i - \\sum_{j=1}^{3} F_{ij} J_j \\right)$$\n    合并求和项，得到用于计算的最终表达式：\n    $$q_i = A_i \\sum_{j=1}^{3} F_{ij} (J_i - J_j)$$\n    这个公式是稳健的，并且对所有发射率值都有效，包括黑体（$\\varepsilon_i = 1$）的极限情况。另一种形式 $q_i = \\frac{A_i \\varepsilon_i}{1-\\varepsilon_i} (E_{b,i} - J_i)$ 对于黑体会变得不确定，因此不用于通用实现。\n\n**计算算法**\n\n对于给定的测试用例，解决该问题的总体过程是：\n1.  对于每个表面 $i$，计算黑体发射功率 $E_{b,i} = \\sigma T_i^4$。\n2.  使用推导出的系数 $M_{ij}$ 和 $b_i$ 构建 $3 \\times 3$ 矩阵 $\\mathbf{M}$ 和 $3 \\times 1$ 向量 $\\mathbf{b}$。\n3.  求解线性系统 $\\mathbf{M}\\mathbf{J} = \\mathbf{b}$，得到辐射度向量 $\\mathbf{J} = [J_1, J_2, J_3]^T$。\n4.  使用计算出的辐射度 $\\mathbf{J}$ 和公式 $q_i = A_i \\sum_{j=1}^{3} F_{ij} (J_i - J_j)$ 计算每个表面的净换热率 $q_i$。\n5.  验证 $\\sum_{i=1}^{3} q_i \\approx 0$，这因封闭系统中的能量守恒而必须成立。", "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves for the net radiative heat rates in a three-surface enclosure\n    for a given set of test cases.\n    \"\"\"\n\n    # Physical constants and geometry\n    SIGMA = 5.670374419e-8  # Stefan-Boltzmann constant, W m^-2 K^-4\n    AREAS = np.array([2.0, 3.0, 5.0])  # Surface areas A_i, m^2\n    F_MATRIX = np.array([\n        [0.1, 0.3, 0.6],\n        [0.2, 0.3, 0.5],\n        [0.24, 0.3, 0.46]\n    ])  # View factor matrix F_ij\n\n    # Test suite\n    test_cases = [\n        {\n            \"emissivity\": np.array([0.7, 0.9, 0.5]),\n            \"temperature\": np.array([1000.0, 800.0, 600.0])\n        },\n        {\n            \"emissivity\": np.array([1.0, 1.0, 1.0]),\n            \"temperature\": np.array([800.0, 800.0, 800.0])\n        },\n        {\n            \"emissivity\": np.array([0.05, 0.05, 0.9]),\n            \"temperature\": np.array([1200.0, 500.0, 500.0])\n        }\n    ]\n\n    all_results = []\n\n    for case in test_cases:\n        epsilons = case[\"emissivity\"]\n        temps = case[\"temperature\"]\n        \n        # 1. Calculate blackbody emissive powers (E_b,i = sigma * T_i^4)\n        e_b = SIGMA * (temps ** 4)\n\n        # 2. Construct the linear system MJ = b\n        # M_ij = delta_ij - (1 - epsilon_i) * F_ij\n        # b_i = epsilon_i * E_b,i\n        num_surfaces = 3\n        m_matrix = np.zeros((num_surfaces, num_surfaces))\n        b_vector = np.zeros(num_surfaces)\n\n        for i in range(num_surfaces):\n            b_vector[i] = epsilons[i] * e_b[i]\n            for j in range(num_surfaces):\n                delta_ij = 1.0 if i == j else 0.0\n                m_matrix[i, j] = delta_ij - (1.0 - epsilons[i]) * F_MATRIX[i, j]\n\n        # 3. Solve for radiosities J\n        radiosities = np.linalg.solve(m_matrix, b_vector)\n\n        # 4. Calculate net heat rates q_i\n        # q_i = A_i * sum_j(F_ij * (J_i - J_j))\n        # This can be computed as: q_i = A_i * (J_i * sum_j(F_ij) - sum_j(F_ij * J_j))\n        # Since sum_j(F_ij) = 1, this simplifies to: q_i = A_i * (J_i - sum_j(F_ij * J_j))\n        q_rates = np.zeros(num_surfaces)\n        for i in range(num_surfaces):\n            sum_fj = np.dot(F_MATRIX[i, :], radiosities)\n            q_rates[i] = AREAS[i] * (radiosities[i] - sum_fj)\n\n        # Store rounded results for the current case\n        rounded_q = [round(q, 6) for q in q_rates]\n        all_results.append(rounded_q)\n\n    # Format the final output string as specified\n    # Format: [[q11,q12,q13],[q21,q22,q23],[q31,q32,q33]]\n    output_parts = []\n    for result_list in all_results:\n        # Using f-string format specifier for consistent 6 decimal places\n        inner_str = ','.join([f\"{val:.6f}\" for val in result_list])\n        output_parts.append(f\"[{inner_str}]\")\n    \n    final_output = f\"[{','.join(output_parts)}]\"\n    print(final_output)\n\nsolve()\n```", "id": "2526903"}]}