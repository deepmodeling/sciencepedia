{"hands_on_practices": [{"introduction": "有限元方法的核心在于将单个单元的贡献组合成一个全局系统矩阵。本练习旨在通过从第一性原理出发，推导单元刚度矩阵 $k_e$ 并利用方向余弦将其从局部坐标系转换到全局坐标系，来巩固这一核心概念。通过为一个简单的桁架结构手动构建全局刚度矩阵 $\\mathbf{K}$，您将对这一在所有有限元分析软件中都至关重要的组装过程获得具体而深刻的理解 [@problem_id:2608503]。", "problem": "考虑一个使用有限元法 (FEM) 建模的平面铰接桁架。该结构有四个节点，每个节点有两个平移自由度。设全局自由度排序为\n$$[\\,u_{1x},\\,u_{1y},\\,u_{2x},\\,u_{2y},\\,u_{3x},\\,u_{3y},\\,u_{4x},\\,u_{4y}\\,]^{\\mathsf{T}}.$$\n节点坐标如下：\n- 节点 $1$：$(0,\\,0)$，\n- 节点 $2$：$(L,\\,0)$，\n- 节点 $3$：$(0,\\,L)$，\n- 节点 $4$：$(L,\\,L)$，\n其中 $L>0$ 是一个给定的长度标度。所有桁架构件具有相同的杨氏模量 $E>0$ 和横截面积 $A>0$。\n\n该结构由三个两节点桁架单元组成：\n- 单元 $1$：连接节点 $(1,\\,2)$，\n- 单元 $2$：连接节点 $(2,\\,4)$，\n- 单元 $3$：连接节点 $(1,\\,4)$。\n\n从基本原理（杆件轴向运动学、线弹性理论和虚功原理）出发，推导局部坐标系下的单元刚度及其通过方向余弦到全局笛卡尔坐标系的变换，然后通过叠加单元贡献，为给定的自由度排序组集全局刚度矩阵。你必须显式地构建组集后的 $8\\times 8$ 全局刚度矩阵。\n\n最后，计算组集后全局刚度矩阵的迹，并将最终结果表示为关于 $E$、$A$ 和 $L$ 的单一简化解析表达式。不要代入数值。不要包含单位。无需四舍五入。", "solution": "该问题已经过验证，被认为是科学上可靠、提法恰当、客观且自洽的。没有矛盾、歧义或缺失数据。此任务是结构分析中有限元法的一个标准练习。因此，我们可以着手求解。\n\n桁架结构全局刚度矩阵的推导分三个阶段进行：首先，推导单个单元在其自身局部坐标系中的刚度矩阵；其次，将该矩阵变换到全局坐标系；第三，将单元矩阵组集到全局系统矩阵中。\n\n**1. 局部坐标系中的单元刚度矩阵**\n\n考虑一个长度为 $L_e$、杨氏模量为 $E$、横截面积为 $A$ 的单个桁架单元。设局部坐标轴 $\\bar{x}$ 与单元对齐，从位于 $\\bar{x}=0$ 的节点1延伸到位于 $\\bar{x}=L_e$ 的节点2。节点处的轴向位移为 $\\bar{d}_1$ 和 $\\bar{d}_2$。沿单元的位移场 $\\bar{u}(\\bar{x})$ 使用线性形函数近似：\n$$\n\\bar{u}(\\bar{x}) = N_1(\\bar{x})\\bar{d}_1 + N_2(\\bar{x})\\bar{d}_2\n$$\n其中 $N_1(\\bar{x}) = 1 - \\frac{\\bar{x}}{L_e}$ 且 $N_2(\\bar{x}) = \\frac{\\bar{x}}{L_e}$。以矩阵形式表示为 $\\bar{u}(\\bar{x}) = \\mathbf{N}(\\bar{x})\\bar{\\mathbf{d}}$，其中 $\\mathbf{N} = \\begin{pmatrix} N_1 & N_2 \\end{pmatrix}$ 且 $\\bar{\\mathbf{d}} = \\begin{pmatrix} \\bar{d}_1 & \\bar{d}_2 \\end{pmatrix}^{\\mathsf{T}}$。\n\n轴向应变 $\\epsilon_{\\bar{x}}$ 是位移场对 $\\bar{x}$ 的导数：\n$$\n\\epsilon_{\\bar{x}} = \\frac{d\\bar{u}}{d\\bar{x}} = \\frac{d\\mathbf{N}}{d\\bar{x}}\\bar{\\mathbf{d}} = \\begin{pmatrix} -\\frac{1}{L_e} & \\frac{1}{L_e} \\end{pmatrix} \\bar{\\mathbf{d}} = \\mathbf{B}\\bar{\\mathbf{d}}\n$$\n其中 $\\mathbf{B}$ 是应变-位移矩阵。\n\n假设为线弹性，轴向应力 $\\sigma_{\\bar{x}}$ 通过胡克定律与应变相关：$\\sigma_{\\bar{x}} = E \\epsilon_{\\bar{x}} = E\\mathbf{B}\\bar{\\mathbf{d}}$。\n\n单元刚度矩阵 $\\bar{\\mathbf{k}}$ 是使用虚功原理推导出来的，该原理将内部虚功与外部虚功相等同。内部虚功 $\\delta W_{\\text{int}}$ 为：\n$$\n\\delta W_{\\text{int}} = \\int_{V} \\delta\\epsilon_{\\bar{x}}^{\\mathsf{T}} \\sigma_{\\bar{x}} dV = \\int_{0}^{L_e} (\\mathbf{B}\\delta\\bar{\\mathbf{d}})^{\\mathsf{T}} (E\\mathbf{B}\\bar{\\mathbf{d}}) A d\\bar{x} = \\delta\\bar{\\mathbf{d}}^{\\mathsf{T}} \\left( \\int_{0}^{L_e} \\mathbf{B}^{\\mathsf{T}} E \\mathbf{B} A d\\bar{x} \\right) \\bar{\\mathbf{d}}\n$$\n外部虚功为 $\\delta W_{\\text{ext}} = \\delta\\bar{\\mathbf{d}}^{\\mathsf{T}}\\bar{\\mathbf{f}}$，其中 $\\bar{\\mathbf{f}}$ 是节点力。从 $\\delta W_{\\text{int}} = \\delta W_{\\text{ext}}$，我们确定单元刚度矩阵 $\\bar{\\mathbf{k}}$ 为：\n$$\n\\bar{\\mathbf{k}} = \\int_{0}^{L_e} A E \\mathbf{B}^{\\mathsf{T}} \\mathbf{B} d\\bar{x}\n$$\n代入 $\\mathbf{B}$，我们得到：\n$$\n\\mathbf{B}^{\\mathsf{T}} \\mathbf{B} = \\begin{pmatrix} -1/L_e \\\\ 1/L_e \\end{pmatrix} \\begin{pmatrix} -1/L_e & 1/L_e \\end{pmatrix} = \\frac{1}{L_e^2} \\begin{pmatrix} 1 & -1 \\\\ -1 & 1 \\end{pmatrix}\n$$\n由于 $A$、$E$ 和 $\\mathbf{B}$ 在整个单元上是常数，积分简化为乘以 $L_e$：\n$$\n\\bar{\\mathbf{k}} = A E L_e \\left( \\frac{1}{L_e^2} \\begin{pmatrix} 1 & -1 \\\\ -1 & 1 \\end{pmatrix} \\right) = \\frac{AE}{L_e} \\begin{pmatrix} 1 & -1 \\\\ -1 & 1 \\end{pmatrix}\n$$\n这是桁架单元在局部一维坐标系中的 $2 \\times 2$ 刚度矩阵。\n\n**2. 变换到全局坐标系**\n\n对于一个二维桁架，每个节点有两个全局自由度 $(u_x, u_y)$。连接节点 $i$ 和 $j$ 的单元在全局坐标系中有一个 $4 \\times 4$ 的刚度矩阵 $\\mathbf{k}_e$。设单元轴与全局x轴形成一个角度 $\\theta$。方向余弦为 $c = \\cos\\theta = (x_j - x_i)/L_e$ 和 $s = \\sin\\theta = (y_j - y_i)/L_e$。局部轴向位移 $(\\bar{d}_i, \\bar{d}_j)$ 是全局位移 $(u_{ix}, u_{iy}, u_{jx}, u_{jy})$ 的投影：\n$$\n\\begin{pmatrix} \\bar{d}_i \\\\ \\bar{d}_j \\end{pmatrix} = \\begin{pmatrix} c & s & 0 & 0 \\\\ 0 & 0 & c & s \\end{pmatrix} \\begin{pmatrix} u_{ix} \\\\ u_{iy} \\\\ u_{jx} \\\\ u_{jy} \\end{pmatrix} \\quad \\text{或} \\quad \\bar{\\mathbf{d}} = \\mathbf{L}\\mathbf{d}\n$$\n全局刚度矩阵 $\\mathbf{k}_e$ 通过变换 $\\mathbf{k}_e = \\mathbf{L}^{\\mathsf{T}} \\bar{\\mathbf{k}} \\mathbf{L}$ 得到：\n$$\n\\mathbf{k}_e = \\mathbf{L}^{\\mathsf{T}} \\left( \\frac{AE}{L_e} \\begin{pmatrix} 1 & -1 \\\\ -1 & 1 \\end{pmatrix} \\right) \\mathbf{L} = \\frac{AE}{L_e} \\begin{pmatrix} c & 0 \\\\ s & 0 \\\\ 0 & c \\\\ 0 & s \\end{pmatrix} \\begin{pmatrix} 1 & -1 \\\\ -1 & 1 \\end{pmatrix} \\begin{pmatrix} c & s & 0 & 0 \\\\ 0 & 0 & c & s \\end{pmatrix}\n$$\n执行矩阵乘法得到：\n$$\n\\mathbf{k}_e = \\frac{AE}{L_e} \\begin{pmatrix} c^2 & cs & -c^2 & -cs \\\\ cs & s^2 & -cs & -s^2 \\\\ -c^2 & -cs & c^2 & cs \\\\ -cs & -s^2 & cs & s^2 \\end{pmatrix}\n$$\n\n**3. 给定结构的单元刚度矩阵**\n\n我们现在为三个单元中的每一个计算这个矩阵。令 $C = \\frac{AE}{L}$。\n- **单元1 (节点1到2):** 连接 $(0,0)$ 和 $(L,0)$。\n  $L_e^{(1)} = L$。方向余弦：$c = \\frac{L-0}{L} = 1$，$s = \\frac{0-0}{L} = 0$。\n  $$ \\mathbf{k}^{(1)} = \\frac{AE}{L} \\begin{pmatrix} 1 & 0 & -1 & 0 \\\\ 0 & 0 & 0 & 0 \\\\ -1 & 0 & 1 & 0 \\\\ 0 & 0 & 0 & 0 \\end{pmatrix} $$\n\n- **单元2 (节点2到4):** 连接 $(L,0)$ 和 $(L,L)$。\n  $L_e^{(2)} = L$。方向余弦：$c = \\frac{L-L}{L} = 0$，$s = \\frac{L-0}{L} = 1$。\n  $$ \\mathbf{k}^{(2)} = \\frac{AE}{L} \\begin{pmatrix} 0 & 0 & 0 & 0 \\\\ 0 & 1 & 0 & -1 \\\\ 0 & 0 & 0 & 0 \\\\ 0 & -1 & 0 & 1 \\end{pmatrix} $$\n\n- **单元3 (节点1到4):** 连接 $(0,0)$ 和 $(L,L)$。\n  $L_e^{(3)} = \\sqrt{L^2+L^2} = L\\sqrt{2}$。方向余弦：$c = \\frac{L}{L\\sqrt{2}} = \\frac{1}{\\sqrt{2}}$，$s = \\frac{L}{L\\sqrt{2}} = \\frac{1}{\\sqrt{2}}$。\n  $c^2 = \\frac{1}{2}$，$s^2 = \\frac{1}{2}$，$cs = \\frac{1}{2}$。\n  $$ \\mathbf{k}^{(3)} = \\frac{AE}{L\\sqrt{2}} \\begin{pmatrix} 1/2 & 1/2 & -1/2 & -1/2 \\\\ 1/2 & 1/2 & -1/2 & -1/2 \\\\ -1/2 & -1/2 & 1/2 & 1/2 \\\\ -1/2 & -1/2 & 1/2 & 1/2 \\end{pmatrix} = \\frac{AE}{2L\\sqrt{2}} \\begin{pmatrix} 1 & 1 & -1 & -1 \\\\ 1 & 1 & -1 & -1 \\\\ -1 & -1 & 1 & 1 \\\\ -1 & -1 & 1 & 1 \\end{pmatrix} $$\n\n**4. 全局刚度矩阵的组集**\n\n全局刚度矩阵 $\\mathbf{K}$ 是一个 $8 \\times 8$ 的矩阵，对应于自由度 $[u_{1x}, u_{1y}, u_{2x}, u_{2y}, u_{3x}, u_{3y}, u_{4x}, u_{4y}]^{\\mathsf{T}}$。单元矩阵通过叠加进行组集。节点的自由度索引为：节点 $1 \\to (1,2)$，节点 $2 \\to (3,4)$，节点 $3 \\to (5,6)$，节点 $4 \\to (7,8)$。节点 $3$ 未连接任何单元，因此 $\\mathbf{K}$ 的第5行和第6行以及第5列和第6列将为零。\n令 $\\alpha = \\frac{1}{2\\sqrt{2}}$。组集后的全局刚度矩阵 $\\mathbf{K}$ 为：\n$$\n\\mathbf{K} = \\frac{AE}{L} \\begin{pmatrix}\n1+\\alpha & \\alpha & -1 & 0 & 0 & 0 & -\\alpha & -\\alpha \\\\\n\\alpha & \\alpha & 0 & 0 & 0 & 0 & -\\alpha & -\\alpha \\\\\n-1 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 1 & 0 & 0 & 0 & -1 \\\\\n0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\\\\n-\\alpha & -\\alpha & 0 & 0 & 0 & 0 & \\alpha & \\alpha \\\\\n-\\alpha & -\\alpha & 0 & -1 & 0 & 0 & \\alpha & 1+\\alpha\n\\end{pmatrix}\n$$\n\n**5. 全局刚度矩阵的迹**\n\n矩阵的迹是其对角线元素之和，$\\text{Tr}(\\mathbf{K}) = \\sum_{i=1}^{8} K_{ii}$。\n从组集后的矩阵 $\\mathbf{K}$：\n$$\n\\text{Tr}(\\mathbf{K}) = K_{11} + K_{22} + K_{33} + K_{44} + K_{55} + K_{66} + K_{77} + K_{88}\n$$\n对角线元素为：\n$K_{11} = \\frac{AE}{L}(1+\\alpha) = \\frac{AE}{L}(1+\\frac{1}{2\\sqrt{2}})$\n$K_{22} = \\frac{AE}{L}(\\alpha) = \\frac{AE}{L}(\\frac{1}{2\\sqrt{2}})$\n$K_{33} = \\frac{AE}{L}(1)$\n$K_{44} = \\frac{AE}{L}(1)$\n$K_{55} = 0$\n$K_{66} = 0$\n$K_{77} = \\frac{AE}{L}(\\alpha) = \\frac{AE}{L}(\\frac{1}{2\\sqrt{2}})$\n$K_{88} = \\frac{AE}{L}(1+\\alpha) = \\frac{AE}{L}(1+\\frac{1}{2\\sqrt{2}})$\n\n将这些值相加：\n$$\n\\text{Tr}(\\mathbf{K}) = \\frac{AE}{L} \\left[ \\left(1+\\frac{1}{2\\sqrt{2}}\\right) + \\frac{1}{2\\sqrt{2}} + 1 + 1 + 0 + 0 + \\frac{1}{2\\sqrt{2}} + \\left(1+\\frac{1}{2\\sqrt{2}}\\right) \\right]\n$$\n$$\n\\text{Tr}(\\mathbf{K}) = \\frac{AE}{L} \\left[ (1+1+1+1) + 4\\left(\\frac{1}{2\\sqrt{2}}\\right) \\right]\n$$\n$$\n\\text{Tr}(\\mathbf{K}) = \\frac{AE}{L} \\left[ 4 + \\frac{2}{\\sqrt{2}} \\right]\n$$\n由于 $\\frac{2}{\\sqrt{2}} = \\sqrt{2}$，表达式简化为：\n$$\n\\text{Tr}(\\mathbf{K}) = \\frac{AE}{L} (4 + \\sqrt{2})\n$$\n这个结果可以通过注意到全局刚度矩阵的迹是各单元刚度矩阵迹的和来验证，其中 $\\text{Tr}(\\mathbf{k}_e) = \\frac{2AE}{L_e}$。\n$\\text{Tr}(\\mathbf{K}) = \\frac{2AE}{L_e^{(1)}} + \\frac{2AE}{L_e^{(2)}} + \\frac{2AE}{L_e^{(3)}} = \\frac{2AE}{L} + \\frac{2AE}{L} + \\frac{2AE}{L\\sqrt{2}} = \\frac{AE}{L}(4 + \\frac{2}{\\sqrt{2}}) = \\frac{AE}{L}(4 + \\sqrt{2})$。结果是一致的。", "answer": "$$\n\\boxed{\\frac{AE}{L}(4 + \\sqrt{2})}\n$$", "id": "2608503"}, {"introduction": "仅仅组装刚度矩阵还不够，完整的结构分析还需要施加荷载和边界条件，以求解位移和反力。本练习将完整的有限元工作流程应用于一个实际场景，从矩阵组装到求解缩减后的系统方程 $\\mathbf{K}\\mathbf{u} = \\mathbf{F}$，并最终计算支座反力。完成此问题将巩固您从头到尾分析一个结构的能力，并通过平衡校核来验证解的物理一致性，这是任何结构工程师都需具备的关键技能 [@problem_id:2608597]。", "problem": "一个平面铰接桁架将使用有限元法 (FEM) 进行分析，分析基于线性弹性、小位移以及杆件只受轴向力的假设。桁架有三个节点，坐标分别为 $N_{1}:(0,0)\\,\\mathrm{m}$，$N_{2}:(2,0)\\,\\mathrm{m}$ 和 $N_{3}:(2,2)\\,\\mathrm{m}$。三个直杆桁架构件连接节点对 $(1,2)$、$(2,3)$ 和 $(1,3)$。所有杆件具有相同的杨氏模量 $E = 200\\,\\mathrm{GPa}$ 和横截面积 $A = 5.0\\times 10^{-6}\\,\\mathrm{m}^{2}$。支承条件为 $u_{1x}=0$、$u_{1y}=0$ 和 $u_{2y}=0$；所有其他节点位移分量均为未知。作用在节点3上的外部节点荷载为 $F_{3x} = +10\\,\\mathrm{kN}$ 和 $F_{3y} = -20\\,\\mathrm{kN}$；所有其他施加的节点荷载均为零。\n\n从轴向杆的应变能和虚功原理出发，利用方向余弦构建每个单元在全局笛卡尔坐标系下的刚度，组装全局刚度矩阵，施加本质边界条件，并求解未知节点位移。然后，利用完全组装好的全局系统，计算支座处的支反力，并通过检查 $x$ 和 $y$ 方向的合力以及绕节点1的力矩来验证全局平衡。\n\n节点2处的竖向支反力是多少（以 $\\mathrm{kN}$ 为单位）？将您的答案四舍五入到四位有效数字，并以 $\\mathrm{kN}$ 为单位报告一个实数。", "solution": "所给问题是有限元法在结构力学应用中的一个标准练习。首先，确定问题陈述的有效性。\n\n已知条件如下：\n节点：$N_{1}:(0,0)\\,\\mathrm{m}$，$N_{2}:(2,0)\\,\\mathrm{m}$ 和 $N_{3}:(2,2)\\,\\mathrm{m}$。\n单元：$(1,2)$, $(2,3)$, $(1,3)$。\n属性：杨氏模量 $E = 200\\,\\mathrm{GPa} = 2 \\times 10^{11}\\,\\mathrm{Pa}$，横截面积 $A = 5.0\\times 10^{-6}\\,\\mathrm{m}^{2}$。\n这得到恒定的轴向刚度 $EA = (2 \\times 10^{11}\\,\\mathrm{Pa}) \\cdot (5.0\\times 10^{-6}\\,\\mathrm{m}^{2}) = 10^{6}\\,\\mathrm{N}$。\n边界条件（位移）：$u_{1x}=0$, $u_{1y}=0$, $u_{2y}=0$。\n外部荷载：$F_{3x} = +10\\,\\mathrm{kN} = 10^{4}\\,\\mathrm{N}$，$F_{3y} = -20\\,\\mathrm{kN} = -2 \\times 10^{4}\\,\\mathrm{N}$。\n\n该问题具有科学依据、是适定的且客观的。它为线性弹性分析提供了一套完整且一致的数据。它没有违反任何物理定律或数学原理。因此，该问题是有效的，我们继续进行求解。\n\n求解过程遵循虚功原理，该原理将内虚功（应变能的变化量，$\\delta U$）与外虚功 ($\\delta W_{ext}$) 相等同。对于一个离散系统，这导出了矩阵方程 $\\mathbf{K}\\mathbf{u} = \\mathbf{F}$，其中 $\\mathbf{K}$ 是全局刚度矩阵，$\\mathbf{u}$ 是节点位移向量，$\\mathbf{F}$ 是节点力向量。\n\n全局坐标系中的单元刚度矩阵 $\\mathbf{k}^{(e)}$ 是从杆单元的应变能 $U$ 推导出来的。在局部坐标系（沿杆的轴线）中，应变能为 $U = \\frac{1}{2} \\frac{E^{(e)}A^{(e)}}{L^{(e)}} (\\Delta L)^2$，其中 $\\Delta L$ 是轴向伸长量。用节点位移表示此式，并利用方向余弦从局部坐标系转换到全局坐标系，即可得到连接节点 $i$ 和 $j$ 的二维桁架单元的标准 $4 \\times 4$ 单元刚度矩阵：\n$$ \\mathbf{k}^{(e)} = \\frac{E^{(e)}A^{(e)}}{L^{(e)}} \\begin{pmatrix} c_x^2 & c_x c_y & -c_x^2 & -c_x c_y \\\\ c_x c_y & c_y^2 & -c_x c_y & -c_y^2 \\\\ -c_x^2 & -c_x c_y & c_x^2 & c_x c_y \\\\ -c_x c_y & -c_y^2 & c_x c_y & c_y^2 \\end{pmatrix} $$\n其中 $c_x = \\frac{x_j - x_i}{L^{(e)}}$ 和 $c_y = \\frac{y_j - y_i}{L^{(e)}}$ 是方向余弦，$L^{(e)}$ 是单元长度。\n\n我们计算三个单元中每一个的属性和刚度矩阵。\n\n单元1 (节点 1-2):\n$L^{(1)} = \\sqrt{(2-0)^2 + (0-0)^2} = 2\\,\\mathrm{m}$。\n$c_x = \\frac{2-0}{2} = 1$, $c_y = \\frac{0-0}{2} = 0$。\n$\\frac{EA}{L^{(1)}} = \\frac{10^{6}\\,\\mathrm{N}}{2\\,\\mathrm{m}} = 5 \\times 10^{5}\\,\\mathrm{N/m}$。\n$$ \\mathbf{k}^{(1)} = (5 \\times 10^{5}) \\begin{pmatrix} 1 & 0 & -1 & 0 \\\\ 0 & 0 & 0 & 0 \\\\ -1 & 0 & 1 & 0 \\\\ 0 & 0 & 0 & 0 \\end{pmatrix} $$\n\n单元2 (节点 2-3):\n$L^{(2)} = \\sqrt{(2-2)^2 + (2-0)^2} = 2\\,\\mathrm{m}$。\n$c_x = \\frac{2-2}{2} = 0$, $c_y = \\frac{2-0}{2} = 1$。\n$\\frac{EA}{L^{(2)}} = \\frac{10^{6}\\,\\mathrm{N}}{2\\,\\mathrm{m}} = 5 \\times 10^{5}\\,\\mathrm{N/m}$。\n$$ \\mathbf{k}^{(2)} = (5 \\times 10^{5}) \\begin{pmatrix} 0 & 0 & 0 & 0 \\\\ 0 & 1 & 0 & -1 \\\\ 0 & 0 & 0 & 0 \\\\ 0 & -1 & 0 & 1 \\end{pmatrix} $$\n\n单元3 (节点 1-3):\n$L^{(3)} = \\sqrt{(2-0)^2 + (2-0)^2} = \\sqrt{8} = 2\\sqrt{2}\\,\\mathrm{m}$。\n$c_x = \\frac{2-0}{2\\sqrt{2}} = \\frac{1}{\\sqrt{2}}$, $c_y = \\frac{2-0}{2\\sqrt{2}} = \\frac{1}{\\sqrt{2}}$。\n$\\frac{EA}{L^{(3)}} = \\frac{10^{6}\\,\\mathrm{N}}{2\\sqrt{2}\\,\\mathrm{m}} = \\frac{5 \\times 10^{5}}{\\sqrt{2}}\\,\\mathrm{N/m}$。\n对于此单元，$c_x^2=c_y^2=c_x c_y = 1/2$。\n$$ \\mathbf{k}^{(3)} = \\frac{5 \\times 10^{5}}{\\sqrt{2}} \\begin{pmatrix} 1/2 & 1/2 & -1/2 & -1/2 \\\\ 1/2 & 1/2 & -1/2 & -1/2 \\\\ -1/2 & -1/2 & 1/2 & 1/2 \\\\ -1/2 & -1/2 & 1/2 & 1/2 \\end{pmatrix} = \\frac{2.5 \\times 10^{5}}{\\sqrt{2}} \\begin{pmatrix} 1 & 1 & -1 & -1 \\\\ 1 & 1 & -1 & -1 \\\\ -1 & -1 & 1 & 1 \\\\ -1 & -1 & 1 & 1 \\end{pmatrix} $$\n\n全局自由度 (DOF) 为 $(u_{1x}, u_{1y}, u_{2x}, u_{2y}, u_{3x}, u_{3y})$，编号从1到6。我们通过将每个单元刚度矩阵的贡献相加来组装 $6 \\times 6$ 的全局刚度矩阵 $\\mathbf{K}$。令 $C = 10^{5}\\,\\mathrm{N/m}$ 且 $\\beta = \\frac{2.5}{\\sqrt{2}}$。\n$$ \\mathbf{K} = C \\begin{pmatrix}\n5+\\beta & \\beta & -5 & 0 & -\\beta & -\\beta \\\\\n\\beta & \\beta & 0 & 0 & -\\beta & -\\beta \\\\\n-5 & 0 & 5 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 5 & 0 & -5 \\\\\n-\\beta & -\\beta & 0 & 0 & \\beta & \\beta \\\\\n-\\beta & -\\beta & 0 & -5 & \\beta & 5+\\beta\n\\end{pmatrix} $$\n\n全局系统为 $\\mathbf{K}\\mathbf{u} = \\mathbf{F}$。指定的边界条件是 $u_1=u_{1x}=0$，$u_2=u_{1y}=0$ 和 $u_4=u_{2y}=0$。未知位移是 $u_3=u_{2x}$，$u_5=u_{3x}$ 和 $u_6=u_{3y}$。与这些未知位移相对应的施加力为 $F_3=0$，$F_5=10^{4}\\,\\mathrm{N}$ 和 $F_6=-2 \\times 10^{4}\\,\\mathrm{N}$。我们提取未知自由度（第3、5、6行）的方程子系统：\n$$ \\begin{pmatrix} K_{33} & K_{35} & K_{36} \\\\ K_{53} & K_{55} & K_{56} \\\\ K_{63} & K_{65} & K_{66} \\end{pmatrix} \\begin{pmatrix} u_3 \\\\ u_5 \\\\ u_6 \\end{pmatrix} = \\begin{pmatrix} F_3 \\\\ F_5 \\\\ F_6 \\end{pmatrix} $$\n代入 $\\mathbf{K}$ 中的值：\n$$ C \\begin{pmatrix} 5 & 0 & 0 \\\\ 0 & \\beta & \\beta \\\\ 0 & \\beta & 5+\\beta \\end{pmatrix} \\begin{pmatrix} u_{2x} \\\\ u_{3x} \\\\ u_{3y} \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 10^{4} \\\\ -2 \\times 10^{4} \\end{pmatrix} $$\n\n求解该方程组：\n由第一个方程：$5C u_{2x} = 0 \\implies u_{2x} = 0\\,\\mathrm{m}$。\n第二和第三个方程是：\n$C\\beta(u_{3x} + u_{3y}) = 10^{4}$\n$C(\\beta u_{3x} + (5+\\beta)u_{3y}) = -2 \\times 10^{4}$\n将这两个方程中的第一个从第二个中减去，得到：\n$C(5u_{3y}) = -3 \\times 10^{4} \\implies u_{3y} = \\frac{-3 \\times 10^{4}}{5C} = \\frac{-3 \\times 10^{4}}{5 \\times 10^{5}} = -0.06\\,\\mathrm{m}$。\n将 $u_{3y}$ 代回：$C\\beta(u_{3x} - 0.06) = 10^4 \\implies u_{3x} = 0.06 + \\frac{10^4}{C\\beta} = 0.06 + \\frac{10^4}{10^5 \\cdot (2.5/\\sqrt{2})} = 0.06 + 0.04\\sqrt{2}\\,\\mathrm{m}$。\n\n问题要求解节点2处的竖向支反力，即 $R_{2y} = F_4$。支反力可以从 $\\mathbf{K}\\mathbf{u}$ 中与约束自由度相对应的行求得。\n$R_{2y} = K_{41}u_1 + K_{42}u_2 + K_{43}u_3 + K_{44}u_4 + K_{45}u_5 + K_{46}u_6$。\n由于 $u_1=u_2=u_4=0$ 且 $u_3=0$，此式简化为：\n$R_{2y} = K_{45}u_5 + K_{46}u_6 = K_{45}u_{3x} + K_{46}u_{3y}$。\n从全局矩阵 $\\mathbf{K}$ 可知，$K_{45}=0$ 且 $K_{46}=-5C = -5 \\times 10^{5}\\,\\mathrm{N/m}$。\n因此：\n$R_{2y} = (0)u_{3x} + (-5 \\times 10^{5}\\,\\mathrm{N/m})(u_{3y}) = (-5 \\times 10^{5})(-0.06) = 30000\\,\\mathrm{N} = 30\\,\\mathrm{kN}$。\n\n为验证此结果，我们检查全局平衡。我们计算其他支反力 $R_{1x}$ 和 $R_{1y}$。\n$R_{1x} = K_{15}u_{3x} + K_{16}u_{3y} = -\\beta C(u_{3x} + u_{3y}) = -\\beta C(0.06 + 0.04\\sqrt{2} - 0.06) = -\\beta C(0.04\\sqrt{2})$。\n$R_{1x} = -(\\frac{2.5 \\times 10^5}{\\sqrt{2}})(0.04\\sqrt{2}) = -(2.5 \\times 10^5)(0.04) = -10000\\,\\mathrm{N} = -10\\,\\mathrm{kN}$。\n$R_{1y} = K_{25}u_{3x} + K_{26}u_{3y} = -\\beta C(u_{3x} + u_{3y}) = -10\\,\\mathrm{kN}$。\n\n平衡验证：\nx方向合力： $\\sum F_x = R_{1x} + F_{3x} = -10\\,\\mathrm{kN} + 10\\,\\mathrm{kN} = 0$。正确。\ny方向合力： $\\sum F_y = R_{1y} + R_{2y} + F_{3y} = -10\\,\\mathrm{kN} + 30\\,\\mathrm{kN} + (-20\\,\\mathrm{kN}) = 0$。正确。\n绕节点1的力矩和： $\\sum M_{N1} = (F_{3y} \\cdot x_3 - F_{3x} \\cdot y_3) + (R_{2y} \\cdot x_2) = ((-20\\,\\mathrm{kN})\\cdot(2\\,\\mathrm{m}) - (10\\,\\mathrm{kN})\\cdot(2\\,\\mathrm{m})) + ((30\\,\\mathrm{kN})\\cdot(2\\,\\mathrm{m})) = (-40 - 20) + 60 = 0\\,\\mathrm{kN \\cdot m}$。正确。\n\n计算结果一致，并通过静力学得到验证。节点2处的竖向支反力为 $30\\,\\mathrm{kN}$。问题要求将此值四舍五入到四位有效数字。", "answer": "$$ \\boxed{30.00} $$", "id": "2608597"}, {"introduction": "在有限元分析软件的实际应用中，一些细微的用户失误（例如单位不一致）可能导致结果出现巨大偏差。本练习通过分析杨氏模量 $E$、面积 $A$ 和长度 $L$ 的输入单位不一致性，如何影响刚度计算（$k = EA/L$）及最终的位移预测，来探讨误差的传播。通过量化这个假设性但常见的错误所带来的影响，您将深刻认识到单位一致性的重要性，并学会建立系统性的检查流程以确保计算模型的可靠性 [@problem_id:2608550]。", "problem": "在三维空间中，一个两节点桁架单元连接着坐标为 $(0,0,0)$ 的节点 $1$ 和坐标为 $(L,0,0)$ 的节点 $2$。一个轴向载荷 $F$ 沿单元轴线施加在节点 $2$ 上，节点 $1$ 完全固定。其物理（真实）属性为：杨氏模量 $E_{\\mathrm{true}}=210\\,\\mathrm{GPa}$，横截面积 $A_{\\mathrm{true}}=1250\\,\\mathrm{mm}^{2}$，以及长度 $L_{\\mathrm{true}}=2.5\\,\\mathrm{m}$。所有节点力均统一以 $\\mathrm{N}$（牛顿）为单位输入。\n\n有限元求解器期望所有输入均采用国际单位制 (SI)：$E$ 的单位为 $\\mathrm{Pa}$，$A$ 的单位为 $\\mathrm{m}^{2}$，坐标单位为 $\\mathrm{m}$，力的单位为 $\\mathrm{N}$。然而，一位用户无意中提供了以下不一致的输入，而求解器仍然将这些输入解释为国际单位制：\n- $E_{\\mathrm{in}}=210$（用户以为是 $210\\,\\mathrm{GPa}$，但求解器读作 $210\\,\\mathrm{Pa}$），\n- $A_{\\mathrm{in}}=1250$（用户以为是 $1250\\,\\mathrm{mm}^{2}$，但求解器读作 $1250\\,\\mathrm{m}^{2}$），\n- 节点 $2$ 的坐标为 $(2500,0,0)$（用户以为是 $2500\\,\\mathrm{mm}$，但求解器读作 $2500\\,\\mathrm{m}$），\n- 轴向力 $F$ 的单位 $\\mathrm{N}$ 输入正确。\n\n请从第一性原理（应变能、Hooke 定律和轴向应变的定义）出发，推导桁架单元的轴向刚度，论证其物理单位，并以此量化上述单位不一致性对计算出的节点 $2$ 轴向位移的影响。通过 $u_{\\mathrm{wrong}}=S_{u}\\,u_{\\mathrm{true}}$ 定义乘法误差因子 $S_{u}$，其中 $u_{\\mathrm{true}}$ 是在一致的国际单位制输入下物理上正确的位移，而 $u_{\\mathrm{wrong}}$ 是由上述不一致输入产生的位移。然后，基于你的推导，阐明一个有原则的单位检查程序，该程序本可以在运行分析之前检测到这种不一致性。\n\n$S_{u}$ 的数值是多少？用科学记数法表示你的答案，并保留三位有效数字。答案中不要包含单位。", "solution": "在尝试任何解答之前，对问题陈述进行验证。\n\n步骤 1：提取已知条件\n提供了以下数据：\n- 节点 1 位置：$(0,0,0)$。\n- 节点 2 位置（真实）：$(L,0,0)$。\n- 节点 1 边界条件：完全固定。\n- 载荷：施加于节点 $2$ 的轴向载荷 $F$。\n- 真实杨氏模量：$E_{\\mathrm{true}}=210\\,\\mathrm{GPa}$。\n- 真实横截面积：$A_{\\mathrm{true}}=1250\\,\\mathrm{mm}^{2}$。\n- 真实长度：$L_{\\mathrm{true}}=2.5\\,\\mathrm{m}$。\n- 杨氏模量的不一致用户输入：$E_{\\mathrm{in}}=210$。求解器将其解释为 $210\\,\\mathrm{Pa}$。\n- 面积的不一致用户输入：$A_{\\mathrm{in}}=1250$。求解器将其解释为 $1250\\,\\mathrm{m}^{2}$。\n- 节点 2 坐标的不一致用户输入：$(2500,0,0)$。求解器将其解释为 $(2500\\,\\mathrm{m}, 0\\,\\mathrm{m}, 0\\,\\mathrm{m})$。\n- 轴向力 $F$ 以 $\\mathrm{N}$ 为单位正确输入。\n- 误差因子定义为 $S_{u} = \\frac{u_{\\mathrm{wrong}}}{u_{\\mathrm{true}}}$，其中 $u_{\\mathrm{true}}$ 是正确的位移，而 $u_{\\mathrm{wrong}}$ 是使用不一致输入计算出的位移。\n\n步骤 2：使用提取的已知条件进行验证\n该问题在科学上基于固体力学和有限元法的原理。它提出了一个现实情景，即用户在单位处理方面的错误导致了不正确的计算结果。该问题是自洽的，提供了计算所要求的误差因子所需的所有必要数据。定义清晰，没有内部矛盾。任务是适定的，能够得到误差因子 $S_u$ 的唯一解。该问题并非无足轻重，因为它需要系统地分析一个物理公式中的多个并发错误如何传播到最终结果中。\n\n步骤 3：结论与行动\n问题有效。将构建解答。\n\n第一个任务是从第一性原理出发推导桁架单元的轴向刚度。储存在可变形体中的应变能 $U$ 由应变能密度对其体积 $V$ 的积分给出：\n$$U = \\int_V \\frac{1}{2} \\sigma \\epsilon \\, dV$$\n其中 $\\sigma$ 是应力，$\\epsilon$ 是应变。对于一个长度为 $L$、横截面积为 $A$ 且承受均匀轴向载荷的简单桁架单元，其应力和应变在整个体积内是恒定的。因此，积分简化为：\n$$U = \\frac{1}{2} \\sigma \\epsilon (AL)$$\n根据线性弹性材料的 Hooke 定律，应力与应变成正比：$\\sigma = E \\epsilon$，其中 $E$ 是杨氏模量。将此代入能量表达式，得到：\n$$U = \\frac{1}{2} (E \\epsilon) \\epsilon (AL) = \\frac{1}{2} E A L \\epsilon^2$$\n轴向应变 $\\epsilon$ 定义为长度变化量（即自由端的轴向位移 $u$）除以原始长度 $L$：$\\epsilon = \\frac{u}{L}$。将此代入应变能表达式，得到：\n$$U = \\frac{1}{2} E A L \\left(\\frac{u}{L}\\right)^2 = \\frac{1}{2} \\frac{EA}{L} u^2$$\n引起位移 $u$ 的外加轴向力 $F$ 所做的功为 $W = \\frac{1}{2}F u$。根据能量守恒原理，对系统所做的功被储存为应变能，因此 $W=U$：\n$$\\frac{1}{2} F u = \\frac{1}{2} \\frac{EA}{L} u^2$$\n对于非零位移 $u$，我们可以两边同除以 $\\frac{1}{2}u$ 来获得力-位移关系：\n$$F = \\left(\\frac{EA}{L}\\right) u$$\n这是 $F = k u$ 的形式，其中 $k$ 是单元的轴向刚度。因此，轴向刚度为：\n$$k = \\frac{EA}{L}$$\n刚度的物理单位可从此表达式推导。在国际单位制 (SI) 中，$[E] = \\mathrm{Pa} = \\mathrm{N}/\\mathrm{m}^2$，$[A] = \\mathrm{m}^2$，$[L] = \\mathrm{m}$。因此，$k$ 的单位是：\n$$[k] = \\frac{[\\mathrm{N}/\\mathrm{m}^2][\\mathrm{m}^2]}{[\\mathrm{m}]} = \\frac{\\mathrm{N}}{\\mathrm{m}}$$\n这表示单位位移所需的力，这在物理上是正确的。\n\n接下来，我们量化单位不一致性的影响。轴向位移 $u$ 可以通过重新整理刚度关系得到：$u = \\frac{F}{k} = \\frac{FL}{EA}$。\n\n首先，我们对所有量使用一致的国际单位制来计算物理上正确的位移 $u_{\\mathrm{true}}$。\n真实属性为：\n$E_{\\mathrm{true}} = 210\\,\\mathrm{GPa} = 210 \\times 10^9\\,\\mathrm{Pa}$\n$A_{\\mathrm{true}} = 1250\\,\\mathrm{mm}^2 = 1250 \\times (10^{-3}\\,\\mathrm{m})^2 = 1250 \\times 10^{-6}\\,\\mathrm{m}^2 = 1.25 \\times 10^{-3}\\,\\mathrm{m}^2$\n$L_{\\mathrm{true}} = 2.5\\,\\mathrm{m}$\n正确的位移是：\n$$u_{\\mathrm{true}} = \\frac{F L_{\\mathrm{true}}}{E_{\\mathrm{true}} A_{\\mathrm{true}}}$$\n\n接下来，我们根据用户的错误输入计算求解器算出的位移 $u_{\\mathrm{wrong}}$，求解器将这些输入解释为国际单位制基本单位。\n求解器读取的输入属性为：\n$E_{\\mathrm{in}} = 210\\,\\mathrm{Pa}$\n$A_{\\mathrm{in}} = 1250\\,\\mathrm{m}^2$\n长度 $L_{\\mathrm{in}}$ 是根据节点 $1$ 坐标 $(0,0,0)$ 和节点 $2$ 坐标 $(2500,0,0)$ 计算得出的：\n$L_{\\mathrm{in}} = \\sqrt{(2500-0)^2 + (0-0)^2 + (0-0)^2} = 2500\\,\\mathrm{m}$\n不正确的位移是：\n$$u_{\\mathrm{wrong}} = \\frac{F L_{\\mathrm{in}}}{E_{\\mathrm{in}} A_{\\mathrm{in}}}$$\n\n乘法误差因子 $S_u$ 是错误位移与真实位移的比值：\n$$S_u = \\frac{u_{\\mathrm{wrong}}}{u_{\\mathrm{true}}} = \\frac{\\frac{F L_{\\mathrm{in}}}{E_{\\mathrm{in}} A_{\\mathrm{in}}}}{\\frac{F L_{\\mathrm{true}}}{E_{\\mathrm{true}} A_{\\mathrm{true}}}}$$\n力 $F$ 被消去，剩下：\n$$S_u = \\left(\\frac{L_{\\mathrm{in}}}{L_{\\mathrm{true}}}\\right) \\left(\\frac{E_{\\mathrm{true}}}{E_{\\mathrm{in}}}\\right) \\left(\\frac{A_{\\mathrm{true}}}{A_{\\mathrm{in}}}\\right)$$\n我们现在代入每个比率的数值：\n长度之比为：\n$$\\frac{L_{\\mathrm{in}}}{L_{\\mathrm{true}}} = \\frac{2500\\,\\mathrm{m}}{2.5\\,\\mathrm{m}} = 1000 = 10^3$$\n杨氏模量之比为：\n$$\\frac{E_{\\mathrm{true}}}{E_{\\mathrm{in}}} = \\frac{210 \\times 10^9\\,\\mathrm{Pa}}{210\\,\\mathrm{Pa}} = 10^9$$\n横截面积之比为：\n$$\\frac{A_{\\mathrm{true}}}{A_{\\mathrm{in}}} = \\frac{1.25 \\times 10^{-3}\\,\\mathrm{m}^2}{1250\\,\\mathrm{m}^2} = \\frac{1.25 \\times 10^{-3}}{1.25 \\times 10^3} = 10^{-6}$$\n将这些因子相乘，得到总误差因子：\n$$S_u = (10^3) \\times (10^9) \\times (10^{-6}) = 10^{3+9-6} = 10^6$$\n用科学记数法表示并保留三位有效数字，结果是 $1.00 \\times 10^6$。\n\n最后，必须阐明一个有原则的单位检查程序。这样的程序必须能防止求解器使用因单位混淆而导致的物理上无意义的数据进行计算。一个稳健的系统将基于两个主要原则：显式单位处理和自动化合理性检查。\n1.  **显式单位指定**：根本缺陷在于求解器对无单位数值输入的单位做出了假设。一个有原则的系统必须消除这种歧义。用户界面必须强制用户为每个输入的有量纲的量明确关联一个单位。例如，杨氏模量的输入字段应包含一个数值输入框和一个用于选择单位（例如 $\\mathrm{Pa}$、$\\mathrm{kPa}$、$\\mathrm{MPa}$、$\\mathrm{GPa}$）的相邻下拉菜单。\n2.  **内部单位一致性**：在接收到用户输入（例如 $E = 210\\,\\mathrm{GPa}$）后，软件必须立即将该值转换为其内部一致的基本单位体系（例如 SI 单位制）。在此例中，$210\\,\\mathrm{GPa}$ 将被转换为 $2.1 \\times 10^{11}\\,\\mathrm{Pa}$ 并储存。所有后续计算都在这个一致的体系内严格执行。\n3.  **合理性验证（健全性检查）**：在进行计算成本高昂的分析之前，求解器应对转换后的基本单位值执行自动化合理性检查。这包括将关键输入参数与特定情境下（例如材料类型、工程应用）的典型数值范围数据库进行比较。\n    -   **材料属性**：对于使用钢材等材料的结构分析，杨氏模量的预期范围在 $190-215\\,\\mathrm{GPa}$ 之间。用户输入 $E_{\\mathrm{in}}=210$（被解释为 $210\\,\\mathrm{Pa}$）会因其远远超出此预期范围而被系统标记。系统应发出警告，例如：“警告：输入的杨氏模量（$210\\,\\mathrm{Pa}$）对于结构材料来说极低。您是指 $210\\,\\mathrm{GPa}$ 吗？”\n    -   **几何属性**：模型的尺寸也应被检查。一个长度为 $2500\\,\\mathrm{m}$、横截面积为 $1250\\,\\mathrm{m}^2$ 的单元是巨型结构的特征，而非典型机械部件。系统应标记此类极端尺寸，并提示用户核实其单位，例如：“警告：模型尺寸异常大。请确认输入单位是米。”\n\n这种强制显式单位输入、自动化内部转换和后续合理性检查的组合，构成了一个有原则且稳健的程序，可以防止本问题中所描述的这类错误。", "answer": "$$\\boxed{1.00 \\times 10^{6}}$$", "id": "2608550"}]}