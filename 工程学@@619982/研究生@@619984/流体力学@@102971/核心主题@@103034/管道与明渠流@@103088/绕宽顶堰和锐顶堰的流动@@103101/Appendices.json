{"hands_on_practices": [{"introduction": "堰的主要功能之一是流量测量，这依赖于其上游水头 $H$ 与流量 $Q$ 之间可预测的关系。虽然矩形堰有标准公式，但工程师们常会遇到各种形状的河道。这个练习 [@problem_id:507118] 提供了一个机会，让你在一个非标准的抛物线形河道中，从第一性原理出发推导这种关键关系，从而加深对临界流条件下河道几何、比能和流量之间基本联系的理解。", "problem": "考虑一个具有抛物线形横截面的明渠。在水深为 $y$ 时，渠道的宽度 $b$ 由关系式 $b(y) = k y^2$ 给出，其中 $k$ 是一个表征渠道几何形状的常数。\n\n在该渠道上安装了一个宽顶堰。理想流体（无粘性且不可压缩）在堰上的流动是恒定的。远上游水流的总能量水头，相对于堰顶测量，为 $H$。宽顶堰上水流的一个关键特征是，水流在堰顶达到临界状态。\n\n假设远上游的趋近流速可以忽略不计，总水头 $H$ 等于堰顶临界断面处的比能。您的任务是推导出流量 $Q$ 作为水头 $H$、渠道常数 $k$ 和重力加速度 $g$ 的函数。", "solution": "1. 渠道宽度和横截面积为\n$$b(y)=k\\,y^2,\\qquad A(y)=\\int_0^y b(y')\\,dy'=\\frac{k}{3}\\,y^3.$$\n\n2. 比能为\n$$E=y+\\frac{Q^2}{2gA^2},$$\n且临界条件 $dE/dy=0$ 给出\n$$Q^2=g\\,\\frac{A^3}{T},\\quad T=b(y).$$\n\n3. 在临界断面 ($y=y_c$):\n$$A_c=\\frac{k}{3}y_c^3,\\quad T_c=k\\,y_c^2\n\\;\\Longrightarrow\\;\nQ^2\n=g\\frac{\\bigl(\\frac{k}{3}y_c^3\\bigr)^3}{k\\,y_c^2}\n=g\\frac{k^2}{27}\\,y_c^7.$$\n因此\n$$Q=\\frac{k\\sqrt{g}}{\\sqrt{27}}\\,y_c^{7/2}\n=\\frac{k\\sqrt{g}}{3\\sqrt{3}}\\,y_c^{7/2}.$$\n\n4. 上游总水头等于临界能量：\n$$H=E_c\n=y_c+\\frac{Q^2}{2gA_c^2}\n=y_c+\\frac{A_c}{2T_c}\n=y_c+\\frac{1}{6}y_c\n=\\frac{7}{6}y_c\n\\;\\Longrightarrow\\;y_c=\\frac{6}{7}H.$$\n\n5. 代入 $Q$ 中得到\n$$Q\n=\\frac{k\\sqrt{g}}{3\\sqrt{3}}\\Bigl(\\frac{6}{7}H\\Bigr)^{7/2}.$$", "answer": "$$\\boxed{\\frac{k\\sqrt{g}}{3\\sqrt{3}}\\left(\\frac{6H}{7}\\right)^{\\frac{7}{2}}}$$", "id": "507118"}, {"introduction": "在临界流概念的基础上，本练习将聚焦于问题的另一个方面：在已知比能 $H_1$ 的情况下，如何确定临界水深 $y_c$。这项技能对于明渠流动分析与设计至关重要。本题 [@problem_id:507120] 以土木工程中常见的梯形渠道为背景，要求你运用比能方程，推导出关于 $y_c$ 的精确代数表达式，从而锻炼你的分析推导能力。", "problem": "一个不可压缩流体在一条长明渠中发生稳定、无摩擦的流动。该渠道具有梯形横截面，初始底宽为 $b_0$，边坡为常数，水平与垂直之比为$m:1$。水流遇到一个堰顶为水平的宽顶堰。\n\n当水流流上堰时，渠道的几何形状发生变化。边坡保持不变，但底宽 $b$ 随着沿堰顶的距离 $x$ 线性发散。底宽由函数 $b(x) = b_0 + kx$ (对于 $x \\ge 0$) 描述，其中 $k$ 是一个代表发散率的正的常数。\n\n由于发散段的几何形状，在堰的入口处（$x=0$）形成一个控制断面，此处的流动变为临界流。设 $H_1$ 为该控制断面上水流的比能，它等于相对于堰顶高程测量的上游总能量水头。\n\n推导控制断面（$x=0$）处临界水深 $y_c$ 的一个闭式表达式，用比能 $H_1$、初始底宽 $b_0$ 和边坡参数 $m$ 表示。", "solution": "明渠流的比能 $E$ 是水流深度与速度水头之和：\n$$E = y + \\frac{V^2}{2g}$$\n其中 $y$ 是水流深度，$V$ 是平均流速，$g$ 是重力加速度。流量 $Q$ 由 $Q = AV$ 给出，其中 $A$ 是横截面积。代入 $V = Q/A$，比能变为：\n$$E = y + \\frac{Q^2}{2gA^2}$$\n对于给定的流量 $Q$，比能在临界流条件下达到最小值。该最小比能记作 $E_c$，对应于临界水深 $y_c$。临界流的条件可以通过设置 $\\frac{dE}{dy} = 0$ 找到，这得出了在临界断面上比能与渠道几何形状之间的著名关系：\n$$E_c = y_c + \\frac{A_c}{2T_c}$$\n此处，$A_c$ 和 $T_c$ 分别是临界水深 $y_c$ 处的横截面积和顶宽。\n\n问题陈述，相对于堰顶的上游总能量水头为 $H_1$。对于在水平堰顶上的无摩擦流动，比能是恒定的且等于 $H_1$。控制断面出现在 $x=0$ 处，此处的流动是临界流。因此，控制断面的比能必须为 $H_1$：\n$$H_1 = E_c = y_c + \\frac{A_c}{2T_c}$$\n我们需要用控制断面 $x=0$ 处的渠道几何形状来表示 $A_c$ 和 $T_c$。\n渠道横截面为梯形。控制断面的底宽为 $b(0) = b_0$。边坡为 $m:1$。\n对于深度为 $y$、底宽为 $b$ 的梯形渠道，其横截面积 $A$ 为 $A = (b+my)y$。\n顶宽 $T$ 为 $T = b+2my$。\n\n在临界断面（$x=0$，$y=y_c$）处：\n底宽为 $b_c = b_0$。\n临界面积为 $A_c = (b_0 + my_c)y_c$。\n临界顶宽为 $T_c = b_0 + 2my_c$。\n\n将 $A_c$ 和 $T_c$ 的这些表达式代入比能方程：\n$$H_1 = y_c + \\frac{(b_0 + my_c)y_c}{2(b_0 + 2my_c)}$$\n为了求解 $y_c$，我们将此方程重新排列成多项式形式。两边同时乘以分母 $2(b_0 + 2my_c)$:\n$$H_1 \\cdot 2(b_0 + 2my_c) = y_c \\cdot 2(b_0 + 2my_c) + (b_0 + my_c)y_c$$\n展开两边的项：\n$$2b_0H_1 + 4mH_1y_c = 2b_0y_c + 4my_c^2 + b_0y_c + my_c^2$$\n按 $y_c$ 的幂次对各项进行分组：\n$$2b_0H_1 + 4mH_1y_c = (2b_0 + b_0)y_c + (4m + m)y_c^2$$\n$$2b_0H_1 + 4mH_1y_c = 3b_0y_c + 5my_c^2$$\n重新排列成标准二次方程形式 $ay^2+by+c=0$：\n$$5my_c^2 + (3b_0 - 4mH_1)y_c - 2b_0H_1 = 0$$\n这是一个关于 $y_c$ 的二次方程。我们使用求根公式 $y_c = \\frac{-b \\pm \\sqrt{b^2-4ac}}{2a}$ 来求解，系数为：\n$a = 5m$\n$b = 3b_0 - 4mH_1$\n$c = -2b_0H_1$\n\n$$y_c = \\frac{-(3b_0 - 4mH_1) \\pm \\sqrt{(3b_0 - 4mH_1)^2 - 4(5m)(-2b_0H_1)}}{2(5m)}$$\n$$y_c = \\frac{4mH_1 - 3b_0 \\pm \\sqrt{(3b_0 - 4mH_1)^2 + 40mb_0H_1}}{10m}$$\n我们来简化平方根下的项（判别式 $\\Delta$）：\n$$\\Delta = (9b_0^2 - 24mb_0H_1 + 16m^2H_1^2) + 40mb_0H_1$$\n$$\\Delta = 9b_0^2 + 16mb_0H_1 + 16m^2H_1^2$$\n所以 $y_c$ 的解是：\n$$y_c = \\frac{4mH_1 - 3b_0 \\pm \\sqrt{9b_0^2 + 16mb_0H_1 + 16m^2H_1^2}}{10m}$$\n由于临界水深 $y_c$ 必须是一个正的物理量，我们必须选择合适的符号。参数 $b_0$、$m$ 和 $H_1$ 都是正数。\n平方根下的项 $\\Delta$ 总是正的。我们来分析分子。\n判别式可以写成 $\\Delta = (4mH_1 - 3b_0)^2 + 40mb_0H_1$。\n由于 $m, b_0, H_1 > 0$，我们有 $40mb_0H_1 > 0$。因此，$\\sqrt{\\Delta} > \\sqrt{(4mH_1 - 3b_0)^2} = |4mH_1 - 3b_0|$。\n如果我们选择负号，分子是 $(4mH_1 - 3b_0) - \\sqrt{\\Delta}$。由于 $\\sqrt{\\Delta} > |4mH_1 - 3b_0|$，这个分子将总是负的。因为分母 $10m$ 是正的，所以负号会得到一个负的、不符合物理实际的 $y_c$ 值。\n因此，我们必须取正号。\n临界水深的最终表达式是：\n$$y_c = \\frac{4mH_1 - 3b_0 + \\sqrt{9b_0^2 + 16mb_0H_1 + 16m^2H_1^2}}{10m}$$", "answer": "$$ \\boxed{\\frac{4mH_1 - 3b_0 + \\sqrt{9b_0^2 + 16mb_0H_1 + 16m^2H_1^2}}{10m}} $$", "id": "507120"}, {"introduction": "真实世界的水力系统很少孤立存在。这个练习 [@problem_id:507179] 将挑战你分析宽顶堰与下游控制结构（如水闸）之间的相互作用。通过引入能量损失的概念，并分析导致水跃被“冲走”的临界条件，你将学会如何对更复杂的集成系统进行建模，并理解上游和下游条件是如何相互关联的。", "problem": "在宽阔的水平矩形渠道中，一股稳定流遇到一个高度为 $P$ 的长宽顶堰。相对于渠道底床，上游水流的总比能为 $E_0$。下游的水深由一个闸门控制。\n\n当下游尾水深度足够高时，在堰下游的渠道底床上会形成水跃。如果逐渐降低尾水深度，水跃会向下游移动。我们关心的是水跃完全“冲刷殆尽”的极限情况。该条件定义为堰趾处（即紧随堰顶垂直跌落后的横截面）的水流首次达到临界状态，即其弗劳德数（Froude number）恰好为1。\n\n请为理想化的宽顶堰分析作出以下标准假设：\n1.  堰顶上的水流为临界流，水深为 $y_c$，流速为 $V_c$。\n2.  到达堰顶之前以及沿水平堰顶的能量损失可忽略不计。\n3.  从堰顶到下游渠道底床的突然跌落处会发生能量损失 $\\Delta E_{\\text{loss}}$。该损失与堰顶水流的动能水头成正比，由表达式 $\\Delta E_{\\text{loss}} = k_L \\frac{V_c^2}{2g}$ 给出，其中 $k_L$ 是一个无量纲损失系数，$g$ 是重力加速度。\n\n基于此模型，推导当满足冲刷殆尽条件时，堰高与上游比能之比 $P/E_0$ 的表达式。最终表达式应仅包含损失系数 $k_L$。", "solution": "我们将按以下步骤推导 $P/E_0$：\n\n1. 从上游到堰顶的能量守恒（无损失）：\n$$\nE_0 = P + y_c + \\frac{V_c^2}{2g}.\n$$\n堰顶为临界流：$V_c^2 = g\\,y_c$，因此\n$$\ny_c + \\frac{V_c^2}{2g} = y_c + \\frac{g\\,y_c}{2g} = \\frac{3}{2}y_c.\n$$\n于是\n$$\nE_0 = P + \\frac{3}{2}y_c,\\quad\ny_c = \\frac{2}{3}(E_0 - P).\n$$\n\n2. 突然跌落处的能量损失：\n$$\n\\Delta E_{\\text{loss}} = k_L\\,\\frac{V_c^2}{2g}\n  = k_L\\,\\frac{g\\,y_c}{2g}\n  = \\frac{k_L}{2}y_c.\n$$\n\n3. 相对于下游底床的堰趾处能量：\n$$\nE_{\\text{toe}} = P + \\frac{3}{2}y_c - \\frac{k_L}{2}y_c.\n$$\n\n4. 冲刷殆尽条件：堰趾处水流为临界流，因此\n$$\nE_{\\text{toe}} = \\frac{3}{2}y_c\n  \\;\\Longrightarrow\\;\n  P + \\frac{3}{2}y_c - \\frac{k_L}{2}y_c = \\frac{3}{2}y_c\n  \\;\\Longrightarrow\\;\n  P = \\frac{k_L}{2}y_c.\n$$\n\n5. 代入 $y_c = \\tfrac{2}{3}(E_0 - P)$：\n$$\nP = \\frac{k_L}{2}\\,\\frac{2}{3}(E_0 - P)\n  = \\frac{k_L}{3}(E_0 - P)\n  \\;\\Longrightarrow\\;\n  P\\bigl(1 + \\tfrac{k_L}{3}\\bigr) = \\frac{k_L}{3}E_0\n  \\;\\Longrightarrow\\;\n  \\frac{P}{E_0} = \\frac{k_L}{k_L+3}.\n$$", "answer": "$$\\boxed{\\frac{k_L}{k_L+3}}$$", "id": "507179"}]}