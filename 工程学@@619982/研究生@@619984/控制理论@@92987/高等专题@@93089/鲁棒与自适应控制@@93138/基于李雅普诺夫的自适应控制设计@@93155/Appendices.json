{"hands_on_practices": [{"introduction": "这项实践是自适应控制的一个基础练习。我们将直接从李雅普诺夫稳定性论证出发，推导最常见的自适应律——梯度下降法。通过解决这个问题，你不仅能理解如何保证参数估计器的稳定性，还将学会如何将自适应增益 $\\gamma$ 和回归信号的性质与参数估计的收敛速度联系起来 [@problem_id:2722772]。这个练习将巩固基于李雅普诺夫的自适应设计背后的核心机制。", "problem": "考虑一个标量参数线性回归模型，该模型用于一个具有未知常数参数的对象的自适应估计器中。测量的标量输出建模为 $y(t) = \\theta \\, \\phi(t)$，其中 $\\theta \\in \\mathbb{R}$ 是一个未知的常数参数，$\\phi(t) \\in \\mathbb{R}$ 是一个已知的、时变的、连续且有界的回归量。估计器产生预测值 $\\hat{y}(t) = \\hat{\\theta}(t) \\, \\phi(t)$，其中标量估计值为 $\\hat{\\theta}(t) \\in \\mathbb{R}$。将预测误差定义为 $e(t) = \\hat{y}(t) - y(t)$。从应用于瞬时平方损失 $J(t) = \\frac{1}{2} e^{2}(t)$ 的最速下降原理出发，推导 $\\hat{\\theta}(t)$ 的标量梯度更新律，以及相应的参数误差 $\\tilde{\\theta}(t) = \\hat{\\theta}(t) - \\theta$ 的动态方程。然后，使用 Lyapunov 直接法，构建一个仅依赖于 $\\tilde{\\theta}(t)$ 和常数自适应增益 $\\gamma > 0$ 的光滑正定 Lyapunov 候选函数，并证明对于任何 $\\gamma > 0$，所得到的自适应律都是 Lyapunov 稳定的。\n\n接下来，假设回归量满足其瞬时能量的一致逐点下界：存在一个已知的常数 $m > 0$，使得对于所有 $t \\ge 0$，都有 $\\phi^{2}(t) \\ge m$。仅使用此界和您的误差动态方程，推导一个形如 $\\lvert \\tilde{\\theta}(t) \\rvert \\le \\lvert \\tilde{\\theta}(0) \\rvert \\exp\\!\\big(-\\alpha t\\big)$ 的界，其中某个速率 $\\alpha > 0$ 用 $\\gamma$ 和 $m$ 表示。您的任务是满足一个给定的自适应速率 $\\lambda_{d} > 0$，这意味着对于所有 $t \\ge 0$，指数界不慢于 $\\exp(-\\lambda_{d} t)$。确定一个常数自适应增益 $\\gamma$，该增益在保持 Lyapunov 稳定性的同时保证满足此要求。\n\n以一个关于 $\\lambda_{d}$ 和 $m$ 的单一、闭式解析表达式的形式给出您的最终答案。不需要数值近似。不需要单位。", "solution": "所提出的问题是自适应控制理论基础中的一个标准练习。该问题提法恰当，科学上合理，并包含了解决该问题所需的所有信息。我们将以合乎逻辑、循序渐进的方式进行推导。\n\n系统由标量模型 $y(t) = \\theta \\, \\phi(t)$ 描述，其中 $\\theta \\in \\mathbb{R}$ 是一个未知的常数参数，$\\phi(t) \\in \\mathbb{R}$ 是一个已知的、有界的、连续的回归量信号。参数估计值为 $\\hat{\\theta}(t)$，它构成预测值 $\\hat{y}(t) = \\hat{\\theta}(t) \\, \\phi(t)$。预测误差为 $e(t) = \\hat{y}(t) - y(t)$。\n\n首先，我们使用最速下降法来最小化瞬时平方误差成本函数 $J(t) = \\frac{1}{2} e^{2}(t)$，从而推导出 $\\hat{\\theta}(t)$ 的更新律。梯度更新律由下式给出：\n$$\n\\dot{\\hat{\\theta}}(t) = - \\gamma \\frac{\\partial J(t)}{\\partial \\hat{\\theta}(t)}\n$$\n其中 $\\gamma > 0$ 是常数自适应增益。\n\n我们计算 $J(t)$ 关于 $\\hat{\\theta}(t)$ 的偏导数：\n$$\n\\frac{\\partial J(t)}{\\partial \\hat{\\theta}(t)} = \\frac{\\partial}{\\partial \\hat{\\theta}(t)} \\left( \\frac{1}{2} e^{2}(t) \\right) = e(t) \\frac{\\partial e(t)}{\\partial \\hat{\\theta}(t)}\n$$\n误差 $e(t)$ 可以表示为 $e(t) = \\hat{\\theta}(t)\\phi(t) - y(t)$。它关于 $\\hat{\\theta}(t)$ 的偏导数是：\n$$\n\\frac{\\partial e(t)}{\\partial \\hat{\\theta}(t)} = \\frac{\\partial}{\\partial \\hat{\\theta}(t)} (\\hat{\\theta}(t)\\phi(t) - y(t)) = \\phi(t)\n$$\n将其代回，我们得到梯度：\n$$\n\\frac{\\partial J(t)}{\\partial \\hat{\\theta}(t)} = e(t) \\phi(t)\n$$\n因此，参数估计的梯度更新律为：\n$$\n\\dot{\\hat{\\theta}}(t) = - \\gamma e(t) \\phi(t)\n$$\n接下来，我们推导参数误差的动态方程，定义为 $\\tilde{\\theta}(t) = \\hat{\\theta}(t) - \\theta$。由于 $\\theta$ 是一个常数，其时间导数为零，所以 $\\dot{\\tilde{\\theta}}(t) = \\dot{\\hat{\\theta}}(t)$。代入更新律并将预测误差用参数误差表示，$e(t) = (\\hat{\\theta}(t) - \\theta)\\phi(t) = \\tilde{\\theta}(t)\\phi(t)$，我们得到参数误差动态方程：\n$$\n\\dot{\\tilde{\\theta}}(t) = - \\gamma \\left( \\tilde{\\theta}(t)\\phi(t) \\right) \\phi(t) = - \\gamma \\phi^{2}(t) \\tilde{\\theta}(t)\n$$\n这是一个线性时变常微分方程，它描述了参数误差的演化过程。\n\n现在，我们证明 Lyapunov 稳定性。根据建议，我们选择一个光滑、正定的 Lyapunov 候选函数 $V$，它依赖于 $\\tilde{\\theta}(t)$ 和 $\\gamma$。一个合适的选择是：\n$$\nV(\\tilde{\\theta}) = \\frac{1}{2\\gamma} \\tilde{\\theta}^{2}(t)\n$$\n由于 $\\gamma > 0$，对于所有 $\\tilde{\\theta} \\neq 0$，有 $V(\\tilde{\\theta}) > 0$，且 $V(0) = 0$。因此，$V$ 是正定的。我们沿着误差动态方程的轨迹分析其时间导数：\n$$\n\\dot{V}(t) = \\frac{d}{dt} \\left( \\frac{1}{2\\gamma} \\tilde{\\theta}^{2}(t) \\right) = \\frac{1}{2\\gamma} \\left( 2 \\tilde{\\theta}(t) \\dot{\\tilde{\\theta}}(t) \\right) = \\frac{1}{\\gamma} \\tilde{\\theta}(t) \\dot{\\tilde{\\theta}}(t)\n$$\n代入误差动态方程 $\\dot{\\tilde{\\theta}}(t) = - \\gamma \\phi^{2}(t) \\tilde{\\theta}(t)$：\n$$\n\\dot{V}(t) = \\frac{1}{\\gamma} \\tilde{\\theta}(t) \\left( - \\gamma \\phi^{2}(t) \\tilde{\\theta}(t) \\right) = - \\phi^{2}(t) \\tilde{\\theta}^{2}(t)\n$$\n由于对于所有 $t$，$\\phi^{2}(t) \\ge 0$，所以时间导数 $\\dot{V}(t) \\le 0$ 对于所有 $t$ 成立。这表明 $V(t)$ 是一个不增的时间函数，这意味着 $\\tilde{\\theta}(t)$ 是有界的。具体来说，$V(t) \\le V(0)$，这意味着 $\\frac{1}{2\\gamma} \\tilde{\\theta}^{2}(t) \\le \\frac{1}{2\\gamma} \\tilde{\\theta}^{2}(0)$，或者 $|\\tilde{\\theta}(t)| \\le |\\tilde{\\theta}(0)|$。这意味着平衡点 $\\tilde{\\theta} = 0$ 是全局一致稳定的，这对于任何 $\\gamma > 0$ 都满足 Lyapunov 稳定性的要求。\n\n问题的第二部分假设回归量的能量有一个一致逐点下界，$\\phi^{2}(t) \\ge m$，其中 $m > 0$ 是某个已知的常数。这是一个持续激励 (PE) 条件。使用这个条件，我们可以确定指数收敛速率。从我们的 Lyapunov 分析中，我们有 $\\dot{V}(t) = - \\phi^{2}(t) \\tilde{\\theta}^{2}(t)$。应用 PE 条件，我们得到：\n$$\n\\dot{V}(t) \\le -m \\tilde{\\theta}^{2}(t)\n$$\n我们使用定义 $V(t) = \\frac{1}{2\\gamma}\\tilde{\\theta}^{2}(t)$ 将 $\\tilde{\\theta}^{2}(t)$ 与 $V(t)$ 关联起来，得到 $\\tilde{\\theta}^{2}(t) = 2\\gamma V(t)$。将此代入 $\\dot{V}(t)$ 的不等式中：\n$$\n\\dot{V}(t) \\le -m (2\\gamma V(t)) = -2\\gamma m V(t)\n$$\n这是一个标准的微分不等式。根据比较引理（Grönwall's 不等式的一个版本），我们可以得出结论：\n$$\nV(t) \\le V(0) \\exp(-2\\gamma m t)\n$$\n将 $V$ 的定义用 $\\tilde{\\theta}$ 代回：\n$$\n\\frac{1}{2\\gamma} \\tilde{\\theta}^{2}(t) \\le \\left( \\frac{1}{2\\gamma} \\tilde{\\theta}^{2}(0) \\right) \\exp(-2\\gamma m t)\n$$\n两边同乘以 $2\\gamma$ 并取平方根，我们得到参数误差所需的指数界：\n$$\n|\\tilde{\\theta}(t)| \\le |\\tilde{\\theta}(0)| \\exp(-\\gamma m t)\n$$\n这个界的形式为 $|\\tilde{\\theta}(t)| \\le |\\tilde{\\theta}(0)| \\exp(-\\alpha t)$，其中指数衰减率为 $\\alpha = \\gamma m$。\n\n最后，我们的任务是选择自适应增益 $\\gamma$ 以满足给定的自适应速率 $\\lambda_{d} > 0$。这意味着衰减必须至少与 $\\exp(-\\lambda_{d} t)$ 一样快，这要求速率 $\\alpha$ 满足 $\\alpha \\ge \\lambda_{d}$。\n$$\n\\gamma m \\ge \\lambda_{d}\n$$\n为保证这个条件，我们可以简单地选择 $\\gamma$，使得两个速率相等。这为增益提供了一个具体的选择：\n$$\n\\gamma m = \\lambda_{d}\n$$\n解出 $\\gamma$ 得到：\n$$\n\\gamma = \\frac{\\lambda_{d}}{m}\n$$\n由于给定 $\\lambda_{d} > 0$ 且 $m > 0$，因此得到的自适应增益 $\\gamma$ 保证为正。因此，$\\gamma$ 的这一选择保留了先前建立的 Lyapunov 稳定性。这个关于 $\\gamma$ 的表达式就是解。", "answer": "$$\\boxed{\\frac{\\lambda_{d}}{m}}$$", "id": "2722772"}, {"introduction": "在第一个实践的基础上，这个问题探讨了自适应系统的一个关键方面：当输入信号缺乏足够“丰富度”时会发生什么？我们将分析一个经典的回归信号不满足持续激励（Persistently Exciting, PE）条件的案例。这个练习将向你展示，即使预测误差收敛到零，参数估计也可能无法收敛到其真实值，从而凸显了持续激励条件对于保证参数辨识的决定性作用 [@problem_id:2722709]。", "problem": "考虑在基于Lyapunov的自适应控制设计中出现的标量自适应估计问题。一个可测的回归量信号 $\\,\\phi(t)\\,$ 和一个未知常数参数 $\\,\\theta \\in \\mathbb{R}\\,$ 生成标量输出 $\\,y(t) = \\theta\\,\\phi(t)\\,$。一个估计器使用参数模型 $\\,\\hat{y}(t) = \\hat{\\theta}(t)\\,\\phi(t)\\,$以及从二次Lyapunov函数推导出的标准梯度更新律：\n$$\n\\dot{\\hat{\\theta}}(t) = -\\gamma\\,\\phi(t)\\,\\big(\\hat{y}(t) - y(t)\\big), \\quad \\gamma > 0.\n$$\n定义预测误差 $\\,e(t) \\coloneqq \\hat{y}(t) - y(t)\\,$ 和参数误差 $\\,\\tilde{\\theta}(t) \\coloneqq \\hat{\\theta}(t) - \\theta\\,$。假设对所有 $\\,t \\ge 0\\,$，回归量为 $\\,\\phi(t) = \\exp(-t)\\,$，这在持续激励(PE)的意义上不满足持续激励条件，即不存在 $\\,\\alpha > 0\\,$ 和 $\\,T > 0\\,$ 使得对于所有 $\\,t \\ge 0\\,$ 都有 $\\,\\int_{t}^{t+T} \\phi(\\tau)^2\\,\\mathrm{d}\\tau \\ge \\alpha\\,$。\n\n从 $\\,e(t)\\,$ 和 $\\,\\tilde{\\theta}(t)\\,$ 的基本定义以及给定的更新律出发，分析Lyapunov方法所蕴含的闭环误差动态。证明即使由于缺乏持续激励，参数误差不必收敛到 $\\,0\\,$，但预测误差 $\\,e(t)\\,$ 在 $\\,t \\to \\infty\\,$ 时仍趋于 $\\,0\\,$。计算闭式极限\n$$\n\\lim_{t \\to \\infty} \\tilde{\\theta}(t)\n$$\n其形式应为初始参数误差 $\\,\\tilde{\\theta}(0)\\,$ 和自适应增益 $\\,\\gamma\\,$ 的函数。你的最终答案必须是一个不带单位的单一解析表达式。不要对结果进行四舍五入或近似计算。", "solution": "必须首先确定问题陈述的有效性。\n\n步骤1：提取已知条件。\n问题提供了以下定义和方程：\n- 输出信号由 $y(t) = \\theta\\,\\phi(t)$ 给出，其中 $\\theta \\in \\mathbb{R}$ 是一个未知常数参数。\n- 对 $t \\ge 0$，可测的回归量信号为 $\\phi(t) = \\exp(-t)$。\n- 估计器的参数模型为 $\\hat{y}(t) = \\hat{\\theta}(t)\\,\\phi(t)$。\n- 预测误差定义为 $e(t) \\coloneqq \\hat{y}(t) - y(t)$。\n- 参数误差定义为 $\\tilde{\\theta}(t) \\coloneqq \\hat{\\theta}(t) - \\theta$。\n- 参数估计 $\\hat{\\theta}(t)$ 的更新律由梯度法则 $\\dot{\\hat{\\theta}}(t) = -\\gamma\\,\\phi(t)\\,e(t)$ 给出，其中自适应增益 $\\gamma > 0$。\n- 问题陈述了回归量 $\\phi(t)$ 不是持续激励的。\n\n步骤2：使用提取的已知条件进行验证。\n该问题具有科学依据。它展示了自适应控制理论中的一个典型场景，特别是使用梯度下降算法进行参数估计。系统模型、估计器结构和更新律都是标准的。回归量 $\\phi(t) = \\exp(-t)$ 的选择是一个经典例子，用于说明缺乏持续激励(PE)条件的后果。PE条件是系统辨识和自适应控制中的一个基本概念，它保证了参数的收敛性。这个问题是适定的，提供了推导参数误差动态并分析其渐近行为所需的所有必要信息。语言客观而精确。该问题是自适应系统分析中的一个标准练习，不违反任何无效性准则。\n\n步骤3：结论与行动。\n问题被视为有效。将提供解答。\n\n目标是分析误差动态并计算参数误差的极限 $\\lim_{t \\to \\infty} \\tilde{\\theta}(t)$。\n\n首先，我们用参数误差 $\\tilde{\\theta}(t)$ 来表示预测误差 $e(t)$。根据所提供的定义：\n$$\ne(t) = \\hat{y}(t) - y(t) = \\hat{\\theta}(t)\\phi(t) - \\theta\\phi(t) = \\left(\\hat{\\theta}(t) - \\theta\\right)\\phi(t)\n$$\n使用参数误差的定义 $\\tilde{\\theta}(t) = \\hat{\\theta}(t) - \\theta$，我们有：\n$$\ne(t) = \\tilde{\\theta}(t)\\phi(t)\n$$\n接下来，我们推导参数误差 $\\tilde{\\theta}(t)$ 的微分方程。我们将 $\\tilde{\\theta}(t)$ 的定义对时间 $t$ 求导：\n$$\n\\dot{\\tilde{\\theta}}(t) = \\frac{d}{dt}\\left(\\hat{\\theta}(t) - \\theta\\right) = \\dot{\\hat{\\theta}}(t) - \\dot{\\theta}(t)\n$$\n由于 $\\theta$ 是一个常数参数，其时间导数为零，即 $\\dot{\\theta}(t) = 0$。因此，$\\dot{\\tilde{\\theta}}(t) = \\dot{\\hat{\\theta}}(t)$。\n将给定的 $\\dot{\\hat{\\theta}}(t)$ 更新律代入：\n$$\n\\dot{\\tilde{\\theta}}(t) = -\\gamma\\,\\phi(t)\\,e(t)\n$$\n现在，我们将 $e(t)$ 的表达式代入此方程，以获得 $\\tilde{\\theta}(t)$ 的闭环误差动态：\n$$\n\\dot{\\tilde{\\theta}}(t) = -\\gamma\\,\\phi(t)\\,\\left(\\tilde{\\theta}(t)\\phi(t)\\right) = -\\gamma\\,\\phi(t)^2\\,\\tilde{\\theta}(t)\n$$\n这是一个关于参数误差的一阶线性时变常微分方程。\n\n问题指定回归量信号为 $\\phi(t) = \\exp(-t)$。我们将其代入微分方程：\n$$\n\\dot{\\tilde{\\theta}}(t) = -\\gamma\\,\\left(\\exp(-t)\\right)^2\\,\\tilde{\\theta}(t) = -\\gamma\\,\\exp(-2t)\\,\\tilde{\\theta}(t)\n$$\n该常微分方程是可分离的，可以写成：\n$$\n\\frac{d\\tilde{\\theta}(t)}{\\tilde{\\theta}(t)} = -\\gamma\\,\\exp(-2t)\\,dt\n$$\n我们对该方程两边从初始时间 $t=0$ 到任意时间 $t > 0$ 进行积分：\n$$\n\\int_{\\tilde{\\theta}(0)}^{\\tilde{\\theta}(t)} \\frac{1}{\\tau} d\\tau = \\int_{0}^{t} -\\gamma\\,\\exp(-2\\xi)\\,d\\xi\n$$\n计算积分：\n$$\n\\left[ \\ln|\\tau| \\right]_{\\tilde{\\theta}(0)}^{\\tilde{\\theta}(t)} = -\\gamma \\left[ -\\frac{1}{2}\\exp(-2\\xi) \\right]_{0}^{t}\n$$\n$$\n\\ln|\\tilde{\\theta}(t)| - \\ln|\\tilde{\\theta}(0)| = \\frac{\\gamma}{2} \\left[ \\exp(-2t) - \\exp(0) \\right]\n$$\n$$\n\\ln\\left(\\frac{|\\tilde{\\theta}(t)|}{|\\tilde{\\theta}(0)|}\\right) = \\frac{\\gamma}{2}\\left(\\exp(-2t) - 1\\right)\n$$\n对两边取指数，得到参数误差幅值的解：\n$$\n|\\tilde{\\theta}(t)| = |\\tilde{\\theta}(0)|\\,\\exp\\left(\\frac{\\gamma}{2}\\left(\\exp(-2t) - 1\\right)\\right)\n$$\n由于该微分方程是线性的，如果 $\\tilde{\\theta}(0) \\ne 0$，解 $\\tilde{\\theta}(t)$ 的符号将不会改变。如果 $\\tilde{\\theta}(0) = 0$，则对所有 $t$ 都有 $\\tilde{\\theta}(t) = 0$。因此，我们可以去掉绝对值符号：\n$$\n\\tilde{\\theta}(t) = \\tilde{\\theta}(0)\\,\\exp\\left(\\frac{\\gamma}{2}\\left(\\exp(-2t) - 1\\right)\\right)\n$$\n这就是参数误差 $\\tilde{\\theta}(t)$ 的闭式解。\n\n问题还要求证明当 $t \\to \\infty$ 时 $e(t) \\to 0$。我们使用关系式 $e(t) = \\tilde{\\theta}(t)\\phi(t)$：\n$$\ne(t) = \\left( \\tilde{\\theta}(0)\\,\\exp\\left(\\frac{\\gamma}{2}\\left(\\exp(-2t) - 1\\right)\\right) \\right) \\exp(-t)\n$$\n我们取 $t \\to \\infty$ 时的极限：\n$$\n\\lim_{t \\to \\infty} e(t) = \\lim_{t \\to \\infty} \\left( \\tilde{\\theta}(0)\\,\\exp\\left(\\frac{\\gamma}{2}\\left(\\exp(-2t) - 1\\right)\\right) \\right) \\cdot \\lim_{t \\to \\infty} \\exp(-t)\n$$\n当 $t \\to \\infty$ 时，我们有 $\\exp(-2t) \\to 0$ 和 $\\exp(-t) \\to 0$。\n第一项收敛到一个常数：\n$$\n\\lim_{t \\to \\infty} \\tilde{\\theta}(0)\\,\\exp\\left(\\frac{\\gamma}{2}\\left(\\exp(-2t) - 1\\right)\\right) = \\tilde{\\theta}(0)\\,\\exp\\left(\\frac{\\gamma}{2}(0 - 1)\\right) = \\tilde{\\theta}(0)\\,\\exp\\left(-\\frac{\\gamma}{2}\\right)\n$$\n第二项收敛到零：\n$$\n\\lim_{t \\to \\infty} \\exp(-t) = 0\n$$\n因此，预测误差的极限是：\n$$\n\\lim_{t \\to \\infty} e(t) = \\left(\\tilde{\\theta}(0)\\,\\exp\\left(-\\frac{\\gamma}{2}\\right)\\right) \\cdot 0 = 0\n$$\n这表明预测误差收敛到零，尽管（正如我们将看到的）参数误差并非如此。\n\n最后，我们计算当 $t \\to \\infty$ 时参数误差 $\\tilde{\\theta}(t)$ 的极限：\n$$\n\\lim_{t \\to \\infty} \\tilde{\\theta}(t) = \\lim_{t \\to \\infty} \\left( \\tilde{\\theta}(0)\\,\\exp\\left(\\frac{\\gamma}{2}\\left(\\exp(-2t) - 1\\right)\\right) \\right)\n$$\n如前所述，$\\lim_{t \\to \\infty} \\exp(-2t) = 0$。将此代入表达式中：\n$$\n\\lim_{t \\to \\infty} \\tilde{\\theta}(t) = \\tilde{\\theta}(0)\\,\\exp\\left(\\frac{\\gamma}{2}(0 - 1)\\right) = \\tilde{\\theta}(0)\\,\\exp\\left(-\\frac{\\gamma}{2}\\right)\n$$\n最终结果表明，参数误差通常不收敛到 $0$，而是收敛到一个取决于其初始条件 $\\tilde{\\theta}(0)$ 和自适应增益 $\\gamma$ 的常数值。这是回归量 $\\phi(t)$ 不满足持续激励条件的直接后果。回归量的总“能量” $\\int_{0}^{\\infty} \\phi(\\tau)^2 d\\tau = \\int_{0}^{\\infty} \\exp(-2\\tau) d\\tau = \\frac{1}{2}$ 是有限的，这不足以将参数估计驱动到其真实值。", "answer": "$$\n\\boxed{\\tilde{\\theta}(0)\\exp\\left(-\\frac{\\gamma}{2}\\right)}\n$$", "id": "2722709"}, {"introduction": "这最后一个实践将所有概念融合到一个综合性的控制设计任务中。你将为一个具有未知参数的被控对象构建一个完整的间接模型参考自适应控制器（Model Reference Adaptive Controller, MRAC）。这个过程包括设计一个参数估计器，然后应用确定性等效原理（certainty equivalence principle）来构建一个实时使用这些估计值的控制律。这个问题将实际演示如何应用基于李雅普诺夫的方法，在一个完整的反馈系统中实现稳定的自适应跟踪 [@problem_id:2722775]。", "problem": "考虑一个具有未知常数参数的单输入单输出线性时不变系统，其由微分方程 $\\dot{y}(t)=-a\\,y(t)+b\\,u(t)$ 描述，其中 $a>0$ 和 $b>0$ 是未知常数，$u(t)$ 是控制输入，$y(t)$ 是测量输出。假设 $\\dot{y}(t)$ 是可测的，且参考信号 $r(t)$ 是有界的、分段连续可微的。期望的行为由一个一阶参考模型 $\\dot{y}_{m}(t)=-a_{m}\\,y_{m}(t)+b_{m}\\,r(t)$ 指定，其中 $a_{m}>0$ 和 $b_{m}>0$ 是已知的设计参数。\n\n你的任务如下。\n\n1. 从李雅普诺夫函数和参数估计误差的基本定义出发，构建一个关于未知参数呈线性的预测模型，并仅使用可测信号和基于李雅普诺夫的论证，为 $(a,b)$ 推导一个参数估计器。你可以使用一个常数、对称正定的自适应增益矩阵，但你必须明确地构造一个候选李雅普诺夫函数及其时间导数，以证明估计器的稳定性。确保对于有界的回归量，你的估计器能使所有内部信号保持有界，并讨论如何在不破坏李雅普诺夫非增性质的情况下，保证 $b$ 的估计值有界且远离零。\n\n2. 使用确定性等价原理，综合一个在估计值等于真实参数时能实现精确模型匹配的控制律。用当前的估计值 $\\hat{a}(t)$ 和 $\\hat{b}(t)$、测量输出 $y(t)$、参考信号 $r(t)$ 以及已知的模型参数 $a_{m}$ 和 $b_{m}$ 来表达你的控制输入。\n\n3. 定义跟踪误差 $e(t)=y(t)-y_{m}(t)$，并使用第一性原理进行论证，除李雅普诺夫稳定性和线性系统性质外不援引任何现成定理，证明第2部分得到的确定性等价控制器在你所设计的估计器产生的有界参数估计误差存在的情况下，能够稳定跟踪误差动态。清晰地陈述为保证适定性和稳定性所需的任何额外的温和条件。\n\n提供第2部分中确定性等价控制律 $u(t)$ 的闭式解析表达式作为你的最终答案。不需要进行数值计算。不要包含任何单位。最终答案必须是单个解析表达式。", "solution": "该问题是针对线性时不变系统的、基于李雅普诺夫的模型参考自适应控制领域的一个标准习题。所有提供的信息都是自洽的且科学上合理的。该问题是适定的、客观的，没有矛盾或歧义。它代表了控制工程领域一个有效的理论问题。因此，我们可以开始求解。\n\n按照要求，分三部分来解决这个问题。\n\n1. 参数估计器的构建\n\n系统动态由以下微分方程给出\n$$\n\\dot{y}(t) = -a y(t) + b u(t)\n$$\n其中 $a > 0$ 和 $b > 0$ 是未知常数。该方程关于参数 $a$ 和 $b$ 呈线性关系。我们定义参数向量 $\\theta$ 和回归量向量 $\\phi(t)$ 如下：\n$$\n\\theta = \\begin{pmatrix} a \\\\ b \\end{pmatrix}, \\quad \\phi(t) = \\begin{pmatrix} -y(t) \\\\ u(t) \\end{pmatrix}\n$$\n通过这些定义，系统动态可以写成线性参数形式\n$$\n\\dot{y}(t) = \\theta^T \\phi(t)\n$$\n根据题意，$y(t)$ 和 $\\dot{y}(t)$ 是可测的，$u(t)$ 是已知的控制输入。因此，回归量向量 $\\phi(t)$ 是直接可测的。\n\n我们使用参数估计值 $\\hat{a}(t)$ 和 $\\hat{b}(t)$ 为 $\\dot{y}(t)$ 构建一个预测模型，这些估计值是估计参数向量 $\\hat{\\theta}(t) = [\\hat{a}(t), \\hat{b}(t)]^T$ 的分量。预测值 $\\hat{\\dot{y}}(t)$ 为\n$$\n\\hat{\\dot{y}}(t) = -\\hat{a}(t) y(t) + \\hat{b}(t) u(t) = \\hat{\\theta}^T(t) \\phi(t)\n$$\n预测误差（或方程误差）$\\epsilon_1(t)$ 定义为\n$$\n\\epsilon_1(t) = \\dot{y}(t) - \\hat{\\dot{y}}(t) = (\\theta^T - \\hat{\\theta}^T(t)) \\phi(t) = \\tilde{\\theta}^T(t) \\phi(t)\n$$\n其中 $\\tilde{\\theta}(t) = \\theta - \\hat{\\theta}(t)$ 是参数估计误差向量。\n\n为推导参数更新律，我们考虑一个针对参数误差动态的候选李雅普诺夫函数：\n$$\nV_e(\\tilde{\\theta}) = \\frac{1}{2} \\tilde{\\theta}^T \\Gamma^{-1} \\tilde{\\theta}\n$$\n其中 $\\Gamma$ 是一个常数、对称正定的自适应增益矩阵。由于 $\\theta$ 是常数，参数误差的时间导数为 $\\dot{\\tilde{\\theta}} = -\\dot{\\hat{\\theta}}$。$V_e$ 的时间导数为\n$$\n\\dot{V}_e = \\tilde{\\theta}^T \\Gamma^{-1} \\dot{\\tilde{\\theta}} = - \\tilde{\\theta}^T \\Gamma^{-1} \\dot{\\hat{\\theta}}\n$$\n我们为 $\\hat{\\theta}(t)$ 选择一个能使 $\\dot{V}_e$ 非正的更新律。一个标准的选择是梯度算法或投影算法，即\n$$\n\\dot{\\hat{\\theta}}(t) = \\Gamma \\phi(t) \\epsilon_1(t)\n$$\n将此代入 $\\dot{V}_e$ 的表达式中，我们得到\n$$\n\\dot{V}_e = - \\tilde{\\theta}^T \\Gamma^{-1} (\\Gamma \\phi \\epsilon_1) = - \\tilde{\\theta}^T \\phi \\epsilon_1\n$$\n由于 $\\epsilon_1 = \\tilde{\\theta}^T \\phi$，上式变为\n$$\n\\dot{V}_e = -(\\tilde{\\theta}^T \\phi)^2 = - \\epsilon_1^2 \\leq 0\n$$\n由于 $\\dot{V}_e$ 是负半定的，$V_e(t)$ 是非增的。这意味着对于所有 $t > 0$ 都有 $V_e(t) \\leq V_e(0)$，因此参数误差 $\\tilde{\\theta}(t)$ 是有界的。由于 $\\theta$ 是一个有界的常数，估计值 $\\hat{\\theta}(t)$ 也是有界的。这证实了估计器本身的稳定性。\n\n接下来要推导的控制律将涉及除以 $\\hat{b}(t)$。为防止该估计值变为零或负（因为我们知道 $b > 0$），我们必须确保它有界且远离零。这可以通过对更新律使用投影修正来实现。我们为参数定义一个凸集，例如 $\\mathcal{D} = \\{ (\\hat{a}, \\hat{b}) \\mid \\hat{b} \\geq b_{\\min} \\}$，其中 $b_{\\min}$ 是一个根据关于 $b$ 可能范围的先验知识选择的很小的正常数。投影更新律 $\\dot{\\hat{\\theta}} = \\text{Proj}(\\hat{\\theta}, \\Gamma \\phi \\epsilon_1)$ 确保如果 $\\hat{\\theta}$ 位于 $\\mathcal{D}$ 的边界上（即 $\\hat{b} = b_{\\min}$），更新方向不会指向集合外部。这种修正保留了李雅普诺夫函数的非增性质，即 $\\dot{V}_e \\leq 0$。\n\n2. 确定性等价控制律的综合\n\n目标是使系统输出 $y(t)$ 跟踪参考模型输出 $y_m(t)$，其动态由 $\\dot{y}_m = -a_m y_m + b_m r$ 给出。理想情况是“精确模型匹配”，即 $y(t)$ 的系统动态与参考模型动态完全相同：\n$$\n\\dot{y}(t) = -a_m y(t) + b_m r(t)\n$$\n将系统方程与此期望行为相等，我们得到\n$$\n-a y(t) + b u(t) = -a_m y(t) + b_m r(t)\n$$\n求解理想控制输入 $u(t)$ 得到：\n$$\nb u(t) = (a - a_m) y(t) + b_m r(t) \\implies u(t) = \\frac{1}{b} \\left( (a - a_m) y(t) + b_m r(t) \\right)\n$$\n确定性等价原理指示我们将未知的真实参数 $a$ 和 $b$ 替换为其当前估计值 $\\hat{a}(t)$ 和 $\\hat{b}(t)$。这就得到了自适应控制律：\n$$\nu(t) = \\frac{1}{\\hat{b}(t)} \\left( (\\hat{a}(t) - a_m) y(t) + b_m r(t) \\right)\n$$\n前面讨论的投影机制确保 $\\hat{b}(t) \\geq b_{\\min} > 0$，因此该控制律总是有良好定义的。\n\n3. 闭环稳定性分析\n\n我们定义跟踪误差为 $e(t) = y(t) - y_m(t)$。其时间导数为 $\\dot{e}(t) = \\dot{y}(t) - \\dot{y}_m(t)$。为了推导误差动态，我们从系统方程出发：\n$$\n\\dot{e} = (-ay + bu) - (-a_m y_m + b_m r)\n$$\n在方程右侧加上并减去 $a_m y$：\n$$\n\\dot{e} = -a_m y + a_m y - ay + bu + a_m y_m - b_m r = -a_m(y - y_m) - (a-a_m)y + bu - b_m r\n$$\n由于 $e=y-y_m$，我们有 $\\dot{e} = -a_m e - (a-a_m)y + bu - b_m r$。现在，我们用控制律的定义 $b_m r = \\hat{b}u - (\\hat{a}-a_m)y$ 来替换 $b_m r$ 项：\n$$\n\\dot{e} = -a_m e - (a-a_m)y + bu - (\\hat{b}u - (\\hat{a}-a_m)y)\n$$\n整理后得到：\n$$\n\\dot{e} = -a_m e - (a-\\hat{a})y + (b-\\hat{b})u = -a_m e - \\tilde{a}y + \\tilde{b}u\n$$\n使用参数误差向量 $\\tilde{\\theta} = \\theta - \\hat{\\theta} = [a-\\hat{a}, b-\\hat{b}]^T = [\\tilde{a}, \\tilde{b}]^T$ 和回归量 $\\phi = [-y, u]^T$，上式可以紧凑地写为：\n$$\n\\dot{e}(t) = -a_m e(t) + (-\\tilde{a}y + \\tilde{b}u) = -a_m e(t) + \\tilde{\\theta}^T(t) \\phi(t)\n$$\n整个自适应系统由跟踪误差动态与参数误差动态 $\\dot{\\tilde{\\theta}} = -\\Gamma \\phi \\epsilon_1$（其中 $\\epsilon_1 = \\tilde{\\theta}^T \\phi$）耦合而成。为分析该系统的稳定性，我们构建一个复合李雅普诺夫函数：\n$$\nV(e, \\tilde{\\theta}) = \\frac{1}{2} e^2 + \\frac{1}{2}\\tilde{\\theta}^T \\Gamma^{-1} \\tilde{\\theta}\n$$\n为简化分析，我们选择 $\\Gamma$ 为对角阵且令 $e$ 的系数为1。$V$ 的时间导数为：\n$$\n\\dot{V} = e \\dot{e} + \\tilde{\\theta}^T \\Gamma^{-1} \\dot{\\tilde{\\theta}} = e (-a_m e + \\tilde{\\theta}^T \\phi) - \\tilde{\\theta}^T \\Gamma^{-1} (\\Gamma \\phi \\epsilon_1)\n$$\n$$\n\\dot{V} = -a_m e^2 + e (\\tilde{\\theta}^T \\phi) - (\\tilde{\\theta}^T \\phi) \\epsilon_1\n$$\n令 $w(t) = \\tilde{\\theta}^T(t) \\phi(t) = \\epsilon_1(t)$，该表达式变为：\n$$\n\\dot{V} = -a_m e^2 + e w - w^2\n$$\n这是一个关于 $e$ 和 $w$ 的二次型。通过配方法，我们可以写出：\n$$\n\\dot{V} = - a_m e^2 - \\left( w^2 - e w \\right) = -a_m e^2 - \\left( \\left( w - \\frac{1}{2}e \\right)^2 - \\frac{1}{4}e^2 \\right) = - \\left( w - \\frac{1}{2}e \\right)^2 - \\left(a_m - \\frac{1}{4}\\right) e^2\n$$\n为使 $\\dot{V}$ 是负半定的，我们需要 $e^2$ 的系数为非负：\n$$\na_m - \\frac{1}{4} \\geq 0 \\implies a_m \\geq \\frac{1}{4}\n$$\n这是一个关于参考模型的设计约束。只要 $a_m$ 足够大，我们就能保证 $\\dot{V}(e, \\tilde{\\theta}) \\leq 0$。如果 $a_m$ 较小，可以通过在 $V$ 中引入一个可调的正常数 $\\gamma$（即 $V = \\frac{1}{2}\\gamma e^2 + \\dots$）来放宽此条件。\n\n$\\dot{V}$ 的非正性意味着 $V(t)$ 是有界的，这又意味着 $e(t)$ 和 $\\tilde{\\theta}(t)$ 是有界的。$\\tilde{\\theta}(t)$ 的有界性证实了参数估计值 $\\hat{\\theta}(t)$ 是有界的。参考模型是一个由有界输入 $r(t)$ 驱动的稳定线性系统，因此其输出 $y_m(t)$ 是有界的。系统输出 $y(t) = e(t) + y_m(t)$ 是两个有界信号之和，因此也是有界的。控制律 $u(t)$ 是关于有界信号 $\\hat{a}(t)$、$\\hat{b}(t)$、$y(t)$ 和 $r(t)$ 的函数，其中 $\\hat{b}(t)$ 有界且远离零。因此，$u(t)$ 是有界的。$y(t)$ 和 $u(t)$ 的有界性确保了回归量 $\\phi(t)$ 是有界的。因此，闭环系统中的所有信号都是有界的，这证明了该控制器能够稳定跟踪误差动态。所需的温和条件是，知道 $b$ 的符号以及其大小的一个下界，以便在估计器中实现投影。", "answer": "$$\\boxed{\\frac{1}{\\hat{b}(t)} \\left( \\left(\\hat{a}(t) - a_{m}\\right) y(t) + b_{m} r(t) \\right)}$$", "id": "2722775"}]}