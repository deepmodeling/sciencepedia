{"hands_on_practices": [{"introduction": "理解单个复指数信号的周期性是掌握这一概念的第一步。本次练习将挑战你计算数字合成器中特定谐波分量的基波周期。通过解决这个问题，你将应用核心公式，将信号的频率参数与其周期联系起来，并突显最大公约数（GCD）在简化频率比中的关键作用。", "problem": "在数字音频合成器中，会生成一组谐波相关的信号来创造丰富的音乐音调。对应于第$k$次谐波的离散时间信号由方程$x_k[n] = \\exp\\left(j k \\frac{2\\pi}{M} n\\right)$描述，其中$n$是整数时间索引，$k$是代表谐波次数的正整数，而$M$是一个定义基音基本周期长度的整数。对于一个特定的合成器配置，$M = 36$。一位音频工程师需要分析第15次谐波（$k=15$）的结构。请计算信号$x_{15}[n]$的基波周期$N_0$。", "solution": "我们已知离散时间复指数$x_{k}[n] = \\exp\\!\\left(j k \\frac{2\\pi}{M} n\\right)$，其中$M=36$且$k=15$。基波周期$N_{0}$是满足下式的最小正整数$N$：\n$$\nx_{k}[n+N] = x_{k}[n]\\quad\\text{对于所有 }n\\in\\mathbb{Z}。\n$$\n使用给定的形式，\n$$\nx_{k}[n+N] = \\exp\\!\\left(j k \\frac{2\\pi}{M} (n+N)\\right) = \\exp\\!\\left(j k \\frac{2\\pi}{M} n\\right)\\exp\\!\\left(j k \\frac{2\\pi}{M} N\\right).\n$$\n因此，周期性条件简化为\n$$\n\\exp\\!\\left(j k \\frac{2\\pi}{M} N\\right) = 1.\n$$\n对于复指数，$\\exp(j 2\\pi r)=1$当且仅当$r\\in\\mathbb{Z}$。因此我们要求\n$$\nk\\frac{N}{M} \\in \\mathbb{Z}\\quad\\Longleftrightarrow\\quad M \\text{ 整除 } kN。\n$$\n满足$M\\mid kN$的最小正整数$N$是\n$$\nN_{0} = \\frac{M}{\\gcd(M,k)}.\n$$\n代入$M=36$和$k=15$，我们计算出$\\gcd(36,15)=3$，因此\n$$\nN_{0} = \\frac{36}{3} = 12.\n$$\n所以，$x_{15}[n]$的基波周期是$12$。", "answer": "$$\\boxed{12}$$", "id": "1741180"}, {"introduction": "现实世界中的信号通常是多个简单信号的组合。本次练习在前一个练习的基础上，要求你确定一个由两个不同正弦分量相加而成的信号的周期。这需要你首先分别找出每个分量的周期，然后运用最小公倍数（LCM）的概念来找到合成信号的总基波周期。", "problem": "考虑两个离散时间复指数信号 $x_1[n]$ 和 $x_2[n]$，它们对所有整数 $n$ 定义如下：\n$$x_1[n] = \\exp\\left(j\\frac{2\\pi}{5}n\\right)$$\n$$x_2[n] = \\exp\\left(j\\frac{2\\pi}{7}n\\right)$$\n一个新信号 $x[n]$ 是由 $x_1[n]$ 的实部与 $x_2[n]$ 的虚部相加构成的。即，$x[n] = \\text{Re}\\{x_1[n]\\} + \\text{Im}\\{x_2[n]\\}$。\n\n确定信号 $x[n]$ 的基波周期 $N_0$。基波周期是满足对所有整数 $n$ 都有 $x[n+N] = x[n]$ 的最小正整数 $N$。", "solution": "为了确定信号 $x[n]$ 的基波周期，我们首先需要将 $x[n]$ 表示为实值正弦函数。信号 $x[n]$ 定义为 $x_1[n]$ 的实部与 $x_2[n]$ 的虚部之和。我们可以使用欧拉公式来求出这两个部分，欧拉公式为 $e^{j\\theta} = \\cos(\\theta) + j\\sin(\\theta)$。\n\n首先，我们来分析信号 $x_1[n]$：\n$$x_1[n] = \\exp\\left(j\\frac{2\\pi}{5}n\\right) = \\cos\\left(\\frac{2\\pi}{5}n\\right) + j\\sin\\left(\\frac{2\\pi}{5}n\\right)$$\n因此，$x_1[n]$ 的实部是：\n$$\\text{Re}\\{x_1[n]\\} = \\cos\\left(\\frac{2\\pi}{5}n\\right)$$\n我们将这个分量信号称为 $y[n] = \\cos\\left(\\frac{2\\pi}{5}n\\right)$。\n\n接下来，我们来分析信号 $x_2[n]$：\n$$x_2[n] = \\exp\\left(j\\frac{2\\pi}{7}n\\right) = \\cos\\left(\\frac{2\\pi}{7}n\\right) + j\\sin\\left(\\frac{2\\pi}{7}n\\right)$$\n$x_2[n]$ 的虚部是：\n$$\\text{Im}\\{x_2[n]\\} = \\sin\\left(\\frac{2\\pi}{7}n\\right)$$\n我们将这个分量信号称为 $z[n] = \\sin\\left(\\frac{2\\pi}{7}n\\right)$。\n\n现在，我们可以将信号 $x[n]$ 写成这两个实值信号的和：\n$$x[n] = y[n] + z[n] = \\cos\\left(\\frac{2\\pi}{5}n\\right) + \\sin\\left(\\frac{2\\pi}{7}n\\right)$$\n\n信号 $x[n]$ 是周期的，当且仅当其两个分量 $y[n]$ 和 $z[n]$ 都是周期的。周期信号之和的基波周期是它们各自基波周期的最小公倍数 (LCM)。\n\n我们来求 $y[n] = \\cos(\\omega_y n)$ 的基波周期，其中角频率为 $\\omega_y = \\frac{2\\pi}{5}$。离散时间正弦信号是周期的，如果其角频率是 $2\\pi$ 的有理数倍。基波周期 $N_y$ 是使 $\\omega_y N_y$ 成为 $2\\pi$ 整数倍的最小正整数。\n$$\\frac{2\\pi}{5} N_y = 2\\pi k_y$$\n其中 $k_y$ 是一个整数。化简此式得到 $N_y = 5 k_y$。$N_y$ 的最小正整数值在 $k_y=1$ 时取得，因此 $y[n]$ 的基波周期是 $N_y = 5$。\n\n现在，我们来求 $z[n] = \\sin(\\omega_z n)$ 的基波周期，其中角频率为 $\\omega_z = \\frac{2\\pi}{7}$。类似地，基波周期 $N_z$ 必须满足：\n$$\\frac{2\\pi}{7} N_z = 2\\pi k_z$$\n其中 $k_z$ 是一个整数。化简得到 $N_z = 7 k_z$。$N_z$ 的最小正整数值在 $k_z=1$ 时取得，因此 $z[n]$ 的基波周期是 $N_z = 7$。\n\n和信号 $x[n] = y[n] + z[n]$ 的基波周期，记为 $N_0$，是各自基波周期 $N_y$ 和 $N_z$ 的最小公倍数。\n$$N_0 = \\text{LCM}(N_y, N_z) = \\text{LCM}(5, 7)$$\n由于 5 和 7 都是质数，它们的最小公倍数就是它们的乘积。\n$$N_0 = 5 \\times 7 = 35$$\n因此，信号 $x[n]$ 的基波周期是 35。", "answer": "$$\\boxed{35}$$", "id": "1741140"}, {"introduction": "我们的最后一个实践练习将深入探讨数字信号处理的一个关键方面：计算机运算的有限精度。这个思想实验探讨了一个信号的理论频率在用标准浮点数表示时会如何改变。你会发现，一个看似简单的十进制频率 $f_0 = 0.1$ 在计算机内部会变成一个分母巨大的有理数，从而导致一个令人惊讶的、非直观的超长基波周期，这一现象具有重要的实际意义。", "problem": "一个数字信号处理系统被设计用于生成一个离散时间复指数信号，其定义为 $x[n] = \\exp(j \\Omega_0 n)$，其中 $n$ 为整数。归一化角频率由 $\\Omega_0 = 2\\pi f_0$ 给出，其中数字频率 $f_0$ 的标称值为 $0.1$。然而，频率值 $f_0$ 在系统内存中是作为标准的电气和电子工程师协会 (IEEE) 754 单精度浮点数存储的。\n\nIEEE 754 单精度格式使用 32 位来表示一个数：1 个符号位 ($S$)，8 个偏置指数位 ($E$)，和 23 个小数位 ($M$)。该数的值由公式 $V = (-1)^S \\times (1.M)_2 \\times 2^{E-127}$ 给出，其中 $(1.M)_2$ 表示解释为带有隐含前导 1 的二进制数的有效数，并应用标准舍入规则。\n\n鉴于这一实现细节，确定所生成信号 $x[n]$ 的真实基波周期 $N_0$。基波周期是满足对于所有整数 $n$ 都有 $x[n+N_0] = x[n]$ 的最小正整数 $N_0$。", "solution": "离散时间复指数信号 $x[n] = \\exp(j 2\\pi f_0 n)$ 的周期性取决于其数字频率 $f_0$。信号是周期的当且仅当 $f_0$ 是一个有理数。如果 $f_0$ 可以表示为一个最简分数 $f_0 = \\frac{k}{N_0}$，其中 $k$ 和 $N_0$ 是整数且 $N_0 > 0$，那么信号的基波周期就是 $N_0$。\n\n我们的第一步是找出十进制值 $0.1$ 在作为 IEEE 754 单精度浮点数存储时其精确的有理数表示。\n\n第 1 步：将十进制数 $0.1$ 转换为其二进制表示。\n我们可以通过将小数部分重复乘以 2 来做到这一点：\n$0.1 \\times 2 = 0.2 \\implies$ 位 0\n$0.2 \\times 2 = 0.4 \\implies$ 位 0\n$0.4 \\times 2 = 0.8 \\implies$ 位 0\n$0.8 \\times 2 = 1.6 \\implies$ 位 1\n$0.6 \\times 2 = 1.2 \\implies$ 位 1\n$0.2 \\times 2 = 0.4 \\implies$ 位 0 (小数部分 $0.2$ 开始重复)\n二进制表示为 $0.1_{10} = 0.0001100110011..._2 = 0.0\\overline{0011}_2$。\n\n第 2 步：规格化二进制数并确定 IEEE 754 的各个字段。\n为了符合 IEEE 754 格式 $V = (-1)^S \\times (1.M)_2 \\times 2^{E-127}$，我们对二进制数进行规格化：\n$0.0001\\overline{1001}_2 = 1.\\overline{1001}_2 \\times 2^{-4}$。\n\n从这个规格化形式中，我们可以确定以下组成部分：\n- 该数为正，所以符号位 $S=0$。\n- 指数是 $-4$。偏置指数为 $E = -4 + 127 = 123$。用 8 位二进制表示，即为 $E = 123_{10} = 01111011_2$。\n- 小数部分（尾数）$M$ 由有效数 $1.\\overline{1001}_2$ 小数点后的前 23 位组成。有效数为 $1.1001100110011001100110011001..._2$。\n\n我们需要取前 23 位作为小数部分 $M$ 并进行舍入。\n这 23 位是：`1001 1001 1001 1001 1001 100`。\n第 24 位（保护位）是 `1`，并且随后的位不全为零（它是重复模式 `1001` 的一部分）。这意味着该值大于两个可表示数中间值，所以我们必须向上舍入。\n小数部分的第 23 位是 `0`。向上舍入将其变为 `1`。\n因此，存储的 23 位小数部分 $M$ 是 `10011001100110011001101`。\n\n第 3 步：从浮点表示中重构精确的有理数值。\n存储的值 $f_0$ 由 $f_0 = (-1)^0 \\times (1.10011001100110011001101)_2 \\times 2^{-4}$ 给出。\n让我们将二进制有效数转换为一个有理数。有效数是 $1$ 加上由 $M$ 表示的小数部分。\n小数部分为：\n$$ M_{value} = \\sum_{i=1}^{23} b_i 2^{-i}, \\quad \\text{其中 } M = b_1 b_2 ... b_{23} $$\n这可以计算为一个整数除以 $2^{23}$。比特串 `10011001100110011001101` 的整数值为：\n$M_{int} = 1 \\cdot 2^{22} + 0 \\cdot 2^{21} + ... + 1 \\cdot 2^0$\n$M_{int} = (2^{22} + 2^{19} + 2^{18} + 2^{15} + 2^{14} + 2^{11} + 2^{10} + 2^7 + 2^6 + 2^3 + 2^2 + 2^0) = 5033165$。\n因此，小数部分是 $\\frac{5033165}{2^{23}}$。\n完整的有效数是 $1 + \\frac{5033165}{2^{23}} = \\frac{2^{23} + 5033165}{2^{23}} = \\frac{8388608 + 5033165}{8388608} = \\frac{13421773}{8388608}$。\n\n最后，我们应用指数 $2^{-4}$：\n$$ f_0 = \\frac{13421773}{8388608} \\times 2^{-4} = \\frac{13421773}{8388608 \\times 16} = \\frac{13421773}{134217728} $$\n\n第 4 步：确定基波周期。\n信号的频率是 $f_0 = \\frac{13421773}{134217728}$。我们需要通过将此分数化简为其最简形式 $k/N_0$ 来找到基波周期 $N_0$。\n分母是 $134217728 = 2^{27}$。\n分子是 $13421773$。由于这是一个奇数，它与分母没有任何公因数 2。因此，分子和分母的最大公约数是 1。\n该分数已经是不可约的。\n\n通过将 $f_0 = \\frac{13421773}{134217728}$ 与形式 $f_0 = \\frac{k}{N_0}$ 进行比较，我们可以确定基波周期 $N_0$ 就是分母。\n因此，基波周期是 $N_0 = 134217728$。\n这与如果 $f_0$ 精确为 $0.1$ 时所期望的周期 10 有着天壤之别。", "answer": "$$\\boxed{134217728}$$", "id": "1741174"}]}