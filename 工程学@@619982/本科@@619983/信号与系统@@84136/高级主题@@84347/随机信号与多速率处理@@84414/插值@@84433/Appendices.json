{"hands_on_practices": [{"introduction": "插值是数字信号处理中的一项基本技术，通常通过一个两步过程来实现：先是上采样（插入零点），然后是低通滤波。这个练习将带你亲手完成这个过程，通过对一个简单的输入信号应用一个二点移动平均滤波器，直观地理解如何通过滤波来“填补”上采样引入的零值，从而平滑地提高信号的采样率。[@problem_id:1728378]", "problem": "在数字信号处理中，插值是提高信号采样率的过程。对于一个整数插值因子 $L$，这通常通过两个阶段实现。首先，通过在原始离散时间信号 $x[n]$ 的每个连续样本之间插入 $L-1$ 个零来创建一个中间信号 $w[n]$。此操作称为上采样。然后将生成的信号通过一个冲激响应为 $h[n]$ 的低通抗镜像滤波器，以生成最终的输出信号 $y[n]$。\n\n考虑一个有限长度的输入信号，定义为 $x[0]=2$，$x[1]=4$，$x[2]=0$，$x[3]=-2$，且对于所有其他整数 $n$，$x[n]=0$。该信号将以因子 $L=2$ 进行插值。\n\n抗镜像滤波器是一个简单的两点移动平均滤波器，其冲激响应由 $h[n] = 0.5(\\delta[n] + \\delta[n-1])$ 给出，其中 $\\delta[n]$ 是克罗内克δ函数。\n\n计算最终输出序列 $y[n]$ 中所有样本值的总和。即，求出 $S = \\sum_{n=-\\infty}^{\\infty} y[n]$ 的值。", "solution": "问题要求计算插值过程中输出信号 $y[n]$ 的所有样本之和。该过程包括两个步骤：将输入信号 $x[n]$ 以上采样因子 $L=2$ 进行上采样得到中间信号 $w[n]$，然后用抗镜像滤波器 $h[n]$ 对 $w[n]$ 进行滤波得到输出 $y[n]$。\n\n**步骤1：定义输入信号和插值因子。**\n输入信号为一个有限序列：\n$x[n] = \\{..., 0, \\underset{\\uparrow}{2}, 4, 0, -2, 0, ...\\}$\n其中箭头表示 $n=0$ 处的样本。具体来说，$x[0]=2$，$x[1]=4$，$x[2]=0$，$x[3]=-2$，且对于 $n0$ 和 $n>3$，$x[n]=0$。\n插值因子为 $L=2$。\n\n**步骤2：执行上采样操作。**\n上采样操作通过在 $x[n]$ 的每个样本之间插入 $L-1 = 2-1 = 1$ 个零来创建中间信号 $w[n]$。关系式为 $w[nL] = x[n]$，且如果 $k$ 不是 $L$ 的倍数，则 $w[k]=0$。\n对于 $L=2$，$w[2n] = x[n]$ 且 $w[2n+1]=0$。\n\n我们列出 $w[n]$ 的非零值：\n$w[0] = x[0] = 2$\n$w[2] = x[1] = 4$\n$w[4] = x[2] = 0$\n$w[6] = x[3] = -2$\n\n得到的上采样序列 $w[n]$ 是：\n$w[n] = \\{..., 0, \\underset{\\uparrow}{2}, 0, 4, 0, 0, 0, -2, 0, ...\\}$\n显式序列为 $w[0]=2, w[1]=0, w[2]=4, w[3]=0, w[4]=0, w[5]=0, w[6]=-2, w[7]=0$，且对于所有其他 $n$，$w[n]=0$。\n\n**步骤3：定义滤波器并执行卷积。**\n输出信号 $y[n]$是上采样信号 $w[n]$ 和滤波器冲激响应 $h[n]$ 的卷积。\n$y[n] = w[n] * h[n] = \\sum_{k=-\\infty}^{\\infty} h[k] w[n-k]$\n\n冲激响应由 $h[n] = 0.5\\delta[n] + 0.5\\delta[n-1]$ 给出。这意味着 $h[0]=0.5$，$h[1]=0.5$，且对于所有其他 $n$，$h[n]=0$。\n\n卷积和简化为：\n$y[n] = h[0]w[n-0] + h[1]w[n-1]$\n$y[n] = 0.5w[n] + 0.5w[n-1]$\n\n**步骤4：计算输出序列 $y[n]$ 的样本。**\n现在我们可以计算在输出可能非零的每个 $n$ 对应的 $y[n]$ 值。$w[n]$ 的非零部分是从 $n=0$ 到 $n=7$。$h[n]$ 的非零部分是从 $n=0$ 到 $n=1$。输出卷积序列的长度为 $N_w + N_h - 1 = 8 + 2 - 1 = 9$。因此我们预计非零值会出现在 $n=0$ 到 $n=8$ 的范围内。\n\n$y[0] = 0.5w[0] + 0.5w[-1] = 0.5(2) + 0.5(0) = 1$\n$y[1] = 0.5w[1] + 0.5w[0] = 0.5(0) + 0.5(2) = 1$\n$y[2] = 0.5w[2] + 0.5w[1] = 0.5(4) + 0.5(0) = 2$\n$y[3] = 0.5w[3] + 0.5w[2] = 0.5(0) + 0.5(4) = 2$\n$y[4] = 0.5w[4] + 0.5w[3] = 0.5(0) + 0.5(0) = 0$\n$y[5] = 0.5w[5] + 0.5w[4] = 0.5(0) + 0.5(0) = 0$\n$y[6] = 0.5w[6] + 0.5w[5] = 0.5(-2) + 0.5(0) = -1$\n$y[7] = 0.5w[7] + 0.5w[6] = 0.5(0) + 0.5(-2) = -1$\n$y[8] = 0.5w[8] + 0.5w[7] = 0.5(0) + 0.5(0) = 0$\n\n对于 $n > 8$，$y[n]$ 也将为零。\n完整的输出序列是 $y[n] = \\{..., 0, \\underset{\\uparrow}{1}, 1, 2, 2, 0, 0, -1, -1, 0, ...\\}$。\n\n**步骤5：计算所有样本的总和。**\n问题要求计算总和 $S = \\sum_{n=-\\infty}^{\\infty} y[n]$。\n$S = y[0] + y[1] + y[2] + y[3] + y[4] + y[5] + y[6] + y[7]$\n$S = 1 + 1 + 2 + 2 + 0 + 0 + (-1) + (-1) = 4$\n\n**替代方法（使用离散时间傅里叶变换的性质）：**\n序列的样本总和等于其离散时间傅里叶变换 (DTFT) 在频率 $\\omega=0$ 处的值。\n$S = \\sum_{n=-\\infty}^{\\infty} y[n] = Y(e^{j0})$，其中 $Y(e^{j\\omega})$ 是 $y[n]$ 的DTFT。\n\n由于 $y[n] = w[n] * h[n]$，它们的DTFT满足关系式 $Y(e^{j\\omega}) = W(e^{j\\omega}) H(e^{j\\omega})$。\n因此，$S = W(e^{j0}) H(e^{j0})$。\n\n我们来计算 $H(e^{j0})$ 和 $W(e^{j0})$。\n$H(e^{j\\omega}) = \\sum_n h[n] e^{-j\\omega n} = 0.5 e^{-j\\omega(0)} + 0.5 e^{-j\\omega(1)} = 0.5(1 + e^{-j\\omega})$.\n$H(e^{j0}) = 0.5(1+e^0) = 0.5(1+1) = 1$.\n\n上采样信号 $w[n]$ 的DTFT与原始信号 $x[n]$ 的DTFT的关系为 $W(e^{j\\omega}) = X(e^{jL\\omega})$。对于 $L=2$，$W(e^{j\\omega}) = X(e^{j2\\omega})$。\n$W(e^{j0}) = X(e^{j0})$。\n\n$X(e^{j0})$ 的值是原始信号 $x[n]$ 的样本之和：\n$X(e^{j0}) = \\sum_{n=-\\infty}^{\\infty} x[n] = 2 + 4 + 0 + (-2) = 4$。\n\n所以，$W(e^{j0}) = 4$。\n\n最后，总和 $S$ 为：\n$S = W(e^{j0}) H(e^{j0}) = (4) \\times (1) = 4$。\n\n两种方法得到相同的结果。", "answer": "$$\\boxed{4}$$", "id": "1728378"}, {"introduction": "除了标准的插值滤波器，零阶保持（Zero-Order Hold, ZOH）是另一种简单的信号重建方法，它通过重复每个采样点来“拉伸”信号。这个练习旨在揭示一个深刻的联系：ZOH操作本身可以被建模为我们已经熟悉的“上采样+滤波”框架。通过推导这个等效滤波器的冲激响应 $h[n]$，你将加深对信号处理系统模块化思想的理解。[@problem_id:1728149]", "problem": "考虑一个离散时间信号处理系统，它将输入信号 $x[n]$ 变换为输出信号 $y[n]$。该变换由规则 $y[n] = x[\\lfloor n/L \\rfloor]$ 定义，适用于所有整数 $n$，其中 $\\lfloor \\cdot \\rfloor$ 表示向下取整函数，$L$ 是一个大于1的固定正整数。该操作实际上将 $x[n]$ 的每个采样点保持 $L$ 个连续的时间步长。\n\n这整个操作可以被证明等效于一个两阶段过程：\n1.  首先，通过在原始信号 $x[n]$ 的每个采样点之间插入 $L-1$ 个零来创建一个中间信号 $v[n]$。这可以形式上写为：\n    $$ v[n] = \\begin{cases} x[n/L]  \\text{若 } n \\text{ 是 } L \\text{ 的倍数} \\\\ 0  \\text{其他情况} \\end{cases} $$\n2.  其次，将中间信号 $v[n]$ 通过一个冲激响应为 $h[n]$ 的线性时不变 (LTI) 滤波器，以产生最终输出，使得 $y[n] = (v * h)[n]$。\n\n确定这个等效 LTI 滤波器的冲激响应 $h[n]$。请用 $n$ 和 $L$ 将你的答案表示为一个闭合形式的表达式，并使用离散时间单位阶跃函数 $u[n]$，其定义为 $u[n]=1$ 当 $n \\ge 0$ 时，以及 $u[n]=0$ 当 $n  0$ 时。", "solution": "我们想要求一个冲激响应为 $h[n]$ 的LTI滤波器，使得对于任何输入 $x[n]$，这个两阶段操作（按因子 $L$ 插入零，然后进行滤波）能够再现由 $y[n] = x[\\lfloor n/L \\rfloor]$ 定义的信号。\n\n首先，我们将插零阶段表示为标准形式。令 $\\delta[n]$ 表示单位采样序列。在采样点之间插入 $L-1$ 个零的中间信号 $v[n]$ 可以写为\n$$\nv[n] = \\sum_{m=-\\infty}^{\\infty} x[m]\\,\\delta[n - mL].\n$$\n这与当 $n$ 是 $L$ 的倍数时 $v[n] = x[n/L]$ 且其他情况下 $v[n]=0$ 的定义是一致的。\n\nLTI系统的输出是卷积\n$$\ny[n] = (v * h)[n] = \\sum_{k=-\\infty}^{\\infty} v[k]\\,h[n-k].\n$$\n代入 $v[k]$ 的表达式并利用 $\\delta[\\cdot]$ 的筛选性质，得到\n$$\ny[n] = \\sum_{k=-\\infty}^{\\infty} \\left(\\sum_{m=-\\infty}^{\\infty} x[m]\\,\\delta[k - mL]\\right) h[n-k]\n= \\sum_{m=-\\infty}^{\\infty} x[m]\\,h[n - mL].\n$$\n我们要求对每个整数 $n$，上式都等于 $x[\\lfloor n/L \\rfloor]$。对于任意固定的 $n$，令 $m^{\\ast} = \\lfloor n/L \\rfloor$。那么 $n - m^{\\ast}L$ 属于整数区间 $\\{0,1,\\ldots,L-1\\}$，而对于任何 $m \\neq m^{\\ast}$，差值 $n - mL$ 不在该区间内。\n\n因此，为了确保 $y[n] = x[m^{\\ast}]$ 并且所有其他项都为零，我们必须有\n$$\nh[k] = 1 \\quad \\text{对于} \\quad k \\in \\{0,1,\\ldots,L-1\\}, \\quad \\text{且} \\quad h[k]=0 \\quad \\text{其他情况}.\n$$\n这是从 $n=0$ 开始、长度为 $L$ 的矩形脉冲。使用离散时间单位阶跃函数 $u[n]$，该冲激响应可表示为\n$$\nh[n] = u[n] - u[n - L].\n$$\n确实，使用这个 $h[n]$，我们得到\n$$\ny[n] = \\sum_{m=-\\infty}^{\\infty} x[m]\\,[u[n - mL] - u[n - mL - L]],\n$$\n这可以简化为 $y[n] = x[\\lfloor n/L \\rfloor]$，因为在求和中，当 $m = \\lfloor n/L \\rfloor$ 时，恰好有一项的系数为1（等于 $x[m]$），而所有其他项都为零。\n\n因此，所需的冲激响应是矩形脉冲\n$$\nh[n] = u[n] - u[n - L].\n$$", "answer": "$$\\boxed{u[n]-u[n-L]}$$", "id": "1728149"}, {"introduction": "理论上，理想的Sinc插值可以完美地从采样点重建一个带限信号。然而，当信号包含不连续点（如阶跃）时，这种理想重建会引入被称为吉布斯现象的振铃伪影。这个练习将引导你量化计算一个阶跃信号在Sinc插值后出现的最显著的下冲值，从而直观地感受到理论完美与实际应用之间的差距。[@problem_id:1728127]", "problem": "一个连续时间信号 $x(t)$ 由一个发生在采样时刻之间的阶跃间断点定义。具体来说，该信号由 $x(t) = 0$（当 $t  T_s/2$）和 $x(t) = 1$（当 $t \\ge T_s/2$）给出，其中 $T_s$ 是一个代表采样周期的正常数。\n\n该信号在 $T_s$ 的整数倍时刻进行采样，生成一个离散时间序列 $x[n] = x(nT_s)$，其中 $n$ 为所有整数。\n\n然后，使用理想的Whittaker-Shannon-Kotelnikov插值公式从这些采样点重建一个新的连续时间信号 $x_r(t)$：\n$$x_r(t) = \\sum_{n=-\\infty}^{\\infty} x[n] \\operatorname{sinc}\\left(\\frac{t - nT_s}{T_s}\\right)$$\nsinc函数定义为 $\\operatorname{sinc}(u) = \\frac{\\sin(\\pi u)}{\\pi u}$（当 $u \\neq 0$）和 $\\operatorname{sinc}(0) = 1$。\n\n这个重建过程等效于理想低通滤波，它会在不连续点附近引入振铃效应。计算重建信号最显著下冲的值，该下冲发生在时刻 $t = -T_s/2$。\n\n在计算中，你可以使用已知的Gregory-Leibniz级数的值：\n$$\\sum_{k=0}^{\\infty} \\frac{(-1)^k}{2k+1} = 1 - \\frac{1}{3} + \\frac{1}{5} - \\frac{1}{7} + \\dots = \\frac{\\pi}{4}$$\n\n将你的答案表示为一个数值，并四舍五入到四位有效数字。", "solution": "题目要求计算重建信号 $x_r(t)$ 在特定时刻 $t = -T_s/2$ 的值。\n\n首先，我们必须确定离散采样值 $x[n]$。原始信号为 $x(t)=1$（当 $t \\ge T_s/2$ 时）和 $x(t)=0$（当 $t  T_s/2$ 时）。采样在 $t=nT_s$ 时刻进行。\n因此，$x[n] = x(nT_s)$。这意味着如果 $nT_s \\ge T_s/2$，$x[n]=1$，这可以简化为 $n \\ge 1/2$。由于 $n$ 必须是整数，这个条件变为 $n \\ge 1$。对于所有其他整数，即 $n \\le 0$，我们有 $nT_s \\le 0  T_s/2$，所以 $x[n]=0$。\n总结起来，采样序列为：\n$$x[n] = \\begin{cases} 1  \\text{if } n \\ge 1 \\\\ 0  \\text{if } n \\le 0 \\end{cases}$$\n\n接下来，我们使用给定的插值公式来求 $x_r(t)$ 在 $t = -T_s/2$ 时的值。\n$$x_r(-T_s/2) = \\sum_{n=-\\infty}^{\\infty} x[n] \\operatorname{sinc}\\left(\\frac{-T_s/2 - nT_s}{T_s}\\right)$$\n由于当 $n \\le 0$ 时 $x[n]=0$，级数求和只需对 $n \\ge 1$ 的项进行。\n$$x_r(-T_s/2) = \\sum_{n=1}^{\\infty} (1) \\cdot \\operatorname{sinc}\\left(-\\frac{1}{2} - n\\right)$$\n\n现在我们展开sinc函数的定义 $\\operatorname{sinc}(u) = \\frac{\\sin(\\pi u)}{\\pi u}$：\n$$x_r(-T_s/2) = \\sum_{n=1}^{\\infty} \\frac{\\sin\\left(\\pi\\left(-\\frac{1}{2} - n\\right)\\right)}{\\pi\\left(-\\frac{1}{2} - n\\right)}$$\n\n让我们化简分子中的正弦项。\n$\\sin\\left(\\pi\\left(-\\frac{1}{2} - n\\right)\\right) = \\sin\\left(-\\frac{\\pi}{2} - n\\pi\\right)$。\n使用差角恒等式 $\\sin(A-B) = \\sin(A)\\cos(B) - \\cos(A)\\sin(B)$，令 $A = -n\\pi$ 且 $B=\\pi/2$，我们得到：\n$\\sin(-n\\pi)\\cos(\\pi/2) - \\cos(-n\\pi)\\sin(\\pi/2)$。\n由于 $\\sin(-n\\pi)=0$ 且 $\\cos(-n\\pi)=(-1)^n$，该表达式简化为 $0 \\cdot 0 - (-1)^n \\cdot 1 = -(-1)^n$。\n\n将此结果代回求和式中：\n$$x_r(-T_s/2) = \\sum_{n=1}^{\\infty} \\frac{-(-1)^n}{-\\pi\\left(n + \\frac{1}{2}\\right)} = \\frac{1}{\\pi} \\sum_{n=1}^{\\infty} \\frac{(-1)^n}{n + \\frac{1}{2}}$$\n\n让我们写出该级数的前几项：\n$$\\sum_{n=1}^{\\infty} \\frac{(-1)^n}{n + \\frac{1}{2}} = \\frac{-1}{1 + \\frac{1}{2}} + \\frac{1}{2 + \\frac{1}{2}} - \\frac{1}{3 + \\frac{1}{2}} + \\dots = \\frac{-1}{3/2} + \\frac{1}{5/2} - \\frac{1}{7/2} + \\dots$$\n$$= -\\frac{2}{3} + \\frac{2}{5} - \\frac{2}{7} + \\dots = -2\\left(\\frac{1}{3} - \\frac{1}{5} + \\frac{1}{7} - \\dots\\right)$$\n\n题目给出了Gregory-Leibniz级数：\n$$1 - \\frac{1}{3} + \\frac{1}{5} - \\frac{1}{7} + \\dots = \\frac{\\pi}{4}$$\n我们可以重新整理这个式子，以求得我们所需级数的值：\n$$\\frac{1}{3} - \\frac{1}{5} + \\frac{1}{7} - \\dots = 1 - \\frac{\\pi}{4}$$\n\n现在，将此结果代回我们的求和表达式中：\n$$\\sum_{n=1}^{\\infty} \\frac{(-1)^n}{n + \\frac{1}{2}} = -2\\left(1 - \\frac{\\pi}{4}\\right) = -2 + \\frac{\\pi}{2}$$\n\n最后，我们可以计算 $x_r(-T_s/2)$ 的值：\n$$x_r(-T_s/2) = \\frac{1}{\\pi} \\left(-2 + \\frac{\\pi}{2}\\right) = -\\frac{2}{\\pi} + \\frac{1}{2}$$\n\n为了得到最终的数值答案，我们计算该表达式的值：\n$$x_r(-T_s/2) = 0.5 - \\frac{2}{\\pi} \\approx 0.5 - \\frac{2}{3.14159265...} \\approx 0.5 - 0.63661977...$$\n$$x_r(-T_s/2) \\approx -0.13661977...$$\n\n四舍五入到四位有效数字，我们得到 $-0.1366$。", "answer": "$$\\boxed{-0.1366}$$", "id": "1728127"}]}