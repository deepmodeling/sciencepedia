{"hands_on_practices": [{"introduction": "插值过程始于一个关键的初始步骤：升采样，即在原始信号样本之间机械地插入零值。本练习 [@problem_id:1728410] 单独考察了这一基础过程，要求你形象地展示信号在进入后续滤波阶段前是如何被处理的。掌握这一步骤是理解信号采样率如何被有效提高的关键。", "problem": "在数字信号处理中，“升采样器”（upsampler）是一个将信号的采样率提高整数倍 $L$ 的系统。这个过程是插值（interpolation）的一个基本部分。升采样器通过在原始信号的每对连续样本之间插入 $L-1$ 个零值样本来工作。\n\n来自升采样器的输入信号 $x[n]$ 和相应的输出信号 $y[n]$ 之间的数学关系由下式给出：\n$$\ny[n] = \\begin{cases} \nx[n/L] & \\text{if } n \\text{ is an integer multiple of } L \\\\ \n0 & \\text{otherwise} \n\\end{cases}\n$$\n考虑一个离散时间输入信号，定义为 $x[n] = (4 - n) u[n]$，其中 $u[n]$ 是离散时间单位阶跃函数（定义为当 $n \\ge 0$ 时 $u[n]=1$ 且当 $n < 0$ 时 $u[n]=0$）。该信号由一个升采样因子为 $L=3$ 的升采样器处理。\n\n确定输出信号 $y[n]$ 的前10个样本序列，对应于索引 $n = 0, 1, 2, \\dots, 9$。将您的答案表示为这10个数值的序列。", "solution": "输入信号由 $x[n]=(4-n)u[n]$ 定义，其中当 $n\\geq 0$ 时 $u[n]=1$，当 $n<0$ 时 $u[n]=0$，因此对于 $n\\geq 0$，我们有 $x[n]=4-n$。\n\n因子为 $L=3$ 的升采样器产生\n$$\ny[n]=\\begin{cases}\nx[n/3] & \\text{if } n \\text{ is a multiple of } 3,\\\\\n0 & \\text{otherwise}.\n\\end{cases}\n$$\n等价地，对于 $n=3k$（其中 $k$ 为整数），$y[3k]=x[k]$，而对于其他 $n$，$y[n]=0$。\n\n对于所要求的索引 $n=0,1,2,\\dots,9$，$3$ 的倍数是 $n=0,3,6,9$，对应于 $k=0,1,2,3$。因此\n$$\ny[0]=x[0]=4,\\quad y[3]=x[1]=3,\\quad y[6]=x[2]=2,\\quad y[9]=x[3]=1,\n$$\n而对于此范围中非 $3$ 的倍数，\n$$\ny[1]=y[2]=y[4]=y[5]=y[7]=y[8]=0.\n$$\n因此，前10个样本 $y[0],y[1],\\dots,y[9]$ 是\n$$\n\\begin{pmatrix}\n4 & 0 & 0 & 3 & 0 & 0 & 2 & 0 & 0 & 1\n\\end{pmatrix}。\n$$", "answer": "$$\\boxed{\\begin{pmatrix}4 & 0 & 0 & 3 & 0 & 0 & 2 & 0 & 0 & 1\\end{pmatrix}}$$", "id": "1728410"}, {"introduction": "在理解了升采样之后，我们现在来探讨完整的两阶段插值过程。本练习 [@problem_id:1728378] 将补零操作与一个实用的抗镜像滤波器——简单的移动平均滤波器——相结合，以平滑升采样后的信号。通过计算最终的输出，你将亲身体验到插入的零值是如何被有意义的插值所替代的。", "problem": "在数字信号处理中，插值是提高信号采样率的过程。对于一个整数插值因子 $L$，这通常分两个阶段完成。首先，通过在原始离散时间信号 $x[n]$ 的每两个连续样本之间插入 $L-1$ 个零，来创建一个中间信号 $w[n]$。这个操作被称为升采样。然后将得到的信号通过一个冲激响应为 $h[n]$ 的低通抗镜像滤波器，以生成最终的输出信号 $y[n]$。\n\n考虑一个有限长度的输入信号，定义为 $x[0]=2$，$x[1]=4$，$x[2]=0$，$x[3]=-2$，且对于所有其他整数 $n$，有 $x[n]=0$。该信号将以因子 $L=2$ 进行插值。\n\n抗镜像滤波器是一个简单的两点移动平均滤波器，其冲激响应由 $h[n] = 0.5(\\delta[n] + \\delta[n-1])$ 给出，其中 $\\delta[n]$ 是克罗内克 delta 函数。\n\n计算最终输出序列 $y[n]$ 中所有样本值的和。即，求 $S = \\sum_{n=-\\infty}^{\\infty} y[n]$ 的值。", "solution": "问题要求计算插值过程中输出信号 $y[n]$ 的所有样本之和。该过程包括两个步骤：将输入信号 $x[n]$ 以因子 $L=2$ 进行升采样得到中间信号 $w[n]$，然后用抗镜像滤波器 $h[n]$ 对 $w[n]$ 进行滤波得到输出 $y[n]$。\n\n**第1步：定义输入信号和插值因子。**\n输入信号为一个有限序列：\n$x[n] = \\{..., 0, \\underset{\\uparrow}{2}, 4, 0, -2, 0, ...\\}$\n其中箭头指示 $n=0$ 处的样本。具体来说，$x[0]=2$，$x[1]=4$，$x[2]=0$，$x[3]=-2$，并且对于 $n<0$ 和 $n>3$，$x[n]=0$。\n插值因子为 $L=2$。\n\n**第2步：执行升采样操作。**\n升采样操作通过在 $x[n]$ 的每个样本之间插入 $L-1 = 2-1 = 1$ 个零来创建中间信号 $w[n]$。关系为 $w[nL] = x[n]$，如果 $k$ 不是 $L$ 的倍数，则 $w[k]=0$。\n对于 $L=2$，有 $w[2n] = x[n]$ 和 $w[2n+1]=0$。\n\n我们列出 $w[n]$ 的非零值：\n$w[0] = x[0] = 2$\n$w[2] = x[1] = 4$\n$w[4] = x[2] = 0$\n$w[6] = x[3] = -2$\n\n得到的升采样序列 $w[n]$ 是：\n$w[n] = \\{..., 0, \\underset{\\uparrow}{2}, 0, 4, 0, 0, 0, -2, 0, ...\\}$\n显式序列为 $w[0]=2, w[1]=0, w[2]=4, w[3]=0, w[4]=0, w[5]=0, w[6]=-2, w[7]=0$，对于所有其他 $n$，$w[n]=0$。\n\n**第3步：定义滤波器并执行卷积。**\n输出信号 $y[n]$ 是升采样信号 $w[n]$ 与滤波器冲激响应 $h[n]$ 的卷积。\n$y[n] = w[n] * h[n] = \\sum_{k=-\\infty}^{\\infty} h[k] w[n-k]$\n\n冲激响应由 $h[n] = 0.5\\delta[n] + 0.5\\delta[n-1]$ 给出。这意味着 $h[0]=0.5$，$h[1]=0.5$，对于所有其他 $n$，$h[n]=0$。\n\n卷积和简化为：\n$y[n] = h[0]w[n-0] + h[1]w[n-1]$\n$y[n] = 0.5w[n] + 0.5w[n-1]$\n\n**第4步：计算输出序列 $y[n]$ 的样本。**\n现在我们可以计算每个可能非零的 $y[n]$ 的值。$w[n]$ 的非零部分是从 $n=0$ 到 $n=7$。$h[n]$ 的非零部分是从 $n=0$ 到 $n=1$。输出卷积序列的长度是 $N_w + N_h - 1 = 8 + 2 - 1 = 9$。因此，我们预期非零值会从 $n=0$ 到 $n=8$。\n\n$y[0] = 0.5w[0] + 0.5w[-1] = 0.5(2) + 0.5(0) = 1$\n$y[1] = 0.5w[1] + 0.5w[0] = 0.5(0) + 0.5(2) = 1$\n$y[2] = 0.5w[2] + 0.5w[1] = 0.5(4) + 0.5(0) = 2$\n$y[3] = 0.5w[3] + 0.5w[2] = 0.5(0) + 0.5(4) = 2$\n$y[4] = 0.5w[4] + 0.5w[3] = 0.5(0) + 0.5(0) = 0$\n$y[5] = 0.5w[5] + 0.5w[4] = 0.5(0) + 0.5(0) = 0$\n$y[6] = 0.5w[6] + 0.5w[5] = 0.5(-2) + 0.5(0) = -1$\n$y[7] = 0.5w[7] + 0.5w[6] = 0.5(0) + 0.5(-2) = -1$\n$y[8] = 0.5w[8] + 0.5w[7] = 0.5(0) + 0.5(0) = 0$\n\n对于 $n > 8$，$y[n]$ 也将为零。\n完整的输出序列为 $y[n] = \\{..., 0, \\underset{\\uparrow}{1}, 1, 2, 2, 0, 0, -1, -1, 0, ...\\}$。\n\n**第5步：计算所有样本的和。**\n问题要求计算和 $S = \\sum_{n=-\\infty}^{\\infty} y[n]$。\n$S = y[0] + y[1] + y[2] + y[3] + y[4] + y[5] + y[6] + y[7]$\n$S = 1 + 1 + 2 + 2 + 0 + 0 + (-1) + (-1) = 4$\n\n**替代方法（使用离散时间傅里叶变换的性质）：**\n一个序列的样本之和等于其在频率 $\\omega=0$ 处的离散时间傅里叶变换（DTFT）的值。\n$S = \\sum_{n=-\\infty}^{\\infty} y[n] = Y(e^{j0})$，其中 $Y(e^{j\\omega})$ 是 $y[n]$ 的 DTFT。\n\n由于 $y[n] = w[n] * h[n]$，它们的 DTFT 关系为 $Y(e^{j\\omega}) = W(e^{j\\omega}) H(e^{j\\omega})$。\n因此，$S = W(e^{j0}) H(e^{j0})$。\n\n我们来计算 $H(e^{j0})$ 和 $W(e^{j0})$。\n$H(e^{j\\omega}) = \\sum_n h[n] e^{-j\\omega n} = 0.5 e^{-j\\omega(0)} + 0.5 e^{-j\\omega(1)} = 0.5(1 + e^{-j\\omega})$。\n$H(e^{j0}) = 0.5(1+e^0) = 0.5(1+1) = 1$。\n\n升采样信号 $w[n]$ 的 DTFT 与原始信号 $x[n]$ 的 DTFT 之间的关系是 $W(e^{j\\omega}) = X(e^{jL\\omega})$。对于 $L=2$，有 $W(e^{j\\omega}) = X(e^{j2\\omega})$。\n$W(e^{j0}) = X(e^{j0})$。\n\n值 $X(e^{j0})$ 是原始信号 $x[n]$ 的样本之和：\n$X(e^{j0}) = \\sum_{n=-\\infty}^{\\infty} x[n] = 2 + 4 + 0 + (-2) = 4$。\n\n所以，$W(e^{j0}) = 4$。\n\n最后，和 $S$ 为：\n$S = W(e^{j0}) H(e^{j0}) = (4) \\times (1) = 4$。\n\n两种方法得到相同的结果。", "answer": "$$\\boxed{4}$$", "id": "1728378"}, {"introduction": "虽然实用滤波器能提供很好的近似效果，但理解理论上的黄金标准——理想插值器——也至关重要。本问题 [@problem_id:1728389] 将引导你使用以sinc函数为特征的理想低通滤波器来完成插值。这个练习将加深你对信号在理论上如何实现完美重建的理解，并揭示插值过程背后的数学精妙之处。", "problem": "一个离散时间信号由表达式 $x[n] = \\delta[n] - \\delta[n-2]$ 定义，其中 $\\delta[n]$ 表示克罗内克δ函数。该信号由一个理想离散时间插值器处理，该插值器旨在将采样率提高一个整数因子 $L=2$。该插值系统分两个阶段运行。首先，一个升采样器通过在输入信号 $x[n]$ 的每对连续采样点之间插入 $L-1=1$ 个零值来产生一个中间信号 $x_u[n]$。其次，这个升采样后的信号通过一个理想低通滤波器。对于插值因子 $L$，该滤波器的增益在数值上等于 $L$，其归一化截止频率为 $\\omega_c = \\pi/L$。该滤波器对应的冲激响应为 $h[n] = L \\frac{\\sin(\\omega_c n)}{\\pi n}$。\n\n确定最终输出信号 $y[n]$ 的简化闭式表达式。您的最终表达式应对所有不会导致数学不定式的整数 $n$ 值有效。", "solution": "给定 $x[n] = \\delta[n] - \\delta[n-2]$ 且插值因子 $L=2$，升采样器在连续采样点之间插入一个零值。使用克罗内克δ函数的筛选特性得到升采样序列：\n$$\nx_{u}[n] = \\sum_{k=-\\infty}^{\\infty} x[k]\\,\\delta[n-2k] \n= \\delta[n] - \\delta[n-4].\n$$\n理想低通插值滤波器的归一化截止频率为 $\\omega_{c} = \\pi/2$，其冲激响应为\n$$\nh[n] = 2\\,\\frac{\\sin\\!\\left(\\frac{\\pi}{2}n\\right)}{\\pi n},\n$$\n其中 $h[0]$ 由其极限 $h[0]=1$ 定义。\n\n输出是卷积 $y[n] = (x_{u} * h)[n]$。利用与δ函数卷积的筛选特性，\n$$\ny[n] = h[n] - h[n-4].\n$$\n代入 $h[\\cdot]$，\n$$\ny[n] = 2\\,\\frac{\\sin\\!\\left(\\frac{\\pi}{2}n\\right)}{\\pi n}\n- 2\\,\\frac{\\sin\\!\\left(\\frac{\\pi}{2}(n-4)\\right)}{\\pi (n-4)}.\n$$\n使用 $\\sin\\!\\left(\\frac{\\pi}{2}(n-4)\\right) = \\sin\\!\\left(\\frac{\\pi}{2}n - 2\\pi\\right) = \\sin\\!\\left(\\frac{\\pi}{2}n\\right)$，上式可简化为\n$$\ny[n] = \\frac{2}{\\pi}\\,\\sin\\!\\left(\\frac{\\pi}{2}n\\right)\\!\\left(\\frac{1}{n} - \\frac{1}{n-4}\\right)\n= -\\,\\frac{8}{\\pi}\\,\\frac{\\sin\\!\\left(\\frac{\\pi}{2}n\\right)}{n(n-4)}.\n$$\n此闭式对除 $n=0$ 和 $n=4$ 之外的所有整数 $n$ 均有效，在 $n=0$ 和 $n=4$ 处为不定式；通过连续性（或根据未简化的表达式）可得对应值为 $y[0]=1$ 和 $y[4]=-1$。", "answer": "$$\\boxed{-\\frac{8}{\\pi}\\,\\frac{\\sin\\!\\left(\\frac{\\pi}{2}n\\right)}{n\\,(n-4)}}$$", "id": "1728389"}]}