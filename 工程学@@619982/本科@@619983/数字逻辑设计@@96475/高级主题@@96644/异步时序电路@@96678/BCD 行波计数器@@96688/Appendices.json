{"hands_on_practices": [{"introduction": "要真正掌握 BCD 纹波计数器，我们必须从其最基本的操作入手：逐个脉冲地跟踪其状态变化。这个练习将带您深入了解异步计数器的“纹波”效应，即一个触发器的状态翻转如何触发下一个触发器。通过手动模拟这个过程，您将建立对计数器内部工作机制的直观理解，这是诊断更复杂行为和时序问题的关键。[@problem_id:1912256]", "problem": "一个4位异步二进制编码十进制（BCD）涟波计数器由负边沿触发的J-K触发器构成，其中所有触发器的J和K输入端永久连接到高逻辑电平。计数器的输出由触发器的状态 $Q_3Q_2Q_1Q_0$ 表示，其中 $Q_3$ 是最高有效位（MSB），$Q_0$ 是最低有效位（LSB）。该计数器设计用于从 0000（十进制0）计数到 1001（十进制9），并在下一个时钟脉冲时复位到 0000。\n\n最初，计数器被异步预置到对应于十进制数4的二进制状态。随之，一系列时钟脉冲被施加到最低有效位（LSB）触发器（即对应输出 $Q_0$ 的那个）的时钟输入端。\n\n在恰好3个后续时钟脉冲发生后，计数器的二进制状态 $Q_3Q_2Q_1Q_0$ 是什么？\n\nA. 0111\nB. 0110\nC. 1000\nD. 0011\nE. 0101", "solution": "问题要求一个 BCD 涟波计数器从预置状态4开始，在经过3个时钟脉冲后的状态。\n\n首先，我们来确定计数器的初始状态。计数器被预置为十进制数4。在4位二进制表示法（$Q_3Q_2Q_1Q_0$）中，这对应于：\n初始状态：$Q_3Q_2Q_1Q_0 = 0100$。\n\n该计数器是一个由负边沿触发的J-K触发器构成的异步（涟波）计数器。由于J和K输入端被连接到高电平（$J=1, K=1$），每个触发器被配置为在其时钟输入端接收到一个负边沿时翻转其状态。\n\n在涟波计数器中，外部时钟仅施加于第一个触发器（FF0，对应于LSB $Q_0$）。每个后续触发器（FFi）的时钟输入由前一个触发器的输出（$Q_{i-1}$）驱动。这意味着FF1由$Q_0$提供时钟，FF2由$Q_1$提供时钟，FF3由$Q_2$提供时钟。由于触发器是负边沿触发的，触发器仅当其时钟输入从高电平（1）转换到低电平（0）时才会翻转。\n\n我们来追踪这3个时钟脉冲中每一个脉冲后计数器的状态。\n\n**初始状态：** $Q_3=0, Q_2=1, Q_1=0, Q_0=0$。\n\n**第一个时钟脉冲后：**\n1.  外部时钟向FF0施加一个负边沿。\n2.  $Q_0$ 从当前状态0翻转到1。\n3.  输出 $Q_0$ 从0转换到1。这是一个上升沿，而不是下降（负）沿。因此，它不会触发FF1。\n4.  由于FF1不翻转，$Q_1$ 保持为0。因此，FF2不被触发，$Q_2$ 保持为1。同样地，FF3不被触发，$Q_3$ 保持为0。\n5.  计数器的新状态是 $Q_3Q_2Q_1Q_0 = 0101$。这对应于十进制数5。\n\n**第二个时钟脉冲后：**\n1.  外部时钟向FF0施加另一个负边沿。\n2.  $Q_0$ 从当前状态1翻转到0。\n3.  输出 $Q_0$ 从1转换到0。这是一个下降（负）沿，它作为FF1的时钟信号。\n4.  FF1从$Q_0$接收到一个负边沿并翻转。$Q_1$ 从0变为1。\n5.  输出 $Q_1$ 从0转换到1。这是一个上升沿，所以它不会触发FF2。$Q_2$ 保持为1。\n6.  由于 $Q_2$ 没有改变，FF3不被触发。$Q_3$ 保持为0。\n7.  计数器的新状态是 $Q_3Q_2Q_1Q_0 = 0110$。这对应于十进制数6。\n\n**第三个时钟脉冲后：**\n1.  外部时钟向FF0施加第三个负边沿。\n2.  $Q_0$ 从当前状态0翻转到1。\n3.  输出 $Q_0$ 从0转换到1。这是一个上升沿，所以它不会触发FF1。\n4.  由于FF1不翻转，$Q_1$ 保持为1。因此，FF2不被触发，$Q_2$ 保持为1。同样地，FF3不被触发，$Q_3$ 保持为0。\n5.  计数器的新状态是 $Q_3Q_2Q_1Q_0 = 0111$。这对应于十进制数7。\n\n计数序列为 4 -> 5 -> 6 -> 7。BCD属性（即当计数大于9时进行复位）在此范围内未被激活。计数器此时仅表现为标准的二进制加法计数器。\n\n3个时钟脉冲后的最终状态是 0111。这对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1912256"}, {"introduction": "理解了基本的脉冲驱动机制后，我们来探究 BCD 计数器的核心特征：如何将一个标准的二进制计数器截断为十进制计数。这通常通过一个逻辑门（如与非门）来实现，它检测到特定状态（例如计数值 10）并触发异步复位。这个练习模拟了一个常见的电路故障场景，挑战您分析复位逻辑的失效将如何改变计数器的计数模数 ($modulus$)，从而加深您对计数周期决定方式的理解。[@problem_id:1909933]", "problem": "一个异步4位二进制波纹上升计数器由四个负边沿触发的J-K触发器构成。所有J和K输入都永久连接到逻辑'1'，以将它们配置为翻转（T型）触发器。这些触发器的输出表示为$Q_D, Q_C, Q_B, Q_A$，其中$Q_A$代表最低有效位（LSB），$Q_D$代表最高有效位（MSB）。\n\n为了用作一个模为10的二进制编码的十进制（BCD）计数器，该计数器在达到计数值十（$1010_2$）时必须被复位。这是通过使用一个双输入与非门来实现的。该与非门的输出连接到所有四个触发器的异步、低电平有效的`CLEAR`输入。在一个正常工作的BCD计数器中，该与非门的两个输入连接到在状态$1010_2$期间处于逻辑'1'的特定触发器输出。\n\n现在，考虑电路中出现故障的场景。本应连接到输出$Q_B$的与非门输入发生了永久性恒定为1故障，这意味着无论$Q_B$的状态如何，它都保持在恒定的高逻辑电平。连接到$Q_D$的另一个与非门输入仍然功能完好。\n\n确定这个故障计数器的新计数模数。计数器的模数定义为其循环经过的唯一稳定状态的数量。", "solution": "所有四个J-K触发器都有$J=K=1$，因此每个触发器都表现为T型触发器，并在其时钟输入的每个负时钟边沿翻转：\n$$Q^{+}=\\overline{Q} \\quad \\text{on each negative clock edge at its clock input.}$$\n在一个波纹上升计数器中，$Q_{A}$由外部时钟提供时钟信号，$Q_{B}$由$Q_{A}$提供，$Q_{C}$由$Q_{B}$提供，$Q_{D}$由$Q_{C}$提供，所有触发都是在负边沿。\n\n在预期的BCD设计中，一个双输入与非门通过将其输入连接到$Q_{D}$和$Q_{B}$来检测状态$1010_{2}$，因此当$Q_{D}=Q_{B}=1$时，它会触发异步低电平有效的清零信号。\n\n在存在故障的情况下，本应连接到$Q_{B}$的与非门输入恒定为逻辑$1$。假设与非门的输入为$X$和$Q_{D}$，且$X=1$。那么与非门的输出为\n$$Y=\\overline{X \\cdot Q_{D}}=\\overline{1 \\cdot Q_{D}}=\\overline{Q_{D}}.$$\n这个输出$Y$驱动所有触发器的低电平有效CLEAR输入，因此异步清零信号恰好在$Q_{D}=1$时被触发。\n\n因此，任何时候当$Q_{D}$试图变为$1$时，清零信号会立即被触发，并将所有输出强制为$0$。因此，任何$Q_{D}=1$的稳定状态都无法持续。计数器只能呈现$Q_{D}=0$的稳定状态，也就是从$0000_{2}$到$0111_{2}$的二进制状态。\n\n从$0000_{2}$开始，正常的波纹计数过程是\n$$0000 \\to 0001 \\to 0010 \\to 0011 \\to 0100 \\to 0101 \\to 0110 \\to 0111.$$\n下一个正常状态本应是$1000$，这要求当$Q_{C}$发生$1 \\to 0$的跳变时，$Q_{D}$翻转为$1$。在那一刻，由于$Y=\\overline{Q_D}$，异步清零信号被触发，并强制\n$$Q_{D}Q_{C}Q_{B}Q_{A}=0000,$$\n重新开始序列。因此，该计数器循环经过恰好$8$个唯一稳定状态。\n\n所以，新的计数模数是$8$。", "answer": "$$\\boxed{8}$$", "id": "1909933"}, {"introduction": "在数字电路中，一个微小的故障可能会产生连锁反应，影响多个部分的功能。这个综合性练习将检验您的全面分析能力。通过设定一个卡在固定电平的触发器输出故障，您需要同时考虑它对计数信号“纹波”传递链和对复位逻辑电路的双重影响，最终推导出计数器在这种非理想情况下的实际工作序列。[@problem_id:1912220]", "problem": "一个二-十进制（BCD）十进制纹波计数器由四个负边沿触发的J-K触发器构成。输出被指定为 $Q_D, Q_C, Q_B, Q_A$，其中 $Q_A$ 是最低有效位（LSB）。对于所有触发器，J和K输入永久连接到逻辑‘1’电平，将它们配置为在翻转模式下工作。\n\n时钟安排如下：一个外部时钟信号仅施加到触发器A的时钟输入端。输出 $Q_A$ 作为触发器B的时钟，输出 $Q_B$ 作为触发器C的时钟，输出 $Q_C$ 作为触发器D的时钟。\n\n为确保计数器在计数到9（二进制1001）后复位，使用了一个与非门。该与非门的输入连接到输出 $Q_D$ 和 $Q_B$。与非门的输出连接到所有四个触发器的低电平有效异步`CLEAR`输入端。计数器初始化到状态 $Q_D Q_C Q_B Q_A = 0000$。\n\n现在，假设电路中出现一个故障，使得第三个触发器的输出 $Q_C$ 永久固定为0。下列哪个选项正确描述了由状态 $Q_D Q_C Q_B Q_A$ 表示的十进制等价值的重复序列？\n\nA. 0, 1, 2, 3\nB. 0, 1, 2, 3, 4, 5, 6, 7\nC. 0, 1, 2, 3, 8, 9\nD. 0, 1\nE. 0, 1, 2, 3, 4, 5, 6, 7, 8, 9", "solution": "每个J-K触发器都有 $J=K=1$，因此每个触发器在其时钟的每个负边沿都会翻转。时钟链为：外部时钟输入到触发器A；$Q_{A}$ 作为B的时钟；$Q_{B}$ 作为C的时钟；$Q_{C}$ 作为D的时钟。异步清零是低电平有效的，并由 $Q_{D}$ 和 $Q_{B}$ 的与非门驱动，因此其输出为\n$$Y=\\overline{Q_{D}\\cdot Q_{B}}.$$\n当 $Q_{D}=Q_{B}=1$ 时，$Y=0$，所有触发器被异步清零到 $0000$，这种情况发生在计数器本应达到 $1010$（十进制的十）时，从而按预期在计数到九之后复位。\n\n在 $Q_{C}\\equiv 0$（固定为0）的故障下，会立即产生两个后果：\n1) 触发器D永远不会接收到负时钟边沿，因为它的时钟输入是 $Q_{C}$，而 $Q_{C}$ 是恒定的。因此 $Q_{D}$ 始终保持其初始值 $0$。\n2) 与非门的输出固定为\n$$Y=\\overline{Q_{D}\\cdot Q_{B}}=\\overline{0\\cdot Q_{B}}=\\overline{0}=1,$$\n因此在初始化后，低电平有效的清零信号永远不会被置为有效。因此，在计数过程中没有异步复位。\n\n因此，只有触发器A和B在主动计数，形成一个由外部时钟驱动的2位纹波计数器：$Q_{B}Q_{A}$ 会重复地循环通过 $00,01,10,11$。在 $Q_{D}=0$ 和 $Q_{C}=0$ 永久固定的情况下，完整状态 $Q_{D}Q_{C}Q_{B}Q_{A}$ 将循环通过\n$$0000\\ (0),\\ 0001\\ (1),\\ 0010\\ (2),\\ 0011\\ (3),\\ \\text{然后重复},$$\n所以重复的十进制序列是 $0,1,2,3$。\n\n因此，正确选项是A。", "answer": "$$\\boxed{A}$$", "id": "1912220"}]}