{"hands_on_practices": [{"introduction": "内置自测试（BIST）的核心是能够高效地生成大量测试向量。线性反馈移位寄存器（LFSR）是实现这一目标的关键构件。通过这个练习，你将亲手模拟一个由本原多项式定义的 LFSR 的状态演化过程，从而直观地理解其如何生成伪随机序列。[@problem_id:1917404]", "problem": "在设计一个内建自测试 (BIST) 系统时，需要一个测试模式生成器 (TPG) 来为待测电路生成一系列输入序列。\n\n为此，选用了一个3位线性反馈移位寄存器 (LFSR)。\n\n该LFSR由D触发器构成，其输出标记为 $Q_2$、$Q_1$ 和 $Q_0$，分别代表从最高有效位到最低有效位的状态。该寄存器作为一个右移寄存器工作：在每个时钟周期，位于 $Q_2$ 的位移动到 $Q_1$，位于 $Q_1$ 的位移动到 $Q_0$。位于 $Q_0$ 的位在用于反馈计算后被丢弃。\n\n馈入第一个触发器 ($D_2$) 的新输入位由一个反馈函数确定。该函数由本原多项式 $P(x) = x^3 + x + 1$ 定义。实现该多项式的惯例是，最高有效位 ($D_2$) 的输入是多项式中低次项所对应的输出的异或 (XOR) 和。也就是说，多项式中的一个项 $x^k$（其中 $k \\in \\{0, 1, 2\\}$）表示输出 $Q_k$ 是提供反馈的异或门的一个输入。\n\n如果该LFSR初始化为非零状态 $Q_2Q_1Q_0 = 100$，那么在恰好5个时钟周期后，寄存器的二进制状态（表示为字符串 $Q_2Q_1Q_0$）是什么？\n\nA. `011`\n\nB. `111`\n\nC. `001`\n\nD. `010`\n\nE. `110`", "solution": "此LFSR是一个右移寄存器，状态位为 $(Q_{2},Q_{1},Q_{0})$，本原多项式为 $P(x)=x^{3}+x+1$。根据惯例，抽头位于 $x^{1}$ 和 $x^{0}$ 处，因此反馈到 $D_{2}$ 的输入是 $Q_{1}$ 和 $Q_{0}$ 的异或：\n$$D_{2}=Q_{1}\\oplus Q_{0}.$$\n右移操作给出了下一状态关系：\n$$Q_{2}^{+}=D_{2}=Q_{1}\\oplus Q_{0},\\quad Q_{1}^{+}=Q_{2},\\quad Q_{0}^{+}=Q_{1}.$$\n因此状态更新为\n$$(Q_{2}^{+},Q_{1}^{+},Q_{0}^{+})=(Q_{1}\\oplus Q_{0},\\,Q_{2},\\,Q_{1}).$$\n从初始非零状态 $(Q_{2},Q_{1},Q_{0})=(1,0,0)$ 开始，迭代5个时钟周期：\n\n周期 1:\n$$Q_{2}^{+}=0\\oplus 0=0,\\quad Q_{1}^{+}=1,\\quad Q_{0}^{+}=0\\;\\Rightarrow\\;(0,1,0).$$\n\n周期 2:\n$$Q_{2}^{+}=1\\oplus 0=1,\\quad Q_{1}^{+}=0,\\quad Q_{0}^{+}=1\\;\\Rightarrow\\;(1,0,1).$$\n\n周期 3:\n$$Q_{2}^{+}=0\\oplus 1=1,\\quad Q_{1}^{+}=1,\\quad Q_{0}^{+}=0\\;\\Rightarrow\\;(1,1,0).$$\n\n周期 4:\n$$Q_{2}^{+}=1\\oplus 0=1,\\quad Q_{1}^{+}=1,\\quad Q_{0}^{+}=1\\;\\Rightarrow\\;(1,1,1).$$\n\n周期 5:\n$$Q_{2}^{+}=1\\oplus 1=0,\\quad Q_{1}^{+}=1,\\quad Q_{0}^{+}=1\\;\\Rightarrow\\;(0,1,1).$$\n\n在恰好5个时钟周期后，状态为 $Q_{2}Q_{1}Q_{0}=011$，对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1917404"}, {"introduction": "仅仅生成测试向量是不够的，我们还必须评估这些向量检测制造缺陷的有效性。这个练习将引导你分析一个简单的BIST方案的故障覆盖率，这是衡量测试集质量的关键指标。通过对一个基本逻辑门应用“固定型故障”模型，你将学会如何量化测试的有效性。[@problem_id:1917374]", "problem": "在设计一种新型低功耗微处理器时，一个关键的奇偶校验单元依赖于一个基本的双输入异或门。设此门的输入表示为 $I_1$ 和 $I_2$，输出表示为 $O$。为了确保制造后的运行可靠性，芯片中集成了一个简易的内建自测试（BIST）控制器。由于严格的面积和功耗限制，该控制器只能生成一组非常有限的测试向量。整个测试序列仅包含施加于 $(I_1, I_2)$ 的两个输入模式：模式 $(0, 1)$ 后跟着模式 $(1, 0)$。\n\n您的任务是分析此BIST方案的有效性。主要关注点是检测单固定故障。此故障模型假设门的某个端点——输入 ($I_1$, $I_2$) 或输出 ($O$)——只有一个永久“固定”在逻辑0（固定0故障）或逻辑1（固定1故障）。在本分析中，假设在任何给定时间电路中只存在一个此类故障。\n\n计算此特定BIST序列对双输入异或门所实现的故障覆盖率。将您的答案表示为一个十进制数值，并四舍五入到三位有效数字。", "solution": "我们分析一个双输入异或门，其输入为 $I_{1}$、$I_{2}$，输出为 $O$，其中 $O=I_{1}\\oplus I_{2}$。BIST施加两个模式：$(I_{1},I_{2})=(0,1)$ 和 $(1,0)$。在无故障操作下，对于这两种模式，输出为\n$$\nO_{\\text{good}}(0,1)=0\\oplus 1=1,\\quad O_{\\text{good}}(1,0)=1\\oplus 0=1.\n$$\n在端点 $\\{I_{1},I_{2},O\\}$ 上，根据单固定故障模型（SA0或SA1），总共有 $6$ 种故障。如果对于至少一种施加的模式，观测到的输出与无故障输出不同，则该故障被检测到。\n\n- 故障 $I_{1}$ SA0：对于第一个模式，有效输入为 $(0,1)$，得到 $O=0\\oplus 1=1$（在 $(0,1)$ 上未检测到）；对于第二个模式，有效输入变为 $(0,0)$，得到 $O=0\\oplus 0=0\\neq 1$（在 $(1,0)$ 上检测到）。\n- 故障 $I_{1}$ SA1：对于第一个模式，有效输入变为 $(1,1)$，得到 $O=1\\oplus 1=0\\neq 1$（在 $(0,1)$ 上检测到）；对于第二个模式，输入保持为 $(1,0)$，得到 $O=1$（已被检测到）。\n- 故障 $I_{2}$ SA0：对于第一个模式，有效输入变为 $(0,0)$，得到 $O=0\\oplus 0=0\\neq 1$（在 $(0,1)$ 上检测到）；对于第二个模式，输入保持为 $(1,0)$，得到 $O=1$（已被检测到）。\n- 故障 $I_{2}$ SA1：对于第一个模式，有效输入保持为 $(0,1)$，得到 $O=1$（在 $(0,1)$ 上未检测到）；对于第二个模式，输入变为 $(1,1)$，得到 $O=1\\oplus 1=0\\neq 1$（在 $(1,0)$ 上检测到）。\n- 故障 $O$ SA0：对于两种模式，观测到的输出均为 $0$，而 $O_{\\text{good}}=1$，因此被检测到。\n- 故障 $O$ SA1：对于两种模式，观测到的输出均为 $1$，与两种模式的 $O_{\\text{good}}=1$ 相匹配，因此未被检测到。\n\n因此，在 $6$ 种故障中有 $5$ 种被检测到。故障覆盖率为\n$$\n\\text{coverage}=\\frac{5}{6}=0.833\\ldots,\n$$\n四舍五入到三位有效数字为 $0.833$。", "answer": "$$\\boxed{0.833}$$", "id": "1917374"}, {"introduction": "在测试过程中，被测电路会产生海量输出数据，直接比较这些数据是不切实际的。因此，BIST 需要一种方法来压缩这些响应。这个练习将向你展示一种基础的数据压缩技术——特征分析，通过一个简单的“1计数”累加器，将冗长的测试响应压缩成一个紧凑的数字签名以便于验证。[@problem_id:1917364]", "problem": "一位数字系统工程师正在使用内建自测试（BIST）机制测试一个新制造的逻辑电路。\n\n该BIST硬件包含一个测试响应分析器，其设计目的是从电路的4位输出总线（表示为 `Y[3:0]`）生成一个特征码。\n\n该分析器的操作如下：它包含一个内部累加器寄存器，在测试序列开始前初始化为零。在测试过程中的每个时钟周期，分析器会计算输出总线 `Y` 上处于高电平（'1'）的位数。然后将此计数值加到累加器寄存器中当前存储的值上。此过程在整个测试序列期间重复进行。\n\n对于一个无故障电路，已知测试序列会在三个连续的时钟周期内在总线 `Y[3:0]` 上产生以下输出向量：\n- 在时钟周期 T=1 时：`1011`\n- 在时钟周期 T=2 时：`0110`\n- 在时钟周期 T=3 时：`1111`\n\n假设电路无故障，计算最终的特征码，即第三个时钟周期后（在 T=3 时）存储在累加器寄存器中的十进制值。", "solution": "分析器会随时间累加4位总线上高电平位的数量。设 $A_{t}$ 为时钟周期 $t$ 后的累加器值，初始条件为 $A_{0}=0$。设 $w(b)$ 表示4位向量 $b$ 中1的数量（其汉明权重）。在每个周期，\n$$\nA_{t}=A_{t-1}+w\\big(Y(T=t)\\big).\n$$\n计算给定输出的权重：\n$$\nw(1011)=3,\\quad w(0110)=2,\\quad w(1111)=4.\n$$\n在三个周期内更新累加器：\n$$\nA_{1}=A_{0}+3=0+3=3,\n$$\n$$\nA_{2}=A_{1}+2=3+2=5,\n$$\n$$\nA_{3}=A_{2}+4=5+4=9.\n$$\n因此，在 $T=3$ 后的最终特征码是 $A_{3}=9$。", "answer": "$$\\boxed{9}$$", "id": "1917364"}]}