{"hands_on_practices": [{"introduction": "理论知识通过实践得以升华。在设计任何复杂的电平转换电路之前，首要步骤是评估是否可以直接连接不同电压域的设备。本练习将引导你通过计算噪声容限——衡量系统可靠性的基本指标——来实践评估两种逻辑系列之间接口的兼容性。掌握这项技能对于诊断潜在的接口问题至关重要。[@problem_id:1977004]", "problem": "在一个混合电压数字系统中，一个来自旧式5V逻辑系列的逻辑门被用来驱动一个现代3.3V互补金属氧化物半导体（CMOS）逻辑门的输入。为确保可靠运行，工程师必须评估这种直接接口的噪声容限。\n\n制造商的数据手册提供了这些器件的以下规格：\n\n对于5V驱动门：\n- 最小高电平输出电压，$V_{OH,min} = 4.58\\,\\text{V}$\n- 最大低电平输出电压，$V_{OL,max} = 0.41\\,\\text{V}$\n\n对于3.3V接收门：\n- 最小高电平输入电压，$V_{IH,min} = 2.35\\,\\text{V}$\n- 最大低电平输入电压，$V_{IL,max} = 0.72\\,\\text{V}$\n\n计算此直接接口的高电平噪声容限（$NM_H$）和低电平噪声容限（$NM_L$）。将您的答案表示为两个以伏特为单位的数值，四舍五入到三位有效数字。按$NM_H$和$NM_L$的顺序给出数值。", "solution": "该问题要求计算两种不同逻辑系列之间接口的高电平噪声容限（$NM_H$）和低电平噪声容限（$NM_L$）。这些容限用以量化系统在记录到不正确的逻辑电平之前可以容忍多少噪声。\n\n首先，我们计算高电平噪声容限 $NM_H$。它定义为驱动门的最小保证高电平输出电压（$V_{OH,min}$）与接收门的最小要求高电平输入电压（$V_{IH,min}$）之间的差值。正值表示驱动器的高电平输出足以被接收器识别为高电平，其大小表示对可能降低电压的噪声的容忍度。\n\n$NM_H$ 的计算公式为：\n$$NM_H = V_{OH,min} - V_{IH,min}$$\n\n题目提供了以下数值：\n- $V_{OH,min} = 4.58\\,\\text{V}$（来自5V驱动器）\n- $V_{IH,min} = 2.35\\,\\text{V}$（对于3.3V接收器）\n\n将这些值代入公式：\n$$NM_H = 4.58\\,\\text{V} - 2.35\\,\\text{V} = 2.23\\,\\text{V}$$\n\n接下来，我们计算低电平噪声容限 $NM_L$。它定义为接收门的最大允许低电平输入电压（$V_{IL,max}$）与驱动门的最大保证低电平输出电压（$V_{OL,max}$）之间的差值。正值表示驱动器的低电平输出足够低，可以被接收器识别为低电平，其大小表示对可能升高电压的噪声的容忍度。\n\n$NM_L$ 的计算公式为：\n$$NM_L = V_{IL,max} - V_{OL,max}$$\n\n题目提供了以下数值：\n- $V_{IL,max} = 0.72\\,\\text{V}$（对于3.3V接收器）\n- $V_{OL,max} = 0.41\\,\\text{V}$（来自5V驱动器）\n\n将这些值代入公式：\n$$NM_L = 0.72\\,\\text{V} - 0.41\\,\\text{V} = 0.31\\,\\text{V}$$\n\n题目要求答案四舍五入到三位有效数字。\n- 对于 $NM_H$，其值为 $2.23\\,\\text{V}$，已经是三位有效数字。\n- 对于 $NM_L$，其值为 $0.31\\,\\text{V}$。为了表示为三位有效数字，我们将其写为 $0.310\\,\\text{V}$。\n\n因此，高电平噪声容限为 $2.23\\,\\text{V}$，低电平噪声容限为 $0.310\\,\\text{V}$。答案应按 ($NM_H$, $NM_L$) 的顺序呈现。", "answer": "$$\\boxed{\\begin{pmatrix} 2.23  0.310 \\end{pmatrix}}$$", "id": "1977004"}, {"introduction": "当简单的电阻分压器看似是电压下移的简便方案时，现实世界的元件特性往往会引入额外的复杂性。这个问题模拟了一个常见情景：微控制器（MCU）的内部上拉电阻对外部电平转换电路产生了影响。解决此问题需要你应用基本的电路分析定律，从而理解非理想负载如何改变设计初衷，并学会如何在设计中将这些因素考虑在内。[@problem_id:1976978]", "problem": "一项常见的工程任务是连接在不同电压水平下工作的数字逻辑组件。考虑一个系统，其中一个使用 5.0 V 逻辑电源的外围设备，需要向一个使用 3.3 V 逻辑电源的微控制器单元 (MCU) 发送信号。\n\n为了降低电压，在外围设备的输出引脚和 MCU 的输入引脚之间放置了一个简单的电阻分压器。该分压器由一个电阻 $R_a = 1.0 \\text{ k}\\Omega$（连接外设输出端与 MCU 输入端）和一个电阻 $R_b = 2.2 \\text{ k}\\Omega$（连接 MCU 输入端与地）组成。\n\nMCU 的输入引脚并非理想情况。由于配置错误，该引脚上一个电阻值为 $R_{pu} = 40 \\text{ k}\\Omega$ 的内部弱上拉电阻也被激活。该上拉电阻连接在 MCU 输入引脚和 MCU 自身的 3.3 V 电源轨之间。\n\n假设外围设备输出一个稳定的 5.0 V 逻辑‘高’电平信号，计算 MCU 输入引脚上产生的稳态电压。\n\n答案以伏特 (V) 为单位，四舍五入保留三位有效数字。", "solution": "将外围设备输出建模为电压为 $V_{H}$ 的理想电源，通过 $R_{a}$ 连接到节点 $V_{in}$；将 MCU 的上拉电阻建模为从 $V_{in}$ 连接到 MCU 电源轨 $V_{DD}$ 的电阻 $R_{pu}$；将分压器下方的电阻 $R_{b}$ 从 $V_{in}$ 连接到地。在节点 $V_{in}$ 处应用基尔霍夫电流定律（流出节点的电流总和为零），可得\n$$\\frac{V_{in}-V_{H}}{R_{a}}+\\frac{V_{in}}{R_{b}}+\\frac{V_{in}-V_{DD}}{R_{pu}}=0.$$\n合并含 $V_{in}$ 的项并求解，\n$$V_{in}\\left(\\frac{1}{R_{a}}+\\frac{1}{R_{b}}+\\frac{1}{R_{pu}}\\right)=\\frac{V_{H}}{R_{a}}+\\frac{V_{DD}}{R_{pu}},$$\n$$V_{in}=\\frac{\\frac{V_{H}}{R_{a}}+\\frac{V_{DD}}{R_{pu}}}{\\frac{1}{R_{a}}+\\frac{1}{R_{b}}+\\frac{1}{R_{pu}}}.$$\n代入 $V_{H}=5.0$，$V_{DD}=3.3$，$R_{a}=1000$，$R_{b}=2200$，$R_{pu}=40000$：\n$$V_{in}=\\frac{\\frac{5.0}{1000}+\\frac{3.3}{40000}}{\\frac{1}{1000}+\\frac{1}{2200}+\\frac{1}{40000}}.$$\n计算分子和分母：\n$$\\frac{5.0}{1000}=0.005,\\quad \\frac{3.3}{40000}=0.0000825$$\n$$\\text{分子}=0.0050825$$\n$$\\frac{1}{1000}=0.001,\\quad \\frac{1}{2200}\\approx 0.000454545,\\quad \\frac{1}{40000}=0.000025$$\n$$\\text{分母}\\approx 0.001+0.000454545+0.000025 \\approx 0.001479545$$\n因此\n$$V_{in}=\\frac{0.0050825}{0.001479545\\ldots}\\approx 3.43518$$\n保留三位有效数字，\n$$V_{in}\\approx 3.44$$", "answer": "$$\\boxed{3.44}$$", "id": "1976978"}, {"introduction": "虽然电阻分压器适用于电压下移，但电压上移通常需要像 MOSFET 这样的有源元件。本练习将你的关注点从静态电压分析转向动态性能——这是数字系统设计中的一个关键考量。通过推导上拉电阻 $R_p$ 与信号上升时间 $t_r$ 之间的关系，你将学会如何设计一个满足系统时序要求的接口电路，确保信号在高速通信中能够可靠传输。[@problem_id:1976960]", "problem": "一个具有开漏输出的低压传感器在电源电压 $V_{DD,L}$ 下工作。该传感器必须与一个高压微控制器接口，该微控制器的逻辑输入参考电源电压 $V_{DD,H}$。该接口由一个简单的反相电平转换器实现，它由一个N沟道金属氧化物半导体场效应晶体管（MOSFET）和一个上拉电阻 $R_p$ 组成。在此配置中，MOSFET的源极接地，其栅极连接到传感器的输出，其漏极作为到微控制器的输出。上拉电阻 $R_p$ 连接在高压电源 $V_{DD,H}$ 和MOSFET的漏极之间。\n\n当传感器的输出从高电平转换到低电平时，MOSFET关断，漏极的输出电压被电阻 $R_p$ 上拉至 $V_{DD,H}$。这个从低到高的转换过程受限于电阻 $R_p$ 对漏极节点总寄生电容 $C_{load}$ 充电所需的时间。信号的上升时间 $t_r$ 定义为电压从其最终值的10%上升到90%所需的时间。为了确保在期望的通信速率下能够正常工作，此上升时间不得超过一个指定的最大值 $t_{r,max}$。\n\n假设在转换开始前，漏极的输出电压约为0 V，请找出上拉电阻的最大允许值 $R_{p,max}$ 关于 $t_{r,max}$ 和 $C_{load}$ 的闭式解析表达式。", "solution": "将上拉事件建模为漏极节点电容的一阶RC充电过程。设漏极节点电压为 $v(t)$，上拉电阻为 $R_{p}$，总电容为 $C_{load}$，高侧电源电压为 $V_{DD,H}$。当MOSFET关断时，流过电阻的电流等于电容器的充电电流：\n$$\n\\frac{V_{DD,H}-v(t)}{R_{p}}=C_{load}\\,\\frac{dv(t)}{dt}.\n$$\n分离变量并从初始条件 $v(0)=0$ 积分到时间 $t$ 时的 $v(t)$：\n$$\n\\int_{0}^{v}\\frac{dv'}{V_{DD,H}-v'}=\\int_{0}^{t}\\frac{dt'}{R_{p}C_{load}}\n\\;\\;\\Rightarrow\\;\\;\n-\\ln\\!\\big(V_{DD,H}-v\\big)+\\ln\\!\\big(V_{DD,H}\\big)=\\frac{t}{R_{p}C_{load}}.\n$$\n整理并求解 $v(t)$，得到标准的RC充电形式：\n$$\nv(t)=V_{DD,H}\\left[1-\\exp\\!\\left(-\\frac{t}{R_{p}C_{load}}\\right)\\right].\n$$\n通过 $v(t_{f})=f\\,V_{DD,H}$ 定义最终值的分数 $f$。则\n$$\nf=1-\\exp\\!\\left(-\\frac{t_{f}}{R_{p}C_{load}}\\right)\n\\;\\;\\Rightarrow\\;\\;\nt_{f}=-R_{p}C_{load}\\,\\ln\\!\\big(1-f\\big).\n$$\n从10%到90%的上升时间为\n$$\nt_{r}=t_{0.9}-t_{0.1}\n= -R_{p}C_{load}\\left[\\ln\\!\\big(1-0.9\\big)-\\ln\\!\\big(1-0.1\\big)\\right]\n=R_{p}C_{load}\\left[\\ln(0.9)-\\ln(0.1)\\right]\n=R_{p}C_{load}\\,\\ln(9).\n$$\n根据规范 $t_{r}\\leq t_{r,max}$，当取等号时可得到 $R_{p}$ 的最大允许值：\n$$\nR_{p,max}=\\frac{t_{r,max}}{C_{load}\\,\\ln(9)}.\n$$", "answer": "$$\\boxed{\\frac{t_{r,max}}{C_{load}\\ln(9)}}$$", "id": "1976960"}]}