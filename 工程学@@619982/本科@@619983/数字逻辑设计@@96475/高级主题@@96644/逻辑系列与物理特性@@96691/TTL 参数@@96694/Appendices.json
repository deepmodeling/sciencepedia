{"hands_on_practices": [{"introduction": "在设计数字电路时，一个基本的问题是：一个逻辑门的输出能够驱动多少个其他逻辑门的输入？这个数量被称为“扇出”(fan-out)，是衡量门驱动能力的关键参数。对于TTL逻辑系列，由于其内部电路结构，输出为低电平时吸收电流的能力（灌电流）通常是决定扇出数量的瓶颈。这个练习将让你通过一个实际的计算，掌握如何根据数据手册中的电流参数来确定一个TTL门的最大扇出能力。[@problem_id:1973523]", "problem": "一位电子工程师正在设计一个数字电路，该电路将一个标准的晶体管-晶体管逻辑 (TTL) 门与一组相同的、定制设计的输入级连接起来。为了使电路正常工作，标准TTL门的输出必须能够同时控制所有连接的定制输入。\n\n技术规格表明，当其输出处于逻辑低电平状态时，单个标准TTL门可以从所连接的设备中吸收高达 $16.0\\,\\text{mA}$ 的电流，同时保持有效的低电平输出电压。每个定制逻辑器件的输入，当连接到低电平信号时，会向驱动门的输出源出 $2.2\\,\\text{mA}$ 的电流。\n\n确定当其输出处于逻辑低电平状态时，单个标准TTL门能够可靠驱动的这些定制输入的最大数量。", "solution": "设 $I_{\\text{sink,max}}$ 表示TTL门在有效低电平输出时可以吸收的最大电流，设 $I_{\\text{in}}$ 表示每个定制输入在被驱动为低电平时源出的电流。对于连接的 $N$ 个相同输入，总源出电流为\n$$\nI_{\\text{tot}} = N I_{\\text{in}}.\n$$\n为使电路在低电平状态下正常工作，TTL门必须满足\n$$\nI_{\\text{tot}} \\leq I_{\\text{sink,max}} \\quad \\Rightarrow \\quad N I_{\\text{in}} \\leq I_{\\text{sink,max}}.\n$$\n解出 $N$ 可得\n$$\nN \\leq \\frac{I_{\\text{sink,max}}}{I_{\\text{in}}}.\n$$\n因此，最大整数输入数量为\n$$\nN_{\\max} = \\left\\lfloor \\frac{I_{\\text{sink,max}}}{I_{\\text{in}}} \\right\\rfloor.\n$$\n代入给定值 $I_{\\text{sink,max}} = 16.0\\,\\text{mA}$ 和 $I_{\\text{in}} = 2.2\\,\\text{mA}$，\n$$\nN_{\\max} = \\left\\lfloor \\frac{16.0}{2.2} \\right\\rfloor = \\left\\lfloor \\frac{80}{11} \\right\\rfloor = 7.\n$$", "answer": "$$\\boxed{7}$$", "id": "1973523"}, {"introduction": "开集电极 (open-collector) 输出为数字设计师提供了一种强大的工具，可以实现多个输出共享一条总线的“线与”(wired-AND) 逻辑。然而，这种设计的灵活性是以需要一个外部上拉电阻 $R_P$ 为代价的，并且 $R_P$ 的取值必须精确。这个练习将带你深入分析在最坏情况下，如何通过计算来确定 $R_P$ 的允许取值范围，从而确保电路在逻辑高电平和低电平下都能可靠工作。[@problem_id:1973564]", "problem": "一位工程师正在使用晶体管-晶体管逻辑 (TTL) 器件设计一个数字接口。一个 74LS05 集电极开路反相器被配置为同时驱动五个独立的 74LS04 标准反相器的输入端。公共连接点（74LS05 的输出端和多个 74LS04 的输入端）通过一个上拉电阻 $R_P$ 连接到电源轨 $V_{CC}$。为保证在所有最坏情况工作条件下都能有正确的逻辑电平，该上拉电阻的阻值必须在一个特定的范围内。\n\n你的任务是计算该上拉电阻允许的最小值 $R_{P(min)}$ 和最大值 $R_{P(max)}$。\n\n在计算中使用以下最坏情况下的数据手册参数：\n\n- **系统电源电压：**\n    - $V_{CC} = 5.0\\,\\text{V}$\n\n- **74LS05 驱动器（集电极开路输出）：**\n    - 最大输出低电平电压：$V_{OL(max)} = 0.5\\,\\text{V}$\n    - 最大输出灌电流：$I_{OL(max)} = 8.0\\,\\text{mA}$\n    - 最大输出高电平漏电流（输出晶体管关闭）：$I_{OH(leak)} = 100\\,\\mu\\text{A}$\n\n- **74LS04 负载（标准输入，$N=5$ 个门）：**\n    - 最小输入高电平电压：$V_{IH(min)} = 2.0\\,\\text{V}$\n    - 最大输入高电平电流：$I_{IH(max)} = 20\\,\\mu\\text{A}$\n    - 最大输入低电平电流：$I_{IL(max)} = -0.4\\,\\text{mA}$ （负号表示在低电平状态下，电流从输入端流出）。\n\n请将计算出的 $R_{P(min)}$ 和 $R_{P(max)}$ 的值作为最终答案。两个值都应以千欧姆 ($\\text{k}\\Omega$) 为单位表示，并保留三位有效数字。", "solution": "设由 74LS05 集电极开路输出驱动、并为 $N=5$ 个 74LS04 输入端提供信号的节点，通过上拉电阻 $R_{P}$ 连接到 $V_{CC}$。我们根据低电平状态的灌电流能力（这决定了 $R_{P}$ 的最小值）和高电平状态的输入阈值（这决定了 $R_{P}$ 的最大值）来确定 $R_{P}$ 的取值范围。\n\n低电平状态约束（驱动器导通，吸收灌电流）：\n- 在指定的低电平下，流过上拉电阻的电流为\n$$\nI_{R}=\\frac{V_{CC}-V_{OL(\\max)}}{R_{P}}.\n$$\n- 在低电平状态下，每个 74LS04 输入端向该节点提供的源电流最高可达 $-I_{IL(\\max)}$，因此必须吸收的总输入电流为\n$$\nI_{\\text{in,LOW}}=N\\left(-I_{IL(\\max)}\\right).\n$$\n- 74LS05 必须在保持 $V_{OL}\\leq V_{OL(\\max)}$ 的同时吸收这个总电流，所以\n$$\nI_{R}+I_{\\text{in,LOW}}\\leq I_{OL(\\max)}.\n$$\n代入并求解 $R_{P}$：\n$$\n\\frac{V_{CC}-V_{OL(\\max)}}{R_{P}}+N\\left(-I_{IL(\\max)}\\right)\\leq I_{OL(\\max)}\n\\quad\\Rightarrow\\quad\n\\frac{V_{CC}-V_{OL(\\max)}}{R_{P}}\\leq I_{OL(\\max)}-N\\left(-I_{IL(\\max)}\\right),\n$$\n$$\nR_{P}\\geq \\frac{V_{CC}-V_{OL(\\max)}}{I_{OL(\\max)}-N\\left(-I_{IL(\\max)}\\right)}.\n$$\n代入给定值 $V_{CC}=5.0\\,\\text{V}$, $V_{OL(\\max)}=0.5\\,\\text{V}$, $I_{OL(\\max)}=8.0\\times 10^{-3}\\,\\text{A}$, $I_{IL(\\max)}=-0.4\\times 10^{-3}\\,\\text{A}$, $N=5$：\n$$\nR_{P(\\min)}=\\frac{5.0-0.5}{8.0\\times 10^{-3}-5\\left(0.4\\times 10^{-3}\\right)}=\\frac{4.5}{6.0\\times 10^{-3}}=750\\,\\Omega=0.750\\,\\text{k}\\Omega.\n$$\n\n高电平状态约束（驱动器关闭，通过 $R_{P}$ 上拉）：\n- 当输出晶体管关闭时，上拉电阻必须提供的总电流为\n$$\nI_{\\text{HIGH}}=N\\,I_{IH(\\max)}+I_{OH(\\text{leak})}.\n$$\n- 节点电压为 $V=V_{CC}-I_{\\text{HIGH}}R_{P}$，该电压必须满足 $V\\geq V_{IH(\\min)}$：\n$$\nV_{CC}-I_{\\text{HIGH}}R_{P}\\geq V_{IH(\\min)}\n\\quad\\Rightarrow\\quad\nR_{P}\\leq \\frac{V_{CC}-V_{IH(\\min)}}{I_{\\text{HIGH}}}.\n$$\n代入给定值 $V_{IH(\\min)}=2.0\\,\\text{V}$, $I_{IH(\\max)}=20\\times 10^{-6}\\,\\text{A}$, $I_{OH(\\text{leak})}=100\\times 10^{-6}\\,\\text{A}$, $N=5$：\n$$\nI_{\\text{HIGH}}=5\\left(20\\times 10^{-6}\\right)+100\\times 10^{-6}=200\\times 10^{-6}\\,\\text{A},\n$$\n$$\nR_{P(\\max)}=\\frac{5.0-2.0}{200\\times 10^{-6}}=\\frac{3.0}{2.0\\times 10^{-4}}=1.5\\times 10^{4}\\,\\Omega=15.0\\,\\text{k}\\Omega.\n$$\n\n因此，上拉电阻的允许范围为 $0.750\\,\\text{k}\\Omega$ 到 $15.0\\,\\text{k}\\Omega$，按要求保留了三位有效数字。", "answer": "$$\\boxed{\\begin{pmatrix}0.750 & 15.0\\end{pmatrix}}$$", "id": "1973564"}, {"introduction": "在复杂的数字系统中，特别是在使用共享数据总线时，一个严重的设计错误是“总线竞争”(bus contention)，即两个或多个输出试图同时驱动总线到相反的逻辑电平。这种情况会导致巨大的瞬时电流，可能损坏芯片并影响整个系统的稳定性。本练习通过一个假设的故障场景，让你学习如何对TTL输出级进行建模，并量化在总线竞争期间产生的峰值电源电流，从而深刻理解三态缓冲器和正确总线控制的重要性。[@problem_id:1973549]", "problem": "在一个数字系统中，一条共享总线被用于不同组件之间的通信。该总线由 74LS244 八路三态缓冲器的输出驱动。一个关键的设计缺陷导致了总线竞争的情况：一个 74LS244 集成电路（IC）的输出被设置为驱动总线为高电平，而第二个相同的 74LS244 IC 的一个输出被错误地配置为驱动同一总线为低电平。\n\n为分析此缺陷的影响，提供了在单一电源下工作的 74LS244 的以下参数：\n\n*   电源电压：$V_{CC} = 5.00\\,\\text{V}$\n*   每个 IC 的静态电源电流：$I_{CC,q} = 22.0\\,\\text{mA}$（这是单个 IC 在其输出没有拉出或灌入显著电流时所消耗的电流）。\n*   输出低电平电压：驱动低电平的输出级可以建模为一个相对于地的恒定电压源，电压为 $V_{OL} = 0.40\\,\\text{V}$。\n*   输出高电平特性：驱动高电平的输出级测得的空载输出电压为 $V_{OH,nl} = 3.40\\,\\text{V}$。当拉出 $15.0\\,\\text{mA}$ 的电流时（根据惯例定义为 $I_{OH} = -15.0\\,\\text{mA}$），其输出电压规定为 $V_{OH,spec} = 2.70\\,\\text{V}$。您可以假设在此工作区域内，输出特性呈线性关系（一个戴维南等效模型）。\n\n假设这种竞争发生在第一个 IC 的一个输出引脚（驱动高电平）和第二个 IC 的一个输出引脚（驱动低电平）之间，计算在此事件期间两个 IC 从 $V_{CC}$ 电源吸取的总峰值电流。答案以毫安 (mA) 表示，并四舍五入到三位有效数字。", "solution": "总线竞争可以使用每个 74LS244 输出级的等效模型来建模：\n\n1) 驱动高电平（拉电流）的输出模型：\n假设一个戴维南模型，其开路电压等于空载高电平电压，戴维南电阻从指定的负载点提取。在拉出电流大小为 $15.0 \\times 10^{-3}\\,\\text{A}$ 时，有 $V_{OH,nl} = 3.40\\,\\text{V}$ 和 $V_{OH,spec} = 2.70\\,\\text{V}$，则戴维南电阻为\n$$\nR_{th}=\\frac{V_{OH,nl}-V_{OH,spec}}{15.0\\times 10^{-3}\\,\\text{A}}=\\frac{3.40-2.70}{15.0\\times 10^{-3}}=46.666\\ldots\\,\\Omega\n$$\n戴维南电压为\n$$\nV_{th}=V_{OH,nl}=3.40\\,\\text{V}.\n$$\n\n2) 驱动低电平（灌电流）的输出模型：\n它被给定为一个理想电压源，将总线节点固定在\n$$\nV_{bus}=V_{OL}=0.40\\,\\text{V}.\n$$\n\n3) 输出之间的竞争电流：\n当总线被理想低电平源钳位在 $V_{bus}=0.40\\,\\text{V}$ 时，从高电平驱动器拉出的电流为\n$$\nI_{fight}=\\frac{V_{th}-V_{bus}}{R_{th}}=\\frac{3.40\\,\\text{V}-0.40\\,\\text{V}}{46.666\\ldots\\,\\Omega}=0.0642857\\ldots\\,\\text{A}\n$$\n即 $64.2857\\ldots\\,\\text{mA}$。此电流由驱动高电平的 IC 从 $V_{CC}$ 吸取，并通过驱动低电平的 IC 灌入地。\n\n4) 两个 IC 的总电源电流：\n每个 IC 消耗其静态电流 $I_{CC,q}$，而驱动高电平的 IC 额外从 $V_{CC}$ 吸取电流 $I_{fight}$。因此，两个 IC 从 $5.00\\,\\text{V}$ 电源吸取的总电流为\n$$\nI_{total}=2\\,I_{CC,q}+I_{fight}=2\\times(22.0\\times 10^{-3}\\,\\text{A})+0.0642857\\ldots\\,\\text{A}\n$$\n$$\nI_{total}=0.1082857\\ldots\\,\\text{A} = 108.2857\\ldots\\,\\text{mA}.\n$$\n\n四舍五入到三位有效数字，总峰值电流为\n$$\n108\\,\\text{mA}.\n$$", "answer": "$$\\boxed{108}$$", "id": "1973549"}]}