{"hands_on_practices": [{"introduction": "在我们利用集电极开路（Open-Collector, OC）输出进行设计之前，首先需要能够准确地识别它们。这个练习将引导您思考如何通过一个简单的测试，来区分一个 TTL 逻辑门的输出是标准的“图腾柱”结构还是“集电极开路”结构[@problem_id:1949618]。这项技能对于电路调试、逆向工程或处理缺少文档的旧式电路板至关重要，是电子工程师的一项基本功。", "problem": "一位电子技术员的任务是分析一块使用标准5V晶体管-晶体管逻辑 (TTL) 集成电路的老旧电路板。其中一个特定的IC（已知包含几个独立的非门/反相器）上的型号字迹模糊，无法辨认。为了继续进行电路的逆向工程，该技术员必须确定这些反相器的输出是标准的“图腾柱”类型还是“集电极开路”类型。该IC使用标准电源电压 $V_{CC} = +5.0 \\text{ V}$ 供电。该技术员有一个高阻抗数字万用表，并且可以可靠地将任何选定反相器的输入设置为逻辑低电平 (0 V) 或逻辑高电平 (+5 V)。\n\n下列哪个测试程序是区分图腾柱输出和集电极开路输出的可靠且非破坏性的方法？\n\nA. 将反相器的输入设置为逻辑高电平以产生逻辑低电平输出。将输出引脚连接到万用表并测量电压。读数接近 0.4 V 表示是集电极开路输出，而读数接近 0 V 表示是图腾柱输出。\n\nB. 将反相器的输入设置为逻辑低电平以产生逻辑高电平输出。在输出引脚和 $V_{CC}$ 之间连接一个 4.7 kΩ 的“上拉”电阻。测量输出引脚的电压。读数接近 +5.0 V 表示是图腾柱输出，而读数接近 0 V 表示是集电极开路输出。\n\nC. 将反相器的输入设置为逻辑低电平以产生逻辑高电平输出。在输出引脚没有连接其他元件的情况下，用高阻抗万用表测量输出引脚的电压。一个稳定的、对应于有效逻辑高电平（例如，> 2.4 V）的电压读数表示是图腾柱输出，而一个不稳定或中间态的“浮空”电压表示是集电极开路输出。\n\nD. 将反相器的输入设置为逻辑低电平以产生逻辑高电平输出。在输出引脚和地之间连接一个 10 kΩ 的“下拉”电阻。测量输出引脚的电压。读数接近 +5.0 V 表示是集电极开路输出，而读数接近 0 V 表示是图腾柱输出。", "solution": "定义理想化的输出模型：\n\n- 图腾柱 TTL 输出：在高电平状态下，输出是一个连接到 $V_{CC}$ 的有源源，具有很小的输出电阻 $R_{o}$；在低电平状态下，它是一个连接到地的有源灌电流端，具有很小的电阻。在高电平状态下，使用高阻抗仪表（近似负载电流 $I \\approx 0$）测量时，输出电压满足\n$$\nV_{\\text{out}} = V_{CC} - I R_{o} \\approx V_{CC}.\n$$\n\n- 集电极开路 TTL 输出：输出晶体管仅在导通时吸收电流；在“高电平”状态下，晶体管截止，因此输出引脚实际上是开路的（无内部上拉）。在没有外部上拉的情况下，该节点是浮空的，使用电阻为 $R_{m}$ 的高阻抗仪表测量时，电压是不确定的，仅由漏电流 $i_{\\ell}$ 决定：\n$$\nV_{\\text{out}} = i_{\\ell} R_{m},\n$$\n这不能保证是一个有效的逻辑高电平，并且可能不稳定或处于中间状态。\n\n分析每个选项：\n\nA. 输入高电平产生输出低电平。使用高阻抗仪表时，图腾柱和集电极开路输出在低电平状态下都表现为一个有源或饱和的下拉电路，电流可忽略不计，因此两种情况下都有\n$$\nV_{\\text{out}} \\approx 0\n$$\n。在负载电流可忽略不计的情况下，通过微小差异（例如，接近 $0.4$ V 与接近 $0$ V）进行区分是不可靠的。因此 A 不可靠。\n\nB. 输入低电平产生输出高电平。使用一个连接到 $V_{CC}$ 的 $4.7\\,\\text{k}\\Omega$ 上拉电阻时，\n- 图腾柱：本身已主动驱动为高电平，所以 $V_{\\text{out}} \\approx V_{CC}$。\n- 集电极开路：晶体管截止，上拉电阻设定了电平，所以 $V_{\\text{out}} \\approx V_{CC}$。\n两者读数都接近 $V_{CC}$；因此 B 无法区分，是错误的。\n\nC. 输入低电平产生输出高电平。在没有连接外部元件的情况下：\n- 图腾柱：在 $I \\approx 0$ 的情况下主动驱动为高电平，因此 $V_{\\text{out}} \\approx V_{CC}$，是一个稳定的有效高电平。\n- 集电极开路：输出是浮空的（无内部上拉），因此由于漏电流和仪表的输入阻抗，$V_{\\text{out}}$ 是不确定的，并且可能不稳定或处于中间状态。这种方法可以无风险地、可靠地区分两者。因此 C 是正确的。\n\nD. 输入低电平产生输出高电平。使用一个连接到地的 $10\\,\\text{k}\\Omega$ 下拉电阻时：\n- 图腾柱：与到 $V_{CC}$ 的小电阻 $R_{o}$ 形成一个分压器，所以\n$$\nV_{\\text{out}} = V_{CC} \\cdot \\frac{R_{PD}}{R_{o} + R_{PD}} \\approx V_{CC}\n$$\n因为 $R_{o} \\ll R_{PD}$。\n- 集电极开路：晶体管截止，只有到地的下拉电阻存在，所以 $V_{\\text{out}} = 0$。\n正确的解释应该是“读数接近 $V_{CC}$ 表示图腾柱输出；读数接近 $0$ 表示集电极开路输出”，这与 D 的陈述相反。因此 D 是错误的。\n\n因此，只有选项 C 在所述条件下为区分图腾柱和集电极开路输出提供了一种可靠且非破坏性的方法。", "answer": "$$\\boxed{C}$$", "id": "1949618"}, {"introduction": "理解了如何识别集电极开路门之后，我们来探索其最核心的应用：构建“线逻辑”(wired-logic)。这个练习将向您展示，当我们将不同逻辑门（例如一个与门和一个或门）的集电极开路输出连接在一起时，整体的逻辑功能是如何形成的[@problem_id:1949643]。通过这个实践，您可以将物理层的连接方式与布尔代数中的逻辑运算直接关联起来，从而学会在设计中灵活地使用线逻辑来简化电路。", "problem": "在数字系统中，多个设备有时需要共享一条公共通信线路或总线。使用集电极开路门的“线逻辑”连接是实现这一目标的一种方法。在这种配置中，多个逻辑门的输出被直接连接在一起。这条共享线路通过一个外部上拉电阻保持在高电平（逻辑 1）。如果任何一个相连的门输出为低电平（逻辑 0），它会将整条共享线路拉低。因此，当且仅当所有独立的门输出都处于高阻态（解释为高电平）时，共享线路才为高电平。这种结构有效地对所有相连门的输出执行了逻辑与运算。\n\n考虑一个系统，其中两个集电极开路的晶体管-晶体管逻辑（TTL）门连接到一条标记为 $Z$ 的共享总线上。\n1.  第一个门是输入为 $A$ 和 $B$ 的2输入与门。\n2.  第二个门是输入为 $C$ 和 $D$ 的2输入或门。\n\n请确定输出 $Z$ 关于输入 $A、B、C$ 和 $D$ 的单一布尔表达式。请以最简的积之和（SOP）形式给出你的最终答案。在你的表达式中，使用加法（$+$）表示或运算，使用并列（例如 $XY$）表示与运算。", "solution": "在带有上拉电阻的集电极开路线逻辑连接中，共享总线实现了对逻辑输出的线与，因为：\n- 只有当每个相连的输出都处于高阻态（逻辑 1）时，线路才为高电平。\n- 如果任何一个相连的输出为逻辑 0，它会主动将线路拉至低电平。\n\n设与门的输出为 $Y_{1}$，或门的输出为 $Y_{2}$。对于给定的门：\n$$Y_{1} = AB$$\n$$Y_{2} = C + D$$\n\n根据总线的线与特性：\n$$Z = Y_{1} \\cdot Y_{2} = (AB)(C + D)$$\n\n使用分配律 $X(Y + Z) = XY + XZ$ 展开，得到积之和形式：\n$$Z = ABC + ABD$$\n\n这已经是化简的积之和形式。", "answer": "$$\\boxed{ABC+ABD}$$", "id": "1949643"}, {"introduction": "线逻辑虽然巧妙，但在实际应用中并非可以无限制地连接设备。这个实践将让您直面集电极开路总线的一个关键物理限制：高电平状态下的扇出能力[@problem_id:1949647]。您需要计算在一个已有的总线上最多还能增加多少个开路集电极输出，同时保证总线电压不会因为累积的漏电流和负载电流而跌落到逻辑高电平的阈值（$V_{OH,min}$）以下。这种最坏情况分析是确保数字系统稳定可靠的基石。", "problem": "一个数字总线采用线与（wired-AND）配置实现，即将多个集电极开路（open-collector）晶体管-晶体管逻辑（TTL）门的输出连接在一起。一个上拉电阻 $R_L$ 将总线连接到电源电压 $V_{CC}$。\n\n目前，总线上连接了 $N_{initial} = 5$ 个集电极开路输出。该总线还必须驱动 $M = 8$ 个标准 TTL 输入。系统在以下参数下运行：\n- 电源电压, $V_{CC} = 5.0 \\text{ V}$\n- 上拉电阻, $R_L = 1.0 \\text{ k}\\Omega$\n\n逻辑门的电气特性如下：\n- 为了使连接到总线的任何门能正确识别逻辑高电平信号，总线电压不得低于 $V_{bus,min} = 2.0 \\text{ V}$。\n- 当总线处于高电平状态时， M 个标准 TTL 输入中的每一个都会从总线吸取 $I_{IH} = 40 \\text{ }\\mu\\text{A}$ 的电流。\n- 每个集电极开路输出在其高电平（关闭）状态时，都有一个 $I_{leakage} = 250 \\text{ }\\mu\\text{A}$ 的截止状态漏电流流入输出引脚。\n\n假设在最坏情况下，所有连接的集电极开路输出同时处于高电平状态，确定在不影响逻辑高电平的情况下，可以连接到该总线的*额外*集电极开路输出的最大数量。", "solution": "设连接到总线的集电极开路输出总数为 $N_{total} = N_{initial} + N_{add}$。在高电平状态下，根据总线节点处的基尔霍夫电流定律，流过上拉电阻的电流等于所有灌电流之和：\n$$\\frac{V_{CC} - V_{\\text{bus}}}{R_{L}} = M I_{IH} + N_{\\text{total}} I_{\\text{leakage}}。$$\n为保证有效的逻辑高电平，要求 $V_{\\text{bus}} \\ge V_{\\text{bus,min}}$，因此最坏情况下允许的总灌电流为\n$$M I_{IH} + N_{\\text{total}} I_{\\text{leakage}} \\le \\frac{V_{CC} - V_{\\text{bus,min}}}{R_{L}}。$$\n求解 $N_{\\text{total}}$ 可得\n$$N_{\\text{total}} \\le \\frac{1}{I_{\\text{leakage}}}\\left(\\frac{V_{CC} - V_{\\text{bus,min}}}{R_{L}} - M I_{IH}\\right)。$$\n因此，可增加的额外输出的最大数量为\n$$N_{\\text{add,max}} = \\left\\lfloor \\frac{1}{I_{\\text{leakage}}}\\left(\\frac{V_{CC} - V_{\\text{bus,min}}}{R_{L}} - M I_{IH}\\right) \\right\\rfloor - N_{\\text{initial}}。$$\n代入给定值 $V_{CC} = 5.0 \\text{ V}$，$V_{\\text{bus,min}} = 2.0 \\text{ V}$，$R_{L} = 1.0 \\times 10^{3}\\,\\Omega$，$M = 8$，$I_{IH} = 40 \\times 10^{-6}\\,\\text{A}$，$I_{\\text{leakage}} = 250 \\times 10^{-6}\\,\\text{A}$ 及 $N_{\\text{initial}} = 5$：\n$$\\frac{V_{CC} - V_{\\text{bus,min}}}{R_{L}} = \\frac{5.0 - 2.0}{1.0 \\times 10^{3}} = 3.0 \\times 10^{-3}\\,\\text{A},$$\n$$M I_{IH} = 8 \\times 40 \\times 10^{-6} = 3.2 \\times 10^{-4}\\,\\text{A},$$\n$$\\frac{1}{I_{\\text{leakage}}}\\left(\\frac{V_{CC} - V_{\\text{bus,min}}}{R_{L}} - M I_{IH}\\right) = \\frac{3.0 \\times 10^{-3} - 3.2 \\times 10^{-4}}{250 \\times 10^{-6}} = \\frac{2.68 \\times 10^{-3}}{2.5 \\times 10^{-4}} = 10.72。$$\n因此 $N_{\\text{total,max}} = \\lfloor 10.72 \\rfloor = 10$，可增加的额外输出的最大数量为\n$$N_{\\text{add,max}} = 10 - 5 = 5。$$", "answer": "$$\\boxed{5}$$", "id": "1949647"}]}