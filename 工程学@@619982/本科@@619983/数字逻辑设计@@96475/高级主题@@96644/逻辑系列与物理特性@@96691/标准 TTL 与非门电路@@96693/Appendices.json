{"hands_on_practices": [{"introduction": "在数字系统中，信号并非理想的“0”或“1”，而是特定范围的电压。为了确保一个逻辑门的输出能被下一个门正确识别，即使在存在电气噪声的情况下，逻辑系列也必须提供一定的电压容差。这个容差被称为噪声容限，它是衡量逻辑电路鲁棒性的关键指标。本练习将通过计算标准的TTL系列的高电平噪声容限 ($NM_H$) 和低电平噪声容限 ($NM_L$)，来实践如何从数据手册的参数中评估电路的信号完整性。", "problem": "一位数字系统工程师正在使用标准的 74xx 系列晶体管-晶体管逻辑（TTL）门设计一个电路。为确保在有潜在电压噪声的环境中可靠运行，工程师必须验证该逻辑系列的噪声容限。噪声容限是衡量电路抗噪声能力的一个指标，代表了在不改变输出逻辑状态（高或低）的情况下，噪声信号所能达到的电压范围。\n\n标准TTL系列的数据手册提供了以下保证的电压电平规范：\n- $V_{OH(min)}$：当门电路输出为逻辑高电平时，其保证的最小输出电压，值为 $2.4 \\text{ V}$。\n- $V_{OL(max)}$：当门电路输出为逻辑低电平时，其保证的最大输出电压，值为 $0.4 \\text{ V}$。\n- $V_{IH(min)}$：门电路能可靠识别为逻辑高电平的最小输入电压，值为 $2.0 \\text{ V}$。\n- $V_{IL(max)}$：门电路能可靠识别为逻辑低电平的最大输入电压，值为 $0.8 \\text{ V}$。\n\n计算该逻辑系列的高电平噪声容限（$NM_H$）和低电平噪声容限（$NM_L$）。将你的答案表示为一个元素为 $[NM_H, NM_L]$ 的行矩阵，单位为伏特。将最终数值答案四舍五入至两位有效数字。", "solution": "噪声容限量化了在不引起逻辑错误的情况下所允许的噪声电压。对于一个给定的逻辑系列，其保证的阈值定义了如下的容限：\n- 高电平噪声容限是保证的最小高电平输出电平与被识别为高电平的最小输入电压之差：\n$$\nNM_{H} = V_{OH(\\min)} - V_{IH(\\min)}.\n$$\n- 低电平噪声容限是被识别为低电平的最大输入电压与保证的最大低电平输出电平之差：\n$$\nNM_{L} = V_{IL(\\max)} - V_{OL(\\max)}.\n$$\n\n代入给定的规范值：\n$$\nNM_{H} = 2.4 \\text{ V} - 2.0 \\text{ V} = 0.4 \\text{ V},\n$$\n$$\nNM_{L} = 0.8 \\text{ V} - 0.4 \\text{ V} = 0.4 \\text{ V}.\n$$\n\n四舍五入到两位有效数字，每个值都得到 $0.40$。结果以伏特为单位表示为一个行矩阵。", "answer": "$$\\boxed{\\begin{pmatrix}0.40 & 0.40\\end{pmatrix}}$$", "id": "1961399"}, {"introduction": "除了信号完整性，功耗是数字电路设计中另一个至关重要的考量，它直接影响电源需求、散热设计乃至电池寿命。TTL逻辑门的一个显著特点是，其在输出高电平和低电平时从电源吸收的电流并不相同。本练习模拟了在特定工作负载（50%占空比）下，如何计算单个TTL与非门的平均静态功耗，这对于进行系统级功耗预算至关重要。", "problem": "一位数字系统设计师正在分析一个采用标准晶体管-晶体管逻辑（TTL）门的电路的功率预算。该电路中的一个双输入与非门在 $V_{CC} = 5.20 \\text{ V}$ 的恒定电源电压下工作。当该门的输出处于逻辑高电平状态时，从电源汲取的电流测得为 $I_{CCH} = 1.20 \\text{ mA}$。当输出处于逻辑低电平状态时，电源电流为 $I_{CCL} = 3.80 \\text{ mA}$。该门由一个输入信号驱动，使其输出呈现 50% 的占空比，这意味着它在高电平和低电平逻辑状态下花费的时间相等。\n\n计算在该工作条件下，此单个与非门的平均静态功耗。答案以毫瓦（mW）为单位，并四舍五入到三位有效数字。", "solution": "我们要求解一个 TTL 与非门的平均静态功耗，该门在驱动下，其输出在一部分时间内为高电平，在其余时间内为低电平。对于恒定的电源电压和与状态相关的电源电流，平均静态功耗是电源电压乘以时间平均电源电流。\n\n设 $V_{CC}$ 为恒定电源电压，$I_{CCH}$ 为输出为高电平时的电源电流，$I_{CCL}$ 为输出为低电平时的电源电流，并设 $D$ 表示高电平状态的占空因数。那么从电源汲取的时间平均电流为\n$$\nI_{\\text{avg}}=D\\,I_{CCH}+(1-D)\\,I_{CCL}.\n$$\n平均静态功耗由下式给出\n$$\nP_{\\text{avg}}=V_{CC}\\,I_{\\text{avg}}=V_{CC}\\left(D\\,I_{CCH}+(1-D)\\,I_{CCL}\\right).\n$$\n在 50% 的占空比下，$D=0.5$，所以\n$$\nI_{\\text{avg}}=\\frac{I_{CCH}+I_{CCL}}{2}.\n$$\n代入给定值 $V_{CC}=5.20\\ \\text{V}$，$I_{CCH}=1.20\\ \\text{mA}$ 和 $I_{CCL}=3.80\\ \\text{mA}$，\n$$\nI_{\\text{avg}}=\\frac{1.20\\ \\text{mA}+3.80\\ \\text{mA}}{2}=2.50\\ \\text{mA},\n$$\n因此\n$$\nP_{\\text{avg}}=5.20\\ \\text{V}\\times 2.50\\ \\text{mA}=13.0\\ \\text{mW}.\n$$\n以毫瓦为单位，四舍五入到三位有效数字，结果是 $13.0$。", "answer": "$$\\boxed{13.0}$$", "id": "1961366"}, {"introduction": "要真正掌握TTL电路，我们必须深入其内部，理解晶体管级别的行为。前面的练习将逻辑门视为由外部参数定义的“黑盒”，而本次的高级实践将打开这个盒子。通过在一个特定的外部强制条件下，精确分析与非门内部每个晶体管（Q1至Q4）的工作区域，我们将揭示其复杂而精巧的协同工作机制。这种深度的分析能力对于故障诊断、性能优化以及理解该技术家族的内在限制是不可或缺的。", "problem": "考虑一个标准的双输入晶体管-晶体管逻辑（TTL）与非门。该电路由四个标记为 Q1, Q2, Q3, Q4 的 NPN 型双极结型晶体管（BJT）、一个二极管 D1 和四个电阻 R1, R2, R3, R4 构成。电路拓扑结构如下：\n- 输入晶体管 Q1 有两个发射极，用作门输入 A 和 B。其基极通过电阻 $R_1$ 连接到电源电压 $V_{CC}$。\n- Q1 的集电极连接到分相器晶体管 Q2 的基极。\n- Q2 的集电极通过电阻 $R_2$ 连接到 $V_{CC}$，同时也连接到上拉晶体管 Q3 的基极。\n- Q2 的发射极连接到下拉晶体管 Q4 的基极，并通过电阻 $R_4$ 接地。\n- 输出级为图腾柱结构。Q3 的集电极通过电阻 $R_3$ 连接到 $V_{CC}$。Q3 的发射极连接到二极管 D1 的阳极。\n- Q4 的集电极连接到输出节点 $V_{OUT}$，其发射极接地。D1 的阴极也连接到输出节点 $V_{OUT}$。\n\n电路参数如下：\n- 电源电压：$V_{CC} = 5.0$ V\n- 电阻：$R_1 = 4.0$ kΩ, $R_2 = 1.6$ kΩ, $R_3 = 130$ Ω, $R_4 = 1.0$ kΩ\n- BJT 和二极管参数：\n    - 正向有源区基极-发射极电压：$V_{BE,on} = 0.7$ V\n    - 饱和区基极-发射极电压：$V_{BE,sat} = 0.8$ V\n    - 饱和区集电极-发射极电压：$V_{CE,sat} = 0.2$ V\n    - 正向偏置的基极-集电极电压（用于反向有源区模式）：$V_{BC,on} = 0.7$ V\n    - 二极管正向压降：$V_{D,on} = 0.7$ V\n    - 正向电流增益：$\\beta_{F} = 50$\n\nBJT 的四种可能工作区域应考虑为：截止区、正向有源区、饱和区和反向有源区。\n\n建立一个测试场景，其中两个输入 A 和 B 都保持在高电平（$5.0$ V）。一个连接在输出节点 $V_{OUT}$ 和地之间的外部阻性负载强制输出电压稳定在 $V_{OUT} = 2.0$ V。\n\n确定在这种特定条件下，四个晶体管（Q1, Q2, Q3, Q4）各自的工作区域。\n\nA. Q1: 反向有源区, Q2: 饱和区, Q3: 正向有源区, Q4: 截止区\n\nB. Q1: 饱和区, Q2: 饱和区, Q3: 饱和区, Q4: 截止区\n\nC. Q1: 反向有源区, Q2: 正向有源区, Q3: 正向有源区, Q4: 截止区\n\nD. Q1: 饱和区, Q2: 饱和区, Q3: 截止区, Q4: 正向有源区\n\nE. Q1: 正向有源区, Q2: 截止区, Q3: 饱和区, Q4: 正向有源区", "solution": "当两个输入都为高电平时，Q1 的两个发射极-基极结是反向偏置的。电流通过 Q1 的基极-集电极结流向 Q2 的基极。因此，Q1 工作在**反向有源区**。\n\n输出被外部钳位在 $V_{OUT} = 2.0\\,\\text{V}$。下拉晶体管 Q4 的发射极接地，其集电极连接到 $V_{OUT}$，因此 $V_{CE,4} = 2.0\\,\\text{V}$。此电压远大于饱和压降 $V_{CE,sat}$，所以 Q4 若导通则不会处于饱和区。Q2 的发射极连接到 Q4 的基极，若 Q4 导通，其基极电压将为 $V_{B4} \\approx V_{BE,on} = 0.7\\,\\text{V}$。因为基极电压为正，所以 Q4 不会处于截止区。因此，Q4 工作在**正向有源区**。\n\nQ2 的发射极电压为 $V_{E2} = V_{B4} \\approx 0.7\\,\\text{V}$。由于 Q1 为 Q2 提供了强大的基极驱动电流，我们来判断 Q2 的工作状态。如果假设 Q2 处于正向有源区，其集电极电压 $V_{C2}$ 将被拉到一个不切实际的低电平（低于其发射极电压），这与正向有源区的条件相矛盾。因此，Q2 必定进入**饱和区**。在饱和状态下，$V_{C2} \\approx V_{E2} + V_{CE,sat} = 0.7\\,\\text{V} + 0.2\\,\\text{V} = 0.9\\,\\text{V}$。\n\n现在分析上拉晶体管 Q3。其基极连接到 Q2 的集电极，因此 $V_{B3} = V_{C2} \\approx 0.9\\,\\text{V}$。Q3 的发射极通过二极管 D1 连接到输出。要使 Q3 和 D1 导通，Q3 的基极电压需要至少比输出电压高出两个压降 ($V_{D,on}$ 和 $V_{BE,on}$)。更精确地说，Q3 导通的条件是 $V_{B3} \\ge V_{OUT} + V_{D,on} + V_{BE,on(Q3)}$。代入数值：$0.9\\,\\text{V} \\ge 2.0\\,\\text{V} + 0.7\\,\\text{V} + 0.7\\,\\text{V} = 3.4\\,\\text{V}$。这个条件显然不成立。由于 Q3 的基极电压远小于足以使其导通的电压，其基极-发射极结是反向偏置的。因此，Q3 处于**截止区**。\n\n总结：\n- Q1: 反向有源区（高电平输入使 Q1 的基极-集电极结正向偏置，基极-发射极结反向偏置）。\n- Q2: 饱和区（强大的基极驱动使其进入饱和状态）。\n- Q3: 截止区（基极电压不足以克服输出电压和二极管压降）。\n- Q4: 正向有源区（基极有足够驱动，且 $V_{CE} \\gg V_{CE,sat}$）。\n\n这与选项 D 一致。", "answer": "$$\\boxed{D}$$", "id": "1961367"}]}