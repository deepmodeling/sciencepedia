{"hands_on_practices": [{"introduction": "在数字电路中，尤其是在动态逻辑和存储单元等应用中，电荷共享是一个不可忽视的模拟效应。本练习通过一个理想化的场景，模拟了当一个传输门接通两个不同电位的电容时电荷重新分配的过程。理解这个过程是掌握数据状态为何会因电路连接而发生变化的基础，这对于设计可靠的数字系统至关重要。[@problem_id:1922264]", "problem": "在数字电路设计中，电荷分享是一种关键现象，它会影响动态逻辑节点的状态。考虑这种情况的一个简化模型。一个由理想电容器 $C_1$ 表示的存储节点，被充电至逻辑高电平电源电压 $V_{DD}$。其附近的一条悬浮互连线，可建模为第二个理想电容器 $C_2$，初始时完全放电，即其电压为 0 V。这两个电容器是相同的，因此 $C_1 = C_2 = C$。\n\n一个近乎理想的互补金属氧化物半导体 (CMOS) 传输门连接在这两个电容器之间。在时间 $t=0$ 时，原先处于关闭状态的传输门被打开，形成一条导电路径。假设在初始设置后，由两个电容器和传输门组成的系统与任何其他电源或接地连接完全隔离。\n\n当经过足够长的时间，系统达到稳定的静电平衡后，两个电容器上的最终电压 $V_f$ 是多少？\n\nA. $V_{DD}$\n\nB. $0.75 V_{DD}$\n\nC. $0.5 V_{DD}$\n\nD. $0.25 V_{DD}$\n\nE. $0$", "solution": "在设置后，双电容器系统是孤立的，且传输门被假定为近乎理想，因此当它打开时，它提供了一条导电路径，而不会增加或减少净电荷。忽略寄生效应和电荷注入，孤立系统中的总电荷是守恒的。\n\n设 $C_{1}=C$ 上的初始电压为 $V_{1}(0)=V_{DD}$，$C_{2}=C$ 上的初始电压为 $V_{2}(0)=0$。初始电荷（相对于地）为：\n$$\nQ_{1,i}=C V_{1}(0)=C V_{DD}, \\quad Q_{2,i}=C V_{2}(0)=0.\n$$\n因此，总的初始电荷是：\n$$\nQ_{\\text{tot},i}=Q_{1,i}+Q_{2,i}=C V_{DD}.\n$$\n\n当开关闭合并且经过足够长的时间后，两个顶端节点均衡至一个共同的最终电压 $V_{f}$。最终电荷为：\n$$\nQ_{1,f}=C V_{f}, \\quad Q_{2,f}=C V_{f},\n$$\n所以总的最终电荷是：\n$$\nQ_{\\text{tot},f}=Q_{1,f}+Q_{2,f}=2 C V_{f}.\n$$\n\n根据电荷守恒定律 $Q_{\\text{tot},f}=Q_{\\text{tot},i}$，可得：\n$$\n2 C V_{f}=C V_{DD} \\quad \\Rightarrow \\quad V_{f}=\\frac{V_{DD}}{2}.\n$$\n\n等效地，使用两个初始电压分别为 $V_{1}$ 和 $V_{2}$ 的电容器的通用电荷分享结果，\n$$\nV_{f}=\\frac{C_{1} V_{1}+C_{2} V_{2}}{C_{1}+C_{2}},\n$$\n代入 $C_{1}=C_{2}=C$，$V_{1}=V_{DD}$，$V_{2}=0$ 可得出 $V_{f}=V_{DD}/2$。因此，正确选项是 C。", "answer": "$$\\boxed{C}$$", "id": "1922264"}, {"introduction": "一个完美的传输门能够无衰减地传输逻辑'1'和'0'，但这依赖于其NMOS和PMOS晶体管的协同工作。本练习将引导我们分析当PMOS晶体管发生“开路”故障时的情况。通过这个思想实验，你将亲手计算并理解为什么仅靠NMOS晶体管无法传递一个完美的逻辑'1'，并揭示阈值电压损失（threshold voltage drop）这一关键概念。[@problem_id:1922274]", "problem": "一个互补金属氧化物半导体 (CMOS) 传输门被设计用于在输入节点 `IN` 和输出节点 `OUT` 之间传输信号。该门由一个N型金属氧化物半导体 (NMOS) 晶体管和一个P型金属氧化物半导体 (PMOS) 晶体管并联构成。该门由施加到NMOS晶体管栅极的信号 `C` 及其施加到PMOS晶体管栅极的反相信号 `C_bar` 控制。\n\n该电路的工作电源电压为 $V_{DD}$，接地参考为 $0$ V。逻辑'1'电平定义为 $V_{DD}$，逻辑'0'电平定义为 $0$ V。NMOS具有正阈值电压 $V_{Tn}$，PMOS具有负阈值电压 $V_{Tp}$。\n\n考虑一种场景，传输门意图处于'导通'状态，即控制信号 `C` 为逻辑'1' ($V_{DD}$)，而 `C_bar` 为逻辑'0' ($0$ V)。一个稳定的逻辑'1'信号施加到输入端 `IN`，因此 $V_{IN} = V_{DD}$。然而，一个制造缺陷导致PMOS晶体管出现“断路故障”，使其在电气上等效于一个永久性开路。\n\n假设输出节点 `OUT` 初始电压为 $0$ V，并连接到一个不汲取电流的负载，请确定 `OUT` 处的最终稳态电压。在此分析中，可以忽略体效应。请用所提供的参数（$V_{DD}$, $V_{Tn}$, $V_{Tp}$）以符号表达式的形式表示您的答案。", "solution": "PMOS 发生断路故障，因此它是一个开路，无法导通。从 `IN` 到 `OUT` 的传输路径因此仅通过 NMOS，其栅极由 $C=V_{DD}$ 驱动，且 $V_{IN}=V_{DD}$。\n\n对于 NMOS，电位较低的端子作为源极。由于 $V_{IN}=V_{DD}$ 且 $V_{OUT}$ 从 $0$ V开始，在整个充电过程中我们有 $V_{OUT} \\leq V_{IN}$，因此 NMOS 的源极实际上是 `OUT` 节点。那么，NMOS的栅源电压为\n$$\nV_{GS}=V_{G}-V_{S}=V_{DD}-V_{OUT}.\n$$\n当 $V_{GS} \\geq V_{Tn}$ 时，NMOS导通；当 $V_{GS}$ 下降到 $V_{Tn}$ 时，它停止导通。在 `OUT` 端没有负载电流的情况下，当沟道刚好截止时达到稳态，即\n$$\nV_{DD}-V_{OUT}=V_{Tn}.\n$$\n求解 $V_{OUT}$ 可得\n$$\nV_{OUT}=V_{DD}-V_{Tn}.\n$$\n体效应被忽略，因此 $V_{Tn}$ 是一个常数，而发生断路故障的 PMOS 不起作用；$V_{Tp}$ 不会出现在结果中。因此，最终的稳态输出电压为 $V_{DD}-V_{Tn}$。", "answer": "$$\\boxed{V_{DD}-V_{Tn}}$$", "id": "1922274"}, {"introduction": "与上一练习相辅相成，本题探讨了传输门中NMOS晶体管发生故障时的对称情况。如果说PMOS是传递强逻辑'1'的关键，那么NMOS在传递强逻辑'0'时则扮演着不可或缺的角色。通过解决这个问题，你将完整地看到CMOS传输门“互补”设计的精髓所在，并巩固对两种晶体管各自优势的理解。[@problem_id:1922300]", "problem": "一个互补金属氧化物半导体 (CMOS) 传输门由一个 NMOS 晶体管和一个 PMOS 晶体管并联构成。该传输门的电源电压为 $V_{DD} = 3.3 \\text{ V}$，参考接地电位为 $0 \\text{ V}$。NMOS 晶体管的阈值电压为 $V_{Tn} = 0.7 \\text{ V}$，PMOS 晶体管的阈值电压为 $V_{Tp} = -0.8 \\text{ V}$。对于控制信号，NMOS 的栅极连接到控制线 $C$，而 PMOS 的栅极连接到其反相信号 $\\bar{C}$。当 $C$ 为高电平 ($V_{DD}$) 且 $\\bar{C}$ 为低电平 ($0 \\text{ V}$) 时，传输门被视为导通或“开启”。\n\n一个制造缺陷导致 NMOS 晶体管出现“断路故障”，意味着无论其栅极电压如何，它都永久处于不导电状态。然而，PMOS 晶体管的功能完好。\n\n假设这个有故障的传输门处于导通状态，并且一个由 $0 \\text{ V}$ 输入电压表示的强逻辑 '0' 被施加到其输入端。该传输门的输出端连接到一个高阻抗负载，因此可以忽略任何负载效应。\n\n确定该故障门输出端的稳态电压。以伏特为单位表示你的答案，并保留两位有效数字。", "solution": "传输门由一个 NMOS 和一个 PMOS 并联组成。由于 NMOS 存在断路故障，无论其栅极偏置如何，NMOS 都不会导电，因此唯一可能的导电路径是通过 PMOS。PMOS 的栅极由控制信号的反相信号驱动，当传输门导通时，该信号为 $0$。因此，对于 PMOS，我们有 $V_{G} = 0$。\n\n设输入为 $V_{\\text{in}} = 0$（一个强逻辑 0），并设输出稳定在 $V_{\\text{out}}$。对于 PMOS 晶体管，其导通条件是\n$$\nV_{SG} > |V_{Tp}|,\n$$\n其中 $S$ 表示电位较高的端子。当 $V_{\\text{in}} = 0$ 且输出从某个初始值向低电平放电时，只要 $V_{\\text{out}} > 0$，两个传输端子中电位较高的是输出端，因此我们取 $S$ 为输出节点。因此，\n$$\nV_{SG} = V_{S} - V_{G} = V_{\\text{out}} - 0 = V_{\\text{out}}.\n$$\n当 PMOS 导通时，它将输出拉向输入电平，直到导通条件恰好不再满足，即直到\n$$\nV_{SG} = |V_{Tp}|.\n$$\n在稳态下（连接高阻抗负载且无其他路径），PMOS 在以下条件时关断：\n$$\nV_{\\text{out}} = |V_{Tp}|.\n$$\n使用给定的 $V_{Tp} = -0.8\\ \\text{V}$，我们得到\n$$\nV_{\\text{out}} = 0.8\\ \\text{V}.\n$$\n保留两位有效数字，结果为 $0.80$ 伏特。", "answer": "$$\\boxed{0.80}$$", "id": "1922300"}]}