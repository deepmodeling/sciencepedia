{"hands_on_practices": [{"introduction": "在数字电路设计中，正确处理逻辑门的输入至关重要。本练习将探讨晶体管-晶体管逻辑（TTL）门如何解释不同的输入信号，包括接地、连接到电源以及一个经常引起困惑的特殊情况——悬空输入。理解TTL输入级的这一基本特性，对于正确搭建和调试电路、避免常见的设计错误至关重要。", "problem": "一名电子专业的学生正在使用一个标准的74系列四输入晶体管-晶体管逻辑 (TTL) 与非门进行实验。该门电路的供电电压为 $V_{CC} = +5.0 \\text{ V}$。在一次特定的测试中，该学生将输入端配置如下：\n- 输入端 A 接地 (0 V)。\n- 输入端 B 也接地 (0 V)。\n- 输入端 C 直接连接到电源 $V_{CC}$。\n- 输入端 D 完全悬空，也称为“浮空”输入。\n\n在标准TTL逻辑中，逻辑低电平对应于接近 0 V 的电压，逻辑高电平对应于显著高于地的电压，通常大于 2.4 V。根据TTL输入级的基本原理，该门电路输出端的逻辑状态是什么？\n\nA. 输出处于高阻态。\n\nB. 输出为逻辑低电平。\n\nC. 输出为逻辑高电平。\n\nD. 输出在高电平和低电平之间不可预测地振荡。\n\nE. 状态不确定，在不知道晶体管的具体制造细节的情况下无法预测。", "solution": "将逻辑低定义为 $0$，逻辑高定义为 $1$。一个四输入与非门实现布尔函数\n$$\nY=\\overline{A B C D}.\n$$\n已知输入为：\n- $A=0$ (接地)，\n- $B=0$ (接地)，\n- $C=1$ (连接到 $V_{CC}$)，\n- $D$ 悬空。\n\n在标准TTL中，浮空输入由于内部偏置而被视作逻辑高电平，因此我们取 $D=1$。计算与非运算的乘积项：\n$$\nA B = 0 \\cdot 0 = 0,\\quad \\Rightarrow \\quad A B C D = 0 \\cdot C \\cdot D = 0.\n$$\n因此，输出为\n$$\nY=\\overline{0}=1,\n$$\n即逻辑高电平。此外，标准的74系列TTL与非门使用推拉式输出级，除非明确设计为三态，否则不会处于高阻态，因此输出被主动驱动为高电平，而不是不确定或振荡状态。", "answer": "$$\\boxed{C}$$", "id": "1972792"}, {"introduction": "虽然我们通常将逻辑门视为处理$0$和$1$的理想数字模块，但其内部是由模拟元器件——晶体管构成的。本练习通过一个典型的故障排查场景，挑战你将一个非理想的输出电压与TTL门内部“图腾柱”输出级中各个晶体管的运行状态联系起来。这种分析对于从根本上理解TTL门的工作原理以及诊断电路故障非常有价值。", "problem": "一个标准的晶体管-晶体管逻辑（TTL）门电路使用一个图腾柱输出级。该级由一个表示为$Q_2$的分相双极结型晶体管（BJT），一个由晶体管$Q_3$和串联二极管$D_1$组成的上拉结构，以及一个下拉晶体管$Q_4$构成。该门电路由电源电压$V_{CC}$供电。\n\n为进行分析，假设元件参数如下：\n- 对于任何导通的BJT，其基极-发射极电压降为 $V_{BE,on} = 0.7\\,\\text{V}$。\n- 饱和BJT的集电极-发射极电压为 $V_{CE,sat} = 0.2\\,\\text{V}$。\n- 对于二极管$D_1$，其正向压降为 $V_{D,on} = 0.7\\,\\text{V}$。\n- 电源电压为 $V_{CC} = 5.0\\,\\text{V}$。\n\n一位工程师在对电路进行故障排查时，测量了此TTL门电路的输出电压。发现输出永久地固定在大约 $1.4\\,\\text{V}$ 的值上。这种情况是由于该门电路的输入被保持在一个固定的中间直流电压上，而门电路的内部元件均工作正常所引起的。\n\n根据这一观察，以下哪个选项最准确地描述了输出级中三个关键晶体管的工作状态？\n\nA. $Q_2$ 处于饱和区，$Q_3$ 处于截止区，$Q_4$ 处于饱和区。\n\nB. $Q_2$ 处于截止区，$Q_3$ 处于放大区，$Q_4$ 处于截止区。\n\nC. $Q_2$ 处于放大区，$Q_3$ 处于放大区，$Q_4$ 处于放大区。\n\nD. $Q_2$ 处于放大区，$Q_3$ 处于截止区，$Q_4$ 处于饱和区。", "solution": "我们分析由分相晶体管$Q_{2}$、由$Q_{3}$与二极管$D_{1}$串联组成的上拉路径、以及下拉晶体管$Q_{4}$构成的TTL图腾柱输出级，该电路由$V_{CC}$供电。测得的输出电压约为 $1.4\\,\\text{V}$，这与一个被钳位在接近两个正向结电压降的节点电压相符，即 $V_{O} \\approx 2 V_{BE,on}$。\n\n我们通过写出每个器件在正向放大模式下导通时所隐含的电压关系来进行分析：\n- 如果$Q_{3}$和$D_{1}$正向偏置（上拉路径导通但未饱和），那么作为一个带串联二极管的射极跟随器，\n$$\nV_{B3} = V_{E3} + V_{BE,on},\\quad V_{O} = V_{E3} - V_{D1} \\quad\\Rightarrow\\quad V_{B3} = V_{O} + V_{D,on} + V_{BE,on}.\n$$\n- 如果$Q_{4}$处于正向放大区（下拉路径导通但未饱和），那么其发射极接地且基极-发射极正向偏置，\n$$\nV_{B4} = V_{BE,on},\\quad \\text{且对于放大区 } V_{CB4} = V_{O} - V_{B4} = V_{O} - V_{BE,on} > 0.\n$$\n因此，只要$V_{O} > V_{BE,on}$，$Q_{4}$就处于放大区。观测到的$V_{O} \\approx 2 V_{BE,on}$满足此条件。\n\n现在将这些关系与分相晶体管$Q_{2}$联系起来。在标准的TTL配置中，$Q_2$的发射极驱动$Q_4$的基极，$Q_2$的集电极驱动$Q_3$的基极。因此，\n$$\nV_{E2} = V_{B4} = V_{BE,on},\\quad V_{B2} = V_{E2} + V_{BE,on} = 2 V_{BE,on},\\quad V_{C2} = V_{B3} = V_{O} + V_{D,on} + V_{BE,on}.\n$$\n当 $V_{O} \\approx 2 V_{BE,on}$时，检查$Q_{2}$的工作区域：\n$$\nV_{CB2} = V_{C2} - V_{B2} = \\left(V_{O} + V_{D,on} + V_{BE,on}\\right) - 2 V_{BE,on} = V_{O} + V_{D,on} - V_{BE,on}.\n$$\n当$V_{O} \\approx 2 V_{BE,on}$时，这得到$V_{CB2} \\approx V_{BE,on} + V_{D,on} > 0$，所以$Q_{2}$处于正向放大区（未饱和）。同时$V_{BE2} = V_{B2} - V_{E2} = V_{BE,on}$，所以$Q_{2}$没有截止。\n\n对于$Q_3$，验证其未饱和：\n$$\nV_{CB3} = V_{CC} - V_{B3} = V_{CC} - \\left(V_{O} + V_{D,on} + V_{BE,on}\\right).\n$$\n在$V_{O} \\approx 2 V_{BE,on}$和TTL中典型的$V_{CC}$条件下，$V_{CB3} > 0$，因此$Q_{3}$处于放大区。此外，其基极-发射极结是正向偏置的，因为$V_{B3} - V_{O} = V_{D,on} + V_{BE,on} > 0$，所以它没有截止。\n\n对于$Q_4$，如上所述，$V_{B4} = V_{BE,on}$ 且 $V_{CB4} = V_{O} - V_{BE,on} \\approx V_{BE,on} > 0$，所以$Q_4$处于放大区。由于 $V_{O} \\gg V_{CE,sat}$，它不处于饱和区；且由于 $V_{BE4} = V_{BE,on}$，它没有截止。\n\n因此，一个$V_{O} \\approx 2 V_{BE,on}$的自洽偏置点具有以下特征：\n- $Q_{2}$ 处于放大区，\n- $Q_{3}$ 处于放大区，\n- $Q_{4}$ 处于放大区。\n\n为了排除其他选项：\n- 如果$Q_4$处于饱和区（选项A或D），那么$V_O \\approx V_{CE,sat}$，这与观测到的$V_O \\approx 2 V_{BE,on}$相矛盾。\n- 如果$Q_2$截止且只有$Q_3$导通（选项B），那么在$Q_3$被上拉驱动的情况下，$V_O$将接近$V_{CC} - V_{D,on} - V_{BE,on}$，这个值远大于$2 V_{BE,on}$。\n\n因此，唯一一致的工作状态是三个晶体管都处于放大区，这对应于选项C。", "answer": "$$\\boxed{C}$$", "id": "1972758"}, {"introduction": "除了直流特性（如电流驱动能力），逻辑门的交流特性（如速度）在高速数字系统中同样关键。本练习探讨了容性负载 $C_{L}$ 如何影响TTL门的传播延迟 $\\Delta t_p$，这是决定电路最高工作频率的核心因素。通过计算在特定时序约束下所能驱动的最大设备数，你将学会如何在扇出能力和系统性能之间进行关键的工程权衡。", "problem": "一位数字系统工程师正在为一块使用特定晶体管-晶体管逻辑（TTL）门系列的定制处理板设计一个高速时钟分配网络。需要一个时钟缓冲门来驱动板上多个相同逻辑器件的时钟输入。系统的性能关键取决于维持严格的时序裕量。由其驱动的器件的容性负载所引起的时钟缓冲门的额外传播延迟必须被严格控制。\n\n根据制造商的数据手册，时钟缓冲门的传播延迟随总负载电容线性增加。数据手册提供了以下参数：\n- 每个被驱动的逻辑器件的输入电容为 $C_{\\text{in}} = 2.5 \\text{ pF}$。\n- 该门的传播延迟是在 $C_{\\text{std}} = 10 \\text{ pF}$ 的标准测试负载电容下测定的。\n- 传播延迟对额外电容的灵敏度对于上升沿和下降沿是不同的。对于低到高输出转换，灵敏度为 $k_{\\text{LH}} = 0.040 \\text{ ns/pF}$。对于高到低输出转换，灵敏度为 $k_{\\text{HL}} = 0.055 \\text{ ns/pF}$。\n- 连接缓冲器到所有器件的印刷电路板（PCB）走线的总杂散电容估计为 $C_{\\text{stray}} = 15 \\text{ pF}$。\n\n设计规范要求，缓冲门的传播延迟相对于其在标准测试负载 $C_{\\text{std}}$ 下的延迟的增量，对于任何一种转换类型（低到高或高到低）都不得超过 $\\Delta t_{p, \\text{max}} = 5.0 \\text{ ns}$。\n\n计算在满足此时序约束的条件下，可以连接到单个时钟缓冲门输出端的最大逻辑器件数量。", "solution": "设 $N$ 表示由缓冲器驱动的相同逻辑器件的数量。缓冲器输出端的总容性负载是 PCB 杂散电容和 $N$ 个器件输入电容的总和：\n$$\nC_{\\text{L}}=C_{\\text{stray}}+N\\,C_{\\text{in}}.\n$$\n数据手册指出，相对于标准测试负载 $C_{\\text{std}}$ 的传播延迟增量与超额电容成线性关系，并且对于低到高（LH）和高到低（HL）转换具有不同的灵敏度。因此，对于每种转换类型，\n$$\n\\Delta t_{p,\\text{edge}}=k_{\\text{edge}}\\left(C_{\\text{L}}-C_{\\text{std}}\\right),\n$$\n其中 $\\text{edge} \\in \\{\\text{LH},\\text{HL}\\}$。设计约束要求\n$$\n\\Delta t_{p,\\text{edge}} \\leq \\Delta t_{p,\\text{max}} \\quad \\text{对于 LH 和 HL 两种情况均成立。}\n$$\n代入 $C_{\\text{L}}$ 并对 $N$ 求解该不等式可得\n$$\nk_{\\text{edge}}\\left(C_{\\text{stray}}+N\\,C_{\\text{in}}-C_{\\text{std}}\\right)\\leq \\Delta t_{p,\\text{max}}\n\\;\\;\\Longrightarrow\\;\\;\nN \\leq \\frac{\\Delta t_{p,\\text{max}}/k_{\\text{edge}}+C_{\\text{std}}-C_{\\text{stray}}}{C_{\\text{in}}}.\n$$\n对每种转换评估此界限：\n\n1) 对于 HL，其中 $k_{\\text{HL}}=0.055\\ \\text{ns/pF}$：\n$$\n\\frac{\\Delta t_{p,\\text{max}}}{k_{\\text{HL}}}=\\frac{5.0}{0.055}=\\frac{1000}{11},\n$$\n$$\nN \\leq \\frac{\\frac{1000}{11}+10-15}{2.5}\n=\\frac{\\frac{1000}{11}-5}{2.5}\n=\\frac{\\frac{945}{11}}{2.5}\n=\\frac{945}{11}\\cdot\\frac{2}{5}\n=\\frac{378}{11}\\approx 34.3636\\ldots\n$$\n\n2) 对于 LH，其中 $k_{\\text{LH}}=0.040\\ \\text{ns/pF}$：\n$$\n\\frac{\\Delta t_{p,\\text{max}}}{k_{\\text{LH}}}=\\frac{5.0}{0.040}=125,\n$$\n$$\nN \\leq \\frac{125+10-15}{2.5}=\\frac{120}{2.5}=48.\n$$\n两个约束都必须满足，因此允许的 $N$ 是两个界限中的最小值，并且由于 $N$ 必须是整数，\n$$\nN_{\\text{max}}=\\left\\lfloor \\min\\left\\{48,\\frac{378}{11}\\right\\}\\right\\rfloor=\\left\\lfloor \\frac{378}{11}\\right\\rfloor=34.\n$$\n因此，在满足两种转换的时序约束的情况下，最多可以驱动 $34$ 个器件。", "answer": "$$\\boxed{34}$$", "id": "1972820"}]}