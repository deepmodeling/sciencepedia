{"hands_on_practices": [{"introduction": "在任何给定的数字电路中，信号从输入到输出可以有多条不同的路径。这些路径的延迟时间通常不同，理解这一点至关重要。本练习将引导你计算和区分一个电路中最长（关键）和最短的信号路径，这两种路径延迟分别是决定电路最高工作频率和确保信号稳定性的关键参数。[@problem_id:1925781]", "problem": "考虑一个由几种类型的逻辑门构成的组合逻辑电路，每种逻辑门都有特定的传播延迟。该电路有四个主输入，标记为 A、B、C 和 D，并产生一个最终输出 Z。假设所有主输入信号在时间 $t=0$ 时同时可用。\n\n电路的结构如下：\n- 一个反相器（非门）接收输入 A，产生一个中间信号 N1。\n- 一个两输入与门接收输入 B 和 C，产生一个中间信号 N2。\n- 一个两输入或门接收信号 N1 和 N2 作为其输入，产生一个中间信号 N3。\n- 最后，一个两输入异或门接收主输入 D 和中间信号 N3 作为其输入，产生最终输出 Z。\n\n每种类型门的传播延迟如下：\n- 非门延迟：10 ps\n- 两输入与门延迟：25 ps\n- 两输入或门延迟：30 ps\n- 两输入异或门延迟：40 ps\n\n计算关键路径延迟（从任意输入到输出 Z 的最长可能传播延迟）和最短路径延迟（从任意输入到输出 Z 的最短可能传播延迟）。请以两个数值的形式提供您的答案：关键路径延迟，后跟最短路径延迟。答案以皮秒 (ps) 为单位。", "solution": "所有主输入在零时刻可用，因此设置输入端的到达时间为 $t_{A}=t_{B}=t_{C}=t_{D}=0$。\n\n设门延迟为 $t_{\\text{NOT}}=10$，$t_{\\text{AND}}=25$，$t_{\\text{OR}}=30$ 和 $t_{\\text{XOR}}=40$（单位均为皮秒）。\n\n对每个门使用公式 $t_{\\text{out}}=\\max(\\text{input arrival times})+\\text{gate delay}$ 计算节点到达时间：\n$$t_{N1}=t_{A}+t_{\\text{NOT}}=0+10=10,$$\n$$t_{N2}=\\max(t_{B},t_{C})+t_{\\text{AND}}=\\max(0,0)+25=25,$$\n$$t_{N3}=\\max(t_{N1},t_{N2})+t_{\\text{OR}}=\\max(10,25)+30=55,$$\n$$t_{Z}=\\max(t_{D},t_{N3})+t_{\\text{XOR}}=\\max(0,55)+40=95.$$\n因此，关键路径延迟（最长）为 $95$ ps，由从 B 或 C 经过与门、或门和异或门的路径实现。\n\n对于最短路径延迟，计算每条输入到输出路径上的门延迟之和：\n- 从 A：$10+30+40=80$ ps。\n- 从 B 或 C：$25+30+40=95$ ps。\n- 从 D：$40$ ps。\n\n最小值为 $40$ ps（从 D 直接通过异或门）。\n\n因此，关键路径延迟为 $95$ ps，最短路径延迟为 $40$ ps。", "answer": "$$\\boxed{\\begin{pmatrix}95 & 40\\end{pmatrix}}$$", "id": "1925781"}, {"introduction": "真实的逻辑门延迟并非一成不变的常数，它们会受到门自身复杂度的影响。一个常见的模型是延迟随输入数量（即扇入）的增加而增加。通过这个练习，你将应用一个基于扇入的线性延迟模型来计算关键路径，这让你能更深入地理解门级电路的时序性能如何与其拓扑结构相关联。[@problem_id:1925767]", "problem": "考虑一个定制设计的组合逻辑电路，其有四个主输入，分别表示为 A、B、C 和 D，以及一个最终输出 Z。该电路的结构由以下互连的逻辑门定义：\n\n*   一个双输入与门 G1，其输入为 A 和 B，产生一个中间信号 W1。\n*   一个非门 G2，其输入为 C，产生一个中间信号 W2。\n*   一个双输入异或门 G4，其输入为 B 和 C，产生一个中间信号 W4。\n*   一个三输入与非门 G3，其输入为 W1、W2 和 D，产生一个中间信号 W3。\n*   一个双输入或门 G5，其输入为 W3 和 W4，产生最终输出 Z。\n\n在这种特定技术中，任何逻辑门的传播延迟 $t_{pd}$ 是其输入数量（扇入数）$N$ 的线性函数。该延迟由以下公式给出：\n$$t_{pd} = (5 + 2N) \\text{ ps}$$\n其中延迟单位为皮秒 (ps)。\n\n假设所有主输入 A、B、C 和 D 在时间 $t = 0$ 时同时可用，此电路的关键路径延迟是多少？请以皮秒为单位表示您的答案。", "solution": "根据给定的门延迟模型 $t_{pd}(N) = 5 + 2N$（单位为 $\\text{ps}$），根据每个门的扇入数确定其延迟：\n- G1（双输入与门）：$t_{G1} = 5 + 2\\cdot 2 = 9\\,\\text{ps}$。\n- G2（非门）：$t_{G2} = 5 + 2\\cdot 1 = 7\\,\\text{ps}$。\n- G4（双输入异或门）：$t_{G4} = 5 + 2\\cdot 2 = 9\\,\\text{ps}$。\n- G3（三输入与非门）：$t_{G3} = 5 + 2\\cdot 3 = 11\\,\\text{ps}$。\n- G5（双输入或门）：$t_{G5} = 5 + 2\\cdot 2 = 9\\,\\text{ps}$。\n\n所有主输入在 $t=0$ 时可用。计算节点的到达时间，其原理是一个门的输出在最晚到达的输入信号加上该门的传播延迟后才变为有效：\n- $t_{W1} = 0 + t_{G1} = 9\\,\\text{ps}$。\n- $t_{W2} = 0 + t_{G2} = 7\\,\\text{ps}$。\n- $t_{W4} = 0 + t_{G4} = 9\\,\\text{ps}$。\n- $t_{W3} = \\max(t_{W1}, t_{W2}, 0) + t_{G3} = \\max(9, 7, 0) + 11 = 20\\,\\text{ps}$。\n- $t_{Z} = \\max(t_{W3}, t_{W4}) + t_{G5} = \\max(20, 9) + 9 = 29\\,\\text{ps}$。\n\n因此，关键路径为 A/B $\\rightarrow$ G1 $\\rightarrow$ G3 $\\rightarrow$ G5，总延迟为 $9 + 11 + 9 = 29\\,\\text{ps}$，这等于最晚的输出到达时间 $t_{Z}$。", "answer": "$$\\boxed{29}$$", "id": "1925767"}, {"introduction": "除了逻辑门自身的复杂性，其驱动的负载（即扇出）也是影响延迟的关键因素。一个门的输出连接的后续输入越多，它的开关速度就越慢。本练习将让你在一个依赖于扇出的延迟模型下进行时序分析，这对于理解和解决实际电路设计中由负载引起的时序问题至关重要。[@problem_id:1925776]", "problem": "考虑一个由一组基本逻辑门构建的组合数字逻辑电路。该电路有四个主输入，分别标记为 A、B、C 和 D，以及一个主输出，标记为 Z。假设所有主输入在时间 $t=0$ 时均可用。电路内部的互连和逻辑门描述如下：\n\n*   **G1**：一个非门，其输入为主输入 A。\n*   **G2**：一个双输入与门，其输入为主输入 B 和 C。\n*   **G3**：一个双输入或门，其输入为主输入 C 和 D。\n*   **G4**：一个双输入与门，其输入连接到门 G1 和门 G2 的输出。\n*   **G5**：一个双输入或门，其输入连接到门 G2 和门 G3 的输出。\n*   **G6**：一个双输入与门，其输入连接到门 G4 和门 G5 的输出。该门的输出是主输出 Z。\n\n电路中每个门的传播延迟 $t_{pd}$ 取决于其扇出。扇出定义为一个门的输出所驱动的后续门输入的数量。该延迟使用以下公式计算：\n$$t_{pd} = t_{base} + k \\times (\\text{fan-out})$$\n\n每种门类型的基本延迟（$t_{base}$）和负载相关因子（$k$）如下所示：\n*   非门的基本延迟，$t_{base,NOT} = 0.5$ ns\n*   与门的基本延迟，$t_{base,AND} = 0.8$ ns\n*   或门的基本延迟，$t_{base,OR} = 1.0$ ns\n*   负载相关延迟因子，$k = 0.2$ ns/扇出单位\n\n连接到主输出 Z 的部分被认为负载为零，这意味着它对门 G6 的扇出没有贡献。\n\n计算该电路的关键路径延迟。以纳秒（ns）为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "我们要求解从主输入到主输出的关键路径延迟。每个门的传播延迟与负载相关：\n$$t_{pd} = t_{base} + k \\times (\\text{fan-out}),$$\n一个门的输出在其所有输入中最晚一个到达后，再加上自身的传播延迟才变为有效：\n$$t_{\\text{out}} = \\max_{i}(t_{\\text{in},i}) + t_{pd}.$$\n\n首先，根据所描述的互连确定每个门的扇出：\n- G1 仅馈送 G4，因此 G1 的扇出为 $1$。\n- G2 馈送 G4 和 G5，因此 G2 的扇出为 $2$。\n- G3 仅馈送 G5，因此 G3 的扇出为 $1$。\n- G4 仅馈送 G6，因此 G4 的扇出为 $1$。\n- G5 仅馈送 G6，因此 G5 的扇出为 $1$。\n- G6 仅驱动主输出 Z，其负载为零，因此 G6 的扇出为 $0$。\n\n使用 $t_{base,NOT}=0.5$ ns，$t_{base,AND}=0.8$ ns，$t_{base,OR}=1.0$ ns，以及 $k=0.2$ ns/扇出单位，计算每个门的传播延迟：\n$$t_{pd}(G1)=0.5+0.2\\times 1=0.7\\ \\text{ns},$$\n$$t_{pd}(G2)=0.8+0.2\\times 2=1.2\\ \\text{ns},$$\n$$t_{pd}(G3)=1.0+0.2\\times 1=1.2\\ \\text{ns},$$\n$$t_{pd}(G4)=0.8+0.2\\times 1=1.0\\ \\text{ns},$$\n$$t_{pd}(G5)=1.0+0.2\\times 1=1.2\\ \\text{ns},$$\n$$t_{pd}(G6)=0.8+0.2\\times 0=0.8\\ \\text{ns}.$$\n\n所有主输入在 $t=0$ 时可用，因此输出到达时间如下：\n- G1 输出：$t(G1)=0+0.7=0.7$ ns。\n- G2 输出：$t(G2)=\\max(0,0)+1.2=1.2$ ns。\n- G3 输出：$t(G3)=\\max(0,0)+1.2=1.2$ ns。\n- G4 输出：输入为 $0.7$ ns 时的 G1 和 $1.2$ ns 时的 G2，所以\n$$t(G4)=\\max(0.7,1.2)+1.0=2.2\\ \\text{ns}.$$\n- G5 输出：输入为 $1.2$ ns 时的 G2 和 $1.2$ ns 时的 G3，所以\n$$t(G5)=\\max(1.2,1.2)+1.2=2.4\\ \\text{ns}.$$\n- G6 输出端的 Z：输入为 $2.2$ ns 时的 G4 和 $2.4$ ns 时的 G5，所以\n$$t(Z)=\\max(2.2,2.4)+0.8=3.2\\ \\text{ns}.$$\n\n因此，关键路径延迟为 $3.2$ ns。最长的路径是 G2-G5-G6 或 G3-G5-G6；两者延迟均为 $3.2$ ns。四舍五入到三位有效数字，关键路径延迟为 $3.20$ ns。", "answer": "$$\\boxed{3.20}$$", "id": "1925776"}]}