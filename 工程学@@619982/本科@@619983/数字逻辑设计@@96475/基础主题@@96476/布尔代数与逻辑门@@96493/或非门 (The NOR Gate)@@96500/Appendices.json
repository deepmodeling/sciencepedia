{"hands_on_practices": [{"introduction": "掌握数字逻辑设计的关键不仅在于理解单个逻辑门，更在于学会如何用有限的元件构建任意复杂的电路。这项动手实践 [@problem_id:1969642] 旨在让你通过仅使用2输入或非门来实现一个给定的布尔函数 $F$，从而巩固或非门的“通用性”概念，并锻炼你运用德摩根定律进行电路转换与优化的能力。这是高效硬件设计的一项基本功。", "problem": "在一次数字逻辑设计实验中，一名学生需要仅使用一种限定类型的逻辑门来实现一个特定的布尔函数。目标函数依赖于四个输入变量 $A$、$B$、$C$ 和 $D$，其表达式为 $F(A, B, C, D) = (A+B)(C+D)$。在此表达式中，加号（$+$）表示逻辑或运算，相邻的括号表示逻辑与运算。\n\n该学生唯一可用的元件是双输入或非门。一个输入为 $X$ 和 $Y$ 的双输入或非门产生的输出等效于 $\\overline{X+Y}$。\n\n计算正确实现函数 $F(A, B, C, D)$ 所需的双输入或非门的最少数量。", "solution": "我们需要仅使用双输入或非门来实现布尔函数 $F(A,B,C,D) = (A+B)(C+D)$，其中每个门对输入 $X$ 和 $Y$ 实现 $\\overline{X+Y}$ 的功能。\n\n应用德摩根定律，将 $F$ 直接用或非运算表示：\n$$\nF = (A+B)(C+D)\n= \\overline{\\overline{(A+B)(C+D)}}\n= \\overline{\\overline{A+B} + \\overline{C+D}}.\n$$\n此表达式表明，$F$ 可以通过对两个中间信号 $\\overline{A+B}$ 和 $\\overline{C+D}$ 进行或非运算得到。\n\n使用双输入或非门的实现步骤如下：\n1) 使用一个输入为 $A$ 和 $B$ 的或非门计算 $N_{1} = \\overline{A+B}$。\n2) 使用一个输入为 $C$ 和 $D$ 的或非门计算 $N_{2} = \\overline{C+D}$。\n3) 使用一个输入为 $N_{1}$ 和 $N_{2}$ 的或非门计算 $F = \\overline{N_{1} + N_{2}}$。\n\n因此，用 $3$ 个或非门即可准确实现 $F$。\n\n为了证明其最小性，考虑任何最多由两个双输入或非门组成的电路。设第一个门的输出最多依赖于 $\\{A,B,C,D\\}$ 中的两个变量。第二个（最终）或非门的输入可以是：\n- 第一个门的输出和一个原始输入，因此最终输出最多依赖于三个不同的原始输入；或者\n- 两个原始输入，这种情况下第一个门未被使用；或者\n- 两个门的输出，这在只有一个前级门的情况下是不可能的。\n\n因此，仅用两个或非门，输出最多只能依赖于三个变量。然而，$F$ 依赖于所有四个变量：例如，固定 $(B,C,D)=(0,1,0)$ 得到 $F=A$；固定 $(A,C,D)=(0,1,0)$ 得到 $F=B$；固定 $(A,B,D)=(1,0,0)$ 得到 $F=C$；固定 $(A,B,C)=(1,0,0)$ 得到 $F=D$。因此，至少需要三个或非门，而三个又足够，所以最小数量是 $3$。", "answer": "$$\\boxed{3}$$", "id": "1969642"}, {"introduction": "从消费电子到关键的安全系统，抽象的逻辑门在各种实际应用中发挥着作用。这项练习 [@problem_id:1969652] 将我们的视角从理论电路图转向现代化的实现方式，要求你将一个真实世界的安全互锁逻辑转化为一行VHDL代码。这个过程展示了硬件描述语言（HDL）如何让设计师能够简洁而高效地表达复杂的逻辑行为。", "problem": "在数字系统设计领域，超高速集成电路硬件描述语言（VHDL）用于对电子电路的行为进行建模。考虑一个用于大功率工业激光器的安全联锁系统。该系统有两个输入信号 `CHECK_A` 和 `CHECK_B`，以及一个输出信号 `FIRE_ENABLE`。这些信号的类型是 `std_logic`。\n\n安全协议规定，当且仅当两个安全检查都处于“清除”状态（即 `CHECK_A` 为 '0' 且 `CHECK_B` 为 '0'）时，激光器才能被启用（即 `FIRE_ENABLE` 设置为逻辑 '1'）。如果 `CHECK_A` 或 `CHECK_B`（或两者）处于“警报”状态（逻辑 '1'），那么 `FIRE_ENABLE` 信号必须为 '0' 以防止发射。\n\n假设您正在 VHDL 实体的架构主体内编写代码，您需要使用单个并发信号赋值语句（数据流建模的一个特性）来实现此逻辑。\n\n以下哪一行 VHDL 代码正确描述了 `FIRE_ENABLE` 信号的行为？\n\nA. `FIRE_ENABLE = CHECK_A nor CHECK_B;`\nB. `FIRE_ENABLE = CHECK_A xor CHECK_B;`\nC. `FIRE_ENABLE := CHECK_A or CHECK_B;`\nD. `FIRE_ENABLE = CHECK_A or CHECK_B;`\nE. `FIRE_ENABLE = CHECK_A and CHECK_B;`", "solution": "设输入信号为 $A = \\text{CHECK\\_A}$ 和 $B = \\text{CHECK\\_B}$，输出为 $F = \\text{FIRE\\_ENABLE}$。要求是：\n- 只有当两个检查都清除时，即 $A = 0$ 且 $B = 0$，激光器才能发射。\n- 因此，当且仅当 $A = 0$ 且 $B = 0$ 时，$F = 1$。\n\n用布尔形式表示为：\n$$F = 1 \\iff (A = 0) \\land (B = 0).$$\n这可以写成：\n$$F = \\neg A \\land \\neg B.$$\n根据德摩根定律 (De Morgan’s law)：\n$$\\neg A \\land \\neg B = \\neg (A \\lor B).$$\n实现 $F = \\neg (A \\lor B)$ 的布尔运算符是或非（NOR）运算，记为 $A \\downarrow B$：\n$$F = A \\downarrow B.$$\n\n在 VHDL 中，对于 std_logic 操作数，并发赋值使用信号赋值运算符“=”，而“nor”运算符实现或非（NOR）逻辑。因此，正确的单个并发信号赋值语句是：\n`FIRE_ENABLE = CHECK_A nor CHECK_B;`\n\n评估各个选项：\n- A. 使用“=”和“nor”：正确，实现了 $F = \\neg (A \\lor B)$。\n- B. “xor”：逻辑不正确。\n- C. “:=”是变量赋值（顺序的，非并发的），且逻辑是“or”：语法和逻辑都不正确。\n- D. “=”是比较，不是赋值：不正确。\n- E. “and”会在两者都为 $1$ 时启用：逻辑不正确。\n\n因此，正确选项是 A。", "answer": "$$\\boxed{A}$$", "id": "1969652"}, {"introduction": "或非门不仅能实现简单的组合逻辑功能，更是构成存储电路（时序电路）的基本单元。这项进阶练习 [@problem_id:1969702] 将探索如何使用两个交叉耦合的或非门构建一个基本的 $S$-$R$ 锁存器，并引入一个由时序违规引起的关键现实问题——亚稳态。通过计算锁存器达到稳定状态所需的最短等待时间，你将对异步数字系统中固有的时序挑战有更深刻的理解。", "problem": "一个关键控制电路使用一个基本的置位-复位（SR）锁存器来仲裁两个异步请求信号 S 和 R。该锁存器由两个相同的交叉耦合的2输入或非门实现。第一个或非门的输出被指定为 Q，其输入为 R 信号和第二个或非门的输出。第二个或非门的输出通常是 Q 的补，其输入为 S 信号和输出 Q。\n\n电路的关键时序特性如下：\n- 每个或非门的传播延迟 $t_{pd}$ 为 $0.50$ ns。\n- 锁存器的保持时间要求 $t_h$ 定义为两个输入的撤销操作必须相隔的最小时间间隔，以保证可预测的稳定输出。对于此特定锁存器设计，已确定 $t_h = t_{pd}$。未能满足此保持时间将导致锁存器进入亚稳态。\n- 锁存器的亚稳态时间常数 $\\tau$ 为 $0.20$ ns。\n\n最初，输入 S 和 R 均为逻辑低电平（0），锁存器处于稳定状态。由于上游电路出现故障情况，S 和 R 被同时置为逻辑高电平（1）。此后不久，信号被撤销（返回到逻辑低电平）。S 信号在时间 $t_S = 10.00$ ns 时从高电平转换到低电平。R 信号在时间 $t_R = 10.35$ ns 时从高电平转换到低电平。\n\n当锁存器进入亚稳态时，其在等待时间 $t_{wait}$ 后仍保持在该不确定状态的概率 $P$ 由指数衰减模型 $P(t_{wait}) = \\exp(-t_{wait}/\\tau)$ 描述。为确保系统完整性，下游组件必须等到锁存器仍处于亚稳态的概率小于 $1.0 \\times 10^{-12}$ 后，才能对其输出进行采样。\n\n计算在第二个输入信号（R）被撤销后，必须经过的最小等待时间 $t_{wait}$，才能可靠地对输出 Q 进行采样。以纳秒（ns）为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "信号撤销的时间间隔为 $\\Delta t = t_{R} - t_{S} = 10.35\\,\\text{ns} - 10.00\\,\\text{ns} = 0.35\\,\\text{ns}$。保持时间为 $t_{h} = t_{pd} = 0.50\\,\\text{ns}$。由于 $\\Delta t  t_{h}$，保持时间要求被违反，当第二个输入（R）在 $t_{R}$ 时刻撤销时，锁存器可能进入亚稳态。\n\n锁存器在等待时间 $t_{wait}$（从 $t_{R}$ 开始测量）后仍保持亚稳态的概率为\n$$\nP(t_{wait})=\\exp\\!\\left(-\\frac{t_{wait}}{\\tau}\\right).\n$$\n为确保 $P(t_{wait})1.0 \\times 10^{-12}$，解\n$$\n\\exp\\!\\left(-\\frac{t_{wait}}{\\tau}\\right)  1.0 \\times 10^{-12}.\n$$\n取自然对数，\n$$\n-\\frac{t_{wait}}{\\tau}  \\ln\\!\\left(1.0 \\times 10^{-12}\\right)=\\ln\\!\\left(10^{-12}\\right)=-12\\ln 10,\n$$\n所以\n$$\nt_{wait}  \\tau \\cdot 12 \\ln 10.\n$$\n已知 $\\tau = 0.20\\,\\text{ns}$，\n$$\nt_{wait}  0.20 \\times 12 \\ln 10\\,\\text{ns} = 2.4 \\ln 10\\,\\text{ns}.\n$$\n使用 $\\ln 10 \\approx 2.302585093$，\n$$\nt_{wait} \\approx 2.4 \\times 2.302585093\\,\\text{ns} \\approx 5.526204223\\,\\text{ns}.\n$$\n四舍五入到三位有效数字，最小所需等待时间为 $5.53\\,\\text{ns}$。", "answer": "$$\\boxed{5.53}$$", "id": "1969702"}]}