{"hands_on_practices": [{"introduction": "在数字逻辑中，与非门 (NAND) 和或非门 (NOR) 被称为“通用门”，因为任何布尔函数都可以仅用其中一种门来实现。本练习将挑战你运用布尔代数，特别是德摩根定律，仅使用2输入或非门来构建一个标准的2输入与门，实现 $F = A \\cdot B$ 的功能。这个过程不仅是逻辑上的有趣谜题，更是理解集成电路中逻辑综合基本原理的关键实践 [@problem_id:1966709]。", "problem": "在数字逻辑设计中，常常需要用一种类型的逻辑门来构建另一种。一个双输入或非门被认为是“通用门”，因为任何布尔函数都可以仅通过互连或非门来实现。\n\n考虑一个必须执行双输入与门功能的黑盒，其输入表示为 $A$ 和 $B$，输出为 $F = A \\cdot B$。你的任务是仅使用双输入或非门来设计这个黑盒的内部电路。一个输入为 $X$ 和 $Y$ 的双输入或非门，其输出为 $\\overline{X+Y}$。构建一个功能上等同于双输入与门的电路，所需的最少双输入或非门数量是多少？\n\nA. 1\n\nB. 2\n\nC. 3\n\nD. 4\n\nE. 5", "solution": "我们只能使用双输入或非门，对于输入 $X,Y$，每个门计算输出 $\\overline{X+Y}$。目标函数是双输入与门 $F=A \\cdot B$。\n\n根据 De Morgan 定律，\n$$\nA \\cdot B=\\overline{\\overline{A}+\\overline{B}}.\n$$\n因此，一个与门可以通过对两个输入进行反相，然后将反相后的输入进行或非运算来实现。\n\n一个双输入或非门可以通过将其两个输入连接在一起实现非门的功能：\n$$\n\\overline{A+A}=\\overline{A},\\quad \\overline{B+B}=\\overline{B}.\n$$\n因此：\n- 使用一个输入为 $A,A$ 的或非门来生成 $\\overline{A}$。\n- 使用一个输入为 $B,B$ 的或非门来生成 $\\overline{B}$。\n- 将 $\\overline{A}$ 和 $\\overline{B}$ 输入到第三个或非门中以生成\n$$\nF=\\overline{\\overline{A}+\\overline{B}}=A \\cdot B.\n$$\n因此，3个或非门是足够的。\n\n为了证明最少数量，假设只使用了2个或非门。设最终门的输出为 $F=\\overline{U+V}$，其中 $U,V$ 或者是主输入（$A$ 或 $B$），或者是第一个或非门 $G_{1}$ 的输出。由于只有一个前级门，所以 $U,V$ 中至少有一个必须是主输入。\n\n列举 $G_{1}$ 的可能性：\n- 如果 $G_{1}=\\overline{A+A}=\\overline{A}$ 且最终门的另一个输入是 $B$，那么\n$$\nF=\\overline{\\overline{A}+B}=A \\cdot \\overline{B}\\neq A \\cdot B.\n$$\n如果另一个输入是 $A$，那么 $F=\\overline{\\overline{A}+A}=\\overline{1}=0\\neq A \\cdot B$。\n- 如果 $G_{1}=\\overline{B+B}=\\overline{B}$，对称情况下会得到 $F=\\overline{A} \\cdot B$ 或 $F=0$，两者都不等于 $A \\cdot B$。\n- 如果 $G_{1}=\\overline{A+B}$ 且另一个输入是 $A$，那么\n$$\nF=\\overline{\\overline{A+B}+A}=\\overline{( \\overline{A}\\cdot \\overline{B})+A}\n=\\overline{A+(\\overline{A}\\cdot \\overline{B})}\n=\\overline{A+\\overline{B}}\n=\\overline{A}\\cdot B\\neq A \\cdot B,\n$$\n并且当另一个输入是 $B$ 时，我们同样得到 $A \\cdot \\overline{B}$。\n\n因此没有由2个或非门组成的电路能实现 $A \\cdot B$，所以3是最小值。\n\n因此，所需的最少双输入或非门数量是3，对应选项C。", "answer": "$$\\boxed{C}$$", "id": "1966709"}, {"introduction": "当我们需要一个比标准库中提供的输入更多的逻辑门时，例如用2输入门构建一个4输入与门，我们必须做出设计选择。这些选择不仅影响所需门的数量，还直接决定了电路的性能。本练习将引导你设计一个4输入与门，同时优化两个关键指标：门的数量和最坏情况下的传播延迟 $\\tau$。通过这个实践，你将亲身体会到平衡树形结构相对于简单级联结构在速度上的优势 [@problem_id:1966756]。", "problem": "一位数字系统工程师正在为嵌入式系统设计一个小型控制单元。逻辑的特定部分需要一个4输入与函数，该函数计算表达式 $Y = A \\cdot B \\cdot C \\cdot D$，其中变量代表四个输入信号，$\\cdot$ 符号表示逻辑与运算。\n\n由于制造限制，该工程师的元件库仅限于标准的2输入与门。每个2输入与门都具有相同的非零传播延迟，记为 $\\tau$。传播延迟是指输入信号的变化导致门输出端产生稳定且正确的变化所需的时间。连接门的导线的延迟可以忽略不计。\n\n工程师必须通过互连这些2输入与门来设计这个4输入与函数。设计必须在两个方面达到最优：必须使用最少数量的2输入与门，并且在所有使用此最少门数的配置中，其排列必须具有尽可能低的最坏情况传播延迟。最坏情况传播延迟是指任何一个主输入（$A, B, C,$ 或 $D$）的信号变化传播到最终输出 $Y$ 所需的最长时间。\n\n以下哪个选项正确说明了电路所需的最小2输入与门数量和可实现的最小最坏情况传播延迟？\n\nA. 3个门, $2\\tau$\n\nB. 3个门, $3\\tau$\n\nC. 4个门, $2\\tau$\n\nD. 4个门, $4\\tau$\n\nE. 2个门, $2\\tau$", "solution": "我们必须仅使用2输入与门来实现4输入与函数 $Y = A \\cdot B \\cdot C \\cdot D$，每个门的传播延迟相同，记为 $\\tau$，且导线延迟可忽略不计。设计必须最小化门的数量，并在此基础上，最小化最坏情况传播延迟。\n\n首先，我们推导所需的最小2输入与门数量。一个2输入与门将两个信号合并为一个。从四个独立的输入 $\\{A,B,C,D\\}$ 开始，每个门最多可以将独立信号的数量减少一个。如果使用 $g$ 个门，剩余信号的最小可能数量是 $4 - g$。为了得到单个输出，我们需要\n$$\n4 - g = 1 \\quad \\Rightarrow \\quad g = 3.\n$$\n等效地，用2输入与门实现一个 $n$ 输入与函数，相当于构建一个有 $n$ 个叶节点的二叉树，这需要 $n - 1$ 个内部节点（即门）。对于 $n=4$，这得出需要 $4 - 1 = 3$ 个门。因此，3个门是一个紧密的下限并且是可以实现的。\n\n接下来，我们最小化最坏情况传播延迟。由于每个门的延迟为 $\\tau$ 且导线延迟可忽略，一条路径上的总延迟等于该路径上的门级数乘以 $\\tau$。从任意输入到输出的级数的下限由具有4个叶节点的二叉树的最小深度给出，即\n$$\n\\left\\lceil \\log_{2}(4) \\right\\rceil = 2.\n$$\n因此，可能的最坏情况最小深度是2级，这意味着最坏情况传播延迟的下限为 $2\\tau$。\n\n这个下限可以通过一个平衡结构来实现：\n- 第一级：使用两个2输入与门计算 $X_{1} = A \\cdot B$ 和 $X_{2} = C \\cdot D$。\n- 第二级：使用第三个2输入与门计算 $Y = X_{1} \\cdot X_{2}$。\n\n每个主输入都恰好通过两个门级，因此最坏情况传播延迟为\n$$\n2\\tau.\n$$\n任何使用相同3个门的不平衡配置（例如 $(((A \\cdot B) \\cdot C) \\cdot D)$）都会有一条最长为3级的路径，从而产生 $3\\tau$ 的更差延迟，因此在所有3门设计中，平衡配置是最优的。\n\n因此，正确的选项是3个门和 $2\\tau$。", "answer": "$$\\boxed{A}$$", "id": "1966756"}, {"introduction": "一个在理论上完美的逻辑门，在物理制造过程中也可能出现缺陷。本练习将带你进入数字电路测试的世界，你的任务是为一个3输入与门（输入为 $A$、$B$、$C$，输出为 $F$）设计一套最高效的测试方案。你需要找到一个最小的测试向量集合，以确保能够检测出所有可能的“固定型”故障 (stuck-at-faults)，这是确保芯片质量和可靠性的核心环节 [@problem_id:1966706]。", "problem": "在一家集成电路（IC）制造工厂的质量保证部门，您的任务是为一批三输入与门创建一个高效的测试程序。该门有三个输入，分别表示为 A、B 和 C，以及一个单一输出 F。测试必须符合单一固定型故障模型。该模型假设电路中的故障表现为单条线路（输入或输出端点）永久“固定”在逻辑 0（固定于0，或 SA0）或逻辑 1（固定于1，或 SA1）。\n\n一个测试向量是施加到输入（A, B, C）上的一组特定的逻辑值组合。如果对于某个测试向量，故障门的输出 F 与无故障门的输出不同，则认为该故障被此测试向量“检测”到了。您的目标是找到最小测试集，即能够检测所有四个端点（A, B, C 和 F）上所有可能的单一 SA0 和 SA1 故障所需的最小唯一测试向量集合。\n\n下列哪个选项代表了完成此任务所需的最小测试集 `V`？输入向量以有序元组 `(A, B, C)` 的形式表示。\n\nA. `V = {(0,1,1), (1,0,1), (1,1,0), (1,1,1)}`\n\nB. `V = {(0,0,0), (1,1,1)}`\n\nC. `V = {(0,0,1), (0,1,0), (1,0,0), (1,1,1)}`\n\nD. `V = {(0,0,0), (0,0,1), (0,1,0), (0,1,1), (1,0,0), (1,0,1), (1,1,0), (1,1,1)}`\n\nE. `V = {(0,0,0), (0,1,1), (1,0,1), (1,1,0)}`", "solution": "设三输入与门实现的功能为 $F = A B C$。\n\n在单一固定型故障模型下，要检测一个故障，我们必须同时激励它（将被故障的线路设置为与其固定值相反的值）并将其影响传播到输出（确保门被敏化，从而使输出依赖于该线路）。\n\n- 输入 SA0 故障：\n  对于一个输入，例如 A 固定于0，激励要求 $A=1$。为了通过与门传播，其他输入必须处于非控制值 $1$，这样输出才依赖于 A。因此，所需的向量是 $(1,1,1)$。根据对称性，$(1,1,1)$ 同时检测 A SA0、B SA0 和 C SA0。对于输出故障 F SA0，检测要求正常电路的输出为 $1$，以便与故障输出 $0$ 不同；唯一满足此条件的输入同样是 $(1,1,1)$。因此，$(1,1,1)$ 覆盖了 A、B、C 和 F 上的所有 SA0 故障。\n\n- 输入 SA1 故障：\n  对于 A SA1，激励要求 $A=0$，而传播要求其他输入为 $1$，得出 $(0,1,1)$。类似地，B SA1 由 $(1,0,1)$ 检测，C SA1 由 $(1,1,0)$ 检测。没有单个向量可以检测超过一个输入 SA1 故障，因为要检测（例如）A SA1，其他输入必须为 $1$ 而 A=0，而在同一向量中检测 B SA1 则同时要求 B=0 而其他输入为 $1$，这是不可能的。因此，至少需要三个不同的向量来覆盖三个输入 SA1 故障。\n\n- 输出 SA1 故障：\n  对于 F SA1，故障输出总是 $1$，因此任何能使正常电路输出为 $0$ 的输入都将检测到它。向量 $(0,1,1)$、$(1,0,1)$ 和 $(1,1,0)$ 在正常电路中都会产生 $F=0$，因此都能检测 F SA1。所以，不需要在这些向量之外增加额外的向量来检测 F SA1。\n\n综合以上分析，一个最小测试集必须至少包含用于检测输入 SA1 故障的三个向量 $(0,1,1)$、$(1,0,1)$、$(1,1,0)$，以及用于检测所有 SA0 故障的向量 $(1,1,1)$。这就得出了集合 $V = \\{(0,1,1), (1,0,1), (1,1,0), (1,1,1)\\}$。\n\n在所有选项中，这正是选项 A。其他选项要么未能检测某些输入 SA1 故障（例如 B、C、E），要么不是最小集（D）。", "answer": "$$\\boxed{A}$$", "id": "1966706"}]}