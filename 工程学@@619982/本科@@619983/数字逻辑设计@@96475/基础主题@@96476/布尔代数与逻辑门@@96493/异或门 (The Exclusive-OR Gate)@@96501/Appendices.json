{"hands_on_practices": [{"introduction": "异或门不仅是一个基本的逻辑门，其独特的代数性质使其能够巧妙地解决一些常见问题。这个练习将引导你探索一个经典的应用——如何在不使用任何临时存储单元的情况下，仅用三个异或门来交换两个变量的值。通过这个实践，你将深刻理解异或运算的自反性（$X \\oplus X = 0$），并看到抽象规则如何转化为高效的电路设计。[@problem_id:1967657]", "problem": "一台数字信号处理器中的专用数据置乱单元对两条1比特数据线进行操作，这两条数据线标记为 $A$ 和 $B$。这些数据线上的初始逻辑值分别表示为 $A_0$ 和 $B_0$。该单元使用双输入异或（XOR）门执行一个固定的三步操作序列。每次操作后，指定的数据线会用新值更新，然后才开始下一次操作。操作序列如下：\n\n1.  数据线 $A$ 上的值被替换为对 $A$ 和 $B$ 的当前值应用异或操作的结果。\n2.  数据线 $B$ 上的值被替换为对 $A$ 和 $B$ 的当前值应用异或操作的结果。\n3.  数据线 $A$ 上的值被替换为对 $A$ 和 $B$ 的当前值应用异或操作的结果。\n\n设经过这三步序列后，$A$ 和 $B$ 数据线上的最终逻辑值为 $A_f$ 和 $B_f$。请确定 $A_f$ 和 $B_f$ 关于初始值 $A_0$ 和 $B_0$ 的表达式。您的答案应表示为一行两个表达式，按顺序代表 $A$ 和 $B$ 的最终值。", "solution": "设逻辑异或运算用符号 $\\oplus$ 表示。我们将追踪数据线 $A$ 和 $B$ 在三步操作序列中的状态。我们将使用的异或运算的关键性质有：\n- 交换律: $X \\oplus Y = Y \\oplus X$\n- 结合律: $(X \\oplus Y) \\oplus Z = X \\oplus (Y \\oplus Z)$\n- 单位元: $X \\oplus 0 = X$\n- 自逆性: $X \\oplus X = 0$\n\n设系统的状态用值对 $(A, B)$ 表示。\n\n**初始状态：**\n数据线上的初始值为 $(A_0, B_0)$。\n\n**第一步：**\n操作是将数据线 $A$ 上的值替换为 $A \\oplus B$。\n当前值为 $A = A_0$ 和 $B = B_0$。\n数据线 $A$ 的新值为 $A_1 = A_0 \\oplus B_0$。\n在此步骤中，数据线 $B$ 上的值保持不变。\n因此，第一步之后的状态为 $(A_1, B_1) = (A_0 \\oplus B_0, B_0)$。\n\n**第二步：**\n操作是将数据线 $B$ 上的值替换为 $A \\oplus B$。\n当前值为第一步结束时的值：$A = A_1 = A_0 \\oplus B_0$ 和 $B = B_1 = B_0$。\n数据线 $B$ 的新值为 $B_2 = A_1 \\oplus B_1$。\n代入 $A_1$ 和 $B_1$ 的表达式：\n$$B_2 = (A_0 \\oplus B_0) \\oplus B_0$$\n使用异或的结合律：\n$$B_2 = A_0 \\oplus (B_0 \\oplus B_0)$$\n使用自逆性，$B_0 \\oplus B_0 = 0$：\n$$B_2 = A_0 \\oplus 0$$\n使用单位元性质，$A_0 \\oplus 0 = A_0$：\n$$B_2 = A_0$$\n在此步骤中，数据线 $A$ 上的值保持不变，所以 $A_2 = A_1 = A_0 \\oplus B_0$。\n第二步之后的状态为 $(A_2, B_2) = (A_0 \\oplus B_0, A_0)$。\n\n**第三步：**\n操作是将数据线 $A$ 上的值替换为 $A \\oplus B$。\n当前值为第二步结束时的值：$A = A_2 = A_0 \\oplus B_0$ 和 $B = B_2 = A_0$。\n数据线 $A$ 的新值即最终值 $A_f = A_2 \\oplus B_2$。\n代入 $A_2$ 和 $B_2$ 的表达式：\n$$A_f = (A_0 \\oplus B_0) \\oplus A_0$$\n使用异或的交换律：\n$$A_f = (B_0 \\oplus A_0) \\oplus A_0$$\n使用异或的结合律：\n$$A_f = B_0 \\oplus (A_0 \\oplus A_0)$$\n使用自逆性，$A_0 \\oplus A_0 = 0$：\n$$A_f = B_0 \\oplus 0$$\n使用单位元性质，$B_0 \\oplus 0 = B_0$：\n$$A_f = B_0$$\n在此步骤中，数据线 $B$ 上的值保持不变，所以最终值为 $B_f = B_2 = A_0$。\n\n**最终状态：**\n数据线上的最终值为 $(A_f, B_f) = (B_0, A_0)$。这表明，所述的操作序列成功地交换了两条数据线的初始值，而没有使用任何临时存储元件。题目要求按顺序给出 $A$ 和 $B$ 的最终值的表达式。\n\n$A$ 的最终值：$A_f = B_0$\n$B$ 的最终值：$B_f = A_0$", "answer": "$$\\boxed{\\begin{pmatrix} B_0 & A_0 \\end{pmatrix}}$$", "id": "1967657"}, {"introduction": "掌握了异或门的抽象属性后，让我们将其应用于一个核心的计算任务：构建算术逻辑单元（ALU）的部件。这个练习挑战你在严格的资源限制下，设计一个计算二进制补码的电路。这个设计问题将揭示异或门作为“可控反相器”在计算机算术中的基础性作用。[@problem_id:1967645]", "problem": "一名电气工程专业的学生正在设计一个资源有限的紧凑型算术逻辑单元（ALU）。任务是创建一个电路，用于计算一个3位二进制数的二补码，该二进制数表示为 $B = b_2b_1b_0$，其中 $b_2$ 是最高有效位。\n\n由于元件库施加了严格的限制，该设计必须使用一组特定的逻辑门来实现：恰好两个2输入异或（XOR）门和恰好一个其他的2输入基本逻辑门。电路的输出是二补码结果的各位，即 $S = s_2s_1s_0$。\n\n在设计中，必须使用的那一个额外的基本逻辑门是下列哪一个？\n\nA. AND\nB. OR\nC. NAND\nD. NOR\nE. XNOR", "solution": "设3位输入为 $B=b_{2}b_{1}b_{0}$，其二补码输出为 $S=s_{2}s_{1}s_{0}$。二补码定义为\n$$\nS=\\overline{B}+1.\n$$\n将其按位实现为 $\\overline{B}$ 与 $1$ 的逐位进位加法。\n\n对于第0位：设 $x_{0}=\\overline{b_{0}}$ 且 $c_{0}=1$。则\n$$\ns_{0}=x_{0}\\oplus c_{0}=\\overline{b_{0}}\\oplus 1=b_{0},\\quad c_{1}=x_{0}\\land c_{0}=\\overline{b_{0}}.\n$$\n\n对于第1位：设 $x_{1}=\\overline{b_{1}}$。则\n$$\ns_{1}=x_{1}\\oplus c_{1}=\\overline{b_{1}}\\oplus\\overline{b_{0}}=b_{1}\\oplus b_{0},\n$$\n这里使用了恒等式 $\\overline{u}\\oplus\\overline{v}=u\\oplus v$。进位是\n$$\nc_{2}=x_{1}\\land c_{1}=\\overline{b_{1}}\\land\\overline{b_{0}}.\n$$\n\n对于第2位：设 $x_{2}=\\overline{b_{2}}$。则\n$$\ns_{2}=x_{2}\\oplus c_{2}=\\overline{b_{2}}\\oplus\\left(\\overline{b_{1}}\\land\\overline{b_{0}}\\right).\n$$\n定义 $t=b_{1}\\lor b_{0}$。根据德摩根定律，$\\overline{b_{1}}\\land\\overline{b_{0}}=\\overline{t}$。再次使用 $\\overline{u}\\oplus\\overline{v}=u\\oplus v$，\n$$\ns_{2}=\\overline{b_{2}}\\oplus\\overline{t}=b_{2}\\oplus t=b_{2}\\oplus(b_{1}\\lor b_{0}).\n$$\n\n因此，所需的输出为\n$$\ns_{0}=b_{0},\\quad s_{1}=b_{1}\\oplus b_{0},\\quad s_{2}=b_{2}\\oplus(b_{1}\\lor b_{0}).\n$$\n一个使用恰好两个2输入XOR门和一个其他2输入基本逻辑门来实现这些输出的电路如下：\n- 使用一个XOR门计算 $s_{1}=b_{1}\\oplus b_{0}$。\n- 使用一个OR门生成 $t=b_{1}\\lor b_{0}$。\n- 使用第二个XOR门计算 $s_{2}=b_{2}\\oplus t$。\n- 将 $s_{0}$ 连接到 $b_{0}$。\n\n在备选项中，只有OR门能直接提供 $s_{2}$ 所需的 $b_{1}\\lor b_{0}$，而无需额外的反相器或其他XOR门。AND、NAND 和 NOR 门需要反相或额外的XOR门才能获得 $b_{1}\\lor b_{0}$，而XNOR门只有在 $b_{1}, b_{0}$ 的NOR也可用时才有用，但这在给定约束下是不可能的。\n\n因此，这个单个的附加门必须是OR门。", "answer": "$$\\boxed{B}$$", "id": "1967645"}, {"introduction": "现实世界中的逻辑门并非瞬时响应，其固有的传播延迟是电路设计中必须考虑的因素。这个练习将带你走出理想逻辑的范畴，分析一个利用门延迟来检测信号变化的电路。通过计算输出信号的占空比，你将了解异或门在时序分析和边沿检测等动态应用中的重要性。[@problem_id:1967650]", "problem": "考虑一个设计用于检测输入信号变化的数字电路。该电路由一个双输入异或（XOR）门和一个非门（反相器）组成。一个记为 `A` 的输入信号直接连接到异或门的第一个输入端。同一个信号 `A` 也被输入到非门的输入端。非门的输出端随后连接到异或门的第二个输入端。电路的最终输出 `Y` 取自异或门的输出端。\n\n这些逻辑门是非理想的。非门具有一个特征传播延迟 `t_{pd,INV}`，这意味着它的输出在其输入发生转换 `t_{pd,INV}` 秒后才发生转换。类似地，异或门具有 `t_{pd,XOR}` 的传播延迟。为简化起见，假设每个门的传播延迟对于从低到高和从高到低的转换都是相同的。\n\n输入信号 `A` 是一个频率为 `f`、占空比为50%的周期性方波。您可以假设方波的周期远大于逻辑门的传播延迟（即 `1/f \\gg t_{pd,INV}` 和 `1/f \\gg t_{pd,XOR}`），因此一次转换的瞬态效应在下一次转换开始之前已完全消失。\n\n确定输出信号 `Y` 的占空比。占空比定义为在一个完整周期内信号处于逻辑高电平的时间所占的比例。请用给定的参数将您的答案表示为单一的闭式解析表达式。", "solution": "该问题要求计算特定电路配置下输出信号 `Y` 的占空比。电路输出 `Y` 是 `A \\oplus \\text{NOT}(A)` 的结果，其中非门和异或门都具有传播延迟。\n\n让我们通过追踪信号随时间的变化来分析电路的行为。我们可以分析输入信号 `A` 的单个上升沿和单个下降沿所引起的响应。设输入信号 `A` 的周期为 `T = 1/f`。由于占空比为50%，信号在高电平的时间为 `T/2`，在低电平的时间也为 `T/2`。\n\n**1. 对 `A` 的上升沿进行分析：**\n\n让我们假设在时间 `t=0` 时，输入信号 `A` 从逻辑0（低电平）转换到逻辑1（高电平）。\n设异或门的两个输入为 `X_1` 和 `X_2`。\n- `X_1` 直接连接到 `A`。因此，`X_1` 在 `t=0` 时从0转换为1。\n- `X_2` 是非门的输出，其输入为 `A`。在 `t=0` 之前，`A` 是0，所以非门的输出 `X_2` 是1。当 `A` 在 `t=0` 时从0转换为1时，非门的输出将在其传播延迟 `t_{pd,INV}` 之后从1转换为0。因此，`X_2` 在 `t = t_{pd,INV}` 时从1转换为0。\n\n现在，我们来观察异或门输入对 `(X_1, X_2)` 随时间的变化：\n- 对于 `t < 0`：`(X_1, X_2) = (0, 1)`。异或运算 `0 \\oplus 1` 得到1。\n- 对于 `0 \\le t < t_{pd,INV}`：`X_1` 已经变为1，但 `X_2` 尚未改变。输入为 `(X_1, X_2) = (1, 1)`。异或运算 `1 \\oplus 1` 得到0。\n- 对于 `t \\ge t_{pd,INV}`：`X_2` 现已转换为0。输入为 `(X_1, X_2) = (1, 0)`。异或运算 `1 \\oplus 0` 得到1。\n\n异或门的输出 `Y` 将在其自身的传播延迟 `t_{pd,XOR}` 之后反映这些变化。\n- 对于 `t < t_{pd,XOR}`：输出 `Y` 保持其初始状态，该状态对应于输入 `(0, 1)`，因此 `Y=1`。\n- 在 `t = t_{pd,XOR}` 时：在 `t=0` 时异或门输入端的变化（从 `(0,1)` 到 `(1,1)`）传播到输出端。输出 `Y` 从1转换为0。\n- 在 `t = t_{pd,INV} + t_{pd,XOR}` 时：在 `t=t_{pd,INV}` 时异或门输入端的变化（从 `(1,1)` 到 `(1,0)`）传播到输出端。输出 `Y` 从0转换回1。\n\n这个分析表明，对于 `A` 的每个上升沿，输出 `Y` 都会产生一个暂时的低电平脉冲，通常称为毛刺（glitch）。这个低电平脉冲的持续时间是 `Y` 的下降和上升转换之间的时间差：`\\Delta t_{low,1} = (t_{pd,INV} + t_{pd,XOR}) - t_{pd,XOR} = t_{pd,INV}`。\n\n**2. 对 `A` 的下降沿进行分析：**\n\n输入方波的占空比为50%，因此 `A` 在 `t = T/2` 时从1转换为0。\n- `X_1 = A` 在 `t = T/2` 时从1转换为0。\n- 非门的输入从1转换为0。其输出 `X_2` 将在延迟 `t_{pd,INV}` 之后从0转换为1。因此，`X_2` 在 `t = T/2 + t_{pd,INV}` 时从0转换为1。\n\n让我们观察在此转换附近的输入对 `(X_1, X_2)`：\n- 对于 `t_{pd,INV} \\le t < T/2`：根据之前的上升沿分析，输入稳定在 `(1, 0)`。异或运算 `1 \\oplus 0` 得到1。\n- 对于 `T/2 \\le t < T/2 + t_{pd,INV}`：`X_1` 已变为0，但 `X_2` 仍为0。输入为 `(X_1, X_2) = (0, 0)`。异或运算 `0 \\oplus 0` 得到0。\n- 对于 `t \\ge T/2 + t_{pd,INV}`：`X_2` 现已转换为1。输入为 `(X_1, X_2) = (0, 1)`。异或运算 `0 \\oplus 1` 得到1。\n\n同样，输出 `Y` 在 `t_{pd,XOR}` 的延迟后反映这些变化。\n- 在 `t = T/2 + t_{pd,XOR}` 时：在 `t=T/2` 时异或门输入端的变化传播到输出端，`Y` 从1转换为0。\n- 在 `t = T/2 + t_{pd,INV} + t_{pd,XOR}` 时：在 `t=T/2 + t_{pd,INV}` 时的变化传播到输出端，`Y` 从0转换回1。\n\n因此，对于 `A` 的每个下降沿，输出 `Y` 上都会产生另一个低电平脉冲。这第二个脉冲的持续时间为 `\\Delta t_{low,2} = (T/2 + t_{pd,INV} + t_{pd,XOR}) - (T/2 + t_{pd,XOR}) = t_{pd,INV}`。\n\n**3. 占空比的计算：**\n\n在输入信号 `A` 的一个完整周期 `T` 内，有一个上升沿和一个下降沿。每个边沿都会在输出 `Y` 上产生一个持续时间为 `t_{pd,INV}` 的低电平脉冲。因此，在一个周期内，输出 `Y` 处于低电平的总时间是：\n`t_{low,total} = \\Delta t_{low,1} + \\Delta t_{low,2} = t_{pd,INV} + t_{pd,INV} = 2 t_{pd,INV}`。\n\n输出信号 `Y` 的总周期与输入信号相同，为 `T`。在一个周期内，输出 `Y` 处于高电平的时间是：\n`t_{high} = T - t_{low,total} = T - 2 t_{pd,INV}`。\n\n占空比定义为信号处于高电平的时间比例：\n`\\text{Duty Cycle} = \\frac{t_{high}}{T} = \\frac{T - 2 t_{pd,INV}}{T} = 1 - \\frac{2 t_{pd,INV}}{T}`。\n\n问题给出了输入信号的频率 `f`，我们知道 `T = 1/f`。将此代入占空比的表达式中：\n`\\text{Duty Cycle} = 1 - \\frac{2 t_{pd,INV}}{1/f} = 1 - 2 f t_{pd,INV}`。\n\n请注意，异或门的传播延迟 `t_{pd,XOR}` 会影响脉冲出现的时间（它会在时间上平移整个输出波形），但它不影响脉冲的持续时间，因此也不影响输出信号的占空比。\n\n信号 `Y` 占空比的最终表达式为 `1 - 2 f t_{pd,INV}`。", "answer": "$$\\boxed{1 - 2 f t_{pd,INV}}$$", "id": "1967650"}]}