{"hands_on_practices": [{"introduction": "在数字系统中，掌握不同数制之间的转换是一项基本功。本练习将引导你完成一个常见任务：将我们熟悉的十进制数转换为十六进制。这个过程不仅是调试和数据表示中的核心操作，也能巩固你对除以16取余法的理解。[@problem_id:1941891]", "problem": "一个遗留嵌入式系统将其固件构建号存储为一个16位无符号整数。为了进行调试记录，该数字必须以其十六进制表示形式显示。系统中当前的构建号以十进制值2024存储。\n\n将十进制数2024转换为其等效的16位十六进制数。以4字符十六进制字符串的形式提供该值，使用大写字母（A-F），并在必要时用前导零填充。", "solution": "我们必须将给定的十进制值转换为十六进制，并将其表示为一个16位（4个十六进制字符）的大写字符串。\n\n设十进制数为 $N=2024$。要将 $N$ 转换为16进制，我们使用重复除以 $16$ 并收集余数的方法：\n$$N=16\\cdot q_{0}+r_{0},\\quad 0\\leq r_{0}<16.$$\n计算：\n$$2024=16\\cdot 126+8\\implies q_{0}=126,\\; r_{0}=8.$$\n接着，\n$$126=16\\cdot 7+14\\implies q_{1}=7,\\; r_{1}=14.$$\n接着，\n$$7=16\\cdot 0+7\\implies q_{2}=0,\\; r_{2}=7.$$\n十六进制数字从最低有效位到最高有效位依次是 $r_{0},r_{1},r_{2}$，即 $8,14,7$。使用十六进制映射 $10\\mapsto \\text{A},\\;11\\mapsto \\text{B},\\;12\\mapsto \\text{C},\\;13\\mapsto \\text{D},\\;14\\mapsto \\text{E},\\;15\\mapsto \\text{F}$，我们得到数字 $8,\\text{E},7$，因此十六进制表示为 $7\\text{E}8$。\n\n一个16位无符号整数由4个十六进制数字表示，因为 $16^{4}=65536$，任何在 $[0,65535]$ 区间内的值都可以用4个十六进制字符表示。由于 $2024<16^{4}$，我们用一个前导零将其填充到4个字符：\n$$07\\text{E}8.$$\n\n通过逆向转换验证：\n$$7\\text{E}8_{16}=7\\cdot 16^{2}+14\\cdot 16+8=7\\cdot 256+224+8=1792+232=2024,$$\n这与原始十进制数相匹配。\n\n因此，所要求的4字符大写十六进制字符串是 $07\\text{E}8$。", "answer": "$$\\boxed{07E8}$$", "id": "1941891"}, {"introduction": "掌握了数制转换后，理解十六进制作为二进制数据紧凑表示法的核心角色至关重要。本练习将介绍“位数统计”（population count）或称汉明权重（Hamming weight）的概念，这是一个在错误校正和密码学等领域中的关键指标。通过这个练习，你将通过分析一个十六进制数底层二进制结构来实践这一概念。[@problem_id:1941875]", "problem": "在一个特定的16位数字系统中，一个寄存器保存着一个由十六进制数 $B3C7_{16}$ 表示的值。在此类系统中，一个常见的操作是确定一个数二进制表示的“种群计数”（也称为汉明权重），该操作常用于密码学和纠错码。该操作计算值为'1'的比特总数。请计算存储在寄存器中该值的种群计数。", "solution": "一个二进制字的种群计数（汉明权重）是其二进制表示中等于 $1$ 的位的总数。对于一个十六进制数，每个十六进制数字对应一个固定的4位二进制半字节，因此其种群计数是每个十六进制数字的4位二进制表示中1的个数之和。\n\n给定的16位值为 $B3C7_{16}$，它由十六进制数字 $B, 3, C, 7$ 组成。将每个数字转换为4位二进制数：\n$$B_{16} = 1011_{2}, \\quad 3_{16} = 0011_{2}, \\quad C_{16} = 1100_{2}, \\quad 7_{16} = 0111_{2}.$$\n\n计算每个半字节中1的个数并求和：\n$$\\text{popcount}(B3C7_{16}) = (3) + (2) + (2) + (3) = 10.$$\n\n因此，16位值 $B3C7_{16}$ 的种群计数为 $10$。", "answer": "$$\\boxed{10}$$", "id": "1941875"}, {"introduction": "在理解了二进制表示法的基础上，本练习将带你探索另一种重要的编码方案——格雷码（Gray code）。你将实践如何将一个以十六进制表示的标准二进制值转换为其对应的格雷码等效值，这突显了格雷码在防止数字硬件错误方面的实际应用。[@problem_id:1941877] 这个练习展示了在数字逻辑中，不同的二进制相关编码是如何被使用和操作的。", "problem": "在数字系统中，格雷码（Gray code）常用于防止时序逻辑和机电开关中出现错误，因为在任意两个连续值之间只有一位（bit）会发生变化。为了与使用标准二进制编码的系统其他部分进行交互，需要进行转换。\n\n考虑4位十六进制数$D_{16}$。请将该值从其标准的4位二进制表示转换为其对应的4位格雷码。将最终的4位格雷码结果表示为单个十六进制数字。", "solution": "一个值为 $v \\in \\{0,\\dots,15\\}$ 的十六进制数字 $H$ 对应一个4位二进制字 $(b_{3}b_{2}b_{1}b_{0})_{2}$，此为 $v$ 的二进制展开。对于 $D_{16}$，其值为 $v=13$，其4位二进制表示为\n$$\n(b_{3}b_{2}b_{1}b_{0})_{2} = 1101,\n$$\n所以 $b_{3}=1$，$b_{2}=1$，$b_{1}=0$，且 $b_{0}=1$。\n\n对于从二进制 $(b_{3}b_{2}b_{1}b_{0})_{2}$ 导出的格雷码 $(g_{3}g_{2}g_{1}g_{0})_{2}$，其按位关系为\n$$\ng_{3}=b_{3},\\quad g_{2}=b_{3}\\oplus b_{2},\\quad g_{1}=b_{2}\\oplus b_{1},\\quad g_{0}=b_{1}\\oplus b_{0},\n$$\n其中 $\\oplus$ 表示异或（XOR）运算。代入 $b_{3}=1$，$b_{2}=1$，$b_{1}=0$，$b_{0}=1$ 可得\n$$\ng_{3}=1,\\quad g_{2}=1\\oplus 1=0,\\quad g_{1}=1\\oplus 0=1,\\quad g_{0}=0\\oplus 1=1,\n$$\n所以格雷码为 $(g_{3}g_{2}g_{1}g_{0})_{2}=1011$。4位二进制数1011对应的十六进制数字是 $B$。\n\n因此，$D_{16}$ 对应的4位格雷码，用单个十六进制数字表示即为 $B$。", "answer": "$$\\boxed{B}$$", "id": "1941877"}]}