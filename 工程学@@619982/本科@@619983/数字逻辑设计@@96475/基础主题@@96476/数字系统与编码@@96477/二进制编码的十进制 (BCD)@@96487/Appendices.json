{"hands_on_practices": [{"introduction": "在深入研究 BCD 算术运算之前，我们必须首先掌握其最基本的技能：如何准确地表示十进制数。本练习通过一个常见的数字秒表场景，让你实践将多位十进制数转换为其对应的 BCD 格式。这不仅能巩固你对 8421 BCD 编码规则的理解，也为后续更复杂的算术电路设计打下坚实的基础 [@problem_id:1948829]。", "problem": "正在设计一款定制的数字秒表，用于以分秒格式（MM:SS）显示时间。该秒表的内部逻辑使用标准的8421二进制编码的十进制（BCD）表示法来表示分和秒的每一个十进制数字。在BCD方案中，从0到9的每个十进制数字都被编码为其对应的4位无符号二进制等价值。为了在设备内部进行数据传输，代表时间的四个数字（分钟的第一位M1，分钟的第二位M2，秒的第一位S1，秒的第二位S2）的4位BCD码被连接成一个单一的16位二进制字符串。\n\n给定秒表上的时间为 `25:08`，请根据指定的连接顺序（M1，然后是M2，然后是S1，然后是S2），确定表示该时间的完整16位二进制字符串。\n\n从以下选项中选择正确的二进制字符串。\n\nA. `0010010100001000`\nB. `0001100100001000`\nC. `0101001000001000`\nD. `0010010110000000`\nE. `0010010100001001`", "solution": "在8421 BCD码中，每个十进制数字 $d \\in \\{0,\\dots,9\\}$ 都由一个权重为 $8,4,2,1$ 的4位二进制码表示。对于时间 $25{:}08$，按指定顺序的数字是 $M1=2$, $M2=5$, $S1=0$, $S2=8$。\n\n使用8421 BCD码：\n$$\\text{BCD}(2)=0010,\\quad \\text{BCD}(5)=0101,\\quad \\text{BCD}(0)=0000,\\quad \\text{BCD}(8)=1000.$$\n\n按 $M1,M2,S1,S2$ 的顺序连接得到：\n$$\\text{BCD}(2)\\,\\text{BCD}(5)\\,\\text{BCD}(0)\\,\\text{BCD}(8)=0010010100001000.$$\n\n与选项比较，这与选项A匹配。", "answer": "$$\\boxed{A}$$", "id": "1948829"}, {"introduction": "掌握了 BCD 的表示方法后，我们进一步探索其算术运算。与纯二进制加法不同，BCD 加法常常需要一个“校正”步骤来确保结果的有效性。本练习通过一个特定的假设场景，挑战你批判性地思考校正逻辑在何种条件下才是必需的 [@problem_id:1911927]。通过分析特定输入范围下的加法结果，你将更深刻地理解 BCD 加法器的工作原理以及触发校正的关键条件。", "problem": "一个标准的 BCD (二-十进制编码) 加法器是一种数字电路，它将两个4位的值相加，其中每个值代表一个0到9的十进制数字。该电路通常由一个4位二进制加法器和一个“校正逻辑”单元构成。之所以需要校正，是因为简单的二进制加法可能会产生非BCD值。当且仅当4位二进制加法器的和大于9 ($1001_2$) 或4位加法器产生进位输出时，校正逻辑才会激活——通过将值6 ($0110_2$) 加到结果上。\n\n考虑一个使用BCD加法器的特殊数字系统，但两个4位BCD输入（我们称之为A和B）保证只表示0到4（含）范围内的十进制数字。\n\n在这个特定的输入约束下，下列哪个陈述对校正逻辑电路的必要性提供了最准确的分析？\n\nA. 校正逻辑是不必要的。最大可能的十进制和是 $4+4=8$，它对应于二进制值 $1000_2$。该值不大于9，并且任何两个有效输入的相加都不会从4位加法器产生进位输出。因此，校正的条件永远不会被满足。\n\nB. 校正逻辑是不必要的。一个4位二进制加法器可以表示最大为15的数。由于输入的最大和是8，远在此范围内，因此该加法器无需任何针对BCD的修改即可正常工作。\n\nC. 校正逻辑仍然是必要的。例如，将4的BCD表示 ($0100_2$) 与4的BCD表示 ($0100_2$) 相加，得到二进制值 $1000_2$。由于这个4位和的最高有效位是1，它代表了一个无效的中间状态，需要进行校正才能产生8的正确BCD输出。\n\nD. 校正逻辑仍然是必要的。虽然十进制和可能不会超过9，但在受限范围内的某些输入组合下，4位二进制加法器仍可能产生进位输出，从而触发校正电路。", "solution": "设4位BCD输入为 $A$ 和 $B$ ，每个都约束为表示集合 $\\{0,1,2,3,4\\}$ 中的十进制数字。作为4位二进制值，这意味着\n$$\n0 \\leq A \\leq 0100_{2}, \\quad 0 \\leq B \\leq 0100_{2}.\n$$\n一个4位二进制加法器产生一个4位和 $S$ 和一个进位输出 $C_{4}$，根据二进制加法的定义，\n$$\nA + B = 16\\,C_{4} + S, \\quad \\text{with } 0 \\leq S \\leq 15 \\text{ and } C_{4} \\in \\{0,1\\}.\n$$\n在给定的约束下，\n$$\n0 \\leq A+B \\leq 4+4 = 8.\n$$\n因此，\n$$\nC_{4} = \\left\\lfloor \\frac{A+B}{16} \\right\\rfloor = 0, \\quad S = A+B \\leq 8 = 1000_{2}.\n$$\n在标准的BCD加法器中，校正逻辑当且仅当以下情况时会加上 $0110_{2}$\n$$\n\\left(C_{4} = 1\\right) \\quad \\text{or} \\quad \\left(S > 9 = 1001_{2}\\right).\n$$\n既然 $C_{4} = 0$ 且 $S \\leq 8 < 9$，那么这两个条件都永远不会被满足，所以校正逻辑永远不会被激活，并且未经校正的4位和 $S$ 已经是一个有效的BCD数字（具体来说是 $0000_{2}$ 到 $1000_{2}$ 之间的一个）。\n\n对选项进行评估：\n- 选项A正确地指出，最大和为 $8 = 1000_{2}$，没有产生进位输出，并且校正条件永远不会被满足。这直接且准确地应用了BCD的校正准则。\n- 选项B得出的结论是校正不必要，但其理由是4位加法器的范围可达15，这并非BCD校正的相关准则；因此，这不是最准确的分析。\n- 选项C错误地声称 $1000_{2}$ 是一个无效的中间状态；事实上，它是8的有效BCD编码。\n- 选项D是错误的，因为对于所有允许的输入，$C_{4}=0$。\n\n因此，最准确的分析由选项A给出。", "answer": "$$\\boxed{A}$$", "id": "1911927"}, {"introduction": "从概念分析到具体设计，我们现在将把理论知识转化为实际的硬件逻辑。在理解了何时需要进行 BCD 校正之后，下一步自然就是设计出能实现这一判断的电路。本练习将指导你推导出 BCD 加法器中关键的“校正信号” $K$ 的最小化布尔表达式 [@problem_id:1913589]。这个过程是连接算术理论与数字电路实践的重要桥梁，也是设计 BCD 算术单元的核心步骤之一。", "problem": "在算术逻辑单元 (ALU) 的设计中，一个常见的任务是创建一个电路，用于对以二进制编码的十进制 (BCD) 表示的数进行相加。在 BCD 编码中，每个从 0 到 9 的十进制数字都由其各自的 4 位二进制等价值表示。\n\n考虑一个 1 位 BCD 加法器，它接收两个 4 位 BCD 输入，$A = A_3A_2A_1A_0$ 和 $B = B_3B_2B_1B_0$。该加法器的第一级是一个标准的 4 位二进制加法器，用于计算和 $S = S_3S_2S_1S_0$ 以及一个进位输出位 $C_{out}$。这个 5 位的结果 $C_{out}S_3S_2S_1S_0$ 代表了两个输入数的二进制和。\n\n这个二进制和并不总是一个有效的 BCD 表示。如果和大于 9，则需要进行校正。此校正包括将 6 的二进制值 ($0110_2$) 加到和 $S$ 上。要实现这一点，需要一个组合逻辑电路来产生一个“需要校正”信号 $K$，当必须应用校正时，该信号为高电平 ($K=1$)。\n\n需要进行校正的条件是和的十进制值大于 9。这种情况发生在两种条件下：要么 4 位和 $S$ 是一个从 10 到 15 的二进制数，要么初始的二进制加法产生了一个进位输出 ($C_{out}=1$)，这对应于从 16 到 18 的和。\n\n请根据和位 ($S_3, S_2, S_1$) 和进位输出 ($C_{out}$) 推导校正信号 $K$ 的最小积之和 (SOP) 布尔表达式。您可能会发现，对于最小表达式而言，并非所有的和位都是必需的。", "solution": "我们将校正信号 $K$ 定义为 $1$ 的条件是当且仅当 5 位二进制和表示的十进制值大于 $9$。这发生在两种不相交的情况下：\n1) 4位二进制加法器产生一个进位输出，即 $C_{out}=1$。此时，和至少为 $16$，需要进行 BCD 校正。\n2) 没有进位输出，即 $C_{out}=0$，但 4 位和 $S_{3}S_{2}S_{1}S_{0}$ 是从 $1010$ 到 $1111$，即二进制的 $10$ 到 $15$。\n\n描述第二种情况，无效的 BCD 和值 $1010$ 到 $1111$ 正是那些 $S_{3}=1$ 且 $S_{2}$ 或 $S_{1}$ 中至少有一个为 $1$ 的情况。最低有效位 $S_{0}$ 与此条件无关。因此，使用布尔代数（其中 $+$ 表示或，相邻表示与），\n$$\nK = C_{out} + \\big(S_{3}(S_{2} + S_{1})\\big).\n$$\n要将其写成积之和形式，进行分配：\n$$\nK = C_{out} + S_{3}S_{2} + S_{3}S_{1}.\n$$\n这是最小化的，因为乘积项 $S_{3}S_{2}$ 和 $S_{3}S_{1}$ 是质蕴涵项，它们在不使用 $S_{0}$ 的情况下覆盖了从 $10$ 到 $15$ 的所有无效和，而 $C_{out}$ 覆盖了和为 $16$ 到 $18$ 的情况。", "answer": "$$\\boxed{C_{out}+S_{3}S_{2}+S_{3}S_{1}}$$", "id": "1913589"}]}