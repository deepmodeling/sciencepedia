{"hands_on_practices": [{"introduction": "理解超前进位加法器（CLA）的第一步是掌握其核心信号：进位生成（Generate, $G_i$）和进位传播（Propagate, $P_i$）。本练习将通过一个具体实例，让你亲手计算这些信号，并利用它们来确定最终的进位输出，从而为你深入理解CLA的并行计算优势打下坚实的基础。[@problem_id:1918213]", "problem": "一位数字系统工程师正在设计一个定制的4位算术逻辑单元（ALU）。该ALU的一个关键组件是一个4位超前进位加法器（CLA），用于计算两个4位二进制数 $A = A_3A_2A_1A_0$ 和 $B = B_3B_2B_1B_0$ 的和。\n\nCLA的高速度是通过为每个比特位 $i$ 预先计算两个信号来实现的：一个“生成”信号（$G_i$）和一个“传播”信号（$P_i$）。这些信号的定义如下，其中 $\\cdot$ 表示逻辑与（AND）运算，$\\oplus$ 表示逻辑异或（XOR）运算：\n- 生成：$G_i = A_i \\cdot B_i$\n- 传播：$P_i = A_i \\oplus B_i$\n\n然后，这些信号被用来计算每个比特位的进位输出。比特 $i$ 的进位输出表示为 $C_{i+1}$。对于一个初始进位输入为 $C_0$ 的4位加法器，最终的进位输出信号 $C_4$ 由以下布尔表达式确定：\n$$C_4 = G_3 + P_3 G_2 + P_3 P_2 G_1 + P_3 P_2 P_1 G_0 + P_3 P_2 P_1 P_0 C_0$$\n其中 $+$ 表示逻辑或（OR）运算。\n\n考虑操作数 $A = 1011_2$ 和 $B = 0110_2$ 的加法运算。假设加法器的初始进位输入为 $C_0 = 0$, 请确定最高有效位的传播信号（$P_3$）、最高有效位的生成信号（$G_3$）以及加法器的最终进位输出（$C_4$）的布尔值。", "solution": "给定 $A=1011_2$ 和 $B=0110_2$，因此从最高有效位到最低有效位的比特分配如下：\n$$A_3=1, A_2=0, A_1=1, A_0=1; \\quad B_3=0, B_2=1, B_1=1, B_0=0.$$\n\n根据定义，对于每个比特 $i$：\n$$P_i=A_i \\oplus B_i, \\qquad G_i=A_i B_i.$$\n\n计算最高有效位的传播和生成信号：\n$$P_3=A_3 \\oplus B_3=1 \\oplus 0=1$$\n$$G_3=A_3 B_3=1 \\cdot 0=0$$\n\n为了计算 $C_4$，我们使用\n$$C_4=G_3+P_3 G_2+P_3 P_2 G_1+P_3 P_2 P_1 G_0+P_3 P_2 P_1 P_0 C_0,$$\n其中 $C_0=0$。因此，我们需要计算 $P_2, G_2, P_1, G_1, P_0, G_0$：\n$$ \\begin{aligned} P_2 &= A_2 \\oplus B_2 = 0 \\oplus 1 = 1, & G_2 &= A_2 B_2 = 0 \\cdot 1 = 0, \\\\ P_1 &= A_1 \\oplus B_1 = 1 \\oplus 1 = 0, & G_1 &= A_1 B_1 = 1 \\cdot 1 = 1, \\\\ P_0 &= A_0 \\oplus B_0 = 1 \\oplus 0 = 1, & G_0 &= A_0 B_0 = 1 \\cdot 0 = 0. \\end{aligned} $$\n\n代入进位表达式中：\n$$C_4 = 0 + (1 \\cdot 0) + (1 \\cdot 1 \\cdot 1) + (1 \\cdot 1 \\cdot 0 \\cdot 0) + (1 \\cdot 1 \\cdot 0 \\cdot 1 \\cdot 0) = 0 + 0 + 1 + 0 + 0 = 1.$$\n\n因此，$P_3=1$，$G_3=0$ 且 $C_4=1$。", "answer": "$$\\boxed{\\begin{pmatrix}1 & 0 & 1\\end{pmatrix}}$$", "id": "1918213"}, {"introduction": "理论知识在实际应用中经常会面临错误和挑战。本练习模拟了一个常见的电路设计错误，要求你扮演调试工程师的角色，通过分析正常与错误逻辑之间的差异，找出导致计算失败的具体输入组合。这个过程将加深你对进位链中每个信号精确作用的理解。[@problem_id:1918186]", "problem": "在设计一个数字算术电路时，一位工程师正在创建一个2位加法器。该加法器接收两个2位二进制数 $A=A_1A_0$ 和 $B=B_1B_0$，以及一个单位的输入进位 $C_0$，以产生一个2位的和以及一个最终的输出进位 $C_2$。该设计旨在采用超前进位加法器（CLA）的原理。\n\n对于每个比特位 $i$，标准的进位传播信号（$P_i$）和进位生成信号（$G_i$）定义如下：\n$P_i = A_i \\oplus B_i$\n$G_i = A_i B_i$\n\n每个级的输出进位 $C_{i+1}$ 被正确地表示为递归公式 $C_{i+1} = G_i + P_i C_i$。\n\n工程师正确地实现了第一级的输出进位，为 $C_1 = G_0 + P_0 C_0$。然而，在实现第二级输出进位 $C_2$ 的逻辑时，工程师犯了一个错误，使用了信号 $P_0$ 而不是 $P_1$。得到的 $C_2$ 的错误逻辑是：\n$C_{2, \\text{faulty}} = G_1 + P_0 C_1$\n\n以下哪种输入组合（以元组 $(A, B, C_0)$ 的形式给出，其中 $A$ 和 $B$ 是二进制数）会导致工程师的错误电路计算出的 $C_2$ 值与正确值不同？\n\nA. $(A=01_2, B=10_2, C_0=0)$\n\nB. $(A=10_2, B=10_2, C_0=1)$\n\nC. $(A=01_2, B=11_2, C_0=0)$\n\nD. $(A=11_2, B=11_2, C_0=0)$\n\nE. $(A=01_2, B=01_2, C_0=1)$", "solution": "我们使用标准的超前进位关系式和布尔代数，其中 $+$ 表示“或”运算，并列表示“与”运算。对于比特位 $i$，传播和生成信号分别为 $P_i=A_i \\oplus B_i$ 和 $G_i=A_i B_i$，进位满足\n$$ C_{i+1}=G_i+P_i C_i. $$\n因此，正确的第二级进位是\n$$ C_2=G_1+P_1 C_1, \\quad \\text{with } C_1=G_0+P_0 C_0. $$\n错误的实现中，第二级使用了 $P_0$ 而不是 $P_1$：\n$$ C_{2,\\text{faulty}}=G_1+P_0 C_1. $$\n仅当 $G_1$ 项不使输出为1，且经 $P$ 加权的 $C_1$ 项不同时，两者才会产生差异。具体来说，$C_2 \\neq C_{2,\\text{faulty}}$ 当且仅当\n$$ G_1=0, \\quad C_1=1, \\quad P_1 \\neq P_0. $$\n\n我们通过计算 $P_i$、$G_i$ 和 $C_1$ 来评估每个选项。\n\nA. $A=01_2$，$B=10_2$，$C_0=0$。各位为：$A_1=0,A_0=1$；$B_1=1,B_0=0$。\n$ P_1=0 \\oplus 1=1, \\quad G_1=0 \\cdot 1=0, \\quad P_0=1 \\oplus 0=1, \\quad G_0=1 \\cdot 0=0, $\n$ C_1=G_0+P_0 C_0=0+1 \\cdot 0=0. $\n此处 $C_1=0$，所以 $C_2=P_1 C_1=0$ 且 $C_{2,\\text{faulty}}=P_0 C_1=0$，因此没有差异。\n\nB. $A=10_2$，$B=10_2$，$C_0=1$。各位为：$A_1=1,A_0=0$；$B_1=1,B_0=0$。\n$ P_1=1 \\oplus 1=0, \\quad G_1=1 \\cdot 1=1, \\quad P_0=0 \\oplus 0=0, \\quad G_0=0 \\cdot 0=0, $\n$ C_1=0+0 \\cdot 1=0. $\n由于 $G_1=1$，所以 $C_2$ 和 $C_{2,\\text{faulty}}$ 都等于1，因此没有差异。\n\nC. $A=01_2$，$B=11_2$，$C_0=0$。各位为：$A_1=0,A_0=1$；$B_1=1,B_0=1$。\n$ P_1=0 \\oplus 1=1, \\quad G_1=0 \\cdot 1=0, \\quad P_0=1 \\oplus 1=0, \\quad G_0=1 \\cdot 1=1, $\n$ C_1=1+0 \\cdot 0=1. $\n此处 $G_1=0$，$C_1=1$，且 $P_1 \\neq P_0$，所以\n$ C_2=G_1+P_1 C_1=0+1 \\cdot 1=1, \\quad C_{2,\\text{faulty}}=0+0 \\cdot 1=0, $\n两者不同。\n\nD. $A=11_2$，$B=11_2$，$C_0=0$。各位为：$A_1=1,A_0=1$；$B_1=1,B_0=1$。\n$ P_1=1 \\oplus 1=0, \\quad G_1=1 \\cdot 1=1, \\quad P_0=1 \\oplus 1=0, \\quad G_0=1 \\cdot 1=1, $\n$ C_1=1+0 \\cdot 0=1. $\n由于 $G_1=1$，两个输出都为1，因此没有差异。\n\nE. $A=01_2$，$B=01_2$，$C_0=1$。各位为：$A_1=0,A_0=1$；$B_1=0,B_0=1$。\n$ P_1=0 \\oplus 0=0, \\quad G_1=0 \\cdot 0=0, \\quad P_0=1 \\oplus 1=0, \\quad G_0=1 \\cdot 1=1, $\n$ C_1=1+0 \\cdot 1=1. $\n此处 $G_1=0$ 且 $C_1=1$，但 $P_1=P_0=0$，所以 $C_2=0$ 且 $C_{2,\\text{faulty}}=0$，因此没有差异。\n\n因此，只有选项C会导致差异。", "answer": "$$\\boxed{C}$$", "id": "1918186"}, {"introduction": "除了设计错误，物理硬件故障也是数字系统工程师需要考虑的问题。这个练习将探讨一个“固定-0”（stuck-at-0）故障对4位CLA功能的影响，挑战你分析复杂布尔表达式并确定哪种特定输入会暴露这个潜在的硬件缺陷。通过这个实践，你将学会如何从系统层面诊断和理解底层硬件问题。[@problem_id:1918212]", "problem": "一个4位超前进位加法器（CLA）是一种数字电路，用于计算两个4位二进制数 $A = A_3A_2A_1A_0$ 和 $B = B_3B_2B_1B_0$ 的和。CLA的一个关键组成部分是超前进位逻辑，它为每个比特位并行地生成进位输出信号。\n\n对于每个比特位 $i$（从0到3），电路根据输入 $A_i$ 和 $B_i$ 计算生成信号 $G_i$ 和传播信号 $P_i$：\n- $G_i = A_i \\cdot B_i$ (逻辑与)\n- $P_i = A_i \\oplus B_i$ (逻辑异或)\n\n最高位的进位输出 $C_4$ 是由这些信号和初始进位 $C_0$ 通过以下标准逻辑表达式直接计算得出的：\n$$C_4 = G_3 + P_3 G_2 + P_3 P_2 G_1 + P_3 P_2 P_1 G_0 + P_3 P_2 P_1 P_0 C_0$$\n\n考虑一个CLA存在制造缺陷的场景。具体来说，传输传播信号 $P_2$ 的导线出现故障，永久性地“固定为0”（stuck-at-0）。这意味着，无论 $A_2$ 和 $B_2$ 的实际值是多少，用于计算 $C_4$ 的逻辑都表现为 $P_2$ 总是0。电路的其余部分，包括所有其他 $P_i$ 和 $G_i$ 信号的生成，功能正常。\n\n在初始进位输入设置为 $C_0 = 0$ 的条件下，请找出下列哪对4位输入 $(A, B)$ 会导致这个有故障的CLA为最终进位输出 $C_4$ 产生不正确的值。\n\nA. $A = 1111_2$, $B = 0001_2$\n\nB. $A = 0001_2$, $B = 0001_2$\n\nC. $A = 0100_2$, $B = 0100_2$\n\nD. $A = 1000_2$, $B = 1000_2$\n\nE. $A = 0011_2$, $B = 0011_2$", "solution": "对于一个初始进位 $C_0=0$ 的4位CLA，正确的进位输出是\n$$C_4=G_3+P_3 G_2+P_3 P_2 G_1+P_3 P_2 P_1 G_0,$$\n因为当 $C_0=0$ 时，项 $P_3 P_2 P_1 P_0 C_0$ 为零。在 $P_2$ 固定为0的缺陷下，电路实现的进位输出是\n$$C_{4}^{\\text{faulty}}=G_3+P_3 G_2,$$\n因为所有包含 $P_2$ 的项都变为0。因此，故障输出与正确输出不同的条件恰好是\n$$G_3=0,\\quad P_3 G_2=0,\\quad \\text{且} \\quad P_3 P_2 G_1+P_3 P_2 P_1 G_0=1.$$\n\n通过计算 $G_i=A_i B_i$ 和 $P_i=A_i \\oplus B_i$ 来评估每个选项：\n\n选项 A: $A=1111_2, B=0001_2$。各位的信号为\n$(P_3,G_3)=(1,0)$, $(P_2,G_2)=(1,0)$, $(P_1,G_1)=(1,0)$, $(P_0,G_0)=(0,1)$.\n那么 $G_3=0$，$P_3 G_2=1 \\cdot 0=0$，并且\n$$P_3 P_2 G_1+P_3 P_2 P_1 G_0=1 \\cdot 1 \\cdot 0+1 \\cdot 1 \\cdot 1 \\cdot 1=1.$$\n因此 $C_4=1$ 而 $C_4^{\\text{faulty}}=0$，所以这个输入导致了不正确的 $C_4$。\n\n选项 B: $A=0001_2, B=0001_2$。此处 $(P_3,G_3)=(0,0)$ 且 $(P_2,G_2)=(0,0)$，所以 $P_3=0$ 意味着 $P_3 P_2 G_1+P_3 P_2 P_1 G_0=0$ 且 $C_4=C_4^{\\text{faulty}}=0$。无错误。\n\n选项 C: $A=0100_2, B=0100_2$。此处 $(P_3,G_3)=(0,0)$, $(P_2,G_2)=(0,1)$, $(P_1,G_1)=(0,0)$, $(P_0,G_0)=(0,0)$。那么 $C_4=C_4^{\\text{faulty}}=0$。无错误。\n\n选项 D: $A=1000_2, B=1000_2$。此处 $(P_3,G_3)=(0,1)$，所以 $C_4=1$ 且 $C_4^{\\text{faulty}}=1$。无错误。\n\n选项 E: $A=0011_2, B=0011_2$。此处 $(P_3,G_3)=(0,0)$，$(P_2,G_2)=(0,0)$，所以同样有 $C_4=C_4^{\\text{faulty}}=0$。无错误。\n\n因此，只有选项 A 会导致不正确的最终进位输出。", "answer": "$$\\boxed{A}$$", "id": "1918212"}]}