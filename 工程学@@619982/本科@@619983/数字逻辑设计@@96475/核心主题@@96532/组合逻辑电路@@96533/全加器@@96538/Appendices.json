{"hands_on_practices": [{"introduction": "要构建复杂的算术逻辑单元，我们必须首先牢固掌握其最基本的构件。本练习旨在检验你对全加器门级实现的基本理解。通过追踪一组特定输入（$A=1, B=0, C_{in}=1$）在电路中的逻辑值变化，你将能够直观地看到布尔表达式如何转化为实际的二进制信号流动，从而巩固对全加器核心逻辑的认识。", "problem": "数字全加器是一种基本的组合逻辑电路，它执行三个单位比特输入的算术和。考虑一个全加器电路的标准门级实现，该电路有三个输入：$A$、$B$ 和一个进位输入位 $C_{in}$，并产生两个输出：一个和位 $S$ 和一个进位输出位 $C_{out}$。\n\n该电路由以下逻辑表达式构成，其中 $\\oplus$ 表示异或（XOR）运算，$\\cdot$ 表示与（AND）运算，而 $+$ 表示或（OR）运算。\n\n1.  中间信号 $P$ 由表达式 $P = A \\oplus B$ 生成。\n2.  然后使用 $P$ 和 $C_{in}$ 计算和位 $S$：$S = P \\oplus C_{in}$。\n3.  另一个中间信号 $Q$ 由 $Q = A \\cdot B$ 生成。\n4.  第三个中间信号 $R$ 由 $R = P \\cdot C_{in}$ 生成。\n5.  最后，由 $Q$ 和 $R$ 计算出进位输出位 $C_{out}$：$C_{out} = Q + R$。\n\n给定具体的输入值 $A=1$，$B=0$ 和 $C_{in}=1$，确定中间信号 $P$、$R$ 以及最终输出 $S$、$C_{out}$ 的二进制逻辑值。请将您的答案表示为一个对应于 $(P, R, S, C_{out})$ 的四位二进制数字的有序集合。", "solution": "我们给定一个门级全加器，其逻辑定义为：$P = A \\oplus B$，$S = P \\oplus C_{in}$，$Q = A \\cdot B$，$R = P \\cdot C_{in}$ 和 $C_{out} = Q + R$。这里 $\\oplus$ 是异或（当且仅当两个输入不同时输出 $1$），$\\cdot$ 是与（当且仅当两个输入都为 $1$ 时输出 $1$），$+$ 是或（当且仅当至少一个输入为 $1$ 时输出 $1$）。输入为 $A=1$，$B=0$ 和 $C_{in}=1$。\n\n逐步计算中间值和输出值：\n使用异或运算对不相等的输入进行操作，\n$$P = A \\oplus B = 1 \\oplus 0 = 1.$$\n使用异或运算对相等的输入进行操作，\n$$S = P \\oplus C_{in} = 1 \\oplus 1 = 0.$$\n使用与运算，其中一个输入为零，\n$$Q = A \\cdot B = 1 \\cdot 0 = 0.$$\n使用与运算，两个输入都为一，\n$$R = P \\cdot C_{in} = 1 \\cdot 1 = 1.$$\n使用或运算，其中一个输入为一，\n$$C_{out} = Q + R = 0 + 1 = 1.$$\n\n因此，有序集合 $(P, R, S, C_{out})$ 为 $(1, 1, 0, 1)$。", "answer": "$$\\boxed{\\begin{pmatrix}1 & 1 & 0 & 1\\end{pmatrix}}$$", "id": "1938814"}, {"introduction": "单个全加器是基础，但其真正的威力体现在级联成多位加法器时。本练习将带你进入一个更接近现实世界的场景：一个4位加法器在制造过程中出现了接线错误。这不仅仅是一个计算题，更像是一次数字侦探工作，你需要运用全加器的知识，分析一个非标准系统在故障影响下的实际输出，从而培养诊断和调试复杂数字系统的关键能力。", "problem": "一个数字电路被设计用于执行一个4位二进制加法。该电路由四个独立的全加器（FA）模块构成，索引从0到3（FA_0, FA_1, FA_2, FA_3）。每个FA模块接受三个1位输入，$A_i$、$B_i$ 和一个进位输入 $C_{in\\_i}$，并产生两个1位输出，一个和 $S_i$ 和一个进位输出 $C_{out\\_i}$。任何FA模块的逻辑行为由以下标准布尔方程决定：\n$$S_i = A_i \\oplus B_i \\oplus C_{in\\_i}$$\n$$C_{out\\_i} = (A_i \\cdot B_i) + (C_{in\\_i} \\cdot (A_i \\oplus B_i))$$\n其中 $\\oplus$ 表示异或（XOR）运算，$\\cdot$ 表示与（AND）运算。\n\n该电路用于将两个4位二进制数 $A = A_3A_2A_1A_0$ 和 $B = B_3B_2B_1B_0$ 以及一个初始进位位 $C_{in}$ 相加。来自数 $A$ 的位 $A_i$ 和来自数 $B$ 的位 $B_i$ 被送入相应FA_i的输入端。最终的和由4位二进制数 $S = S_3S_2S_1S_0$ 表示。\n\n然而，由于制造过程中的接线错误，进位传播路径被改变了。进位信号的具体连接如下：\n- 电路的主进位输入 $C_{in}$ 连接到FA_0的进位输入端（即 $C_{in\\_0} = C_{in}$）。\n- FA_0的进位输出 ($C_{out\\_0}$) 正确连接到FA_1的进位输入端 ($C_{in\\_1}$)。\n- FA_1的进位输出 ($C_{out\\_1}$) 被错误地连接到FA_3的进位输入端 ($C_{in\\_3}$)。\n- FA_2的进位输入 ($C_{in\\_2}$) 被永久接地（逻辑低电平），即 $C_{in\\_2} = 0$。\n- 进位输出信号 $C_{out\\_2}$ 和 $C_{out\\_3}$ 未连接到电路的任何其他部分。\n\n给定输入值 $A = 1011_2$，$B = 0110_2$ 和初始进位 $C_{in} = 1$，计算最终的4位二进制输出 $S = S_3S_2S_1S_0$。请将您的答案表示为一个4位二进制字符串。", "solution": "我们从给定的二进制数中确定位的分配：\n$$A=1011_{2}\\ \\Rightarrow\\ A_{3}=1,\\ A_{2}=0,\\ A_{1}=1,\\ A_{0}=1,$$\n$$B=0110_{2}\\ \\Rightarrow\\ B_{3}=0,\\ B_{2}=1,\\ B_{1}=1,\\ B_{0}=0,$$\n以及初始进位为\n$$C_{in}=1.$$\n\n错误的进位接线为：\n$$C_{in\\_0}=C_{in}=1,\\quad C_{in\\_1}=C_{out\\_0},\\quad C_{in\\_2}=0,\\quad C_{in\\_3}=C_{out\\_1}.$$\n\n我们对每一级 $i$ 使用全加器方程：\n$$S_{i}=A_{i}\\oplus B_{i}\\oplus C_{in\\_i},\\qquad C_{out\\_i}=(A_{i}\\cdot B_{i})+(C_{in\\_i}\\cdot(A_{i}\\oplus B_{i})).$$\n\n第FA$_{0}$级，输入为 $A_{0}=1$, $B_{0}=0$, $C_{in\\_0}=1$：\n$$S_{0}=1\\oplus 0\\oplus 1=(1\\oplus 0)\\oplus 1=1\\oplus 1=0,$$\n$$C_{out\\_0}=(1\\cdot 0)+(1\\cdot(1\\oplus 0))=0+(1\\cdot 1)=1.$$\n\n第FA$_{1}$级，输入为 $A_{1}=1$, $B_{1}=1$, $C_{in\\_1}=C_{out\\_0}=1$：\n$$S_{1}=1\\oplus 1\\oplus 1=(1\\oplus 1)\\oplus 1=0\\oplus 1=1,$$\n$$C_{out\\_1}=(1\\cdot 1)+(1\\cdot(1\\oplus 1))=1+(1\\cdot 0)=1.$$\n\n第FA$_{2}$级，输入为 $A_{2}=0$, $B_{2}=1$, $C_{in\\_2}=0$：\n$$S_{2}=0\\oplus 1\\oplus 0=(0\\oplus 1)\\oplus 0=1\\oplus 0=1,$$\n$$C_{out\\_2}=(0\\cdot 1)+(0\\cdot(0\\oplus 1))=0+0=0\\quad\\text{（未使用）}.$$\n\n第FA$_{3}$级，输入为 $A_{3}=1$, $B_{3}=0$, $C_{in\\_3}=C_{out\\_1}=1$：\n$$S_{3}=1\\oplus 0\\oplus 1=(1\\oplus 0)\\oplus 1=1\\oplus 1=0,$$\n$$C_{out\\_3}=(1\\cdot 0)+(1\\cdot(1\\oplus 0))=0+(1\\cdot 1)=1\\quad\\text{（未使用）}.$$\n\n因此，最终的和是\n$$S_{3}S_{2}S_{1}S_{0}=0\\,1\\,1\\,0.$$", "answer": "$$\\boxed{0110}$$", "id": "1938834"}, {"introduction": "真正的精通不仅在于分析现有电路，更在于能够在特定约束下进行设计。最后一个练习将让你扮演电路工程师的角色，挑战你仅使用2对1多路选择器（MUX）和反相器来构建一个完整的全加器。这个任务将促使你跳出标准与门、或门、异或门的思维定式，灵活地运用布尔代数和香农展开定理，探索用通用逻辑单元实现复杂功能的优化方法。", "problem": "一位数字系统工程师的任务是为一款专用处理器设计一个1位全加器计算核心。其制造工艺受到限制，提供一个标准单元库，其中只包含两种类型的组件：2选1多路复用器和标准反相器。该2选1多路复用器有数据输入 $I_0$ 和 $I_1$，一个选择输入 $S$，以及一个由布尔函数 $Y = \\bar{S} \\cdot I_0 + S \\cdot I_1$ 定义的输出 $Y$。\n\n该全加器必须用三个输入 $A$、$B$ 和 $C_{in}$（进位输入）实现，并产生两个输出：和（$S$）和进位输出（$C_{out}$）。其定义逻辑表达式为：\n$$S = A \\oplus B \\oplus C_{in}$$\n$$C_{out} = AB + BC_{in} + AC_{in}$$\n\n工程师必须创建一个单一的集成电路，从输入 $A$、$B$ 和 $C_{in}$ 生成 $S$ 和 $C_{out}$。该设计应通过尽可能在 $S$ 和 $C_{out}$ 的计算之间共享逻辑，来为最少的总组件数量进行优化。主输入 $A, B, C_{in}$ 以及逻辑常数 0 和 1 均可用于连接到任何多路复用器的输入或选择线。任何所需的反相信号（例如 $\\bar{A}, \\bar{B}, \\bar{C}_{in}$）在默认情况下不可用，必须使用反相器生成。\n\n构建完整的全加器电路分别需要的最少的2选1多路复用器和反相器的数量是多少？\n\nA. (3个多路复用器, 2个反相器)\n\nB. (4个多路复用器, 2个反相器)\n\nC. (5个多路复用器, 2个反相器)\n\nD. (3个多路复用器, 3个反相器)\n\nE. (4个多路复用器, 3个反相器)", "solution": "我们被限制只能使用2选1多路复用器（其输出为 $Y=\\bar{S}\\,I_{0}+S\\,I_{1}$）和反相器，可用的输入有 $A,B,C_{in}$ 以及常数 $0,1$。所需的输出是\n$$S=A\\oplus B\\oplus C_{in},\\qquad C_{out}=AB+AC_{in}+BC_{in}.$$\n\n引入共享的传播信号\n$$P=A\\oplus B.$$\n使用 $$P=\\bar{A}B+A\\bar{B},$$ 用一个多路复用器和一个反相器来实现 $P$，即一个选择输入为 $A$、数据输入为 $I_{0}=B$、$I_{1}=\\bar{B}$ 的2选1多路复用器（一个反相器用于生成 $\\bar{B}$）。\n\n和可以表示为\n$$S=P\\oplus C_{in}=\\bar{P}\\,C_{in}+P\\,\\bar{C}_{in}.$$\n这正好是一个选择输入为 $P$、数据输入为 $I_{0}=C_{in}$、$I_{1}=\\bar{C}_{in}$ 的2选1多路复用器，需要一个反相器来生成 $\\bar{C}_{in}$。\n\n对于进位，使用关于 $P=A\\oplus B$ 的Shannon展开。当 $P=0$ 时，有 $A=B$，此时\n$$C_{out}=AB+AC_{in}+BC_{in}=\\begin{cases}\n0,&A=B=0,\\\\\n1,&A=B=1,\n\\end{cases}$$\n所以 $C_{out}=A$。当 $P=1$ 时，有 $A\\neq B$，此时 $AB=0$ 且 $A+B=1$，可得\n$$C_{out}=AB+AC_{in}+BC_{in}=C_{in}.$$\n因此\n$$C_{out}=\\bar{P}\\,A+P\\,C_{in},$$\n这是一个选择输入为 $P$、数据输入为 $I_{0}=A$、$I_{1}=C_{in}$ 的2选1多路复用器，且不需要反相器。\n\n组件数量统计：\n- 一个多路复用器 + 一个反相器用于生成 $P$。\n- 一个多路复用器 + 一个反相器用于从 $P$ 和 $C_{in}$ 生成 $S$。\n- 一个多路复用器（无反相器）用于从 $P$、$A$ 和 $C_{in}$ 生成 $C_{out}$。\n\n总计：$3$个多路复用器和$2$个反相器。\n\n最小性论证：在给定的门集下，$S$ 和 $C_{out}$ 各自都需要一个多路复用器（因为 $S$ 是一个异或运算，而 $C_{out}$ 是一个条件组合 $\\bar{P}A+PC_{in}$），而生成共享的 $P=A\\oplus B$ 至少需要一个额外的多路复用器。此外，要用单个多路复用器分别实现这两个异或运算（$P$ 和 $S=P\\oplus C_{in}$），其数据输入中都需要一个反相文字，这强制要求至少两次反相，除非使用额外的多路复用器来合成反相信号。因此，$3$个多路复用器和$2$个反相器是所需的最少数量。\n\n因此，正确选项是A。", "answer": "$$\\boxed{A}$$", "id": "1938831"}]}