{"hands_on_practices": [{"introduction": "在设计可靠的数字电路时，首要任务是学会识别潜在的问题。静态-1冒险是组合逻辑电路中的一种常见隐患，它发生在当单个输入变量改变，而理论上应保持为1的输出却瞬间变为0的情况。这个练习将帮助你磨练分析布尔函数的能力，通过最小项表达式和卡诺图来精确定位可能引发这种冒险的具体输入变化 [@problem_id:1964038]。", "problem": "一个组合逻辑电路被构建用于实现一个三变量布尔函数 $F(A, B, C)$。该函数由其最小项之和定义为 $F(A, B, C) = \\sum m(2, 3, 5, 7)$。该电路由逻辑门实现，这些逻辑门对应于为此函数推导出的最简积之和（SOP）表达式。\n\n由于门电路内部的物理传播延迟，该电路容易出现逻辑冒险。具体来说，我们关心的是静态1冒险，它发生在当单个输入变量改变，而函数的输出理论上应保持逻辑1不变时，输出却瞬间降到0的情况。\n\n在以下单变量输入转换中，哪一个会导致该电路实现中出现静态1冒险？\n\nA. 输入状态 $(A,B,C) = (0,1,0)$ 和 $(A,B,C) = (0,1,1)$ 之间的转换。\n\nB. 输入状态 $(A,B,C) = (1,0,1)$ 和 $(A,B,C) = (1,1,1)$ 之间的转换。\n\nC. 输入状态 $(A,B,C) = (0,1,1)$ 和 $(A,B,C) = (1,1,1)$ 之间的转换。\n\nD. 输入状态 $(A,B,C) = (0,0,0)$ 和 $(A,B,C) = (1,0,0)$ 之间的转换。\n\nE. 输入状态 $(A,B,C) = (1,1,0)$ 和 $(A,B,C) = (1,1,1)$ 之间的转换。", "solution": "给定三变量布尔函数的规范最小项之和形式为：\n$$\nF(A,B,C)=\\sum m(2,3,5,7).\n$$\n使用标准最小项索引，其中 $(A,B,C)$ 作为索引的二进制表示，最小项对应于：\n$$\nm(2)=\\bar{A}B\\bar{C},\\quad m(3)=\\bar{A}BC,\\quad m(5)=A\\bar{B}C,\\quad m(7)=ABC.\n$$\n因此，规范SOP（积之和）为\n$$\nF=\\bar{A}B\\bar{C}+\\bar{A}BC+A\\bar{B}C+ABC.\n$$\n我们通过配对仅在一个文字上不同的项，使用布尔代数进行简化：\n- 合并 $\\bar{A}B\\bar{C}$ 和 $\\bar{A}BC$：\n$$\n\\bar{A}B\\bar{C}+\\bar{A}BC=\\bar{A}B(\\bar{C}+C)=\\bar{A}B.\n$$\n- 合并 $A\\bar{B}C$ 和 $ABC$：\n$$\nA\\bar{B}C+ABC=AC(\\bar{B}+B)=AC.\n$$\n因此，最简积之和为\n$$\nF=\\bar{A}B+AC.\n$$\n\n在SOP实现中，当函数输出对于两个仅相差一个变量的输入状态理论上都为 $1$，但这两个状态被不同的乘积项（与门）覆盖时，就可能发生静态1冒险。由于不等的传播延迟，在单变量转换期间，一个乘积项的输出可能在另一个乘积项的输出上升之前下降，导致或门的输出瞬间降至 $0$。共识定理指出了可以覆盖此类冒险的共识项；对于 $F=\\bar{A}B+AC$，其共识项是 $BC$，因为\n$$\n\\text{consensus}(\\bar{A}B,AC)=BC.\n$$\n该项的缺失表明，当 $A$ 在 $B=C=1$ 的条件下翻转时，存在潜在的静态1冒险。\n\n我们现在逐一评估每个选项：\n\n- 选项A：$(A,B,C)$ 从 $(0,1,0)$ 转换到 $(0,1,1)$。两个最小项 $010$ 和 $011$ 的输出都为 $1$，并且都被单个乘积项 $\\bar{A}B$ 覆盖（该项不依赖于 $C$）。因此，在此转换期间，$\\bar{A}B$ 的与门保持有效，所以不会发生静态1冒险。\n\n- 选项B：$(A,B,C)$ 从 $(1,0,1)$ 转换到 $(1,1,1)$。两个最小项 $101$ 和 $111$ 的输出都为 $1$，并且都被单个乘积项 $AC$ 覆盖（该项不依赖于 $B$）。因此，不会发生静态1冒险。\n\n- 选项C：$(A,B,C)$ 从 $(0,1,1)$ 转换到 $(1,1,1)$。两个最小项 $011$ 和 $111$ 的输出都为 $1$，但 $011$ 被 $\\bar{A}B$ 覆盖，而 $111$ 被 $AC$ 覆盖。这是两个不同的乘积项，并且共识项 $BC$ 不存在于最简SOP中。当保持 $B=C=1$ 不变而 $A$ 切换时，理想输出为 $F=\\bar{A}+A=1$，但在双门实现中，$\\bar{A}B$ 项的输出可能会在 $AC$ 项的输出上升之前下降（反之亦然），从而产生静态1冒险。因此，该转换可能导致静态1冒险。\n\n- 选项D：$(A,B,C)$ 从 $(0,0,0)$ 转换到 $(1,0,0)$。最小项 $000$ 和 $100$ 的输出 $F$ 均为 $0$，因此这不是静态1条件，与静态1冒险无关。\n\n- 选项E：$(A,B,C)$ 从 $(1,1,0)$ 转换到 $(1,1,1)$。初始状态 $110$ 的输出 $F=0$，最终状态 $111$ 的输出 $F=1$，因此输出没有保持在 $1$，这不是一个静态1场景。\n\n因此，在最简SOP实现中，唯一可能导致静态1冒险的转换是选项C。", "answer": "$$\\boxed{C}$$", "id": "1964038"}, {"introduction": "学会了如何识别冒险之后，下一步自然是消除它们，这对于安全关键型系统尤为重要。此练习模拟了一个控制安全阀的电路，其中的任何瞬时错误都可能是灾难性的。我们将探索如何通过添加一个“冗余”乘积项（即共识项）来解决静态冒险问题，以确保在关键的输入转换期间，电路输出能够保持稳定 [@problem_id:1963989]。", "problem": "一个组合逻辑电路被设计用于控制一个安全阀。该电路的输出 $Y$ 由三个传感器输入 $A$、$B$ 和 $C$ 决定。其实现的逻辑函数由布尔表达式 $Y = A \\bar{B} + B C$ 给出。在这个数字系统中，每个逻辑门和反相器都具有非零的传播延迟。\n\n考虑一个特定的操作场景，其中输入初始稳定在 $(A, B, C) = (1, 1, 1)$。随后，输入 $B$ 从 $1$ 跳变到 $0$，而输入 $A$ 和 $C$ 保持为 $1$。由于产生 $\\bar{B}$ 的反相器存在传播延迟，在这次跳变过程中，输出 $Y$ 可能会短暂地错误地降至 $0$，然后才恢复到其正确的稳态值 $1$。对于安全系统来说，这种瞬态脉冲是不可接受的。\n\n为确保输出 $Y$ 在此特定输入跳变过程中始终保持为 $1$，可以在原始表达式中“或”上一个额外的乘积项。下列哪个乘积项添加到该函数中，可以消除这种不期望的瞬态行为？\n\nA. $\\bar{A}C$\n\nB. $\\bar{B}\\bar{C}$\n\nC. $AC$\n\nD. $A B$\n\nE. $\\bar{A}\\bar{B}$", "solution": "我们从给定的布尔函数 $Y=A \\bar{B} + B C$ 开始，并假设所有门电路都具有非零的传播延迟。我们关注的特定跳变是输入从 $(A,B,C)=(1,1,1)$ 变为 $(A,B,C)=(1,0,1)$，其中 $A$ 和 $C$ 保持为 $1$，而 $B$ 从 $1$ 下降到 $0$。\n\n步骤 1：评估两个端点的稳态值。\n- 在 $(A,B,C)=(1,1,1)$ 时，各项为 $A \\bar{B}=1\\cdot 0=0$ 和 $B C=1\\cdot 1=1$，因此 $Y=1$。\n- 在 $(A,B,C)=(1,0,1)$ 时，各项为 $A \\bar{B}=1\\cdot 1=1$ 和 $B C=0\\cdot 1=0$，因此 $Y=1$。\n\n步骤 2：识别由传播延迟引起的瞬态险象。\n假设产生 $\\bar{B}$ 的反相器有延迟。当 $B$ 从 $1$ 跳变到 $0$ 时，在变化发生后会有一个短暂的时间间隔，此时 $B=0$ 已经传播到 $B C$ 项（使得 $B C=0$），但 $\\bar{B}$ 尚未上升（因此 $\\bar{B}=0$），这使得 $A \\bar{B}=0$。因此，在此时间间隔内 $Y=0$，这是一个静态1险象。\n\n步骤 3：确定消除险象的冗余（共识）项。\n根据共识定理，对于形如 $x y + \\bar{y} z$ 的项，其共识项为 $x z$，添加该项不会改变稳态逻辑函数：\n$$\nx y + \\bar{y} z + x z = x y + \\bar{y} z.\n$$\n令 $x=A$，$y=\\bar{B}$，$z=C$。则 $x y = A \\bar{B}$ 且 $\\bar{y} z = \\bar{\\bar{B}} C = B C$。共识项为\n$$\nx z = A C.\n$$\n添加 $A C$ 项可以覆盖 $A=1$ 和 $C=1$ 的输入邻域，无论 $B$ 的瞬时值或反相器输出 $\\bar{B}$ 的状态如何，从而防止输出在跳变期间下降。\n\n步骤 4：验证 $A C$ 在整个跳变过程中保持 $Y=1$。\n在 $A=1$ 和 $C=1$ 保持不变的情况下，添加的项 $A C=1$ 在 $B$ 的整个跳变期间都成立。因此，即使由于延迟导致 $A \\bar{B}$ 和 $B C$ 两项瞬间都为 $0$，输出 $Y = A \\bar{B} + B C + A C$ 仍然保持为 $1$。\n\n步骤 5：在给定条件 $A=1, C=1$ 下通过求值来排除不正确的选项。\n- $\\bar{A} C$：当 $A=1$ 时，其值为 $0$，因此不能保护输出。\n- $\\bar{B} \\bar{C}$：当 $C=1$ 时，其值为 $0$，因此不能保护输出。\n- $A B$：仅当 $B=1$ 时为 $1$；在 $B$ 下降到 $0$ 后立即失效，因此在关键时间间隔内不能保护输出。\n- $\\bar{A} \\bar{B}$：当 $A=1$ 时，其值为 $0$，因此不能保护输出。\n\n因此，需要添加的正确乘积项是 $A C$，对应选项 C。", "answer": "$$\\boxed{C}$$", "id": "1963989"}, {"introduction": "为了完全理解冒险的实际影响，我们需要从抽象的逻辑概念转向具体的物理特性。这个问题将带你进入冒险的定量分析领域，在这里，不期望的瞬态脉冲（毛刺）的持续时间是由信号路径中逻辑门的具体传播延迟决定的。通过计算这个瞬态脉冲的确切持续时间，你将更深刻地体会到门电路的时序特性如何直接影响电路的可靠性和性能 [@problem_id:1964034]。", "problem": "一个数字控制系统使用三个二进制输入，$X$、$Y$ 和 $Z$，来生成单个输出信号 $F$。该电路由基本逻辑门实现，其行为由布尔表达式 $F = XY + \\bar{X}Z$ 描述。电路中使用的逻辑门的传播延迟如下：\n- 非门: $\\tau_{NOT} = 3$ ns\n- 2输入与门: $\\tau_{AND} = 2$ ns\n- 2输入或门: $\\tau_{OR} = 2$ ns\n\n假设电路一直处于稳定状态，其输入 $Y$ 和 $Z$ 恒定保持为逻辑1。在时间 $t=0$ 时，输入 $X$ 从逻辑1切换到逻辑0。由于通过电路路径的传播延迟不同，输出 $F$ 可能会瞬间偏离其预期的稳态值，从而产生一个瞬态脉冲。\n\n计算此瞬态脉冲的持续时间。答案以纳秒为单位表示。", "solution": "给定 $F=XY+\\bar{X}Z$，其中 $Y=1$ 和 $Z=1$ 保持恒定，初始和最终的稳态值为：\n- 对于 $t<0$ 且 $X=1$：$XY=1$，$\\bar{X}Z=0$，因此 $F=1$。\n- 对于 $X$ 切换到 $0$ 后的 $t\\to\\infty$：$XY=0$，$\\bar{X}=1$，$\\bar{X}Z=1$，因此 $F=1$。\n\n因此，当 $X$ 从 $1$ 转换到 $0$ 时，由于从 $X$ 到或门输入的路径延迟不等，输出端会出现一个潜在的静态1冒险。\n\n定义中间信号：\n- $A=XY$ (上方的与门路径)，\n- $B=\\bar{X}Z$ (下方的非门-与门路径)。\n\n传播延迟：\n- 非门：$\\tau_{NOT}$，\n- 与门：$\\tau_{AND}$，\n- 或门：$\\tau_{OR}$。\n\n在 $t=0$ 时，$X$ 从 $1\\to 0$ 切换。或门输入发生变化的时间是：\n- $A$ 在与门延迟后从 $1\\to 0$ 下降：\n$$\nt_{A\\downarrow}=\\tau_{AND}.\n$$\n- $B$ 在非门和与门串行延迟后从 $0\\to 1$ 上升：\n$$\nt_{B\\uparrow}=\\tau_{NOT}+\\tau_{AND}.\n$$\n\n因此，在以下时间间隔内，两个或门输入均为 $0$\n$$\n\\Delta t_{\\text{inputs}}=t_{B\\uparrow}-t_{A\\downarrow}=(\\tau_{NOT}+\\tau_{AND})-\\tau_{AND}=\\tau_{NOT}.\n$$\n\n或门的输出转换在输入变化经过一个额外的延迟 $\\tau_{OR}$ 后发生：\n- 输出在 $t_{fall}=t_{A\\downarrow}+\\tau_{OR}=\\tau_{AND}+\\tau_{OR}$ 时下降。\n- 输出在 $t_{rise}=t_{B\\uparrow}+\\tau_{OR}=\\tau_{NOT}+\\tau_{AND}+\\tau_{OR}$ 时上升。\n\n因此，输出端的瞬态低电平脉冲宽度为\n$$\nt_{rise}-t_{fall}=(\\tau_{NOT}+\\tau_{AND}+\\tau_{OR})-(\\tau_{AND}+\\tau_{OR})=\\tau_{NOT}.\n$$\n\n代入给定值 $\\tau_{NOT}=3$ ns，得到脉冲持续时间为 $3$ ns。由于 $\\Delta t_{\\text{inputs}}=\\tau_{NOT}=3$ ns 超过了 $\\tau_{OR}=2$ ns，或门不会滤除此脉冲，它将以相同的宽度出现在输出端。", "answer": "$$\\boxed{3}$$", "id": "1964034"}]}