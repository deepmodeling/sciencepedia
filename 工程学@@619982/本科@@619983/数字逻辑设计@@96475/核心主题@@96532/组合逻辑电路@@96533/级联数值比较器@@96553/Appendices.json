{"hands_on_practices": [{"introduction": "掌握任何级联系统的第一步是理解信息如何在各级之间流动。这个练习将引导你追踪一个多级比较器中的级联信号，揭示决策是如何从高位比特向下传播的。通过分析一个具体的比较案例 [@problem_id:1919799]，你将亲身体验高位比较结果如何优先决定最终输出，以及在相等时控制权如何传递给下一级。", "problem": "一个12位数字幅度比较器由三个相同的4位幅度比较器集成电路级联构成。这些级从最高有效位到最低有效位依次标记为第2级、第1级和第0级。12位的输入数字为 $A$ 和 $B$，其中 $A = A_{11}A_{10}...A_0$ 且 $B = B_{11}B_{10}...B_0$。第2级比较最高有效的半字节（$A[11:8]$ 和 $B[11:8]$），第1级比较中间的半字节（$A[7:4]$ 和 $B[7:4]$），第0级比较最低有效的半字节（$A[3:0]$）。\n\n每个4位比较器有三个级联输入 $(I_{A>B}, I_{A<B}, I_{A=B})$ 和三个对应的输出 $(O_{A>B}, O_{A<B}, O_{A=B})$。第 $i$ 级的输出作为第 $i-1$ 级的级联输入。每一级的逻辑如下：\n- 如果本级的4位输入 $A$ 大于本级的4位输入 $B$，则输出为 $(1, 0, 0)$，与级联输入无关。\n- 如果本级的4位输入 $A$ 小于本级的4位输入 $B$，则输出为 $(0, 1, 0)$，与级联输入无关。\n- 如果本级的4位输入相等，则输出直接复制级联输入：$(O_{A>B}, O_{A<B}, O_{A=B}) = (I_{A>B}, I_{A<B}, I_{A=B})$。\n\n对于最高有效位 (MSB) 级（第2级），级联输入被设置为检测来自一个假设的“更高有效”级的相等情况，因此它们被固定为 $(I_{A>B}, I_{A<B}, I_{A=B}) = (0, 0, 1)$。最终的12位比较结果由最低有效位 (LSB) 级（第0级）的输出给出。\n\n将两个12位数字 $A = \\text{0xABC}$ 和 $B = \\text{0xABD}$ 应用于此比较器的输入。确定各级之间级联线路的逻辑状态。\n\n设从第2级到第1级的级联输出三元组表示为 $Y_2 = (O_{A>B}^{(2)}, O_{A<B}^{(2)}, O_{A=B}^{(2)})$。\n设从第1级到第0级的级联输出三元组表示为 $Y_1 = (O_{A>B}^{(1)}, O_{A<B}^{(1)}, O_{A=B}^{(1)})$。\n\n以下哪项表示组合状态 $(Y_2, Y_1)$？\n\nA. $Y_2 = (0, 0, 1)$, $Y_1 = (0, 1, 0)$\n\nB. $Y_2 = (1, 0, 0)$, $Y_1 = (0, 0, 1)$\n\nC. $Y_2 = (0, 0, 1)$, $Y_1 = (0, 0, 1)$\n\nD. $Y_2 = (0, 1, 0)$, $Y_1 = (0, 1, 0)$\n\nE. $Y_2 = (0, 0, 0)$, $Y_1 = (0, 0, 1)$", "solution": "按半字节解析十六进制输入。将 $A=0xABC$ 和 $B=0xABD$ 分别写成三个4位的半字节：\n- 最高有效半字节：$(A[11:8], B[11:8])=(\\text{A}, \\text{A})$。\n- 中间半字节：$(A[7:4], B[7:4])=(\\text{B}, \\text{B})$。\n- 最低有效半字节：$(A[3:0], B[3:0])=(\\text{C}, \\text{D})$。\n\n根据给定的每个4位级的比较器规则：\n- 如果本级 $A>B$，输出为 $(1,0,0)$。\n- 如果本级 $A<B$，输出为 $(0,1,0)$。\n- 如果本级 $A=B$，输出复制级联输入。\n\n最高有效位级（第2级）具有固定的级联输入 $(I_{A>B}, I_{A<B}, I_{A=B})=(0,0,1)$。\n\n评估第2级（最高有效半字节）：由于 $\\text{A}=\\text{A}$，本级输入相等，因此输出复制输入。所以，\n$$Y_2=(O_{A>B}^{(2)}, O_{A<B}^{(2)}, O_{A=B}^{(2)})=(0,0,1)。$$\n\n评估第1级（中间半字节）：由于 $\\text{B}=\\text{B}$，本级输入相等，因此输出复制来自第2级的级联输入。因此，\n$$Y_1=(O_{A>B}^{(1)}, O_{A<B}^{(1)}, O_{A=B}^{(1)})=Y_2=(0,0,1)。$$\n\n作为一致性检查，第0级（最低有效半字节）比较 $\\text{C}$ 和 $\\text{D}$，由于 $\\text{C}<\\text{D}$，它将输出 $(0,1,0)$，这与级联输入无关；然而，问题只要求 $Y_2$ 和 $Y_1$。\n\n因此，$(Y_2, Y_1)=\\big((0,0,1), (0,0,1)\\big)$，这对应于选项C。", "answer": "$$\\boxed{C}$$", "id": "1919799"}, {"introduction": "从分析转向综合，现实世界中的数字设计通常涉及用标准的小模块构建更大的系统。这个问题挑战你像工程师一样思考，计算出构建一个特定尺寸（7位）的比较器所需的最少标准模块（2位比较器）数量。这个练习 [@problem_id:1919801] 强调了资源效率和模块化设计思想，这是数字逻辑实践中的核心技能。", "problem": "您的任务是使用一组相同的、标准的2位数值比较器集成电路(IC)来设计一个7位数值比较器。每个2位比较器IC具有以下特性：\n- 它接收两个2位的二进制数 $X = X_1X_0$ 和 $Y = Y_1Y_0$ 作为其主要输入。\n- 它还包括三个级联输入：$I_{A>B}$、$I_{A=B}$ 和 $I_{A<B}$。这些输入旨在表示一个更大比较器中，来自较低有效位级的比较结果。\n- 它产生三个最终的级联输出：$O_{A>B}$、$O_{A=B}$ 和 $O_{A<B}$。控制这些输出的逻辑定义如下：\n    - 当 ($X > Y$) 或 ($X=Y$ 且 $I_{A>B}$) 时，$O_{A>B}$ 逻辑为真。\n    - 当 ($X < Y$) 或 ($X=Y$ 且 $I_{A<B}$) 时，$O_{A<B}$ 逻辑为真。\n    - 当 ($X=Y$ 且 $I_{A=B}$) 时，$O_{A=B}$ 逻辑为真。\n在创建比较器时，处理最低有效位的级的级联输入应被设置为反映一个初始的相等状态：$I_{A>B}=0$，$I_{A=B}=1$ 和 $I_{A<B}=0$。\n\n请确定构建一个功能完备的7位数值比较器，所需的最少2位比较器IC数量。", "solution": "一个2位比较器IC比较两个2位的字 $X=X_{1}X_{0}$ 和 $Y=Y_{1}Y_{0}$，并使用以下公式通过级联输入传播来自较低有效位级的比较结果：\n$$\nO_{A>B}=(X>Y)\\ \\text{or}\\ \\bigl((X=Y)\\ \\text{and}\\ I_{A>B}\\bigr),\\quad\nO_{A<B}=(X<Y)\\ \\text{or}\\ \\bigl((X=Y)\\ \\text{and}\\ I_{A<B}\\bigr),\\quad\nO_{A= B}=(X=Y)\\ \\text{and}\\ I_{A=B}.\n$$\n将这些IC从最低有效位到最高有效位串联起来，并将最低有效位级初始化为 $I_{A>B}=0$，$I_{A=B}=1$，$I_{A<B}=0$，可以对所有被比较的位组的级联进行正确的数值比较。这是因为每个更高的有效位级会根据其本地2位的比较结果做出决定，除非出现相等的情况，在这种情况下，它会参考级联输入，而这些输入编码了所有较低有效位的结果。\n\n要使用2位级来比较n位数，所需IC的最小数量是满足 $2m\\geq n$ 的最小整数m，即：\n$$\nm=\\lceil \\tfrac{n}{2}\\rceil.\n$$\n对于 $n=7$，这给出：\n$$\nm=\\left\\lceil \\tfrac{7}{2}\\right\\rceil=4.\n$$\n多出来的单个位可以通过在最高有效位级中使用一个IC作为有效的1位比较器来处理，具体方法是赋值 $X_{1}=A_{6}$，$X_{0}=0$，$Y_{1}=B_{6}$，$Y_{0}=0$。这样，因为 $0=0$，$(X=Y)$ 就简化为 $A_{6}=B_{6}$，并且该级能够正确地比较单个最高有效位，同时仍然通过其级联逻辑传播相等状态。因此，少于4个IC无法覆盖所有7个位，所以4个IC是充分且必要的。", "answer": "$$\\boxed{4}$$", "id": "1919801"}, {"introduction": "一个电路的逻辑正确性是基础，但其运行速度在许多应用中同样至关重要。本章的最后一个练习将我们从逻辑设计领域带入性能分析领域。通过计算级联比较器的最坏情况传播延迟 [@problem_id:1919818]，你将学会识别决定电路最高工作频率的“关键路径”，这是衡量和优化数字系统性能的关键一步。", "problem": "一个用于高精度制造过程的数字反馈与控制系统 (DFCS) 需要一个12位数字幅度比较器，以比较传感器读数与目标设定点。为实现此功能，工程师们决定采用串行级联架构，将三个相同的4位幅度比较器集成电路 (IC) 串联起来。最低有效位的4位比较器（第0级）处理0-3位，第二个比较器（第1级）处理4-7位，而最高有效位的4位比较器（第2级）处理8-11位。\n\n该4位比较器IC的数据手册指明了两个关键的传播延迟：\n1.  本地比较延迟，$t_{p,local}$，指从4位数据输入 (A[3:0], B[3:0]) 发生变化到该级输出生成所需的时间，前提是假设级联输入保持在使该级自主工作的状态（即不依赖于前一级）。该延迟为 $t_{p,local} = 11.5$ ns。\n2.  级联传播延迟，$t_{p,cascade}$，指从某个级联输入（来自较低有效位级）发生变化到当前级的最终输出发生相应变化所需的时间。该延迟是在当前级的本地4位数据输入相等 (A=B) 的条件下测量的。该延迟为 $t_{p,cascade} = 4.8$ ns。\n\n假设采用这种串行级联配置，计算整个12位比较器的最坏情况传播延迟。请以纳秒 (ns) 为单位表示您的最终答案，并四舍五入到三位有效数字。", "solution": "在一个用于实现12位比较器的、由三个相同的4位幅度比较器组成的串行级联中，最坏情况的传播发生在最高有效位的决策由最低有效位级（第0级）决定时。在这种情况下，信号必须经历：\n- 由于其数据输入发生变化，在第0级产生的一次本地比较延迟，其值为 $t_{p,local}$。\n- 信号通过每个更高位级（第1级和第2级）的级联传播，每一级都会贡献一个 $t_{p,cascade}$ 的延迟，因为这些级处于 $A=B$ 条件，并等待来自较低有效位级的连锁决策。\n\n根据沿关键路径的延迟线性叠加，最坏情况的总传播延迟因此为\n$$\nt_{p,\\text{worst}}=t_{p,local}+2\\,t_{p,cascade}.\n$$\n代入给定值，\n$$\nt_{p,\\text{worst}}=11.5\\ \\text{ns}+2\\times 4.8\\ \\text{ns}=11.5\\ \\text{ns}+9.6\\ \\text{ns}=21.1\\ \\text{ns}.\n$$\n四舍五入到三位有效数字，结果仍为 $21.1$。", "answer": "$$\\boxed{21.1}$$", "id": "1919818"}]}