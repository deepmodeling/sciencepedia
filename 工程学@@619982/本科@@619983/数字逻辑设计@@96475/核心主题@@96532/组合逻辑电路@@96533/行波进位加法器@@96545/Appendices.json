{"hands_on_practices": [{"introduction": "掌握行波进位加法器工作原理的第一步是理解其核心机制——进位是如何逐级“涟漪”式传递的。本次练习旨在通过手动追踪一个具体加法运算中的所有中间进位值，来揭开这一过程的神秘面纱。完成这个练习将帮助你建立对加法器顺序执行过程的坚实基础 [@problem_id:1958696]。", "problem": "一个5位行波进位加法器是一种数字电路，用于将两个5位二进制数相加，我们将其表示为 $A = A_4A_3A_2A_1A_0$ 和 $B = B_4B_3B_2B_1B_0$。该加法器由一串全加器组成，其中处理位位置 $i$ 的级接收输入 $A_i$、$B_i$ 和来自前一级的进位输入 $C_i$，以产生一个和位 $S_i$ 和一个进位输出位 $C_{i+1}$。对于最低有效位（位置0），进位输入 $C_0$ 是从外部提供的。\n\n给定两个输入数 $A = 11011_2$ 和 $B = 01110_2$。加法器的初始进位输入为 $C_0 = 0$。\n\n确定在运算过程中产生的中间进位 $C_1, C_2, C_3,$ 和 $C_4$ 的值。", "solution": "我们使用位位置 $i$ 处的全加器进位输出关系式：\n$$\nC_{i+1}=A_{i}B_{i}+(A_{i}\\oplus B_{i})C_{i},\n$$\n其中 $+$ 表示布尔或，并列表示布尔与，而 $\\oplus$ 表示异或。二进制数为 $A=11011_{2}$，所以 $A_{4}=1$, $A_{3}=1$, $A_{2}=0$, $A_{1}=1$, $A_{0}=1$；以及 $B=01110_{2}$，所以 $B_{4}=0$, $B_{3}=1$, $B_{2}=1$, $B_{1}=1$, $B_{0}=0$，且 $C_{0}=0$。\n\n对于 $i=0$：$A_{0}=1$, $B_{0}=0$, $C_{0}=0$。\n$$\nA_{0}B_{0}=0,\\quad A_{0}\\oplus B_{0}=1,\\quad C_{1}=0+(1)\\cdot 0=0.\n$$\n\n对于 $i=1$：$A_{1}=1$, $B_{1}=1$, $C_{1}=0$。\n$$\nA_{1}B_{1}=1,\\quad A_{1}\\oplus B_{1}=0,\\quad C_{2}=1+(0)\\cdot 0=1.\n$$\n\n对于 $i=2$：$A_{2}=0$, $B_{2}=1$, $C_{2}=1$。\n$$\nA_{2}B_{2}=0,\\quad A_{2}\\oplus B_{2}=1,\\quad C_{3}=0+(1)\\cdot 1=1.\n$$\n\n对于 $i=3$：$A_{3}=1$, $B_{3}=1$, $C_{3}=1$。\n$$\nA_{3}B_{3}=1,\\quad A_{3}\\oplus B_{3}=0,\\quad C_{4}=1+(0)\\cdot 1=1.\n$$\n\n因此，中间进位为 $C_{1}=0$, $C_{2}=1$, $C_{3}=1$, $C_{4}=1$。", "answer": "$$\\boxed{\\begin{pmatrix}0 & 1 & 1 & 1\\end{pmatrix}}$$", "id": "1958696"}, {"introduction": "在理解了进位如何传播之后，下一个关键问题是探索其性能极限。本次练习将聚焦于行波进位加法器的主要缺点——传播延迟，通过让你寻找能产生最长进位链的输入组合来深入探讨“最坏情况” [@problem_id:1958659]。掌握这一点对于在数字设计中进行性能分析和优化至关重要。", "problem": "一个四位行波进位加法器被用来计算和 $S = A + B$。输入是两个四位无符号二进制数，$A = A_3A_2A_1A_0$ 和 $B = B_3B_2B_1B_0$。该加法器由四个相同的全加器 (FA) 模块级联而成。对于每一级 $i$ (从 0 到 3)，FA 模块根据其输入 $A_i$、$B_i$ 和进位输入 $C_i$ 来计算和位 $S_i$ 和进位输出位 $C_{i+1}$。每一级的进位输出连接到下一级的进位输入，且第一级的初始进位输入 $C_0$ 固定为 0。\n\nFA 的任何输出位达到稳定所需的时间是其传播延迟。加法运算的总时间由从初始输入 ($A, B, C_0$) 到最终输出 ($S, C_4$) 的最长信号路径决定。这种最坏情况发生在最低有效输入位的变化产生一个进位，该进位“行波”式地穿过每一个 FA 模块，从而影响最终的和与进位输出。\n\n你的任务是确定下列哪一对输入 $(A, B)$ 会产生这个最长的可能进位传播链。\n\nA. $A = 1111_2, B = 0001_2$\n\nB. $A = 1010_2, B = 0101_2$\n\nC. $A = 1111_2, B = 1111_2$\n\nD. $A = 0000_2, B = 0001_2$\n\nE. $A = 1000_2, B = 1000_2$", "solution": "在行波进位加法器中，每个全加器遵循以下公式：\n$$S_{i} = A_{i} \\oplus B_{i} \\oplus C_{i}, \\quad C_{i+1} = A_{i}B_{i} + (A_{i} \\oplus B_{i})C_{i}.$$\n定义进位产生信号和进位传播信号：\n$$G_{i} = A_{i}B_{i}, \\quad P_{i} = A_{i} \\oplus B_{i}, \\quad \\text{所以 } C_{i+1} = G_{i} + P_{i}C_{i}.$$\n在 $C_{0}=0$ 的情况下，从最低有效位到最高有效位的最长进位传播链需要：\n- 在 $i=0$ 时：产生一个进位，即 $G_{0}=1 \\Rightarrow A_{0}=1$ 且 $B_{0}=1$，这样尽管 $C_{0}=0$，仍有 $C_{1}=1$。\n- 对于 $i=1,2,3$：纯粹的进位传播，不产生也不终止进位，即 $P_{i}=1$ 且 $G_{i}=0$，这要求 $A_{i} \\neq B_{i}$（互补位）。\n\n检查各个选项：\n- A: $A=1111_{2}, B=0001_{2}$。按位来看：\n  - $i=0$: $(A_{0},B_{0})=(1,1) \\Rightarrow G_{0}=1$ 产生 $C_{1}$。\n  - $i=1,2,3$: 每一位都是 $(1,0)$，所以 $P_{i}=1$, $G_{i}=0$，将进位传播过所有级。这会产生到达 $C_4$ 的完整行波。\n- B: $A_{0}=0$, $B_{0}=1 \\Rightarrow G_{0}=0$，并且由于 $C_{0}=0$，没有产生初始进位；没有行波链开始。\n- C: 所有位都满足 $G_{i}=1$，所以 $C_{i+1}=1$ 而与 $C_{i}$ 无关；与初始进位的依赖关系被切断，因此没有长行波链。\n- D: $A_{0}=0$, $B_{0}=1 \\Rightarrow G_{0}=0$；没有初始进位。\n- E: $A_{0}=0$, $B_{0}=0 \\Rightarrow G_{0}=0$；没有初始进位。\n\n因此，只有选项 A 产生了最长的可能进位传播链。", "answer": "$$\\boxed{A}$$", "id": "1958659"}, {"introduction": "行波进位加法器的一个重要应用是构建更复杂的算术逻辑单元 (ALU)。这个练习将加法器的应用拓展到了减法运算，要求你配置一个基于行波进位加法器的加减法器单元来执行减法 [@problem_id:1958663]。这需要你结合二进制补码的知识，展示了如何通过简单的控制信号和逻辑门来扩展核心组件的功能。", "problem": "一个4位数字电路被设计成一个加减法器，用于处理两个4位无符号整数，记为 $A = A_3A_2A_1A_0$ 和 $B = B_3B_2B_1B_0$。具体操作由一位控制输入 $M$ 选择。当控制输入 $M$ 设置为0时，电路计算和 $S = A + B$。当 $M$ 设置为1时，电路通过计算 $B$ 的补码并将其加到 $A$ 上来计算差 $D = A - B$。\n\n确定为执行计算 $7 - 5$ 必须提供给电路的九个独立输入位（$A_3, A_2, A_1, A_0, B_3, B_2, B_1, B_0$ 和 $M$）的二进制值。\n\n将您的答案表示为一个包含九个二进制数字的单行矩阵，其中各位从左到右的顺序为 $A_3, A_2, A_1, A_0, B_3, B_2, B_1, B_0, M$。", "solution": "我们使用标准的补码加减法器原理：要用单个加法器计算 $A-B$，需设置模式位 $M=1$，按位反转 $B$（记作 $\\overline{B}$），并将 $1$ 作为进位输入相加，因此\n$$\nA-B = A + \\overline{B} + 1.\n$$\n一个4位无符号整数 $7$ 表示为 $(0111)_{2}$，因此对于 $A=A_{3}A_{2}A_{1}A_{0}$ 我们有\n$$\nA_{3}=0,\\quad A_{2}=1,\\quad A_{1}=1,\\quad A_{0}=1.\n$$\n一个4位无符号整数 $5$ 表示为 $(0101)_{2}$，因此对于 $B=B_{3}B_{2}B_{1}B_{0}$ 我们有\n$$\nB_{3}=0,\\quad B_{2}=1,\\quad B_{1}=0,\\quad B_{0}=1.\n$$\n要执行减法操作，设置控制输入 $M=1$。\n\n通过补码加法进行可选的正确性检查：\n$$\n\\overline{B} = 1010,\\quad \\overline{B}+1 = 1011,\\quad A + (\\overline{B}+1) = 0111 + 1011 = 10010,\n$$\n其低4位是 $0010$，即 $(2)_{10}$，与 $7-5=2$ 的结果一致。\n\n因此，所需的输入行（按 $A_{3},A_{2},A_{1},A_{0},B_{3},B_{2},B_{1},B_{0},M$ 顺序排列）是\n$$\n\\begin{pmatrix}\n0 & 1 & 1 & 1 & 0 & 1 & 0 & 1 & 1\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}0 & 1 & 1 & 1 & 0 & 1 & 0 & 1 & 1\\end{pmatrix}}$$", "id": "1958663"}]}