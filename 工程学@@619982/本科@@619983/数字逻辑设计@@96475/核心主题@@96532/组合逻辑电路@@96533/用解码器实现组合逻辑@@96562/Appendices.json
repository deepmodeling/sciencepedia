{"hands_on_practices": [{"introduction": "解码器是识别特定输入模式的理想工具，其输出直接对应于输入的最小项。这种特性使它们成为以“最小项之和”形式构建任何组合逻辑函数的自然模块。此练习 [@problem_id:1923115] 提供了一个基础实践，教会您如何通过简单地“挑选”并组合相关的最小项，使用解码器实现一个实用的功能——二进制编码的十进制 (BCD) 系统的错误检测器。", "problem": "您的任务是设计一个数字逻辑电路，作为一个错误校验器，用于一个使用4位二进制编码的十进制（BCD）数的系统。一个BCD数使用一个4位二进制码来表示从0到9的十进制数字。任何表示10到15之间数值的4位码都被认为是无效的BCD数字。\n\n您的电路必须接收一个4位二进制输入，表示为$A_3A_2A_1A_0$，其中$A_3$是最高有效位，并产生一个单一输出$F$。如果输入代表一个无效的BCD数字，输出$F$必须为逻辑高电平（1），否则为逻辑低电平（0）。\n\n您必须仅使用以下两种元件来实现这个电路：\n1.  一个带有高电平有效输出的4-16译码器。该译码器有四个输入（$A_3, A_2, A_1, A_0$）和十六个输出（$Y_0, Y_1, \\ldots, Y_{15}$）。对于任意代表十进制值$i$的4位输入，相应的输出线$Y_i$为高电平，所有其他输出线为低电平。\n2.  一个额外的多输入逻辑门。\n\n以下哪个选项正确地描述了此无效BCD检测器的实现？\n\nA. 一个6输入或门，其输入连接到译码器输出$Y_{10}, Y_{11}, Y_{12}, Y_{13}, Y_{14}, Y_{15}$。\n\nB. 一个6输入与门，其输入连接到译码器输出$Y_{10}, Y_{11}, Y_{12}, Y_{13}, Y_{14}, Y_{15}$。\n\nC. 一个10输入或门，其输入连接到译码器输出$Y_0, Y_1, \\ldots, Y_9$。\n\nD. 一个10输入与门，其输入连接到译码器输出$Y_0, Y_1, \\ldots, Y_9$。\n\nE. 一个6输入或非门，其输入连接到译码器输出$Y_{10}, Y_{11}, Y_{12}, Y_{13}, Y_{14}, Y_{15}$。", "solution": "我们给定一个带有高电平有效输出的4-16译码器，其输入为$A_{3},A_{2},A_{1},A_{0}$，输出为$Y_{0},Y_{1},\\ldots,Y_{15}$。根据译码器的定义，对于一个对应十进制$i$的输入，恰好有一个输出$Y_{i}$为高电平，所有其他输出均为低电平：\n$$\n\\text{如果 }A_{3}A_{2}A_{1}A_{0} \\text{ 编码为 } i，\\ \\text{则 } Y_{i}=1 \\text{ 且对于 } j \\neq i, Y_j=0。\n$$\n一个BCD数字对于十进制的0到9是有效的，即编码0到9。对于十进制的10到15是无效的。因此，当且仅当输入是$10,11,12,13,14,15$之一时，无效检测器必须产生$F=1$。\n\n将译码器的输出用作最小项，所期望的函数是对应于无效编码的最小项之和：\n$$\nF = Y_{10} + Y_{11} + Y_{12} + Y_{13} + Y_{14} + Y_{15}.\n$$\n因为译码器是独热编码（one-hot）的（即一次只有一个$Y_{i}$为高电平），这个单一的6输入或门恰好在输入为无效编码10到15之一时产生$F=1$，而在输入为0到9时产生$F=0$。这正好使用了一个4-16译码器和一个额外的多输入门（一个或门）。因此，正确的实现对应于将一个6输入或门连接到$Y_{10},Y_{11},Y_{12},Y_{13},Y_{14},Y_{15}$，这正是选项A。\n\n为完整起见，请注意：\n- 对$Y_{10}$到$Y_{15}$进行6输入与运算的结果将永远是$0$，因为在任何时候只有一个译码器输出可以为高电平。\n- 对$Y_{0}$到$Y_{9}$进行10输入或运算会得到一个有效指示器，而不是所需的无效指示器，并且不允许再进行反相操作。\n- 对$Y_{0}$到$Y_{9}$进行10输入与运算的结果也总是$0$，原因同上。\n- 对$Y_{10}$到$Y_{15}$进行6输入或非运算会产生一个有效指示器（对于0到9为高电平），而不是所需的无效指示器。\n\n因此，正确的选择是A。", "answer": "$$\\boxed{A}$$", "id": "1923115"}, {"introduction": "并非所有逻辑功能都由简单的数值范围定义；许多功能是基于输入的逻辑或算术属性。这项实践展示了使用解码器实现任何组合逻辑函数的通用性。通过识别满足给定逻辑条件（在本例中为具有特定的汉明权重）的所有输入组合，您可以通过对相应的解码器输出进行“或”运算来构建该函数。此练习 [@problem_id:1923121] 挑战您进行更抽象的思考，从显式的最小项列表转向根据高级规则推导最小项，这是数字设计中的一项关键技能。", "problem": "一个数字系统需要监控一个4位二进制数据流，该数据流由比特 $I_3I_2I_1I_0$ 表示，其中 $I_3$ 是最高有效位。需要一个组合逻辑电路，当且仅当该4位输入字的汉明权重（Hamming weight）恰好为2时（即，它恰好包含两个'1'），产生一个高电平输出（逻辑'1'）。\n\n您的任务是仅使用两个组件来实现这个功能：一个4-16译码器和一个多输入或门。该译码器有四条输入线（$A, B, C, D$），分别对应于 $I_3, I_2, I_1, I_0$，以及十六条高电平有效输出线，标记为 $Y_0, Y_1, \\dots, Y_{15}$。该译码器始终处于使能状态。当输入 $ABCD$ 的二进制值等于整数 $k$ 时，输出线 $Y_k$ 被置为高电平，而所有其他输出线保持低电平。\n\n为了构建所需的功能，译码器的部分输出线将作为输入连接到多输入或门。这个或门的输出是整个电路的最终输出。为了最小化硬件，所使用的或门必须具有所需的最少输入数量。这个或门所需的最少输入数量是多少？", "solution": "设输入字为 $I_{3}I_{2}I_{1}I_{0}$，要求恰好有两个比特为 $1$。汉明权重恰好为2的4位字的不同数量，等于从4个位置中为“1”选择2个位置的方法数：\n$$\\binom{4}{2}=6.$$\n一个4-16高电平有效译码器对每个输入字都会置位恰好一条输出线 $Y_{k}$，其中 $k$ 是输入 $ABCD=I_{3}I_{2}I_{1}I_{0}$ 的整数值。因此，所需的功能必须是那些其输入字汉明权重为2的 $Y_{k}$ 的逻辑或。\n\n枚举所有恰好有两个“1”的4位输入，得到编码 $0011, 0101, 0110, 1001, 1010, 1100$，这对应于 $k \\in \\{3,5,6,9,10,12\\}$。因此，所需的输出是\n$F=Y_{3}\\lor Y_{5}\\lor Y_{6}\\lor Y_{9}\\lor Y_{10}\\lor Y_{12}$。\n由于每个 $Y_{k}$ 只对一个输入字置位，并且这些输出是互斥的，所以没有单个译码器输出可以覆盖多个所需的情况。因此，一个或门对于每个所需的最小项都必须至少有一个输入。因此，或门输入的最小数量等于所需最小项的数量，即 $\\binom{4}{2}=6$。", "answer": "$$\\boxed{6}$$", "id": "1923121"}, {"introduction": "在真实的电路设计中，功能正确性仅仅是开始；性能，特别是速度，通常至关重要。这个高级问题探讨了使用解码器和外部逻辑的特定组合方式如何影响其传播延迟。这个思想实验 [@problem_id:1923072] 促使您像设计工程师一样思考，通过策略性地划分输入变量来优化速度，从而分析权衡并做出战略选择，超越简单的功能实现，进入电路优化的领域。", "problem": "一位电气工程师的任务是使用一组有限的元器件来实现一个特定的4变量布尔函数 $F(A, B, C, D)$。该函数由最小项之和定义：\n$$F(A, B, C, D) = \\sum m(0, 2, 5, 7, 8, 10, 13, 15)$$\n可用的元器件及其相关的传播延迟如下：\n- 一个3-8线译码器：从其三个地址输入中的任意一个到其八个输出中的任意一个的传播延迟为 $t_{dec} = 4.0 \\text{ ns}$。\n- 一批标准逻辑门：\n    - 反相器（非门），延迟为 $t_{NOT} = 1.0 \\text{ ns}$。\n    - 2输入与门，延迟为 $t_{AND2} = 1.5 \\text{ ns}$。\n    - 2输入或门，延迟为 $t_{OR2} = 1.5 \\text{ ns}$。\n\n实现策略要求将四个输入变量（$A, B, C, D$）中的三个连接到译码器的地址输入。然后，译码器的八个输出以及第四个剩余的输入变量（称为“外部变量”），必须被用作一个由所提供的外部逻辑门组成的网络的输入，以计算函数 $F$。任何 $k > 2$ 输入的逻辑门都必须由相同类型的2输入门构成的平衡树来构建。例如，一个k输入或门将由一个2输入或门构成的树形结构构建，其延迟为 $\\lceil \\log_2(k) \\rceil \\cdot t_{OR2}$。\n\n你的任务是确定四个输入变量的最佳划分方式，以最小化整个电路的最坏情况传播延迟。最坏情况延迟定义为，四个输入（$A, B, C, D$）中任意一个的信号变化传播到最终输出 $F$ 所需的最长时间。\n\n计算这个可能的最小最坏情况传播延迟。答案以纳秒（ns）为单位表示，并保留三位有效数字。", "solution": "从最小项规范开始\n$F(A,B,C,D)=\\sum m(0,2,5,7,8,10,13,15)$。\n以$A$为最高有效位，$D$为最低有效位进行索引，根据$B$的值进行分离：\n- 当 $B=0$ 时，包含的最小项为 $m(0,2,8,10)$，对于所有的 $A,C$，这些项都对应 $D=0$。 因此 $F|_{B=0}=D'$。\n- 当 $B=1$ 时，包含的最小项为 $m(5,7,13,15)$，对于所有的 $A,C$，这些项都对应 $D=1$。 因此 $F|_{B=1}=D$。\n所以，\n$F=B'D'+BD$，\n即，$F$ 是 $B$ 和 $D$ 的同或（XNOR），与 $A$ 和 $C$ 无关。\n\n为最小化使用给定译码器的最坏情况传播延迟，选择的三个译码器地址输入应包含 $F$ 所依赖的两个变量。因此，将译码器输入设为 $\\{B,C,D\\}$ （或等效地 $\\{A,B,D\\}$），并将剩余的变量（分别为 $A$ 或 $C$）作为外部输入。由于 $F$ 与外部变量无关，因此逻辑电路中无需使用该外部输入。\n\n当译码器输入为 $\\{B,C,D\\}$ 时，对于每个 $(B,C,D)$ 组合，八个输出中只有一个被置为有效。因为 $F=1$ 当且仅当 $B=D$，我们将 $F$ 实现为对应于 $(B,D)=(0,0)$ 和 $(B,D)=(1,1)$（对于 $C$ 的两种取值）的四个译码器输出的或运算。也就是说，$F$ 是译码器输出线的一个4输入或：\n$F=O_{0,0,0}\\lor O_{0,1,0}\\lor O_{1,0,1}\\lor O_{1,1,1}$。\n根据给定规则，一个4输入或门被实现为一个由2输入或门构成的平衡树，其延迟为 $\\lceil \\log_{2}(4)\\rceil t_{OR2}=2\\,t_{OR2}$。\n\n传播延迟分析：\n- 对于 $B$ 或 $D$ 的变化（它们都是译码器输入且 $F$ 依赖于它们），路径延迟为\n$t_{\\text{path}}=t_{dec}+2\\,t_{OR2}$。\n- 对于 $C$ 的变化（它也是一个译码器输入），$F$ 与 $C$ 无关；稳态输出不改变，因此这不会增加最坏情况延迟。\n- 对于外部输入的变化（如果译码器输入为 $\\{B,C,D\\}$，则为 $A$；如果为 $\\{A,B,D\\}$，则为 $C$），$F$ 与该变量无关；同样不会增加最坏情况延迟。\n\n因此，最坏情况传播延迟为\n$t_{\\max}=t_{dec}+2\\,t_{OR2}$。\n代入给定值 $t_{dec}=4.0\\ \\text{ns}$ 和 $t_{OR2}=1.5\\ \\text{ns}$：\n$t_{\\max}=4.0+2\\cdot 1.5=7.0\\ \\text{ns}$。\n\n为完整起见，任何将 $B$ 或 $D$ 作为外部变量的划分都需要构成两个4输入或门来收集相关的译码器输出，然后将结果与外部变量（或其反相）进行与运算，最后再进行一次或运算，得到\n$t_{\\max}=t_{dec}+2\\,t_{OR2}+t_{AND2}+t_{OR2}=t_{dec}+3\\,t_{OR2}+t_{AND2}$，\n代入给定数值为 $4.0+3\\cdot 1.5+1.5=10.0\\ \\text{ns}$，这严格差于 $7.0\\ \\text{ns}$。\n\n因此，最佳划分是将 $B$ 和 $D$（以及 $A$ 或 $C$ 中的任意一个）连接到译码器，并将 $F$ 实现为适当的译码器输出的4输入或运算，从而得到最小最坏情况传播延迟为 $7.00\\ \\text{ns}$。", "answer": "$$\\boxed{7.00}$$", "id": "1923072"}]}