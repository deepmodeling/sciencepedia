{"hands_on_practices": [{"introduction": "理论知识需要通过实践来巩固。要掌握加法器/减法器电路，第一步是学会如何为其配置正确的输入以执行特定运算。本练习将引导你将一个简单的减法问题（$7 - 5$）转化为电路所需的具体二进制输入信号，这能有效帮助你理解控制信号 $M$ 如何通过控制补码运算来实现减法功能。[@problem_id:1958663]", "problem": "一个4位数字电路被设计用作两个4位无符号整数（表示为 $A = A_3A_2A_1A_0$ 和 $B = B_3B_2B_1B_0$）的加法器-减法器。具体操作由一个单比特控制输入 $M$ 选择。当控制输入 $M$ 设置为0时，电路计算和 $S = A + B$。当 $M$ 设置为1时，电路通过计算 $B$ 的二进制补码并将其与 $A$ 相加来计算差 $D = A - B$。\n\n请确定为执行计算 $7 - 5$ 而必须提供给电路的九个独立输入比特（$A_3, A_2, A_1, A_0, B_3, B_2, B_1, B_0$ 和 $M$）各自的二进制值。\n\n请以一个包含九个二进制数字的单行矩阵形式给出你的答案，其中比特从左到右的顺序为 $A_3, A_2, A_1, A_0, B_3, B_2, B_1, B_0, M$。", "solution": "我们使用标准的二进制补码加减法器原理：要用单个加法器计算 $A-B$，需将模式位 $M=1$，将 $B$ 按位取反（记为 $\\overline{B}$），并将 $1$ 作为进位输入相加，因此\n$$\nA-B = A + \\overline{B} + 1.\n$$\n一个4位无符号数 $7$ 表示为 $(0111)_{2}$，所以对于 $A=A_{3}A_{2}A_{1}A_{0}$ 我们有\n$$\nA_{3}=0,\\quad A_{2}=1,\\quad A_{1}=1,\\quad A_{0}=1.\n$$\n一个4位无符号数 $5$ 表示为 $(0101)_{2}$，所以对于 $B=B_{3}B_{2}B_{1}B_{0}$ 我们有\n$$\nB_{3}=0,\\quad B_{2}=1,\\quad B_{1}=0,\\quad B_{0}=1.\n$$\n为执行减法，设置控制输入 $M=1$。\n\n通过二进制补码加法进行可选的正确性检查：\n$$\n\\overline{B} = 1010_2,\\quad \\overline{B}+1 = 1011_2,\\quad A + (\\overline{B}+1) = 0111_2 + 1011_2 = 10010_2,\n$$\n其低4位是 $0010$，即 $(2)_{10}$，与 $7-5=2$ 的结果一致。\n\n因此，所需的输入行（顺序为 $A_{3},A_{2},A_{1},A_{0},B_{3},B_{2},B_{1},B_{0},M$）是\n$$\n\\begin{pmatrix}\n0 & 1 & 1 & 1 & 0 & 1 & 0 & 1 & 1\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}0 & 1 & 1 & 1 & 0 & 1 & 0 & 1 & 1\\end{pmatrix}}$$", "id": "1958663"}, {"introduction": "在学会如何设置电路后，深入了解其内部工作机制至关重要。本练习为你提供了一个观察电路内部运作的窗口，要求你逐位追踪和（sum）与进位（carry）在每个全加器级联结构中的传递过程。通过这个练习，你将揭开二进制加减法运算的神秘面纱，并具体理解行波进位加法器是如何通过简单的逻辑单元迭代，最终完成复杂算术运算的。[@problem_id:1907532]", "problem": "一个4位加减法器电路是简单算术逻辑单元 (ALU) 中的一个基本组成部分。它被设计用来对两个4位二进制数 $A = A_3A_2A_1A_0$ 和 $B = B_3B_2B_1B_0$ 执行加法或减法运算。该运算由一个模式选择位 $M$ 控制。\n\n该电路由四个全加器级联构成。对于每一级 $i$（从0代表最低有效位到3代表最高有效位），一个全加器接收三个输入：$A_i$、第二个操作数位以及一个进位输入位 $C_i$。它产生一个和位 $S_i$ 和一个进位输出位 $C_{i+1}$。\n\n该电路的功能如下：\n- 执行加法 ($A+B$) 时，控制位 $M=0$。在此模式下，$B$ 的各位直接传递给全加器，第一级的初始进位输入 $C_0=0$。\n- 执行减法 ($A-B$) 时，控制位 $M=1$。电路通过计算 $B$ 的补码并将其与 $A$ 相加来完成减法运算。这在硬件上通过将 $B$ 的每一位在进入加法器前取反，并将第一级的初始进位输入 $C_0=1$ 来实现。\n\n考虑电路执行从 $A = 0101_2$ 中减去 $B = 0011_2$ 的情况。请确定4位二进制和 $S = S_3S_2S_1S_0$ 以及分别由全加器第0、1、2、3级产生的进位输出序列 $C_1C_2C_3C_4$。\n\n以下哪个选项正确表示了最终的和以及内部进位序列？\n\nA. 和 $S = 0010$ 且进位 $C_{1}C_{2}C_{3}C_{4} = 1011$\nB. 和 $S = 0001$ 且进位 $C_{1}C_{2}C_{3}C_{4} = 0111$\nC. 和 $S = 1001$ 且进位 $C_{1}C_{2}C_{3}C_{4} = 1110$\nD. 和 $S = 1000$ 且进位 $C_{1}C_{2}C_{3}C_{4} = 1110$\nE. 和 $S = 0010$ 且进位 $C_{1}C_{2}C_{3}C_{4} = 0101$", "solution": "对于一个使用补码的4位加减法器，模式位 $M$ 控制 $B$ 的取反和初始进位：当执行 $A-B$ 时，我们设置 $M=1$，取 $B_{i}'=B_{i}\\oplus M=\\overline{B_{i}}$，且 $C_{0}=M=1$。每个全加器级满足\n$$\nS_{i}=A_{i}\\oplus B_{i}'\\oplus C_{i},\\qquad C_{i+1}=A_{i}B_{i}'+A_{i}C_{i}+B_{i}'C_{i}.\n$$\n给定 $A=0101$，其各位为 $(A_{3},A_{2},A_{1},A_{0})=(0,1,0,1)$，以及 $B=0011$，其各位为 $(B_{3},B_{2},B_{1},B_{0})=(0,0,1,1)$，对于减法运算 ($M=1$)，我们有 $B'=\\overline{B}=1100$，所以 $(B_{3}',B_{2}',B_{1}',B_{0}')=(1,1,0,0)$ 并且 $C_{0}=1$。\n\n第 $i=0$ 级：\n$$\nS_{0}=A_{0}\\oplus B_{0}'\\oplus C_{0}=1\\oplus 0\\oplus 1=0,\n$$\n$$\nC_{1}=A_{0}B_{0}'+A_{0}C_{0}+B_{0}'C_{0}=(1)(0)+(1)(1)+(0)(1)=1.\n$$\n\n第 $i=1$ 级：\n$$\nS_{1}=A_{1}\\oplus B_{1}'\\oplus C_{1}=0\\oplus 0\\oplus 1=1,\n$$\n$$\nC_{2}=A_{1}B_{1}'+A_{1}C_{1}+B_{1}'C_{1}=(0)(0)+(0)(1)+(0)(1)=0.\n$$\n\n第 $i=2$ 级：\n$$\nS_{2}=A_{2}\\oplus B_{2}'\\oplus C_{2}=1\\oplus 1\\oplus 0=0,\n$$\n$$\nC_{3}=A_{2}B_{2}'+A_{2}C_{2}+B_{2}'C_{2}=(1)(1)+(1)(0)+(1)(0)=1.\n$$\n\n第 $i=3$ 级：\n$$\nS_{3}=A_{3}\\oplus B_{3}'\\oplus C_{3}=0\\oplus 1\\oplus 1=0,\n$$\n$$\nC_{4}=A_{3}B_{3}'+A_{3}C_{3}+B_{3}'C_{3}=(0)(1)+(0)(1)+(1)(1)=1.\n$$\n\n因此，和为 $S_{3}S_{2}S_{1}S_{0}=0010$，进位序列为 $C_{1}C_{2}C_{3}C_{4}=1011$，这对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1907532"}, {"introduction": "数字电路的位宽是有限的，这意味着计算结果可能超出其表示范围，从而引发“溢出”（overflow）错误。本练习旨在探讨这一关键概念，通过分析同一个加法运算在无符号数（unsigned）和有符号数（signed）两种不同解释下的行为，揭示溢出检测的差异。正确预测和处理溢出是数字系统设计中的一项核心技能，因为它可以避免潜在的、灾难性的计算错误。[@problem_id:1907528]", "problem": "一位工程师正在设计一个简单的4位算术逻辑单元 (ALU)。该ALU接收两个4位的二进制输入 $A$ 和 $B$，以及一个1位的控制信号 $S$。该ALU根据 $S$ 的值执行以下两种操作之一：\n- 如果 $S=0$，ALU计算和 $F = A + B$。\n- 如果 $S=1$，ALU计算差 $F = A - B$。减法通过将 $B$ 的二进制补码加到 $A$ 上来实现。\n\n该电路产生一个4位的结果 $F$。如果运算的真实数学结果无法在给定的数字表示法下用4位输出表示，则会发生溢出。对于无符号数，有效范围是 $[0, 15]$。对于有符号二进制补码数，有效范围是 $[-8, 7]$。\n\n考虑输入 $A = 0101_2$ 和 $B = 0110_2$。在无符号和有符号二进制补码两种解释下分析ALU的行为。以下哪个陈述是正确的？\n\nA. 对于加法操作（$S=0$），在有符号解释下发生溢出，但在无符号解释下不发生溢出。\nB. 对于加法操作（$S=0$），在有符号和无符号解释下都发生溢出。\nC. 对于减法操作（$S=1$），在有符号解释下发生溢出，但在无符号解释下不发生溢出。\nD. 对于减法操作（$S=1$），在有符号和无符号解释下都发生溢出。\nE. 加法操作在无符号解释下发生溢出，且减法操作在有符号解释下发生溢出。", "solution": "给定 $A=0101_{2}$ 和 $B=0110_{2}$。\n\n加法情况 ($S=0$)：\n计算4位和：\n$$F=A+B=0101_{2}+0110_{2}=1011_{2}。$$\n- 无符号解释：$0101_{2}=5$，$0110_{2}=6$，所以真实结果是 $5+6=11$。因为 $11\\in[0,15]$，所以没有无符号溢出。等价地，最高有效位的进位是 $0$，所以无符号溢出不会发生。\n- 有符号二进制补码解释：$0101_{2}=+5$，$0110_{2}=+6$，所以真实结果是 $+11$，但可表示范围是 $[-8,7]$，因此 $+11\\notin[-8,7]$ 且发生有符号溢出。一致地，两个正数相加得到了 $1011_{2}$（一个负数），表明发生了有符号溢出。\n\n减法情况 ($S=1$)：\n实现为 $F=A+(\\text{two's complement of }B)$。\n计算 $B$ 的二进制补码：按位取反再加 $1$，\n$\\overline{0110_{2}}=1001_{2}$，$1001_{2}+0001_{2}=1010_{2}$。\n那么\n$F=A+(-B)=0101_{2}+1010_{2}=1111_{2}$。\n- 无符号解释：真实结果是 $5-6=-1$，由于 $-1\\notin[0,15]$，因此发生无符号溢出（回绕的结果 $1111_{2}=15$ 不能反映真实结果）。\n- 有符号二进制补码解释：真实结果是 $+5-+6=-1$，它在 $[-8,7]$ 范围内，并且 $1111_{2}$ 确实表示 $-1$，所以没有发生有符号溢出。\n\n因此，对于加法，在有符号解释下发生溢出，但在无符号解释下则没有，这与选项A相符，而对于减法，并未发生相反的情况。\n\n因此正确的陈述是A。", "answer": "$$\\boxed{A}$$", "id": "1907528"}]}