{"hands_on_practices": [{"introduction": "本练习将带你设计一个将4位余三码 (Excess-3) 转换为4位BCD码的组合电路。这项任务在处理需要与现代显示设备接口的旧式数字系统时非常常见。通过这个练习，你将巩固使用卡诺图进行逻辑简化的核心技能，特别是学习如何利用“无关项” (don't-care conditions) 来获得最简的逻辑表达式 [@problem_id:1922585]。", "problem": "在一个旧式数字算术单元中，数字使用4位余3码表示。为了与现代显示器接口，需要一个组合逻辑电路将每个有效的4位余3码数字转换回其标准的4位二进制编码的十进制（BCD）表示。\n\nBCD码用其4位无符号二进制等价值（0000到1001）来表示十进制数字0到9。余3码是通过将十进制数字的BCD表示加上3（二进制0011）而形成的。例如，十进制数5的BCD码是0101，因此其余3码表示为 $0101 + 0011 = 1000$。\n\n您的任务是确定此转换器的简化布尔逻辑。该转换器接收一个4位余3码输入，表示为 $E_3E_2E_1E_0$（其中 $E_3$ 是最高有效位 (MSB)），并产生一个4位BCD输出，表示为 $B_3B_2B_1B_0$（其中 $B_3$ 是最高有效位）。在余3码中不对应任何有效十进制数字（0-9）的输入组合可以被视为无关项（don't-care conditions）以简化逻辑。\n\n选择为BCD输出位提供正确的四个简化布尔表达式集的选项。在下面的表达式中，撇号（例如 $E'$）表示非（NOT）运算，并置表示与（AND）运算（例如 $XY$ 是 $X \\text{ AND } Y$），加号（$+$）表示或（OR）运算。符号 $\\oplus$ 表示异或（XOR）运算。\n\nA.\n$B_3 = E_3 E_2 + E_3 E_1 E_0$\n$B_2 = E_2'E_1' + E_2'E_0' + E_2E_1E_0$\n$B_1 = E_1 \\oplus E_0$\n$B_0 = E_0'$\n\nB.\n$B_3 = E_3 E_2$\n$B_2 = E_2'E_1' + E_2'E_0'$\n$B_1 = E_1 \\oplus E_0$\n$B_0 = E_0'$\n\nC.\n$B_3 = E_3 E_2' + E_3 E_1' E_0'$\n$B_2 = E_2'(E_1+E_0) + E_2E_1'E_0'$\n$B_1 = E_1 \\oplus E_0$\n$B_0 = E_0'$\n\nD.\n$B_3 = E_3 E_2 + E_3 E_1 E_0$\n$B_2 = E_2'E_1' + E_2'E_0' + E_2E_1E_0$\n$B_1 = (E_1 \\oplus E_0)'$\n$B_0 = E_0$\n\nE.\n$B_3 = E_3+E_2+E_1+E_0$\n$B_2 = E_2(E_1+E_0)$\n$B_1 = E_1 E_0$\n$B_0 = E_0'$", "solution": "一个余3码数字是 $E= \\text{BCD} + 3$。对于十进制数字 $d=0$ 到 $9$，有效的4位余3码输入 $E_{3}E_{2}E_{1}E_{0}$ 及其对应的BCD输出 $B_{3}B_{2}B_{1}B_{0}$ 如下：\n$$\n\\begin{aligned}\n0011 &\\to 0000,\\\\\n0100 &\\to 0001,\\\\\n0101 &\\to 0010,\\\\\n0110 &\\to 0011,\\\\\n0111 &\\to 0100,\\\\\n1000 &\\to 0101,\\\\\n1001 &\\to 0110,\\\\\n1010 &\\to 0111,\\\\\n1011 &\\to 1000,\\\\\n1100 &\\to 1001.\n\\end{aligned}\n$$\n所有其他的4位输入都是无关项：$\\{0000,0001,0010,1101,1110,1111\\}$。\n\n$B_{0}$的推导：从表中可以看出，对于所有有效输入，当 $E_{0}=1$ 时 $B_{0}=0$，当 $E_{0}=0$ 时 $B_{0}=1$，因此\n$$\nB_{0}=E_{0}'.\n$$\n\n$B_{1}$的推导：从表中可以看出，对于所有有效输入，$B_{1}=1$ 当且仅当 $E_{1}\\neq E_{0}$，因此\n$$\nB_{1}=E_{1}\\oplus E_{0}.\n$$\n\n$B_{2}$的推导：$B_{2}=1$ 的最小项是 $E=0111,1000,1001,1010$，即：\n$$\nB_{2} = E_{3}'E_{2}E_{1}E_{0} + E_{3}E_{2}'E_{1}'E_{0}' + E_{3}E_{2}'E_{1}'E_{0} + E_{3}E_{2}'E_{1}E_{0}'.\n$$\n使用无关项来展开蕴含项：\n- 将 $E_{3}'E_{2}E_{1}E_{0}$ 与在 $1111$ 处的无关项结合得到 $E_{2}E_{1}E_{0}$。\n- 将 $E_{3}E_{2}'E_{1}'E_{0}'$ 和 $E_{3}E_{2}'E_{1}'E_{0}$ 结合，并利用在 $0000,0001$ 处的无关项展开得到 $E_{2}'E_{1}'$。\n- 将 $E_{3}E_{2}'E_{1}'E_{0}'$ 和 $E_{3}E_{2}'E_{1}E_{0}'$ 结合，并利用在 $0000,0010$ 处的无关项展开得到 $E_{2}'E_{0}'$。\n因此\n$$\nB_{2} = E_{2}'E_{1}' + E_{2}'E_{0}' + E_{2}E_{1}E_{0}.\n$$\n\n$B_{3}$的推导：$B_{3}=1$ 的最小项是 $E=1011,1100$，即：\n$$\nB_{3} = E_{3}E_{2}'E_{1}E_{0} + E_{3}E_{2}E_{1}'E_{0}'.\n$$\n使用无关项展开：\n- 利用在 $1101,1110,1111$ 处的无关项将 $E_{3}E_{2}E_{1}'E_{0}'$ 展开为 $E_{3}E_{2}$。\n- 利用在 $1111$ 处的无关项将 $E_{3}E_{2}'E_{1}E_{0}$ 展开为 $E_{3}E_{1}E_{0}$。\n因此\n$$\nB_{3} = E_{3}E_{2} + E_{3}E_{1}E_{0}.\n$$\n\n汇总结果：\n$$\nB_{3} = E_{3}E_{2} + E_{3}E_{1}E_{0},\\quad\nB_{2} = E_{2}'E_{1}' + E_{2}'E_{0}' + E_{2}E_{1}E_{0},\\quad\nB_{1} = E_{1}\\oplus E_{0},\\quad\nB_{0} = E_{0}'.\n$$\n这与选项A相符。", "answer": "$$\\boxed{A}$$", "id": "1922585"}, {"introduction": "从抽象的逻辑表达式到实际的硬件实现是数字设计的关键一步。这个练习要求你仅使用2输入或非门 (NOR gates) 来构建一个3位二进制到格雷码的转换器 [@problem_id:1922589]。这个挑战将促使你思考如何利用通用逻辑门来实现特定的逻辑功能（如异或），并以最少的门数量完成设计，从而加深对门级电路综合与优化的理解。", "problem": "设计一个数字电路，用于将一个3位二进制数转换为其对应的3位反射格雷码。二进制输入由位 $B_2B_1B_0$ 表示，其中 $B_2$ 是最高有效位 (MSB)。格雷码输出由 $G_2G_1G_0$ 表示，其中 $G_2$ 是最高有效位。\n\n转换遵循以下标准逻辑规则：\n- 格雷码的最高有效位与二进制输入的最高有效位相同：$G_2 = B_2$。\n- 下一个格雷码位是两个相应二进制位的异或 (XOR)：$G_1 = B_2 \\oplus B_1$。\n- 格雷码的最低有效位 (LSB) 是两个相应二进制位的异或：$G_0 = B_1 \\oplus B_0$。\n\n整个转换电路必须仅使用2输入或非门实现。假设输入 $B_2$、$B_1$ 和 $B_0$ 是直接可用的，构建此转换器所需的最少2输入或非门数量是多少？", "solution": "将双输入或非运算定义为 $A \\downarrow B = \\overline{A + B}$，其中 $+$ 是逻辑或，上划线表示逻辑非。通过将输入连接在一起可以实现单输入反相：$A \\downarrow A = \\bar{A}$。\n\n首先，从非互补输入 $A,B$ 推导出 XNOR 的4个或非门实现：\n- 令 $X_{1} = A \\downarrow B = \\overline{A + B}$。\n- 令 $X_{2} = A \\downarrow X_{1} = \\overline{A + \\overline{A + B}}$。根据 De Morgan 定律，$\\overline{A + \\overline{A + B}} = \\bar{A}B$。\n- 令 $X_{3} = B \\downarrow X_{1} = \\overline{B + \\overline{A + B}} = A\\bar{B}$。\n- 那么 $X_{4} = X_{2} \\downarrow X_{3} = \\overline{\\bar{A}B + A\\bar{B}} = \\overline{A \\oplus B}$，即 $X_{4}$ 是 XNOR$(A,B)$。\n\n因此，XOR 可以通过一次额外的反相获得：\n$$\nA \\oplus B = \\overline{X_{4}} = X_{4} \\downarrow X_{4},\n$$\n因此，从非互补输入实现 XOR 需要 $5$ 个双输入或非门。\n\n然而，观察恒等式\n$$\n\\bar{A} \\odot B \\equiv \\bar{A}B + A\\bar{B} = A \\oplus B,\n$$\n即，XOR$(A,B)$ 等于 XNOR$(\\bar{A},B)$。因此，如果一个输入以其互补形式（反相）可用，则仅用4个或非门的 XNOR 网络即可实现 XOR（无需最终反相）。\n\n将此应用于所需的输出：\n- $G_{2} = B_{2}$ 是直接连接，需要 $0$ 个门（输入是直接可用的）。\n- 为了用最少数量的或非门计算 $G_{1} = B_{2} \\oplus B_{1}$ 和 $G_{0} = B_{1} \\oplus B_{0}$，首先使用一个或非门生成一次 $\\bar{B}_{1}$：$\\bar{B}_{1} = B_{1} \\downarrow B_{1}$。\n- 使用上述的4或非门 XNOR 网络（其中 $A = B_{2}$ 且 $B = \\bar{B}_{1}$）将 $G_{1}$ 实现为 XNOR$(B_{2}, \\bar{B}_{1})$，这等于 $B_{2} \\oplus B_{1}$。\n- 使用相同的4或非门 XNOR 网络（其中 $A = \\bar{B}_{1}$ 且 $B = B_{0}$）将 $G_{0}$ 实现为 XNOR$(\\bar{B}_{1}, B_{0})$，这等于 $B_{1} \\oplus B_{0}$。\n\n门数量统计：\n- 一个或非门用于生成 $\\bar{B}_{1}$。\n- 四个或非门用于 XNOR$(B_{2}, \\bar{B}_{1})$ 以产生 $G_{1}$。\n- 四个或非门用于 XNOR$(\\bar{B}_{1}, B_{0})$ 以产生 $G_{0}$。\n- $G_{2} = B_{2}$ 需要零个门。\n\n2输入或非门的总数为 $1 + 4 + 4 = 9$。\n\n这是最小值，因为：\n- 任何从非互补输入实现的 XOR 都需要至少 $5$ 个双输入或非门；如果提供一个互补输入，则减少到 $4$ 个（如上构建）。\n- 两个 XOR 输出只能共享单个互补信号 $\\bar{B}_{1}$；没有其他内部节点可被这两个不同的 XOR 共享。因此，下界 $4 + 4 + 1 = 9$ 是紧确的，并且通过上面的构建方法达到了这个下界。", "answer": "$$\\boxed{9}$$", "id": "1922589"}, {"introduction": "现代数字系统通常需要具备灵活性和多功能性。本练习将指导你设计一个可重构的代码转换器，它能根据一个模式选择输入，将3位二进制数转换为单热码 (one-hot code) 或温度计码 (thermometer code) [@problem_id:1922558]。这个更高级的设计任务不仅向你介绍了两种在特定应用中非常重要的编码方式，还训练你如何通过模式选择来管理和实现多功能电路，这在复杂系统设计中是一项至关重要的技能。", "problem": "一个专门的算术逻辑单元 (ALU) 需要一个可重构的代码转换器。该数字电路接受一个3位无符号二进制数，由输入 $B_2B_1B_0$ 表示，其中 $B_2$ 是最高有效位。输入的十进制值由 $k = 4B_2 + 2B_1 + B_0$ 给出。该电路还有一个单模式选择输入 $M$。该转换器产生一个8位输出 $Y_7Y_6...Y_0$。\n\n该电路根据 $M$ 的值在两种不同的模式下运行：\n\n1.  **独热模式 ($M=0$)：** 在此模式下，电路执行二进制到独热码的转换。对于给定的十进制输入值 $k$，相应的输出位 $Y_k$ 被设置为逻辑1，而所有其他输出位被设置为逻辑0。\n\n2.  **温度计模式 ($M=1$)：** 在此模式下，电路执行二进制到温度计码的转换。对于给定的十进制输入值 $k$，所有索引 $j$ 小于或等于 $k$（即 $j \\le k$）的输出位 $Y_j$ 都被设置为逻辑1。所有其他输出位（其中 $j > k$）被设置为逻辑0。\n\n您的任务是确定单个输出位的简化逻辑。请找出输出位 $Y_5$ 关于四个输入变量 $M, B_2, B_1,$ 和 $B_0$ 的最小积之和式 (SOP)布尔表达式。使用标准的布尔代数表示法，其中加法 ($+$) 表示或运算，乘法（并列）表示与运算，撇号 ($'$) 表示非运算 (NOT)。", "solution": "问题要求解输出位 $Y_5$ 的最小积之和 (SOP) 布尔表达式。$Y_5$ 的行为取决于模式选择输入 $M$ 和3位二进制输入 $B_2B_1B_0$。我们可以使用一个基于模式选择 $M$ 的类似多路复用器的结构来表示任何输出位 $Y_k$ 的逻辑：\n$$Y_k = M' (Y_k \\text{ 的独热模式表达式}) + M (Y_k \\text{ 的温度计模式表达式})$$\n让我们将位 $k$ 的独热逻辑表示为 $H_k$，温度计逻辑表示为 $T_k$。那么 $Y_5$ 的表达式为：\n$$Y_5 = M' H_5 + M T_5$$\n\n首先，我们确定 $H_5$ 的布尔表达式。\n在独热模式下，只有当输入的十进制值恰好为 $k$ 时，输出位 $Y_k$ 才为1。对于 $Y_5$ 来说，这意味着只有当输入二进制数是5的表示形式，即 $B_2B_1B_0 = 101$ 时，它才为1。\n这对应于 $B_2=1$, $B_1=0$, 和 $B_0=1$ 的最小项。\n因此，$H_5$ 的表达式是：\n$$H_5 = B_2 B_1' B_0$$\n\n其次，我们确定 $T_5$ 的布尔表达式。\n在温度计模式下，如果输入十进制值 $k$ 大于或等于 $j$ ($k \\ge j$)，则输出位 $Y_j$ 为1。对于我们的特定输出位 $Y_5$，这意味着只要输入值 $k$ 为 5、6 或 7，$T_5$ 就为1。\n我们需要找到条件 $k \\ge 5$ 的简化布尔表达式。满足此条件的输入值为：\n- $k=5 \\implies B_2B_1B_0 = 101$\n- $k=6 \\implies B_2B_1B_0 = 110$\n- $k=7 \\implies B_2B_1B_0 = 111$\n\n这些情况的最小项之和是：\n$$T_5 = B_2 B_1' B_0 + B_2 B_1 B_0' + B_2 B_1 B_0$$\n我们可以使用布尔代数简化这个表达式：\n$$T_5 = B_2 B_1' B_0 + B_2 B_1 (B_0' + B_0)$$\n因为 $B_0' + B_0 = 1$：\n$$T_5 = B_2 B_1' B_0 + B_2 B_1$$\n提取公因式 $B_2$：\n$$T_5 = B_2 (B_1' B_0 + B_1)$$\n使用吸收律 $X+X'Y = X+Y$：\n$$T_5 = B_2 (B_1 + B_0)$$\n因此，温度计逻辑部分的简化表达式是 $T_5 = B_2(B_1 + B_0)$，展开为 $B_2 B_1 + B_2 B_0$。\n\n现在，我们将 $H_5$ 和 $T_5$ 的表达式代回到 $Y_5$ 的主方程中：\n$$Y_5 = M' (B_2 B_1' B_0) + M (B_2 (B_1 + B_0))$$\n$$Y_5 = M' B_2 B_1' B_0 + M B_2 B_1 + M B_2 B_0$$\n这是一个有效的SOP表达式，但它可能不是最简的。为了找到最小SOP，我们可以使用一个关于函数 $Y_5(M, B_2, B_1, B_0)$ 的四变量卡诺图 (K-map)。$Y_5=1$ 的最小项是：\n- 来自 $M' B_2 B_1' B_0$：$MB_2B_1B_0 = 0101$ (最小项 5)\n- 来自 $M B_2 B_1$：$MB_2B_1B_0 = 1110$ (最小项 14) 和 $1111$ (最小项 15)\n- 来自 $M B_2 B_0$：$MB_2B_1B_0 = 1101$ (最小项 13) 和 $1111$ (最小项 15)\n\n卡诺图如下，行代表 $MB_2$，列代表 $B_1B_0$：\n$$\n\\begin{array}{c|cccc}\nY_5 & B_1B_0=00 & 01 & 11 & 10 \\\\\n\\hline\nMB_2=00 & 0 & 0 & 0 & 0 \\\\\nMB_2=01 & 0 & 1 & 0 & 0 \\\\\nMB_2=11 & 0 & 1 & 1 & 1 \\\\\nMB_2=10 & 0 & 0 & 0 & 0 \\\\\n\\end{array}\n$$\n1s 位于位置 $(M,B_2,B_1,B_0) = (0,1,0,1)$, $(1,1,0,1)$, $(1,1,1,1)$, 和 $(1,1,1,0)$。\n\n我们将 1s 分组以找到质蕴涵项：\n- 最小项 5 ($0101$) 处的 `1` 可以与最小项 13 ($1101$) 处的 `1` 分组。这个组合与 $M$ 无关，对应于项 $B_2 B_1' B_0$。这是一个本质质蕴涵项，因为最小项 5 仅被这个组合覆盖。\n- 最小项 14 ($1110$) 处的 `1` 可以与最小项 15 ($1111$) 处的 `1` 分组。这个组合对应于项 $M B_2 B_1$。这是一个本质质蕴涵项，因为最小项 14 仅被这个组合覆盖。\n\n这两个本质质蕴涵项覆盖了图上所有的 1：\n- 第一个组合 ($B_2 B_1' B_0$) 覆盖了最小项 5 和 13。\n- 第二个组合 ($M B_2 B_1$) 覆盖了最小项 14 和 15。\n它们共同覆盖了所有必需的最小项 (5, 13, 14, 15)。\n\n因此，$Y_5$ 的最小积之和表达式是这两个本质质蕴涵项的和：\n$$Y_5 = B_2 B_1' B_0 + M B_2 B_1$$", "answer": "$$\\boxed{B_2 B_1' B_0 + M B_2 B_1}$$", "id": "1922558"}]}