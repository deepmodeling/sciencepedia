{"hands_on_practices": [{"introduction": "在着手设计任何复杂数字系统时，首要步骤之一就是进行资源规划。本练习将引导你完成一个基本但至关重要的计算：如何确定用较小的标准组件构建一个大型多路选择器（MUX）所需的单元数量。通过解决这个问题，你将掌握构建多级级联电路所需的系统性思维方式。[@problem_id:1920031]", "problem": "一位数字系统工程师的任务是设计一个需要单个具有1024个数据输入的大型多路复用器（MUX）的电路。零件库中唯一可用的元件是足够数量的8选1 MUX。为了实现所需的1024选1功能，工程师必须通过级联可用的8选1 MUX来构建一个多级电路。这涉及到将一级MUX的输出用作下一级MUX的输入，如此继续，直到产生单个最终输出。计算构建这个1024选1 MUX所需的8选1 MUX的总数。", "solution": "问题要求计算构建一个1024选1 MUX所需的8选1多路复用器（MUX）的总数。这可以通过逐级考虑级联MUX的结构来解决。\n\n**第一级：**\n主要目标是处理1024个初始数据输入。由于每个可用的MUX都是8选1 MUX，它可以接收8个输入并选择其中一个。为了容纳所有1024个输入，我们将它们分成8个一组。这第一级所需的MUX数量是总输入数除以每个MUX的输入数。\n第一级的MUX数量 = $\\frac{1024}{8} = 128$。\n这第一级的128个MUX产生128个输出，每个MUX一个。\n\n**第二级：**\n来自第一级的128个输出现在成为电路第二级的输入。我们需要从这128个信号中选择一个。我们再次使用8选1MUX。这一级所需的MUX数量是输入数（128）除以8。\n第二级的MUX数量 = $\\frac{128}{8} = 16$。\n这第二级的16个MUX产生16个输出。\n\n**第三级：**\n来自第二级的16个输出是第三级的输入。我们需要从这16个信号中选择一个。所需的MUX数量是通过将这16个输入分成8个一组来找到的。\n第三级的MUX数量 = $\\lceil \\frac{16}{8} \\rceil = 2$。\n这两个MUX将产生2个输出。第一个MUX将处理输入1到8，第二个MUX将处理输入9到16。第二个MUX上未使用的输入通常接地（逻辑低电平）或接电源（逻辑高电平），但这并不改变所需的MUX器件数量。\n\n**第四级：**\n来自第三级的2个输出是最终选择级的输入。我们需要从这两个信号中选择一个，以产生1024选1 MUX的最终单个输出。我们必须使用一个8选1 MUX来完成这个任务，因为它是唯一可用的元件。\n第四级的MUX数量 = $\\lceil \\frac{2}{8} \\rceil = 1$。\n这个最终的MUX将接收2个输入并产生唯一的最终输出。\n\n**MUX总数：**\n8选1 MUX的总数是所有级别中使用的MUX数量之和。\nMUX总数 = (第一级的MUX数) + (第二级的MUX数) + (第三级的MUX数) + (第四级的MUX数)\nMUX总数 = $128 + 16 + 2 + 1 = 147$。\n\n因此，总共需要147个8选1 MUX。", "answer": "$$\\boxed{147}$$", "id": "1920031"}, {"introduction": "理解了级联多路选择器的宏观结构后，下一步是深入其内部工作机制。本练习要求你追踪特定选择信号下的数据路径，这将帮助你精确理解选择位是如何被划分并用于控制不同层级的。通过这个实践，你将把抽象的电路图与具体的数据流联系起来，巩固对多路选择器功能的深刻认识。[@problem_id:1920039]", "problem": "在一门数字系统设计课程中，一名学生需要通过级联更小的、现成的4选1 MUX组件来创建一个16选1多路复用器（MUX）。整个电路有16个数据输入，记为 $D_0, D_1, \\dots, D_{15}$，以及一个单一输出 $Y$。选择由一个4位二进制数控制，该数由选择线 $S_3S_2S_1S_0$ 表示，其中 $S_3$ 是最高有效位。\n\n该设计分两个阶段实现。第一阶段由四个4选1 MUX组成，分别标记为MUX-0、MUX-1、MUX-2和MUX-3。第二阶段由一个单一的4选1 MUX组成，标记为MUX-FINAL。\n\n接线配置如下：\n- 两个最低有效选择线 $S_1$ 和 $S_0$ 连接到所有四个第一阶段MUX（MUX-0、MUX-1、MUX-2和MUX-3）的选择输入端。对于任何一个4选1 MUX，选择位 $s_1s_0$（其中 $s_1$ 是最高有效位）选择输入 $I_k$，其中 $k$ 是 $s_1s_0$ 的十进制值。\n- 数据输入 $D_0, D_1, D_2, D_3$ 分别连接到 MUX-0 的输入端 $I_0, I_1, I_2, I_3$。\n- 数据输入 $D_4, D_5, D_6, D_7$ 分别连接到 MUX-1 的输入端 $I_0, I_1, I_2, I_3$。\n- 数据输入 $D_8, D_9, D_{10}, D_{11}$ 分别连接到 MUX-2 的输入端 $I_0, I_1, I_2, I_3$。\n- 数据输入 $D_{12}, D_{13}, D_{14}, D_{15}$ 分别连接到 MUX-3 的输入端 $I_0, I_1, I_2, I_3$。\n- MUX-0、MUX-1、MUX-2和MUX-3的输出分别连接到MUX-FINAL的输入端 $I_0, I_1, I_2, I_3$。\n- 两个最高有效选择线 $S_3$ 和 $S_2$ 连接到MUX-FINAL的选择输入端，其中 $S_3$ 为高位。\n\n如果全局选择线设置为 $S_3S_2S_1S_0 = 1011$，那么被传递到最终输出 $Y$ 的数据输入线 $D_i$ 的整数索引 $i$ 是多少？", "solution": "一个具有选择位 $s_{1}$ (MSB) 和 $s_{0}$ 的4选1 MUX 选择输入 $I_{k}$，其中 $k$ 是 $s_{1}s_{0}$ 的十进制值，即 $k=2s_{1}+s_{0}$。在这个两级级联结构中，第二级MUX (MUX-FINAL) 使用 $S_{3}$ (MSB)和 $S_{2}$ 来选择哪个第一级MUX的输出被转发。因此，MUX-FINAL 所选择的组索引是\n$$\nk_{\\text{final}}=2S_{3}+S_{2}.\n$$\n每个第一级的MUX使用 $S_{1}$ (MSB) 和 $S_{0}$ 来选择其四个输入之一，所以在所选组内，索引是\n$$\nk_{\\text{inner}}=2S_{1}+S_{0}.\n$$\n因为这些组对应于四个连续数据线的块，所以总的所选数据索引是\n$$\ni=4k_{\\text{final}}+k_{\\text{inner}}=4\\left(2S_{3}+S_{2}\\right)+\\left(2S_{1}+S_{0}\\right)=8S_{3}+4S_{2}+2S_{1}+S_{0}.\n$$\n当 $S_{3}S_{2}S_{1}S_{0}=1011$ 时，我们有 $S_{3}=1$，$S_{2}=0$，$S_{1}=1$，$S_{0}=1$，因此\n$$\ni=8\\cdot 1+4\\cdot 0+2\\cdot 1+1=11.\n$$\n等效地，当 $S_{3}S_{2}=10$ 时，在MUX-FINAL处选择MUX-2。当 $S_{1}S_{0}=11$ 时，在MUX-2内部选择输入 $I_{3}$，它连接到 $D_{11}$。", "answer": "$$\\boxed{11}$$", "id": "1920039"}, {"introduction": "真正的工程挑战不仅在于设计，还在于诊断和调试。这个练习模拟了一个常见的制造缺陷——接线错误，以此来检验你对多路选择器级联原理的掌握是否牢固。通过分析这个故障如何改变电路的逻辑功能，你将更深刻地理解物理连接与逻辑行为之間的因果关系，这对于培养高级问题解决能力至关重要。[@problem_id:1920059]", "problem": "一位数字系统工程师正在设计一个8-to-1多路复用器（MUX）。一个标准的8-to-1 MUX有八个数据输入，表示为$D_0, D_1, \\dots, D_7$，以及三条外部选择线，$S_2, S_1, S_0$，其中$S_2$是最高有效位。单个输出$Y$等于数据输入$D_i$，其中索引$i$是由二进制数$S_2S_1S_0$所表示的整数值。例如，如果选择线是$(S_2, S_1, S_0) = (1, 0, 1)$，则输出为$Y=D_5$。\n\n该工程师通过将七个2-to-1 MUX以标准的三级树形结构级联来实现此设备。为保证正常工作，该结构要求选择线的连接如下：\n- 第一级（最靠近数据输入端）的四个MUX都由最低有效位$S_0$控制。\n- 第二级的两个MUX由中间位$S_1$控制。\n- 最后一级（产生输出$Y$）的单个MUX由最高有效位$S_2$控制。\n\n然而，由于制造缺陷，发生了一个接线错误。最高有效位（$S_2$）和最低有效位（$S_0$）的外部选择线在连接到级联MUX结构之前被交换了。中间选择线$S_1$的连接保持正确。\n\n由于这个故障，多路复用器不再按预期工作。被选中的数据输入的索引，我们称之为$i'$，现在是外部选择线$S_2, S_1, S_0$的一个新函数。您的任务是确定这种新关系。将错误的索引$i'$表示为一个仅包含$S_2, S_1,$和$S_0$的算术表达式。在此表达式中，将选择线变量视为值为0或1的整数。", "solution": "问题要求在发生特定接线故障后，将被选中的数据输入$D_{i'}$的新索引$i'$表示为外部选择线$S_2, S_1, S_0$的函数。\n\n首先，我们来确定正确的功能和结构。在一个接线正确的8-to-1 MUX中，被选中的输入$D_i$的索引$i$由选择线$S_2S_1S_0$的二进制值决定。这可以写成一个算术表达式：\n$i = 4S_2 + 2S_1 + S_0$。\n\n该结构是一个由2-to-1 MUX构成的三级树。我们根据控制每一级的选择线来追踪信号路径。\n- **第3级（最终输出级）：** 这个单一的MUX决定了原始输入中的哪一半被通过。在正确的设计中，它由$S_2$控制。$S_2=0$的值会从下半部分（$D_0$到$D_3$）中选择，而$S_2=1$会从上半部分（$D_4$到$D_7$）中选择。这个决定为索引$i$贡献了最高有效位（'4'位）。\n- **第2级（中间级）：** 这两个MUX由$S_1$控制。在由第3级选定的每一半内部，这一级会选择一对输入。例如，如果选择了下半部分，$S_1=0$会选择来自$(D_0, D_1)$的路径，而$S_1=1$会选择来自$(D_2, D_3)$的路径。这个决定为索引$i$贡献了中间位（'2'位）。\n- **第1级（输入级）：** 这四个MUX由$S_0$控制。这一级在两个单独的输入（例如，$D_0$或$D_1$）之间做出最终选择。这个决定为索引$i$贡献了最低有效位（'1'位）。\n\n现在，我们来分析这个有故障的电路。外部选择线是$S_2, S_1, S_0$。由于接线交换，控制MUX各级的内部选择线如下：\n- 第1级的选择线，本应是$S_0$，现在接收外部信号$S_2$。\n- 第2级的选择线，本应是$S_1$，正确地接收外部信号$S_1$。\n- 第3级的选择线，本应是$S_2$，现在接收外部信号$S_0$。\n\n现在，我们可以通过分析每个外部选择线对最终索引值的贡献来确定新的选择索引$i'$。\n\n- **外部线$S_0$的贡献：** 外部线$S_0$现在连接到第3级单个MUX的选择输入端。这个MUX在输入的下半部分（$D_0$到$D_3$）和上半部分（$D_4$到$D_7$）之间进行选择。因此，$S_0$现在决定了索引$i'$的最高有效位。$S_0=0$的值从$\\{0,1,2,3\\}$中选择一个索引，而$S_0=1$从$\\{4,5,6,7\\}$中选择一个索引。这对$i'$的总值贡献了$4S_0$。\n\n- **外部线$S_1$的贡献：** 外部线$S_1$正确地连接到第2级MUX的选择输入端。这一级仍然决定索引的中间位。例如，在$\\{0,1,2,3\\}$组内，$S_1=0$的值从$\\{0,1\\}$中选择，而$S_1=1$从$\\{2,3\\}$中选择。这对$i'$的总值贡献了$2S_1$。\n\n- **外部线$S_2$的贡献：** 外部线$S_2$现在连接到第1级MUX的选择输入端。这一级从一对输入中选择最终的输入（例如，$D_0$与$D_1$）。因此，$S_2$现在决定了索引$i'$的最低有效位。$S_2=0$的值选择一对中的第一个输入（例如，从$(D_0, D_1)$对中选择$D_0$），而$S_2=1$选择第二个（例如，$D_1$）。这对$i'$的总值贡献了$1S_2$。\n\n为了求出新索引$i'$，我们将这些贡献相加。新索引由一个二进制数构成，其最高有效位是$S_0$，中间位是$S_1$，最低有效位是$S_2$。\n\n因此，新索引$i'$的算术表达式为：\n$i' = 4S_0 + 2S_1 + S_2$。", "answer": "$$\\boxed{4S_{0} + 2S_{1} + S_{2}}$$", "id": "1920059"}]}