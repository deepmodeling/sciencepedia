{"hands_on_practices": [{"introduction": "理论知识需要通过实践来巩固。理解门控 D 锁存器在真实世界中的行为，意味着要掌握其对连续变化的输入信号的响应。这个练习 [@problem_id:1968088] 旨在训练你分析时序图的关键技能，你需要仔细追踪在给定数据输入 $D$ 和门控输入 $G$ 的变化下，输出 $Q$ 的状态，并考虑现实电路中存在的传播延迟 $t_{pd}$。这个过程将加深你对锁存器“透明”和“不透明”两种模式的直观理解。", "problem": "门控D锁存器是一种基本的数字逻辑电路，它有一个数据输入（D）、一个门控输入（G）和一个输出（Q）。该锁存器的工作原理定义如下：\n- 当门控输入G为高电平（逻辑1）时，锁存器处于“透明”模式，输出Q跟随数据输入D的状态。\n- 当门控输入G为低电平（逻辑0）时，锁存器处于“不透明”模式，输出Q保持其最后的值，忽略D输入的任何变化。\n\n考虑该锁存器的一个具体实现，其具有一个恒定的传播延迟 $t_{pd} = 2 \\text{ ns}$。这意味着输入（D或G）上任何导致输出Q变化的改变，都将在延迟 $t_{pd}$ 后才反映到输出Q上。\n\n输入D和G从 $t=0$ 开始随时间经历一系列的跳变。初始时，在 $t=0$ 时，输出Q为低电平（逻辑0）。D和G输入的状态在 $t=0$ 时也为低电平。随后的跳变如下：\n\n- 在 $t=10 \\text{ ns}$ 时，输入D从低电平跳变到高电平。\n- 在 $t=20 \\text{ ns}$ 时，输入G从低电平跳变到高电平。\n- 在 $t=35 \\text{ ns}$ 时，输入D从高电平跳变到低电平。\n- 在 $t=45 \\text{ ns}$ 时，输入D从低电平跳变到高电平。\n- 在 $t=60 \\text{ ns}$ 时，输入G从高电平跳变到低电平。\n- 在 $t=70 \\text{ ns}$ 时，输入D从高电平跳变到低电平。\n\n你的任务是分析输出Q随时间变化的行为。计算在 $t=0 \\text{ ns}$ 到 $t=90 \\text{ ns}$ 的时间间隔内，输出Q处于高电平状态的总时间。你的最终答案请以纳秒为单位表示。", "solution": "我们对一个传播延迟为 $t_{pd}=2\\ \\text{ns}$ 的门控D锁存器进行建模。该锁存器的行为是：\n- 如果 $G=1$，输出在延迟 $t_{pd}$ 后跟随 $D$。\n- 如果 $G=0$，输出保持其最后的值；$D$ 的变化不会产生任何影响。\n- G到1的上升沿跳变会使Q在 $t_{pd}$ 之后取D的当前值。\n- G到0的下降沿跳变不会改变Q；它只是阻止了来自D的进一步传播。\n\n$t=0$ 时的初始条件：$D=0$，$G=0$，$Q=0$。\n\n我们按顺序分析给定的输入跳变：\n\n1) 在 $t=10\\ \\text{ns}$ 时，$D:0\\to1$，此时 $G=0$。由于锁存器是不透明的，所以对Q没有影响。\n\n2) 在 $t=20\\ \\text{ns}$ 时，$G:0\\to1$。锁存器变为透明状态；由于在 $t=20\\ \\text{ns}$ 时 $D=1$，Q将在延迟 $t_{pd}$ 后更新为1：\n$$t=20\\ \\text{ns} \\implies Q \\text{ goes to } 1 \\text{ at } 20+2=22\\ \\text{ns}.$$\n因此 $Q:0\\to1$ 在 $t=22\\ \\text{ns}$ 时发生。\n\n3) 在 $t=35\\ \\text{ns}$ 时，$D:1\\to0$，此时 $G=1$。输出将在 $t_{pd}$ 延迟后跟随变化：\n$$t=35\\ \\text{ns} \\implies Q \\text{ goes to } 0 \\text{ at } 35+2=37\\ \\text{ns}.$$\n因此 $Q:1\\to0$ 在 $t=37\\ \\text{ns}$ 时发生。\n\n4) 在 $t=45\\ \\text{ns}$ 时，$D:0\\to1$，此时 $G=1$。输出将在 $t_{pd}$ 延迟后跟随变化：\n$$t=45\\ \\text{ns} \\implies Q \\text{ goes to } 1 \\text{ at } 45+2=47\\ \\text{ns}.$$\n因此 $Q:0\\to1$ 在 $t=47\\ \\text{ns}$ 时发生。\n\n5) 在 $t=60\\ \\text{ns}$ 时，$G:1\\to0$。门控关闭不会改变Q；它只是保持当前的值。此时 $Q=1$，之后由于 $G=0$，Q将保持为1。\n\n6) 在 $t=70\\ \\text{ns}$ 时，$D:1\\to0$，此时 $G=0$。锁存器是不透明的，所以对Q没有影响。\n\n因此，Q=1的时间区间是：\n- 从 $t=22\\ \\text{ns}$ 到 $t=37\\ \\text{ns}$，时长为 $37-22=15\\ \\text{ns}$。\n- 从 $t=47\\ \\text{ns}$ 到 $t=90\\ \\text{ns}$，时长为 $90-47=43\\ \\text{ns}$。\n\n在 $t=0\\ \\text{ns}$ 和 $t=90\\ \\text{ns}$ 之间，Q为高电平的总时间是\n$$15\\ \\text{ns} + 43\\ \\text{ns} = 58\\ \\text{ns}.$$", "answer": "$$\\boxed{58}$$", "id": "1968088"}, {"introduction": "从理论走向工程应用，我们不仅需要知道一个元件如何工作，更要能够系统地证明其功能符合设计规范。这个练习 [@problem_id:1968065] 将让你扮演一名数字验证工程师的角色，挑战你设计出一套最小且完备的测试序列。通过这种方式，你将学会如何严谨地思考，以确保覆盖锁存器的所有关键行为，包括数据捕获、保持以及在不同模式下的响应。", "problem": "一位数字设计工程师的任务是为一个门控D锁存器组件创建一个验证计划。该锁存器有两个单比特输入，一个数据输入$D$和一个门控输入$G$，以及一个单比特输出$Q$。所有输入和输出都可以取逻辑值`0`或`1`。\n\n该锁存器的规定行为如下：\n1.  当门控输入$G$保持为`1`时，锁存器是“透明的”。在此模式下，输出$Q$持续反映数据输入$D$（即$Q=D$）。\n2.  当门控输入$G$从`1`变为`0`时，数据输入$D$在该精确时刻的值被捕获。\n3.  只要门控输入$G$保持为`0`，锁存器就是“不透明的”。在此模式下，输出$Q$保持最后捕获的值，无论数据输入$D$发生任何变化。\n\n为确保锁存器的物理实现与此规范相匹配，工程师必须设计一组测试序列。一个测试序列是在连续的、离散的时间步长上施加的输入对$(G, D)$的有序列表。目标是找到能提供完整功能覆盖的最小序列集，这意味着规定行为的所有方面都得到了测试。\n\n以下哪个选项代表了用于门控D锁存器功能验证的最小且完整的测试序列集？\n\nA. `{ 序列 1: [(1, 1), (0, 1), (0, 0)], 序列 2: [(1, 0), (0, 0)] }`\n\nB. `{ 序列 1: [(0, 0), (0, 1), (1, 1), (1, 0)] }`\n\nC. `{ 序列 1: [(1, 1), (0, 1)], 序列 2: [(1, 0), (0, 0)] }`\n\nD. `{ 序列 1: [(1, 1), (0, 1), (0, 0)], 序列 2: [(1, 0), (0, 0), (0, 1)] }`\n\nE. `{ 序列 1: [(1, 1), (0, 1), (0, 0)] }`", "solution": "我们使用门控D锁存器的规定功能规则：\n(i) 透明性：当$G=1$时，输出跟随输入，因此在$G=1$的每个时间步，$Q=D$。\n(ii) 下降沿捕获：在$G$从$1$变为$0$的瞬间($G:1\\to 0$)，$D$的值被锁存并成为$Q$的存储值。\n(iii) 不透明保持：当$G=0$时，$Q$保持等于最后捕获的值，不受$D$的任何变化影响。\n\n为了实现完整的功能覆盖，一个最小的完整测试集必须验证：\n- 对于$G=1$：对于$D=0$和$D=1$两种情况，$Q=D$都成立（验证透明性）。\n- 对于$G:1\\to 0$：对于$D=0$和$D=1$两种情况，在跳变时捕获的值都等于$D$（验证正确捕获）。\n- 对于$G=0$：改变$D$不会改变$Q$，理想情况下，对于$Q=0$和$Q=1$两种锁存值都应如此（验证不受输入变化影响的不透明保持特性）。\n\n现在通过逐步模拟序列来评估每个选项。\n\n选项A：\n序列 1: $(1,1)\\to(0,1)\\to(0,0)$。\n- 在 $(1,1)$：$G=1\\Rightarrow Q=D=1$（验证$D=1$时的透明性）。\n- 在 $(0,1)$：$G$从$1\\to 0$下降，此时$D=1$，因此$Q$捕获$1$。\n- 在 $(0,0)$：$G=0$且$D$从$1\\to 0$变化，因此$Q$必须保持为$1$（验证在$D$变化时、存储值为$1$情况下的不透明保持特性）。\n\n序列 2: $(1,0)\\to(0,0)$。\n- 在 $(1,0)$：$G=1\\Rightarrow Q=D=0$（验证$D=0$时的透明性）。\n- 在 $(0,0)$：$G$从$1\\to 0$下降，此时$D=0$，因此$Q$捕获并保持$0$。\n\n覆盖范围：在下降沿捕获了$0$和$1$；验证了$G=1$时两种$D$值下的$Q=D$；展示了存储值为$1$时，在$D$变化下的不透明保持特性。但它没有明确展示存储值为$0$时，在$D$变化下的不透明保持特性。\n\n选项B：\n序列：$(0,0)\\to(0,1)\\to(1,1)\\to(1,0)$。\n- $(0,0)\\to(0,1)$：当$G=0$时，改变$D$不应改变$Q$（不透明保持），但初始锁存的$Q$是未知的；不过，检查$Q$在这些步骤之间没有变化，原则上验证了$D$变化时的保持特性。\n- $(1,1)\\to(1,0)$：当$G=1$时，将$D$从$1$变为$0$应该使$Q$跟随变化（变化中的透明性）。\n但是，没有$G:1\\to 0$事件。因此，下降沿的捕获行为没有被测试。不完整。\n\n选项C：\n序列 1: $(1,1)\\to(0,1)$。\n- $(1,1)$：$G=1\\Rightarrow Q=1$。\n- $(0,1)$：$D=1$时下降，捕获$1$。\n\n序列 2: $(1,0)\\to(0,0)$。\n- $(1,0)$：$G=1\\Rightarrow Q=0$。\n- $(0,0)$：$D=0$时下降，捕获$0$。\n\n覆盖范围：在下降沿捕获了$0$和$1$，并检查了$G=1$时两种$D$值下的$Q=D$。但它从未在$G=0$时改变$D$，因此没有验证“无论数据输入$D$发生任何变化”这一条款。不完整。\n\n选项D：\n序列 1: $(1,1)\\to(0,1)\\to(0,0)$。\n- $(1,1)$：$G=1\\Rightarrow Q=1$（验证$D=1$时的透明性）。\n- $(0,1)$：$D=1$时下降，捕获$1$。\n- $(0,0)$：$G=0$且$D$从$1\\to 0$变化，因此$Q$保持为$1$（验证在$D$变化时、存储值为$1$情况下的不透明保持特性）。\n\n序列 2: $(1,0)\\to(0,0)\\to(0,1)$。\n- $(1,0)$：$G=1\\Rightarrow Q=0$（验证$D=0$时的透明性）。\n- $(0,0)$：$D=0$时下降，捕获$0$。\n- $(0,1)$：$G=0$且$D$从$0\\to 1$变化，因此$Q$保持为$0$（验证在$D$变化时、存储值为$0$情况下的不透明保持特性）。\n\n覆盖范围：验证了两种$D$值下的透明性，在下降沿对$D=0$和$D=1$的捕获，以及在$D$变化时对两种存储值$Q=0$和$Q=1$的不透明保持特性。这满足了所有方面的要求，并且用了两个序列完成。移除任何一个序列都会漏掉一种捕获值，因此在完整的选项中，该集合在序列数量上是最小的。\n\n选项E：\n序列：$(1,1)\\to(0,1)\\to(0,0)$。\n- 如同选项D的第一个序列，这覆盖了$D=1$时的透明性、对$1$的捕获，以及存储值为$1$时在$D$变化下的不透明保持特性。它没有测试对$0$的捕获。不完整。\n\n因此，只有选项D提供了一个最小且完整的序列集，该序列集验证了所有规定的行为，包括两种捕获值以及两种存储值在输入变化下的保持情况。", "answer": "$$\\boxed{D}$$", "id": "1968065"}, {"introduction": "优秀的工程师不仅遵循规则，也敢于探索边界。当我们把一个逻辑元件的输出连接回其输入时，会发生什么？这个思想实验 [@problem_id:1968100] 通过一个非标准的电路连接——将锁存器的反相输出 $\\bar{Q}$ 反馈到其数据输入 $D$ ——来探索电路的动态行为。分析这个反馈回路将揭示一个重要的概念：一个简单的存储元件如何转变为一个动态的振荡器，这是数字电子学中一个迷人且实用的现象。", "problem": "一个标准的门控D锁存器有一个数据输入(D)、一个使能输入(E)和一个主输出(Q)及其互补输出($\\bar{Q}$)。该锁存器的行为如下：当使能输入E保持为高电平(E=1)时，输出Q等于数据输入D（透明模式）。当使能输入E保持为低电平(E=0)时，锁存器保持其当前状态，输出Q不受D输入变化的影响（存储模式）。\n\n考虑一个特定电路，其中该锁存器的D输入永久连接到其自身的互补输出$\\bar{Q}$。使能输入E由一个周期性方波信号驱动。\n\n以下哪个陈述最佳地描述了输出Q的行为？\n\nA. 无论使能信号E的状态如何，输出Q都保持其初始值不变。\n\nB. 在使能信号E为高电平的整个期间，输出Q快速振荡，并在E变为低电平时保持其最后一个状态。\n\nC. 输出Q在使能信号E的每个上升沿精确地翻转一次状态，并在其他时候保持稳定。\n\nD. 输出Q的状态变得与使能信号的状态相同，使得$Q = E$。\n\nE. 输出Q在使能信号E的每个下降沿精确地翻转一次状态，并在其他时候保持稳定。", "solution": "一个电平敏感的门控D锁存器具有以下特性方程\n$$Q^{+} = E D + \\overline{E} Q,$$\n其中$Q^{+}$是Q的下一个值，$E$是使能输入，$D$是数据输入。\n\n在给定的电路中，$D$永久地连接到互补输出，所以\n$$D = \\overline{Q}。$$\n将其代入特性方程得到\n$$Q^{+} = E \\overline{Q} + \\overline{E} Q。$$\n\n按E的情况分类分析：\n- 如果 $E = 0$，那么\n$$Q^{+} = \\overline{E} Q = Q,$$\n所以锁存器保持其当前状态（存储模式）。\n- 如果 $E = 1$，那么\n$$Q^{+} = E \\overline{Q} = \\overline{Q}。$$\n因此，当E为高电平时，锁存器试图将Q设置为其当前值的反相值。在传播延迟导致Q变为$\\overline{Q}$之后，反馈使D变为$\\overline{Q^{+}} = Q$，从而引发另一次变化。只要E保持高电平，这种交替就会不断重复，产生受锁存器传播延迟限制的连续翻转。当E变为低电平时，锁存器重新进入存储模式，并保持其在该瞬间的状态。\n\n因此，当E为高电平时，输出Q会振荡，而当E为低电平时，它会保持其最后一个状态，这与选项B相符。", "answer": "$$\\boxed{B}$$", "id": "1968100"}]}