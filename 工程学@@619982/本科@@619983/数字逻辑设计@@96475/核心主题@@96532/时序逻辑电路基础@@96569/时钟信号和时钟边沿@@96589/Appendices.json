{"hands_on_practices": [{"introduction": "在数字系统中，时钟信号是协调所有操作的心跳。要有效地使用时钟，我们必须首先掌握它的基本属性：频率和占空比。这个练习将通过一个具体的计算来巩固您对这些基本概念的理解，这是分析任何同步电路性能的第一步。[@problem_id:1920932]", "problem": "微控制器单元 (MCU) 的运行基于一个周期性时钟信号，该信号决定了其内部操作的时序。该信号在逻辑“高”电平状态和逻辑“低”电平状态之间交替。该时钟信号的频率被指定为 40 MHz。信号的占空比为 30%，占空比定义为信号处于逻辑“高”电平状态的时间占总周期的比例。\n\n计算在单个时钟周期内，时钟信号保持在逻辑“高”电平状态的总时长。\n\n最终答案以纳秒 (ns) 为单位表示，并四舍五入到两位有效数字。", "solution": "时钟周期 $T$ 是频率 $f$ 的倒数：\n$$\nT=\\frac{1}{f}.\n$$\n给定 $f=40 \\times 10^{6} \\text{ s}^{-1}$，则周期为\n$$\nT=\\frac{1}{40 \\times 10^{6}} \\text{ s}.\n$$\n占空比 $D$ 是周期中处于逻辑高电平的部分。当 $D=0.30$ 时，每个周期内的高电平时长 $t_{\\text{high}}$ 为\n$$\nt_{\\text{high}}=D\\,T=0.30 \\cdot \\frac{1}{40 \\times 10^{6}} \\text{ s}.\n$$\n计算系数：\n$$\n\\frac{0.30}{40}=0.0075=7.5 \\times 10^{-3},\n$$\n所以\n$$\nt_{\\text{high}}=7.5 \\times 10^{-3} \\times 10^{-6} \\text{ s}=7.5 \\times 10^{-9} \\text{ s}.\n$$\n使用 $1 \\text{ ns}=10^{-9} \\text{ s}$ 将秒转换为纳秒：\n$$\nt_{\\text{high}}=7.5 \\text{ ns}.\n$$\n四舍五入到两位有效数字后，结果仍为 $7.5$ 纳秒。", "answer": "$$\\boxed{7.5}$$", "id": "1920932"}, {"introduction": "理解了时钟信号的属性后，下一步是观察它如何驱动电路。时钟的真正威力在于其边沿——无论是上升沿还是下降沿——能够触发状态的改变。本练习将带您探究一个经典的JK触发器，看看在一系列时钟脉冲的作用下，它的输出是如何根据边沿触发的规则进行变化的。[@problem_id:1920916]", "problem": "一个数字系统包含一个单个的上升沿触发JK触发器。这种类型的触发器的行为由其特性方程 $Q_{next} = J\\bar{Q} + \\bar{K}Q$ 描述，其中 $J$ 和 $K$ 是输入，$Q$ 是输出的当前状态，$Q_{next}$ 是紧随时钟输入上一个上升沿之后输出的状态。\n\n在这个特定电路中，$J$ 和 $K$ 输入都永久连接到高电平（逻辑'1'）。在施加周期性时钟信号之前，观测到触发器输出 $Q$ 的初始状态为低电平（逻辑'0'）。\n\n在时钟信号的第11个上升沿之后，输出 $Q$ 的逻辑电平会是什么？\n\nA. 逻辑'0'\n\nB. 逻辑'1'\n\nC. 高阻态\n\nD. 状态不确定，无法得知。", "solution": "给定的上升沿触发JK触发器遵循特性方程 $Q_{\\text{next}}=J\\bar{Q}+\\bar{K}Q$。在此电路中，$J=1$ 且 $K=1$ 恒定不变。代入这些值可得\n$$\nQ_{\\text{next}}=1\\cdot \\bar{Q}+\\overline{1}\\cdot Q=\\bar{Q}+0=\\bar{Q}.\n$$\n因为该器件是上升沿触发的，所以更新 $Q\\leftarrow Q_{\\text{next}}$ 仅在时钟上升沿发生。因此，在每个上升沿，输出会翻转：$Q$ 变为 $\\bar{Q}$。\n\n令 $Q(0)$ 表示施加周期性时钟前的初始状态；已知 $Q(0)=0$。经过 $n$ 个上升沿后，其状态由 $n$ 次连续翻转得到：\n$$\nQ(n)=\\begin{cases}\nQ(0), & \\text{若 $n$ 为偶数},\\\\\n\\bar{Q(0)}, & \\text{若 $n$ 为奇数},\n\\end{cases}\n$$\n等效地 $Q(n)=Q(0)\\oplus (n \\bmod 2)$，其中 $\\oplus$ 表示异或。\n\n对于 $n=11$（奇数），我们得到\n$$\nQ(11)=\\bar{Q(0)}=\\bar{0}=1.\n$$\n因此，在第11个上升沿之后，输出为逻辑'1'，对应于选项B。", "answer": "$$\\boxed{B}$$", "id": "1920916"}, {"introduction": "在理想世界中，数据可以在时钟沿的瞬间完美地被锁存。然而，在现实世界的物理电路中，时序是关键。为了确保数据的可靠捕获，数据信号必须在时钟边沿到来之前的一段时间（建立时间 $t_{su}$）和之后的一段时间（保持时间 $t_h$）内保持稳定。这个练习将带您进入时序分析的实际问题，通过分析一个具体场景来识别关键的“保持时间违例”，这是高速数字设计中必须避免的常见错误。[@problem_id:1920888]", "problem": "一个数字系统使用一个上升沿触发的D触发器来对数据信号D进行采样。为了使该触发器能正确捕获数据，数据输入必须在时钟上升沿之前的某个最小持续时间内（建立时间, $t_{su}$）以及在时钟上升沿之后的某个最小持续时间内（保持时间, $t_h$）保持稳定。\n\n电路中使用的特定D触发器具有以下时序参数：\n- 建立时间, $t_{su} = 2.0$ ns\n- 保持时间, $t_h = 1.0$ ns\n\n时钟信号CLK是一个周期性方波。其上升沿精确地发生在 $t = 10 \\text{ ns}, 20 \\text{ ns}, 30 \\text{ ns}, 40 \\text{ ns}, \\dots$ 等时刻。\n\n数据信号D初始处于逻辑低(0)电平状态。它经历了一系列如下所列的瞬时跳变：\n- 信号在 $t = 7.5$ ns 时从低电平跳变到高电平。\n- 信号在 $t = 20.6$ ns 时从高电平跳变到低电平。\n- 信号在 $t = 27.5$ ns 时从低电平跳变到高电平。\n- 信号在 $t = 32.5$ ns 时从高电平跳变到低电平。\n\n如果数据信号的变化时间点未能满足相对于某个时钟上升沿的建立时间或保持时间要求，则会发生时序违规。下列哪个数据跳变导致了时序违规？\n\nA. 在 $t = 7.5$ ns 时的跳变\n\nB. 在 $t = 20.6$ ns 时的跳变\n\nC. 在 $t = 27.5$ ns 时的跳变\n\nD. 在 $t = 32.5$ ns 时的跳变\n\nE. 没有发生时序违规。", "solution": "对于一个建立时间为 $t_{su}$、保持时间为 $t_{h}$ 的上升沿触发D触发器，如果数据在时间 $t$ 发生跳变，而时钟上升沿在时间 $T$ 到来，那么当 $0 < T - t < t_{su}$ 时，会发生建立时间违规；当 $0 < t - T < t_{h}$ 时，会发生保持时间违规。等效地，定义建立时间窗口为 $W^{su}(T) = (T - t_{su}, T)$，保持时间窗口为 $W^{h}(T) = (T, T + t_{h})$，如果跳变时间 $t$ 落在了某个时钟上升沿时间 $T$ 的 $W^{su}(T) \\cup W^{h}(T)$ 区间内，则发生违规。\n\n给定 $t_{su} = 2.0 \\text{ ns}$ 和 $t_{h} = 1.0 \\text{ ns}$，且时钟上升沿发生在 $T_{k} = 10k \\text{ ns}$（其中 $k \\in \\{1,2,3,\\dots\\}$），我们逐一评估每个跳变：\n\nA. $t = 7.5 \\text{ ns}$。相对于 $T_{1} = 10 \\text{ ns}$，建立时间窗口是 $(10 - 2, 10) = (8, 10) \\text{ ns}$。由于 $7.5 \\text{ ns} < 8 \\text{ ns}$，所以 $t \\notin (8,10)$，没有建立时间违规。$10 \\text{ ns}$ 之后的保持时间窗口是 $(10,11) \\text{ ns}$，且 $t < 10 \\text{ ns}$，所以没有保持时间违规。因此，没有违规。\n\nB. $t = 20.6 \\text{ ns}$。相对于 $T_{2} = 20 \\text{ ns}$，建立时间窗口是 $(18,20) \\text{ ns}$，但 $t > 20 \\text{ ns}$，所以没有建立时间违规。保持时间窗口是 $(20,21) \\text{ ns}$，由于 $20 < 20.6 < 21$，所以 $t \\in (20,21)$，发生保持时间违规。\n\nC. $t = 27.5 \\text{ ns}$。相对于 $T_{3} = 30 \\text{ ns}$，建立时间窗口是 $(28,30) \\text{ ns}$；由于 $27.5 < 28$，所以 $t \\notin (28,30)$，没有建立时间违规。相对于 $T_{2} = 20 \\text{ ns}$，保持时间窗口是 $(20,21) \\text{ ns}$；由于 $27.5 > 21$，所以 $t \\notin (20,21)$，没有保持时间违规。因此，没有违规。\n\nD. $t = 32.5 \\text{ ns}$。相对于 $T_{3} = 30 \\text{ ns}$，保持时间窗口是 $(30,31) \\text{ ns}$；由于 $32.5 > 31$，所以 $t \\notin (30,31)$，没有保持时间违规。相对于 $T_{4} = 40 \\text{ ns}$，建立时间窗口是 $(38,40) \\text{ ns}$；由于 $32.5 < 38$，所以 $t \\notin (38,40)$，没有建立时间违规。因此，没有违规。\n\n只有在 $t = 20.6 \\text{ ns}$ 时的跳变落入了一个保持时间窗口内，因此导致了时序违规。", "answer": "$$\\boxed{B}$$", "id": "1920888"}]}