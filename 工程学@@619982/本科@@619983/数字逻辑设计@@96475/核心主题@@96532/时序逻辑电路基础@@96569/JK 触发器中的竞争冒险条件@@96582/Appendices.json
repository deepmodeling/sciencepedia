{"hands_on_practices": [{"introduction": "本节的第一个练习旨在帮助你掌握竞争冒险条件的核心计算。当一个电平触发的JK触发器在 $J=K=1$ 的条件下，且时钟信号为高电平时，其输出会持续翻转。此练习通过一个具体的场景，让你计算在给定的时钟脉冲宽度内，输出会发生多少次变化，从而直接感受传播延迟 $t_{pd}$ 与时钟脉冲宽度 $T_W$ 之间的关系。[@problem_id:1956038]", "id": "1956038", "problem": "一位数字逻辑设计者正在分析一个时序电路中的关键部件的行为：一个正电平触发的JK触发器。对于这种类型的触发器，只要时钟输入处于逻辑“1”电平，其输出就会被持续地重新评估。该触发器的J和K输入端均永久连接至一个高电压源，代表恒定的逻辑“1”。\n\n该器件的关键时序参数如下：\n- 传播延迟 $t_{pd}$，是指在内部逻辑确定新状态后，输出Q发生变化并稳定下来所需的时间。对于此触发器，$t_{pd} = 2.5 \\text{ ns}$。\n- 该触发器由一个周期性的时钟信号驱动。每个周期中时钟信号高电平部分的持续时间，称为脉冲宽度，为 $T_W = 12.0 \\text{ ns}$。\n\n假设在时钟信号从逻辑“0”转换到逻辑“1”的瞬间，输出Q处于稳定的逻辑“0”状态。在时钟信号为高的、持续时间为 $T_W$ 的单个连续区间内，输出Q的状态改变了多少次？\n\nA. 1\nB. 2\nC. 4\nD. 5\nE. 输出翻转次数不确定。", "solution": "因为该器件是一个正电平触发的JK触发器，并且 $J=K=1$，所以当时钟处于逻辑1时，其内部的次态关系会被持续地重新评估，并由 $Q^{+}=\\overline{Q}$ 给出。这就是“竞逐”现象（race-around condition）：一旦Q稳定到一个值，内部逻辑会立即确定下一个值必须是它的补码（因为时钟保持高电平且$J=K=1$）。\n\n设 $t_{pd}$ 表示从内部逻辑确定新状态的时刻到Q发生变化并稳定的时刻之间的传播延迟。在持续高电平的操作下，每次状态变化需要一个传播延迟的时间才能在输出端显现。因此，从时钟变高（设此时为 $t=0$）且 $Q(0)=0$ 的时刻开始，只要时钟保持高电平，输出的变化就会发生在以下时刻：\n$$\nt_{k}=k\\,t_{pd},\\quad k=1,2,3,\\dots\n$$\n\n如果时钟的高电平持续时间为 $T_{W}$，那么在这个单个高电平区间内发生的状态变化次数 $N$ 是满足 $t_{N}<T_{W}$ 的最大整数 $N$（在非临界边界情况下，等效于 $N\\,t_{pd}\\leq T_{W}$）。因此，\n$$\nN=\\left\\lfloor \\frac{T_{W}}{t_{pd}} \\right\\rfloor.\n$$\n代入给定值 $T_{W}=12.0\\ \\text{ns}$ 和 $t_{pd}=2.5\\ \\text{ns}$，\n$$\n\\frac{T_{W}}{t_{pd}}=\\frac{12.0}{2.5}=4.8,\n$$\n所以\n$$\nN=\\left\\lfloor 4.8 \\right\\rfloor=4.\n$$\n因此，在持续时间为 $T_{W}$ 的单个高电平区间内，输出Q的状态改变了4次，这对应于选项C。", "answer": "$$\\boxed{C}$$"}, {"introduction": "在理解了如何计算总的翻转次数后，下一个练习将引导你进行更细致的分析。本题不再仅仅关注翻转的次数，而是要求你追踪输出 $Q$ 的每一步变化，并确定在时钟脉冲结束时的最终状态。这有助于加深理解：时钟信号的下降沿会“锁定”触发器的最后稳定状态，即使下一次翻转即将发生。[@problem_id:1956039]", "id": "1956039", "problem": "一名数字系统工程师正在分析一个定制设计的正电平触发JK触发器。该触发器具有一个恒定的传播延迟，记为 $t_{pd}$，这是指从输入端满足触发条件到输出端 $Q$ 出现相应变化之间的时间间隔。\n\n该触发器正在进行一项测试，其输入端保持恒定为 $J=1$ 和 $K=1$。测试开始前，输出的初始状态为 $Q=0$。测试中会施加一个单一、孤立的正向时钟脉冲。时钟信号初始为低电平，在时间 $t=0$ 时上升到高电平，并在时间 $t=t_p$ 时返回到低电平。已知这个高电平脉冲的持续时间 $t_p$ 满足不等式 $2t_{pd} < t_p < 2.5t_{pd}$。\n\n假设当时钟信号从高电平转换到低电平时，触发器的内部状态会立即锁存，请确定在时钟脉冲完全通过之后，输出 $Q$ 的最终逻辑状态。你的答案应该是最终的逻辑值，即 0 或 1。", "solution": "该问题要求在给定的特定时序约束下，确定一个正电平触发的JK触发器的最终状态。\n\n首先，我们来确定JK触发器在其输入保持高电平（$J=1$ 和 $K=1$）时的行为。在这种配置下，触发器处于“翻转模式”。对于电平触发的触发器，这意味着只要时钟信号处于其有效电平（本例中为高电平），输出 $Q$ 就会连续翻转其状态。每次翻转完成并且新状态出现在输出端所需的时间等于传播延迟 $t_{pd}$。这种行为被称为空翻现象（race-around condition）。\n\n根据题意，在 $t<0$ 时触发器的初始状态为 $Q=0$。时钟脉冲在 $t=0$ 开始，并在 $t=t_p$ 结束。\n\n让我们追踪在时钟为高电平期间（从 $t=0$ 到 $t=t_p$），输出 $Q$ 随时间变化的状态。\n\n1.  在 $t=0$ 时，时钟变为高电平。初始状态为 $Q(0)=0$。由于 $J=K=1$ 且时钟处于有效状态，触发器开始翻转其输出。\n\n2.  经过一个传播延迟后，在时间 $t=t_{pd}$ 时，第一次翻转完成。输出 $Q$ 从 0 变为 1。\n    因此，$Q(t_{pd}) = 1$。\n\n3.  新的输出状态 $Q=1$ 被反馈到触发器的输入级。由于时钟仍然是高电平（因为 $t_p > 2t_{pd}$，这意味着 $t_p > t_{pd}$），触发器立即开始第二次翻转过程。\n\n4.  这第二次翻转在又一个传播延迟后完成。时间将是 $t = t_{pd} + t_{pd} = 2t_{pd}$。此时，输出 $Q$ 再次翻转，从 1 变为 0。\n    因此，$Q(2t_{pd}) = 0$。\n\n5.  新的输出状态 $Q=0$ 现在被反馈到输入级。题目说明时钟脉冲宽度 $t_p$ 大于 $2t_{pd}$。这意味着在第二次翻转完成的时刻（$t=2t_{pd}$），时钟仍然是高电平。因此，触发器开始第三次翻转过程。\n\n6.  这第三次翻转将在又一个传播延迟后完成，时间为 $t = 2t_{pd} + t_{pd} = 3t_{pd}$。如果这次翻转得以完成，输出 $Q$ 将从 0 变为 1。\n\n7.  然而，我们有一个关键的约束条件，即时钟脉冲在 $t=t_p$ 结束，其中 $t_p < 2.5t_{pd}$。这也意味着 $t_p < 3t_{pd}$。因此，时钟信号在第三次翻转有足够时间完成之前就变为低电平。\n\n时钟脉冲在 $t=t_p$ 结束。最后一次完成的输出变化发生在 $t=2t_{pd}$，将输出设置为 $Q=0$。在 $t=2t_{pd}$ 和 $t=t_p$ 之间，输出保持为 $Q=0$，而触发器正在内部处理第三次翻转。当时钟在 $t=t_p$ 变为低电平时，触发器对其输入不再敏感，并锁存它在那一刻的状态。由于第三次翻转尚未完成，输出的状态仍然是第二次翻转所设置的状态。\n\n因此，时钟脉冲结束后，输出 $Q$ 的最终状态为 0。", "answer": "$$\\boxed{0}$$"}, {"introduction": "为了让你接触更贴近现实世界的设计挑战，最后一个练习引入了非对称传播延迟的概念。在理想模型中，我们通常假设上升和下降的延迟时间是相同的，但实际元器件并非如此。此练习将挑战你分析一个具有不同上升沿延迟 $t_{pLH}$ 和下降沿延迟 $t_{pHL}$ 的JK触发器，这要求你更精确地追踪每次状态转换的累积时间。[@problem_id:1956047]", "id": "1956047", "problem": "一个数字电路包含一个正电平触发的JK触发器。输入J和K永久连接到高逻辑电平（'1'）。该触发器表现出非对称的传输延迟：输出Q从低到高转换的传输延迟为 $t_{pLH} = 20$ ns，从高到低转换的传输延迟为 $t_{pHL} = 10$ ns。最初，在施加任何时钟信号之前，输出Q处于稳定的低电平状态（'0'）。\n\n在时间 $t=0$ 时，一个单个高脉冲被施加到时钟输入端。该脉冲保持高电平的持续时间为 $T_{pulse} = 55$ ns，之后返回低电平。假设J和K输入的建立时间和保持时间均已满足，并且对于本分析而言可以忽略不计。\n\n确定时钟脉冲结束后输出Q的最终逻辑状态。您的答案应为'0'或'1'。", "solution": "当 $J=K=1$ 时，一个正电平触发的JK锁存器在时钟为高电平期间表现得像一个T锁存器：只要使能信号（时钟高电平）存在，输出 $Q$ 就会持续翻转。每次翻转都发生在相应转换的“时钟到Q”传输延迟之后，前提是时钟保持高电平的时间足够长，以使该延迟能够完成。\n\n给定非对称延迟，$Q$ 的低到高转换在 $t_{pLH}$ 之后发生，高到低转换在 $t_{pHL}$ 之后发生。从初始条件 $Q(0^{-})=0$ 开始，当时钟为高电平时，翻转时间序列 $\\{t_{n}\\}$ 的生成方式如下：\n- 第一次翻转（从 $0$ 到 $1$）：\n$$\nt_{1}=t_{pLH}.\n$$\n- 第二次翻转（从 $1$ 到 $0$）：\n$$\nt_{2}=t_{1}+t_{pHL}.\n$$\n- 第三次翻转（从 $0$ 到 $1$）：\n$$\nt_{3}=t_{2}+t_{pLH}.\n$$\n- 第四次翻转（从 $1$ 到 $0$）：\n$$\nt_{4}=t_{3}+t_{pHL},\n$$\n以此类推，交替增加 $t_{pLH}$ 和 $t_{pHL}$ 作为延迟。\n\n代入给定值 $t_{pLH}=20\\,\\text{ns}$ 和 $t_{pHL}=10\\,\\text{ns}$，可得：\n$$\nt_{1}=20\\,\\text{ns},\\quad\nt_{2}=20\\,\\text{ns}+10\\,\\text{ns}=30\\,\\text{ns},\\quad\nt_{3}=30\\,\\text{ns}+20\\,\\text{ns}=50\\,\\text{ns},\\quad\nt_{4}=50\\,\\text{ns}+10\\,\\text{ns}=60\\,\\text{ns}.\n$$\n\n时钟在 $0 \\le t < T_{\\text{pulse}}$ 期间为高电平，其中 $T_{\\text{pulse}}=55\\,\\text{ns}$。仅当 $t_{n} \\le T_{\\text{pulse}}$ 时，在时间 $t_{n}$ 的转换才会发生。根据计算出的时间，\n$$\nt_{1}=20\\,\\text{ns}<55\\,\\text{ns},\\quad t_{2}=30\\,\\text{ns}<55\\,\\text{ns},\\quad t_{3}=50\\,\\text{ns}<55\\,\\text{ns},\\quad t_{4}=60\\,\\text{ns}>55\\,\\text{ns}.\n$$\n因此，在时钟为高电平期间，恰好发生了三次翻转。从 $Q=0$ 开始，经过奇数次（三次）翻转后，在 $t=55\\,\\text{ns}$ 时，\n$$\nQ=1\n$$\n当 $t=55\\,\\text{ns}$ 时钟变为低电平时，锁存器变为不透明状态，本应在 $t_{4}=60\\,\\text{ns}$ 发生的待定转换被抑制，因为在所需的传输间隔内使能信号不再有效。因此，在时钟脉冲结束后，输出 $Q$ 保持在 $1$。", "answer": "$$\\boxed{1}$$"}]}