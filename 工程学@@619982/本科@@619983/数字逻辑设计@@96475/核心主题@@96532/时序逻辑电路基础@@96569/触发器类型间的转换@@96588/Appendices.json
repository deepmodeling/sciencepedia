{"hands_on_practices": [{"introduction": "掌握理论后，让我们通过一个设计挑战来巩固所学。这个练习要求我们利用一个基本的 T 触发器和组合逻辑，构建一个功能更复杂的 SR 触发器，甚至为其定义了标准 SR 触发器中非法的输入组合 ($S=1, R=1$) 的行为。通过这个过程，你将学会如何将抽象的功能需求（如置位、复位、保持、翻转）转化为具体的逻辑电路实现，这是数字系统设计中的一项核心技能 [@problem_id:1924885]。", "problem": "在数字电路设计中，经常需要用一种类型的触发器来构建另一种类型的触发器。您的任务是设计所需的组合逻辑，将一个 T (翻转) 触发器转换为一个特化的 SR (置位-复位) 触发器。\n\n可用的元件是一个上升沿触发的 T 触发器，其行为由其特性方程定义：$Q_{next} = T \\oplus Q$，其中 $Q$ 是当前状态，$Q_{next}$ 是下一个时钟沿之后的状态，$T$ 是 T 触发器的输入。符号 $\\oplus$ 表示异或 (XOR) 运算。\n\n您的目标是创建一个具有输入 $S$ 和 $R$ 以及输出 $Q$ 的 SR 触发器。该 SR 触发器期望的行为如下：\n- 如果 $S=0, R=0$，触发器保持其当前状态 ($Q_{next} = Q$)。\n- 如果 $S=0, R=1$，触发器复位 ($Q_{next} = 0$)。\n- 如果 $S=1, R=0$，触发器置位 ($Q_{next} = 1$)。\n- 与标准的 SR 触发器中输入组合 $S=1, R=1$ 为无效或禁用状态不同，对于此特定设计，输入组合 $S=1, R=1$ 必须使触发器翻转其状态 ($Q_{next} = \\bar{Q}$) 。\n\n请确定 T 触发器的输入 $T$ 关于外部输入 $S$、$R$ 和当前状态 $Q$ 的布尔表达式。您的最终答案应为一个简化的积之和 (SOP) 表达式。", "solution": "我们需要 T 触发器的输入 $T$ 来强制 TFF 的次态 $Q_{next}$ 与期望的 SR 行为相匹配。T 触发器的特性方程是 $Q_{next} = T \\oplus Q$，因此对于任何期望的 $Q_{next}$，我们需要\n$$\nT = Q_{next} \\oplus Q.\n$$\n要求的 SR 行为是：\n- 如果 $S=0, R=0$，保持：$Q_{next} = Q$，因此 $T = Q \\oplus Q = 0$。\n- 如果 $S=0, R=1$，复位：$Q_{next} = 0$，因此 $T = 0 \\oplus Q = Q$。\n- 如果 $S=1, R=0$，置位：$Q_{next} = 1$，因此 $T = 1 \\oplus Q = \\bar{Q}$。\n- 如果 $S=1, R=1$，翻转：$Q_{next} = \\bar{Q}$，因此 $T = \\bar{Q} \\oplus Q = 1$。\n\n因此，根据不同情况，$T$ 的布尔表达式为\n$$\nT = (\\bar{S}\\bar{R})\\cdot 0 + (\\bar{S}R)\\cdot Q + (S\\bar{R})\\cdot \\bar{Q} + (SR)\\cdot 1.\n$$\n去掉零项并简化含一的项后得到\n$$\nT = \\bar{S}RQ + S\\bar{R}\\bar{Q} + SR.\n$$\n为了简化为最小积之和形式，将 $SR$ 展开为 $SR(\\bar{Q}+Q)$ 并重新组合：\n$$\n\\begin{aligned}\nT &= SR\\bar{Q} + SRQ + \\bar{S}RQ + S\\bar{R}\\bar{Q} \\\\\n  &= \\underbrace{(SR\\bar{Q} + S\\bar{R}\\bar{Q})}_{S\\bar{Q}(R+\\bar{R})=S\\bar{Q}} + \\underbrace{(SRQ + \\bar{S}RQ)}_{RQ(S+\\bar{S})=RQ} \\\\\n  &= S\\bar{Q} + RQ.\n\\end{aligned}\n$$\n因此，$T$ 关于 $S$、$R$ 和 $Q$ 的简化积之和 (SOP) 表达式为 $T = S\\bar{Q} + RQ$。", "answer": "$$\\boxed{S\\bar{Q} + RQ}$$", "id": "1924885"}, {"introduction": "在实际工程中，设计与实现之间的偏差时有发生。这个练习模拟了一个常见的场景：一个 JK 到 D 触发器的转换电路由于简单的布线错误而出现故障。你的任务是扮演调试工程师的角色，通过分析找出这个错误电路的实际行为，从而揭示一个简单的错误如何从根本上改变电路的功能。这项练习对于培养严谨的分析和故障排查能力至关重要 [@problem_id:1924928]。", "problem": "一位数字系统工程师的任务是使用一个标准的JK型触发器来构建一个D型触发器。可用的JK触发器具有输入 $J$ 和 $K$、现态输出 $Q(t)$ 和次态输出 $Q(t+1)$。其关系由特性方程决定：$Q(t+1) = J\\overline{Q(t)} + \\overline{K}Q(t)$。\n\n为实现 $Q(t+1) = D$ 的D型行为，工程师的设计要求将新的单一输入 $D$ 连接到JK触发器的输入端，连接方式如下：$J=D$ 且 $K=\\overline{D}$。\n\n然而，在实现过程中发生了一个接线错误。用于 $K$ 输入的非门被遗漏了，导致 $K$ 输入直接连接到了 $D$ 输入线上。因此，实际的电路连接是 $J = D$ 且 $K = D$。\n\n您的任务是确定这个错误电路的完整特性方程。将次态 $Q(t+1)$ 表示为输入 $D$ 和现态 $Q(t)$ 的化简函数。", "solution": "给定一个JK触发器，其特性方程为\n$$Q(t+1)=J\\overline{Q(t)}+\\overline{K}Q(t)。$$\n在错误的电路中，连接方式为 $J=D$ 和 $K=D$。将这些代入特性方程可得\n$$Q(t+1)=D\\,\\overline{Q(t)}+\\overline{D}\\,Q(t)。$$\n这个积之和形式已经是化简的了。它也可以被识别为 $D$ 和 $Q(t)$ 的异或，即\n$$Q(t+1)=D\\oplus Q(t),$$\n这证实了次态对输入 $D$ 和现态 $Q(t)$ 的化简依赖关系。", "answer": "$$\\boxed{D\\,\\overline{Q(t)}+\\overline{D}\\,Q(t)}$$", "id": "1924928"}, {"introduction": "最后，我们将挑战一个更高级的“黑盒”测试问题，它将我们的技能从电路级提升到系统级。在这个场景中，你需要设计一个最短的输入序列来唯一确定一个未知电路的真实功能，而无需知道其内部结构或初始状态。这个练习不仅考验你对不同触发器行为的深刻理解，还引入了功能验证和测试策略的核心思想，这在现代集成电路的测试中至关重要 [@problem_id:1924921]。", "problem": "您是一名测试工程师，正在研究一款新的定制集成电路（IC）。该IC是一个黑盒，拥有单个数据输入 `X`、一个同步时钟输入 `CLK` 和单个输出 `Q`。已知IC内的触发器是上升沿触发的，但其初始状态 `Q_initial` 未知。\n\n您的文档指出，该IC内部包含以下两种可能电路中的一种：\n*   **电路 A：** 一个标准的D型触发器，其中外部输入 `X` 直接连接到触发器的 `D` 输入。\n*   **电路 B：** 一个T型触发器，该触发器已使用一个D型触发器和一些额外的组合逻辑实现。外部输入 `X` 用作此T型配置的 `T` 输入。\n\n您的任务是找出所有最小长度的输入序列 `X`，这些序列可以唯一地识别黑盒内的电路，而不管其未知的初始状态如何。一个区分序列是指，对于该序列，电路 A 的所有可能输出序列集合与电路 B 的所有可能输出序列集合完全不同。最小序列是长度最短的区分序列。\n\n请从以下列表中选择所有代表 `X` 的最小区分序列的选项。这些序列以在连续的上升沿时钟施加于 `X` 的值列表形式给出。\n\nA. `0`\n\nB. `1`\n\nC. `0, 1`\n\nD. `1, 0`\n\nE. `1, 1`\n\nF. `1, 0, 1`\n\nG. `0, 0, 0`", "solution": "设施加的输入序列为 $X = (x_{1}, x_{2}, \\dots, x_{n})$，在连续的上升沿时钟处采样。令 $Q_{k}$ 表示第 $k$ 个上升沿之后的瞬时输出 $Q$。任何时钟施加前的初始状态 $Q_{0} \\in \\{0,1\\}$ 是未知的。\n\n对于电路A（D型触发器，D=X）：\n根据上升沿触发的D型触发器（DFF）的定义，在每个边沿 $Q^{+} = D$。因此，\n$$Q_{k}^{(A)} = x_{k} \\quad \\text{for all } k.$$\n所以，电路A的可能输出序列集合是单元素集\n$$\\mathcal{S}_{A} = \\{(x_{1}, x_{2}, \\dots, x_{n})\\}.$$\n\n对于电路B（T型触发器，通过 $D = Q \\oplus T$ 实现，且T=X）：\nT型触发器（TFF）遵循 $Q^{+} = Q \\oplus T$。在第 $k$ 个边沿，有 $T = x_{k}$，\n$$Q_{k}^{(B)} = Q_{k-1}^{(B)} \\oplus x_{k}, \\quad Q_{0}^{(B)} \\in \\{0,1\\}.$$\n展开递归可得\n$$Q_{k}^{(B)} = Q_{0} \\oplus \\left(x_{1} \\oplus x_{2} \\oplus \\cdots \\oplus x_{k}\\right).$$\n定义前缀异或 $s_{k} = x_{1} \\oplus x_{2} \\oplus \\cdots \\oplus x_{k}$。那么电路B的两种可能输出序列是\n$$(s_{1}, s_{2}, \\dots, s_{n}) \\quad \\text{和} \\quad (1 \\oplus s_{1}, 1 \\oplus s_{2}, \\dots, 1 \\oplus s_{n}),$$\n分别对应于 $Q_{0}=0$ 和 $Q_{0}=1$。因此\n$$\\mathcal{S}_{B} = \\{(s_{1}, \\dots, s_{n}),\\, (1 \\oplus s_{1}, \\dots, 1 \\oplus s_{n})\\}.$$\n\n一个序列 $X$ 是区分序列，当且仅当 $\\mathcal{S}_{A} \\cap \\mathcal{S}_{B} = \\varnothing$，即\n$$(x_{1}, \\dots, x_{n}) \\neq (s_{1}, \\dots, s_{n}) \\quad \\text{并且} \\quad (x_{1}, \\dots, x_{n}) \\neq (1 \\oplus s_{1}, \\dots, 1 \\oplus s_{n}).$$\n\n最小长度分析：\n1) 长度 $n=1$（选项 A: `0`，B: `1`）：\n此时 $s_{1} = x_{1}$。那么 $\\mathcal{S}_{B} = \\{(x_{1}), (1 \\oplus x_{1})\\}$，其中包含 $(x_{1}) = \\mathcal{S}_{A}$。因此不是区分序列。没有长度为1的序列能满足要求。\n\n2) 长度 $n=2$（选项 C: `0, 1`；D: `1, 0`；E: `1, 1`）：\n计算 $s_{1} = x_{1}$ 和 $s_{2} = x_{1} \\oplus x_{2}$。\n\n- 如果 $x_{1} = 0$，那么 $(x_{1}, x_{2}) = (0, x_{2})$ 并且 $(s_{1}, s_{2}) = (0, x_{2})$，所以 $\\mathcal{S}_{A}$ 等于 $\\mathcal{S}_{B}$ 中的一个元素。不是区分序列。因此选项 C 无效。\n\n- 如果 $x_{1} = 1$，那么 $(x_{1}, x_{2}) \\neq (s_{1}, s_{2})$ 因为这要求 $x_{2} = x_{1} \\oplus x_{2}$，简化为 $1=0$，这是一个矛盾。同样 $(x_{1}, x_{2}) \\neq (1 \\oplus s_{1}, 1 \\oplus s_{2})$ 因为第一个坐标将要求 $1 = 1 \\oplus 1 = 0$，这也是不可能的。因此，任何 $x_{1}=1$ 的长度为2的序列都是区分序列。因此选项 D 和 E 都是区分序列。\n\n由于没有长度为1的序列是区分序列，而一些长度为2的序列是，所以最小长度为2。在所给选项中，最小区分序列是 D 和 E。\n\n3) 更长的序列（选项 F: `1, 0, 1`；G: `0, 0, 0`）：\n尽管这些序列可能是区分序列，但它们不是最小的，因为长度2已经足够。因此它们被排除。\n\n综上，列表中的最小区分序列正是 D 和 E。", "answer": "$$\\boxed{DE}$$", "id": "1924921"}]}