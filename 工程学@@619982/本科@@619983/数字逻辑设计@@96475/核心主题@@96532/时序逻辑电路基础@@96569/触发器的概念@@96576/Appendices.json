{"hands_on_practices": [{"introduction": "动手实践的第一步是深入理解不同触发器的内在逻辑。本练习将引导你将一个 J-K 触发器转换为一个 D 触发器，这是一个在实际设计中非常有用的技能，特别是在可用元件有限的情况下。通过这个过程，你将学会如何运用触发器的特征方程，通过简单的组合逻辑来改变其功能，从而巩固对时序电路核心行为的理解。[@problem_id:1967151]", "problem": "在数字逻辑实验室中，您被指派设计一个数据锁存电路。然而，唯一可用的时序逻辑元件是J-K触发器。一个J-K触发器有两个数据输入端J和K、一个时钟输入端和一个输出端Q。其行为由特性方程 $Q(t+1) = J\\overline{Q(t)} + \\overline{K}Q(t)$ 定义，其中 $Q(t)$ 代表当前状态，$Q(t+1)$ 代表下一个时钟脉冲之后的状态。\n\n您的目标是使这个J-K触发器的行为与D触发器完全相同。一个D触发器有一个单一的数据输入端D，其行为由特性方程 $Q(t+1) = D$ 定义。为实现这一目标，您必须将J-K触发器的J和K输入端连接到以外部数据线D为其输入的逻辑电路。\n\n下列哪一组用输入D表示的J和K逻辑表达式，能够将J-K触发器正确转换为D触发器，并对所有可能的状态和输入有效？\n\nA. $J = D$, $K = \\overline{D}$\n\nB. $J = \\overline{D}$, $K = D$\n\nC. $J = D$, $K = D$\n\nD. $J = 1$, $K = D$\n\nE. $J = D$, $K = 0$", "solution": "我们从给定的J-K触发器特性方程入手：\n$$\nQ(t+1) = J\\,\\overline{Q(t)} + \\overline{K}\\,Q(t).\n$$\n我们的目标是使该器件表现得像一个D触发器，这要求\n$$\nQ(t+1) = D\n$$\n对所有可能的当前状态 $Q(t)$ 和输入 $D$ 都成立。为简洁起见，令 $Q(t)=Q$。表达式 $J\\,\\overline{Q} + \\overline{K}\\,Q$ 必须等于 $D$ 且与 $Q$ 无关，因此我们对 $Q$ 的两个可能值分别建立等式。\n\n对于 $Q=0$：\n$$\nQ(t+1) = J\\cdot 1 + \\overline{K}\\cdot 0 = J,\n$$\n并且为匹配 $Q(t+1)=D$，我们要求\n$$\nJ = D.\n$$\n\n对于 $Q=1$：\n$$\nQ(t+1) = J\\cdot 0 + \\overline{K}\\cdot 1 = \\overline{K},\n$$\n并且为匹配 $Q(t+1)=D$，我们要求\n$$\n\\overline{K} = D \\quad \\Rightarrow \\quad K = \\overline{D}.\n$$\n\n因此，所需的连接方式为 $J=D$ 和 $K=\\overline{D}$，这对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1967151"}, {"introduction": "掌握了单个触发器的基本操作后，我们来挑战一个更具综合性的设计任务：构建一个“通用”同步逻辑单元。通过将一个 D 触发器与一个多路选择器相结合，你将设计出一个可编程的电路，它能根据控制信号执行保持、置位、复位或翻转等多种功能。这个实践完美地诠释了数字系统设计的核心思想——利用基本构建模块来创建功能更强大、更灵活的系统。[@problem_id:1967141]", "problem": "需设计一个通用同步逻辑单元，该单元使用一个上升沿触发的 D 型触发器和一个 4-1 多路复用器。多路复用器的输出直接连接到该 D 型触发器的 D 输入。设触发器的当前状态表示为 $Q$。\n\n该多路复用器有两条选择线，$S_1$ 和 $S_0$，以及四个数据输入，分别标记为 $I_0, I_1, I_2,$ 和 $I_3$。选择位 $S_1, S_0$ 决定了哪个数据输入被路由到多路复用器的输出。具体来说，当选择位的值对应整数 $k$ 时（其中 $S_1$ 是最高有效位），输入 $I_k$ 被选中。\n\n该单元必须在每个时钟周期执行四种操作之一，具体操作由选择线 $S_1$ 和 $S_0$ 的值决定，如下所示：\n- 如果 $S_1S_0 = 00$，单元必须执行**保持**操作，意味着触发器的下一状态将与其当前状态相同。\n- 如果 $S_1S_0 = 01$，单元必须执行**同步复位**操作，强制触发器的下一状态为 0。\n- 如果 $S_1S_0 = 10$，单元必须执行**同步置位**操作，强制触发器的下一状态为 1。\n- 如果 $S_1S_0 = 11$，单元必须执行**翻转**操作，意味着触发器的下一状态将是其当前状态的逻辑反。\n\n多路复用器的输入 $I_0, I_1, I_2$ 和 $I_3$ 可以连接到触发器的输出 $Q$、其反相 $\\overline{Q}$、逻辑常数 '0'（逻辑低电平）或逻辑常数 '1'（逻辑高电平）。\n\n确定实现指定功能的四个多路复用器输入 $I_0, I_1, I_2$ 和 $I_3$ 的正确布尔表达式。您的答案应是一组按 $I_0, I_1, I_2, I_3$ 特定顺序排列的四个表达式。", "solution": "目标是确定一个 4-1 多路复用器 (MUX) 的输入 $I_0, I_1, I_2, I_3$ 的逻辑表达式，该多路复用器为 D 型触发器提供输入。整个电路必须根据两条选择线 $S_1$ 和 $S_0$ 实现四种不同的同步操作。\n\n设 $Q$ 是 D 型触发器的当前状态，$Q_{next}$ 是其在下一个时钟沿之后的状态。D 型触发器的特性方程由下式给出：\n$$Q_{next} = D$$\n其中 $D$ 是触发器的输入。\n\n在此设计中，4-1 MUX 的输出连接到触发器的 D 输入，因此 $D$ 等于 MUX 的输出。4-1 MUX 输出的通用逻辑函数为：\n$$Y_{MUX} = \\overline{S_1}\\overline{S_0}I_0 + \\overline{S_1}S_0I_1 + S_1\\overline{S_0}I_2 + S_1S_0I_3$$\n因为 $D = Y_{MUX}$，我们有：\n$$Q_{next} = \\overline{S_1}\\overline{S_0}I_0 + \\overline{S_1}S_0I_1 + S_1\\overline{S_0}I_2 + S_1S_0I_3$$\n我们现在分析选择线 $S_1$ 和 $S_0$ 的四种可能组合中每一种所需的行为。\n\n**情况 1：保持操作 ($S_1S_0 = 00$)**\n问题指定在此情况下，单元必须保持其状态，即 $Q_{next} = Q$。\n当 $S_1=0$ 且 $S_0=0$ 时，多路复用器选择 $I_0$。因此 $D = I_0$，方程变为 $Q_{next} = I_0$。\n为满足保持条件，我们必须有：$I_0 = Q$。\n\n**情况 2：同步复位操作 ($S_1S_0 = 01$)**\n在此情况下，无论当前状态 $Q$ 如何，下一状态都必须为 0，即 $Q_{next} = 0$。\n当 $S_1=0$ 且 $S_0=1$ 时，多路复用器选择 $I_1$。因此 $D = I_1$，方程变为 $Q_{next} = I_1$。\n为了满足复位条件，我们必须有：$I_1 = 0$。\n\n**情况 3：同步置位操作 ($S_1S_0 = 10$)**\n在此情况下，无论当前状态 $Q$ 如何，下一状态都必须为 1，即 $Q_{next} = 1$。\n当 $S_1=1$ 且 $S_0=0$ 时，多路复用器选择 $I_2$。因此 $D = I_2$，方程变为 $Q_{next} = I_2$。\n为了满足置位条件，我们必须有：$I_2 = 1$。\n\n**情况 4：翻转操作 ($S_1S_0 = 11$)**\n在此情况下，下一状态必须是当前状态的逻辑反，即 $Q_{next} = \\overline{Q}$。\n当 $S_1=1$ 且 $S_0=1$ 时，多路复用器选择 $I_3$。因此 $D = I_3$，方程变为 $Q_{next} = I_3$。\n为了满足翻转条件，我们必须有：$I_3 = \\overline{Q}$。\n\n总结结果，多路复用器输入所需的布尔表达式为：\n$I_0 = Q$\n$I_1 = 0$\n$I_2 = 1$\n$I_3 = \\overline{Q}$", "answer": "$$\\boxed{\\begin{pmatrix} Q & 0 & 1 & \\overline{Q} \\end{pmatrix}}$$", "id": "1967141"}, {"introduction": "从理想的逻辑模型转向真实的物理世界，最后一个实践将探讨数字电路中至关重要的时序约束概念。你将分析建立时间 ($t_{su}$) 和保持时间 ($t_h$) 等关键参数如何定义数据变化的“禁区”，以及违反这些约束如何导致亚稳态等问题。这个定量分析练习对于理解高速数字设计的挑战和保证系统可靠性至关重要。[@problem_id:1967126]", "problem": "一位数字系统工程师正在对一个定制的、上升沿触发的数据触发器（D-FF或D触发器）进行特性表征。该触发器的标定建立时间为 $t_{su} = 0.25 \\text{ ns}$，保持时间为 $t_h = 0.15 \\text{ ns}$。\n\n为了测试时序裕度，构建了一个测试电路。触发器的时钟输入（`CLK_FF`）由一个信号发生器驱动，该信号发生器产生一个频率为 $f = 500 \\text{ MHz}$ 的稳定时钟。触发器的D输入直接连接到第二个相同的信号发生器（`CLK_DATA`）的输出。第二个发生器与第一个同步，但具有一个可控的相位延迟 $\\Delta \\phi$，该延迟可以相对于 `CLK_FF` 在 $0^\\circ$ 到 $360^\\circ$ 之间连续变化。为简化本问题，假设 `CLK_DATA` 的上升沿和下降沿是瞬时的。\n\n如果作为D输入的 `CLK_DATA` 信号的上升沿在相对于 `CLK_FF` 上升沿的、由建立时间和保持时间所定义的禁止时间窗内发生跳变，则会发生时序违规。这种违规可能导致触发器的输出进入亚稳态。\n\n计算会导致触发器输入端发生时序违规的相位延迟 $\\Delta \\phi$ 的总角度范围（以度为单位）。将您的最终答案保留三位有效数字。", "solution": "问题要求计算导致D触发器发生时序违规（建立时间或保持时间违规）的相位延迟 $\\Delta \\phi$ 的总角度范围。\n\n首先，我们确定时钟信号的周期 $T$。给定频率 $f$ 为 $500 \\text{ MHz}$。\n$$T = \\frac{1}{f} = \\frac{1}{500 \\times 10^{6} \\text{ Hz}} = 2.0 \\times 10^{-9} \\text{ s} = 2.0 \\text{ ns}$$\n\n该触发器是上升沿触发的。我们考虑触发器时钟 `CLK_FF` 在时间 $t_{clk}$ 发生的一个上升沿。D输入必须在该沿之前的建立时间窗口内和之后的保持时间窗口内保持稳定。\n- 建立时间窗口为 $[t_{clk} - t_{su}, t_{clk}]$。在此区间内，D输入不能发生变化。\n- 保持时间窗口为 $[t_{clk}, t_{clk} + t_h]$。在此区间内，D输入不能发生变化。\n\nD输入是 `CLK_DATA` 信号，它相对于 `CLK_FF` 有一个相位延迟 $\\Delta \\phi$。这对应于一个时间延迟 $\\Delta t$。以度为单位的相位延迟与时间延迟之间的关系如下：\n$$ \\frac{\\Delta \\phi}{360^\\circ} = \\frac{\\Delta t}{T} \\implies \\Delta t = T \\frac{\\Delta \\phi}{360^\\circ} $$\n由于相位延迟 $\\Delta \\phi$ 可以在 $0^\\circ$ 到 $360^\\circ$ 之间变化，因此时间延迟 $\\Delta t$ 可以在 $0$ 到 $T$ 之间变化。`CLK_DATA` 的一个上升沿发生在时间 $t_{data} = t_{clk} + \\Delta t$。\n\n我们需要找出在范围 $[0, T)$ 内导致违规的 $\\Delta t$ 的值。\n\n情况1：保持时间违规\n如果D输入（即 `CLK_DATA`）在保持时间窗口内发生跳变，则会发生保持时间违规。这意味着 $t_{data}$ 处的边沿落在区间 $(t_{clk}, t_{clk} + t_h)$ 内。\n$$ t_{clk} < t_{data} < t_{clk} + t_h $$\n代入 $t_{data} = t_{clk} + \\Delta t$：\n$$ t_{clk} < t_{clk} + \\Delta t < t_{clk} + t_h $$\n$$ 0 < \\Delta t < t_h $$\n因此，$(0, 0.15 \\text{ ns})$ 区间内的任何时间延迟 $\\Delta t$ 都会导致保持时间违规。该区间的持续时间为 $t_h$。\n\n情况2：建立时间违规\n如果D输入在 `CLK_FF` 边沿的建立时间窗口内发生跳变，就会发生建立时间违规。`CLK_DATA` 在 $t_{data} = t_{clk} + \\Delta t$ 处的边沿不得出现在 `CLK_FF` 的*下一个*上升沿的建立时间窗口内。`CLK_FF` 的下一个上升沿发生在 $t_{clk} + T$。这个下一个边沿的建立时间窗口是 $[(t_{clk} + T) - t_{su}, t_{clk} + T]$。\n如果 $t_{data}$ 落在此区间内，则会发生违规：\n$$ (t_{clk} + T) - t_{su} < t_{data} < t_{clk} + T $$\n代入 $t_{data} = t_{clk} + \\Delta t$：\n$$ t_{clk} + T - t_{su} < t_{clk} + \\Delta t < t_{clk} + T $$\n$$ T - t_{su} < \\Delta t < T $$\n因此，区间 $(T - t_{su}, T)$ 内的任何时间延迟 $\\Delta t$ 都会导致建立时间违规。\n代入数值 $T = 2.0 \\text{ ns}$ 和 $t_{su} = 0.25 \\text{ ns}$：\n$$ (2.0 - 0.25) \\text{ ns} < \\Delta t < 2.0 \\text{ ns} $$\n$$ 1.75 \\text{ ns} < \\Delta t < 2.0 \\text{ ns} $$\n该区间的持续时间为 $t_{su}$。\n\n在一个周期内发生违规的总持续时间 $\\Delta t_{viol}$ 是这两个不相交区间的持续时间之和：\n$$ \\Delta t_{viol} = (\\text{保持时间违规区间的持续时间}) + (\\text{建立时间违规区间的持续时间}) $$\n$$ \\Delta t_{viol} = t_h + t_{su} $$\n$$ \\Delta t_{viol} = 0.15 \\text{ ns} + 0.25 \\text{ ns} = 0.40 \\text{ ns} $$\n\n现在，我们将这个总持续时间转换为一个角度范围 $\\Delta \\phi_{viol}$。\n$$ \\frac{\\Delta \\phi_{viol}}{360^\\circ} = \\frac{\\Delta t_{viol}}{T} $$\n$$ \\Delta \\phi_{viol} = \\frac{\\Delta t_{viol}}{T} \\times 360^\\circ $$\n$$ \\Delta \\phi_{viol} = \\frac{0.40 \\text{ ns}}{2.0 \\text{ ns}} \\times 360^\\circ = 0.20 \\times 360^\\circ = 72^\\circ $$\n\n问题要求将答案保留三位有效数字。\n$$ \\Delta \\phi_{viol} = 72.0^\\circ $$\n最终答案是这个角度范围的数值。", "answer": "$$\\boxed{72.0}$$", "id": "1967126"}]}