{"hands_on_practices": [{"introduction": "要想精通双向移位寄存器，第一步是牢固掌握其核心操作。本练习将引导你手动追踪在一系列时钟脉冲下，数据位在寄存器中的逐次移动，涵盖了基本的右移和左移功能 [@problem_id:1913058]。通过这个实践，你将为理解更复杂的寄存器应用打下坚实的基础。", "id": "1913058", "problem": "一个4位双向移位寄存器存储着二进制值 `1011`。这些位被标记为 `Q_3 Q_2 Q_1 Q_0`，其中 `Q_3` 是最高有效位 (MSB)，`Q_0` 是最低有效位 (LSB)。该寄存器经历一系列三个时钟脉冲。操作如下：\n1.  在第一个时钟脉冲上，执行一次右移操作。\n2.  在第二个时钟脉冲上，执行一次左移操作。\n3.  在第三个时钟脉冲上，再执行一次左移操作。\n\n对于右移操作，串行输入被馈入最高有效位 (`Q_3`)，并且对于 `i = 3, 2, 1`，`Q_i` 的内容被传输到 `Q_{i-1}`。对于左移操作，串行输入被馈入最低有效位 (`Q_0`)，并且对于 `i = 0, 1, 2`，`Q_i` 的内容被传输到 `Q_{i+1}`。对于所有操作，串行输入均为恒定的逻辑 `0`。\n\n确定在这一系列三次操作之后，存储在寄存器中的4位二进制值。请以4位二进制字符串的形式给出您的答案。", "solution": "设第 $k$ 个时钟后的寄存器状态表示为 $Q_{3}^{(k)}Q_{2}^{(k)}Q_{1}^{(k)}Q_{0}^{(k)}$，初始状态为 $Q_{3}^{(0)}Q_{2}^{(0)}Q_{1}^{(0)}Q_{0}^{(0)}=1011$。所有操作的串行输入均为 $0$。\n\n对于右移操作，更新规则为：\n$$\nQ_{3}^{+}=0,\\quad Q_{2}^{+}=Q_{3},\\quad Q_{1}^{+}=Q_{2},\\quad Q_{0}^{+}=Q_{1}.\n$$\n将此规则应用于初始状态，得到：\n$$\nQ_{3}^{(1)}=0,\\quad Q_{2}^{(1)}=1,\\quad Q_{1}^{(1)}=0,\\quad Q_{0}^{(1)}=1 \\;\\Rightarrow\\; Q^{(1)}=0101.\n$$\n\n对于左移操作，更新规则为：\n$$\nQ_{0}^{+}=0,\\quad Q_{1}^{+}=Q_{0},\\quad Q_{2}^{+}=Q_{1},\\quad Q_{3}^{+}=Q_{2}.\n$$\n将此规则应用于 $Q^{(1)}=0101$，得出：\n$$\nQ_{3}^{(2)}=Q_{2}^{(1)}=0,\\quad Q_{2}^{(2)}=Q_{1}^{(1)}=0,\\quad Q_{1}^{(2)}=Q_{0}^{(1)}=1,\\quad Q_{0}^{(2)}=0 \\;\\Rightarrow\\; Q^{(2)}=0010.\n$$\n\n对 $Q^{(2)}=0010$ 应用第二次左移：\n$$\nQ_{3}^{(3)}=Q_{2}^{(2)}=0,\\quad Q_{2}^{(3)}=Q_{1}^{(2)}=1,\\quad Q_{1}^{(3)}=Q_{0}^{(2)}=0,\\quad Q_{0}^{(3)}=0 \\;\\Rightarrow\\; Q^{(3)}=0100.\n$$\n\n因此，在三次操作之后，寄存器中存储的4位值为 $0100$。", "answer": "$$\\boxed{0100}$$"}, {"introduction": "真实的移位寄存器功能远不止于简单的移位。本练习将向你介绍通用移位寄存器的概念，它可以通过模式控制输入选择多种操作 [@problem_id:1913045]。你将练习其中一项关键功能——并行加载，这让你能够理解如何将一组全新的数据一次性载入寄存器，从而极大地提升了数据处理的灵活性。", "id": "1913045", "problem": "一个4位通用移位寄存器是数字系统中用于数据处理的基本元件。它能根据两个模式控制输入 $S_1$ 和 $S_0$ 执行多种操作。该寄存器有四个并行数据输出 $Q_3, Q_2, Q_1, Q_0$，代表其当前状态。其功能定义如下：\n\n- 若 $S_1S_0 = 00$，寄存器保持当前状态（无变化）。\n- 若 $S_1S_0 = 01$，寄存器执行逻辑右移。数据从 $Q_k$ 移位到 $Q_{k-1}$，一个串行输入 $SRI$ 被加载到 $Q_3$ 中。\n- 若 $S_1S_0 = 10$，寄存器执行逻辑左移。数据从 $Q_k$ 移位到 $Q_{k+1}$，一个串行输入 $SLI$ 被加载到 $Q_0$ 中。\n- 若 $S_1S_0 = 11$，寄存器执行并行加载。来自四个并行输入 $I_3, I_2, I_1, I_0$ 的数据被加载到寄存器中。\n\n假设该寄存器是同步的，并且所有状态变化都发生在时钟信号的上升沿。\n\n寄存器当前的状态为 $Q_3Q_2Q_1Q_0 = 0110$。在下一个时钟周期，模式控制输入设置为 $S_1S_0 = 11$，并行数据输入设置为 $I_3I_2I_1I_0 = 1100$。串行输入为 $SRI=0$ 和 $SLI=1$。\n\n在下一个时钟上升沿之后，寄存器的状态 ($Q_3Q_2Q_1Q_0$) 将是什么？\n\nA. 0110\nB. 0011\nC. 1100\nD. 1110\nE. 0100", "solution": "令 $Q_{k}^{+}$ 表示紧邻下一个时钟上升沿之后位 $Q_{k}$ 的值。对于一个4位通用移位寄存器，其同步下一状态关系为\n$$\n(Q_{3}^{+},Q_{2}^{+},Q_{1}^{+},Q_{0}^{+})=\n\\begin{cases}\n(Q_{3},Q_{2},Q_{1},Q_{0}), & S_{1}S_{0}=00,\\\\\n(SRI,Q_{3},Q_{2},Q_{1}), & S_{1}S_{0}=01,\\\\\n(Q_{2},Q_{1},Q_{0},SLI), & S_{1}S_{0}=10,\\\\\n(I_{3},I_{2},I_{1},I_{0}), & S_{1}S_{0}=11.\n\\end{cases}\n$$\n给定 $S_{1}S_{0}=11$，操作是并行加载，因此下一状态仅由输入 $I_{3},I_{2},I_{1},I_{0}$ 决定，与当前状态和串行输入无关。代入给定值 $I_{3}I_{2}I_{1}I_{0}=1100$ 可得\n$$\n(Q_{3}^{+},Q_{2}^{+},Q_{1}^{+},Q_{0}^{+})=(I_{3},I_{2},I_{1},I_{0})=(1,1,0,0).\n$$\n因此，在紧邻下一个时钟上升沿之后，寄存器的状态是 $Q_{3}Q_{2}Q_{1}Q_{0}=1100$，这对应于选项C。", "answer": "$$\\boxed{C}$$"}, {"introduction": "检验知识掌握程度的最好方法是将其应用于解决实际问题。本练习模拟了一个常见的硬件调试场景：当寄存器的输出与预期不符时，如何定位故障 [@problem_id:1913069]？通过比较由移位操作产生的正确结果和观测到的错误状态，你将锻炼出逻辑推理和故障诊断的关键技能。", "id": "1913069", "problem": "一个4位双向移位寄存器由D型触发器构成。寄存器的状态由四位 $Q_3Q_2Q_1Q_0$ 表示，其中 $Q_3$ 是最高有效位 (MSB)。该寄存器有一个模式控制器，可以配置其进行左移或右移操作。左移操作的串行数据输入表示为 $S_L$。\n\n寄存器被初始化为状态 `1010`。然后它被配置为执行左移操作，并且串行输入 $S_L$ 保持在恒定的逻辑 `1`。施加一个时钟脉冲后，观察到寄存器的新状态为 `1101`。\n\n假设时钟信号、模式选择逻辑和串行输入线都工作正常，并且四个触发器中至多有一个存在故障，请找出发生故障的触发器。\n\nA. 存储 $Q_0$ 的触发器。\nB. 存储 $Q_1$ 的触发器。\nC. 存储 $Q_2$ 的触发器。\nD. 存储 $Q_3$ 的触发器。", "solution": "在一个状态表示为 $Q_{3}Q_{2}Q_{1}Q_{0}$ 的4位双向移位寄存器中，对于一个左移操作，一个时钟脉冲的位传输方程为\n$$\nQ_{3}^{+}=Q_{2},\\quad Q_{2}^{+}=Q_{1},\\quad Q_{1}^{+}=Q_{0},\\quad Q_{0}^{+}=S_{L},\n$$\n其中上标 $+$ 表示时钟作用后的次态，而 $S_{L}$ 是在 $Q_{0}$ 位输入的左移串行数据。\n\n给定初始状态 $Q_{3}Q_{2}Q_{1}Q_{0}=1010$ 且 $S_{L}=1$，预期的次态计算如下\n$$\nQ_{3}^{+}=Q_{2}=0,\\quad Q_{2}^{+}=Q_{1}=1,\\quad Q_{1}^{+}=Q_{0}=0,\\quad Q_{0}^{+}=S_{L}=1,\n$$\n因此正确的次态应为 $0101$。\n\n观察到的次态是 $1101$。与预期的 $0101$ 逐位比较：\n- $Q_{2}^{+}$ 匹配：预期为 $1$，观测为 $1$。\n- $Q_{1}^{+}$ 匹配：预期为 $0$，观测为 $0$。\n- $Q_{0}^{+}$ 匹配：预期为 $1$，观测为 $1$。\n- $Q_{3}^{+}$ 不匹配：预期为 $0$，观测为 $1$。\n\n在时钟、模式选择逻辑和串行输入线都正确，且至多一个触发器有故障的假设下，唯一符合的故障是在存储 $Q_{3}$ 的触发器中，因为 $Q_{3}^{+}$ 应等于已知的正确当前值 $Q_{2}$ (即 $0$)，但它却显示为 $1$。其他三个触发器的行为与预期的左移操作一致，因此排除了它们是唯一错误来源的可能性。\n\n因此，发生故障的触发器是存储 $Q_{3}$ 的那一个。", "answer": "$$\\boxed{D}$$"}]}