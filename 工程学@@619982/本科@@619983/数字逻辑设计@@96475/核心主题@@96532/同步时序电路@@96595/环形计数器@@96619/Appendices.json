{"hands_on_practices": [{"introduction": "这个练习旨在巩固环形计数器的核心功能：其状态如何随每个时钟脉冲而变化。通过追踪一个具体的时间点，你将练习把时钟频率、时序和状态转移联系起来，这是理解所有序向逻辑电路的基础。这个问题 [@problem_id:1971061] 将考验你精确计算状态序列的能力，即使是在非标准的接线配置下。", "problem": "一个用于控制一组三个实验性发光二极管（LED）的时序控制电路正在设计中。该电路的核心是一个 3 位环形计数器，它由三个上升沿触发的 D 型触发器构成。触发器的输出表示为 $(Q_2, Q_1, Q_0)$，其对应的输入为 $(D_2, D_1, D_0)$。\n\n这些触发器相互连接，以产生一种特定的循环移位模式。连接方式如下：第 2 级的输出 $Q_2$ 连接到第 0 级的输入 ($D_0$)；第 1 级的输出 $Q_1$ 连接到第 2 级的输入 ($D_2$)；第 0 级的输出 $Q_0$ 连接到第 1 级的输入 ($D_1$)。\n\n计数器由一个频率为 $1.0$ MHz 的稳定时钟驱动。在时间 $t=0$ 时，系统被异步初始化到状态 $(Q_2, Q_1, Q_0) = (1, 0, 0)$。一个周期性的时钟信号驱动该计数器，其第一个正沿（上升沿）出现在 $t=1.0$ 微秒，随后的上升沿以由时钟频率决定的固定间隔出现。\n\n请确定在 $t = 4.2$ 微秒的精确时刻，计数器的二进制状态（表示为字符串 $Q_2Q_1Q_0$）。", "solution": "三个上升沿触发的 D 型触发器按 $D_{0}=Q_{2}$、$D_{2}=Q_{1}$ 和 $D_{1}=Q_{0}$ 的方式互连。在每个时钟上升沿，下一状态等于当前输入，因此状态更新方程为\n$$\n(Q_{2}^{+},\\,Q_{1}^{+},\\,Q_{0}^{+})=(D_{2},\\,D_{1},\\,D_{0})=(Q_{1},\\,Q_{0},\\,Q_{2}),\n$$\n这是对三元组 $(Q_{2},Q_{1},Q_{0})$ 的一次右旋操作。\n\n时钟频率为 $f=1.0\\times 10^{6}$ 赫兹，所以时钟周期是\n$$\nT=\\frac{1}{f}=\\frac{1}{1.0\\times 10^{6}}\\ \\text{seconds}=1.0\\times 10^{-6}\\ \\text{seconds}.\n$$\n上升沿出现在 $t=kT$ 时刻，其中整数 $k\\geq 1$。到时间 $t$ 为止已发生的上升沿数量为\n$$\nN(t)=\\left\\lfloor \\frac{t}{T}\\right\\rfloor.\n$$\n在 $t=4.2\\times 10^{-6}$ 秒时，我们有 $\\frac{t}{T}=4.2$，因此 $N(t)=4$。因为触发器是上升沿触发的，所以状态仅在上升沿发生变化，并在沿之间保持不变。因此，在 $t=4.2\\times 10^{-6}$ 秒时的状态，是从初始状态经过整好 4 次循环移位后的状态。\n\n从 $t=0$ 时的异步初始状态 $(Q_{2},Q_{1},Q_{0})=(1,0,0)$ 开始，连续的循环移位给出\n$$\nR^{1}:(1,0,0)\\mapsto(0,0,1),\\quad\nR^{2}:(0,0,1)\\mapsto(0,1,0),\\quad\nR^{3}:(0,1,0)\\mapsto(1,0,0),\\quad\nR^{4}:(1,0,0)\\mapsto(0,0,1).\n$$\n因此，在 $t=4.0\\times 10^{-6}$ 秒的上升沿之后，直到下一个上升沿（在 $t=5.0\\times 10^{-6}$ 秒）之前的所有时间里，状态均为 $(Q_{2},Q_{1},Q_{0})=(0,0,1)$。所以，在 $t=4.2$ 微秒时，二进制字符串 $Q_{2}Q_{1}Q_{0}$ 是 $001$。", "answer": "$$\\boxed{001}$$", "id": "1971061"}, {"introduction": "在掌握了D触发器实现的基础后，下一个挑战是使用功能更复杂的元件来构建电路。这个练习要求你使用JK触发器来设计一个环形计数器，这需要将期望的状态转移（例如，$Q_1$ 的下一状态是 $Q_2$）转化为JK触发器特定的输入逻辑。通过解决这个问题 [@problem_id:1971069]，你将深化对触发器特性方程的理解，并掌握更灵活的电路设计技巧。", "problem": "一个3位环形计数器是一种时序数字电路，它会循环经过一个特定的状态序列。状态由三个触发器的输出表示，记作 $Q_2Q_1Q_0$。这个特定的环形计数器被设计为遵循状态序列：`100` $\\rightarrow$ `010` $\\rightarrow$ `001`，然后从 `100` 开始重复循环。不在此序列中的状态（`000`, `011`, `101`, `110`, `111`）被视为不可达或“无关”状态。\n\n该电路由三个JK触发器实现。触发器 $i$ 的输出是 $Q_i$。JK触发器的行为由其特性方程 $Q_{next} = J\\bar{Q} + \\bar{K}Q$ 定义，其中 $Q$ 是当前状态，$Q_{next}$ 是次态。\n\n你的任务是确定一组有效的输入（$J_2, K_2, J_1, K_1, J_0, K_0$）的逻辑表达式，这些表达式是当前状态输出（$Q_2, Q_1, Q_0$）的函数。下列哪组方程正确地实现了指定的3位环形计数器？\n\nA.\n$J_2=Q_0, K_2=Q_2$; $J_1=Q_2, K_1=Q_1$; $J_0=Q_1, K_0=Q_0$\n\nB.\n$J_2=Q_1, K_2=Q_2$; $J_1=Q_0, K_1=Q_1$; $J_0=Q_2, K_0=Q_0$\n\nC.\n$J_2=\\overline{Q_0}, K_2=Q_0$; $J_1=Q_2, K_1=\\overline{Q_2}$; $J_0=Q_1, K_0=\\overline{Q_1}$\n\nD.\n$J_2=Q_2, K_2=Q_0$; $J_1=Q_1, K_1=Q_2$; $J_0=Q_0, K_0=Q_1$", "solution": "所需的单热环形序列为 $Q_{2}Q_{1}Q_{0}: 100 \\rightarrow 010 \\rightarrow 001 \\rightarrow 100$，这等价地表示为次态关系\n$$\nQ_{2}^{+} = Q_{0}, \\quad Q_{1}^{+} = Q_{2}, \\quad Q_{0}^{+} = Q_{1}.\n$$\nJK触发器遵循特性方程\n$$\nQ^{+} = J\\bar{Q} + \\bar{K}Q.\n$$\n为了在单热操作（任何时候只有一个 $Q_{i}$ 等于1）下从当前状态实现 $Q_{i}^{+}$，一个充分的设计模式是强制当前置1的位复位，并让下一个位置位。这可以通过为每一位选择如下方式实现：\n$$\nK_{i} = Q_{i} \\quad \\text{(复位当前为高电平的位)}, \\qquad J_{i} = \\text{下一个应为1的位}.\n$$\n应用目标关系 $Q_{2}^{+}=Q_{0}$, $Q_{1}^{+}=Q_{2}$, $Q_{0}^{+}=Q_{1}$ 可得\n$$\nJ_{2} = Q_{0}, \\quad K_{2} = Q_{2}; \\qquad J_{1} = Q_{2}, \\quad K_{1} = Q_{1}; \\qquad J_{0} = Q_{1}, \\quad K_{0} = Q_{0}.\n$$\n使用特性方程进行代数验证。例如，当 $K_{2}=Q_{2}$ 时，我们有 $\\bar{K_{2}}=\\bar{Q_{2}}$，因此\n$$\nQ_{2}^{+} = J_{2}\\bar{Q_{2}} + \\bar{K_{2}}Q_{2} = Q_{0}\\bar{Q_{2}} + \\bar{Q_{2}}Q_{2} = Q_{0}\\bar{Q_{2}}.\n$$\n因为电路被限制在单热状态，所以 $Q_{0}$ 和 $Q_{2}$ 不能同时为 $1$。因此，在可达域上，$Q_{0}\\bar{Q_{2}}=Q_{0}$，这得到所要求的 $Q_{2}^{+}=Q_{0}$。同样的计算，对于 $J_{1}=Q_{2}, K_{1}=Q_{1}$ 和 $J_{0}=Q_{1}, K_{0}=Q_{0}$，可以得到 $Q_{1}^{+}=Q_{2}$ 和 $Q_{0}^{+}=Q_{1}$。\n\n因此，选项A实现了指定的环形计数器。为完整起见，其他每个选项都在某个可达状态上失败：\n- 选项B在 $Q_{2}Q_{1}Q_{0}=100$ 时，得到 $Q^{+}=001$，而不是 $010$。\n- 选项C在 $Q_{2}Q_{1}Q_{0}=100$ 时，得到 $Q^{+}=110$。\n- 选项D在 $Q_{2}Q_{1}Q_{0}=100$ 时，得到 $Q^{+}=100$ (停滞)。\n\n因此，正确选项是A。", "answer": "$$\\boxed{A}$$", "id": "1971069"}, {"introduction": "理想的电路在现实世界中可能遇到意外情况，例如瞬时干扰导致的非法状态。这个问题 [@problem_id:1971060] 引入了一个重要的工程概念：设计鲁棒性。你的任务是为环形计数器增加一个“自校正”机制，使其在进入一个常见的“锁定”状态（全0）时能自动恢复到正常工作序列，从而确保系统的可靠性。", "problem": "一个 4 位同步环形计数器由四个 D 型触发器构成，分别表示为 $FF_3, FF_2, FF_1, FF_0$。这些触发器的输出分别为 $Q_3, Q_2, Q_1, Q_0$，代表计数器的状态。在正常工作时，计数器会循环经历状态序列 $1000 \\rightarrow 0100 \\rightarrow 0010 \\rightarrow 0001$。然而，由于瞬时毛刺，计数器可能会进入一个无效的“锁定”状态，此时 $Q_3Q_2Q_1Q_0 = 0000$。从这个状态开始，一个标准的环形计数器将永久锁定在 $0000$ 状态。\n\n为了防止这种情况，必须添加一个自校正机制。设计要求是使用包含一个 4 输入或非门的组合逻辑。该逻辑必须修改触发器的输入（$D_3, D_2, D_1, D_0$），使得如果当前状态是无效状态 $0000$，则在下一个时钟周期，状态将变为 $1000$。对于所有有效的环形计数器状态，必须保持正常的序列。\n\n设 4 输入或非门的输出定义为 $Y = \\text{NOR}(Q_3, Q_2, Q_1, Q_0)$。下列哪组布尔方程正确描述了这个自校正环形计数器的触发器输入？\n\nA. \n$D_3 = Q_0 + Y; \\quad D_2 = Q_3 \\cdot \\overline{Y}; \\quad D_1 = Q_2 \\cdot \\overline{Y}; \\quad D_0 = Q_1 \\cdot \\overline{Y}$\n\nB. \n$D_3 = \\overline{Q_0}; \\quad D_2 = Q_3; \\quad D_1 = Q_2; \\quad D_0 = Q_1$\n\nC. \n$D_3 = Q_0 \\cdot \\overline{Y}; \\quad D_2 = Q_3 \\cdot \\overline{Y}; \\quad D_1 = Q_2 \\cdot \\overline{Y}; \\quad D_0 = Q_1 + Y$\n\nD. \n$D_3 = Q_0 + Y; \\quad D_2 = Q_3 \\cdot Y; \\quad D_1 = Q_2 \\cdot Y; \\quad D_0 = Q_1 \\cdot Y$", "solution": "目标是设计一个自校正的 4 位环形计数器。该电路必须满足两个条件：\n1.  **正常工作：** 对于有效状态（$1000, 0100, 0010, 0001$），它必须像一个标准的环形计数器一样工作。标准环形计数器的输入逻辑是 $D_3 = Q_0$，$D_2 = Q_3$，$D_1 = Q_2$ 和 $D_0 = Q_1$。\n2.  **校正：** 如果计数器处于无效状态 $0000$，其下一个状态必须是 $1000$。这意味着当当前状态为 $Q_3Q_2Q_1Q_0 = 0000$ 时，触发器的输入必须是 $D_3D_2D_1D_0 = 1000$。\n\n我们使用一个 4 输入或非门来检测无效状态。设其输出为 $Y$。\n$$Y = \\text{NOR}(Q_3, Q_2, Q_1, Q_0) = \\overline{Q_3 + Q_2 + Q_1 + Q_0}$$\n当且仅当所有输入均为 0 时，即状态为 $Q_3Q_2Q_1Q_0 = 0000$ 时，输出 $Y$ 为 1。对于任何其他状态，包括所有有效的环形计数器状态（这些状态是“独热码”，意味着只有一个位是 1），或非门的至少一个输入将为 1，使其输出 $Y=0$。\n因此，$Y=1$ 表示无效状态，$Y=0$ 表示任何其他状态（包括所有有效状态）。因此，对于任何有效状态，$\\overline{Y}$ 为 1，而对于无效状态，$\\overline{Y}$ 为 0。\n\n我们可以用一个通用公式来表示每个 D 输入的逻辑，该公式结合了正常逻辑和校正逻辑：\n$$D_i = (\\text{正常逻辑}_i \\cdot \\overline{Y}) + (\\text{校正逻辑}_i \\cdot Y)$$\n这种结构确保了当 $Y=0$（正常工作）时，校正逻辑被禁用；当 $Y=1$（无效状态）时，正常逻辑被禁用。\n\n让我们推导每个触发器输入的方程。\n\n**对于 $D_3$：**\n- 正常逻辑：$D_{3, \\text{normal}} = Q_0$。\n- 校正逻辑：为了使下一状态为 $1000$，我们需要 $D_3=1$。因此，$D_{3, \\text{correct}} = 1$。\n- 组合逻辑：$D_3 = (Q_0 \\cdot \\overline{Y}) + (1 \\cdot Y) = Q_0\\overline{Y} + Y$。\n使用布尔代数恒等式 $A + \\overline{A}B = A+B$，我们可以简化这个表达式。令 $A=Y$ 和 $B=Q_0$。\n那么 $Y + \\overline{Y}Q_0 = Y + Q_0$。\n所以，$D_3$ 的最终方程是 $D_3 = Q_0 + Y$。\n\n**对于 $D_2$：**\n- 正常逻辑：$D_{2, \\text{normal}} = Q_3$。\n- 校正逻辑：为了使下一状态为 $1000$，我们需要 $D_2=0$。因此，$D_{2, \\text{correct}} = 0$。\n- 组合逻辑：$D_2 = (Q_3 \\cdot \\overline{Y}) + (0 \\cdot Y) = Q_3\\overline{Y}$。\n\n**对于 $D_1$：**\n- 正常逻辑：$D_{1, \\text{normal}} = Q_2$。\n- 校正逻辑：为了使下一状态为 $1000$，我们需要 $D_1=0$。因此，$D_{1, \\text{correct}} = 0$。\n- 组合逻辑：$D_1 = (Q_2 \\cdot \\overline{Y}) + (0 \\cdot Y) = Q_2\\overline{Y}$。\n\n**对于 $D_0$：**\n- 正常逻辑：$D_{0, \\text{normal}} = Q_1$。\n- 校正逻辑：为了使下一状态为 $1000$，我们需要 $D_0=0$。因此，$D_{0, \\text{correct}} = 0$。\n- 组合逻辑：$D_0 = (Q_1 \\cdot \\overline{Y}) + (0 \\cdot Y) = Q_1\\overline{Y}$。\n\n我们总结一下推导出的方程：\n- $D_3 = Q_0 + Y$\n- $D_2 = Q_3 \\cdot \\overline{Y}$\n- $D_1 = Q_2 \\cdot \\overline{Y}$\n- $D_0 = Q_1 \\cdot \\overline{Y}$\n\n这组方程与选项 A 匹配。", "answer": "$$\\boxed{A}$$", "id": "1971060"}]}