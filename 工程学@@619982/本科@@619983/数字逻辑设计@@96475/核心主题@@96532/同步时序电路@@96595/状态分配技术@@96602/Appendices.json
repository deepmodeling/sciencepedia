{"hands_on_practices": [{"introduction": "状态分配的主要目标之一是简化最终实现的组合逻辑电路。一个有效的启发式方法是，将那些在相同输入条件下转换到同一个次态的现态分配给相邻的二进制码（汉明距离为$1$的码）。这个练习将让你直接从状态表中识别出应用此规则的机会，这是迈向优化有限状态机设计的第一步。[@problem_id:1961746]", "problem": "一个同步有限状态机 (FSM) 由以下状态转换表定义。该机器有四个状态（`S0`、`S1`、`S2`、`S3`）和一个二进制输入 `x`。该表为当前状态和输入的每种组合指定了下一状态。\n\n| 当前状态 | 下一状态 (当 x=0 时) | 下一状态 (当 x=1 时) |\n|:---:|:---:|:---:|\n| `S0`          | `S1`                  | `S3`                  |\n| `S1`          | `S2`                  | `S0`                  |\n| `S2`          | `S1`                  | `S3`                  |\n| `S3`          | `S0`                  | `S2`                  |\n\n在为 FSM 进行状态分配时，一种用以简化最终逻辑电路的启发式方法是，将那些在给定输入条件下会转换到相同下一状态的当前状态，分配给相邻的二进制代码（例如，仅相差一位的代码）。\n\n根据所提供的状态表，找出当输入 `x` 等于 1 时，会转换到相同下一状态的那一对不同的当前状态。\n\nA. (`S0`, `S1`)\n\nB. (`S1`, `S2`)\n\nC. (`S0`, `S2`)\n\nD. (`S2`, `S3`)\n\nE. (`S1`, `S3`)", "solution": "我们通过检查固定输入条件 $x=1$ 下的状态转换来应用上述启发式方法。从状态表中可知：\n- 当 $x=1$ 时，状态转换如下：$S0 \\to S3$，$S1 \\to S0$，$S2 \\to S3$，$S3 \\to S2$。\n我们找出映射到相同下一状态的不同当前状态对：\n- 当 $x=1$ 时，$S0$ 和 $S2$ 都转换到 $S3$。\n- 其余的转换是唯一的：$S1 \\to S0$ 和 $S3 \\to S2$。\n因此，所需的配对是 $(S0, S2)$，这对应于选项 C。", "answer": "$$\\boxed{C}$$", "id": "1961746"}, {"introduction": "在识别了优化的机会之后，下一步是评估不同的状态分配方案。另一个关键的启发式方法是为构成最频繁状态转换的两个状态（源状态和目标状态）分配相邻的二进制码。这个练习要求你比较两种状态分配方案，通过计算汉明距离来判断哪一种更好地应用了“邻接原则”，从而展示了设计决策如何直接影响逻辑优化的潜力。[@problem_id:1961721]", "problem": "一位数字设计工程师正在为一个专用机械臂开发控制器。该控制器的行为被建模为一个具有三种不同操作状态的有限状态机（FSM）：`IDLE`、`GRASP` 和 `MOVE`。根据操作分析，从`GRASP`状态到`MOVE`状态的转换发生频率最高，因此是逻辑优化的一个关键路径。\n\n为了实现这个FSM，使用了两个状态变量 $Q_1$ 和 $Q_0$。该工程师正在评估两种不同的二进制状态分配方案，以确定哪一种更优。在此背景下，一个最优的分配方案是指满足最频繁转换（从`GRASP`到`MOVE`）的邻接原则的方案，因为这通常会使下一状态解码器的组合逻辑更简单。\n\n提出的两种状态分配方案如下：\n\n**分配方案 A:**\n- `IDLE`： $Q_1Q_0 = 00$\n- `GRASP`：$Q_1Q_0 = 10$\n- `MOVE`： $Q_1Q_0 = 11$\n\n**分配方案 B:**\n- `IDLE`： $Q_1Q_0 = 00$\n- `GRASP`：$Q_1Q_0 = 01$\n- `MOVE`： $Q_1Q_0 = 10$\n\n考虑到优化从`GRASP`到`MOVE`转换的目标，以下哪个陈述基于邻接原则正确地评估了这两种分配方案？\n\nA. 分配方案 B 满足从`GRASP`到`MOVE`转换的邻接原则，而分配方案 A 不满足。\n\nB. 分配方案 A 和分配方案 B 都满足从`GRASP`到`MOVE`转换的邻接原则。\n\nC. 邻接原则在这里不适用，因为状态数量（三个）不是2的整数次幂。\n\nD. 分配方案 A 满足从`GRASP`到`MOVE`转换的邻接原则，而分配方案 B 不满足。\n\nE. 分配方案 A 和分配方案 B 都不满足从`GRASP`到`MOVE`转换的邻接原则。", "solution": "FSM中状态分配的邻接原则指出，为了简化下一状态逻辑（例如，通过卡诺图），最频繁的转换应该发生在二进制编码仅相差一位的状态之间。这对应于所分配的二进制代码之间的汉明距离为1。\n\n令 $d_{H}$ 表示 $\\{0,1\\}^{2}$ 上的汉明距离，其定义为两个二进制向量中不同位的数量。我们关注的转换是从 GRASP 到 MOVE。\n\n对于分配方案 A：GRASP 的状态为 $Q_{1}Q_{0}=10$，MOVE 的状态为 $Q_{1}Q_{0}=11$。将它们写成向量形式，GRASP 是 $(1,0)$，MOVE 是 $(1,1)$。这两个代码仅在 $Q_{0}$ 位上不同，因此\n$$\nd_{H}\\big((1,0),(1,1)\\big)=1,\n$$\n所以满足邻接原则。\n\n对于分配方案 B：GRASP 的状态为 $Q_{1}Q_{0}=01$，MOVE 的状态为 $Q_{1}Q_{0}=10$。作为向量，GRASP 是 $(0,1)$，MOVE 是 $(1,0)$。这两个代码在 $Q_{1}$ 和 $Q_{0}$ 位上都不同，因此\n$$\nd_{H}\\big((0,1),(1,0)\\big)=2,\n$$\n所以不满足邻接原则。\n\n因此，只有分配方案 A 满足从 GRASP 到 MOVE 转换的邻接原则。", "answer": "$$\\boxed{D}$$", "id": "1961721"}, {"introduction": "为了巩固你对状态分配、状态转换和最终逻辑电路三者之间紧密联系的理解，这个练习提供了一个“逆向工程”的挑战。通过已知的简化后的次态逻辑方程和原始的状态转换表，你必须推导出唯一可能导致如此简洁逻辑的二进制状态分配方案。这个过程将深刻地揭示一个优秀的状态分配对降低电路复杂度的决定性影响。[@problem_id:1961707]", "problem": "一位工程师的任务是对一个旧式控制单元进行逆向工程。已知该单元是一个 4 状态的 Mealy 有限状态机 (FSM)，其状态沿用历史标记 A、B、C 和 D，并接收一个单一输入 $X$。原始文档包含了状态转换表，但具体的状态二进制分配和输出逻辑设计已经丢失。\n\n该实现使用了两个 D 型触发器，其状态变量表示为 $Q_1$ 和 $Q_0$。通过电路分析，该工程师成功推导出了简化的次态逻辑方程，如下所示：\n$$Q_{1,next} = Q_0$$\n$$Q_{0,next} = \\overline{Q_1} + X$$\n其中 $\\overline{Q_1}$ 代表 $Q_1$ 的逻辑非，+ 代表逻辑或运算。\n\n已记录的状态转换表如下：\n\n| 现态 | 次态 (当 X=0 时) | 次态 (当 X=1 时) |\n|:---:|:---:|:---:|\n| A | B | B |\n| B | D | D |\n| C | A | B |\n| D | C | D |\n\n根据这些信息，确定必须为每个符号状态使用的二进制状态分配码 ($Q_1Q_0$)。从以下选项中选择正确的分配方案。\n\nA. A = `00`, B = `01`, C = `10`, D = `11`\n\nB. A = `00`, B = `01`, C = `11`, D = `10`\n\nC. A = `11`, B = `10`, C = `01`, D = `00`\n\nD. A = `10`, B = `00`, C = `01`, D = `11`\n\nE. A = `01`, B = `11`, C = `00`, D = `10`", "solution": "给定一个由两个 D 型触发器实现的 4 状态 Mealy FSM，其状态变量为 $Q_1$ 和 $Q_0$，次态方程为\n$$\nQ_{1,\\text{next}}=Q_0,\\qquad Q_{0,\\text{next}}=\\overline{Q_1}+X,\n$$\n其中 + 表示逻辑或。二进制状态为 $Q_1Q_0\\in\\{00,01,10,11\\}$。我们推导每个现态和输入 $X$ 的状态转换。\n\n1) 对于 $Q_1Q_0=00$：$Q_{1,\\text{next}}=Q_0=0$ 且 $Q_{0,\\text{next}}=\\overline{Q_1}+X=1+X=1$ (对于 $X=0$ 和 $X=1$ 均成立)。因此，\n$$\n00 \\to 01 \\text{ for } X\\in\\{0,1\\}.\n$$\n\n2) 对于 $Q_1Q_0=01$：$Q_{1,\\text{next}}=Q_0=1$ 且 $Q_{0,\\text{next}}=\\overline{Q_1}+X=1+X=1$ (对于 $X=0$ 和 $X=1$ 均成立)。因此，\n$$\n01 \\to 11 \\text{ for } X\\in\\{0,1\\}.\n$$\n\n3) 对于 $Q_1Q_0=10$：$Q_{1,\\text{next}}=Q_0=0$ 且 $Q_{0,\\text{next}}=\\overline{Q_1}+X=0+X=X$。因此，\n$$\n10 \\to 00 \\text{ if } X=0,\\qquad 10 \\to 01 \\text{ if } X=1.\n$$\n\n4) 对于 $Q_1Q_0=11$：$Q_{1,\\text{next}}=Q_0=1$ 且 $Q_{0,\\text{next}}=\\overline{Q_1}+X=0+X=X$。因此，\n$$\n11 \\to 10 \\text{ if } X=0,\\qquad 11 \\to 11 \\text{ if } X=1.\n$$\n\n现在将这些与已记录的符号转换进行匹配：\n- A：对于 $X=0$ 和 $X=1$，次态都是 B。\n- B：对于 $X=0$ 和 $X=1$，次态都是 D。\n- C：如果 $X=0$，次态是 A；如果 $X=1$，次态是 B。\n- D：如果 $X=0$，次态是 C；如果 $X=1$，次态是 D。\n\n从推导出的二进制转换中，仅有的次态与 $X$ 无关的状态是 $00$ 和 $01$。因此 A 和 B 必须是 $00$ 和 $01$（顺序待定）。\n\n如果我们设定 $A=00$，那么从 $00$ 出发，对于两种输入，次态都是 $01$，所以 $B=01$。从 $01$ 出发，对于两种输入，次态都是 $11$，所以 $D=11$。从 $11$ 出发，如果 $X=0$ 次态是 $10$，如果 $X=1$ 次态是 $11$。这与 D 在 $X=0$ 时转换为 C、在 $X=1$ 时转换为 D 的情况相匹配，因此 $C=10$。最后，检查 $C=10$：如果 $X=0$ 它转换为 $00$，如果 $X=1$ 它转换为 $01$。这与 C 在 $X=0$ 时转换为 A、在 $X=1$ 时转换为 B 的情况相匹配。因此，一致的分配方案是\n$$\nA=00,\\quad B=01,\\quad C=10,\\quad D=11,\n$$\n这对应于选项 A。\n\n没有其他分配方案能够满足要求，因为如果 $A=01$，那么其与 $X$ 无关的后继状态将是 $11$，但 $11$ 的转换并非与 $X$ 无关，这与 B 的转换与 $X$ 无关这一要求相矛盾。因此，该映射是唯一的。", "answer": "$$\\boxed{A}$$", "id": "1961707"}]}