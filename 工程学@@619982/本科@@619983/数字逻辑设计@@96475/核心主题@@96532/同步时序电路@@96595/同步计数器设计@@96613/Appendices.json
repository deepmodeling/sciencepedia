{"hands_on_practices": [{"introduction": "理论知识是基础，但真正的理解来自于实践。本节的第一个练习将带你走过同步计数器设计最核心的流程。我们将从一个具体的需求——一个只对奇数进行计数的特殊序列——出发，学习如何使用D触发器一步步构建出实现该功能的数字逻辑电路。这个练习旨在巩固状态转换表的建立、下一状态方程的推导以及利用无关项进行逻辑简化的基本技能。[@problem_id:1928988]", "problem": "一个数字系统需要一个特殊的计数器来循环一个特定的奇数序列。你的任务是使用上升沿触发的D触发器设计一个同步状态机来实现这个计数器。该计数器必须遵循以下重复的十进制序列：$1 \\rightarrow 3 \\rightarrow 5 \\rightarrow 7 \\rightarrow 1 \\rightarrow \\dots$。\n\n计数器的状态由三位 $Q_2, Q_1, Q_0$ 表示，其中 $Q_2$ 是最高有效位 (MSB)，$Q_0$ 是最低有效位 (LSB)。状态的数值由 $4Q_2 + 2Q_1 + Q_0$ 给出。三个D触发器的输入表示为 $D_2, D_1, D_0$。\n\n你的任务是确定触发器输入 ($D_2, D_1, D_0$) 关于当前状态变量 ($Q_2, Q_1, Q_0$) 的一组简化布尔表达式。未使用的状态 (0, 2, 4, 6) 应被视为“无关”项，以获得最简的积之和表达式。布尔非 (NOT) 运算用上撇号 (例如 $Q'$) 表示，逻辑或用加号 (+) 表示。逻辑与用并列 (例如 $AB$) 表示。\n\n以下哪个选项代表了D触发器的正确简化输入方程组？\n\nA. $D_2 = Q_2'Q_1 + Q_2Q_1'$; $\\quad D_1 = Q_1'$; $\\quad D_0 = 1$\n\nB. $D_2 = Q_1$; $\\quad D_1 = Q_0'$; $\\quad D_0 = Q_1$\n\nC. $D_2 = Q_2'Q_1Q_0 + Q_2Q_1'Q_0$; $\\quad D_1 = Q_1'$; $\\quad D_0 = 1$\n\nD. $D_2 = Q_2'Q_1 + Q_2Q_1'$; $\\quad D_1 = Q_1'Q_0$; $\\quad D_0 = 1$\n\nE. $D_2 = Q_2'Q_1 + Q_2Q_1'$; $\\quad D_1 = Q_1'$; $\\quad D_0 = Q_0$", "solution": "我们设计一个同步计数器，其状态由三位 $(Q_{2},Q_{1},Q_{0})$ 编码，代表十进制值 $1,3,5,7$，状态转移为 $1\\to 3\\to 5\\to 7\\to 1$。对于上升沿触发的D触发器，每个输入 $D_{i}$ 等于下一状态位 $Q_{i}^{+}$，该状态位表示为当前状态位 $(Q_{2},Q_{1},Q_{0})$ 的布尔函数。未使用的状态 $0,2,4,6$ 被视为无关项以便简化。\n\n首先，写出已使用状态的当前状态到下一状态的映射：\n- 状态 $1\\equiv 001$ 转移到 $3\\equiv 011$，因此 $(Q_{2}^{+},Q_{1}^{+},Q_{0}^{+})=(0,1,1)$。\n- 状态 $3\\equiv 011$ 转移到 $5\\equiv 101$，因此 $(Q_{2}^{+},Q_{1}^{+},Q_{0}^{+})=(1,0,1)$。\n- 状态 $5\\equiv 101$ 转移到 $7\\equiv 111$，因此 $(Q_{2}^{+},Q_{1}^{+},Q_{0}^{+})=(1,1,1)$。\n- 状态 $7\\equiv 111$ 转移到 $1\\equiv 001$，因此 $(Q_{2}^{+},Q_{1}^{+},Q_{0}^{+})=(0,0,1)$。\n\n因此对于已使用的状态：\n- 在所有四个已使用的状态中，$D_{0}=Q_{0}^{+}=1$。将所有未使用的状态视为无关项，最简的积之和形式是常数\n$$\nD_{0}=1.\n$$\n- 在当前状态分别为 $001,011,101,111$ 时，$D_{1}=Q_{1}^{+}$ 的值分别为 $1,0,1,0$。这与 $Q_{1}$ 的补数相匹配，而与 $Q_{2}$ 和 $Q_{0}$ 无关，因此\n$$\nD_{1}=Q_{1}'.\n$$\n- 在当前状态分别为 $001,011,101,111$ 时，$D_{2}=Q_{2}^{+}$ 的值分别为 $0,1,1,0$。在已使用的状态中，使 $D_{2}=1$ 的最小项是 $Q_{2}'Q_{1}Q_{0}$ 和 $Q_{2}Q_{1}'Q_{0}$。将所有 $Q_{0}=0$ 的状态（即 $0,2,4,6$）视为无关项，可以跨越 $Q_{0}$ 进行组合以消除 $Q_{0}$，从而得到简化表达式\n$$\nD_{2}=Q_{2}'Q_{1}+Q_{2}Q_{1}'.\n$$\n\n汇总简化后的方程：\n$$\nD_{2}=Q_{2}'Q_{1}+Q_{2}Q_{1}',\\quad D_{1}=Q_{1}',\\quad D_{0}=1.\n$$\n这些对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1928988"}, {"introduction": "在掌握了基本的设计流程后，让我们来挑战一个更接近工程实际的场景：在严格的硬件资源限制下完成设计。这个练习要求你仅使用JK触发器本身，而不借助任何外部逻辑门，来实现一个特定的非标准计数序列。这不仅是对你理解JK触发器激励表和特性的考验，更是一次锻炼逻辑思维和创造性解决问题能力的绝佳机会。[@problem_id:1928998]", "problem": "设计一个2位同步计数器，仅使用两个JK触发器 FF1 和 FF0，其输出分别为 $Q_1$ 和 $Q_0$，$Q_1$ 作为最高有效位。该计数器必须按照一个特定的非顺序状态序列进行循环：从 $00$ 开始，接着是 $11$，然后是 $01$，再然后是 $10$，最后回到 $00$ 以重复此循环。\n\n设计受限于不允许使用外部逻辑门（例如，AND、OR、NOT）。触发器的输入（$J_1, K_1, J_0, K_0$）只能连接到逻辑高电平（表示为 `1`）、逻辑低电平（表示为 `0`），或者触发器自身的输出及其补码（即 $Q_1, \\overline{Q_1}, Q_0, \\overline{Q_0}$）。\n\n在这些约束条件下，下列哪组输入方程正确地实现了所需的计数器？\n\nA. $J_1=1, K_1=1, J_0=\\overline{Q_1}, K_0=\\overline{Q_1}$\n\nB. $J_1=1, K_1=1, J_0=Q_1, K_0=Q_1$\n\nC. $J_1=Q_0, K_1=Q_0, J_0=1, K_0=1$\n\nD. $J_1=\\overline{Q_0}, K_1=\\overline{Q_0}, J_0=\\overline{Q_1}, K_0=\\overline{Q_1}$\n\nE. $J_1=1, K_1=1, J_0=Q_0, K_0=\\overline{Q_0}$", "solution": "设当前状态为 $(Q_{1},Q_{0})$，所需下一状态序列为 $00 \\to 11 \\to 01 \\to 10 \\to 00$。对于 JK 触发器，其特性方程为\n$$\nQ^{+}=J\\,\\overline{Q}+\\overline{K}\\,Q,\n$$\n翻转条件为 $J=K=1$，而保持条件为 $J=K=0$。\n\n确定每个触发器在每个当前状态下所需的操作：\n- $00 \\to 11$：$Q_{1}$ 翻转，$Q_{0}$ 翻转。\n- $11 \\to 01$：$Q_{1}$ 翻转，$Q_{0}$ 保持。\n- $01 \\to 10$：$Q_{1}$ 翻转，$Q_{0}$ 翻转。\n- $10 \\to 00$：$Q_{1}$ 翻转，$Q_{0}$ 保持。\n\n因此，$Q_{1}$ 必须在每个状态下都翻转，所以选择\n$$\nJ_{1}=1,\\quad K_{1}=1.\n$$\n$Q_{0}$ 必须在 $Q_{1}=0$ 时（状态 $00$ 和 $01$）翻转，并在 $Q_{1}=1$ 时（状态 $11$ 和 $10$）保持，所以选择\n$$\nJ_{0}=\\overline{Q_{1}},\\quad K_{0}=\\overline{Q_{1}}.\n$$\n\n使用特性方程进行验证：\n- 对于 $Q_{1}$：当 $J_{1}=K_{1}=1$ 时，$Q_{1}^{+}=1\\cdot\\overline{Q_{1}}+0\\cdot Q_{1}=\\overline{Q_{1}}$，即总是翻转。\n- 对于 $Q_{0}$：当 $J_{0}=K_{0}=\\overline{Q_{1}}$ 时，\n$$\nQ_{0}^{+}=\\overline{Q_{1}}\\cdot\\overline{Q_{0}}+\\overline{\\overline{Q_{1}}}\\cdot Q_{0}=\\overline{Q_{1}}\\cdot\\overline{Q_{0}}+Q_{1}\\cdot Q_{0},\n$$\n这得出当 $Q_{1}=0$ 时 $Q_{0}^{+}=\\overline{Q_{0}}$，当 $Q_{1}=1$ 时 $Q_{0}^{+}=Q_{0}$，与所要求的行为相匹配。\n\n逐个状态检查：\n- 从 $00$：$Q_{1}^{+}=1$，$Q_{0}^{+}=1$ 得到 $11$。\n- 从 $11$：$Q_{1}^{+}=0$，$Q_{0}^{+}=1$ 得到 $01$。\n- 从 $01$：$Q_{1}^{+}=1$，$Q_{0}^{+}=0$ 得到 $10$。\n- 从 $10$：$Q_{1}^{+}=0$，$Q_{0}^{+}=0$ 得到 $00$。\n\n这完全实现了所需的循环，并且只使用了 $1$、$0$ 和触发器输出的补码，满足了约束条件。因此，正确选项是 A。", "answer": "$$\\boxed{A}$$", "id": "1928998"}, {"introduction": "数字电路的设计不仅限于门级的连接与实现，更深层次的理解来自于对其行为的数学抽象和分析。本练习将引导你转换视角，从实现者变为分析者。我们将不再从一个给定的序列出发去构建电路，而是反过来，分析一个由数学递推关系 $Q_{\\text{next}} = (5 \\cdot Q_{\\text{current}} + 1) \\pmod{16}$ 定义的计数器的完整行为。通过探索其状态转换图中的所有循环和不动点，你将接触到伪随机数生成等高级应用背后的深刻数学原理。[@problem_id:1929002]", "problem": "要为一个伪随机数生成应用设计一个4位同步计数器。该计数器的状态由4位无符号整数$Q$表示，其中$Q$可以取0到15之间的任何整数值。在每个时钟信号的上升沿，计数器必须根据由以下递推关系定义的线性同余序列，从其当前状态$Q_{\\text{current}}$转换到其下一个状态$Q_{\\text{next}}$：\n$$Q_{\\text{next}} = (5 \\cdot Q_{\\text{current}} + 1) \\pmod{16}$$\n该计数器的状态转换图是一个有向图，其中16个可能的状态各为一个节点，如果计数器从状态$S_i$转换到$S_j$，则存在一条从$S_i$到$S_j$的有向边。环是图中一条路径，它在访问一个或多个其他状态后，起点和终点为同一状态。不动点是一个会转换到自身的状态$S_k$（即长度为1的环）。\n\n分析此计数器所有16个状态的完整状态转换图。以下哪个选项正确且完整地描述了该图在不相交环和不动点方面的结构？\n\nA. 该图由两个不相交的环组成，每个环的长度为8。\n\nB. 该图由一个长度为8的环、两个长度为2的环和四个不动点组成。\n\nC. 该图由一个长度为16的单环组成。\n\nD. 该图由四个不相交的环组成，每个环的长度为4。\n\nE. 该图由一个长度为12的环和四个不动点组成。\n\nF. 该图由一个长度为8的环、一个长度为4的环、一个长度为2的环和两个不动点组成。", "solution": "将状态更新定义为$\\mathbb{Z}_{16}$上的仿射映射，由$f(Q) \\equiv 5Q + 1 \\pmod{16}$给出。因为$\\gcd(5,16)=1$，所以$5$是模$16$的单位，因此$f$是这16个状态上的一个双射。所以，状态转换图完全分解为不相交的有向环（没有瞬态树）。\n\n不动点满足$Q \\equiv 5Q + 1 \\pmod{16}$，即，\n$$\n(5-1)Q \\equiv -1 \\pmod{16} \\quad \\Longleftrightarrow \\quad 4Q \\equiv 15 \\pmod{16}.\n$$\n因为$\\gcd(4,16)=4$不能整除$15$，所以该方程无解。因此，不存在不动点。\n\n为了确定环的结构，我们考虑该仿射映射的迭代。对于$f(Q)=aQ+b$，$a=5$且$b=1$，其第$n$次迭代为\n$$\nf^{n}(Q) \\equiv a^{n}Q + b\\,(1 + a + a^{2} + \\cdots + a^{n-1}) \\pmod{16}.\n$$\n令$S_{n} = 1 + 5 + 5^{2} + \\cdots + 5^{n-1}$。使用整数中的等比数列求和恒等式，\n$$\n4 S_{n} = (5-1)S_{n} = 5^{n} - 1.\n$$\n要使$f^{n}$成为所有状态上的恒等置换，我们要求同时满足\n$$\n5^{n} \\equiv 1 \\pmod{16} \\quad \\text{and} \\quad S_{n} \\equiv 0 \\pmod{16}.\n$$\n第二个条件等价于$16 \\mid S_{n}$，通过$4S_{n} = 5^{n} - 1$，这又等价于\n$$\n64 \\mid (5^{n} - 1) \\quad \\Longleftrightarrow \\quad 5^{n} \\equiv 1 \\pmod{64}.\n$$\n计算$5^{n} \\pmod{64}$：\n$$\n5 \\equiv 5,\\quad 5^{2} \\equiv 25,\\quad 5^{3} \\equiv 61,\\quad 5^{4} \\equiv 49,\\quad 5^{5} \\equiv 53,\\quad 5^{6} \\equiv 9,\\quad 5^{7} \\equiv 45,\\quad 5^{8} \\equiv 33,\n$$\n$$\n5^{9} \\equiv 37,\\quad 5^{10} \\equiv 57,\\quad 5^{11} \\equiv 29,\\quad 5^{12} \\equiv 17,\\quad 5^{13} \\equiv 21,\\quad 5^{14} \\equiv 41,\\quad 5^{15} \\equiv 13,\\quad 5^{16} \\equiv 1 \\pmod{64}.\n$$\n因此，满足$5^{n} \\equiv 1 \\pmod{64}$的最小正整数$n$是$16$。因此，$f^{16}$是$\\mathbb{Z}_{16}$上的恒等置换，且没有更小的正幂是恒等置换。所以，置换$f$的阶是$16$，因此所有环长度的最小公倍数是$16$。由于没有不动点且总状态数为16，唯一可能的、使得最小公倍数为16的分解方式就是一个长度为16的单环。\n\n作为直接验证，从0开始并迭代$Q \\mapsto 5Q+1 \\pmod{16}$可以得出以下环路\n$$\n0 \\to 1 \\to 6 \\to 15 \\to 12 \\to 13 \\to 2 \\to 11 \\to 8 \\to 9 \\to 14 \\to 7 \\to 4 \\to 5 \\to 10 \\to 3 \\to 0,\n$$\n该环路在返回0之前恰好包含了所有16个状态一次。\n\n因此，状态转换图由一个长度为16的单环组成，对应于选项C。", "answer": "$$\\boxed{C}$$", "id": "1929002"}]}