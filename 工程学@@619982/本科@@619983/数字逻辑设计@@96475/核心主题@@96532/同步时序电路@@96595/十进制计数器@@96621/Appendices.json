{"hands_on_practices": [{"introduction": "计数器不仅用于计数，它们还是频率变换的基本工具。本练习将探讨十进制计数器最基础的应用：分频。通过分析特定输出引脚的信号频率，您将具体理解十进制计数器的10态循环如何直接转化为其在信号处理中的分频能力 [@problem_id:1927109]。", "problem": "数字分频器是电子信号处理中使用的基本电路。一种常见的类型是使用计数器构建的。考虑一个同步二-十进制编码 (BCD) 十进制计数器。该计数器被设计为循环遍历代表十进制数字0到9的十个二进制状态。该计数器有四个输出，标记为 $Q_3, Q_2, Q_1, Q_0$，其中 $Q_0$ 是最低有效位 (LSB)，$Q_3$ 是最高有效位 (MSB)。每当输入时钟产生一个脉冲，计数器就前进到下一个状态（例如，从 0010 到 0011）。在达到十进制9的状态 (1001) 后，下一个时钟脉冲会使计数器复位到十进制0的状态 (0000)。\n\n这个BCD计数器由一个频率恰好为 200 kHz 的稳定时钟源驱动。确定最高有效位触发器输出端 $Q_3$ 信号的基频。\n\n答案以千赫兹 (kHz) 为单位表示。", "solution": "一个同步BCD十进制计数器会循环遍历代表十进制数字0到9的十个有效BCD状态，然后重复。因此，任何输出位模式每10个输入时钟脉冲重复一次，所以每个输出序列的周期等于10倍的输入时钟周期。\n\n对于最高有效位 $Q_{3}$，在一个十进制计数周期内的序列是：\n- 计数值从0到7时（八个时钟周期），$Q_{3}=0$。\n- 计数值为8和9时（两个时钟周期），$Q_{3}=1$。\n然后在复位到0000时返回为0。因此，$Q_{3}$的波形每10个时钟脉冲重复一次，所以其基本周期是\n$$\nT_{Q_{3}}=10\\,T_{\\text{clk}}.\n$$\n使用 $f=\\frac{1}{T}$， $Q_{3}$ 的基频是\n$$\nf_{Q_{3}}=\\frac{1}{T_{Q_{3}}}=\\frac{1}{10\\,T_{\\text{clk}}}=\\frac{f_{\\text{clk}}}{10}.\n$$\n给定 $f_{\\text{clk}}=200\\ \\text{kHz}$，\n$$\nf_{Q_{3}}=\\frac{200}{10}\\ \\text{kHz}=20\\ \\text{kHz}.\n$$\n因此，$Q_{3}$ 处的基频为 20 千赫兹。", "answer": "$$\\boxed{20}$$", "id": "1927109"}, {"introduction": "在理解了基础的计数与分频原理后，我们将进一步探索如何对计数器进行精确控制。现实世界中的应用常常需要将计数器初始化到一个特定的起始值，而不是从零开始。本练习将利用同步并行加载功能——一种在集成电路中常见的特性——来展示如何精确控制计数器的状态[@problem_id:1927088]，这是设计复杂时序系统的关键一步。", "problem": "一个数字控制系统采用了一个同步十进制计数器，其行为与 74LS160 集成电路 (IC) 相同。该计数器具有以下主要特性：\n\n*   它以十进制编码 (BCD) 序列进行计数，从 0 (二进制 0000) 到 9 (二进制 1001)，然后在下一次计数时翻转回 0。\n*   所有状态变化，包括计数、清零和加载，都是同步的，仅在时钟 (CLK) 信号的上升沿发生。\n*   该计数器有四个并行数据输入：P3, P2, P1, P0，其中 P3 是最高有效位 (MSB)。\n*   它有一个低电平有效的同步并行加载输入 $\\overline{\\text{PL}}$。当 $\\overline{\\text{PL}}$ 保持低电平时，输入端 (P3P2P1P0) 上的二进制值会在下一个 CLK 上升沿加载到计数器中。当 $\\overline{\\text{PL}}$ 为高电平时，计数器被启用以执行其正常的计数操作。\n*   它有一个低电平有效的同步清零输入 $\\overline{\\text{CLR}}$。在所述操作的整个过程中，该输入保持高电平（非激活状态）。\n*   计数器的4位输出由 Q3, Q2, Q1, Q0 给出，其中 Q3 是 MSB。\n\n该系统从一个未知的初始状态开始，经历以下操作序列：\n\n1.  在第一个时钟上升沿之前及期间，$\\overline{\\text{PL}}$ 输入保持低电平。在此期间，并行数据输入 (P3, P2, P1, P0) 保持为值 0111。\n2.  在第一个时钟上升沿之后，$\\overline{\\text{PL}}$ 输入立即切换为高电平，并在所有后续操作中保持高电平。\n3.  时钟继续为 CLK 输入提供上升沿。\n\n在第4个时钟上升沿之后，输出 (Q3Q2Q1Q0) 的4位二进制状态是什么？\n\nA. 1010\n\nB. 0011\n\nC. 1001\n\nD. 0000\n\nE. 0111", "solution": "所有状态变化都是同步的，并且只在时钟的上升沿发生。低电平有效的同步并行加载输入在上升沿时为低电平，会强制下一个状态等于并行输入的值；否则，当加载输入为高电平且清零输入为高电平时，设备会以 BCD 码从 $0000$ 计数到 $1001$，然后翻转回 $0000$。\n\n设第 $k$ 个上升沿之后的状态表示为 $Q_{3}Q_{2}Q_{1}Q_{0}(k)$。\n\n鉴于在第一个上升沿之前及期间 $\\overline{\\text{PL}}$ 为低电平且 $P_{3}P_{2}P_{1}P_{0}=0111$，同步加载决定了第一个上升沿时的状态：\n$$\nQ_{3}Q_{2}Q_{1}Q_{0}(1)=P_{3}P_{2}P_{1}P_{0}=0111.\n$$\n在第一个上升沿之后，$\\overline{\\text{PL}}$ 被设置为高电平并保持高电平，同时 $\\overline{\\text{CLR}}$ 保持高电平（非激活状态），因此计数器在每个后续的上升沿执行正常的 BCD 计数操作：\n- 第二个上升沿：计数 $0111 \\rightarrow 1000$，所以\n$$\nQ_{3}Q_{2}Q_{1}Q_{0}(2)=1000.\n$$\n- 第三个上升沿：计数 $1000 \\rightarrow 1001$，所以\n$$\nQ_{3}Q_{2}Q_{1}Q_{0}(3)=1001.\n$$\n- 第四个上升沿：由于十进制翻转，计数 $1001 \\rightarrow 0000$，所以\n$$\nQ_{3}Q_{2}Q_{1}Q_{0}(4)=0000.\n$$\n\n因此，在第四个上升沿之后，输出为 $0000$，对应于选项 D。", "answer": "$$\\boxed{D}$$", "id": "1927088"}, {"introduction": "现在，让我们从使用预设功能进阶到主动设计新功能。如果标准的 $0$ 到 $9$ 计数序列不符合您的特定需求该怎么办？本练习将挑战您像设计师一样思考，通过设计外部组合逻辑来修改计数器的行为，从而实现自定义的计数序列 [@problem_id:1927096]。这是一种利用标准组件构建定制化状态机的强大技术。", "problem": "一个商用的同步4位二进制编码的十进制 (BCD) 加法计数器集成电路被用于一个显示驱动系统中。该计数器有四个数据输出，$Q_D, Q_C, Q_B, Q_A$，其中 $Q_D$ 是最高有效位 (MSB)。此计数器的正常操作是按顺序循环 BCD 状态，从 0 (0000) 到 9 (1001)，在每个时钟上升沿递增。\n\n该计数器还具有一个高电平有效的同步 `LOAD` 输入。如果 `LOAD` 输入保持在逻辑高电平，计数器状态将在下一个时钟上升沿被其并行数据输入 ($P_D, P_C, P_B, P_A$) 上的4位值所替代。如果 `LOAD` 输入保持在逻辑低电平，计数器正常递增。\n\n一个特定应用需要修改计数器的序列以跳过数字状态 5。期望的序列是 0, 1, 2, 3, 4, 6, 7, 8, 9，然后翻转回 0。为实现这一点，并行数据输入 ($P_D, P_C, P_B, P_A$) 被永久连接到数字 6 的 BCD 表示。您的任务是设计必要的外部组合逻辑来生成 `LOAD` 信号。该逻辑将以计数器的输出 ($Q_D, Q_C, Q_B, Q_A$) 作为其输入。\n\n确定 `LOAD` 信号关于计数器输出的最小积之和 (SOP)布尔表达式。在您的表达式中，使用上划线（例如，$\\overline{A}$）表示逻辑非运算。", "solution": "我们需要一个同步机制，使得在时钟上升沿之后永远不会进入状态 5。借助一个高电平有效的同步 `LOAD`（它在下一个上升沿加载并行输入上的值），并且并行输入硬连接到 6 的 BCD 码，正确的策略是仅当当前计数器状态等于 4 时才使 `LOAD` 有效。这样，当时钟沿从状态 4 到来时，计数器将加载 6 而不是递增到 5，从而产生期望的转换 $4 \\to 6$，并因此在时钟边沿采样的序列中完全跳过 5。\n\n设输出为 $Q_D$ (MSB)、$Q_C$、$Q_B$、$Q_A$ (LSB)。十进制 4 的 BCD 码是 $0100$，对应于 $Q_D=0$，$Q_C=1$，$Q_B=0$，$Q_A=0$。因此，在正常 BCD 操作期间，`LOAD` 信号必须仅在这种输入组合下为 $1$，在其他情况下为 $0$。\n\n检测状态 4 的相应最小项（积）是\n$$\n\\overline{Q_{D}}\\,Q_{C}\\,\\overline{Q_{B}}\\,\\overline{Q_{A}}.\n$$\n没有其他状态被指定为无关项，且只有一个状态必须使 `LOAD` 有效，因此最小积之和恰好就是这个单个积项。\n\n因此，`LOAD` 信号的最小 SOP 布尔表达式是\n$$\n\\overline{Q_{D}}\\,Q_{C}\\,\\overline{Q_{B}}\\,\\overline{Q_{A}}.\n$$", "answer": "$$\\boxed{\\overline{Q_{D}}\\,Q_{C}\\,\\overline{Q_{B}}\\,\\overline{Q_{A}}}$$", "id": "1927096"}]}