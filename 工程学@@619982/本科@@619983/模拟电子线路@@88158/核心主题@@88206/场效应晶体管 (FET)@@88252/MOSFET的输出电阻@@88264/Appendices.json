{"hands_on_practices": [{"introduction": "掌握理论后，我们首先通过一个基础练习来巩固MOSFET输出电阻的核心模型。厄利电压（Early Voltage, $V_A$）是表征沟道长度调制效应的关键参数，它使得我们能够用一个简洁的公式 $r_o = V_A / I_D$ 快速估算输出电阻。这个练习将帮助你熟练运用这一重要关系，从给定的偏置电流和工艺参数计算$r_o$。", "problem": "一位电子工程师正在使用单个n沟道金属氧化物半导体场效应晶体管（MOSFET）为模拟集成电路设计一个简单的电流源。为使该电流源有效，它必须展现出高输出电阻。这可以确保即使其驱动的负载两端的电压发生变化，它所提供的电流也几乎保持恒定。该MOSFET被偏置在饱和区工作，具有恒定的栅源电压，从而产生 $I_D = 0.130 \\text{ mA}$ 的静态漏极电流。该器件的制造工艺所生产的晶体管具有 $V_A = 25.0 \\text{ V}$ 的特征Early电压，该电压用于模拟饱和区中由于沟道长度调制效应而导致的 $I_D$ 对 $V_{DS}$ 曲线的有限斜率。\n\n计算在该偏置条件下，此MOSFET电流源的小信号输出电阻 $r_o$。以千欧（k$\\Omega$）为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "在考虑沟道长度调制的饱和区，漏极电流可以近似为 $i_{D} \\approx I_{D}\\left(1+\\lambda v_{DS}\\right)$。小信号输出电导为 $g_{o}=\\left.\\frac{\\partial i_{D}}{\\partial v_{DS}}\\right|_{Q}=\\lambda I_{D}$，因此小信号输出电阻为\n$$\nr_{o}=\\frac{1}{g_{o}}=\\frac{1}{\\lambda I_{D}}.\n$$\nEarly电压定义为 $V_{A}=\\frac{1}{\\lambda}$，因此\n$$\nr_{o}=\\frac{V_{A}}{I_{D}}.\n$$\n代入给定的偏置值 $V_{A}=25.0\\,\\text{V}$ 和 $I_{D}=0.130\\,\\text{mA}$，并利用 $\\frac{\\text{V}}{\\text{mA}}=\\text{k}\\Omega$ 这一关系，我们得到\n$$\nr_{o}=\\frac{25.0\\,\\text{V}}{0.130\\,\\text{mA}}=\\frac{25.0}{0.130}\\,\\text{k}\\Omega=192.307\\ldots\\,\\text{k}\\Omega.\n$$\n四舍五入到三位有效数字，得到 $r_{o}=192\\,\\text{k}\\Omega$。", "answer": "$$\\boxed{192}$$", "id": "1318490"}, {"introduction": "在上一个练习的基础上，我们进一步探究厄利电压$V_A$的物理来源。在集成电路设计中，$V_A$并非一个固定的常数，而是与晶体管的物理尺寸，特别是沟道长度$L$密切相关。这项实践将让你了解如何根据工艺参数（单位长度的厄利电压 $V'_A$）和设计选择（沟道长度$L$）来确定晶体管的输出电阻，这体现了从物理参数到电路性能的直接联系。[@problem_id:1318490]", "problem": "在设计高精度集成电路（例如数模转换器，DAC）时，电流源的性能至关重要。一个理想的电流源无论其两端电压如何，都能提供恒定的电流。在实际应用中，使用金属-氧化物-半导体场效应晶体管（MOSFET）构建的电流源表现出有限的输出电阻，这会降低其性能。这种有限的电阻主要是由一种称为沟道长度调制的效应引起的。\n\n对于一个特定的制造工艺，该效应由一个称为单位长度厄利电压的技术参数来表征，其值为 $V'_A = 10.0 \\text{ V}/\\mu\\text{m}$。一位工程师正在分析一个NMOS晶体管，该晶体管将用作电流镜的一部分。该晶体管的设计沟道长度为 $L = 0.50 \\text{ }\\mu\\text{m}$，并在饱和区偏置，漏极电流为 $I_D = 200 \\text{ }\\mu\\text{A}$。\n\n您的任务是确定在此偏置条件下，该特定晶体管的小信号输出电阻 $r_o$。请用千欧（k$\\Omega$）表示您的答案。", "solution": "对于处于饱和区且存在沟道长度调制的MOSFET，其漏极电流可以建模为 $I_{D} \\approx I_{D0}\\left(1 + \\lambda V_{DS}\\right)$，其中 $\\lambda$ 是沟道长度调制参数。其小信号输出电导为\n$$\ng_{o} = \\left.\\frac{\\partial I_{D}}{\\partial V_{DS}}\\right|_{V_{GS}} = \\lambda I_{D},\n$$\n因此小信号输出电阻为\n$$\nr_{o} = \\frac{1}{g_{o}} = \\frac{1}{\\lambda I_{D}}.\n$$\n通过 $\\lambda = \\frac{1}{V_{A}}$ 定义厄利电压 $V_{A}$，我们得到\n$$\nr_{o} = \\frac{V_{A}}{I_{D}}.\n$$\n利用技术参数 $V'_{A}$（单位长度厄利电压），长度为 $L$ 的器件的厄利电压为\n$$\nV_{A} = V'_{A} \\, L.\n$$\n因此，\n$$\nr_{o} = \\frac{V'_{A} \\, L}{I_{D}}.\n$$\n代入给定值 $V'_{A} = 10.0 \\,\\text{V}/\\mu\\text{m}$，$L = 0.50 \\,\\mu\\text{m}$ 和 $I_{D} = 200 \\,\\mu\\text{A}$：\n$$\nV_{A} = \\left(10.0 \\,\\frac{\\text{V}}{\\mu\\text{m}}\\right)\\left(0.50 \\,\\mu\\text{m}\\right) = 5.0 \\,\\text{V},\n$$\n$$\nr_{o} = \\frac{5.0 \\,\\text{V}}{200 \\times 10^{-6} \\,\\text{A}} = 2.5 \\times 10^{4} \\,\\Omega = 25 \\,\\text{k}\\Omega.\n$$\n以千欧为单位表示，数值为 $25$。", "answer": "$$\\boxed{25}$$", "id": "1318516"}, {"introduction": "当单个晶体管的本征输出电阻$r_o$无法满足苛刻的电路性能指标时，我们该怎么办？这个高级练习将引导你从分析转向设计，介绍一种名为“源极负反馈”（source degeneration）的强大电路技术。通过在电流镜的源极增加一个电阻，我们可以显著提高其等效输出电阻，这个练习将让你亲手设计满足特定输出电阻目标的电流源，是理论应用于实践的绝佳范例。", "problem": "一位模拟电路设计师的任务是使用一个由双晶体管构成的N沟道金属氧化物半导体场效应晶体管（NMOS）电流镜来创建一个高性能电流源。为达到应用所需的高输出阻抗，在参考晶体管和输出晶体管的源极端均加入了相同的源极简并电阻，记为 $R_S$。这两个晶体管是相同的，并在饱和区工作。\n\n该电路被配置为提供一个复制参考电流 $I_{REF}$ 的输出电流。给定以下器件和电路参数：\n- 参考电流, $I_{REF} = 150 \\ \\mu\\text{A}$。\n- NMOS工艺跨导参数, $\\mu_n C_{ox} = 250 \\ \\mu\\text{A}/\\text{V}^2$。\n- NMOS沟道长度调制参数, $\\lambda = 0.04 \\ \\text{V}^{-1}$。\n- 两个晶体管的宽长比, $(W/L) = 20$。\n- 电流源的目标输出电阻, $R_{out,target} = 4.0 \\ \\text{M}\\Omega$。\n\n假设由于晶体管和电阻的匹配，输出晶体管的静态漏极电流 $I_{D,out}$ 完全等于参考电流 $I_{REF}$。计算为达到目标输出电阻所需的源极简并电阻 $R_S$ 的值。\n\n以千欧姆（$\\text{k}\\Omega$）为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "目标是确定为使NMOS电流源达到目标输出电阻 $R_{out,target}$ 所需的源极简并电阻 $R_S$ 的值。输出电阻是在输出晶体管的漏极处测得的。\n\n首先，我们建立带有源极简并电阻的MOSFET的输出电阻公式。我们可以通过分析输出晶体管的小信号模型来找到这个公式。输出电阻 $R_{out}$ 是在栅极保持交流接地（因为它连接到一个直流偏置电压）时，从漏极端看进去的电阻。设输出晶体管为 $M_2$。在 $M_2$ 的漏极施加一个测试电压 $v_x$ 会产生一个电流 $i_x$。小信号模型包括跨导 $g_{m2}$、本征输出电阻 $r_{o2}$ 和外部源极电阻 $R_S$。\n\n$M_2$ 的源极电压为 $v_s = i_x R_S$。栅极为交流接地，所以 $v_g = 0$。因此，栅源电压为 $v_{gs} = v_g - v_s = -i_x R_S$。\n根据漏极节点的基尔霍夫电流定律，测试电流 $i_x$ 是流过 $r_{o2}$ 的电流和由 $v_{gs}$ 控制的沟道电流之和：\n$$i_x = g_{m2} v_{gs} + \\frac{v_x - v_s}{r_{o2}}$$\n代入 $v_{gs}$ 和 $v_s$ 的表达式：\n$$i_x = g_{m2}(-i_x R_S) + \\frac{v_x - i_x R_S}{r_{o2}}$$\n为了求得 $R_{out} = v_x / i_x$，我们重新整理方程以解出 $v_x$：\n$$i_x r_{o2} = -g_{m2} i_x R_S r_{o2} + v_x - i_x R_S$$\n$$v_x = i_x r_{o2} + i_x R_S + g_{m2} r_{o2} i_x R_S$$\n$$v_x = i_x (r_{o2} + R_S + g_{m2} r_{o2} R_S)$$\n因此，输出电阻为：\n$$R_{out} = \\frac{v_x}{i_x} = r_{o2} (1 + g_{m2} R_S) + R_S$$\n我们已知 $R_{out,target}$，需要求解 $R_S$。在此之前，我们必须计算输出晶体管的小信号参数 $g_{m2}$ 和 $r_{o2}$。这些参数取决于其直流偏置电流 $I_{D,out}$。题目说明我们可以假设 $I_{D,out} = I_{REF} = 150 \\ \\mu\\text{A}$。\n\n本征输出电阻 $r_{o2}$ 由下式给出：\n$$r_{o2} = \\frac{1}{\\lambda I_{D,out}}$$\n代入给定值：\n$$r_{o2} = \\frac{1}{(0.04 \\ \\text{V}^{-1}) (150 \\times 10^{-6} \\ \\text{A})} = \\frac{1}{6 \\times 10^{-6} \\ \\Omega^{-1}} \\approx 166.67 \\times 10^3 \\ \\Omega = 166.67 \\ \\text{k}\\Omega$$\n\nMOSFET在饱和区的跨导 $g_{m2}$ 由下式给出：\n$$g_{m2} = \\sqrt{2 \\mu_n C_{ox} \\left(\\frac{W}{L}\\right) I_{D,out}}$$\n代入给定值：\n$$g_{m2} = \\sqrt{2 (250 \\times 10^{-6} \\ \\text{A}/\\text{V}^2) (20) (150 \\times 10^{-6} \\ \\text{A})}$$\n$$g_{m2} = \\sqrt{2 \\times 250 \\times 20 \\times 150 \\times 10^{-12}} \\ \\text{A/V} = \\sqrt{1,500,000 \\times 10^{-12}} \\ \\text{A/V} = \\sqrt{1.5 \\times 10^{-6}} \\ \\text{A/V}$$\n$$g_{m2} \\approx 1.2247 \\times 10^{-3} \\ \\text{A/V} = 1.2247 \\ \\text{mS}$$\n\n现在我们有了求解 $R_S$ 所需的所有分量。我们的目标方程是：\n$$R_{out,target} = r_{o2} + R_S + g_{m2} r_{o2} R_S$$\n我们可以重新整理此方程以求解 $R_S$：\n$$R_{out,target} - r_{o2} = R_S (1 + g_{m2} r_{o2})$$\n$$R_S = \\frac{R_{out,target} - r_{o2}}{1 + g_{m2} r_{o2}}$$\n现在，代入数值。目标输出电阻为 $R_{out,target} = 4.0 \\ \\text{M}\\Omega = 4.0 \\times 10^6 \\ \\Omega$。\n$$R_S = \\frac{4.0 \\times 10^6 \\ \\Omega - 166.67 \\times 10^3 \\ \\Omega}{1 + (1.2247 \\times 10^{-3} \\ \\text{A/V})(166.67 \\times 10^3 \\ \\Omega)}$$\n$$R_S = \\frac{3,833,333 \\ \\Omega}{1 + 204.12}$$\n$$R_S = \\frac{3,833,333 \\ \\Omega}{205.12} \\approx 18688 \\ \\Omega$$\n题目要求答案以千欧姆（$\\text{k}\\Omega$）为单位，并四舍五入到三位有效数字。\n$$R_S = 18.688 \\ \\text{k}\\Omega$$\n四舍五入到三位有效数字得到 $18.7 \\ \\text{k}\\Omega$。", "answer": "$$\\boxed{18.7}$$", "id": "1318458"}]}