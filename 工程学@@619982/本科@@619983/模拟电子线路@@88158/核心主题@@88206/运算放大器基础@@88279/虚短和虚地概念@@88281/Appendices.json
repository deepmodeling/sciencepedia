{"hands_on_practices": [{"introduction": "“虚地”概念最直接的应用之一是构建可以执行数学运算的电路。本练习将指导您设计一个求和放大器，它能输出多个输入电压的加权和。通过这个实践，您将学会如何利用基尔霍夫电流定律和虚地假设来确定电路元件的参数，以实现特定的信号处理功能。[@problem_id:1341089]", "problem": "一位工程师正在为传感器阵列设计一个信号调理电路。该电路必须接收两个输入电压，$V_1$和$V_2$，并产生一个输出电压$V_{out}$，其值等于两个输入电压的负平均值。该电路由一个理想运算放大器（Op-Amp）和三个电阻构成。两个输入电压$V_1$和$V_2$通过两个独立的输入电阻$R_{in,1}$和$R_{in,2}$连接到运算放大器的反相输入端。一个反馈电阻$R_f$将运算放大器的输出端连接到其反相输入端。运算放大器的同相输入端直接接地。\n\n设计规范要求输出电压必须满足关系式 $V_{out} = -\\frac{1}{2}(V_1 + V_2)$。为简化实现，两个输入电阻被选为相同值，即 $R_{in,1} = R_{in,2} = 27.0 \\, \\text{k}\\Omega$。\n\n假设运算放大器是理想的，计算所需反馈电阻$R_f$的值。将答案以千欧（k$\\Omega$）为单位表示，并四舍五入到三位有效数字。", "solution": "对于一个同相输入端接地的理想反相加法放大器，其反相输入端处于虚地状态，因此$V_{-} = 0$。在反相节点处应用基尔霍夫电流定律可得\n$$\\frac{V_{1} - V_{-}}{R_{in,1}} + \\frac{V_{2} - V_{-}}{R_{in,2}} + \\frac{V_{out} - V_{-}}{R_{f}} = 0.$$\n当$V_{-} = 0$时，该式简化为\n$$\\frac{V_{1}}{R_{in,1}} + \\frac{V_{2}}{R_{in,2}} + \\frac{V_{out}}{R_{f}} = 0,$$\n因此\n$$V_{out} = -R_{f}\\left(\\frac{V_{1}}{R_{in,1}} + \\frac{V_{2}}{R_{in,2}}\\right).$$\n当输入电阻相同时，即$R_{in,1} = R_{in,2} = R_{in}$，该式变为\n$$V_{out} = -\\frac{R_{f}}{R_{in}}(V_{1} + V_{2}).$$\n规范要求$V_{out} = -\\frac{1}{2}(V_{1} + V_{2})$，因此通过系数相等可得\n$$\\frac{R_{f}}{R_{in}} = \\frac{1}{2} \\quad \\Rightarrow \\quad R_{f} = \\frac{1}{2}R_{in}.$$\n当$R_{in} = 27.0\\,\\text{k}\\Omega$时，所需的反馈电阻为\n$$R_{f} = \\frac{1}{2}\\times 27.0\\,\\text{k}\\Omega = 13.5\\,\\text{k}\\Omega.$$\n四舍五入到三位有效数字，结果是$13.5$千欧。", "answer": "$$\\boxed{13.5}$$", "id": "1341089"}, {"introduction": "“虚地”实际上是“虚短”概念在同相输入端接地时的特例。本练习将探讨一种更普遍的情况：当同相输入端连接到一个非零的参考电压 $V_{ref}$ 时，电路的行为会如何变化。这个实践将帮助您理解如何利用虚短原理来设计电平移动电路，这在处理带有直流偏置的信号时非常有用。[@problem_id:1341082]", "problem": "一个信号调理电路被设计用于平移直流输入信号的电平，该电路使用了一个理想运算放大器（运放）。电路的构成如下：一个阻值为 $R_1$ 的电阻器将提供电压 $V_{in}$ 的输入电压源连接到运放的反相输入端 (-)。一个阻值为 $R_f$ 的反馈电阻器连接在输出端（提供电压 $V_{out}$）和反相输入端之间。为实现所需的电平平移，运放的同相输入端 (+) 连接到一个稳定的直流参考电压 $V_{ref}$，而不是接地。\n\n假设该运算放大器是理想的，请推导输出电压 $V_{out}$ 关于输入电压 $V_{in}$、参考电压 $V_{ref}$ 以及电阻 $R_1$ 和 $R_f$ 的符号表达式。", "solution": "假设这是一个带有负反馈的理想运放。理想运放的条件是：(i) 输入阻抗无限大，因此输入电流为零；(ii) 在线性工作区内，两输入端的电压相等，即 $V_{-}=V_{+}$。由于同相输入端接至 $V_{ref}$，因此反相输入节点的电压为 $V_{-}=V_{ref}$。\n\n在反相输入节点上应用基尔霍夫电流定律。由于没有电流流入运放输入端，流经 $R_{1}$ 和 $R_{f}$ 的电流之和必须为零。规定从电压源流入节点的电流为正，则\n$$\n\\frac{V_{in}-V_{-}}{R_{1}}+\\frac{V_{out}-V_{-}}{R_{f}}=0.\n$$\n代入 $V_{-}=V_{ref}$：\n$$\n\\frac{V_{in}-V_{ref}}{R_{1}}+\\frac{V_{out}-V_{ref}}{R_{f}}=0.\n$$\n求解 $V_{out}$：\n$$\n\\frac{V_{out}-V_{ref}}{R_{f}}=-\\frac{V_{in}-V_{ref}}{R_{1}}\n\\;\\Rightarrow\\;\nV_{out}-V_{ref}=-\\frac{R_{f}}{R_{1}}\\left(V_{in}-V_{ref}\\right),\n$$\n$$\nV_{out}=V_{ref}-\\frac{R_{f}}{R_{1}}V_{in}+\\frac{R_{f}}{R_{1}}V_{ref}\n=\\left(1+\\frac{R_{f}}{R_{1}}\\right) V_{ref}-\\frac{R_{f}}{R_{1}} V_{in}.\n$$\n这就是所求的用 $V_{in}$、$V_{ref}$、$R_{1}$ 和 $R_{f}$ 表示的符号表达式。", "answer": "$$\\boxed{\\left(1+\\frac{R_{f}}{R_{1}}\\right) V_{ref}-\\frac{R_{f}}{R_{1}} V_{in}}$$", "id": "1341082"}, {"introduction": "差分放大器是模拟电路中的一个关键部件，用于放大两个输入信号之间的差值，同时抑制它们的共模部分。然而，在现实世界中，元器件的微小偏差会影响其理想性能。本练习通过一个假设的制造瑕疵，探讨电阻不匹配如何影响差分放大器抑制共模信号的能力，从而加深您对共模抑制比（CMRR）这一重要性能指标的理解。[@problem_id:1341094]", "problem": "一个理想运算放大器（Op-Amp）被配置为差分放大器。电路结构如下：输入电压 $v_1$ 通过电阻 $R_1$ 连接到运算放大器的反相输入端（$-$）。反馈电阻 $R_2$ 连接输出端 $v_{out}$ 和反相输入端。第二个输入电压 $v_2$ 通过电阻 $R_3$ 连接到同相输入端（$+$）。同相输入端还通过电阻 $R_4$ 接地。\n\n该放大器设计为具有完美匹配的电阻比，即 $R_3 = R_1$ 且 $R_4 = R_2$。然而，由于制造缺陷，电阻 $R_4$ 的值与其期望值有一个分数偏差 $\\delta$。其实际电阻为 $R_4 = R_2(1+\\delta)$，而电阻 $R_1$、$R_2$ 和 $R_3$ 均处于其理想期望值（即 $R_3 = R_1$）。\n\n一个纯共模输入信号被施加到放大器上，使得 $v_1 = v_2 = V_{cm}$。确定由此产生的输出电压 $v_{out}$。请用一个关于 $V_{cm}$、$R_1$、$R_2$ 和 $\\delta$ 的封闭形式解析表达式来表示你的答案。", "solution": "对于一个带负反馈的理想运算放大器，其输入电流为零，且输入节点电压满足 $v_{-} = v_{+}$。\n\n同相输入端看到一个从 $v_{2}$ 到地的电阻分压电路，由 $R_{3}$ 和 $R_{4}$ 组成，无负载，因此\n$$\nv_{+} = v_{2}\\,\\frac{R_{4}}{R_{3} + R_{4}}.\n$$\n在反相侧，对反相节点应用基尔霍夫电流定律（KCL）（输入电流为零）可得\n$$\n\\frac{v_{1} - v_{-}}{R_{1}} + \\frac{v_{out} - v_{-}}{R_{2}} = 0.\n$$\n整理得到 $v_{out}$ 的表达式为\n$$\nv_{out} = \\frac{(R_{1} + R_{2})\\,v_{-} - R_{2}\\,v_{1}}{R_{1}}.\n$$\n当输入为纯共模信号 $v_{1} = v_{2} = V_{cm}$ 并使用 $v_{-} = v_{+}$ 时，我们有\n$$\nv_{out} = \\frac{R_{1} + R_{2}}{R_{1}}\\,V_{cm}\\,\\frac{R_{4}}{R_{3} + R_{4}} - \\frac{R_{2}}{R_{1}}\\,V_{cm}.\n$$\n使用期望的匹配条件 $R_{3} = R_{1}$ 和偏差 $R_{4} = R_{2}(1+\\delta)$，代入可得\n$$\nv_{out} = \\frac{R_{2}}{R_{1}}\\,V_{cm}\\left[\\frac{(R_{1} + R_{2})(1+\\delta)}{R_{1} + R_{2}(1+\\delta)} - 1\\right].\n$$\n化简方括号中的项：\n$$\n\\frac{(R_{1} + R_{2})(1+\\delta)}{R_{1} + R_{2}(1+\\delta)} - 1\n= \\frac{(R_{1} + R_{2})(1+\\delta) - \\left(R_{1} + R_{2}(1+\\delta)\\right)}{R_{1} + R_{2}(1+\\delta)}\n= \\frac{R_{1}\\delta}{R_{1} + R_{2}(1+\\delta)}.\n$$\n因此，\n$$\nv_{out} = V_{cm}\\,\\frac{R_{2}}{R_{1}}\\,\\frac{R_{1}\\delta}{R_{1} + R_{2}(1+\\delta)}\n= V_{cm}\\,\\frac{R_{2}\\delta}{R_{1} + R_{2}(1+\\delta)}.\n$$\n当 $\\delta = 0$ 时，该表达式满足 $v_{out} = 0$，并且在极限情况下也能正确简化。", "answer": "$$\\boxed{V_{cm}\\,\\frac{R_{2}\\,\\delta}{R_{1}+R_{2}\\left(1+\\delta\\right)}}$$", "id": "1341094"}]}