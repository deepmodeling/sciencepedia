{"hands_on_practices": [{"introduction": "要真正理解运算放大器的内部工作原理，必须从其核心——输入级差分对开始。在施加任何信号之前，我们需要确定电路的直流工作点，即静态工作点。这个练习将带你计算输入级晶体管中的静态集电极电流，这是后续所有小信号分析的基础。通过这个基本计算 [@problem_id:1312243]，你将掌握分析差分放大器对称性的关键技能。", "problem": "一位电子工程师正在分析一个运算放大器（op-amp）简化模型的输入级。该输入级由两个相同的双极结型晶体管（BJT）$Q_1$ 和 $Q_2$ 组成，配置成一个差分对。这两个晶体管的发射极连接在一起，然后接到一个恒流源上，该恒流源吸收一个总电流，称为尾电流 $I_{EE}$。对于此特定设计，尾电流源被设置为提供 $I_{EE} = 25.0 \\ \\mu\\text{A}$ 的恒定电流。电路处于静态，这意味着没有输入信号施加到晶体管的基极上，并且它们的基极端子保持在相同的直流电位。假设晶体管是完美匹配的，并工作在放大区，计算流经其中一个晶体管（例如 $Q_1$）的静态集电极电流 $I_C$。\n\n以微安（$\\mu\\text{A}$）为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "在一个由匹配晶体管组成的、工作在放大区且两基极处于相同电位（静态，零差分输入）的 BJT 差分对中，基极-发射极电压相等，因此根据 BJT 的指数集电极电流关系，有 $I_{C1}=I_{C2}$。尾电流源强制要求发射极电流之和等于尾电流：\n$$I_{E1}+I_{E2}=I_{EE}.$$\n在运算放大器输入级的标准简化假设下，即晶体管电流增益很大，基极电流可以忽略不计，每个发射极电流约等于其对应的集电极电流，因此\n$$I_{C1}+I_{C2}\\approx I_{EE}.$$\n由于对称性有 $I_{C1}=I_{C2}$，每个集电极电流为\n$$I_{C}=\\frac{I_{EE}}{2}.$$\n代入给定的尾电流 $I_{EE}=25.0\\ \\mu\\text{A}$，\n$$I_{C}=\\frac{25.0}{2}\\ \\mu\\text{A}=12.5\\ \\mu\\text{A},$$\n保留三位有效数字，结果是 $12.5$ 微安。", "answer": "$$\\boxed{12.5}$$", "id": "1312243"}, {"introduction": "确定了输入级的静态偏置电流后，下一步就是分析它如何响应微小的输入信号变化。跨导（$g_m$）是连接直流偏置与交流放大能力的核心桥梁，它描述了输入电压变化转换为输出电流变化的能力，直接决定了放大器的增益。这个练习 [@problem_id:1312241] 将让你运用静态电流的计算结果来确定晶体管的跨导，这是理解运放电压增益来源的关键一步。", "problem": "一位电子工程师正在分析一个简化的老式通用运算放大器的输入级。该输入级由一个差分对构成，该差分对由两个相同的双极结型晶体管 (BJT) 组成。该差分对由一个理想的恒流源（称为尾电流源）偏置，其提供的总电流为 $I_{TAIL} = 19.2 \\, \\mu\\text{A}$。该放大器在 $V_{CC} = +15 \\text{ V}$ 和 $V_{EE} = -15 \\text{ V}$ 的双电源下工作，环境温度为 $T = 300 \\text{ K}$。\n\n为了进行小信号分析，假设在差分输入电压为零时，尾电流 $I_{TAIL}$ 会被完全且均等地分配给该差分对中两个晶体管的集电极电流。\n\n使用下面提供的物理常数，计算在这些偏置条件下，其中一个输入晶体管的小信号跨导 $g_m$。\n\n- 玻尔兹曼常数，$k_B = 1.38 \\times 10^{-23} \\text{ J/K}$\n- 基本电荷，$e = 1.60 \\times 10^{-19} \\text{ C}$\n\n答案以安培/伏特 (A/V) 为单位表示。将最终答案四舍五入至三位有效数字。", "solution": "对于处于正向有源区的 BJT，其小信号跨导定义为\n$$\ng_{m}=\\frac{\\partial I_{C}}{\\partial V_{BE}}=\\frac{I_{C}}{V_{T}},\n$$\n其中热电压为\n$$\nV_{T}=\\frac{k_B T}{e}.\n$$\n对于一个在零差分输入下完全对称的差分对，每个晶体管的集电极电流是尾电流的一半，因此\n$$\nI_{C}=\\frac{I_{TAIL}}{2}.\n$$\n因此，\n$$\ng_{m}=\\frac{I_{C}}{V_{T}}=\\frac{\\frac{I_{TAIL}}{2}}{\\frac{k_B T}{e}}=\\frac{e\\,I_{TAIL}}{2 k_B T}.\n$$\n代入给定的数值，使用 $I_{TAIL}=19.2\\times 10^{-6}\\,\\text{A}$，$T=300\\,\\text{K}$，$k_B=1.38\\times 10^{-23}\\,\\text{J/K}$ 以及 $e=1.60\\times 10^{-19}\\,\\text{C}$：\n$$\nV_{T}=\\frac{k_B T}{e}=\\frac{(1.38\\times 10^{-23})(300)}{1.60\\times 10^{-19}}=2.5875\\times 10^{-2}\\,\\text{V},\n$$\n$$\nI_{C}=\\frac{19.2\\times 10^{-6}}{2}=9.6\\times 10^{-6}\\,\\text{A},\n$$\n$$\ng_{m}=\\frac{9.6\\times 10^{-6}}{2.5875\\times 10^{-2}}=3.7101449\\times 10^{-4}\\,\\text{A/V}.\n$$\n四舍五入到三位有效数字，得到\n$$\ng_{m}=3.71\\times 10^{-4}\\,\\text{A/V}.\n$$\n在给定的假设下，电源电压不参与此计算，因为 $g_{m}$ 仅取决于偏置电流和温度。", "answer": "$$\\boxed{3.71 \\times 10^{-4}}$$", "id": "1312241"}, {"introduction": "运算放大器第一级的电压增益不仅取决于输入晶体管的跨导，还取决于整个级的输出电阻。现代运放通常使用有源负载（如电流镜）来获得高增益，但这些负载本身并非理想。这个练习 [@problem_id:1312233] 将引导你分析厄利效应（Early effect）如何影响有源负载的输出电阻，并最终影响级的总增益。通过比较理想与实际情况，你将深刻理解电路非理想性对性能的关键影响。", "problem": "一位模拟电路设计师正在分析一个两级运算放大器的第一级，以了解简化假设对性能预测的影响。该级是一个差分放大器，由两个相同的NMOS输入晶体管（Q1和Q2）和一个PMOS电流镜有源负载（Q3和Q4）组成。该级的输出取自连接Q2和Q4漏极的节点。\n\n在分析中，假设所有四个晶体管都偏置在漏极电流大小相同的状态，记为 $|I_D|$。NMOS输入晶体管的跨导为 $g_m$。沟道长度调制效应使用厄利电压进行建模。NMOS晶体管的厄利电压为 $V_{AN} = 35 \\text{ V}$，PMOS晶体管的厄利电压为 $V_{AP} = 45 \\text{ V}$。对于所有计算，您可以使用输出电阻的标准小信号近似，$r_o \\approx |V_A| / |I_D|$，其中 $V_A$ 是相应的厄利电压。\n\n设计师希望量化有源负载理想化所产生的影响。计算该差分级的实际直流电压增益与假设PMOS有源负载晶体管的厄利电压为无穷大时计算出的增益之比。将您的答案表示为保留三位有效数字的小数。", "solution": "单端输出差分级的小信号电压增益大小可以写为从差分输入到输出电流的有效跨导与输出节点看到的小信号电阻的乘积：\n$$\nA_{v} = G_{m,\\text{eff}} \\, R_{\\text{out}}.\n$$\n在这种带有PMOS电流镜有源负载的拓扑结构中，根据给定的假设，有源负载中唯一需要考虑的非理想性是由厄利效应引起的有限输出电阻。PMOS的跨导未指定，且对于所求的比值而言并非必需。因此，有效跨导因子 $G_{m,\\text{eff}}$ 在实际和理想情况下是相同的，在增益之比中被消去。因此，实际增益与理想增益之比等于相应输出电阻之比：\n$$\n\\frac{A_{v,\\text{actual}}}{A_{v,\\text{ideal}}} = \\frac{R_{\\text{out, actual}}}{R_{\\text{out, ideal}}}.\n$$\n\n在输出节点（$Q_{2}$ 和 $Q_{4}$ 的漏极），到交流地的小信号电阻是NMOS输出电阻 $r_{oN}$ 和PMOS输出电阻 $r_{oP}$ 的并联组合：\n$$\nR_{\\text{out, actual}} = r_{oN} \\parallel r_{oP} = \\frac{r_{oN} r_{oP}}{r_{oN} + r_{oP}}.\n$$\n如果假设PMOS的厄利电压为无穷大，则 $r_{oP} \\to \\infty$，因此\n$$\nR_{\\text{out, ideal}} = r_{oN}.\n$$\n因此，\n$$\n\\frac{A_{v,\\text{actual}}}{A_{v,\\text{ideal}}} = \\frac{r_{oN} \\parallel r_{oP}}{r_{oN}} = \\frac{r_{oP}}{r_{oN} + r_{oP}} = \\frac{1}{1 + \\frac{r_{oN}}{r_{oP}}}.\n$$\n\n对每个器件使用输出电阻的小信号近似 $r_{o} \\approx \\frac{|V_{A}|}{|I_{D}|}$，\n$$\nr_{oN} = \\frac{V_{AN}}{|I_{D}|}, \\quad r_{oP} = \\frac{V_{AP}}{|I_{D}|}.\n$$\n代入比值公式，\n$$\n\\frac{A_{v,\\text{actual}}}{A_{v,\\text{ideal}}} = \\frac{\\frac{V_{AP}}{|I_{D}|}}{\\frac{V_{AN}}{|I_{D}|} + \\frac{V_{AP}}{|I_{D}|}} = \\frac{V_{AP}}{V_{AN} + V_{AP}}.\n$$\n当 $V_{AN} = 35$ 且 $V_{AP} = 45$ 时，\n$$\n\\frac{A_{v,\\text{actual}}}{A_{v,\\text{ideal}}} = \\frac{45}{35 + 45} = \\frac{45}{80} = 0.5625 \\approx 0.563 \\text{（保留三位有效数字）}.\n$$", "answer": "$$\\boxed{0.563}$$", "id": "1312233"}]}