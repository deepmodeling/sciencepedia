{"hands_on_practices": [{"introduction": "在模拟电路设计中，选择合适的放大器拓扑至关重要。本练习将直接对比共源（CS）和共栅（CG）放大器在相同偏置和负载条件下的电压增益，这是一个核心性能指标。通过推导和比较它们的整体电压增益表达式，你将深入理解信号源内阻如何影响这两种结构的性能，并掌握评估不同放大器拓扑优劣的基本分析方法。[@problem_id:1294145]", "problem": "一位模拟电路设计师正在评估单级放大器的两种可能配置。有源器件是金属氧化物半导体场效应晶体管 (MOSFET)，其偏置使其小信号参数为跨导 $g_m$ 和有限的输出电阻 $r_o$。该放大器由一个信号源 $v_{sig}$ 驱动，该信号源具有内阻 $R_S$。一个阻值为 $R_L$ 的负载电阻连接到输出端。\n\n正在考虑的两种配置是：\n1.  **共源 (CS) 放大器**：来自源 $v_{sig}$ 的信号施加到 MOSFET 的栅极，源极端接地，输出电压 $v_{out}$ 从漏极端获取，负载电阻 $R_L$ 也连接在该端。\n2.  **共栅 (CG) 放大器**：MOSFET 的栅极连接到一个稳定的直流偏置电压（作为交流地），信号源连接到 MOSFET 的源极端，输出电压 $v_{out}$ 从漏极端获取，负载电阻 $R_L$ 也连接在此处。\n\n为了进行公平的比较，两种配置都被偏置以具有相同的 $g_m$ 和 $r_o$ 值。两种场景都使用相同的信号源（电阻为 $R_S$）和负载电阻 $R_L$。每种配置的总电压增益定义为 $A_v = v_{out} / v_{sig}$。\n\n求 CS 电压增益的幅值与 CG 电压增益的幅值之比 $\\frac{|A_{v,CS}|}{|A_{v,CG}|}$。用 $g_m$，$r_o$，$R_S$ 和 $R_L$ 将你的答案表示为符号表达式。", "solution": "对于共源 (CS) 放大器，栅极不吸取电流，因此 $v_{g} = v_{sig}$ 且 $v_{s} = 0$，所以 $v_{gs} = v_{sig}$。在漏极节点，负载 $R_{L}$ 和 $r_{o}$ 都接地，得到等效电阻 $R_{eq} = r_{o} \\parallel R_{L} = \\frac{r_{o}R_{L}}{r_{o}+R_{L}}$。值为 $g_{m}v_{gs} = g_{m}v_{sig}$ 的受控电流源从漏极流向源极，因此在漏极应用 KCL 可得\n$$\n\\frac{v_{out}}{R_{L}} + \\frac{v_{out}}{r_{o}} + g_{m}v_{sig} = 0\n\\quad\\Rightarrow\\quad\nv_{out} = -\\frac{g_{m}}{\\frac{1}{R_{L}}+\\frac{1}{r_{o}}}\\,v_{sig} = -g_{m}\\left(\\frac{r_{o}R_{L}}{r_{o}+R_{L}}\\right)v_{sig}.\n$$\n因此 CS 的总电压增益幅值为\n$$\n|A_{v,CS}| = g_{m}\\frac{r_{o}R_{L}}{r_{o}+R_{L}}.\n$$\n\n对于共栅 (CG) 放大器，栅极为交流地，源极节点电压为 $v_{s}$，漏极（输出）节点为 $v_{d}=v_{out}$，源极由一个戴维南（Thevenin）源 $v_{sig}$ 与 $R_{S}$ 串联驱动。小信号关系为 $v_{gs} = -v_{s}$，受控电流源等效为从源极到漏极的 $g_{m}v_{s}$。列出 KCL 方程：\n\n在源极节点，\n$$\n\\frac{v_{s}-v_{sig}}{R_{S}} + \\frac{v_{s}-v_{d}}{r_{o}} + g_{m}v_{s} = 0,\n$$\n整理后得到\n$$\n\\left(\\frac{1}{R_{S}}+\\frac{1}{r_{o}}+g_{m}\\right)v_{s} - \\frac{1}{r_{o}}v_{d} = \\frac{v_{sig}}{R_{S}}.\n$$\n\n在漏极节点，\n$$\n\\frac{v_{d}}{R_{L}} + \\frac{v_{d}-v_{s}}{r_{o}} - g_{m}v_{s} = 0,\n$$\n得到\n$$\n\\left(\\frac{1}{R_{L}}+\\frac{1}{r_{o}}\\right)v_{d} = \\left(\\frac{1}{r_{o}}+g_{m}\\right)v_{s}.\n$$\n因此\n$$\nv_{d} = \\frac{\\frac{1}{r_{o}}+g_{m}}{\\frac{1}{R_{L}}+\\frac{1}{r_{o}}}\\,v_{s}\n= \\left(1+g_{m}r_{o}\\right)\\frac{R_{L}}{r_{o}+R_{L}}\\,v_{s}.\n$$\n将此式代入源极节点方程：\n$$\n\\left(\\frac{1}{R_{S}}+\\frac{1}{r_{o}}+g_{m}\\right)v_{s} - \\frac{1}{r_{o}}\\left(1+g_{m}r_{o}\\right)\\frac{R_{L}}{r_{o}+R_{L}}\\,v_{s} = \\frac{v_{sig}}{R_{S}}.\n$$\n注意到 $\\frac{1}{r_{o}}\\left(1+g_{m}r_{o}\\right) = \\frac{1}{r_{o}}+g_{m}$，上式可简化为\n$$\n\\left[\\frac{1}{R_{S}} + \\left(\\frac{1}{r_{o}}+g_{m}\\right)\\left(1 - \\frac{R_{L}}{r_{o}+R_{L}}\\right)\\right]v_{s} = \\frac{v_{sig}}{R_{S}},\n$$\n所以\n$$\n\\left[\\frac{1}{R_{S}} + \\left(\\frac{1}{r_{o}}+g_{m}\\right)\\frac{r_{o}}{r_{o}+R_{L}}\\right]v_{s} = \\frac{v_{sig}}{R_{S}}.\n$$\n由于 $\\left(\\frac{1}{r_{o}}+g_{m}\\right)\\frac{r_{o}}{r_{o}+R_{L}} = \\frac{1+g_{m}r_{o}}{r_{o}+R_{L}}$，我们得到\n$$\n\\left[\\frac{1}{R_{S}} + \\frac{1+g_{m}r_{o}}{r_{o}+R_{L}}\\right]v_{s} = \\frac{v_{sig}}{R_{S}}.\n$$\n因此\n$$\n\\frac{v_{s}}{v_{sig}} = \\frac{\\frac{1}{R_{S}}}{\\frac{1}{R_{S}} + \\frac{1+g_{m}r_{o}}{r_{o}+R_{L}}}\n\\quad\\text{且}\\quad\nA_{v,CG} = \\frac{v_{d}}{v_{sig}} = \\left(1+g_{m}r_{o}\\right)\\frac{R_{L}}{r_{o}+R_{L}} \\cdot \\frac{\\frac{1}{R_{S}}}{\\frac{1}{R_{S}} + \\frac{1+g_{m}r_{o}}{r_{o}+R_{L}}}.\n$$\n化简得，\n$$\nA_{v,CG} = \\frac{\\left(1+g_{m}r_{o}\\right)R_{L}}{r_{o}+R_{L} + R_{S}\\left(1+g_{m}r_{o}\\right)}.\n$$\n\n因此，幅值之比为\n$$\n\\frac{|A_{v,CS}|}{|A_{v,CG}|}\n= \\frac{g_{m}\\frac{r_{o}R_{L}}{r_{o}+R_{L}}}{\\frac{\\left(1+g_{m}r_{o}\\right)R_{L}}{r_{o}+R_{L}+R_{S}\\left(1+g_{m}r_{o}\\right)}}\n= g_{m}r_{o}\\,\\frac{r_{o}+R_{L}+R_{S}\\left(1+g_{m}r_{o}\\right)}{(r_{o}+R_{L})\\left(1+g_{m}r_{o}\\right)}.\n$$\n所有量都是正实数参数，因此该表达式即为所求的幅值比。", "answer": "$$\\boxed{\\frac{g_{m}r_{o}\\left[r_{o}+R_{L}+R_{S}\\left(1+g_{m}r_{o}\\right)\\right]}{(r_{o}+R_{L})\\left(1+g_{m}r_{o}\\right)}}$$", "id": "1294145"}, {"introduction": "共漏（CD）放大器，又称源极跟随器，其关键特性之一是极低的输出电阻，这使其成为理想的电压缓冲器。本练习旨在通过一个实际的设计场景，探讨晶体管跨导（$g_m$）的提升如何影响CD放大器的输出电阻。完成这个练习将帮助你掌握输出电阻的计算方法，并直观地理解为何源极跟随器能够有效地驱动负载。[@problem_id:1294141]", "problem": "一位设计工程师正在评估一种新的金属-氧化物-半导体场效应晶体管 (MOSFET) 的制造工艺。与旧工艺相比，这种新工艺生产的晶体管在相同的直流工作点偏置下，表现出显著更高的跨导 ($g_m$)。晶体管的本征输出电阻 ($r_o$) 保持不变。该工程师计划将这种新晶体管用于标准的共漏极放大器配置，也称为源极跟随器。在该电路中，输出从源极端子取出，一个源极电阻 $R_S$ 连接在源极端子和地之间。漏极连接到正直流电源，输入信号施加到栅极。\n\n假设晶体管工作在饱和区，当 $g_m$ 显著增加（而 $r_o$ 和 $R_S$ 保持不变）时，从源极端子看进去的放大器输出电阻 $R_{out}$ 会如何变化？\n\nA. $R_{out}$ 显著增加，因为它与 $g_m$ 成正比。\n\nB. $R_{out}$ 几乎保持不变，因为它主要由 $R_S$ 和 $r_o$ 的并联决定。\n\nC. $R_{out}$ 减小，其值接近源极电阻 $R_S$ 的阻值。\n\nD. $R_{out}$ 减小，其值接近 $1/g_m$。", "solution": "我们使用其小信号 hybrid-pi 元件来对饱和区的 MOSFET 进行建模：一个从漏极到源极，值为 $g_m v_{gs}$ 的受控电流源，以及一个在漏极和源极之间的输出电阻 $r_o$。漏极连接到电源（对于小信号是交流地），栅极由一个信号源驱动，为了求输出电阻，我们将其设置为零，因此栅极也处于交流地。源极节点通过 $R_S$ 接地，并且是输出节点。\n\n为了找到从源极看进去的小信号输出电阻 $R_{out}$，我们将所有独立源置零（栅极和电源置为交流地），并向源极节点注入一个测试电流 $i_x$，测量源极上产生的小信号电压 $v_x$。那么 $R_{out} = v_x/i_x$。\n\n当栅极为交流地时，$v_{gs} = v_g - v_s = -v_x$。漏极（地）和源极之间的受控电流源的值为 $g_m v_{gs} = -g_m v_x$，方向是从漏极到源极。在该方向上的负值等效于一个大小为 $g_m v_x$ 的电流从源极节点流向地。因此，从源极节点流向地的总小信号电流是以下各项之和：\n- 流过 $R_S$ 的电流：$v_x/R_S$，\n- 流过 $r_o$ 的电流：$v_x/r_o$，\n- 流过受控源的电流：$g_m v_x$。\n\n根据测试激励下源极节点的 KCL（基尔霍夫电流定律），\n$$\ni_x = \\frac{v_x}{R_S} + \\frac{v_x}{r_o} + g_m v_x = v_x\\left(g_m + \\frac{1}{R_S} + \\frac{1}{r_o}\\right).\n$$\n因此，\n$$\nR_{out} = \\frac{v_x}{i_x} = \\frac{1}{g_m + \\frac{1}{R_S} + \\frac{1}{r_o}} = \\frac{R_S \\parallel r_o}{1 + g_m\\left(R_S \\parallel r_o\\right)}.\n$$\n在 $R_S$ 和 $r_o$ 保持不变的情况下，增加 $g_m$ 会减小 $R_{out}$，而在 $g_m$ 很大的极限情况下，\n$$\nR_{out} \\to \\frac{1}{g_m},\n$$\n因为 $g_m \\gg \\frac{1}{R_S} + \\frac{1}{r_o}$ 使得分母主要由 $g_m$ 决定。\n\n因此，正确的定性行为是，随着 $g_m$ 变大，$R_{out}$ 减小并趋近于 $1/g_m$。", "answer": "$$\\boxed{D}$$", "id": "1294141"}, {"introduction": "在现代集成电路中，为了实现高电压增益，常使用有源负载代替传统的电阻负载。这个练习将引导你分析当负载从电阻变为理想电流源时，共源（CS）和共栅（CG）放大器增益的变化情况。通过计算“增益改善因子”并进行比较，你将深入理解有源负载在不同放大器拓扑中的作用和效果，这是通往高级模拟IC设计的关键一步。[@problem_id:1294129]", "problem": "考虑一个共源（CS）放大器和一个共栅（CG）放大器。两个电路均使用相同的 N 沟道金属氧化物半导体场效应晶体管（MOSFET）器件构建，并偏置在具有相同小信号参数的状态：跨导 $g_m$ 和输出电阻 $r_o$。对于两个放大器，体效应均可忽略不计。每个放大器由一个信号电压源 $v_{sig}$ 驱动，该电压源具有一个串联的源电阻 $R_{sig}$。\n\n最初，两个放大器都使用一个从漏极端子连接到正电源的电阻负载 $R_D$。设在此配置下，CS 放大器的总电压增益的幅度（$|v_{out}/v_{sig}|$）为 $|A_{v,CS,R}|$，CG 放大器的为 $|A_{v,CG,R}|$。\n\n随后，两个放大器中的电阻负载 $R_D$ 都被一个理想电流源负载所取代，该负载具有无限的增量电阻。在这种新配置下，设 CS 放大器的电压增益幅度为 $|A_{v,CS,I}|$，CG 放大器的为 $|A_{v,CG,I}|$。\n\n每种放大器拓扑的“增益改善因子”定义为其在理想负载下的电压增益幅度与在电阻负载下的电压增益幅度之比。设这些因子为 $F_{CS} = |A_{v,CS,I}| / |A_{v,CS,R}|$ 和 $F_{CG} = |A_{v,CG,I}| / |A_{v,CG,R}|$。\n\n计算比值 $\\mathcal{R} = \\frac{F_{CS}}{F_{CG}}$。请用 $g_m$、$r_o$、$R_D$ 和 $R_{sig}$ 将您的答案表示为单一的闭式解析表达式。", "solution": "对于共源（CS）放大器，栅极不汲取电流，因此 $v_{g}=v_{sig}$。当使用一个连接到交流地的电阻负载 $R_{D}$ 时，小信号输出为\n$$v_{out}=-g_{m}v_{sig}\\left(R_{D}\\parallel r_{o}\\right),$$\n因此总增益的幅度为\n$$|A_{v,CS,R}|=g_{m}\\left(R_{D}\\parallel r_{o}\\right).$$\n当使用理想电流源负载（无限增量电阻）时，漏极看到的对地电阻仅为 $r_{o}$，因此\n$$|A_{v,CS,I}|=g_{m}r_{o}.$$\n因此，CS 的增益改善因子为\n$$F_{CS}=\\frac{|A_{v,CS,I}|}{|A_{v,CS,R}|}=\\frac{g_{m}r_{o}}{g_{m}\\left(R_{D}\\parallel r_{o}\\right)}=\\frac{r_{o}}{\\frac{R_{D}r_{o}}{R_{D}+r_{o}}}=1+\\frac{r_{o}}{R_{D}}.$$\n\n对于共栅（CG）放大器，栅极处于交流接地状态，输入通过 $R_{sig}$ 施加到源极。将 Thevenin 电源替换为其 Norton 等效电路：一个从地到源节点、值为 $I_{N}=v_{sig}/R_{sig}$ 的电流源，与 $R_{sig}$并联。设 $v_{s}$ 为源节点电压，$v_{d}\\equiv v_{out}$ 为漏极电压。在源节点和漏节点处写出 KCL 方程（设电流方向为离开各节点）可得\n$$\\frac{v_{s}}{R_{sig}}+g_{m}v_{s}+\\frac{v_{s}-v_{d}}{r_{o}}-\\frac{v_{sig}}{R_{sig}}=0,$$\n$$\\frac{v_{d}}{R_{D}}+\\frac{v_{d}-v_{s}}{r_{o}}-g_{m}v_{s}=0.$$\n求解 $v_{d}/v_{sig}$ 可得\n$$\\frac{v_{out}}{v_{sig}}=\\frac{\\left(\\frac{1}{R_{sig}}\\right)\\left(\\frac{1}{r_{o}}+g_{m}\\right)}{\\left[\\left(\\frac{1}{R_{sig}}+g_{m}+\\frac{1}{r_{o}}\\right)\\left(\\frac{1}{R_{D}}+\\frac{1}{r_{o}}\\right)-\\left(\\frac{1}{r_{o}}\\right)\\left(\\frac{1}{r_{o}}+g_{m}\\right)\\right]}=\\frac{\\frac{1}{R_{sig}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}{\\frac{1}{R_{sig}}\\left(\\frac{1}{R_{D}}+\\frac{1}{r_{o}}\\right)+\\frac{1}{R_{D}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}.$$\n因此，带电阻负载时的增益幅度为\n$$|A_{v,CG,R}|=\\frac{\\frac{1}{R_{sig}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}{\\frac{1}{R_{sig}}\\left(\\frac{1}{R_{D}}+\\frac{1}{r_{o}}\\right)+\\frac{1}{R_{D}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}.$$\n当使用理想电流源负载时，$R_{D}\\to\\infty$，所以\n$$|A_{v,CG,I}|=\\lim_{R_{D}\\to\\infty}\\frac{\\frac{1}{R_{sig}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}{\\frac{1}{R_{sig}}\\left(\\frac{1}{R_{D}}+\\frac{1}{r_{o}}\\right)+\\frac{1}{R_{D}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}=1+g_{m}r_{o}.$$\n因此，CG 的增益改善因子为\n$$F_{CG}=\\frac{|A_{v,CG,I}|}{|A_{v,CG,R}|}=\\frac{(1+g_{m}r_{o})\\left[\\frac{1}{R_{sig}}\\left(\\frac{1}{R_{D}}+\\frac{1}{r_{o}}\\right)+\\frac{1}{R_{D}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)\\right]}{\\frac{1}{R_{sig}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}.$$\n所求的比值为\n$$\\mathcal{R}=\\frac{F_{CS}}{F_{CG}}=\\frac{\\left(1+\\frac{r_{o}}{R_{D}}\\right)}{1+g_{m}r_{o}}\\cdot\\frac{\\frac{1}{R_{sig}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}{\\frac{1}{R_{sig}}\\left(\\frac{1}{R_{D}}+\\frac{1}{r_{o}}\\right)+\\frac{1}{R_{D}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}.$$\n注意到\n$$\\frac{\\left(\\frac{1}{r_{o}}+g_{m}\\right)}{(1+g_{m}r_{o})}=\\frac{1}{r_{o}},$$\n所以\n$$\\mathcal{R}=\\left(1+\\frac{r_{o}}{R_{D}}\\right)\\cdot\\frac{1}{r_{o}R_{sig}}\\cdot\\frac{1}{\\frac{1}{R_{sig}}\\left(\\frac{1}{R_{D}}+\\frac{1}{r_{o}}\\right)+\\frac{1}{R_{D}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}.$$\n分子和分母同乘以 $R_{sig}R_{D}r_{o}$ 可得\n$$\\mathcal{R}=\\frac{R_{D}+r_{o}}{R_{D}+r_{o}+R_{sig}+g_{m}R_{sig}r_{o}}=\\frac{R_{D}+r_{o}}{R_{D}+r_{o}+R_{sig}\\left(1+g_{m}r_{o}\\right)}.$$\n这就是用 $g_{m}$、$r_{o}$、$R_{D}$ 和 $R_{sig}$表示的所求的闭式表达式。", "answer": "$$\\boxed{\\frac{R_{D}+r_{o}}{R_{D}+r_{o}+R_{sig}\\left(1+g_{m}r_{o}\\right)}}$$", "id": "1294129"}]}