{"hands_on_practices": [{"introduction": "在现实世界的电路设计中，工程师并非从零开始制造每个元件，而是根据数据手册（datasheet）来选择最合适的现有组件。本练习将您置于一个常见的工程场景中：为需要全电源范围信号处理的传感器接口选择一款运算放大器。通过分析不同运算放大器的输入共模范围（ICMR）和输出电压摆幅，您将学会如何解读关键规格，并理解为何真正的“轨到轨”性能同时依赖于输入和输出能力。[@problem_id:1327815]", "problem": "一名电子专业的学生接到一项设计简单传感器接口的任务。该传感器产生的输出电压可以覆盖从系统地到其正电源电压的整个范围。该学生决定使用一个配置为单位增益缓冲器（电压跟随器）的运算放大器（op-amp）来将传感器与电路的后续级隔离。\n\n该电路由单电源供电，正电源轨为 $V_{DD} = 3.3\\,\\text{V}$，负电源轨（地）为 $V_{SS} = 0\\,\\text{V}$。因此，作为缓冲器输入的传感器输出信号 $V_{in}$ 可以是 $[0\\,\\text{V}, 3.3\\,\\text{V}]$ 范围内的任何电压。\n\n该学生有四种不同运放的数据手册。下面列出了每种运放在 3.3V 电源下工作时的相关规格。输入共模范围（ICMR）指定了运放能正常工作的输入电压范围。输出电压摆幅指定了可实现的输出电压范围。\n\n- **运放 A：**\n  - ICMR：$V_{SS} + 1.0\\,\\text{V}$ 至 $V_{DD} - 1.0\\,\\text{V}$\n  - 输出电压摆幅：$V_{SS} + 1.0\\,\\text{V}$ 至 $V_{DD} - 1.0\\,\\text{V}$\n\n- **运放 B：**\n  - ICMR：$V_{SS} - 0.1\\,\\text{V}$ 至 $V_{DD} + 0.1\\,\\text{V}$\n  - 输出电压摆幅：$V_{SS} + 0.5\\,\\text{V}$ 至 $V_{DD} - 0.5\\,\\text{V}$\n\n- **运放 C：**\n  - ICMR：$V_{SS} - 0.1\\,\\text{V}$ 至 $V_{DD} + 0.1\\,\\text{V}$\n  - 输出电压摆幅：$V_{SS} + 0.05\\,\\text{V}$ 至 $V_{DD} - 0.05\\,\\text{V}$\n\n- **运放 D：**\n  - ICMR：$V_{SS}$ 至 $V_{DD} - 1.2\\,\\text{V}$\n  - 输出电压摆幅：$V_{SS} + 0.1\\,\\text{V}$ 至 $V_{DD} - 0.1\\,\\text{V}$\n\n根据这些规格，以下哪个陈述正确地指出了此应用唯一合适的运放？\n\nA. 运放 A 合适，因为其指定的输入和输出范围相同。\n\nB. 运放 B 合适，因为它具有轨到轨的输入范围，这是电压跟随器的决定性要求。\n\nC. 运放 C 合适，因为其输入共模范围包括了整个电源范围，并且其输出可以摆动到非常接近两个电源轨。\n\nD. 运放 D 合适，因为其输入范围包括负电源轨（地），这是单电源应用最关键的要求。\n\nE. 没有一个运放适合此应用。", "solution": "对于一个工作在线性闭环模式下的单位增益缓冲器（电压跟随器），在整个预期的信号范围内必须同时满足两个条件：\n1) 输入电压 $V_{in}$ 必须在运放的输入共模范围（ICMR）内，否则输入级将无法正常工作。\n2) 输出电压 $V_{out}$ 必须在运放的保证输出摆幅范围内，否则放大器会饱和，不再提供单位增益。\n\n在这个单电源应用中，传感器产生的 $V_{in}$ 覆盖了整个电源范围，因此所需的范围是\n$$\nV_{in} \\in [V_{SS},\\,V_{DD}], \\qquad V_{out} \\in [V_{SS},\\,V_{DD}].\n$$\n因此，为了适用，ICMR 必须包含 $[V_{SS},\\,V_{DD}]$，并且输出摆幅必须至少覆盖所需的 $V_{out}$ 范围而不会导致饱和。\n\n根据这些要求评估每个选项：\n\n运放 A：\nICMR 为 $[V_{SS}+1.0\\,\\text{V},\\,V_{DD}-1.0\\,\\text{V}]$，该范围不包括 $V_{SS}$ 和 $V_{DD}$。因此 $[V_{SS},\\,V_{DD}] \\nsubseteq [V_{SS}+1.0\\,\\text{V},\\,V_{DD}-1.0\\,\\text{V}]$。其输出摆幅也是 $[V_{SS}+1.0\\,\\text{V},\\,V_{DD}-1.0\\,\\text{V}]$，无法再现所需的极限电压。因此运放 A 不合适。\n\n运放 B：\nICMR 为 $[V_{SS}-0.1\\,\\text{V},\\,V_{DD}+0.1\\,\\text{V}]$，该范围包含了 $[V_{SS},\\,V_{DD}]$，因此输入条件得到满足。然而，其输出摆幅为 $[V_{SS}+0.5\\,\\text{V},\\,V_{DD}-0.5\\,\\text{V}]$，不包括 $V_{SS}$ 或 $V_{DD}$。缓冲器在接近电源轨时会饱和，无法再现全范围信号。因此运放 B 不合适。\n\n运放 C：\nICMR 为 $[V_{SS}-0.1\\,\\text{V},\\,V_{DD}+0.1\\,\\text{V}]$，该范围包含了 $[V_{SS},\\,V_{DD}]$，因此输入条件得到满足。其输出摆幅为 $[V_{SS}+0.05\\,\\text{V},\\,V_{DD}-0.05\\,\\text{V}]$，虽然不完全包括电源轨，但非常接近两者。在给定的选项中，这是唯一一个既能接受全输入范围，又能提供接近电源轨的输出摆幅（这符合典型的“轨到轨”缓冲器实践）的器件，从而在基本上整个范围内避免了严重饱和。\n\n运放 D：\nICMR 为 $[V_{SS},\\,V_{DD}-1.2\\,\\text{V}]$，该范围不包括接近 $V_{DD}$ 的输入，因此无法缓冲传感器范围的上半部分。其输出摆幅 $[V_{SS}+0.1\\,\\text{V},\\,V_{DD}-0.1\\,\\text{V}]$ 也不包括确切的电源轨。因此运放 D 不合适。\n\n只有运放 C 满足了轨到轨的输入要求，并提供了非常接近两个电源轨的输出摆幅，这是在这种全电源范围驱动的单位增益缓冲器应用中的实际要求。因此，选项中唯一正确的陈述是，基于所述原因，运放 C 适合此应用。", "answer": "$$\\boxed{C}$$", "id": "1327815"}, {"introduction": "上一练习强调了输出电压摆幅的重要性。现在，我们将深入探讨其背后的物理限制。这个练习聚焦于一个典型的BJT推挽输出级，通过计算其输出能达到的最低电压，揭示了晶体管的饱和电压（$V_{CE,sat}$）是如何直接限制输出摆幅的。通过这个计算，您会明白为什么“轨到轨输出”是一个理想化的简称，实际电路总会与电源轨存在一个微小的电压差。[@problem_id:1327842]", "problem": "一个简化的运算放大器轨到轨输出级由一对互补双极结型晶体管（BJT）构成：一个NPN型晶体管 $Q_N$ 和一个PNP型晶体管 $Q_P$。该电路由对称电源供电，正电源轨为 $+V_S$，负电源轨为 $-V_S$。$Q_N$ 的发射极连接到负电源轨，而 $Q_P$ 的发射极连接到正电源轨。$Q_N$ 和 $Q_P$ 的集电极连接在一起，这个公共节点作为电路的输出 $V_{out}$。\n\n晶体管的性能由其饱和电压表征。对于NPN晶体管，集电极-发射极饱和电压为 $V_{CE,sat,N}$。对于PNP晶体管，发射极-集电极饱和电压为 $V_{EC,sat,P}$。\n\n给定以下数值：\n- 电源电压幅值，$V_S = 12.0$ V\n- NPN集电极-发射极饱和电压，$V_{CE,sat,N} = 0.20$ V\n- PNP发射极-集电极饱和电压，$V_{EC,sat,P} = 0.30$ V\n\n求输出端 $V_{out}$ 上可能出现的绝对最小电压。答案以伏特为单位，并四舍五入至三位有效数字。", "solution": "输出节点是互补对晶体管连接在一起的集电极。当NPN晶体管 $Q_{N}$ 将节点拉向负电源轨并处于饱和状态时，出现最低（最负）的输出。在饱和状态下，NPN晶体管的集电极-发射极电压不能低于 $V_{CE,sat,N}$，因此集电极（输出）必须满足\n$$\nV_{out,\\min} - V_{E,N} = V_{CE,sat,N},\n$$\n其中 $V_{E,N}$ 是 $Q_{N}$ 的发射极电位。由于 $Q_{N}$ 的发射极连接到负电源轨，所以 $V_{E,N} = -V_{S}$，因此\n$$\nV_{out,\\min} = -V_{S} + V_{CE,sat,N}.\n$$\n代入给定值 $V_{S} = 12.0\\,\\text{V}$ 和 $V_{CE,sat,N} = 0.20\\,\\text{V}$，\n$$\nV_{out,\\min} = -12.0 + 0.20 = -11.8\\,\\text{V}.\n$$\nPNP的饱和参数 $V_{EC,sat,P}$ 决定了最大（最正）输出，但不影响最小输出；因此在本计算中未使用。结果以伏特表示，并按要求四舍五入至三位有效数字，即 $-11.8\\,\\text{V}$。", "answer": "$$\\boxed{-11.8}$$", "id": "1327842"}, {"introduction": "正如输出有其限制，运算放大器的输入范围也同样受到内部电路的制约。本练习将带您剖析一个互补型CMOS轨到轨输入级的核心，特别是决定其输入共模范围下限的NMOS差分对。通过计算这个下限电压 $V_{ICM,min}$，您将掌握晶体管级参数（如阈值电压 $V_{TN}$ 和过驱动电压 $V_{OV}$）如何共同决定放大器处理接近负电源轨信号的能力。[@problem_id:1327856]", "problem": "一个运算放大器正在设计中，其带有一个互补的轨到轨输入级，用于与一个传感器接口，该传感器的输出可以在接近电源轨的范围内摆动。该放大器使用双电源 $V_{DD}$ 和 $V_{SS}$ 工作。其轨到轨能力是通过在输入端使用两个并联的差分对实现的：一对NMOS对和一对PMOS对。\n\n本问题关注输入共模范围的下限（$V_{ICM,min}$），该下限由NMOS差分对决定。该NMOS对由一个简单的NMOS尾電流源偏置。为使输入级正常工作，输入晶体管和尾電流源晶体管都必须工作在其饱和区。\n\n该电路采用具有以下参数的工艺设计：\n- 负电源电压，$V_{SS} = -1.25 \\text{ V}$。\n- 所有NMOS晶体管的阈值电压，$V_{TN} = 0.45 \\text{ V}$。\n\n偏置条件设置如下：\n- NMOS输入差分对晶体管所需的过驱动电压为 $V_{OV,N} = 0.20 \\text{ V}$。\n-作为尾電流源的NMOS晶体管的过驱动电压为 $V_{OV,tail} = 0.25 \\text{ V}$。\n\n计算输入共模电压的下限 $V_{ICM,min}$。以伏特 (V) 为单位表示您的最终答案，并四舍五入到三位有效数字。", "solution": "为使NMOS输入差分对能以指定的过驱动电压工作，其栅源电压必须满足\n$$\nV_{GS,\\text{in}} = V_{TN} + V_{OV,N}.\n$$\n设输入对的公共源节点电压为 $V_{S}$。根据 $V_{GS}$ 的定义，\n$$\nV_{S} = V_{ICM} - V_{GS,\\text{in}} = V_{ICM} - \\left(V_{TN} + V_{OV,N}\\right).\n$$\nNMOS尾电流源要保持在饱和区，需满足\n$$\nV_{DS,\\text{tail}} \\ge V_{OV,\\text{tail}},\n$$\n并且由于尾电流晶体管的漏极电压为 $V_{S}$，其源极电压为 $V_{SS}$，我们有\n$$\nV_{DS,\\text{tail}} = V_{S} - V_{SS}.\n$$\n因此，\n$$\nV_{S} - V_{SS} \\ge V_{OV,\\text{tail}} \\;\\;\\Longrightarrow\\;\\; V_{ICM} - \\left(V_{TN} + V_{OV,N}\\right) - V_{SS} \\ge V_{OV,\\text{tail}}.\n$$\n解出 $V_{ICM}$，得到由NMOS对设定的输入共模范围下限：\n$$\nV_{ICM,\\min} = V_{SS} + V_{TN} + V_{OV,N} + V_{OV,\\text{tail}}.\n$$\n代入给定值 $V_{SS}=-1.25\\,\\text{V}$，$V_{TN}=0.45\\,\\text{V}$，$V_{OV,N}=0.20\\,\\text{V}$ 和 $V_{OV,\\text{tail}}=0.25\\,\\text{V}$ (单位为伏特)，\n$$\nV_{ICM,\\min} = -1.25 + 0.45 + 0.20 + 0.25 = -0.35\\,\\text{V}.\n$$\n四舍五入到三位有效数字，$V_{ICM,\\min} = -0.350\\,\\text{V}$。", "answer": "$$\\boxed{-0.350}$$", "id": "1327856"}]}