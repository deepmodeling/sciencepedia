{"hands_on_practices": [{"introduction": "为了理解一个复杂电路，一个有效的方法是从一个理想化的模型开始。这个练习将引导你推导MOS共源共栅放大器的电压增益，同时做出一些简化假设，例如晶体管具有无限的输出电阻。通过这种方式，你可以清晰地洞察到电路的核心增益机制，而不被次级效应所干扰，从而为你理解更真实的电路模型奠定坚实的基础 [@problem_id:1287267]。", "problem": "一位工程师正在为高频传感器设计一款低噪声前置放大器。该设计的核心是一个共源共栅放大级。该级由两个相同的n沟道金属氧化物半导体场效应晶体管（MOSFET）M1和M2以共源共栅配置组成。输入信号 $v_{in}$ 被施加到共源晶体管M1的栅极。M1的漏极连接到共栅晶体管M2的源极。一个电阻值为 $R_L$ 的负载电阻连接在M2的漏极和正电源之间。输出信号 $v_{out}$ 从M2的漏极取出。\n\n为了进行初步的小信号分析，作出以下理想化假设：\n1.  晶体管M1和M2都工作在饱和区。\n2.  两个晶体管的本征输出电阻均为无穷大（即对于M1和M2都有 $r_o \\to \\infty$）。\n3.  两个晶体管的体效应都可以忽略不计。\n4.  所有寄生电容都可以忽略。\n\n设 $g_{m1}$ 是晶体管M1的跨导，$g_{m2}$ 是晶体管M2的跨导。推导放大器的总小信号电压增益 $A_v = \\frac{v_{out}}{v_{in}}$ 关于给定参数的闭式解析表达式。", "solution": "设M1漏极/M2源极节点处的小信号电压为 $v_{x}$，M1的源极处于小信号地，M2的栅极处于小信号地（固定偏置）。电源节点是交流地，因此负载 $R_{L}$ 将输出节点连接到交流地。\n\n小信号器件关系（$r_{o}\\to\\infty$ 且无体效应）：\n- 对于M1（共源极）：$i_{d1} = g_{m1} v_{gs1} = g_{m1} v_{in}$，定义为从漏极到源极。\n- 对于M2（共栅极）：$v_{gs2} = 0 - v_{x} = -v_{x}$，因此 $i_{d2} = g_{m2} v_{gs2} = - g_{m2} v_{x}$，定义为从漏极到源极。\n\n在节点 $v_x$ 处应用基尔霍夫电流定律 (KCL)，流入的电流 $i_{d1}$ 等于流出的电流 $i_{s2}$（即 $i_{d2}$）。\n$$\ni_{d1} = i_{d2} \\;\\;\\Rightarrow\\;\\; g_{m1} v_{in} = -g_{m2} v_x \\;\\;\\Rightarrow\\;\\; v_x = - \\frac{g_{m1}}{g_{m2}} v_{in}.\n$$\n\n输出节点 $v_{out}$ 处的KCL（流出电流之和为零）。流经 $R_{L}$ 到地的电流是 $v_{out}/R_{L}$，而流入M2漏极的电流是 $i_{d2} = - g_{m2} v_{x}$：\n$$\n\\frac{v_{out}}{R_{L}} + i_{d2} = 0\n\\;\\;\\Rightarrow\\;\\;\n\\frac{v_{out}}{R_{L}} - g_{m2} v_{x} = 0\n\\;\\;\\Rightarrow\\;\\;\nv_{out} = g_{m2} v_{x} R_{L}.\n$$\n\n代入 $v_{x}$：\n$$\nv_{out} = g_{m2} \\left(- \\frac{g_{m1}}{g_{m2}} v_{in}\\right) R_{L}\n= - g_{m1} R_{L}\\, v_{in}.\n$$\n\n因此，总的小信号电压增益为\n$$\nA_{v} = \\frac{v_{out}}{v_{in}} = - g_{m1} R_{L},\n$$\n在所述的理想假设下，该增益与 $g_{m2}$ 无关。", "answer": "$$\\boxed{-g_{m1}R_{L}}$$", "id": "1287267"}, {"introduction": "共源共栅放大器拓扑的一个主要优点是其极高的输出电阻，这对于驱动后续电路或实现高电压增益至关重要。这个练习通过分析一个三级BJT共源共栅结构，让你深入实践计算输出电阻的方法。虽然这是一个更为高级的结构，但其分析过程能完美地揭示共源共栅级如何通过“堆叠”来倍增输出电阻的基本原理，使你能够将此概念推广到任何层级的共源共栅设计中 [@problem_id:1287284]。", "problem": "考虑一个由三个相同的NPN型双极结型晶体管 (BJT) 构建的三重级联拓扑放大级，这三个晶体管分别记为 $Q_1$、$Q_2$ 和 $Q_3$。电路配置如下：输入晶体管 $Q_1$ 的集电极连接到 $Q_2$ 的发射极。$Q_2$ 的集电极则连接到 $Q_3$ 的发射极。最顶层晶体管 $Q_3$ 的集电极作为整个放大级的输出端。$Q_2$ 和 $Q_3$ 的基极保持在适当的恒定直流电压下，以确保正确的偏置，而输入信号施加到 $Q_1$ 的基极。\n\n假设所有三个晶体管都工作在正向有源区，并偏置在相同的直流集电极电流 $I_C$ 下。因此，它们具有相同的小信号参数：跨导 $g_m$ 和内在输出电阻 $r_o$。\n\n求解该三重级联放大器的总输出电阻 $R_{out}$ 的解析表达式。输出电阻是从晶体管 $Q_3$ 的集电极看入测量的，同时将 $Q_1$ 基极的输入信号源置零。用 $g_m$ 和 $r_o$ 表示你的答案。", "solution": "为了确定输出电阻 $R_{out}$，我们通过从输出端（$Q_3$ 的集电极）看入来分析电路，同时将所有独立的交流源置零。这意味着输入晶体管 $Q_1$ 基极的交流电压接地。由于 $Q_2$ 和 $Q_3$ 的基极连接到固定的直流源，因此它们也处于交流接地状态。该分析通过从下到上逐级计算晶体管堆栈的等效电阻来完成。\n\n所使用的关键公式是发射极连接一个电阻 $R_E$ 的共基极 (CB) 晶体管的输出电阻。从这样一个晶体管（其基极处于交流接地状态）的集电极看入的电阻由下式给出：\n$$ R_{out,CB} = r_o (1 + g_m R_E) + R_E $$\n该表达式既考虑了晶体管的内在输出电阻 $r_o$，也考虑了发射极负载 $R_E$ 的电阻提升效应。\n\n**第 1 步：第一级 ($Q_1$) 的输出电阻**\n\n首先，我们求出从最底部晶体管 $Q_1$ 的集电极向上看入的电阻，记为 $R_{out,1}$。在计算输出电阻时，输入信号源被置零，因此 $Q_1$ 的基极接地。从晶体管集电极看入、基极接地的电阻即为其内在输出电阻 $r_o$。\n$$ R_{out,1} = r_{o1} $$\n由于所有晶体管都相同，所以 $r_{o1} = r_o$。\n\n**第 2 步：第二级 ($Q_2$) 的输出电阻**\n\n接下来，我们求出从中间晶体管 $Q_2$ 的集电极看入的电阻。我们将其称为 $R_{out,2}$。晶体管 $Q_2$ 配置为共基极级。连接到其发射极的电阻是其下一级的输出电阻，即 $R_{out,1}$。所以，我们有 $R_E = R_{out,1} = r_o$。\n使用共基极级的输出电阻公式：\n$$ R_{out,2} = r_{o2}(1 + g_{m2} R_{out,1}) + R_{out,1} $$\n代入相同的参数 $g_{m2} = g_m$、$r_{o2} = r_o$ 和 $R_{out,1} = r_o$：\n$$ R_{out,2} = r_o(1 + g_m r_o) + r_o $$\n$$ R_{out,2} = r_o + g_m r_o^2 + r_o $$\n$$ R_{out,2} = 2r_o + g_m r_o^2 $$\n\n**第 3 步：第三级也是最后一级 ($Q_3$) 的输出电阻**\n\n最后，我们计算放大器的总输出电阻 $R_{out}$，也就是从顶部晶体管 $Q_3$ 的集电极看入的电阻。这记为 $R_{out,3}$。晶体管 $Q_3$ 也是一个共基极级，连接到其发射极的电阻是其下方两级级联电路的输出电阻 $R_{out,2}$。\n所以，我们应用相同的公式，其中 $R_E = R_{out,2} = 2r_o + g_m r_o^2$。\n$$ R_{out} = R_{out,3} = r_{o3}(1 + g_{m3} R_{out,2}) + R_{out,2} $$\n代入相同的参数 $g_{m3} = g_m$、$r_{o3} = r_o$ 以及 $R_{out,2}$ 的表达式：\n$$ R_{out} = r_o \\left(1 + g_m (2r_o + g_m r_o^2)\\right) + (2r_o + g_m r_o^2) $$\n现在，我们展开并合并各项以求得最终表达式。\n$$ R_{out} = r_o + g_m r_o (2r_o + g_m r_o^2) + 2r_o + g_m r_o^2 $$\n$$ R_{out} = r_o + 2g_m r_o^2 + g_m^2 r_o^3 + 2r_o + g_m r_o^2 $$\n合并同类项：\n$$ R_{out} = (r_o + 2r_o) + (2g_m r_o^2 + g_m r_o^2) + g_m^2 r_o^3 $$\n$$ R_{out} = 3r_o + 3g_m r_o^2 + g_m^2 r_o^3 $$\n为了更紧凑地表示，我们可以提出因子 $r_o$：\n$$ R_{out} = r_o (3 + 3g_m r_o + (g_m r_o)^2) $$\n这就是三重级联放大器输出电阻的最终解析表达式。", "answer": "$$\\boxed{r_o \\left(3 + 3g_m r_o + (g_m r_o)^{2}\\right)}$$", "id": "1287284"}, {"introduction": "在电路设计中，几乎不存在“免费的午餐”。共源共栅放大器的高增益和高输出阻抗性能，其代价是牺牲了一定的输出电压摆幅，这也被称为电压裕度（headroom）的限制。这个练习将带你进行一项关键的实际设计计算：确定保证所有晶体管工作在饱和区所需的最低电源电压。掌握这项技能对于确保你的放大器设计能够在现实世界中正确工作至关重要 [@problem_id:1287311]。", "problem": "考虑一个由两个相同的n沟道金属氧化物半导体（NMOS）晶体管M1（输入晶体管）和M2（共源共栅晶体管）实现的阻性负载共源共栅放大器。M1的源极接地。M1的漏极连接到M2的源极。M2的漏极通过一个负载电阻 $R_D$ 连接到标记为 $V_{DD}$ 的电源。\n\n对于此电路，假设两个晶体管相同，并具有以下参数：工艺跨导参数 $k_n' = 100 \\ \\mu\\text{A}/\\text{V}^2$，宽长比 $(W/L) = 50$，以及阈值电压 $V_{Th} = 0.5 \\ \\text{V}$。负载电阻为 $R_D = 5.0 \\ \\text{k}\\Omega$。\n\n该放大器在M1栅极的直流输入电压 $V_{IN} = 0.8 \\ \\text{V}$ 和M2栅极合适的直流偏置电压下工作。为了进行此分析，可以忽略体效应和沟道长度调制效应（即 $\\lambda = 0$）。\n\n确定为确保晶体管M1和M2都工作在饱和区所需的电源电压 $V_{DD}$ 的最小值。答案以伏特（V）为单位，并四舍五入到三位有效数字。", "solution": "对于工作在饱和区的长沟道NMOS（忽略体效应和沟道长度调制效应），饱和条件为 $V_{DS} \\geq V_{OV}$，其中 $V_{OV} \\equiv V_{GS} - V_{Th}$。\n\n- 对于M1（源极接地，栅极为 $V_{IN}$），过驱动电压为\n$$\nV_{OV1} = V_{IN} - V_{Th}.\n$$\n为使M1保持在饱和区，其最小漏极电压为\n$$\nV_{D1,\\min} = V_{OV1}.\n$$\n\n- 对于M2（共栅级联），其源极为 $V_{S2} = V_{D1}$，漏极为 $V_{D2}$，饱和条件要求\n$$\nV_{D2} - V_{S2} \\geq V_{OV2}.\n$$\n由于器件相同且 $\\lambda = 0$，直流电流相等（$I_{D2} = I_{D1}$），这意味着过驱动电压也相等：\n$$\nV_{OV2} = V_{OV1}.\n$$\n因此，在饱和区边缘，\n$$\nV_{D2,\\min} = V_{S2} + V_{OV2} = V_{D1,\\min} + V_{OV1} = 2 V_{OV1}.\n$$\n\n负载电阻给出\n$$\nV_{DD} = V_{D2} + I_{D} R_{D} \\;\\;\\Rightarrow\\;\\; V_{DD,\\min} = 2 V_{OV1} + I_{D} R_{D}.\n$$\n\n由M1设定的漏极电流为\n$$\nI_{D} = \\frac{1}{2} k_{n} V_{OV1}^{2}, \\quad \\text{其中} \\quad k_{n} = k_{n}' \\left(\\frac{W}{L}\\right).\n$$\n\n数值计算所需的量：\n$$\nV_{OV1} = V_{IN} - V_{Th} = 0.8 - 0.5 = 0.3 \\ \\text{V},\n$$\n$$\nk_{n} = \\left(100 \\times 10^{-6} \\ \\text{A}/\\text{V}^{2}\\right)\\times 50 = 5.0 \\times 10^{-3} \\ \\text{A}/\\text{V}^{2},\n$$\n$$\nI_{D} = \\frac{1}{2} \\left(5.0 \\times 10^{-3}\\right) (0.3)^{2} \\ \\text{A} = 2.25 \\times 10^{-4} \\ \\text{A},\n$$\n$$\nI_{D} R_{D} = \\left(2.25 \\times 10^{-4}\\right)\\left(5.0 \\times 10^{3}\\right) \\ \\text{V} = 1.125 \\ \\text{V}.\n$$\n因此，\n$$\nV_{DD,\\min} = 2(0.3) + 1.125 = 1.725 \\ \\text{V}.\n$$\n四舍五入到三位有效数字，结果是 $1.73$。", "answer": "$$\\boxed{1.73}$$", "id": "1287311"}]}