{"hands_on_practices": [{"introduction": "第一个练习将带你分析简单的BJT电流镜，这是模拟集成电路中偏置电路的基石。通过这个实践 [@problem_id:1283658]，你将学习如何计算输出电流，同时考虑到有限电流增益 ($\\beta$) 这一基本电路中的主要误差来源。掌握这一计算是设计可预测且稳定偏置网络的第一步。", "problem": "一个简单的电流镜由两个标记为 $Q_1$ 和 $Q_2$ 的完全匹配的NPN型双极结型晶体管 (BJT) 构成。该电路由 $V_{CC} = 10.0 \\text{ V}$ 的单一电源电压供电。电流镜的参考侧由晶体管 $Q_1$（其采用二极管接法，即基极和集电极短接）和一个连接在 $V_{CC}$ 与 $Q_1$ 集电极之间的参考电阻 $R_{REF}$ 组成。输出侧由晶体管 $Q_2$ 组成，其集电极提供输出电流 $I_{OUT}$。两个晶体管的发射极均连接到公共地。\n\n该系统由以下参数定义：\n- 电源电压: $V_{CC} = 10.0 \\text{ V}$\n- 参考电阻: $R_{REF} = 4.65 \\text{ k}\\Omega$\n- 导通状态基极-发射极电压: 两个晶体管均为 $V_{BE(on)} = 0.70 \\text{ V}$。\n- 共发射极电流增益: 两个晶体管均为 $\\beta = 100$。\n\n假设晶体管在所有其他方面都是理想的（例如，输出电阻无穷大），计算输出电流 $I_{OUT}$ 的值。将最终答案以毫安 (mA) 为单位表示，并四舍五入到三位有效数字。", "solution": "由于 $Q_{1}$ 采用二极管接法，其基极-发射极电压将节点电压设定为 $V_{BE(on)}$，并且在理想条件下，对于匹配的晶体管，有 $V_{BE1}=V_{BE2}=V_{BE(on)}$，这使得 $I_{C1}=I_{C2}$。\n\n设流过参考电阻的电流为 $I_{R}$。根据欧姆定律，\n$$\nI_{R}=\\frac{V_{CC}-V_{BE(on)}}{R_{REF}}.\n$$\n在 $Q_{1}$ 的基极/集电极节点处应用KCL，电阻电流供给了 $Q_{1}$ 的集电极电流以及两个晶体管的基极电流：\n$$\nI_{R}=I_{C1}+I_{B1}+I_{B2}.\n$$\n当共发射极电流增益为 $\\beta$ 时，每个基极电流都满足 $I_{B}=\\frac{I_{C}}{\\beta}$。利用 $I_{C2}=I_{C1}$，\n$$\nI_{R}=I_{C1}+\\frac{I_{C1}}{\\beta}+\\frac{I_{C2}}{\\beta}=I_{C1}\\left(1+\\frac{2}{\\beta}\\right).\n$$\n因此，输出电流为\n$$\nI_{OUT}=I_{C2}=I_{C1}=\\frac{I_{R}}{1+\\frac{2}{\\beta}}=\\frac{V_{CC}-V_{BE(on)}}{R_{REF}\\left(1+\\frac{2}{\\beta}\\right)}.\n$$\n代入给定值，\n$$\nI_{R}=\\frac{10.0-0.70}{4.65\\times 10^{3}} \\, \\text{A}=2.00\\times 10^{-3} \\, \\text{A},\n$$\n$$\nI_{OUT}=\\frac{2.00\\times 10^{-3}}{1+\\frac{2}{100}} \\, \\text{A}=\\frac{2.00\\times 10^{-3}}{1.02} \\, \\text{A}=1.96078\\dots\\times 10^{-3} \\, \\text{A}.\n$$\n以毫安为单位表示并四舍五入到三位有效数字，\n$$\nI_{OUT}=1.96 \\, \\text{mA}.\n$$", "answer": "$$\\boxed{1.96}$$", "id": "1283658"}, {"introduction": "虽然简单电流镜能有效复制电流，但要从一个较大且稳定的参考电流中产生一个非常小的电流（例如微安级别），则需要更高级的方法。本练习将介绍 Widlar 电流源，它巧妙地利用一个发射极电阻来实现大的电流比率 [@problem_id:1283657]。你将学习如何利用晶体管的对数式I-V特性来设计一个能够产生精确小输出电流的电路。", "problem": "一位工程师正在使用 Widlar 电流源结构为一个集成放大器设计一个小电流偏置源。该电路由两个匹配的、标记为 $Q_1$ 和 $Q_2$ 的 NPN 型双极结型晶体管 (BJT) 组成。两个晶体管的基极连接在一起。参考晶体管 $Q_1$ 的集电极与其基极相连，形成一个类似二极管的元件。一个已知的参考电流 $I_{REF} = 1.00 \\text{ mA}$ 流入 $Q_1$ 的集电极。输出电流 $I_{OUT}$ 是第二个晶体管 $Q_2$ 的集电极电流。为了产生一个小的输出电流，一个电阻 $R_E$ 与 $Q_2$ 的发射极串联，并将其接地。$Q_1$ 的发射极直接接地。\n\n假设两个晶体管都工作在正向有源区，此时的温度使得热电压为 $V_T = 25.0 \\text{ mV}$。这两个晶体管是完全相同的，并具有非常高的共发射极电流增益 $\\beta$，这使我们可以假设集电极电流等于发射极电流 ($I_C = I_E$)，并且基极电流可以忽略不计。\n\n计算产生 $I_{OUT} = 20.0 \\, \\mu\\text{A}$ 输出电流所需的发射极电阻 $R_E$ 的值。答案以千欧 (k$\\Omega$) 为单位，并保留三位有效数字。", "solution": "因为两个 BJT 是匹配的，工作在正向有源区，且基极电流可忽略不计，所以我们对每个器件使用指数型 $I$–$V$ 关系式 $I_{C} = I_{S} \\exp(V_{BE}/V_{T})$。设公共基极电压为 $V_{B}$。对于 $Q_{1}$ (发射极接地)，有 $V_{BE1} = V_{B}$ 且\n$$\nI_{REF} = I_{S} \\exp\\!\\left(\\frac{V_{BE1}}{V_{T}}\\right) = I_{S} \\exp\\!\\left(\\frac{V_{B}}{V_{T}}\\right).\n$$\n对于 $Q_{2}$，其发射极电压为 $V_{E2} = I_{OUT} R_{E}$ (使用 $I_{E} \\approx I_{C}$)，因此 $V_{BE2} = V_{B} - V_{E2}$ 且\n$$\nI_{OUT} = I_{S} \\exp\\!\\left(\\frac{V_{BE2}}{V_{T}}\\right) = I_{S} \\exp\\!\\left(\\frac{V_{B} - I_{OUT} R_{E}}{V_{T}}\\right).\n$$\n将两式相除可以消去 $I_{S}$ 和 $V_{B}$：\n$$\n\\frac{I_{OUT}}{I_{REF}} = \\exp\\!\\left(\\frac{V_{BE2} - V_{BE1}}{V_{T}}\\right) = \\exp\\!\\left(-\\frac{I_{OUT} R_{E}}{V_{T}}\\right).\n$$\n取自然对数并求解 $R_{E}$ 可得\n$$\n\\ln\\!\\left(\\frac{I_{OUT}}{I_{REF}}\\right) = -\\frac{I_{OUT} R_{E}}{V_{T}}\n\\;\\;\\Rightarrow\\;\\;\nR_{E} = \\frac{V_{T}}{I_{OUT}} \\ln\\!\\left(\\frac{I_{REF}}{I_{OUT}}\\right).\n$$\n将给定值 $V_{T} = 25.0 \\times 10^{-3}$，$I_{REF} = 1.00 \\times 10^{-3}$ 和 $I_{OUT} = 20.0 \\times 10^{-6}$ (使用国际单位制单位) 代入，可得\n$$\nR_{E} = \\frac{25.0 \\times 10^{-3}}{20.0 \\times 10^{-6}} \\ln(50) = 1250 \\ln(50) \\, \\Omega \\approx 4890.0 \\, \\Omega = 4.890 \\, \\text{k}\\Omega.\n$$\n以千欧为单位，并将结果四舍五入至三位有效数字：", "answer": "$$\\boxed{4.89}$$", "id": "1283657"}, {"introduction": "一个电流源只有在能够为负载提供恒定输出电流时才真正有效。本练习探讨了一个关键的实际限制：输出电压裕度。你将确定一个简单电流镜在输出晶体管进入饱和区、不再作为理想电流源工作之前所能驱动的最大负载 [@problem_id:1283598]。理解这一工作边界对于确保电流镜在更复杂的电路中正确运行至关重要。", "problem": "考虑一个由两个相同的NPN型双极结型晶体管（BJT）构成的简单电流镜电路，这两个晶体管分别表示为Q1和Q2。该电路的配置如下：Q1和Q2的基极连接在一起，它们的发射极均接地。参考晶体管Q1的集电极连接到其自身的基极。一个参考电阻 $R_{REF}$ 连接在正电源电压 $V_{CC}$ 和Q1的集电极之间。\n\n一个由电阻 $R_L$ 代表的负载连接在输出晶体管Q2的集电极和同一正电源电压 $V_{CC}$ 之间。\n\n两个晶体管完全匹配，并且在正向有源区工作时，其基极-发射极电压为一恒定值 $V_{BE(on)}$。当晶体管的集电极-发射极电压下降到 $V_{CE(sat)}$ 时，认为晶体管进入饱和区。可以假设晶体管的电流增益 $\\beta$ 足够大，因此基极电流可以忽略不计。厄利效应也应忽略。\n\n确定负载电阻 $R_{L,max}$ 的最大可能值，在此值下输出晶体管Q2保持在正向有源区。请用一个包含 $V_{CC}$、$R_{REF}$、$V_{BE(on)}$ 和 $V_{CE(sat)}$ 的单一闭式解析表达式来表示你的答案。", "solution": "Q1和Q2的基极连接在一起，它们的发射极接地。由于Q1的集电极连接到其基极，当Q1在正向有源区工作时，Q1的基极-集电极-发射极回路将基极/集电极节点的对地电压固定为 $V_{BE(on)}$。忽略基极电流，根据欧姆定律，流过参考电阻的电流因此被设定为\n$$\nI_{REF}=\\frac{V_{CC}-V_{BE(on)}}{R_{REF}}.\n$$\n在晶体管完全匹配且忽略厄利效应的情况下，输出晶体管Q2在正向有源区会镜像这个电流，因此其集电极电流为\n$$\nI_{O}=I_{REF}=\\frac{V_{CC}-V_{BE(on)}}{R_{REF}}.\n$$\nQ2的集电极通过 $R_{L}$ 连接到 $V_{CC}$，所以其集电极电压为\n$$\nV_{C2}=V_{CC}-I_{O}R_{L}.\n$$\n只要 $V_{CE2}\\geq V_{CE(sat)}$，Q2就保持在正向有源工作状态。由于发射极接地，有 $V_{CE2}=V_{C2}$，正向有源区的边界发生在以下情况时\n$$\nV_{CC}-I_{O}R_{L,\\max}=V_{CE(sat)}.\n$$\n求解 $R_{L,\\max}$ 可得\n$$\nR_{L,\\max}=\\frac{V_{CC}-V_{CE(sat)}}{I_{O}}.\n$$\n代入 $I_{O}=I_{REF}=(V_{CC}-V_{BE(on)})/R_{REF}$ 得到闭式表达式\n$$\nR_{L,\\max}=R_{REF}\\,\\frac{V_{CC}-V_{CE(sat)}}{V_{CC}-V_{BE(on)}}.\n$$\n此结果假设Q1本身也保持在正向有源工作状态，这在 $V_{BE(on)}>V_{CE(sat)}$ 时得到满足，与所述的器件行为一致。", "answer": "$$\\boxed{R_{REF}\\,\\frac{V_{CC}-V_{CE(sat)}}{V_{CC}-V_{BE(on)}}}$$", "id": "1283598"}]}