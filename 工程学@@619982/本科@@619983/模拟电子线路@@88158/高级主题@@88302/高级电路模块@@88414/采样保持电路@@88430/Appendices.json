{"hands_on_practices": [{"introduction": "采样保持电路设计的核心在于权衡关键性能指标。这个练习探讨了保持电容 $C_H$ 的值对电路性能的双重影响，帮助你理解采集时间常数与电压跌落率之间固有的设计折衷。通过分析改变电容值如何同时影响这两个参数，你将对采样保持电路的设计挑战建立起直观的认识。[@problem_id:1330142]", "problem": "一位工程师正在设计一个数据采集系统，该系统使用了一个基本的采样保持（S/H）电路。该电路由一个具有恒定导通电阻 $R_{on}$ 的电子开关、一个初始电容为 $C_{H,1}$ 的保持电容器和理想的缓冲放大器组成。在“保持”模式下，一个恒定的非零漏电流 $I_{leak}$ 从电容器中流出，导致其电压逐渐下降。这种现象由电压下降率来量化。电路采集输入信号的速度由采集时间常数 $\\tau_{acq}$ 来表征。\n\n为了通过减少保持阶段的电压衰减来提高电路性能，该工程师决定将原来的保持电容器更换为一个新电容器，其电容为 $C_{H,2} = 2 C_{H,1}$。所有其他组件及其特性，包括 $R_{on}$ 和 $I_{leak}$，均保持不变。\n\n下列哪个陈述正确描述了此项修改对电压下降率和采集时间常数的影响？\n\nA. 电压下降率减半，采集时间常数加倍。\n\nB. 电压下降率加倍，采集时间常数减半。\n\nC. 电压下降率和采集时间常数均加倍。\n\nD. 电压下降率和采集时间常数均减半。", "solution": "为确定改变保持电容器值的影响，我们必须分析它对两个指定的性能指标的影响：采集时间常数和电压下降率。\n\n首先，我们来分析采集时间常数 $\\tau_{acq}$。在“采样”或“采集”阶段，电子开关闭合，保持电容器 $C_H$ 向输入电压充电。这个充电过程可以建模为一个简单的 RC 电路，其中的电阻是开关的导通电阻 $R_{on}$。该 RC 电路的时间常数由电阻和电容的乘积给出。\n最初，使用电容器 $C_{H,1}$ 时，采集时间常数为：\n$$ \\tau_{acq, 1} = R_{on} C_{H,1} $$\n修改后，新电容器为 $C_{H,2} = 2 C_{H,1}$。新的采集时间常数 $\\tau_{acq, 2}$ 为：\n$$ \\tau_{acq, 2} = R_{on} C_{H,2} = R_{on} (2 C_{H,1}) = 2 (R_{on} C_{H,1}) = 2 \\tau_{acq, 1} $$\n因此，将电容加倍会使采集时间常数加倍。\n\n接下来，我们来分析电压下降率。在“保持”阶段，开关打开。电容器两端的电压 $V_H$ 在理想情况下是恒定的。然而，由于漏电流 $I_{leak}$ 对电容器放电，电压会随时间变化。对于电容器，电流、电容和电压变化率之间的基本关系是 $I = C \\frac{dV}{dt}$。\n在我们的情况中，电流是使电容器 $C_H$ 放电的漏电流 $I_{leak}$。电压下降率定义为电容器上电压变化率的绝对值。\n$$ \\text{Droop Rate} = \\left| \\frac{dV_H}{dt} \\right| $$\n根据电容器方程，我们有：\n$$ \\left| \\frac{dV_H}{dt} \\right| = \\frac{I_{leak}}{C_H} $$\n最初，使用电容器 $C_{H,1}$ 时，电压下降率为：\n$$ \\text{Droop Rate}_1 = \\frac{I_{leak}}{C_{H,1}} $$\n将电容器更换为 $C_{H,2} = 2 C_{H,1}$ 后，新的电压下降率为：\n$$ \\text{Droop Rate}_2 = \\frac{I_{leak}}{C_{H,2}} = \\frac{I_{leak}}{2 C_{H,1}} = \\frac{1}{2} \\left( \\frac{I_{leak}}{C_{H,1}} \\right) = \\frac{1}{2} \\text{Droop Rate}_1 $$\n因此，将电容加倍会使电压下降率减半。\n\n综合我们的发现，将保持电容加倍会导致采集时间常数加倍，而电压下降率减半。这对应于选项 A。", "answer": "$$\\boxed{A}$$", "id": "1330142"}, {"introduction": "为了确保高精度的数据转换，采样保持电路必须在极短的采集时间内充分接近输入信号电压。这个练习将系统级精度要求（以ADC位数表示）与电路元件参数直接关联起来。通过计算满足特定精度和采集时间所需的最大开关导通电阻 $R_{on}$，你将学会如何为电路的“采样”阶段进行量化设计。[@problem_id:1330097]", "problem": "一个数据采集系统采用采样保持（S/H）电路，在模拟电压被数字化之前捕捉快速变化的模拟电压。该S/H电路被建模为一个与保持电容串联的模拟开关。该开关具有一个非零的导通电阻，记为 $R_{on}$，保持电容的电容量为 $C_H$。\n\n在采集阶段，开关闭合一段特定的时间，即采集时间 $t_{acq}$，使电容器向输入电压充电。为了使该系统能够与下游的10位模数转换器（ADC）正常工作，采集时间结束时电容器两端的电压必须稳定在输入电压的半个最低有效位（LSB）之内。\n\n假设最坏情况是电容器初始完全放电（0 V），且输入信号发生一个满量程阶跃。已知采集时间 $t_{acq} = 500 \\text{ ns}$，保持电容 $C_H = 10 \\text{ pF}$，请确定满足此精度要求的开关的最大允许导通电阻 $R_{on}$。\n\n答案以欧姆（$\\Omega$）为单位，并四舍五入到三位有效数字。", "solution": "在采集期间，采样保持电路表现为一个 $RC$ 充电网络，其时间常数为 $\\tau = R_{on}C_{H}$。对于在 $t=0$ 时从 $0$ 到 $V_{FS}$ 的满量程阶跃，电容器电压为\n$$\nV_{C}(t)=V_{FS}\\left(1-\\exp\\!\\left(-\\frac{t}{R_{on}C_{H}}\\right)\\right).\n$$\n相对于最终值的稳定误差是\n$$\nE(t)=V_{FS}-V_{C}(t)=V_{FS}\\exp\\!\\left(-\\frac{t}{R_{on}C_{H}}\\right).\n$$\n对于一个10位ADC，半个LSB的要求是\n$$\nE(t_{acq}) \\leq \\frac{V_{FS}}{2^{11}}.\n$$\n消去 $V_{FS}>0$ 并取自然对数，可得\n$$\n\\exp\\!\\left(-\\frac{t_{acq}}{R_{on}C_{H}}\\right) \\leq 2^{-11}\n\\;\\;\\Rightarrow\\;\\;\n-\\frac{t_{acq}}{R_{on}C_{H}} \\leq -11\\ln 2\n\\;\\;\\Rightarrow\\;\\;\n\\frac{t_{acq}}{R_{on}C_{H}} \\geq 11\\ln 2.\n$$\n因此，最大允许导通电阻为\n$$\nR_{on,\\max}=\\frac{t_{acq}}{C_{H}\\,11\\ln 2}.\n$$\n代入 $t_{acq}=500\\times 10^{-9}$ 和 $C_{H}=10\\times 10^{-12}$，\n$$\n\\frac{t_{acq}}{C_{H}}=\\frac{500\\times 10^{-9}}{10\\times 10^{-12}}=5.00\\times 10^{4},\n$$\n所以\n$$\nR_{on,\\max}=\\frac{5.00\\times 10^{4}}{11\\ln 2}\\approx \\frac{5.00\\times 10^{4}}{7.624618986}\\approx 6.5577\\times 10^{3}.\n$$\n四舍五入到三位有效数字，结果是 $6.56\\times 10^{3}$。", "answer": "$$\\boxed{6.56 \\times 10^{3}}$$", "id": "1330097"}, {"introduction": "在信号采集之后，保持阶段的稳定性同样至关重要，尤其是在模拟数字转换器（ADC）进行转换的期间。由于漏电流的存在，保持电容上的电压会逐渐“跌落”，从而引入误差。本练习模拟了一个真实的设计场景，要求你计算出最小保持电容 $C_H$ 的值，以确保在整个ADC转换时间内电压跌落不超过系统精度允许的范围。[@problem_id:1330135]", "problem": "一位工程师正在设计一个高精度数字数据采集系统。该系统的前端由一个采样保持 (S&H) 电路组成，该电路的输出连接到一个模数转换器 (ADC)。S&H 电路使用了一个理想模拟开关和一个保持电容 $C_H$。\n\n该 ADC 是逐次逼近寄存器 (SAR) 型，分辨率为 $N=14$ 位，满量程参考电压为 $V_{ref} = 5.0$ V。ADC 的内部时钟频率为 $f_{clk} = 2.0$ MHz，一次完整的转换需要正好 $N$ 个时钟周期。在此转换期间，S&H 电路处于“保持”模式。\n\n系统的性能受到漏电流的限制，漏电流会导致存储在 $C_H$ 上的电压“下降”。漏电流有两个来源：模拟开关在断开时，其漏电流为 $I_{leak} = 50.0$ pA；ADC 输入端的偏置电流为 $I_{bias} = 20.0$ pA。为保证转换的准确性，在单次转换期间，电容器上的总电压下降不得超过 ADC 一个最低有效位 (LSB) 所对应电压的一半。\n\n计算保持电容 $C_H$ 所需的最小值。以皮法 (pF) 为单位表示你的最终答案，并四舍五入到三位有效数字。", "solution": "题目要求计算满足特定电压下降约束的保持电容 $C_H$ 的最小值。\n\n首先，我们确定在保持阶段对电容 $C_H$ 放电的总漏电流 $I_{total}$。该电流是开关漏电流和 ADC 输入偏置电流之和。\n$$I_{total} = I_{leak} + I_{bias}$$\n\n接下来，我们确定保持阶段的持续时间 $t_{hold}$。题目说明 S&H 电路在 ADC 转换期间处于保持模式。该 ADC 是逐次逼近寄存器 (SAR) 型，以时钟频率 $f_{clk}$ 完成一次转换需要 $N$ 个时钟周期。因此，保持时间为：\n$$t_{hold} = \\frac{N}{f_{clk}}$$\n\n在这段时间 $t_{hold}$ 内，总漏电流 $I_{total}$ 导致电容器上的电荷发生变化 $\\Delta Q$，其值为 $\\Delta Q = I_{total} \\times t_{hold}$。电荷的变化导致电容器 $C_H$ 两端的电压发生变化，即“电压下降” $\\Delta V_{droop}$。它们的关系由 $\\Delta Q = C_H \\Delta V_{droop}$ 给出。将这些关系结合起来，我们得到：\n$$\\Delta V_{droop} = \\frac{\\Delta Q}{C_H} = \\frac{I_{total} \\times t_{hold}}{C_H}$$\n\n题目对最大允许电压下降施加了约束。电压下降不得超过一个最低有效位 (LSB) 的一半。\n$$\\Delta V_{droop} \\le \\frac{1}{2} V_{LSB}$$\n\n对于一个分辨率为 $N$ 位、满量程参考电压为 $V_{ref}$ 的 ADC，一个 LSB 所代表的电压为：\n$$V_{LSB} = \\frac{V_{ref}}{2^N}$$\n\n将此代入约束条件，得到：\n$$\\Delta V_{droop} \\le \\frac{1}{2} \\frac{V_{ref}}{2^N}$$\n\n为了求得所需的最小电容 $C_{H,min}$，我们将实际电压下降设定为最大允许电压下降：\n$$\\frac{I_{total} \\times t_{hold}}{C_{H,min}} = \\frac{1}{2} \\frac{V_{ref}}{2^N}$$\n\n现在，我们求解 $C_{H,min}$：\n$$C_{H,min} = \\frac{2 \\times I_{total} \\times t_{hold} \\times 2^N}{V_{ref}}$$\n\n代入 $I_{total}$ 和 $t_{hold}$ 的表达式：\n$$C_{H,min} = \\frac{2 \\times (I_{leak} + I_{bias}) \\times \\left(\\frac{N}{f_{clk}}\\right) \\times 2^N}{V_{ref}}$$\n$$C_{H,min} = \\frac{2 \\cdot N \\cdot 2^N \\cdot (I_{leak} + I_{bias})}{f_{clk} \\cdot V_{ref}}$$\n\n现在，我们可以代入给定的数值：\n$N = 14$\n$V_{ref} = 5.0$ V\n$f_{clk} = 2.0$ MHz $= 2.0 \\times 10^6$ Hz\n$I_{leak} = 50.0$ pA $= 50.0 \\times 10^{-12}$ A\n$I_{bias} = 20.0$ pA $= 20.0 \\times 10^{-12}$ A\n\n首先，计算总电流：\n$$I_{total} = 50.0 \\times 10^{-12} \\text{ A} + 20.0 \\times 10^{-12} \\text{ A} = 70.0 \\times 10^{-12} \\text{ A}$$\n\n现在，将所有数值代入 $C_{H,min}$ 的表达式中：\n$$C_{H,min} = \\frac{2 \\times 14 \\times 2^{14} \\times (70.0 \\times 10^{-12} \\text{ A})}{(2.0 \\times 10^6 \\text{ Hz}) \\times (5.0 \\text{ V})}$$\n注意到 $2^{14} = 16384$。\n$$C_{H,min} = \\frac{2 \\times 14 \\times 16384 \\times 70.0 \\times 10^{-12}}{10.0 \\times 10^6} \\text{ F}$$\n$$C_{H,min} = \\frac{32112640 \\times 10^{-12}}{10^7} \\text{ F}$$\n$$C_{H,min} = \\frac{3.211264 \\times 10^7 \\times 10^{-12}}{10^7} \\text{ F}$$\n$$C_{H,min} = 3.211264 \\times 10^{-12} \\text{ F}$$\n\n题目要求答案以皮法 (pF) 为单位，其中 $1 \\text{ pF} = 10^{-12} \\text{ F}$。\n将其换算为皮法单位：\n$$C_{H,min} = 3.211264 \\text{ pF}$$\n\n四舍五入到三位有效数字，我们得到：\n$$C_{H,min} \\approx 3.21 \\text{ pF}$$", "answer": "$$\\boxed{3.21}$$", "id": "1330135"}]}