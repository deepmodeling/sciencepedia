{"hands_on_practices": [{"introduction": "掌握仪表放大器的第一步是理解其核心功能：差分增益。这个练习将引导你计算一个标准三运放仪表放大器的差分电压增益 $A_d$。通过这个基础计算，你将清楚地看到不同电阻如何协同工作以实现精确的信号放大，这是分析和设计相关电路的基石 [@problem_id:1311724]。", "problem": "一位工程师正在使用标准的三运放（op-amp）仪表放大器配置来设计一个精密前置放大器电路。运放被认为是理想的。\n\n该电路的配置如下：\n第一级由两个运放U1和U2组成。输入信号 $v_1$ 和 $v_2$ 分别连接到U1和U2的同相输入端。一个被指定为增益电阻 $R_G$ 的电阻连接在U1和U2的反相输入端之间。两个阻值均为 $R_1$ 的相同电阻用于负反馈路径；一个将U1的输出连接到其反相输入端，另一个将U2的输出连接到其反相输入端。\n\n第二级是一个由第三个运放U3构成的差分放大器。U1的输出通过一个电阻 $R_2$ 连接到U3的反相输入端。U2的输出通过另一个阻值也为 $R_2$ 的电阻连接到U3的同相输入端。一个阻值为 $R_3$ 的反馈电阻将U3的输出连接到其反相输入端。最后，另一个阻值为 $R_3$ 的电阻将U3的同相输入端接地。\n\n为该设计选择的电阻值是：\n$R_G = 1.20\\,\\text{k}\\Omega$\n$R_1 = 22.0\\,\\text{k}\\Omega$\n$R_2 = 10.0\\,\\text{k}\\Omega$\n$R_3 = 47.0\\,\\text{k}\\Omega$\n\n计算该仪表放大器的差分电压增益 $A_d = \\frac{v_{out}}{v_2 - v_1}$。将您的最终答案四舍五入到三位有效数字。", "solution": "对于理想运放，输入电流为零，且每个运放的输入端之间维持虚短，因此第一级的反相节点电压分别为 $v_{1}$（对于U1在节点a）和 $v_{2}$（对于U2在节点b）。\n\n在节点a（U1的反相输入端）应用基尔霍夫电流定律（KCL）并使用欧姆定律可得\n$$(v_{o1}-v_{1})/R_{1}=(v_{1}-v_{2})/R_{G} \\quad \\Rightarrow \\quad v_{o1}=v_{1}+\\frac{R_{1}}{R_{G}}(v_{1}-v_{2}).$$\n类似地，在节点b（U2的反相输入端），\n$$(v_{o2}-v_{2})/R_{1}=(v_{2}-v_{1})/R_{G} \\quad \\Rightarrow \\quad v_{o2}=v_{2}+\\frac{R_{1}}{R_{G}}(v_{2}-v_{1}).$$\n因此，第一级的差分输出为\n$$v_{o2}-v_{o1}=\\left[1+2\\frac{R_{1}}{R_{G}}\\right](v_{2}-v_{1}).$$\n\n第二级是一个差分放大器，其两臂上的电阻比 $R_{3}/R_{2}$ 匹配，通过（叠加原理、同相侧的分压以及反相节点的KCL）可得\n$$v_{out}=\\frac{R_{3}}{R_{2}}(v_{o2}-v_{o1}).$$\n结合第一级的结果，得到总的差分增益\n$$A_{d}\\equiv \\frac{v_{out}}{v_{2}-v_{1}}=\\frac{R_{3}}{R_{2}}\\left(1+2\\frac{R_{1}}{R_{G}}\\right).$$\n\n代入给定值 $R_{G}=1.20\\,\\text{k}\\Omega$，$R_{1}=22.0\\,\\text{k}\\Omega$，$R_{2}=10.0\\,\\text{k}\\Omega$，$R_{3}=47.0\\,\\text{k}\\Omega$，\n$$A_{d}= \\frac{47.0}{10.0}\\left(1+2\\frac{22.0}{1.20}\\right)=4.7\\left(1+36.666\\ldots\\right)=4.7\\times 37.666\\ldots=177.033\\ldots$$\n四舍五入到三位有效数字，\n$$A_{d}=177.$$", "answer": "$$\\boxed{177}$$", "id": "1311724"}, {"introduction": "理论计算是基础，但仪表放大器的真正价值在于其应用。本练习将放大器置于一个经典的实际场景中：测量惠斯通电桥中应变片的微小电阻变化 [@problem_id:1311752]。这个实践旨在揭示仪表放大器的关键优势——能够在一个较大的共模电压背景下，精确地放大微弱的差分信号，这是许多传感器接口设计的核心。", "problem": "在一个机械结构的结构健康监测系统中，一个应变片被配置在惠斯通电桥中以检测微小形变。当没有施加应力时，应变片和电桥中其他三个电阻的标称电阻为 $R_0$。在特定负载下，应变片的电阻增加量为 $\\Delta R$。\n\n整个电桥由一个稳定的直流电压源 $V_{ref}$ 供电。电桥的两个输出端连接到一个理想仪表放大器的同相输入端 ($v_2$) 和反相输入端 ($v_1$)。放大器的输出电压为 $V_{out}$。应变片放置在连接到同相输入端 $v_2$ 的电桥桥臂上，使得 $v_2$ 是通过应变片的电压。反相输入端 $v_1$ 连接到电桥另一个不变的桥臂上的相应点。\n\n仪表放大器的增益由一个外部电阻 $R_{gain}$ 和两个内部反馈电阻（电阻值均为 $R_f$）决定。放大器的电压增益 $G$ 由公式 $G = 1 + \\frac{2R_f}{R_{gain}}$ 给出。\n\n给定以下参数：\n- 电桥激励电压, $V_{ref} = 5.00 \\text{ V}$\n- 电桥标称电阻, $R_0 = 120 \\text{ } \\Omega$\n- 应变片电阻变化量, $\\Delta R = 0.250 \\text{ } \\Omega$\n- 放大器反馈电阻, $R_f = 20.0 \\text{ k}\\Omega$\n- 放大器增益设定电阻, $R_{gain} = 100 \\text{ } \\Omega$\n\n计算仪表放大器的输出电压 $V_{out}$。以伏特 (V) 为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "一个激励电压为 $V_{ref}$ 的理想惠斯通电桥，其两个中心节点电压由每个桥臂上的分压电路决定。将电阻为 $R_{0}+\\Delta R$ 的应变片作为其中心点为 $v_{2}$ 的桥臂的下电阻。另一个桥臂有两个阻值为 $R_{0}$ 的电阻，其中心点为 $v_{1}$。\n\n根据分压法则，\n$$\nv_{2} = V_{ref}\\,\\frac{R_{0}+\\Delta R}{R_{0}+(R_{0}+\\Delta R)} = V_{ref}\\,\\frac{R_{0}+\\Delta R}{2R_{0}+\\Delta R},\n$$\n$$\nv_{1} = V_{ref}\\,\\frac{R_{0}}{R_{0}+R_{0}} = \\frac{V_{ref}}{2}.\n$$\n电桥的差分输入为\n$$\nv_{d} = v_{2} - v_{1} = V_{ref}\\left(\\frac{R_{0}+\\Delta R}{2R_{0}+\\Delta R} - \\frac{1}{2}\\right) = V_{ref}\\,\\frac{\\Delta R}{2\\left(2R_{0}+\\Delta R\\right)}.\n$$\n对于一个理想仪表放大器，其输出为 $V_{out} = G\\,v_{d}$，增益为\n$$\nG = 1 + \\frac{2R_{f}}{R_{gain}}.\n$$\n代入给定值 $V_{ref} = 5.00$, $R_{0} = 120$, $\\Delta R = 0.250$, $R_{f} = 20.0\\times 10^{3}$ 和 $R_{gain} = 100$（所有单位均为一致的国际单位制单位），\n$$\nG = 1 + \\frac{2\\cdot 20.0\\times 10^{3}}{100} = 401,\n$$\n$$\nv_{d} = 5.00\\cdot \\frac{0.250}{2\\left(2\\cdot 120 + 0.250\\right)} = \\frac{1.25}{480.5}\\ \\text{V} \\approx 0.002601\\ \\text{V},\n$$\n$$\nV_{out} = 401 \\times 0.002601\\ \\text{V} \\approx 1.043\\ \\text{V}.\n$$\n四舍五入到三位有效数字，输出电压为 $1.04$。", "answer": "$$\\boxed{1.04}$$", "id": "1311752"}, {"introduction": "理想模型有助于简化分析，但实际电路总会受到物理限制。这个更进一步的练习将探讨一个关键的实际约束：由电源电压决定的输入共模电压范围 [@problem_id:1311737]。通过推导允许的输入范围，你将深刻理解为何即使输出信号看似在合理范围内，仪表放大器仍可能因内部运放饱和而失效，这对于设计稳健可靠的电路至关重要。", "problem": "考虑一个标准的三运算放大器（op-amp）仪表放大器（In-Amp）。该电路由一个第一级和第二级组成，第一级包含两个同相运算放大器（A1 和 A2），第二级是一个差分放大器（A3）。输入电压 $v_1$ 施加到 A1 的同相输入端，输入电压 $v_2$ 施加到 A2 的同相输入端。\n\n输入级的反馈网络包含一个电阻值为 $R_G$ 的电阻，连接在 A1 和 A2 的反相输入端之间。一个电阻值为 $R_1$ 的电阻连接 A1 的输出端与其反相输入端，另一个电阻值为 $R_1$ 的电阻连接 A2 的输出端与其反相输入端。\n\n第二级是一个单位增益差分放大器，围绕运放 A3 构建，使用四个阻值均为 $R_2$ 的相同电阻。A1 的输出 $v_{o1}$ 通过其中一个电阻连接到 A3 的反相输入端，A2 的输出 $v_{o2}$ 通过另一个电阻连接到 A3 的同相输入端。\n\n所有三个运放都是理想的，但它们的输出电压受到对称电源轨 $+V_S$ 和 $-V_S$ 的限制。为了使仪表放大器工作在其线性区，每个运放的输出都必须保持在 $[-V_S, +V_S]$ 范围内。\n\n电路的输入由差分电压 $v_d = v_2 - v_1$ 和共模电压 $v_{cm} = \\frac{v_1 + v_2}{2}$ 来表征。对于给定的非零差分输入 $v_d$，只有当共模输入 $v_{cm}$ 在特定范围内时，放大器才能正常工作（即没有任何运放输出饱和）。\n\n推导允许的最小共模电压 $V_{cm,min}$ 和允许的最大共模电压 $V_{cm,max}$ 的解析表达式。用 $V_S$、$v_d$、$R_1$ 和 $R_G$ 表示你的答案。你的最终答案应为 $(V_{cm,min}, V_{cm,max})$ 的表达式对。", "solution": "仪表放大器的工作范围受其内部运放饱和的限制。共模输入电压 $v_{cm}$ 会通过输入缓冲级（A1 和 A2），但会被随后的差分放大级（A3）抑制。因此，对输入共模范围的限制来自于需要将第一级运放的输出 $v_{o1}$ 和 $v_{o2}$ 保持在其饱和限制 $[-V_S, +V_S]$ 内。\n\n首先，我们来确定 $v_{o1}$ 和 $v_{o2}$ 的表达式。\n对于理想运放 A1 和 A2，反相输入端的电压等于同相输入端的电压。因此，A1 反相输入端的电压为 $v_1$，A2 反相输入端的电压为 $v_2$。\n\n增益设置电阻 $R_G$ 两端的电压差为 $v_2 - v_1 = v_d$。\n由于没有电流流入理想运放的输入端，流经 $R_G$ 的电流也必须流过两个 $R_1$ 电阻。该电流 $I$ 由下式给出：\n$$I = \\frac{v_2 - v_1}{R_G} = \\frac{v_d}{R_G}$$\n该电流在 $R_G$ 上从高电位流向低电位。我们假设其方向是从 A2 的反相输入端流向 A1 的反相输入端（这个选择不影响最终结果，因为代数运算将保持一致）。此电流从 A2 的输出 $v_{o2}$ 经上方的 $R_1$ 流出，并经下方的 $R_1$ 流入 A1 的输出 $v_{o1}$。\n\nA1 的输出电压可以通过在其反相输入端写出节点方程来求得。该节点的电压为 $v_1$。电流 $I$ 从此节点流经反馈电阻 $R_1$ 到达输出 $v_{o1}$。\n$$v_{o1} = v_1 - I \\cdot R_1 = v_1 - \\frac{v_d}{R_G} R_1$$\n类似地，对于运放 A2，电流 $I$ 从其输出 $v_{o2}$ 流经其反馈电阻 $R_1$ 到达其反相输入节点，该节点的电压为 $v_2$。\n$$v_{o2} = v_2 + I \\cdot R_1 = v_2 + \\frac{v_d}{R_G} R_1$$\n\n接下来，我们用共模电压 $v_{cm}$ 和差分电压 $v_d$ 来表示 $v_1$ 和 $v_2$：\n$$v_1 = v_{cm} - \\frac{v_d}{2}$$\n$$v_2 = v_{cm} + \\frac{v_d}{2}$$\n将这些代入 $v_{o1}$ 和 $v_{o2}$ 的表达式中：\n$$v_{o1} = \\left(v_{cm} - \\frac{v_d}{2}\\right) - \\frac{R_1}{R_G} v_d = v_{cm} - v_d \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right)$$\n$$v_{o2} = \\left(v_{cm} + \\frac{v_d}{2}\\right) + \\frac{R_1}{R_G} v_d = v_{cm} + v_d \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right)$$\n\n为保证线性工作，$v_{o1}$ 和 $v_{o2}$ 都必须在电源轨范围内：\n$$-V_S \\le v_{o1} \\le +V_S$$\n$$-V_S \\le v_{o2} \\le +V_S$$\n\n我们将这些约束应用于 $v_{o1}$ 和 $v_{o2}$ 的表达式。\n对于 $v_{o1}$：\n$$-V_S \\le v_{cm} - v_d \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right) \\le V_S$$\n这给出了关于 $v_{cm}$ 的两个不等式：\n$$v_{cm} \\ge -V_S + v_d \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right)$$\n$$v_{cm} \\le V_S + v_d \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right)$$\n\n对于 $v_{o2}$：\n$$-V_S \\le v_{cm} + v_d \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right) \\le V_S$$\n这又给出了关于 $v_{cm}$ 的另外两个不等式：\n$$v_{cm} \\ge -V_S - v_d \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right)$$\n$$v_{cm} \\le V_S - v_d \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right)$$\n\n为了找到 $v_{cm}$ 的允许范围，我们必须同时满足所有四个不等式。\n$v_{cm}$ 的下界 $V_{cm,min}$ 必须是两个下界中的最大值：\n$$V_{cm,min} = \\max \\left[-V_S + v_d \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right), -V_S - v_d \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right) \\right]$$\n$v_{cm}$ 的上界 $V_{cm,max}$ 必须是两个上界中的最小值：\n$$V_{cm,max} = \\min \\left[V_S + v_d \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right), V_S - v_d \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right) \\right]$$\n\n令项 $X = v_d \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right)$。\n那么 $V_{cm,min} = \\max[-V_S + X, -V_S - X] = -V_S + \\max[X, -X] = -V_S + |X|$。\n并且 $V_{cm,max} = \\min[V_S + X, V_S - X] = V_S - \\max[X, -X] = V_S - |X|$。\n\n由于 $R_1$ 和 $R_G$ 是电阻，项 $\\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right)$ 总是正的。\n因此， $|X| = |v_d| \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right)$。\n\n允许的最小和最大共模电压为：\n$$V_{cm,min} = -V_S + |v_d| \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right)$$\n$$V_{cm,max} = V_S - |v_d| \\left(\\frac{1}{2} + \\frac{R_1}{R_G}\\right)$$\n\n为了表达式更简洁，我们可以将括号中的项通分：\n$\\frac{1}{2} + \\frac{R_1}{R_G} = \\frac{R_G + 2R_1}{2R_G}$。\n\n因此，允许的最小和最大共模电压的最终表达式为：\n$$V_{cm,min} = -V_S + |v_d| \\left(\\frac{R_G + 2R_1}{2R_G}\\right)$$\n$$V_{cm,max} = V_S - |v_d| \\left(\\frac{R_G + 2R_1}{2R_G}\\right)$$\n题目要求给出表达式对 $(V_{cm,min}, V_{cm,max})$ 。", "answer": "$$\n\\boxed{\n\\begin{pmatrix} -V_S + |v_d| \\left(\\frac{R_G + 2R_1}{2R_G}\\right) & V_S - |v_d| \\left(\\frac{R_G + 2R_1}{2R_G}\\right) \\end{pmatrix}\n}\n$$", "id": "1311737"}]}