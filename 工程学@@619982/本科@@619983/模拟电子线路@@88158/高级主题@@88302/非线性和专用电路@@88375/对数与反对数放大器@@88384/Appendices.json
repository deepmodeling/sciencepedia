{"hands_on_practices": [{"introduction": "让我们从一个基本的对数放大器电路开始，该电路由一个运算放大器和一个二极管构成。这个练习的核心是计算其直流输出电压，这个过程将直接揭示二极管的指数级$I-V$特性如何产生对数响应。通过完成这个基础计算[@problem_id:1315437]，你将为理解更复杂的对数电路打下坚实的基础。", "problem": "一个模拟信号处理电路使用一个基本对数放大器来压缩输入信号。该放大器由一个理想运算放大器（op-amp）构成。一个阻值为 $R$ 的电阻连接在输入电压源 $V_{in}$ 和运放的反相输入端之间。一个半导体二极管接在负反馈路径中，其阳极接在反相输入端，阴极接在运放的输出端。运放的同相输入端接地。\n\n该电路具有以下参数：\n- 输入电压, $V_{in} = 2.50 \\text{ V}$\n- 输入电阻, $R = 10.0 \\text{ k}\\Omega$\n- 该二极管的特性为反向饱和电流 $I_S = 1.00 \\times 10^{-14} \\text{ A}$ 和理想因子 $n = 1$。\n- 电路工作温度下的热电压为 $V_T = 25.85 \\text{ mV}$。\n\n假设流过正向偏置二极管的电流远大于其反向饱和电流，计算放大器的输出电压 $V_{out}$。将最终答案以伏特为单位表示，并四舍五入到三位有效数字。", "solution": "对于一个同相输入端接地的理想运放，其反相输入端处于虚地状态，因此反相节点的电压为 $V_{-} = 0$。在反相节点处应用基尔霍夫电流定律（KCL）可知，流过输入电阻的电流等于二极管的电流：\n$$\n\\frac{V_{in} - V_{-}}{R} = I_{D} \\quad \\Rightarrow \\quad \\frac{V_{in}}{R} = I_{D}.\n$$\n对于阳极接在反相节点、阴极接在输出端的二极管，其两端电压为\n$$\nV_{D} = V_{\\text{anode}} - V_{\\text{cathode}} = V_{-} - V_{out} = -V_{out}.\n$$\n二极管的电流由肖克利方程给出：\n$$\nI_{D} = I_{S}\\left(\\exp\\!\\left(\\frac{V_{D}}{n V_{T}}\\right) - 1\\right) = I_{S}\\left(\\exp\\!\\left(\\frac{-V_{out}}{n V_{T}}\\right) - 1\\right).\n$$\n根据假设 $I_{D} \\gg I_{S}$，$-1$ 项可以忽略，因此\n$$\nI_{D} \\approx I_{S}\\exp\\!\\left(\\frac{-V_{out}}{n V_{T}}\\right).\n$$\n令电流相等并求解 $V_{out}$：\n$$\n\\frac{V_{in}}{R} = I_{S}\\exp\\!\\left(\\frac{-V_{out}}{n V_{T}}\\right)\n\\;\\Rightarrow\\;\n\\exp\\!\\left(\\frac{-V_{out}}{n V_{T}}\\right) = \\frac{V_{in}}{R I_{S}}\n\\;\\Rightarrow\\;\n\\frac{-V_{out}}{n V_{T}} = \\ln\\!\\left(\\frac{V_{in}}{R I_{S}}\\right)\n\\;\\Rightarrow\\;\nV_{out} = -\\,n V_{T}\\,\\ln\\!\\left(\\frac{V_{in}}{R I_{S}}\\right).\n$$\n代入给定值 $n=1$，$V_{T} = 25.85 \\times 10^{-3}$ V，$V_{in} = 2.50$ V，$R = 10.0 \\times 10^{3}\\ \\Omega$ 以及 $I_{S} = 1.00 \\times 10^{-14}$ A：\n$$\n\\frac{V_{in}}{R I_{S}} = \\frac{2.50}{\\left(10.0 \\times 10^{3}\\right)\\left(1.00 \\times 10^{-14}\\right)} = 2.50 \\times 10^{10},\n$$\n$$\n\\ln\\!\\left(2.50 \\times 10^{10}\\right) = \\ln(2.50) + 10 \\ln(10) \\approx 0.916290732 + 23.02585093 \\approx 23.94214166,\n$$\n$$\nV_{out} \\approx -\\left(25.85 \\times 10^{-3}\\right)\\times 23.94214166 \\text{ V} \\approx -0.618904362 \\text{ V}.\n$$\n四舍五入到三位有效数字，输出电压为 $-0.619$ V。", "answer": "$$\\boxed{-0.619}$$", "id": "1315437"}, {"introduction": "在掌握了静态直流行为之后，下一步自然是分析放大器如何响应微小的、变化的信号。这个练习将深入探讨如何计算小信号电压增益$A_v = dv_{out}/dv_{IN}$ [@problem_id:1315441]。通过这个计算，你将发现对数放大器的一个关键特性：它的增益并非恒定，而是随输入信号电平变化，这正是信号压缩功能的精髓所在。", "problem": "一个模拟信号处理电路被设计用来压缩输入信号的动态范围。该电路的核心是一个对数放大器，由一个理想运算放大器（op-amp）和一个NPN型双极结型晶体管（BJT）构成。电路配置如下：\n\n- 运算放大器处于反相配置，其同相输入端接地。\n- 一个阻值为 $R$ 的输入电阻将提供正直流电压 $v_{IN}$ 的输入电压源连接到运算放大器的反相输入端。\n- BJT置于负反馈路径中。其集电极连接到运算放大器的反相输入端，基极接地，发射极连接到运算放大器的输出端，输出端电压为 $v_{out}$。\n\n假设该运算放大器是理想的，即其开环增益为无穷大，输入阻抗为无穷大，输出阻抗为零。因此，反相输入端的电压被强制处于虚地状态。假设BJT具有非常高的电流增益（$\\beta \\to \\infty$），因此其基极电流可以忽略不计。\n\nBJT的集电极电流 $I_C$ 由关系式 $I_C = I_S \\exp\\left(\\frac{V_{BE}}{n V_T}\\right)$ 决定，其中 $V_{BE}$ 是基极-发射极电压， $I_S$ 是反向饱和电流， $n$ 是非理想因子（发射系数）， $V_T$ 是热电压。\n\n您的任务是确定该电路的小信号电压增益，定义为 $A_v = \\frac{dv_{out}}{dv_{IN}}$，它表征了输出电压如何响应输入电压的微小变化。求出 $A_v$ 作为输入电压 $v_{IN}$ 和相关物理参数的函数的解析表达式。", "solution": "因为运算放大器是理想的，并且配置为反相放大电路，其同相输入端接地，所以反相输入节点处于虚地，其电压为零。因此，流过电阻的输入电流为\n$$\ni_{R}=\\frac{v_{IN}}{R}.\n$$\n运算放大器的输入电流为零，且由于 $\\beta \\to \\infty$，BJT的基极电流可以忽略不计，因此根据反相输入节点的KCL（基尔霍夫电流定律），集电极电流等于电阻电流：\n$$\nI_{C}=i_{R}=\\frac{v_{IN}}{R}.\n$$\n由于基极接地，发射极电压为 $v_{out}$，因此基极-发射极电压为\n$$\nV_{BE}=V_{B}-V_{E}=0-v_{out}=-v_{out}.\n$$\nBJT的集电极电流由下式决定\n$$\nI_{C}=I_{S}\\exp\\!\\left(\\frac{V_{BE}}{n V_{T}}\\right)=I_{S}\\exp\\!\\left(\\frac{-v_{out}}{n V_{T}}\\right).\n$$\n令两个 $I_{C}$ 的表达式相等，得到\n$$\n\\frac{v_{IN}}{R}=I_{S}\\exp\\!\\left(\\frac{-v_{out}}{n V_{T}}\\right).\n$$\n对两边取自然对数，然后求解 $v_{out}$，得到直流传输特性\n$$\nv_{out}=-\\,n V_{T}\\,\\ln\\!\\left(\\frac{v_{IN}}{R I_{S}}\\right).\n$$\n小信号电压增益是 $v_{out}$ 对 $v_{IN}$ 的导数：\n$$\nA_{v}=\\frac{d v_{out}}{d v_{IN}}=-\\,n V_{T}\\,\\frac{d}{d v_{IN}}\\Big(\\ln v_{IN}-\\ln(R I_{S})\\Big)=-\\,\\frac{n V_{T}}{v_{IN}}.\n$$\n等效地，使用小信号跨导 $g_{m}=I_{C}/(n V_{T})$ 和增量关系 $dI_{C}=-g_{m}\\,d v_{out}$，并结合 $dI_{C}=d v_{IN}/R$，可得 $d v_{out}/d v_{IN}=-1/(R g_{m})=-n V_{T}/(R I_{C})=-n V_{T}/v_{IN}$，与上述结果一致。", "answer": "$$\\boxed{-\\frac{n V_{T}}{v_{IN}}}$$", "id": "1315441"}, {"introduction": "真正掌握一个电路意味着当它出现故障时能够诊断问题所在。这个思想实验将挑战你将所学知识应用于一个实际的故障排除场景 [@problem_id:1315417]。通过对比预期的对数行为与观测到的线性响应，你需要推断出潜在的元件故障，从而加深你对电路工作原理的理解。", "problem": "一位工程师正在测试一个对数放大器电路。该电路由一个理想运算放大器（op-amp）和一个标记为 Q1 的 NPN 型双极结型晶体管（BJT）构成。电路配置如下：\n- 运放的同相输入端接地。\n- 一个正直流输入电压 $V_{in}$ 通过输入电阻 $R_1$ 加到运放的反相输入端。\n- 反馈路径由 BJT Q1 构成。Q1 的集电极连接到运放的反相输入端，Q1 的基极接地，Q1 的发射极连接到运放的输出端，该输出端提供输出电压 $V_{out}$。\n\n在正常工作情况下，对于正的 $V_{in}$，输出电压 $V_{out}$ 预期为一个负电压，其大小与输入电压的自然对数成正比。然而，在测试中，工程师观察到输出电压 $V_{out}$ 反而是一个与输入电压 $V_{in}$ 直接成线性比例的负值。\n\n下列哪一个单一元件故障是导致这种观察到的线性行为的最可能原因？\n\nA. 输入电阻 $R_1$ 故障并变为开路。\n\nB. BJT Q1 的基极和发射极之间发生短路。\n\nC. BJT Q1 的集电极和发射极之间发生短路。\n\nD. BJT 基极到地的连接断开，导致基极悬空（开路）。\n\nE. BJT Q1 的集电极和基极之间发生短路。", "solution": "使用理想运放和 BJT 反馈进行正常工作分析：\n- 同相输入端接地，因此在负反馈作用下，反相输入端被维持在虚地：$V_{-}=0$。\n- 运放的输入电流为零，因此根据基尔霍夫电流定律在反相节点处，通过 $R_{1}$ 的输入电流必须等于由 Q1 集电极提供的反馈电流。\n- 输入电流为 $I_{in}=\\frac{V_{in}-V_{-}}{R_{1}}=\\frac{V_{in}}{R_{1}}$。\n- Q1 的基极接地，发射极电压为 $V_{out}$，则基极-发射极电压为 $V_{BE}=0-V_{out}=-V_{out}$。对于处于正向有源区的理想 BJT，其集电极电流为\n$$\nI_{C}=I_{S}\\exp\\!\\left(\\frac{V_{BE}}{V_{T}}\\right)=I_{S}\\exp\\!\\left(\\frac{-V_{out}}{V_{T}}\\right).\n$$\n- 反相节点的 KCL (基尔霍夫电流定律) 给出 $I_{in}=I_{C}$，因此\n$$\n\\frac{V_{in}}{R_{1}}=I_{S}\\exp\\!\\left(\\frac{-V_{out}}{V_{T}}\\right)\n\\quad\\Rightarrow\\quad\nV_{out}=-V_{T}\\ln\\!\\left(\\frac{V_{in}}{I_{S}R_{1}}\\right),\n$$\n这就是预期的对数依赖关系。\n\n观察到的行为是线性的：$V_{out}$ 是一个与 $V_{in}$ 直接成正比的负值，即 $V_{out}=-kV_{in}$，其中 $k>0$。这要求反馈电流与 $V_{out}$ 呈线性关系，就像反馈路径是一个从 $V_{out}$ 到反相节点的（恒定）电阻 $R_{f}$ 时的情况，从而得到\n$$\n\\frac{V_{in}}{R_{1}}+\\frac{V_{out}-0}{R_{f}}=0\n\\quad\\Rightarrow\\quad\nV_{out}=-\\frac{R_{f}}{R_{1}}\\,V_{in}.\n$$\n因此，一个将非线性指数反馈元件转变为从输出到求和节点的线性（近似为电阻性）路径的故障可以解释这一观察结果。\n\n评估每一种单一元件故障：\n\nA. $R_{1}$ 开路：则 $I_{in}=0$，所以 KCL 要求 $I_{C}=0$。对于理想 BJT 模型，$I_{C}=I_{S}\\exp(-V_{out}/V_{T})$ 对于任何有限的 $V_{out}$ 都不能为零，因此环路无法平衡；运放将饱和。$V_{out}$ 不会与（已断开的）$V_{in}$ 呈线性关系。不一致。\n\nB. Q1 基极-发射极短路：这将迫使 $V_{out}=0$（发射极与接地的基极短路）。运放输出被钳位到地；反相节点不再受来自 $V_{out}$ 的反馈控制。$V_{out}$ 近似为零，而不是 $V_{in}$ 的线性函数。不一致。\n\nC. Q1 集电极-发射极短路：这在运放输出和反相节点之间形成直接短路，用一个欧姆性（近似零电阻）反馈元件替代了非线性的 BJT 反馈。电路退化为一个线性反相配置，其反馈阻抗近似为短路。在理想极限 $R_{f}\\to 0$ 时，$V_{out}\\to 0$；如果故障路径中存在任何有限的串联电阻，则传输函数变为 $V_{out}=-\\frac{R_{f}}{R_{1}}V_{in}$，即一个线性反相关系。关键是，非线性被消除，行为变为线性，这与观察结果在性质上相符。\n\nD. 基极开路（悬空）：反馈路径变为两个串联的结（发射极-基极和基极-集电极）。当两者都正向偏置时，反馈电流仍然与结电压之和呈指数依赖关系，结果仍然是对数行为（但比例因子不同）。这不会产生线性的 $V_{out}$ vs. $V_{in}$ 关系。不一致。\n\nE. 集电极-基极短路：由于基极按设计接地，这将使反相节点短路到地，从而移除了来自 $V_{out}$ 的反馈。运放的两个输入端都处于地电位，因此理想运放的输出为 $V_{out}=0$，与 $V_{in}$ 无关。不一致。\n\n在这些选项中，只有 Q1 的集电极-发射极短路能直接将非线性反馈转换为有效的线性（电阻性）反馈路径，从而在 $V_{out}$ 和 $V_{in}$ 之间产生一个反相线性关系。因此，最可能的单一元件故障是 Q1 的集电极-发射极短路。", "answer": "$$\\boxed{C}$$", "id": "1315417"}]}