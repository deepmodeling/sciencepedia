{"hands_on_practices": [{"introduction": "第一个练习将指导你计算吉尔伯特单元的直流工作点。理解静态是分析任何模拟电路的根本第一步，因为它决定了所有晶体管的偏置条件，并为后续的任何交流或瞬态分析奠定了基础。[@problem_id:1307943]", "problem": "考虑一个由六个相同的双极结型晶体管（BJT）构成的 Gilbert 单元乘法器电路，标记为 Q1 至 Q6。该电路的结构如下：\n\n一个由晶体管 Q1 和 Q2 组成的下差分对，其发射极连接在一起，并连接到一个吸收总电流为 $I_{EE}$ 的恒流源。\n\nQ1 的集电极连接到上差分对（Q3, Q4）的公共发射极，作为它们的电流源。同样，Q2 的集电极连接到另一个上差分对（Q5, Q6）的公共发射极，作为它们的电流源。\n\n输出是通过交叉耦合上层晶体管的集电极形成的。Q3 和 Q5 的集电极连接在一起，形成一个输出节点。Q4 和 Q6 的集电极连接在一起，形成第二个输出节点。一个阻值为 $R_C$ 的负载电阻从正电源电压 $V_{CC}$ 连接到这两个输出节点中的每一个。\n\n假设所有晶体管都工作在正向有源区，并且它们的基极电流可以忽略不计。\n\n电路处于静态直流状态，此时两个差分输入信号都为零。这种设置意味着 Q1 和 Q2 的基极电压相同，Q3 和 Q4 的基极电压相同，Q5 和 Q6 的基极电压相同。\n\n确定任一输出节点的静态直流电压。请用 $V_{CC}$、$I_{EE}$ 和 $R_C$ 表示您的答案，形式为单个闭合解析表达式。", "solution": "目标是求出 Gilbert 单元输出节点的静态直流电压。静态意味着所有差分输入都为零。\n\n第 1 步：分析下差分对（Q1 和 Q2）。\n晶体管 Q1 和 Q2 构成一个差分对，它们的发射极连接到一个吸收总电流为 $I_{EE}$ 的电流源。由于晶体管是相同的，并且它们的基极电压也相同（静态条件），尾电流 $I_{EE}$ 在它们之间平均分配。题目给定基极电流可以忽略，因此集电极电流 $I_C$ 约等于发射极电流 $I_E$。\n因此，Q1 和 Q2 的集电极电流为：\n$$I_{C1} = I_{C2} = \\frac{I_{EE}}{2}$$\n\n第 2 步：分析上差分对（Q3, Q4）和（Q5, Q6）。\nQ1 的集电极电流 $I_{C1}$ 作为上差分对（Q3, Q4）的尾电流。在静态下，Q3 和 Q4 的基极电压相同。由于这些晶体管也是相同的，电流 $I_{C1}$ 在它们之间平均分配。\n$$I_{C3} = I_{C4} = \\frac{I_{C1}}{2} = \\frac{1}{2} \\left( \\frac{I_{EE}}{2} \\right) = \\frac{I_{EE}}{4}$$\n\n同样，Q2 的集电极电流 $I_{C2}$ 作为上差分对（Q5, Q6）的尾电流。由于在静态下它们的基极电压相同，电流 $I_{C2}$ 在它们之间平均分配。\n$$I_{C5} = I_{C6} = \\frac{I_{C2}}{2} = \\frac{1}{2} \\left( \\frac{I_{EE}}{2} \\right) = \\frac{I_{EE}}{4}$$\n\n第 3 步：计算每个输出节点的总电流。\n第一个输出节点是 Q3 和 Q5 集电极的公共连接点。从晶体管流入该节点的总电流是它们集电极电流之和。我们称这个电流为 $I_{out1}$。\n$$I_{out1} = I_{C3} + I_{C5} = \\frac{I_{EE}}{4} + \\frac{I_{EE}}{4} = \\frac{I_{EE}}{2}$$\n\n第二个输出节点是 Q4 和 Q6 集电极的公共连接点。从晶体管流入该节点的总电流是它们集电极电流之和。我们称这个电流为 $I_{out2}$。\n$$I_{out2} = I_{C4} + I_{C6} = \\frac{I_{EE}}{4} + \\frac{I_{EE}}{4} = \\frac{I_{EE}}{2}$$\n正如预期的那样，在静态下，通过每个负载电阻从电源汲取的直流电流是相同的。\n\n第 4 步：确定静态输出电压。\n每个输出节点的电压由其各自的负载电阻 $R_C$ 上的电压降决定。我们将静态输出电压表示为 $V_{C,out}$。使用 Ohm 定律和 Kirchhoff 电压定律，我们可以从电源电压 $V_{CC}$ 开始，减去电阻 $R_C$ 上的电压降，来写出任一输出节点的电压。\n对于第一个输出节点：\n$$V_{C,out} = V_{CC} - I_{out1} \\cdot R_C$$\n代入 $I_{out1}$ 的表达式：\n$$V_{C,out} = V_{CC} - \\left( \\frac{I_{EE}}{2} \\right) R_C$$\n\n由于 $I_{out1} = I_{out2}$，第二个输出节点的电压是相同的。因此，任一输出节点的静态直流电压为：\n$$V_{C,out} = V_{CC} - \\frac{I_{EE} R_C}{2}$$", "answer": "$$\\boxed{V_{CC} - \\frac{I_{EE} R_{C}}{2}}$$", "id": "1307943"}, {"introduction": "在直流偏置条件的基础上，本练习侧重于一个关键的小信号参数：跨导（$g_m$）。计算跨导使我们能够为电路对小输入信号的响应建模，这对于理解吉尔伯特单元作为乘法器或混频器的功能至关重要。[@problem_id:1307951]", "problem": "一个经典的吉尔伯特单元模拟乘法器由相同的双极结型晶体管 (BJT) 构成。该乘法器的输入级由一个差分晶体管对组成，该差分对由一个恒流源偏置，提供尾电流 $I_{EE}$。电路在温度 $T$ 下工作。在平衡直流条件下（即差分输入电压为零），尾电流在输入对的两个晶体管之间平均分配。\n\n给定以下参数：\n- 尾电流, $I_{EE} = 1.50$ mA\n- 工作温度, $T = 300$ K\n- 玻尔兹曼常数, $k = 1.38 \\times 10^{-23}$ J/K\n- 元电荷, $q = 1.60 \\times 10^{-19}$ C\n\n计算输入差分对中一个晶体管的小信号跨导 $g_m$。假设晶体管工作在正向有源区。\n\n以毫西门子 (mS) 为单位表示您的最终答案，并四舍五入到三位有效数字。", "solution": "对于工作在正向有源区的 BJT，其小信号跨导由下式给出\n$$\ng_{m}=\\frac{I_{C}}{V_{T}},\n$$\n其中热电压为\n$$\nV_{T}=\\frac{kT}{q}.\n$$\n在尾电流为 $I_{EE}$ 且差分输入为零的平衡差分对中，尾电流平均分配，因此每个晶体管的集电极电流为\n$$\nI_{C}=\\frac{I_{EE}}{2}.\n$$\n将此代入 $g_{m}$ 的表达式中，得到\n$$\ng_{m}=\\frac{I_{EE}/2}{kT/q}=\\frac{I_{EE}}{2}\\cdot\\frac{q}{kT}.\n$$\n现在代入给定的数值 $I_{EE}=1.50\\times 10^{-3}\\ \\text{A}$，$k=1.38\\times 10^{-23}\\ \\text{J/K}$，$T=300\\ \\text{K}$ 和 $q=1.60\\times 10^{-19}\\ \\text{C}$：\n$$\nV_{T}=\\frac{kT}{q}=\\frac{1.38\\times 10^{-23}\\times 300}{1.60\\times 10^{-19}}=2.5875\\times 10^{-2}\\ \\text{V},\n$$\n$$\nI_{C}=\\frac{1.50\\times 10^{-3}}{2}=7.50\\times 10^{-4}\\ \\text{A},\n$$\n$$\ng_{m}=\\frac{7.50\\times 10^{-4}}{2.5875\\times 10^{-2}}=\\frac{0.75}{25.875}=\\frac{2}{69}\\ \\text{S}\\approx 2.89855\\times 10^{-2}\\ \\text{S}.\n$$\n转换为毫西门子并四舍五入到三位有效数字，得到\n$$\ng_{m}\\approx 28.9855\\ \\text{mS}\\approx 29.0\\ \\text{mS}.\n$$", "answer": "$$\\boxed{29.0}$$", "id": "1307951"}, {"introduction": "理想电路只存在于教科书中；现实世界的电路会受到元器件不完美性的影响。最后一个练习通过计算产生的输出失调电压，探讨了一种常见的非理想情况——电阻不匹配——对吉尔伯特单元性能的影响。该分析突出了实际集成电路设计中的一个关键方面。[@problem_id:1307931]", "problem": "双极结晶体管（BJT）Gilbert 单元乘法器是一种基本的模拟电路模块。其核心结构由三组差分对组成。一个下层差分对，由晶体管 $Q_1$ 和 $Q_2$ 组成，其发射极连接到一个恒定的直流（DC）电源，该电源吸收总电流 $I_{EE}$。$Q_1$ 的集电极为上层的一个差分对（$Q_3$，$Q_4$）提供尾电流，而 $Q_2$ 的集电极为另一个上层差分对（$Q_5$，$Q_6$）提供尾电流。上层晶体管的基极交叉连接，其中 $Q_3$ 和 $Q_5$ 的基极连接在一起，$Q_4$ 和 $Q_6$ 的基极连接在一起，形成第二个差分输入。电路的差分输出取自集电极。$Q_3$ 和 $Q_5$ 的集电极连接到负载电阻 $R_{C1}$，$Q_4$ 和 $Q_6$ 的集电极连接到负载电阻 $R_{C2}$。\n\n假设所有晶体管都完全相同，工作在正向有源区，基极电流可忽略不计，且具有无限大的厄利电压。热电压为 $V_T$。在一次特定测试中，两个差分输入电压均设置为零伏。理想情况下，当元件完全匹配时，差分输出电压也应为零。然而，在实际应用中，负载电阻会存在微小的失配。这些电阻的标称值为 $R_C$，但其实际值为 $R_{C1} = R_C + \\frac{\\Delta R_C}{2}$ 和 $R_{C2} = R_C - \\frac{\\Delta R_C}{2}$。\n\n计算由该电阻失配导致的直流差分输出失调电压，定义为 $V_{OS} = V_{out1} - V_{out2}$。请用 $I_{EE}$、$R_C$ 和分数失配 $\\frac{\\Delta R_C}{R_C}$ 来表示您的答案符号表达式。", "solution": "我们使用指数型差分对电流分配定律。对于一个尾电流为 $I_{\\text{tail}}$、差分输入为 $v_{d}$ 的 BJT 差分对，其集电极电流为\n$$\nI_{C+}=\\frac{I_{\\text{tail}}}{2}\\left(1+\\tanh\\!\\left(\\frac{v_{d}}{2V_{T}}\\right)\\right),\\quad\nI_{C-}=\\frac{I_{\\text{tail}}}{2}\\left(1-\\tanh\\!\\left(\\frac{v_{d}}{2V_{T}}\\right)\\right).\n$$\n当 $v_{d}=0$ 时，这导致电流均分：\n$$\nI_{C+}=I_{C-}=\\frac{I_{\\text{tail}}}{2}.\n$$\n\n下层差分对：输入 $v_{d1}=0$，总电流为 $I_{EE}$，两个集电极（为两个上层差分对供电）承载相等的尾电流\n$$\nI_{T1}=I_{T2}=\\frac{I_{EE}}{2}.\n$$\n\n上层差分对：第二个输入也为零，因此每个上层差分对都将其各自的尾电流均分。对于尾电流为 $I_{T1}$ 的差分对 $(Q_{3},Q_{4})$，\n$$\ni_{3}=i_{4}=\\frac{I_{T1}}{2}.\n$$\n对于尾电流为 $I_{T2}$ 的差分对 $(Q_{5},Q_{6})$，\n$$\ni_{5}=i_{6}=\\frac{I_{T2}}{2}.\n$$\n\n流入负载电阻的输出电流是每个输出节点的电流之和：\n$$\nI_{\\text{out1}}=i_{3}+i_{5}=\\frac{I_{T1}}{2}+\\frac{I_{T2}}{2}=\\frac{I_{T1}+I_{T2}}{2}=\\frac{I_{EE}}{2},\n$$\n$$\nI_{\\text{out2}}=i_{4}+i_{6}=\\frac{I_{T1}}{2}+\\frac{I_{T2}}{2}=\\frac{I_{EE}}{2}.\n$$\n\n设负载电阻 $R_{C1}$ 和 $R_{C2}$ 从电源节点 $V_{CC}$ 连接到输出端。根据欧姆定律，直流输出电压为\n$$\nV_{\\text{out1}}=V_{CC}-I_{\\text{out1}}R_{C1},\\qquad V_{\\text{out2}}=V_{CC}-I_{\\text{out2}}R_{C2}.\n$$\n因此，差分输出失调电压为\n$$\nV_{OS}=V_{\\text{out1}}-V_{\\text{out2}}=-I_{\\text{out1}}R_{C1}+I_{\\text{out2}}R_{C2}.\n$$\n由于 $I_{\\text{out1}}=I_{\\text{out2}}=\\frac{I_{EE}}{2}$，\n$$\nV_{OS}=-\\frac{I_{EE}}{2}\\left(R_{C1}-R_{C2}\\right).\n$$\n\n当存在电阻失配 $R_{C1}=R_{C}+\\frac{\\Delta R_{C}}{2}$ 和 $R_{C2}=R_{C}-\\frac{\\Delta R_{C}}{2}$ 时，它们的差值为\n$$\nR_{C1}-R_{C2}=\\Delta R_{C}.\n$$\n因此，\n$$\nV_{OS}=-\\frac{I_{EE}}{2}\\,\\Delta R_{C}.\n$$\n用分数失配 $\\frac{\\Delta R_{C}}{R_{C}}$ 表示，\n$$\nV_{OS}=-\\frac{I_{EE}R_{C}}{2}\\left(\\frac{\\Delta R_{C}}{R_{C}}\\right).\n$$\n热电压 $V_{T}$ 不影响结果，因为两个差分输入均为零，导致电流均分，这与 $V_{T}$ 无关。", "answer": "$$\\boxed{-\\frac{I_{EE}R_{C}}{2}\\left(\\frac{\\Delta R_{C}}{R_{C}}\\right)}$$", "id": "1307931"}]}