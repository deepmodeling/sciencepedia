{"hands_on_practices": [{"introduction": "锁相环(PLL)的核心功能始于精确测量参考信号和振荡器输出之间的相位差。这个练习将带你了解一种最直观的相位检测器——异或门(XOR)的工作原理。通过分析两个方波输入信号，你将亲手计算出相位差是如何被转换成一个可被环路滤波器利用的平均直流电压的，从而为理解整个锁相环的反馈机制奠定基础。[@problem_id:1325036]", "problem": "一个异或（XOR）逻辑门被用作鉴相器，它是许多数字锁相环（PLL）系统中的一个基本组件。该门由两个信号输入，一个参考信号 $V_{ref}$ 和一个压控振荡器信号 $V_{vco}$。两个信号都是占空比为50%且频率相同的理想方波，频率为 $f$。XOR 门的输出 $V_{out}$ 的逻辑电平对应于逻辑高电平的电压 $V_{OH}$ 和逻辑低电平的电压 $V_{OL}$。在某一特定工作状态下，观测到 $V_{vco}$ 信号滞后于 $V_{ref}$ 信号一个恒定的相位差 $\\phi = \\frac{\\pi}{4}$ 弧度。\n\n假设后续的环路滤波器能完美提取 $V_{out}$ 的直流分量，请确定此平均直流输出电压 $V_{out,avg}$ 关于 $V_{OH}$ 和 $V_{OL}$ 的表达式。", "solution": "问题要求在给定两个方波输入之间特定相位差的情况下，求出XOR鉴相器的平均直流输出电压。\n\n周期信号 $V_{out}(t)$ 在一个周期 $T$ 内的平均电压 $V_{out,avg}$ 定义为：\n$$ V_{out,avg} = \\frac{1}{T} \\int_{0}^{T} V_{out}(t) dt $$\n\n当且仅当输入不同时，异或（XOR）门的输出为高电平。用电压电平表示，这意味着：\n- 当 $V_{ref}(t) \\neq V_{vco}(t)$ 时，$V_{out}(t) = V_{OH}$ \n- 当 $V_{ref}(t) = V_{vco}(t)$ 时，$V_{out}(t) = V_{OL}$ \n\n由于输出电压 $V_{out}(t)$ 是分段恒定的，平均电压的积分可以简化为电压电平的加权和，其中权重是输出保持在每个电平上的时间分数（占空比）。\n$$ V_{out,avg} = D_{high} \\cdot V_{OH} + D_{low} \\cdot V_{OL} $$\n这里，$D_{high}$是高电平输出状态（输入不同）的占空比，$D_{low}$是低电平输出状态（输入相同）的占空比。根据定义，$D_{high} + D_{low} = 1$。\n\n我们的目标是求出 $D_{high}$，也就是在一个周期 $T$ 内输入信号不相等的时间所占的比例。我们来分析一个周期内的波形。周期为 $T$ 的两个信号之间的相位差 $\\phi$ 对应于一个时间偏移 $\\Delta t = \\frac{\\phi}{2\\pi} T$。\n\n输入是占空比为50%的方波。我们设定参考信号 $V_{ref}$ 的上升沿在 $t=0$ 处。\n- $V_{ref}$ 在 $0 \\leq t < T/2$ 期间为高电平。\n- $V_{ref}$ 在 $T/2 \\leq t < T$ 期间为低电平。\n\n$V_{vco}$ 信号滞后于 $V_{ref}$ 一个相位 $\\phi$，因此它向右平移了一个时间 $\\Delta t$。\n- $V_{vco}$ 在 $\\Delta t \\leq t < T/2 + \\Delta t$ 期间为高电平。\n- $V_{vco}$ 在 $T/2 + \\Delta t \\leq t < T + \\Delta t$ 期间为低电平。\n\n在每个周期内，输入信号在两个时间段内是不同的：\n1.  从 $t=0$ 开始，直到 $V_{vco}$ 也变为高电平。这个时间段是从 $t=0$ 到 $t=\\Delta t$。在此期间，$V_{ref}$ 为高电平而 $V_{vco}$ 为低电平。持续时间为 $\\Delta t$。\n2.  从 $t=T/2$（$V_{ref}$ 变为低电平）开始，直到 $V_{vco}$ 也变为低电平。这个时间段是从 $t=T/2$ 到 $t=T/2 + \\Delta t$。在此期间，$V_{ref}$ 为低电平而 $V_{vco}$ 为高电平。持续时间同样为 $\\Delta t$。\n\n在一个周期 $T$ 内，输入不相等的总持续时间是这两个时间段持续时间的总和：\n$$ \\text{总的不同时间} = \\Delta t + \\Delta t = 2\\Delta t $$\n代入 $\\Delta t$ 的表达式：\n$$ \\text{总的不同时间} = 2 \\left( \\frac{\\phi}{2\\pi} T \\right) = \\frac{\\phi}{\\pi} T $$\n高电平输出状态的占空比是这个总时间除以周期 $T$：\n$$ D_{high} = \\frac{(\\phi/\\pi) T}{T} = \\frac{\\phi}{\\pi} $$\n低电平输出状态的占空比是：\n$$ D_{low} = 1 - D_{high} = 1 - \\frac{\\phi}{\\pi} $$\n现在我们可以写出XOR鉴相器平均输出电压的通用表达式（对于 $0 \\leq \\phi \\leq \\pi$）：\n$$ V_{out,avg} = \\left(\\frac{\\phi}{\\pi}\\right) V_{OH} + \\left(1 - \\frac{\\phi}{\\pi}\\right) V_{OL} $$\n题目指定相位差为 $\\phi = \\frac{\\pi}{4}$ 弧度。我们将这个值代入我们的通用表达式中：\n$$ D_{high} = \\frac{\\pi/4}{\\pi} = \\frac{1}{4} $$\n$$ D_{low} = 1 - \\frac{1}{4} = \\frac{3}{4} $$\n因此，平均输出电压为：\n$$ V_{out,avg} = \\left(\\frac{1}{4}\\right) V_{OH} + \\left(\\frac{3}{4}\\right) V_{OL} $$\n这可以写成一个单独的分数：\n$$ V_{out,avg} = \\frac{V_{OH} + 3V_{OL}}{4} $$", "answer": "$$\\boxed{\\frac{V_{OH} + 3 V_{OL}}{4}}$$", "id": "1325036"}, {"introduction": "压控振荡器(VCO)是锁相环中将控制电压转换回频率的关键执行单元。要对PLL进行设计和分析，我们必须首先量化VCO的灵敏度，即其增益$K_{VCO}$。本练习模拟了一个基本的实验场景，让你能够从两个离散的测量点出发，推导出VCO增益的表达式，深刻理解这个关键参数的物理意义和计算方法。[@problem_id:1325076]", "problem": "一位电子专业的学生正在对一个定制无线电接收机的关键组件进行特性分析：一个电压控制振荡器 (VCO)。VCO 是一种电子振荡器，其输出频率由一个输入的直流电压决定，该电压通常被称为控制电压。该学生进行了一项实验并记录了以下数据点，假设 VCO 在此工作范围内的响应是线性的：\n\n当控制电压设置为低值 $V_{low}$ 时，振荡器产生一个频率为 $f_{low}$ 的稳定正弦输出。\n当控制电压增加到高值 $V_{high}$ 时，输出频率变为 $f_{high}$。\n\n根据这两次测量，确定振荡器的增益，记为 $K_{VCO}$。请用 $V_{low}$、$V_{high}$、$f_{low}$ 和 $f_{high}$ 来表示你的答案的符号表达式。增益的单位必须是弧度/秒/伏特 (rad/s/V)。", "solution": "假设控制电压和输出频率之间的 VCO 特性是线性的。设以赫兹为单位的瞬时频率可建模为 $f(V)=\\alpha+\\beta V$，因此瞬时角频率为 $\\omega(V)=2\\pi f(V)=2\\pi\\alpha+2\\pi\\beta V$。\n\n根据定义，VCO 增益是角频率对控制电压的灵敏度：\n$$\nK_{VCO}=\\frac{d\\omega}{dV}.\n$$\n根据线性模型，可得\n$$\nK_{VCO}=2\\pi\\frac{df}{dV}=2\\pi\\beta.\n$$\n使用两个测量点 $(V_{low},f_{low})$ 和 $(V_{high},f_{high})$，频率的斜率为\n$$\n\\frac{df}{dV}=\\frac{f_{high}-f_{low}}{V_{high}-V_{low}}.\n$$\n因此，\n$$\nK_{VCO}=2\\pi\\frac{f_{high}-f_{low}}{V_{high}-V_{low}}.\n$$\n其单位是弧度/秒/伏特，因为 $2\\pi(f_{high}-f_{low})$ 得出的是角频率的变化 (rad/s)，再除以电压就得到 rad/s/V。", "answer": "$$\\boxed{2\\pi\\,\\frac{f_{high}-f_{low}}{V_{high}-V_{low}}}$$", "id": "1325076"}, {"introduction": "在相位检测器和压控振荡器之间，环路滤波器扮演着至关重要的角色，它不仅滤除噪声，还决定了整个锁相环的动态性能。本练习将引导你思考一个核心的系统设计权衡问题：滤波器的带宽如何影响PLL的锁定时间和输出信号的纯净度。通过比较两种设计方案，你将学会识别并评估在PLL设计中速度与稳定性之间的基本取舍。[@problem_id:1325056]", "problem": "一位电子工程师正在为一种简单的数字通信系统设计一个频率合成器。该合成器围绕一个锁相环（PLL）构建，它必须能够快速切换其输出频率以对数据进行编码。PLL 的核心由一个鉴相器（PD）、一个简单的无源 RC 低通环路滤波器和一个压控振荡器（VCO）组成。\n\n在初始设计（称为设计 A）中，环路滤波器使用一个电阻和一个电容，从而产生特定的环路带宽、锁定时间 $T_A$ 和一定水平的稳态输出相位噪声（抖动）。\n\n为了减少合成器在频率之间切换所需的时间，该工程师提出了第二种配置，即设计 B。在设计 B 中，RC 环路滤波器的元件被更改，使其截止频率远高于设计 A。\n\n假设 PLL 的所有其他组件和参数保持不变，下列哪个陈述正确描述了从设计 A 迁移到设计 B 所导致的主要性能权衡？\n\nA. 设计 B 将具有更短的锁定时间和更低的输出相位噪声。\n\nB. 设计 B 将具有更长的锁定时间和更高的输出相位噪声。\n\nC. 设计 B 将具有更短的锁定时间但更高的输出相位噪声。\n\nD. 设计 B 将具有更长的锁定时间但更低的输出相位噪声。\n\nE. 环路滤波器截止频率的改变不会显著影响锁定时间或输出相位噪声，因为这些主要由 VCO 决定。\n\nF. 环路滤波器截止频率的改变将同时改善锁定时间和输出相位噪声，但会减小 PLL 的捕获范围。", "solution": "我们在相位域中对 PLL 进行建模。设鉴相器增益为 $K_{d}$，环路滤波器传递函数为 $F(s)$，VCO 增益为 $K_{v}$（单位为 $\\mathrm{rad}\\,\\mathrm{s}^{-1}\\,\\mathrm{V}^{-1}$）。VCO 从控制电压到输出相位贡献了一个因子 $K_{v}/s$。开环传递函数为\n$$\nL(s)=\\frac{K_{d}K_{v}F(s)}{s}.\n$$\n从输入相位到输出相位的闭环传递函数为\n$$\nH(s)=\\frac{L(s)}{1+L(s)}.\n$$\n对于一个简单的无源 RC 低通环路滤波器，增加其截止频率会在单位增益交越点附近的频率范围内增加 $|F(\\mathrm{j}\\omega)|$，从而增加闭环带宽。将设计 A 和设计 B 的环路带宽分别表示为 $\\omega_{bA}$ 和 $\\omega_{bB}$，其中 $\\omega_{cB}\\gg \\omega_{cA}$ 意味着 $\\omega_{bB}>\\omega_{bA}$。\n\n锁定时间与环路的特征速度（带宽或自然频率）成反比。对于一个阻尼比 $\\zeta$ 没有发生剧烈改变的标准二阶锁相环，锁定时间或建立时间 $T$ 的缩放关系如下\n$$\nT \\propto \\frac{1}{\\omega_{n}} \\sim \\frac{1}{\\omega_{b}}.\n$$\n因此，\n$$\n\\omega_{bB}>\\omega_{bA}\\quad \\Rightarrow \\quad T_{B}<T_{A}.\n$$\n\n接下来，考虑输出相位噪声（抖动）。由于一个双边谱密度为 $S_{0}$ 的上游白噪声源，经过低通闭环整形 $|H(\\mathrm{j}\\omega)|^{2}$ 后，其输出相位噪声功率为\n$$\nP_{\\phi,\\text{out}}=\\int_{0}^{\\infty} S_{0}\\,|H(\\mathrm{j}\\omega)|^{2}\\,\\mathrm{d}\\omega=S_{0}\\,B_{\\text{eq}},\n$$\n其中等效噪声带宽为\n$$\nB_{\\text{eq}}=\\int_{0}^{\\infty} |H(\\mathrm{j}\\omega)|^{2}\\,\\mathrm{d}\\omega.\n$$\n随着环路带宽的增加， $|H(\\mathrm{j}\\omega)|$ 在更宽的 $\\omega$ 范围内保持接近于 1，因此 $B_{\\text{eq}}$ 随环路带宽单调增加：\n$$\n\\omega_{bB}>\\omega_{bA}\\quad \\Rightarrow \\quad B_{\\text{eq},B}>B_{\\text{eq},A}\\quad \\Rightarrow \\quad P_{\\phi,\\text{out},B}>P_{\\phi,\\text{out},A}.\n$$\n等效地，当环路带宽加宽时，积分输出相位噪声（因此均方根抖动）会增加，因为更多的鉴相器/参考噪声和环路内噪声会通过。尽管更宽的带宽会抑制更多环路内的 VCO 噪声，但在所有其他组件和参数保持不变的假设下，提高环路滤波器截止频率的主要和最普遍的权衡是，以更快的捕获速度（更短的锁定时间）为代价，换来因闭环噪声带宽增大而导致的更高的带内噪声。\n\n综合这些结果：\n$$\nT_{B}<T_{A}\\quad \\text{and}\\quad \\text{output phase noise of B}>\\text{output phase noise of A},\n$$\n这对应于更短的锁定时间但更高的输出相位噪声。", "answer": "$$\\boxed{C}$$", "id": "1325056"}]}