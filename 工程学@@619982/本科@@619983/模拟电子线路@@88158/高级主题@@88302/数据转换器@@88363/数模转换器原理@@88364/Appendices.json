{"hands_on_practices": [{"introduction": "R-2R 梯形网络因其结构简洁且精度高，是现代数模转换技术的重要基石。本练习将引导你运用叠加原理或戴维南定理，对 R-2R DAC 的输出进行递推分析。通过解决这个问题，你将深刻理解这种仅需两种阻值的电阻即可构建精密分压网络的精妙结构 [@problem_id:1298338]。", "problem": "R-2R 梯形网络是一种用于数模转换 (DAC) 的简单而有效的电路。考虑一个用于产生输出电压的4位 R-2R 梯形网络。该电路的结构如下：\n\n一条主水平线由一系列电阻值为 $R$ 的电阻构成，连接着一系列节点。从左到右将这些节点标记为 $N_3, N_2, N_1, N_0$。输出电压 $V_{out}$ 是最左侧节点 $N_3$ 处的电压。从每个节点 $N_i$（对于 $i=3, 2, 1, 0$）引出一个值为 $2R$ 的垂直并联电阻，连接到相应的数字电压输入 $V_{b_i}$。对于每个位 $b_i$，如果该位是 '1'，则输入电压为 $V_{b_i} = V_{REF}$；如果该位是 '0'，则输入电压为 $V_{b_i} = 0$ V（接地）。最右侧的节点 $N_0$ 有一个额外的值为 $2R$ 的终端电阻连接到地。\n\n这些数字位的排序方式是，$b_3$ 为最高有效位 (MSB)，$b_0$ 为最低有效位 (LSB)。\n\n当数字输入码为 `0101`（即 $b_3=0, b_2=1, b_1=0, b_0=1$）时，确定输出节点 $V_{out}$ 处的戴维南等效电压。将您的答案表示为关于参考电压 $V_{REF}$ 的符号表达式。", "solution": "输出节点处的戴维南等效电压等于 $N_{3}$ 处的开路节点电压。我们使用 Kirchhoff 电流定律，在两个相等的电阻 $2R$ 连接到两个理想电压源的节点处，递归地分析 R-2R 梯形网络。对于一个通过相等电阻 $2R$ 连接到电压 $V_{1}$ 和 $V_{2}$ 的节点，其节点电压 $V$ 满足\n$$\n\\frac{V - V_{1}}{2R} + \\frac{V - V_{2}}{2R} = 0 \\;\\;\\Rightarrow\\;\\; V = \\frac{V_{1} + V_{2}}{2}.\n$$\n从右侧开始，终端是一个 $2R$ 电阻接地，所以其电压为 $0$。在 $N_{0}$ 处，该节点通过 $2R$ 连接到 $V_{b_{0}}$，并通过 $2R$ 连接到 $0$，因此\n$$\nV_{N_{0}} = \\frac{V_{b_{0}} + 0}{2} = \\frac{V_{b_{0}}}{2}.\n$$\n$N_{1}$ 右侧的子网络等效于一个电压为 $V_{N_{0}}$、内阻为 $2R$ 的电源，因此在 $N_{1}$ 处（通过 $2R$ 连接到 $V_{b_{1}}$，并通过 $2R$ 连接到 $V_{N_{0}}$）：\n$$\nV_{N_{1}} = \\frac{V_{b_{1}} + V_{N_{0}}}{2}.\n$$\n类似地，在 $N_{2}$ 处，\n$$\nV_{N_{2}} = \\frac{V_{b_{2}} + V_{N_{1}}}{2},\n$$\n以及在 $N_{3}$（输出端）处，\n$$\nV_{out} = V_{N_{3}} = \\frac{V_{b_{3}} + V_{N_{2}}}{2}.\n$$\n对于输入码 $0101$，我们有 $V_{b_{3}} = 0$, $V_{b_{2}} = V_{REF}$, $V_{b_{1}} = 0$, $V_{b_{0}} = V_{REF}$。逐步代入计算：\n$$\nV_{N_{0}} = \\frac{V_{REF}}{2},\\quad\nV_{N_{1}} = \\frac{0 + V_{REF}/2}{2} = \\frac{V_{REF}}{4},\\quad\nV_{N_{2}} = \\frac{V_{REF} + V_{REF}/4}{2} = \\frac{5}{8}V_{REF},\n$$\n$$\nV_{out} = \\frac{0 + (5/8)V_{REF}}{2} = \\frac{5}{16}V_{REF}.\n$$\n因此，输出节点处的戴维南等效电压为 $\\frac{5}{16}V_{REF}$。", "answer": "$$\\boxed{\\frac{5}{16}V_{REF}}$$", "id": "1298338"}, {"introduction": "理解了 DAC 的内部构造后，下一步自然是学习如何在实际应用中操作它。在许多控制系统中，我们需要生成一个特定的模拟电压，这要求我们选择正确的数字输入码。本练习将让你扮演控制系统工程师的角色，挑战你如何确定最佳数字量以逼近目标模拟输出，从而直接实践量化和分辨率这两个核心概念 [@problem_id:1298368]。", "problem": "一个基于微控制器的温度调节系统，用于小型生物培养箱。该系统使用一个数模转换器（DAC）来控制供给加热元件的功率。该DAC的分辨率为8位，并且工作在0 V到5.0 V参考电压的单极性输出电压范围内。全零的数字值（二进制 00000000）对应于0 V的输出，而全一的数字值（二进制 11111111）对应于可能的最大输出电压。为了维持一个特定的目标温度，控制算法计算出驱动加热器的模拟电压应为1.5 V。\n\n请求出应发送给DAC的8位二进制数字输入码的整数十进制等效值，以产生最接近所需1.5 V的模拟输出电压。", "solution": "一个理想的、包含端点的单极性8位DAC，其代码 $D \\in \\{0,1,\\dots,2^{8}-1\\}$ ，参考电压为 $V_{\\text{ref}}$ ，其传递函数为\n$$\nV_{\\text{out}}=\\frac{D}{2^{8}-1}V_{\\text{ref}}=\\frac{D}{255}V_{\\text{ref}}.\n$$\n设目标电压 $V_{\\text{target}}=1.5$ 且参考电压 $V_{\\text{ref}}=5.0$，求解代码：\n$$\nD^{\\ast}=\\frac{V_{\\text{target}}}{V_{\\text{ref}}}\\left(2^{8}-1\\right)=\\frac{1.5}{5.0}\\cdot 255=\\frac{3}{10}\\cdot 255=76.5.\n$$\n由于 $D$ 必须是一个整数，我们选择最接近76.5的整数。使用传统的四舍五入规则可得\n$$\nD=77.\n$$\n为求完整，需要注意的是，$D=76$ 产生的输出电压为 $V_{\\text{out}}=\\frac{76}{255}V_{\\text{ref}}$ ，而 $D=77$ 产生的输出电压为 $V_{\\text{out}}=\\frac{77}{255}V_{\\text{ref}}$ 。两者与1.5 V的绝对误差均为 $\\frac{1}{2}\\cdot \\frac{V_{\\text{ref}}}{255}$，因此这两个代码的接近程度相同；但标准的舍入选择是77。", "answer": "$$\\boxed{77}$$", "id": "1298368"}, {"introduction": "理想的元件只存在于教科书中，现实世界的 DAC 会表现出必须被量化的非理想行为。微分非线性 ($DNL$) 是一个关键性能指标，用于衡量 DAC 输出中相邻步长之间的误差。最后一个练习将为你提供一组模拟的测量数据，要求你计算特定代码转换处的 $DNL$，让你亲身体验工程师在验证和规范真实数据转换器性能时所使用的方法 [@problem_id:1298359]。", "problem": "一位电子专业的学生需要对一个定制的3位数字-模拟转换器（DAC）进行特性表征。该DAC的设计参考电压为 $V_{ref} = 5.00 \\text{ V}$。该学生输入了从000到111所有可能的数字输入码，并测量了相应的模拟输出电压。测量结果汇总在下表中。\n\n| 数字输入码 | 测量输出电压 ($V_{out,meas}$) [V] |\n|:------------------:|:------------------------------------------:|\n| 000                | 0.000                                      |\n| 001                | 0.610                                      |\n| 010                | 1.245                                      |\n| 011                | 1.905                                      |\n| 100                | 2.280                                      |\n| 101                | 3.140                                      |\n| 110                | 3.760                                      |\n| 111                | 4.355                                      |\n\nDAC的一项关键性能指标是其微分非线性度（DNL），它量化了相邻数字码之间步长的偏差。请计算从数字输入码011跳变到100时的DNL。\n\n以最低有效位（LSBs）为单位表示您的答案。将最终答案四舍五入至三位有效数字。", "solution": "问题要求计算在数字码011和100之间跳变时的微分非线性度（DNL）。对于给定的数字码 $k$，其DNL是衡量在该码跳变时产生的实际模拟步长与理想步长偏差多少的指标。理想步长定义为一个最低有效位（LSB）的电压值。\n\n首先，我们必须计算对应一个LSB的理想电压。对于一个参考电压为 $V_{ref}$ 的 $N$ 位DAC，其理想LSB电压 $V_{LSB}$ 由下式给出：\n$$V_{LSB} = \\frac{V_{ref}}{2^N}$$\n已知 $N=3$ 位且 $V_{ref} = 5.00 \\text{ V}$，我们有：\n$$V_{LSB} = \\frac{5.00 \\text{ V}}{2^3} = \\frac{5.00 \\text{ V}}{8} = 0.625 \\text{ V}$$\n\n接下来，我们确定相关的跳变。问题指定了从码011到100的跳变。用十进制表示，这是从码 $k-1=3$ 到码 $k=4$ 的跳变。\n\n在码 $k$ 处的DNL公式为：\n$$DNL(k) = \\frac{V_{out,meas}(k) - V_{out,meas}(k-1)}{V_{LSB}} - 1$$\n此处，$V_{out,meas}(k)$ 是数字码 $k$ 的测量输出电压，而 $V_{out,meas}(k-1)$ 是前一个码的测量输出电压。\n\n从提供的数据表中，我们提取码3 (011) 和 4 (100) 的测量电压：\n$$V_{out,meas}(3) = 1.905 \\text{ V}$$\n$$V_{out,meas}(4) = 2.280 \\text{ V}$$\n\n现在，我们计算这次跳变中的实际电压步长 $\\Delta V_{actual}$：\n$$\\Delta V_{actual} = V_{out,meas}(4) - V_{out,meas}(3) = 2.280 \\text{ V} - 1.905 \\text{ V} = 0.375 \\text{ V}$$\n\n最后，我们将实际步长和理想LSB电压代入DNL公式。结果将是一个无量纲比，它代表以LSBs为单位的DNL。\n$$DNL(4) = \\frac{\\Delta V_{actual}}{V_{LSB}} - 1 = \\frac{0.375 \\text{ V}}{0.625 \\text{ V}} - 1$$\n$$DNL(4) = 0.6 - 1 = -0.4$$\n\n题目要求答案四舍五入至三位有效数字。计算值恰好是-0.4，可以写成-0.400以表示三位有效数字。", "answer": "$$\\boxed{-0.400}$$", "id": "1298359"}]}