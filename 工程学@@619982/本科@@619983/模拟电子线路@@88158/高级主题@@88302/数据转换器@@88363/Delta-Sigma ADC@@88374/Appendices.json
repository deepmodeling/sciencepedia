{"hands_on_practices": [{"introduction": "Delta-Sigma 调制器的一个核心优势在于其“噪声整形”能力。这种能力通过噪声传递函数 (Noise Transfer Function, NTF) 来数学化地描述。通过分析 NTF 在频域中的特性，我们可以精确地看到量化噪声是如何被推向高频区域的，从而为低频信号保留一个纯净的频谱空间。这个练习将指导你通过分析一个理想一阶调制器的 NTF，找到其噪声抑制能力最强的频率点，从而从根本上理解噪声整形的原理。", "problem": "Delta-Sigma ($\\Delta\\Sigma$) 调制器是现代高分辨率模数转换器 (ADC) 的核心组件。其主要功能是采用一种称为“噪声整形”的技术对模拟信号进行数字化。此过程从策略上改变了量化噪声的频谱，将大部分噪声功率推向高频，远离所需信号频段。\n\n这种噪声整形的效果由噪声传递函数 (NTF) 描述。对于一个简单、理想的一阶 $\\Delta\\Sigma$ 调制器，其在 z 域中的 NTF 由下式给出：\n$$H_{NTF}(z) = 1 - z^{-1}$$\n为了分析其在频域中的行为，我们通过代入 $z = \\exp(j\\omega T_s)$ 将此函数在单位圆上进行求值，其中 $\\omega = 2\\pi f$ 是角频率（单位为弧度/秒），$f$ 是频率（单位为赫兹），$T_s$ 是采样周期，$j$ 是虚数单位。\n\n确定使噪声传递函数的幅值 $|H_{NTF}|$ 最小化的最低非负频率 $f$。该频率对应于最大噪声抑制点。请以赫兹（Hz）为单位，提供一个单一数值作为最终答案。", "solution": "问题要求解一阶 Delta-Sigma 调制器的噪声传递函数 (NTF) 幅值达到最小值时的频率。给定的 NTF 为：\n$$H_{NTF}(z) = 1 - z^{-1}$$\n\n为了求得频率响应，我们代入 $z = \\exp(j\\omega T_s)$，其中 $\\omega = 2\\pi f$ 是角频率，$T_s$ 是采样周期。\n$$H_{NTF}(f) = 1 - \\exp(-j\\omega T_s)$$\n\n为了求此复变函数的幅值，我们可以使用欧拉公式 $\\exp(-j\\theta) = \\cos(\\theta) - j\\sin(\\theta)$。\n$$H_{NTF}(f) = 1 - (\\cos(\\omega T_s) - j\\sin(\\omega T_s))$$\n$$H_{NTF}(f) = (1 - \\cos(\\omega T_s)) + j\\sin(\\omega T_s)$$\n\n复数 $A + jB$ 的幅值由 $\\sqrt{A^2 + B^2}$ 给出。因此，NTF 的幅值平方为：\n$$|H_{NTF}(f)|^2 = (1 - \\cos(\\omega T_s))^2 + (\\sin(\\omega T_s))^2$$\n展开平方项：\n$$|H_{NTF}(f)|^2 = (1 - 2\\cos(\\omega T_s) + \\cos^2(\\omega T_s)) + \\sin^2(\\omega T_s)$$\n使用三角恒等式 $\\cos^2(\\theta) + \\sin^2(\\theta) = 1$：\n$$|H_{NTF}(f)|^2 = 1 - 2\\cos(\\omega T_s) + 1$$\n$$|H_{NTF}(f)|^2 = 2 - 2\\cos(\\omega T_s) = 2(1 - \\cos(\\omega T_s))$$\n\n为了进一步简化此表达式，我们使用半角公式 $1 - \\cos(\\theta) = 2\\sin^2(\\frac{\\theta}{2})$。\n$$|H_{NTF}(f)|^2 = 2 \\left( 2\\sin^2\\left(\\frac{\\omega T_s}{2}\\right) \\right) = 4\\sin^2\\left(\\frac{\\omega T_s}{2}\\right)$$\n现在，我们取平方根来求幅值：\n$$|H_{NTF}(f)| = \\sqrt{4\\sin^2\\left(\\frac{\\omega T_s}{2}\\right)} = \\left|2\\sin\\left(\\frac{\\omega T_s}{2}\\right)\\right|$$\n\n我们想要找到使该幅值最小化的频率 $f$。当 $\\left|\\sin\\left(\\frac{\\omega T_s}{2}\\right)\\right|$ 项最小时，幅值达到其最小值。正弦函数的绝对最小值为 0。这发生在其参数为 $\\pi$ 的整数倍时。\n$$\\frac{\\omega T_s}{2} = n\\pi, \\quad \\text{for } n \\in \\mathbb{Z}$$\n代入 $\\omega = 2\\pi f$：\n$$\\frac{(2\\pi f) T_s}{2} = n\\pi$$\n$$f T_s = n$$\n$$f = \\frac{n}{T_s}$$\n由于采样频率为 $f_s = 1/T_s$，我们有：\n$$f = n f_s$$\n\n问题要求的是最低的非负频率。这对应于 $n$ 的最小非负整数值，即 $n=0$。\n对于 $n=0$，频率为：\n$$f = 0 \\cdot f_s = 0 \\text{ Hz}$$\n这一结果表明，理想的一阶噪声整形在直流 (0 Hz) 处最大程度地抑制了噪声，这是为了保留低频信号而设计的预期行为。", "answer": "$$\\boxed{0}$$", "id": "1296445"}, {"introduction": "从理论转向实践，Delta-Sigma 调制器的最终输出是一串高速的数字比特流。一个关键问题是：这个比特流是如何精确表示原始模拟输入的？这个练习提供了一个独特的视角，让你扮演“解码者”的角色。通过分析一个稳定重复的输出码型，你需要反向推导出产生该码型的精确直流输入电压，从而深刻理解调制器内部积分与反馈机制是如何协同工作，将模拟电压信息编码到数字脉冲密度中的。", "problem": "分析一个在恒定直流（DC）输入下工作的一阶单比特ΔΣ（Delta-Sigma）调制器。该调制器的行为由一组离散时间方程描述。输入是一个恒定的、归一化的直流电压电平，记为 $x$。该调制器的核心组件是一个积分器，其在时间步长 $k$ 的内部状态是 $u[k]$。状态根据以下递归关系演变：\n$$u[k] = u[k-1] + x - y[k-1]$$\n在每个时间步长，积分器的状态由一个比较器进行量化，以产生一个单比特二进制输出 $b[k]$。量化规则为：\n- 若 $u[k] \\geq 0$，则 $b[k] = 1$\n- 若 $u[k] < 0$，则 $b[k] = 0$\n\n反馈路径中的一个1比特数模转换器（DAC）将二进制输出 $b[k]$ 转换为模拟电平 $y[k]$，该电平被反馈并在下一个时间步长从输入中减去。DAC的映射关系定义为：\n- 若 $b[k]=1$，则 $y[k] = +1$\n- 若 $b[k]=0$，则 $y[k] = -1$\n\n当系统在恒定直流输入 $x$ 下达到稳定后，观察到二进制输出序列 $b[k]$ 是一个重复的数字模式 `1110`。假设系统处于此周期性稳态（一个极限环）中，请确定归一化的直流输入电平 $x$ 的值。", "solution": "设重复的输出比特模式为 $b[0],b[1],b[2],b[3]=1,1,1,0$，这意味着反馈电平为 $y[0],y[1],y[2],y[3]=+1,+1,+1,-1$。在周期为4的周期性稳态下，状态递归\n$$u[k]=u[k-1]+x-y[k-1]$$\n必须产生一个同样是周期为4的状态序列，因此在 $k=0$ 之前的状态等于在 $k=3$ 时的状态：$u[-1]=u[3]$。\n\n由于周期性，有 $y[-1]=y[3]=-1$，由此可将一个周期内的状态值用 $u[-1]$ 和 $x$ 表示如下：\n$$u[0]=u[-1]+x-y[-1]=u[-1]+x+1,$$\n$$u[1]=u[0]+x-y[0]=u[-1]+2x,$$\n$$u[2]=u[1]+x-y[1]=u[-1]+3x-1,$$\n$$u[3]=u[2]+x-y[2]=u[-1]+4x-2.$$\n施加状态的周期性条件 $u[3]=u[-1]$，可得\n$$u[-1]+4x-2=u[-1]\\;\\;\\Longrightarrow\\;\\;4x-2=0\\;\\;\\Longrightarrow\\;\\;x=\\frac{1}{2}.$$\n\n还需验证其与 $b[0],b[1],b[2],b[3]=1,1,1,0$ 的比较器一致性。将 $x=\\frac{1}{2}$ 代入可得\n$$u[0]=u[-1]+\\frac{3}{2},\\quad u[1]=u[-1]+1,\\quad u[2]=u[-1]+\\frac{1}{2},\\quad u[3]=u[-1].$$\n符号条件 $u[0]\\ge 0$，$u[1]\\ge 0$，$u[2]\\ge 0$ 和 $u[3]<0$ 化简为\n$$u[-1]\\ge -\\frac{3}{2},\\quad u[-1]\\ge -1,\\quad u[-1]\\ge -\\frac{1}{2},\\quad u[-1]<0,$$\n对于任意 $u[-1]\\in\\left[-\\frac{1}{2},0\\right)$，这些条件都同时满足。因此，该模式是可行的，输入电平唯一地确定为 $x=\\frac{1}{2}$。", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "1296454"}, {"introduction": "在实际的工程设计中，我们不仅要理解 Delta-Sigma ADC 的工作原理，更要能够根据性能指标进行参数设计。信纳比 (Signal-to-Quantization-Noise Ratio, SQNR) 是衡量转换器性能的关键指标。这个练习将你置于一个高保真音频系统的设计场景中，要求你计算为了达到目标 SQNR 所需的最小过采样率 (Oversampling Ratio, OSR)，直接体验理论公式在解决实际工程问题中的应用。", "problem": "一位音频电子工程师的任务是设计一个系统，用于将信号数字化以满足高保真音频应用的需求。该信号的最大频率分量为 $f_{max} = 20.0$ kHz。工程师决定使用一个 Delta-Sigma ($\\Delta\\Sigma$) 模数转换器 (ADC)。所选的 ADC 架构具有一个一阶调制器 ($L=1$) 和一个 1 位内部量化器 ($N=1$)。为了达到所需的音频质量，该系统必须满足最低 90.0 dB 的信号量化噪声比 (SQNR)。\n\n一个 $\\Delta\\Sigma$ 调制器的理论 SQNR 由下列表达式给出：\n$$ \\text{SQNR (in dB)} = (6.02 N + 1.76) + (20 L + 10) \\log_{10}(\\text{OSR}) $$\n其中，$N$ 是量化器的位数，$L$ 是调制器的阶数，OSR 是过采样率。\n\n计算为满足指定的 SQNR 性能要求，所需的最低过采样率 (OSR)。将最终答案四舍五入至三位有效数字。", "solution": "我们使用给定的 delta-sigma 调制器的 SQNR 关系式：\n$$\\text{SQNR}_{\\text{dB}} = (6.02 N + 1.76) + (20 L + 10)\\log_{10}(\\text{OSR}).$$\n代入指定值 $N=1$、$L=1$ 和目标 $\\text{SQNR}_{\\text{dB}}=90.0$，我们得到\n$$90.0 = (6.02 \\cdot 1 + 1.76) + (20 \\cdot 1 + 10)\\log_{10}(\\text{OSR}).$$\n计算常数项：\n$$(6.02 \\cdot 1 + 1.76) = 7.78, \\quad (20 \\cdot 1 + 10) = 30.$$\n因此，\n$$90.0 = 7.78 + 30 \\log_{10}(\\text{OSR}).$$\n分离对数项：\n$$30 \\log_{10}(\\text{OSR}) = 90.0 - 7.78 = 82.22,$$\n$$\\log_{10}(\\text{OSR}) = \\frac{82.22}{30}.$$\n以 10 为底取指数，得到\n$$\\text{OSR} = 10^{82.22/30} \\approx 5.50396 \\times 10^{2}.$$\n四舍五入至三位有效数字，所需的最低 OSR 为\n$$\\text{OSR} \\approx 5.50 \\times 10^{2}.$$", "answer": "$$\\boxed{5.50 \\times 10^{2}}$$", "id": "1296430"}]}