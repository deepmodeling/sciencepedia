{"hands_on_practices": [{"introduction": "掌握了基本原理后，让我们通过一个具体计算来加深理解。这个练习将引导你为一个给定的四位二进制输入计算相应的模拟输出电压。通过这个实践，你将直接应用反相加法器的原理，这是理解二进制加权电阻 DAC 如何工作的核心。", "problem": "一位工程师正在设计一个简单的波形发生器，该发生器使用一个4位二进制加权电阻数模转换器 (DAC)。该DAC是围绕一个处于反相加法器配置下的理想运算放大器构建的。数字输入是一个4位字，表示为 $d_3d_2d_1d_0$，其中 $d_3$ 是最高有效位 (MSB)，$d_0$ 是最低有效位 (LSB)。连接到MSB输入 ($d_3$) 的电阻的电阻值为 $R$。后续的电阻是二进制加权的，因此位 $d_i$ 对应的电阻的电阻值为 $2^{3-i}R$。运算放大器的反馈电阻 $R_f$ 被设置为等于基础电阻 $R$，即 $R_f = R$。数字输入控制开关。数字 '1' 将相应的电阻连接到参考电压 $V_{ref}$，而数字 '0' 则将其接地 (0 V)。参考电压为 $V_{ref} = 2.56$ V。如果数字输入字是 1010，产生的模拟输出电压 $V_{out}$ 是多少？请以伏特 (V) 为单位提供您的答案。", "solution": "对于一个理想的反相加法放大器，其反相输入端处于虚地状态，因此流经输入电阻的电流之和等于流经反馈电阻的电流。在求和节点处使用欧姆定律和基尔霍夫电流定律（KCL），我们得到\n$$\n\\frac{-V_{out}}{R_{f}}=\\sum_{i=0}^{3}\\frac{V_{i}}{R_{i}},\n$$\n因此\n$$\nV_{out}=-R_{f}\\sum_{i=0}^{3}\\frac{V_{i}}{R_{i}}.\n$$\n每个输入电压为 $V_{i}=d_{i}V_{ref}$，输入电阻为 $R_{i}=2^{3-i}R$，且 $R_{f}=R$。因此，\n$$\nV_{out}=-R\\sum_{i=0}^{3}\\frac{d_{i}V_{ref}}{2^{3-i}R}=-V_{ref}\\sum_{i=0}^{3}\\frac{d_{i}}{2^{3-i}}.\n$$\n对于输入字 $d_{3}d_{2}d_{1}d_{0}=1010$，我们有 $d_3=1, d_2=0, d_1=1, d_0=0$。展开求和项：\n$$\n\\sum_{i=0}^{3}\\frac{d_{i}}{2^{3-i}} = \\frac{d_3}{2^0} + \\frac{d_2}{2^1} + \\frac{d_1}{2^2} + \\frac{d_0}{2^3} = \\frac{1}{1} + \\frac{0}{2} + \\frac{1}{4} + \\frac{0}{8} = 1 + \\frac{1}{4} = \\frac{5}{4}.\n$$\n因此，\n$$\nV_{out}=-V_{ref}\\cdot\\frac{5}{4}.\n$$\n代入 $V_{ref}=2.56$ V，\n$$\nV_{out}=-2.56\\cdot\\frac{5}{4}=-3.2.\n$$", "answer": "$$\\boxed{-3.2}$$", "id": "1282973"}, {"introduction": "一个 DAC 的价值不仅在于它能转换信号，更在于其转换的精度。这个练习将带你进入一个实际的设计情境：为一个要求高精度角度控制的激光扫描系统确定所需 DAC 的最小位数。通过解决这个问题，你将学会如何将抽象的位数 $n$ 与现实世界中至关重要的性能指标——分辨率——直接联系起来。", "problem": "一个定制的激光扫描系统使用一个$n$位二进制加权电阻数模转换器 (DAC) 来控制反射镜的角度位置。该DAC的参考电压为 $V_{ref} = 8.00 \\text{ V}$。该DAC的满量程 (FSR) 电压被定义为等于此参考电压，即 $V_{FSR} = V_{ref}$。反射镜的角度位置 $\\alpha$ 与DAC的输出电压 $V_{out}$ 线性成正比。系统经过校准，使得等于满量程电压的理想输出电压 ($V_{out} = V_{FSR}$) 对应于相对于零位的最大角度 $\\alpha_{max} = 1.50^\\circ$。为使扫描仪在光学实验中能按要求工作，其最小的角度增量变化（角度分辨率）必须不大于 $0.0040^\\circ$。\n\n确定为满足此设计规范，该DAC必须具有的最小整数位数 $n$。", "solution": "反射镜角度与DAC输出电压线性成正比，因此DAC的一个码值变化会产生一个成比例的角度变化。对于一个理想的单极性 $n$ 位DAC，其码值从 $0$ 到 $2^{n}-1$ 覆盖整个满量程范围 $V_{FSR}$，其理想的电压步长 (1 LSB) 为\n$$\n\\Delta V=\\frac{V_{FSR}}{2^{n}-1}.\n$$\n因为 $\\alpha$ 与 $V_{out}$ 成正比，且 $V_{out}=V_{FSR}$ 对应于 $\\alpha_{max}$，所以每个码值对应的角度步长为\n$$\n\\Delta \\alpha=\\frac{\\alpha_{max}}{V_{FSR}}\\Delta V=\\frac{\\alpha_{max}}{2^{n}-1}.\n$$\n为了满足所要求的角度分辨率，我们必须有\n$$\n\\Delta \\alpha \\le \\alpha_{req} \\quad \\Longrightarrow \\quad \\frac{\\alpha_{max}}{2^{n}-1}\\le \\alpha_{req}.\n$$\n解出 $n$ 可得\n$$\n2^{n}-1 \\ge \\frac{\\alpha_{max}}{\\alpha_{req}}.\n$$\n代入 $\\alpha_{max}=1.50^\\circ$ 和 $\\alpha_{req}=0.0040^\\circ$ (单位相互抵消)，\n$$\n\\frac{\\alpha_{max}}{\\alpha_{req}}=\\frac{1.50}{0.0040}=375,\n$$\n所以\n$$\n2^{n}-1 \\ge 375 \\quad \\Longrightarrow \\quad 2^{n}\\ge 376.\n$$\n满足此条件的最小整数 $n$ 是 $n=9$，因为 $2^{8}=256<376$ 且 $2^{9}=512\\ge 376$。", "answer": "$$\\boxed{9}$$", "id": "1282904"}, {"introduction": "理想模型是学习的起点，但现实世界的电路充满了非理想性。本练习探讨了一个由于装配错误导致电阻值不正确的 DAC，并分析其对一个关键性能——单调性——的影响。通过分析这个问题，你将直观地理解为什么精确的二进制权重对于保证 DAC 输出的可靠性至关重要，并学会如何诊断这类常见的电路故障。", "problem": "一位工程师设计了一个3位数字模拟转换器（DAC），该转换器使用一个配置成反相加法器的理想运算放大器。三个数字输入由位 $b_2$（最高有效位，MSB）、$b_1$ 和 $b_0$（最低有效位，LSB）表示。对于每个输入线，逻辑'1'对应电压 $V_{ref}$，逻辑'0'对应 0 V。该运算放大器使用一个电阻为 $R_f$ 的反馈电阻。\n\n设计原计划采用二进制加权方案，对位 $b_2$ 使用阻值为 $R_2 = R$ 的输入电阻，对位 $b_1$ 使用 $R_1 = 2R$，对位 $b_0$ 使用 $R_0 = 4R$。然而，在组装过程中，原用于位 $b_1$ 和 $b_0$ 的电阻被意外地对调了。\n\n如果一个DAC的输出电压的绝对值 $|V_{out}|$ 随着输入数字码从零开始顺序增加而从不减小，则该DAC被认为是单调的。组装后的DAC被发现是非单调的。请找出在两个连续整数码之间（即从数字码 $N$ 到 $N+1$）首次违反该单调性的转换。\n\nA. 从码 0 到 1\n\nB. 从码 1 到 2\n\nC. 从码 2 到 3\n\nD. 从码 3 到 4\n\nE. 从码 5 到 6", "solution": "对于一个理想反相加法器，根据叠加原理，其输出由下式给出：\n$$\nV_{out}=-R_{f}\\left(\\frac{V_{2}}{R_{2}}+\\frac{V_{1}}{R_{1}}+\\frac{V_{0}}{R_{0}}\\right),\n$$\n其中 $V_{i}=b_{i}V_{ref}$，且 $b_{i}\\in\\{0,1\\}$。对调后，实际的电阻是 $R_{2}=R$、$R_{1}=4R$ 和 $R_{0}=2R$。因此，\n$$\nV_{out}=-R_{f}V_{ref}\\left(\\frac{b_{2}}{R}+\\frac{b_{1}}{4R}+\\frac{b_{0}}{2R}\\right),\n$$\n所以输出电压的绝对值为\n$$\n|V_{out}|=R_{f}V_{ref}\\left(\\frac{b_{2}}{R}+\\frac{b_{1}}{4R}+\\frac{b_{0}}{2R}\\right).\n$$\n单调性仅取决于加权和 $w=b_{2}+\\frac{b_{1}}{4}+\\frac{b_{0}}{2}$。使用标准二进制映射 $(b_{2}b_{1}b_{0})$ 计算连续码 $N=0,1,2,\\dots$：\n- $N=0$ 对应 $(0,0,0)$，所以 $w(0)=0$。\n- $N=1$ 对应 $(0,0,1)$，所以 $w(1)=\\frac{1}{2}$。\n- $N=2$ 对应 $(0,1,0)$，所以 $w(2)=\\frac{1}{4}$。\n\n从 $N=1$ 到 $N=2$ 的增量是\n$$\nw(2)-w(1)=\\frac{1}{4}-\\frac{1}{2}=-\\frac{1}{4}<0,\n$$\n所以 $|V_{out}|$ 在从码 1 到 2 的转换中减小了。从 0 到 1 的转换是增加的（因为 $0\\to\\frac{1}{2}$），所以首次违反单调性发生在 $1\\to 2$。", "answer": "$$\\boxed{B}$$", "id": "1282905"}]}