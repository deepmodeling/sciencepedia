{"hands_on_practices": [{"introduction": "并联-并联反馈最典型的应用是构建跨阻放大器，它能有效地将电流信号转换为电压信号。本练习将引导你分析一个由理想运算放大器构成的跨阻放大器，该放大器被用于一个光电探测器前端电路中。通过这个实际案例，你将掌握计算其核心参数——跨阻增益——的基本方法，并为理解更复杂的反馈电路打下坚实基础。[@problem_id:1332786]", "problem": "一位工程师正在为一个简单的光功率计设计前端电子设备。该系统使用一个光电二极管将入射光转换为光电流，然后通过一个跨阻放大器将该电流放大，以产生可测量的输出电压。该跨阻放大器由一个可被视为理想的运算放大器 (op-amp) 构建。\n\n该光电二极管的响应度为 $\\mathcal{R} = 0.65$ A/W。这意味着它产生的光电流 $I_{ph}$ 由公式 $I_{ph} = \\mathcal{R} \\cdot P_{in}$ 给出，其中 $P_{in}$ 是入射光功率。光电二极管的连接方式使得该电流流入运算放大器的反相输入端。一个反馈电阻 $R_f$ 连接在运算放大器的输出端和其反相输入端之间。运算放大器的同相输入端接地。\n\n在一次特定测量中，入射光功率为 $P_{in} = 5.0 \\ \\mu$W。设计要求放大器产生相应的输出电压 $V_{out} = -4.0$ V。\n\n计算为达到此性能所需的反馈电阻 $R_f$ 的值。以千欧 (k$\\Omega$) 为单位表示你的答案，并四舍五入到三位有效数字。", "solution": "对于一个同相输入端接地的跨阻（transimpedance）配置的理想运算放大器，其反相输入端处于虚地状态。光电二极管将电流 $I_{ph}$ 注入反相节点，该电流流经反馈电阻 $R_{f}$ 到达输出端。根据在反相节点处的基尔霍夫电流定律，\n$$I_{ph}=\\frac{0-V_{out}}{R_{f}},$$\n这给出了标准的跨阻关系式\n$$V_{out}=-I_{ph}R_{f}.$$\n光电二极管的电流与入射功率的关系为\n$$I_{ph}=\\mathcal{R}P_{in}.$$\n将其代入跨阻关系式并求解 $R_{f}$，\n$$R_{f}=\\frac{-V_{out}}{\\mathcal{R}P_{in}}.$$\n当 $V_{out}=-4.0\\ \\text{V}$，$\\mathcal{R}=0.65\\ \\text{A/W}$，且 $P_{in}=5.0\\times 10^{-6}\\ \\text{W}$ 时，\n$$I_{ph}=\\mathcal{R}P_{in}=0.65\\times 5.0\\times 10^{-6}\\ \\text{A}=3.25\\times 10^{-6}\\ \\text{A},$$\n$$R_{f}=\\frac{4.0}{3.25\\times 10^{-6}}\\ \\Omega=\\frac{4.0}{3.25}\\times 10^{6}\\ \\Omega.$$\n转换为千欧，\n$$R_{f}=\\frac{4.0}{3.25}\\times 10^{3}\\ \\text{k}\\Omega\\approx 1.23\\times 10^{3}\\ \\text{k}\\Omega,$$\n四舍五入到三位有效数字。", "answer": "$$\\boxed{1.23 \\times 10^{3}}$$", "id": "1332786"}, {"introduction": "除了实现电流到电压的转换，并联-并联反馈的一个关键特性是它能显著降低放大器的输入阻抗，使其成为一个理想的电流测量节点。本练习将从理想运放模型转向分立晶体管电路，这在高速或特定应用中十分常见。你将通过分析一个带有集电极-基极反馈的 BJT 放大器，并使用混合-$\\pi$ 模型计算其输入阻抗，从而亲身体会反馈是如何塑造电路特性的。[@problem_id:1332798]", "problem": "一位模拟电路设计师正在分析一个围绕双极结型晶体管（BJT）构建的单级放大器。该放大器配置为共发射极拓扑结构，带有集电极反馈，用于偏置和信号稳定。该BJT的直流电流增益为 $\\beta = 120$，其偏置直流集电极电流为 $I_C = 2.0 \\text{ mA}$。热电压为 $V_T = 25 \\text{ mV}$。集电极通过一个电阻 $R_C = 4.7 \\text{ k}\\Omega$ 连接到直流电源，一个反馈电阻 $R_F = 150 \\text{ k}\\Omega$ 连接集电极和基极。一个负载电阻 $R_L = 10 \\text{ k}\\Omega$ 交流耦合到集电极。对于小信号分析，可以假设厄利效应（Early effect）可以忽略不计（即BJT的输出电阻 $r_o$ 为无穷大）。计算该放大器级的小信号输入电阻。答案以千欧姆（k$\\Omega$）表示，并四舍五入到三位有效数字。", "solution": "使用混合-$\\pi$小信号模型，发射极交流接地，且忽略厄利效应。晶体管的小信号参数为\n$$g_{m}=\\frac{I_{C}}{V_{T}},\\qquad r_{\\pi}=\\frac{\\beta}{g_{m}}.$$\n设基极电压为 $v_{b}$，集电极电压为 $v_{c}$（发射极为0）。集电极节点通过 $R_{C}$ 和 $R_{L}$（并联）接地，并通过 $R_{F}$ 连接到基极。受控电流源 $g_{m}v_{\\pi}$（其中 $v_{\\pi}=v_{b}$）从集电极流向发射极。\n\n在集电极应用基尔霍夫电流定律（KCL）可得\n$$\\frac{v_{c}}{R_{C}}+\\frac{v_{c}}{R_{L}}+g_{m}v_{b}=\\frac{v_{b}-v_{c}}{R_{F}},$$\n所以\n$$v_{c}\\left(\\frac{1}{R_{C}}+\\frac{1}{R_{L}}+\\frac{1}{R_{F}}\\right)=v_{b}\\left(\\frac{1}{R_{F}}-g_{m}\\right),$$\n因此\n$$v_{c}=v_{b}\\,\\frac{\\frac{1}{R_{F}}-g_{m}}{\\frac{1}{R_{C}}+\\frac{1}{R_{L}}+\\frac{1}{R_{F}}}.$$\n\n基极的输入电流是流入 $r_{\\pi}$ 和 $R_{F}$ 的电流之和：\n$$i_{\\text{in}}=\\frac{v_{b}}{r_{\\pi}}+\\frac{v_{b}-v_{c}}{R_{F}}.$$\n使用 $v_{c}$ 的表达式，我们得到\n$$v_{b}-v_{c}=v_{b}\\left[1-\\frac{\\frac{1}{R_{F}}-g_{m}}{\\frac{1}{R_{C}}+\\frac{1}{R_{L}}+\\frac{1}{R_{F}}}\\right]\n=v_{b}\\,\\frac{\\frac{1}{R_{C}}+\\frac{1}{R_{L}}+g_{m}}{\\frac{1}{R_{C}}+\\frac{1}{R_{L}}+\\frac{1}{R_{F}}}.$$\n因此\n$$\\frac{i_{\\text{in}}}{v_{b}}=\\frac{1}{r_{\\pi}}+\\frac{\\frac{1}{R_{C}}+\\frac{1}{R_{L}}+g_{m}}{R_{F}\\left(\\frac{1}{R_{C}}+\\frac{1}{R_{L}}+\\frac{1}{R_{F}}\\right)}.$$\n所以，小信号输入电阻为\n$$R_{\\text{in}}=\\left[\\frac{1}{r_{\\pi}}+\\frac{\\frac{1}{R_{C}}+\\frac{1}{R_{L}}+g_{m}}{R_{F}\\left(\\frac{1}{R_{C}}+\\frac{1}{R_{L}}+\\frac{1}{R_{F}}\\right)}\\right]^{-1}.$$\n\n现在用给定的数值进行计算：\n$$g_{m}=\\frac{I_{C}}{V_{T}}=\\frac{2.0\\times 10^{-3}}{25\\times 10^{-3}}=0.08\\ \\text{S},\\quad\nr_{\\pi}=\\frac{\\beta}{g_{m}}=\\frac{120}{0.08}=1500\\ \\Omega.$$\n另外，\n$$\\frac{1}{R_{C}}=\\frac{1}{4700}=2.127659574\\times 10^{-4}\\ \\text{S},\\quad\n\\frac{1}{R_{L}}=\\frac{1}{10000}=1.0\\times 10^{-4}\\ \\text{S},\\quad\n\\frac{1}{R_{F}}=\\frac{1}{150000}=6.666666667\\times 10^{-6}\\ \\text{S}.$$\n因此\n$$\\frac{1}{R_{C}}+\\frac{1}{R_{L}}+\\frac{1}{R_{F}}=3.194326241\\times 10^{-4}\\ \\text{S},$$\n$$\\frac{1}{R_{C}}+\\frac{1}{R_{L}}+g_{m}=8.031276596\\times 10^{-2}\\ \\text{S},$$\n并且\n$$\\frac{\\frac{1}{R_{C}}+\\frac{1}{R_{L}}+g_{m}}{R_{F}\\left(\\frac{1}{R_{C}}+\\frac{1}{R_{L}}+\\frac{1}{R_{F}}\\right)}\n=\\frac{8.031276596\\times 10^{-2}}{150000\\times 3.194326241\\times 10^{-4}}\n\\approx 1.67615\\times 10^{-3}\\ \\text{S}.$$\n因此\n$$\\frac{1}{R_{\\text{in}}}=\\frac{1}{1500}+1.67615\\times 10^{-3}\\approx 2.34282\\times 10^{-3}\\ \\text{S},$$\n所以\n$$R_{\\text{in}}\\approx \\frac{1}{2.34282\\times 10^{-3}}\\ \\Omega\\approx 4.268\\times 10^{2}\\ \\Omega=0.4268\\ \\text{k}\\Omega.$$\n以千欧姆为单位，四舍五入到三位有效数字，结果是 $0.427$。", "answer": "$$\\boxed{0.427}$$", "id": "1332798"}, {"introduction": "一个性能优良的放大器不仅要有合适的输入特性，也要有强大的输出驱动能力，而这通常表现为较低的输出阻抗。本练习将带你深入探究并联-并联反馈对输出阻抗的改善作用，并引入非理想运放模型，包括有限的开环增益 $A_{ol}$ 和非零的输出电阻 $r_o$。通过推导闭环输出阻抗，你将更深刻地理解负反馈在对抗非理想因素、稳定电路性能方面的强大能力。[@problem_id:1332801]", "problem": "一个跨阻放大器由一个非理想运算放大器（op-amp）和一个反馈电阻 $R_f$ 构成。该运放的特性是具有有限的开环电压增益 $A_{ol}$ 和非零的开环输出电阻 $r_o$。其开环输入电阻假定为无穷大。该放大器的配置是：反馈电阻 $R_f$ 连接输出端和反相输入端。同相输入端接地。\n\n输入信号由一个连接到反相输入端的电流源提供。该电流源具有一个有限的内阻 $R_s$。\n\n你的任务是求出此跨阻放大器的闭环输出电阻 $R_{out,f}$。请用给定的参数 $A_{ol}$、$r_o$、$R_f$ 和 $R_s$ 给出一个闭式解析表达式。", "solution": "为了确定闭环输出电阻 $R_{out,f}$，我们使用测试源法。我们将电路中所有的独立源置零，并在输出端施加一个测试电压源 $v_x$。然后我们计算从该测试源流出的电流 $i_x$。输出电阻由比值 $R_{out,f} = v_x / i_x$ 给出。\n\n首先，我们为该分析建立电路模型。将输入电流源置零意味着它是一个开路。然而，其内阻 $R_s$ 仍保留在电路中，连接在反相输入端和地之间。非理想运放被建模为一个值为 $A_{ol}v_d$ 的压控电压源与开环输出电阻 $r_o$ 串联。其中，$v_d$ 是差分输入电压 $v_d = v_+ - v_-$。由于同相输入端接地 ($v_+=0$)，我们有 $v_d = -v_-$，其中 $v_-$ 是反相输入端的电压。因此，运放的内部电压源为 $-A_{ol}v_-$。\n\n我们在电压为 $v_-$ 的反相输入节点处应用基尔霍夫电流定律 (KCL)。运放的输入电阻是无穷大的，所以没有电流流入运放的输入端。流出该节点经过电阻 $R_s$ 和 $R_f$ 的电流之和必须为零：\n$$\n\\frac{v_- - 0}{R_s} + \\frac{v_- - v_x}{R_f} = 0\n$$\n我们重新整理这个方程，以 $v_x$ 表示 $v_-$：\n$$\nv_-\\left(\\frac{1}{R_s} + \\frac{1}{R_f}\\right) = \\frac{v_x}{R_f}\n$$\n$$\nv_-\\left(\\frac{R_f + R_s}{R_s R_f}\\right) = \\frac{v_x}{R_f}\n$$\n$$\nv_- = v_x \\frac{R_s R_f}{R_f(R_f + R_s)} = v_x \\frac{R_s}{R_s + R_f}\n$$\n\n接下来，我们在保持在测试电压 $v_x$ 的输出节点处应用KCL。来自测试源的总电流 $i_x$ 是流入反馈电阻 $R_f$ 的电流与通过 $r_o$ 流入运放输出端的电流之和。\n通过 $R_f$ 的电流是 $(v_x - v_-)/R_f$。\n通过 $r_o$ 的电流是 $(v_x - (-A_{ol}v_-))/r_o = (v_x + A_{ol}v_-)/r_o$。\n所以，输出节点的KCL方程是：\n$$\ni_x = \\frac{v_x - v_-}{R_f} + \\frac{v_x + A_{ol}v_-}{r_o}\n$$\n我们可以按变量 $v_x$ 和 $v_-$ 重新组合这个方程：\n$$\ni_x = v_x\\left(\\frac{1}{R_f} + \\frac{1}{r_o}\\right) + v_-\\left(\\frac{A_{ol}}{r_o} - \\frac{1}{R_f}\\right)\n$$\n现在，我们代入我们之前导出的 $v_-$ 的表达式：\n$$\ni_x = v_x\\left(\\frac{1}{R_f} + \\frac{1}{r_o}\\right) + \\left(v_x \\frac{R_s}{R_s + R_f}\\right)\\left(\\frac{A_{ol}}{r_o} - \\frac{1}{R_f}\\right)\n$$\n为了求得输出导纳 $i_x/v_x$，我们将整个方程除以 $v_x$：\n$$\n\\frac{i_x}{v_x} = \\left(\\frac{1}{R_f} + \\frac{1}{r_o}\\right) + \\left(\\frac{R_s}{R_s + R_f}\\right)\\left(\\frac{A_{ol}}{r_o} - \\frac{1}{R_f}\\right)\n$$\n让我们展开并简化这个表达式：\n$$\n\\frac{i_x}{v_x} = \\frac{1}{R_f} + \\frac{1}{r_o} + \\frac{A_{ol}R_s}{r_o(R_s + R_f)} - \\frac{R_s}{R_f(R_s + R_f)}\n$$\n我们可以合并分母中含有 $R_f$ 的项：\n$$\n\\frac{1}{R_f} - \\frac{R_s}{R_f(R_s + R_f)} = \\frac{R_s + R_f - R_s}{R_f(R_s + R_f)} = \\frac{R_f}{R_f(R_s + R_f)} = \\frac{1}{R_s + R_f}\n$$\n将此结果代回导纳的表达式中：\n$$\n\\frac{i_x}{v_x} = \\frac{1}{r_o} + \\frac{A_{ol}R_s}{r_o(R_s + R_f)} + \\frac{1}{R_s + R_f}\n$$\n为了合并这些项，我们找到一个公分母，即 $r_o(R_s + R_f)$：\n$$\n\\frac{i_x}{v_x} = \\frac{R_s + R_f}{r_o(R_s + R_f)} + \\frac{A_{ol}R_s}{r_o(R_s + R_f)} + \\frac{r_o}{r_o(R_s + R_f)}\n$$\n$$\n\\frac{i_x}{v_x} = \\frac{R_s + R_f + A_{ol}R_s + r_o}{r_o(R_s + R_f)}\n$$\n闭环输出电阻 $R_{out,f}$ 是该导纳的倒数：\n$$\nR_{out,f} = \\frac{v_x}{i_x} = \\frac{r_o(R_s + R_f)}{R_s + R_f + r_o + A_{ol}R_s}\n$$\n这个表达式可以稍作整理，将含有 $R_s$ 的项组合在一起：\n$$\nR_{out,f} = \\frac{r_o(R_s + R_f)}{R_s(1 + A_{ol}) + R_f + r_o}\n$$\n这就是闭环输出电阻的最终表达式。", "answer": "$$ \\boxed{\\frac{r_o(R_s + R_f)}{R_s(1 + A_{ol}) + R_f + r_o}} $$", "id": "1332801"}]}