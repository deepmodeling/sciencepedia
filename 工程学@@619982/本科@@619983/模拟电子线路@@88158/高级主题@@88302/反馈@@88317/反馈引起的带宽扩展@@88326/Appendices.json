{"hands_on_practices": [{"introduction": "在引入负反馈理论的核心优势时，我们首先要掌握增益与带宽之间的基本权衡关系。这个练习将帮助你通过一个经典的单极点放大器模型，亲手计算并验证负反馈是如何以牺牲部分开环增益为代价，显著拓宽放大器工作带宽的。掌握增益-带宽积（Gain-Bandwidth Product, GBWP）的概念对于任何放大器设计都是至关重要的一步 [@problem_id:1282465]。", "problem": "一个运算放大器被用于构建一个低频传感器的前置放大器。该运算放大器的开环频率响应由一个单主极点表征。其开环直流 (DC) 电压增益指定为 $A_{OL,DC} = 80 \\text{ dB}$，其 -3dB 带宽（对应于主极点频率）为 $f_{H,OL} = 100 \\text{ Hz}$。\n\n然后，该运算放大器被置于一个负反馈配置中，以形成一个闭环直流电压增益为 $A_{CL,DC} = 20 \\text{ dB}$ 的同相放大器。\n\n计算该闭环放大器的新 -3dB 带宽 $f_{H,CL}$。将您的答案以千赫兹 (kHz) 为单位表示，并四舍五入到三位有效数字。", "solution": "该运算放大器具有单主极点，因此其开环传递函数可建模为 $A(s) = \\frac{A_{0}}{1 + s/\\omega_{p}}$，其中 $A_{0}$ 是开环直流增益，$\\omega_{p} = 2\\pi f_{H,OL}$ 是主极点。开环直流增益的线性值可从其分贝值通过公式 $A_{0} = 10^{A_{OL,DC}/20}$ 获得。当 $A_{OL,DC} = 80$ 时，我们得到 $A_{0} = 10^{80/20} = 10^{4}$。对于单极点放大器，其单位增益频率（即增益带宽积）为 $f_{t} = A_{0} f_{H,OL}$。\n\n在反馈系数为 $\\beta$ 的同相负反馈配置中，闭环传递函数为\n$$\nT(s) = \\frac{A(s)}{1 + \\beta A(s)} = \\frac{A_{0}}{(1 + s/\\omega_{p}) + \\beta A_{0}}.\n$$\n因此，闭环直流增益和极点频率分别为\n$$\nA_{CL,DC} = T(0) = \\frac{A_{0}}{1 + \\beta A_{0}}, \\quad \\omega_{p,CL} = \\omega_{p} (1 + \\beta A_{0}).\n$$\n由直流增益关系式可解得：\n$$\n1 + \\beta A_{0} = \\frac{A_{0}}{A_{CL,DC}}.\n$$\n因此，闭环 -3 dB 带宽为\n$$\nf_{H,CL} = \\frac{\\omega_{p,CL}}{2\\pi} = f_{H,OL} \\left(1 + \\beta A_{0}\\right) = f_{H,OL} \\cdot \\frac{A_{0}}{A_{CL,DC}} = \\frac{A_{0} f_{H,OL}}{A_{CL,DC}} = \\frac{f_{t}}{A_{CL,DC}}.\n$$\n代入给定值：$A_{0} = 10^{4}$、$f_{H,OL} = 100$ 以及 $A_{CL,DC} = 10$，得到\n$$\nf_{H,CL} = \\frac{10^{4} \\cdot 100}{10} = 10^{5} \\text{ Hz} = 10^{2} \\text{ kHz}.\n$$\n以 kHz 为单位并四舍五入到三位有效数字，结果是 $1.00 \\times 10^{2}$。", "answer": "$$\\boxed{1.00 \\times 10^{2}}$$", "id": "1282465"}, {"introduction": "虽然负反馈能够有效拓展放大器的小信号带宽，但实际电路的性能还受到其他非线性因素的制约。这个实践问题将引导你区分两个关键的带宽指标：小信号-3dB带宽和全功率带宽，后者受运放内部的压摆率（Slew Rate, $SR$）限制。通过对比不同增益设置下的这两种带宽，你将深刻理解为何在处理大幅度信号时，仅仅考虑小信号模型是不够的 [@problem_id:1282459]。", "problem": "一个运算放大器（op-amp）用于构建一个同相放大器。该运算放大器的特性是：具有非常大的开环直流增益、单位增益频率 $f_T = 2.0 \\text{ MHz}$、内部压摆率（$SR$）为 $1.0 \\text{ V}/\\mu s$、以及最大对称输出电压摆幅 $V_{omax} = 10.0 \\text{ V}$。该运算放大器的开环频率响应可由单个主极点建模。\n\n通过调整反馈网络，我们考虑两种不同的电路配置：\n- **情况1**：闭环直流电压增益设置为 $G_1 = 12.0$。\n- **情况2**：闭环直流电压增益设置为 $G_2 = 60.0$。\n\n对于这两种情况，放大器都应能工作在其最大输出电压摆幅 $V_{omax}$。您的任务是分析闭环增益的变化如何影响两种不同的带宽指标：小信号-3dB带宽和全功率带宽。\n\n计算以下两个无量纲比率：\n1.  情况2与情况1的小信号-3dB带宽之比。\n2.  情况2与情况1的全功率带宽之比。\n\n将您的两个答案（分别对应比率（1）和（2））以一对数值的形式给出。将最终答案四舍五入至三位有效数字。", "solution": "问题要求计算一个同相运算放大器在两种不同增益设置下带宽的两个比率。我们将分别分析小信号带宽和全功率带宽。\n\n首先，我们来分析小信号-3dB带宽。对于一个具有单极点频率响应和很大直流增益 $A_0$ 的运算放大器，其开环增益由 $A(s) = \\frac{A_0}{1 + s/\\omega_p}$ 给出，其中 $\\omega_p$ 是主极点频率。单位增益角频率 $\\omega_T = 2\\pi f_T$ 通过增益带宽积（GBWP）与开环增益和极点相关联：$\\omega_T = A_0 \\omega_p$。\n\n一个同相放大器的闭环增益为 $A_{cl}(s) = \\frac{A(s)}{1 + \\beta A(s)}$，其中 $\\beta$ 是反馈因子。代入 $A(s)$ 的表达式：\n$$ A_{cl}(s) = \\frac{\\frac{A_0}{1+s/\\omega_p}}{1 + \\beta \\frac{A_0}{1+s/\\omega_p}} = \\frac{A_0}{1 + s/\\omega_p + \\beta A_0} = \\frac{A_0}{1 + \\beta A_0} \\frac{1}{1 + \\frac{s}{\\omega_p(1+\\beta A_0)}} $$\n闭环直流增益为 $G_{cl} = \\frac{A_0}{1+\\beta A_0}$。由于 $A_0$ 非常大，因此 $G_{cl} \\approx \\frac{A_0}{\\beta A_0} = \\frac{1}{\\beta}$。\n闭环-3dB角带宽为 $\\omega_{3dB} = \\omega_p(1+\\beta A_0)$。同样，对于大的 $A_0$，这可以简化为 $\\omega_{3dB} \\approx \\omega_p \\beta A_0 = \\beta (A_0 \\omega_p) = \\beta \\omega_T$。\n使用关系式 $G_{cl} \\approx 1/\\beta$，我们可以用闭环增益来表示小信号带宽：\n$$ \\omega_{3dB} \\approx \\frac{\\omega_T}{G_{cl}} $$\n这表明，对于一个固定的单位增益频率，小信号带宽与闭环增益成反比。\n\n现在我们可以计算两种情况下的带宽。\n情况1：$G_1 = 12.0$。小信号带宽为 $\\omega_{3dB,1} = \\frac{\\omega_T}{G_1}$。\n情况2：$G_2 = 60.0$。小信号带宽为 $\\omega_{3dB,2} = \\frac{\\omega_T}{G_2}$。\n\n第一个要求的比率是情况2与情况1的小信号带宽之比：\n$$ \\text{Ratio}_1 = \\frac{\\omega_{3dB,2}}{\\omega_{3dB,1}} = \\frac{\\omega_T / G_2}{\\omega_T / G_1} = \\frac{G_1}{G_2} $$\n代入给定的增益值：\n$$ \\text{Ratio}_1 = \\frac{12.0}{60.0} = 0.2 $$\n\n接下来，我们分析全功率带宽（$FPBW$）。该带宽不是由小信号频率响应决定的，而是由运算放大器的压摆率（$SR$）决定的。压摆率是运算放大器输出电压的最大变化率。对于一个正弦输出信号 $v_o(t) = V_{amp} \\sin(\\omega t)$，其变化率为 $\\frac{dv_o}{dt} = \\omega V_{amp} \\cos(\\omega t)$。\n当 $\\cos(\\omega t) = 1$ 时，达到最大变化率，因此 $(\\frac{dv_o}{dt})_{max} = \\omega V_{amp}$。\n为避免压摆引起的失真，这个最大变化率不能超过运算放大器的压摆率：\n$$ \\omega V_{amp} \\le SR $$\n全功率带宽被定义为运算放大器在不受压摆率限制的情况下，能够输出其最大可能电压摆幅 $V_{omax}$ 时的最大频率 $\\omega_{FPBW}$。因此，我们设 $V_{amp} = V_{omax}$ 并求解极限频率：\n$$ \\omega_{FPBW} = \\frac{SR}{V_{omax}} $$\n问题陈述压摆率为 $SR = 1.0 \\text{ V}/\\mu s = 1.0 \\times 10^6 \\text{ V/s}$，最大输出摆幅为 $V_{omax} = 10.0 \\text{ V}$。\n根据推导出的公式，全功率带宽仅取决于运算放大器内部的压摆率和指定的最大输出幅度。它不依赖于反馈因子 $\\beta$ 或闭环增益 $G_{cl}$。\n\n因此，情况1和情况2的全功率带宽是相同的。\n情况1：$\\omega_{FPBW,1} = \\frac{SR}{V_{omax}}$。\n情况2：$\\omega_{FPBW,2} = \\frac{SR}{V_{omax}}$。\n\n第二个要求的比率是情况2与情况1的全功率带宽之比：\n$$ \\text{Ratio}_2 = \\frac{\\omega_{FPBW,2}}{\\omega_{FPBW,1}} = \\frac{SR/V_{omax}}{SR/V_{omax}} = 1 $$\n\n计算出的两个比率是0.2和1。我们需要将它们四舍五入到三位有效数字。\n比率1：$0.200$\n比率2：$1.00$\n\n最终答案是这两个值的组合。", "answer": "$$\\boxed{\\begin{pmatrix} 0.200  1.00 \\end{pmatrix}}$$", "id": "1282459"}, {"introduction": "当放大器具有多个极点时，带宽拓展的设计变得更加精妙，我们不仅可以增加带宽，还可以主动塑造其频率响应。本练习将带你进入一个更高级的设计场景：如何为一个二阶系统精确选择反馈系数 $\\beta$，使其闭环响应呈现出“最大平坦”的巴特沃斯（Butterworth）特性。这个过程不仅能防止不希望的频率峰化，还将反馈理论与滤波器设计思想联系起来，展示了反馈在系统动态性能优化中的强大作用 [@problem_id:1282476]。", "problem": "一个运算放大器被建模为具有频率相关的开环电压增益 $A(s)$。该放大器具有非常大的直流开环增益 $A_0$，其频率响应由位于角频率 $\\omega_p$ 处的两个相同的实极点主导。因此，其开环传递函数由下式给出：\n$$ A(s) = \\frac{A_0}{\\left(1 + \\frac{s}{\\omega_p}\\right)^2} $$\n该放大器用于构建一个具有恒定、与频率无关的反馈系数 $\\beta$ 的同相放大器。\n\n您的任务是确定实现最大平坦频率响应的具体条件。求使闭环增益呈现二阶巴特沃斯响应的反馈系数 $\\beta$ 的值。然后，计算此巴特沃斯对齐的闭环系统的-3dB角频率 $\\omega_{-3\\text{dB,CL}}$。\n\n请用 $A_0$ 表示 $\\beta$ 的答案，用 $\\omega_p$ 表示 $\\omega_{-3\\text{dB,CL}}$ 的答案。您的最终答案应为一个行矩阵，第一列为 $\\beta$ 的值，第二列为 $\\omega_{-3\\text{dB,CL}}$ 的值。", "solution": "具有前向通路增益 $A(s)$ 和恒定反馈系数 $\\beta$ 的同相闭环传递函数由标准反馈关系式给出\n$$\nT(s)=\\frac{V_{\\text{out}}(s)}{V_{\\text{in}}(s)}=\\frac{A(s)}{1+\\beta A(s)}.\n$$\n根据给定的开环模型\n$$\nA(s)=\\frac{A_{0}}{\\left(1+\\frac{s}{\\omega_{p}}\\right)^{2}},\n$$\n闭环传递函数变为\n$$\nT(s)=\\frac{\\dfrac{A_{0}}{\\left(1+\\frac{s}{\\omega_{p}}\\right)^{2}}}{1+\\beta\\,\\dfrac{A_{0}}{\\left(1+\\frac{s}{\\omega_{p}}\\right)^{2}}}\n=\\frac{A_{0}}{\\left(1+\\frac{s}{\\omega_{p}}\\right)^{2}+\\beta A_{0}}.\n$$\n展开分母，并通过将分子和分母同乘以 $\\omega_{p}^{2}$ 来消去分数幂，得到\n$$\nT(s)=\\frac{A_{0}\\,\\omega_{p}^{2}}{s^{2}+2\\omega_{p}s+\\omega_{p}^{2}\\left(1+\\beta A_{0}\\right)}.\n$$\n这是一个标准的二阶低通形式。与标准形式进行比较\n$$\nT(s)=\\frac{K\\,\\omega_{0}^{2}}{s^{2}+2\\zeta\\omega_{0}s+\\omega_{0}^{2}},\n$$\n可得如下对应关系\n$$\n\\omega_{0}^{2}=\\omega_{p}^{2}\\left(1+\\beta A_{0}\\right),\\qquad 2\\zeta\\omega_{0}=2\\omega_{p}.\n$$\n因此，\n$$\n\\omega_{0}=\\omega_{p}\\sqrt{1+\\beta A_{0}},\\qquad \\zeta=\\frac{\\omega_{p}}{\\omega_{0}}=\\frac{1}{\\sqrt{1+\\beta A_{0}}}.\n$$\n对于最大平坦（巴特沃斯）的二阶响应，阻尼比必须为\n$$\n\\zeta=\\frac{1}{\\sqrt{2}}.\n$$\n施加此条件可得\n$$\n\\frac{1}{\\sqrt{1+\\beta A_{0}}}=\\frac{1}{\\sqrt{2}}\\;\\;\\Longrightarrow\\;\\;1+\\beta A_{0}=2\\;\\;\\Longrightarrow\\;\\;\\beta=\\frac{1}{A_{0}}.\n$$\n选择此值后，闭环自然（转折）频率变为\n$$\n\\omega_{0}=\\omega_{p}\\sqrt{1+\\beta A_{0}}=\\omega_{p}\\sqrt{2}.\n$$\n对于二阶巴特沃斯低通响应，其 $-3\\,\\text{dB}$ 频率等于自然频率。为明确地看到这一点，其幅值平方为\n$$\n\\left|T(j\\omega)\\right|^{2}=\\frac{\\left(K\\omega_{0}^{2}\\right)^{2}}{\\left(\\omega_{0}^{2}-\\omega^{2}\\right)^{2}+\\left(2\\zeta\\omega_{0}\\omega\\right)^{2}}.\n$$\n在 $\\omega=\\omega_{0}$ 且 $\\zeta=1/\\sqrt{2}$ 时，计算可得，\n$$\n\\left|T(j\\omega_{0})\\right|^{2}=\\frac{\\left(K\\omega_{0}^{2}\\right)^{2}}{\\left(0\\right)^{2}+\\left(2\\cdot\\frac{1}{\\sqrt{2}}\\cdot\\omega_{0}^{2}\\right)^{2}}=\\frac{K^{2}\\omega_{0}^{4}}{2\\omega_{0}^{4}}=\\frac{K^{2}}{2},\n$$\n相对于直流增益 $K$，此值即为 $-3\\,\\text{dB}$。因此，\n$$\n\\omega_{-3\\text{dB,CL}}=\\omega_{0}=\\sqrt{2}\\,\\omega_{p}.\n$$\n因此，所需的反馈系数和由此产生的闭环 $-3\\,\\text{dB}$ 角频率分别为 $\\beta=\\frac{1}{A_{0}}$ 和 $\\omega_{-3\\text{dB,CL}}=\\sqrt{2}\\,\\omega_{p}$。", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{1}{A_{0}}  \\sqrt{2}\\,\\omega_{p}\\end{pmatrix}}$$", "id": "1282476"}]}