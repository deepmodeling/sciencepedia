{"hands_on_practices": [{"introduction": "让我们从最基础的负反馈电路——电压跟随器——开始。这个练习旨在巩固环路增益 $T = A\\beta$ 的核心定义。通过分析这个 $\\beta=1$ 的最简情况，你可以将注意力集中在由运算放大器的开环增益决定的前向通路增益上，为后续更复杂的分析奠定坚实基础 [@problem_id:1315750]。", "problem": "一个电压跟随器，也称为单位增益缓冲器，是用一个非理想运算放大器（运放）构建的。输入电压信号连接到同相输入端。运放的输出端直接连接到其反相输入端，形成一个反馈路径。该运放的特性为一个有限、实数且恒定的开环增益 $A_0$，其输出电压 $v_{out}$ 与差分输入电压 $v_d = v_+ - v_-$ 之间的关系由表达式 $v_{out} = A_0 v_d$ 给出，其中 $v_+$ 和 $v_-$ 分别是同相和反相输入端的电压。\n\n这个电路可以使用负反馈系统的标准模型进行分析。在这个模型中，运放构成前向通路，其增益为 $A$。反馈网络处理输出信号以产生一个反馈信号，其反馈系数为 $\\beta$。系统的环路增益，记为 $T$，定义为前向通路增益与反馈系数的乘积。\n\n确定该电压跟随器电路的环路增益 $T$。请用 $A_0$ 表示你的答案。", "solution": "题目要求计算使用一个具有有限开环增益 $A_0$ 的运放构建的电压跟随器电路的环路增益 $T$。环路增益定义为前向通路增益 $A$ 与反馈系数 $\\beta$ 的乘积。\n$$T = A \\beta$$\n\n首先，我们确定前向通路增益 $A$。反馈系统的前向通路就是运算放大器本身。根据题目描述，该运放的有限开环增益为 $A_0$。因此，前向通路增益为：\n$$A = A_0$$\n\n接下来，我们需要确定反馈系数 $\\beta$。反馈系数是反馈信号与输出信号的比率。反馈网络将运放的输出连接回放大级的输入。在这个电压跟随器配置中，电压为 $v_{out}$ 的输出端直接连接到接收反馈信号的反相输入端。我们称反相输入端的电压为 $v_f$。\n$$v_f = v_-$$\n\n由于是直接连接（一根导线），反相输入端的电压与输出电压相同。\n$$v_- = v_{out}$$\n因此，反馈信号等于输出信号：\n$$v_f = v_{out}$$\n\n反馈系数 $\\beta$ 由关系式 $v_f = \\beta v_{out}$ 定义。通过将此定义与我们得到的 $v_f = v_{out}$ 进行比较，我们可以写出：\n$$\\beta v_{out} = 1 \\cdot v_{out}$$\n这意味着反馈系数为：\n$$\\beta = 1$$\n这个结果在直观上是合理的，因为整个输出信号（100%）被反馈回输入端。\n\n最后，我们可以通过将前向增益 $A$ 乘以反馈系数 $\\beta$ 来计算环路增益 $T$。\n$$T = A \\beta = (A_0)(1)$$\n$$T = A_0$$\n\n因此，电压跟随器电路的环路增益等于运算放大器的开环增益。", "answer": "$$\\boxed{A_{0}}$$", "id": "1315750"}, {"introduction": "在掌握了基本概念之后，我们将挑战一个更具代表性的电路：反相求和放大器。这个练习的核心在于计算由外部电阻网络确定的反馈系数 $\\beta$。这是分析绝大多数实际反馈放大器的关键一步，能够显著提升你对反馈系统如何被外部元件精确控制的理解 [@problem_id:1315710]。", "problem": "考虑一个由单个运算放大器（op-amp）和若干电阻构成的反相加法放大器。该运放被建模为具有一个有限的、与频率无关的开环电压增益 $-A_{OL}$，其中 $A_{OL}$ 是一个大的正实数。假设该运放具有无限大的输入阻抗和零输出阻抗。\n\n电路配置如下：三个由电压源 $v_1$、$v_2$ 和 $v_3$ 表示的输入信号，分别通过电阻 $R_1$、$R_2$ 和 $R_3$ 连接到运放的反相输入端。一个反馈电阻 $R_f$ 连接在运放的输出端和反相输入端之间。运放的同相输入端直接接地。\n\n计算此放大器配置的环路增益 $T$。您的答案应为一个用 $A_{OL}$、$R_1$、$R_2$、$R_3$ 和 $R_f$ 表示的符号表达式。", "solution": "将运放建模为 $v_{o}=-A_{OL}(v_{+}-v_{-})$。由于同相输入端接地，$v_{+}=0$，因此\n$$\nv_{o}=-A_{OL}(0-v_{-})=A_{OL}v_{-}.\n$$\n为求得反馈系数，将独立输入源置零，即 $v_{1}=v_{2}=v_{3}=0$。此时，三个输入电阻将反相节点接地，其等效电阻为\n$$\nR_{g}=\\left(\\frac{1}{R_{1}}+\\frac{1}{R_{2}}+\\frac{1}{R_{3}}\\right)^{-1}.\n$$\n在 $R_{f}$ 连接 $v_{o}$ 与反相节点、$R_g$ 连接该节点与地的情况下，应用电阻分压（或KCL）。使用KCL，\n$$\n\\frac{v_{o}-v_{-}}{R_{f}}=\\frac{v_{-}}{R_{g}}\\;\\;\\Rightarrow\\;\\;v_{o}=v_{-}\\left(1+\\frac{R_{f}}{R_{g}}\\right)\\;\\;\\Rightarrow\\;\\;\\beta\\equiv\\frac{v_{-}}{v_{o}}=\\frac{1}{1+\\frac{R_{f}}{R_{g}}}=\\frac{R_{g}}{R_{f}+R_{g}}.\n$$\n环路增益是运放开环增益与反馈系数的乘积。根据给定约定，当 $v_{+}=0$ 时有 $v_{o}=A_{OL}v_{-}$，则环路增益为\n$$\nT=A_{OL}\\beta=A_{OL}\\frac{R_{g}}{R_{f}+R_{g}}=\\frac{A_{OL}}{1+\\frac{R_{f}}{R_{g}}}=\\frac{A_{OL}}{1+R_{f}\\left(\\frac{1}{R_{1}}+\\frac{1}{R_{2}}+\\frac{1}{R_{3}}\\right)}.\n$$", "answer": "$$\\boxed{\\frac{A_{OL}}{1+R_{f}\\left(\\frac{1}{R_{1}}+\\frac{1}{R_{2}}+\\frac{1}{R_{3}}\\right)}}$$", "id": "1315710"}, {"introduction": "最后，我们将环路增益的概念从静态直流推广到动态的频率域。通过分析一个三级环形振荡器，你将探索环路增益 $L(j\\omega)$ 的频率依赖性，并理解它如何决定电路的稳定性甚至产生振荡。这个实践不仅是理论的延伸，更是理解振荡器工作原理和进行稳定性分析的基石 [@problem_id:1315727]。", "problem": "三级环形振荡器是现代数字和混合信号集成电路中的一个基本构建模块。它由三个相同的反相放大器级联成一个闭合回路构成。对于本问题，请考虑一个由三个相同的互补金属氧化物半导体（CMOS）反相器级联构成的环形振荡器。\n\n在直流偏置点（反相器的输入和输出电压相等）附近进行小信号分析时，每一级都可以用以下参数来表征：\n- 有效小信号跨导 $g_m$，它代表了 NMOS 和 PMOS 晶体管的综合效应。\n- NMOS 沟道电阻 $r_{on}$。\n- PMOS 沟道电阻 $r_{op}$。\n- 每个反相器输出节点的总有效负载电容 $C_L$。这个电容包括了驱动级的寄生电容和后续级的输入栅极电容。\n\n单个反相器级的小信号输出电阻 $R_{out}$ 是 $r_{on}$ 和 $r_{op}$ 的并联组合。\n\n您的任务是推导整个三级振荡器的频率相关环路增益 $L(j\\omega)$ 的完整解析表达式。您的最终表达式应以角频率 $\\omega$、虚数单位 $j$ 以及给定的物理参数 $g_m$、$r_{on}$、$r_{op}$ 和 $C_L$表示。", "solution": "我们将每个CMOS反相器在其工作点建模为一个线性小信号级，具有：\n- 一个输出节点，通过并联的 NMOS 和 PMOS 沟道电阻连接到交流地，因此小信号输出电阻为 $R_{out} = r_{on} \\parallel r_{op} = \\left( \\frac{1}{r_{on}} + \\frac{1}{r_{op}} \\right)^{-1} = \\frac{r_{on} r_{op}}{r_{on} + r_{op}}$。\n- 从输出节点到地的负载电容 $C_{L}$。\n- 一个受控电流源，模拟反相器的跨导作用，其值为 $g_{m} v_{in}$，方向从输出节点到地（这样，$v_{in}$ 的增加会增大下拉电流并减小 $v_{out}$）。\n\n在输出节点处，以流向地的电流为正，写出KCL方程得到\n$$\n\\frac{v_{out}}{R_{out}} + C_{L} \\frac{d v_{out}}{dt} + g_{m} v_{in} = 0.\n$$\n进行拉普拉斯变换，并定义 $A(s) \\equiv \\frac{V_{out}(s)}{V_{in}(s)}$，我们得到\n$$\n\\left( \\frac{1}{R_{out}} + s C_{L} \\right) V_{out}(s) + g_{m} V_{in}(s) = 0\n\\quad \\Longrightarrow \\quad\nA(s) = - \\frac{g_{m}}{\\frac{1}{R_{out}} + s C_{L}} = - \\frac{g_{m} R_{out}}{1 + s R_{out} C_{L}}.\n$$\n对于一个由三个相同的反相器构成的三级环路，环路增益是三级增益的乘积，\n$$\nL(s) = \\left[ A(s) \\right]^{3} = - \\frac{\\left( g_{m} R_{out} \\right)^{3}}{\\left( 1 + s R_{out} C_{L} \\right)^{3}}.\n$$\n代入 $s = j \\omega$ 和 $R_{out} = \\frac{r_{on} r_{op}}{r_{on} + r_{op}}$，得到\n$$\nL(j \\omega) = - \\frac{\\left( g_{m} \\frac{r_{on} r_{op}}{r_{on} + r_{op}} \\right)^{3}}{\\left( 1 + j \\omega C_{L} \\frac{r_{on} r_{op}}{r_{on} + r_{op}} \\right)^{3}}.\n$$\n此表达式完全由 $g_{m}$、$r_{on}$、$r_{op}$、$C_{L}$、$\\omega$ 和 $j$ 表示，符合要求。", "answer": "$$\\boxed{-\\frac{\\left(g_{m}\\,\\frac{r_{on} r_{op}}{r_{on}+r_{op}}\\right)^{3}}{\\left(1+j\\omega C_{L}\\,\\frac{r_{on} r_{op}}{r_{on}+r_{op}}\\right)^{3}}}$$", "id": "1315727"}]}