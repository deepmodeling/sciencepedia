{"hands_on_practices": [{"introduction": "我们将从最基础的动态分析开始。滤波器对突变输入（如阶跃信号）的响应揭示了其最根本的动态特性。本练习要求您求解系统的微分方程，以找出其低通输出在时域中的具体波形。通过这个过程，您将直接观察到滤波器的自然频率 ($\\omega_0$) 和品质因数 ($Q$) 是如何共同决定响应的振荡与阻尼特性，从而将抽象的参数与实际的电路行为联系起来。[@problem_id:1334679]", "problem": "一个特定的二阶状态变量滤波器用于处理输入电压信号 $v_{in}(t)$。其内部动态可以由一个包含两个状态变量 $x_1(t)$ 和 $x_2(t)$ 的状态空间模型精确描述。输出的低通滤波电压由 $v_{LP}(t) = x_1(t)$ 给出。该系统由以下耦合线性微分方程组控制：\n$$ \\frac{dx_1}{dt} = x_2(t) $$\n$$ \\frac{dx_2}{dt} = -\\omega_0^2 x_1(t) - \\frac{\\omega_0}{Q} x_2(t) + \\omega_0^2 v_{in}(t) $$\n该滤波器的特征是自然频率 $\\omega_0 = 100\\sqrt{2}$ rad/s 和品质因数 $Q = 1/\\sqrt{3}$。\n滤波器初始处于静止状态，即 $x_1(0) = 0$ 且 $x_2(0)=0$。在时间 $t=0$ 时，一个单位阶跃电压施加到输入端，使得对于所有 $t \\ge 0$ 都有 $v_{in}(t) = 1$ V。\n\n求当 $t \\ge 0$ 时，低通输出电压 $v_{LP}(t)$ 的表达式。你的答案应该是一个关于时间 $t$ 的单实值解析函数。", "solution": "给定的状态方程为\n$$\\frac{d x_{1}}{dt}=x_{2}(t), \\qquad \\frac{d x_{2}}{dt}=-\\omega_{0}^{2} x_{1}(t)-\\frac{\\omega_{0}}{Q} x_{2}(t)+\\omega_{0}^{2} v_{in}(t),$$\n其中对于 $t\\ge 0$ 有 $v_{in}(t)=1$，初始条件为 $x_{1}(0)=0$, $x_{2}(0)=0$。通过对第一个方程求导并代入第二个方程来消去 $x_{2}$，得到一个关于 $x_{1}(t)$ 的单独的二阶常微分方程：\n$$\\frac{d^{2} x_{1}}{dt^{2}}=-\\omega_{0}^{2} x_{1}-\\frac{\\omega_{0}}{Q}\\frac{d x_{1}}{dt}+\\omega_{0}^{2}.$$\n重写为，\n$$\\frac{d^{2} x_{1}}{dt^{2}}+\\frac{\\omega_{0}}{Q}\\frac{d x_{1}}{dt}+\\omega_{0}^{2} x_{1}=\\omega_{0}^{2},$$\n其中 $x_{1}(0)=0$ 且 $\\frac{d x_{1}}{dt}(0)=x_{2}(0)=0$。一个常数特解是 $x_{1,p}=1$。齐次方程\n$$\\frac{d^{2} x_{h}}{dt^{2}}+\\frac{\\omega_{0}}{Q}\\frac{d x_{h}}{dt}+\\omega_{0}^{2} x_{h}=0$$\n的特征根为\n$$r=-\\frac{\\omega_{0}}{2Q}\\pm j\\,\\omega_{d}, \\quad \\omega_{d}=\\omega_{0}\\sqrt{1-\\frac{1}{4Q^{2}}}.$$\n因此\n$$x_{h}(t)=\\exp\\!\\left(-\\frac{\\omega_{0}}{2Q}t\\right)\\left(C\\cos(\\omega_{d} t)+D\\sin(\\omega_{d} t)\\right).$$\n施加条件 $x_{1}(0)=0$ 得到 $1+x_{h}(0)=0$，所以 $C=-1$。求导得，\n$$\\frac{d x_{h}}{dt}=\\exp\\!\\left(-\\frac{\\omega_{0}}{2Q}t\\right)\\left[-\\frac{\\omega_{0}}{2Q}C\\cos(\\omega_{d} t)-\\frac{\\omega_{0}}{2Q}D\\sin(\\omega_{d} t)-\\omega_{d}C\\sin(\\omega_{d} t)+\\omega_{d}D\\cos(\\omega_{d} t)\\right],$$\n并使用 $\\frac{d x_{1}}{dt}(0)=0$ 得到 $\\frac{d x_{h}}{dt}(0)=0$，因此\n$$-\\frac{\\omega_{0}}{2Q}C+\\omega_{d}D=0 \\;\\Rightarrow\\; D=\\frac{\\omega_0 C}{2Q\\omega_d} = -\\frac{\\omega_0}{2Q\\omega_d}.$$\n所以，\n$$x_{1}(t)=1-\\exp\\!\\left(-\\frac{\\omega_{0}}{2Q}t\\right)\\left[\\cos(\\omega_{d} t)+\\frac{\\omega_{0}}{2Q\\,\\omega_{d}}\\sin(\\omega_{d} t)\\right].$$\n根据给定的参数 $\\omega_{0}=100\\sqrt{2}$ 和 $Q=1/\\sqrt{3}$，我们有\n$$\\frac{\\omega_{0}}{2Q}=50\\sqrt{6}, \\qquad \\omega_{d}=\\omega_{0}\\sqrt{1-\\frac{1}{4Q^{2}}}=50\\sqrt{2}, \\qquad \\frac{\\omega_{0}}{2Q\\,\\omega_{d}}=\\sqrt{3}.$$\n因此，当 $t\\ge 0$ 时，低通输出 $v_{LP}(t)=x_{1}(t)$ 为\n$$v_{LP}(t)=1-\\exp\\!\\left(-50\\sqrt{6}\\,t\\right)\\left[\\cos\\!\\left(50\\sqrt{2}\\,t\\right)+\\sqrt{3}\\,\\sin\\!\\left(50\\sqrt{2}\\,t\\right)\\right].$$\n这满足 $v_{LP}(0)=0$、$\\frac{d v_{LP}}{dt}(0)=0$ 和 $\\lim_{t\\to\\infty}v_{LP}(t)=1$，正如一个单位增益低通滤波器的单位阶跃响应所要求的那样。", "answer": "$$\\boxed{1-\\exp\\!\\left(-50\\sqrt{6}\\,t\\right)\\left[\\cos\\!\\left(50\\sqrt{2}\\,t\\right)+\\sqrt{3}\\,\\sin\\!\\left(50\\sqrt{2}\\,t\\right)\\right]}$$", "id": "1334679"}, {"introduction": "一个设计优良的滤波器不仅在其最终输出端表现稳定，其所有内部节点也应如此。本练习将我们的关注点从瞬态响应转移到中心频率 $\\omega_0$ 下的稳态正弦响应。通过比较高通、带通和低通输出端的电压摆幅，我们将获得对实际电路设计的关键洞察，例如如何避免运算放大器饱和，这对于构建稳健的系统至关重要。[@problem_id:1334697]", "problem": "一个模拟滤波器电路由三个理想运算放大器（op-amps）（标记为 OA1、OA2 和 OA3）以及若干个电阻和电容实现。该配置构成一个状态变量滤波器。各运算放大器的作用如下：\n\n- OA2 被配置为一个反相积分器。其输入为 OA1 的输出，记作 $V_1$。该积分器由一个输入电阻 $R_2$ 和一个反馈电容 $C_2$ 构成。OA2 的输出记作 $V_2$。\n- OA3 也被配置为一个反相积分器。其输入为 OA2 的输出 $V_2$。该积分器由一个输入电阻 $R_3$ 和一个反馈电容 $C_3$ 构成。OA3 的输出记作 $V_3$。\n- OA1 是一个求和放大器，它提供闭合环路所需的必要反馈，并接收外部输入信号 $V_{in}$。其具体配置决定了滤波器的整体特性。它的设计使得 $V_1$ 作为高通（HP）输出，$V_2$ 作为带通（BP）输出，$V_3$ 作为低通（LP）输出。\n\n这两个积分器级的元件值如下：\n- $R_2 = 10.0\\ \\text{k}\\Omega$\n- $C_2 = 10.0\\ \\text{nF}$\n- $R_3 = 25.0\\ \\text{k}\\Omega$\n- $C_3 = 10.0\\ \\text{nF}$\n\n该滤波器由一个正弦输入信号 $V_{in}(t)$ 驱动，其频率被精确调谐至滤波器的中心频率 $\\omega_0$。在此特定输入频率下，测得三个运算放大器的输出电压峰值幅度分别为 $V_{p1}$、$V_{p2}$ 和 $V_{p3}$，分别对应于 OA1、OA2 和 OA3。\n\n计算在三个运算放大器中观测到的最大输出电压峰值与最小输出电压峰值的比值，即 $\\frac{\\max(V_{p1}, V_{p2}, V_{p3})}{\\min(V_{p1}, V_{p2}, V_{p3})}$。将最终答案四舍五入至三位有效数字。", "solution": "令拉普拉斯变量为 $s$，并考虑理想反相积分器：\n- OA2（从 $V_{1}$ 到 $V_{2}$）：$V_{2}(s) = -\\dfrac{1}{s R_{2} C_{2}}\\,V_{1}(s)$。\n- OA3（从 $V_{2}$ 到 $V_{3}$）：$V_{3}(s) = -\\dfrac{1}{s R_{3} C_{3}}\\,V_{2}(s)$。\n\n级联这两个关系式，可得到三个输出之间的固定内部比率：\n$$\nV_{2}(s) = -\\frac{1}{s R_{2} C_{2}}\\,V_{1}(s),\\qquad\nV_{3}(s) = \\frac{1}{s^{2} R_{2} C_{2} R_{3} C_{3}}\\,V_{1}(s).\n$$\n\n对于一个规范的状态变量滤波器，其自然（中心）频率由积分器常数设定为\n$$\n\\omega_{0} = \\sqrt{\\frac{1}{R_{2} C_{2} R_{3} C_{3}}}.\n$$\n\n在正弦稳态下，当 $s=\\mathrm{j}\\omega$ 时，在 $\\omega=\\omega_{0}$ 处的幅值关系可直接由上述内部比率得出：\n$$\n\\left|\\frac{V_{2}}{V_{1}}\\right|_{\\omega=\\omega_{0}} = \\frac{1}{\\omega_{0} R_{2} C_{2}}\n= \\sqrt{\\frac{R_{3} C_{3}}{R_{2} C_{2}}},\\qquad\n\\left|\\frac{V_{3}}{V_{1}}\\right|_{\\omega=\\omega_{0}} = \\frac{1}{\\omega_{0}^{2} R_{2} C_{2} R_{3} C_{3}} = 1.\n$$\n\n因此，在 $\\omega=\\omega_{0}$ 处，峰值幅度满足\n$$\nV_{p3} = V_{p1},\\qquad V_{p2} = \\sqrt{\\frac{R_{3} C_{3}}{R_{2} C_{2}}}\\,V_{p1}.\n$$\n\n由于 $V_{p1}=V_{p3}$，所求比率为 $V_{p2}/V_{p1}$ 与 $V_{p1}/V_{p2}$ 中的较大者，即 $\\max\\left(\\sqrt{\\frac{R_3 C_3}{R_2 C_2}}, \\sqrt{\\frac{R_2 C_2}{R_3 C_3}}\\right)$。\n\n根据给定的数值 $R_{2}=10.0\\,\\text{k}\\Omega$，$C_{2}=10.0\\,\\text{nF}$，$R_{3}=25.0\\,\\text{k}\\Omega$，$C_{3}=10.0\\,\\text{nF}$，\n$$\n\\frac{R_{3} C_{3}}{R_{2} C_{2}} = \\frac{25.0\\times 10.0}{10.0\\times 10.0} = 2.5.\n$$\n由于该值大于1，所求比率为\n$$\n\\sqrt{2.5} \\approx 1.58\\quad\\text{（保留三位有效数字。）}\n$$", "answer": "$$\\boxed{1.58}$$", "id": "1334697"}, {"introduction": "稳定滤波器与振荡器之间的界限，本质上是由系统极点的位置决定的。本练习将探索这一边界，展示如何通过特定配置，让状态变量滤波器产生持续的振荡。通过分析使系统极点恰好位于虚轴上的条件，您将能确定电路的振荡频率，从而深刻理解滤波与信号产生之间的内在联系。[@problem_id:1334688]", "problem": "一个设计用作稳定正弦波发生器的模拟电路，采用状态变量拓扑结构，并使用了三个理想运算放大器（op-amp）构建。该电路由两个相同的反相积分器级和一个反相加法放大器级组成，并连接成一个闭环。\n\n其配置如下：\n- 加法放大器的输出表示为 $V_1$。\n- 第一个积分器的输入为 $V_1$，其输出为 $V_2$。\n- 第二个积分器的输入为 $V_2$，其输出为 $V_3$。\n- 输出 $V_2$ 和 $V_3$ 同时作为输入反馈到加法放大器，以生成 $V_1$ 并闭合环路。\n\n元件详情：\n- 每个反相积分器由一个输入电阻 $R$ 和一个反馈电容 $C$ 构成。\n- 反相加法放大器的反相输入端连接如下：信号 $V_2$ 通过一个电阻 $R_Q$ 输入，信号 $V_3$ 通过一个电阻 $R_F$ 输入。该加法放大器的反馈电阻也是 $R_F$。\n\n通过调节电阻 $R_Q$ 的值，该电路被调谐以产生持续、稳定的正弦振荡。当满足此条件时，系统特征方程的极点正好位于复s平面的虚轴上。\n\n求此持续振荡的角频率 $\\omega$。请用 $R$、$C$ 和 $R_F$ 表示您的答案的符号表达式。", "solution": "我们使用理想运算放大器关系，在拉普拉斯域中对每个模块进行建模。对于一个输入电阻为 $R$、反馈电容为 $C$ 的反相积分器，其传递函数为 $V_{\\text{out}}(s) = -\\frac{1}{R C s} V_{\\text{in}}(s)$。将此应用于级联的积分器可得\n$$\nV_{2}(s) = -\\frac{1}{R C s} V_{1}(s), \\quad V_{3}(s) = -\\frac{1}{R C s} V_{2}(s) = \\frac{1}{(R C s)^{2}} V_{1}(s).\n$$\n反馈电阻为 $R_{F}$，输入 $V_{2}$ 通过 $R_{Q}$，输入 $V_{3}$ 通过 $R_{F}$ 的反相加法放大器可得\n$$\nV_{1}(s) = -\\frac{R_{F}}{R_{Q}} V_{2}(s) - \\frac{R_{F}}{R_{F}} V_{3}(s) = -\\frac{R_{F}}{R_{Q}} V_{2}(s) - V_{3}(s).\n$$\n将 $V_{2}(s)$ 和 $V_{3}(s)$ 用 $V_{1}(s)$ 表示并代入，\n$$\nV_{1}(s) = -\\frac{R_{F}}{R_{Q}}\\left(-\\frac{1}{R C s} V_{1}(s)\\right) - \\frac{1}{(R C s)^{2}} V_{1}(s),\n$$\n该式可简化（等式两边同除以 $V_{1}(s)$ 并乘以 $(R C s)^{2}$）为特征方程\n$$\n(R C)^{2} s^{2} - \\frac{R_{F}}{R_{Q}} (R C) s + 1 = 0,\n$$\n或等效为\n$$\ns^{2} - \\frac{R_{F}}{R_{Q} R C} s + \\frac{1}{(R C)^{2}} = 0.\n$$\n对于持续的正弦振荡，极点必须位于虚轴上，这对于一个二阶多项式而言，要求 $s$ 项的系数为零。因此，调谐条件为 $\\frac{R_{F}}{R_{Q} R C} = 0$，这对应于理想化的 $R_{Q} \\to \\infty$。在此条件下，特征方程简化为\n$$\ns^{2} + \\frac{1}{(R C)^{2}} = 0,\n$$\n其根为 $s = \\pm j \\frac{1}{R C}$。因此，持续振荡的角频率为\n$$\n\\omega = \\frac{1}{R C}.\n$$\n在振荡条件下，此结果与 $R_{F}$ 和 $R_{Q}$ 无关。", "answer": "$$\\boxed{\\frac{1}{R C}}$$", "id": "1334688"}]}