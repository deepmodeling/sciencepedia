{"hands_on_practices": [{"introduction": "非反相放大器是模拟电路设计中的基本构件。在理想模型中，我们假设运算放大器的输入端不吸取任何电流，但实际器件存在有限的输入电阻 $R_{id}$。这个电阻会加载反馈网络，尤其是在反馈电阻值较大时，从而引入可预测的增益误差。本练习将引导你量化这一效应，并确定为了满足特定设计精度要求，运算放大器需要具备的最低输入电阻规格。[@problem_id:1303053]", "problem": "一个传感器前置放大器正在使用同相运算放大器（op-amp）配置进行设计。反馈网络包含一个阻值为 $R_1 = 10.0 \\, \\text{k}\\Omega$ 的电阻，连接在运放的反相输入端和地之间；以及一个阻值为 $R_2 = 150.0 \\, \\text{k}\\Omega$ 的电阻，连接在输出端和反相输入端之间。\n\n在此初步分析中，除了其有限的差分输入电阻 $R_{id}$ 外，该运放可被视为在所有方面都是理想的（无限开环增益，零输出电阻）。为了评估这种非理想性的影响，采用了一个简化模型，其中差分输入电阻 $R_{id}$ 被视为与电阻 $R_1$ 有效并联。\n\n确定所需的最小差分输入电阻 $R_{id}$，以确保闭环电压增益相对于理想增益的相对误差的绝对值不超过 0.500%。答案以兆欧（$\\text{M}\\Omega$）为单位表示，并四舍五入到三位有效数字。", "solution": "对于同相放大器，其理想闭环增益为\n$$\nA_{\\text{ideal}}=1+\\frac{R_{2}}{R_{1}}.\n$$\n当有限的差分输入电阻 $R_{id}$ 与 $R_1$ 并联建模时，等效反馈电阻变为\n$$\nR_{1,\\text{eff}}=R_{1}\\parallel R_{id}=\\frac{R_{1}R_{id}}{R_{1}+R_{id}}.\n$$\n那么，实际的闭环增益为\n$$\nA=1+\\frac{R_{2}}{R_{1,\\text{eff}}}=1+R_{2}\\left(\\frac{1}{R_{1,\\text{eff}}}\\right)\n=1+R_{2}\\left(\\frac{R_{1}+R_{id}}{R_{1}R_{id}}\\right)\n=1+\\frac{R_{2}}{R_{1}}+\\frac{R_{2}}{R_{id}}.\n$$\n因此，相对于理想增益的增益误差为\n$$\nA-A_{\\text{ideal}}=\\frac{R_{2}}{R_{id}}.\n$$\n相对误差的绝对值为\n$$\n\\epsilon=\\left|\\frac{A-A_{\\text{ideal}}}{A_{\\text{ideal}}}\\right|\n=\\frac{R_{2}}{R_{id}}\\cdot\\frac{1}{1+\\frac{R_{2}}{R_{1}}}.\n$$\n要求 $\\epsilon\\leq 0.005$ 可得\n$$\nR_{id}\\geq \\frac{R_{2}}{0.005\\left(1+\\frac{R_{2}}{R_{1}}\\right)}.\n$$\n当 $R_{1}=10.0\\times 10^{3} \\, \\Omega$ 且 $R_{2}=150.0\\times 10^{3} \\, \\Omega$ 时，我们有 $\\frac{R_{2}}{R_{1}}=15$ 和 $1+\\frac{R_{2}}{R_{1}}=16$，因此\n$$\nR_{id,\\min}=\\frac{150.0\\times 10^{3}}{0.005\\times 16}\n=\\frac{150.0\\times 10^{3}}{0.08}=1.875\\times 10^{6} \\, \\Omega.\n$$\n以兆欧为单位表示并四舍五入到三位有效数字，结果为 $1.88$。", "answer": "$$\\boxed{1.88}$$", "id": "1303053"}, {"introduction": "接下来，我们将注意力转向运算放大器的输出端。一个非理想运放的输出并非完美的电压源，其内部存在一个小的输出电阻 $r_o$。这意味着，当放大器驱动一个负载时，其输出引脚上的实际电压会低于内部增益级产生的电压。本练习将带你深入运放的等效模型，通过计算驱动特定负载所需的内部电压源大小，来具体感受输出电阻 $r_o$ 上“隐藏”的电压降。[@problem_id:1303076]", "problem": "一个反相放大器由一个非理想运算放大器（op-amp）、一个输入电阻 $R_1$ 和一个反馈电阻 $R_f$ 构成。该运算放大器的同相输入端接地。一个负载电阻 $R_L$ 连接在输出端和地之间。\n\n该非理想运算放大器的模型具有有限的开环电压增益 $A_{ol}$、有限的输入电阻 $r_i$（在反相和同相输入端之间测量）以及非零的输出电阻 $r_o$。该运算放大器模型的输出由一个值为 $A_{ol}v_d$ 的受控电压源与输出电阻 $r_o$ 串联组成，其中 $v_d$ 是差分输入电压 $(v_+ - v_-)$。\n\n电路参数如下：\n- 输入电阻, $R_1 = 10.0 \\, \\text{k}\\Omega$\n- 反馈电阻, $R_f = 100.0 \\, \\text{k}\\Omega$\n- 负载电阻, $R_L = 2.0 \\, \\text{k}\\Omega$\n- 开环增益, $A_{ol} = 2.0 \\times 10^5 \\text{ V/V}$\n- 输入电阻, $r_i = 2.0 \\text{ M}\\Omega$\n- 输出电阻, $r_o = 50.0 \\, \\Omega$\n\n在一个特定的稳态直流工作条件下，测得负载电阻 $R_L$ 两端的电压恰好为 $v_o = -4.00 \\text{ V}$。\n\n计算在这些条件下内部受控源所需的电压 $A_{ol}v_d$。答案以伏特为单位，并四舍五入到三位有效数字。", "solution": "设输出节点电压为 $v_{o}$（给定为 $-4.00$），反相输入节点电压为 $v_{-}$，差分输入电压为 $v_{d} = v_{+} - v_{-}$。由于同相输入端接地，因此 $v_{+} = 0$，所以 $v_{-} = -v_{d}$。\n\n将运算放大器输出建模为一个值为 $A_{ol}v_{d}$ 的受控源与 $r_{o}$ 串联。在输出节点应用KCL（以流出节点的电流为正），得到\n$$\n\\frac{v_{o}}{R_{L}} + \\frac{v_{o} - v_{-}}{R_{f}} + \\frac{v_{o} - A_{ol}v_{d}}{r_{o}} = 0.\n$$\n使用 $v_{-} = -v_{d}$，上式变为\n$$\n\\frac{A_{ol}v_{d} - v_{o}}{r_{o}} = \\frac{v_{o}}{R_{L}} + \\frac{v_{o} + v_{d}}{R_{f}}.\n$$\n两边同乘以 $r_{o}$ 并合并含 $v_{d}$ 的项：\n$$\nA_{ol}v_{d} - v_{o} = r_{o}\\frac{v_{o}}{R_{L}} + r_{o}\\frac{v_{o} + v_{d}}{R_{f}}\n$$\n$$\nA_{ol}v_{d} - v_{o} = r_{o}\\frac{v_{o}}{R_{L}} + r_{o}\\frac{v_{o}}{R_{f}} + r_{o}\\frac{v_{d}}{R_{f}}\n$$\n$$\nv_{d}\\left(A_{ol} - \\frac{r_{o}}{R_{f}}\\right) = v_{o}\\left(1 + \\frac{r_{o}}{R_{L}} + \\frac{r_{o}}{R_{f}}\\right).\n$$\n因此，\n$$\nv_{d} = v_{o}\\,\\frac{1 + \\frac{r_{o}}{R_{L}} + \\frac{r_{o}}{R_{f}}}{A_{ol} - \\frac{r_{o}}{R_{f}}}, \\quad\nA_{ol}v_{d} = v_{o}\\, \\frac{A_{ol}\\left(1 + \\frac{r_{o}}{R_{L}} + \\frac{r_{o}}{R_{f}}\\right)}{A_{ol} - \\frac{r_{o}}{R_{f}}}.\n$$\n\n代入给定值 $v_{o} = -4.00$, $R_{L} = 2.0\\times 10^{3}$, $R_{f} = 1.0\\times 10^{5}$, $A_{ol} = 2.0\\times 10^{5}$, $r_{o} = 50.0$：\n$$\n\\frac{r_{o}}{R_{L}} = \\frac{50.0}{2000} = 0.025,\\quad \\frac{r_{o}}{R_{f}} = \\frac{50.0}{100000} = 5.0\\times 10^{-4},\n$$\n$$\n1 + \\frac{r_{o}}{R_{L}} + \\frac{r_{o}}{R_{f}} = 1.0255,\\quad A_{ol} - \\frac{r_{o}}{R_{f}} = 200000 - 5.0\\times 10^{-4} = 199999.9995.\n$$\n因此，\n$$\nA_{ol}v_{d} = (-4.00)\\,\\frac{200000\\times 1.0255}{199999.9995} \\approx -4.102000010 \\, \\text{V}.\n$$\n四舍五入到三位有效数字，结果为 $-4.10$。", "answer": "$$\\boxed{-4.10}$$", "id": "1303076"}, {"introduction": "理论联系实践是工程学的核心。工程师在现实中如何确定一个给定运算放大器的输出电阻 $r_o$ 呢？本练习模拟了一种在实验室中广泛使用的测量技术，即利用电压跟随器和两个不同的负载电阻。通过测量更换负载（即改变输出电流）时输出电压的微小变化，我们可以反推出内部输出电阻的值，从而将抽象的 $r_o$ 概念转化为一个可测量的物理量。[@problem_id:1303063]", "problem": "一位电子工程师的任务是表征一个非理想运算放大器 (op-amp) 的特性。已知该运放具有有限的开环直流增益 $A_0$ 和非零的内部输出电阻 $r_o$。为便于本次测量，假设其输入阻抗为无穷大。\n\n该工程师将此运放配置为电压跟随器（单位增益缓冲器）。为了确定 $r_o$，他们使用一个恒定的直流输入信号进行了一个两步实验。\n\n1.  首先，将一个阻值为 $R_{L1} = 100 \\, \\Omega$ 的负载电阻连接到跟随器的输出端，测得输出电压为 $V_{out1} = 4.9826 \\text{ V}$。\n2.  其次，用一个新的阻值为 $R_{L2} = 50.0 \\, \\Omega$ 的负载电阻替换第一个负载电阻，测得输出电压为 $V_{out2} = 4.9753 \\text{ V}$。\n\n给定该运放的开环直流增益为 $A_0 = 500$。\n\n使用这些测量数据，计算该运放的内部输出电阻 $r_o$。以欧姆为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "将该运放建模为一个开环增益为 $A_{0}$ 的压控电压源与一个内部输出电阻 $r_{o}$ 串联。在单位增益缓冲器中，反相输入端感测外部输出节点，因此内部源电压为 $A_{0}(V_{in}-V_{out})$，该电压在 $r_{o}$ 和负载 $R_{L}$ 上分压。根据分压法则，\n$$\nV_{out}=\\frac{R_{L}}{r_{o}+R_{L}}\\,A_{0}\\,(V_{in}-V_{out}).\n$$\n求解闭环增益，\n$$\n\\frac{V_{out}}{V_{in}}=\\frac{\\frac{A_{0}R_{L}}{r_{o}+R_{L}}}{1+\\frac{A_{0}R_{L}}{r_{o}+R_{L}}}\n=\\frac{A_{0}R_{L}}{r_{o}+R_{L}(1+A_{0})}.\n$$\n对于两个负载 $R_{L1}$ 和 $R_{L2}$ 以及相同的 $V_{in}$，\n$$\nV_{out1}=V_{in}\\frac{A_{0}R_{L1}}{r_{o}+R_{L1}(1+A_{0})},\\qquad\nV_{out2}=V_{in}\\frac{A_{0}R_{L2}}{r_{o}+R_{L2}(1+A_{0})}.\n$$\n取比值并定义 $m\\equiv \\frac{V_{out1}}{V_{out2}}$，\n$$\nm=\\frac{R_{L1}}{R_{L2}}\\cdot\\frac{r_{o}+R_{L2}(1+A_{0})}{r_{o}+R_{L1}(1+A_{0})}.\n$$\n从此式中求解 $r_{o}$，\n$$\nm\\bigl(r_{o}+R_{L1}(1+A_{0})\\bigr)=\\frac{R_{L1}}{R_{L2}}\\bigl(r_{o}+R_{L2}(1+A_{0})\\bigr),\n$$\n$$\nr_{o}\\left(m-\\frac{R_{L1}}{R_{L2}}\\right)=R_{L1}(1+A_{0})(1-m),\n$$\n$$\nr_{o}=R_{L1}(1+A_{0})\\,\\frac{1-m}{m-\\frac{R_{L1}}{R_{L2}}}.\n$$\n代入给定值 $A_{0}=500$，$R_{L1}=100$，$R_{L2}=50.0$，$V_{out1}=4.9826$，$V_{out2}=4.9753$。可以方便地写成\n$$\nr_{o}=R_{L1}(1+A_{0})\\,\\frac{V_{out1}-V_{out2}}{2V_{out2}-V_{out1}},\n$$\n这是通过将 $m$ 替换为 $\\frac{V_{out1}}{V_{out2}}$ 并化简得到的。数值计算如下，\n$$\nV_{out1}-V_{out2}=0.0073,\\qquad 2V_{out2}-V_{out1}=4.9680,\n$$\n$$\nr_{o}=100\\cdot 501\\cdot \\frac{0.0073}{4.968}\\approx 73.617 \\, \\Omega.\n$$\n四舍五入到三位有效数字， $r_{o}=73.6$ 欧姆。", "answer": "$$\\boxed{73.6}$$", "id": "1303063"}]}