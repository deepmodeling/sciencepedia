{"hands_on_practices": [{"introduction": "理解输入失调电压 ($V_{OS}$) 的第一步是认识到它会被放大器自身的增益放大。本练习将通过一个标准的同相放大器电路，带你计算由 $V_{OS}$ 引起的输出直流误差。这个实践能帮助你巩固“失调电压被视为一个与信号一同被放大的输入源”这一核心概念 [@problem_id:1311479]。", "problem": "一位工程师正在使用单个运算放大器（op-amp）为传感器系统构建一个前置放大器电路。该运算放大器配置为同相放大器。反馈电阻 $R_f$ 的值为 $90.0 \\text{ k}\\Omega$，而从反相输入端连接到地的电阻 $R_1$ 的值为 $10.0 \\text{ k}\\Omega$。放大器的输入信号端直接接地。\n\n电路中使用的运算放大器并非理想器件，它具有一种称为输入失调电压 $V_{OS}$ 的特性。这种非理想特性导致即使在输入信号为零时，输出端也会出现非零的直流电压。\n\n您的任务是计算在涉及两个不同运算放大器的两种不同情况下的直流输出电压 $V_{out}$：\n1.  第一个运算放大器的输入失调电压为 $V_{OS} = +2.0 \\text{ mV}$。\n2.  第二个运算放大器的输入失调电压为 $V_{OS} = -2.0 \\text{ mV}$。\n\n请按顺序提供两个计算出的输出电压：首先是 $V_{OS} = +2.0 \\text{ mV}$ 的情况，其次是 $V_{OS} = -2.0 \\text{ mV}$ 的情况。以毫伏（mV）为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "我们考虑一个同相放大器，其反馈网络由从输出端到反相输入端的 $R_{f}$ 和从反相输入端到地的 $R_{1}$ 定义。施加在同相输入端的信号的闭环增益为\n$$\nA_{\\text{cl}}=1+\\frac{R_{f}}{R_{1}}.\n$$\n运算放大器的输入失调电压 $V_{OS}$ 可以建模为一个与同相输入端串联的小直流电压源，因此当外部输入接地时，闭环放大器的有效输入即为 $V_{OS}$。因此，直流输出失调为\n$$\nV_{\\text{out}}=A_{\\text{cl}}\\,V_{OS}=\\left(1+\\frac{R_{f}}{R_{1}}\\right)V_{OS}.\n$$\n代入给定的电阻值 $R_{f}=90.0\\text{ k}\\Omega$ 和 $R_{1}=10.0\\text{ k}\\Omega$，可得\n$$\n1+\\frac{R_{f}}{R_{1}}=1+\\frac{90.0}{10.0}=1+9=10.\n$$\n于是，\n$$\nV_{\\text{out}}=10\\,V_{OS}.\n$$\n对于 $V_{OS}=+2.0\\text{ mV}$：\n$$\nV_{\\text{out}}=10\\times 2.0=20.0\\text{ mV}.\n$$\n对于 $V_{OS}=-2.0\\text{ mV}$：\n$$\nV_{\\text{out}}=10\\times(-2.0)=-20.0\\text{ mV}.\n$$\n以毫伏为单位，四舍五入到三位有效数字，结果为 $20.0$ 和 $-20.0$。", "answer": "$$\\boxed{\\begin{pmatrix}20.0 & -20.0\\end{pmatrix}}$$", "id": "1311479"}, {"introduction": "输入失调电压的影响在积分器等动态电路中尤为显著，它不再仅仅是一个静态的直流误差。本练习模拟了一个由于恒定的 $V_{OS}$ 导致积分器输出电压随时间线性漂移，并最终达到饱和的过程。通过这个计算，你将深刻理解为何在设计需要长时间稳定工作的积分或采样保持电路时，必须严格控制输入失调电压 [@problem_id:1311458]。", "problem": "一个积分器电路由一个运算放大器（op-amp）、一个电阻 $R$ 和一个电容 $C$ 构成。该电阻从电路的输入端连接到运放的反相输入端。电容构成一个从运放输出到其反相输入端的反馈路径。运放的同相输入端直接接地。对于一个特定的应用，电路的输入端也保持在接地电位（$v_{in} = 0$）。\n\n该运放，在其他方面被认为是理想的（无限开环增益、无限输入阻抗、零输出阻抗），但表现出一个恒定的直流输入失调电压 $V_{OS}$。为了分析，这个失调电压可以被建模为一个与同相输入端串联的小电压源。在时间 $t=0$ 时，电容器完全放电。运放由电源供电，其输出将在 $\\pm V_{sat}$ 处饱和。\n\n给定元件值 $R = 100 \\text{ k}\\Omega$，$C = 10.0\\,\\mu\\text{F}$，$V_{OS} = 2.50 \\text{ mV}$ 和 $V_{sat} = 12.0 \\text{ V}$，计算输出电压的幅值首次达到饱和水平时的时间。将您的答案以秒为单位表示，并四舍五入到三位有效数字。", "solution": "因为除了在同相输入端建模为一个串联源的直流输入失调外，该运放是理想的，所以在未饱和时，它满足虚短条件 $v_{-}=v_{+}$。由于外部同相端接地且存在串联的失调源 $V_{OS}$，内部同相节点的电位为 $v_{+}=V_{OS}$，因此 $v_{-}=V_{OS}$。\n\n在反相节点处，应用 KCL（忽略输入偏置电流）。从输入端流向反相节点的电阻电流为\n$$\ni_{R}=\\frac{v_{in}-v_{-}}{R}=\\frac{0 - V_{OS}}{R}=-\\frac{V_{OS}}{R}.\n$$\n从反相节点流向输出的电容电流为\n$$\ni_{C}=C\\frac{d}{dt}\\big(v_{-}-v_{out}\\big)=C\\frac{d}{dt}\\big(V_{OS}-v_{out}\\big)=-C\\frac{dv_{out}}{dt}.\n$$\n在反相节点处的 KCL 给出 $i_{R}+i_{C}=0$，因此\n$$\n-\\frac{V_{OS}}{R}-C\\frac{dv_{out}}{dt}=0 \\;\\;\\Rightarrow\\;\\; \\frac{dv_{out}}{dt}=-\\frac{V_{OS}}{R C}.\n$$\n根据初始条件 $v_{out}(0)=0$（电容器初始未充电），输出为\n$$\nv_{out}(t)=-\\frac{V_{OS}}{R C}\\,t.\n$$\n当 $|v_{out}(t)|=V_{sat}$ 时，幅值首次达到饱和水平，得出\n$$\n\\frac{|V_{OS}|}{R C}\\,t=V_{sat}\\;\\;\\Rightarrow\\;\\; t=\\frac{R C\\,V_{sat}}{|V_{OS}|}.\n$$\n代入给定值 $R=100 \\text{ k}\\Omega=100\\times 10^{3}\\,\\Omega$，$C=10.0\\,\\mu\\text{F}=10.0\\times 10^{-6}\\,\\text{F}$，$V_{OS}=2.50 \\times 10^{-3}\\,\\text{V}$ 和 $V_{sat}=12.0\\,\\text{V}$。首先计算\n$$\nR C=(100\\times 10^{3})(10.0\\times 10^{-6})=\\;1.00\\;\\text{s},\n$$\n因此\n$$\nt=\\frac{(1.00\\;\\text{s})\\,(12.0)}{2.50\\times 10^{-3}}=4.80\\times 10^{3}\\;\\text{s}.\n$$\n四舍五入到三位有效数字，时间为 $4.80 \\times 10^{3}$ 秒。", "answer": "$$\\boxed{4.80 \\times 10^{3}}$$", "id": "1311458"}, {"introduction": "从分析误差到设计解决方案，这个高阶问题将我们带入一个集成了数字控制的精密模拟系统。本练习要求你为一个可编程增益放大器 (PGA) 的数字失调校准环路确定关键参数，即计算数字-模拟转换器 (DAC) 所需的最小位数 ($B$)，以保证在所有增益设置下残余失调都满足精度要求。这个实践将模拟电路的非理想性与现代数字校准技术紧密地联系在一起，展示了系统级设计的思维方式 [@problem_id:1311452]。", "problem": "一个精密数据采集系统使用可编程增益放大器（PGA）来调理输入信号。该PGA具有一组可选择的2的幂次方的增益 $G$，其取值集合为 $\\{1, 2, 4, 8, 16, 32\\}$。放大器本身具有一个固有的输入参考失调电压 $V_{OS,int}$，已知在所有工作条件和增益设置下，其最差情况下的幅值为 $|V_{OS,int}|_{max} = 15 \\text{ mV}$。\n\n为了抵消这种失调，实现了一个数字失调消除反馈回路。该回路使用一个 $B$ 位双极性数模转换器（DAC）来生成一个校正电压 $V_{corr}$。该DAC的输出可以覆盖从 $-V_{ref}$ 到 $+V_{ref}$ 的对称范围，并且该校正电压在PGA的输入端从信号路径中被有效减去。\n\nPGA的设计包含一个节能特性，即放大器的电源电压 $\\pm V_{DD}$ 会根据所选增益 $G$ 进行动态调整。DAC的参考电压 $V_{ref}$ 与此电源直接相关，使得 $V_{ref}(G) = V_{DD}(G)$。其关系由公式 $V_{DD}(G) = V_{base} + k \\cdot G$ 给出，其中 $V_{base} = 1.0 \\text{ V}$ 且 $k = 0.1 \\text{ V}$。\n\n为使系统正常工作，对于所有可能的增益设置，必须满足两个条件：\n1. DAC的输出范围必须足以抵消可能的最大固有失调电压。\n2. 由DAC的有限分辨率引起的最差情况下的残余输入参考失调，必须严格小于 $V_{res,spec} = 50 \\text{ \\mu V}$。\n\n确定DAC所需的最小整数位数 $B$，以使其在PGA的整个增益设置范围内满足这两个条件。", "solution": "DAC必须能抵消最差情况幅值为 $|V_{OS,int}|_{max} = 15 \\times 10^{-3} \\text{ V}$ 的输入参考失调 $V_{OS,int}$，并留下一个对于所有 $G \\in \\{1,2,4,8,16,32\\}$ 都严格小于 $V_{res,spec} = 50 \\times 10^{-6} \\text{ V}$ 的最差情况残余失调。DAC的参考电压通过 $V_{ref}(G) = V_{DD}(G) = V_{base} + k G$ 跟踪增益，其中 $V_{base} = 1.0 \\text{ V}$ 且 $k = 0.1 \\text{ V}$。\n\n首先，确保DAC范围能覆盖所有 $G$ 值下的最差情况失调。最小的参考电压出现在 $G_{min} = 1$ 时，因此\n$$\nV_{ref,min} = V_{base} + k G_{min} = 1.0 + 0.1 \\cdot 1 = 1.1 \\text{ V}.\n$$\n由于 $V_{ref,min} = 1.1 \\text{ V} \\gg 15 \\times 10^{-3} \\text{ V}$，条件 $V_{ref}(G) \\ge |V_{OS,int}|_{max}$ 对于所有 $G$ 都成立。\n\n其次，限制量化带来的残余误差。对于一个覆盖范围为 $[-V_{ref}(G), +V_{ref}(G)]$ 的 $B$ 位双极性DAC，其满量程范围是 $2 V_{ref}(G)$，因此最低有效位（LSB）为\n$$\n\\text{LSB}(G) = \\frac{2 V_{ref}(G)}{2^{B}}.\n$$\n采用最近码选择法，最差情况的残余失调最多为半个LSB：\n$$\nV_{res}(G) \\le \\frac{\\text{LSB}(G)}{2} = \\frac{V_{ref}(G)}{2^{B}}.\n$$\n要求对所有 $G$ 都有 $V_{res}(G) < V_{res,spec}$，可推导出\n$$\n\\frac{V_{ref}(G)}{2^{B}} < V_{res,spec} \\quad \\text{for all } G.\n$$\n由于 $V_{ref}(G)$ 随 $G$ 的增加而增加，最差情况发生在 $G_{max} = 32$ 时：\n$$\nV_{ref,max} = V_{base} + k G_{max} = 1.0 + 0.1 \\cdot 32 = 4.2 \\text{ V}.\n$$\n因此，\n$$\n\\frac{4.2}{2^{B}} < 50 \\times 10^{-6} \\quad \\Longrightarrow \\quad 2^{B} > \\frac{4.2}{50 \\times 10^{-6}} = 8.4 \\times 10^{4}.\n$$\n计算2的幂次方，$2^{16} = 65536 < 8.4 \\times 10^{4}$ 且 $2^{17} = 131072 > 8.4 \\times 10^{4}$。因此，满足该不等式的最小整数 $B$ 是 $B = 17$。\n\n这个选择也满足了上文已经验证过的范围条件，所以 $B=17$ 在所有增益设置下都满足这两个要求。", "answer": "$$\\boxed{17}$$", "id": "1311452"}]}