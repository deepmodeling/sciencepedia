{"hands_on_practices": [{"introduction": "许多现实世界的物理系统，如磁悬浮，本质上是非线性的。为了应用强大的线性控制技术，关键的第一步是通过线性化来近似其在特定工作点附近的行为。本练习将指导您为磁悬浮系统推导线性化传递函数，这对于理解和控制这类固有不稳定的系统至关重要。[@problem_id:1574534]", "problem": "考虑一个用于悬浮质量为 $m$ 的小铁磁球的磁悬浮（Maglev）系统的简化模型。一个电磁铁位于小球的正上方。小球的垂直动力学由重力和来自电磁铁的磁引力共同决定。\n\n设 $y(t)$ 为电磁铁底部与小球顶部之间的气隙大小，规定 $y$ 轴正方向向下。重力为 $F_g = mg$，作用于 $y$ 轴正方向，其中 $g$ 是重力加速度。磁力是引力，作用于 $y$ 轴负方向（向上），其模型由方程 $F_{mag} = k \\frac{i(t)^2}{y(t)^2}$ 给出，其中 $i(t)$ 是流过电磁铁线圈的电流，$k$ 是一个正常数物理常量。\n\n该系统是不稳定的，但可以通过提供一个恒定电流 $i_0$ 使其在特定气隙 $y_0$ 处保持平衡。为了进行控制系统分析，我们关心系统在该平衡点附近小偏差下的行为。设系统的输入为电流的小偏差 $u(t) = i(t) - i_0$，输出为气隙的相应小偏差 $Y(t) = y(t) - y_0$。\n\n假设这些偏差很小，推导系统的线性化传递函数 $G(s) = \\frac{Y(s)}{U(s)}$。用平衡气隙 $y_0$、平衡电流 $i_0$ 和重力加速度 $g$ 来表示你的答案。", "solution": "定义 $y$ 轴正方向向下。小球受到的力包括重力 $F_{g}=mg$（向下，正向）和磁引力 $F_{mag}=k \\frac{i(t)^{2}}{y(t)^{2}}$（向上，在 $y$ 轴正向规定下为负）。根据牛顿第二定律，\n$$\nm \\ddot{y}(t)=mg-\\frac{k\\,i(t)^{2}}{y(t)^{2}}.\n$$\n在 $(y_{0},i_{0})$ 处的平衡满足 $\\ddot{y}=0$，因此\n$$\n0=mg-\\frac{k\\,i_{0}^{2}}{y_{0}^{2}}\\quad\\Rightarrow\\quad mg=\\frac{k\\,i_{0}^{2}}{y_{0}^{2}}.\n$$\n设小偏差为 $Y(t)=y(t)-y_{0}$ 和 $u(t)=i(t)-i_{0}$。定义 $f(y,i)=mg-\\frac{k i^{2}}{y^{2}}$。关于 $(y_{0},i_{0})$ 的线性化动力学为\n$$\nm \\ddot{Y}(t)=\\left.\\frac{\\partial f}{\\partial y}\\right|_{0} Y(t)+\\left.\\frac{\\partial f}{\\partial i}\\right|_{0} u(t),\n$$\n其中\n$$\n\\frac{\\partial f}{\\partial y}=2k\\frac{i^{2}}{y^{3}},\\quad \\frac{\\partial f}{\\partial i}=-2k\\frac{i}{y^{2}}.\n$$\n在 $(y_{0},i_{0})$ 处求值得\n$$\nm \\ddot{Y}(t)=\\frac{2k i_{0}^{2}}{y_{0}^{3}}\\,Y(t)-\\frac{2k i_{0}}{y_{0}^{2}}\\,u(t).\n$$\n使用平衡关系 $mg=\\frac{k i_{0}^{2}}{y_{0}^{2}}$ 消去 $k$：\n$$\nk=\\frac{mg y_{0}^{2}}{i_{0}^{2}}.\n$$\n两边除以 $m$ 得到\n$$\n\\ddot{Y}(t)=\\frac{2g}{y_{0}}\\,Y(t)-\\frac{2g}{i_{0}}\\,u(t).\n$$\n在零初始条件下进行拉普拉斯变换，\n$$\ns^{2}Y(s)=\\frac{2g}{y_{0}}\\,Y(s)-\\frac{2g}{i_{0}}\\,U(s),\n$$\n整理后得到\n$$\n\\frac{Y(s)}{U(s)}=\\frac{-\\frac{2g}{i_{0}}}{s^{2}-\\frac{2g}{y_{0}}}.\n$$\n因此，用 $y_{0}$、$i_{0}$ 和 $g$ 表示的线性化传递函数如上所示。", "answer": "$$\\boxed{\\frac{-\\frac{2 g}{i_{0}}}{s^{2}-\\frac{2 g}{y_{0}}}}$$", "id": "1574534"}, {"introduction": "反馈控制的核心目标之一是改变系统的动态响应以满足性能要求。本练习以一个现代化的软体机器人执行器为例，展示了如何通过设计一个简单的比例控制器来精确调节系统的阻尼特性。通过求解实现临界阻尼的控制器增益 $K_c$，您将亲身体验到控制器参数如何直接塑造系统的瞬态行为。[@problem_id:1574544]", "problem": "一个单腔气动软体执行器被用于一个机械臂中。该执行器的弯曲运动可以被建模为一个简化的二阶线性时不变 (LTI) 系统。输入表压 $P(t)$ 与产生的尖端角度 $\\theta(t)$ (以弧度为单位) 之间的关系由以下微分方程描述：\n$$ J \\frac{d^{2}\\theta(t)}{dt^{2}} + B \\frac{d\\theta(t)}{dt} + K \\theta(t) = \\alpha P(t) $$\n其中，$J$ 代表执行器的有效转动惯量，$B$ 是由材料和空气摩擦引起的粘性阻尼系数，$K$ 是执行器弹性体的有效转动刚度，而 $\\alpha$ 是一个将压力转换为扭矩的常数。所有这些参数 ($J, B, K, \\alpha$) 均为正常数。\n\n为了控制执行器的尖端角度，采用了一个比例控制器。该控制器根据一个恒定的期望角度 $\\theta_{d}$ 与测量的当前角度 $\\theta(t)$ 之间的误差来调节输入压力。控制律由下式给出：\n$$ P(t) = K_{c} (\\theta_{d} - \\theta(t)) $$\n其中 $K_{c}$ 是比例控制器增益。\n\n确定控制器增益 $K_{c}$ 的解析表达式，以确保闭环系统表现出临界阻尼响应。你的答案需要用 $J$、$B$、$K$ 和 $\\alpha$ 来表示。", "solution": "系统动态方程由下式给出\n$$\nJ \\frac{d^{2}\\theta(t)}{dt^{2}} + B \\frac{d\\theta(t)}{dt} + K \\theta(t) = \\alpha P(t),\n$$\n比例控制律为\n$$\nP(t) = K_{c}\\left(\\theta_{d} - \\theta(t)\\right).\n$$\n将控制律代入系统方程：\n$$\nJ \\frac{d^{2}\\theta}{dt^{2}} + B \\frac{d\\theta}{dt} + K \\theta = \\alpha K_{c}\\theta_{d} - \\alpha K_{c}\\theta.\n$$\n将包含 $\\theta$ 的项合并到等式左侧：\n$$\nJ \\frac{d^{2}\\theta}{dt^{2}} + B \\frac{d\\theta}{dt} + \\left(K + \\alpha K_{c}\\right)\\theta = \\alpha K_{c}\\theta_{d}.\n$$\n决定极点位置的闭环动态方程（齐次部分）为\n$$\nJ \\frac{d^{2}\\theta}{dt^{2}} + B \\frac{d\\theta}{dt} + \\left(K + \\alpha K_{c}\\right)\\theta = 0,\n$$\n其特征多项式为\n$$\nJ s^{2} + B s + \\left(K + \\alpha K_{c}\\right) = 0.\n$$\n对于一个临界阻尼二阶系统，其特征多项式必须有重实根，这等价于要求其判别式为零：\n$$\nB^{2} - 4 J \\left(K + \\alpha K_{c}\\right) = 0.\n$$\n求解 $K_{c}$：\n$$\nK + \\alpha K_{c} = \\frac{B^{2}}{4 J}\n\\quad \\Longrightarrow \\quad\n\\alpha K_{c} = \\frac{B^{2}}{4 J} - K\n\\quad \\Longrightarrow \\quad\nK_{c} = \\frac{B^{2} - 4 J K}{4 J \\alpha}.\n$$\n此 $K_{c}$ 值使闭环系统达到临界阻尼。", "answer": "$$\\boxed{\\frac{B^{2}-4 J K}{4 J \\alpha}}$$", "id": "1574544"}, {"introduction": "在许多实际工程问题中，由于成本或物理限制，我们无法测量系统的所有状态变量。本练习引入了状态观测器的概念，它如同一个“虚拟传感器”，能够根据可用的测量数据估算出未测量的状态。您将为一个多区域暖通空调（HVAC）系统设计一个Luenberger观测器，通过极点配置技术确保估计误差能快速收敛，这是现代控制中一项基本且实用的技能。[@problem_id:1574548]", "problem": "考虑一个由供暖、通风和空调 (HVAC) 系统管理的双区域建筑的简化热模型。区域1是一个有显著内部生热的服务器机房，区域2是一个相邻的办公空间。该系统的热动态由以下耦合线性微分方程描述，其中所有温度单位为开尔文 (K)，时间单位为秒 (s)，能量单位为焦耳 (J)，功率单位为瓦特 (W)：\n\n$C_1 \\frac{dT_1}{dt} = -K_{1a}(T_1 - T_a) - K_{12}(T_1 - T_2) - \\alpha(T_1 - T_a) + u_1(t)$\n$C_2 \\frac{dT_2}{dt} = -K_{2a}(T_2 - T_a) + K_{12}(T_1 - T_2) + \\alpha(T_1 - T_2)$\n\n此处，$T_1(t)$ 和 $T_2(t)$ 分别是区域1和区域2的温度。$T_a$ 是恒定的外部环境温度。控制输入 $u_1(t)$ 代表由HVAC系统和内部电子设备添加到区域1的净热率。系统参数如下：\n- 区域1的热容：$C_1 = 1.0 \\times 10^5 \\text{ J/K}$\n- 区域2的热容：$C_2 = 1.75 \\times 10^5 \\text{ J/K}$\n- 区域1到环境的热导：$K_{1a} = 150 \\text{ W/K}$\n- 区域2到环境的热导：$K_{2a} = 175 \\text{ W/K}$\n- 区域间的热导：$K_{12} = 200 \\text{ W/K}$\n- 因从区域1到区域2的单向气流引起的对流传热系数：$\\alpha = 150 \\text{ W/K}$\n\n该系统将基于状态反馈进行控制，但只有一个传感器可用于测量区域2的温度。设计一个 Luenberger 观测器来估计两个区域的温度。令状态变量为与环境温度的偏差：$x_1 = T_1 - T_a$ 和 $x_2 = T_2 - T_a$。状态空间表示为 $\\dot{\\mathbf{x}} = A\\mathbf{x} + B u_1(t)$，测量值为 $y = x_2$。\n\n你的任务是确定全状态观测器的增益向量 $L = \\begin{pmatrix} L_1 \\\\ L_2 \\end{pmatrix}$，其动态为 $\\dot{\\hat{\\mathbf{x}}} = A\\hat{\\mathbf{x}} + B u_1(t) + L(y - \\hat{y})$。设计观测器，使得观测器误差动态的特征值 (极点) 配置在 $-0.010 \\text{ s}^{-1}$ 和 $-0.012 \\text{ s}^{-1}$。\n\n将增益向量 $L$ 的分量表示为行矩阵 $\\begin{pmatrix} L_1 & L_2 \\end{pmatrix}$，其值的单位为 $\\text{s}^{-1}$。", "solution": "定义偏差状态 $x_{1} = T_{1} - T_{a}$ 和 $x_{2} = T_{2} - T_{a}$。由于 $T_{a}$ 是常数，因此 $\\dot{x}_{i} = \\dot{T}_{i}$。将给定的动态方程用 $x_{1},x_{2}$ 重写：\n$$\nC_{1}\\dot{x}_{1} = -(K_{1a}+\\alpha)x_{1} - K_{12}(x_{1}-x_{2}) + u_{1}(t)\n= -(K_{1a}+K_{12}+\\alpha)x_{1} + K_{12}x_{2} + u_{1}(t),\n$$\n$$\nC_{2}\\dot{x}_{2} = -K_{2a}x_{2} + (K_{12}+\\alpha)(x_{1}-x_{2})\n= (K_{12}+\\alpha)x_{1} - (K_{2a}+K_{12}+\\alpha)x_{2}.\n$$\n因此，状态空间模型 $\\dot{\\mathbf{x}} = A\\mathbf{x} + B u_{1}(t)$，其中 $y = x_{2}$，具有\n$$\nA = \\begin{pmatrix}\n-\\dfrac{K_{1a}+K_{12}+\\alpha}{C_{1}} & \\dfrac{K_{12}}{C_{1}} \\\\[6pt]\n\\dfrac{K_{12}+\\alpha}{C_{2}} & -\\dfrac{K_{2a}+K_{12}+\\alpha}{C_{2}}\n\\end{pmatrix},\\quad\nB = \\begin{pmatrix} \\dfrac{1}{C_{1}} \\\\[4pt] 0 \\end{pmatrix},\\quad\nC = \\begin{pmatrix} 0 & 1 \\end{pmatrix}.\n$$\n对于观测器 $\\dot{\\hat{\\mathbf{x}}} = A\\hat{\\mathbf{x}} + Bu_{1}(t) + L(y-\\hat{y})$，误差 $\\mathbf{e} = \\mathbf{x}-\\hat{\\mathbf{x}}$ 的演化如下\n$$\n\\dot{\\mathbf{e}} = (A - L C)\\mathbf{e},\\quad L = \\begin{pmatrix} L_{1} \\\\ L_{2} \\end{pmatrix}.\n$$\n由于 $LC = \\begin{pmatrix} 0 & L_{1} \\\\ 0 & L_{2} \\end{pmatrix}$，我们有\n$$\nA - LC = \\begin{pmatrix}\na_{11} & a_{12} - L_{1}\\\\\na_{21} & a_{22} - L_{2}\n\\end{pmatrix},\\quad\n\\text{其中 } a_{11} = -\\dfrac{K_{1a}+K_{12}+\\alpha}{C_{1}},\\; a_{12} = \\dfrac{K_{12}}{C_{1}},\\; a_{21} = \\dfrac{K_{12}+\\alpha}{C_{2}},\\; a_{22} = -\\dfrac{K_{2a}+K_{12}+\\alpha}{C_{2}}.\n$$\n特征多项式为\n$$\np(\\lambda) = \\det\\!\\big(\\lambda I - (A - LC)\\big)\n= \\lambda^{2} - \\lambda\\big(a_{11}+a_{22}-L_{2}\\big) + \\big(a_{11}(a_{22}-L_{2}) - a_{21}(a_{12}-L_{1})\\big).\n$$\n我们期望的极点位于 $-0.010$ 和 $-0.012$，因此期望的多项式为\n$$\np_{d}(\\lambda) = (\\lambda+0.010)(\\lambda+0.012) = \\lambda^{2} + 0.022\\,\\lambda + 0.00012.\n$$\n匹配系数可得\n$$\na_{11}+a_{22}-L_{2} = -0.022,\\quad\na_{11}(a_{22}-L_{2}) - a_{21}(a_{12}-L_{1}) = 0.00012.\n$$\n使用给定的参数计算 $A$ 的各项：\n$$\na_{11} = -\\dfrac{150+200+150}{1.0\\times 10^{5}} = -0.005,\\quad\na_{12} = \\dfrac{200}{1.0\\times 10^{5}} = 0.002,\n$$\n$$\na_{21} = \\dfrac{200+150}{1.75\\times 10^{5}} = \\dfrac{350}{175000} = 0.002,\\quad\na_{22} = -\\dfrac{175+200+150}{1.75\\times 10^{5}} = -\\dfrac{525}{175000} = -0.003.\n$$\n首先，根据迹条件，\n$$\nL_{2} = a_{11}+a_{22}+0.022 = (-0.005) + (-0.003) + 0.022 = 0.014.\n$$\n接下来，根据常数项条件，写出\n$$\n0.00012 = \\big(a_{11}a_{22} - a_{21}a_{12}\\big) - a_{11}L_{2} + a_{21}L_{1}.\n$$\n计算\n$$\na_{11}a_{22} - a_{21}a_{12} = (-0.005)(-0.003) - (0.002)(0.002) = 0.000015 - 0.000004 = 0.000011,\n$$\n$$\n-a_{11}L_{2} = -(-0.005)(0.014) = 0.00007.\n$$\n因此\n$$\n0.00012 = 0.000011 + 0.00007 + a_{21}L_{1} \\;\\Rightarrow\\; a_{21}L_{1} = 0.00012 - 0.000081 = 0.000039,\n$$\n$$\nL_{1} = \\dfrac{0.000039}{0.002} = 0.0195.\n$$\n所以，\n$$\nL = \\begin{pmatrix} 0.0195 \\\\ 0.014 \\end{pmatrix},\n$$\n这使得观测器误差动态的特征值位于期望的位置。快速检查：$\\operatorname{tr}(A-LC) = a_{11}+a_{22}-L_{2} = -0.022$ 且 $\\det(A-LC) = 0.00012$，与目标多项式 $\\lambda^{2} + 0.022\\lambda + 0.00012$ 匹配。", "answer": "$$\\boxed{\\begin{pmatrix} 0.0195 & 0.014 \\end{pmatrix}}$$", "id": "1574548"}]}