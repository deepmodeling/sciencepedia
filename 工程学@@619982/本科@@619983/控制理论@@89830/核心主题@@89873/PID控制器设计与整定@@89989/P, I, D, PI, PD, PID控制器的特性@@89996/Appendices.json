{"hands_on_practices": [{"introduction": "让我们从PID控制的基石——比例（P）控制器——开始。本练习将通过一个常见的应用——定位卫星天线——来揭示P控制的一个根本局限性。你将计算在恒定扰动下系统的稳态误差，从而清晰地量化理解为什么在精密控制中积分作用往往是必不可少的。[@problem_id:1562479]", "problem": "一个卫星的天线定位系统被建模为一个简单的机电系统。天线的角位置 $\\theta(t)$ 由一个直流 (DC) 电机控制。电机和天线负载组合的动力学特性由以下二阶线性微分方程描述：\n$$\nJ \\ddot{\\theta}(t) + b \\dot{\\theta}(t) = T_m(t) - T_L(t)\n$$\n其中，$J$ 是总转动惯量，$b$ 是粘性摩擦系数，$T_m(t)$ 是电机产生的转矩，$T_L(t)$ 是外部扰动转矩。\n\n电机转矩与施加在其上的电压 $V(t)$ 成正比，关系式为 $T_m(t) = K_t V(t)$，其中 $K_t$ 是电机转矩常数。\n\n系统采用一个比例控制器进行控制。控制器根据跟踪误差 $e(t) = \\theta_{ref}(t) - \\theta(t)$ 设置电机电压，其中 $\\theta_{ref}(t)$ 是期望的参考角度。控制律由下式给出：\n$$\nV(t) = K_p e(t)\n$$\n其中 $K_p$ 是比例增益。\n\n考虑一个场景，系统初始时处于静止状态，即 $\\theta(0) = 0$，其任务是在所有时间 $t \\geq 0$ 内指向一个固定的参考角度 $\\theta_{ref}(t) = \\theta_0$。同时，在 $t \\geq 0$ 时，天线受到一个恒定的扰动转矩 $T_L(t) = T_d$，该扰动代表一种持续的力，例如太阳风压力。\n\n确定稳态位置误差，定义为 $e_{ss} = \\lim_{t\\to\\infty} e(t)$。将您的答案表示为参数 $J$、$b$、$K_t$、$K_p$、$\\theta_0$ 和 $T_d$ 的符号表达式。", "solution": "为了求解稳态误差，我们将在 Laplace 域中分析该系统。首先，我们对系统的动力学方程进行 Laplace 变换，假设初始条件为零（$\\theta(0) = 0, \\dot{\\theta}(0) = 0$）。\n\n动力学方程为：\n$$\nJ \\ddot{\\theta}(t) + b \\dot{\\theta}(t) = T_m(t) - T_L(t)\n$$\n进行 Laplace 变换，我们得到：\n$$\nJ s^2 \\theta(s) + b s \\theta(s) = T_m(s) - T_L(s)\n$$\n$$\ns(Js + b)\\theta(s) = T_m(s) - T_L(s)\n$$\n此处，$\\theta(s)$、$T_m(s)$ 和 $T_L(s)$ 分别是 $\\theta(t)$、$T_m(t)$ 和 $T_L(t)$ 的 Laplace 变换。\n\n接下来，我们在 Laplace 域中对控制器和电机转矩进行建模。\n控制律为 $V(t) = K_p e(t)$，其变换形式为：\n$$\nV(s) = K_p E(s)\n$$\n电机转矩为 $T_m(t) = K_t V(t)$，其变换形式为：\n$$\nT_m(s) = K_t V(s)\n$$\n将 $V(s)$ 的表达式代入 $T_m(s)$ 的表达式中，我们得到受控电机产生的转矩：\n$$\nT_m(s) = K_t K_p E(s)\n$$\n误差信号定义为 $e(t) = \\theta_{ref}(t) - \\theta(t)$，因此其 Laplace 变换为 $E(s) = \\theta_{ref}(s) - \\theta(s)$。\n\n现在我们可以将 $T_m(s)$ 的表达式代入系统的动力学方程中：\n$$\ns(Js + b)\\theta(s) = K_t K_p E(s) - T_L(s)\n$$\n我们的目标是找到误差 $E(s)$ 的表达式。为此，我们用误差和参考信号的等效形式替换 $\\theta(s)$：$\\theta(s) = \\theta_{ref}(s) - E(s)$。\n$$\ns(Js + b)[\\theta_{ref}(s) - E(s)] = K_t K_p E(s) - T_L(s)\n$$\n现在，我们重新整理方程以求解 $E(s)$。\n$$\ns(Js + b)\\theta_{ref}(s) - s(Js + b)E(s) = K_t K_p E(s) - T_L(s)\n$$\n将所有含 $E(s)$ 的项移到一边，所有其他项移到另一边：\n$$\ns(Js + b)\\theta_{ref}(s) + T_L(s) = [s(Js + b) + K_t K_p] E(s)\n$$\n求解 $E(s)$：\n$$\nE(s) = \\frac{s(Js + b)}{s(Js + b) + K_t K_p} \\theta_{ref}(s) + \\frac{1}{s(Js + b) + K_t K_p} T_L(s)\n$$\n题目指定了恒定的参考角度 $\\theta_{ref}(t) = \\theta_0$ 和恒定的扰动转矩 $T_L(t) = T_d$。这些是时间上的阶跃输入，所以它们的 Laplace 变换为：\n$$\n\\theta_{ref}(s) = \\mathcal{L}\\{\\theta_0 u(t)\\} = \\frac{\\theta_0}{s}\n$$\n$$\nT_L(s) = \\mathcal{L}\\{T_d u(t)\\} = \\frac{T_d}{s}\n$$\n将这些代入 $E(s)$ 的表达式中：\n$$\nE(s) = \\frac{s(Js + b)}{s(Js + b) + K_t K_p} \\left(\\frac{\\theta_0}{s}\\right) + \\frac{1}{s(Js + b) + K_t K_p} \\left(\\frac{T_d}{s}\\right)\n$$\n$$\nE(s) = \\frac{Js + b}{s(Js + b) + K_t K_p} \\theta_0 + \\frac{T_d}{s(s(Js + b) + K_t K_p)}\n$$\n为了求稳态误差 $e_{ss}$，我们使用终值定理，该定理指出，若 $sE(s)$ 的所有极点均位于 s 平面的左半平面，则 $e_{ss} = \\lim_{t\\to\\infty} e(t) = \\lim_{s\\to 0} sE(s)$。对于正增益，闭环系统是稳定的，因此我们可以应用该定理。\n$$\ne_{ss} = \\lim_{s\\to 0} s \\left[ \\frac{Js + b}{s(Js + b) + K_t K_p} \\theta_0 + \\frac{T_d}{s(s(Js + b) + K_t K_p)} \\right]\n$$\n将 $s$ 分配到括号内：\n$$\ne_{ss} = \\lim_{s\\to 0} \\left[ \\frac{s(Js + b)}{s(Js + b) + K_t K_p} \\theta_0 + \\frac{T_d}{s(Js + b) + K_t K_p} \\right]\n$$\n现在，我们通过令 $s=0$ 来求极限：\n$$\ne_{ss} = \\left[ \\frac{0(J(0) + b)}{0(J(0) + b) + K_t K_p} \\theta_0 + \\frac{T_d}{0(J(0) + b) + K_t K_p} \\right]\n$$\n$$\ne_{ss} = \\left[ \\frac{0}{K_t K_p} \\theta_0 + \\frac{T_d}{K_t K_p} \\right]\n$$\n$$\ne_{ss} = 0 + \\frac{T_d}{K_t K_p}\n$$\n结果表明，由阶跃参考输入 $\\theta_0$ 引起的稳态误差为零。这是预料之中的，因为被控对象包含一个积分环节（$1/s$ 项），使得闭环系统对于参考输入是 I 型系统。然而，由于恒定的扰动转矩 $T_d$，存在一个非零的稳态误差。最终的稳态误差为：\n$$\ne_{ss} = \\frac{T_d}{K_t K_p}\n$$", "answer": "$$\\boxed{\\frac{T_d}{K_t K_p}}$$", "id": "1562479"}, {"introduction": "认识到P控制会留下残余误差后，我们现在转向积分（I）作用，这是消除稳态误差的关键。本问题呈现了一个动态场景：控制器从PD模式切换到PID模式，以实现高精度的斜坡信号跟踪。通过分析最终的稳态误差，你将直接证明积分项即使在处理连续变化的参考信号时，也能确保长期精度的强大能力。[@problem_id:1618099]", "problem": "一个伺服机构被设计用于控制一个负载的位置，该负载可被建模为一个纯惯性质量，其受控对象传递函数为 $P(s) = 1/s^2$。该系统配置为单位反馈。为了实现初始的快速响应，使用了一个比例-微分 (PD) 控制器，其控制律由 $u(t) = K_p e(t) + K_d \\dot{e}(t)$ 给出，其中 $e(t)$ 是跟踪误差。增益 $K_p$ 和 $K_d$ 为正，且其选择使得闭环系统是欠阻尼的。\n\n系统初始处于静止状态，输出和误差均为零。在时间 $t=0$ 时，系统被指令去跟踪一个斜坡参考轨迹 $r(t) = At$（对于 $t \\ge 0$），其中 $A$ 是一个正常数。\n\n为了消除稳态误差，控制策略被设计为在跟踪误差 $e(t)$ 首次穿过零的时刻 $t_{switch} > 0$ 进行切换。在此瞬间，引入了积分作用，控制器在所有后续时间 $t \\ge t_{switch}$ 内变为比例-积分-微分 (PID) 控制器。新的控制律为 $u(t) = K_p e(t) + K_d \\dot{e}(t) + K_i \\int_{t_{switch}}^t e(\\tau)d\\tau$，使用相同的增益 $K_p$、$K_d$ 和一个正的积分增益 $K_i$。你可以假设所选增益使得最终的 PID 控制系统是稳定的。\n\n确定最终的稳态跟踪误差 $e_{ss} = \\lim_{t\\to\\infty} e(t)$。以符号表达式的形式给出你的答案。", "solution": "受控对象为 $P(s)=\\frac{1}{s^{2}}$，采用单位反馈。对于前向通路中的任意线性控制器 $C(s)$ 和单位反馈，拉普拉斯域（Laplace domain）中的误差-输入关系为\n$$\nE(s)=\\frac{R(s)}{1+C(s)P(s)}.\n$$\n\n阶段 1 (PD 控制, $0\\le t<t_{switch}$): 对于 $C_{PD}(s)=K_{p}+K_{d}s$ 和斜坡输入 $r(t)=At$ (其变换为 $R(s)=\\frac{A}{s^{2}}$)，误差变换为\n$$\nE_{PD}(s)=\\frac{R(s)}{1+\\frac{K_{p}+K_{d}s}{s^{2}}}=\\frac{\\frac{A}{s^{2}}}{\\frac{s^{2}+K_{d}s+K_{p}}{s^{2}}}=\\frac{A}{s^{2}+K_{d}s+K_{p}}.\n$$\n根据对 $K_{p},K_{d}$ 的既定选择，多项式 $s^{2}+K_{d}s+K_{p}$ 的根具有负实部（欠阻尼），因此对于由斜坡输入驱动的PD阶段动态系统，当 $t\\to\\infty$ 时 $e(t)\\to 0$。这保证了 $e(t)$ 存在第一个过零点，因此 $t_{switch}>0$ 存在。\n\n阶段 2 (PID 控制, $t\\ge t_{switch}$): 控制器变为 $C_{PID}(s)=K_{p}+K_{d}s+\\frac{K_{i}}{s}$。积分项定义为 $\\int_{t_{switch}}^{t}e(\\tau)\\,d\\tau$，这等效于在 $t_{switch}$ 时刻将积分器状态重置为零；这只影响瞬态，不影响稳态。对于 PID 阶段，闭环误差-输入关系为\n$$\nE(s)=\\frac{R(s)}{1+C_{PID}(s)P(s)}=\\frac{R(s)}{1+\\left(K_{p}+K_{d}s+\\frac{K_{i}}{s}\\right)\\frac{1}{s^{2}}}\n=\\frac{R(s)}{\\;1+\\frac{K_{p}}{s^{2}}+\\frac{K_{d}}{s}+\\frac{K_{i}}{s^{3}}\\;}\n=\\frac{R(s)\\,s^{3}}{s^{3}+K_{d}s^{2}+K_{p}s+K_{i}}.\n$$\n切换后，对于 $t\\ge t_{switch}$，输入可以写成一个斜坡加上一个阶跃偏移：$r(t)=A(t-t_{switch})+A t_{switch}$。使用时间平移，从切换瞬间开始进行拉普拉斯变换，相应的输入变换是一个斜坡分量 $R_{r}(s)=\\frac{A}{s^{2}}$ 和一个阶跃分量 $R_{s}(s)=\\frac{A t_{switch}}{s}$ 的和。因为假定闭环特征多项式 $s^{3}+K_{d}s^{2}+K_{p}s+K_{i}$ 是稳定的（所有根都具有负实部），所以终值定理适用：\n$$\ne_{ss}=\\lim_{t\\to\\infty}e(t)=\\lim_{s\\to 0}sE(s).\n$$\n对每个输入分量计算极限，并根据线性叠加原理将结果相加。\n\n对于斜坡分量，\n$$\nsE_{r}(s)=s\\cdot\\frac{A}{s^{2}}\\cdot\\frac{s^{3}}{s^{3}+K_{d}s^{2}+K_{p}s+K_{i}}\n=A\\cdot\\frac{s^{2}}{s^{3}+K_{d}s^{2}+K_{p}s+K_{i}}\n\\;\\xrightarrow[s\\to 0]{}\\;A\\cdot\\frac{0}{K_{i}}=0.\n$$\n对于阶跃分量，\n$$\nsE_{s}(s)=s\\cdot\\frac{A t_{switch}}{s}\\cdot\\frac{s^{3}}{s^{3}+K_{d}s^{2}+K_{p}s+K_{i}}\n=A t_{switch}\\cdot\\frac{s^{3}}{s^{3}+K_{d}s^{2}+K_{p}s+K_{i}}\n\\;\\xrightarrow[s\\to 0]{}\\;A t_{switch}\\cdot\\frac{0}{K_{i}}=0.\n$$\n因此，\n$$\ne_{ss}=0+0=0.\n$$\n所以，最终的稳态跟踪误差为零。", "answer": "$$\\boxed{0}$$", "id": "1618099"}, {"introduction": "最后，我们来研究微分（D）作用，它旨在预测未来误差并改善瞬态响应。然而，它的有效性可能会受到诸如时间延迟等实际过程特性的影响。本练习利用数学近似方法，探讨了理想的微分作用与时间延迟相结合时，为何反而在高频段会降低系统性能，从而为PID控制器的实际应用提供了重要的教训。[@problem_id:1562473]", "problem": "一位控制工程师正在分析在一个表现出显著时间延迟的过程的控制回路中，加入理想微分作用的可行性。该微分作用由传递函数 $C_D(s) = T_d s$ 表示，其中 $T_d$ 是微分时间常数。过程时间延迟由传递函数 $G_{delay}(s) = e^{-Ls}$ 建模，其中 $L$ 是延迟时间。\n\n为了理解这两个元素之间的相互作用，该工程师考虑了一个复合模块，它代表了直接应用于时间延迟信号的微分作用，其组合传递函数为 $G_{combo}(s) = C_D(s) \\cdot G_{delay}(s)$。例如，当微分作用是作用在过程变量而不是误差信号上时，就可能出现这种配置。\n\n使用时间延迟的一阶 Padé 近似，即 $e^{-Ls} \\approx \\frac{1 - Ls/2}{1 + Ls/2}$，确定组合传递函数 $G_{combo}(s)$ 在高频极限下（即角频率 $\\omega \\to \\infty$ 时）的渐近相位。\n\n将你的最终答案表示为一个以度为单位的数字。", "solution": "给定微分控制器 $C_{D}(s)=T_{d}s$ 和时间延迟 $G_{delay}(s)=\\exp(-Ls)$。组合传递函数为\n$$\nG_{combo}(s)=C_{D}(s)\\,G_{delay}(s)=T_{d}s\\,\\exp(-Ls).\n$$\n使用一阶 Padé 近似 $\\exp(-Ls)\\approx \\frac{1-\\frac{L}{2}s}{1+\\frac{L}{2}s}$，近似的组合传递函数为\n$$\n\\tilde{G}_{combo}(s)=T_{d}s\\,\\frac{1-\\frac{L}{2}s}{1+\\frac{L}{2}s}.\n$$\n为了确定高频渐近相位，通过令 $s=\\mathrm{j}\\omega$ 且 $\\omega>0$ 来计算频率响应：\n$$\n\\tilde{G}_{combo}(\\mathrm{j}\\omega)=T_{d}(\\mathrm{j}\\omega)\\,\\frac{1-\\mathrm{j}\\frac{L}{2}\\omega}{1+\\mathrm{j}\\frac{L}{2}\\omega}.\n$$\n乘积的相角是各部分相角之和，而比值的相角是各部分相角之差。假设 $T_{d}>0$（在控制设计中是标准做法），则 $\\arg(T_{d})=0$。另外，$\\arg(\\mathrm{j}\\omega)=\\frac{\\pi}{2}$。对于 Padé 因子，当 $\\omega\\to\\infty$时，\n$$\n\\arg\\!\\left(1-\\mathrm{j}\\frac{L}{2}\\omega\\right)\\to \\arg\\!\\left(-\\mathrm{j}\\frac{L}{2}\\omega\\right)=-\\frac{\\pi}{2},\\quad\n\\arg\\!\\left(1+\\mathrm{j}\\frac{L}{2}\\omega\\right)\\to \\arg\\!\\left(\\mathrm{j}\\frac{L}{2}\\omega\\right)=\\frac{\\pi}{2}.\n$$\n因此，Padé 因子的高频相位贡献为\n$$\n-\\frac{\\pi}{2}-\\frac{\\pi}{2}=-\\pi.\n$$\n将所有贡献相加，$\\tilde{G}_{combo}(\\mathrm{j}\\omega)$ 在 $\\omega\\to\\infty$ 时的渐近相位为\n$$\n0+\\frac{\\pi}{2}+(-\\pi)=-\\frac{\\pi}{2},\n$$\n对应于 $-90$ 度。", "answer": "$$\\boxed{-90}$$", "id": "1562473"}]}