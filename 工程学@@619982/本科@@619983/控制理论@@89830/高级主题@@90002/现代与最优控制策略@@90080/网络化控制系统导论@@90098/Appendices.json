{"hands_on_practices": [{"introduction": "网络化控制系统的一个核心挑战是处理通信信道的不可靠性，例如数据包丢失。本练习将引导你分析一个通过不可靠网络进行控制的简单积分器系统。通过将数据包丢失建模为一个概率事件，你将学习如何推导保证系统均方稳定性的条件，并探索控制器增益、采样时间与网络可靠性之间的深刻联系。[@problem_id:1584108]", "problem": "考虑一个简单的离散时间积分器对象，用于对一个轻量级自主智能体的速度进行建模。系统状态为其在时间步 $k$ 的速度 $x_k \\in \\mathbb{R}$。系统动力学由以下差分方程描述：\n$$x_{k+1} = x_k + T_s u_k$$\n其中 $T_s > 0$ 是恒定采样时间，$u_k$ 是在时间步 $k$ 施加的控制输入（与加速度成正比）。\n\n控制输入由一个远程比例控制器通过状态反馈确定，其控制律为 $u_k = -K x_k$，其中 $K > 0$ 是控制器增益。控制信号通过一个不可靠的无线网络传输给智能体，该网络可能会发生丢包。\n\n在每个时间步 $k$ 的数据包传输成功与否，由一个独立同分布的伯努利随机变量 $\\gamma_k$ 建模。如果数据包成功接收，则 $\\gamma_k = 1$。如果数据包丢失，则 $\\gamma_k = 0$。成功传输的概率为 $P(\\gamma_k = 1) = p$，其中 $0  p \\leq 1$。\n\n智能体的执行器设计了一个简单的安全协议：如果控制数据包丢失，则施加零控制输入。否则，施加接收到的控制输入。因此，在时间步 $k$ 实际施加的控制输入，记为 $u_{applied, k}$，由 $u_{applied, k} = \\gamma_k u_k$ 给出。\n\n如果对于任何非零初始状态 $x_0$，状态平方的期望值 $\\mathbb{E}[x_k^2]$ 在 $k$ 趋于无穷大时收敛到零，则该系统被定义为均方稳定。如果对于任何 $x_k \\neq 0$，条件 $\\mathbb{E}[x_{k+1}^2]  \\mathbb{E}[x_k^2]$ 均成立，则可以保证均方稳定性。\n\n确定正控制器增益的最大值 $K_{max}$，当增益超过该值时，系统不再保证是均方稳定的。请用数据包到达概率 $p$ 和采样时间 $T_s$ 表示 $K_{max}$ 的答案。", "solution": "考虑丢包后，实际施加的控制为 $u_{\\text{applied},k}=\\gamma_{k}u_{k}=\\gamma_{k}(-Kx_{k})$，因此闭环状态更新方程为\n$$\nx_{k+1}=x_{k}+T_{s}u_{\\text{applied},k}=\\bigl(1-\\gamma_{k}KT_{s}\\bigr)x_{k}.\n$$\n由于 $\\gamma_{k}$ 是独立同分布的伯努利随机变量，满足 $P(\\gamma_{k}=1)=p$，且与 $x_{k}$ 独立，条件二阶矩的演化过程如下：\n$$\n\\mathbb{E}\\!\\left[x_{k+1}^{2}\\mid x_{k}\\right]=x_{k}^{2}\\,\\mathbb{E}\\!\\left[(1-\\gamma_{k}KT_{s})^{2}\\right]\n=x_{k}^{2}\\Bigl[p(1-KT_{s})^{2}+(1-p)\\cdot 1^{2}\\Bigr].\n$$\n对 $x_{k}$ 取期望，我们得到：\n$$\n\\mathbb{E}[x_{k+1}^{2}]=\\alpha\\,\\mathbb{E}[x_{k}^{2}],\\qquad \\alpha:=p(1-KT_{s})^{2}+(1-p).\n$$\n给定的均方稳定性的充分条件是对于任意 $x_{k}\\neq 0$，有 $\\mathbb{E}[x_{k+1}^{2}]\\mathbb{E}[x_{k}^{2}]$，这在此处等价于：\n$$\n\\alpha1 \\;\\;\\Longleftrightarrow\\;\\; p(1-KT_{s})^{2}+(1-p)1 \\;\\;\\Longleftrightarrow\\;\\; p\\bigl((1-KT_{s})^{2}-1\\bigr)0.\n$$\n由于 $p0$，该不等式可简化为：\n$$\n(1-KT_{s})^{2}1 \\;\\;\\Longleftrightarrow\\;\\; |1-KT_{s}|1 \\;\\;\\Longleftrightarrow\\;\\; 0KT_{s}2.\n$$\n因此，容许的增益范围是 $0K\\frac{2}{T_{s}}$，在稳定性边界上的最大增益为：\n$$\nK_{\\max}=\\frac{2}{T_{s}}.\n$$\n值得注意的是，对于任何 $p\\in(0,1]$，该阈值不依赖于 $p$；当 $p=0$ 时，该条件无法满足，但 $p=0$ 的情况已被 $0p\\leq 1$ 的条件排除。", "answer": "$$\\boxed{\\frac{2}{T_{s}}}$$", "id": "1584108"}, {"introduction": "当传感器数据包在网络传输中丢失时，远程估计器必须在没有新测量的情况下更新其对系统状态的估计。此练习探讨了两种基本策略：维持上一个估计值（“保持”）与使用系统模型向前预测（“预测”）。通过定量分析和比较这两种策略的均方估计误差，你将深入理解在数据丢失情况下，如何有效利用已知的系统动态信息来提高估计性能。[@problem_id:1584083]", "problem": "一个远程传感器正在监测一个物理过程，其在离散时间步 $k$ 的状态 $x_k$ 根据以下线性随机模型演化：\n$$x_{k+1} = a x_k + w_k$$\n其中，$a$ 是一个满足 $|a|  1$ 的常数系统参数，$w_k$ 是一个零均值白过程噪声，其方差为 $E[w_k^2] = Q$。该过程被假设为广义平稳的。\n\n一个远程估计器跟踪此状态。在时间 $k=0$ 时，状态的估计值为 $\\hat{x}_0$，均方估计误差为 $E[(x_0 - \\hat{x}_0)^2] = P_0$。初始估计误差 $e_0 = x_0 - \\hat{x}_0$ 均值为零，并且与估计值 $\\hat{x}_0$ 以及过程噪声序列 $w_k$ 都不相关。\n\n在时间步 $k=1$ 时，由于网络丢包，传感器测量值丢失。估计器必须在没有新测量值的情况下，为状态 $x_1$ 生成一个估计值 $\\hat{x}_1$。正在考虑两种策略：\n\n*   **策略 A (保持):** 将新估计值设为上一个估计值，即 $\\hat{x}_1^{(\\text{A})} = \\hat{x}_0$。\n*   **策略 B (预测):** 通过系统模型传播上一个估计值，即 $\\hat{x}_1^{(\\text{B})} = a \\hat{x}_0$。\n\n确定这两种策略的真实均方估计误差之比，即 $\\frac{E[(x_1 - \\hat{x}_1^{(\\text{A})})^2]}{E[(x_1 - \\hat{x}_1^{(\\text{B})})^2]}$。将您的答案表示为一个关于 $a$，$Q$ 和 $P_0$ 的单一闭式解析表达式。", "solution": "状态演化遵循 $x_{1} = a x_{0} + w_{0}$，其中 $E[w_{0}] = 0$，$E[w_{0}^{2}] = Q$，且 $|a|  1$。初始估计误差为 $e_{0} = x_{0} - \\hat{x}_{0}$，其满足 $E[e_{0}] = 0$，$E[e_{0}^{2}] = P_{0}$，并且 $e_{0}$ 与 $\\hat{x}_{0}$ 及过程噪声序列 $\\{w_{k}\\}$ 不相关。对于此类模型，按照标准假设，$w_{0}$ 与 $x_{0}$ 以及任何基于截至时间 $0$ 的数据的估计器都不相关，因此也与 $\\hat{x}_{0}$ 不相关。\n\n策略B（预测）：$\\hat{x}_{1}^{(\\text{B})} = a \\hat{x}_{0}$。其估计误差为\n$$\ne_{1}^{(\\text{B})} = x_{1} - \\hat{x}_{1}^{(\\text{B})} = a x_{0} + w_{0} - a \\hat{x}_{0} = a(x_{0} - \\hat{x}_{0}) + w_{0} = a e_{0} + w_{0}.\n$$\n利用 $e_{0}$ 和 $w_{0}$ 的不相关性，均方误差 (MSE) 为\n$$\nE[(e_{1}^{(\\text{B})})^{2}] = a^{2} E[e_{0}^{2}] + E[w_{0}^{2}] = a^{2} P_{0} + Q.\n$$\n\n策略A（保持）：$\\hat{x}_{1}^{(\\text{A})} = \\hat{x}_{0}$。其估计误差为\n$$\ne_{1}^{(\\text{A})} = x_{1} - \\hat{x}_{0} = a x_{0} + w_{0} - \\hat{x}_{0}.\n$$\n其均方误差为\n$$\nE[(e_{1}^{(\\text{A})})^{2}] = E[(a x_{0} - \\hat{x}_{0})^{2}] + 2 E[(a x_{0} - \\hat{x}_{0}) w_{0}] + E[w_{0}^{2}].\n$$\n由于 $w_{0}$ 与 $x_{0}$ 和 $\\hat{x}_{0}$ 不相关，交叉项为零，因此\n$$\nE[(e_{1}^{(\\text{A})})^{2}] = E[(a x_{0} - \\hat{x}_{0})^{2}] + Q.\n$$\n展开\n$$\nE[(a x_{0} - \\hat{x}_{0})^{2}] = a^{2} E[x_{0}^{2}] - 2 a E[x_{0} \\hat{x}_{0}] + E[\\hat{x}_{0}^{2}].\n$$\n由 $e_{0} = x_{0} - \\hat{x}_{0}$ 与 $\\hat{x}_{0}$ 不相关可知，$E[(x_{0} - \\hat{x}_{0}) \\hat{x}_{0}] = 0$，所以\n$$\nE[x_{0} \\hat{x}_{0}] = E[\\hat{x}_{0}^{2}].\n$$\n此外，根据 $P_{0}$ 的定义，\n$$\nP_{0} = E[(x_{0} - \\hat{x}_{0})^{2}] = E[x_{0}^{2}] - 2 E[x_{0} \\hat{x}_{0}] + E[\\hat{x}_{0}^{2}] = E[x_{0}^{2}] - E[\\hat{x}_{0}^{2}],\n$$\n因此 $E[\\hat{x}_{0}^{2}] = E[x_{0}^{2}] - P_{0}$。于是，\n$$\nE[(a x_{0} - \\hat{x}_{0})^{2}] = a^{2} E[x_{0}^{2}] - 2 a \\big(E[x_{0}^{2}] - P_{0}\\big) + \\big(E[x_{0}^{2}] - P_{0}\\big)\n= (a - 1)^{2} E[x_{0}^{2}] - (1 - 2 a) P_{0}.\n$$\n从而\n$$\nE[(e_{1}^{(\\text{A})})^{2}] = (a - 1)^{2} E[x_{0}^{2}] - (1 - 2 a) P_{0} + Q.\n$$\n利用 AR(1) 模型中 $x_{k}$ 的广义平稳性，令 $\\sigma_{x}^{2} = E[x_{k}^{2}]$。则\n$$\n\\sigma_{x}^{2} = E[x_{k+1}^{2}] = E[(a x_{k} + w_{k})^{2}] = a^{2} \\sigma_{x}^{2} + 2 a E[x_{k} w_{k}] + E[w_{k}^{2}] = a^{2} \\sigma_{x}^{2} + Q,\n$$\n所以 $\\sigma_{x}^{2} = \\frac{Q}{1 - a^{2}}$。因此\n$$\nE[(e_{1}^{(\\text{A})})^{2}] = (a - 1)^{2} \\frac{Q}{1 - a^{2}} - (1 - 2 a) P_{0} + Q.\n$$\n注意到\n$$\n\\frac{(a - 1)^{2}}{1 - a^{2}} = \\frac{(1 - a)^{2}}{(1 - a)(1 + a)} = \\frac{1 - a}{1 + a},\n$$\n所以\n$$\nE[(e_{1}^{(\\text{A})})^{2}] = \\frac{1 - a}{1 + a} Q + Q - (1 - 2 a) P_{0} = \\frac{2 Q}{1 + a} - (1 - 2 a) P_{0}.\n$$\n\n因此，所求的比值为\n$$\n\\frac{E[(x_{1} - \\hat{x}_{1}^{(\\text{A})})^{2}]}{E[(x_{1} - \\hat{x}_{1}^{(\\text{B})})^{2}]} = \\frac{\\frac{2 Q}{1 + a} - (1 - 2 a) P_{0}}{a^{2} P_{0} + Q}.\n$$\n这是一个关于 $a$，$Q$ 和 $P_0$ 的单一闭式解析表达式。", "answer": "$$\\boxed{\\frac{\\frac{2Q}{1+a}-(1-2a)P_{0}}{a^{2}P_{0}+Q}}$$", "id": "1584083"}, {"introduction": "在数字网络中，所有信号都必须被量化，这意味着通信带宽（数据速率）是有限的，这直接限制了控制性能。本练习探讨了稳定一个不稳定系统所需的最小数据速率这一基本问题。你将比较两种不同编码方案下的比特率要求，从而揭示控制稳定性与信息论之间的内在联系，这是网络化控制理论的一个基石。[@problem_id:1584076]", "problem": "网络化控制系统（NCS）中的一个基本挑战是通过数据率有限的通信信道来镇定一个不稳定的过程。考虑一个简单的离散时间、标量、线性时不变系统，其方程描述为：\n$$x_{k+1} = a x_k + u_k$$\n其中 $x_k \\in \\mathbb{R}$ 是系统在时间步 $k$ 的状态，$u_k \\in \\mathbb{R}$ 是控制输入，$a$ 是一个已知的实数常数，满足 $|a|  1$。\n\n该控制系统通过一个数字通信信道运行，该信道在每个采样间隔内可以传输固定整数个比特。目标是设计一种编码和控制策略，以保证系统的渐近稳定性，即无论初始状态 $x_0$ 如何，都有 $\\lim_{k \\to \\infty} x_k = 0$。\n\n我们将比较两种不同的状态信息编码策略。\n\n**方案 A：无记忆均匀量化**\n在这种方法中，在每个时间步 $k$，测量完整的状态 $x_k$，然后由一个无记忆量化器对其进行量化。得到的量化数据通过信道传输给控制器，控制器随后计算并施加输入 $u_k$。设 $B_A$ 为使用此方案保证渐近稳定性所需的每个采样间隔的最小整数比特数。\n\n**方案 B：预测编码**\n这种更复杂的方法利用记忆来提高效率。编码器（在传感器端）和解码器（在控制器端）都维护一个共享的系统动力学模型和系统状态的预测值。在每个时间步 $k$，编码器测量真实状态 $x_k$，计算真实状态与共享预测值之间的误差，然后对该预测误差进行量化。量化后的误差通过信道传输。解码器使用此信息来修正其状态预测并计算控制输入 $u_k$。设 $B_B$ 为使用此方案保证渐近稳定性所需的每个采样间隔的最小整数比特数。\n\n对于两种方案，您都应假设在给定的比特预算下使用了最高效的实现方式。此外，假设系统参数 $a$ 满足 $\\log_2(|a|)$ 不是整数。\n\n计算比率 $\\frac{B_A}{B_B}$。", "solution": "我们考虑标量、不稳定、离散时间系统 $x_{k+1}=a x_{k}+u_{k}$，其中 $|a|1$，以及一个每个采样间隔能传输整数个比特的无噪声数字信道。控制器接收量化信息，形成一个估计值 $\\hat{x}_{k}$，我们使用确定性等价控制 $u_{k}=-a\\,\\hat{x}_{k}$，因此闭环状态演化为\n$$\nx_{k+1}=a x_{k}+u_{k}=a\\left(x_{k}-\\hat{x}_{k}\\right)=a e_{k},\n$$\n其中 $e_{k}:=x_{k}-\\hat{x}_{k}$ 是在时间 $k$ 的瞬时估计（量化）误差。\n\n量化器是均匀的，每个样本有 $2^{B}$ 个码字，其中 $B$ 是相应方案的比特预算。对于一个覆盖半径为 $R0$ 的对称区间的均匀量化器，其步长为 $\\Delta=2R/2^{B}$，误差满足 $|e|\\leq \\Delta/2=R/2^{B}$。为保证对所有初始状态的渐近稳定性，使用一种标准的缩放（zooming）策略：首先向外缩放（zoom out）以将状态捕获在一个已知区间内（这不改变比特需求），然后根据推导出的收缩关系向内缩放（zoom in）来收缩该区间。我们现在推导两种方案的比特条件。\n\n方案 A（对完整状态的无记忆均匀量化）：设在时间 $k$ 的编码器在对称区间 $[-R_{k},R_{k}]$ 上将 $x_{k}$ 量化为 $2^{B_{A}}$ 个电平，得到 $|e_{k}|\\leq R_{k}/2^{B_{A}}$。使用 $u_{k}=-a\\,\\hat{x}_{k}$，下一个状态是 $x_{k+1}=a e_{k}$，因此\n$$\n|x_{k+1}|\\leq |a|\\,\\frac{R_{k}}{2^{B_{A}}}.\n$$\n选择下一个设计半径为 $R_{k+1}:=|a|\\,R_{k}/2^{B_{A}}$。该序列收敛到 $0$ 当且仅当\n$$\n\\frac{|a|}{2^{B_{A}}}1\\quad\\Longleftrightarrow\\quad B_{A}\\log_{2}(|a|).\n$$\n由于 $B_{A}$ 必须是整数，且假设 $\\log_{2}(|a|)$ 不是整数，所以最小整数为\n$$\nB_{A}=\\lceil \\log_{2}(|a|)\\rceil.\n$$\n\n方案 B（对新息的预测编码）：编码器和解码器都维护同一个预测器 $\\tilde{x}_{k}$。在时间 $k$，编码器形成新息 $v_{k}:=x_{k}-\\tilde{x}_{k}$ 并在 $[-V_{k},V_{k}]$ 上使用 $2^{B_{B}}$ 个电平对其进行量化，产生量化误差 $\\epsilon_{k}$，满足 $|\\epsilon_{k}|\\leq V_{k}/2^{B_{B}}$。解码器更新 $\\hat{x}_{k}=\\tilde{x}_{k}+\\hat{v}_{k}$，所以估计误差为 $e_{k}=x_{k}-\\hat{x}_{k}=v_{k}-\\hat{v}_{k}=\\epsilon_{k}$。使用确定性等价控制 $u_{k}=-a\\,\\hat{x}_{k}$，闭环状态演化为 $x_{k+1}=a e_{k}=a \\epsilon_{k}$。预测器通过已知的模型和输入进行更新：$\\tilde{x}_{k+1}=a \\hat{x}_{k}+u_{k}=a \\hat{x}_{k}-a \\hat{x}_{k}=0$。因此，下一个新息为 $v_{k+1}=x_{k+1}-\\tilde{x}_{k+1}=x_{k+1}$，其界满足\n$$\n|v_{k+1}|\\leq |a|\\,\\frac{V_{k}}{2^{B_{B}}}.\n$$\n选择 $V_{k+1}:=|a|\\,V_{k}/2^{B_{B}}$ 会产生收缩，当且仅当\n$$\n\\frac{|a|}{2^{B_{B}}}1\\quad\\Longleftrightarrow\\quad B_{B}\\log_{2}(|a|).\n$$\n同样地，考虑到整数约束和 $\\log_{2}(|a|)$ 非整数的条件，\n$$\nB_{B}=\\lceil \\log_{2}(|a|)\\rceil.\n$$\n\n因此，两种方案达到相同的最小整数比特需求，所求比率为\n$$\n\\frac{B_{A}}{B_{B}}=\\frac{\\lceil \\log_{2}(|a|)\\rceil}{\\lceil \\log_{2}(|a|)\\rceil}=1.\n$$\n这与镇定的信息论数据率定理相符，并表明，在这种无噪声、标量、线性时不变（LTI）的设置下，预测编码并不能将最小整数比特率降低到通过对完整状态进行最优缩放均匀量化可达到的水平之下。", "answer": "$$\\boxed{1}$$", "id": "1584076"}]}