{"hands_on_practices": [{"introduction": "现实世界中的执行器，如电机和放大器，其输出能力并非无限。本练习将探讨饱和非线性——一种常见的物理限制——在机器人臂控制系统中的具体影响。通过计算放大器进入饱和状态前系统能稳定跟踪的最大斜坡速度$R_{max}$，你将亲身体会到物理约束如何直接限制控制系统的动态性能。[@problem_id:1563707]", "problem": "一个单位反馈控制系统被设计用来管理一个机器人操纵臂的角位置 $\\theta(t)$。该被控对象，包括电机和机械臂，被建模为一个纯积分器。关联输入电机电压 $v(t)$ 与输出角位置 $\\theta(t)$ 的传递函数由 $G_p(s) = \\frac{K_m}{s}$ 给出。\n\n一个增益为 $K_p$ 的比例控制器计算误差信号，其输出被发送到一个功率放大器。然而，该放大器表现出对称饱和非线性。驱动电机的放大器输出电压 $v(t)$，其最大绝对值被限制在 $V_{max}$。\n\n系统被指令跟踪一个参考斜坡输入 $r(t) = R \\cdot t$（对于 $t \\geq 0$），其中 $R$ 是恒定的目标角速度。假设系统能够达到一个稳态条件，在该条件下它以一个恒定的误差跟踪斜坡输入。\n\n确定最大的可能斜坡速率 $R_{max}$，在该速率下，功率放大器在此稳态跟踪过程中将持续工作在其线性区域内。\n\n系统参数如下：\n- 电机增益：$K_m = 0.50 \\text{ rad/(V}\\cdot\\text{s)}$\n- 比例控制器增益：$K_p = 10.0 \\text{ V/rad}$\n- 放大器饱和电压：$V_{max} = 12.0 \\text{ V}$\n\n以 rad/s 为单位表示您的答案 $R_{max}$。提供精确的数值。", "solution": "被控对象的传递函数为 $G_{p}(s)=\\frac{K_{m}}{s}$，这在时域中意味着 $\\dot{\\theta}(t)=K_{m} v(t)$。在单位反馈下，误差为 $e(t)=r(t)-\\theta(t)$。比例控制器的输出是 $u_{c}(t)=K_{p} e(t)$，功率放大器的输出是 $v(t)$，它在线性区域内等于 $u_{c}(t)$，否则饱和在 $\\pm V_{\\max}$。\n\n对于斜坡输入 $r(t)=R t$，并假设以恒定误差 $e_{\\text{ss}}$ 进行稳态跟踪，我们有 $\\theta(t)=R t - e_{\\text{ss}}$，所以微分得到 $\\dot{\\theta}(t)=R$。根据被控对象的关系式，\n$$\n\\dot{\\theta}(t)=K_{m} v_{\\text{ss}} \\quad \\Rightarrow \\quad v_{\\text{ss}}=\\frac{R}{K_{m}}。\n$$\n在稳态的线性区域内，$v_{\\text{ss}}=K_{p} e_{\\text{ss}}$，从而得到 $e_{\\text{ss}}=\\frac{R}{K_{p} K_{m}}$，这与速度常数 $K_{v}=K_{p} K_{m}$ 的标准结果相符。\n\n为避免在稳态跟踪中发生饱和，放大器的输出必须满足\n$$\n|v_{\\text{ss}}| \\leq V_{\\max} \\quad \\Rightarrow \\quad \\left|\\frac{R}{K_{m}}\\right| \\leq V_{\\max} \\quad \\Rightarrow \\quad |R| \\leq K_{m} V_{\\max}。\n$$\n因此，使放大器保持在线性区的最大斜坡速率为\n$$\nR_{\\max}=K_{m} V_{\\max}。\n$$\n代入给定值 $K_{m}=0.50$ 和 $V_{\\max}=12.0$，\n$$\nR_{\\max}=0.50 \\times 12.0 = 6.0。\n$$", "answer": "$$\\boxed{6}$$", "id": "1563707"}, {"introduction": "在系统辨识中，不同类型的非线性在简单输入下可能产生相似的响应，从而难以区分。这个思想实验要求你设计一个特定的输入信号，以揭示死区（一种无记忆非线性）和齿隙（一种迟滞或有记忆非线性）各自独特的“行为指纹”。这项练习旨在锻炼你的诊断思维，并加深对不同非线性本质区别的理解。[@problem_id:1563699]", "problem": "一位工程师的任务是识别一个机械系统中的静态非线性特性。该系统的输出 $y(t)$ 与其输入 $u(t)$ 通过两种可能的非线性函数之一相关。为简单起见，系统的线性增益被归一化为1。两种可能性是死区非线性 $N_{DZ}$ 或背隙非线性 $N_{BL}$。所有物理量都可以认为采用任意但一致的单位。\n\n死区非线性由一个宽度参数 $D  0$ 定义。其输出 $y_{DZ}(t)$ 由下式给出：\n$$\ny_{DZ}(t) = \\begin{cases}\nu(t) - D  \\text{if } u(t) > D \\\\\n0  \\text{if } -D \\le u(t) \\le D \\\\\nu(t) + D  \\text{if } u(t)  -D\n\\end{cases}\n$$\n\n背隙非线性由一个总宽度参数 $2B  0$ 定义。其行为是状态依赖的：\n- 当输入 $u(t)$ 反向时，输出 $y_{BL}(t)$ 保持不变，直到输入的变化量达到 $2B$。\n- 越过这个“间隙”后，输出再次跟随输入，并保持一个 $\\pm B$ 的恒定偏移。对于一个从 $u(0)=0$ 开始并初始增加的输入，只要 $u(t)$ 在增加，输出就是 $y_{BL}(t) = u(t) - B$。\n\n工程师必须设计一个输入信号 $u(t)$，该信号能根据系统包含的是死区非线性还是背隙非线性，产生定性上不同的输出波形。已知参数满足 $0  2B  D$。以下哪个选项正确地将一个输入信号与能够进行明确识别的、不同输出行为配对？\n\nA. 输入信号：在 $-2D$ 和 $+2D$ 之间振荡的对称三角波。\n    - 预测的死区输出：与输入完全相同的三角波。\n    - 预测的背隙输出：在波峰和波谷处带有水平段的三角波。\n\nB. 输入信号：单个阶跃函数，$t > 0$ 时为 $u(t) = 2D$，$t \\le 0$ 时为 $u(t)=0$。\n    - 预测的死区输出：一个延迟的阶跃函数，输出在跳变到恒定值之前在短时间内为0。\n    - 预测的背隙输出：瞬时阶跃到一个恒定值。\n\nC. 输入信号：一个输入信号，在 $t>0$ 时，从0线性上升到 $2D$，然后立即线性下降到 $1.5D$，再立即线性回升。\n    - 预测的死区输出：输出波形将是输入信号形状（上升、下降、上升）的一个平移和缩放的副本。\n    - 预测的背隙输出：输出将先上升，然后在输入下降的整个过程以及部分回升的过程中保持在其峰值。\n\nD. 输入信号：一个正弦输入 $u(t) = (D/2) \\sin(\\omega t)$。\n    - 预测的死区输出：输出始终为零。\n    - 预测的背隙输出：输出是振幅减小的失真正弦波。", "solution": "题目要求我们区分死区非线性和背隙非线性，前者是无记忆的，后者是滞后的，具有总宽度为 $2B$ 的间隙，并且已知 $02BD$。死区映射为\n$$\ny_{DZ}(t)=\\begin{cases}\nu(t)-D  \\text{if }u(t)D,\\\\\n0  \\text{if }|u(t)|\\le D,\\\\\nu(t)+D  \\text{if }u(t)-D,\n\\end{cases}\n$$\n该映射是静态且无记忆的。背隙行为是状态依赖的：当 $u(t)$ 单调增加时，$y_{BL}(t)=u(t)-B$；当 $u(t)$ 单调减少时，$y_{BL}(t)=u(t)+B$；每当 $u(t)$ 的方向反转时，输出保持恒定，直到输入遍历了 $2B$ 的总变化量，之后它在相反的分支上以适当的偏移量恢复跟随。\n\n我们根据这些定义来检验每个选项，仅使用给定的不等式 $02BD$。\n\n选项A：输入是在 $-2D$ 和 $+2D$ 之间振荡的对称三角波。\n- 死区：每当 $|u(t)|\\le D$ 时，$y_{DZ}(t)=0$；当 $|u(t)|D$ 时，$y_{DZ}(t)=u(t)-\\operatorname{sgn}(u)D$。因此，输出不可能与输入相同；它在中心附近有零段，在外部则有 $\\pm D$ 的平移。因此，所述的“与输入完全相同”是不正确的。\n- 背隙：在每个波峰/波谷（输入反向处），$y_{BL}(t)$ 在输入变化 $2B$ 的范围内保持恒定，从而产生水平段。这部分在定性上是正确的。然而，由于对死区的预测是错误的，所以选项A是无效的。\n\n选项B：输入是单个阶跃函数，$t0$ 时为 $u(t)=2D$，$t\\le 0$ 时为 $u(t)=0$。\n- 死区：在 $t=0^{+}$ 时，由于 $2DD$，输出为 $y_{DZ}(0^{+})=2D-D=D$，即一个瞬时跳变；因为该非线性是静态的，所以没有延迟。所述的“延迟的阶跃”是不正确的。\n- 背隙：从 $u(0)=0$ 开始增加到 $2D$，$y_{BL}$ 会（与速率无关地）跳变到 $2D-B$。所述的“瞬时阶跃”在定性上是正确的。因为关于死区部分的描述不正确，选项B是无效的。\n\n选项C：输入从0斜坡上升到 $2D$，然后下降到 $1.5D$，再再次上升。\n- 死区：对于 $0\\le u(t)\\le D$，$y_{DZ}=0$；对于 $u(t)D$，$y_{DZ}=u(t)-D$。因此，在 $u$ 超过 $D$ 之后，输出是输入的一个副本，带有一个恒定的负向平移 $D$，并且在每个斜坡段斜率都为1，在反向点没有记忆效应。最终的波形是上升、下降、再上升，与输入在阈值以上部分的形状相匹配，这与描述（输入的分段线性形状的一个平移副本）完全一致。\n- 背隙：初始增加时，$y_{BL}=u-B$ 直到 $u=2D$。在第一次反向时（下降斜坡的开始），输出保持恒定，而输入减少了 $2B$。由于下降斜坡的幅度为 $2D-1.5D=0.5D$，会出现两种情况：\n  1) 如果 $2B\\ge 0.5D$，那么整个下降斜坡都在间隙范围内，$y_{BL}$ 在整个下降斜坡期间保持恒定；在随后的上升斜坡上，$y_{BL}$ 保持恒定直到越过剩余的间隙，然后恢复跟随。这与所述行为“在输入下降的整个过程以及部分回升的过程中保持在其峰值”完全匹配。\n  2) 如果 $2B0.5D$，那么 $y_{BL}$ 在下降斜坡的前 $2B$ 部分保持恒定，然后在余下的部分以 $y_{BL}=u+B$ 恢复跟随。在任何一种情况下，在反向点都有一个清晰的、状态依赖的平坦段，这是死区非线性无法产生的。因此，这个输入产生了定性上不同且明确的行为。\n因为所描述的死区和背隙行为是正确且可区分的，所以选项C是有效的。\n\n选项D：输入是 $u(t)=(D/2)\\sin(\\omega t)$。\n- 死区：因为 $|u(t)|\\le D/2D$，所以对于所有 $t$，$y_{DZ}(t)=0$，这与所述预测相符。\n- 背隙：在每次反向时，输出在输入变化 $2B$ 的范围内保持恒定。在每个半周期内，输入变化量为 $D$，并且由于 $2BD$，在每个波峰和波谷附近必须出现平坦段。因此，输出不仅仅是一个经过缩放的正弦波；它有平坦的部分。所述的“振幅减小的失真正弦波”是不正确的。因此选项D是无效的。\n\n因此，只有选项C正确地将一个输入与在 $02BD$ 条件下能够进行明确识别的、不同且描述正确的行为配对。", "answer": "$$\\boxed{C}$$", "id": "1563699"}, {"introduction": "学习了如何分析和辨识非线性之后，下一步便是设法减弱其负面影响。本练习将带你实践一种重要的工程技术——逆非线性前置补偿。你将为一个带有死区效应的执行器设计补偿器，并通过傅里叶分析来量化跟踪精度的提升，从而完成从理论分析到实用控制设计的跨越。[@problem_id:1563690]", "problem": "一个用于高精度机械臂的控制系统采用了一个电动执行器，其响应表现出死区非线性特性。执行器的输入电压 $u$ 与其输出速度 $y_{act}$ 之间的关系，其数学模型为：\n$$\ny_{act} =\n\\begin{cases}\nK_{act}(u - \\delta)  \\text{for } u > \\delta \\\\\n0  \\text{for } -\\delta \\leq u \\leq \\delta \\\\\nK_{act}(u + \\delta)  \\text{for } u  -\\delta\n\\end{cases}\n$$\n其中 $\\delta$ 是死区半宽度， $K_{act}$ 是执行器在激活区内的增益。\n\n为了实现精确跟踪，控制器生成一个期望的正弦速度曲线，$v(t) = V_0 \\sin(\\omega t)$。我们将分析两种驱动执行器的方案。\n\n方案1（无补偿）：将控制器输出 $v(t)$ 直接施加于执行器，即 $u(t) = v(t)$。\n\n方案2（有补偿）：在控制器和执行器之间放置一个理想的逆向预补偿器。该预补偿器以期望速度 $v(t)$ 作为输入，并生成所需的执行器输入电压 $u(t)$，以完美地线性化响应，从而使得执行器的输出 $y_{act}(t)$ 理想地匹配 $v(t)$。\n\n为了量化跟踪保真度的改善情况，我们比较两种方案下执行器输出信号的基频分量幅值。设 $B_1$ 为无补偿系统的基波幅值，$B_2$ 为有补偿系统的基波幅值。\n\n给定参数 $V_0 = 0.5 \\text{ V}$，$\\delta = 0.2 \\text{ V}$，$K_{act} = 1.5$，计算改善比 $R = B_2 / B_1$。将您的答案表示为一个无量纲实数，并保留三位有效数字。", "solution": "问题要求计算有补偿系统与无补偿系统下执行器输出的基波幅值之比，$R = B_2/B_1$。我们将分别分析每种情况以求得 $B_1$ 和 $B_2$。\n\n**步骤1：分析补偿系统（方案2）**\n\n在此方案中，使用了一个理想的逆向预补偿器。其目的是生成执行器的输入 $u(t)$，使得执行器的输出 $y_{act}(t)$ 等于期望的速度曲线 $v(t) = V_0 \\sin(\\omega t)$。\n\n我们来推导反函数 $u = f^{-1}(v)$，其中 $y_{act} = f(u)$ 是死区函数。\n- 如果我们想要 $y_{act} = v  0$，则必须处于 $u  \\delta$ 的区域。执行器方程为 $v = K_{act}(u - \\delta)$。解出 $u$ 可得 $u = \\frac{v}{K_{act}} + \\delta$。\n- 如果我们想要 $y_{act} = v  0$，则必须处于 $u  -\\delta$ 的区域。执行器方程为 $v = K_{act}(u + \\delta)$。解出 $u$ 可得 $u = \\frac{v}{K_{act}} - \\delta$。\n- 如果我们想要 $y_{act} = v = 0$，$u$ 可以在 $[-\\delta, \\delta]$ 区间内取任意值。我们可以选择 $u=0$。\n\n这些可以合并为预补偿器输出的单个表达式：\n$$\nu(t) = \\frac{v(t)}{K_{act}} + \\delta \\cdot \\text{sgn}(v(t))\n$$\n使用此预补偿器后，执行器的输出为 $y_{act,2}(t) = v(t) = V_0 \\sin(\\omega t)$。这是一个纯正弦信号。纯正弦波的基波幅值就是其自身的幅值。\n因此，$B_2 = V_0$。\n\n**步骤2：分析无补偿系统（方案1）**\n\n在此方案中，执行器的输入为 $u(t) = v(t) = V_0 \\sin(\\omega t)$。将此输入代入死区模型，即可得到执行器的输出 $y_{act,1}(t)$。仅当 $|u(t)|  \\delta$ (即 $|V_0 \\sin(\\omega t)|  \\delta$) 时，输出才非零。\n\n为求得基波幅值 $B_1$，我们计算周期信号 $y_{act,1}(t)$ 的傅里叶级数系数。由于死区函数 $f(u)$ 是一个奇函数 ($f(-u) = -f(u)$)，且输入 $u(t)$ 也是一个奇函数，因此输出 $y_{act,1}(t) = f(u(t))$ 也是一个奇函数。所以，所有的余弦系数 ($a_n$) 均为零。基波幅值 $B_1$ 就是第一个正弦系数 $b_1$ 的大小。\n\n$$\nB_1 = b_1 = \\frac{2}{T} \\int_0^T y_{act,1}(t) \\sin(\\omega t) dt\n$$\n我们将积分变量换为 $\\theta = \\omega t$，因此 $dt = d\\theta/\\omega$ 且 $T=2\\pi/\\omega$。\n$$\nB_1 = \\frac{2}{2\\pi/\\omega} \\int_0^{2\\pi} y_{act,1}(\\theta/\\omega) \\sin(\\theta) \\frac{d\\theta}{\\omega} = \\frac{1}{\\pi} \\int_0^{2\\pi} y_{act,1}(\\theta/\\omega) \\sin(\\theta) d\\theta\n$$\n当 $|V_0 \\sin\\theta|  \\delta$ 时，执行器激活。我们定义 $\\theta_d = \\arcsin(\\frac{\\delta}{V_0})$，其中 $0  \\theta_d  \\pi/2$。在一个周期 $[0, 2\\pi]$ 内，执行器在两个区间内激活：\n1.  对于 $\\theta \\in (\\theta_d, \\pi - \\theta_d)$，$u(\\theta/\\omega) = V_0 \\sin\\theta  \\delta$。输出为 $y_{act,1} = K_{act}(V_0 \\sin\\theta - \\delta)$。\n2.  对于 $\\theta \\in (\\pi + \\theta_d, 2\\pi - \\theta_d)$，$u(\\theta/\\omega) = V_0 \\sin\\theta  -\\delta$。输出为 $y_{act,1} = K_{act}(V_0 \\sin\\theta + \\delta)$。\n\n$B_1$ 的积分变为：\n$$\nB_1 = \\frac{1}{\\pi} \\left[ \\int_{\\theta_d}^{\\pi-\\theta_d} K_{act}(V_0 \\sin\\theta - \\delta)\\sin\\theta \\,d\\theta + \\int_{\\pi+\\theta_d}^{2\\pi-\\theta_d} K_{act}(V_0 \\sin\\theta + \\delta)\\sin\\theta \\,d\\theta \\right]\n$$\n根据对称性，第二个积分等于第一个积分。我们通过变量代换 $\\phi = \\theta - \\pi$ 来进行验证。\n$\\int_{\\theta_d}^{\\pi-\\theta_d} K_{act}(V_0 \\sin(\\phi+\\pi) + \\delta)\\sin(\\phi+\\pi) \\,d\\phi = \\int_{\\theta_d}^{\\pi-\\theta_d} K_{act}(-V_0 \\sin\\phi + \\delta)(-\\sin\\phi) \\,d\\phi = \\int_{\\theta_d}^{\\pi-\\theta_d} K_{act}(V_0 \\sin\\phi - \\delta)\\sin\\phi \\,d\\phi$。\n因此，这两个积分确实是相同的。\n$$\nB_1 = \\frac{2K_{act}}{\\pi} \\int_{\\theta_d}^{\\pi-\\theta_d} (V_0 \\sin^2\\theta - \\delta \\sin\\theta) \\,d\\theta\n$$\n我们逐项计算该积分：\n$\\int (\\sin^2\\theta) d\\theta = \\frac{\\theta}{2} - \\frac{\\sin(2\\theta)}{4}$\n$\\int (\\sin\\theta) d\\theta = -\\cos\\theta$\n所以，$\\int_{\\theta_d}^{\\pi-\\theta_d} (V_0 \\sin^2\\theta - \\delta \\sin\\theta) \\,d\\theta = \\left[ V_0\\left(\\frac{\\theta}{2} - \\frac{\\sin(2\\theta)}{4}\\right) + \\delta \\cos\\theta \\right]_{\\theta_d}^{\\pi-\\theta_d}$\n在上下限处求值：\n$= \\left( V_0\\left(\\frac{\\pi-\\theta_d}{2} - \\frac{\\sin(2\\pi-2\\theta_d)}{4}\\right) + \\delta \\cos(\\pi-\\theta_d) \\right) - \\left( V_0\\left(\\frac{\\theta_d}{2} - \\frac{\\sin(2\\theta_d)}{4}\\right) + \\delta \\cos\\theta_d \\right)$\n使用 $\\sin(2\\pi-2\\theta_d)=-\\sin(2\\theta_d)$ 和 $\\cos(\\pi-\\theta_d)=-\\cos\\theta_d$：\n$= V_0\\left(\\frac{\\pi-2\\theta_d}{2} - \\frac{-\\sin(2\\theta_d)-\\sin(2\\theta_d)}{4}\\right) + \\delta(-\\cos\\theta_d - \\cos\\theta_d)$\n$= V_0\\left(\\frac{\\pi}{2} - \\theta_d + \\frac{\\sin(2\\theta_d)}{2}\\right) - 2\\delta \\cos\\theta_d$\n使用 $\\sin(2\\theta_d) = 2\\sin\\theta_d\\cos\\theta_d$：\n$= V_0\\left(\\frac{\\pi}{2} - \\theta_d + \\sin\\theta_d\\cos\\theta_d\\right) - 2\\delta \\cos\\theta_d$\n现在代入 $\\delta = V_0 \\sin\\theta_d$：\n$= V_0\\left(\\frac{\\pi}{2} - \\theta_d + \\sin\\theta_d\\cos\\theta_d\\right) - 2(V_0\\sin\\theta_d) \\cos\\theta_d = V_0\\left(\\frac{\\pi}{2} - \\theta_d - \\sin\\theta_d\\cos\\theta_d\\right)$\n将此结果代回 $B_1$ 的表达式中：\n$$\nB_1 = \\frac{2 K_{act} V_0}{\\pi} \\left( \\frac{\\pi}{2} - \\theta_d - \\sin\\theta_d \\cos\\theta_d \\right)\n$$\n\n**步骤3：计算改善比 R**\n\n改善比为 $R = B_2 / B_1$。\n$$\nR = \\frac{V_0}{\\frac{2 K_{act} V_0}{\\pi} \\left( \\frac{\\pi}{2} - \\theta_d - \\sin\\theta_d \\cos\\theta_d \\right)} = \\frac{\\pi}{2 K_{act} \\left( \\frac{\\pi}{2} - \\theta_d - \\sin\\theta_d \\cos\\theta_d \\right)}\n$$\n\n**步骤4：代入数值**\n给定参数为 $V_0 = 0.5$, $\\delta = 0.2$ 及 $K_{act} = 1.5$。首先，我们求出 $\\theta_d$：\n$$\n\\sin\\theta_d = \\frac{\\delta}{V_0} = \\frac{0.2}{0.5} = 0.4\n$$\n$$\n\\theta_d = \\arcsin(0.4) \\approx 0.4115168 \\text{ radians}\n$$\n我们还需要 $\\cos\\theta_d$：\n$$\n\\cos\\theta_d = \\sqrt{1 - \\sin^2\\theta_d} = \\sqrt{1 - 0.4^2} = \\sqrt{1 - 0.16} = \\sqrt{0.84} \\approx 0.9165151\n$$\n现在，我们计算分母中的项：\n$$\n\\frac{\\pi}{2} - \\theta_d - \\sin\\theta_d \\cos\\theta_d = \\frac{\\pi}{2} - \\arcsin(0.4) - (0.4)\\sqrt{0.84}\n$$\n$$\n\\approx 1.570796 - 0.411517 - (0.4)(0.916515) \\approx 1.570796 - 0.411517 - 0.366606 \\approx 0.792673\n$$\n现在，我们计算 R 的完整分母：\n$$\n2 K_{act} (\\dots) = 2 \\times 1.5 \\times 0.792673 = 3 \\times 0.792673 = 2.378019\n$$\n最后，我们计算 R：\n$$\nR = \\frac{\\pi}{2.378019} \\approx \\frac{3.141593}{2.378019} \\approx 1.32110\n$$\n保留三位有效数字，我们得到 $1.32$。", "answer": "$$\\boxed{1.32}$$", "id": "1563690"}]}