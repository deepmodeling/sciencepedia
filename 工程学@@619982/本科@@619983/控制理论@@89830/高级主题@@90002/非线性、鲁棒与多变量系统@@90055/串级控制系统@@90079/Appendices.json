{"hands_on_practices": [{"introduction": "理解串级控制系统如何响应设定点变化是评估其性能的第一步。这个练习将引导你分析一个由两个比例（P）控制器组成的典型串级系统，通过计算主变量的稳态误差，你将能亲手验证控制器增益如何直接影响系统的最终控制精度。这是一个基础但至关重要的计算，有助于你建立对串级系统稳态特性的直观理解。[@problem_id:1561686]", "problem": "一个串级控制系统用于调节化学反应器的温度。主（外）回路控制反应器温度，而副（内）回路控制围绕反应器的加热夹套的温度。\n\n该系统的动态特性由以下一阶传递函数建模：\n- 主过程，它关联了夹套温度与反应器温度，其传递函数为 $G_{p1}(s) = \\frac{K_1}{\\tau_1 s + 1}$，其中过程增益为 $K_1 = 0.75$，时间常数为 $\\tau_1 = 12$ 分钟。\n- 副过程，它关联了控制器输出（例如，蒸汽阀门位置）与夹套温度，其传递函数为 $G_{p2}(s) = \\frac{K_2}{\\tau_2 s + 1}$，其中过程增益为 $K_2 = 1.5$，时间常数为 $\\tau_2 = 3$ 分钟。\n\n两个控制器均为纯比例控制器：\n- 主控制器的传递函数为 $G_{c1}(s) = K_{c1}$，其增益为 $K_{c1} = 2.0$。\n- 副控制器的传递函数为 $G_{c2}(s) = K_{c2}$，其增益为 $K_{c2} = 5.0$。\n\n在此配置中，主控制器 $G_{c1}(s)$ 的输出作为副回路的设定值。\n\n假设系统初始处于稳态，对主变量（反应器温度）的设定值施加一个单位阶跃变化。计算主变量的新的稳态偏移。偏移被定义为设定值与稳态时测得的过程变量之间的差值。\n\n答案以数值形式表示，并四舍五入至三位有效数字。", "solution": "我们用 $y_{1}$ 表示反应器温度，用 $y_{2}$ 表示夹套温度。内（副）回路跟踪其设定值 $r_{2}$，外（主）回路跟踪反应器设定值 $r_{1}$。各环节如下：\n- 主过程：$G_{p1}(s)=\\frac{K_{1}}{\\tau_{1}s+1}$，\n- 副过程：$G_{p2}(s)=\\frac{K_{2}}{\\tau_{2}s+1}$，\n- 主控制器：$G_{c1}(s)=K_{c1}$，\n- 副控制器：$G_{c2}(s)=K_{c2}$。\n\n对于内回路，在 $y_{2}$ 上施加单位反馈，从 $r_{2}$ 到 $y_{2}$ 的闭环传递函数为\n$$\nT_{2}(s)=\\frac{G_{c2}(s)G_{p2}(s)}{1+G_{c2}(s)G_{p2}(s)}.\n$$\n在稳态下，我们使用静态增益（令 $s=0$），所以 $G_{p1}(0)=K_{1}$，$G_{p2}(0)=K_{2}$，并且\n$$\nT_{2}(0)=\\frac{K_{c2}K_{2}}{1+K_{c2}K_{2}}.\n$$\n\n外回路的关系式为\n$$\ny_{2}=T_{2}(s)\\,r_{2},\\quad y_{1}=G_{p1}(s)\\,y_{2},\\quad r_{2}=G_{c1}(s)\\,(r_{1}-y_{1}).\n$$\n合并并在稳态下求值，得到\n$$\ny_{1}=K_{1}\\,T_{2}(0)\\,K_{c1}\\,(r_{1}-y_{1}).\n$$\n整理后，\n$$\ny_{1}\\bigl[1+K_{c1}K_{1}T_{2}(0)\\bigr]=K_{c1}K_{1}T_{2}(0)\\,r_{1},\n$$\n因此，从 $r_{1}$ 到 $y_{1}$ 的稳态闭环增益为\n$$\n\\frac{y_{1,\\mathrm{ss}}}{r_{1}}=\\frac{A}{1+A},\\quad \\text{其中 } A=K_{c1}K_{1}T_{2}(0)=K_{c1}K_{1}\\,\\frac{K_{c2}K_{2}}{1+K_{c2}K_{2}}.\n$$\n对于 $r_{1}$ 的单位阶跃，稳态偏移（误差）为\n$$\ne_{\\mathrm{ss}}=r_{1}-y_{1,\\mathrm{ss}}=1-\\frac{A}{1+A}=\\frac{1}{1+A}.\n$$\n\n代入给定的增益值 $K_{1}=0.75$，$K_{2}=1.5$，$K_{c1}=2.0$，$K_{c2}=5.0$：\n$$\nK_{c2}K_{2}=5.0\\times 1.5=7.5=\\frac{15}{2},\\quad T_{2}(0)=\\frac{7.5}{1+7.5}=\\frac{15/2}{17/2}=\\frac{15}{17},\n$$\n$$\nA=K_{c1}K_{1}T_{2}(0)=2.0\\times 0.75\\times \\frac{15}{17}=\\frac{3}{2}\\times \\frac{15}{17}=\\frac{45}{34},\n$$\n$$\ne_{\\mathrm{ss}}=\\frac{1}{1+\\frac{45}{34}}=\\frac{34}{79}\\approx 0.430379746.\n$$\n四舍五入到三位有效数字，稳态偏移为 $0.430$。\n\n注意，时间常数 $\\tau_{1}$ 和 $\\tau_{2}$ 不影响稳态偏移；只有直流增益对稳态行为有影响。", "answer": "$$\\boxed{0.430}$$", "id": "1561686"}, {"introduction": "串级控制成功的关键在于设计一个快速且稳定的内环，它能迅速消除次级扰动。本练习将你置于工程师的角色，要求你为一个具体的次级过程设计一个比例-积分（PI）控制器。你需要运用频率域的方法，通过设定增益穿越频率和相位裕度这两个关键指标来确定控制器参数，这是工业实践中非常核心的一项技能。[@problem_id:1561689]", "problem": "在一家化工厂中，采用串级控制策略来调节连续搅拌釜反应器 (CSTR) 中反应混合物的温度。该系统的内环路控制反应器加热夹套的温度。这个副过程的动态行为，即将加热器功率输入与夹套温度相关联，由传递函数 $G_{p2}(s)$ 建模。\n\n副过程由以下公式描述：\n$$G_{p2}(s) = \\frac{K_p e^{-\\theta s}}{(\\tau_1 s + 1)(\\tau_2 s + 1)}$$\n其中过程增益为 $K_p = 2.0$ (单位为 K/kW)，时间常数为 $\\tau_1 = 5.0$ s 和 $\\tau_2 = 1.0$ s，并存在一个 $\\theta = 0.5$ s 的传输延迟。\n\n需要为该内环路设计一个比例-积分 (PI) 控制器。该控制器具有标准形式：\n$$G_{c2}(s) = K_c \\left(1 + \\frac{1}{\\tau_I s}\\right)$$\n\n您的任务是确定控制器参数，即比例增益 $K_c$ 和积分时间常数 $\\tau_I$，使得内开环系统 $G_{OL,2}(s) = G_{c2}(s)G_{p2}(s)$ 的增益交越频率为 $\\omega_{gc} = 0.5 \\text{ rad/s}$，相位裕度为 $60^\\circ$。\n\n请用数值表示参数对 $(K_c, \\tau_I)$ 的答案。$\\tau_I$ 的值必须以秒为单位。将两个值都四舍五入到三位有效数字。", "solution": "内环路的开环传递函数为\n$$G_{OL,2}(s)=G_{c2}(s)G_{p2}(s)=K_{c}\\left(1+\\frac{1}{\\tau_{I}s}\\right)\\frac{K_{p}\\exp(-\\theta s)}{(\\tau_{1}s+1)(\\tau_{2}s+1)}.$$\n在期望的增益交越频率 $\\omega_{gc}$ 处，Bode 设计条件为：\n- 幅值条件：$\\left|G_{OL,2}(j\\omega_{gc})\\right|=1$。\n- 对应于相位裕度 $\\text{PM}$ 的相位条件：$\\arg\\{G_{OL,2}(j\\omega_{gc})\\}=-\\pi+\\text{PM}$。\n\n写出在 $\\omega=\\omega_{gc}$ 处的频率响应：\n$$G_{p2}(j\\omega)=\\frac{K_{p}\\exp(-j\\omega\\theta)}{(1+j\\omega\\tau_{1})(1+j\\omega\\tau_{2})},\\quad G_{c2}(j\\omega)=K_{c}\\left(1+\\frac{1}{j\\omega\\tau_{I}}\\right)=K_{c}\\frac{1+j\\omega\\tau_{I}}{j\\omega\\tau_{I}}.$$\n\n因此，\n- 控制器的幅值和相位：\n$$|G_{c2}(j\\omega)|=K_{c}\\frac{\\sqrt{1+(\\omega\\tau_{I})^{2}}}{\\omega\\tau_{I}},\\qquad \\arg\\{G_{c2}(j\\omega)\\}=\\arctan(\\omega\\tau_{I})-\\frac{\\pi}{2}.$$\n- 对象的幅值和相位：\n$$|G_{p2}(j\\omega)|=\\frac{K_{p}}{\\sqrt{(1+(\\omega\\tau_{1})^{2})(1+(\\omega\\tau_{2})^{2})}},$$\n$$\\arg\\{G_{p2}(j\\omega)\\}=-\\arctan(\\omega\\tau_{1})-\\arctan(\\omega\\tau_{2})-\\omega\\theta.$$\n\n在 $\\omega=\\omega_{gc}$ 处的相位设计：\n$$\\arctan(\\omega_{gc}\\tau_{I})-\\frac{\\pi}{2}-\\arctan(\\omega_{gc}\\tau_{1})-\\arctan(\\omega_{gc}\\tau_{2})-\\omega_{gc}\\theta=-\\pi+\\text{PM}.$$\n当 $\\text{PM}=\\pi/3$ 时，上式变为\n$$\\arctan(\\omega_{gc}\\tau_{I})=\\frac{\\pi}{2}+\\arctan(\\omega_{gc}\\tau_{1})+\\arctan(\\omega_{gc}\\tau_{2})+\\omega_{gc}\\theta-\\frac{2\\pi}{3}.$$\n\n代入给定值 $K_{p}=2$，$\\tau_{1}=5$，$\\tau_{2}=1$，$\\theta=0.5$ 和 $\\omega_{gc}=0.5$：\n$$\\arctan(0.5\\,\\tau_{I})=\\frac{\\pi}{2}+\\arctan(0.5\\times 5)+\\arctan(0.5\\times 1)+0.5\\times 0.5-\\frac{2\\pi}{3}.$$\n对右侧进行数值计算：\n$$\\arctan(2.5)\\approx 1.1902899497,\\quad \\arctan(0.5)\\approx 0.4636476090,\\quad 0.5\\times 0.5=0.25,$$\n$$\\Rightarrow \\arctan(0.5\\,\\tau_{I})\\approx 1.5707963268+1.1902899497+0.4636476090+0.25-\\frac{2\\pi}{3}\\approx 1.3803387831.$$\n因此\n$$0.5\\,\\tau_{I}=\\tan(1.3803387831)\\;\\Rightarrow\\;\\tau_{I}=\\frac{2\\tan(1.3803387831)}{1}\\approx 10.374\\ \\text{s}.$$\n\n在 $\\omega=\\omega_{gc}$ 处的幅值设计：\n$$\\left|G_{OL,2}(j\\omega_{gc})\\right|=K_{c}\\,\\frac{\\sqrt{1+(0.5\\,\\tau_{I})^{2}}}{0.5\\,\\tau_{I}}\\cdot \\frac{K_{p}}{\\sqrt{(1+(0.5\\tau_{1})^{2})(1+(0.5\\tau_{2})^{2})}}=1.$$\n已知 $\\tau_{I}\\approx 10.374$，我们有 $0.5\\,\\tau_{I}\\approx 5.187$，所以\n$$\\frac{\\sqrt{1+(0.5\\,\\tau_{I})^{2}}}{0.5\\,\\tau_{I}}\\approx \\frac{\\sqrt{1+5.187^{2}}}{5.187}\\approx 1.0184.$$\n同样地，\n$$\\sqrt{(1+(0.5\\tau_{1})^{2})(1+(0.5\\tau_{2})^{2})}=\\sqrt{(1+2.5^{2})(1+0.5^{2})}=\\sqrt{7.25\\times 1.25}=\\sqrt{9.0625}\\approx 3.0104,$$\n所以\n$$|G_{p2}(j\\omega_{gc})|=\\frac{K_{p}}{3.0104}=\\frac{2}{3.0104}\\approx 0.6649.$$\n因此\n$$K_{c}=\\frac{1}{\\left(\\frac{\\sqrt{1+(0.5\\,\\tau_{I})^{2}}}{0.5\\,\\tau_{I}}\\right)\\left(\\frac{K_{p}}{\\sqrt{(1+(0.5\\tau_{1})^{2})(1+(0.5\\tau_{2})^{2})}}\\right)}\\approx \\frac{1}{1.0184\\times 0.6649}\\approx 1.48.$$\n\n四舍五入到三位有效数字：\n$$K_{c}\\approx 1.48,\\qquad \\tau_{I}\\approx 10.4\\ \\text{s}.$$", "answer": "$$\\boxed{\\begin{pmatrix}1.48 & 10.4\\end{pmatrix}}$$", "id": "1561689"}, {"introduction": "理论模型让我们了解理想情况，但现实世界的控制系统必须能够应对意外故障。这个实践是一个思想实验，模拟了内环温度传感器失效这一严重情况。你需要推断当控制器接收到错误的反馈信号时，整个系统的动态行为会如何演变，这不仅考验你对串级控制工作原理的深刻理解，也强调了在系统设计中考虑鲁棒性和安全性的重要性。[@problem_id:1561723]", "problem": "在一个化工处理厂中，一个串级控制系统被用来调节一个发生放热反应的连续搅拌釜反应器（CSTR）的温度。主控制回路的目标是，将反应器的内部温度（主过程变量）维持在 350 K 的恒定设定值。主控制器是一个比例-积分（PI）控制器，它通过调节副控制回路的设定值来实现这一目标。\n\n副控制回路的目的是管理围绕反应器的夹套中的加热/冷却流体的温度。这个副控制器也是一个PI控制器，它根据主控制器提供的设定值，通过操作一个蒸汽阀来控制夹套温度（副过程变量）。两个控制器都被配置为“正作用”型，意味着测量误差的增加会导致控制器输出信号的增加。\n\n假设系统稳定运行，反应器温度为其设定值 350 K。突然，夹套中的温度传感器发生故障。它停止测量实际的夹套温度，而是向副控制器发送一个 340 K 的恒定不变信号。在正常稳态条件下，主控制器发送给副控制器的设定值通常在 365 K 左右。\n\n下列哪个陈述最准确地描述了这次传感器故障后，反应器内部温度最可能的长期行为？\n\nA. 反应器温度将稳定在一个远低于其 350 K 设定值的新恒定值。\n\nB. 反应器温度将精确地稳定在其 350 K 的设定值，因为主控制器会补偿该故障。\n\nC. 反应器温度将开始围绕其 350 K 的设定值以恒定振幅振荡。\n\nD. 系统将变得无响应，反应器温度将固定在 350 K。\n\nE. 反应器温度将持续上升，可能导致热失控状态，直到安全系统介入。", "solution": "令反应器温度为 $T_{r}$（主过程变量），夹套温度为 $T_{j}$（副过程变量），主设定值为 $\\text{SP}_{1}=350\\,\\text{K}$，副设定值为 $\\text{SP}_{2}$（主控制器的输出），故障后的副回路测量值为 $\\text{PV}_{2}=340\\,\\text{K}$（故障后为常数）。两个控制器都是正作用PI控制器。\n\n对于每个PI控制器，其控制律为\n$$\nu(t)=K_{p} e(t)+K_{i}\\int_{0}^{t} e(\\tau)\\,d\\tau,\n$$\n其中误差定义为 $e=\\text{SP}-\\text{PV}$。正作用意味着如果 $e$ 增加，那么 $u$ 也增加。\n\n在副回路传感器发生故障后，副回路的误差为\n$$\ne_{2}=\\text{SP}_{2}-\\text{PV}_{2}=\\text{SP}_{2}-340.\n$$\n在正常稳态下，$\\text{SP}_{2}\\approx 365$，因此 $e_{2}>0$ 是一个正常数。副回路PI控制器的输出因此演变为\n$$\nu_{2}(t)=K_{p2} e_{2}+K_{i2}\\int_{0}^{t} e_{2}\\,d\\tau=K_{p2}(\\text{SP}_{2}-340)+K_{i2}(\\text{SP}_{2}-340)\\,t+u_{2}(0),\n$$\n并且会趋向其上饱和限 $u_{\\max}$（蒸汽阀全开），因为当测量值卡住时 $e_{2}$ 保持非零。当蒸汽阀全开时，实际的夹套温度 $T_{j}$ 会远高于其正常操作值。\n\n反应器的能量平衡（集总、示意性）为\n$$\nC V \\frac{dT_{r}}{dt}=q_{\\text{gen}}(T_{r})-U A\\,(T_{r}-T_{j})-\\dot{m} c_{p}\\,(T_{r}-T_{\\text{in}}),\n$$\n其中 $q_{\\text{gen}}(T_{r})$ 是放热量，它随着 $T_{r}$ 的增加而增加，近似地遵循阿伦尼乌斯依赖关系（例如，一个与 $\\exp\\!\\left(-\\frac{E}{R T_{r}}\\right)$ 成正比的速率常数乘以一个放热焓项），因此 $q_{\\text{gen}}$ 随 $T_{r}$ 的增加而增加。由于 $u_{2}=u_{\\max}$ 导致 $T_{j}$ 被推高，项 $-U A\\,(T_{r}-T_{j})$ 变为正向加热 $U A\\,(T_{j}-T_{r})$，向反应器加热。因此，夹套提供了净加热，同时放热反应随温度升高而加速，形成了一个将 $T_{r}$ 推高的强正反馈。\n\n主控制器计算 $e_{1}=\\text{SP}_{1}-T_{r}=350-T_{r}$。当 $T_{r}$ 上升超过 350 K 时，$e_{1}<0$，并且（对于正作用PI控制器）主控制器输出 $\\text{SP}_{2}$ 将被向下驱动。如果 $\\text{SP}_{2}$ 降到 340 K 以下，那么 $e_{2}=\\text{SP}_{2}-340<0$，副控制器原则上会减小蒸汽阀的开度。然而，由于副回路的测量值卡住了，并且副回路PI控制器已经积分了一个大的正误差，由于积分饱和和执行器限制，副控制器的输出将在很长一段时间内保持在 $u_{\\max}$ 饱和。因此，即使主控制器试图减小 $\\text{SP}_{2}$，夹套仍持续提供最大加热，所以实际操纵的热输入并不遵循主控制器的指令。\n\n考虑到放热反应（其 $q_{\\text{gen}}(T_{r})$ 随 $T_{r}$ 增加）和夹套（实际上被锁定在最大加热状态）的组合，反应器温度 $T_{r}$ 将持续上升。主控制器不能直接关闭蒸汽阀，因为它只向一个现已“失明”的副回路发出设定值；由于内回路在高位饱和，整个串级系统失去了调节热输入的能力。因此，最可能的长期行为是 $T_{r}$ 持续上升，直至发生热失控，直到安全联锁系统介入。\n\n在给定的选项中，这对应于选项 E。", "answer": "$$\\boxed{E}$$", "id": "1561723"}]}