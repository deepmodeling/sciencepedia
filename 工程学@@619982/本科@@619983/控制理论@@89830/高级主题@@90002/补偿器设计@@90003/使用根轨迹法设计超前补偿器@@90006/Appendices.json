{"hands_on_practices": [{"introduction": "任何根轨迹设计的第一步都是验证。本练习将介绍用于此任务最基本的工具：相角条件。通过应用该条件，你可以确定一个代表特定系统性能的期望闭环极点位置，对于一个给定的补偿器是否是物理上可实现的 [@problem_id:1570605]。掌握这项验证技能是设计和调试控制系统的基石。", "problem": "在一个单位反馈控制系统中，一个受控对象由传递函数 $G(s) = \\frac{K}{s(s+4)}$ 描述，其中 $K$ 是一个正实数增益。为了改善瞬态响应，一个传递函数为 $G_c(s) = \\frac{s+3}{s+6}$ 的超前补偿器与该受控对象串联。\n\n一位设计者提出，如果系统在 $s_d = -4 + j4$ 处有一对主导闭环极点，则可以满足一组特定的性能指标。下列哪个陈述正确地评估了实现这一极点位置的可行性？\n\nA. 是的，对于某个正增益 $K$，点 $s_d = -4 + j4$ 位于根轨迹上。\nB. 不，对于任何正增益 $K$，点 $s_d = -4 + j4$ 都不在根轨迹上。\nC. 只有当补偿器零点位于 $s=-2$ 而不是 $s=-3$ 时，该点才可能在根轨迹上。\nD. 在不知道增益 $K$ 的具体数值的情况下，不可能确定该点是否在根轨迹上。", "solution": "解决这个问题的核心原理是根轨迹的相角条件。$s$平面中的一个点 $s_d$ 位于一个系统的根轨迹上，当且仅当它满足相角条件。对于一个开环传递函数为 $L(s)$ 的单位反馈系统，相角条件由下式给出：\n$$ \\angle L(s_d) = (2n+1)180^\\circ $$\n其中 $n$ 是任意整数（例如，0, $\\pm 1$, $\\pm 2$, ...），且增益 $K$ 为正。\n\n首先，我们定义补偿后系统的开环传递函数 $L(s)$。它是补偿器传递函数 $G_c(s)$ 和受控对象传递函数 $G(s)$ 的乘积。\n$$ L(s) = G_c(s) G(s) = \\left( \\frac{s+3}{s+6} \\right) \\left( \\frac{K}{s(s+4)} \\right) = \\frac{K(s+3)}{s(s+4)(s+6)} $$\n开环零点位于 $s = -3$。\n开环极点位于 $s = 0$，$s = -4$ 和 $s = -6$。\n\n现在，我们必须在期望的极点位置 $s_d = -4 + j4$ 处计算 $L(s)$ 的相角。$L(s_d)$ 的相角是来自零点的相角之和减去来自极点的相角之和。增益 $K$ 是一个正实数，所以它的相角是 $0^\\circ$，对总和没有贡献。\n$$ \\angle L(s_d) = \\angle(s_d+3) - \\left( \\angle(s_d) + \\angle(s_d+4) + \\angle(s_d+6) \\right) $$\n\n我们通过将每一项视为复平面中从极点/零点位置出发并终止于点 $s_d$ 的向量，来计算它们的相角。\n\n1.  **来自零点 $s = -3$ 的相角**：\n    向量为 $s_d - (-3) = (-4 + j4) + 3 = -1 + j4$。该向量位于第二象限。\n    $$ \\theta_z = \\angle(-1+j4) = 180^\\circ - \\arctan\\left(\\frac{4}{1}\\right) \\approx 180^\\circ - 75.96^\\circ = 104.04^\\circ $$\n\n2.  **来自极点 $s = 0$ 的相角**：\n    向量为 $s_d - 0 = -4 + j4$。该向量位于第二象限。\n    $$ \\phi_{p1} = \\angle(-4+j4) = 180^\\circ - \\arctan\\left(\\frac{4}{4}\\right) = 180^\\circ - 45^\\circ = 135^\\circ $$\n\n3.  **来自极点 $s = -4$ 的相角**：\n    向量为 $s_d - (-4) = (-4 + j4) + 4 = 0 + j4$。该向量位于正虚轴上。\n    $$ \\phi_{p2} = \\angle(j4) = 90^\\circ $$\n\n4.  **来自极点 $s = -6$ 的相角**：\n    向量为 $s_d - (-6) = (-4 + j4) + 6 = 2 + j4$。该向量位于第一象限。\n    $$ \\phi_{p3} = \\angle(2+j4) = \\arctan\\left(\\frac{4}{2}\\right) = \\arctan(2) \\approx 63.43^\\circ $$\n\n现在，我们根据相角条件公式将这些相角相加：\n$$ \\angle L(s_d) = \\theta_z - (\\phi_{p1} + \\phi_{p2} + \\phi_{p3}) $$\n$$ \\angle L(s_d) \\approx 104.04^\\circ - (135^\\circ + 90^\\circ + 63.43^\\circ) $$\n$$ \\angle L(s_d) \\approx 104.04^\\circ - 288.43^\\circ = -184.39^\\circ $$\n\n相角条件要求总相角是 $180^\\circ$ 的奇数倍，例如 $-180^\\circ$, $180^\\circ$, $-540^\\circ$ 等。我们计算出的相角是 $-184.39^\\circ$，对于任何整数 $n$，它都不等于 $(2n+1)180^\\circ$。\n因此，点 $s_d = -4 + j4$ 不满足相角条件，并且对于任何正值 $K$，它都不能成为该系统的闭环极点。\n\n这排除了选项A。选项D是不正确的，因为相角条件不依赖于 $K$ 的值（只要 $K>0$）。选项C提出了一个不同的补偿器，但根据我们对给定系统的分析，该点不在根轨迹上。正确的结论是该点不在根轨迹上。这对应于选项B。", "answer": "$$\\boxed{B}$$", "id": "1570605"}, {"introduction": "本练习超越了简单的验证，让你坐上设计师的位置。在这里，你将不只是检查一个预先定义的系统，而是要利用相角条件来主动塑造根轨迹。这个问题演示了如何计算超前补偿器极点的精确位置，从而强制根轨迹穿过 $s$ 平面中的一个期望点，将设计参数与性能结果直接联系起来 [@problem_id:1570555]。", "problem": "一个单轴卫星姿态控制系统的简化开环传递函数模型由下式给出：\n$$ G_p(s) = \\frac{K}{s(s+2)} $$\n其中 $K$ 是一个可调增益。为满足瞬态响应的特定性能要求，希望闭环系统有一对主导极点位于 $s_d = -3 \\pm j3$。\n\n为实现此目标，一个形式为\n$$ G_c(s) = K_c \\frac{s+z_c}{s+p_c} $$\n的超前补偿器与被控对象串联。由于硬件限制，补偿器的零点固定在 $s=-z_c = -3$。\n\n确定补偿器极点 $s = -p_c$ 所需的 $p_c$ 值，以使期望的极点位置 $s_d = -3+j3$ 位于补偿后系统的根轨迹上。", "solution": "补偿后的开环传递函数为\n$$\nL(s)=G_{c}(s)G_{p}(s)=K K_{c}\\,\\frac{s+z_{c}}{s(s+2)(s+p_{c})}.\n$$\n由于零点固定在 $s=-z_{c}=-3$，我们有 $z_{c}=3$，因此\n$$\nL(s)=K K_{c}\\,\\frac{s+3}{s(s+2)(s+p_{c})}.\n$$\n为使期望的闭环主导极点 $s_{d}=-3+j3$ 位于根轨迹上，必须满足相角条件：\n$$\n\\angle\\left(s_{d}+3\\right)-\\angle\\left(s_{d}\\right)-\\angle\\left(s_{d}+2\\right)-\\angle\\left(s_{d}+p_{c}\\right)=(2m+1)\\pi,\\quad m\\in\\mathbb{Z}.\n$$\n计算各个相角：\n- 来自零点 $-3$ 的相角：$s_{d}+3=0+j3$，因此 $\\angle(s_{d}+3)=\\frac{\\pi}{2}$。\n- 来自极点 $0$ 的相角：$s_{d}=-3+j3$，因此 $\\angle(s_{d})=\\frac{3\\pi}{4}$。\n- 来自极点 $-2$ 的相角：$s_{d}+2=-1+j3$，因此 $\\angle(s_{d}+2)=\\pi-\\arctan(3)$。\n- 来自极点 $-p_{c}$ 的相角：$s_{d}+p_{c}=(p_{c}-3)+j3$。对于超前补偿器，我们取 $p_{c}>z_{c}=3$，所以 $p_{c}-3>0$ 并且\n$$\n\\angle(s_{d}+p_{c})=\\arctan\\left(\\frac{3}{p_{c}-3}\\right).\n$$\n选择分支使净相角等于 $-\\pi$（与数值一致），得到\n$$\n\\frac{\\pi}{2}-\\left(\\frac{3\\pi}{4}+\\pi-\\arctan(3)+\\arctan\\left(\\frac{3}{p_{c}-3}\\right)\\right)=-\\pi.\n$$\n对 $\\arctan\\left(\\frac{3}{p_{c}-3}\\right)$ 求解，\n$$\n\\arctan\\left(\\frac{3}{p_{c}-3}\\right)=\\arctan(3)-\\frac{\\pi}{4}.\n$$\n对两边取正切，并使用 $\\tan(a-b)=\\frac{\\tan a-\\tan b}{1+\\tan a\\,\\tan b}$，其中 $\\tan(\\arctan(3))=3$ 和 $\\tan(\\frac{\\pi}{4})=1$，我们得到\n$$\n\\frac{3}{p_{c}-3}=\\frac{3-1}{1+3\\cdot 1}=\\frac{2}{4}=\\frac{1}{2}.\n$$\n因此，\n$$\np_{c}-3=6\\quad\\Rightarrow\\quad p_{c}=9.\n$$\n这满足了相角条件，然后可以根据幅值条件选择增益 $K K_{c}$，而不会影响 $p_{c}$。", "answer": "$$\\boxed{9}$$", "id": "1570555"}, {"introduction": "为什么超前补偿器的特定结构——其零点比极点更靠近原点——如此关键？本练习通过一个常见的实现错误来探讨这个问题。通过分析交换补偿器极点和零点的后果，你将对超前补偿如何提供正相移、将根轨迹向左拉动以改善稳定性和瞬态响应，获得深刻的直观理解 [@problem_id:1570596]。这种定性分析对于建立稳健的工程判断至关重要。", "problem": "一位控制系统工程师的任务是改善一个单位反馈系统的暂态响应。受控对象由传递函数 $G(s) = \\frac{1}{s(s+a)}$ 描述，其中 $a$ 是一个正实数常量。目标是使用形式为 $C(s) = \\frac{s+z_c}{s+p_c}$ 的超前补偿器来实现更快的调节时间和更好的稳定裕度。在超前补偿器中，s平面上的零点比极点更靠近原点，即 $0 < z_c < p_c$。\n\n在为 $z_c$ 和 $p_c$ 设计了合适的值之后，该工程师犯了一个实现错误。部署的补偿器被意外地配置为 $C_{error}(s) = \\frac{s+p_c}{s+z_c}$，实际上是交换了极点和零点的位置。\n\n与未补偿系统相比，下列哪个陈述对该错误对系统根轨迹及其暂态响应的后果提供了最准确的定性描述？\n\nA. 错误的补偿器充当滞后补偿器。这会使根轨迹分支趋向于向右半平面弯曲，通常导致系统具有更长的调节时间。\nB. 错误的补偿器充当滞后补偿器。这会将根轨迹分支进一步拉向左半平面，导致系统具有更短的调节时间。\nC. 这个错误是微不足道的，因为极点和零点都在稳定的左半平面。系统的根轨迹和暂态响应将与预期的超前补偿设计几乎相同。\nD. 错误的补偿器仍然作为超前补偿器工作，但相位超前减小了。与未补偿系统相比，暂态响应会有所改善，但不如预期设计那么多。\nE. 错误的补偿器结构使开环系统不稳定。因此，对于任何正增益，都不可能实现稳定的闭环系统。", "solution": "单位反馈的开环传递函数是 $L(s)=K\\,C(s)\\,G(s)$，其中 $G(s)=\\frac{1}{s(s+a)}$，$a>0$。预期的超前补偿器是 $C_{\\text{lead}}(s)=\\frac{s+z_{c}}{s+p_{c}}$，其中 $0<z_{c}<p_{c}$，它将一个零点置于 $-z_{c}$，比位于 $-p_{c}$ 的极点更靠近原点。实现的错误补偿器是\n$$\nC_{\\text{error}}(s)=\\frac{s+p_{c}}{s+z_{c}},\n$$\n它将一个极点置于 $-z_{c}$，比位于 $-p_{c}$ 的零点更靠近原点；这是滞后补偿器的定义性结构。\n\n为了观察其相位特性，在虚轴上对补偿器进行求值：\n$$\n\\angle C_{\\text{lead}}(j\\omega)=\\arctan\\!\\Big(\\frac{\\omega}{z_{c}}\\Big)-\\arctan\\!\\Big(\\frac{\\omega}{p_{c}}\\Big)>0 \\quad\\text{for }\\omega>0,\\,0<z_{c}<p_{c},\n$$\n这是一个正的相位超前，而\n$$\n\\angle C_{\\text{error}}(j\\omega)=\\arctan\\!\\Big(\\frac{\\omega}{p_{c}}\\Big)-\\arctan\\!\\Big(\\frac{\\omega}{z_{c}}\\Big)=-\\Big[\\arctan\\!\\Big(\\frac{\\omega}{z_{c}}\\Big)-\\arctan\\!\\Big(\\frac{\\omega}{p_{c}}\\Big)\\Big]<0,\n$$\n这是一个相位滞后。因此，错误的补偿器是一个滞后补偿器。\n\n根轨迹上的点满足相角条件\n$$\n\\angle L(s)=\\angle\\big(K\\,C(s)\\,G(s)\\big)=(2k+1)\\pi,\\quad k\\in\\mathbb{Z}.\n$$\n相对于未补偿的受控对象 $G(s)$，超前补偿器在候选主导极点位置贡献正相位，因此为了满足相角条件，受控对象的相位贡献必须更负，这发生在左半平面中更靠左的点上。因此，超前补偿将根轨迹向左移动，从而改善了阻尼和速度。\n\n相反，错误的滞后补偿器在这些位置贡献负相位。为了满足相角条件，受控对象的相位贡献必须不那么负，这发生在更靠右的点上。因此，与未补偿和预期的超前补偿轨迹相比，滞后补偿会使根轨迹趋向于向右半平面弯曲。\n\n暂态响应由闭环主导极点决定。设主导极点位于 $s_{d}=\\sigma_{d}\\pm j\\omega_{d}$，其中 $\\sigma_{d}<0$。调节时间大约为\n$$\nT_{s}\\approx\\frac{4}{|\\sigma_{d}|}=\\frac{4}{\\zeta\\omega_{n}},\n$$\n其中 $\\zeta$ 和 $\\omega_{n}$ 分别是主导极点对的阻尼比和自然频率。如果根轨迹被向右拉，则 $|\\sigma_{d}|$ 减小，这会增加 $T_{s}$ 并通常会减小阻尼（导致更大的超调量），当增益沿移动后的轨迹选择时，与未补偿系统相比，会产生一个更慢、阻尼更差的暂态响应。\n\n错误的结构不会使开环系统不稳定，因为它在左半平面增加了一个极点和一个零点；对于合适的增益，稳定的闭环运行仍然是可能的，但性能会下降。\n\n因此，最准确的定性描述是，错误的补偿器充当滞后补偿器，它会使根轨迹趋向于向右半平面弯曲，导致更长的调节时间。", "answer": "$$\\boxed{A}$$", "id": "1570596"}]}