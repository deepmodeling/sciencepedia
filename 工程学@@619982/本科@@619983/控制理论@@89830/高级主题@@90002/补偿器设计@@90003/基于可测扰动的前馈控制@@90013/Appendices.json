{"hands_on_practices": [{"introduction": "本练习将引导你解决一个基础但至关重要的问题：如何设计一个静态前馈控制器来完全消除持续性扰动的稳态影响。通过分析一个高精度热处理室的案例，你将学习到前馈控制的核心思想，即利用过程模型来预测并抵消扰动的作用。这个练习是理解前馈补偿原理的绝佳起点。[@problem_id:1574107]", "problem": "一个高精度热处理室用于固化复合材料。室内的温度，其拉普拉斯变换为$T(s)$，通过调节供给加热元件的功率$P(s)$来控制。该过程的动态特性由以下传递函数建模：\n$$G_p(s) = \\frac{T(s)}{P(s)} = \\frac{K_p}{(\\tau_1 s + 1)(\\tau_2 s + 1)}$$\n其中，$K_p$是过程增益，$\\tau_1$和$\\tau_2$是过程时间常数。\n\n系统的一个显著且可测量的扰动是为放入样品而周期性地打开检修门，这会导致热量损失。该扰动（由信号$D(s)$表示）对室温的影响由以下扰动传递函数描述：\n$$G_d(s) = \\frac{T(s)}{D(s)} = \\frac{-K_d}{\\tau_d s + 1}$$\n其中，$K_d$是扰动增益，$\\tau_d$是扰动时间常数。所有常数 $K_p$、$K_d$、$\\tau_1$、$\\tau_2$、$\\tau_d$ 均为正实数。\n\n为了在不等待主比例-积分-微分（PID）控制器的反馈校正的情况下抵消开门引起的热量下降，实施了一种前馈控制方案。该方案利用对扰动$D(s)$的测量值，对加热器功率进行主动调节。调节量由一个具有恒定增益$K_{ff}$的简单静态前馈控制器确定。发送到加热器的总功率指令是主控制器的输出与前馈控制器输出之和，其中后者由$P_{ff}(s) = K_{ff} D(s)$给出。\n\n求解理论上能完全消除持续扰动（例如，门被无限期地保持打开状态）所引起的稳态温度变化的静态前馈增益$K_{ff}$的解析表达式。用给定参数表示你的答案。", "solution": "目标是确定静态前馈增益$K_{ff}$，以确保由持续扰动引起的稳态温度变化为零。总的温度变化$T(s)$是扰动直接引起的变化与前馈控制作用引起的变化之和。\n\n扰动$D(s)$对温度$T(s)$的直接影响由扰动传递函数$G_d(s)$给出：\n$$T_{direct}(s) = G_d(s) D(s)$$\n\n前馈控制器产生一个功率调节量 $P_{ff}(s) = K_{ff} D(s)$。这个功率调节量通过过程传递函数$G_p(s)$影响温度：\n$$T_{ff}(s) = G_p(s) P_{ff}(s) = G_p(s) K_{ff} D(s)$$\n\n由扰动和前馈补偿引起的总温度变化是这两种效应之和：\n$$T_{total}(s) = T_{direct}(s) + T_{ff}(s) = G_d(s) D(s) + G_p(s) K_{ff} D(s)$$\n我们可以提出$D(s)$因子，以找到从扰动到温度的总传递函数：\n$$\\frac{T_{total}(s)}{D(s)} = G_d(s) + G_p(s) K_{ff}$$\n\n我们关心的是对持续扰动的稳态响应。一个持续扰动可以建模为幅度为$d_0$的阶跃输入，因此其拉普拉斯变换为$D(s) = \\frac{d_0}{s}$。\n\n根据终值定理，我们可以通过计算 $\\lim_{t \\to \\infty} T_{total}(t) = \\lim_{s \\to 0} s T_{total}(s)$，从时域信号 $T_{total}(t)$ 的拉普拉斯变换 $T_{total}(s)$ 中求出其稳态值。\n\n应用终值定理求稳态温度变化$T_{ss}$：\n$$T_{ss} = \\lim_{s \\to 0} s T_{total}(s) = \\lim_{s \\to 0} s \\left( G_d(s) + G_p(s) K_{ff} \\right) D(s)$$\n代入$D(s) = \\frac{d_0}{s}$：\n$$T_{ss} = \\lim_{s \\to 0} s \\left( G_d(s) + G_p(s) K_{ff} \\right) \\frac{d_0}{s}$$\n$s$项相互抵消：\n$$T_{ss} = d_0 \\lim_{s \\to 0} \\left( G_d(s) + G_p(s) K_{ff} \\right)$$\n$$T_{ss} = d_0 \\left( \\lim_{s \\to 0} G_d(s) + \\left(\\lim_{s \\to 0} G_p(s)\\right) K_{ff} \\right)$$\n\n项$\\lim_{s \\to 0} G(s)$是稳定传递函数$G(s)$的稳态增益或直流增益，我们可以将其表示为$G(0)$。因此，表达式变为：\n$$T_{ss} = d_0 \\left( G_d(0) + G_p(0) K_{ff} \\right)$$\n\n为了实现完美的稳态抵消，我们需要$T_{ss} = 0$。由于扰动幅度$d_0$非零，这意味着：\n$$G_d(0) + G_p(0) K_{ff} = 0$$\n求解$K_{ff}$：\n$$K_{ff} = - \\frac{G_d(0)}{G_p(0)}$$\n\n现在，我们必须计算给定传递函数的直流增益。\n对于过程传递函数：\n$$G_p(s) = \\frac{K_p}{(\\tau_1 s + 1)(\\tau_2 s + 1)}$$\n$$G_p(0) = \\lim_{s \\to 0} \\frac{K_p}{(\\tau_1 s + 1)(\\tau_2 s + 1)} = \\frac{K_p}{(\\tau_1 \\cdot 0 + 1)(\\tau_2 \\cdot 0 + 1)} = \\frac{K_p}{1 \\cdot 1} = K_p$$\n\n对于扰动传递函数：\n$$G_d(s) = \\frac{-K_d}{\\tau_d s + 1}$$\n$$G_d(0) = \\lim_{s \\to 0} \\frac{-K_d}{\\tau_d s + 1} = \\frac{-K_d}{\\tau_d \\cdot 0 + 1} = -K_d$$\n\n最后，我们将这些直流增益代入$K_{ff}$的表达式中：\n$$K_{ff} = - \\frac{-K_d}{K_p}$$\n$$K_{ff} = \\frac{K_d}{K_p}$$\n这就是所求的静态前馈增益。", "answer": "$$\\boxed{\\frac{K_d}{K_p}}$$", "id": "1574107"}, {"introduction": "真实世界的系统往往是多变量的，即多个输入会影响多个输出。本练习将前馈控制的概念从单变量系统推广到多输入多输出（MIMO）系统。你将为一个简化的快速热处理（RTP）系统设计一个前馈控制器矩阵，以应对空间变化的扰动，这需要运用矩阵运算来解耦和抵消扰动通道。[@problem_id:1575780]", "problem": "一个简化的双温区快速热处理（RTP）系统用于半导体晶圆制造。每个温区的温度由一个专用的加热器控制。设 $T_1(t)$ 和 $T_2(t)$ 分别是温区1和温区2的温度，$P_1(t)$ 和 $P_2(t)$ 是供给相应加热器的功率。系统受到可测量的热扰动 $d_1(t)$ 和 $d_2(t)$，这些扰动是由冷却气体流量的波动引起的。\n\n在拉普拉斯域中，系统动态可以由一个多输入多输出（MIMO）模型描述：\n$$\n\\mathbf{T}(s) = \\mathbf{G}_p(s) \\mathbf{P}(s) + \\mathbf{G}_d(s) \\mathbf{d}(s)\n$$\n其中 $\\mathbf{T}(s) = \\begin{pmatrix} T_1(s) \\\\ T_2(s) \\end{pmatrix}$、$\\mathbf{P}(s) = \\begin{pmatrix} P_1(s) \\\\ P_2(s) \\end{pmatrix}$ 和 $\\mathbf{d}(s) = \\begin{pmatrix} d_1(s) \\\\ d_2(s) \\end{pmatrix}$ 分别是温度、加热器功率和扰动的拉普拉斯变换的列向量。\n\n包含温区之间热耦合的被控对象传递函数矩阵 $\\mathbf{G}_p(s)$ 和扰动传递函数矩阵 $\\mathbf{G}_d(s)$ 由下式给出：\n$$\n\\mathbf{G}_p(s) = \\frac{1}{s+1} \\begin{pmatrix} 2 & 1 \\\\ 1 & 2 \\end{pmatrix}\n$$\n$$\n\\mathbf{G}_d(s) = \\frac{1}{s+2} \\begin{pmatrix} 1 & 0 \\\\ 0 & 1 \\end{pmatrix}\n$$\n\n为抵消扰动的影响，需要设计一个前馈控制器，其传递函数矩阵为 $\\mathbf{G}_f(s)$。该控制器根据测量到的扰动，按照控制律 $\\mathbf{P}(s) = \\mathbf{G}_f(s) \\mathbf{d}(s)$ 调节加热器功率。\n\n假设零初始条件和零参考温度，求出能够提供完全扰动抑制的前馈控制器矩阵 $\\mathbf{G}_f(s)$ 的解析表达式，即对于任何非零扰动向量 $\\mathbf{d}(s)$，温度向量 $\\mathbf{T}(s)$ 恒为零。", "solution": "我们从给定的拉普拉斯域中的MIMO被控对象和扰动模型开始：\n$$\n\\mathbf{T}(s) = \\mathbf{G}_{p}(s)\\mathbf{P}(s) + \\mathbf{G}_{d}(s)\\mathbf{d}(s)，\n$$\n以及前馈控制律\n$$\n\\mathbf{P}(s) = \\mathbf{G}_{f}(s)\\mathbf{d}(s)。\n$$\n将控制律代入被控对象方程，得到\n$$\n\\mathbf{T}(s) = \\left(\\mathbf{G}_{p}(s)\\mathbf{G}_{f}(s) + \\mathbf{G}_{d}(s)\\right)\\mathbf{d}(s)。\n$$\n对任意扰动向量 $\\mathbf{d}(s)$ 实现完全扰动抑制需要\n$$\n\\mathbf{G}_{p}(s)\\mathbf{G}_{f}(s) + \\mathbf{G}_{d}(s) = \\mathbf{0}，\n$$\n这意味着，假设 $\\mathbf{G}_{p}(s)$ 是可逆的，\n$$\n\\mathbf{G}_{f}(s) = -\\mathbf{G}_{p}(s)^{-1}\\mathbf{G}_{d}(s)。\n$$\n\n已知\n$$\n\\mathbf{G}_{p}(s) = \\frac{1}{s+1}\\begin{pmatrix} 2 & 1 \\\\ 1 & 2 \\end{pmatrix}， \\quad\n\\mathbf{G}_{d}(s) = \\frac{1}{s+2}\\begin{pmatrix} 1 & 0 \\\\ 0 & 1 \\end{pmatrix}，\n$$\n我们计算 $\\mathbf{G}_{p}(s)^{-1}$。令 $\\mathbf{M} = \\begin{pmatrix} 2 & 1 \\\\ 1 & 2 \\end{pmatrix}$。则\n$$\n\\mathbf{G}_{p}(s) = \\frac{1}{s+1}\\mathbf{M} \\quad \\Rightarrow \\quad \\mathbf{G}_{p}(s)^{-1} = (s+1)\\mathbf{M}^{-1}。\n$$\n$\\mathbf{M}$ 的行列式是 $\\det(\\mathbf{M}) = 4 - 1 = 3$，其逆矩阵是\n$$\n\\mathbf{M}^{-1} = \\frac{1}{3}\\begin{pmatrix} 2 & -1 \\\\ -1 & 2 \\end{pmatrix}。\n$$\n因此，\n$$\n\\mathbf{G}_{p}(s)^{-1} = \\frac{s+1}{3}\\begin{pmatrix} 2 & -1 \\\\ -1 & 2 \\end{pmatrix}。\n$$\n乘以 $\\mathbf{G}_{d}(s)$ 得到\n$$\n\\mathbf{G}_{p}(s)^{-1}\\mathbf{G}_{d}(s) = \\frac{s+1}{3}\\begin{pmatrix} 2 & -1 \\\\ -1 & 2 \\end{pmatrix}\\cdot \\frac{1}{s+2}\\begin{pmatrix} 1 & 0 \\\\ 0 & 1 \\end{pmatrix}\n= \\frac{s+1}{3(s+2)}\\begin{pmatrix} 2 & -1 \\\\ -1 & 2 \\end{pmatrix}。\n$$\n因此，实现完全扰动抑制的前馈控制器是\n$$\n\\mathbf{G}_{f}(s) = -\\frac{s+1}{3(s+2)}\\begin{pmatrix} 2 & -1 \\\\ -1 & 2 \\end{pmatrix}\n= \\begin{pmatrix}\n-\\frac{2(s+1)}{3(s+2)} & \\frac{s+1}{3(s+2)} \\\\\n\\frac{s+1}{3(s+2)} & -\\frac{2(s+1)}{3(s+2)}\n\\end{pmatrix}。\n$$\n将此 $\\mathbf{G}_{f}(s)$ 代入 $\\mathbf{T}(s) = \\left(\\mathbf{G}_{p}(s)\\mathbf{G}_{f}(s) + \\mathbf{G}_{d}(s)\\right)\\mathbf{d}(s)$，得到乘以 $\\mathbf{d}(s)$ 的是零矩阵，从而确保在所述假设下，对于任何 $\\mathbf{d}(s)$ 都有 $\\mathbf{T}(s) \\equiv \\mathbf{0}$。", "answer": "$$\\boxed{\\begin{pmatrix}\n-\\frac{2(s+1)}{3(s+2)} & \\frac{s+1}{3(s+2)} \\\\\n\\frac{s+1}{3(s+2)} & -\\frac{2(s+1)}{3(s+2)}\n\\end{pmatrix}}$$", "id": "1575780"}, {"introduction": "理想的前馈控制器旨在完美地“抵消”被控对象的动态特性，但这在现实中并非总是可行。本练习探讨了一个关键的实际挑战：当系统存在非最小相位特性时，理想控制器会变得不稳定。你将为一台带有悬挂负载的四旋翼无人机设计一个稳定且物理可实现的前馈控制器，以抑制阵风扰动，从而掌握在理论与现实之间进行权衡和近似设计的核心工程技能。[@problem_id:1575797]", "problem": "一架四旋翼飞行器被用于通过缆绳悬挂并运输一个敏感的有效载荷。为抵消大气扰动的影响，该四旋翼飞行器配备了一个风速计，用于提供侧向阵风的实时测量数据。设计目标是构建一个前馈控制器，利用这些风力数据来主动稳定有效载荷。\n\n设 $\\theta(t)$ 为有效载荷偏离垂直方向的摆角，这是需要最小化的系统输出。控制输入 $u(t)$ 是指令给四旋翼飞行器的横向加速度。测得的扰动 $d(t)$ 是侧向风速。假设所有初始条件均为零。\n\n系统动力学由以下在拉普拉斯域中的线性化传递函数描述：\n\n1.  从四旋翼飞行器的指令加速度 $U(s) = \\mathcal{L}\\{u(t)\\}$ 到有效载荷摆角 $\\Theta(s) = \\mathcal{L}\\{\\theta(t)\\}$ 的过程传递函数 $G_p(s)$ 由下式给出：\n    $$G_p(s) = \\frac{K_p (1 - T_z s)}{s^2 + 2\\zeta\\omega_n s + \\omega_n^2}$$\n    该模型捕捉了核心的类摆动力学特性，并包含一个非最小相位零点，这是此类欠驱动空中操纵系统的一个特点。\n\n2.  从风速扰动 $D(s) = \\mathcal{L}\\{d(t)\\}$ 到有效载荷摆角 $\\Theta(s)$ 的扰动传递函数 $G_d(s)$ 由下式给出：\n    $$G_d(s) = \\frac{K_d}{s^2 + 2\\zeta\\omega_n s + \\omega_n^2}$$\n\n此处，$K_p$、$K_d$、$T_z$、$\\zeta$ 和 $\\omega_n$ 均为表示系统物理参数的正常数。\n\n你的任务是确定一个稳定且真的前馈控制器 $G_{ff}(s)$ 的传递函数，该控制器以测得的扰动 $D(s)$ 为输入，生成控制信号 $U(s)$。该控制器的设计应旨在最小化阵风对有效载荷摆角的影响。请给出用给定参数表示的 $G_{ff}(s)$ 的解析表达式。", "solution": "在零初始条件下，使用拉普拉斯变换，有效载荷的摆角满足\n$$\n\\Theta(s)=G_{p}(s)\\,U(s)+G_{d}(s)\\,D(s)。\n$$\n如果前馈控制器使用测得的扰动，使得 $U(s)=G_{ff}(s)\\,D(s)$，则闭环的扰动-输出映射变为\n$$\n\\frac{\\Theta(s)}{D(s)}=G_{p}(s)\\,G_{ff}(s)+G_{d}(s)。\n$$\n理想的扰动消除条件是\n$$\nG_{p}(s)\\,G_{ff}^{\\text{ideal}}(s)+G_{d}(s)=0\n\\quad\\Rightarrow\\quad\nG_{ff}^{\\text{ideal}}(s)=-\\frac{G_{d}(s)}{G_{p}(s)}。\n$$\n使用给定的传递函数，\n$$\nG_{p}(s)=\\frac{K_{p}\\left(1-T_{z}s\\right)}{s^{2}+2\\zeta\\omega_{n}s+\\omega_{n}^{2}}，\n\\qquad\nG_{d}(s)=\\frac{K_{d}}{s^{2}+2\\zeta\\omega_{n}s+\\omega_{n}^{2}}，\n$$\n可得\n$$\nG_{ff}^{\\text{ideal}}(s)=-\\frac{K_{d}}{K_{p}\\left(1-T_{z}s\\right)}。\n$$\n因为 $T_{z}>0$，因子 $\\left(1-T_{z}s\\right)^{-1}$ 在右半平面的 $s=1/T_{z}$ 处有一个极点，所以 $G_{ff}^{\\text{ideal}}(s)$ 是不稳定的，因此无法实现。\n\n为了获得一个稳定且真的近似，既能保持低频扰动抑制能力，又能避免对非最小相位零点求逆，我们将不稳定因子替换为其稳定镜像，即，\n$$\n\\frac{1}{1-T_{z}s}\\;\\leadsto\\;\\frac{1}{1+T_{z}s}。\n$$\n因此，选择稳定、真的前馈控制器\n$$\nG_{ff}(s)=-\\frac{K_{d}}{K_{p}\\left(1+T_{z}s\\right)}。\n$$\n该控制器是严格真的，并在 $s=-1/T_{z}$ 处有一个单极点，因此是稳定的。由此得到的残余扰动-输出映射为\n$$\nG_{p}(s)G_{ff}(s)+G_{d}(s)\n=\n\\frac{K_{d}}{s^{2}+2\\zeta\\omega_{n}s+\\omega_{n}^{2}}\n\\left[\n1-\\frac{1-T_{z}s}{1+T_{z}s}\n\\right]\n=\n\\frac{2K_{d}T_{z}s}{\\left(1+T_{z}s\\right)\\left(s^{2}+2\\zeta\\omega_{n}s+\\omega_{n}^{2}\\right)}，\n$$\n该式在 $s=0$ 时为零，确保了对稳态（低频）风分量的消除，同时保持了稳定性和真性。", "answer": "$$\\boxed{-\\dfrac{K_{d}}{K_{p}\\left(1+T_{z}s\\right)}}$$", "id": "1575797"}]}