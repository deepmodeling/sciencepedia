{"hands_on_practices": [{"introduction": "过程控制的一个核心任务是抑制扰动，确保系统在面临外部变化时仍能稳定运行。本练习以一个常见的医疗场景——静脉（IV）输液泵为例，探讨了如何使用一个简单的比例（P）控制器来应对持续的扰动，即输液袋中因液体减少而导致静水压头的下降。通过推导最终稳态流量的表达式，您将亲身体验并量化控制器增益 $K_c$ 在减小稳态误差（或称为“余差”）中的关键作用，从而深刻理解比例控制的特点与局限性。[@problem_id:1601737]", "problem": "自动静脉（IV）输液泵被设计用以恒定的体积流量输送药物。流量 $Q$ 主要由输液袋中流体的静水压力驱动，但随着输液袋变空，该压力会下降。一个反馈控制器被用来抵消这种扰动。\n\n系统在期望工作点 ($Q_{sp}$, $h_0$) 附近的行为可以用一个线性化模型来描述。设 $q(t) = Q(t) - Q_{sp}$ 为流量相对于设定值 $Q_{sp}$ 的偏差，设 $h'(t) = h(t) - h_0$ 为液面高度相对于初始高度 $h_0$ 的偏差。控制器通过调节输液管的流体阻力。设 $r(t) = R_f(t) - R_0$ 为阻力相对于其在工作点的标称值 $R_0$ 的偏差。\n\n线性化的过程由以下方程描述：\n$$q(t) = \\frac{Q_{sp}}{h_0} h'(t) - \\frac{Q_{sp}}{R_0} r(t)$$\n\n一个比例（P）控制器被用来调节阻力。控制律由下式给出：\n$$r(t) = -K_c e(t)$$\n其中 $e(t) = Q_{sp} - Q(t)$ 是误差，$K_c$ 是一个正的控制器增益。\n\n假设系统初始在稳态下运行，流量为 $Q_{sp}$，液面高度为 $h_0$。一段时间后，输液袋中的液面下降了一个小的恒定值 $\\Delta h$。系统随后达到一个新的稳态。\n\n推导新的稳态流量 $Q_{final}$ 的闭式解析表达式，该表达式用设定值流量 $Q_{sp}$、初始高度 $h_0$、高度下降量 $\\Delta h$ 以及无量纲控制器增益组 $K = K_c \\frac{Q_{sp}}{R_0}$ 来表示。", "solution": "我们从给定的关于工作点偏差的线性化过程关系开始：\n$$q(t) = \\frac{Q_{sp}}{h_0} h'(t) - \\frac{Q_{sp}}{R_0} r(t).$$\n比例控制器由下式给出\n$$r(t) = -K_c e(t), \\quad e(t) = Q_{sp} - Q(t).$$\n用偏差变量 $q(t) = Q(t) - Q_{sp}$ 来表示误差：\n$$e(t) = Q_{sp} - Q(t) = -\\bigl(Q(t) - Q_{sp}\\bigr) = -q(t).$$\n因此，控制律变为\n$$r(t) = -K_c\\bigl(-q(t)\\bigr) = K_c q(t).$$\n当液面下降一个小的恒定值 $\\Delta h$ 后，新的稳态具有恒定的偏差。高度偏差为\n$$h'(t) = h(t) - h_0 = \\bigl(h_0 - \\Delta h\\bigr) - h_0 = -\\Delta h.$$\n在稳态下，将 $h' = -\\Delta h$ 和 $r = K_c q$ 代入过程方程：\n$$q = \\frac{Q_{sp}}{h_0}(-\\Delta h) - \\frac{Q_{sp}}{R_0}\\bigl(K_c q\\bigr).$$\n引入给定的无量纲增益组\n$$K = K_c \\frac{Q_{sp}}{R_0},$$\n将稳态方程重写为\n$$q = -\\frac{Q_{sp}}{h_0}\\Delta h - K q.$$\n合并关于 $q$ 的项：\n$$(1+K)q = -\\frac{Q_{sp}}{h_0}\\Delta h.$$\n解出 $q$：\n$$q = -\\frac{Q_{sp}}{h_0}\\frac{\\Delta h}{1+K}.$$\n最终的稳态流量为 $Q_{final} = Q_{sp} + q$，因此\n$$Q_{final} = Q_{sp} - \\frac{Q_{sp}}{h_0}\\frac{\\Delta h}{1+K} = Q_{sp}\\left(1 - \\frac{\\Delta h}{h_0(1+K)}\\right).$$\n该表达式表明，当 $K \\to \\infty$ 时，$Q_{final} \\to Q_{sp}$（完全调节），而当 $K = 0$ 时（无控制），它简化为仅由静水压力效应给出的开环灵敏度 $Q_{final} = Q_{sp}\\left(1 - \\frac{\\Delta h}{h_0}\\right)$。", "answer": "$$\\boxed{Q_{sp}\\left(1 - \\frac{\\Delta h}{h_{0}\\left(1+K\\right)}\\right)}$$", "id": "1601737"}, {"introduction": "在了解了控制器的基本原理后，下一个实际问题是如何设定其参数。对于一个PID控制器，这意味着要确定比例增益 $K_c$、积分时间 $\\tau_I$ 和微分时间 $\\tau_D$ 的具体数值。本练习将引导您运用经典的齐格勒-尼柯尔斯（Ziegler-Nichols）开环整定法，这是一种基于实验数据的经验方法。您将学习如何通过分析一个蒸馏塔再沸器对阶跃输入的响应曲线（即过程反应曲线），提取出关键的动态特性参数，并利用它们计算出一套初始可用的PID控制器参数。[@problem_id:1601770]", "problem": "一位过程工程师的任务是为一个蒸馏塔底部的再沸器调节一个比例-积分-微分（PID）控制器。该控制器通过操纵蒸汽阀门的开度（单位：百分比, %）来控制液体产品的温度（单位：摄氏度, °C）。为了表征过程动态特性，该工程师进行了一次开环阶跃测试。\n\n该过程初始处于稳态，蒸汽阀门开度为 20.0%，产品温度为 110.0 °C。在时间 $t=0$ 时，蒸汽阀门开度突然增加到 30.0%。在这次阶跃变化之后，温度在开始上升之前保持恒定一小段时间，最终稳定在一个新的稳态温度 125.0 °C。\n\n对记录的温度数据进行分析后发现，与温度响应曲线最陡部分相切的直线在时间 $t = 2.5$ 分钟时与初始温度线（110.0 °C）相交。同一条切线在时间 $t = 9.0$ 分钟时与最终温度线（125.0 °C）相交。\n\n假设再沸器的动态响应可以由一阶加纯滞后模型近似，计算 PID 控制器的标准 Ziegler-Nichols 整定参数：无量纲控制器增益 $K_c$、积分时间 $\\tau_I$ 和微分时间 $\\tau_D$。将 $\\tau_I$ 和 $\\tau_D$ 的最终答案以分钟为单位表示。将所有三个数值四舍五入到三位有效数字。", "solution": "我们用一阶加纯滞后（FOPDT）模型来模拟再沸器的动态特性，其对于在 $t=0$ 时发生的阶跃输入变化 $\\Delta u$ 的阶跃响应为\n$$\ny(t) = y_{0} + K_{p}\\,\\Delta u \\left(1 - \\exp\\!\\left(-\\frac{t - L}{T}\\right)\\right), \\quad t \\geq L,\n$$\n其中 $K_p$ 为过程增益，$T$ 为时间常数，$L$ 为纯滞后时间。\n\n根据开环阶跃测试：\n- 初始稳态：阀门开度 $u_{0}=20.0$（单位：百分比）和产品温度 $y_{0}=110.0$（单位：摄氏度）。\n- 阶跃变化：在 $t=0$ 时，$u$ 增加到 $u_{1}=30.0$，所以 $\\Delta u = u_{1}-u_{0} = 10.0$。\n- 最终稳态温度：$y_{\\infty}=125.0$，所以 $\\Delta y = y_{\\infty}-y_{0} = 15.0$。\n\n因此，过程增益为\n$$\nK_{p} = \\frac{\\Delta y}{\\Delta u} = \\frac{15.0}{10.0} = 1.5.\n$$\n\n使用切线法（响应曲线法）进行FOPDT模型辨识：\n- 在拐点处的切线与初始输出线在 $t = 2.5$ 分钟处相交，得出纯滞后时间\n$$\nL = 2.5 \\text{ 分钟}.\n$$\n- 同一条切线与最终输出线在 $t = 9.0$ 分钟处相交，所以时间常数为\n$$\nT = 9.0 - 2.5 = 6.5 \\text{ 分钟}.\n$$\n\n标准的 Ziegler-Nichols 阶跃响应 PID 整定参数为\n$$\nK_{c} = 1.2\\,\\frac{T}{K_{p}\\,L}, \\quad \\tau_{I} = 2\\,L, \\quad \\tau_{D} = \\frac{L}{2}.\n$$\n\n代入 $K_{p} = 1.5$，$L = 2.5$ 分钟，以及 $T = 6.5$ 分钟：\n$$\nK_{c} = 1.2 \\times \\frac{6.5}{1.5 \\times 2.5} = 1.2 \\times \\frac{6.5}{3.75} = 1.2 \\times \\frac{26}{15} = \\frac{156}{75} = 2.08,\n$$\n$$\n\\tau_{I} = 2 \\times 2.5 = 5.00 \\text{ 分钟},\n$$\n$$\n\\tau_{D} = \\frac{2.5}{2} = 1.25 \\text{ 分钟}.\n$$\n\n按要求四舍五入到三位有效数字：$K_{c} = 2.08$，$\\tau_{I} = 5.00$ 分钟，$\\tau_{D} = 1.25$ 分钟。", "answer": "$$\\boxed{\\begin{pmatrix} 2.08 & 5.00 & 1.25 \\end{pmatrix}}$$", "id": "1601770"}, {"introduction": "虽然经验整定法在工业界很实用，但现代控制理论提供了更为系统化和理论化的控制器设计方法。本练习将向您介绍内模控制（Internal Model Control, IMC），这是一种基于过程模型的先进设计策略。通过为一个具有一阶加纯延迟（FOPDT）特性的退火炉设计控制器，您将见证一个惊人的结果：看似复杂的内模控制器可以等效为一个经典的比例-积分（PI）控制器。这个练习不仅揭示了PI/PID控制器背后深刻的理论基础，还展示了如何通过一个可调参数 $\\lambda$ 直接关联控制器的设计与期望的闭环性能，从而连接了经验方法与严谨的理论设计。[@problem_id:1601762]", "problem": "一个用于热处理新型高强度铝合金的工业退火炉需要精确的温度控制。实验分析表明，该炉的热动态特性可以由一阶加纯滞后（FOPDT）模型精确表示。传递函数 $G_p(s)$ 描述了炉温（输出）与加热器功率（输入）之间的关系，其表达式为：\n\n$$G_p(s) = \\frac{K_p \\exp(-\\theta_p s)}{\\tau_p s + 1}$$\n\n其中，$K_p$ 是过程增益，$\\tau_p$ 是过程时间常数，$\\theta_p$ 是过程纯滞后时间，它们都是正实常数。\n\n为调节温度，提出了一种内模控制（IMC）策略。IMC控制器 $Q(s)$ 的设计方法是，取过程模型 $\\tilde{G}_{p,-}(s)$ 的可逆（或“好”）部分之逆，并乘以一个一阶滤波器 $f(s) = \\frac{1}{\\lambda s + 1}$，以确保鲁棒性和物理可实现性。参数 $\\lambda$ 是一个可调的滤波器时间常数。模型的不可逆部分 $\\tilde{G}_{p,+}(s)$ 包含时间延迟。\n\n您的任务是推导由此IMC设计得到的等效经典反馈控制器 $G_c(s)$ 的传递函数。在您的推导中，必须进行一项简化：仅当纯滞后指数项出现在 $G_c(s)$ 表达式的分母中时，才对其使用一阶泰勒级数近似。请将 $G_c(s)$ 的最终答案表示为由符号参数 $K_p$、$\\tau_p$、$\\theta_p$ 和 $\\lambda$ 构成的单一传递函数。", "solution": "我们给定一个一阶加纯滞后（FOPDT）被控对象模型\n$$\nG_{p}(s) = \\frac{K_{p}\\,\\exp(-\\theta_{p} s)}{\\tau_{p} s + 1},\n$$\n其中 $K_{p}>0$、$\\tau_{p}>0$ 且 $\\theta_{p}>0$。在内模控制（IMC）设计中，我们将模型分解为可逆部分和不可逆部分。对于FOPDT形式，\n$$\n\\tilde{G}_{p,-}(s) = \\frac{K_{p}}{\\tau_{p} s + 1}, \n\\qquad\n\\tilde{G}_{p,+}(s) = \\exp(-\\theta_{p} s),\n\\qquad\n\\tilde{G}_{p}(s) = \\tilde{G}_{p,-}(s)\\,\\tilde{G}_{p,+}(s).\n$$\nIMC控制器被选择为可逆部分的逆乘以一阶滤波器 $f(s) = \\frac{1}{\\lambda s + 1}$：\n$$\nQ(s) = \\tilde{G}_{p,-}^{-1}(s)\\,f(s) \n= \\frac{\\tau_{p} s + 1}{K_{p}} \\cdot \\frac{1}{\\lambda s + 1}\n= \\frac{\\tau_{p} s + 1}{K_{p}(\\lambda s + 1)}.\n$$\n\n对于单输入单输出(SISO)线性时不变(LTI)系统，IMC控制器与等效的经典反馈控制器之间的标准转换关系为：\n$$\nG_{c}(s) = \\frac{Q(s)}{1 - \\tilde{G}_{p}(s)\\,Q(s)}.\n$$\n代入 $\\tilde{G}_{p}(s) = \\frac{K_{p}\\,\\exp(-\\theta_{p} s)}{\\tau_{p} s + 1}$ 和 $Q(s) = \\frac{\\tau_{p} s + 1}{K_{p}(\\lambda s + 1)}$ 可得\n$$\n\\tilde{G}_{p}(s)\\,Q(s) \n= \\left(\\frac{K_{p}\\,\\exp(-\\theta_{p} s)}{\\tau_{p} s + 1}\\right)\n\\left(\\frac{\\tau_{p} s + 1}{K_{p}(\\lambda s + 1)}\\right)\n= \\frac{\\exp(-\\theta_{p} s)}{\\lambda s + 1}.\n$$\n因此，\n$$\n1 - \\tilde{G}_{p}(s)\\,Q(s) \n= 1 - \\frac{\\exp(-\\theta_{p} s)}{\\lambda s + 1}\n= \\frac{\\lambda s + 1 - \\exp(-\\theta_{p} s)}{\\lambda s + 1},\n$$\n于是\n$$\nG_{c}(s) \n= \\frac{\\frac{\\tau_{p} s + 1}{K_{p}(\\lambda s + 1)}}{\\frac{\\lambda s + 1 - \\exp(-\\theta_{p} s)}{\\lambda s + 1}}\n= \\frac{\\tau_{p} s + 1}{K_{p}\\left(\\lambda s + 1 - \\exp(-\\theta_{p} s)\\right)}.\n$$\n\n根据题目要求，我们现在仅对出现在 $G_{c}(s)$ 分母中的纯滞后指数项使用一阶泰勒级数近似。具体来说，在分母中我们近似为\n$$\n\\exp(-\\theta_{p} s) \\approx 1 - \\theta_{p} s,\n$$\n因此\n$$\n\\lambda s + 1 - \\exp(-\\theta_{p} s) \\approx \\lambda s + 1 - (1 - \\theta_{p} s) = (\\lambda + \\theta_{p}) s.\n$$\n于是等效的经典反馈控制器简化为单一传递函数\n$$\nG_{c}(s) \\approx \\frac{\\tau_{p} s + 1}{K_{p}(\\lambda + \\theta_{p})\\,s}.\n$$\n这是一个比例-积分（PI）形式，其比例增益为 $K_{c} = \\frac{\\tau_{p}}{K_{p}(\\lambda + \\theta_{p})}$，积分时间为 $\\tau_{I} = \\tau_{p}$，但题目要求的最终表达式是上面所示的单一传递函数。", "answer": "$$\\boxed{\\frac{\\tau_{p} s + 1}{K_{p}\\,(\\lambda + \\theta_{p})\\,s}}$$", "id": "1601762"}]}