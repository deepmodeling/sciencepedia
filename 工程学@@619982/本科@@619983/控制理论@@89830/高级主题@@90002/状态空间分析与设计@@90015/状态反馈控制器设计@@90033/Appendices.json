{"hands_on_practices": [{"introduction": "让我们从最基础的练习开始。这个练习将带你为一个一阶系统（如一个简化的温度控制器）设计反馈增益。通过这个实践，你将直观地理解反馈增益 $k$ 如何直接移动闭环系统的极点，从而改变系统的响应速度。这是极点配置思想的核心第一步。[@problem_id:1614741]", "problem": "一个简化的航天器仪器温度控制模型由牛顿冷却定律和一个受控热源来描述。仪器温度 $T(t)$ 遵循以下一阶微分方程演变：\n$$\n\\frac{dT(t)}{dt} = -\\alpha (T(t) - T_{amb}) + \\gamma U(t)\n$$\n其中 $T_{amb}$ 是航天器内部的恒定环境温度。正常数 $\\alpha$ 是传热系数，表示仪器向周围环境散热的快慢。正常数 $\\gamma$ 是加热增益，它将控制输入 $U(t)$（供给电阻加热器的功率）与温度变化率关联起来。\n\n为将仪器维持在期望的设定点温度 $T_{sp}$，使用了一个比例控制器。加热器功率的控制律为：\n$$\nU(t) = k (T_{sp} - T(t))\n$$\n其中 $k$ 是待确定的比例反馈增益。\n\n为了便于分析，我们定义一个状态变量 $x(t) = T(t) - T_{amb}$，它表示温度与环境温度的偏差。该闭环系统的动态特性由单个极点表征。你的任务是确定反馈增益 $k$ 的解析表达式，该表达式将此极点配置在实轴上的指定位置 $p$。\n\n你的答案应将增益 $k$ 仅用系统参数 $\\alpha$、$\\gamma$ 和期望的极点位置 $p$ 来表示。", "solution": "目标是求出能将闭环系统极点配置在指定位置 $p$ 的反馈增益 $k$。我们首先用状态变量 $x(t) = T(t) - T_{amb}$ 来表示系统动态。\n\n首先，我们求状态变量 $x(t)$ 的时间导数：\n$$\n\\frac{dx(t)}{dt} = \\frac{d}{dt} (T(t) - T_{amb})\n$$\n由于 $T_{amb}$ 是一个常数，其导数为零。因此：\n$$\n\\frac{dx(t)}{dt} = \\frac{dT(t)}{dt}\n$$\n现在我们可以将它代入给定的系统方程：\n$$\n\\frac{dx(t)}{dt} = -\\alpha (T(t) - T_{amb}) + \\gamma U(t)\n$$\n根据定义，$x(t) = T(t) - T_{amb}$，所以我们可以用状态变量 $x(t)$ 重写该方程：\n$$\n\\frac{dx(t)}{dt} = -\\alpha x(t) + \\gamma U(t)\n$$\n这是系统的开环状态空间表示。\n\n接下来，我们引入控制律。控制律给定为：\n$$\nU(t) = k (T_{sp} - T(t))\n$$\n我们需要用状态变量 $x(t)$ 来表示这个控制律。根据 $x(t)$ 的定义，我们有 $T(t) = x(t) + T_{amb}$。将其代入控制律，得到：\n$$\nU(t) = k (T_{sp} - (x(t) + T_{amb}))\n$$\n$$\nU(t) = k (T_{sp} - T_{amb}) - k x(t)\n$$\n现在，我们将 $U(t)$ 的这个表达式代回到状态空间方程中，以获得闭环系统的动态特性：\n$$\n\\frac{dx(t)}{dt} = -\\alpha x(t) + \\gamma [k (T_{sp} - T_{amb}) - k x(t)]\n$$\n为了找到极点，我们关心微分方程的齐次部分，即与 $x(t)$ 相乘的项。让我们将这些项组合起来：\n$$\n\\frac{dx(t)}{dt} = -\\alpha x(t) - \\gamma k x(t) + \\gamma k (T_{sp} - T_{amb})\n$$\n$$\n\\frac{dx(t)}{dt} = -(\\alpha + \\gamma k) x(t) + \\gamma k (T_{sp} - T_{amb})\n$$\n这是一个形如 $\\dot{x} = A x + B u_{ext}$ 的一阶线性常微分方程，其中闭环系统矩阵（在本例中为标量）是 $A_{cl} = -(\\alpha + \\gamma k)$，外部输入项是 $B u_{ext} = \\gamma k (T_{sp} - T_{amb})$。\n\n线性时不变系统的极点由其系统矩阵的特征值给出。对于这个一阶系统，极点就是系统矩阵 $A_{cl}$ 的标量值。\n$$\n\\text{pole} = -(\\alpha + \\gamma k)\n$$\n问题要求将这个极点配置在指定位置 $p$。因此，我们设：\n$$\np = -(\\alpha + \\gamma k)\n$$\n最后，我们求解这个方程以得到未知的增益 $k$：\n$$\n-p = \\alpha + \\gamma k\n$$\n$$\n\\gamma k = -p - \\alpha\n$$\n$$\nk = \\frac{-p - \\alpha}{\\gamma}\n$$\n这就是所求的反馈增益 $k$ 的解析表达式。", "answer": "$$ \\boxed{\\frac{-p - \\alpha}{\\gamma}} $$", "id": "1614741"}, {"introduction": "掌握了一阶系统后，我们进入更常见的二阶系统，例如直流电机模型。这个练习将教授你使用“特征多项式系数匹配”的方法来设计状态反馈控制器。这是一种基本且重要的技术，它允许你精确地将系统的两个闭环极点配置到期望的位置，以满足特定的性能要求。[@problem_id:1614752]", "problem": "一个电枢控制直流电机的简化模型由一个线性时不变状态空间系统描述。状态向量定义为 $x = [x_1, x_2]^T$，其中 $x_1$ 是电机转轴的角速度，$x_2$ 是电枢电流。系统动力学由方程 $\\dot{x} = Ax + Bu$ 给出，其中 $u$ 是输入电枢电压。系统矩阵为：\n$$\nA = \\begin{pmatrix} -10 & 5 \\\\ -0.1 & -2 \\end{pmatrix}, \\quad B = \\begin{pmatrix} 0 \\\\ 2 \\end{pmatrix}\n$$\n为了调节电机的行为，采用状态反馈控制器，其控制律为 $u = -Kx$，其中 $K = [k_1 \\ k_2]$ 是反馈增益的常数行向量。设计控制器的目标是使得到的闭环系统的特征多项式为 $P(s) = s^2 + 8s + 16$。\n\n确定所需的状态反馈增益行向量 $K$。您的答案应该是一个包含增益数值的行矩阵。", "solution": "我们首先通过检查能控性来验证极点配置的可行性。能控性矩阵为 $[B \\ AB]$：\n$$\nB = \\begin{pmatrix} 0 \\\\ 2 \\end{pmatrix}, \\quad AB = \\begin{pmatrix} -10 & 5 \\\\ -0.1 & -2 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 2 \\end{pmatrix} = \\begin{pmatrix} 10 \\\\ -4 \\end{pmatrix}, \\quad [B \\ AB] = \\begin{pmatrix} 0 & 10 \\\\ 2 & -4 \\end{pmatrix}.\n$$\n其行列式为 $-20 \\neq 0$，因此系统是能控的，极点配置是可行的。\n\n采用状态反馈 $u = -Kx$，闭环矩阵为 $A_{\\text{cl}} = A - BK$。由于 $B K = \\begin{pmatrix} 0 & 0 \\\\ 2 k_{1} & 2 k_{2} \\end{pmatrix}$，我们得到\n$$\nA - BK = \\begin{pmatrix} -10 & 5 \\\\ -0.1 - 2 k_{1} & -2 - 2 k_{2} \\end{pmatrix}.\n$$\n闭环系统的特征多项式为\n$$\n\\det(s I - (A - BK)) = \n\\det\\begin{pmatrix} s + 10 & -5 \\\\ 0.1 + 2 k_{1} & s + 2 + 2 k_{2} \\end{pmatrix}\n= (s + 10)(s + 2 + 2 k_{2}) + 5(0.1 + 2 k_{1}).\n$$\n展开并组合各项，\n$$\n= s^{2} + s(12 + 2 k_{2}) + (20 + 20 k_{2}) + 0.5 + 10 k_{1}\n= s^{2} + s(12 + 2 k_{2}) + (20.5 + 10 k_{1} + 20 k_{2}).\n$$\n我们通过令系数相等，将其与期望的多项式 $P(s) = s^{2} + 8 s + 16$ 进行匹配：\n$$\n12 + 2 k_{2} = 8 \\quad \\Rightarrow \\quad k_{2} = -2,\n$$\n$$\n20.5 + 10 k_{1} + 20 k_{2} = 16 \\quad \\Rightarrow \\quad 20.5 - 40 + 10 k_{1} = 16 \\quad \\Rightarrow \\quad 10 k_{1} = 35.5 \\quad \\Rightarrow \\quad k_{1} = 3.55.\n$$\n因此，所需的状态反馈增益行向量为 $K = \\begin{pmatrix} 3.55 & -2 \\end{pmatrix}$。在问题中，分数形式是 $\\frac{71}{20}$，这与3.55是等价的。", "answer": "$$\\boxed{\\begin{pmatrix} \\frac{71}{20} & -2 \\end{pmatrix}}$$", "id": "1614752"}, {"introduction": "理论联系实际是工程设计的关键。这个练习探讨了控制器设计中的一个核心权衡：性能与成本。你将为一个经典的质量-弹簧-阻尼系统设计两种控制器——一个“慢速”版和一个“快速”版，并比较它们所需的控制力。这个实践将深刻揭示，追求更快的系统响应速度通常需要付出更大的控制能量代价。[@problem_id:1614726]", "problem": "一个质量-弹簧-阻尼系统由以下二阶线性微分方程描述：\n$$m\\ddot{x}(t) + b\\dot{x}(t) + kx(t) = u(t)$$\n其中 $x(t)$ 是质量块偏离其平衡位置的位移，$u(t)$ 是一个外部控制力。该系统具有以下参数：质量 $m=1.0$ kg，阻尼系数 $b=3.0$ Ns/m，以及弹簧常数 $k=2.0$ N/m。\n\n该系统将使用状态反馈控制器进行控制。状态向量定义为 $\\mathbf{x}(t) = [x_1(t), x_2(t)]^T = [x(t), \\dot{x}(t)]^T$，控制律由 $u(t) = -K\\mathbf{x}(t) = -k_1 x_1(t) - k_2 x_2(t)$ 给出。\n\n通过将闭环系统的极点配置在 s 平面中的特定位置，设计了两种不同的控制器以实现不同的性能目标。\n- **控制器 S（慢）：** 该控制器将闭环极点配置在 $p_S = \\{-2.0, -3.0\\}$。\n- **控制器 F（快）：** 该控制器将闭环极点配置在 $p_F = \\{-8.0, -10.0\\}$。\n\n系统初始处于静止状态，初始位移为 $x(0) = 0.5$ m，初始速度为零，$\\dot{x}(0) = 0$。对于每个控制器，控制输入 $u(t)$ 将作用于系统，使其返回到平衡状态 $\\mathbf{x} = [0, 0]^T$。\n\n设 $|u_{\\text{max,S}}|$ 和 $|u_{\\text{max,F}}|$ 分别为从 $t=0$ 到无穷大的整个时间演化过程中，慢速控制器和快速控制器所需的控制输入信号的最大幅值。\n\n计算比率 $\\frac{|u_{\\text{max,F}}|}{|u_{\\text{max,S}}|}$。", "solution": "首先，我们将质量-弹簧-阻尼系统表示为状态空间形式。设状态变量为 $x_1 = x$ 和 $x_2 = \\dot{x}$。状态方程为：\n$\\dot{x}_1 = x_2$\n$\\dot{x}_2 = \\ddot{x} = \\frac{1}{m}(-kx - b\\dot{x} + u) = -\\frac{k}{m}x_1 - \\frac{b}{m}x_2 + \\frac{1}{m}u$\n\n以矩阵形式表示，$\\dot{\\mathbf{x}} = A\\mathbf{x} + Bu$，其中：\n$A = \\begin{pmatrix} 0 & 1 \\\\ -k/m & -b/m \\end{pmatrix}$ 且 $B = \\begin{pmatrix} 0 \\\\ 1/m \\end{pmatrix}$。\n\n代入给定值 $m=1.0$ kg, $b=3.0$ Ns/m, 和 $k=2.0$ N/m：\n$A = \\begin{pmatrix} 0 & 1 \\\\ -2 & -3 \\end{pmatrix}$ 且 $B = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$。\n\n状态反馈控制律为 $u = -K\\mathbf{x} = -\\begin{pmatrix} k_1 & k_2 \\end{pmatrix}\\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix}$。\n闭环系统动力学由 $\\dot{\\mathbf{x}} = (A-BK)\\mathbf{x}$ 给出。\n$A-BK = \\begin{pmatrix} 0 & 1 \\\\ -2 & -3 \\end{pmatrix} - \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}\\begin{pmatrix} k_1 & k_2 \\end{pmatrix} = \\begin{pmatrix} 0 & 1 \\\\ -2 & -3 \\end{pmatrix} - \\begin{pmatrix} 0 & 0 \\\\ k_1 & k_2 \\end{pmatrix} = \\begin{pmatrix} 0 & 1 \\\\ -2-k_1 & -3-k_2 \\end{pmatrix}$。\n\n闭环系统的极点是矩阵 $A-BK$ 的特征值，它们是特征方程 $\\det(sI - (A-BK)) = 0$ 的根。\n$\\det \\begin{pmatrix} s & -1 \\\\ 2+k_1 & s+3+k_2 \\end{pmatrix} = s(s+3+k_2) - (-1)(2+k_1) = 0$\n$s^2 + (3+k_2)s + (2+k_1) = 0$。\n\n现在，我们来确定两个控制器的增益矩阵 $K_S$ 和 $K_F$。\n\n**控制器 S（慢）：**\n期望的极点位于 $\\{-2.0, -3.0\\}$。期望的特征多项式为：\n$(s - (-2))(s - (-3)) = (s+2)(s+3) = s^2 + 5s + 6 = 0$。\n通过将此多项式的系数与一般特征多项式 $s^2 + (3+k_{2,S})s + (2+k_{1,S}) = 0$ 进行比较，我们得到：\n$3 + k_{2,S} = 5 \\implies k_{2,S} = 2$\n$2 + k_{1,S} = 6 \\implies k_{1,S} = 4$\n因此，慢速控制器的增益矩阵为 $K_S = \\begin{pmatrix} 4 & 2 \\end{pmatrix}$。\n\n**控制器 F（快）：**\n期望的极点位于 $\\{-8.0, -10.0\\}$。期望的特征多项式为：\n$(s - (-8))(s - (-10)) = (s+8)(s+10) = s^2 + 18s + 80 = 0$。\n通过将此多项式的系数与一般特征多项式 $s^2 + (3+k_{2,F})s + (2+k_{1,F}) = 0$ 进行比较，我们得到：\n$3 + k_{2,F} = 18 \\implies k_{2,F} = 15$\n$2 + k_{1,F} = 80 \\implies k_{1,F} = 78$\n因此，快速控制器的增益矩阵为 $K_F = \\begin{pmatrix} 78 & 15 \\end{pmatrix}$。\n\n接下来，我们需要为每个控制器找出控制输入的最大幅值 $|u(t)|$。控制输入由 $u(t) = -k_1 x_1(t) - k_2 x_2(t)$ 给出。初始条件为 $x(0)=0.5$ m 和 $\\dot{x}(0)=0$ m/s，这对应于初始状态向量 $\\mathbf{x}(0) = [0.5, 0]^T$。\n\n对于一个从具有非零位移的静止状态开始的系统，状态反馈控制器将在初始时刻（$t=0$）施加最大的校正力。在这一瞬间，位移达到最大值，而速度（通常会通过 $k_2$ 为控制作用贡献一个类似阻尼的项）为零。随着系统的运动，位移减小，速度变为非零，但这些项的组合通常会导致较小的控制输入幅值。因此，最大控制输入幅值很可能出现在 $t=0$ 时。\n$|u_{\\text{max}}| = |u(0)| = |-K\\mathbf{x}(0)|$。\n\n让我们为每个控制器计算这个值。\n对于控制器 S：\n$|u_{\\text{max,S}}| = |-K_S \\mathbf{x}(0)| = \\left|-\\begin{pmatrix} 4 & 2 \\end{pmatrix}\\begin{pmatrix} 0.5 \\\\ 0 \\end{pmatrix}\\right| = |-(4 \\times 0.5 + 2 \\times 0)| = |-2.0| = 2.0$ N。\n\n对于控制器 F：\n$|u_{\\text{max,F}}| = |-K_F \\mathbf{x}(0)| = \\left|-\\begin{pmatrix} 78 & 15 \\end{pmatrix}\\begin{pmatrix} 0.5 \\\\ 0 \\end{pmatrix}\\right| = |-(78 \\times 0.5 + 15 \\times 0)| = |-39.0| = 39.0$ N。\n\n最后，我们计算所要求的比率：\n$\\frac{|u_{\\text{max,F}}|}{|u_{\\text{max,S}}|} = \\frac{39.0}{2.0} = 19.5$。\n这个结果展示了控制设计中的权衡：要实现更快的响应（极点在左半平面更远处），需要显著更大的控制力。", "answer": "$$\\boxed{19.5}$$", "id": "1614726"}]}