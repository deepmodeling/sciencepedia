{"hands_on_practices": [{"introduction": "理论知识需要通过实践来巩固。现在，让我们通过一个基础的一阶系统来实践积分控制器的设计。这项练习将引导你完成状态增广、推导闭环系统以及计算反馈增益以实现期望动态响应的核心步骤，这是掌握本主题所必需的基本计算技能 [@problem_id:1614018]。", "problem": "考虑一个用于控制小型电子元件温度的简化模型。元件温度相对于环境温度的偏差用 $x(t)$ 表示，其动态特性由以下一阶线性微分方程描述：\n$$\n\\dot{x}(t) = -2x(t) + u(t)\n$$\n其中 $u(t)$ 是来自一个电阻加热器的功率输入。\n\n目标是设计一个控制器，以确保温度偏差 $x(t)$ 能够以零稳态误差跟踪一个恒定的参考值 $r$。为实现此目标，采用了一个积分控制器。定义一个新的状态变量 $\\xi(t)$ 为跟踪误差 $e(t) = r - x(t)$ 的积分：\n$$\n\\xi(t) = \\int_{0}^{t} [r - x(\\tau)] d\\tau\n$$\n控制输入 $u(t)$ 由一个基于增广状态向量 $\\mathbf{z}(t) = \\begin{bmatrix} x(t) \\\\ \\xi(t) \\end{bmatrix}$ 的状态反馈律生成。该控制律由下式给出：\n$$\nu(t) = -K\\mathbf{z}(t) = -[k_1 \\quad k_2] \\begin{bmatrix} x(t) \\\\ \\xi(t) \\end{bmatrix}\n$$\n确定将闭环系统的极点配置在 $-3 + 3j$ 和 $-3 - 3j$ 所需的增益向量分量 $k_1$ 和 $k_2$ 的数值。将答案表示为一个行矩阵 $\\begin{pmatrix} k_1 & k_2 \\end{pmatrix}$。", "solution": "受控对象动态为 $\\dot{x}(t)=-2x(t)+u(t)$。积分状态定义为 $\\xi(t)=\\int_{0}^{t}[r-x(\\tau)]\\,d\\tau$，所以其导数为 $\\dot{\\xi}(t)=r-x(t)$。对于增广状态 $\\mathbf{z}(t)=\\begin{bmatrix}x(t)\\\\ \\xi(t)\\end{bmatrix}$ 和控制 $u(t)=-K\\mathbf{z}(t)=-[k_{1}\\;k_{2}]\\begin{bmatrix}x(t)\\\\ \\xi(t)\\end{bmatrix}$，闭环齐次动态（不包括不影响极点位置的输入 $r$）为\n$$\n\\dot{x} = -2x - k_{1}x - k_{2}\\xi = (-2-k_{1})x - k_{2}\\xi,\\qquad\n\\dot{\\xi} = -x.\n$$\n因此，闭环状态矩阵为\n$$\nA_{\\text{cl}}=\\begin{bmatrix}-2-k_{1} & -k_{2} \\\\ -1 & 0\\end{bmatrix}.\n$$\n特征多项式为\n$$\n\\det(sI - A_{\\text{cl}})=\\det\\begin{bmatrix}s+2+k_{1} & k_{2} \\\\ 1 & s\\end{bmatrix}\n= (s+2+k_{1})s - k_{2} = s^{2} + (2+k_{1})s - k_{2}.\n$$\n期望的闭环极点为 $-3 \\pm 3j$，其特征多项式为\n$$\n(s - (-3+3j))(s - (-3-3j)) = (s+3-3j)(s+3+3j) = (s+3)^{2} + 9 = s^{2} + 6s + 18.\n$$\n匹配系数可得\n$$\n2 + k_{1} = 6 \\quad\\Rightarrow\\quad k_{1} = 4,\\qquad -k_{2} = 18 \\quad\\Rightarrow\\quad k_{2} = -18.\n$$\n因此，所需的增益向量为 $\\begin{pmatrix}4 & -18\\end{pmatrix}$。", "answer": "$$\\boxed{\\begin{pmatrix}4 & -18\\end{pmatrix}}$$", "id": "1614018"}, {"introduction": "在掌握了数值计算后，我们将转向一个更通用、更具物理意义的例子——主动悬挂系统。通过处理符号参数（$m, c, k$）和控制器增益（$k_1, k_2, k_I$），你将看到它们如何直接塑造系统的特征多项式。这项练习有助于加深你对积分作用如何融入更广泛的状态反馈框架的理解 [@problem_id:1614087]。", "problem": "一位汽车工程师正在为车辆的一个角设计主动悬架系统。该系统的垂直动力学模型为一个质量为 $m$ 的物体（代表车辆底盘质量的四分之一），由一个刚度为 $k$ 的弹簧和一个阻尼系数为 $c$ 的阻尼器支撑。一个执行器提供控制力 $u(t)$ 来调节悬架。质量偏离其期望平衡高度的垂直位移用 $y(t)$ 表示。该系统的控制运动方程由下式给出：\n$$m\\frac{d^{2}y}{dt^{2}} + c\\frac{dy}{dt} + ky = u(t)$$\n为了确保车辆保持其设计行驶高度，并消除由恒定扰动（如乘客负载变化）引起的任何稳态误差，工程师采用了一个带积分作用的控制器。这是通过在系统状态（位置 $y(t)$ 和速度 $\\dot{y}(t)$）中增加一个积分状态变量 $x_I(t)$ 来实现的，该变量定义为位置的时间积分，即 $x_I(t) = \\int y(t) \\,dt$。\n\n然后，基于此增广状态，通过一个全状态反馈律产生控制力：\n$$u(t) = -k_{1}y(t) - k_{2}\\frac{dy}{dt}(t) - k_{I}x_{I}(t)$$\n其中 $k_{1}$、$k_{2}$ 和 $k_{I}$ 分别是比例、微分和积分项的恒定反馈增益。\n\n求所得闭环控制系统的特征多项式。将您的答案表示为变量 $s$ 的首一多项式，其系数用物理参数 $m, c, k$ 和控制器增益 $k_{1}, k_{2}, k_{I}$ 表示。", "solution": "为了求出闭环系统的特征多项式，我们首先需要将整个系统表示为状态空间形式。\n\n首先，我们为原始的二阶系统定义状态变量。设 $x_1 = y$（位置）和 $x_2 = \\dot{y}$（速度）。开环装置的状态方程为：\n$$\n\\dot{x}_1 = \\dot{y} = x_2\n$$\n$$\n\\dot{x}_2 = \\ddot{y} = \\frac{1}{m}(u(t) - c\\dot{y} - ky) = -\\frac{k}{m}x_1 - \\frac{c}{m}x_2 + \\frac{1}{m}u(t)\n$$\n\n接下来，我们用积分状态 $x_I = \\int y \\, dt$ 来增广系统。该状态的导数为 $\\dot{x}_I = y = x_1$。增广状态向量为 $\\mathbf{x}_{aug} = \\begin{pmatrix} x_1 \\\\ x_2 \\\\ x_I \\end{pmatrix}$。增广系统的状态方程可以写为：\n$$\n\\dot{x}_1 = x_2\n$$\n$$\n\\dot{x}_2 = -\\frac{k}{m}x_1 - \\frac{c}{m}x_2 + \\frac{1}{m}u(t)\n$$\n$$\n\\dot{x}_I = x_1\n$$\n写成矩阵形式 $\\dot{\\mathbf{x}}_{aug} = A_{aug}\\mathbf{x}_{aug} + B_{aug}u(t)$ 如下：\n$$\n\\begin{pmatrix} \\dot{x}_1 \\\\ \\dot{x}_2 \\\\ \\dot{x}_I \\end{pmatrix} = \n\\begin{pmatrix} 0 & 1 & 0 \\\\ -k/m & -c/m & 0 \\\\ 1 & 0 & 0 \\end{pmatrix}\n\\begin{pmatrix} x_1 \\\\ x_2 \\\\ x_I \\end{pmatrix} +\n\\begin{pmatrix} 0 \\\\ 1/m \\\\ 0 \\end{pmatrix} u(t)\n$$\n\n控制律为 $u(t) = -k_{1}y - k_{2}\\dot{y} - k_{I}x_{I} = -k_{1}x_1 - k_{2}x_2 - k_{I}x_I$。写成矩阵形式为 $u = -K_{aug}\\mathbf{x}_{aug}$，其中增益矩阵为 $K_{aug} = \\begin{pmatrix} k_1 & k_2 & k_I \\end{pmatrix}$。\n\n现在我们可以通过将控制律代入增广状态方程来构成闭环系统：\n$$\n\\dot{\\mathbf{x}}_{aug} = A_{aug}\\mathbf{x}_{aug} + B_{aug}(-K_{aug}\\mathbf{x}_{aug}) = (A_{aug} - B_{aug}K_{aug})\\mathbf{x}_{aug}\n$$\n闭环系统矩阵为 $A_{cl} = A_{aug} - B_{aug}K_{aug}$。我们来计算这个矩阵。首先，我们计算乘积 $B_{aug}K_{aug}$：\n$$\nB_{aug}K_{aug} = \\begin{pmatrix} 0 \\\\ 1/m \\\\ 0 \\end{pmatrix} \\begin{pmatrix} k_1 & k_2 & k_I \\end{pmatrix} = \\begin{pmatrix} 0 & 0 & 0 \\\\ k_1/m & k_2/m & k_I/m \\\\ 0 & 0 & 0 \\end{pmatrix}\n$$\n现在，我们可以求出 $A_{cl}$：\n$$\nA_{cl} = A_{aug} - B_{aug}K_{aug} = \\begin{pmatrix} 0 & 1 & 0 \\\\ -k/m & -c/m & 0 \\\\ 1 & 0 & 0 \\end{pmatrix} - \\begin{pmatrix} 0 & 0 & 0 \\\\ k_1/m & k_2/m & k_I/m \\\\ 0 & 0 & 0 \\end{pmatrix}\n$$\n$$\nA_{cl} = \\begin{pmatrix} 0 & 1 & 0 \\\\ -(k+k_1)/m & -(c+k_2)/m & -k_I/m \\\\ 1 & 0 & 0 \\end{pmatrix}\n$$\n\n闭环系统的特征多项式由 $P(s) = \\det(sI - A_{cl})$ 给出，其中 $I$ 是 $3 \\times 3$ 的单位矩阵。\n$$\nsI - A_{cl} = \\begin{pmatrix} s & 0 & 0 \\\\ 0 & s & 0 \\\\ 0 & 0 & s \\end{pmatrix} - \\begin{pmatrix} 0 & 1 & 0 \\\\ -(k+k_1)/m & -(c+k_2)/m & -k_I/m \\\\ 1 & 0 & 0 \\end{pmatrix}\n$$\n$$\nsI - A_{cl} = \\begin{pmatrix} s & -1 & 0 \\\\ (k+k_1)/m & s+(c+k_2)/m & k_I/m \\\\ -1 & 0 & s \\end{pmatrix}\n$$\n我们现在计算这个矩阵的行列式。我们可以沿第一行进行代数余子式展开：\n$$\nP(s) = s \\begin{vmatrix} s+\\frac{c+k_2}{m} & \\frac{k_I}{m} \\\\ 0 & s \\end{vmatrix} - (-1) \\begin{vmatrix} \\frac{k+k_1}{m} & \\frac{k_I}{m} \\\\ -1 & s \\end{vmatrix} + 0\n$$\n$$\nP(s) = s \\left( \\left( s+\\frac{c+k_2}{m} \\right)s - (0)\\left(\\frac{k_I}{m}\\right) \\right) + 1 \\left( \\left(\\frac{k+k_1}{m}\\right)s - (-1)\\left(\\frac{k_I}{m}\\right) \\right)\n$$\n$$\nP(s) = s \\left( s^2 + \\frac{c+k_2}{m}s \\right) + \\left( \\frac{k+k_1}{m}s + \\frac{k_I}{m} \\right)\n$$\n$$\nP(s) = s^3 + \\frac{c+k_2}{m}s^2 + \\frac{k+k_1}{m}s + \\frac{k_I}{m}\n$$\n这就是闭环系统的首一特征多项式。", "answer": "$$\n\\boxed{s^{3} + \\frac{c+k_{2}}{m}s^{2} + \\frac{k+k_{1}}{m}s + \\frac{k_{I}}{m}}\n$$", "id": "1614087"}, {"introduction": "最后一个练习将探讨积分控制中一个关键而微妙的方面：它与被控对象自身动态特性的相互作用。你将分析一个因被控对象零点靠近原点而可能导致剧烈暂态行为（例如巨大的初始控制信号）的系统。这项练习旨在强调，成功的控制设计不仅要关注极点配置，还必须考量我们设计选择的实际影响和潜在的“隐藏代价” [@problem_id:1614034]。", "problem": "一个单输入单输出 (SISO) 线性时不变系统由以下状态空间模型描述：\n$$\n\\dot{\\mathbf{x}}(t) = A \\mathbf{x}(t) + B u(t)\n$$\n$$\ny(t) = C \\mathbf{x}(t)\n$$\n其中状态向量为 $\\mathbf{x} \\in \\mathbb{R}^2$，控制输入为 $u \\in \\mathbb{R}$，输出为 $y \\in \\mathbb{R}$，系统矩阵由下式给出：\n$$\nA = \\begin{pmatrix} 0 & 1 \\\\ -10 & -7 \\end{pmatrix}, \\quad B = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}, \\quad C = \\begin{pmatrix} 0.1 & 1 \\end{pmatrix}\n$$\n该被控对象的传递函数 $P(s) = C(sI-A)^{-1}B$ 在原点附近有一个零点。为确保输出 $y(t)$ 能够以零稳态误差跟踪阶跃参考输入 $r(t)$，我们实现了一个带积分作用的状态反馈控制器。\n\n该控制器结构使用增广状态向量 $\\mathbf{x}_a(t) = \\begin{pmatrix} \\mathbf{x}(t) \\\\ \\xi(t) \\end{pmatrix}$，其中积分器状态 $\\xi(t)$ 由 $\\dot{\\xi}(t) = r(t) - y(t)$ 定义。控制律由对增广状态的状态反馈给出：\n$$\nu(t) = -K_a \\mathbf{x}_a(t) = -\\begin{pmatrix} K_x & k_I \\end{pmatrix} \\begin{pmatrix} \\mathbf{x}(t) \\\\ \\xi(t) \\end{pmatrix}\n$$\n其中 $K_x = \\begin{pmatrix} k_1 & k_2 \\end{pmatrix}$ 是原被控对象状态的反馈增益， $k_I$ 是积分增益。选择增益向量 $K_a = \\begin{pmatrix} k_1 & k_2 & k_I \\end{pmatrix}$ 是为了将增广系统的闭环极点配置在以下位置：$s_1 = -8$ 和 $s_{2,3} = -3 \\pm 3j$。\n\n假设系统初始静止，在 $t \\ge 0$ 时施加单位阶跃参考输入 $r(t) = 1$。确定控制输入的初始变化率 $\\dot{u}(0^+) = \\lim_{t \\to 0^+} \\frac{du(t)}{dt}$。\n\n以国际单位制单位给出结果的精确数值。", "solution": "带积分作用的增广闭环系统使用增广状态 $\\mathbf{x}_{a} = \\begin{pmatrix} \\mathbf{x} \\\\ \\xi \\end{pmatrix}$，其中 $\\dot{\\xi} = r - y = r - C \\mathbf{x}$，且控制律为 $u = -K_{x}\\mathbf{x} - k_{I}\\xi$。闭环增广状态矩阵为\n$$\nA_{\\text{cl}} = \\begin{pmatrix}\nA - B K_{x} & - B k_{I} \\\\\n- C & 0\n\\end{pmatrix}.\n$$\n当 $A = \\begin{pmatrix} 0 & 1 \\\\ -10 & -7 \\end{pmatrix}$，$B = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$，以及 $C = \\begin{pmatrix} \\frac{1}{10} & 1 \\end{pmatrix}$，并且 $K_{x} = \\begin{pmatrix} k_{1} & k_{2} \\end{pmatrix}$ 时，矩阵 $A_{\\text{cl}}$ 为\n$$\nA_{\\text{cl}} =\n\\begin{pmatrix}\n0 & 1 & 0 \\\\\n-10 - k_{1} & -7 - k_{2} & -k_{I} \\\\\n-\\frac{1}{10} & -1 & 0\n\\end{pmatrix}.\n$$\n特征多项式为 $\\det(sI - A_{\\text{cl}})$，计算可得\n$$\n\\det\\!\\begin{pmatrix}\ns & -1 & 0 \\\\\n10 + k_{1} & s + 7 + k_{2} & k_{I} \\\\\n\\frac{1}{10} & 1 & s\n\\end{pmatrix}\n= s^{3} + (7 + k_{2}) s^{2} + (10 + k_{1} - k_{I}) s - \\frac{1}{10} k_{I}.\n$$\n期望的闭环极点位于 $s_{1} = -8$ 和 $s_{2,3} = -3 \\pm 3j$，从而得到目标特征多项式\n$$\n(s + 8)\\left(s^{2} + 6 s + 18\\right) = s^{3} + 14 s^{2} + 66 s + 144.\n$$\n通过系数匹配可得\n$$\n7 + k_{2} = 14 \\;\\Rightarrow\\; k_{2} = 7, \\quad\n10 + k_{1} - k_{I} = 66 \\;\\Rightarrow\\; k_{1} = 56 + k_{I}, \\quad\n- \\frac{1}{10} k_{I} = 144 \\;\\Rightarrow\\; k_{I} = -1440.\n$$\n现在，在给定的初始条件下计算 $\\dot{u}(0^{+})$。由于系统初始静止，$\\mathbf{x}(0) = \\mathbf{0}$ 且 $\\xi(0) = 0$，因此 $u(0^{+}) = 0$。控制的时间导数为\n$$\n\\dot{u}(t) = -K_{x} \\dot{\\mathbf{x}}(t) - k_{I} \\dot{\\xi}(t).\n$$\n在 $t = 0^{+}$ 时，根据被控对象动态 $\\dot{\\mathbf{x}}(0^{+}) = A \\mathbf{x}(0) + B u(0^{+}) = \\mathbf{0}$，以及在 $r(t) = 1$ 和 $y(0) = C \\mathbf{x}(0) = 0$ 条件下的积分器动态，我们有 $\\dot{\\xi}(0^{+}) = 1$。因此\n$$\n\\dot{u}(0^{+}) = -K_{x} \\dot{\\mathbf{x}}(0^{+}) - k_{I} \\dot{\\xi}(0^{+}) = -K_{x}\\mathbf{0} - k_{I} \\cdot 1 = -k_{I} = 1440.\n$$\n因此，控制输入的初始变化率为 $1440$（国际单位制单位）。", "answer": "$$\\boxed{1440}$$", "id": "1614034"}]}