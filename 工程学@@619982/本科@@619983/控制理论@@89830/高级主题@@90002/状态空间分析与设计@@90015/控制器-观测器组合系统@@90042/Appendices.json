{"hands_on_practices": [{"introduction": "这第一个实践问题是控制器-观测器设计的基石。你将应用分离原理，为一个二阶系统独立计算状态反馈增益 $K$ 和观测器增益 $L$。这个练习旨在培养极点配置的基本技能，使你能够根据设计要求来塑造系统的动态响应以及观测器的收敛速度 [@problem_id:1563422]。", "problem": "一个二阶、单输入单输出 (SISO) 线性时不变 (LTI) 系统由以下状态空间表示法描述：\n$$\n\\dot{\\mathbf{x}}(t) = A\\mathbf{x}(t) + B u(t)\n$$\n$$\ny(t) = C\\mathbf{x}(t)\n$$\n其中 $\\mathbf{x}(t) = [x_1(t), x_2(t)]^T$ 是状态向量，$u(t)$ 是控制输入，$y(t)$ 是测量输出。系统矩阵由下式给出：\n$$\nA = \\begin{pmatrix} 0 & 1 \\\\ -2 & -3 \\end{pmatrix}, \\quad B = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}, \\quad C = \\begin{pmatrix} 1 & 0 \\end{pmatrix}\n$$\n由于完整状态向量 $\\mathbf{x}(t)$ 无法直接测量，因此采用一种带有观测器的状态反馈控制器来实现控制策略。控制律由 $u(t) = -K\\hat{\\mathbf{x}}(t)$ 给出，其中 $\\hat{\\mathbf{x}}(t)$ 是由 Luenberger 观测器提供的估计状态。该观测器的动态特性为：\n$$\n\\dot{\\hat{\\mathbf{x}}}(t) = A\\hat{\\mathbf{x}}(t) + B u(t) + L(y(t) - C\\hat{\\mathbf{x}}(t))\n$$\n控制器增益是一个行向量 $K = [k_1, k_2]$，观测器增益是一个列向量 $L = [l_1, l_2]^T$。\n\n为了达到期望的性能，控制器的闭环极点需要配置在 $s = -4$ 和 $s = -5$ 处。为确保状态估计快速收敛，观测器误差动态的极点需要配置在 $s = -10$ 和 $s = -12$ 处。\n\n根据分离原理，控制器和观测器的增益可以独立设计。确定增益向量的四个分量的数值：$k_1, k_2, l_1,$ 和 $l_2$。", "solution": "我们应用分离原理：设计状态反馈增益 $K$，使得 $A - B K$ 的特征值位于 $s = -4$ 和 $s = -5$；并独立设计观测器增益 $L$，使得 $A - L C$ 的特征值位于 $s = -10$ 和 $s = -12$。\n\n首先，通过将 $A - B K$ 的特征多项式与期望的多项式进行匹配，来计算 $K = [k_{1}, k_{2}]$。已知 $B K = \\begin{pmatrix} 0 & 0 \\\\ k_{1} & k_{2} \\end{pmatrix}$，我们有\n$$\nA - B K = \\begin{pmatrix} 0 & 1 \\\\ -2 - k_{1} & -3 - k_{2} \\end{pmatrix}.\n$$\n其特征多项式为\n$$\n\\det\\!\\big(s I - (A - B K)\\big) = \\det \\begin{pmatrix} s & -1 \\\\ 2 + k_{1} & s + 3 + k_{2} \\end{pmatrix} = s^{2} + (3 + k_{2}) s + (2 + k_{1}).\n$$\n对于位于 $-4$ 和 $-5$ 的极点，期望的闭环特征多项式为\n$$\n(s + 4)(s + 5) = s^{2} + 9 s + 20.\n$$\n通过系数匹配可得\n$$\n3 + k_{2} = 9 \\quad \\Rightarrow \\quad k_{2} = 6, \\qquad 2 + k_{1} = 20 \\quad \\Rightarrow \\quad k_{1} = 18.\n$$\n\n接下来，通过将 $A - L C$ 的特征多项式与期望的多项式进行匹配，来计算 $L = \\begin{pmatrix} l_{1} \\\\ l_{2} \\end{pmatrix}$。由于 $L C = \\begin{pmatrix} l_{1} & 0 \\\\ l_{2} & 0 \\end{pmatrix}$，我们有\n$$\nA - L C = \\begin{pmatrix} -l_{1} & 1 \\\\ -2 - l_{2} & -3 \\end{pmatrix}.\n$$\n其特征多项式为\n$$\n\\det\\!\\big(s I - (A - L C)\\big) = \\det \\begin{pmatrix} s + l_{1} & -1 \\\\ 2 + l_{2} & s + 3 \\end{pmatrix} = (s + l_{1})(s + 3) + (2 + l_{2}) = s^{2} + (3 + l_{1}) s + (3 l_{1} + 2 + l_{2}).\n$$\n对于位于 $-10$ 和 $-12$ 的极点，期望的观测器误差特征多项式为\n$$\n(s + 10)(s + 12) = s^{2} + 22 s + 120.\n$$\n通过系数匹配可得\n$$\n3 + l_{1} = 22 \\quad \\Rightarrow \\quad l_{1} = 19, \\qquad 3 l_{1} + 2 + l_{2} = 120 \\quad \\Rightarrow \\quad l_{2} = 120 - 3 \\cdot 19 - 2 = 61.\n$$\n\n因此，增益为 $k_{1} = 18$，$k_{2} = 6$，$l_{1} = 19$ 和 $l_{2} = 61$。", "answer": "$$\\boxed{\\begin{pmatrix}18 & 6 & 19 & 61\\end{pmatrix}}$$", "id": "1563422"}, {"introduction": "在分别设计了控制器和观测器的增益之后，我们如何确定它们能像预期的那样协同工作呢？这个练习为分离原理提供了一个直接的验证。通过构建增广闭环系统矩阵并计算其特征值，你将亲手验证整个系统的极点确实是你独立设计的控制器极点和观测器极点的集合 [@problem_id:1563443]。", "problem": "考虑一个线性时不变 (LTI) 系统，由状态空间方程 $\\dot{x} = Ax + Bu$ 和 $y=Cx$ 描述，其中 $x \\in \\mathbb{R}^2$ 是状态向量，$u \\in \\mathbb{R}$ 是控制输入，$y \\in \\mathbb{R}$ 是测量输出。系统矩阵由下式给出：\n$$ A = \\begin{pmatrix} 0 & 1 \\\\ -2 & -3 \\end{pmatrix}, \\quad B = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}, \\quad C = \\begin{pmatrix} 1 & 0 \\end{pmatrix} $$\n该系统采用了一个动态输出反馈控制器。该控制器由状态反馈律 $u = -K\\hat{x}$ 和一个产生状态估计值 $\\hat{x}$ 的 Luenberger 观测器组成。控制器增益矩阵 $K$ 和观测器增益矩阵 $L$ 已预先设计好，如下所示：\n$$ K = \\begin{pmatrix} 28 & 8 \\end{pmatrix}, \\quad L = \\begin{pmatrix} 19 \\\\ 61 \\end{pmatrix} $$\n整个闭环系统的动态特性，可以使用由系统状态 $x$ 和估计误差 $e = x - \\hat{x}$ 组成的增广状态向量来描述，其线性方程为 $\\dot{z} = A_{cl}z$，其中 $z = \\begin{pmatrix} x \\\\ e \\end{pmatrix}$，组合系统矩阵 $A_{cl}$ 为：\n$$ A_{cl} = \\begin{pmatrix} A-BK & BK \\\\ \\mathbf{0} & A-LC \\end{pmatrix} $$\n其中 $\\mathbf{0}$ 是 $2 \\times 2$ 的零矩阵。\n\n确定此组合控制器-观测器系统的四个极点，即矩阵 $A_{cl}$ 的特征值。将极点表示为一组四个按升序排列的数值。", "solution": "我们对带有 Luenberger 观测器和状态反馈的 LTI 系统使用分离原理。增广闭环矩阵是分块上三角矩阵，\n$$\nA_{cl}=\\begin{pmatrix}A-BK & BK \\\\ \\mathbf{0} & A-LC\\end{pmatrix},\n$$\n因此其特征值是对角分块 $A-BK$ 和 $A-LC$ 的特征值的并集。\n\n首先计算 $BK$ 和 $LC$。已知 $B=\\begin{pmatrix}0\\\\1\\end{pmatrix}$ 和 $K=\\begin{pmatrix}28 & 8\\end{pmatrix}$，\n$$\nBK = \\begin{pmatrix}0\\\\1\\end{pmatrix}\\begin{pmatrix}28 & 8\\end{pmatrix}\n= \\begin{pmatrix}0 & 0\\\\ 28 & 8\\end{pmatrix}.\n$$\n因此\n$$\nA-BK = \\begin{pmatrix}0 & 1\\\\ -2 & -3\\end{pmatrix} - \\begin{pmatrix}0 & 0\\\\ 28 & 8\\end{pmatrix}\n= \\begin{pmatrix}0 & 1\\\\ -30 & -11\\end{pmatrix}.\n$$\n$A-BK$ 的特征多项式是\n$$\n\\det(sI-(A-BK)) = \\det\\begin{pmatrix}s & -1\\\\ 30 & s+11\\end{pmatrix}\n= s(s+11)+30 = s^{2}+11s+30 = (s+5)(s+6),\n$$\n所以 $A-BK$ 的特征值是 $-5$ 和 $-6$。\n\n接下来，已知 $L=\\begin{pmatrix}19\\\\61\\end{pmatrix}$ 和 $C=\\begin{pmatrix}1 & 0\\end{pmatrix}$，\n$$\nLC = \\begin{pmatrix}19\\\\61\\end{pmatrix}\\begin{pmatrix}1 & 0\\end{pmatrix}\n= \\begin{pmatrix}19 & 0\\\\ 61 & 0\\end{pmatrix}.\n$$\n因此\n$$\nA-LC = \\begin{pmatrix}0 & 1\\\\ -2 & -3\\end{pmatrix} - \\begin{pmatrix}19 & 0\\\\ 61 & 0\\end{pmatrix}\n= \\begin{pmatrix}-19 & 1\\\\ -63 & -3\\end{pmatrix}.\n$$\n$A-LC$ 的特征多项式是\n$$\n\\det(sI-(A-LC)) = \\det\\begin{pmatrix}s+19 & -1\\\\ 63 & s+3\\end{pmatrix}\n= (s+19)(s+3)+63 = s^{2}+22s+120 = (s+10)(s+12),\n$$\n所以 $A-LC$ 的特征值是 $-10$ 和 $-12$。\n\n因此，$A_{cl}$ 的四个极点是这些集合的并集，按升序排列为：$-12, -10, -6, -5$。", "answer": "$$\\boxed{\\begin{pmatrix}-12 & -10 & -6 & -5\\end{pmatrix}}$$", "id": "1563443"}, {"introduction": "除了确保长期稳定性，理解系统的瞬时暂态行为也至关重要，特别是当真实状态和观测器估计值存在初始偏差时。这个问题深入探讨了初始时刻的动态特性，要求你确定控制信号最初如何响应估计误差。这为你理解观测器控制系统在真实世界中的性能以及其各组件之间的相互作用提供了宝贵的见解 [@problem_id:1563449]。", "problem": "考虑一个线性时不变 (LTI) 系统，称为“被控对象”，其动态由状态空间模型描述：\n$$\n\\dot{x}(t) = Ax(t) + Bu(t)\n$$\n$$\ny(t) = Cx(t)\n$$\n其中，$x(t)$ 是状态向量，$u(t)$ 是控制输入，$y(t)$ 是测量输出。矩阵 $A、B$ 和 $C$ 是具有适当维度的常数矩阵。\n\n为了镇定该被控对象，实现了一个状态反馈控制器。由于完整状态 $x(t)$ 无法直接用于反馈，因此使用 Luenberger 观测器来生成状态的估计值，记为 $\\hat{x}(t)$。观测器的动态由下式给出：\n$$\n\\dot{\\hat{x}}(t) = A\\hat{x}(t) + Bu(t) + L(y(t) - C\\hat{x}(t))\n$$\n其中 $L$ 是观测器增益矩阵。\n\n然后使用估计的状态定义控制律：\n$$\nu(t) = -K\\hat{x}(t)\n$$\n其中 $K$ 是状态反馈增益矩阵。\n\n在时间 $t=0$ 时，系统受到扰动偏离其平衡点，导致初始状态 $x(0)$ 非零。然而，观测器在初始化时假设系统处于原点，即其初始状态为 $\\hat{x}(0) = 0$。\n\n求控制信号的初始变化率 $\\dot{u}(0) = \\frac{du}{dt}|_{t=0}$。请用系统矩阵 $K、L、C$ 和被控对象的初始状态向量 $x(0)$ 给出答案的闭式解析表达式。", "solution": "我们从控制律 $u(t) = -K\\hat{x}(t)$ 开始。由于 $K$ 是常数，对时间求导可得\n$$\n\\dot{u}(t) = -K\\,\\dot{\\hat{x}}(t).\n$$\n在 $t=0$ 处求值需要 $\\dot{\\hat{x}}(0)$。观测器的动态为\n$$\n\\dot{\\hat{x}}(t) = A\\hat{x}(t) + Bu(t) + L\\big(y(t) - C\\hat{x}(t)\\big).\n$$\n使用 $y(t) = Cx(t)$ 和 $u(t) = -K\\hat{x}(t)$，我们有\n$$\n\\dot{\\hat{x}}(t) = (A - BK - LC)\\hat{x}(t) + LC\\,x(t).\n$$\n在 $t=0$ 时，初始条件为 $\\hat{x}(0) = 0$ 和 $y(0) = Cx(0)$，这也意味着 $u(0) = -K\\hat{x}(0) = 0$。因此，\n$$\n\\dot{\\hat{x}}(0) = A\\hat{x}(0) + Bu(0) + L\\big(y(0) - C\\hat{x}(0)\\big) = 0 + 0 + L\\big(Cx(0) - 0\\big) = LC\\,x(0).\n$$\n代入 $\\dot{u}(0)$ 的表达式可得\n$$\n\\dot{u}(0) = -K\\,\\dot{\\hat{x}}(0) = -KLC\\,x(0).\n$$\n这就用 $K、L、C$ 和 $x(0)$ 以闭式形式表示了控制输入的初始变化率。", "answer": "$$\\boxed{-KLC\\,x(0)}$$", "id": "1563449"}]}