{"hands_on_practices": [{"introduction": "直接数值模拟（DNS）的一个主要挑战是其巨大的计算成本。这项练习将通过一个直接、具体的计算，让你亲手估算一次模拟快照所需的内存，从而将“高保真度”这一抽象概念落实到具体的数字上。这有助于你直观地感受和理解运行DNS所需面对的硬件资源挑战。[@problem_id:1748599]", "problem": "在计算流体动力学领域，直接数值模拟 (DNS) 是一种研究湍流的强大技术。一名研究人员正在为一个立方体盒子内的流动设置 DNS。计算域被离散化为一个均匀的笛卡尔网格，其分辨率为 $512 \\times 512 \\times 512$ 个网格点。\n\n对于该网格上的每个点，模拟需要在某个特定时刻存储流体的状态。这个数据“快照”包含四个独立的物理量：流体速度矢量的三个分量 $(u, v, w)$ 和标量压力 $p$。这四个量中的每一个都以双精度浮点数的形式存储，正好占用 8 字节的内存。\n\n已知 1 吉字节 (GB) 定义为 $10^9$ 字节，请计算存储整个模拟场的单个快照所需的总内存。请以吉字节 (GB) 为单位表示你的答案，并四舍五入到三位有效数字。", "solution": "网格点总数是每个方向上网格分辨率的乘积，所以 $N = 512 \\times 512 \\times 512$。每个网格点存储四个量，每个量需要 $8$ 字节，因此每个网格点所需的内存为 $m_{\\text{pt}} = 4 \\times 8 = 32$ 字节。因此，一个快照的总内存（以字节为单位）是\n$$\nM_{\\text{bytes}} = N \\times m_{\\text{pt}} = (512 \\times 512 \\times 512) \\times 32.\n$$\n使用 2 的幂次，有 $512 = 2^{9}$，所以 $N = 2^{27}$ 并且 $32 = 2^{5}$，这得出\n$$\nM_{\\text{bytes}} = 2^{27} \\times 2^{5} = 2^{32} \\text{ bytes}.\n$$\n根据定义 $1 \\text{ GB} = 10^{9} \\text{ bytes}$，内存（以吉字节为单位）为\n$$\nM_{\\text{GB}} = \\frac{M_{\\text{bytes}}}{10^{9}} = \\frac{2^{32}}{10^{9}} = \\frac{4{,}294{,}967{,}296}{10^{9}} = 4.294967296.\n$$\n四舍五入到三位有效数字，得到 $4.29$。", "answer": "$$\\boxed{4.29}$$", "id": "1748599"}, {"introduction": "为何DNS需要如此高的计算资源？这项练习将探讨DNS高分辨率网格背后的理论基础，将计算需求与湍流物理联系起来。通过计算解析湍流最小涡（即Kolmogorov尺度）所需的网格点数，你将理解为何DNS的计算量会随着雷诺数 $Re$ 的增加而急剧增长，这正是DNS在工程应用中面临的主要瓶颈之一。[@problem_id:1748634]", "problem": "一个计算流体力学工程师团队正在建立一个直接数值模拟（DNS），以研究一个立方体区域内的湍流。该立方体的边长为 $L$。流体中的大尺度运动由一个特征速度 $U$ 表征，流体的运动粘度为 $\\nu$。\n\n为了让 DNS 精确捕捉湍流的物理特性，计算网格必须足够精细，以解析最小的涡旋。这些最小涡旋的尺寸由柯尔莫哥洛夫长度尺度 $\\eta$ 表征。沿立方体区域一个维度所需的网格点数 $N$ 估计为大尺度与小尺度的比值，即 $N = L/\\eta$。那么，三维模拟的总网格点数即为 $N_{total} = N^3$。\n\n在此模型中，柯尔莫哥洛夫尺度 $\\eta$ 取决于运动粘度 $\\nu$ 和单位质量的湍流动能耗散率 $\\epsilon$，其关系式为 $\\eta = (\\nu^3 / \\epsilon)^{1/4}$。而耗散率 $\\epsilon$ 又可通过表达式 $\\epsilon = C_D U^3 / L$ 从流场的大尺度特征进行估计，其中 $C_D$ 是一个量级为1的无量纲常数。\n\n对于本次特定的模拟，参数如下：\n- 区域边长, $L = 2.50 \\text{ m}$\n- 特征速度, $U = 8.00 \\text{ m/s}$\n- 运动粘度, $\\nu = 1.50 \\times 10^{-5} \\text{ m}^2/\\text{s}$\n- 耗散常数, $C_D = 0.850$\n\n计算此次模拟所需的总网格点数 $N_{total}$。你的答案应使用科学记数法表示，并四舍五入到三位有效数字。", "solution": "我们从 DNS 分辨率要求 $N = \\frac{L}{\\eta}$ 和 $N_{total} = N^{3}$ 开始。柯尔莫哥洛夫尺度由 $\\eta = \\left(\\frac{\\nu^{3}}{\\epsilon}\\right)^{1/4}$ 给出，其中耗散率估计为 $\\epsilon = \\frac{C_{D} U^{3}}{L}$。\n\n将 $\\epsilon$ 代入 $\\eta$ 的表达式中，\n$$\n\\eta = \\left(\\frac{\\nu^{3}}{C_{D} U^{3} / L}\\right)^{1/4} = \\left(\\frac{\\nu^{3} L}{C_{D} U^{3}}\\right)^{1/4}.\n$$\n因此，\n$$\nN = \\frac{L}{\\eta} = L \\left(\\frac{C_{D} U^{3}}{\\nu^{3} L}\\right)^{1/4} = C_{D}^{1/4} U^{3/4} \\nu^{-3/4} L^{3/4} = C_{D}^{1/4} \\left(\\frac{U L}{\\nu}\\right)^{3/4}.\n$$\n引入雷诺数 $\\mathrm{Re} = \\frac{U L}{\\nu}$ 可得\n$$\nN = C_{D}^{1/4} \\mathrm{Re}^{3/4}, \\quad N_{total} = N^{3} = C_{D}^{3/4} \\mathrm{Re}^{9/4}.\n$$\n\n现在使用给定的参数进行计算。首先计算雷诺数：\n$$\n\\mathrm{Re} = \\frac{U L}{\\nu} = \\frac{8.00 \\times 2.50}{1.50 \\times 10^{-5}} = \\frac{20.0}{1.50 \\times 10^{-5}} = 1.333333\\ldots \\times 10^{6}.\n$$\n计算 $N$ 的各项因子：\n$$\nC_{D}^{1/4} = 0.850^{1/4} \\approx 0.960184, \\quad \\mathrm{Re}^{3/4} = \\left(1.333333\\ldots \\times 10^{6}\\right)^{3/4} \\approx 3.9237746 \\times 10^{4}.\n$$\n因此，\n$$\nN = C_{D}^{1/4} \\mathrm{Re}^{3/4} \\approx 0.960184 \\times 3.9237746 \\times 10^{4} \\approx 3.767547 \\times 10^{4}.\n$$\n最后，\n$$\nN_{total} = N^{3} = \\left(3.767547 \\times 10^{4}\\right)^{3} = 3.767547^{3} \\times 10^{12} \\approx 53.4781 \\times 10^{12} = 5.34781 \\times 10^{13}.\n$$\n四舍五入到三位有效数字，得到\n$$\nN_{total} \\approx 5.35 \\times 10^{13}.\n$$", "answer": "$$\\boxed{5.35 \\times 10^{13}}$$", "id": "1748634"}, {"introduction": "在理解了DNS的设置和成本之后，我们来看看它的最终产出：海量的数据。这项练习将向你展示如何处理DNS的原始输出数据，例如速度的时间序列，来计算一个基本的湍流统计量——速度脉动的均方根（RMS）。这个过程是湍流研究中从模拟数据中提取物理洞察的关键一步，它将原始的、看似混乱的信号转化为有意义的物理量。[@problem_id:1748617]", "problem": "在计算流体动力学领域，直接数值模拟（Direct Numerical Simulation, DNS）是一种高保真度方法，通过解析运动的所有时间和空间尺度来研究湍流。考虑一个对管道内湍流水流进行的DNS。一个虚拟探针被放置在流场中的一个固定点，用以记录轴向的瞬时速度分量 $u$。从模拟数据文件中摘录的一小段数据显示了在固定时间间隔下连续测量的五个速度值：\n\n$u_1 = 10.5$ m/s\n$u_2 = 9.8$ m/s\n$u_3 = 10.2$ m/s\n$u_4 = 11.1$ m/s\n$u_5 = 9.4$ m/s\n\n根据此数据样本，计算速度脉动的均方根（root-mean-square, RMS）值。任意时刻的速度脉动定义为瞬时速度与样本的时间平均速度之间的偏差。\n\n以 m/s 为单位表示最终答案，并保留三位有效数字。", "solution": "速度脉动的均方根（RMS）定义为与平均值偏差的平方的时间平均值的平方根。对于一个大小为 $N$、瞬时速度为 $u_{i}$、样本均值为 $\\bar{u}$ 的离散样本，其RMS脉动为\n$$\nu'_{\\mathrm{rms}}=\\sqrt{\\frac{1}{N}\\sum_{i=1}^{N}\\left(u_{i}-\\bar{u}\\right)^{2}}, \\quad \\text{where} \\quad \\bar{u}=\\frac{1}{N}\\sum_{i=1}^{N}u_{i}.\n$$\n此处，$N=5$，数据为 $u_{1}=10.5$，$u_{2}=9.8$，$u_{3}=10.2$，$u_{4}=11.1$，$u_{5}=9.4$（单位：m/s）。首先计算平均值：\n$$\n\\bar{u}=\\frac{1}{5}\\left(10.5+9.8+10.2+11.1+9.4\\right)=\\frac{51.0}{5}=10.2 \\ \\text{m/s}.\n$$\n计算脉动值 $u_{i}'=u_{i}-\\bar{u}$：\n$$\nu_{1}'=0.3,\\quad u_{2}'=-0.4,\\quad u_{3}'=0,\\quad u_{4}'=0.9,\\quad u_{5}'=-0.8.\n$$\n将脉动值平方并求和：\n$$\n\\sum_{i=1}^{5}(u_{i}')^{2}=0.3^{2}+(-0.4)^{2}+0^{2}+0.9^{2}+(-0.8)^{2}=0.09+0.16+0+0.81+0.64=1.70.\n$$\n对平方后的脉动值求平均，然后取其平方根：\n$$\nu'_{\\mathrm{rms}}=\\sqrt{\\frac{1}{5}\\times 1.70}=\\sqrt{0.34}\\approx 0.583095\\ \\text{m/s}.\n$$\n保留三位有效数字，速度脉动的RMS值为 $0.583$ m/s。", "answer": "$$\\boxed{0.583}$$", "id": "1748617"}]}