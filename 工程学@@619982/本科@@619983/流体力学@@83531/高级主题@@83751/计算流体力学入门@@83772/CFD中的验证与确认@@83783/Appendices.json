{"hands_on_practices": [{"introduction": "在计算流体动力学（CFD）中，任何数值解都不可避免地包含由于将连续的流体域离散化为网格而产生的误差。网格收敛性研究是评估这种“离散误差”并建立对解的置信度的基石。这项实践将指导你完成一个基本且至关重要的验证流程，即使用系统性加密的网格来量化离散误差并外推出一个更精确的解 [@problem_id:1810208]。", "problem": "一位工程师正在对方柱体上方的稳定、层流、不可压缩流动的计算流体动力学 (CFD) 模拟进行验证研究。其目标是量化一个关键模拟输出的离散误差：方柱体后方尾流区中的峰值速度。\n\n研究采用三套系统加密的网格进行了网格收敛性研究，我们将其称为粗网格、中等网格和细网格。中等网格的特征网格单元尺寸是粗网格的一半，而细网格的特征网格单元尺寸是中等网格的一半。这对应于连续网格层级之间恒定的网格加密因子 $r=2$。\n\n在这三套网格上进行模拟所获得的峰值尾流速度为：\n- 粗网格解 ($V_{coarse}$): $0.170$ m/s\n- 中等网格解 ($V_{medium}$): $0.230$ m/s\n- 细网格解 ($V_{fine}$): $0.245$ m/s\n\n假设模拟结果处于渐近收敛区，使用这些数据估计细网格解中的离散误差，其定义为 $E_{fine} = V_{fine} - V_{exact}$，其中 $V_{exact}$ 是峰值速度的精确解。\n\n请以 m/s 为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "假设为渐近网格收敛，将峰值速度的网格依赖性建模为 $V(h)=V_{exact}+C h^{p}$，其中 $h$ 是特征网格尺寸，$C$ 是一个常数，$p$ 是观测到的精度阶。在恒定加密因子 $r=2$ 的情况下，细网格、中等网格和粗网格分别对应于 $h_{1}$、$h_{2}=r h_{1}$ 和 $h_{3}=r^{2} h_{1}$，其对应的解为 $V_{1}=V_{fine}$、$V_{2}=V_{medium}$ 和 $V_{3}=V_{coarse}$。\n\n由三个解计算出的观测精度阶 $p$ 使用以下公式：\n$$\np=\\frac{\\ln\\!\\left(\\left|\\frac{V_{3}-V_{2}}{V_{2}-V_{1}}\\right|\\right)}{\\ln(r)}.\n$$\n当 $V_{3}=0.170$、$V_{2}=0.230$、$V_{1}=0.245$ 且 $r=2$ 时，\n$$\nV_{3}-V_{2}=-0.060,\\quad V_{2}-V_{1}=-0.015,\\quad \\frac{V_{3}-V_{2}}{V_{2}-V_{1}}=4,\n$$\n因此\n$$\np=\\frac{\\ln(4)}{\\ln(2)}=2.\n$$\n\n用于计算精确值的 Richardson 外推法为\n$$\nV_{exact}\\approx V_{1}+\\frac{V_{1}-V_{2}}{r^{p}-1}.\n$$\n代入 $V_{1}=0.245$，$V_{2}=0.230$，$r^{p}=2^{2}=4$，\n$$\nV_{exact}\\approx 0.245+\\frac{0.245-0.230}{4-1}=0.245+\\frac{0.015}{3}=0.245+0.005=0.250.\n$$\n\n细网格解的离散误差为\n$$\nE_{fine}=V_{fine}-V_{exact}=0.245-0.250=-0.005.\n$$\n四舍五入到三位有效数字，结果为 $-0.00500$。", "answer": "$$\\boxed{-0.00500}$$", "id": "1810208"}, {"introduction": "在使用如湍流模型等高级物理模型时，我们必须验证我们模拟的设置满足了模型背后的假设。对于在CFD中广泛应用的壁面函数方法，一个关键的假设是近壁面第一个网格点的位置。这项练习提供了计算无量纲壁面距离 $y^+$ 的实践，这是确保壁面函数有效性的一个必不可少的检查步骤 [@problem_id:1810231]。", "problem": "一位工程师正在进行计算流体动力学（CFD）仿真，以分析一个液冷电池模块中的传热情况。冷却是通过将水泵入一系列狭窄的矩形通道来实现的。为了进行初步分析，单个通道被建模为两个大的平行平板之间的流动。\n\n该仿真是针对湍流进行的，并采用壁面函数方法对近壁区域进行建模，以降低计算成本。验证此方法的一个关键步骤是检查紧邻壁面的第一个网格单元的无量纲壁面距离，记为 $y^+$。为使壁面函数有效，该值必须在特定范围内。\n\n您的任务是根据仿真设置参数计算此值。该通道由两个平行平板构成，间距为 $H = 5.00 \\text{ mm}$。工作流体是水，其密度为 $\\rho = 992.2 \\text{ kg/m}^3$，动力粘度为 $\\mu = 6.531 \\times 10^{-4} \\text{ Pa} \\cdot \\text{s}$。水的主流速度为 $U_{bulk} = 1.50 \\text{ m/s}$。在计算网格中，从壁面到第一个网格单元形心的距离为 $y_p = 0.200 \\text{ mm}$。\n\n对于通道中的充分发展的湍流，达西摩擦因子 $f$ 可使用针对光滑管道的 Blasius 关联式 $f \\approx 0.316 Re_D^{-0.25}$ 进行估算，其中 $Re_D$ 是基于水力直径的雷诺数。两个大的平行平板之间的流动的水力直径为 $D_h = 2H$。\n\n计算 $y^+$ 的值。将最终答案四舍五入到三位有效数字。", "solution": "我们要求解距离壁面 $y_{p}$ 处的第一个单元中心的无量纲壁面距离 $y^{+}$。根据定义，\n$$\ny^{+}=\\frac{y_{p}u_{\\tau}}{\\nu},\n$$\n其中 $u_{\\tau}=\\sqrt{\\frac{\\tau_{w}}{\\rho}}$ 是摩擦速度，$\\nu=\\frac{\\mu}{\\rho}$ 是运动粘度。对于充分发展的内部湍流，达西摩擦因子 $f$ 与壁面剪切应力的关系为\n$$\n\\tau_{w}=\\frac{f}{8}\\,\\rho U_{\\text{bulk}}^{2},\n$$\n因此\n$$\nu_{\\tau}=\\sqrt{\\frac{\\tau_{w}}{\\rho}}=U_{\\text{bulk}}\\sqrt{\\frac{f}{8}}.\n$$\n所以，\n$$\ny^{+}=\\frac{y_{p}U_{\\text{bulk}}}{\\nu}\\sqrt{\\frac{f}{8}}.\n$$\n\n我们根据给定数据计算每个分量。两个平行平板的水力直径为 $D_{h}=2H$，因此当 $H=5.00 \\times 10^{-3}\\ \\text{m}$ 时，\n$$\nD_{h}=2H=1.000 \\times 10^{-2}\\ \\text{m}.\n$$\n基于 $D_{h}$ 的雷诺数为\n$$\nRe_{D}=\\frac{\\rho U_{\\text{bulk}}D_{h}}{\\mu}\n=\\frac{(992.2)\\,(1.50)\\,(1.000\\times 10^{-2})}{6.531\\times 10^{-4}}\n=\\frac{1.4883\\times 10^{1}}{6.531\\times 10^{-4}}\n\\approx 2.2788\\times 10^{4}.\n$$\n使用 Blasius 关联式 $f\\approx 0.316\\,Re_{D}^{-0.25}$，\n$$\nf\\approx 0.316\\,(2.2788\\times 10^{4})^{-0.25}\\approx 2.5718\\times 10^{-2}.\n$$\n因此，\n$$\n\\sqrt{\\frac{f}{8}}=\\sqrt{\\frac{2.5718\\times 10^{-2}}{8}}\\approx 5.6685\\times 10^{-2},\n$$\n以及\n$$\nu_{\\tau}=U_{\\text{bulk}}\\sqrt{\\frac{f}{8}}\\approx (1.50)\\,(5.6685\\times 10^{-2})\\approx 8.5028\\times 10^{-2}\\ \\text{m/s}.\n$$\n\n运动粘度为\n$$\n\\nu=\\frac{\\mu}{\\rho}=\\frac{6.531\\times 10^{-4}}{992.2}\\ \\text{m}^{2}\\text{/s}\\approx 6.582\\times 10^{-7}\\ \\text{m}^{2}\\text{/s}.\n$$\n当 $y_{p}=0.200\\ \\text{mm}=2.000\\times 10^{-4}\\ \\text{m}$ 时，\n$$\ny^{+}=\\frac{(2.000\\times 10^{-4})(8.5028\\times 10^{-2})}{6.582\\times 10^{-7}}\n\\approx 2.58\\times 10^{1}\\approx 25.8.\n$$\n四舍五入到三位有效数字，结果为 $25.8$。", "answer": "$$\\boxed{25.8}$$", "id": "1810231"}, {"introduction": "验证的范围不仅限于检查模拟设置，还包括验证CFD代码本身。当新的复杂功能（如用于优化的伴随求解器）被添加到代码中时，必须对其进行严格的测试。这项练习展示了一种标准的“代码验证”技术：将一个新型高效求解器的输出与一个“暴力”但可信的方法（此处为有限差分近似）进行比较，从而确认新功能的正确性 [@problem_id:1810181]。", "problem": "一位初级空气动力学工程师的任务是为一个新实施的连续伴随求解器进行验证研究。该求解器是一个内部开发的计算流体动力学 (CFD) 程序的一个组件，设计用于高效计算空气动力相对于表面几何形状变化的敏感度，这是外形优化算法中的一个关键步骤。\n\n选定的测试案例是一个流经某表面的二维、定常、不可压缩的层流。该表面由一个带有一个小的对称凸起的平板组成。该凸起的几何形状由单一外形参数，即其最大高度 $h$ 控制。我们关注的物理量是作用在表面上的总阻力 $D$。\n\n新的伴随求解器在名义凸起高度为 $h_0 = 0.015$ 米的条件下运行。在此构型下，它计算出了阻力相对于外形参数的敏感度 $\\frac{dD}{dh}$ 的值。伴随求解器报告的值为 $S_{adj} = 42.80$ N/m。\n\n为了验证这一结果，我们使用一个可信的、高保真度的主 CFD 求解器作为基准。该主求解器可以精确计算任何给定凸起高度 $h$ 下的总阻力 $D$。通过在名义高度 $h_0$ 附近施加一个 $\\Delta h = 0.0002$ 米的小扰动来运行主求解器，获得了以下阻力值：\n- 当凸起高度为 $h_{-} = h_0 - \\Delta h$ 时，计算出的阻力为 $D_{-} = 5.7311$ 牛。\n- 当凸起高度为 $h_{+} = h_0 + \\Delta h$ 时，计算出的阻力为 $D_{+} = 5.7483$ 牛。\n\n你的任务是进行验证。首先，使用主求解器的数据，计算阻力敏感度的一个二阶精度的有限差分近似值，记为 $S_{FD}$。然后，计算伴随求解器得到的敏感度 ($S_{adj}$) 与你的有限差分近似值 ($S_{FD}$) 之间的相对误差。你应该使用 $S_{FD}$ 作为参考值（即，在相对误差计算的分母中）。\n\n将最终的相对误差答案表示为小数形式，并四舍五入到三位有效数字。", "solution": "我们将 $h=h_{0}$ 处阻力对凸起高度的敏感度记为 $S=\\frac{dD}{dh}$。一个二阶精度的中心有限差分近似由下式给出：\n$$\nS_{FD}=\\frac{D(h_{0}+\\Delta h)-D(h_{0}-\\Delta h)}{2\\Delta h}.\n$$\n使用给定的主求解器输出 $D_{+}=D(h_{0}+\\Delta h)=5.7483$ N， $D_{-}=D(h_{0}-\\Delta h)=5.7311$ N，以及 $\\Delta h=0.0002$ m，我们计算\n$$\nS_{FD}=\\frac{5.7483-5.7311}{2\\times 0.0002}=\\frac{0.0172}{0.0004}=43.0\\ \\text{N/m}.\n$$\n报告的伴随敏感度为 $S_{adj}=42.80$ N/m。以 $S_{FD}$ 为参考值，相对误差为\n$$\n\\varepsilon_{\\text{rel}}=\\frac{|S_{adj}-S_{FD}|}{|S_{FD}|}=\\frac{|42.80-43.0|}{43.0}=\\frac{0.20}{43.0}=\\frac{1}{215}\\approx 0.004651\\ldots\n$$\n四舍五入到三位有效数字，相对误差为 $0.00465$。", "answer": "$$\\boxed{0.00465}$$", "id": "1810181"}]}