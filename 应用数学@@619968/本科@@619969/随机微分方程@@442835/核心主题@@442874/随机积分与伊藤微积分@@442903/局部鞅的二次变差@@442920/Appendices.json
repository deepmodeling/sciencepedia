{"hands_on_practices": [{"introduction": "我们从一个基础但至关重要的情况入手：一个具有确定性被积函数的 Itô 积分。这个练习将帮助你通过第一性原理来巩固二次变分的概念，即二次变分是增量平方和的极限。通过直接计算，你将亲身体会到二次变分与 Itô 等距定理之间的深刻联系，这是理解更复杂随机过程的基础。[@problem_id:3071614]", "problem": "设 $(\\Omega,\\mathcal{F},(\\mathcal{F}_{t})_{t\\in[0,T]},\\mathbb{P})$ 是一个带滤概率空间，其上定义了一个标准布朗运动（维纳过程）$W=(W_{t})_{t\\in[0,T]}$。固定 $t\\in[0,T]$。令 $h\\in L^{2}([0,T])$ 是一个确定性函数，并定义Itô积分过程 $X=(X_{u})_{u\\in[0,T]}$ 为 $X_{u}=\\int_{0}^{u} h_{s}\\,dW_{s}$。连续过程 $X$ 在时刻 $t$ 的二次变差 $[X]_{t}$ 定义为沿网格趋于0的分割的增量平方和的依概率极限（关于 $\\mathbb{P}$），即：\n$$\n[X]_{t}=\\lim_{|\\pi|\\to 0}\\sum_{i=0}^{n-1}\\bigl(X_{t_{i+1}}-X_{t_{i}}\\bigr)^{2},\n$$\n其中 $\\pi=\\{0=t_{0} t_1  \\dots  t_n=t\\}$ 是区间 $[0,t]$ 上的一个分割序列，其范数 $|\\pi|=\\max_{i}(t_{i+1}-t_i)$ 趋于零。\n\n你的任务是推导 $[X]_t$ 的表达式。", "solution": "问题要求计算Itô过程 $X_{u} = \\int_{0}^{u} h_{s}\\,dW_{s}$ 的二次变差 $[X]_{t}$，其中 $h$ 是 $L^{2}([0,T])$ 中的一个确定性函数。我们必须使用所提供的二次变差定义，即依概率收敛的极限：\n$$\n[X]_{t}=\\lim_{|\\pi|\\to 0}\\sum_{i=0}^{n-1}\\bigl(X_{t_{i+1}}-X_{t_{i}}\\bigr)^{2}\n$$\n对于区间 $[0,t]$ 的一个分割 $\\pi=\\{0=t_{0} t_1  \\dots  t_n=t\\}$。\n\n首先，让我们来表达增量 $X_{t_{i+1}}-X_{t_{i}}$：\n$$\nX_{t_{i+1}}-X_{t_{i}} = \\int_{0}^{t_{i+1}}h_{s}\\,dW_{s}-\\int_{0}^{t_{i}}h_{s}\\,dW_{s} = \\int_{t_{i}}^{t_{i+1}}h_{s}\\,dW_{s}。\n$$\n我们需要计算这个增量的平方和 $S_n := \\sum_{i=0}^{n-1}\\bigl(\\int_{t_{i}}^{t_{i+1}}h_{s}\\,dW_{s}\\bigr)^{2}$ 的极限。\n\n为了找到依概率收敛的极限，我们可以计算其期望和方差。\n根据Itô等距定理，对于确定性被积函数 $h$，我们有：\n$$\n\\mathbb{E}\\left[\\left(\\int_{t_{i}}^{t_{i+1}}h_{s}\\,dW_{s}\\right)^2\\right] = \\mathbb{E}\\left[\\int_{t_{i}}^{t_{i+1}}h_{s}^2\\,ds\\right] = \\int_{t_{i}}^{t_{i+1}}h_{s}^2\\,ds。\n$$\n因为 $h$ 是确定性的。\n\n现在计算 $S_n$ 的期望：\n$$\n\\mathbb{E}[S_n] = \\mathbb{E}\\left[\\sum_{i=0}^{n-1}\\left(\\int_{t_{i}}^{t_{i+1}}h_{s}\\,dW_{s}\\right)^{2}\\right] = \\sum_{i=0}^{n-1}\\mathbb{E}\\left[\\left(\\int_{t_{i}}^{t_{i+1}}h_{s}\\,dW_{s}\\right)^{2}\\right] = \\sum_{i=0}^{n-1}\\int_{t_{i}}^{t_{i+1}}h_{s}^{2}\\,ds = \\int_{0}^{t}h_{s}^{2}\\,ds。\n$$\n这表明 $S_n$ 的期望收敛到 $\\int_{0}^{t}h_{s}^{2}\\,ds$。为了证明依概率收敛，我们还需要证明 $S_n$ 的方差趋于零。\n\n由于布朗运动的增量是独立的，Itô积分在不重叠时间区间上的增量也是独立的。因此，$\\int_{t_{i}}^{t_{i+1}}h_{s}\\,dW_{s}$ 和 $\\int_{t_{j}}^{t_{j+1}}h_{s}\\,dW_{s}$ 对于 $i\\neq j$ 是独立的。因此，和的方差等于方差的和：\n$$\n\\text{Var}(S_n) = \\sum_{i=0}^{n-1}\\text{Var}\\left(\\left(\\int_{t_{i}}^{t_{i+1}}h_{s}\\,dW_{s}\\right)^2\\right)\n$$\n一个均值为零的正态随机变量 $Z \\sim N(0, \\sigma^2)$ 的四阶矩是 $\\mathbb{E}[Z^4]=3\\sigma^4$。因此，其平方的方差为 $\\text{Var}(Z^2) = \\mathbb{E}[Z^4] - (\\mathbb{E}[Z^2])^2 = 3\\sigma^4 - (\\sigma^2)^2 = 2\\sigma^4$。\n在这里，随机变量 $Z_i = \\int_{t_{i}}^{t_{i+1}}h_{s}\\,dW_{s}$ 是正态分布的，均值为0，方差为 $\\sigma_i^2 = \\int_{t_{i}}^{t_{i+1}}h_{s}^{2}\\,ds$。\n所以\n$$\n\\text{Var}\\left(\\left(\\int_{t_{i}}^{t_{i+1}}h_{s}\\,dW_{s}\\right)^2\\right) = 2\\left(\\int_{t_{i}}^{t_{i+1}}h_{s}^{2}\\,ds\\right)^2。\n$$\n因此，\n$$\n\\text{Var}(S_n) = 2\\sum_{i=0}^{n-1}\\left(\\int_{t_{i}}^{t_{i+1}}h_{s}^{2}\\,ds\\right)^2。\n$$\n由于 $h\\in L^2([0,T])$，因此 $g(s)=h_s^2$ 在 $[0,t]$ 上是可积的。对于连续函数 $g$，我们有 $\\int_{t_i}^{t_{i+1}}g(s)ds \\approx g(t_i^*)(t_{i+1}-t_i)$。\n$$\n\\text{Var}(S_n) \\approx 2\\sum_{i=0}^{n-1} (h_{t_i^*}^2 (t_{i+1}-t_i))^2 \\le 2\\sum_{i=0}^{n-1} \\max_{[t_i, t_{i+1}]} (h_s^4) (t_{i+1}-t_i)^2 \\\\\n\\le 2 \\max_i(t_{i+1}-t_i) \\sum_{i=0}^{n-1} \\max_{[t_i, t_{i+1}]} (h_s^4) (t_{i+1}-t_i)\n$$\n当 $|\\pi|\\to 0$ 时，$\\max_i(t_{i+1}-t_i)\\to 0$。和式 $\\sum \\max(h_s^4)(t_{i+1}-t_i)$ 收敛到 $\\int_0^t h_s^4 ds$（假设 $h^2$ 足够好，例如连续）。更一般地，由于 $h^2$ 是 $L^1$ 函数，$\\int_{t_i}^{t_{i+1}} h_s^2 ds$ 在 $|\\pi|\\to 0$ 时对所有 $i$ 是一致小的。因此 $\\text{Var}(S_n) \\to 0$。\n\n因为 $\\mathbb{E}[S_n] \\to \\int_{0}^{t}h_{s}^{2}\\,ds$ 且 $\\text{Var}(S_n) \\to 0$，根据切比雪夫不等式， $S_n$ 依概率收敛于其期望的极限。\n$$\n[X]_{t} = \\lim_{|\\pi|\\to 0} S_n = \\int_{0}^{t}h_{s}^{2}\\,ds。\n$$\n因此，二次变差是 $\\int_{0}^{t} h_{s}^{2}\\,ds$。", "answer": "$$\n\\boxed{\\int_{0}^{t} h_{s}^{2}\\,ds}\n$$", "id": "3071614"}, {"introduction": "在掌握了基础之后，我们现在将问题推广到由一般随机微分方程（SDE）定义的 Itô 过程。这个练习的核心是让你学会如何将一个半鞅分解为有限变分部分（漂移项）和局部鞅部分（扩散项），并证明二次变分完全由扩散项决定。这个结果是随机分析的基石，它揭示了二次变分作为衡量过程“纯粹随机性”的内在属性。[@problem_id:3071633]", "problem": "考虑一个满足通常条件的带滤概率空间 $(\\Omega,\\mathcal{F},(\\mathcal{F}_t)_{t\\in[0,T]},\\mathbb{P})$，其上定义了一个一维标准布朗运动（BM） $(W_t)_{t\\in[0,T]}$。令 $(X_t)_{t\\in[0,T]}$ 为以下随机微分方程的唯一强解\n$$\ndX_t \\,=\\, \\mu(X_t,t)\\,dt \\,+\\, \\sigma(X_t,t)\\,dW_t,\\qquad X_0\\in L^2(\\Omega,\\mathcal{F}_0,\\mathbb{P}),\n$$\n其中 $\\mu:\\mathbb{R}\\times[0,T]\\to\\mathbb{R}$ 和 $\\sigma:\\mathbb{R}\\times[0,T]\\to\\mathbb{R}$ 关于两个参数都是Borel可测的，关于空间变量在时间上一致地全局Lipschitz，并且满足线性增长条件。进一步假设，对于每个固定的 $x\\in\\mathbb{R}$，函数 $t\\mapsto \\mu(x,t)$ 和 $t\\mapsto \\sigma(x,t)$ 是连续的。定义连续半鞅 $(X_t)_{t\\in[0,T]}$ 的二次变差 $[X]_t$ 为\n$$\n[X]_t \\,=\\, \\mathbb{P}\\text{-}\\lim_{|\\pi|\\to 0}\\sum_{i=1}^{n} \\bigl(X_{t_i}-X_{t_{i-1}}\\bigr)^2,\n$$\n其中 $\\pi=\\{0=t_0  t_1  \\dots  t_n=t\\}$ 是 $[0,t]$ 的一个分割序列，其网格尺寸 $|\\pi| \\to 0$。\n\n求 $[X]_t$。", "solution": "问题要求推导过程 $(X_t)_{t\\in[0,T]}$ 的二次变差 $[X]_t$，该过程是某个随机微分方程（SDE）的唯一强解。\n\n首先，我们对问题陈述进行验证。\n\n**步骤1：提取已知条件**\n- 一个带滤概率空间 $(\\Omega,\\mathcal{F},(\\mathcal{F}_t)_{t\\in[0,T]},\\mathbb{P})$，满足通常条件。\n- 一个一维标准布朗运动 $(W_t)_{t\\in[0,T]}$。\n- 一个过程 $(X_t)_{t\\in[0,T]}$ 作为SDE的唯一强解：$dX_t = \\mu(X_t,t)dt + \\sigma(X_t,t)dW_t$。\n- 初始条件为 $X_0 \\in L^2(\\Omega,\\mathcal{F}_0,\\mathbb{P})$。\n- 系数 $\\mu:\\mathbb{R}\\times[0,T]\\to\\mathbb{R}$ 和 $\\sigma:\\mathbb{R}\\times[0,T]\\to\\mathbb{R}$ 是Borel可测的，关于空间变量在时间上一致地全局Lipschitz，且满足线性增长条件。\n- 函数 $t \\mapsto \\mu(x,t)$ 和 $t \\mapsto \\sigma(x,t)$ 对于每个固定的 $x \\in \\mathbb{R}$ 是连续的。\n- 二次变差定义为 $[X]_t = \\mathbb{P}\\text{-}\\lim_{|\\pi|\\to 0}\\sum_{i=1}^{n} (X_{t_i}-X_{t_{i-1}})^2$，对于 $[0,t]$ 的任意分割序列 $\\pi=\\{0=t_0  t_1  \\dots  t_n=t\\}$，其网格尺寸 $|\\pi|\\to 0$。\n\n**步骤2：将增量分解为漂移项和扩散项**\n过程 $X_t$ 的积分形式为\n$$\nX_t = X_0 + \\int_0^t \\mu(X_s, s) ds + \\int_0^t \\sigma(X_s, s) dW_s.\n$$\n令 $\\Delta t_i = t_i - t_{i-1}$。增量 $X_{t_i} - X_{t_{i-1}}$ 可以写为\n$$\nX_{t_i} - X_{t_{i-1}} = \\int_{t_{i-1}}^{t_i} \\mu(X_s, s) ds + \\int_{t_{i-1}}^{t_i} \\sigma(X_s, s) dW_s.\n$$\n我们将平方和分解为三部分：\n\\begin{align*}\n\\sum_{i=1}^{n} (X_{t_i}-X_{t_{i-1}})^2 = \\sum_{i=1}^{n} \\left(\\int_{t_{i-1}}^{t_i} \\mu(X_s, s) ds\\right)^2 \\\\\n + \\sum_{i=1}^{n} \\left(\\int_{t_{i-1}}^{t_i} \\sigma(X_s, s) dW_s\\right)^2 \\\\\n + 2\\sum_{i=1}^{n} \\left(\\int_{t_{i-1}}^{t_i} \\mu(X_s, s) ds\\right) \\left(\\int_{t_{i-1}}^{t_i} \\sigma(X_s, s) dW_s\\right)\n\\end{align*}\n\n**步骤3：分析每个部分的极限**\n1.  **漂移项的平方和 (Drift-squared sum)**：\n    根据柯西-施瓦茨不等式，\n    $$\n    \\left(\\int_{t_{i-1}}^{t_i} \\mu(X_s, s) ds\\right)^2 \\le \\left(\\int_{t_{i-1}}^{t_i} ds\\right) \\left(\\int_{t_{i-1}}^{t_i} \\mu^2(X_s, s) ds\\right) = \\Delta t_i \\int_{t_{i-1}}^{t_i} \\mu^2(X_s, s) ds.\n    $$\n    对 $i$ 求和：\n    $$\n    \\sum_{i=1}^{n} \\left(\\int_{t_{i-1}}^{t_i} \\mu(X_s, s) ds\\right)^2 \\le \\sum_{i=1}^{n} \\Delta t_i \\int_{t_{i-1}}^{t_i} \\mu^2(X_s, s) ds \\le |\\pi| \\sum_{i=1}^{n} \\int_{t_{i-1}}^{t_i} \\mu^2(X_s, s) ds = |\\pi| \\int_0^t \\mu^2(X_s, s) ds.\n    $$\n    由于 $\\int_0^t \\mu^2(X_s, s) ds$ 是一个有限随机变量，当 $|\\pi| \\to 0$ 时，整个表达式依概率收敛到 0。\n\n2.  **扩散项的平方和 (Diffusion-squared sum)**：\n    这一项是 $\\sum_{i=1}^{n} (\\int_{t_{i-1}}^{t_i} \\sigma(X_s, s) dW_s)^2$。这是一个局部鞅的二次变差。可以证明，这个和依概率收敛于\n    $$\n    \\int_0^t \\sigma^2(X_s, s) ds.\n    $$\n    这是二次变差的一个基本性质。直观上，$\\int_{t_{i-1}}^{t_i} \\sigma(X_s, s) dW_s \\approx \\sigma(X_{t_{i-1}}, t_{i-1}) (W_{t_i}-W_{t_{i-1}})$。所以和近似于 $\\sum_{i=1}^{n} \\sigma^2(X_{t_{i-1}}, t_{i-1}) (W_{t_i}-W_{t_{i-1}})^2$。由于 $\\sum (W_{t_i}-W_{t_{i-1}})^2 \\to t$，该和收敛到 $\\int_0^t \\sigma^2(X_s, s) ds$。\n\n3.  **交叉项的和 (Cross-term sum)**：\n    这一项是 $2\\sum_{i=1}^{n} (\\int_{t_{i-1}}^{t_i} \\mu ds) (\\int_{t_{i-1}}^{t_i} \\sigma dW_s)$。可以证明这一项的期望为零，并且其方差也趋向于零，因此它依概率收敛到0。直观上，漂移项的量级是 $O(\\Delta t_i)$，而扩散项的量级是 $O(\\sqrt{\\Delta t_i})$。它们的乘积量级为 $O((\\Delta t_i)^{3/2})$，对它们求和会得到一个量级为 $O(\\sqrt{|\\pi|})$ 的项，当 $|\\pi|\\to 0$ 时，该项趋于零。\n\n**步骤4：组合结果**\n综上所述，当 $|\\pi|\\to 0$ 时，漂移项的平方和与交叉项的和都收敛到0。因此，二次变差完全由扩散项决定：\n$$\n[X]_t = \\mathbb{P}\\text{-}\\lim_{|\\pi|\\to 0} \\sum_{i=1}^{n} \\left(\\int_{t_{i-1}}^{t_i} \\sigma(X_s, s) dW_s\\right)^2 = \\int_0^t \\sigma^2(X_s, s) ds.\n$$", "answer": "$$\\boxed{\\int_0^t \\sigma^2(X_s, s) ds}$$", "id": "3071633"}, {"introduction": "为了拓宽我们对二次变分的理解，我们必须超越连续过程的范畴。这个练习将引导你分析一个纯跳跃鞅的二次变分，这是一个由泊松过程驱动的复合过程。你将发现，对于这类不连续的过程，二次变分表现为一个阶梯函数，其跳跃恰好发生在原始过程的跳跃点，且跳跃大小为原始过程跳跃幅度的平方。这揭示了二次变分作为过程累积平方跳跃和的更普适的本质。[@problem_id:3071629]", "problem": "考虑一个满足通常条件的带滤概率空间 $(\\Omega,\\mathcal{F},(\\mathcal{F}_t)_{t\\geq 0},\\mathbb{P})$。令 $(N_t)_{t\\geq 0}$ 是一个强度为 $\\lambda0$ 的泊松过程。将其跳跃时间记为 $(T_k)_{k\\in\\mathbb{N}}$，从而有 $N_t=\\sum_{k\\geq 1}\\mathbf{1}_{\\{T_k\\leq t\\}}$。令 $(J_k)_{k\\in\\mathbb{N}}$ 为一列独立同分布的随机变量，每个变量以 $1/2$ 的概率取值 $+1$ 和 $-1$，且独立于 $(N_t)_{t\\geq 0}$。定义纯跳过程 $(M_t)_{t\\geq 0}$ 如下\n$$\nM_t:=\\sum_{k=1}^{N_t}J_k,\\quad t\\geq 0,\n$$\n并取 filtration $(\\mathcal{F}_t)_{t\\geq 0}$ 为由 $\\{N_s,J_k:s\\leq t,k\\leq N_t\\}$ 生成的、并按通常方式完备化的 filtration。\n\n仅使用过程 $M$ 在 $[0,t]$ 上的二次变差的定义，即沿划分的平方增量之和的极限，\n$$\n[M]_t:=\\lim_{|\\pi|\\to 0}\\sum_{i=1}^n\\big(M_{t_i\\wedge t}-M_{t_{i-1}\\wedge t}\\big)^2,\n$$\n其中 $\\pi=\\{0=t_0  t_1  \\dots  t_n\\}$ 是一个划分序列，其网格尺寸 $|\\pi|=\\max_i|t_i-t_{i-1}|$ 趋于零。\n\n证明 $(M_t)_{t\\geq 0}$ 是一个局部鞅，并计算其二次变差 $[M]_t$。", "solution": "我们首先证明 $(M_t)_{t\\geq 0}$ 是一个鞅，然后通过划分极限的定义计算其二次变差。\n\n首先，我们证明鞅性质。注意到 $M_t=\\sum_{k=1}^{N_t}J_k$ 是一个复合泊松过程，其跳跃是独立同分布且均值为零的。我们检验可积性和条件期望：\n\n- 可积性：由于 $|J_k|=1$ 几乎必然成立，我们有 $|M_t|\\leq N_t$。因此，\n$$\n\\mathbb{E}[|M_t|]\\leq \\mathbb{E}[N_t]=\\lambda t  \\infty.\n$$\n\n- 鞅性质：对于 $0\\leq s\\leq t$，\n$$\n\\mathbb{E}[M_t\\mid\\mathcal{F}_s]\n=\\mathbb{E}\\left[\\sum_{k=1}^{N_s}J_k+\\sum_{k=N_s+1}^{N_t}J_k\\,\\middle|\\,\\mathcal{F}_s\\right]\n= M_s+\\mathbb{E}\\left[\\sum_{k=1}^{N_t-N_s}J_{N_s+k}\\,\\middle|\\,\\mathcal{F}_s\\right].\n$$\n根据泊松过程增量的独立性以及跳跃大小 $(J_k)$ 与 $(N_t)$ 的独立性，随机变量 $\\{J_{N_s+k}\\}_{1\\leq k\\leq N_t-N_s}$ 独立于 $\\mathcal{F}_s$，并且 $N_t-N_s$ 也独立于 $\\mathcal{F}_s$。此外，$\\mathbb{E}[J_1]=0$。因此\n$$\n\\mathbb{E}\\left[\\sum_{k=1}^{N_t-N_s}J_{N_s+k}\\,\\middle|\\,\\mathcal{F}_s\\right]\n=\\mathbb{E}[N_t-N_s]\\cdot \\mathbb{E}[J_1]\n=\\lambda(t-s)\\cdot 0=0.\n$$\n所以 $\\mathbb{E}[M_t\\mid\\mathcal{F}_s]=M_s$，并且 $(M_t)_{t\\geq 0}$ 是一个鞅（因此，特别地，它是一个局部鞅）。\n\n接下来，我们通过定义计算二次变差\n$$\n[M]_t:=\\lim_{|\\pi|\\to 0}\\sum_{i=1}^n\\big(M_{t_i\\wedge t}-M_{t_{i-1}\\wedge t}\\big)^2.\n$$\n固定 $t\\geq 0$ 和一个划分 $\\pi=\\{0=t_0  t_1  \\dots  t_n\\}$。过程 $M_t$ 是一个阶梯函数，仅在泊松过程的跳跃时间 $T_k$ 处发生跳跃。在任意两个连续跳跃时间之间，它是常数。因此，增量 $M_{t_i\\wedge t}-M_{t_{i-1}\\wedge t}$ 只有在区间 $(t_{i-1}\\wedge t, t_i\\wedge t]$ 包含一个或多个跳跃时间 $T_k$ 时才非零。\n\n当划分的网格尺寸 $|\\pi|$ 趋于零时，对于任何固定的样本路径，任何足够精细的划分将使得每个小区间 $(t_{i-1}, t_i]$ 最多只包含一个跳跃。泊松过程的跳跃时间几乎必然是离散的。\n因此，对于足够小的 $|\\pi|$，如果区间 $(t_{i-1}\\wedge t, t_i\\wedge t]$ 包含一个跳跃时间 $T_k$，那么增量为 $\\Delta M_{T_k} = M_{T_k}-M_{T_k-} = J_k$。如果区间不包含跳跃，则增量为0。\n\n于是，平方增量之和变为\n$$\n\\sum_{i=1}^n\\big(M_{t_i\\wedge t}-M_{t_{i-1}\\wedge t}\\big)^2 \\approx \\sum_{k:T_k\\leq t} (\\Delta M_{T_k})^2,\n$$\n其中近似在 $|\\pi|\\to 0$ 时变为等式。\n\n在每个跳跃时间 $T_k$，跳跃的大小为 $\\Delta M_{T_k}=J_k$。由于 $J_k$ 的取值为 $+1$ 或 $-1$，跳跃大小的平方总是 $(\\Delta M_{T_k})^2 = J_k^2=1$。\n\n因此，二次变差是直到时间 $t$ 的所有跳跃的平方和：\n$$\n[M]_t = \\sum_{k:T_k\\leq t} (J_k)^2 = \\sum_{k:T_k\\leq t} 1.\n$$\n这个和就是直到时间 $t$ 的跳跃次数，根据定义，这正是泊松过程 $N_t$。\n\n所以，$[M]_t=N_t$。", "answer": "$$\\boxed{N_t}$$", "id": "3071629"}]}