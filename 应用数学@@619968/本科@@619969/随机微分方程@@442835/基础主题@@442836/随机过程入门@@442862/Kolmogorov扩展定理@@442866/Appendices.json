{"hands_on_practices": [{"introduction": "要理解 Kolmogorov 扩展定理，首先必须掌握其核心操作：从高维分布中计算边缘分布。这个练习提供了一个计算具体边缘概率密度函数的实践机会，这是验证 Kolmogorov 一致性条件的根本步骤。通过处理一个连续型随机向量，你将巩固对“投影”这一概念的理解，即将一个多维测度映射到其低维子空间上。", "problem": "在测度论概率的框架下，一个关键概念是乘积空间上概率测度族的相容性，这由柯尔莫哥洛夫扩展定理（Kolmogorov extension theorem）形式化。该定理保证了在无穷乘积空间上单一概率测度的存在性，前提是其有限维投影（边缘分布）是相容的。\n\n让我们来探究这种投影的一个简单情形。考虑一个定义在概率空间上的随机向量 $(X_1, X_2, X_3)$。该向量在 $\\mathbb{R}^3$ 上的联合概率测度 $\\mu$ 关于三维勒贝格测度是绝对连续的。其对应的概率密度函数 (PDF) $f(x_1, x_2, x_3)$ 由下式给出：\n$$\nf(x_1, x_2, x_3) = \n\\begin{cases} \nK \\exp(-\\alpha x_1 - \\beta x_2 - \\gamma x_3)  \\text{若 } x_1 > 0, x_2 > 0, x_3 > 0 \\\\\n0  \\text{其他情况} \n\\end{cases}\n$$\n其中 $K, \\alpha, \\beta$ 和 $\\gamma$ 是正常数。\n\n根据该理论，我们可以求出任何子向量的边缘概率密度函数。对于子向量 $(X_1, X_3)$，其边缘概率密度函数记为 $f_{1,3}(x_1, x_3)$，是通过将测度 $\\mu$ 投影到 $(x_1, x_3)$ 平面上所得到的测度的密度。\n\n求边缘概率密度函数 $f_{1,3}(x_1, x_3)$ 在其非零区域的表达式。答案请用 $x_1, x_3$ 以及常数 $K, \\alpha, \\beta, \\gamma$ 表示。", "solution": "给定的联合概率密度函数为\n$$\nf(x_{1},x_{2},x_{3})=\n\\begin{cases}\nK \\exp(-\\alpha x_{1}-\\beta x_{2}-\\gamma x_{3})  \\text{若 } x_{1}>0, x_{2}>0, x_{3}>0,\\\\\n0  \\text{其他情况},\n\\end{cases}\n$$\n其中 $K,\\alpha,\\beta,\\gamma>0$。$(X_{1},X_{3})$ 的边缘密度通过对 $x_{2}$ 进行积分得到：\n$$\nf_{1,3}(x_{1},x_{3})=\\int_{-\\infty}^{\\infty} f(x_{1},x_{2},x_{3})\\,dx_{2}.\n$$\n因为 $f$ 仅当 $x_1 > 0, x_2 > 0, x_3 > 0$ 时才非零，所以对于 $x_1>0$ 和 $x_3>0$，我们有：\n$$\nf_{1,3}(x_{1},x_{3})=\\int_{0}^{\\infty} K \\exp(-\\alpha x_{1}-\\beta x_{2}-\\gamma x_{3})\\,dx_{2}.\n$$\n提出与 $x_2$ 无关的项：\n$$\nf_{1,3}(x_{1},x_{3})=K \\exp(-\\alpha x_{1}-\\gamma x_{3}) \\int_{0}^{\\infty} \\exp(-\\beta x_{2})\\,dx_{2}.\n$$\n由于 $\\beta>0$，该积分的计算结果为\n$$\n\\int_{0}^{\\infty} \\exp(-\\beta x_{2})\\,dx_{2}=\\frac{1}{\\beta}.\n$$\n因此，对于 $x_{1}>0$ 和 $x_{3}>0$，\n$$\nf_{1,3}(x_{1},x_{3})=\\frac{K}{\\beta}\\exp(-\\alpha x_{1}-\\gamma x_{3}).\n$$\n在此区域之外，边缘密度为零，但题目特别要求的是其非零区域上的表达式，即上面给出的结果。", "answer": "$$\\boxed{\\frac{K}{\\beta}\\exp(-\\alpha x_{1}-\\gamma x_{3})}$$", "id": "1454517"}, {"introduction": "Kolmogorov 扩展定理的存在性保证依赖于一个严格的“一致性”条件。这个练习通过一个反例，清晰地揭示了什么叫“不一致”。[@problem_id:1454497] 通过比较两个二元概率分布，你会发现它们对于共同变量 $X_1$ 的边缘分布并不相同，这直接违反了一致性要求，从而说明不可能存在一个同时与这两个分布相容的三元联合分布。", "problem": "考虑一个由三个二元随机变量 $X_1, X_2, X_3$ 组成的假设系统，每个变量的取值都在集合 $\\{0, 1\\}$ 中。假设给定两个关于这些变量对的候选概率测度。\n\n第一个测度 $\\mu_{12}$ 描述了 $(X_1, X_2)$ 的联合分布，并由 $\\{0, 1\\}^2$ 上的以下概率质量函数定义：\n$P(X_1=0, X_2=0) = \\frac{1}{6}$\n$P(X_1=0, X_2=1) = \\frac{1}{3}$\n$P(X_1=1, X_2=0) = \\frac{1}{2}$\n$P(X_1=1, X_2=1) = 0$\n\n第二个测度 $\\mu_{13}$ 描述了 $(X_1, X_3)$ 的联合分布，并由 $\\{0, 1\\}^2$ 上的以下概率质量函数定义：\n$P(X_1=0, X_3=0) = \\frac{1}{4}$\n$P(X_1=0, X_3=1) = \\frac{1}{8}$\n$P(X_1=1, X_3=0) = \\frac{1}{8}$\n$P(X_1=1, X_3=1) = \\frac{1}{2}$\n\n对于存在一个与 $\\mu_{12}$ 和 $\\mu_{13}$ 都相容的、关于 $(X_1, X_2, X_3)$ 的单一且良定义的联合概率测度 $\\mu_{123}$ 而言，一个必要条件是，从这两个测度中推导出的公共变量 $X_1$ 的边缘分布必须相同。这种不一致性的程度可以被量化。\n\n计算从 $\\mu_{12}$ 推导出的 $X_1$ 的边缘概率分布与从 $\\mu_{13}$ 推导出的边缘概率分布之间的全变差距离。在离散样本空间 $\\Omega$ 上，两个概率质量函数 $p$ 和 $q$ 之间的全变差距离定义为 $\\frac{1}{2} \\sum_{\\omega \\in \\Omega} |p(\\omega) - q(\\omega)|$。\n\n将您的答案表示为一个最简分数。", "solution": "我们首先通过对另一个变量求和，从每个给定的联合测度中计算出 $X_{1}$ 的边缘分布。\n\n从 $\\mu_{12}$：\n$$\nP_{12}(X_{1}=0)=P(0,0)+P(0,1)=\\frac{1}{6}+\\frac{1}{3}=\\frac{1}{2}, \\quad\nP_{12}(X_{1}=1)=P(1,0)+P(1,1)=\\frac{1}{2}+0=\\frac{1}{2}.\n$$\n\n从 $\\mu_{13}$：\n$$\nP_{13}(X_{1}=0)=P(0,0)+P(0,1)=\\frac{1}{4}+\\frac{1}{8}=\\frac{3}{8}, \\quad\nP_{13}(X_{1}=1)=P(1,0)+P(1,1)=\\frac{1}{8}+\\frac{1}{2}=\\frac{5}{8}.\n$$\n\n这两个在 $\\{0,1\\}$ 上的边缘分布之间的全变差距离是\n$$\n\\frac{1}{2}\\left(\\left|P_{12}(0)-P_{13}(0)\\right|+\\left|P_{12}(1)-P_{13}(1)\\right|\\right)\n=\\frac{1}{2}\\left(\\left|\\frac{1}{2}-\\frac{3}{8}\\right|+\\left|\\frac{1}{2}-\\frac{5}{8}\\right|\\right)\n=\\frac{1}{2}\\left(\\frac{1}{8}+\\frac{1}{8}\\right)=\\frac{1}{8}.\n$$", "answer": "$$\\boxed{\\frac{1}{8}}$$", "id": "1454497"}, {"introduction": "这个练习探讨了 Kolmogorov 一致性条件的一个更深层次、也是更关键的方面：仅有“成对一致”是不够的。[@problem_id:3062997] 构建了一个著名的反例，其中任意两个随机变量的联合分布都是相互一致的，但三者却无法构成一个统一的联合分布。通过证明这种不可能并量化其间的矛盾，你将深刻体会到为什么 Kolmogorov 定理要求对所有有限维子集都保持一致，而不只是成对的子集。", "problem": "设 $\\{X_{t}\\}_{t \\in T}$ 为一族随机变量，其状态空间为 $E$，有限维分布为 $\\{\\mu_{I}\\}_{I \\subset T,\\, |I| \\infty}$，其中 $\\mu_{I}$ 是 $E^{I}$ 上的一个概率测度。Kolmogorov 扩展定理 (KET) 要求一个投影族在重叠部分上是一致的：对于任何有限集 $I \\subset J \\subset T$，$\\mu_{J}$ 在 $E^{I}$ 上的边缘分布等于 $\\mu_{I}$。相比之下，如果一个族仅在 $\\lvert I \\rvert \\leq 2$ 的集合上满足此边缘一致性要求（即，所有单点边缘分布在所有对之间都一致，并且每个二元边缘分布都与其单点边缘分布一致），则称该族为两两一致的。\n\n1. 通过在 $T=\\{1,2,3\\}$ 上给出一个构造来解释为什么 Kolmogorov 一致性严格强于两两一致性。在该构造中，每个两两边缘分布 $\\mu_{\\{i,j\\}}$ 具有相同的单点边缘分布，但不存在任何三元分布 $\\mu_{\\{1,2,3\\}}$ 在 $E^{\\{1,2,3\\}}$ 上，其两两边缘分布与给定的分布一致。\n\n2. 在 $E=\\{-1,1\\}$ 上进行研究。定义三个二元定律 $\\mu_{12}$、$\\mu_{23}$ 和 $\\mu_{31}$，使得对于每一对 $(i,j)$，变量 $X_{i}$ 和 $X_{j}$ 几乎必然不相等，并且每个单点边缘分布都是均匀的。具体地，对于每个 $(i,j)$，设\n   $$\\mu_{ij}(X_{i}=1,X_{j}=-1)=\\mu_{ij}(X_{i}=-1,X_{j}=1)=\\tfrac{1}{2}, \\qquad \\mu_{ij}(X_{i}=X_{j})=0.$$\n   验证这三个二元定律在上述意义上是两两一致的，并证明不存在概率测度 $\\mu_{123}$ 在 $E^{\\{1,2,3\\}}$ 上，其两两边缘分布是这三个 $\\mu_{ij}$。\n\n3. 为了量化第 2 部分中的阻碍，考虑取值于 $E=\\{-1,1\\}$ 的任意随机变量 $(X_{1},X_{2},X_{3})$。定义\n   $$S \\;=\\; \\mathbb{P}(X_{1}=X_{2}) \\;+\\; \\mathbb{P}(X_{2}=X_{3}) \\;+\\; \\mathbb{P}(X_{3}=X_{1}).$$\n   计算 $S$ 在 $E^{3}$ 上所有可能的联合定律下的精确下界 $L$，并用它与给定的三个二元定律所蕴含的 $S$ 值进行比较，从而证明第 2 部分中的不可能性。您的最终答案应为 $L$ 的值，一个实数。不要包含单位。", "solution": "该问题要求解释为什么 Kolmogorov 一致性是比两两一致性更严格的条件，用一个具体的构造来证明这一点，并量化该构造中的阻碍。\n\n### 第 1 部分：Kolmogorov 一致性与两两一致性\n\n对于一个有限维分布族 $\\{\\mu_{I}\\}_{I \\subset T, |I|  \\infty}$，Kolmogorov 一致性要求对于任意两个有限索引集 $I \\subset J \\subset T$，$\\mu_J$ 在坐标集 $I$ 上的边缘分布恰好是 $\\mu_I$。用符号表示，如果 $\\pi_{JI}: E^J \\to E^I$ 是投影映射，那么 $\\mu_I = \\mu_J \\circ \\pi_{JI}^{-1}$。这个条件确保了所有有限维分布是相容的，并且可以“粘合”在一起，从而在（可能无限维的）乘积空间 $E^T$ 上定义一个概率测度，这正是 Kolmogorov 扩展定理的精髓。\n\n问题中定义的两两一致性是一个较弱的条件。它只要求这种边缘化性质对大小至多为 2 的集合成立。具体来说，对于任何三个不同的索引 $i, j, k \\in T$，从二元分布导出的单点边缘分布必须一致：$\\mu_{\\{i,j\\}}$ 关于 $X_i$ 的边缘分布必须与 $\\mu_{\\{i,k\\}}$ 关于 $X_i$ 的边缘分布相同。这确保了存在一个良定义的单点分布族 $\\{\\mu_{\\{i\\}}\\}_{i \\in T}$。\n\nKolmogorov 一致性是严格更强的，因为所有变量对的一致性并不能保证三元组、四元组以及更大多变量集的一致性。一组两两一致的二元分布可能包含结构上的不相容性，使得它们无法成为单个、统一的关于三个或更多变量的联合分布的边缘分布。第 2 部分的构造提供了这种现象的一个典型例子。\n\n### 第 2 部分：一个具体的反例\n\n我们给定 $T=\\{1,2,3\\}$，状态空间 $E=\\{-1,1\\}$，以及三个二元定律 $\\mu_{12}$、$\\mu_{23}$ 和 $\\mu_{31}$，对于任意对 $(i,j) \\in \\{(1,2), (2,3), (3,1)\\}$ 定义如下：\n$$\n\\mu_{ij}(X_i=x_i, X_j=x_j) = \\begin{cases} \\frac{1}{2}  \\text{如果 } x_i \\neq x_j \\\\ 0  \\text{如果 } x_i = x_j \\end{cases}\n$$\n\n**两两一致性的验证**\n\n我们必须验证单点边缘分布在这些二元定律中是一致的。让我们计算 $X_1$ 的边缘分布。\n从 $\\mu_{12}$：\n$$ \\mu_{12}(X_1=1) = \\mu_{12}(X_1=1, X_2=1) + \\mu_{12}(X_1=1, X_2=-1) = 0 + \\frac{1}{2} = \\frac{1}{2} $$\n$$ \\mu_{12}(X_1=-1) = \\mu_{12}(X_1=-1, X_2=1) + \\mu_{12}(X_1=-1, X_2=-1) = \\frac{1}{2} + 0 = \\frac{1}{2} $$\n所以从 $\\mu_{12}$ 得到的 $X_1$ 的边缘分布是 $\\{-1,1\\}$ 上的均匀分布。\n\n从 $\\mu_{31}$（或 $\\mu_{13}$），由于定义在 $i, j$ 上是对称的，计算是相同的：\n$$ \\mu_{31}(X_1=1) = \\mu_{31}(X_3=-1, X_1=1) + \\mu_{31}(X_3=1, X_1=1) = \\frac{1}{2} + 0 = \\frac{1}{2} $$\n$$ \\mu_{31}(X_1=-1) = \\mu_{31}(X_3=1, X_1=-1) + \\mu_{31}(X_3=-1, X_1=-1) = \\frac{1}{2} + 0 = \\frac{1}{2} $$\n从 $\\mu_{31}$ 得到的 $X_1$ 的边缘分布也是均匀分布。因此，$X_1$ 的边缘分布是一致的。\n\n由于 $\\mu_{12}$、$\\mu_{23}$ 和 $\\mu_{31}$ 定义的对称性，同样的结果对 $X_2$（从 $\\mu_{12}$ 和 $\\mu_{23}$）和 $X_3$（从 $\\mu_{23}$ 和 $\\mu_{31}$）也成立。在所有情况下，每个 $X_i$ 的单点边缘分布都是 $\\{-1,1\\}$ 上的均匀分布。因此，该二元定律族是两两一致的。\n\n**联合分布不存在的证明**\n\n现在我们证明不存在一个概率测度 $\\mu_{123}$ 在 $E^{\\{1,2,3\\}} = \\{-1,1\\}^3$ 上，其两两边缘分布是 $\\mu_{12}$、$\\mu_{23}$ 和 $\\mu_{31}$。\n为引出矛盾，假设存在这样一个测度 $\\mu_{123}$。\n这将意味着由 $\\mu_{123}$ 控制的随机变量 $(X_1, X_2, X_3)$ 必须满足边缘分布所施加的条件。\n1. $(X_1, X_2)$ 的边缘分布必须是 $\\mu_{12}$。这意味着 $\\mathbb{P}(X_1 = X_2) = 0$，或者等价地，$X_1 \\neq X_2$ 几乎必然成立。由于变量是离散的，这意味着 $X_1 X_2 = -1$ 几乎必然成立。\n2. $(X_2, X_3)$ 的边缘分布必须是 $\\mu_{23}$。这意味着 $X_2 \\neq X_3$ 几乎必然成立，即 $X_2 X_3 = -1$ 几乎必然成立。\n3. $(X_3, X_1)$ 的边缘分布必须是 $\\mu_{31}$。这意味着 $X_3 \\neq X_1$ 几乎必然成立，即 $X_3 X_1 = -1$ 几乎必然成立。\n\n如果存在这样的联合分布，所有三个条件必须同时成立。让我们考虑这三个关系的乘积：\n$$ (X_1 X_2) (X_2 X_3) (X_3 X_1) = (-1)(-1)(-1) = -1 $$\n等式的左边可以重新整理：\n$$ (X_1 X_2) (X_2 X_3) (X_3 X_1) = X_1^2 X_2^2 X_3^2 = (X_1 X_2 X_3)^2 $$\n由于每个 $X_i$ 的取值范围是 $\\{-1,1\\}$，乘积 $X_1 X_2 X_3$ 的取值也必须是 $\\{-1,1\\}$。因此，它的平方必须是 $1$：\n$$ (X_1 X_2 X_3)^2 = 1 $$\n结合这些结果，我们得到矛盾 $1 = -1$。\n这个矛盾表明我们最初的假设是错误的。不存在这样的联合概率测度 $\\mu_{123}$。\n\n### 第 3 部分：量化阻碍\n\n我们被要求找到量 $S = \\mathbb{P}(X_{1}=X_{2}) + \\mathbb{P}(X_{2}=X_{3}) + \\mathbb{P}(X_{3}=X_{1})$ 在所有可能的三元随机变量 $(X_1, X_2, X_3)$（取值于 $E=\\{-1,1\\}$）的联合分布下的精确下界 $L$。\n\n令 $A_1$ 为事件 $X_1=X_2$，$A_2$ 为事件 $X_2=X_3$，$A_3$ 为事件 $X_3=X_1$。该量为 $S = \\mathbb{P}(A_1) + \\mathbb{P}(A_2) + \\mathbb{P}(A_3)$。\n\n考虑样本空间 $\\{-1,1\\}^3$ 中的任何一个结果 $(x_1, x_2, x_3)$。根据鸽巢原理，因为有 3 个变量但只有 2 个可能的值，所以至少有两个变量必须取相同的值。换句话说，对于任何结果，条件 $x_1=x_2$、 $x_2=x_3$ 或 $x_3=x_1$ 中至少有一个必须为真。这意味着事件 $A_1, A_2, A_3$ 的并集覆盖了整个样本空间：\n$$ A_1 \\cup A_2 \\cup A_3 = \\Omega $$\n因此，$\\mathbb{P}(A_1 \\cup A_2 \\cup A_3) = 1$。\n\n使用三个事件的容斥原理：\n$$ \\mathbb{P}(A_1 \\cup A_2 \\cup A_3) = \\mathbb{P}(A_1) + \\mathbb{P}(A_2) + \\mathbb{P}(A_3) - \\left( \\mathbb{P}(A_1 \\cap A_2) + \\mathbb{P}(A_2 \\cap A_3) + \\mathbb{P}(A_3 \\cap A_1) \\right) + \\mathbb{P}(A_1 \\cap A_2 \\cap A_3) $$\n注意到 $S = \\mathbb{P}(A_1) + \\mathbb{P}(A_2) + \\mathbb{P}(A_3)$，我们有：\n$$ 1 = S - \\left( \\mathbb{P}(A_1 \\cap A_2) + \\mathbb{P}(A_2 \\cap A_3) + \\mathbb{P}(A_3 \\cap A_1) \\right) + \\mathbb{P}(A_1 \\cap A_2 \\cap A_3) $$\n让我们分析交事件：\n- $A_1 \\cap A_2$ 是事件 $\\{X_1=X_2 \\text{ 且 } X_2=X_3\\}$，等价于 $\\{X_1=X_2=X_3\\}$。\n- $A_2 \\cap A_3$ 是事件 $\\{X_2=X_3 \\text{ 且 } X_3=X_1\\}$，也等价于 $\\{X_1=X_2=X_3\\}$。\n- $A_3 \\cap A_1$ 是事件 $\\{X_3=X_1 \\text{ 且 } X_1=X_2\\}$，也等价于 $\\{X_1=X_2=X_3\\}$。\n- $A_1 \\cap A_2 \\cap A_3$ 显然也是事件 $\\{X_1=X_2=X_3\\}$。\n\n令 $p_{\\text{all}} = \\mathbb{P}(X_1=X_2=X_3)$。容斥公式简化为：\n$$ 1 = S - (p_{\\text{all}} + p_{\\text{all}} + p_{\\text{all}}) + p_{\\text{all}} $$\n$$ 1 = S - 3p_{\\text{all}} + p_{\\text{all}} $$\n$$ 1 = S - 2p_{\\text{all}} $$\n对 $S$ 求解，我们得到恒等式：\n$$ S = 1 + 2p_{\\text{all}} = 1 + 2\\mathbb{P}(X_1=X_2=X_3) $$\n为了找到 $S$ 的精确下界 $L$，我们需要找到右边的最小可能值。由于 $\\mathbb{P}(X_1=X_2=X_3)$ 是一个概率，它的值有下界 $0$。当 $\\mathbb{P}(X_1=X_2=X_3)$ 取最小值时，$S$ 达到其最小值。\n$$ L = \\min(S) = 1 + 2 \\cdot \\min(\\mathbb{P}(X_1=X_2=X_3)) = 1 + 2 \\cdot 0 = 1 $$\n这个下界 $L=1$ 是可以达到的。例如，考虑一个将所有概率质量都放在结果 $(1, 1, -1)$ 上的联合分布。对于这个分布，$\\mathbb{P}(X_1=X_2=X_3) = \\mathbb{P}(1,1,1) + \\mathbb{P}(-1,-1,-1) = 0 + 0 = 0$。$S$ 的值为 $\\mathbb{P}(X_1=X_2) + \\mathbb{P}(X_2=X_3) + \\mathbb{P}(X_3=X_1) = 1 + 0 + 0 = 1$。因此，精确下界是 $L=1$。\n\n**不可能性的证明**\n\n这个结果证明了第 2 部分中展示的不可能性。任何在 $\\{-1,1\\}^3$ 上的有效联合概率分布都必须满足 $S \\ge 1$。\n然而，第 2 部分中的二元定律族 $\\{\\mu_{12}, \\mu_{23}, \\mu_{31}\\}$ 将要求一个假设的联合分布具有满足以下条件的边缘分布：\n- $\\mathbb{P}(X_1=X_2) = \\mu_{12}(X_1=X_2) = 0$\n- $\\mathbb{P}(X_2=X_3) = \\mu_{23}(X_2=X_3) = 0$\n- $\\mathbb{P}(X_3=X_1) = \\mu_{31}(X_3=X_1) = 0$\n对于这样的分布，$S$ 的值将是 $S = 0 + 0 + 0 = 0$。\n由于 $0  1$，这违反了必要条件 $S \\ge 1$。这个矛盾提供了一个定量的证明，表明这样的联合分布不可能存在。\n精确下界是 $L=1$。", "answer": "$$\\boxed{1}$$", "id": "3062997"}]}