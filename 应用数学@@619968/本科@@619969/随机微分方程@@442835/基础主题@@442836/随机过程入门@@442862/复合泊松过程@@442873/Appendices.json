{"hands_on_practices": [{"introduction": "在理解任何随机过程时，第一步通常是确定其期望值或平均行为。这个练习 [@problem_id:1290809] 提供了一个网络安全风险评分的具体场景，帮助你实践计算复合泊松过程的均值。通过这个练习，你将运用一个基本性质：总过程的期望等于事件发生率与单个事件平均大小的乘积。", "problem": "一家网络安全公司监控一个企业网络以防范安全威胁。重大安全漏洞的发生遵循泊松过程，平均速率为每小时 $\\lambda = 5$ 次漏洞。当漏洞发生时，会为其分配一个风险评分。该评分的值是一个随机变量，与发生时间及所有其他漏洞无关。单个漏洞评分的概率分布如下：评分为 10 的概率为 0.6，评分为 50 的概率为 0.3，评分为 100 的概率为 0.1。\n\n如果在一个工作日开始时，网络的总风险评分为零，那么在 8 小时后，期望的总风险评分是多少？", "solution": "设 $N(t)$ 表示在时间 $t$ 内的漏洞数量，其模型为一个速率为 $\\lambda$ 的泊松过程，并设 $\\{X_{i}\\}$ 是独立同分布的漏洞评分，与 $N(t)$ 无关。到时间 $t$ 累积的总风险评分是复合泊松和\n$$\nS(t)=\\sum_{i=1}^{N(t)} X_{i}.\n$$\n根据全期望定律和独立性，\n$$\n\\mathbb{E}[S(t)]=\\mathbb{E}\\big[\\mathbb{E}[S(t)\\mid N(t)]\\big]=\\mathbb{E}\\big[N(t)\\mathbb{E}[X]\\big]=\\mathbb{E}[N(t)]\\,\\mathbb{E}[X].\n$$\n对于泊松过程，$\\mathbb{E}[N(t)]=\\lambda t$。其中每小时 $\\lambda=5$ 且 $t=8$ 小时，\n$$\n\\mathbb{E}[N(8)]=5\\cdot 8=40.\n$$\n漏洞评分 $X$ 的分布为 $P(X=10)=0.6$，$P(X=50)=0.3$ 和 $P(X=100)=0.1$，所以\n$$\n\\mathbb{E}[X]=10\\cdot 0.6+50\\cdot 0.3+100\\cdot 0.1=6+15+10=31.\n$$\n因此，\n$$\n\\mathbb{E}[S(8)]=\\lambda\\cdot 8\\cdot \\mathbb{E}[X]=5\\cdot 8\\cdot 31=40\\cdot 31=1240.\n$$", "answer": "$$\\boxed{1240}$$", "id": "1290809"}, {"introduction": "在掌握了均值之后，方差是描述一个随机过程的下一个关键特征，因为它量化了过程的波动性或不确定性。这个练习 [@problem_id:1349670] 让你通过一个关于暴风雪降雪量的生动例子，来计算复合泊松过程的方差。你会发现，总方差由两个部分构成：事件数量的随机性和每次事件大小的随机性，这对于风险评估至关重要。", "problem": "在一个偏远的北极研究站，冬季发生的主要暴风雪次数被建模为一个泊松随机变量，平均每个季节发生5场暴风雪。每次暴风雪的降雪量是一个独立同分布的随机变量，在0.5米和2.5米之间均匀分布。设一个冬季的总降雪量为该季节发生的所有暴风雪的降雪量之和。如果没有暴风雪发生，则总降雪量为零。计算总季节降雪量的方差。您的答案以平方米为单位，并四舍五入到三位有效数字。", "solution": "设 $N$ 是表示一个季节中暴风雪次数的随机变量。我们已知 $N$ 服从均值为5的泊松分布。泊松分布的参数 $\\lambda$ 等于其均值。\n$$N \\sim \\text{Poisson}(\\lambda=5)$$\n对于泊松分布，期望和方差都等于参数 $\\lambda$。\n$$E[N] = \\lambda = 5$$\n$$\\text{Var}(N) = \\lambda = 5$$\n\n设 $S_i$ 是第 $i$ 次暴风雪降雪量的随机变量。变量 $S_i$ 是独立同分布的（i.i.d.）。我们已知每次暴风雪的降雪量服从区间 $[a, b]$ 上的均匀分布，其中 $a = 0.5$ 米，$b = 2.5$ 米。\n$$S_i \\sim U(0.5, 2.5)$$\n区间 $[a, b]$ 上均匀分布的随机变量的期望（均值）由 $E[S_i] = \\frac{a+b}{2}$ 给出。\n$$E[S] = \\frac{0.5 + 2.5}{2} = \\frac{3}{2} = 1.5 \\text{ 米}$$\n区间 $[a, b]$ 上均匀分布的随机变量的方差由 $\\text{Var}(S_i) = \\frac{(b-a)^2}{12}$ 给出。\n$$\\text{Var}(S) = \\frac{(2.5 - 0.5)^2}{12} = \\frac{2^2}{12} = \\frac{4}{12} = \\frac{1}{3} \\text{ 米}^2$$\n这里，$E[S]$ 和 $\\text{Var}(S)$ 对所有 $S_i$ 都是相同的，所以我们省略下标。\n\n总季节降雪量 $X$ 是每次暴风雪降雪量的总和。这可以写成一个随机和：\n$$X = \\sum_{i=1}^{N} S_i$$\n我们需要找到 $X$ 的方差，即 $\\text{Var}(X)$。这是一个复合随机变量。我们可以使用全方差公式（也称为条件方差公式）来计算其方差：\n$$\\text{Var}(X) = E[\\text{Var}(X|N)] + \\text{Var}(E[X|N])$$\n\n首先，我们求在 $N=n$ 条件下 $X$ 的条件期望：\n$$E[X|N=n] = E\\left[\\sum_{i=1}^{n} S_i\\right]$$\n根据期望的线性性质，这变为：\n$$E[X|N=n] = \\sum_{i=1}^{n} E[S_i] = n E[S]$$\n因此，$E[X|N]$ 是一个由 $N \\cdot E[S]$ 给出的随机变量。\n\n接下来，我们求在 $N=n$ 条件下 $X$ 的条件方差。由于 $S_i$ 是独立的：\n$$\\text{Var}(X|N=n) = \\text{Var}\\left(\\sum_{i=1}^{n} S_i\\right) = \\sum_{i=1}^{n} \\text{Var}(S_i) = n \\text{Var}(S)$$\n因此，$\\text{Var}(X|N)$ 是一个由 $N \\cdot \\text{Var}(S)$ 给出的随机变量。\n\n现在我们将这些表达式代入全方差公式中。\n对于第一项：\n$$E[\\text{Var}(X|N)] = E[N \\cdot \\text{Var}(S)]$$\n由于 $\\text{Var}(S)$ 是一个常数，我们可以将其从期望中提出：\n$$E[\\text{Var}(X|N)] = \\text{Var}(S) E[N]$$\n\n对于第二项：\n$$\\text{Var}(E[X|N]) = \\text{Var}(N \\cdot E[S])$$\n使用性质 $\\text{Var}(c Y) = c^2 \\text{Var}(Y)$（其中 $c$ 是常数，$Y$ 是随机变量），并注意到 $E[S]$ 是一个常数：\n$$\\text{Var}(E[X|N]) = (E[S])^2 \\text{Var}(N)$$\n\n将这两项结合起来，我们得到复合泊松过程的方差公式，有时也称为方差的瓦尔德恒等式：\n$$\\text{Var}(X) = E[N] \\text{Var}(S) + \\text{Var}(N) (E[S])^2$$\n现在，我们代入之前计算出的数值：\n$$E[N] = 5, \\quad \\text{Var}(N) = 5$$\n$$E[S] = 1.5, \\quad \\text{Var}(S) = \\frac{1}{3}$$\n\n$$\\text{Var}(X) = (5) \\left(\\frac{1}{3}\\right) + (5) (1.5)^2$$\n$$\\text{Var}(X) = \\frac{5}{3} + 5 \\cdot (2.25)$$\n$$\\text{Var}(X) = \\frac{5}{3} + 11.25$$\n为了将它们相加，我们可以使用小数：\n$$\\text{Var}(X) \\approx 1.6666... + 11.25 = 12.91666... \\text{ 米}^2$$\n\n题目要求答案四舍五入到三位有效数字。前三位有效数字是1、2和9。第四位数字是1，所以我们向下舍入。\n$$\\text{Var}(X) \\approx 12.9 \\text{ 米}^2$$", "answer": "$$\\boxed{12.9}$$", "id": "1349670"}, {"introduction": "虽然均值和方差提供了重要信息，但它们并未完全描绘出随机过程的全貌。拉普拉斯变换是一个强大的数学工具，它能够捕捉过程的完整概率分布信息。这个更进一步的练习 [@problem_id:3044840] 将引导你推导复合泊松过程的拉普拉斯变换，这是一个在金融、物理学和工程学中都有广泛应用的核心结论。", "problem": "设 $\\{N_t\\}_{t \\geq 0}$ 是一个速率为 $\\lambda  0$ 的泊松过程。设 $\\{Y_i\\}_{i \\geq 1}$ 是独立同分布 (i.i.d.) 的跳跃幅度，其分布为 $\\mathrm{Exp}(\\mu)$，其中 $\\mu  0$。并假设 $\\{Y_i\\}_{i \\geq 1}$ 独立于 $\\{N_t\\}_{t \\geq 0}$。定义复合泊松过程 $X_t = \\sum_{i=1}^{N_t} Y_i$ (对于 $t \\geq 0$)，并约定空和为 $0$。对于一个固定的 $t  0$ 和拉普拉斯参数 $q \\geq 0$，计算拉普拉斯变换 $E[\\exp(-q X_t)]$ 的闭式解，该解应表示为 $\\lambda$、$\\mu$、$t$ 和 $q$ 的函数。你的最终答案必须是一个单一的解析表达式。不要提供不等式或包含未指定常数的方程。不需要四舍五入。", "solution": "该问题要求计算复合泊松过程 $X_t$ 的拉普拉斯变换，其中 $X_t = \\sum_{i=1}^{N_t} Y_i$。我们已知 $\\{N_t\\}_{t \\geq 0}$ 是一个常数速率为 $\\lambda  0$ 的泊松过程，而 $\\{Y_i\\}_{i \\geq 1}$ 代表一个独立同分布 (i.i.d.) 的随机变量序列，对应于跳跃幅度。每个 $Y_i$ 都服从速率参数为 $\\mu  0$ 的指数分布，记作 $Y_i \\sim \\mathrm{Exp}(\\mu)$。跳跃幅度集合 $\\{Y_i\\}_{i \\geq 1}$ 独立于泊松过程 $\\{N_t\\}_{t \\geq 0}$。目标是为一个固定的时间 $t  0$ 和拉普拉斯参数 $q \\geq 0$ 求出 $E[\\exp(-q X_t)]$ 的闭式表达式。\n\n$X_t$ 的结构涉及一个和式，其项数 $N_t$ 本身是一个随机变量。计算这类量的期望的一个标准技巧是使用全期望定律（也称为塔性质）。我们以截至时间 $t$ 已发生的跳跃次数为条件，该次数由随机变量 $N_t$ 给出。\n因此，$X_t$ 的拉普拉斯变换为：\n$$ E[\\exp(-q X_t)] = E \\left[ E[\\exp(-q X_t) | N_t] \\right] $$\n首先，我们计算内部的条件期望 $E[\\exp(-q X_t) | N_t = n]$，其中 $n$ 是一个非负整数。当我们以 $N_t=n$ 为条件时，该和式变成一个固定项数的和：\n$$ E[\\exp(-q X_t) | N_t = n] = E\\left[\\exp\\left(-q \\sum_{i=1}^{n} Y_i\\right) | N_t = n\\right] $$\n根据问题陈述，跳跃幅度 $\\{Y_i\\}$ 独立于过程 $\\{N_t\\}$。因此，在给定 $N_t=n$ 的条件下，$Y_i$ 的条件分布与其无条件分布相同。这使我们可以从涉及 $Y_i$ 的期望中移除 $N_t=n$ 这个条件：\n$$ E[\\exp(-q X_t) | N_t = n] = E\\left[\\exp\\left(-q \\sum_{i=1}^{n} Y_i\\right)\\right] $$\n对于 $n=0$，和式为空，根据约定，其值为 $0$。所以，$X_t=0$，且 $E[\\exp(-q \\cdot 0) | N_t = 0] = E[1] = 1$。\n对于 $n  0$，由于随机变量 $Y_i$ 是独立同分布的，和的指数变成了指数的乘积。这个乘积的期望是个体期望的乘积：\n$$ E\\left[\\exp\\left(-q \\sum_{i=1}^{n} Y_i\\right)\\right] = E\\left[\\prod_{i=1}^{n} \\exp(-q Y_i)\\right] = \\prod_{i=1}^{n} E[\\exp(-q Y_i)] $$\n由于所有的 $Y_i$ 都有相同的分布，这可以简化为：\n$$ \\left(E[\\exp(-q Y_1)]\\right)^n $$\n项 $E[\\exp(-q Y_1)]$ 是单个跳跃幅度 $Y_1$ 的拉普拉斯变换。由于 $Y_1 \\sim \\mathrm{Exp}(\\mu)$，其概率密度函数为 $f_{Y_1}(y) = \\mu e^{-\\mu y}$ (对于 $y \\geq 0$)。我们如下计算其拉普拉斯变换 $\\mathcal{L}_{Y_1}(q)$：\n$$ \\mathcal{L}_{Y_1}(q) = E[\\exp(-q Y_1)] = \\int_0^\\infty e^{-qy} (\\mu e^{-\\mu y}) dy = \\mu \\int_0^\\infty e^{-(\\mu+q)y} dy $$\n鉴于 $\\mu  0$ 和 $q \\geq 0$，和 $\\mu+q$ 严格为正，确保了积分的收敛性。\n$$ \\mathcal{L}_{Y_1}(q) = \\mu \\left[ -\\frac{1}{\\mu+q} e^{-(\\mu+q)y} \\right]_{y=0}^{y=\\infty} = \\mu \\left( 0 - \\left(-\\frac{1}{\\mu+q} e^0\\right) \\right) = \\frac{\\mu}{\\mu+q} $$\n将此结果代回，条件期望为：\n$$ E[\\exp(-q X_t) | N_t = n] = \\left(\\frac{\\mu}{\\mu+q}\\right)^n $$\n这个公式对于 $n=0$ 的情况正确地给出了 $1$，与我们之前的观察一致。\n\n现在，我们对 $N_t$ 的分布进行外层期望计算。\n$$ E[\\exp(-q X_t)] = E\\left[ \\left(\\frac{\\mu}{\\mu+q}\\right)^{N_t} \\right] $$\n随机变量 $N_t$ 服从参数（均值）为 $\\lambda t$ 的泊松分布。其概率质量函数 (PMF) 由 $P(N_t=n) = \\frac{e^{-\\lambda t}(\\lambda t)^n}{n!}$ 给出，其中 $n \\in \\{0, 1, 2, \\dots\\}$。因此，期望是关于所有可能的 $n$ 值的和：\n$$ E\\left[ \\left(\\frac{\\mu}{\\mu+q}\\right)^{N_t} \\right] = \\sum_{n=0}^{\\infty} \\left(\\frac{\\mu}{\\mu+q}\\right)^n P(N_t=n) = \\sum_{n=0}^{\\infty} \\left(\\frac{\\mu}{\\mu+q}\\right)^n \\frac{e^{-\\lambda t}(\\lambda t)^n}{n!} $$\n我们可以重新排列和式中的项：\n$$ = e^{-\\lambda t} \\sum_{n=0}^{\\infty} \\frac{1}{n!} \\left( \\lambda t \\frac{\\mu}{\\mu+q} \\right)^n $$\n该求和是指数函数的泰勒级数展开式 $\\sum_{n=0}^{\\infty} \\frac{z^n}{n!} = e^z$，其中 $z = \\lambda t \\frac{\\mu}{\\mu+q}$。\n$$ E[\\exp(-q X_t)] = e^{-\\lambda t} \\exp\\left(\\lambda t \\frac{\\mu}{\\mu+q}\\right) $$\n合并指数，我们得到：\n$$ = \\exp\\left(-\\lambda t + \\lambda t \\frac{\\mu}{\\mu+q}\\right) = \\exp\\left(\\lambda t \\left(-1 + \\frac{\\mu}{\\mu+q}\\right)\\right) $$\n简化括号中的项：\n$$ -1 + \\frac{\\mu}{\\mu+q} = \\frac{-(\\mu+q) + \\mu}{\\mu+q} = \\frac{-\\mu-q+\\mu}{\\mu+q} = \\frac{-q}{\\mu+q} $$\n将此代回期望的表达式中，得到最终结果：\n$$ E[\\exp(-q X_t)] = \\exp\\left(\\lambda t \\left(\\frac{-q}{\\mu+q}\\right)\\right) = \\exp\\left(-\\frac{\\lambda t q}{\\mu+q}\\right) $$\n此表达式代表复合泊松过程 $X_t$ 在 $q$ 处的拉普拉斯变换。", "answer": "$$\\boxed{\\exp\\left(-\\frac{\\lambda t q}{\\mu+q}\\right)}$$", "id": "3044840"}]}