{"hands_on_practices": [{"introduction": "几乎必然收敛的一个核心工具是Borel-Cantelli引理，它帮助我们判断一系列事件是发生无穷多次还是仅仅有限次。这个练习 [@problem_id:1352851] 通过一个直观的嘉年华游戏场景，展示了第一Borel-Cantelli引理的直接应用。通过计算获胜概率的总和，我们可以确定玩家的获胜次数几乎必然是有限的。", "problem": "一款名为“收益递减挑战赛”的新嘉年华游戏，包含一系列独立试验，由正整数 $n = 1, 2, 3, \\ldots$ 索引。赢得第 $n$ 次试验的概率为 $p_n = \\frac{1}{n^2}$。玩家按顺序尝试每一次试验。\n\n假设玩家无限地玩下去，其累积的总获胜次数为有限的概率是多少？\n\n最终答案应为一个实数。", "solution": "设 $A_{n}$ 为玩家在第 $n$ 次试验中获胜的事件。根据题意，$\\Pr(A_{n})=p_{n}=\\frac{1}{n^{2}}$，且各事件 $A_{n}$ 是相互独立的。考虑级数\n$$\n\\sum_{n=1}^{\\infty}\\Pr(A_{n})=\\sum_{n=1}^{\\infty}\\frac{1}{n^{2}}=\\frac{\\pi^{2}}{6} < \\infty.\n$$\n根据第一 Borel-Cantelli 引理，若 $\\sum_{n=1}^{\\infty}\\Pr(A_{n}) < \\infty$，则\n$$\n\\Pr(A_{n}\\ \\text{i.o.})=0,\n$$\n其中 $A_{n}$ i.o. 表示事件 $A_{n}$ 发生无限多次。因此，只有有限多个 $A_{n}$ 发生的概率为 $1$，这恰好是总获胜次数为有限的事件。因此\n$$\n\\Pr(\\text{总获胜次数是有限的})=1-\\Pr(A_{n}\\ \\text{i.o.})=1-0=1.\n$$", "answer": "$$\\boxed{1}$$", "id": "1352851"}, {"introduction": "与前一个练习相对应，第二Borel-Cantelli引理用于证明事件几乎必然发生无穷多次。这个练习 [@problem_id:1352847] 探讨了一个重要问题：独立同分布的正态随机变量序列的最大值会收敛吗？通过应用第二Borel-Cantelli引理，我们将证明该序列几乎必然发散到无穷大，这揭示了证明发散与证明收敛同样重要。", "problem": "令 $\\{X_n\\}_{n=1}^{\\infty}$ 为一个独立同分布（i.i.d.）的随机变量序列。每个 $X_n$ 服从标准正态分布，记作 $N(0, 1)$，其均值为 0，方差为 1。\n\n定义一个新的随机变量序列 $\\{M_n\\}_{n=1}^{\\infty}$，其中 $M_n$ 是该序列中前 $n$ 个变量的最大值：\n$$M_n = \\max(X_1, X_2, \\dots, X_n)$$\n我们关心当 $n$ 趋近于无穷大时，这个最大值的长期行为。下列哪个陈述正确地描述了序列 $M_n$ 的几乎必然收敛性？\n\nA. $M_n$ 几乎必然收敛到 0。\n\nB. $M_n$ 几乎必然收敛到一个有限的非零常数。\n\nC. $M_n$ 几乎必然收敛到一个非退化的随机变量（即，不是一个常数的随机变量）。\n\nD. $M_n$ 不会几乎必然收敛到任何有限极限；相反，它几乎必然发散到无穷大。\n\nE. 序列 $M_n$ 不收敛，其上极限几乎必然是一个有限常数，而其下极限几乎必然是 $-\\infty$。", "solution": "题目要求解序列 $M_n = \\max(X_1, X_2, \\dots, X_n)$ 的几乎必然极限行为，其中 $X_i$ 是独立同分布的标准正态随机变量。\n\n我们需要确定 $M_n$ 是否几乎必然收敛到一个有限极限。一个随机变量序列 $Y_n$ 几乎必然收敛到极限 $Y$ 是指 $P(\\lim_{n \\to \\infty} Y_n = Y) = 1$。如果 $M_n$ 几乎必然收敛到一个有限极限 $L$，这将意味着对于样本空间中几乎所有的结果 $\\omega$，实数序列 $M_n(\\omega)$ 都收敛到 $L$。一个实数序列收敛的必要条件是它必须有界。我们将证明序列 $M_n$ 几乎必然是无界的，从而排除其收敛到任何有限极限的可能性。\n\n为此，我们可以使用第二 Borel-Cantelli 引理。该引理指出，对于一个独立事件序列 $\\{A_n\\}_{n=1}^{\\infty}$，如果它们的概率之和发散，即 $\\sum_{n=1}^{\\infty} P(A_n) = \\infty$，那么这些事件中有无穷多个发生的概率为 1。\n\n让我们固定一个任意大的正数 $K$。定义事件 $A_n$ 为 $A_n = \\{X_n > K\\}$。该事件对应于第 $n$ 个观测值超过阈值 $K$。\n\n我们检验事件序列 $\\{A_n\\}$ 是否满足第二 Borel-Cantelli 引理的条件：\n1.  **独立性**：根据定义，随机变量 $X_n$ 是独立的。因此，仅依赖于 $X_n$ 的事件 $A_n = \\{X_n > K\\}$ 也是独立的。\n2.  **概率之和**：随机变量是同分布的，因此 $P(A_n) = P(X_n > K)$ 对所有 $n$ 都是一个常数。令这个概率为 $p = P(X_1 > K)$。标准正态分布 $N(0,1)$ 的概率密度函数为 $f(x) = \\frac{1}{\\sqrt{2\\pi}} \\exp(-x^2/2)$，它对所有实数 $x$ 都为正。这意味着对于任何有限值 $K$，观测到大于 $K$ 的值的概率是严格为正的。所以，$p = P(X_1 > K) = \\int_K^\\infty f(x) dx > 0$。\n\n现在我们考虑概率之和：\n$$ \\sum_{n=1}^{\\infty} P(A_n) = \\sum_{n=1}^{\\infty} p $$\n由于 $p$ 是一个正常数，这个和是无穷多个相同的正常数之和，它发散到无穷大：$\\sum_{n=1}^{\\infty} p = \\infty$。\n\n由于事件 $\\{A_n\\}$ 是独立的，并且它们的概率之和发散，因此第二 Borel-Cantelli 引理适用。它告诉我们 $A_n$ 无穷多次发生的概率为 1。\n$$ P(A_n \\text{ i.o.}) = 1 $$\n这意味着，事件 $\\{X_n > K\\}$ 以概率 1 对无穷多个 $n$ 发生。\n\n现在我们将此与最大值 $M_n$ 联系起来。如果对于一个给定的结果，$X_n > K$ 对无穷多个 $n$ 成立，那么最大值序列 $M_n = \\max(X_1, \\dots, X_n)$ 最终必然会超过 $K$。更进一步说，序列 $M_n$ 不可能以 $K$ 为界。每当出现一个 $X_m > K$ 时，$M_m$ 将至少为 $K$。由于这种情况会发生无穷多次，序列 $M_n$ 不可能收敛到任何小于或等于 $K$ 的值。\n\n无论 $K$ 多大，只要它是有限数，这个论证都成立。我们可以选择 $K=100$，$K=1000$，或任何其他大数。对于每一个这样的 $K$，$M_n$ 几乎必然最终会超过它。这意味着序列 $M_n$ 几乎必然是无界的。\n\n一个无界序列不能收敛到一个有限极限。因此，选项 A 和 B 是不正确的。\n序列 $M_n$ 是一个非递减序列，因为 $M_{n+1} = \\max(M_n, X_{n+1}) \\ge M_n$。一个非递减的实数序列总有一个极限，这个极限要么是一个有限数，要么是 $+\\infty$。既然我们已经证明 $M_n$ 几乎必然是无界的，它就不可能收敛到一个有限极限。因此，它必须几乎必然地发散到 $+\\infty$。\n所以，$\\lim_{n \\to \\infty} M_n = \\infty$ 几乎必然成立。\n\n这意味着 $M_n$ 不会收敛到一个非退化的随机变量（选项 C），也不会有一个有限的上极限（选项 E）。正确的陈述是 $M_n$ 几乎必然发散到无穷大。\n\n因此，选项 D 是正确的描述。", "answer": "$$\\boxed{D}$$", "id": "1352847"}, {"introduction": "掌握了Borel-Cantelli引理后，我们可以转向更复杂的应用，这些应用通常建立在强大的极限定理之上。这个练习 [@problem_id:1352854] 要求我们分析一个加权平均序列的几乎必然收敛性，其基础是强大数定律。解决这个问题需要我们巧妙地结合强大数定律和像分部求和法这样的分析技巧，展示了如何将基础理论应用于更高级的随机过程分析中。", "problem": "设 $\\{X_k\\}_{k=1}^\\infty$ 是一个独立同分布 (i.i.d.) 的随机变量序列。这些变量的均值为 $E[X_k] = 0$，方差为有限值 $\\text{Var}(X_k) = \\sigma^2$，其中 $\\sigma > 0$ 是一个常数。考虑由下式定义的加权平均序列 $\\{A_n\\}_{n=1}^\\infty$：\n$$ A_n = \\frac{2}{n(n+1)} \\sum_{k=1}^n k X_k $$\n求数值 $L$，使得当 $n \\to \\infty$ 时，序列 $A_n$ 几乎必然收敛于 $L$。", "solution": "令 $S_{n}=\\sum_{i=1}^{n}X_{i}$。因为 $\\{X_{k}\\}$ 是独立同分布的，且 $E[X_{1}]=0$ 和 $\\text{Var}(X_{1})=\\sigma^{2} < \\infty$，我们有 $E[|X_{1}|] < \\infty$。根据强大数定律，\n$$\n\\frac{S_{n}}{n}\\to 0 \\quad \\text{几乎必然成立}。\n$$\n使用阿贝尔变换（分部求和法），取 $a_{k}=X_{k}$ 和 $b_{k}=k$，则 $A_{k}=\\sum_{i=1}^{k}a_{i}=S_{k}$ 且 $b_{k+1}-b_{k}=1$。于是\n$$\n\\sum_{k=1}^{n}kX_{k}=nS_{n}-\\sum_{k=1}^{n-1}S_{k}.\n$$\n因此\n$$\nA_{n}=\\frac{2}{n(n+1)}\\sum_{k=1}^{n}kX_{k}\n=\\frac{2}{n(n+1)}\\left(nS_{n}-\\sum_{k=1}^{n-1}S_{k}\\right)\n=\\frac{2S_{n}}{n+1}-\\frac{2}{n(n+1)}\\sum_{k=1}^{n-1}S_{k}.\n$$\n我们证明每一项都几乎必然收敛到 $0$。\n\n第一项：因为 $S_{n}/n\\to 0$ 几乎必然成立，所以我们有 $S_{n}=o(n)$ 几乎必然成立，因此\n$$\n\\frac{2S_{n}}{n+1}\\to 0 \\quad \\text{几乎必然成立}。\n$$\n\n第二项：由 $S_{k}/k\\to 0$ 几乎必然成立可知，对任意 $\\varepsilon>0$，存在一个（随机的）$K$，使得对所有 $k\\geq K$，都有 $|S_{k}|\\leq \\varepsilon k$。那么对于 $n>K$，\n$$\n\\left|\\sum_{k=1}^{n-1}S_{k}\\right|\n\\leq \\sum_{k=1}^{K-1}|S_{k}|+\\sum_{k=K}^{n-1}\\varepsilon k\n\\leq C+\\varepsilon \\frac{(n-1)n}{2},\n$$\n其中 $C=\\sum_{k=1}^{K-1}|S_{k}|$ 几乎必然是有限的。因此，\n$$\n\\left|\\frac{2}{n(n+1)}\\sum_{k=1}^{n-1}S_{k}\\right|\n\\leq \\frac{2C}{n(n+1)}+\\varepsilon \\frac{n-1}{n+1}\n\\to \\varepsilon \\quad \\text{几乎必然成立}。\n$$\n因为 $\\varepsilon>0$ 是任意的，所以该项几乎必然收敛到 $0$。\n\n综合两项结果，可知 $A_{n}\\to 0$ 几乎必然成立。因此所求极限为 $L=0$。", "answer": "$$\\boxed{0}$$", "id": "1352854"}]}