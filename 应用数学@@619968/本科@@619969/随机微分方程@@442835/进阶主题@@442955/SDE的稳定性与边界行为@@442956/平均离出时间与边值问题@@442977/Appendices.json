{"hands_on_practices": [{"introduction": "我们将从一个最基础的例子开始：计算标准布朗运动粒子逃离一个给定区间所需的平均时间。这个练习旨在帮助你掌握将随机过程问题转化为偏微分方程（在此简化为常微分方程）的核心方法。通过求解这个基本问题[@problem_id:3065879]，你将为后续更复杂的场景建立一个坚实的理论和计算基础。", "problem": "考虑满足随机微分方程 (SDE) $dX_t = dW_t$ 的一维布朗运动 $X_t$，其中 $W_t$ 是标准布朗运动，并假设 $X_0 = x \\in (a,b)$ 且 $a < b$。令首次离开开区间 $D = (a,b)$ 的时间为 $\\tau_{(a,b)} = \\inf\\{t \\ge 0 : X_t \\notin (a,b)\\}$。定义平均离出时间 $u(x) = \\mathbb{E}_x[\\tau_{(a,b)}]$。从布朗运动的生成元和如 Dynkin 公式等基本原理出发，推导 $u(x)$ 必须满足的相应边值问题，并求解该问题以获得 $u(x)$ 的闭式表达式。你的最终答案必须是关于 $a$，$b$ 和 $x$ 的单个闭式解析表达式。不需要数值近似或四舍五入。", "solution": "问题要求解一维标准布朗运动 $X_t$ 从开区间 $D = (a,b)$ 内的 $X_0 = x$ 点出发的平均离出时间 $u(x) = \\mathbb{E}_x[\\tau_{(a,b)}]$。该过程由随机微分方程 (SDE) $dX_t = dW_t$ 描述。\n\n首先，我们验证问题陈述的有效性。\n已知条件如下：\n1.  过程 $X_t$ 的 SDE：$dX_t = dW_t$。\n2.  初始状态：$X_0 = x \\in (a, b)$。\n3.  区域：$D = (a,b)$，其中 $a < b$ 为实常数。\n4.  首次离出时间：$\\tau_{(a,b)} = \\inf\\{t \\ge 0 : X_t \\notin (a,b)\\}$。\n5.  待求函数：平均离出时间 $u(x) = \\mathbb{E}_x[\\tau_{(a,b)}]$。\n\n该问题具有科学依据，是适定的、客观的。这是随机微分方程理论中的一个典范问题。所有必要信息都已提供，没有矛盾或歧义。该问题是有效的。\n\n我们接下来推导 $u(x)$ 的边值问题 (BVP)。由 SDE $dX_t = \\mu(X_t) dt + \\sigma(X_t) dW_t$ 描述的扩散过程的无穷小生成元，记为 $L$，是微分算子 $L = \\mu(x)\\frac{d}{dx} + \\frac{1}{2}\\sigma^2(x)\\frac{d^2}{dx^2}$。\n对于给定的过程 $dX_t = dW_t$，漂移系数为 $\\mu(x) = 0$，扩散系数为 $\\sigma(x) = 1$。\n因此，一维标准布朗运动的生成元是：\n$$\nL = \\frac{1}{2} \\frac{d^2}{dx^2}\n$$\n一个可以从 Dynkin 公式或 Itô 引理推导出的基本结果表明，扩散过程 $X_t$ 从区域 $D$ 的平均首次离出时间 $u(x)$ 在该区域内满足以下泊松方程：\n$$\nLu(x) = -1, \\quad \\text{for } x \\in D\n$$\n边界条件由离出时间的方式决定。如果过程从边界 $x \\in \\partial D$ 开始，则离出时间是瞬时的，因此离出时间为 $0$。这意味着一个狄利克雷边界条件：\n$$\nu(x) = 0, \\quad \\text{for } x \\in \\partial D\n$$\n对于具体区间 $D = (a,b)$，其边界是集合 $\\{a, b\\}$。这将我们的问题转化为求解以下带有边界条件的二阶常微分方程：\n1.  微分方程：对于 $x \\in (a,b)$，有 $\\frac{1}{2} \\frac{d^2u}{dx^2} = -1$，简化为 $\\frac{d^2u}{dx^2} = -2$。\n2.  边界条件：$u(a) = 0$ 和 $u(b) = 0$。\n\n我们通过直接积分来求解该微分方程。将 $\\frac{d^2u}{dx^2} = -2$ 对 $x$ 积分一次得到：\n$$\n\\frac{du}{dx} = -2x + C_1\n$$\n其中 $C_1$ 是一个积分常数。再次积分得到 $u(x)$ 的通解：\n$$\nu(x) = -x^2 + C_1 x + C_2\n$$\n其中 $C_2$ 是第二个积分常数。\n\n接下来，我们应用边界条件来确定常数 $C_1$ 和 $C_2$。\n使用 $u(a) = 0$：\n$$\n-a^2 + C_1 a + C_2 = 0 \\quad (1)\n$$\n使用 $u(b) = 0$：\n$$\n-b^2 + C_1 b + C_2 = 0 \\quad (2)\n$$\n这是一个关于 $C_1$ 和 $C_2$ 的二元线性方程组。为了求 $C_1$，我们将方程 $(2)$ 减去方程 $(1)$：\n$$\n(-b^2 - (-a^2)) + (C_1 b - C_1 a) = 0\n$$\n$$\na^2 - b^2 + C_1(b - a) = 0\n$$\n使用平方差公式因式分解，得到 $(a-b)(a+b) - C_1(a-b) = 0$。\n因为 $a  b$，我们知道 $a - b \\neq 0$，所以我们可以两边同除以 $(a-b)$：\n$$\na+b - C_1 = 0\n$$\n得到 $C_1 = a+b$。\n\n现在我们将 $C_1 = a+b$ 代回方程 $(1)$ 来求 $C_2$：\n$$\n-a^2 + (a+b)a + C_2 = 0\n$$\n$$\n-a^2 + a^2 + ab + C_2 = 0\n$$\n$$\nab + C_2 = 0\n$$\n得到 $C_2 = -ab$。\n\n求出常数 $C_1 = a+b$ 和 $C_2 = -ab$ 后，我们将它们代入 $u(x)$ 的通解：\n$$\nu(x) = -x^2 + (a+b)x - ab\n$$\n这个表达式就是解。它可以被写成一个更具洞察力的因式分解形式。通过重新整理各项：\n$$\nu(x) = -(x^2 - (a+b)x + ab)\n$$\n括号中的二次表达式在 $x=a$ 和 $x=b$ 处有根，所以它可以因式分解为 $(x-a)(x-b)$。因此：\n$$\nu(x) = -(x-a)(x-b)\n$$\n这可以重写为，当 $x \\in (a,b)$ 时，两个因子都为正的形式：\n$$\nu(x) = (x-a)(b-x)\n$$\n这就是标准布朗运动从区间 $(a,b)$ 内的 $x$ 点出发的平均离出时间的闭式表达式。这个解在物理上是直观的：它是一个倒抛物线，其最大值在区间的中点 $x = \\frac{a+b}{2}$ 处取得，并且在边界 $x=a$ 和 $x=b$ 处为零。", "answer": "$$\n\\boxed{(x-a)(b-x)}\n$$", "id": "3065879"}, {"introduction": "在掌握了基本情况后，我们现在来探讨一个更贴近现实物理和生物模型的场景：粒子在一个边界被吸收，而在另一个边界被反射。这个问题[@problem_id:3065956]展示了边界值问题方法的灵活性，揭示了不同的边界行为（如吸收与反射）如何通过不同的数学边界条件（狄利克雷与诺伊曼条件）来精确描述。", "problem": "考虑一个在区间 $\\left[0,L\\right]$ 上的一维随机过程，其中 $L0$ 是一个固定值。设 $\\left(X_{t}\\right)_{t\\geq 0}$ 是一个在 0 处反射的布朗运动，当它到达 $L$ 时被吸收。反射布朗运动可以被理解为一个 Skorokhod 型问题的解，在 0 处有瞬时反射，使得在到达 $L$ 被吸收之前，对于所有 $t$ 都有 $X_{t}\\in\\left[0,L\\right]$。设 $\\tau$ 为首次到达 $L$ 的时间，定义为\n$$\n\\tau \\equiv \\inf\\left\\{t\\geq 0 : X_{t} = L\\right\\}。\n$$\n对于起始位置 $x\\in\\left[0,L\\right]$，定义平均出射时间\n$$\nu(x) \\equiv \\mathbb{E}_{x}\\left[\\tau\\right]，\n$$\n其中 $\\mathbb{E}_{x}\\left[\\cdot\\right]$ 表示在 $X_{0}=x$ 条件下的期望。仅使用适用于此情景的第一性原理——即内部布朗运动的生成元、强马尔可夫性和 Dynkin 公式——推导 $u(x)$ 满足的、考虑了在 0 处反射和在 $L$ 处吸收的相应边界值问题。然后显式地求解该边界值问题，以获得用 $L$ 和 $x$ 表示的 $u(x)$ 的闭式解析表达式。你的最终答案必须是单个解析表达式。不需要进行四舍五入。", "solution": "用户希望我先验证问题，如果问题有效，再提供一个带推理过程的解答。\n\n### 步骤1：提取已知条件\n- **过程：** 在区间 $\\left[0,L\\right]$ 上的一个一维随机过程 $\\left(X_{t}\\right)_{t\\geq 0}$，其中 $L0$。\n- **动力学：** $X_t$ 是在边界 $x=0$ 处反射的布朗运动。\n- **边界条件：** 过程在 $x=0$ 处瞬时反射，在到达 $x=L$ 时被吸收。\n- **停时：** $\\tau \\equiv \\inf\\left\\{t\\geq 0 : X_{t} = L\\right\\}$。\n- **待求量：** 对于起始位置 $X_0 = x \\in \\left[0,L\\right]$ 的平均出射时间 $u(x) \\equiv \\mathbb{E}_{x}\\left[\\tau\\right]$。\n- **方法论：** 使用第一性原理：布朗运动的生成元、强马尔可夫性和 Dynkin 公式。\n- **任务：**\n    1.  推导 $u(x)$ 的边界值问题 (BVP)。\n    2.  求解该 BVP，找到 $u(x)$ 的闭式表达式。\n\n### 步骤2：使用提取的已知条件进行验证\n根据验证标准评估问题陈述。\n\n- **科学基础：** 该问题是随机微分方程理论中的一个经典练习。它涉及扩散过程的平均出射时间，这是一个标准课题。反射布朗运动、吸收、过程生成元和 Dynkin 公式等概念在数学和物理学中都是基础且公认的。该问题在科学上是合理的。\n- **适定性：** 该问题是适定的。它指定了一个在定义域上的过程，在边界处（反射和吸收）具有明确定义的行为。这导致一个带有两个不同边界条件的二阶常微分方程，已知该方程有唯一且稳定的解。\n- **客观性：** 问题以精确、客观的数学语言陈述。所有术语在随机过程领域内都有明确的定义。没有主观或基于意见的内容。\n\n该问题没有表现出任何列出的无效性缺陷。它是一个完整、一致且可解的数学问题。\n\n### 步骤3：结论与行动\n问题是**有效的**。现在开始求解过程。\n\n### 推导与求解\n\n对于一个时间齐次的扩散过程，其平均出射时间 $u(x) = \\mathbb{E}_{x}\\left[\\tau\\right]$ 由一个涉及该过程生成元的微分方程所支配。这个关系可以使用 Dynkin 公式从第一性原理推导出来。\n\n对于一个足够正则的函数 $f$ 和一个定义域 $D$ 上的停时 $\\tau_D$，Dynkin 公式表述为：\n$$\n\\mathbb{E}_{x}\\left[f(X_{\\tau_D})\\right] = f(x) + \\mathbb{E}_{x}\\left[ \\int_{0}^{\\tau_D} (\\mathcal{L}f)(X_s) ds \\right]\n$$\n其中 $\\mathcal{L}$ 是过程 $X_t$ 的生成元。\n\n我们要寻找函数 $u(x)$。我们选择 $f(x) = u(x)$。我们过程的定义域是 $D = (0, L)$，出射时间是 $\\tau \\equiv \\tau_D = \\inf\\left\\{t\\geq 0 : X_{t} = L\\right\\}$。根据定义，在出射时，$X_\\tau = L$。由于过程在 $L$ 处被吸收，从 $L$ 开始的出射时间为 0。因此，$u(L) = \\mathbb{E}_L[\\tau] = 0$。将 $f(x) = u(x)$ 代入 Dynkin 公式，我们有 $f(X_\\tau) = u(X_\\tau) = u(L) = 0$。公式变为：\n$$\n\\mathbb{E}_{x}\\left[u(L)\\right] = u(x) + \\mathbb{E}_{x}\\left[ \\int_{0}^{\\tau} (\\mathcal{L}u)(X_s) ds \\right]\n$$\n$$\n0 = u(x) + \\mathbb{E}_{x}\\left[ \\int_{0}^{\\tau} (\\mathcal{L}u)(X_s) ds \\right]\n$$\n如果我们假设函数 $u(x)$ 是微分方程 $\\mathcal{L}u = -1$ 的解，那么这个方程就成立。如果对于所有 $y \\in (0, L)$ 都有 $(\\mathcal{L}u)(y) = -1$，那么积分项变为：\n$$\n\\mathbb{E}_{x}\\left[ \\int_{0}^{\\tau} (-1) ds \\right] = \\mathbb{E}_{x}\\left[ - \\tau \\right] = - \\mathbb{E}_{x}\\left[\\tau\\right] = -u(x)\n$$\n将此代回，我们得到 $0 = u(x) - u(x)$，这是一个一致的恒等式。因此，平均出射时间 $u(x)$ 在定义域内部必须满足微分方程 $\\mathcal{L}u(x) = -1$。\n\n**1. 确定微分方程：**\n随机过程 $X_t$ 在区间 $\\left(0,L\\right)$ 的内部是一个布朗运动。标准一维布朗运动的生成元由下式给出：\n$$\n\\mathcal{L} = \\frac{1}{2}\\frac{d^2}{dx^2}\n$$\n因此，平均出射时间 $u(x)$ 的方程是：\n$$\n\\mathcal{L}u(x) = \\frac{1}{2}u''(x) = -1\n$$\n$$\nu''(x) = -2 \\quad \\text{for } x \\in (0, L)\n$$\n\n**2. 确定边界条件：**\n- **在 $x=L$ 处的边界（吸收）：** 过程在到达 $L$ 时被吸收。如果过程从 $x=L$ 开始，到达 $L$ 的时间为 $\\tau=0$。因此，在该边界处的平均出射时间为零。\n$$\nu(L) = 0\n$$\n这是一个 Dirichlet 边界条件。\n\n- **在 $x=0$ 处的边界（反射）：** 过程在 $x=0$ 处被反射。反射边界条件意味着没有净概率流穿过该边界。对于平均出射时间问题，这转化为 $u(x)$ 的零导数条件。对于一个在边界处有反射的过程，一个函数要处于其生成元的定义域内，它在该边界处的法向导数必须为零。\n$$\nu'(0) = 0\n$$\n这是一个 Neumann 边界条件。\n\n**3. 求解边界值问题：**\n我们得到了完整的边界值问题：\n$$\n\\begin{cases}\nu''(x) = -2,  x \\in (0, L) \\\\\nu'(0) = 0 \\\\\nu(L) = 0\n\\end{cases}\n$$\n我们通过对微分方程进行两次积分来求解。\n对 $x$ 进行第一次积分：\n$$\nu'(x) = \\int -2 \\, dx = -2x + C_1\n$$\n其中 $C_1$ 是一个积分常数。我们应用在 $x=0$ 处的边界条件：\n$$\nu'(0) = -2(0) + C_1 = 0 \\implies C_1 = 0\n$$\n这给出了一阶导数：\n$$\nu'(x) = -2x\n$$\n对 $x$ 进行第二次积分：\n$$\nu(x) = \\int -2x \\, dx = -x^2 + C_2\n$$\n其中 $C_2$ 是第二个积分常数。我们应用在 $x=L$ 处的边界条件：\n$$\nu(L) = -L^2 + C_2 = 0 \\implies C_2 = L^2\n$$\n将 $C_2$ 的值代回 $u(x)$ 的表达式，我们得到平均出射时间的最终解：\n$$\nu(x) = L^2 - x^2\n$$\n这是平均出射时间作为起始位置 $x$ 和区间长度 $L$ 的函数的闭式解析表达式。", "answer": "$$\\boxed{L^2 - x^2}$$", "id": "3065956"}, {"introduction": "最后，我们通过在粒子运动中加入一个恒定的漂移项，来模拟存在外部驱动力或偏向性的情况。这个问题[@problem_id:3065849]展示了如何处理更一般的伊藤扩散过程，其对应的边界值问题包含了一阶和二阶导数项。通过这个练习，你将接触到标度函数和速度测度等强大工具，这对于分析标准布朗运动之外的一维扩散过程至关重要。", "problem": "考虑在开区间 $(a,b)$ 上由随机微分方程 $dX_{t}=\\mu\\,dt+\\sigma\\,dW_{t}$ 定义的一维Itô扩散，其中 $\\mu\\in\\mathbb{R}$ 且 $\\mu\\neq 0$，$\\sigma0$，并且 $(W_{t})_{t\\geq 0}$ 是一个标准维纳过程。令首次离开区间 $(a,b)$ 的时间为 $\\tau_{(a,b)}=\\inf\\{t\\geq 0: X_{t}\\notin(a,b)\\}$，并假设初始位置为 $X_{0}=x\\in(a,b)$。\n\n从第一性原理出发，利用平均离开时间作为无穷小生成元的边值问题解这一特性，并结合一维Itô扩散的尺度函数-速度测度框架（从其基本定义出发来定义尺度函数和速度测度），推导出一个关于 $a$、$b$、$\\mu$、$\\sigma$ 和 $x$ 的闭式表达式 $u(x)=\\mathbb{E}_{x}[\\tau_{(a,b)}]$。你的推导应从该扩散的生成元以及在 $a$ 和 $b$ 处的吸收边界条件开始，并且应明确说明对于此扩散，尺度函数和速度测度是如何从它们的定义中产生的。\n\n将你的最终结果表示为关于 $a$、$b$、$\\mu$、$\\sigma$ 和 $x$ 的单一解析表达式（无需数值计算或四舍五入）。不要包含单位。", "solution": "问题是求解一维Itô扩散 $dX_{t}=\\mu\\,dt+\\sigma\\,dW_{t}$ 从区间 $(a,b)$ 首次离开的平均时间 $u(x) = \\mathbb{E}_{x}[\\tau_{(a,b)}]$，其中初始位置为 $X_0 = x \\in (a,b)$。\n\n平均离开时间 $u(x)$ 满足Dynkin方程，在此背景下，它是一个二阶常微分方程（ODE）：\n$$ \\mathcal{G}u(x) = -1, \\quad x \\in (a,b) $$\n其中 $\\mathcal{G}$ 是扩散过程 $X_t$ 的无穷小生成元。该过程在区间边界被吸收，这转化为狄利克雷（Dirichlet）边界条件：\n$$ u(a) = 0, \\quad u(b) = 0 $$\n对于给定的随机微分方程，漂移系数是常数 $\\mu$，扩散系数是常数 $\\sigma$。无穷小生成元 $\\mathcal{G}$ 作用于一个二阶可微函数 $f(x)$ 的形式为：\n$$ \\mathcal{G}f(x) = \\mu \\frac{df}{dx} + \\frac{1}{2}\\sigma^2 \\frac{d^2f}{dx^2} $$\n因此，$u(x)$ 的边值问题是：\n$$ \\frac{1}{2}\\sigma^2 u''(x) + \\mu u'(x) = -1, \\quad \\text{for } x \\in (a,b) $$\n$$ u(a) = 0, \\quad u(b) = 0 $$\n按照要求，我们将使用尺度函数和速度测度的框架来解决这个问题。对于一个具有生成元 $\\mathcal{G} = \\mu(x)\\frac{d}{dx} + \\frac{1}{2}\\sigma^2(x)\\frac{d^2}{dx^2}$ 的一般一维扩散，其尺度密度函数 $s(x)$ 和速度测度密度 $m(x)$ 定义如下。\n\n尺度密度 $s(x)$ 由性质 $\\mathcal{G}S(x)=0$ 定义（在相差一个乘法常数的意义下），其中 $S(x)$ 是一个尺度函数，满足 $S'(x)=s(x)$。更直接地，它由以下公式给出：\n$$ s(x) = \\exp\\left(-\\int \\frac{2\\mu(x)}{\\sigma^2(x)} dx\\right) $$\n对于我们的问题，其中 $\\mu(x)=\\mu$ 和 $\\sigma(x)=\\sigma$，我们有：\n$$ s(x) = \\exp\\left(-\\int \\frac{2\\mu}{\\sigma^2} dx\\right) = \\exp\\left(-\\frac{2\\mu}{\\sigma^2}x\\right) $$\n我们可以不失一般性地将积分常数设为零。\n\n速度测度密度 $m(x)$ 定义为：\n$$ m(x) = \\frac{2}{\\sigma^2(x) s(x)} $$\n对于我们的问题，这变为：\n$$ m(x) = \\frac{2}{\\sigma^2 \\exp\\left(-\\frac{2\\mu}{\\sigma^2}x\\right)} = \\frac{2}{\\sigma^2} \\exp\\left(\\frac{2\\mu}{\\sigma^2}x\\right) $$\n使用这些定义，算子 $\\mathcal{G}$ 可以写成关于速度测度的自伴形式。方程 $\\mathcal{G}u(x)=-1$ 等价于：\n$$ \\frac{1}{m(x)} \\frac{d}{dx}\\left(\\frac{1}{s(x)}\\frac{du}{dx}\\right) = -1 $$\n这可以通过展开左侧来验证：\n$$ \\frac{d}{dx}\\left(\\frac{1}{s(x)}\\frac{du}{dx}\\right) = \\frac{d}{dx}\\left(\\exp\\left(\\frac{2\\mu}{\\sigma^2}x\\right) u'(x)\\right) = \\frac{2\\mu}{\\sigma^2}\\exp\\left(\\frac{2\\mu}{\\sigma^2}x\\right)u'(x) + \\exp\\left(\\frac{2\\mu}{\\sigma^2}x\\right)u''(x) $$\n乘以 $\\frac{1}{m(x)} = \\frac{\\sigma^2 s(x)}{2} = \\frac{\\sigma^2}{2}\\exp\\left(-\\frac{2\\mu}{\\sigma^2}x\\right)$ 得到：\n$$ \\frac{\\sigma^2}{2}\\left(\\frac{2\\mu}{\\sigma^2}u'(x) + u''(x)\\right) = \\mu u'(x) + \\frac{1}{2}\\sigma^2 u''(x) = \\mathcal{G}u(x) $$\n因此，边值问题可以写为：\n$$ \\frac{d}{dx}\\left(\\frac{1}{s(x)}\\frac{du}{dx}\\right) = -m(x) $$\n我们通过两次连续积分来求解这个常微分方程。对 $x$ 积分一次得到：\n$$ \\frac{1}{s(x)}\\frac{du}{dx} = -\\int m(x) dx + C_1 $$\n其中 $C_1$ 是一个积分常数。我们来计算这个积分：\n$$ \\int m(x) dx = \\int \\frac{2}{\\sigma^2} \\exp\\left(\\frac{2\\mu}{\\sigma^2}x\\right) dx = \\frac{2}{\\sigma^2} \\left(\\frac{\\sigma^2}{2\\mu}\\right) \\exp\\left(\\frac{2\\mu}{\\sigma^2}x\\right) = \\frac{1}{\\mu} \\exp\\left(\\frac{2\\mu}{\\sigma^2}x\\right) $$\n注意 $\\mu \\neq 0$ 是关键。将其代回：\n$$ \\exp\\left(\\frac{2\\mu}{\\sigma^2}x\\right)u'(x) = -\\frac{1}{\\mu}\\exp\\left(\\frac{2\\mu}{\\sigma^2}x\\right) + C_1 $$\n求解 $u'(x)$：\n$$ u'(x) = -\\frac{1}{\\mu} + C_1 \\exp\\left(-\\frac{2\\mu}{\\sigma^2}x\\right) $$\n对 $x$ 进行第二次积分以求得 $u(x)$：\n$$ u(x) = \\int \\left(-\\frac{1}{\\mu} + C_1 \\exp\\left(-\\frac{2\\mu}{\\sigma^2}x\\right)\\right) dx = -\\frac{x}{\\mu} + C_1 \\left(-\\frac{\\sigma^2}{2\\mu}\\right) \\exp\\left(-\\frac{2\\mu}{\\sigma^2}x\\right) + C_2 $$\n为简便起见，我们定义一个新的常数 $C'_1 = -C_1 \\frac{\\sigma^2}{2\\mu}$。通解为：\n$$ u(x) = -\\frac{x}{\\mu} + C'_1 \\exp\\left(-\\frac{2\\mu}{\\sigma^2}x\\right) + C_2 $$\n现在，我们应用边界条件 $u(a)=0$ 和 $u(b)=0$ 来确定常数 $C'_1$ 和 $C_2$。\n$$ u(a) = 0 \\implies -\\frac{a}{\\mu} + C'_1 \\exp\\left(-\\frac{2\\mu}{\\sigma^2}a\\right) + C_2 = 0 \\quad (1) $$\n$$ u(b) = 0 \\implies -\\frac{b}{\\mu} + C'_1 \\exp\\left(-\\frac{2\\mu}{\\sigma^2}b\\right) + C_2 = 0 \\quad (2) $$\n将方程(2)减去方程(1)：\n$$ \\left(-\\frac{b}{\\mu}+\\frac{a}{\\mu}\\right) + C'_1 \\left(\\exp\\left(-\\frac{2\\mu}{\\sigma^2}b\\right) - \\exp\\left(-\\frac{2\\mu}{\\sigma^2}a\\right)\\right) = 0 $$\n$$ \\frac{a-b}{\\mu} = -C'_1 \\left(\\exp\\left(-\\frac{2\\mu}{\\sigma^2}b\\right) - \\exp\\left(-\\frac{2\\mu}{\\sigma^2}a\\right)\\right) $$\n求解 $C'_1$：\n$$ C'_1 = \\frac{b-a}{\\mu} \\frac{1}{\\exp\\left(-\\frac{2\\mu}{\\sigma^2}a\\right) - \\exp\\left(-\\frac{2\\mu}{\\sigma^2}b\\right)} $$\n从方程(1)，我们可以将 $C_2$ 表示为：\n$$ C_2 = \\frac{a}{\\mu} - C'_1 \\exp\\left(-\\frac{2\\mu}{\\sigma^2}a\\right) $$\n将 $C'_1$ 和 $C_2$ 代回 $u(x)$ 的通解：\n$$ u(x) = -\\frac{x}{\\mu} + C'_1 \\exp\\left(-\\frac{2\\mu}{\\sigma^2}x\\right) + \\frac{a}{\\mu} - C'_1 \\exp\\left(-\\frac{2\\mu}{\\sigma^2}a\\right) $$\n$$ u(x) = \\frac{a-x}{\\mu} + C'_1 \\left(\\exp\\left(-\\frac{2\\mu}{\\sigma^2}x\\right) - \\exp\\left(-\\frac{2\\mu}{\\sigma^2}a\\right)\\right) $$\n最后，代入 $C'_1$ 的表达式：\n$$ u(x) = \\frac{a-x}{\\mu} + \\left(\\frac{b-a}{\\mu} \\frac{1}{\\exp\\left(-\\frac{2\\mu}{\\sigma^2}a\\right) - \\exp\\left(-\\frac{2\\mu}{\\sigma^2}b\\right)}\\right) \\left(\\exp\\left(-\\frac{2\\mu}{\\sigma^2}x\\right) - \\exp\\left(-\\frac{2\\mu}{\\sigma^2}a\\right)\\right) $$\n这个表达式可以整理成一个更标准的形式：\n$$ u(x) = \\frac{a-x}{\\mu} + \\frac{b-a}{\\mu} \\left(\\frac{\\exp\\left(-\\frac{2\\mu}{\\sigma^2}x\\right) - \\exp\\left(-\\frac{2\\mu}{\\sigma^2}a\\right)}{\\exp\\left(-\\frac{2\\mu}{\\sigma^2}b\\right) - \\exp\\left(-\\frac{2\\mu}{\\sigma^2}a\\right)}\\right) $$\n此表达式中的分数部分恰好是过程在离开 $a$ 之前先离开 $b$ 的概率 $p_b(x) = \\mathbb{P}_x(X_{\\tau_{(a,b)}} = b)$。结果用给定的参数 $a$、$b$、$\\mu$、$\\sigma$ 和起始位置 $x$ 表示了平均离开时间。", "answer": "$$ \\boxed{\\frac{a-x}{\\mu} + \\frac{b-a}{\\mu} \\left(\\frac{\\exp\\left(-\\frac{2\\mu}{\\sigma^2}x\\right) - \\exp\\left(-\\frac{2\\mu}{\\sigma^2}a\\right)}{\\exp\\left(-\\frac{2\\mu}{\\sigma^2}b\\right) - \\exp\\left(-\\frac{2\\mu}{\\sigma^2}a\\right)}\\right)} $$", "id": "3065849"}]}