{"hands_on_practices": [{"introduction": "在离散时间随机过程中，一个核心的区别在于适应过程和可预测过程。虽然所有可预测过程都是适应的，但反之不然。本练习将构造一个经典的例子来说明这一点。通过构建一个依赖于当前时刻随机冲击的过程，我们将看到它在时间 $n$ 是已知的（适应性），但在时间 $n-1$ 是不可知的（非可预测性），这有助于我们深化对信息集 $\\mathcal{F}_n$ 和 $\\mathcal{F}_{n-1}$ 之间差异的理解。", "problem": "考虑一个赋滤波的概率空间 $(\\Omega,\\mathcal{F},(\\mathcal{F}_{n})_{n\\geq 0},\\mathbb{P})$，其中 $(\\mathcal{F}_{n})_{n\\geq 0}$ 是由一个独立同分布序列 $(\\varepsilon_{n})_{n\\geq 1}$ 生成的自然滤波，满足 $\\varepsilon_{n}\\in\\{-1,+1\\}$，$\\mathbb{P}(\\varepsilon_{n}=+1)=\\mathbb{P}(\\varepsilon_{n}=-1)=\\frac{1}{2}$，且 $\\mathcal{F}_{n}=\\sigma(\\varepsilon_{1},\\ldots,\\varepsilon_{n})$。定义过程 $(M_{n})_{n\\geq 0}$ 为 $M_{0}=0$ 且当 $n\\geq 1$ 时 $M_{n}=\\sum_{k=1}^{n}\\varepsilon_{k}$。令 $(X_{n})_{n\\geq 1}$ 由 $X_{n}=\\mathbf{1}_{\\{\\Delta M_{n}>0\\}}$ 定义，其中 $\\Delta M_{n}=M_{n}-M_{n-1}$。\n\n请仅使用离散时间下鞅、滤波、适应过程和可预测过程的基本定义，从第一性原理出发：\n1. 证明 $(M_{n})_{n\\geq 0}$ 是关于 $(\\mathcal{F}_{n})_{n\\geq 0}$ 的对称鞅。\n2. 证明 $(X_{n})_{n\\geq 1}$ 是关于 $(\\mathcal{F}_{n})_{n\\geq 0}$ 的适应过程。\n3. 证明 $(X_{n})_{n\\geq 1}$ 不是可预测的，即对于任何 $n\\geq 1$，都有 $X_{n}\\notin\\mathcal{F}_{n-1}$。\n\n最后，计算 $X_{n}$ 的可预测投影，即条件期望 $\\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}]$，并将其表示为一个精确的数字。无需四舍五入。", "solution": "本题要求基于基本定义，对一个离散时间随机过程的若干性质进行严格的、分步的验证。我们将按顺序处理问题的每个部分。\n\n题目定义了一个赋滤波的概率空间 $(\\Omega,\\mathcal{F},(\\mathcal{F}_{n})_{n\\geq 0},\\mathbb{P})$，其中的滤波 $(\\mathcal{F}_{n})_{n\\geq 0}$ 是一个独立同分布（i.i.d.）随机变量序列 $(\\varepsilon_{n})_{n\\geq 1}$ 的自然滤波。这些变量服从拉德马赫分布，即 $\\mathbb{P}(\\varepsilon_{n}=+1)=\\mathbb{P}(\\varepsilon_{n}=-1)=\\frac{1}{2}$。该滤波由 $\\mathcal{F}_{n}=\\sigma(\\varepsilon_{1},\\ldots,\\varepsilon_{n})$（$n\\geq 1$）给出，且 $\\mathcal{F}_{0}=\\{\\emptyset,\\Omega\\}$ 是平凡σ-代数。过程 $(M_{n})_{n\\geq 0}$ 是一个简单对称随机游走，定义为 $M_{0}=0$ 且当 $n\\geq 1$ 时 $M_{n}=\\sum_{k=1}^{n}\\varepsilon_{k}$。过程 $(X_{n})_{n\\geq 1}$ 定义为 $X_{n}=\\mathbf{1}_{\\{\\Delta M_{n}>0\\}}$，其中 $\\Delta M_{n}=M_{n}-M_{n-1}$。\n\n**1. 证明 $(M_{n})_{n\\geq 0}$ 是一个对称鞅**\n\n要证明 $(M_{n})_{n\\geq 0}$ 是关于滤波 $(\\mathcal{F}_{n})_{n\\geq 0}$ 的鞅，我们必须验证三个基本条件。\n\n- **适应性**：如果对于每个 $n\\geq 0$，$Y_{n}$ 都是 $\\mathcal{F}_{n}$-可测的，那么过程 $(Y_{n})_{n\\geq 0}$ 是适应于 $(\\mathcal{F}_{n})_{n\\geq 0}$ 的。\n对于 $n=0$，$M_{0}=0$。常数随机变量对于任何σ-代数都是可测的，包括平凡σ-代数 $\\mathcal{F}_{0}$。\n对于 $n\\geq 1$，$M_{n}=\\sum_{k=1}^{n}\\varepsilon_{k}$。根据定义，$\\mathcal{F}_{n}=\\sigma(\\varepsilon_{1},\\ldots,\\varepsilon_{n})$。对于任意 $k\\in\\{1, \\ldots, n\\}$，每个随机变量 $\\varepsilon_{k}$ 都是 $\\mathcal{F}_{n}$-可测的。$\\mathcal{F}_{n}$-可测随机变量的和也是 $\\mathcal{F}_{n}$-可测的。因此，对于所有 $n\\geq 1$，$M_{n}$ 都是 $\\mathcal{F}_{n}$-可测的。\n综上，过程 $(M_{n})_{n\\geq 0}$ 适应于 $(\\mathcal{F}_{n})_{n\\geq 0}$。\n\n- **可积性**：如果 $\\mathbb{E}[|Y|]  \\infty$，则随机变量 $Y$ 是可积的。\n对于任何 $n\\geq 0$，我们有 $|M_{n}|=|\\sum_{k=1}^{n}\\varepsilon_{k}|$。使用三角不等式，可得 $|M_{n}|\\leq\\sum_{k=1}^{n}|\\varepsilon_{k}|$。由于 $\\varepsilon_{k}\\in\\{-1,+1\\}$，我们有 $|\\varepsilon_{k}|=1$ 对所有 $k$ 成立。因此，$|M_{n}|\\leq\\sum_{k=1}^{n}1=n$。\n其绝对值的期望为 $\\mathbb{E}[|M_{n}|]\\leq\\mathbb{E}[n]=n$。由于 $n$ 是一个有限整数，我们有 $\\mathbb{E}[|M_{n}|]  \\infty$ 对所有 $n\\geq 0$ 成立。\n因此，$M_{n}$ 对所有 $n\\geq 0$ 都是可积的。\n\n- **鞅性质**：核心性质是 $\\mathbb{E}[M_{n+1}\\mid\\mathcal{F}_{n}]=M_{n}$ 对所有 $n\\geq 0$ 成立。\n对于任何 $n\\geq 0$，我们可以写出 $M_{n+1}=M_{n}+\\varepsilon_{n+1}$。\n对 $\\mathcal{F}_{n}$ 取条件期望：\n$$ \\mathbb{E}[M_{n+1}\\mid\\mathcal{F}_{n}] = \\mathbb{E}[M_{n}+\\varepsilon_{n+1}\\mid\\mathcal{F}_{n}] $$\n根据条件期望的线性性质：\n$$ \\mathbb{E}[M_{n+1}\\mid\\mathcal{F}_{n}] = \\mathbb{E}[M_{n}\\mid\\mathcal{F}_{n}] + \\mathbb{E}[\\varepsilon_{n+1}\\mid\\mathcal{F}_{n}] $$\n由于 $M_{n}$ 是 $\\mathcal{F}_{n}$-可测的（如在适应性证明中所示），$\\mathbb{E}[M_{n}\\mid\\mathcal{F}_{n}]=M_{n}$。\n根据定义，随机变量 $\\varepsilon_{n+1}$ 独立于集合 $(\\varepsilon_{1},\\ldots,\\varepsilon_{n})$，因此也独立于由它们生成的σ-代数 $\\mathcal{F}_{n}=\\sigma(\\varepsilon_{1},\\ldots,\\varepsilon_{n})$。对于一个独立于某个σ-代数的随机变量，其条件期望等于其无条件期望：$\\mathbb{E}[\\varepsilon_{n+1}\\mid\\mathcal{F}_{n}]=\\mathbb{E}[\\varepsilon_{n+1}]$。\n我们来计算 $\\mathbb{E}[\\varepsilon_{n+1}]$：\n$$ \\mathbb{E}[\\varepsilon_{n+1}] = (+1)\\cdot\\mathbb{P}(\\varepsilon_{n+1}=+1) + (-1)\\cdot\\mathbb{P}(\\varepsilon_{n+1}=-1) = 1\\cdot\\frac{1}{2} - 1\\cdot\\frac{1}{2} = 0 $$\n将这些结果代回，我们得到：\n$$ \\mathbb{E}[M_{n+1}\\mid\\mathcal{F}_{n}] = M_{n} + 0 = M_{n} $$\n这对所有 $n\\geq 0$ 都成立。该过程是一个对称鞅，因为其增量的条件均值为零。\n\n**2. 证明 $(X_{n})_{n\\geq 1}$ 是一个适应过程**\n\n要使 $(X_{n})_{n\\geq 1}$ 适应于 $(\\mathcal{F}_{n})_{n\\geq 0}$，我们必须证明对于每个 $n\\geq 1$，$X_{n}$ 都是 $\\mathcal{F}_{n}$-可测的。\n该过程定义为 $X_{n}=\\mathbf{1}_{\\{\\Delta M_{n}>0\\}}$。我们首先分析条件事件。\n$$ \\Delta M_{n} = M_{n}-M_{n-1} = \\left(\\sum_{k=1}^{n}\\varepsilon_{k}\\right) - \\left(\\sum_{k=1}^{n-1}\\varepsilon_{k}\\right) = \\varepsilon_{n} $$\n所以，$X_{n}$ 的定义简化为 $X_{n}=\\mathbf{1}_{\\{\\varepsilon_{n}>0\\}}$。\n由于 $\\varepsilon_{n}$ 的取值仅限于 $\\{-1,+1\\}$，条件 $\\varepsilon_{n}>0$ 等价于条件 $\\varepsilon_{n}=+1$。\n因此，$X_{n}=\\mathbf{1}_{\\{\\varepsilon_{n}=+1\\}}$。\n要使 $X_{n}$ 是 $\\mathcal{F}_{n}$-可测的，集合 $\\{\\omega\\in\\Omega \\mid X_{n}(\\omega)=1\\}$ 必须在 $\\mathcal{F}_{n}$ 中。这个集合正是 $\\{\\omega\\in\\Omega \\mid \\varepsilon_{n}(\\omega)=+1\\}$。\n根据定义，滤波为 $\\mathcal{F}_{n}=\\sigma(\\varepsilon_{1},\\ldots,\\varepsilon_{n})$。这意味着 $\\varepsilon_{n}$ 是一个 $\\mathcal{F}_{n}$-可测的随机变量。因此，对于任何波莱尔集 $B\\subseteq\\mathbb{R}$，其原像 $\\{\\omega\\in\\Omega \\mid \\varepsilon_{n}(\\omega)\\in B\\}$ 都在 $\\mathcal{F}_{n}$ 中。选择 $B=\\{+1\\}$，我们发现集合 $\\{\\varepsilon_{n}=+1\\}$ 在 $\\mathcal{F}_{n}$ 中。\n由于 $X_{n}$ 是一个 $\\mathcal{F}_{n}$-可测集的指示函数，所以 $X_{n}$ 是一个 $\\mathcal{F}_{n}$-可测的随机变量。这对所有 $n\\geq 1$ 都成立。\n因此，$(X_{n})_{n\\geq 1}$ 是一个适应过程。\n\n**3. 证明 $(X_{n})_{n\\geq 1}$ 不是可预测的**\n\n如果对于所有 $n\\geq 1$，$Y_{n}$ 都是 $\\mathcal{F}_{n-1}$-可测的，那么离散时间过程 $(Y_{n})_{n\\geq 1}$ 是关于 $(\\mathcal{F}_{n})_{n\\geq 0}$ 可预测的。我们必须证明这个条件对 $(X_{n})_{n\\geq 1}$ 不成立。\n我们需要证明对于任何 $n\\geq 1$，$X_{n}$ 都不是 $\\mathcal{F}_{n-1}$-可测的。\n如上所示，$X_{n}=\\mathbf{1}_{\\{\\varepsilon_{n}=+1\\}}$。令 $A_{n}$ 为事件 $\\{\\varepsilon_{n}=+1\\}$。\n要使 $X_{n}$ 是 $\\mathcal{F}_{n-1}$-可测的，集合 $A_{n}$ 必须是σ-代数 $\\mathcal{F}_{n-1}$ 的一个元素。\n滤波 $\\mathcal{F}_{n-1}$ 定义为 $\\sigma(\\varepsilon_{1},\\ldots,\\varepsilon_{n-1})$（其中 $\\mathcal{F}_{0}$ 是平凡的）。根据题目陈述，序列 $(\\varepsilon_{k})_{k\\geq 1}$ 是独立的。这意味着随机变量 $\\varepsilon_{n}$ 独立于随机向量 $(\\varepsilon_{1},\\ldots,\\varepsilon_{n-1})$，因此也独立于由它生成的σ-代数 $\\mathcal{F}_{n-1}$。\n概率论中的一个标准结果表明，如果一个事件 $A$ 独立于一个σ-代数 $\\mathcal{G}$，那么若 $A\\in\\mathcal{G}$，则必然有 $\\mathbb{P}(A)=0$ 或 $\\mathbb{P}(A)=1$。\n让我们应用这个结果。我们在检验是否 $A_{n}\\in\\mathcal{F}_{n-1}$。由于 $A_{n}$ 由 $\\varepsilon_{n}$ 定义，它独立于 $\\mathcal{F}_{n-1}$。如果我们假设 $A_{n}\\in\\mathcal{F}_{n-1}$，那么必须有 $\\mathbb{P}(A_{n})=0$ 或 $\\mathbb{P}(A_{n})=1$。\n然而，事件 $A_{n}$ 的概率给定为：\n$$ \\mathbb{P}(A_{n}) = \\mathbb{P}(\\varepsilon_{n}=+1) = \\frac{1}{2} $$\n由于 $\\mathbb{P}(A_{n})=\\frac{1}{2}$，它既不是 $0$ 也不是 $1$，我们得到了一个矛盾。\n因此，$A_{n}\\in\\mathcal{F}_{n-1}$ 的假设必为假。这意味着对于任何 $n\\geq 1$，$X_{n}=\\mathbf{1}_{A_{n}}$ 都不是 $\\mathcal{F}_{n-1}$-可测的。\n所以，过程 $(X_{n})_{n\\geq 1}$ 不是可预测的。\n\n**4. 计算 $X_{n}$ 的可预测投影**\n\n适应过程 $(X_{n})_{n\\geq 1}$ 的可预测投影是过程 $(X_{n}^{*})_{n\\geq 1}$，定义为 $X_{n}^{*}=\\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}]$。\n我们需要计算对于任何 $n\\geq 1$ 的这个条件期望。\n$$ X_{n}^{*} = \\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}] = \\mathbb{E}[\\mathbf{1}_{\\{\\varepsilon_{n}=+1\\}}\\mid\\mathcal{F}_{n-1}] $$\n根据指示函数的条件期望定义，这等于事件的条件概率：\n$$ X_{n}^{*} = \\mathbb{P}(\\varepsilon_{n}=+1\\mid\\mathcal{F}_{n-1}) $$\n如前一部分所证，随机变量 $\\varepsilon_{n}$ 独立于σ-代数 $\\mathcal{F}_{n-1}$。当一个事件独立于条件σ-代数时，其条件概率等于其无条件概率。\n因此，\n$$ \\mathbb{P}(\\varepsilon_{n}=+1\\mid\\mathcal{F}_{n-1}) = \\mathbb{P}(\\varepsilon_{n}=+1) $$\n根据题目陈述，我们已知 $\\mathbb{P}(\\varepsilon_{n}=+1)=\\frac{1}{2}$。\n因此，$X_{n}$ 的可预测投影为：\n$$ \\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}] = \\frac{1}{2} $$\n这个结果是一个常数，与 $n$（对于 $n\\geq 1$）无关，也与直到时间 $n-1$ 的过程的具体实现无关。这是在给定时间 $n-1$ 可用信息的情况下对 $X_n$ 的最佳预测。\n\n最终要求的值就是这个可预测投影，表示为一个精确的数字。", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "3070261"}, {"introduction": "理解了适应过程与可预测过程的区别后，我们来探讨为何这一区别在随机分析中至关重要。本练习通过离散随机积分（或称鞅变换）展示，被积过程的可预测性是确保鞅的变换仍然是鞅的关键条件。这个实践揭示了可预测性概念在理论构建中的核心作用，尤其是在保证随机积分性质方面。", "problem": "设 $\\left(\\Omega,\\mathcal{F},\\mathbb{P}\\right)$ 是两点空间带等权重的可数乘积，即 $\\Omega=\\{-1,1\\}^{\\mathbb{N}}$，具有乘积 $\\sigma$-代数和乘积概率测度。对于 $\\omega=(\\omega_{1},\\omega_{2},\\dots)\\in\\Omega$，定义 $\\xi_{n}(\\omega)=\\omega_{n}$，因此 $\\{\\xi_{n}:n\\in\\mathbb{N}\\}$ 是独立同分布 (i.i.d.) 的随机变量，满足 $\\mathbb{P}(\\xi_{n}=1)=\\mathbb{P}(\\xi_{n}=-1)=\\frac{1}{2}$。设滤子为 $\\mathcal{F}_{n}=\\sigma(\\xi_{1},\\dots,\\xi_{n})$（对于 $n\\geq 0$），其中 $\\mathcal{F}_{0}$ 是平凡的。\n\n定义离散时间鞅 $M_{0}=0$ 和\n$$\nM_{n}=\\sum_{k=1}^{n}\\xi_{k},\\qquad n\\geq 1,\n$$\n其增量为 $\\Delta M_{n}=M_{n}-M_{n-1}=\\xi_{n}$。考虑适应过程 $H_{n}=\\xi_{n}$，$n\\geq 1$。$H$ 对 $M$ 的离散时间随机积分是过程\n$$\n(H\\cdot M)_{n}=\\sum_{k=1}^{n}H_{k}\\,\\Delta M_{k},\\qquad n\\geq 1.\n$$\n\n任务：\n1. 使用相对于一个滤子的适应过程和可预测过程的定义，证明 $(H_{n})$ 是适应于 $(\\mathcal{F}_{n})$ 的，但不是可预测的。\n2. 计算条件期望 $\\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}]$ 并用它来证明 $(H\\cdot M)_{n}$ 不是一个鞅。\n3. 给出对于所有 $n\\geq 1$，$\\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}]$ 的精确共同值作为最终答案。\n\n无需四舍五入。将最终答案表示为一个精确实数。", "solution": "所述问题在数学上是良定义的、自洽且一致的。它代表了离散时间随机过程理论中的一个标准练习。因此，我们可以进行完整的解答。\n\n解答分为三个部分，对应于提出的任务。\n\n**1. $(H_{n})$ 的适应性和不可预测性的证明**\n\n首先，我们回顾适应过程和可预测过程的定义。如果对于每个 $n\\geq 0$，随机变量 $X_{n}$ 都是 $\\mathcal{F}_{n}$-可测的，那么我们称过程 $(X_{n})_{n\\geq 0}$ 是相对于滤子 $(\\mathcal{F}_{n})_{n\\geq 0}$ **适应的**。如果对于每个 $n\\geq 1$，随机变量 $X_{n}$ 都是 $\\mathcal{F}_{n-1}$-可测的，那么我们称过程 $(X_{n})_{n\\geq 1}$ 是相对于 $(\\mathcal{F}_{n})_{n\\geq 0}$ **可预测的**。\n\n所讨论的过程是 $H_{n}=\\xi_{n}$（对于 $n\\geq 1$）。滤子定义为 $\\mathcal{F}_{n}=\\sigma(\\xi_{1},\\dots,\\xi_{n})$（对于 $n\\geq 1$），且 $\\mathcal{F}_{0}$ 是平凡 $\\sigma$-代数。\n\n为了证明 $(H_{n})$ 是适应的，我们必须验证对于每个 $n \\geq 1$，$H_{n}$ 都是 $\\mathcal{F}_{n}$-可测的。根据定义，$H_{n}=\\xi_{n}$。滤子 $\\mathcal{F}_{n}$ 是由随机变量 $\\xi_{1}, \\dots, \\xi_{n}$ 生成的 $\\sigma$-代数。根据定义，一个 $\\sigma$-代数的生成随机变量相对于该 $\\sigma$-代数是可测的。因此，对于每个 $n\\geq 1$，$\\xi_{n}$ 都是 $\\mathcal{F}_{n}$-可测的。这证实了过程 $(H_{n})_{n\\geq 1}$ 是适应于滤子 $(\\mathcal{F}_{n})_{n\\geq 1}$ 的。\n\n为了证明 $(H_{n})$ 不是可预测的，我们必须验证对于某个 $n\\geq 1$，$H_{n}$ 不是 $\\mathcal{F}_{n-1}$-可测的。我们考虑任何 $n\\geq 1$。这里 $H_{n}=\\xi_{n}$，相关的 $\\sigma$-代数是 $\\mathcal{F}_{n-1}=\\sigma(\\xi_{1},\\dots,\\xi_{n-1})$（其中当 $n=1$ 时，$\\mathcal{F}_{0}$ 是平凡的）。问题陈述中指出随机变量 $\\{\\xi_{k}\\}$ 是独立的。这意味着 $\\xi_{n}$ 独立于集合 $\\{\\xi_{1},\\dots,\\xi_{n-1}\\}$，因此 $\\xi_{n}$ 独立于它们生成的 $\\sigma$-代数 $\\mathcal{F}_{n-1}$。\n\n一个相对于某个 $\\sigma$-代数可测的随机变量不能独立于该 $\\sigma$-代数，除非该随机变量几乎必然是常数。这里，$\\xi_{n}$ 不是常数，因为 $\\mathbb{P}(\\xi_{n}=1)=\\mathbb{P}(\\xi_{n}=-1)=\\frac{1}{2}$。更正式地说，假设为了引出矛盾，$\\xi_{n}$ 是 $\\mathcal{F}_{n-1}$-可测的。那么条件期望 $\\mathbb{E}[\\xi_{n}|\\mathcal{F}_{n-1}]$ 将等于 $\\xi_{n}$ 本身。然而，由于独立性，我们有 $\\mathbb{E}[\\xi_{n}|\\mathcal{F}_{n-1}]=\\mathbb{E}[\\xi_{n}]$。其期望为 $\\mathbb{E}[\\xi_{n}]=(1)\\cdot\\frac{1}{2}+(-1)\\cdot\\frac{1}{2}=0$。这将意味着 $\\xi_{n}=0$ 几乎必然成立，这与 $\\xi_{n}$ 只取值 $1$ 和 $-1$ 的事实相矛盾。因此，对于任何 $n\\geq 1$，$\\xi_{n}$ 都不是 $\\mathcal{F}_{n-1}$-可测的。所以，过程 $(H_{n})$ 不是可预测的。\n\n**2. $(H\\cdot M)_{n}$ 不是鞅的证明**\n\n令 $X_{n}=(H\\cdot M)_{n}=\\sum_{k=1}^{n}H_{k}\\,\\Delta M_{k}$。要使 $(X_{n})$ 成为相对于 $(\\mathcal{F}_{n})$ 的鞅，它必须满足（除其他性质外）对于所有 $n\\geq 1$，$\\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}]=X_{n-1}$。我们来检验这个条件。\n\n我们可以写出 $X_{n}=X_{n-1}+H_{n}\\Delta M_{n}$（对于 $n\\geq 1$ 且 $X_0=0$）。利用条件期望的线性性，我们有：\n$$\n\\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}] = \\mathbb{E}[X_{n-1}+H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}] = \\mathbb{E}[X_{n-1}\\mid\\mathcal{F}_{n-1}] + \\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}]\n$$\n过程项 $X_{n-1}$ 是项 $H_{k}\\Delta M_{k} = \\xi_k^2$（对于 $k=1, \\dots, n-1$）的和。每个 $\\xi_{k}$ 都是 $\\mathcal{F}_{k}$-可测的，因此对于 $k \\le n-1$，它也是 $\\mathcal{F}_{n-1}$-可测的。所以，$X_{n-1}$ 是 $\\mathcal{F}_{n-1}$-可测的。对于任何 $\\mathcal{F}_{n-1}$-可测的随机变量 $Y$，我们有 $\\mathbb{E}[Y\\mid\\mathcal{F}_{n-1}]=Y$。因此，$\\mathbb{E}[X_{n-1}\\mid\\mathcal{F}_{n-1}]=X_{n-1}$。方程变为：\n$$\n\\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}] = X_{n-1} + \\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}]\n$$\n现在，我们计算条件期望项。给定 $H_{n}=\\xi_{n}$ 和 $\\Delta M_{n}=\\xi_{n}$。所以，该项是 $\\mathbb{E}[\\xi_{n}\\cdot\\xi_{n}\\mid\\mathcal{F}_{n-1}]=\\mathbb{E}[\\xi_{n}^{2}\\mid\\mathcal{F}_{n-1}]$。\n随机变量 $\\xi_{n}$ 在集合 $\\{-1, 1\\}$ 中取值。对于任何结果 $\\omega\\in\\Omega$，$\\xi_{n}(\\omega)$ 要么是 $-1$ 要么是 $1$。无论哪种情况，$\\xi_{n}^{2}(\\omega)=1$。这意味着 $\\xi_{n}^{2}$ 是一个常数随机变量，处处等于 $1$。常数随机变量相对于任何 $\\sigma$-代数（包括 $\\mathcal{F}_{n-1}$）都是可测的。其条件期望就是常数本身：\n$$\n\\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}] = \\mathbb{E}[\\xi_{n}^{2}\\mid\\mathcal{F}_{n-1}] = \\mathbb{E}[1\\mid\\mathcal{F}_{n-1}] = 1\n$$\n将此结果代回，我们发现：\n$$\n\\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}] = X_{n-1} + 1\n$$\n由于 $\\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}] \\neq X_{n-1}$，过程 $(H\\cdot M)_{n}$ 不是相对于 $(\\mathcal{F}_{n})$ 的鞅。这个失败是被积过程 $(H_n)$ 不可预测的直接后果。一个不可预测过程关于一个鞅的离散随机积分不保证是一个鞅。\n\n**3. $\\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}]$ 的共同值**\n\n正如在第二部分计算的，对于任何整数 $n\\geq 1$：\n$$\n\\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}] = \\mathbb{E}[\\xi_{n}^{2}\\mid\\mathcal{F}_{n-1}]\n$$\n由于 $\\xi_{n}\\in\\{-1,1\\}$，因此对于所有 $n$，$\\xi_{n}^{2}=1$。表达式简化为：\n$$\n\\mathbb{E}[1\\mid\\mathcal{F}_{n-1}] = 1\n$$\n这个值是常数，不依赖于 $n$。因此，对于所有 $n\\geq 1$，$\\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}]$ 的精确共同值是 $1$。", "answer": "$$\\boxed{1}$$", "id": "3070242"}, {"introduction": "可预测性的概念可以通过投影进行更形式化的理解。本练习提供了一个具体模型，用于计算和比较可选投影（给定当前信息的最佳估计）和可预测投影（给定过去信息的最佳预测）。通过为同一个过程计算这两种投影，我们可以清晰地看到可用信息集（$\\mathcal{F}_n$ 与 $\\mathcal{F}_{n-1}$）的差异如何影响我们的估计和预测。", "problem": "考虑一个时间为 $n \\in \\{0,1,2\\}$ 的离散时间带滤概率空间，其中信息流 $\\{\\mathcal{F}_{n}\\}_{n=0}^{2}$ 由 $\\mathcal{F}_{0} = \\{\\varnothing, \\Omega\\}$, $\\mathcal{F}_{1} = \\sigma(Y_{1})$ 和 $\\mathcal{F}_{2} = \\sigma(Y_{1}, Y_{2})$ 给出。此处 $Y_{1}$ 和 $Y_{2}$ 分别是独立的 Bernoulli 随机变量，其参数为 $\\mathbb{P}(Y_{1}=1)=p \\in (0,1)$ 和 $\\mathbb{P}(Y_{2}=1)=q \\in (0,1)$。定义适应的可积过程 $X = \\{X_{n}\\}_{n=0}^{2}$ 如下：\n$$\nX_{0} := 0, \\quad X_{1} := Y_{1}, \\quad X_{2} := 2 Y_{1} Y_{2} + Y_{2}.\n$$\n从基本定义出发：使用条件期望作为到 $\\sigma$-代数上的 $L^{1}$-投影的定义性质，以及可选和可预测 $\\sigma$-代数的离散时间定义，来确定在形成可选和可预测投影时，每个时间点上所依据的 $\\sigma$-代数。\n\n(a) 确定 $X$ 的可选投影 $^{o}\\!X = \\{{}^{o}\\!X_{n}\\}_{n=0}^{2}$ 和可预测投影 $^{p}\\!X = \\{{}^{p}\\!X_{n}\\}_{n=0}^{2}$。\n\n(b) 使用你的结果，计算标量\n$$\n\\mathbb{E}\\!\\left[\\left({}^{o}\\!X_{2} - {}^{p}\\!X_{2}\\right)^{2}\\right]\n$$\n的一个关于 $p$ 和 $q$ 的闭式表达式。\n\n基于该模型中离散时间相关 $\\sigma$-代数的结构，用文字解释为什么在时间 $n=2$ 时这两个投影会不同。将 (b) 部分的最终答案表示为关于 $p$ 和 $q$ 的单个解析表达式。不要对答案进行四舍五入。", "solution": "该问题是适定的，在随机过程理论中有坚实的科学基础，并包含了求得唯一解所需的所有信息。\n\n问题的核心在于应用离散时间过程的可选投影和可预测投影的定义。对于一个带滤概率空间 $(\\Omega, \\mathcal{F}, \\{\\mathcal{F}_n\\}_{n=0}^N, \\mathbb{P})$ 上的过程 $X = \\{X_n\\}_{n=0}^N$，可选投影和可预测投影定义如下：\n\n**可选投影**，记作 $^{o}\\!X$，是一个过程，其在时间 $n$ 的值 $^{o}\\!X_{n}$ 是 $X_n$ 关于 $\\sigma$-代数 $\\mathcal{F}_n$ 的条件期望。这表示在给定时间 $n$ 可用信息的情况下对 $X_n$ 的最佳估计。\n$$\n{}^{o}\\!X_{n} := \\mathbb{E}[X_n | \\mathcal{F}_n]\n$$\n\n**可预测投影**，记作 $^{p}\\!X$，是一个过程，其在时间 $n$ 的值 $^{p}\\!X_{n}$ 是 $X_n$ 关于 $\\sigma$-代数 $\\mathcal{F}_{n-1}$ (对于 $n \\ge 1$) 的条件期望。这表示在给定时间 $n$ 之前可用信息的情况下对 $X_n$ 的最佳预测。对于 $n=0$，约定 $\\mathcal{F}_{-1} = \\mathcal{F}_0$，因此 $^{p}\\!X_0 = \\mathbb{E}[X_0|\\mathcal{F}_0]$。\n$$\n{}^{p}\\!X_{n} := \\mathbb{E}[X_n | \\mathcal{F}_{n-1}] \\quad \\text{for } n \\ge 1, \\quad \\text{and } {}^{p}\\!X_0 := \\mathbb{E}[X_0 | \\mathcal{F}_0]\n$$\n我们已知信息流 $\\mathcal{F}_0 = \\{\\varnothing, \\Omega\\}$, $\\mathcal{F}_1 = \\sigma(Y_1)$ 和 $\\mathcal{F}_2 = \\sigma(Y_1, Y_2)$，以及过程 $X_0 = 0$, $X_1 = Y_1$, $X_2 = 2Y_1Y_2 + Y_2$。随机变量 $Y_1 \\sim \\text{Bernoulli}(p)$ 和 $Y_2 \\sim \\text{Bernoulli}(q)$ 是独立的。\n\n**(a) 可选投影和可预测投影的确定**\n\n**可选投影 $^{o}\\!X$：**\n对于每个 $n \\in \\{0, 1, 2\\}$，我们计算 $^{o}\\!X_{n} = \\mathbb{E}[X_n | \\mathcal{F}_n]$。\n条件期望的一个关键性质是，如果一个随机变量 $Z$ 是 $\\mathcal{G}$-可测的，那么 $\\mathbb{E}[Z|\\mathcal{G}] = Z$。\n给定的过程 $X$ 是适应的，意味着对每个 $n$，$X_n$ 都是 $\\mathcal{F}_n$-可测的。我们来验证这一点。\n- 对于 $n=0$：$X_0=0$。作为一个常数，$X_0$ 关于任何 $\\sigma$-代数都是可测的，包括 $\\mathcal{F}_0 = \\{\\varnothing, \\Omega\\}$。\n- 对于 $n=1$：$X_1=Y_1$。根据定义，$Y_1$ 是 $\\mathcal{F}_1 = \\sigma(Y_1)$-可测的。\n- 对于 $n=2$：$X_2 = 2Y_1Y_2+Y_2$。作为 $Y_1$ 和 $Y_2$ 的代数组合，$X_2$ 是关于 $\\mathcal{F}_2 = \\sigma(Y_1, Y_2)$-可测的。\n由于对所有 $n$，$X_n$ 都是 $\\mathcal{F}_n$-可测的，它的可选投影就是过程 $X$ 本身。\n$$\n{}^{o}\\!X_{0} = \\mathbb{E}[X_0 | \\mathcal{F}_0] = X_0 = 0\n$$\n$$\n{}^{o}\\!X_{1} = \\mathbb{E}[X_1 | \\mathcal{F}_1] = X_1 = Y_1\n$$\n$$\n{}^{o}\\!X_{2} = \\mathbb{E}[X_2 | \\mathcal{F}_2] = X_2 = 2Y_1Y_2 + Y_2\n$$\n所以，可选投影为 $^{o}\\!X = \\{0, Y_1, 2Y_1Y_2 + Y_2\\}$。\n\n**可预测投影 $^{p}\\!X$：**\n对于每个 $n$，我们计算可预测投影的分量。\n- 对于 $n=0$：$^{p}\\!X_0 = \\mathbb{E}[X_0|\\mathcal{F}_0]$。由于 $X_0=0$ 是常数，$\\mathbb{E}[0|\\mathcal{F}_0]=0$。\n$$\n{}^{p}\\!X_0 = 0\n$$\n- 对于 $n=1$：$^{p}\\!X_1 = \\mathbb{E}[X_1 | \\mathcal{F}_0]$。$\\sigma$-代数 $\\mathcal{F}_0$ 是平凡的，所以以它为条件等价于取无条件期望。\n$$\n{}^{p}\\!X_1 = \\mathbb{E}[Y_1 | \\mathcal{F}_0] = \\mathbb{E}[Y_1] = 1 \\cdot \\mathbb{P}(Y_1=1) + 0 \\cdot \\mathbb{P}(Y_1=0) = p\n$$\n- 对于 $n=2$：$^{p}\\!X_2 = \\mathbb{E}[X_2 | \\mathcal{F}_1] = \\mathbb{E}[2Y_1Y_2 + Y_2 | \\mathcal{F}_1]$。使用条件期望的线性性：\n$$\n{}^{p}\\!X_2 = \\mathbb{E}[2Y_1Y_2 | \\mathcal{F}_1] + \\mathbb{E}[Y_2 | \\mathcal{F}_1]\n$$\n随机变量 $Y_1$ 是 $\\mathcal{F}_1$-可测的，因此在条件期望中可以将其视为常数（“提出已知量”）。随机变量 $Y_2$ 独立于 $Y_1$，因此独立于 $\\sigma$-代数 $\\mathcal{F}_1 = \\sigma(Y_1)$。对于一个独立于条件 $\\sigma$-代数的随机变量，其条件期望等于其无条件期望。\n$$\n\\mathbb{E}[2Y_1Y_2 | \\mathcal{F}_1] = 2Y_1 \\mathbb{E}[Y_2 | \\mathcal{F}_1] = 2Y_1 \\mathbb{E}[Y_2] = 2Y_1 q\n$$\n$$\n\\mathbb{E}[Y_2 | \\mathcal{F}_1] = \\mathbb{E}[Y_2] = q\n$$\n综合这些结果可得：\n$$\n{}^{p}\\!X_2 = 2qY_1 + q\n$$\n所以，可预测投影为 $^{p}\\!X = \\{0, p, 2qY_1 + q\\}$。\n\n**(b) 计算与解释**\n\n首先，我们计算标量 $\\mathbb{E}[({}^{o}\\!X_{2} - {}^{p}\\!X_{2})^2]$。从 (a) 部分，我们有：\n$$\n{}^{o}\\!X_{2} = 2Y_1Y_2 + Y_2 = Y_2(2Y_1+1)\n$$\n$$\n{}^{p}\\!X_{2} = 2qY_1 + q = q(2Y_1+1)\n$$\n差值为：\n$$\n{}^{o}\\!X_{2} - {}^{p}\\!X_{2} = Y_2(2Y_1+1) - q(2Y_1+1) = (Y_2 - q)(2Y_1+1)\n$$\n我们需要计算这个差值平方的期望：\n$$\n\\mathbb{E}\\!\\left[\\left({}^{o}\\!X_{2} - {}^{p}\\!X_{2}\\right)^{2}\\right] = \\mathbb{E}\\!\\left[\\left((Y_2 - q)(2Y_1+1)\\right)^2\\right] = \\mathbb{E}\\!\\left[(Y_2-q)^2 (2Y_1+1)^2\\right]\n$$\n随机变量 $Y_1$ 和 $Y_2$ 是独立的。因此，$Y_1$ 的任何函数都独立于 $Y_2$ 的任何函数。具体来说，$(Y_2-q)^2$ 和 $(2Y_1+1)^2$ 是独立的。它们乘积的期望是它们各自期望的乘积：\n$$\n\\mathbb{E}\\!\\left[(Y_2-q)^2 (2Y_1+1)^2\\right] = \\mathbb{E}\\!\\left[(Y_2-q)^2\\right] \\mathbb{E}\\!\\left[(2Y_1+1)^2\\right]\n$$\n让我们分别计算每一项期望。\n第一项是 Bernoulli 随机变量 $Y_2$ 的方差：\n$$\n\\mathbb{E}\\!\\left[(Y_2-q)^2\\right] = \\text{Var}(Y_2) = \\mathbb{E}[Y_2^2] - (\\mathbb{E}[Y_2])^2\n$$\n由于 $Y_2$ 的取值在 $\\{0, 1\\}$ 中，我们有 $Y_2^2=Y_2$。因此，$\\mathbb{E}[Y_2^2]=\\mathbb{E}[Y_2]=q$。\n$$\n\\text{Var}(Y_2) = q - q^2 = q(1-q)\n$$\n第二项可以通过考虑 $Y_1$ 的可能取值来计算：\n$$\n\\mathbb{E}\\!\\left[(2Y_1+1)^2\\right] = (2(1)+1)^2 \\mathbb{P}(Y_1=1) + (2(0)+1)^2 \\mathbb{P}(Y_1=0)\n$$\n$$\n= 3^2 \\cdot p + 1^2 \\cdot (1-p) = 9p + 1-p = 8p+1\n$$\n将这两项相乘得到最终结果：\n$$\n\\mathbb{E}\\!\\left[\\left({}^{o}\\!X_{2} - {}^{p}\\!X_{2}\\right)^{2}\\right] = q(1-q)(8p+1)\n$$\n\n**解释：**\n在时间 $n=2$ 时，可选投影和可预测投影之所以不同，是因为它们是基于不同信息集的条件期望，这是由它们在离散时间中各自的 $\\sigma$-代数的结构决定的。\n\n可选投影 $^{o}\\!X_2 = \\mathbb{E}[X_2|\\mathcal{F}_2]$ 是在给定时间 $n=2$ 可用信息 $\\mathcal{F}_2 = \\sigma(Y_1, Y_2)$ 的情况下对 $X_2$ 的最佳估计。这个信息流包含了 $Y_1$ 和 $Y_2$ 的结果。由于 $X_2 = 2Y_1Y_2 + Y_2$ 是 $Y_1$ 和 $Y_2$ 的直接函数，一旦 $\\mathcal{F}_2$ 中的信息已知，其值就完全确定了。因此，条件期望就是 $X_2$ 本身。\n\n可预测投影 $^{p}\\!X_2 = \\mathbb{E}[X_2|\\mathcal{F}_1]$ 是在仅给定时间 $n=1$ 可用信息 $\\mathcal{F}_1 = \\sigma(Y_1)$（即“过去一步”的信息）的情况下对 $X_2$ 的最佳预测。这个信息流揭示了 $Y_1$ 的结果，但关键的是它不包含 $Y_2$ 的结果。由于 $X_2$ 依赖于尚未揭晓的 $Y_2$ 的值，形成预测需要根据 $Y_2$ 的概率分布对其所有可能的结果进行平均。这正是条件期望 $\\mathbb{E}[\\cdot|\\mathcal{F}_1]$ 所做的事情：它将随机变量 $Y_2$ 替换为其期望值 $\\mathbb{E}[Y_2]=q$。\n\n本质上，$^{o}\\!X_2$ 和 $^{p}\\!X_2$ 之间的差异源于时间 $n=1$ 和 $n=2$ 之间新信息的到来。可预测投影代表了在这个新信息（$Y_2$ 的值）到来之前的知识状态，而可选投影则包含了这个新信息。量 ${}^{o}\\!X_2 - {}^{p}\\!X_2$ 代表了时间 $n=2$ 的“新息”或“意外”，而我们计算的值 $\\mathbb{E}[({}^{o}\\!X_{2} - {}^{p}\\!X_{2})^2]$ 是其期望的平方大小。", "answer": "$$\n\\boxed{q(1-q)(8p+1)}\n$$", "id": "3070234"}]}