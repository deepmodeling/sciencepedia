{"hands_on_practices": [{"introduction": "将不同的物品分配到无法区分的盒子中是组合数学中的一个核心问题，其解法与集合划分和第二类斯特林数 (Stirling numbers of the second kind) 紧密相关。本练习 [@problem_id:1365865] 提供了一个绝佳的起点。通过解决一个特殊但常见的情形——将 $n$ 个不同项分配到 $n-1$ 个组中，我们将揭示集合划分的一个基本性质，并发现它与基本组合概念（如组合数 $\\binom{n}{k}$）之间的直接联系。", "problem": "一个大学研究委员会正在为一项新的资助计划审查 $n$ 份不同的拨款提案。委员会决定成立恰好 $n-1$ 个新的、不可区分的研究合作小组来执行这些项目。每个提案都必须分配给一个合作小组，并且每个合作小组必须至少分配到一个提案。假设 $n \\ge 2$，请找出一个关于 $n$ 的封闭形式解析表达式，表示委员会将 $n$ 份提案分配给 $n-1$ 个合作小组的总方式数。", "solution": "我们要将 $n$ 份不同的提案分配给恰好 $n-1$ 个不可区分且非空的合作小组。这等价于将一个包含 $n$ 个元素的集合划分为恰好 $n-1$ 个非空、无标签子集的数量，即第二类斯特林数 $S(n,n-1)$。\n\n设各子集的大小为 $s_{1},\\dots,s_{n-1}$，其中每个 $s_{i}\\ge 1$ 并且 $\\sum_{i=1}^{n-1} s_{i}=n$。那么\n$$\n\\sum_{i=1}^{n-1} (s_{i}-1)=\\left(\\sum_{i=1}^{n-1} s_{i}\\right)-(n-1)=n-(n-1)=1.\n$$\n由于每个 $s_{i}-1$ 都是非负整数，并且它们的和为 $1$，因此必然是恰好有一个子集的大小为 $2$，其余 $n-2$ 个子集的大小为 $1$。\n\n因此，每个有效的分配方式都由选择哪两份提案共享那个唯一的大小为 $2$ 的合作小组来唯一确定，而所有其他提案则各自形成单元素集。这样的选择数量为\n$$\n\\binom{n}{2}.\n$$\n因为合作小组是不可区分的，所以不适用进一步的排序或标记因子。因此，总的分配方式数为 $\\binom{n}{2}$。", "answer": "$$\\boxed{\\binom{n}{2}}$$", "id": "1365865"}, {"introduction": "在掌握了集合划分的基本概念后，我们来探讨一个更复杂但常见的情况：当某些特定物品必须被分在同一组时，我们该如何计数？这个问题 [@problem_id:1365819] 引导我们运用一种强大的组合技巧。通过将必须在一起的元素“融合”成一个单一的超级项，我们可以将一个带有约束的复杂问题转化为一个我们已经知道如何解决的标准划分问题，这充分展示了在组合问题中简化和转化的思想。", "problem": "一位博物馆馆长负责组织一个新展览，展出8件不同的、无价的历史文物。这些文物将被放入恰好4个相同的、非空的陈列柜中。在这些文物中，有一枚特定的古钱币及其对应的币模，历史记录证实它们总是被保存在一起。博物馆的政策规定，这对物品——钱币和币模——必须在同一个陈列柜中展示。在此约束下，将这8件文物放入4个陈列柜中，有多少种不同的布置方式？", "solution": "由于陈列柜是相同的且必须非空，这些布置方式对应于将文物集合划分为恰好四个无标签的非空子集。指定的钱币和币模必须在同一个子集中。我们将这对必须在一起的物品合并成一个“超级物品”；于是问题就变成了将一个包含7个不同元素（合并后的一对加上剩余的6件不同文物）的集合划分为4个非空的无标签子集。这种划分的数量即为第二类斯特林数 $S(7,4)$。\n\n我们使用以下递推关系式来计算 $S(n,k)$：\n$$\nS(n,k)=k\\,S(n-1,k)+S(n-1,k-1),\n$$\n其中 $S(n,1)=1$ 且 $S(n,n)=1$。\n\n首先逐步计算所需的较小值：\n$$\nS(2,1)=1,\\quad S(2,2)=1.\n$$\n然后\n$$\nS(3,2)=2\\,S(2,2)+S(2,1)=2\\cdot 1+1=3,\\quad S(3,3)=1.\n$$\n接着\n$$\nS(4,2)=2\\,S(3,2)+S(3,1)=2\\cdot 3+1=7,\\quad S(4,3)=3\\,S(3,3)+S(3,2)=3\\cdot 1+3=6,\\quad S(4,4)=1.\n$$\n然后\n$$\nS(5,2)=2\\,S(4,2)+S(4,1)=2\\cdot 7+1=15,\\quad S(5,3)=3\\,S(4,3)+S(4,2)=3\\cdot 6+7=25,\\quad S(5,4)=4\\,S(4,4)+S(4,3)=4\\cdot 1+6=10,\\quad S(5,5)=1.\n$$\n接着\n$$\nS(6,3)=3\\,S(5,3)+S(5,2)=3\\cdot 25+15=90,\\quad S(6,4)=4\\,S(5,4)+S(5,3)=4\\cdot 10+25=65,\\quad S(6,6)=1.\n$$\n最后\n$$\nS(7,4)=4\\,S(6,4)+S(6,3)=4\\cdot 65+90=350.\n$$\n\n因此，有效的布置数量为 $S(7,4)=350$。", "answer": "$$\\boxed{350}$$", "id": "1365819"}, {"introduction": "继上一个练习中处理“必须在一起”的约束之后，我们现在来挑战其对立面：如何处理“必须分开”的约束？这个问题 [@problem_id:1365858] 引入了一种优雅而普遍的计数策略——补集计数法。我们将首先计算所有可能的分组方式总数（即贝尔数, Bell number $B_n$），然后减去不符合条件的（即特定项在一起的）分组方式数量，从而巧妙地得到最终答案。这种“正难则反”的思路是解决许多组合问题的关键。", "problem": "一所大学正在进行课程体系改革。一个委员会的任务是将 $n=8$ 门不同的高级课程分组成一系列非空的“课程模块”。每门课程必须且只能被分配到一个模块中。这些模块本身被认为是不可区分的；例如，课程分组 `{C1, C2}, {C3}` 与 `{C3}, {C1, C2}` 是相同的。\n\n在这8门课程中，有‘微积分I’和‘物理I’。由于它们的基础性质和排课要求，委员会规定‘微积分I’和‘物理I’不能被放在同一个课程模块中。\n\n在这些约束条件下，确定这8门课程可以被分组成课程模块的总共有多少种不同的方式。", "solution": "我们将一个包含8门不同课程的集合划分为非空的、不可区分的块，因此在没有限制条件下的总划分数是贝尔数 $B_{8}$。\n\n令这两门特殊课程分别表示为 $a$ (微积分I) 和 $b$ (物理I)。我们要求 $a$ 和 $b$ 不在同一个块中。如果我们令 $\\mathcal{P}$ 表示这8门课程所有划分的集合，$\\mathcal{A}\\subset \\mathcal{P}$ 表示其中 $a$ 和 $b$ 在同一个块中的那些划分，那么所求的数量是\n$$\n|\\mathcal{P}\\setminus\\mathcal{A}|=B_{8}-|\\mathcal{A}|.\n$$\n在 $\\mathcal{A}$ 与一个包含7个元素的集合的划分集之间存在一个标准的双射：将 $a$ 和 $b$ 合并成一个单一的“超元素”，然后对得到的7元素集进行划分；反之，7个元素的任何划分都可以通过将超元素扩展回 $\\{a,b\\}$ 来对应于 $\\mathcal{A}$ 中的一个划分。因此，\n$$\n|\\mathcal{A}|=B_{7}.\n$$\n等价地，用第二类斯特林数 $S(n,k)$ 表示，我们有 $B_{n}=\\sum_{k=1}^{n}S(n,k)$，并且 $a$ 和 $b$ 在一起的划分数等于 $\\sum_{k=1}^{7}S(7,k)=B_{7}$，得到相同的结果。\n\n因此，所求的数量是\n$$\nB_{8}-B_{7}.\n$$\n使用已知的贝尔数 $B_{8}=4140$ 和 $B_{7}=877$，我们得到\n$$\n4140-877=3263.\n$$", "answer": "$$\\boxed{3263}$$", "id": "1365858"}]}