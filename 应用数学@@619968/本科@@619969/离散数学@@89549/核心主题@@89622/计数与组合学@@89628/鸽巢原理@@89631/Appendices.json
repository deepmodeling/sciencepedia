{"hands_on_practices": [{"introduction": "鸽巢原理不仅是纯粹的数学理论，在计算机科学中也有着坚实的“用武之地”。本练习将广义鸽巢原理应用于一个计算场景，通过计算哈希码“鸽巢”的数量，你将练习如何确定保证冲突发生的最小“鸽子”数，这是数据结构和算法中的一个基本问题。[@problem_id:1409197]", "problem": "一个云存储提供商使用一种简单的双字符哈希算法来初步排序传入的用户文件。每个文件被分配一个哈希码，该哈希码由一个大写英文字母（从A到Z）后跟一个数字（从0到9）组成。然而，某些哈希码被保留用于内部系统进程，不能用于用户文件。被保留的哈希码是：\n1. 第一个字符是 'X'、'Y' 或 'Z' 的任何哈希码。\n2. 第二个字符是 '0' 的任何哈希码。\n\n该提供商想确定这个初步排序系统的容量限制。必须接收多少用户文件，才能保证至少有三个不同的文件被分配到同一个哈希码？您的答案必须是一个整数。", "solution": "这个问题可以用广义鸽巢原理来解决。我们将用户文件视为“鸽子”，将可用的、非保留的哈希码视为“鸽巢”。我们需要找到确保至少一个鸽巢包含三只鸽子所需的最小鸽子数。\n\n首先，我们必须确定可用鸽巢的数量，我们将其表示为 $k$。\n\n所有可能的哈希码总数是第一个字符的选择数与第二个字符的选择数的乘积。有26个大写英文字母和10个数字（0-9）。\n可能的哈希码总数 = $26 \\times 10 = 260$。\n\n接下来，我们必须计算保留哈希码的数量。有两组保留哈希码，它们可能重叠。我们使用容斥原理来计算唯一保留哈希码的总数。\n设 $S_1$ 是第一个字符为 'X'、'Y' 或 'Z' 的哈希码集合。\n设 $S_2$ 是第二个字符为 '0' 的哈希码集合。\n保留哈希码的总数是 $|S_1 \\cup S_2| = |S_1| + |S_2| - |S_1 \\cap S_2|$。\n\n集合 $S_1$ 的大小：第一个字母有3种选择（'X'、'Y'、'Z'），数字有10种选择。\n$|S_1| = 3 \\times 10 = 30$。\n\n集合 $S_2$ 的大小：第一个字母有26种选择，数字有1种选择（'0'）。\n$|S_2| = 26 \\times 1 = 26$。\n\n交集 $S_1 \\cap S_2$ 的大小，由同时满足两个条件的哈希码组成：第一个字符是 {'X', 'Y', 'Z'} 中的一个，并且第二个字符是 '0'。这些哈希码是 'X0'、'Y0' 和 'Z0'。\n$|S_1 \\cap S_2| = 3$。\n\n使用容斥原理，保留哈希码的总数是：\n$|S_1 \\cup S_2| = 30 + 26 - 3 = 53$。\n\n现在，我们可以计算可用的哈希码（鸽巢）数量 $k$：\n$k = (\\text{可能的哈希码总数}) - (\\text{保留的哈希码总数}) = 260 - 53 = 207$。\n\n我们想找到所需的最少文件数（鸽子数） $N$，以保证至少有一个哈希码（鸽巢）被分配给 $m=3$ 个文件。广义鸽巢原理指出，如果将 $N$ 个物品放入 $k$ 个容器中，那么至少有一个容器必须包含至少 $\\lceil \\frac{N}{k} \\rceil$ 个物品。\n\n我们想找到满足 $\\lceil \\frac{N}{k} \\rceil \\geq 3$ 的最小整数 $N$。\n这个不等式在 $\\frac{N}{k} > 2$ 时成立。\n所以，$N > 2k$。\n由于 $N$ 必须是整数，满足此条件的最小整数 $N$ 是 $N = 2k + 1$。\n\n或者，考虑最坏情况。为避免出现三个文件具有相同哈希码的情况，我们将文件尽可能均匀地分配到 $k=207$ 个可用哈希码中。在不保证有三个文件在同一个槽位的情况下，我们能拥有的最大文件数是，207个槽位中的每一个都恰好有两个文件。\n在这种最坏情况下的文件数 = $2 \\times k = 2 \\times 207 = 414$。\n\n如果我们再增加一个文件，它必须被分配到207个哈希码中的一个。由于每个哈希码已经包含两个文件，这个新文件的加入将导致某个哈希码拥有 $2+1=3$ 个文件。\n因此，保证这种情况发生的最小文件数是：\n$N = 414 + 1 = 415$。\n\n使用从原理推导出的公式 $N = (m-1)k + 1$，其中 $k=207$ 且 $m=3$：\n$N = (3-1) \\times 207 + 1 = 2 \\times 207 + 1 = 414 + 1 = 415$。", "answer": "$$\\boxed{415}$$", "id": "1409197"}, {"introduction": "本题将引导你从直接计数转向更抽象的逻辑证明，展现鸽巢原理在证明领域的威力。你将分析一个社交网络模型，在看似随机的连接中，证明一个关于人际关系数量的必然结论。这个练习旨在锻炼你在不那么直观的情境中，准确识别“鸽子”与“鸽巢”的能力。[@problem_id:1409216]", "problem": "一个由25名计算机科学专业学生组成的小组正在参加一个职业社交活动。活动期间，学生们可以相互交换联系方式。信息交换总是相互的；如果学生A得到了学生B的联系方式，那么学生B也会得到学生A的联系方式。没有学生会和自己交换联系方式。设一名学生的“联系人数量”为他/她在此次活动中与之交换了联系方式的其他学生总数。\n\n活动结束后，一位分析师检查了最终形成的联系人网络。关于学生们的联系人数量，以下哪个陈述，无论学生们如何交换信息，都必然为真？\n\nA. 活动中至少有两名学生必须有完全相同的联系人数量。\nB. 必须至少有一名联系人数量为0的学生和另一名联系人数量为24的学生。\nC. 必须至少有一名学生的联系人数量恰好为12。\nD. 所有25名学生的联系人数量总和必须是一个奇数。\nE. 所有25名学生都可能有不同的联系人数量。", "solution": "将此情景建模为一个包含 $n=25$ 个顶点的简单无向图，其中每个顶点代表一名学生，每条边代表一次相互的联系人交换。顶点的度即为该学生的联系人数量。\n\n首先，请注意对于任何包含 $n$ 个顶点的简单图，每个顶点的度 $d$ 都满足 $0 \\leq d \\leq n-1$。因此，此处的每个度都在集合 $\\{0,1,\\dots,24\\}$ 中。\n\n此外，握手引理指出，所有度的总和等于边数的两倍。如果 $m$ 是边的数量，那么\n$$\n\\sum_{i=1}^{25} d_{i} = 2m,\n$$\n其结果始终是一个偶数。\n\n我们来分析每个陈述：\n\nA. 至少有两名学生必须有完全相同的联系人数量。证明：度的取值范围在 $\\{0,1,\\dots,24\\}$ 中，但一个图中不能同时存在度为 $0$ 的顶点和度为 $24$ 的顶点。实际上，如果某个顶点的度为 $24$，那么它与所有其他顶点都相邻，所以不可能有顶点的度为 $0$。反之，如果某个顶点的度为 $0$，那么就不可能有顶点的度为 $24$。因此，在25名学生中，最多只能出现 $24$ 个不同的度值。根据鸽巢原理，至少有两名学生有相同的联系人数量。因此，A必然为真。\n\nB. 必须至少有一名联系人数量为 $0$ 的学生和另一名联系人数量为 $24$ 的学生。如上所示，这两个度不可能同时出现。因此B是假的。\n\nC. 必须至少有一名学生的联系人数量恰好为 $12$。这不一定。一个反例是边数 $m=0$ 的空图，其中所有顶点的度都为 $0$，所以没有学生的度为 $12$。因此C是假的。\n\nD. 所有25名学生的联系人数量总和必须是一个奇数。根据握手引理，这个总和是 $2m$，它是一个偶数。因此D是假的。\n\nE. 所有25名学生都可能有不同的联系人数量。这要求实现 $\\{0,1,\\dots,24\\}$ 中所有25个值，但如上所示，$0$ 和 $24$ 不能同时出现。因此，最多只能出现 $24$ 个不同的度，使得25个不同的联系人数量成为不可能。因此E是假的。\n\n因此，唯一必然为真的陈述是A。", "answer": "$$\\boxed{A}$$", "id": "1409216"}, {"introduction": "最后的这项练习挑战你将一个离散的数学原理应用于一个连续的几何问题。通过巧妙地将一个物理空间分割成有限的“鸽巢”，你将能够保证传感器之间的邻近性。这项思维练习展示了鸽巢原理在机器人学和网络设计等领域中富有创造性的应用。[@problem_id:1409218]", "problem": "一家名为“Agri-Grid”的科技公司正在一个广阔的农业区域上部署一个自主环境传感器网络。这些传感器由一架高空无人机播撒，可以降落在指定正方形区域内的任何一点。该区域是一个边长为 $L = 250$ 米的完美正方形。\n\n为了让该网络能够执行特定的诊断性自检，要求至少有一对传感器的间距不超过 $d = 20$ 米。该公司希望确定，为*保证*无论传感器降落在正方形区域内的何处，该条件都能得到满足，他们必须部署的传感器的最小数量是多少。\n\n假设传感器是点，必须部署的传感器的最小整数数量是多少？", "solution": "我们需要找到最小的整数 $N$，使得无论 $N$ 个传感器（点）如何放置在边长为 $L=250$ 的正方形内，都至少有一对传感器的距离不超过 $d=20$。\n\n使用的原理：鸽巢原理。如果将正方形划分为 $M$ 个不相交的区域，并将 $N  M$ 个点放置在正方形内的任何位置，那么至少有一个区域包含至少两个点。如果每个区域的直径最多为 $d$，那么同一区域内的任意两点之间的距离最多为 $d$。\n\n构造一个合适的划分：将 $250 \\times 250$ 的正方形划分为边长为\n$$\na=\\frac{d}{\\sqrt{2}}.\n$$\n的更小的全等正方形。\n边长为 $a$ 的正方形的直径（两点之间的最大距离）是其对角线，长度等于 $a\\sqrt{2}=\\frac{d}{\\sqrt{2}}\\sqrt{2}=d$。因此，位于同一个小正方形内的任意两点之间的距离最多为 $d$。\n\n计算每条边上的小正方形数量：沿一条边的小正方形数量是\n$$\nm=\\left\\lceil \\frac{L}{a} \\right\\rceil = \\left\\lceil \\frac{L}{d/\\sqrt{2}} \\right\\rceil = \\left\\lceil \\frac{L\\sqrt{2}}{d} \\right\\rceil.\n$$\n因此，小正方形的总数是\n$$\nM=m^{2}=\\left\\lceil \\frac{L\\sqrt{2}}{d} \\right\\rceil^{2}.\n$$\n根据鸽巢原理，如果有 $N=M+1$ 个传感器，那么至少有两个传感器必须位于同一个小正方形内，因此它们之间的距离最多为 $d$。\n\n代入 $L=250$ 和 $d=20$：\n$$\nm=\\left\\lceil \\frac{250\\sqrt{2}}{20} \\right\\rceil=\\left\\lceil 12.5\\sqrt{2} \\right\\rceil=18,\n$$\n所以\n$$\nM=18^{2}=324,\n$$\n因此，所需的传感器数量是\n$$\nN=M+1=325.\n$$", "answer": "$$\\boxed{325}$$", "id": "1409218"}]}