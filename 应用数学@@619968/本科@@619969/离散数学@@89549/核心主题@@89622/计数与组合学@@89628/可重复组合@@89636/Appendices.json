{"hands_on_practices": [{"introduction": "理论需要通过实践来巩固。以下练习将引导你逐步掌握可重复组合的技巧，从基础模型到更复杂的约束问题。第一个练习是可重复组合问题的基石。我们将通过一个材料科学的场景[@problem_id:1349433]，探讨将相同物品分配到不同类别且没有任何限制的基本“隔板法”模型。这是理解如何构建此类计数问题的入门。", "problem": "一位材料科学家正在通过混合不同的元素来设计一种新合金。对于一个特定的样品，必须选择总共10个原子作为掺杂剂添加到晶格中。该科学家有4种不同类型的掺杂元素可无限量供应，我们称之为类型1、类型2、类型3和类型4。所得合金的性质仅取决于样品中每种类型掺杂原子的总数，而不取决于它们的添加顺序或在晶格中的具体位置。可以形成多少种不同的10原子掺杂混合物成分？", "solution": "设 $x_{1}, x_{2}, x_{3}, x_{4}$ 分别表示类型1、2、3、4的原子的数量。根据题意，原子总数固定为 $10$，且只有每种类型的数量有影响，因此我们必须计算以下方程的非负整数解的数量：\n$$\nx_{1}+x_{2}+x_{3}+x_{4}=10, \\quad x_{i} \\in \\mathbb{Z}_{\\ge 0}.\n$$\n根据隔板法原理，对于 $x_{i} \\in \\mathbb{Z}_{\\ge 0}$，方程 $x_{1}+\\cdots+x_{k}=n$ 的解的数量为\n$$\n\\binom{n+k-1}{k-1}.\n$$\n此处 $n=10$ 且 $k=4$，因此不同成分组合的数量为\n$$\n\\binom{10+4-1}{4-1}=\\binom{13}{3}.\n$$\n计算二项式系数：\n$$\n\\binom{13}{3}=\\frac{13!}{3!\\,10!}=\\frac{13 \\cdot 12 \\cdot 11}{3 \\cdot 2 \\cdot 1}=286.\n$$\n因此，共有286种不同的成分组合。", "answer": "$$\\boxed{286}$$", "id": "1349433"}, {"introduction": "在掌握了基础知识之后，这个练习引入了一个常见的现实约束：最小值要求。我们将借助一个源于统计物理学的玻色子分布模型[@problem_id:1349408]，学习一种关键技巧，将带有下限约束的问题转化为我们已经掌握的基本形式。这个练习能帮助你理解如何灵活调整问题以应用核心公式。", "problem": "在一个相互作用粒子系统的简化模型中，一位实验者正在研究12个相同的玻色子在5个不同的、非简并的能级上的分布。由于该特定系统中相互作用的性质，只有当5个能级中的每一个都被至少一个玻色子占据时，才能实现稳定的构型。根据这一约束条件，确定不同微观态的总数，这对应于玻色子在这些能级间分布的方式总数。", "solution": "我们用占据数来对构型进行建模。设五个不同的能级被标记，并令 $n_{1},n_{2},n_{3},n_{4},n_{5}$ 表示每个能级中不可区分的玻色子的数量。每个能级至少被一个玻色子占据的约束条件表示为\n$$\nn_{1}+n_{2}+n_{3}+n_{4}+n_{5}=12,\\quad n_{i}\\geq 1 \\text{ for } i=1,2,3,4,5.\n$$\n引入非负变量 $m_{i}$，通过 $m_{i}=n_{i}-1$ 定义，因此有 $m_{i}\\geq 0$ 并且\n$$\n\\sum_{i=1}^{5} m_{i} = 12-5 = 7.\n$$\n根据隔板法，$\\sum_{i=1}^{5} m_{i}=7$ 的非负整数解的数量由下式给出\n$$\n\\binom{7+5-1}{5-1}=\\binom{11}{4}.\n$$\n计算该二项式系数，\n$$\n\\binom{11}{4}=\\frac{11!}{4!\\,7!}=330.\n$$\n因此，满足该约束条件的不同微观态的总数为 $330$。", "answer": "$$\\boxed{330}$$", "id": "1349408"}, {"introduction": "我们的最后一个练习将处理一个更复杂、更贴近现实的情境，即同时存在最小值和最大值限制。通过一个投资组合管理问题[@problem_id:1356407]，我们将把处理下限约束的技巧与容斥原理结合起来，以解决上限约束问题，这是一种解决更广泛组合问题的强大方法。掌握这项技能将使你能够应对更多样化的计数挑战。", "problem": "一位投资组合经理的任务是建立一个专门的技术基金。该基金的策略要求从四家特定公司——A公司、B公司、C公司和D公司——总共购买恰好50股股票。为确保多元化并遵守基金章程，经理必须从这四家公司中的每一家至少购买5股。此外，根据内部风险评估政策，经理最多只允许购买10股A公司的股票。如果只考虑每家公司的股票数量，经理有多少种不同的方式来构建这个股票投资组合？", "solution": "设从A、B、C、D公司购买的股票数量分别为 $x_{A}, x_{B}, x_{C}, x_{D}$。约束条件为 $x_{A}+x_{B}+x_{C}+x_{D}=50$， $x_{A},x_{B},x_{C},x_{D}\\geq 5$，以及 $x_{A}\\leq 10$。定义 $y_{A}=x_{A}-5$, $y_{B}=x_{B}-5$, $y_{C}=x_{C}-5$, $y_{D}=x_{D}-5$，从而有 $y_{A},y_{B},y_{C},y_{D}\\geq 0$ 并且\n$$\ny_{A}+y_{B}+y_{C}+y_{D}=50-4\\cdot 5=30,\n$$\n并附加约束条件 $y_{A}\\leq 5$。\n\n如果没有对 $y_{A}$ 的上限约束，方程 $y_{A}+y_{B}+y_{C}+y_{D}=30$ 的非负整数解的数量可以通过隔板法公式计算为\n$$\n\\binom{30+4-1}{4-1}=\\binom{33}{3}.\n$$\n为了满足 $y_{A}\\leq 5$ 的条件，需要减去 $y_{A}\\geq 6$ 的解的数量。令 $z_{A}=y_{A}-6\\geq 0$，则不满足约束条件的解满足\n$$\nz_{A}+y_{B}+y_{C}+y_{D}=30-6=24,\n$$\n其解的数量为\n$$\n\\binom{24+4-1}{4-1}=\\binom{27}{3}.\n$$\n因此，有效的投资组合数量为\n$$\n\\binom{33}{3}-\\binom{27}{3}.\n$$\n分别计算每一项：\n$$\n\\binom{33}{3}=\\frac{33\\cdot 32\\cdot 31}{3!}=\\frac{33\\cdot 32\\cdot 31}{6}=5456,\n$$\n$$\n\\binom{27}{3}=\\frac{27\\cdot 26\\cdot 25}{3!}=\\frac{27\\cdot 26\\cdot 25}{6}=2925.\n$$\n因此，总的方式数为\n$$\n5456-2925=2531.\n$$", "answer": "$$\\boxed{2531}$$", "id": "1356407"}]}