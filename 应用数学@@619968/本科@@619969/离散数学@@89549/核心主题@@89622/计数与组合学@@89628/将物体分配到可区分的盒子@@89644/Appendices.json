{"hands_on_practices": [{"introduction": "这个练习将带你入门一个核心的组合问题：如何将不可区分的物品分配到可区分的盒子中，同时满足每个盒子的最低数量要求。我们将通过一个简单的变量代换，将看似复杂的问题转化为经典的“隔板法”模型，这是解决资源分配问题的基本技能。通过这个练习[@problem_id:1365531]，你将掌握处理下界约束的标准化技巧。", "problem": "一个名为“Titan Generative Model”（TGM）的项目的首席数据科学家需要为本周分配计算资源。总共有20个不可分割的计算时间单位（以万亿次周期小时为单位）的预算，需要分配给TGM的5个不同子模块。公司政策规定，任何子模块若要被激活并为每周的模型构建做出贡献，则必须为其分配至少2个万亿次周期小时。数据科学家有多少种不同的方法可以将全部20个万亿次周期小时的预算分配给5个子模块，同时确保每个子模块都满足此最低活动要求？", "solution": "设$x_{1},x_{2},x_{3},x_{4},x_{5}$是分配给五个不同子模块的整数配额。约束条件为，对于所有$i$，$x_i$是整数且$x_{i} \\ge 2$，并且\n$$\nx_{1}+x_{2}+x_{3}+x_{4}+x_{5}=20.\n$$\n对于$i=1,2,3,4,5$，引入非负整数变量$y_{i}=x_{i}-2$。则$y_{i} \\ge 0$并且\n$$\n\\sum_{i=1}^{5} y_{i}=\\left(\\sum_{i=1}^{5} x_{i}\\right)-10=20-10=10.\n$$\n方程$\\sum_{i=1}^{5} y_{i}=10$的非负整数解的个数由隔板法公式给出：\n$$\n\\binom{10+5-1}{5-1}=\\binom{14}{4}.\n$$\n计算二项式系数：\n$$\n\\binom{14}{4}=\\frac{14 \\cdot 13 \\cdot 12 \\cdot 11}{4 \\cdot 3 \\cdot 2 \\cdot 1}=1001.\n$$\n因此，有$1001$种有效的分配方式。", "answer": "$$\\boxed{1001}$$", "id": "1365531"}, {"introduction": "在掌握了基本的分配方法后，我们来挑战一个更复杂的约束条件。当分配要求不再是简单的“至少$N$个”，而是涉及两个盒子之间的数量比较时（例如，$x_1 > x_2$），我们该如何应对？这个练习[@problem_id:1365557]将引导你运用对称性原理，巧妙地将所有可能的情况分为几类，从而解决那些无法直接套用公式的分配问题，这展示了组合推理的灵活性和深刻性。", "problem": "一位系统架构师正在为一个新的分布式计算集群设计负载均衡协议。该集群由$k=5$台不同的服务器组成。现在有$n=12$个相同且独立的计算任务需要分配给这些服务器。设$x_i$为分配给服务器$i$的任务数量，其中$i=1, 2, 3, 4, 5$。所有任务都必须被分配，因此工作负载的分配必须满足方程$x_1 + x_2 + x_3 + x_4 + x_5 = 12$，其中每个$x_i$都是非负整数。\n\n由于前两台服务器之间有特殊的对等安排，协议必须强制执行一个分层负载约束：分配给服务器 1 的任务必须严格多于分配给服务器 2 的任务。\n\n请确定根据此协议，将这 12 个任务分配给 5 台服务器总共有多少种不同的方式。", "solution": "我们要求解方程$x_{1}+x_{2}+x_{3}+x_{4}+x_{5}=12$在约束条件$x_{1}>x_{2}$下的非负整数解$(x_{1},x_{2},x_{3},x_{4},x_{5})$的数量。根据隔板法，无约束解的总数为$N=\\binom{12+5-1}{5-1}=\\binom{16}{4}$。\n\n将所有解划分为三个不相交的集合：$A=\\{x_{1}>x_{2}\\}$，$B=\\{x_{1}<x_{2}\\}$和$C=\\{x_{1}=x_{2}\\}$。根据服务器 1 和 2 之间的对称性，可知$|A|=|B|$，因此\n$$\n|A|=\\frac{N-|C|}{2}.\n$$\n我们通过设$x_{1}=x_{2}=t$（其中$t\\geq 0$）来计算$|C|$。此时方程变为\n$$\n2t+x_{3}+x_{4}+x_{5}=12,\n$$\n因此，对于每个固定的$t$（其中$0\\leq t\\leq 6$），关于$x_{3},x_{4},x_{5}$的解的数量为$\\binom{(12-2t)+3-1}{3-1}=\\binom{14-2t}{2}$。所以\n$$\n|C|=\\sum_{t=0}^{6}\\binom{14-2t}{2}=\\binom{14}{2}+\\binom{12}{2}+\\binom{10}{2}+\\binom{8}{2}+\\binom{6}{2}+\\binom{4}{2}+\\binom{2}{2}=91+66+45+28+15+6+1=252.\n$$\n从而\n$$\n|A|=\\frac{\\binom{16}{4}-252}{2}=\\frac{1820-252}{2}=\\frac{1568}{2}=784.\n$$\n因此，有效的分配方案总数为$784$。", "answer": "$$\\boxed{784}$$", "id": "1365557"}, {"introduction": "现在，我们将注意力从不可区分的物品转向可区分的物品，例如将不同的员工分配到不同的项目中。这个问题引入了两个常见的复杂约束：某些成员必须被分在同一组，并且每个项目都必须有人负责。为了解决这个问题[@problem_id:1365587]，你需要首先将特定元素“捆绑”处理，然后运用强大的容斥原理来确保每个盒子都至少有一个元素，这是一个计算满射函数数量的经典应用。", "problem": "一家科技公司的项目经理负责将8名不同的软件开发人员分配到4个不同的正在进行的项目中。这些项目的代号分别为 Alpha、Bravo、Charlie 和 Delta。为使项目计划获得批准，该分配方案必须满足两个关键条件：\n1.  根据资源分配政策，每个项目必须至少分配一名开发人员。\n2.  针对一名特定的高级开发人员和一名特定的初级开发人员，设有一个指导计划。为确保有效协作，这两名开发人员必须被分配到同一个项目中。\n\n在这些约束条件下，经理有多少种不同的方式可以将开发人员分配到这些项目中？", "solution": "将特定的高级和初级开发人员标记为 $S$ 和 $J$。$S$ 和 $J$ 必须在同一个项目中的约束条件，允许我们在分配时将他们视为一个配对的单一实体。因此，我们有 $7$ 个实体（该配对加上其他 $6$ 名不同的开发人员）要分配到 $4$ 个不同的项目中，并要求每个项目至少接收一个实体。\n\n这相当于从一个包含7个元素的集合到一个包含4个元素的有标签集合的满射函数的数量，可以通过容斥原理来计算。设$A_{p}$为项目$p$为空的事件。那么，有效分配的数量为\n$$\nN=\\sum_{k=0}^{4}(-1)^{k}\\binom{4}{k}(4-k)^{7}.\n$$\n具体来说，\n$$\nN=4^{7}-\\binom{4}{1}3^{7}+\\binom{4}{2}2^{7}-\\binom{4}{3}1^{7}+\\binom{4}{4}0^{7}.\n$$\n计算每一项：\n$$\n4^{7}=16384,\\quad 3^{7}=2187,\\quad 2^{7}=128,\\quad 1^{7}=1,\\quad 0^{7}=0,\n$$\n以及\n$$\n\\binom{4}{1}=4,\\quad \\binom{4}{2}=6,\\quad \\binom{4}{3}=4,\\quad \\binom{4}{4}=1.\n$$\n因此，\n$$\nN=16384-4\\cdot 2187+6\\cdot 128-4\\cdot 1+1\\cdot 0=16384-8748+768-4=8400.\n$$\n因此，有 $8400$ 种有效的分配方式。", "answer": "$$\\boxed{8400}$$", "id": "1365587"}]}