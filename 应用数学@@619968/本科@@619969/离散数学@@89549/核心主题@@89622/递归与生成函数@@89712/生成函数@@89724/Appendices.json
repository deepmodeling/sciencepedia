{"hands_on_practices": [{"introduction": "生成函数最经典和基础的应用之一是求解线性递推关系。许多序列通过其前几项和递推公式来定义，但我们往往希望得到一个直接计算任意项的“封闭形式”公式。通过将整个序列编码为一个生成函数，我们可以将递推关系转化为一个代数方程，解出这个方程就能揭示序列的内在结构。这个练习将引导你掌握这一核心技巧，体会如何运用代数方法从递归定义中发掘出显式解。[@problem_id:447846]", "problem": "考虑由递推关系 $a_0 = 1$，$a_1 = 2$，以及对于 $n \\geq 2$，$a_n = 3a_{n-1} - 2a_{n-2}$ 定义的数列。确定该数列的第七项 $a_7$ 的值。证明你的结果满足递推关系和初始条件。将最终的数值答案用方框框出。", "solution": "写出递推关系和初始条件：\n$$a_0 = 1,\\quad a_1 = 2,\\quad a_n = 3a_{n-1} - 2a_{n-2}\\quad(n\\ge2).$$\n构造特征方程：\n$$r^2 - 3r + 2 = 0$$\n解出根：\n$$r = \\frac{3\\pm\\sqrt{9-8}}{2} = 2,1$$\n通解：\n$$a_n = A\\,2^n + B$$\n应用 $n=0$ 和 $n=1$：\n$$A + B = 1,\\quad 2A + B = 2$$\n解出常数：\n$$A = 1,\\quad B = 0$$\n闭式解：\n$$a_n = 2^n$$\n在 $n=7$ 处求值：\n$$a_7 = 2^7 = 128$$\n验证递推关系：\n$$3a_{6} - 2a_{5} = 3\\cdot2^6 - 2\\cdot2^5 = 128 = a_7$$", "answer": "$$\\boxed{128}$$", "id": "447846"}, {"introduction": "生成函数的真正威力在于其“构词法”：它们能够像乐高积木一样，将简单的组合对象构建成复杂的结构。在本练习中，我们将探索如何为通过拼接“模块”而形成的字符串进行计数。你将学习如何首先为基本模块（在本例中是特定类型的字符串）建立生成函数，然后利用序列构造的规则，将这些基本函数组合起来，得到最终复杂对象的生成函数。这个过程完美地体现了从对象结构到函数代数的转换思想。[@problem_id:1371605]", "problem": "我们将一组“块”定义为字母表 $\\{'0', '1', '2'\\}$ 上的字符串。一个块可以是以下两种类型之一：\n- **A类：** 字符串 '0'。\n- **B类：** 一个仅由符号 '1' 和 '2' 组成的非空字符串，且其中包含奇数个 '1'。\n\n我们通过将这些块中的一个或多个构成有序序列并进行拼接来构造新的字符串。令 $a_n$ 为不同有序块序列的数量，其拼接后字符串的总长度为 $n$。求其普通生成函数 $A(x) = \\sum_{n=0}^{\\infty} a_n x^n$。请将答案表示为关于 $x$ 的有理函数。", "solution": "我们使用普通生成函数进行计数，其中变量 $x$ 标记总长度。\n\n单个块可以是：\n- A类：字符串'0'，其长度为 $1$，贡献项为 $x$。\n- B类：一个由 {'1','2'} 构成的非空字符串，其中包含奇数个'1'。对于固定的长度 $k \\geq 1$，有 $2^k$ 个由 {'1','2'} 构成的字符串，根据奇偶对称性，恰好有一半的字符串含有奇数个 '1'，因此有 $2^{k-1}$ 个这样的字符串。因此B类块的贡献为\n$$\n\\sum_{k \\geq 1} 2^{k-1} x^{k} = \\frac{x}{1 - 2x}.\n$$\n因此，单个块的普通生成函数是\n$$\nB(x) = x + \\frac{x}{1 - 2x} = \\frac{2x(1 - x)}{1 - 2x}.\n$$\n\n一个合法的对象是一个或多个块的有序序列，所以根据序列构造法，其生成函数为\n$$\nA(x) = B(x) + B(x)^{2} + B(x)^{3} + \\cdots = \\frac{B(x)}{1 - B(x)}.\n$$\n代入 $B(x)$ 并化简，\n$$\n1 - B(x) = 1 - \\frac{2x(1 - x)}{1 - 2x} = \\frac{1 - 2x - 2x + 2x^{2}}{1 - 2x} = \\frac{1 - 4x + 2x^{2}}{1 - 2x},\n$$\n所以\n$$\nA(x) = \\frac{\\frac{2x(1 - x)}{1 - 2x}}{\\frac{1 - 4x + 2x^{2}}{1 - 2x}} = \\frac{2x(1 - x)}{1 - 4x + 2x^{2}}.\n$$\n该函数的常数项为零，这与至少有一个块的要求相符。", "answer": "$$\\boxed{\\frac{2x(1-x)}{1-4x+2x^{2}}}$$", "id": "1371605"}, {"introduction": "当计数问题涉及的是“可区分”或“带标签”的对象时，普通的生成函数需要被一种更强大的变体——指数生成函数所补充。这个问题要求我们将不同的作业分配给四个助教，同时满足特定的奇偶性约束。这类问题在现实世界中很常见，例如网络包的分发或任务调度。通过解决这个问题，你将学会一种处理带标签对象分配的通用策略，并深入理解如何将复杂的约束条件转化为生成函数中的代数项。[@problem_id:1369410]", "problem": "一位离散数学课程的教授有 $n$ 个不同的家庭作业问题需要批改。教授需要将这 $n$ 个问题全部分配给四位助教 (TA)：Alex、Beth、Charles 和 Diana。分配方式必须满足以下条件：\n1. Alex 必须被分配奇数个问题。\n2. Beth 也必须被分配奇数个问题。\n3. Charles 可以被分配任意数量的问题（包括零个）。\n4. Diana 可以被分配任意数量的问题（包括零个）。\n\n对于任意整数 $n \\ge 2$，求分配这 $n$ 个问题的总方法数的一个封闭形式表达式。", "solution": "设每次分配由数量 $(n_{A}, n_{B}, n_{C}, n_{D})$ 指定，满足 $n_{A} + n_{B} + n_{C} + n_{D} = n$，其中 $n_{A}$ 是分配给 Alex 的问题数量，以此类推。我们要求 $n_{A}$ 和 $n_{B}$ 为奇数。\n\n使用奇偶性指示函数 $I_{\\text{odd}}(m) = \\frac{1 - (-1)^{m}}{2}$。所求的总数为\n$$\n\\sum_{\\text{all assignments}} I_{\\text{odd}}(n_{A})\\, I_{\\text{odd}}(n_{B})\n= \\sum_{\\text{all assignments}} \\frac{1}{4}\\bigl(1 - (-1)^{n_{A}} - (-1)^{n_{B}} + (-1)^{n_{A} + n_{B}}\\bigr).\n$$\n交换求和与线性组合的顺序，\n$$\n\\frac{1}{4}\\left[\\sum 1 \\;-\\; \\sum (-1)^{n_{A}} \\;-\\; \\sum (-1)^{n_{B}} \\;+\\; \\sum (-1)^{n_{A}+n_{B}}\\right].\n$$\n每一个和式都可以通过利用 $n$ 个不同问题的独立性来计算。对于单个问题，其对 $\\sum 1$ 的贡献是 $4$（可以分配给 A, B, C, D），因此 $\\sum 1 = 4^{n}$。\n\n对于 $\\sum (-1)^{n_{A}}$，每个问题如果分配给 A 则贡献 $-1$，如果分配给 B, C 或 D 则贡献 $+1$，所以单个问题的和是 $-1 + 1 + 1 + 1 = 2$，得到 $\\sum (-1)^{n_{A}} = 2^{n}$。类似地，$\\sum (-1)^{n_{B}} = 2^{n}$。\n\n对于 $\\sum (-1)^{n_{A} + n_{B}}$，每个问题如果分配给 A 或 B 则贡献 $-1$，如果分配给 C 或 D 则贡献 $+1$，所以单个问题的和是 $-1 - 1 + 1 + 1 = 0$，因此对于 $n \\ge 1$（特别是对于 $n \\ge 2$），有 $\\sum (-1)^{n_{A} + n_{B}} = 0^{n} = 0$。\n\n因此，有效分配的总数为\n$$\n\\frac{1}{4}\\bigl(4^{n} - 2^{n} - 2^{n} + 0\\bigr) \\;=\\; \\frac{1}{4}\\bigl(4^{n} - 2^{n+1}\\bigr) \\;=\\; 4^{\\,n-1} - 2^{\\,n-1}.\n$$\n这个封闭形式对所有整数 $n \\ge 2$ 成立。", "answer": "$$\\boxed{4^{n-1}-2^{n-1}}$$", "id": "1369410"}]}