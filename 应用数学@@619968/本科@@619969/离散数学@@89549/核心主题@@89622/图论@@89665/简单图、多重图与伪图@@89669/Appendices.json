{"hands_on_practices": [{"introduction": "在构建复杂的网络之前，检验设计在根本上是否可行至关重要。第一个练习将介绍一个强大而简单的工具：握手引理。你将应用这一原理来评估一个假设的网络设计，以快速排除一个不可能的配置，这是图论建模中的一项基本技能。[@problem_id:1400592]", "problem": "一个网络工程师团队正在为一个新的去中心化点对点通信系统设计架构。在这个系统中，每台计算机表示为一个“节点”，两台计算机之间的直接双向通信信道表示为一条“连接”。该设计遵循两条严格的规则：\n1.  一条连接必须连接两个不同的节点；节点不能与自身相连。\n2.  任意一对节点之间最多只能有一条直接连接。\n\n这些规则意味着网络拓扑可以被建模为一个简单图。该团队提出了几种可能的配置，每种配置都指定了节点的总数以及每个节点必须拥有的连接数。你的任务是找出以下哪种提议的设计是根本不可能构建的。\n\nA. 一个有10个节点的网络，其中每个节点恰好有3条连接。\nB. 一个有7个节点的网络，其中每个节点恰好有4条连接。\nC. 一个有9个节点的网络，其中每个节点恰好有5条连接。\nD. 一个有12个节点的网络，其中每个节点恰好有2条连接。\nE. 一个有6个节点的网络，其中五个节点各有3条连接，剩下的一个节点有1条连接。", "solution": "我们将网络建模为一个简单图。根据握手引理，所有顶点的度数之和等于边数的两倍，因此是偶数。对于一个有 $n$ 个顶点的 $k$-正则图，总度数和为 $nk$，所以一个必要条件是 $nk$ 为偶数；特别地，如果 $k$ 是奇数，那么 $n$ 必须是偶数。\n\n分析每个选项：\n\n对于选项 A：$n=10$，每个点的度为 $3$。总度数和为 $10 \\cdot 3 = 30$，是偶数，并且由于 $3$ 是奇数，$n$ 是偶数，奇偶性条件成立。存在一个具体的构造：取一个 $10$-圈，并添加一个完美匹配，以获得一个 $3$-正则简单图。因此 A 是可能的。\n\n对于选项 B：$n=7$，每个点的度为 $4$。总度数和为 $7 \\cdot 4 = 28$，是偶数。考虑其补图，它将是一个有 $7$ 个顶点的 $2$-正则图。一个 $2$-正则简单图是若干不相交的圈的并集，而 $7$ 个顶点可以实现为一个 $7$-圈或一个 $3$-圈和一个 $4$-圈的并集，因此这样的补图存在。所以，一个有 $7$ 个顶点的 $4$-正则图存在。因此 B 是可能的。\n\n对于选项 C：$n=9$，每个点的度为 $5$。总度数和为 $9 \\cdot 5 = 45$，是奇数。根据握手引理，这对于简单图是不可能的。等价地，由于 $5$ 是奇数， $n$ 必须是偶数，但 $9$ 是奇数。因此 C 是不可能的。\n\n对于选项 D：$n=12$，每个点的度为 $2$。一个 $2$-正则简单图是若干不相交的圈的并集。对于 $12$ 个顶点，可以构造一个单独的 $12$-圈，所以这样的图存在。因此 D 是可能的。\n\n对于选项 E：度数分别为 $3,3,3,3,3,1$。度数和为 $5 \\cdot 3 + 1 = 16$，是偶数。应用 Havel–Hakimi 过程来逐步验证其可图性：\n从 $(3,3,3,3,3,1)$ 开始。去掉一个 $3$ 并从接下来的三个数中各减去 $1$，得到 $(2,2,2,3,1)$，排序后为 $(3,2,2,2,1)$。去掉一个 $3$ 并从接下来的三个数中各减去 $1$，得到 $(1,1,1,1)$。去掉一个 $1$ 并从接下来的一个数中减去 $1$，得到 $(0,1,1)$，排序后为 $(1,1,0)$。去掉一个 $1$ 并从接下来的一个数中减去 $1$，得到 $(0,0)$。此过程终止于全零，因此该序列是可图的。因此 E 是可能的。\n\n因此，唯一不可能的配置是选项 C。", "answer": "$$\\boxed{C}$$", "id": "1400592"}, {"introduction": "一个有效的度序列告诉我们一个图可能存在，但它并不能描述其唯一的结构。这个练习超越了简单的存在性问题，旨在探讨图同构的概念，特别是在多重图中。你将发现不同的连接模式（例如多重边）如何能产生具有完全相同度序列但在结构上截然不同的图。[@problem_id:1400602]", "problem": "在图论中，我们可以定义几种类型的图。一个**多重图**由一个顶点集 $V$ 和一个边多重集 $E$ 组成。每条边是两个不同顶点的无序对。由于 $E$ 是一个多重集，因此允许两个相同顶点之间存在多条边，但不允许存在环（即连接顶点自身的边）。简单图是多重图的一个特例，其中任何边的重数最多为一。\n\n一个顶点的**度**是与该顶点相关联的边的数量，其中重数为 $k$ 的边对其每个端点的度贡献为 $k$。图的**度序列**是其所有顶点的度的列表，通常按非递增顺序排序。\n\n如果存在一个保持边重数结构的双射（一对一的对应关系）$f: V_1 \\to V_2$，则称两个多重图 $G_1 = (V_1, E_1)$ 和 $G_2 = (V_2, E_2)$ 是**同构**的。也就是说，对于 $V_1$ 中的任意一对顶点 $u, v$，在 $G_1$ 中 $u$ 和 $v$ 之间的边数必须等于在 $G_2$ 中 $f(u)$ 和 $f(v)$ 之间的边数。\n\n考虑顶点集为 $V = \\{1, 2, 3, 4\\}$ 的多重图。每个图的边集都以顶点对的多重集形式给出。以下哪个选项给出了一对**不同构**且度序列均为 $(3, 3, 2, 2)$ 的多重图 $(G_A, G_B)$？\n\nA.\n$G_A$ 边集: $\\{\\{1,2\\}, \\{1,3\\}, \\{1,4\\}, \\{2,3\\}, \\{2,4\\}\\}$\n$G_B$ 边集: $\\{\\{1,2\\}, \\{1,2\\}, \\{1,3\\}, \\{2,4\\}, \\{3,4\\}\\}$\n\nB.\n$G_A$ 边集: $\\{\\{1,2\\}, \\{1,2\\}, \\{1,3\\}, \\{2,4\\}, \\{3,4\\}\\}$\n$G_B$ 边集: $\\{\\{1,2\\}, \\{1,2\\}, \\{2,3\\}, \\{3,4\\}, \\{4,1\\}\\}$\n\nC.\n$G_A$ 边集: $\\{\\{1,2\\}, \\{1,3\\}, \\{1,4\\}, \\{2,3\\}, \\{2,4\\}\\}$\n$G_B$ 边集: $\\{\\{1,2\\}, \\{1,3\\}, \\{1,4\\}, \\{2,3\\}\\}$\n\nD.\n$G_A$ 边集: $\\{\\{1,2\\}, \\{1,3\\}, \\{1,4\\}, \\{2,3\\}, \\{2,4\\}\\}$\n$G_B$ 边集: $\\{\\{1,2\\}, \\{2,3\\}, \\{3,4\\}, \\{4,1\\}, \\{1,3\\}\\}$", "solution": "我们通过计算 $G_{A}$ 和 $G_{B}$ 的度序列并检查同构不变量来评估每个选项。\n\n选项 A:\n- $G_{A}$ 的边集为 $\\{1,2\\}, \\{1,3\\}, \\{1,4\\}, \\{2,3\\}, \\{2,4\\}$（简单图，是 $K_4$ 缺少边 $\\{3,4\\}$）。各点度为：$\\deg(1)=3$, $\\deg(2)=3$, $\\deg(3)=2$, $\\deg(4)=2$，因此度序列为 $(3,3,2,2)$。\n- $G_{B}$ 有两条边 $\\{1,2\\}$，以及 $\\{1,3\\}, \\{2,4\\}, \\{3,4\\}$。各点度为：$\\deg(1)=2+1=3$, $\\deg(2)=2+1=3$, $\\deg(3)=1+1=2$, $\\deg(4)=1+1=2$，因此度序列为 $(3,3,2,2)$。\n- 同构测试：$G_{A}$ 是简单图（没有多重边），而 $G_{B}$ 有一条二重边。边的重数是同构下的不变量，所以这两个图是不同构的。\n\n选项 B:\n- $G_{A}$：与选项 A 中的 $G_{B}$ 相同，度序列为 $(3,3,2,2)$。\n- $G_{B}$ 有两条边 $\\{1,2\\}$，以及 $\\{2,3\\}, \\{3,4\\}, \\{4,1\\}$。各点度为：$\\deg(1)=2+1=3$, $\\deg(2)=2+1=3$, $\\deg(3)=1+1=2$, $\\deg(4)=1+1=2$，因此度序列为 $(3,3,2,2)$。\n- 同构性：在两个图中，度为3的顶点（1和2）之间都有一条重数为2的边。在 $G_A$ 中，顶点1还连接到3，顶点2还连接到4，且顶点3和4之间有边。在 $G_B$ 中，顶点1还连接到4，顶点2还连接到3，且顶点3和4之间有边。定义映射 $f(1)=1, f(2)=2, f(3)=4, f(4)=3$。这个映射保持了所有邻接关系和边重数，因此它们是同构的。不可接受。\n\n选项 C:\n- $G_{A}$：与选项 A 中的 $G_{A}$ 一样，度序列为 $(3,3,2,2)$。\n- $G_{B}$ 的边集为 $\\{1,2\\}, \\{1,3\\}, \\{1,4\\}, \\{2,3\\}$。各点度为：$\\deg(1)=3$, $\\deg(2)=2$, $\\deg(3)=2$, $\\deg(4)=1$，因此度序列为 $(3,2,2,1)$，而不是 $(3,3,2,2)$。不可接受。\n\n选项 D:\n- $G_{A}$：与选项 A 中的 $G_{A}$ 一样，度序列为 $(3,3,2,2)$。\n- $G_{B}$ 的边集为 $\\{1,2\\}, \\{2,3\\}, \\{3,4\\}, \\{4,1\\}, \\{1,3\\}$；这是一个五边形加一条对角线，是简单图。各点度为 $\\deg(1)=3$, $\\deg(2)=2$, $\\deg(3)=3$, $\\deg(4)=2$，得到 $(3,3,2,2)$。\n- 同构性：$G_{A}$ 和 $G_{B}$ 都是简单图。$G_{A}$ 是 $K_{4}$ 缺少一条边（非边是 $\\{3,4\\}$）。$G_B$ 也是 $K_4$ 缺少一条边（非边是 $\\{2,4\\}$）。从一个完全图 $K_4$ 中移除任意一条边所得到的图都是同构的。例如，映射 $3 \\mapsto 2, 4 \\mapsto 4, 1 \\mapsto 1, 2 \\mapsto 3$ 将 $G_{A}$ 变为 $G_{B}$。不可接受。\n\n因此，只有选项 A 给出了一对度序列均为 $(3,3,2,2)$ 的不同构图。", "answer": "$$\\boxed{A}$$", "id": "1400602"}, {"introduction": "我们最后的练习将深入探讨最通用的图类型——伪图，它既允许多重边也允许自环。这个练习挑战你用算法的思维来思考图的构造。通过将顶点度 $d_i$ 分解为来自环和常规边的部分，你将确定在给定的度序列下，一个图最多能支持多少个环 $L$。[@problem_id:1522847]", "problem": "在图论中，伪图（pseudograph）是一种可以有连接相同两个顶点的多重边，也可以有自环（即连接顶点自身的边）的图。顶点 $v_i$ 的度 $d_i$ 是指在该顶点上的边的端点数。注意，顶点 $v_i$ 上的一个自环被认为其两个端点都在 $v_i$ 上，因此对度 $d_i$ 的贡献为2。\n\n一个非负整数的非增序列 $D = (d_1, d_2, \\ldots, d_n)$ 被称为是“$L$-可实现的”（L-realizable），如果存在一个有 $n$ 个顶点的伪图，其度序列为 $D$，且总共包含恰好 $L$ 个自环。\n\n考虑度序列 $D = (11, 9, 9, 8, 7, 6, 4, 4)$。确定该序列是 $L$-可实现的 $L$ 的最大可能整数值。", "solution": "设顶点 $v_{i}$ 处的自环数为 $l_{i}$。每个自环对其所在顶点的度贡献为 $2$，因此在顶点 $v_i$ 处，需要由非自环边实现的剩余度为\n$$\nr_{i}=d_{i}-2l_{i}, \\quad r_{i}\\geq 0.\n$$\n由于一个自环在其顶点处会用掉 $2$ 个单位的度，我们有对每个顶点的约束：\n$$\n0\\leq l_{i}\\leq \\left\\lfloor \\frac{d_{i}}{2}\\right\\rfloor.\n$$\n将所有顶点相加，得到总自环数的全局上界：\n$$\nL=\\sum_{i=1}^{n} l_{i}\\leq \\sum_{i=1}^{n}\\left\\lfloor \\frac{d_{i}}{2}\\right\\rfloor.\n$$\n对于 $D=(11,9,9,8,7,6,4,4)$，计算：\n$$\n\\left\\lfloor \\frac{11}{2}\\right\\rfloor=5,\\quad \\left\\lfloor \\frac{9}{2}\\right\\rfloor=4,\\quad \\left\\lfloor \\frac{9}{2}\\right\\rfloor=4,\\quad \\left\\lfloor \\frac{8}{2}\\right\\rfloor=4,\n$$\n$$\n\\left\\lfloor \\frac{7}{2}\\right\\rfloor=3,\\quad \\left\\lfloor \\frac{6}{2}\\right\\rfloor=3,\\quad \\left\\lfloor \\frac{4}{2}\\right\\rfloor=2,\\quad \\left\\lfloor \\frac{4}{2}\\right\\rfloor=2,\n$$\n因此\n$$\n\\sum_{i=1}^{8}\\left\\lfloor \\frac{d_{i}}{2}\\right\\rfloor=5+4+4+4+3+3+2+2=27.\n$$\n所以 $L\\leq 27$。\n\n接下来需要证明 $L=27$ 是可以达到的。取\n$$\nl_{i}=\\left\\lfloor \\frac{d_{i}}{2}\\right\\rfloor \\quad \\text{对所有 } i,\n$$\n那么剩余度为\n$$\nr_{i}=d_{i}-2\\left\\lfloor \\frac{d_{i}}{2}\\right\\rfloor=\\begin{cases}\n1 & \\text{如果 } d_{i}\\text{ 是奇数},\\\\\n0 & \\text{如果 } d_{i}\\text{ 是偶数}.\n\\end{cases}\n$$\n在给定的序列中，奇数项是 $11,9,9,7$，所以剩余度序列为\n$$\n(r_{1},r_{2},r_{3},r_{4},r_{5},r_{6},r_{7},r_{8})=(1,1,1,0,1,0,0,0).\n$$\n总剩余度和为\n$$\nR=\\sum_{i=1}^{8} r_{i}=4.\n$$\n这个剩余度序列需要被一个没有自环的多重图实现。由于所有顶点的度数之和必须是偶数，这是可实现的必要条件。这里总和是4，是偶数。更进一步，我们有四个度为1的顶点，其余顶点的度为0。我们可以将这四个度为1的顶点两两配对，形成两条边，从而实现这个度序列。例如，连接 $v_1$ 和 $v_2$，以及 $v_3$ 和 $v_5$。\n\n因此，选择 $l_{i}=\\left\\lfloor d_{i}/2\\right\\rfloor$ 的构型是可实现的，这给出了一个总自环数为\n$$\nL=\\sum_{i=1}^{8} l_{i}=27\n$$\n的伪图。根据前面的上界，这是最大值。", "answer": "$$\\boxed{27}$$", "id": "1522847"}]}