{"hands_on_practices": [{"introduction": "理论学习之后，最好的巩固方式就是亲自动手。这个练习将带你应用 Prim 算法，在一个模拟的火星殖民地通信网络建设场景中，逐步构建一个最小生成树。通过这个实践，你将掌握如何从一个初始顶点出发，贪心地选择权重最小的边来扩展树，直到连接所有顶点，这正是 Prim 算法的核心思想。[@problem_id:1384198]", "problem": "一家航空航天工程公司受命为新的火星殖民地设计一个基础通信网络。该网络必须连接六个关键定居点，确保数据可以在任意两个地点之间直接或间接地中继传输。在任意两个定居点之间建立直接通信链接的成本由一个“延迟-能量成本指数”给出，这是一个综合了信号传播时间、大气干扰和功率需求的无量纲量。指数越低表示链接效率越高。\n\n这六个定居点是：Ares Prime (A)、Valles Marineris Base (B)、Olympus Mons Observatory (C)、Hellas Planitia Colony (D)、Syrtis Major Hub (E) 和 Elysium Outpost (F)。\n\n潜在的通信链接及其相关成本指数如下：\n- A到B：5\n- A到C：6\n- A到D：4\n- B到C：2\n- B到E：9\n- C到D：2\n- C到E：5\n- C到F：8\n- D到F：7\n- E到F：3\n\n为确保网络拓扑的标准化和可验证性，必须遵循一个构建协议。使用 Prim 算法，从定居点 Ares Prime (A) 开始，确定构建一个连接所有六个定居点的网络的最小可能总成本指数。", "solution": "我们将这些定居点建模为无向加权图的顶点，将潜在的链接建模为具有给定权重（成本指数）的边。Prim 算法通过从一个指定的顶点开始，并重复添加连接当前树与一个新顶点的最小权重边来构建最小生成树。\n\n从 Ares Prime (A) 开始初始化：设当前树的顶点集为 $S = \\{A\\}$。离开 $S$ 的边有权重为 5 的 $A\\text{-}B$、权重为 6 的 $A\\text{-}C$ 和权重为 4 的 $A\\text{-}D$。其中权重最小的是 $A\\text{-}D$，权重为 4，因此添加顶点 D。现在 $S = \\{A,D\\}$，累计总和为 4。\n\n从 $S = \\{A,D\\}$ 出发，连接到 $V \\setminus S$ 的候选边有权重为 5 的 $A\\text{-}B$、权重为 6 的 $A\\text{-}C$、权重为 2 的 $D\\text{-}C$ 和权重为 7 的 $D\\text{-}F$。其中权重最小的是 $C\\text{-}D$，权重为 2，因此添加顶点 C。现在 $S = \\{A,D,C\\}$，累计总和为 $4+2=6$。\n\n从 $S = \\{A,D,C\\}$ 出发，候选边有权重为 2 的 $C\\text{-}B$、权重为 5 的 $C\\text{-}E$、权重为 8 的 $C\\text{-}F$、权重为 7 的 $D\\text{-}F$ 和权重为 5 的 $A\\text{-}B$。其中权重最小的是 $B\\text{-}C$，权重为 2，因此添加顶点 B。现在 $S = \\{A,D,C,B\\}$，累计总和为 $4+2+2=8$。\n\n从 $S = \\{A,D,C,B\\}$ 出发，候选边有权重为 5 的 $C\\text{-}E$、权重为 8 的 $C\\text{-}F$、权重为 7 的 $D\\text{-}F$ 和权重为 9 的 $B\\text{-}E$。其中权重最小的是 $C\\text{-}E$，权重为 5，因此添加顶点 E。现在 $S = \\{A,D,C,B,E\\}$，累计总和为 $4+2+2+5=13$。\n\n从 $S = \\{A,D,C,B,E\\}$ 出发，剩下的候选边有权重为 3 的 $E\\text{-}F$、权重为 7 的 $D\\text{-}F$ 和权重为 8 的 $C\\text{-}F$。其中权重最小的是 $E\\text{-}F$，权重为 3，因此添加顶点 F。现在所有六个定居点都已连接，算法终止。\n\n最小总成本指数是所选边权重的总和：\n$$4 + 2 + 2 + 5 + 3 = 16.$$", "answer": "$$\\boxed{16}$$", "id": "1384198"}, {"introduction": "一个网络的构建成本常常会发生变化。这个练习引导我们思考一个深刻的问题：当所有连接的成本都按统一规则（线性变换 $w'(e) = a \\cdot w(e) + b$）调整时，我们最初规划的最优网络结构（最小生成树）是否依然最优？通过解决这个问题，你将发现最小生成树的一个重要稳定性属性，即在正线性变换下其结构保持不变。理解这一点对于在多变的环境中进行稳健的规划至关重要。[@problem_id:1522153]", "problem": "一家电信公司正计划建立一个新的光纤网络来连接 $N$ 个城市。该网络可以建模为一个连通无向图 $G=(V, E)$，其中 $V$ 是城市集合 ($|V| = N$)，$E$ 是城市对之间可能的光纤链路集合。对于每条可能的链路 $e \\in E$，都存在一个相关的初始安装成本 $w(e) > 0$。该公司将构建一个对应于该图的最小生成树 (MST) 的网络，以最低的总安装成本连接所有城市。这个初始网络的总成本记为 $W_{MST}$。\n\n在施工开始前，一系列新的法规和供应链变化影响了成本结构。现在，安装任何链路 $e$ 的新成本 $w'(e)$ 是原始成本的线性函数：$w'(e) = a \\cdot w(e) + b$，其中 $a$ 和 $b$ 是实数常量，且 $a > 0$。公司决定根据这些新成本重新评估其网络计划，并将构建对应于新权重 $w'(e)$ 的新最小生成树。\n\n确定这个新最小生成树的总成本。用包含 $N$、$a$、$b$ 和 $W_{MST}$ 的符号表达式来表示你的答案。", "solution": "给定一个连通无向图 $G=(V,E)$，其中 $|V|=N$，并且对于所有 $e\\in E$，边权重 $w(e)>0$。设 $W_{MST}$ 表示在权重 $w(e)$ 下最小生成树（MST）的总权重。权重被转换为 $w'(e)=a\\,w(e)+b$，其中 $a>0$ 且 $b\\in\\mathbb{R}$。我们需要求出在权重 $w'$ 下最小生成树的总成本，并用 $N$、$a$、$b$ 和 $W_{MST}$ 表示。\n\n首先，我们回顾一些基本事实：\n- 任何包含 $N$ 个顶点的生成树 $T$ 都有恰好 $N-1$ 条边：$|T|=N-1$。\n- 在权重 $w$ 下，$T$ 的总成本是 $W(T)=\\sum_{e\\in T} w(e)$。\n- 在权重 $w'$ 下，$T$ 的总成本是\n$$\nW'(T)=\\sum_{e\\in T} w'(e)=\\sum_{e\\in T}\\big(a\\,w(e)+b\\big)=a\\sum_{e\\in T}w(e)+b\\sum_{e\\in T}1=a\\,W(T)+b\\,(N-1).\n$$\n\n因此，对于任何生成树 $T$，\n$$\nW'(T)=a\\,W(T)+b\\,(N-1).\n$$\n对所有生成树取最小值，并利用 $N$ 是固定的，因此 $N-1$ 对所有树都是常数，我们得到\n$$\n\\min_{T} W'(T)=\\min_{T}\\big(a\\,W(T)+b\\,(N-1)\\big)=a\\min_{T}W(T)+b\\,(N-1)=a\\,W_{MST}+b\\,(N-1).\n$$\n由于 $a>0$，最小化问题的解集保持不变（仿射增变换保持了总权重的顺序），但即使不借助排序，常数项 $b\\,(N-1)$ 也与 $T$无关，而正数缩放因子 $a$ 保持了 $W(T)$ 的最小化。因此，新的最小生成树的总成本是\n$$\na\\,W_{MST}+b\\,(N-1).\n$$", "answer": "$$\\boxed{a\\,W_{MST}+b\\,(N-1)}$$", "id": "1522153"}, {"introduction": "在现实世界的工程项目中，拥有备用方案至关重要。这个高级练习将挑战你跳出寻找单一最优解的思维定式，去寻找“第二好”的解决方案——即第二小生成树。通过分析最小生成树 $T$ 与非树边 $e$ 构成的环路，你可以系统地找到成本仅次于最优解的网络配置。这个过程不仅能加深你对最小生成树割集和环路性质的理解，也为你解决更复杂的网络优化问题提供了有力的工具。[@problem_id:1384171]", "problem": "一家名为 ConnectAll 的电信公司正计划建设一个光纤网络，以连接七个主要的数据中心，分别标记为 A、B、C、D、E、F 和 G。目标是确保所有数据中心直接或间接地连接起来，形成一个单一的网络。在任意两个中心之间铺设直连光纤电缆的成本是已知的。为了最小化初始投资，主网络设计必须是一个总成本最小的生成树。\n\n出于冗余和未来规划的考虑，ConnectAll 的工程团队还必须确定一个备用网络配置。这个备用网络也必须是一个连接所有七个数据中心的生成树，但其总成本必须是在所有成本*严格大于*主最小成本设计的生成树中最小的。这被称为次小成本生成树。\n\n可用的直连线路及其成本（单位：千美元）如下：\n- (A, B): 2\n- (A, C): 3\n- (B, C): 4\n- (B, D): 7\n- (C, D): 1\n- (C, E): 6\n- (D, E): 5\n- (D, F): 8\n- (E, F): 10\n- (E, G): 9\n- (F, G): 11\n\n计算次小成本生成树的总成本。请用一个以千美元为单位的数字表示你的答案。", "solution": "我们将七个数据中心建模为顶点，将给定的直连线路建模为带权边。主要任务是使用 Kruskal 算法找到最小生成树 (MST)，然后根据环性质，通过检查单边替换来计算次小生成树。\n\n首先，将所有边按权重排序并应用 Kruskal 算法，按权重递增的顺序添加边，同时避免形成环：\n- 添加成本为 $1$ 的边 $(C,D)$。\n- 添加成本为 $2$ 的边 $(A,B)$。\n- 添加成本为 $3$ 的边 $(A,C)$。\n- 跳过成本为 $4$ 的边 $(B,C)$（会形成环）。\n- 添加成本为 $5$ 的边 $(D,E)$。\n- 跳过成本为 $6$ 的边 $(C,E)$（形成环）。\n- 跳过成本为 $7$ 的边 $(B,D)$（形成环）。\n- 添加成本为 $8$ 的边 $(D,F)$。\n- 添加成本为 $9$ 的边 $(E,G)$。\n\n这就得到了最小生成树的边集：\n$\\{(C,D),(A,B),(A,C),(D,E),(D,F),(E,G)\\}$，总成本为\n$$\nw(T)=1+2+3+5+8+9=28.\n$$\n\n要找到次小生成树，我们利用这样一个性质：对于每条不属于最小生成树的边 $e=(u,v)$，将其添加到 $T$ 中会形成一个唯一的环；从该环中移除在 $T$ 中连接 $u$ 和 $v$ 的路径上的最大权重边，会得到一棵新的生成树。其成本为\n$$\nw(T')=w(T)+w(e)-\\max\\{\\text{edge weights on the path between }u\\text{ and }v\\text{ in }T\\}.\n$$\n对每条不属于最小生成树的边，计算这个值：\n\n- 对于权重为 $4$ 的边 $(B,C)$：路径 $B$–$A$–$C$ 上的边权重为 $2, 3$，所以最大值为 $3$。那么\n$$\nw(T')=28+4-3=29.\n$$\n- 对于权重为 $6$ 的边 $(C,E)$：路径 $C$–$D$–$E$ 上的边权重为 $1, 5$，所以最大值为 $5$。那么\n$$\nw(T')=28+6-5=29.\n$$\n- 对于权重为 $7$ 的边 $(B,D)$：路径 $B$–$A$–$C$–$D$ 上的边权重为 $2, 3, 1$，所以最大值为 $3$。那么\n$$\nw(T')=28+7-3=32.\n$$\n- 对于权重为 $10$ 的边 $(E,F)$：路径 $E$–$D$–$F$ 上的边权重为 $5, 8$，所以最大值为 $8$。那么\n$$\nw(T')=28+10-8=30.\n$$\n- 对于权重为 $11$ 的边 $(F,G)$：路径 $F$–$D$–$E$–$G$ 上的边权重为 $8, 5, 9$，所以最大值为 $9$。那么\n$$\nw(T')=28+11-9=30.\n$$\n\n在这些候选项中，严格大于 $28$ 的最小成本是 $29$。因此，次小成本生成树的总成本是 $29$（单位：千美元）。", "answer": "$$\\boxed{29}$$", "id": "1384171"}]}