{"hands_on_practices": [{"introduction": "理论知识需要通过实践来巩固。本节的第一个练习将帮助你运用有向图连通性的核心定义。通过区分弱连通、强连通和强连通分量这些不同层级的概念，你将为更复杂的图分析打下坚实的基础。这是一个检验你是否已准确掌握基本概念的绝佳机会。[@problem_id:1359484]", "problem": "一个有向图（digraph）$G = (V, E)$ 由一个顶点集 $V$ 和一个边集 $E$ 组成，其中每条边是一个表示有向连接的顶点有序对。我们定义一些与连通性相关的关键属性：\n\n1.  如果对于 $V$ 中每一对不同的顶点 $(u, v)$，都存在一条从 $u$ 到 $v$ 的有向路径和一条从 $v$ 到 $u$ 的有向路径，那么该有向图是**强连通**的。\n2.  如果将有向图的所有有向边替换为无向边后，得到的无向图是连通的（即，忽略边的方向，每对顶点之间都存在路径），那么该有向图是**弱连通**的。\n3.  有向图的**强连通分量 (SCC)** 是一个极大的顶点集合，其中集合内的任意一个顶点都可以通过有向路径到达集合内的任何其他顶点。图中的每个顶点都恰好属于一个 SCC。\n\n考虑以下四个有向图，它们的顶点集均为 $V = \\{1, 2, 3, 4\\}$。\n\nA. $E_A = \\{(1, 2), (2, 1), (2, 3), (3, 4), (4, 3)\\}$\n\nB. $E_B = \\{(1, 2), (2, 3), (3, 4), (4, 1)\\}$\n\nC. $E_C = \\{(1, 2), (2, 1), (3, 4)\\}$\n\nD. $E_D = \\{(1, 2), (2, 3), (3, 4)\\}$\n\n这些图中，哪一个图是弱连通的、非强连通的，并且恰好有两个强连通分量？", "solution": "我们必须在给定的有向图中找出那些弱连通、非强连通且恰好有两个强连通分量 (SCC) 的图。对于顶点集为 $V=\\{1,2,3,4\\}$ 且边集为 $E$ 的每个图，我们检查：\n(i) 强连通性：对于所有 $u,v\\in V$，必须存在路径 $u\\to v$ 和 $v\\to u$；\n(ii) 弱连通性：其无向版本（将 $(a,b)$ 替换为无向边 $\\{a,b\\}$）必须是连通的；\n(iii) SCC 的数量：可通过有向路径相互到达的极大顶点集。\n\n图 A: $E_{A}=\\{(1,2),(2,1),(2,3),(3,4),(4,3)\\}$。\n- 非强连通：存在路径 $2\\to 3$ 且 $3\\leftrightarrow 4$，所以 $1,2$ 可以到达 $3,4$。然而，从 $3$ 或 $4$ 出发，唯一可达的顶点是 $3$ 和 $4$（因为边是 $3\\to 4$ 和 $4\\to 3$），所以不存在从 $3$ 或 $4$ 回到 $2$ 或 $1$ 的路径。因此，该图不是强连通的。\n- 弱连通：无向边为 $\\{1,2\\},\\{2,3\\},\\{3,4\\}$（其中 $\\{3,4\\}$ 来自 $(3,4)$ 和 $(4,3)$）。这个无向图是路径 $1-2-3-4$，它是连通的。因此，该图是弱连通的。\n- SCCs：顶点 $1$ 和 $2$ 通过 $(1,2)$ 和 $(2,1)$ 相互可达，所以 $\\{1,2\\}$ 是一个 SCC。顶点 $3$ 和 $4$ 通过 $(3,4)$ 和 $(4,3)$ 相互可达，所以 $\\{3,4\\}$ 是一个 SCC。存在一条从 $2$ 到 $3$ 的边，但没有从 $\\{3,4\\}$ 回到 $\\{1,2\\}$ 的路径，所以这些 SCC 不会合并。因此，恰好有两个 SCC：$\\{1,2\\}$ 和 $\\{3,4\\}$。\n\n图 B: $E_{B}=\\{(1,2),(2,3),(3,4),(4,1)\\}$。这是一个包含四个顶点的有向环。对于任意 $u,v\\in V$，都存在沿环从 $u$ 到 $v$ 和从 $v$ 到 $u$ 的有向路径，所以该图是强连通的。因此，它不满足“非强连通”的要求，并且它只有一个 SCC，而不是两个。\n\n图 C: $E_{C}=\\{(1,2),(2,1),(3,4)\\}$。\n- 弱连通性：无向边为 $\\{1,2\\}$ 和 $\\{3,4\\}$，它们构成两条不相交的边。这个无向图是不连通的，所以该有向图不是弱连通的。\n- SCCs：由于存在双向边，$\\{1,2\\}$ 是一个 SCC。顶点 $3$ 有一条到 $4$ 的出边但没有返回路径，顶点 $4$ 没有出边，所以 $\\{3\\}$ 和 $\\{4\\}$ 是单点 SCC。因此，该图有三个 SCC 且不是弱连通的，所以它不满足条件。\n\n图 D: $E_{D}=\\{(1,2),(2,3),(3,4)\\}$。\n- 非强连通：不存在从 $4$ 到任何 $1,2,3$ 的路径，所以它不是强连通的。\n- 弱连通：无向边是 $\\{1,2\\},\\{2,3\\},\\{3,4\\}$，构成了路径 $1-2-3-4$，该路径是连通的。因此，该图是弱连通的。\n- SCCs：图中没有有向环；因此每个顶点自身构成一个 SCC：$\\{1\\},\\{2\\},\\{3\\},\\{4\\}$。该图有四个 SCC，而不是两个。\n\n只有图 A 满足所有三个条件（弱连通、非强连通、恰好有两个 SCC）。", "answer": "$$\\boxed{A}$$", "id": "1359484"}, {"introduction": "掌握了基本定义后，让我们来看一个更动态的场景。这个练习模拟了一个现实世界中的问题：对一个现有网络进行微小改动会带来什么影响？通过分析一条道路方向的改变如何重塑整个交通网络的“可导航区域”（即强连通分量），你将深刻体会到网络的全局属性有时对局部变化是多么敏感。这个练习将锻炼你分析网络结构稳定性的能力。[@problem_id:1359481]", "problem": "一个新技术园区的城市交通流系统被建模为一个有向图 $G=(V, E)$。交叉路口由顶点集合 $V = \\{1, 2, 3, 4, 5\\}$ 表示，单行道由有向边集合 $E$ 表示。该系统最初被设计为“循环完整”的，这意味着可以从该区域内的任何一个交叉路口行驶到任何其他交叉路口。当前的街道网络由边集合给出：\n$E = \\{(1,2), (2,1), (2,3), (3,4), (4,5), (5,3), (4,1)\\}$。\n\n一位城市规划师对交通流提出了一个修改建议。该建议是反转连接交叉路口4和交叉路口1的单行道的方向。此次变更后，该系统将由一个新的图 $G'$ 表示。\n\n在此背景下，一个“可导航区域”被定义为一个最大的交叉路口子集，在该子集内，可以从任何一个交叉路口行驶到同一子集内的任何其他交叉路口。确定在提议的新系统 $G'$ 中有多少个不同的、不重叠的可导航区域。", "solution": "给定一个有向图 $G=(V,E)$，其中 $V=\\{1,2,3,4,5\\}$ 且\n$$\nE=\\{(1,2),(2,1),(2,3),(3,4),(4,5),(5,3),(4,1)\\}.\n$$\n修改将边 $(4,1)$ 反转为 $(1,4)$。因此，新图 $G'$ 的边集合为\n$$\nE'=\\{(1,2),(2,1),(2,3),(3,4),(4,5),(5,3),(1,4)\\}.\n$$\n一个可导航区域是一个强连通分量 (SCC)，即一个最大子集 $S\\subseteq V$，使得对于所有 $u,v\\in S$，都存在一条从 $u$ 到 $v$ 的有向路径和一条从 $v$ 到 $u$ 的有向路径。\n\n首先，考虑子集 $\\{3,4,5\\}$。其导出的边是 $(3,4)$、$(4,5)$ 和 $(5,3)$，它们构成一个有向环 $3\\to 4\\to 5\\to 3$。因此，对于任意 $u,v\\in\\{3,4,5\\}$，都存在一条从 $u$ 到 $v$ 的路径和一条从 $v$ 到 $u$ 的路径，所以\n$$\n\\{3,4,5\\}\\ \\text{是} G' \\text{中的一个强连通分量}。\n$$\n接着，考虑子集 $\\{1,2\\}$。边 $(1,2)$ 和 $(2,1)$ 使得 1 和 2 之间可以相互到达，所以\n$$\n\\{1,2\\}\\ \\text{是} G' \\text{中的一个强连通分量}。\n$$\n我们必须检查这些强连通分量是否可以被扩大。从边 $(1,4)$ 和 $(2,3)$ 可知，存在从 $\\{1,2\\}$ 进入 $\\{3,4,5\\}$ 的路径：\n$$\n1\\to 4,\\quad 2\\to 3.\n$$\n然而，在 $E'$ 中没有从 $\\{3,4,5\\}$ 返回到 $\\{1,2\\}$ 的边：从 3、4、5 出发的唯一的出边是 $3\\to 4$、$4\\to 5$ 和 $5\\to 3$，这些边都在 $\\{3,4,5\\}$ 内部。特别是，那条能够返回到 1 的边 $(4,1)$ 已经被移除了。因此，$\\{3,4,5\\}$ 中的任意顶点都无法到达 1 或 2，所以没有强连通分量可以同时包含来自 $\\{3,4,5\\}$ 的顶点和来自 $\\{1,2\\}$ 的顶点。\n\n最后，没有任何剩余的单点强连通分量，因为每个顶点都属于已识别的两个强连通分量之一。因此，在 $G'$ 中不同的、不重叠的可导航区域（强连通分量）的数量是\n$$\n2.\n$$", "answer": "$$\\boxed{2}$$", "id": "1359481"}, {"introduction": "最后，我们从分析转向设计。这个练习要求你扮演网络工程师的角色，任务是使用最少的资源将两个独立的、内部健壮的网络（强连通子图）整合成一个完全互联互通的整体。你需要策略性地思考在何处添加新的连接，以实现全局的强连通性。这个问题不仅考验你对强连通概念的深刻理解，还培养了解决实际网络集成问题的设计思维。[@problem_id:1359532]", "problem": "考虑一个大型企业网络，其建模为一个有向图 $G = (V, E)$，其中 $V$ 是服务器集合，$E$ 是单向通信链路集合。服务器集合 $V$ 被划分为两个非空不相交的集合 $V_1$ 和 $V_2$，对应于两个原先独立的公司网络。已知由这些集合导出的子图 $G_1 = (V_1, E_1)$ 和 $G_2 = (V_2, E_2)$ 都是强连通的。这意味着，在 $V_1$ 内部（同样地，在 $V_2$ 内部），任何服务器都可以通过某条链路路径向任何其他服务器发送消息。\n\n现有的边集 $E$ 可能包含也可能不包含 $V_1$ 和 $V_2$ 之间的跨网络链路。一名网络管理员的任务是，通过添加最少可能数量的新单向链路，来确保整个合并后的网络 $G$ 变为强连通。设所需新链路的最小数量为 $k$。\n\n关于 $k$ 的值，以下哪个陈述总是成立，而无论 $V_1$ 和 $V_2$ 中的服务器数量或 $G_1$ 和 $G_2$ 内部链路的具体结构如何？\n\nA. $k$ 的值总是 2。\n\nB. $k$ 的值取决于服务器的总数 $|V_1| + |V_2|$。\n\nC. 如果至少存在一条连接 $V_1$ 中服务器和 $V_2$ 中服务器的现有链路（任一方向），则 $k \\leq 1$。\n\nD. $k=1$ 不可能是一个结果。\n\nE. 如果 $|V_1| > |V_2|$，则至少必须有一条新链路从 $V_2$ 中的服务器发出并终止于 $V_1$ 中的服务器。", "solution": "设 $G=(V,E)$ 是一个有向图，其顶点集 $V$ 划分为 $V=V_{1}\\sqcup V_{2}$，使得导出的子图 $G_{1}=(V_{1},E_{1})$ 和 $G_{2}=(V_{2},E_{2})$ 都是强连通的。定义跨边集合\n$$\nE_{12}=\\{(u,v)\\in E:\\,u\\in V_{1},\\,v\\in V_{2}\\},\\qquad E_{21}=\\{(u,v)\\in E:\\,u\\in V_{2},\\,v\\in V_{1}\\}.\n$$\n我们通过对 $E_{12}$ 和 $E_{21}$ 进行分类讨论，来分析使 $G$ 变为强连通所需添加的新有向边的最小数量 $k$。\n\n1) 如果 $E_{12}\\neq\\varnothing$ 且 $E_{21}\\neq\\varnothing$，那么对于任意 $x\\in V_{1}$ 和 $y\\in V_{2}$，任取 $(a,b)\\in E_{12}$ 和 $(c,d)\\in E_{21}$。由于 $G_{1}$ 和 $G_{2}$ 是强连通的，因此在 $G_{1}$ 中存在有向路径 $x\\to a$，在 $G_{2}$ 中存在有向路径 $b\\to y$，在 $G_{2}$ 中存在有向路径 $y\\to c$，在 $G_{1}$ 中存在有向路径 $d\\to x$。将这些路径与跨边连接起来，得到路径 $x\\to a\\to b\\to y$ 和 $y\\to c\\to d\\to x$。因此，每个顶点都可以到达任何其他顶点，所以 $G$ 已经是强连通的，且 $k=0$。\n\n2) 如果 $E_{12}=\\varnothing$ 且 $E_{21}=\\varnothing$，那么最初没有任何从 $V_{1}$ 中的顶点到 $V_{2}$ 中的顶点的路径，也没有从 $V_{2}$ 到 $V_{1}$ 的路径。任何一条新添加的边最多只能创建一个方向上的部分间可达性；因此，至少需要两条新边才能获得双向的可达性，所以 $k\\geq 2$。添加两条边，一条从 $V_{1}$ 到 $V_{2}$，另一条从 $V_{2}$ 到 $V_{1}$，会在 $V_{1}$ 和 $V_{2}$ 之间创建一个有向环，然后根据 $G_{1}$ 和 $G_{2}$ 的内部强连通性，通过同样的路径连接论证，可以得出整个图的强连通性。因此 $k=2$。\n\n3) 如果 $E_{12},E_{21}$ 中恰好有一个非空，比如说 $E_{12}\\neq\\varnothing$ 且 $E_{21}=\\varnothing$，那么就存在从 $V_{1}$ 到 $V_{2}$ 的路径，但不存在从 $V_{2}$ 到 $V_{1}$ 的路径。至少需要一条从 $V_{2}$ 到 $V_{1}$ 的新边，所以 $k\\geq 1$。添加一条边 $(c,d)$（其中 $c\\in V_{2}$ 且 $d\\in V_{1}$）就足够了：对于任意 $x\\in V_{1}$ 和 $y\\in V_{2}$，以及 $(a,b)\\in E_{12}$，利用内部强连通性，我们有路径 $x\\to a\\to b\\to y$ 和 $y\\to c\\to d\\to x$。因此 $k=1$。\n\n所以，$k$ 的唯一可能值为 $0,1,2$，其值仅由跨边的存在与方向决定，而与 $|V_{1}|$ 或 $|V_{2}|$ 的大小无关。\n\n评估各个陈述：\n- A 是错误的，因为 $k$ 可以是 $0$ 或 $1$。\n- B 是错误的，因为 $k$ 取决于跨边的方向，而不是取决于 $|V_{1}|+|V_{2}|$。\n- C 是正确的：如果至少存在一个任一方向的跨边，则 $k\\leq 1$（如果两个方向都存在，则 $k=0$；如果只有一个方向存在，则 $k=1$）。\n- D 是错误的，因为当恰好只存在一个方向的跨边时，$k=1$。\n- E 是错误的；大小关系是无关的，并且如果两个方向的边都已存在，则 $k=0$，不需要从 $V_{2}$ 到 $V_{1}$ 的新边。\n\n因此，正确且总是成立的陈述是 C。", "answer": "$$\\boxed{C}$$", "id": "1359532"}]}