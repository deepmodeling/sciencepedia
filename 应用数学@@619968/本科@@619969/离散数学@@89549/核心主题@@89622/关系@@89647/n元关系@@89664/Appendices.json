{"hands_on_practices": [{"introduction": "要掌握 N 元关系，最基础的一步是理解其核心定义：一个关系是一个满足特定规则的元组集合。这个练习将带你进行最基本的操作：检验一个给定的元组是否属于某个关系。通过对一个具体的元组 $(6, 18, 3)$ 和四种由不同数学规则（如整除、线性方程、模运算和最大公约数）定义的 N 元关系进行判断 [@problem_id:1386820]，你将学会如何直接应用定义来验证成员资格，这是理解和使用关系的第一步。", "problem": "令 $\\mathbb{Z}^{+}$ 表示正整数集合。考虑定义在笛卡尔积 $\\mathbb{Z}^{+} \\times \\mathbb{Z}^{+} \\times \\mathbb{Z}^{+}$ 上的以下四个三元关系：\n\n$R_1 = \\{(a, b, c) \\in (\\mathbb{Z}^{+})^3 \\mid a \\text{ divides } b \\text{ and } c = b/a \\}$\n$R_2 = \\{(a, b, c) \\in (\\mathbb{Z}^{+})^3 \\mid a + b = 4c \\}$\n$R_3 = \\{(a, b, c) \\in (\\mathbb{Z}^{+})^3 \\mid a \\equiv b \\pmod{c} \\}$\n$R_4 = \\{(a, b, c) \\in (\\mathbb{Z}^{+})^3 \\mid \\gcd(a, b) = c \\}$，其中 $\\gcd(x, y)$ 表示 $x$ 和 $y$ 的最大公约数。\n\n考虑特定的正整数元组 $t = (6, 18, 3)$。以下哪个/哪些陈述是正确的？\n\nA. $t \\in R_1$\n\nB. $t \\in R_2$\n\nC. $t \\in R_3$\n\nD. $t \\in R_4$", "solution": "令 $t = (6,18,3)$，所以 $a=6$，$b=18$ 且 $c=3$。\n\n检验 $t \\in R_{1}$：\n根据定义，$(a,b,c) \\in R_{1}$ 当且仅当 $a$ 整除 $b$ 且 $c = \\frac{b}{a}$。因为 $18 = 6 \\cdot 3$，我们有 $6 \\mid 18$。此外，$\\frac{b}{a} = \\frac{18}{6} = 3 = c$。因此 $t \\in R_{1}$。\n\n检验 $t \\in R_{2}$：\n根据定义，$(a,b,c) \\in R_{2}$ 当且仅当 $a + b = 4c$。计算 $a + b = 6 + 18 = 24$ 且 $4c = 4 \\cdot 3 = 12$。因为 $24 \\neq 12$，所以 $t \\notin R_{2}$。\n\n检验 $t \\in R_{3}$：\n根据定义，$(a,b,c) \\in R_{3}$ 当且仅当 $a \\equiv b \\pmod{c}$，等价于 $c \\mid (a-b)$。计算 $a-b = 6 - 18 = -12$。因为 $3 \\mid 12$，所以 $3 \\mid -12$，因此 $3 \\mid (a-b)$，所以 $a \\equiv b \\pmod{3}$。所以 $t \\in R_{3}$。\n\n检验 $t \\in R_{4}$：\n根据定义，$(a,b,c) \\in R_{4}$ 当且仅当 $\\gcd(a,b) = c$。计算 $\\gcd(6,18) = 6$ (例如，使用素数分解 $6 = 2 \\cdot 3$ 和 $18 = 2 \\cdot 3^{2}$，所以最大公约数是 $2 \\cdot 3 = 6$)。因为 $6 \\neq 3$，所以 $t \\notin R_{4}$。\n\n因此，正确的陈述是 A 和 C。", "answer": "$$\\boxed{AC}$$", "id": "1386820"}, {"introduction": "在学会验证单个成员之后，一个自然而然的进阶是尝试从零开始构建一个完整的关系。这个练习要求你在一个有限集合 $S = \\{1, 2, 3, 4\\}$ 上，根据一个简单的算术规则 $a + b = c$ 来找出所有满足条件的元组 $(a, b, c)$ [@problem_id:1386828]。这项实践不仅能锻炼你系统性枚举和计数的组合思维能力，还能让你更具体地体会到，一个关系正是所有符合其定义规则的元组的集合。", "problem": "设集合 $S$ 定义为 $S = \\{1, 2, 3, 4\\}$。在该集合上定义了一个三元关系 $R$。一个有序三元组 $(a, b, c)$（其中 $a, b, c \\in S$）属于关系 $R$ 当且仅当其前两个元素之和等于第三个元素，即 $a + b = c$。求关系 $R$ 的基数。", "solution": "我们已知有限集 $S=\\{1,2,3,4\\}$ 以及三元关系 $R\\subseteq S\\times S\\times S$ 定义为\n$$\n(a,b,c)\\in R \\quad \\Longleftrightarrow \\quad a+b=c,\n$$\n其中 $a,b,c\\in S$。对于任意固定的有序对 $(a,b)\\in S^{2}$，$c$ 的值由 $c=a+b$ 唯一确定。因此，$(a,b,c)\\in R$ 的条件等价于要求 $a+b\\in S$。所以，$R$ 的基数等于满足 $a+b\\in S$ 的有序对 $(a,b)\\in S^{2}$ 的数量。\n\n等价地，我们可以通过对每个 $c\\in S$ 求和，来计算满足 $a+b=c$ 的有序对 $(a,b)\\in S^{2}$ 的数量。对于一个固定的 $c\\in S$，有序对必须满足 $a\\in S$ 且 $b=c-a\\in S$，这可以转换为\n$$\n1\\leq a\\leq 4 \\quad \\text{and} \\quad 1\\leq c-a\\leq 4.\n$$\n第二个不等式等价于 $c-4\\leq a\\leq c-1$。因此 $a$ 必须在整数区间\n$$\na\\in \\left[\\max(1,c-4),\\,\\min(4,c-1)\\right]\n$$\n内。我们对每个 $c\\in\\{1,2,3,4\\}$ 进行计算：\n- 对于 $c=1$：区间为 $[\\,\\max(1,-3),\\,\\min(4,0)\\,]=[1,0]$，这是一个空集，所以计数为 $0$。\n- 对于 $c=2$：区间为 $[\\,\\max(1,-2),\\,\\min(4,1)\\,]=[1,1]$，得到 $1$ 个有序对。\n- 对于 $c=3$：区间为 $[\\,\\max(1,-1),\\,\\min(4,2)\\,]=[1,2]$，得到 $2$ 个有序对。\n- 对于 $c=4$：区间为 $[\\,\\max(1,0),\\,\\min(4,3)\\,]=[1,3]$，得到 $3$ 个有序对。\n\n将这些计数相加得到\n$$\n|R|=0+1+2+3=6.\n$$\n因此，关系 $R$ 的基数是 $6$。", "answer": "$$\\boxed{6}$$", "id": "1386828"}, {"introduction": "N 元关系不仅仅是抽象的数学概念，它更是现代数据库理论的基石。这个练习将抽象理论与实际应用联系起来，介绍了一种基本的关系操作——投影 ($\\pi$)。通过一个关于供应链数据库的模拟场景 [@problem_id:1386781]，你将学习如何运用投影操作从一个庞大的数据表中提取特定的信息列，并计算其基数。这个过程就像在电子表格中筛选出你感兴趣的列一样，是数据分析和查询中至关重要的一步。", "problem": "一家全球电子产品制造商使用关系数据库来追踪其供应链。该数据库中的一个关系，名为 `ComponentShipments`，是一个由代表单个货运记录的四元组组成的集合。每个元组的形式为 `(ShipmentID, PartNumber, SupplierID, DestinationCity)`，其中 `ShipmentID` 是货运的唯一标识符。\n\n`ComponentShipments` 关系目前包含 8,000 个元组。该公司从 40 个不同的供应商（由 `SupplierID` 标识）采购 200 种独特的零件类型（由 `PartNumber` 标识）。这些组件被运往恰好 15 个不同的配送中心，每个中心都位于不同的城市。该数据库是全面的，包含了这 15 个目的地城市中每一个城市的货运记录。\n\n令 $\\pi_{A}(R)$ 表示关系 $R$ 在属性集合 $A$ 上的投影。一个关系的基数是它包含的元组数量。\n\n`ComponentShipments` 关系在 `DestinationCity` 属性上的投影的基数是多少？", "solution": "令 $R$ 表示关系 $\\text{ComponentShipments}$，其属性为 $\\{\\text{ShipmentID}, \\text{PartNumber}, \\text{SupplierID}, \\text{DestinationCity}\\}$。投影 $\\pi_{\\text{DestinationCity}}(R)$ 返回 $R$ 中存在的 `DestinationCity` 属性的不同值的集合。根据定义，基数 $\\left|\\pi_{\\text{DestinationCity}}(R)\\right|$ 等于 $R$ 中出现的所有不同目的地城市的数量。\n\n问题陈述了组件被运往恰好 $15$ 个不同的配送中心，每个中心都位于不同的城市，并且数据库是全面的，包含了这 15 个目的地城市中每一个城市的货运记录。因此，这 15 个城市中的每一个都在 $R$ 中至少出现一次，并且除了这 15 个城市之外，没有其他目的地城市。\n\n因此，\n$$\\left|\\pi_{\\text{DestinationCity}}(\\text{ComponentShipments})\\right|=15.$$", "answer": "$$\\boxed{15}$$", "id": "1386781"}]}