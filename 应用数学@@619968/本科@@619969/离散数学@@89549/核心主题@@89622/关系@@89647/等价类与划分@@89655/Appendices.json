{"hands_on_practices": [{"introduction": "为了真正掌握一个概念，从最基本的例子入手至关重要。这个练习将带我们回到等价关系和划分的根本联系。通过在一个仅有三个元素的集合上从头开始构建所有可能的划分，我们将亲手验证并计算出所有可能的等价关系的数量。这个过程不仅能加深我们对划分定义的理解，也为处理更复杂的组合问题奠定了坚实的基础 [@problem_id:2981477]。", "problem": "设 $X$ 是一个集合，满足 $|X|=3$。一个二元关系 $E \\subseteq X \\times X$ 是一个等价关系，当且仅当 $E$ 是自反的、对称的和传递的。$X$ 的一个划分是一个由 $X$ 的非空、两两不交的子集组成的集合 $\\Pi$，且这些子集的并集为 $X$。这是一个基本事实：$X$ 上的等价关系与 $X$ 上的划分之间存在一个双射对应。该对应将每个等价关系映射到其等价类的集合，反之，将每个划分映射到“在同一区块中”的关系。\n\n从这些定义和所述的对应关系出发，通过从第一性原理直接计算 $X$ 的划分数量，来确定 $X$ 上不同等价关系的数量。不要引用现成的计数公式；通过基于区块大小的显式案例分析来证明你的计数。你的最终答案必须是一个整数。", "solution": "该问题要求确定在一个基数为 $|X|=3$ 的集合 $X$ 上不同等价关系的数量。问题陈述建立了 $X$ 上等价关系集合与 $X$ 上划分集合之间的一个双射对应。因此，任务简化为计算集合 $X$ 的不同划分的数量。这个计数必须通过分析划分的可能结构，从第一性原理出发进行。\n\n设 $X$ 是一个有 $3$ 个元素的集合。不失一般性，我们可以将其表示为 $X=\\{x_1, x_2, x_3\\}$。$X$ 的一个划分是一个由 $X$ 的非空、两两不交的子集（称为区块）组成的集合，且这些区块的并集为 $X$。任何划分中各区块的基数之和必须等于集合 $X$ 的基数，即 $3$。\n\n为了系统地计算所有可能的划分，我们可以根据其区块的大小对它们进行分类。这对应于找到数字 $3$ 的所有整数分拆。一个正整数 $n$ 的整数分拆是将其写成正整数之和的一种方式，其中加数的顺序无关紧要。数字 $3$ 的整数分拆为：\n1. $3$\n2. $2+1$\n3. $1+1+1$\n\n我们现在对每种结构进行案例分析。\n\n情况1：一个大小为 $3$ 的区块。\n这种结构对应于整数分拆 $3$。该划分必须由一个包含 $X$ 中所有 $3$ 个元素的单一区块组成。唯一这样的划分是 $\\{\\{x_1, x_2, x_3\\}\\}$。这对应于所有元素都相互关联的平凡等价关系。这种类型的划分恰好有 $1$ 个。\n\n情况2：一个大小为 $2$ 的区块和一个大小为 $1$ 的区块。\n这种结构对应于整数分拆 $2+1$。要形成这种类型的划分，我们需要从集合 $X$ 中选择 $2$ 个元素来组成大小为 $2$ 的区块。剩下的 $1$ 个元素将自动形成大小为 $1$ 的区块。从一个包含 $3$ 个元素的集合中选择 $2$ 个元素的方法数由二项式系数 $\\binom{3}{2}$ 给出。\n$$ \\binom{3}{2} = \\frac{3!}{2!(3-2)!} = \\frac{3!}{2!1!} = \\frac{3 \\times 2 \\times 1}{(2 \\times 1) \\times 1} = 3 $$\n三种不同的划分为：\n- $\\{\\{x_1, x_2\\}, \\{x_3\\}\\}$\n- $\\{\\{x_1, x_3\\}, \\{x_2\\}\\}$\n- $\\{\\{x_2, x_3\\}, \\{x_1\\}\\}$\n因此，这种类型的划分有 $3$ 个。\n\n情况3：三个大小为 $1$ 的区块。\n这种结构对应于整数分拆 $1+1+1$。每个区块包含一个单一元素。对于集合 $X = \\{x_1, x_2, x_3\\}$，每个元素都必须在自己的区块里。这得到的划分是 $\\{\\{x_1\\}, \\{x_2\\}, \\{x_3\\}\\}$。由于划分是集合的集合，区块的顺序是无关紧要的。因此，只有一种方法可以形成这样的划分。这对应于恒等价关系，即每个元素只与自身相关联。这种类型的划分恰好有 $1$ 个。\n\n为了求出 $X$ 的总划分数，我们将所有可能情况的计数相加。\n总划分数 = (情况1的数量) + (情况2的数量) + (情况3的数量)。\n$$ \\text{Total} = 1 + 3 + 1 = 5 $$\n根据问题中陈述的双射，一个有 $3$ 个元素的集合上不同等价关系的数量等于该集合的划分数量。因此，$X$ 上有 $5$ 个不同的等价关系。", "answer": "$$\\boxed{5}$$", "id": "2981477"}, {"introduction": "等价关系的一个强大功能是能够将庞大而复杂的集合，根据某一特定属性，分门别类地进行组织。这个练习以长度为8的二进制字符串为对象，定义了一个非常直观的等价关系：两个字符串等价，当且仅当它们包含的'1'的数量相同。通过这个练习，我们将运用组合数学的知识来计算不同等价类的大小，从而深入理解划分是如何揭示一个集合的内在结构的 [@problem_id:1367108]。", "problem": "设 $S$ 为所有长度为8的二进制字符串的集合。在集合 $S$ 上定义了一个等价关系 $\\sim$。对于任意两个字符串 $s_1, s_2 \\in S$，我们有 $s_1 \\sim s_2$ 当且仅当 $s_1$ 中 '1' 的数量等于 $s_2$ 中 '1' 的数量。这个等价关系将集合 $S$ 划分成一系列不相交的等价类。这些不同的等价类中，有多少个所包含的字符串数量严格大于30？", "solution": "设 $S$ 为所有长度为8的二进制字符串的集合。根据当且仅当两个字符串含有相同数量的 '1' 时它们等价这一关系，等价类由 $k \\in \\{0,1,\\dots,8\\}$ 索引，其中等价类 $E_{k}$ 由恰好含有 $k$ 个'1'的字符串组成。$E_{k}$ 的大小为\n$$\n|E_{k}|=\\binom{8}{k}.\n$$\n我们需要找到满足以下条件的 $k$ 的数量：\n$$\n\\binom{8}{k}>30.\n$$\n利用对称性 $\\binom{8}{k}=\\binom{8}{8-k}$，我们只需检查 $k=0,1,2,3,4$ 的情况：\n$$\n\\binom{8}{0}=1,\\quad \\binom{8}{1}=8,\\quad \\binom{8}{2}=28,\\quad \\binom{8}{3}=56,\\quad \\binom{8}{4}=70.\n$$\n不等式 $\\binom{8}{k}>30$ 对 $k=3$ 和 $k=4$ 成立。根据对称性，它对 $k=5$ 也成立（因为 $\\binom{8}{5}=\\binom{8}{3}=56$）。因此，满足条件的 $k$ 值为 $k \\in \\{3,4,5\\}$，这意味着恰好有3个等价类包含的字符串数量超过30。", "answer": "$$\\boxed{3}$$", "id": "1367108"}, {"introduction": "等价关系不仅在组合学中扮演重要角色，它在抽象代数和数论中也是一个核心工具。本题将我们带入模算术的世界，通过定义一个基于平方同余的等价关系来划分整数环 $\\mathbb{Z}_{77}$。要解决这个问题，我们需要运用中国剩余定理等数论工具，这不仅是一次计算挑战，更是一次深刻的体验，展示了如何利用高等数学工具来分析和理解代数结构中的划分 [@problem_id:1367095]。", "problem": "考虑模77的整数集，记为 $\\mathbb{Z}_{77} = \\{0, 1, 2, \\dots, 76\\}$。在该集合上定义一个关系 $\\mathcal{R}$，使得对于任意两个元素 $a, b \\in \\mathbb{Z}_{77}$，有 $a \\, \\mathcal{R} \\, b$ 当且仅当 $a^2 \\equiv b^2 \\pmod{77}$。该关系是一个等价关系，它将集合 $\\mathbb{Z}_{77}$ 划分成一组不相交的等价类。\n\n求此划分中不同等价类的总数。", "solution": "给定在 $\\mathbb{Z}_{77}$ 上的关系为 $a \\, \\mathcal{R} \\, b$ 当且仅当 $a^{2} \\equiv b^{2} \\pmod{77}$。等价类是平方映射 $f:\\mathbb{Z}_{77} \\to \\mathbb{Z}_{77}$，$f(a)=a^{2} \\bmod 77$ 的纤维。因此，不同等价类的数量等于模77的不同二次剩余的数量：\n$$\n\\#\\{\\text{equivalence classes}\\}=\\#\\{a^{2} \\bmod 77 : a \\in \\mathbb{Z}_{77}\\}.\n$$\n使用中国剩余定理。因为 $77=7 \\cdot 11$ 且 $\\gcd(7,11)=1$，所以环 $\\mathbb{Z}_{77}$ 同构于 $\\mathbb{Z}_{7} \\times \\mathbb{Z}_{11}$，并且模77的同余等价于模7和模11的联立同余。因此\n$$\na^{2} \\equiv b^{2} \\pmod{77}\n\\quad \\Longleftrightarrow \\quad\n\\begin{cases}\na^{2} \\equiv b^{2} \\pmod{7},\\\\\na^{2} \\equiv b^{2} \\pmod{11}.\n\\end{cases}\n$$\n所以，模77的不同二次剩余集合与模7和模11的不同二次剩余集合的笛卡尔积是一一对应的，故\n$$\n\\#\\{\\text{squares mod }77\\}=\\#\\{\\text{squares mod }7\\} \\cdot \\#\\{\\text{squares mod }11\\}.\n$$\n对于一个奇素数 $p$，模 $p$ 的不同平方数的数量等于 $\\frac{p+1}{2}$。这是因为，对于 $x \\in \\mathbb{Z}_{p}^{\\times}$，数对 $\\{x,-x\\}$ 产生相同的平方，从而得到 $\\frac{p-1}{2}$ 个不同的非零二次剩余，再加上 $0$，总共有 $1+\\frac{p-1}{2}=\\frac{p+1}{2}$ 个不同的平方数。\n\n将此结论应用于 $p=7$ 和 $p=11$ 可得\n$$\n\\#\\{\\text{squares mod }7\\}=\\frac{7+1}{2}=4,\n\\qquad\n\\#\\{\\text{squares mod }11\\}=\\frac{11+1}{2}=6.\n$$\n因此，\n$$\n\\#\\{\\text{equivalence classes in }\\mathbb{Z}_{77}\\} = 4 \\times 6 = 24.\n$$\n作为通过等价类大小进行的验算：模77的60个可逆元被分成大小为4的等价类（模7和模11的符号选择是独立的），贡献了 $\\frac{60}{4}=15$ 个类；10个非零的7的倍数（但不是11的倍数）被分成大小为2的等价类，贡献了5个类；6个非零的11的倍数（但不是7的倍数）被分成大小为2的等价类，贡献了3个类；0自身构成一个单元素类，贡献了1个类。因此 $15+5+3+1=24$，与上述结果一致。", "answer": "$$\\boxed{24}$$", "id": "1367095"}]}