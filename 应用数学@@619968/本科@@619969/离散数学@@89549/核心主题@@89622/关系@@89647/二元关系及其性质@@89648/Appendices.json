{"hands_on_practices": [{"introduction": "理论知识是基础，但真正的理解来自于实践。本节将通过一系列动手练习，帮助你巩固对二元关系及其性质的理解。我们将从一个核心概念——等价关系及其等价类开始。等价关系根据某个共同属性将集合中的元素分组，这在数学和计算机科学中是一种强大的分类工具。下面的练习将等价关系的概念置于一个直观的金融交易场景中，通过计算“利润等价”的交易来帮助你掌握等价类的定义与构建。[@problem_id:1352532]", "problem": "在一个用于分析金融交易的简化模型中，每笔交易由一个有序整数对 $(p_b, p_s)$ 表示，其中 $p_b$ 是买入价，$p_s$ 是卖出价。价格可以是任何整数值（正、负或零），因此所有可能交易的集合是 $S = \\mathbb{Z} \\times \\mathbb{Z}$。\n\n在集合 $S$ 上定义了一个关系 $R$，用以识别“利润等价”的交易。两笔交易 $T_1 = (a, b)$ 和 $T_2 = (c, d)$ 相关，记作 $(a, b) R (c, d)$，当且仅当它们产生相同的利润。一笔交易 $(p_b, p_s)$ 的利润计算为 $p_s - p_b$。\n\n这个关系 $R$ 是一个等价关系（您无需证明这一点）。您的任务是确定特定交易 $T_0 = (7, 3)$ 的等价类。请使用 $\\{ (x, y) \\in \\mathbb{Z} \\times \\mathbb{Z} \\mid \\dots \\}$ 形式的集合构建符号来描述这个记作 $[(7, 3)]$ 的等价类。", "solution": "我们给定 $S=\\mathbb{Z}\\times\\mathbb{Z}$ 以及一个关系 $R$，其定义为：$(a,b)R(c,d)$ 当且仅当这两个有序对产生相同的利润，其中 $(p_{b},p_{s})$ 的利润是 $p_{s}-p_{b}$。因此，根据定义，\n$$(a,b)R(c,d)\\iff b-a=d-c.$$\n根据等价类的定义，$(7,3)$ 的等价类是\n$$[(7,3)]=\\{(x,y)\\in S\\mid (x,y)R(7,3)\\}.$$\n使用 $R$ 的定义条件，我们得到\n$$(x,y)R(7,3)\\iff y-x=3-7.$$\n计算等式右边：\n$$3-7=-4.$$\n因此，\n$$[(7,3)]=\\{(x,y)\\in \\mathbb{Z}\\times \\mathbb{Z}\\mid y-x=-4\\},$$\n等价地，所有满足 $y=x-4$ 的整数对。", "answer": "$$\\boxed{\\{(x,y)\\in \\mathbb{Z}\\times \\mathbb{Z}\\mid y-x=-4\\}}$$", "id": "1352532"}, {"introduction": "并非所有重要的关系都旨在将元素划分为不相交的等价类。另一类关键的关系是偏序关系，它在集合上建立了一种层次或顺序结构。这个练习将探讨整数集合上的“整除”关系，这是偏序关系的一个经典例子。通过这个练习，你将学习如何分析一个偏序集 (poset) 的结构，识别其最小元、链和反链等关键特征，从而加深对非全序排序的理解。[@problem_id:1352548]", "problem": "设 $S$ 为整数集合 $\\{1, 2, 4, 5, 10, 20\\}$。在 $S$ 上定义一个关系 $R$，使得对于任意两个元素 $a, b \\in S$，有 $a R b$ 成立当且仅当 $a$ 整除 $b$。这个关系构成一个偏序集（poset），记作 $(S, R)$。\n\n从下面的陈述中，找出所有对于此偏序集为真的陈述。\n\nA. 该偏序集有多于一个极大元。\n\nB. 该偏序集有一个最小元。\n\nC. 最长链的长度（定义为链中元素的数量减一）为 4。\n\nD. 最大反链的大小（偏序集的宽度）为 2。\n\nE. 关系 $R$ 在集合 $S$ 上定义了一个全序。", "solution": "设 $S=\\{1,2,4,5,10,20\\}$，并在 $S$ 上定义关系 $R$ 为 $aRb$ 当且仅当 $a$ 整除 $b$。此关系 $R$ 是自反的、反对称的和传递的，因此是一个偏序。\n\n为检验陈述 A，回顾一下，$m\\in S$ 是极大元，如果不存在 $x\\in S$ 使得 $mRx$ 且 $m\\neq x$。检查每个元素：$1$ 整除 $2, 4, 5, 10, 20$；$2$ 整除 $4, 10, 20$；$4$ 整除 $20$；$5$ 整除 $10, 20$；$10$ 整除 $20$；在 $S$ 中，$20$ 只整除它自己。因此唯一的极大元是 $20$。所以陈述 A 是错误的。\n\n对于陈述 B，一个最小元 $\\ell\\in S$ 需满足对于所有 $b\\in S$ 都有 $\\ell R b$。因为 $1$ 整除 $S$ 中的每一个元素，所以 $1$ 是最小元。因此陈述 B 是正确的。\n\n对于陈述 C，链是 $S$ 的一个子集，其中任意一对元素都是可比的。极大链的例子有\n$$\n1\\mid 2\\mid 4\\mid 20,\\qquad 1\\mid 5\\mid 10\\mid 20,\n$$\n每个都包含 $4$ 个元素。没有链能同时包含 $4$ 和 $5$，因为它们互相不能整除，所以一个链的元素不能超过 $4$ 个。因此，最长链有 $4$ 个元素，而其长度（定义为元素数量减 $1$）为 $3$。声称长度为 $4$ 的陈述 C 是错误的。\n\n对于陈述 D，反链是 $S$ 的一个子集，其中任意两个不同的元素都不可比。元素 $1$ 和 $20$ 与所有其他元素都可比，所以它们不能存在于任何大小大于 $1$ 的反链中。将范围限制在 $\\{2,4,5,10\\}$，可比关系有 $2\\mid 4$、$2\\mid 10$ 和 $5\\mid 10$，而 $4$ 和 $5$ 不可比，$4$ 和 $10$ 不可比，$2$ 和 $5$ 也不可比。在 $\\{2,4,5,10\\}$ 中，任何一个包含 $3$ 个元素的子集都含有一对可比元素，所以最大反链的大小是 $2$，例如 $\\{4,5\\}$。因此陈述 D 是正确的。\n\n对于陈述 E，全序要求任意一对元素都必须是可比的。因为 $2$ 和 $5$ 不可比（既不是 $2\\mid 5$ 也不是 $5\\mid 2$），所以 $R$ 不是一个全序。因此陈述 E 是错误的。\n\n正确的陈述是 B 和 D。", "answer": "$$\\boxed{BD}$$", "id": "1352548"}, {"introduction": "现在，让我们聚焦于关系的一个核心性质：传递性。在许多现实世界的系统中，例如信任网络或依赖关系图，传递性是确保逻辑一致性和功能完整性的关键。这个练习提出了一个建设性的挑战：从一个非传递性的关系出发，你需要确定需要添加哪些最小的元素对才能使其变为传递性。这个过程被称为计算关系的传递闭包，是理解和构建可靠系统的一项基本技能。[@problem_id:1352517]", "problem": "在一个去中心化认证系统中，四个标记为 $N_1, N_2, N_3,$ 和 $N_4$ 的节点组成一个网络。该系统依赖于一种“信任”关系，这是节点集合 $S = \\{N_1, N_2, N_3, N_4\\}$ 上的一个二元关系 $T$。$T$ 中的一个有序对 $(A, B)$ 表示节点 $A$ 直接信任节点 $B$。\n\n为使系统完全安全和健壮，信任关系必须是传递的。这意味着如果节点 $A$ 信任节点 $B$，且节点 $B$ 信任节点 $C$，那么必须推导出节点 $A$ 信任节点 $C$。如果这种隐含的信任关系没有显式地存在于集合 $T$ 中，则必须添加它。\n\n最初，信任关系由集合 $T_0 = \\{(N_1, N_2), (N_2, N_3), (N_3, N_4), (N_4, N_1)\\}$ 定义。\n\n为了使整个系统具有传递安全性，我们需要向 $T_0$ 中添加最少数量的新信任关系（有序对），以形成一个新的传递关系 $T_f$。为了实现这一点，必须向 $T_0$ 中添加多少个新的有序对？", "solution": "设 $S=\\{N_{1},N_{2},N_{3},N_{4}\\}$ 且 $T_{0}=\\{(N_{1},N_{2}),\\,(N_{2},N_{3}),\\,(N_{3},N_{4}),\\,(N_{4},N_{1})\\}$。一个关系 $T$ 是传递的，如果 $(a,b)\\in T$ 且 $(b,c)\\in T$ 蕴含 $(a,c)\\in T$。包含 $T_{0}$ 的最小传递关系是其传递闭包 $T^{+}=\\bigcup_{k\\geq 1}T_{0}^{k}$，其中 $T_{0}^{k}$ 表示 $T_{0}$ 与自身的 $k$ 次复合。\n\n计算连续的幂：\n$$\nT_{0}^{2}=\\{(N_{1},N_{3}),\\,(N_{2},N_{4}),\\,(N_{3},N_{1}),\\,(N_{4},N_{2})\\},\n$$\n因为每个都是由 $4$-圈的两条连续边复合而成。\n\n$$\nT_{0}^{3}=\\{(N_{1},N_{4}),\\,(N_{2},N_{1}),\\,(N_{3},N_{2}),\\,(N_{4},N_{3})\\},\n$$\n复合三条连续边。\n\n$$\nT_{0}^{4}=\\{(N_{1},N_{1}),\\,(N_{2},N_{2}),\\,(N_{3},N_{3}),\\,(N_{4},N_{4})\\},\n$$\n因为四条连续边返回到起始节点。\n\n对于 $k\\geq 5$，集合周期性地重复（$T_{0}^{5}=T_{0}$ 等），因此在 $k=4$ 之后不会出现新的有序对。因此\n$$\nT^{+}=T_{0}\\cup T_{0}^{2}\\cup T_{0}^{3}\\cup T_{0}^{4},\n$$\n这是 $S$ 上所有 $16$ 个有序对的完整集合。因此 $|T^{+}|=16$ 且 $|T_{0}|=4$，所以需要添加的新有序对的最小数量是 $16-4=12$。", "answer": "$$\\boxed{12}$$", "id": "1352517"}]}