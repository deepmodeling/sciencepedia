{"hands_on_practices": [{"introduction": "这个练习旨在通过一个直观的例子帮助你掌握可比性和不可比性的基本概念。我们将处理一个由 $\\mathbb{R}^3$ 空间中的点组成的偏序集，其中序关系是分量比较。通过确定这个集合中最大的反链 [@problem_id:1357410]，你将把抽象的定义应用到一个具体的几何情境中，从而加深对反链本质的理解。", "problem": "考虑三维空间中的一个包含五个点的集合 $S = \\{P_1, P_2, P_3, P_4, P_5\\}$，这些点的坐标如下：\n$P_1 = (1, 1, 5)$\n$P_2 = (2, 2, 6)$\n$P_3 = (3, 1, 1)$\n$P_4 = (4, 2, 2)$\n$P_5 = (1, 3, 2)$\n\n我们在集合 S 上定义一个偏序关系 $\\preceq$。对于 S 中的任意两点 $A = (x_A, y_A, z_A)$ 和 $B = (x_B, y_B, z_B)$，我们称 $A \\preceq B$ 当且仅当 $x_A \\le x_B$，$y_A \\le y_B$ 且 $z_A \\le z_B$。\n\n如果两个点中的一个与另一个之间存在 $\\preceq$ 关系（即 $A \\preceq B$ 或 $B \\preceq A$），则称这两个点是*可比的*。如果两个不同的点不是可比的，则称它们是*不可比的*。一个*反链*是 S 的一个子集，其中任意两个不同的点都是不可比的。\n\n集合 S 中最大可能反链的大小是多少？", "solution": "我们处理 S 上的积偏序，其中对于 $A=(x_{A},y_{A},z_{A})$ 和 $B=(x_{B},y_{B},z_{B})$，我们有 $A\\preceq B$ 当且仅当 $x_{A}\\leq x_{B}$，$y_{A}\\leq y_{B}$ 且 $z_{A}\\leq z_{B}$。\n\n列出这些点：\n$$P_{1}=(1,1,5),\\quad P_{2}=(2,2,6),\\quad P_{3}=(3,1,1),\\quad P_{4}=(4,2,2),\\quad P_{5}=(1,3,2)。$$\n\n使用定义中的不等式，检查各点对的可比性：\n\n1. 比较 $P_{1}$ 和 $P_{2}$：\n$$1\\leq 2,\\quad 1\\leq 2,\\quad 5\\leq 6,$$\n所以 $P_{1}\\preceq P_{2}$。\n\n2. 比较 $P_{1}$ 与 $P_{3},P_{4},P_{5}$：\n- $P_{1}$ 与 $P_{3}$：$1\\leq 3$，$1\\leq 1$，但 $5\\leq 1$ 为假，所以不可比。\n- $P_{1}$ 与 $P_{4}$：$1\\leq 4$，$1\\leq 2$，但 $5\\leq 2$ 为假，所以不可比。\n- $P_{1}$ 与 $P_{5}$：$1\\leq 1$，$1\\leq 3$，但 $5\\leq 2$ 为假，所以不可比。\n\n3. 比较 $P_{2}$ 与 $P_{3},P_{4},P_{5}$：\n- $P_{2}$ 与 $P_{3}$：$2\\leq 3$，但 $2\\leq 1$ 为假；反之，$3\\leq 2$ 也为假，所以不可比。\n- $P_{2}$ 与 $P_{4}$：$2\\leq 4$，$2\\leq 2$，但 $6\\leq 2$ 为假；反之，$4\\leq 2$ 也为假，所以不可比。\n- $P_{2}$ 与 $P_{5}$：$2\\leq 1$ 为假；反之，$1\\leq 2$ 成立但 $3\\leq 2$ 为假，所以不可比。\n\n4. 比较 $P_{3}$ 与 $P_{4}$ 和 $P_{5}$：\n- $P_{3}$ 与 $P_{4}$：$3\\leq 4$，$1\\leq 2$，$1\\leq 2$，所以 $P_{3}\\preceq P_{4}$。\n- $P_{3}$ 与 $P_{5}$：$3\\leq 1$ 为假；反之，$1\\leq 3$ 成立但 $3\\leq 1$ 为假，所以不可比。\n\n5. 比较 $P_{4}$ 与 $P_{5}$：\n- $P_{4}$ 与 $P_{5}$：$4\\leq 1$ 为假；反之，$1\\leq 4$ 成立但 $3\\leq 2$ 为假，所以不可比。\n\n因此，仅有的可比关系是 $P_{1}\\preceq P_{2}$ 和 $P_{3}\\preceq P_{4}$。该偏序集包含两条链 $\\{P_1, P_2\\}$ 和 $\\{P_3, P_4\\}$，而 $P_5$ 与所有其他点都不可比。\n\n一个反链至多能从每条链中包含一个元素，并且可以包含 $P_{5}$。因此，任何反链的大小最多为 $3$。这个上界是可以达到的，例如集合 $\\{P_{2},P_{4},P_{5}\\}$，如上所验证，其中任意一对点都是不可比的。\n\n因此，$S$ 中最大可能反链的大小为 $3$。", "answer": "$$\\boxed{3}$$", "id": "1357410"}, {"introduction": "在掌握了基本定义之后，我们来探讨一个在偏序集理论中非常经典的例子：整除关系。这个练习 [@problem_id:1357399] 要求你分析一个由特定整数在整除关系下构成的偏序集，并同时找出其中最长的链和最大的反链。这个问题不仅能巩固你对链和反链的识别能力，还能让你初步体会到两者之间的深刻联系，例如 Dilworth 定理揭示的关系。", "problem": "考虑一个偏序集 (poset) $P = (S, \\preceq)$，其中集合 $S$ 由 $S = \\{2, 3, 5, 6, 15, 30\\}$ 给出，关系 $\\preceq$ 是整除关系，因此对于任意两个元素 $a, b \\in S$，有 $a \\preceq b$ 当且仅当 $a$ 整除 $b$。\n\n在一个偏序集中，**链 (chain)** 是一个元素子集 $\\{x_1, x_2, \\ldots, x_k\\}$，满足 $x_1 \\preceq x_2 \\preceq \\ldots \\preceq x_k$。链的**长度 (length)** 定义为其中元素的数量 $k$。**反链 (antichain)** 是一个元素子集，其中任意两个不同元素都不可比。也就是说，对于反链中的任意两个不同元素 $x, y$，既不成立 $x \\preceq y$ 也不成立 $y \\preceq x$。反链的**大小 (size)** 是其中元素的数量。\n\n下列哪个陈述正确描述了偏序集 $P$ 中最长链的长度和最大反链的大小？\n\nA. 最长链的长度为 4，最大反链的大小为 2。\n\nB. 最长链的长度为 3，最大反链的大小为 3。\n\nC. 最长链的长度为 3，最大反链的大小为 2。\n\nD. 最长链的长度为 2，最大反链的大小为 3。\n\nE. 最长链的长度为 4，最大反链的大小为 3。", "solution": "我们考虑偏序集 $P=(S,\\preceq)$，其中 $S=\\{2,3,5,6,15,30\\}$ 且 $a\\preceq b$ 当且仅当 $a$ 整除 $b$。各元素的质因数分解为 $2=2$，$3=3$，$5=5$，$6=2\\cdot 3$，$15=3\\cdot 5$ 和 $30=2\\cdot 3\\cdot 5$。\n\n首先，确定覆盖关系（哈斯图的边）。如果 $y\\mid x$ 且不存在 $z\\in S$ 满足 $y\\mid z\\mid x$ 且 $z\\neq y,x$，则元素 $x$ 覆盖 $y$。根据给定元素之间的整除关系：\n- $2\\mid 6$ 且在 $S$ 中除了 $z=2,6$ 外不存在 $z$ 满足 $2\\mid z\\mid 6$，所以 $2\\prec 6$。\n- $3\\mid 6$ 且在 $S$ 中没有中间元素，所以 $3\\prec 6$。\n- $3\\mid 15$ 且在 $S$ 中没有中间元素，所以 $3\\prec 15$。\n- $5\\mid 15$ 且在 $S$ 中没有中间元素，所以 $5\\prec 15$。\n- $6\\mid 30$ 且在 $S$ 中 $6$ 和 $30$ 之间没有中间元素，所以 $6\\prec 30$。\n- $15\\mid 30$ 且在 $S$ 中 $15$ 和 $30$ 之间没有中间元素，所以 $15\\prec 30$。\n像 $2\\mid 30$ 或 $5\\mid 30$ 这样的关系不是覆盖关系，因为 $2\\mid 6\\mid 30$ 且 $5\\mid 15\\mid 30$。\n\n因此，该偏序集可以分为三个层级：\n- 第 $0$ 层：$\\{2,3,5\\}$ (极小元)，\n- 第 $1$ 层：$\\{6,15\\}$，\n- 第 $2$ 层：$\\{30\\}$。\n\n最长链的长度。链是在关系 $\\preceq$ 下的一个全序子集。从分层来看，任何严格递增的链最多只能包含每个层级中的一个元素，因此链中元素的最大可能数量是 $3$。一个长度为 $3$ 的明确的链是 $2\\prec 6\\prec 30$（也可以是 $3\\prec 6\\prec 30$ 或 $5\\prec 15\\prec 30$）。不存在长度为 $4$ 的链，因为只有三个不同的层级。因此，最长链的长度为 $3$。\n\n最大反链的大小。反链由两两不可比的元素组成。集合 $\\{2,3,5\\}$ 是一个反链，因为它们中没有一个能整除另一个，所以存在大小为 $3$ 的反链。要说明不存在更大的反链：\n- 元素 $30$ 与 $S$ 中所有其他元素都可比（每个 $x\\in S\\setminus\\{30\\}$ 都满足 $x\\mid 30$），所以任何包含 $30$ 的反链大小最多为 $1$。\n- 第 $1$ 层的任何元素（$6$ 或 $15$）都至少能被第 $0$ 层的一个元素整除（对于 $6$， $2$ 和 $3$ 都能整除它；对于 $15$，$3$ 和 $5$ 都能整除它），所以一个反链不能同时包含这样一个第 $1$ 层的元素及其在第 $0$ 层的因子。\n在这些约束下，最大的选择是取所有三个极小元 $\\{2,3,5\\}$，得到大小为 $3$，并且不可能有大小为 $4$ 的反链。\n\n因此，最长链的长度为 $3$，最大反链的大小为 $3$，这对应于选项 B。", "answer": "$$\\boxed{B}$$", "id": "1357399"}, {"introduction": "最后一个练习将挑战你将偏序集的知识与组合计数方法相结合。我们将研究一个由特定类型的二进制字符串构成的偏序集，其序关系是逐位比较。你的任务是找出这个偏序集中最大反链的大小 [@problem_id:1357398]，这需要你从简单的逐对检查转向更高级的组合推理，并展示了偏序集理论在解决计算机科学和组合数学等领域问题时的强大威力。", "problem": "考虑所有长度为8且不包含子串“11”的二进制字符串的集合 $S_8$。在集合 $S_8$ 上定义了一个偏序关系 $\\preceq$。对于 $S_8$ 中的任意两个字符串 $x = x_1x_2...x_8$ 和 $y = y_1y_2...y_8$，我们说 $x \\preceq y$ 当且仅当对于所有从1到8的整数 $i$ 都有 $x_i \\le y_i$。\n\n在偏序集中，反链是元素的一个子集，其中任意两个不同的元素都不可比。也就是说，对于反链中的任意两个不同元素 $a$ 和 $b$，$a \\preceq b$ 和 $b \\preceq a$ 都不成立。\n\n求偏序集 $(S_8, \\preceq)$ 中最大可能反链的大小。", "solution": "设 $(S_8, \\preceq)$ 是问题描述中的偏序集。$S_8$ 的元素是长度为8且没有两个连续'1'的二进制字符串。关系 $\\preceq$ 是按位序。我们要求的是这个偏序集中最大反链的大小。\n\n首先，我们来分析可比性条件。如果一个字符串 $x$ 与一个字符串 $y$ 可比，且 $x \\neq y$ 和 $x \\preceq y$，这意味着对所有的 $i$ 都有 $x_i \\le y_i$，并且必须至少存在一个索引 $j$ 使得 $x_j < y_j$。这意味着 $x_j=0$ 且 $y_j=1$。设 $w(s)$ 表示字符串 $s$ 的汉明权重，也就是其中'1'的个数。条件 $x_j=0, y_j=1$ 严格增加了汉明权重，所以如果 $x \\preceq y$ 且 $x \\neq y$，那么必然有 $w(x) < w(y)$。\n\n由此得出的一个直接推论是，如果两个不同的字符串 $x$ 和 $y$ 具有相同的汉明权重，$w(x) = w(y)$，那么它们就不可比。如果它们可比，比如说 $x \\preceq y$，那就意味着 $w(x) < w(y)$，这会产生矛盾。因此，在 $S_8$ 中所有具有相同汉明权重的字符串集合构成一个反链。\n\n这提示我们一种寻找大反链的策略：我们可以根据汉明权重将 $S_8$ 划分为子集，并找出其中最大的子集的大小。设 $N_k$ 是 $S_8$ 中汉明权重为 $k$ 的字符串集合。每个 $N_k$ 都是一个反链，其大小是长度为8、恰好有 $k$ 个1且没有连续1的二进制字符串的数量。\n\n我们可以用组合学论证来求出 $N_k$ 的大小。考虑将 $k$ 个1放在8个可用位置上。约束条件是任意两个1都不能相邻。这是一个经典的插板法类型问题。想象我们有 $8-k$ 个零（“板”），它们创造了 $(8-k)+1 = 9-k$ 个空位，可以用来放置 $k$ 个一（“星”）（包括在第一个零之前和最后一个零之后）。为了确保没有两个1是连续的，我们必须在每个空位中最多放置一个'1'。因此，我们需要从这 $9-k$ 个可用空位中选择 $k$ 个。这样做的方案数由二项式系数 $\\binom{9-k}{k}$ 给出。\n\n现在我们对所有可能的 $k$ 值计算 $|N_k| = \\binom{9-k}{k}$。1的个数 $k$ 可以从0开始取值。在一个长度为8且没有连续1的字符串中，1的最大数量是4（例如字符串10101010）。所以，我们需要检查 $k=0, 1, 2, 3, 4$ 的情况。\n\n对于 $k=0$：\n$|N_0| = \\binom{9-0}{0} = \\binom{9}{0} = 1$。（字符串是00000000）。\n\n对于 $k=1$：\n$|N_1| = \\binom{9-1}{1} = \\binom{8}{1} = 8$。\n\n对于 $k=2$：\n$|N_2| = \\binom{9-2}{2} = \\binom{7}{2} = \\frac{7 \\times 6}{2} = 21$。\n\n对于 $k=3$：\n$|N_3| = \\binom{9-3}{3} = \\binom{6}{3} = \\frac{6 \\times 5 \\times 4}{3 \\times 2 \\times 1} = 20$。\n\n对于 $k=4$：\n$|N_4| = \\binom{9-4}{4} = \\binom{5}{4} = 5$。\n\n对于 $k \\ge 5$，公式得出 $\\binom{9-k}{k}=0$，这与预期相符，因为我们无法在8个位置上放置5个或更多不相邻的1。\n\n这些反链 $N_k$ 的大小分别为1、8、21、20和5。这些值中的最大值是21。\n\n这个偏序集是一个分级偏序集，其秩函数是汉明权重。对于许多这样的偏序集，包括这一个（它具有Sperner性质），最大反链的大小等于最大秩层的大小。我们已经发现最大的秩层是 $N_2$，其大小为21。\n\n因此，在 $(S_8, \\preceq)$ 中最大可能反链的大小是21。", "answer": "$$\\boxed{21}$$", "id": "1357398"}]}