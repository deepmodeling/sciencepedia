{"hands_on_practices": [{"introduction": "在利用有向图解决复杂问题之前，我们必须首先理解一个抽象关系 $R$ 的基本性质（如自反性、对称性和传递性）如何转化为其对应图的具体结构。本练习将通过一个定义在二进制字符串集合上的关系来实践这项基本技能，帮助你掌握分析关系性质的核心方法。这项练习为你后续描述和分析由关系生成的图结构提供了必不可少的语言和工具。[@problem_id:1397002]", "problem": "考虑一个简单的计算模型，其中系统的状态由一个长度为3的二进制字符串表示。令 $S$ 为所有可能状态的集合，它包含所有长度为3的二进制字符串。系统可以从一个状态 $s_1$ 转换到另一个状态 $s_2$，当且仅当 $s_1$ 和 $s_2$ 的二进制字符串恰好在一个比特位上不同。这个规则在集合 $S$ 上定义了一个关系 $R$，其中有序对 $(s_1, s_2)$ 属于 $R$ 当且仅当从状态 $s_1$ 到状态 $s_2$ 的转换是可能的。\n\n下列哪个陈述正确描述了关系 $R$ 的性质？\n\nA. $R$ 是自反的、对称的。\n\nB. $R$ 是对称的、传递的。\n\nC. $R$ 是自反的、对称的、传递的。\n\nD. $R$ 是对称的，但不是自反的、不是传递的。\n\nE. $R$ 是传递的，但不是自反的、不是对称的。", "solution": "问题要求我们确定在所有长度为3的二进制字符串的集合 $S$ 上的关系 $R$ 的性质（自反性、对称性、传递性）。该集合为 $S = \\{000, 001, 010, 011, 100, 101, 110, 111\\}$。关系的定义是 $(s_1, s_2) \\in R$ 当且仅当字符串 $s_1$ 和 $s_2$ 恰好在一个比特位上不同。\n\n**步骤1：检验自反性**\n一个集合 $S$ 上的关系 $R$ 是自反的，如果对于 $S$ 中的每一个元素 $s \\in S$，序对 $(s, s)$ 都属于 $R$。\n我们从 $S$ 中任取一个元素，例如 $s = 010$。要使 $(s, s)$ 属于 $R$，字符串 $s$ 必须与自身恰好在一个位置上不同。\n然而，任何字符串都与自身相同，意味着它们在零个位置上不同。由于 $0 \\neq 1$，不满足关系的条件。因此，对于任何 $s \\in S$，都有 $(s, s) \\notin R$。\n因此，关系 $R$ **不是自反的**。\n这个结论立即排除了选项A和C。\n\n**步骤2：检验对称性**\n一个集合 $S$ 上的关系 $R$ 是对称的，如果对于 $S$ 中的每一对元素 $s_1, s_2 \\in S$，若 $(s_1, s_2) \\in R$，则 $(s_2, s_1) \\in R$。\n我们假设 $(s_1, s_2) \\in R$。根据 $R$ 的定义，这意味着二进制字符串 $s_1$ 和 $s_2$ 恰好在一个比特位上不同。\n“恰好在一个比特位上不同”这个性质本身就是对称的。如果字符串 $s_1$ 与字符串 $s_2$ 在单个位置 $i$ 上不同，那么字符串 $s_2$ 也与字符串 $s_1$ 在同一个位置 $i$ 上不同。\n例如，令 $s_1 = 101$ 和 $s_2 = 111$。它们仅在第二个位置上不同，所以 $(101, 111) \\in R$。比较 $s_2=111$ 和 $s_1=101$，它们也仅在第二个位置上不同，所以 $(111, 101) \\in R$。\n由于这对任何相差一个比特的 $s_1, s_2$ 都成立，我们可以得出结论，如果 $(s_1, s_2) \\in R$，那么 $(s_2, s_1) \\in R$。\n因此，关系 $R$ 是**对称的**。\n这个结论与选项A、B和D一致，但我们已经排除了A。它还排除了选项 E。\n\n**步骤3：检验传递性**\n一个集合 $S$ 上的关系 $R$ 是传递的，如果对于 $S$ 中的任意一组元素 $s_1, s_2, s_3 \\in S$，若 $(s_1, s_2) \\in R$ 且 $(s_2, s_3) \\in R$，则 $(s_1, s_3) \\in R$。\n为了检验传递性，我们可以寻找一个反例。\n我们选择 $s_1 = 000$。需要找到一个 $s_2$ 使得 $(s_1, s_2) \\in R$。令 $s_2 = 100$。字符串 $s_1$ 和 $s_2$ 仅在第一个比特位上不同，所以 $(000, 100) \\in R$。\n现在，我们需要找到一个 $s_3$ 使得 $(s_2, s_3) \\in R$。为了构造一个可能的反例，我们应该更改 $s_2$ 中一个与从 $s_1$ 变为 $s_2$ 时所更改的比特位不同的比特位。让我们更改 $s_2=100$ 的第二个比特位，得到 $s_3 = 110$。字符串 $s_2$ 和 $s_3$ 仅在第二个比特位上不同，所以 $(100, 110) \\in R$。\n我们已经确定，对于我们选择的 $s_1=000, s_2=100, s_3=110$，有 $(s_1, s_2) \\in R$ 且 $(s_2, s_3) \\in R$。现在我们必须检查是否有 $(s_1, s_3) \\in R$。\n我们来比较 $s_1 = 000$ 和 $s_3 = 110$。\n第一个比特位不同（0 vs 1）。\n第二个比特位不同（0 vs 1）。\n第三个比特位相同（0 vs 0）。\n字符串 $s_1$ 和 $s_3$ 在两个比特位上不同。由于 $2 \\neq 1$，序对 $(s_1, s_3)$ 不属于 $R$。\n我们找到了一个情况，其中 $(s_1, s_2) \\in R$ 且 $(s_2, s_3) \\in R$，但 $(s_1, s_3) \\notin R$。这是一个有效的反例。\n因此，关系 $R$ **不是传递的**。\n这个结论排除了选项B（以及已经被排除的C）。\n\n**结论**\n我们已经确定关系 $R$ 不是自反的、是对称的、也不是传递的。唯一符合此描述的选项是D。", "answer": "$$\\boxed{D}$$", "id": "1397002"}, {"introduction": "在理解了基本性质之后，这个练习将挑战你更进一步：你不再仅仅是验证一个给定关系的性质，而是在一个更大的网络中，找出一个能形成“理想社群”——即一个等价关系的子集。这个练习模拟了在复杂系统中寻找内聚群组或进行分区的问题，并能锻炼你在解决问题时，灵活运用自反性、对称性和传递性定义的能力。[@problem_id:1397004]", "problem": "考虑一个有向图 $G = (V, E)$，用于对一组代理之间的社会信任网络进行建模。代理集合由顶点 $V$ 表示，一条有向边 $(u, v) \\in E$ 表示代理 $u$ 信任代理 $v$。\n\n我们在 $V$ 上定义一个关系 $R$，使得 $u R v$ 当且仅当 $(u, v) \\in E$。\n\n一个“理想信任集体”是代理的一个子集 $S \\subseteq V$，使得关系 $R$ 在限制于集合 $S$ 上时构成一个等价关系。回顾一下，一个集合 $S$ 上的关系是等价关系，如果它对于 $S$ 内的所有元素都是自反的、对称的和传递的。\n\n给定以下信任网络：\n顶点集为 $V = \\{1, 2, 3, 4, 5, 6, 7, 8\\}$。\n有向边集为 $E = \\{(1,1), (2,2), (3,3), (4,4), (5,5), (7,7), (8,8), (1,2), (2,1), (1,3), (3,1), (2,3), (3,2), (4,5), (5,4), (5,7), (7,5), (3,4), (7,1)\\}$。\n\n你的任务是找出能构成理想信任集体的最大可能代理集合。从以下选项中，选择与这个最大集体相对应的顶点集。\n\nA. $\\{1, 2, 3\\}$\n\nB. $\\{1, 2, 3, 4, 5, 7, 8\\}$\n\nC. $\\{4, 5, 7, 8\\}$\n\nD. $\\{1, 2, 3, 8\\}$\n\nE. $\\{1, 2, 3, 4, 5, 8\\}$\n\nF. $\\{1, 2, 3, 5, 7, 8\\}$", "solution": "我们给定一个有向图关系 $R \\subseteq V \\times V$，其中 $uRv$ 当且仅当 $(u,v) \\in E$。要使 $R$ 在子集 $S \\subseteq V$ 上成为一个等价关系，它必须对所有 $u,v,w \\in S$ 满足：自反性，即 $(u,u) \\in E$；对称性，即如果 $(u,v) \\in E$ 则 $(v,u) \\in E$；以及传递性，即如果 $(u,v) \\in E$ 且 $(v,w) \\in E$ 则 $(u,w) \\in E$。\n\n首先，检查自反性。因为 $E$ 包含 $i \\in \\{1,2,3,4,5,7,8\\}$ 的 $(i,i)$，但不包含 $6$ 的，所以任何有效的 $S$ 都必须是 $\\{1,2,3,4,5,7,8\\}$ 的子集。因此，顶点 $6$ 不能出现在任何理想信任集体中。\n\n其次，检查在 $S$ 上的对称性。在 $\\{1,2,3,4,5,7,8\\}$ 中，存在的非对称边是 $(3,4) \\in E$ 而 $(4,3) \\notin E$，以及 $(7,1) \\in E$ 而 $(1,7) \\notin E$。因此，任何同时包含 $3$ 和 $4$ 的 $S$ 都会违反对称性，任何同时包含 $7$ 和 $1$ 的 $S$ 也会违反对称性。相比之下，在 $\\{1,2,3\\}$ 中，所有的边都是成对存在的：$(1,2)$ 和 $(2,1)$，$(1,3)$ 和 $(3,1)$，$(2,3)$ 和 $(3,2)$，因此在这里对称性成立。\n\n第三，检查在 $S$ 上的传递性。考虑在 $\\{4,5,7\\}$ 上的子图。我们有 $(4,5) \\in E$ 和 $(5,7) \\in E$，因此传递性要求 $(4,7) \\in E$，但 $(4,7) \\notin E$。因此，任何包含 $\\{4,5,7\\}$ 的 $S$ 都违反传递性。更一般地，只要 $S$ 包含一个有向两步链 $(u,v)$ 和 $(v,w)$，传递性就要求 $S$ 内部有 $(u,w) \\in E$。相比之下，$\\{1,2,3\\}$ 已经是一个完全双向团（带自环），因此传递性在那里成立。顶点 $8$ 只有 $(8,8)$，没有指向其他顶点或来自其他顶点的边，所以包含 $8$ 不会在不同顶点之间产生新的对称性或传递性要求。\n\n现在来评估各个选项：\nA. $\\{1,2,3\\}$ 满足自反性、对称性和传递性，因为它是一个带自环的完全双向团。\nB. $\\{1,2,3,4,5,7,8\\}$ 同时包含 $3$ 和 $4$（因 $(3,4)$ 违反了对称性），包含 $\\{4,5,7\\}$（违反了传递性），并且还包含 $1$ 和 $7$ （因 $(7,1)$ 违反了对称性），因此无效。\nC. $\\{4,5,7,8\\}$ 包含 $\\{4,5,7\\}$，这违反了传递性，因为存在 $(4,5)$ 和 $(5,7)$ 但不存在 $(4,7)$。\nD. $\\{1,2,3,8\\}$ 满足自反性；在 $\\{1,2,3\\}$ 中，所有顶点对之间的边都是双向的，且传递性成立；$8$ 除了 $(8,8)$ 以外是孤立的，不会产生跨顶点的要求。因此有效。\nE. $\\{1,2,3,4,5,8\\}$ 同时包含 $3$ 和 $4$，因 $(3,4)$ 违反了对称性。\nF. $\\{1,2,3,5,7,8\\}$ 同时包含 $1$ 和 $7$，因 $(7,1)$ 违反了对称性；事实上，由于存在 $(7,1)$ 和 $(1,2)$，它也违反了传递性，因为这意味着应有 $(7,2)$，但 $(7,2)$ 不在 $E$ 中。\n\n在有效选项中，A 的大小为 $3$，D 的大小为 $4$。没有更大的选项是有效的。因此，选项中最大的理想信任集体是 $\\{1,2,3,8\\}$，对应于选项 D。", "answer": "$$\\boxed{D}$$", "id": "1397004"}, {"introduction": "最后的这个实践练习展示了将关系表示为图在解决现实世界优化问题中的威力。通过将课程的先决条件建模为一个偏序关系，并用一个有向无环图（DAG）来表示，我们就能确定完成所有课程所需的最短时间。这个练习将抽象概念与项目管理、课程规划等具体应用联系起来，并突出了如图中最长路径分析等图算法的实用价值。[@problem_id:1396991]", "problem": "某大学的计算机科学系设立了一个新的专业方向——“量子信息系统”。该专业方向包含十门核心课程，分别标记为A到J。课程设置遵循一套先修规则，即必须先完成一门先修课程，才能注册后续课程。一名学生可以在一个学期内修读任意数量的课程，只要这些课程的所有先修要求已在*之前*的学期中满足。\n\n先修结构由以下有序对定义，其中有序对中的第一个元素是第二个元素的直接先修课程：\n(A, B), (C, D), (B, E), (D, F), (A, D), (E, F), (F, G), (F, I), (G, H), (I, J), (H, J)\n\n根据这些信息，请确定一名全日制学生完成从A到J所有十门课程所需的最少学期数。", "solution": "将先修结构解释为一个有向无环图，其中一条边 $X \\to Y$ 表示 $X$ 是 $Y$ 的先修课程。如果有多条边指向一门课程，则所有这些先修课程都必须在之前的学期完成。\n\n设 $L(X)$ 为可以修读课程 $X$ 的最早学期。其遵循的规则是：\n$$\nL(X)=\n\\begin{cases}\n1, & \\text{如果 $X$ 没有先修课程},\\\\\n1+\\max\\{L(P): P \\text{ 是 } X \\text{ 的先修课程}\\}, & \\text{否则}.\n\\end{cases}\n$$\n\n找出源点（没有先修课程的课程）：$A$ 和 $C$。因此，\n$$L(A)=1,\\quad L(C)=1.$$\n\n使用给定的边计算层级：\n- $A \\to B$ 给出 $L(B)=1+L(A)=2$。\n- $A \\to D$ 和 $C \\to D$ 意味着 $A$ 和 $C$ 都是 $D$ 的先修课程，所以\n$$L(D)=1+\\max\\{L(A),L(C)\\}=1+\\max\\{1,1\\}=2.$$\n- $B \\to E$ 给出 $L(E)=1+L(B)=3$。\n- $D \\to F$ 和 $E \\to F$ 意味着 $D$ 和 $E$ 都是 $F$ 的先修课程，所以\n$$L(F)=1+\\max\\{L(D),L(E)\\}=1+\\max\\{2,3\\}=4.$$\n- $F \\to G$ 给出 $L(G)=1+L(F)=5$。\n- $F \\to I$ 给出 $L(I)=1+L(F)=5$。\n- $G \\to H$ 给出 $L(H)=1+L(G)=6$。\n- $I \\to J$ 和 $H \\to J$ 意味着 $I$ 和 $H$ 都是 $J$ 的先修课程，所以\n$$L(J)=1+\\max\\{L(I),L(H)\\}=1+\\max\\{5,6\\}=7.$$\n\n完成所有课程所需的最少学期数是所有课程的 $L$ 值中的最大值，因为最长先修链上的任何课程都必须在不同的学期修读，而所有其他课程都可以在不增加这个最大值的情况下并行安排。因此，\n$$\\max\\{L(A),L(B),L(C),L(D),L(E),L(F),L(G),L(H),L(I),L(J)\\}=7.$$", "answer": "$$\\boxed{7}$$", "id": "1396991"}]}