{"hands_on_practices": [{"introduction": "第一个练习将使用几何分布来探讨“等待首次成功”的基本概念。通过计算已知初始失败次数后，成功所需总试验次数的期望值，你将对无记忆性这一概率论中的基石概念获得直观的理解。[@problem_id:1371840]", "problem": "一位弓箭手正在练习箭术。其在任意一次射击中命中靶心的概率为 $p$，其中 $0 < p < 1$。每次射击都是一个独立事件。该弓箭手刚完成了恰好连续 $n$ 次的脱靶。他决定继续射箭，直到首次命中靶心为止。设 $T$ 代表弓箭手射击的总次数，包括最初的 $n$ 次脱靶，以及之后直到并包括首次命中靶心的所有后续射击。\n\n求出 $T$ 的期望值，并以一个包含 $n$ 和 $p$ 的表达式作答。", "solution": "设单次射击的成功概率为 $p$ 且 $0<p<1$，并设弓箭手已恰好连续 $n$ 次脱靶。由于各次射击相互独立，在这 $n$ 次脱靶之后，直到首次命中所需的额外射击次数（记为 $X$）服从定义在 $\\{1,2,\\dots\\}$ 上、参数为 $p$ 的几何分布，所以\n$$\n\\Pr(X=k)=(1-p)^{k-1}p \\quad \\text{for } k\\geq 1.\n$$\n所计数的总射击次数 $T$ 包括最初的 $n$ 次脱靶，以及之后直到并包括首次命中的所有射击，即\n$$\nT=n+X.\n$$\n根据期望的线性性质，\n$$\n\\mathbb{E}[T]=n+\\mathbb{E}[X].\n$$\n我们从其级数来计算 $\\mathbb{E}[X]$：\n$$\n\\mathbb{E}[X]=\\sum_{k=1}^{\\infty}k(1-p)^{k-1}p\n= p\\sum_{k=1}^{\\infty}k r^{k-1}, \\quad \\text{where } r=1-p.\n$$\n利用通过对几何级数 $\\sum_{k=0}^{\\infty}r^{k}=\\frac{1}{1-r}$（对于 $|r|<1$）求导得到的恒等式：\n$$\n\\sum_{k=1}^{\\infty}k r^{k-1}=\\frac{1}{(1-r)^{2}},\n$$\n我们得到，当 $r=1-p$ 时，\n$$\n\\sum_{k=1}^{\\infty}k r^{k-1}=\\frac{1}{p^{2}},\n\\quad \\text{hence} \\quad\n\\mathbb{E}[X]=p\\cdot \\frac{1}{p^{2}}=\\frac{1}{p}.\n$$\n因此，\n$$\n\\mathbb{E}[T]=n+\\frac{1}{p}.\n$$", "answer": "$$\\boxed{n+\\frac{1}{p}}$$", "id": "1371840"}, {"introduction": "在单次成功的基础上，我们现在将问题推广到需要多次成功的场景。这个问题提供了一个将负二项分布的概率质量函数应用于现实场景的动手实践，这是对“等待直到满足特定成功次数”这类过程进行建模的一项核心技能。[@problem_id:1371878]", "problem": "一个深空探测器的任务是向地球传输一组关键的科学数据包。由于宇宙射线干扰，每个数据包成功传输并获得确认的概率是恒定且独立的，给定为 $p = 0.82$。如果数据包损坏或未收到其确认，则传输被视为失败。探测器的协议规定，它将重复传输数据包，直到收到恰好 $r = 5$ 次成功确认为止。\n\n计算探测器为完成任务总共需要传输恰好 $k = 9$ 个数据包的概率。将您的答案表示为一个数值，并四舍五入到四位有效数字。", "solution": "每次传输尝试都是一次独立的伯努利试验，成功概率为 $p=0.82$，失败概率为 $q=1-p=0.18$。令 $K$ 为观测到恰好 $r=5$ 次成功确认所需的总传输次数。事件 $\\{K=k\\}$ 发生的条件是，当且仅当在前 $k-1$ 次试验中恰好有 $r-1$ 次成功，并且第 $k$ 次试验是成功的。根据独立性以及在前 $k-1$ 次试验中 $r-1$ 次成功位置的二项式计数，其概率质量函数是负二项分布的形式：\n$$\n\\Pr(K=k)=\\binom{k-1}{r-1}p^{r}q^{\\,k-r}, \\quad k=r,r+1,\\ldots\n$$\n代入 $r=5$, $k=9$, $p=0.82$ 和 $q=0.18$ 得：\n$$\n\\Pr(K=9)=\\binom{8}{4}(0.82)^{5}(0.18)^{4}.\n$$\n计算每个因子：\n$$\n\\binom{8}{4}=70,\\quad (0.82)^{5}=0.3707398432,\\quad (0.18)^{4}=0.00104976.\n$$\n相乘得到：\n$$\n\\Pr(K=9)=70\\times 0.3707398432\\times 0.00104976=0.02724315004583424.\n$$\n将此值四舍五入到四位有效数字，得到 $0.02724$。", "answer": "$$\\boxed{0.02724}$$", "id": "1371878"}, {"introduction": "我们最后一个练习将带你进入更深入且更巧妙的条件概率领域。通过在已知两个独立几何过程结果总和的条件下，探究其中一个过程的结果，你将揭示一个关于它们底层结构的惊人而优美的结论。这个练习能够锻炼你处理条件期望的技巧，并让你对随机过程的性质有更深刻的洞察。[@problem_id:1371894]", "problem": "一家科技公司制造一种特殊类型的氮化镓 (GaN) 半导体。在质量控制过程中，每个半导体都会进行一次压力测试。任何一个半导体未能通过测试的概率为一个未知但恒定的值 $p$，其中 $0 < p < 1$。生产和测试过程可以建模为一系列独立的伯努利试验。\n\n设随机变量 $X_1$ 表示直到观察到第一次失败为止所测试的半导体数量。在第一次失败之后，测试过程会重置，并对新一批半导体开始新一轮的测试。设随机变量 $X_2$ 表示在这第二轮测试中直到观察到第一次失败为止所测试的半导体数量。假设 $X_1$ 和 $X_2$ 是独立同分布的。\n\n一位分析师在回顾历史测试数据时，发现了一个特殊情况，即观察到这两次失败所测试的半导体总数恰好为 $k$，其中 $k$ 是一个已知整数且 $k \\geq 2$。换句话说，即给定事件 $X_1 + X_2 = k$ 已经发生。\n\n基于此信息，请确定第一次失败的试验次数 $X_1$ 的期望值。最终答案应为一个用 $k$ 表示的封闭形式表达式。", "solution": "设 $X_{1}$ 和 $X_{2}$ 为参数为 $p$ 的独立几何随机变量，其支撑集为 $\\{1,2,\\ldots\\}$，因此对于 $n \\in \\{1,2,\\ldots\\}$，\n$$\n\\mathbb{P}(X_{j}=n)=(1-p)^{n-1}p \\quad \\text{for } j \\in \\{1,2\\}.\n$$\n定义 $S=X_{1}+X_{2}$，并以事件 $\\{S=k\\}$ (其中 $k \\geq 2$) 为条件。对于任意 $i \\in \\{1,2,\\ldots,k-1\\}$，根据独立性，\n$$\n\\mathbb{P}(X_{1}=i, X_{2}=k-i)=\\mathbb{P}(X_{1}=i)\\mathbb{P}(X_{2}=k-i)=(1-p)^{i-1}p\\,(1-p)^{k-i-1}p=p^{2}(1-p)^{k-2}.\n$$\n这个值不依赖于 $i$，因此对于 $i \\in \\{1,\\ldots,k-1\\}$，条件分布是均匀的：\n$$\n\\mathbb{P}(X_{1}=i \\mid S=k)=\\frac{\\mathbb{P}(X_{1}=i, X_{2}=k-i)}{\\sum_{j=1}^{k-1}\\mathbb{P}(X_{1}=j, X_{2}=k-j)}=\\frac{p^{2}(1-p)^{k-2}}{(k-1)p^{2}(1-p)^{k-2}}=\\frac{1}{k-1}.\n$$\n因此，\n$$\n\\mathbb{E}[X_{1} \\mid S=k]=\\sum_{i=1}^{k-1} i \\,\\mathbb{P}(X_{1}=i \\mid S=k)=\\frac{1}{k-1}\\sum_{i=1}^{k-1} i=\\frac{1}{k-1}\\cdot \\frac{(k-1)k}{2}=\\frac{k}{2}.\n$$\n等价地，根据对称性以及 $X_{1}+X_{2}=k$ 意味着 $\\mathbb{E}[X_{1}\\mid S=k]=\\mathbb{E}[X_{2}\\mid S=k]$ 且 $2\\mathbb{E}[X_{1}\\mid S=k]=k$ 这一事实，可以得到相同的结果。", "answer": "$$\\boxed{\\frac{k}{2}}$$", "id": "1371894"}]}