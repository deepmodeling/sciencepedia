{"hands_on_practices": [{"introduction": "这个练习提供了一个理想的起点，用以阐释指示器随机变量的核心思想。我们将通过一个具体的场景——从一群夫妇中随机选取一个委员会——来探讨如何计算期望选中的夫妇对数。这个问题的巧妙之处在于，我们无需计算选中$k$对夫妇的复杂概率分布，只需利用期望的线性性质，将问题分解为计算“某一特定夫妇被选中”这一简单事件的概率即可。[@problem_id:1366010]", "problem": "一个研究团队正在研究群体动力学，他们招募了 $n$ 对已婚夫妇，共计 $2n$ 名参与者。为了进行实验，他们需要从这批人中选出 $k$ 个人组成一个任务小组，其中整数 $n$ 和 $k$ 满足 $n \\ge 1$ 和 $2 \\le k \\le 2n$。选择是均匀随机的，即每个可能的 $k$ 人小组被选中的概率均等。请推导被完全选入任务小组（即夫妇双方都被选中）的已婚夫妇的期望数量的表达式。请用 $n$ 和 $k$ 来表示你的答案。", "solution": "设这 $2n$ 名参与者由 $n$ 对已婚夫妇组成。对于每一对夫妇 $i \\in \\{1,2,\\dots,n\\}$，定义指示随机变量 $X_{i}$：如果夫妇 $i$ 的双方都被选入这个大小为 $k$ 的任务小组，则 $X_{i}=1$；否则 $X_{i}=0$。被完全选入的夫妇总数为 $X=\\sum_{i=1}^{n} X_{i}$。根据期望的线性性质，\n$$\n\\mathbb{E}[X]=\\sum_{i=1}^{n} \\mathbb{E}[X_{i}]=\\sum_{i=1}^{n} \\mathbb{P}(X_{i}=1).\n$$\n因为选择是在所有 $\\binom{2n}{k}$ 个大小为 $k$ 的子集上均匀进行的，所以某对固定夫妇 $i$ 的双方都被选中的概率等于从其余 $2n-2$ 人中选择剩下 $k-2$ 个人的方式数除以 $k$ 元子集的总数：\n$$\n\\mathbb{P}(X_{i}=1)=\\frac{\\binom{2n-2}{k-2}}{\\binom{2n}{k}}.\n$$\n使用二项式系数的阶乘定义来化简这个比率：\n$$\n\\frac{\\binom{2n-2}{k-2}}{\\binom{2n}{k}}=\\frac{\\frac{(2n-2)!}{(k-2)!(2n-k)!}}{\\frac{(2n)!}{k!(2n-k)!}}=\\frac{(2n-2)! \\, k!}{(k-2)! \\, (2n)!}.\n$$\n使用 $(2n)!=(2n)(2n-1)(2n-2)!$ 和 $k!=k(k-1)(k-2)!$ 可得\n$$\n\\frac{(2n-2)! \\, k!}{(k-2)! \\, (2n)!}=\\frac{k(k-1)}{(2n)(2n-1)}.\n$$\n因此，\n$$\n\\mathbb{E}[X]=\\sum_{i=1}^{n} \\frac{k(k-1)}{(2n)(2n-1)}=n \\cdot \\frac{k(k-1)}{(2n)(2n-1)}=\\frac{k(k-1)}{2(2n-1)}.\n$$\n这就是被完全选入任务小组的已婚夫妇的期望数量。", "answer": "$$\\boxed{\\frac{k(k-1)}{2(2n-1)}}$$", "id": "1366010"}, {"introduction": "在许多计算和数据科学场景中，我们并非选择一个固定大小的子集，而是独立地为每个元素决定其归属。本练习探讨了在这种模型下，如何量化两个独立生成的随机集合之间的“分歧”或差异。通过为每个文档是否属于对称差集$A \\Delta B$定义一个指示器变量，我们可以优雅地计算出期望差异的大小，这展示了指示器变量在分析概率性数据结构时的强大作用。[@problem_id:1376379]", "problem": "一个大型数字档案馆包含一个由 $n$ 份不同文档组成的主集合 $S$。两位研究员 Alice 和 Bob 正在独立地从该档案馆中整理各自的文档收藏。对于主集合 $S$ 中的每一份文档，Alice 将其收入她的收藏（集合 $A$）的概率为 $p$。独立地，Bob 将同一份文档收入他的收藏（集合 $B$）的概率也为 $p$，其中 $0 < p < 1$。\n\n这两位研究员希望量化他们收藏之间的“不一致性”。他们将这种不一致性定义为仅在一位研究员的收藏中而不在另一位收藏中的文档总数。这等价于他们收藏的对称差的大小，记为 $|A \\Delta B|$，其中 $A \\Delta B = (A \\setminus B) \\cup (B \\setminus A)$。\n\n求这个不一致性度量的期望值 $\\mathbb{E}[|A \\Delta B|]$，并用 $n$ 和 $p$ 的表达式表示。", "solution": "设 $S$ 为主集合，其大小为 $|S|=n$。对每份文档 $i \\in S$，定义指示随机变量\n$$\nX_{i}=\\begin{cases}\n1, & \\text{若文档 } i \\text{ 在 } A \\Delta B \\text{ 中},\\\\\n0, & \\text{其它情况}。\n\\end{cases}\n$$\n那么，不一致性的总大小为\n$$\n|A \\Delta B|=\\sum_{i=1}^{n} X_{i}。\n$$\n根据期望的线性性质，\n$$\n\\mathbb{E}[|A \\Delta B|]=\\sum_{i=1}^{n} \\mathbb{E}[X_{i}]=n \\cdot \\mathbb{E}[X_{1}],\n$$\n因为所有的 $X_{i}$ 都是同分布的。\n\n对于一份固定的文档 $i$，$X_{i}=1$ 当且仅当它恰好被 Alice 或 Bob 中的一人收藏。由于选择是独立的，且每位研究员收入文档的概率均为 $p$，\n$$\n\\mathbb{P}(X_{i}=1)=\\mathbb{P}(\\text{Alice 收入}, \\text{ Bob 不收入})+\\mathbb{P}(\\text{Alice 不收入}, \\text{ Bob 收入})\n$$\n$$\n= p(1-p)+(1-p)p=2p(1-p).\n$$\n因此，\n$$\n\\mathbb{E}[X_{i}]=2p(1-p),\n$$\n所以\n$$\n\\mathbb{E}[|A \\Delta B|]=n \\cdot 2p(1-p)=2np(1-p).\n$$", "answer": "$$\\boxed{2np(1-p)}$$", "id": "1376379"}, {"introduction": "排列是离散数学和算法分析中的基本结构。这个练习将挑战我们分析两个独立随机排列的共同结构属性——具体来说，是“上升”同时出现的位置数量。乍一看，这个问题似乎非常复杂，但它完美地展示了指示器随机变量与独立性原则相结合的力量。我们将应用对称性论证来确定单个上升的概率，并利用独立性来计算共同上升的期望值，从而将一个看似棘手的问题简化。[@problem_id:1365957]", "problem": "设 $n$ 是一个整数，满足 $n \\ge 2$。考虑两个排列 $\\pi_1$ 和 $\\pi_2$，它们是从集合 $\\{1, 2, \\dots, n\\}$ 的所有 $n!$ 个排列中独立地、均匀地随机选取的。\n\n在一个排列 $\\pi$ 中，位置 $i$ 上的一个*上升*（ascent）定义为满足条件 $\\pi(i) < \\pi(i+1)$。我们关心的是两个排列同时出现上升的下标。\n\n设 $N$ 为随机变量，表示满足 $\\pi_1(i) < \\pi_1(i+1)$ 和 $\\pi_2(i) < \\pi_2(i+1)$ 同时成立的下标 $i \\in \\{1, 2, \\dots, n-1\\}$ 的总数。\n\n求 $N$ 的期望值，记为 $\\mathbb{E}[N]$。你的答案应该是一个关于 $n$ 的闭式解析表达式。", "solution": "设 $N$ 是随机变量，表示两个排列 $\\pi_1$ 和 $\\pi_2$ 同时具有上升的下标 $i \\in \\{1, 2, \\dots, n-1\\}$ 的数量。为了求出 $N$ 的期望值，我们可以使用指示随机变量法。\n\n对于每个下标 $i \\in \\{1, 2, \\dots, n-1\\}$，我们定义一个指示随机变量 $I_i$ 如下：\n$$\nI_i = \\begin{cases} 1 & \\text{如果 } \\pi_1(i) < \\pi_1(i+1) \\text{ 且 } \\pi_2(i) < \\pi_2(i+1) \\\\ 0 & \\text{否则} \\end{cases}\n$$\n此类下标的总数 $N$ 可以表示为这些指示变量的和：\n$$\nN = \\sum_{i=1}^{n-1} I_i\n$$\n根据期望的线性性，$N$ 的期望值是这些指示变量的期望值之和：\n$$\n\\mathbb{E}[N] = \\mathbb{E}\\left[\\sum_{i=1}^{n-1} I_i\\right] = \\sum_{i=1}^{n-1} \\mathbb{E}[I_i]\n$$\n指示随机变量的期望等于它所指示的事件发生的概率。因此，$\\mathbb{E}[I_i] = P(I_i = 1)$。事件 $I_i=1$ 发生当且仅当 $\\pi_1$ 和 $\\pi_2$ 都在位置 $i$ 处有上升。设 $A_i$ 是事件“$\\pi_1$ 在位置 $i$ 处有上升”，$B_i$ 是事件“$\\pi_2$ 在位置 $i$ 处有上升”。则：\n$$\nP(I_i = 1) = P(A_i \\cap B_i)\n$$\n题目说明排列 $\\pi_1$ 和 $\\pi_2$ 是独立选取的。这意味着事件 $A_i$（仅依赖于 $\\pi_1$）和事件 $B_i$（仅依赖于 $\\pi_2$）是独立事件。因此，我们可以写出：\n$$\nP(A_i \\cap B_i) = P(A_i) P(B_i)\n$$\n现在，我们需要计算对于单个随机排列 $\\pi$，在给定位置 $i$ 处有上升的概率。我们来计算 $P(A_i) = P(\\pi_1(i) < \\pi_1(i+1))$。\n对于一个均匀随机选取的排列 $\\pi$，考虑任意两个不同位置（比如 $j$ 和 $k$）上的值。设这两个值为 $\\pi(j)$ 和 $\\pi(k)$。根据对称性，对于任意两个不同的值 $u, v \\in \\{1, \\dots, n\\}$，事件 $\\{\\pi(j), \\pi(k)\\} = \\{u, v\\}$ 是等可能的。一旦这两个值被固定，将它们分配给位置 $j$ 和 $k$ 有两种等可能的方式：要么 $(\\pi(j), \\pi(k)) = (u,v)$，要么 $(\\pi(j), \\pi(k)) = (v,u)$。如果 $u < v$，一种分配导致 $\\pi(j) < \\pi(k)$，另一种导致 $\\pi(j) > \\pi(k)$。因此，概率 $P(\\pi(j) < \\pi(k))$ 必须等于 $P(\\pi(j) > \\pi(k))$。由于 $\\pi$ 是一个排列，$\\pi(j) \\ne \\pi(k)$，所以这只有两种可能性。因此，每种情况的概率都必须是 $1/2$。\n这个论证适用于任何一对不同的位置，包括相邻的位置 $i$ 和 $i+1$。所以，对于任意 $i \\in \\{1, \\dots, n-1\\}$：\n$$\nP(A_i) = P(\\pi_1(i) < \\pi_1(i+1)) = \\frac{1}{2}\n$$\n因为 $\\pi_2$ 和 $\\pi_1$ 是从相同的排列分布中抽取的，所以同样的逻辑也适用：\n$$\nP(B_i) = P(\\pi_2(i) < \\pi_2(i+1)) = \\frac{1}{2}\n$$\n现在我们可以计算指示变量 $I_i$ 的期望了：\n$$\n\\mathbb{E}[I_i] = P(I_i=1) = P(A_i)P(B_i) = \\frac{1}{2} \\times \\frac{1}{2} = \\frac{1}{4}\n$$\n注意到这个概率对于所有下标 $i \\in \\{1, \\dots, n-1\\}$ 都是相同的。\n最后，我们可以通过对 $n-1$ 个指示变量的期望求和来得到 $N$ 的期望值：\n$$\n\\mathbb{E}[N] = \\sum_{i=1}^{n-1} \\mathbb{E}[I_i] = \\sum_{i=1}^{n-1} \\frac{1}{4}\n$$\n因为求和中有 $n-1$ 项，结果是：\n$$\n\\mathbb{E}[N] = (n-1) \\times \\frac{1}{4} = \\frac{n-1}{4}\n$$", "answer": "$$\\boxed{\\frac{n-1}{4}}$$", "id": "1365957"}]}