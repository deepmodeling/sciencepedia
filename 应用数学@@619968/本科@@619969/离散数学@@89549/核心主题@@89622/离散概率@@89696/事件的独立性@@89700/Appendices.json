{"hands_on_practices": [{"introduction": "事件的独立性不仅仅是关于两个事件。在许多现实世界的系统中，例如密码学和系统可靠性分析，我们需要验证多个事件是否“相互”独立。这个练习将我们带入数论的背景，挑战我们去理解并应用比成对独立更强的“相互独立”条件。通过确定一个随机数生成器满足统计鲁棒性测试的最小参数 [@problem_id:1375853]，你将亲手实践如何从基本原理出发，系统地分析多个事件之间的复杂关系。", "problem": "一个密码学协议涉及一个伪随机整数生成器。对于给定的整数上界 $N$，该生成器从集合 $\\{1, 2, \\dots, N\\}$ 中均匀随机地生成一个整数 $k$。一项安全审计为生成的整数 $k$ 定义了三个关键属性：\n- 属性 A：$k$ 可被 2 整除。\n- 属性 B：$k$ 可被 3 整除。\n- 属性 C：$k$ 可被 5 整除。\n\n为了使该协议在特定的统计测试下被认为是稳健的，与这三个属性相对应的事件必须是相互独立的。在约束条件 $N \\geq 5$ 下，确定满足此相互独立条件的最小整数 $N$ 的值。", "solution": "设 $k$ 是从 $\\{1,2,\\dots,N\\}$ 中均匀选择的。定义事件 $A, B, C$ 分别表示 $k$ 可被 2, 3, 5 整除。令\n$$n_{2}=\\left\\lfloor \\frac{N}{2}\\right\\rfloor,\\quad n_{3}=\\left\\lfloor \\frac{N}{3}\\right\\rfloor,\\quad n_{5}=\\left\\lfloor \\frac{N}{5}\\right\\rfloor,$$\n$$n_{6}=\\left\\lfloor \\frac{N}{6}\\right\\rfloor,\\quad n_{10}=\\left\\lfloor \\frac{N}{10}\\right\\rfloor,\\quad n_{15}=\\left\\lfloor \\frac{N}{15}\\right\\rfloor,\\quad n_{30}=\\left\\lfloor \\frac{N}{30}\\right\\rfloor.$$\n则\n$$P(A)=\\frac{n_{2}}{N},\\quad P(B)=\\frac{n_{3}}{N},\\quad P(C)=\\frac{n_{5}}{N},$$\n$$P(A\\cap B)=\\frac{n_{6}}{N},\\quad P(A\\cap C)=\\frac{n_{10}}{N},\\quad P(B\\cap C)=\\frac{n_{15}}{N},\\quad P(A\\cap B\\cap C)=\\frac{n_{30}}{N}.$$\n相互独立需要满足以下四个等式\n$$n_{6}N=n_{2}n_{3},\\quad n_{10}N=n_{2}n_{5},\\quad n_{15}N=n_{3}n_{5},\\quad n_{30}N^{2}=n_{2}n_{3}n_{5}.$$\n\n首先，为每次两两独立推导出充要同余条件。\n\n对于 $A$ 和 $B$：将 $N$ 写成 $N=6q+r$ 的形式，其中 $0\\leq r\\leq 5$。则\n$$n_{2}=3q+\\left\\lfloor \\frac{r}{2}\\right\\rfloor,\\quad n_{3}=2q+\\left\\lfloor \\frac{r}{3}\\right\\rfloor,\\quad n_{6}=q.$$\n条件 $n_{6}N=n_{2}n_{3}$ 变为\n$$q(6q+r)=\\left(3q+\\left\\lfloor \\frac{r}{2}\\right\\rfloor\\right)\\left(2q+\\left\\lfloor \\frac{r}{3}\\right\\rfloor\\right).$$\n检验 $r=0,1,2,3,4,5$ 可得，当且仅当 $r\\in\\{0,2\\}$ 时等式成立。因此\n$A\\text{ 和 }B\\text{ 独立} \\iff N\\equiv 0 \\text{ 或 } 2 \\pmod{6}.$\n\n对于 $A$ 和 $C$：将 $N$ 写成 $N=10q+r$ 的形式，其中 $0\\leq r\\leq 9$。则\n$$n_{2}=5q+\\left\\lfloor \\frac{r}{2}\\right\\rfloor,\\quad n_{5}=2q+\\left\\lfloor \\frac{r}{5}\\right\\rfloor,\\quad n_{10}=q,$$\n且 $n_{10}N=n_{2}n_{5}$ 变为\n$$q(10q+r)=\\left(5q+\\left\\lfloor \\frac{r}{2}\\right\\rfloor\\right)\\left(2q+\\left\\lfloor \\frac{r}{5}\\right\\rfloor\\right).$$\n检验 $r=0,1,\\dots,9$ 可得，当且仅当 $r\\in\\{0,2,4\\}$ 时等式成立。因此\n$A\\text{ 和 }C\\text{ 独立} \\iff N\\equiv 0,2, \\text{ 或 } 4 \\pmod{10}.$\n\n对于 $B$ 和 $C$：将 $N$ 写成 $N=15q+r$ 的形式，其中 $0\\leq r\\leq 14$。则\n$$n_{3}=5q+\\left\\lfloor \\frac{r}{3}\\right\\rfloor,\\quad n_{5}=3q+\\left\\lfloor \\frac{r}{5}\\right\\rfloor,\\quad n_{15}=q,$$\n且 $n_{15}N=n_{3}n_{5}$ 变为\n$$q(15q+r)=\\left(5q+\\left\\lfloor \\frac{r}{3}\\right\\rfloor\\right)\\left(3q+\\left\\lfloor \\frac{r}{5}\\right\\rfloor\\right).$$\n检验 $r=0,1,\\dots,14$ 可得，当且仅当 $r\\in\\{0,3\\}$ 时等式成立。因此\n$B\\text{ 和 }C\\text{ 独立} \\iff N\\equiv 0 \\text{ 或 } 3 \\pmod{15}.$\n\n要使所有三对事件同时独立，$N$ 必须满足这三个同余条件。在模 $\\operatorname{lcm}(6,10,15)=30$ 下，允许的余数是\n- 由 $A,B$ 独立可得：$N\\equiv 0,2,8,10,12,14,18,20,22,24,26,28 \\pmod{30}$,\n- 由 $A,C$ 独立可得：$N\\equiv 0,2,4,10,12,14,20,22,24 \\pmod{30}$,\n- 由 $B,C$ 独立可得：$N\\equiv 0,3,15,18 \\pmod{30}$.\n交集仅为 $N\\equiv 0 \\pmod{30}$。因此，要使这三个事件两两独立，则 $N$ 必须是 $30$ 的倍数。\n\n现在，当 $N=30m$ 且 $m\\in\\mathbb{Z}_{\\geq 1}$ 时，检验三重相交条件。则\n$$n_{2}=15m,\\quad n_{3}=10m,\\quad n_{5}=6m,\\quad n_{30}=m,$$\n所以\n$$n_{30}N^{2}=m\\,(30m)^{2}=900m^{3}=15m\\cdot 10m\\cdot 6m=n_{2}n_{3}n_{5}.$$\n因此，三重交集的等式也成立。所以，当 $N$ 是 $30$ 的倍数时，事件 $A,B,C$ 是相互独立的。\n\n由于 $N\\geq 5$，30 的最小正倍数是 $N=30$。因此，使 $A,B,C$ 相互独立的最小 $N$ 是 $30$。", "answer": "$$\\boxed{30}$$", "id": "1375853"}, {"introduction": "当我们进入连续概率的领域，几何直觉是一个强大的工具，但有时也可能误导我们。这个练习模拟了一个云计算环境中的资源分配问题，提出了一个看似直观却又出人意料的场景。在一个简单的单位正方形样本空间中，两个看起来相互关联的事件——资源“过载”和分配“不平衡”——最终被证明是独立的 [@problem_id:1375904]。这个实践旨在强调，在判断独立性时，严格的数学计算是不可或缺的，它能揭示超越我们直观感受的深刻真相。", "problem": "在一个简化的云计算环境模型中，两个并发用户进程 P1 和 P2 提交对共享资源一部分的请求。设 $x$ 和 $y$ 分别是 P1 和 P2 请求的资源比例。请求对 $(x, y)$ 被建模为从单位正方形 $(x, y) \\in [0, 1] \\times [0, 1]$ 中均匀随机选择的一个点。\n\n系统监控两种特定情况：\n- **事件 A (过载):** 请求的总比例超过了资源容量。这对应于条件 $x + y > 1$。\n- **事件 B (不平衡):** 请求比例之间的绝对差值很大。这对应于条件 $|x - y| > \\frac{1}{2}$。\n\n基于此模型，以下哪个陈述正确描述了事件 A 和事件 B 之间的关系？\n\nA. 事件 A 和事件 B 是独立的。\nB. 事件 A 和事件 B 是相关的。\nC. 事件 A 和事件 B 是互斥的。\nD. 根据所提供的信息无法确定关系。", "solution": "样本空间是单位正方形 $[0,1]\\times[0,1]$，服从均匀分布，因此概率等于正方形内的面积。\n\n事件 $A$ 是 $\\{(x,y): x+y>1\\}$，即单位正方形内直线 $x+y=1$ 上方的右上三角形区域。其面积为\n$$\nP(A)=\\frac{1}{2}.\n$$\n\n事件 $B$ 是 $\\{(x,y): |x-y|>\\frac{1}{2}\\}$，即单位正方形内对角带状区域 $|x-y|\\leq \\frac{1}{2}$ 的补集。该带状区域的面积通过对每个 $x$ 的允许 $y$ 长度进行积分来计算：\n- 当 $x\\in[0,\\frac{1}{2}]$ 时，$y\\in[0,1]$ 与 $[x-\\frac{1}{2},x+\\frac{1}{2}]$ 的交集长度为 $x+\\frac{1}{2}$。\n- 当 $x\\in[\\frac{1}{2},1]$ 时，长度为 $\\frac{3}{2}-x$。\n因此，该带状区域的面积为\n$$\n\\int_{0}^{1/2}\\left(x+\\frac{1}{2}\\right)\\,dx+\\int_{1/2}^{1}\\left(\\frac{3}{2}-x\\right)\\,dx=\\frac{3}{8}+\\frac{3}{8}=\\frac{3}{4}.\n$$\n因此\n$$\nP(B)=1-\\frac{3}{4}=\\frac{1}{4}.\n$$\n\n为了求 $P(A\\cap B)$，将 $B$ 分解为两个区域：\n- $B_{1}=\\{(x,y): y>x+\\frac{1}{2}\\}$，该区域存在于 $x\\in[0,\\frac{1}{2}]$ 且 $y\\in[x+\\frac{1}{2},1]$ 的情况。\n- $B_{2}=\\{(x,y): y<x-\\frac{1}{2}\\}$，该区域存在于 $x\\in[\\frac{1}{2},1]$ 且 $y\\in[0,x-\\frac{1}{2}]$ 的情况。\n\n与 $A=\\{y>1-x\\}$ 求交集。\n\n对于 $B_{1}\\cap A$：当 $x\\in[0,\\frac{1}{2}]$ 时，$y$ 必须满足 $y>\\max\\{x+\\frac{1}{2},1-x\\}$，上限为 $1$。$x+\\frac{1}{2}=1-x$ 的切换点是 $x=\\frac{1}{4}$。因此面积为\n$$\n\\int_{0}^{1/4} \\left[1-(1-x)\\right]\\,dx+\\int_{1/4}^{1/2}\\left[1-\\left(x+\\frac{1}{2}\\right)\\right]\\,dx\n=\\int_{0}^{1/4} x\\,dx+\\int_{1/4}^{1/2}\\left(\\frac{1}{2}-x\\right)\\,dx\n=\\frac{1}{32}+\\frac{1}{32}=\\frac{1}{16}.\n$$\n\n对于 $B_{2}\\cap A$：当 $x\\in[\\frac{1}{2},1]$ 时，我们需要 $1-x<y<x-\\frac{1}{2}$。这要求 $x>\\frac{3}{4}$。因此面积为\n$$\n\\int_{3/4}^{1}\\left[\\left(x-\\frac{1}{2}\\right)-(1-x)\\right]\\,dx=\\int_{3/4}^{1}(2x-\\frac{3}{2})\\,dx=\\left[x^{2}-\\frac{3}{2}x\\right]_{3/4}^{1}=\\frac{1}{16}.\n$$\n因此\n$$\nP(A\\cap B)=\\frac{1}{16}+\\frac{1}{16}=\\frac{1}{8}.\n$$\n\n检验独立性：\n$P(A)P(B)=\\frac{1}{2}\\cdot\\frac{1}{4}=\\frac{1}{8}=P(A\\cap B)$.\n因此，事件 A 和事件 B 是独立的。\n\n所以，正确选项是 A。", "answer": "$$\\boxed{A}$$", "id": "1375904"}, {"introduction": "独立性的概念远不止应用于数字和几何问题，它在组合数学领域也至关重要，例如在分析网络结构或数据聚类时。本练习将样本空间从数字集合转变为更抽象的“集合划分” [@problem_id:1375879]。通过探究一个集合中元素被随机分到不同子集时所产生的事件关系，你将发现问题的内在结构约束是如何巧妙地引入事件之间的依赖性。这有助于你将独立性的概念推广到更广泛、更抽象的场景中。", "problem": "考虑整数集合 $S = \\{1, 2, 3, 4\\}$。我们进行一个实验，将集合 $S$ 随机地划分成恰好两个非空子集。该随机选择过程确保了将 $S$ 划分为两个非空子集的每一种可能划分被选中的概率均等。\n\n设 $A$ 为事件“元素 1 和 2 在划分的同一个子集中”。\n设 $B$ 为事件“元素 3 和 4 在划分的同一个子集中”。\n\n根据这些定义，下列哪个陈述是正确的？\n\nA. 事件 $A$ 和 $B$ 是独立的。\nB. 事件 $A$ 和 $B$ 是相关的。\nC. 事件 $A$ 和 $B$ 是互斥的。\nD. 根据所提供的信息，无法确定事件 $A$ 和 $B$ 之间的关系。", "solution": "我们将此随机实验建模为，从集合 $S=\\{1,2,3,4\\}$ 的所有划分为两个非空、无标签子集的划分中，进行均匀随机选择。这种划分的总数为 $7$，可以明确地枚举如下：\n$$\n\\{1\\}\\mid\\{2,3,4\\},\\quad \\{2\\}\\mid\\{1,3,4\\},\\quad \\{3\\}\\mid\\{1,2,4\\},\\quad \\{4\\}\\mid\\{1,2,3\\},\\quad \\{1,2\\}\\mid\\{3,4\\},\\quad \\{1,3\\}\\mid\\{2,4\\},\\quad \\{1,4\\}\\mid\\{2,3\\}.\n$$\n\n设 $A$ 为事件“1 和 2 在同一个块中”，$B$ 为事件“3 和 4 在同一个块中”。计算有利划分：\n- 对于 $A$：1 和 2 在一起的划分有 $\\{1,2\\}\\mid\\{3,4\\}$、$\\{1,2,4\\}\\mid\\{3\\}$ 和 $\\{1,2,3\\}\\mid\\{4\\}$，所以\n$$\nP(A)=\\frac{3}{7}.\n$$\n- 根据对称性， $P(B)=\\frac{3}{7}$。\n\n对于交集 $A\\cap B$，两对元素都必须在一起。满足此条件的唯一划分是 $\\{1,2\\}\\mid\\{3,4\\}$，因此\n$$\nP(A\\cap B)=\\frac{1}{7}.\n$$\n\n为了检验独立性，我们将 $P(A\\cap B)$ 与 $P(A)P(B)$ 进行比较：\n$$\nP(A)P(B)=\\frac{3}{7}\\cdot\\frac{3}{7}=\\frac{9}{49}\\neq\\frac{1}{7}=\\frac{7}{49}=P(A\\cap B).\n$$\n因此， $A$ 和 $B$ 不是独立的。它们也不是互斥的，因为 $P(A\\cap B)=\\frac{1}{7}>0$ （它们在 $\\{1,2\\}\\mid\\{3,4\\}$ 中同时发生）。因此，正确的陈述是 $A$ 和 $B$ 是相关的。", "answer": "$$\\boxed{B}$$", "id": "1375879"}]}