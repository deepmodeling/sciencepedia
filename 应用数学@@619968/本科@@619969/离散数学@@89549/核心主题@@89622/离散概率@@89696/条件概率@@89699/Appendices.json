{"hands_on_practices": [{"introduction": "条件概率的核心思想是利用新信息来更新我们对事件发生可能性的判断。这个练习将通过一个直观的计数问题，帮助你实践这一核心概念。通过确定在“和大于46”这一新条件下，哪些组合是可能的，你将直接应用条件概率的定义 $P(A|B) = |A \\cap B| / |B|$，从而在实践中真正理解样本空间是如何被缩小的 [@problem_id:1358432]。", "problem": "一批30个不同的电子元件，标有从1到30（含两端）的唯一序列号。一名质检员从这批元件中随机抽取两个不同的元件进行测试。已知这两个元件的序列号之和大于46，求其和为奇数的概率是多少？", "solution": "设样本空间为无序数对 $\\{i,j\\}$ 的集合，其中 $1 \\leq i < j \\leq 30$，所有数对都是等可能的。我们要求的是\n$$\nP(\\text{sum odd} \\mid \\text{sum} > 46) \\;=\\; \\frac{N(\\text{pairs with sum odd and } > 46)}{N(\\text{pairs with sum } > 46)}.\n$$\n对每个整数和 $s$，定义\n$$\nf(s) \\;=\\; \\left| \\{ (i,j) : 1 \\leq i < j \\leq 30,\\; i+j = s \\} \\right|.\n$$\n当 $s \\geq 31$ 时，$i$ 的取值范围是从 $s-30$ 到 $\\left\\lfloor \\frac{s-1}{2} \\right\\rfloor$，因此\n$$\nf(s) \\;=\\; \\left\\lfloor \\frac{s-1}{2} \\right\\rfloor - (s-30) + 1.\n$$\n我们需要 $s \\in \\{47,48,\\dots,59\\}$。根据 $s$ 的奇偶性计算 $f(s)$：\n\n- 如果 $s$ 是奇数，记 $s=2k+1$。那么 $\\left\\lfloor \\frac{s-1}{2} \\right\\rfloor = k$ 且 $s-30=2k-29$，得到\n$$\nf(s) = k - (2k-29) + 1 = 30 - k = \\frac{61 - s}{2}.\n$$\n因此对于 $s \\in \\{47,49,51,53,55,57,59\\}$,\n$$\nf(s) = 7,6,5,4,3,2,1,\n$$\n所以\n$$\nN(\\text{sum odd and } >46) = \\sum_{s \\in \\{47,49,51,53,55,57,59\\}} f(s) = 7+6+5+4+3+2+1 = 28.\n$$\n\n- 如果 $s$ 是偶数，记 $s=2k$。那么 $\\left\\lfloor \\frac{s-1}{2} \\right\\rfloor = k-1$ 且 $s-30=2k-30$，得到\n$$\nf(s) = (k-1) - (2k-30) + 1 = 30 - k = 30 - \\frac{s}{2}.\n$$\n因此对于 $s \\in \\{48,50,52,54,56,58\\}$,\n$$\nf(s) = 6,5,4,3,2,1,\n$$\n所以\n$$\nN(\\text{sum } >46) = \\sum_{s=47}^{59} f(s) = 28 + (6+5+4+3+2+1) = 28 + 21 = 49.\n$$\n\n因此，\n$$\nP(\\text{sum odd} \\mid \\text{sum} > 46) \\;=\\; \\frac{28}{49} \\;=\\; \\frac{4}{7}.\n$$", "answer": "$$\\boxed{\\frac{4}{7}}$$", "id": "1358432"}, {"introduction": "在许多策略游戏和现实世界的风险评估中，我们常常需要在已知部分信息的情况下计算概率，例如经典的扑克牌问题。这个练习要求你计算，在一手牌已知仅包含两种点数的情况下，它是“葫芦”（三张同点数，两张另一点数）的概率。通过解决这个问题，你将学会如何在一个复杂的条件空间内，运用组合学工具来精确地枚举和分类不同的可能性，这是解决高级概率问题的关键技能 [@problem_id:1358442]。", "problem": "使用一副标准的52张扑克牌，包含四种花色（梅花、方块、红心、黑桃），每种花色有13个点数（A, 2, 3, ..., 10, J, Q, K）。从这副牌中均匀随机地抽取5张牌作为一手牌。\n\n“葫芦”（full house）的定义是：一手牌中包含三张同一点数的牌和两张另一个不同点数的牌。\n\n已知随机抽取的一手5张牌恰好包含两种不同的点数，求这手牌是葫芦的概率是多少？\n\n请将答案表示为最简分数形式的单个封闭解析表达式。", "solution": "我们以“一手5张牌恰好包含两种不同点数”为条件事件。这样一手牌的点数构成必定是葫芦（3张和2张），即 $(3,2)$，或者是四条带单张（4张和1张），即 $(4,1)$。\n\n计算在恰好包含两种点数的手牌中，葫芦的数量：\n- 选择两种点数：$\\binom{13}{2}$。\n- 选择哪种点数构成三条：$2$。\n- 选择花色：对于三条为 $\\binom{4}{3}$；对于对子为 $\\binom{4}{2}$。\n因此，葫芦的总数为\n$$\nN_{\\text{FH}}=\\binom{13}{2}\\cdot 2 \\cdot \\binom{4}{3}\\binom{4}{2}.\n$$\n\n计算所有恰好包含两种不同点数的手牌数量（$(3,2)$ 和 $(4,1)$ 的总和）：\n- $(4,1)$ 的手牌：选择两种点数 $\\binom{13}{2}$，选择哪种点数构成四条（$2$种选择），选择花色：四条为 $\\binom{4}{4}$，单张为 $\\binom{4}{1}$。因此\n$$\nN_{4,1}=\\binom{13}{2}\\cdot 2 \\cdot \\binom{4}{4}\\binom{4}{1}.\n$$\n所以总数为\n$$\nN_{\\text{two ranks}}=N_{\\text{FH}}+N_{4,1}=\\binom{13}{2}\\cdot 2 \\left(\\binom{4}{3}\\binom{4}{2}+\\binom{4}{4}\\binom{4}{1}\\right).\n$$\n\n所求的条件概率为\n$$\nP=\\frac{N_{\\text{FH}}}{N_{\\text{two ranks}}}\n=\\frac{\\binom{13}{2}\\cdot 2 \\cdot \\binom{4}{3}\\binom{4}{2}}{\\binom{13}{2}\\cdot 2 \\left(\\binom{4}{3}\\binom{4}{2}+\\binom{4}{4}\\binom{4}{1}\\right)}\n=\\frac{\\binom{4}{3}\\binom{4}{2}}{\\binom{4}{3}\\binom{4}{2}+\\binom{4}{4}\\binom{4}{1}}.\n$$\n计算二项式系数 $\\binom{4}{3}=4$、$\\binom{4}{2}=6$、$\\binom{4}{4}=1$ 和 $\\binom{4}{1}=4$，我们得到\n$$\nP=\\frac{4\\cdot 6}{4\\cdot 6+1\\cdot 4}=\\frac{24}{28}=\\frac{6}{7}.\n$$", "answer": "$$\\boxed{\\frac{6}{7}}$$", "id": "1358442"}, {"introduction": "条件概率的应用远远超出了传统的游戏和抽样问题，它在信息论和计算机科学等领域也至关重要。本练习将背景设定为数字通信中的二进制字符串，探讨回文串在特定条件下的出现概率 [@problem_id:1358420]。解决此问题的巧妙之处在于，你需要利用二进制回文串的对称结构特性来简化计算，这展示了一种更高级的解题策略：利用问题内在的结构来化繁为简，而不是依赖于暴力枚举。", "problem": "在一个简化的数字通信系统模型中，消息以二进制字符串的形式发送。考虑一个消息长度为11比特的场景。其生成过程使得$2^{11}$个可能的二进制字符串中任何一个被创建的概率都是相等的。一个传输协议会自动丢弃任何包含奇数个`1`的字符串。该系统还使用一类称为“控制码”的特殊字符串，其定义为回文字符串（即，正读和反读都相同）。给定一个随机生成的字符串未被协议丢弃，它是控制码的概率是多少？将您的答案表示为最简分数。", "solution": "令样本空间包含所有$2^{11}$个长度为11的二进制字符串，每个字符串都是等可能的。协议会丢弃含有奇数个1的字符串，因此我们以字符串具有偶数汉明权重这一事件 $E$ 为条件。\n\n根据奇偶对称性，所有11比特字符串中恰好有一半具有偶数权重。因此，\n$$\n|E|=\\frac{1}{2}\\cdot 2^{11}=2^{10}.\n$$\n\n令 $P$ 为11比特回文字符串的集合。一个长度为奇数11的回文字符串由前5个比特和中间比特（位置6）确定：对于 $i=1,\\dots,5$，位置 $i$ 和 $12-i$ 的比特必须相等，而中间比特是自由的。因此，\n$$\n|P|=2^{6}.\n$$\n对于任何回文串，1的总数等于设置为1的数对数量的两倍加上中间比特。因此，汉明权重的奇偶性仅由中间比特决定。所以，具有偶数权重的回文字符串正是那些中间比特为0，且前5个比特任意的字符串，得出\n$$\n|E\\cap P|=2^{5}.\n$$\n\n所求的条件概率为\n$$\n\\frac{|E\\cap P|}{|E|}=\\frac{2^{5}}{2^{10}}=\\frac{1}{32}.\n$$", "answer": "$$\\boxed{\\frac{1}{32}}$$", "id": "1358420"}]}