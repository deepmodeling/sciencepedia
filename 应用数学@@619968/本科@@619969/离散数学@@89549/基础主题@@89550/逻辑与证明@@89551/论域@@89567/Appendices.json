{"hands_on_practices": [{"introduction": "我们从一个熟悉的场景——扑克牌游戏——开始我们的实践之旅。这个练习将论域定义为所有可能的5张牌手牌组合，这是一个庞大但定义明确的集合。通过解决这个问题，你将练习在具体的组合背景下应用基本集合论运算（如并集、交集和补集）和计数原理，这是连接概率论与离散数学的经典范例。[@problem_id:1413090]", "problem": "考虑一副标准的52张扑克牌，它由4种花色（黑桃、红心、方块、梅花）和13种点数（Ace, 2, 3, 4, 5, 6, 7, 8, 9, 10, Jack, Queen, King）组成。论域 $U$ 定义为从这副牌中可以发出的所有可能的5张牌手牌的集合。\n\n在这个论域中，我们定义以下子集：\n- 令 $A$ 为至少包含一张 Ace 的手牌集合。\n- 令 $K$ 为至少包含一张 King 的手牌集合。\n- 令 $F$ 为同花（即所有五张牌都为相同花色）的手牌集合。注意，同花顺和皇家同花顺也是 $F$ 的成员。\n\n你的任务是计算集合 $(A \\cup K) \\cap F^c$ 的基数，其中 $F^c$ 表示集合 $F$ 相对于论域 $U$ 的补集。最终答案必须是一个整数。", "solution": "令 $U$ 为所有5张牌手牌的集合，因此 $|U|=\\binom{52}{5}$。我们要求解\n$$\n|(A\\cup K)\\cap F^{c}|=|A\\cup K|-|(A\\cup K)\\cap F|.\n$$\n首先，使用补集原理计算 $|A\\cup K|$。没有 Ace 且没有 King 的手牌是从剩下的 $44$ 张牌中选出的，所以\n$$\n|A\\cup K|=\\binom{52}{5}-\\binom{44}{5}.\n$$\n接下来，计算至少包含一张 Ace 或一张 King 的同花手牌数量。固定一种花色：在其 $13$ 张牌中，除去 Ace 和 King 后剩下 $11$ 张。在该花色中，至少包含一张 Ace 或 King 的5张牌的选法数量为\n$$\n\\binom{13}{5}-\\binom{11}{5}.\n$$\n共有 $4$ 种花色，因此\n$$\n|(A\\cup K)\\cap F|=4\\left(\\binom{13}{5}-\\binom{11}{5}\\right).\n$$\n因此，\n$$\n|(A\\cup K)\\cap F^{c}|=\\binom{52}{5}-\\binom{44}{5}-4\\left(\\binom{13}{5}-\\binom{11}{5}\\right).\n$$\n计算每个二项式系数：\n$$\n\\binom{52}{5}=2,598,960,\\quad \\binom{44}{5}=\\frac{44\\cdot 43\\cdot 42\\cdot 41\\cdot 40}{5!}=1,086,008,\n$$\n$$\n\\binom{13}{5}=\\frac{13\\cdot 12\\cdot 11\\cdot 10\\cdot 9}{5!}=1,287,\\quad \\binom{11}{5}=\\frac{11\\cdot 10\\cdot 9\\cdot 8\\cdot 7}{5!}=462.\n$$\n于是，\n$$\n|(A\\cup K)\\cap F^{c}|=2,598,960-1,086,008-4(1,287-462)=2,598,960-1,086,008-4\\cdot 825,\n$$\n$$\n=1,512,952-3,300=1,509,652.\n$$", "answer": "$$\\boxed{1509652}$$", "id": "1413090"}, {"introduction": "接下来，我们从具体对象转向更抽象的数学结构。这个问题构建了一个由 $2 \\times 2$ 矩阵组成的论域，并探索由矩阵的代数性质（如奇异性或对称性）定义的子集。这个练习旨在锻炼你在代数背景下进行系统性分类讨论和应用容斥原理的能力，展示了论域概念在分析结构化对象时的力量。[@problem_id:1413079]", "problem": "设论域 $U$ 是所有元素取自集合 $\\{-1, 0, 1\\}$ 的 $2 \\times 2$ 矩阵的集合。对于 $U$ 中的任意矩阵 $A = \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}$，我们定义以下性质：\n\n-   如果矩阵 $A$ 的行列式 $\\det(A) = ad-bc$ 等于零，则该矩阵是**奇异的**。\n-   如果矩阵 $A$ 等于其转置，则该矩阵是**对称的**。对于 $2 \\times 2$ 矩阵，这意味着 $b=c$。\n-   矩阵 $A$ 的**迹**，记为 $\\text{tr}(A)$，是其主对角线上元素的和，即 $\\text{tr}(A) = a+d$。\n\n考虑以下关于论域 $U$ 中矩阵的陈述。\n\nA. $U$ 中奇异矩阵的数量为 33。\n\nB. $U$ 中迹为非负的非奇异矩阵的数量为 27。\n\nC. $U$ 中恰好有 9 个既是对称的也是奇异的矩阵。\n\nD. $U$ 中对称或奇异（或两者皆是）的矩阵数量为 51。\n\n以上哪些陈述是正确的？你的答案应由所有正确陈述对应的大写字母按字母顺序组成的字符串构成。例如，如果你发现只有陈述 B 和 C 是正确的，你的答案应为 BC。", "solution": "设 $U$ 为所有元素取自 $\\{-1,0,1\\}$ 的 $2 \\times 2$ 矩阵的集合，因此 $|U|=3^{4}=81$。对于 $A=\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}$，$\\det(A)=ad-bc$，对称意味着 $b=c$，且 $\\operatorname{tr}(A)=a+d$。\n\n为了评估陈述 A，我们通过行向量的线性无关性来计算非奇异矩阵的数量。设行向量为 $v,w \\in \\{-1,0,1\\}^{2}$。一个矩阵是非奇异的，当且仅当 $v$ 和 $w$ 在 $\\mathbb{R}$ 上线性无关。总共有 $9$ 个行向量；其中一个是零向量，它永远不会产生线性无关。对于任何非零向量 $v$，其位于 $\\{-1,0,1\\}^{2}$ 中的标量倍数 $kv$ 恰好是 $\\{-v,0,v\\}$，因此恰好有 $3$ 个共线的选择。因此，对于每个非零的 $v$，有 $9-3=6$ 个 $w$ 的选择可以得到线性无关。有 $8$ 个非零的 $v$，所以非奇异矩阵的数量是\n$$\n8 \\times 6 = 48.\n$$\n因此，奇异矩阵的数量是\n$$\n81-48=33,\n$$\n所以陈述 A 是正确的。\n\n对于陈述 B，我们需要迹 $\\operatorname{tr}(A) \\geq 0$ 的非奇异矩阵的数量。映射 $A \\mapsto -A$ 保持非奇异性，并将 $\\operatorname{tr}(A)$ 映为 $-\\operatorname{tr}(A)$，所以正迹和负迹的非奇异矩阵数量相等。设 $N=48$ 为非奇异矩阵的总数，设 $Z$ 为迹 $\\operatorname{tr}(A)=0$ 的非奇异矩阵的数量。那么迹为非负的矩阵数量等于 $\\frac{N+Z}{2}$。我们根据 $a+d=0$ 时 $(a,d)$ 的情况来计算 $Z$。\n\n如果 $(a,d)=(0,0)$，则 $\\det(A)=-bc$，所以非奇异要求 $bc \\neq 0$，即 $b,c \\in \\{\\pm 1\\}$，得到 $2 \\times 2=4$ 个矩阵。\n\n如果 $(a,d)=(1,-1)$ 或 $(-1,1)$，则 $ad=-1$ 且 $\\det(A)=-1-bc \\neq 0$，即 $bc \\neq -1$。在 $9$ 对 $(b,c)$ 中，恰好有 $2$ 对（即 $(1,-1)$ 和 $(-1,1)$）使得 $bc=-1$，所以对于每种对角线元素组合，有 $7$ 种选择，总共得到 $2 \\times 7=14$ 个矩阵。\n\n因此 $Z=4+14=18$，迹为非负的非奇异矩阵数量为\n$$\n\\frac{48+18}{2}=33,\n$$\n所以声称数量为 27 的陈述 B 是错误的。\n\n对于陈述 C，我们计算对称奇异矩阵的数量。对称意味着 $b=c$，所以可写为 $A=\\begin{pmatrix} a & b \\\\ b & d \\end{pmatrix}$，其中 $a,b,d \\in \\{-1,0,1\\}$。那么 $\\det(A)=ad-b^{2}$，奇异性要求 $ad=b^{2}$。\n\n如果 $b=0$，那么 $b^{2}=0$ 且 $ad=0$。在 $9$ 对 $(a,d)$ 中，恰好是那些 $a$ 或 $d$ 至少有一个为 $0$ 的对满足 $ad=0$，由此得到 $5$ 个解。\n\n如果 $b=\\pm 1$，那么 $b^{2}=1$ 且 $ad=1$，这恰好在 $(a,d)=(1,1)$ 或 $(-1,-1)$ 时发生，对于每个 $b$ 的选择，给出 $2$ 个解。因此对于 $b \\in \\{\\pm 1\\}$，我们得到 $4$ 个解。\n\n因此，对称奇异矩阵的数量是 $5+4=9$，所以陈述 C 是正确的。\n\n对于陈述 D，使用容斥原理。对称矩阵的数量是 $3^{3}=27$。根据陈述 A， $|{\\text{singular}}|=33$，根据陈述 C， $|{\\text{symmetric}} \\cap {\\text{singular}}|=9$。因此\n$$\n|{\\text{symmetric}} \\cup {\\text{singular}}|=27+33-9=51,\n$$\n所以陈述 D 是正确的。\n\n因此，正确的陈述是 A、C 和 D。", "answer": "$$\\boxed{ACD}$$", "id": "1413079"}, {"introduction": "最后，我们探讨一个图论领域中的高级应用。这里的论域是完全图 $K_4$ 的所有生成树，这是网络设计和算法分析中的一个核心概念。这项练习要求你将图的结构属性与逻辑和集合运算相结合，通过解决一个复杂的结构性问题，来体会论域作为问题背景框架的强大作用。[@problem_id:1413121]", "problem": "论域（记为 $U$）定义为完全图 $K_4$ 的所有生成树的集合。$K_4$ 的顶点用集合 $V = \\{1, 2, 3, 4\\}$ 中的元素标记。\n在此背景下，一个四顶点的路径图是一棵树，其中恰好有两个顶点的度为1，另外两个顶点的度为2。叶节点是度为1的顶点。\n\n对于任意给定的树 $T \\in U$，考虑以下两个命题：\n- $P(T)$：树 $T$ 是一个路径图。\n- $Q(T)$：在树 $T$ 中，标记为“1”的顶点是叶节点。\n\n确定论域 $U$ 中使得逻辑析取 $P(T) \\lor Q(T)$ 为真的不同树的总数。", "solution": "设 $U$ 为在带标记顶点 $V=\\{1,2,3,4\\}$ 上的完全图 $K_4$ 的所有生成树的集合。根据 Cayley 公式，4个带标记顶点的树的数量为\n$$\n|U|=4^{4-2}=16.\n$$\n4个顶点上的无标记树形只有两种：4顶点的路径图（度序列为 $(1,2,2,1)$）和星形图 $K_{1,3}$（度序列为 $(3,1,1,1)$）。计算带标记的版本：\n- 带标记的星形图通过选择中心顶点得到，因此有4棵这样的树。\n- 因此，带标记的路径图数量为 $16-4=12$。\n\n定义 $P(T)$ 为“$T$ 是一个路径图”，$Q(T)$ 为“顶点1是叶节点”。我们要求解 $|P\\cup Q|=|P|+|Q|-|P\\cap Q|$。\n\n首先，如上所述，$|P|=12$。\n\n接下来，计算 $|Q|$。使用 Prüfer 编码，对于一个有 $n$ 个带标记顶点的树，一个顶点的度等于1加上其标记在长度为 $n-2$ 的 Prüfer 编码中出现的次数。对于 $n=4$，编码长度为2。顶点1是叶节点当且仅当它在编码中出现0次。在 $\\{1,2,3,4\\}$ 上长度为2且不包含1的编码数量为\n$$\n3^{2}=9,\n$$\n所以 $|Q|=9$。\n\n现在计算 $|P\\cap Q|$，即顶点1是叶节点的带标记路径图的数量。对于 $n=4$，一棵树是路径图当且仅当其 Prüfer 编码有两个不同的条目；它是星形图当且仅当两个条目相等。因此 $P\\cap Q$ 对应于从 $\\{2,3,4\\}$ 中抽取（为避免1）的、具有不同条目的长度为2的 Prüfer 编码。从 $\\{2,3,4\\}$ 中取不同元素的有序对的数量是\n$$\n3\\cdot 2=6,\n$$\n因此 $|P\\cap Q|=6$。\n\n所以，\n$$\n|P\\cup Q|=|P|+|Q|-|P\\cap Q|=12+9-6=15.\n$$\n作为一致性检验，其补集包含的树既不是路径图，顶点1也不是叶节点，这必然是中心为1的星形图，得出 $16-1=15$，与结果一致。", "answer": "$$\\boxed{15}$$", "id": "1413121"}]}