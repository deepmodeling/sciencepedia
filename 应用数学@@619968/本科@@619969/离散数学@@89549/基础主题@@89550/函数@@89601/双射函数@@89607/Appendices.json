{"hands_on_practices": [{"introduction": "理解一个数学概念不仅在于掌握其定义，还在于探索其性质的边界。双射这个优美的性质，在函数相加这种常见的运算下是否依然保持？本练习引导你通过构造反例来回答这个问题，这是证明或证伪一个命题的关键数学技能。[@problem_id:1283997]", "problem": "如果一个函数 $h: A \\to B$ 既是单射（一对一）又是满射（映成），那么它被称为双射。考虑从实数集到其自身的函数，即 $f: \\mathbb{R} \\to \\mathbb{R}$ 和 $g: \\mathbb{R} \\to \\mathbb{R}$。令 $S$ 为命题：“如果 $f$ 和 $g$ 都是双射，那么它们的和，即函数 $h(x) = f(x) + g(x)$，也是一个双射。”\n\n下列哪对函数 $(f(x), g(x))$ 为命题 $S$ 提供了一个有效反例？\n\nA. $f(x) = x+1, \\quad g(x) = -x+1$\n\nB. $f(x) = x, \\quad g(x) = x^3$\n\nC. $f(x) = x^2, \\quad g(x) = -x^2$\n\nD. $f(x) = 2x, \\quad g(x) = -x$\n\nE. $f(x) = \\sin(x), \\quad g(x) = x$", "solution": "为了找到命题 $S$ 的一个有效反例，我们需要找到一对函数 $(f,g)$ 满足以下两个条件：\n1. $f: \\mathbb{R} \\to \\mathbb{R}$ 和 $g: \\mathbb{R} \\to \\mathbb{R}$ 都必须是双射。\n2. 和函数 $h(x) = f(x) + g(x)$ 必须不是双射。\n\n我们将根据这两个条件分析每个选项。\n\n**选项 A: $f(x) = x+1, \\quad g(x) = -x+1$**\n\n1.  **检查 $f$ 和 $g$ 是否是双射。**\n    - 函数 $f(x) = x+1$ 是一个斜率为 $1$ 的非零线性函数。它是单射，因为如果 $f(x_1) = f(x_2)$，则 $x_1+1 = x_2+1$，这意味着 $x_1=x_2$。它是满射，因为对于任意 $y \\in \\mathbb{R}$，我们可以找到一个 $x = y-1$ 使得 $f(x) = (y-1)+1 = y$。因此，$f(x)$ 是一个双射。\n    - 函数 $g(x) = -x+1$ 是一个斜率为 $-1$ 的非零线性函数。它是单射，因为如果 $g(x_1) = g(x_2)$，则 $-x_1+1 = -x_2+1$，这意味着 $x_1=x_2$。它是满射，因为对于任意 $y \\in \\mathbb{R}$，我们可以找到一个 $x = 1-y$ 使得 $g(x) = -(1-y)+1 = y$。因此，$g(x)$ 是一个双射。\n    - 条件1被满足。\n\n2.  **检查和函数 $h(x)$ 是否是双射。**\n    - 和函数为 $h(x) = f(x) + g(x) = (x+1) + (-x+1) = 2$。\n    - 函数 $h(x)=2$ 是一个常数函数。它不是单射，因为对于任意两个不同的实数 $x_1$ 和 $x_2$，$h(x_1) = 2 = h(x_2)$。它也不是满射，因为它的值域是 $\\{2\\}$，而不是整个 $\\mathbb{R}$。因此，$h(x)$ 不是双射。\n    - 条件2被满足。\n\n由于两个条件都得到满足，这对函数是一个有效的反例。\n\n**选项 B: $f(x) = x, \\quad g(x) = x^3$**\n\n1.  **检查 $f$ 和 $g$ 是否是双射。**\n    - $f(x)=x$ 是恒等函数，这是一个众所周知的双射。\n    - $g(x)=x^3$ 是一个双射。它是一个严格递增函数（$g'(x)=3x^2 \\ge 0$，且仅在 $x=0$ 时为 $0$），这使其成为单射。作为一个奇次多项式，其值域为 $\\mathbb{R}$，这使其成为满射。\n    - 条件1被满足。\n\n2.  **检查和函数 $h(x)$ 是否是双射。**\n    - 和函数为 $h(x) = x + x^3$。其导数为 $h'(x) = 1+3x^2$。由于对所有 $x \\in \\mathbb{R}$ 都有 $x^2 \\ge 0$，因此 $h'(x) \\ge 1 > 0$。严格为正的导数意味着函数是严格递增的，这保证了它是单射。作为一个奇次多项式，其值域为 $\\mathbb{R}$，所以它是满射。因此，$h(x)$ 是一个双射。\n    - 条件2未被满足。这不是一个反例。\n\n**选项 C: $f(x) = x^2, \\quad g(x) = -x^2$**\n\n1.  **检查 $f$ 和 $g$ 是否是双射。**\n    - 函数 $f(x)=x^2$ 不是一个从 $\\mathbb{R}$ 到 $\\mathbb{R}$ 的双射。它不是单射，因为 $f(-1) = 1 = f(1)$。它不是满射，因为其值域是 $[0, \\infty)$，而不是 $\\mathbb{R}$。\n    - 由于 $f(x)$ 不是双射，条件1未被满足。我们无需继续分析。这对函数不可能是反例。\n\n**选项 D: $f(x) = 2x, \\quad g(x) = -x$**\n\n1.  **检查 $f$ 和 $g$ 是否是双射。**\n    - $f(x)=2x$ 和 $g(x)=-x$ 都是具有非零斜率的线性函数，因此它们都是双射（理由同选项A）。\n    - 条件1被满足。\n\n2.  **检查和函数 $h(x)$ 是否是双射。**\n    - 和函数为 $h(x) = f(x)+g(x) = 2x + (-x) = x$。\n    - 函数 $h(x)=x$ 是恒等函数，它是一个双射。\n    - 条件2未被满足。这不是一个反例。\n\n**选项 E: $f(x) = \\sin(x), \\quad g(x) = x$**\n\n1.  **检查 $f$ 和 $g$ 是否是双射。**\n    - 函数 $f(x) = \\sin(x)$ 不是一个从 $\\mathbb{R}$ 到 $\\mathbb{R}$ 的双射。它不是单射，因为它是周期性的（例如，$\\sin(0) = \\sin(2\\pi)$）。它不是满射，因为它的值域是 $[-1, 1]$，而不是 $\\mathbb{R}$。\n    - 由于 $f(x)$ 不是双射，条件1未被满足。这对函数不可能是反例。\n\n**结论**\n只有选项A中的函数对满足作为反例的两个标准：两个函数都是双射，但它们的和不是。", "answer": "$$\\boxed{A}$$", "id": "1283997"}, {"introduction": "在理论计算机科学和编程实践中，我们经常遇到根据输入条件而行为不同的分段函数。本题提供了一个定义在整数集上的复杂“状态扰乱”函数，要求你判断其双射性质。你需要运用严谨的分类讨论来分别检验其单射性与满射性，从而深化对双射定义的理解和应用能力。[@problem_id:1352304]", "problem": "在理论计算机科学的研究中，抽象机通常由状态转移函数定义。考虑一个这样的函数，一个“状态扰乱器”，它将一个整数状态索引 $n$ 映射到一个新的状态索引 $f(n)$。所有可能的状态集合由所有整数的集合 $\\mathbb{Z}$ 来索引。为了使这种扰乱是完全可逆的并且能覆盖所有可能的状态，函数 $f: \\mathbb{Z} \\to \\mathbb{Z}$ 必须是一个双射（即，既是单射也是满射）。\n\n现提出一个具体的状态扰乱协议，它对任意整数 $n \\in \\mathbb{Z}$ 按以下规则定义：\n$$ f(n) = \\begin{cases} |n^2 - n| & \\text{若 } n \\text{ 为偶数} \\\\ -|n^2 - n| - 1 & \\text{若 } n \\text{ 为奇数} \\end{cases} $$\n\n分析此函数的性质。以下哪个陈述是正确的？\n\nA. 该函数是单射但不是满射。\nB. 该函数是满射但不是单射。\nC. 该函数既是单射也是满射（即，它是一个双射）。\nD. 该函数既不是单射也不是满射。", "solution": "定义 $f:\\mathbb{Z}\\to\\mathbb{Z}$ 为\n$$\nf(n)=\\begin{cases}\n|n^{2}-n| & \\text{若 $n$ 为偶数},\\\\\n-|n^{2}-n|-1 & \\text{若 $n$ 为奇数}.\n\\end{cases}\n$$\n注意到 $n^{2}-n=n(n-1)$，是两个连续整数的乘积。\n\n首先根据奇偶性观察其值域：\n- 若 $n$ 为偶数，则 $f(n)=|n(n-1)|\\geq 0$。\n- 若 $n$ 为奇数，则 $f(n)=-|n(n-1)|-1\\leq -1$。\n\n因此，偶数输入和奇数输入的像集是不相交的（非负值对负值），所以如果 $f(n_{1})=f(n_{2})$，那么 $n_{1},n_{2}$ 必须具有相同的奇偶性。\n\n在偶数输入上的单射性：设 $n,m$ 为偶数且 $f(n)=f(m)$。则\n$$\n|n(n-1)|=|m(m-1)|.\n$$\n有两种子情况。\n\n(1) $n(n-1)=m(m-1)$。则\n$$\nn^{2}-n-m^{2}+m=0 \\iff (n-m)(n+m-1)=0.\n$$\n因此 $n=m$ 或 $n+m=1$。因为两个偶数之和不可能等于 $1$，我们得到 $n=m$。\n\n(2) $n(n-1)=-m(m-1)$。则\n$$\nn^{2}-n+m^{2}-m=0 \\iff \\left(n-\\frac{1}{2}\\right)^{2}+\\left(m-\\frac{1}{2}\\right)^{2}=\\frac{1}{2}.\n$$\n对任意整数 $t$，$\\left(t-\\frac{1}{2}\\right)^{2}\\geq \\frac{1}{4}$，等号仅在 $t\\in\\{0,1\\}$ 时成立。因此解满足 $n,m\\in\\{0,1\\}$。由于 $n,m$ 均为偶数，这迫使 $n=m=0$。因此，没有不同的偶数会映射到相同的值，这证明了函数在偶数输入上是单射的。\n\n在奇数输入上的单射性：设 $n,m$ 为奇数且 $f(n)=f(m)$。则\n$$\n-|n(n-1)|-1=-|m(m-1)|-1 \\iff |n(n-1)|=|m(m-1)|.\n$$\n根据与上面相同的两种子情况：\n- 如果 $n(n-1)=m(m-1)$，则 $(n-m)(n+m-1)=0$，得到 $n=m$ 或 $n+m=1$。两个奇数之和是偶数，因此 $n+m \\neq 1$。所以必有 $n=m$。\n- 如果 $n(n-1)=-m(m-1)$，则 $\\left(n-\\frac{1}{2}\\right)^{2}+\\left(m-\\frac{1}{2}\\right)^{2}=\\frac{1}{2}$，得出 $n,m\\in\\{0,1\\}$。由于 $n,m$ 均为奇数，这迫使 $n=m=1$。\n因此在奇数输入上单射性也成立。\n\n由于不同奇偶性的输入值不会得到相同的像（非负像对负像），因此 $f$ 在 $\\mathbb{Z}$ 上是单射的。\n\n满射性的不成立：我们证明有些整数不在像集中。对任意整数 $n$，有\n$$\n|n(n-1)|=\\begin{cases}\n0 & \\text{若 } n\\in\\{0,1\\},\\\\\n\\geq 2 & \\text{否则},\n\\end{cases}\n$$\n因为对于 $n\\notin\\{0,1\\}$，两个连续整数 $n$ 和 $n-1$ 的绝对值至少为 $1$ 和 $2$，其乘积的绝对值至少为 $2$。因此，对所有 $n\\in\\mathbb{Z}$，都有 $|n(n-1)|\\neq 1$。\n\n因此：\n- 没有偶数输入会映射到 $1$，因为对于偶数 $n$，$f(n)=|n(n-1)|$ 不可能等于 $1$。\n- 没有奇数输入会映射到 $-2$，因为 $f(n)=-|n(n-1)|-1$ 将要求 $|n(n-1)|=1$，而这是不可能的。\n\n因此 $1$ 和 $-2$ 不在 $f$ 的像集中，所以 $f$ 不是满射。\n\n综合这两部分，$f$ 是单射但不是满射。", "answer": "$$\\boxed{A}$$", "id": "1352304"}, {"introduction": "双射是证明两个无限集“大小”相同的强大工具。康托配对函数便是一个经典范例，它令人信服地展示了二维网格上的点（集合 $\\mathbb{N}_0 \\times \\mathbb{N}_0$）可以与一维直线上的点（集合 $\\mathbb{N}_0$）一一对应。本题让你亲手实践这一理论：通过对一个给定的整数ID进行“解码”，反向求出其在二维网格中的原始坐标，从而具体感受双射在数据索引和可数性理论中的应用。[@problem_id:1352278]", "problem": "在一个理论数据存储系统中，使用一个无限二维网格来存储数据节点。每个节点的位置由其坐标 $(x, y)$ 指定，其中 $x$ 和 $y$ 均为来自集合 $\\mathbb{N}_0 = \\{0, 1, 2, ...\\}$ 的非负整数。为了给这些节点创建一个扁平的一维索引，采用了一个配对函数 $f: \\mathbb{N}_0 \\times \\mathbb{N}_0 \\to \\mathbb{N}_0$。该函数为每个坐标对 $(x, y)$ 分配一个唯一的整数 ID，并确保每个非负整数都恰好对应一个坐标对。该函数定义如下：\n\n$$ f(x, y) = \\frac{1}{2}(x+y)(x+y+1) + y $$\n\n一个特定的数据节点被分配了整数 ID 2023。请确定该节点的原始网格坐标 $(x, y)$，并以整数对 $(x, y)$ 的形式给出答案。", "solution": "我们已知康托配对函数 $f(x,y) = \\frac{1}{2}(x+y)(x+y+1) + y$ 以及值 $n=2023$。令 $w = x + y$。那么\n$$\nf(x,y) = T(w) + y,\\quad \\text{其中 } T(w) = \\frac{w(w+1)}{2}.\n$$\n为了对 $f$ 求逆，选择唯一的整数 $w$ 使得\n$$\nT(w) \\le n < T(w+1),\n$$\n然后计算\n$$\ny = n - T(w),\\quad x = w - y.\n$$\n为了找到 $w$，我们求解 $T(w) \\le n$，即\n$$\nw^{2} + w - 2n \\le 0.\n$$\n等式 $w^{2} + w - 2n = 0$ 的根为\n$$\nw = \\frac{-1 \\pm \\sqrt{1 + 8n}}{2},\n$$\n并且由于 $w \\ge 0$，我们取\n$$\nw = \\left\\lfloor \\frac{-1 + \\sqrt{1 + 8n}}{2} \\right\\rfloor.\n$$\n对于 $n = 2023$，\n$$\nw = \\left\\lfloor \\frac{-1 + \\sqrt{1 + 8 \\cdot 2023}}{2} \\right\\rfloor = \\left\\lfloor \\frac{-1 + \\sqrt{16185}}{2} \\right\\rfloor.\n$$\n我们检查三角数来确定 $n$ 的范围：\n$$\nT(63) = \\frac{63 \\cdot 64}{2} = 2016,\\quad T(64) = \\frac{64 \\cdot 65}{2} = 2080,\n$$\n所以 $2016 \\le 2023 < 2080$，因此 $w = 63$。那么\n$$\ny = n - T(w) = 2023 - 2016 = 7,\\quad x = w - y = 63 - 7 = 56.\n$$\n直接验证可得\n$$\nf(56,7) = \\frac{1}{2}(56+7)(56+7+1) + 7 = \\frac{1}{2}\\cdot 63 \\cdot 64 + 7 = 2016 + 7 = 2023,\n$$\n所以坐标是 $(x,y) = (56,7)$。", "answer": "$$\\boxed{(56, 7)}$$", "id": "1352278"}]}