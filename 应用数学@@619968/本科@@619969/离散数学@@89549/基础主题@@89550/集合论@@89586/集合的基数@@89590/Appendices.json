{"hands_on_practices": [{"introduction": "我们从一个基本问题开始，它将帮助你掌握组合计数中最核心的工具之一：乘法法则 [@problem_id:1354645]。这个练习通过一个熟悉的游戏设计场景，直观地展示了当一个过程可以分解为多个独立步骤时，总的可能性数量是如何计算的。掌握这一原理是解决更复杂计数问题的基础。", "problem": "一位游戏设计师正在为一个新的游戏机制设计原型，该机制使用一套三个不同的多面体骰子。这套骰子包括：\n1. 一个4面骰，其各面标有整数1到4。\n2. 一个6面骰，其各面标有整数1到6。\n3. 一个12面骰，其各面标有整数1到12。\n\n一次投掷的“结果”定义为一个有序三元组 $(d_4, d_6, d_{12})$，其中 $d_4$ 是4面骰显示的点数，$d_6$ 是6面骰显示的点数，$d_{12}$ 是12面骰显示的点数。\n\n假设每个骰子都是公平的，并且只投掷一次，请确定所有可能的不同结果的总数。", "solution": "我们将每个骰子可能的结果建模为集合：4面骰的结果集合为 $D_{4}=\\{1,2,3,4\\}$，6面骰的结果集合为 $D_{6}=\\{1,2,3,4,5,6\\}$，12面骰的结果集合为 $D_{12}=\\{1,2,\\dots,12\\}$。一个结果是一个有序三元组 $(d_{4},d_{6},d_{12})\\in D_{4}\\times D_{6}\\times D_{12}$。根据乘法法则（乘法原理）和笛卡尔积的基数，结果的总数为\n$$\n|D_{4}\\times D_{6}\\times D_{12}|=|D_{4}|\\cdot|D_{6}|\\cdot|D_{12}|=4\\cdot 6\\cdot 12=288.\n$$\n因此，共有 $288$ 种可能的不同结果。", "answer": "$$\\boxed{288}$$", "id": "1354645"}, {"introduction": "当集合之间存在重叠时，简单的相加就会导致重复计算。这个练习通过一个关于CPU核心验证的假设场景，引入了强大的容斥原理来解决这一问题 [@problem_id:1354632]。你将学会如何系统性地修正重复计数，从而精确计算多个非互斥集合的并集大小，这是一项在数据库查询和网络分析等领域至关重要的技能。", "problem": "一家公司正在开发一种新型的中央处理器 (CPU) 架构，该架构使用一种自诊断程序。在制造过程中，该程序对其内部处理核心运行一系列检查。对于某特定批次的 CPU，其核心被从 1 到 3600 连续编号（含两端）。诊断系统会根据核心的序列号执行三种特定的测试，分别标记为测试 Alpha、测试 Beta 和测试 Gamma。\n\n- 如果一个核心的序列号是 6 的倍数，它将接受测试 Alpha。\n- 如果一个核心的序列号是 9 的倍数，它将接受测试 Beta。\n- 如果一个核心的序列号是 15 的倍数，它将接受测试 Gamma。\n\n如果一个核心接受了这三种测试中的至少一种，它就被认为是“已验证”的。请确定这一批次中已验证的核心总数。", "solution": "题目要求我们计算集合 $\\{1,2,\\ldots,3600\\}$ 中能被 $6$、 $9$ 或 $15$ 中至少一个数整除的整数的数量。设 $A$ 为 $\\{1,\\ldots,3600\\}$ 中 $6$ 的倍数的集合，$B$ 为 $9$ 的倍数的集合，$C$ 为 $15$ 的倍数的集合。已验证核心的数量为 $|A \\cup B \\cup C|$。\n\n根据容斥原理，\n$$\n|A \\cup B \\cup C|=|A|+|B|+|C|-|A \\cap B|-|A \\cap C|-|B \\cap C|+|A \\cap B \\cap C|.\n$$\n\n对于任意正整数 $k$，$\\{1,\\ldots,3600\\}$ 中 $k$ 的倍数的数量为 $\\left\\lfloor \\frac{3600}{k} \\right\\rfloor$。\n\n计算单个集合的元素个数：\n$$\n|A|=\\left\\lfloor \\frac{3600}{6} \\right\\rfloor=600,\\quad\n|B|=\\left\\lfloor \\frac{3600}{9} \\right\\rfloor=400,\\quad\n|C|=\\left\\lfloor \\frac{3600}{15} \\right\\rfloor=240.\n$$\n\n对于交集，使用最小公倍数：\n- $\\operatorname{lcm}(6,9)=18$ 因为 $6=2\\cdot 3$ 且 $9=3^{2}$，所以 $2\\cdot 3^{2}=18$。\n- $\\operatorname{lcm}(6,15)=30$ 因为 $6=2\\cdot 3$ 且 $15=3\\cdot 5$，所以 $2\\cdot 3\\cdot 5=30$。\n- $\\operatorname{lcm}(9,15)=45$ 因为 $9=3^{2}$ 且 $15=3\\cdot 5$，所以 $3^{2}\\cdot 5=45$。\n- $\\operatorname{lcm}(6,9,15)=\\operatorname{lcm}(18,15)=90$ 因为 $18=2\\cdot 3^{2}$ 且 $15=3\\cdot 5$，所以 $2\\cdot 3^{2}\\cdot 5=90$。\n\n因此，\n$$\n|A \\cap B|=\\left\\lfloor \\frac{3600}{18} \\right\\rfloor=200,\\quad\n|A \\cap C|=\\left\\lfloor \\frac{3600}{30} \\right\\rfloor=120,\\quad\n|B \\cap C|=\\left\\lfloor \\frac{3600}{45} \\right\\rfloor=80,\n$$\n$$\n|A \\cap B \\cap C|=\\left\\lfloor \\frac{3600}{90} \\right\\rfloor=40.\n$$\n\n应用容斥原理：\n$$\n|A \\cup B \\cup C|=600+400+240-(200+120+80)+40=1240-400+40=840+40=880.\n$$\n\n因此，已验证的核心总数为 $880$。", "answer": "$$\\boxed{880}$$", "id": "1354632"}, {"introduction": "基数的概念不仅限于有限集，它真正的威力在于比较无限集的大小。这个练习将引导你从“计数”有限元素过渡到“比较”无限集合，其核心是构建一个一一对应的函数，即双射 (bijection) [@problem_id:1354642]。通过证明一个无限集（如整系数线性多项式集 $P_1$）与另一个已知大小的无限集（如整数对集 $\\mathbb{Z} \\times \\mathbb{Z}$）等势，我们能严格地定义和理解不同层次的“无穷”。", "problem": "设 $P_1$ 表示所有形如 $ax + b$ 的线性多项式集合，其中系数 $a$ 和 $b$ 为整数。设 $\\mathbb{Z} \\times \\mathbb{Z}$ 表示所有整数有序对的集合。一个函数 $f: P_1 \\to \\mathbb{Z} \\times \\mathbb{Z}$ 由法则 $f(ax+b) = (a, b)$ 定义。\n\n下列哪个陈述正确地描述了函数 $f$？\n\nA. $f$ 是单射但不是满射。\n\nB. $f$ 是满射但不是单射。\n\nC. $f$ 是一个双射（既是单射也是满射）。\n\nD. $f$ 既不是单射也不是满射。\n\nE. 函数 $f$ 不是良定义的，因为一个多项式不能作为输出为有序对的函数的输入。", "solution": "我们已知所有形如 $ax+b$ 且 $a,b \\in \\mathbb{Z}$ 的多项式集合 $P_1$，以及由 $f(ax+b)=(a,b)$ 定义的函数 $f: P_{1} \\to \\mathbb{Z} \\times \\mathbb{Z}$。我们来分析其良定义性、单射性和满射性。\n\n首先，$f$ 是良定义的。对于 $P_1$ 中的任意多项式 $p(x)=ax+b \\in P_{1}$，其系数 $a$ 和 $b$ 都是唯一确定的。如果作为多项式有 $ax+b=cx+d$，那么对所有的 $x$ 都有 $(a-c)x+(b-d)=0$。唯一恒等于 $0$ 的多项式是零多项式，这迫使 $a-c=0$ 且 $b-d=0$，因此 $a=c$ 且 $b=d$。因此，法则 $f(ax+b)=(a,b)$ 为每个多项式指定了一个唯一的有序对。\n\n为了证明单射性，设 $p(x)=ax+b$ 和 $q(x)=cx+d$ 均属于 $P_{1}$，并假设 $f(p)=f(q)$。那么有 $(a,b)=(c,d)$，因此 $a=c$ 且 $b=d$，这意味着 $p=q$。因此，对于所有 $p,q \\in P_{1}$，$f(p)=f(q)$ 意味着 $p=q$，所以 $f$ 是单射的。\n\n为了证明满射性，任取一个元素 $(m,n) \\in \\mathbb{Z} \\times \\mathbb{Z}$。定义 $p(x)=mx+n \\in P_{1}$。那么根据定义，有 $f(p)=(m,n)$。因为陪域中的每一个有序对都是某个多项式的像，所以 $f$ 是满射的。\n\n因为 $f$ 既是单射又是满射，所以 $f$ 是一个双射。", "answer": "$$\\boxed{C}$$", "id": "1354642"}]}