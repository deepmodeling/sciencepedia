{"hands_on_practices": [{"introduction": "递推关系是计算第一类斯特林数的基本工具。这个练习将让你亲手实践，如何利用该关系式从已知值逐步推算出新值，从而加深你对这些数字生成方式的理解。掌握这项计算技巧是自信地运用斯特林数的第一步 [@problem_id:1401839]。", "problem": "在分析一种新的密码学协议时，一个关键的安全度量，是指将 $n$ 个不同的数据包排列成恰好 $k$ 个非空循环处理回路的方法总数。这个量在形式上被称为无符号第一类斯特林数，记作 $c(n, k)$。这些数是为满足 $n \\geq k \\geq 0$ 的整数定义的。\n\n对一个包含 $n=6$ 个数据包的系统进行的安全审计，得出了关于排列数量的以下认证值：\n- $c(6, 1) = 120$\n- $c(6, 2) = 274$\n- $c(6, 3) = 225$\n- $c(6, 4) = 85$\n- $c(6, 5) = 15$\n- $c(6, 6) = 1$\n\n该协议正在升级以处理 $n=8$ 个数据包。作为新系统验证的一部分，你的任务是确定当系统必须配置为恰好 $k=4$ 个循环回路时，可能的排列数量。计算 $c(8, 4)$ 的值。", "solution": "我们使用无符号第一类斯特林数的递推关系：\n$$\nc(n+1,k)=n\\,c(n,k)+c(n,k-1)\n$$\n其中 $c(0,0)=1$ 且对于 $n\\geq 1$ 有 $c(n,0)=0$。我们已知对于 $1\\leq k\\leq 6$ 的所有 $c(6,k)$ 的值。\n\n首先计算 $n=7$ 时所需的中间值：\n$$\nc(7,4)=6\\,c(6,4)+c(6,3)=6\\cdot 85+225=510+225=735,\n$$\n$$\nc(7,3)=6\\,c(6,3)+c(6,2)=6\\cdot 225+274=1350+274=1624.\n$$\n\n现在应用该递推关系以求出 $c(8,4)$：\n$$\nc(8,4)=7\\,c(7,4)+c(7,3)=7\\cdot 735+1624=5145+1624=6769.\n$$", "answer": "$$\\boxed{6769}$$", "id": "1401839"}, {"introduction": "除了计算，第一类斯特林数的真正威力在于其对排列进行计数的组合意义。这个问题挑战你将此核心概念应用于一个具体的“错排”（即没有不动点的排列）场景。通过解决这个问题，你将把抽象的数字 $c(n, k)$ 与计算具有特定循环结构的排列这一具体任务联系起来 [@problem_id:1401891]。", "problem": "在排列的研究中，一个有限集合的排列可以唯一地分解为不相交轮换的乘积。排列的一个不动点是指一个被映射到自身的元素，它在其轮换分解中对应一个长度为1的轮换。错排是一种没有不动点的排列。\n\n考虑一个包含五个元素的集合 $S = \\{1, 2, 3, 4, 5\\}$。我们感兴趣的是对该集合上特定类型的错排进行计数。请确定集合 $S$ 中可以分解为恰好两个不相交轮换的错排总数。", "solution": "集合 $S=\\{1,2,3,4,5\\}$ 上的错排没有不动点，因此在其轮换分解中没有长度为 $1$ 的轮换。如果它必须分解为恰好两个不相交的轮换，那么将 $5$ 分割成两部分且不含 $1$ 的唯一可能轮换类型是 $2+3$。因此，每个这样的排列都由一个长度为 $2$ 的轮换和一个长度为 $3$ 的轮换组成。\n\n具有给定轮换结构的 $n$ 个元素的排列数，其中有 $m_{k}$ 个长度为 $k$ 的轮换，其公式为\n$$\n\\frac{n!}{\\prod_{k} k^{m_{k}} m_{k}!}.\n$$\n这里 $n=5$，其中 $m_{2}=1$ 且 $m_{3}=1$。因此，总数为\n$$\n\\frac{5!}{2^{1}\\cdot 1!\\cdot 3^{1}\\cdot 1!}=\\frac{120}{6}=20.\n$$\n等价地，我们也可以先用 $\\binom{5}{3}$ 种方式为长度为 $3$ 的轮换选择 $3$ 个元素，用 $(3-1)!$ 种方式将它们排成一个 $3$-轮换，再用 $(2-1)!$ 种方式将剩下的两个元素排成一个 $2$-轮换：\n$$\n\\binom{5}{3}\\cdot (3-1)!\\cdot (2-1)! = 10\\cdot 2\\cdot 1=20.\n$$\n两种方法结果一致。", "answer": "$$\\boxed{20}$$", "id": "1401891"}, {"introduction": "斯特林数拥有优美的代数性质，能够揭示关于排列的深刻结构性真理。这个练习超越了直接计数，展示了如何利用斯特林数的生成函数来证明一个关于集合所有排列的、出人意料而又优美的结论。这是一个绝佳的例子，说明了代数方法如何为组合问题提供强有力的洞察 [@problem_id:1401844]。", "problem": "在组合数学中，第一类无符号斯特林数，记作 $c(n, k)$，表示将一个包含 $n$ 个元素的集合的排列分解为恰好 $k$ 个不相交循环的方法数。对于集合 $\\{1, 2, \\dots, n\\}$ 的一个给定排列 $\\pi$，令 $c(\\pi)$ 为其不相交循环分解中的循环数量。\n\n考虑量 $A_n$，它对任意正整数 $n$ 定义为对对称群 $S_n$ 中所有排列 $\\pi$ 的求和：\n$$ A_n = \\sum_{\\pi \\in S_n} (-1)^{c(\\pi) + 1} $$\n其中 $S_n$ 是集合 $\\{1, 2, \\dots, n\\}$ 的所有 $n!$ 个排列的集合。\n\n计算表达式 $2A_{2024} + 3A_{100} - 5A_{2} - 11A_{1}$ 的数值。", "solution": "题目要求计算表达式 $2A_{2024} + 3A_{100} - 5A_{2} - 11A_{1}$ 的值，其中 $A_n$ 定义为 $A_n = \\sum_{\\pi \\in S_n} (-1)^{c(\\pi) + 1}$。\n\n首先，我们来分析 $A_n$ 的结构。这个和是针对对称群 $S_n$ 中的所有排列的。我们可以根据循环的数量将排列分组。令 $c(n, k)$ 为 $n$ 个元素且恰好有 $k$ 个循环的排列的数量。总排列数为 $n! = \\sum_{k=1}^n c(n, k)$。\n\n我们可以通过将具有相同循环数的项分组来重写 $A_n$ 的和：\n$$ A_n = \\sum_{k=1}^{n} c(n, k) (-1)^{k+1} $$\n这是因为对于 $c(n, k)$ 个具有 $k$ 个循环的排列中的每一个，求和中的项都是 $(-1)^{k+1}$。\n\n我们可以从和中提出一个因子 $-1$：\n$$ A_n = - \\sum_{k=1}^{n} c(n, k) (-1)^{k} $$\n第一类无符号斯特林数 $c(n,k)$ 有一个著名的生成函数。由下式定义的多项式 $P_n(x)$\n$$ P_n(x) = \\sum_{k=0}^{n} c(n, k) x^k $$\n等于上升阶乘 $x^{\\overline{n}}$，其表达式为以下乘积：\n$$ P_n(x) = x(x+1)(x+2)\\cdots(x+n-1) $$\n注意，对于 $n \\ge 1$，具有 0 个循环的排列数为 $c(n, 0) = 0$。因此，对于 $n \\ge 1$，$A_n$ 的和可以与 $P_n(x)$ 在 $x=-1$ 处的值相关联：\n$$ \\sum_{k=1}^{n} c(n, k) (-1)^{k} = \\sum_{k=0}^{n} c(n, k) (-1)^{k} = P_n(-1) $$\n所以，我们有 $A_n = - P_n(-1)$。\n\n让我们使用其乘积形式来计算 $P_n(-1)$：\n$$ P_n(-1) = (-1)(-1+1)(-1+2)\\cdots(-1+n-1) $$\n我们必须考虑 $n$ 的两种情况。\n\n情况 1：$n \\ge 2$。\n对于任何整数 $n \\ge 2$，$P_n(-1)$ 的乘积中包含因子 $(-1+1) = 0$。\n$$ P_n(-1) = (-1)(0)(1)\\cdots(n-2) = 0 $$\n因此，对于 $n \\ge 2$，我们有 $A_n = -P_n(-1) = -0 = 0$。\n\n情况 2：$n = 1$。\n集合 $\\{1\\}$ 只有一个排列，即单位排列 $(1)$，它由一个循环构成。所以 $c((1))=1$。\n使用 $A_n$ 对 $n=1$ 的定义：\n$$ A_1 = \\sum_{\\pi \\in S_1} (-1)^{c(\\pi)+1} = (-1)^{1+1} = (-1)^2 = 1 $$\n或者，使用生成函数的方法：\n$P_1(x) = x^{\\overline{1}} = x$。\n$P_1(-1) = -1$。\n$A_1 = -P_1(-1) = -(-1) = 1$。\n结果是一致的。\n\n现在我们可以计算所求表达式的值：$2A_{2024} + 3A_{100} - 5A_{2} - 11A_{1}$。\n指数分别为 $n=2024$，$n=100$，$n=2$ 和 $n=1$。\n因为 $2024 \\ge 2$，我们有 $A_{2024} = 0$。\n因为 $100 \\ge 2$，我们有 $A_{100} = 0$。\n因为 $2 \\ge 2$，我们有 $A_{2} = 0$。\n对于 $n=1$，我们得到 $A_1 = 1$。\n\n将这些值代入表达式：\n$$ 2A_{2024} + 3A_{100} - 5A_{2} - 11A_{1} = 2(0) + 3(0) - 5(0) - 11(1) $$\n$$ = 0 + 0 - 0 - 11 = -11 $$\n表达式的最终值为 -11。", "answer": "$$\\boxed{-11}$$", "id": "1401844"}]}