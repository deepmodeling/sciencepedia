{"hands_on_practices": [{"introduction": "威尔逊定理的一个关键点在于它只适用于素数。为了深刻理解这一定理的适用范围，我们首先来探究一个反例。这个练习将引导你检验最小的合数 $n=4$ 的情况，通过计算 $(4-1)! \\pmod{4}$，你会亲眼看到为什么威尔逊定理的结论 $(p-1)! \\equiv -1 \\pmod{p}$ 不能推广到所有整数。[@problem_id:1414801]", "problem": "数论中的威尔逊定理指出，一个大于1的整数 $p$ 是素数，当且仅当 $(p-1)! \\equiv -1 \\pmod{p}$。这为素性判断提供了一个明确的准则。\n\n对于合数，$(n-1)! \\pmod{n}$ 的行为则不同。例如，对于任何大于4的合数 $n$，同余式 $(n-1)! \\equiv 0 \\pmod{n}$ 成立。最小的合数 $n=4$ 是一个特例，它既不符合素数的规律，也不符合大于4的合数的规律。\n\n求 $(4-1)! \\pmod{4}$ 的值。\n\nA. 0\n\nB. 1\n\nC. 2\n\nD. 3", "solution": "我们需要计算 $(4-1)! \\pmod{4}$。设 $n=4$。那么\n$$\n(4-1)! = 3! = 3 \\cdot 2 \\cdot 1 = 6.\n$$\n为了对4取模，我们使用带余除法：$6 = 4 \\cdot 1 + 2$，因此\n$$\n6 \\equiv 2 \\pmod{4}.\n$$\n所以，$(4-1)! \\equiv 2 \\pmod{4}$，这对应于选项C。", "answer": "$$\\boxed{C}$$", "id": "1414801"}, {"introduction": "在了解了威尔逊定理不适用于合数的情况后，让我们来看一个它如何巧妙应用于素数模运算的例子。这个问题要求你计算一个包含阶乘的复杂表达式模一个素数的值。这不仅是定理的直接应用，还需要你进行一步关键的代数转换，这是解决数论问题时常用的技巧。[@problem_id:1414794]", "problem": "在数论的研究中，阶乘在模算术下的行为是一个经典课题。设整数 $N$ 由表达式 $N = 3 \\cdot (35!) + 95$ 定义。你的任务是求 $N$ 除以素数 $37$ 的余数。", "solution": "我们要求 $N \\bmod 37$ 的值，其中 $N = 3 \\cdot (35!) + 95$ 且 $37$ 是一个素数。根据威尔逊定理，对于一个素数 $p$，有 $(p-1)! \\equiv -1 \\pmod{p}$。取 $p=37$ 可得\n$$\n36! \\equiv -1 \\pmod{37}.\n$$\n因为 $36! = 36 \\cdot 35!$ 且 $36 \\equiv -1 \\pmod{37}$，我们得到\n$$\n36 \\cdot 35! \\equiv -1 \\pmod{37} \\quad \\Longrightarrow \\quad (-1)\\cdot 35! \\equiv -1 \\pmod{37}.\n$$\n两边同乘以 $-1$ 得\n$$\n35! \\equiv 1 \\pmod{37}.\n$$\n因此，\n$$\nN \\equiv 3 \\cdot 35! + 95 \\equiv 3 \\cdot 1 + 95 \\equiv 98 \\pmod{37}.\n$$\n将 $98$ 对 $37$ 取模，注意到 $37 \\cdot 2 = 74$，因此 $98 - 74 = 24$，所以\n$$\n98 \\equiv 24 \\pmod{37}.\n$$\n因此 $N$ 除以 $37$ 的余数是 $24$。", "answer": "$$\\boxed{24}$$", "id": "1414794"}, {"introduction": "现在，让我们将技巧提升到一个新的水平，解决一个更具普遍性的问题。这个练习挑战你推导 $(p-3)! \\pmod{p}$ 的通用表达式，其中 $p$ 是一个素数。解决这个问题需要你将威尔逊定理与模逆元的概念结合起来，这不仅能加深你对定理的理解，也让你一窥其在密码学等领域中的强大威力。[@problem_id:1414803]", "problem": "在一个去中心化的数字账本系统中，交易验证依赖于一个涉及大素数 $p$ 的密码学过程。\n\n为了使一个区块被视为有效，必须计算一个特定的值 $X$。该值被定义为 $(p-3)!$ 除以 $p$ 的余数。\n\n已知 $p$ 是一个严格大于3的素数，请确定 $X$ 的值。你的答案应该用 $p$ 来表示。请从以下选项中选择。\n\nA. $1$\n\nB. $-1$\n\nC. $\\frac{p-1}{2}$\n\nD. $\\frac{p+1}{2}$\n\nE. $2$", "solution": "设 $p3$ 为素数。根据 Wilson 定理，同余式 $(p-1)!\\equiv -1 \\pmod{p}$ 成立。将 $(p-1)!$ 分解为\n$$(p-1)!=(p-1)(p-2)(p-3)!。$$\n将这些因子模 $p$ 简化，我们得到 $(p-1)\\equiv -1 \\pmod{p}$ 以及 $(p-2)\\equiv -2 \\pmod{p}$。因此，\n$$(p-1)!\\equiv (-1)(-2)(p-3)!\\equiv 2(p-3)!\\pmod{p}。$$\n与 Wilson 定理联立可得\n$$2(p-3)!\\equiv -1 \\pmod{p}。$$\n因为 $\\gcd(2,p)=1$，所以 $2$ 在模 $p$ 意义下是可逆的，其一个明确的逆元是 $\\frac{p+1}{2}$，因为\n$$2\\cdot \\frac{p+1}{2}=p+1\\equiv 1 \\pmod{p}。$$\n两边同乘以 $2^{-1}\\equiv \\frac{p+1}{2}$，得到\n$$(p-3)!\\equiv -\\frac{p+1}{2}\\pmod{p}。$$\n将右边加上 $p$ 得到最小非负余数：\n$$-\\frac{p+1}{2}+p=\\frac{p-1}{2}，$$\n所以\n$$(p-3)!\\equiv \\frac{p-1}{2}\\pmod{p}。$$\n因此，余数 $X$ 是 $\\frac{p-1}{2}$，对应选项C。", "answer": "$$\\boxed{C}$$", "id": "1414803"}]}