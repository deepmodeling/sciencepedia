{"hands_on_practices": [{"introduction": "霍尔婚姻定理不仅告诉我们何时可以找到完美匹配，更重要的是，它提供了一个精确的诊断工具来确定匹配为什么会失败。此练习将理论付诸实践，要求你从一个具体的任务分配场景中，找出一个导致无法进行完全匹配的“问题小组”。通过直接计算并验证霍尔条件 $|N(S)| < |S|$，你将对这一定理的实际应用有更深刻的理解 [@problem_id:1373128]。", "problem": "一家科技公司的项目经理正试图将一个由六名专业程序员组成的团队分配给六个不同的高优先级任务。为了确保项目能够配备足够的人员，每位程序员都必须被分配到一个他们有资格胜任的独特任务。程序员集合为 $P = \\{P_A, P_B, P_C, P_D, P_E, P_F\\}$，任务集合为 $T = \\{T_1, T_2, T_3, T_4, T_5, T_6\\}$。\n\n当且仅当该情景满足霍尔婚姻条件（Hall's Marriage Condition）时，才可能存在一种将每位程序员匹配到独特且合适任务的分配方案。该条件指出，对于程序员的任何子集 $A \\subseteq P$，他们集体有资格胜任的独特任务数量（记为 $|N(A)|$）必须大于或等于该子集中的程序员数量 $|A|$。如果对于任何子集 $A$，该条件被违反，则不可能实现完全分配。\n\n程序员对任务的资格如下：\n-   $P_A$ 有资格执行任务 $\\{T_1, T_2\\}$。\n-   $P_B$ 有资格执行任务 $\\{T_1, T_2\\}$。\n-   $P_C$ 有资格执行任务 $\\{T_2\\}$。\n-   $P_D$ 有资格执行任务 $\\{T_3, T_4, T_5\\}$。\n-   $P_E$ 有资格执行任务 $\\{T_4, T_5, T_6\\}$。\n-   $P_F$ 有资格执行任务 $\\{T_1, T_6\\}$。\n\n从以下选项中，找出所有违反霍尔婚姻条件的程序员子集，从而证明完全分配是不可能的。\n\nA. $\\{P_A, P_B, P_C\\}$\n\nB. $\\{P_D, P_E\\}$\n\nC. $\\{P_A, P_F\\}$\n\nD. $\\{P_A, P_B, P_C, P_F\\}$\n\nE. $\\{P_C, P_D, P_E\\}$", "solution": "霍尔婚姻定理（Hall's Marriage Theorem）指出，存在完美匹配的充要条件是，对于每个子集 $A \\subseteq P$，不等式 $|N(A)| \\geq |A|$ 均成立，其中 $N(A)$ 是 $A$ 中至少一名程序员有资格执行的任务集合。当 $|N(A)|<|A|$ 时，一个子集恰好违反霍尔条件。\n\n考虑选项A，令 $A=\\{P_{A},P_{B},P_{C}\\}$。根据资格条件，$P_{A}$ 和 $P_{B}$ 有资格执行 $\\{T_{1},T_{2}\\}$，$P_{C}$ 有资格执行 $\\{T_{2}\\}$。因此 $N(A)=\\{T_{1},T_{2}\\}$，所以 $|N(A)|=2$ 而 $|A|=3$。因为 $2<3$，所以该子集违反霍尔条件。\n\n考虑选项B，令 $A=\\{P_{D},P_{E}\\}$。我们有 $P_{D}$ 有资格执行 $\\{T_{3},T_{4},T_{5}\\}$，$P_{E}$ 有资格执行 $\\{T_{4},T_{5},T_{6}\\}$，得出 $N(A)=\\{T_{3},T_{4},T_{5},T_{6}\\}$。因此 $|N(A)|=4$ 且 $|A|=2$，所以 $4 \\geq 2$，这不违反霍尔条件。\n\n考虑选项C，令 $A=\\{P_{A},P_{F}\\}$。则 $N(A)=\\{T_{1},T_{2}\\} \\cup \\{T_{1},T_{6}\\}=\\{T_{1},T_{2},T_{6}\\}$，所以 $|N(A)|=3$ 且 $|A|=2$，因此 $3 \\geq 2$，这不违反霍尔条件。\n\n考虑选项D，令 $A=\\{P_{A},P_{B},P_{C},P_{F}\\}$。使用之前的并集，$N(\\{P_{A},P_{B},P_{C}\\})=\\{T_{1},T_{2}\\}$，再加入 $P_{F}$ 的资格 $\\{T_{1},T_{6}\\}$，得到 $N(A)=\\{T_{1},T_{2},T_{6}\\}$。因此 $|N(A)|=3$ 且 $|A|=4$，所以 $3<4$，这违反霍尔条件。\n\n考虑选项E，令 $A=\\{P_{C},P_{D},P_{E}\\}$。并集是 $\\{T_{2}\\} \\cup \\{T_{3},T_{4},T_{5}\\} \\cup \\{T_{4},T_{5},T_{6}\\}=\\{T_{2},T_{3},T_{4},T_{5},T_{6}\\}$。因此 $|N(A)|=5$ 且 $|A|=3$，所以 $5 \\geq 3$，这不违反霍尔条件。\n\n因此，违反霍尔条件的子集是选项A和D中的子集。", "answer": "$$\\boxed{AD}$$", "id": "1373128"}, {"introduction": "在了解了匹配失败的条件后，我们自然会问：是否存在某些结构特性可以*保证*完美匹配的存在？本练习探讨了一种优雅且常见的情况——$k$-正则二分图，其中每个节点都恰好有 $k$ 个连接。通过这个练习，你将运用霍尔条件来证明一个普适性的结论，这不仅是检验一个特定子集，更是为整类图的性质提供一个坚实的证明 [@problem_id:1373120]。", "problem": "一家技术咨询公司正在组织一个重大项目，需要将分析部门和业务部门的团队进行配对。分析部门有 $n$ 个团队，构成集合 $A = \\{a_1, a_2, \\ldots, a_n\\}$，业务部门有 $n$ 个团队，构成集合 $B = \\{b_1, b_2, \\ldots, b_n\\}$。\n\n由于特定的技能组合和项目要求，并非每个分析团队都能与每个业务团队合作。这种兼容性关系可以被建模为一个二分图 $G$，其分区为 $A$ 和 $B$。一个分析团队 $a_i$ 和一个业务团队 $b_j$ 之间存在一条边，当且仅当他们是兼容的。\n\n公司的目标是形成 $n$ 个不同的配对 $(a_i, b_j)$，其中每个配对由兼容的团队组成，并且两个部门的每个团队都恰好属于一个配对。这种安排在兼容性图中被称为完美匹配。\n\n假设该兼容性图具有一种特殊的正则结构：每个团队，无论其属于哪个部门，都与另一部门的恰好 $k$ 个团队兼容，其中 $k$ 是一个正整数。这意味着该图是 $k$-正则的。\n\n对于任何此类每个分区有 $n$ 个团队的 $k$-正则兼容性图，下列哪个陈述给出了正整数 $k$ 的一个必要且充分的条件，以*始终*保证存在这样的完美匹配？\n\nA. 仅当 $k=n$ 时，才能保证存在完美匹配。\n\nB. 仅当 $k$ 是 $n$ 的约数时，才能保证存在完美匹配。\n\nC. 对于任何正整数 $k \\ge 1$，都能保证存在完美匹配。\n\nD. 仅当 $k \\ge n/2$ 时，才能保证存在完美匹配。\n\nE. 仅当兼容性图是连通的时，才能保证存在完美匹配。", "solution": "设 $G$ 是一个二分图，其二分划分为 $A$ 和 $B$，其中 $|A|=|B|=n$。假设 $G$ 是 $k$-正则的，意味着 $A \\cup B$ 中的每个顶点的度数都恰好为 $k$，其中 $k$ 是一个正整数。我们将证明对于任何这样的 $k \\ge 1$，总是能保证存在完美匹配，并且不需要关于 $k$ 的更强条件。\n\n根据 Hall 婚姻定理，一个具有二分划分 $A, B$ 的二分图有一个饱和 $A$ 的匹配，当且仅当对于任意子集 $S \\subseteq A$，其邻域 $N(S) \\subseteq B$ 满足 $|N(S)| \\ge |S|$。由于 $|A|=|B|$，任何饱和 $A$ 的匹配都是一个完美匹配。\n\n固定任意 $S \\subseteq A$。考虑 $S$ 和 $N(S)$ 之间的边数，记为 $e(S,N(S))$。因为 $S$ 中的每个顶点的度数都是 $k$，其所有邻点都在 $B$ 中，又根据 $N(S)$ 的定义，所有这些邻点都包含在 $N(S)$ 中，我们有\n$$\ne(S,N(S)) = k|S|.\n$$\n另一方面，$N(S)$ 中的每个顶点的总度数是 $k$，所以它最多与 $k$ 条来自 $S$ 的边相关联。因此，\n$$\ne(S,N(S)) \\le k|N(S)|.\n$$\n结合这两个等式/不等式得到\n$$\nk|S| \\le k|N(S)|.\n$$\n因为 $k \\ge 1$，两边同时除以 $k$ 得到\n$$\n|S| \\le |N(S)|.\n$$\n因此，对于每个 $S \\subseteq A$，Hall 条件都成立，所以存在一个饱和 $A$ 的匹配。因为 $|A|=|B|$，这个匹配是一个完美匹配。\n\n这证明了对于任何正整数 $k \\ge 1$，每个分区有 $n$ 个顶点的 $k$-正则二分图都有一个完美匹配。反之，如果 $k=0$，则图中没有边，因此没有完美匹配，所以 $k \\ge 1$ 是保证存在的必要条件。因此，对于任何这样的 $k$-正则兼容性图，要始终保证存在完美匹配，对 $k$ 的必要且充分的条件就是 $k$ 是任意正整数。\n\n评估选项：\n- A 是错误的，因为 $k=n$ 不是必需的；例如，$k=1$ 也成立。\n- B 是错误的，因为 $k$ 和 $n$ 之间不需要可除性条件。\n- C 是正确的，根据上述论证。\n- D 是错误的，因为 $k$ 可以小于 $n/2$（例如，$k=1$）并且仍然保证存在完美匹配。\n- E 是错误的，因为不要求连通性；无论图是否连通，保证都成立。\n\n因此，正确选项是 C。", "answer": "$$\\boxed{C}$$", "id": "1373120"}, {"introduction": "霍尔定理的强大之处在于其“当且仅当”的特性，它为完美匹配的存在性划定了一条清晰的界线。本练习将带你探索这条界线的“临界点”。你将分析一个特殊设计的场景：一个整体上无法实现完美匹配，但其任何一个局部子问题都总能被解决的系统。你的任务是找出导致这种“最小失败”情况发生的精确条件，从而深化对霍尔定理作为一个精确判定准则的认识 [@problem_id:1510982]。", "problem": "一所大学的计算机科学系正在组织其年度项目展览会。现有 $n \\ge 2$ 个学生小组，记作集合 $U = \\{u_1, \\dots, u_n\\}$，以及数量相等的展示位，记作集合 $V = \\{v_1, \\dots, v_n\\}$。主要目标是将每个学生小组分配到一个独一无二的展示位。\n\n分配过程受到项目技术要求的限制。具体来说，其中 $k$ 个展示位（$1 \\le k < n$），即子集 $\\{v_1, \\dots, v_k\\}$，被指定为“大功率”展示位。由于一个全系统的硬件兼容性问题，发现每个学生小组的项目都*仅*与这些大功率展示位兼容。一个小组到一个展示位的分配仅当该展示位是其兼容的展示位时才有效。\n\n系主任观察到此设置存在两个相互矛盾的性质：\n1. 不可能将每个学生小组都分配到一个独一无二的展示位。\n2. 对于任意较小的学生小组集合（即，对于任意非空真子集 $S \\subset U$），总能将 $S$ 中的每个小组分配到一个与其兼容的、独一无二的大功率展示位。\n\n已知 $n$ 是一个大于或等于2的固定整数，请确定 $k$ 的唯一整数值（用 $n$ 表示），使得上述两个性质同时成立。", "solution": "将此情况建模为一个二分图，其两部分别为 $U=\\{u_{1},\\dots,u_{n}\\}$ 和 $V=\\{v_{1},\\dots,v_{n}\\}$。其中，从 $U$ 出发的边仅连接到 $k$ 个大功率展示位 $V_{H}=\\{v_{1},\\dots,v_{k}\\}$。因此，任何匹配在 $V$ 这边只能使用 $V_{H}$ 中的顶点。\n\n性质1要求不存在一个 $U$ 的完美匹配。由于任何匹配都只使用 $V_{H}$ 中的展示位，其大小至多为 $|V_{H}|=k$。因此，如果 $k<n$，则没有任何匹配能覆盖所有 $n$ 个小组，所以性质1成立。因此 $k<n$ 是必要条件，且已在题中给出。\n\n性质2断言，对于每个非空真子集 $S\\subset U$，都存在一个饱和 $S$ 的匹配。特别地，取一个大小为 $|S|=n-1$ 的集合 $S$。任何从 $S$ 到展示位的单射都必须使用至少 $|S|$ 个不同的展示位，而所有可用的展示位都在 $V_{H}$ 中。因此，一个必要条件是\n$$\n|S|=n-1\\le |V_{H}|=k,\n$$\n所以 $k\\ge n-1$。结合 $k<n$ 可得\n$$\nk=n-1.\n$$\n\n剩下的任务是验证其充分性。如果 $k=n-1$ 并且每个 $u_{i}$ 都与 $V_{H}$ 中的所有展示位兼容，那么对于任意 $|S|\\le n-1$ 的子集 $S\\subset U$，霍尔条件成立，因为对于每个 $T\\subseteq S$，\n$$\n|N(T)|=|V_{H}|=n-1\\ge |T|,\n$$\n所以存在一个饱和 $S$ 的匹配。同时，不存在 $U$ 的完美匹配，因为所有的边都只连接到 $n-1$ 个展示位。因此 $k=n-1$ 是充分且必要的，故其值是唯一的。", "answer": "$$\\boxed{n-1}$$", "id": "1510982"}]}