{"hands_on_practices": [{"introduction": "匹配理论在现实世界中的资源分配问题，如任务分配或人员配对中有着广泛的应用。这个练习将带你进入一个典型的场景：为开发者和导师寻找最佳配对。通过寻找一条“增广路径”，你将能够亲手将一个未达到最优的匹配方案改进成一个更大的匹配，这直接展示了 Berge 定理在实践中的威力 [@problem_id:1521183]。", "problem": "一个技术孵化器正在组织一个导师计划。他们有一组六名初级开发者和一组六名资深导师。为确保配对富有成效，一名开发者只有在与导师共享共同技术栈的情况下才能配对。每名开发者最多只能与一名导师配对，每名导师也最多只能与一名开发者配对。\n\n开发者被标记为 D1, D2, D3, D4, D5, 和 D6。\n导师被标记为 M1, M2, M3, M4, M5, 和 M6。\n\n基于技能兼容性的可能配对列表如下：\n- D1 与 M1 兼容。\n- D2 与 M1 和 M2 兼容。\n- D3 与 M2 和 M3 兼容。\n- D4 与 M4 兼容。\n- D5 与 M5 兼容。\n- D6 与 M5 兼容。\n\n提出了一个初始配对方案：`{ (D2, M1), (D3, M2), (D4, M4), (D5, M5) }`。\n这个初始方案使一些开发者和导师未能配对。可以创建一个新的配对方案，该方案比初始方案多一对，从而增加参与该计划的总人数。\n\n下列哪个选项代表了一个有效且改进的配对方案，其包含的配对数量比初始方案正好增加了一对？\n\nA. { (D1, M1), (D2, M2), (D3, M3), (D4, M4), (D5, M5) }\n\nB. { (D2, M1), (D3, M2), (D4, M4), (D5, M5), (D6, M5) }\n\nC. { (D1, M1), (D2, M2), (D4, M4), (D5, M5) }\n\nD. { (D1, M1), (D3, M3), (D4, M4), (D5, M5), (D6, M5) }", "solution": "将此情况建模为一个二分图，其中开发者 $\\{D1,D2,D3,D4,D5,D6\\}$ 在一侧，导师 $\\{M1,M2,M3,M4,M5,M6\\}$ 在另一侧，边由兼容性给出：\n$D1\\text{-}M1$, $D2\\text{-}\\{M1,M2\\}$, $D3\\text{-}\\{M2,M3\\}$, $D4\\text{-}M4$, $D5\\text{-}M5$, $D6\\text{-}M5$.\n\n初始匹配为\n$$\nM_{0}=\\{(D2,M1),(D3,M2),(D4,M4),(D5,M5)\\},\n$$\n其基数为 $|M_{0}|=4$。我们寻找一个多一对的匹配，即大小为 5 的匹配。根据二分图匹配的增广路径法，如果存在一条起点和终点均为未匹配顶点，且在未匹配边和已匹配边之间交替的交错路径，那么沿着这条路径进行“翻转”操作会使匹配的大小增加 1。\n\n从未匹配的开发者 $D1$ 开始。存在一条未匹配边 $D1\\text{-}M1$。在 $M_{0}$ 中，$M1$ 与 $D2$ 匹配，因此我们沿着已匹配边 $D2\\text{-}M1$ 继续。开发者 $D2$ 还有另一个兼容的导师 $M2$，并且 $D2\\text{-}M2$ 当前是未匹配的，但 $M2$ 在 $M_{0}$ 中与 $D3$ 匹配，所以我们沿着已匹配边 $D3\\text{-}M2$ 继续。开发者 $D3$ 还有另一个兼容的导师 $M3$，且 $M3$ 当前未被匹配。因此，我们找到了一条增广路径\n$$\nD1 - M1 - D2 - M2 - D3 - M3.\n$$\n沿着这条路径进行增广：将路径上的已匹配边替换为未匹配边。具体来说，从 $M_{0}$ 中移除 $(D2,M1)$ 和 $(D3,M2)$，并加入 $(D1,M1)$、$(D2,M2)$ 和 $(D3,M3)$。加上未受影响的配对 $(D4,M4)$ 和 $(D5,M5)$，这就得到了新的匹配\n$$\nM_{1}=\\{(D1,M1),(D2,M2),(D3,M3),(D4,M4),(D5,M5)\\},\n$$\n其基数 $|M_{1}|=5$，比 $|M_{0}|$ 正好多一个。$M_{1}$ 中的每一对都遵循兼容性规则，并且没有导师或开发者出现超过一次。\n\n与选项进行比较：\n- 选项 A 与 $M_{1}$ 完全匹配，是有效的。\n- 选项 B 同时包含 $(D5,M5)$ 和 $(D6,M5)$，这违反了对 $M5$ 的一对一约束。\n- 选项 C 只有 4 对，数量没有增加。\n- 选项 D 同样将 $M5$ 分配给了两名开发者，违反了约束。\n\n因此，有效的改进方案是选项 A。", "answer": "$$\\boxed{A}$$", "id": "1521183"}, {"introduction": "掌握了在具体情境中应用增广路径后，让我们在一个更简洁的图结构中来提炼这个概念。这个练习要求你在一个简单的路径图中识别出最长的增广路径 [@problem_id:1521208]。通过这个练习，你将加深对交替路径和增广路径结构性定义的理解，并体会到它们如何成为判断一个匹配是否为最大匹配的关键工具。", "problem": "一个分布式计算网络由一个线性排列的 $N=100$ 个处理节点组成，这些节点从 $v_1$ 到 $v_{100}$ 顺次标记。一个节点 $v_i$ 仅与节点 $v_{i-1}$ (当 $i > 1$ 时) 和 $v_{i+1}$ (当 $i < 100$ 时) 连接，形成一个路径图 $P_{100}$。在一对对相邻节点之间建立了一组记为 $M$ 的专用高速通信链路。当且仅当索引 $i$ 为偶数时，节点 $v_i$ 和节点 $v_{i+1}$ 之间存在一条在 $M$ 中的链路。这组链路 $M$ 构成一个匹配，意味着没有节点是 $M$ 中多于一条链路的端点。\n\n对于一个给定的匹配，如果一条路径的边交替地属于和不属于该匹配，则称该路径为*交错路径*。一条关于 $M$ 的*增广路径*是一条简单交错路径，其起点和终点都是“未匹配”的（即不是 $M$ 中任何边的端点）。\n\n给定此节点和链路的特定配置，确定最长可能增广路径的长度。路径的长度定义为其包含的边的数量。", "solution": "设路径图为 $P_{100}$，其顶点为 $v_{1},\\dots,v_{100}$，边为 $(v_{i},v_{i+1})$，其中 $i=1,\\dots,99$。匹配 $M$ 定义为\n$$\nM=\\{(v_{i},v_{i+1}) : i \\text{ 为偶数},\\ 2 \\leq i \\leq 98\\}.\n$$\n一个顶点是未匹配的，当且仅当它不与 $M$ 中的任何边关联。因为边 $(v_{1},v_{2})$ 的索引 $i=1$ (奇数)，边 $(v_{99},v_{100})$ 的索引 $i=99$ (奇数)，所以它们都不属于 $M$。又因为没有其他边与 $v_{1}$ 或 $v_{100}$ 关联，因此 $v_{1}$ 和 $v_{100}$ 是未匹配的。\n\n考虑简单路径\n$$\n\\gamma=(v_{1},v_{2},\\dots,v_{100}).\n$$\n其长度是它包含的边的数量：\n$$\n\\ell(\\gamma)=100-1=99.\n$$\n对于每个 $i\\in\\{1,\\dots,99\\}$，边 $(v_{i},v_{i+1})$ 属于 $M$ 当且仅当 $i$ 是偶数。因此，当 $i$ 沿着 $\\gamma$ 递增1时，边 $(v_{i},v_{i+1})$ 是否属于 $M$ 的性质会交替变化（因为奇偶性交替变化）。第一条边 $(v_{1},v_{2})$ 不在 $M$ 中，最后一条边 $(v_{99},v_{100})$ 也不在 $M$ 中，所以 $\\gamma$ 是一条交错路径，其端点 $v_{1}$ 和 $v_{100}$ 是未匹配的。因此 $\\gamma$ 是一条增广路径。\n\n$P_{100}$ 中的任何增广路径（实际上是任何简单路径）都不可能有多于99条边，因为一个有100个顶点的路径图中的简单路径最大长度为 $100-1=99$。因此，最长可能增广路径的长度为99。", "answer": "$$\\boxed{99}$$", "id": "1521208"}, {"introduction": "在匹配理论中，“极大匹配”(maximal matching) 和“最大匹配”(maximum matching) 是两个容易混淆但至关重要的概念。一个极大匹配是局部最优的，无法再添加任何边；而最大匹配是全局最优的，包含尽可能多的边。这个练习通过一个思想实验，挑战你构建一个尺寸远小于其对应最大匹配的极大匹配 [@problem_id:1521207]，从而深刻揭示这两个概念之间的差异，并理解为何寻找最大匹配需要比贪心算法更复杂的策略。", "problem": "在图论中，图中的**匹配** (matching) 是一个边的集合，其中任意两条边都没有公共顶点。如果一个匹配无法通过添加图中任何其他可用边来扩展，则称其为**极大** (maximal) 匹配。换言之，图中任何不在极大匹配中的边，都至少有一个端点与匹配中的某条边共享。如果一个匹配包含给定图所能拥有的最大可能数量的边，则称其为**最大** (maximum) 匹配。请注意，最大匹配一定是极大匹配，但极大匹配不一定是最大匹配。\n\n考虑一个简单图 $G$，它是由 13 个相同的路径图 $P_4$ 的不交并构成的。一个路径图 $P_4$ 包含 4 个顶点和 3 条边，形成一条简单路径（例如，顶点 $v_1, v_2, v_3, v_4$ 和边 $(v_1, v_2), (v_2, v_3), (v_3, v_4)$）。\n\n确定图 $G$ 中最小可能极大匹配的大小。", "solution": "设 $G$ 是 $13$ 个 $P_4$ 副本的不交并。对于图的不交并，图 $G$ 中的一个匹配 $M$ 是极大的，当且仅当它在每个连通分量上的限制是该分量中的一个极大匹配。正向成立，因为如果 $M$ 在 $G$ 中是极大的，但在某个分量中不是极大的，那么可以从该分量中添加一条额外的边到 $M$ 中，这与 $M$ 的极大性相矛盾。反向成立，因为如果每个分量都有一个极大匹配，那么任何分量中都不能有更多的边被添加到 $M$ 中，所以 $M$ 在 $G$ 中是极大的。\n\n因此，$G$ 中最小极大匹配的大小等于每个 $P_4$ 副本中最小极大匹配大小在所有分量上的总和。由于所有 $13$ 个副本都是相同的，我们只需找到 $P_4$ 中最小极大匹配的大小。\n\n将 $P_4$ 的顶点标记为 $v_1,v_2,v_3,v_4$，其边为 $(v_1,v_2)$、$(v_2,v_3)$、$(v_3,v_4)$。考虑以下匹配：\n- 大小为 $0$ 的匹配不是极大的，因为可以添加诸如 $(v_2,v_3)$ 的边。\n- 对于大小为 $1$ 的情况，取 $M=\\{(v_2,v_3)\\}$。剩下的边 $(v_1,v_2)$ 和 $(v_3,v_4)$ 都与 $(v_2,v_3)$ 共享一个顶点，所以不能再添加任何边；因此 $M$ 是极大的。如果选择 $\\{(v_1,v_2)\\}$ 或 $\\{(v_3,v_4)\\}$，那么另一端的边 $(v_3,v_4)$ 或 $(v_1,v_2)$ 就可以被添加进来，所以这些匹配不是极大的。\n\n因此，$P_4$ 中最小极大匹配的大小是 $1$。将 $13$ 个不交并副本的结果相加，得到 $G$ 中最小可能极大匹配的大小为 $13 \\times 1 = 13$。", "answer": "$$\\boxed{13}$$", "id": "1521207"}]}