{"hands_on_practices": [{"introduction": "我们从一个经典且直观的例子开始动手实践：在一个环形网络中寻找最大数量的并发通信链路。这个练习将帮助你将“最大匹配”的抽象定义应用于一个具体的图结构——圈图 $C_n$。通过解决这个问题 [@problem_id:1520409]，你将练习如何将实际场景转化为图论模型，并通过对顶点数量的奇偶性进行分类讨论，最终得出一个简洁而通用的公式。", "problem": "一家科技公司正在 $n$ 台设备间部署一个新的点对点通信系统，其中 $n$ 是一个大于或等于3的整数。这些设备按逻辑环形拓扑排列，这意味着每台标记为 $d_i$ 的设备只能直接与其两个直接相邻的设备 $d_{i-1}$ 和 $d_{i+1}$ 通信（下标对 $n$ 取模，因此 $d_{n+1}$ 是 $d_1$，$d_0$ 是 $d_n$）。\n\n当两个相邻设备配对以交换一个大数据包时，就建立了一条“通信链路”。当一条链路建立后，所涉及的两台设备被视为“占用”状态，不能参与任何其他通信链路。目标是最大化整个网络中可同时存在的、不重叠的通信链路的数量。\n\n请给出一个单一的、封闭形式的表达式，用 $n$ 来表示在任何给定时刻可以活跃的最大通信链路数。您的表达式应对任何整数 $n \\ge 3$ 都有效。", "solution": "首先，我们使用图论来对这个问题建模。这 $n$ 台设备可以表示为图 $G$ 的顶点，而相邻设备之间的潜在通信路径可以表示为边。由于这些设备处于环形拓扑结构中，每个设备都连接到其两个直接邻居，因此所得到的图是一个有 $n$ 个顶点的圈图，记作 $C_n$。\n\n一组同时存在的、不重叠的通信链路对应于 $C_n$ 中的一个边集，其中任意两条边都不共享同一个顶点。根据定义，这是图中的一个匹配。问题要求的是此类链路的最大数量，这等价于求 $C_n$ 中最大匹配的大小。最大匹配的大小也称为匹配数，记作 $\\alpha'(G)$。\n\n我们可以根据 $n$ 的奇偶性分两种情况来确定 $\\alpha'(C_n)$ 的值。\n\n情况1：$n$ 是偶数。\n设 $n = 2k$，其中 $k$ 是一个整数且 $k \\ge 2$（因为 $n \\ge 3$，所以最小的偶数 $n$ 是 4）。设顶点沿环路依次标记为 $v_1, v_2, \\dots, v_{2k}$。我们可以通过沿环路选择每隔一条边的方式来构造一个匹配。例如，考虑边集 $M = \\{\\{v_1, v_2\\}, \\{v_3, v_4\\}, \\dots, \\{v_{2k-1}, v_{2k}\\}\\}$。在此集合中，每个顶点 $v_i$ 最多出现在一条边中。例如，$v_2$ 属于边 $\\{v_1, v_2\\}$，但它的另一个邻居 $v_3$ 与 $v_4$ 配对，而不是与 $v_2$ 配对。这个集合 $M$ 是一个有效的匹配。该匹配中的边数为 $k$。由于 $n = 2k$，我们有 $k = n/2$。因此，我们找到了一个大小为 $n/2$ 的匹配。\n一个大小为 $m$ 的匹配涉及 $2m$ 个不同的顶点。在任何有 $n$ 个顶点的图中，任意匹配的大小 $m$ 都必须满足 $2m \\le n$，这意味着 $m \\le n/2$。由于我们已经找到了一个大小为 $n/2$ 的匹配，这必定是一个最大匹配。因此，当 $n$ 为偶数时，$\\alpha'(C_n) = n/2$。\n\n情况2：$n$ 是奇数。\n设 $n = 2k+1$，其中 $k$ 是一个整数且 $k \\ge 1$（因为 $n \\ge 3$，所以最小的奇数 $n$ 是 3）。设顶点标记为 $v_1, v_2, \\dots, v_{2k+1}$。我们可以尝试用与偶数情况类似的方法来构造一个匹配。考虑边集 $M = \\{\\{v_1, v_2\\}, \\{v_3, v_4\\}, \\dots, \\{v_{2k-1}, v_{2k}\\}\\}$。这是一个有效的匹配，其大小为 $k$。涉及的顶点是 $v_1, \\dots, v_{2k}$。顶点 $v_{2k+1}$ 未被匹配。$v_{2k+1}$ 的邻居是 $v_1$ 和 $v_{2k}$。这两个顶点都已在匹配 $M$ 中被使用（分别在边 $\\{v_1, v_2\\}$ 和 $\\{v_{2k-1}, v_{2k}\\}$ 中），因此不能再向 $M$ 中添加更多的边。\n这个匹配的大小是 $k$。由于 $n = 2k+1$，我们可以将 $k$ 表示为 $k = (n-1)/2$。因此我们找到了一个大小为 $(n-1)/2$ 的匹配。\n如前所述，对于任何大小为 $m$ 的匹配，我们必须有 $2m \\le n$。对于奇数 $n=2k+1$，这意味着 $2m \\le 2k+1$，即 $m \\le k + 1/2$。由于 $m$ 必须是整数，所以最大可能的大小是 $m \\le k$。我们已经构造了一个大小为 $k$ 的匹配，所以这是一个最大匹配。因此，当 $n$ 为奇数时，$\\alpha'(C_n) = (n-1)/2$。\n\n最后，我们将这两种情况合并成一个单一的封闭形式表达式。\n如果 $n$ 是偶数，$n=2k$，则最大大小为 $k = n/2$。\n如果 $n$ 是奇数，$n=2k+1$，则最大大小为 $k = (n-1)/2$。\n\n我们可以使用向下取整函数 $\\lfloor x \\rfloor$（它给出小于或等于 $x$ 的最大整数）来紧凑地表示这个结果。\n如果 $n$ 是偶数，$n=2k$，则 $\\lfloor n/2 \\rfloor = \\lfloor 2k/2 \\rfloor = \\lfloor k \\rfloor = k$。这与我们的结果相符。\n如果 $n$ 是奇数，$n=2k+1$，则 $\\lfloor n/2 \\rfloor = \\lfloor (2k+1)/2 \\rfloor = \\lfloor k + 0.5 \\rfloor = k$。这也与我们的结果相符。\n\n因此，对于任何整数 $n \\ge 3$，最大同时通信链路数由表达式 $\\lfloor n/2 \\rfloor$ 给出。", "answer": "$$\\boxed{\\lfloor \\frac{n}{2} \\rfloor}$$", "id": "1520409"}, {"introduction": "知道了什么是最大匹配，下一个自然的问题就是：如何找到它？对于复杂的图，穷举所有可能的匹配是不现实的，因此我们需要一种更系统、更高效的算法。这个练习 [@problem_id:1520390] 让你亲手操作寻找最大匹配的核心工具——增广路径。通过在一个给定的二分图中，从一个未匹配的顶点出发，一步步地构造一条交错路径，你将直观地理解增广路径是如何“扩充”现有匹配，并最终通向最大匹配的。", "problem": "在一个分布式计算系统中，一组服务器必须被分配给一组计算任务。该系统的调度器旨在通过在系统的二分图表示中找到一个最大匹配，来最大化并发运行的任务数量。\n\n设服务器集合为 $A = \\{s_1, s_2, s_3, s_4, s_5\\}$，任务集合为 $B = \\{t_1, t_2, t_3, t_4, t_5\\}$。该二分图为 $G = (A \\cup B, E)$，其中一条边 $(s_i, t_j) \\in E$ 表示服务器 $s_i$ 能够执行任务 $t_j$。可能的分配（边）集合由下式给出：\n$E = \\{ (s_1, t_2), (s_1, t_3), (s_2, t_1), (s_2, t_4), (s_3, t_1), (s_3, t_2), (s_4, t_3), (s_4, t_5), (s_5, t_5) \\}$。\n\n调度器已经找到了一个初始的非最大匹配 $M$，它是 $E$ 的一个子集：\n$M = \\{ (s_2, t_1), (s_3, t_2), (s_4, t_3) \\}$。\n\n为了改进当前的分配，调度器必须找到一条 $M$-增广路径。一条 $M$-增广路径是一条交替路径（其边在 $E \\setminus M$ 和 $M$ 中交替出现），其起点和终点都未被 $M$ 匹配。\n\n找出从服务器 $s_1$ 开始的最短 $M$-增广路径。该路径应表示为一个有序的顶点序列。\n\n下列哪个选项表示这条路径？\n\nA. $(s_1, t_2, s_3, t_1, s_2, t_4)$\n\nB. $(s_1, t_3, s_4, t_5)$\n\nC. $(s_5, t_5)$\n\nD. $(s_1, t_2, s_3)$\n\nE. $(s_1, t_2, s_4, t_5)$", "solution": "我们已知一个二分图 $G=(A\\cup B,E)$，其中 $A=\\{s_{1},s_{2},s_{3},s_{4},s_{5}\\}$ 和 $B=\\{t_{1},t_{2},t_{3},t_{4},t_{5}\\}$，边集 $E=\\{(s_{1},t_{2}),(s_{1},t_{3}),(s_{2},t_{1}),(s_{2},t_{4}),(s_{3},t_{1}),(s_{3},t_{2}),(s_{4},t_{3}),(s_{4},t_{5}),(s_{5},t_{5})\\}$，以及一个当前匹配 $M=\\{(s_{2},t_{1}),(s_{3},t_{2}),(s_{4},t_{3})\\}$。匹配 $M$ 将 $s_{2}$ 与 $t_{1}$ 配对，$s_{3}$ 与 $t_{2}$ 配对，$s_{4}$ 与 $t_{3}$ 配对。因此，未匹配的服务器是 $s_{1}$ 和 $s_{5}$，未匹配的任务是 $t_{4}$ 和 $t_{5}$。\n\n根据定义，一条 $M$-增广路径是一条交替路径，其边在 $E\\setminus M$ 和 $M$ 中交替出现，并起止于未被 $M$ 匹配的顶点。由于我们必须从未匹配的顶点 $s_{1}$ 开始，第一条边必须属于 $E\\setminus M$。\n\n从 $s_{1}$ 出发，可用的边是 $(s_{1},t_{2})$ 和 $(s_{1},t_{3})$，它们都属于 $E\\setminus M$。这里的每个目标任务都在 $M$ 中被匹配：$t_{2}$ 与 $s_{3}$ 匹配，$t_{3}$ 与 $s_{4}$ 匹配。因此，下一步必须沿着与该任务关联的唯一一条 $M$ 中的边：\n- 如果我们选择 $(s_{1},t_{3})\\in E\\setminus M$，那么我们必须接着走 $(t_{3},s_{4})\\in M$。从 $s_{4}$ 出发，我们必须选择一条属于 $E\\setminus M$ 的边；从 $s_{4}$ 出发的可用边是 $(s_{4},t_{3})\\in M$ 和 $(s_{4},t_{5})\\in E\\setminus M$。选择 $(s_{4},t_{5})$ 会到达未匹配的顶点 $t_{5}$。因此，路径\n$$\n(s_{1},t_{3},s_{4},t_{5})\n$$\n是一条 $M$-增广路径，其边的模式为 $E\\setminus M$, $M$, $E\\setminus M$ 交替，且起点 $s_{1}$ 和终点 $t_{5}$ 均为未匹配点。\n\n- 如果我们选择 $(s_{1},t_{2})\\in E\\setminus M$，那么我们必须接着走 $(t_{2},s_{3})\\in M$。从 $s_{3}$ 出发，唯一的 $E\\setminus M$ 边是 $(s_{3},t_{1})$，而 $t_{1}$ 通过 $(t_{1},s_{2})\\in M$ 与 $s_{2}$ 匹配。从 $s_{2}$ 出发，有一条 $E\\setminus M$ 边是 $(s_{2},t_{4})$，它到达未匹配的顶点 $t_{4}$。这将产生路径\n$$\n(s_{1},t_{2},s_{3},t_{1},s_{2},t_{4}),\n$$\n它也是一条 $M$-增广路径，但有更多的边。\n\n在这两者之间，从 $s_{1}$ 开始的最短 $M$-增广路径是 $(s_{1},t_{3},s_{4},t_{5})$，这与选项B相符。其他选项无效的原因如下：C 不从 $s_{1}$ 开始；D 没有在未匹配的顶点结束，也没有交替到未匹配的终点；E 包含了一条不存在的边 $(t_{2},s_{4})$，并且违反了交替规则，因为 $t_{2}$ 是与 $s_{3}$ 匹配，而不是 $s_{4}$。\n\n因此，正确选项是B。", "answer": "$$\\boxed{B}$$", "id": "1520390"}, {"introduction": "在掌握了计算和寻找匹配的基本方法后，让我们将目光投向更深层次的结构性问题。这个练习 [@problem_id:1520413] 引导我们从“计算”转向“证明”，探索匹配在特定图类中的独特属性。它揭示了一个关于树的优美结论：如果一棵树存在完美匹配，那么这个完美匹配一定是唯一的。解决这个问题不仅能加深你对树和完美匹配定义的理解，还将向你介绍一个在匹配理论中极为重要的证明技巧——对称差，它为我们分析和比较不同匹配提供了有力的工具。", "problem": "在图论中，一个图是一个有序对 $G=(V,E)$，由一个顶点集合 $V$ 和一个边集合 $E$ 组成。树是一种无环的连通图。图中的一个匹配 $M$ 是其边的一个子集，其中 $M$ 中的任意两条边都不共享公共顶点。完美匹配是一种覆盖图中所有顶点的匹配。请注意，一个图必须有偶数个顶点才能拥有完美匹配。\n\n考虑特定于树中的匹配性质。根据所给定义，下列关于任意树 $T$ 的陈述中，哪一个是恒为真的？\n\nA. 如果 $T$ 的顶点数为偶数且大于2，那么 $T$ 必定有一个完美匹配。\n\nB. 如果 $T$ 有一个完美匹配 $M$，那么从 $M$ 中移除任意一条边并从 $T$ 中移除任意两个顶点，所得到的图也必定有一个完美匹配。\n\nC. 一棵树可能恰好有两个不同的完美匹配。\n\nD. 如果一棵树有一个完美匹配，那么它是唯一的。\n\nE. 一棵树有完美匹配当且仅当其所有顶点的度数都为奇数。", "solution": "我们使用匹配和完美匹配的定义，以及关于匹配的标准结构性事实，来分析关于任意树 $T$ 的每个陈述。\n\nA. 错误。考虑星形图 $K_{1,3}$，它是一棵有 $4$ 个顶点（偶数）的树。任何匹配最多只能包含一条边（因为所有边都共享中心顶点），所以没有匹配能覆盖所有 $4$ 个顶点。因此，不存在完美匹配，这与偶数阶意味着存在完美匹配的说法相矛盾。\n\nB. 错误。设 $T=P_{4}$，其顶点为 $v_{1}-v_{2}-v_{3}-v_{4}$。匹配 $M=\\{v_{1}v_{2},\\,v_{3}v_{4}\\}$ 是一个完美匹配。移除边 $v_{1}v_{2}\\in M$ 并移除顶点 $v_{1}$ 和 $v_{3}$。剩下的图有顶点 $\\{v_{2},v_{4}\\}$，但它们之间没有边，所以它没有完美匹配。由于陈述是对 $M$ 中的任意边和任意两个顶点进行量化的，一个反例就足以驳斥它。\n\nC 和 D 取决于一个基本性质：如果 $M$ 和 $N$ 是任意图中两个完美匹配，那么它们的对称差 $M\\triangle N$ 是若干不相交的偶环的并集。证明：在一个完美匹配中，每个顶点在匹配内的度数为 $1$。对于对称差，在每个顶点上，要么 $M$ 和 $N$ 使用了相同的边（那么在 $M\\triangle N$ 中的度数为 $0$），要么两条不同的匹配边在此相交（一条来自 $M$，一条来自 $N$），使得在 $M\\triangle N$ 中的度数为 $2$。因此，$M\\triangle N$ 的每个连通分量都是 $2$-正则的，即一个环，并且边在 $M$ 和 $N$ 之间交替出现，所以每个环的长度都是偶数。对于一棵不含环的树 $T$，这就迫使 $M\\triangle N=\\varnothing$，因此 $M=N$。因此：\n- C 是错误的：一棵树不能有两个不同的完美匹配。\n- D 是正确的：如果一棵树有一个完美匹配，它是唯一的。\n\nE. 错误。路径 $P_{4}$ 有一个完美匹配（如上所述），但它的两个顶点的度数为 $2$（偶数），所以并非所有顶点的度数都必须为奇数。因此，“仅当”这个方向就不成立了。\n\n唯一恒为真的陈述是 D。", "answer": "$$\\boxed{D}$$", "id": "1520413"}]}