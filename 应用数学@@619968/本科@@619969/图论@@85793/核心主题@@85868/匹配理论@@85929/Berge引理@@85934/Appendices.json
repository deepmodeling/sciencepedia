{"hands_on_practices": [{"introduction": "为了应用 Berge 引理，我们迈出的第一步是能够准确地识别出增广路径。这个练习将巩固在二部图中寻找增广路径的核心定义，要求你检查三个关键属性：路径必须始于和终于未匹配的顶点，并且其边必须严格地在匹配内外之间交替。掌握这项基础技能，对于后续理解更复杂的应用和算法至关重要。[@problem_id:1483025]", "problem": "在图论中，用于寻找二分图最大匹配的算法（例如Hopcroft-Karp算法）的一个关键组成部分是搜索增广路径。相对于一个匹配 $M$ 而言，如果存在这样一条路径，则表明 $M$ 不是最大匹配。这一点由Berge's Lemma形式化地表述：一个匹配是最大匹配，当且仅当不存在增广路径。\n\n本题要求您在一个特定的二分图中应用与增广路径相关的定义。考虑一个二分图 $G = (X \\cup Y, E)$，其顶点划分为 $X$ 和 $Y$。该图中的每条边只连接一个 $X$ 中的顶点和一个 $Y$ 中的顶点。\n\n提供以下定义：\n- **匹配** $M$ 是边集 $E$ 的一个子集，其中任意两条边都没有公共顶点。\n- **$M$-未饱和顶点** 是指不属于匹配 $M$ 中任何一条边的端点的顶点。\n- **$M$-交错路径** 是一条简单路径（没有重复顶点），其边在 $M$ 之外和 $M$ 之内交替出现。\n- **$M$-增广路径** 是一条 $M$-交错路径，它始于 $X$ 中的一个 $M$-未饱和顶点，并终于 $Y$ 中的一个 $M$-未饱和顶点。\n- 路径由其顶点序列表示，例如 $(v_1, v_2, \\ldots, v_k)$。路径的**长度**是其边的数量，即 $k-1$。\n\n设二分图 $G$ 由顶点划分 $X = \\{x_1, x_2, x_3, x_4, x_5\\}$ 和 $Y = \\{y_1, y_2, y_3, y_4, y_5\\}$ 定义。边集为 $E = \\{ (x_1, y_2), (x_1, y_4), (x_2, y_1), (x_2, y_2), (x_3, y_3), (x_4, y_4), (x_4, y_5) \\}$。\n\n$G$ 中的一个匹配 $M$ 为 $M = \\{ (x_2, y_2), (x_4, y_4) \\}$。\n\n您的任务是在 $G$ 中找出所有长度大于1的、不同的 $M$-增广路径。选择正确列出所有这些路径的选项。\n\nA. 路径 $(x_1, y_2, x_2, y_1)$ 和 $(x_1, y_4, x_4, y_5)$。\n\nB. 仅路径 $(x_1, y_2, x_2, y_1)$。\n\nC. 路径 $(x_1, y_2, x_2, y_1)$、$(x_1, y_4, x_4, y_5)$ 和 $(x_3, y_3)$。\n\nD. 路径 $(y_1, x_2, y_2, x_1)$ 和 $(y_5, x_4, y_4, x_1)$。\n\nE. 路径 $(x_1, y_2, x_2)$ 和 $(x_1, y_4, x_4)$。", "solution": "给定一个二分图 $G=(X \\cup Y, E)$，其中 $X=\\{x_{1},x_{2},x_{3},x_{4},x_{5}\\}$，$Y=\\{y_{1},y_{2},y_{3},y_{4},y_{5}\\}$，并且\n$$\nE=\\{(x_{1},y_{2}), (x_{1},y_{4}), (x_{2},y_{1}), (x_{2},y_{2}), (x_{3},y_{3}), (x_{4},y_{4}), (x_{4},y_{5})\\}.\n$$\n匹配为\n$$\nM=\\{(x_{2},y_{2}), (x_{4},y_{4})\\}.\n$$\n根据定义，如果一个顶点不是 $M$ 中任何边的端点，则该顶点是 $M$-未饱和的。因此，$M$-饱和顶点是 $x_{2},x_{4},y_{2},y_{4}$，而 $M$-未饱和顶点在 $X$ 中是 $x_{1},x_{3},x_{5}$，在 $Y$ 中是 $y_{1},y_{3},y_{5}$。\n\n一条 $M$-增广路径是一条 $M$-交错的简单路径，它始于 $X$ 中的一个 $M$-未饱和顶点，终于 $Y$ 中的一个 $M$-未饱和顶点，并且其边在 $M$ 之外和 $M$ 之内交替出现。因此，这样的路径必须以一条不在 $M$ 中的边开始（因为它始于一个未饱和的 $x \\in X$），并以一条不在 $M$ 中的边结束（因为它终于一个未饱和的 $y \\in Y$）。题目要求所有长度大于1的此类路径。\n\n我们从每个 $M$-未饱和的 $x \\in X$ 开始枚举：\n\n1) 从 $x_{1}$ 开始。\n- 从 $x_{1}$ 出发，可用的边是 $(x_{1},y_{2})$ 和 $(x_{1},y_{4})$，它们都不在 $M$ 中。\n- 经由 $y_{2}$ 的路径：\n  第一条边 $(x_{1},y_{2})$ 不在 $M$ 中，所以下一条边必须在 $M$ 中。由于 $y_{2}$ 通过 $(x_{2},y_{2}) \\in M$ 与 $x_{2}$ 匹配，下一步是 $y_{2} \\to x_{2}$。从 $x_{2}$ 出发，下一条边必须不在 $M$ 中，唯一这样的边是 $(x_{2},y_{1})$。这样就得到了路径\n  $$\n  (x_{1}, y_{2}, x_{2}, y_{1}),\n  $$\n  该路径始于 $x_{1}$（未饱和），终于 $y_{1}$（未饱和），交替地为非匹配边、匹配边、非匹配边，且长度为 $3>1$。这是一条 $M$-增广路径。\n- 经由 $y_{4}$ 的路径：\n  第一条边 $(x_{1},y_{4})$ 不在 $M$ 中，所以下一条边必须在 $M$ 中。由于 $y_{4}$ 通过 $(x_{4},y_{4}) \\in M$ 与 $x_{4}$ 匹配，下一步是 $y_{4} \\to x_{4}$。从 $x_{4}$ 出发，下一条边必须不在 $M$ 中，唯一这样的边是 $(x_{4},y_{5})$。这样就得到了路径\n  $$\n  (x_{1}, y_{4}, x_{4}, y_{5}),\n  $$\n  该路径始于 $x_{1}$（未饱和），终于 $y_{5}$（未饱和），交替地为非匹配边、匹配边、非匹配边，且长度为 $3>1$。这是一条 $M$-增广路径。\n\n2) 从 $x_{3}$ 开始。\n- 与 $x_{3}$ 相关联的唯一一条边是 $(x_{3},y_{3})$，它不在 $M$ 中。这得到路径 $(x_{3},y_{3})$，长度为1。由于 $y_{3}$ 是未饱和的，没有匹配的边来继续交错，因此不存在从 $x_{3}$ 出发的更长的交错路径。因为题目要求长度大于1，所以 $(x_{3},y_{3})$ 被排除。\n\n3) 从 $x_{5}$ 开始。\n- 在 $E$ 中没有与 $x_{5}$ 相关联的边，所以不存在路径。\n\n因此，所有长度大于1的 $M$-增广路径的完整集合恰好是\n$$\n(x_{1}, y_{2}, x_{2}, y_{1}) \\quad \\text{and} \\quad (x_{1}, y_{4}, x_{4}, y_{5}).\n$$\n与选项比较，这与选项A且仅与选项A匹配。", "answer": "$$\\boxed{A}$$", "id": "1483025"}, {"introduction": "我们已经学会了如何识别增广路径，但理解其确切属性也同样关键。一个常见的混淆点是增广路径与图中常规最短路径之间的关系。这个练习通过一个巧妙的例子阐明，连接两个顶点的 $M$-增广路径不一定是它们之间在图中的最短路径，因为交替边的约束可能会迫使路径“绕远路”。这个思想实验有助于澄清一个微妙但重要的概念，防止常见的误解，并加深对匹配如何为增广目的而重构图连通性的理解。[@problem_id:1482977]", "problem": "考虑一个无向简单图 $G = (V, E)$，其顶点集为 $V = \\{v_1, v_2, v_3, v_4, v_5, v_6, v_7, v_8, v_9\\}$，边集为 $E = \\{\\{v_1, v_2\\}, \\{v_2, v_3\\}, \\{v_3, v_4\\}, \\{v_4, v_5\\}, \\{v_5, v_6\\}, \\{v_6, v_7\\}, \\{v_7, v_8\\}, \\{v_1, v_9\\}, \\{v_9, v_8\\}\\}$。\n\n图 $G$ 中的一个匹配 $M$ 是 $E$ 的一个子集，其中任意两条边都没有公共顶点。给定匹配 $M = \\{\\{v_2, v_3\\}, \\{v_4, v_5\\}, \\{v_6, v_7\\}\\}$。\n使用以下定义：\n- 如果一个顶点不是匹配 $M$ 中任何边的端点，则称该顶点是 $M$-暴露的。\n- 图 $G$ 中的路径是一系列不同的顶点序列；其长度是它所包含的边的数量。\n- 如果一条路径的边在不属于 $M$ 的边和属于 $M$ 的边之间交替出现，则该路径是 $M$-交错路径。\n\n设 $L_S$ 为图 $G$ 中顶点 $v_1$ 和 $v_8$ 之间最短路径的长度。\n设 $L_A$ 为顶点 $v_1$ 和 $v_8$ 之间最短 $M$-交错路径的长度。\n\n确定 $L_S$ 和 $L_A$ 的数值。您的答案应该是一对整数，按 $(L_S, L_A)$ 的顺序呈现。", "solution": "我们首先描述图的结构。边 $\\{v_1, v_2\\}, \\{v_2, v_3\\}, \\{v_3, v_4\\}, \\{v_4, v_5\\}, \\{v_5, v_6\\}, \\{v_6, v_7\\}, \\{v_7, v_8\\}$ 构成了一条从 $v_1$ 到 $v_8$ 的简单路径。此外，还有边 $\\{v_1, v_9\\}$ 和 $\\{v_9, v_8\\}$，通过 $v_9$ 提供了 $v_1$ 和 $v_8$ 之间一条长度为2的连接。给定的匹配是 $M=\\{\\{v_2, v_3\\},\\{v_4, v_5\\},\\{v_6, v_7\\}\\}$。\n\n为了确定 $L_S$，即 $v_1$ 和 $v_8$ 之间最短路径的长度，我们观察到图中不存在边 $\\{v_1, v_8\\}$，因此长度为 $1$ 的路径不存在。路径 $v_1-v_9-v_8$ 的长度为 $2$，因此 $L_S \\le 2$。沿着链 $v_1-v_2-v_3-v_4-v_5-v_6-v_7-v_8$ 的任何路径长度都为 $7$，比前者更长。因此，最短路径长度由 $v_1-v_9-v_8$ 实现，我们得出结论 $L_S=2$。\n\n为了确定 $L_A$，即 $v_1$ 和 $v_8$ 之间最短 $M$-交错路径的长度，我们回顾一下，$M$-交错路径的边必须在不属于 $M$ 的边和属于 $M$ 的边之间交替。与 $v_9$ 关联的边，即 $\\{v_1, v_9\\}$ 和 $\\{v_9, v_8\\}$，都不在 $M$ 中。如果一条路径内部使用了 $v_9$，它必然会连续遍历两条不在 $M$ 中的边，从而违反了交错性。此外，从 $v_1$ 开始，任何第一条边都不在 $M$ 中（无论是 $\\{v_1, v_2\\}$ 还是 $\\{v_1, v_9\\}$），而从 $v_9$ 出发没有在 $M$ 中的边，所以任何 $M$-交错路径都不能包含 $v_9$。因此，任何从 $v_1$ 到 $v_8$ 的 $M$-交错路径都必须完全位于链 $v_1,v_2,\\dots,v_8$ 上。\n\n沿着这条链，边是否属于 $M$ 的情况交替如下：$\\{v_1,v_2\\}\\notin M$, $\\{v_2,v_3\\}\\in M$, $\\{v_3,v_4\\}\\notin M$, $\\{v_4,v_5\\}\\in M$, $\\{v_5,v_6\\}\\notin M$, $\\{v_6,v_7\\}\\in M$, $\\{v_7,v_8\\}\\notin M$。\n因此，唯一的简单路径 $v_1-v_2-v_3-v_4-v_5-v_6-v_7-v_8$ 是 $M$-交错的，并且长度为 $7$。因为任何使用 $v_9$ 的路径都不可能是交错路径，并且在这条链上没有更短的连接 $v_1$ 和 $v_8$ 的简单路径，所以这就是最短的 $M$-交错路径。因此 $L_A=7$。\n\n结合这些结果，得到 $(L_S,L_A)=(2,7)$。", "answer": "$$\\boxed{\\begin{pmatrix} 2 & 7 \\end{pmatrix}}$$", "id": "1482977"}, {"introduction": "寻找增广路径本身不是最终目的，而是改进现有匹配的关键手段。这个练习将引导你体验匹配算法的核心迭代过程：为当前匹配 $M$ 找到一条增广路径 $P$，然后通过对称差运算 $M \\Delta E(P)$ 来构建一个更大的新匹配。这个过程完美地展示了 Berge 引理的构造性意义，即增广路径的存在直接导向一个更优的解，从而将理论概念与构建最大匹配的实用算法步骤联系起来。[@problem_id:1483030]", "problem": "在图论中，一个用于在图中寻找最大匹配的关键算法，涉及迭代地寻找并应用增广路径。让我们在一个特定的情境中追踪此过程。\n\n考虑一个完全图 $K_6$，其顶点集为 $V = \\{v_1, v_2, v_3, v_4, v_5, v_6\\}$。一个匹配 $M$ 是一个边集，其中任意两条边都不共享公共顶点。我们定义几个相关概念：\n- **$M$-交错路径**（$M$-alternating path）是图中的一条路径，其边在属于集合 $M$ 和不属于集合 $M$ 之间交替。\n- **$M$-增广路径**（$M$-augmenting path）是一个 $M$-交错路径，其两个端点都未被匹配 $M$ 所覆盖。\n- 给定一个匹配 $M$ 和一个 $M$-增广路径 $P$，可以通过取边集的对称差来创建一个新的、更大的匹配 $M'$：$M' = M \\Delta E(P)$，其中 $E(P)$ 是路径 $P$ 中的边集。对称差定义为 $A \\Delta B = (A \\setminus B) \\cup (B \\setminus A)$。\n\n你的任务是从初始匹配 $M_0 = \\{(v_1, v_2)\\}$ 开始，通过两次应用此过程，构建一个完美匹配（即覆盖所有顶点的匹配）。首先，你必须识别一条 $M_0$-增广路径 $P_1$，以创建一个新的匹配 $M_1 = M_0 \\Delta E(P_1)$。然后，你必须识别一条 $M_1$-增广路径 $P_2$，以创建最终的完美匹配 $M_2 = M_1 \\Delta E(P_2)$。\n\n一条路径用其顶点序列来表示，例如 $v_a-v_b-v_c$。以下哪对路径 $(P_1, P_2)$ 代表了这一两步增广过程的有效序列？\n\nA. $P_1 = v_3-v_1-v_2-v_4$, $P_2 = v_5-v_6$\n\nB. $P_1 = v_3-v_1-v_2-v_4$, $P_2 = v_1-v_3-v_5$\n\nC. $P_1 = v_3-v_4$, $P_2 = v_5-v_1-v_3-v_6$\n\nD. $P_1 = v_3-v_2-v_1-v_4$, $P_2 = v_5-v_1-v_2-v_6$", "solution": "我们在完全图 $K_6$ 中进行操作，其顶点集为 $V=\\{v_1,v_2,v_3,v_4,v_5,v_6\\}$，初始匹配为 $M_0=\\{(v_1,v_2)\\}$。一条 $M$-增广路径必须 (i) 是 $M$-交错的，即其边在 $E \\setminus M$ 和 $M$ 之间交替，并且 (ii) 其端点未被 $M$ 匹配。给定一条 $M$-增广路径 $P$，我们通过对称差 $M' = M \\Delta E(P)$ 来更新匹配。\n\n选项 A: $P_1=v_3-v_1-v_2-v_4$, $P_2=v_5-v_6$。\n首先，$P_1$ 包含边 $E(P_1)=\\{(v_3,v_1),(v_1,v_2),(v_2,v_4)\\}$，其序列为“不在 $M_0$ 中，在 $M_0$ 中，不在 $M_0$ 中”。它的端点 $v_3,v_4$ 未被 $M_0$ 匹配，所以 $P_1$ 是一条 $M_0$-增广路径。那么\n$$\nM_1=M_0 \\Delta E(P_1)=\\{(v_1,v_2)\\}\\Delta\\{(v_3,v_1),(v_1,v_2),(v_2,v_4)\\}=\\{(v_1,v_3),(v_2,v_4)\\}.\n$$\n在 $M_1$ 下，未匹配的顶点是 $v_5,v_6$。接下来，$P_2=v_5-v_6$ 包含边 $E(P_2)=\\{(v_5,v_6)\\}$，它显然是 $M_1$-交错的，并且其两个端点都未被 $M_1$ 匹配，因此它是一条 $M_1$-增广路径。因此\n$$\nM_2=M_1 \\Delta E(P_2)=\\{(v_1,v_3),(v_2,v_4)\\}\\Delta\\{(v_5,v_6)\\}=\\{(v_1,v_3),(v_2,v_4),(v_5,v_6)\\},\n$$\n这是一个完美匹配。\n\n选项 B：$P_1$ 与A中的相同且有效，得到 $M_1=\\{(v_1,v_3),(v_2,v_4)\\}$。但是 $P_2=v_1-v_3-v_5$ 的端点是 $v_1$ 和 $v_5$；这里 $v_1$ 在 $M_1$ 中是已匹配的顶点，所以 $P_2$ 不是 $M_1$-增广路径。因此B是无效的。\n\n选项 C：$P_1=v_3-v_4$ 包含边 $E(P_1)=\\{(v_3,v_4)\\}$，其端点 $v_3,v_4$ 未被 $M_0$ 匹配，因此它是一条 $M_0$-增广路径。那么\n$$\nM_1=M_0 \\Delta E(P_1)=\\{(v_1,v_2),(v_3,v_4)\\}.\n$$\n现在考虑 $P_2=v_5-v_1-v_3-v_6$，其边序列为 $(v_5,v_1)$、$(v_1,v_3)$、$(v_3,v_6)$，这些边都不在 $M_1$ 中（因为 $M_1$ 只包含 $(v_1,v_2)$ 和 $(v_3,v_4)$）。因此，这些边没有在 $E \\setminus M_1$ 和 $M_1$ 之间交替，所以 $P_2$ 不是 $M_1$-交错路径。因此C是无效的。\n\n选项 D：$P_1=v_3-v_2-v_1-v_4$ 包含边 $\\{(v_3,v_2),(v_2,v_1),(v_1,v_4)\\}$，其模式为“不在 $M_0$ 中，在 $M_0$ 中，不在 $M_0$ 中”，且端点 $v_3,v_4$ 未被 $M_0$ 匹配，因此它是一条 $M_0$-增广路径。那么\n$$\nM_1=M_0 \\Delta E(P_1)=\\{(v_2,v_3),(v_1,v_4)\\}.\n$$\n对于 $P_2=v_5-v_1-v_2-v_6$，其边序列为 $(v_5,v_1)$、$(v_1,v_2)$、$(v_2,v_6)$，这些边都不在 $M_1$ 中；因此它不是 $M_1$-交错的，也不是增广的。因此D是无效的。\n\n因此，唯一有效的路径对在选项 A 中。", "answer": "$$\\boxed{A}$$", "id": "1483030"}]}