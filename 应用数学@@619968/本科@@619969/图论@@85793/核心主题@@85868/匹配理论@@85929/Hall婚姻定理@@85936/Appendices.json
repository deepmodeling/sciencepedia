{"hands_on_practices": [{"introduction": "掌握霍尔婚姻定理的第一步是深刻理解其核心条件。这个练习提供了一个具体的二分图，旨在训练你直接应用该定理的“瓶颈”条件，即找到一个顶点子集 $S$，其邻集 $N(S)$ 的大小小于 $S$ 本身。通过这个基础练习，你可以学会如何精确地定位妨碍完美匹配存在的“短板”。[@problem_id:1511026]", "problem": "考虑一个二分图 $G = (U \\cup V, E)$，其中两个不相交的顶点集为 $U = \\{u_1, u_2, u_3, u_4, u_5\\}$ 和 $V = \\{v_1, v_2, v_3, v_4, v_5\\}$。连接 $U$ 中顶点到 $V$ 中顶点的边集 $E$ 由以下邻接表定义：\n- $N(u_1) = \\{v_1\\}$\n- $N(u_2) = \\{v_1, v_2\\}$\n- $N(u_3) = \\{v_2\\}$\n- $N(u_4) = \\{v_3, v_4\\}$\n- $N(u_5) = \\{v_5\\}$\n\n一个从 $U$ 到 $V$ 的完美匹配是 $E$ 中一个包含5条边的集合，使得其中任意两条边都不共享顶点，从而有效地将 $U$ 中的每个顶点与 $V$ 中一个唯一的顶点配对。对于此图，完美匹配是不可能的，因为存在一个顶点子集 $S \\subseteq U$，其邻域的大小 $|N(S)|$ 严格小于该子集自身的大小 $|S|$。你的任务是从以下选项中找出这样一个子集 $S$。\n\nA. $S = \\{u_1, u_5\\}$\n\nB. $S = \\{u_2, u_3, u_4\\}$\n\nC. $S = \\{u_1, u_2, u_3\\}$\n\nD. $S = \\{u_4, u_5\\}$\n\nE. $S = \\{u_1, u_3, u_5\\}$", "solution": "根据霍尔定理，从 $U$ 到 $V$ 存在完美匹配的一个充分必要条件是：对于任意子集 $S \\subseteq U$，其邻域都满足 $|N(S)| \\geq |S|$。因此，要证明完美匹配是不可能的，只需找到一个子集 $S$ 使得 $|N(S)| < |S|$。\n\n我们通过计算各选项的邻域来对其进行评估：\n- 对于 $S = \\{u_{1}, u_{5}\\}$，$N(S) = N(u_{1}) \\cup N(u_{5}) = \\{v_{1}\\} \\cup \\{v_{5}\\} = \\{v_{1}, v_{5}\\}$，所以 $|N(S)| = 2$ 且 $|S| = 2$，这不违反霍尔条件。\n- 对于 $S = \\{u_{2}, u_{3}, u_{4}\\}$，$N(S) = \\{v_{1}, v_{2}\\} \\cup \\{v_{2}\\} \\cup \\{v_{3}, v_{4}\\} = \\{v_{1}, v_{2}, v_{3}, v_{4}\\}$，所以 $|N(S)| = 4$ 且 $|S| = 3$，这不违反霍尔条件。\n- 对于 $S = \\{u_{1}, u_{2}, u_{3}\\}$，$N(S) = \\{v_{1}\\} \\cup \\{v_{1}, v_{2}\\} \\cup \\{v_{2}\\} = \\{v_{1}, v_{2}\\}$，所以 $|N(S)| = 2$ 且 $|S| = 3$，得出 $|N(S)| < |S|$，这违反了霍尔条件。\n- 对于 $S = \\{u_{4}, u_{5}\\}$，$N(S) = \\{v_{3}, v_{4}\\} \\cup \\{v_{5}\\} = \\{v_{3}, v_{4}, v_{5}\\}$，所以 $|N(S)| = 3$ 且 $|S| = 2$，这不违反霍尔条件。\n- 对于 $S = \\{u_{1}, u_{3}, u_{5}\\}$，$N(S) = \\{v_{1}\\} \\cup \\{v_{2}\\} \\cup \\{v_{5}\\} = \\{v_{1}, v_{2}, v_{5}\\}$，所以 $|N(S)| = 3$ 且 $|S| = 3$，这不违反霍尔条件。\n\n因此，证明霍尔条件不成立的子集是 $S = \\{u_{1}, u_{2}, u_{3}\\}$。", "answer": "$$\\boxed{C}$$", "id": "1511026"}, {"introduction": "学会了如何识别匹配失败的原因后，我们更进一步，探索如何确保匹配一定成功。这个问题将视角从具体图的检验转向抽象性质的评估，要求你判断哪些管理策略（即图的属性）足以保证完美匹配的存在。这个练习通过区分必要条件和充分条件，可以极大地锻炼你的逻辑思辨能力。[@problem_id:1511047]", "problem": "一家技术咨询公司有 $n$ 名初级顾问和 $n$ 个待启动的独立客户项目。设顾问集合为 $U = \\{u_1, \\dots, u_n\\}$，项目集合为 $V = \\{v_1, \\dots, v_n\\}$。如果顾问 $u_i$ 具备所需技能，则被认为“胜任”项目 $v_j$。公司的运营模式可以用一个二分图 $G=(U \\cup V, E)$ 来表示，其中当且仅当顾问 $u_i$ 胜任项目 $v_j$ 时，存在一条边 $(u_i, v_j)$。公司的当前目标是为每个项目指派一名独特的、胜任的顾问，确保每个项目都有人负责，且每位顾问都被分配了任务。这样的分配方案是可能的，当且仅当图 $G$ 包含一个完美匹配。\n\n公司遵循两条严格的基本人力资源政策：\n1. 初级顾问的数量始终与项目数量相等 ($|U|=|V|=n$)。\n2. 每位顾问必须至少胜任一个项目，并且每个项目必须至少有一名胜任的顾问。\n\n管理层担心仅凭这两条政策可能不足以保证总能实现完全分配。他们正在评估几项关于附加第三条政策的提议。在基本政策之外，增加下列哪项提议的政策，**仍然不足以**保证对于任何项目数 $n \\ge 2$ 的情况都存在完美分配？选择所有适用的选项。\n\nA. 对于任意 $k$ 个顾问组成的子集，其中 $1 \\le k \\le n$，他们共同胜任的独立项目总数至少为 $k$。\n\nB. 代表顾问资质和项目的图是连通的。\n\nC. 对于任意一对恰好共同胜任一个项目的顾问，该项目必须至少还有另一名顾问也胜任该项目。\n\nD. 每位顾问恰好胜任 $k$ 个项目，并且每个项目也恰好有 $k$ 名胜任的顾问，其中 $k$ 是某个固定的整数且 $k \\geq 1$。", "solution": "我们将问题解释为二分图问题。基本政策确保了 $|U|=|V|=n$ 且每个顶点的度至少为1。一个完美分配对应一个完美匹配。根据 Hall 定理，存在完美匹配的充要条件是，对于任意子集 $S \\subseteq U$，都有\n$$\n|N(S)| \\geq |S|,\n$$\n其中 $N(S)$ 是 $S$ 在 $V$ 中的邻居集合。\n\n我们逐一评估每项提议的政策：\n\nA. 该陈述表示：对于任意 $k$ 个顾问组成的子集，其中 $1 \\le k \\le n$，他们共同胜任的独立项目总数至少为 $k$。形式上，这正是 Hall 条件：\n$$\n\\forall S \\subseteq U:\\quad |N(S)| \\geq |S|.\n$$\n在 $|U|=|V|=n$ 的条件下，这保证了存在一个覆盖 $U$ 的匹配，即一个完美匹配。因此，A 是充分条件，不属于“不足以保证”的政策集合。\n\nB. 图是连通的。这并不能强制满足 Hall 条件。给出一个 $n \\ge 2$ 的反例，该反例满足基本政策和政策B，但没有完美匹配。取 $n=3$，其中\n$$\nU=\\{u_{1},u_{2},u_{3}\\},\\quad V=\\{v_{1},v_{2},v_{3}\\},\n$$\n边集为\n$$\n(u_{1},v_{1}),\\ (u_{2},v_{1}),\\ (u_{3},v_{1}),\\ (u_{3},v_{2}),\\ (u_{3},v_{3}).\n$$\n所有顶点的度都至少为1，且图是连通的。考虑 $S=\\{u_{1},u_{2}\\}$。那么\n$$\nN(S)=\\{v_{1}\\},\\quad |N(S)|=1  2=|S|,\n$$\n因此 Hall 条件不成立，不存在完美匹配。因此，B 不是充分条件。\n\nC. 对于任意一对恰好共同胜任一个项目的顾问，该项目必须至少还有另一名胜任的顾问。我们用与 B 中相同的反例进行测试：\n$$\nN(u_{1})=\\{v_{1}\\},\\quad N(u_{2})=\\{v_{1}\\},\\quad N(u_{3})=\\{v_{1},v_{2},v_{3}\\}.\n$$\n对于每一对顾问：\n- $N(u_{1}) \\cap N(u_{2})=\\{v_{1}\\}$ 是一个单元素集，且项目 $v_{1}$ 还有另一名顾问 $u_{3}$ 也胜任。\n- $N(u_{1}) \\cap N(u_{3})=\\{v_{1}\\}$ 是一个单元素集，且项目 $v_{1}$ 还有另一名顾问 $u_{2}$ 也胜任。\n- $N(u_{2}) \\cap N(u_{3})=\\{v_{1}\\}$ 是一个单元素集，且项目 $v_{1}$ 还有另一名顾问 $u_{1}$ 也胜任。\n因此政策 C 成立。然而如前所示，Hall 条件不成立，所以不存在完美匹配。因此，C 不是充分条件。\n\nD. 每位顾问恰好胜任 $k$ 个项目，并且每个项目也恰好有 $k$ 名胜任的顾问，其中 $k$ 是某个固定的整数且 $k \\geq 1$。也就是说，该图是一个 $k \\geq 1$ 的 $k$-正则二分图。我们证明这能推导出 Hall 条件。对于任意 $S \\subseteq U$，我们计算 $S$ 和 $N(S)$ 之间的边数。从 $U$ 侧看，从 $S$ 发出到 $V$ 的边恰好有 $k|S|$ 条。所有这些边都终止于 $N(S)$，所以 $S$ 和 $N(S)$ 之间的边数是 $k|S|$。从 $V$ 侧看，$N(S)$ 中的每个顶点度为 $k$，所以从 $N(S)$ 发出到 $U$ 的边数最多为 $k|N(S)|$。因此，\n$$\nk|S| \\le k|N(S)| \\quad \\Rightarrow \\quad |S| \\le |N(S)|,\n$$\n所以 Hall 条件对所有 $S \\subseteq U$ 都成立，从而保证了完美匹配的存在。因此，D 是充分条件。\n\n结论：不足以保证的政策是 B 和 C。", "answer": "$$\\boxed{BC}$$", "id": "1511047"}, {"introduction": "证明完美匹配的存在往往只是第一步；在许多实际应用中，我们更关心是否存在多种方案以及方案之间的转换。这个问题带你探索存在完美匹配的图的内部结构，让你认识到解决方案通常不止一个。通过寻找备选的分配方案，你将直观地体会到“M-交错环”这一核心概念，它是理解和构建匹配算法的关键。[@problem_id:1511050]", "problem": "在科技公司 CodeWeavers，有五名开发人员需要被分配到五个专门的项目角色。这个分配问题被建模为一个二分图 $G=(U \\cup V, E)$，其中开发人员集合为 $U = \\{D_1, D_2, D_3, D_4, D_5\\}$，角色集合为 $V = \\{R_1, R_2, R_3, R_4, R_5\\}$。如果开发人员 $D_i$ 有资格担任角色 $R_j$，则边集 $E$ 中存在一条边 $(D_i, R_j)$。\n\n完整的资格列表如下：\n- $D_1$ 有资格担任 $R_1$ 和 $R_2$。\n- $D_2$ 有资格担任 $R_1$ 和 $R_3$。\n- $D_3$ 有资格担任 $R_2$、 $R_3$ 和 $R_4$。\n- $D_4$ 有资格担任 $R_4$ 和 $R_5$。\n- $D_5$ 有资格担任 $R_2$ 和 $R_5$。\n\n最初，项目经理已经决定了一个完美匹配 $M$，它是一个包含五个分配的集合，其中每个开发人员被分配到一个唯一的角色，每个角色也由一个唯一的开发人员担任。这个初始分配是：\n$M = \\{(D_1, R_1), (D_2, R_3), (D_3, R_2), (D_4, R_4), (D_5, R_5)\\}$.\n\n一位经理希望探索其他可行的团队构成。如果一种替代构成可以通过包含一个未在初始分配 $M$ 中的新配对（一个开发人员-角色的资格），并根据需要重新分配其他开发人员和角色，从而形成一个新的、完整的分配集合（一个新的完美匹配），那么这种替代构成被认为是可行的。\n\n有多少个当前未被分配的配对，可以单独作为基础来形成一个可行的替代团队构成？", "solution": "我们有一个二分图，其中开发人员为 $U=\\{D_{1},D_{2},D_{3},D_{4},D_{5}\\}$，角色为 $V=\\{R_{1},R_{2},R_{3},R_{4},R_{5}\\}$。边集 $E$（资格）由以下给出：\n$D_{1}:\\{R_{1},R_{2}\\}$, $D_{2}:\\{R_{1},R_{3}\\}$, $D_{3}:\\{R_{2},R_{3},R_{4}\\}$, $D_{4}:\\{R_{4},R_{5}\\}$, $D_{5}:\\{R_{2},R_{5}\\}$.\n初始的完美匹配是 $M=\\{(D_{1},R_{1}),(D_{2},R_{3}),(D_{3},R_{2}),(D_{4},R_{4}),(D_{5},R_{5})\\}$。\n\n我们必须计算可被包含在某个完美匹配 $M'$ 中的边 $e\\in E\\setminus M$ 的数量。一个标准的匹配原理指出：给定一个完美匹配 $M$，一条不属于 $M$ 的边 $e\\notin M$ 属于某个完美匹配，当且仅当它位于一个 $M$-交错偶环上；等价地，可以通过沿着这样的环进行重新分配来显式地构造一个完美匹配。鉴于这是一个小规模的实例，我们通过对每个 $e\\in E\\setminus M$ 进行显式构造来验证其可行性。\n\n不在 $M$ 中的边是：\n$(D_{1},R_{2})$、$(D_{2},R_{1})$、$(D_{3},R_{3})$、$(D_{3},R_{4})$、$(D_{4},R_{5})$、$(D_{5},R_{2})$。\n\n对于每一条边，我们展示一个包含它的完美匹配：\n1) 包含 $(D_{1},R_{2})$。取\n$$\\{(D_{1},R_{2}),(D_{2},R_{1}),(D_{3},R_{3}),(D_{4},R_{4}),(D_{5},R_{5})\\}.$$\n2) 包含 $(D_{2},R_{1})$。取\n$$\\{(D_{2},R_{1}),(D_{1},R_{2}),(D_{3},R_{3}),(D_{4},R_{4}),(D_{5},R_{5})\\}.$$\n3) 包含 $(D_{3},R_{3})$。取\n$$\\{(D_{3},R_{3}),(D_{2},R_{1}),(D_{1},R_{2}),(D_{4},R_{4}),(D_{5},R_{5})\\}.$$\n4) 包含 $(D_{3},R_{4})$。取\n$$\\{(D_{3},R_{4}),(D_{4},R_{5}),(D_{5},R_{2}),(D_{1},R_{1}),(D_{2},R_{3})\\}.$$\n5) 包含 $(D_{4},R_{5})$。取\n$$\\{(D_{4},R_{5}),(D_{5},R_{2}),(D_{3},R_{4}),(D_{1},R_{1}),(D_{2},R_{3})\\}.$$\n6) 包含 $(D_{5},R_{2})$。取\n$$\\{(D_{5},R_{2}),(D_{3},R_{4}),(D_{4},R_{5}),(D_{1},R_{1}),(D_{2},R_{3})\\}.$$\n\n每个集合都是一个完全在资格边内的有效完美匹配，并且包含了指定的边。因此，每个未分配的配对都可以作为形成一个可行的替代构成的基础，总数为 $6$。", "answer": "$$\\boxed{6}$$", "id": "1511050"}]}