{"hands_on_practices": [{"introduction": "尽管寻找哈密顿环路是一个公认的难题，但图的某些结构特性可以为我们提供捷径。Ore 定理便是这样一种强大的工具，它基于图中非邻接顶点的度数之和，为我们提供了一个充分条件。通过这个练习，你将学会如何将这个经典的图论定理应用于一个具体的网络图，从而将抽象的理论转化为一个实用的问题解决工具。[@problem_id:1524672]", "problem": "在网络科学领域，分析路由路径是一项基本任务。一个特别有趣的问题是确定一个网络是否存在一条访问每个节点恰好一次后返回起点的回路，这种结构在图论中被称为哈密顿圈。寻找这样一种圈的一般性问题是NP完全的，这意味着目前没有已知的算法可以对所有可能的网络高效地解决该问题。\n\n然而，对于某些特定类型的图，一些数学定理提供了保证哈密顿圈存在的充分条件，使我们能够绕过计算成本高昂的搜索过程。其中最著名的结果之一是Ore定理。\n\n**Ore定理**：设 $G$ 是一个有 $n \\ge 3$ 个顶点的简单图。如果对于每一对不相邻的不同顶点 $u$ 和 $v$，它们的度数之和满足不等式 $\\deg(u) + \\deg(v) \\ge n$，那么 $G$ 包含一个哈密顿圈。\n\n需要注意的是，这是一个充分条件，但不是必要条件。如果一个图不满足该条件，Ore定理则无法得出结论，该图可能存在也可能不存在哈密顿圈。\n\n考虑一个简单图 $G=(V, E)$，它代表一个由 $n=7$ 台服务器组成的计算机网络，顶点集合为 $V = \\{S_1, S_2, S_3, S_4, S_5, S_6, S_7\\}$。服务器之间的直接连接（边）由其邻接表指定：\n- $S_1$ 连接到: $S_2, S_3, S_4$\n- $S_2$ 连接到: $S_1, S_3, S_6$\n- $S_3$ 连接到: $S_1, S_2, S_4, S_5$\n- $S_4$ 连接到: $S_1, S_3, S_7$\n- $S_5$ 连接到: $S_3, S_6, S_7$\n- $S_6$ 连接到: $S_2, S_5, S_7$\n- $S_7$ 连接到: $S_4, S_5, S_6$\n\n将Ore定理应用于这个特定的网络图 $G$，以下哪个陈述是正确的结论？\n\nA. Ore定理保证存在哈密顿圈，因为对于所有不相邻的顶点对，条件 $\\deg(u) + \\deg(v) \\ge n$ 都成立。\n\nB. Ore定理无法得出结论，因为对于不相邻的顶点对 $\\{S_3, S_6\\}$，条件不成立。\n\nC. Ore定理无法得出结论，因为对于不相邻的顶点对 $\\{S_2, S_4\\}$，条件不成立。\n\nD. Ore定理无法得出结论，因为对于不相邻的顶点对 $\\{S_1, S_3\\}$，条件不成立。\n\nE. Ore定理保证图中不存在哈密顿圈，因为它的条件对于至少一对不相邻的顶点不成立。", "solution": "根据Ore定理，对于一个有 $n$ 个顶点的简单图，如果对于每一对不相邻的不同顶点 $u,v$，都有 $\\deg(u)+\\deg(v) \\ge n$，那么该图是哈密顿图。这里 $n=7$，因此需要为所有不相邻的顶点对检查条件 $\\deg(u)+\\deg(v) \\ge 7$。\n\n根据邻接表计算度数：\n- $\\deg(S_1)=3$ (邻接点 $S_2, S_3, S_4$)。\n- $\\deg(S_2)=3$ (邻接点 $S_1, S_3, S_6$)。\n- $\\deg(S_3)=4$ (邻接点 $S_1, S_2, S_4, S_5$)。\n- $\\deg(S_4)=3$ (邻接点 $S_1, S_3, S_7$)。\n- $\\deg(S_5)=3$ (邻接点 $S_3, S_6, S_7$)。\n- $\\deg(S_6)=3$ (邻接点 $S_2, S_5, S_7$)。\n- $\\deg(S_7)=3$ (邻接点 $S_4, S_5, S_6$)。\n\n评估选项中特定的顶点对：\n- 对于选项D，顶点对 $\\{S_1,S_3\\}$ 是相邻的（它们的邻接表中都包含对方），因此Ore定理的条件不适用于它们；声称它们不相邻的陈述是错误的。\n- 对于选项B，顶点对 $\\{S_3,S_6\\}$ 是不相邻的。它们的度数和为 $\\deg(S_3)+\\deg(S_6)=4+3=7$，这满足条件 $\\deg(u)+\\deg(v) \\ge 7$。因此，这对顶点不会导致条件不成立，所以选项B是错误的。\n- 对于选项C，顶点对 $\\{S_2,S_4\\}$ 是不相邻的。它们的度数和为 $\\deg(S_2)+\\deg(S_4)=3+3=6$，由于 $67$，Ore定理的条件对这对顶点不成立：\n$$\\deg(S_2)+\\deg(S_4)=67=n$$\n因此，Ore定理不保证该图中存在哈密顿圈。该定理无法得出结论。\n\n因此，选项A是错误的，因为条件并非对所有不相邻顶点对都成立；选项E是错误的，因为充分条件的不满足并不排除哈密顿圈存在的可能性。\n\n因此，正确的结论是，由于不相邻的顶点对 $\\{S_2,S_4\\}$ 不满足度数和条件，Ore定理无法得出结论。", "answer": "$$\\boxed{C}$$", "id": "1524672"}, {"introduction": "有时，证明一个解*不存在*与找到一个解同样重要。一个图具有哈密顿环路的一个必要条件是它必须足够“坚韧”，即连通性良好。这个练习将引导你学习一种证明非哈密顿性的有效技巧：通过识别图中的结构弱点，即找到一个顶点割集 $S$，其移除后产生的连通分量数量 $c(G-S)$ 大于 $|S|$，从而确定性地证明哈密顿环路不存在。[@problem_id:1524667]", "problem": "分析网络结构的一个关键属性是其应对节点故障的稳健性。该属性旨在确定是否存在一个节点集，移除该集合后，网络会分裂成数量远超该集合大小的多个不连通部分。\n\n考虑一个无向图 $G=(V,E)$，其顶点集为 $V = \\{a_1, a_2, a_3, b_1, b_2, b_3, c_1, c_2, c_3, s_1, s_2\\}$，边集 $E$ 由以下边构成：\n- 形成三个不同三角形的边： $(a_1, a_2), (a_2, a_3), (a_3, a_1)$；以及 $(b_1, b_2), (b_2, b_3), (b_3, b_1)$；以及 $(c_1, c_2), (c_2, c_3), (c_3, c_1)$。\n- 连接顶点 $s_1$ 与这三个三角形各一顶点的边： $(s_1, a_1), (s_1, b_1), (s_1, c_1)$。\n- 连接顶点 $s_2$ 与这三个三角形各一顶点的边： $(s_2, a_2), (s_2, b_2), (s_2, c_2)$。\n\n以下哪个顶点子集 $S \\subset V$ 具有这样的性质：图 $G-S$ 的连通分量数严格大于 $S$ 中的顶点数？图 $G-S$ 是通过移除 $S$ 中的顶点以及所有与这些顶点相关联的边而形成的。\n\nA. $S = \\{s_1, s_2\\}$\n\nB. $S = \\{a_1, b_1, c_1\\}$\n\nC. $S = \\{a_3, b_3, c_3\\}$\n\nD. $S = \\{a_1, a_2\\}$\n\nE. $S = \\{s_1, a_1\\}$", "solution": "我们分析每个候选子集 $S$，方法是移除其顶点和关联的边，然后计算 $G-S$ 中的连通分量数（记为 $c(G-S)$），并将其与 $|S|$ 进行比较。要求的性质是 $c(G-S) > |S|$。\n\n选项 A：$S=\\{s_1,s_2\\}$。移除 $s_1$ 和 $s_2$ 后，恰好剩下三个互不相交的三角形，顶点分别为 $\\{a_1,a_2,a_3\\}$、$\\{b_1,b_2,b_3\\}$ 和 $\\{c_1,c_2,c_3\\}$。因此，\n$$\nc(G-S)=3, \\quad |S|=2, \\quad \\text{所以 } 3>2.\n$$\n所以 A 满足该性质。\n\n选项 B：$S=\\{a_1,b_1,c_1\\}$。移除这些顶点会使每个三角形都减少一个顶点：在每个三角形中，剩下的两个顶点都通过它们之间的边相连。顶点 $s_2$ 连接到 $a_2,b_2,c_2$，并且在每对 $\\{x_2,x_3\\}$ ($x \\in \\{a,b,c\\}$) 中都有一条边，因此 $s_2, a_2,a_3,b_2,b_3,c_2,c_3$ 都在同一个连通分量中。顶点 $s_1$ 留了下来但被孤立（因为它的邻居都被移除了）。因此，\n$$\nc(G-S)=2, \\quad |S|=3, \\quad \\text{所以 } 2 \\not> 3.\n$$\n所以 B 不满足该性质。\n\n选项 C：$S=\\{a_3,b_3,c_3\\}$。每个三角形都简化为其1号和2号节点之间的边。顶点 $s_1$ 和 $s_2$ 仍然存在，并分别连接到1号和2号节点，从而形成一个包含所有剩余顶点的单一连通分量。因此，\n$$\nc(G-S)=1, \\quad |S|=3, \\quad \\text{所以 } 1 \\not> 3.\n$$\n所以 C 不满足该性质。\n\n选项 D：$S=\\{a_1,a_2\\}$。在三角形 A 中，只有 $a_3$ 留下并成为一个孤立点。三角形 B 和 C 保持完整， $s_1$ 连接到 $b_1,c_1$，而 $s_2$ 连接到 $b_2,c_2$；它们共同形成一个连通分量。因此，\n$$\nc(G-S)=2, \\quad |S|=2, \\quad \\text{所以 } 2 \\not> 2.\n$$\n所以 D 不满足该性质。\n\n选项 E：$S=\\{s_1,a_1\\}$。三角形 A 简化为边 $a_2a_3$，而 $s_2$ 连接到 $a_2,b_2,c_2$；由于完整的三角形 B 和 C 仍然存在，所有剩余的顶点都通过 $s_2$ 连接起来。因此，\n$$\nc(G-S)=1, \\quad |S|=2, \\quad \\text{所以 } 1 \\not> 2.\n$$\n所以 E 不满足该性质。\n\n只有选项 A 满足 $c(G-S) > |S|$。", "answer": "$$\\boxed{A}$$", "id": "1524667"}, {"introduction": "NP完全性的定义通常与“判定问题”（回答“是”或“否”）紧密相连，但这对于我们需要找到具体解的“搜索问题”又意味着什么呢？这个思想实验揭示了计算复杂性理论中的一个核心概念：NP问题的自可约性。它展示了如何利用一个假设的、能高效*判定*解是否存在的“黑箱”算法，来一步步地*构造*出那个解，从而揭示了判定问题与搜索问题之间的深刻联系。[@problem_id:1524648]", "problem": "一个生物信息学研究团队正在研究一种新的基因组组装方法。该过程涉及从大量较短的DNA片段中重建完整的脱氧核糖核酸（DNA）序列。这个重建问题可以用一个有向图 $G = (N, A)$ 来建模，其中节点集 $N$ 代表DNA片段，有向弧集 $A$ 代表片段对之间潜在的重叠（从片段 $u$ 到片段 $v$ 的一条弧意味着 $v$ 可以跟在 $u$ 之后）。成功组装整个基因组对应于在该图中找到一条哈密顿路径，即一条恰好访问每个节点一次的路径。\n\n该团队可以使用一个功能强大但成本高昂的专有软件库。该库提供了一个单一的“黑箱”函数 `hasHamiltonianPath(G')`，它接受一个有向图 `G'` 作为输入。如果 `G'` 包含至少一条哈密顿路径，则该函数返回 `True`，否则返回 `False`。该函数不提供关于路径本身的任何信息，仅提供其存在性。\n\n你的任务是设计一个过程，利用这个 `hasHamiltonianPath` 函数来确定构成一条完整的哈密顿路径的确切弧序列。你的过程必须对任何给定的、保证包含至少一条哈密顿路径的有向图 $G=(N,A)$ 有效。该软件的许可协议按函数调用次数计费，因此你的主要目标是确定所需调用次数的上界。\n\n对于一个有 $|N|=V$ 个顶点和 $|A|=E$ 条弧的图，你的过程需要调用 `hasHamiltonianPath` 函数多少次（最大次数）才能构建出一条完整的哈密顿路径？请用 $V$ 和 $E$ 的封闭形式解析表达式表示你的答案。", "solution": "给定一个有向图 $G=(N,A)$，它有 $|N|=V$ 个顶点和 $|A|=E$ 条弧，并保证包含至少一条哈密顿路径（HP）。我们还可以使用一个预言机函数 $\\mathrm{hasHamiltonianPath}(\\cdot)$ 来判断HP的存在性。目标是在最小化预言机调用次数的同时，恢复一条哈密顿路径的确切弧集，并确定所需调用次数的最大值界限。\n\n定义以下自归约过程。固定弧集 $A=\\{e_1,e_2,\\dots,e_E\\}$ 的一个任意排序。初始化 $H_0=G$。对于 $i=1,2,\\dots,E$，执行以下操作：\n- 如果 $e_i \\notin A(H_{i-1})$，则令 $H_i=H_{i-1}$，不进行预言机调用。\n- 如果 $e_i \\in A(H_{i-1})$，则对 $H_{i-1}\\setminus\\{e_i\\}$ 查询预言机。如果 $\\mathrm{hasHamiltonianPath}(H_{i-1}\\setminus\\{e_i\\})=\\mathrm{True}$，则令 $H_i=H_{i-1}\\setminus\\{e_i\\}$（永久删除 $e_i$）。否则，令 $H_i=H_{i-1}$（保留 $e_i$）。\n\n完成所有 $E$ 次迭代后，通过列出其弧来输出剩余的图 $H_E$；这就是恢复出的哈密顿路径。\n\n我们证明该过程的正确性并确定预言机调用次数的界限。\n\n不变量（哈密顿性的保持）：对于每一个 $i$，图 $H_i$ 都至少包含一条哈密顿路径。这可以通过归纳法证明：根据假设，对于 $H_0=G$ 它是成立的。在每一步中，如果我们删除 $e_i$，这个删除操作仅在 $\\mathrm{hasHamiltonianPath}(H_{i-1}\\setminus\\{e_i\\})=\\mathrm{True}$ 时发生，因此 $H_i$ 仍然有哈密顿路径；否则我们不删除 $e_i$，这显然会保持任何已存在的HP。\n\n终止时的最小性：令 $H^\\star=H_E$。根据构造，对于 $H^\\star$ 中的每一条弧 $f\\in A(H^\\star)$，我们必然有 $\\mathrm{hasHamiltonianPath}(H^\\star\\setminus\\{f\\})=\\mathrm{False}$；否则该弧在被考虑时就应该已被删除。因此，在所有仍然存在哈密顿路径的子图中，$H^\\star$ 对于删弧操作是最小的。\n\n包含HP的最小子图的结构：我们断言 $H^\\star$ 恰好由一条哈密顿路径的弧组成，因此 $|A(H^\\star)|=V-1$，并且那条唯一路径的弧正是输出结果。\n\n证明：首先，$H^\\star$ 不可能包含两条不同的哈密顿路径。如果包含，那么会存在一条弧 $a$，它被其中一条路径使用，但未被另一条路径使用。这样，$H^\\star\\setminus\\{a\\}$ 仍然会包含一条哈密顿路径（即不使用 $a$ 的那条），这与最小性相矛盾。因此，$H^\\star$ 拥有一条唯一的HP，记为 $P$。其次，$H^\\star$ 不可能包含任何不属于 $P$ 的弧，因为删除这样的弧会使 $P$ 保持完好，从而保留了一条HP，这再次与最小性相矛盾。因此，$H^\\star$ 的每条弧都在 $P$ 上，这意味着 $A(H^\\star)$ 正是 $P$ 的 $V-1$ 条弧。\n\n预言机调用次数：对于每个 $e_i \\in A(H_{i-1})$，我们至多调用一次预言机。由于我们按固定顺序处理原始的 $E$ 条弧中的每一条，并且从不重新测试任何弧，所以预言机调用的次数最多为 $E$。我们不需要对 $G$ 进行初始调用，因为问题保证了 $G$ 是哈密顿图；所有的中间调用都恰好是用来决定是否删除弧的。因此，此过程构建一条完整的哈密顿路径所需的最大调用次数为 $E$。\n\n因此，用 $V$ 和 $E$ 表示的一个明确的封闭形式上界是 $E$。", "answer": "$$\\boxed{E}$$", "id": "1524648"}]}