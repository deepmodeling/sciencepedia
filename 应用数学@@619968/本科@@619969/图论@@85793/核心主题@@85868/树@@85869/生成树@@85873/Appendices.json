{"hands_on_practices": [{"introduction": "要真正理解如何找到最小生成树（MST），没有什么比一步步应用算法更好的方法了。第一个练习将使用 Kruskal 算法，这是一种基本的贪心方法，在一个带权图上进行操作。通过对边进行排序并按权重递增的顺序添加它们，同时避免形成环路，你将亲身体验构建 MST 的最基本方法之一。", "problem": "考虑一个无向加权图 $G$，其顶点集为 $V = \\{A, B, C, D, E, F\\}$。该图的边及其对应的整数权重如下：\n(A, D)，权重为 11\n(A, E)，权重为 14\n(B, C)，权重为 10\n(B, F)，权重为 16\n(C, D)，权重为 5\n(C, F)，权重为 3\n(D, E)，权重为 4\n(D, F)，权重为 8\n(E, F)，权重为 7\n\n使用 Kruskal 算法来寻找该图的一个最小生成树 (MST)。该算法从一个按权重递增顺序排列的所有边的列表中迭代地选择边，当且仅当新加入的边不会与已选择的边形成环时，才将其加入最小生成树。\n\n计算 Kruskal 算法选出的前三条边的权重之和。", "solution": "Kruskal 算法按权重的递增顺序选择边，当且仅当一条边不会与先前已选择的边形成环时，才将其加入。\n\n将所有边按权重升序排列：$(C,F)$ 权重为 $3$，$(D,E)$ 权重为 $4$，$(C,D)$ 权重为 $5$，$(E,F)$ 权重为 $7$，$(D,F)$ 权重为 $8$，$(B,C)$ 权重为 $10$，$(A,D)$ 权重为 $11$，$(A,E)$ 权重为 $14$，$(B,F)$ 权重为 $16$。\n\n初始化生成森林 $T=\\emptyset$。\n\n步骤 1：考虑边 $(C,F)$，权重为 $3$。由于 $T$ 为空，添加 $(C,F)$ 不会形成环。添加 $(C,F)$；形成的连通分量为 $\\{C,F\\}$。\n\n步骤 2：考虑边 $(D,E)$，权重为 $4$。它的两个端点位于不同的连通分量 $\\{D\\}$ 和 $\\{E\\}$ 中。添加 $(D,E)$；形成的连通分量为 $\\{D,E\\}$。\n\n步骤 3：考虑边 $(C,D)$，权重为 $5$。它的两个端点位于不同的连通分量 $\\{C,F\\}$ 和 $\\{D,E\\}$ 中。添加 $(C,D)$；合并后的连通分量为 $\\{C,D,E,F\\}$。\n\n因此，选出的前三条边是 $(C,F)$、$(D,E)$ 和 $(C,D)$，其权重分别为 $3$、$4$ 和 $5$，它们的权重之和为\n$$3+4+5=12.$$", "answer": "$$\\boxed{12}$$", "id": "1534191"}, {"introduction": "在学习了构建 MST 的具体步骤之后，让我们来探究其背后的基本原理。这个练习提出了一个关键的理论问题：网络中权重最大的那条边，有没有可能成为最经济的解决方案的一部分？通过分析这个情景，你将揭示强大的“环路性质”，并理解“桥”在图连通性中的关键作用，从而为 Kruskal 和 Prim 等算法的正确性提供更深刻的论证。", "problem": "考虑一个连通无向图 $G=(V, E)$，其带有一个权重函数 $w: E \\to \\mathbb{R}^{+}$，该函数为每条边赋予一个正权重。假设存在一条唯一的边 $e_{max} \\in E$，其权重严格大于图中任何其他边的权重。一个网络设计者想要为这个图找到一个最小生成树（MST），该图代表一个以最小总连接成本连接一组节点的通信网络。\n\n在下列哪个条件下，可以保证这条唯一的、权重最大的边 $e_{max}$ 属于图 $G$ 的*每一个*可能的最小生成树？\n\nA. 边 $e_{max}$ 绝不会被包含在 $G$ 的任何最小生成树中。\n\nB. 边 $e_{max}$ 总是被包含在 $G$ 的任何最小生成树中，无论图的结构如何。\n\nC. 边 $e_{max}$ 被包含在 $G$ 的一个最小生成树中，当且仅当移除它会使图 $G$ 不连通。\n\nD. 边 $e_{max}$ 被包含在 $G$ 的一个最小生成树中，当且仅当其端点至少是两个不同环的一部分。\n\nE. 边 $e_{max}$ 被包含在 $G$ 的一个最小生成树中，当且仅当边的总数 $|E|$ 等于 $|V|-1$。", "solution": "设 $G=(V,E)$ 是一个具有严格正权重 $w:E\\to \\mathbb{R}^{+}$ 的连通无向图，并设 $e_{max}\\in E$ 是权重严格最大的唯一边。我们使用最小生成树的两个基本性质：\n\n1. 环性质：如果一条边 $e$ 是图 $G$ 中某个环上权重唯一的最大边，则任何最小生成树都不包含 $e$。理由是，从该环中移除 $e$ 并用环上任何其他边替换它，会在保持连通性的同时严格减少总权重。\n\n2. 切割性质：对于 $G$ 的任何一个割 $(S,V\\setminus S)$，如果跨越该割的一条边 $e$ 是所有跨越该割的边中权重唯一的最小边，则每个最小生成树都包含 $e$。\n\n我们来分析 $e_{max}$ 必须在每个最小生成树中的情况。\n\n首先，假设 $e_{max}$ 位于一个环 $C$ 上。由于 $w(e_{max})$ 严格大于 $E$ 中每条其他边的权重，因此它也特别地严格大于 $C$ 上所有其他边的权重。因此，$e_{max}$ 是 $C$ 上权重唯一的最大边。根据环性质，任何最小生成树都不能包含 $e_{max}$。因此，$e_{max}$ 要被包含在任何一个最小生成树中（更不用说每个最小生成树了）的必要条件是 $e_{max}$ 不属于任何环。不位于任何环上的边是桥，即移除它会使图不连通。\n\n反之，假设 $e_{max}$ 是一座桥。那么移除 $e_{max}$ 会使 $G$ 不连通。$G$ 的任何生成树都必须连接因移除 $e_{max}$ 而产生的两个连通分量，而唯一能做到这一点的边就是 $e_{max}$ 本身。因此，每个生成树，特别是每个最小生成树，都必须包含 $e_{max}$。因此，$e_{max}$ 在每个最小生成树中，当且仅当移除它会使 $G$ 不连通。\n\n这证实了选项 C 中的等价关系。\n\n为了排除其他选项：\n\n- A 是错误的，因为如果 $e_{max}$ 是一个桥，它就在每个最小生成树中。\n- B 是错误的，因为如果 $e_{max}$ 位于任何环上，根据环性质，它不在任何最小生成树中。\n- D 是错误的，因为通过其端点的环的存在是无关紧要的；重要的是该边本身是否位于一个环上。即使一条边的两个端点各自位于图的其他地方的环上，这条边也可以是桥；在这种情况下，该边仍然在每个最小生成树中。\n- E 作为一个当且仅当的陈述是错误的。如果 $|E|=|V|-1$，那么 $G$ 是一棵树，每一条边，包括 $e_{max}$，都在唯一的生成树中，所以该条件是充分的。然而，它不是必要的：我们可以有一个 $|E|>|V|-1$ 的情况，其中 $e_{max}$ 是一个桥，此时 $e_{max}$ 仍然在每个最小生成树中。\n\n因此，权重唯一的最大边在每个最小生成树中，当且仅当移除它会使 $G$ 不连通。", "answer": "$$\\boxed{C}$$", "id": "1401696"}, {"introduction": "现实世界的问题很少是静止不变的。这个练习将我们从初始的网络设计带入到维护和优化的场景，这反映了一个常见而实际的挑战。当一个潜在连接的成本下降时，我们是否必须从头开始重新计算整个网络？这个问题展示了如何利用环路性质来高效地更新一个现有的 MST，体现了在动态网络管理中的一项关键技能。", "problem": "一个由研究设施 A、B、C、D、E、F 和 G 组成的联盟计划通过专用光纤网络相互连接。该网络的设计必须以尽可能最低的总安装成本连接所有设施。一个初始的最优设计已经被确定，它对应于所有可能连接的最小生成树 (Minimum Spanning Tree, MST)。\n\n这个初始 MST 中的连接及其安装成本（以千美元为单位）如下：\n- (A, B)，成本为 7\n- (A, D)，成本为 5\n- (B, E)，成本为 7\n- (C, E)，成本为 5\n- (D, F)，成本为 6\n- (E, G)，成本为 9\n\n在最初的 MST 中被考虑但未被包括的连接之一是设施 B 和设施 D 之间的链路，其最初的预计成本为 9 千美元。\n\n现在，一个新的承包商提出以 2 千美元的显著降低的成本建造 B 和 D 之间的链路。所有其他连接的成本保持不变。\n\n鉴于这一新情况，确定连接所有七个设施的新最优网络的总成本。最终答案以千美元为单位表示。", "solution": "我们从给定的最小生成树 (MST) 开始，它由六条边组成：\n$(A,B)$，成本为 $7$；$(A,D)$，成本为 $5$；$(B,E)$，成本为 $7$；$(C,E)$，成本为 $5$；$(D,F)$，成本为 $6$；以及 $(E,G)$，成本为 $9$。这个 MST 的总成本是\n$$\nS=7+5+7+5+6+9=39.\n$$\n\n非树边 $(B,D)$ 的成本从 $9$ 变为 $2$。为了有效地更新 MST，我们使用环性质：将 $(B,D)$ 添加到当前的树中会在树中 $B$ 和 $D$ 之间的路径上创建一个唯一的环，为了在新的权重下获得最小生成树，应该移除该环上权重最大的边。\n\n当前 MST 中从 $B$ 到 $D$ 的唯一路径是 $B \\to A \\to D$，它使用了权重为 $7$ 的边 $(B,A)$ 和权重为 $5$ 的边 $(A,D)$。添加权重为 $2$ 的边 $(B,D)$ 会创建一个边权重为 $\\{7,5,2\\}$ 的环。这个环上权重最大的边是 $(A,B)$，其权重为 $7$，并且它是唯一最大的。根据环性质，通过移除 $(A,B)$ 并保留 $(A,D)$，同时添加 $(B,D)$，可以得到更新后的 MST。\n\n因此，新的总成本是\n$$\nS' = S - w(A,B) + w(B,D) = 39 - 7 + 2 = 34.\n$$\n根据环性质以及只有一个边的权重发生变化（减少）这一事实，这次替换在更新后的成本下产生了一个 MST。因此，最优网络的成本是 $34$（千美元）。", "answer": "$$\\boxed{34}$$", "id": "1401675"}]}