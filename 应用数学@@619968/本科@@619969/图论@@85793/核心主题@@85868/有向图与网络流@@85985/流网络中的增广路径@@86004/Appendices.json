{"hands_on_practices": [{"introduction": "掌握最大流算法的第一步是学会在残差图中识别增广路径。这个练习将帮助你巩固这项基本技能。通过在一个给定的残差图中系统地寻找并列举所有从源点 $S$ 到汇点 $T$ 的简单路径，你将能更直观地理解流量可以如何被增加。[@problem_id:1482183]", "problem": "在网络流算法中，残留图 $G_f$ 用于寻找增广路径。该图由一个顶点集 $V$、一个源点 $S \\in V$、一个汇点 $T \\in V$ 以及一个有向边集 $E_f$ 组成，其中每条边 $(u, v) \\in E_f$ 都具有一个正的残留容量 $c_f(u, v) > 0$。\n\n增广路径是残留图中从源点 $S$ 到汇点 $T$ 的一条路径。简单增广路径是一条不重复任何顶点的增广路径。\n\n考虑一个特定的残留图，其顶点集为 $V = \\{S, A, B, C, D, T\\}$，源点为 $S$，汇点为 $T$。其有向边和对应的正残留容量如下所示：\n- $(S, A)$，容量为 4\n- $(S, C)$，容量为 5\n- $(A, B)$，容量为 3\n- $(A, D)$，容量为 2\n- $(B, D)$，容量为 6\n- $(B, T)$，容量为 3\n- $(C, A)$，容量为 1\n- $(C, D)$，容量为 2\n- $(D, T)$，容量为 7\n\n你的任务是确定在此残留图中，从源点 $S$ 到汇点 $T$ 的不同简单增广路径的总数。", "solution": "所有残留容量均为正值，因此所列的每条有向边都存在于残留图中。简单增广路径是从 $S$ 到 $T$ 的一条简单有向路径。该图是无环的，因为边的走向遵循 $S \\to \\{A,C\\}$, $C \\to \\{A,D\\}$, $A \\to \\{B,D\\}$, $B \\to \\{D,T\\}$, $D \\to T$ 的顺序，不存在反向边或环路。因此，简单增广路径的数量等于从 $S$ 到 $T$ 的有向路径的数量。\n\n定义 $P(v)$ 为从顶点 $v$ 到 $T$ 的不同简单路径的数量。在这个有向无环图上使用动态规划，以 $P(T)=1$ 为基础情况，我们计算：\n$$\nP(D)=P(T)=1,\n$$\n$$\nP(B)=P(T)+P(D)=1+1=2,\n$$\n$$\nP(A)=P(B)+P(D)=2+1=3,\n$$\n$$\nP(C)=P(A)+P(D)=3+1=4,\n$$\n$$\nP(S)=P(A)+P(C)=3+4=7.\n$$\n因此，共有 $7$ 条不同的简单增广路径。逐一列举可以证实这个计数：$S\\!-\\!A\\!-\\!B\\!-\\!T$、$S\\!-\\!A\\!-\\!B\\!-\\!D\\!-\\!T$、$S\\!-\\!A\\!-\\!D\\!-\\!T$、$S\\!-\\!C\\!-\\!D\\!-\\!T$、$S\\!-\\!C\\!-\\!A\\!-\\!B\\!-\\!T$、$S\\!-\\!C\\!-\\!A\\!-\\!B\\!-\\!D\\!-\\!T$、$S\\!-\\!C\\!-\\!A\\!-\\!D\\!-\\!T$。", "answer": "$$\\boxed{7}$$", "id": "1482183"}, {"introduction": "增广路径的真正威力在于它们能够“撤销”或“重路由”已经存在的流量，从而为更大的总流量找到新的可能性。这个练习将引导你使用残差图中的反向边，通过减少某条边上的流量来为网络找到一个更优的流动方案。理解这个机制是跳出局部最优解、找到全局最大流的关键。[@problem_id:1482173]", "problem": "考虑一个表示流网络的有向图。该网络中的顶点为 `{s, a, b, t}`，其中 `s` 是源点，`t` 是汇点。网络的边及其整数容量定义如下：\n- 从 `s` 到 `a`，容量为 10\n- 从 `s` 到 `b`，容量为 10\n- 从 `b` 到 `a`，容量为 4\n- 从 `a` 到 `t`，容量为 5\n- 从 `b` 到 `t`，容量为 10\n\n一个初始的、非最大流 `f` 当前正通过该网络。边上的非零流值为：`f(s, b) = 4`，`f(b, a) = 4` 和 `f(a, t) = 4`。所有其他边上的流均为零。\n\n您的任务是在对应于流 `f` 的残留网络中找到一条从 `s` 到 `t` 的增广路径。您必须找到的特定增广路径是这样一条路径：使用它后，会减少边 `(b, a)` 上的流量。一旦您确定了这条路径及其瓶颈容量，就增广流 `f`。计算从源点 `s` 到汇点 `t` 的新总流量值。", "solution": "我们使用残留网络构造法。对于每条容量为 $c(u,v)$、当前流量为 $f(u,v)$ 的有向边 $(u,v)$，其正向残留容量为 $c_{f}(u,v) = c(u,v) - f(u,v)$，反向残留容量为 $c_{f}(v,u) = f(u,v)$。\n\n给定当前的非零流 $f(s,b) = 4$, $f(b,a) = 4$, 和 $f(a,t) = 4$，残留容量如下：\n- $c_{f}(s,a) = 10 - 0 = 10$ 且 $c_{f}(a,s) = 0$,\n- $c_{f}(s,b) = 10 - 4 = 6$ 且 $c_{f}(b,s) = 4$,\n- $c_{f}(b,a) = 4 - 4 = 0$ 且 $c_{f}(a,b) = 4$,\n- $c_{f}(a,t) = 5 - 4 = 1$ 且 $c_{f}(t,a) = 4$,\n- $c_{f}(b,t) = 10 - 0 = 10$ 且 $c_{f}(t,b) = 0$.\n\n为了减少 $(b,a)$ 上的流，增广路径必须使用反向残留弧 $a \\to b$。一条有效的增广路径是\n$$\nP: s \\to a \\to b \\to t.\n$$\n$P$ 上的瓶颈容量（增广量）是\n$$\n\\Delta = \\min\\{c_{f}(s,a),\\, c_{f}(a,b),\\, c_{f}(b,t)\\} = \\min\\{10,\\, 4,\\, 10\\} = 4.\n$$\n\n沿路径 $P$ 增广 $\\Delta$ 后，流量更新如下：对于路径中的正向弧，流量增加 $\\Delta$；对于使用的反向残留弧，其对应的原正向弧上的流量减少 $\\Delta$。\n- 在 $s \\to a$ 上：$f'(s,a) = 0 + 4 = 4$。\n- 在 $a \\to b$（$b \\to a$ 的反向弧）上：$f'(b,a) = 4 - 4 = 0$。\n- 在 $b \\to t$ 上：$f'(b,t) = 0 + 4 = 4$。\n所有其他流量保持不变，因此 $f'(s,b) = 4$ 且 $f'(a,t) = 4$。\n\n新的总流量值为\n$$\n|f'| = f'(s,a) + f'(s,b) = 4 + 4 = 8,\n$$\n等价地，\n$$\n|f'| = f'(a,t) + f'(b,t) = 4 + 4 = 8.\n$$", "answer": "$$\\boxed{8}$$", "id": "1482173"}, {"introduction": "在 Ford-Fulkerson 方法中，并非所有增广路径的选择都是等效的；选择的顺序和策略会显著影响算法达到最大流的效率。这个练习通过一个经典的例子揭示了这一点：一个看似合理的选择可能导致需要更多次的迭代才能达到最大流。这个问题凸显了像 Edmonds-Karp 这样采用特定路径选择标准（如最短路径）的算法的重要性。[@problem_id:1482159]", "problem": "考虑一个流网络，它有一个源节点 $s$、一个汇节点 $t$ 和两个中间节点 $a$ 和 $b$。该网络由以下有向边及其各自的整数容量组成：\n- 从 $s$ 到 $a$，容量 50\n- 从 $s$ 到 $b$，容量 50\n- 从 $a$ 到 $t$，容量 50\n- 从 $b$ 到 $t$，容量 50\n- 从 $a$ 到 $b$，容量 1\n\n一位工程师的任务是使用 Ford-Fulkerson 方法找到从 $s$到 $t$ 的最大流，该方法通过在残留图中迭代地寻找增广路径并增加流量。在第一步中，该工程师选择了增广路径 $P = s \\to a \\to b \\to t$。\n\n在沿这条初始路径 $P$ 增广流量后，要达到网络中的最大可能流，最少还需要多少条*额外*的增广路径？", "solution": "令容量用 $c(u,v)$ 表示。根据最大流最小割定理，最大 $s$–$t$ 流量值等于一个 $s$–$t$ 割的最小容量。考虑两个自然的割：\n$$\n\\{s\\}\\,|\\,\\{a,b,t\\}\\quad\\text{其容量为 }c(s,a)+c(s,b)=50+50=100,\n$$\n$$\n\\{s,a,b\\}\\,|\\,\\{t\\}\\quad\\text{其容量为 }c(a,t)+c(b,t)=50+50=100.\n$$\n因此，最大流量值为\n$$\n|f^{*}|=100.\n$$\n\n工程师首先沿 $P_{1}: s\\to a\\to b\\to t$ 进行增广。$P_{1}$ 上的瓶颈是\n$$\n\\Delta_{1}=\\min\\{c(s,a),c(a,b),c(b,t)\\}=\\min\\{50,1,50\\}=1,\n$$\n所以有 $1$ 单位的流量沿 $P_{1}$ 发送。产生的非零流量为 $f(s,a)=1$, $f(a,b)=1$, $f(b,t)=1$，残留容量变为\n$$\nc_{f}(s,a)=49,\\quad c_{f}(s,b)=50,\\quad c_{f}(a,t)=50,\\quad c_{f}(b,t)=49,\\quad c_{f}(a,b)=0,\n$$\n并产生反向残留边\n$$\nc_{f}(a,s)=1,\\quad c_{f}(b,a)=1,\\quad c_{f}(t,b)=1.\n$$\n\n任何额外的增广都必须遵循此残留图中的一条 $s$–$t$ 路径。可能存在的简单 $s$–$t$ 残留路径及其瓶颈是：\n- $s\\to a\\to t$，瓶颈为 $\\min\\{c_{f}(s,a),c_{f}(a,t)\\}=\\min\\{49,50\\}=49$，\n- $s\\to b\\to t$，瓶颈为 $\\min\\{c_{f}(s,b),c_{f}(b,t)\\}=\\min\\{50,49\\}=49$，\n- $s\\to b\\to a\\to t$，瓶颈为 $\\min\\{c_{f}(s,b),c_{f}(b,a),c_{f}(a,t)\\}=\\min\\{50,1,50\\}=1$。\n\n因此，在初始步骤之后，任何单条增广路径的容量最多为 $49$。因此，如果只使用两条额外的增广路径，可以增加的总额外流量最多为 $49+49=98$，产生的总流量最多为 $1+98=99<100$。因此，至少需要三条额外的增广路径。\n\n为了证明三条就足够了，我们采用以下序列：\n1. 沿 $P_{2}: s\\to b\\to t$ 增广 $\\Delta_{2}=49$，得到 $f(b,t)=50$ 和 $f(s,b)=49$，所以 $|f|=50$。\n2. 沿 $P_{3}: s\\to a\\to t$ 增广 $\\Delta_{3}=49$，得到 $f(s,a)=50$ 和 $f(a,t)=49$，所以 $|f|=99$。\n3. 沿 $P_{4}: s\\to b\\to a\\to t$ 增广 $\\Delta_{4}=1$，这将使 $f(a,b)$ 减小到 $0$，并使 $f(s,b)$ 增加到 $50$，$f(a,t)$ 增加到 $50$，从而得到\n$$\nf(s,a)=50,\\quad f(s,b)=50,\\quad f(a,t)=50,\\quad f(b,t)=50,\\quad f(a,b)=0,\n$$\n所以总流量为\n$$\n|f|=f(s,a)+f(s,b)=100=|f^{*}|.\n$$\n\n因此，在初始的不良选择之后，所需的最小额外增广路径数量为 $3$。", "answer": "$$\\boxed{3}$$", "id": "1482159"}]}