{"hands_on_practices": [{"introduction": "让我们从一个熟悉且直观的例子开始。经典的“石头-剪刀-布”游戏完美地示范了一个3-顶点循环赛图（cyclic tournament）。通过这个练习，你将通过系统地检查所有可能的顶点排列，亲手实践枚举哈密顿路径的基本方法，为理解更复杂的结构打下坚实基础。[@problem_id:1511593]", "problem": "在图论中，有向图是由顶点集合与连接这些顶点的边的集合构成的，其中边具有与之关联的方向。一条从顶点 $u$ 到顶点 $v$ 的边被记为一个有序对 $(u, v)$。哈密顿路径是有向图中的一条路径，它恰好经过每个顶点一次。\n\n考虑“石头-剪刀-布”游戏。我们可以将此游戏建模为一个有向图，其包含三个顶点：一个代表石头（R），一个代表布（P），以及一个代表剪刀（S）。当且仅当物品 $u$ 胜过物品 $v$ 时，存在一条有向边 $(u, v)$。游戏规则是：石头胜剪刀，剪刀胜布，布胜石头。\n\n基于此模型，确定“石头-剪刀-布”图中不同哈密顿路径的总数。", "solution": "将“石头-剪刀-布”图建模为一个有向3-循环，其顶点集为 $\\{R,P,S\\}$，边集为 $E=\\{(R,S),(S,P),(P,R)\\}$，因为R胜S，S胜P，且P胜R。\n\n哈密顿路径是这三个顶点的一个排列 $(v_{1},v_{2},v_{3})$，需满足 $(v_{1},v_{2})\\in E$ 且 $(v_{2},v_{3})\\in E$。共有 $3!=6$ 种排列需要检验：\n- $(R,S,P)$: $(R,S)\\in E$ 且 $(S,P)\\in E$；有效。\n- $(R,P,S)$: $(R,P)\\notin E$；无效。\n- $(S,R,P)$: $(S,R)\\notin E$；无效。\n- $(S,P,R)$: $(S,P)\\in E$ 且 $(P,R)\\in E$；有效。\n- $(P,R,S)$: $(P,R)\\in E$ 且 $(R,S)\\in E$；有效。\n- $(P,S,R)$: $(P,S)\\notin E$；无效。\n\n因此，恰好有 $3$ 种排列满足哈密顿路径的条件，所以不同哈密顿路径的总数是 $3$。", "answer": "$$\\boxed{3}$$", "id": "1511593"}, {"introduction": "我们已经知道任何竞赛图都至少存在一条哈密顿路径，但这是否意味着我们可以任意指定路径的起点和终点呢？本练习将通过一个称为“传递性竞赛图”（transitive tournament）的特殊结构来探讨这个问题。通过分析这个案例，你将发现一个重要的反例，它揭示了图的结构如何严格限制哈密顿路径的存在性，从而深化你对路径性质的理解。[@problem_id:1511595]", "problem": "在图论中，竞赛图是一种有向图，其中对于每对不同的顶点 $u$ 和 $v$，图中恰好存在有向边 $(u,v)$ 或 $(v,u)$ 中的一条。有向图中的哈密顿路径是一条恰好访问每个顶点一次的路径。\n\n一个著名的定理指出，每个竞赛图都至少有一条哈密顿路径。人们可能会想，是否存在一个更强的性质：对于任意竞赛图 $T$ 和任意一对有序的不同顶点 $(u,v)$，是否总存在一条从 $u$ 开始到 $v$ 结束的哈密顿路径？\n\n为了研究这个问题，我们考虑一个顶点集为 $V = \\{1, 2, 3, 4\\}$ 的传递竞赛图 $T_4$ 的具体情况。在这个竞赛图中，存在有向边 $(i,j)$ 当且仅当 $i < j$。对于这个竞赛图 $T_4$，下列哪个陈述是正确的？\n\nA. 存在一条从顶点 2 到顶点 3 的哈密顿路径。\nB. 存在一条从顶点 1 到顶点 3 的哈密顿路径。\nC. 存在一条从顶点 4 到顶点 1 的哈密顿路径。\nD. 存在一条从顶点 1 到顶点 4 的哈密顿路径。\nE. 存在一条从顶点 3 到顶点 1 的哈密顿路径。", "solution": "在顶点集为 $V=\\{1,2,3,4\\}$ 的传递竞赛图 $T_{4}$ 中，有向边 $(i,j)$ 存在当且仅当 $i<j$。因此，对于 $T_{4}$ 中的任意有向边 $(x,y)$，我们有 $x<y$。因此，沿着 $T_{4}$ 中的任何有向路径 $v_{1}\\to v_{2}\\to\\cdots\\to v_{m}$，每个相邻对都满足 $v_{k}<v_{k+1}$，所以路径上的顶点序列是严格递增的：\n$$\nv_{1}<v_{2}<\\cdots<v_{m}.\n$$\n\n哈密顿路径必须恰好访问所有四个顶点一次。由所有四个不同标签 $\\{1,2,3,4\\}$ 组成的唯一的严格递增序列是\n$$\n1<2<3<4,\n$$\n所以 $T_{4}$ 中唯一的哈密顿路径是 $1\\to 2\\to 3\\to 4$。等价地，注意到顶点 $1$ 没有入边，而顶点 $4$ 没有出边，所以任何包含所有顶点的有向路径都必须从 $1$ 开始，到 $4$ 结束。\n\n评估各个选项：\n- A：从 $2$ 到 $3$ 的哈密顿路径是不可能的，因为唯一的哈密顿路径从 $1$ 开始，到 $4$ 结束。\n- B：出于同样的原因，从 $1$ 到 $3$ 是不可能的。\n- C：从 $4$ 到 $1$ 是不可能的，因为 $4$ 没有出边，而 $1$ 没有入边。\n- D：从 $1$ 到 $4$ 是正确的，由路径 $1\\to 2\\to 3\\to 4$ 实现。\n- E：从 $3$ 到 $1$ 是不可能的，因为 $1$ 没有入边。\n\n因此，只有陈述 D 是正确的。", "answer": "$$\\boxed{D}$$", "id": "1511595"}, {"introduction": "既然不同的竞赛图结构可以拥有不同数量的哈密顿路径，一个自然的问题是：对于一个给定大小的竞赛图，其哈密顿路径数量的上限是多少？这个终极挑战将引导你探索不同$4$-顶点竞赛图的结构，并找出能产生最多哈密顿路径的构型。这个过程不仅能锻炼你的路径枚举技巧，更能让你对图结构与路径数量之间的关系产生深刻的洞察。[@problem_id:1511588]", "problem": "一个*竞赛图*是通过为无向完全图的每条边赋予方向而得到的有向图。等价地，一个竞赛图是一个有向图 $T=(V, E)$，使得对于每对不同的顶点 $u, v \\in V$，边 $(u, v)$ 和 $(v, u)$ 中恰好有一条在 $E$ 中。\n\n有向图中的*哈密顿路径*是一条恰好访问每个顶点一次的有向路径。\n\n考虑所有可能的包含4个顶点的竞赛图。不同的竞赛图可以有不同数量的哈密顿路径。你的任务是确定在任何4个顶点的竞赛图中，哈密顿路径的最大可能数量。\n\n这个最大数量是多少？", "solution": "一个4个顶点的竞赛图 $T$ 总是包含一个3个顶点的传递子竞赛图：任取一个顶点 $v$；在其余三个顶点中，至少有两个，比如说 $u$ 和 $w$，与 $v$ 的关系相同（要么都是 $v \\to u$ 和 $v \\to w$，要么都是 $u \\to v$ 和 $w \\to v$），再加上 $u$ 和 $w$ 之间的方向，这三个顶点就构成了一个传递子竞赛图。将这三个顶点重新标记为 $1,2,3$，使得 $1 \\to 2$、$1 \\to 3$ 且 $2 \\to 3$。\n\n令 $4$ 为剩下的顶点。$4$ 和 $\\{1,2,3\\}$ 之间的边可以有 $2^{3}=8$ 种定向方式。对于这8种情况中的每一种，我们利用出邻点的约束来显式地计算所有哈密顿路径。我们在整个过程中都使用基础边 $(1,2), (1,3), (2,3)$。\n\n情况1：$4 \\to 1$，$4 \\to 2$，$4 \\to 3$。此时 $4$ 支配所有其他顶点；该竞赛图是传递的，具有唯一的哈密顿路径 $4 \\to 1 \\to 2 \\to 3$。因此 $H=1$。\n\n情况2：$4 \\to 1$，$4 \\to 2$，$3 \\to 4$。出邻点为 $\\mathrm{Out}(1)=\\{2,3\\}$，$\\mathrm{Out}(2)=\\{3\\}$，$\\mathrm{Out}(3)=\\{4\\}$，$\\mathrm{Out}(4)=\\{1,2\\}$。有效的哈密顿路径有：\n$1 \\to 2 \\to 3 \\to 4$，$1 \\to 3 \\to 4 \\to 2$，$2 \\to 3 \\to 4 \\to 1$，$3 \\to 4 \\to 1 \\to 2$，$4 \\to 1 \\to 2 \\to 3$。因此 $H=5$。\n\n情况3：$4 \\to 1$，$2 \\to 4$，$4 \\to 3$。出邻点为 $\\mathrm{Out}(1)=\\{2,3\\}$，$\\mathrm{Out}(2)=\\{3,4\\}$，$\\mathrm{Out}(3)=\\varnothing$，$\\mathrm{Out}(4)=\\{1,3\\}$。有效的哈密顿路径有：\n$1 \\to 2 \\to 4 \\to 3$，$2 \\to 4 \\to 1 \\to 3$，$4 \\to 1 \\to 2 \\to 3$。因此 $H=3$。\n\n情况4：$4 \\to 1$，$2 \\to 4$，$3 \\to 4$。出邻点为 $\\mathrm{Out}(1)=\\{2,3\\}$，$\\mathrm{Out}(2)=\\{3,4\\}$，$\\mathrm{Out}(3)=\\{4\\}$，$\\mathrm{Out}(4)=\\{1\\}$。有效的哈密顿路径有：\n$1 \\to 2 \\to 3 \\to 4$，$2 \\to 3 \\to 4 \\to 1$，$2 \\to 4 \\to 1 \\to 3$，$3 \\to 4 \\to 1 \\to 2$，$4 \\to 1 \\to 2 \\to 3$。因此 $H=5$。\n\n情况5：$1 \\to 4$，$4 \\to 2$，$4 \\to 3$。出邻点为 $\\mathrm{Out}(1)=\\{2,3,4\\}$，$\\mathrm{Out}(2)=\\{3\\}$，$\\mathrm{Out}(3)=\\varnothing$，$\\mathrm{Out}(4)=\\{2,3\\}$。唯一有效的哈密顿路径是 $1 \\to 4 \\to 2 \\to 3$。因此 $H=1$。\n\n情况6：$1 \\to 4$，$4 \\to 2$，$3 \\to 4$。出邻点为 $\\mathrm{Out}(1)=\\{2,3,4\\}$，$\\mathrm{Out}(2)=\\{3\\}$，$\\mathrm{Out}(3)=\\{4\\}$，$\\mathrm{Out}(4)=\\{2\\}$。有效的哈密顿路径有：\n$1 \\to 2 \\to 3 \\to 4$，$1 \\to 3 \\to 4 \\to 2$，$1 \\to 4 \\to 2 \\to 3$。因此 $H=3$。\n\n情况7：$1 \\to 4$，$2 \\to 4$，$4 \\to 3$。出邻点为 $\\mathrm{Out}(1)=\\{2,3,4\\}$，$\\mathrm{Out}(2)=\\{3,4\\}$，$\\mathrm{Out}(3)=\\varnothing$，$\\mathrm{Out}(4)=\\{3\\}$。有效的哈密顿路径是 $1 \\to 2 \\to 4 \\to 3$。因此 $H=1$。\n\n情况8：$1 \\to 4$，$2 \\to 4$，$3 \\to 4$。此时 $4$ 被所有其他顶点支配；该竞赛图是传递的，具有唯一的哈密顿路径 $1 \\to 2 \\to 3 \\to 4$。因此 $H=1$。\n\n在所有8种定向中，哈密顿路径的最大数量是 $5$，在情况2和情况4中达到。因此，一个4个顶点的竞赛图中哈密顿路径的最大可能数量是 $5$。", "answer": "$$\\boxed{5}$$", "id": "1511588"}]}