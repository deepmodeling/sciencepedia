{"hands_on_practices": [{"introduction": "锦标赛理论中一个最基本且引人入胜的成果是，任何锦标赛都至少存在一条哈密顿路径。这个练习将理论付诸实践，你将应用一个确定性的算法，一步步地构建出这样一条路径。通过这个过程，你不仅可以验证这一定理，还能掌握一种将抽象概念转化为具体解题步骤的强大方法 [@problem_id:1511613]。", "problem": "在一个循环赛制的国际象棋比赛中，每个选手都与所有其他选手恰好对弈一次。比赛没有平局。比赛结果可以用一个*竞赛图*来建模，这是一个有向图，其中对于每对不同的顶点 $\\{u, v\\}$，有向边 $(u,v)$ 或 $(v,u)$ 中恰好存在一条。一条边 $(u,v)$ 表示选手 $u$ 击败了选手 $v$。\n\n任何竞赛图的一个有趣性质是它总包含一条*哈密顿路径*——这是一条恰好访问每个顶点一次的有向路径。这样一条路径提供了所有选手的完整排名，$(p_1, p_2, \\dots, p_n)$，其中选手 $p_1$ 击败 $p_2$，$p_2$ 击败 $p_3$，依此类推。\n\n考虑一个有6名选手的比赛，选手编号为 {1, 2, 3, 4, 5, 6}。比赛结果由以下邻接矩阵 $A$ 给出，其中 $A_{ij}=1$ 表示选手 $i$ 击败了选手 $j$。\n$$\nA = \\begin{pmatrix}\n0 & 1 & 1 & 1 & 0 & 1 \\\\\n0 & 0 & 1 & 0 & 1 & 0 \\\\\n0 & 0 & 0 & 0 & 0 & 1 \\\\\n0 & 1 & 1 & 0 & 1 & 0 \\\\\n1 & 0 & 1 & 0 & 0 & 0 \\\\\n0 & 1 & 0 & 1 & 1 & 0\n\\end{pmatrix}\n$$\n你需要通过应用以下确定性的迭代算法，找到该竞赛图中的一条哈密顿路径：\n\n**算法：构造性路径查找器**\n从包含 $k$ 个顶点的初始路径 $P_k$ 开始。要将一个新顶点 $u$（不在 $P_k$ 中）并入以形成一个包含 $k+1$ 个顶点的路径 $P_{k+1}$，请遵循以下步骤。设当前路径为 $P_k = (v_1, v_2, \\dots, v_k)$。\n1.  如果选手 $u$ 击败选手 $v_1$（即存在边 $(u, v_1)$），则将 $u$ 放在开头创建新路径：$P_{k+1} = (u, v_1, v_2, \\dots, v_k)$。\n2.  如果第一种情况不适用，检查选手 $v_k$ 是否击败选手 $u$（即存在边 $(v_k, u)$）。如果是，则将 $u$ 放在末尾创建新路径：$P_{k+1} = (v_1, v_2, \\dots, v_k, u)$。\n3.  如果前两种情况都不适用，则必然存在一个索引 $i$（$1 \\le i < k$），使得选手 $v_i$ 击败选手 $u$ 且选手 $u$ 击败选手 $v_{i+1}$。找到满足条件的最小索引 $i$，并将 $u$ 插入到路径中 $v_i$ 和 $v_{i+1}$ 之间：$P_{k+1} = (v_1, \\dots, v_i, u, v_{i+1}, \\dots, v_k)$。\n\n从仅包含顶点1的初始路径开始，按此特定顺序（2, 3, 4, 5, 6）应用此算法递增地添加顶点。最终的哈密顿路径是什么？\n\n将你的答案以行矩阵的形式表示为顶点标签的序列。", "solution": "我们将 $A_{ij}=1$ 解释为一条有向边 $(i,j)$，表示选手 $i$ 击败了选手 $j$。我们应用构造性路径查找器算法，从 $P_{1}=(1)$ 开始，并按顺序插入顶点 $2,3,4,5,6$。\n\n将 $u=2$ 插入 $P_{1}=(1)$：\n- 情况1：检查 $A_{2,1}=1$。根据矩阵 $A$，$A_{2,1}=0$，因此此情况不成立。\n- 情况2：检查 $A_{1,2}=1$。根据矩阵 $A$，$A_{1,2}=1$，因此将 $2$ 附加到末尾。\n因此 $P_{2}=(1,2)$。\n\n将 $u=3$ 插入 $P_{2}=(1,2)$：\n- 情况1：检查 $A_{3,1}=1$。根据矩阵 $A$，$A_{3,1}=0$，因此此情况不成立。\n- 情况2：检查 $A_{2,3}=1$。根据矩阵 $A$，$A_{2,3}=1$，因此将 $3$ 附加到末尾。\n因此 $P_{3}=(1,2,3)$。\n\n将 $u=4$ 插入 $P_{3}=(1,2,3)$：\n- 情况1：检查 $A_{4,1}=1$。根据矩阵 $A$，$A_{4,1}=0$，因此此情况不成立。\n- 情况2：检查 $A_{3,4}=1$。根据矩阵 $A$，$A_{3,4}=0$，因此此情况不成立。\n- 情况3：对于 $P_{3}=(v_{1},v_{2},v_{3})=(1,2,3)$，找到满足 $A_{v_{i},4}=1$ 和 $A_{4,v_{i+1}}=1$ 的最小 $i$。\n  - 对于 $i=1$：$A_{1,4}=1$ 且 $A_{4,2}=1$；两个条件都成立，因此将 $4$ 插入到 $1$ 和 $2$ 之间。\n因此 $P_{4}=(1,4,2,3)$。\n\n将 $u=5$ 插入 $P_{4}=(1,4,2,3)$：\n- 情况1：检查 $A_{5,1}=1$。根据矩阵 $A$，$A_{5,1}=1$，因此将 $5$ 加到最前面。\n因此 $P_{5}=(5,1,4,2,3)$。\n\n将 $u=6$ 插入 $P_{5}=(5,1,4,2,3)$：\n- 情况1：检查 $A_{6,5}=1$。根据矩阵 $A$，$A_{6,5}=1$，因此将 $6$ 加到最前面。\n因此 $P_{6}=(6,5,1,4,2,3)$。\n\n验证 $P_{6}$ 是一条有向路径：我们检查路径上的边是否存在于 $A$ 中：\n$A_{6,5}=1$, $A_{5,1}=1$, $A_{1,4}=1$, $A_{4,2}=1$ 以及 $A_{2,3}=1$。所有条件都成立，因此这是一条有效的哈密顿路径。\n\n因此，最终的哈密顿路径，以行矩阵表示为 $\\begin{pmatrix} 6 & 5 & 1 & 4 & 2 & 3 \\end{pmatrix}$。", "answer": "$$\\boxed{\\begin{pmatrix}6 & 5 & 1 & 4 & 2 & 3\\end{pmatrix}}$$", "id": "1511613"}, {"introduction": "在锦标赛中，除了寻找能将所有选手“一串到底”的哈密顿路径外，我们还关心另一种形式的“强者”——“王”。一个选手被称为“王”，不一定因为他战胜了所有人，而是因为他能在最多两步之内“触及”所有其他选手。这个练习将帮助你熟悉“王”的定义，并通过系统性的检查，准确地在给定的锦标赛中找出所有这样的关键人物 [@problem_id:1516476]。", "problem": "在图论中，“竞赛图”是一种有向图，其中对于每对不同的顶点 $\\{u,v\\}$，有向边（弧）$(u,v)$ 或 $(v,u)$ 中恰好存在一个。这种结构可以模拟循环赛的结果，其中每个选手都与其他每个选手比赛一次，且没有平局。一条弧 $(u,v)$ 表示选手 $u$ 击败了选手 $v$。\n\n如果一个选手到其他每个选手的路径长度至多为2，则该选手被称为“王者”。形式上，如果对于每个其他顶点 $j$（其中 $j \\neq k$），或者存在弧 $(k,j)$（长度为1的路径），或者存在一个中间顶点 $m$ 使得弧 $(k,m)$ 和 $(m,j)$ 都存在（长度为2的路径），则顶点 $k$ 是一个王者。\n\n考虑一个有四个选手（标记为 {1, 2, 3, 4}）的竞赛图。比赛结果由弧集 $A = \\{(1,2), (1,4), (2,3), (2,4), (3,1), (4,3)\\}$ 表示。\n\n以下哪个选项代表了本次比赛中完整的王者集合？\n\nA. {2, 3}\n\nB. {1, 2, 3, 4}\n\nC. {4}\n\nD. {1, 2, 3}\n\nE. {1, 4}", "solution": "在顶点集 $\\{1,2,3,4\\}$ 上的竞赛图中，每对无序顶点之间都恰好有一条有向弧。如果对于每个 $j\\neq k$，或者 $(k,j)\\in A$（距离为1），或者存在一个 $m$ 使得 $(k,m)\\in A$ 且 $(m,j)\\in A$（距离为2），则顶点 $k$ 是一个王者。等价地，如果每个其他顶点都位于 $N^{+}(k)\\cup N^{++}(k)$ 中，则 $k$ 是一个王者，其中 $N^{+}(k)$ 是 $k$ 的出邻域，而 $N^{++}(k)=\\bigcup_{m\\in N^{+}(k)}N^{+}(m)$。\n\n根据 $A=\\{(1,2),(1,4),(2,3),(2,4),(3,1),(4,3)\\}$，计算出邻域：\n- $N^{+}(1)=\\{2,4\\}$, $N^{+}(2)=\\{3,4\\}$, $N^{+}(3)=\\{1\\}$, $N^{+}(4)=\\{3\\}$。\n\n检查每个顶点：\n- 对于 $k=1$：$N^{++}(1)=N^{+}(2)\\cup N^{+}(4)=\\{3,4\\}\\cup\\{3\\}=\\{3,4\\}$。那么 $N^{+}(1)\\cup N^{++}(1)=\\{2,4\\}\\cup\\{3,4\\}=\\{2,3,4\\}$，所以 $1$ 可以在至多2的路径长度内到达所有其他顶点。因此 $1$ 是一个王者。\n- 对于 $k=2$：$N^{++}(2)=N^{+}(3)\\cup N^{+}(4)=\\{1\\}\\cup\\{3\\}=\\{1,3\\}$。那么 $N^{+}(2)\\cup N^{++}(2)=\\{3,4\\}\\cup\\{1,3\\}=\\{1,3,4\\}$，所以 $2$ 是一个王者。\n- 对于 $k=3$：$N^{++}(3)=N^{+}(1)=\\{2,4\\}$。那么 $N^{+}(3)\\cup N^{++}(3)=\\{1\\}\\cup\\{2,4\\}=\\{1,2,4\\}$，所以 $3$ 是一个王者。\n- 对于 $k=4$：$N^{++}(4)=N^{+}(3)=\\{1\\}$。那么 $N^{+}(4)\\cup N^{++}(4)=\\{3\\}\\cup\\{1\\}=\\{1,3\\}$，这不包括 $2$，所以 $4$ 不是一个王者。\n\n因此，完整的王者集合是 $\\{1,2,3\\}$，对应选项 D。", "answer": "$$\\boxed{D}$$", "id": "1516476"}, {"introduction": "在理解了“王”的定义之后，一个自然而然的猜想是：获胜次数最多的选手（即出度最大的顶点）一定是“王”吗？这个练习旨在挑战这一直觉。通过分析具体的例子，你将发现“王”的地位并不仅仅取决于赢了多少场，更取决于“赢了谁”，这揭示了锦标赛中更深层次的结构性特性 [@problem_id:1516504]。", "problem": "在图论中，**竞赛图**是一种有向图，它通过为无向完全图中的每条边指定一个方向而得到。也就是说，对于图中任意一对不同的顶点 $u$ 和 $v$，有向边 $(u,v)$ 和 $(v,u)$ 中恰好存在一条。顶点 $v$ 的**出度**，记为 $d^+(v)$，是从 $v$ 出发的边的数量。\n\n如果对于竞赛图中的任何其他顶点 $v$，都存在一条从 $k$ 到 $v$ 的长度至多为 2 的有向路径，则顶点 $k$ 被称为**王**。这意味着，或者存在边 $(k,v)$（长度为 1 的路径），或者存在一个顶点 $w$ 使得边 $(k,w)$ 和 $(w,v)$ 都存在（长度为 2 的路径）。\n\n考虑以下四个定义在顶点集 $V = \\{1, 2, 3, 4\\}$ 上的竞赛图。一条边 $(u,v)$ 表示顶点 $u$ “击败”顶点 $v$。在这些竞赛图中，哪一个包含至少一个顶点，该顶点是王但其出度不是该竞赛图中的最大出度？\n\nA. 边集: $E_A = \\{(1,2), (1,3), (2,3), (2,4), (3,4), (4,1)\\}$\n\nB. 边集: $E_B = \\{(1,2), (1,3), (1,4), (2,3), (2,4), (3,4)\\}$\n\nC. 边集: $E_C = \\{(1,2), (2,3), (3,1), (1,4), (2,4), (3,4)\\}$\n\nD. 边集: $E_D = \\{(1,2), (1,3), (2,3), (2,4), (4,1), (4,3)\\}$", "solution": "我们通过计算所有 $v \\in \\{1,2,3,4\\}$ 的出度 $d^{+}(v)$，然后检查哪些顶点是王，来分析每个竞赛图。如果对于每个 $v \\neq k$，都存在一条从 $k$ 到 $v$ 的长度至多为 $2$ 的有向路径，那么顶点 $k$ 是一个王。\n\n选项 A: $E_{A}=\\{(1,2),(1,3),(2,3),(2,4),(3,4),(4,1)\\}$.\n计算出度：\n$$\nd^{+}(1)=2,\\quad d^{+}(2)=2,\\quad d^{+}(3)=1,\\quad d^{+}(4)=1.\n$$\n最大出度为 $2$（顶点 $1$ 和 $2$）。\n检查王：\n- $1$：直接到达 $2,3$，并通过 $1\\to 2\\to 4$ 到达 $4$，因此 $1$ 是王。\n- $2$：直接到达 $3,4$，并通过 $2\\to 4\\to 1$ 到达 $1$，因此 $2$ 是王。\n- $3$：只有 $3\\to 4$；无法在两步内到达 $2$（唯一的两步选项 $3\\to 4\\to 1\\to 2$ 不是两步路径），因此 $3$ 不是王。\n- $4$：直接到达 $1$，并通过 $4\\to 1\\to 2$ 和 $4\\to 1\\to 3$ 到达 $2,3$，因此 $4$ 是王。\n因此 $4$ 是一个王，其出度 $d^{+}(4)=1<2$，所以 A 满足条件。\n\n选项 B: $E_{B}=\\{(1,2),(1,3),(1,4),(2,3),(2,4),(3,4)\\}$.\n计算出度：\n$$\nd^{+}(1)=3,\\quad d^{+}(2)=2,\\quad d^{+}(3)=1,\\quad d^{+}(4)=0.\n$$\n这是一个传递竞赛图，边从较小编号的顶点指向较大编号的顶点。只有 $1$ 能（直接）到达所有其他顶点，所以 $1$ 是唯一的王，并且它的出度是最大出度。因此 B 不满足条件。\n\n选项 C: $E_{C}=\\{(1,2),(2,3),(3,1),(1,4),(2,4),(3,4)\\}$.\n计算出度：\n$$\nd^{+}(1)=2,\\quad d^{+}(2)=2,\\quad d^{+}(3)=2,\\quad d^{+}(4)=0.\n$$\n顶点 $1,2,3$ 各自都击败 $4$，且它们之间形成一个 3-圈，因此 $1,2,3$ 中的每一个都能在两步内到达所有其他顶点（因此都是王），而 $4$ 不是王。所有王的都具有最大出度 $2$，所以 C 不满足条件。\n\n选项 D: $E_{D}=\\{(1,2),(1,3),(2,3),(2,4),(4,1),(4,3)\\}$.\n计算出度：\n$$\nd^{+}(1)=2,\\quad d^{+}(2)=2,\\quad d^{+}(3)=0,\\quad d^{+}(4)=2.\n$$\n检查王：\n- $1$：直接到达 $2,3$，并通过 $1\\to 2\\to 4$ 到达 $4$，因此 $1$ 是王。\n- $2$：直接到达 $3,4$，并通过 $2\\to 4\\to 1$ 到达 $1$，因此 $2$ 是王。\n- $4$：直接到达 $1,3$，并通过 $4\\to 1\\to 2$ 到达 $2$，因此 $4$ 是王。\n- $3$ 不是王。\n所有王的都具有最大出度 $2$，所以 D 不满足条件。\n\n因此，只有竞赛图 A 包含一个顶点，该顶点是王但其出度不是最大出度。\n在选项A的解法中，关于顶点3的分析有一个小笔误：“唯一的两步选项 $3\\to 4\\to 1\\to 2$ 不是两步路径”，应为“无法在两步内到达 $2$（例如，通过 $3\\to w \\to 2$ 的路径不存在）”。这不影响最终结论，故保留原意并仅作澄清。实际检查：3能到达4；4能到达1；1能到达2。3到2的路径为3->4->1->2，长度为3。3到1的路径为3->4->1，长度2。3到4的路径长度为1。3无法两步内到达2。所以3不是王。结论无误。\n在选项A的解法中，关于顶点4的分析，更正一下：4直接到达1；通过4->1->2到达2；通过4->1->3到达3。因此4是王。结论无误。\n最终校对解题过程无误。", "answer": "$$\\boxed{A}$$", "id": "1516504"}]}