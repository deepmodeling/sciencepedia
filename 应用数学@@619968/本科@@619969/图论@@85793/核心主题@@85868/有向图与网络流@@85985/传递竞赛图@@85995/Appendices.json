{"hands_on_practices": [{"introduction": "掌握一个数学概念的第一步是能够在具体实例中识别它。本次练习提供了四个小型竞赛图，你需要运用传递性锦标赛的定义（例如，不存在三元有向环）来判断哪些图符合这个结构。这个过程将帮助你将抽象的定义与具体的图表示联系起来，并加深对选手之间“一致性排名”这一核心思想的理解。[@problem_id:1550513]", "problem": "在一个编程竞赛联盟中，选手的排名基于一对一的比赛结果。这些结果可以被建模为一个称为竞赛图的有向图。一个包含 $n$ 个顶点（代表 $n$ 名选手）的竞赛图是一个有向图，其中对于每对不同的顶点 $u$ 和 $v$，有向边 $(u, v)$ 或 $(v, u)$ 中恰好存在一条。一条边 $(u, v)$ 表示选手 $u$ 击败了选手 $v$。\n\n如果一个竞赛图代表了所有选手的一致的、线性的排名，则称该竞赛图是传递的。形式上，如果对于任意三个不同的顶点 $u, v, w$，边 $(u, v)$ 和 $(v, w)$ 的存在意味着边 $(u, w)$ 也存在，那么这个竞赛图是传递的。换句话说，如果选手 $u$ 击败了选手 $v$，且选手 $v$ 击败了选手 $w$，那么为了排名的一致性，选手 $u$ 也必须击败选手 $w$。\n\n考虑四个不同的竞赛图，每个竞赛图都有四名标记为 $\\{0, 1, 2, 3\\}$ 的选手。比赛结果以邻接表的形式给出如下，其中选手 $i$ 的列表中的一个条目 $j$ 表示选手 $i$ 击败了选手 $j$。\n\n**竞赛图 A：**\n- 选手 0: 击败 []\n- 选手 1: 击败 [0]\n- 选手 2: 击败 [0, 1]\n- 选手 3: 击败 [0, 1, 2]\n\n**竞赛图 B：**\n- 选手 0: 击败 [1]\n- 选手 1: 击败 [2]\n- 选手 2: 击败 [0]\n- 选手 3: 击败 [0, 1, 2]\n\n**竞赛图 C：**\n- 选手 0: 击败 [1, 2]\n- 选手 1: 击败 [2, 3]\n- 选手 2: 击败 [3]\n- 选手 3: 击败 [0]\n\n**竞赛图 D：**\n- 选手 0: 击败 [2]\n- 选手 1: 击败 [0, 2, 3]\n- 选手 2: 击败 []\n- 选手 3: 击败 [0, 2]\n\n下列哪个竞赛图是传递的？\n\nA. 只有 A\n\nB. 只有 B\n\nC. 只有 C\n\nD. 只有 D\n\nE. A 和 C\n\nF. A 和 D\n\nG. B 和 C\n\nH. B 和 D", "solution": "一个竞赛图是传递的，当且仅当它的顶点存在一个线性序，使得每条边都从排名较高的顶点指向排名较低的顶点。等价地，一个传递的竞赛图没有有向环；特别地，它没有长度为3的有向环。确实，如果存在 $u\\to v$ 和 $v\\to w$，传递性要求 $u\\to w$，这排除了 $w\\to u$ 的可能性，从而排除了有向环。\n\n竞赛图 A：\n邻接表为：\n0 未击败任何人，1 击败 $\\{0\\}$，2 击败 $\\{0,1\\}$，3 击败 $\\{0,1,2\\}$。这与线性序 $3\\succ 2\\succ 1\\succ 0$ 相匹配，其中对于所有 $i>j$，边 $i\\to j$ 都存在。因此 A 是传递的。\n\n竞赛图 B：\n边包括 $0\\to 1$，$1\\to 2$ 和 $2\\to 0$。这形成了一个有向3-环 $0\\to 1\\to 2\\to 0$，违反了传递性。因此 B 不是传递的。\n\n竞赛图 C：\n边包括 $0\\to 1$，$1\\to 3$ 和 $3\\to 0$。这形成了一个有向3-环 $0\\to 1\\to 3\\to 0$，违反了传递性。因此 C 不是传递的。\n\n竞赛图 D：\n边为 $1\\to\\{0,2,3\\}$，$3\\to\\{0,2\\}$，$0\\to\\{2\\}$，且 2 未击败任何人。考虑线性序 $1\\succ 3\\succ 0\\succ 2$。传递性所要求的边是 $1\\to 3$、$1\\to 0$、$1\\to 2$、$3\\to 0$、$3\\to 2$ 和 $0\\to 2$，所有这些边都存在。因此 D 是传递的。\n\n所以，传递的竞赛图是 A 和 D。", "answer": "$$\\boxed{F}$$", "id": "1550513"}, {"introduction": "传递性锦标赛的本质在于其严格的线性排序，这一特性对其子结构施加了强大的约束。本次练习将引导你探索一个深刻的性质：任何一个传递性锦标赛的非空诱导子图都必然有且仅有一个源点（在该子图中未尝一败的选手）和一个汇点（在该子图中未尝一胜的选手）。这深刻揭示了传递性锦标赛固有的、无处不在的层级结构。[@problem_id:1550484]", "problem": "在图论中，我们可以定义几种特定类型的有向图。**竞赛图**是一种有向图，其中对于每对不同的顶点 $\\{u, v\\}$，有向边 $(u, v)$ 或 $(v, u)$ 中恰好存在一条。如果一个竞赛图不包含长度为3的有向环（3-环），则称其为**传递竞赛图**。一个等价且通常更有用的定义是：对于任意不同的顶点 $u, v, w \\in V$，如果边 $(u, v)$ 和 $(v, w)$ 的存在意味着边 $(u, w)$ 也存在，则竞赛图 $T=(V, E)$ 是传递的。\n\n给定一个图 $G=(V, E)$ 及其顶点的一个非空子集 $S \\subseteq V$，在 $S$ 上的**导出子图**（记作 $G[S]$）是一个图，其顶点集为 $S$，边集包含 $E$ 中所有两个端点都在 $S$ 内的边。\n\n在任何有向图中，**源点**是入度为零（没有入边）的顶点，**汇点**是出度为零（没有出边）的顶点。\n\n设 $T$ 是一个至少包含一个顶点的任意传递竞赛图。设 $H$ 是 $T$ 的任意非空导出子图。下列哪个陈述最精确且普遍正确地描述了 $H$ 中源点和汇点的数量？\n\nA. 它必须恰好有一个源点和恰好一个汇点。\n\nB. 它必须至少有一个源点和至少一个汇点，但每种都可能多于一个。\n\nC. 它可以有多个源点，但必须恰好有一个汇点。\n\nD. 它可以有多个汇点，但必须恰好有一个源点。\n\nE. 源点和汇点的数量都取决于顶点子集 $S$ 的具体选择，且两者都可能为零。", "solution": "设 $T=(V,E)$ 是一个传递竞赛图。在 $V$ 上定义一个二元关系 $\\prec$ 如下：\n$$\nu \\prec v \\quad \\text{iff} \\quad (u,v) \\in E.\n$$\n因为 $T$ 是一个竞赛图，对于任意不同的 $u,v \\in V$，边 $(u,v)$ 或 $(v,u)$ 中恰好存在一条，所以对于不同的 $u,v$, $u \\prec v$ 或 $v \\prec u$ 中恰好有一个成立（在不同元素上的完全性）。因为 $T$ 是传递的，如果 $u \\prec v$ 且 $v \\prec w$，那么 $(u,w) \\in E$，所以 $u \\prec w$（传递性）。该关系是反自反的，因为图中没有自环。因此，$\\prec$ 是 $V$ 上的一个严格全序。\n\n设 $H=T[S]$ 是 $S \\subseteq V$ 上的任意非空导出子图。$\\prec$ 在 $S$ 上的限制仍然是 $S$ 上的一个严格全序，因为对于 $S$ 中任意不同的 $u,v$，边 $(u,v)$ 或 $(v,u)$ 中恰好有一条存在于 $E$ 中，因此也存在于 $E(H)$ 中，并且 $S$ 中三元组的传递性继承自 $T$。\n\n设 $m \\in S$ 是在限制于 $S$ 的关系 $\\prec$ 下的唯一极小元。对于每个 $v \\in S \\setminus \\{m\\}$，我们有 $m \\prec v$，因此 $(m,v) \\in E(H)$，所以在 $H$ 中 $m$ 的入度为零。因此 $m$ 是一个源点。唯一性：如果 $x \\in S$, $x \\neq m$，则 $x \\prec m$ 或 $m \\prec x$ 必有一成立。前者与 $m$ 的极小性矛盾；后者意味着 $(m,x) \\in E(H)$，使得 $x$ 的入度为正，所以 $x$ 不是源点。\n\n类似地，设 $M \\in S$ 是在限制序下的唯一极大元。对于每个 $v \\in S \\setminus \\{M\\}$，我们有 $v \\prec M$，因此 $(v,M) \\in E(H)$，所以在 $H$ 中 $M$ 的出度为零。因此 $M$ 是一个汇点。唯一性可类似地证明：任何其他 $y \\neq M$ 满足 $y \\prec M$（意味着有一条边进入 $M$）或 $M \\prec y$（与 $M$ 的极大性矛盾），在第一种情况下，$y$ 有一条指向 $M$ 的出边，所以它不是汇点。\n\n在 $|S|=1$ 的情况下，唯一的顶点既是极小元也是极大元，因此同时是唯一的源点和唯一的汇点。因此，传递竞赛图的每个非空导出子图 $H$ 都恰好有一个源点和恰好一个汇点。\n\n正确选项是 A。", "answer": "$$\\boxed{A}$$", "id": "1550484"}, {"introduction": "当我们理解了传递性锦标赛的定性结构后，便可以利用它来解决定量问题。本次练习要求你计算一个包含 $n$ 个顶点的传递性锦标赛中长度为 2 的路径总数。你会发现，图的严格线性排序将一个潜在复杂的计数问题转化为一个简单的组合选择问题，从而展示出理论结构在解决实际问题中的威力。[@problem_id:1550456]", "problem": "一个**竞赛图** (tournament) 是一个有向图，它通过给一个无向完全图的每条边指定一个方向而得到。也就是说，对于每对不同的顶点 $u$ 和 $v$，图中恰好存在有向边 $(u, v)$ 或 $(v, u)$ 中的一条。\n\n如果一个竞赛图的顶点可以被线性排序为 $v_1, v_2, \\ldots, v_n$，使得从 $v_i$ 到 $v_j$ 存在一条有向边当且仅当 $i < j$，则称该竞赛图是**传递的** (transitive)。\n\n在有向图中，**长度为2的路径** (path of length 2) 是指一个由三个不同顶点组成的三元组 $(x, y, z)$，使得存在一条从 $x$ 到 $y$ 的有向边和一条从 $y$ 到 $z$ 的有向边。\n\n考虑一个有 $n$ 个顶点的传递竞赛图，其中 $n \\ge 3$。请确定该竞赛图中长度为2的不同路径的总数。将您的答案表示为关于 $n$ 的函数，并以其最简因式分解形式给出。", "solution": "在一个有 $n$ 个顶点的传递竞赛图中，存在一个顶点的线性排序 $v_{1},v_{2},\\ldots,v_{n}$，使得从 $v_{i}$ 到 $v_{j}$ 存在一条有向边当且仅当 $i<j$。\n\n一条长度为 $2$ 的路径是一个由不同顶点组成的三元组 $(x,y,z)$，并存在边 $x\\to y$ 和 $y\\to z$。在传递排序中，$x\\to y$ 意味着 $x$ 的下标小于 $y$ 的下标，而 $y\\to z$ 意味着 $y$ 的下标小于 $z$ 的下标。因此，这样一条路径的出现，当且仅当其顶点的下标是严格递增的：$x=v_{i}$，$y=v_{j}$，$z=v_{k}$ 且 $i<j<k$。\n\n反之，对于任何严格递增的下标三元组 $i<j<k$，边 $v_{i}\\to v_{j}$ 和 $v_{j}\\to v_{k}$ 都存在，从而恰好产生一条长度为 $2$ 的路径 $(v_{i},v_{j},v_{k})$。由这三个顶点构成的任何其他排列都不能形成长度为2的路径，因为这将与传递定向所施加的必要顺序 $x<y<z$ 相矛盾。\n\n因此，长度为 $2$ 的路径数量等于递增下标三元组的数量，这也就是从 $n$ 个顶点中选取 $3$ 个元素的子集的数量：\n$$\n\\binom{n}{3}=\\frac{n(n-1)(n-2)}{6}.\n$$\n这已经是其最简因式分解形式。", "answer": "$$\\boxed{\\frac{n(n-1)(n-2)}{6}}$$", "id": "1550456"}]}