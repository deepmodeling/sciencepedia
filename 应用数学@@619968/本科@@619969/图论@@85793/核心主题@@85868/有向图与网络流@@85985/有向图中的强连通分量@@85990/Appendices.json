{"hands_on_practices": [{"introduction": "这个练习为你提供了一个检验自己对强连通分量理解的基础测试。通过分析一个简单的有向路径图，你将看到一个在任意两个不同顶点之间都无法满足强连通性条件——相互可达性——的场景。这个实践将通过展示一个图分解为最大可能数量的强连通分量的案例，来巩固你对该定义的掌握。[@problem_id:1535704]", "problem": "在图论中，一个有向图（digraph）由一个顶点集合和一系列连接有序顶点对的有向边组成。有向图的**强连通分量**（strongly connected component）是一个极大子图，对于该子图中的任意一对顶点 $u$ 和 $v$，都存在一条从 $u$ 到 $v$ 的有向路径和一条从 $v$ 到 $u$ 的有向路径。\n\n考虑一个有 $n$ 个顶点的有向路径图，记为 $P_n$，其中 $n \\ge 2$。顶点被标记为 $v_1, v_2, \\dots, v_n$。该图中的有向边集合由 $E = \\{(v_i, v_{i+1}) \\mid 1 \\le i < n\\}$ 给出。这个结构代表一个简单的单向序列，其中只能从索引较小的顶点移动到索引较大的顶点。\n\n下列哪个陈述最准确地描述了有向路径图 $P_n$ 的强连通分量？\n\nA. 只有一个强连通分量，包含所有 $n$ 个顶点 $\\{v_1, v_2, \\dots, v_n\\}$。\n\nB. 恰好有两个强连通分量：一个只包含顶点 $v_1$，另一个包含剩余的顶点 $\\{v_2, v_3, \\dots, v_n\\}$。\n\nC. 恰好有 $n$ 个强连通分量，每个分量由单个独立的顶点组成。\n\nD. 该图由一个包含“中间”顶点的大强连通分量和两个分别用于起始和结束顶点的小分量组成，总共有三个分量。\n\nE. 强连通分量的数量是 $\\lceil n/2 \\rceil$，其中 $\\lceil \\cdot \\rceil$ 是向上取整函数。", "solution": "根据定义，强连通分量是一个极大的顶点集合，对于集合中的任意一对顶点 $u,v$，都存在一条从 $u$ 到 $v$ 的有向路径和一条从 $v$ 到 $u$ 的有向路径。\n\n在有向路径图 $P_{n}$ 中，边集为\n$$\nE=\\{(v_{i},v_{i+1}) \\mid 1 \\leq i < n\\}。\n$$\n固定索引 $i$ 和 $j$，满足 $1 \\leq i < j \\leq n$。由于边只从较小的索引指向下一个较大的索引，因此存在一条从 $v_{i}$ 到 $v_{j}$ 的有向路径，由以下边的序列给出：\n$$\n(v_{i},v_{i+1}),(v_{i+1},v_{i+2}),\\dots,(v_{j-1},v_{j}),\n$$\n因此存在一条从 $v_{i}$ 到 $v_{j}$ 的长度为 $j-i$ 的路径。\n\n然而，不存在从 $v_{j}$ 回到 $v_{i}$ 的有向路径。要证明这一点，我们注意到每条有向边都会将顶点索引恰好增加1。因此，沿着任何从 $v_{j}$ 出发的有向路径，索引序列是严格递增的：\n$$\nj = k_{0} < k_{1} < \\dots < k_{t}。\n$$\n因此，不可能到达任何索引 $i<j$ 的顶点 $v_{i}$，所以当 $i<j$ 时，不存在从 $v_{j}$ 到 $v_{i}$ 的路径。\n\n因此，对于 $i \\neq j$，$v_{i}$ 和 $v_{j}$ 不能位于同一个强连通分量中，因为互相可达的条件不成立。每个单独的顶点 $v_{i}$ 显然有一条到其自身的路径（长度为 $0$ 的路径），所以每个 $\\{v_{i}\\}$ 都是强连通的。此外，每个 $\\{v_{i}\\}$ 在此属性上都是极大的，因为如前所示，添加任何其他顶点 $v_{j}$（其中 $j \\neq i$）都会破坏强连通性。\n\n因此，恰好有 $n$ 个强连通分量，每个分量由一个单独的顶点组成。这对应于选项C。", "answer": "$$\\boxed{C}$$", "id": "1535704"}, {"introduction": "跳出简单的理论图结构，这个问题挑战你处理一个由邻接表定义的具体图。你的任务是检查连接并识别出其强连通分量，这模拟了网络分析中的一项常见任务。这项动手实践旨在磨练你将强连通分量的定义应用于任何给定任意图的能力，这是实际应用中的一项关键技能。[@problem_id:1535687]", "problem": "在图论中，有向图（digraph）是一种边具有方向的图。简单有向图是一种没有自环（从一个顶点到其自身的边）且任意两个顶点之间在同一方向上最多只有一条边的有向图。\n\n如果对于每一对不同的顶点序偶 $(u, v)$，都存在一条从 $u$ 到 $v$ 的有向路径，则称该有向图是强连通的。有向图的强连通分量是一个极大强连通子图。换言之，它是一个顶点集合 $C$，其中 $C$ 中的每一对顶点都相互可达，并且 $C$ 不是任何具有此性质的更大顶点集的子集。强连通分量的大小是其所含顶点的数量。\n\n考虑一个顶点集为 $V = \\{1, 2, 3, 4\\}$ 的简单有向图。下列由邻接表描述的图中，哪一个恰好有3个强连通分量，其中一个的大小为2？\n\n顶点 $u$ 的邻接表是所有满足存在边 $(u,v)$ 的顶点 $v$ 的列表。\n\nA.\n1: [2, 3]\n2: [1]\n3: []\n4: []\n\nB.\n1: [2]\n2: [3]\n3: [4]\n4: []\n\nC.\n1: [2]\n2: [3]\n3: [4]\n4: [1]\n\nD.\n1: [2]\n2: [1]\n3: [4]\n4: [3]\n\nE.\n1: [2]\n2: [3]\n3: [1]\n4: []", "solution": "我们通过确定每个选项的强连通分量来对其进行分析，根据定义，当且仅当顶点之间相互可达时，它们才位于同一个强连通分量中。\n\n选项A：边为 $1 \\to 2$, $1 \\to 3$, $2 \\to 1$。顶点 $1$ 和 $2$ 相互可达，因此 $\\{1,2\\}$ 是一个大小为 $2$ 的强连通分量。顶点 $3$ 没有出射边，因此它无法到达任何其他顶点；故 $\\{3\\}$ 是一个单点分量。顶点 $4$ 是孤立的，所以 $\\{4\\}$ 是另一个单点分量。因此，该图恰好有 $3$ 个强连通分量：$\\{1,2\\}$、$\\{3\\}$、$\\{4\\}$，其中一个的大小为 $2$。\n\n选项B：边为 $1 \\to 2 \\to 3 \\to 4$，没有反向边。任意两个不同的顶点都不是相互可达的，所以所有分量都是单点分量：$\\{1\\}$, $\\{2\\}$, $\\{3\\}$, $\\{4\\}$。共有 $4$ 个分量，而不是 $3$ 个。\n\n选项C：边构成一个有向 $4$-环路 $1 \\to 2 \\to 3 \\to 4 \\to 1$。每个顶点都能到达其他所有顶点，所以整个图是一个大小为 $4$ 的强连通分量，而不是 $3$ 个分量。\n\n选项D：有两个 $2$-环路：$1 \\leftrightarrow 2$ 和 $3 \\leftrightarrow 4$。因此，强连通分量是 $\\{1,2\\}$ 和 $\\{3,4\\}$，得到 $2$ 个分量，而不是 $3$ 个。\n\n选项E：顶点 $1,2,3$ 构成一个有向 $3$-环路，所以 $\\{1,2,3\\}$ 是一个大小为 $3$ 的强连通分量，而 $\\{4\\}$ 是一个单点分量。共有 $2$ 个分量，而不是 $3$ 个。\n\n因此，只有选项A恰好有 $3$ 个强连通分量，且其中一个的大小为 $2$。", "answer": "$$\\boxed{A}$$", "id": "1535687"}, {"introduction": "这个高级练习模拟了一个软件工程中的真实场景：一个系统的依赖结构随时间演变。你将通过在高层次的收缩图上进行推理，分析添加一个新依赖（一条边）会如何导致多个模块（强连通分量）合并。这个实践展示了强连通分量分析在理解复杂系统中局部变化如何引发大规模结构性影响方面的强大威力。[@problem_id:1535691]", "problem": "在分析大型软件系统时，通常使用有向图来建模不同模块之间的依赖关系。一个强连通分量（SC）在这种图中代表一组相互依赖的模块。缩点图，其中每个节点代表一个SC，是一个有向无环图（DAG），它揭示了更高层次的依赖结构。\n\n考虑一个由有向图 $G = (V, E)$ 建模的软件项目。一项初步分析确定了七个不同的SC，记为 $S_1, S_2, S_3, S_4, S_5, S_6, S_7$。缩点图 $G_{SC}$ 以这七个SC为顶点。当且仅当在原始图 $G$ 中，存在至少一条从 $S_i$ 中的顶点到 $S_j$ 中的顶点的边时，缩点图 $G_{SC}$ 中才存在一条边 $(S_i, S_j)$。\n缩点图中的边集被确定为：\n$E_{SC} = \\{(S_1, S_2), (S_1, S_3), (S_2, S_4), (S_3, S_4), (S_4, S_5), (S_6, S_1)\\}$。\n注意，在缩点图中，分量 $S_7$ 与其他分量完全不连通。\n\n然后，一位开发人员通过向图 $G$ 添加一条边 $(u, v)$ 来引入一个新的依赖关系，其中顶点 $u$ 是分量 $S_5$ 中的一个模块，顶点 $v$ 是分量 $S_6$ 中的一个模块。设新图为 $G'=(V, E \\cup \\{(u,v)\\})$。添加这条边可能会导致几个原始的SC合并成一个更大的单一强连通分量。\n\n在更新后的图 $G'$ 中，下列哪个集合正确地标识了所有合并形成一个新强连通分量的原始强连通分量？\n\nA. $\\{S_5, S_6\\}$\n\nB. $\\{S_1, S_5, S_6\\}$\n\nC. $\\{S_1, S_2, S_4, S_5, S_6\\}$\n\nD. $\\{S_1, S_2, S_3, S_4, S_5, S_6\\}$\n\nE. $\\{S_1, S_2, S_3, S_4, S_5, S_6, S_7\\}$\n\nF. 没有形成新的更大的强连通分量；原始的SC结构得以保留。", "solution": "我们利用以下定义和事实：强连通分量是一个最大的顶点集合，其中任意一对顶点都相互可达；有向图的缩点图是一个有向无环图。根据构造，缩点图 $G_{SC}$ 的顶点为 $\\{S_{1},S_{2},S_{3},S_{4},S_{5},S_{6},S_{7}\\}$，边集为 $E_{SC}=\\{(S_{1},S_{2}),(S_{1},S_{3}),(S_{2},S_{4}),(S_{3},S_{4}),(S_{4},S_{5}),(S_{6},S_{1})\\}$，其中 $S_{7}$ 不连通。\n\n根据缩点图的定义，在图 $G$ 中添加一条从 $u \\in S_{5}$ 到 $v \\in S_{6}$ 的边 $(u,v)$，会在 $G_{SC}$ 中引入一条边 $(S_{5},S_{6})$。因此，更新后的缩点图包含上述所有边以及边 $(S_{5},S_{6})$。\n\n考虑由此产生的可达性。首先，观察有向路径\n$$\nS_{6}\\to S_{1}\\to S_{2}\\to S_{4}\\to S_{5}\\to S_{6}\n$$\n和\n$$\nS_{6}\\to S_{1}\\to S_{3}\\to S_{4}\\to S_{5}\\to S_{6}.\n$$\n这些路径展示了有向环，其中一个环包含 $S_{6},S_{1},S_{2},S_{4},S_{5}$，另一个环包含 $S_{6},S_{1},S_{3},S_{4},S_{5}$。为了证明 $\\{S_{1},S_{2},S_{3},S_{4},S_{5},S_{6}\\}$ 是一个单一强连通分量，只需证明其相互可达性。我们证明，对于此集合中的每一个 $X$，$X$ 都能到达 $S_{6}$，并且 $S_{6}$ 也能到达此集合中的每一个 $Y$；那么根据 $X\\to S_{6}\\to Y$ 可知 $X$ 能到达 $Y$。\n\n到 $S_{6}$ 的可达性：\n- $S_{5}\\to S_{6}$ (通过新加的边)。\n- $S_{4}\\to S_{5}\\to S_{6}$。\n- $S_{2}\\to S_{4}\\to S_{5}\\to S_{6}$。\n- $S_{3}\\to S_{4}\\to S_{5}\\to S_{6}$。\n- $S_{1}\\to S_{2}\\to S_{4}\\to S_{5}\\to S_{6}$。\n\n从 $S_{6}$ 的可达性：\n- $S_{6}\\to S_{1}$ (直接可达)。\n- $S_{6}\\to S_{1}\\to S_{2}$。\n- $S_{6}\\to S_{1}\\to S_{3}$。\n- $S_{6}\\to S_{1}\\to S_{2}\\to S_{4}$ (或经由 $S_{3}$)。\n- $S_{6}\\to S_{1}\\to S_{2}\\to S_{4}\\to S_{5}$。\n\n因此，对于任意 $X,Y\\in\\{S_{1},S_{2},S_{3},S_{4},S_{5},S_{6}\\}$，都存在一条路径 $X\\to S_{6}\\to Y$，所以这六个分量在图 $G'$ 中合并成一个单一的强连通分量。分量 $S_{7}$ 仍然是孤立的，因为它之前没有与其它分量相连的边，也没有添加新的边来连接它。因此，恰好是 $\\{S_{1},S_{2},S_{3},S_{4},S_{5},S_{6}\\}$ 这些分量合并了，这对应于选项D。", "answer": "$$\\boxed{D}$$", "id": "1535691"}]}