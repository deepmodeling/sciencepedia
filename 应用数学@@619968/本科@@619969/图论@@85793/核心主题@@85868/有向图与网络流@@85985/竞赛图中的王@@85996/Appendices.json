{"hands_on_practices": [{"introduction": "理论学习之后，最好的检验方式就是实践。这个练习将带你从一个结构清晰的循环赛开始，亲手应用“国王”的定义。通过分析一个具有对称性的比赛结果，你将学会如何系统地检验一个顶点是否满足国王的条件，并从中体会到图的结构如何直接决定了国王的存在性和数量。[@problem_id:1516489]", "problem": "在一个小型电子竞技联赛中，有五支队伍，分别标记为 $T_1, T_2, T_3, T_4, T_5$，参加一场循环赛。在循环赛中，每支队伍都与其他每支队伍恰好比赛一次，比赛结果必有一胜一负。比赛结果由一条特定规则决定：队伍 $T_i$ 战胜队伍 $T_j$ 当且仅当 $(j-i)$ 模 5 的值等于 1 或 2。\n\n一支队伍若要被视为比赛的“王”，则对于其未能直接战胜的任何其他队伍，都存在第三支队伍，该“王”队战胜了这第三支队伍，而这第三支队伍又战胜了那支其他队伍。形式上来说，队伍 $T_k$ 是一个王，如果对于每一个其他队伍 $T_m$ (其中 $k \\neq m$)，要么 $T_k$ 战胜 $T_m$，要么存在一支队伍 $T_p$ 使得 $T_k$ 战胜 $T_p$ 且 $T_p$ 战胜 $T_m$。\n\n根据这些规则和结果，确定本次比赛中王的总数。", "solution": "设队伍为 $T_{1},\\dots,T_{5}$，并视其下标为模 5 的运算，代表元素取自 $\\{1,2,3,4,5\\}$。根据规则，$T_{i}$ 战胜 $T_{j}$ 当且仅当 $(j-i)\\equiv 1$ 或 $2 \\pmod{5}$。\n\n固定 $k$。那么 $T_k$ 恰好战胜 $T_{k+1}$ 和 $T_{k+2}$，因为 $(k+1-k)\\equiv 1 \\pmod{5}$ 且 $(k+2-k)\\equiv 2 \\pmod{5}$。它恰好输给 $T_{k-1}$ 和 $T_{k-2}$，因为 $(k-(k-1))\\equiv 1 \\pmod{5}$ 和 $(k-(k-2))\\equiv 2 \\pmod{5}$ 成立，意味着 $(k-1)-k\\equiv 4 \\pmod{5}$ 和 $(k-2)-k\\equiv 3 \\pmod{5}$ 不在 $\\{1,2\\}$ 中。\n\n要检验 $T_{k}$ 的王资格，只需验证对于每个 $m\\in\\{k-1,k-2\\}$，都存在一个 $p\\in\\{k+1,k+2\\}$ 使得 $T_{p}$ 战胜 $T_{m}$，即 $(m-p)\\equiv 1$ 或 $2 \\pmod{5}$。\n\n- 对于 $m=k-1$，选择 $p=k+2$。则\n$$\n(m-p)=(k-1)-(k+2)=-3\\equiv 2 \\pmod{5},\n$$\n所以 $T_{k+2}$ 战胜 $T_{k-1}$。\n\n- 对于 $m=k-2$，选择 $p=k+1$。则\n$$\n(m-p)=(k-2)-(k+1)=-3\\equiv 2 \\pmod{5},\n$$\n所以 $T_{k+1}$ 战胜 $T_{k-2}$。（或者，选择 $p=k+2$ 亦可，此时有 $(k-2)-(k+2)=-4\\equiv 1 \\pmod{5}$。）\n\n因此，对于任意 $k$，队伍 $T_k$ 对于任何其他队伍，要么直接战胜它，要么战胜了另一支能够战胜它的队伍，所以 $T_{k}$ 是一个王。由于这对所有五支队伍都成立，所以王的总数为 5。", "answer": "$$\\boxed{5}$$", "id": "1516489"}, {"introduction": "在许多竞赛中，我们很自然地认为获胜次数最多的参与者拥有最强的地位。然而，“国王”的概念要微妙得多。这个练习旨在挑战这种直觉，通过分析几个具体的锦标赛实例，你将发现一个顶点即使不拥有最高的出度（即直接获胜次数最多），也依然可以是国王。这能帮助你更深刻地理解国王的定义——它不仅关乎直接支配，更依赖于通过一步中介实现的间接支配能力。[@problem_id:1516504]", "problem": "在图论中，**竞赛图**（tournament）是一个有向图，它通过为无向完全图中的每条边指定一个方向而得到。也就是说，对于图中任意一对不同的顶点 $u$ 和 $v$，有向边 $(u,v)$ 或 $(v,u)$ 中恰好存在一条。顶点 $v$ 的**出度**（out-degree），记作 $d^+(v)$，是从 $v$ 出发的边的数量。\n\n如果对于竞赛图中的任何其他顶点 $v$，都存在一条从 $k$ 到 $v$ 且长度至多为 2 的有向路径，则称顶点 $k$ 为**王**（king）。这意味着，要么存在一条边 $(k,v)$（长度为 1 的路径），要么存在一个顶点 $w$ 使得边 $(k,w)$ 和 $(w,v)$ 都存在（长度为 2 的路径）。\n\n考虑以下四个定义在顶点集 $V = \\{1, 2, 3, 4\\}$ 上的竞赛图。一条边 $(u,v)$ 表示顶点 $u$ “击败”顶点 $v$。在这些竞赛图中，哪一个包含至少一个顶点，该顶点是王，但其出度不是该竞赛图中的最大出度？\n\nA. 边集: $E_A = \\{(1,2), (1,3), (2,3), (2,4), (3,4), (4,1)\\}$\n\nB. 边集: $E_B = \\{(1,2), (1,3), (1,4), (2,3), (2,4), (3,4)\\}$\n\nC. 边集: $E_C = \\{(1,2), (2,3), (3,1), (1,4), (2,4), (3,4)\\}$\n\nD. 边集: $E_D = \\{(1,2), (1,3), (2,3), (2,4), (4,1), (4,3)\\}$", "solution": "我们通过计算所有 $v \\in \\{1,2,3,4\\}$ 的出度 $d^{+}(v)$，然后检查哪些顶点是王，来分析每个竞赛图。一个顶点 $k$ 是王，如果对于每个 $v \\neq k$，都存在一条从 $k$ 到 $v$ 且长度至多为 $2$ 的有向路径。\n\n选项 A: $E_{A}=\\{(1,2),(1,3),(2,3),(2,4),(3,4),(4,1)\\}$。\n计算出度:\n$$\nd^{+}(1)=2,\\quad d^{+}(2)=2,\\quad d^{+}(3)=1,\\quad d^{+}(4)=1.\n$$\n最大出度为 $2$（顶点 $1$ 和 $2$）。\n检查哪些是王:\n- $1$: 可以直接到达 $2,3$，并通过 $1\\to 2\\to 4$ 到达 $4$，所以 $1$ 是王。\n- $2$: 可以直接到达 $3,4$，并通过 $2\\to 4\\to 1$ 到达 $1$，所以 $2$ 是王。\n- $3$: 只能 $3\\to 4$；无法在两步内到达 $2$（唯一的两步选项 $3\\to 4\\to 2$ 失败，因为 $(4,2)$ 不存在），所以 $3$ 不是王。\n- $4$: 可以直接到达 $1$，并通过 $4\\to 1\\to 2$ 和 $4\\to 1\\to 3$ 到达 $2,3$，所以 $4$ 是王。\n因此，$4$ 是一个王，其出度 $d^{+}(4)=1<2$，所以 A 满足条件。\n\n选项 B: $E_{B}=\\{(1,2),(1,3),(1,4),(2,3),(2,4),(3,4)\\}$。\n计算出度:\n$$\nd^{+}(1)=3,\\quad d^{+}(2)=2,\\quad d^{+}(3)=1,\\quad d^{+}(4)=0.\n$$\n这是一个传递竞赛图，边从较小编号指向较大编号。只有 $1$ 能（直接）到达所有其他顶点，所以 $1$ 是唯一的王，且它具有最大出度。因此 B 不满足条件。\n\n选项 C: $E_{C}=\\{(1,2),(2,3),(3,1),(1,4),(2,4),(3,4)\\}$。\n计算出度:\n$$\nd^{+}(1)=2,\\quad d^{+}(2)=2,\\quad d^{+}(3)=2,\\quad d^{+}(4)=0.\n$$\n顶点 $1,2,3$ 都击败 $4$，且它们三者之间形成一个3-环，所以 $1,2,3$ 中的每一个都可以在两步内到达所有其他顶点（因此它们都是王），而 $4$ 不是王。所有的王都具有最大出度 $2$，所以 C 不满足条件。\n\n选项 D: $E_{D}=\\{(1,2),(1,3),(2,3),(2,4),(4,1),(4,3)\\}$。\n计算出度:\n$$\nd^{+}(1)=2,\\quad d^{+}(2)=2,\\quad d^{+}(3)=0,\\quad d^{+}(4)=2.\n$$\n检查哪些是王:\n- $1$: 可以直接到达 $2,3$，并通过 $1\\to 2\\to 4$ 到达 $4$，所以 $1$ 是王。\n- $2$: 可以直接到达 $3,4$，并通过 $2\\to 4\\to 1$ 到达 $1$，所以 $2$ 是王。\n- $4$: 可以直接到达 $1,3$，并通过 $4\\to 1\\to 2$ 到达 $2$，所以 $4$ 是王。\n- $3$ 不是王。\n所有的王都具有最大出度 $2$，所以 D 不满足条件。\n\n因此，只有竞赛图 A 包含一个顶点，该顶点是王，但其出度不是最大出度。", "answer": "$$\\boxed{A}$$", "id": "1516504"}, {"introduction": "现在，让我们将难度提升，将图论概念与计算思维结合起来。本练习引入邻接矩阵 $A$ 作为分析锦标赛的工具，要求你像设计一个算法一样，系统地找出所有国王。这个过程不仅是对国王定义的巩固，更进一步地，你需要对找出的国王集合所构成的子图进行统计分析。这道题将图的结构性质与基本的数据分析（如计算方差）联系起来，展示了图论在更广泛的数据科学和网络分析中的应用潜力。[@problem_id:1516506]", "problem": "在网络分析中，竞赛图是一种有向图，其中每对不同的顶点都由一条单独的有向边连接。这种结构可用于模拟循环赛或排名系统等场景。在竞赛图中，如果存在一条从顶点 $v$ 到顶点 $u$ 的有向边，我们就说顶点 $v$ 支配顶点 $u$。\n\n竞赛图中的一个关键概念是“王”。一个顶点 $k$ 被定义为王，如果对于图中任何其他顶点 $v$，$k$ 要么直接支配 $v$（长度为1的路径），要么存在一个中间顶点 $w$，使得 $k$ 支配 $w$ 且 $w$ 支配 $v$（长度为2的路径）。\n\n考虑一个有六个顶点的竞赛图，标记为 {1, 2, 3, 4, 5, 6}。支配关系由以下邻接矩阵 $A$ 给出，其中如果顶点 $i$ 支配顶点 $j$，则条目 $A_{ij} = 1$，否则 $A_{ij} = 0$。\n\n$$\nA = \n\\begin{pmatrix}\n0 & 1 & 1 & 0 & 0 & 1 \\\\\n0 & 0 & 1 & 1 & 0 & 0 \\\\\n0 & 0 & 0 & 1 & 1 & 0 \\\\\n1 & 0 & 0 & 0 & 1 & 1 \\\\\n1 & 1 & 0 & 0 & 0 & 0 \\\\\n0 & 1 & 1 & 0 & 1 & 0 \n\\end{pmatrix}\n$$\n\n令 $S_K$ 为该竞赛图中所有王的集合。我们关心由 $S_K$ 中顶点导出的子竞赛图的性质。该导出子竞赛图由 $S_K$ 中的顶点以及连接 $S_K$ 中任意两个顶点的所有原始竞赛图中的边组成。\n\n计算这个由 $S_K$ 导出的子竞赛图中顶点的出度的总体方差。对于一组值为 $\\{x_1, x_2, \\ldots, x_N\\}$ 且均值为 $\\mu$ 的数据，其总体方差定义为 $\\sigma^2 = \\frac{1}{N}\\sum_{i=1}^{N} (x_i - \\mu)^2$。\n\n将您的最终答案四舍五入到三位有效数字。", "solution": "一个包含顶点 $\\{1,2,3,4,5,6\\}$ 的竞赛图，其出邻域 (out-neighborhood) 由矩阵 $A$ 每行的值为 $1$ 的条目给出：\n- $N^{+}(1)=\\{2,3,6\\}$,\n- $N^{+}(2)=\\{3,4\\}$,\n- $N^{+}(3)=\\{4,5\\}$,\n- $N^{+}(4)=\\{1,5,6\\}$,\n- $N^{+}(5)=\\{1,2\\}$,\n- $N^{+}(6)=\\{2,3,5\\}$.\n\n一个顶点 $k$ 是王，如果 $N^{+}(k)\\cup N^{++}(k)=V\\setminus\\{k\\}$，其中 $N^{++}(k)=\\bigcup_{w\\in N^{+}(k)}N^{+}(w)$。计算每个顶点 $k$ 的 $N^{+}(k)\\cup N^{++}(k)$：\n\n- 对于 $1$：$N^{++}(1)=N^{+}(2)\\cup N^{+}(3)\\cup N^{+}(6)=\\{3,4\\}\\cup\\{4,5\\}\\cup\\{2,3,5\\}=\\{2,3,4,5\\}$，因此 $N^{+}(1)\\cup N^{++}(1)=\\{2,3,6\\}\\cup\\{2,3,4,5\\}=\\{2,3,4,5,6\\}$。\n- 对于 $2$：$N^{++}(2)=N^{+}(3)\\cup N^{+}(4)=\\{4,5\\}\\cup\\{1,5,6\\}=\\{1,4,5,6\\}$，因此 $N^{+}(2)\\cup N^{++}(2)=\\{3,4\\}\\cup\\{1,4,5,6\\}=\\{1,3,4,5,6\\}$。\n- 对于 $3$：$N^{++}(3)=N^{+}(4)\\cup N^{+}(5)=\\{1,5,6\\}\\cup\\{1,2\\}=\\{1,2,5,6\\}$，因此 $N^{+}(3)\\cup N^{++}(3)=\\{4,5\\}\\cup\\{1,2,5,6\\}=\\{1,2,4,5,6\\}$。\n- 对于 $4$：$N^{++}(4)=N^{+}(1)\\cup N^{+}(5)\\cup N^{+}(6)=\\{2,3,6\\}\\cup\\{1,2\\}\\cup\\{2,3,5\\}=\\{1,2,3,5,6\\}$，因此 $N^{+}(4)\\cup N^{++}(4)=\\{1,5,6\\}\\cup\\{1,2,3,5,6\\}=\\{1,2,3,5,6\\}$。\n- 对于 $5$：$N^{++}(5)=N^{+}(1)\\cup N^{+}(2)=\\{2,3,6\\}\\cup\\{3,4\\}=\\{2,3,4,6\\}$，因此 $N^{+}(5)\\cup N^{++}(5)=\\{1,2\\}\\cup\\{2,3,4,6\\}=\\{1,2,3,4,6\\}$。\n- 对于 $6$：$N^{++}(6)=N^{+}(2)\\cup N^{+}(3)\\cup N^{+}(5)=\\{3,4\\}\\cup\\{4,5\\}\\cup\\{1,2\\}=\\{1,2,3,4,5\\}$，因此 $N^{+}(6)\\cup N^{++}(6)=\\{2,3,5\\}\\cup\\{1,2,3,4,5\\}=\\{1,2,3,4,5\\}$。\n\n在每种情况下，$N^{+}(k)\\cup N^{++}(k)=V\\setminus\\{k\\}$，所以每个顶点都是王。因此 $S_{K}=\\{1,2,3,4,5,6\\}$，且导出的子竞赛图就是整个竞赛图。\n\n这个子竞赛图中的出度（矩阵 $A$ 的行和）为\n$$d^{+}=(3,2,2,3,2,3)。$$\n均值为\n$$\\mu=\\frac{1}{6}\\sum_{i=1}^{6}d_{i}^{+}=\\frac{15}{6}=\\frac{5}{2}。$$\n总体方差为\n$$\\sigma^{2}=\\frac{1}{6}\\sum_{i=1}^{6}\\left(d_{i}^{+}-\\mu\\right)^{2}。$$\n有三个值等于 $3$，三个值等于 $2$，每个值与均值 $\\mu=\\frac{5}{2}$ 的差的绝对值为 $\\frac{1}{2}$。因此\n$$\\sum_{i=1}^{6}\\left(d_{i}^{+}-\\mu\\right)^{2}=6\\left(\\frac{1}{2}\\right)^{2}=\\frac{6}{4}=\\frac{3}{2},$$\n且\n$$\\sigma^{2}=\\frac{1}{6}\\cdot\\frac{3}{2}=\\frac{1}{4}=0.25。$$\n四舍五入到三位有效数字，结果是 $0.250$。", "answer": "$$\\boxed{0.250}$$", "id": "1516506"}]}