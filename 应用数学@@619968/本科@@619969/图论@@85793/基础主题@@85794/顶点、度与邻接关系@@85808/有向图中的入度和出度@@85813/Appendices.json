{"hands_on_practices": [{"introduction": "在设计任何由有向图建模的系统（例如通信网络或数据流）时，一个最基本的问题是：我们提出的设计规格在数学上是否可行？此练习将引导你运用“握手引理”的有向图版本，这是一个检查图的存在性的首要且关键的步骤。通过解决这个问题，你将学会验证一个给定的出度与入度序列是否可以构成一个简单的有向图，这是图论中一项非常基础且重要的技能 [@problem_id:1513062]。", "problem": "一个工程师团队正在为一个新的分布式系统设计通信架构，该系统由五个专业的人工智能（AI）代理组成。这些代理之间的信息流可以被建模为一个有向图，其中代理是顶点，从代理 $u$ 到代理 $v$ 的有向边表示代理 $u$ 直接向代理 $v$ 发送数据。为防止反馈回路和冗余数据通道，所提出的架构必须遵守两条规则：一个代理不能向自身发送数据，且从任何代理 $u$ 到任何其他代理 $v$ 最多只能有一条有向数据通道。\n\n一位系统架构师提出了一个设计规范。在此规范中，五个代理的传入数据通道数量序列（它们的入度）为 $(3, 2, 1, 1, 1)$。五个代理的传出数据通道数量序列（它们的出度）为 $(2, 2, 1, 1, 1)$。请注意，这些序列代表度的集合，而不是任何特定顺序下特定代理的度。\n\n是否可能构建一个满足此设计规范的通信网络？\n\nA. 是的，这样的网络是可能的。\n\nB. 不，因为入度之和不等于出度之和。\n\nC. 不，因为对于一个有五个代理的网络来说，所提议的最大入度（3）太大了。\n\nD. 不，因为即使和相等，也不可能构造出具有这种特定度数组合的图。\n\nE. 没有足够的信息来确定是否可能。", "solution": "设该有向图的顶点集大小为 $n=5$，其入度为 $\\{d_{i}^{-}\\}_{i=1}^{5}$，出度为 $\\{d_{i}^{+}\\}_{i=1}^{5}$。对于任何没有自环的简单有向图，每条有向边都为其头部的入度贡献$1$，为其尾部的出度贡献$1$。因此，以下基本恒等式成立：\n$$\n\\sum_{i=1}^{5} d_{i}^{-} \\;=\\; \\sum_{i=1}^{5} d_{i}^{+} \\;=\\; m,\n$$\n其中 $m$ 是有向边的总数。\n\n提议的入度多重集为 $(3,2,1,1,1)$，其和为\n$$\n3+2+1+1+1=8.\n$$\n提议的出度多重集为 $(2,2,1,1,1)$，其和为\n$$\n2+2+1+1+1=7.\n$$\n由于 $8\\neq 7$，必要的等式 $\\sum d_{i}^{-}=\\sum d_{i}^{+}$ 被违反，因此不存在这样的有向图。\n\n为了完整起见，请注意，对于 $n=5$ 的情况，提议的最大入度 $3$ 并不算太大，因为在具有 5 个顶点的无自环有向图中，最大可能的入度是 $4$。因此，障碍恰恰是和不匹配，而不是某个度过大。", "answer": "$$\\boxed{B}$$", "id": "1513062"}, {"introduction": "掌握了图存在性的基本法则后，下一步是练习在明确定义的图结构上计算度。本练习将重点放在一种特殊的图——完全对称有向图 $K_n^*$ 上，它的结构规则而清晰。通过计算图中任意一个顶点的入度和出度，你可以将这些核心概念的定义应用到一个具体的、理想化的模型中，从而加深对它们的理解 [@problem_id:1513071]。", "problem": "在图论中，有向图（digraph）由一个顶点集合和一组有向边组成，其中每条边连接一个有序的顶点对。在有向图的分析中，一个重要的概念是顶点的度。一个顶点的**入度**是指向它的边的数量（入边），而**出度**是它指向外的边的数量（出边）。\n\n考虑一种特殊类型的有向图，称为**完全对称有向图**，记作$K_n^*$。它构建在$n$个顶点的集合上，其中$n \\geq 2$。该有向图是“完全”和“对称”的，因为对于每一对不同的顶点（例如顶点$u$和顶点$v$），既存在一条从$u$指向$v$的边，也存在一条从$v$指向$u$的边。\n\n对于这样一个具有$n$个顶点的完全对称有向图$K_n^*$中的任意一个顶点，它的入度和出度是多少？请选择正确的选项。\n\nA. 入度 = $n$，出度 = $n$\n\nB. 入度 = $n-1$，出度 = $n-1$\n\nC. 入度 = $n-1$，出度 = $0$\n\nD. 入度 = $1$，出度 = $n-1$\n\nE. 入度 = $n(n-1)$，出度 = $n(n-1)$", "solution": "根据顶点集为$V$且$|V|=n$的完全对称有向图$K_{n}^{*}$的定义，对于每对不同的有序顶点$(u,v)$（其中$u \\neq v$），有向边$(u,v)$和$(v,u)$都存在。该定义并不意味着存在自环$(v,v)$。\n\n固定一个任意顶点$v \\in V$。$v$的入度是满足$u \\neq v$且边$(u,v)$存在的顶点$u \\in V$的数量。由于对于每一个$u \\in V \\setminus \\{v\\}$都存在这样一条边，我们有\n$$\n\\deg^{-}(v)=|V \\setminus \\{v\\}|=n-1.\n$$\n类似地，$v$的出度是满足$u \\neq v$且边$(v,u)$存在的顶点$u \\in V$的数量。由于对于每一个$u \\in V \\setminus \\{v\\}$都存在这样一条边，我们有\n$$\n\\deg^{+}(v)=|V \\setminus \\{v\\}|=n-1.\n$$\n因此，对于$K_{n}^{*}$中的任意顶点，其入度为$n-1$，出度也为$n-1$，这对应于选项B。", "answer": "$$\\boxed{B}$$", "id": "1513071"}, {"introduction": "这个练习将挑战你从简单的计算提升到逻辑推断的层次。给定一组顶点的出度和入度，我们能对图的整体结构有哪些确切的了解？这个问题要求你不仅要运用度数总和公式，还要思考源点、汇点的存在性，以及这些度数信息如何影响图的连通性和循环等更复杂的性质。解决这个问题将锻炼你从局部信息推断全局性质的能力，这是高级图论分析和系统设计中的一项关键技能 [@problem_id:1513078]。", "problem": "考虑一个有 4 个顶点的简单有向图（digraph）$G$，其顶点集为 $V = \\{v_1, v_2, v_3, v_4\\}$。简单有向图是指没有自环（从一个顶点到其自身的边），且在任意一对顶点之间，一个给定方向上最多只有一条边。一个顶点的出度是以该顶点为起点的边的数量，而入度是以该顶点为终点的边的数量。\n\n假设构造了一个这样的图 $G$，其四个顶点的出度集合为 $\\{0, 1, 2, 3\\}$，其四个顶点的入度集合也为 $\\{0, 1, 2, 3\\}$。\n\n关于*任何*这样的图 $G$，以下哪个陈述必然为真？\n\nA. 图恰好有 7 条边。\n\nB. 图必须是强连通的。\n\nC. 图必须包含一个长度为 3 的有向环。\n\nD. 图必须恰好有一个入度为 0 的顶点和一个出度为 0 的顶点。\n\nE. 出度为 3 的顶点也必须有 3 的入度。", "solution": "为了确定对于任何具有给定度序列的简单有向图，哪个陈述是必然为真的，我们将基于图论的基本原理来分析每个选项。顶点集是 $V=\\{v_1, v_2, v_3, v_4\\}$。出度集合是 $D^+ = \\{d^+(v) \\mid v \\in V\\} = \\{0, 1, 2, 3\\}$，入度集合是 $D^- = \\{d^-(v) \\mid v \\in V\\} = \\{0, 1, 2, 3\\}$。\n\n首先，我们来确定这样一个图中边的总数 $|E|$。有向图的度数和公式（也称为有向图的握手引理）指出，所有入度之和等于所有出度之和，且这个和等于边的数量。\n$$ \\sum_{v \\in V} d^+(v) = \\sum_{v \\in V} d^-(v) = |E| $$\n使用给定的度数集合，我们可以计算这个和：\n$$ |E| = 0 + 1 + 2 + 3 = 6 $$\n因此，任何这样的图都必须恰好有 6 条边。\n\n现在我们可以评估每个给定的选项。\n\n**选项A：图恰好有 7 条边。**\n如上所计，边的数量必须是 6。因此，这个陈述是错误的。\n\n**选项D：图必须恰好有一个入度为 0 的顶点和一个出度为 0 的顶点。**\n给定的出度集合是 $\\{0, 1, 2, 3\\}$。这意味着四个顶点的出度分别为 0, 1, 2, 和 3。根据定义，恰好有一个顶点的出度为 0。出度为 0 的顶点称为汇点（sink）。\n类似地，给定的入度集合是 $\\{0, 1, 2, 3\\}$。这意味着恰好有一个顶点的入度为 0。入度为 0 的顶点称为源点（source）。\n因此，该图必须恰好有一个源点和一个汇点。这个陈述是必然为真的。\n\n**选项B：图必须是强连通的。**\n一个有向图是强连通的，如果对于每一对不同的有序顶点 $(u, v)$，都存在一条从 $u$ 到 $v$ 的有向路径。正如我们在对选项 D 的分析中确立的，该图必须有一个源点 $s$（其 $d^-(s) = 0$）和一个汇点 $t$（其 $d^+(t) = 0$）。根据定义，图中不可能有从任何其他顶点到源点 $s$ 的路径。同样地，也不可能有从汇点 $t$ 到图中任何其他顶点的路径。在一个多于一个顶点的图中，源点或汇点的存在立即意味着该图不是强连通的。因此，这个陈述是错误的。\n\n**选项C：图必须包含一个长度为 3 的有向环。**\n要检查这是否*必然*为真，我们只需要找到一个不包含长度为 3 的环（或任何环）的此类图的可能构造。让我们尝试构造一个有向无环图（DAG）。\n设顶点为 $\\{v_1, v_2, v_3, v_4\\}$。我们按如下方式分配度数：\n$d^+(v_1)=3, d^+(v_2)=2, d^+(v_3)=1, d^+(v_4)=0$。\n$d^-(v_1)=0, d^-(v_2)=1, d^-(v_3)=2, d^-(v_4)=3$。\n这个分配满足了度数集合的要求。现在我们构造边集 $E$：\n- 从 $v_1$（出度为 3）：添加边 $(v_1, v_2)$、$(v_1, v_3)$、$(v_1, v_4)$。\n- 从 $v_2$（出度为 2）：添加边 $(v_2, v_3)$、$(v_2, v_4)$。\n- 从 $v_3$（出度为 1）：添加边 $(v_3, v_4)$。\n- 从 $v_4$（出度为 0）：没有边。\n让我们检查这个构造的入度：\n$d^-(v_1)=0$（没有入边）。\n$d^-(v_2)=1$（来自 $v_1$）。\n$d^-(v_3)=2$（来自 $v_1, v_2$）。\n$d^-(v_4)=3$（来自 $v_1, v_2, v_3$）。\n入度序列是 $(0, 1, 2, 3)$，这与我们的分配相匹配。根据构造，出度序列也是正确的。该图是简单的。\n在这个图中，所有的边都从顶点 $v_i$ 指向顶点 $v_j$ 且 $i < j$。这样的图必然是无环的。既然我们找到了一个具有给定属性且不包含环的有效图，那么该图就不必包含环。因此，这个陈述是错误的。\n\n**选项E：出度为 3 的顶点也必须有 3 的入度。**\n在选项 C 的反例中，我们构造了一个有效的图，其中顶点 $v_1$ 的出度为 3，但其入度为 0，而不是 3。因此，这个陈述不一定为真。它只描述了一种可能的顶点度数分配，但不是唯一的一种。\n\n根据对所有选项的分析，对于任何满足给定条件的图，只有陈述 D 是必然为真的。", "answer": "$$\\boxed{D}$$", "id": "1513078"}]}