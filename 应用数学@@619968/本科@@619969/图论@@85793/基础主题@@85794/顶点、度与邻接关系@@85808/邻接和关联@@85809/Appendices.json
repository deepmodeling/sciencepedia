{"hands_on_practices": [{"introduction": "学习图论的一个核心技能是将抽象的图结构转化为具体的矩阵表示。邻接矩阵的幂（powers）蕴含着关于图中连通性的深刻信息，其中最基本的一条是：邻接矩阵 $A$ 的平方 $A^2$ 中的元素 $(A^2)_{ij}$ 记录了从顶点 $i$ 到顶点 $j$ 长度为 2 的路径数量。这个练习将通过一个简单的线性网络（路径图）让你亲手计算 $A^2$，从而直观地验证并加深对这一关键概念的理解。[@problem_id:1478819]", "problem": "考虑一个由五个服务器组成的分布式系统，标记为 $S_1, S_2, S_3, S_4, S_5$。这些服务器以线性拓扑结构排列，意味着直接通信链路（一条边）仅存在于相邻服务器之间。具体来说，$S_i$ 与 $S_{i+1}$ 相连，其中 $i=1, 2, 3, 4$。该网络可以建模为一个简单的无向图 $G$，其顶点 $V = \\{v_1, v_2, v_3, v_4, v_5\\}$ 对应于这些服务器。\n\n设 $A$ 是该图 $G$ 的邻接矩阵，其中如果顶点 $v_i$ 和顶点 $v_j$ 之间存在边，则矩阵的项 $A_{ij}$ 为 1，否则为 0。一个“长度为 $k$ 的漫步 (walk)”是一个由 $k+1$ 个顶点组成的序列 $u_0, u_1, \\dots, u_k$，使得对于所有 $i \\in \\{0, \\dots, k-1\\}$，在 $u_i$ 和 $u_{i+1}$ 之间都存在一条边。任意两个顶点 $v_i$ 和 $v_j$ 之间长度为 2 的不同漫步的数量由矩阵 $A^2$ 的第 $(i,j)$ 项给出。\n\n计算矩阵 $M=A^2$。", "solution": "问题要求计算矩阵 $A^2$，其中 $A$ 是一个包含 5 个顶点的路径图（记为 $P_5$）的邻接矩阵。\n\n首先，我们构造图 $G$ 的邻接矩阵 $A$。顶点为 $V = \\{v_1, v_2, v_3, v_4, v_5\\}$。边表示相邻服务器之间的连接，因此边集为 $E = \\{(v_1, v_2), (v_2, v_3), (v_3, v_4), (v_4, v_5)\\}$。由于该图是无向图，邻接矩阵 $A$ 将是​​对称的。\n\n矩阵 $A$ 是一个 $5 \\times 5$ 的矩阵，其中如果 $v_i$ 和 $v_j$ 之间存在边，则 $A_{ij} = 1$，否则 $A_{ij} = 0$。\n- $v_1$ 仅与 $v_2$ 相连。因此，第一行为 $(0, 1, 0, 0, 0)$。\n- $v_2$ 与 $v_1$ 和 $v_3$ 相连。因此，第二行为 $(1, 0, 1, 0, 0)$。\n- $v_3$ 与 $v_2$ 和 $v_4$ 相连。因此，第三行为 $(0, 1, 0, 1, 0)$。\n- $v_4$ 与 $v_3$ 和 $v_5$ 相连。因此，第四行为 $(0, 0, 1, 0, 1)$。\n- $v_5$ 仅与 $v_4$ 相连。因此，第五行为 $(0, 0, 0, 1, 0)$。\n\n组合这些行，邻接矩阵 $A$ 为：\n$$\nA = \\begin{pmatrix}\n0 & 1 & 0 & 0 & 0 \\\\\n1 & 0 & 1 & 0 & 0 \\\\\n0 & 1 & 0 & 1 & 0 \\\\\n0 & 0 & 1 & 0 & 1 \\\\\n0 & 0 & 0 & 1 & 0\n\\end{pmatrix}\n$$\n\n接下来，我们需要计算 $M = A^2 = A \\times A$。$A^2$ 的第 $(i,j)$ 项由 $A$ 的第 $i$ 行与 $A$ 的第 $j$ 列的点积给出。我们将结果矩阵表示为 $M$。\n\n$M_{11} = (0,1,0,0,0) \\cdot (0,1,0,0,0) = 0 \\cdot 0 + 1 \\cdot 1 + 0 \\cdot 0 + 0 \\cdot 0 + 0 \\cdot 0 = 1$\n$M_{12} = (0,1,0,0,0) \\cdot (1,0,1,0,0) = 0 \\cdot 1 + 1 \\cdot 0 + 0 \\cdot 1 + 0 \\cdot 0 + 0 \\cdot 0 = 0$\n$M_{13} = (0,1,0,0,0) \\cdot (0,1,0,1,0) = 0 \\cdot 0 + 1 \\cdot 1 + 0 \\cdot 0 + 0 \\cdot 1 + 0 \\cdot 0 = 1$\n$M_{14} = (0,1,0,0,0) \\cdot (0,0,1,0,1) = 0$\n$M_{15} = (0,1,0,0,0) \\cdot (0,0,0,1,0) = 0$\n因此，$M$ 的第一行为 $(1, 0, 1, 0, 0)$。\n\n$M_{21} = (1,0,1,0,0) \\cdot (0,1,0,0,0) = 0$\n$M_{22} = (1,0,1,0,0) \\cdot (1,0,1,0,0) = 1 \\cdot 1 + 0 \\cdot 0 + 1 \\cdot 1 + 0 \\cdot 0 + 0 \\cdot 0 = 2$\n$M_{23} = (1,0,1,0,0) \\cdot (0,1,0,1,0) = 0$\n$M_{24} = (1,0,1,0,0) \\cdot (0,0,1,0,1) = 1 \\cdot 0 + 0 \\cdot 0 + 1 \\cdot 1 + 0 \\cdot 0 + 0 \\cdot 1 = 1$\n$M_{25} = (1,0,1,0,0) \\cdot (0,0,0,1,0) = 0$\n因此，$M$ 的第二行为 $(0, 2, 0, 1, 0)$。\n\n$M_{31} = (0,1,0,1,0) \\cdot (0,1,0,0,0) = 1$\n$M_{32} = (0,1,0,1,0) \\cdot (1,0,1,0,0) = 0$\n$M_{33} = (0,1,0,1,0) \\cdot (0,1,0,1,0) = 1 \\cdot 1 + 1 \\cdot 1 = 2$\n$M_{34} = (0,1,0,1,0) \\cdot (0,0,1,0,1) = 0$\n$M_{35} = (0,1,0,1,0) \\cdot (0,0,0,1,0) = 1$\n因此，$M$ 的第三行为 $(1, 0, 2, 0, 1)$。\n\n$M_{41} = (0,0,1,0,1) \\cdot (0,1,0,0,0) = 0$\n$M_{42} = (0,0,1,0,1) \\cdot (1,0,1,0,0) = 1$\n$M_{43} = (0,0,1,0,1) \\cdot (0,1,0,1,0) = 0$\n$M_{44} = (0,0,1,0,1) \\cdot (0,0,1,0,1) = 1 \\cdot 1 + 1 \\cdot 1 = 2$\n$M_{45} = (0,0,1,0,1) \\cdot (0,0,0,1,0) = 0$\n因此，$M$ 的第四行为 $(0, 1, 0, 2, 0)$。注意，由于 $A$ 的对称性，$A^2$ 也必须是对称的，因此我们可以使用 $M_{ij} = M_{ji}$ 来填充矩阵的部分。例如，$M_{42}=M_{24}=1$。\n\n最后，对于第五行：\n$M_{51} = (0,0,0,1,0) \\cdot (0,1,0,0,0) = 0$\n$M_{52} = (0,0,0,1,0) \\cdot (1,0,1,0,0) = 0$\n$M_{53} = (0,0,0,1,0) \\cdot (0,1,0,1,0) = 1$\n$M_{54} = (0,0,0,1,0) \\cdot (0,0,1,0,1) = 0$\n$M_{55} = (0,0,0,1,0) \\cdot (0,0,0,1,0) = 1$\n因此，$M$ 的第五行为 $(0, 0, 1, 0, 1)$。\n\n组合成矩阵 $M = A^2$：\n$$\nM = \\begin{pmatrix}\n1 & 0 & 1 & 0 & 0 \\\\\n0 & 2 & 0 & 1 & 0 \\\\\n1 & 0 & 2 & 0 & 1 \\\\\n0 & 1 & 0 & 2 & 0 \\\\\n0 & 0 & 1 & 0 & 1\n\\end{pmatrix}\n$$\n每个项 $M_{ij}$ 代表从顶点 $v_i$ 到 $v_j$ 的长度为 2 的不同漫步的数量。例如，$M_{33}=2$ 表示有两条从 $v_3$ 返回自身的长度为 2 的漫步：$v_3 \\to v_2 \\to v_3$ 和 $v_3 \\to v_4 \\to v_3$。$M_{13}=1$ 表示有一条从 $v_1$ 到 $v_3$ 的长度为 2 的漫步：$v_1 \\to v_2 \\to v_3$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1 & 0 & 1 & 0 & 0 \\\\\n0 & 2 & 0 & 1 & 0 \\\\\n1 & 0 & 2 & 0 & 1 \\\\\n0 & 1 & 0 & 2 & 0 \\\\\n0 & 0 & 1 & 0 & 1\n\\end{pmatrix}\n}\n$$", "id": "1478819"}, {"introduction": "掌握了邻接矩阵幂的计算及其路径计数意义后，我们可以更进一步，利用这些矩阵运算来分析和定义新的图关系。这个练习模拟了一个社交网络场景，要求你基于“共同好友”这一概念（即长度为2的路径）来构建一个全新的“共同好友”关系图。通过这个实践，你将学会如何运用矩阵工具从现有数据中发掘和定义新的结构性关系，这是图论在网络分析中的一个强大应用。[@problem_id:1478796]", "problem": "在一个小社交网络中，有四个人：Alice、Bob、Carol 和 David。这个群体内的友谊关系定义如下：\n- Alice 是 Bob 和 David 的朋友。\n- Bob 是 Alice 和 Carol 的朋友。\n- Carol 是 Bob 和 David 的朋友。\n- David 是 Carol 和 Alice 的朋友。\n- 友谊是一种相互（对称）的关系。\n\n基于现有的友谊关系，定义了一种新的关系，“共友”（co-friend）。两个不同的个体被认为是“共友”，当且仅当他们彼此不是朋友，但至少共享一个共同的朋友。\n\n确定代表这种“共友”关系的图的邻接矩阵。图的顶点应按字母顺序排列：（1）Alice，（2）Bob，（3）Carol，（4）David。在一个邻接矩阵 $A$ 中，如果顶点 $i$ 与顶点 $j$ 相邻，则元素 $A_{ij}$ 为 1，否则为 0。", "solution": "问题要求解的是从“友谊”图派生出的“共友”图的邻接矩阵。我们将友谊图记为 $G_F$，共友图记为 $G_C$。我们将分几步来解决这个问题。\n\n首先，我们构建友谊图的邻接矩阵 $A_F$。顶点排序为 $v_1=$ Alice，$v_2=$ Bob，$v_3=$ Carol 和 $v_4=$ David。如果人 $i$ 和人 $j$ 是朋友，则元素 $A_{F,ij}$ 为 1，否则为 0。根据问题描述：\n- Alice ($v_1$) 是 Bob ($v_2$) 和 David ($v_4$) 的朋友。所以，$A_{F,12} = A_{F,21} = 1$ 且 $A_{F,14} = A_{F,41} = 1$。\n- Bob ($v_2$) 是 Alice ($v_1$) 和 Carol ($v_3$) 的朋友。所以，$A_{F,21} = A_{F,12} = 1$ 且 $A_{F,23} = A_{F,32} = 1$。\n- Carol ($v_3$) 是 Bob ($v_2$) 和 David ($v_4$) 的朋友。所以，$A_{F,32} = A_{F,23} = 1$ 且 $A_{F,34} = A_{F,43} = 1$。\n- David ($v_4$) 是 Carol ($v_3$) 和 Alice ($v_1$) 的朋友。所以，$A_{F,43} = A_{F,34} = 1$ 且 $A_{F,41} = A_{F,14} = 1$。\n所有其他非对角线元素都为 0。由于一个人不能与自己成为朋友，所有对角线元素都为 0。友谊图是一个 4-循环（$C_4$）。\n\n友谊图 $G_F$ 的邻接矩阵是：\n$$A_F = \\begin{pmatrix} 0 & 1 & 0 & 1 \\\\ 1 & 0 & 1 & 0 \\\\ 0 & 1 & 0 & 1 \\\\ 1 & 0 & 1 & 0 \\end{pmatrix}$$\n\n接下来，我们分析“共友”关系的定义。两个不同的个体 $i$ 和 $j$ 是共友，如果：\n1. 他们不是朋友：$A_{F,ij} = 0$。\n2. 他们至少共享一个共同的朋友。\n\n共享一个共同朋友的条件可以解释为图中的路径。$i$ 和 $j$ 之间的一个共同朋友 $k$ 对应于一条形式为 $i-k-j$ 的长度为 2 的路径。图中任意两个顶点 $i$ 和 $j$ 之间长度为 2 的路径数量由其邻接矩阵平方的第 $(i,j)$ 个元素 $(A_F^2)_{ij}$ 给出。因此，“共享至少一个共同朋友”的条件等价于 $(A_F^2)_{ij} > 0$。\n\n我们来计算 $A_F^2$：\n$$A_F^2 = A_F \\times A_F = \\begin{pmatrix} 0 & 1 & 0 & 1 \\\\ 1 & 0 & 1 & 0 \\\\ 0 & 1 & 0 & 1 \\\\ 1 & 0 & 1 & 0 \\end{pmatrix} \\begin{pmatrix} 0 & 1 & 0 & 1 \\\\ 1 & 0 & 1 & 0 \\\\ 0 & 1 & 0 & 1 \\\\ 1 & 0 & 1 & 0 \\end{pmatrix}$$\n$$A_F^2 = \\begin{pmatrix} (1 \\cdot 1 + 1 \\cdot 1) & (1 \\cdot 0 + 1 \\cdot 0) & (1 \\cdot 1 + 1 \\cdot 1) & (1 \\cdot 0 + 1 \\cdot 0) \\\\ (1 \\cdot 0 + 1 \\cdot 0) & (1 \\cdot 1 + 1 \\cdot 1) & (1 \\cdot 0 + 1 \\cdot 0) & (1 \\cdot 1 + 1 \\cdot 1) \\\\ (1 \\cdot 1 + 1 \\cdot 1) & (1 \\cdot 0 + 1 \\cdot 0) & (1 \\cdot 1 + 1 \\cdot 1) & (1 \\cdot 0 + 1 \\cdot 0) \\\\ (1 \\cdot 0 + 1 \\cdot 0) & (1 \\cdot 1 + 1 \\cdot 1) & (1 \\cdot 0 + 1 \\cdot 0) & (1 \\cdot 1 + 1 \\cdot 1) \\end{pmatrix}$$\n$$A_F^2 = \\begin{pmatrix} 2 & 0 & 2 & 0 \\\\ 0 & 2 & 0 & 2 \\\\ 2 & 0 & 2 & 0 \\\\ 0 & 2 & 0 & 2 \\end{pmatrix}$$\n\n现在我们可以构建共友图的邻接矩阵 $A_C$。一个元素 $A_{C,ij}$ 为 1 当且仅当 $i \\neq j$，$A_{F,ij} = 0$，且 $(A_F^2)_{ij} > 0$。否则，$A_{C,ij}=0$。\n\n我们来检查 $i < j$ 的点对 $(i,j)$：\n- **(Alice, Bob), (1,2):** $A_{F,12} = 1$。他们是朋友，所以不是共友。$A_{C,12} = 0$。\n- **(Alice, Carol), (1,3):** $A_{F,13} = 0$。他们不是朋友。$(A_F^2)_{13} = 2 > 0$。他们共享共同的朋友（Bob 和 David）。所以，他们是共友。$A_{C,13} = 1$。\n- **(Alice, David), (1,4):** $A_{F,14} = 1$。他们是朋友，所以不是共友。$A_{C,14} = 0$。\n- **(Bob, Carol), (2,3):** $A_{F,23} = 1$。他们是朋友，所以不是共友。$A_{C,23} = 0$。\n- **(Bob, David), (2,4):** $A_{F,24} = 0$。他们不是朋友。$(A_F^2)_{24} = 2 > 0$。他们共享共同的朋友（Alice 和 Carol）。所以，他们是共友。$A_{C,24} = 1$。\n- **(Carol, David), (3,4):** $A_{F,34} = 1$。他们是朋友，所以不是共友。$A_{C,34} = 0$。\n\n对角线元素 $A_{C,ii}$ 为 0，因为共友的定义是针对不同的个体。由于该关系是对称的，$A_C$ 是一个对称矩阵，即 $A_{C,ij} = A_{C,ji}$。\n- $A_{C,31} = A_{C,13} = 1$。\n- $A_{C,42} = A_{C,24} = 1$。\n- 所有其他非对角线元素都为 0。\n\n所以，共友图 $G_C$ 的邻接矩阵是：\n$$A_C = \\begin{pmatrix} 0 & 0 & 1 & 0 \\\\ 0 & 0 & 0 & 1 \\\\ 1 & 0 & 0 & 0 \\\\ 0 & 1 & 0 & 0 \\end{pmatrix}$$\n这个矩阵代表一个包含两条不相交边的图：一条连接 Alice 和 Carol，另一条连接 Bob 和 David。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0 & 0 & 1 & 0 \\\\\n0 & 0 & 0 & 1 \\\\\n1 & 0 & 0 & 0 \\\\\n0 & 1 & 0 & 0\n\\end{pmatrix}\n}\n$$", "id": "1478796"}, {"introduction": "除了邻接矩阵，关联矩阵是另一种描述图结构的重要工具，它清晰地展示了顶点和边之间的关联关系。这个练习将引导你探索关联矩阵 $M$ 的一个重要性质，即计算 $M$ 与其转置 $M^T$ 的乘积。你会发现，这个看似简单的矩阵运算 $M M^T$ 的结果，直接揭示了图的两个基本属性：各个顶点的度以及顶点之间的邻接关系，这为你提供了分析图结构的又一个有力视角。[@problem_id:1478846]", "problem": "一家小型初创公司“QuantaLink”正在为其四个关键服务器（标记为 $S_1, S_2, S_3,$ 和 $S_4$）设计一个稳健的局域网。该网络架构配置为环形拓扑。具体来说，直接通信链路的建立如下：\n- 一条链路 $e_1$ 连接 $S_1$ 和 $S_2$。\n- 一条链路 $e_2$ 连接 $S_2$ 和 $S_3$。\n- 一条链路 $e_3$ 连接 $S_3$ 和 $S_4$。\n- 一条链路 $e_4$ 连接 $S_4$ 和 $S_1$。\n\n为了分析网络的结构特性，该团队决定使用矩阵表示法。他们构建了该网络的*关联矩阵*，记为 $M$。在该矩阵中，行按顺序对应于服务器（$S_1$ 到 $S_4$），列按顺序对应于通信链路（$e_1$ 到 $e_4$）。该矩阵的元素 $M_{ij}$ 定义为：如果服务器 $i$ 是链路 $j$ 的一个端点，则为 $1$，否则为 $0$。\n\n作为其分析协议的一部分，他们通过将关联矩阵 $M$ 与其转置 $M^T$ 相乘来计算一个新矩阵 $P$。即，$P = M M^T$。根据您对网络配置的理解，确定最终的矩阵 $P$。", "solution": "关联矩阵 $M$ 的元素 $M_{ij}=1$（如果服务器 $S_{i}$ 是链路 $e_{j}$ 的一个端点）和 $M_{ij}=0$（否则）。当行序为 $(S_1, S_2, S_3, S_4)$ 且列序为 $(e_1, e_2, e_3, e_4)$，并给定环形拓扑 $e_1=\\{S_1, S_2\\}$, $e_2=\\{S_2, S_3\\}$, $e_3=\\{S_3, S_4\\}$, $e_4=\\{S_4, S_1\\}$，我们得到\n$$\nM=\\begin{pmatrix}\n1 & 0 & 0 & 1\\\\\n1 & 1 & 0 & 0\\\\\n0 & 1 & 1 & 0\\\\\n0 & 0 & 1 & 1\n\\end{pmatrix}.\n$$\n根据定义，$P=M M^T$，因此每个元素为\n$P_{ij}=\\sum_{k=1}^{4} M_{ik}M_{jk}.$\n这计算了同时与 $S_{i}$ 和 $S_{j}$ 相关联的链路数量。对于 $i=j$，$P_{ii}$ 等于 $S_{i}$ 的度，对于环中的每个服务器，其度均为 $2$。对于 $i\\neq j$，$P_{ij}=1$（如果 $S_{i}$ 和 $S_{j}$ 在环中相邻，即它们共享一条链路），否则 $P_{ij}=0$。在这个 $4$-环中，不相邻的对是 $(S_1, S_3)$ 和 $(S_2, S_4)$。因此，\n$$\nP=\\begin{pmatrix}\n2 & 1 & 0 & 1\\\\\n1 & 2 & 1 & 0\\\\\n0 & 1 & 2 & 1\\\\\n1 & 0 & 1 & 2\n\\end{pmatrix}.\n$$\n直接进行 $M M^T$ 乘法可以验证这些元素（每个非对角的相邻对的点积为 $1$，不相邻的对的点积为 $0$，每行与自身的点积为 $2$）。", "answer": "$$\\boxed{\\begin{pmatrix}2 & 1 & 0 & 1\\\\ 1 & 2 & 1 & 0\\\\ 0 & 1 & 2 & 1\\\\ 1 & 0 & 1 & 2\\end{pmatrix}}$$", "id": "1478846"}]}