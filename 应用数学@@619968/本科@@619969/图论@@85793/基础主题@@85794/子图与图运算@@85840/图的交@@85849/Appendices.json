{"hands_on_practices": [{"introduction": "要真正掌握图交集的概念，最好的方法就是从一个具体的计算问题开始。这个练习模拟了一个常见的场景：在设计网络时，比较两种不同的通信协议，找出它们共有的连接 [@problem_id:1543394]。通过计算两个完全二分图的交集，你将直接应用图交集的定义，并将抽象的集合运算转化为具体图结构的识别。", "problem": "在设计一个分布式计算系统时，一组标记为 $a, b, c, d, e, f$ 的六台服务器需要互联。正在考虑两种不同的网络通信协议，协议1和协议2。每种协议都定义了一组服务器（顶点）对之间的直接、双向连接（边）。服务器的总集合为 $V = \\{a, b, c, d, e, f\\}$。\n\n为了解决本问题，我们将使用以下标准图论定义：\n- 一个图 $G=(V, E)$ 由一个顶点集 $V$ 和一个边集 $E$ 组成，其中每条边是不同顶点的一个无序对。\n- 如果一个图的顶点集可以被划分为两个不相交的集合，例如包含 $m$ 个顶点的 $P_1$ 和包含 $n$ 个顶点的 $P_2$，使得两个顶点之间存在一条边当且仅当一个顶点在 $P_1$ 中而另一个在 $P_2$ 中，则称该图为**完全二分图**，记作 $K_{m,n}$。\n- 两个基于同一顶点集 $V$ 的图 $G_1 = (V, E_1)$ 和 $G_2 = (V, E_2)$ 的**交集**是图 $G_{int} = (V, E_1 \\cap E_2)$。$G_{int}$ 的边正是那些*同时*存在于 $G_1$ 和 $G_2$ 中的边。\n\n由协议1定义的网络，我们称之为图 $G_1$，是一个完全二分图 $K_{3,3}$。顶点集 $V$ 被划分为两个集合 $A_1 = \\{a, b, c\\}$ 和 $B_1 = \\{d, e, f\\}$。\n\n由协议2定义的网络，我们称之为图 $G_2$，是一个完全二分图 $K_{2,4}$。顶点集 $V$ 被划分为两个集合 $A_2 = \\{a, d\\}$ 和 $B_2 = \\{b, c, e, f\\}$。\n\n你的任务是确定两种协议共有的连接总数。换句话说，就是求出交集图 $G_1 \\cap G_2$ 中的边数。", "solution": "我们将二分划分子集标记如下：对于 $G_1$，$A_1=\\{a,b,c\\}$ 和 $B_1=\\{d,e,f\\}$；对于 $G_2$，$A_2=\\{a,d\\}$ 和 $B_2=\\{b,c,e,f\\}$。一条边存在于 $G_1 \\cap G_2$ 中，当且仅当它连接 $A_1$ 中的一个顶点和 $B_1$ 中的一个顶点（$G_1$ 的条件），同时它也连接 $A_2$ 中的一个顶点和 $B_2$ 中的一个顶点（$G_2$ 的条件）。对于无序对，这恰好通过两种互斥的方式发生：\n- 一个端点在 $A_1 \\cap A_2$ 中，另一个端点在 $B_1 \\cap B_2$ 中，\n- 或者一个端点在 $A_1 \\cap B_2$ 中，另一个端点在 $B_1 \\cap A_2$ 中。\n因此，公共边的数量为\n$$\n|E(G_1 \\cap G_2)|=|A_1 \\cap A_2|\\cdot|B_1 \\cap B_2|+|A_1 \\cap B_2|\\cdot|B_1 \\cap A_2|.\n$$\n计算这些交集：\n$$\nA_1 \\cap A_2=\\{a\\},\\quad B_1 \\cap B_2=\\{e,f\\},\\quad A_1 \\cap B_2=\\{b,c\\},\\quad B_1 \\cap A_2=\\{d\\}.\n$$\n因此\n$$\n|E(G_1 \\cap G_2)|=1\\cdot 2+2\\cdot 1=4.\n$$\n直接枚举可以证实这一点：公共边为 $\\{a,e\\},\\{a,f\\},\\{b,d\\},\\{c,d\\}$，总共有 $4$ 条。", "answer": "$$\\boxed{4}$$", "id": "1543394"}, {"introduction": "图的运算常常引出一个深刻的问题：原始图所具有的性质（如连通性、无环等）在运算后是否仍然保持？这个练习将引导你探索一个非常有趣的反例 [@problem_id:1543451]。你将看到，即使两个图都具有很强的连通性（2-顶点连通），它们的交集图却可能变得“脆弱”，出现割点。这个问题揭示了图交集运算的微妙之处，并深化了你对图连通性概念的理解。", "problem": "在图论中，我们可以根据图的结构和连通性定义多个性质。如果一个图的顶点数多于 $k$ ，且在移除少于 $k$ 个顶点后图仍然保持连通，则称该图为 **$k$-顶点连通**的。一个**割点**（也称为关节点）是图中的一个顶点，移除该顶点会增加图的连通分量的数量。共享相同顶点集 $V$ 的两个图 $G_1 = (V, E_1)$ 和 $G_2 = (V, E_2)$ 的**交**定义为图 $G_{int} = (V, E_1 \\cap E_2)$。\n\n考虑顶点集 $V = \\{v_1, v_2, v_3, v_4, v_5\\}$。下列哪对图 $(G_1, G_2)$ 满足以下所有三个条件？\n1.  $G_1$ 是 2-顶点连通的。\n2.  $G_2$ 是 2-顶点连通的。\n3.  交图 $G_1 \\cap G_2$ 至少有一个割点。\n\nA.\n$G_1$ 的边集为 $E_1 = \\{(v_1,v_2), (v_2,v_3), (v_3,v_1), (v_3,v_4), (v_4,v_5), (v_5,v_3), (v_1,v_4)\\}$。\n$G_2$ 的边集为 $E_2 = \\{(v_1,v_2), (v_2,v_3), (v_3,v_1), (v_3,v_4), (v_4,v_5), (v_5,v_3), (v_2,v_5)\\}$。\n\nB.\n$G_1$ 的边集为 $E_1 = \\{(v_1,v_2), (v_2,v_3), (v_3,v_4), (v_4,v_5), (v_5,v_1)\\}$。\n$G_2$ 的边集为 $E_2 = \\{(v_1,v_2), (v_2,v_3), (v_3,v_4), (v_4,v_5), (v_5,v_1)\\}$。\n\nC.\n$G_1$ 的边集为 $E_1 = \\{(v_1,v_2), (v_2,v_3), (v_3,v_1), (v_3,v_4), (v_4,v_5), (v_5,v_3)\\}$。\n$G_2$ 的边集 $E_2$ 对应于顶点集 $V$ 上的完全图 $K_5$。\n\nD.\n$G_1$ 的边集为 $E_1 = \\{(v_1,v_2), (v_2,v_3), (v_3,v_4), (v_4,v_1), (v_1,v_3), (v_2,v_4), (v_5,v_1), (v_5,v_2)\\}$。\n$G_2$ 的边集为 $E_2 = \\{(v_1,v_2), (v_2,v_3), (v_3,v_4), (v_4,v_1), (v_5,v_3), (v_5,v_4)\\}$。", "solution": "我们使用给定的定义：\n- 如果一个图有超过2个顶点，并且在移除任意单个顶点后仍然保持连通，则该图是2-顶点连通的。\n- 割点是移除后会增加连通分量数量的顶点。\n- $G_1=(V,E_1)$ 和 $G_2=(V,E_2)$ 的交是 $(V,E_1\\cap E_2)$。\n\n我们逐一检验每个选项。\n\n选项 B：\n- $G_1$ 和 $G_2$ 都是 5-圈 $C_5$，它是 2-顶点连通的，因为移除任何一个顶点都会留下一个包含4个顶点的路径，该路径是连通的。\n- $G_1 \\cap G_2 = C_5$。圈没有割点，因为移除任何单个顶点都会留下一个连通的路径。条件3不满足。因此B是无效的。\n\n选项 C：\n- $G_2 = K_5$ 是 4-顶点连通的，因此也是 2-顶点连通的。\n- $G_1$ 的边为 $\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_3,v_4),(v_4,v_5),(v_5,v_3)\\}$，它们是两个仅共享顶点 $v_3$ 的三角形 $v_1v_2v_3$ 和 $v_3v_4v_5$。移除 $v_3$ 会使图断开（一个分量在 $\\{v_1,v_2\\}$ 上，边为 $(v_1,v_2)$；另一个分量在 $\\{v_4,v_5\\}$ 上，边为 $(v_4,v_5)$）。因此 $G_1$ 不是 2-顶点连通的。因此C是无效的。\n\n选项 D：\n- $G_1$ 包含一个在 $\\{v_1,v_2,v_3,v_4\\}$ 上的 $K_4$ 再加上边 $(v_5,v_1)$ 和 $(v_5,v_2)$。移除任意单个顶点都会留下一个连通的图：\n  - 移除 $v_1$：$\\{v_2,v_3,v_4\\}$ 导出一个 $K_3$，$v_5$ 与 $v_2$ 相邻，所以是连通的。\n  - 移除 $v_2$：与前一种情况对称。\n  - 移除 $v_3$ 或 $v_4$：$\\{v_1,v_2,v_4\\}$ 或 $\\{v_1,v_2,v_3\\}$ 导出一个 $K_3$，$v_5$ 仍然与 $v_1, v_2$ 相邻，所以是连通的。\n  - 移除 $v_5$：$K_4$ 仍然是连通的。\n  因此 $G_1$ 是 2-顶点连通的。\n- $G_2$ 的边为 $\\{(v_1,v_2),(v_2,v_3),(v_3,v_4),(v_4,v_1),(v_5,v_3),(v_5,v_4)\\}$。移除任何单个顶点都使其保持连通（对 $v_1,v_2,v_3,v_4,v_5$ 进行直接验证表明剩余的图是连通的），所以 $G_2$ 是 2-顶点连通的。\n- 交集：$E_1 \\cap E_2=\\{(v_1,v_2),(v_2,v_3),(v_3,v_4),(v_4,v_1)\\}$，即在 $\\{v_1,v_2,v_3,v_4\\}$ 上的 4-圈，而 $v_5$ 是孤立的。这个图最初有两个连通分量；移除任何 $i\\in\\{1,2,3,4\\}$ 的 $v_i$ 会得到一个三个顶点的路径加上孤立的 $v_5$，仍然是两个分量；移除 $v_5$ 会减少连通分量的数量。因此没有任何移除操作会增加连通分量的数量，所以没有割点。条件3不满足。因此D是无效的。\n\n选项 A：\n- $G_1$ 的边为 $E_1=\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_3,v_4),(v_4,v_5),(v_5,v_3),(v_1,v_4)\\}$。\n  通过移除每个顶点来检查其是否为 2-顶点连通：\n  - 移除 $v_1$：剩下的边 $\\{(v_2,v_3),(v_3,v_4),(v_4,v_5),(v_5,v_3)\\}$ 构成一个连通图（三角形 $v_3v_4v_5$ 加上附着在 $v_3$ 上的 $v_2$）。\n  - 移除 $v_2$：剩下的边 $\\{(v_1,v_3),(v_3,v_4),(v_4,v_5),(v_5,v_3),(v_1,v_4)\\}$ 导出一个连通图。\n  - 移除 $v_3$：剩下的边 $\\{(v_1,v_2),(v_1,v_4),(v_4,v_5)\\}$ 通过 $v_1$–$v_4$–$v_5$ 和 $v_1$–$v_2$ 连接所有四个顶点。\n  - 移除 $v_4$：剩下的边 $\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_5,v_3)\\}$ 是连通的（三角形 $v_1v_2v_3$ 加上附着在 $v_3$ 上的 $v_5$）。\n  - 移除 $v_5$：剩下的边 $\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_3,v_4),(v_1,v_4)\\}$ 是连通的。\n  因此 $G_1$ 是 2-顶点连通的。\n- $G_2$ 的边为 $E_2=\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_3,v_4),(v_4,v_5),(v_5,v_3),(v_2,v_5)\\}$。\n  移除每个顶点：\n  - 移除 $v_1$：剩下的边 $\\{(v_2,v_3),(v_3,v_4),(v_4,v_5),(v_5,v_3),(v_2,v_5)\\}$ 连接所有顶点。\n  - 移除 $v_2$：剩下的边 $\\{(v_1,v_3),(v_3,v_4),(v_4,v_5),(v_5,v_3)\\}$ 连接所有顶点。\n  - 移除 $v_3$：剩下的边 $\\{(v_1,v_2),(v_2,v_5),(v_4,v_5)\\}$ 通过 $v_1$–$v_2$–$v_5$–$v_4$ 连接所有顶点。\n  - 移除 $v_4$：剩下的边 $\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_5,v_3),(v_2,v_5)\\}$ 连接所有顶点。\n  - 移除 $v_5$：剩下的边 $\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_3,v_4)\\}$ 连接所有顶点。\n  因此 $G_2$ 是 2-顶点连通的。\n- 交集：$E_1 \\cap E_2=\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_3,v_4),(v_4,v_5),(v_5,v_3)\\}$，这是两个共享顶点 $v_3$ 的三角形 $v_1v_2v_3$ 和 $v_3v_4v_5$。这个图是连通的，移除 $v_3$ 后会留下两个连通分量，它们的边集分别为 $\\{(v_1,v_2)\\}$ 和 $\\{(v_4,v_5)\\}$，这增加了连通分量的数量。因此 $v_3$ 是一个割点，所以条件3成立。\n\n因此，只有选项 A 满足所有三个条件。", "answer": "$$\\boxed{A}$$", "id": "1543451"}, {"introduction": "准备好迎接一个更具挑战性的问题了吗？这个练习将图交集与极值图论的思想结合起来 [@problem_id:1543428]。你不仅要构造满足特定条件的图，还要在这些限制下，最大化它们交集中的边数。解决这个问题需要你超越简单的计算，去思考图结构的内在限制（例如不包含长度为3的路径 $P_4$），这对于培养高级的图论问题解决能力至关重要。", "problem": "在图论中，简单图是一个没有自环或任意两个顶点之间没有重边的无向图。定义在同一顶点集 $V$ 上的两个图 $G_1 = (V, E_1)$ 和 $G_2 = (V, E_2)$ 的交是指图 $G_{int} = (V, E_1 \\cap E_2)$。长度为 $k$ 的路径定义为一个由 $k+1$ 个不同顶点（例如 $v_0, v_1, \\dots, v_k$）组成的序列，使得对于所有的 $i=1, \\dots, k$，$\\{v_{i-1}, v_i\\}$ 都是一条边。\n\n考虑两个简单图 $G_1$ 和 $G_2$，它们都定义在一个包含 6 个顶点的公共顶点集 $V$ 上。这两个图的构造满足以下准则：\n1.  图 $G_1$ 包含至少一条长度为 4 的路径。\n2.  图 $G_2$ 也包含至少一条长度为 4 的路径。\n3.  它们的交图 $G_{int}$ 不包含长度为 3 的路径。\n\n交图 $G_{int}$ 中可能的最大边数是多少？", "solution": "设 $V$ 是一个包含 $6$ 个顶点的集合，且设 $G_1=(V,E_1)$，$G_2=(V,E_2)$，其交为 $G_{int}=(V,E_1 \\cap E_2)$。约束条件如下：\n- $G_1$ 包含一条长度为 $4$ 的路径（一个 $P_5$），\n- $G_2$ 包含一条长度为 $4$ 的路径，\n- $G_{int}$ 不包含长度为 $3$ 的路径（即没有 $P_4$ 作为子图）。\n\n为了最大化 $|E_1 \\cap E_2|$，我们必须在一个包含 6 个顶点且不含 $P_4$ 作为（不一定是导出的）子图的图中，最大化其边数。我们来分析不含 $P_4$ 的图的结构。\n\n断言：如果一个连通图 $H$ 至少有 $4$ 个顶点且不含 $P_4$ 作为子图，那么 $H$ 是一个星形图 $K_{1,t}$，其中 $t\\geq 3$。\n证明：设 $H$ 是一个连通图，且 $|V(H)|\\geq 4$ 并且不含 $P_4$。如果 $H$ 包含一个圈，那么它必然包含一个 $C_3$ 或更大的圈。一个 $C_4$ 或更大的圈会包含一个 $P_4$，所以唯一允许的圈是 $C_3$。但是，一个三角形加上任何一个连接到该连通分量的额外顶点都会产生一个 $P_4$：如果 $abc$ 是一个三角形，而 $x$ 是另一个顶点，与（比如说）$a$ 相邻，那么路径 $x-a-b-c$ 使用了边 $xa$、$ab$ 和 $bc$，构成一个 $P_4$，这与假设矛盾。因此，任何至少有 $4$ 个顶点的连通分量都不能包含圈，所以它是一棵树。一棵至少有 $4$ 个顶点但不是星形图的树，会包含一个有 4 个顶点的路径，即一个 $P_4$，因为任何非星形树的最长路径长度至少为 3 条边。因此，唯一至少有 $4$ 个顶点且不含 $P_4$ 的连通图是星形图 $K_{1,t}$。\n\n根据这个特征，任何在 6 个顶点上的无 $P_4$ 图都是一些连通分量的不交并，其中每个连通分量是以下之一：\n- 一个星形图 $K_{1,t}$，其中 $t\\geq 1$（当 $t=1$ 时为一条边，当 $t=2$ 时为一条有 3 个顶点的路径），\n- 一个三角形 $K_3$，\n- 一个孤立顶点。\n\n对于一个有 $n$ 个顶点的连通分量，在不产生 $P_4$ 的前提下，可能的最大边数是：\n- $n=3$ 时为 $3$（三角形 $K_3$），\n- $n=2$ 时为 $1$（一条边），\n- $n=1$ 时为 $0$（孤立顶点），\n- 对于 $t+1$ 个顶点上的星形图 $K_{1,t}$，为 $t$。\n\n我们在这些约束下，最大化 6 个顶点上的总边数。最佳的组合是两个不交的三角形，这使用了 $3+3=6$ 个顶点，共有 $3+3=6$ 条边，并且是无 $P_4$ 的，因为任何路径都局限于一个三角形内部，而一个三角形没有长度为 3 的路径。任何在 6 个顶点上且无 $P_4$ 的连通分量必须是星形图 $K_{1,5}$，它有 5 条边，这个数量严格更小。将 6 个顶点划分为其他大小的连通分量，最多只能得到 5 条边：\n- 划分成 $3+2+1$ 最多得到 $3+1=4$ 条边，\n- 划分成 $4+1+1$ 最多得到 3 或 4 条边，取决于这个 4 顶点的分量是否为 $K_{1,3}$，\n- 划分成 $5+1$ 最多得到 5 条边（$K_{1,4}$），\n- 划分成 $6$ 最多得到 5 条边（$K_{1,5}$）。\n\n因此，一个 6 顶点无 $P_4$ 图的最大可能边数为 6，这可以通过两个不交的三角形的并集来实现。\n\n剩下的工作是检验这个方案是否满足对 $G_1$ 和 $G_2$ 的额外要求。设 $V=\\{1,2,3,4,5,6\\}$ 并令\n$$\nE_1 \\cap E_2=\\{\\{1,2\\},\\{2,3\\},\\{3,1\\},\\{4,5\\},\\{5,6\\},\\{6,4\\}\\},\n$$\n即两个不交的三角形 $\\{1,2,3\\}$ 和 $\\{4,5,6\\}$。定义\n$$\nE_1= (E_1 \\cap E_2) \\cup \\{\\{3,4\\}\\}, \\quad E_2= (E_1 \\cap E_2) \\cup \\{\\{1,6\\}\\}.\n$$\n那么 $G_{int}$ 恰好有 6 条边且是无 $P_4$ 的。此外，$G_1$ 包含路径 $1-2-3-4-5$（边为 $\\{1,2\\}$、$\\{2,3\\}$、$\\{3,4\\}$、$\\{4,5\\}$），而 $G_2$ 包含路径 $3-2-1-6-5$（边为 $\\{3,2\\}$、$\\{2,1\\}$、$\\{1,6\\}$、$\\{6,5\\}$），因此 $G_1$ 和 $G_2$ 都包含一条长度为 4 的路径。因此，上界 6 是可以达到的。\n\n所以，交图 $G_{int}$ 中可能的最大边数是 6。", "answer": "$$\\boxed{6}$$", "id": "1543428"}]}