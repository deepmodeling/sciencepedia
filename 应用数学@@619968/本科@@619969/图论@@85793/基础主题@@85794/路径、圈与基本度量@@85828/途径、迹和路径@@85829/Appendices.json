{"hands_on_practices": [{"introduction": "在分析网络连通性和信息流动时，计算两个节点之间可能存在的“漫游” (walk) 数量是一项基本任务。这个练习将让你直接应用“漫游”的定义——即顶点和边都可以重复经过的序列。通过解决这个问题，你将练习一种系统性的迭代计数方法，这是图算法中一种基础而强大的技巧。[@problem_id:1554838]", "problem": "在一个小型研究机构中，六台标记为 $S_1, S_2, S_3, S_4, S_5, S_6$ 的服务器相互连接，形成一个局域网。以下服务器对之间存在直接的双向通信链路：\n- $(S_1, S_2)$\n- $(S_1, S_3)$\n- $(S_1, S_4)$\n- $(S_2, S_4)$\n- $(S_3, S_4)$\n- $(S_3, S_5)$\n- $(S_4, S_6)$\n- $(S_5, S_6)$\n\n一条“长度为 $k$ 的通信路径”被定义为一个由 $k+1$ 台服务器组成的序列 $v_0, v_1, \\dots, v_k$，使得对于从 $0$ 到 $k-1$ 的每个 $i$，服务器 $v_i$ 和服务器 $v_{i+1}$ 之间都存在直接链路。请注意，在一条路径中，服务器和链路可以被重复使用。\n\n确定从服务器 $S_1$ 开始、到服务器 $S_6$ 结束的长度为 4 的不同通信路径的总数。", "solution": "将网络建模为一个无向图，其顶点为 $S_{1},\\dots,S_{6}$，边如题所给。设 $N(S_{v})$ 表示 $S_{v}$ 的邻居集合：\n$$\n\\begin{aligned}\n&N(S_{1})=\\{S_{2},S_{3},S_{4}\\},\\quad N(S_{2})=\\{S_{1},S_{4}\\},\\quad N(S_{3})=\\{S_{1},S_{4},S_{5}\\},\\\\\n&N(S_{4})=\\{S_{1},S_{2},S_{3},S_{6}\\},\\quad N(S_{5})=\\{S_{3},S_{6}\\},\\quad N(S_{6})=\\{S_{4},S_{5}\\}.\n\\end{aligned}\n$$\n定义 $f_{k}(S_{v})$ 为从 $S_1$ 到 $S_v$ 的长度为 $k$ 的路径数量。初始条件为 $f_{0}(S_{1})=1$ 以及当 $v\\neq 1$ 时 $f_{0}(S_{v})=0$。递推关系为\n$$\nf_{k+1}(S_{v})=\\sum_{u\\in N(S_{v})} f_{k}(S_{u}).\n$$\n迭代计算。\n\n当 $k=1$ 时：\n$$\n\\begin{aligned}\n&f_{1}(S_{1})=f_{0}(S_{2})+f_{0}(S_{3})+f_{0}(S_{4})=0,\\\\\n&f_{1}(S_{2})=f_{0}(S_{1})+f_{0}(S_{4})=1,\\\\\n&f_{1}(S_{3})=f_{0}(S_{1})+f_{0}(S_{4})+f_{0}(S_{5})=1,\\\\\n&f_{1}(S_{4})=f_{0}(S_{1})+f_{0}(S_{2})+f_{0}(S_{3})+f_{0}(S_{6})=1,\\\\\n&f_{1}(S_{5})=f_{0}(S_{3})+f_{0}(S_{6})=0,\\\\\n&f_{1}(S_{6})=f_{0}(S_{4})+f_{0}(S_{5})=0.\n\\end{aligned}\n$$\n\n当 $k=2$ 时：\n$$\n\\begin{aligned}\n&f_{2}(S_{1})=f_{1}(S_{2})+f_{1}(S_{3})+f_{1}(S_{4})=3,\\\\\n&f_{2}(S_{2})=f_{1}(S_{1})+f_{1}(S_{4})=1,\\\\\n&f_{2}(S_{3})=f_{1}(S_{1})+f_{1}(S_{4})+f_{1}(S_{5})=1,\\\\\n&f_{2}(S_{4})=f_{1}(S_{1})+f_{1}(S_{2})+f_{1}(S_{3})+f_{1}(S_{6})=2,\\\\\n&f_{2}(S_{5})=f_{1}(S_{3})+f_{1}(S_{6})=1,\\\\\n&f_{2}(S_{6})=f_{1}(S_{4})+f_{1}(S_{5})=1.\n\\end{aligned}\n$$\n\n当 $k=3$ 时：\n$$\n\\begin{aligned}\n&f_{3}(S_{1})=f_{2}(S_{2})+f_{2}(S_{3})+f_{2}(S_{4})=4,\\\\\n&f_{3}(S_{2})=f_{2}(S_{1})+f_{2}(S_{4})=5,\\\\\n&f_{3}(S_{3})=f_{2}(S_{1})+f_{2}(S_{4})+f_{2}(S_{5})=6,\\\\\n&f_{3}(S_{4})=f_{2}(S_{1})+f_{2}(S_{2})+f_{2}(S_{3})+f_{2}(S_{6})=6,\\\\\n&f_{3}(S_{5})=f_{2}(S_{3})+f_{2}(S_{6})=2,\\\\\n&f_{3}(S_{6})=f_{2}(S_{4})+f_{2}(S_{5})=3.\n\\end{aligned}\n$$\n\n当 $k=4$ 时：\n$$\n\\begin{aligned}\n&f_{4}(S_{1})=f_{3}(S_{2})+f_{3}(S_{3})+f_{3}(S_{4})=17,\\\\\n&f_{4}(S_{2})=f_{3}(S_{1})+f_{3}(S_{4})=10,\\\\\n&f_{4}(S_{3})=f_{3}(S_{1})+f_{3}(S_{4})+f_{3}(S_{5})=12,\\\\\n&f_{4}(S_{4})=f_{3}(S_{1})+f_{3}(S_{2})+f_{3}(S_{3})+f_{3}(S_{6})=18,\\\\\n&f_{4}(S_{5})=f_{3}(S_{3})+f_{3}(S_{6})=9,\\\\\n&f_{4}(S_{6})=f_{3}(S_{4})+f_{3}(S_{5})=8.\n\\end{aligned}\n$$\n因此，从 $S_{1}$ 到 $S_{6}$ 的长度为 4 的通信路径数量为 $f_{4}(S_{6})=8$。", "answer": "$$\\boxed{8}$$", "id": "1554838"}, {"introduction": "从允许重复的“漫游”概念，我们现在转向更为严格的“路径” (path) 概念，其中顶点不能重复。这个练习是一个有趣的思维实验，要求我们构建一个具有特定属性的图，它突出了两点之间的最短距离与最长简单路径之间的巨大差异。解决这个问题需要创造性思维以及对图结构如何决定路径属性的深刻理解。[@problem_id:1554812]", "problem": "在图论中，简单图是一个不含自环或重边的无权无向图。两个顶点之间的一条路径，是一个由不同的边组成的序列，这些边连接着一系列不同的顶点。路径的长度是它所包含的边的数量。如果一个图中任意两个顶点之间至少存在一条路径，则该图是连通的。\n\n考虑一个包含两个不同顶点（我们称之为 $u$ 和 $v$）的简单连通图 $G$。令 $d(u,v)$ 为 $u$ 和 $v$ 之间最短路径的长度，令 $L(u,v)$ 为 $u$ 和 $v$ 之间最长路径的长度。\n\n对于一个图 $G$，要使其存在一对顶点 $(u,v)$，满足最长路径的长度恰好是最短路径长度的三倍，即 $L(u,v) = 3 \\cdot d(u,v)$，所需的最小顶点数是多少？", "solution": "我们在寻找一个简单连通图中的最小顶点数，该图允许存在顶点 $u,v$ 满足 $L(u,v)=3\\,d(u,v)$，其中 $d(u,v)$ 是 $u$-$v$ 最短路径的长度，而 $L(u,v)$ 是 $u$-$v$ 最长简单路径的长度。\n\n首先，通过检查拥有 $n\\leq 3$ 个顶点的图来确定一个下界：\n- 对于 $n=2$，唯一的连通简单图是一条边。对于其两个顶点 $u,v$，有 $d(u,v)=1$ 且 $L(u,v)=1$，因此 $L(u,v)\\neq 3\\,d(u,v)$。\n- 对于 $n=3$，连通的简单图是路径 $P_{3}$ 和环 $C_{3}$。\n  - 在 $P_{3}$ 中，对于其端点 $u,v$，路径是唯一的，因此 $d(u,v)=L(u,v)=2$。对于 $P_{3}$ 中的相邻顶点，$d(u,v)=L(u,v)=1$。没有一对顶点满足 $L(u,v)=3\\,d(u,v)$。\n  - 在 $C_{3}$ 中，对于任意一对顶点 $u,v$，存在两条长度分别为 $1$ 和 $2$ 的 $u$-$v$ 路径。因此 $d(u,v)=1$ 且 $L(u,v)=2$，得出 $L(u,v)=2\\,d(u,v)\\neq 3\\,d(u,v)$。\n因此，没有顶点数 $n\\leq 3$ 的图满足 $L(u,v)=3\\,d(u,v)$；所以 $n\\geq 4$ 是必要的。\n\n接下来，证明当 $n=4$ 时是可行的：\n考虑一个环 $C_{4}$，其顶点按顺序标记为 $v_{1},v_{2},v_{3},v_{4}$。选择相邻的顶点 $u=v_{1}$ 和 $v=v_{2}$。存在两条简单的 $u$-$v$ 路径：长度为 $1$ 的边 $(v_{1},v_{2})$，以及长度为 $3$ 的另一条路径 $v_{1}\\to v_{4}\\to v_{3}\\to v_{2}$。因此 $d(u,v)=1$。因为在一个有 $4$ 个顶点的图中，一条简单的 $u$-$v$ 路径不能超过 $3$ 条边，所以我们有 $L(u,v)=3$。因此，对于这个有 $n=4$ 个顶点的图，$L(u,v)=3\\,d(u,v)$ 成立。\n\n结合下界和这个构造，所需的最小顶点数是 $4$。", "answer": "$$\\boxed{4}$$", "id": "1554812"}, {"introduction": "现在，我们将路径的概念扩展到加权图 (weighted graphs)，其中每条边都有一个相关的“成本”。这个问题模拟了一个边际成本不均匀的电信网络。它揭示了一种比标准算法（如 Dijkstra 算法）更优雅的解法：通过识别权重中的隐藏结构，并利用“势函数”(potential function) 的思想，我们可以几乎瞬间求得最短路径的成本。[@problem_id:1554840]", "problem": "考虑一个旨在模拟电信网络的加权网格图。网络节点由图的顶点表示，连接由带有关联成本的边表示。顶点集由 $V = \\{(i,j) \\mid i, j \\in \\mathbb{Z}, 1 \\leq i \\leq 4, 1 \\leq j \\leq 4\\}$ 给出。两个顶点 $(i,j)$ 和 $(i',j')$ 之间存在一条边，当且仅当 $|i-i'| + |j-j'| = 1$。\n\n穿过边的成本与位置相关。顶点 $(i,j)$ 和顶点 $(i+1,j)$ 之间的水平连接成本等于它们共享的纵坐标 $j$。顶点 $(i,j)$ 和顶点 $(i,j+1)$ 之间的垂直连接成本等于它们共享的横坐标 $i$。\n\n在此图中，一条路径的总长度定义为沿该路径的所有边的成本之和。确定从顶点 $(1,1)$ 到对角线相对的顶点 $(4,4)$ 的最短路径长度（即最小总成本）。你的最终答案应该是一个整数。", "solution": "我们将边的成本形式化，并构造一个势函数，使得这些成本与该势函数的精确差分相匹配，从而使路径长度与所选路线无关。\n\n设从 $(1,1)$ 到 $(4,4)$ 的一条路径为 $P=(v_{0},v_{1},\\dots,v_{k})$，其中 $v_{0}=(1,1)$ 且 $v_{k}=(4,4)$，并且每对连续顶点 $v_{t-1},v_{t}$ 相邻，因此 $|i-i'|+|j-j'|=1$。定义函数\n$$\nf(i,j)=ij.\n$$\n我们验证每条边的成本等于 $f$ 在该边上的差值：\n- 对于水平移动 $(i,j)\\to(i+1,j)$，给定的成本为 $j$，且\n$$\nf(i+1,j)-f(i,j)=(i+1)j-ij=j.\n$$\n- 对于垂直移动 $(i,j)\\to(i,j+1)$，给定的成本为 $i$，且\n$$\nf(i,j+1)-f(i,j)=i(j+1)-ij=i.\n$$\n因此，对于路径上的每一步 $t$，\n$$\n\\text{cost}(v_{t-1}\\to v_{t})=f(v_{t})-f(v_{t-1}).\n$$\n对整个路径求和，\n$$\nL(P)=\\sum_{t=1}^{k}\\text{cost}(v_{t-1}\\to v_{t})=\\sum_{t=1}^{k}\\bigl(f(v_{t})-f(v_{t-1})\\bigr)=f(v_{k})-f(v_{0}),\n$$\n通过裂项相消法。因此，总成本与路径无关，等于\n$$\nf(4,4)-f(1,1)=16-1=15.\n$$\n因此，从 $(1,1)$ 到 $(4,4)$ 的每条路径的总成本均为 $15$，所以可能的最小成本是 $15$。", "answer": "$$\\boxed{15}$$", "id": "1554840"}]}