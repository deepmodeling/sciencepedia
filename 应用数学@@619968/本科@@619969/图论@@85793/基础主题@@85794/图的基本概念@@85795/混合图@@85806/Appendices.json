{"hands_on_practices": [{"introduction": "理解如何表示一个图是分析它的第一步。本练习将侧重于将混合图的矩阵表示形式转化为直观的理解，并应用此理解来寻找两个节点之间的最短路径。这种实践对于培养从计算角度看待图遍历算法至关重要。[@problem_id:1522668]", "problem": "一个混合图 $G$ 由一个顶点集 $V$、一个有向边（称为弧）集和一个无向边集组成。考虑一个顶点集为 $V = \\{1, 2, 3, 4, 5\\}$ 的混合图。该图的连通性由一个 $5 \\times 5$ 矩阵 $M$ 描述，其中第 $i$ 行第 $j$ 列的元素 $M_{ij}$ 定义如下：\n- 若存在从顶点 $i$ 到顶点 $j$ 的有向弧，则 $M_{ij} = 1$。\n- 若顶点 $i$ 和顶点 $j$ 之间存在无向边，则 $M_{ij} = 2$。\n- 若从 $i$ 到 $j$ 不存在上述类型的直接连接，则 $M_{ij} = 0$。\n\n矩阵 $M$ 如下所示：\n$$\nM = \\begin{pmatrix}\n0 & 1 & 2 & 0 & 1 \\\\\n0 & 0 & 1 & 2 & 0 \\\\\n2 & 0 & 0 & 1 & 1 \\\\\n0 & 2 & 0 & 0 & 2 \\\\\n0 & 0 & 1 & 2 & 0\n\\end{pmatrix}\n$$\n图中的*混合游走*是一个顶点序列 $v_0, v_1, \\dots, v_k$，使得对于从 $v_i$ 到 $v_{i+1}$ 的每一步（其中 $0 \\le i < k$），要么存在一个有向弧 $(v_i, v_{i+1})$，要么存在一个无向边 $\\{v_i, v_{i+1}\\}$。这种游走的*长度*定义为 $k$，即步数。\n\n从顶点 1 到顶点 4 的最短混合游走长度是多少？", "solution": "在混合游走中，当且仅当 $M_{ij} \\in \\{1,2\\}$ 时，才允许从顶点 $i$ 走到顶点 $j$。从顶点 $1$ 出发，一步可达的邻接点是\n$$\nN_{1}=\\{j\\in V:\\,M_{1j} \\in \\{1,2\\}\\}=\\{2,3,5\\}.\n$$\n由于 $M_{14}=0$，我们有 $4 \\notin N_{1}$，所以任何从 $1$ 到 $4$ 的混合游走长度至少为 $2$。\n\n要检查是否存在长度为 $2$ 的游走，我们需要找到某个 $x \\in V$，使得 $M_{1x} \\in \\{1,2\\}$ 且 $M_{x4} \\in \\{1,2\\}$。检验 $x \\in N_{1}$：\n- 对于 $x=2$：$M_{12}=1$ 且 $M_{24}=2$，因此 $1 \\to 2 \\to 4$ 是有效的。\n- 对于 $x=3$：$M_{13}=2$ 且 $M_{34}=1$，因此 $1 \\to 3 \\to 4$ 是有效的。\n- 对于 $x=5$：$M_{15}=1$ 且 $M_{54}=2$，因此 $1 \\to 5 \\to 4$ 是有效的。\n\n因此，存在长度为 $2$ 的混合游走，并且由于不存在长度为 $1$ 的游走，所以最短长度为 $2$。", "answer": "$$\\boxed{2}$$", "id": "1522668"}, {"introduction": "混合图是为现实世界系统建模的优秀工具，例如通信网络，这些网络通常同时具有单向和双向连接。这个问题挑战你将一个描述性的场景转化为一个正式的混合图模型。通过这样做，你将练习应用寻路算法来解决一个实际的优化问题。[@problem_id:1522669]", "problem": "一位系统架构师正在为分布式计算环境设计一个通信网络。该网络包含六个节点：一个主集线器 (A)、一个子处理器 (B)、一个主缓存 (C)、一个数据聚合器 (D)、一个加密单元 (E) 和一个最终网关 (F)。\n\n这些节点之间的连接是单向和双向链路的混合：\n- 从节点 A 到 B、从 C 到 D、以及从 E 到 F 存在单向高带宽链路。\n- 在以下节点对之间存在双向标准速度链路：(A, C)、(B, D) 和 (D, E)。\n\n一个信号必须从主集线器 (A) 路由到最终网关 (F)。路由的效率由所经过的链路数量决定。假设每条链路，无论其类型如何，对总路径长度的贡献都为 1，那么信号从节点 A 传输到节点 F 必须经过的最小链路数是多少？", "solution": "将网络建模为一个混合图，其顶点为 $A,B,C,D,E,F$，边包括：有向边 $A \\to B$、$C \\to D$、$E \\to F$ 和无向边 $A \\leftrightarrow C$、$B \\leftrightarrow D$、$D \\leftrightarrow E$。每条链路，无论类型如何，对路径长度的贡献均为 $1$。\n\n任何以 $F$ 结尾的路径都必须使用唯一指向 $F$ 的入边，即 $E \\to F$。因此，在 $F$ 前面的节点必然是 $E$。到达 $E$ 的唯一方式是通过无向边 $D \\leftrightarrow E$，因此任何从 $A$ 到 $F$ 的有效路径都必须先到达 $D$，然后经过 $D \\to E$（使用 $D \\leftrightarrow E$），最后经过 $E \\to F$。因此，最小路径长度等于从 $A$ 到 $D$ 的最小距离再加上 $2$。\n\n计算从 $A$ 到 $D$ 的最小距离：\n- 通过 $A \\to B$ 然后 $B \\leftrightarrow D$：路径长度为 $1+1=2$。\n- 通过 $A \\leftrightarrow C$ 然后 $C \\to D$：路径长度为 $1+1=2$。\n\n因此从 $A$ 到 $D$ 的最小距离为 $2$。加上到达 $F$ 的最后两条链路，最小总长度为\n$$\nL_{\\min}=2+1+1=4.\n$$\n一条明确的最短路径是 $A \\to B \\to D \\to E \\to F$（或 $A \\to C \\to D \\to E \\to F$），每条路径都使用了 $4$ 条链路。", "answer": "$$\\boxed{4}$$", "id": "1522669"}, {"introduction": "除了寻找路径，图论中的一个关键技能是判断一个具有特定属性集的图是否存在。本练习通过结合有向和无向分量的属性，探讨了混合图的结构性约束。它将磨练你的逻辑推理能力，以及在新环境中应用如图论基本定理（握手引理）等核心定理的能力。[@problem_id:1522651]", "problem": "一位系统架构师正在为一个由5个服务器节点组成的小型专用网络起草规范。节点之间的连接可以是单向的（有向边或弧），也可以是双向的（无向边）。设计必须遵守一套严格的容错和数据流管理规则。\n\n规则如下：\n1.  每个服务器节点必须有且仅有一条到另一个服务器节点的出向有向连接。\n2.  每个服务器节点必须有且仅有一条来自另一个服务器节点的入向有向连接。\n3.  每个服务器节点必须有且仅有一条与另一个服务器节点的双向连接。\n\n设服务器由顶点表示，连接由混合图中的边表示。以下哪个陈述正确描述了该网络的一种可能结构？\n\nA. 有向连接必须形成一个5-环，无向连接必须形成一个覆盖所有5个节点的单一路径图。\n\nB. 有向连接必须形成一个5-环，无向连接必须形成一个4-环，且有一个节点被隔离（没有任何无向连接）。\n\nC. 这样的网络结构是不可能构建的。\n\nD. 有向连接可以形成任何配置，但无向连接必须形成一个完美匹配。\n\nE. 有向连接必须形成一个5-环，无向连接必须由两条独立的边组成，留下一个节点没有无向连接。", "solution": "设5个服务器节点的集合为混合图 $G$ 的顶点集 $V$，其中 $|V|=5$。连接由一个有向边（弧）集合 $A$ 和一个无向边集合 $E$ 表示。\n\n首先，我们分析对有向边的约束。\n- 规则1指出，每个服务器必须有且仅有一条出向有向连接。用图论术语来说，这意味着每个顶点 $v$ 的出度为1，即对于所有 $v \\in V$，都有 $d^+(v) = 1$。\n- 规则2指出，每个服务器必须有且仅有一条入向有向连接。这意味着每个顶点 $v$ 的入度为1，即对于所有 $v \\in V$，都有 $d^-(v) = 1$。\n\n一个每个顶点的入度和出度都为1的有向图，已知是若干个不相交的有向环的并集。由于有5个顶点，有向子图唯一可能的配置是单个长度为5的有向环（一个5-环）。这告诉我们，网络的有向部分在结构上是确定的。\n\n接下来，我们分析对无向边的约束。\n- 规则3指出，每个服务器节点必须参与且仅参与一个双向连接。用图论术语来说，这意味着在无向子图中，每个顶点 $v$ 的度为1。设 $d_u(v)$ 表示顶点 $v$ 由无向边产生的度。该规则指出对于所有 $v \\in V$，都有 $d_u(v) = 1$。\n\n现在，我们考虑无向子图的性质。无向图的握手引理（或度数和公式）指出，所有顶点的度数之和等于图中边数的两倍。\n$$ \\sum_{v \\in V} d_u(v) = 2|E| $$\n根据规则3，5个顶点中每个顶点的度都为1。所以，度数之和为：\n$$ \\sum_{v \\in V} d_u(v) = 1 + 1 + 1 + 1 + 1 = 5 $$\n应用握手引理，我们得到方程：\n$$ 5 = 2|E| $$\n这个方程要求无向边的数量 $|E|$ 为 $2.5$。然而，图中边的数量必须是一个非负整数。不可能有 $2.5$ 条边。因此，这产生了一个矛盾。一个有5个顶点的无向图不可能每个顶点的度都为1，因为度数之和将为5，是一个奇数。在任何无向图中，度数之和必须是偶数。\n\n由于对于一个5节点的网络来说，规则3无法满足，所以由这三条规则描述的整个网络结构是不可能构建的。\n\n我们来简要评估一下其他选项：\n- A：一个5个顶点的路径图有两个度为1的顶点和三个度为2的顶点。这违反了规则3。\n- B和E：在这些情况下，有一个顶点的无向度为0，这违反了规则3。\n- D：图中的完美匹配是一组边，其中每个顶点都恰好是一条边的端点。这只有在顶点数为偶数时才可能。由于我们有5个顶点，所以不可能有完美匹配。\n\n因此，唯一正确的结论是该网络无法构建。", "answer": "$$\\boxed{C}$$", "id": "1522651"}]}