{"hands_on_practices": [{"introduction": "本节的第一个练习将引导我们回到图论最基本的原则之一：握手引理。这个练习将展示，即使在包含自环和多重边的更复杂的伪图中，顶点度数之和与边总数之间的简单关系依然成立。通过解决这个问题 [@problem_id:1519592]，你将巩固对度数和边数基本关系的核心理解。", "problem": "一个小型实验网络由五个专门的数据中心组成。这些中心通过高速数据链路相互连接。该网络的设计允许数据中心有一条连接回自身的链路用于内部诊断（这被称为环），并且也允许任意两个不同中心之间存在多条并行链路以实现冗余。\n\n这个网络可以被建模为一个伪图（pseudograph），其中数据中心是顶点，链路是边。一个数据中心（顶点）的“度”被定义为连接到它的链路端点的总数。因此，一条连接两个不同中心的标准链路为这两个中心的度各贡献1，而一个单一中心上的诊断环则为该中心的度贡献2。\n\n一次网络审计显示，这五个数据中心的度（顺序不限）分别为 4、4、3、3 和 2。根据这些信息，确定整个网络中数据链路（边）的总数。请注意，每个环计为一条链路。", "solution": "我们将该网络建模为一个顶点集为 $V$、边集为 $E$ 的伪图。在伪图中，握手引理仍然适用：\n$$\n\\sum_{v \\in V} \\deg(v) = 2|E|.\n$$\n此公式成立，因为每条普通边为其两个端点的度各贡献1（总贡献为2），而每个环在算作一条边的情况下，为其单个端点的度贡献2。因此，每条边对等式左侧的总度数贡献均为2。\n\n给定的度为 $4,4,3,3,2$，所以\n$$\n\\sum_{v \\in V} \\deg(v) = 4+4+3+3+2 = 16.\n$$\n应用握手引理，\n$$\n16 = 2|E| \\quad \\Longrightarrow \\quad |E| = 8.\n$$\n因此，将每个环计为一条边，数据链路（边）的总数是8。", "answer": "$$\\boxed{8}$$", "id": "1519592"}, {"introduction": "理解不同类型图（简单图、多重图、伪图）之间的区别至关重要。这个思考练习 [@problem_id:1495452] 挑战了我们在简单图中形成的直觉，即顶点的度数等于其邻居的数量。通过分析一个在某些图类型中可能、但在其他类型中不可能的场景，你将更深刻地理解自环和多重边如何从根本上改变顶点度数的含义。", "problem": "在图论中，不同类型的图是根据其边的构成规则来定义的。考虑以下定义：\n- **简单图**是一种图，其中任意两个不同的顶点至多由一条边连接，且没有顶点通过边与自身连接（即自环）。\n- **多重图**是一种图，它可能有多条边连接相同的两个顶点，但不允许自环。\n- **伪图**是一种图，它既允许顶点之间存在多条边，也允许单个顶点上存在自环。\n\n一个顶点的**度**是与它关联的边的端点数。值得注意的是，一个顶点上的自环为其度贡献2。如果两个顶点之间至少有一条边连接，则称它们是**相邻**的。\n\n一位工程师正在为一个通信网络建模。一个由顶点 $v$ 表示的中央服务器的度必须恰好为4。由于物理限制，这个服务器 $v$ 只能与另外两个由顶点 $u$ 和 $w$ 表示的不同客户端节点相邻。\n\n下列哪个陈述正确地描述了根据不同图类型构建这种网络配置的可行性？\n\nA. 该配置在简单图中是可能的，但在多重图或伪图中是不可能的。\n\nB. 该配置在多重图中是可能的，但在简单图或伪图中是不可能的。\n\nC. 该配置在伪图中是可能的，但在简单图或多重图中是不可能的。\n\nD. 该配置在多重图和伪图中都是可能的，但在简单图中是不可能的。\n\nE. 在这三种图类型中，该配置都是不可能的。", "solution": "令 $v$ 为中心顶点，需要满足\n$$\\deg(v)=4,$$\n且其邻接集恰好为\n$$N(v)=\\{u,w\\}.$$\n\n简单图：在简单图中，没有自环也没有多重边，因此每个邻居只为 $v$ 贡献一条边。因此，\n$$\\deg(v)=|N(v)|.$$\n由于 $|N(v)|=2$，可得 $\\deg(v)=2\\neq 4$，这是一个矛盾。因此，该配置在简单图中是不可能的。\n\n多重图：在多重图中，没有自环但允许多重边。令 $m_{vu}$ 和 $m_{vw}$ 分别表示 $v$ 和 $u$ 之间、以及 $v$ 和 $w$ 之间的边的重数。那么\n$$\\deg(v)=m_{vu}+m_{vw},$$\n其中约束条件 $m_{vu}\\geq 1$ 和 $m_{vw}\\geq 1$ 确保了顶点 $v$ 恰好与 $u$ 和 $w$ 相邻。选择任何满足 $m_{vu}+m_{vw}=4$ 的正整数（例如 $(m_{vu},m_{vw})=(1,3)$ 或 $(2,2)$）即可满足要求。因此，该配置在多重图中是可能的。\n\n伪图：在伪图中，既允许多重边也允许自环。如果 $\\ell_{v}$ 表示在 $v$ 上的自环数量，那么每个自环对度的贡献为 $2$，所以\n$$\\deg(v)=m_{vu}+m_{vw}+2\\ell_{v},$$\n其中 $m_{vu}\\geq 1$ 和 $m_{vw}\\geq 1$ 确保了邻居恰好是 $u$ 和 $w$。例如，取 $(m_{vu},m_{vw},\\ell_{v})=(1,1,1)$ 可得 $\\deg(v)=1+1+2=4$。因此，该配置在伪图中也是可能的。\n\n所以，该配置在多重图和伪图中都是可能的，但在简单图中是不可能的。", "answer": "$$\\boxed{D}$$", "id": "1495452"}, {"introduction": "在理论概念之后，我们需要将知识应用于具体表示。邻接矩阵是表示图结构的一种强大工具，尤其适用于包含自环和多重边的伪图。在这个练习 [@problem_id:1519594] 中，你将通过解释一个给定的邻接矩阵来计算图的关键属性，从而将抽象的定义（如度数和边数）与其实际的矩阵表示联系起来。", "problem": "伪图是一种图，其中可能包含自环（连接顶点自身的边）和同一对顶点之间的多重边。考虑一个伪图 $G$，其顶点集为 $V = \\{v_1, v_2, v_3, v_4\\}$。该图的结构由其邻接矩阵 $A$ 描述。\n\n对于一个伪图，邻接矩阵中的项 $A_{ij}$（当 $i \\neq j$ 时）表示连接顶点 $v_i$ 和顶点 $v_j$ 的边的数量。对角项 $A_{ii}$ 表示顶点 $v_i$ 上的自环数量。顶点的度，记作 $\\deg(v)$，是与该顶点相关联的边的端点数；顶点上的一个自环对该顶点的度贡献为 2。\n\n图 $G$ 的邻接矩阵如下：\n$$\nA = \\begin{pmatrix}\n2 & 3 & 0 & 1 \\\\\n3 & 0 & 2 & 2 \\\\\n0 & 2 & 1 & 4 \\\\\n1 & 2 & 4 & 3\n\\end{pmatrix}\n$$\n设 $E$ 为图中边的总数（其中每个自环计为一条边），设 $D_{odd}$ 为所有奇数度顶点的度之和。计算量 $2E - D_{odd}$ 的值。您的答案必须是一个整数。", "solution": "问题要求我们为给定的伪图 $G$ 计算 $2E - D_{odd}$ 的值。我们需要从邻接矩阵 $A$ 中求出两个量：边的总数 $E$，以及奇数度顶点的度之和 $D_{odd}$。\n\n首先，我们来计算边的总数 $E$。边的总数是非自环边的数量与自环数量之和。\n非自环边的数量由邻接矩阵 $A$ 的上三角（或下三角，因为矩阵是对称的）中的元素之和给出。我们将其记为 $E_{\\text{non-loop}}$。\n$$ E_{\\text{non-loop}} = \\sum_{i<j} A_{ij} = A_{12} + A_{13} + A_{14} + A_{23} + A_{24} + A_{34} $$\n代入矩阵 $A$ 中的值：\n$$ E_{\\text{non-loop}} = 3 + 0 + 1 + 2 + 2 + 4 = 12 $$\n自环的数量，记为 $L$，是邻接矩阵对角元素的和。\n$$ L = \\sum_{i=1}^{4} A_{ii} = A_{11} + A_{22} + A_{33} + A_{44} $$\n代入数值：\n$$ L = 2 + 0 + 1 + 3 = 6 $$\n边的总数 $E$ 是非自环边和自环的和：\n$$ E = E_{\\text{non-loop}} + L = 12 + 6 = 18 $$\n\n接下来，我们需要求出每个顶点的度。一个顶点 $v_i$ 的度 $\\deg(v_i)$ 是其对应行（或列）中非对角元素之和，再加上其对角元素的两倍，因为每个自环对度的贡献为2。公式为 $\\deg(v_i) = \\left(\\sum_{j \\neq i} A_{ij}\\right) + 2A_{ii}$。我们来计算 $V = \\{v_1, v_2, v_3, v_4\\}$ 中每个顶点的度：\n对于 $v_1$：\n$$ \\deg(v_1) = (A_{12} + A_{13} + A_{14}) + 2A_{11} = (3 + 0 + 1) + 2(2) = 4 + 4 = 8 $$\n对于 $v_2$：\n$$ \\deg(v_2) = (A_{21} + A_{23} + A_{24}) + 2A_{22} = (3 + 2 + 2) + 2(0) = 7 + 0 = 7 $$\n对于 $v_3$：\n$$ \\deg(v_3) = (A_{31} + A_{32} + A_{34}) + 2A_{33} = (0 + 2 + 4) + 2(1) = 6 + 2 = 8 $$\n对于 $v_4$：\n$$ \\deg(v_4) = (A_{41} + A_{42} + A_{43}) + 2A_{44} = (1 + 2 + 4) + 2(3) = 7 + 6 = 13 $$\n\n各顶点的度为 $\\{8, 7, 8, 13\\}$。现在我们找出度为奇数的顶点。它们是 $\\deg(v_2)=7$ 的 $v_2$ 和 $\\deg(v_4)=13$ 的 $v_4$。\n量 $D_{odd}$ 是这些奇数度之和：\n$$ D_{odd} = \\deg(v_2) + \\deg(v_4) = 7 + 13 = 20 $$\n\n最后，我们可以使用我们求出的 $E$ 和 $D_{odd}$ 的值来计算所需的值 $2E - D_{odd}$：\n$$ 2E - D_{odd} = 2(18) - 20 = 36 - 20 = 16 $$\n\n作为检验，伪图的握手引理指出，所有顶点的度之和等于总边数的两倍（$\\sum_i \\deg(v_i) = 2E$）。我们来为我们的图验证这一点：\n$$ \\sum_{i=1}^{4} \\deg(v_i) = 8 + 7 + 8 + 13 = 36 $$\n而我们计算出 $2E = 2(18) = 36$。引理成立，这使我们对计算结果更有信心。\n此外，如果我们设 $D_{even}$ 为偶数度的和，则握手引理意味着 $D_{even} + D_{odd} = 2E$。要求我们计算的表达式是 $2E - D_{odd}$，它等价于 $D_{even}$。度为偶数的顶点是 $v_1$ 和 $v_3$，它们的度分别为 8 和 8。它们的和是 $D_{even} = 8 + 8 = 16$，这证实了我们的结果。", "answer": "$$\\boxed{16}$$", "id": "1519594"}]}