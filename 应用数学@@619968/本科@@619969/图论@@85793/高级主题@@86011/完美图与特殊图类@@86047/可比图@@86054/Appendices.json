{"hands_on_practices": [{"introduction": "掌握一个新概念的最好方法之一是直接应用其定义。这个练习将要求你判断一个给定的图是否为可比图，这需要你尝试为其构建一个有效的传递定向。这个过程是检验你是否真正理解了可比图核心性质的基础性实践。", "problem": "在图论中，一个无向图 $G=(V, E)$ 被称为**可比图**（comparability graph），如果在其顶点集 $V$ 上存在一个偏序关系 $\\preceq$，使得对于任意两个不同的顶点 $u, v \\in V$，点对 $\\{u, v\\}$ 是 $E$ 中的一条边当且仅当 $u \\preceq v$ 或 $v \\preceq u$。等价地，一个图是可比图，如果它的边可以被赋予一个方向（定向），从而形成一个传递闭合的有向无环图。这意味着如果存在从顶点 $x$ 到 $y$ 和从 $y$ 到 $z$ 的有向边，那么也必须存在从 $x$ 到 $z$ 的有向边。\n\n考虑一个按如下方式构造的简单无向图 $G$。它有四个顶点，我们标记为 $v_1, v_2, v_3, v_4$。该图由两个三角形 $(v_1, v_2, v_3)$ 和 $(v_1, v_3, v_4)$ 沿它们的公共边 $\\{v_1, v_3\\}$ 连接而成。因此，完整的边集为 $E = \\{\\{v_1, v_2\\}, \\{v_2, v_3\\}, \\{v_3, v_1\\}, \\{v_1, v_4\\}, \\{v_4, v_3\\}\\}$。\n\n关于图 $G$ 的以下哪个陈述是正确的？\n\nA. 该图是可比图。\n\nB. 该图不是可比图，因为存在三角形（长度为3的环）阻碍了传递定向。\n\nC. 该图不是可比图，因为它包含一个长度为4的导出环。\n\nD. 该图不是可比图，因为它不是一个完美图。", "solution": "给定图的顶点集为 $V=\\{v_{1},v_{2},v_{3},v_{4}\\}$，边集为 $E=\\{\\{v_{1},v_{2}\\},\\{v_{2},v_{3}\\},\\{v_{3},v_{1}\\},\\{v_{1},v_{4}\\},\\{v_{4},v_{3}\\}\\}$。这个图是 $K_{4}$ 减去边 $\\{v_{2},v_{4}\\}$ 后得到的图（也称为钻石图）。\n\n要确定 $G$ 是否为可比图，我们必须展示一个 $V$ 上的偏序，其可比图恰好是 $G$，或者等价地，展示一个 $E$ 的传递无环定向。\n\n通过声明以下关系，在 $V$ 上构造一个严格偏序 $\\prec$：\n$$\nv_{1}\\prec v_{2},\\quad v_{2}\\prec v_{3},\\quad v_{1}\\prec v_{3},\\quad v_{1}\\prec v_{4},\\quad v_{4}\\prec v_{3},\n$$\n并且 $v_{2}$ 和 $v_{4}$ 之间没有关系（因此 $v_{2}$ 和 $v_{4}$ 是不可比的）。这个关系是无环和传递的（实际上，这是一个钻石形的偏序集，其中 $v_{1}$ 是极小元，$v_{3}$ 是极大元，$v_{2},v_{4}$ 是不可比的中间元素）。其传递闭包包含已列出的 $v_{1}\\prec v_{3}$，并且不强制 $v_{2}$ 和 $v_{4}$ 之间产生任何关系。\n\n根据关系 $\\prec$，将 $G$ 的每条边从较小的元素定向到较大的元素。这产生以下定向：\n$$\nv_{1}\\to v_{2},\\quad v_{2}\\to v_{3},\\quad v_{1}\\to v_{3},\\quad v_{1}\\to v_{4},\\quad v_{4}\\to v_{3}.\n$$\n这个有向图是无环的。它在其边上也是传递闭合的：在三角形 $\\{v_{1},v_{2},v_{3}\\}$ 上，我们有 $v_{1}\\to v_{2}$ 和 $v_{2}\\to v_{3}$，因此有 $v_{1}\\to v_{3}$，这条边存在；在三角形 $\\{v_{1},v_{3},v_{4}\\}$ 上，我们有 $v_{1}\\to v_{4}$ 和 $v_{4}\\to v_{3}$，因此有 $v_{1}\\to v_{3}$，这条边也存在。关键是，$v_2$ 和 $v_4$ 之间不存在长度为2的有向路径（既没有 $v_{2}\\to v_{1}\\to v_{4}$ 也没有 $v_{2}\\to v_{3}\\to v_{4}$，同样也没有从 $v_{4}$ 到 $v_{2}$ 的路径），因此传递性没有强制要求任何缺失的边。因此，这是一个有效的传递定向，所以 $G$ 是一个可比图。\n\n现在我们检查各个选项：\n- 选项B是错误的：三角形（作为弦图的一部分）并不排除传递定向；实际上，任何完全图（包括三角形）都是可比图。\n- 选项C是错误的：唯一的4-环 $v_{2}-v_{1}-v_{4}-v_{3}-v_{2}$ 有一个弦 $\\{v_{1},v_{3}\\}$，所以不存在导出4-环。\n- 选项D是错误的：该图是弦图（一个 $K_{4}$ 减去一条边），因此是完美图；此外，即使一个图不是完美图，也可能是可比图。\n\n因此，正确的陈述是A。", "answer": "$$\\boxed{A}$$", "id": "1490509"}, {"introduction": "可比图不仅仅是抽象的数学对象，它们也是分析现实世界依赖关系的有力工具。本练习模拟了一个软件开发场景，你需要从一组给定的模块依赖关系（一个偏序集）出发，推导出完整的可比图。这有助于你理解如何将偏序关系可视化，并揭示任务之间的所有直接或间接的比较关系。", "problem": "一个软件工程团队正在开发一个由六个不同模块组成的系统：Alpha、Beta、Gamma、Delta、Epsilon 和 Zeta。开发过程受到一组依赖关系的约束，这些依赖关系定义了一个偏序集 $(S, \\preceq)$，其中 $S = \\{\\text{Alpha, Beta, Gamma, Delta, Epsilon, Zeta}\\}$。关系 $M_1 \\preceq M_2$ 表示模块 $M_1$ 必须在模块 $M_2$ 之前或与之同时完成。基本依赖关系如下：\n\n- Alpha 是 Beta 和 Gamma 的先决条件。\n- Beta 是 Delta 和 Epsilon 的先决条件。\n- Gamma 是 Epsilon 的先决条件。\n- Delta 是 Zeta 的先决条件。\n- Epsilon 是 Zeta 的先决条件。\n\n完整的依赖关系 $\\preceq$ 是 $S$ 上包含上述所有基本依赖关系并且满足自反性、传递性的最小关系。\n\n为了可视化项目结构，团队决定构建一个*可比图*。在这类图中，顶点是模块，任意两个不同的模块 $M_i$ 和 $M_j$ 之间存在一条边，当且仅当它们在偏序集中是可比的——即，要么 $M_1 \\preceq M_2$，要么 $M_2 \\preceq M_1$。\n\n确定此模块集最终生成的可比图中的总边数。", "solution": "令 $S=\\{\\text{Alpha},\\text{Beta},\\text{Gamma},\\text{Delta},\\text{Epsilon},\\text{Zeta}\\}$。为简洁起见，记 $A=\\text{Alpha}$，$B=\\text{Beta}$，$G=\\text{Gamma}$，$D=\\text{Delta}$，$E=\\text{Epsilon}$，$Z=\\text{Zeta}$。给定的覆盖关系为\n$$A\\preceq B,\\quad A\\preceq G,\\quad B\\preceq D,\\quad B\\preceq E,\\quad G\\preceq E,\\quad D\\preceq Z,\\quad E\\preceq Z.$$\n通过传递性，我们推导出以下附加关系：\n$$A\\preceq D\\ (\\text{通过 }A\\preceq B\\preceq D),\\quad A\\preceq E\\ (\\text{通过 }A\\preceq B\\preceq E\\ \\text{及 }A\\preceq G\\preceq E),$$\n$$B\\preceq Z\\ (\\text{通过 }B\\preceq D\\preceq Z\\ \\text{及 }B\\preceq E\\preceq Z),\\quad G\\preceq Z\\ (\\text{通过 }G\\preceq E\\preceq Z),$$\n$$A\\preceq Z\\ (\\text{通过 }A\\preceq D\\preceq Z\\ \\text{及 }A\\preceq E\\preceq Z).$$\n$A$ 是最小元，而 $Z$ 是最大元。\n\n要构建可比图，我们需要找出所有可比的无序对。找出不可比对会更方便。根据以上关系：\n- $B$ 和 $G$ 是不可比的（不存在能导出 $B\\preceq G$ 或 $G\\preceq B$ 的链）。\n- $D$ 和 $E$ 是不可比的（它们都在 $B$ 之后，但彼此之间没有先后顺序）。\n- $D$ 和 $G$ 是不可比的（不存在能导出 $D\\preceq G$ 或 $G\\preceq D$ 的链）。\n所有其他对都是可比的。\n\n总共有 $\\binom{6}{2}$ 个无序对，其中正好有 $3$ 对是不可比的。因此，可比图中的边数为 $\\binom{6}{2}-3=15-3=12$。\n\n我们可以通过对各顶点度数求和并避免重复计数来直接验证此结果：\n- 从 $A$ 出发有 $5$ 条边（连接到 $B, G, D, E, Z$）。\n- 从 $B$ 出发增加 $3$ 条新边（连接到 $D, E, Z$）。\n- 从 $G$ 出发增加 $2$ 条新边（连接到 $E, Z$）。\n- 从 $D$ 出发增加 $1$ 条新边（连接到 $Z$）。\n- 从 $E$ 出发增加 $1$ 条新边（连接到 $Z$）。\n总计 $5+3+2+1+1=12$ 条边。", "answer": "$$\\boxed{12}$$", "id": "1490535"}, {"introduction": "理解一个概念的边界和限制与理解其定义同样重要。并非所有图都是可比图，而证明这一点需要严谨的逻辑推理。这个练习将引导你通过一个归谬法（proof by contradiction），展示为什么一个简单的5-环（$C_5$）无法被传递定向，从而揭示了决定一个图是否为可比图的深层结构性约束。", "problem": "一个简单无向图 $G=(V, E)$ 被称为**可比图** (comparability graph)，如果它的边可以被定向，形成一个**传递的** (transitive) 有向图 $D=(V, A)$。一个有向图是传递的，如果对于任意三个顶点 $x, y, z \\in V$，有向边（弧）$x \\to y$ 和 $y \\to z$ 的存在意味着弧 $x \\to z$ 也存在。该规则的一个重要推论是，如果在原始图 $G$ 中没有边 $\\{x, z\\}$，那么任何有效的定向都不能包含有向路径 $x \\to y \\to z$。\n\n考虑一个5-环图 $C_5$，其顶点按循环顺序标记为 $v_1, v_2, v_3, v_4, v_5$。它的边是 $\\{v_1, v_2\\}, \\{v_2, v_3\\}, \\{v_3, v_4\\}, \\{v_4, v_5\\},$ 和 $\\{v_5, v_1\\}$。我们通过做出一个初始选择，将边 $\\{v_1, v_2\\}$ 定向为弧 $v_1 \\to v_2$，来尝试构造 $C_5$ 的一个传递定向。使用传递性的定义来推导此选择的后果，最终将导致一个逻辑矛盾，从而证明 $C_5$ 不是一个可比图。\n\n以下哪个陈述准确描述了必然会达到的基本矛盾？\n\nA. 必然会形成一条有向路径 $v_i \\to v_j \\to v_k$，而 $\\{v_i, v_k\\}$ 在 $C_5$ 中不是一条边。\n\nB. 该过程要求同时存在 $v_3 \\to v_4$ 和 $v_4 \\to v_3$。\n\nC. 该过程要求同时存在 $v_5 \\to v_1$ 和 $v_1 \\to v_5$。\n\nD. 唯一可能的定向是一个有向圈 $v_1 \\to v_2 \\to v_3 \\to v_4 \\to v_5 \\to v_1$。\n\nE. 定向可以完成，但得到的有向图不是无环的。", "solution": "根据定义，无向图 $G=(V,E)$ 的一个传递定向是将其边定向为一个有向图 $D=(V,A)$，使得只要 $x\\to y$ 和 $y\\to z$ 是 $D$ 中的弧，那么 $x\\to z$ 也必须是 $D$ 中的弧。对无向图的一个推论是：对于 $G$ 中的任何路径 $x-y-z$ 且 $\\{x,z\\}\\notin E$，传递定向不能包含 $x\\to y\\to z$ 或 $z\\to y\\to x$。\n\n我们从顶点按循环顺序为 $v_{1},v_{2},v_{3},v_{4},v_{5}$ 的 $C_{5}$ 开始，并将 $\\{v_{1},v_{2}\\}$ 定向为 $v_{1}\\to v_{2}$。\n1.  考虑路径 $v_{1}-v_{2}-v_{3}$，其中 $\\{v_{1},v_{3}\\}\\notin E$。为了避免被禁止的模式 $v_{1}\\to v_{2}\\to v_{3}$，我们必须将 $\\{v_{2},v_{3}\\}$ 定向为 $v_{3}\\to v_{2}$。\n2.  考虑路径 $v_{4}-v_{3}-v_{2}$，其中 $\\{v_{4},v_{2}\\}\\notin E$。我们已经有 $v_3 \\to v_2$，为了避免 $v_{4}\\to v_{3}\\to v_{2}$，我们必须将 $\\{v_{3},v_{4}\\}$ 定向为 $v_{3}\\to v_{4}$。\n3.  考虑路径 $v_{5}-v_{1}-v_{2}$，其中 $\\{v_{5},v_{2}\\}\\notin E$。我们已经有 $v_1 \\to v_2$，为了避免 $v_{5}\\to v_{1}\\to v_{2}$，我们必须将 $\\{v_{1},v_{5}\\}$ 定向为 $v_{1}\\to v_{5}$。\n4.  考虑路径 $v_{3}-v_{4}-v_{5}$，其中 $\\{v_{3},v_{5}\\}\\notin E$。我们已经有 $v_3 \\to v_4$，为了避免 $v_{3}\\to v_{4}\\to v_{5}$，我们必须将 $\\{v_{4},v_{5}\\}$ 定向为 $v_{5}\\to v_{4}$。\n\n此时，我们得到有向路径 $v_{1}\\to v_{5}\\to v_{4}$。然而，在原始图 $C_5$ 中，顶点 $v_1$ 和 $v_4$ 之间没有边，即 $\\{v_{1},v_{4}\\}\\notin E$。这就形成了一个被禁止的构型：一条有向路径 $v_{i}\\to v_{j}\\to v_{k}$（这里是 $v_{1}\\to v_{5}\\to v_{4}$），而其端点 $v_i, v_k$ 在原始图中不相邻。根据传递性的要求，这会强制要求存在一条边 $v_{1}\\to v_{4}$，但这是不可能的。因此，我们到达了一个矛盾。这个基本矛盾被选项 A 准确地描述了。", "answer": "$$\\boxed{A}$$", "id": "1490537"}]}