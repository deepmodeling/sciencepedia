{"hands_on_practices": [{"introduction": "排列图是一种基础的相交图，它将组合学中的排列概念与图论联系起来。这个练习将指导你通过一个具体例子，学习如何根据排列中的“逆序对”来确定图的边，从而亲手构建一个排列图。这个过程不仅能帮助你理解排列图的定义，还能让你体会到如何将一个抽象的数学对象转化为一个直观的图结构 [@problem_id:1506629]。", "id": "1506629", "problem": "在图论中，一个排列图可以由一组数的排列来构造。设图 $G$ 的顶点集为 $V = \\{1, 2, 3, 4\\}$。该图的结构由这些数字的一个排列 $\\pi$ 决定。对于本题，考虑由序列 $\\pi = (3, 1, 4, 2)$ 给出的排列，它对应于映射：$\\pi(1)=3$，$\\pi(2)=1$，$\\pi(3)=4$，以及 $\\pi(4)=2$。\n\n在 $V$ 中的两个不同顶点 $i$ 和 $j$ 之间存在一条边，当且仅当索引对 $(i, j)$ 构成一个逆序。逆序定义为一个索引对 $(i, j)$，使得 $i < j$ 并且它们在排列下的像呈逆序，即 $\\pi(i) > \\pi(j)$。\n\n确定图 $G$ 中边的总数。", "solution": "对于 $V=\\{1,2,3,4\\}$ 上的一个排列图，在满足 $i<j$ 的不同顶点 $i$ 和 $j$ 之间存在一条边，当且仅当 $(i,j)$ 是排列 $\\pi$ 的一个逆序，其中 $\\pi$ 定义为 $\\pi(1)=3$，$\\pi(2)=1$，$\\pi(3)=4$，$\\pi(4)=2$。当 $\\pi(i)>\\pi(j)$ 时，就出现一个逆序。\n\n所有满足 $i<j$ 的可能有序索引对共有 $\\binom{4}{2}=6$ 对：\n$$(1,2),\\ (1,3),\\ (1,4),\\ (2,3),\\ (2,4),\\ (3,4).$$\n对每一对评估其是否满足逆序条件：\n- 对于 $(1,2)$：$\\pi(1)=3$ 且 $\\pi(2)=1$，而 $3>1$，所以这是一个逆序。\n- 对于 $(1,3)$：$\\pi(1)=3$ 且 $\\pi(3)=4$，而 $3>4$ 为假，所以不是逆序。\n- 对于 $(1,4)$：$\\pi(1)=3$ 且 $\\pi(4)=2$，而 $3>2$，所以这是一个逆序。\n- 对于 $(2,3)$：$\\pi(2)=1$ 且 $\\pi(3)=4$，而 $1>4$ 为假，所以不是逆序。\n- 对于 $(2,4)$：$\\pi(2)=1$ 且 $\\pi(4)=2$，而 $1>2$ 为假，所以不是逆序。\n- 对于 $(3,4)$：$\\pi(3)=4$ 且 $\\pi(4)=2$，而 $4>2$，所以这是一个逆序。\n\n因此，逆序对为 $(1,2)$、$(1,4)$ 和 $(3,4)$，总共有 $3$ 个逆序。由于每个逆序恰好对应一条边，所以该图有 $3$ 条边。", "answer": "$$\\boxed{3}$$"}, {"introduction": "从一维的线段到二维的平面，几何相交图可以用来表示各种空间关系。这个实践挑战我们去思考一个逆向问题：给定一个我们想要的目标图结构（路径图 $P_5$），我们如何摆放一组正方形来实现它？通过解决这个问题，你将深入探索几何约束（如正方形的邻接条件）如何转化为图的拓扑属性，并学习如何在一个几何设定中进行优化 [@problem_id:1506617]。", "id": "1506617", "problem": "考虑笛卡尔平面中的一组五个相同的、与坐标轴对齐的正方形，每个的边长为 $s$。这组正方形的交集图是一个图，其中每个正方形对应一个顶点，且当且仅当两个顶点所对应的正方形有非空交集时，这两个顶点之间存在一条边。交集可以是一个区域，也可以只是一个共享的边界点。\n\n假设这五个正方形的排列方式使得它们的交集图与路径图 $P_5$ 同构。路径图 $P_5$ 的顶点集为 $\\{v_1, v_2, v_3, v_4, v_5\\}$，边集为 $\\{(v_1, v_2), (v_2, v_3), (v_3, v_4), (v_4, v_5)\\}$。设这五个正方形分别记为 $S_1, S_2, S_3, S_4, S_5$，它们分别对应顶点 $v_1, v_2, v_3, v_4, v_5$。设正方形 $S_i$ 的中心点为 $C_i$。\n\n对于任何一种满足条件的有效排列，确定两个末端正方形的中心 $C_1$ 和 $C_5$ 之间的最大可能欧几里得距离。将答案表示为以 $s$ 为变量的解析表达式。", "solution": "设每个正方形的边长为 $s$，半边长为 $h = \\frac{s}{2}$。对于中心分别为 $C_{i}=(x_{i},y_{i})$ 和 $C_{j}=(x_{j},y_{j})$ 的两个与坐标轴对齐的正方形 $S_{i}$ 和 $S_{j}$，它们相交（包括在边界处接触）的充要条件是它们在两个坐标轴上的投影都重叠，即：\n$$\n|x_{i}-x_{j}| \\le s \\quad \\text{and} \\quad |y_{i}-y_{j}| \\le s.\n$$\n定义连续中心点之间的步长向量为 $v_{k} = C_{k+1} - C_{k}$，其中 $k=1,2,3,4$。$S_{k}$ 与 $S_{k+1}$ 相邻的邻接约束意味着\n$$\n|v_{k,x}| \\le s, \\quad |v_{k,y}| \\le s,\n$$\n因此\n$$\n\\|v_{k}\\| = \\sqrt{v_{k,x}^{2} + v_{k,y}^{2}} \\le \\sqrt{s^{2} + s^{2}} = s\\sqrt{2}.\n$$\n首末向量为\n$$\nV = C_{5} - C_{1} = v_{1} + v_{2} + v_{3} + v_{4},\n$$\n所以根据三角不等式，\n$$\n\\|C_{5} - C_{1}\\| = \\|V\\| \\le \\|v_{1}\\| + \\|v_{2}\\| + \\|v_{3}\\| + \\|v_{4}\\| \\le 4 s \\sqrt{2}.\n$$\n因此，$\\|C_{5} - C_{1}\\| \\le 4 s \\sqrt{2}$。\n\n剩下的就是要证明在非邻接约束条件下，这个上界是可以达到的。取\n$$\nv_{1} = v_{2} = v_{3} = v_{4} = (s, s),\n$$\n并任意放置 $C_{1}$，令 $C_{k+1} = C_{k} + (s,s)$。那么对于每一对相邻的正方形，\n$$\n|x_{k+1} - x_{k}| = s, \\quad |y_{k+1} - y_{k}| = s,\n$$\n所以 $S_{k}$ 和 $S_{k+1}$ 相交（它们在一个角点处接触）。对于任何相隔 $m \\ge 2$ 步的不相邻对，其中心点之差为\n$$\nC_{k+m} - C_{k} = (m s, m s),\n$$\n所以两个坐标的绝对值都严格大于 $s$，因此这些正方形不相交。因此，交集图恰好是 $P_{5}$，且首末距离为\n$$\n\\|C_{5} - C_{1}\\| = \\|(4s, 4s)\\| = 4 s \\sqrt{2}.\n$$\n由于达到了上界，因此最大可能的欧几里得距离是 $4 s \\sqrt{2}$。", "answer": "$$\\boxed{4\\sqrt{2}\\,s}$$"}, {"introduction": "一个核心的图论问题是确定一个给定的图是否属于某个特定的图类别。区间图是研究最深入的相交图之一，但并非所有图都是区间图。此练习要求你判断几个基本图（如完全图、路径图和环图）是否可以表示为区间图，这将引导你发现区间图一个至关重要的结构特性，并学会运用它来对图进行分类 [@problem_id:1506647]。", "id": "1506647", "problem": "如果存在一个函数 $f$ 将每个顶点 $v \\in V$ 映射到实数线上的一个闭区间 $f(v) = [s_v, e_v]$（其中 $s_v \\leq e_v$），使得边 $(u, v)$ 存在于 $E$ 中当且仅当 $u$ 和 $v$ 对应的区间有非空交集，即 $f(u) \\cap f(v) \\neq \\emptyset$，则一个无向图 $G=(V, E)$ 被定义为**区间图**。\n\n考虑以下四个图：\n1.  **$K_4$**: 4个顶点的完全图。在 $K_4$ 中，每对不同的顶点都由一条边连接。\n2.  **$P_5$**: 5个顶点的路图，顶点标记为 $v_1, v_2, v_3, v_4, v_5$。其边为 $(v_1, v_2), (v_2, v_3), (v_3, v_4), (v_4, v_5)$。\n3.  **$C_4$**: 4个顶点的圈图，顶点标记为 $v_1, v_2, v_3, v_4$。其边为 $(v_1, v_2), (v_2, v_3), (v_3, v_4), (v_4, v_1)$。\n4.  **$C_5$**: 5个顶点的圈图，顶点标记为 $v_1, v_2, v_3, v_4, v_5$。其边为 $(v_1, v_2), (v_2, v_3), (v_3, v_4), (v_4, v_5), (v_5, v_1)$。\n\n下列哪个陈述正确描述了这四个图中有多少个是区间图？\n\nA) 所有四个图都是区间图。\nB) 恰好有三个图是区间图。\nC) 恰好有两个图是区间图。\nD) 恰好有一个图是区间图。\nE) 这些图都不是区间图。", "solution": "区间图的定义是：为每个顶点 $v$ 分配一个实数线上的闭区间 $f(v)=[s_{v},e_{v}]$ (其中 $s_{v} \\leq e_{v}$)，使得两个顶点相邻当且仅当它们被分配的区间有非空交集。\n\n首先，$K_{4}$ 是一个区间图。要证明这一点，可以任意标记四个顶点，并为每个顶点分配相同的区间，例如\n$$\nf(v)=[0,1] \\text{ for all } v.\n$$\n那么对于任何不同的 $u,v$，$f(u)\\cap f(v)=[0,1]\\neq \\emptyset$，所以每对顶点都相邻，从而实现了 $K_{4}$。\n\n其次，$P_{5}$ 是一个区间图。按顺序将路图的顶点标记为 $v_{1},v_{2},v_{3},v_{4},v_{5}$ 并分配\n$$\nf(v_{i})=[i,i+1] \\text{ for } i\\in\\{1,2,3,4,5\\}.\n$$\n对于 $i<j$，如果 $j=i+1$ 则\n$$\nf(v_{i})\\cap f(v_{j})=[i,i+1]\\cap [i+1,i+2]=\\{i+1\\}\\neq \\emptyset,\n$$\n所以 $(v_{i},v_{i+1})$ 是一条边。如果 $j\\geq i+2$，那么 $i+1 \\leq j$ 意味着\n$$\n[i,i+1]\\cap [j,j+1]=\\emptyset,\n$$\n所以非连续顶点之间没有边。因此，这些区间的交集恰好实现了 $P_{5}$ 的边。\n\n第三，考虑 $C_{4}$ 和 $C_{5}$。一个关键的结构性事实是，每个区间图都是弦图。为了证明这一点，按右端点 $e_{v}$ 的非递减顺序对顶点进行排序，并考虑一个具有最小 $e_{v}$ 的顶点 $v$。如果 $u$ 与 $v$ 相邻，那么 $f(u)$ 必须与 $f(v)$ 相交，并且由于 $e_{v}$ 的最小性，$e_{u}\\geq e_{v}$，我们有 $s_{u}\\leq e_{v}$；因此 $e_{v}\\in f(u)$。因此，$v$ 的每个邻居都包含共同点 $e_{v}$，所以 $v$ 的邻域是一个团。这提供了一个完美消除序，它等价于弦性。由于弦图没有长度至少为4的导出圈，所以 $C_{4}$ 和 $C_{5}$ 都不是区间图，因为它们各自都是长度至少为4且没有弦的导出圈。\n\n总之，$K_{4}$ 和 $P_{5}$ 是区间图，而 $C_{4}$ 和 $C_{5}$ 不是。因此，这四个图中恰好有两个是区间图，这对应于选项C。", "answer": "$$\\boxed{C}$$"}]}