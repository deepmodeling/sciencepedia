{"hands_on_practices": [{"introduction": "一个图是否连通是其最基本的拓扑性质之一。对于置换图而言，其连通性与底层排列的结构有着深刻的联系。本练习将引导你发现这一关键性质，即一个排列在何种条件下会生成一个不连通的图，从而揭示图的连通性与排列的可分解性之间的等价关系[@problem_id:1526976]。", "problem": "对于整数 $n \\ge 2$，设 $\\pi$ 是集合 $\\{1, 2, \\ldots, n\\}$ 的一个排列。基于此排列构造一个排列图，记为 $G(\\pi)$。$G(\\pi)$ 的顶点集是 $V = \\{1, 2, \\ldots, n\\}$。$V$ 中两个不同的顶点 $i$ 和 $j$ 之间存在一条边，当且仅当它们的相对顺序被该排列颠倒。形式上，边 $(i, j)$ 在图中，当且仅当以下条件成立：\n$$ (i - j)(\\pi^{-1}(i) - \\pi^{-1}(j))  0 $$\n其中 $\\pi^{-1}(k)$ 是数字 $k$ 在排列 $\\pi = (\\pi(1), \\pi(2), \\ldots, \\pi(n))$ 的单行表示法中的位置。\n\n下列关于排列 $\\pi$ 的哪个性质是其对应的排列图 $G(\\pi)$ 不连通的充分必要条件？\n\nA. $\\pi$ 是一个对合，即 $\\pi = \\pi^{-1}$。\n\nB. $\\pi$ 是一个错排，即对所有 $i \\in \\{1, \\ldots, n\\}$ 都有 $\\pi(i) \\neq i$。\n\nC. $\\pi$ 至少固定一个元素，即存在某个 $i \\in \\{1, \\ldots, n\\}$ 使得 $\\pi(i) = i$。\n\nD. 存在一个整数 $k$ 满足 $1 \\le k  n$，使得像集 $\\{\\pi(1), \\pi(2), \\ldots, \\pi(k)\\}$ 等于集合 $\\{1, 2, \\ldots, k\\}$。\n\nE. 排列 $\\pi$ 是逆转元素顺序的特定排列，即对所有 $i$ 都有 $\\pi(i) = n - i + 1$。", "solution": "我们使用给定的定义：顶点集为 $V=\\{1,\\ldots,n\\}$，两个不同的顶点 $i,j$ 之间存在一条边当且仅当 $(i-j)\\big(\\pi^{-1}(i)-\\pi^{-1}(j)\\big)0$，即 $i$ 和 $j$ 的相对顺序恰好被 $\\pi$ 颠倒。\n\nD 的充分性。假设存在 $k$ 满足 $1\\le kn$，使得 $\\{\\pi(1),\\ldots,\\pi(k)\\}=\\{1,\\ldots,k\\}$。这等价于 $\\pi^{-1}(\\{1,\\ldots,k\\})=\\{1,\\ldots,k\\}$，因为 $\\pi$ 是一个双射。因此对于每个 $i\\le k$ 我们有 $\\pi^{-1}(i)\\le k$，并且对于每个 $j\\ge k+1$ 我们有 $\\pi^{-1}(j)\\ge k+1$。那么对于任意 $i\\le kj$，\n$$\n(i-j)\\big(\\pi^{-1}(i)-\\pi^{-1}(j)\\big)\\le (i-j)\\big(k-(k+1)\\big)=(i-j)(-1)0,\n$$\n所以定义边的那个不等式不成立。因此，在顶点集 $\\{1,\\ldots,k\\}$ 和 $\\{k+1,\\ldots,n\\}$ 之间没有边，故 $G(\\pi)$ 是不连通的。\n\nD 的必要性。假设 $G(\\pi)$ 是不连通的。则存在一个非平凡划分 $V=A\\cup B$，其中 $A\\cap B=\\varnothing$，$A,B\\ne\\varnothing$，并且在 $A$ 和 $B$ 之间没有边。令 $k=\\max A$。我们断言，对于所有 $i\\le k$ 和所有 $j\\ge k+1$，都有 $\\pi^{-1}(i)\\pi^{-1}(j)$。对于 $i\\le k$ 有两种情况：\n\n1) 如果 $i\\in A$，那么由于 $j\\notin A$ 且 $ij$，$i$ 和 $j$ 之间没有边意味着 $(i-j)\\big(\\pi^{-1}(i)-\\pi^{-1}(j)\\big)\\ge 0$。因为 $i-j0$，这迫使 $\\pi^{-1}(i)-\\pi^{-1}(j)\\le 0$，即 $\\pi^{-1}(i)\\pi^{-1}(j)$。\n\n2) 如果 $i\\in B$，则 $ik$ 且 $i\\in B$，$k\\in A$。在 $ik$ 的情况下，$i$ 和 $k$ 之间没有边可得 $\\pi^{-1}(i)\\pi^{-1}(k)$。同样，在 $kj$ 的情况下，$k\\in A$ 和 $j\\in B$ 之间没有边可得 $\\pi^{-1}(k)\\pi^{-1}(j)$。因此 $\\pi^{-1}(i)\\pi^{-1}(j)$。\n\n综上，对于所有 $i\\le k$ 和 $j\\ge k+1$，都有 $\\pi^{-1}(i)\\pi^{-1}(j)$。等价地，\n$$\n\\max \\pi^{-1}(\\{1,\\ldots,k\\})\\min \\pi^{-1}(\\{k+1,\\ldots,n\\}).\n$$\n由于 $\\pi^{-1}$ 是一个双射，集合 $\\pi^{-1}(\\{1,\\ldots,k\\})$ 的基数为 $k$ 且完全位于 $\\{1,\\ldots,k\\}$ 内，因此\n$$\n\\pi^{-1}(\\{1,\\ldots,k\\})=\\{1,\\ldots,k\\}.\n$$\n对两边同时作用 $\\pi$ 可得\n$$\n\\{\\pi(1),\\ldots,\\pi(k)\\}=\\{1,\\ldots,k\\},\n$$\n这正是性质 D。因此 D 是必要的。\n\n关于各选项的结论。由以上两个方向的证明，D 是一个充分必要条件。其他选项不成立：\n- A 既非充分也非必要条件（例如，$\\pi=(2,1)$ 产生一个连通图；非对合排列可以根据 D 的条件是不连通的）。\n- B 既非充分也非必要条件（恒等排列是不连通的，但不是错排；存在满足 D 的不连通错排，也存在不满足 D 的连通错排）。\n- C 既非充分也非必要条件（存在有不动点的连通排列，也存在没有不动点的不连通排列）。\n- E 产生一个完全图，它是连通的。\n\n因此，正确选项是 D。", "answer": "$$\\boxed{D}$$", "id": "1526976"}, {"introduction": "在理解了置换图不连通的充要条件后，我们可以将这一理论应用于具体实例。这个练习提供了一个特定的排列，要求你运用上一练习中揭示的原理来识别其图中的所有连通分量。这不仅是对理论的检验，更是一次将抽象概念转化为具体分析工具的实践[@problem_id:1526998]。", "problem": "在图论中，可以从一个数字集合的排列构造一个置换图。设 $\\pi = (\\pi_1, \\pi_2, \\ldots, \\pi_n)$ 是整数集合 $\\{1, 2, \\ldots, n\\}$ 的一个排列。相应的置换图 $G(\\pi)$ 的顶点集为 $V = \\{1, 2, \\ldots, n\\}$。两个不同的顶点 $i$ 和 $j$ 之间存在一条边，当且仅当数对 $(i, j)$ 在该排列中形成一个逆序对。一个逆序对被定义为一对值 $(x, y)$，满足 $x  y$，但在序列 $\\pi$ 中 $x$ 出现在 $y$ 之前。\n\n考虑集合 $\\{1, 2, 3, 4, 5, 6, 7, 8\\}$ 上的特定排列 $\\pi = (1, 4, 3, 2, 5, 8, 7, 6)$。\n\n确定所得置换图 $G(\\pi)$ 中的连通分量总数。", "solution": "在顶点集 $V=\\{1,2,\\ldots,n\\}$ 上的一个置换图中，两个不同顶点 $i$ 和 $j$ 之间存在一条无向边，当且仅当这对顶点是该排列中的一个逆序对。根据题目陈述中基于值的逆序对定义，对于 $ij$ 的情况，一个逆序对恰好在 $i$ 的位置位于 $j$ 的位置右侧时形成。定义 $p(k)$ 为值 $k$ 在 $\\pi$ 中的位置索引，即 $\\pi_{p(k)}=k$。那么，对于 $ij$，顶点 $i$ 和 $j$ 之间存在一条边，当且仅当 $p(i)p(j)$。\n\n对于排列 $\\pi=(1,4,3,2,5,8,7,6)$，计算各值的位置：\n$$\np(1)=1,\\quad p(2)=4,\\quad p(3)=3,\\quad p(4)=2,\\quad p(5)=5,\\quad p(6)=8,\\quad p(7)=7,\\quad p(8)=6.\n$$\n使用该准则：对于 $ij$，边 $\\{i,j\\}$ 存在当且仅当 $p(i)p(j)$。\n\n- 顶点 $1$：对于所有 $j1$，都有 $p(1)=1p(j)$，所以 $1$ 没有边与之相连，是一个孤立点。\n\n- 顶点 $2,3,4$：它们的位置分别是 $p(2)=4$, $p(3)=3, p(4)=2$，这些位置随着值的增加而严格递减。因此，对于每一对满足 $p(2)p(3)$ 的 $23$、满足 $p(2)p(4)$ 的 $24$、以及满足 $p(3)p(4)$ 的 $34$，这三条边都存在。对于任何 $j\\geq 5$，我们有 $p(2),p(3),p(4)p(j)$，因此集合 $\\{2,3,4\\}$ 与集合 $\\{5,6,7,8\\}$ 之间没有边。\n\n- 顶点 $5$：$p(5)=5$。对于 $j5$，有 $p(5)p(j)$；对于 $j5$，有 $p(j)p(5)$。因此，没有与 $5$ 配对的 $j$ 满足 $p(\\min\\{5,j\\})p(\\max\\{5,j\\})$，所以 $5$ 是孤立的。\n\n- 顶点 $6,7,8$：它们的位置分别是 $p(6)=8$, $p(7)=7, p(8)=6$，同样地，随着值的增加而严格递减。因此对于满足 $p(6)p(7)$ 的 $67$、满足 $p(6)p(8)$ 的 $68$、以及满足 $p(7)p(8)$ 的 $78$，这三条边都存在。对于任何 $i\\leq 5$，都有 $p(i)p(6),p(7),p(8)$，所以集合 $\\{6,7,8\\}$ 与集合 $\\{1,2,3,4,5\\}$ 之间没有边。\n\n从这些邻接关系，连通分量为：\n- $\\{1\\}$ (孤立点)，\n- $\\{2,3,4\\}$ (一个3-团)，\n- $\\{5\\}$ (孤立点)，\n- $\\{6,7,8\\}$ (一个3-团)。\n\n因此，$G(\\pi)$ 的连通分量总数为 $4$。", "answer": "$$\\boxed{4}$$", "id": "1526998"}, {"introduction": "置换图不仅具有优美的理论结构，还在算法设计中扮演着重要角色。本练习将通过一个关于网络数据包重排序的模拟场景，向你展示如何将一个看似复杂的优化问题转化为在置换图上寻找最大匹配的问题。通过这个过程，你将体会到如何利用图论模型解决实际中的资源分配与冲突解决问题[@problem_id:1526956]。", "problem": "一个网络路由器使用一个特殊缓冲区来管理和重排序乱序的数据包。该缓冲区有 $n$ 个位置，标记为 $1, 2, \\dots, n$。在某一时刻，缓冲区中数据包的排列由集合 $\\{1, 2, \\dots, n\\}$ 的一个置换 $\\pi$ 来描述，其中 $\\pi(i)$ 表示位于缓冲区位置 $i$ 的唯一数据包编号。\n\n路由器的控制逻辑旨在识别位置的“逆序对”。对于 $i  j$ 的一对位置 $(i, j)$，如果位置 $i$ 的数据包序列号大于位置 $j$ 的数据包序列号，即 $\\pi(i)  \\pi(j)$，则该对位置被归类为逆序对。这些逆序对代表了需要解决的冲突。\n\n为了优化重排序过程，路由器尝试执行一组同时进行的纠正性交换。单个纠正性交换作用于一个逆序对。如果集合中任意两个交换不涉及相同的缓冲区位置，则这组交换被认为是“非干涉的”。路由器的目标是确定在单个并行步骤中可以执行的非干涉纠正性交换的最大数量。\n\n考虑一个大小为 $n=6$ 的缓冲区。数据包排列由置换 $\\pi = (3, 6, 1, 5, 2, 4)$ 给出。可以同时执行的非干涉纠正性交换的最大数量是多少？", "solution": "该问题要求找出在给定缓冲区数据包排列下，非干涉纠正性交换的最大数量。这可以用图论来建模。\n\n首先，让我们将问题形式化。缓冲区位置 $\\{1, 2, 3, 4, 5, 6\\}$ 可以表示为图 $G = (V, E)$ 的顶点集 $V$。“逆序对”定义了该图的边。两个顶点 $i$ 和 $j$ 之间存在一条边，当且仅当它们形成一个逆序对。根据问题陈述，如果 $i  j$ 且 $\\pi(i)  \\pi(j)$，则边 $(i, j)$ 属于边集 $E$。这种构造定义了一个置换图。\n\n一组“非干涉的纠正性交换”对应于图 $G$ 中的一个边集，其中任意两条边都不共享一个公共顶点。这正是图论中匹配的定义。因此，寻找“非干涉纠正性交换的最大数量”的问题等价于在对应于 $\\pi$ 的置换图 $G$ 中寻找最大匹配的大小。最大匹配的大小也称为图的匹配数，记作 $\\alpha'(G)$。\n\n给定的置换是作用在位置集合 $V = \\{1, 2, 3, 4, 5, 6\\}$ 上的 $\\pi = (3, 6, 1, 5, 2, 4)$。我们需要找出所有满足 $i  j$ 且 $\\pi(i)  \\pi(j)$ 的对 $(i, j)$。这些对将构成边集 $E$。\n\n让我们系统地检查所有可能的对 $(i, j)$，其中 $1 \\le i  j \\le 6$：\n\n- 对于 $i=1$ ($\\pi(1)=3$)：\n  - $j=2$: $\\pi(2)=6$。$3  6$。没有边。\n  - $j=3$: $\\pi(3)=1$。$3  1$。存在边 $(1, 3)$。\n  - $j=4$: $\\pi(4)=5$。$3  5$。没有边。\n  - $j=5$: $\\pi(5)=2$。$3  2$。存在边 $(1, 5)$。\n  - $j=6$: $\\pi(6)=4$。$3  4$。没有边。\n\n- 对于 $i=2$ ($\\pi(2)=6$)：\n  - $j=3$: $\\pi(3)=1$。$6  1$。存在边 $(2, 3)$。\n  - $j=4$: $\\pi(4)=5$。$6  5$。存在边 $(2, 4)$。\n  - $j=5$: $\\pi(5)=2$。$6  2$。存在边 $(2, 5)$。\n  - $j=6$: $\\pi(6)=4$。$6  4$。存在边 $(2, 6)$。\n\n- 对于 $i=3$ ($\\pi(3)=1$)：\n  - 值 $\\pi(3)=1$ 是可能的最小值，所以它不可能大于任何其他的 $\\pi(j)$。没有以 $i=3$ 开始的边。\n\n- 对于 $i=4$ ($\\pi(4)=5$)：\n  - $j=5$: $\\pi(5)=2$。$5  2$。存在边 $(4, 5)$。\n  - $j=6$: $\\pi(6)=4$。$5  4$。存在边 $(4, 6)$。\n\n- 对于 $i=5$ ($\\pi(5)=2$)：\n  - $j=6$: $\\pi(6)=4$。$2  4$。没有边。\n\n所以，图 $G$ 的边集是 $E = \\{(1, 3), (1, 5), (2, 3), (2, 4), (2, 5), (2, 6), (4, 5), (4, 6)\\}$。\n\n现在我们需要在这个图中找到最大匹配。匹配是 $E$ 的一个子集，其中任意两条边都不共享顶点。我们可以通过观察或尝试构造一个大的匹配来找到它。\n让我们尝试构建一个匹配：\n\n- 考虑边 $(1, 5)$。顶点 $1$ 和 $5$ 现在已被使用。剩余的可用顶点是 $\\{2, 3, 4, 6\\}$。\n- 从剩余的顶点中，我们寻找一条连接其中两个顶点的边。边 $(2, 3)$ 可行。现在顶点 $2$ 和 $3$ 已被使用。剩余的可用顶点是 $\\{4, 6\\}$。\n- 从剩余的顶点中，我们寻找一条边。边 $(4, 6)$ 在 $E$ 中。\n\n这给了我们一个匹配 $M = \\{(1, 5), (2, 3), (4, 6)\\}$。\n让我们验证这是一个有效的匹配。涉及的顶点是 $\\{1, 5\\}$、$\\{2, 3\\}$ 和 $\\{4, 6\\}$。这六个顶点在各对中都是不同的，因此没有两条边共享一个顶点。所以，$M$ 是一个有效的匹配。\n\n这个匹配的大小是 $|M| = 3$。\n在一个有 $n$ 个顶点的图中，匹配的最大大小为 $\\lfloor n/2 \\rfloor$。在我们的例子中，$n=6$，所以任何匹配的最大可能大小是 $\\lfloor 6/2 \\rfloor = 3$。\n因为我们已经找到了一个大小为 3 的匹配，所以这必定是一个最大匹配。这个特殊的匹配也是一个完美匹配，因为它包含了图的所有顶点。\n\n因此，可以同时执行的非干涉纠正性交换的最大数量是 3。", "answer": "$$\\boxed{3}$$", "id": "1526956"}]}