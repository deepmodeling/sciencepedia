{"hands_on_practices": [{"introduction": "掌握区间图的第一步是学会如何从一组给定的时间间隔构建出相应的图。这个练习将带你通过一个项目管理中的任务调度场景，亲手将时间段转化为图的顶点和边。通过这个过程，你将加深对区间图定义的理解，并练习分析图的基本属性。[@problem_id:1514695]", "problem": "在项目管理中，时间安排重叠的任务会产生资源冲突。这些冲突可以用区间图来建模。考虑一个有六个任务的项目，分别标记为 A、B、C、D、E 和 F。每个任务所需的时间区间（以任意单位计）以下列闭区间的形式给出：\n- 任务 A: $[1, 5]$\n- 任务 B: $[2, 6]$\n- 任务 C: $[4, 8]$\n- 任务 D: $[7, 10]$\n- 任务 E: $[9, 11]$\n- 任务 F: $[12, 14]$\n\n为这个项目进度表构造一个区间图 $G$。图的顶点对应于这些任务，且当且仅当两个顶点对应的任务区间重叠时，在这两个顶点之间画一条边。如果两个区间（包括端点）至少有一个公共点，则认为它们重叠（例如，$[1, 2]$ 和 $[2, 3]$ 被认为是重叠的）。\n\n关于生成的图 $G$，以下哪个陈述是正确的？\n\nA. 图 $G$ 是连通的。\n\nB. 图 $G$ 包含一个长度为 4 的环。\n\nC. 图 $G$ 中任意顶点的最大度为 3。\n\nD. 图 $G$ 是一棵树。\n\nE. 图 $G$ 恰好有三个连通分量。", "solution": "我们根据以下规则对区间图进行建模：两个闭区间 $[x,y]$ 和 $[u,v]$ 重叠，当且仅当 $\\max(x,u) \\le \\min(y,v)$。这些区间是\n$A:[1,5]$, $B:[2,6]$, $C:[4,8]$, $D:[7,10]$, $E:[9,11]$, $F:[12,14]$。\n\n两两检查重叠情况：\n- $A$ 与 $B$：$\\max(1,2)=2 \\le \\min(5,6)=5$，因此 $A\\sim B$。\n- $A$ 与 $C$：$\\max(1,4)=4 \\le \\min(5,8)=5$，因此 $A\\sim C$。\n- $A$ 与 $D$：$\\max(1,7)=7 \\nleq \\min(5,10)=5$，因此没有边。\n- $A$ 与 $E$：$\\max(1,9)=9 \\nleq \\min(5,11)=5$，因此没有边。\n- $A$ 与 $F$：$\\max(1,12)=12 \\nleq \\min(5,14)=5$，因此没有边。\n\n- $B$ 与 $C$：$\\max(2,4)=4 \\le \\min(6,8)=6$，因此 $B\\sim C$。\n- $B$ 与 $D$：$\\max(2,7)=7 \\nleq \\min(6,10)=6$，因此没有边。\n- $B$ 与 $E$：$\\max(2,9)=9 \\nleq \\min(6,11)=6$，因此没有边。\n- $B$ 与 $F$：$\\max(2,12)=12 \\nleq \\min(6,14)=6$，因此没有边。\n\n- $C$ 与 $D$：$\\max(4,7)=7 \\le \\min(8,10)=8$，因此 $C\\sim D$。\n- $C$ 与 $E$：$\\max(4,9)=9 \\nleq \\min(8,11)=8$，因此没有边。\n- $C$ 与 $F$：$\\max(4,12)=12 \\nleq \\min(8,14)=8$，因此没有边。\n\n- $D$ 与 $E$：$\\max(7,9)=9 \\le \\min(10,11)=10$，因此 $D\\sim E$。\n- $D$ 与 $F$：$\\max(7,12)=12 \\nleq \\min(10,14)=10$，因此没有边。\n\n- $E$ 与 $F$：$\\max(9,12)=12 \\nleq \\min(11,14)=11$，因此没有边。\n\n因此，边集为 $\\{AB, AC, BC, CD, DE\\}$。各顶点的度为 $\\deg(A)=2$, $\\deg(B)=2$, $\\deg(C)=3$, $\\deg(D)=2$, $\\deg(E)=1$, $\\deg(F)=0$。因此，最大度为 $3$，在顶点 $C$ 处取得。\n\n连通性：顶点 $A,B,C,D,E$ 通过路径 $A$–$B$–$C$–$D$–$E$（其中 $A,B,C$ 之间有一个三角形）形成一个连通分量，而 $F$ 是一个孤立点。因此，恰好有 $2$ 个连通分量，所以该图不连通，也不是一棵树。\n\n环分析：在 $A,B,C$ 上存在一个长度为 3 的环。要存在一个长度为 4 的环，我们需要四个顶点 $v_{1},v_{2},v_{3},v_{4}$，其边为 $v_{1}v_{2}, v_{2}v_{3}, v_{3}v_{4}, v_{4}v_{1}$。检查 $A$–$E$ 中的候选顶点，发现不存在这样的四元组，因为 $A$–$D$、$A$–$E$、$B$–$D$、$B$–$E$、$C$–$E$ 都不是边，所以不存在长度为 4 的环。\n\n评估各个陈述：\n- A: 错误 (图不连通)。\n- B: 错误 (没有长度为 $4$ 的环)。\n- C: 正确 (最大度为 $3$)。\n- D: 错误 (图不连通且包含环)。\n- E: 错误 (有 $2$ 个连通分量，而不是 $3$ 个)。\n\n因此，只有 C 是正确的。", "answer": "$$\\boxed{C}$$", "id": "1514695"}, {"introduction": "了解一个概念同样需要了解它的边界，即哪些图不属于这个类别。这个练习挑战你证明为什么一个简单的四顶点环图 $C_4$ 不能被表示为区间图。通过一个巧妙的几何论证，你将发现区间图的一个重要结构性限制，这对于识别和表征这类图至关重要。[@problem_id:1534410]", "problem": "一个无向图 $G=(V, E)$ 被称为**区间图**，如果它的顶点可以与实直线上的一个区间集合建立一一对应关系，使得两个顶点邻接当且仅当它们对应的区间有非空交集。\n\n考虑一个有四个顶点的圈图，记作 $C_4$。该图的顶点集为 $V = \\{v_1, v_2, v_3, v_4\\}$，边集为 $E = \\{(v_1, v_2), (v_2, v_3), (v_3, v_4), (v_4, v_1)\\}$。图 $C_4$ 是一个著名的*非*区间图的例子。\n\n下列哪个陈述为 $C_4$ 不可能是区间图提供了一个正确且严谨的解释？\n\nA. 设顶点按循环顺序标记。不邻接的顶点 $v_1$ 和 $v_3$ 共享相同的邻域 $\\{v_2, v_4\\}$。如果存在一个区间表示，那么 $v_1$ 和 $v_3$ 的区间必然不相交，且这两个区间都需要与 $v_2$ 和 $v_4$ 的区间相交。这将迫使 $v_2$ 和 $v_4$ 的区间都跨越 $v_1$ 和 $v_3$ 区间之间的间隙，从而导致它们相交。这与 $v_2$ 和 $v_4$ 不邻接的事实相矛盾。\n\nB. 图 $C_4$ 不是区间图，因为它是二部图。许多二部图，例如当 $m,n \\ge 2$ 时的完全二部图 $K_{m,n}$，都不是区间图，而 $C_4$ 由于其结构也属于这一类。\n\nC. 任何具有 $n \\ge 4$ 个顶点的圈图 $C_n$ 都不能是区间图。试图在一条一维直线上排列区间来表示一个循环结构总是会失败，因为最后一个顶点 $v_n$ 的区间必须与第一个顶点 $v_1$ 的区间相交，同时不能与其他需要不邻接的顶点相交，这在几何上是不可能的。\n\nD. 一个图是区间图，当且仅当它不包含星形三元组（一个由三个顶点组成的独立集，其中任意两点之间都存在一条不包含第三个顶点任何邻居的路径）并且是弦图。图 $C_4$ 包含一个星形三元组，具体来说是顶点 $\\{v_1, v_2, v_3\\}$，因此它不是一个区间图。", "solution": "我们回顾定义：在区间表示中，两个顶点邻接当且仅当它们对应的区间相交，而不邻接的顶点必须对应不相交的区间。\n\n使用反证法，假设 $C_{4}$ 存在一个区间表示。将顶点循环标记为 $v_{1},v_{2},v_{3},v_{4}$，并设它们对应的区间分别为 $I_{1},I_{2},I_{3},I_{4}$。由于 $v_{1}$ 和 $v_{3}$ 不邻接，它们的区间必须不相交：$I_{1}\\cap I_{3}=\\varnothing$。因为 $v_{2}$ 与 $v_{1}$ 和 $v_{3}$ 都邻接，所以它的区间必须与 $I_{1}$ 和 $I_{3}$ 都相交：$I_{2}\\cap I_{1}\\neq\\varnothing$ 且 $I_{2}\\cap I_{3}\\neq\\varnothing$。类似地，$v_{4}$ 与 $v_{1}$ 和 $v_{3}$ 都邻接，因此 $I_{4}\\cap I_{1}\\neq\\varnothing$ 且 $I_{4}\\cap I_{3}\\neq\\varnothing$。\n\n设不相交的区间 $I_1$ 和 $I_3$ 在实线上被一个非空开间隙 $G$ 分隔。要使一个区间同时与 $I_1$ 和 $I_3$ 相交，它必须同时包含 $I_1$ 和 $I_3$ 中的点。由于区间是实线上的凸子集，任何这样的区间都必须包含这两点之间的整个闭合线段，因此必然要包含间隙 $G$。所以，$I_2$ 和 $I_4$ 都包含 $G$，这意味着 $I_2 \\cap I_4 \\neq \\varnothing$。\n\n然而，在 $C_4$ 中 $v_2$ 和 $v_4$ 是不邻接的，所以它们的区间必须不相交。这个矛盾表明 $C_4$ 不存在区间表示。这正是选项 A 中提出的严谨推理。\n\n选项 B 是错误的，因为是二部图并不排除其成为区间图（例如，树既是区间图也是二部图）。选项 C 陈述了一个事实（$n\\geq 4$ 的圈图 $C_{n}$ 都不是区间图），但给出的理由不严谨。选项 D 引用了区间图的一个正确刻画（是弦图且无星形三元组），但错误地声称 $C_{4}$ 包含一个星形三元组；此外，$C_{4}$ 不满足弦性，仅此一点就足以排除它是一个区间图。", "answer": "$$\\boxed{A}$$", "id": "1534410"}, {"introduction": "区间图在解决现实世界中的资源分配问题上具有强大的威力。本练习模拟了一个计算中心的作业调度问题，你的任务是最小化需要被移出系统的作业数量，以保证系统不会超载。这个问题不仅展示了区间图的实际应用，还引导你思考解决此类优化问题的有效算法策略。[@problem_id:1514663]", "problem": "一个超级计算中心需要调度一组科学计算任务。每个任务都有一个连续的时间区间，在此期间它必须被主动处理。该中心的核心处理单元最多可以同时处理 $k$ 个任务。如果在任何时刻有超过 $k$ 个任务同时运行，系统将会过载并崩溃。为防止这种情况，系统管理员可以选择将一些任务卸载到外部云服务，从而将它们从本地调度中移除。目标是通过最小化卸载的任务数量来确保系统稳定。\n\n给定一组8个任务和一个并发限制 $k=2$。各任务的时间区间以 [开始时间, 结束时间] 的形式给出：\n- 任务 1: [1, 5]\n- 任务 2: [2, 6]\n- 任务 3: [3, 7]\n- 任务 4: [4, 8]\n- 任务 5: [9, 11]\n- 任务 6: [10, 14]\n- 任务 7: [12, 13]\n- 任务 8: [15, 17]\n\n为了确保任何时候运行的任务都不超过2个，最少需要卸载多少个任务？", "solution": "我们将问题形式化为：最小化移除的区间数量，以使并发数永远不超过限制。设 $k=2$ 并定义并发函数 $c(t)$ 为在时间 $t$ 活跃的任务数量。一个必要的移除数量下界是\n$$\nR_{\\min} \\geq \\max_{t} \\max\\{0,\\, c(t) - k\\}.\n$$\n对于区间图，要移除最少数量的区间以确保对所有 $t$ 都有 $c(t) \\leq k$，可以通过扫描线贪心算法实现：按开始时间递增的顺序处理任务，维持最多 $k$ 个活跃任务，当重叠的任务数将要超过 $k$ 时，从重叠的集合中卸载结束时间最晚的任务。这个策略是最优的，因为移除结束最晚的任务可以最小化未来的冲突。\n\n我们计算给定区间上的 $c(t)$：\n- 任务是：$[1,5], [2,6], [3,7], [4,8], [9,11], [10,14], [12,13], [15,17]$。\n\n在区间 $[1,8]$上：\n- 对于 $t \\in (1,2)$：$c(t)=1$ (任务 1)。\n- 对于 $t \\in (2,3)$：$c(t)=2$ (任务 1, 2)。\n- 对于 $t \\in (3,4)$：$c(t)=3$ (任务 1, 2, 3)。\n- 对于 $t \\in (4,5)$：$c(t)=4$ (任务 1, 2, 3, 4)。\n- 对于 $t \\in (5,6)$：$c(t)=3$ (任务 2, 3, 4)。\n- 对于 $t \\in (6,7)$：$c(t)=2$ (任务 3, 4)。\n- 对于 $t \\in (7,8)$：$c(t)=1$ (任务 4)。\n\n在后面的区间上：\n- 对于 $t \\in (9,10)$：$c(t)=1$ (任务 5)。\n- 对于 $t \\in (10,11)$：$c(t)=2$ (任务 5, 6)。\n- 对于 $t \\in (11,12)$：$c(t)=1$ (任务 6)。\n- 对于 $t \\in (12,13)$：$c(t)=2$ (任务 6, 7)。\n- 对于 $t \\in (13,14)$：$c(t)=1$ (任务 6)。\n- 对于 $t \\in (15,17)$：$c(t)=1$ (任务 8)。\n\n因此，最大并发数是 $\\max_{t} c(t)=4$，在区间 $(4,5)$ 上达到。下界给出 $R_{\\min} \\geq 4-2=2$。\n\n我们现在应用最优贪心移除策略：\n- 按开始时间处理：添加 $[1,5]$ 和 $[2,6]$ (两个活跃任务)。\n- 当 $[3,7]$ 开始时，将会有三个活跃任务。从 $\\{[1,5],[2,6],[3,7]\\}$ 中卸载结束时间最晚的一个，即 $[3,7]$。\n- 当 $[4,8]$ 开始时，同样有三个候选任务 $\\{[1,5],[2,6],[4,8]\\}$；卸载结束最晚的 $[4,8]$。\n- 如上所述，剩余的任务在后面的时间段内并发数从未超过两个。\n\n这样恰好移除了两个任务，并确保对所有 $t$ 都有 $c(t) \\leq 2$。由于这与下界相符，因此它是最优的。\n\n因此，必须卸载的最小任务数量是 $2$。", "answer": "$$\\boxed{2}$$", "id": "1514663"}]}