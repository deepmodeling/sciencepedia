{"hands_on_practices": [{"introduction": "掌握树分解定义的最好方法就是亲自动手检验。这个练习将引导你逐一检查一个给定的分解是否满足三个核心属性：顶点覆盖、边覆盖和连通性。这是理解和使用树分解所必需的基本功，通过它你可以真正内化这些抽象的规则。[@problem_id:1550977]", "problem": "考虑一个无向图 $G = (V, E)$，其顶点集为 $V = \\{1, 2, 3, 4, 5\\}$，边集为 $E = \\{(1, 2), (2, 3), (3, 1), (3, 4), (4, 5), (5, 3)\\}$。\n\n图 $G$ 的一个树分解是一个有序对 $(T, \\mathcal{X})$，其中 $T$ 是一棵树，而 $\\mathcal{X} = \\{X_i\\}_{i \\in V(T)}$ 是一个由 $T$ 的节点索引的 $V$ 的子集（称为“袋”）的集合，它满足以下三个性质：\n1.  **顶点覆盖**：所有袋的并集是 $G$ 的完整顶点集。即 $\\bigcup_{i \\in V(T)} X_i = V$。\n2.  **边覆盖**：对于 $E$ 中的每一条边 $(u, v)$，都存在至少一个袋 $X_i$ 同时包含 $u$ 和 $v$。\n3.  **连通性**：对于 $V$ 中的每一个顶点 $v$，其对应袋包含 $v$ 的那些 $T$ 的节点集合，即 $\\{i \\in V(T) \\mid v \\in X_i\\}$，构成 $T$ 的一个连通子树。\n\n一个树分解 $(T, \\mathcal{X})$ 的**宽度**定义为 $\\max_{i \\in V(T)} |X_i| - 1$。\n\n以下哪个选项描述了图 $G$ 的一个有效的树分解，其宽度恰好为 2？\n\nA. 树 $T$ 有两个节点 $\\{t_1, t_2\\}$，它们之间有一条边。袋为 $X_{t_1} = \\{1, 2, 3\\}$ 和 $X_{t_2} = \\{3, 4\\}$。\n\nB. 树 $T$ 有两个节点 $\\{t_1, t_2\\}$，它们之间有一条边。袋为 $X_{t_1} = \\{1, 2, 4, 5\\}$ 和 $X_{t_2} = \\{3\\}$。\n\nC. 树 $T$ 有两个节点 $\\{t_1, t_2\\}$，它们之间有一条边。袋为 $X_{t_1} = \\{1, 2, 3\\}$ 和 $X_{t_2} = \\{1, 4, 5\\}$。\n\nD. 树 $T$ 有两个节点 $\\{t_1, t_2\\}$，它们之间有一条边。袋为 $X_{t_1} = \\{1, 2, 3\\}$ 和 $X_{t_2} = \\{3, 4, 5\\}$。\n\nE. 树 $T$ 是一条有三个节点的路径 $t_1 - t_2 - t_3$。袋为 $X_{t_1} = \\{1, 2, 3\\}$, $X_{t_2} = \\{1, 5\\}$, 和 $X_{t_3} = \\{3, 4, 5\\}$。", "solution": "设 $G=(V,E)$，其中 $V=\\{1,2,3,4,5\\}$ 且 $E=\\{(1,2),(2,3),(3,1),(3,4),(4,5),(5,3)\\}$。一个树分解 $(T,\\mathcal{X})$ 必须满足：\n1) 顶点覆盖：$\\bigcup_{i\\in V(T)}X_{i}=V$。\n2) 边覆盖：对于每个 $(u,v)\\in E$，存在一个 $i$ 使得 $\\{u,v\\}\\subseteq X_{i}$。\n3) 连通性：对于每个 $v\\in V$，索引集 $\\{i\\in V(T)\\mid v\\in X_{i}\\}$ 在 $T$ 中是连通的。\n宽度为 $\\max_{i\\in V(T)}|X_{i}|-1$；宽度恰好为 $2$ 要求 $\\max_{i}|X_{i}|=3$ 且各项性质均须满足。\n\n检查每个选项：\n\nA. $T$ 有两个节点 $t_{1}-t_{2}$，$X_{t_{1}}=\\{1,2,3\\}$, $X_{t_{2}}=\\{3,4\\}$。顶点覆盖性不满足，因为 $5\\notin X_{t_{1}}\\cup X_{t_{2}}$，所以 $\\{1,2,3,4\\}\\neq V$。因此性质1不成立。宽度为 $\\max(3,2)-1=2$，但该分解无效。\n\nB. $X_{t_{1}}=\\{1,2,4,5\\}$, $X_{t_{2}}=\\{3\\}$。宽度为 $\\max(4,1)-1=3\\neq 2$，因此其宽度不为 2。此外，边 $(2,3)$ 未被任何袋覆盖，所以性质2也不成立。\n\nC. $X_{t_{1}}=\\{1,2,3\\}$, $X_{t_{2}}=\\{1,4,5\\}$。宽度为 $\\max(3,3)-1=2$。顶点覆盖性成立：$\\{1,2,3\\}\\cup\\{1,4,5\\}=V$。边覆盖性对于 $(3,4)$ 和 $(3,5)$ 不成立，因为没有袋包含 $\\{3,4\\}$ 或 $\\{3,5\\}$。因此该分解无效。\n\nD. $X_{t_{1}}=\\{1,2,3\\}$, $X_{t_{2}}=\\{3,4,5\\}$。宽度为 $\\max(3,3)-1=2$。顶点覆盖性成立：$\\{1,2,3\\}\\cup\\{3,4,5\\}=V$。边覆盖性：\n- $(1,2),(2,3),(3,1)\\subseteq X_{t_{1}}$,\n- $(3,4),(4,5),(5,3)\\subseteq X_{t_{2}}$。\n连通性：对于 $v=1,2$，只有 $t_{1}$ 包含 $v$；对于 $v=4,5$，只有 $t_{2}$ 包含 $v$；对于 $v=3$，$t_{1}$ 和 $t_{2}$ 都包含 $v$，且 $\\{t_{1},t_{2}\\}$ 在 $T$ 中是连通的。因此，所有三个性质都成立，且宽度为 2。\n\nE. $T$ 是路径 $t_{1}-t_{2}-t_{3}$，$X_{t_{1}}=\\{1,2,3\\}$, $X_{t_{2}}=\\{1,5\\}$, $X_{t_{3}}=\\{3,4,5\\}$。宽度为 $\\max(3,2,3)-1=2$。顶点覆盖和边覆盖性质均成立。然而，对于 $v=3$，连通性不成立，因为 $3\\in X_{t_{1}}$ 且 $3\\in X_{t_{3}}$ 但 $3\\notin X_{t_{2}}$，所以 $\\{i\\mid 3\\in X_{i}\\}=\\{t_{1},t_{3}\\}$ 在 $T$ 中不是连通的。\n\n因此，选项中唯一宽度恰好为 2 的有效树分解是 D。", "answer": "$$\\boxed{D}$$", "id": "1550977"}, {"introduction": "在能够验证树分解之后，下一步便是尝试确定一个图的树宽，即所有可能分解中的最小宽度。这个问题介绍了一种强大的通用策略：通过构造一个具体的分解来确定上界，同时利用图子式（graph minor）等工具来论证下界。通过对轮图 $W_n$ 这个典型图家族的分析，你将学会如何精确地确定一个图的树宽。[@problem_id:1555572]", "problem": "在图论中，一个图 $G = (V, E)$ 的树分解是一个对 $(T, \\{X_t\\}_{t \\in V(T)})$，其中 $T$ 是一棵树，每个 $X_t$（称为一个袋）是 $V$ 的一个子集，满足以下三个性质：\n1. 所有袋的并集是 G 的顶点集：$\\bigcup_{t \\in V(T)} X_t = V$。\n2. 对于每条边 $(u, v) \\in E$，都存在一个袋 $X_t$，使得 $u$ 和 $v$ 都在 $X_t$ 中。\n3. 对于每个顶点 $v \\in V$，其对应袋包含 $v$ 的 $T$ 的节点集合，即 $\\{t \\in V(T) \\mid v \\in X_t\\}$，构成 $T$ 的一个连通子树。\n\n一个树分解的宽度定义为 $\\max_{t \\in V(T)} |X_t| - 1$。图 $G$ 的树宽，记作 $tw(G)$，是 $G$ 所有可能树分解中的最小宽度。\n\n考虑有 $n$ 个顶点的轮图 $W_n$，$n \\ge 4$。其顶点集为 $V = \\{c, v_1, v_2, \\ldots, v_{n-1}\\}$。顶点 $c$ 是中心顶点，与所有其他顶点 $v_1, \\ldots, v_{n-1}$ 相连。这 $n-1$ 个顶点形成一个环，边为 $(v_i, v_{i+1})$（$i=1, \\ldots, n-2$）以及边 $(v_{n-1}, v_1)$。\n\n设 $tw(W_n)$ 为轮图 $W_n$ 的树宽。对于所有 $n \\ge 5$，以下哪个陈述是正确的？\n\nA. $tw(W_n) = 2$，且一个最优树分解可以用大小为3的、排列成一个环的袋来构造。\n\nB. $tw(W_n) = 3$，且任何最优树分解的底层树 $T$ 都必须是一条路径。\n\nC. $tw(W_n) = 3$，且可以构造一个最优树分解，其底层树 $T$ 是一条路径。\n\nD. 对于 $n \\ge 5$，$tw(W_n)$ 不是一个常数；具体来说，$tw(W_n) = \\lfloor \\frac{n-1}{2} \\rfloor$。\n\nE. $tw(W_n) = 4$，因为 $W_n$ 包含一个 $K_4$ 子图，且中心顶点使树宽加一。", "solution": "为确定正确的陈述，我们必须首先求出对于 $n \\ge 5$ 的轮图 $W_n$ 的树宽。我们将通过确定 $tw(W_n)$ 的一个下界和一个上界来完成此任务。\n\n**1. 确定下界（对于任意 $n \\ge 4$）**\n\n图论中的一个关键定理指出，如果图 $H$ 是图 $G$ 的一个图子式 (minor)，则 $tw(H) \\le tw(G)$。一个完全图 $K_k$ 的树宽是 $k-1$。如果我们能证明 $W_n$ (对于 $n \\ge 4$) 有一个 $K_4$ 图子式，这就意味着 $tw(W_n) \\ge tw(K_4) = 4-1 = 3$。\n\n为了在 $W_n$ 中找到一个 $K_4$ 图子式，我们需要找到四个不相交的非空顶点子集 $V_1, V_2, V_3, V_4$，使得由每个 $V_i$ 导出的子图都是连通的，并且对于每一对 $i \\ne j$，在 $W_n$ 中都有一条边连接 $V_i$ 中的一个顶点和 $V_j$ 中的一个顶点。\n\n让我们为顶点为 $\\{c, v_1, \\dots, v_{n-1}\\}$ 的 $W_n$ (其中 $n \\ge 4$) 定义这些集合：\n- $V_1 = \\{c\\}$\n- $V_2 = \\{v_1\\}$\n- $V_3 = \\{v_2\\}$\n- $V_4 = \\{v_3, v_4, \\ldots, v_{n-1}\\}$\n\n让我们检查这些条件：\n- 这些集合是不相交的，并且它们的并集是 $V(W_n)$ 的一个子集。这是成立的。\n- 导出子图 $W_n[V_i]$ 是连通的。$W_n[V_1]$、$W_n[V_2]$ 和 $W_n[V_3]$ 是单个顶点，它们是连通的。对于 $V_4$，顶点 $\\{v_3, \\dots, v_{n-1}\\}$ 在轮图的轮辋上形成一条路径（例如 $v_3-v_4-\\dots-v_{n-1}$），这是连通的。只要 $V_4$ 非空，这个条件就成立，而对于 $n \\ge 4$，这是成立的。\n- 这些集合是互相邻接的：\n    - $(V_1, V_2)$: 边 $(c, v_1)$ 连接它们。\n    - $(V_1, V_3)$: 边 $(c, v_2)$ 连接它们。\n    - $(V_1, V_4)$: 边 $(c, v_3)$ 连接它们（因为 $v_3 \\in V_4$）。\n    - $(V_2, V_3)$: 轮辋边 $(v_1, v_2)$ 连接它们。\n    - $(V_2, V_4)$: 轮辋边 $(v_1, v_{n-1})$ 连接它们（因为 $v_{n-1} \\in V_4$）。\n    - $(V_3, V_4)$: 轮辋边 $(v_2, v_3)$ 连接它们（因为 $v_3 \\in V_4$）。\n\n由于所有条件都已满足，对于所有 $n \\ge 4$，$W_n$ 都有一个 $K_4$ 图子式。这确立了下界：$tw(W_n) \\ge 3$。这也适用于 $n \\ge 5$ 的情况。\n\n**2. 确定上界（对于 $n \\ge 4$）**\n\n为了确定一个上界，我们必须构造一个宽度为3的树分解。宽度为3意味着最大的袋的大小必须为 $3+1 = 4$。\n\n设树 $T$ 是一条有 $n-2$ 个节点的路径 $t_1, t_2, \\ldots, t_{n-2}$。对于 $T$ 上的每个节点 $t_i$（$i=1, \\ldots, n-2$），我们按如下方式定义一个袋 $X_{t_i}$：\n$X_{t_i} = \\{c, v_i, v_{i+1}, v_1\\}$。\n\n让我们为 $n \\ge 4$ 验证这个构造。\n- **宽度**: 每个袋的大小都是 4，所以宽度是 $4-1=3$。\n- **顶点覆盖**: 中心顶点 $c$ 和轮辋顶点 $v_1$ 在每个袋中。对于 $j \\in \\{2, \\ldots, n-1\\}$，顶点 $v_j$ 在袋 $X_{t_{j-1}}$ 和 $X_{t_j}$ (如果 $j  n-1$) 中。具体来说， $v_j$ 包含在袋 $X_{t_{j-1}} = \\{c, v_{j-1}, v_j, v_1\\}$ 和 $X_{t_j} = \\{c, v_j, v_{j+1}, v_1\\}$ 中。顶点 $v_2$ 在 $X_{t_1}$ 中， $v_{n-1}$ 在 $X_{t_{n-2}}$ 中。所有顶点都被覆盖。\n- **边覆盖**: 中心边 $(c, v_j)$ 对于 $j \\ge 2$ 包含在 $X_{t_{j-1}}$ 中，$(c, v_1)$ 包含在所有袋中。轮辋边 $(v_i, v_{i+1})$ 对于 $i \\in \\{1, \\ldots, n-2\\}$ 包含在袋 $X_{t_i}$ 中。环绕的轮辋边 $(v_{n-1}, v_1)$ 包含在袋 $X_{t_{n-2}} = \\{c, v_{n-2}, v_{n-1}, v_1\\}$ 中。所有边都被覆盖。\n- **连通子树**: 顶点 $c$ 和 $v_1$ 包含在所有袋中，其对应的节点集是整条路径 $T$，是连通的。对于 $j \\in \\{2, \\ldots, n-1\\}$，顶点 $v_j$ 包含在袋 $X_{t_{j-1}}$ 和 $X_{t_j}$ 中（对于 $j=2$ 和 $j=n-1$ 只在一个袋中）。这些袋在路径 $T$ 上是连续的。因此，该性质成立。\n\n*（注：上述是一个有效的宽度为3的路径分解，证明了上界。原解答中的分解 $X_{t_i} = \\{c, v_1, v_{i+1}, v_{i+2}\\}$ 也是一个有效的宽度为3的路径分解，两种构造均可证明 $tw(W_n) \\le 3$。）*\n\n**关于树宽的结论**\n\n由于我们已经证明了对于所有 $n \\ge 4$ 都存在 $tw(W_n) \\ge 3$ 和 $tw(W_n) \\le 3$，我们可以得出结论：对于 $n \\ge 4$，$tw(W_n) = 3$。对于本题的条件 $n \\ge 5$ 来说，这是正确的。\n\n**选项分析**\n\n现在我们来评估对于 $n \\ge 5$的每个陈述：\n\nA. $tw(W_n) = 2$，且一个最优树分解可以用大小为3的、排列成一个环的袋来构造。\n这是错误的。我们已经证明了 $tw(W_n) = 3$。此外，树分解的底层结构必须是一棵树，而不是一个环。\n\nB. $tw(W_n) = 3$，且任何最优树分解的底层树 $T$ 都必须是一条路径。\n前半部分，$tw(W_n)=3$，是正确的。然而，声称*任何*最优分解的树都必须是路径，这是错误的。例如，考虑我们构造的路径分解 $(T, \\{X_t\\})$。我们可以通过在 $t_1 \\in V(T)$ 上添加一个新的叶节点 $t'$ 来形成一棵新的树 $T'$。我们可以定义一组新的袋，其中 $t'$ 的袋是 $t_1$ 的袋的副本，即 $X'_{t'} = X_{t_1}$。这个新的分解宽度也是3，但其底层树 $T'$ 不是一条路径。\n\nC. $tw(W_n) = 3$，且可以构造一个最优树分解，其底层树 $T$ 是一条路径。\n这是正确的。我们求得 $tw(W_n) = 3$，并且我们的显式构造提供了一个最优树分解（宽度为3），其底层树是一条路径。\n\nD. 对于 $n \\ge 5$，$tw(W_n)$ 不是一个常数；具体来说，$tw(W_n) = \\lfloor \\frac{n-1}{2} \\rfloor$。\n这是错误的。我们证明了对于所有 $n \\ge 4$，$tw(W_n) = 3$，所以对于 $n \\ge 5$ 它是一个常数。\n\nE. $tw(W_n) = 4$，因为 $W_n$ 包含一个 $K_4$ 子图，且中心顶点使树宽加一。\n这是错误的。树宽是3，不是4。其推理也是有缺陷的。对于 $n \\ge 5$，$W_n$ 不包含 $K_4$ 作为子图（它只有三角形）。它有一个 $K_4$ *图子式*，这给出了下界3，而不是4。中心顶点对树宽的影响不是简单的加法。\n\n因此，唯一正确的陈述是 C。", "answer": "$$\\boxed{C}$$", "id": "1555572"}, {"introduction": "树宽并不仅仅是一个数值，它深刻地揭示了图的内在结构。此练习将树宽与一个更深层次的概念——禁忌子式（forbidden minor）——联系起来。你将探索为何低树宽的图无法包含某些复杂的结构（如大的完全图 $K_n$），这为你从结构的角度理解图的“树状”程度提供了一个全新的视角。[@problem_id:1505277]", "problem": "在网络设计的研究中，某些图论性质对于确保高效的数据路由和处理至关重要。其中一个性质是树宽（treewidth），它衡量一个图的“树状”程度。较低的树宽通常意味着图中某些复杂的计算问题可以被高效地解决。\n\n一个图 $G = (V, E)$ 的“树分解”（tree decomposition）是一个对 $(T, \\{X_i\\}_{i \\in V_T})$，其中 $T = (V_T, E_T)$ 是一棵树，每个 $X_i$ 是 $V$ 的一个子集（称为“袋”），且满足以下三个性质：\n1.  所有袋 $X_i$ 的并集等于顶点集 $V$。\n2.  对于 $E$ 中的每条边 $(u,v)$，至少存在一个袋 $X_i$ 同时包含顶点 $u$ 和顶点 $v$。\n3.  对于任意顶点 $v \\in V$，包含 $v$ 的袋的集合在 $T$ 中形成一个连通的非空子树。\n\n特定树分解的“宽度”（width）定义为 $\\max_i(|X_i| - 1)$，其中 $|X_i|$ 是袋 $X_i$ 中的顶点数。图 $G$ 的“树宽”（treewidth）是 $G$ 所有有效树分解中可能的最小宽度。\n\n如果图 $H$ 可以通过对另一个图 $G$ 进行一系列顶点删除、边删除和边收缩（即移除一条边并将其两个端点合并为一个顶点）操作得到，则称 $H$ 是 $G$ 的一个“子式”（minor）。\n\n一类图有时可以通过其“禁忌子式”（forbidden minors）来刻画——这是一个图的集合，这些图不能作为该类中任何图的子式出现。考虑所有树宽至多为2的图所构成的类。我们有兴趣确定最简单的完全图，记为 $K_n$（一个有 $n$ 个顶点的图，其中每对不同的顶点都由一条边连接），它是该类的禁忌子式。\n\n确定整数 $n$ 的值，使得最小的完全图 $K_n$ 保证不是任何树宽至多为2的图的子式。", "solution": "令 $\\operatorname{tw}(G)$ 表示图 $G$ 的树宽。\n\n首先，一个关键性质是树宽在取子式操作下是单调不增的：如果 $H$ 是 $G$ 的一个子式，那么 $\\operatorname{tw}(H) \\le \\operatorname{tw}(G)$。这个性质意味着，如果一个图类由禁忌子式来定义，那么它也等价于一个树宽有界的图类。\n\n其次，一个完全图 $K_n$ 的树宽是 $\\operatorname{tw}(K_n) = n - 1$。这可以通过构造一个包含所有 $n$ 个顶点的单一袋的树分解来证明上界 $\\operatorname{tw}(K_n) \\le n-1$。下界 $\\operatorname{tw}(K_n) \\ge n-1$ 则源于 $K_n$ 本身是一个大小为 $n$ 的团（clique），而任何大小为 $n$ 的团的树分解都必须有一个袋包含所有这 $n$ 个顶点。\n\n我们要找的是最小的整数 $n$，使得 $K_n$ 不是任何树宽至多为2的图的子式。\n假设一个图 $G$ 的树宽 $\\operatorname{tw}(G) \\le 2$。\n如果 $K_n$ 是 $G$ 的一个子式，那么根据子式单调性，我们必须有：\n$\\operatorname{tw}(K_n) \\le \\operatorname{tw}(G)$\n\n将我们已知的公式代入，得到：\n$n - 1 \\le \\operatorname{tw}(G) \\le 2$\n\n这可以简化为：\n$n - 1 \\le 2$\n$n \\le 3$\n\n这个不等式告诉我们，任何树宽至多为2的图，如果它有完全图作为子式，那么该完全图最大只能是 $K_3$。\n反过来看，如果一个完全图 $K_n$ 使得 $n > 3$，那么它就不可能是一个树宽至多为2的图的子式。\n我们正在寻找最小的这样的 $n$。满足 $n > 3$ 的最小整数是 $n=4$。\n\n因此，$K_4$ 是第一个不能作为树宽至多为2的图的子式的完全图。\n为了确认 $K_4$ 是“最小”的禁忌子式，我们需要检验 $K_3$ 是否被禁止。\n$\\operatorname{tw}(K_3) = 3 - 1 = 2$。\n由于 $\\operatorname{tw}(K_3) = 2$，图 $K_3$ 本身就属于树宽至多为2的图类。因此，$K_3$ 可以是（并且确实是）该类中某个图的子式（例如，$K_3$ 本身）。\n\n所以，最小的完全图 $K_n$ 作为树宽至多为2的图类的禁忌子式，其对应的 $n$ 值为4。", "answer": "$$\\boxed{4}$$", "id": "1505277"}]}