{"hands_on_practices": [{"introduction": "第一个练习旨在通过直接计数来巩固色多项式的基本定义。我们将使用路径图 $P_4$ 这个简单而直观的例子，一步步地构建多项式。这个动手过程将抽象的多项式与计算有效着色数的具体任务直接联系起来。[@problem_id:1528554]", "problem": "一个简单图的正常 $k$-着色是指为图的每个顶点从 $k$ 种可用颜色中分配一种颜色，使得任意两个相邻的顶点颜色不同。图 $G$ 的色多项式，记为 $\\chi_G(k)$，是一个函数，它计算对于给定的整数颜色数 $k$，图 $G$ 的不同正常 $k$-着色的数量。\n\n考虑有四个顶点的路图，记为 $P_4$。该图的顶点集为 $V = \\{v_1, v_2, v_3, v_4\\}$，边集为 $E = \\{(v_1, v_2), (v_2, v_3), (v_3, v_4)\\}$。\n\n通过直接计算按顺序对顶点进行正常着色的方法数，来确定路图 $P_4$ 的色多项式 $\\chi_{P_4}(k)$。将答案表示为关于变量 $k$ 的多项式。", "solution": "我们按顺序将顶点标记为 $v_{1}, v_{2}, v_{3}, v_{4}$，边为 $(v_{1},v_{2})$、$(v_{2},v_{3})$、$(v_{3},v_{4})$。一次正常的 $k$-着色分配颜色，使得相邻顶点颜色不同。\n\n为 $v_{1}$ 选择一种颜色：有 $k$ 种选择。\n\n给定 $v_{1}$ 的颜色，$v_{2}$ 的颜色必须与 $v_{1}$ 不同，所以 $v_{2}$ 有 $k-1$ 种选择。\n\n给定 $v_{2}$ 的颜色，$v_{3}$ 的颜色必须与 $v_{2}$ 不同，但可以与 $v_{1}$ 的颜色相同，因为 $v_{1}$ 和 $v_{3}$ 不相邻。因此，$v_{3}$ 有 $k-1$ 种选择。\n\n给定 $v_{3}$ 的颜色，$v_{4}$ 的颜色必须与 $v_{3}$ 不同，所以 $v_{4}$ 有 $k-1$ 种选择。\n\n根据乘法原理，正常着色的总数为\n$$\nk\\,(k-1)\\,(k-1)\\,(k-1)=k\\,(k-1)^{3}.\n$$\n使用二项式定理展开，\n$$\n(k-1)^{3}=k^{3}-3k^{2}+3k-1,\n$$\n所以\n$$\n\\chi_{P_{4}}(k)=k\\,(k^{3}-3k^{2}+3k-1)=k^{4}-3k^{3}+3k^{2}-k.\n$$", "answer": "$$\\boxed{k^{4}-3k^{3}+3k^{2}-k}$$", "id": "1528554"}, {"introduction": "对于更复杂的图，直接计数很快会变得不切实际。本练习将介绍强大的删除-收缩定理（deletion-contraction theorem），它为计算色多项式提供了一种递归算法。通过将该定理应用于一个给定的图，你将学会如何将一个复杂的计数问题分解为更简单的子问题，这是图论中一个核心的解题策略。[@problem_id:1528544]", "problem": "一个图 $G$ 是按以下方式构造的。我们从一个四个顶点的循环图开始，顶点按循环顺序标记为 $v_1, v_2, v_3, v_4$。然后引入第五个顶点 $v_5$。最后，添加两条新边，将 $v_5$ 连接到原始循环中一对不相邻的顶点上，例如 $(v_1, v_5)$ 和 $(v_3, v_5)$。\n\n该图的色多项式，记为 $P(G, k)$，给出了使用最多 $k$ 种颜色对 $G$ 的顶点进行正常着色的不同方式的数量。该多项式可以在标准基下写作 $P(G, k) = \\sum_{i=0}^{n} a_i k^i$，其中 $n$ 是 $G$ 中的顶点数。\n\n求 $P(G, k)$ 中 $k^3$ 项的系数的数值，即系数 $a_3$。", "solution": "设顶点为 $v_{1},v_{2},v_{3},v_{4}$，形成一个4-循环，边为 $(v_{1},v_{2})$、$(v_{2},v_{3})$、$(v_{3},v_{4})$、$(v_{4},v_{1})$，并设 $v_{5}$ 连接到 $v_{1}$ 和 $v_{3}$。对边 $e=(v_{1},v_{5})$ 使用删除-收缩法，得到\n$$\nP(G,k)=P(G-e,k)-P(G/e,k).\n$$\n\n在 $G-e$ 中，顶点 $v_{5}$ 是一个仅连接到 $v_{3}$ 的叶顶点。对于一个与 $u$ 相邻的叶顶点 $v$，有 $P(G,k)=(k-1)P(G-v,k)$。从 $G-e$ 中删除 $v_{5}$ 后剩下4-循环 $C_{4}$，其色多项式为\n$$\nP(C_{4},k)=(k-1)^{4}+(k-1).\n$$\n因此\n$$\nP(G-e,k)=(k-1)P(C_{4},k)=(k-1)\\big((k-1)^{4}+(k-1)\\big)=(k-1)^{5}+(k-1)^{2}.\n$$\n\n对于 $G/e$，收缩边 $(v_{1},v_{5})$ 将 $v_{1}$ 和 $v_{5}$ 合并为一个顶点 $w$，得到顶点集为 $\\{w, v_2, v_3, v_4\\}$ 的图，其边为 $(w,v_2), (v_2,v_3), (v_3,v_4), (v_4,w), (w,v_3)$。这个图是 $K_{4}$ 减去边 $(v_2,v_4)$。它的色多项式可以通过注意到其着色是 $K_4$ 的着色加上顶点 $v_2$ 和 $v_4$ 颜色相同的着色来计算：\n$$\nP(K_{4}-e,k)=k(k-1)(k-2)(k-3)+k(k-1)(k-2)=k(k-1)(k-2)^{2}.\n$$\n因此\n$$\nP(G/e,k)=k(k-1)(k-2)^{2}.\n$$\n\n合并：\n$$\nP(G,k)=(k-1)^{5}+(k-1)^{2}-k(k-1)(k-2)^{2}.\n$$\n展开每一项：\n$$\n(k-1)^{5}=k^{5}-5k^{4}+10k^{3}-10k^{2}+5k-1,\\quad (k-1)^{2}=k^{2}-2k+1,\n$$\n$$\nk(k-1)(k-2)^{2}=k^{4}-5k^{3}+8k^{2}-4k.\n$$\n于是\n$$\nP(G,k)=\\big(k^{5}-5k^{4}+10k^{3}-10k^{2}+5k-1\\big)+\\big(k^{2}-2k+1\\big)-\\big(k^{4}-5k^{3}+8k^{2}-4k\\big),\n$$\n化简为\n$$\nP(G,k)=k^{5}-6k^{4}+15k^{3}-17k^{2}+7k.\n$$\n因此 $k^{3}$ 的系数是 $15$。作为一致性检查，$m=6$ 条边和零个三角形，给出 $k^{n-2}$ 的一般系数为 $\\binom{m}{2}-t=15$，与结果一致。", "answer": "$$\\boxed{15}$$", "id": "1528544"}, {"introduction": "如果两个图具有相同的色多项式，它们必然是同一个图吗？本练习将挑战你探索这个问题，要求你寻找一对色等价图（chromatically equivalent graphs）——即结构不同（非同构）但共享相同色多项式的图。这个进阶问题将加深你对色多项式能揭示以及不能揭示哪些图结构信息的理解。[@problem_id:1528583]", "problem": "在图论中，一个图 $G=(V, E)$ 的 $k$-着色是指为 $G$ 的每个顶点分配 $k$ 种颜色中的一种，使得任意两个相邻的顶点颜色都不同。图 $G$ 的色多项式，记作 $P_G(k)$，是一个函数，它计算了 $G$ 的不同 $k$-着色方案的数量。如果两个图 $G_1$ 和 $G_2$ 具有相同的色多项式，即 $P_{G_1}(k) = P_{G_2}(k)$，则称它们是色等价的。\n\n考虑下面列出的四对图 $(G_A, G_B)$。对于所有图，其顶点集均为 $V = \\{1, 2, 3, 4, 5, 6\\}$。每个图都由其边集 $E$ 定义。\n\n下列哪对图同时满足以下所有三个条件？\n1. 两个图都是连通图。\n2. 两个图不同构。\n3. 两个图是色等价的。\n\nA.\n$G_A$: $E_A = \\{(1,2), (2,3), (3,4), (4,5), (5,6), (6,1), (1,4)\\}$\n$G_B$: $E_B = \\{(1,2), (2,3), (3,4), (4,5), (5,6), (6,1), (2,5)\\}$\n\nB.\n$G_A$: $E_A = \\{(1,2), (2,3), (3,4), (4,5), (5,6), (6,1)\\}$\n$G_B$: $E_B = \\{(1,2), (2,3), (3,4), (4,5), (5,6), (6,1), (1,3)\\}$\n\nC.\n$G_A$: $E_A = \\{(1,2), (2,3), (3,4), (4,5), (5,6), (6,1), (1,3), (4,6)\\}$\n$G_B$: $E_B = \\{(1,2), (2,3), (3,4), (4,5), (5,6), (6,1), (1,3), (1,5)\\}$\n\nD.\n$G_A$: $E_A = \\{(1,2), (2,3), (3,1), (4,5), (5,6), (6,4), (1,4), (2,5), (3,6)\\}$\n$G_B$: $E_B = \\{(1,2), (2,3), (3,1), (4,5), (5,6), (6,4)\\}$", "solution": "我们必须找到顶点集为 $V=\\{1,2,3,4,5,6\\}$ 的一对图 $(G_A,G_B)$，它们同时满足：都是连通的、不同构且色等价。\n\n首先，排除明显不满足条件的选项。\n\n- 在选项 A 中，每个图都是一个 6-圈加上一条连接相对顶点的弦：$G_A$ 有弦 $(1,4)$，$G_B$ 有弦 $(2,5)$。由旋转 $i \\mapsto i+1 \\pmod{6}$ 给出的 6-圈的自同构将 $(1,4)$ 映射到 $(2,5)$，因此这两个图是同构的。这违反了不同构的条件。\n\n- 在选项 D 中，$G_B$ 由两个不相交的三角形组成，因此它是非连通的，这违反了连通性条件。\n\n- 在选项 B 中，$G_A$ 是 $C_{6}$，$G_B$ 是 $C_{6}$ 加上弦 $(1,3)$。它们是连通的且不同构（因为边数不同），但我们将通过计算它们的色多项式来证明它们不是色等价的。\n\n因此，只有 C 可能满足所有三个条件；我们将计算 C 中图的色多项式并验证它们是否相等，同时明确地排除 B。\n\n使用的主要工具：\n1) 删除-收缩：对于图 $G$ 和一条边 $e$（或在添加非边 $e$ 时），$P_{G+e}(k)=P_{G}(k)-P_{G/e}(k)$，其中 $G/e$ 表示通过粘合 $e$ 的端点得到的图（对应于端点颜色相同的着色方案）。\n2) 圈的色多项式：对于 $C_{n}$，有 $P_{C_{n}}(k)=(k-1)^{n}+(-1)^{n}(k-1)$。\n3) 悬挂点规约，作为删除-收缩的一个特例：如果图 $G$ 有一个悬挂点 $u$ 连接到 $v$，则 $P_{G}(k)=(k-1)P_{G-u}(k)$。\n4) 平行边可以被简化为单一边而不改变色多项式。\n\n计算一个 B 和 C 都需要的共享中间图。令 $G_{0}=C_{6}$，并令 $G_{1}=G_{0}+(1,3)$。那么，根据删除-收缩法则，\n$$\nP_{G_{1}}(k)=P_{C_{6}}(k)-P_{C_{6}/(1,3)}(k).\n$$\n我们有 $P_{C_{6}}(k)=(k-1)^{6}+(k-1)$。收缩 $C_{6}/(1,3)$ 会生成一个 4-圈，且该 4-圈的一个顶点上连接着一个悬挂点。记该图为 $H_{1}$。利用悬挂点规约和圈的色多项式公式，\n$$\nP_{H_{1}}(k)=(k-1)P_{C_{4}}(k)=(k-1)\\big((k-1)^{4}+(k-1)\\big)=(k-1)^{5}+(k-1)^{2}.\n$$\n因此\n$$\nP_{G_{1}}(k)=(k-1)^{6}+(k-1)-\\big((k-1)^{5}+(k-1)^{2}\\big).\n$$\n因式分解后得到\n$$\nP_{G_{1}}(k)=k(k-1)(k-2)^{2}\\big((k-1)^{2}+1\\big).\n$$\n\n现在处理选项 B。在 B 中，$G_A=C_{6}$ 且 $G_B=G_{1}$。由于\n$$\nP_{C_{6}}(k)=(k-1)^{6}+(k-1), \\quad P_{G_{1}}(k)=k(k-1)(k-2)^{2}\\big((k-1)^{2}+1\\big),\n$$\n这两个是不同的多项式（例如，它们的因式分解结构不同），所以 B 中的图不是色等价的。\n\n现在处理选项 C。在 C 中，$G_A$ 包含 $C_{6}$ 的所有边以及弦 $(1,3)$ 和 $(4,6)$，而 $G_B$ 包含 $C_{6}$ 的所有边以及弦 $(1,3)$ 和 $(1,5)$。两个图都是连通的。它们不同构，因为它们的度序列不同：\n- 对于 $G_A$：度为 $\\{3,2,3,3,2,3\\}$ （四个度为 3 的顶点，两个度为 2 的顶点）。\n- 对于 $G_B$：度为 $\\{4,2,3,2,3,2\\}$ （一个度为 4 的顶点，两个度为 3 的顶点，三个度为 2 的顶点）。\n因此不同构。\n\n我们现在来证明 $P_{G_A}(k)=P_{G_B}(k)$。\n\n从 $G_{1}$ 开始，添加第二条弦。\n\n对于 $G_A$，在 $G_1$ 的基础上添加边 $(4,6)$：\n$$\nP_{G_A}(k)=P_{G_{1}}(k)-P_{G_{1}/(4,6)}(k).\n$$\n在 $G_1$ 中收缩 $(4,6)$ 会得到一个图，我们称之为 $H_2$。该图是一个 $K_4$ 减去一条边，并在一个高阶顶点上附加一个悬挂点。使用悬挂点规约，\n$$\nP_{G_{1}/(4,6)}(k)=(k-1)P_{K_{4}-e}(k).\n$$\n通过对缺失的边 $e$ 使用删除-收缩法则来计算 $P_{K_{4}-e}(k)$：令 $G=K_{4}-e$，则 $G+e=K_{4}$，因此\n$$\nP_{K_{4}}(k)=P_{K_{4}-e}(k)-P_{(K_{4}-e)/e}(k).\n$$\n在 $K_{4}-e$ 中收缩非边 $e$ 会将两个不相邻的顶点粘合，从而得到 $K_{3}$，所以 $P_{(K_{4}-e)/e}(k)=P_{K_{3}}(k)=k(k-1)(k-2)$。因此\n$$\nP_{K_{4}-e}(k)=P_{K_{4}}(k)+P_{K_{3}}(k)=k(k-1)(k-2)(k-3)+k(k-1)(k-2)=k(k-1)(k-2)^{2}.\n$$\n因而\n$$\nP_{G_{1}/(4,6)}(k)=(k-1)\\cdot k(k-1)(k-2)^{2}=k(k-1)^{2}(k-2)^{2}.\n$$\n于是\n$$\nP_{G_A}(k)=k(k-1)(k-2)^{2}\\big((k-1)^{2}+1\\big)-k(k-1)^{2}(k-2)^{2}=k(k-1)(k-2)^{2}\\big((k-1)^{2}-(k-1)+1\\big).\n$$\n因此\n$$\nP_{G_A}(k)=k(k-1)(k-2)^{2}\\big(k^{2}-3k+3\\big).\n$$\n\n对于 $G_B$，在 $G_1$ 的基础上添加边 $(1,5)$：\n$$\nP_{G_B}(k)=P_{G_{1}}(k)-P_{G_{1}/(1,5)}(k).\n$$\n在 $G_1$ 中收缩 $(1,5)$，通过相同的分析，会得到一个与上面的 $H_2$ 同构的图（同样是一个 $K_4$ 减去一条边并附带一个悬挂点），因此同样地\n$$\nP_{G_{1}/(1,5)}(k)=k(k-1)^{2}(k-2)^{2}.\n$$\n因而\n$$\nP_{G_B}(k)=k(k-1)(k-2)^{2}\\big((k-1)^{2}+1\\big)-k(k-1)^{2}(k-2)^{2}=k(k-1)(k-2)^{2}\\big(k^{2}-3k+3\\big).\n$$\n\n因此，在选项 C 中，$P_{G_A}(k)=P_{G_B}(k)$，并且两个图都是连通且不同构的。所以，满足所有三个条件的唯一选项是 C。", "answer": "$$\\boxed{C}$$", "id": "1528583"}]}