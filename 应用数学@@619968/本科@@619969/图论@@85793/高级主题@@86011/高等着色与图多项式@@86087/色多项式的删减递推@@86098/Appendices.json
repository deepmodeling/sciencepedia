{"hands_on_practices": [{"introduction": "删除-收缩递推是我们将复杂图分解为更简单图的强大工具。掌握这一技巧的最佳方式是从一个熟悉的例子开始，而完全图 $K_4$ 正是这样一个理想的起点。本练习将引导您对 $K_4$ 多次应用递推关系，通过已知的更简单图的色多项式来构建最终的多项式，从而计算其色多项式中的特定系数。[@problem_id:1495930] 这个实践将巩固您对递推过程基本机理的理解。", "problem": "设 $G=(V, E)$ 是一个简单图。$G$ 的一个正常 $k$-染色是指为 $V$ 中的每个顶点分配 $k$ 种可用颜色之一，使得没有两个相邻顶点被染成相同的颜色。$G$ 的色多项式，记作 $\\chi_G(k)$，是一个关于 $k$ 的多项式，它计算了对于任意整数 $k \\ge 0$，$G$ 的正常 $k$-染色的数量。\n\n色多项式可以使用删除-收缩递推关系来计算。对于图 $G$ 中任意一条不是树的边 $e$，该关系式为：\n$$ \\chi_G(k) = \\chi_{G-e}(k) - \\chi_{G \\cdot e}(k) $$\n其中 $G-e$ 是通过删除边 $e$ 得到的图，而 $G \\cdot e$ 是通过收缩边 $e$ 得到的图（即，它的两个端点合并成一个新顶点，并且在此过程中产生的任何重边都由单边替换）。\n\n考虑四个顶点的完全图 $K_4$。$K_4$ 的色多项式可以写成 $\\chi_{K_4}(k) = \\sum_{i=0}^{4} c_i k^i$ 的形式。\n\n你的任务是确定系数 $c_2$ 的值。为此，你必须从图 $K_4$ 开始，并精确地应用两次删除-收缩递推。在每一步中，你可以自由选择删除/收缩哪条边。经过两次这样的应用，你将得到一个用三个更简单图的色多项式表示的 $\\chi_{K_4}(k)$ 的表达式。你可以不经证明地使用基本图（如完全图、路径和圈）的色多项式的已知公式来找到 $\\chi_{K_4}(k)$ 的完整表达式，并提取所需的系数。\n\n系数 $c_2$ 的整数值是多少？", "solution": "我们从 $K_{4}$ 开始，精确地应用两次删除-收缩。选择 $K_{4}$ 的一条边 $e$，例如顶点 $1$ 和 $2$ 之间的边。根据删除-收缩递推关系，\n$$\n\\chi_{K_{4}}(k)=\\chi_{K_{4}-e}(k)-\\chi_{K_{4} \\cdot e}(k).\n$$\n在 $K_{4}$ 中收缩 $e$ 会合并 $1$ 和 $2$；由于重边被单边替换，$K_{4} \\cdot e$ 是 $K_{3}$。因此，\n$$\n\\chi_{K_{4}}(k)=\\chi_{K_{4}-e}(k)-\\chi_{K_{3}}(k).\n$$\n对图 $K_{4}-e$ 进行第二次删除-收缩。在 $K_{4}-e$ 中，选择顶点 $3$ 和 $4$ 之间的边 $f$。那么\n$$\n\\chi_{K_{4}-e}(k)=\\chi_{(K_{4}-e)-f}(k)-\\chi_{(K_{4}-e) \\cdot f}(k).\n$$\n从 $K_{4}-e$ 中删除 $f$ 会移除顶点 $\\{1,3,2,4\\}$ 上的4-圈的弦，得到圈 $C_{4}$。收缩 $f$ 会合并 $3$ 和 $4$；顶点 $1$ 和 $2$ 都与 $3$ 和 $4$ 相邻，因此在收缩后（并压缩重边），结果是一个三顶点路径 $P_{3}$。因此，\n$$\n\\chi_{K_{4}-e}(k)=\\chi_{C_{4}}(k)-\\chi_{P_{3}}(k).\n$$\n结合这两次应用，\n$$\n\\chi_{K_{4}}(k)=\\chi_{C_{4}}(k)-\\chi_{P_{3}}(k)-\\chi_{K_{3}}(k).\n$$\n我们现在使用已知公式：\n- 对于一个有 $n$ 个顶点的圈, $\\chi_{C_{n}}(k)=(k-1)^{n}+(-1)^{n}(k-1)$，因此 $\\chi_{C_{4}}(k)=(k-1)^{4}+(k-1)$。\n- 对于一个有 $n$ 个顶点的路径, $\\chi_{P_{n}}(k)=k(k-1)^{n-1}$，因此 $\\chi_{P_{3}}(k)=k(k-1)^{2}$。\n- 对于完全图 $K_{3}$, $\\chi_{K_{3}}(k)=k(k-1)(k-2)$。\n\n展开每一项：\n$$\n\\chi_{C_{4}}(k)=(k-1)^{4}+(k-1)=\\big(k^{4}-4k^{3}+6k^{2}-4k+1\\big)+k-1=k^{4}-4k^{3}+6k^{2}-3k,\n$$\n$$\n\\chi_{P_{3}}(k)=k(k-1)^{2}=k(k^{2}-2k+1)=k^{3}-2k^{2}+k,\n$$\n$$\n\\chi_{K_{3}}(k)=k(k-1)(k-2)=k(k^{2}-3k+2)=k^{3}-3k^{2}+2k.\n$$\n因此，\n$$\n\\chi_{K_{4}}(k)=\\big(k^{4}-4k^{3}+6k^{2}-3k\\big)-\\big(k^{3}-2k^{2}+k\\big)-\\big(k^{3}-3k^{2}+2k\\big)\n$$\n$$\n=\\,k^{4}-6k^{3}+11k^{2}-6k.\n$$\n将此与 $\\chi_{K_{4}}(k)=\\sum_{i=0}^{4}c_{i}k^{i}$ 进行匹配，表明 $c_{2}=11$。", "answer": "$$\\boxed{11}$$", "id": "1495930"}, {"introduction": "在使用删除-收缩递推时，一个很自然的问题是：我们选择边的顺序会影响最终结果吗？本练习将展示一个该递推关系的重要性质：最终的色多项式与计算过程中边的选择路径无关。通过用两种不同的方式计算“房形图”的色多项式，您将亲手验证该方法的自洽性与稳健性，这是理解该工具威力的关键一步。[@problem_id:1495913]", "problem": "图 $G$ 的色多项式，记作 $\\chi_G(k)$，给出用一个包含 $k$ 种可用颜色的集合对图 $G$ 的顶点进行着色，使得任意两个相邻顶点颜色均不相同的不同方法总数。计算该多项式的一个强有力的方法是删除-收缩递推关系：$\\chi_G(k) = \\chi_{G-e}(k) - \\chi_{G \\cdot e}(k)$，其中 $e$ 是 $G$ 中的任意一条边，$G-e$ 是通过删除边 $e$ 得到的图，$G \\cdot e$ 是通过收缩边 $e$ 得到的图（即将它的两个端点合并成一个单一顶点，该顶点与原来两个顶点的所有邻点相连）。\n\n为探究该递推关系，我们考虑“房子图” $H$。该图的顶点集为 $V = \\{v_1, v_2, v_3, v_4, v_5\\}$。其边如下：$\\{v_1, v_2, v_3, v_4\\}$ 以边 $(v_1, v_2)$、$(v_2, v_3)$、$(v_3, v_4)$ 和 $(v_4, v_1)$ 构成一个 4-圈。另一个顶点 $v_5$ 与 $v_1$ 和 $v_2$ 相连，构成一个三角形 $\\{v_1, v_2, v_5\\}$。因此，该图有五个顶点和六条边。\n\n你的任务是通过应用删除-收缩递推关系来计算色多项式 $\\chi_H(k)$。你需要从两种不同类型的边开始，以证明边的选择不影响最终的多项式。\n\n首先，从边 $e_A = (v_3, v_4)$ 开始进行计算，该边连接了两个度为 2 的顶点。\n其次，独立地从边 $e_B = (v_1, v_5)$ 开始进行计算，该边连接了一个度为 3 的顶点 ($v_1$) 和一个度为 2 的顶点 ($v_5$)。\n\n将每项计算进行到底，求出该多项式。你的最终答案应该是这个唯一的、以展开形式表示的结果多项式。", "solution": "设 $H$ 为房子图，顶点集为 $\\{v_{1},v_{2},v_{3},v_{4},v_{5}\\}$，边集为 $(v_{1},v_{2})$、$(v_{2},v_{3})$、$(v_{3},v_{4})$、$(v_{4},v_{1})$、$(v_{1},v_{5})$、$(v_{2},v_{5})$。我们使用删除-收缩递推关系 $\\chi_G(k)=\\chi_{G-e}(k)-\\chi_{G \\cdot e}(k)$ 以及以下标准结论：对于附着于某个顶点的一个叶子，色多项式乘以 $(k-1)$；对于有 $n$ 个顶点的树 $T$，$ \\chi_T(k)=k(k-1)^{n-1}$；对于圈 $C_{n}$，$ \\chi_{C_n}(k)=(k-1)^{n}+(-1)^{n}(k-1)$；对于正常着色，重边等价于单边。\n\n首先，从 $e_{A}=(v_{3},v_{4})$ 开始。应用删除-收缩递推：\n$$\n\\chi_H(k)=\\chi_{H-e_{A}}(k)-\\chi_{H\\cdot e_{A}}(k).\n$$\n对于 $H-e_{A}$，移除 $(v_{3},v_{4})$ 会得到一个在 $\\{v_{1},v_{2},v_{5}\\}$ 上的三角形 $K_{3}$，并在 $v_{1}$ 和 $v_{2}$ 处附着两个叶子（分别为顶点 $v_{4}$ 和 $v_{3}$）。因此\n$$\n\\chi_{H-e_{A}}(k)=(k-1)^{2}\\chi_{K_3}(k)=(k-1)^{2}\\,k(k-1)(k-2)=k(k-1)^{3}(k-2).\n$$\n对于 $H\\cdot e_{A}$，收缩 $(v_{3},v_{4})$ 会产生钻石图（两个三角形共享一条边）。通过删除并收缩共享边 $f=(v_{1},v_{2})$ 来计算其多项式：\n$$\n\\chi_{\\text{diamond}}(k)=\\chi_{C_{4}}(k)-\\chi_{P_3}(k).\n$$\n这里 $\\chi_{C_4}(k)=(k-1)^{4}+(k-1)$ 且 $\\chi_{P_3}(k)=k(k-1)^{2}$，所以\n$$\n\\chi_{H \\cdot e_A}(k)=(k-1)^{4}+(k-1)-k(k-1)^{2}.\n$$\n等价地，可以将其分解为 $\\chi_{H\\cdot e_A}(k)=k(k-1)(k-2)^{2}$（这两者在展开后是相等的）。因此\n$$\n\\chi_H(k)=k(k-1)^{3}(k-2)-k(k-1)(k-2)^{2}\n=k(k-1)(k-2)\\bigl[(k-1)^{2}-(k-2)\\bigr].\n$$\n由于 $(k-1)^{2}-(k-2)=k^{2}-3k+3$，我们得到\n$$\n\\chi_H(k)=k(k-1)(k-2)(k^{2}-3k+3).\n$$\n展开后得到\n$$\n\\chi_H(k)=k^{5}-6k^{4}+14k^{3}-15k^{2}+6k.\n$$\n\n其次，从 $e_{B}=(v_{1},v_{5})$ 开始。应用删除-收缩递推：\n$$\n\\chi_H(k)=\\chi_{H-e_{B}}(k)-\\chi_{H\\cdot e_{B}}(k).\n$$\n对于 $H-e_{B}$，删除 $(v_{1},v_{5})$ 会得到一个在 $\\{v_{1},v_{2},v_{3},v_{4}\\}$ 上的 4-圈，并带有一个叶子 $v_{5}$ 附着于 $v_{2}$。因此\n$$\n\\chi_{H-e_{B}}(k)=(k-1)\\chi_{C_{4}}(k)=(k-1)\\bigl[(k-1)^{4}+(k-1)\\bigr].\n$$\n对于 $H\\cdot e_{B}$，收缩 $(v_{1},v_{5})$ 会将这两个顶点等同化，并在剩余的四个顶点上恰好产生一个 4-圈，所以\n$$\n\\chi_{H \\cdot e_B}(k)=\\chi_{C_{4}}(k)=(k-1)^{4}+(k-1).\n$$\n因此\n$$\n\\chi_H(k)=\\bigl[(k-1)-1\\bigr]\\bigl[(k-1)^{4}+(k-1)\\bigr]\n=(k-2)\\bigl[(k-1)^{4}+(k-1)\\bigr].\n$$\n将此式展开得到\n$$\n\\chi_H(k)=k^{5}-6k^{4}+14k^{3}-15k^{2}+6k,\n$$\n这与从第一条起始边得到的结果相匹配，符合要求。", "answer": "$$\\boxed{k^{5}-6k^{4}+14k^{3}-15k^{2}+6k}$$", "id": "1495913"}, {"introduction": "在掌握了递推的机理并理解了其结果的一致性之后，是时候将这些技能应用到一个新的图结构上了。轮图 $W_5$ 提供了一个绝佳的练习机会，来实践在删除和收缩操作后如何识别生成的图。本问题挑战您计算轮图 $W_5$ 的色多项式，[@problem_id:1495964] 成功求解不仅需要应用递推公式，还需要在过程中准确地辨认和识别由 $G-e$ 和 $G \\cdot e$ 所产生的更简单的图。", "problem": "轮图 $W_{n}$ 是一个有 $n$ 个顶点的图，它由一个中心顶点与其余 $n-1$ 个顶点构成的圈 $C_{n-1}$ 上的所有顶点相连而成。考虑轮图 $W_5$，它由一个中心顶点与一个4顶点圈 $C_4$ 的所有顶点相连而成。我们感兴趣的是找出其色多项式 $\\chi_{W_5}(k)$，该多项式计算了用 $k$ 种颜色对 $W_5$ 的顶点进行染色，使得任意两个相邻顶点颜色都不同的方案数。\n\n为了求出这个多项式，需要应用色多项式的删边-缩边递推关系。该关系指出，对于任意图 $G$ 及其中的任意一条边 $e$，其色多项式满足 $\\chi_G(k) = \\chi_{G - e}(k) - \\chi_{G \\cdot e}(k)$，其中 $G-e$ 是图 $G$ 删除边 $e$ 后的图，而 $G \\cdot e$ 是图 $G$ 将边 $e$ 收缩后的图。\n\n将此递推关系应用于 $W_5$ 外圈4-圈上的一条边 $e$。已知一个有 $n$ 个顶点的完全图 $K_n$ 的色多项式由公式 $\\chi_{K_n}(k) = k(k-1)(k-2)\\cdots(k-n+1)$ 给出。\n\n求出色多项式 $\\chi_{W_5}(k)$ 关于 $k$ 的完全化简的表达式。", "solution": "设 $W_{5}$ 的轮缘顶点为 $v_{1},v_{2},v_{3},v_{4}$，它们构成 $C_{4}$，中心顶点为 $h$。选择轮缘上的一条边 $e=v_{1}v_{2}$。根据色多项式的删边-缩边递推关系，\n$$\n\\chi_{W_{5}}(k)=\\chi_{W_{5}-e}(k)-\\chi_{W_{5}\\cdot e}(k).\n$$\n收缩边 $e$ 会将 $v_{1}$ 和 $v_{2}$ 合并成一个新顶点 $x$。剩下的轮缘边 $v_{2}v_{3}$ 和 $v_{4}v_{1}$ 变为 $xv_{3}$ 和 $xv_{4}$，它们与边 $v_{3}v_{4}$ 一起在顶点集 $\\{x,v_{3},v_{4}\\}$ 上构成一个三角形。中心顶点 $h$ 仍然与 $x,v_{3},v_{4}$ 中的每一个顶点相邻。因此 $W_{5}\\cdot e\\cong K_{4}$，且利用给定的公式，\n$$\n\\chi_{W_{5}\\cdot e}(k)=\\chi_{K_{4}}(k)=k(k-1)(k-2)(k-3).\n$$\n删除边 $e$ 会将轮缘 $C_{4}$ 断开，形成一个4顶点的路（例如，$v_{1}-v_{4}-v_{3}-v_{2}$），而中心顶点 $h$ 仍然与所有四个轮缘顶点相邻。为了计算 $\\chi_{W_{5}-e}(k)$，首先以 $k$ 种方式为 $h$ 染色。然后，轮缘顶点不能使用中心顶点的颜色，因此它们必须使用 $k-1$ 种可用颜色沿路径 $P_{4}$进行正常染色。一条有4个顶点的路，使用 $q$ 种颜色进行正常染色，有 $q(q-1)^{3}$ 种方案（为第一个顶点选择颜色有 $q$ 种方式，之后每个连续的顶点有 $q-1$ 种方式）。当 $q=k-1$ 时，\n$$\n\\chi_{W_{5}-e}(k)=k\\,(k-1)(k-2)^{3}.\n$$\n因此，\n$$\n\\chi_{W_{5}}(k)=k\\,(k-1)(k-2)^{3}-k(k-1)(k-2)(k-3)\n= k(k-1)(k-2)\\bigl[(k-2)^{2}-(k-3)\\bigr].\n$$\n化简方括号中的表达式，\n$$\n(k-2)^{2}-(k-3)=k^{2}-5k+7,\n$$\n所以完全化简后的形式是\n$$\n\\chi_{W_{5}}(k)=k(k-1)(k-2)(k^{2}-5k+7).\n$$\n等价地，由于 $\\chi_{C_{4}}(k-1)=(k-2)^{4}+(k-2)$，我们也可得到 $\\chi_{W_{5}}(k)=k\\bigl[(k-2)^{4}+(k-2)\\bigr]$，将其展开可得到相同的多项式。", "answer": "$$\\boxed{k(k-1)(k-2)(k^{2}-5k+7)}$$", "id": "1495964"}]}