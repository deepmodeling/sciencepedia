{"hands_on_practices": [{"introduction": "列表着色与传统着色有何不同？这个基础练习将通过著名的完全二分图 $K_{3,3}$ 来揭示一个核心概念：一个图的列表色数（choice number）可能严格大于其色数（chromatic number）[@problem_id:1519305]。解决这个问题有助于你理解为何列表着色是一个独特且更具挑战性的问题，因为它表明即使每个顶点的可选颜色数量都大于等于色数，也并不总能保证找到一个有效的着色方案。", "problem": "在图论中，图 $G$ 的一个列表分配 $L$ 是一个函数，它为 $G$ 的每个顶点 $v$ 分配一个可用颜色列表，记为 $L(v)$。$G$ 的一个 $L$-着色是一个顶点着色 $c$，满足对每个顶点 $v$，所选颜色 $c(v)$ 都在列表 $L(v)$ 中，并且对每对相邻顶点 $u$ 和 $v$，它们分配的颜色都不同，即 $c(u) \\neq c(v)$。\n\n考虑完全二分图 $G = K_{3,3}$。$G$ 的顶点集可以划分为两个不相交的集合 $U = \\{u_1, u_2, u_3\\}$ 和 $V = \\{v_1, v_2, v_3\\}$，使得 $U$ 中的每个顶点都与 $V$ 中的每个顶点相连，且 $U$ 内部或 $V$ 内部没有边。\n\n为该图的顶点给出了一个特定的列表分配 $L$：\n- 对于划分 $U$ 中的顶点：$L(u_1) = \\{1, 2\\}$, $L(u_2) = \\{1, 3\\}$, 以及 $L(u_3) = \\{2, 3\\}$。\n- 对于划分 $V$ 中的顶点：$L(v_1) = \\{1, 2\\}$, $L(v_2) = \\{1, 3\\}$, 以及 $L(v_3) = \\{2, 3\\}$。\n\n根据这些信息，判断下列哪个陈述是正确的。\n\nA. 是的，存在一个有效的 $L$-着色。一种可能的着色是 $c(u_1)=1, c(u_2)=1, c(u_3)=2, c(v_1)=2, c(v_2)=3, c(v_3)=1$。\n\nB. 是的，存在一个有效的 $L$-着色。一种可能的着色是 $c(u_1)=2, c(u_2)=1, c(u_3)=3, c(v_1)=1, c(v_2)=2, c(v_3)=2$。\n\nC. 不，不存在有效的 $L$-着色，因为对于划分 $U$ 中顶点的任何有效颜色选择，划分 $V$ 中都至少有一个顶点无法从其列表中合法地着色。\n\nD. 不，不存在有效的 $L$-着色，因为图 $K_{3,3}$ 不是2-可着色的。\n\nE. 根据给定的信息，无法确定是否存在一个有效的 $L$-着色。", "solution": "问题要求我们确定，对于具有特定列表分配 $L$ 的完全二分图 $K_{3,3}$，是否存在一个有效的 $L$-着色。一个有效的 $L$-着色必须对每个顶点和边满足两个条件：\n1. 分配给每个顶点的颜色必须来自其指定的列表。\n2. 相邻顶点的颜色必须不同。\n\n让我们分析给定的选项。\n\n首先，考虑选项D。它声称不存在着色，因为 $K_{3,3}$ 不是2-可着色的。这个陈述是不正确的。一个图是2-可着色的当且仅当它是二分图。$K_{3,3}$ 是二分图的定义，所以它是2-可着色的。例如，我们可以将划分 $U$ 中的所有顶点用颜色“A”着色，并将划分 $V$ 中的所有顶点用颜色“B”着色。由于 $U$ 或 $V$ 内部没有边，这是一个有效的2-着色。因此，选项D是错误的。\n\n接下来，考虑选项A。它提出了一个着色 $c$：$c(u_1)=1, c(u_2)=1, c(u_3)=2, c(v_1)=2, c(v_2)=3, c(v_3)=1$。\n我们来检查这是否是一个有效的 $L$-着色。\n- 所有颜色都应来自它们各自的列表：$c(u_1)=1 \\in \\{1,2\\}$，$c(u_2)=1 \\in \\{1,3\\}$，$c(u_3)=2 \\in \\{2,3\\}$，$c(v_1)=2 \\in \\{1,2\\}$，$c(v_2)=3 \\in \\{1,3\\}$，$c(v_3)=1 \\in \\{2,3\\}$。对 $c(v_2)$ 的选择是有效的，但对 $c(v_3)$ 的选择是无效的，因为 $c(v_3)=1$ 不在 $L(v_3)=\\{2,3\\}$ 中。\n- 我们来重新检查列表：$L(v_1) = \\{1, 2\\}$, $L(v_2) = \\{1, 3\\}$, $L(v_3) = \\{2, 3\\}$。\n- $c(v_1)=2 \\in L(v_1)$。成立。\n- $c(v_2)=3 \\in L(v_2)$。成立。\n- $c(v_3)=1 \\notin L(v_3)$。所提出的着色甚至不是一个从列表中做出的有效选择。\n即使是有效的，我们来检查邻接约束。考虑顶点 $v_1$，它与 $u_1, u_2, u_3$ 相邻。这些邻居的颜色是 $c(u_1)=1, c(u_2)=1, c(u_3)=2$。$v_1$ 的颜色是 $c(v_1)=2$，这与 $c(u_3)$ 相等。由于 $v_1$ 和 $u_3$ 相邻，它们不能有相同的颜色。因此，选项A中的着色是无效的。\n\n现在，考虑选项B。它提出了一个着色 $c$：$c(u_1)=2, c(u_2)=1, c(u_3)=3, c(v_1)=1, c(v_2)=2, c(v_3)=2$。\n让我们首先检查列表约束。\n- $c(u_1)=2 \\in L(u_1)=\\{1,2\\}$。成立。\n- $c(u_2)=1 \\in L(u_2)=\\{1,3\\}$。成立。\n- $c(u_3)=3 \\in L(u_3)=\\{2,3\\}$。成立。\n- $c(v_1)=1 \\in L(v_1)=\\{1,2\\}$。成立。\n- $c(v_2)=2 \\notin L(v_2)=\\{1,3\\}$。为 $v_2$ 选择的颜色不在其列表中。因此，选项B中的着色是无效的。\n\n在排除了选项A、B、D和E（因为问题是明确定义的）之后，我们只剩下选项C。让我们通过证明不存在 $L$-着色来证明C是正确的。\n\n我们来尝试构建一个 $L$-着色。我们必须从每个顶点各自的列表中为其选择颜色。由于划分 $U$ 内的顶点彼此不相邻，我们可以从它们的列表中独立地选择它们的颜色 $c(u_1), c(u_2), c(u_3)$，只要之后我们能为 $V$ 中的顶点着色即可。\n用于划分 $U$ 的颜色集合是 $C_U = \\{c(u_1), c(u_2), c(u_3)\\}$。\n\n情况1：颜色 $c(u_1), c(u_2), c(u_3)$ 不完全不同。这意味着 $|C_U| = 2$。（它不可能是1，因为没有单一颜色同时存在于 $L(u_1), L(u_2), L(u_3)$ 这三个列表中）。\n假设我们对 $U$ 中的顶点使用两种颜色 $\\{a, b\\}$。要实现这一点，$U$ 中至少有两个顶点必须共享一种颜色。\n例如，令 $c(u_1) = c(u_2)$。$L(u_1)$ 和 $L(u_2)$ 中唯一的共同颜色是1。所以，我们必须有 $c(u_1)=1$ 和 $c(u_2)=1$。对于 $u_3$，我们可以选择 $c(u_3)=2$ 或 $c(u_3)=3$。\n- 如果 $c(u_3)=2$，$U$ 上的颜色集合是 $C_U = \\{1, 2\\}$。现在考虑顶点 $v_1 \\in V$。它与 $U$ 中的所有顶点相邻。因此，$c(v_1)$ 必须与 $C_U$ 中的所有颜色都不同，即 $c(v_1) \\notin \\{1, 2\\}$。然而，$v_1$ 的列表是 $L(v_1)=\\{1, 2\\}$。在 $L(v_1)$ 中没有不属于 $C_U$ 的颜色。所以，$v_1$ 无法被着色。这个尝试失败了。\n- 如果 $c(u_3)=3$，$U$ 上的颜色集合是 $C_U = \\{1, 3\\}$。现在考虑顶点 $v_2 \\in V$。它与 $U$ 中的所有顶点相邻。它的颜色 $c(v_2)$ 必须不属于 $C_U = \\{1, 3\\}$。但它的列表是 $L(v_2)=\\{1, 3\\}$。所以，$v_2$ 无法被着色。这个尝试也失败了。\n根据对称性，任何只用两种颜色为 $U$ 中的顶点着色的尝试都会失败。如果使用的两种颜色是 $\\{a,b\\}$，那么列表为 $L(v_i)=\\{a,b\\}$ 的顶点 $v_i \\in V$ 就无法被着色。列表分配的构造方式保证了对于来自 $\\{1,2,3\\}$ 的任何颜色对，$V$中都有一个顶点拥有该颜色对作为其列表。\n\n情况2：颜色 $c(u_1), c(u_2), c(u_3)$ 全部不同。\n这意味着 $|C_U|=3$。\n我们需要找到 $c(u_1) \\in L(u_1)$, $c(u_2) \\in L(u_2)$ 和 $c(u_3) \\in L(u_3)$，使得这些颜色各不相同。\n我们来尝试分配它们。\n- 如果我们选择 $c(u_1)=1$，那么为了保持不同，$c(u_2)$ 必须是 3 (从 $L(u_2)=\\{1,3\\}$ 中选)。然后为了与1和3都不同，$c(u_3)$ 必须是 2 (从 $L(u_3)=\\{2,3\\}$ 中选)。这给出了颜色选择 $(c(u_1), c(u_2), c(u_3)) = (1, 3, 2)$。\n- 如果我们选择 $c(u_1)=2$，那么为了保持不同，$c(u_2)$ 可以是1或3。如果 $c(u_2)=1$，那么 $c(u_3)$ 必须是3。这给出了 $(2, 1, 3)$。如果 $c(u_2)=3$，那么 $c(u_3)$ 必须与2和3都不同，这从其列表 $L(u_3)=\\{2,3\\}$ 来看是不可能的。\n所以，用不同颜色为 $U$ 着色有两种方式：$(1,3,2)$ 和 $(2,1,3)$。\n在这两种情况下，用于划分 $U$ 的颜色集合都是 $C_U = \\{1, 2, 3\\}$。\n现在，考虑 $V$ 中的任意顶点，例如 $v_1$。它与 $u_1, u_2, u_3$ 相邻。因此，它的颜色 $c(v_1)$ 必须与 $c(u_1), c(u_2), c(u_3)$ 都不同。这意味着 $c(v_1)$ 不能是1、2或3。然而，$v_1$ 的列表是 $L(v_1)=\\{1, 2\\}$，其中只包含被禁用的颜色。因此，$v_1$ 无法被着色。同样的逻辑也适用于 $v_2$ 和 $v_3$。\n\n由于两种情况（用2种颜色或3种颜色为 $U$ 着色）都导致了矛盾，因此整个图不存在有效的 $L$-着色。该推理与选项C相符：对于 $U$ 的任何有效着色，用在 $U$ 上的颜色集合都将与 $V$ 中至少一个顶点的列表冲突，使得完整着色成为不可能。", "answer": "$$\\boxed{C}$$", "id": "1519305"}, {"introduction": "在理解了列表色数与色数的区别之后，下一步自然是学习如何确定一个图的列表色数。这个练习将引导你为完全二分图 $K_{2,4}$ 找到确切的列表色数 [@problem_id:1519355]。你将练习确定列表色数的两种基本技巧：通过构造一个特定的“坏”列表分配来建立下界，以及通过普适性论证来证明一个上界，从而精确地“夹”出最终答案。", "problem": "在图论中，列表染色是标准顶点染色问题的一种推广。设 $G$ 是一个图，其顶点集为 $V$。$G$ 的一个*列表分配*是一个函数 $L$，它为每个顶点 $v \\in V$ 分配一个允许的颜色列表，记为 $L(v)$。$G$ 的一个*$L$-染色*是一个函数 $c: V \\to \\bigcup_{v \\in V} L(v)$，使得对于每个顶点 $v$，都有 $c(v) \\in L(v)$，并且对于每对相邻顶点 $u$ 和 $v$，都有 $c(u) \\neq c(v)$。\n\n如果对于任何一个列表分配 $L$，其中每个列表 $L(v)$ 的大小至少为 $k$，图 $G$ 都保证存在一个 $L$-染色，则称图 $G$ 是*$k$-可选的*。图 $G$ 的*选择数*，记为 $\\text{ch}(G)$，是使 $G$ 为 $k$-可选的最小整数 $k$。\n\n考虑完全二分图 $K_{2,4}$。该图的顶点集 $V$ 可以被划分为两个不相交的集合，$A = \\{x_1, x_2\\}$ 和 $B = \\{y_1, y_2, y_3, y_4\\}$。集合 $A$ 中的顶点与集合 $B$ 中的顶点之间存在边，但 $A$ 中任意两个顶点之间或 $B$ 中任意两个顶点之间不存在边。\n\n确定该图的选择数 $\\text{ch}(K_{2,4})$。", "solution": "我们回顾一下，选择数 $\\text{ch}(G)$ 是这样的最小整数 $k$：对于所有顶点 $v$ 都满足 $|L(v)| \\geq k$ 的任意列表分配 $L$，都存在一个正常的 $L$-染色。\n\n首先，我们证明 $K_{2,4}$ 不是 $2$-可选的，这给出了下界 $\\text{ch}(K_{2,4}) \\geq 3$。考虑二分划分为 $A=\\{x_{1},x_{2}\\}$ 和 $B=\\{y_{1},y_{2},y_{3},y_{4}\\}$。定义一个列表大小为 $2$ 的列表分配 $L$ 如下：\n$$\nL(x_{1})=\\{a,b\\},\\quad L(x_{2})=\\{c,d\\},\\quad L(y_{1})=\\{a,c\\},\\quad L(y_{2})=\\{a,d\\},\\quad L(y_{3})=\\{b,c\\},\\quad L(y_{4})=\\{b,d\\}.\n$$\n假设存在一个 $L$-染色 $c$。那么 $c(x_{1}) \\in \\{a,b\\}$ 且 $c(x_{2}) \\in \\{c,d\\}$。无序对 $\\{c(x_{1}),c(x_{2})\\}$ 必须是 $\\{a,c\\},\\{a,d\\},\\{b,c\\},\\{b,d\\}$ 之一。对于其列表 $L(y_{i})$ 正好是该颜色对的那个对应顶点 $y_{i}$ 来说，$L(y_{i})$ 中的两种颜色都与其两个邻点 $x_{1}$ 和 $x_{2}$ 的颜色相同，因此都被禁用。于是 $y_{i}$ 没有可用的颜色，这与存在 $L$-染色相矛盾。因此 $K_{2,4}$ 不是 $2$-可选的，所以 $\\text{ch}(K_{2,4}) \\geq 3$。\n\n接下来，我们证明 $K_{2,4}$ 是 $3$-可选的，这将确立 $\\text{ch}(K_{2,4}) \\leq 3$。设 $L$ 是对所有顶点 $v$ 都有 $|L(v)| \\geq 3$ 的任意列表分配。任意选取颜色 $\\alpha \\in L(x_{1})$ 和 $\\beta \\in L(x_{2})$，并设置 $c(x_{1})=\\alpha$，$c(x_{2})=\\beta$。对于每个 $y \\in B$，其邻点恰好是 $x_{1}$ 和 $x_{2}$，所以它必须避免的颜色只有 $\\alpha$ 和 $\\beta$。由于 $|L(y)| \\geq 3$，集合 $L(y) \\setminus \\{\\alpha,\\beta\\}$ 是非空的（即使 $\\alpha$ 和 $\\beta$ 都属于 $L(y)$）。任意选择一个 $c(y) \\in L(y) \\setminus \\{\\alpha,\\beta\\}$。因为 $B$ 中的顶点两两不相邻，所以这些选择是相互独立的，并能产生一个正常的 $L$-染色。\n\n结合下界和上界，我们得出结论 $\\text{ch}(K_{2,4})=3$。", "answer": "$$\\boxed{3}$$", "id": "1519355"}, {"introduction": "列表着色的概念不仅限于确定性问题，它在概率情景中也有着强大的应用。这个问题将列表着色置于一个模拟无线网络信道分配的实际背景下，要求你计算当频率列表随机生成时，能够成功无冲突分配信道的概率 [@problem_id:1519337]。这是一个将抽象图论与组合概率联系起来的绝佳机会，展示了如何运用霍尔婚配定理（Hall's Marriage Theorem）等组合工具来分析随机过程的结果。", "problem": "一个小型无线网络由三个相同的通信节点组成，其位置使得每个节点都在另外两个节点的干扰范围之内。为实现无干扰运行，必须为每个节点分配一个唯一的频率信道。一个中央系统管理着一个由四个可用频率信道组成的池，这些信道被标记为 $\\{1, 2, 3, 4\\}$。\n\n对于这三个节点中的每一个，都会选择一个包含两个允许信道的列表。对每个节点的选择是独立进行的，且任何一个包含两个信道的列表被选中的可能性都是均等的。随后，系统必须从每个节点各自的允许信道列表中为其分配一个工作信道。\n\n计算存在一次有效的、无干扰的信道分配的概率。将你的答案表示为一个最简精确分数。", "solution": "设可用信道集为 $U=\\{1,2,3,4\\}$，对于节点 $1,2,3$，设其允许信道列表分别为 $L_{1},L_{2},L_{3}$，每个列表都从 $U$ 的 $\\binom{4}{2}=6$ 个双元素子集中独立且均匀地随机选取。列表配置的总数为\n$$\nN_{\\text{total}}=\\left(\\binom{4}{2}\\right)^{3}=6^{3}\n$$\n一个有效的、无干扰的分配存在的充要条件是，可以从每个 $L_{i}$ 中单射地选择一个元素，即存在一个相异代表系。根据霍尔定理 (Hall’s theorem)，这样的系统不存在的充要条件是，存在一个子集 $T\\subseteq\\{1,2,3\\}$ 满足\n$$\n\\left|\\bigcup_{i\\in T}L_{i}\\right| < |T|\n$$\n由于每个 $|L_{i}|=2$，当 $|T|=1$ 时，我们有 $\\left|\\bigcup_{i\\in T}L_{i}\\right|=2\\not<1$；当 $|T|=2$ 时，我们有 $\\left|\\bigcup_{i\\in T}L_{i}\\right|\\geq 2\\not<2$。因此，唯一可能违反该条件的情况是当 $|T|=3$ 时，此时要求\n$$\n\\left|L_{1}\\cup L_{2}\\cup L_{3}\\right| < 3\n$$\n因为每个 $L_{i}$ 的大小为 $2$，上述情况发生的唯一方式是 $\\left|L_{1}\\cup L_{2}\\cup L_{3}\\right|=2$，这必然导致 $L_{1}=L_{2}=L_{3}=S$，其中 $S$ 是 $U$ 的某个双元素子集。因此，导致分配失败的配置数量即为对 $S$ 的选择数量：\n$$\nN_{\\text{fail}}=\\binom{4}{2}=6\n$$\n因此，所求的成功概率为\n$$\nP_{\\text{success}}=1-\\frac{N_{\\text{fail}}}{N_{\\text{total}}}=1-\\frac{6}{6^{3}}=1-\\frac{1}{36}=\\frac{35}{36}\n$$", "answer": "$$\\boxed{\\frac{35}{36}}$$", "id": "1519337"}]}