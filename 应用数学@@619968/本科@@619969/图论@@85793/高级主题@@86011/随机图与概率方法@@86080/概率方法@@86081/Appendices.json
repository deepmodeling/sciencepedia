{"hands_on_practices": [{"introduction": "这项实践将引导你初次体验概率方法的核心思想：通过计算期望值来证明存在性。我们将探讨一个有趣的竞赛图场景，计算其中“循环三元组”（类似于“石头-剪刀-布”的循环克制关系）的数量。这个练习是完美的起点，它在一个清晰直观的背景下，运用了期望线性性这一强大工具 [@problem_id:1410201]。", "problem": "在一个有 $n$ 名玩家的大型在线游戏联盟中，举办了一场循环赛。在这场锦标赛中，每位玩家与所有其他玩家恰好对战一次。比赛没有平局；每场比赛都在两名玩家中决出一位胜者。\n\n玩家的实力水平非常接近，因此任何一场给定比赛的结果基本上是随机的。对于任意两名玩家，他们各自赢得比赛的概率为 $1/2$，且所有比赛结果相互独立。\n\n一个特别令人感兴趣的结构是“循环三元组”。一个循环三元组是由三名不同玩家（我们称其为 P1、P2 和 P3）组成的集合，其中 P1 击败 P2，P2 击败 P3，而 P3 又击败 P1。这样的循环展示了排名中的一种非传递关系（即“剪刀、石头、布”动态）。\n\n假设 $n \\geq 3$，这场锦标赛中循环三元组的期望数量是多少？请将你的答案表示为 $n$ 的函数。", "solution": "设这 $n$ 名玩家参加一个随机锦标赛，其中每场比赛的结果都是独立的，且在任何一场比赛中，每位玩家获胜的概率都是 $\\frac{1}{2}$。\n\n对每个由不同玩家组成的无序三元组 $T$，定义一个指示随机变量 $X_{T}$：当该三元组构成一个循环三元组（即一个有向3-圈）时，$X_T = 1$，否则 $X_T = 0$。于是，循环三元组的总数是\n$$\nX=\\sum_{T} X_{T},\n$$\n其中，求和遍历所有由玩家构成的无序三元组 $T$。根据期望的线性性，\n$$\n\\mathbb{E}[X]=\\sum_{T} \\mathbb{E}[X_{T}].\n$$\n\n固定一个特定的三元组 $T=\\{P_{1},P_{2},P_{3}\\}$。这三名玩家之间有三场比赛，每场比赛的朝向（即哪位玩家击败哪位）都是独立决定的，每个方向的概率为 $\\frac{1}{2}$。因此，这三条边总共有 $2^{3}$ 种等可能的朝向。一个循环三元组对应一个有向3-圈，而这样的圈恰好有两种朝向（顺时针和逆时针）。所以，\n$$\n\\mathbb{P}(X_{T}=1)=\\frac{2}{2^{3}}=\\frac{1}{4},\n$$\n于是\n$$\n\\mathbb{E}[X_{T}]=\\frac{1}{4}.\n$$\n\n玩家中共有 $\\binom{n}{3}$ 个无序三元组。将此代入期望线性性的求和式，可得\n$$\n\\mathbb{E}[X]=\\binom{n}{3}\\cdot\\frac{1}{4}=\\frac{1}{4}\\binom{n}{3}.\n$$\n此结论对所有 $n\\geq 3$ 均成立。", "answer": "$$\\boxed{\\frac{1}{4}\\binom{n}{3}}$$", "id": "1410201"}, {"introduction": "在上一练习的基础上，我们将继续运用期望线性性，但这次的场景是著名的 $G(n,p)$ 随机图模型。我们将计算“隐蔽对”（即孤立边）的期望数量，这需要更仔细地计算概率，因为它既涉及某些边的存在，也涉及其他许多边的缺失。这个练习将磨练你为更复杂的事件设置指示变量的技巧 [@problem_id:1546111]。", "problem": "在一个去中心化网络模型中，我们考虑一个包含 $n$ 个节点的集合，其中 $n \\geq 2$。任意一对不同的节点之间都以一个固定的概率 $p$ 独立地建立直接通信链接，其中 $0 < p < 1$。此过程会生成一个随机图。\n\n如果一对节点（例如节点A和节点B）之间存在直接链接，但A和B均未与网络中任何其他节点有直接链接，则称这对节点为“孤立对”(sequestered pair)。\n\n您的任务是确定该网络中孤立对的期望数量。请用包含 $n$ 和 $p$ 的符号表达式给出您的答案。", "solution": "设节点集的大小为 $n$，并考虑 Erdős–Rényi 模型，其中每对无序的不同节点之间都以概率 $p$ 独立地存在一条边，其中 $0<p<1$。如果边 $ij$ 存在，并且节点 $i$ 和 $j$ 都没有连接到其余 $n-2$ 个节点中任何一个的其它边，则称节点对 $\\{i,j\\}$ 为一个孤立对。\n\n对于每个满足 $1 \\leq i < j \\leq n$ 的无序对 $\\{i,j\\}$，定义指示随机变量\n$$\nI_{ij}=\\begin{cases}\n1, & \\text{如果 } \\{i,j\\} \\text{ 是一个孤立对},\\\\\n0, & \\text{否则}.\n\\end{cases}\n$$\n令 $X$ 为孤立对的总数：\n$$\nX=\\sum_{1 \\leq i < j \\leq n} I_{ij}.\n$$\n根据期望的线性性质，\n$$\n\\mathbb{E}[X]=\\sum_{1 \\leq i < j \\leq n} \\mathbb{E}[I_{ij}]=\\sum_{1 \\leq i < j \\leq n} \\mathbb{P}(I_{ij}=1).\n$$\n对于一个固定的节点对 $\\{i,j\\}$，事件 $I_{ij}=1$ 的发生需要满足以下条件：\n- 边 $ij$ 存在，其概率为 $p$；\n- 对于其余 $n-2$ 个节点中的每一个节点 $k \\neq i,j$，边 $ik$ 和 $jk$ 都不存在，其各自的概率为 $1-p$。\n\n对于 $\\{ik,jk: k \\neq i,j\\}$，这 $2(n-2)$ 个边不存在的事件彼此独立，并且也与边 $ij$ 存在的事件独立。因此，\n$$\n\\mathbb{P}(I_{ij}=1)=p\\,(1-p)^{2(n-2)}.\n$$\n总共有 $\\binom{n}{2}$ 个无序对，所以\n$$\n\\mathbb{E}[X]=\\binom{n}{2}\\,p\\,(1-p)^{2(n-2)}.\n$$\n这就是孤立对的期望数量。", "answer": "$$\\boxed{\\binom{n}{2}\\,p\\,(1-p)^{2(n-2)}}$$", "id": "1546111"}, {"introduction": "我们的最后一个实践将介绍一种更高级、更强大的技术，称为“修正法”（alteration method）。我们不再直接对期望的结构进行计数，而是先创建一个随机的、近似的结构，然后“修正”其缺陷。通过分析一个用于在图中寻找大独立集的随机算法，你将学会如何推导出在计算机科学和优化领域有重要应用的强大存在性界限 [@problem_id:1410205]。", "problem": "一家科技公司正在一个地理区域内部署大量无线传感器。该传感器网络被建模为一个简单的无向图 $G=(V, E)$，其中 $V$ 是 $n$ 个传感器的集合，如果传感器 $u$ 和 $v$ 靠得足够近以至于会相互干扰，则存在一条边 $(u,v) \\in E$。为了减少功耗和信号干扰，公司希望激活传感器的一个子集 $I \\subseteq V$，使得任意两个激活的传感器之间都不会相互干扰。这意味着集合 $I$ 必须是图 $G$ 的一个独立集。该网络的设计使得任何一个传感器最多能与 $\\Delta$ 个其他传感器发生干扰，这意味着图的最大度为 $\\Delta$。\n\n为生成独立集 $I$，实现了一个随机化的两阶段算法：\n\n1.  **候选阶段：** 首先形成一个候选传感器的初步集合 $S$。$V$ 中的每个传感器都以固定的概率 $p$ 被独立地选择加入 $S$。\n2.  **冲突解决阶段：** 任何两个端点都在 $S$ 中的边被称为“冲突边”。为了形成最终的独立集 $I$，我们通过从 $S$ 中移除顶点来解决这些冲突。对于每一条冲突边，我们任意移除其一个端点以打破该冲突。最终的独立集 $I$ 由 $S$ 中剩余的顶点组成。\n\n集合 $I$ 的期望大小，记为 $\\mathbb{E}[|I|]$，很难直接计算，因为它取决于具体的图结构和移除选择。然而，可以找到该期望的一个有用的下界。令 $X = |S|$ 为第一阶段选出的候选传感器数量，令 $Y$ 为 $S$ 内部的冲突边数量。从 $S$ 中移除的传感器总数最多为 $Y$。因此，最终集合的大小有界，即 $|I| \\ge X - Y$。这意味着期望大小的一个下界：$\\mathbb{E}[|I|] \\ge \\mathbb{E}[X - Y]$。\n\n你的任务是计算这个期望大小的下界。假设公司将选择概率设置为 $p = \\frac{1}{\\Delta+1}$。确定 $\\mathbb{E}[X-Y]$ 的值，为此量找到一个仅依赖于 $n$ 和 $\\Delta$ 的通用下界，该下界对任何具有 $n$ 个顶点和最大度为 $\\Delta$ 的图都成立。将你的答案表示为关于 $n$ 和 $\\Delta$ 的单个封闭形式解析表达式。", "solution": "设 $G=(V,E)$ 是一个具有 $n$ 个顶点且最大度为 $\\Delta$ 的简单无向图。在候选阶段，每个顶点以概率 $p=\\frac{1}{\\Delta+1}$ 被独立地包含在 $S$ 中。定义 $X=|S|$，并令 $Y$ 为 $G$ 中两个端点都位于 $S$ 内的边的数量。在冲突解决阶段，对于每一条冲突边，我们移除它的一个端点。移除的顶点总数最多为 $Y$，因此有 $|I| \\ge X - Y$。根据期望的线性性，\n$$\n\\mathbb{E}[|I|] \\ge \\mathbb{E}[X - Y] = \\mathbb{E}[X] - \\mathbb{E}[Y].\n$$\n\n使用指示变量计算 $\\mathbb{E}[X]$。对于每个 $v \\in V$，令 $I_{v}$ 为 $v \\in S$ 的指示变量。那么 $X=\\sum_{v \\in V} I_{v}$ 且 $\\mathbb{E}[I_{v}] = p$，所以\n$$\n\\mathbb{E}[X] = \\sum_{v \\in V} \\mathbb{E}[I_{v}] = \\sum_{v \\in V} p = n p.\n$$\n\n类似地计算 $\\mathbb{E}[Y]$。对于每条边 $e=\\{u,v\\} \\in E$，令 $J_{e}$ 为 $u$ 和 $v$ 都在 $S$ 中的指示变量。由于选择是独立的，且每个端点以概率 $p$ 被选中，我们有 $\\mathbb{E}[J_{e}] = p^{2}$。设 $m=|E|$，\n$$\nY=\\sum_{e \\in E} J_{e}\n\\quad\\text{且}\\quad\n\\mathbb{E}[Y] = \\sum_{e \\in E} \\mathbb{E}[J_{e}] = m p^{2}.\n$$\n\n因此，\n$$\n\\mathbb{E}[X - Y] = n p - m p^{2}.\n$$\n这取决于 $m$，而 $m$ 不是固定的，但最大度限制意味着 $m$ 有一个上界。因为 $\\sum_{v \\in V} \\deg(v) = 2m$ 且对于所有 $v$ 都有 $\\deg(v) \\le \\Delta$，\n$$\n2m = \\sum_{v \\in V} \\deg(v) \\le n \\Delta\n\\quad\\Longrightarrow\\quad\nm \\le \\frac{n \\Delta}{2}.\n$$\n将 $m$ 的这个上界代入 $\\mathbb{E}[X - Y]$，可以得到一个对所有最大度为 $\\Delta$ 的图都有效的统一下界：\n$$\n\\mathbb{E}[X - Y] \\ge n p - \\frac{n \\Delta}{2} p^{2}.\n$$\n当 $p=\\frac{1}{\\Delta+1}$ 时，\n$$\n\\mathbb{E}[X - Y] \\ge n \\cdot \\frac{1}{\\Delta+1} - \\frac{n \\Delta}{2} \\cdot \\frac{1}{(\\Delta+1)^{2}}\n= \\frac{n(\\Delta+2)}{2(\\Delta+1)^{2}}.\n$$\n这只依赖于 $n$ 和 $\\Delta$，并且对任何最大度为 $\\Delta$ 的图都成立。", "answer": "$$\\boxed{\\frac{n(\\Delta+2)}{2(\\Delta+1)^{2}}}$$", "id": "1410205"}]}