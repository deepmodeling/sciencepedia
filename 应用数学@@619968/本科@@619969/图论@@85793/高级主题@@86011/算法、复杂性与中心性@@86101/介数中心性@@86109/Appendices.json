{"hands_on_practices": [{"introduction": "路径图是我们可以想象到的最简单的网络结构之一，常用于模拟供应链或简单的通信线路。这个练习将带你推导路径图中任意一个节点介数中心性的通用公式。通过这个过程，你将深刻理解一个节点的重要性是如何由其在网络中的“位置”决定的，以及中心性是如何衡量其作为网络两部分之间桥梁作用的。[@problem_id:1483222]", "problem": "路径图 $P_n$ 由 $n$ 个顶点 $v_1, v_2, \\ldots, v_n$ 构成，其中对所有 $i=1, \\ldots, n-1$，顶点 $v_i$ 和 $v_{i+1}$ 之间有边相连。顶点 $v$ 的（未归一化）介数中心性 $C_B(v)$，通过计算穿过该顶点的最短路径数量来衡量其在网络中的重要性。其形式化定义为：\n$$C_B(v) = \\sum_{\\{s,t\\}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$$\n此处，$V$ 为所有顶点的集合，求和遍历图中所有满足 $s \\neq v$ 和 $t \\neq v$ 的唯一无序节点对 $\\{s,t\\}$。$\\sigma_{st}$ 是任意两顶点 $s$ 和 $t$ 之间的最短路径总数，而 $\\sigma_{st}(v)$ 是这些最短路径中穿过顶点 $v$ 的路径数量。\n\n请计算路径图 $P_n$ 中顶点 $v_k$ 的未归一化介数中心性，其中 $k$ 为满足 $1 \\le k \\le n$ 的任意整数。请将最终答案表示为关于 $n$ 和 $k$ 的解析表达式。", "solution": "我们已知路径图 $P_{n}$，其顶点为 $v_{1},\\ldots,v_{n}$，边为 $\\{v_{i},v_{i+1}\\}$（其中 $i=1,\\ldots,n-1$）。对于未归一化的介数中心性公式\n$$\nC_{B}(v)=\\sum_{\\{s,t\\}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}},\n$$\n我们分析当 $v=v_{k}$ 时的情况，其中 $k$ 为满足 $1\\leq k\\leq n$ 的任意整数。\n\n首先，$P_{n}$ 是一棵树，因此对于任意不同的顶点 $s, t \\in V$，它们之间有且仅有一条简单路径（也就是最短路径）。所以，\n$$\n\\sigma_{st}=1 \\quad \\text{for all } s\\neq t.\n$$\n因此，分数 $\\frac{\\sigma_{st}(v_{k})}{\\sigma_{st}}$ 的值要么是 $1$（如果路径穿过 $v_k$），要么是 $0$（如果不穿过）。$C_B(v_k)$ 就等于穿过 $v_k$ 的无序节点对 $\\{s,t\\}$ 的数量。\n\n在路径图中，从 $s$ 到 $t$ 的唯一路径穿过 $v_{k}$，当且仅当 $s$ 和 $t$ 分别位于 $v_{k}$ 的两侧。不失一般性，我们可以假设顶点的索引是 $1, \\ldots, n$。一个节点对 $\\{s,t\\}$ 的路径要穿过 $v_k$，必须满足一个节点的索引小于 $k$，另一个节点的索引大于 $k$。\n\n令 $L=\\{v_1, v_2, \\ldots, v_{k-1}\\}$ 为 $v_k$ 左侧的节点集合，令 $R=\\{v_{k+1}, v_{k+2}, \\ldots, v_n\\}$ 为 $v_k$ 右侧的节点集合。$L$ 中有 $k-1$ 个节点，$R$ 中有 $n-k$ 个节点。\n\n要形成一个其路径穿过 $v_k$ 的无序节点对 $\\{s, t\\}$，我们必须从 $L$ 中选择一个节点，并从 $R$ 中选择另一个节点。从 $L$ 中选择一个节点有 $k-1$ 种方式，从 $R$ 中选择一个节点有 $n-k$ 种方式。因此，这样的无序对的总数是：\n$$\nC_{B}(v_{k}) = (k-1)(n-k).\n$$\n此表达式在端点 $k=1$ 或 $k=n$ 处的值为 $0$，并向路径中心递增，这与预期相符。", "answer": "$$\\boxed{(k-1)(n-k)}$$", "id": "1483222"}, {"introduction": "在许多真实世界的网络中，节点可以被分为几个不同的组，例如社交网络中的用户和兴趣小组，或是在线市场中的买家和卖家。完全二分图正是这类网络的一个理想化模型。通过计算一个 $K_{2,3}$ 图中节点的介数中心性，本练习旨在揭示中心性不仅与几何位置有关，更与其连接不同社群的关键作用息息相关。[@problem_id:1483194]", "problem": "考虑一个表示小型通信网络的简单无权图。该网络有五个节点，它们被划分为两个不相交的集合：集合 $U = \\{u_1, u_2\\}$ 和集合 $W = \\{v_1, v_2, v_3\\}$。集合 $U$ 中的任意节点与集合 $W$ 中的任意节点之间都存在一条边。集合 $U$ 内部或集合 $W$ 内部的任意两个节点之间都不存在边。这种结构对应于一个完全二分图，记作 $K_{2,3}$。\n\n一个节点的介数中心性是衡量其在网络信息流中重要性的指标。对于一个节点 $v$，其介数中心性 $C_B(v)$ 定义为：\n$$C_B(v) = \\sum_{\\{s,t\\}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$$\n其中，求和遍历图中所有满足 $s \\neq v$ 和 $t \\neq v$ 的唯一无序节点对 $\\{s,t\\}$。在此公式中，$\\sigma_{st}$ 是节点 $s$ 和节点 $t$ 之间最短路径的总数，而 $\\sigma_{st}(v)$ 是其中经过节点 $v$ 的最短路径的数量。\n\n计算节点 $u_1$ 的介数中心性。将你的答案表示为最简分数形式。", "solution": "该图是完全二分图 $K_{2,3}$，其两部分别为 $U=\\{u_{1},u_{2}\\}$ 和 $W=\\{v_{1},v_{2},v_{3}\\}$，所有边都在 $U$ 和 $W$ 之间，而部分内部没有边。$u_{1}$ 的介数中心性为\n$$\nC_{B}(u_{1})=\\sum_{\\{s,t\\}} \\frac{\\sigma_{st}(u_{1})}{\\sigma_{st}},\n$$\n其中，求和遍历所有满足 $s\\neq u_{1}$ 和 $t\\neq u_{1}$ 的无序节点对 $\\{s,t\\}$。排除 $u_{1}$ 后，剩下的节点为 $\\{u_{2},v_{1},v_{2},v_{3}\\}$，共有 $\\binom{4}{2}=6$ 对节点对。将这些节点对按类型划分并计算其贡献。\n\n1) 形如 $\\{u_{2},v_{k}\\}$（其中 $k\\in\\{1,2,3\\}$）的节点对：最短路径长度为 $1$（即边 $u_{2}v_{k}$），因此 $\\sigma_{u_{2}v_{k}}=1$，且没有最短路径经过 $u_{1}$，故 $\\sigma_{u_{2}v_{k}}(u_{1})=0$。每对这样的节点对贡献为 $0$。\n\n2) 形如 $\\{v_{i},v_{j}\\}$（其中 $i\\neq j$）的节点对：任意最短路径的长度都为 $2$，且必须经过 $U$ 中的一个节点。恰好有两条最短路径，一条经过 $u_{1}$，另一条经过 $u_{2}$，所以 $\\sigma_{v_{i}v_{j}}=2$ 且 $\\sigma_{v_{i}v_{j}}(u_{1})=1$。每对这样的节点对贡献为 $\\frac{1}{2}$。共有 $\\binom{3}{2}=3$ 对这样的节点对，因此它们的总贡献为 $3\\cdot \\frac{1}{2}=\\frac{3}{2}$。\n\n将所有贡献相加得到\n$$\nC_{B}(u_{1})=\\frac{3}{2}.\n$$", "answer": "$$\\boxed{\\frac{3}{2}}$$", "id": "1483194"}, {"introduction": "网格图是模拟具有空间结构网络的常用模型，例如城市街道网络或计算机芯片的布局。计算一个 $3 \\times 3$ 网格中心节点的介数中心性，是一个更具挑战性的计算任务。它要求你系统地对节点对进行分类和计数，从而练习在更复杂的结构化网络中分析中心性时所需的严谨方法。[@problem_id:1483203]", "problem": "考虑一个建模为图的小型通信网络。该网络由9个节点组成，排列成一个3x3的网格。一个节点只能与其直接邻居（水平或垂直相邻的节点）直接通信。任意两个节点之间的距离定义为连接它们的最短路径中的直接通信链路数。\n\n为了评估一个节点在信息路由中的重要性，我们使用介数中心性（betweenness centrality）这一度量。节点 $v$ 的未归一化介数中心性定义为，对于所有其他节点的唯一无序对 $\\{s, t\\}$，经过 $v$ 的 $s$ 和 $t$ 之间最短路径数量占 $s$ 和 $t$ 之间总最短路径数量的比例之和。这可以写成：\n$$C_B(v) = \\sum_{s \\neq t; s,t \\neq v} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$$\n其中 $\\sigma_{st}$ 是节点 $s$ 和 $t$ 之间的最短路径总数，而 $\\sigma_{st}(v)$ 是这些最短路径中经过节点 $v$ 的数量。\n\n计算位于3x3网格正中心的单个节点的未归一化介数中心性。将你的答案表示为一个最简分数。", "solution": "用坐标 $(i,j)$ 标记网格节点，其中 $i,j \\in \\{1,2,3\\}$，并设中心节点为 $v=(2,2)$。距离是曼哈顿距离：对于节点 $x=(i_{x},j_{x})$ 和 $y=(i_{y},j_{y})$，$d(x,y)=|i_{x}-i_{y}|+|j_{x}-j_{y}|$。对于水平差为 $d_{x}=|i_{s}-i_{t}|$、垂直差为 $d_{y}=|j_{s}-j_{t}|$ 的节点对 $s,t$，其间的 $s$–$t$ 最短路径数量为\n$$\n\\sigma_{st}=\\binom{d_{x}+d_{y}}{d_{x}}.\n$$\n中心节点 $v$ 位于某条 $s$–$t$ 最短路径上，当且仅当 $d(s,v)+d(v,t)=d(s,t)$，这恰好在 $v$ 位于以 $s$ 和 $t$ 为对角顶点的坐标轴对齐矩形内部时成立。在这种情况下，经过 $v$ 的 $s$–$t$ 最短路径数量为\n$$\n\\sigma_{st}(v)=\\sigma_{sv}\\,\\sigma_{vt}.\n$$\n我们将 $8$ 个非中心节点的所有无序对 $\\{s,t\\}$ 的 $\\sigma_{st}(v)/\\sigma_{st}$ 值相加。根据对称性，将节点分为边中心点 $E=\\{(1,2),(2,1),(2,3),(3,2)\\}$ 和角点 $C=\\{(1,1),(1,3),(3,1),(3,3)\\}$，并将节点对划分为 $E$–$E$、$C$–$C$ 和 $E$–$C$ 三种类型。\n\n1) $E$–$E$ 对：共有 $\\binom{4}{2}=6$ 对。其中两对关于 $v$ 相对：$(1,2)$–$(3,2)$ 和 $(2,1)$–$(2,3)$。对于每一对，$d=2$，$\\sigma_{st}=1$，且唯一的最短路径经过 $v$，因此每对的贡献值为 $1$。剩下的四对是相互垂直的，例如 $(1,2)$–$(2,1)$，此时 $d=2$，$\\sigma_{st}=\\binom{2}{1}=2$，$\\sigma_{sv}=1$，$\\sigma_{vt}=1$，因此贡献值为 $\\sigma_{sv}\\sigma_{vt}/\\sigma_{st}=1/2$。所以\n$$\n\\text{对 }E\\text{–}E \\text{ 对求和} = 2\\cdot 1 + 4\\cdot \\frac{1}{2} = 4.\n$$\n\n2) $C$–$C$ 对：共有 $\\binom{4}{2}=6$ 对。其中两对是相对的对角线：$(1,1)$–$(3,3)$ 和 $(1,3)$–$(3,1)$。对于每一对，$d_{x}=2$，$d_{y}=2$，所以 $\\sigma_{st}=\\binom{4}{2}=6$。同时 $d(s,v)=2$ 且 $\\sigma_{sv}=\\binom{2}{1}=2$，$d(v,t)=2$ 且 $\\sigma_{vt}=2$，得到 $\\sigma_{st}(v)=4$，贡献值为 $4/6=2/3$。剩下的四对共享一行或一列（例如 $(1,1)$–$(1,3)$），对于这些对，$v$ 不在矩形内，贡献值为 $0$。所以\n$$\n\\text{对 }C\\text{–}C \\text{ 对求和} = 2\\cdot \\frac{2}{3} = \\frac{4}{3}.\n$$\n\n3) $E$–$C$ 对：共有 $4\\cdot 4=16$ 对。对于一个给定的角点，比如 $(1,1)$，它与相邻边中心点 $(1,2)$ 和 $(2,1)$\n组成的对，$d=1$，贡献值为零。它与相对边中心点 $(3,2)$ 和 $(2,3)$ 组成的对，有 $d_{x}+d_{y}=3$ 且 $(d_{x},d_{y})$ 为 $(2,1)$ 或 $(1,2)$，所以 $\\sigma_{st}=\\binom{3}{2}=3$，而 $\\sigma_{sv}=\\binom{2}{1}=2$ 且 $\\sigma_{vt}=\\binom{1}{1}=1$，贡献值为 $2/3$。根据对称性，这对每个角点都成立，所以有 $8$ 对 $E$–$C$ 对的贡献值为 $2/3$，另外 $8$ 对的贡献值为 $0$，因此\n$$\n\\text{对 }E\\text{–}C \\text{ 对求和} = 8\\cdot \\frac{2}{3} = \\frac{16}{3}.\n$$\n\n将所有贡献值相加得到\n$$\nC_{B}(v) = 4 + \\frac{4}{3} + \\frac{16}{3} = \\frac{32}{3}.\n$$\n这是中心节点对于无序非重复对的未归一化介数中心性。", "answer": "$$\\boxed{\\frac{32}{3}}$$", "id": "1483203"}]}