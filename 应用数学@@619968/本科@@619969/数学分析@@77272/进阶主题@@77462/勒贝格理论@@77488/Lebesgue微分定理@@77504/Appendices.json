{"hands_on_practices": [{"introduction": "我们首先通过一个直观的例子来理解勒贝格微分定理。考虑一个在二维平面上定义的简单连续函数，我们将计算它在一个点周围不断缩小的圆盘上的平均值极限。通过这个练习，你会发现该定理可以被看作是一个强大的推广：一个函数在某一点的局部平均值，可以由该点自身的函数值来精确近似 [@problem_id:1335314]。这个实践旨在为你建立对该定理在处理性质优良的函数时的核心直觉。", "problem": "设 $f: \\mathbb{R}^2 \\to \\mathbb{R}$ 是一个由 $f(x, y) = x$ 定义的函数。设 $P = (a, b)$ 是平面 $\\mathbb{R}^2$ 中的任意一点。对于任意半径 $r > 0$，我们将 $D_r(P)$ 定义为以 $P$ 为中心、半径为 $r$ 的闭圆盘。\n\n函数 $f$ 在圆盘 $D_r(P)$ 上的平均值，记作 $\\langle f \\rangle_{D_r(P)}$，由以下公式给出：\n$$\n\\langle f \\rangle_{D_r(P)} = \\frac{1}{\\text{Area}(D_r(P))} \\iint_{D_r(P)} f(x, y) \\, dA\n$$\n其中 $dA$ 是面积元。\n\n求当半径 $r$ 趋近于零时，该平均值的极限。您的答案应该是一个用 $P$ 的坐标表示的表达式。", "solution": "问题要求计算以下极限：\n$$\nL = \\lim_{r \\to 0^+} \\langle f \\rangle_{D_r(P)} = \\lim_{r \\to 0^+} \\frac{1}{\\text{Area}(D_r(P))} \\iint_{D_r(P)} f(x, y) \\, dA\n$$\n其中 $f(x, y) = x$ 且 $P = (a, b)$。\n\n我们可以用两种方法解决这个问题：直接应用实分析中的一个基本定理，或者直接计算积分。\n\n**方法一：应用勒贝格微分定理**\n\n勒贝格微分定理指出，对于 $\\mathbb{R}^n$ 上的任意局部可积函数 $g$，当 $r \\to 0^+$ 时， $g$ 在以 $x_0$ 为中心、半径为 $r$ 的球 $B(x_0, r)$ 上的平均值的极限收敛于 $g(x_0)$，对于几乎所有的点 $x_0 \\in \\mathbb{R}^n$ 成立。即，\n$$\n\\lim_{r \\to 0^+} \\frac{1}{|B(x_0, r)|} \\int_{B(x_0, r)} g(x) \\, dV = g(x_0) \\quad \\text{for almost every } x_0.\n$$\n这里， $|B(x_0, r)|$ 表示球的体积（或在 $\\mathbb{R}^2$ 中为面积）。\n\n在我们的问题中，函数是 $\\mathbb{R}^2$ 上的 $f(x, y) = x$。这个函数处处连续。连续函数总是局部可积的。此外，对于在点 $x_0$ 处连续的函数，勒贝格微分定理的结论在该点精确成立（而不仅是“几乎处处”成立）。\n\n由于 $f(x, y) = x$ 在 $\\mathbb{R}^2$ 中的所有点上都连续，我们可以对任意点 $P = (a, b)$ 直接应用该定理。当半径收缩到零时， $f$ 在以 $P$ 为中心的圆盘上的平均值的极限将是函数 $f$ 在点 $P$ 的取值。\n\n因此，\n$$\nL = f(P) = f(a, b) = a.\n$$\n这个方法非常直接，并且依赖于对勒贝格微分定理概念含义的理解。\n\n**方法二：直接计算**\n\n我们也可以通过显式地计算积分来求极限。圆盘 $D_r(P)$ 的面积是 $\\pi r^2$。我们需要计算的积分是 $\\iint_{D_r(P)} x \\, dA$。\n\n圆盘 $D_r(P)$ 由不等式 $(x-a)^2 + (y-b)^2 \\le r^2$ 定义。为了计算该积分，方便的做法是切换到以点 $P=(a, b)$ 为中心的极坐标系。我们使用如下变换：\n$$\nx = a + \\rho \\cos\\theta\n$$\n$$\ny = b + \\rho \\sin\\theta\n$$\n在这些新坐标下，积分区域为 $0 \\le \\rho \\le r$ 和 $0 \\le \\theta \\le 2\\pi$。在这种平移过的极坐标系中，面积元为 $dA = \\rho \\, d\\rho \\, d\\theta$。\n\n现在，我们建立分子的积分：\n$$\n\\iint_{D_r(P)} x \\, dA = \\int_0^{2\\pi} \\int_0^r (a + \\rho \\cos\\theta) (\\rho \\, d\\rho \\, d\\theta)\n$$\n我们可以将积分分成两部分：\n$$\n= \\int_0^{2\\pi} \\int_0^r a\\rho \\, d\\rho \\, d\\theta + \\int_0^{2\\pi} \\int_0^r \\rho^2 \\cos\\theta \\, d\\rho \\, d\\theta\n$$\n首先，计算关于 $\\rho$ 的积分：\n$$\n\\int_0^r a\\rho \\, d\\rho = \\left[ \\frac{a\\rho^2}{2} \\right]_0^r = \\frac{ar^2}{2}\n$$\n$$\n\\int_0^r \\rho^2 \\cos\\theta \\, d\\rho = \\cos\\theta \\left[ \\frac{\\rho^3}{3} \\right]_0^r = \\frac{r^3}{3}\\cos\\theta\n$$\n现在，将它们代回并计算关于 $\\theta$ 的积分：\n$$\n\\iint_{D_r(P)} x \\, dA = \\int_0^{2\\pi} \\frac{ar^2}{2} \\, d\\theta + \\int_0^{2\\pi} \\frac{r^3}{3}\\cos\\theta \\, d\\theta\n$$\n$$\n= \\frac{ar^2}{2} [\\theta]_0^{2\\pi} + \\frac{r^3}{3} [\\sin\\theta]_0^{2\\pi}\n$$\n$$\n= \\frac{ar^2}{2} (2\\pi - 0) + \\frac{r^3}{3} (\\sin(2\\pi) - \\sin(0))\n$$\n$$\n= a \\pi r^2 + \\frac{r^3}{3} (0 - 0) = a \\pi r^2\n$$\n现在我们可以计算平均值 $\\langle f \\rangle_{D_r(P)}$：\n$$\n\\langle f \\rangle_{D_r(P)} = \\frac{1}{\\text{Area}(D_r(P))} \\iint_{D_r(P)} x \\, dA = \\frac{a \\pi r^2}{\\pi r^2} = a\n$$\n有趣的是，函数 $f(x, y) = x$ 在任何以 $(a, b)$ 为中心的圆盘上的平均值都是常数 $a$，与半径 $r > 0$ 无关。\n\n最后，我们取 $r \\to 0^+$ 的极限：\n$$\nL = \\lim_{r \\to 0^+} \\langle f \\rangle_{D_r(P)} = \\lim_{r \\to 0^+} a = a\n$$\n两种方法得到相同的结果。该极限是中心点 $P$ 的第一个坐标。", "answer": "$$\\boxed{a}$$", "id": "1335314"}, {"introduction": "现在，让我们从平滑函数转向集合的几何特性。勒贝格微分定理告诉我们，对于一个给定的集合，其内部几乎所有点的密度都为 $1$，外部几乎所有点的密度都为 $0$。但是，在集合的边界上会发生什么呢？这个练习将邀请你通过计算一个单位圆盘边界上某一点的勒贝格密度来探索这个问题 [@problem_id:2325589]。其结果将为我们理解函数在不连续点的平均行为提供一个优美而直观的视角。", "problem": "设 $D$ 为欧几里得平面 $\\mathbb{R}^2$ 中以原点为中心的闭单位圆盘，定义为 $D = \\{ (x,y) \\in \\mathbb{R}^2 \\mid x^2 + y^2 \\le 1 \\}$。该圆盘的特征函数记作 $\\chi_D: \\mathbb{R}^2 \\to \\mathbb{R}$，由下式给出\n$$\n\\chi_D(v) =\n\\begin{cases}\n1 & \\text{如果 } v \\in D \\\\\n0 & \\text{如果 } v \\notin D\n\\end{cases}\n$$\n对于 $\\mathbb{R}^2$ 上的一个局部可积函数 $f$，我们定义其在点 $p \\in \\mathbb{R}^2$ 处的勒贝格平均为以下极限的值（如果存在）：\n$$\nL(f, p) = \\lim_{r \\to 0^+} \\frac{1}{A(B(p,r))} \\int_{B(p,r)} f(v) \\, dA\n$$\n这里，$B(p,r)$ 是以点 $p$ 为中心、半径为 $r$ 的开圆盘，$A(B(p,r))$ 是其面积，积分是关于 $\\mathbb{R}^2$ 上面积测度 $dA$ 的标准勒贝格积分。\n\n计算函数 $\\chi_D$ 在点 $p_0 = (1, 0)$ 处的勒贝格平均 $L(\\chi_D, p_0)$ 的值。请用一个单一的闭式解析表达式给出答案。", "solution": "根据定义，对任意 $r>0$，\n$$\n\\frac{1}{A(B(p_{0},r))}\\int_{B(p_{0},r)} \\chi_{D}(v)\\, dA \\;=\\; \\frac{A\\big(B(p_{0},r)\\cap D\\big)}{A\\big(B(p_{0},r)\\big)}.\n$$\n由于 $A\\big(B(p_{0},r)\\big)=\\pi r^{2}$，我们需要求极限\n$$\n\\lim_{r\\to 0^{+}} \\frac{A\\big(B(p_{0},r)\\cap D\\big)}{\\pi r^{2}}.\n$$\n通过坐标平移 $(u,v)=(x-1,y)$ 将点 $p_{0}=(1,0)$ 移至原点。平移变换保持面积和圆盘不变，因此\n$$\nA\\big(B(p_{0},r)\\cap D\\big)=A\\big(B(0,r)\\cap E\\big),\n$$\n其中\n$$\nE=\\{(u,v):(1+u)^{2}+v^{2}\\le 1\\}=\\{(u,v):2u+u^{2}+v^{2}\\le 0\\}=\\left\\{(u,v):u\\le -\\frac{u^{2}+v^{2}}{2}\\right\\}.\n$$\n令 $H_{r}=B(0,r)\\cap\\{u\\le 0\\}$。那么 $E\\cap B(0,r)\\subset H_{r}$，且集合差\n$$\nH_{r}\\setminus\\big(E\\cap B(0,r)\\big)\\subset S_{r}:=\\left\\{(u,v)\\in B(0,r):0\\ge u>-\\frac{u^{2}+v^{2}}{2}\\right\\}.\n$$\n对于 $(u,v)\\in S_{r}$，我们有 $u^{2}+v^{2}\\le r^{2}$，因此 $0\\ge u>-\\frac{r^{2}}{2}$。所以\n$$\nS_{r}\\subset \\left\\{(u,v):|v|\\le r,\\; 0\\ge u>-\\frac{r^{2}}{2}\\right\\},\n$$\n所以 $A(S_{r})\\le (2r)\\cdot\\frac{r^{2}}{2}=r^{3}$。因此，\n$$\n0\\le A(H_{r})-A\\big(E\\cap B(0,r)\\big)\\le r^{3}.\n$$\n由于 $A(H_{r})=\\frac{1}{2}A\\big(B(0,r)\\big)=\\frac{1}{2}\\pi r^{2}$，我们得到\n$$\n0\\le \\frac{1}{2}\\pi r^{2}-A\\big(E\\cap B(0,r)\\big)\\le r^{3}.\n$$\n两边同除以 $\\pi r^{2}$ 得到\n$$\n0\\le \\frac{1}{2}-\\frac{A\\big(E\\cap B(0,r)\\big)}{\\pi r^{2}}\\le \\frac{r}{\\pi}.\n$$\n令 $r\\to 0^{+}$，可得\n$$\n\\lim_{r\\to 0^{+}} \\frac{A\\big(E\\cap B(0,r)\\big)}{\\pi r^{2}}=\\frac{1}{2}.\n$$\n因此，\n$$\nL(\\chi_{D},p_{0})=\\lim_{r\\to 0^{+}}\\frac{1}{\\pi r^{2}}\\,A\\big(B(p_{0},r)\\cap D\\big)=\\frac{1}{2}.\n$$", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "2325589"}, {"introduction": "最后的这个实践将带我们进一步深入“密度”这一概念。我们已经看到，一个集合的密度在其内部通常为 $1$，在其外部为 $0$，而在平滑边界上可能是像 $1/2$ 这样的值。那么，一个点的密度能否取 $0$ 和 $1$ 之间的其他值呢？这个问题将挑战你计算一个锥形区域在其顶点的密度，而顶点正是一个边界不“平滑”的点 [@problem_id:1335347]。你的计算结果将揭示出一个深刻的联系：一个点周围的局部几何形态，深刻地决定了集合在该点的密度。", "problem": "在实分析中，一个可测集 $E \\subset \\mathbb{R}^n$ 在点 $x \\in \\mathbb{R}^n$ 处的勒贝格密度定义为如下极限：\n$$ D(E, x) = \\lim_{r \\to 0^+} \\frac{m(E \\cap B(x, r))}{m(B(x, r))} $$\n假定该极限存在。此处，$m$ 表示 $n$ 维勒贝格测度，$B(x, r)$ 是以 $x$ 为中心、半径为 $r$ 的开球。\n\n考虑二维欧几里得空间 $\\mathbb{R}^2$。对于任意正实数 $k > 0$，定义集合 $E_k$ 如下：\n$$ E_k = \\{(x, y) \\in \\mathbb{R}^2 : |y| \\le k|x|\\} $$\n该集合描述了一个以原点为顶点的双锥形区域。\n\n计算集合 $E_k$ 在原点 $(0,0)$ 处的勒贝格密度。你的最终答案应该是一个关于 $k$ 的表达式。最终表达式中任何反三角函数的输出值都应以弧度表示。", "solution": "我们通过对 $r>0$ 计算下式来求原点处的勒贝格密度：\n$$\n\\frac{m(E_{k}\\cap B(0,r))}{m(B(0,r))}.\n$$\n使用极坐标 $(\\rho,\\theta)$，其中 $x=\\rho\\cos\\theta$，$y=\\rho\\sin\\theta$。集合 $E_{k}$ 由 $|y| \\le k|x|$ 给出，当 $\\cos\\theta \\ne 0$ 时，该条件变为 $|\\tan\\theta| \\le k$。$\\cos\\theta=0$ 的那些特殊方向所贡献的面积为零，在测度计算中可以忽略。\n\n定义角集合\n$$\nA_{k}=\\{\\theta\\in[0,2\\pi): |\\tan\\theta|\\le k\\}.\n$$\n令 $\\alpha=\\arctan(k)\\in(0,\\frac{\\pi}{2})$。在 $(-\\frac{\\pi}{2},\\frac{\\pi}{2})$ 上，函数 $\\tan$ 从 $-\\infty$ 到 $\\infty$ 是严格递增的，所以 $|\\tan\\theta|\\le k$ 等价于 $\\theta\\in[-\\alpha,\\alpha]$。根据 $\\tan$ 函数的 $\\pi$-周期性，围绕 $\\theta=\\pi$ 的相同条件给出 $\\theta\\in[\\pi-\\alpha,\\pi+\\alpha]$。因此，在 $[0,2\\pi)$ 内，集合 $A_{k}$ 由两个长度各为 $2\\alpha$ 的区间组成（不计测度为零的端点），所以其勒贝格测度为\n$$\n|A_{k}|=4\\alpha=4\\arctan(k).\n$$\n\n交集的面积通过在极坐标下对 $A_k$ 内的角度和 $\\rho\\in[0,r)$ 的半径进行积分得到：\n$$\nm(E_{k}\\cap B(0,r))=\\int_{\\theta\\in A_{k}}\\int_{0}^{r}\\rho\\,d\\rho\\,d\\theta=\\left(\\frac{r^{2}}{2}\\right)|A_{k}|=\\left(\\frac{r^{2}}{2}\\right)\\cdot 4\\arctan(k)=2r^{2}\\arctan(k).\n$$\n球的面积为\n$$\nm(B(0,r))=\\pi r^{2}.\n$$\n因此，\n$$\n\\frac{m(E_{k}\\cap B(0,r))}{m(B(0,r))}=\\frac{2r^{2}\\arctan(k)}{\\pi r^{2}}=\\frac{2}{\\pi}\\arctan(k),\n$$\n该值与 $r$ 无关。因此，当 $r\\to 0^{+}$ 时的极限存在且等于这个常数，所以 $E_{k}$ 在原点处的勒贝格密度为\n$$\nD(E_{k},0)=\\frac{2}{\\pi}\\arctan(k).\n$$", "answer": "$$\\boxed{\\frac{2}{\\pi}\\arctan(k)}$$", "id": "1335347"}]}