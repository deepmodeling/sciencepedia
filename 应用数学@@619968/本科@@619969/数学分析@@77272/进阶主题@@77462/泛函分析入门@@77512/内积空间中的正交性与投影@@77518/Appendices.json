{"hands_on_practices": [{"introduction": "我们通常在欧几里得空间中学习点积和投影，但这只是内积空间概念的一个特例。这个练习将挑战你的几何直觉，通过在熟悉的二维空间 $\\mathbb{R}^2$ 中引入一个非标准的内积来重新定义“正交”。你会发现，解决这个问题的关键是严格遵循投影的抽象定义公式，而不是依赖于标准点积的直观感觉，这恰恰体现了抽象定义的普适性和力量 [@problem_id:2309886]。", "problem": "考虑实向量空间 $\\mathbb{R}^2$。该空间上的一个内积定义如下：对于任意两个向量 $\\mathbf{a} = (a_1, a_2)$ 和 $\\mathbf{b} = (b_1, b_2)$，它们的内积由 $\\langle \\mathbf{a}, \\mathbf{b} \\rangle = 2a_1b_1 + a_1b_2 + a_2b_1 + a_2b_2$ 给出。\n\n设该空间中的两个向量定义为 $\\mathbf{v} = (1, 0)$ 和 $\\mathbf{u} = (1, 1)$。\n\n求向量 $\\mathbf{v}$ 在向量 $\\mathbf{u}$ 上的正交投影，记作 $\\text{proj}_{\\mathbf{u}} \\mathbf{v}$。请将您的答案表示为一个具有两个分量的行向量。", "solution": "在一个内积空间中，向量 $\\mathbf{v}$ 到一个非零向量 $\\mathbf{u}$ 上的正交投影由以下公式给出：\n$$\n\\text{proj}_{\\mathbf{u}} \\mathbf{v} = \\frac{\\langle \\mathbf{v}, \\mathbf{u} \\rangle}{\\langle \\mathbf{u}, \\mathbf{u} \\rangle} \\mathbf{u}\n$$\n我们已知向量 $\\mathbf{v} = (1, 0)$ 和 $\\mathbf{u} = (1, 1)$，以及内积的定义 $\\langle (a_1, a_2), (b_1, b_2) \\rangle = 2a_1b_1 + a_1b_2 + a_2b_1 + a_2b_2$。\n\n首先，我们需要计算内积 $\\langle \\mathbf{v}, \\mathbf{u} \\rangle$。\n此处，$\\mathbf{v}$ 对应于 $\\mathbf{a}=(a_1, a_2) = (1, 0)$，$\\mathbf{u}$ 对应于 $\\mathbf{b}=(b_1, b_2) = (1, 1)$。\n将这些值代入内积定义中：\n$$\n\\langle \\mathbf{v}, \\mathbf{u} \\rangle = \\langle (1, 0), (1, 1) \\rangle = 2(1)(1) + (1)(1) + (0)(1) + (0)(1)\n$$\n$$\n\\langle \\mathbf{v}, \\mathbf{u} \\rangle = 2 + 1 + 0 + 0 = 3\n$$\n\n接下来，我们需要计算内积 $\\langle \\mathbf{u}, \\mathbf{u} \\rangle$，也就是向量 $\\mathbf{u}$ 在该内积下的范数的平方，即 $\\|\\mathbf{u}\\|^2$。\n此处，公式中的 $\\mathbf{a}$ 和 $\\mathbf{b}$ 都是向量 $\\mathbf{u}=(1, 1)$。因此，$(a_1, a_2) = (1, 1)$ 且 $(b_1, b_2) = (1, 1)$。\n代入这些值：\n$$\n\\langle \\mathbf{u}, \\mathbf{u} \\rangle = \\langle (1, 1), (1, 1) \\rangle = 2(1)(1) + (1)(1) + (1)(1) + (1)(1)\n$$\n$$\n\\langle \\mathbf{u}, \\mathbf{u} \\rangle = 2 + 1 + 1 + 1 = 5\n$$\n\n现在我们可以将这些结果代回投影公式：\n$$\n\\text{proj}_{\\mathbf{u}} \\mathbf{v} = \\frac{3}{5} \\mathbf{u}\n$$\n由于 $\\mathbf{u} = (1, 1)$，我们进行标量乘法：\n$$\n\\text{proj}_{\\mathbf{u}} \\mathbf{v} = \\frac{3}{5} (1, 1) = \\left(\\frac{3}{5}, \\frac{3}{5}\\right)\n$$\n向量 $\\mathbf{v}$ 在 $\\mathbf{u}$ 上的正交投影是向量 $\\left(\\frac{3}{5}, \\frac{3}{5}\\right)$。", "answer": "$$\\boxed{\\begin{pmatrix} \\frac{3}{5} & \\frac{3}{5} \\end{pmatrix}}$$", "id": "2309886"}, {"introduction": "从有限维向量到无限维的函数空间是一个重要的概念飞跃。在这个实践中，我们将函数视为向量，并通过积分来定义它们之间的内积，这使得我们能够将几何概念应用于函数分析。这个练习 [@problem_id:2309922] 是傅里叶分析的一个基本应用，它展示了如何使用一组正交函数基（如 $\\sin(x)$ 和 $\\cos(x)$）来找到一个函数（如 $h(x)=x$）的最佳近似，这在信号处理和物理学中至关重要。", "problem": "考虑实向量空间 $V$，它由定义在闭区间 $[-\\pi, \\pi]$ 上的所有连续函数组成。该空间配备有一个内积，对于 $V$ 中的任意两个函数 $f(x)$ 和 $g(x)$，其定义为：\n$$\n\\langle f, g \\rangle = \\int_{-\\pi}^{\\pi} f(x)g(x) \\, dx\n$$\n设 $W$ 是由函数 $u_1(x) = \\cos(x)$ 和 $u_2(x) = \\sin(x)$ 张成的 $V$ 的子空间。\n\n确定函数 $h(x) = x$ 到子空间 $W$ 上的正交投影。将答案表示为 $x$ 的函数。", "solution": "问题要求函数 $h(x) = x$ 到由 $u_1(x) = \\cos(x)$ 和 $u_2(x) = \\sin(x)$ 张成的子空间 $W$ 上的正交投影。该内积空间是定义在 $[-\\pi, \\pi]$ 上的连续函数空间，其内积为 $\\langle f, g \\rangle = \\int_{-\\pi}^{\\pi} f(x)g(x) \\, dx$。\n\n一个向量 $h$ 到由正交基 $\\{u_1, u_2, \\dots, u_n\\}$ 张成的子空间 $W$ 上的正交投影公式为：\n$$\n\\text{proj}_W(h) = \\sum_{i=1}^{n} \\frac{\\langle h, u_i \\rangle}{\\langle u_i, u_i \\rangle} u_i\n$$\n在本题中，$W$ 由 $\\{u_1(x) = \\cos(x), u_2(x) = \\sin(x)\\}$ 张成。我们首先需要检查这个集合是否构成 $W$ 的一组正交基。为此，我们计算内积 $\\langle u_1, u_2 \\rangle$。\n$$\n\\langle u_1, u_2 \\rangle = \\int_{-\\pi}^{\\pi} \\cos(x)\\sin(x) \\, dx\n$$\n被积函数 $f(x) = \\cos(x)\\sin(x)$ 是一个奇函数，因为 $f(-x) = \\cos(-x)\\sin(-x) = \\cos(x)(-\\sin(x)) = -f(x)$。奇函数在像 $[-\\pi, \\pi]$ 这样的对称区间上的积分为零。\n或者，也可以使用恒等式 $\\sin(2x) = 2\\sin(x)\\cos(x)$：\n$$\n\\int_{-\\pi}^{\\pi} \\frac{1}{2}\\sin(2x) \\, dx = \\frac{1}{2} \\left[ -\\frac{1}{2}\\cos(2x) \\right]_{-\\pi}^{\\pi} = -\\frac{1}{4} [\\cos(2\\pi) - \\cos(-2\\pi)] = -\\frac{1}{4} [1 - 1] = 0\n$$\n由于 $\\langle u_1, u_2 \\rangle = 0$，这两个函数是正交的。因此，$\\{u_1, u_2\\}$ 是 $W$ 的一组正交基。\n\n现在我们可以使用投影公式：\n$$\n\\text{proj}_W(h) = \\frac{\\langle h, u_1 \\rangle}{\\langle u_1, u_1 \\rangle} u_1(x) + \\frac{\\langle h, u_2 \\rangle}{\\langle u_2, u_2 \\rangle} u_2(x)\n$$\n我们需要计算四个内积。\n\n1.  **计算 $\\langle u_1, u_1 \\rangle$**：\n    $$\n    \\langle u_1, u_1 \\rangle = \\int_{-\\pi}^{\\pi} \\cos^{2}(x) \\, dx\n    $$\n    使用半角恒等式 $\\cos^{2}(x) = \\frac{1 + \\cos(2x)}{2}$：\n    $$\n    \\int_{-\\pi}^{\\pi} \\frac{1 + \\cos(2x)}{2} \\, dx = \\frac{1}{2} \\left[ x + \\frac{1}{2}\\sin(2x) \\right]_{-\\pi}^{\\pi} = \\frac{1}{2} \\left[ (\\pi + \\frac{1}{2}\\sin(2\\pi)) - (-\\pi + \\frac{1}{2}\\sin(-2\\pi)) \\right] = \\frac{1}{2} [\\pi - (-\\pi)] = \\pi\n    $$\n\n2.  **计算 $\\langle u_2, u_2 \\rangle$**：\n    $$\n    \\langle u_2, u_2 \\rangle = \\int_{-\\pi}^{\\pi} \\sin^{2}(x) \\, dx\n    $$\n    使用半角恒等式 $\\sin^{2}(x) = \\frac{1 - \\cos(2x)}{2}$：\n    $$\n    \\int_{-\\pi}^{\\pi} \\frac{1 - \\cos(2x)}{2} \\, dx = \\frac{1}{2} \\left[ x - \\frac{1}{2}\\sin(2x) \\right]_{-\\pi}^{\\pi} = \\frac{1}{2} \\left[ (\\pi - \\frac{1}{2}\\sin(2\\pi)) - (-\\pi - \\frac{1}{2}\\sin(-2\\pi)) \\right] = \\frac{1}{2} [\\pi - (-\\pi)] = \\pi\n    $$\n\n3.  **计算 $\\langle h, u_1 \\rangle$**：\n    $$\n    \\langle h, u_1 \\rangle = \\int_{-\\pi}^{\\pi} h(x)u_1(x) \\, dx = \\int_{-\\pi}^{\\pi} x \\cos(x) \\, dx\n    $$\n    被积函数 $f(x) = x\\cos(x)$ 是一个奇函数，因为 $h(x)=x$ 是奇函数，$u_1(x)=\\cos(x)$ 是偶函数，所以它们的乘积是奇函数。奇函数在对称区间上的积分为零。因此，$\\langle h, u_1 \\rangle = 0$。\n\n4.  **计算 $\\langle h, u_2 \\rangle$**：\n    $$\n    \\langle h, u_2 \\rangle = \\int_{-\\pi}^{\\pi} h(x)u_2(x) \\, dx = \\int_{-\\pi}^{\\pi} x \\sin(x) \\, dx\n    $$\n    被积函数 $f(x) = x\\sin(x)$ 是一个偶函数，因为 $h(x)=x$ 和 $u_2(x)=\\sin(x)$ 都是奇函数，所以它们的乘积是偶函数。我们使用分部积分法，即 $\\int u \\, dv = uv - \\int v \\, du$。令 $u = x$ 且 $dv = \\sin(x)dx$。则 $du = dx$ 且 $v = -\\cos(x)$。\n    $$\n    \\int x \\sin(x) \\, dx = -x\\cos(x) - \\int (-\\cos(x)) \\, dx = -x\\cos(x) + \\sin(x)\n    $$\n    现在，我们计算定积分：\n    $$\n    \\int_{-\\pi}^{\\pi} x \\sin(x) \\, dx = \\left[ -x\\cos(x) + \\sin(x) \\right]_{-\\pi}^{\\pi}\n    $$\n    $$\n    = (-\\pi\\cos(\\pi) + \\sin(\\pi)) - (-(-\\pi)\\cos(-\\pi) + \\sin(-\\pi))\n    $$\n    $$\n    = (-\\pi(-1) + 0) - (\\pi(-1) + 0) = \\pi - (-\\pi) = 2\\pi\n    $$\n    所以，$\\langle h, u_2 \\rangle = 2\\pi$。\n\n现在我们将这些值代回投影公式中：\n$$\n\\text{proj}_W(h) = \\frac{0}{\\pi} \\cos(x) + \\frac{2\\pi}{\\pi} \\sin(x) = 0 \\cdot \\cos(x) + 2 \\cdot \\sin(x) = 2\\sin(x)\n$$\n函数 $h(x)=x$ 到由 $\\cos(x)$ 和 $\\sin(x)$ 张成的子空间上的正交投影是 $2\\sin(x)$。", "answer": "$$\\boxed{2\\sin(x)}$$", "id": "2309922"}, {"introduction": "内积空间的概念远不止于向量和函数。这个练习将我们的视野拓宽到矩阵空间，在这里，矩阵本身就是“向量”。我们将学习弗罗贝尼乌斯（Frobenius）内积，它是一种衡量矩阵之间关系的自然方式。通过这个实践 [@problem_id:2309898]，你将看到投影如何被用来将一个任意矩阵分解为其对称部分和反对称部分，这是线性代数和力学中一个非常有用且优美的技巧。", "problem": "考虑所有项为实数的 $2 \\times 2$ 矩阵构成的向量空间 $V = M_{2 \\times 2}(\\mathbb{R})$。该空间赋有弗罗贝尼乌斯内积，对于任意两个矩阵 $A, B \\in V$ 定义为 $\\langle A, B \\rangle = \\operatorname{tr}(A^T B)$，其中 $\\operatorname{tr}(M)$ 表示矩阵 $M$ 的迹。设 $S$ 为 $V$ 中所有对称矩阵构成的子空间。\n\n给定矩阵 $A = \\begin{pmatrix} 1 & 2 \\\\ 3 & 4 \\end{pmatrix}$，求其正交于子空间 $S$ 的分量。\n\n将你的答案（一个 $2 \\times 2$ 矩阵 $\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}$）以其各分量组成的行矩阵形式 $\\begin{pmatrix} a & b & c & d \\end{pmatrix}$ 呈现。", "solution": "设 $V = M_{2 \\times 2}(\\mathbb{R})$ 为 $2 \\times 2$ 实矩阵的向量空间， $S$ 为对称矩阵的子空间。给定矩阵为 $A = \\begin{pmatrix} 1 & 2 \\\\ 3 & 4 \\end{pmatrix}$。我们需要求矩阵 $A$ 正交于子空间 $S$ 的分量。\n\n内积空间中的任意向量 $A$ 都可以唯一地分解为两个分量：一个位于子空间 $S$ 中，另一个与 $S$ 正交。这可以写作 $A = A_S + A_{S^\\perp}$，其中 $A_S = \\operatorname{proj}_S(A)$ 是 $A$ 在 $S$ 上的正交投影，而 $A_{S^\\perp}$ 是 $A$ 正交于 $S$ 的分量。我们需要求 $A_{S^\\perp}$，其计算公式为 $A_{S^\\perp} = A - \\operatorname{proj}_S(A)$。\n\n我们的第一步是求出 $A$ 在 $S$ 上的正交投影。为此，我们需要子空间 $S$ 的一组正交基。一个一般的 $2 \\times 2$ 对称矩阵具有形式 $\\begin{pmatrix} x & y \\\\ y & z \\end{pmatrix}$。我们可以将其写成基矩阵的线性组合：\n$$\n\\begin{pmatrix} x & y \\\\ y & z \\end{pmatrix} = x \\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix} + z \\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix} + y \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}\n$$\n因此， $S$ 的一组基为 $\\{B_1, B_2, B_3\\}$，其中 $B_1 = \\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix}$，$B_2 = \\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix}$，以及 $B_3 = \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}$。\n\n接下来，我们检验这组基关于弗罗贝尼乌斯内积 $\\langle X, Y \\rangle = \\operatorname{tr}(X^T Y)$ 是否正交。由于基矩阵是对称的，有 $X^T = X$。\n$$\n\\langle B_1, B_2 \\rangle = \\operatorname{tr}(B_1^T B_2) = \\operatorname{tr}(B_1 B_2) = \\operatorname{tr}\\left( \\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix} \\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix} \\right) = \\operatorname{tr}\\left( \\begin{pmatrix} 0 & 0 \\\\ 0 & 0 \\end{pmatrix} \\right) = 0\n$$\n$$\n\\langle B_1, B_3 \\rangle = \\operatorname{tr}(B_1^T B_3) = \\operatorname{tr}(B_1 B_3) = \\operatorname{tr}\\left( \\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix} \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix} \\right) = \\operatorname{tr}\\left( \\begin{pmatrix} 0 & 1 \\\\ 0 & 0 \\end{pmatrix} \\right) = 0\n$$\n$$\n\\langle B_2, B_3 \\rangle = \\operatorname{tr}(B_2^T B_3) = \\operatorname{tr}(B_2 B_3) = \\operatorname{tr}\\left( \\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix} \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix} \\right) = \\operatorname{tr}\\left( \\begin{pmatrix} 0 & 0 \\\\ 1 & 0 \\end{pmatrix} \\right) = 0\n$$\n这组基确实是正交的。$A$ 在 $S$ 上的正交投影公式为：\n$$\n\\operatorname{proj}_S(A) = \\frac{\\langle A, B_1 \\rangle}{\\langle B_1, B_1 \\rangle} B_1 + \\frac{\\langle A, B_2 \\rangle}{\\langle B_2, B_2 \\rangle} B_2 + \\frac{\\langle A, B_3 \\rangle}{\\langle B_3, B_3 \\rangle} B_3\n$$\n我们计算所需的内积。首先，计算分母（基向量范数的平方）：\n$$\n\\langle B_1, B_1 \\rangle = \\operatorname{tr}(B_1^T B_1) = \\operatorname{tr}(B_1^2) = \\operatorname{tr}\\left( \\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix} \\right) = 1\n$$\n$$\n\\langle B_2, B_2 \\rangle = \\operatorname{tr}(B_2^T B_2) = \\operatorname{tr}(B_2^2) = \\operatorname{tr}\\left( \\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix} \\right) = 1\n$$\n$$\n\\langle B_3, B_3 \\rangle = \\operatorname{tr}(B_3^T B_3) = \\operatorname{tr}(B_3^2) = \\operatorname{tr}\\left( \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}^2 \\right) = \\operatorname{tr}\\left( \\begin{pmatrix} 1 & 0 \\\\ 0 & 1 \\end{pmatrix} \\right) = 2\n$$\n接下来，计算分子。对于矩阵 $A = \\begin{pmatrix} 1 & 2 \\\\ 3 & 4 \\end{pmatrix}$，其转置为 $A^T = \\begin{pmatrix} 1 & 3 \\\\ 2 & 4 \\end{pmatrix}$。\n$$\n\\langle A, B_1 \\rangle = \\operatorname{tr}(A^T B_1) = \\operatorname{tr}\\left( \\begin{pmatrix} 1 & 3 \\\\ 2 & 4 \\end{pmatrix} \\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix} \\right) = \\operatorname{tr}\\left( \\begin{pmatrix} 1 & 0 \\\\ 2 & 0 \\end{pmatrix} \\right) = 1\n$$\n$$\n\\langle A, B_2 \\rangle = \\operatorname{tr}(A^T B_2) = \\operatorname{tr}\\left( \\begin{pmatrix} 1 & 3 \\\\ 2 & 4 \\end{pmatrix} \\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix} \\right) = \\operatorname{tr}\\left( \\begin{pmatrix} 0 & 3 \\\\ 0 & 4 \\end{pmatrix} \\right) = 4\n$$\n$$\n\\langle A, B_3 \\rangle = \\operatorname{tr}(A^T B_3) = \\operatorname{tr}\\left( \\begin{pmatrix} 1 & 3 \\\\ 2 & 4 \\end{pmatrix} \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix} \\right) = \\operatorname{tr}\\left( \\begin{pmatrix} 3 & 1 \\\\ 4 & 2 \\end{pmatrix} \\right) = 3+2 = 5\n$$\n现在，我们可以组合出投影：\n$$\n\\operatorname{proj}_S(A) = \\frac{1}{1} B_1 + \\frac{4}{1} B_2 + \\frac{5}{2} B_3 = 1 \\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix} + 4 \\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix} + \\frac{5}{2} \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}\n$$\n$$\n\\operatorname{proj}_S(A) = \\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix} + \\begin{pmatrix} 0 & 0 \\\\ 0 & 4 \\end{pmatrix} + \\begin{pmatrix} 0 & 5/2 \\\\ 5/2 & 0 \\end{pmatrix} = \\begin{pmatrix} 1 & 5/2 \\\\ 5/2 & 4 \\end{pmatrix}\n$$\n最后，我们通过从原矩阵 $A$ 中减去投影来求得正交分量 $A_{S^\\perp}$：\n$$\nA_{S^\\perp} = A - \\operatorname{proj}_S(A) = \\begin{pmatrix} 1 & 2 \\\\ 3 & 4 \\end{pmatrix} - \\begin{pmatrix} 1 & 5/2 \\\\ 5/2 & 4 \\end{pmatrix}\n$$\n$$\nA_{S^\\perp} = \\begin{pmatrix} 1-1 & 2 - 5/2 \\\\ 3 - 5/2 & 4-4 \\end{pmatrix} = \\begin{pmatrix} 0 & 4/2 - 5/2 \\\\ 6/2 - 5/2 & 0 \\end{pmatrix} = \\begin{pmatrix} 0 & -1/2 \\\\ 1/2 & 0 \\end{pmatrix}\n$$\n所得矩阵是反对称矩阵，这是预料之中的，因为反对称矩阵空间是对称矩阵空间的正交补。\n\n所得矩阵为 $\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix} = \\begin{pmatrix} 0 & -1/2 \\\\ 1/2 & 0 \\end{pmatrix}$。按照指定的输出格式，我们将其表示为行矩阵。", "answer": "$$\\boxed{\\begin{pmatrix} 0 & -\\frac{1}{2} & \\frac{1}{2} & 0 \\end{pmatrix}}$$", "id": "2309898"}]}