{"hands_on_practices": [{"introduction": "让我们从一个基本的几何问题开始，它完美地展示了拉格朗日乘数法的核心思想。这个练习要求我们找到直线上离原点最近的点，这是一个将距离最小化（目标函数）同时满足直线方程（约束条件）的典型问题。通过解决这个问题 [@problem_id:4131]，你将掌握拉格朗日乘数法的基础计算步骤，并直观地理解其几何意义。", "problem": "考虑一个二维笛卡尔坐标平面中的直线，其方程为 $ax + by = c$，其中 $a$、$b$ 和 $c$ 是非零实常数。该平面上任意点 $(x, y)$ 到原点 $(0, 0)$ 距离的平方由函数 $f(x, y) = x^2 + y^2$ 给出。\n\n你的任务是求出该直线上距离原点最近的点 $(x_0, y_0)$。最小化距离等价于最小化距离的平方。请使用拉格朗日乘数法，推导出该点的坐标。将结果表示为关于常数 $a$、$b$ 和 $c$ 的有序对 $(x_0, y_0)$。", "solution": "我们希望在约束条件\n$$g(x,y)=ax+by-c=0$$\n下最小化\n$$f(x,y)=x^2+y^2$$。\n引入一个拉格朗日乘子 $\\lambda$ 并构造函数\n$$\\mathcal L(x,y,\\lambda)=x^2+y^2-\\lambda\\bigl(ax+by-c\\bigr)。$$\n求偏导数并令其为零，可得\n$$\\frac{\\partial\\mathcal L}{\\partial x}=2x-\\lambda\\,a=0\n\\quad\\Longrightarrow\\quad x=\\frac{\\lambda a}{2},$$\n$$\\frac{\\partial\\mathcal L}{\\partial y}=2y-\\lambda\\,b=0\n\\quad\\Longrightarrow\\quad y=\\frac{\\lambda b}{2},$$\n$$\\frac{\\partial\\mathcal L}{\\partial \\lambda}=-(ax+by-c)=0\n\\quad\\Longrightarrow\\quad ax+by=c。$$\n将 $x=\\frac{\\lambda a}{2}$ 和 $y=\\frac{\\lambda b}{2}$ 代入约束条件：\n$$a\\frac{\\lambda a}{2}+b\\frac{\\lambda b}{2}\n=\\frac{\\lambda\\,(a^2+b^2)}{2}=c\n\\quad\\Longrightarrow\\quad \\lambda=\\frac{2c}{a^2+b^2}。$$\n因此，使距离最小化的点是\n$$x_0=\\frac{\\lambda a}{2}=\\frac{a\\,c}{a^2+b^2}, \n\\quad \ny_0=\\frac{\\lambda b}{2}=\\frac{b\\,c}{a^2+b^2}。$$", "answer": "$$\\boxed{\\left(\\frac{ac}{a^2+b^2},\\frac{bc}{a^2+b^2}\\right)}$$", "id": "4131"}, {"introduction": "接下来，我们将应用拉格朗日乘数法解决一个更具挑战性的几何优化问题：求内接于球体的最大体积圆柱。这个问题 [@problem_id:4146] 不仅需要你应用优化技巧，还需要你首先将物理情境转化为数学模型——建立目标函数（体积）和约束方程（由勾股定理得出）。这对于培养将理论知识应用于实际问题的能力至关重要。", "problem": "一个直立圆柱体将被内接于一个固定、已知半径为 $R$ 的球体内。目标是找到该圆柱体的具体尺寸，使其体积达到最大可能值。\n\n使用拉格朗日乘数法，推导体积最大的圆柱体的高度 $h$ 的表达式。答案仅用球体半径 $R$ 表示。", "solution": "设内接圆柱体的半径为 $r$，高度为 $h$。$r$ 和 $h$ 都必须为正数。\n\n目标是最大化圆柱体的体积 $V$。圆柱体体积的公式由函数 $f(r, h)$ 给出：\n$$V = f(r, h) = \\pi r^2 h$$\n\n该圆柱体内接于半径为 $R$ 的球体中。这种几何布局对尺寸 $r$ 和 $h$ 施加了一个约束条件。考虑一个通过球心和圆柱体轴线的横截面。这显示了一个内接于一个圆形（球体的横截面）的矩形（圆柱体的横截面）。矩形的顶点位于圆周上。可以构成一个直角三角形，其斜边为球体半径 $R$，一条直角边为圆柱体半径 $r$，另一条直角边为圆柱体高度的一半，即 $\\frac{h}{2}$。\n\n根据勾股定理，约束方程为：\n$$r^2 + \\left(\\frac{h}{2}\\right)^2 = R^2$$\n$$r^2 + \\frac{h^2}{4} = R^2$$\n\n我们可以定义一个等于零的约束函数 $g(r, h)$：\n$$g(r, h) = r^2 + \\frac{h^2}{4} - R^2 = 0$$\n\n为了在该约束条件下求得最大体积，我们使用拉格朗日乘数法。我们定义拉格朗日函数 $\\mathcal{L}(r, h, \\lambda)$：\n$$\\mathcal{L}(r, h, \\lambda) = f(r, h) - \\lambda g(r, h)$$\n$$\\mathcal{L}(r, h, \\lambda) = \\pi r^2 h - \\lambda \\left(r^2 + \\frac{h^2}{4} - R^2\\right)$$\n\n我们通过将 $\\mathcal{L}$ 关于 $r$、$h$ 和 $\\lambda$ 的偏导数设为零来求临界点。\n\n1.  关于 $r$ 的偏导数：\n    $$\\frac{\\partial \\mathcal{L}}{\\partial r} = 2\\pi r h - 2\\lambda r = 0$$\n    $$2r(\\pi h - \\lambda) = 0$$\n    由于半径 $r=0$ 的圆柱体体积为零（是最小值，而不是最大值），我们必须有：\n    $$\\pi h - \\lambda = 0 \\implies \\lambda = \\pi h$$\n\n2.  关于 $h$ 的偏导数：\n    $$\\frac{\\partial \\mathcal{L}}{\\partial h} = \\pi r^2 - \\lambda \\left(\\frac{2h}{4}\\right) = 0$$\n    $$\\pi r^2 - \\frac{\\lambda h}{2} = 0$$\n\n3.  关于 $\\lambda$ 的偏导数：\n    $$\\frac{\\partial \\mathcal{L}}{\\partial \\lambda} = -\\left(r^2 + \\frac{h^2}{4} - R^2\\right) = 0$$\n    $$r^2 + \\frac{h^2}{4} = R^2$$\n\n现在我们求解这个方程组。将步骤1中得到的 $\\lambda$ 的表达式代入步骤2的方程中：\n$$\\pi r^2 - \\frac{(\\pi h) h}{2} = 0$$\n$$\\pi r^2 = \\frac{\\pi h^2}{2}$$\n$$r^2 = \\frac{h^2}{2}$$\n\n这给出了最大体积圆柱体的半径和高度之间的关系。现在将这个 $r^2$ 的表达式代入约束方程（来自步骤3）中：\n$$\\left(\\frac{h^2}{2}\\right) + \\frac{h^2}{4} = R^2$$\n\n为了解出 $h$，我们进行通分：\n$$\\frac{2h^2}{4} + \\frac{h^2}{4} = R^2$$\n$$\\frac{3h^2}{4} = R^2$$\n$$h^2 = \\frac{4R^2}{3}$$\n\n由于高度 $h$ 必须为正数，我们取其正平方根：\n$$h = \\sqrt{\\frac{4R^2}{3}} = \\frac{2R}{\\sqrt{3}}$$\n\n为了使分母有理化，我们将分子和分母同乘以 $\\sqrt{3}$：\n$$h = \\frac{2R}{\\sqrt{3}} \\cdot \\frac{\\sqrt{3}}{\\sqrt{3}} = \\frac{2\\sqrt{3}R}{3}$$\n\n这就是具有最大可能内接体积的圆柱体的高度。", "answer": "$$\\boxed{\\frac{2\\sqrt{3}}{3}R}$$", "id": "4146"}, {"introduction": "许多现实世界中的优化问题涉及多个约束条件。这个练习将带你掌握如何将拉格朗日乘数法扩展到处理多个约束的情形。我们将寻找一个球体和一个平面相交形成的圆上的最高点 [@problem_id:4128]。通过解决这个问题，你将学会如何为每个约束引入一个独立的拉格朗日乘数，并解决由此产生的方程组，从而展示该方法的强大通用性。", "problem": "考虑由球面 $x^2 + y^2 + z^2 = 4$ 与平面 $x + y + z = 3$ 相交所形成的曲线。请使用拉格朗日乘数法，求出此曲线上最高点的坐标 $(x, y, z)$。“最高点”定义为 z 坐标值最大的点。", "solution": "我们希望最大化函数 $f(x,y,z)=z$，其约束条件为\n$$g(x,y,z)=x^2+y^2+z^2-4=0,\\qquad h(x,y,z)=x+y+z-3=0.$$\n根据拉格朗日乘数法，\n$$\\nabla f = \\lambda\\nabla g + \\mu\\nabla h\n\\;\\Longrightarrow\\;\n(0,0,1) = \\lambda(2x,2y,2z) + \\mu(1,1,1).$$\n因此，\n$$2\\lambda x + \\mu = 0,\\quad 2\\lambda y + \\mu = 0,\\quad 2\\lambda z + \\mu = 1.$$\n由于 $\\lambda\\neq 0$，由前两个方程可得 $x=y$。由 $x+y+z=3$ 可得\n$$2x+z=3\\quad\\Longrightarrow\\quad z=3-2x.$$\n代入球面约束方程，得\n$$2x^2+(3-2x)^2=4\n\\;\\Longrightarrow\\;6x^2-12x+5=0,$$\n解得\n$$x=\\frac{12\\pm\\sqrt{144-120}}{12}\n=\\frac{6\\pm\\sqrt6}{6}.$$\n因此，两个交点的坐标为\n$$\\Bigl(\\frac{6+\\sqrt6}{6},\\frac{6+\\sqrt6}{6},1-\\frac{\\sqrt6}{3}\\Bigr)\n\\quad\\text{和}\\quad\n\\Bigl(\\frac{6-\\sqrt6}{6},\\frac{6-\\sqrt6}{6},1+\\frac{\\sqrt6}{3}\\Bigr)。$$\n最大的 $z$ 值为 $1+\\frac{\\sqrt6}{3}$，所以最高点为\n$$\\Bigl(\\frac{6-\\sqrt6}{6},\\frac{6-\\sqrt6}{6},\\frac{3+\\sqrt6}{3}\\Bigr)。$$", "answer": "$$\\boxed{\\left(\\frac{6-\\sqrt{6}}{6},\\frac{6-\\sqrt{6}}{6},\\frac{3+\\sqrt{6}}{3}\\right)}$$", "id": "4128"}]}