{"hands_on_practices": [{"introduction": "我们从一个熟悉的集合开始：具有有限小数展开的有理数。这个练习旨在帮助我们实践证明可数性的基本策略——找到一个到已知可数集的单射。关键在于理解这些数字的结构如何自然地映射到整数对，例如 $\\mathbb{Z} \\times \\mathbb{N}$。[@problem_id:2295071]", "problem": "如果一个集合的元素能与自然数集 $\\mathbb{N} = \\{1, 2, 3, ...\\}$ 或 $\\mathbb{N}$ 的一个子集建立一一对应关系，则称该集合是*可数的*。一个等价条件是，存在一个从该集合到一个已知可数集的单射（一对一）函数。\n\n设 $S$ 是所有具有有限小数展开的有理数的集合。例如，$0.5$、$ -12.34$ 和 $7$ 都是 $S$ 的元素，而 $\\frac{1}{3} = 0.333...$ 不是。一个元素 $s \\in S$ 当且仅当它可以表示为 $\\frac{a}{10^k}$ 的形式，其中 $a \\in \\mathbb{Z}$ 是某个整数，$k \\in \\{0, 1, 2, ...\\}$ 是某个非负整数。\n\n为了证明集合 $S$ 是可数的，一种标准方法是构造一个单射函数 $f: S \\to T$，其中 $T$ 是一个已知的可数集。基于分数形式 $a/10^k$，下列哪个集合为这种构造提供了最直接和自然的到达域 $T$？\n\nA. 所有实数的集合，$\\mathbb{R}$。\n\nB. 无理数集，$\\mathbb{R} \\setminus \\mathbb{Q}$。\n\nC. 整数集与自然数集的笛卡尔积，$\\mathbb{Z} \\times \\mathbb{N}$。\n\nD. 所有从 $\\mathbb{N}$ 到 $\\{0, 1\\}$ 的函数的集合。\n\nE. 整数集的幂集，$P(\\mathbb{Z})$。", "solution": "问题要求我们确定最合适的已知可数集 $T$，以作为单射函数 $f: S \\to T$ 的到达域，从而证明具有有限小数展开的数集 $S$ 是可数的。\n\n首先，我们来形式化地定义集合 $S$。如题所述，一个数 $s \\in S$，如果它可以被写成 $s = \\frac{a}{10^k}$ 的形式，其中 $a$ 为某个整数，$k$ 为某个非负整数。我们的目标是定义一个从 $S$ 到给定集合之一的单射。\n\n$s = a/10^k$ 这种表示不是唯一的。例如，$0.5$ 可以写成 $\\frac{5}{10^1}$、$\\frac{50}{10^2}$ 或 $\\frac{1}{2}$。为了构造一个单射函数，我们必须将 $S$ 中的每个元素 $s \\in S$ 与到达域 $T$ 中的一个*唯一*元素相关联。我们可以通过定义一个规范表示来实现这一点。\n\n对于任何给定的 $s \\in S$，存在一个最小的非负整数 $k$，使得 $s \\cdot 10^k$ 是一个整数。我们称这个最小整数为 $k_s$。然后，我们可以定义一个整数 $a_s = s \\cdot 10^{k_s}$。这个数对 $(a_s, k_s)$ 是由 $s$ 唯一确定的。\n\n我们用例子来检验一下：\n- 对于 $s = 0.5$：$0.5 \\cdot 10^0 = 0.5$ (不是整数)，$0.5 \\cdot 10^1 = 5$ (是整数)。所以最小的非负整数 $k$ 是 $1$。唯一的数对是 $(a_s, k_s) = (5, 1)$。\n- 对于 $s = -12.34$：$-12.34 \\cdot 10^0$ 和 $-12.34 \\cdot 10^1$都不是整数。$-12.34 \\cdot 10^2 = -1234$ 是整数。最小的 $k$ 是 $2$。唯一的数对是 $(-1234, 2)$。\n- 对于 $s = 7$：$7 \\cdot 10^0 = 7$ 是整数。最小的 $k$ 是 $0$。唯一的数对是 $(7, 0)$。\n\n这个构造定义了一个函数 $f: S \\to \\mathbb{Z} \\times \\mathbb{N}_0$，其中 $\\mathbb{N}_0 = \\{0, 1, 2, ...\\}$，由 $f(s) = (a_s, k_s)$ 给出。\n\n我们必须验证这个函数是单射的。假设对于两个元素 $s_1, s_2 \\in S$ 有 $f(s_1) = f(s_2)$。这意味着 $(a_{s_1}, k_{s_1}) = (a_{s_2}, k_{s_2})$，即 $a_{s_1} = a_{s_2}$ 且 $k_{s_1} = k_{s_2}$。根据我们的定义，$s_1 = a_{s_1} / 10^{k_{s_1}}$ 且 $s_2 = a_{s_2} / 10^{k_{s_2}}$。因为分子和分母都相等，所以必然有 $s_1 = s_2$。因此，函数 $f$ 是单射的。\n\n我们已经建立了一个从 $S$ 到集合 $\\mathbb{Z} \\times \\mathbb{N}_0$ 的单射。集合 $\\mathbb{Z}$ 和 $\\mathbb{N}_0$ 都是已知的可数集。两个可数集的笛卡尔积也是可数的。因此，$\\mathbb{Z} \\times \\mathbb{N}_0$ 是一个可数集。\n\n现在我们来检查给出的选项。\n- 选项 A ($\\mathbb{R}$)、B ($\\mathbb{R} \\setminus \\mathbb{Q}$)、D (从 $\\mathbb{N}$ 到 $\\{0, 1\\}$ 的函数集) 和 E ($P(\\mathbb{Z})$) 都是不可数集。从 $\\mathbb{N}$ 到 $\\{0, 1\\}$ 的函数集等价于 $\\mathbb{N}$ 的幂集 $P(\\mathbb{N})$，根据 Cantor 的对角线论证，这是著名的不可数集。类似地，$P(\\mathbb{Z})$ 也是不可数的。对于任何基数更小或相等的集合，都存在一个到不可数集的单射，但这并不能证明定义域是可数的。我们的目标是注入到一个我们*已知*是可数的集合中。\n\n- 选项 C 是 $\\mathbb{Z} \\times \\mathbb{N}$。我们的构造给出了一个到 $\\mathbb{Z} \\times \\mathbb{N}_0$ 的单射。这两个集合之间显然存在一一对应关系。例如，由 $g(a, k) = (a, k+1)$ 定义的函数 $g: \\mathbb{Z} \\times \\mathbb{N}_0 \\to \\mathbb{Z} \\times \\mathbb{N}$ 是一个双射。因此，将我们的函数 $f$ 与 $g$ 复合，我们得到一个单射 $g \\circ f: S \\to \\mathbb{Z} \\times \\mathbb{N}$。\n\n因为我们可以构造一个从 $S$ 到 $\\mathbb{Z} \\times \\mathbb{N}$ 的直接且自然的单射，并且 $\\mathbb{Z} \\times \\mathbb{N}$ 是一个已知的可数集，这就证明了 $S$ 是可数的。这使得选项 C 成为正确答案。这个构造直接源于具有有限小数展开的数的基本定义。", "answer": "$$\\boxed{C}$$", "id": "2295071"}, {"introduction": "在之前练习的基础上，我们现在从仅仅识别策略，转向主动构建一个映射函数。这个练习要求我们利用算术基本定理为每个数创建一个唯一的编码，从而证明在任何数基下具有有限表示的数都是可数的。这项强大的技术展示了如何利用素数为枚举奠定基础。[@problem_id:2295065]", "problem": "数学分析中的一个重要概念是集合的可数性。如果一个集合的元素可以与自然数集建立一一对应关系，那么这个集合就是可数的。考虑所有在十二进制下具有有限表示的正有理数组成的集合。一个数在十二进制下有有限表示，当且仅当它被写成最简分数 $a/b$（其中 $a, b \\in \\mathbb{N}$ 且 $\\gcd(a, b) = 1$）时，分母 $b$ 的素因子是基数12的素因子的一个子集。由于 $12 = 2^2 \\cdot 3$，这意味着 $b$ 的形式必为 $2^e 3^f$，其中 $e$ 和 $f$ 为某个非负整数。\n\n因此，每个在十二进制下有有限表示的正有理数都可以由一个整数三元组 $(a, e, f)$ 唯一确定，其中 $a \\in \\mathbb{N} = \\{1, 2, 3, \\dots\\}$ 是分子，而 $e, f \\in \\mathbb{N}_0 = \\{0, 1, 2, \\dots\\}$ 是分母 $b=2^e 3^f$ 中的指数。为了证明这个数的集合是可数的，可以构造一个单射（一对一）函数 $G$，它将每个唯一的三元组 $(a, e, f)$ 映射到 $\\mathbb{N}$ 中的一个唯一自然数。\n\n以下哪个函数 $G(a, e, f)$ 是从三元组集合 $\\mathbb{N} \\times \\mathbb{N}_0 \\times \\mathbb{N}_0$ 到自然数集 $\\mathbb{N}$ 的单射？\n\nA. $G(a, e, f) = a + e + f$\n\nB. $G(a, e, f) = a \\cdot e \\cdot f + 1$\n\nC. $G(a, e, f) = 2^a 3^e 5^f$\n\nD. $G(a, e, f) = (a+e)^2 + f + 1$\n\nE. $G(a, e, f) = 2^a + 3^e + 5^f$", "solution": "我们必须确定哪个 $G(a,e,f)$ 是从 $\\mathbb{N} \\times \\mathbb{N}_{0} \\times \\mathbb{N}_{0}$到 $\\mathbb{N}$ 的单射。一个函数 $G$ 是单射的，当且仅当对于任意的 $(a,e,f)$ 和 $(a',e',f')$，等式 $G(a,e,f)=G(a',e',f')$ 蕴含 $(a,e,f)=(a',e',f')$。\n\n逐一考虑每个选项：\n\n选项A：$G(a,e,f)=a+e+f$。这不是单射，因为不同的三元组可以产生相同的和。例如，\n$$\nG(1,1,0)=1+1+0=2, \\quad G(2,0,0)=2+0+0=2,\n$$\n但 $(1,1,0)\\neq(2,0,0)$。\n\n选项B：$G(a,e,f)=aef+1$。这不是单射，因为如果 $e$ 或 $f$ 中任意一个为零，乘积 $aef$ 就等于 $0$，而与 $a$ 无关，从而给出相同的输出。例如，\n$$\nG(1,0,0)=1\\cdot 0 \\cdot 0+1=1, \\quad G(2,0,0)=2\\cdot 0 \\cdot 0+1=1,\n$$\n但 $(1,0,0)\\neq(2,0,0)$。\n\n选项C：$G(a,e,f)=2^{a}3^{e}5^{f}$。为了检验其单射性，假设\n$$\n2^{a}3^{e}5^{f}=2^{a'}3^{e'}5^{f'}.\n$$\n根据算术基本定理（唯一素数分解），每个素数的指数必须对应相等，因此 $a=a'$，$e=e'$，且 $f=f'$。所以，$G$ 是单射的。\n\n选项D：$G(a,e,f)=(a+e)^{2}+f+1$。这不是单射，因为具有相同和的不同 $(a,e)$ 会产生相同的 $(a+e)^{2}$，在 $f$ 也相同的情况下会产生相同的值。例如，\n$$\nG(1,1,0)=(1+1)^{2}+0+1=5, \\quad G(2,0,0)=(2+0)^{2}+0+1=5,\n$$\n而 $(1,1,0)\\neq(2,0,0)$。\n\n选项E：$G(a,e,f)=2^{a}+3^{e}+5^{f}$。这不是单射；一个具体的反例如下：\n$$\nG(1,1,0)=2^{1}+3^{1}+5^{0}=2+3+1=6, \\quad G(2,0,0)=2^{2}+3^{0}+5^{0}=4+1+1=6,\n$$\n但 $(1,1,0)\\neq(2,0,0)$。\n\n只有选项C通过唯一素数分解产生了一个单射。", "answer": "$$\\boxed{C}$$", "id": "2295065"}, {"introduction": "既然我们已经确定有理数集 $\\mathbb{Q}$ 是可数的，我们就可以探索一种将其排列成序列的具体方法。这个练习要求你使用一个基于有理数“高度”的枚举方案进行计算。通过计算一个特定数字在此列表中的位置，你将亲身体验 $\\mathbb{Q}$ 与 $\\mathbb{N}$ 之间一一对应的具体操作过程。[@problem_id:2295090]", "problem": "考虑所有有理数的集合 $\\mathbb{Q}$。每个有理数 $x \\in \\mathbb{Q}$ 都可以唯一地写成其最简分数形式 $x = p/q$，其中 $p$ 是一个整数，$q$ 是一个正整数，且 $|p|$ 和 $q$ 的最大公约数为 1 (即 $\\gcd(|p|, q) = 1$)，并约定对于 $x=0$，我们写作 $p=0$ 和 $q=1$。\n\n我们可以创建一个包含所有有理数的有序列表，从而建立与正整数集合 $\\mathbb{N} = \\{1, 2, 3, \\dots\\}$ 的一一对应关系。这个枚举按以下方式进行：\n首先，我们将一个有理数 $x=p/q$（最简形式）的“高度”定义为 $h = |p| + q$。\n有理数首先按照它们的高度按升序排列。\n对于高度相同的有理数，它们其次按照其分子 $p$ 的值按升序排列。\n\n例如，数字 $0$（表示为 $0/1$）的高度为 $h = |0|+1=1$。由于这是可能的最小高度，$0$ 是列表中的第一个数。高度为 $h=2$ 的数是 $-1$（来自 $-1/1$）和 $1$（来自 $1/1$）。因为 $-1 < 1$，所以有理数列表以 $0, -1, 1, \\dots$ 开头。\n\n令此枚举定义一个函数 $f: \\mathbb{Q} \\to \\mathbb{N}$，其中 $f(x)$ 是有理数 $x$ 在该有序列表中的位置。$f(-2/5)$ 的值是多少？", "solution": "我们将 $x=-\\frac{2}{5}$ 写成最简形式 $p=-2, q=5$，其中 $\\gcd(|p|,q)=\\gcd(2,5)=1$ 且 $q>0$。其高度为\n$$\nh=|p|+q=2+5=7.\n$$\n位置 $f(x)$ 等于高度小于 $7$ 的最简有理数的数量，加上高度为 $7$ 且分子 $p$ 小于 $-2$ 的最简有理数的数量，再加上 1（$x$ 自身）。\n\n对于给定的高度 $h$，符合条件的最简分数满足 $|p|=a\\in\\{0,1,\\dots,h-1\\}$ 且 $q=h-a$，并要求 $\\gcd(a,h-a)=1$。对于 $a=0$，这只在 $h=1$ 时发生（得到 $0/1$）。对于 $a\\geq 1$，我们观察到\n$$\n\\gcd(a,h-a)=\\gcd(a,h),\n$$\n所以 $a$ 必须与 $h$ 互质。在 $\\{1,\\dots,h-1\\}$ 中有 $\\varphi(h)$ 个这样的 $a$，并且每个 $a$ 给出两个分子 $p=\\pm a$。因此，高度为 $h$ 的最简有理数的数量 $N_{h}$ 为\n$$\nN_{1}=1,\\quad N_{h}=2\\varphi(h)\\ \\text{for}\\ h\\geq 2.\n$$\n因此，高度小于 $7$ 的总数为\n$$\nN_{<7}=N_{1}+\\sum_{h=2}^{6}N_{h}=1+\\sum_{h=2}^{6}2\\varphi(h).\n$$\n计算 $h=2,3,4,5,6$ 时的 $\\varphi$ 函数值，得到 $\\varphi(2)=1$, $\\varphi(3)=2$, $\\varphi(4)=2$, $\\varphi(5)=4$, $\\varphi(6)=2$，所以\n$$\nN_{<7}=1+2(1+2+2+4+2)=1+22=23.\n$$\n在高度为 $7$ 时，因为 $7$ 是素数，所有 $a\\in\\{1,2,3,4,5,6\\}$ 都与 $7$ 互质，从而得到符合条件的分子\n$$\np\\in\\{-6,-5,-4,-3,-2,-1,1,2,3,4,5,6\\},\n$$\n按 $p$ 的升序排列。$p<-2$ 的值有 $-6,-5,-4,-3$，正好有 $4$ 个。因此，该位置是\n$$\nf\\!\\left(-\\frac{2}{5}\\right)=N_{<7}+4+1=23+4+1=28.\n$$", "answer": "$$\\boxed{28}$$", "id": "2295090"}]}