{"hands_on_practices": [{"introduction": "要掌握全变差距离，最好的方法就是从一个具体实例开始。这个练习将带你进入一个简单的随机游走场景——一个在方形轨道上移动的机器人。通过计算单步之后的状态分布与均匀稳态分布之间的距离，你将亲手实践全变差距离的定义，并直观地理解它如何量化“一个分布与另一个分布的差异程度”。[@problem_id:1346637]", "problem": "一个小型的维修机器人在一个方形轨道上移动。该轨道有四个服务站，位于其顶点，我们按逆时针顺序将它们标记为 $V_1, V_2, V_3, V_4$。该机器人的移动遵循一个简单的随机过程。在每一步中，机器人从其当前所在的服务站，以等概率移动到其两个相邻服务站之一。\n\n机器人从服务站 $V_1$ 开始。设 $\\mu_1$ 是机器人移动恰好一步后位置的概率分布，设 $\\pi$ 是这四个服务站上的均匀概率分布。\n\n计算分布 $\\mu_1$ 和 $\\pi$ 之间的全变差距离。", "solution": "设状态空间为 $\\{V_{1},V_{2},V_{3},V_{4}\\}$。机器人从 $V_{1}$ 开始。在一步移动中，它以等概率移动到任一相邻顶点，因此\n$$\n\\mu_{1}(V_{2})=\\frac{1}{2},\\quad \\mu_{1}(V_{4})=\\frac{1}{2},\\quad \\mu_{1}(V_{1})=0,\\quad \\mu_{1}(V_{3})=0.\n$$\n四个顶点上的均匀分布 $\\pi$ 分配的概率为\n$$\n\\pi(V_{i})=\\frac{1}{4}\\quad \\text{其中 }i\\in\\{1,2,3,4\\}.\n$$\n有限集上两个分布 $P$ 和 $Q$ 之间的全变差距离是\n$$\nd_{\\mathrm{TV}}(P,Q)=\\frac{1}{2}\\sum_{x}|P(x)-Q(x)|.\n$$\n将此公式应用于 $\\mu_{1}$ 和 $\\pi$，我们计算绝对差：\n$$\n|\\mu_{1}(V_{1})-\\pi(V_{1})|=\\left|0-\\frac{1}{4}\\right|=\\frac{1}{4},\\quad\n|\\mu_{1}(V_{2})-\\pi(V_{2})|=\\left|\\frac{1}{2}-\\frac{1}{4}\\right|=\\frac{1}{4},\n$$\n$$\n|\\mu_{1}(V_{3})-\\pi(V_{3})|=\\left|0-\\frac{1}{4}\\right|=\\frac{1}{4},\\quad\n|\\mu_{1}(V_{4})-\\pi(V_{4})|=\\left|\\frac{1}{2}-\\frac{1}{4}\\right|=\\frac{1}{4}.\n$$\n求和得到 $\\sum_{i=1}^{4}|\\mu_{1}(V_{i})-\\pi(V_{i})|=1$，因此\n$$\nd_{\\mathrm{TV}}(\\mu_{1},\\pi)=\\frac{1}{2}\\cdot 1=\\frac{1}{2}.\n$$", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "1346637"}, {"introduction": "全变差距离不仅可以衡量一个过程离其稳态的远近，还能作为比较不同随机模型的有力工具。在这个练习中，我们将分析两种不同的演化模型：标准随机游走和惰性随机游走。通过计算它们在一步之后各自产生的状态分布之间的全变差距离，你会发现如何利用这个度量来区分和评估不同过程的短期动态行为。[@problem_id:1346614]", "problem": "考虑一个简单的系统，它可以存在于两种状态之一，我们将其标记为状态1和状态2。该系统的状态在离散时间步 $t=0, 1, 2, \\dots$ 被观测。在时间 $t=0$ 时，已知系统处于状态1。\n\n我们希望比较两种不同的概率模型，用于描述系统从 $t=0$ 到 $t=1$ 的演化。\n\n在模型A中，系统根据两个状态上的**标准随机游走**进行演化。在此模型中，如果系统在时间 $t$ 处于一个状态，它保证在时间 $t+1$ 转移到另一个状态。\n\n在模型B中，系统根据**惰性随机游走**进行演化。在此模型中，如果系统在时间 $t$ 处于一个给定状态，它有 $1/2$ 的概率保持在同一状态，并有 $1/2$ 的概率在时间 $t+1$ 转移到另一个状态。\n\n设 $\\mu$ 为模型A下系统在时间 $t=1$ 时的状态的概率分布，设 $\\nu$ 为模型B下系统在时间 $t=1$ 时的状态的概率分布。在有限状态空间 $S$ 上，两个概率分布 $P$ 和 $Q$ 之间的全变差距离定义为：\n$$d_{TV}(P, Q) = \\frac{1}{2} \\sum_{x \\in S} |P(x) - Q(x)|$$\n其中 $P(x)$ 和 $Q(x)$ 是处于状态 $x$ 的概率。\n\n计算一个时间步后两个分布之间的全变差距离 $d_{TV}(\\mu, \\nu)$。将您的答案表示为精确小数。", "solution": "设状态空间为 $S = \\{1, 2\\}$。系统在时间 $t=0$ 时从状态1开始。这意味着初始概率分布 $\\pi_0$ 是一个向量，其中处于状态1的概率为1，处于状态2的概率为0。我们可以将其写为 $\\pi_0 = \\begin{pmatrix} 1 & 0 \\end{pmatrix}$。\n\n首先，我们确定模型A在 $t=1$ 时的概率分布 $\\mu$。模型A是一个标准随机游走，其中系统总是转移到另一个状态。描述从行状态移动到列状态的概率的转移矩阵 $P_A$ 为：\n$$\nP_A = \\begin{pmatrix} P(1 \\to 1) & P(1 \\to 2) \\\\ P(2 \\to 1) & P(2 \\to 2) \\end{pmatrix} = \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}\n$$\n在 $t=1$ 时的概率分布，记为 $\\mu$，是通过将初始分布向量乘以转移矩阵得到的：\n$$\n\\mu = \\pi_0 P_A = \\begin{pmatrix} 1 & 0 \\end{pmatrix} \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}\n$$\n执行矩阵乘法得到：\n$$\n\\mu = \\begin{pmatrix} (1)(0) + (0)(1) & (1)(1) + (0)(0) \\end{pmatrix} = \\begin{pmatrix} 0 & 1 \\end{pmatrix}\n$$\n因此，对于模型A，在 $t=1$ 时的分布为 $\\mu(1) = 0$ 和 $\\mu(2) = 1$。\n\n接下来，我们确定模型B在 $t=1$ 时的概率分布 $\\nu$。模型B是一个惰性随机游走，其中系统以 $1/2$ 的概率停留在当前状态，并以 $1/2$ 的概率移动到另一个状态。转移矩阵 $P_B$ 为：\n$$\nP_B = \\begin{pmatrix} 1/2 & 1/2 \\\\ 1/2 & 1/2 \\end{pmatrix}\n$$\n在 $t=1$ 时的概率分布，记为 $\\nu$，是通过将此转移矩阵应用于相同的初始分布 $\\pi_0$ 得到的：\n$$\n\\nu = \\pi_0 P_B = \\begin{pmatrix} 1 & 0 \\end{pmatrix} \\begin{pmatrix} 1/2 & 1/2 \\\\ 1/2 & 1/2 \\end{pmatrix}\n$$\n执行矩阵乘法得到：\n$$\n\\nu = \\begin{pmatrix} (1)(1/2) + (0)(1/2) & (1)(1/2) + (0)(1/2) \\end{pmatrix} = \\begin{pmatrix} 1/2 & 1/2 \\end{pmatrix}\n$$\n因此，对于模型B，在 $t=1$ 时的分布为 $\\nu(1) = 1/2$ 和 $\\nu(2) = 1/2$。\n\n现在我们可以使用提供的公式计算全变差距离 $d_{TV}(\\mu, \\nu)$：\n$$\nd_{TV}(\\mu, \\nu) = \\frac{1}{2} \\sum_{x \\in S} |\\mu(x) - \\nu(x)|\n$$\n对于我们的状态空间 $S = \\{1, 2\\}$，这变为：\n$$\nd_{TV}(\\mu, \\nu) = \\frac{1}{2} \\left( |\\mu(1) - \\nu(1)| + |\\mu(2) - \\nu(2)| \\right)\n$$\n代入我们计算出的概率：\n$$\nd_{TV}(\\mu, \\nu) = \\frac{1}{2} \\left( |0 - 1/2| + |1 - 1/2| \\right)\n$$\n$$\nd_{TV}(\\mu, \\nu) = \\frac{1}{2} \\left( |-1/2| + |1/2| \\right)\n$$\n$$\nd_{TV}(\\mu, \\nu) = \\frac{1}{2} \\left( \\frac{1}{2} + \\frac{1}{2} \\right)\n$$\n$$\nd_{TV}(\\mu, \\nu) = \\frac{1}{2} (1) = 0.5\n$$\n两个分布之间的全变差距离为 0.5。", "answer": "$$\\boxed{0.5}$$", "id": "1346614"}, {"introduction": "马尔可夫链的一个核心特性是其长期行为会趋于一个稳定的平衡状态，即稳态分布。但是，它们趋向这个稳态的速度有多快呢？这个练习将向你展示如何使用全变差距离来量化收敛速度。你将计算一个过程的分布与稳态分布之间的距离减半所需的时间，从而具体地理解“混合时间”这一重要概念。[@problem_id:1346612]", "problem": "考虑一个双选项系统中观点演化的简单模型，例如，一个选民在 A 党和 B 党之间做出选择。我们将选民的选择建模为一个双态系统中的状态，状态标记为 $\\{A, B\\}$。在初始时刻 $t=0$ 时，该选民支持 A 党。\n\n在随后的每个离散时间步，该选民会重新考虑其立场。选民以概率 $p$ 维持当前党派，或以概率 $1-p$ 转换到另一党派。这个过程是一个马尔可夫链。维持当前党派的具体概率由 $p = \\frac{1}{2} + \\frac{\\sqrt{2}}{4}$ 给出。经过很长一段时间后，这个过程会趋近于一个平稳分布 $\\pi$，在该分布下，选民支持任一党派的概率是均等的。\n\n设 $\\mu_t$ 是描述在时间步 $t$ 时选民党派偏好的概率分布。在时间步 $t$ 的分布与平稳分布之间的差异由全变差距离度量，记为 $d_t$。\n\n求全变差距离 $d_t$ 恰好变为其初始值 $d_0$ 一半时所需的确切整数时间步数 $t$。", "solution": "设状态空间为 $\\{A,B\\}$，并将坐标排序为 $(A,B)$。转移矩阵为\n$$\nP=\\begin{pmatrix}\np & 1-p\\\\\n1-p & p\n\\end{pmatrix},\n$$\n其中 $p=\\frac{1}{2}+\\frac{\\sqrt{2}}{4}$。根据对称性，平稳分布为 $\\pi=\\left(\\frac{1}{2},\\frac{1}{2}\\right)$。设 $x_{t}=\\Pr(\\text{state}=A\\text{ at time }t)$。则 $\\mu_{t}=(x_{t},1-x_{t})$ 且全变差距离为\n$$\nd_{t}=\\frac{1}{2}\\left(\\left|x_{t}-\\frac{1}{2}\\right|+\\left|1-x_{t}-\\frac{1}{2}\\right|\\right)=\\left|x_{t}-\\frac{1}{2}\\right|.\n$$\n\n$x_{t}$ 的单步更新为\n$$\nx_{t+1}=p x_{t}+(1-p)(1-x_{t})=(2p-1)x_{t}+(1-p).\n$$\n两边减去 $\\frac{1}{2}$ 得到\n$$\nx_{t+1}-\\frac{1}{2}=(2p-1)\\left(x_{t}-\\frac{1}{2}\\right),\n$$\n因此通过归纳法可得\n$$\nx_{t}-\\frac{1}{2}=(2p-1)^{t}\\left(x_{0}-\\frac{1}{2}\\right).\n$$\n根据初始条件 $x_{0}=1$，我们有 $x_{0}-\\frac{1}{2}=\\frac{1}{2}$，因此\n$$\nd_{t}=\\left|x_{t}-\\frac{1}{2}\\right|=\\frac{1}{2}\\left|2p-1\\right|^{t}.\n$$\n又因为 $d_{0}=\\frac{1}{2}$，所以\n$$\nd_{t}=d_{0}\\left|2p-1\\right|^{t}.\n$$\n计算 $2p-1$：\n$$\n2p-1=2\\left(\\frac{1}{2}+\\frac{\\sqrt{2}}{4}\\right)-1=\\frac{\\sqrt{2}}{2}.\n$$\n因此\n$$\nd_{t}=d_{0}\\left(\\frac{\\sqrt{2}}{2}\\right)^{t}.\n$$\n我们需要 $d_{t}=\\frac{1}{2}d_{0}$，所以\n$$\n\\left(\\frac{\\sqrt{2}}{2}\\right)^{t}=\\frac{1}{2}.\n$$\n由于 $\\frac{\\sqrt{2}}{2}=2^{-1/2}$，该式即为 $2^{-t/2}=2^{-1}$，解得 $t=2$。", "answer": "$$\\boxed{2}$$", "id": "1346612"}]}