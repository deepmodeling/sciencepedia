{"hands_on_practices": [{"introduction": "我们从一个基础情景开始实践：分析一系列独立的随机事件。这个问题模拟了一个执行一系列二元任务的系统，这在数学上等同于多次抛掷一枚均匀的硬币。通过在此应用阿祖马-霍夫丁不等式，你将计算成功总数偏离其期望值的上界，从而对围绕均值的集中现象有一个切实的理解。[@problem_id:1336259]", "problem": "一个自主系统被设计用于执行一系列共 $n$ 个独立的二元任务。对于每个任务，系统有两个可能的操作，其中只有一个是正确的。在其初始、未经训练的状态下，系统为每个任务完全随机地选择一个操作，两个操作都是等可能的。在每个任务之后，系统会收到反馈，指示其选择的操作是否正确。\n\n设 $C_n$ 表示在全部 $n$ 个任务中正确执行的任务总数。成功次数的期望值为 $E[C_n]$。我们关心的是实际成功次数显著偏离此期望值的概率。\n\n对于一个给定的正实数 $t$，求出概率 $P(|C_n - E[C_n]| \\geq t)$ 的一个非平凡上界。您的答案应该是一个关于 $n$ 和 $t$ 的解析表达式。", "solution": "为 $i \\in \\{1,\\dots,n\\}$ 定义指示变量 $X_{i}$，如果系统正确执行任务 $i$，则 $X_{i}=1$，否则 $X_{i}=0$。由于在未经训练的状态下，每个任务的操作是从两个等可能的选项中均匀随机选择的，并且任务是独立的，因此变量 $X_{i}$ 是独立同分布的，满足 $P(X_{i}=1)=\\frac{1}{2}$ 和 $P(X_{i}=0)=\\frac{1}{2}$。因此，$X_{i} \\in [0,1]$ 几乎必然成立，并且对所有 $i$ 都有 $E[X_{i}]=\\frac{1}{2}$。\n\n正确执行的任务总数是以下和：\n$$\nC_{n}=\\sum_{i=1}^{n} X_{i},\n$$\n其期望值为：\n$$\nE[C_{n}]=\\sum_{i=1}^{n} E[X_{i}]=\\sum_{i=1}^{n} \\frac{1}{2}=\\frac{n}{2}.\n$$\n\n我们应用Hoeffding不等式来处理独立有界随机变量的和。如果 $X_{i}$ 是独立的，且几乎必然满足 $a_{i} \\leq X_{i} \\leq b_{i}$，并且 $S_{n}=\\sum_{i=1}^{n} X_{i}$，那么对于任何 $t>0$，\n$$\nP\\big(|S_{n}-E[S_{n}]|\\geq t\\big) \\leq 2 \\exp\\!\\left(-\\frac{2 t^{2}}{\\sum_{i=1}^{n} (b_{i}-a_{i})^{2}}\\right).\n$$\n在这里，对所有 $i$ 都有 $a_{i}=0$ 和 $b_{i}=1$，因此 $\\sum_{i=1}^{n} (b_{i}-a_{i})^{2}=n$。将 $S_{n}=C_{n}$ 及此界限代入Hoeffding不等式，得到非平凡的偏差上界：\n$$\nP\\big(|C_{n}-E[C_{n}]|\\geq t\\big) \\leq 2 \\exp\\!\\left(-\\frac{2 t^{2}}{n}\\right).\n$$\n这是一个关于 $n$ 和 $t$ 的解析表达式，适用于所有 $t>0$。", "answer": "$$\\boxed{2 \\exp\\!\\left(-\\frac{2 t^{2}}{n}\\right)}$$", "id": "1336259"}, {"introduction": "现在，让我们来探索一个不再满足独立性假设的更复杂情况。这个练习呈现了一个游戏，其中一次抛掷的结果会影响下一次的概率，这是许多现实世界自适应系统中的一个共同特征。正是在这里，阿祖马-霍夫丁不等式的真正威力得以显现，因为它允许我们通过关注过程的鞅结构来分析建立在相关事件上的过程。[@problem_id:1336222]", "problem": "一个随机游戏包含一系列 $n$ 次掷硬币。第 $i$ 次投掷的结果由随机变量 $X_i$ 表示，若结果为正面，则 $X_i=1$，若为反面，则 $X_i=0$。\n\n出现正面的概率不是恒定的。对于第一次投掷 ($i=1$)，出现正面的概率为 $p_1 = p$。对于任何后续的投掷 $i > 1$，出现正面的概率 $p_i$ 由前一次投掷的结果 $X_{i-1}$ 决定，具体如下：\n- 如果第 $i-1$ 次投掷为正面 ($X_{i-1}=1$)，则 $p_i = p - \\delta$。\n- 如果第 $i-1$ 次投掷为反面 ($X_{i-1}=0$)，则 $p_i = p + \\delta$。\n\n参数 $p$ 和 $\\delta$ 是满足 $0 < \\delta < \\min(p, 1-p)$ 的常数。\n\n一位玩家参与一个基于这些投掷的投注游戏。在每一轮 $i$（从 $1$ 到 $n$）开始时，玩家支付 $p_i$ 美元的费用来参与游戏。如果投掷结果为正面 ($X_i=1$)，玩家将获得 1 美元的赔付。如果结果为反面 ($X_i=0$)，玩家将一无所获。设 $W_n$ 为玩家在所有 $n$ 轮游戏结束后的总净收益。\n\n找到玩家总净收益的绝对值至少为 $t$ 的概率的一个简单上界，其中 $t$ 是一个正常数。你的答案需要用 $n$ 和 $t$ 来表示。", "solution": "设 $X_{i}\\in\\{0,1\\}$ 为第 $i$ 次投掷的结果，设 $p_{i}$ 为在第 $i$ 轮开始时支付的费用，其中 $p_{1}=p$，并且对于 $i>1$，如果 $X_{i-1}=1$ 则 $p_{i}=p-\\delta$，如果 $X_{i-1}=0$ 则 $p_{i}=p+\\delta$。第 $i$ 轮的净收益是 $X_{i}-p_{i}$，因此 $n$ 轮后的总净收益为\n$$\nW_{n}=\\sum_{i=1}^{n}\\left(X_{i}-p_{i}\\right).\n$$\n设 $\\mathcal{F}_{i}=\\sigma(X_{1},\\ldots,X_{i})$ 为自然信息流。根据该过程的构造，对每个 $i$ 都有，\n$$\n\\mathbb{E}\\!\\left[X_{i}\\mid\\mathcal{F}_{i-1}\\right]=p_{i},\n$$\n因此\n$$\n\\mathbb{E}\\!\\left[X_{i}-p_{i}\\mid\\mathcal{F}_{i-1}\\right]=0.\n$$\n因此，$\\{W_{i}\\}_{i=0}^{n}$（其中 $W_{0}=0$ 且 $W_{i}=\\sum_{j=1}^{i}(X_{j}-p_{j})$）是一个鞅。\n\n其增量几乎必然满足以下界限\n$$\n-p_{i}\\leq X_{i}-p_{i}\\leq 1-p_{i},\n$$\n所以其区间长度为\n$$\n(1-p_{i})-(-p_{i})=1\\quad\\text{对每个 }i.\n$$\n对差分有界于区间 $[a_{i},b_{i}]$ 内的鞅应用 Azuma–Hoeffding 不等式，该不等式表明：\n$$\n\\mathbb{P}\\!\\left(W_{n}\\geq t\\right)\\leq\\exp\\!\\left(-\\frac{2t^{2}}{\\sum_{i=1}^{n}(b_{i}-a_{i})^{2}}\\right),\n$$\n并利用对所有 $i$ 都有 $b_{i}-a_{i}=1$ 这一条件，我们得到如下单侧界：\n$$\n\\mathbb{P}\\!\\left(W_{n}\\geq t\\right)\\leq\\exp\\!\\left(-\\frac{2t^{2}}{n}\\right).\n$$\n根据对称性（或将相同界应用于 $-W_{n}$），我们得到：\n$$\n\\mathbb{P}\\!\\left(W_{n}\\leq -t\\right)\\leq\\exp\\!\\left(-\\frac{2t^{2}}{n}\\right).\n$$\n结合这两个尾部概率，可得出所需的双侧界：\n$$\n\\mathbb{P}\\!\\left(|W_{n}|\\geq t\\right)\\leq 2\\,\\exp\\!\\left(-\\frac{2t^{2}}{n}\\right).\n$$\n该界仅取决于 $n$ 和 $t$，符合题目要求。", "answer": "$$\\boxed{2\\,\\exp\\!\\left(-\\frac{2t^{2}}{n}\\right)}$$", "id": "1336222"}, {"introduction": "作为我们实践的结尾，我们将把集中不等式应用到一个计算机科学领域的实际问题上：分析缓存系统的性能。这个练习利用“有界差分”性质——一个与阿祖马-霍夫丁不等式密切相关的关键概念——来为缓存命中次数的偏差设定界限。这展示了该不等式的广泛效用，表明即使复杂算法的精确行为难以预测，它也能为其提供性能保证。[@problem_id:1336195]", "problem": "一个Web服务器利用一个大小为 $k=50$ 的缓存来加速对一个包含 $m=5000$ 个唯一文件的大型集合的访问。该服务器处理一个包含 $N=2 \\times 10^6$ 个文件请求的序列。这个表示为 $R_1, R_2, \\dots, R_N$ 的请求序列，可以被精确地建模为一系列独立的随机变量，其中每个 $R_i$ 都是从这 $m$ 个可用文件的集合中均匀抽取的。\n\n该缓存采用最近最少使用 (LRU) 的替换策略。当一个被请求的文件在缓存中被找到时，这被称为一次“命中”，并且该文件被标记为最近最多使用的文件。如果文件不在缓存中，这被称为一次“未命中”。在发生未命中的情况下，文件将从存储中被获取并放入缓存。如果缓存已满，最近最少使用的文件将被驱逐以腾出空间。\n\n设 $H$ 为在 $N$ 次请求序列中的缓存命中总数。$H$ 的值是一个取决于具体请求序列的随机变量。计算机科学理论中一个已知的、非平凡的结果指出，将请求序列映射到总命中数的函数具有“有界差分”性质：改变序列中的单个请求 $R_i$ 最多能使 $H$ 的最终值改变 2。\n\n利用此信息，确定总命中数 $H$ 与其期望值 $\\mathbb{E}[H]$ 的偏差超过总请求数 $0.25\\%$ 的概率的上限。将您的答案表示为一个数值，并四舍五入到两位有效数字。", "solution": "我们将 $H$ 建模为独立请求的函数 $f(R_{1},\\dots,R_{N})$。给定的有界差分性质表明，改变单个坐标 $R_{i}$ 最多可以使 $H$ 改变 2，因此对于所有的 $i$，我们有 Lipschitz 常数 $c_{i}=2$。\n\n根据 McDiarmid 不等式（有界差分），对于任意 $t>0$，\n$$\n\\Pr\\!\\left(H-\\mathbb{E}[H]\\ge t\\right)\\le \\exp\\!\\left(-\\frac{2t^{2}}{\\sum_{i=1}^{N} c_{i}^{2}}\\right),\n$$\n并且根据对称性，\n$$\n\\Pr\\!\\left(|H-\\mathbb{E}[H]|\\ge t\\right)\\le 2\\exp\\!\\left(-\\frac{2t^{2}}{\\sum_{i=1}^{N} c_{i}^{2}}\\right).\n$$\n这里 $\\sum_{i=1}^{N} c_{i}^{2}=N\\cdot 2^{2}=4N$，因此\n$$\n\\Pr\\!\\left(|H-\\mathbb{E}[H]|\\ge t\\right)\\le 2\\exp\\!\\left(-\\frac{t^{2}}{2N}\\right).\n$$\n\n我们寻求的偏差阈值 $t$ 等于总请求数的 $0.0025$，即 $t=0.0025\\,N$。代入可得\n$$\n\\Pr\\!\\left(|H-\\mathbb{E}[H]|\\ge 0.0025\\,N\\right)\\le 2\\exp\\!\\left(-\\frac{(0.0025\\,N)^{2}}{2N}\\right)\n=2\\exp\\!\\left(-\\frac{0.0025^{2}\\,N}{2}\\right).\n$$\n当 $N=2\\times 10^{6}$ 时，计算指数：\n$$\n0.0025^{2}=6.25\\times 10^{-6},\\quad \\frac{0.0025^{2}\\,N}{2}=\\frac{6.25\\times 10^{-6}\\cdot 2\\times 10^{6}}{2}=6.25,\n$$\n所以上界为\n$$\n2\\exp(-6.25)\\approx 3.9\\times 10^{-3},\n$$\n四舍五入到两位有效数字。", "answer": "$$\\boxed{3.9 \\times 10^{-3}}$$", "id": "1336195"}]}