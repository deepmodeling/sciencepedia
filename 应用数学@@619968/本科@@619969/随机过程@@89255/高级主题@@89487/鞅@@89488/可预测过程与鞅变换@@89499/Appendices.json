{"hands_on_practices": [{"introduction": "可预测过程的概念是构建任何现实交易或博弈策略的基础，因为它在数学上强制执行了“无预知”规则：在时间 $n$ 的决策只能基于在时间 $n-1$ 之前可用的信息。本练习旨在通过检验几种不同的潜在策略，帮助你巩固这一关键概念。你的任务是区分哪些策略是真正可预测的，哪些不当地使用了未来信息 [@problem_id:1324738]。", "problem": "设 $X_1, X_2, \\dots$ 是一个独立同分布的随机变量序列，表示随机游走的步长，满足 $P(X_i = 1) = P(X_i = -1) = 1/2$。对称随机游走在时刻 $n$ 的位置由 $S_n$ 给出，其中 $S_0 = 0$ 且对于 $n \\ge 1$ 有 $S_n = \\sum_{i=1}^n X_i$。\n\n到时刻 $n$ 为止的游走历史由信息流 $(\\mathcal{F}_n)_{n \\ge 0}$ 描述，其中 $\\mathcal{F}_n = \\sigma(X_1, \\dots, X_n)$ 是由前 $n$ 步生成的sigma代数，而 $\\mathcal{F}_0 = \\{\\emptyset, \\Omega\\}$ 是表示初始信息的平凡sigma代数。\n\n在金融数学中，一个交易策略可以被建模为一个随机过程 $(H_n)_{n \\ge 1}$，其中 $H_n$ 表示在时间区间 $(n-1, n]$ 内所持有的头寸。一个关键概念是“可预测”策略，即对未来区间的决策仅仅依赖于过去的信息。形式上，一个过程 $(H_n)_{n \\ge 1}$ 是可预测的，如果对于每个 $n \\ge 1$，随机变量 $H_n$ 关于sigma代数 $\\mathcal{F}_{n-1}$ 是可测的。\n\n考虑以下为 $n \\ge 1$ 定义的过程。哪些过程是可预测的？\n\nA. $H_n = S_n$\n\nB. $H_n = S_{n-1}$\n\nC. $H_n = X_n$\n\nD. $H_n = X_{n-1}$ (其中我们定义 $X_0 = 0$)\n\nE. $H_n = \\mathbf{1}_{\\{S_{n-1} > 0.1(n-1)\\}}$ (其中 $\\mathbf{1}_{\\{A\\}}$ 是事件 $A$ 的示性函数)\n\n选择所有有效的选项。", "solution": "一个过程 $(H_{n})_{n \\geq 1}$ 关于信息流 $(\\mathcal{F}_{n})_{n \\geq 0}$ 是可预测的，当且仅当对每个 $n \\geq 1$，随机变量 $H_{n}$ 是 $\\mathcal{F}_{n-1}$-可测的。此处 $\\mathcal{F}_{n} = \\sigma(X_{1},\\dots,X_{n})$，且 $S_{n} = \\sum_{i=1}^{n} X_{i}$ 及 $S_{0} = 0$。\n\n评估每个选项：\n\nA. $H_{n} = S_{n}$。我们有 $S_{n} = S_{n-1} + X_{n}$，其中 $X_{n}$ 独立于 $\\mathcal{F}_{n-1}$ 且非退化。如果 $S_{n}$ 是 $\\mathcal{F}_{n-1}$-可测的，那么 $X_{n} = S_{n} - S_{n-1}$ 也将是 $\\mathcal{F}_{n-1}$-可测的，这与 $X_{n}$ 的独立性和非退化性相矛盾。因此 $S_{n}$ 不是 $\\mathcal{F}_{n-1}$-可测的，所以这个过程不是可预测的。\n\nB. $H_{n} = S_{n-1}$。由于 $S_{n-1}$ 是 $(X_{1},\\dots,X_{n-1})$ 的可测函数，根据信息流的定义，它是 $\\mathcal{F}_{n-1}$-可测的。因此这个过程是可预测的。\n\nC. $H_{n} = X_{n}$。随机变量 $X_{n}$ 独立于 $\\mathcal{F}_{n-1}$ 且非退化，所以它不是 $\\mathcal{F}_{n-1}$-可测的。因而这个过程不是可预测的。\n\nD. $H_{n} = X_{n-1}$ 且 $X_{0} = 0$。对于 $n \\geq 2$，$X_{n-1}$ 是 $\\mathcal{F}_{n-1}$-可测的，因为它是生成元之一。对于 $n=1$，$H_{1} = X_{0} = 0$ 是常数，因此是 $\\mathcal{F}_{0}$-可测的。所以该过程是可预测的。\n\nE. $H_{n} = \\mathbf{1}_{\\{S_{n-1} > 0.1(n-1)\\}}$。由于 $S_{n-1}$ 是 $\\mathcal{F}_{n-1}$-可测的，并且集合 $\\{x \\in \\mathbb{R} : x > 0.1(n-1)\\}$ 是一个波莱尔集，所以示性函数 $\\mathbf{1}_{\\{S_{n-1} > 0.1(n-1)\\}}$ 是 $\\mathcal{F}_{n-1}$-可测的。因此这个过程是可预测的。\n\n因此，给定选项中的可预测过程是B、D和E。", "answer": "$$\\boxed{BDE}$$", "id": "1324738"}, {"introduction": "在确定了如何识别可预测过程之后，我们现在转向其主要用途：定义一个新的随机过程，来表示一个策略的累积结果。这个练习将引导你计算一个鞅变换，其中策略是在每个步骤的投资额由你在前一步的财富决定。这将让你亲手体验离散随机积分的计算机制 [@problem_id:1324704]。", "problem": "设 $\\{X_k\\}_{k \\ge 1}$ 是一个独立随机变量序列，每个变量的期望值为零，$E[X_k]=0$。设 $(\\mathcal{F}_n)_{n \\ge 0}$ 是由此序列生成的自然滤，其中 $\\mathcal{F}_n$ 表示截至时间 $n$ 可用的信息。\n\n一个随机过程 $\\{M_n\\}_{n \\ge 0}$ 是相对于此滤定义的。它从一个非零常数值 $M_0 = c$ 开始，并且对于 $n \\ge 1$，它根据规则 $M_n = M_0 + \\sum_{k=1}^n X_k$ 演变。该过程是关于 $(\\mathcal{F}_n)$ 的一个鞅。\n\n我们通过一个可料过程 $\\{H_k\\}_{k \\ge 1}$ 来定义一个交易策略。该策略规定，在时间 $k$ 所持有的头寸等于前一时刻鞅的值，$H_k = M_{k-1}$。\n\n截至时间 $n$ 此交易策略的总收益或损失由鞅变换（也称为离散随机积分）所捕捉。这是一个新过程，记为 $\\{(H \\cdot M)_n\\}_{n \\ge 0}$，定义为 $(H \\cdot M)_0 = 0$ 且对于 $n \\ge 1$：\n$$ (H \\cdot M)_n = \\sum_{k=1}^n H_k (M_k - M_{k-1}) $$\n\n你的任务是求出鞅变换过程的前两项 $(H \\cdot M)_1$ 和 $(H \\cdot M)_2$ 的表达式。请仅用常数 $c$ 和随机变量 $X_1$、$X_2$ 来表示你的答案。", "solution": "我们已知鞅 $M_{n}$ 由 $M_{0}=c$ 定义，且对于 $n \\geq 1$，有\n$$\nM_{n}=M_{0}+\\sum_{k=1}^{n}X_{k}=c+\\sum_{k=1}^{n}X_{k}.\n$$\n因此，鞅增量为\n$$\nM_{k}-M_{k-1}=X_{k}.\n$$\n可料策略为 $H_{k}=M_{k-1}$。因此，\n- 当 $k=1$ 时，$H_{1}=M_{0}=c$。\n- 当 $k=2$ 时，$H_{2}=M_{1}=c+X_{1}$。\n\n鞅变换定义为\n$$\n(H \\cdot M)_{n}=\\sum_{k=1}^{n}H_{k}(M_{k}-M_{k-1}).\n$$\n因此，\n$$\n(H \\cdot M)_{1}=H_{1}(M_{1}-M_{0})=c \\cdot X_{1}=cX_{1},\n$$\n并且\n$$\n(H \\cdot M)_{2}=H_{1}(M_{1}-M_{0})+H_{2}(M_{2}-M_{1})=cX_{1}+(c+X_{1})X_{2}=cX_{1}+cX_{2}+X_{1}X_{2}.\n$$\n这些表达式仅用 $c$、$X_{1}$ 和 $X_{2}$ 表示。", "answer": "$$\\boxed{\\begin{pmatrix} c X_{1} & c X_{1} + c X_{2} + X_{1} X_{2} \\end{pmatrix}}$$", "id": "1324704"}, {"introduction": "现在，我们将所学工具应用于一个来自量化金融的实用（尽管简化了的）场景——配对交易。该策略试图从两种历史上相关的资产之间的价差中获利。本练习要求你为此类策略构建财富过程，展示可预测过程和鞅变换这些抽象概念如何能够为现实世界的金融操作建模 [@problem_id:1324672]。", "problem": "考虑一个金融市场中“配对交易”策略的简化模型。我们用两个独立的、一维的简单对称随机游走来为两种不相关资产的价格建模。\n\n设 $\\{X_i\\}_{i \\ge 1}$ 和 $\\{Y_i\\}_{i \\ge 1}$ 是概率空间 $(\\Omega, \\mathcal{F}, P)$ 上的两个独立的独立同分布随机变量序列，其中对每个 $i \\ge 1$，我们有 $P(X_i = 1) = P(X_i = -1) = 1/2$ 以及 $P(Y_i = 1) = P(Y_i = -1) = 1/2$。\n\n定义两个从原点出发的随机游走 $S^{(1)}$ 和 $S^{(2)}$，即 $S_0^{(1)} = S_0^{(2)} = 0$，它们在时间 $n \\ge 1$ 的位置由下式给出：\n$$S_n^{(1)} = \\sum_{i=1}^{n} X_i \\quad \\text{and} \\quad S_n^{(2)} = \\sum_{i=1}^{n} Y_i$$\n这些随机游走代表了这两种资产的对数价格。\n\n一个交易员根据这两个随机游走的相对位置来执行一个策略。该策略记为 $H_n$，它指定了在时间区间 $(n-1, n]$ 内持有的第二种资产（其价格过程为 $S^{(2)}$）的单位数。从时间 $n-1$ 开始的区间内的持仓是根据到时间 $n-1$ 为止的可用信息来决定的。具体的策略是根据前一时间步上两个随机游走之差的符号来建立头寸：\n$$H_n = \\operatorname{sgn}\\left(S_{n-1}^{(1)} - S_{n-1}^{(2)}\\right)$$\n对于 $n \\ge 1$。符号函数定义为：如果 $z > 0$，则 $\\operatorname{sgn}(z) = 1$；如果 $z < 0$，则 $\\operatorname{sgn}(z) = -1$；以及 $\\operatorname{sgn}(0) = 0$。\n\n从零初始资本开始，该策略的累计盈亏是财富过程 $W_n$。它由过程 $H$ 关于过程 $S^{(2)}$ 的离散随机积分（鞅变换）给出：\n$$W_n = \\sum_{k=1}^{n} H_k \\left(S_k^{(2)} - S_{k-1}^{(2)}\\right)$$\n推导财富过程 $W_n$（对于 $n \\ge 1$）关于基础随机变量 $X_j$ 和 $Y_j$ 的一个完整且明确的表达式。", "solution": "根据定义，\n$$S_{k}^{(2)}-S_{k-1}^{(2)}=Y_{k}, \\quad k \\ge 1,$$\n因此财富增量为\n$$\\Delta W_{k}=H_{k}\\left(S_{k}^{(2)}-S_{k-1}^{(2)}\\right)=H_{k}Y_{k}.$$\n该策略是\n$$H_{k}=\\operatorname{sgn}\\left(S_{k-1}^{(1)}-S_{k-1}^{(2)}\\right),$$\n其中\n$$S_{k-1}^{(1)}=\\sum_{i=1}^{k-1}X_{i}, \\qquad S_{k-1}^{(2)}=\\sum_{i=1}^{k-1}Y_{i}.$$\n因此，\n$$H_{k}=\\operatorname{sgn}\\left(\\sum_{i=1}^{k-1}X_{i}-\\sum_{i=1}^{k-1}Y_{i}\\right)=\\operatorname{sgn}\\left(\\sum_{i=1}^{k-1}(X_{i}-Y_{i})\\right).$$\n从零初始资本开始，财富过程是增量的累积和：\n$$W_{n}=\\sum_{k=1}^{n}H_{k}Y_{k}=\\sum_{k=1}^{n}\\operatorname{sgn}\\left(\\sum_{i=1}^{k-1}(X_{i}-Y_{i})\\right)Y_{k}, \\quad n \\ge 1,$$\n这是一个关于基础随机变量 $\\{X_{j}\\}$ 和 $\\{Y_{j}\\}$ 的明确表达式。\n\n为了完整起见，引入价差 $D_{k}=S_{k}^{(1)}-S_{k}^{(2)}=\\sum_{i=1}^{k}(X_{i}-Y_{i})$。那么 $H_{k}=\\operatorname{sgn}(D_{k-1})$ 且\n$$W_{n}=\\sum_{k=1}^{n}\\operatorname{sgn}(D_{k-1})\\,Y_{k}=\\sum_{k=1}^{n}\\operatorname{sgn}\\left(\\sum_{i=1}^{k-1}(X_{i}-Y_{i})\\right)Y_{k},$$\n这与用 $D_{k-1}$ 表示的表达式是相同的。", "answer": "$$\\boxed{\\sum_{k=1}^{n}\\operatorname{sgn}\\!\\left(\\sum_{i=1}^{k-1}\\bigl(X_{i}-Y_{i}\\bigr)\\right)Y_{k}}$$", "id": "1324672"}]}