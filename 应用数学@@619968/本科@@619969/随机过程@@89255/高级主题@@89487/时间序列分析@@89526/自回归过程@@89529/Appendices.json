{"hands_on_practices": [{"introduction": "这个练习将引导你计算 AR(1) 过程的长期期望值，即平稳均值。我们将通过一个关于科技创业公司日活跃用户的假设场景，来了解如何利用这一基本性质进行长期业务预测。这个实践旨在巩固你对平稳性概念及其在预测稳定结果方面直接应用的理解。[@problem_id:1283592]", "problem": "一家科技初创公司推出了一款新的移动应用程序。该公司的数据科学家使用一阶自回归过程来模拟第 $t$ 天的日活跃用户数 $U_t$（单位：千人）。该模型由以下方程给出：\n$$U_t = c + \\phi U_{t-1} + \\varepsilon_t$$\n在此模型中，$c = 15.5$ 代表来自市场营销活动的每日新增用户的恒定流入量（单位：千人）。参数 $\\phi = 0.82$ 是用户留存因子，表示第 $t-1$ 天的用户中在第 $t$ 天仍然活跃的比例。项 $\\varepsilon_t$ 是由不可预测的日常事件引起的随机波动，它被建模为白噪声过程，即一个期望值为零的非相关随机变量序列。\n\n公司的日收入 $R_t$ 来自固定订阅和基于用户的广告的组合。以美元计的日收入由以下关系式给出：\n$$R_t = P + k U_t$$\n其中 $P = \\$5100$ 是来自高级订阅的恒定日收入，而 $k = \\$19.50$ 是每千名用户产生的平均广告收入。\n\n假设用户基数过程 $U_t$ 最终达到一个平稳状态，计算公司的长期预期日收入。以美元报告您的答案，并四舍五入到四位有效数字。", "solution": "我们得到一个关于日活跃用户（单位：千人）的AR(1)过程：\n$$U_{t} = c + \\phi U_{t-1} + \\varepsilon_{t},$$\n其中 $c=15.5$，$\\phi=0.82$，$\\varepsilon_{t}$ 为白噪声且 $\\mathbb{E}[\\varepsilon_{t}]=0$。对于一个 $|\\phi|<1$ 的平稳AR(1)过程，其平稳均值 $\\mu=\\mathbb{E}[U_{t}]$ 满足\n$$\\mu = \\mathbb{E}[U_{t}] = c + \\phi \\mathbb{E}[U_{t-1}] + \\mathbb{E}[\\varepsilon_{t}] = c + \\phi \\mu,$$\n因此\n$$(1-\\phi)\\mu = c \\quad \\Rightarrow \\quad \\mu = \\frac{c}{1-\\phi}。$$\n当 $c=15.5$ 和 $\\phi=0.82$ 时，\n$$\\mu = \\frac{15.5}{1-0.82} = \\frac{15.5}{0.18} = \\frac{155/10}{18/100} = \\frac{1550}{18} = \\frac{775}{9}。$$\n收入为 $R_{t} = P + k U_{t}$，因此根据期望的线性性，\n$$\\mathbb{E}[R_{t}] = P + k\\,\\mathbb{E}[U_{t}] = P + k \\mu。$$\n代入 $P=5100$，$k=19.50$，以及 $\\mu=\\frac{775}{9}$，\n$$\\mathbb{E}[R_{t}] = 5100 + 19.50 \\cdot \\frac{775}{9} = 5100 + \\frac{39}{2}\\cdot \\frac{775}{9} = 5100 + \\frac{30225}{18} = 5100 + 1679 + \\frac{1}{6} = 6779 + \\frac{1}{6}$$。\n因此 $\\mathbb{E}[R_{t}] = 6779.166\\ldots$ 美元，四舍五入到四位有效数字是 $6779$ 美元。", "answer": "$$\\boxed{6779}$$", "id": "1283592"}, {"introduction": "在理解了长期平均值之后，衡量过程围绕该平均值的波动性至关重要。本练习将使用一个关于夜间睡眠模式的假设模型，指导你计算平稳 AR(1) 过程的无条件方差。这项技能对于评估时间序列的稳定性和可预测性是必不可少的。[@problem_id:1283584]", "problem": "一位睡眠研究者正在分析一名大学生的每晚睡眠模式。研究发现，在给定夜晚的睡眠小时数 $H_t$ 可以被有效地建模为一个一阶平稳自回归 (AR) 过程。该模型捕捉了“睡眠惯性”现象，即比平均时间短的夜晚睡眠之后往往会跟一个稍长于平均时间的睡眠，反之亦然。\n\n该模型由以下方程给出：\n$$H_t = \\mu + \\phi(H_{t-1} - \\mu) + \\varepsilon_t$$\n其中：\n- $H_t$ 是第 $t$ 晚的睡眠小时数。\n- $\\mu = 8.0$ 小时是该学生的长期平均睡眠时长。\n- $\\phi = 0.3$ 是自回归系数，用于量化睡眠惯性的强度。\n- $\\varepsilon_t$是一个白噪声误差项，代表睡眠中每日的随机波动。该项的均值为零，恒定方差为 $\\sigma^2_\\varepsilon = 0.25$ 平方小时。\n\n假设此过程是平稳的，计算该学生每晚睡眠小时数的理论无条件方差 $\\text{Var}(H_t)$。答案以平方小时为单位，并四舍五入到三位有效数字。", "solution": "我们得到一个关于每晚睡眠小时数的一阶平稳自回归 AR(1) 过程：\n$$H_{t}=\\mu+\\phi\\left(H_{t-1}-\\mu\\right)+\\varepsilon_{t},$$\n其中 $\\mu=8.0$，$\\phi=0.3$，且 $\\operatorname{Var}(\\varepsilon_{t})=\\sigma_{\\varepsilon}^{2}=0.25$。\n\n定义中心化过程 $X_{t}=H_{t}-\\mu$。代入模型可得\n$$X_{t}=\\phi X_{t-1}+\\varepsilon_{t}。$$\n由于该过程是平稳的且 $|\\phi|<1$ (确实 $0.3<1$)，因此无条件方差存在。$H_{t}$ 的方差等于 $X_{t}$ 的方差，因为减去一个常数不改变方差：\n$$\\operatorname{Var}(H_{t})=\\operatorname{Var}(X_{t})。$$\n\n使用 AR(1) 方程和白噪声的性质来计算 $\\operatorname{Var}(X_{t})$。对方程两边应用方差算子：\n$$\\operatorname{Var}(X_{t})=\\operatorname{Var}\\left(\\phi X_{t-1}+\\varepsilon_{t}\\right)。$$\n使用 $\\operatorname{Var}(aY)=a^{2}\\operatorname{Var}(Y)$ 和 $\\operatorname{Var}(Y+Z)=\\operatorname{Var}(Y)+\\operatorname{Var}(Z)+2\\operatorname{Cov}(Y,Z)$，我们得到\n$$\\operatorname{Var}(X_{t})=\\phi^{2}\\operatorname{Var}(X_{t-1})+\\sigma_{\\varepsilon}^{2}+2\\phi\\,\\operatorname{Cov}(X_{t-1},\\varepsilon_{t})。$$\n对于白噪声新息，$\\varepsilon_{t}$ 与过去的值不相关，因此 $\\operatorname{Cov}(X_{t-1},\\varepsilon_{t})=0$。在平稳性条件下，$\\operatorname{Var}(X_{t})=\\operatorname{Var}(X_{t-1})\\equiv\\gamma_{0}$。因此，\n$$\\gamma_{0}=\\phi^{2}\\gamma_{0}+\\sigma_{\\varepsilon}^{2} \\quad\\Rightarrow\\quad (1-\\phi^{2})\\gamma_{0}=\\sigma_{\\varepsilon}^{2} \\quad\\Rightarrow\\quad \\gamma_{0}=\\frac{\\sigma_{\\varepsilon}^{2}}{1-\\phi^{2}}。$$\n所以，\n$$\\operatorname{Var}(H_{t})=\\frac{\\sigma_{\\varepsilon}^{2}}{1-\\phi^{2}}。$$\n\n代入给定值 $\\sigma_{\\varepsilon}^{2}=0.25$ 和 $\\phi=0.3$：\n$$\\operatorname{Var}(H_{t})=\\frac{0.25}{1-0.3^{2}}=\\frac{0.25}{1-0.09}=\\frac{0.25}{0.91}=\\frac{25}{91}\\approx 0.274725\\ldots$$\n四舍五入到三位有效数字，结果为 $0.275$ 平方小时。", "answer": "$$\\boxed{0.275}$$", "id": "1283584"}, {"introduction": "自回归过程的定义特征是其对过去值的依赖性，即过程的“记忆”。本练习将通过计算一个过程在不同时间点的值之间的自相关性来探索这种记忆。通过一个高频交易算法性能的模型，你将看到自回归系数 $\\phi$ 如何直接决定这种时间依赖关系的强度和衰减方式。[@problem_id:1283539]", "problem": "高频交易算法每日业绩波动的简化模型是量化金融中的一个重要工具。令 $X_t$ 表示在第 $t$ 天，该算法的利润与其长期日均值之间的偏差。该偏差的演变过程由一个平稳的一阶自回归（AR）过程描述，也称为AR(1)模型，其方程如下：\n$$X_t = \\phi X_{t-1} + \\varepsilon_t$$\n该模型的参数定义如下：\n- 自回归系数 $\\phi = 0.80$，它衡量了利润偏差从一天到后一天的持续性。\n- 项 $\\varepsilon_t$ 代表一个白噪声过程，对应于第 $t$ 天的不可预测的市场冲击。该过程的均值为零（$E[\\varepsilon_t] = 0$），且方差为常数 $Var(\\varepsilon_t) = \\sigma^2_\\varepsilon$。\n- 噪声项在时间上不相关。此外，对于所有 $s < t$，时间 $t$ 的噪声 $\\varepsilon_t$ 与过程 $X_s$ 的所有过去值都不相关。\n- 假定过程 $X_t$ 是平稳的，这意味着其统计特性（如均值和方差）不随时间变化。\n\n基于此模型，请计算该算法在给定一天的利润偏差与其三天前的偏差之间的理论相关系数。请将答案表示为保留三位有效数字的小数。", "solution": "我们有一个平稳的AR(1)过程 $X_{t}=\\phi X_{t-1}+\\varepsilon_{t}$，其中 $E[\\varepsilon_{t}]=0$，$Var(\\varepsilon_{t})=\\sigma_{\\varepsilon}^{2}$，且对于所有 $s<t$，$\\varepsilon_{t}$与$X_{s}$不相关。对于没有截距项的平稳过程，可得 $E[X_{t}]=0$。\n\n定义自协方差函数 $\\gamma_{k}=\\operatorname{Cov}(X_{t},X_{t-k})=E[X_{t}X_{t-k}]$，其中 $k\\geq 0$。将模型方程两边同乘以 $X_{t-k}$ 然后取期望：\n$$\nE[X_{t}X_{t-k}]=E[(\\phi X_{t-1}+\\varepsilon_{t})X_{t-k}]\n=\\phi E[X_{t-1}X_{t-k}]+E[\\varepsilon_{t}X_{t-k}].\n$$\n根据给定的不相关性条件，当 $k\\geq 1$ 时 $E[\\varepsilon_{t}X_{t-k}]=0$，因此\n$$\n\\gamma_{k}=\\phi\\,\\gamma_{k-1}\\quad\\text{for }k\\geq 1.\n$$\n对该递推关系进行迭代可得\n$$\n\\gamma_{k}=\\phi^{k}\\gamma_{0}.\n$$\n自相关函数为 $\\rho_{k}=\\gamma_{k}/\\gamma_{0}$，因此对于AR(1)过程\n$$\n\\rho_{k}=\\phi^{k}.\n$$\n当滞后期为3且 $\\phi=0.80$ 时，\n$$\n\\rho_{3}=\\phi^{3}=(0.80)^{3}=0.512$$。\n保留三位有效数字，结果为 $0.512$。", "answer": "$$\\boxed{0.512}$$", "id": "1283539"}]}