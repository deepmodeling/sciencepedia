{"hands_on_practices": [{"introduction": "将真实世界的动态系统转化为数学模型，是应用连续时间马尔可夫链的第一步，也是最关键的一步。本练习将指导您如何从一个系统的状态转移描述中，构建出其核心的数学对象——生成元矩阵 $Q$。通过这个关于计算机病毒生命周期的假设性场景 [@problem_id:1352656]，您将练习如何精确地将转移速率翻译成矩阵元素，为后续的所有分析奠定基础。", "problem": "一个用于描述受感染计算机上计算机病毒生命周期的简化模型被描述为一个连续时间马尔可夫链。该病毒可处于以下三种状态之一：休眠（状态 1）、复制（状态 2）或被检测（状态 3）。\n\n状态之间的转移由以下速率决定：\n- 休眠病毒以每天 $\\lambda$ 的恒定速率变为活动状态并开始复制。\n- 复制中的病毒可能以每天 $\\mu$ 的恒定速率再次进入休眠状态，以规避简单的检测机制。\n- 活动的杀毒扫描程序以每天 $\\sigma_{R}$ 的恒定速率发现并标记一个复制中的病毒。\n- 扫描程序也可以发现休眠病毒，但其恒定速率较低，为每天 $\\sigma_{D}$。\n- 一旦病毒处于“被检测”状态，它就会被隔离，并且不能再改变其状态。\n\n你的任务是为这个连续时间马尔可夫链构建生成元矩阵（记为 $Q$）。状态应按（1：休眠，2：复制，3：被检测）的顺序排列。将矩阵 $Q$ 作为你的最终答案。", "solution": "我们将病毒的生命周期建模为一个连续时间马尔可夫链，其状态排序如下：1 为休眠，2 为复制，3 为被检测。对于一个连续时间马尔可夫链的生成元矩阵 $Q=\\{q_{ij}\\}$，当 $i\\neq j$ 时，非对角线元素 $q_{ij}$ 是从状态 $i$ 到状态 $j$ 的转移速率，而对角线元素满足 $q_{ii}=-\\sum_{j\\neq i}q_{ij}$，因此每行之和为零。\n\n根据问题描述，非零的转移速率如下：\n- 从休眠（1）到复制（2）：速率为 $\\lambda$，因此 $q_{12}=\\lambda$。\n- 从休眠（1）到被检测（3）：速率为 $\\sigma_{D}$，因此 $q_{13}=\\sigma_{D}$。\n- 从复制（2）到休眠（1）：速率为 $\\mu$，因此 $q_{21}=\\mu$。\n- 从复制（2）到被检测（3）：速率为 $\\sigma_{R}$，因此 $q_{23}=\\sigma_{R}$。\n- 被检测（3）是吸收态，因此没有从状态 3 传出的转移，这意味着 $q_{31}=0$ 且 $q_{32}=0$。\n\n对每个状态使用 $q_{ii}=-\\sum_{j\\neq i}q_{ij}$：\n- 对于状态 1：$q_{11}=-(\\lambda+\\sigma_{D})$。\n- 对于状态 2：$q_{22}=-(\\mu+\\sigma_{R})$。\n- 对于状态 3：$q_{33}=0$。\n\n因此，在指定的状态顺序下，生成元矩阵 $Q$ 为\n$$\nQ=\\begin{pmatrix}\n-(\\lambda+\\sigma_{D}) & \\lambda & \\sigma_{D} \\\\\n\\mu & -(\\mu+\\sigma_{R}) & \\sigma_{R} \\\\\n0 & 0 & 0\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}\n-(\\lambda+\\sigma_{D}) & \\lambda & \\sigma_{D} \\\\\n\\mu & -(\\mu+\\sigma_{R}) & \\sigma_{R} \\\\\n0 & 0 & 0\n\\end{pmatrix}}$$", "id": "1352656"}, {"introduction": "在建立了模型之后，我们常常关心系统的长期行为，即“从长远来看会发生什么？”。这个练习探讨了如何计算系统的稳态概率，它描述了系统在长时间运行后，处于各个状态的时间比例。通过求解一个简单的双状态服务器模型的平衡方程 [@problem_id:1352653]，您将掌握预测系统长期趋势的核心技能，这在性能评估和资源规划中至关重要。", "problem": "考虑一个单个计算机服务器的简化模型，该服务器可以处于两种状态之一：“工作”(Active)或“空闲”(Idle)。\n\n当服务器处于“工作”状态时，它正在处理一个任务。在完成任务并转换到“空闲”状态之前，它保持工作状态的时间是一个速率为 $\\lambda$ 的指数随机变量。\n\n当服务器处于“空闲”状态时，它在等待一个新任务。在新任务到达并导致其转换到“工作”状态之前，它保持空闲状态的时间是一个速率为 $\\mu$ 的指数随机变量。\n\n假设服务器已经运行了很长时间，确定其处于“工作”状态的时间比例。将您的答案表示为用 $\\lambda$ 和 $\\mu$ 表示的符号表达式。", "solution": "将服务器建模为一个双态连续时间马尔可夫链，其状态为工作 (A) 和空闲 (I)。转移速率为 $q_{A \\to I}=\\lambda$ 和 $q_{I \\to A}=\\mu$。令 $\\pi_{A}$ 和 $\\pi_{I}$ 分别表示长期来看系统处于工作和空闲状态的时间比例。\n\n在稳态下，全局平衡方程使流出每个状态的平均速率与流入该状态的平均速率相等。对于这个双态链，这简化为\n$$\n\\pi_{A}\\lambda=\\pi_{I}\\mu,\n$$\n以及归一化条件\n$$\n\\pi_{A}+\\pi_{I}=1.\n$$\n由归一化条件可得 $\\pi_{I}=1-\\pi_{A}$。将其代入平衡方程可得\n$$\n\\pi_{A}\\lambda=(1-\\pi_{A})\\mu \\;\\;\\Rightarrow\\;\\; \\pi_{A}\\lambda=\\mu-\\pi_{A}\\mu \\;\\;\\Rightarrow\\;\\; \\pi_{A}(\\lambda+\\mu)=\\mu,\n$$\n因此\n$$\n\\pi_{A}=\\frac{\\mu}{\\lambda+\\mu}.\n$$\n所以，长期来看，服务器处于工作状态的时间比例为 $\\frac{\\mu}{\\lambda+\\mu}$。\n\n等价地，根据更新理论，平均工作持续时间为 $\\frac{1}{\\lambda}$，平均空闲持续时间为 $\\frac{1}{\\mu}$，因此长期的工作时间比例为\n$$\n\\frac{\\frac{1}{\\lambda}}{\\frac{1}{\\lambda}+\\frac{1}{\\mu}}=\\frac{\\mu}{\\lambda+\\mu},\n$$\n这与马尔可夫链的结果相符。", "answer": "$$\\boxed{\\frac{\\mu}{\\lambda+\\mu}}$$", "id": "1352653"}, {"introduction": "许多系统最终会进入一个无法离开的终端状态，例如设备故障或任务完成，我们称之为“吸收态”。分析到达这些状态所需的时间对于可靠性工程和风险评估至关重要。本练习将带您计算一个系统从某个初始状态开始，到达吸收态的平均时间 [@problem_id:1292548]。通过解决这个涉及多瞬时态和一吸收态的系统，您将学会一种强大的分析工具，用于预测系统的预期寿命或平均无故障运行时间。", "problem": "高频交易系统中使用的一种专用计算单元可以被建模为处于以下三种状态之一：状态1 (`Active`)、状态2 (`Lagging`)和状态3 (`Failed`)。这些状态之间的转移遵循连续时间马尔可夫链的动态特性。\n\n- 在 `Active` 状态下，该单元以满负荷运行。\n- 在 `Lagging` 状态下，该单元的处理速度下降，但仍可运行。\n- 在 `Failed` 状态下，该单元已停止工作，需要手动重置。一旦单元进入 `Failed` 状态，它将无限期地保持在该状态。\n\n状态之间的转移率（单位：事件/小时）如下：\n- 从 `Active` 到 `Lagging` 的转移率为 $\\lambda_{12} = 2.0$。\n- 从 `Active` 到 `Failed` 的转移率为 $\\lambda_{13} = 0.1$。\n- 从 `Lagging` 到 `Active` 的转移率为 $\\lambda_{21} = 4.0$。\n- 从 `Lagging` 到 `Failed` 的转移率为 $\\lambda_{23} = 0.5$。\n\n所有其他不同状态之间的转移率均为零。如果该单元从 `Active` 状态开始，那么它进入 `Failed` 状态的期望时间是多少？\n\n答案以小时为单位，并保留三位有效数字。", "solution": "将系统建模为具有状态 $1$ (Active)、$2$ (Lagging) 和 $3$ (Failed) 的连续时间马尔可夫链，其中状态 $3$ 是吸收态。瞬时状态之间转移的生成元条目遵循 $q_{ij}=\\lambda_{ij}$ (对于 $i\\neq j$) 和 $q_{ii}=-\\sum_{j\\neq i}\\lambda_{ij}$。根据给定的转移率，\n$$\nq_{12}=2.0,\\quad q_{13}=0.1,\\quad q_{21}=4.0,\\quad q_{23}=0.5,\n$$\n可得\n$$\nq_{11}=-(2.0+0.1)=-2.1,\\quad q_{22}=-(4.0+0.5)=-4.5,\\quad q_{33}=0.\n$$\n限制在瞬时状态 $1$ 和 $2$ 内，子生成元为\n$$\nQ_{T}=\\begin{pmatrix}\n-2.1 & 2.0\\\\\n4.0 & -4.5\n\\end{pmatrix}.\n$$\n设 $t_{i}$ 为从状态 $i$ 开始到达吸收态（进入状态 $3$）的期望时间。对于连续时间马尔可夫链(CTMC)，瞬时状态的期望吸收时间满足\n$$\nQ_{T}\\begin{pmatrix}t_{1}\\\\ t_{2}\\end{pmatrix}=-\\begin{pmatrix}1\\\\ 1\\end{pmatrix}.\n$$\n因此，\n$$\n\\begin{cases}\n-2.1\\,t_{1}+2.0\\,t_{2}=-1,\\\\\n4.0\\,t_{1}-4.5\\,t_{2}=-1.\n\\end{cases}\n$$\n解此方程组。由第一个方程，\n$$\n-2.1\\,t_{1}=-1-2.0\\,t_{2}\\quad\\Rightarrow\\quad t_{1}=\\dfrac{1+2.0\\,t_{2}}{2.1}.\n$$\n代入第二个方程：\n$$\n4.0\\left(\\dfrac{1+2.0\\,t_{2}}{2.1}\\right)-4.5\\,t_{2}=-1.\n$$\n为进行精确计算，记 $2.1=\\dfrac{21}{10}$ 和 $4.5=\\dfrac{9}{2}$：\n$$\n\\dfrac{40}{21}\\left(1+2t_{2}\\right)-\\dfrac{9}{2}\\,t_{2}=-1\n\\;\\Rightarrow\\;\n\\dfrac{40}{21}+\\left(\\dfrac{80}{21}-\\dfrac{9}{2}\\right)t_{2}=-1.\n$$\n计算 $t_{2}$ 的系数：\n$$\n\\dfrac{80}{21}-\\dfrac{9}{2}=\\dfrac{160}{42}-\\dfrac{189}{42}=-\\dfrac{29}{42},\n$$\n所以\n$$\n\\dfrac{40}{21}-\\dfrac{29}{42}\\,t_{2}=-1\n\\;\\Rightarrow\\;\n-\\dfrac{29}{42}\\,t_{2}=-1-\\dfrac{40}{21}=-\\dfrac{61}{21}.\n$$\n因此，\n$$\nt_{2}=\\left(-\\dfrac{61}{21}\\right)\\left(-\\dfrac{42}{29}\\right)=\\dfrac{61}{21}\\cdot\\dfrac{42}{29}=\\dfrac{122}{29}.\n$$\n回代求 $t_{1}$：\n$$\nt_{1}=\\dfrac{1+2t_{2}}{2.1}=\\dfrac{1+\\dfrac{244}{29}}{\\dfrac{21}{10}}\n=\\dfrac{\\dfrac{273}{29}}{\\dfrac{21}{10}}=\\dfrac{273}{29}\\cdot\\dfrac{10}{21}\n=\\dfrac{130}{29}.\n$$\n由于该单元从 `Active` 状态开始，所求的期望时间是 $t_{1}=\\dfrac{130}{29} \\approx 4.48275862$ 小时，保留三位有效数字为 $4.48$ 小时。", "answer": "$$\\boxed{4.48}$$", "id": "1292548"}]}