{"hands_on_practices": [{"introduction": "在许多现实世界的系统中，初始阶段的行为与后续的稳态行为有所不同。例如，一个新网站的初始访客流量可能源于首发宣传，而后续流量则依赖于常规用户粘性。这个练习将带你模拟这种情况，通过一个延迟更新过程来建模。你将运用全期望定律和微积分直接计算在任意时间 $t$ 内网站的期望访客总数，这是理解延迟更新过程动态特性的基本功。[@problem_id:1296680]", "problem": "一个新的电子商务网站上线。在典型的一天中，用户流量被建模为一个随机过程。第一位访客到来的时间（记为 $Y_1$）服从速率参数为 $\\lambda_1$ 的指数分布。在第一位访客之后，每对后续连续访客之间的时间间隔（记为 $Y_k$，其中 $k \\ge 2$）是独立同分布的，均服从速率参数为 $\\lambda_2$ 的指数分布。这两个速率 $\\lambda_1$ 和 $\\lambda_2$ 不一定相等，这反映了初始好奇心和持续用户参与度之间可能存在的差异。\n\n设 $N(t)$ 是从网站上线时刻起，到时间 $t \\ge 0$ 时到达网站的总访客数。请确定到时间 $t$ 的期望访客数，记为 $m(t) = E[N(t)]$。将您的答案表示为关于 $t$、$\\lambda_1$ 和 $\\lambda_2$ 的单个闭式解析表达式。假设 $\\lambda_1  0$ 和 $\\lambda_2  0$。", "solution": "设到达间隔时间为 $Y_{1} \\sim \\text{Exp}(\\lambda_{1})$，且对于 $k \\geq 2$，$Y_{k} \\sim \\text{Exp}(\\lambda_{2})$ 独立同分布 (i.i.d.)，并与 $Y_{1}$ 独立。记 $S_{1}=Y_{1}$ 为首次到达的时间。对于 $t \\geq 0$，计数过程满足\n$$\nN(t)=\\begin{cases}\n0,  \\text{若 } Y_{1}t,\\\\\n1+M(t-Y_{1}),  \\text{若 } Y_{1} \\leq t,\n\\end{cases}\n$$\n其中 $M(u)$ 是在长度为 $u$ 的时间间隔内，后续到达的数量，其到达间隔时间为速率为 $\\lambda_{2}$ 的独立同分布指数分布。这是首次到达后的一个速率为 $\\lambda_{2}$ 的齐次泊松过程，因此 $E[M(u)]=\\lambda_{2} u$。根据全期望定律，\n$$\nm(t)=E[N(t)]=E\\big[E[N(t)\\mid Y_{1}]\\big]=E\\big[\\mathbf{1}_{\\{Y_{1} \\leq t\\}}\\big(1+\\lambda_{2}(t-Y_{1})\\big)\\big].\n$$\n因此，\n$$\nm(t)=P(Y_{1} \\leq t)+\\lambda_{2} E\\big[(t-Y_{1})\\mathbf{1}_{\\{Y_{1} \\leq t\\}}\\big].\n$$\n由于 $Y_{1} \\sim \\text{Exp}(\\lambda_{1})$，我们有 $P(Y_{1} \\leq t)=1-\\exp(-\\lambda_{1} t)$。对于第二项，\n$$\nE\\big[(t-Y_{1})\\mathbf{1}_{\\{Y_{1} \\leq t\\}}\\big]=\\int_{0}^{t} (t-y)\\lambda_{1}\\exp(-\\lambda_{1} y)\\,dy.\n$$\n通过分离各项来计算该积分：\n$$\n\\int_{0}^{t} (t-y)\\lambda_{1}\\exp(-\\lambda_{1} y)\\,dy\n=\\lambda_{1}\\left[t\\int_{0}^{t}\\exp(-\\lambda_{1} y)\\,dy-\\int_{0}^{t} y\\exp(-\\lambda_{1} y)\\,dy\\right].\n$$\n我们有\n$$\n\\int_{0}^{t}\\exp(-\\lambda_{1} y)\\,dy=\\frac{1-\\exp(-\\lambda_{1} t)}{\\lambda_{1}},\n$$\n并且，通过分部积分法，\n$$\n\\int_{0}^{t} y\\exp(-\\lambda_{1} y)\\,dy=-\\frac{t}{\\lambda_{1}}\\exp(-\\lambda_{1} t)+\\frac{1}{\\lambda_{1}^{2}}\\big(1-\\exp(-\\lambda_{1} t)\\big).\n$$\n代入可得\n$$\n\\int_{0}^{t} (t-y)\\lambda_{1}\\exp(-\\lambda_{1} y)\\,dy\n=t-\\frac{1-\\exp(-\\lambda_{1} t)}{\\lambda_{1}}.\n$$\n因此，\n$$\nm(t)=\\big(1-\\exp(-\\lambda_{1} t)\\big)+\\lambda_{2}\\left[t-\\frac{1-\\exp(-\\lambda_{1} t)}{\\lambda_{1}}\\right].\n$$\n化简得，\n$$\nm(t)=\\lambda_{2} t+\\left(1-\\frac{\\lambda_{2}}{\\lambda_{1}}\\right)\\big(1-\\exp(-\\lambda_{1} t)\\big).\n$$\n该表达式满足 $m(0)=0$，并且当 $\\lambda_{1}=\\lambda_{2}=\\lambda$ 时，它简化为 $m(t)=\\lambda t$，这与标准泊松过程的期望结果一致。", "answer": "$$\\boxed{\\lambda_{2} t+\\left(1-\\frac{\\lambda_{2}}{\\lambda_{1}}\\right)\\left(1-\\exp(-\\lambda_{1} t)\\right)}$$", "id": "1296680"}, {"introduction": "上一个练习计算了事件的累积期望数量，但在许多应用中，我们更关心事件发生的瞬时“速率”，即更新密度。这个练习将引导你使用一种更强大、更通用的数学工具——拉普拉斯变换——来求解延迟更新过程的更新密度函数。通过这个练习，你不仅能解决当前问题，更能掌握一种分析各种更新过程的系统性方法。[@problem_id:833006]", "problem": "考虑一个修正更新过程，也称为延迟更新过程。在此过程中，一系列事件（更新）发生在时间 $S_1, S_2, S_3, \\dots$ 处，其中 $S_n = \\sum_{i=1}^n X_i$。到达间隔时间 $X_i$ 是独立的正常数随机变量。第一个到达间隔时间 $X_1$ 来自概率密度函数为 $f_1(t)$ 的概率分布，而所有后续的到达间隔时间 $X_i$ (其中 $i \\ge 2$) 来自一个共同的概率密度函数为 $f(t)$ 的概率分布。\n\n更新密度 $m(t)$ 的定义为：$m(t)dt$ 给出在无穷小区间 $(t, t+dt]$ 内发生一次更新的概率。对于一个连续时间过程，它通过 $m(t) = \\frac{dM(t)}{dt}$ 与更新函数 $M(t) = E[N(t)]$ 相关，其中 $N(t)$ 是直到时间 $t$ 为止的更新次数。\n\n对于此特定问题，到达间隔时间服从指数分布。第一个到达间隔时间 $X_1$ 服从速率为 $\\mu$ 的指数分布，因此其概率密度函数为 $f_1(t) = \\mu e^{-\\mu t}$ (对于 $t \\ge 0$)。所有后续的到达间隔时间 $X_i$ ($i \\ge 2$) 服从速率为 $\\lambda$ 的指数分布，因此其共同的概率密度函数为 $f(t) = \\lambda e^{-\\lambda t}$ (对于 $t \\ge 0$)。假设 $\\mu, \\lambda  0$。\n\n推导此修正更新过程在 $t \\ge 0$ 时的更新密度函数 $m(t)$。", "solution": "1. 密度的拉普拉斯变换：\n   $$\n   \\mathcal L\\{f_1\\}(s)=\\int_0^\\infty \\mu e^{-\\mu t}e^{-st}dt=\\frac{\\mu}{s+\\mu},\\quad\n   \\mathcal L\\{f\\}(s)=\\frac{\\lambda}{s+\\lambda}.\n   $$\n2. 更新密度满足 \n   $$\n   m(t)=f_1(t)+\\int_0^tm(t-s)f(s)ds,\n   $$\n   所以在拉普拉斯域中\n   $$\n   M^*(s)=\\frac{\\mathcal L\\{f_1\\}(s)}{1-\\mathcal L\\{f\\}(s)}\n            =\\frac{\\frac{\\mu}{s+\\mu}}{1-\\frac{\\lambda}{s+\\lambda}}\n            =\\frac{\\mu}{s+\\mu}\\cdot\\frac{s+\\lambda}{s}\n            =\\frac{\\mu(s+\\lambda)}{s(s+\\mu)}.\n   $$\n3. 分解：\n   $$\n   \\frac{\\mu(s+\\lambda)}{s(s+\\mu)}\n   =\\frac{\\mu}{s+\\mu}+\\frac{\\mu\\lambda}{s(s+\\mu)}.\n   $$\n4. 拉普拉斯逆变换：\n   $$\n   \\mathcal L^{-1}\\!\\Big\\{\\frac{\\mu}{s+\\mu}\\Big\\}(t)=\\mu e^{-\\mu t},\\quad\n   \\mathcal L^{-1}\\!\\Big\\{\\frac{\\mu\\lambda}{s(s+\\mu)}\\Big\\}(t)\n   =\\mu\\lambda\\int_0^t e^{-\\mu(t-u)}du\n   =\\lambda\\bigl(1-e^{-\\mu t}\\bigr).\n   $$\n5. 求和得到\n   $$\n   m(t)=\\mu e^{-\\mu t}+\\lambda\\bigl(1-e^{-\\mu t}\\bigr)\n         =\\lambda+(\\mu-\\lambda)e^{-\\mu t}.\n   $$", "answer": "$$\\boxed{\\lambda+(\\mu-\\lambda)e^{-\\mu t}}$$", "id": "833006"}, {"introduction": "我们能否精心设计初始事件的等待时间，使得整个过程从一开始就进入“平衡”状态，即事件发生的平均速率恒定？这个问题引出了随机过程中的一个深刻概念：稳态更新过程。本练习将探讨如何实现这种稳态，并进一步揭示一个看似矛盾但极为重要的现象——“检验悖论”。理解这一悖论对于在工程和数据分析中避免抽样偏差至关重要。[@problem_id:1330913]", "problem": "在一个大型数据中心的管理中，一个关键服务器组件会在随机时间发生故障并立即被更换，更换后的组件与原始组件具有相同的统计寿命特性。标准组件的寿命，用随机变量 $X$ 表示，服从一个连续概率分布，其累积分布函数 (CDF) 为 $F(x)$。这些寿命是独立同分布的，具有有限的均值 $E[X] = \\mu$ 和有限的非零方差 $\\text{Var}(X) = \\sigma^2$。\n\n为了从系统启动时刻起就优化其稳定性，工程师们为安装的第一个组件提出了一种特殊的“老化”协议。这个初始组件的寿命 $X_D$ 来自一个可能不同的累积分布函数 $F_D(x)$。目标是选择 $F_D(x)$，使得系统在其故障行为中不表现出启动瞬态效应。具体来说，截至任何时间 $t$ 的组件故障期望次数，记为 $E[N_D(t)]$，必须与经过的时间 $t$ 完全成正比，遵循关系 $E[N_D(t)] = t/\\mu$ 对所有 $t \\geq 0$ 成立。\n\n假设这样的老化协议已成功实施，一位审计员在某个任意时间 $t  0$ 到达并检查该系统。你的任务是确定审计员发现的当前正在服务的那个特定组件的总工作寿命的期望值。请用 $\\mu$ 和 $\\sigma^2$ 将你的答案表示为单个闭式解析表达式。", "solution": "设 $\\{X_{n}\\}_{n\\geq 1}$ 为独立同分布 (i.i.d.) 的寿命，其累积分布函数为 $F$，均值为 $E[X]=\\mu$，方差为 $\\text{Var}(X)=\\sigma^{2}$。设 $X_{D}$ 为初始寿命，其累积分布函数为 $F_{D}$。根据假设，延迟更新过程的计数过程 $N_{D}(t)$ 满足 $E[N_{D}(t)]=t/\\mu$ 对所有 $t\\geq 0$ 成立。这是速率为 $1/\\mu$ 的平稳（均衡）更新过程的定义性属性，这是通过选择初始寿命服从均衡（平稳超额）定律来实现的。因此，该过程从时间 $0$ 开始就是平稳的，并且任何固定时间 $t0$ 相对于平稳测度都是一个典型时间。\n\n设 $T$ 表示在任意时间 $t0$ 正在服务的组件的总寿命。在一个平稳更新过程中，观测时间落入一个长度在 Borel 集 $B\\subset(0,\\infty)$ 内的周期的概率，等于在此类周期中所花费时间的长期比例。根据更新回报定理，当回报为 $R_{n}=\\mathbf{1}\\{X_{n}\\in B\\}$ 且周期长度为 $X_{n}$ 时，长期时间平均比例为\n$$\n\\frac{E[X\\,\\mathbf{1}\\{X\\in B\\}]}{E[X]}=\\frac{E[X\\,\\mathbf{1}\\{X\\in B\\}]}{\\mu}.\n$$\n因此，当 $F$ 具有密度函数 $f$ 时， $T$ 服从尺寸偏差分布，其密度函数为 $f_{T}(x)=x f(x)/\\mu$。其均值为\n$$\nE[T]=\\frac{E[X^{2}]}{\\mu}.\n$$\n使用 $E[X^{2}]=\\text{Var}(X)+(E[X])^{2}=\\sigma^{2}+\\mu^{2}$，我们得到\n$$\nE[T]=\\frac{\\sigma^{2}+\\mu^{2}}{\\mu}=\\mu+\\frac{\\sigma^{2}}{\\mu}.\n$$\n因为该过程从时间 $0$ 开始就是平稳的，所以这个期望值不依赖于审计员的到达时间 $t0$。", "answer": "$$\\boxed{\\mu+\\frac{\\sigma^{2}}{\\mu}}$$", "id": "1330913"}]}