{"hands_on_practices": [{"introduction": "在许多现实世界的系统中，我们关心的是其长期平均表现，例如制造业中的平均利润或成本。这个问题 [@problem_id:1331065] 将更新回报过程置于一个生产与质量控制的实际情境中。通过将生产过程分解为一个个“周期”（从开始生产到一个次品出现），我们可以运用更新回报定理来计算每件产品的长期平均利润。这个练习是一个理想的起点，它清楚地展示了如何识别周期和计算相关的期望回报与期望周期长度。", "problem": "一家工厂生产一种特殊电子元件的生产线是全自动化的。质量控制系统确定，任何一个元件存在缺陷的概率为一个恒定且独立的常数 $p$。生产线按周期运行。一个新周期从制造一个元件开始，生产顺序进行，直到制造出一个有缺陷的元件为止。检测到有缺陷的元件会立即结束当前周期，并开始一个新周期。\n\n对于每个生产的无缺陷元件，公司获得收入 $c_r$。生产任何元件，无论是否有缺陷，都会产生制造成本 $c_p$。此外，每个结束一个周期的缺陷元件会产生额外的成本 $c_d$，用于其处置和为下一个周期重置生产设备。\n\n推导每个生产的元件的长期平均利润的封闭式表达式。你的答案应以参数 $p$、$c_r$、$c_p$ 和 $c_d$ 表示。", "solution": "设 $p$ 为任何给定元件有缺陷的概率，且各元件之间相互独立。我们按周期来考虑这个过程，每个周期由一系列无缺陷的元件和最后一个结束该周期的缺陷元件组成。\n\n定义 $X$ 为一个周期中，在出现缺陷元件之前生产的无缺陷元件的数量。那么 $X$ 服从参数为 $p$ 的几何分布，其取值范围为 $\\{0,1,2,\\ldots\\}$：\n$$\n\\mathbb{P}(X=k)=(1-p)^{k}p.\n$$\n因此，\n$$\n\\mathbb{E}[X]=\\frac{1-p}{p}.\n$$\n一个周期内生产的元件总数为 $N=X+1$，所以\n$$\n\\mathbb{E}[N]=\\mathbb{E}[X]+1=\\frac{1}{p}.\n$$\n\n单个周期内的利润核算：\n- 每个无缺陷的元件产生收入 $c_r$ 并产生生产成本 $c_p$，每个此类元件贡献利润 $c_r-c_p$。\n- 最后的缺陷元件不产生收入，但产生生产成本 $c_p$，并额外产生处置/重置成本 $c_d$。\n\n因此，每个周期的利润，记为 $R$，是\n$R = X(c_r-c_p) - c_p - c_d$。\n取期望值，\n$$\n\\mathbb{E}[R]=\\mathbb{E}[X](c_r-c_p) - c_p - c_d = \\frac{1-p}{p}(c_r-c_p) - c_p - c_d.\n$$\n\n根据更新回报定理 (renewal-reward theorem)，每个生产元件的长期平均利润等于每个周期的期望利润除以每个周期的期望元件数：\n$$\n\\frac{\\mathbb{E}[R]}{\\mathbb{E}[N]} = \\frac{\\frac{1-p}{p}(c_r-c_p) - c_p - c_d}{\\frac{1}{p}} = (1-p)(c_r-c_p) - p c_p - p c_d.\n$$\n化简得，\n$(1-p)c_r - (1-p)c_p - p c_p - p c_d = (1-p)c_r - c_p - p c_d$。\n\n因此，每个生产元件的长期平均利润的封闭式表达式为\n$$\n(1-p)c_r - c_p - p c_d.\n$$", "answer": "$$\\boxed{(1-p)c_r-c_p-p c_d}$$", "id": "1331065"}, {"introduction": "在工程和运营管理中，一个核心问题是如何平衡预防性维护的成本与设备意外故障的成本。这个问题 [@problem_id:1331054] 引入了一个经典的年龄替换策略模型，其中一个更新周期可能由两种不同的事件之一终结：计划内维护或计划外故障。这个练习不仅能帮助你掌握如何处理具有竞争性风险的更新过程，还能让你通过具体的数值计算，切身体会到理论在实际成本效益分析中的强大应用价值。", "problem": "一家公司运行着一台关键设备。为了最大限度地减少意外故障，在固定的 $T$ 个运行小时后会安排一次预防性维护。然而，机器仍可能在这次计划维护之前发生故障。随机故障发生前的时间，由随机变量 $X$ 表示，服从速率参数为 $\\lambda$ 的指数分布。\n\n每当机器因故障或计划维护而接受服务时，它都会被恢复到“完好如新”的状态，并开始一个新的运行周期。一次预防性维护的成本是 $C_p$。如果机器在计划维护前发生故障，则需要进行更昂贵的大修，成本为 $C_b$。\n\n给定以下参数：\n- 计划维护时间，$T = 500$ 小时\n- 故障率，$\\lambda = \\frac{1}{800}$ 每小时\n- 预防性维护成本，$C_p = \\$150$\n- 故障维修成本，$C_b = \\$1000$\n\n计算运行该机器的长期平均每小时成本。将您的答案以美元/小时为单位表示，并四舍五入到四位有效数字。", "solution": "将每个运行周期建模为运行一个随机时间 $Y=\\min\\{X,T\\}$，其中 $X\\sim \\text{Exponential}(\\lambda)$ 是故障发生前的时间，$T$ 是计划的维护时间。在每个周期结束时，如果 $X\\geq T$（预防性维护），产生的成本为 $C_{p}$；如果 $X<T$（故障维修），产生的成本为 $C_{b}$。根据更新回报定理 (renewal-reward theorem)，长期平均每小时成本等于每个周期的期望成本除以期望周期长度。\n\n对于指数寿命，其生存函数为 $P(X>t)=\\exp(-\\lambda t)$。因此，\n$$\nP(X\\geq T)=\\exp(-\\lambda T), \\quad P(X<T)=1-\\exp(-\\lambda T).\n$$\n期望周期成本为\n$$\n\\mathbb{E}[C]=C_{p}\\,P(X\\geq T)+C_{b}\\,P(X<T)=C_{p}\\exp(-\\lambda T)+C_{b}\\left(1-\\exp(-\\lambda T)\\right).\n$$\n期望周期长度为\n$$\n\\mathbb{E}[Y]=\\mathbb{E}[\\min\\{X,T\\}]=\\int_{0}^{T}P(X>t)\\,dt=\\int_{0}^{T}\\exp(-\\lambda t)\\,dt=\\frac{1-\\exp(-\\lambda T)}{\\lambda}.\n$$\n因此，长期平均成本率为\n$$\n\\frac{\\mathbb{E}[C]}{\\mathbb{E}[Y]}=\\frac{C_{p}\\exp(-\\lambda T)+C_{b}\\left(1-\\exp(-\\lambda T)\\right)}{\\left(1-\\exp(-\\lambda T)\\right)/\\lambda}\n=\\lambda\\,\\frac{C_{b}+\\left(C_{p}-C_{b}\\right)\\exp(-\\lambda T)}{1-\\exp(-\\lambda T)}.\n$$\n\n代入给定值 $T=500$, $\\lambda=\\frac{1}{800}$, $C_{p}=150$, $C_{b}=1000$。首先计算\n$$\n\\exp(-\\lambda T)=\\exp\\!\\left(-\\frac{500}{800}\\right)=\\exp(-0.625)\\approx 0.5352614285,\n$$\n所以\n$$\n1-\\exp(-\\lambda T)\\approx 0.4647385715.\n$$\n那么\n$$\n\\mathbb{E}[C]=150\\cdot 0.5352614285+1000\\cdot 0.4647385715\\approx 545.027785775,\n$$\n以及\n$$\n\\mathbb{E}[Y]=\\frac{0.4647385715}{1/800}\\approx 371.7908572.\n$$\n因此，长期平均每小时成本为\n$$\n\\frac{545.027785775}{371.7908572}\\approx 1.46595\\ \\text{dollars per hour}.\n$$\n四舍五入到四位有效数字，结果为 $1.466$ 美元/小时。", "answer": "$$\\boxed{1.466}$$", "id": "1331054"}, {"introduction": "更新回报过程的魅力在于其广泛的适用性，远不止于商业和工程领域。这个问题 [@problem_id:1331032] 通过一个简化的生物学模型，探讨了一个细胞谱系的长期平均能量消耗率，其中回报（能量消耗）是在整个生命周期中持续累积的。这个练习展示了如何处理那些回报并非单个数值，而是需要通过对一个随时间变化的速率函数进行积分来确定的情况。它不仅加深了你对计算复杂回报期望值的理解，也揭示了随机过程在跨学科研究中的应用潜力。", "problem": "考虑一个单细胞生物谱系的能量消耗简化模型。每个生物体自诞生起，存活一段随机时长后进行分裂。我们将此分裂序列建模为一个更新过程。任何给定生物体的寿命 $T$ 都是一个独立随机变量，服从平均寿命为 $\\tau$ 的指数分布。\n\n在其整个生命周期中，一个生物体从其环境中消耗能量。能量消耗的速率不是恒定的；它随生物体年龄的增长而增加。具体来说，一个已存活时间 $s$ 的生物体的瞬时能耗速率由 $g(s) = k \\cdot s$ 给出，其中 $k$ 是一个代表代谢加速度的正常数。\n\n假设该过程已持续很长时间，此生物谱系的长期平均能耗速率是多少？您的答案应为一个以参数 $\\tau$ 和 $k$ 表示的符号表达式。", "solution": "我们将相继的生命周期建模为独立同分布 (i.i.d.) 的循环周期 $\\{T_{n}\\}$，其中 $T$ 服从均值为 $\\tau$ 的指数分布 ($T \\sim \\text{Exponential}$)。年龄为 $s$ 时的瞬时能耗速率为 $g(s)=k s$。在一个生命周期（循环）内，消耗的总能量即为回报 (reward)\n$$\nR=\\int_{0}^{T} g(s)\\,ds=\\int_{0}^{T} k s\\,ds=\\frac{k}{2}T^{2}.\n$$\n根据更新回报定理 (renewal-reward theorem)，长期平均能耗速率等于每个循环的期望回报除以期望循环周期：\n$$\n\\text{长期平均速率}=\\frac{\\mathbb{E}[R]}{\\mathbb{E}[T]}=\\frac{\\frac{k}{2}\\mathbb{E}[T^{2}]}{\\mathbb{E}[T]}.\n$$\n对于均值为 $\\tau$ 的指数随机变量 $T$，其概率密度函数为 $f_{T}(t)=\\frac{1}{\\tau}\\exp\\!\\left(-\\frac{t}{\\tau}\\right)$（对于 $t\\ge 0$）。于是\n$$\n\\mathbb{E}[T^{2}]=\\int_{0}^{\\infty} t^{2} f_{T}(t)\\,dt=\\frac{1}{\\tau}\\int_{0}^{\\infty} t^{2}\\exp\\!\\left(-\\frac{t}{\\tau}\\right) dt.\n$$\n作变量代换 $u=\\frac{t}{\\tau}$，$dt=\\tau\\,du$，可得\n$$\n\\mathbb{E}[T^{2}]=\\frac{1}{\\tau}\\int_{0}^{\\infty} (\\tau u)^{2}\\exp(-u)\\,\\tau\\,du=\\tau^{2}\\int_{0}^{\\infty} u^{2}\\exp(-u)\\,du=\\tau^{2}\\cdot 2=2\\tau^{2}.\n$$\n因此\n$$\n\\mathbb{E}[R]=\\frac{k}{2}\\mathbb{E}[T^{2}]=\\frac{k}{2}\\cdot 2\\tau^{2}=k\\tau^{2},\\qquad \\mathbb{E}[T]=\\tau,\n$$\n则长期平均速率为\n$$\n\\frac{\\mathbb{E}[R]}{\\mathbb{E}[T]}=\\frac{k\\tau^{2}}{\\tau}=k\\tau.\n$$", "answer": "$$\\boxed{k\\tau}$$", "id": "1331032"}]}