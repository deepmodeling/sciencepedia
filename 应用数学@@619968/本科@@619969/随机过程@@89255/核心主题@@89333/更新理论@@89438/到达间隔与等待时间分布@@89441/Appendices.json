{"hands_on_practices": [{"introduction": "在许多现实世界的随机过程中，我们关心的不是在固定次数的试验中会发生多少次成功，而是在第 $r$ 次成功发生之前需要进行多少次试验。这个练习将帮助你掌握负二项分布的核心思想，它在可靠性工程、排队论和生物学中都有广泛应用。通过计算在第十次请求时刚好观察到第二个高优先级请求的概率，你将深入理解如何在离散事件序列中为等待时间建模。[@problem_id:1309338]", "problem": "大型数据中心的一台服务器处理连续的用户请求流。大部分请求是标准请求，但一小部分是需要特殊处理的“高优先级”请求。每个传入的请求被独立地分类为高优先级，其概率为常数 $p$，其中 $0 < p < 1$。\n\n一位工程师开始监控请求流。求该工程师观察到的第二个高优先级请求恰好是监控开始后到达服务器的第十个请求的概率。请用含 $p$ 的符号表达式表示你的答案。", "solution": "将请求的到达建模为独立的伯努利试验，其中成功（高优先级）的概率为 $p$。第二个高优先级请求恰好在第十个请求时发生的事件需要满足两个条件：\n1) 在前九个请求中，恰好有一个是高优先级请求。\n2) 第十个请求是高优先级请求。\n\n根据独立性，所求概率是这两个概率的乘积。\n\n在前九个请求中恰好有一个高优先级请求的概率是\n$$\n\\binom{9}{1} p^{1} (1-p)^{9-1}=\\binom{9}{1} p (1-p)^{8}.\n$$\n第十个请求是高优先级请求的概率是\n$$\np.\n$$\n将两者相乘，所求的概率是\n$$\n\\binom{9}{1} p (1-p)^{8} \\cdot p=\\binom{9}{1} p^{2} (1-p)^{8}.\n$$\n等价地，使用负二项分布的形式来表示第 $r$ 次成功发生的时间，\n$$\n\\Pr(T=10)=\\binom{10-1}{2-1} p^{2} (1-p)^{10-2}=\\binom{9}{1} p^{2} (1-p)^{8}.\n$$", "answer": "$$\\boxed{\\binom{9}{1}p^{2}(1-p)^{8}}$$", "id": "1309338"}, {"introduction": "泊松过程是描述在连续时间（或空间）内随机发生的事件的强大模型，但其内在属性有时可能违反直觉。这个练习揭示了一个泊松过程的关键特性：在已知一个时间区间内发生了固定数量的事件时，这些事件的发生时间点实际上是均匀分布的。计算在已知发生了四个事件的情况下第二个事件的期望到达时间，将让你亲身体验并应用这一重要理论。[@problem_id:1309329]", "problem": "一款新发布的软件应用程序收到的错误报告，其到达过程是一个齐次泊松过程。在其发布的第一周内，即时间区间从 $t=0$ 到 $t=7$ 天，观测到恰好报告了四个不同的错误。设 $T_1, T_2, T_3, T_4$ 为随机变量，代表这四个错误被报告的有序时间（以天为单位），使得 $0 \\le T_1 < T_2 < T_3 < T_4 \\le 7$。\n\n计算第二个错误报告的期望时间，$E[T_2]$。\n\n答案以天为单位表示，并保留三位有效数字。", "solution": "设 $N(t)$ 是一个率为 $\\lambda$ 的齐次泊松过程。在条件 $N(7)=4$ 下，有序到达时间 $(T_{1},T_{2},T_{3},T_{4})$ 的分布与 4 个独立的 $\\operatorname{Uniform}(0,7)$ 随机变量的顺序统计量的分布相同。在单纯形 $0 \\le T_{1} < T_{2} < T_{3} < T_{4} \\le 7$ 上的联合条件密度为\n$$\nf_{T_{1},\\dots,T_{4}\\mid N(7)=4}(t_{1},\\dots,t_{4})=\\frac{4!}{7^{4}} \\quad \\text{for } 0 \\le t_{1} < \\cdots < t_{4} \\le 7.\n$$\n对于来自 $n=4$ 个 $\\operatorname{Uniform}(0,7)$ 分布样本的第 $k$ 个顺序统计量，已知\n$$\n\\frac{T_{k}}{7} \\sim \\operatorname{Beta}(k, n+1-k),\n$$\n所以\n$$\nE\\!\\left[\\frac{T_{k}}{7}\\right]=\\frac{k}{n+1} \\quad \\Rightarrow \\quad E[T_{k}]=\\frac{k}{n+1}\\cdot 7.\n$$\n代入 $k=2$ 和 $n=4$ 得到\n$$\nE[T_{2}]=\\frac{2}{5}\\cdot 7=\\frac{14}{5}=2.8.\n$$\n保留三位有效数字，得到 $2.80$ 天。", "answer": "$$\\boxed{2.80}$$", "id": "1309329"}, {"introduction": "在科学实验和系统监控中，我们常常需要基于已经观测到的条件来更新我们的预测。这个练习将挑战你计算一个条件期望值，即在泊松过程中，已知在某个时间段内发生了多于一个事件的情况下，第一个事件的期望到达时间。这个问题不仅融合了泊松过程的性质和均匀分布的次序统计量，还要求你熟练运用全期望定律，是提升你综合解决问题能力的绝佳实践。[@problem_id:1309347]", "problem": "在一个粒子物理实验中，设置了一个探测器来记录宇宙射线μ子的到达。这些到达事件被建模为一个齐次泊松过程，其单位时间内的平均到达率为常数$\\lambda$。探测器的运行时间为固定的时长$T$。一次实验运行若要被视为有效，探测器必须记录到多于一次的μ子到达。已知一次运行有效，求第一次μ子到达的期望时间。\n\n答案需以参数$\\lambda$和$T$的单个闭式解析表达式的形式给出。", "solution": "设$N(t)$是速率为$\\lambda$的齐次泊松过程。在固定的时间窗口$[0,T]$内，有效运行的事件为$V=\\{N(T)\\geq 2\\}$。设$S_{1}$表示在$[0,T]$内的第一次到达时间。我们要求解$\\mathbb{E}[S_{1}\\mid V]$。\n\n以$N(T)=n$为条件。泊松过程的一个标准性质是，在给定$N(T)=n$的条件下，这$n$个到达时间是$n$个独立同分布于$\\mathrm{Uniform}(0,T)$的随机变量的顺序统计量。因此，$S_{1}$是$n$个独立同分布于$\\mathrm{Uniform}(0,T)$的随机变量的最小值。对于$n\\geq 1$，\n$$\n\\mathbb{P}(S_{1}>s\\mid N(T)=n)=\\mathbb{P}(\\text{所有 }n\\text{ 个值都大于 }s) = \\left(1-\\frac{s}{T}\\right)^{n},\\quad 0\\leq s\\leq T,\n$$\n所以\n$$\n\\mathbb{E}[S_{1}\\mid N(T)=n]=\\int_{0}^{T}\\mathbb{P}(S_{1}>s\\mid N(T)=n)\\,ds\n=\\int_{0}^{T}\\left(1-\\frac{s}{T}\\right)^{n}ds\n= T\\int_{0}^{1}u^{n}du=\\frac{T}{n+1}.\n$$\n\n根据全期望定律，\n$$\n\\mathbb{E}[S_{1}\\mid V]=\\sum_{n=2}^{\\infty}\\mathbb{E}[S_{1}\\mid N(T)=n]\\ \\mathbb{P}(N(T)=n\\mid V)\n=\\frac{T}{\\mathbb{P}(V)}\\sum_{n=2}^{\\infty}\\frac{\\mathbb{P}(N(T)=n)}{n+1}.\n$$\n令$\\mu=\\lambda T$，则$\\mathbb{P}(N(T)=n)=\\exp(-\\mu)\\mu^{n}/n!$ 且 $\\mathbb{P}(V)=1-\\exp(-\\mu)(1+\\mu)$。于是，分子中的求和项为\n$$\n\\sum_{n=2}^{\\infty}\\frac{\\exp(-\\mu)\\mu^{n}}{n!(n+1)}\n=\\exp(-\\mu)\\sum_{n=2}^{\\infty}\\frac{\\mu^{n}}{n!}\\int_{0}^{1}x^{n}dx\n=\\exp(-\\mu)\\int_{0}^{1}\\sum_{n=2}^{\\infty}\\frac{(\\mu x)^{n}}{n!}\\,dx.\n$$\n计算该级数，\n$$\n\\sum_{n=2}^{\\infty}\\frac{(\\mu x)^{n}}{n!}=\\exp(\\mu x)-1-\\mu x,\n$$\n所以\n$$\n\\sum_{n=2}^{\\infty}\\frac{\\exp(-\\mu)\\mu^{n}}{n!(n+1)}\n=\\exp(-\\mu)\\int_{0}^{1}\\bigl(\\exp(\\mu x)-1-\\mu x\\bigr)\\,dx\n=\\exp(-\\mu)\\left(\\frac{\\exp(\\mu)-1}{\\mu}-1-\\frac{\\mu}{2}\\right).\n$$\n该式可化简为\n$$\n\\sum_{n=2}^{\\infty}\\frac{\\exp(-\\mu)\\mu^{n}}{n!(n+1)}\n=\\frac{1-\\exp(-\\mu)\\left(1+\\mu+\\frac{\\mu^{2}}{2}\\right)}{\\mu}.\n$$\n因此，\n$$\n\\mathbb{E}[S_{1}\\mid V]\n=\\frac{T}{1-\\exp(-\\mu)(1+\\mu)}\\cdot\\frac{1-\\exp(-\\mu)\\left(1+\\mu+\\frac{\\mu^{2}}{2}\\right)}{\\mu}.\n$$\n代入$\\mu=\\lambda T$并利用$T/\\mu=1/\\lambda$进行化简，\n$$\n\\mathbb{E}[S_{1}\\mid N(T)>1]\n=\\frac{1}{\\lambda}\\cdot\\frac{1-\\exp(-\\lambda T)\\left(1+\\lambda T+\\frac{(\\lambda T)^{2}}{2}\\right)}{1-\\exp(-\\lambda T)\\left(1+\\lambda T\\right)}.\n$$\n\n作为检验：当$T\\to\\infty$时，条件的影响可以忽略不计，表达式趋向于$1/\\lambda$。对于较小的$T$，表达式趋向于$T/3$，这与在$[0,T]$上两个均匀分布随机变量的最小值的期望相符。", "answer": "$$\\boxed{\\frac{1}{\\lambda}\\cdot\\frac{1-\\exp(-\\lambda T)\\left(1+\\lambda T+\\frac{(\\lambda T)^{2}}{2}\\right)}{1-\\exp(-\\lambda T)\\left(1+\\lambda T\\right)}}$$", "id": "1309347"}]}