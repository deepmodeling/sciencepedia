{"hands_on_practices": [{"introduction": "让我们通过一个熟悉的场景——交通信号灯——来开始我们的实践。这个练习将再生过程的核心思想应用于一个具有确定性、重复周期的系统。通过分析单个周期内的事件，我们可以精确地计算出系统的长期平均行为，例如到达的车辆在红灯期间所占的比例。这个问题是应用更新回报定理的一个经典而直观的例子。[@problem_id:1330171]", "problem": "一个单车道交叉口的交通信号灯按照一个固定的序列循环：绿灯、黄灯，然后是红灯。这些相位的持续时间是确定的，绿灯为 $T_G$，黄灯为 $T_Y$，红灯为 $T_R$。到达交叉口停车线的车辆被建模为一个非齐次泊松过程。到达率在特定时段内是恒定的，但会根据信号灯的变化而改变。具体来说，绿灯相位期间的到达率为 $\\lambda_G$，而在黄灯和红灯相位期间，到达率为另一个不同的值 $\\lambda_{YR}$。假设系统已经运行了很长时间，达到了一个稳态。\n\n确定在交通信号灯为红灯时到达停车线的车辆的长期比例。请用给定的参数 $T_G$、$T_Y$、$T_R$、$\\lambda_G$ 和 $\\lambda_{YR}$ 将您的答案表示为一个闭式解析表达式。", "solution": "交通信号灯有一个确定的、重复的周期，总周期为 $T=T_{G}+T_{Y}+T_{R}$。车辆到达形成一个非齐次泊松过程，其分段恒定的到达率与信号相位相关：绿灯期间为 $\\lambda_{G}$，黄灯和红灯期间为 $\\lambda_{YR}$。\n\n对于一个速率函数为 $\\lambda(t)$ 的非齐次泊松过程，任何时间区间内的期望到达数量等于该区间上速率的积分。在一个周期内，红灯相位期间的期望到达数量为\n$$\n\\mathbb{E}[N_{\\text{red per cycle}}]=\\lambda_{YR}\\,T_{R}.\n$$\n整个周期内的总期望到达数量为\n$$\n\\mathbb{E}[N_{\\text{total per cycle}}]=\\lambda_{G}\\,T_{G}+\\lambda_{YR}\\,(T_{Y}+T_{R}).\n$$\n根据更新回报定理（或等价地，对于处于稳态的周期性非齐次泊松过程，通过计算每个周期内期望计数的比率），红灯期间到达车辆的长期比例等于每个周期内红灯期间的期望到达数量与每个周期内总期望到达数量的比值。因此，\n$$\np_{\\text{red}}=\\frac{\\mathbb{E}[N_{\\text{red per cycle}}]}{\\mathbb{E}[N_{\\text{total per cycle}}]}=\\frac{\\lambda_{YR}\\,T_{R}}{\\lambda_{G}\\,T_{G}+\\lambda_{YR}\\,(T_{Y}+T_{R})}.\n$$\n这是一个用 $T_{G}$、$T_{Y}$、$T_{R}$、$\\lambda_{G}$ 和 $\\lambda_{YR}$ 表示的闭式表达式。", "answer": "$$\\boxed{\\frac{\\lambda_{YR}\\,T_{R}}{\\lambda_{G}\\,T_{G}+\\lambda_{YR}\\,(T_{Y}+T_{R})}}$$", "id": "1330171"}, {"introduction": "现在，我们转向一个更动态的场景：一个由单个技术员维护多个设备的系统。这类问题在可靠性工程和运营管理中非常常见，其特点是系统的状态（例如，故障设备的数量）随时间随机演变。通过将系统建模为连续时间马尔可夫链，我们可以利用稳态分析来确定如“技术员有多忙”这样的长期性能指标。这个问题展示了再生过程理论如何与马尔可夫过程相结合，为分析具有随机周期长度的系统提供了强有力的工具。[@problem_id:1330201]", "problem": "一个小数据中心运行着两台相同的关键服务器。一名技术人员负责它们的维护。每台服务器在运行时独立工作，其故障时间服从速率为 $\\lambda$ 的指数分布。这意味着服务器在微小时间间隔 $dt$ 内发生故障的概率为 $\\lambda dt$。\n\n当一台服务器发生故障时，技术人员会立即开始修理，除非他们已经在修理另一台服务器。如果第二台服务器发生故障时技术人员正忙，那么新发生故障的服务器必须排队等待修理。技术人员完成单次修理所需的时间服从速率为 $\\mu$ 的指数分布。技术人员一次只能修理一台服务器。修理好的服务器会立即重新投入使用，其行为与新服务器无异。\n\n假设系统已经运行了很长时间，确定技术人员处于忙碌状态的长期时间比例。请用包含 $\\lambda$ 和 $\\mu$ 的符号表达式来表示你的答案。", "solution": "将该系统建构成一个连续时间马尔可夫链，其状态表示系统中发生故障的服务器数量，包括正在修理或等待修理的服务器。设状态为 $n \\in \\{0,1,2\\}$，其中 $n$ 是发生故障的服务器数量。由于故障和修理时间均服从指数分布，该过程是无记忆的，状态过程是一个生灭链。\n\n转移（生灭）速率如下：\n- 从 $n$ 到 $n+1$（发生一次故障）的速率为 $\\lambda_{n} = (2-n)\\lambda$（对于 $n=0,1$），因为有 $2-n$ 台正在运行的服务器，每台都以速率 $\\lambda$ 独立地发生故障。\n- 从 $n$ 到 $n-1$（完成一次修理）的速率为 $\\mu_{n} = \\mu$（对于 $n=1,2$），因为当至少有一台服务器发生故障时，单个技术人员以速率 $\\mu$ 进行修理。\n\n设平稳概率为 $\\pi_{0}, \\pi_{1}, \\pi_{2}$。对于生灭链，细致平衡条件（在此有限不可约链中等价于全局平衡条件）给出：\n$$\n\\pi_{0}\\,(2\\lambda) = \\pi_{1}\\,\\mu, \\quad \\pi_{1}\\,\\lambda = \\pi_{2}\\,\\mu.\n$$\n求解这些方程可得：\n$$\n\\pi_{1} = \\pi_{0}\\,\\frac{2\\lambda}{\\mu}, \\quad \\pi_{2} = \\pi_{1}\\,\\frac{\\lambda}{\\mu} = \\pi_{0}\\,\\frac{2\\lambda^{2}}{\\mu^{2}}.\n$$\n归一化条件 $\\pi_{0}+\\pi_{1}+\\pi_{2}=1$ 给出：\n$$\n\\pi_{0}\\left(1+\\frac{2\\lambda}{\\mu}+\\frac{2\\lambda^{2}}{\\mu^{2}}\\right)=1\n\\;\\;\\Longrightarrow\\;\\;\n\\pi_{0}=\\frac{1}{1+\\frac{2\\lambda}{\\mu}+\\frac{2\\lambda^{2}}{\\mu^{2}}}.\n$$\n当至少有一台服务器发生故障时，即在状态 $1$ 或 $2$ 时，技术人员处于忙碌状态。因此，技术人员处于忙碌状态的长期时间比例为：\n$$\n\\pi_{1}+\\pi_{2} = 1-\\pi_{0} = \\frac{\\frac{2\\lambda}{\\mu}+\\frac{2\\lambda^{2}}{\\mu^{2}}}{1+\\frac{2\\lambda}{\\mu}+\\frac{2\\lambda^{2}}{\\mu^{2}}}\n= \\frac{2\\lambda\\mu+2\\lambda^{2}}{\\mu^{2}+2\\lambda\\mu+2\\lambda^{2}}.\n$$", "answer": "$$\\boxed{\\frac{2\\lambda\\mu+2\\lambda^{2}}{\\mu^{2}+2\\lambda\\mu+2\\lambda^{2}}}$$", "id": "1330201"}, {"introduction": "在最后一个练习中，我们将探讨再生过程在金融和保险风险管理中的高级应用。我们使用一个带漂移的布朗运动来模拟保险公司的资本盈余，这是一个连续状态随机过程。与计算长期平均值不同，这里的目标是评估一个特定周期内发生风险事件（资本降至危险水平）的概率。这个问题说明了再生框架的灵活性，它不仅能分析“平均”行为，还能通过求解微分方程来量化周期内的风险。[@problem_id:1330155]", "problem": "一家保险公司使用一种称为带扩散的 Cramér-Lundberg 模型的扩散近似来为其盈余建模。该公司在时间 $t$ 的盈余，记为 $S(t)$，遵循随机过程 $S(t) = S(0) + \\mu t + \\sigma B(t)$，其中 $B(t)$ 是一个标准布朗运动。常数 $\\mu  0$ 代表平均净保费率（收取的保费减去预期的理赔支付），而 $\\sigma  0$ 是盈余的波动率参数。\n\n该公司采用一种基于更新过程的股息策略。一个周期始于盈余水平为 $u$。该过程持续演化，直到盈余首次达到一个上边界 $U$，其中 $U  u$。此时，公司支付一笔股息，盈余瞬间重置到水平 $u$，这标志着当前周期的结束和下一个全新的、相同周期的开始。\n\n监管机构的一个主要担忧是公司盈余降至过低水平的风险。定义一个“困境水平”为盈余值 $z$，其中 $0  z  u$。我们关心的是在一个标准运营周期内进入此困境状态的风险。\n\n假设参数 $U, u, z, \\mu,$ 和 $\\sigma$ 均为正常数，请确定在一个从盈余水平 $u$ 开始、到盈余首次达到 $U$ 结束的单周期内，盈余 $S(t)$ 会在某个时刻降至或低于困境水平 $z$ 的概率。请用给定参数将您的答案表示为一个闭式解析表达式。", "solution": "令 $\\tau_{z}=\\inf\\{t\\geq 0:S(t)=z\\}$ 且 $\\tau_{U}=\\inf\\{t\\geq 0:S(t)=U\\}$。一个单周期从 $S(0)=u$ 开始，在时间 $\\tau_{U}$ 结束。因为 $S(t)$ 具有连续路径，所以“在达到 $U$ 之前降至或低于 $z$”的事件恰好是 $\\{\\tau_{z}\\tau_{U}\\}$。我们要求解 $p(u)=\\mathbb{P}_{u}(\\tau_{z}\\tau_{U})$。\n\n对于扩散过程 $dS(t)=\\mu\\,dt+\\sigma\\,dB(t)$，其生成元为 $\\mathcal{L}f(x)=\\mu f'(x)+\\frac{1}{2}\\sigma^{2}f''(x)$。函数 $p(x)=\\mathbb{P}_{x}(\\tau_{z}\\tau_{U})$ 满足以下边值问题\n$$\n\\mu p'(x)+\\frac{1}{2}\\sigma^{2}p''(x)=0\\quad\\text{for }x\\in(z,U),\\qquad p(z)=1,\\quad p(U)=0.\n$$\n通过令 $\\kappa=\\frac{2\\mu}{\\sigma^{2}}$ 求解该常微分方程。则\n$$\np''(x)+\\kappa\\,p'(x)=0.\n$$\n令 $q(x)=p'(x)$。则 $q'(x)+\\kappa q(x)=0$，因此对于某个常数 $C$，有 $q(x)=C\\exp(-\\kappa x)$。积分可得，\n$$\np(x)=-\\frac{C}{\\kappa}\\exp(-\\kappa x)+D,\n$$\n其中常数 $C,D$ 由边界条件确定。由 $p(U)=0$，\n$$\n-\\frac{C}{\\kappa}\\exp(-\\kappa U)+D=0\\quad\\Rightarrow\\quad D=\\frac{C}{\\kappa}\\exp(-\\kappa U).\n$$\n由 $p(z)=1$，\n$$\n-\\frac{C}{\\kappa}\\exp(-\\kappa z)+\\frac{C}{\\kappa}\\exp(-\\kappa U)=1\n\\;\\Rightarrow\\;\n\\frac{C}{\\kappa}=\\frac{1}{\\exp(-\\kappa U)-\\exp(-\\kappa z)}.\n$$\n因此，\n$$\np(x)=\\frac{\\exp(-\\kappa x)-\\exp(-\\kappa U)}{\\exp(-\\kappa z)-\\exp(-\\kappa U)}.\n$$\n将初始水平 $x=u$ 代入，得到所求概率：\n$$\n\\mathbb{P}_{u}(\\tau_{z}\\tau_{U})\n=\\frac{\\exp\\left(-\\frac{2\\mu}{\\sigma^{2}}\\,u\\right)-\\exp\\left(-\\frac{2\\mu}{\\sigma^{2}}\\,U\\right)}{\\exp\\left(-\\frac{2\\mu}{\\sigma^{2}}\\,z\\right)-\\exp\\left(-\\frac{2\\mu}{\\sigma^{2}}\\,U\\right)}\n=\\frac{\\exp\\left(-\\frac{2\\mu}{\\sigma^{2}}(u-z)\\right)-\\exp\\left(-\\frac{2\\mu}{\\sigma^{2}}(U-z)\\right)}{1-\\exp\\left(-\\frac{2\\mu}{\\sigma^{2}}(U-z)\\right)}.\n$$\n这就是在一个从 $u$ 开始的单周期内，盈余在达到 $U$ 之前触及困境水平 $z$ 的概率。", "answer": "$$\\boxed{\\frac{\\exp\\left(-\\frac{2\\mu}{\\sigma^{2}}(u-z)\\right)-\\exp\\left(-\\frac{2\\mu}{\\sigma^{2}}(U-z)\\right)}{1-\\exp\\left(-\\frac{2\\mu}{\\sigma^{2}}(U-z)\\right)}}$$", "id": "1330155"}]}