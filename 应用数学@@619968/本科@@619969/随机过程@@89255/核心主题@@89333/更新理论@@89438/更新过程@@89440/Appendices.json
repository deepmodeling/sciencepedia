{"hands_on_practices": [{"introduction": "更新过程的核心是理解事件随时间的累积行为，而更新函数 $m(t)$ 正是度量这一行为的关键指标，它代表了到时间 $t$ 为止发生的事件的期望数量。本练习将通过一个简单的离散时间场景，引导你使用更新方程进行迭代计算。这个基础实践旨在帮助你建立对更新函数如何从逐个时间步长的概率中建立起来的直观理解，并掌握其基本的计算方法 [@problem_id:1330920]。", "problem": "一家公司运行着一台关键服务器，该服务器由一个专门的软件代理进行监控。此代理具有有限的运行寿命，并且在发生故障时必须立即更换。这一系列更换构成了一个更新过程。任何给定软件代理的寿命（以天为离散时间单位进行度量）是一个随机变量。一个代理在其运行的第一天结束时发生故障的概率为 $p=0.5$，或者在其运行的第二天结束时发生故障的概率为 $1-p=0.5$。连续代理的寿命是独立同分布的。在第1天开始时（时间 $t=0$）安装一个新的代理。设 $N(t)$ 为截至时间 $t$（含 $t$）已发生的代理更换总数。计算到第4天结束时，预期发生的更换次数。请提供您答案的精确数值。", "solution": "将故障和立即更换的序列建模为一个更新过程，其独立同分布 (i.i.d.) 的寿命以天为单位取值。设到达间隔时间概率质量函数 (pmf) 为 $f(k)=\\mathbb{P}(X=k)$，其中 $f(1)=\\frac{1}{2}$ 且 $f(2)=\\frac{1}{2}$，并设 $F(n)=\\sum_{k=1}^{n}f(k)$ 为整数 $n$ 处的累积分布函数 (cdf)。定义更新函数 $m(n)=\\mathbb{E}[N(n)]$，其中 $N(n)$ 是到第 $n$ 天结束时的更新（更换）次数。对于整数时间，$m(n)$ 满足离散更新方程：\n$$\nm(n)=F(n)+\\sum_{k=1}^{n} m(n-k)\\,f(k), \\quad m(0)=0.\n$$\n此处，$F(1)=\\frac{1}{2}$ 且对于 $n\\geq 2$，$F(n)=1$。迭代计算如下：\n\n对于 $n=1$，\n$$\nm(1)=F(1)+m(0)f(1)=\\frac{1}{2}+0=\\frac{1}{2}.\n$$\n\n对于 $n=2$，\n$$\nm(2)=F(2)+m(1)f(1)+m(0)f(2)=1+\\frac{1}{2}\\cdot\\frac{1}{2}+0=\\frac{5}{4}.\n$$\n\n对于 $n=3$，\n$$\nm(3)=F(3)+m(2)f(1)+m(1)f(2)=1+\\frac{5}{4}\\cdot\\frac{1}{2}+\\frac{1}{2}\\cdot\\frac{1}{2}=1+\\frac{5}{8}+\\frac{1}{4}=\\frac{15}{8}.\n$$\n\n对于 $n=4$，\n$$\nm(4)=F(4)+m(3)f(1)+m(2)f(2)=1+\\frac{15}{8}\\cdot\\frac{1}{2}+\\frac{5}{4}\\cdot\\frac{1}{2}=1+\\frac{15}{16}+\\frac{5}{8}=1+\\frac{15}{16}+\\frac{10}{16}=\\frac{41}{16}.\n$$\n\n因此，到第4天结束时，预期的更换次数为 $m(4)=\\frac{41}{16}$。", "answer": "$$\\boxed{\\frac{41}{16}}$$", "id": "1330920"}, {"introduction": "在许多现实应用中，我们常常需要处理由多个独立的事件流合并而成的复合事件流，例如一个网络节点接收来自不同来源的数据包。一个自然的问题是：两个独立的更新过程叠加后，其结果还是一个更新过程吗？本练习通过一个具体的例子来探讨这个问题。通过计算叠加过程中连续两次事件之间的时间间隔的期望值，你将发现一个深刻的结论：叠加过程通常会失去“无记忆性”这一更新过程的核心特征 [@problem_id:1330916]。", "problem": "一家工厂运行着两种关键设备，A型和B型。每种类型的设备都是一个独立更新过程的一部分。当一台设备发生故障时，会立即被一台相同的新设备替换。\n\nA型设备的寿命，记为 $T_A$，是一个离散随机变量，其取值可以是1小时或3小时，概率相等。即，$P(T_A = 1 \\text{ 小时}) = 0.5$ 且 $P(T_A = 3 \\text{ 小时}) = 0.5$。\n\nB型设备的寿命，记为 $T_B$，也是一个离散随机变量，其取值可以是2小时或4小时，概率相等。即，$P(T_B = 2 \\text{ 小时}) = 0.5$ 且 $P(T_B = 4 \\text{ 小时}) = 0.5$。\n\n在时间 $t=0$ 时，一台新的A型设备和一台新的B型设备被安装并开始运行。故障的叠加过程由两种设备类型的所有故障事件共同组成。设这些组合故障的时间按升序排列为 $S_1, S_2, S_3, \\dots$。叠加过程的到达间隔时间定义为 $X_1 = S_1$ 以及当 $n \\ge 2$ 时 $X_n = S_n - S_{n-1}$。\n\n计算第二次到达间隔时间的期望值，$E[X_2]$。答案以小时为单位，并四舍五入到三位有效数字。", "solution": "题目要求我们求出故障叠加过程的第二次到达间隔时间的期望值，$E[X_2]$。第二次到达间隔时间定义为 $X_2 = S_2 - S_1$，其中 $S_1$ 和 $S_2$ 是组合过程中第一次和第二次故障的时间。\n\n为了计算 $E[X_2]$，我们将使用全期望定律。$X_2$ 的值取决于系统在时间 $S_1$ 时的状态。该状态包括哪种类型的设备发生故障以及另一台设备的剩余寿命。这个状态由两台设备的初始寿命 $T_A^{(1)}$ 和 $T_B^{(1)}$ 决定。\n\n初始寿命 $T_A^{(1)}$ 和 $T_B^{(1)}$ 是独立的。$T_A^{(1)}$ 的取值为 $\\{1, 3\\}$，概率各为 $0.5$。$T_B^{(1)}$ 的取值为 $\\{2, 4\\}$，概率各为 $0.5$。这给出了数对 $(T_A^{(1)}, T_B^{(1)})$ 的四种等可能组合，每种组合的概率为 $P = 0.5 \\times 0.5 = 0.25$。\n\n让我们分析初始寿命的四种可能情景。\n\n**情景1：$(T_A^{(1)}, T_B^{(1)}) = (1, 2)$** (概率 = 0.25)\n第一次故障的时间是 $S_1 = \\min(T_A^{(1)}, T_B^{(1)}) = \\min(1, 2) = 1$ 小时。故障类型为A型。\n在时间 $t=1$ 时，A型设备被替换为一台寿命为 $T_A^{(2)}$ 的新设备。B型设备已运行1小时，因此其剩余寿命为 $2 - 1 = 1$ 小时。\n从 $t=1$ 开始到下一次故障的时间是 $\\min(T_A^{(2)}, 1)$。这就是我们所求的到达间隔时间 $X_2$ 的值。\n由于 $T_A^{(2)}$ 的取值可以是1或3，$\\min(T_A^{(2)}, 1)$ 总是1。\n所以，在这种情景下，$X_2 = 1$。条件期望为 $E[X_2 | (T_A^{(1)}, T_B^{(1)})=(1,2)] = 1$。\n\n**情景2：$(T_A^{(1)}, T_B^{(1)}) = (1, 4)$** (概率 = 0.25)\n第一次故障的时间是 $S_1 = \\min(1, 4) = 1$ 小时。故障类型为A型。\n在时间 $t=1$ 时，A型设备被替换（寿命为 $T_A^{(2)}$）。B型设备的剩余寿命为 $4 - 1 = 3$ 小时。\n到下一次故障的时间是 $X_2 = \\min(T_A^{(2)}, 3)$。\n$T_A^{(2)}$ 有0.5的概率为1，有0.5的概率为3。\n如果 $T_A^{(2)} = 1$，则 $X_2 = \\min(1, 3) = 1$。\n如果 $T_A^{(2)} = 3$，则 $X_2 = \\min(3, 3) = 3$。\n条件期望为 $E[X_2 | (T_A^{(1)}, T_B^{(1)})=(1,4)] = (0.5 \\times 1) + (0.5 \\times 3) = 0.5 + 1.5 = 2$。\n\n**情景3：$(T_A^{(1)}, T_B^{(1)}) = (3, 2)$** (概率 = 0.25)\n第一次故障的时间是 $S_1 = \\min(3, 2) = 2$ 小时。故障类型为B型。\n在时间 $t=2$ 时，B型设备被替换为一台寿命为 $T_B^{(2)}$ 的新设备。A型设备的剩余寿命为 $3 - 2 = 1$ 小时。\n到下一次故障的时间是 $X_2 = \\min(1, T_B^{(2)})$。\n由于 $T_B^{(2)}$ 的取值可以是2或4，$\\min(1, T_B^{(2)})$ 总是1。\n所以，在这种情景下，$X_2 = 1$。条件期望为 $E[X_2 | (T_A^{(1)}, T_B^{(1)})=(3,2)] = 1$。\n\n**情景4：$(T_A^{(1)}, T_B^{(1)}) = (3, 4)$** (概率 = 0.25)\n第一次故障的时间是 $S_1 = \\min(3, 4) = 3$ 小时。故障类型为A型。\n在时间 $t=3$ 时，A型设备被替换（寿命为 $T_A^{(2)}$）。B型设备的剩余寿命为 $4 - 3 = 1$ 小时。\n到下一次故障的时间是 $X_2 = \\min(T_A^{(2)}, 1)$。\n由于 $T_A^{(2)}$ 的取值可以是1或3，$\\min(T_A^{(2)}, 1)$ 总是1。\n所以，在这种情景下，$X_2 = 1$。条件期望为 $E[X_2 | (T_A^{(1)}, T_B^{(1)})=(3,4)] = 1$。\n\n现在，我们应用全期望定律，通过对由概率加权的条件期望求和来找到 $E[X_2]$。\n$$E[X_2] = \\sum_{\\text{所有情景}} P(\\text{情景}) \\times E[X_2 | \\text{情景}]$$\n$$E[X_2] = 0.25 \\times E[X_2 | (1,2)] + 0.25 \\times E[X_2 | (1,4)] + 0.25 \\times E[X_2 | (3,2)] + 0.25 \\times E[X_2 | (3,4)]$$\n$$E[X_2] = 0.25 \\times (1) + 0.25 \\times (2) + 0.25 \\times (1) + 0.25 \\times (1)$$\n$$E[X_2] = 0.25 \\times (1 + 2 + 1 + 1) = 0.25 \\times 5 = 1.25$$\n第二次到达间隔时间的期望值为1.25小时。题目要求答案保留三位有效数字。数字1.25恰好有三位有效数字。", "answer": "$$\\boxed{1.25}$$", "id": "1330916"}, {"introduction": "当事件的间隔时间是连续随机变量时，直接计算更新函数变得非常困难。此时，我们需要更强大的数学工具来分析系统的长期行为。本练习将介绍拉普拉斯变换（Laplace Transform）这一经典方法，用于求解连续时间更新方程。通过解决一个以爱尔朗（Erlang）分布为间隔时间分布的更新过程，你将学会如何运用拉普拉斯变换得到更新函数的精确解析解，这展示了解决更复杂随机过程问题的一种优雅而强大的分析技术 [@problem_id:757873]。", "problem": "在更新过程理论中，更新函数（记为 $M(t)$）起着核心作用。对于一个表示事件到达间隔时间的非负、独立同分布的随机变量序列 $X_1, X_2, \\ldots$，更新过程 $N(t) = \\sup\\{n \\ge 1: \\sum_{i=1}^n X_i \\le t\\}$ 记录了到时间 $t$ 为止已发生的事件数量。更新函数被定义为该计数过程的期望值，即 $M(t) = E[N(t)]$。\n\n对于一个特定的更新过程，其到达间隔时间 $X_i$ 服从形状参数为 $k=2$、正率参数为 $\\lambda$ 的爱尔朗分布。爱尔朗分布的概率密度函数 (PDF) 由下式给出：\n$$f(x; k, \\lambda) = \\frac{\\lambda^k x^{k-1} e^{-\\lambda x}}{(k-1)!}, \\quad \\text{for } x > 0$$\n\n你的任务是为这个特定的过程推导出更新函数 $M(t)$ 的显式解析表达式。", "solution": "1. 更新方程与拉普拉斯变换  \n   更新函数满足  \n   $$M(t)=F(t)+\\int_{0}^{t}M(t-x)f(x)\\,dx.$$  \n   进行拉普拉斯变换得到  \n   $$\\tilde M(s)=\\tilde F(s)+\\tilde M(s)\\,\\tilde f(s)\\,\\Longrightarrow\\,\\tilde M(s)=\\frac{\\tilde F(s)}{1-\\tilde f(s)}.$$  \n   因为 $\\tilde F(s)=\\tilde f(s)/s$，  \n   $$\\tilde M(s)=\\frac{\\tilde f(s)}{s\\bigl(1-\\tilde f(s)\\bigr)}.$$\n\n2. 爱尔朗(2,$\\lambda$)密度函数的拉普拉斯变换  \n   $$f(x)=\\lambda^2 x e^{-\\lambda x},\\quad\\tilde f(s)=\\int_{0}^{\\infty}e^{-s x}\\lambda^2 x e^{-\\lambda x}dx\n   =\\frac{\\lambda^2}{(s+\\lambda)^2}.$$\n\n3. 计算 $\\tilde M(s)$  \n   $$\\tilde M(s)\n   =\\frac{\\lambda^2/(s+\\lambda)^2}{s\\bigl(1-\\lambda^2/(s+\\lambda)^2\\bigr)}\n   =\\frac{\\lambda^2}{s^2(s+2\\lambda)}.$$\n\n4. 部分分式分解  \n   $$\\frac{\\lambda^2}{s^2(s+2\\lambda)}\n   =\\frac{A}{s}+\\frac{B}{s^2}+\\frac{C}{s+2\\lambda},$$  \n   解得 $A=-\\tfrac14,\\;B=\\tfrac{\\lambda}{2},\\;C=\\tfrac14.$  \n\n5. 对每一项进行逆变换  \n   $$M(t)=-\\tfrac14\\cdot1+\\tfrac{\\lambda}{2}\\,t+\\tfrac14\\,e^{-2\\lambda t}\n   =\\frac{\\lambda t}{2}-\\frac14+\\frac14e^{-2\\lambda t}.$$", "answer": "$$\\boxed{\\frac{\\lambda t}{2}-\\frac{1}{4}+\\frac{1}{4}e^{-2\\lambda t}}$$", "id": "757873"}]}