{"hands_on_practices": [{"introduction": "这个练习将带你入门一个核心应用：在已知固定数量的事件发生在一个区间内时，如何预测其中第 $k$ 个事件的平均发生位置。这个概念在质量控制、事件日志分析等领域非常实用。通过解决这个问题 [@problem_id:1291051]，你将掌握均匀分布下顺序统计量期望值的基本计算方法。", "problem": "在一个现代化的制造工厂中，一个质量控制系统会扫描长卷的光纤以查找微小的缺陷。这些缺陷沿光纤长度的出现可以被精确地建模为一个泊松过程 (Poisson process)。该过程的速率是恒定但未知的。\n\n一位质量控制工程师检查了一段总长度为 $L = 10.0$ 米的特定光纤。扫描显示，这段光纤恰好包含 $N=6$ 个缺陷。这些缺陷的位置是根据其距离光纤段起点的长度来测量的。\n\n计算在这段光纤上发现的第二个缺陷的期望位置。答案以米为单位，并四舍五入到三位有效数字。", "solution": "将沿长度的缺陷建模为一个速率恒定但未知的齐次泊松过程 (homogeneous Poisson process)。一个标准的性质是，在长度为 $L$ 的区间内观测到 $N=n$ 个点的条件下，这些点的无序位置是服从 $[0,L]$ 区间上均匀分布的独立同分布 (i.i.d. Uniform) 随机变量，而其有序位置是这些独立同分布均匀样本的顺序统计量 (order statistics)。\n\n设 $X_{(k)}$ 表示在 $[0,L]$ 区间内的 $n$ 个缺陷中第 $k$ 个缺陷的位置。令 $U_{(k)}=X_{(k)}/L$。那么 $U_{(k)}$ 是 $n$ 个独立同分布于 Uniform$(0,1)$ 的变量的第 $k$ 个顺序统计量，其密度函数为\n$$\nf_{U_{(k)}}(u)=\\frac{n!}{(k-1)!(n-k)!}\\,u^{k-1}(1-u)^{n-k},\\quad 0u1,\n$$\n这便是参数为 $(k,n-k+1)$ 的贝塔分布 (Beta distribution)。一个 Beta$(a,b)$ 随机变量的期望是 $\\frac{a}{a+b}$，所以\n$$\n\\mathbb{E}[U_{(k)}]=\\frac{k}{n+1}.\n$$\n将其缩放回 $[0,L]$ 区间，得到\n$$\n\\mathbb{E}[X_{(k)}]=L\\,\\mathbb{E}[U_{(k)}]=L\\,\\frac{k}{n+1}.\n$$\n在本题中，$L=10.0$，$n=N=6$ 且 $k=2$，所以\n$$\n\\mathbb{E}[X_{(2)}]=10.0\\times\\frac{2}{6+1}=\\frac{20}{7}\\approx 2.857142857\\ldots\n$$\n四舍五入到三位有效数字，结果是 $2.86$。", "answer": "$$\\boxed{2.86}$$", "id": "1291051"}, {"introduction": "从计算期望值到计算概率，这个练习将向你展示一种非常直观的解题方法：几何法。当处理少量（如此处的两个）事件时，我们可以将它们的到达时间视为一个多维空间中的点。通过这个问题 [@problem_id:1291062]，你将学会如何将概率问题转化为几何图形的面积计算，从而加深对事件时间关系的理解。", "problem": "一个通信服务器在一个长度为 $T$ 的时间区间 $[0, T]$ 内受到监控。已知在此期间恰好有两个信号到达。这两个信号的到达时间（记为 $U_1$ 和 $U_2$）可以被建模为从区间 $[0, T]$ 上的连续均匀分布中抽取的独立同分布的随机变量。\n\n服务器有一个内置的防御机制。在第一个信号到达后，服务器会立即启动一次持续时间为 $T/2$ 的安全检查。在此安全检查期间到达的任何信号都将被自动丢弃。\n\n第二个信号不被丢弃的概率是多少？请以一个单一的闭式解析表达式给出你的答案。", "solution": "设 $U_{1}$ 和 $U_{2}$ 独立同分布于 $\\operatorname{Unif}[0,T]$。设 $X=\\min\\{U_{1},U_{2}\\}$ 且 $Y=\\max\\{U_{1},U_{2}\\}$。在第一个信号于时间 $X$ 到达之后，服务器会在区间 $[X,X+T/2]$ 上进行一次安全检查。于时间 $Y$ 到达的第二个信号不被丢弃的充要条件是它不在此区间内到达，这等价于条件\n$$\nYX+\\frac{T}{2}.\n$$\n由于 $Y-X=|U_{1}-U_{2}|$，此条件即为 $|U_{1}-U_{2}|\\frac{T}{2}$。$(U_{1},U_{2})$ 的联合密度在正方形 $[0,T]^{2}$ 上是常数，等于 $1/T^{2}$，因此\n$$\n\\mathbb{P}\\!\\left(|U_{1}-U_{2}|\\frac{T}{2}\\right)=\\frac{1}{T^{2}}\\iint_{[0,T]^{2}} \\mathbf{1}\\!\\left\\{|u_{1}-u_{2}|\\frac{T}{2}\\right\\} \\, du_{1}\\,du_{2}.\n$$\n在 $[0,T]^{2}$ 内部，区域 $\\{|u_{1}-u_{2}|\\frac{T}{2}\\}$ 由两个直角三角形组成：\n- 对于 $0\\leq u_{1}\\leq \\frac{T}{2}$，集合 $u_{2}\\in[u_{1}+\\frac{T}{2},\\,T]$ 的面积为\n$$\n\\int_{0}^{T/2}\\left(T-\\left(u_{1}+\\frac{T}{2}\\right)\\right)\\,du_{1}=\\int_{0}^{T/2}\\left(\\frac{T}{2}-u_{1}\\right)\\,du_{1}=\\frac{T^{2}}{8}.\n$$\n- 对于 $\\frac{T}{2}\\leq u_{1}\\leq T$，集合 $u_{2}\\in[0,\\,u_{1}-\\frac{T}{2}]$ 的面积为\n$$\n\\int_{T/2}^{T}\\left(u_{1}-\\frac{T}{2}\\right)\\,du_{1}=\\frac{T^{2}}{8}.\n$$\n因此，总的有利区域面积为 $\\frac{T^{2}}{8}+\\frac{T^{2}}{8}=\\frac{T^{2}}{4}$。将其除以总面积 $T^{2}$，得到\n$$\n\\mathbb{P}\\!\\left(YX+\\frac{T}{2}\\right)=\\frac{\\frac{T^{2}}{4}}{T^{2}}=\\frac{1}{4}.\n$$\n因此，第二个信号不被丢弃的概率是 $\\frac{1}{4}$。", "answer": "$$\\boxed{\\frac{1}{4}}$$", "id": "1291062"}, {"introduction": "这个高级练习将我们的注意力从事件的到达时间本身，转移到事件之间的“间隔时间”上。分析间隔时间的分布对于识别网络流量中的“微突发”或其它异常模式至关重要。通过解决这个问题 [@problem_id:1291080]，你将学习如何运用期望的线性性质，结合对间隔时间分布的理解，来解决更复杂的随机过程分析问题。", "problem": "一个数据包嗅探器监视一个网络链路，总时长为 $T$。在此时间段内，它记录了恰好 $n$ 个数据包的时间戳。对于此场景，在到达数量固定的情况下，一个标准的模型是将到达时间视为有序值 $T_1  T_2  \\dots  T_n$。这些有序时间戳被建模为 $n$ 个独立同分布的随机变量的顺序统计量，每个随机变量都服从区间 $[0, T]$ 上的均匀分布。\n\n为了检测异常的流量突发，一位分析师研究了到达间隔时间，其定义为 $S_i = T_i - T_{i-1}$，其中 $i=2, 3, \\dots, n$。如果一个到达间隔时间比一个预定义的正阈值 $\\delta$ 短，它就会被标记为“微突发”。\n\n假设 $n \\ge 2$ 且 $T  (n-1)\\delta$，确定在区间 $[0, T]$ 内将被标记的微突发的期望数量。请用 $n$、$T$ 和 $\\delta$ 将您的答案表示为一个封闭形式的解析表达式。", "solution": "我们将数据包的到达时间建模为 $n$ 个独立的 $\\mathrm{Uniform}[0,T]$ 随机变量的顺序统计量 $T_{1}T_{2}\\dotsT_{n}$。引入所有 $n+1$ 个间隔，包括两端的边界：\n$$\nG_{1}=T_{1}-0,\\quad G_{i}=T_{i}-T_{i-1}\\ \\text{for }i=2,\\dots,n,\\quad G_{n+1}=T-T_{n}.\n$$\n从顺序统计量到间隔的标准变量代换为\n$$\nt_{1}=g_{1},\\quad t_{2}=g_{1}+g_{2},\\ \\dots,\\ t_{n}=g_{1}+\\cdots+g_{n},\n$$\n其雅可比行列式等于 $1$。在区域 $0t_{1}\\cdotst_{n}T$ 上，$(T_{1},\\dots,T_{n})$ 的联合密度为 $n!/T^{n}$，是一个常数。因此，$(G_{1},\\dots,G_{n},G_{n+1})$ 的联合密度在单纯形\n$$\n\\{(g_{1},\\dots,g_{n+1}): g_{j}\\ge 0,\\ \\sum_{j=1}^{n+1} g_{j}=T\\}.\n$$\n上是常数。等价地，归一化间隔 $(G_{1}/T,\\dots,G_{n+1}/T)$ 在标准单纯形\n$$\n\\{(x_{1},\\dots,x_{n+1}): x_{j}\\ge 0,\\ \\sum_{j=1}^{n+1} x_{j}=1\\},\n$$\n上均匀分布，也就是说，它们服从 $\\mathrm{Dirichlet}(1,\\dots,1)$ 分布。所有参数都为 $1$ 的狄利克雷分布的一个基本性质是，每个边缘变量 $X_{j}=G_{j}/T$ 都服从 $\\mathrm{Beta}(1,n)$ 分布，其密度为\n$$\nf_{X}(x)=n(1-x)^{n-1},\\qquad 0x1.\n$$\n根据对称性，此性质对每个间隔都成立，包括内部的到达间隔时间 $S_{i}=G_{i}$（其中 $i=2,\\dots,n$）。因此，对于任何固定的 $i\\in\\{2,\\dots,n\\}$ 和任何满足 $0\\deltaT$ 的 $\\delta$，我们有\n$$\n\\mathbb{P}(S_{i}\\delta)=\\mathbb{P}\\!\\left(\\frac{S_{i}}{T}\\frac{\\delta}{T}\\right)=\\int_{0}^{\\delta/T} n(1-x)^{n-1}\\,dx\n=1-(1-\\delta/T)^{n}.\n$$\n定义 $I_{i}=\\mathbf{1}\\{S_{i}\\delta\\}$，并令 $M=\\sum_{i=2}^{n} I_{i}$ 为所考虑的 $(n-1)$ 个到达间隔时间中的微突发数量。根据期望的线性性质（不要求独立性），\n$$\n\\mathbb{E}[M]=\\sum_{i=2}^{n} \\mathbb{E}[I_{i}]=\\sum_{i=2}^{n} \\mathbb{P}(S_{i}\\delta)=(n-1)\\left[1-(1-\\delta/T)^{n}\\right].\n$$\n假设 $T(n-1)\\delta$ 特别确保了 $0\\delta/T1$，因此上述表达式可以直接应用。", "answer": "$$\\boxed{(n-1)\\left[1-\\left(1-\\frac{\\delta}{T}\\right)^{n}\\right]}$$", "id": "1291080"}]}