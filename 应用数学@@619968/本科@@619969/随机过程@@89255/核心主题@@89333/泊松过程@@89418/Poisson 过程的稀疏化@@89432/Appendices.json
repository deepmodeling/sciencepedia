{"hands_on_practices": [{"introduction": "这个练习将引导我们探索泊松过程稀疏化中的一个基本而优美的结果。当一个泊松过程产生的事件被随机分类时，如果我们已知在特定时间段内发生的事件总数，那么属于某一特定类别的事件数量实际上遵循一个我们非常熟悉的分布。通过解决这个问题，你将亲手揭示泊松过程和二项分布之间的深刻联系，这是理解稀疏化理论的基石。[@problem_id:1346161]", "problem": "到达某新闻网站主页的访客流可建模为一个泊松过程，其恒定平均速率为每分钟 $\\lambda$ 名访客。该网站采用一个内容个性化系统，将每位访客相互独立地分类：以概率 $p$ 分类为‘科技爱好者’，或者以概率 $1-p$ 分类为‘金融爱好者’。\n\n考虑一个 $T$ 分钟的特定时间区间。在此期间，记录到共有 $N$ 名访客到达主页。基于此信息，求这些访客中恰好有 $k$ 名被分类为‘科技爱好者’的概率。假设 $0 \\le k \\le N$。请用 $N$、$k$ 和 $p$ 的符号表达式表示你的答案。", "solution": "设 `N(t)` 表示在长度为 `t` 的时间区间内到达的总访客数。根据题意，`N(t)` 服从一个速率为 `\\lambda` 的泊松过程。因此，在 `T` 分钟的时间区间内的到达数 `N(T)` 是一个参数为 `\\lambda T` 的泊松随机变量。其概率质量函数 (PMF) 如下：\n$$ P(N(T) = n) = \\frac{\\exp(-\\lambda T) (\\lambda T)^n}{n!} $$\n\n访客流被分为两类：‘科技爱好者’和‘金融爱好者’。设 `N_T(t)` 为在时间 `t` 内到达的‘科技爱好者’数量，`N_F(t)` 为在时间 `t` 内到达的‘金融爱好者’数量。\n\n泊松过程的一个基本性质，称为稀疏化（thinning）或分裂（splitting），指出若一个速率为 `\\lambda` 的泊松过程中，每次到达都以概率 `p` 和 `1-p` 被分配到两个流中，则这两个结果流是相互独立的泊松过程。\n‘科技爱好者’流的速率为 `\\lambda_T = \\lambda p`。\n‘金融爱好者’流的速率为 `\\lambda_F = \\lambda (1-p)`。\n\n因此，`N_T(T)` 是一个参数为 `\\lambda p T` 的泊松随机变量，而 `N_F(T)` 是一个参数为 `\\lambda (1-p) T` 的泊松随机变量。它们各自的 PMF 分别为：\n$$ P(N_T(T) = k) = \\frac{\\exp(-\\lambda p T) (\\lambda p T)^k}{k!} $$\n$$ P(N_F(T) = j) = \\frac{\\exp(-\\lambda (1-p) T) (\\lambda (1-p) T)^j}{j!} $$\n\n我们要求解的是，在总访客数为 `N` 的条件下，有 `k` 名‘科技爱好者’的条件概率。这可以写作 `P(N_T(T) = k | N(T) = N)`。\n\n根据条件概率的定义：\n$$ P(N_T(T) = k | N(T) = N) = \\frac{P(N_T(T) = k \\text{ and } N(T) = N)}{P(N(T) = N)} $$\n\n事件 `{N_T(T) = k \\text{ and } N(T) = N}` 等同于事件“有 `k` 名‘科技爱好者’和 `N-k` 名‘金融爱好者’”。即 `{N_T(T) = k \\text{ and } N_F(T) = N-k}`。\n由于两个稀疏化过程是独立的，其联合概率可以写作各自概率的乘积：\n$$ P(N_T(T) = k, N_F(T) = N-k) = P(N_T(T) = k) \\cdot P(N_F(T) = N-k) $$\n代入 PMF：\n$$ P(N_T(T) = k, N_F(T) = N-k) = \\left( \\frac{\\exp(-\\lambda p T) (\\lambda p T)^k}{k!} \\right) \\cdot \\left( \\frac{\\exp(-\\lambda (1-p) T) (\\lambda (1-p) T)^{N-k}}{(N-k)!} \\right) $$\n简化此表达式的分子部分：\n$$ \\text{Numerator} = \\frac{\\exp(-\\lambda p T - \\lambda (1-p) T) (\\lambda T)^k p^k (\\lambda T)^{N-k} (1-p)^{N-k}}{k!(N-k)!} $$\n$$ \\text{Numerator} = \\frac{\\exp(-\\lambda T (p + 1 - p)) (\\lambda T)^{k + N - k} p^k (1-p)^{N-k}}{k!(N-k)!} $$\n$$ \\text{Numerator} = \\frac{\\exp(-\\lambda T) (\\lambda T)^N p^k (1-p)^{N-k}}{k!(N-k)!} $$\n\n分母为 `P(N(T) = N)`，即：\n$$ \\text{Denominator} = P(N(T) = N) = \\frac{\\exp(-\\lambda T) (\\lambda T)^N}{N!} $$\n\n现在计算该比值：\n$$ P(N_T(T) = k | N(T) = N) = \\frac{\\frac{\\exp(-\\lambda T) (\\lambda T)^N p^k (1-p)^{N-k}}{k!(N-k)!}}{\\frac{\\exp(-\\lambda T) (\\lambda T)^N}{N!}} $$\n项 `\\exp(-\\lambda T)` 和 `(\\lambda T)^N` 相互抵消，得到：\n$$ P(N_T(T) = k | N(T) = N) = \\frac{N p^k (1-p)^{N-k} / (k!(N-k)!)}{1/N!} = \\frac{N!}{k!(N-k)!} p^k (1-p)^{N-k} $$\n该表达式是具有 `N` 次试验和成功概率为 `p` 的二项分布的概率质量函数。使用二项式系数符号 `\\binom{N}{k} = \\frac{N!}{k!(N-k)!}`，最终表达式为：\n$$ \\binom{N}{k} p^k (1-p)^{N-k} $$", "answer": "$$ \\boxed{\\binom{N}{k} p^{k} (1-p)^{N-k}} $$", "id": "1346161"}, {"introduction": "本练习将我们的视角从“在固定时间内计数事件”转变为“分析事件类型的序列”。我们不再关心事件发生的具体时刻，而是关注不同类型事件（例如“信号”与“背景”）出现的先后顺序。通过这个思想实验，你将发现等待一个特定类型事件出现所需经历的其他类型事件的数量，其背后隐藏着几何分布的规律，从而加深对泊松过程分类等同于伯努利试验序列的理解。[@problem_id:1407533]", "problem": "在一个粒子物理实验中，一束粒子被引向一个探测器。这些粒子到达探测器的时间可以被建模为一个泊松过程，其平均速率为常数 $\\lambda$ 粒子/秒。每个到达的粒子，与其他所有粒子独立地，被分类为“信号”粒子（概率为 $p$）或“背景”粒子（概率为 $1-p$）。一个数据采集系统被配置为仅在探测到“信号”粒子时触发并记录一个事件；“背景”粒子不触发该系统，并被有效忽略。\n\n设 $N$ 为一个离散随机变量，表示在两次连续的“信号”粒子到达之间，到达探测器的“背景”粒子的数量。请确定其概率质量函数 $P(N=k)$，其中 $k=0, 1, 2, \\dots$。你的最终答案应该是一个以 $p$ 和 $k$ 表示的表达式。", "solution": "该问题要求解在两次连续的“信号”粒子之间出现的“背景”粒子数量 $N$ 的概率分布。\n\n让我们考虑粒子到达探测器时的类型序列。每个粒子的到达构成一次独立试验。每次试验的结果可以是“信号”（S），概率为 $p$；或者是“背景”（B），概率为 $1-p$。这构成了一个独立的伯努利试验序列。\n\n问题是关于两次连续信号粒子*之间*的背景粒子数量。这意味着我们从一个信号粒子刚刚到达的时刻开始观察系统。我们想要找到发生以下事件序列的概率：一定数量的背景粒子到达，然后下一个到达的粒子是信号粒子，从而结束这个区间。\n\n让我们将感兴趣的事件表示为 $\\{N=k\\}$。这对应于观察到恰好 $k$ 个背景粒子，并紧随其后的是一个信号粒子。粒子分类的序列会是这样：\n$$\n\\underbrace{\\text{B, B, ..., B}}_{k \\text{ times}}, \\text{S}\n$$\n单个粒子是背景粒子的概率是 $P(\\text{B}) = 1-p$。\n单个粒子是信号粒子的概率是 $P(\\text{S})=p$。\n\n由于每个粒子的分类是独立事件，观察到这个特定序列的概率是每个独立结果概率的乘积。\n连续出现 $k$ 个背景粒子的概率是 $(P(\\text{B}))^k = (1-p)^k$。\n下一个粒子是信号粒子的概率是 $P(\\text{S})=p$。\n\n因此，整个序列的概率，也就是事件 $\\{N=k\\}$ 的概率是：\n$$\nP(N=k) = P(\\underbrace{\\text{B, B, ..., B}}_{k \\text{ times}}, \\text{S}) = (P(\\text{B}))^{k} \\times P(\\text{S})\n$$\n代入概率，我们得到：\n$$\nP(N=k) = (1-p)^{k} p\n$$\n这是几何分布的概率质量函数（PMF），其中“成功”是观察到一个信号粒子。随机变量 $N=k$ 计的是在第一次成功之前“失败”（背景粒子）的次数。这对 $k = 0, 1, 2, \\dots$ 成立。\n\n请注意，泊松过程的速率 $\\lambda$ 没有出现在最终答案中。该问题关心的是事件*类型*的序列，而不是它们之间的*时间*。这个问题可以完全重新表述为分析一个独立的伯努利试验序列，这使得由 $\\lambda$ 提供的到达时间信息与最终计算粒子数量的概率无关。", "answer": "$$\\boxed{(1-p)^{k} p}$$", "id": "1407533"}, {"introduction": "在现实世界的应用中，我们常常需要根据局部或不完整的数据来推断整个系统的情况。这个练习就模拟了这样一个场景：给定一个时间段内观测到的“高优先级”数据包的数量，你需要估算出该时段内到达的总数据包数量的期望值。解决这个问题能让你体会到条件期望在反向推理中的威力，并熟练运用泊松过程稀疏化后各子过程相互独立的这一关键性质。[@problem_id:1407530]", "problem": "数据包根据泊松过程到达核心网络路由器，平均速率为 $\\lambda = 150$ 包/秒。每个传入的数据包以 $p = 0.20$ 的概率被独立地分类为“高优先级”，或以 $1-p$ 的概率被分类为“低优先级”。在持续时间为 $T = 2.0$ 秒的特定观察间隔内，网络分析仪记录到恰好接收了 $k = 50$ 个高优先级数据包。\n\n基于此观察，计算在此 2.0 秒间隔内到达路由器的总数据包数（包括高优先级和低优先级）的期望值。", "solution": "设 $N(t)$ 为在长度为 $t$ 的时间间隔内到达的总数据包数。根据问题陈述，$N(t)$ 服从速率为 $\\lambda$ 的泊松过程。在持续时间为 $T$ 的时间间隔内的到达数量是一个泊松随机变量 $N(T)$，其参数为 $\\lambda T$。\n$$N(T) \\sim \\text{Poisson}(\\lambda T)$$\n\n总数据包流被分成两个流：高优先级数据包流和低优先级数据包流。这是一个泊松过程分解（thinning）的经典例子。\n设 $N_H(T)$ 为在时间间隔 $T$ 内到达的高优先级数据包数，$N_L(T)$ 为低优先级数据包数。\n由于泊松过程的分解特性，$N_H(T)$ 和 $N_L(T)$ 也都是泊松随机变量。\n高优先级到达的速率为 $\\lambda_H = p \\lambda$。因此，$N_H(T) \\sim \\text{Poisson}(p \\lambda T)$。\n低优先级到达的速率为 $\\lambda_L = (1-p) \\lambda$。因此，$N_L(T) \\sim \\text{Poisson}((1-p) \\lambda T)$。\n分解的一个关键特性是所得到的​​过程是独立的。因此，随机变量 $N_H(T)$ 和 $N_L(T)$ 是独立的。\n\n总数据包数是高优先级和低优先级数据包数之和：\n$$N(T) = N_H(T) + N_L(T)$$\n\n问题要求在观察到恰好 $k$ 个高优先级数据包的条件下，总数据包数的期望值。这就是条件期望 $E[N(T) | N_H(T) = k]$。\n\n我们可以将其写为：\n$$E[N(T) | N_H(T) = k] = E[N_H(T) + N_L(T) | N_H(T) = k]$$\n\n根据期望的线性性质，我们可以将其分成两项：\n$$E[N(T) | N_H(T) = k] = E[N_H(T) | N_H(T) = k] + E[N_L(T) | N_H(T) = k]$$\n\n我们分别计算每一项。\n第一项 $E[N_H(T) | N_H(T) = k]$ 是变量 $N_H(T)$ 在其值固定为 $k$ 的条件下的期望。一个常数的期望就是它本身。\n$$E[N_H(T) | N_H(T) = k] = k$$\n\n对于第二项 $E[N_L(T) | N_H(T) = k]$，我们利用 $N_L(T)$ 和 $N_H(T)$ 的独立性。由于这两个随机变量是独立的，对 $N_H(T)$ 的值施加条件不会提供任何关于 $N_L(T)$ 的信息。因此，条件期望等于无条件期望：\n$$E[N_L(T) | N_H(T) = k] = E[N_L(T)]$$\n\n随机变量 $N_L(T)$ 服从参数为 $(1-p)\\lambda T$ 的泊松分布。一个泊松随机变量的期望就是其参数。\n$$E[N_L(T)] = (1-p)\\lambda T$$\n\n结合这些结果，我们得到条件期望的表达式：\n$$E[N(T) | N_H(T) = k] = k + (1-p)\\lambda T$$\n\n现在，我们代入给定的数值：\n$k = 50$\n$p = 0.20$\n$\\lambda = 150 \\text{ s}^{-1}$\n$T = 2.0 \\text{ s}$\n\n$$E[N(T) | N_H(T) = 50] = 50 + (1 - 0.20)(150)(2.0)$$\n$$E[N(T) | N_H(T) = 50] = 50 + (0.80)(300)$$\n$$E[N(T) | N_H(T) = 50] = 50 + 240$$\n$$E[N(T) | N_H(T) = 50] = 290$$\n\n所以，在该时间间隔内到达的总数据包数的期望值为 290。", "answer": "$$\\boxed{290}$$", "id": "1407530"}]}