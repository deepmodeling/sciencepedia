{"hands_on_practices": [{"introduction": "赌徒破产模型不仅限于赌博场景，它还能模拟许多物理、生物和经济过程。这个练习将该模型应用于一个纳米技术中的假设情景——一个电荷陷阱中电子的不对称随机游走 [@problem_id:1301312]。这是在一个具有两个吸收边界的不对称（$p \\neq 1/2$）情况下，练习计算预期持续时间的基础性实践。", "problem": "一个纳米级电荷陷阱被建模为一个一维系统。该陷阱的状态由其容纳的过剩电子数来定义。初始时，该陷阱包含 $i=15$ 个过剩电子。在离散的时间步长内，由于量子隧穿事件，电子数会精确地改变一。一个电子隧穿进入陷阱，使计数增加一，其概率为 $p = 0.4$。一个电子隧穿出陷阱，使计数减少一，其概率为 $q = 1-p = 0.6$。\n\n当满足以下两个边界条件之一时，该过程被认为终止：要么陷阱变得完全耗尽（过剩电子数降至0），要么陷阱变得饱和（过剩电子数达到其最大容量 $N = 40$）。\n\n计算直到过程终止所需时间步长的期望值。将你的最终答案四舍五入到三位有效数字。", "solution": "令 $T_{i}$ 为从 $i$ 个电子开始，在吸收边界为 $0$ 和 $N$ 的情况下，到达吸收态的期望步数。通过首步分析法，\n$$\nT_{i} = 1 + p\\,T_{i+1} + q\\,T_{i-1}, \\quad 1 \\leq i \\leq N-1,\n$$\n边界条件为 $T_{0} = 0$ 和 $T_{N} = 0$。整理得\n$$\np\\,T_{i+1} - T_{i} + q\\,T_{i-1} = -1.\n$$\n求解齐次方程 $p\\,T_{i+1} - T_{i} + q\\,T_{i-1} = 0$，尝试解的形式为 $T_{i}^{(h)} = r^{i}$，得到特征方程 $p r^{2} - r + q = 0$，其根为 $r_{1} = 1$ 和 $r_{2} = \\frac{q}{p}$。因此\n$$\nT_{i}^{(h)} = A + B\\left(\\frac{q}{p}\\right)^{i}.\n$$\n寻找一个形式为 $T_{i}^{(p)} = C\\,i$ 的特解。代入递推关系得\n$$\nC i = 1 + p\\,C(i+1) + q\\,C(i-1) = 1 + C\\big((p+q)i + (p - q)\\big) = 1 + C\\big(i + (p - q)\\big),\n$$\n所以 $0 = 1 + C(p - q)$，因此 $C = \\frac{1}{q - p}$。通解是\n$$\nT_{i} = A + B\\left(\\frac{q}{p}\\right)^{i} + \\frac{i}{q - p}.\n$$\n应用 $T_{0} = 0$ 得到 $A + B = 0$。应用 $T_{N} = 0$ 得到\n$$\n0 = A + B\\left(\\frac{q}{p}\\right)^{N} + \\frac{N}{q - p}\n= -B + B\\left(\\frac{q}{p}\\right)^{N} + \\frac{N}{q - p},\n$$\n所以\n$$\nB = -\\frac{N}{q - p}\\,\\frac{1}{\\left(\\frac{q}{p}\\right)^{N} - 1}, \\quad A = -B.\n$$\n因此\n$$\nT_{i} = \\frac{i}{q - p} - \\frac{N}{q - p}\\,\\frac{\\left(\\frac{q}{p}\\right)^{i} - 1}{\\left(\\frac{q}{p}\\right)^{N} - 1}\n= \\frac{i}{q - p} - \\frac{N}{q - p}\\,\\frac{1 - \\left(\\frac{q}{p}\\right)^{i}}{1 - \\left(\\frac{q}{p}\\right)^{N}}.\n$$\n\n对于 $p = 0.4$, $q = 0.6$, $N = 40$ 和 $i = 15$，我们有 $q - p = 0.2$ 和 $r = \\frac{q}{p} = 1.5$。计算\n$$\nS = \\frac{1 - r^{i}}{1 - r^{N}} = \\frac{r^{i} - 1}{r^{N} - 1}.\n$$\n使用 $r^{15} = \\left(\\frac{3}{2}\\right)^{15} = \\frac{14348907}{32768} \\approx 437.89389$ 和 $r^{40} = (1.5)^{40} \\approx 1.2089 \\times 10^{7}$，我们得到\n$$\nS \\approx \\frac{437.89389 - 1}{1.2089 \\times 10^{7} - 1} \\approx 3.615 \\times 10^{-5}.\n$$\n因此\n$$\nT_{15} = \\frac{15}{0.2} - \\frac{40}{0.2}\\,S = 75 - 200\\,S \\approx 75 - 200 \\times 3.615 \\times 10^{-5} \\approx 74.9928.\n$$\n四舍五入到三位有效数字，期望步数为 $75.0$。", "answer": "$$\\boxed{75.0}$$", "id": "1301312"}, {"introduction": "在掌握了双边界模型后，一个自然的问题是：如果其中一个边界消失或变得无限远，会发生什么？这个问题在许多现实系统中至关重要，例如公司储备金与无限的市场风险 [@problem_id:1301357]。本练习探讨了这种只有一个吸收边界的“半无限”随机游走，揭示了一个微小的不对称性如何决定了“破产”的必然性，并让你学会计算其预期发生时间。", "problem": "一家技术初创公司使用一个备用服务器池来管理其计算资源。最初，该公司拥有一个包含50台备用服务器的池。系统状态每小时评估一次。在每小时内，服务器需求的净变化会导致两种结果之一：负载以 $p=0.49$ 的概率减少，一台服务器被归还到备用池；以剩余的概率，负载增加，一台备用池中的服务器被激活以处理负载。\n\n该初创公司与一家云服务提供商签订了合同，如果需求需要激活超过最初的50台备用服务器，可以配置几乎无限数量的服务器。然而，如果备用池被完全耗尽（即备用服务器的数量变为零），管理系统将会崩溃。这一事件被称为“池耗尽”。\n\n计算系统经历“池耗尽”事件的期望时间。将期望时间以小时为单位表示。", "solution": "将备用服务器的数量建模为一个在非负整数上的有偏随机游走 $\\{S_{t}\\}_{t\\geq 0}$，其中 $S_{0}=50$。在每小时内，$S_{t}$ 以概率 $p$ 增加 $+1$（一台服务器返回备用池），并以概率 $q=1-p$ 减少 $-1$（一台备用服务器被激活）。状态 $0$ 是吸收态（池耗尽），并且由于可以从外部配置更多服务器，因此没有上界。\n\n设 $m_{i}$ 表示从 $i\\geq 0$ 开始到达 $0$ 的期望时间。我们有边值条件\n$$\nm_{0}=0,\n$$\n对于 $i\\geq 1$，通过首步分析法可得\n$$\nm_{i}=1+p\\,m_{i+1}+q\\,m_{i-1}.\n$$\n重写可得非齐次线性差分方程\n$$\np\\,m_{i+1}-m_{i}+q\\,m_{i-1}=-1,\\quad i\\geq 1.\n$$\n\n用拟设解 $m_{i}^{(h)}=\\lambda^{i}$ 解其对应的齐次方程 $p\\,m_{i+1}^{(h)}-m_{i}^{(h)}+q\\,m_{i-1}^{(h)}=0$。特征方程为\n$$\np\\lambda^{2}-\\lambda+q=0.\n$$\n使用 $p+q=1$，我们得到\n$$\n\\lambda=\\frac{1\\pm\\sqrt{1-4pq}}{2p}=\\frac{1\\pm|p-q|}{2p}.\n$$\n当 $q>p$ 时，有 $|p-q|=q-p$，所以方程的根为\n$$\n\\lambda_{1}=\\frac{1+(q-p)}{2p}=\\frac{q}{p},\\qquad \\lambda_{2}=\\frac{1-(q-p)}{2p}=1.\n$$\n因此，齐次解为\n$$\nm_{i}^{(h)}=A+B\\left(\\frac{q}{p}\\right)^{i}.\n$$\n\n寻找一个形式为 $m_{i}^{(p)}=a\\,i$ 的特解。代入 $p\\,m_{i+1}-m_{i}+q\\,m_{i-1}=-1$ 中可得\n$$\np\\,a(i+1)-a\\,i+q\\,a(i-1)=a(p-q)=-1,\n$$\n所以\n$$\na=\\frac{1}{q-p}.\n$$\n因此，通解为\n$$\nm_{i}=A+B\\left(\\frac{q}{p}\\right)^{i}+\\frac{i}{q-p}.\n$$\n\n应用 $m_{0}=0$ 得到 $A+B=0$，因此\n$$\nm_{i}=B\\left[\\left(\\frac{q}{p}\\right)^{i}-1\\right]+\\frac{i}{q-p}.\n$$\n为了确定与期望首中时对应的正确解，我们施加一个标准的正则性条件，即当 $i\\to\\infty$ 时，$m_{i}$ 的增长最多是线性的。由于 $q>p$ 意味着 $(q/p)^{i}$ 呈指数增长，为了避免指数增长并获得最小非负解，我们必须取 $B=0$。因此\n$$\nm_{i}=\\frac{i}{q-p}.\n$$\n\n当 $p=0.49$ 且 $q=1-p=0.51$ 时，从 $i=50$ 开始，\n$$\n\\mathbb{E}[T]=m_{50}=\\frac{50}{0.51-0.49}=\\frac{50}{0.02}=2500.\n$$\n因此，池耗尽的期望时间是 $2500$ 小时。", "answer": "$$\\boxed{2500}$$", "id": "1301357"}, {"introduction": "现在，让我们从直接计算转向对系统规模如何影响其行为的更深层次的直觉理解。这个练习提出了一个简单但深刻的问题：如果我们将博弈的规模（总资本 $N$）和玩家的初始赌注（$k$）都加倍，那么博弈的预期持续时间会如何变化 [@problem_id:1301315]？这个问题的答案揭示了一个不那么直观但非常强大的标度律，它将加深我们对随机过程行为的理解。", "problem": "两名玩家，Alice和Bob，正在进行一个简单的回合制筹码游戏。在每一回合，抛掷一枚公平的硬币。如果结果为正面，Alice给Bob一个筹码。如果结果为反面，Bob给Alice一个筹码。当一名玩家的筹码用完（即拥有0个筹码）时，游戏立即结束，此时另一名玩家拥有所有筹码。\n\n我们将分析这个游戏的两个不同版本。\n\n在**游戏1**中，游戏中的总筹码数量为$N$。Alice开始时拥有$k$个筹码，其中$0 < k < N$。设$T_1$为游戏1结束时的期望回合数。\n\n在**游戏2**中，游戏中的总筹码数量翻倍至$2N$。为保证公平比较，Alice初始筹码占总数的比例与游戏1中相同。设$T_2$为游戏2结束时的期望回合数。\n\n确定比值 $T_2 / T_1$ 的值。结果是一个常数，与$N$和$k$均无关。你的答案应该是一个数字。", "solution": "设$X_{t}$表示Alice在$t$回合后的筹码数量。在每一回合，$X_{t}$以$\\frac{1}{2}$的概率增加1（反面：Bob给Alice一个筹码），并以$\\frac{1}{2}$的概率减少1（正面：Alice给Bob一个筹码）。当$X_{t}$达到0或总数时，游戏结束。这是一个带有吸收壁的简单对称随机游走。\n\n设$E_{k}^{(N)}$为总数为$N$、初始状态为$k$时达到吸收态的期望时间，其中$0<k<N$。根据全期望定律和马尔可夫性质，对于$k=1,2,\\dots,N-1$，\n$$\nE_{k}^{(N)}=1+\\frac{1}{2}E_{k+1}^{(N)}+\\frac{1}{2}E_{k-1}^{(N)},\n$$\n边界条件为\n$$\nE_{0}^{(N)}=0,\\qquad E_{N}^{(N)}=0.\n$$\n整理后得到二阶差分方程\n$$\nE_{k+1}^{(N)}-2E_{k}^{(N)}+E_{k-1}^{(N)}=-2.\n$$\n寻求一个形如$E_{k}^{(N)}=ak^{2}+bk+c$的二次解。则\n$$\nE_{k+1}^{(N)}-2E_{k}^{(N)}+E_{k-1}^{(N)}=2a,\n$$\n所以$2a=-2$，因此$a=-1$。边界条件$E_{0}^{(N)}=0$给出$c=0$，而$E_{N}^{(N)}=0$给出$-N^{2}+bN=0$，所以$b=N$。因此\n$$\nE_{k}^{(N)}=k(N-k).\n$$\n\n在游戏1中，$T_{1}=E_{k}^{(N)}=k(N-k)$。\n\n在游戏2中，总数为$2N$，且Alice的初始筹码比例保持不变，所以她的初始筹码数为$2N\\cdot\\frac{k}{N}=2k$。因此\n$$\nT_{2}=E_{2k}^{(2N)}=2k\\bigl(2N-2k\\bigr)=4k(N-k).\n$$\n所以该比值为\n$$\n\\frac{T_{2}}{T_{1}}=\\frac{4k(N-k)}{k(N-k)}=4,\n$$\n该结果与$N$和$k$无关。", "answer": "$$\\boxed{4}$$", "id": "1301315"}]}