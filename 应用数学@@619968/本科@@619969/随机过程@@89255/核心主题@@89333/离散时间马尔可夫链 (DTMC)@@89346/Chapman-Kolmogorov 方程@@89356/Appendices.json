{"hands_on_practices": [{"introduction": "理论学习之后，最好的检验方式就是动手实践。让我们从一个简单直观的例子开始，应用查普曼-科尔莫戈罗夫（Chapman-Kolmogorov）方程。通过这个练习，你将为一个在两个房间之间移动的机器人建立一个简单的马尔可夫链模型，并计算它在几个时间步后的位置概率。这个过程将帮助你理解如何通过重复应用单步转移概率（即矩阵乘法）来预测系统的长期行为，这是查普曼-科尔莫戈罗夫方程在时间齐次马尔可夫链中的核心应用 [@problem_id:1347922]。", "problem": "一个智能扫地机器人在一间有两间房的公寓里工作，分别是客厅（房间1）和卧室（房间2）。机器人在房间之间的移动被建模为一个离散时间随机过程。在每个清洁周期（一个时间步）结束时，机器人根据其当前位置决定下一步去哪里。\n\n转移概率如下：\n- 如果机器人在客厅（房间1），它有 $\\frac{1}{3}$ 的概率在下一个周期停留在客厅，有 $\\frac{2}{3}$ 的概率移动到卧室（房间2）。\n- 如果机器人在卧室（房间2），它有 $\\frac{1}{2}$ 的概率在下一个周期移动到客厅，有 $\\frac{1}{2}$ 的概率停留在卧室。\n\n假设机器人在时间步 $t=0$ 时从客厅开始其清洁过程。在时间步 $t=3$ 时，机器人在客厅的概率是多少？请用一个分数表示你的答案。", "solution": "将机器人的位置建模为一个双状态马尔可夫链，状态为 $1$（客厅）和 $2$（卧室）。设 $p_{t}=\\mathbb{P}(X_{t}=1)$ 为机器人在时间 $t$ 位于客厅的概率。根据全概率公式和给定的转移概率，\n$$\np_{t+1}=p_{t}\\cdot \\frac{1}{3}+(1-p_{t})\\cdot \\frac{1}{2}=\\frac{1}{2}-\\frac{1}{6}p_{t}.\n$$\n这是一个线性差分方程。其不动点 $p^{*}$ 满足\n$$\np^{*}=\\frac{1}{2}-\\frac{1}{6}p^{*}\\quad\\Rightarrow\\quad p^{*}\\left(1+\\frac{1}{6}\\right)=\\frac{1}{2}\\quad\\Rightarrow\\quad p^{*}=\\frac{3}{7}.\n$$\n因此，通解为\n$$\np_{t}-p^{*}=\\left(-\\frac{1}{6}\\right)^{t}\\left(p_{0}-p^{*}\\right).\n$$\n根据初始条件 $p_{0}=1$，我们得到\n$$\np_{3}=\\frac{3}{7}+\\left(1-\\frac{3}{7}\\right)\\left(-\\frac{1}{6}\\right)^{3}=\\frac{3}{7}+\\frac{4}{7}\\left(-\\frac{1}{216}\\right)=\\frac{3}{7}-\\frac{1}{378}=\\frac{162-1}{378}=\\frac{161}{378}=\\frac{23}{54}.\n$$\n因此，机器人在时间步 $t=3$ 时位于客厅的概率是 $\\frac{23}{54}$。", "answer": "$$\\boxed{\\frac{23}{54}}$$", "id": "1347922"}, {"introduction": "在掌握了基本的多步转移计算后，让我们来探索一个更复杂的系统，这个系统包含“终点”状态，也就是所谓的吸收态。本练习模拟了一个软件调试过程，其中“问题修复”和“放弃”是不可逆转的最终结果。你将计算在给定时间内到达“问题修复”这个吸收态的总概率，这需要你逐步追踪整个系统在各个状态下的概率分布。这个练习不仅能巩固你对查普曼-科尔莫戈罗夫方程的运用，还能让你深入理解吸收态在随机过程建模中的重要作用 [@problem_id:1347992]。", "problem": "一个软件开发人员调试过程的简化模型由四种状态描述：\n- 状态 1：调试中\n- 状态 2：测试修复方案\n- 状态 3：漏洞已修复\n- 状态 4：放弃\n\n该过程以小时为单位进行观察，系统状态的演化是一个随机过程。在任何给定小时内，状态之间转移的概率如下：\n\n- 如果开发人员处于状态 1（调试中），在下一小时，有 0.4 的概率停留在状态 1，0.5 的概率转移到状态 2，0.1 的概率转移到状态 4。不可能从状态 1 直接转移到状态 3。\n- 如果开发人员处于状态 2（测试修复方案），测试将在一小时内完成。有 0.65 的概率修复成功，系统转移到状态 3。有 0.3 的概率修复失败，返回到状态 1。最后，有 0.05 的概率修复方案带来灾难性后果，导致系统转移到状态 4。\n- 状态 3 和 4 是吸收态。一旦系统进入这两个状态中的任何一个，它将无限期地停留在那里。\n\n假设开发人员在时间 $t=0$ 时从“调试中”状态开始，那么在第三小时结束时或之前（即时间 $t=3$ 前）漏洞被修复的概率是多少？请将答案四舍五入到三位有效数字。", "solution": "设状态索引为 $1,2,3,4$，其中 $3$ 和 $4$ 为吸收态。一步转移矩阵 $P$ 为\n$$\nP=\\begin{pmatrix}\n0.4  0.5  0  0.1\\\\\n0.3  0  0.65  0.05\\\\\n0  0  1  0\\\\\n0  0  0  1\n\\end{pmatrix}.\n$$\n在 $t=0$ 时从状态 $1$ 开始，初始分布为\n$$\np_{0}=\\begin{pmatrix}1  0  0  0\\end{pmatrix}.\n$$\n根据查普曼-科尔莫戈洛夫方程，有 $p_{n+1}=p_{n}P$。\n\n第一步：\n$$\np_{1}=p_{0}P=\\begin{pmatrix}0.4  0.5  0  0.1\\end{pmatrix}.\n$$\n\n第二步：通过矩阵乘法计算分量，\n$$\np_{2,1}=0.4\\cdot 0.4+0.5\\cdot 0.3+0\\cdot 0+0.1\\cdot 0=0.31,\n$$\n$$\np_{2,2}=0.4\\cdot 0.5+0.5\\cdot 0+0\\cdot 0+0.1\\cdot 0=0.20,\n$$\n$$\np_{2,3}=0.4\\cdot 0+0.5\\cdot 0.65+0\\cdot 1+0.1\\cdot 0=0.325,\n$$\n$$\np_{2,4}=0.4\\cdot 0.1+0.5\\cdot 0.05+0\\cdot 0+0.1\\cdot 1=0.165,\n$$\n所以\n$$\np_{2}=\\begin{pmatrix}0.31  0.20  0.325  0.165\\end{pmatrix}.\n$$\n\n第三步：\n$$\np_{3,1}=0.31\\cdot 0.4+0.20\\cdot 0.3+0.325\\cdot 0+0.165\\cdot 0=0.184,\n$$\n$$\np_{3,2}=0.31\\cdot 0.5+0.20\\cdot 0+0.325\\cdot 0+0.165\\cdot 0=0.155,\n$$\n$$\np_{3,3}=0.31\\cdot 0+0.20\\cdot 0.65+0.325\\cdot 1+0.165\\cdot 0=0.455,\n$$\n$$\np_{3,4}=0.31\\cdot 0.1+0.20\\cdot 0.05+0.325\\cdot 0+0.165\\cdot 1=0.206,\n$$\n所以\n$$\np_{3}=\\begin{pmatrix}0.184  0.155  0.455  0.206\\end{pmatrix}.\n$$\n\n因为状态 3 是吸收态，所以在 $t=3$ 或之前漏洞被修复的概率等于在 $t=3$ 时处于状态 3 的概率，即 $p_{3,3}=0.455$。四舍五入到三位有效数字，结果为 $0.455$。", "answer": "$$\\boxed{0.455}$$", "id": "1347992"}, {"introduction": "现实世界中的许多系统规则并非一成不变，而是会随时间演化。这个进阶练习将挑战你处理一个非时间齐次的马尔可夫链，其中系统的转移规则本身也在发生变化。你将分析一个在动态变化的图上进行的随机游走，其连接结构在第一步后发生了改变。要解决这个问题，你必须运用查普曼-科尔莫戈罗夫方程的更一般形式，即通过连乘不同时间步的转移矩阵来计算多步转移概率。这个练习将极大地加深你对该方程普适性的理解，并展示其在分析复杂动态系统时的强大能力 [@problem_id:706878]。", "problem": "考虑一个在时变图上的离散时间懒惰随机游走，该图包含三个顶点 $V = \\{1, 2, 3\\}$。此游走的行为由一个懒惰参数 $p \\in (0, 1)$ 控制。在任意顶点 $v$，游走者有 $p$ 的概率在下一时间步停留在 $v$。有 $1-p$ 的概率，游走者会移动到一个随机均匀选择的相邻顶点。一个顶点 $v$ 的邻居集合由其在特定时间图中的度 $d(v)$ 确定。如果一个顶点没有邻居（$d(v)=0$），则游走者以概率 1 停留在 $v$。\n\n图的结构是随时间变化的。\n- 在第一个时间步，从时间 $t=0$到 $t=1$，图为 $G_0 = (V, E_0)$，其边集为 $E_0 = \\{(1, 3), (2, 3)\\}$。\n- 在所有后续时间步，对于所有 $n \\ge 1$，从 $t=n$ 到 $t=n+1$，在顶点 1 和 2 之间添加一条边。图变为 $G_1 = (V, E_1)$，其边集为 $E_1 = \\{(1, 2), (1, 3), (2, 3)\\}$。\n\n设 $P_{ij}(t)$ 表示游走者在时间 $t=0$ 时从顶点 $i$ 出发，在时间 $t$ 位于顶点 $j$ 的概率。使用针对时间非齐次马尔可夫链的查普曼-科尔莫戈罗夫方程，推导两步转移概率 $P_{33}(2)$ 作为懒惰参数 $p$ 的函数的闭式表达式。", "solution": "1. 两步转移概率由用于时间非齐次链的查普曼-科尔莫戈洛夫方程给出：\n   $$P_{33}(2)=\\sum_{k\\in\\{1,2,3\\}}P_{3k}(1)\\,P_{k3}(2)\\,. $$\n2. 在 $G_0$ 上（第一步），顶点 3 的度为 2，因此\n   $$P_{33}(1)=p,\\quad P_{31}(1)=P_{32}(1)=\\frac{1-p}{2}\\,. $$\n3. 在 $G_1$ 上（第二步），所有顶点的度均为 2，因此对于任意 $k\\in\\{1,2,3\\}$，\n   $$P_{k3}(2)=\\begin{cases}\n   p,k=3,\\\\\n   \\tfrac{1-p}{2},k=1,2.\n   \\end{cases}$$\n4. 代入求和式中：\n   $$\n   P_{33}(2)\n   =P_{33}(1)P_{33}(2)+P_{31}(1)P_{13}(2)+P_{32}(1)P_{23}(2)\n   =p\\cdot p+2\\cdot\\frac{1-p}{2}\\cdot\\frac{1-p}{2}\n   =p^2+\\frac{(1-p)^2}{2}\\,. \n   $$", "answer": "$$\\boxed{p^2+\\frac{(1-p)^2}{2}}$$", "id": "706878"}]}