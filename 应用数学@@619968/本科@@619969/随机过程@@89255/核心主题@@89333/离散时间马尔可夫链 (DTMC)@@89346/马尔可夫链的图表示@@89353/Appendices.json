{"hands_on_practices": [{"introduction": "掌握马尔可夫链的第一步是学会如何将其可视化。这个练习提供了一个具体的场景——一个在简单网格中导航的机器人——来实践如何将文字描述转化为精确的状态转移图[@problem_id:1305824]。通过绘制状态以及它们之间的概率转移，你将构建一个强大的工具来计算系统的未来行为。", "problem": "一个小型自主清洁机器人在一个方形房间里工作，该房间被划分为一个2x2的网格，包含四个相等的象限。这些象限用坐标标记：(1,1)代表左上，(1,2)代表右上，(2,1)代表左下，(2,2)代表右下。\n\n机器人的运动被建模为一个离散时间过程。在每个时间步，机器人从其当前象限移动到一个相邻象限。如果两个象限共享一条公共边（即，不仅仅是一个角），则它们被定义为“相邻”。机器人以相等的概率移动到其任何一个可用的相邻象限。例如，从象限(1,1)，机器人只能移动到(1,2)或(2,1)。\n\n如果机器人从左上象限(1,1)开始，那么在恰好两个时间步之后，它回到左上象限的概率是多少？请以小数形式表示您的答案，并保留两位有效数字。", "solution": "设系统的状态为机器人所在的象限。状态空间为 $S = \\{(1,1), (1,2), (2,1), (2,2)\\}$。我们可以将机器人的运动建模为此状态空间上的一个马尔可夫链。为了标记方便，我们为这些状态分配数字标签：$1 \\leftrightarrow (1,1)$，$2 \\leftrightarrow (1,2)$，$3 \\leftrightarrow (2,1)$，以及 $4 \\leftrightarrow (2,2)$。\n\n问题要求的是，在过程从状态1开始的条件下，经过两个时间步后仍处于状态1的概率。这对应两步转移矩阵中的元素 $P^{(2)}_{11}$，该矩阵是一步转移矩阵 $P$ 的平方。\n\n首先，我们构建一步转移矩阵 $P$，其中元素 $P_{ij}$ 是从状态 $i$ 在一步内移动到状态 $j$ 的概率。移动规则是在相邻象限中进行均匀随机选择。\n\n从状态1，(1,1)出发：相邻象限是(1,2)和(2,1)。因此，机器人移动到状态2或状态3，各自的概率为 $1/2$。$P$ 的第一行是 $(0, 1/2, 1/2, 0)$。\n$P_{11}=0, P_{12}=1/2, P_{13}=1/2, P_{14}=0$。\n\n从状态2，(1,2)出发：相邻象限是(1,1)和(2,2)。因此，机器人移动到状态1或状态4，各自的概率为 $1/2$。$P$ 的第二行是 $(1/2, 0, 0, 1/2)$。\n$P_{21}=1/2, P_{22}=0, P_{23}=0, P_{24}=1/2$。\n\n从状态3，(2,1)出发：相邻象限是(1,1)和(2,2)。因此，机器人移动到状态1或状态4，各自的概率为 $1/2$。$P$ 的第三行是 $(1/2, 0, 0, 1/2)$。\n$P_{31}=1/2, P_{32}=0, P_{33}=0, P_{34}=1/2$。\n\n从状态4，(2,2)出发：相邻象限是(1,2)和(2,1)。因此，机器人移动到状态2或状态3，各自的概率为 $1/2$。$P$ 的第四行是 $(0, 1/2, 1/2, 0)$。\n$P_{41}=0, P_{42}=1/2, P_{43}=1/2, P_{44}=0$。\n\n完整的一步转移矩阵 $P$ 是：\n$$\nP = \\begin{pmatrix}\n0 & \\frac{1}{2} & \\frac{1}{2} & 0 \\\\\n\\frac{1}{2} & 0 & 0 & \\frac{1}{2} \\\\\n\\frac{1}{2} & 0 & 0 & \\frac{1}{2} \\\\\n0 & \\frac{1}{2} & \\frac{1}{2} & 0\n\\end{pmatrix}\n$$\n\n两步转移概率是矩阵 $P^2 = P \\times P$ 中的元素。我们关心的是从状态1开始，经过两步后返回状态1的概率。这正是元素 $P^2_{11}$。这可以用矩阵乘法的定义来计算：\n$$\nP^2_{11} = \\sum_{k=1}^{4} P_{1k} P_{k1}\n$$\n使用矩阵 $P$ 中的值：\n$$\nP^2_{11} = P_{11} P_{11} + P_{12} P_{21} + P_{13} P_{31} + P_{14} P_{41}\n$$\n代入我们找到的概率值：\n$$\nP^2_{11} = (0)(0) + \\left(\\frac{1}{2}\\right)\\left(\\frac{1}{2}\\right) + \\left(\\frac{1}{2}\\right)\\left(\\frac{1}{2}\\right) + (0)(0)\n$$\n$$\nP^2_{11} = 0 + \\frac{1}{4} + \\frac{1}{4} + 0 = \\frac{2}{4} = \\frac{1}{2}\n$$\n或者，我们可以从路径的角度来分析。要从(1,1)出发并在两步后返回(1,1)，机器人必须移动到一个相邻的象限，然后立即返回。可能的路径是：\n1. (1,1) $\\rightarrow$ (1,2) $\\rightarrow$ (1,1)。这条路径的概率是 $P((1,1)\\rightarrow(1,2)) \\times P((1,2)\\rightarrow(1,1)) = \\frac{1}{2} \\times \\frac{1}{2} = \\frac{1}{4}$。\n2. (1,1) $\\rightarrow$ (2,1) $\\rightarrow$ (1,1)。这条路径的概率是 $P((1,1)\\rightarrow(2,1)) \\times P((2,1)\\rightarrow(1,1)) = \\frac{1}{2} \\times \\frac{1}{2} = \\frac{1}{4}$。\n这两条路径是互斥的，所以总概率是它们的概率之和：$\\frac{1}{4} + \\frac{1}{4} = \\frac{1}{2}$。\n\n概率是 $1/2 = 0.5$。题目要求答案保留两位有效数字，即 $0.50$。", "answer": "$$\\boxed{0.50}$$", "id": "1305824"}, {"introduction": "绘制出状态转移图后，我们就可以通过分析其结构来理解链的长期性质。这个问题使用一个带有单向桥梁的“哑铃”图，来介绍互通类、常返性和暂态性等关键概念[@problem_id:1305826]。通过识别哪些状态可以到达其他状态，以及是否可以返回，你将学会如何预测系统的最终走向。", "problem": "一个粒子在一组六个状态上进行随机游走，标记为 $S = \\{1, 2, 3, 4, 5, 6\\}$。状态之间的连接定义了粒子可能的转移。这些连接的拓扑结构形成一个“有向哑铃”结构，描述如下：\n\n-   **第一个簇：** 状态 $\\{1, 2, 3\\}$ 形成一个三角形。边上存在双向连接，意味着粒子可以在状态1和2之间、状态2和3之间、以及状态3和1之间双向移动。\n-   **第二个簇：** 状态 $\\{4, 5, 6\\}$ 形成第二个独立的三角形。与第一个簇类似，边上存在双向连接，允许在状态4和5之间、状态5和6之间、以及状态6和4之间双向移动。\n-   **桥梁：** 一个单向的桥连接着两个簇。从状态3到状态4的转移是可能的，但从状态4返回到状态3的转移是不可能的。\n\n在每个离散时间步，如果一个粒子处于状态 $i$，它将以相等的概率移动到其可达邻近状态之一。如果存在从 $i$ 到 $j$ 的有向路径，则状态 $j$ 是 $i$ 的一个可达邻近状态。\n\n基于此系统，请确定所有互通类，并将每个类分类为常返的或暂态的。选择正确描述这些类的选项。\n\nA. 一个暂态类 $\\{1, 2, 3\\}$ 和一个常返类 $\\{4, 5, 6\\}$。\n\nB. 一个常返类 $\\{1, 2, 3\\}$ 和一个暂态类 $\\{4, 5, 6\\}$。\n\nC. 一个互通类 $\\{1, 2, 3, 4, 5, 6\\}$，它是常返的。\n\nD. 两个常返类，$\\{1, 2, 3\\}$ 和 $\\{4, 5, 6\\}$。\n\nE. 两个暂态类，$\\{1, 2, 3\\}$ 和 $\\{4, 5, 6\\}$。\n\nF. 六个互通类，$\\{1\\}, \\{2\\}, \\{3\\}, \\{4\\}, \\{5\\}, \\{6\\}$，所有都是暂态的。", "solution": "我们将该系统建模为状态空间 $S=\\{1,2,3,4,5,6\\}$ 上的一个离散时间马尔可夫链。如果从状态 $i$ 可以到达状态 $j$ (记为 $i \\to j$) 并且从状态 $j$ 也可以回到状态 $i$ (记为 $j \\to i$)，我们称这两个状态是互通的 ($i \\leftrightarrow j$)。互通关系将所有状态划分为若干个互通类。在一个有限状态马尔可夫链中，一个互通类如果其中所有状态都无法离开该类，则称该类为封闭的，其中的所有状态都是常返的。如果一个互通类不是封闭的，那么其中的所有状态都是暂态的。\n\n步骤 1：确定互通类。\n- 在 $\\{1,2,3\\}$ 内部：由于状态1, 2, 3之间两两可以双向移动，它们是相互连通的。因此 $\\{1,2,3\\}$ 形成一个互通类。\n- 在 $\\{4,5,6\\}$ 内部：同理，状态4, 5, 6之间两两可以双向移动，它们也相互连通。因此 $\\{4,5,6\\}$ 形成另一个互通类。\n- 在簇之间：存在一个从状态 $3$ 到状态 $4$ 的单向桥梁。这意味着从 $\\{1,2,3\\}$ 中的任何状态都可以到达 $\\{4,5,6\\}$ 中的任何状态。然而，由于桥梁是单向的，从 $\\{4,5,6\\}$ 中的任何状态都无法返回到 $\\{1,2,3\\}$ 中的任何状态。因此，这两个簇中的状态不互通。\n所以，该马尔可夫链有两个互通类：$\\{1,2,3\\}$ 和 $\\{4,5,6\\}$。\n\n步骤 2：分类常返性与暂态性。\n- 对于类 $\\{4,5,6\\}$：一旦粒子进入这个类（例如到达状态4），它只能在状态4, 5, 6之间移动，因为没有从这些状态出发到类 $\\{1,2,3\\}$ 的路径。因此，类 $\\{4,5,6\\}$ 是一个封闭的互通类。在一个有限链中，封闭互通类中的所有状态都是常返的。\n- 对于类 $\\{1,2,3\\}$：当粒子处于状态3时，它有正的概率转移到状态4，从而离开这个类。由于存在离开该类的路径，所以 $\\{1,2,3\\}$ 不是一个封闭类。在一个有限链中，非封闭互通类中的所有状态都是暂态的。\n\n综上所述，存在两个互通类：$\\{1,2,3\\}$ 是一个暂态类，$\\{4,5,6\\}$ 是一个常返类。这对应于选项 A。", "answer": "$$\\boxed{A}$$", "id": "1305826"}, {"introduction": "真实世界的系统常常包含一些偏离标准随机游走的特殊规则。本练习模拟了一个视频游戏角色的生命值，其特点是包含吸收性的“战败”状态和确定性的“生命线”规则[@problem_id:1305831]。在此应用你关于状态分类的知识，将考验你分析更复杂、更精妙马尔可夫链的能力，从而展示这些图分析方法的普适性和强大功能。", "problem": "一个描述视频游戏角色“生命值”的简化模型由一个离散时间马尔可夫链给出，其状态空间为 $S = \\{0, 1, 2, \\ldots, 10\\}$。状态代表角色的生命值，其中状态 0 为“被击败”，状态 10 为“完全恢复”。系统根据以下规则进行演变：\n\n1.  “被击败”状态是永久的：如果角色的生命值为 0，它将永远保持为 0。\n2.  “完全恢复”状态也是永久的：如果生命值达到 10，它将永远保持为 10。\n3.  当角色的生命值处于任何水平 $i \\in \\{2, 3, \\ldots, 9\\}$ 时，他们会面临一个挑战。他们以概率 $p=0.5$ 成功（生命值增加 1），或以概率 $1-p=0.5$ 失败（生命值减少 1）。\n4.  有一个特殊的“紧急治疗”机制。如果角色的生命值降至 1，一个强大的法术会自动施放，其生命值会立即且确定性地恢复到 5。\n\n根据这个模型，确定该马尔可夫链的所有常返态的集合。\n\nA. $\\{0, 10\\}$\n\nB. $\\{10\\}$\n\nC. $\\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$\n\nD. $\\{0, 5, 10\\}$\n\nE. $\\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10\\}$\n\nF. 空集 $\\emptyset$", "solution": "一个状态是常返的，如果从该状态出发，最终必然会返回该状态。如果存在一个正概率从该状态出发后永不返回，则该状态是暂态的。在有限状态马尔可夫链中，吸收态（即进入后无法离开的状态）是常返态。\n\n步骤1：识别吸收态。\n- 根据规则1，如果生命值为0，它将永远保持为0。这意味着 $P(0,0)=1$。因此，状态0是一个吸收态。\n- 根据规则2，如果生命值达到10，它将永远保持为10。这意味着 $P(10,10)=1$。因此，状态10也是一个吸收态。\n作为吸收态，状态0和状态10都是常返态。\n\n步骤2：分析其他状态。\n- 我们需要确定状态集 $\\{1, 2, \\ldots, 9\\}$ 中的状态是常返的还是暂态的。\n- 考虑从任何状态 $i \\in \\{1, 2, \\ldots, 9\\}$ 出发。从状态 $i$ 到达状态10的路径是存在的。例如，从状态 $i$ 开始，可以通过一系列成功的挑战（生命值+1）最终到达状态10。这条路径的概率是正的。\n- 由于状态10是一个吸收态，一旦链进入状态10，它将永远停留在那里，无法返回到集合 $\\{1, 2, \\ldots, 9\\}$ 中的任何状态。\n- 这意味着，对于任何状态 $i \\in \\{1, 2, \\ldots, 9\\}$，都存在一个正的概率，使得链会离开状态 $i$ 并最终被状态10“吸收”，从而永不返回状态 $i$。\n- 根据暂态的定义，如果存在正概率永不返回，则该状态为暂态。因此，集合 $\\{1, 2, \\ldots, 9\\}$ 中的所有状态都是暂态的。\n- 值得注意的是，根据规则4，从状态1确定性地转移到状态5，并且根据规则3，从任何状态 $i \\in \\{2, \\ldots, 9\\}$ 都有可能到达状态1。因此，从任何中间状态都无法到达吸收态0。但这并不影响它们是暂态的这一结论，因为它们仍然可以被吸收态10捕获。\n\n综上所述，只有吸收态0和10是常返态。所有常返态的集合是 $\\{0, 10\\}$。这对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1305831"}]}