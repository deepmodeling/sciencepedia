{"hands_on_practices": [{"introduction": "让我们从一个基础练习开始，将杰克逊网络理论应用于一个熟悉的场景：快餐店。这个练习将帮助你掌握计算系统处于特定状态的稳态概率的核心技能。通过分析这个由两个服务台组成的串联系统，你将直接应用杰克逊网络的乘积形式解，这是理解更复杂网络行为的基石。[@problem_id:1312949]", "problem": "一家名为 QuickBurger 的快餐店可以建模为一个由两个串联服务站组成的系统。顾客首先到达点餐站，下单后，他们会移动到备餐站等待他们的食物。\n\n到达点餐站的顾客流服从泊松过程，平均速率为每分钟4位顾客。下单所需的时间服从指数分布，点餐站平均每分钟能服务6位顾客。准备食物所需的时间也服从指数分布，备餐站平均每分钟能完成5份订单。\n\n假设系统已运行很长时间并达到稳态，求点餐站正好有一位顾客（正在被服务）且备餐站正好有两位顾客（一位正在被服务，一位在等待）的概率是多少？\n\n将您的答案计算为小数并四舍五入到四位有效数字。", "solution": "将该餐厅建模为一个开放式杰克逊网络，其中包含两个串联的 M/M/1 节点。令外部到达率为 $\\lambda=4$ 顾客/分钟，点餐站（节点1）的服务率为 $\\mu_{1}=6$ 顾客/分钟，备餐站（节点2）的服务率为 $\\mu_{2}=5$ 顾客/分钟。稳定性要求 $\\lambda<\\mu_{1}$ 和 $\\lambda<\\mu_{2}$（即 $4<6$ 和 $4<5$），此条件成立，因此系统存在稳态。\n\n在杰克逊网络中，节点1的有效到达率是 $\\lambda_{1}=\\lambda=4$，并且所有顾客都会进入节点2，因此节点2的有效到达率也是 $\\lambda_{2}=\\lambda=4$。\n\n对于每个节点 $i$，我们可以计算其流量强度 $\\rho_i = \\lambda_i / \\mu_i$：\n$$\n\\rho_{1}=\\frac{\\lambda_{1}}{\\mu_{1}}=\\frac{4}{6}=\\frac{2}{3}\n$$\n$$\n\\rho_{2}=\\frac{\\lambda_{2}}{\\mu_{2}}=\\frac{4}{5}\n$$\n根据杰克逊网络的乘积形式解，各节点的稳态队列长度是相互独立的。因此，联合概率是各节点边缘概率的乘积：\n$$\n\\Pr(N_{1}=n_{1},N_{2}=n_{2}) = \\Pr(N_{1}=n_{1}) \\cdot \\Pr(N_{2}=n_{2})\n$$\n其中，对于一个 M/M/1 队列，稳态下有 $n$ 个顾客的概率为 $\\Pr(N=n)=(1-\\rho)\\rho^n$。\n\n我们想要求解 $\\Pr(N_{1}=1, N_{2}=2)$。首先分别计算每个节点的概率：\n$$\n\\Pr(N_{1}=1) = (1-\\rho_{1})\\rho_{1}^{1} = \\left(1-\\frac{2}{3}\\right)\\left(\\frac{2}{3}\\right) = \\frac{1}{3} \\cdot \\frac{2}{3} = \\frac{2}{9}\n$$\n$$\n\\Pr(N_{2}=2) = (1-\\rho_{2})\\rho_{2}^{2} = \\left(1-\\frac{4}{5}\\right)\\left(\\frac{4}{5}\\right)^2 = \\frac{1}{5} \\cdot \\frac{16}{25} = \\frac{16}{125}\n$$\n然后将它们相乘得到联合概率：\n$$\n\\Pr(N_{1}=1, N_{2}=2) = \\frac{2}{9} \\times \\frac{16}{125} = \\frac{32}{1125}\n$$\n结果以小数表示，并四舍五入到四位有效数字：\n$$\n\\frac{32}{1125} \\approx 0.028444\\ldots \\approx 0.02844.\n$$", "answer": "$$\\boxed{0.02844}$$", "id": "1312949"}, {"introduction": "在第一个练习的基础上，我们现在引入概率路由，这使得网络模型更具灵活性和真实性。在这个数据处理中心的问题中，任务在完成第一阶段后可能会被路由到不同的路径。这个练习的重点是首先求解流量平衡方程以确定每个站点的有效到达率 $\\lambda_i$，然后计算一个关键的性能指标——系统的预期作业数 $L$。[@problem_id:1313000]", "problem": "一个基于云的数据处理中心由两个顺序队列组成。任务从外部源到达第一个队列，“初始处理单元”，遵循泊松过程，平均速率为每分钟8个任务。初始处理单元有一个单一服务器，处理一个任务的时间呈指数分布，均值为5秒。在此处理后，25%的任务被路由到第二个队列，“二次验证单元”，进行质量检查。其余75%的任务离开系统。二次验证单元也有一个单一服务器，其服务时间呈指数分布，均值为12秒。所有在二次验证单元完成服务的任务都离开系统。假设系统处于稳态，计算二次验证单元中任务的期望数量。\n\n将最终答案四舍五入到三位有效数字。", "solution": "该系统可以建模为一个双站开放式 Jackson 网络。设站1为初始处理单元，站2为二次验证单元。我们需要求出站2中任务的期望数量，记为 $L_2$。\n\n首先，我们必须用一致的单位来表示所有速率。我们将使用“任务数/分钟”。\n\n系统的外部到达速率给定为 $\\gamma = 8$ 任务/分钟。所有这些到达都指向站1。因此，到站1的外部到达速率为 $\\gamma_1 = 8$ 任务/分钟，到站2的外部到达速率为 $\\gamma_2 = 0$。\n\n接下来，我们计算每个站的服务速率。服务速率 $\\mu$ 是平均服务时间的倒数。\n\n对于站1，平均服务时间为5秒。我们将其转换为分钟：\n站1的平均服务时间 = $5 \\text{ seconds} \\times \\frac{1 \\text{ minute}}{60 \\text{ seconds}} = \\frac{5}{60} \\text{ minutes} = \\frac{1}{12}$ 分钟。\n因此，站1的服务速率为：\n$\\mu_1 = \\frac{1}{1/12 \\text{ minutes/job}} = 12$ 任务/分钟。\n\n对于站2，平均服务时间为12秒。我们将其转换为分钟：\n站2的平均服务时间 = $12 \\text{ seconds} \\times \\frac{1 \\text{ minute}}{60 \\text{ seconds}} = \\frac{12}{60} \\text{ minutes} = \\frac{1}{5}$ 分钟。\n因此，站2的服务速率为：\n$\\mu_2 = \\frac{1}{1/5 \\text{ minutes/job}} = 5$ 任务/分钟。\n\n路由概率给定如下：\n$p_{12} = 0.25$ (从站1到站2)\n$p_{10} = 0.75$ (从站1离开系统)\n$p_{20} = 1.00$ (从站2离开系统)\n没有从站2返回到站1的路由，所以 $p_{21} = 0$。\n\n现在，我们必须求出每个站 $i$ 的总到达速率 $\\lambda_i$。对于开放式 Jackson 网络，流量平衡方程为：\n$\\lambda_i = \\gamma_i + \\sum_{j=1}^{N} \\lambda_j p_{ji}$\n\n对于站1：\n$\\lambda_1 = \\gamma_1 + \\lambda_1 p_{11} + \\lambda_2 p_{21}$\n由于没有任务从站1路由到自身（$p_{11}=0$）或从站2路由到站1（$p_{21}=0$），该方程简化为：\n$\\lambda_1 = \\gamma_1 = 8$ 任务/分钟。\n\n对于站2：\n$\\lambda_2 = \\gamma_2 + \\lambda_1 p_{12} + \\lambda_2 p_{22}$\n我们有 $\\gamma_2=0$，$p_{12}=0.25$，并且没有任务从站2路由到自身（$p_{22}=0$）。所以，\n$\\lambda_2 = 0 + \\lambda_1 (0.25) + 0 = 0.25 \\lambda_1$。\n代入 $\\lambda_1$ 的值：\n$\\lambda_2 = 0.25 \\times 8 = 2$ 任务/分钟。\n\n在继续之前，我们检查每个队列的稳定性条件，即 $\\lambda_i < \\mu_i$。\n对于站1：$\\lambda_1 = 8$ 且 $\\mu_1 = 12$。由于 $8 < 12$，队列是稳定的。\n对于站2：$\\lambda_2 = 2$ 且 $\\mu_2 = 5$。由于 $2 < 5$，队列是稳定的。\n系统是稳定的，因此存在稳态解。\n\n根据 Jackson 定理，开放网络中的每个站点的行为都像一个独立的 M/M/1 队列。一个 M/M/1 队列中任务的期望数量 $L$ 由公式 $L = \\frac{\\rho}{1-\\rho}$ 给出，其中 $\\rho = \\frac{\\lambda}{\\mu}$ 是流量强度。\n\n对于站2，流量强度为：\n$\\rho_2 = \\frac{\\lambda_2}{\\mu_2} = \\frac{2}{5} = 0.4$。\n\n站2中任务的期望数量 $L_2$ 为：\n$L_2 = \\frac{\\rho_2}{1-\\rho_2} = \\frac{2/5}{1-2/5} = \\frac{2/5}{3/5} = \\frac{2}{3}$。\n\n问题要求将答案四舍五入到三位有效数字。\n$L_2 = \\frac{2}{3} \\approx 0.66666...$\n四舍五入到三位有效数字得到 $0.667$。", "answer": "$$\\boxed{0.667}$$", "id": "1313000"}, {"introduction": "最后一个练习将我们的视角从纯粹的分析转向系统设计与优化，展示了杰克逊网络模型在工程决策中的强大应用。你将扮演网络管理员的角色，通过调整路由概率 $p$ 来平衡两个并行服务器的负载。这个问题的目标是推导出一个能使两个队列的预期等待队长 $L_q$ 相等的 $p$ 值，这不仅考验你对公式的运用，更考验你将理论转化为实际解决方案的能力。[@problem_id:1312980]", "problem": "一个内容分发网络（CDN）的数据路由中心管理着流向其服务器的流量。传入的数据包根据泊松过程到达一个中央路由器，其恒定的平均速率为每秒 $\\lambda$ 个数据包。该路由器采用一种概率性策略，将每个到达的数据包以概率 $p$ 发送到服务器1，以概率 $1-p$ 发送到服务器2。每个数据包的路由决策是相互独立的。\n\n服务器1是一台高性能服务器，其服务时间呈指数分布，对应的平均服务速率为每秒 $\\mu_1$ 个数据包。服务器2是一台标准的、容量较低的服务器，其服务时间也呈指数分布，但平均服务速率为每秒 $\\mu_2$ 个数据包。已知 $\\mu_1 > \\mu_2 > 0$。\n\n为了确保无论路由策略如何都能稳健运行，数据包的总流入量保持在足够低的水平，以至于对于任何可能的 $p \\in (0,1)$ 选择，两个服务器队列都保持稳定。具体来说，系统在条件 $\\lambda < \\mu_2$ 下运行。\n\n网络管理员希望通过调整路由概率 $p$ 来平衡服务器之间的负载。目标是设定 $p$，使得两个服务器的长期期望排队数据包数（即，不包括可能正在接受服务的那个数据包）相等。\n\n确定实现此条件的 $p$ 值。请用 $\\mu_1$ 和 $\\mu_2$ 的符号表达式表示你的答案。", "solution": "到达流是速率为 $\\lambda$ 的泊松过程。通过独立的伯努利路由，服务器1接收到速率为 $\\lambda_{1} = p \\lambda$ 的泊松到达过程，服务器2接收到速率为 $\\lambda_{2} = (1-p)\\lambda$ 的泊松到达过程。每个服务器分别是一个服务速率为 $\\mu_{1}$ 和 $\\mu_{2}$ 的 $M/M/1$ 队列。稳定性由给定条件 $\\lambda < \\mu_{2}$ 和 $\\mu_{1} > \\mu_{2}$ 保证，这意味着对于任何 $p \\in (0,1)$，都有 $\\lambda_{1} < \\mu_{1}$ 和 $\\lambda_{2} < \\mu_{2}$。\n\n对于一个话务强度为 $\\rho = \\lambda/\\mu \\in (0,1)$ 的 $M/M/1$ 队列，稳态下的期望排队数（不包括正在服务的任务）为\n$$\nL_{q} = \\frac{\\rho^{2}}{1-\\rho}.\n$$\n因此，对于服务器1和服务器2，\n$$\nL_{q,1} = \\frac{\\rho_{1}^{2}}{1-\\rho_{1}}, \\quad \\rho_{1} = \\frac{\\lambda_{1}}{\\mu_{1}} = \\frac{p \\lambda}{\\mu_{1}}, \\qquad\nL_{q,2} = \\frac{\\rho_{2}^{2}}{1-\\rho_{2}}, \\quad \\rho_{2} = \\frac{\\lambda_{2}}{\\mu_{2}} = \\frac{(1-p)\\lambda}{\\mu_{2}}.\n$$\n我们要求 $L_{q,1} = L_{q,2}$，即，\n$$\n\\frac{\\rho_{1}^{2}}{1-\\rho_{1}} = \\frac{\\rho_{2}^{2}}{1-\\rho_{2}}.\n$$\n定义 $f(\\rho) = \\frac{\\rho^{2}}{1-\\rho}$，其中 $\\rho \\in (0,1)$。其导数为\n$$\nf'(\\rho) = \\frac{2\\rho(1-\\rho) - \\rho^{2}(-1)}{(1-\\rho)^{2}} = \\frac{2\\rho - \\rho^{2}}{(1-\\rho)^{2}} > 0 \\quad \\text{for } \\rho \\in (0,1),\n$$\n所以 $f$ 在 $(0,1)$ 上是严格递增的。因此 $f(\\rho_{1}) = f(\\rho_{2})$ 意味着 $\\rho_{1} = \\rho_{2}$。因此，\n$$\n\\frac{p \\lambda}{\\mu_{1}} = \\frac{(1-p)\\lambda}{\\mu_{2}} \\;\\;\\Longrightarrow\\;\\; \\frac{p}{\\mu_{1}} = \\frac{1-p}{\\mu_{2}} \\;\\;\\Longrightarrow\\;\\; p \\mu_{2} = \\mu_{1}(1-p).\n$$\n求解 $p$ 可得，\n$$\np(\\mu_{1}+\\mu_{2}) = \\mu_{1} \\;\\;\\Longrightarrow\\;\\; p = \\frac{\\mu_{1}}{\\mu_{1}+\\mu_{2}}.\n$$\n由于 $\\mu_{1},\\mu_{2} > 0$，此 $p$ 位于 $(0,1)$ 区间内，并且它使得期望队列长度相等。", "answer": "$$\\boxed{\\frac{\\mu_{1}}{\\mu_{1}+\\mu_{2}}}$$", "id": "1312980"}]}