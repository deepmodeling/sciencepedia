{"hands_on_practices": [{"introduction": "对任何排队系统的分析通常始于计算其关键性能指标。这个练习旨在帮助你掌握计算M/M/1/K队列中最基本的度量之一：系统中的平均任务数 $L$。通过解决这个关于3D打印机队列的实际问题，你将学会应用稳态概率公式来评估系统的拥堵程度，这是容量规划和资源管理中的一项基本技能 [@problem_id:1341355]。", "problem": "一所大学的数字制造实验室运行着一台高精度3D打印机。打印任务请求以电子方式提交，并根据泊松过程到达，平均速率为每小时10个任务。任何任务的打印时间都呈指数分布，平均每个任务为5分钟。系统容量有限：它可以容纳正在打印的任务以及在等待缓冲区中的最多4个额外任务。如果一个任务到达时缓冲区已满且打印机正忙，该任务将被拒绝并丢失。对于此系统，计算长期平均存在的任务数量（等待中或正在打印中）。将你的最终答案四舍五入到三位有效数字。", "solution": "到达遵循泊松过程，速率为 $\\lambda=10$ 个任务/小时。服务时间呈指数分布，平均值为 $5$ 分钟 $=\\frac{1}{12}$ 小时，因此服务速率为 $\\mu=12$ 个任务/小时。系统总共最多可容纳 $K=5$ 个任务（一个在服务中，4个在等待）。这是一个 $M/M/1/K$ 排队模型，其中 $K=5$。\n\n定义流量强度 $\\rho=\\frac{\\lambda}{\\mu}$。这里 $\\rho=\\frac{10}{12}=\\frac{5}{6}<1$。对于一个 $M/M/1/K$ 生灭过程，稳态概率为\n$$\np_{n}=p_{0}\\rho^{n}, \\quad n=0,1,\\dots,K,\n$$\n其中\n$$\np_{0}=\\frac{1-\\rho}{1-\\rho^{K+1}} \\quad (\\rho\\neq 1).\n$$\n系统中的长期平均数量为\n$$\nL=\\sum_{n=0}^{K} n p_{n}=p_{0}\\sum_{n=0}^{K} n \\rho^{n}.\n$$\n使用有限几何级数求和恒等式\n$$\n\\sum_{n=0}^{K} n r^{n}=\\frac{r\\left(1-(K+1)r^{K}+Kr^{K+1}\\right)}{(1-r)^{2}},\n$$\n我们得到\n$$\nL=p_{0}\\cdot \\frac{\\rho\\left(1-(K+1)\\rho^{K}+K\\rho^{K+1}\\right)}{(1-\\rho)^{2}}\n=\\frac{\\rho\\left(1-(K+1)\\rho^{K}+K\\rho^{K+1}\\right)}{(1-\\rho)\\left(1-\\rho^{K+1}\\right)}.\n$$\n代入 $\\rho=\\frac{5}{6}$ 和 $K=5$：\n$$\nL=\\frac{\\frac{5}{6}\\left(1-6\\left(\\frac{5}{6}\\right)^{5}+5\\left(\\frac{5}{6}\\right)^{6}\\right)}{\\left(1-\\frac{5}{6}\\right)\\left(1-\\left(\\frac{5}{6}\\right)^{6}\\right)}.\n$$\n计算幂并进行精确简化：\n$$\n\\left(\\frac{5}{6}\\right)^{5}=\\frac{3125}{7776},\\quad \\left(\\frac{5}{6}\\right)^{6}=\\frac{15625}{46656},\n$$\n所以\n$$\n1-6\\left(\\frac{5}{6}\\right)^{5}+5\\left(\\frac{5}{6}\\right)^{6}\n=1-\\frac{112500}{46656}+\\frac{78125}{46656}\n=\\frac{12281}{46656}.\n$$\n因此\n$$\nL=\\frac{\\frac{5}{6}\\cdot \\frac{12281}{46656}}{\\left(\\frac{1}{6}\\right)\\left(\\frac{31031}{46656}\\right)}\n=\\frac{\\frac{61405}{279936}}{\\frac{31031}{279936}}\n=\\frac{61405}{31031}\\approx 1.9788.\n$$\n四舍五入到三位有效数字得到 $1.98$。", "answer": "$$\\boxed{1.98}$$", "id": "1341355"}, {"introduction": "在评估服务质量时，客户的等待时间是一个至关重要的指标。这个练习比简单计算系统中的任务数更进了一步，要求你计算被接受进入系统的客户在队列中的平均等待时间 $W_q$。你需要综合运用多个概念，包括有效到达率 $\\lambda_{\\text{eff}}$、队列中的平均任务数 $L_q$ 以及利特尔定律 (Little's Law)，从而更深入地理解有限容量系统中的延迟特性 [@problem_id:1341377]。", "problem": "一个网络路由器被设计用来处理传入的数据包。该路由器有一个单一处理单元和一个有限的缓冲区。数据包根据泊松过程到达，平均速率为 $\\lambda = 450$ 包/秒。路由器的处理单元处理数据包的服务时间呈指数分布，平均服务速率为 $\\mu = 500$ 包/秒。系统总容量为 $K=6$ 个数据包（此容量包括正在处理的数据包（如有）以及在缓冲区中等待的数据包）。如果新数据包到达时系统已满，则该数据包将被丢弃和丢失。\n\n计算一个*未被*丢弃的数据包在开始处理前在缓冲区中等待的平均时间。\n\n以毫秒（ms）为单位提供答案，保留三位有效数字。", "solution": "将该路由器建模为一个 M/M/1/K 排队系统，其到达速率为 $\\lambda$，服务速率为 $\\mu$，容量为 $K$。令 $\\rho = \\lambda/\\mu$。对于 $n=0,1,\\dots,K$，其稳态分布为\n$$\nP_{n} = P_{0} \\rho^{n}, \\quad P_{0} = \\frac{1 - \\rho}{1 - \\rho^{K+1}}.\n$$\n被接纳数据包的有效（吞吐量）到达速率为\n$$\n\\lambda_{\\text{eff}} = \\lambda \\left(1 - P_{K}\\right) = \\lambda \\left(1 - P_{0} \\rho^{K}\\right).\n$$\n系统中的期望数据包数量为\n$$\nL = \\sum_{n=0}^{K} n P_{n} = \\frac{\\sum_{n=0}^{K} n \\rho^{n}}{\\sum_{n=0}^{K} \\rho^{n}} = \\frac{S_{1}}{S_{0}},\n$$\n其中\n$$\nS_{0} = \\sum_{n=0}^{K} \\rho^{n} = \\frac{1 - \\rho^{K+1}}{1 - \\rho}, \\quad S_{1} = \\sum_{n=0}^{K} n \\rho^{n} = \\frac{\\rho\\left(1 - (K+1)\\rho^{K} + K \\rho^{K+1}\\right)}{(1 - \\rho)^{2}}.\n$$\n队列中的期望数据包数量（不包括正在服务的那一个）为\n$$\nL_{q} = L - \\Pr\\{\\text{服务器忙}\\} = L - (1 - P_{0}).\n$$\n根据应用于被接纳数据包队列的利特尔法则（对于立即进入服务的那些数据包，等待时间计为零），\n$$\nW_{q} = \\frac{L_{q}}{\\lambda_{\\text{eff}}}.\n$$\n代入给定值 $\\lambda = 450$，$\\mu = 500$，$K=6$。则 $\\rho = \\lambda/\\mu = 0.9$，并且\n$$\n\\rho^{6} = 0.531441, \\quad \\rho^{7} = 0.4782969,\n$$\n$$\nS_{0} = \\frac{1 - 0.4782969}{1 - 0.9} = 5.217031, \\quad P_{0} = \\frac{1}{S_{0}} \\approx 0.1916799,\n$$\n$$\nS_{1} = \\frac{0.9\\left(1 - 7\\cdot 0.531441 + 6\\cdot 0.4782969\\right)}{0.1^{2}} = 13.472496,\n$$\n$$\nL = \\frac{S_{1}}{S_{0}} \\approx \\frac{13.472496}{5.217031} \\approx 2.5824067,\n$$\n$$\nL_{q} = L - (1 - P_{0}) \\approx 2.5824067 - 0.8083201 \\approx 1.7740866,\n$$\n$$\nP_{6} = P_{0}\\rho^{6} \\approx 0.1916799 \\times 0.531441 \\approx 0.1018666,\n$$\n$$\n\\lambda_{\\text{eff}} = \\lambda(1 - P_{6}) \\approx 450 \\times 0.8981334 \\approx 404.1600,\n$$\n$$\nW_{q} = \\frac{L_{q}}{\\lambda_{\\text{eff}}} \\approx \\frac{1.7740866}{404.1600} \\approx 0.00438957 \\text{ s} = 4.38957 \\text{ ms}.\n$$\n保留三位有效数字，一个未被丢弃的数据包在缓冲区中的平均等待时间为 $4.39$ ms。", "answer": "$$\\boxed{4.39}$$", "id": "1341377"}, {"introduction": "这个练习提供了一个独特的挑战，旨在培养你的分析和推理能力。与根据给定的系统参数计算性能指标不同，你需要反向思考：从观察到的系统性能（服务器利用率与阻塞概率之间的关系）来推断出核心的系统参数——流量强度 $\\rho$。这类“逆向问题”在现实世界的工程场景中非常常见，它能让你更深刻地体会到不同性能度量之间是如何相互关联和制约的 [@problem_id:1341357]。", "problem": "一个深空通信枢纽被设计用于缓冲和传输来自高轨道卫星的数据包。到达该枢纽的数据包可以被建模为一个泊松过程，而传输单个数据包所需的时间服从指数分布。系统容量有限，最多允许总共 $K=3$ 个数据包（即，一个正在传输的数据包和最多两个数据包的队列）。因此，该系统的行为符合 M/M/1/K 排队模型。\n\n在稳态条件下，工程师们观察到该系统性能的一个特殊性质：长期服务器利用率（传输器处于忙碌状态的时间比例）恰好是长期阻塞概率（一个到达的数据包因系统已满而被拒绝的概率）的七倍。\n\n令 $\\rho = \\lambda/\\mu$ 为流量强度，其中 $\\lambda$ 是数据包的平均到达率，$\\mu$ 是平均服务率。你的任务是基于这一观察确定 $\\rho$ 的数值。\n\n计算流量强度 $\\rho$ 的值。请将你的答案表示为一个精确的分数。", "solution": "将系统建模为具有 $K=3$ 的 M/M/1/K 队列，因此允许的状态为 $n=0,1,2,3$。对于一个 M/M/1/K 生灭过程，在稳态下，平稳概率满足 $p_{n} = p_{0}\\rho^{n}$（对于 $0 \\le n \\le 3$），其中 $\\rho = \\lambda/\\mu$。归一化可得\n$$\n\\sum_{n=0}^{3} p_{n} \\;=\\; p_{0}\\sum_{n=0}^{3} \\rho^{n} \\;=\\; 1,\n$$\n因此\n$$\np_{0} \\;=\\; \\frac{1}{1+\\rho+\\rho^{2}+\\rho^{3}}.\n$$\n该表达式对所有 $\\rho \\geq 0$ 均有效（根据连续性，也包括 $\\rho=1$ 的情况）。\n\n服务器利用率（传输器处于忙碌状态的时间比例）是指系统不为空的概率：\n$$\nU \\;=\\; 1 - p_{0} \\;=\\; \\frac{\\rho + \\rho^{2} + \\rho^{3}}{1+\\rho+\\rho^{2}+\\rho^{3}}.\n$$\n根据 PASTA 原理，阻塞概率等于系统处于满负荷状态的稳态概率，因此\n$$\nB \\;=\\; p_{3} \\;=\\; \\frac{\\rho^{3}}{1+\\rho+\\rho^{2}+\\rho^{3}}.\n$$\n观察到的性质表明 $U = 7B$，因此\n$$\n\\frac{\\rho + \\rho^{2} + \\rho^{3}}{1+\\rho+\\rho^{2}+\\rho^{3}} \\;=\\; 7 \\cdot \\frac{\\rho^{3}}{1+\\rho+\\rho^{2}+\\rho^{3}}.\n$$\n两边同乘以 $1+\\rho+\\rho^{2}+\\rho^{3}$ 得到\n$$\n\\rho + \\rho^{2} + \\rho^{3} \\;=\\; 7\\rho^{3},\n$$\n所以\n$$\n\\rho + \\rho^{2} \\;=\\; 6\\rho^{3}.\n$$\n如果 $\\rho=0$，等式当然成立（零负载），但对于正的流量强度 $\\rho>0$，我们将方程两边同除以 $\\rho$ 得到\n$$\n1 + \\rho \\;=\\; 6\\rho^{2}.\n$$\n这是一个二次方程，\n$$\n6\\rho^{2} - \\rho - 1 \\;=\\; 0,\n$$\n其解为\n$$\n\\rho \\;=\\; \\frac{1 \\pm \\sqrt{1+24}}{12} \\;=\\; \\frac{1 \\pm 5}{12}.\n$$\n解为 $\\rho = \\frac{1}{2}$ 和 $\\rho = -\\frac{1}{3}$（舍去负解）。因此，满足该观察条件的正流量强度为\n$$\n\\rho \\;=\\; \\frac{1}{2}.\n$$", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "1341357"}]}