{"hands_on_practices": [{"introduction": "我们的第一个实践练习聚焦于M/M/∞队列最基本的特性：不存在排队等待时间。这意味着一个顾客在系统中的总逗留时间就是其服务时间。这个练习 [@problem_id:1342062] 要求你运用指数分布的知识来计算一个与该时间相关的关键概率，从而将模型参数与一个可观察的结果直接联系起来。", "problem": "考虑一个大规模计算卸载系统，其中有无限数量的云服务器可用于处理任务。该系统被建模为一个 M/M/∞ 排队。任务根据平均到达率为 $\\lambda$ 的泊松过程到达该系统。任务一旦到达，立即被分配给一个唯一可用的服务器。服务器处理一个任务所需的时间是一个独立同分布的随机变量，服从平均服务率为 $\\mu$ 的指数分布。\n\n对于一个新到达的任务，确定其在系统中的总时间（从到达至服务完成）小于任意给定任务的平均服务时间的精确概率。\n\n请以单个封闭形式的解析表达式给出您的答案。", "solution": "在 M/M/∞ 系统中，每个到达的任务都会立即被分配给它自己的服务器，因此没有排队延迟。所以，一个新到达任务在系统中的总时间等于其服务时间。令 $S$ 表示服务时间，它服从速率为 $\\mu$ 的指数分布，因此 $S \\sim \\text{Exp}(\\mu)$，其均值为 $\\mathbb{E}[S]=\\frac{1}{\\mu}$。\n\n我们要求的是在系统中的总时间小于平均服务时间的概率。即\n$$\n\\mathbb{P}\\left(S<\\frac{1}{\\mu}\\right).\n$$\n速率为 $\\mu$ 的指数随机变量的累积分布函数为\n$$\n\\mathbb{P}(S \\leq t)=1-\\exp(-\\mu t), \\quad t \\geq 0.\n$$\n在 $t=\\frac{1}{\\mu}$ 处求值可得\n$$\n\\mathbb{P}\\left(S<\\frac{1}{\\mu}\\right)=1-\\exp\\left(-\\mu \\cdot \\frac{1}{\\mu}\\right)=1-\\exp(-1).\n$$\n这个概率与 $\\lambda$ 无关，因为在 M/M/∞ 系统中，逗留时间等于服务时间。", "answer": "$$\\boxed{1-\\exp(-1)}$$", "id": "1342062"}, {"introduction": "在理解了单个顾客的体验后，我们现在将注意力转向整个系统的宏观状态。这个问题巧妙地以基因表达为M/M/∞队列的生动类比，要求你确定在平衡状态下“顾客”（mRNA分子）数量的统计变异性。这项练习 [@problem_id:1342048] 将演示如何推导系统关键的稳态特性，并突显该模型在生物学等领域的广泛适用性。", "problem": "在一个单细胞内基因表达的简化模型中，信使核糖核酸 (mRNA) 分子被产生和降解。新 mRNA 分子的产生是一个随机过程，可以建模为平均速率为每单位时间 $\\lambda$ 个分子的泊松过程。同时，细胞中每个现有的 mRNA 分子在每单位时间内都有一个恒定的降解概率，且与其他所有分子无关。单个分子的这个降解过程的特征是其寿命呈指数分布，速率参数为 $\\mu$。\n\n当细胞在这些条件下运行很长时间后，mRNA 分子的数量达到一个统计稳态。确定在稳态下细胞中存在的 mRNA 分子数量的方差。将您的答案表示为关于 $\\lambda$ 和 $\\mu$ 的符号表达式。", "solution": "设 $N(t)$ 表示在时间 $t$ 的 mRNA 分子数量。这是一个连续时间马尔可夫生灭过程，其中：\n- 出生（产生）转移 $n \\to n+1$ 的速率为 $\\lambda$（与 $n$ 无关）。\n- 死亡（降解）转移 $n \\to n-1$ 的速率为 $\\mu n$（每个分子以速率 $\\mu$ 独立降解）。\n\n对于任意测试函数 $f(n)$，该过程的生成元是\n$$\n\\mathcal{L}f(n) = \\lambda\\,[f(n+1) - f(n)] + \\mu n\\,[f(n-1) - f(n)].\n$$\n根据标准的马尔可夫过程理论，期望值的时间演化满足\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}\\mathbb{E}[f(N(t))] = \\mathbb{E}[\\mathcal{L}f(N(t))].\n$$\n\n一阶矩。取 $f(n) = n$。则 $f(n+1) - f(n) = 1$ 且 $f(n-1) - f(n) = -1$，所以\n$$\n\\mathcal{L}n = \\lambda - \\mu n,\n$$\n因此\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}\\mathbb{E}[N(t)] = \\lambda - \\mu\\,\\mathbb{E}[N(t)].\n$$\n在稳态下，左侧为零，得到\n$$\n\\mathbb{E}[N] = \\frac{\\lambda}{\\mu}.\n$$\n\n二阶矩。取 $f(n) = n^{2}$。则 $f(n+1) - f(n) = (n+1)^{2} - n^{2} = 2n + 1$ 且 $f(n-1) - f(n) = (n-1)^{2} - n^{2} = 1 - 2n$。因此\n$$\n\\mathcal{L}n^{2} = \\lambda(2n + 1) + \\mu n(1 - 2n) = (2\\lambda + \\mu)n + \\lambda - 2\\mu n^{2}.\n$$\n取期望值，\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}\\mathbb{E}[N(t)^{2}] = (2\\lambda + \\mu)\\,\\mathbb{E}[N(t)] + \\lambda - 2\\mu\\,\\mathbb{E}[N(t)^{2}].\n$$\n在稳态下，令左侧为零并代入 $\\mathbb{E}[N] = \\lambda/\\mu$ 以得到\n$$\n0 = (2\\lambda + \\mu)\\frac{\\lambda}{\\mu} + \\lambda - 2\\mu\\,\\mathbb{E}[N^{2}]\n= \\frac{2\\lambda^{2}}{\\mu} + 2\\lambda - 2\\mu\\,\\mathbb{E}[N^{2}].\n$$\n解出 $\\mathbb{E}[N^{2}]$，\n$$\n\\mathbb{E}[N^{2}] = \\frac{1}{2\\mu}\\left(\\frac{2\\lambda^{2}}{\\mu} + 2\\lambda\\right) = \\frac{\\lambda^{2}}{\\mu^{2}} + \\frac{\\lambda}{\\mu}.\n$$\n\n方差。方差为\n$$\n\\mathrm{Var}(N) = \\mathbb{E}[N^{2}] - \\left(\\mathbb{E}[N]\\right)^{2}\n= \\left(\\frac{\\lambda^{2}}{\\mu^{2}} + \\frac{\\lambda}{\\mu}\\right) - \\left(\\frac{\\lambda}{\\mu}\\right)^{2}\n= \\frac{\\lambda}{\\mu}.\n$$\n因此，在稳态下，方差等于均值，这是参数为 $\\lambda/\\mu$ 的泊松分布的特征。", "answer": "$$\\boxed{\\frac{\\lambda}{\\mu}}$$", "id": "1342048"}, {"introduction": "我们的最后一个实践问题将挑战你分析系统的动态变化。我们考虑一个已经达到稳态的系统突然停止接收新到达的情况，这在现实中对应于系统关停或入口关闭的场景。通过解决这个问题 [@problem_id:1342052]，你将学会如何为系统的“清空”过程建模，这需要巧妙地运用指数服务时间的无记忆性以及泊松随机变量的“减省”特性。", "problem": "一个大型自动化数据处理中心负责执行大量小型的、独立的计算作业。这些作业的到达可以被建模为一个泊松过程，其平均速率为常数 $\\lambda$ 作业/秒。每个作业的处理时间是一个独立的、服从指数分布的随机变量，其服务速率为 $\\mu$ 作业/秒。由于该中心拥有海量处理核心，我们假设对于任何到达的作业，总有一个空闲核心可用，这意味着作业从不排队。这种设置等价于一个 M/M/$\\infty$ 排队系统。\n\n在运行了很长一段时间并达到统计稳态后，一次全系统更新要求停止所有新作业的提交。该停机过程恰好发生在时间 $t=0$。对于所有 $t \\ge 0$，没有新作业到达。\n\n请确定在停机后 $\\tau > 0$ 秒的时刻，中心里仍有至少一个作业正在被处理的概率。请用参数 $\\lambda$、$\\mu$ 和 $\\tau$ 的符号表达式给出你的答案。", "solution": "停机前，该系统是一个处于稳态的 M/M/$\\infty$ 排队系统。在此状态下，任意时刻服务中的作业数量，记作 $N(0)$，服从均值为 $\\frac{\\lambda}{\\mu}$ 的泊松分布。因此，\n$$\n\\mathbb{P}(N(0)=n)=\\exp\\left(-\\frac{\\lambda}{\\mu}\\right)\\frac{\\left(\\frac{\\lambda}{\\mu}\\right)^{n}}{n!}.\n$$\n服务时间是相互独立且服从速率为 $\\mu$ 的指数分布。根据无记忆性，在 $t=0$ 时刻存在的每个作业的剩余服务时间仍然服从速率为 $\\mu$ 的指数分布，这些剩余服务时间在作业之间相互独立，并且也独立于 $N(0)$。因此，对于任意固定的 $\\tau>0$，在 $t=0$ 时刻存在的每个作业，在时刻 $\\tau$ 仍然在服务中的概率为\n$$\np(\\tau)=\\mathbb{P}(\\text{residual time}>\\tau)=\\exp(-\\mu \\tau),\n$$\n且各作业间相互独立。在给定 $N(0)=n$ 的条件下，在时刻 $\\tau$ 剩余的作业数量，记作 $N(\\tau)$，服从参数为 $(n,p(\\tau))$ 的二项分布。根据泊松随机变量的稀疏性质去除条件，可知 $N(\\tau)$ 服从均值为\n$$\nm(\\tau)=\\frac{\\lambda}{\\mu}\\exp(-\\mu \\tau).\n$$\n的泊松分布。因此，\n$$\n\\mathbb{P}(N(\\tau)=k)=\\exp\\left(-m(\\tau)\\right)\\frac{\\left(m(\\tau)\\right)^{k}}{k!}.\n$$\n所求的在时刻 $\\tau$ 仍有至少一个作业正在被处理的概率是\n$$\n\\mathbb{P}(N(\\tau)\\ge 1)=1-\\mathbb{P}(N(\\tau)=0)=1-\\exp\\left(-m(\\tau)\\right)\n=1-\\exp\\left(-\\frac{\\lambda}{\\mu}\\exp(-\\mu \\tau)\\right).\n$$", "answer": "$$\\boxed{1-\\exp\\left(-\\frac{\\lambda}{\\mu}\\exp(-\\mu \\tau)\\right)}$$", "id": "1342052"}]}