{"hands_on_practices": [{"introduction": "本练习是掌握 M/G/1 模型的一个基础步骤。我们将把普适的波拉切克-欣钦 (Pollaczek-Khinchine) 公式应用于一个重要特例：服务时间恒定的 M/D/1 排队系统。通过推导该特定情况下的平均排队长度，你将能更好地理解 P-K 公式中各个组成部分——尤其是服务时间的二阶矩 $E[S^2]$——如何影响系统性能。[@problem_id:1341152]", "problem": "数字图书馆的一台自动化服务器负责处理用户对某个特定大型数据文件的请求。这些请求的到达遵循泊松过程，平均速率为每秒 $\\lambda$ 次。服务器的检索与传输过程经过高度优化，处理每个请求需要一个固定的恒定时间 $D$ 秒。该系统是稳定的，这意味着服务器长期来看能够处理此工作负载。\n\n该系统可建模为 M/G/1 排队模型。系统中请求的平均数量 $L$（包括等待中和正在接受服务的请求）由 Pollaczek-Khinchine 公式给出：\n$$L = \\rho + \\frac{\\lambda^{2} E[S^{2}]}{2(1-\\rho)}$$\n其中 $S$ 是服务时间的随机变量，$E[S]$ 是其期望值，$E[S^2]$ 是其二阶矩，而 $\\rho = \\lambda E[S]$ 是服务器利用率。\n\n请推导*在队列中*等待的平均请求数 $L_q$ 的表达式，该表达式应使用到达率 $\\lambda$ 和恒定服务时间 $D$ 来表示。", "solution": "请求到达遵循速率为 $\\lambda$ 的泊松过程，服务时间是确定性的，其持续时间为恒定的 $D$。设 $S$ 表示服务时间随机变量。由于服务是确定性的，\n$$\nS = D \\text{ 几乎必然}, \\quad E[S] = D, \\quad E[S^{2}] = D^{2}.\n$$\n服务器利用率为\n$$\n\\rho = \\lambda E[S] = \\lambda D,\n$$\n且稳定性要求 $\\rho < 1$，即 $\\lambda D < 1$。\n\n对于 M/G/1 排队模型，Pollaczek-Khinchine 公式给出的系统中请求的平均数量（等待中加上服务中的）为\n$$\nL = \\rho + \\frac{\\lambda^{2} E[S^{2}]}{2\\left(1-\\rho\\right)}.\n$$\n在队列中等待的平均请求数 $L_{q}$ 满足\n$$\nL = L_{q} + \\text{(服务中的平均请求数)}.\n$$\n由于是单服务器，服务中的平均请求数等于服务器繁忙的概率，即 $\\rho$。因此，\n$$\nL_{q} = L - \\rho = \\frac{\\lambda^{2} E[S^{2}]}{2\\left(1-\\rho\\right)}.\n$$\n代入 $E[S^{2}] = D^{2}$ 和 $\\rho = \\lambda D$ 可得\n$$\nL_{q} = \\frac{\\lambda^{2} D^{2}}{2\\left(1 - \\lambda D\\right)}.\n$$\n这就是用 $\\lambda$ 和 $D$ 表示的目标表达式，在稳定性条件 $\\lambda D < 1$ 下成立。", "answer": "$$\\boxed{\\frac{\\lambda^{2} D^{2}}{2\\left(1 - \\lambda D\\right)}}$$", "id": "1341152"}, {"introduction": "为何 M/G/1 模型中的“G”（通用服务时间）如此重要？本练习通过一个直观的对比给出了答案，你将分析两个平均服务率 $\\lambda$ 相同的系统：一个服务时间恒定（方差为零），另一个则变化较大。通过这个对比，你将量化地体会到，即使平均处理速度不变，仅仅降低服务时间的可变性也能显著提升系统效率，这是排队论中的一个核心洞见。[@problem_id:1341109]", "problem": "一所大学的IT部门通过单一的自动化服务器管理用户支持请求。请求的到达遵循泊松过程，平均速率为每小时 $\\lambda$ 个请求。该系统目前运行的软件（系统A）处理单个请求的时间是一个随机变量，遵循均值为 $E[S]$ 的指数分布。\n\n该部门正在考虑升级到一款新软件（系统B）。这款新软件将以一个固定的、确定性的时间处理每个请求，该时间被设计为与旧系统的平均服务时间 $E[S]$ 完全相等。请求的到达过程仍然是泊松过程，速率同样为 $\\lambda$。\n\n假设对于两个系统，服务器利用率 $\\rho = \\lambda E[S]$ 都小于1，以确保队列是稳定的并能达到稳态。\n\n如果部门从系统A切换到系统B，计算在队列中等待的请求的长期平均数量的比例减少量。比例减少量定义为 $(L_{q,A} - L_{q,B}) / L_{q,A}$，其中 $L_{q,A}$ 和 $L_{q,B}$ 分别是系统A和系统B队列中的平均请求数。请用小数表示您的答案。", "solution": "我们将两个系统都建模为M/G/1排队模型：到达过程为速率是 $\\lambda$ 的泊松过程，单个服务器，服务时间为均值是 $E[S]$ 的一般分布。令 $\\rho=\\lambda E[S]$ 表示利用率，根据题意 $\\rho<1$。\n\n根据M/G/1排队模型的 Pollaczek–Khinchine 公式，队列中的稳态平均数 $L_{q}$ 为\n$$\nL_{q}=\\lambda W_{q}=\\frac{\\lambda^{2}E[S^{2}]}{2(1-\\rho)}.\n$$\n\n对于系统A（M/M/1模型），服务时间 $S$ 服从均值为 $E[S]$ 的指数分布。因此\n$$\n\\operatorname{Var}(S)=(E[S])^{2},\\quad E[S^{2}]=\\operatorname{Var}(S)+(E[S])^{2}=2(E[S])^{2}.\n$$\n所以，\n$$\nL_{q,A}=\\frac{\\lambda^{2}\\cdot 2(E[S])^{2}}{2(1-\\rho)}=\\frac{\\lambda^{2}(E[S])^{2}}{1-\\rho}=\\frac{\\rho^{2}}{1-\\rho}.\n$$\n\n对于系统B（M/D/1模型），服务时间是确定性的，均值同样为 $E[S]$，所以\n$$\n\\operatorname{Var}(S)=0,\\quad E[S^{2}]=(E[S])^{2}.\n$$\n所以，\n$$\nL_{q,B}=\\frac{\\lambda^{2}(E[S])^{2}}{2(1-\\rho)}=\\frac{\\rho^{2}}{2(1-\\rho)}.\n$$\n\n比例减少量为\n$$\n\\frac{L_{q,A}-L_{q,B}}{L_{q,A}}=\\frac{\\frac{\\rho^{2}}{1-\\rho}-\\frac{\\rho^{2}}{2(1-\\rho)}}{\\frac{\\rho^{2}}{1-\\rho}}=\\frac{1-\\frac{1}{2}}{1}= \\frac{1}{2}.\n$$\n\n以小数表示，比例减少量为 $0.5$。", "answer": "$$\\boxed{0.5}$$", "id": "1341109"}, {"introduction": "现实世界中的排队系统很少是静止不变的。最后一个练习将你从静态分析带入动态场景，挑战你预测当到达率和服务率同时发生变化时，系统性能指标会如何响应。这个练习旨在锻炼你使用排队论作为规划和决策工具的能力，以评估系统升级可能带来的实际效果。[@problem_id:1341170]", "problem": "一个网络路由器被建模为单服务台排队系统。初始时，数据包的到达过程为一个平均速率为 $\\lambda$ 的泊松过程。路由器逐个处理数据包，处理一个数据包所需的时间是一个服从一般分布的随机变量。设初始平均服务时间为 $E[S]$，服务时间的平方变异系数为 $C_S^2$。系统运行在稳定状态下，意味着初始流量强度（定义为 $\\rho = \\lambda E[S]$）小于1。\n\n由于网络需求的增加，数据包的到达速率翻倍。为应对此情况，路由器进行了升级，其处理速度（服务速率）提高了50%。假设服务时间的平方变异系数 $C_S^2$ 是数据包大小分布的一个内在特性，因此在升级后保持不变。已知新配置的系统也是稳定的。\n\n求新的队列中平均等待时间 $W_{q, \\text{new}}$ 与原始队列中平均等待时间 $W_{q, \\text{old}}$ 的比值。将答案表示为初始流量强度 $\\rho$ 的函数。", "solution": "我们将变化前后的系统都建模为 $M/G/1$ 队列。对于一个 $M/G/1$ 队列，Pollaczek–Khinchine 公式给出了队列中的平均等待时间：\n$$\nW_{q}=\\frac{\\lambda E[S^{2}]}{2\\left(1-\\rho\\right)}, \\quad \\rho=\\lambda E[S].\n$$\n初始时，\n$$\nW_{q,\\text{old}}=\\frac{\\lambda E[S^{2}]}{2\\left(1-\\rho\\right)}.\n$$\n当到达速率加倍时，$\\lambda_{\\text{new}}=2\\lambda$。服务速度增加50%意味着所有服务时间都乘以一个常数因子 $c=\\frac{2}{3}$，因此\n$$\nE[S]_{\\text{new}}=c\\,E[S]=\\frac{2}{3}E[S], \\qquad E[S^{2}]_{\\text{new}}=c^{2}E[S^{2}]=\\frac{4}{9}E[S^{2}].\n$$\n新的流量强度为\n$$\n\\rho_{\\text{new}}=\\lambda_{\\text{new}}E[S]_{\\text{new}}=2\\lambda\\cdot\\frac{2}{3}E[S]=\\frac{4}{3}\\rho,\n$$\n新的平均等待时间为\n$$\nW_{q,\\text{new}}=\\frac{\\lambda_{\\text{new}}E[S^{2}]_{\\text{new}}}{2\\left(1-\\rho_{\\text{new}}\\right)}=\\frac{(2\\lambda)\\left(\\frac{4}{9}E[S^{2}]\\right)}{2\\left(1-\\frac{4}{3}\\rho\\right)}.\n$$\n因此，该比值为\n$$\n\\frac{W_{q,\\text{new}}}{W_{q,\\text{old}}}\n=\\frac{\\lambda_{\\text{new}}}{\\lambda}\\cdot\\frac{E[S^{2}]_{\\text{new}}}{E[S^{2}]}\\cdot\\frac{1-\\rho}{1-\\rho_{\\text{new}}}\n=2\\cdot\\frac{4}{9}\\cdot\\frac{1-\\rho}{1-\\frac{4}{3}\\rho}\n=\\frac{8}{9}\\cdot\\frac{1-\\rho}{(3-4\\rho)/3}\n=\\frac{8(1-\\rho)}{3(3-4\\rho)},\n$$\n该结果在 $0\\leq\\rho<\\frac{3}{4}$ 时有效，以确保升级后的系统是稳定的。", "answer": "$$\\boxed{\\frac{8(1-\\rho)}{3(3-4\\rho)}}$$", "id": "1341170"}]}