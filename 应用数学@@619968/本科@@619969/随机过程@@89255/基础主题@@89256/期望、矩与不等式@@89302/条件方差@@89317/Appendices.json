{"hands_on_practices": [{"introduction": "这个练习将引导你完成计算离散随机变量条件方差的基础步骤。通过一个关于生产线缺陷的实际例子，你将学会如何首先确定条件概率分布，然后利用该分布来计算方差，这是理解条件如何改变我们对随机性度量的一个核心实践。[@problem_id:1351945]", "problem": "一位质量控制工程师正在分析来自两条独立生产线Alpha和Beta的微芯片缺陷。设$X$为从Alpha生产线随机抽取的一批产品中次要缺陷数量的随机变量，$Y$为从Beta生产线随机抽取的一批产品中次要缺陷数量的随机变量。生产过程是独立的。\n\n$X$的概率质量函数由下式给出：\n$P(X=1) = 0.1$，$P(X=2) = 0.2$，$P(X=3) = 0.3$，以及 $P(X=4) = 0.4$。\n\n$Y$的概率质量函数由下式给出：\n$P(Y=1) = 0.4$，$P(Y=2) = 0.3$，$P(Y=3) = 0.2$，以及 $P(Y=4) = 0.1$。\n\n对于两条生产线，这些是缺陷数量唯一可能的结果。\n在一次检查中，从Alpha生产线和Beta生产线各取一批产品。观察到这两批产品的总缺陷数恰好为5。\n\n根据这个观察结果，计算来自Alpha生产线批次产品缺陷数量的方差。将您的答案表示为精确分数。", "solution": "设$X$和$Y$是相互独立的，其支撑集为$\\{1,2,3,4\\}$，且\n$$P(X=1)=\\frac{1}{10},\\quad P(X=2)=\\frac{1}{5},\\quad P(X=3)=\\frac{3}{10},\\quad P(X=4)=\\frac{2}{5},$$\n$$P(Y=1)=\\frac{2}{5},\\quad P(Y=2)=\\frac{3}{10},\\quad P(Y=3)=\\frac{1}{5},\\quad P(Y=4)=\\frac{1}{10}.$$\n设$S=X+Y$，并以事件$S=5$为条件。根据独立性，\n$$P(X=x\\mid S=5)=\\frac{P(X=x,Y=5-x)}{P(S=5)}=\\frac{P(X=x)P(Y=5-x)}{\\sum_{k=1}^{4}P(X=k)P(Y=5-k)},$$\n对于$x\\in\\{1,2,3,4\\}$。\n\n计算$S=5$的联合概率项：\n$$P(X=1,Y=4)=\\frac{1}{10}\\cdot\\frac{1}{10}=\\frac{1}{100},$$\n$$P(X=2,Y=3)=\\frac{1}{5}\\cdot\\frac{1}{5}=\\frac{1}{25}=\\frac{4}{100},$$\n$$P(X=3,Y=2)=\\frac{3}{10}\\cdot\\frac{3}{10}=\\frac{9}{100},$$\n$$P(X=4,Y=1)=\\frac{2}{5}\\cdot\\frac{2}{5}=\\frac{4}{25}=\\frac{16}{100}.$$\n因此\n$$P(S=5)=\\frac{1}{100}+\\frac{4}{100}+\\frac{9}{100}+\\frac{16}{100}=\\frac{30}{100}=\\frac{3}{10}.$$\n所以，\n$$P(X=1\\mid S=5)=\\frac{\\frac{1}{100}}{\\frac{3}{10}}=\\frac{1}{30},\\quad P(X=2\\mid S=5)=\\frac{\\frac{4}{100}}{\\frac{3}{10}}=\\frac{2}{15},$$\n$$P(X=3\\mid S=5)=\\frac{\\frac{9}{100}}{\\frac{3}{10}}=\\frac{3}{10},\\quad P(X=4\\mid S=5)=\\frac{\\frac{16}{100}}{\\frac{3}{10}}=\\frac{8}{15}.$$\n\n计算条件期望：\n$$\\mathbb{E}[X\\mid S=5]=1\\cdot\\frac{1}{30}+2\\cdot\\frac{2}{15}+3\\cdot\\frac{3}{10}+4\\cdot\\frac{8}{15}.$$\n通分到分母为$30$，这等于\n$$\\mathbb{E}[X\\mid S=5]=\\frac{1}{30}+\\frac{8}{30}+\\frac{27}{30}+\\frac{64}{30}=\\frac{100}{30}=\\frac{10}{3}.$$\n\n计算二阶矩：\n$$\\mathbb{E}[X^{2}\\mid S=5]=1^{2}\\cdot\\frac{1}{30}+2^{2}\\cdot\\frac{2}{15}+3^{2}\\cdot\\frac{3}{10}+4^{2}\\cdot\\frac{8}{15}.$$\n再次通分到分母为$30$，\n$$\\mathbb{E}[X^{2}\\mid S=5]=\\frac{1}{30}+\\frac{16}{30}+\\frac{81}{30}+\\frac{256}{30}=\\frac{354}{30}=\\frac{59}{5}.$$\n\n使用方差恒等式 $\\operatorname{Var}(X\\mid S=5)=\\mathbb{E}[X^{2}\\mid S=5]-\\left(\\mathbb{E}[X\\mid S=5]\\right)^{2}$ 得到\n$$\\operatorname{Var}(X\\mid S=5)=\\frac{59}{5}-\\left(\\frac{10}{3}\\right)^{2}=\\frac{59}{5}-\\frac{100}{9}=\\frac{531-500}{45}=\\frac{31}{45}.$$", "answer": "$$\\boxed{\\frac{31}{45}}$$", "id": "1351945"}, {"introduction": "在掌握了离散情况后，我们将把概念扩展到连续随机变量的领域。这个问题模拟了一个数据包在网络中传输的场景，其中到达时间是一个连续变量。这个练习将向你展示，当获得新的信息（例如，数据包在某个时间点之前尚未到达）时，我们应如何更新对其到达时间的预测，并计算其剩余不确定性或方差。[@problem_id:1351943]", "problem": "在一个简化的网络路由系统模型中，一个数据包到达缓冲区的到达时间被视为一个连续随机变量 $T$。该到达时间在 $0$ 到 $10$ 毫秒 (ms) 的区间上均匀分布。一个网络监控工具在时间 $t = 7$ ms 时轮询缓冲区，并报告该数据包尚未到达。根据此信息，数据包到达时间 $T$ 的方差是多少？请以 $\\text{ms}^2$ 为单位，用精确分数或小数表示您的答案。", "solution": "设 $T$ 在 $[0,10]$ 上均匀分布，因此其概率密度函数为 $f_{T}(t)=\\frac{1}{10}$（当 $0 \\leq t \\leq 10$），其他情况下为 $0$。数据包在 $t=7$ 之前尚未到达的信息对应于事件 $A=\\{T>7\\}$。该事件的概率为\n$$\nP(A)=\\int_{7}^{10}\\frac{1}{10}\\,dt=\\frac{10-7}{10}=\\frac{3}{10}.\n$$\n给定 $A$ 时 $T$ 的条件密度为\n$$\nf_{T|A}(t)=\\frac{f_{T}(t)}{P(A)}=\\frac{\\frac{1}{10}}{\\frac{3}{10}}=\\frac{1}{3}, \\quad 7 \\leq t \\leq 10,\n$$\n其他情况下为 $0$。因此 $T|A$ 在 $[7,10]$ 上均匀分布。\n\n计算条件期望：\n$$\n\\mathbb{E}[T\\,|\\,A]=\\int_{7}^{10} t \\cdot \\frac{1}{3}\\,dt=\\frac{1}{3}\\left[\\frac{t^{2}}{2}\\right]_{7}^{10}=\\frac{1}{3}\\cdot\\frac{100-49}{2}=\\frac{1}{3}\\cdot\\frac{51}{2}=\\frac{17}{2}.\n$$\n计算条件二阶矩：\n$$\n\\mathbb{E}[T^{2}\\,|\\,A]=\\int_{7}^{10} t^{2} \\cdot \\frac{1}{3}\\,dt=\\frac{1}{3}\\left[\\frac{t^{3}}{3}\\right]_{7}^{10}=\\frac{1}{9}(1000-343)=\\frac{657}{9}=73.\n$$\n因此条件方差为\n$$\n\\operatorname{Var}(T\\,|\\,A)=\\mathbb{E}[T^{2}\\,|\\,A]-\\left(\\mathbb{E}[T\\,|\\,A]\\right)^{2}=73-\\left(\\frac{17}{2}\\right)^{2}=73-\\frac{289}{4}=\\frac{292-289}{4}=\\frac{3}{4}.\n$$\n因此，在数据包到 $7$ ms 尚未到达的条件下，其到达时间的方差为 $\\frac{3}{4}$ $\\text{ms}^{2}$。", "answer": "$$\\boxed{\\frac{3}{4}}$$", "id": "1351943"}, {"introduction": "这个动手实践展示了条件方差作为一个强大分析工具的应用，特别是在使用全方差公式（Law of Total Variance）时。我们面对一个两阶段的随机过程：首先随机确定要测试的LED数量 $K$，然后测量这些LED的总寿命。通过对变量 $K$ 进行条件分析，我们可以将一个复杂的方差计算分解为更易于管理的期望和方差，这突显了条件方差在解决复杂随机模型问题中的实用价值。[@problem_id:1292236]", "problem": "一个生产发光二极管 (LED) 的工厂的质量保证协议涉及一个多阶段可靠性测试。在第一阶段，会随机选取一定数量的 LED 进行测试，该数量由随机变量 $K$ 表示。数量 $K$ 服从集合 $\\{1, 2, \\dots, N\\}$ 上的离散均匀分布，其中 $N$ 是一个固定的正整数，代表最大样本容量。\n\n在第二阶段，这 $K$ 个被选中的 LED 将被依次进行测试。在加速测试条件下，每个 LED 的寿命都是一个独立同分布的指数随机变量。任何单个 LED 的平均寿命为 $\\tau$。\n\n设 $T$ 为在一个给定的测试周期中，完成所有 $K$ 个被选中的 LED 的测试所需的总时间。该总时间是这 $K$ 个 LED 各自寿命的总和。\n\n求总测试时间 $T$ 的方差，$\\text{Var}(T)$。将您的答案表示为一个以 $N$ 和 $\\tau$ 表示的单一闭式解析表达式。", "solution": "设 $X_{i}$ 表示第 $i$ 个 LED 在加速测试条件下的寿命。根据假设，$\\{X_{i}\\}$ 是均值为 $\\tau$ 的独立同分布指数随机变量，因此对于每个 $i$，\n$$\n\\mathbb{E}[X_{i}] = \\tau, \\qquad \\operatorname{Var}(X_{i}) = \\tau^{2}.\n$$\n在给定 $K=k$ 的条件下，总测试时间为\n$$\nT \\mid K=k = \\sum_{i=1}^{k} X_{i}.\n$$\n因此，根据期望的线性性质以及独立随机变量和的方差可加性，\n$$\n\\mathbb{E}[T \\mid K=k] = k \\tau, \\qquad \\operatorname{Var}(T \\mid K=k) = k \\tau^{2}.\n$$\n应用全方差公式，\n$$\n\\operatorname{Var}(T) = \\mathbb{E}[\\operatorname{Var}(T \\mid K)] + \\operatorname{Var}(\\mathbb{E}[T \\mid K]).\n$$\n代入条件均值和条件方差，\n$$\n\\operatorname{Var}(T) = \\mathbb{E}[K \\tau^{2}] + \\operatorname{Var}(K \\tau) = \\tau^{2} \\mathbb{E}[K] + \\tau^{2} \\operatorname{Var}(K) = \\tau^{2}\\big(\\mathbb{E}[K] + \\operatorname{Var}(K)\\big).\n$$\n由于 $K$ 服从 $\\{1,2,\\dots,N\\}$ 上的离散均匀分布，\n$$\n\\mathbb{E}[K] = \\frac{N+1}{2}, \\qquad \\operatorname{Var}(K) = \\frac{N^{2}-1}{12}.\n$$\n因此，\n$$\n\\operatorname{Var}(T) = \\tau^{2}\\left(\\frac{N+1}{2} + \\frac{N^{2}-1}{12}\\right) = \\tau^{2}\\left(\\frac{6(N+1) + (N^{2}-1)}{12}\\right) = \\tau^{2}\\left(\\frac{N^{2} + 6N + 5}{12}\\right).\n$$\n对分子进行因式分解可得\n$$\n\\operatorname{Var}(T) = \\frac{(N+1)(N+5)}{12}\\,\\tau^{2}.\n$$\n这是一个以 $N$ 和 $\\tau$ 表示的闭式表达式。", "answer": "$$\\boxed{\\frac{(N+1)(N+5)}{12}\\,\\tau^{2}}$$", "id": "1292236"}]}