{"hands_on_practices": [{"introduction": "这将是我们的第一个练习，旨在帮助你掌握马尔可夫不等式的基本应用。通过一个关于服务器错误的具体例子，你将学习如何仅利用一个非负随机变量的平均值，来估算其超过某个阈值的概率上限。这个练习将为你后续更复杂的应用打下坚实的基础。[@problem_id:1316852]", "problem": "一家公司的内部服务器监控系统追踪每小时记录到的严重错误数量。经过长期观察，确定了该系统平均每小时记录 4.8 个严重错误。假设错误数量是一个非负随机变量。在不对错误的概率分布做任何其他假设的情况下，确定服务器在任一小时内记录到 20 个或更多严重错误的概率的最佳可能上界。\n\n请用小数表示你的答案。", "solution": "设 $X$ 表示一小时内记录的严重错误数量。根据题意，我们有 $X \\ge 0$ 且 $\\mathbb{E}[X] = 4.8$。\n\n根据马尔可夫不等式 (Markov's inequality)，对于任何 $a > 0$ 和任何非负随机变量 $X$，\n$$\n\\Pr(X \\ge a) \\le \\frac{\\mathbb{E}[X]}{a}.\n$$\n令 $a = 20$ 得\n$$\n\\Pr(X \\ge 20) \\le \\frac{\\mathbb{E}[X]}{20} = \\frac{4.8}{20} = 0.24.\n$$\n在给定信息下，这是一个最佳可能上界。为验证其紧性，考虑一个支撑集为 $\\{0,20\\}$ 的分布，其满足\n$$\n\\Pr(X=20) = \\frac{4.8}{20}, \\quad \\Pr(X=0) = 1 - \\frac{4.8}{20}.\n$$\n那么 $\\mathbb{E}[X] = 20 \\cdot \\frac{4.8}{20} = 4.8$ 且 $\\Pr(X \\ge 20) = \\frac{4.8}{20} = 0.24$，这达到了该上界。", "answer": "$$\\boxed{0.24}$$", "id": "1316852"}, {"introduction": "在掌握了基本应用后，我们将探索马尔可夫不等式更广泛的威力。这个练习不再局限于单个随机变量，而是将其应用于样本均值 $\\bar{X}$——一个在统计学和数据分析中至关重要的概念。通过这个练习，你将理解如何为大量独立事件的平均结果提供一个概率保证，这构成了大数定律等核心理论的基石。[@problem_id:1933102]", "problem": "一个分布式计算系统被设计用来处理大量独立任务。完成每个任务所需的时间是一个非负、独立同分布的随机变量，其已知的总体均值为 $\\mu$。对于一批 $n$ 个任务，通过计算其完成时间的样本均值来监控系统性能，该样本均值记为 $\\bar{X}$。如果该样本均值 $\\bar{X}$ 超过一个预定义的临界阈值 $c$，则违反了服务水平协议，其中 $c$ 是一个大于 $\\mu$ 的常数。\n\n在不对任务完成时间的分布做任何进一步假设的情况下，确定服务水平协议被违反的概率 $P(\\bar{X} > c)$ 的最紧可能上界。请用一个包含 $\\mu$ 和 $c$ 的符号表达式来表示你的答案。", "solution": "设 $X_{1},\\dots,X_{n}$ 表示非负、独立同分布的任务完成时间，其总体均值为 $\\mu$。样本均值为\n$$\n\\bar{X}=\\frac{1}{n}\\sum_{i=1}^{n}X_{i}.\n$$\n由于每个 $X_{i}\\ge 0$ 几乎必然成立，因此 $\\bar{X}\\ge 0$ 也几乎必然成立。根据期望的线性和同分布性，\n$$\n\\mathbb{E}[\\bar{X}]=\\frac{1}{n}\\sum_{i=1}^{n}\\mathbb{E}[X_{i}]=\\frac{1}{n}\\cdot n\\mu=\\mu.\n$$\n应用马尔可夫不等式，该不等式指出，对于任何非负随机变量 $Y$ 和任何 $t>0$，\n$$\n\\mathbb{P}(Y\\ge t)\\le \\frac{\\mathbb{E}[Y]}{t}.\n$$\n令 $Y=\\bar{X}$ 且 $t=c$ (其中 $c>\\mu>0$)，我们得到\n$$\n\\mathbb{P}(\\bar{X}>c)\\le \\mathbb{P}(\\bar{X}\\ge c)\\le \\frac{\\mathbb{E}[\\bar{X}]}{c}=\\frac{\\mu}{c}.\n$$\n这个界只依赖于 $\\mu$ 和 $c$，并且是在仅给定非负性和均值的条件下最紧的无分布假设上界，因为对于具有指定均值的非负随机变量，马尔可夫不等式是尖锐的。", "answer": "$$\\boxed{\\frac{\\mu}{c}}$$", "id": "1933102"}, {"introduction": "马尔可夫不等式虽然普适，但其界限有时可能较为宽松，因为它仅仅利用了均值这一信息。这个高级练习将向你展示一种强大的思想：通过巧妙地变换随机变量（例如，考虑 $(X-b)^2$）并引入额外信息（如方差 $\\sigma^2$），我们可以推导出更精确、更紧密的概率界限。完成这个练习意味着你将学会如何优化和改进一个基本工具，以解决更具体的问题，这是从理论应用者到理论构建者的重要一步。[@problem_id:1933078]", "problem": "设 $X$ 是一个随机变量，其均值定义良好，为 $E[X] = \\mu$，方差有限且非零，为 $\\text{Var}(X) = \\sigma^2$。我们希望找到尾部概率 $P(X \\ge a)$ 的一个紧上界，其中 $a$ 是一个严格大于均值的常数，即 $a > \\mu$。\n\n推导此类界的一个通用方法涉及对随机变量进行变换。考虑函数 $B(b) = \\frac{E[(X-b)^2]}{(a-b)^2}$，其中 $b$ 是一个实值参数。对于任意 $b < a$ 的选择，该函数都为 $P(X \\ge a)$ 提供了一个上界。\n\n你的任务是找到从该函数族中能够获得的最紧的界。为此，你必须通过在其有效定义域（$b<a$）上优化参数 $b$ 的选择，来找到 $B(b)$ 的最小值。\n\n请将 $B(b)$ 的这个最优（最小）值表示为以 $\\mu$、$\\sigma$ 和 $a$ 表示的闭式解析表达式。", "solution": "我们已知对于任意 $b<a$，\n$$\nP(X\\ge a)\\le B(b):=\\frac{E[(X-b)^{2}]}{(a-b)^{2}}.\n$$\n使用 $E[(X-b)^{2}]=\\operatorname{Var}(X)+\\left(E[X]-b\\right)^{2}$，我们得到\n$$\nE[(X-b)^{2}]=\\sigma^{2}+(\\mu-b)^{2},\n$$\n所以该界为\n$$\nB(b)=\\frac{\\sigma^{2}+(\\mu-b)^{2}}{(a-b)^{2}},\\quad b<a.\n$$\n\n为了在 $b<a$ 的范围内最小化 $B(b)$，定义\n$$\nf(b)=\\frac{\\sigma^{2}+(b-\\mu)^{2}}{(a-b)^{2}},\n$$\n其分子为 $N(b)=\\sigma^{2}+(b-\\mu)^{2}$，分母为 $D(b)=(a-b)^{2}$。则\n$$\nf'(b)=\\frac{N'(b)D(b)-N(b)D'(b)}{D(b)^{2}},\n$$\n其中 $N'(b)=2(b-\\mu)$ 且 $D'(b)=-2(a-b)$。因此\n$$\nf'(b)=\\frac{2(b-\\mu)(a-b)^{2}+2\\left[\\sigma^{2}+(b-\\mu)^{2}\\right](a-b)}{(a-b)^{4}}\n=\\frac{2(a-b)\\left((b-\\mu)(a-b)+\\sigma^{2}+(b-\\mu)^{2}\\right)}{(a-b)^{4}}.\n$$\n对于 $b<a$，我们有 $a-b>0$，所以临界点满足\n$$\n(b-\\mu)(a-b)+\\sigma^{2}+(b-\\mu)^{2}=0.\n$$\n令 $t=b-\\mu$，并将 $a-b$ 写为 $(a-\\mu)-t$。则方程变为\n$$\nt\\big((a-\\mu)-t\\big)+\\sigma^{2}+t^{2}=t(a-\\mu)-t^{2}+\\sigma^{2}+t^{2}=t(a-\\mu)+\\sigma^{2}=0,\n$$\n所以\n$$\nt^{*}=-\\frac{\\sigma^{2}}{a-\\mu},\\qquad b^{*}=\\mu+t^{*}=\\mu-\\frac{\\sigma^{2}}{a-\\mu}.\n$$\n因为 $a>\\mu$，我们有 $a-\\mu>0$，因此\n$$\nb^{*}<a \\;\\;\\Longleftrightarrow\\;\\; \\mu-\\frac{\\sigma^{2}}{a-\\mu}<a \\;\\;\\Longleftrightarrow\\;\\; -\\sigma^{2}<(a-\\mu)^{2},\n$$\n这总是成立的。所以 $b^{*}$ 是可行的。此外，当 $b\\to a^{-}$ 时 $f(b)\\to+\\infty$，当 $b\\to -\\infty$ 时 $f(b)\\to 1$，并且存在唯一的临界点，因此 $b^{*}$ 产生全局最小值。\n\n在 $b=b^{*}$ 处计算 $B(b)$ 的值。设 $d=a-\\mu>0$。那么\n$$\n\\mu-b^{*}=\\frac{\\sigma^{2}}{d},\\qquad a-b^{*}=d+\\frac{\\sigma^{2}}{d}=\\frac{d^{2}+\\sigma^{2}}{d}.\n$$\n于是\n$$\nB(b^{*})=\\frac{\\sigma^{2}+(\\mu-b^{*})^{2}}{(a-b^{*})^{2}}\n=\\frac{\\sigma^{2}+\\left(\\frac{\\sigma^{2}}{d}\\right)^{2}}{\\left(\\frac{d^{2}+\\sigma^{2}}{d}\\right)^{2}}\n=\\frac{\\sigma^{2}\\left(1+\\frac{\\sigma^{2}}{d^{2}}\\right)}{\\frac{(d^{2}+\\sigma^{2})^{2}}{d^{2}}}\n=\\frac{\\sigma^{2}\\left(\\frac{d^{2}+\\sigma^{2}}{d^{2}}\\right)}{\\frac{(d^{2}+\\sigma^{2})^{2}}{d^{2}}}\n=\\frac{\\sigma^{2}}{d^{2}+\\sigma^{2}}\n=\\frac{\\sigma^{2}}{(a-\\mu)^{2}+\\sigma^{2}}.\n$$\n\n因此，在 $b<a$ 的范围内，$B(b)$ 的最优（最小）值为 $\\sigma^{2}/\\big((a-\\mu)^{2}+\\sigma^{2}\\big)$。", "answer": "$$\\boxed{\\frac{\\sigma^{2}}{(a-\\mu)^{2}+\\sigma^{2}}}$$", "id": "1933078"}]}