{"hands_on_practices": [{"introduction": "全概率定律的核心思想是将一个复杂问题的概率计算分解为几个更简单的、互斥的“情况”之和。这个练习将我们带入一个角色扮演游戏的世界，通过计算找到一把传奇宝剑的总概率，来直观地实践这个思想。在这里，不同的角色职业构成了我们的概率空间的一个划分，这个练习能帮助你牢固掌握全概率定律的基本公式。[@problem_id:10104]", "problem": "在一款奇幻角色扮演游戏中，玩家在冒险开始时必须从三种角色职业中选择一种：战士、法师或潜行者。这些是仅有的可选职业，且玩家只能选择一种。玩家选择战士职业的概率为 $p_W$，选择法师职业的概率为 $p_M$，选择潜行者职业的概率为 $p_R$。由于这些是仅有的选项，所以 $p_W + p_M + p_R = 1$。\n\n游戏中可以找到一件传说级物品“奥术能量之剑”，但找到它的可能性取决于角色的职业。\n- 战士找到这把剑的概率为 $q_W$。\n- 法师找到这把剑的概率为 $q_M$。\n- 潜行者找到这把剑的概率为 $q_R$。\n\n假设随机选择一名玩家，请推导出该玩家找到“奥术能量之剑”的总概率的表达式。", "solution": "设 $C_W$、$C_M$、$C_R$ 分别表示玩家是战士、法师或潜行者的事件。则有 $P(C_W)=p_W$，$P(C_M)=p_M$，$P(C_R)=p_R$，且 $p_W+p_M+p_R=1$。设 $S$ 表示玩家找到“奥术能量之剑”的事件。根据全概率公式，\n\n$$\nP(S)=P(S\\mid C_W)\\,P(C_W)+P(S\\mid C_M)\\,P(C_M)+P(S\\mid C_R)\\,P(C_R).\n$$\n\n将 $P(S\\mid C_W)=q_W$、$P(S\\mid C_M)=q_M$ 和 $P(S\\mid C_R)=q_R$ 代入可得\n\n$$\nP(S)=p_W\\,q_W+p_M\\,q_M+p_R\\,q_R.\n$$", "answer": "$$\\boxed{p_Wq_W+p_Mq_M+p_Rq_R}$$", "id": "10104"}, {"introduction": "在掌握了基本应用之后，让我们来探讨一个更微妙的场景。这个练习要求我们计算在无放回抽样中第二次抽到红球的概率。要解决这个问题，我们需要根据第一次抽样的结果来划分情况，这展示了全概率定律在分析序贯事件中的威力。这个问题将引导你发现一个看似违反直觉但实际上非常深刻的对称性。[@problem_id:11012]", "problem": "一个瓮中装有 $N_R$ 个红球和 $N_B$ 个蓝球，其中 $N_R \\ge 1$ 且 $N_B \\ge 0$。从该瓮中不放回地依次抽取两个球。\n\n令 $X_1$ 为表示第一次抽到球的颜色的随机变量，$X_2$ 为表示第二次抽到球的颜色的随机变量。每个随机变量的可能结果（颜色）为红色（R）或蓝色（B）。\n\n第二次抽取的边缘概率 $P(X_2=c_2)$，可以通过将联合概率分布对第一次抽取的所有可能结果求和来确定。该关系由全概率公式表达：\n$$\nP(X_2=c_2) = \\sum_{c_1 \\in \\{R, B\\}} P(X_2=c_2, X_1=c_1)\n$$\n使用条件概率，这可以写成：\n$$\nP(X_2=c_2) = P(X_2=c_2 | X_1=R) P(X_1=R) + P(X_2=c_2 | X_1=B) P(X_1=B)\n$$\n你需要推导出第二次抽出的球是红色的边缘概率 $P(X_2=R)$。你的最终答案应该是一个用 $N_R$ 和 $N_B$ 表示的符号表达式。", "solution": "我们使用全概率公式：\n$$\nP(X_2=R) = P(X_2=R\\mid X_1=R)\\,P(X_1=R) + P(X_2=R\\mid X_1=B)\\,P(X_1=B).\n$$\n第一次抽取的边缘概率为\n$$\nP(X_1=R)=\\frac{N_R}{N_R+N_B},\\qquad\nP(X_1=B)=\\frac{N_B}{N_R+N_B}.\n$$\n给定第一次抽取的结果，\n$$\nP(X_2=R\\mid X_1=R)=\\frac{N_R-1}{N_R+N_B-1},\\qquad\nP(X_2=R\\mid X_1=B)=\\frac{N_R}{N_R+N_B-1}.\n$$\n代入得，\n$$\nP(X_2=R)\n=\\frac{N_R}{N_R+N_B}\\,\\frac{N_R-1}{N_R+N_B-1}\n+\\frac{N_B}{N_R+N_B}\\,\\frac{N_R}{N_R+N_B-1}.\n$$\n合并各项：\n$$\nP(X_2=R)\n=\\frac{N_R(N_R-1)+N_BN_R}{(N_R+N_B)(N_R+N_B-1)}\n=\\frac{N_R(N_R+N_B-1)}{(N_R+N_B)(N_R+N_B-1)}\n=\\frac{N_R}{N_R+N_B}.\n$$", "answer": "$$\\boxed{\\frac{N_R}{N_R+N_B}}$$", "id": "11012"}, {"introduction": "现在，准备好迎接一个真正的挑战。这个问题描述了一个动态的翁模型，其中每次抽样的结果都会改变下一次抽样的条件概率。为了计算第三次抽到红球的概率，你必须系统地追踪所有可能的演化路径，并对每一步应用全概率定律。这个练习不仅考验你对该定律的掌握，更训练你对复杂随机过程进行建模和分析的能力。[@problem_id:785232]", "problem": "一个基于瓮的概率过程定义如下：\n1.  初始时，在步骤 $k=0$ 时，一个瓮中装有一个红球和一个黑球。\n2.  在每个步骤 $k=1, 2, 3, \\dots$ 时，从瓮中随机抽取一个球。\n3.  记下所抽中球的颜色，并将该球放回瓮中。\n4.  接着，在瓮中添加一个与抽中球颜色*相反*的球。瓮中球的总数在每个步骤增加一。\n\n计算第三次从瓮中抽出的球（在步骤 $k=3$ 时）是红色的确切概率。", "solution": "令 $r_k, b_k$ 分别表示在第 $k$ 步操作后瓮中红球和黑球的数量。初始时（$k=0$），\n$$r_0=b_0=1.$$\n步骤 1：\n$$P(c_1=R)=\\frac{r_0}{r_0+b_0}=\\frac12,\\quad \nP(c_1=B)=\\frac12.$$\n如果 $c_1=R$ 则 $(r_1,b_1)=(1,2)$；如果 $c_1=B$ 则 $(r_1,b_1)=(2,1)$。\n\n步骤 2：\n情况 1 ($c_1=R$，概率 $1/2$)：\n$$P(c_2=R)=\\frac{1}{1+2}=\\frac13,\\;P(c_2=B)=\\frac23,$$\n得到 $(r_2,b_2)=(1,3)$ 或 $(2,2)$。\n情况 2 ($c_1=B$，概率 $1/2$)：\n$$P(c_2=R)=\\frac{2}{2+1}=\\frac23,\\;P(c_2=B)=\\frac13,$$\n得到 $(r_2,b_2)=(2,2)$ 或 $(3,1)$。\n\n各路径、其概率及 $(r_2,b_2)$ 如下：\n\n1. $R,R$：概率 $\\tfrac12\\cdot\\tfrac13=\\tfrac16$, $(1,3)$\n2. $R,B$：概率 $\\tfrac12\\cdot\\tfrac23=\\tfrac13$, $(2,2)$\n3. $B,R$：概率 $\\tfrac12\\cdot\\tfrac23=\\tfrac13$, $(2,2)$\n4. $B,B$：概率 $\\tfrac12\\cdot\\tfrac13=\\tfrac16$, $(3,1)$\n\n步骤 3：\n$$P(c_3=R)\n=\\sum_{\\text{paths}}P(\\text{path})\\frac{r_2}{r_2+b_2}\n=\\frac{1}{6}\\cdot\\frac{1}{4}\n+\\frac{1}{3}\\cdot\\frac{2}{4}\n+\\frac{1}{3}\\cdot\\frac{2}{4}\n+\\frac{1}{6}\\cdot\\frac{3}{4}\n=\\frac{1+4+4+3}{24}=\\frac12.$$", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "785232"}]}