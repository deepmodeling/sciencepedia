{"hands_on_practices": [{"introduction": "我们的第一个练习将带你回到条件概率最核心的定义。这个思想实验将展示如何仅利用基本定义和乘法法则，从已知的条件概率 $P(A|B)$ 推导出另一个相关的条件概率 $P(B|A)$。掌握这种转换是灵活运用概率论解决实际问题的基础。[@problem_id:3058]", "problem": "在微芯片制造的质量控制过程中，会进行两种不同的自动化测试，即测试 A 和测试 B。设 $A$ 是随机选中的一个微芯片未能通过测试 A 的事件，设 $B$ 是其未能通过测试 B 的事件。与这些测试相关的概率如下所示：\n\n- 一个芯片未能通过测试 A 的概率为 $P(A) = p_A$。\n- 一个芯片未能通过测试 B 的概率为 $P(B) = p_B$。\n- 一个芯片在已知未能通过测试 B 的情况下，也未能通过测试 A 的概率为 $P(A|B) = p_{A|B}$。\n\n假设概率的取值如下：\n- $p_A = \\frac{1}{2}$\n- $p_B = \\frac{2}{5}$\n- $p_{A|B} = \\frac{3}{5}$\n\n使用条件概率的基本定义，推导 $P(B|A)$ 的表达式，即一个微芯片在已知未能通过测试 A 的情况下，也未能通过测试 B 的概率。然后，计算其数值。", "solution": "问题要求解条件概率 $P(B|A)$。对于两个事件 $X$ 和 $Y$（其中 $P(Y)>0$），条件概率的定义如下：\n$$\nP(X|Y) = \\frac{P(X \\cap Y)}{P(Y)}\n$$\n其中 $P(X \\cap Y)$ 是事件 $X$ 和 $Y$ 同时发生的联合概率。\n\n我们的目标是求 $P(B|A)$。根据定义，我们可以写出：\n$$\nP(B|A) = \\frac{P(B \\cap A)}{P(A)}\n$$\n\n问题给出了 $P(A)$，但没有直接给出联合概率 $P(B \\cap A)$。但是，我们已知 $P(A|B)$ 和 $P(B)$。我们可以使用 $P(A|B)$ 的条件概率定义：\n$$\nP(A|B) = \\frac{P(A \\cap B)}{P(B)}\n$$\n\n我们可以重新整理这个方程来求解联合概率 $P(A \\cap B)$：\n$$\nP(A \\cap B) = P(A|B) P(B)\n$$\n\n事件的交集是可交换的运算，这意味着“事件 A 和 B 发生”与“事件 B 和 A 发生”是同一事件。因此，它们的概率相等：\n$$\nP(A \\cap B) = P(B \\cap A)\n$$\n\n现在我们可以将从整理后的公式中得到的 $P(A \\cap B)$ 的表达式代入我们求 $P(B|A)$ 的方程中：\n$$\nP(B|A) = \\frac{P(A \\cap B)}{P(A)} = \\frac{P(A|B) P(B)}{P(A)}\n$$\n\n这样我们就得到了用给定数量表示的 $P(B|A)$ 的符号表达式。现在，我们代入给定的数值：\n- $P(A) = p_A = \\frac{1}{2}$\n- $P(B) = p_B = \\frac{2}{5}$\n- $P(A|B) = p_{A|B} = \\frac{3}{5}$\n\n将这些值代入我们推导出的公式中：\n$$\nP(B|A) = \\frac{\\left(\\frac{3}{5}\\right) \\left(\\frac{2}{5}\\right)}{\\frac{1}{2}}\n$$\n\n首先，我们计算分子中的乘积：\n$$\nP(B|A) = \\frac{\\frac{3 \\times 2}{5 \\times 5}}{\\frac{1}{2}} = \\frac{\\frac{6}{25}}{\\frac{1}{2}}\n$$\n\n要除以一个分数，我们乘以它的倒数：\n$$\nP(B|A) = \\frac{6}{25} \\times \\frac{2}{1} = \\frac{12}{25}\n$$\n\n因此，一个微芯片在已知未能通过测试 A 的情况下，也未能通过测试 B 的概率是 $\\frac{12}{25}$。", "answer": "$$\n\\boxed{\\frac{12}{25}}\n$$", "id": "3058"}, {"introduction": "在掌握了基础定义之后，我们来探讨一个更经典的场景，它完美地诠释了贝叶斯定理的威力。这个问题要求我们“反向推理”：当观察到一个结果（产品有缺陷）时，去推断它源自哪个原因（生产线 A 或 B）的概率。这种从结果推断原因的逻辑是诊断、风险评估和机器学习等众多领域的基石。[@problem_id:3074]", "problem": "一家工厂使用两条不同的生产线（生产线 A 和生产线 B）来生产一种特定类型的微芯片。生产线 A 负责生产总微芯片中的一部分，比例为 $p_A$，而生产线 B 生产剩余部分，比例为 $p_B = 1-p_A$。\n\n由于设备存在差异，生产线 A 生产的微芯片有缺陷的概率为 $d_A$，而生产线 B 生产的微芯片有缺陷的概率为 $d_B$。所有微芯片在装运前都收集在同一个箱子中。\n\n假设从箱子中随机抽取一个微芯片，发现它是有缺陷的。请推导该有缺陷的微芯片由生产线 A 生产的概率表达式。请用 $p_A$、$d_A$ 和 $d_B$ 来表示你的答案。", "solution": "我们定义以下事件：\n- $A$：所选微芯片由生产线 A 生产的事件。\n- $B$：所选微芯片由生产线 B 生产的事件。\n- $D$：所选微芯片是有缺陷的事件。\n\n根据问题描述，我们已知以下概率：\n- 随机选中的微芯片来自生产线 A 的概率为 $P(A) = p_A$。\n- 随机选中的微芯片来自生产线 B 的概率为 $P(B) = p_B = 1 - p_A$。\n- 在已知微芯片来自生产线 A 的条件下，该微芯片有缺陷的概率为 $P(D|A) = d_A$。\n- 在已知微芯片来自生产线 B 的条件下，该微芯片有缺陷的概率为 $P(D|B) = d_B$。\n\n我们要求的是在已知微芯片有缺陷的条件下，它是由生产线 A 生产的概率。这即是条件概率 $P(A|D)$。\n\n根据条件概率的定义：\n$$\nP(A|D) = \\frac{P(A \\cap D)}{P(D)}\n$$\n其中 $P(A \\cap D)$ 是微芯片来自生产线 A 且有缺陷的概率，而 $P(D)$ 是随机选中的微芯片有缺陷的总概率。\n\n首先，我们来求分子 $P(A \\cap D)$。我们可以通过重排 $P(D|A)$ 的条件概率定义来求解：\n$$\nP(D|A) = \\frac{P(D \\cap A)}{P(A)}\n$$\n求解 $P(D \\cap A)$（与 $P(A \\cap D)$ 相同），我们得到：\n$$\nP(A \\cap D) = P(D|A) P(A)\n$$\n代入已知值：\n$$\nP(A \\cap D) = d_A p_A\n$$\n\n接下来，我们来求分母 $P(D)$。一个微芯片有缺陷有两种互斥的情况：它由生产线 A 生产且有缺陷，或者它由生产线 B 生产且有缺陷。根据全概率公式，我们可以将 $P(D)$ 表示为这两种可能性的和：\n$$\nP(D) = P(D \\cap A) + P(D \\cap B)\n$$\n我们已经求出 $P(D \\cap A) = d_A p_A$。同样地，我们可以求出 $P(D \\cap B)$：\n$$\nP(D \\cap B) = P(D|B) P(B) = d_B p_B\n$$\n代入 $p_B = 1 - p_A$：\n$$\nP(D \\cap B) = d_B (1 - p_A)\n$$\n现在，我们可以将有缺陷的总概率写为：\n$$\nP(D) = d_A p_A + d_B (1 - p_A)\n$$\n\n最后，我们将分子 $P(A \\cap D)$ 和分母 $P(D)$ 的表达式代回到我们最初的 $P(A|D)$ 公式中：\n$$\nP(A|D) = \\frac{d_A p_A}{d_A p_A + d_B (1 - p_A)}\n$$\n这就是一个有缺陷的部件来自生产线 A 的最终概率表达式。", "answer": "$$\n\\boxed{\\frac{p_A d_A}{p_A d_A + (1-p_A) d_B}}\n$$", "id": "3074"}, {"introduction": "最后，让我们通过一个几何概率问题来挑战自己，将条件概率的概念从离散事件推广到连续空间。在这个练习中，样本空间不再是有限的几个结果，而是一个连续的几何区域。你需要通过计算面积来求解条件概率，这不仅能加深你对抽象概念的理解，也为你将来学习连续随机变量打下坚实的基础。[@problem_id:1905878]", "problem": "在一个长度为 $L$ 的线段上随机独立地选择两个点。每个点的位置，由随机变量 $X_1$ 和 $X_2$ 表示，是从区间 $[0, L]$ 上的均匀分布中选取的。\n\n已知两点之间的距离大于线段长度的一半。计算连接这两点的线段的中点位于整个线段长度的前三分之一，即在区间 $[0, L/3]$ 内的条件概率。", "solution": "设 $X_{1},X_{2}$ 在 $[0,L]$ 上独立且均匀分布。其联合密度在正方形 $[0,L]^{2}$ 上为常数，因此任何概率都等于相应区域的面积除以 $L^{2}$。定义事件\n$$A=\\left\\{\\frac{X_{1}+X_{2}}{2}\\in\\left[0,\\frac{L}{3}\\right]\\right\\}=\\{X_{1}+X_{2}\\leq \\tfrac{2L}{3}\\},\\qquad B=\\{|X_{1}-X_{2}|>\\tfrac{L}{2}\\}.$$\n所求概率为 $P(A\\mid B)=\\frac{P(A\\cap B)}{P(B)}$，它等于 $[0,L]^{2}$ 中相应区域的面积之比。\n\n引入无量纲变量 $u=X_{1}/L$, $v=X_{2}/L$。于是正方形变为 $[0,1]^{2}$，且\n$$B:\\ |u-v|>\\tfrac{1}{2},\\qquad A:\\ u+v\\leq \\tfrac{2}{3}.$$\n设 $D$ 表示 $B$ 在 $[0,1]^{2}$ 中的面积，$A_{\\text{num}}$ 表示 $A\\cap B$ 的面积。\n\n计算 $D$。集合 $|u-v|>\\tfrac{1}{2}$ 是两个全等直角三角形的并集：\n$$D=2\\int_{0}^{1/2}\\int_{u+1/2}^{1}dv\\,du=2\\int_{0}^{1/2}\\left(\\tfrac{1}{2}-u\\right)du=2\\left[\\tfrac{1}{2}u-\\tfrac{1}{2}u^{2}\\right]_{0}^{1/2}=2\\cdot \\tfrac{1}{8}=\\tfrac{1}{4}.$$\n\n通过将其拆分为两个外部三角形部分来计算 $A_{\\text{num}}=\\iint_{[0,1]^{2}}\\mathbf{1}\\{|u-v|>\\tfrac{1}{2},\\,u+v\\leq \\tfrac{2}{3}\\}\\,du\\,dv$。\n\n1) 与 $v\\geq u+\\tfrac{1}{2}$ 和 $u+v\\leq \\tfrac{2}{3}$ 的交集在 $0\\leq u\\leq \\tfrac{1}{12}$ 时存在，此时 $v$ 的范围是从 $u+\\tfrac{1}{2}$ 到 $\\tfrac{2}{3}-u$：\n$$A_{1}=\\int_{0}^{1/12}\\int_{u+1/2}^{2/3-u}dv\\,du=\\int_{0}^{1/12}\\left(\\tfrac{1}{6}-2u\\right)du=\\left[\\tfrac{1}{6}u-u^{2}\\right]_{0}^{1/12}=\\tfrac{1}{144}.$$\n\n2) 与 $v\\leq u-\\tfrac{1}{2}$ 和 $u+v\\leq \\tfrac{2}{3}$ 的交集发生在 $\\tfrac{1}{2}\\leq u\\leq \\tfrac{2}{3}$ 时，在 $u=\\tfrac{7}{12}$ 处拆分，此处有 $u-\\tfrac{1}{2}=\\tfrac{2}{3}-u$：\n$$A_{2}=\\int_{1/2}^{7/12}\\int_{0}^{u-1/2}dv\\,du+\\int_{7/12}^{2/3}\\int_{0}^{2/3-u}dv\\,du=\\int_{1/2}^{7/12}(u-1/2)\\,du+\\int_{7/12}^{2/3}(2/3-u)\\,du.$$\n计算：\n$$\\int_{1/2}^{7/12}(u-1/2)\\,du=\\left[\\tfrac{u^{2}}{2}-\\tfrac{1}{2}u\\right]_{1/2}^{7/12}=\\tfrac{1}{288},\\qquad \\int_{7/12}^{2/3}(2/3-u)\\,du=\\left[\\tfrac{2}{3}u-\\tfrac{u^{2}}{2}\\right]_{7/12}^{2/3}=\\tfrac{1}{288}.$$\n因此 $A_{2}=\\tfrac{1}{144}$。\n\n因此 $A_{\\text{num}}=A_{1}+A_{2}=\\tfrac{1}{72}$，且条件概率为\n$$P(A\\mid B)=\\frac{A_{\\text{num}}}{D}=\\frac{\\tfrac{1}{72}}{\\tfrac{1}{4}}=\\frac{1}{18}.$$\n正如通过缩放所预期的，这个结果与 $L$ 无关。", "answer": "$$\\boxed{\\frac{1}{18}}$$", "id": "1905878"}]}