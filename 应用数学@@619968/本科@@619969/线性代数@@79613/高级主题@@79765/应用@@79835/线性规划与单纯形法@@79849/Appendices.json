{"hands_on_practices": [{"introduction": "掌握单纯形法的第一步是将一个文字描述的优化问题转化为一个精确的数学结构，即初始单纯形表。这个过程需要引入“松弛变量”将不等式约束转化为等式，并重新排列目标函数。本练习 [@problem_id:1373868] 将重点训练如何正确构建目标函数行，它是整个单纯形算法的“指南针”，其系数决定了我们寻找最优解的迭代方向。", "problem": "一家小型手工作坊制造三种定制机械键盘：“紧凑型”（C）、“无数字键盘型”（TKL）和“全尺寸型”（F）。每种型号键盘的生产受到三种主要部件的每周可用数量的限制：定制键轴、印刷电路板（PCB）和铝制外壳。该作坊旨在确定每种型号的生产数量，以最大化其每周总利润。\n\n每种键盘型号的利润和部件需求如下：\n\n- **紧凑型 (C):**\n  - 利润：每台60美元。\n  - 键轴：65个。\n  - PCB：1块。\n  - 外壳：1个。\n- **无数字键盘型 (TKL):**\n  - 利润：每台85美元。\n  - 键轴：90个。\n  - PCB：1块。\n  - 外壳：1个。\n- **全尺寸型 (F):**\n  - 利润：每台110美元。\n  - 键轴：110个。\n  - PCB：1块。\n  - 外壳：1个。\n\n每周可用的部件总数如下：\n- 键轴：10,000个。\n- PCB：120块。\n- 外壳：100个。\n\n设 $x_1$、$x_2$ 和 $x_3$ 分别代表生产的紧凑型、无数字键盘型和全尺寸型键盘的数量。为使用单纯形法解决此线性规划问题，通过引入非负松弛变量 $s_1$、$s_2$ 和 $s_3$，将不等式组转换为线性方程组。然后，该系统被表示在一个初始单纯形表中。该表的列按 $x_1, x_2, x_3, s_1, s_2, s_3, Z, \\text{RHS}$ 的顺序列出，其中 $Z$ 是总利润。\n\n这个初始单纯形表的最后一行（对应于目标函数）的各项是什么？请用单行矩阵表示你的答案。", "solution": "定义决策变量 $x_{1}, x_{2}, x_{3}$ 为每周生产的紧凑型、无数字键盘型和全尺寸型键盘的数量。目标是最大化总利润\n$$Z=60x_{1}+85x_{2}+110x_{3}.$$\n在单纯形法中，目标函数行是通过将所有项移到左侧来书写的，得到\n$$Z-60x_{1}-85x_{2}-110x_{3}=0.$$\n松弛变量 $s_{1}, s_{2}, s_{3}$ 不出现在目标函数中，因此它们的系数为零。根据指定的列顺序 $(x_{1}, x_{2}, x_{3}, s_{1}, s_{2}, s_{3}, Z, \\text{RHS})$，最后一行（目标行）的各项是目标方程中这些变量的系数：$x_{1}$ 的系数为 $-60$，$x_{2}$ 的系数为 $-85$，$x_{3}$ 的系数为 $-110$，$s_{1}$ 的系数为 $0$，$s_{2}$ 的系数为 $0$，$s_{3}$ 的系数为 $0$，$Z$ 的系数为 $1$，右侧项（RHS）为 $0$。", "answer": "$$\\boxed{\\begin{pmatrix}-60 & -85 & -110 & 0 & 0 & 0 & 1 & 0\\end{pmatrix}}$$", "id": "1373868"}, {"introduction": "在建立初始单纯形表之后，算法的核心环节便是执行“轴心变换”（pivot operation）。每一次轴心变换都是一个系统化的过程，它在几何上对应于从可行域的一个顶点移动到相邻的、能使目标函数值更优的另一个顶点。此练习 [@problem_id:1373856] 旨在让你熟练掌握构成单纯形法“引擎”的行变换技巧，这是推动算法迭代前进的根本。", "problem": "在求解线性规划问题的单纯形法中，单纯形表表示问题的约束条件和目标函数。主元运算是用于从一个基本可行解移动到另一个基本可行解的基本步骤。\n\n考虑以下单纯形表，其中变量为 $x_1$、$x_2$，松弛变量为 $s_1$、$s_2$，$P$ 为目标函数。前两行的基变量分别为 $s_1$ 和 $s_2$。最后一列表示方程的右端项（RHS）。\n\n$$\n\\begin{bmatrix}\n2 & 3 & 1 & 0 & 0 & 18 \\\\\n4 & 1 & 0 & 1 & 0 & 16 \\\\\n-5 & -2 & 0 & 0 & 1 & 0\n\\end{bmatrix}\n$$\n\n下一次迭代的主元已被确定为第二行第一列的元素。对此单纯形表执行一次完整的主元运算。最终答案应为整个生成的 $3 \\times 6$ 单纯形表。", "solution": "我们将单纯形表中的各列看作 $x_{1}, x_{2}, s_{1}, s_{2}, P$，最后一列看作右端项。给定的单纯形表为\n$$\n\\begin{bmatrix}\n2 & 3 & 1 & 0 & 0 & 18 \\\\\n4 & 1 & 0 & 1 & 0 & 16 \\\\\n-5 & -2 & 0 & 0 & 1 & 0\n\\end{bmatrix}.\n$$\n主元是第二行第一列的元素，即 $4$。一次主元运算包括：\n1) 将主元行归一化，使主元变为 $1$。\n2) 消去主元列中的其他元素，使它们变为 $0$。\n\n将第二行除以 $4$ 进行归一化：\n$$\nR_{2}'=\\frac{1}{4}R_{2}=\\left[1,\\ \\frac{1}{4},\\ 0,\\ \\frac{1}{4},\\ 0,\\ 4\\right].\n$$\n\n使用 $R_{1}\\leftarrow R_{1}-2R_{2}'$ 消去第一行第一列的元素：\n- 第1列：$2-2\\cdot 1=0$。\n- 第2列：$3-2\\cdot \\frac{1}{4}=3-\\frac{1}{2}=\\frac{5}{2}$。\n- 第3列：$1-2\\cdot 0=1$。\n- 第4列：$0-2\\cdot \\frac{1}{4}=-\\frac{1}{2}$。\n- 第5列：$0-2\\cdot 0=0$。\n- 右端项：$18-2\\cdot 4=10$。\n因此，\n$$\nR_{1}'=\\left[0,\\ \\frac{5}{2},\\ 1,\\ -\\frac{1}{2},\\ 0,\\ 10\\right].\n$$\n\n使用 $R_{3}\\leftarrow R_{3}+5R_{2}'$ 消去第三行第一列的元素（因为该元素为 $-5$）：\n- 第1列：$-5+5\\cdot 1=0$。\n- 第2列：$-2+5\\cdot \\frac{1}{4}=-2+\\frac{5}{4}=-\\frac{3}{4}$。\n- 第3列：$0+5\\cdot 0=0$。\n- 第4列：$0+5\\cdot \\frac{1}{4}=\\frac{5}{4}$。\n- 第5列：$1+5\\cdot 0=1$。\n- 右端项：$0+5\\cdot 4=20$。\n因此，\n$$\nR_{3}'=\\left[0,\\ -\\frac{3}{4},\\ 0,\\ \\frac{5}{4},\\ 1,\\ 20\\right].\n$$\n\n主元运算后得到的单纯形表为\n$$\n\\begin{pmatrix}\n0 & \\frac{5}{2} & 1 & -\\frac{1}{2} & 0 & 10 \\\\\n1 & \\frac{1}{4} & 0 & \\frac{1}{4} & 0 & 4 \\\\\n0 & -\\frac{3}{4} & 0 & \\frac{5}{4} & 1 & 20\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}\n0 & \\frac{5}{2} & 1 & -\\frac{1}{2} & 0 & 10 \\\\\n1 & \\frac{1}{4} & 0 & \\frac{1}{4} & 0 & 4 \\\\\n0 & -\\frac{3}{4} & 0 & \\frac{5}{4} & 1 & 20\n\\end{pmatrix}}$$", "id": "1373856"}, {"introduction": "经过一系列的轴心变换，当目标函数行中不再存在可以改进解的指示数时（对于最大化问题，即没有负数），算法便达到了终点。此时，最终的单纯形表就包含了我们所寻求的最优解。这个最后的练习 [@problem_id:1373885] 将教会你如何从这个最终矩阵中“解码”，即准确地读出各个决策变量的最优取值以及目标函数的最大值，将抽象的数学结果还原为问题的实际答案。", "problem": "一位自由数字艺术家制定了每周业务计划，生产三种类型的创意资产进行销售：静态插图（设每周产量为 $x_1$）、动画短片（$x_2$）和完全绑定的3D模型（$x_3$）。该艺术家的目标是最大化周利润 $P$。\n\n每种资产的利润如下：\n- 静态插图 ($x_1$): \\$40\n- 动画短片 ($x_2$): \\$90\n- 3D模型 ($x_3$): \\$100\n\n生产受到两个主要约束：可用的劳动小时数和计算机处理时间。\n1.  **劳动力约束**：一幅静态插图需要1小时的劳动力，一个动画短片需要3小时，一个3D模型需要2小时。该艺术家每周最多可投入60个劳动小时。\n2.  **计算机时间约束**：一幅静态插图需要1小时的计算机处理时间，一个动画短片需要1小时，一个3D模型需要2小时。该艺术家的工作站每周最多可处理40小时。\n\n该问题被建模为一个线性规划问题，以最大化利润函数 $P = 40x_1 + 90x_2 + 100x_3$。针对劳动力和计算机时间约束，分别引入了松弛变量 $s_1$ 和 $s_2$。应用单纯形法后，得到的最终最优单纯形表为：\n\n$$\n\\left[\n\\begin{array}{cccccc|c}\nx_1 & x_2 & x_3 & s_1 & s_2 & P & \\text{RHS} \\\\\n\\hline\n0 & 1 & 0 & 1/2 & -1/2 & 0 & 10 \\\\\n1/2 & 0 & 1 & -1/4 & 3/4 & 0 & 15 \\\\\n\\hline\n10 & 0 & 0 & 20 & 30 & 1 & 2400\n\\end{array}\n\\right]\n$$\n\n利用这个最终单纯形表，确定艺术家为最大化利润每周应生产的每种资产的最优数量（$x_1, x_2, x_3$），并求出最大利润（$P$）的值。将这四个值按 $\\begin{pmatrix} x_1 & x_2 & x_3 & P \\end{pmatrix}$ 的顺序以行矩阵的形式给出。", "solution": "我们从最大化利润的线性规划问题开始\n$$\nP=40x_{1}+90x_{2}+100x_{3}\n$$\n受限于以下带松弛变量 $s_{1}$（劳动力）和 $s_{2}$（计算机时间）的约束条件：\n$$\nx_{1}+3x_{2}+2x_{3}+s_{1}=60,\\quad x_{1}+x_{2}+2x_{3}+s_{2}=40,\\quad x_{1},x_{2},x_{3},s_{1},s_{2}\\geq 0.\n$$\n在最终单纯形表中，基变量对应于在约束行中构成单位向量的列，其值由各自行的右端项（RHS）给出；所有非基变量都设为零。目标行可以解读为用非基变量表示 $P$ 的方程，在最优状态下，所有判别数都满足最优性条件。\n\n从给定的最终单纯形表中，$x_{2}$ 的列在两个约束行和目标行中是 $\\begin{pmatrix}1\\\\0\\\\0\\end{pmatrix}$，所以 $x_{2}$ 是第一个约束行中的基变量，其值为\n$$\nx_{2}=10.\n$$\n类似地，$x_{3}$ 的列是 $\\begin{pmatrix}0\\\\1\\\\0\\end{pmatrix}$，所以 $x_{3}$ 是第二个约束行中的基变量，其值为\n$$\nx_{3}=15.\n$$\n其余变量 $x_{1},s_{1},s_{2}$ 是非基变量，因此\n$$\nx_{1}=0,\\quad s_{1}=0,\\quad s_{2}=0.\n$$\n这个选择恰好在边界上满足了原始约束条件：\n$$\nx_{1}+3x_{2}+2x_{3}=0+3\\cdot 10+2\\cdot 15=60,\\quad x_{1}+x_{2}+2x_{3}=0+10+2\\cdot 15=40,\n$$\n所以 $s_{1}=0$ 和 $s_{2}=0$ 是一致的。\n\n读取目标行，其典范形式为\n$$\nP+10x_{1}+0x_{2}+0x_{3}+20s_{1}+30s_{2}=2400,\n$$\n因此，在非基变量为零的基本可行解处，最优利润为\n$$\nP=2400.\n$$\n这也与利润函数的值相符\n$$\nP=40x_{1}+90x_{2}+100x_{3}=40\\cdot 0+90\\cdot 10+100\\cdot 15=900+1500=2400.\n$$\n因此，最优生产计划为 $x_{1}=0$，$x_{2}=10$，$x_{3}=15$，最大利润为 $P=2400$。", "answer": "$$\\boxed{\\begin{pmatrix}0 & 10 & 15 & 2400\\end{pmatrix}}$$", "id": "1373885"}]}