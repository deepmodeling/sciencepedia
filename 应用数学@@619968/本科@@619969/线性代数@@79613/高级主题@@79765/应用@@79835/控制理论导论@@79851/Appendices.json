{"hands_on_practices": [{"introduction": "在尝试控制一个系统之前，我们必须首先回答一个基本问题：这个系统是可控的吗？可控性是控制理论中的一个核心概念，它决定了我们是否能通过一个控制输入，在有限时间内将系统从任意初始状态驱动到任意最终状态。本练习通过分析一个具有对角状态矩阵的简化系统，帮助你直观地理解系统完全可控的条件，并将抽象的代数判据（卡尔曼可控性矩阵）与系统的物理结构（其模态或特征值）和输入矩阵的设计联系起来。 [@problem_id:1367836]", "problem": "一个连续时间线性时不变（LTI）系统由状态空间方程 $\\dot{\\mathbf{x}}(t) = A\\mathbf{x}(t) + B\\mathbf{u}(t)$ 描述，其中 $\\mathbf{x}(t) \\in \\mathbb{R}^3$ 是状态向量，$\\mathbf{u}(t) \\in \\mathbb{R}$ 是一个标量输入。该系统的动态特性由一个对角状态矩阵 $A$ 和一个列向量输入矩阵 $B$ 决定，其形式如下：\n\n$$\nA = \\begin{pmatrix} \\lambda_1 & 0 & 0 \\\\ 0 & \\lambda_2 & 0 \\\\ 0 & 0 & \\lambda_3 \\end{pmatrix}, \\quad B = \\begin{pmatrix} b_1 \\\\ b_2 \\\\ b_3 \\end{pmatrix}\n$$\n\n其中参数 $\\lambda_1, \\lambda_2, \\lambda_3$ 和 $b_1, b_2, b_3$ 都是实数。\n\n如果对于任意初始状态 $\\mathbf{x}(t_0)$ 和任意期望的最终状态 $\\mathbf{x}(t_f)$，都存在一个控制输入 $\\mathbf{u}(t)$ 能够在有限时间区间 $[t_0, t_f]$ 内将系统从初始状态驱动到最终状态，则称该系统是完全可控的。在线性代数中，此性质等价于系统的可控性矩阵是满秩的。\n\n下列哪个选项给出了该系统完全可控的充要条件？\n\nA. 所有特征值都必须非零（即 $\\lambda_1 \\neq 0, \\lambda_2 \\neq 0, \\lambda_3 \\neq 0$），并且 B 矩阵的所有元素都必须非零（即 $b_1 \\neq 0, b_2 \\neq 0, b_3 \\neq 0$）。\n\nB. 矩阵 $A$ 的特征值必须互不相同（即 $\\lambda_1 \\neq \\lambda_2, \\lambda_1 \\neq \\lambda_3, \\lambda_2 \\neq \\lambda_3$）。\n\nC. 矩阵 $B$ 的所有元素都必须非零（即 $b_1 \\neq 0, b_2 \\neq 0, b_3 \\neq 0$）。\n\nD. 矩阵 $A$ 的特征值必须互不相同（即 $\\lambda_1 \\neq \\lambda_2, \\lambda_1 \\neq \\lambda_3, \\lambda_2 \\neq \\lambda_3$），并且矩阵 $B$ 的所有元素都必须非零（即 $b_1 \\neq 0, b_2 \\neq 0, b_3 \\neq 0$）。\n\nE. 矩阵 $A$ 的至少两个特征值必须相等。", "solution": "对于一个连续时间 LTI 系统 $\\dot{\\mathbf{x}}(t)=A\\mathbf{x}(t)+B\\mathbf{u}(t)$，其中 $A \\in \\mathbb{R}^{3 \\times 3}$ 且 $B \\in \\mathbb{R}^{3 \\times 1}$，其卡尔曼可控性矩阵为\n$$\n\\mathcal{C}=\\begin{pmatrix} B & AB & A^{2}B \\end{pmatrix}.\n$$\n该系统完全可控当且仅当 $\\operatorname{rank}(\\mathcal{C})=3$。对于一个 $3 \\times 3$ 矩阵，这等价于 $\\det(\\mathcal{C}) \\neq 0$。\n\n给定 $A=\\operatorname{diag}(\\lambda_{1},\\lambda_{2},\\lambda_{3})$ 和 $B=\\begin{pmatrix} b_{1} \\\\ b_{2} \\\\ b_{3} \\end{pmatrix}$，计算\n$$\nAB = \\begin{pmatrix} \\lambda_{1} b_{1} \\\\ \\lambda_{2} b_{2} \\\\ \\lambda_{3} b_{3} \\end{pmatrix}, \\quad\nA^{2}B = A(AB) = \\begin{pmatrix} \\lambda_{1}^{2} b_{1} \\\\ \\lambda_{2}^{2} b_{2} \\\\ \\lambda_{3}^{2} b_{3} \\end{pmatrix}.\n$$\n因此，\n$$\n\\mathcal{C} =\n\\begin{pmatrix}\nb_{1} & \\lambda_{1} b_{1} & \\lambda_{1}^{2} b_{1} \\\\\nb_{2} & \\lambda_{2} b_{2} & \\lambda_{2}^{2} b_{2} \\\\\nb_{3} & \\lambda_{3} b_{3} & \\lambda_{3}^{2} b_{3}\n\\end{pmatrix}\n= \n\\underbrace{\\operatorname{diag}(b_{1},b_{2},b_{3})}_{D}\n\\underbrace{\\begin{pmatrix}\n1 & \\lambda_{1} & \\lambda_{1}^{2} \\\\\n1 & \\lambda_{2} & \\lambda_{2}^{2} \\\\\n1 & \\lambda_{3} & \\lambda_{3}^{2}\n\\end{pmatrix}}_{V}.\n$$\n所以，\n$$\n\\det(\\mathcal{C})=\\det(D)\\det(V)=(b_{1} b_{2} b_{3})\\det(V).\n$$\n矩阵 $V$ 是在 $\\lambda_{1},\\lambda_{2},\\lambda_{3}$ 处求值的 $3 \\times 3$ 范德蒙矩阵，其行列式为\n$$\n\\det(V)=(\\lambda_{2}-\\lambda_{1})(\\lambda_{3}-\\lambda_{1})(\\lambda_{3}-\\lambda_{2}).\n$$\n因此，\n$$\n\\det(\\mathcal{C}) \\neq 0 \\iff b_{1} \\neq 0,\\; b_{2} \\neq 0,\\; b_{3} \\neq 0 \\quad \\text{and} \\quad \\lambda_{1},\\lambda_{2},\\lambda_{3} \\text{ are pairwise distinct}.\n$$\n这个条件与选项 D 相符。选项 A、B、C 和 E 不充分或限制过严：特征值可以为零；如果任何 $b_{i}=0$，仅有互不相同的特征值是不够的；如果特征值重合，仅有非零的 $b_{i}$ 也是不够的；在这种对角矩阵的情况下，有相等的特征值会阻止矩阵满秩。", "answer": "$$\\boxed{D}$$", "id": "1367836"}, {"introduction": "一旦确认系统是可控的，我们就可以着手设计控制器以实现期望的性能。状态反馈是一种强大的技术，它允许我们通过将系统的闭环极点（特征值）配置到复平面上的期望位置来精确地塑造系统的动态响应。本练习将指导你为一个简化的卫星姿态控制模型设计一个状态反馈控制器，通过计算反馈增益矩阵 $K$ 来实现特定的稳定性和响应速度。 [@problem_id:1367789]", "problem": "一个小卫星绕单轴姿态控制的简化线性模型由一个状态空间表达式描述。状态向量定义为 $\\mathbf{x}(t) = \\begin{pmatrix} \\theta(t) \\\\ \\omega(t) \\end{pmatrix}$，其中 $\\theta(t)$ 是与参考方向的角偏差，$\\omega(t)$ 是对应的角速度。控制输入 $u(t)$ 是由星上反作用轮产生的力矩。该系统的动力学由线性时不变方程 $\\dot{\\mathbf{x}}(t) = A\\mathbf{x}(t) + B u(t)$ 描述，其中矩阵 $A$ 和 $B$ 分别为：\n\n$$\nA = \\begin{pmatrix} 0 & 1 \\\\ 0 & 0 \\end{pmatrix} \\quad \\text{和} \\quad B = \\begin{pmatrix} 0 \\\\ 0.8 \\end{pmatrix}\n$$\n\n为了稳定卫星并达到期望的性能，采用了形式为 $u(t) = -K\\mathbf{x}(t)$ 的状态反馈控制器。增益矩阵 $K$ 是一个 $1 \\times 2$ 的矩阵， $K = \\begin{pmatrix} k_1 & k_2 \\end{pmatrix}$。\n\n您的任务是确定增益 $k_1$ 和 $k_2$ 的数值，使得最终闭环系统的特征值位于 $\\lambda_1 = -3$ 和 $\\lambda_2 = -4$。请以单行矩阵格式 $\\begin{pmatrix} k_1 & k_2 \\end{pmatrix}$ 给出您的答案。", "solution": "我们有线性时不变系统 $\\dot{\\mathbf{x}}(t) = A\\mathbf{x}(t) + B u(t)$，其中 $A = \\begin{pmatrix} 0 & 1 \\\\ 0 & 0 \\end{pmatrix}$ 且 $B = \\begin{pmatrix} 0 \\\\ \\frac{4}{5} \\end{pmatrix}$。采用状态反馈 $u(t) = -K \\mathbf{x}(t)$，其中 $K = \\begin{pmatrix} k_{1} & k_{2} \\end{pmatrix}$，闭环动力学方程为\n$$\n\\dot{\\mathbf{x}}(t) = \\left(A - B K\\right)\\mathbf{x}(t).\n$$\n计算 $B K$：\n$$\nB K = \\begin{pmatrix} 0 \\\\ \\frac{4}{5} \\end{pmatrix}\\begin{pmatrix} k_{1} & k_{2} \\end{pmatrix} = \\begin{pmatrix} 0 & 0 \\\\ \\frac{4}{5}k_{1} & \\frac{4}{5}k_{2} \\end{pmatrix}.\n$$\n因此\n$$\nA - B K = \\begin{pmatrix} 0 & 1 \\\\ 0 & 0 \\end{pmatrix} - \\begin{pmatrix} 0 & 0 \\\\ \\frac{4}{5}k_{1} & \\frac{4}{5}k_{2} \\end{pmatrix} = \\begin{pmatrix} 0 & 1 \\\\ -\\frac{4}{5}k_{1} & -\\frac{4}{5}k_{2} \\end{pmatrix}.\n$$\n闭环矩阵的特征多项式可由下式获得\n$$\n\\det\\!\\left(s I - (A - B K)\\right) = \\det\\!\\begin{pmatrix} s & -1 \\\\ \\frac{4}{5}k_{1} & s + \\frac{4}{5}k_{2} \\end{pmatrix} = s\\left(s + \\frac{4}{5}k_{2}\\right) - (-1)\\left(\\frac{4}{5}k_{1}\\right).\n$$\n所以，\n$$\np_{\\text{cl}}(s) = s^{2} + \\frac{4}{5}k_{2}\\, s + \\frac{4}{5}k_{1}.\n$$\n期望的特征值为 $\\lambda_{1} = -3$ 和 $\\lambda_{2} = -4$，因此期望的特征多项式为\n$$\n(s + 3)(s + 4) = s^{2} + 7 s + 12.\n$$\n对比系数可得\n$$\n\\frac{4}{5}k_{2} = 7 \\quad \\Rightarrow \\quad k_{2} = \\frac{35}{4}, \\qquad \\frac{4}{5}k_{1} = 12 \\quad \\Rightarrow \\quad k_{1} = 15.\n$$\n因此，所求的增益矩阵为 $\\begin{pmatrix} 15 & \\frac{35}{4} \\end{pmatrix}$。", "answer": "$$\\boxed{\\begin{pmatrix} 15 & \\frac{35}{4} \\end{pmatrix}}$$", "id": "1367789"}, {"introduction": "在许多实际应用中，并非所有的系统状态都是可以直接测量的，这给状态反馈控制器的实施带来了挑战。为了解决这个问题，我们可以设计一个状态观测器来从可用的输出测量中估计整个状态向量。本练习将引导你设计一个龙伯格（Luenberger）观测器，通过合理配置观测器误差动态的特征值，确保状态估计值能够快速准确地收敛到系统的真实状态，从而为控制器提供可靠的反馈信号。 [@problem_id:1367845]", "problem": "考虑一个简化机械系统模型，其状态根据线性时不变微分方程 $\\dot{\\mathbf{x}}(t) = A\\mathbf{x}(t)$ 演化，其中状态向量为 $\\mathbf{x}(t) = \\begin{pmatrix} x_1(t) \\\\ x_2(t) \\end{pmatrix}$，系统矩阵 $A$ 由下式给出：\n$$A = \\begin{pmatrix} 0 & 1 \\\\ -9 & 0 \\end{pmatrix}$$\n在此系统中，只有第一个状态变量 $x_1(t)$ 可以被直接测量。该测量过程由输出方程 $y(t) = C\\mathbf{x}(t)$ 描述，其中输出矩阵 $C$ 由下式给出：\n$$C = \\begin{pmatrix} 1 & 0 \\end{pmatrix}$$\n为了从测量值 $y(t)$ 估计完整的状态向量 $\\mathbf{x}(t)$，我们采用了一个状态观测器。估计误差的动态特性定义为 $\\mathbf{e}(t) = \\mathbf{x}(t) - \\hat{\\mathbf{x}}(t)$（其中 $\\hat{\\mathbf{x}}(t)$ 是估计状态），其由方程 $\\dot{\\mathbf{e}}(t) = (A - LC)\\mathbf{e}(t)$ 控制。在这里，$L$ 是一个 $2 \\times 1$ 的常数列向量，称为观测器增益，用于根据测量误差校正估计值。\n\n您的任务是确定观测器增益向量 $L$，使得误差动态矩阵 $(A - LC)$ 的特征值被配置在期望的位置 $\\lambda_1 = -5$ 和 $\\lambda_2 = -6$。请将您的答案表示为一个列向量。", "solution": "我们将观测器增益参数化为 $L = \\begin{pmatrix} \\ell_{1} \\\\ \\ell_{2} \\end{pmatrix}$。给定 $C = \\begin{pmatrix} 1 & 0 \\end{pmatrix}$，乘积 $LC$ 为\n$$\nLC = \\begin{pmatrix} \\ell_{1} \\\\ \\ell_{2} \\end{pmatrix} \\begin{pmatrix} 1 & 0 \\end{pmatrix} = \\begin{pmatrix} \\ell_{1} & 0 \\\\ \\ell_{2} & 0 \\end{pmatrix}.\n$$\n误差动态矩阵为\n$$\nA - LC = \\begin{pmatrix} 0 & 1 \\\\ -9 & 0 \\end{pmatrix} - \\begin{pmatrix} \\ell_{1} & 0 \\\\ \\ell_{2} & 0 \\end{pmatrix} = \\begin{pmatrix} -\\ell_{1} & 1 \\\\ -9 - \\ell_{2} & 0 \\end{pmatrix}.\n$$\n其特征多项式通过 $\\det\\!\\left(sI - (A - LC)\\right)$ 计算：\n$$\nsI - (A - LC) = \\begin{pmatrix} s + \\ell_{1} & -1 \\\\ 9 + \\ell_{2} & s \\end{pmatrix}, \\quad \\det\\!\\left(sI - (A - LC)\\right) = (s + \\ell_{1})s - (-1)(9 + \\ell_{2}) = s^{2} + \\ell_{1}s + 9 + \\ell_{2}.\n$$\n期望的特征值为 $\\lambda_{1} = -5$ 和 $\\lambda_{2} = -6$，因此期望的特征多项式为\n$$\n(s - \\lambda_{1})(s - \\lambda_{2}) = (s + 5)(s + 6) = s^{2} + 11s + 30.\n$$\n通过匹配系数可得\n$$\n\\ell_{1} = 11, \\quad 9 + \\ell_{2} = 30 \\;\\Rightarrow\\; \\ell_{2} = 21.\n$$\n因此，所需的观测器增益为\n$$\nL = \\begin{pmatrix} 11 \\\\ 21 \\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}11\\\\21\\end{pmatrix}}$$", "id": "1367845"}]}