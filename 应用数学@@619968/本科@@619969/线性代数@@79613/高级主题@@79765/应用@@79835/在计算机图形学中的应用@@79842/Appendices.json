{"hands_on_practices": [{"introduction": "在计算机图形学中，我们不仅要变换物体，还要分析其基本几何属性。本练习将线性代数中的一个核心概念——行列式——与一个实际的图形学问题联系起来：检测三个顶点是否共线。这项技能对于识别和处理“退化三角形”至关重要，避免在渲染和物理模拟中出现问题 [@problem_id:1348485]。", "problem": "在计算机图形学领域，一项基本任务是三角剖分，即将一个多边形分解为一组三角形，以便进行高效渲染。在此过程中，一项关键的检查是识别并处理“退化三角形”。当用于构成三角形的三个顶点共线时（即，它们位于同一直线上），就会出现退化三角形。这些零面积三角形可能导致渲染瑕疵和物理模拟中的数值不稳定性。\n\n三点的共线性可以通过检验它们之间形成的向量的线性相关性来确定。考虑二维笛卡尔平面中的三个顶点：$V_1 = (2, 5)$，$V_2 = (8, 8)$ 和 $V_3 = (-4, 1)$。令 $\\vec{u}$ 为从顶点 $V_1$ 到顶点 $V_2$ 的位移向量，令 $\\vec{v}$ 为从顶点 $V_1$ 到顶点 $V_3$ 的位移向量。\n\n为分析这些向量之间的关系，构建一个 $2 \\times 2$ 矩阵 $M$，其中第一列由向量 $\\vec{u}$ 的分量构成，第二列由向量 $\\vec{v}$ 的分量构成。计算该矩阵 $M$ 的行列式。", "solution": "我们将从 $V_{1}$ 出发的位移向量定义为 $\\vec{u} = V_{2} - V_{1}$ 和 $\\vec{v} = V_{3} - V_{1}$。使用 $V_{1} = (2, 5)$，$V_{2} = (8, 8)$ 和 $V_{3} = (-4, 1)$：\n$$\n\\vec{u} = (8 - 2,\\; 8 - 5) = (6,\\; 3), \\quad \\vec{v} = (-4 - 2,\\; 1 - 5) = (-6,\\; -4).\n$$\n构建矩阵 $M$，其中 $\\vec{u}$ 为第一列，$\\vec{v}$ 为第二列：\n$$\nM = \\begin{pmatrix} 6 & -6 \\\\ 3 & -4 \\end{pmatrix}.\n$$\n一个 $2 \\times 2$ 矩阵 $\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}$ 的行列式由 $ad - bc$ 给出。因此，\n$$\n\\det(M) = (6)(-4) - (3)(-6) = -24 + 18 = -6.\n$$", "answer": "$$\\boxed{-6}$$", "id": "1348485"}, {"introduction": "一旦我们能够描述和分析几何形状，下一步就是对其进行变换。本练习将演示如何通过矩阵乘法，将一系列连续的几何变换（如用于视觉效果的错切变换）组合成一个单一、高效的复合变换矩阵。理解变换的复合是构建复杂动画和场景的基础 [@problem_id:1348499]。", "problem": "在二维计算机图形学中，对象的变换通常通过矩阵乘法来完成。考虑一个简单的正方形图形元素，其初始由笛卡尔平面中的四个顶点定义：$A=(0,0)$，$B=(1,0)$，$C=(1,1)$ 和 $D=(0,1)$。\n\n为了创建一种特殊的视觉效果，该元素将经历一系列两次线性变换。首先，它进行一次水平错切。一个错切因子为 $s_h$ 的水平错切将点 $(x,y)$ 映射到 $(x+s_h y, y)$。对于本题，水平错切因子为 $s_h = \\frac{3}{2}$。\n\n其次，在水平错切之后，所得图形立即进行一次垂直错切。一个错切因子为 $s_v$ 的垂直错切将点 $(x,y)$ 映射到 $(x, y+s_v x)$。对于本题，垂直错切因子为 $s_v = -\\frac{1}{2}$。\n\n求在按指定顺序（先水平错切，后垂直错切）施加这两种变换后，四个新顶点 $A'$，$B'$，$C'$ 和 $D'$ 的坐标。\n\n请将您的答案表示为一个 $2 \\times 4$ 矩阵，其中各列分别代表新顶点 $A'$，$B'$，$C'$ 和 $D'$ 的坐标。矩阵中的元素必须表示为最简分数。", "solution": "一个错切因子为 $s_{h}$ 的水平错切将点 $(x,y)$ 映射到 $(x+s_{h}y, y)$。作为作用于列向量的矩阵，其形式为\n$$\nH=\\begin{pmatrix}\n1 & s_{h} \\\\\n0 & 1\n\\end{pmatrix}\n=\\begin{pmatrix}\n1 & \\frac{3}{2} \\\\\n0 & 1\n\\end{pmatrix}.\n$$\n一个错切因子为 $s_{v}$ 的垂直错切将点 $(x,y)$ 映射到 $(x, y+s_{v}x)$。作为矩阵，其形式为\n$$\nV=\\begin{pmatrix}\n1 & 0 \\\\\ns_{v} & 1\n\\end{pmatrix}\n=\\begin{pmatrix}\n1 & 0 \\\\\n-\\frac{1}{2} & 1\n\\end{pmatrix}.\n$$\n先应用水平错切，然后应用垂直错切，对应的组合线性变换为 $T=VH$。计算\n$$\nT=VH=\\begin{pmatrix}\n1 & 0 \\\\\n-\\frac{1}{2} & 1\n\\end{pmatrix}\n\\begin{pmatrix}\n1 & \\frac{3}{2} \\\\\n0 & 1\n\\end{pmatrix}\n=\\begin{pmatrix}\n1\\cdot 1+0\\cdot 0 & 1\\cdot \\frac{3}{2}+0\\cdot 1 \\\\\n-\\frac{1}{2}\\cdot 1+1\\cdot 0 & -\\frac{1}{2}\\cdot \\frac{3}{2}+1\\cdot 1\n\\end{pmatrix}\n=\\begin{pmatrix}\n1 & \\frac{3}{2} \\\\\n-\\frac{1}{2} & \\frac{1}{4}\n\\end{pmatrix}.\n$$\n因此，对于任意点 $(x,y)$，变换后的坐标为\n$$\n\\begin{pmatrix}\nx' \\\\\ny'\n\\end{pmatrix}\n=T\\begin{pmatrix}\nx \\\\\ny\n\\end{pmatrix}\n=\\begin{pmatrix}\nx+\\frac{3}{2}y \\\\\n-\\frac{1}{2}x+\\frac{1}{4}y\n\\end{pmatrix}.\n$$\n将 $T$ 应用于给定的顶点（作为列向量）：\n- $A=(0,0)$ 得到 $A'=(0,0)$。\n- $B=(1,0)$ 得到 $B'=\\left(1,-\\frac{1}{2}\\right)$。\n- $C=(1,1)$ 得到 $C'=\\left(\\frac{5}{2},-\\frac{1}{4}\\right)$。\n- $D=(0,1)$ 得到 $D'=\\left(\\frac{3}{2},\\frac{1}{4}\\right)$。\n\n因此，以 $A'$，$B'$，$C'$，$D'$ 为列的 $2\\times 4$ 矩阵是\n$$\n\\begin{pmatrix}\n0 & 1 & \\frac{5}{2} & \\frac{3}{2} \\\\\n0 & -\\frac{1}{2} & -\\frac{1}{4} & \\frac{1}{4}\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}0 & 1 & \\frac{5}{2} & \\frac{3}{2} \\\\ 0 & -\\frac{1}{2} & -\\frac{1}{4} & \\frac{1}{4}\\end{pmatrix}}$$", "id": "1348499"}, {"introduction": "虽然旋转和错切等线性变换非常有用，但平移（移动）物体在图形学应用中同样不可或缺。本练习将介绍齐次坐标，这一巧妙的系统使我们能够将平移也表示为矩阵乘法，从而将其与旋转、缩放等线性变换统一在一个框架下。通过这个练习，你将亲身体会到变换顺序的重要性，这是所有图形学编程的关键认知 [@problem_id:1348498]。", "problem": "在二维计算机动画的开发中，一个物体的位置通过一系列几何变换来操作。一个物体，在笛卡尔坐标系中的初始位置为点 $P_0=(2, 1)$，它将经过以下两个不同的操作：\n\n1.  围绕原点逆时针旋转 $R$，角度为90度。\n2.  按向量 $\\vec{v} = (3, -2)$ 进行平移 $T$。\n\n这些变换将使用齐次坐标系中的 $3 \\times 3$ 矩阵来表示，其中点 $(x, y)$ 由列向量 $\\begin{pmatrix} x \\\\ y \\\\ 1 \\end{pmatrix}$ 表示。\n\n二维中围绕原点逆时针旋转角度 $\\theta$ 的标准齐次矩阵由下式给出：\n$$\n\\begin{pmatrix} \\cos\\theta & -\\sin\\theta & 0 \\\\ \\sin\\theta & \\cos\\theta & 0 \\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\n二维中按向量 $(d_x, d_y)$ 平移的标准齐次矩阵由下式给出：\n$$\n\\begin{pmatrix} 1 & 0 & d_x \\\\ 0 & 1 & d_y \\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\n\n考虑先应用旋转 $R$，再应用平移 $T$ 的情况。确定此变换序列后物体的最终坐标。将您的答案以表示最终坐标的行矩阵形式 $\\begin{pmatrix} x & y \\end{pmatrix}$ 给出。", "solution": "问题要求计算一个物体在经过一系列变换（先旋转后平移）后的最终位置。我们将使用齐次坐标和矩阵乘法来解决这个问题。\n\n首先，我们将初始点 $P_0 = (2, 1)$ 表示为齐次坐标向量 $\\mathbf{p}_0$：\n$$\n\\mathbf{p}_0 = \\begin{pmatrix} 2 \\\\ 1 \\\\ 1 \\end{pmatrix}\n$$\n\n接下来，我们构建旋转和平移的变换矩阵。\n\n旋转 $R$ 是围绕原点逆时针旋转 $\\theta = 90^\\circ$。该旋转矩阵（我们记作 $\\mathbf{R}$）为：\n$$\n\\mathbf{R} = \\begin{pmatrix} \\cos(90^\\circ) & -\\sin(90^\\circ) & 0 \\\\ \\sin(90^\\circ) & \\cos(90^\\circ) & 0 \\\\ 0 & 0 & 1 \\end{pmatrix} = \\begin{pmatrix} 0 & -1 & 0 \\\\ 1 & 0 & 0 \\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\n\n平移 $T$ 是按向量 $\\vec{v} = (3, -2)$ 进行。该平移矩阵（我们记作 $\\mathbf{T}$），其中 $d_x = 3$ 且 $d_y = -2$，为：\n$$\n\\mathbf{T} = \\begin{pmatrix} 1 & 0 & 3 \\\\ 0 & 1 & -2 \\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\n\n操作顺序是“先旋转，后平移”。当应用一系列矩阵变换时，第一个操作的矩阵从左侧乘以坐标向量，而后续操作的矩阵则乘以之前的结果。因此，如果 $\\mathbf{p}_f$ 是最终位置向量，该变换表示为：\n$$\n\\mathbf{p}_f = \\mathbf{T} (\\mathbf{R} \\mathbf{p}_0)\n$$\n根据矩阵乘法的结合律，这可以通过先计算复合变换矩阵 $\\mathbf{M} = \\mathbf{T} \\mathbf{R}$，然后将其应用于 $\\mathbf{p}_0$ 来计算。\n\n让我们计算复合变换矩阵 $\\mathbf{M} = \\mathbf{T} \\mathbf{R}$：\n$$\n\\mathbf{M} = \\mathbf{T} \\mathbf{R} = \\begin{pmatrix} 1 & 0 & 3 \\\\ 0 & 1 & -2 \\\\ 0 & 0 & 1 \\end{pmatrix} \\begin{pmatrix} 0 & -1 & 0 \\\\ 1 & 0 & 0 \\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\n$$\n\\mathbf{M} = \\begin{pmatrix} (1)(0)+(0)(1)+(3)(0) & (1)(-1)+(0)(0)+(3)(0) & (1)(0)+(0)(0)+(3)(1) \\\\ (0)(0)+(1)(1)+(-2)(0) & (0)(-1)+(1)(0)+(-2)(0) & (0)(0)+(1)(0)+(-2)(1) \\\\ (0)(0)+(0)(1)+(1)(0) & (0)(-1)+(0)(0)+(1)(0) & (0)(0)+(0)(0)+(1)(1) \\end{pmatrix}\n$$\n$$\n\\mathbf{M} = \\begin{pmatrix} 0 & -1 & 3 \\\\ 1 & 0 & -2 \\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\n\n现在，我们将此复合矩阵 $\\mathbf{M}$ 应用于初始位置向量 $\\mathbf{p}_0$ 以求得最终位置向量 $\\mathbf{p}_f$：\n$$\n\\mathbf{p}_f = \\mathbf{M} \\mathbf{p}_0 = \\begin{pmatrix} 0 & -1 & 3 \\\\ 1 & 0 & -2 \\\\ 0 & 0 & 1 \\end{pmatrix} \\begin{pmatrix} 2 \\\\ 1 \\\\ 1 \\end{pmatrix}\n$$\n$$\n\\mathbf{p}_f = \\begin{pmatrix} (0)(2) + (-1)(1) + (3)(1) \\\\ (1)(2) + (0)(1) + (-2)(1) \\\\ (0)(2) + (0)(1) + (1)(1) \\end{pmatrix} = \\begin{pmatrix} -1 + 3 \\\\ 2 - 2 \\\\ 1 \\end{pmatrix} = \\begin{pmatrix} 2 \\\\ 0 \\\\ 1 \\end{pmatrix}\n$$\n\n得到的齐次坐标向量为 $\\begin{pmatrix} 2 \\\\ 0 \\\\ 1 \\end{pmatrix}$。为了找到笛卡尔坐标，我们取该向量的前两个分量，即 $(2, 0)$。\n\n问题要求答案以行矩阵的形式给出。因此，最终坐标为 $\\begin{pmatrix} 2 & 0 \\end{pmatrix}$。", "answer": "$$\\boxed{\\begin{pmatrix} 2 & 0 \\end{pmatrix}}$$", "id": "1348498"}]}