{"hands_on_practices": [{"introduction": "第一个练习将引导你初步体验计算立体角的强大概率方法。我们将处理一个看似纯粹的几何问题——求解由前两个坐标符号相反所定义的区域的分数立体角——通过将其转化为一个关于独立高斯随机变量的概率问题来解决。这种方法展示了统计学工具如何为解决高维几何问题提供一条优雅且往往更简洁的路径。[@problem_id:660172]", "problem": "在$D$维欧几里得空间$\\mathbb{R}^D$中，立体角可以理解为从原点观察时某个区域所占的“视野大小”。形式上，对于一个顶点在原点的锥形区域$C$，其所对的立体角$\\Omega$定义为$C$与单位超球面$S^{D-1} = \\{\\mathbf{x} \\in \\mathbb{R}^D : \\|\\mathbf{x}\\| = 1\\}$相交部分的面积。\n\n$\\mathbb{R}^D$中的总立体角对应于单位超球面的总表面积，由$\\Omega_D = \\frac{2\\pi^{D/2}}{\\Gamma(D/2)}$给出，其中$\\Gamma(z)$是伽马函数。出于实用目的，使用*分数立体角*(fractional solid angle)，$\\omega(C) = \\Omega/\\Omega_D$，通常更为方便，它表示锥形区域$C$所占总“视野”的比例。\n\n计算锥形区域$C$的分数立体角的一个有效方法是使用高斯积分。分数立体角由以下比值给出：\n$$\n\\omega(C) = \\frac{\\int_C \\exp(-\\|\\mathbf{x}\\|^2) \\, d^D\\mathbf{x}}{\\int_{\\mathbb{R}^D} \\exp(-\\|\\mathbf{x}\\|^2) \\, d^D\\mathbf{x}}\n$$\n其中 $\\|\\mathbf{x}\\|^2 = x_1^2 + x_2^2 + \\dots + x_D^2$。\n\n考虑一个整数维度$D \\ge 2$的$\\mathbb{R}^D$空间中的区域$K$，它被定义为所有前两个坐标符号相反的点$\\mathbf{x} = (x_1, x_2, \\dots, x_D)$的集合。这可以用数学形式表示为$K = \\{\\mathbf{x} \\in \\mathbb{R}^D \\mid x_1 x_2 < 0\\}$。\n\n你的任务是计算该区域$K$所对的分数立体角$\\omega(K)$。", "solution": "分数立体角为\n$$\n\\omega(K)\n=\\frac{\\displaystyle\\int_{x_1x_2<0}e^{-\\|\\mathbf{x}\\|^2}d^D\\mathbf{x}}\n{\\displaystyle\\int_{\\mathbb R^D}e^{-\\|\\mathbf{x}\\|^2}d^D\\mathbf{x}}.\n$$\n由于\n$$\ne^{-\\|\\mathbf{x}\\|^2}\n=\\prod_{i=1}^D e^{-x_i^2},\n$$\n积分可以因式分解，且约束$x_1x_2<0$仅涉及$x_1,x_2$。因此\n$$\n\\omega(K)\n=\\frac{\\displaystyle\\int_{x_1x_2<0}e^{-x_1^2}e^{-x_2^2}dx_1dx_2}\n{\\displaystyle\\int_{\\mathbb R^2}e^{-x_1^2}e^{-x_2^2}dx_1dx_2}\n=\\Pr(x_1x_2<0),\n$$\n其中$x_1,x_2$是独立的对称高斯变量。于是\n$$\n\\Pr(x_1x_2<0)\n=2\\,\\Pr(x_1>0,x_2<0)\n=2\\cdot\\frac12\\cdot\\frac12\n=\\frac12.\n$$\n因此 $\\omega(K)=\\tfrac12$。", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "660172"}, {"introduction": "第二个练习将我们的重点从积分转移到一种基于对称性的组合方法。在这里，我们将研究一个由向量同时具有正分量和负分量所定义的区域的立体角，这个条件通过其最大和最小分量来描述。这个问题很好地阐释了“补集计数”策略的有效性：有时，识别出空间中*不*满足条件的区域并将其从整体中减去，会是更简单的解法。[@problem_id:660174]", "problem": "在一个 $D$ 维欧几里得空间 $\\mathbb{R}^D$ 中，空间中一个区域在原点所对的立体角，定义为其到单位 $(D-1)$ 维球面 $S^{D-1} = \\{\\mathbf{x} \\in \\mathbb{R}^D \\mid ||\\mathbf{x}||=1\\}$ 上的径向投影的表面积。$\\mathbb{R}^D$ 中的总立体角对应于该超球面的全部表面积，由以下公式给出：\n$$\nS_{D-1} = \\frac{2\\pi^{D/2}}{\\Gamma(D/2)}\n$$\n其中 $\\Gamma(z)$ 是欧拉伽马函数。\n\n考虑一个向量 $\\mathbf{x} = (x_1, x_2, \\ldots, x_D) \\in \\mathbb{R}^D$。令 $x_{\\max} = \\max\\{x_1, \\ldots, x_D\\}$ 和 $x_{\\min} = \\min\\{x_1, \\ldots, x_D\\}$ 分别表示向量 $\\mathbf{x}$ 的最大分量和最小分量。\n\n我们感兴趣的是区域 $\\mathcal{R} \\subset \\mathbb{R}^D$，它包含所有至少有一个正分量和一个负分量的向量（不包括原点）。这个条件可以表述为所有满足 $x_{\\max} > 0$ 和 $x_{\\min} < 0$ 的点 $\\mathbf{x} \\in \\mathbb{R}^D \\setminus \\{\\mathbf{0}\\}$ 的集合。\n\n计算该区域 $\\mathcal{R}$ 所对的立体角 $\\Omega_D(\\mathcal{R})$。用维度 $D$ 来表示你的答案。", "solution": "1. $\\mathbb{R}^D$ 中的总立体角（即 $S^{D-1}$ 的表面积）为\n$$\nS_{D-1} \\;=\\;\\frac{2\\pi^{D/2}}{\\Gamma\\!\\bigl(D/2\\bigr)}.\n$$\n\n2. 单位球面被划分为 $2^D$ 个卦限（由 $(x_1,\\dots,x_D)$ 的符号决定）。根据对称性，每个卦限所对的立体角相同，为\n$$\n\\frac{S_{D-1}}{2^D}.\n$$\n\n3. 区域 $\\mathcal{R}$ 包含所有至少有一个正分量和一个负分量的点。唯一不在 $\\mathcal{R}$ 中的两个卦限是“全正”卦限和“全负”卦限。因此\n$$\n\\Omega_D(\\mathcal{R})\n= S_{D-1}\n-2\\;\\frac{S_{D-1}}{2^D}\n= S_{D-1}\\Bigl(1 - \\frac{2}{2^D}\\Bigr)\n= S_{D-1}\\bigl(1 - 2^{1-D}\\bigr).\n$$\n\n4. 代入 $S_{D-1}=\\frac{2\\pi^{D/2}}{\\Gamma(D/2)}$ 可得\n$$\n\\Omega_D(\\mathcal{R})\n= \\frac{2\\pi^{D/2}}{\\Gamma\\!\\bigl(D/2\\bigr)}\\Bigl(1 - 2^{1-D}\\Bigr).\n$$", "answer": "$$\n\\boxed{\\frac{2\\pi^{D/2}}{\\Gamma\\!\\bigl(\\frac{D}{2}\\bigr)}\\bigl(1 - 2^{1-D}\\bigr)}\n$$", "id": "660174"}, {"introduction": "最后的练习将我们的理解提升到一个更抽象也更深刻的层次，从计算固定区域的立体角转向分析高维空间中随机向量之间的关系。通过计算两个随机高斯向量之间夹角余弦的平方的期望值 $E[\\cos^2 \\Theta]$，我们将揭示高维几何的一个基本性质：“维度灾难”如何导致向量趋于正交。这个问题展示了期望和对称性论证如何能够揭示关于高维空间本质的、深刻且反直觉的洞见。[@problem_id:660284]", "problem": "考虑两个独立的随机向量 $\\mathbf{X}$ 和 $\\mathbf{Y}$，它们位于 $D$ 维实向量空间 $\\mathbb{R}^D$ 中，其中 $D \\geq 2$ 是一个整数。这些向量的分量 ($X_1, \\dots, X_D$) 和 ($Y_1, \\dots, Y_D$) 是独立同分布 (i.i.d.) 的标准正态随机变量，即 $X_i, Y_i \\sim \\mathcal{N}(0,1)$。\n\n这两个非零向量之间的夹角 $\\Theta \\in [0, \\pi]$ 由点积定义：\n$$ \\mathbf{X} \\cdot \\mathbf{Y} = \\|\\mathbf{X}\\| \\|\\mathbf{Y}\\| \\cos\\Theta $$\n其中 $\\|\\cdot\\|$ 表示欧几里得范数。\n\n您的任务是计算此夹角余弦的平方的期望值 $E[\\cos^2 \\Theta]$，将其表示为维度 $D$ 的函数。", "solution": "设 $\\mathbf{X}$ 和 $\\mathbf{Y}$ 是 $\\mathbb{R}^D$ 中的两个独立随机向量，其分量是独立同分布的标准正态随机变量。它们之间的夹角 $\\Theta$ 由下式给出：\n$$ \\cos\\Theta = \\frac{\\mathbf{X} \\cdot \\mathbf{Y}}{\\|\\mathbf{X}\\| \\|\\mathbf{Y}\\|} $$\n我们想要计算 $E[\\cos^2 \\Theta]$。\n\n我们定义相应的单位向量：\n$$ \\mathbf{u} = \\frac{\\mathbf{X}}{\\|\\mathbf{X}\\|} \\quad \\text{和} \\quad \\mathbf{v} = \\frac{\\mathbf{Y}}{\\|\\mathbf{Y}\\|} $$\n那么，$\\cos\\Theta = \\mathbf{u} \\cdot \\mathbf{v}$。\n\n一个标准的 $D$ 维高斯向量 $\\mathbf{X}$ 的概率分布具有密度函数 $p(\\mathbf{x}) = (2\\pi)^{-D/2} \\exp(-\\frac{1}{2}\\|\\mathbf{x}\\|^2)$。该分布是球对称的，这意味着它只依赖于向量的模长，而与方向无关。这种对称性的一个关键推论是，方向向量 $\\mathbf{u} = \\mathbf{X}/\\|\\mathbf{X}\\|$ 在 $(D-1)$ 维单位球面 $S^{D-1}$ 的表面上均匀分布。\n\n由于 $\\mathbf{X}$ 和 $\\mathbf{Y}$ 是独立的，它们对应的单位向量 $\\mathbf{u}$ 和 $\\mathbf{v}$ 也是独立的。$\\mathbf{u}$ 和 $\\mathbf{v}$ 都在 $S^{D-1}$ 上独立且均匀地分布。我们需要计算：\n$$ E[\\cos^2 \\Theta] = E[(\\mathbf{u} \\cdot \\mathbf{v})^2] $$\n其中，期望是关于 $\\mathbf{u}$ 和 $\\mathbf{v}$ 在 $S^{D-1}$ 上的独立均匀分布计算的。\n\n我们可以通过对其中一个向量取条件来计算这个期望。让我们固定向量 $\\mathbf{u}$，计算关于 $\\mathbf{v}$ 的期望，然后再对所有可能的 $\\mathbf{u}$ 进行平均。\n$$ E[(\\mathbf{u} \\cdot \\mathbf{v})^2] = E_{\\mathbf{u}} \\left[ E_{\\mathbf{v}} [(\\mathbf{u} \\cdot \\mathbf{v})^2 | \\mathbf{u}] \\right] $$\n由于该设定的旋转对称性，内层期望 $E_{\\mathbf{v}} [(\\mathbf{u} \\cdot \\mathbf{v})^2 | \\mathbf{u}]$ 将不依赖于 $\\mathbf{u}$ 的具体选择。因此，我们可以不失一般性地为 $\\mathbf{u}$ 选择一个方便的方向。我们校准我们的坐标系，使得 $\\mathbf{u}$ 指向第一个坐标轴：\n$$ \\mathbf{u} = \\mathbf{e}_1 = (1, 0, 0, \\dots, 0) $$\n现在，设随机单位向量 $\\mathbf{v}$ 的分量为 $(v_1, v_2, \\dots, v_D)$。点积简化为：\n$$ \\mathbf{u} \\cdot \\mathbf{v} = \\mathbf{e}_1 \\cdot \\mathbf{v} = v_1 $$\n我们现在需要计算的期望是 $E[v_1^2]$，其中 $\\mathbf{v}$ 是一个在 $S^{D-1}$ 上均匀分布的随机向量。\n\n由于 $\\mathbf{v}$ 在球面上均匀分布，因此没有优选方向。这种对称性意味着每个分量的平方的期望值必须相同：\n$$ E[v_1^2] = E[v_2^2] = \\dots = E[v_D^2] $$\n我们将这个共同的值称为 $C$，因此对于所有的 $i=1, \\dots, D$，都有 $E[v_i^2] = C$。\n\n向量 $\\mathbf{v}$ 是一个单位向量，所以它的分量满足约束条件：\n$$ \\sum_{i=1}^D v_i^2 = \\|\\mathbf{v}\\|^2 = 1 $$\n这个关系对 $\\mathbf{v}$ 的任何特定实现都成立。因此，它在期望上也必须成立。对两边取期望：\n$$ E\\left[\\sum_{i=1}^D v_i^2\\right] = E[1] $$\n利用期望的线性性，我们得到：\n$$ \\sum_{i=1}^D E[v_i^2] = 1 $$\n代入 $E[v_i^2] = C$：\n$$ \\sum_{i=1}^D C = 1 \\implies D \\cdot C = 1 $$\n解出 $C$，我们得到：\n$$ C = \\frac{1}{D} $$\n因此，我们有 $E[v_1^2] = 1/D$。\n\n由于我们对 $\\mathbf{u} = \\mathbf{e}_1$ 的选择是任意的，并且结果 $1/D$ 不依赖于此选择，因此关于 $\\mathbf{u}$ 的外层期望是平凡的：\n$$ E[\\cos^2 \\Theta] = E_{\\mathbf{u}} \\left[ \\frac{1}{D} \\right] = \\frac{1}{D} $$\n最终结果是，两个独立的 $D$ 维标准高斯向量之间夹角的余弦平方的期望值为 $1/D$。", "answer": "$$ \\boxed{\\frac{1}{D}} $$", "id": "660284"}]}