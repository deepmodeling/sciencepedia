{"hands_on_practices": [{"introduction": "置换的概念不仅仅是抽象的数学理论，它在计算科学中有着坚实的应用。本练习将置换与排序算法的具体步骤联系起来，通过分析一次排序过程中的元素交换，让你亲手计算一个置换的符号。这有助于你直观地理解每一个“交换”（即对换）如何影响置换的奇偶性，并将抽象理论与具体的算法过程相结合。[@problem_id:835618]", "problem": "考虑整数集合 $S = \\{1, 2, \\ldots, n\\}$，其中 $n \\ge 2$。这些整数的一个排列可以表示为一个序列 $A = (a_1, a_2, \\ldots, a_n)$。我们给定的初始序列为 $A_0 = (2, 3, \\ldots, n, 1)$。\n\n该序列由鸡尾酒排序算法进行一次完整的遍历处理。一次完整的遍历定义为一次正向遍历，然后一次反向遍历。\n1.  **正向遍历：** 算法从 $i=1$ 迭代到 $n-1$。在每一步中，它比较相邻的元素 $A[i]$ 和 $A[i+1]$。如果 $A[i] > A[i+1]$，则交换这两个元素。序列在每次可能的交换后都会更新。\n2.  **反向遍历：** 正向遍历完成后，算法对得到的序列进行操作。它从 $i=n-1$ 向下迭代到 $1$。在每一步中，它比较相邻的元素 $A[i]$ 和 $A[i+1]$。如果 $A[i] > A[i+1]$，则交换这两个元素。\n\n每一次两个元素的交换都对应于一次对换。由这次完整遍历所引起的排列 $\\pi_n$ 是所有已执行对换的复合。一个排列的符号 $\\text{sgn}(\\pi_n)$ 定义为 $(-1)^k$，其中 $k$ 是用于构成该排列的对换（交换）的次数。\n\n推导排列 $\\pi_n$ 的符号 $\\text{sgn}(\\pi_n)$ 作为 $n$ 的函数。", "solution": "我们将初始序列记为\n$$A_0=(2,3,\\ldots,n,1)\\,. $$\n正向遍历（从 $i=1$ 到 $n-1$）：唯一的逆序发生在 $i=n-1$ 处，此时 $n>1$，所以恰好有一次交换，将 $n$ 移到末尾：\n$$A_{\\text{after forward}}=(2,3,\\ldots,n-1,1,n)\\quad(\\text{1 次对换})。$$\n反向遍历（从 $i=n-1$ 向下到 1）：在 $i=n-1$ 处没有交换，然后对于 $i=n-2,n-3,\\ldots,1$，每次比较都有\n$A[i]>1$，所以每一步都将 1 向左交换一个位置。 因此有 $n-2$ 次交换，得到\n$$A_{\\text{sorted}}=(1,2,\\ldots,n)\\quad(\\text{$n-2$ 次对换})。$$\n对换的总次数为\n$$k=1+(n-2)=n-1.$$\n因此排列的符号为\n$$\\text{sgn}(\\pi_n)=(-1)^{k}=(-1)^{n-1}\\,. $$", "answer": "$$\\boxed{(-1)^{n-1}}$$", "id": "835618"}, {"introduction": "在处理复杂置换时，直接计算可能非常繁琐。一个更强大的方法是利用置换的结构性质，例如置换符号的同态性质 $\\text{sgn}(\\alpha\\beta) = \\text{sgn}(\\alpha)\\text{sgn}(\\beta)$。这个练习要求你计算一个由两个不同置换乘积构成的复合置换的符号，旨在训练你分解问题、分别计算各部分符号，并应用群论基本性质来获得最终结果的能力。[@problem_id:835682]", "problem": "**背景**\n\n对称群 $S_n$ 是集合 $\\{1, 2, \\ldots, n\\}$ 上所有置换构成的群。一个置换可以分解为不相交轮换的乘积。对换是长度为 2 的轮换，记作 $(i, j)$，它交换元素 $i$ 和 $j$，并保持所有其他元素不变。\n\n任何置换 $\\sigma \\in S_n$ 都可以表示为对换的乘积。置换 $\\sigma$ 的符号，记作 $\\text{sgn}(\\sigma)$，定义为：如果 $\\sigma$ 可以写成偶数个对换的乘积，则其符号为 $+1$；如果可以写成奇数个对换的乘积，则其符号为 $-1$。这种奇偶性是置换的一个不变量。\n\n符号函数是一个从 $S_n$ 到乘法群 $\\{+1, -1\\}$ 的同态，这意味着对于任意两个置换 $\\alpha, \\beta \\in S_n$，我们有 $\\text{sgn}(\\alpha \\beta) = \\text{sgn}(\\alpha)\\text{sgn}(\\beta)$。对于一个长度为 $l$ 的轮换，其符号由 $(-1)^{l-1}$ 给出。\n\n**问题**\n\n考虑对称群 $S_n$ 中的两个置换 $\\sigma_n$ 和 $\\pi_n$，其中整数 $n \\ge 2$。它们的定义如下：\n\n1.  $\\sigma_n$ 是由 $n-1$ 个对换的乘积给出的置换：\n    $$\n    \\sigma_n = (1, 2)(1, 3)\\cdots(1, n) = \\prod_{k=2}^{n} (1, k)\n    $$\n    注意，置换的合成是从右向左进行的，即乘积中最右边的对换最先作用。\n\n2.  $\\pi_n$ 是将集合 $\\{1, 2, \\ldots, n\\}$ 中元素的顺序颠倒的置换：\n    $$\n    \\pi_n(i) = n+1-i \\quad \\text{for all } i \\in \\{1, 2, \\ldots, n\\}\n    $$\n\n令置换 $\\rho_n$ 为乘积 $\\rho_n = \\sigma_n \\pi_n$。\n\n求在 $n = 2023$ 的特定情况下 $\\text{sgn}(\\rho_n)$ 的值。", "solution": "我们有\n$$\\rho_n=\\sigma_n\\pi_n$$\n根据符号的同态性质，我们得到\n$$\\text{sgn}(\\rho_n)=\\text{sgn}(\\sigma_n)\\,\\text{sgn}(\\pi_n)\\,. $$\n\n1.  由于 $\\sigma_n$ 是 $n-1$ 个对换的乘积，\n$$\\text{sgn}(\\sigma_n)=(-1)^{n-1}\\,. $$\n\n2.  颠倒次序的置换 $\\pi_n$ 可以写成 $\\lfloor n/2\\rfloor$ 个不相交对换 $(i,n+1-i)$ 的乘积，其中 $i=1,\\ldots,\\lfloor n/2\\rfloor$，所以\n$$\\text{sgn}(\\pi_n)=(-1)^{\\lfloor n/2\\rfloor}\\,. $$\n\n3.  因此\n$$\n\\text{sgn}(\\rho_n)\n=(-1)^{n-1+\\lfloor n/2\\rfloor}\\,. \n$$\n\n4.  对于 $n=2023$，我们有 $\\lfloor2023/2\\rfloor=1011$，所以指数为\n$$2023-1+1011=2022+1011=3033$$\n这是一个奇数。因此\n$$\\text{sgn}(\\rho_{2023})=(-1)^{3033}=-1\\,. $$", "answer": "$$\\boxed{-1}$$", "id": "835682"}, {"introduction": "置换符号的威力在于其普适性，能够被推广到更复杂的结构中。本练习将挑战你把一维序列的置换概念应用到一个二维的 $m \\times n$ 网格上，你需要通过行置换 $\\sigma$ 和列置换 $\\tau$ 来确定整个网格置换 $\\pi$ 的符号。这个过程不仅能加深你对置换符号如何在高维空间中组合的理解，还展示了模块化算术在确定置换循环结构中的妙用。[@problem_id:835775]", "problem": "考虑一个 $m \\times n$ 的方格网格，其中每个方格的位置由一对整数 $(i, j)$ 索引，其中 $1 \\le i \\le m$ 且 $1 \\le j \\le n$。通过同时应用一个行置换 $\\sigma \\in S_m$ 和一个列置换 $\\tau \\in S_n$，可以构造这 $mn$ 个方格的一个置换。得到的置换记为 $\\pi \\in S_{mn}$，它将位置 $(i, j)$ 的方格映射到新位置 $(\\sigma(i), \\tau(j))$。\n\n一个置换 $\\rho \\in S_k$ 的符号，记为 $\\text{sgn}(\\rho)$，其值为 $\\{+1, -1\\}$ 中的一个。如果 $\\rho$ 可以表示为偶数个对换（2-循环）的复合，则其符号为 $+1$；如果可以表示为奇数个对换的复合，则为 $-1$。长度为 $k$ 的单个循环的符号由 $(-1)^{k-1}$ 给出。不相交循环的乘积的符号是它们各自符号的乘积。\n\n设网格维度为 $m$ 和 $n$。行置换 $\\sigma \\in S_m$ 由以下规则定义：\n$$\n\\sigma(i) = \\left( k_1(i-1) + c_1 \\pmod{m} \\right) + 1\n$$\n对于 $i \\in \\{1, 2, ..., m\\}$。\n\n列置换 $\\tau \\in S_n$ 由以下规则定义：\n$$\n\\tau(j) = \\left( k_2(j-1) + c_2 \\pmod{n} \\right) + 1\n$$\n对于 $j \\in \\{1, 2, ..., n\\}$。\n\n给定参数 $m=5$, $n=7$, $k_1=3$, $c_1=1$, $k_2=4$ 和 $c_2=2$，推导出 $\\text{sgn}(\\pi)$ 的值。", "solution": "1. 组合置换的符号为\n$$\\text{sgn}(\\pi)=\\text{sgn}(\\sigma)^n\\;\\text{sgn}(\\tau)^m.$$\n2. 计算当 $m=5$ 时 $\\text{sgn}(\\sigma)$ 的值，其中 $\\sigma(i)=(3(i-1)+1 \\pmod{5})+1$。在从0开始的形式中，$a\\mapsto b=(3a+1)\\bmod 5$ 的循环为\n$$0\\to1\\to4\\to3\\to0\\quad(\\text{4-循环}),\\quad2\\to2\\quad(\\text{1-循环}).$$\n因此\n$$\\text{sgn}(\\sigma)=(-1)^{4-1}\\cdot(-1)^{1-1}=(-1)^3\\cdot1=-1.$$\n3. 计算当 $n=7$ 时 $\\text{sgn}(\\tau)$ 的值，其中 $\\tau(j)=(4(j-1)+2 \\pmod{7})+1$。在从0开始的形式中，$a\\mapsto b=(4a+2)\\bmod 7$ 的循环为\n$$0\\to2\\to3\\to0,\\quad1\\to6\\to5\\to1,\\quad4\\to4.$$\n这是两个 3-循环和一个 1-循环，所以\n$$\\text{sgn}(\\tau)=\\bigl((-1)^{3-1}\\bigr)^2\\cdot(-1)^{1-1}=1\\cdot1=1.$$\n4. 因此\n$$\\text{sgn}(\\pi)=(-1)^7\\cdot1^5=-1.$$", "answer": "$$\\boxed{-1}$$", "id": "835775"}]}