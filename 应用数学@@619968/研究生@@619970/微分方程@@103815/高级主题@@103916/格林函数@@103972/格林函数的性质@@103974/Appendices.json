{"hands_on_practices": [{"introduction": "掌握格林函数的一个核心技能是利用齐次方程的解来构造它。本练习将引导你为Sturm-Liouville算子构建格林函数，这是一种在物理和工程中广泛出现的算子类型 [@problem_id:1132512]。通过这个过程，你不仅能练习基本构造方法，还能通过计算其对角元积分来加深对格林函数性质的理解。", "problem": "考虑定义在区间 $[a, b]$（其中 $0 < a < b$）上的一维Sturm-Liouville算子 $L[u] = -\\frac{d}{dx}\\left(x \\frac{du}{dx}\\right)$。该算子作用于满足Dirichlet边界条件 $u(a) = 0$ 和 $u(b) = 0$ 的函数。\n\n该系统的格林函数记为 $G(x, x')$，是微分方程 $L[G(x, x')] = \\delta(x-x')$ 在相同边界条件 $G(a, x') = 0$ 和 $G(b, x') = 0$（对所有 $x' \\in (a, b)$）下的解。格林函数使得非齐次方程 $L[u(x)] = f(x)$ 的解可以表示为 $u(x) = \\int_a^b G(x, x') f(x') dx'$。\n\n推导格林函数对角元的定积分的闭式表达式，\n$$I = \\int_a^b G(x, x) dx$$\n最终表达式应只包含参数 $a$ 和 $b$。", "solution": "Sturm-Liouville形式为 $L[u]=-\\bigl(p\\,u'\\bigr)'+q\\,u$，其中 $p(x)=x$，$q(x)=0$。齐次方程 $(x\\,u')'=0$ 给出\n$$u'=C_1/x\\;\\Longrightarrow\\;u=C_1\\ln x+C_2。$$\n选择基本解\n$$y_1(x)=\\ln\\frac{x}{a},\\quad y_2(x)=\\ln\\frac{b}{x},$$\n使得 $y_1(a)=0$，$y_2(b)=0$。它们的朗斯基行列式为\n$$W(y_1,y_2)=y_1y_2'-y_1'y_2\n=-\\frac{1}{x}\\ln\\frac{b}{a},\\quad p(x)W=-\\ln\\frac{b}{a}。$$\n\n根据标准公式，\n$$G(x,x')=\\frac{-1}{p(x')W}\\begin{cases}y_1(x)\\,y_2(x'),&x<x',\\\\y_1(x')\\,y_2(x),&x>x'\\end{cases}\n=\\frac{1}{\\ln\\frac{b}{a}}\\begin{cases}\\ln\\frac{x}{a}\\ln\\frac{b}{x'},&x<x',\\\\\\ln\\frac{x'}{a}\\ln\\frac{b}{x},&x>x'\\end{cases}。$$\n\n在对角线 $x=x'$ 上，\n$$G(x,x)=\\frac{1}{L}\\ln\\frac{x}{a}\\ln\\frac{b}{x},\\quad L=\\ln\\frac{b}{a},$$\n于是\n$$I=\\int_a^bG(x,x)\\,dx\n=\\frac{1}{L}\\int_a^b\\ln\\frac{x}{a}\\ln\\frac{b}{x}\\,dx。$$\n令 $x=a\\,t$, $t\\in[1,k]$, $k=b/a$, $dx=a\\,dt$，则 $\\ln(x/a)=\\ln t$, $\\ln(b/x)=L-\\ln t$：\n$$\\int_a^b\\ln\\frac{x}{a}\\ln\\frac{b}{x}dx\n=a\\int_1^k\\ln t\\,(L-\\ln t)dt\n=a\\Bigl[L\\!\\int_1^k\\ln t\\,dt-\\!\\int_1^k(\\ln t)^2dt\\Bigr]。$$\n计算\n$$\\int_1^k\\ln t\\,dt=[t\\ln t-t]_1^k=kL-k+1,$$\n$$\\int_1^k(\\ln t)^2dt=[t(\\ln t)^2-2t\\ln t+2t]_1^k=kL^2-2kL+2k-2。$$\n因此\n$$\\int_a^b\\ln\\frac{x}{a}\\ln\\frac{b}{x}dx\n=a\\bigl[L(kL-k+1)-(kL^2-2kL+2k-2)\\bigr]\n=a[(k+1)L-2(k-1)]$$\n其中 $b=ak$。所以\n$$I=\\frac{a[(k+1)L-2(k-1)]}{L}\n=(a+b)-\\frac{2\\,(b-a)}{\\ln\\frac{b}{a}}。$$", "answer": "$$\\boxed{a+b-\\frac{2(b-a)}{\\ln\\frac{b}{a}}}$$", "id": "1132512"}, {"introduction": "除了直接构造，格林函数还可以通过算子的本征函数谱展开来获得。这种方法在量子力学和振动分析中尤其强大，它将系统的响应分解为一系列基本模式的叠加 [@problem_id:1132536]。本练习将带你使用本征函数展开法，为一个定义在有限区间上的一维薛定谔算子求解格林函数的迹，这是一种在谱理论中非常重要的量。", "problem": "考虑定义在区间 $[0, L]$ 上的一维微分算子 $H = -\\frac{d^2}{dx^2} + V_0$，其中 $V_0$ 是一个常势。该算子定义域中的函数满足狄利克雷边界条件，即 $f(0) = f(L) = 0$。\n\n该系统的格林函数，记为 $G(x, x'; E)$，是以下微分方程的解：\n$$\n(H - E)G(x, x'; E) = \\delta(x - x')\n$$\n且满足边界条件 $G(0, x'; E) = G(L, x'; E) = 0$。此处，$E$ 是一个代表能量的实参数，$\\delta(x-x')$ 是狄拉克 $\\delta$ 函数。我们考虑 $E < V_0$ 的情况。\n\n格林函数算子 $G_E$ 的迹定义为其对角元素的积分：\n$$\n\\text{Tr}(G_E) = \\int_0^L G(x, x; E) dx\n$$\n\n使用本征函数展开法，推导 $\\text{Tr}(G_E)$ 的一个闭合形式表达式。最终表达式应当用 $L$ 和 $\\kappa = \\sqrt{V_0-E}$ 来表示。", "solution": "推导过程分为以下四个主要步骤：\n1.  求算子 $H$ 的本征值和归一化本征函数。\n2.  使用本征函数展开构建格林函数 $G(x, x'; E)$。\n3.  使用所得到的格林函数计算迹 $\\text{Tr}(G_E)$。\n4.  对所得的无穷级数求和，以获得一个闭合形式表达式。\n\n**1. H 的本征值和本征函数**\n\n我们需要求解本征值方程 $H\\psi_n(x) = E_n\\psi_n(x)$，并使其满足狄利克雷边界条件 $\\psi_n(0) = \\psi_n(L) = 0$。\n方程为：\n$$\n-\\frac{d^2\\psi_n}{dx^2} + V_0\\psi_n = E_n\\psi_n\n$$\n$$\n\\frac{d^2\\psi_n}{dx^2} + (E_n - V_0)\\psi_n = 0\n$$\n令 $k_n^2 = E_n - V_0$。其通解为 $\\psi_n(x) = A\\sin(k_n x) + B\\cos(k_n x)$。\n边界条件 $\\psi_n(0)=0$ 意味着 $B=0$。因此，$\\psi_n(x) = A\\sin(k_n x)$。\n边界条件 $\\psi_n(L)=0$ 意味着 $A\\sin(k_n L) = 0$。为了得到非平凡解（$A \\neq 0$），必须有 $k_n L = n\\pi$，其中 $n = 1, 2, 3, \\dots$。\n于是，$k_n = \\frac{n\\pi}{L}$。\n本征值为 $E_n = V_0 + k_n^2 = V_0 + \\frac{n^2\\pi^2}{L^2}$。\n\n为了求出归一化常数 $A$，我们要求 $\\int_0^L |\\psi_n(x)|^2 dx = 1$：\n$$\n\\int_0^L A^2 \\sin^2\\left(\\frac{n\\pi x}{L}\\right) dx = A^2 \\int_0^L \\frac{1 - \\cos\\left(\\frac{2n\\pi x}{L}\\right)}{2} dx = A^2 \\left[\\frac{x}{2} - \\frac{L}{4n\\pi}\\sin\\left(\\frac{2n\\pi x}{L}\\right)\\right]_0^L = A^2 \\frac{L}{2}\n$$\n令其等于 1 可得 $A = \\sqrt{\\frac{2}{L}}$。\n规范正交本征函数为 $\\psi_n(x) = \\sqrt{\\frac{2}{L}}\\sin\\left(\\frac{n\\pi x}{L}\\right)$。\n\n**2. 格林函数展开**\n\n格林函数可以用 $H$ 的本征值和本征函数表示为：\n$$\nG(x, x'; E) = \\sum_{n=1}^\\infty \\frac{\\psi_n(x)\\psi_n^*(x')}{E_n - E}\n$$\n由于本征函数是实数，$\\psi_n^*(x') = \\psi_n(x')$。代入 $\\psi_n(x)$ 和 $E_n$ 的表达式：\n$$\nG(x, x'; E) = \\sum_{n=1}^\\infty \\frac{\\left(\\sqrt{\\frac{2}{L}}\\sin\\left(\\frac{n\\pi x}{L}\\right)\\right)\\left(\\sqrt{\\frac{2}{L}}\\sin\\left(\\frac{n\\pi x'}{L}\\right)\\right)}{V_0 + \\frac{n^2\\pi^2}{L^2} - E}\n$$\n$$\nG(x, x'; E) = \\frac{2}{L} \\sum_{n=1}^\\infty \\frac{\\sin\\left(\\frac{n\\pi x}{L}\\right)\\sin\\left(\\frac{n\\pi x'}{L}\\right)}{V_0 - E + \\frac{n^2\\pi^2}{L^2}}\n$$\n\n**3. 迹的计算**\n\n迹由 $\\text{Tr}(G_E) = \\int_0^L G(x, x; E) dx$ 给出。首先，我们令 $x' = x$：\n$$\nG(x, x; E) = \\frac{2}{L} \\sum_{n=1}^\\infty \\frac{\\sin^2\\left(\\frac{n\\pi x}{L}\\right)}{V_0 - E + \\frac{n^2\\pi^2}{L^2}}\n$$\n现在，我们对 $x$ 从 $0$ 到 $L$ 进行积分。由于级数一致收敛（因为对任意 $n$ 都有 $E \\neq E_n$），我们可以交换求和与积分的顺序。\n$$\n\\text{Tr}(G_E) = \\int_0^L \\left(\\frac{2}{L} \\sum_{n=1}^\\infty \\frac{\\sin^2\\left(\\frac{n\\pi x}{L}\\right)}{V_0 - E + \\frac{n^2\\pi^2}{L^2}}\\right) dx = \\frac{2}{L} \\sum_{n=1}^\\infty \\frac{1}{V_0 - E + \\frac{n^2\\pi^2}{L^2}} \\int_0^L \\sin^2\\left(\\frac{n\\pi x}{L}\\right) dx\n$$\n该积分为 $\\int_0^L \\sin^2\\left(\\frac{n\\pi x}{L}\\right) dx = \\frac{L}{2}$，这在归一化步骤中已经计算过。\n$$\n\\text{Tr}(G_E) = \\frac{2}{L} \\sum_{n=1}^\\infty \\frac{1}{V_0 - E + \\frac{n^2\\pi^2}{L^2}} \\left(\\frac{L}{2}\\right) = \\sum_{n=1}^\\infty \\frac{1}{V_0 - E + \\frac{n^2\\pi^2}{L^2}}\n$$\n\n**4. 级数求和**\n\n令 $\\kappa^2 = V_0 - E$。由于 $E < V_0$，$\\kappa$ 是一个实的正数。表达式变为：\n$$\n\\text{Tr}(G_E) = \\sum_{n=1}^\\infty \\frac{1}{\\kappa^2 + \\frac{n^2\\pi^2}{L^2}} = \\frac{L^2}{\\pi^2} \\sum_{n=1}^\\infty \\frac{1}{\\frac{\\kappa^2L^2}{\\pi^2} + n^2}\n$$\n令 $\\alpha = \\frac{\\kappa L}{\\pi}$。该和式为 $\\frac{L^2}{\\pi^2} \\sum_{n=1}^\\infty \\frac{1}{n^2 + \\alpha^2}$。\n我们使用一个已知的级数恒等式，该恒等式可以通过复分析（使用留数定理）或傅里叶级数推导得出：\n$$\n\\sum_{n=1}^\\infty \\frac{1}{n^2 + \\alpha^2} = \\frac{\\pi}{2\\alpha}\\coth(\\pi\\alpha) - \\frac{1}{2\\alpha^2}\n$$\n将此代入我们的迹表达式中：\n$$\n\\text{Tr}(G_E) = \\frac{L^2}{\\pi^2} \\left[ \\frac{\\pi}{2\\alpha}\\coth(\\pi\\alpha) - \\frac{1}{2\\alpha^2} \\right]\n$$\n现在，我们代回 $\\alpha = \\frac{\\kappa L}{\\pi}$：\n$$\n\\text{Tr}(G_E) = \\frac{L^2}{\\pi^2} \\left[ \\frac{\\pi}{2\\left(\\frac{\\kappa L}{\\pi}\\right)}\\coth\\left(\\pi\\frac{\\kappa L}{\\pi}\\right) - \\frac{1}{2\\left(\\frac{\\kappa L}{\\pi}\\right)^2} \\right]\n$$\n$$\n\\text{Tr}(G_E) = \\frac{L^2}{\\pi^2} \\left[ \\frac{\\pi^2}{2\\kappa L}\\coth(\\kappa L) - \\frac{\\pi^2}{2\\kappa^2 L^2} \\right]\n$$\n化简表达式得到最终结果：\n$$\n\\text{Tr}(G_E) = \\frac{L}{2\\kappa}\\coth(\\kappa L) - \\frac{1}{2\\kappa^2}\n$$", "answer": "$$\n\\boxed{\\frac{L}{2\\kappa}\\coth(\\kappa L) - \\frac{1}{2\\kappa^2}}\n$$", "id": "1132536"}, {"introduction": "并非所有形式为 $\\mathcal{L}u = f$ 的微分方程都有解；格林函数的存在性与算子 $\\mathcal{L}$ 的零空间（null space）紧密相关。当算子存在非平凡的零模时，源项 $f(x)$ 必须满足特定的“可解性条件” [@problem_id:1132701]。本练习通过一个在圆环上定义的泊松方程的经典例子，让你亲手推导出这个必要条件，从而深刻理解解的存在性背后的基本原理。", "problem": "考虑一个周长为 $L$ 的圆上的一维泊松方程。该物理系统可以用微分方程\n$$\n\\frac{d^2 u}{d x^2} = f(x)\n$$\n来建模，其定义域为 $x \\in [0, L]$，其中 $u(x)$ 是一个势或场，$f(x)$ 是一个源密度。为了使函数 $u(x)$ 在圆上是良定义的，它必须是周期性的。这施加了周期性边界条件：\n$$\nu(0) = u(L) \\quad \\text{和} \\quad u'(0) = u'(L)\n$$\n相应的线性微分算子是 $\\mathcal{L} = \\frac{d^2}{dx^2}$。对于许多微分算子，方程 $\\mathcal{L}u = f$ 对任何行为良好的源 $f$ 都有唯一解。然而，对于这个具有周期性边界条件的特定算子，只有当源函数 $f(x)$ 满足某个“可解性条件”时，解 $u(x)$ 才存在。这个条件的出现是因为算子 $\\mathcal{L}$ 有一个非平凡的零空间（即，存在非零函数 $\\psi(x)$ 使得 $\\mathcal{L}\\psi(x) = 0$），这意味着标准的格林函数不存在。\n\n假设方程存在一个周期解 $u(x)$，推导积分 $\\int_0^L f(x) dx$ 的必要值。该值代表源函数必须满足的积分约束。", "solution": "1. 控制微分方程为\n$$\n\\frac{d^2u}{dx^2}=f(x)\\,.\n$$\n2. 对两边在一个周期 $[0,L]$ 上积分：\n$$\n\\int_0^L\\frac{d^2u}{dx^2}\\,dx=\\int_0^L f(x)\\,dx\\,.\n$$\n3. 根据微积分基本定理，\n$$\n\\int_0^L\\frac{d^2u}{dx^2}\\,dx\n=\\left.\\frac{du}{dx}\\right|_{x=0}^L\n=u'(L)-u'(0)\\,.\n$$\n4. 周期性边界条件 $u'(L)=u'(0)$ 意味着\n$$\nu'(L)-u'(0)=0\\,.\n$$\n5. 因此可解性条件是\n$$\n\\int_0^L f(x)\\,dx=0\\,.\n$$", "answer": "$$\\boxed{0}$$", "id": "1132701"}]}