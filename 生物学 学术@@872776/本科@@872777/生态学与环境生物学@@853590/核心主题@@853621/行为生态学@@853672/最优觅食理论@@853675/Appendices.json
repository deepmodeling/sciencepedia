{"hands_on_practices": [{"introduction": "最优觅食理论的一个基本问题是觅食者应在资源点停留多久。边际价值理论（Marginal Value Theorem）为这个问题提供了经典的解决方案，它指出觅食者应在当前资源点的能量获取速率降至整个觅食周期的平均能量获取速率时离开。通过这个练习[@problem_id:1868992]，你将应用这一理论，通过计算来确定蜜蜂在花丛中的最佳觅食时间，从而最大化其长期平均能量收益率。", "problem": "一位生态学家研究在由相同花丛构成的景观中，一种蜜蜂的觅食行为。蜜蜂的策略是访问一个花丛，采集一段时间的花蜜，然后飞到下一个花丛。蜜蜂从单个花丛中获取的累积能量 $E$（单位：微焦耳，$\\mu$J）是其在该花丛内觅食所花费时间 $t_p$（单位：秒）的函数。这种关系可以由以下饱和函数很好地描述：\n$$E(t_p) = \\frac{A \\cdot t_p}{B + t_p}$$\n其中 $A = 240$ $\\mu$J 是可以从一个花丛中获取的最大能量，而 $B = 15$ 秒是与花蜜采集速率相关的时间常数。\n\n蜜蜂从一个花丛移动到下一个花丛所需的时间 $t_{travel}$ 是一个常数，为 60 秒。为了最大化其演化适应度，蜜蜂必须采取一种能最大化其长期平均能量获取率的策略。\n\n假设蜜蜂的行为是最优的，计算它在移动到下一个花丛之前，在任何给定花丛中觅食的理想时间。最终答案以秒为单位表示，并四舍五入到三位有效数字。", "solution": "我们寻求能使长期平均能量获取率最大化的花丛停留时间 $t_{p}$。从一个花丛中获得的累积能量由 $E(t_{p}) = \\dfrac{A t_{p}}{B + t_{p}}$ 给出，花丛间的恒定移动时间为 $T = t_{\\text{travel}}$。因此，平均获取率为\n$$\nR(t_{p}) = \\frac{E(t_{p})}{t_{p} + T} = \\frac{A t_{p}}{(B + t_{p})(t_{p} + T)}.\n$$\n为了最大化 $R(t_{p})$，我们对其关于 $t_{p}$ 求导，并令导数为零。为简洁起见，记 $R(t) = \\dfrac{A t}{(B + t)(t + T)}$，使用商法则，其中分子为 $N(t) = A t$，分母为 $D(t) = (B + t)(t + T)$。则\n$$\n\\frac{dR}{dt} = \\frac{A D(t) - A t D'(t)}{D(t)^{2}}.\n$$\n使用积法则计算 $D'(t)$：\n$$\nD'(t) = (B + t)'(t + T) + (B + t)(t + T)' = (t + T) + (B + t) = B + T + 2 t.\n$$\n令 $\\dfrac{dR}{dt} = 0$ 可得 $A[D(t) - t D'(t)] = 0$。由于 $A > 0$，我们需要\n$$\n(B + t)(t + T) - t(B + T + 2 t) = 0.\n$$\n展开并化简，\n$$\n(B + t)(t + T) - t(B + T + 2 t) = (B t + B T + t^{2} + t T) - (t B + t T + 2 t^{2}) = B T - t^{2} = 0,\n$$\n所以最优停留时间满足\n$$\nt^{*} = \\sqrt{B T}.\n$$\n这个结果等价于边际价值定理的条件 $E'(t^{*}) = \\dfrac{E(t^{*})}{t^{*} + T}$，因为 $E'(t) = \\dfrac{A B}{(B + t)^{2}}$，解方程 $E'(t) = \\dfrac{E(t)}{t + T}$ 会得到相同的 $t^{*}$。\n\n代入给定值 $B = 15$ 秒和 $T = 60$ 秒，\n$$\nt^{*} = \\sqrt{15 \\times 60} = \\sqrt{900} = 30.\n$$\n四舍五入到三位有效数字，最优觅食时间是 $30.0$ 秒。", "answer": "$$\\boxed{30.0}$$", "id": "1868992"}, {"introduction": "除了决定在何处觅食，觅食者还必须决定吃什么。最优食谱模型（Optimal Diet Model）探讨了在遇到不同类型的猎物时，应该捕食哪些以最大化能量摄入率。这个模型的核心思想是，是否将一个次优的食物纳入食谱，并不取决于该食物自身的丰富度，而是取决于更有价值食物的发现率。这个问题[@problem_id:1869038]以松鼠和橡树“丰年”为背景，让你计算一个临界搜索时间，低于这个时间，松鼠就应该放弃核桃，专心享用更易获取的橡子。", "problem": "一只灰松鼠的冬季饮食主要由两种食物来源组成：橡树的橡子和黑核桃树的坚果。为了决定取食哪些食物，松鼠必须在获得的能量和处理每种食物所花费的时间之间取得平衡。\n\n一位生态学家测量了松鼠觅食的以下参数：\n- 单个橡子的平均净能量含量为 $E_a = 2.50 \\times 10^4$ 焦耳。\n- 处理一个橡子（即剥壳和食用）所需的平均时间为 $h_a = 100$ 秒。\n- 单个黑核桃的平均净能量含量为 $E_w = 4.00 \\times 10^4$ 焦耳。\n- 处理一个黑核桃所需的平均时间为 $h_w = 200$ 秒。\n\n在某些年份，橡树会经历“大年”，这是一种同步、大规模生产种子的现象。这一事件极大地增加了橡子的丰度，从而显著减少了松鼠寻找橡子所需的平均时间。根据最优觅食理论中的食谱宽度原则，对于最有利可图的食物，存在一个临界搜索时间，当搜索时间低于该值时，觅食者应专注于该食物并忽略所有其他类型的食物。\n\n假设松鼠的行为像一个最优觅食者，旨在最大化其长期能量获取率，那么当松鼠应该转向只吃橡子的专一性食谱，完全忽略可能遇到的任何核桃时，橡子的临界平均搜索时间是多少？\n\n请用秒作答，并四舍五入到三位有效数字。", "solution": "我们应用最优食谱宽度模型（Charnov型猎物选择模型）。定义食物类型 $i$ 的收益率为 $P_{i} = \\frac{E_{i}}{h_{i}}$。觅食者在遇到更具收益率的食物时应始终接受，而只有在收益率较低的食物的收益率超过了专食于收益率较高食物所能达到的长期摄入率时，才应接受它。\n\n首先，比较收益率：\n$$\nP_{a} = \\frac{E_{a}}{h_{a}}, \\quad P_{w} = \\frac{E_{w}}{h_{w}}.\n$$\n已知 $E_{a} = 2.50 \\times 10^{4}$，$h_{a} = 100$，$E_{w} = 4.00 \\times 10^{4}$，$h_{w} = 200$，我们有\n$$\nP_{a} = \\frac{2.50 \\times 10^{4}}{100} = 250, \\quad P_{w} = \\frac{4.00 \\times 10^{4}}{200} = 200,\n$$\n因此橡子更具收益率。\n\n在专食橡子的情况下，设橡子的平均搜索时间为 $s_{a}$，则长期摄入率是每个搜索加处理周期的收益：\n$$\nR_{a}(s_{a}) = \\frac{E_{a}}{h_{a} + s_{a}}.\n$$\n排除核桃的阈值出现在核桃的收益率等于此摄入率时：\n$$\n\\frac{E_{w}}{h_{w}} = \\frac{E_{a}}{h_{a} + s_{a}^{*}}.\n$$\n求解临界搜索时间 $s_{a}^{*}$，\n$$\nh_{a} + s_{a}^{*} = \\frac{E_{a} h_{w}}{E_{w}} \\quad \\Rightarrow \\quad s_{a}^{*} = \\frac{E_{a} h_{w}}{E_{w}} - h_{a}.\n$$\n代入给定值：\n$$\ns_{a}^{*} = \\frac{(2.50 \\times 10^{4}) \\cdot 200}{4.00 \\times 10^{4}} - 100 = 200 \\cdot \\frac{2.50}{4.00} - 100 = 200 \\cdot 0.625 - 100 = 125 - 100 = 25.0.\n$$\n因此，如果橡子的平均搜索时间低于 $25.0$ 秒，松鼠就应该专食橡子，忽略核桃。", "answer": "$$\\boxed{25.0}$$", "id": "1869038"}, {"introduction": "经典的觅食模型通常假设觅食者旨在最大化长期的平均能量摄入率，但现实世界中的决策往往更加复杂，尤其是在面临生存压力和有限时间的情况下。这个问题[@problem_id:1869021]将引导你进入动态规划和状态依赖决策的世界，你将为一只准备冬眠的旱獭制定生存策略。通过权衡高风险高回报与低风险低回报的觅食选项，你将学习如何根据动物当前的能量储备和剩余时间来做出最优决策，其目标是最大化存活概率，而非简单的能量收益率。", "problem": "一只高山土拨鼠正在为冬眠做准备。它有$T$天的时间来积累至少$E_{crit}$的临界能量储备。如果在最后一天结束时其能量水平低于$E_{crit}$，它将无法度过冬天。土拨鼠的状态由其当前的能量储备$E$（以离散的能量单位衡量）和当前日期$t$（其中 $t \\in \\{1, 2, \\dots, T\\}$）定义。\n\n在每天开始时，土拨鼠必须选择两种觅食策略之一：\n1.  **低风险 (L)**：在附近的可预测地块觅食。此策略保证获得$G_L$的能量增益，且没有被捕食的风险。\n2.  **高风险 (H)**：在远处更富饶的地块觅食。此策略有$p_H$的概率获得$G_H$的大量能量增益，有$1-p_H$的概率没有增益。然而，这段旅程也使土拨鼠面临捕食者，被杀死的概率为$p_{die, H}$。如果土拨鼠被杀死，其成功冬眠的概率为零。\n\n无论选择哪种策略，土拨鼠每天都会消耗固定量的能量$E_{met}$来满足其日常新陈代谢需求。这笔消耗在每天结束时，在加上任何觅食收益之后扣除。土拨鼠的目标是做出每日决策序列，以最大化其度过冬天的总概率。\n\n假设参数值如下：\n-   总觅食天数，$T = 3$ 天。生存检查发生在第 $T+1=4$ 天的开始。\n-   临界能量储备，$E_{crit} = 10$ 单位。\n-   新陈代謝消耗，$E_{met} = 1$ 单位/天。\n-   低风险增益，$G_L = 2$ 单位。\n-   高风险增益，$G_H = 5$ 单位。\n-   高风险成功概率，$p_H = 0.6$。\n-   高风险觅食中的被捕食概率，$p_{die, H} = 0.1$。\n\n土拨鼠采用基于动态规划的最优策略。在第 $t=2$ 天开始时，土拨鼠的决策将取决于其当前的能量水平$E$。求使得选择低风险选项成为最优策略（即，其带来的生存概率至少与选择高风险选项一样大）的最小整数能量水平$E$。", "solution": "这个问题使用逆向归纳法解决，这是动态规划的核心方法。我们将 $P(t, E)$ 定义为在第 $t$ 天开始且土拨鼠拥有能量 $E$ 的情况下，成功度过冬天的最大概率。\n\n**步骤 1：边界条件（第 $t=4$ 天）**\n决策过程在第 $T+1=4$ 天开始时结束。此时，土拨鼠当且仅当其能量 $E$ 大于或等于临界阈值 $E_{crit}=10$ 时才能存活。\n在这个阶段的生存概率是：\n$$ P(4, E) = \\begin{cases} 1  \\text{if } E \\ge 10 \\\\ 0  \\text{if } E \\lt 10 \\end{cases} $$\n\n**步骤 2：递推关系**\n对于任何一天 $t \\in \\{1, 2, 3\\}$，土拨鼠的最优策略是选择能最大化其生存概率的行动（低风险或高风险）。因此，$P(t, E) = \\max\\{ V_L(t, E), V_H(t, E) \\}$，其中 $V_L$ 和 $V_H$ 是每种选择的生存概率。\n\n第 $t+1$ 天开始时的能量是当前能量 $E$，加上任何觅食增益，减去新陈代谢消耗 $E_{met}=1$。\n\n低风险 (L) 策略的价值：\n增益是确定的 $G_L=2$。第 $t+1$ 天开始时的能量水平变为 $E + G_L - E_{met} = E + 2 - 1 = E+1$。\n$$ V_L(t, E) = P(t+1, E+1) $$\n\n高风险 (H) 策略的价值：\n土拨鼠以 $1 - p_{die, H} = 0.9$ 的概率在觅食之旅中存活下来。如果存活，它有 $p_H=0.6$ 的概率获得 $G_H=5$ 的增益，或者有 $1-p_H=0.4$ 的概率获得0增益。\n$$ V_H(t, E) = (1 - p_{die, H}) \\times [p_H \\cdot P(t+1, E + G_H - E_{met}) + (1-p_H) \\cdot P(t+1, E - E_{met})] $$\n代入参数值：\n$$ V_H(t, E) = 0.9 \\times [0.6 \\cdot P(t+1, E + 5 - 1) + 0.4 \\cdot P(t+1, E - 1)] $$\n$$ V_H(t, E) = 0.9 \\times [0.6 \\cdot P(t+1, E+4) + 0.4 \\cdot P(t+1, E-1)] $$\n\n**步骤 3：第 $t=3$ 天的解**\n我们从 $t=4$ 开始向后推导。对于第 $t=3$ 天，我们使用 $P(4, E)$ 的值。\n- 对于 $E \\ge 9$：$V_L(3, E) = P(4, E+1)=1$。对于 $E=9,10$，$V_H=0.9[0.6(1)+0.4(0)] = 0.54$。对于 $E \\ge 11$，$V_H=0.9[0.6(1)+0.4(1)]=0.9$。在所有情况下，$V_L > V_H$。因此，对于 $E \\ge 9$，策略是L，且 $P(3, E) = 1$。\n- 对于 $E = 8$：$V_L(3, 8) = P(4, 9)=0$。$V_H(3, 8) = 0.9[0.6 P(4,12) + 0.4 P(4,7)] = 0.9[0.6(1)+0.4(0)]=0.54$。策略是H，且 $P(3, 8) = 0.54$。\n- 对于 $E = 7$：$V_L(3, 7) = P(4, 8)=0$。$V_H(3, 7) = 0.9[0.6 P(4,11) + 0.4 P(4,6)] = 0.9[0.6(1)+0.4(0)]=0.54$。策略是H，且 $P(3, 7) = 0.54$。\n- 对于 $E = 6$：$V_L(3, 6) = P(4, 7)=0$。$V_H(3, 6) = 0.9[0.6 P(4,10) + 0.4 P(4,5)] = 0.9[0.6(1)+0.4(0)]=0.54$。策略是H，且 $P(3, 6) = 0.54$。\n- 对于 $E \\le 5$：$E+110$ 且 $E+410$，使得 $V_L$ 和 $V_H$ 均为零。所以 $P(3,E)=0$。\n\n第3天决策和概率总结：\n$$ P(3, E) = \\begin{cases} 1  \\text{if } E \\ge 9 \\\\ 0.54  \\text{if } E \\in \\{6, 7, 8\\} \\\\ 0  \\text{if } E \\le 5 \\end{cases} $$\n\n**步骤 4：第 $t=2$ 天的解**\n问题要求在 $t=2$ 时，使得低风险选项成为最优策略的最小整数能量 $E$，即 $V_L(2, E) \\ge V_H(2, E)$。我们使用 $P(3, E)$ 的值来计算 $V_L(2,E)$ 和 $V_H(2,E)$。\n\n我们从较小的整数值开始测试 $E$。\n- 对于 $E=4$：\n  $V_L(2, 4) = P(3, 4+1) = P(3, 5) = 0$。\n  $V_H(2, 4) = 0.9 [0.6 P(3, 4+4) + 0.4 P(3, 4-1)] = 0.9 [0.6 P(3, 8) + 0.4 P(3, 3)] = 0.9 [0.6(0.54) + 0.4(0)] = 0.2916$。\n  此处，$V_L  V_H$，所以低风险不是最优策略。\n\n- 对于 $E=5$：\n  $V_L(2, 5) = P(3, 5+1) = P(3, 6) = 0.54$。\n  $V_H(2, 5) = 0.9 [0.6 P(3, 5+4) + 0.4 P(3, 5-1)] = 0.9 [0.6 P(3, 9) + 0.4 P(3, 4)] = 0.9 [0.6(1) + 0.4(0)] = 0.54$。\n  此处，$V_L(2, 5) = V_H(2, 5) = 0.54$。由于 $V_L \\ge V_H$，选择低风险选项是一个最优策略。\n\n因为我们在寻找最小的整数能量水平，并且我们发现当 $E=4$ 时条件不满足，而当 $E=5$ 时条件满足，所以最小的此类能量水平是5。我们不需要检查更高的 $E$ 值来回答这个问题。\n\n为了完整起见，选择显示出一种有趣的非单调性：\n- 在 $E=5$ 和 $E=6$ 时，$V_L=V_H=0.54$，所以L是最优的（无差异）。\n- 在 $E=7$ 时，$V_L=P(3,8)=0.54$ 而 $V_H=0.9[0.6 P(3,11)+0.4 P(3,6)] = 0.9[0.6(1)+0.4(0.54)]=0.7344$。$V_H > V_L$，所以H是严格最优的。\n- 在 $E=8$ 时，$V_L=P(3,9)=1$ 而 $V_H=0.9[0.6 P(3,12)+0.4 P(3,7)]=0.7344$。$V_LV_H$，所以L是严格最优的。\n\nL为最优策略的能量集合是 $\\{5, 6, 8, 9, \\dots\\}$。这个集合的最小元素是5。", "answer": "$$\\boxed{5}$$", "id": "1869021"}]}