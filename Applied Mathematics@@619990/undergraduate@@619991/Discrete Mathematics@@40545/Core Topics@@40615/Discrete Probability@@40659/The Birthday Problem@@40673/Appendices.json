{"hands_on_practices": [{"introduction": "To master the Birthday Problem, we first need to understand its opposite: the probability of *no* collisions. This exercise provides a practical scenario in computer networking to calculate the chances of a series of events being entirely unique. Mastering this calculation is the foundational step toward appreciating the often surprising nature of collision probabilities. [@problem_id:1404622]", "problem": "In the design of a simple content delivery network, a load balancer uses a basic hash function to distribute incoming user requests to a farm of servers. The hash function maps each incoming request identifier to one of 100 available servers, indexed from 0 to 99. For the purpose of this problem, assume that the hash function is ideal, meaning it assigns any given request to any of the 100 servers with equal probability, and the assignment for each request is independent of all other requests.\n\nSuppose 7 distinct user requests arrive at the load balancer simultaneously. Calculate the probability that all 7 requests are assigned to 7 different servers, thereby avoiding any server having to handle more than one of these new requests.\n\nExpress your answer as a decimal rounded to four significant figures.", "solution": "Model each request as an independent uniform assignment to one of 100 servers. The total number of possible assignments for 7 requests is $100^{7}$. The number of assignments with all 7 requests on different servers is the number of injective functions from a 7-element set to a 100-element set, which is the falling factorial\n$$100 \\cdot 99 \\cdot 98 \\cdot 97 \\cdot 96 \\cdot 95 \\cdot 94.$$\nTherefore, by the classical probability definition,\n$$P=\\frac{100 \\cdot 99 \\cdot 98 \\cdot 97 \\cdot 96 \\cdot 95 \\cdot 94}{100^{7}}=\\prod_{i=0}^{6}\\frac{100-i}{100}=\\left(\\frac{99}{100}\\right)\\left(\\frac{98}{100}\\right)\\left(\\frac{97}{100}\\right)\\left(\\frac{96}{100}\\right)\\left(\\frac{95}{100}\\right)\\left(\\frac{94}{100}\\right).$$\nEvaluating sequentially,\n$$0.99 \\times 0.98=0.9702,$$\n$$0.9702 \\times 0.97=0.941094,$$\n$$0.941094 \\times 0.96=0.90345024,$$\n$$0.90345024 \\times 0.95=0.858277728,$$\n$$0.858277728 \\times 0.94=0.80678106432.$$\nRounded to four significant figures, this is $0.8068$.", "answer": "$$\\boxed{0.8068}$$", "id": "1404622"}, {"introduction": "Calculating the probability of 'at least one' of an event occurring can be complicated if tackled directly. A more elegant and powerful approach is to use the complement rule: calculate the probability of the event *never* happening and subtract this from 1. This practice applies this essential technique to a relatable scenario involving collectibles, demonstrating the standard method for solving birthday-type problems. [@problem_id:1404660]", "problem": "A technology company specializing in collectibles has released a new series of \"CryptoCritters,\" a set of physical miniature figures linked to unique digital tokens. There are 50 distinct CryptoCritter figures in the complete first-edition set. These figures are sold in identical, sealed \"mystery boxes,\" meaning a buyer does not know which specific figure they are purchasing. Assume that the company has produced an equal and extremely large number of each of the 50 distinct figures, so the selection of each figure can be considered an independent event with uniform probability.\n\nA collector purchases 8 of these mystery boxes. What is the probability that they will receive at least one duplicate figure among the 8 they have purchased?\n\nCalculate your answer as a decimal rounded to four significant figures.", "solution": "Model each box as an independent draw from 50 equally likely types. Let $D$ be the event that at least one duplicate occurs among $8$ draws. Use the complement rule: $P(D) = 1 - P(\\text{all }8\\text{ distinct})$.\n\nThe probability that all $8$ figures are distinct is the number of injective sequences divided by the total number of sequences:\n$$\nP(\\text{all distinct}) = \\frac{50 \\cdot 49 \\cdot 48 \\cdot 47 \\cdot 46 \\cdot 45 \\cdot 44 \\cdot 43}{50^{8}} = \\prod_{k=0}^{7} \\frac{50-k}{50} = 1 \\cdot \\frac{49}{50} \\cdot \\frac{48}{50} \\cdot \\frac{47}{50} \\cdot \\frac{46}{50} \\cdot \\frac{45}{50} \\cdot \\frac{44}{50} \\cdot \\frac{43}{50}.\n$$\nCompute numerically:\n$$\nP(\\text{all distinct}) = 0.98 \\times 0.96 \\times 0.94 \\times 0.92 \\times 0.90 \\times 0.88 \\times 0.86 = 0.5541618475008.\n$$\nTherefore,\n$$\nP(D) = 1 - 0.5541618475008 = 0.4458381524992.\n$$\nRounding to four significant figures gives $0.4458$.", "answer": "$$\\boxed{0.4458}$$", "id": "1404660"}, {"introduction": "The 'paradox' in the Birthday Problem is how unexpectedly fast the probability of a collision surpasses $0.5$. Our intuition often fails to predict the small number of items needed for a collision to be more likely than not. This final practice challenges you to determine this exact threshold in a distributed database context, directly engaging with the counter-intuitive result that makes the Birthday Problem so famous. [@problem_id:1404642]", "problem": "A large-scale distributed database system uses a simple hashing scheme to distribute data keys across its servers. There are $N=64$ servers in the cluster. When a new key is added, a hash function is applied to it, and the key is stored on the server indexed by the result of `hash(key) mod N`. Assume that the hash function is ideal, meaning it distributes keys uniformly and randomly across the servers. What is the minimum number of keys that must be inserted into the database such that the probability of at least one \"collision\" (i.e., at least two keys being assigned to the same server) is strictly greater than $0.5$?", "solution": "Let $N=64$ and let $m$ denote the number of inserted keys. Under uniform hashing, the server index for each key is uniformly distributed over $\\{0,1,\\dots,63\\}$, independently of others. The probability that the $m$ keys go to distinct servers (no collision) is, for $m \\leq N$,\n$$\nP_{\\text{no coll}}(m)=\\prod_{i=0}^{m-1}\\frac{N-i}{N}=\\prod_{k=1}^{m-1}\\left(1-\\frac{k}{N}\\right).\n$$\nWe want the smallest $m$ such that the collision probability is strictly greater than $0.5$, i.e., $1-P_{\\text{no coll}}(m) \\frac{1}{2}$ or equivalently $P_{\\text{no coll}}(m)\\frac{1}{2}$.\n\nFirst, show $P_{\\text{no coll}}(10)\\frac{1}{2}$. Using the Taylor series with remainder for $\\ln(1-x)$ and the fact that, for $x\\in(0,1)$,\n$$\n\\ln(1-x)=-x-\\frac{x^{2}}{2}-\\sum_{n=3}^{\\infty}\\frac{x^{n}}{n}\\leq -x-\\frac{x^{2}}{2},\n$$\nwe obtain\n$$\n\\ln P_{\\text{no coll}}(10)=\\sum_{k=1}^{9}\\ln\\left(1-\\frac{k}{64}\\right)\\leq -\\sum_{k=1}^{9}\\frac{k}{64}-\\frac{1}{2}\\sum_{k=1}^{9}\\left(\\frac{k}{64}\\right)^{2}.\n$$\nCompute the sums exactly:\n$$\n\\sum_{k=1}^{9}\\frac{k}{64}=\\frac{1}{64}\\cdot\\frac{9\\cdot 10}{2}=\\frac{45}{64},\n\\qquad\n\\sum_{k=1}^{9}\\left(\\frac{k}{64}\\right)^{2}=\\frac{1}{64^{2}}\\cdot\\frac{9\\cdot 10\\cdot 19}{6}=\\frac{285}{4096}.\n$$\nHence\n$$\nP_{\\text{no coll}}(10)\\leq \\exp\\!\\left(-\\frac{45}{64}-\\frac{1}{2}\\cdot\\frac{285}{4096}\\right)=\\exp\\!\\left(-\\frac{6045}{8192}\\right).\n$$\nNote that $\\frac{6045}{8192}\\frac{7}{10}$, and\n$$\n\\exp\\!\\left(\\frac{7}{10}\\right)=\\sum_{n=0}^{\\infty}\\frac{\\left(\\frac{7}{10}\\right)^{n}}{n!}1+\\frac{7}{10}+\\frac{\\left(\\frac{7}{10}\\right)^{2}}{2}+\\frac{\\left(\\frac{7}{10}\\right)^{3}}{6}\n=1+\\frac{7}{10}+\\frac{49}{200}+\\frac{343}{6000}=\\frac{12013}{6000}2.\n$$\nTherefore $\\exp\\!\\left(-\\frac{7}{10}\\right)\\frac{1}{2}$ and, by monotonicity of $\\exp$,\n$$\nP_{\\text{no coll}}(10)\\leq \\exp\\!\\left(-\\frac{6045}{8192}\\right)\\exp\\!\\left(-\\frac{7}{10}\\right)\\frac{1}{2}.\n$$\nThus, with $m=10$, the collision probability exceeds $\\frac{1}{2}$.\n\nNext, show $P_{\\text{no coll}}(9)\\frac{1}{2}$. For $m=9$,\n$$\nP_{\\text{no coll}}(9)=\\prod_{k=1}^{8}\\frac{64-k}{64},\n$$\nso\n$$\n2\\,P_{\\text{no coll}}(9)=\\prod_{k=1}^{8}\\frac{2(64-k)}{64}.\n$$\nFor $1\\leq k\\leq 8$, we have $64-k\\geq 5632$, hence $\\frac{2(64-k)}{64}1$. The product of terms each exceeding $1$ is greater than $1$, so\n$$\n2\\,P_{\\text{no coll}}(9)1 \\quad\\Longrightarrow\\quad P_{\\text{no coll}}(9)\\frac{1}{2}.\n$$\n\nSince $P_{\\text{no coll}}(m)$ is strictly decreasing in $m$ (each new factor is less than $1$), the smallest $m$ for which $P_{\\text{no coll}}(m)\\frac{1}{2}$, equivalently the probability of at least one collision exceeds $\\frac{1}{2}$, is $m=10$.", "answer": "$$\\boxed{10}$$", "id": "1404642"}]}