{"hands_on_practices": [{"introduction": "Many combinatorial problems involve distributing identical items into distinct bins. This exercise introduces a powerful technique for handling such problems when constraints are present, specifically when one bin must receive a minimum number of items. Mastering this method [@problem_id:1356649] of pre-allocation is a crucial first step in tackling more complex distribution scenarios.\n\nThis problem is a classic application of the \"stars and bars\" method, where you must first satisfy a minimum requirement ($x_i \\ge c$) by defining a new variable $y_i = x_i - c$ to transform the problem into a standard form.", "problem": "A university's information technology department has purchased $n$ identical, perpetual software licenses for a new computational package. These licenses are to be distributed among $k$ distinct research laboratories. Due to a special funding arrangement, a specific laboratory, the \"Astrophysics Research Group,\" must receive at least three licenses. Given that $n$ and $k$ are integers such that $n \\ge 3$ and $k \\ge 1$, find a closed-form expression in terms of $n$ and $k$ for the total number of distinct ways to distribute the $n$ licenses. A closed-form expression is one that does not contain unevaluated sums, integrals, or derivatives.", "solution": "This problem asks for the number of ways to distribute $n$ identical items (software licenses) into $k$ distinct bins (research laboratories), with a specific constraint on one of the bins. This is a classic combinatorial problem that can be solved using the \"stars and bars\" method.\n\nLet $x_i$ be the number of licenses assigned to laboratory $i$, for $i = 1, 2, \\dots, k$. Since the laboratories are distinct but the licenses are identical, a specific distribution is defined by the set of values $\\{x_1, x_2, \\dots, x_k\\}$. The total number of licenses is $n$, so we are looking for the number of non-negative integer solutions to the equation:\n$$x_1 + x_2 + \\dots + x_k = n$$\n\nLet's designate laboratory 1 as the \"Astrophysics Research Group\". The problem states that this lab must receive at least three licenses. This imposes the following constraints on the variables:\n- $x_1 \\ge 3$\n- $x_i \\ge 0$ for $i = 2, 3, \\dots, k$\n\nTo handle the constraint $x_1 \\ge 3$, we can define a new variable. Let $y_1 = x_1 - 3$. Since $x_1$ must be an integer greater than or equal to 3, $y_1$ must be a non-negative integer ($y_1 \\ge 0$). We can express $x_1$ as $x_1 = y_1 + 3$.\n\nNow we substitute this back into our original equation:\n$$(y_1 + 3) + x_2 + x_3 + \\dots + x_k = n$$\n\nSubtracting 3 from both sides, we get a new equation:\n$$y_1 + x_2 + x_3 + \\dots + x_k = n - 3$$\n\nThe problem is now transformed into finding the number of non-negative integer solutions to this new equation. This is a standard stars and bars problem. We are distributing $N = n - 3$ identical items (the remaining licenses) into $K = k$ distinct bins (all the laboratories, including the Astrophysics group which is now free to receive zero *additional* licenses).\n\nThe formula for the number of ways to distribute $N$ identical items into $K$ distinct bins is given by the multiset coefficient, which is equivalent to a binomial coefficient:\n$$ \\binom{N+K-1}{K-1} $$\n\nIn our case, we have $N = n - 3$ and $K = k$. Substituting these into the formula gives:\n$$ \\binom{(n-3) + k - 1}{k-1} $$\n\nSimplifying the expression inside the binomial coefficient, we get:\n$$ \\binom{n+k-4}{k-1} $$\n\nThis is the closed-form expression for the number of ways to distribute the licenses according to the given rules. It represents the number of ways to choose the positions for the $k-1$ \"bars\" (dividers between labs) among a total of $n-3$ \"stars\" (licenses) and $k-1$ \"bars\".", "answer": "$$\\boxed{\\binom{n+k-4}{k-1}}$$", "id": "1356649"}, {"introduction": "Building on basic distribution problems, this practice explores how to count configurations where the total number of items is not fixed but bounded by an upper limit. The core of this problem [@problem_id:1356638] is to find the number of non-negative integer solutions to an inequality like $x_1 + x_2 + \\dots + x_k \\le n$.\n\nThe solution showcases an elegant bijective argument, where the inequality is cleverly transformed into an equality by introducing a \"slack\" or \"remainder\" variable. This technique is a versatile and essential tool in a combinatorialist's toolkit.", "problem": "In a simplified model of a content delivery network, a stream of $n$ identical data objects is to be cached across a sequence of $k$ distinct regional servers. The stream arrives at the first server. At each server, any number of the currently available data objects (from zero up to all of them) can be stored in its cache. The remaining objects are then passed to the next server in the sequence. Any data objects that remain after passing through the final server (server $k$) are discarded.\n\nA complete \"caching configuration\" is described by the tuple $(c_1, c_2, \\dots, c_k)$, where $c_i$ is the non-negative integer number of data objects cached by server $i$. Determine the total number of distinct caching configurations possible. Express your answer as a single closed-form analytic expression in terms of $n$ and $k$.", "solution": "We model the process as assigning counts $c_{1},\\dots,c_{k}$ of $n$ identical data objects to $k$ distinct servers, with any remaining objects discarded after server $k$. A valid caching configuration is a $k$-tuple $(c_{1},\\dots,c_{k})$ with $c_{i}\\in \\mathbb{Z}_{\\ge 0}$ and\n$$\n\\sum_{i=1}^{k} c_{i} \\le n.\n$$\nLet $r$ denote the number of objects discarded after the last server. By definition,\n$$\nr = n - \\sum_{i=1}^{k} c_{i}, \\quad r \\in \\mathbb{Z}_{\\ge 0}.\n$$\nThis establishes a bijection between $k$-tuples $(c_{1},\\dots,c_{k})$ satisfying $\\sum_{i=1}^{k} c_{i} \\le n$ and $(k+1)$-tuples $(c_{1},\\dots,c_{k},r)$ of nonnegative integers satisfying\n$$\n\\sum_{i=1}^{k} c_{i} + r = n.\n$$\nThus, the number of caching configurations equals the number of nonnegative integer solutions to\n$$\nc_{1} + c_{2} + \\dots + c_{k} + r = n.\n$$\nBy the stars-and-bars principle, the number of solutions in nonnegative integers to a sum of $m$ variables equaling $n$ is $\\binom{n + m - 1}{m - 1}$. Here $m = k+1$, so the count is\n$$\n\\binom{n + (k+1) - 1}{(k+1) - 1} = \\binom{n + k}{k}.\n$$\nTherefore, the total number of distinct caching configurations is $\\binom{n + k}{k}$.", "answer": "$$\\boxed{\\binom{n+k}{k}}$$", "id": "1356638"}, {"introduction": "Not all counting problems yield to a direct formula; some are best solved by identifying a structural pattern that can be expressed recursively. This exercise [@problem_id:1356611] challenges you to develop a recurrence relation by breaking the problem down based on a key choiceâ€”whether or not to include the last element.\n\nThis powerful method not only provides a path to the solution but also reveals a surprising and beautiful connection between a problem about non-adjacent selections and the famous Fibonacci sequence. Recognizing how to formulate and solve recurrence relations is a fundamental skill for advanced combinatorial analysis.", "problem": "A student is selecting books from a shelf that contains 12 books arranged in a row, numbered 1 to 12. The student is superstitious and will not choose any two books that are adjacent to each other. A valid selection can consist of any number of books, including zero (the empty set). How many distinct valid selections of books can the student make?", "solution": "Let $a_{n}$ denote the number of subsets of $\\{1,2,\\dots,n\\}$ with no two consecutive integers selected. Consider the last element $n$:\n- If $n$ is not selected, the remaining choices are any valid selection from $\\{1,\\dots,n-1\\}$, contributing $a_{n-1}$ possibilities.\n- If $n$ is selected, then $n-1$ cannot be selected, and the remaining choices are any valid selection from $\\{1,\\dots,n-2\\}$, contributing $a_{n-2}$ possibilities.\nThus, for $n \\geq 2$,\n$$\na_{n} = a_{n-1} + a_{n-2}.\n$$\nThe base cases are $a_{0} = 1$ (only the empty set) and $a_{1} = 2$ (either the empty set or $\\{1\\}$). This is the Fibonacci recurrence with a shift. If we define the Fibonacci numbers by $F_{0}=0$, $F_{1}=1$, $F_{n}=F_{n-1}+F_{n-2}$, then matching bases gives $a_{0}=F_{2}$ and $a_{1}=F_{3}$, so by induction\n$$\na_{n} = F_{n+2}.\n$$\nFor $n=12$, we obtain $a_{12} = F_{14}$. Computing the needed Fibonacci numbers,\n$$\nF_{2}=1,\\;F_{3}=2,\\;F_{4}=3,\\;F_{5}=5,\\;F_{6}=8,\\;F_{7}=13,\\;F_{8}=21,\\;F_{9}=34,\\;F_{10}=55,\\;F_{11}=89,\\;F_{12}=144,\\;F_{13}=233,\\;F_{14}=377,\n$$\nso $a_{12}=377$.\n\nAs a direct combinatorial check, the number of ways to choose exactly $k$ non-adjacent books from $n$ in a row is $\\binom{n-k+1}{k}$, hence the total is\n$$\n\\sum_{k=0}^{6} \\binom{13-k}{k} = \\binom{13}{0}+\\binom{12}{1}+\\binom{11}{2}+\\binom{10}{3}+\\binom{9}{4}+\\binom{8}{5}+\\binom{7}{6} = 1+12+55+120+126+56+7=377,\n$$\nagreeing with the Fibonacci result.", "answer": "$$\\boxed{377}$$", "id": "1356611"}]}