{"hands_on_practices": [{"introduction": "Mastering combinatorics often begins with understanding how to count arrangements. This first exercise [@problem_id:1390984] provides a direct application of the fundamental formula for permutations with indistinguishable objects. By calculating the number of unique RNA sequences from a given set of nucleotides, you will practice correcting for the overcounting that occurs when identical items are present, a crucial skill for problems in fields ranging from genetics to data science.", "problem": "A bioinformatician is studying a specific short segment of a viral Ribonucleic acid (RNA) strand. Through sequencing analysis, it is determined that this segment is composed of exactly 14 nucleotides. The composition is known to be: 5 Adenine (A) nucleotides, 3 Cytosine (C) nucleotides, 4 Guanine (G) nucleotides, and 2 Uracil (U) nucleotides. Assuming all nucleotides of the same type are indistinguishable from one another, how many unique linear sequences (arrangements) can be formed using this exact set of 14 nucleotides?", "solution": "We are arranging a multiset of $14$ items consisting of $5$ A, $3$ C, $4$ G, and $2$ U, where items of the same type are indistinguishable. The number of distinct linear sequences is given by the multinomial coefficient for these counts:\n$$\nN=\\frac{14!}{5!\\,3!\\,4!\\,2!}.\n$$\nThis can also be derived by sequentially choosing positions: choose $5$ of the $14$ positions for A, then $3$ of the remaining $9$ for C, then $4$ of the remaining $6$ for G, and finally $2$ of the remaining $2$ for U:\n$$\nN=\\binom{14}{5}\\binom{9}{3}\\binom{6}{4}\\binom{2}{2}\n=\\frac{14!}{5!\\,9!}\\cdot\\frac{9!}{3!\\,6!}\\cdot\\frac{6!}{4!\\,2!}\\cdot\\frac{2!}{2!\\,0!}\n=\\frac{14!}{5!\\,3!\\,4!\\,2!},\n$$\nusing $0!=1$.\n\nCompute the exact integer value:\n$$\n14!=87178291200,\\quad 5!=120,\\quad 3!=6,\\quad 4!=24,\\quad 2!=2,\n$$\nso the denominator is\n$$\n5!\\,3!\\,4!\\,2!=120\\cdot 6\\cdot 24\\cdot 2=34560,\n$$\nand\n$$\nN=\\frac{87178291200}{34560}.\n$$\nDivide stepwise: first by $64$ to get $\\frac{1362160800}{540}$, then by $10$ to get $\\frac{136216080}{54}$, then by $6$ to get $\\frac{22702680}{9}$, and finally divide by $9$ to obtain\n$$\nN=2522520.\n$$\nTherefore, the number of unique linear sequences is $2522520$.", "answer": "$$\\boxed{2522520}$$", "id": "1390984"}, {"introduction": "Real-world problems rarely come without constraints. This next practice [@problem_id:1391271] moves beyond simple counting to incorporate an operational rule, a common feature in logistics, scheduling, and computer science. The key to solving this problem lies in a clever conceptual shift, which is a powerful technique for handling constraints on relative order in permutations.", "problem": "In an automated logistics facility, a sorting algorithm is being programmed to arrange packages on a final dispatch conveyor belt. There are three types of packages to be sorted:\n- 5 identical \"Priority\" packages.\n- 3 identical \"Standard\" packages.\n- 4 identical \"Regional\" packages.\n\nThis results in a total of 12 packages to be arranged in a linear sequence. The sorting system is subject to a critical operational constraint: all \"Priority\" packages must appear in the sequence before any \"Standard\" packages. The \"Regional\" packages can be placed anywhere in the sequence without restriction relative to the other types.\n\nCalculate the total number of distinct linear arrangements of these 12 packages that satisfy the given constraint. Provide the exact integer value.", "solution": "Let $n_P=5$ be the number of \"Priority\" packages, $n_S=3$ be the number of \"Standard\" packages, and $n_R=4$ be the number of \"Regional\" packages. The total number of packages to be arranged in a sequence is $N = n_P + n_S + n_R = 5 + 3 + 4 = 12$.\n\nThe problem asks for the number of distinct permutations of this multiset under the constraint that all Priority packages must appear before any Standard packages.\n\nLet's consider the 12 positions in the linear sequence. The core of the problem lies in how to handle the constraint on the Priority (P) and Standard (S) packages. The constraint fixes the relative order of P and S packages. For any selection of positions occupied by the P and S packages, their arrangement is uniquely determined: the first $n_P$ of these positions must be filled with P's, and the remaining $n_S$ positions must be filled with S's.\n\nTo simplify the counting process, we can treat the Priority and Standard packages as a single group of temporarily indistinguishable items. Let's call this new item type \"Combined\" (C). There are $n_C' = n_P + n_S = 5 + 3 = 8$ such \"Combined\" packages.\n\nThe problem is now transformed into finding the number of distinct permutations of a new multiset consisting of:\n- $n_C' = 8$ \"Combined\" packages.\n- $n_R = 4$ \"Regional\" packages.\n\nThe total number of items in this new arrangement is still $N = n_C' + n_R = 8 + 4 = 12$.\n\nThe number of distinct permutations of a multiset is given by the formula:\n$$ \\frac{N!}{k_1! k_2! \\dots k_m!} $$\nwhere $N$ is the total number of items, and $k_1, k_2, \\dots, k_m$ are the multiplicities of each distinct item type.\n\nIn our simplified problem, we have $N=12$, $k_1 = n_C' = 8$, and $k_2 = n_R = 4$. So, the number of distinct arrangements is:\n$$ \\frac{12!}{8! \\cdot 4!} $$\n\nThis expression is also the definition of the binomial coefficient $\\binom{12}{8}$ or $\\binom{12}{4}$. Let's calculate its value:\n$$ \\binom{12}{4} = \\frac{12 \\cdot 11 \\cdot 10 \\cdot 9}{4 \\cdot 3 \\cdot 2 \\cdot 1} $$\n\nWe can simplify the expression by canceling terms:\n$$ \\binom{12}{4} = \\frac{12}{4 \\cdot 3} \\cdot \\frac{10}{2} \\cdot 11 \\cdot 9 $$\n$$ \\binom{12}{4} = 1 \\cdot 5 \\cdot 11 \\cdot 9 $$\n$$ \\binom{12}{4} = 55 \\cdot 9 $$\n$$ \\binom{12}{4} = 495 $$\n\nEach of these 495 arrangements consists of a sequence of 8 \"Combined\" packages and 4 \"Regional\" packages. For any given arrangement, we can form a unique valid sequence of the original packages by replacing the \"Combined\" packages. Since all Priority packages must come before all Standard packages, we replace the first 5 \"Combined\" packages in the sequence with Priority packages and the remaining 3 \"Combined\" packages with Standard packages. This replacement is unique for each arrangement.\n\nTherefore, the number of arrangements of the simplified set is equal to the number of valid arrangements of the original set. The total number of distinct linear arrangements is 495.", "answer": "$$\\boxed{495}$$", "id": "1391271"}, {"introduction": "Our final practice problem [@problem_id:1391001] generalizes the concept to situations where the exact composition of the multiset can vary, as long as it satisfies a specific rule. To find the total number of \"spectrally balanced\" sequences, you will need to sum the possibilities across all valid compositions. This exercise demonstrates how to combine the permutation formula with summation to tackle more abstract and complex counting scenarios.", "problem": "In a quality control process for manufacturing advanced optical fibers, a long fiber is scanned, and at each unit length, the transmission characteristic is classified into one of three categories: 'Optimal' (O), 'Gain-error' (G), or 'Loss-error' (L). An arbitrary sequence of these measurements is taken over a segment of length $N$.\n\nA segment's measurement sequence is defined as \"spectrally balanced\" if the total number of 'Gain-error' (G) readings is exactly equal to the total number of 'Loss-error' (L) readings.\n\nAssuming an effectively infinite supply of measurement outcomes of each type for the composition of the sequence, determine the total number of distinct spectrally balanced measurement sequences of length $N$. Your answer should be a closed-form analytic expression in terms of $N$.", "solution": "We model each unit-length measurement as one of three symbols: O, G, or L. A sequence of length $N$ is spectrally balanced if the number of G symbols equals the number of L symbols.\n\nLet $k$ be the common number of G and L readings in the sequence. Then we must have $2k \\leq N$, so $k$ ranges from $0$ to $\\lfloor N/2 \\rfloor$. For a fixed $k$, the number of sequences with exactly $k$ G’s, $k$ L’s, and $N-2k$ O’s is given by the multinomial coefficient\n$$\n\\frac{N!}{k!\\,k!\\,(N-2k)!}.\n$$\nEquivalently, we can count in two steps: first choose the $2k$ positions (out of $N$) that are non-O, which can be done in $\\binom{N}{2k}$ ways; then among those $2k$ positions choose which $k$ are G (the rest $k$ will be L), which can be done in $\\binom{2k}{k}$ ways. This yields the same count\n$$\n\\binom{N}{2k}\\binom{2k}{k}=\\frac{N!}{k!\\,k!\\,(N-2k)!}.\n$$\nSumming over all admissible $k$ gives the total number of spectrally balanced sequences:\n$$\n\\sum_{k=0}^{\\lfloor N/2 \\rfloor} \\binom{N}{2k}\\binom{2k}{k}.\n$$\nThis is the central trinomial coefficient, which also equals the number of length-$N$ sequences over $\\{-1,0,1\\}$ with total sum zero under the correspondence $G \\mapsto 1$, $L \\mapsto -1$, $O \\mapsto 0$.", "answer": "$$\\boxed{\\sum_{k=0}^{\\lfloor N/2 \\rfloor} \\binom{N}{2k}\\binom{2k}{k}}$$", "id": "1391001"}]}