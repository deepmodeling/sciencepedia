{"hands_on_practices": [{"introduction": "Understanding the distinction between bound and free variables begins with mastering the concept of quantifier scope. This first exercise provides a foundational practice in dissecting a logical formula to determine the status of each variable occurrence. By carefully tracing the influence of the quantifiers $\\forall$ and $\\exists$, you will learn to identify which variables are controlled locally by a quantifier and which ones depend on an external context [@problem_id:1353831].", "problem": "Consider the following well-formed formula in first-order logic, where $P$, $Q$, and $R$ are predicates:\n$$\n(\\forall x \\, P(x, y)) \\rightarrow (\\exists y \\, (Q(y, z) \\land R(x)))\n$$\nA variable *occurrence* is said to be **bound** if it falls within the scope of a quantifier ($\\forall$ or $\\exists$) that quantifies it. A variable *occurrence* is **free** if it is not bound.\n\nWhich of the following statements correctly describes the status of the variables in the given logical formula?\n\nA. The variable $x$ is bound in all its occurrences, and $y$ is free in all its occurrences.\n\nB. The variable $y$ is bound in all its occurrences, and $z$ is free in its only occurrence.\n\nC. Both $x$ and $y$ have both free and bound occurrences, while $z$ has only a free occurrence.\n\nD. All occurrences of $x$ and $y$ are bound, and the only occurrence of $z$ is free.\n\nE. The set of free variables for the entire formula is $\\{z\\}$.", "solution": "Let the formula be\n$$\n(\\forall x\\, P(x,y)) \\rightarrow (\\exists y\\, (Q(y,z) \\land R(x))).\n$$\nBy definition, an occurrence of a variable is bound if it lies within the scope of a quantifier over that same variable; otherwise it is free.\n\nDecompose the formula into antecedent and consequent:\n- Antecedent: $A \\equiv \\forall x\\, P(x,y)$, whose scope for $\\forall x$ is exactly $P(x,y)$.\n- Consequent: $B \\equiv \\exists y\\, (Q(y,z) \\land R(x))$, whose scope for $\\exists y$ is exactly $(Q(y,z) \\land R(x))$.\n\nAnalyze each variable occurrence:\n- Variable $x$:\n  - In $A$: the occurrence of $x$ in $P(x,y)$ is within the scope of $\\forall x$, hence bound.\n  - In $B$: the occurrence of $x$ in $R(x)$ is not within the scope of $\\forall x$ (whose scope does not extend across the implication) and there is no other quantifier over $x$ in $B$, hence free.\n  Therefore, $x$ has both a bound occurrence (in $A$) and a free occurrence (in $B$).\n\n- Variable $y$:\n  - In $A$: the occurrence of $y$ in $P(x,y)$ is not within the scope of any quantifier over $y$, hence free.\n  - In $B$: the occurrences of $y$ in $Q(y,z)$ lie within the scope of $\\exists y$, hence bound.\n  Therefore, $y$ has both a free occurrence (in $A$) and bound occurrences (in $B$).\n\n- Variable $z$:\n  - In $B$: the occurrence of $z$ in $Q(y,z)$ is not within the scope of any quantifier over $z$ (there is none), hence free.\n  Therefore, $z$ has only a free occurrence.\n\nConsequently:\n- Both $x$ and $y$ have both free and bound occurrences.\n- The only occurrence of $z$ is free.\n\nThus the correct choice is C. (Note: the set of free variables of the whole formula is $\\{x,y,z\\}$, so option E is false.)", "answer": "$$\\boxed{C}$$", "id": "1353831"}, {"introduction": "Building on the skill of identifying individual free and bound occurrences, this next practice elevates the challenge to determining the complete set of free variables for an entire formula. This is a crucial step for understanding a formula's dependencies, as free variables act like parameters that must be defined for the statement to be evaluated. This problem requires you to analyze a multi-part formula with nested logical connectives and synthesize your findings into a single set [@problem_id:1353789].", "problem": "In the field of software engineering, formal methods use predicate logic to specify and verify system properties. A logical formula can describe a required state or behavior, and its variables correspond to system parameters or state variables. A variable is considered 'bound' if it falls within the scope of a quantifier (such as the universal quantifier $\\forall$, \"for all\", or the existential quantifier $\\exists$, \"there exists\") that refers to it. A variable is 'free' if it is not bound. Free variables represent external parameters that must be defined for the formula to have a concrete true/false value.\n\nConsider the following logical formula, designed to specify a complex property of a system with predicates $P$, $Q$, $R$, and $S$:\n$$\n(\\forall x (P(x) \\rightarrow Q(y))) \\land (\\exists y R(y)) \\rightarrow S(y, z)\n$$\nAssuming standard operator precedence where $\\rightarrow$ is the main connective, determine the complete set of free variables in this formula.\n\nA. $\\{z\\}$\n\nB. $\\{y, z\\}$\n\nC. $\\{x, y, z\\}$\n\nD. $\\emptyset$ (the empty set)\n\nE. $\\{y\\}$", "solution": "We first identify the main connective. By the given precedence, the formula has the structure\n$$\n\\bigl[(\\forall x\\,(P(x)\\rightarrow Q(y))) \\land (\\exists y\\,R(y))\\bigr] \\rightarrow S(y,z).\n$$\nLet the antecedent be\n$$\nA \\equiv (\\forall x\\,(P(x)\\rightarrow Q(y))) \\land (\\exists y\\,R(y)).\n$$\nWe determine the free variables in each part.\n\n1) In $\\forall x\\,(P(x)\\rightarrow Q(y))$, the quantifier $\\forall x$ binds all occurrences of $x$ within $(P(x)\\rightarrow Q(y))$. The occurrence of $y$ in $Q(y)$ is not within the scope of any $y$-quantifier in this subformula, hence $y$ is free here.\n\n2) In $\\exists y\\,R(y)$, the quantifier $\\exists y$ binds all occurrences of $y$ within $R(y)$. There are no free occurrences of any variable here.\n\n3) For the conjunction $A = \\phi \\land \\psi$, conjunction does not bind variables, and the set of free variables of $A$ is the union of the free variables of its conjuncts. From (1) and (2), $A$ has $y$ as a free variable and no others. Thus the free variables of $A$ are $\\{y\\}$.\n\n4) In the consequent $S(y,z)$, there are no quantifiers; thus both $y$ and $z$ occur free in this subformula.\n\n5) For the implication $A \\rightarrow S(y,z)$, implication does not bind variables, so the free variables of the entire formula are the union of the free variables of $A$ and of $S(y,z)$, namely $\\{y\\} \\cup \\{y,z\\} = \\{y,z\\}$.\n\nTherefore, the complete set of free variables is $\\{y,z\\}$, which corresponds to option B.", "answer": "$$\\boxed{B}$$", "id": "1353789"}, {"introduction": "The final practice transitions from analysis to application, addressing a common goal in logic and computer science: writing \"hygienic\" formulas. When a variable name is used in both a free and a bound context within the same formula, it can lead to ambiguity and errors. This exercise demonstrates how to resolve this issue by renaming a bound variable—a technique known as alpha-conversion—to produce a logically equivalent but much clearer formula [@problem_id:1353838].", "problem": "In the study of first-order logic, a variable's occurrence in a formula is classified as either *bound* or *free*. An occurrence is bound if it lies within the scope of a quantifier (e.g., $\\forall$ or $\\exists$) that names that variable. An occurrence is free if it is not bound. For example, in the formula $\\forall x P(x, y)$, the occurrence of $x$ is bound and the occurrence of $y$ is free.\n\nIt is considered a good practice in formal logic to write formulas where any given variable is either always bound or always free, but never both. This avoids ambiguity and potential errors during logical substitution.\n\nConsider the following well-formed formula:\n$$(\\forall x \\, \\exists y \\, P(x, y)) \\land Q(y)$$\nIn this formula, the variable $y$ in the subformula $P(x, y)$ is bound by the existential quantifier $\\exists y$. However, the variable $y$ in the subformula $Q(y)$ is free, as it is outside the scope of the quantifier.\n\nYour task is to select the formula from the options below that is logically equivalent to the given formula, but has been rewritten to resolve this dual role for the variable $y$.\n\nA. $(\\forall x \\, \\exists z \\, P(x, z)) \\land Q(y)$\n\nB. $\\forall x \\, \\exists y \\, (P(x, y) \\land Q(y))$\n\nC. $(\\forall x \\, \\exists y \\, P(x, y)) \\land Q(z)$\n\nD. $\\forall x \\, ((\\exists y \\, P(x, y)) \\land Q(y))$\n\nE. $(\\forall x \\, \\exists y \\, P(x, y)) \\land (\\exists y \\, Q(y))$", "solution": "We start from the given well-formed formula:\n$$(\\forall x \\, \\exists y \\, P(x,y)) \\land Q(y).$$\nIn this formula, the occurrence of $y$ inside $P(x,y)$ is bound by the quantifier $\\exists y$, while the occurrence of $y$ inside $Q(y)$ is free. The task is to find a logically equivalent formula that avoids this dual role for $y$.\n\nA standard logical principle is alpha-conversion for bound variables: if $z$ does not occur in a way that would cause variable capture, then replacing a bound variable by a fresh variable leaves the formula logically equivalent. Formally, for any formula $\\varphi(y)$ where $z$ does not occur free in a position that would be captured, we have:\n$$\\exists y \\, \\varphi(y) \\equiv \\exists z \\, \\varphi(z), \\quad \\forall x \\, \\psi(x) \\equiv \\forall u \\, \\psi(u).$$\nApplying this to the subformula $\\forall x \\, \\exists y \\, P(x,y)$, we may rename the bound $y$ to a fresh variable $z$ without changing logical content:\n$$\\forall x \\, \\exists y \\, P(x,y) \\equiv \\forall x \\, \\exists z \\, P(x,z).$$\nTherefore,\n$$(\\forall x \\, \\exists y \\, P(x,y)) \\land Q(y) \\equiv (\\forall x \\, \\exists z \\, P(x,z)) \\land Q(y).$$\nThis resolves the dual role for $y$, since $y$ is now only free (in $Q(y)$) and $z$ is only bound (in $P(x,z)$). This corresponds to option A.\n\nNow we verify the other options are not both logically equivalent and role-resolving:\n- Option B: $\\forall x \\, \\exists y \\, (P(x,y) \\land Q(y))$ is not equivalent to the original because it places $Q(y)$ under the existential quantifier, changing its dependence: the original conjunct $Q(y)$ is a free condition on the assignment’s value of $y$, while in B the truth of $Q(y)$ is required for the existential witness of $y$ chosen for each $x$.\n- Option C: $(\\forall x \\, \\exists y \\, P(x,y)) \\land Q(z)$ replaces the free variable $y$ by $z$. Open-formula logical equivalence is evaluated with respect to the same assignment; the left depends on the assignment’s value for $y$, while the right depends on that for $z$, so this is not logically equivalent in general.\n- Option D: $\\forall x \\, ((\\exists y \\, P(x,y)) \\land Q(y))$ is equivalent to the original because $x$ is not free in $Q(y)$ and we have the equivalence $\\forall x \\, (A(x) \\land B) \\equiv (\\forall x \\, A(x)) \\land B$ when $x$ is not free in $B$. However, it does not resolve the dual role, since $y$ remains bound in $P$ and free in $Q$.\n- Option E: $(\\forall x \\, \\exists y \\, P(x,y)) \\land (\\exists y \\, Q(y))$ binds $y$ in the second conjunct, changing the overall truth conditions from depending on a free $y$ to asserting the existence of some $y$ satisfying $Q$, so it is not equivalent to the original.\n\nHence, the only option that is both logically equivalent to the given formula and resolves the dual role of $y$ is option A.", "answer": "$$\\boxed{A}$$", "id": "1353838"}]}