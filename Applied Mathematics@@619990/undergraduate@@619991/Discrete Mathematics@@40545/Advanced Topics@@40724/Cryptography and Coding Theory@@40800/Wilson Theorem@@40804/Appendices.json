{"hands_on_practices": [{"introduction": "This first practice shifts our perspective from simply applying a formula to understanding its deeper meaning as a primality test. We investigate the conditions under which the congruence $(n-1)! \\equiv -1 \\pmod{n}$ holds, which is the core of Wilson's theorem. This exercise, [@problem_id:1414829], will strengthen your grasp of the \"if and only if\" nature of mathematical theorems by asking you to identify the complete set of integers that satisfy this property.", "problem": "In the field of computational number theory, researchers often analyze functions for properties that could be useful in algorithms like primality tests. Consider a function, let's call it the Factorial Residue function $R(n)$, defined for any positive integer $n$. The value of $R(n)$ is the remainder obtained when $(n-1)!$ is divided by $n$.\n\nA key property of interest is when an integer $n$ is \"self-referential\" under this function, meaning the output of the function is simply $n-1$. Your task is to determine the complete set of all positive integers $n$ that satisfy this self-referential condition, i.e., all $n$ for which $R(n) = n-1$.\n\nWhich of the following choices correctly describes the set of all such positive integers $n$?\n\nA. All prime numbers.\n\nB. All prime numbers and the integer 1.\n\nC. All odd numbers.\n\nD. Only the integers 1, 2, and 3.\n\nE. All integers that are not perfect squares.\n\nF. All integers.", "solution": "Let $R(n)$ denote the remainder upon dividing $(n-1)!$ by $n$, so by definition $0 \\leq R(n) \\leq n-1$ and\n$$\nR(n) \\equiv (n-1)! \\pmod{n}.\n$$\nThe condition $R(n)=n-1$ is equivalent to\n$$\n(n-1)! \\equiv n-1 \\pmod{n},\n$$\nwhich is the same as\n$$\n(n-1)! \\equiv -1 \\pmod{n}.\n$$\nFor $n>1$, by Wilson's theorem, $n$ is prime if and only if $(n-1)! \\equiv -1 \\pmod{n}$. Therefore, for all $n>1$, the condition $R(n)=n-1$ holds precisely when $n$ is prime.\n\nFor $n=1$, we have $(1-1)! = 0! = 1$, and arithmetic modulo $1$ identifies every integer with $0$, so $1 \\equiv 0 \\pmod{1}$. Hence the remainder upon dividing $1$ by $1$ is $0$, that is $R(1)=0$, and $n-1=0$, so $R(1)=n-1$ also holds for $n=1$.\n\nCombining these, the complete set of positive integers $n$ satisfying $R(n)=n-1$ is all prime numbers together with $1$. This corresponds to option B.", "answer": "$$\\boxed{B}$$", "id": "1414829"}, {"introduction": "Having established the theoretical foundation, we now move to a practical calculation. This problem, [@problem_id:1414794], requires you to apply Wilson's theorem in a concrete scenario, but with a twist: you must first derive the congruence for $(p-2)! \\pmod{p}$. This practice is essential for developing fluency in manipulating factorial expressions within modular arithmetic, a fundamental skill in number theory.", "problem": "In the study of number theory, the behavior of factorials under modular arithmetic is a classic topic. Let the integer $N$ be defined by the expression $N = 3 \\cdot (35!) + 95$. Your task is to find the remainder when $N$ is divided by the prime number $37$.", "solution": "We seek $N \\bmod 37$ where $N = 3 \\cdot (35!) + 95$ and $37$ is prime. By Wilson's theorem, for a prime $p$, $(p-1)! \\equiv -1 \\pmod{p}$. Taking $p=37$ gives\n$$\n36! \\equiv -1 \\pmod{37}.\n$$\nSince $36! = 36 \\cdot 35!$ and $36 \\equiv -1 \\pmod{37}$, we have\n$$\n36 \\cdot 35! \\equiv -1 \\pmod{37} \\quad \\Longrightarrow \\quad (-1)\\cdot 35! \\equiv -1 \\pmod{37}.\n$$\nMultiplying both sides by $-1$ yields\n$$\n35! \\equiv 1 \\pmod{37}.\n$$\nTherefore,\n$$\nN \\equiv 3 \\cdot 35! + 95 \\equiv 3 \\cdot 1 + 95 \\equiv 98 \\pmod{37}.\n$$\nReducing $98$ modulo $37$, note that $37 \\cdot 2 = 74$, hence $98 - 74 = 24$, so\n$$\n98 \\equiv 24 \\pmod{37}.\n$$\nThus the remainder of $N$ upon division by $37$ is $24$.", "answer": "$$\\boxed{24}$$", "id": "1414794"}, {"introduction": "Our final challenge, [@problem_id:1414779], builds on the skills from the previous exercises, pushing you to handle more complex expressions involving both factorials and modular inverses. You will generalize the technique of finding congruences for $(p-k)!$ and combine these results using the rules of modular arithmetic for products. This problem mirrors the kind of multi-step reasoning and abstract manipulation required in fields like modern cryptography.", "problem": "A central operation in certain modern public-key cryptographic protocols involves the computation of modular inverses of factorial expressions. Let $p$ be a prime number such that $p > 5$. Your task is to compute the modular inverse of the integer $V = (p-2)! \\times (p-4)!$ with respect to the modulus $p$.\n\nProvide the answer as the smallest non-negative integer that is congruent to this inverse modulo $p$.", "solution": "Let $p$ be a prime with $p>5$ and define $V=(p-2)!\\,(p-4)!$ modulo $p$. By Wilsonâ€™s theorem, $(p-1)!\\equiv -1 \\pmod p$.\n\nFirst, compute $(p-2)!$ modulo $p$ using $(p-1)!=(p-1)(p-2)!$:\n$$(p-1)(p-2)!\\equiv -1 \\pmod p.$$\nSince $p\\nmid (p-1)$ and $(p-1)\\equiv -1 \\pmod p$, we have $(p-1)^{-1}\\equiv -1 \\pmod p$, hence\n$$(p-2)!\\equiv (p-1)!(p-1)^{-1}\\equiv (-1)\\cdot(-1)\\equiv 1 \\pmod p.$$\n\nNext, compute $(p-4)!$ modulo $p$ using $(p-1)!=(p-1)(p-2)(p-3)(p-4)!$:\n$$(-1)(-2)(-3)(p-4)!\\equiv -1 \\pmod p.$$\nThe product $(-1)(-2)(-3)=-6$, so\n$$-6\\,(p-4)!\\equiv -1 \\pmod p.$$\nMultiplying both sides by $-1$ gives\n$$6\\,(p-4)!\\equiv 1 \\pmod p.$$\nBecause $p>5$, we have $\\gcd(6,p)=1$, so $6$ is invertible modulo $p$, and thus\n$$(p-4)!\\equiv 6^{-1} \\pmod p.$$\n\nTherefore,\n$$V=(p-2)!\\,(p-4)!\\equiv 1\\cdot 6^{-1}\\equiv 6^{-1} \\pmod p.$$\nTaking inverses modulo $p$ yields\n$$V^{-1}\\equiv (6^{-1})^{-1}\\equiv 6 \\pmod p.$$\nSince $p>5$, the smallest non-negative representative is $6$.", "answer": "$$\\boxed{6}$$", "id": "1414779"}]}