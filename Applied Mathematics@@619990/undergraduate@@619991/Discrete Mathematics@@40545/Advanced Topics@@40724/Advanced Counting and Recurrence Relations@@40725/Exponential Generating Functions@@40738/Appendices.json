{"hands_on_practices": [{"introduction": "This first practice problem provides a direct application of exponential generating functions to handle parity constraints. By modeling the coloring of distinct books as a combinatorial structure, we can use the EGF for an odd number of items to quickly find the total number of valid arrangements [@problem_id:1369393]. This exercise is a great starting point for seeing how the functions $\\sinh(x)$ and $\\cosh(x)$ act as powerful tools in enumeration.", "problem": "A librarian is tasked with arranging a set of $n$ unique, newly acquired books on a single, long shelf. Before placing them, each book must be given a sticker, which can be either red or blue. The librarian must create an arrangement of all $n$ books such that the number of books with red stickers is odd. Find a closed-form expression for the total number of distinct arrangements possible, in terms of the positive integer $n$.", "solution": "We must count distinct outcomes that specify both an ordering of the $n$ distinct books on a line and, for each book, a sticker color (red or blue), subject to the constraint that the number of red stickers is odd.\n\nFirst, for the ordering: since the books are distinct, there are $n!$ possible permutations.\n\nSecond, for the sticker assignments: each book can independently be assigned red or blue, giving $2^{n}$ total colorings. Let $E$ be the number of colorings with an even number of red stickers and $O$ be the number with an odd number of red stickers. By the binomial theorem,\n$$\n(1+1)^{n}=\\sum_{k=0}^{n}\\binom{n}{k}=2^{n},\n$$\nand by evaluating $(1-1)^{n}$,\n$$\n(1-1)^{n}=\\sum_{k=0}^{n}(-1)^{k}\\binom{n}{k}=0.\n$$\nWriting $E=\\sum_{k\\ \\text{even}}\\binom{n}{k}$ and $O=\\sum_{k\\ \\text{odd}}\\binom{n}{k}$, the two identities give the system\n$$\nE+O=2^{n},\\qquad E-O=0.\n$$\nSolving, we obtain $E=O=2^{n-1}$. Therefore, the number of valid colorings (with an odd number of red stickers) is $2^{n-1}$.\n\nSince the choice of coloring and the choice of ordering are independent, the total number of distinct arrangements is the product\n$$\nn!\\cdot 2^{n-1}.\n$$", "answer": "$$\\boxed{2^{n-1}n!}$$", "id": "1369393"}, {"introduction": "Building on the previous example, this problem explores how to manage multiple simultaneous constraints on different elements within a sequence. You will construct an EGF that incorporates an 'even' constraint for one digit and an 'odd' constraint for another, while leaving a third unrestricted [@problem_id:1369372]. Solving this problem demonstrates the versatility of the product rule for EGFs, where each component of the generating function corresponds to a specific property of the items being arranged.", "problem": "Consider sequences of length $n$ formed using the digits from the set $\\{0, 1, 2\\}$. We are interested in constructing sequences that satisfy two specific conditions:\n1. The digit '0' must appear an even number of times.\n2. The digit '1' must appear an odd number of times.\nThere are no restrictions on the number of times the digit '2' can appear.\n\nFind a closed-form expression for the total number of such sequences of length $n$, where $n$ is a positive integer.", "solution": "Let $a$ be the number of zeros and $b$ be the number of ones in a length-$n$ sequence over $\\{0,1,2\\}$. We seek the number $N$ of sequences with $a$ even and $b$ odd.\n\nUse the parity indicator functions\n$$\n\\mathbf{1}_{\\text{$a$ even}}=\\frac{1+(-1)^{a}}{2},\\qquad \\mathbf{1}_{\\text{$b$ odd}}=\\frac{1-(-1)^{b}}{2}.\n$$\nThus\n$$\nN=\\sum_{\\text{all sequences}}\\frac{1+(-1)^{a}}{2}\\cdot\\frac{1-(-1)^{b}}{2}\n=\\frac{1}{4}\\sum_{\\text{all sequences}}\\bigl(1-(-1)^{b}+(-1)^{a}-(-1)^{a+b}\\bigr).\n$$\nDenote the four sums by\n$$\nS_{0}=\\sum 1,\\quad S_{b}=\\sum (-1)^{b},\\quad S_{a}=\\sum (-1)^{a},\\quad S_{a+b}=\\sum (-1)^{a+b}.\n$$\nSince each position independently contributes one of $\\{0,1,2\\}$, each sum can be evaluated via per-position weights and independence:\n- For $S_{0}$, each position contributes $1+1+1=3$, so $S_{0}=3^{n}$.\n- For $S_{b}$, assign weights $w(0)=1$, $w(1)=-1$, $w(2)=1$. Then per position the total weight is $1+(-1)+1=1$, hence $S_{b}=1^{n}=1$.\n- For $S_{a}$, assign weights $w(0)=-1$, $w(1)=1$, $w(2)=1$. Then per position the total weight is $(-1)+1+1=1$, hence $S_{a}=1^{n}=1$.\n- For $S_{a+b}$, assign weights $w(0)=-1$, $w(1)=-1$, $w(2)=1$. Then per position the total weight is $(-1)+(-1)+1=-1$, hence $S_{a+b}=(-1)^{n}$.\n\nTherefore,\n$$\nN=\\frac{1}{4}\\bigl(S_{0}-S_{b}+S_{a}-S_{a+b}\\bigr)\n=\\frac{1}{4}\\bigl(3^{n}-1+1-(-1)^{n}\\bigr)\n=\\frac{3^{n}-(-1)^{n}}{4}.\n$$\nThis is the desired closed-form expression for all positive integers $n$.", "answer": "$$\\boxed{\\frac{3^{n}-(-1)^{n}}{4}}$$", "id": "1369372"}, {"introduction": "Our final practice problem tackles a common combinatorial challenge: ensuring every category is used at least once. This type of problem, which involves counting surjective functions, can be solved elegantly using the EGF for non-empty sets, $e^x - 1$ [@problem_id:1369365]. This exercise showcases how EGFs provide a streamlined alternative to methods like the Principle of Inclusion-Exclusion for certain counting problems.", "problem": "A video game designer is creating a new level that consists of $n$ distinct challenges. Each of these challenges must be categorized as exactly one of three types: a Puzzle, a Combat encounter, or a Trap. To ensure a balanced and engaging experience for the player, the design blueprint for the level mandates that there must be at least one challenge of each of the three types.\n\nYour task is to determine the total number of distinct ways the designer can categorize the $n$ challenges according to these rules. Provide a closed-form analytic expression for this number in terms of $n$.", "solution": "We model the categorization as a function from the set of $n$ distinct challenges to the set of three labeled types $\\{P, C, T\\}$ (Puzzle, Combat, Trap). The requirement that each type appears at least once means the function must be surjective.\n\nThe total number of functions from an $n$-element set to a $3$-element set is $3^{n}$. We subtract those assignments that miss at least one type. Let $A_{P}$ be the set of assignments with no Puzzle, $A_{C}$ with no Combat, and $A_{T}$ with no Trap. Then\n$$\n|A_{P}| = |A_{C}| = |A_{T}| = 2^{n},\n$$\nsince each challenge then has only two choices.\n\nBy the inclusion-exclusion principle,\n$$\n|A_{P} \\cup A_{C} \\cup A_{T}| = \\sum |A_{i}| - \\sum |A_{i} \\cap A_{j}| + |A_{P} \\cap A_{C} \\cap A_{T}|.\n$$\nFor distinct $i,j$, $|A_{i} \\cap A_{j}| = 1^{n}$, because only one type remains and every challenge must be assigned that single type; there are $\\binom{3}{2} = 3$ such intersections. The triple intersection is empty, so $|A_{P} \\cap A_{C} \\cap A_{T}| = 0$. Therefore,\n$$\n|A_{P} \\cup A_{C} \\cup A_{T}| = 3 \\cdot 2^{n} - 3 \\cdot 1^{n} + 0 = 3 \\cdot 2^{n} - 3.\n$$\nHence the number of valid assignments (surjections) is\n$$\n3^{n} - |A_{P} \\cup A_{C} \\cup A_{T}| = 3^{n} - \\left(3 \\cdot 2^{n} - 3\\right) = 3^{n} - 3 \\cdot 2^{n} + 3.\n$$\nThis also equals $3! \\, S(n,3)$, where $S(n,3)$ is the Stirling number of the second kind, and its closed form simplifies to the same expression.", "answer": "$$\\boxed{3^{n} - 3 \\cdot 2^{n} + 3}$$", "id": "1369365"}]}