{"hands_on_practices": [{"introduction": "This first exercise is about rolling up your sleeves and working directly with the fundamental recurrence relation that defines Stirling numbers of the second kind. By calculating a specific value like $S(n,k)$ from its base cases, you will gain a concrete understanding of how these numbers are constructed. This foundational skill is essential before tackling more complex partitioning problems. [@problem_id:491243]", "problem": "Compute the Stirling number of the second kind $S(5,3)$.  \nThe Stirling number of the second kind $S(n,k)$ counts the number of ways to partition a set of $n$ distinct objects into $k$ non-empty unlabeled subsets.", "solution": "We use the Stirling numbers recurrence for $n,k\\ge1$,\n$$ S(n,k) = k\\,S(n-1,k) + S(n-1,k-1), $$\nwith $S(0,0)=1$, $S(n,0)=0$ for $n>0$, and $S(n,k)=0$ for $k>n$.\n\nBase evaluations yield\n$$ S(1,1)=1,\\quad S(2,1)=1\\cdot S(1,1)+S(1,0)=1,\\quad S(2,2)=2\\cdot S(1,2)+S(1,1)=1. $$\n\nThen\n$$ S(3,2)=2\\,S(2,2)+S(2,1)=2\\cdot1+1=3,\\quad S(3,3)=3\\,S(2,3)+S(2,2)=1. $$\n\nNext\n$$ S(4,2)=2\\,S(3,2)+S(3,1)=2\\cdot3+1=7,\\quad S(4,3)=3\\,S(3,3)+S(3,2)=3\\cdot1+3=6. $$\n\nFinally\n$$ S(5,3)=3\\,S(4,3)+S(4,2)=3\\cdot6+7=25. $$", "answer": "$$\\boxed{25}$$", "id": "491243"}, {"introduction": "Real-world problems often come with constraints, and this practice scenario moves beyond simple calculation to conceptual problem-solving. You are asked to count partitions where certain elements must stick together, a common requirement in network design or resource allocation. Mastering the elegant \"element fusion\" technique demonstrated here will allow you to simplify and solve a wide class of constrained combinatorial problems by reducing them to a more basic form. [@problem_id:1402123]", "problem": "A software architect is planning the deployment of $n$ distinct software modules onto $k$ identical, indistinguishable data centers. The deployment plan must satisfy two conditions:\n1. Every data center must host at least one module.\n2. Due to a tight coupling, two specific modules, let's call them module $M_1$ and module $M_2$, must be placed in the same data center.\n\nLet $S(p, q)$ denote the Stirling number of the second kind, which represents the number of ways to partition a set of $p$ distinct items into $q$ non-empty, indistinguishable sets.\n\nFind an expression for the total number of distinct deployment configurations in terms of $n$, $k$, and the function $S$. Assume that $n \\ge 3$ and $2 \\le k < n$.", "solution": "We interpret a deployment configuration as a partition of the set of $n$ distinct modules into $k$ non-empty, indistinguishable blocks (data centers). Without constraints, that number is $S(n,k)$ by definition of Stirling numbers of the second kind.\n\nImpose the constraint that modules $M_{1}$ and $M_{2}$ must be in the same block. Construct a bijection between:\n- the set of partitions of the $n$ modules into $k$ non-empty indistinguishable blocks with $M_{1}$ and $M_{2}$ in the same block, and\n- the set of partitions of $n-1$ objects into $k$ non-empty indistinguishable blocks.\n\nDefine a fused object $X=\\{M_{1},M_{2}\\}$. Let $U=\\{M_{1},M_{2},M_{3},\\dots,M_{n}\\}$ and $U'=\\{X,M_{3},\\dots,M_{n}\\}$, so $|U'|=n-1$. Given any partition of $U$ into $k$ non-empty indistinguishable blocks in which $M_{1}$ and $M_{2}$ lie in the same block, replace that block by the block where $X$ substitutes for $\\{M_{1},M_{2}\\}$; all other blocks remain unchanged. This produces a partition of $U'$ into $k$ non-empty indistinguishable blocks.\n\nConversely, given any partition of $U'$ into $k$ non-empty indistinguishable blocks, expand $X$ back into $M_{1}$ and $M_{2}$ within its block, obtaining a partition of $U$ into $k$ non-empty indistinguishable blocks with $M_{1}$ and $M_{2}$ together.\n\nThese two mappings are inverses of each other, so the sets are in bijection. Therefore, the number of valid deployment configurations equals the number of partitions of $n-1$ distinct objects into $k$ non-empty indistinguishable blocks, which is $S(n-1,k)$. The given condition $2 \\le k < n$ ensures $k \\le n-1$, so $S(n-1,k)$ is well-defined and nonzero in the feasible regime.\n\nHence, the total number of distinct deployment configurations is $S(n-1,k)$.", "answer": "$$\\boxed{S(n-1,k)}$$", "id": "1402123"}, {"introduction": "This final challenge pushes your problem-solving skills further by imposing the opposite constraint: certain elements must be kept apart. Such \"forbidden arrangement\" problems often require a powerful and systematic approach to count correctly. This exercise introduces the Principle of Inclusion-Exclusion as a method to count valid partitions by starting with the total and systematically subtracting the invalid ones, integrating your knowledge of Stirling numbers with another core combinatorial principle. [@problem_id:1402109]", "problem": "In combinatorial mathematics, a partition of a set $S$ is a way of breaking it into non-empty, pairwise disjoint subsets called blocks, such that the union of these blocks is the set $S$. For instance, $\\{\\{1, 3\\}, \\{2\\}, \\{4, 5\\}\\}$ is a partition of the set $\\{1, 2, 3, 4, 5\\}$ into three blocks.\n\nConsider a set $S$ containing $n=7$ distinct elements. We are interested in partitioning this set into exactly $k=5$ non-empty blocks. However, this partitioning process is subject to a specific constraint: a pre-selected subset $M \\subset S$, containing $m=3$ of the elements, must have its members placed in distinct blocks. That is, no two elements from the subset $M$ can appear in the same block of the partition.\n\nYour task is to calculate the total number of such valid partitions.", "solution": "Let $S$ be a set of size $n=7$ and let $M \\subset S$ be a fixed subset of size $m=3$. We seek the number of partitions of $S$ into exactly $k=5$ non-empty blocks such that the elements of $M$ lie in distinct blocks.\n\nLet $\\left\\{ {n \\atop k} \\right\\}$ denote the Stirling numbers of the second kind, the number of partitions of an $n$-element set into $k$ non-empty blocks. Let $U$ be the set of all partitions of $S$ into $5$ blocks, so $|U|=\\left\\{ {7 \\atop 5} \\right\\}$.\n\nFor each unordered pair $\\{a,b\\} \\subset M$, define the event $E_{ab}$ that $a$ and $b$ lie in the same block. We want partitions avoiding all such events. By the principle of inclusion-exclusion,\n$$\n|U \\setminus (E_{12} \\cup E_{13} \\cup E_{23})|\n= |U| - \\sum |E_{ab}| + \\sum |E_{ab} \\cap E_{a'b'}| - |E_{12} \\cap E_{13} \\cap E_{23}|.\n$$\nIf a specific pair from $M$ must be together, we can identify that pair as one super-element; this reduces the effective number of items to $7-1=6$, with still $5$ blocks. Hence $|E_{ab}|=\\left\\{ {6 \\atop 5} \\right\\}$. There are $3$ such pairs.\n\nAny intersection of two distinct pair events among $\\{E_{12},E_{13},E_{23}\\}$ forces all three elements of $M$ to be in the same block, which corresponds to identifying all three into one super-element, reducing the effective number of items to $7-(3-1)=5$, with $5$ blocks. Thus $|E_{ab} \\cap E_{a'b'}|=\\left\\{ {5 \\atop 5} \\right\\}$. There are $3$ such double intersections. The triple intersection likewise corresponds to all three together, so $|E_{12} \\cap E_{13} \\cap E_{23}|=\\left\\{ {5 \\atop 5} \\right\\}$.\n\nTherefore,\n$$\n\\text{desired count}\n= \\left\\{ {7 \\atop 5} \\right\\} - 3 \\left\\{ {6 \\atop 5} \\right\\} + 3 \\left\\{ {5 \\atop 5} \\right\\} - \\left\\{ {5 \\atop 5} \\right\\}\n= \\left\\{ {7 \\atop 5} \\right\\} - 3 \\left\\{ {6 \\atop 5} \\right\\} + 2 \\left\\{ {5 \\atop 5} \\right\\}.\n$$\n\nWe now evaluate the Stirling numbers using the recurrence $\\left\\{ {n \\atop k} \\right\\} = k \\left\\{ {n-1 \\atop k} \\right\\} + \\left\\{ {n-1 \\atop k-1} \\right\\}$ with base values $\\left\\{ {n \\atop 1} \\right\\} = 1$, $\\left\\{ {n \\atop n} \\right\\} = 1$:\n- $\\left\\{ {5 \\atop 5} \\right\\} = 1$.\n- $\\left\\{ {5 \\atop 4} \\right\\} = 4 \\left\\{ {4 \\atop 4} \\right\\} + \\left\\{ {4 \\atop 3} \\right\\} = 4 \\cdot 1 + 6 = 10$.\n- $\\left\\{ {5 \\atop 3} \\right\\} = 3 \\left\\{ {4 \\atop 3} \\right\\} + \\left\\{ {4 \\atop 2} \\right\\} = 3 \\cdot 6 + 7 = 25$.\n- $\\left\\{ {6 \\atop 5} \\right\\} = 5 \\left\\{ {5 \\atop 5} \\right\\} + \\left\\{ {5 \\atop 4} \\right\\} = 5 \\cdot 1 + 10 = 15$.\n- $\\left\\{ {6 \\atop 4} \\right\\} = 4 \\left\\{ {5 \\atop 4} \\right\\} + \\left\\{ {5 \\atop 3} \\right\\} = 4 \\cdot 10 + 25 = 65$.\n- $\\left\\{ {7 \\atop 5} \\right\\} = 5 \\left\\{ {6 \\atop 5} \\right\\} + \\left\\{ {6 \\atop 4} \\right\\} = 5 \\cdot 15 + 65 = 140$.\n\nSubstituting,\n$$\n\\text{desired count} = 140 - 3 \\cdot 15 + 2 \\cdot 1 = 140 - 45 + 2 = 97.\n$$\nThus there are $97$ valid partitions.", "answer": "$$\\boxed{97}$$", "id": "1402109"}]}