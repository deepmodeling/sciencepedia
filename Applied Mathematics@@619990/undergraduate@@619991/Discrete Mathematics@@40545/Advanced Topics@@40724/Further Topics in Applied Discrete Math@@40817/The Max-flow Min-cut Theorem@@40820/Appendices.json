{"hands_on_practices": [{"introduction": "This first practice gets to the heart of the max-flow min-cut theorem. You are tasked with analyzing a simple network to find two key quantities: the maximum possible flow from a source to a sink and the capacity of the narrowest bottleneck, known as the minimum cut. By calculating both and observing their equality, you will gain a direct, hands-on confirmation of this fundamental principle and practice the core algorithms used in network flow analysis [@problem_id:1408993].", "problem": "Consider a small-scale data transmission network represented by a directed graph. The network has a source node `S`, a sink node `T`, and four intermediate routing nodes `A`, `B`, `C`, and `D`. The directed links and their corresponding maximum data carrying capacities (in arbitrary units of flow) are given as follows:\n- From `S` to `A` with capacity 10.\n- From `S` to `C` with capacity 12.\n- From `A` to `B` with capacity 7.\n- From `A` to `D` with capacity 4.\n- From `B` to `T` with capacity 10.\n- From `C` to `D` with capacity 9.\n- From `D` to `B` with capacity 3.\n- From `D` to `T` with capacity 8.\n\nAll links are one-way as specified. There are no other links in the network. The goal is to determine the throughput of this network.\n\nCalculate the value of the maximum flow from the source `S` to the sink `T`, and calculate the capacity of a minimum `S-T` cut. Provide the two integer values in the specified order: maximum flow value first, followed by the minimum cut capacity.", "solution": "Let $G=(V,E)$ be the directed graph with source $S$, sink $T$, and intermediate nodes $A,B,C,D$. For each directed edge $(u,v)\\in E$, let the capacity be $c_{uv}$ and the flow be $f_{uv}$, with $0\\leq f_{uv}\\leq c_{uv}$. Flow conservation holds at intermediate nodes: for each $v\\in\\{A,B,C,D\\}$,\n$$\n\\sum_{u:(u,v)\\in E} f_{uv}=\\sum_{w:(v,w)\\in E} f_{vw}.\n$$\nThe capacities are:\n$$\nc_{SA}=10,\\quad c_{SC}=12,\\quad c_{AB}=7,\\quad c_{AD}=4,\\quad c_{BT}=10,\\quad c_{CD}=9,\\quad c_{DB}=3,\\quad c_{DT}=8.\n$$\n\nApply the Ford–Fulkerson method using augmenting paths and residual capacities.\n\n1) Augment along the path $S\\to A\\to B\\to T$. The bottleneck is\n$$\n\\min\\{c_{SA},c_{AB},c_{BT}\\}=\\min\\{10,7,10\\}=7.\n$$\nSend $7$ units: set $f_{SA}=7$, $f_{AB}=7$, $f_{BT}=7$.\n\n2) Augment along the path $S\\to C\\to D\\to T$. The bottleneck is\n$$\n\\min\\{c_{SC},c_{CD},c_{DT}\\}=\\min\\{12,9,8\\}=8.\n$$\nSend $8$ units: set $f_{SC}=8$, $f_{CD}=8$, $f_{DT}=8$.\n\n3) Consider the path $S\\to A\\to D\\to B\\to T$ in the residual network. The current forward residual capacities on these arcs are\n$$\nr_{SA}=c_{SA}-f_{SA}=10-7=3,\\quad r_{AD}=c_{AD}-f_{AD}=4-0=4,\n$$\n$$\nr_{DB}=c_{DB}-f_{DB}=3-0=3,\\quad r_{BT}=c_{BT}-f_{BT}=10-7=3.\n$$\nThe bottleneck is $\\min\\{3,4,3,3\\}=3$. Augment $3$ units along this path: update\n$$\nf_{SA}=7+3=10,\\quad f_{AD}=0+3=3,\\quad f_{DB}=0+3=3,\\quad f_{BT}=7+3=10.\n$$\n\nCompute the total flow value after these augmentations. At the sink,\n$$\n|f|=f_{BT}+f_{DT}=10+8=18.\n$$\nAlternatively, at the source,\n$$\n|f|=f_{SA}+f_{SC}=10+8=18.\n$$\n\nVerify that no further augmenting path exists. In the residual graph, the forward residual capacities to $T$ are $r_{BT}=10-10=0$ and $r_{DT}=8-8=0$. From $S$, the reachable nodes via residual edges are $S\\to C$ (with $r_{SC}=12-8=4$), then $C\\to D$ (with $r_{CD}=9-8=1$), and also $D\\to A$ via the reverse of $A\\to D$ (with residual capacity $f_{AD}=3$), hence $A$ is reachable. Node $B$ is not reachable because $r_{AB}=7-7=0$ and $r_{DB}=3-3=0$, and $T$ is not reachable because $r_{BT}=0$ and $r_{DT}=0$. Therefore the reachable set is $R=\\{S,A,C,D\\}$.\n\nThe capacity of the cut $(R,\\overline{R})$ is the sum of capacities of edges from $R$ to $\\overline{R}=\\{B,T\\}$:\n$$\nc(R,\\overline{R})=c_{AB}+c_{DB}+c_{DT}=7+3+8=18.\n$$\nBy the max-flow min-cut theorem, the maximum flow equals the minimum cut capacity, which matches the constructed flow value. Hence the maximum $S$–$T$ flow is $18$ and the minimum cut capacity is $18$.", "answer": "$$\\boxed{\\begin{pmatrix} 18 & 18 \\end{pmatrix}}$$", "id": "1408993"}, {"introduction": "Building on the foundational skill of calculation, this exercise explores a more nuanced and elegant aspect of network flows. We investigate a scenario where the flow direction is completely reversed, a concept relevant to fields from reverse logistics to contingency planning. This problem encourages you to look beyond simple computation and consider the structural symmetry of the network, revealing a powerful insight offered by the max-flow min-cut theorem about the relationship between a network and its reverse [@problem_id:1409007].", "problem": "A logistics company operates a directed shipping network consisting of a central factory ($s$), a main warehouse ($t$), and four regional centers ($a, b, c, d$). The network is composed of one-way shipping lanes, each with a maximum capacity given in units of product per hour. The established shipping lanes and their capacities are as follows:\n\n- From factory $s$ to center $a$: 10 units/hour\n- From factory $s$ to center $b$: 8 units/hour\n- From center $a$ to center $c$: 5 units/hour\n- From center $a$ to center $d$: 6 units/hour\n- From center $b$ to center $c$: 4 units/hour\n- From center $b$ to center $d$: 5 units/hour\n- From center $c$ to warehouse $t$: 9 units/hour\n- From center $d$ to warehouse $t$: 7 units/hour\n\nDue to a general product recall, the company needs to ship products backward through the network, from the main warehouse $t$ to the factory $s$. For any existing shipping lane from a location $U$ to a location $V$ with capacity $C$, a corresponding return lane from $V$ to $U$ can be established with the same capacity $C$.\n\nDetermine the maximum possible rate, in units per hour, at which products can be shipped from the warehouse $t$ back to the factory $s$.", "solution": "We are asked for the maximum possible shipment rate from the warehouse $t$ back to the factory $s$ when every original arc can be used in reverse with the same capacity. Let $G$ be the original directed network with source $s$ and sink $t$, and $G'$ be the network obtained by reversing every arc of $G$ while keeping capacities unchanged. The required value is the maximum $t$-to-$s$ flow in $G'$.\n\nBy the max-flow min-cut theorem and the correspondence of cuts under arc reversal: for any $s$-$t$ cut $(S,T)$ in $G$, the partition $(T,S)$ is a $t$-$s$ cut in $G'$, and the capacity of the cut is preserved because arcs from $S$ to $T$ in $G$ correspond to arcs from $T$ to $S$ in $G'$. Therefore, the maximum $t$-to-$s$ flow in $G'$ equals the maximum $s$-to-$t$ flow in $G$. Hence, it suffices to compute the max flow from $s$ to $t$ in the original network.\n\nList of capacities in $G$:\n- $s \\to a$: $10$, $s \\to b$: $8$.\n- $a \\to c$: $5$, $a \\to d$: $6$.\n- $b \\to c$: $4$, $b \\to d$: $5$.\n- $c \\to t$: $9$, $d \\to t$: $7$.\n\nFirst, establish an upper bound using cut capacities:\n- Total capacity into $t$ is $c \\to t$ plus $d \\to t$, which is $9 + 7 = 16$, so any $s$-to-$t$ flow satisfies\n$$\n|f| \\leq 16.\n$$\n\nNext, construct a feasible flow of value $16$ that respects all capacities and conservation:\nChoose the following flows:\n$$\nf_{sa} = 10,\\quad f_{sb} = 6,\n$$\n$$\nf_{ac} = 5,\\quad f_{ad} = 5,\n$$\n$$\nf_{bc} = 4,\\quad f_{bd} = 2,\n$$\n$$\nf_{ct} = 9,\\quad f_{dt} = 7.\n$$\nCapacity checks:\n- On arcs out of $s$: $f_{sa} = 10 \\leq 10$, $f_{sb} = 6 \\leq 8$.\n- Middle arcs: $f_{ac} = 5 \\leq 5$, $f_{ad} = 5 \\leq 6$, $f_{bc} = 4 \\leq 4$, $f_{bd} = 2 \\leq 5$.\n- Into $t$: $f_{ct} = 9 \\leq 9$, $f_{dt} = 7 \\leq 7$.\n\nFlow conservation at intermediate nodes:\n- At $a$: inflow $f_{sa} = 10$, outflow $f_{ac} + f_{ad} = 5 + 5 = 10$.\n- At $b$: inflow $f_{sb} = 6$, outflow $f_{bc} + f_{bd} = 4 + 2 = 6$.\n- At $c$: inflow $f_{ac} + f_{bc} = 5 + 4 = 9$, outflow $f_{ct} = 9$.\n- At $d$: inflow $f_{ad} + f_{bd} = 5 + 2 = 7$, outflow $f_{dt} = 7$.\n\nThus, this flow is feasible and has value\n$$\n|f| = f_{ct} + f_{dt} = 9 + 7 = 16,\n$$\nwhich meets the upper bound. Therefore, the maximum $s$-to-$t$ flow in $G$ is $16$, and by the cut-preserving reversal argument, the maximum $t$-to-$s$ flow in $G'$ (the return network) is also $16$.\n\nHence, the maximum possible rate of shipping from $t$ back to $s$ is $16$ units per hour.", "answer": "$$\\boxed{16}$$", "id": "1409007"}, {"introduction": "The ultimate value of theoretical results like the max-flow min-cut theorem is their ability to guide practical decisions. This final practice moves from mere calculation to strategic optimization, challenging you to analyze a network and determine which single upgrade offers the best return on investment. By identifying the critical bottleneck that most limits the network's capacity, you will apply the theorem to make an informed decision, a crucial skill in real-world system design and resource management [@problem_id:1408979].", "problem": "A technology company is analyzing its internal data processing network, which can be modeled as a directed graph. The network consists of a source node `S`, where data originates, a sink node `T`, where data is ultimately stored, and several intermediate processing nodes `A`, `B`, `C`, and `D`. Data flows along directed links (edges), each having a maximum capacity, measured in Terabytes per hour (TB/h). The network structure and link capacities are as follows:\n\n- From S to A: 10 TB/h\n- From S to B: 8 TB/h\n- From A to C: 7 TB/h\n- From A to D: 4 TB/h\n- From B to C: 5 TB/h\n- From B to D: 6 TB/h\n- From C to T: 12 TB/h\n- From D to T: 9 TB/h\n\nThe company wishes to upgrade a single link in the network to increase its data-handling capacity. Assume that the capacity of the chosen link can be increased by any arbitrary amount, effectively removing it as a bottleneck. Which one of the following link upgrades would result in the greatest increase in the total maximum data flow from the source `S` to the sink `T`?\n\nA. The link from S to A\n\nB. The link from S to B\n\nC. The link from A to C\n\nD. The link from C to T\n\nE. The link from B to D", "solution": "Let the directed edges and their capacities be denoted by $c_{SA}=10$, $c_{SB}=8$, $c_{AC}=7$, $c_{AD}=4$, $c_{BC}=5$, $c_{BD}=6$, $c_{CT}=12$, $c_{DT}=9$. By the max-flow min-cut theorem, the maximum $S$-$T$ flow equals the minimum capacity among all $S$-$T$ cuts.\n\nOriginal network: The cut $\\{S\\}$ has capacity\n$$\nc_{SA}+c_{SB}=10+8=18,\n$$\nso the max flow is at most $18$. A feasible flow of $18$ exists by sending $10$ from $S$ to $A$ and $8$ from $S$ to $B$, then $A\\to C$ with $7$, $A\\to D$ with $3$, $B\\to C$ with $5$, $B\\to D$ with $3$, and finally $C\\to T$ with $12$ and $D\\to T$ with $6$. Hence the original maximum flow is $18$.\n\nNow consider each upgrade, where the chosen edge capacity is made arbitrarily large (effectively unbounded).\n\nA. Upgrade $S\\to A$: The cut $\\{S,A\\}$ has capacity\n$$\nc_{SB}+c_{AC}+c_{AD}=8+7+4=19,\n$$\nso the new max flow is at most $19$. It is achievable by saturating $A\\to C$ with $7$, $A\\to D$ with $4$, $B\\to C$ with $5$, $B\\to D$ with $3$, yielding $C\\to T=12$ and $D\\to T=7$, totaling $19$. Thus the new maximum flow is $19$, an increase of $1$.\n\nB. Upgrade $S\\to B$: The cut $\\{S,B\\}$ has capacity\n$$\nc_{SA}+c_{BC}+c_{BD}=10+5+6=21,\n$$\nand the total sink capacity is $c_{CT}+c_{DT}=12+9=21$, so the new max flow is at most $21$. It is achievable by sending $A\\to C=7$, $A\\to D=3$, $B\\to C=5$, $B\\to D=6$, yielding $C\\to T=12$ and $D\\to T=9$, totaling $21$. Thus the new maximum flow is $21$, an increase of $3$.\n\nC. Upgrade $A\\to C$: The cut $\\{S\\}$ remains at capacity $c_{SA}+c_{SB}=18$, hence the max flow cannot exceed $18$. Therefore there is no increase.\n\nD. Upgrade $C\\to T$: The cut $\\{S\\}$ still has capacity $18$, so the max flow remains at most $18$. Therefore there is no increase.\n\nE. Upgrade $B\\to D$: The cut $\\{S\\}$ still has capacity $18$, so the max flow remains at most $18$. Therefore there is no increase.\n\nComparing the increases: A gives $+1$, B gives $+3$, C, D, and E give $+0$. The greatest increase is achieved by upgrading $S\\to B$.", "answer": "$$\\boxed{B}$$", "id": "1408979"}]}