{"hands_on_practices": [{"introduction": "Hall's Marriage Theorem provides more than just a yes-or-no answer about the existence of a perfect matching; it offers a diagnostic tool. When a complete matching is impossible, the theorem guarantees the existence of a specific \"bottleneck\"â€”a subset of one partition that has fewer neighbors than its own size. This first exercise [@problem_id:1373128] asks you to put this principle into practice by identifying such a \"violating set\" in a real-world staffing scenario, making the abstract condition concrete.", "id": "1373128", "problem": "A project manager at a technology firm is trying to assign a team of six specialized programmers to six distinct high-priority tasks. To ensure the project can be fully staffed, each programmer must be assigned to a unique task for which they are qualified. The set of programmers is $P = \\{P_A, P_B, P_C, P_D, P_E, P_F\\}$ and the set of tasks is $T = \\{T_1, T_2, T_3, T_4, T_5, T_6\\}$.\n\nAn assignment where every programmer is matched to a unique, suitable task is possible if and only if the scenario satisfies Hall's Marriage Condition. This condition states that for any subset of programmers $A \\subseteq P$, the number of unique tasks they are collectively qualified for, denoted as $|N(A)|$, must be greater than or equal to the number of programmers in that subset, $|A|$. If this condition is violated for any subset $A$, a complete assignment is impossible.\n\nThe qualifications of the programmers for the tasks are as follows:\n-   $P_A$ is qualified for tasks $\\{T_1, T_2\\}$.\n-   $P_B$ is qualified for tasks $\\{T_1, T_2\\}$.\n-   $P_C$ is qualified for task $\\{T_2\\}$.\n-   $P_D$ is qualified for tasks $\\{T_3, T_4, T_5\\}$.\n-   $P_E$ is qualified for tasks $\\{T_4, T_5, T_6\\}$.\n-   $P_F$ is qualified for tasks $\\{T_1, T_6\\}$.\n\nIdentify all subsets of programmers from the options below that violate Hall's Marriage Condition, thus proving that a complete assignment is impossible.\n\nA. $\\{P_A, P_B, P_C\\}$\nB. $\\{P_D, P_E\\}$\nC. $\\{P_A, P_F\\}$\nD. $\\{P_A, P_B, P_C, P_F\\}$\nE. $\\{P_C, P_D, P_E\\}$\n\n", "solution": "Hall's Marriage Theorem states that a perfect matching exists if and only if for every subset $A \\subseteq P$, the inequality $|N(A)| \\geq |A|$ holds, where $N(A)$ is the set of tasks that at least one programmer in $A$ is qualified to perform. A subset violates Hall's condition precisely when $|N(A)|<|A|$.\n\nConsider option A with $A=\\{P_{A},P_{B},P_{C}\\}$. From the qualifications, $P_{A}$ and $P_{B}$ are qualified for $\\{T_{1},T_{2}\\}$ and $P_{C}$ is qualified for $\\{T_{2}\\}$. Hence $N(A)=\\{T_{1},T_{2}\\}$, so $|N(A)|=2$ while $|A|=3$. Since $2<3$, this subset violates Hall's condition.\n\nConsider option B with $A=\\{P_{D},P_{E}\\}$. We have $P_{D}$ qualified for $\\{T_{3},T_{4},T_{5}\\}$ and $P_{E}$ for $\\{T_{4},T_{5},T_{6}\\}$, giving $N(A)=\\{T_{3},T_{4},T_{5},T_{6}\\}$. Thus $|N(A)|=4$ and $|A|=2$, so $4 \\geq 2$, which does not violate Hall's condition.\n\nConsider option C with $A=\\{P_{A},P_{F}\\}$. Then $N(A)=\\{T_{1},T_{2}\\} \\cup \\{T_{1},T_{6}\\}=\\{T_{1},T_{2},T_{6}\\}$, so $|N(A)|=3$ and $|A|=2$, hence $3 \\geq 2$, which does not violate Hall's condition.\n\nConsider option D with $A=\\{P_{A},P_{B},P_{C},P_{F}\\}$. Using previous unions, $N(\\{P_{A},P_{B},P_{C}\\})=\\{T_{1},T_{2}\\}$ and adding $P_{F}$ with $\\{T_{1},T_{6}\\}$ yields $N(A)=\\{T_{1},T_{2},T_{6}\\}$. Thus $|N(A)|=3$ and $|A|=4$, so $3<4$, which violates Hall's condition.\n\nConsider option E with $A=\\{P_{C},P_{D},P_{E}\\}$. The union is $\\{T_{2}\\} \\cup \\{T_{3},T_{4},T_{5}\\} \\cup \\{T_{4},T_{5},T_{6}\\}=\\{T_{2},T_{3},T_{4},T_{5},T_{6}\\}$. Hence $|N(A)|=5$ and $|A|=3$, so $5 \\geq 3$, which does not violate Hall's condition.\n\nTherefore, the subsets that violate Hall's condition are those in options A and D.", "answer": "$$\\boxed{AD}$$"}, {"introduction": "Having seen how to identify a failure, we now turn to proving a guarantee. Sometimes, a simple, local property of a graph can ensure a complex, global property like the existence of a perfect matching. This exercise [@problem_id:1373120] explores this idea in the context of $k$-regular bipartite graphs, where every node has the same number of connections. You will discover a surprisingly general condition on the regularity parameter $k$ that is sufficient to guarantee a perfect matching is always possible.", "id": "1373120", "problem": "A technology consulting firm is organizing a major project by pairing up teams from its Analytics division and its Business division. There are $n$ teams in the Analytics division, forming the set $A = \\{a_1, a_2, \\ldots, a_n\\}$, and $n$ teams in the Business division, forming the set $B = \\{b_1, b_2, \\ldots, b_n\\}$.\n\nDue to specific skillsets and project requirements, not every Analytics team can work with every Business team. The compatibility relationships can be modeled as a bipartite graph $G$ with partitions $A$ and $B$. An edge exists between an Analytics team $a_i$ and a Business team $b_j$ if and only if they are compatible.\n\nThe firm's goal is to form $n$ distinct pairs $(a_i, b_j)$, where each pair consists of compatible teams, such that every team from both divisions is part of exactly one pair. This arrangement is known as a perfect matching in the compatibility graph.\n\nSuppose the compatibility graph has a particular regular structure: every team, regardless of its division, is compatible with exactly $k$ teams from the other division, where $k$ is a positive integer. This means the graph is $k$-regular.\n\nWhich of the following statements provides the necessary and sufficient condition on the positive integer $k$ for such a perfect matching to *always* be guaranteed, for any such $k$-regular compatibility graph with $n$ teams in each division?\n\nA. A perfect matching is guaranteed to exist only if $k=n$.\nB. A perfect matching is guaranteed to exist only if $k$ is a divisor of $n$.\nC. A perfect matching is guaranteed to exist for any positive integer $k \\ge 1$.\nD. A perfect matching is guaranteed to exist only if $k \\ge n/2$.\nE. A perfect matching is guaranteed to exist only if the compatibility graph is connected.\n\n", "solution": "Let $G$ be a bipartite graph with bipartition $A$ and $B$, where $|A|=|B|=n$, and suppose $G$ is $k$-regular, meaning every vertex in $A \\cup B$ has degree exactly $k$, with $k$ a positive integer. We will show that for any such $k \\ge 1$, a perfect matching is always guaranteed, and that no stronger condition on $k$ is needed.\n\nBy Hall's Marriage Theorem, a bipartite graph with bipartition $A,B$ has a matching that saturates $A$ if and only if for every subset $S \\subseteq A$, the neighborhood $N(S) \\subseteq B$ satisfies $|N(S)| \\ge |S|$. Since $|A|=|B|$, any matching that saturates $A$ is a perfect matching.\n\nFix any $S \\subseteq A$. Consider the number of edges between $S$ and $N(S)$, denoted $e(S,N(S))$. Because each vertex in $S$ has degree $k$ and all of its neighbors lie in $B$, and by the definition of $N(S)$ all those neighbors are contained in $N(S)$, we have\n$$\ne(S,N(S)) = k|S|.\n$$\nOn the other hand, each vertex in $N(S)$ has total degree $k$, so it can be incident to at most $k$ edges coming from $S$. Therefore,\n$$\ne(S,N(S)) \\le k|N(S)|.\n$$\nCombining the two equalities/inequalities gives\n$$\nk|S| \\le k|N(S)|.\n$$\nSince $k \\ge 1$, dividing both sides by $k$ yields\n$$\n|S| \\le |N(S)|.\n$$\nThus Hall's condition holds for every $S \\subseteq A$, and so there exists a matching that saturates $A$. Because $|A|=|B|$, this matching is a perfect matching.\n\nThis proves that for any positive integer $k \\ge 1$, every $k$-regular bipartite graph with $n$ vertices on each side has a perfect matching. Conversely, if $k=0$, there are no edges and hence no perfect matching, so $k \\ge 1$ is necessary for the guarantee. Therefore, the necessary and sufficient condition on $k$ for a perfect matching to always be guaranteed in any such $k$-regular compatibility graph is simply that $k$ be any positive integer.\n\nEvaluating the options:\n- A is false since $k=n$ is not necessary; for example, $k=1$ works.\n- B is false since no divisibility condition between $k$ and $n$ is needed.\n- C is true by the argument above.\n- D is false since $k$ can be less than $n/2$ (e.g., $k=1$) and still guarantee a perfect matching.\n- E is false since connectedness is not required; the guarantee holds regardless of connectedness.\n\nHence, the correct choice is C.", "answer": "$$\\boxed{C}$$"}, {"introduction": "The power of Hall's Condition lies in its universality: it must hold for *every* possible subset to guarantee a matching. This final practice problem [@problem_id:1510982] challenges you to explore the very edge of this requirement. By analyzing a \"near-miss\" scenario where the condition holds for every smaller group but fails precisely for the entire set, you can pinpoint the exact structural weakness that prevents a full matching and deepen your understanding of why the theorem is so precisely formulated.", "id": "1510982", "problem": "A university's Computer Science department is organizing its annual project fair. There are $n \\ge 2$ student groups, denoted by the set $U = \\{u_1, \\dots, u_n\\}$, and an equal number of presentation booths, $V = \\{v_1, \\dots, v_n\\}$. The main goal is to assign each student group to a unique booth.\n\nThe assignment process is constrained by the technical requirements of the projects. Specifically, a subset of $k$ booths, $\\{v_1, \\dots, v_k\\}$ where $1 \\le k < n$, are designated as \"high-power\" booths. Due to a system-wide hardware compatibility issue, every student group's project is found to be compatible *only* with these high-power booths. An assignment of a group to a booth is only valid if the booth is one it is compatible with.\n\nThe department head observes two conflicting properties of this setup:\n1. It is impossible to assign every student group to its own unique booth.\n2. For any smaller collection of groups (i.e., for any proper non-empty subset of groups $S \\subset U$), it is always possible to assign each group in $S$ to a unique high-power booth that it is compatible with.\n\nGiven that $n$ is a fixed integer greater than or equal to 2, determine the unique integer value of $k$, expressed in terms of $n$, for which both of these properties hold.\n\n", "solution": "Model the situation as a bipartite graph with parts $U=\\{u_{1},\\dots,u_{n}\\}$ and $V=\\{v_{1},\\dots,v_{n}\\}$, where edges from $U$ go only to the $k$ high-power booths $V_{H}=\\{v_{1},\\dots,v_{k}\\}$. Thus any matching can use only vertices in $V_{H}$ on the $V$ side.\n\nProperty 1 requires that no perfect matching of $U$ exists. Since any matching uses only booths in $V_{H}$, its size is at most $|V_{H}|=k$. Hence if $k<n$, then no matching can cover all $n$ groups, so property 1 holds. Therefore $k<n$ is necessary and given.\n\nProperty 2 asserts that for every non-empty proper subset $S\\subset U$, there is a matching that saturates $S$. In particular, take $S$ with $|S|=n-1$. Any injection of $S$ into booths must use at least $|S|$ distinct booths, and all usable booths lie in $V_{H}$. Therefore a necessary condition is\n$$\n|S|=n-1\\le |V_{H}|=k,\n$$\nso $k\\ge n-1$. Combining with $k<n$ yields\n$$\nk=n-1.\n$$\n\nIt remains to see sufficiency. If $k=n-1$ and each $u_{i}$ is compatible with all booths in $V_{H}$, then for any $S\\subset U$ with $|S|\\le n-1$, Hallâ€™s condition holds since for every $T\\subseteq S$,\n$$\n|N(T)|=|V_{H}|=n-1\\ge |T|,\n$$\nso there exists a matching saturating $S$. Meanwhile, no perfect matching of $U$ exists because all edges go to only $n-1$ booths. Hence $k=n-1$ is both necessary and sufficient, and thus unique.", "answer": "$$\\boxed{n-1}$$"}]}