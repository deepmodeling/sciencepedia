{"hands_on_practices": [{"introduction": "The classic gambler's ruin problem is a cornerstone of stochastic processes, modeling a game of chance as a random walk between bankruptcy and a target fortune. This first practice [@problem_id:3056065] guides you through the fundamental case of a \"fair game,\" where the odds of winning or losing a round are equal. By conditioning on the first step, you will derive and solve the governing difference equation to find the probability of success, a result that is both elegant and powerfully intuitive.", "problem": "Consider a simple symmetric random walk (SSRW) $\\{X_n\\}_{n \\ge 0}$ on the state space $\\{0,1,\\dots,N\\}$, where $N \\in \\mathbb{N}$ and $N \\ge 2$. The process starts at $X_0=i$ for some $i \\in \\{1,\\dots,N-1\\}$, and at each step moves to $X_{n+1}=X_n+1$ with probability $1/2$ and to $X_{n+1}=X_n-1$ with probability $1/2$, independently of the past. The boundary states $0$ and $N$ are absorbing. Define the hitting times $T_0=\\inf\\{n \\ge 0: X_n=0\\}$ and $T_N=\\inf\\{n \\ge 0: X_n=N\\}$, and the hitting probability\n$$\nh(i) = \\mathbb{P}_i\\left(T_N < T_0\\right),\n$$\nwhere $\\mathbb{P}_i$ denotes probability conditioned on $X_0=i$.\n\nUsing only the Markov property and conditioning on the first step, proceed as follows:\n1. Derive the linear difference equation satisfied by $h(i)$ for interior states $i \\in \\{1,\\dots,N-1\\}$ together with the boundary conditions at $i=0$ and $i=N$.\n2. Solve the resulting boundary value problem to obtain an explicit expression for $h(i)$ in terms of $i$ and $N$.\n3. Justify the uniqueness of the solution among all functions $u:\\{0,1,\\dots,N\\}\\to\\mathbb{R}$ satisfying the same difference equation and boundary conditions, using a discrete maximum principle argument appropriate for harmonic functions on finite graphs.\n\nProvide your final answer as a single closed-form expression for $h(i)$ in terms of $i$ and $N$.", "solution": "The problem is valid as it is a well-posed, scientifically grounded, and objective question from the theory of stochastic processes. It is a classic problem concerning hitting probabilities for a simple symmetric random walk on a finite interval. We proceed with the solution, following the three steps specified in the problem statement.\n\nThe quantity to be determined is the probability $h(i) = \\mathbb{P}_i(T_N < T_0)$, which is the probability that the random walk starting from state $i$ hits state $N$ before hitting state $0$. Here, the state space is $\\{0, 1, \\dots, N\\}$ with $0$ and $N$ being absorbing boundaries, and the starting state $i$ is in the interior, i.e., $i \\in \\{1, \\dots, N-1\\}$.\n\n1. Derivation of the linear difference equation and boundary conditions.\n\nWe derive the equation for $h(i)$ by conditioning on the first step of the random walk, using the law of total probability and the Markov property. Starting from state $i \\in \\{1, \\dots, N-1\\}$, the process moves to state $i+1$ with probability $1/2$ or to state $i-1$ with probability $1/2$. Let $X_n$ denote the position at time $n$.\n$$h(i) = \\mathbb{P}(T_N < T_0 | X_0=i)$$\nConditioning on $X_1$:\n$$h(i) = \\mathbb{P}(T_N < T_0 | X_1=i+1)\\mathbb{P}(X_1=i+1|X_0=i) + \\mathbb{P}(T_N < T_0 | X_1=i-1)\\mathbb{P}(X_1=i-1|X_0=i)$$\nBy the Markov property, the probability of the process hitting $N$ before $0$ starting from $X_1=j$ is the same as if the process started from $X_0=j$. Thus, $\\mathbb{P}(T_N < T_0 | X_1=j) = h(j)$. The transition probabilities are given as $1/2$. Substituting these into the equation gives:\n$$h(i) = h(i+1) \\cdot \\frac{1}{2} + h(i-1) \\cdot \\frac{1}{2}$$\nThis equation holds for all interior states $i \\in \\{1, \\dots, N-1\\}$. Rearranging it, we obtain the second-order linear homogeneous difference equation:\n$$h(i+1) - 2h(i) + h(i-1) = 0$$\nNext, we establish the boundary conditions for $h(i)$ at $i=0$ and $i=N$.\nIf the walk starts at $i=0$, then $X_0=0$. Since $0$ is an absorbing state, the process remains at $0$ for all time. The hitting time of $0$ is $T_0 = \\inf\\{n \\ge 0: X_n=0\\} = 0$. Since $N \\ge 2$, $N \\ne 0$, so the process is not at $N$ at time $0$, meaning $T_N > 0$. Therefore, the event $T_N < T_0$ is impossible. The probability is zero:\n$$h(0) = 0$$\nIf the walk starts at $i=N$, then $X_0=N$. Since $N$ is an absorbing state, the process remains at $N$. The hitting time of $N$ is $T_N=0$. Since $i=N \\ne 0$, the hitting time of $0$ must be $T_0 > 0$. The event $T_N < T_0$ is certain. The probability is one:\n$$h(N) = 1$$\nThus, we have a boundary value problem consisting of the difference equation for $i \\in \\{1, \\dots, N-1\\}$ and the two boundary conditions.\n\n2. Solving the boundary value problem.\n\nThe difference equation $h(i+1) - 2h(i) + h(i-1) = 0$ can be rewritten as $h(i+1) - h(i) = h(i) - h(i-1)$. This indicates that the difference between consecutive values of $h(i)$ is constant. This is the defining property of an arithmetic progression. Therefore, the general solution for $h(i)$ must be a linear function of $i$:\n$$h(i) = Ai + B$$\nwhere $A$ and $B$ are constants to be determined by the boundary conditions.\nUsing the condition at $i=0$:\n$$h(0) = A \\cdot 0 + B = 0 \\implies B=0$$\nUsing the condition at $i=N$:\n$$h(N) = A \\cdot N + B = 1$$\nSubstituting $B=0$ into the second equation yields:\n$$A \\cdot N = 1 \\implies A = \\frac{1}{N}$$\nThus, the explicit expression for $h(i)$ is:\n$$h(i) = \\frac{i}{N}$$\n\n3. Justification of uniqueness.\n\nTo justify that $h(i) = i/N$ is the unique solution to the boundary value problem, we employ a discrete maximum principle argument. The equation $h(i) = \\frac{1}{2}h(i+1) + \\frac{1}{2}h(i-1)$ means that $h$ is a discrete harmonic function on the interior points $\\{1, \\dots, N-1\\}$.\nLet $u(i)$ be any function on $\\{0, 1, \\dots, N\\}$ that satisfies the same boundary value problem:\n$$u(i) = \\frac{1}{2}u(i+1) + \\frac{1}{2}u(i-1) \\quad \\text{for } i \\in \\{1, \\dots, N-1\\}$$\n$$u(0) = 0, \\quad u(N) = 1$$\nDefine the difference function $v(i) = h(i) - u(i) = \\frac{i}{N} - u(i)$. We will show that $v(i) = 0$ for all $i$.\nThe function $v(i)$ is also harmonic on the interior points, as it is a linear combination of two harmonic functions:\n$$v(i) = h(i) - u(i) = \\frac{1}{2}(h(i+1)+h(i-1)) - \\frac{1}{2}(u(i+1)+u(i-1)) = \\frac{1}{2}(v(i+1)+v(i-1))$$\nThe boundary values of $v(i)$ are:\n$$v(0) = h(0) - u(0) = 0 - 0 = 0$$\n$$v(N) = h(N) - u(N) = 1 - 1 = 0$$\nAccording to the discrete maximum principle for harmonic functions on a finite domain, the maximum value of $v(i)$ must be attained on the boundary of the domain, which is the set $\\{0, N\\}$. Let $M = \\max_{i \\in \\{0, \\dots, N\\}} v(i)$. Then:\n$$M = \\max\\{v(0), v(N)\\} = \\max\\{0, 0\\} = 0$$\nThis implies that $v(i) \\le 0$ for all $i \\in \\{0, \\dots, N\\}$.\nSimilarly, the discrete minimum principle states that the minimum value of $v(i)$ must also be attained on the boundary. Let $m = \\min_{i \\in \\{0, \\dots, N\\}} v(i)$. Then:\n$$m = \\min\\{v(0), v(N)\\} = \\min\\{0, 0\\} = 0$$\nThis implies that $v(i) \\ge 0$ for all $i \\in \\{0, \\dots, N\\}$.\nSince we have both $v(i) \\le 0$ and $v(i) \\ge 0$ for all $i$, it must be that $v(i)=0$ for all $i$. Therefore, $h(i) - u(i) = 0$, which means $u(i)=h(i)$ for all $i \\in \\{0, \\dots, N\\}$. This proves that the solution $h(i) = i/N$ is unique.", "answer": "$$\\boxed{\\frac{i}{N}}$$", "id": "3056065"}, {"introduction": "After determining the probability of winning, the next natural question is how long the game is expected to last. This exercise [@problem_id:3056089] addresses the expected duration of a fair game, or the mean absorption time of the random walk. Using a similar first-step analysis, you will set up and solve a non-homogeneous recurrence relation, revealing a key insight into how the starting position affects the expected length of the process.", "problem": "Consider a simple symmetric random walk on the finite state space $\\{0,1,\\dots,N\\}$ with absorbing boundaries at $0$ and $N$. Let $\\{X_{n}\\}_{n\\geq 0}$ denote the capital of the gambler at step $n$, starting from $X_{0}=i$ where $i\\in\\{1,2,\\dots,N-1\\}$. At each step, the gamblerâ€™s capital changes by $+1$ or $-1$ with equal probability $1/2$, independently of the past. Define the stopping time $\\tau=\\inf\\{n\\geq 0: X_{n}\\in\\{0,N\\}\\}$, the first hitting time of the absorbing set $\\{0,N\\}$.\n\nUsing only first principles for discrete-time Markov chains and first-step analysis, derive the boundary value problem for the function $u(i)=\\mathbb{E}_{i}[\\tau]$ for $i\\in\\{0,1,\\dots,N\\}$, and solve it to obtain a closed-form expression for $u(i)$ in terms of $i$ and $N$. Express your final answer as a single analytic expression with no units. No rounding is required.", "solution": "The problem as stated is valid. It is a well-posed, scientifically grounded problem from the field of stochastic processes, specifically concerning discrete-time Markov chains. All necessary information is provided, and there are no contradictions or ambiguities. We may proceed with the solution.\n\nLet $u(i) = \\mathbb{E}_{i}[\\tau]$ be the expected time to absorption, starting from state $i \\in \\{0, 1, \\dots, N\\}$. The process starts at $X_0 = i$. The stopping time is $\\tau = \\inf\\{n \\geq 0: X_n \\in \\{0, N\\}\\}$.\n\nFirst, we establish the boundary conditions for the function $u(i)$.\nIf the process starts at $i=0$, it is already in an absorbing state. The time to absorption is $\\tau=0$. Therefore, the expected time is $u(0) = \\mathbb{E}_{0}[\\tau] = 0$.\nSimilarly, if the process starts at $i=N$, it is also in an absorbing state, so the time to absorption is $\\tau=0$. The expected time is $u(N) = \\mathbb{E}_{N}[\\tau] = 0$.\n\nNext, for any interior state $i \\in \\{1, 2, \\dots, N-1\\}$, we apply the principle of first-step analysis, also known as conditioning on the first move. The expected time $u(i)$ can be expressed as one step plus the expected future time from the state reached after that step.\nAfter one step, which takes a time of $1$ unit, the process moves from state $i$ to state $i+1$ with probability $p=1/2$ or to state $i-1$ with probability $q=1/2$.\nBy the law of total expectation, we can write:\n$$u(i) = 1 + \\mathbb{E}[\\text{time from next state } | X_0=i]$$\n$$u(i) = 1 + \\frac{1}{2} u(i+1) + \\frac{1}{2} u(i-1)$$\nThis equation holds for all $i \\in \\{1, 2, \\dots, N-1\\}$.\n\nWe have now formulated a boundary value problem consisting of a second-order linear non-homogeneous difference equation and its associated boundary conditions:\n$$u(i+1) + u(i-1) - 2u(i) = -2, \\quad \\text{for } i \\in \\{1, 2, \\dots, N-1\\}$$\n$$u(0) = 0$$\n$$u(N) = 0$$\nThe general solution $u(i)$ is the sum of the solution to the homogeneous equation, $u_h(i)$, and a particular solution, $u_p(i)$.\n\nThe homogeneous equation is:\n$$u_h(i+1) - 2u_h(i) + u_h(i-1) = 0$$\nWe seek a solution of the form $u_h(i) = r^i$. Substituting this into the equation yields the characteristic equation:\n$$r^{i+1} - 2r^i + r^{i-1} = 0$$\nAssuming $r \\neq 0$, we can divide by $r^{i-1}$ to get:\n$$r^2 - 2r + 1 = 0$$\n$$(r-1)^2 = 0$$\nThis equation has a repeated root $r_1 = r_2 = 1$. For a repeated root, the two linearly independent solutions are $r^i = 1^i = 1$ and $i \\cdot r^i = i \\cdot 1^i = i$. Therefore, the general homogeneous solution is a linear combination of these two solutions:\n$$u_h(i) = A \\cdot 1 + B \\cdot i = A + Bi$$\nwhere $A$ and $B$ are constants.\n\nNext, we find a particular solution $u_p(i)$ to the non-homogeneous equation $u(i+1) - 2u(i) + u(i-1) = -2$. Since the non-homogeneous term is a constant, we would typically guess a polynomial in $i$. Because the constant and linear terms ($A$ and $Bi$) are solutions to the homogeneous equation, we must try a polynomial of a higher degree. Let's propose a quadratic form $u_p(i) = Ci^2$.\nSubstituting this into the non-homogeneous equation:\n$$C(i+1)^2 - 2C(i)^2 + C(i-1)^2 = -2$$\n$$C(i^2 + 2i + 1) - 2Ci^2 + C(i^2 - 2i + 1) = -2$$\n$$C(i^2 + 2i + 1 - 2i^2 + i^2 - 2i + 1) = -2$$\nCollecting terms:\n$$C[(i^2 - 2i^2 + i^2) + (2i - 2i) + (1 + 1)] = -2$$\n$$C[0 + 0 + 2] = -2$$\n$$2C = -2 \\implies C = -1$$\nThus, a particular solution is $u_p(i) = -i^2$.\n\nThe general solution is the sum of the homogeneous and particular solutions:\n$$u(i) = u_h(i) + u_p(i) = A + Bi - i^2$$\n\nFinally, we use the boundary conditions to determine the constants $A$ and $B$.\nUsing $u(0) = 0$:\n$$u(0) = A + B(0) - (0)^2 = 0 \\implies A = 0$$\nThe solution simplifies to $u(i) = Bi - i^2$.\nNow, using $u(N) = 0$:\n$$u(N) = BN - N^2 = 0$$\nAssuming $N \\neq 0$, which is required for a non-trivial state space, we have:\n$$BN = N^2 \\implies B = N$$\n\nSubstituting the values of $A=0$ and $B=N$ into the general solution gives the unique solution for the expected hitting time:\n$$u(i) = Ni - i^2$$\nThis can be factored as:\n$$u(i) = i(N-i)$$\nThis expression provides the expected number of steps to reach either state $0$ or state $N$, starting from state $i$.", "answer": "$$\n\\boxed{i(N-i)}\n$$", "id": "3056089"}, {"introduction": "Many real-world processes are not perfectly balanced. This final practice [@problem_id:1398204] explores the impact of bias by analyzing a random walk where the probability of moving up is not equal to the probability of moving down. By solving for the ruin probability in this \"unfair game\" and compares it to the symmetric case explored previously [@problem_id:3056065], you will gain a quantitative understanding of how even a small bias can dramatically alter a player's long-term prospects.", "problem": "Two competing tech startups, Alpha and Beta, are seeking to secure funding. The process can be modeled as a series of discrete rounds. In each round, a startup's capital either increases or decreases by a fixed amount, $\\Delta C = \\$100,000$. Both startups begin with an initial capital of $C_0 = \\$200,000$ and aim to reach a target funding level of $C_f = \\$1,000,000$. If a startup's capital ever drops to zero, it is considered bankrupt and exits the market.\n\nStartup Alpha operates in a \"neutral\" market environment, where the probability of gaining $\\Delta C$ in any given round is $p_A = 1/2$. Startup Beta, however, faces a more \"challenging\" market, where its probability of gaining $\\Delta C$ in a round is only $p_B = 1/3$.\n\nCalculate the ratio of the probability of bankruptcy for Startup Beta to the probability of bankruptcy for Startup Alpha. Express your answer as an exact fraction in simplest form.", "solution": "Let one round change capital by $\\Delta C$. Define the step size $s=\\Delta C$ and measure capital in units of $s$. Then the absorbing boundaries are at $0$ and $N$, where\n$$\nN=\\frac{C_{f}}{s}=\\frac{1{,}000{,}000}{100{,}000}=10,\n$$\nand the initial state is\n$$\ni=\\frac{C_{0}}{s}=\\frac{200{,}000}{100{,}000}=2.\n$$\n\nFor a one-dimensional random walk with absorbing states at $0$ and $N$, let $u_{i}$ be the probability of ruin (hitting $0$ before $N$) starting from state $i$. The standard difference equation is\n$$\nu_{i}=q\\,u_{i-1}+p\\,u_{i+1}, \\quad 1\\leq i\\leq N-1,\n$$\nwith boundary conditions $u_{0}=1$ and $u_{N}=0$, where $p$ is the probability of an upward step and $q=1-p$ is the probability of a downward step.\n\nStartup Alpha (neutral market) has $p_{A}=\\frac{1}{2}$ and $q_{A}=\\frac{1}{2}$. The difference equation becomes\n$$\nu_{i}=\\frac{1}{2}u_{i-1}+\\frac{1}{2}u_{i+1},\n$$\nwhich rearranges to $u_{i+1}-2u_{i}+u_{i-1}=0$. The general solution is linear, $u_{i}=A+Bi$. Applying $u_{0}=1$ gives $A=1$, and $u_{N}=0$ gives $1+BN=0$, so $B=-\\frac{1}{N}$. Therefore,\n$$\nu_{i}^{(A)}=1-\\frac{i}{N}.\n$$\nSubstituting $i=2$ and $N=10$,\n$$\nu_{2}^{(A)}=1-\\frac{2}{10}=\\frac{8}{10}=\\frac{4}{5}.\n$$\n\nStartup Beta (challenging market) has $p_{B}=\\frac{1}{3}$ and $q_{B}=\\frac{2}{3}$. The difference equation is\n$$\nu_{i}=q_{B}\\,u_{i-1}+p_{B}\\,u_{i+1},\n$$\nor equivalently $p_{B}u_{i+1}-u_{i}+q_{B}u_{i-1}=0$. Seeking a solution of the form $u_{i}=r^{i}$ leads to the characteristic equation\n$$\np_{B}r^{2}-r+q_{B}=0.\n$$\nIts roots are $r=1$ and $r=\\frac{q_{B}}{p_{B}}$. Hence the general solution is\n$$\nu_{i}=A+B\\left(\\frac{q_{B}}{p_{B}}\\right)^{i}.\n$$\nApplying $u_{0}=1$ and $u_{N}=0$:\n$$\nA+B=1,\\quad A+B\\left(\\frac{q_{B}}{p_{B}}\\right)^{N}=0.\n$$\nSolving for $A,B$ yields\n$$\nu_{i}^{(B)}=\\frac{\\left(\\frac{q_{B}}{p_{B}}\\right)^{i}-\\left(\\frac{q_{B}}{p_{B}}\\right)^{N}}{1-\\left(\\frac{q_{B}}{p_{B}}\\right)^{N}}.\n$$\nWith $p_{B}=\\frac{1}{3}$, $q_{B}=\\frac{2}{3}$, we have $\\frac{q_{B}}{p_{B}}=2$, so for $i=2$, $N=10$,\n$$\nu_{2}^{(B)}=\\frac{2^{2}-2^{10}}{1-2^{10}}=\\frac{4-1024}{1-1024}=\\frac{1020}{1023}=\\frac{340}{341}.\n$$\n\nThe required ratio of bankruptcy probabilities is\n$$\n\\frac{u_{2}^{(B)}}{u_{2}^{(A)}}=\\frac{\\frac{340}{341}}{\\frac{4}{5}}=\\frac{340}{341}\\cdot\\frac{5}{4}=\\frac{1700}{1364}=\\frac{425}{341}.\n$$", "answer": "$$\\boxed{\\frac{425}{341}}$$", "id": "1398204"}]}