{"hands_on_practices": [{"introduction": "This first practice is your entry point into the mechanics of the PageRank algorithm. You will begin with a simple network graph and construct the essential Google matrix, learning how to correctly model both direct links and the special case of \"dangling nodes.\" By performing a single iterative step, you'll see firsthand how importance scores begin to flow through the network, laying the groundwork for understanding the full iterative process [@problem_id:1381670].", "problem": "Consider a simplified citation network consisting of two research papers, P1 and P2. The citation structure is simple: paper P1 cites paper P2, but paper P2 does not cite paper P1. We wish to determine the importance ranking of these papers after one step of an iterative algorithm.\n\nThe importance of the papers at any step $k$ is represented by a column vector $$\\mathbf{x}_k = \\begin{pmatrix} r_1 \\\\ r_2 \\end{pmatrix}$$, where $r_1$ and $r_2$ are the non-negative importance scores for P1 and P2, respectively, satisfying $r_1 + r_2 = 1$. The ranking is updated according to the rule $\\mathbf{x}_{k+1} = G \\mathbf{x}_k$, where $G$ is the \"Google matrix\" for this network.\n\nThe matrix $G$ is defined as $G = dS + \\frac{1-d}{n}J$, with the following components:\n-   $n$ is the number of papers in the network.\n-   $d$ is a damping factor, given as $d = 0.85$.\n-   $J$ is the $n \\times n$ matrix where every entry is 1.\n-   $S$ is the adjusted hyperlink matrix. It is constructed from a hyperlink matrix $H$. For the hyperlink matrix $H$, the entry $H_{ij}$ is $1/L_j$ if paper $j$ cites paper $i$, and $0$ otherwise, where $L_j$ is the total number of papers that paper $j$ cites. To create the final matrix $S$ from $H$, if any paper $j$ makes no citations (i.e., its corresponding column in $H$ is all zeros), that column is replaced with a column where every entry is $1/n$.\n\nAssume the initial state represents uniform importance, meaning every paper starts with an equal share of the total rank. Calculate the importance vector $\\mathbf{x}_1$ after one iteration.\n\nExpress your answer as a row matrix containing the two components of $\\mathbf{x}_1$ as exact fractions.", "solution": "Label the papers as nodes 1 (P1) and 2 (P2). The hyperlink matrix $H$ has entries $H_{ij} = 1/L_{j}$ if paper $j$ cites paper $i$, and $0$ otherwise, where $L_{j}$ is the number of citations made by paper $j$. Since P1 cites P2, we have $L_{1}=1$ and $H_{21}=1$, $H_{11}=0$. Since P2 cites no papers, $L_{2}=0$ and column $2$ of $H$ is all zeros:\n$$\nH=\\begin{pmatrix} 0 & 0 \\\\ 1 & 0 \\end{pmatrix}.\n$$\nTo form $S$, replace any zero column with the uniform column $(1/n)\\mathbf{1}$, where $n=2$. Thus column $2$ is replaced by $\\begin{pmatrix} \\frac{1}{2} \\\\ \\frac{1}{2} \\end{pmatrix}$, giving\n$$\nS=\\begin{pmatrix} 0 & \\frac{1}{2} \\\\ 1 & \\frac{1}{2} \\end{pmatrix}.\n$$\nWith damping factor $d=0.85=\\frac{17}{20}$ and $J$ the all-ones matrix, the Google matrix is\n$$\nG=dS+\\frac{1-d}{n}J=\\frac{17}{20}\\begin{pmatrix} 0 & \\frac{1}{2} \\\\ 1 & \\frac{1}{2} \\end{pmatrix}+\\frac{3}{40}\\begin{pmatrix} 1 & 1 \\\\ 1 & 1 \\end{pmatrix}\n=\\begin{pmatrix} \\frac{3}{40} & \\frac{1}{2} \\\\ \\frac{37}{40} & \\frac{1}{2} \\end{pmatrix}.\n$$\nThe initial uniform importance vector is\n$$\n\\mathbf{x}_{0}=\\begin{pmatrix} \\frac{1}{2} \\\\ \\frac{1}{2} \\end{pmatrix}.\n$$\nApplying one iteration,\n$$\n\\mathbf{x}_{1}=G\\mathbf{x}_{0}=\\begin{pmatrix} \\frac{3}{40} & \\frac{1}{2} \\\\ \\frac{37}{40} & \\frac{1}{2} \\end{pmatrix}\\begin{pmatrix} \\frac{1}{2} \\\\ \\frac{1}{2} \\end{pmatrix}\n=\\begin{pmatrix} \\frac{3}{80}+\\frac{1}{4} \\\\ \\frac{37}{80}+\\frac{1}{4} \\end{pmatrix}\n=\\begin{pmatrix} \\frac{23}{80} \\\\ \\frac{57}{80} \\end{pmatrix}.\n$$\nThus, expressed as a row matrix of exact fractions, the components are $\\frac{23}{80}$ and $\\frac{57}{80}$.", "answer": "$$\\boxed{\\begin{pmatrix} \\frac{23}{80} & \\frac{57}{80} \\end{pmatrix}}$$", "id": "1381670"}, {"introduction": "The iterative power method eventually converges to a stable solution. This practice focuses on finding this final PageRank vector directly by treating it as an eigenvector of the Google matrix $G$ associated with the eigenvalue $\\lambda=1$. By solving the characteristic equation $G\\mathbf{r} = \\mathbf{r}$, you will connect the concept of a \"steady-state\" probability distribution to the fundamental linear algebra problem of finding eigenvectors [@problem_id:1381632].", "problem": "Consider a simplified model of the internet consisting of two web pages, Page A and Page B. The linking structure between these pages is as follows:\n- Page A has 2 outgoing links: one points back to Page A and one points to Page B.\n- Page B has 3 outgoing links: one points to Page A and two point back to Page B.\n\nThe PageRank algorithm models a user's behavior. A user on a given page will either follow a random link on that page or \"teleport\" to a random page in the entire network. This process can be described by a transition matrix, which we will call the 'Google matrix' $G$.\n\nThe construction of $G$ follows a specific rule: $G = pS + (1-p)K$.\nHere, $p$ is the 'damping factor', representing the probability that the user follows an outgoing link. We are given $p = 17/20$. The matrix $S$ is the 'linking matrix', where the entry $S_{ij}$ is the probability of navigating from page $j$ to page $i$ simply by following a link. If page $j$ has $k$ outgoing links, the probability of following any specific link leading from $j$ to $i$ is $1/k$ (and 0 if no such link exists).\nThe matrix $K$ is the 'teleportation matrix', where every entry is $1/N$ for a network of $N$ pages. It models the user randomly jumping to any page in the network with equal probability. This occurs with probability $(1-p)$.\n\nThe long-term probability of a user being on a particular page is given by the 'PageRank vector' $\\mathbf{r} = \\begin{pmatrix} r_A \\\\ r_B \\end{pmatrix}$, where $r_A$ and $r_B$ are the probabilities for Page A and Page B, respectively. This vector represents the steady-state of the system, meaning it does not change after one step of the process, i.e., $G\\mathbf{r} = \\mathbf{r}$. The components of the PageRank vector must sum to 1, as they represent a probability distribution ($r_A + r_B = 1$).\n\nDetermine the PageRank vector $\\mathbf{r}$ for this two-page network. Express your answer as a column vector with exact fractional entries.", "solution": "Let the pages be ordered as $(A,B)$. The linking matrix $S$ has entries $S_{ij}$ equal to the probability of following a link from page $j$ to page $i$. Since Page A has two outgoing links (one to A and one to B), and Page B has three outgoing links (one to A and two to B), we have\n$$\nS=\\begin{pmatrix}\n\\frac{1}{2} & \\frac{1}{3} \\\\\n\\frac{1}{2} & \\frac{2}{3}\n\\end{pmatrix}.\n$$\nFor $N=2$ pages, the teleportation matrix is\n$$\nK=\\begin{pmatrix}\n\\frac{1}{2} & \\frac{1}{2} \\\\\n\\frac{1}{2} & \\frac{1}{2}\n\\end{pmatrix}.\n$$\nWith damping factor $p=\\frac{17}{20}$, the Google matrix is\n$$\nG=pS+(1-p)K=\\frac{17}{20}S+\\frac{3}{20}K.\n$$\nCompute each entry:\n$$\nG_{11}=\\frac{17}{20}\\cdot\\frac{1}{2}+\\frac{3}{20}\\cdot\\frac{1}{2}=\\frac{1}{2},\\quad\nG_{12}=\\frac{17}{20}\\cdot\\frac{1}{3}+\\frac{3}{20}\\cdot\\frac{1}{2}=\\frac{17}{60}+\\frac{3}{40}=\\frac{43}{120},\n$$\n$$\nG_{21}=\\frac{17}{20}\\cdot\\frac{1}{2}+\\frac{3}{20}\\cdot\\frac{1}{2}=\\frac{1}{2},\\quad\nG_{22}=\\frac{17}{20}\\cdot\\frac{2}{3}+\\frac{3}{20}\\cdot\\frac{1}{2}=\\frac{34}{60}+\\frac{3}{40}=\\frac{77}{120}.\n$$\nThus\n$$\nG=\\begin{pmatrix}\n\\frac{1}{2} & \\frac{43}{120} \\\\\n\\frac{1}{2} & \\frac{77}{120}\n\\end{pmatrix}.\n$$\nLet $\\mathbf{r}=\\begin{pmatrix} r_{A} \\\\ r_{B} \\end{pmatrix}$ be the PageRank vector with $G\\mathbf{r}=\\mathbf{r}$ and $r_{A}+r_{B}=1$. From the first component of $G\\mathbf{r}=\\mathbf{r}$,\n$$\nr_{A}=\\frac{1}{2}r_{A}+\\frac{43}{120}r_{B},\n$$\nso\n$$\nr_{A}-\\frac{1}{2}r_{A}=\\frac{43}{120}r_{B}\\quad\\Rightarrow\\quad \\frac{1}{2}r_{A}=\\frac{43}{120}r_{B}\\quad\\Rightarrow\\quad r_{A}=\\frac{43}{60}r_{B}.\n$$\nUsing $r_{A}+r_{B}=1$,\n$$\n\\frac{43}{60}r_{B}+r_{B}=1\\quad\\Rightarrow\\quad \\frac{103}{60}r_{B}=1\\quad\\Rightarrow\\quad r_{B}=\\frac{60}{103},\n$$\nand hence\n$$\nr_{A}=\\frac{43}{103}.\n$$\nTherefore, the PageRank vector is\n$$\n\\begin{pmatrix}\n\\frac{43}{103} \\\\\n\\frac{60}{103}\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{43}{103} \\\\ \\frac{60}{103}\\end{pmatrix}}$$", "id": "1381632"}, {"introduction": "Beyond numerical calculations, the PageRank model offers deep conceptual insights. This exercise challenges you to move from computation to analytical derivation by considering a hypothetical but illustrative scenario: an isolated page within a larger network. By deriving a general formula for its rank, you will uncover the crucial role of the damping factor and teleportation in guaranteeing that every page, even one with no incoming \"votes,\" has a meaningful baseline importance [@problem_id:1381663].", "problem": "The PageRank algorithm, originally used by search engines to rank web pages, provides a measure of the relative importance of a page within a network. The algorithm is based on a \"random surfer\" model. A surfer on a given page will either follow an outgoing link with probability $d$ (the damping factor) or \"teleport\" to a random page in the network with probability $1-d$.\n\nThe steady-state PageRank, $p_i$, for a page $i$ in a network of $N$ pages can be found by solving a system of linear equations. The governing equation for the PageRank of any page $i$ is given by:\n$$p_i = \\frac{1-d}{N} + d \\left( \\sum_{j \\in M(i)} \\frac{p_j}{L(j)} + \\frac{P_{\\text{dangling}}}{N} \\right)$$\nHere, $M(i)$ is the set of pages that have a direct link to page $i$, $L(j)$ is the total number of outgoing links from page $j$, and $P_{\\text{dangling}}$ is the sum of the PageRanks of all \"dangling pages\". A dangling page is defined as a page with no outgoing links.\n\nConsider a specific web graph with $N$ pages, where $N > 1$. Within this network, there is a particular page, let's call it $P_{\\text{iso}}$, which is completely isolated: it has no incoming links from any other page and no outgoing links to any other page. Furthermore, you are given that $P_{\\text{iso}}$ is the *only* dangling page in the entire network.\n\nDerive a closed-form analytic expression for the PageRank of this isolated page, $p_{\\text{iso}}$, in terms of the total number of pages $N$ and the damping factor $d$.", "solution": "We start from the given steady-state PageRank equation for any page $i$:\n$$\np_{i} = \\frac{1-d}{N} + d \\left( \\sum_{j \\in M(i)} \\frac{p_{j}}{L(j)} + \\frac{P_{\\text{dangling}}}{N} \\right).\n$$\nFor the isolated page $P_{\\text{iso}}$, there are no incoming links, so $M(P_{\\text{iso}})=\\emptyset$ and hence\n$$\n\\sum_{j \\in M(P_{\\text{iso}})} \\frac{p_{j}}{L(j)} = 0.\n$$\nIt is also given that $P_{\\text{iso}}$ is the only dangling page, so the total PageRank of dangling pages is\n$$\nP_{\\text{dangling}} = p_{\\text{iso}}.\n$$\nSubstituting these into the PageRank equation for $i = \\text{iso}$ gives\n$$\np_{\\text{iso}} = \\frac{1-d}{N} + d \\left( 0 + \\frac{p_{\\text{iso}}}{N} \\right) = \\frac{1-d}{N} + \\frac{d}{N} p_{\\text{iso}}.\n$$\nRearranging to isolate $p_{\\text{iso}}$,\n$$\np_{\\text{iso}} - \\frac{d}{N} p_{\\text{iso}} = \\frac{1-d}{N},\n$$\n$$\np_{\\text{iso}} \\left( 1 - \\frac{d}{N} \\right) = \\frac{1-d}{N}.\n$$\nDividing both sides by $1 - \\frac{d}{N}$ yields the closed-form expression\n$$\np_{\\text{iso}} = \\frac{\\frac{1-d}{N}}{1 - \\frac{d}{N}} = \\frac{1-d}{N - d}.\n$$\nThis expression is valid for $N>1$ and $0 \\leq d < 1$ (the usual PageRank regime), ensuring the denominator is positive.", "answer": "$$\\boxed{\\frac{1-d}{N - d}}$$", "id": "1381663"}]}