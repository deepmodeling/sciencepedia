{"hands_on_practices": [{"introduction": "Understanding the average number of customers in a system, denoted by $L$, is a primary step in analyzing any queue. This metric provides a snapshot of system congestion and resource usage. This first exercise [@problem_id:1341355] guides you through a foundational calculation of $L$ for a tangible scenario, allowing you to directly apply the steady-state formulas for the M/M/1/K queue.", "problem": "A university's digital fabrication lab operates a single high-precision 3D printer. Job requests for printing are submitted electronically and arrive according to a Poisson process at an average rate of 10 jobs per hour. The printing time for any job is exponentially distributed, with an average of 5 minutes per job. The system has a finite capacity: it can hold the job currently being printed and up to 4 additional jobs in a waiting buffer. If a job arrives when the buffer is full and the printer is busy, the job is rejected and lost. For this system, calculate the long-run average number of jobs present (either waiting or being printed). Round your final answer to three significant figures.", "solution": "Arrivals follow a Poisson process with rate $\\lambda=10$ jobs per hour. Service times are exponential with mean $5$ minutes $=\\frac{1}{12}$ hour, so the service rate is $\\mu=12$ jobs per hour. The system can hold at most $K=5$ jobs in total (one in service and $4$ waiting). This is an $M/M/1/K$ queue with $K=5$.\n\nDefine the traffic intensity $\\rho=\\frac{\\lambda}{\\mu}$. Here $\\rho=\\frac{10}{12}=\\frac{5}{6}<1$. For an $M/M/1/K$ birth–death process, the steady-state probabilities are\n$$\np_{n}=p_{0}\\rho^{n}, \\quad n=0,1,\\dots,K,\n$$\nwith\n$$\np_{0}=\\frac{1-\\rho}{1-\\rho^{K+1}} \\quad (\\rho\\neq 1).\n$$\nThe long-run average number in the system is\n$$\nL=\\sum_{n=0}^{K} n p_{n}=p_{0}\\sum_{n=0}^{K} n \\rho^{n}.\n$$\nUsing the finite geometric sum identity\n$$\n\\sum_{n=0}^{K} n r^{n}=\\frac{r\\left(1-(K+1)r^{K}+Kr^{K+1}\\right)}{(1-r)^{2}},\n$$\nwe obtain\n$$\nL=p_{0}\\cdot \\frac{\\rho\\left(1-(K+1)\\rho^{K}+K\\rho^{K+1}\\right)}{(1-\\rho)^{2}}\n=\\frac{\\rho\\left(1-(K+1)\\rho^{K}+K\\rho^{K+1}\\right)}{(1-\\rho)\\left(1-\\rho^{K+1}\\right)}.\n$$\nSubstitute $\\rho=\\frac{5}{6}$ and $K=5$:\n$$\nL=\\frac{\\frac{5}{6}\\left(1-6\\left(\\frac{5}{6}\\right)^{5}+5\\left(\\frac{5}{6}\\right)^{6}\\right)}{\\left(1-\\frac{5}{6}\\right)\\left(1-\\left(\\frac{5}{6}\\right)^{6}\\right)}.\n$$\nCompute the powers and simplify exactly:\n$$\n\\left(\\frac{5}{6}\\right)^{5}=\\frac{3125}{7776},\\quad \\left(\\frac{5}{6}\\right)^{6}=\\frac{15625}{46656},\n$$\nso\n$$\n1-6\\left(\\frac{5}{6}\\right)^{5}+5\\left(\\frac{5}{6}\\right)^{6}\n=1-\\frac{112500}{46656}+\\frac{78125}{46656}\n=\\frac{12281}{46656}.\n$$\nThus\n$$\nL=\\frac{\\frac{5}{6}\\cdot \\frac{12281}{46656}}{\\left(\\frac{1}{6}\\right)\\left(\\frac{31031}{46656}\\right)}\n=\\frac{\\frac{61405}{279936}}{\\frac{31031}{279936}}\n=\\frac{61405}{31031}\\approx 1.9788.\n$$\nRounding to three significant figures gives $1.98$.", "answer": "$$\\boxed{1.98}$$", "id": "1341355"}, {"introduction": "While system-wide metrics like $L$ are important, the customer's experience is often best measured by waiting time. This practice [@problem_id:1341377] focuses on calculating the average waiting time in the queue, $W_q$, specifically for customers who are successfully admitted to the system. You will see how to combine the concept of an effective arrival rate with Little's Law to determine this crucial performance indicator.", "problem": "A network router is designed to handle incoming data packets. The router has a single processing unit and a finite buffer. Packets arrive according to a Poisson process at an average rate of $\\lambda = 450$ packets per second. The router's processing unit can handle packets with an exponentially distributed service time, at an average rate of $\\mu = 500$ packets per second. The system has a total capacity for $K=6$ packets (this capacity includes the packet being processed, if any, plus those waiting in the buffer). If the system is full when a new packet arrives, that packet is dropped and lost.\n\nCalculate the average time a packet that is *not* dropped spends waiting in the buffer before it begins processing.\n\nProvide your answer in milliseconds (ms), rounded to three significant figures.", "solution": "Model the router as an M/M/1/K queue with arrival rate $\\lambda$, service rate $\\mu$, and capacity $K$. Let $\\rho = \\lambda/\\mu$. The stationary distribution for $n=0,1,\\dots,K$ is\n$$\nP_{n} = P_{0} \\rho^{n}, \\quad P_{0} = \\frac{1 - \\rho}{1 - \\rho^{K+1}}.\n$$\nThe effective (throughput) arrival rate of admitted packets is\n$$\n\\lambda_{\\text{eff}} = \\lambda \\left(1 - P_{K}\\right) = \\lambda \\left(1 - P_{0} \\rho^{K}\\right).\n$$\nThe expected number in system is\n$$\nL = \\sum_{n=0}^{K} n P_{n} = \\frac{\\sum_{n=0}^{K} n \\rho^{n}}{\\sum_{n=0}^{K} \\rho^{n}} = \\frac{S_{1}}{S_{0}},\n$$\nwith\n$$\nS_{0} = \\sum_{n=0}^{K} \\rho^{n} = \\frac{1 - \\rho^{K+1}}{1 - \\rho}, \\quad S_{1} = \\sum_{n=0}^{K} n \\rho^{n} = \\frac{\\rho\\left(1 - (K+1)\\rho^{K} + K \\rho^{K+1}\\right)}{(1 - \\rho)^{2}}.\n$$\nThe expected number in queue (excluding the one in service) is\n$$\nL_{q} = L - \\Pr\\{\\text{server busy}\\} = L - (1 - P_{0}).\n$$\nBy Little’s law applied to the queue for admitted packets (counting zero waiting for those who enter service immediately),\n$$\nW_{q} = \\frac{L_{q}}{\\lambda_{\\text{eff}}}.\n$$\nSubstitute the given values $\\lambda = 450$, $\\mu = 500$, $K=6$. Then $\\rho = \\lambda/\\mu = 0.9$, and\n$$\n\\rho^{6} = 0.531441, \\quad \\rho^{7} = 0.4782969,\n$$\n$$\nS_{0} = \\frac{1 - 0.4782969}{1 - 0.9} = 5.217031, \\quad P_{0} = \\frac{1}{S_{0}} \\approx 0.1916799,\n$$\n$$\nS_{1} = \\frac{0.9\\left(1 - 7\\cdot 0.531441 + 6\\cdot 0.4782969\\right)}{0.1^{2}} = 13.472496,\n$$\n$$\nL = \\frac{S_{1}}{S_{0}} \\approx \\frac{13.472496}{5.217031} \\approx 2.5824067,\n$$\n$$\nL_{q} = L - (1 - P_{0}) \\approx 2.5824067 - 0.8083201 \\approx 1.7740866,\n$$\n$$\nP_{6} = P_{0}\\rho^{6} \\approx 0.1916799 \\times 0.531441 \\approx 0.1018666,\n$$\n$$\n\\lambda_{\\text{eff}} = \\lambda(1 - P_{6}) \\approx 450 \\times 0.8981334 \\approx 404.1600,\n$$\n$$\nW_{q} = \\frac{L_{q}}{\\lambda_{\\text{eff}}} \\approx \\frac{1.7740866}{404.1600} \\approx 0.00438957 \\text{ s} = 4.38957 \\text{ ms}.\n$$\nRounded to three significant figures, the average waiting time in the buffer for a packet that is not dropped is $4.39$ ms.", "answer": "$$\\boxed{4.39}$$", "id": "1341377"}, {"introduction": "The true power of a mathematical model lies in its ability to both predict performance and diagnose system properties. This final practice [@problem_id:1341357] presents a reverse-engineering challenge: instead of computing metrics from given parameters, you will use an observed relationship between performance metrics to deduce the underlying traffic intensity, $\\rho$. This type of analysis is essential for system tuning and capacity planning in real-world applications.", "problem": "A deep-space communication hub is designed to buffer and transmit data packets from a high-orbit satellite. The arrival of data packets to the hub can be modeled as a Poisson process, and the time required to transmit a single packet follows an exponential distribution. The system's capacity is limited, allowing for a maximum of $K=3$ packets in total (i.e., one packet being transmitted and a queue of up to two packets). Consequently, the system behaves as an M/M/1/K queueing model.\n\nUnder steady-state conditions, engineers have observed a peculiar property of the system's performance: the long-run server utilization (the fraction of time the transmitter is busy) is precisely seven times the long-run blocking probability (the probability that an arriving packet is rejected because the system is full).\n\nLet $\\rho = \\lambda/\\mu$ be the traffic intensity, where $\\lambda$ is the mean arrival rate and $\\mu$ is the mean service rate of packets. Your task is to determine the numerical value of $\\rho$ based on this observation.\n\nCalculate the value of the traffic intensity $\\rho$. Express your answer as an exact fraction.", "solution": "Model the system as an M/M/1/K queue with $K=3$, so the admissible states are $n=0,1,2,3$. In steady state for an M/M/1/K birth–death process, the stationary probabilities satisfy $p_{n} = p_{0}\\rho^{n}$ for $0 \\leq n \\leq 3$, where $\\rho = \\lambda/\\mu$. Normalization gives\n$$\n\\sum_{n=0}^{3} p_{n} \\;=\\; p_{0}\\sum_{n=0}^{3} \\rho^{n} \\;=\\; 1,\n$$\nhence\n$$\np_{0} \\;=\\; \\frac{1}{1+\\rho+\\rho^{2}+\\rho^{3}}.\n$$\nThis expression is valid for all $\\rho \\geq 0$ (including $\\rho=1$ by continuity).\n\nThe server utilization (fraction of time the transmitter is busy) is the probability that the system is nonempty:\n$$\nU \\;=\\; 1 - p_{0} \\;=\\; \\frac{\\rho + \\rho^{2} + \\rho^{3}}{1+\\rho+\\rho^{2}+\\rho^{3}}.\n$$\nBy PASTA, the blocking probability equals the steady-state probability that the system is full, so\n$$\nB \\;=\\; p_{3} \\;=\\; \\frac{\\rho^{3}}{1+\\rho+\\rho^{2}+\\rho^{3}}.\n$$\nThe observed property states $U = 7B$, hence\n$$\n\\frac{\\rho + \\rho^{2} + \\rho^{3}}{1+\\rho+\\rho^{2}+\\rho^{3}} \\;=\\; 7 \\cdot \\frac{\\rho^{3}}{1+\\rho+\\rho^{2}+\\rho^{3}}.\n$$\nMultiplying both sides by $1+\\rho+\\rho^{2}+\\rho^{3}$ yields\n$$\n\\rho + \\rho^{2} + \\rho^{3} \\;=\\; 7\\rho^{3},\n$$\nso\n$$\n\\rho + \\rho^{2} \\;=\\; 6\\rho^{3}.\n$$\nIf $\\rho=0$, the equality holds trivially (zero load), but for a positive traffic intensity $\\rho>0$ we divide by $\\rho$ to obtain\n$$\n1 + \\rho \\;=\\; 6\\rho^{2}.\n$$\nThis is a quadratic equation,\n$$\n6\\rho^{2} - \\rho - 1 \\;=\\; 0,\n$$\nwhose solutions are\n$$\n\\rho \\;=\\; \\frac{1 \\pm \\sqrt{1+24}}{12} \\;=\\; \\frac{1 \\pm 5}{12}.\n$$\nThe solutions are $\\rho = \\frac{1}{2}$ and $\\rho = -\\frac{1}{3}$ (discard the negative). Therefore, the positive traffic intensity satisfying the observation is\n$$\n\\rho \\;=\\; \\frac{1}{2}.\n$$", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "1341357"}]}