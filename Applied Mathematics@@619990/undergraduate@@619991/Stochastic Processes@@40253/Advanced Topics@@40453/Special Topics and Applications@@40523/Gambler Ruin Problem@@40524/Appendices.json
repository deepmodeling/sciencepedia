{"hands_on_practices": [{"introduction": "The cornerstone of analyzing the Gambler's Ruin problem is determining the ultimate probability of success or failure. This practice focuses on deriving the probability of ruin, $P_i$, by establishing a fundamental recurrence relation based on the outcome of a single step in the game. Solving this relation for the general case, where the game might be \"unfair\" ($p \\neq q$), yields one of the most important and insightful formulas in the study of random walks, revealing how even a slight bias can dramatically influence the gambler's fate [@problem_id:7899].", "problem": "Consider a simplified betting game known as the Gambler's Ruin. A gambler starts with an initial fortune of $i$ integer units of currency. The gambler plays a sequence of rounds against a house. In each round, the gambler wagers one unit. They win one unit with a constant probability $p$, and lose one unit with a probability $q=1-p$.\n\nThe gambler has a predetermined goal: to reach a total fortune of $N$ units, where $N  i  0$. The game terminates if the gambler's fortune reaches $N$ (success) or if it drops to $0$ (ruin). Let $P_i$ denote the probability that the gambler is eventually ruined, given they start with a fortune of $i$ units.\n\nAssuming that the probability of winning a round is not equal to the probability of losing a round (i.e., $p \\neq q$), derive the general expression for the probability of ruin, $P_i$, as a function of their initial fortune $i$, the target fortune $N$, the win probability $p$, and the loss probability $q$.", "solution": "We denote by $P_i$ the probability of eventual ruin starting from fortune $i$, with $P_0=1$ and $P_N=0$.  In one step the gambler moves to $i+1$ with probability $p$ and to $i-1$ with probability $q=1-p$, so the recursion is\n$$\nP_i \\;=\\; p\\,P_{i+1} \\;+\\; q\\,P_{i-1},\\qquad i=1,2,\\dots,N-1.\n$$\nRearrange to homogeneous form:\n$$\np\\,P_{i+1}-P_i+q\\,P_{i-1}=0.\n$$\nAssume a solution of the form $P_i=r^i$.  The characteristic equation is\n$$\np\\,r^2 - r + q = 0,\n$$\nwhose roots are $r=1$ and $r=\\frac{q}{p}$.  Hence the general solution is\n$$\nP_i \\;=\\; A + B\\Bigl(\\tfrac{q}{p}\\Bigr)^{i}.\n$$\nApply the boundary conditions:\n\n$$\nP_0=A+B=1,\n\\qquad\nP_N=A+B\\Bigl(\\tfrac{q}{p}\\Bigr)^{N}=0.\n$$\n\nSubtracting gives \n$$\nB\\Bigl(1-\\bigl(\\tfrac{q}{p}\\bigr)^N\\Bigr)=1\n\\;\\Longrightarrow\\;\nB=\\frac{1}{1-(q/p)^N},\n\\quad\nA=1-B=\\frac{-\\,(q/p)^N}{1-(q/p)^N}.\n$$\nTherefore\n$$\nP_i\n=\\;A + B\\Bigl(\\tfrac{q}{p}\\Bigr)^i\n=\\frac{(q/p)^i - (q/p)^N}{1 - (q/p)^N}.\n$$", "answer": "$$\\boxed{\\frac{\\bigl(\\tfrac{q}{p}\\bigr)^{i}-\\bigl(\\tfrac{q}{p}\\bigr)^{N}}{1-\\bigl(\\tfrac{q}{p}\\bigr)^{N}}}$$", "id": "7899"}, {"introduction": "Beyond knowing the chances of winning or losing, a crucial aspect of any stochastic process is its duration. This exercise tackles the question \"How long, on average, will the game last?\" by deriving the expected number of steps, $E_i$, until the game ends. The derivation involves setting up and solving a non-homogeneous recurrence relation, which elegantly captures how each step contributes to the total game length, providing a complete picture of the process for the general \"unfair\" case [@problem_id:1398216].", "problem": "A simplified model for a high-frequency trading algorithm's performance is as follows. The algorithm starts a trading session with an initial capital of $i$ units, where $i$ is an integer and $0  i  N$. Its goal is to reach a total capital of $N$ units. The algorithm is programmed to halt the session if its capital either reaches the target $N$ or drops to 0 (a state of ruin).\n\nIn each discrete time step, the algorithm executes a single trade. Each trade results in a gain of 1 unit of capital with a constant probability $p$, or a loss of 1 unit of capital with probability $q = 1-p$. The outcome of each trade is independent of the others. We are given that the trading strategy is 'unfair', meaning $p \\neq 1/2$.\n\nDerive an expression for the expected number of trades, $E_i$, that the algorithm will execute before halting, given that it starts with $i$ units of capital. Express your answer in terms of $i$, $N$, $p$, and $q$.", "solution": "Let $E_{i}$ denote the expected number of trades until halting, starting from capital $i$, with absorbing states at $0$ and $N$. By first-step analysis for $1 \\leq i \\leq N-1$, we have\n$$\nE_{i} = 1 + p E_{i+1} + q E_{i-1},\n$$\nwith boundary conditions $E_{0}=0$ and $E_{N}=0$. Rearranging gives the linear nonhomogeneous recurrence\n$$\np E_{i+1} - E_{i} + q E_{i-1} = -1.\n$$\nSolve the associated homogeneous equation $p E_{i+1}^{(h)} - E_{i}^{(h)} + q E_{i-1}^{(h)} = 0$ by trying $E_{i}^{(h)} = r^{i}$, which yields the characteristic equation\n$$\np r^{2} - r + q = 0.\n$$\nSince $p+q=1$, the roots are $r=1$ and $r=q/p$. Thus\n$$\nE_{i}^{(h)} = A + B \\left(\\frac{q}{p}\\right)^{i}.\n$$\nFor a particular solution, try $E_{i}^{(p)} = C i$. Substituting gives\n$$\np C (i+1) - C i + q C (i-1) = -1 \\quad \\Longrightarrow \\quad C(p-q) = -1,\n$$\nso\n$$\nC = \\frac{1}{q - p}, \\qquad E_{i}^{(p)} = \\frac{i}{q - p}.\n$$\nTherefore the general solution is\n$$\nE_{i} = A + B \\left(\\frac{q}{p}\\right)^{i} + \\frac{i}{q - p}.\n$$\nApply $E_{0}=0$ to obtain $A + B = 0$, hence $A=-B$. Apply $E_{N}=0$ to obtain\n$$\n0 = -B + B \\left(\\frac{q}{p}\\right)^{N} + \\frac{N}{q - p},\n$$\nwhich gives\n$$\nB = \\frac{N}{(q - p)\\left[1 - \\left(\\frac{q}{p}\\right)^{N}\\right]}, \\qquad A = -\\frac{N}{(q - p)\\left[1 - \\left(\\frac{q}{p}\\right)^{N}\\right]}.\n$$\nSubstituting $A$ and $B$ back yields\n$$\nE_{i} = \\frac{i}{q - p} + \\frac{N}{q - p} \\cdot \\frac{\\left(\\frac{q}{p}\\right)^{i} - 1}{1 - \\left(\\frac{q}{p}\\right)^{N}} = \\frac{i}{q - p} - \\frac{N}{q - p} \\cdot \\frac{1 - \\left(\\frac{q}{p}\\right)^{i}}{1 - \\left(\\frac{q}{p}\\right)^{N}}.\n$$\nThis holds for $p \\neq \\frac{1}{2}$ (equivalently $p \\neq q$), as required by the unfairness assumption.", "answer": "$$\\boxed{\\frac{i}{q - p} - \\frac{N}{q - p}\\,\\frac{1 - \\left(\\frac{q}{p}\\right)^{i}}{1 - \\left(\\frac{q}{p}\\right)^{N}}}$$", "id": "1398216"}, {"introduction": "Abstract formulas gain their true power when applied to tangible scenarios, allowing us to make quantitative comparisons. This hands-on problem models the financial journey of two startups as a Gambler's Ruin process, with one operating in a \"fair\" market ($p=0.5$) and the other in a \"challenging\" one ($p \\lt 0.5$). By applying the ruin probability formulas, such as the one derived in [@problem_id:7899], you will calculate and compare their respective risks of bankruptcy. This exercise powerfully illustrates how a small, persistent disadvantage can drastically increase the likelihood of eventual ruin [@problem_id:1398204], a key insight with applications far beyond gambling.", "problem": "Two competing tech startups, Alpha and Beta, are seeking to secure funding. The process can be modeled as a series of discrete rounds. In each round, a startup's capital either increases or decreases by a fixed amount, $\\Delta C = \\$100,000$. Both startups begin with an initial capital of $C_0 = \\$200,000$ and aim to reach a target funding level of $C_f = \\$1,000,000$. If a startup's capital ever drops to zero, it is considered bankrupt and exits the market.\n\nStartup Alpha operates in a \"neutral\" market environment, where the probability of gaining $\\Delta C$ in any given round is $p_A = 1/2$. Startup Beta, however, faces a more \"challenging\" market, where its probability of gaining $\\Delta C$ in a round is only $p_B = 1/3$.\n\nCalculate the ratio of the probability of bankruptcy for Startup Beta to the probability of bankruptcy for Startup Alpha. Express your answer as an exact fraction in simplest form.", "solution": "Let one round change capital by $\\Delta C$. Define the step size $s=\\Delta C$ and measure capital in units of $s$. Then the absorbing boundaries are at $0$ and $N$, where\n$$\nN=\\frac{C_{f}}{s}=\\frac{1{,}000{,}000}{100{,}000}=10,\n$$\nand the initial state is\n$$\ni=\\frac{C_{0}}{s}=\\frac{200{,}000}{100{,}000}=2.\n$$\n\nFor a one-dimensional random walk with absorbing states at $0$ and $N$, let $u_{i}$ be the probability of ruin (hitting $0$ before $N$) starting from state $i$. The standard difference equation is\n$$\nu_{i}=q\\,u_{i-1}+p\\,u_{i+1}, \\quad 1\\leq i\\leq N-1,\n$$\nwith boundary conditions $u_{0}=1$ and $u_{N}=0$, where $p$ is the probability of an upward step and $q=1-p$ is the probability of a downward step.\n\nStartup Alpha (neutral market) has $p_{A}=\\frac{1}{2}$ and $q_{A}=\\frac{1}{2}$. The difference equation becomes\n$$\nu_{i}=\\frac{1}{2}u_{i-1}+\\frac{1}{2}u_{i+1},\n$$\nwhich rearranges to $u_{i+1}-2u_{i}+u_{i-1}=0$. The general solution is linear, $u_{i}=A+Bi$. Applying $u_{0}=1$ gives $A=1$, and $u_{N}=0$ gives $1+BN=0$, so $B=-\\frac{1}{N}$. Therefore,\n$$\nu_{i}^{(A)}=1-\\frac{i}{N}.\n$$\nSubstituting $i=2$ and $N=10$,\n$$\nu_{2}^{(A)}=1-\\frac{2}{10}=\\frac{8}{10}=\\frac{4}{5}.\n$$\n\nStartup Beta (challenging market) has $p_{B}=\\frac{1}{3}$ and $q_{B}=\\frac{2}{3}$. The difference equation is\n$$\nu_{i}=q_{B}\\,u_{i-1}+p_{B}\\,u_{i+1},\n$$\nor equivalently $p_{B}u_{i+1}-u_{i}+q_{B}u_{i-1}=0$. Seeking a solution of the form $u_{i}=r^{i}$ leads to the characteristic equation\n$$\np_{B}r^{2}-r+q_{B}=0.\n$$\nIts roots are $r=1$ and $r=\\frac{q_{B}}{p_{B}}$. Hence the general solution is\n$$\nu_{i}=A+B\\left(\\frac{q_{B}}{p_{B}}\\right)^{i}.\n$$\nApplying $u_{0}=1$ and $u_{N}=0$:\n$$\nA+B=1,\\quad A+B\\left(\\frac{q_{B}}{p_{B}}\\right)^{N}=0.\n$$\nSolving for $A$ and $B$ yields\n$$\nu_{i}^{(B)}=\\frac{\\left(\\frac{q_{B}}{p_{B}}\\right)^{i}-\\left(\\frac{q_{B}}{p_{B}}\\right)^{N}}{1-\\left(\\frac{q_{B}}{p_{B}}\\right)^{N}}.\n$$\nWith $p_{B}=\\frac{1}{3}$ and $q_{B}=\\frac{2}{3}$, we have $\\frac{q_{B}}{p_{B}}=2$, so for $i=2$ and $N=10$,\n$$\nu_{2}^{(B)}=\\frac{2^{2}-2^{10}}{1-2^{10}}=\\frac{4-1024}{1-1024}=\\frac{1020}{1023}=\\frac{340}{341}.\n$$\n\nThe required ratio of bankruptcy probabilities is\n$$\n\\frac{u_{2}^{(B)}}{u_{2}^{(A)}}=\\frac{\\frac{340}{341}}{\\frac{4}{5}}=\\frac{340}{341}\\cdot\\frac{5}{4}=\\frac{1700}{1364}=\\frac{425}{341}.\n$$", "answer": "$$\\boxed{\\frac{425}{341}}$$", "id": "1398204"}]}