{"hands_on_practices": [{"introduction": "We begin with a classic and highly intuitive problem: a random walk on the vertices of a cube. This exercise serves as a perfect entry point for calculating mean hitting times, as the high degree of symmetry in a cube allows for a significant simplification of the problem. By categorizing vertices based on their distance from the target, you can reduce a system of eight equations to a much smaller, manageable set, providing a clear demonstration of first-step analysis in action [@problem_id:1318153].", "problem": "A spider is situated at one vertex of a wire-frame cube, which consists of 8 vertices and 12 edges of equal length. The spider begins to move along the edges of the cube. At each vertex, the spider randomly and with equal probability chooses one of the three connecting edges to walk along to the next vertex. This process is repeated at each subsequent vertex.\n\nThe spider's goal is to reach the vertex that is diagonally opposite to its starting vertex. Calculate the expected number of steps (i.e., edges traversed) the spider must take to reach its destination for the first time.", "solution": "Model the spider’s motion as a simple random walk on the 3-dimensional hypercube graph. By symmetry, the expected time to hit the target depends only on the graph distance from the target vertex. Let $E_{d}$ be the expected number of steps to first reach the target when starting from a vertex at distance $d$ from it, where $d \\in \\{0,1,2,3\\}$. Clearly, $E_{0}=0$.\n\nOn the hypercube, each step flips exactly one coordinate, so the distance from the target changes by $\\pm 1$ at each step. From a vertex at distance $d$, there are $d$ neighbors at distance $d-1$ (flipping one of the $d$ differing coordinates) and $3-d$ neighbors at distance $d+1$ (flipping one of the $3-d$ matching coordinates). Since each of the $3$ edges is chosen with probability $\\frac{1}{3}$, the first-step recursion for $d=1,2,3$ is\n$$\nE_{d} \\;=\\; 1 \\;+\\; \\frac{d}{3}\\,E_{d-1} \\;+\\; \\frac{3-d}{3}\\,E_{d+1},\n$$\nwith boundary condition $E_{0}=0$ and no $E_{4}$ term needed because $\\frac{3-d}{3}=0$ when $d=3$.\n\nWriting these explicitly:\n$$\nE_{1} \\;=\\; 1 \\;+\\; \\frac{1}{3}E_{0} \\;+\\; \\frac{2}{3}E_{2} \\;=\\; 1 \\;+\\; \\frac{2}{3}E_{2},\n$$\n$$\nE_{2} \\;=\\; 1 \\;+\\; \\frac{2}{3}E_{1} \\;+\\; \\frac{1}{3}E_{3},\n$$\n$$\nE_{3} \\;=\\; 1 \\;+\\; E_{2}.\n$$\n\nSubstitute $E_{3}=1+E_{2}$ into the equation for $E_{2}$:\n$$\nE_{2} \\;=\\; 1 \\;+\\; \\frac{2}{3}E_{1} \\;+\\; \\frac{1}{3}(1+E_{2})\n\\;=\\; \\frac{4}{3} \\;+\\; \\frac{2}{3}E_{1} \\;+\\; \\frac{1}{3}E_{2}.\n$$\nRearrange:\n$$\nE_{2} - \\frac{1}{3}E_{2} \\;=\\; \\frac{4}{3} \\;+\\; \\frac{2}{3}E_{1}\n\\;\\;\\Rightarrow\\;\\; \\frac{2}{3}E_{2} \\;=\\; \\frac{4}{3} \\;+\\; \\frac{2}{3}E_{1}\n\\;\\;\\Rightarrow\\;\\; E_{2} \\;=\\; 2 + E_{1}.\n$$\nSubstitute into the equation for $E_{1}$:\n$$\nE_{1} \\;=\\; 1 \\;+\\; \\frac{2}{3}E_{2}\n\\;=\\; 1 \\;+\\; \\frac{2}{3}(2 + E_{1})\n\\;=\\; 1 \\;+\\; \\frac{4}{3} \\;+\\; \\frac{2}{3}E_{1}\n\\;=\\; \\frac{7}{3} \\;+\\; \\frac{2}{3}E_{1}.\n$$\nThus\n$$\nE_{1} - \\frac{2}{3}E_{1} \\;=\\; \\frac{7}{3}\n\\;\\;\\Rightarrow\\;\\; \\frac{1}{3}E_{1} \\;=\\; \\frac{7}{3}\n\\;\\;\\Rightarrow\\;\\; E_{1} \\;=\\; 7.\n$$\nThen\n$$\nE_{2} \\;=\\; 2 + E_{1} \\;=\\; 9,\n\\qquad\nE_{3} \\;=\\; 1 + E_{2} \\;=\\; 10.\n$$\n\nThe spider starts at distance $3$ from the target (opposite vertex), so the expected number of steps is $E_{3}=10$.", "answer": "$$\\boxed{10}$$", "id": "1318153"}, {"introduction": "Building on the idea of symmetry, this next practice explores a random walk on a square grid that mimics the movement of a chess knight. Unlike the highly regular cube, the symmetries here are more subtle, requiring you to classify positions not just by distance but by their type—'corner', 'edge', or 'central'. This problem sharpens your ability to identify and leverage the structural properties of a state space to make complex calculations tractable, reinforcing the power of state-space reduction [@problem_id:1318164].", "problem": "A particle performs a random walk on a $4 \\times 4$ grid of squares. The particle's movement protocol is identical to that of a knight in chess: from its current square, it can move two squares in one cardinal direction (horizontal or vertical) and then one square in a perpendicular direction. If multiple valid moves are possible from its current square (i.e., moves that land within the $4 \\times 4$ grid), the particle chooses one of them uniformly at random for its next step.\n\nThe squares of the grid can be classified by their position.\n- 'Corner' squares are the four squares at the corners of the grid.\n- 'Central' squares are the four squares forming a $2 \\times 2$ block in the center of the grid, which do not touch any edge.\n- All eight other squares are 'Edge' squares.\n\nIf the particle is initially placed on one of the central squares, what is the expected number of moves it will take to land on a corner square for the first time?\n\nExpress your answer as an exact integer.", "solution": "Label the three symmetry classes of squares as follows: central squares $C$ (the four squares $(2,2),(2,3),(3,2),(3,3)$), edge squares $E$ (the eight non-corner boundary squares), and corner squares $K$ (the four corners). By board symmetries, all squares within each class have the same expected hitting time to a corner.\n\nDetermine the knight-move connections by direct checking:\n- From any $C$ square there are $4$ legal knight moves: exactly $2$ go to $K$ and $2$ go to $E$. Hence, from $C$, the next state is $K$ with probability $\\frac{1}{2}$ and $E$ with probability $\\frac{1}{2}$.\n- From any $E$ square there are $3$ legal moves: exactly $1$ goes to $C$ and $2$ go to $E$, and none go directly to $K$. Thus from $E$, the next state is $C$ with probability $\\frac{1}{3}$ and $E$ with probability $\\frac{2}{3}$.\n- A $K$ square is absorbing for the first-hitting-time problem, so its hitting time is $0$.\n\nLet $T_{C}$ be the expected number of moves to hit $K$ starting from a central square, and $T_{E}$ the same starting from an edge square. Using first-step analysis:\nFrom $C$,\n$$\nT_{C}=1+\\frac{1}{2}\\cdot 0+\\frac{1}{2}\\,T_{E}=1+\\frac{1}{2}T_{E}.\n$$\nFrom $E$,\n$$\nT_{E}=1+\\frac{1}{3}T_{C}+\\frac{2}{3}T_{E}.\n$$\nSolve the linear system. Rearranging the second equation,\n$$\nT_{E}-\\frac{2}{3}T_{E}=1+\\frac{1}{3}T_{C}\\;\\Longrightarrow\\;\\frac{1}{3}T_{E}=1+\\frac{1}{3}T_{C}\\;\\Longrightarrow\\;T_{E}=3+T_{C}.\n$$\nSubstitute into the first equation:\n$$\nT_{C}=1+\\frac{1}{2}(3+T_{C})=\\frac{5}{2}+\\frac{1}{2}T_{C}\n\\;\\Longrightarrow\\;\nT_{C}-\\frac{1}{2}T_{C}=\\frac{5}{2}\n\\;\\Longrightarrow\\;\n\\frac{1}{2}T_{C}=\\frac{5}{2}\n\\;\\Longrightarrow\\;\nT_{C}=5.\n$$\nTherefore, starting from any central square, the expected number of moves to first reach a corner is $5$.", "answer": "$$\\boxed{5}$$", "id": "1318164"}, {"introduction": "Our final practice takes a conceptual leap from the geometric to the abstract, examining a process rooted in modular arithmetic. In this scenario, the 'state' is not a physical location but the remainder of a cumulative sum after division by a number, in this case, $5$. This exercise demonstrates that the principles of mean hitting time extend far beyond physical random walks and introduces the powerful connection between mean return time and the stationary distribution of a Markov chain, offering an elegant and efficient solution method [@problem_id:1318167].", "problem": "In a simplified model of a data transmission protocol, a stream of data packets is sent sequentially. Each packet contains a numerical value. A running checksum is maintained, which is the cumulative sum of the numerical values of all packets received so far. The protocol requires that for a transmission to be considered complete, the final checksum must be a multiple of 5.\n\nSuppose a test data stream is generated where the numerical value of each packet is an integer drawn randomly and uniformly from the set $\\{1, 2, 3, 4, 5, 6\\}$. The process starts with a checksum of 0 before any packets are received.\n\nWhat is the expected number of packets that must be received until the running checksum is first a non-zero multiple of 5? Present the answer as a single exact number.", "solution": "Let $X_{1}, X_{2}, \\ldots$ be i.i.d. with $\\mathbb{P}(X_{k}=j)=\\frac{1}{6}$ for $j \\in \\{1,2,3,4,5,6\\}$, and let the running checksum be $S_{n}=\\sum_{k=1}^{n} X_{k}$. Define the process modulo $5$ by $Y_{n}=S_{n} \\bmod 5 \\in \\{0,1,2,3,4\\}$, with $Y_{0}=0$. We seek the expected hitting time\n$$\nT=\\min\\{n \\ge 1 : Y_{n}=0\\}.\n$$\nThe step distribution modulo $5$ is given by\n$$\n\\mathbb{P}(X \\equiv 0 \\bmod 5)=\\frac{1}{6},\\quad \\mathbb{P}(X \\equiv 1 \\bmod 5)=\\frac{2}{6},\\quad \\mathbb{P}(X \\equiv 2 \\bmod 5)=\\frac{1}{6},\\quad \\mathbb{P}(X \\equiv 3 \\bmod 5)=\\frac{1}{6},\\quad \\mathbb{P}(X \\equiv 4 \\bmod 5)=\\frac{1}{6}.\n$$\nTherefore $\\{Y_{n}\\}$ is a Markov chain on $\\{0,1,2,3,4\\}$ with transition probabilities\n$$\nP_{r,s}=\\mathbb{P}(Y_{n+1}=s \\mid Y_{n}=r)=p_{(s-r)\\bmod 5},\n$$\nwhere $(p_{0},p_{1},p_{2},p_{3},p_{4})=\\left(\\frac{1}{6},\\frac{1}{3},\\frac{1}{6},\\frac{1}{6},\\frac{1}{6}\\right)$. This transition matrix is circulant with each column sum equal to $1$, since for fixed $s$,\n$$\n\\sum_{r=0}^{4} P_{r,s}=\\sum_{r=0}^{4} p_{(s-r)\\bmod 5}=\\sum_{k=0}^{4} p_{k}=1.\n$$\nHence the uniform distribution $\\pi$ with $\\pi_{r}=\\frac{1}{5}$ is stationary:\n$$\n\\sum_{r=0}^{4} \\pi_{r} P_{r,s}=\\frac{1}{5} \\sum_{r=0}^{4} P_{r,s}=\\frac{1}{5}.\n$$\nThe chain is irreducible because $p_{1}>0$ implies any state can be reached from any other by repeated $+1$ steps modulo $5$. Being finite, it is also positive recurrent. By the standard Markov chain recurrence theorem (Kac's formula), the expected return time to state $i$ starting from $i$ is\n$$\n\\mathbb{E}_{i}[T_{i}^{+}]=\\frac{1}{\\pi_{i}}.\n$$\nTaking $i=0$ gives\n$$\n\\mathbb{E}[T]=\\frac{1}{\\pi_{0}}=\\frac{1}{1/5}=5.\n$$\nThis $T$ is exactly the number of packets until the checksum is first a non-zero multiple of $5$ (time at least $1$), and the possibility of drawing $X=5$ corresponds to an immediate return in one step, which is correctly included by this formula.", "answer": "$$\\boxed{5}$$", "id": "1318167"}]}