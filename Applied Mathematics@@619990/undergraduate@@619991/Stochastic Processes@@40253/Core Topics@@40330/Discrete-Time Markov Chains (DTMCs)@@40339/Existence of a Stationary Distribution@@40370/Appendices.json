{"hands_on_practices": [{"introduction": "Our first practice explores a common scenario in computer science: load balancing across servers. By modeling this as a Markov chain, we can predict the system's long-term behavior. This problem [@problem_id:1300471] is designed to highlight a powerful shortcut for finding the stationary distribution when the system possesses a high degree of symmetry, leading to a special type of transition matrix known as a doubly stochastic matrix.", "problem": "A small cloud computing cluster consists of $N=5$ identical servers, labeled 1 through 5. To ensure even utilization, a dynamic \"job shuffling\" algorithm is implemented. At the end of each discrete time interval, a single computational job currently running on a server is evaluated for migration. The algorithm's rule is as follows: with probability $\\alpha = 0.6$, the job remains on its current server; with probability $1-\\alpha$, the job is migrated. If a migration decision is made, the job is moved to one of the other $N-1$ servers, with each destination server being chosen with equal probability.\n\nThis process can be modeled as a finite-state Markov chain, where the state of the system is the server number on which the job resides. Let $P$ be the transition matrix for this chain. A stationary distribution is a probability row vector $\\pi = (\\pi_1, \\pi_2, \\dots, \\pi_N)$ whose components sum to one, representing the long-term probabilities of finding the job on each server, and which satisfies the equation $\\pi P = \\pi$.\n\nAssuming the system has been running for a very long time and has reached equilibrium, determine the stationary distribution $\\pi = (\\pi_1, \\pi_2, \\pi_3, \\pi_4, \\pi_5)$. Present your answer as a row matrix of exact fractions.", "solution": "Let the state space of the Markov chain be $S = \\{1, 2, 3, 4, 5\\}$, representing the server on which the job is located. We need to find the stationary distribution $\\pi = (\\pi_1, \\pi_2, \\pi_3, \\pi_4, \\pi_5)$.\n\nFirst, we construct the $5 \\times 5$ transition matrix $P$, where the entry $P_{ij}$ is the probability of transitioning from state $i$ to state $j$ in one time step. The problem provides the following information:\n- The number of servers is $N=5$.\n- The probability of a job staying on its current server is $\\alpha = 0.6$.\n- The probability of a job being migrated is $1-\\alpha = 0.4$.\n- If migrated from server $i$, the job moves to any other server $j \\neq i$ with equal probability. There are $N-1 = 4$ other servers.\n\nFrom these rules, we can determine the elements of the transition matrix $P$:\n1.  The diagonal elements $P_{ii}$ represent the probability of staying in state $i$. This is given as $\\alpha$.\n    $$P_{ii} = \\alpha = 0.6$$\n2.  The off-diagonal elements $P_{ij}$ (for $i \\neq j$) represent the probability of moving from state $i$ to state $j$. This occurs if the job is migrated (with probability $1-\\alpha$) and server $j$ is chosen as the destination from the $N-1$ possibilities.\n    $$P_{ij} = \\frac{1-\\alpha}{N-1} = \\frac{1 - 0.6}{5 - 1} = \\frac{0.4}{4} = 0.1$$\n\nSo, the transition matrix $P$ is:\n$$\nP = \\begin{pmatrix}\n0.6 & 0.1 & 0.1 & 0.1 & 0.1 \\\\\n0.1 & 0.6 & 0.1 & 0.1 & 0.1 \\\\\n0.1 & 0.1 & 0.6 & 0.1 & 0.1 \\\\\n0.1 & 0.1 & 0.1 & 0.6 & 0.1 \\\\\n0.1 & 0.1 & 0.1 & 0.1 & 0.6\n\\end{pmatrix}\n$$\n\nA stationary distribution $\\pi$ must satisfy $\\pi P = \\pi$ and $\\sum_{i=1}^{5} \\pi_i = 1$.\n\nWe can solve this system of linear equations. The equation $\\pi P = \\pi$ gives:\n$$\n(\\pi_1, \\pi_2, \\pi_3, \\pi_4, \\pi_5)\n\\begin{pmatrix}\n0.6 & 0.1 & 0.1 & 0.1 & 0.1 \\\\\n0.1 & 0.6 & 0.1 & 0.1 & 0.1 \\\\\n0.1 & 0.1 & 0.6 & 0.1 & 0.1 \\\\\n0.1 & 0.1 & 0.1 & 0.6 & 0.1 \\\\\n0.1 & 0.1 & 0.1 & 0.1 & 0.6\n\\end{pmatrix}\n= (\\pi_1, \\pi_2, \\pi_3, \\pi_4, \\pi_5)\n$$\nThis yields a system of equations. For the first component:\n$$\n\\pi_1 = 0.6\\pi_1 + 0.1\\pi_2 + 0.1\\pi_3 + 0.1\\pi_4 + 0.1\\pi_5\n$$\nDue to the complete symmetry of the transition matrix, the equations for $\\pi_2, \\pi_3, \\pi_4, \\pi_5$ will have the same structure. This symmetry implies that the components of the stationary distribution must be equal: $\\pi_1 = \\pi_2 = \\pi_3 = \\pi_4 = \\pi_5$.\n\nLet's verify this. A more direct approach is to check the properties of matrix $P$. A matrix is called doubly stochastic if it is a stochastic matrix (all entries are non-negative and all rows sum to 1) and all its columns also sum to 1.\n\nLet's check the row sums of $P$:\nFor any row $i$, the sum is $P_{ii} + \\sum_{j \\neq i} P_{ij} = \\alpha + (N-1) \\frac{1-\\alpha}{N-1} = \\alpha + (1-\\alpha) = 1$.\nSpecifically, $0.6 + 4 \\times 0.1 = 0.6 + 0.4 = 1$. So, $P$ is a stochastic matrix.\n\nNow, let's check the column sums of $P$:\nFor any column $j$, the sum is $P_{jj} + \\sum_{i \\neq j} P_{ij} = \\alpha + (N-1) \\frac{1-\\alpha}{N-1} = \\alpha + (1-\\alpha) = 1$.\nSpecifically, $0.6 + 4 \\times 0.1 = 0.6 + 0.4 = 1$. So, $P$ is also a doubly stochastic matrix.\n\nA key theorem in the theory of Markov chains states that if a finite-state, irreducible, and aperiodic Markov chain has a doubly stochastic transition matrix $P$, then its unique stationary distribution is the uniform distribution.\n- The chain is irreducible because $P_{ij} > 0$ for all $i, j$, meaning any state can be reached from any other state in one step.\n- The chain is aperiodic because $P_{ii} > 0$ for all $i$.\n\nFor a state space with $N$ states, the uniform distribution is given by $\\pi_i = 1/N$ for all $i=1, \\dots, N$.\nIn our case, $N=5$, so the stationary distribution is:\n$$ \\pi_i = \\frac{1}{5} \\quad \\text{for } i=1, 2, 3, 4, 5. $$\nAs decimal fractions, this is $\\pi_i = 0.2$. As exact fractions, it is $1/5$.\n\nThe stationary distribution vector is therefore:\n$$ \\pi = \\left(\\frac{1}{5}, \\frac{1}{5}, \\frac{1}{5}, \\frac{1}{5}, \\frac{1}{5}\\right) $$\nNotice that the specific value of $\\alpha=0.6$ does not affect the final stationary distribution, as long as the problem structure leads to a doubly stochastic matrix.\n\nWe can check this solution with the equation $\\pi P = \\pi$:\nLet $\\pi = (\\frac{1}{5}, \\frac{1}{5}, \\frac{1}{5}, \\frac{1}{5}, \\frac{1}{5})$. The first component of the product $\\pi P$ is:\n$$ (\\pi P)_1 = \\sum_{i=1}^5 \\pi_i P_{i1} = \\frac{1}{5}(0.6) + \\frac{1}{5}(0.1) + \\frac{1}{5}(0.1) + \\frac{1}{5}(0.1) + \\frac{1}{5}(0.1) $$\n$$ (\\pi P)_1 = \\frac{1}{5} (0.6 + 0.1 + 0.1 + 0.1 + 0.1) = \\frac{1}{5}(1) = \\frac{1}{5} $$\nThis equals $\\pi_1$. By symmetry, this holds for all components. Thus, $\\pi P = \\pi$ is satisfied. Also, $\\sum \\pi_i = 5 \\times \\frac{1}{5} = 1$. The solution is correct.", "answer": "$$\\boxed{\\begin{pmatrix} \\frac{1}{5} & \\frac{1}{5} & \\frac{1}{5} & \\frac{1}{5} & \\frac{1}{5} \\end{pmatrix}}$$", "id": "1300471"}, {"introduction": "Not all systems are designed to run indefinitely in a balanced cycle. Some processes evolve towards a final, irreversible state. This exercise [@problem_id:1300497] uses a simplified weather model to introduce the critical concept of an absorbing state, a 'trap' from which there is no escape. You will see how the presence of such a state dictates that the entire probability mass of the stationary distribution must eventually concentrate there.", "problem": "A meteorologist develops a simplified three-state model for daily weather patterns in a specific region. The possible states are Sunny (S), Rainy (R), and a special long-term state, Drought (D). This model is represented as a discrete-time Markov chain. The transitions between states are governed by the following rules:\n\n1.  If the weather is Sunny on a given day, on the next day it will be Sunny with probability $p_{SS}$, Rainy with probability $p_{SR}$, and the region will enter a Drought state with probability $p_{SD}$. The sum of these probabilities is one: $p_{SS} + p_{SR} + p_{SD} = 1$.\n2.  If the weather is Rainy on a given day, on the next day it will be Sunny with probability $p_{RS}$ or Rainy with probability $p_{RR}$. The sum is one: $p_{RS} + p_{RR} = 1$. There is no direct transition from Rainy to Drought.\n3.  Once the region is in the Drought state, it remains in the Drought state permanently.\n\nAll transition probabilities $p_{SR}$, $p_{SD}$, and $p_{RS}$ are strictly greater than zero and less than one.\n\nA stationary distribution of a Markov chain is a probability distribution that remains unchanged over time. For this weather model, what is the unique stationary distribution $\\pi = (\\pi_S, \\pi_R, \\pi_D)$, where $\\pi_S$, $\\pi_R$, and $\\pi_D$ are the long-term probabilities of being in the Sunny, Rainy, and Drought states, respectively?\n\nA. $\\pi = (0, 0, 1)$\n\nB. $\\pi = (1, 0, 0)$\n\nC. $\\pi = \\left(\\frac{p_{RS}}{p_{RS}+p_{SR}}, \\frac{p_{SR}}{p_{RS}+p_{SR}}, 0\\right)$\n\nD. A unique stationary distribution does not exist for this model.\n\nE. The stationary distribution depends on the initial state of the weather.", "solution": "Let the state space of the Markov chain be $\\mathcal{S} = \\{S, R, D\\}$. The stationary distribution $\\pi = (\\pi_S, \\pi_R, \\pi_D)$ must satisfy two conditions:\n1.  $\\pi P = \\pi$, where $P$ is the transition probability matrix.\n2.  $\\pi_S + \\pi_R + \\pi_D = 1$.\n\nFirst, we construct the transition matrix $P$ from the problem description. The states are ordered as (S, R, D).\n$$\nP = \\begin{pmatrix}\np_{SS} & p_{SR} & p_{SD} \\\\\np_{RS} & p_{RR} & 0 \\\\\n0 & 0 & 1\n\\end{pmatrix}\n$$\nThe condition $\\pi P = \\pi$ expands into a system of linear equations:\n$$\n(\\pi_S, \\pi_R, \\pi_D) \\begin{pmatrix}\np_{SS} & p_{SR} & p_{SD} \\\\\np_{RS} & p_{RR} & 0 \\\\\n0 & 0 & 1\n\\end{pmatrix} = (\\pi_S, \\pi_R, \\pi_D)\n$$\n\nThis gives us the following three equations:\n1.  $\\pi_S p_{SS} + \\pi_R p_{RS} = \\pi_S$\n2.  $\\pi_S p_{SR} + \\pi_R p_{RR} = \\pi_R$\n3.  $\\pi_S p_{SD} + \\pi_D (1) = \\pi_D$\n\nLet's analyze the third equation:\n$\\pi_S p_{SD} + \\pi_D = \\pi_D$\nSubtracting $\\pi_D$ from both sides gives:\n$\\pi_S p_{SD} = 0$\n\nThe problem states that the probability of transitioning from Sunny to Drought, $p_{SD}$, is strictly greater than zero. For the product $\\pi_S p_{SD}$ to be zero, it must be that $\\pi_S = 0$.\n\nNow, let's substitute $\\pi_S = 0$ into the first equation:\n$(0) p_{SS} + \\pi_R p_{RS} = (0)$\n$\\pi_R p_{RS} = 0$\n\nThe problem also states that the probability of transitioning from Rainy to Sunny, $p_{RS}$, is strictly greater than zero. For the product $\\pi_R p_{RS}$ to be zero, it must be that $\\pi_R = 0$.\n\nFinally, we use the normalization condition that the sum of the probabilities in the stationary distribution must be 1:\n$\\pi_S + \\pi_R + \\pi_D = 1$\nSubstituting the values we found for $\\pi_S$ and $\\pi_R$:\n$0 + 0 + \\pi_D = 1$\nThis implies $\\pi_D = 1$.\n\nTherefore, the unique stationary distribution for this system is $\\pi = (0, 0, 1)$.\n\nConceptually, the state D is an absorbing state because once entered, it cannot be left ($p_{DD}=1$). The other states, S and R, are transient. Since there is a non-zero probability of reaching the absorbing state D from every transient state (from R one can go to S, and from S one can go to D), the system will eventually, with probability 1, be absorbed into state D. The stationary distribution represents the long-term behavior of the system. As time goes to infinity, the probability of being in any of the transient states (S or R) approaches zero, and the probability of being in the absorbing state (D) approaches one.", "answer": "$$\\boxed{A}$$", "id": "1300497"}, {"introduction": "We now move from finite state spaces to the more complex realm of infinite ones, a common feature in fields like queueing theory. This problem [@problem_id:1300518] models a server queue and investigates a crucial question: under what conditions will the queue remain stable and not grow indefinitely? The solution hinges on analyzing the balance between arrival and service rates, introducing the powerful technique of using an infinite series to test for the existence of a stationary distribution.", "problem": "Consider a queuing model for a computer server that processes incoming jobs. The number of jobs in the queue, including any being processed, is modeled as a continuous-time Markov chain on the state space of non-negative integers $\\{0, 1, 2, ...\\}$. New jobs arrive according to a Poisson process with a constant rate $\\lambda > 0$. When there are $i \\ge 1$ jobs in the system, the server processes and removes them at a rate $\\mu_i = \\mu i^c$, where $\\mu > 0$ is a base processing rate and $c > 0$ is a positive constant that characterizes how the processing speed scales with the queue length. The system is thus a birth-death process with birth rates $\\lambda_i = \\lambda$ for all $i \\ge 0$ and death rates $\\mu_i = \\mu i^c$ for all $i \\ge 1$. For the system to be stable in the long run, it must possess a stationary distribution. For which values of the scaling exponent $c$ does a stationary distribution exist?\n\nA. $0 < c < 1$\n\nB. $c = 1$\n\nC. $c > 1$\n\nD. $0 < c \\le 1$\n\nE. A stationary distribution exists for all $c > 0$.", "solution": "We model the number of jobs as a birth-death process on $\\{0,1,2,\\dots\\}$ with constant birth rates $\\lambda_{i}=\\lambda$ for all $i\\geq 0$ and death rates $\\mu_{i}=\\mu i^{c}$ for all $i\\geq 1$, with $\\lambda>0$, $\\mu>0$, and $c>0$.\n\nA stationary distribution $\\{\\pi_{n}\\}_{n\\geq 0}$ for a birth-death chain exists if and only if the normalization series\n$$\n\\sum_{n=0}^{\\infty}\\pi_{n}\n$$\nis finite, where for $n\\geq 1$ the stationary probabilities, up to a normalizing constant, satisfy the detailed-balance recursion\n$$\n\\pi_{n}=\\pi_{0}\\prod_{k=1}^{n}\\frac{\\lambda_{k-1}}{\\mu_{k}}.\n$$\nSubstituting the given rates $\\lambda_{k-1}=\\lambda$ and $\\mu_{k}=\\mu k^{c}$ yields\n$$\n\\pi_{n}=\\pi_{0}\\prod_{k=1}^{n}\\frac{\\lambda}{\\mu k^{c}}\n=\\pi_{0}\\left(\\frac{\\lambda}{\\mu}\\right)^{n}\\prod_{k=1}^{n}k^{-c}\n=\\pi_{0}\\frac{\\left(\\frac{\\lambda}{\\mu}\\right)^{n}}{(n!)^{c}}.\n$$\nHence the normalizing constant is\n$$\nZ=\\sum_{n=0}^{\\infty}\\frac{\\left(\\frac{\\lambda}{\\mu}\\right)^{n}}{(n!)^{c}}.\n$$\nWe test convergence of $Z$ using the ratio test. Define $a_{n}=\\left(\\frac{\\lambda}{\\mu}\\right)^{n}/(n!)^{c}$. Then\n$$\n\\frac{a_{n+1}}{a_{n}}=\\frac{\\left(\\frac{\\lambda}{\\mu}\\right)^{n+1}}{((n+1)!)^{c}}\\cdot\\frac{(n!)^{c}}{\\left(\\frac{\\lambda}{\\mu}\\right)^{n}}\n=\\frac{\\lambda}{\\mu}\\cdot\\frac{1}{(n+1)^{c}}.\n$$\nSince $c>0$, we have $(n+1)^{c}\\to\\infty$ as $n\\to\\infty$, so\n$$\n\\lim_{n\\to\\infty}\\frac{a_{n+1}}{a_{n}}=0.\n$$\nBy the ratio test, $Z$ converges for every $c>0$, independently of the values of $\\lambda$ and $\\mu$.\n\nTherefore, the birth-death process is positive recurrent and admits a stationary distribution for all $c>0$. Among the given options, this corresponds to the statement that a stationary distribution exists for all $c>0$.", "answer": "$$\\boxed{E}$$", "id": "1300518"}]}