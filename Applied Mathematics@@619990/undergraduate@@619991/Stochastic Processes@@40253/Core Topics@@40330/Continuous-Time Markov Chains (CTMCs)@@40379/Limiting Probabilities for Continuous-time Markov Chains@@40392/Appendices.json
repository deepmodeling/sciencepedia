{"hands_on_practices": [{"introduction": "Mastering the concept of limiting probabilities begins with the simplest systems. This first exercise models a traffic light as a two-state continuous-time Markov chain, providing a clear and intuitive entry point into solving for steady-state behavior. By setting up and solving a simple balance equation, you will calculate the long-run proportion of time the system spends in one state, reinforcing the fundamental idea that these probabilities depend on the ratio of transition rates between states [@problem_id:1314961].", "problem": "A simplified traffic control system at a remote intersection operates with a single traffic light that can be in one of two states: State $M$, where the light is green for the main road, or State $S$, where the light is green for the side road. The behavior of the traffic light is modeled as a continuous-time Markov chain.\n\nThe system switches from State $M$ to State $S$ at a constant rate of $\\lambda_{MS} = 0.025$ switches per second. It switches back from State $S$ to State $M$ at a constant rate of $\\lambda_{SM} = 0.060$ switches per second. These rates imply that the time the system spends in each state before transitioning is an exponentially distributed random variable.\n\nAssuming the system has been running for a very long time, what is the long-run proportion of time that the traffic light is green for the main road? Calculate this proportion and provide your answer as a decimal rounded to four significant figures.", "solution": "Model the intersection as a two-state continuous-time Markov chain with states $M$ and $S$, and transition rates $\\lambda_{MS}$ from $M$ to $S$ and $\\lambda_{SM}$ from $S$ to $M$. In steady state, the stationary probabilities $\\pi_{M}$ and $\\pi_{S}$ satisfy the global balance and normalization equations:\n$$\n\\pi_{M}\\lambda_{MS}=\\pi_{S}\\lambda_{SM}, \\quad \\pi_{M}+\\pi_{S}=1.\n$$\nFrom the balance equation,\n$$\n\\pi_{S}=\\pi_{M}\\frac{\\lambda_{MS}}{\\lambda_{SM}}.\n$$\nSubstitute into the normalization equation:\n$$\n\\pi_{M}+\\pi_{M}\\frac{\\lambda_{MS}}{\\lambda_{SM}}=1 \\;\\;\\Rightarrow\\;\\; \\pi_{M}\\left(1+\\frac{\\lambda_{MS}}{\\lambda_{SM}}\\right)=1 \\;\\;\\Rightarrow\\;\\; \\pi_{M}=\\frac{1}{1+\\frac{\\lambda_{MS}}{\\lambda_{SM}}}=\\frac{\\lambda_{SM}}{\\lambda_{SM}+\\lambda_{MS}}.\n$$\nSubstitute the given rates $\\lambda_{MS}=0.025$ and $\\lambda_{SM}=0.060$:\n$$\n\\pi_{M}=\\frac{0.060}{0.060+0.025}=\\frac{0.060}{0.085}=\\frac{60}{85}=\\frac{12}{17}\\approx 0.705882\\ldots\n$$\nRounded to four significant figures, this is $0.7059$.", "answer": "$$\\boxed{0.7059}$$", "id": "1314961"}, {"introduction": "Building upon the two-state model, this next practice extends the principle of balance equations to a three-state system arranged in a cycle. You will model the operational cycle of a delivery truck—from the depot to its route and back again—as a continuous-time Markov chain. This problem challenges you to derive a general expression for the long-run probability of being in a particular state, developing your ability to work with symbolic rates and understand how they collectively determine the system's steady state [@problem_id:1314964].", "problem": "A logistics company models the activity of a single delivery truck as a continuous-time stochastic process with three states: 'at the depot', 'on the outbound route' (delivering packages), and 'on the inbound route' (returning to the depot).\n\nBased on extensive operational data, the company has determined the following:\n- When the truck is at the depot, the time until it is dispatched for a new delivery follows an exponential distribution with rate $\\lambda_D$.\n- Once on the outbound route, the time it takes to complete all deliveries and begin the return journey is exponentially distributed with rate $\\lambda_O$.\n- Finally, the duration of the inbound route back to the depot is an exponential random variable with rate $\\lambda_I$.\n\nAfter a very long period of operation, the system reaches a steady state. Determine the long-run fraction of time the truck is 'at the depot'. Express your answer as a closed-form analytic expression in terms of the rates $\\lambda_D$, $\\lambda_O$, and $\\lambda_I$.", "solution": "Model the truck as a continuous-time Markov chain with states $D$ (depot), $O$ (outbound), and $I$ (inbound). The holding time in each state is exponential with rates $\\lambda_{D}$, $\\lambda_{O}$, and $\\lambda_{I}$, respectively, and the only transitions are $D \\to O$ at rate $\\lambda_{D}$, $O \\to I$ at rate $\\lambda_{O}$, and $I \\to D$ at rate $\\lambda_{I}$. The generator $Q$ has nonzero off-diagonal entries $q_{DO}=\\lambda_{D}$, $q_{OI}=\\lambda_{O}$, $q_{ID}=\\lambda_{I}$, and $q_{ii}=-\\lambda_{i}$ for $i \\in \\{D,O,I\\}$.\n\nIn steady state, the stationary distribution $\\pi=(\\pi_{D},\\pi_{O},\\pi_{I})$ satisfies the global balance (flow) equations. Because transitions form a cycle with unidirectional edges, the steady-state throughput $r$ through each transition must be equal:\n$$\n\\pi_{D}\\lambda_{D}=\\pi_{O}\\lambda_{O}=\\pi_{I}\\lambda_{I}=r.\n$$\nHence,\n$$\n\\pi_{D}=\\frac{r}{\\lambda_{D}},\\quad \\pi_{O}=\\frac{r}{\\lambda_{O}},\\quad \\pi_{I}=\\frac{r}{\\lambda_{I}}.\n$$\nImpose normalization $\\pi_{D}+\\pi_{O}+\\pi_{I}=1$:\n$$\n\\frac{r}{\\lambda_{D}}+\\frac{r}{\\lambda_{O}}+\\frac{r}{\\lambda_{I}}=1\n\\;\\;\\Longrightarrow\\;\\;\nr\\left(\\frac{1}{\\lambda_{D}}+\\frac{1}{\\lambda_{O}}+\\frac{1}{\\lambda_{I}}\\right)=1\n\\;\\;\\Longrightarrow\\;\\;\nr=\\frac{1}{\\frac{1}{\\lambda_{D}}+\\frac{1}{\\lambda_{O}}+\\frac{1}{\\lambda_{I}}}.\n$$\nTherefore,\n$$\n\\pi_{D}=\\frac{r}{\\lambda_{D}}=\\frac{\\frac{1}{\\lambda_{D}}}{\\frac{1}{\\lambda_{D}}+\\frac{1}{\\lambda_{O}}+\\frac{1}{\\lambda_{I}}}.\n$$\nEquivalently, multiplying numerator and denominator by $\\lambda_{D}\\lambda_{O}\\lambda_{I}$,\n$$\n\\pi_{D}=\\frac{\\lambda_{O}\\lambda_{I}}{\\lambda_{O}\\lambda_{I}+\\lambda_{D}\\lambda_{I}+\\lambda_{D}\\lambda_{O}}.\n$$\nThis $\\pi_{D}$ is the long-run fraction of time the truck is at the depot.", "answer": "$$\\boxed{\\frac{\\lambda_{O}\\lambda_{I}}{\\lambda_{O}\\lambda_{I}+\\lambda_{D}\\lambda_{I}+\\lambda_{D}\\lambda_{O}}}$$", "id": "1314964"}, {"introduction": "We now advance from finite systems to a foundational model with an infinite number of states: the M/M/1 queue. This problem explores the long-term behavior of a simple queuing system, such as packets arriving at a router, which is a classic application of continuous-time Markov chains. Solving this requires applying the balance equation principle across an infinite state space, leading to a recurrence relation whose solution reveals a beautiful geometric distribution for the number of customers in the system [@problem_id:1334392].", "problem": "Consider a simplified model of a single network router. Data packets arrive at the router according to a Poisson process with an average rate of $\\lambda$ packets per second. The router has a single processing core and an effectively infinite buffer. The time it takes for the core to process and forward a single packet is an exponentially distributed random variable with a mean of $1/\\mu$ seconds. The system is operating under stable conditions, which means the traffic intensity, defined as the ratio $\\rho = \\lambda / \\mu$, is less than 1.\n\nLet $N(t)$ denote the total number of packets in the router system (i.e., packets waiting in the buffer plus the one currently being processed) at time $t$. Suppose at an initial time $t=0$, we observe that there are exactly $n$ packets in the system, where $n$ is a non-negative integer.\n\nAs time $T$ becomes very large, the probability of finding a specific number of packets, say $j$ (where $j$ is a non-negative integer), in the system at time $T$ converges to a limiting value that is independent of the initial number of packets $n$.\n\nDetermine the analytical expression for this limiting probability, $\\lim_{T \\to \\infty} P(N(T) = j | N(0) = n)$, as a function of the arrival rate $\\lambda$, the service rate $\\mu$, and the target number of packets $j$.", "solution": "This problem asks for the long-term probability distribution of the number of customers in an M/M/1 queue. The system described is a continuous-time Markov chain with the state space being the set of non-negative integers $\\{0, 1, 2, ...\\}$, where the state represents the number of packets $N(t)$ in the system.\n\nLet $P_j(t)$ be the probability that there are $j$ packets in the system at time $t$. The limiting probability we are looking for is $\\pi_j = \\lim_{t \\to \\infty} P_j(t)$. For an irreducible, positive recurrent Markov chain, this limit exists and is independent of the initial state. The condition $\\rho = \\lambda/\\mu < 1$ ensures the chain is positive recurrent, meaning a steady-state distribution exists.\n\nThe steady-state probabilities $\\pi_j$ are characterized by the property that the rate of flow of probability into any state $j$ equals the rate of flow of probability out of state $j$. These are known as the balance equations.\n\nLet's consider the transitions between states.\nA transition from state $k$ to $k+1$ occurs upon an arrival, with rate $\\lambda$.\nA transition from state $k$ to $k-1$ (for $k \\ge 1$) occurs upon a service completion, with rate $\\mu$.\n\nThe total rate of leaving state $j$ (for $j>0$) is $(\\lambda + \\mu)\\pi_j$, due to an arrival (to state $j+1$) or a service completion (to state $j-1$). The rate of entering state $j$ is $\\lambda \\pi_{j-1}$ (an arrival when in state $j-1$) plus $\\mu \\pi_{j+1}$ (a service completion when in state $j+1$).\nFor state $j=0$, the rate of leaving is $\\lambda \\pi_0$ (an arrival), and the rate of entering is $\\mu \\pi_1$ (a service completion from state 1).\n\nThe balance equations are:\n1. For state $j=0$:\nRate out = Rate in\n$$ \\lambda \\pi_0 = \\mu \\pi_1 $$\nThis gives us $\\pi_1 = \\frac{\\lambda}{\\mu} \\pi_0 = \\rho \\pi_0$.\n\n2. For state $j \\geq 1$:\nRate out = Rate in\n$$ (\\lambda + \\mu) \\pi_j = \\lambda \\pi_{j-1} + \\mu \\pi_{j+1} $$\nWe can use this set of equations to find a general relationship between $\\pi_j$ and $\\pi_0$. Let's test for $j=1$:\n$$ (\\lambda + \\mu) \\pi_1 = \\lambda \\pi_0 + \\mu \\pi_2 $$\nSubstituting $\\pi_1 = \\rho \\pi_0 = (\\lambda/\\mu)\\pi_0$:\n$$ (\\lambda + \\mu) \\frac{\\lambda}{\\mu} \\pi_0 = \\lambda \\pi_0 + \\mu \\pi_2 $$\n$$ \\frac{\\lambda^2 + \\lambda\\mu}{\\mu} \\pi_0 = \\lambda \\pi_0 + \\mu \\pi_2 $$\n$$ \\frac{\\lambda^2}{\\mu} \\pi_0 + \\lambda \\pi_0 = \\lambda \\pi_0 + \\mu \\pi_2 $$\n$$ \\frac{\\lambda^2}{\\mu} \\pi_0 = \\mu \\pi_2 $$\n$$ \\pi_2 = \\frac{\\lambda^2}{\\mu^2} \\pi_0 = \\left(\\frac{\\lambda}{\\mu}\\right)^2 \\pi_0 = \\rho^2 \\pi_0 $$\nThis suggests a pattern: $\\pi_j = \\rho^j \\pi_0$. We can prove this by induction using the balance equations. Assume $\\pi_k = \\rho^k \\pi_0$ holds for $k \\le j$. From the balance equation for state $j$:\n$$ \\mu \\pi_{j+1} = (\\lambda + \\mu) \\pi_j - \\lambda \\pi_{j-1} $$\nSubstituting our inductive hypothesis:\n$$ \\mu \\pi_{j+1} = (\\lambda + \\mu) (\\rho^j \\pi_0) - \\lambda (\\rho^{j-1} \\pi_0) $$\n$$ \\mu \\pi_{j+1} = \\pi_0 \\rho^{j-1} \\left[ (\\lambda + \\mu) \\rho - \\lambda \\right] $$\nSubstituting $\\rho = \\lambda/\\mu$:\n$$ \\mu \\pi_{j+1} = \\pi_0 \\rho^{j-1} \\left[ (\\lambda + \\mu) \\frac{\\lambda}{\\mu} - \\lambda \\right] $$\n$$ \\mu \\pi_{j+1} = \\pi_0 \\rho^{j-1} \\left[ \\frac{\\lambda^2 + \\lambda\\mu}{\\mu} - \\lambda \\right] $$\n$$ \\mu \\pi_{j+1} = \\pi_0 \\rho^{j-1} \\left[ \\frac{\\lambda^2}{\\mu} + \\lambda - \\lambda \\right] = \\pi_0 \\rho^{j-1} \\frac{\\lambda^2}{\\mu} $$\n$$ \\pi_{j+1} = \\pi_0 \\frac{\\rho^{j-1}}{\\mu} \\frac{\\lambda^2}{\\mu} = \\pi_0 \\rho^{j-1} \\left(\\frac{\\lambda}{\\mu}\\right)^2 = \\pi_0 \\rho^{j-1} \\rho^2 = \\pi_0 \\rho^{j+1} $$\nThe inductive step holds. Thus, the relationship $\\pi_j = \\rho^j \\pi_0$ is correct for all $j \\geq 0$.\n\nThe final step is to determine $\\pi_0$ using the normalization condition, which states that the sum of all steady-state probabilities must equal 1.\n$$ \\sum_{j=0}^{\\infty} \\pi_j = 1 $$\n$$ \\sum_{j=0}^{\\infty} \\rho^j \\pi_0 = 1 $$\n$$ \\pi_0 \\sum_{j=0}^{\\infty} \\rho^j = 1 $$\nThe summation is a geometric series. Since the system is stable, we have $\\rho = \\lambda/\\mu < 1$, so the series converges:\n$$ \\sum_{j=0}^{\\infty} \\rho^j = \\frac{1}{1-\\rho} $$\nSubstituting this back into the normalization equation:\n$$ \\pi_0 \\left( \\frac{1}{1-\\rho} \\right) = 1 $$\n$$ \\pi_0 = 1 - \\rho $$\nNow we can write the final expression for $\\pi_j$:\n$$ \\pi_j = \\rho^j \\pi_0 = \\rho^j (1-\\rho) $$\nSubstituting $\\rho = \\lambda/\\mu$:\n$$ \\pi_j = \\left(\\frac{\\lambda}{\\mu}\\right)^j \\left(1 - \\frac{\\lambda}{\\mu}\\right) $$\nThis is the limiting probability of finding $j$ packets in the system, regardless of the initial state $n$.", "answer": "$$\\boxed{\\left(1 - \\frac{\\lambda}{\\mu}\\right) \\left(\\frac{\\lambda}{\\mu}\\right)^{j}}$$", "id": "1334392"}]}