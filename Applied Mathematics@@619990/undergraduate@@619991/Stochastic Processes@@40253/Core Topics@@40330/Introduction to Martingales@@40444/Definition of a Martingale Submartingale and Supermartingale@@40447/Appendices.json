{"hands_on_practices": [{"introduction": "A core task in stochastic analysis is to determine if a process exhibits a predictable trend. A process like the square of a random walk's position, $S_n^2$, tends to drift upwards. This exercise explores how to \"compensate\" for this drift by subtracting a deterministic term, a fundamental technique in constructing martingales. By finding the right conditions on this compensation term, you will practice applying the definitions of martingales, submartingales, and supermartingales to a foundational model [@problem_id:1295469].", "problem": "A particle's position at time $n$ is described by a simple symmetric random walk on the integers. Let $\\{Y_i\\}_{i \\ge 1}$ be a sequence of independent and identically distributed random variables representing the steps of the particle, with a probability distribution given by $P(Y_i = 1) = P(Y_i = -1) = 1/2$. The position of the particle at time $n$, denoted by $S_n$, is given by $S_0 = 0$ and $S_n = \\sum_{i=1}^n Y_i$ for $n \\ge 1$.\n\nThe information available at time $n$ is represented by the natural filtration $\\{\\mathcal{F}_n\\}_{n \\ge 0}$, where $\\mathcal{F}_n$ is the sigma-algebra generated by the first $n$ steps, i.e., $\\mathcal{F}_n = \\sigma(Y_1, \\dots, Y_n)$ for $n \\ge 1$, and $\\mathcal{F}_0$ is the trivial sigma-algebra.\n\nConsider a stochastic process $\\{X_n\\}_{n \\ge 0}$ defined by the formula $X_n = S_n^2 - cn$, where $c$ is a real constant. For this process to be a supermartingale, but not a martingale, a specific condition must be met by the constant $c$.\n\nWhich of the following conditions on $c$ ensures that $\\{X_n\\}_{n \\ge 0}$ is a supermartingale but not a martingale with respect to the filtration $\\{\\mathcal{F}_n\\}_{n \\ge 0}$?\n\nA. $c < 1$\n\nB. $c = 1$\n\nC. $c > 1$\n\nD. There is no value of $c$ for which this is possible.", "solution": "To determine the condition on the constant $c$ for the process $X_n = S_n^2 - cn$ to be a supermartingale but not a martingale, we must analyze the definition of these stochastic processes.\n\nA stochastic process $\\{X_n\\}_{n \\ge 0}$ is a supermartingale with respect to a filtration $\\{\\mathcal{F}_n\\}_{n \\ge 0}$ if it satisfies three conditions:\n1.  $X_n$ is adapted to the filtration $\\mathcal{F}_n$ for all $n \\ge 0$.\n2.  $X_n$ is integrable, i.e., $E[|X_n|] < \\infty$ for all $n \\ge 0$.\n3.  $E[X_{n+1} | \\mathcal{F}_n] \\le X_n$ for all $n \\ge 0$.\n\nA process is a martingale if the third condition is replaced by the equality $E[X_{n+1} | \\mathcal{F}_n] = X_n$. Thus, we are looking for the condition on $c$ such that $E[X_{n+1} | \\mathcal{F}_n] \\le X_n$, but the equality does not hold for all $n$.\n\nFirst, we check if $X_n$ is adapted and integrable.\nThe process $S_n = \\sum_{i=1}^n Y_i$ is a function of $Y_1, \\dots, Y_n$, so it is $\\mathcal{F}_n$-measurable. Consequently, $S_n^2$ is also $\\mathcal{F}_n$-measurable. Since $cn$ is a deterministic term, $X_n = S_n^2 - cn$ is $\\mathcal{F}_n$-measurable, meaning the process is adapted.\nTo check for integrability, we compute the variance of $S_n$. The expectation of each step is $E[Y_i] = (1)(1/2) + (-1)(1/2) = 0$. The expectation of the square of each step is $E[Y_i^2] = (1)^2(1/2) + (-1)^2(1/2) = 1$. The variance of each step is $\\text{Var}(Y_i) = E[Y_i^2] - (E[Y_i])^2 = 1 - 0^2 = 1$. Since the steps are independent, the variance of the sum is the sum of the variances: $\\text{Var}(S_n) = \\sum_{i=1}^n \\text{Var}(Y_i) = n$. The expectation of $S_n$ is $E[S_n] = \\sum_{i=1}^n E[Y_i] = 0$.\nThe expectation of $S_n^2$ is given by $E[S_n^2] = \\text{Var}(S_n) + (E[S_n])^2 = n + 0^2 = n$.\nThen, $E[|X_n|] = E[|S_n^2 - cn|] \\le E[S_n^2] + |cn| = n + |c|n = (1+|c|)n$. Since this is finite for any finite $n$, the process is integrable.\n\nNow, we compute the conditional expectation $E[X_{n+1} | \\mathcal{F}_n]$.\n$$E[X_{n+1} | \\mathcal{F}_n] = E[S_{n+1}^2 - c(n+1) | \\mathcal{F}_n]$$\nBy the linearity of conditional expectation:\n$$E[X_{n+1} | \\mathcal{F}_n] = E[S_{n+1}^2 | \\mathcal{F}_n] - c(n+1)$$\nWe express $S_{n+1}$ in terms of $S_n$ and $Y_{n+1}$: $S_{n+1} = S_n + Y_{n+1}$.\n$$E[S_{n+1}^2 | \\mathcal{F}_n] = E[(S_n + Y_{n+1})^2 | \\mathcal{F}_n] = E[S_n^2 + 2S_n Y_{n+1} + Y_{n+1}^2 | \\mathcal{F}_n]$$\nUsing linearity again:\n$$E[S_{n+1}^2 | \\mathcal{F}_n] = E[S_n^2 | \\mathcal{F}_n] + 2E[S_n Y_{n+1} | \\mathcal{F}_n] + E[Y_{n+1}^2 | \\mathcal{F}_n]$$\nSince $S_n$ is $\\mathcal{F}_n$-measurable, we can treat it as a constant within the conditional expectation on $\\mathcal{F}_n$. Also, $Y_{n+1}$ is independent of $\\mathcal{F}_n$.\n$$E[S_n^2 | \\mathcal{F}_n] = S_n^2$$\n$$E[S_n Y_{n+1} | \\mathcal{F}_n] = S_n E[Y_{n+1} | \\mathcal{F}_n] = S_n E[Y_{n+1}]$$\n$$E[Y_{n+1}^2 | \\mathcal{F}_n] = E[Y_{n+1}^2]$$\nWe have already calculated $E[Y_{n+1}] = 0$ and $E[Y_{n+1}^2] = 1$. Substituting these values:\n$$E[S_{n+1}^2 | \\mathcal{F}_n] = S_n^2 + 2S_n(0) + 1 = S_n^2 + 1$$\nNow, substitute this back into the expression for $E[X_{n+1} | \\mathcal{F}_n]$:\n$$E[X_{n+1} | \\mathcal{F}_n] = (S_n^2 + 1) - c(n+1) = S_n^2 + 1 - cn - c$$\nTo compare this with $X_n = S_n^2 - cn$, we rearrange the terms:\n$$E[X_{n+1} | \\mathcal{F}_n] = (S_n^2 - cn) + 1 - c = X_n + 1 - c$$\nFor $\\{X_n\\}$ to be a supermartingale, we need $E[X_{n+1} | \\mathcal{F}_n] \\le X_n$.\n$$X_n + 1 - c \\le X_n$$\nThis inequality simplifies to $1 - c \\le 0$, which means $c \\ge 1$.\n\nFor $\\{X_n\\}$ to be a martingale, we need $E[X_{n+1} | \\mathcal{F}_n] = X_n$.\n$$X_n + 1 - c = X_n$$\nThis implies $1 - c = 0$, which means $c = 1$.\n\nThe problem asks for the condition on $c$ such that the process is a supermartingale but *not* a martingale. This means we require $c \\ge 1$ and $c \\ne 1$. The only possibility is $c > 1$.\nIf $c > 1$, then $1 - c < 0$, which makes $E[X_{n+1} | \\mathcal{F}_n] = X_n + (1 - c) < X_n$, fulfilling the condition for a strict supermartingale.\n\nTherefore, the condition is $c > 1$. This corresponds to option C.", "answer": "$$\\boxed{C}$$", "id": "1295469"}, {"introduction": "This practice explores the behavior of a martingale when transformed by a nonlinear function. Specifically, you will analyze the absolute value of a simple random walk, a process that is constrained to be non-negative. This is a classic opportunity to apply Jensen's inequality for conditional expectations, which states that a convex function of a martingale is always a submartingale. Mastering this connection provides a powerful tool for quickly classifying a wide range of stochastic processes [@problem_id:1295533].", "problem": "Consider a one-dimensional simple symmetric random walk $\\{S_n\\}_{n \\ge 0}$ on the integers. The walk starts at the origin, $S_0 = 0$. At each time step $n \\ge 1$, the position of the walk is updated according to $S_n = S_0 + \\sum_{i=1}^n X_i$, where the $X_i$ are independent and identically distributed random variables with probability mass function $P(X_i = 1) = P(X_i = -1) = 1/2$.\n\nLet $\\{\\mathcal{F}_n\\}_{n \\ge 0}$ be the natural filtration generated by the random walk, where $\\mathcal{F}_n$ represents the information contained in the sequence of steps $(X_1, X_2, \\dots, X_n)$. A stochastic process $\\{Y_n\\}_{n \\ge 0}$ is classified with respect to this filtration as follows, assuming $E[|Y_n|] < \\infty$ for all $n$:\n- It is a **martingale** if $E[Y_{n+1} | \\mathcal{F}_n] = Y_n$ for all $n \\ge 0$.\n- It is a **submartingale** if $E[Y_{n+1} | \\mathcal{F}_n] \\ge Y_n$ for all $n \\ge 0$.\n- It is a **supermartingale** if $E[Y_{n+1} | \\mathcal{F}_n] \\le Y_n$ for all $n \\ge 0$.\n\nNow, consider the stochastic process $\\{Z_n\\}_{n \\ge 0}$ defined by the absolute value of the random walk's position, $Z_n = |S_n|$. Which of the following statements correctly classifies the process $\\{Z_n\\}$?\n\nA. $\\{Z_n\\}$ is a martingale.\n\nB. $\\{Z_n\\}$ is a submartingale, but not a martingale.\n\nC. $\\{Z_n\\}$ is a supermartingale, but not a martingale.\n\nD. $\\{Z_n\\}$ is neither a martingale, a submartingale, nor a supermartingale.", "solution": "Let $\\{S_{n}\\}_{n\\ge 0}$ be the simple symmetric random walk with $S_{n}=S_{0}+\\sum_{i=1}^{n}X_{i}$, where $S_{0}=0$ and $P(X_{i}=1)=P(X_{i}=-1)=\\frac{1}{2}$, and let $\\mathcal{F}_{n}$ be its natural filtration. Define $Z_{n}=|S_{n}|$.\n\nFirst, observe that $\\{S_{n}\\}$ is a martingale with respect to $\\{\\mathcal{F}_{n}\\}$, because\n$$\nE[S_{n+1}\\mid \\mathcal{F}_{n}] \\;=\\; S_{n}+E[X_{n+1}\\mid \\mathcal{F}_{n}] \\;=\\; S_{n}.\n$$\nSince $x\\mapsto |x|$ is a convex function, Jensen's inequality for conditional expectations gives\n$$\nE[\\,|S_{n+1}| \\mid \\mathcal{F}_{n}\\,] \\;\\ge\\; \\big|E[\\,S_{n+1}\\mid \\mathcal{F}_{n}\\,]\\big| \\;=\\; |S_{n}|,\n$$\nso $\\{Z_{n}\\}$ is a submartingale.\n\nTo determine whether $\\{Z_{n}\\}$ is a martingale, compute $E[\\,|S_{n+1}|\\mid \\mathcal{F}_{n}\\,]$ explicitly. Since $S_{n+1}=S_{n}+X_{n+1}$ with $X_{n+1}=\\pm 1$ each with probability $\\frac{1}{2}$ and independent of $\\mathcal{F}_{n}$, we have\n$$\nE[\\,|S_{n+1}|\\mid \\mathcal{F}_{n}\\,] \\;=\\; \\tfrac{1}{2}\\,|S_{n}+1| \\;+\\; \\tfrac{1}{2}\\,|S_{n}-1|.\n$$\nConsider cases:\n- If $S_{n}\\ge 1$, then $|S_{n}+1|=S_{n}+1$ and $|S_{n}-1|=S_{n}-1$, hence\n$$\n\\tfrac{1}{2}\\,|S_{n}+1|+\\tfrac{1}{2}\\,|S_{n}-1| \\;=\\; \\tfrac{1}{2}(S_{n}+1)+\\tfrac{1}{2}(S_{n}-1) \\;=\\; S_{n} \\;=\\; |S_{n}|.\n$$\n- If $S_{n}\\le -1$, write $S_{n}=-m$ with $m\\ge 1$. Then $|S_{n}+1|=|-m+1|=m-1$ and $|S_{n}-1|=|-m-1|=m+1$, hence\n$$\n\\tfrac{1}{2}\\,|S_{n}+1|+\\tfrac{1}{2}\\,|S_{n}-1| \\;=\\; \\tfrac{1}{2}(m-1)+\\tfrac{1}{2}(m+1) \\;=\\; m \\;=\\; |S_{n}|.\n$$\n- If $S_{n}=0$, then\n$$\n\\tfrac{1}{2}\\,|S_{n}+1|+\\tfrac{1}{2}\\,|S_{n}-1| \\;=\\; \\tfrac{1}{2}\\cdot 1+\\tfrac{1}{2}\\cdot 1 \\;=\\; 1 \\;>\\; 0 \\;=\\; |S_{n}|.\n$$\nTherefore,\n$$\nE[\\,Z_{n+1}\\mid \\mathcal{F}_{n}\\,] \\;\\ge\\; Z_{n}\\quad\\text{always, with strict inequality on the event }\\{S_{n}=0\\}.\n$$\nSince $P(S_{2k}=0)=\\binom{2k}{k}2^{-2k}>0$ for every integer $k\\ge 0$, the event $\\{S_{n}=0\\}$ has positive probability for even $n$, so the martingale equality fails with positive probability for infinitely many $n$. Hence $\\{Z_{n}\\}$ is not a martingale.\n\nCombining these facts, $\\{Z_{n}\\}$ is a submartingale but not a martingale.", "answer": "$$\\boxed{B}$$", "id": "1295533"}, {"introduction": "Moving beyond verifying existing processes, this problem challenges you to construct a martingale from the ground up. You will start with a high-order polynomial of a random walk, $S_n^4$, which has a complex, predictable drift. Your task is to design the precise lower-order polynomial terms that cancel this drift at every step, turning the process into a martingale. This hands-on design exercise hones your skills in calculating conditional moments and solving recurrence relations, essential techniques for building sophisticated stochastic models [@problem_id:1295529].", "problem": "Let $S_n = \\sum_{k=1}^n Z_k$ be a simple symmetric random walk on the integers, starting from $S_0=0$. The steps $Z_k$ are independent and identically distributed random variables with $P(Z_k=1) = P(Z_k=-1) = 1/2$.\n\nConsider the stochastic process $\\{X_n\\}_{n \\ge 0}$ defined by $X_n = S_n^4 - a_n S_n^2 + b_n$, where $\\{a_n\\}_{n \\ge 0}$ and $\\{b_n\\}_{n \\ge 0}$ are deterministic sequences that are polynomial functions of $n$.\n\nFind the explicit expressions for the sequences $a_n$ and $b_n$ that make $X_n$ a martingale with respect to the natural filtration $\\mathcal{F}_n = \\sigma(S_0, S_1, \\ldots, S_n)$. This process is subject to two additional conditions:\n1. The process has a mean of zero for all $n \\ge 0$, i.e., $E[X_n] = 0$.\n2. The polynomial sequence $a_n$ has a root at $n=0$, i.e., $a_0=0$.\n\nPresent your final answer as a pair of expressions for $(a_n, b_n)$.", "solution": "We seek deterministic polynomial sequences $a_{n}$ and $b_{n}$ such that $X_{n}=S_{n}^{4}-a_{n}S_{n}^{2}+b_{n}$ is a martingale with respect to $\\mathcal{F}_{n}=\\sigma(S_{0},\\ldots,S_{n})$, for a simple symmetric random walk $S_{n}=\\sum_{k=1}^{n}Z_{k}$ with $Z_{k}\\in\\{-1,+1\\}$ i.i.d., $\\mathbb{P}(Z_{k}=1)=\\mathbb{P}(Z_{k}=-1)=\\frac{1}{2}$. The martingale condition requires\n$$\n\\mathbb{E}[X_{n+1}\\mid\\mathcal{F}_{n}]=X_{n}\\quad\\text{for all }n\\ge 0.\n$$\nWrite $S_{n+1}=S_{n}+Z_{n+1}$ with $Z_{n+1}$ independent of $\\mathcal{F}_{n}$ and satisfying $\\mathbb{E}[Z_{n+1}]=0$, $\\mathbb{E}[Z_{n+1}^{2}]=1$, $\\mathbb{E}[Z_{n+1}^{3}]=0$, $\\mathbb{E}[Z_{n+1}^{4}]=1$. Then\n$$\n\\mathbb{E}[S_{n+1}^{2}\\mid\\mathcal{F}_{n}]=\\mathbb{E}[(S_{n}+Z_{n+1})^{2}\\mid\\mathcal{F}_{n}]=S_{n}^{2}+1,\n$$\nand expanding $(S_{n}+Z_{n+1})^{4}$ gives\n$$\n(S_{n}+Z_{n+1})^{4}=S_{n}^{4}+4S_{n}^{3}Z_{n+1}+6S_{n}^{2}Z_{n+1}^{2}+4S_{n}Z_{n+1}^{3}+Z_{n+1}^{4},\n$$\nhence\n$$\n\\mathbb{E}[S_{n+1}^{4}\\mid\\mathcal{F}_{n}]=S_{n}^{4}+6S_{n}^{2}+1.\n$$\nTherefore,\n$$\n\\mathbb{E}[X_{n+1}\\mid\\mathcal{F}_{n}]=\\mathbb{E}[S_{n+1}^{4}\\mid\\mathcal{F}_{n}]-a_{n+1}\\mathbb{E}[S_{n+1}^{2}\\mid\\mathcal{F}_{n}]+b_{n+1}\n=(S_{n}^{4}+6S_{n}^{2}+1)-a_{n+1}(S_{n}^{2}+1)+b_{n+1}.\n$$\nImposing $\\mathbb{E}[X_{n+1}\\mid\\mathcal{F}_{n}]=X_{n}=S_{n}^{4}-a_{n}S_{n}^{2}+b_{n}$ for all values of $S_{n}$ yields coefficient-wise equalities:\n$$\n\\text{for }S_{n}^{4}:\\quad 1=1,\n$$\n$$\n\\text{for }S_{n}^{2}:\\quad 6-a_{n+1}=-a_{n}\\quad\\Longrightarrow\\quad a_{n+1}=a_{n}+6,\n$$\n$$\n\\text{constant term}:\\quad 1-a_{n+1}+b_{n+1}=b_{n}\\quad\\Longrightarrow\\quad b_{n+1}=b_{n}+a_{n+1}-1.\n$$\nWith the given condition $a_{0}=0$, the first recurrence solves to\n$$\na_{n}=6n.\n$$\nSubstituting $a_{n+1}=6(n+1)$ into the second recurrence gives\n$$\nb_{n+1}=b_{n}+6(n+1)-1=b_{n}+6n+5.\n$$\nThe additional requirement $\\mathbb{E}[X_{n}]=0$ for all $n\\ge 0$ implies $\\mathbb{E}[X_{n}]=\\mathbb{E}[X_{0}]$ by the martingale property, so we must have $X_{0}=b_{0}=0$. Solving $b_{n+1}=b_{n}+6n+5$ with $b_{0}=0$ yields\n$$\nb_{n}=\\sum_{k=0}^{n-1}(6k+5)=6\\sum_{k=0}^{n-1}k+5n=6\\cdot\\frac{n(n-1)}{2}+5n=3n^{2}+2n.\n$$\nAs a consistency check, using $\\mathbb{E}[S_{n}^{2}]=n$ and $\\mathbb{E}[S_{n}^{4}]=n\\,\\mathbb{E}[Z_{1}^{4}]+3n(n-1)\\mathbb{E}[Z_{1}^{2}]^{2}=n+3n(n-1)=3n^{2}-2n$, we get\n$$\n\\mathbb{E}[X_{n}]=\\mathbb{E}[S_{n}^{4}]-a_{n}\\mathbb{E}[S_{n}^{2}]+b_{n}=(3n^{2}-2n)-(6n)\\cdot n+(3n^{2}+2n)=0,\n$$\nas required. Thus the unique polynomial sequences satisfying all conditions are $a_{n}=6n$ and $b_{n}=3n^{2}+2n$.", "answer": "$$\\boxed{\\begin{pmatrix}6n & 3n^{2}+2n\\end{pmatrix}}$$", "id": "1295529"}]}