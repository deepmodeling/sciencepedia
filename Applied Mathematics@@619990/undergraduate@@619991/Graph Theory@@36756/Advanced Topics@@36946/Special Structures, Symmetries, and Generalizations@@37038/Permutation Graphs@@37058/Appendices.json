{"hands_on_practices": [{"introduction": "Permutation graphs provide a powerful tool for modeling problems involving order and conflict. This first exercise bridges theory and application by framing a classic graph problem—finding a maximum matching—within a tangible scenario of network packet re-sequencing. By translating the abstract concept of an \"inversion\" into a physical \"conflict\", you will practice constructing a permutation graph and applying a core graph algorithm to find an optimal solution [@problem_id:1526956].", "problem": "A network router employs a special buffer to manage and re-sequence out-of-order data packets. The buffer has $n$ positions, labeled $1, 2, \\dots, n$. At a given moment, the arrangement of packets in the buffer is described by a permutation $\\pi$ of the set $\\{1, 2, \\dots, n\\}$, where $\\pi(i)$ denotes the unique packet number located at buffer position $i$.\n\nThe router's control logic is designed to identify \"inverted pairs\" of positions. A pair of positions $(i, j)$ with $i  j$ is classified as an inverted pair if the packet at position $i$ has a larger sequence number than the packet at position $j$, meaning $\\pi(i)  \\pi(j)$. These inverted pairs represent conflicts that need to be resolved.\n\nTo optimize the re-sequencing process, the router attempts to perform a set of simultaneous corrective swaps. A single corrective swap operates on one inverted pair. A set of such swaps is considered \"non-interfering\" if no two swaps in the set involve the same buffer position. The router's objective is to determine the maximum number of non-interfering corrective swaps that can be executed in a single parallel step.\n\nConsider a buffer of size $n=6$. The packet arrangement is given by the permutation $\\pi = (3, 6, 1, 5, 2, 4)$. What is the maximum number of non-interfering corrective swaps that can be performed simultaneously?", "solution": "The problem asks for the maximum number of non-interfering corrective swaps for a given packet arrangement in a buffer. This can be modeled using graph theory.\n\nFirst, let's formalize the problem. The buffer positions $\\{1, 2, 3, 4, 5, 6\\}$ can be represented as the set of vertices $V$ of a graph $G = (V, E)$. The \"inverted pairs\" define the edges of this graph. An edge exists between two vertices $i$ and $j$ if and only if they form an inverted pair. According to the problem statement, an edge $(i, j)$ is in the edge set $E$ if $i  j$ and $\\pi(i)  \\pi(j)$. This construction defines a permutation graph.\n\nA \"set of non-interfering corrective swaps\" corresponds to a set of edges in $G$ where no two edges share a common vertex. This is precisely the definition of a matching in a graph. The problem of finding the \"maximum number of non-interfering corrective swaps\" is therefore equivalent to finding the size of a maximum matching in the permutation graph $G$ corresponding to $\\pi$. The size of a maximum matching is also known as the matching number of the graph, denoted $\\alpha'(G)$.\n\nThe given permutation is $\\pi = (3, 6, 1, 5, 2, 4)$ on the set of positions $V = \\{1, 2, 3, 4, 5, 6\\}$. We need to find all pairs $(i, j)$ with $i  j$ such that $\\pi(i)  \\pi(j)$. These pairs will form the edge set $E$.\n\nLet's systematically check for all possible pairs $(i, j)$ where $1 \\le i  j \\le 6$:\n\n- For $i=1$ ($\\pi(1)=3$):\n  - $j=2$: $\\pi(2)=6$. $3  6$. No edge.\n  - $j=3$: $\\pi(3)=1$. $3  1$. Edge $(1, 3)$ exists.\n  - $j=4$: $\\pi(4)=5$. $3  5$. No edge.\n  - $j=5$: $\\pi(5)=2$. $3  2$. Edge $(1, 5)$ exists.\n  - $j=6$: $\\pi(6)=4$. $3  4$. No edge.\n\n- For $i=2$ ($\\pi(2)=6$):\n  - $j=3$: $\\pi(3)=1$. $6  1$. Edge $(2, 3)$ exists.\n  - $j=4$: $\\pi(4)=5$. $6  5$. Edge $(2, 4)$ exists.\n  - $j=5$: $\\pi(5)=2$. $6  2$. Edge $(2, 5)$ exists.\n  - $j=6$: $\\pi(6)=4$. $6  4$. Edge $(2, 6)$ exists.\n\n- For $i=3$ ($\\pi(3)=1$):\n  - The value $\\pi(3)=1$ is the minimum possible, so it cannot be greater than any other $\\pi(j)$. No edges with $i=3$.\n\n- For $i=4$ ($\\pi(4)=5$):\n  - $j=5$: $\\pi(5)=2$. $5  2$. Edge $(4, 5)$ exists.\n  - $j=6$: $\\pi(6)=4$. $5  4$. Edge $(4, 6)$ exists.\n\n- For $i=5$ ($\\pi(5)=2$):\n  - $j=6$: $\\pi(6)=4$. $2  4$. No edge.\n\nSo, the edge set of the graph $G$ is $E = \\{(1, 3), (1, 5), (2, 3), (2, 4), (2, 5), (2, 6), (4, 5), (4, 6)\\}$.\n\nNow we need to find the maximum matching in this graph. A matching is a subset of $E$ where no two edges share a vertex. We can find this by inspection or by trying to construct a large matching.\nLet's try to build a matching:\n\n- Consider the edge $(1, 5)$. The vertices $1$ and $5$ are now used. The remaining available vertices are $\\{2, 3, 4, 6\\}$.\n- From the remaining vertices, we look for an edge in $E$ that connects two of them. The edge $(2, 3)$ works. Now vertices $2$ and $3$ are used. The remaining available vertices are $\\{4, 6\\}$.\n- From the remaining vertices, we look for an edge. The edge $(4, 6)$ is in $E$.\n\nThis gives us the matching $M = \\{(1, 5), (2, 3), (4, 6)\\}$.\nLet's verify this is a valid matching. The vertices involved are $\\{1, 5\\}$, $\\{2, 3\\}$, and $\\{4, 6\\}$. All six vertices are distinct across the pairs, so no two edges share a vertex. Thus, $M$ is a valid matching.\n\nThe size of this matching is $|M| = 3$.\nA matching in a graph with $n$ vertices can have a maximum size of $\\lfloor n/2 \\rfloor$. In our case, $n=6$, so the maximum possible size of any matching is $\\lfloor 6/2 \\rfloor = 3$.\nSince we have found a matching of size 3, this must be a maximum matching. This particular matching is also a perfect matching, as it includes all vertices of the graph.\n\nTherefore, the maximum number of non-interfering corrective swaps that can be performed simultaneously is 3.", "answer": "$$\\boxed{3}$$", "id": "1526956"}, {"introduction": "A fundamental property of any graph is its connectivity. This practice explores the deep connection between the structure of a permutation and the connectivity of its corresponding graph. You will move beyond constructing a single graph to identifying the necessary and sufficient condition on a permutation that determines whether its graph is connected or falls into separate components, a key insight into how permutation structure dictates global graph topology [@problem_id:1526976].", "problem": "Let $\\pi$ be a permutation of the set $\\{1, 2, \\ldots, n\\}$ for an integer $n \\ge 2$. A permutation graph, denoted $G(\\pi)$, is constructed based on this permutation. The vertex set of $G(\\pi)$ is $V = \\{1, 2, \\ldots, n\\}$. An edge exists between two distinct vertices $i$ and $j$ in $V$ if and only if their relative order is inverted by the permutation. Formally, an edge $(i, j)$ is in the graph if and only if the following condition holds:\n$$ (i - j)(\\pi^{-1}(i) - \\pi^{-1}(j))  0 $$\nwhere $\\pi^{-1}(k)$ is the position of the number $k$ in the one-line notation of the permutation $\\pi = (\\pi(1), \\pi(2), \\ldots, \\pi(n))$.\n\nWhich of the following properties of a permutation $\\pi$ is a necessary and sufficient condition for its corresponding permutation graph $G(\\pi)$ to be disconnected?\n\nA. $\\pi$ is an involution, which means $\\pi = \\pi^{-1}$.\n\nB. $\\pi$ is a derangement, which means $\\pi(i) \\neq i$ for all $i \\in \\{1, \\ldots, n\\}$.\n\nC. $\\pi$ fixes at least one element, which means there exists some $i \\in \\{1, \\ldots, n\\}$ such that $\\pi(i) = i$.\n\nD. There exists an integer $k$ with $1 \\le k  n$ such that the set of images $\\{\\pi(1), \\pi(2), \\ldots, \\pi(k)\\}$ is equal to the set $\\{1, 2, \\ldots, k\\}$.\n\nE. The permutation $\\pi$ is the specific permutation that reverses the order of the elements, i.e., $\\pi(i) = n - i + 1$ for all $i$.", "solution": "We use the given definition: vertices are $V=\\{1,\\ldots,n\\}$ and there is an edge between distinct $i,j$ if and only if $(i-j)\\big(\\pi^{-1}(i)-\\pi^{-1}(j)\\big)0$, i.e., exactly when the relative order of $i$ and $j$ is inverted by $\\pi$.\n\nSufficiency of D. Assume there exists $k$ with $1\\le kn$ such that $\\{\\pi(1),\\ldots,\\pi(k)\\}=\\{1,\\ldots,k\\}$. This is equivalent to $\\pi^{-1}(\\{1,\\ldots,k\\})=\\{1,\\ldots,k\\}$, because $\\pi$ is a bijection. Hence for every $i\\le k$ we have $\\pi^{-1}(i)\\le k$, and for every $j\\ge k+1$ we have $\\pi^{-1}(j)\\ge k+1$. Then for any $i\\le kj$, we have $i-j  0$ and $\\pi^{-1}(i)  \\pi^{-1}(j)$, so $\\pi^{-1}(i) - \\pi^{-1}(j)  0$. The product $(i-j)\\big(\\pi^{-1}(i)-\\pi^{-1}(j)\\big)$ is positive, so the defining inequality for an edge is false. Therefore there are no edges between the two vertex sets $\\{1,\\ldots,k\\}$ and $\\{k+1,\\ldots,n\\}$, and $G(\\pi)$ is disconnected.\n\nNecessity of D. Assume $G(\\pi)$ is disconnected. Then there is a nontrivial partition $V=A\\cup B$ with $A\\cap B=\\varnothing$, $A,B\\ne\\varnothing$, and no edges between $A$ and $B$. Let $k=\\max A$. We claim that for all $i\\le k$ and all $j\\ge k+1$, we have $\\pi^{-1}(i)\\pi^{-1}(j)$. There are two cases for $i\\le k$:\n\n1) If $i\\in A$, then since $j\\notin A$ and $ij$, the absence of an edge between $i$ and $j$ implies $(i-j)\\big(\\pi^{-1}(i)-\\pi^{-1}(j)\\big)\\ge 0$. Because $i-j0$, this forces $\\pi^{-1}(i)-\\pi^{-1}(j)\\le 0$, i.e., $\\pi^{-1}(i)\\pi^{-1}(j)$.\n\n2) If $i\\in B$, then $ik$ and $i\\in B$, $k\\in A$. The absence of an edge between $i$ and $k$ with $ik$ gives $\\pi^{-1}(i)\\pi^{-1}(k)$. Also, the absence of an edge between $k\\in A$ and $j\\in B$ with $kj$ gives $\\pi^{-1}(k)\\pi^{-1}(j)$. Therefore $\\pi^{-1}(i)\\pi^{-1}(j)$.\n\nThus, for all $i\\le k$ and $j\\ge k+1$, $\\pi^{-1}(i)\\pi^{-1}(j)$. Equivalently,\n$$\n\\max \\pi^{-1}(\\{1,\\ldots,k\\})\\min \\pi^{-1}(\\{k+1,\\ldots,n\\}).\n$$\nSince $\\pi^{-1}$ is a bijection, the set $\\pi^{-1}(\\{1,\\ldots,k\\})$ has cardinality $k$ and lies entirely in $\\{1,\\ldots,k\\}$, hence\n$$\n\\pi^{-1}(\\{1,\\ldots,k\\})=\\{1,\\ldots,k\\}.\n$$\nApplying $\\pi$ to both sides yields\n$$\n\\{\\pi(1),\\ldots,\\pi(k)\\}=\\{1,\\ldots,k\\},\n$$\nwhich is exactly property D. Therefore D is necessary.\n\nConclusion for the options. By the two directions above, D is a necessary and sufficient condition. The other options fail:\n- A is neither necessary nor sufficient (e.g., $\\pi=(2,1)$ yields a connected graph; non-involutions can be disconnected by D).\n- B is neither necessary nor sufficient (identity is disconnected but not a derangement; there are derangements satisfying D that are disconnected, and derangements failing D that are connected).\n- C is neither necessary nor sufficient (there exist connected permutations with fixed points and disconnected ones without fixed points).\n- E gives a complete graph, which is connected.\n\nHence the correct choice is D.", "answer": "$$\\boxed{D}$$", "id": "1526976"}, {"introduction": "A key skill in mathematics is generalizing from specific examples to abstract patterns. This exercise challenges you to analyze an entire family of permutation graphs generated by a structured class of permutations. By identifying the underlying structure of these graphs, you will be able to determine their chromatic number, a crucial graph invariant, demonstrating how to derive general properties for an infinite set of objects [@problem_id:1527025].", "problem": "In the study of graph theory, a permutation graph provides a way to represent a permutation as a graph. Given a permutation $\\pi$ of the set $\\{1, 2, \\dots, n\\}$, the corresponding permutation graph $G_{\\pi}$ is a graph with vertex set $V = \\{1, 2, \\dots, n\\}$. An edge exists between two vertices $i$ and $j$ with $i  j$ if and only if they form an inversion in the permutation, meaning $\\pi(i)  \\pi(j)$.\n\nConsider a positive integer $k$. Let $n = 2k$. We define a specific permutation $\\pi_k$ on the set $\\{1, 2, \\dots, 2k\\}$. The permutation is constructed by partitioning the set of indices into $k$ consecutive blocks of two, $B_j = \\{2j-1, 2j\\}$ for $j=1, 2, \\dots, k$. The permutation $\\pi_k$ reverses the order of these blocks while preserving the relative order of the elements within each block. More formally, let an index $i$ belong to block $B_j$. The permutation maps $i$ to the corresponding position in block $B_{k-j+1}$. This rule leads to the following explicit definition for any $j \\in \\{1, 2, \\dots, k\\}$:\n$$ \\pi_k(2j-1) = 2(k-j+1)-1 $$\n$$ \\pi_k(2j) = 2(k-j+1) $$\n\nFor example, if $k=3$, then $n=6$. The blocks are $B_1=\\{1,2\\}$, $B_2=\\{3,4\\}$, $B_3=\\{5,6\\}$. The permutation $\\pi_3$ maps block $B_1 \\to B_3$, $B_2 \\to B_2$, and $B_3 \\to B_1$. The resulting permutation is $\\pi_3 = (5, 6, 3, 4, 1, 2)$.\n\nFor a general positive integer $k$, determine the chromatic number, $\\chi(G_k)$, of the permutation graph $G_k$ associated with the permutation $\\pi_k$. Your answer should be a closed-form analytic expression in terms of $k$.", "solution": "We are given $n=2k$ and the permutation $\\pi_{k}$ defined by reversing the order of the $k$ consecutive blocks $B_{j}=\\{2j-1,2j\\}$ while preserving the order inside each block. Explicitly, for $j\\in\\{1,\\dots,k\\}$,\n$$\n\\pi_{k}(2j-1)=2(k-j+1)-1,\\qquad \\pi_{k}(2j)=2(k-j+1).\n$$\nEquivalently, in one-line notation the sequence is\n$$\n(2k-1,\\,2k,\\,2k-3,\\,2k-2,\\,\\dots,\\,1,\\,2).\n$$\n\nBy definition of the permutation graph $G_{k}=G_{\\pi_{k}}$, its vertex set is $V=\\{1,2,\\dots,2k\\}$, and an edge between $ij$ exists if and only if $\\pi_{k}(i)\\pi_{k}(j)$. We analyze adjacency in $G_{k}$ via the block structure.\n\nFix blocks $B_{p}=\\{2p-1,2p\\}$ and $B_{q}=\\{2q-1,2q\\}$. If $pq$, then for any $x\\in B_{p}$ and any $y\\in B_{q}$ we have $xy$ (since all indices in $B_{p}$ precede those in $B_{q}$), and also\n$$\n\\pi_{k}(x)\\in\\{2(k-p+1)-1,\\,2(k-p+1)\\},\\qquad \\pi_{k}(y)\\in\\{2(k-q+1)-1,\\,2(k-q+1)\\}.\n$$\nBecause $pq$ implies $k-p+1k-q+1$, it follows that $\\pi_{k}(x)\\pi_{k}(y)$. Hence every pair of vertices from distinct blocks is connected by an edge.\n\nWithin a block $B_{j}=\\{2j-1,2j\\}$, we have $2j-12j$ and\n$$\n\\pi_{k}(2j-1)=2(k-j+1)-12(k-j+1)=\\pi_{k}(2j),\n$$\nso there is no edge between $2j-1$ and $2j$.\n\nTherefore $G_{k}$ is the complete $k$-partite graph whose partite sets are the blocks $B_{1},\\dots,B_{k}$, each of size $2$. In such a graph:\n- A valid $k$-coloring is obtained by assigning color $j$ to both vertices in $B_{j}$, showing $\\chi(G_{k})\\leq k$.\n- A clique of size $k$ exists by selecting one vertex from each block. For instance, the vertices $\\{1,3,5,\\dots,2k-1\\}$ form a clique: if $2r-12s-1$ then\n$$\n\\pi_{k}(2r-1)=2(k-r+1)-1\\,2(k-s+1)-1=\\pi_{k}(2s-1),\n$$\nso all such pairs are adjacent. Hence $\\omega(G_{k})\\geq k$, and thus $\\chi(G_{k})\\geq k$.\n\nCombining the upper and lower bounds yields\n$$\n\\chi(G_{k})=k.\n$$", "answer": "$$\\boxed{k}$$", "id": "1527025"}]}