{"hands_on_practices": [{"introduction": "We begin our hands-on practice with a foundational case to build intuition. This problem [@problem_id:1507130] explores what happens when the graph itself is a tree. By analyzing this simple structure, you will discover that a weighted tree already satisfies the core property of a Gomory-Hu tree, providing a crucial starting point for understanding how these trees represent network connectivity.", "problem": "Consider a weighted, undirected graph $G$ with the set of vertices $V = \\{A, B, C, D, E, F\\}$. The graph is a tree, and its edges along with their respective capacities are given as follows:\n- an edge between A and B with capacity 12\n- an edge between A and C with capacity 8\n- an edge between B and D with capacity 15\n- an edge between B and E with capacity 7\n- an edge between C and F with capacity 10\n\nA Gomory-Hu tree $T$ for a weighted undirected graph $G = (V, E)$ is a weighted tree with vertex set $V$, such that for every pair of distinct vertices $u, v \\in V$, the value of the minimum $(u,v)$-cut in $G$ is equal to the minimum weight of an edge on the unique path between $u$ and $v$ in $T$.\n\nDetermine the sum of the weights of all edges in the Gomory-Hu tree for the given graph $G$.", "solution": "We are given a weighted undirected tree $G=(V,E)$ with $V=\\{A,B,C,D,E,F\\}$ and edge capacities $w$:\n- $w(\\{A,B\\})=12$,\n- $w(\\{A,C\\})=8$,\n- $w(\\{B,D\\})=15$,\n- $w(\\{B,E\\})=7$,\n- $w(\\{C,F\\})=10$.\n\nFor any two distinct vertices $u,v\\in V$, let $P_{uv}$ denote the unique $u$–$v$ path in the tree $G$. For a weighted tree, the value of the minimum $(u,v)$-cut, denoted $\\lambda_{G}(u,v)$, equals the minimum edge weight along $P_{uv}$:\n$$\n\\lambda_{G}(u,v)=\\min_{e\\in P_{uv}} w(e).\n$$\nProof of the inequality $\\lambda_{G}(u,v)\\ge \\min_{e\\in P_{uv}} w(e)$: any $(u,v)$-cut must remove at least one edge of $P_{uv}$; if $C$ is any cut separating $u$ and $v$, then its capacity satisfies\n$$\nc(C)=\\sum_{e\\in C} w(e)\\ge \\min_{e\\in C\\cap P_{uv}} w(e)\\ge \\min_{e\\in P_{uv}} w(e).\n$$\nProof of the reverse inequality $\\lambda_{G}(u,v)\\le \\min_{e\\in P_{uv}} w(e)$: let $e^{\\ast}\\in P_{uv}$ be an edge with $w(e^{\\ast})=\\min_{e\\in P_{uv}} w(e)$. Removing $e^{\\ast}$ partitions the tree into two components defining a $(u,v)$-cut $C^{\\ast}$ with capacity\n$$\nc(C^{\\ast})=w(e^{\\ast})=\\min_{e\\in P_{uv}} w(e).\n$$\nCombining both gives equality. Therefore, the original weighted tree $G$ itself satisfies the defining property of a Gomory-Hu tree for all vertex pairs, so a valid Gomory-Hu tree $T$ is exactly $G$ with the same edge weights.\n\nHence, the sum of the weights of all edges in the Gomory-Hu tree equals the sum of the given capacities:\n$$\n\\sum_{e\\in E} w(e)=12+8+15+7+10=52.\n$$", "answer": "$$\\boxed{52}$$", "id": "1507130"}, {"introduction": "Now, let's move to a graph with more distinct structural features. This problem [@problem_id:1507103] presents a network composed of two tightly-connected communities (cliques) linked by a single fragile bridge. This exercise demonstrates how the Gomory-Hu tree elegantly captures the macroscopic structure of a graph, simplifying it to its essential connectivity components and highlighting the bottlenecks between them.", "problem": "Consider an unweighted graph $G$ constructed as follows. Let $C_1$ be a clique (a complete graph) with 10 vertices, and let $C_2$ be a clique with 8 vertices. The vertex sets of $C_1$ and $C_2$, denoted $V(C_1)$ and $V(C_2)$ respectively, are disjoint. The graph $G$ is formed by taking the union of $C_1$ and $C_2$, and adding a single \"bridge\" edge that connects a specific vertex $u \\in V(C_1)$ to a specific vertex $v \\in V(C_2)$. Since $G$ is unweighted, all edges are considered to have a capacity of 1 for flow and cut calculations.\n\nA Gomory-Hu tree $T$ for the graph $G$ is a weighted tree on the same set of vertices, $V(G)$, with the property that for any two vertices $x, y \\in V(G)$, the value of the minimum $x-y$ cut in $G$ is equal to the minimum weight of any edge on the unique path between $x$ and $y$ in $T$.\n\nWhich of the following descriptions accurately represents a valid Gomory-Hu tree $T$ for the graph $G$?\n\nA. $T$ is a single star graph centered at $u$. The edge $(u,v)$ has weight 1. Edges from $u$ to other vertices in $V(C_1)$ have weight 9. Edges from $u$ to vertices in $V(C_2) \\setminus \\{v\\}$ have weight 7.\n\nB. $T$ is formed by two star subgraphs. One is centered at $u$ with the other 9 vertices of $V(C_1)$ as leaves; all its edges have weight 9. The other is centered at $v$ with the other 7 vertices of $V(C_2)$ as leaves; all its edges have weight 7. The two star centers, $u$ and $v$, are connected by an edge of weight 1.\n\nC. $T$ is formed by two star subgraphs, structured as in option B, but the weights are swapped: the $C_1$ star edges have weight 7, and the $C_2$ star edges have weight 9. The connecting edge $(u,v)$ still has weight 1.\n\nD. The tree $T$ is a single path passing through all 18 vertices. The edge $(u,v)$ is part of this path and has weight 1. All other 16 edges of the path have weight 7.\n\nE. The graph described is not a tree. It is formed by making $V(C_1)$ a clique with edge weights 9, $V(C_2)$ a clique with edge weights 7, and adding the edge $(u,v)$ with weight 1.", "solution": "All edges in $G$ have unit capacity. For any two vertices $x,y$, the value of the minimum $x$-$y$ cut equals the minimum number of edges whose removal separates $x$ and $y$.\n\nFirst, compute the pairwise minimum cuts in $G$.\n1) Within $C_{1}$: Let $|V(C_{1})|=10$. For any $s,t \\in V(C_{1})$, consider cuts that separate $s$ and $t$ within the complete subgraph on $V(C_{1})$. If $S$ contains exactly $k$ vertices of $V(C_{1})$ including $s$ and excludes $t$, the number of edges crossing between $S \\cap V(C_{1})$ and $\\bar{S} \\cap V(C_{1})$ is\n$$\nk(10-k).\n$$\nOver integers $k \\in \\{1,\\dots,9\\}$, this is minimized at $k=1$ or $k=9$, giving value $9$. The unique bridge edge $u\\text{-}v$ can be placed on the same side of the cut to avoid contributing, so it does not reduce this minimum. Therefore, for all $s,t \\in V(C_{1})$,\n$$\n\\lambda_{G}(s,t)=9.\n$$\n\n2) Within $C_{2}$: Let $|V(C_{2})|=8$. For any $s,t \\in V(C_{2})$, by the same argument, the cut size within the complete subgraph on $V(C_{2})$ is\n$$\nk(8-k),\n$$\nminimized at $k=1$ or $k=7$, giving value $7$, and again the bridge $u\\text{-}v$ can be kept on one side to avoid contributing. Hence, for all $s,t \\in V(C_{2})$,\n$$\n\\lambda_{G}(s,t)=7.\n$$\n\n3) Across $C_{1}$ and $C_{2}$: For any $x \\in V(C_{1})$ and $y \\in V(C_{2})$, every $x$-$y$ path must traverse the unique bridge edge $u\\text{-}v$. Removing that single edge disconnects $C_{1}$ from $C_{2}$. Therefore,\n$$\n\\lambda_{G}(x,y)=1.\n$$\n\nA Gomory-Hu tree $T$ on $V(G)$ must assign edge weights so that for any $x,y$, the minimum weight on the unique $x$-$y$ path in $T$ equals the corresponding $\\lambda_{G}(x,y)$ above.\n\nVerification of the options:\n- Option A: $T$ is a star centered at $u$ with weights $9$ on edges to $V(C_{1}) \\setminus \\{u\\}$, weight $1$ on $(u,v)$, and weight $7$ on edges to $V(C_{2}) \\setminus \\{v\\}$. For $a \\in V(C_{1}) \\setminus \\{u\\}$ and $b \\in V(C_{2}) \\setminus \\{v\\}$, the path $a$–$u$–$b$ has edge weights $9$ and $7$, so the minimum is $7 \\neq 1=\\lambda_{G}(a,b)$. Hence A is invalid.\n- Option B: Two stars, one centered at $u$ with all edges to $V(C_{1}) \\setminus \\{u\\}$ of weight $9$, and one centered at $v$ with all edges to $V(C_{2}) \\setminus \\{v\\}$ of weight $7$, plus an edge $(u,v)$ of weight $1$. For $x,y \\in V(C_{1})$, the path lies entirely in the $C_{1}$ star and has minimum edge weight $9$, matching $\\lambda_{G}(x,y)=9$. For $x,y \\in V(C_{2})$, the path lies entirely in the $C_{2}$ star and has minimum $7$, matching $\\lambda_{G}(x,y)=7$. For $x \\in V(C_{1})$, $y \\in V(C_{2})$, the unique path includes $(u,v)$ of weight $1$ and all other edges on the path have weights at least $7$, so the path minimum is $1$, matching $\\lambda_{G}(x,y)=1$. Hence B is valid.\n- Option C: Swapping the internal weights makes all $C_{1}$ internal pair cuts equal $7$, contradicting $\\lambda_{G}(x,y)=9$ in $C_{1}$. Invalid.\n- Option D: A single path with all non-bridge edges of weight $7$ yields internal $C_{1}$ pair cuts equal to $7 \\neq 9$. Invalid.\n- Option E: Not a tree, so it cannot be a Gomory-Hu tree. Invalid.\n\nTherefore, the correct description is option B.", "answer": "$$\\boxed{B}$$", "id": "1507103"}, {"introduction": "Our final practice problem delves into a more subtle but critical aspect of Gomory-Hu trees: their non-uniqueness. This advanced exercise [@problem_id:1507088] demonstrates that for some graphs, different valid choices during the construction algorithm can result in topologically distinct trees. By determining all possible configurations, you will gain a deeper appreciation for the relationship between minimum cuts and the family of cut-equivalent trees that can represent them.", "problem": "Consider an undirected, capacitated graph $G=(V, E)$ with a vertex set $V = \\{N_1, N_2, P_1, P_2\\}$ and an edge set $E$ with associated capacities. The graph models a simplified network interconnect. The vertices $N_1$ and $N_2$ represent one type of node, while $P_1$ and $P_2$ represent another. All cross-type connections, i.e., between a vertex from $\\{N_1, N_2\\}$ and a vertex from $\\{P_1, P_2\\}$, have a capacity of $C_1$. There is also a single intra-type connection between $P_1$ and $P_2$ with capacity $C_2$. No other edges exist.\nSpecifically, the edges and their capacities are:\n- $c(N_1, P_1) = C_1$\n- $c(N_1, P_2) = C_1$\n- $c(N_2, P_1) = C_1$\n- $c(N_2, P_2) = C_1$\n- $c(P_1, P_2) = C_2$\n\nLet the capacities be $C_1 = 10$ and $C_2 = 1$.\n\nA Gomory-Hu tree is a weighted tree that represents the minimum cut values for all pairs of vertices in the original graph. For some graphs, more than one distinct Gomory-Hu tree can be constructed. Determine the set of all possible values for the degree of vertex $P_1$ across all valid Gomory-Hu trees for the given graph $G$. Present your answer as a sequence of the possible degree values, sorted in ascending order.", "solution": "We are given an undirected capacitated graph on vertices $V=\\{N_{1},N_{2},P_{1},P_{2}\\}$ with capacities\n$$\nc(N_{i},P_{j})=C_{1}=10\\quad\\text{for all }i\\in\\{1,2\\},\\,j\\in\\{1,2\\},\\qquad c(P_{1},P_{2})=C_{2}=1,\n$$\nand no other edges. A Gomory-Hu (GH) tree $T$ on $V$ is a weighted tree such that for any $s,t\\in V$, the minimum $s$-$t$ cut value in $G$ equals the minimum edge weight along the unique $s$-$t$ path in $T$. Moreover, each edge of $T$ corresponds to a minimum $s$-$t$ cut in $G$, and the partition of $V$ induced by removing that edge has cut capacity equal to the edge weight.\n\nStep 1: Compute all pairwise minimum cut values in $G$.\n\nFor any cut $(S,\\bar{S})$ in $G$, its capacity is the sum of capacities of edges with one endpoint in $S$ and the other in $\\bar{S}$.\n\n1) Pair $P_{1}$, $P_{2}$. Any cut separating $P_{1}$ and $P_{2}$ must cut the edge $(P_{1},P_{2})$ (capacity $1$) and, for each of $N_{1}$ and $N_{2}$, at least one of the two edges incident across the sides contributes capacity $10$. Therefore,\n$$\n\\lambda(P_{1},P_{2})\\ge 1+10+10=21.\n$$\nThis is achieved, for example, by the cut $S=\\{P_{2}\\}$, $\\bar{S}=\\{P_{1},N_{1},N_{2}\\}$, whose capacity is\n$$\nc(P_{2},P_{1})+c(P_{2},N_{1})+c(P_{2},N_{2})=1+10+10=21.\n$$\nHence $\\lambda(P_{1},P_{2})=21$.\n\n2) Pair $N_{1}$, $N_{2}$. The cut $S=\\{N_{1}\\}$, $\\bar{S}=\\{N_{2},P_{1},P_{2}\\}$ has capacity\n$$\nc(N_{1},P_{1})+c(N_{1},P_{2})=10+10=20,\n$$\nand by symmetry the same for $S=\\{N_{2}\\}$. No cut can have capacity less than $20$ because at least two edges of capacity $10$ must be cut to separate $N_{1}$ from $N_{2}$. Thus $\\lambda(N_{1},N_{2})=20$.\n\n3) Any cross-type pair $N_{i}$, $P_{j}$. The cut $S=\\{N_{i}\\}$, $\\bar{S}=\\{P_{j},\\text{others}\\}$ has capacity\n$$\nc(N_{i},P_{1})+c(N_{i},P_{2})=10+10=20.\n$$\nNo smaller cut is possible since separating $N_{i}$ from $P_{j}$ requires cutting at least two edges of total capacity at least $20$. Hence for all $i,j$, $\\lambda(N_{i},P_{j})=20$.\n\nTherefore, the pairwise minimum cut values are:\n- $\\lambda(P_{1},P_{2})=21$,\n- $\\lambda(N_{1},N_{2})=20$,\n- $\\lambda(N_{i},P_{j})=20$ for all $i,j$.\n\nStep 2: List all cuts of capacity $20$ or $21$ in $G$.\n\nCompute capacities of all nontrivial partitions:\n\n- Singleton cuts:\n$$\n\\{N_{1}\\}\\;|\\;\\{N_{2},P_{1},P_{2}\\}:\\;20,\\quad\n\\{N_{2}\\}\\;|\\;\\{N_{1},P_{1},P_{2}\\}:\\;20,\n$$\n$$\n\\{P_{1}\\}\\;|\\;\\{P_{2},N_{1},N_{2}\\}:\\;21,\\quad\n\\{P_{2}\\}\\;|\\;\\{P_{1},N_{1},N_{2}\\}:\\;21.\n$$\n\n- Two-two cuts:\n$$\n\\{N_{1},N_{2}\\}\\;|\\;\\{P_{1},P_{2}\\}:\\;40,\n$$\n$$\n\\{N_{1},P_{1}\\}\\;|\\;\\{N_{2},P_{2}\\}:\\;21,\\quad\n\\{N_{1},P_{2}\\}\\;|\\;\\{N_{2},P_{1}\\}:\\;21.\n$$\n\nThus the only cuts with capacity $20$ are the singleton $N$ cuts; the cuts with capacity $21$ are the singleton $P$ cuts and the two mixed pairings.\n\nStep 3: Constrain GH tree structure from these cuts.\n\n- Any GH tree edge of weight $21$ must correspond to a cut that separates $P_{1}$ and $P_{2}$ (since only $\\lambda(P_{1},P_{2})=21$). Therefore, the only permissible $21$-edges are those whose removal induces one of $\\{P_{1}\\}\\,|\\,\\{P_{2},N_{1},N_{2}\\}$, $\\{P_{2}\\}\\,|\\,\\{P_{1},N_{1},N_{2}\\}$, $\\{P_{1},N_{1}\\}\\,|\\,\\{P_{2},N_{2}\\}$, or $\\{P_{1},N_{2}\\}\\,|\\,\\{P_{2},N_{1}\\}$.\n\n- Any GH tree edge of weight $20$ must correspond to a singleton $N$ cut, i.e., removal must induce $\\{N_{1}\\}\\,|\\,\\{P_{1},P_{2},N_{2}\\}$ or $\\{N_{2}\\}\\,|\\,\\{P_{1},P_{2},N_{1}\\}$.\n\n- In a GH tree on four vertices, there are three edges, and the family of edge cuts must be laminar. Also, the path between $P_{1}$ and $P_{2}$ must have minimum edge weight $21$. If the $P_{1}$–$P_{2}$ path had length $2$, both edges on that path would have to be weight $21$, making a $21$-edge adjacent to a node other than $P_{1}$ or $P_{2}$ and thus forcing some pair other than $(P_{1},P_{2})$ to have path-minimum $21$, which is impossible. Hence $P_{1}$ and $P_{2}$ must be adjacent in the GH tree via a single edge of weight $21$.\n\nStep 4: Enumerate all valid GH trees and degrees of $P_{1}$.\n\nGiven the above, the unique $21$-edge must be $(P_{1},P_{2})$ of weight $21$. The remaining two edges must both have weight $20$ and correspond to the singleton $N$ cuts; thus each $20$-edge must have a component that is exactly $\\{N_{1}\\}$ or $\\{N_{2}\\}$. This forces each $20$-edge to be incident to $N_{1}$ or $N_{2}$ as a leaf.\n\nThe valid configurations are:\n\n- Star centered at $P_{1}$:\nEdges $(P_{1},P_{2})$ with weight $21$, $(P_{1},N_{1})$ with weight $20$, and $(P_{1},N_{2})$ with weight $20$. This realizes the cuts $\\{P_{2}\\}$, $\\{N_{1}\\}$, $\\{N_{2}\\}$ and is laminar. Here $\\deg_{T}(P_{1})=3$.\n\n- Star centered at $P_{2}$:\nEdges $(P_{1},P_{2})$ with weight $21$, $(P_{2},N_{1})$ and $(P_{2},N_{2})$ with weight $20$. This realizes the cuts $\\{P_{1}\\}$, $\\{N_{1}\\}$, $\\{N_{2}\\}$ and is laminar. Here $\\deg_{T}(P_{1})=1$.\n\n- Path with $(P_{1},P_{2})$ as the middle edge:\nEither $N_{1}-P_{1}-P_{2}-N_{2}$ or $N_{2}-P_{1}-P_{2}-N_{1}$ with weights $20,21,20$. These realize the $21$-cut $\\{P_{1},N_{1}\\}\\,|\\,\\{P_{2},N_{2}\\}$ or $\\{P_{1},N_{2}\\}\\,|\\,\\{P_{2},N_{1}\\}$, together with the singleton $N$ cuts, and are laminar. Here $\\deg_{T}(P_{1})=2$.\n\nNo other arrangement is valid: any $20$-edge whose removal induces a $2$–$2$ partition would have cut capacity $40\\neq 20$, and any $21$-edge incident to a vertex other than $P_{1}$ or $P_{2}$ would force an incorrect pairwise path minimum.\n\nTherefore, across all valid GH trees, the possible degrees of $P_{1}$ are exactly $1$, $2$, and $3$, so the requested set is $\\{1,2,3\\}$.\n\nSorted in ascending order, the sequence is $1,2,3$.", "answer": "$$\\boxed{\\begin{pmatrix}1 & 2 & 3\\end{pmatrix}}$$", "id": "1507088"}]}