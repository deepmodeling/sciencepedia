{"hands_on_practices": [{"introduction": "We begin our practice with a familiar puzzle that elegantly captures the essence of matroid intersection. This card selection problem [@problem_id:1520673] asks you to satisfy two independent sets of rules simultaneously: one governing the diversity of card ranks and another limiting the composition of colors. By translating these rules into the language of matroids, you can practice identifying the underlying independence structures—in this case, two separate partition matroids—and find the largest possible set that respects both.", "problem": "A magician is preparing a special hand for a new card trick. From a curated collection of cards, she must select a subset to form her hand. The selection is governed by two strict rules:\n\n1.  **Rank Diversity:** The hand must not contain more than one card of any given rank. For example, it cannot contain both a King of Hearts and a King of Spades.\n2.  **Color Composition:** The hand must contain at most 2 red cards (Hearts or Diamonds) and at most 3 black cards (Clubs or Spades).\n\nThe collection of cards available to the magician is as follows:\n*   Ace: Ace of Hearts (AH), Ace of Diamonds (AD)\n*   King: King of Hearts (KH)\n*   Queen: Queen of Clubs (QC), Queen of Spades (QS)\n*   Jack: Jack of Clubs (JC)\n*   Ten: Ten of Hearts (10H), Ten of Spades (10S)\n*   Nine: Nine of Diamonds (9D), Nine of Clubs (9C)\n\nWhat is the maximum number of cards the magician can select for her hand while satisfying both rules?", "solution": "Interpret the constraints in counting form. Let $n$ be the total number of selected cards, $r$ the number of red cards, and $b$ the number of black cards. The color constraints impose\n$$r \\leq 2,\\quad b \\leq 3,\\quad n = r + b.$$\nThe rank-diversity constraint (at most one per rank) limits the total to the number of distinct ranks available. The available ranks are Ace, King, Queen, Jack, Ten, and Nine, so at most $6$ cards can be chosen due to rank diversity:\n$$n \\leq 6.$$\nCombining these, the total number of cards is bounded by\n$$n \\leq \\min\\{6,\\,2+3\\} = 5.$$\n\nIt remains to show that $n=5$ is achievable under both constraints. Choose, for example, AH, KH, QC, JC, and 10S. Then the ranks are Ace, King, Queen, Jack, and Ten, all distinct; the colors are $r=2$ (AH, KH) and $b=3$ (QC, JC, 10S), satisfying $r \\leq 2$ and $b \\leq 3$. Hence $n=5$ is feasible.\n\nTherefore, the maximum number of cards the magician can select is $5$.", "answer": "$$\\boxed{5}$$", "id": "1520673"}, {"introduction": "Many real-world optimization challenges, especially in network design, involve balancing structural integrity with resource limitations, a scenario perfectly modeled by matroid intersection. This exercise [@problem_id:1520643] challenges you to build the largest possible communication network that is both acyclic (a graphic matroid constraint) and respects budgetary limits on different types of equipment (a partition matroid constraint). Mastering this type of problem is key to understanding one of the most powerful applications of this theory.", "problem": "A technology startup is designing a resilient communication network for a fleet of six autonomous delivery drones, which are stationary at hubs labeled 1 through 6. The network architecture is based on a set of 12 potential high-frequency communication links. These links are categorized into two types based on their operational frequency band to mitigate interference.\n\nThere are 6 available links of Type A and 6 of Type B.\nThe specific hub connections for each link type are as follows:\n- **Type A links:** $A_1=(1,2)$, $A_2=(2,3)$, $A_3=(1,3)$, $A_4=(1,4)$, $A_5=(2,5)$, $A_6=(3,6)$.\n- **Type B links:** $B_1=(4,5)$, $B_2=(5,6)$, $B_3=(4,6)$, $B_4=(1,5)$, $B_5=(2,6)$, $B_6=(3,4)$.\n\nTo ensure network stability and manage power consumption, the deployed network configuration must adhere to two critical constraints:\n1.  The set of activated links must not form any cycles to prevent data packets from looping endlessly.\n2.  The number of activated Type A links cannot exceed 2, and the number of activated Type B links cannot exceed 2.\n\nDetermine the maximum total number of communication links that can be activated simultaneously while satisfying both of these constraints.", "solution": "This problem asks for the maximum number of edges in a graph that satisfy two distinct conditions: one related to the graph structure (acyclicity) and one related to a partition of the edges (color/type constraints). This is a classic application of matroid theory, specifically the concept of matroid intersection.\n\nLet $V = \\{1, 2, 3, 4, 5, 6\\}$ be the set of hubs (vertices) and $E$ be the set of all 12 potential communication links (edges). We can model the problem as finding the maximum size of a common independent set of two matroids defined on the ground set $E$.\n\n**Matroid 1: The Graphic Matroid**\n\nThe first constraint requires that the set of active links, let's call it $S$, must be acyclic. This defines the graphic matroid (or cycle matroid) $M_1 = (E, \\mathcal{I}_1)$ associated with the graph $G=(V, E)$. The independent sets $\\mathcal{I}_1$ are the subsets of $E$ that are forests (i.e., contain no cycles).\n\nThe rank of a matroid is the size of its largest independent set (a basis). For a connected graph with $|V|$ vertices, the rank of its graphic matroid is $r_1(E) = |V|-1$. The graph described is connected (for example, the path $1-4-5-6-3-2$ connects all vertices). With $|V|=6$, the maximum number of edges in any acyclic subgraph is $r_1(E) = 6-1=5$.\n\n**Matroid 2: The Partition Matroid**\n\nThe second constraint limits the number of links of each type. Let the set of Type A links be $E_A$ and Type B links be $E_B$, so that $E=E_A \\cup E_B$ is a partition of $E$. The constraint states that for an active set of links $S$, we must have $|S \\cap E_A| \\le 2$ and $|S \\cap E_B| \\le 2$.\n\nThis defines a partition matroid $M_2 = (E, \\mathcal{I}_2)$. The independent sets $\\mathcal{I}_2$ are the subsets $S \\subseteq E$ that satisfy the given budget constraints.\n\nThe rank of this partition matroid is the maximum number of links one can choose respecting the constraints, which is $r_2(E) = 2 + 2 = 4$.\n\n**Finding the Maximum Size of the Common Independent Set**\n\nWe are looking for a set $S \\subseteq E$ that is independent in both matroids, i.e., $S \\in \\mathcal{I}_1 \\cap \\mathcal{I}_2$. The size of such a set is bounded by the rank of each matroid.\n$$|S| \\le r_1(E) = 5$$\n$$|S| \\le r_2(E) = 4$$\nTherefore, the maximum possible size of $S$ is at most $\\min(5, 4) = 4$.\n\nTo demonstrate that a size of 4 is achievable, we need to construct a set $S$ of 4 links that satisfies both conditions. Let's try to build such a set with 2 Type A links and 2 Type B links, which would satisfy the partition constraint by construction. Our task then reduces to selecting these links such that they do not form a cycle.\n\nLet's select two Type A links. A strategic choice to maximize connectivity without creating cycles is to pick links that do not share vertices. However, we have a small set so let's try picking two \"spoke\" links, which are less likely to form cycles than the triangle links. Let's choose $S_A = \\{A_4, A_5\\}$, corresponding to the edges $(1,4)$ and $(2,5)$. This set is acyclic.\n\nNow, let's select two Type B links to add to our set, ensuring the combined set remains acyclic. Our current set of edges is $\\{(1,4), (2,5)\\}$. The components of the graph formed by these edges are $\\{1,4\\}$, $\\{2,5\\}$, $\\{3\\}$, and $\\{6\\}$.\nLet's first add the Type B link $B_1=(4,5)$. This will merge the components $\\{1,4\\}$ and $\\{2,5\\}$ into $\\{1,2,4,5\\}$. The current set of edges is $\\{(1,4), (2,5), (4,5)\\}$, which is acyclic.\nWe need one more Type B link. Let's try adding $B_2=(5,6)$. This connects vertex 6 to the existing structure. The candidate set of edges becomes $S = \\{(1,4), (2,5), (4,5), (5,6)\\}$.\n\nLet's verify this set $S$:\n1.  **Acyclicity (M_1 independence):** The edges form a path-like structure: $1-4-5-2$ and $6-5-4-1$. More formally, the subgraph is a tree on the vertex set $\\{1,2,4,5,6\\}$, so it is acyclic.\n2.  **Type Constraints (M_2 independence):** The set contains two Type A links ($A_4, A_5$) and two Type B links ($B_1, B_2$).\n    $|S \\cap E_A| = 2 \\le 2$ (satisfied).\n    $|S \\cap E_B| = 2 \\le 2$ (satisfied).\n\nSince we have constructed a valid set of 4 activated links, and we know the maximum size is at most 4, the maximum possible number of links is exactly 4. Another valid solution set could be $\\{A_1, A_4, B_2, B_3\\}$, among others. The existence of at least one such set of size 4 is sufficient proof.", "answer": "$$\\boxed{4}$$", "id": "1520643"}, {"introduction": "The power of matroid intersection extends beyond graphs and simple partitions into the realm of geometry and other abstract structures. In this problem [@problem_id:1520672], you are tasked with selecting a set of monitoring stations under both a geometric constraint (no three points may be collinear) and a regional capacity constraint. This practice demonstrates the framework's versatility and encourages you to think about the concept of 'independence' in more abstract and creative ways.", "problem": "A collection of seven monitoring stations are placed in a 2D plane. Their locations are given by the set of points $E = \\{P_0, P_1, P_2, P_3, P_4, P_5, P_6\\}$. The first six stations form a regular hexagon centered at the origin: $P_k = (\\cos(k\\pi/3), \\sin(k\\pi/3))$ for $k \\in \\{0, 1, 2, 3, 4, 5\\}$. The seventh station, $P_6$, is located at the origin $(0,0)$.\n\nA subset of these stations $S \\subseteq E$ is considered an \"operational configuration\" if it satisfies two strict requirements:\n1.  **Signal Integrity**: To avoid interference, no three stations in $S$ can be collinear.\n2.  **Regional Capacity**: The stations are grouped into three distinct regions.\n    - Region 1: $R_1 = \\{P_0, P_1, P_2\\}$\n    - Region 2: $R_2 = \\{P_3, P_4, P_5\\}$\n    - Region 3: $R_3 = \\{P_6\\}$\n    The configuration $S$ is limited by the capacity of each region, such that $|S \\cap R_1| \\le 2$, $|S \\cap R_2| \\le 2$, and $|S \\cap R_3| \\le 1$.\n\nWhat is the maximum number of stations in an operational configuration?", "solution": "Let $E=\\{P_{0},P_{1},P_{2},P_{3},P_{4},P_{5},P_{6}\\}$ with $P_{k}=(\\cos(k\\pi/3),\\sin(k\\pi/3))$ for $k\\in\\{0,1,2,3,4,5\\}$ and $P_{6}=(0,0)$. The regions are $R_{1}=\\{P_{0},P_{1},P_{2}\\}$, $R_{2}=\\{P_{3},P_{4},P_{5}\\}$, $R_{3}=\\{P_{6}\\}$, with capacities $|S\\cap R_{1}|\\le 2$, $|S\\cap R_{2}|\\le 2$, and $|S\\cap R_{3}|\\le 1$.\n\nFirst, identify all potential collinear triples in $E$. For any $k\\in\\{0,1,2\\}$, note that $P_{k+3}=(-\\cos(k\\pi/3),-\\sin(k\\pi/3))=-P_{k}$, hence\n$$\nP_{k},\\;P_{k+3},\\;P_{6}\n$$\nare collinear because they all lie on the line $\\{tP_{k}:t\\in\\mathbb{R}\\}$ (indeed $P_{k+3}=-1\\cdot P_{k}$ and $P_{6}=0\\cdot P_{k}$). Thus the three collinear triples are $\\{P_{0},P_{3},P_{6}\\}$, $\\{P_{1},P_{4},P_{6}\\}$, and $\\{P_{2},P_{5},P_{6}\\}$. Apart from these, no three of $P_{0},\\dots,P_{5}$ are collinear because they lie on the unit circle centered at the origin, and any line intersects a circle in at most two points. Therefore, the only way to form three collinear points among $E$ is to take $P_{6}$ together with an opposite pair $\\{P_{k},P_{k+3}\\}$.\n\nThe capacity bounds alone allow at most $2+2+1=5$ points. We show that selecting $5$ points is impossible under the no-three-collinear constraint. Suppose, for contradiction, that $|S|=5$. Then, by capacities, necessarily\n$$\n|S\\cap R_{1}|=2,\\quad |S\\cap R_{2}|=2,\\quad |S\\cap R_{3}|=1,\n$$\nso $P_{6}\\in S$ and there are exactly two selections from each of $R_{1}$ and $R_{2}$. Define the opposite mapping $f:R_{1}\\to R_{2}$ by $f(P_{0})=P_{3}$, $f(P_{1})=P_{4}$, $f(P_{2})=P_{5}$. If $S\\cap R_{1}=\\{A,B\\}$, then $f(S\\cap R_{1})=\\{f(A),f(B)\\}$ has two distinct elements in $R_{2}$. Since $|S\\cap R_{2}|=2$, by the pigeonhole principle,\n$$\n(S\\cap R_{2})\\cap f(S\\cap R_{1})\\neq\\varnothing,\n$$\nso some opposite pair $\\{P_{k},P_{k+3}\\}$ is contained in $S$. With $P_{6}\\in S$, this creates a collinear triple $\\{P_{k},P_{k+3},P_{6}\\}$, contradicting the no-three-collinear requirement. Hence $|S|\\le 4$.\n\nIt remains to show that $4$ is attainable. Choose, for example,\n$$\nS=\\{P_{0},P_{1}\\}\\cup\\{P_{3},P_{4}\\},\n$$\nwhich satisfies $|S\\cap R_{1}|=2$, $|S\\cap R_{2}|=2$, $|S\\cap R_{3}|=0$, and, since $P_{6}\\notin S$ and no three of $P_{0},\\dots,P_{5}$ are collinear, the no-three-collinear condition holds. Therefore, an operational configuration with $4$ stations exists, and no larger configuration is possible.\n\nThus the maximum number of stations in an operational configuration is $4$.", "answer": "$$\\boxed{4}$$", "id": "1520672"}]}