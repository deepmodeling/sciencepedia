{"hands_on_practices": [{"introduction": "To begin our hands-on exploration of threshold functions, we will start with a fundamental calculation. This exercise introduces the concept of subgraph density, which is the key to determining the threshold for the appearance of a specific structure in a random graph. By working through this problem, you will learn to apply the core formula $p^*(n) = n^{-1/m(H)}$ and understand how the ratio of edges to vertices in a graph dictates when it is likely to emerge from a sea of random connections [@problem_id:1549226].", "problem": "In the study of random graphs, we often consider the Erdős–Rényi model $G(n,p)$, which is a graph on $n$ labeled vertices where each of the $\\binom{n}{2}$ possible edges is present independently with probability $p$. For a given graph property $\\mathcal{P}$, a function $p^*(n)$ is called a **threshold function** if for any function $\\omega(n)$ that tends to infinity with $n$, the following holds:\n- If $p(n) = \\omega(n) \\cdot p^*(n)$, then $G(n,p(n))$ has the property $\\mathcal{P}$ with a probability that approaches 1 as $n \\to \\infty$.\n- If $p(n) = \\frac{1}{\\omega(n)} \\cdot p^*(n)$, then $G(n,p(n))$ has the property $\\mathcal{P}$ with a probability that approaches 0 as $n \\to \\infty$.\n\nConsider a specific graph structure known as the \"diamond graph\". A diamond graph is a graph on four distinct vertices that can be constructed by taking two triangles that share exactly one common edge. This results in a graph with 4 vertices and 5 edges.\n\nDetermine the threshold function $p^*(n)$ for the property that $G(n,p)$ contains a diamond graph as a subgraph. Express your answer as a function of $n$.", "solution": "Let $H$ be the diamond graph. Then $v(H)=4$ and $e(H)=5$. For the appearance of a fixed subgraph $H$ in $G(n,p)$, a standard threshold is given by\n$$\np^{*}(n)=n^{-1/m(H)},\n$$\nwhere\n$$\nm(H)=\\max_{F\\subseteq H}\\frac{e(F)}{v(F)}.\n$$\nWe compute $m(H)$ for the diamond. Considering all subgraphs $F\\subseteq H$, the densest proper subgraph is a triangle with $\\frac{e(F)}{v(F)}=\\frac{3}{3}=1$, while $H$ itself has\n$$\n\\frac{e(H)}{v(H)}=\\frac{5}{4}.\n$$\nThus $m(H)=\\frac{5}{4}$, and since $H$ is strictly balanced (no proper subgraph attains density $\\frac{5}{4}$), the threshold is\n$$\np^{*}(n)=n^{-1/(5/4)}=n^{-4/5}.\n$$\nThis can also be seen via the first and second moment method: if $X$ counts the copies of $H$, then\n$$\n\\mathbb{E}[X]=\\Theta\\!\\left(n^{v(H)}p^{e(H)}\\right)=\\Theta\\!\\left(n^{4}p^{5}\\right).\n$$\nIf $p=o\\!\\left(n^{-4/5}\\right)$, then $\\mathbb{E}[X]\\to 0$ and by Markov's inequality $G(n,p)$ contains no diamond with probability tending to $1$. If $p=\\omega\\!\\left(n^{-4/5}\\right)$, then $\\mathbb{E}[X]\\to\\infty$, and by standard concentration tools for subgraph counts (e.g., Janson's inequality) and the strict balancedness of $H$, $G(n,p)$ contains a diamond with probability tending to $1$. Therefore, the threshold function is $p^{*}(n)=n^{-4/5}$.", "answer": "$$\\boxed{n^{-4/5}}$$", "id": "1549226"}, {"introduction": "Having learned to calculate a single threshold, we now broaden our perspective to understand the evolution of a random graph. This practice asks you to compare the thresholds for three structurally distinct graphs: a sparse tree, a simple cycle, and a dense clique. This comparative analysis demonstrates how threshold functions predict the sequential emergence of different features as edge probability increases, providing a powerful picture of how complex networks build up from simple beginnings [@problem_id:1549185].", "problem": "In the study of random graphs, the Erdős–Rényi model, denoted $G(n,p)$, describes a graph with $n$ vertices where each of the $\\binom{n}{2}$ possible edges is included independently with probability $p$. As the edge probability $p$ increases from 0 to 1, the structure of the graph a.a.s. (asymptotically almost surely, i.e., with probability tending to 1 as $n \\to \\infty$) evolves through various phases.\n\nA function $p^*(n)$ is called a threshold function for a graph property $P$ if, for any function $\\omega(n) \\to \\infty$:\n- if $p(n) = \\frac{p^*(n)}{\\omega(n)}$, then $G(n,p(n))$ a.a.s. does not have property $P$.\n- if $p(n) = p^*(n) \\cdot \\omega(n)$, then $G(n,p(n))$ a.a.s. does have property $P$.\n\nEssentially, $p^*(n)$ marks the critical probability at which the property $P$ is expected to emerge.\n\nConsider the property $P_H$ of \"containing a subgraph isomorphic to $H$\". Let's examine three specific graphs:\n1.  $H_1$: Any tree with 4 vertices.\n2.  $H_2$: The cycle graph on 5 vertices, $C_5$.\n3.  $H_3$: The complete graph on 4 vertices, $K_4$.\n\nBased on their respective threshold functions, determine the order in which these three subgraphs are expected to first appear in $G(n,p)$ as the edge probability $p$ is gradually increased from 0. Select the correct ordering from earliest to latest appearance.\n\nA. $H_1$, $H_2$, $H_3$\n\nB. $H_1$, $H_3$, $H_2$\n\nC. $H_2$, $H_1$, $H_3$\n\nD. $H_2$, $H_3$, $H_1$\n\nE. $H_3$, $H_1$, $H_2$\n\nF. $H_3$, $H_2$, $H_1$", "solution": "We use the general threshold theory for the appearance of a fixed subgraph in the Erdős–Rényi model. For a fixed graph $H$, let $v(H)$ and $e(H)$ denote its number of vertices and edges, respectively. Define\n$$\nm(H) \\equiv \\max\\left\\{\\frac{e(H')}{v(H')} : H' \\subseteq H,\\ e(H') \\geq 1\\right\\}.\n$$\nIf $H$ is strictly balanced, i.e., $\\frac{e(H')}{v(H')}<\\frac{e(H)}{v(H)}$ for every proper subgraph $H' \\subset H$ with at least one edge, then the threshold for the property “containing a copy of $H$” is\n$$\np^{*}(n) = n^{-1/m(H)}.\n$$\nThis can be heuristically motivated by the first-moment calculation: the expected number of labeled copies of $H$ is on the order of $n^{v(H)} p^{e(H)}$, so $n^{v(H)} p^{e(H)} \\approx 1$ gives $p \\approx n^{-v(H)/e(H)} = n^{-1/(e(H)/v(H))}$. Strict balancedness ensures that subgraphs do not dominate and removes extra logarithmic factors, yielding the sharp threshold $n^{-1/m(H)}$.\n\nWe now compute $m(H)$ and $p^{*}(n)$ for each of the given graphs and compare.\n\n1) $H_{1}$ is any tree on $4$ vertices. Here $v(H_{1})=4$ and $e(H_{1})=3$. For any nonempty subtree $H'$, we have $e(H')=v(H')-1$, hence\n$$\n\\frac{e(H')}{v(H')}=\\frac{v(H')-1}{v(H')}=1-\\frac{1}{v(H')},\n$$\nwhich increases with $v(H')$. Therefore the maximum over subgraphs occurs at $H'=H_{1}$, giving\n$$\nm(H_{1})=\\frac{3}{4},\\qquad p^{*}_{H_{1}}(n)=n^{-1/m(H_{1})}=n^{-4/3}.\n$$\n\n2) $H_{2}=C_{5}$, with $v(H_{2})=5$ and $e(H_{2})=5$. Any proper subgraph has at most $v'-1$ edges, so\n$$\n\\frac{e(H')}{v(H')} \\leq \\frac{v'-1}{v'} < 1,\n$$\nwhile for $H_{2}$ itself, $\\frac{e(H_{2})}{v(H_{2})}=1$. Hence $C_{5}$ is strictly balanced with\n$$\nm(H_{2})=1,\\qquad p^{*}_{H_{2}}(n)=n^{-1}.\n$$\n\n3) $H_{3}=K_{4}$, with $v(H_{3})=4$ and $e(H_{3})=6$. Any proper subgraph has density at most that of a triangle, which is $1$, whereas\n$$\n\\frac{e(H_{3})}{v(H_{3})}=\\frac{6}{4}=\\frac{3}{2}.\n$$\nThus $K_{4}$ is strictly balanced and\n$$\nm(H_{3})=\\frac{3}{2},\\qquad p^{*}_{H_{3}}(n)=n^{-1/m(H_{3})}=n^{-2/3}.\n$$\n\nTo determine the order of first appearance as $p$ increases from $0$ to $1$, we compare the asymptotic sizes of these thresholds for large $n$:\n$$\nn^{-4/3} \\ll n^{-1} \\ll n^{-2/3}.\n$$\nA smaller threshold means the subgraph appears at a lower edge probability and thus earlier as $p$ increases. Therefore the order from earliest to latest is\n$$\nH_{1}\\ (\\text{tree on }4\\ \\text{vertices}),\\quad H_{2}\\ (C_{5}),\\quad H_{3}\\ (K_{4}).\n$$\nThis corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "1549185"}, {"introduction": "This final practice challenges us to think more deeply about the composition of graph properties by examining a disconnected subgraph. What happens when the structure we are looking for consists of multiple, separate pieces? This thought-provoking scenario [@problem_id:1549227] reveals a subtler aspect of threshold phenomena: the emergence of the entire structure is governed by the appearance of its densest component, a principle that requires moving beyond a simple first-moment calculation to a more robust probabilistic argument.", "problem": "Consider the Erdős-Rényi random graph model, denoted $G(n,p)$. This model defines a graph on a set of $n$ labeled vertices, where each of the $\\binom{n}{2}$ possible edges is included in the graph independently with probability $p$.\n\nA function $t(n)$ is called a threshold function for a graph property $\\mathcal{P}$ if for any function $p(n)$:\n1. If $p(n) = o(t(n))$ (meaning $\\lim_{n\\to\\infty} \\frac{p(n)}{t(n)} = 0$), then the probability that $G(n, p(n))$ has the property $\\mathcal{P}$ tends to 0 as $n \\to \\infty$.\n2. If $p(n) = \\omega(t(n))$ (meaning $\\lim_{n\\to\\infty} \\frac{p(n)}{t(n)} = \\infty$), then the probability that $G(n, p(n))$ has the property $\\mathcal{P}$ tends to 1 as $n \\to \\infty$.\n\nLet $\\mathcal{A}$ be the property that a graph contains at least two vertex-disjoint copies of the complete graph $K_3$ (a triangle). Two subgraphs are vertex-disjoint if their vertex sets are disjoint.\n\nDetermine the threshold function $t(n)$ for the property $\\mathcal{A}$. Express your answer as a function of $n$.", "solution": "Let $G \\sim G(n,p)$. Denote by $X$ the number of triangles in $G$, and by $Y$ the number of unordered pairs of vertex-disjoint triangles in $G$.\n\nLower bound (subcritical side):\nWe first show that if $p(n)=o(n^{-1})$, then $\\mathbb{P}(\\mathcal{A}) \\to 0$. We have\n$$\n\\mathbb{E}[X]=\\binom{n}{3} p^{3}.\n$$\nIf $p=o(n^{-1})$, then $\\binom{n}{3} p^{3}=o(1)$, hence by Markov's inequality,\n$$\n\\mathbb{P}(X \\ge 1) \\le \\mathbb{E}[X] \\to 0.\n$$\nSince $\\mathcal{A}$ implies $X \\ge 2$, it follows that $\\mathbb{P}(\\mathcal{A}) \\le \\mathbb{P}(X \\ge 1) \\to 0$. Therefore any threshold $t(n)$ must satisfy $t(n) \\ge n^{-1}$ up to asymptotic equivalence.\n\nUpper bound (supercritical side):\nWe show that if $p(n)=\\omega(n^{-1})$, then $\\mathbb{P}(\\mathcal{A}) \\to 1$. Let $Y$ count unordered pairs of vertex-disjoint triangles. For each unordered pair of disjoint $3$-sets, the probability that both induce triangles is $p^{6}$. The number of such unordered pairs is $\\frac{1}{2}\\binom{n}{3}\\binom{n-3}{3}$. Hence\n$$\n\\mathbb{E}[Y]=\\frac{1}{2}\\binom{n}{3}\\binom{n-3}{3} p^{6}.\n$$\nIf $p=\\lambda n^{-1}$ with $\\lambda=\\lambda(n) \\to \\infty$, then\n$$\n\\mathbb{E}[Y]=\\frac{1}{2}\\binom{n}{3}\\binom{n-3}{3} \\lambda^{6} n^{-6} \\to \\infty,\n$$\nindeed $\\mathbb{E}[Y]$ grows on the order of $\\lambda^{6}$.\n\nTo conclude that $\\mathbb{P}(Y>0) \\to 1$, we apply the second moment method via the Paley–Zygmund inequality:\n$$\n\\mathbb{P}(Y>0) \\ge \\frac{\\mathbb{E}[Y]^{2}}{\\mathbb{E}[Y^{2}]}.\n$$\nWe thus estimate $\\mathbb{E}[Y^{2}]$. Write $Y=\\sum_{S} I_{S}$, where $S$ ranges over all unordered pairs of disjoint $3$-sets and $I_{S}$ is the indicator that both corresponding triangles appear. Then\n$$\n\\mathbb{E}[Y^{2}] = \\sum_{S,T} \\mathbb{E}[I_{S} I_{T}],\n$$\nand we partition ordered pairs $(S,T)$ by the overlap type of the two configurations.\n\n1) Type 0 (vertex-disjoint configurations): $(S,T)$ use $12$ distinct vertices. The number of such ordered pairs is $\\Theta(n^{12})$, and for each, $\\mathbb{E}[I_{S} I_{T}]=p^{12}$. Thus their total contribution is $\\Theta(n^{12} p^{12})$, which equals $\\Theta(\\mathbb{E}[Y]^{2})$ because $\\mathbb{E}[Y]=\\Theta(n^{6} p^{6})$.\n\n2) Type 1 (one shared triangle): $(S,T)$ share exactly one triangle, using $9$ vertices in total. The number of such ordered pairs is $\\Theta(n^{9})$; for each, $\\mathbb{E}[I_{S} I_{T}]=p^{9}$. The total contribution is $O(n^{9} p^{9})$, and\n$$\n\\frac{O(n^{9} p^{9})}{\\mathbb{E}[Y]^{2}} = O\\left(\\frac{n^{9} p^{9}}{n^{12} p^{12}}\\right) = O\\left((np)^{-3}\\right)=O(\\lambda^{-3}) \\to 0.\n$$\n\n3) Type 2 (one shared edge but not a whole triangle): The union uses $10$ vertices and $11$ distinct edges. The number of such ordered pairs is $O(n^{10})$, with $\\mathbb{E}[I_{S} I_{T}] \\le p^{11}$. The contribution is $O(n^{10} p^{11})$, and\n$$\n\\frac{O(n^{10} p^{11})}{\\mathbb{E}[Y]^{2}} = O\\left(\\frac{n^{10} p^{11}}{n^{12} p^{12}}\\right) = O\\left(\\frac{1}{n^{2} p}\\right) = O\\left(\\frac{1}{\\lambda n}\\right) \\to 0.\n$$\n\n4) Type 3 (one shared vertex but no shared edge): The union uses $11$ vertices and $12$ edges. The number of such ordered pairs is $O(n^{11})$, with $\\mathbb{E}[I_{S} I_{T}] = p^{12}$. The contribution is $O(n^{11} p^{12})$, and\n$$\n\\frac{O(n^{11} p^{12})}{\\mathbb{E}[Y]^{2}} = O\\left(\\frac{n^{11} p^{12}}{n^{12} p^{12}}\\right) = O\\left(\\frac{1}{n}\\right) \\to 0.\n$$\n\n5) The diagonal $S=T$ contributes exactly $\\mathbb{E}[Y]=o(\\mathbb{E}[Y]^{2})$ since $\\mathbb{E}[Y] \\to \\infty$.\n\nSumming all cases gives\n$$\n\\mathbb{E}[Y^{2}] = (1+o(1))\\,\\mathbb{E}[Y]^{2}.\n$$\nTherefore, by Paley–Zygmund,\n$$\n\\mathbb{P}(Y>0) \\ge \\frac{\\mathbb{E}[Y]^{2}}{\\mathbb{E}[Y^{2}]} = 1 - o(1).\n$$\nHence, if $p=\\omega(n^{-1})$, then with probability tending to $1$ there exists at least one unordered pair of vertex-disjoint triangles, i.e., $\\mathcal{A}$ holds.\n\nCombining the subcritical and supercritical parts shows that the threshold function for $\\mathcal{A}$ is\n$$\nt(n)=n^{-1}.\n$$\n\nRemark on general principle: This also follows from the general threshold theorem for fixed graphs $F$: the threshold for the appearance of $F$ is $n^{-1/m(F)}$, where $m(F)=\\max_{F' \\subseteq F} \\frac{e(F')}{v(F')}$; for $F=K_{3} \\cup K_{3}$, $m(F)=1$, giving $t(n)=n^{-1}$. The direct calculation above verifies both sides explicitly for the specific property.", "answer": "$$\\boxed{n^{-1}}$$", "id": "1549227"}]}