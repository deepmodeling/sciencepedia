{"hands_on_practices": [{"introduction": "Let's begin with a foundational exercise to build your intuition for edge contraction. We will explore the effect of this operation on one of the simplest graph structures, the path graph $P_n$. This practice solidifies the procedural steps of contraction and demonstrates how a graph can transform into a smaller, but structurally related, version of itself [@problem_id:1499648].", "problem": "In graph theory, a path graph, denoted as $P_n$, is a graph with $n$ vertices labeled $v_1, v_2, \\dots, v_n$ and an edge set consisting of edges $\\{v_i, v_{i+1}\\}$ for all integers $i$ from $1$ to $n-1$. The degree of a vertex is the number of edges incident to it. A fundamental operation on graphs is edge contraction. The contraction of an edge $e = \\{u, w\\}$ is the process of merging the two vertices $u$ and $w$ into a single new vertex, let's call it $v_{uw}$. In this process, the edge $e$ is removed, and any other edge that was incident to either $u$ or $w$ is now connected to the new vertex $v_{uw}$. Any loops or multiple edges created by this process are preserved in multigraph contexts, but for simple graphs, multiple edges are merged into a single edge.\n\nConsider a path graph $P_n$ for an integer $n \\ge 3$. Suppose we select one of the two edges that are incident to a vertex of degree 1. If we perform an edge contraction on this selected edge, the resulting graph will be isomorphic to a standard, well-known graph.\n\nWhich of the following graphs is the resulting graph isomorphic to?\n\nA. The path graph $P_n$\n\nB. The path graph $P_{n-1}$\n\nC. The cycle graph $C_{n-1}$\n\nD. The star graph $K_{1, n-2}$\n\nE. The path graph $P_{n-2}$", "solution": "Let $P_n$ have vertex set $\\{v_1, v_2, \\dots, v_n\\}$ and edge set $E=\\{\\{v_i, v_{i+1}\\} : 1 \\le i \\le n-1\\}$. The vertices of degree $1$ are $v_1$ and $v_n$. Without loss of generality, select the edge $\\{v_1, v_2\\}$ and contract it to a new vertex, denote this new vertex by $w$.\n\nBy the definition of edge contraction, the edge $\\{v_1, v_2\\}$ is removed, $v_1$ and $v_2$ are merged into $w$, and every edge incident to $v_1$ or $v_2$ (other than the contracted edge) is now incident to $w$. Since $v_1$ had no neighbors other than $v_2$, and $v_2$ had neighbors $v_1$ and $v_3$, the only surviving adjacency involving $w$ is to $v_3$. No loops or multiple edges are created because $v_1$ was not adjacent to $v_3$ and the original graph is simple.\n\nThus the resulting graph has vertex set $\\{w, v_3, v_4, \\dots, v_n\\}$, which has $n-1$ vertices, and edge set\n$$\n\\{\\{w, v_3\\}, \\{v_3, v_4\\}, \\dots, \\{v_{n-1}, v_n\\}\\}.\n$$\nRelabel these vertices as $u_1=w$, $u_2=v_3$, $\\dots$, $u_{n-1}=v_n$. Then the edges are exactly\n$$\n\\{\\{u_i, u_{i+1}\\} : 1 \\le i \\le n-2\\},\n$$\nwhich is precisely the definition of the path graph $P_{n-1}$. Therefore, the resulting graph is isomorphic to $P_{n-1}$.\n\nThe same conclusion holds if we instead contract $\\{v_{n-1}, v_n\\}$ by symmetry.", "answer": "$$\\boxed{B}$$", "id": "1499648"}, {"introduction": "Now that we've seen how contraction works in a simple undirected graph, let's consider a more complex case involving directed graphs. This problem investigates whether the crucial property of acyclicity is preserved after an edge contraction in a Directed Acyclic Graph (DAG). Understanding this is vital for applications where cycles imply logical impossibilities, such as in task scheduling or dependency tracking [@problem_id:1499635].", "problem": "In graph theory, a simple Directed Acyclic Graph (DAG) is a directed graph with no directed cycles, no self-loops, and no more than one edge between any two vertices in the same direction.\n\nConsider the operation of **edge contraction** on a simple DAG. Let $G=(V,E)$ be a simple DAG and let $e=(u,v)$ be a directed edge in $E$. The contraction of edge $e$ produces a new graph $G'=(V',E')$. The vertex set $V'$ is formed from $V$ by removing vertices $u$ and $v$ and adding a single new \"super-vertex\" $w$. The edge set $E'$ is constructed as follows:\n1. For every vertex $x \\in V \\setminus \\{u,v\\}$, if the edge $(x,u) \\in E$ or the edge $(x,v) \\in E$, a new edge $(x,w)$ is added to $E'$.\n2. For every vertex $x \\in V \\setminus \\{u,v\\}$, if the edge $(u,x) \\in E$ or the edge $(v,x) \\in E$, a new edge $(w,x)$ is added to $E'$.\n3. Any parallel edges created in this process are merged into a single edge, so $G'$ remains a simple graph with respect to multiple edges. Any self-loop that may be created on $w$ (i.e., an edge from $w$ to $w$) is removed.\n\nWhich of the following statements accurately describes the acyclic property of the resulting graph $G'$?\n\nA. $G'$ is always a DAG.\n\nB. $G'$ is never a DAG.\n\nC. $G'$ may or may not be a DAG, depending on the specific edge contracted and the structure of the original graph.\n\nD. $G'$ is a DAG if and only if the original graph $G$ was a directed path graph (i.e., its vertices can be linearly ordered $v_1, v_2, \\ldots, v_n$ such that the only edges are $(v_i, v_{i+1})$ for all $1 \\leq i < n$).\n\nE. $G'$ is a DAG only if vertex $u$ is a source vertex (indegree of 0) and vertex $v$ is a sink vertex (outdegree of 0) in the original graph $G$.", "solution": "Let $G=(V,E)$ be a simple DAG and let $e=(u,v) \\in E$. The contraction of $e$ replaces $u,v$ by a single vertex $w$ and defines edges so that, for any $x \\in V \\setminus \\{u,v\\}$, there is an edge $(w,x)$ in $G'$ if and only if $(u,x) \\in E$ or $(v,x) \\in E$, and there is an edge $(x,w)$ in $G'$ if and only if $(x,u) \\in E$ or $(x,v) \\in E$. Parallel edges are merged and any self-loop on $w$ is removed.\n\nSince the adjacencies among vertices in $V \\setminus \\{u,v\\}$ are unchanged, any directed cycle in $G'$ must involve $w$. Suppose there is a directed cycle in $G'$ of the form\n$$\nw \\to x_1 \\to x_2 \\to \\cdots \\to x_k \\to w,\n$$\nwith $k \\ge 1$ and all $x_i \\in V \\setminus \\{u,v\\}$. The edge $w \\to x_1$ arises from either $u \\to x_1$ or $v \\to x_1$ in $G$, and the edge $x_k \\to w$ arises from either $x_k \\to u$ or $x_k \\to v$ in $G$. Consider the four possibilities:\n\n1) If $w \\to x_1$ comes from $v \\to x_1$ and $x_k \\to w$ comes from $x_k \\to u$, then in $G$ there is a directed path $v \\to x_1 \\to \\cdots \\to x_k \\to u$, which together with $(u,v)$ would form a directed cycle in $G$, impossible.\n\n2) If $w \\to x_1$ comes from $v \\to x_1$ and $x_k \\to w$ comes from $x_k \\to v$, then in $G$ there is a directed cycle $v \\to x_1 \\to \\cdots \\to x_k \\to v$, impossible.\n\n3) If $w \\to x_1$ comes from $u \\to x_1$ and $x_k \\to w$ comes from $x_k \\to u$, then in $G$ there is a directed cycle $u \\to x_1 \\to \\cdots \\to x_k \\to u$, impossible.\n\n4) If $w \\to x_1$ comes from $u \\to x_1$ and $x_k \\to w$ comes from $x_k \\to v$, then in $G$ there is a directed path $u \\to x_1 \\to \\cdots \\to x_k \\to v$ of length at least two. This does not contradict acyclicity of $G$ and is exactly the configuration that yields a directed cycle in $G'$.\n\nTherefore, $G'$ contains a directed cycle if and only if there exists a directed path in $G$ from $u$ to $v$ that uses at least one intermediate vertex (equivalently, if and only if $(u,v)$ is not a cover relation in the reachability poset of $G$). In particular:\n\n- It is not true that $G'$ is always a DAG: for example, take $V=\\{u,x,v\\}$ and $E=\\{(u,x),(x,v),(u,v)\\}$. This $G$ is a DAG, but contracting $(u,v)$ yields $w \\to x$ (from $u \\to x$) and $x \\to w$ (from $x \\to v$), forming a directed 2-cycle.\n\n- It is not true that $G'$ is never a DAG: for example, take $V=\\{a,u,v,b\\}$ and $E=\\{(a,u),(u,v),(v,b)\\}$ with no other edges. There is no path from $u$ to $v$ except the edge $(u,v)$, so contracting $(u,v)$ yields $E'=\\{(a,w),(w,b)\\}$, which is acyclic.\n\nThus, whether $G'$ is a DAG depends on the specific edge contracted and the structure of $G$, namely on the presence or absence of an alternate directed path from $u$ to $v$ of length at least two. Consequently, among the given options, the correct description is that $G'$ may or may not be a DAG depending on the edge and the graph.", "answer": "$$\\boxed{C}$$", "id": "1499635"}, {"introduction": "Our final practice moves from purely structural questions to quantitative analysis, a common task in network science. You will connect the abstract operation of edge contraction to a concrete metric, graph density, and devise a strategy to maximize it. This exercise challenges you to model the effects of contraction mathematically to solve an optimization problem, a key skill in designing and analyzing complex networks [@problem_id:1499651].", "problem": "In the study of network science, the density of a graph is a measure of how close it is to being a complete graph. For a simple, undirected, non-complete graph $G$ with a vertex set $V$ and an edge set $E$, its density $\\rho(G)$ is defined as the ratio of the number of edges to the maximum possible number of edges. With $|V|=n$ vertices and $|E|=m$ edges, the density is given by $\\rho(G) = \\frac{m}{\\binom{n}{2}} = \\frac{2m}{n(n-1)}$.\n\nAn important operation on graphs is edge contraction. For an edge $e=\\{u, v\\}$ in $G$, its contraction produces a new graph, let's call it $G'$, by merging the two vertices $u$ and $v$ into a single new vertex $w$. The properties of the new graph $G'$ are as follows:\n1. The number of vertices in $G'$ is $n-1$.\n2. The new vertex $w$ is adjacent to any vertex $z$ that was adjacent to either $u$ or $v$ in the original graph $G$.\n3. To keep the graph simple, if a vertex $z$ was a common neighbor to both $u$ and $v$, the two edges $\\{u,z\\}$ and $\\{v,z\\}$ are replaced by a single edge $\\{w, z\\}$ in $G'$. The edge $e=\\{u,v\\}$ itself is removed.\n\nThe contraction of different edges can lead to different changes in the graph's density. Let $\\Delta \\rho = \\rho(G') - \\rho(G)$ be the increase in density after contracting an edge $e=\\{u, v\\}$. To maximize this increase, one must select an edge that minimizes or maximizes a certain structural property related to its endpoints.\n\nLet $d(x)$ denote the degree of a vertex $x$, and let $N(x)$ denote the set of neighbors of $x$. Your task is to identify which of the following quantities, associated with an edge $e=\\{u,v\\}$, should be **minimized** to achieve the maximum possible increase in density.\n\nA. $d(u) + d(v)$\n\nB. $|N(u) \\cup N(v)|$\n\nC. $|N(u) \\cap N(v)|$\n\nD. $d(u) \\times d(v)$\n\nE. $|N(u) \\setminus N(v)| + |N(v) \\setminus N(u)|$", "solution": "Let $G$ be a simple undirected graph with $|V|=n$ and $|E|=m$, and let $e=\\{u,v\\}$ be an edge to be contracted into a new vertex $w$. Denote $c=|N(u)\\cap N(v)|$. Upon contracting $e$, the number of vertices becomes $n-1$. For edges, the edge $\\{u,v\\}$ is removed, and for each common neighbor $z\\in N(u)\\cap N(v)$ the two edges $\\{u,z\\}$ and $\\{v,z\\}$ become a single edge $\\{w,z\\}$, reducing the total number of edges by $1$ per common neighbor. All other edges remain. Therefore,\n$$\nm' \\equiv |E(G')|=m-1-c.\n$$\nThe densities before and after contraction are\n$$\n\\rho(G)=\\frac{2m}{n(n-1)},\\qquad \\rho(G')=\\frac{2(m-1-c)}{(n-1)(n-2)}.\n$$\nHence the change in density is\n$$\n\\Delta \\rho=\\rho(G')-\\rho(G)=\\frac{2(m-1-c)}{(n-1)(n-2)}-\\frac{2m}{n(n-1)}.\n$$\nFactor $\\frac{2}{n-1}$ and combine terms:\n$$\n\\Delta \\rho=\\frac{2}{n-1}\\left(\\frac{m-1-c}{n-2}-\\frac{m}{n}\\right)\n=\\frac{2}{n-1}\\cdot \\frac{n(m-1-c)-m(n-2)}{n(n-2)}.\n$$\nSimplifying the numerator gives\n$$\nn(m-1-c)-m(n-2)=nm-n-nc-mn+2m=2m-n(1+c).\n$$\nThus,\n$$\n\\Delta \\rho=\\frac{2\\big(2m-n(1+c)\\big)}{n(n-1)(n-2)}.\n$$\nFor fixed $n$ and $m$, this expression is strictly decreasing in $c=|N(u)\\cap N(v)|$. Therefore, to maximize $\\Delta \\rho$, one must minimize $|N(u)\\cap N(v)|$. Among the listed options, this corresponds to option C.", "answer": "$$\\boxed{C}$$", "id": "1499651"}]}