{"hands_on_practices": [{"introduction": "Betweenness centrality isn't just an abstract formula; its value is deeply tied to the structure of a network. A great starting point for seeing this connection is the complete bipartite graph, $K_{m,n}$, which models networks with two distinct sets of nodes, like a group of viewers and a set of movies they've watched. This first practice [@problem_id:1483194] asks you to calculate the centrality of a node in a simple $K_{2,3}$ graph, revealing how nodes can become critical bridges simply by connecting different communities.", "problem": "Consider a simple, unweighted graph representing a small communication network. The network has five nodes, which are partitioned into two disjoint sets: a set $U = \\{u_1, u_2\\}$ and a set $W = \\{v_1, v_2, v_3\\}$. An edge exists between any node in $U$ and any node in $W$. No edges exist between any two nodes that are both in $U$ or both in $W$. This structure corresponds to a complete bipartite graph, denoted as $K_{2,3}$.\n\nThe betweenness centrality of a node is a measure of its importance for the flow of information through the network. For a node $v$, its betweenness centrality, $C_B(v)$, is defined as:\n$$C_B(v) = \\sum_{\\{s,t\\}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$$\nwhere the sum is over all unique unordered pairs of nodes $\\{s,t\\}$ in the graph such that $s \\neq v$ and $t \\neq v$. In this formula, $\\sigma_{st}$ is the total number of shortest paths between node $s$ and node $t$, and $\\sigma_{st}(v)$ is the number of those shortest paths that pass through node $v$.\n\nCalculate the betweenness centrality of the node $u_1$. Express your answer as a single fraction in simplest form.", "solution": "The graph is the complete bipartite graph $K_{2,3}$ with parts $U=\\{u_{1},u_{2}\\}$ and $W=\\{v_{1},v_{2},v_{3}\\}$, with all edges between $U$ and $W$ and none within a part. The betweenness centrality for $u_{1}$ is\n$$\nC_{B}(u_{1})=\\sum_{\\{s,t\\}} \\frac{\\sigma_{st}(u_{1})}{\\sigma_{st}},\n$$\nwhere the sum is over all unordered pairs $\\{s,t\\}$ with $s\\neq u_{1}$ and $t\\neq u_{1}$. Excluding $u_{1}$, the remaining nodes are $\\{u_{2},v_{1},v_{2},v_{3}\\}$, giving $\\binom{4}{2}=6$ pairs. Partition these pairs into types and compute contributions.\n\n1) Pairs of the form $\\{u_{2},v_{k}\\}$ for $k\\in\\{1,2,3\\}$: The shortest path length is $1$ (edge $u_{2}v_{k}$), so $\\sigma_{u_{2}v_{k}}=1$, and no shortest path passes through $u_{1}$, hence $\\sigma_{u_{2}v_{k}}(u_{1})=0$. Each such pair contributes $0$.\n\n2) Pairs of the form $\\{v_{i},v_{j}\\}$ with $i\\neq j$: Any shortest path has length $2$ and must go through a node in $U$. There are exactly two shortest paths, one via $u_{1}$ and one via $u_{2}$, so $\\sigma_{v_{i}v_{j}}=2$ and $\\sigma_{v_{i}v_{j}}(u_{1})=1$. Each such pair contributes $\\frac{1}{2}$. There are $\\binom{3}{2}=3$ such pairs, so their total contribution is $3\\cdot \\frac{1}{2}=\\frac{3}{2}$.\n\nSumming all contributions gives\n$$\nC_{B}(u_{1})=\\frac{3}{2}.\n$$", "answer": "$$\\boxed{\\frac{3}{2}}$$", "id": "1483194"}, {"introduction": "Moving to a more structured topology, grid graphs serve as excellent models for networks where geography or layout is important, such as city street grids or circuit boards. In this exercise [@problem_id:1483193], we will calculate the betweenness centrality for a corner node in a 3x3 grid. By focusing on a peripheral vertex, you will build an intuition for how a node's limited connectivity and position at the network's edge constrain its role as an intermediary.", "problem": "Consider a graph $G=(V, E)$ representing a small computer network. The set of vertices $V$ consists of 9 nodes arranged in a 3x3 square grid. These nodes can be uniquely identified by integer coordinates $(i,j)$ where $1 \\le i \\le 3$ and $1 \\le j \\le 3$. An edge exists between two vertices $(i,j)$ and $(i',j')$ if and only if they are adjacent on the grid, meaning the Manhattan distance between them is 1, i.e., $|i-i'| + |j-j'| = 1$.\n\nThe unnormalized betweenness centrality, $C_B(v)$, of a vertex $v$ measures its importance in the network's information flow. It is defined as the sum over all unordered pairs of distinct vertices $\\{s, t\\}$ (where $s, t \\neq v$) of the fraction of shortest paths between $s$ and $t$ that pass through $v$. Mathematically, this is expressed as:\n\n$$C_B(v) = \\sum_{s, t \\in V; s \\neq v, t \\neq v, s \\neq t} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$$\n\nwhere the sum is over all unordered pairs of vertices $\\{s, t\\}$, $\\sigma_{st}$ is the total number of shortest paths between vertices $s$ and $t$, and $\\sigma_{st}(v)$ is the number of those shortest paths that include $v$.\n\nCalculate the unnormalized betweenness centrality, $C_B(v)$, for a corner vertex, specifically the vertex $v = (1,1)$. Express your answer as an exact fraction in simplest form.", "solution": "Let $V=\\{(i,j): i,j\\in\\{1,2,3\\}\\}$ with edges between Manhattan-adjacent vertices. The unnormalized betweenness centrality of $v=(1,1)$ is\n$$\nC_{B}(v)=\\sum_{\\{s,t\\}\\subset V\\setminus\\{v\\}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}},\n$$\nwhere $\\sigma_{st}$ is the number of shortest $s$–$t$ paths and $\\sigma_{st}(v)$ is the number of those that pass through $v$.\n\nA vertex $v$ lies on a shortest path between $s=(i_{s},j_{s})$ and $t=(i_{t},j_{t})$ in the Manhattan metric if and only if\n$$\nd(s,t)=d(s,v)+d(v,t),\n$$\nwhich, by the triangle inequality in each coordinate, is equivalent to having $i_{v}$ between $i_{s}$ and $i_{t}$ and $j_{v}$ between $j_{s}$ and $j_{t}$. For $v=(1,1)$ this becomes\n$$\n(i_{s}-1)(i_{t}-1)\\le 0 \\quad\\text{and}\\quad (j_{s}-1)(j_{t}-1)\\le 0.\n$$\nSince $i_{s},i_{t},j_{s},j_{t}\\in\\{1,2,3\\}$ and $s,t\\ne(1,1)$, this condition holds exactly when one of $s,t$ lies in the first column excluding $v$, i.e., in $\\{(1,2),(1,3)\\}$, and the other lies in the first row excluding $v$, i.e., in $\\{(2,1),(3,1)\\}$. Thus the only unordered pairs $\\{s,t\\}$ contributing nonzero terms are\n$$\n\\{(1,2),(2,1)\\},\\ \\{(1,2),(3,1)\\},\\ \\{(1,3),(2,1)\\},\\ \\{(1,3),(3,1)\\}.\n$$\n\nFor $s=(1,a)$ with $a\\in\\{2,3\\}$ and $t=(b,1)$ with $b\\in\\{2,3\\}$, the Manhattan distance is $(a-1)+(b-1)$, and the number of shortest paths is\n$$\n\\sigma_{st}=\\binom{(a-1)+(b-1)}{a-1}=\\binom{a+b-2}{a-1}.\n$$\nThere is exactly one shortest path from $s$ to $v$ (all vertical) and exactly one from $v$ to $t$ (all horizontal), so $\\sigma_{st}(v)=1$. Therefore each pair contributes $\\frac{1}{\\sigma_{st}}$.\n\nEvaluating for the four pairs:\n- $(a,b)=(2,2)$: $\\sigma_{st}=\\binom{2}{1}=2$, contribution $\\frac{1}{2}$.\n- $(a,b)=(2,3)$: $\\sigma_{st}=\\binom{3}{1}=3$, contribution $\\frac{1}{3}$.\n- $(a,b)=(3,2)$: $\\sigma_{st}=\\binom{3}{2}=3$, contribution $\\frac{1}{3}$.\n- $(a,b)=(3,3)$: $\\sigma_{st}=\\binom{4}{2}=6$, contribution $\\frac{1}{6}$.\n\nSumming,\n$$\nC_{B}(1,1)=\\frac{1}{2}+\\frac{1}{3}+\\frac{1}{3}+\\frac{1}{6}\n=\\frac{3}{6}+\\frac{2}{3}+\\frac{1}{6}\n=\\frac{3}{6}+\\frac{4}{6}+\\frac{1}{6}\n=\\frac{8}{6}=\\frac{4}{3}.\n$$\nHence the unnormalized betweenness centrality of the corner vertex $(1,1)$ is $\\frac{4}{3}$.", "answer": "$$\\boxed{\\frac{4}{3}}$$", "id": "1483193"}, {"introduction": "Having established the centrality of a corner node, we now turn our attention to the heart of the grid. This practice [@problem_id:1483203] challenges you to compute the betweenness centrality for the single vertex at the very center of the same 3x3 network. Comparing your result with the previous exercise provides a powerful, quantitative illustration of why central positions are so critical for information flow, and will give you a chance to practice more complex path-counting techniques.", "problem": "Consider a small communication network modeled as a graph $G=(V,E)$. The network consists of 9 nodes arranged in a 3x3 grid. A node can communicate directly only with its immediate neighbors (nodes that are horizontally or vertically adjacent). The distance between any two nodes is defined as the number of direct communication links in the shortest path connecting them.\n\nTo assess the importance of a node in routing information, we use the measure of betweenness centrality. The unnormalized betweenness centrality of a node $v$, $C_B(v)$, is defined as the sum over all unordered pairs of distinct nodes $\\{s, t\\}$ (where $s, t \\neq v$) of the fraction of shortest paths between $s$ and $t$ that pass through $v$. Mathematically, this is expressed as:\n$$C_B(v) = \\sum_{s, t \\in V; s \\neq v, t \\neq v, s \\neq t} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$$\nwhere $\\sigma_{st}$ is the total number of shortest paths between nodes $s$ and $t$, and $\\sigma_{st}(v)$ is the number of those shortest paths that pass through node $v$.\n\nCalculate the unnormalized betweenness centrality for the single node located at the exact center of the 3x3 grid. Express your answer as a simplified fraction.", "solution": "Label the grid nodes by coordinates $(i,j)$ with $i,j \\in \\{1,2,3\\}$ and let the center be $v=(2,2)$. The distance is Manhattan: for nodes $x=(i_{x},j_{x})$ and $y=(i_{y},j_{y})$, $d(x,y)=|i_{x}-i_{y}|+|j_{x}-j_{y}|$. For $s,t$ with horizontal difference $d_{x}=|i_{s}-i_{t}|$ and vertical difference $d_{y}=|j_{s}-j_{t}|$, the number of shortest $s$–$t$ paths is\n$$\n\\sigma_{st}=\\binom{d_{x}+d_{y}}{d_{x}}.\n$$\nThe center $v$ lies on some shortest $s$–$t$ path if and only if $d(s,v)+d(v,t)=d(s,t)$, which holds precisely when $v$ lies in the axis-aligned rectangle with corners $s$ and $t$. In that case, the number of shortest $s$–$t$ paths through $v$ is\n$$\n\\sigma_{st}(v)=\\sigma_{sv}\\,\\sigma_{vt}.\n$$\nWe sum $\\sigma_{st}(v)/\\sigma_{st}$ over all unordered pairs $\\{s,t\\}$ of the $8$ non-center nodes. By symmetry, classify the nodes into edge centers $E=\\{(1,2),(2,1),(2,3),(3,2)\\}$ and corners $C=\\{(1,1),(1,3),(3,1),(3,3)\\}$, and partition the pairs into $E$–$E$, $C$–$C$, and $E$–$C$.\n\n1) $E$–$E$ pairs: There are $\\binom{4}{2}=6$ pairs. Two are opposite across $v$: $(1,2)$–$(3,2)$ and $(2,1)$–$(2,3)$. For each, $d=2$, $\\sigma_{st}=1$, and the unique shortest path passes through $v$, so each contributes $1$. The remaining four pairs are perpendicular, e.g., $(1,2)$–$(2,1)$, with $d=2$, $\\sigma_{st}=\\binom{2}{1}=2$, $\\sigma_{sv}=1$, $\\sigma_{vt}=1$, hence contribution $\\sigma_{sv}\\sigma_{vt}/\\sigma_{st}=1/2$ each. Thus\n$$\n\\text{sum over }E\\text{–}E = 2\\cdot 1 + 4\\cdot \\frac{1}{2} = 4.\n$$\n\n2) $C$–$C$ pairs: There are $\\binom{4}{2}=6$ pairs. Two are opposite diagonals: $(1,1)$–$(3,3)$ and $(1,3)$–$(3,1)$. For each, $d_{x}=2$, $d_{y}=2$, so $\\sigma_{st}=\\binom{4}{2}=6$. Also $d(s,v)=2$ with $\\sigma_{sv}=\\binom{2}{1}=2$, and $d(v,t)=2$ with $\\sigma_{vt}=2$, giving $\\sigma_{st}(v)=4$ and contribution $4/6=2/3$ each. The remaining four pairs share a row or column (e.g., $(1,1)$–$(1,3)$), for which $v$ is not in the rectangle and the contribution is $0$. Thus\n$$\n\\text{sum over }C\\text{–}C = 2\\cdot \\frac{2}{3} = \\frac{4}{3}.\n$$\n\n3) $E$–$C$ pairs: There are $4\\cdot 4=16$ pairs. For a given corner, say $(1,1)$, the pairs with adjacent edges $(1,2)$ and $(2,1)$ have $d=1$ and give zero contribution. The pairs with the opposite edges $(3,2)$ and $(2,3)$ have $d_{x}+d_{y}=3$ with $(d_{x},d_{y})$ equal to $(2,1)$ or $(1,2)$, so $\\sigma_{st}=\\binom{3}{2}=3$, while $\\sigma_{sv}=\\binom{2}{1}=2$ and $\\sigma_{vt}=\\binom{1}{1}=1$, giving contribution $2/3$ each. By symmetry this holds for each corner, so there are $8$ contributing $E$–$C$ pairs at $2/3$ and $8$ at $0$, hence\n$$\n\\text{sum over }E\\text{–}C = 8\\cdot \\frac{2}{3} = \\frac{16}{3}.\n$$\n\nAdding all contributions gives\n$$\nC_{B}(v) = 4 + \\frac{4}{3} + \\frac{16}{3} = \\frac{32}{3}.\n$$\nThis is the unnormalized betweenness centrality of the center node for unordered distinct pairs.", "answer": "$$\\boxed{\\frac{32}{3}}$$", "id": "1483203"}]}