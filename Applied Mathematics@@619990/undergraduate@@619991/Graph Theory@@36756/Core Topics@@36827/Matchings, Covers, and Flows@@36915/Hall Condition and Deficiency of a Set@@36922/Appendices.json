{"hands_on_practices": [{"introduction": "This first exercise grounds the abstract theory of bipartite matching in a practical scenario. By modeling a TA-to-course assignment problem, you will apply Hall's Marriage Theorem to determine if a complete assignment is possible. This practice involves systematically checking subsets to find a \"Hall violator,\" a set $A$ for which the number of available options, $|N(A)|$, is less than the number of members, $|A|$, solidifying your understanding of this fundamental condition [@problem_id:1510723].", "problem": "The Computer Science department is assigning four student teaching assistants (TAs), denoted by the set $U = \\{T_1, T_2, T_3, T_4\\}$, to four available undergraduate courses, denoted by the set $V = \\{C_1, C_2, C_3, C_4\\}$. Each TA must be assigned exactly one distinct course. The assignments are constrained by the TAs' qualifications. The list of courses each TA is qualified to teach is as follows:\n*   $T_1$ is qualified for $C_1$.\n*   $T_2$ is qualified for $C_1$ and $C_2$.\n*   $T_3$ is qualified for $C_2$.\n*   $T_4$ is qualified for $C_3$ and $C_4$.\n\nThis scenario can be modeled as a bipartite graph $G = (U \\cup V, E)$, where an edge $(T_i, C_j)$ exists if TA $T_i$ is qualified for course $C_j$. A valid assignment corresponds to a matching that covers all vertices in $U$.\n\nAccording to Hall's Marriage Theorem, such a matching exists if and only if for every subset of TAs $A \\subseteq U$, the number of TAs in $A$ is less than or equal to the number of distinct courses they are collectively qualified for. That is, $|A| \\le |N(A)|$, where $N(A)$ is the set of neighbors of the vertices in $A$. A subset $A$ that violates this condition, i.e., $|A| > |N(A)|$, prevents a full assignment.\n\nWhich of the following groups of TAs represents a subset $A \\subseteq U$ that violates Hall's condition?\n\nA. $\\{T_1, T_4\\}$\n\nB. $\\{T_2, T_3, T_4\\}$\n\nC. $\\{T_1, T_2, T_3\\}$\n\nD. $\\{T_1, T_2, T_4\\}$\n\nE. A valid assignment for all TAs is possible, so no such subset exists.", "solution": "We model the situation as a bipartite graph $G=(U \\cup V,E)$ with $U=\\{T_{1},T_{2},T_{3},T_{4}\\}$ and $V=\\{C_{1},C_{2},C_{3},C_{4}\\}$, where edges encode qualifications:\n$$\nT_{1}\\to\\{C_{1}\\},\\quad T_{2}\\to\\{C_{1},C_{2}\\},\\quad T_{3}\\to\\{C_{2}\\},\\quad T_{4}\\to\\{C_{3},C_{4}\\}.\n$$\nBy Hall’s Marriage Theorem, a matching that covers $U$ exists if and only if for every subset $A\\subseteq U$, one has $|A|\\leq |N(A)|$, where $N(A)$ is the set of neighbors of $A$. A violation occurs when $|A|>|N(A)|$.\n\nWe test each option by computing $N(A)$ and comparing $|A|$ with $|N(A)|$.\n\nFor $A=\\{T_{1},T_{4}\\}$:\n$$\nN(A)=\\{C_{1}\\}\\cup\\{C_{3},C_{4}\\}=\\{C_{1},C_{3},C_{4}\\},\\quad |A|=2,\\quad |N(A)|=3,\\quad 2\\leq 3\\ \\text{(no violation)}.\n$$\n\nFor $A=\\{T_{2},T_{3},T_{4}\\}$:\n$$\nN(A)=\\{C_{1},C_{2}\\}\\cup\\{C_{2}\\}\\cup\\{C_{3},C_{4}\\}=\\{C_{1},C_{2},C_{3},C_{4}\\},\\quad |A|=3,\\quad |N(A)|=4,\\quad 3\\leq 4\\ \\text{(no violation)}.\n$$\n\nFor $A=\\{T_{1},T_{2},T_{3}\\}$:\n$$\nN(A)=\\{C_{1}\\}\\cup\\{C_{1},C_{2}\\}\\cup\\{C_{2}\\}=\\{C_{1},C_{2}\\},\\quad |A|=3,\\quad |N(A)|=2,\\quad 3>2\\ \\text{(violation)}.\n$$\n\nFor $A=\\{T_{1},T_{2},T_{4}\\}$:\n$$\nN(A)=\\{C_{1}\\}\\cup\\{C_{1},C_{2}\\}\\cup\\{C_{3},C_{4}\\}=\\{C_{1},C_{2},C_{3},C_{4}\\},\\quad |A|=3,\\quad |N(A)|=4,\\quad 3\\leq 4\\ \\text{(no violation)}.\n$$\n\nTherefore, the unique subset among the options that violates Hall’s condition is $\\{T_{1},T_{2},T_{3}\\}$, corresponding to option C. This also explains why a full assignment is impossible: three TAs collectively have only two available courses among them.", "answer": "$$\\boxed{C}$$", "id": "1510723"}, {"introduction": "Moving beyond a simple yes-or-no check, this practice introduces the concept of deficiency, $def(S) = |S| - |N(S)|$, which quantifies the extent to which Hall's condition is violated. You will calculate the maximum deficiency for a given graph, representing the worst-case shortfall in neighbors for any subset of a partition. This exercise is key to understanding not just *if* a perfect matching is impossible, but precisely *by how much* it fails [@problem_id:1510763].", "problem": "In the context of bipartite matching, the deficiency of a subset $S$ of a vertex partition $X$ in a bipartite graph $G = (X \\cup Y, E)$ is defined as $def(S) = |S| - |N(S)|$, where $N(S)$ is the neighborhood of $S$ (the set of all vertices in $Y$ that are adjacent to at least one vertex in $S$). The deficiency of the graph $G$ with respect to the partition $X$, denoted $def(G, X)$, is the maximum deficiency over all possible non-empty subsets $S$ of $X$. A graph fails to satisfy Hall's Condition if and only if its deficiency is greater than zero.\n\nConsider a simple bipartite graph $G = (X \\cup Y, E)$ with the following structure:\nThe vertex partitions are $X = \\{x_1, x_2, x_3, x_4\\}$ and $Y = \\{y_1, y_2, y_3\\}$.\nThe edge set $E$ is constructed as follows:\n- The subgraph induced by the vertices $\\{x_1, x_2, x_3\\}$ from $X$ and $\\{y_1, y_2\\}$ from $Y$ is a complete bipartite graph.\n- Vertex $x_4$ is connected to vertices $y_2$ and $y_3$.\n\nCalculate the deficiency of the graph $G$ with respect to the partition $X$, i.e., find $def(G, X)$.", "solution": "We use the definition $def(S)=|S|-|N(S)|$ for non-empty $S\\subseteq X$, and $def(G,X)=\\max_{S\\subseteq X,\\,S\\neq\\emptyset}def(S)$.\n\nFrom the construction:\n- Vertices $x_{1},x_{2},x_{3}$ are each adjacent exactly to $\\{y_{1},y_{2}\\}$.\n- Vertex $x_{4}$ is adjacent to $\\{y_{2},y_{3}\\}$.\n\nTherefore, for any non-empty $S\\subseteq X$:\n1) If $S\\subseteq\\{x_{1},x_{2},x_{3}\\}$, then $N(S)=\\{y_{1},y_{2}\\}$, so $|N(S)|=2$ and $def(S)=|S|-2$. Over $|S|\\in\\{1,2,3\\}$, the maximum is $def(S)=1$ at $|S|=3$ (i.e., $S=\\{x_{1},x_{2},x_{3}\\}$).\n2) If $S=\\{x_{4}\\}$, then $N(S)=\\{y_{2},y_{3}\\}$, so $|N(S)|=2$ and $def(S)=1-2=-1$.\n3) If $S=\\{x_{4}\\}\\cup T$ with non-empty $T\\subseteq\\{x_{1},x_{2},x_{3}\\}$, then $N(S)=\\{y_{1},y_{2},y_{3}\\}$, so $|N(S)|=3$ and $def(S)=|T|+1-3=|T|-2$. Over $|T|\\in\\{1,2,3\\}$, the maximum is $def(S)=1$ at $|T|=3$ (i.e., $S=X$).\n\nTaking the maximum over all non-empty $S\\subseteq X$ gives $def(G,X)=1$.", "answer": "$$\\boxed{1}$$", "id": "1510763"}, {"introduction": "This final practice uncovers the deep connection between a graph's maximum matching and its deficiency. You will execute a constructive algorithm to pinpoint the exact set of vertices responsible for the maximum deficiency, starting from the vertices left unmatched by a given maximum matching $M$. This powerful procedure, which involves tracing $M$-alternating paths, demonstrates that the maximum deficiency equals $|X| - |M|$ and provides a concrete tool for analyzing matching structures [@problem_id:1510756].", "problem": "In the study of bipartite graphs, Hall's Marriage Theorem provides a condition for the existence of a matching that covers an entire partition. A generalization of this leads to the concept of deficiency. For a bipartite graph $G=(X \\cup Y, E)$ and a subset of vertices $S \\subseteq X$, the neighborhood of $S$ is $N(S) = \\{y \\in Y \\mid \\exists x \\in S, (x, y) \\in E\\}$, and the deficiency of $S$ is defined as $\\text{def}(S) = |S| - |N(S)|$. The maximum deficiency over all subsets of $X$ is related to the size of a maximum matching $M$ by the equation $\\max_{S \\subseteq X} \\text{def}(S) = |X| - |M|$.\n\nA crucial construction in the proof of this relationship identifies a specific set $S_H \\subseteq X$ that achieves this maximum deficiency. This set is constructed as follows: First, identify the set of all vertices in $X$ that are not matched by $M$, denoted as $U_X$. Then, find the set $Z$ of all vertices in the graph (from both $X$ and $Y$) that are reachable from any vertex in $U_X$ through an $M$-alternating path. An $M$-alternating path is a path whose edges alternate between not being in $M$ and being in $M$. The first edge of a path starting from a vertex in $U_X$ must, by definition, not be in $M$. The set $S_H$ is then given by the intersection of $Z$ and $X$, i.e., $S_H = Z \\cap X$.\n\nConsider the bipartite graph with partitions $X = \\{x_1, x_2, x_3, x_4, x_5, x_6\\}$ and $Y = \\{y_1, y_2, y_3, y_4, y_5, y_6\\}$. The edge set is $E = \\{(x_1, y_1), (x_2, y_1), (x_3, y_1), (x_4, y_1), (x_4, y_2), (x_5, y_3), (x_6, y_4)\\}$.\n\nA maximum matching $M$ for this graph is given by $M = \\{(x_1, y_1), (x_4, y_2), (x_5, y_3), (x_6, y_4)\\}$.\n\nFollowing the procedure described above, determine the canonical set $S_H = Z \\cap X$. Which of the following sets is $S_H$?\n\nA. $\\{x_1, x_2, x_3\\}$\n\nB. $\\{x_2, x_3\\}$\n\nC. $\\{x_1, x_4, x_5, x_6\\}$\n\nD. $\\{x_2, x_3, x_4\\}$\n\nE. $\\{x_1, x_2, x_3, x_4\\}$", "solution": "The problem asks us to find a specific set $S_H \\subseteq X$ for a given bipartite graph $G=(X \\cup Y, E)$ and a maximum matching $M$. The set $S_H$ is defined as $Z \\cap X$, where $Z$ is the set of vertices reachable from any $M$-unmatched vertex in $X$ via an $M$-alternating path.\n\nThe given graph components are:\n- Partition $X = \\{x_1, x_2, x_3, x_4, x_5, x_6\\}$\n- Partition $Y = \\{y_1, y_2, y_3, y_4, y_5, y_6\\}$\n- Edge set $E = \\{(x_1, y_1), (x_2, y_1), (x_3, y_1), (x_4, y_1), (x_4, y_2), (x_5, y_3), (x_6, y_4)\\}$\n- Maximum matching $M = \\{(x_1, y_1), (x_4, y_2), (x_5, y_3), (x_6, y_4)\\}$\n\nThe solution process consists of three main steps:\n1.  Identify the set $U_X$ of $M$-unmatched vertices in $X$.\n2.  Construct the set $Z$ of all vertices reachable from $U_X$ via an $M$-alternating path.\n3.  Determine $S_H$ by taking the intersection of $Z$ and $X$.\n\n**Step 1: Identify the set of M-unmatched vertices in X ($U_X$)**\n\nThe set of vertices in $X$ is $\\{x_1, x_2, x_3, x_4, x_5, x_6\\}$. The vertices from $X$ that are part of the matching $M$ are $\\{x_1, x_4, x_5, x_6\\}$. By taking the set difference, we find the unmatched vertices in $X$:\n$$U_X = X \\setminus \\{x_1, x_4, x_5, x_6\\} = \\{x_2, x_3\\}$$\n\n**Step 2: Construct the set Z of reachable vertices**\n\nWe will build the set $Z$ by exploring paths starting from vertices in $U_X = \\{x_2, x_3\\}$. An $M$-alternating path starting from a vertex in $U_X$ must begin with an edge not in $M$. The search for reachable vertices can be performed iteratively, like a breadth-first search, alternating between layers of vertices in $Y$ and $X$.\n\n- **Initialization:** The search begins with the set of unmatched vertices. Let $Z_0 = U_X = \\{x_2, x_3\\}$. We initialize our set of all reachable vertices found so far as $Z = Z_0$.\n\n- **Iteration 1 (from $X \\to Y$):** We look for vertices in $Y$ that are reachable from the current set of reachable vertices in $X$ (which is $Z \\cap X = \\{x_2, x_3\\}$) using edges **not** in $M$.\n    - From $x_2$: The only edge is $(x_2, y_1)$. This edge is not in $M$. So, $y_1$ is reachable.\n    - From $x_3$: The only edge is $(x_3, y_1)$. This edge is not in $M$. So, $y_1$ is again found to be reachable.\n    - The newly reached vertices in $Y$ are $\\{y_1\\}$. We add them to our set $Z$.\n    - $Z$ is now $\\{x_2, x_3, y_1\\}$.\n\n- **Iteration 2 (from $Y \\to X$):** We look for vertices in $X$ that are reachable from the newly discovered vertices in $Y$ (which is $\\{y_1\\}$) using edges that **are** in $M$.\n    - From $y_1$: The vertices in $X$ connected to $y_1$ are $x_1, x_2, x_3, x_4$. We check which of these edges are in $M$.\n    - Edge $(x_1, y_1)$ is in $M$. So, we can reach $x_1$ from $y_1$. The path is of the form e.g., $x_2 \\to y_1 \\leftarrow x_1$.\n    - Edge $(x_2, y_1)$ is not in $M$.\n    - Edge $(x_3, y_1)$ is not in $M$.\n    - Edge $(x_4, y_1)$ is not in $M$.\n    - The only newly reached vertex in $X$ is $\\{x_1\\}$. We add it to our set $Z$.\n    - $Z$ is now $\\{x_1, x_2, x_3, y_1\\}$.\n\n- **Iteration 3 (from $X \\to Y$):** We look for vertices in $Y$ reachable from the newest vertex in $X$ (which is $\\{x_1\\}$) using edges **not** in $M$.\n    - From $x_1$: The only edge is $(x_1, y_1)$. This edge is in $M$, so we cannot use it to extend the alternating path from $x_1$.\n    - No new vertices are reached.\n\nThe process terminates as no new vertices can be added to $Z$. The final set of all reachable vertices is:\n$$Z = \\{x_1, x_2, x_3, y_1\\}$$\n\n**Step 3: Determine the set $S_H$**\n\nThe set $S_H$ is defined as the intersection of the set of reachable vertices $Z$ and the partition $X$.\n$$S_H = Z \\cap X = \\{x_1, x_2, x_3, y_1\\} \\cap \\{x_1, x_2, x_3, x_4, x_5, x_6\\}$$\n$$S_H = \\{x_1, x_2, x_3\\}$$\n\nThis corresponds to Option A.\n\nAs a final check, let's calculate the deficiency of this set $S_H$.\n- $S_H = \\{x_1, x_2, x_3\\}$, so $|S_H| = 3$.\n- The neighborhood of $S_H$ is $N(S_H) = N(\\{x_1, x_2, x_3\\})$. The edges from these vertices are $(x_1, y_1), (x_2, y_1), (x_3, y_1)$. All go to $y_1$. So, $N(S_H) = \\{y_1\\}$, and $|N(S_H)|=1$.\n- The deficiency is $\\text{def}(S_H) = |S_H| - |N(S_H)| = 3 - 1 = 2$.\n- The theoretical maximum deficiency is $|X| - |M| = 6 - 4 = 2$.\n- Our constructed set $S_H$ indeed achieves the maximum deficiency, confirming the correctness of our result.", "answer": "$$\\boxed{A}$$", "id": "1510756"}]}