{"hands_on_practices": [{"introduction": "The most fundamental question we can ask about a distribution network is whether it's possible to meet all demands with the available supplies. This exercise [@problem_id:1488576] models a common scenario of internal budget allocation as a circulation problem. It provides excellent practice in setting up the problem and, more importantly, demonstrates that simply having enough total supply to cover total demand does not guarantee a feasible solution; the network's internal structure is paramount.", "problem": "Innovate Inc., a technology firm, is performing its quarterly budget review. The company consists of five key departments: Research  Development (RD), Marketing, Sales, Human Resources (HR), and Operations. Due to recent project outcomes and operational costs, some departments have a budget surplus while others have a deficit. To balance the books internally, the Chief Financial Officer wants to transfer funds from surplus departments to cover the deficits in other departments.\n\nThe financial status of each department is as follows (a positive value indicates a surplus, a negative value indicates a deficit), all in thousands of budget units:\n-   RD: -40\n-   Marketing: -25\n-   Sales: +50\n-   HR: -15\n-   Operations: +30\n\nHowever, internal regulations restrict which departments can transfer funds to which. The allowed, one-way transfer channels and their maximum transfer capacities (in thousands of budget units) are:\n-   Sales can transfer to Marketing (up to 30) and RD (up to 20).\n-   Operations can transfer to RD (up to 20) and HR (up to 10).\n-   HR can transfer to Marketing (up to 5).\n\nA budget allocation is considered feasible only if all departmental deficits are fully covered by the allocated funds from surplus departments, respecting all transfer capacity limits. Which of the following statements is true regarding this budget allocation scenario?\n\nA. A feasible budget allocation is possible, satisfying all deficits completely.\n\nB. A feasible allocation is not possible because the total budget surplus is greater than the total budget deficit.\n\nC. A feasible allocation is not possible because the transfer channel capacities are insufficient, resulting in a minimum total unmet deficit of 5,000 budget units.\n\nD. A feasible allocation is not possible because the transfer channel capacities are insufficient, resulting in a minimum total unmet deficit of 10,000 budget units.\n\nE. A feasible allocation is guaranteed to be possible because the total budget surplus exactly matches the total budget deficit.", "solution": "We model the problem as a capacitated transshipment network with supplies at surplus departments and demands at deficit departments. Let the departments be indexed as follows: Sales (S), Operations (O), RD (R), Marketing (M), and HR (H). Supplies and demands (in thousands) are:\n- Supplies: $s_{S} = 50$, $s_{O} = 30$.\n- Demands: $d_{R} = 40$, $d_{M} = 25$, $d_{H} = 15$.\n\nThe directed transfer channels and their capacities are:\n$$ u_{S,M} = 30,\\quad u_{S,R} = 20,\\quad u_{O,R} = 20,\\quad u_{O,H} = 10,\\quad u_{H,M} = 5. $$\nLet $f_{i,j} \\geq 0$ denote the flow from $i$ to $j$, with capacity constraints $f_{i,j} \\leq u_{i,j}$ on all listed arcs. Net flow balance constraints are:\n- For surplus nodes, total outflow cannot exceed supply:\n$$ f_{S,M} + f_{S,R} \\leq 50,\\qquad f_{O,R} + f_{O,H} \\leq 30. $$\n- For deficit nodes, net inflow equals the amount of deficit covered at that node:\n$$ x_{R} = f_{S,R} + f_{O,R} \\leq 40,\\qquad x_{M} = f_{S,M} + f_{H,M} \\leq 25,\\qquad x_{H} = f_{O,H} - f_{H,M} \\leq 15, $$\nwith $f_{H,M} \\leq 5$.\n\nKey impossibility bound at HR:\nHR has only one incoming arc, from Operations, with capacity $u_{O,H} = 10$. Since HR also has an outgoing arc to Marketing, HR’s net inflow satisfies\n$$ x_{H} = f_{O,H} - f_{H,M} \\leq f_{O,H} \\leq 10. $$\nTherefore $x_{H} \\leq 10  15$, so at least $15 - x_{H} \\geq 5$ units of HR’s deficit must remain unmet in any allocation. Hence, a fully feasible allocation is impossible.\n\nTightness (achievability of the bound):\nChoose flows\n$$ f_{S,R} = 20,\\quad f_{O,R} = 20,\\quad f_{S,M} = 25,\\quad f_{O,H} = 10,\\quad f_{H,M} = 0. $$\nThese satisfy all capacity constraints. They cover $x_{R} = 40$ (RD fully met), $x_{M} = 25$ (Marketing fully met), and $x_{H} = 10$ (HR short by $15 - 10 = 5$). No other reallocations can increase $x_{H}$ beyond $10$ due to the $u_{O,H} = 10$ bottleneck. Thus the minimum total unmet deficit is exactly $5$ thousand units.\n\nSince total surplus equals total deficit, option B is false. Exact match of totals does not guarantee feasibility under channel capacities, so option E is false. The correct statement is that capacities are insufficient and the minimum total unmet deficit is $5{,}000$ budget units, which is option C.", "answer": "$$\\boxed{C}$$", "id": "1488576"}, {"introduction": "Real-world networks often have more complex constraints than simple maximum capacities; for example, some routes must carry a minimum volume to be profitable. This exercise [@problem_id:1488617] introduces the concept of circulations with lower-bound flow requirements, a crucial extension of the basic model. You will learn to determine if a steady-state flow is possible where every node's inflow equals its outflow, all while respecting both minimum and maximum capacities on each connection.", "problem": "A logistics company, \"A-to-D Express,\" operates a cargo network between four major distribution centers: Atlanta (A), Boston (B), Chicago (C), and Denver (D). To maintain profitability, certain shipping routes have a minimum required volume of cargo they must carry, while all routes have a maximum capacity. The company needs to determine if a feasible steady-state shipping schedule exists, where for each distribution center, the total volume of incoming cargo equals the total volume of outgoing cargo.\n\nThe network routes and their constraints are defined as follows, with all volumes in thousands of tons per week:\n\n*   Atlanta to Boston: minimum 2, maximum 5\n*   Atlanta to Chicago: minimum 1, maximum 4\n*   Boston to Chicago: minimum 0, maximum 3\n*   Boston to Denver: minimum 3, maximum 6\n*   Chicago to Denver: minimum 2, maximum 5\n*   Denver to Atlanta: minimum 4, maximum 8\n\nBased on these constraints, is it possible to devise a shipping schedule that respects all minimum and maximum route volumes and conserves the flow of cargo at every center? Choose the most accurate statement from the options below.\n\nA. No, a feasible schedule is not possible.\n\nB. Yes, a feasible schedule is possible, and the total minimum required flow across all routes is 10 thousand tons per week.\n\nC. Yes, a feasible schedule is possible, and the total minimum required flow across all routes is 12 thousand tons per week.\n\nD. A feasible schedule is only possible if the capacity of the route from Denver (D) to Atlanta (A) is increased.", "solution": "Let the flow on each directed route be denoted by variables $x_{AB}, x_{AC}, x_{BC}, x_{BD}, x_{CD}, x_{DA}$ (in thousands of tons per week), subject to the bounds:\n$$ 2 \\leq x_{AB} \\leq 5,\\quad 1 \\leq x_{AC} \\leq 4,\\quad 0 \\leq x_{BC} \\leq 3, $$\n$$ 3 \\leq x_{BD} \\leq 6,\\quad 2 \\leq x_{CD} \\leq 5,\\quad 4 \\leq x_{DA} \\leq 8. $$\nFlow conservation at each node requires:\n- At $A$: inflow $x_{DA}$ equals outflow $x_{AB}+x_{AC}$, so $x_{DA}=x_{AB}+x_{AC}$.\n- At $B$: inflow $x_{AB}$ equals outflow $x_{BC}+x_{BD}$, so $x_{AB}=x_{BC}+x_{BD}$.\n- At $C$: inflow $x_{AC}+x_{BC}$ equals outflow $x_{CD}$, so $x_{AC}+x_{BC}=x_{CD}$.\n- At $D$: inflow $x_{BD}+x_{CD}$ equals outflow $x_{DA}$, which follows automatically from the first three equations.\n\nEliminating dependent variables using $x_{BC}=x_{AB}-x_{BD}$, $x_{CD}=x_{AC}+x_{BC}=x_{AC}+x_{AB}-x_{BD}$, and $x_{DA}=x_{AB}+x_{AC}$, the bounds impose the following constraints on the independent variables $x_{AB}, x_{AC}, x_{BD}$:\n- From $0 \\leq x_{BC} \\leq 3$: $0 \\leq x_{AB}-x_{BD} \\leq 3$, i.e., $x_{BD} \\leq x_{AB} \\leq x_{BD}+3$.\n- From $2 \\leq x_{CD} \\leq 5$: $2 \\leq x_{AC}+x_{AB}-x_{BD} \\leq 5$.\n- From $4 \\leq x_{DA} \\leq 8$: $4 \\leq x_{AB}+x_{AC} \\leq 8$.\n- Original individual bounds: $2 \\leq x_{AB} \\leq 5$, $1 \\leq x_{AC} \\leq 4$, $3 \\leq x_{BD} \\leq 6$.\n\nA feasible choice satisfying all constraints is:\n$$ x_{BD}=3,\\quad x_{AB}=3,\\quad x_{AC}=2. $$\nThis implies\n$$ x_{BC}=x_{AB}-x_{BD}=0,\\quad x_{CD}=x_{AC}+x_{BC}=2,\\quad x_{DA}=x_{AB}+x_{AC}=5. $$\nCheck all bounds:\n$$ x_{AB}=3 \\in [2,5],\\quad x_{AC}=2 \\in [1,4],\\quad x_{BC}=0 \\in [0,3], $$\n$$ x_{BD}=3 \\in [3,6],\\quad x_{CD}=2 \\in [2,5],\\quad x_{DA}=5 \\in [4,8]. $$\nCheck conservation:\n- At $A$: $x_{DA}=5$ equals $x_{AB}+x_{AC}=3+2=5$.\n- At $B$: $x_{AB}=3$ equals $x_{BC}+x_{BD}=0+3=3$.\n- At $C$: $x_{AC}+x_{BC}=2+0=2$ equals $x_{CD}=2$.\n- At $D$: $x_{BD}+x_{CD}=3+2=5$ equals $x_{DA}=5$.\n\nTherefore, a feasible steady-state schedule exists.\n\nThe total of the minimum required volumes across all routes is the sum of the lower bounds:\n$$ 2+1+0+3+2+4=12. $$\nHence, the correct statement is that a feasible schedule is possible and the total minimum required flow across all routes is $12$ thousand tons per week. Option B’s value $10$ is incorrect, and options A and D are false because we exhibited a feasible solution without changing any capacities.", "answer": "$$\\boxed{C}$$", "id": "1488617"}, {"introduction": "When a network is found to be infeasible, the next logical step is to determine the most efficient way to fix it. This practice problem [@problem_id:1488582] challenges you to do just that, moving from diagnosis to optimization. By applying the max-flow min-cut theorem, you will not only confirm that a network cannot meet its demands but also identify the precise bottleneck and calculate the minimum upgrade required to make the system viable.", "problem": "A logistics network is modeled as a directed graph $G=(V, E)$, where the set of vertices $V = \\{v_1, v_2, v_3, v_4, v_5, v_6\\}$ represents six depots. Each depot $v_i$ has an associated integer demand $d(v_i)$. A positive demand indicates a net requirement of items at that depot, while a negative demand indicates a net supply. The demands are given as follows:\n$d(v_1) = -15$, $d(v_2) = -10$, $d(v_3) = 0$, $d(v_4) = 8$, $d(v_5) = 12$, and $d(v_6) = 5$.\n\nThe depots are connected by one-way transport routes, represented by the directed edges in the set $E$. Each edge $(u, v)$ has an integer capacity $c(u, v)$ representing the maximum number of items that can be transported per unit of time. The network routes and their capacities are:\n$c(v_1, v_3) = 10$\n$c(v_1, v_4) = 8$\n$c(v_2, v_3) = 7$\n$c(v_2, v_5) = 5$\n$c(v_3, v_5) = 10$\n$c(v_3, v_6) = 4$\n$c(v_4, v_5) = 3$\n\nA flow is considered feasible if it satisfies all capacity constraints and the net flow into each depot $v_i$ equals its demand $d(v_i)$. With the current capacities, a feasible flow does not exist. The company plans to upgrade the capacity of a single one of the seven routes listed above to enable a feasible flow.\n\nDetermine the minimum integer amount by which a single edge's capacity must be increased to make a feasible circulation possible.", "solution": "This problem asks for the minimum capacity increase on a single edge to make a circulation with demands feasible. First, we must check the necessary condition for a feasible circulation, which is that the sum of all demands is zero. In this case, $\\sum_{i=1}^{6} d(v_i) = -15 - 10 + 0 + 8 + 12 + 5 = 0$. The condition is satisfied.\n\nThe feasibility of a circulation with demands can be determined by transforming the problem into a standard maximum flow problem. We construct a new graph $G'$ with a supersource $s$ and a supersink $t$.\n1. For each vertex $v$ with a negative demand $d(v)  0$ (a supply node), we add an edge from $s$ to $v$ with capacity $-d(v)$.\n   - Edge $(s, v_1)$ with capacity $c(s, v_1) = -d(v_1) = 15$.\n   - Edge $(s, v_2)$ with capacity $c(s, v_2) = -d(v_2) = 10$.\n2. For each vertex $v$ with a positive demand $d(v)  0$ (a demand node), we add an edge from $v$ to $t$ with capacity $d(v)$.\n   - Edge $(v_4, t)$ with capacity $c(v_4, t) = d(v_4) = 8$.\n   - Edge $(v_5, t)$ with capacity $c(v_5, t) = d(v_5) = 12$.\n   - Edge $(v_6, t)$ with capacity $c(v_6, t) = d(v_6) = 5$.\n3. All original edges $(u, v)$ and their capacities $c(u, v)$ are retained in $G'$.\n\nA feasible circulation exists in the original graph $G$ if and only if the maximum flow from $s$ to $t$ in the new graph $G'$ is equal to the total demand, $D = \\sum_{v | d(v)>0} d(v)$.\nThe total demand is $D = 8 + 12 + 5 = 25$.\n\nWe now find the maximum flow from $s$ to $t$ in $G'$ using the Ford-Fulkerson algorithm with augmenting paths. We find paths from $s$ to $t$ in the residual graph and augment flow along them.\n\n1.  Augmenting Path: $s \\rightarrow v_1 \\rightarrow v_4 \\rightarrow t$.\n    The bottleneck capacity is $\\min(c(s, v_1), c(v_1, v_4), c(v_4, t)) = \\min(15, 8, 8) = 8$.\n    We send a flow of 8. Total flow = 8.\n    Residual capacities: $c_f(s,v_1)=7$, $c_f(v_1,v_4)=0$, $c_f(v_4,t)=0$.\n\n2.  Augmenting Path: $s \\rightarrow v_1 \\rightarrow v_3 \\rightarrow v_5 \\rightarrow t$.\n    The bottleneck capacity is $\\min(c_f(s, v_1), c(v_1, v_3), c(v_3, v_5), c(v_5, t)) = \\min(7, 10, 10, 12) = 7$.\n    We send a flow of 7. Total flow = $8 + 7 = 15$.\n    Residual capacities: $c_f(s,v_1)=0$, $c_f(v_1,v_3)=3$, $c_f(v_3,v_5)=3$, $c_f(v_5,t)=5$.\n\n3.  Augmenting Path: $s \\rightarrow v_2 \\rightarrow v_5 \\rightarrow t$.\n    The bottleneck capacity is $\\min(c(s, v_2), c(v_2, v_5), c_f(v_5, t)) = \\min(10, 5, 5) = 5$.\n    We send a flow of 5. Total flow = $15 + 5 = 20$.\n    Residual capacities: $c_f(s,v_2)=5$, $c_f(v_2,v_5)=0$, $c_f(v_5,t)=0$.\n\n4.  Augmenting Path: $s \\rightarrow v_2 \\rightarrow v_3 \\rightarrow v_6 \\rightarrow t$.\n    The bottleneck capacity is $\\min(c_f(s, v_2), c(v_2, v_3), c(v_3, v_6), c(v_6, t)) = \\min(5, 7, 4, 5) = 4$.\n    We send a flow of 4. Total flow = $20 + 4 = 24$.\n    Residual capacities: $c_f(s,v_2)=1$, $c_f(v_2,v_3)=3$, $c_f(v_3,v_6)=0$, $c_f(v_6,t)=1$.\n\nAfter these augmentations, there are no more simple paths. Let's check the residual graph for any remaining $s-t$ path. The vertex $s$ can reach $v_2$ (residual capacity 1). From $v_2$, we can reach $v_3$ (residual capacity 3). From $v_3$, we can reach $v_1$ (via back-edge), $v_2$ (via back-edge), and $v_5$ (residual capacity 3). From $v_5$, all forward paths are saturated (e.g., $(v_5, t)$ has 0 residual capacity). No path from $s$ to $t$ remains.\n\nThe maximum flow is $F_{max} = 24$. Since $F_{max} = 24  D = 25$, the circulation is indeed infeasible. The flow deficit is $\\Delta = D - F_{max} = 25 - 24 = 1$.\n\nTo make the circulation feasible, we must increase the max flow by at least $\\Delta = 1$. By the max-flow min-cut theorem, the max flow is equal to the capacity of a min-cut. An increase in max flow can only be achieved by increasing the capacity of an edge that crosses a min-cut from the source-side partition to the sink-side partition.\n\nLet's find the min-cut. The source-side partition $S$ consists of all vertices reachable from $s$ in the final residual graph.\n- $s \\in S$.\n- Path $s \\rightarrow v_2$ exists, so $v_2 \\in S$.\n- Path $s \\rightarrow v_2 \\rightarrow v_3$ exists, so $v_3 \\in S$.\n- From $v_3$, we can reach $v_1$ (in the residual graph), so $v_1 \\in S$.\n- From $v_3$, we can reach $v_5$ (in the residual graph), so $v_5 \\in S$.\n- No other vertices are reachable from $s$.\nSo, the min-cut partition is $S = \\{s, v_1, v_2, v_3, v_5\\}$ and $T = V' \\setminus S = \\{v_4, v_6, t\\}$.\n\nThe capacity of the cut $C(S,T)$ is the sum of capacities of all edges $(u,v)$ in $G'$ where $u \\in S$ and $v \\in T$.\n- Edge $(v_1, v_4)$: $v_1 \\in S, v_4 \\in T$. Capacity = $c(v_1, v_4) = 8$.\n- Edge $(v_3, v_6)$: $v_3 \\in S, v_6 \\in T$. Capacity = $c(v_3, v_6) = 4$.\n- Edge $(v_5, t)$: $v_5 \\in S, t \\in T$. Capacity = $c(v_5, t) = 12$.\nNote: $(v_4, v_5)$ is an edge from $T$ to $S$ and does not contribute to the cut capacity.\nThe min-cut capacity is $8 + 4 + 12 = 24$, which correctly matches our calculated max flow.\n\nTo increase the maximum flow from 24 to 25, we must increase the capacity of this min-cut by 1. This can be done by increasing the capacity of one of the forward edges in the cut: $(v_1, v_4)$, $(v_3, v_6)$, or $(v_5, t)$.\nThe problem asks for an upgrade to a single edge in the *original* network. The edges from the original network in this cut are $(v_1, v_4)$ and $(v_3, v_6)$.\n\nIncreasing the capacity of any of these original edges by an amount $\\delta$ will increase the min-cut capacity by $\\delta$. To bridge the flow deficit of $\\Delta=1$, we need to increase the capacity of one such edge by at least 1. Therefore, the minimum integer increase required is 1. For instance, increasing $c(v_1, v_4)$ from 8 to 9 would make the new min-cut capacity $9+4+12=25$, allowing for a feasible flow.", "answer": "$$\\boxed{1}$$", "id": "1488582"}]}