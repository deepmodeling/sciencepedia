{"hands_on_practices": [{"introduction": "We begin our hands-on practice by exploring the complete graph on four vertices, $K_4$. This exercise provides a concrete foundation by connecting the abstract power of Cayley's formula to the tangible task of enumerating trees based on their distinct shapes. By distinguishing between path-like and star-like structures, you will develop an intuition for how global counting formulas relate to specific combinatorial substructures within a graph [@problem_id:1492580].", "problem": "In graph theory, a *graph* consists of a set of vertices and a set of edges connecting pairs of vertices. The vertices are considered to be distinct and labeled. A *complete graph* on $n$ vertices, denoted $K_n$, is a graph where every distinct pair of vertices is connected by a unique edge. A *tree* is a connected graph with no cycles. A *spanning tree* of a graph $G$ is a subgraph of $G$ that is a tree and includes all vertices of $G$.\n\nTwo graphs, $G_1$ and $G_2$, are *isomorphic* if there exists a one-to-one correspondence between their vertex sets that preserves adjacency. This means we can relabel the vertices of $G_1$ to obtain $G_2$.\n\nConsider the complete graph on four vertices, $K_4$. Its spanning trees can be categorized based on their structure. Two important tree structures on four vertices are:\n1. The *path graph*, $P_4$, which has two vertices of degree 1 and two vertices of degree 2.\n2. The *star graph*, $S_4$ (also known as $K_{1,3}$), which has one central vertex of degree 3 connected to three other vertices, each of degree 1.\n\nLet $N_P$ be the number of distinct spanning trees of $K_4$ that are isomorphic to $P_4$.\nLet $N_S$ be the number of distinct spanning trees of $K_4$ that are isomorphic to $S_4$.\n\nCalculate the product $N_P \\times N_S$.", "solution": "We consider labeled spanning trees of $K_4$. By Cayley’s formula, the number of labeled spanning trees on $n$ labeled vertices is $n^{n-2}$. Substituting $n=4$ gives\n$$\n4^{4-2}=4^{2}=16,\n$$\nso there are $16$ labeled spanning trees of $K_4$ in total.\n\nA spanning tree is isomorphic either to the star $S_4$ or to the path $P_4$, since these are the only two tree structures on four vertices up to isomorphism.\n\nTo count $N_S$, the number isomorphic to $S_4$, choose the unique center of degree $3$. There are $4$ choices for the center among the $4$ labeled vertices, and once the center is chosen, the edges are determined. Hence\n$$\nN_{S}=4.\n$$\n\nTo count $N_P$, the number isomorphic to $P_4$, we can use two equivalent arguments. First, since every spanning tree is either a path or a star,\n$$\nN_{P}=16-N_{S}=16-4=12.\n$$\nAlternatively, a labeled path on $4$ vertices is determined by an ordering of the $4$ distinct labels along the path modulo reversal, yielding\n$$\nN_{P}=\\frac{4!}{2}=12.\n$$\n\nTherefore, the required product is\n$$\nN_{P}\\times N_{S}=12\\times 4=48.\n$$", "answer": "$$\\boxed{48}$$", "id": "1492580"}, {"introduction": "Building on direct counting, this next practice explores a fundamental structural property of graphs. We will investigate what happens when we introduce a single cycle into a network that is initially a tree [@problem_id:1492624]. This thought experiment reveals a powerful and elegant principle: the number of spanning trees in such a graph is directly related to the length of the cycle you create, offering a shortcut to counting that sidesteps more complex formulas.", "problem": "Consider a network modeled as a tree $T$ with $n$ vertices, where $n \\geq 3$. To improve the network's resilience, a single redundant communication link is established between two distinct nodes, $u$ and $v$, which were not directly adjacent in the original tree $T$. The unique path between $u$ and $v$ within the tree $T$ consists of exactly $k$ edges, where $k$ is an integer and $k \\geq 2$. Let $G$ be the new graph representing the enhanced network, formed by adding the edge $(u, v)$ to $T$. A spanning tree of $G$ corresponds to a minimal, fully connected operational state of the network. Determine the total number of distinct spanning trees in the graph $G$.", "solution": "Let $T$ be a tree on $n$ vertices, so $|E(T)|=n-1$. Add the edge $(u,v)$ where the unique $u$–$v$ path in $T$ has exactly $k$ edges with $k\\geq 2$. Let $G$ be the resulting graph. Then $|E(G)|=n$, and $G$ has exactly one cycle, namely\n$$\nC = \\text{(the $u$–$v$ path in $T$)} \\cup \\{(u,v)\\},\n$$\nwhich has $k$ edges from the path plus the added edge, hence $|C|=k+1$.\n\nA spanning tree on $n$ vertices has exactly $n-1$ edges. Since $G$ has $n$ edges, any spanning tree of $G$ must be obtained by deleting exactly one edge from $G$. For the resulting subgraph to remain connected (i.e., be a tree), the deleted edge must lie on a cycle; deleting a bridge disconnects the graph.\n\nIn $G$, the only cycle is $C$. Every edge not in $C$ is a bridge: if $e\\notin C$, then $e$ lies outside the $u$–$v$ path in $T$, so removing $e$ disconnects $T$ into two components $A$ and $B$. The added edge $(u,v)$ lies entirely within the component containing the $u$–$v$ path and thus does not reconnect $A$ and $B$. Therefore $e$ is also a bridge in $G$, and deleting $e$ cannot yield a spanning tree.\n\nConversely, deleting any one edge from $C$ breaks the unique cycle and leaves a connected graph with $n-1$ edges, which is therefore a spanning tree. There are exactly $|C|=k+1$ such choices (the $k$ edges along the $u$–$v$ path and the added edge $(u,v)$), and each deletion yields a distinct spanning tree.\n\nHence, the total number of distinct spanning trees of $G$ is $k+1$.", "answer": "$$\\boxed{k+1}$$", "id": "1492624"}, {"introduction": "Our final practice problem introduces a powerful and versatile technique for counting spanning trees in more complex graphs: the deletion-contraction principle. By analyzing a nearly complete graph, $K_n - e$, you will learn how to break down a difficult counting problem into two simpler, manageable subproblems [@problem_id:1492636]. This method is a cornerstone of advanced graph theory and demonstrates how to systematically tackle graphs that do not conform to simple, direct formulas.", "problem": "Consider a network of $n$ computer servers, where initially every server is connected to every other server by a direct, unique communication link. This configuration corresponds to a complete network on $n$ nodes. A 'spanning sub-network' is a minimal set of links that keeps all servers connected, meaning there is a path between any two servers, but removing any single link from this set would disconnect the network into two or more components. Due to a fault, one specific communication link between two distinct servers is permanently severed. For a network of $n$ servers (where $n \\ge 3$), determine the total number of distinct spanning sub-networks that can be formed using the remaining available links. Express your answer as a function of $n$.", "solution": "Let's translate the problem into the language of graph theory. The initial network of $n$ servers, where every server is connected to every other, is a complete graph $K_n$ on $n$ vertices. A \"spanning sub-network\" as described is a spanning tree of the graph. The problem states that one link is severed, which corresponds to removing one edge, let's call it $e$, from $K_n$. We are asked to find the number of spanning trees of the resulting graph, $G = K_n - e$. Let $\\tau(H)$ denote the number of spanning trees of a graph $H$. We want to compute $\\tau(K_n - e)$.\n\nThe total number of spanning trees on a set of $n$ labeled vertices is the number of spanning trees of the complete graph $K_n$. By Cayley's formula, this number is:\n$$ \\tau(K_n) = n^{n-2} $$\n\nThe set of all spanning trees of $K_n$ can be partitioned into two disjoint sets:\n1. The set of spanning trees of $K_n$ that do not contain the edge $e$.\n2. The set of spanning trees of $K_n$ that do contain the edge $e$.\n\nThe number of spanning trees in the first set is precisely $\\tau(K_n - e)$, which is the quantity we want to find. Let's denote the number of spanning trees in the second set as $\\tau_e(K_n)$. Then, we have the relation:\n$$ \\tau(K_n) = \\tau(K_n - e) + \\tau_e(K_n) $$\nRearranging this gives:\n$$ \\tau(K_n - e) = \\tau(K_n) - \\tau_e(K_n) = n^{n-2} - \\tau_e(K_n) $$\nSo, our task reduces to finding the number of spanning trees of $K_n$ that contain a specific edge $e$.\n\nA known result in graph theory states that the number of spanning trees of a graph $H$ that contain a specific edge $e$ is equal to the number of spanning trees in the graph $H/e$, which is formed by contracting the edge $e$. Thus,\n$$ \\tau_e(K_n) = \\tau(K_n/e) $$\nLet the edge to be contracted be $e=(u,v)$. The graph $K_n/e$ has $n-1$ vertices. One of these vertices, let's call it $w$, results from the merging of $u$ and $v$. The other $n-2$ vertices are the original vertices of $K_n$ other than $u$ and $v$.\n\nLet's analyze the structure of the multigraph $K_n/e$:\n- The $n-2$ vertices (not involved in the contraction) are all connected to each other, forming a complete graph $K_{n-2}$.\n- For any vertex $x$ from this set of $n-2$ vertices, it was originally connected to both $u$ and $v$ in $K_n$. After contraction, these two edges, $(x,u)$ and $(x,v)$, become two parallel edges between $x$ and the new vertex $w$.\n\nSo, $K_n/e$ is a multigraph on $n-1$ vertices. We can find the number of its spanning trees using the Matrix-Tree Theorem, which also applies to multigraphs. We construct the Laplacian matrix $L$ for $K_n/e$. Let the vertices be indexed as $v_1, \\dots, v_{n-2}$, and let the contracted vertex be $v_{n-1} = w$.\n\nThe degree of a vertex $v_i$ for $i \\in \\{1, \\dots, n-2\\}$: it has an edge to each of the other $n-3$ vertices (in the $K_{n-2}$ subgraph) and two parallel edges to $w$. So, $\\deg(v_i) = (n-3) + 2 = n-1$.\nThe degree of the vertex $w$: it has two parallel edges to each of the $n-2$ other vertices. So, $\\deg(w) = 2(n-2)$.\n\nThe Laplacian matrix $L$ of size $(n-1) \\times (n-1)$ is defined as $L = D - A$, where $D$ is the diagonal matrix of vertex degrees and $A$ is the adjacency matrix. For multigraphs, $A_{ij}$ is the number of edges between vertices $i$ and $j$.\n- Diagonal entries: $L_{ii} = \\deg(v_i) = n-1$ for $i=1, \\dots, n-2$. $L_{n-1, n-1} = \\deg(w) = 2(n-2)$.\n- Off-diagonal entries: For $i,j \\in \\{1, \\dots, n-2\\}$ and $i \\neq j$, $L_{ij} = -1$. For $i \\in \\{1, \\dots, n-2\\}$, $L_{i, n-1} = -2$ (due to the two parallel edges).\n\nThe number of spanning trees $\\tau(K_n/e)$ is any cofactor of $L$. It is most convenient to compute the cofactor corresponding to the vertex $w$, i.e., by removing the last row and last column of $L$. Let's call the resulting $(n-2) \\times (n-2)$ matrix $L^*$.\n$$ L^*_{ij} = \\begin{cases} n-1 & \\text{if } i=j \\\\ -1 & \\text{if } i \\neq j \\end{cases} \\quad \\text{for } i,j \\in \\{1, \\dots, n-2\\} $$\nThis matrix can be written as $L' = (n-1)I - (J-I) = nI - J$, where $I$ is the $(n-2) \\times (n-2)$ identity matrix and $J$ is the $(n-2) \\times (n-2)$ all-ones matrix.\n\nThe determinant of a matrix of the form $aI+bJ$ of size $m \\times m$ is $(a+mb)a^{m-1}$. Here, our matrix is $nI - J$, so $a=n, b=-1, m=n-2$. The determinant is:\n$$ \\det(L^*) = (n - (n-2))n^{(n-2)-1} = 2n^{n-3} $$\nTherefore, the number of spanning trees containing the edge $e$ is:\n$$ \\tau_e(K_n) = \\tau(K_n/e) = \\det(L^*) = 2n^{n-3} $$\n\nFinally, we can compute the number of spanning trees in $K_n-e$:\n$$ \\tau(K_n - e) = n^{n-2} - \\tau_e(K_n) = n^{n-2} - 2n^{n-3} $$\nFactoring out $n^{n-3}$, we get:\n$$ \\tau(K_n - e) = n^{n-3}(n-2) $$\nThis is the total number of distinct spanning sub-networks possible after one link is severed.", "answer": "$$\\boxed{(n-2)n^{n-3}}$$", "id": "1492636"}]}