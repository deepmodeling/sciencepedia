{"hands_on_practices": [{"introduction": "Euler angles provide a powerful way to parameterize the orientation of a rigid body. This first exercise establishes the fundamental link between these angles and the resulting rotation matrix. By working through this problem [@problem_id:2048188], you will see how a single angle in the Euler sequence directly determines a specific element of the transformation matrix, providing a tangible connection between the abstract angles and the physical orientation they describe.", "problem": "The orientation of a robotic arm's end-effector is described relative to a stationary world coordinate system. This orientation is parameterized by a set of three Euler angles $(\\phi, \\theta, \\psi)$ using the z-x'-z'' convention. This convention corresponds to the following sequence of rotations to align the world frame with the end-effector's frame:\n1. A rotation of angle $\\phi$ about the world frame's $z$-axis.\n2. A rotation of angle $\\theta$ about the newly created intermediate $x'$-axis.\n3. A rotation of angle $\\psi$ about the final end-effector's $z''$-axis.\n\nThe transformation from the coordinates of a point in the end-effector's frame to the coordinates of the same point in the world frame is represented by a $3 \\times 3$ rotation matrix $R$. A sensor measures one of the elements of this matrix and finds that the element in the third row and third column, $R_{33}$, is equal to $0.5$.\n\nGiven that the angle $\\theta$ is restricted to the range $0 \\le \\theta \\le \\pi$, what is the value of $\\theta$ in radians?\n\nA) $\\frac{\\pi}{6}$\n\nB) $\\frac{\\pi}{4}$\n\nC) $\\frac{\\pi}{3}$\n\nD) $\\frac{\\pi}{2}$\n\nE) $\\frac{2\\pi}{3}$", "solution": "For the intrinsic $z$-$x'$-$z''$ Euler-angle sequence, the rotation mapping end-effector coordinates to world coordinates is\n$$\nR = R_{z}(\\phi)\\,R_{x}(\\theta)\\,R_{z}(\\psi),\n$$\nwhere\n$$\nR_{z}(\\phi)=\\begin{pmatrix}\n\\cos\\phi & -\\sin\\phi & 0\\\\\n\\sin\\phi & \\cos\\phi & 0\\\\\n0 & 0 & 1\n\\end{pmatrix},\\quad\nR_{x}(\\theta)=\\begin{pmatrix}\n1 & 0 & 0\\\\\n0 & \\cos\\theta & -\\sin\\theta\\\\\n0 & \\sin\\theta & \\cos\\theta\n\\end{pmatrix},\\quad\nR_{z}(\\psi)=\\begin{pmatrix}\n\\cos\\psi & -\\sin\\psi & 0\\\\\n\\sin\\psi & \\cos\\psi & 0\\\\\n0 & 0 & 1\n\\end{pmatrix}.\n$$\nCompute $A=R_{z}(\\phi)R_{x}(\\theta)$:\n$$\nA=\\begin{pmatrix}\n\\cos\\phi & -\\sin\\phi\\cos\\theta & \\sin\\phi\\sin\\theta\\\\\n\\sin\\phi & \\cos\\phi\\cos\\theta & -\\cos\\phi\\sin\\theta\\\\\n0 & \\sin\\theta & \\cos\\theta\n\\end{pmatrix}.\n$$\nThen $R=A R_{z}(\\psi)$. The $(3,3)$ entry of $R$ is the dot product of row $3$ of $A$ with column $3$ of $R_{z}(\\psi)$, which yields\n$$\nR_{33}=\\cos\\theta.\n$$\nThe sensor measures $R_{33}=\\frac{1}{2}$, so\n$$\n\\cos\\theta=\\frac{1}{2}.\n$$\nWith the restriction $0\\le \\theta \\le \\pi$, the solution is\n$$\n\\theta=\\arccos\\!\\left(\\frac{1}{2}\\right)=\\frac{\\pi}{3}.\n$$\nThus the correct option is C.", "answer": "$$\\boxed{C}$$", "id": "2048188"}, {"introduction": "Building upon the forward calculation, we now tackle the practical \"inverse problem\" that is central to many engineering applications. In this practice [@problem_id:1509853], you are given a complete rotation matrix, as one might receive from a sensor on a spacecraft, and are tasked with extracting the corresponding Tait-Bryan angles. This process demonstrates a systematic method for decoding an orientation matrix, a crucial skill for attitude control and navigation.", "problem": "An autonomous reconnaissance spacecraft is maneuvering in deep space. Its onboard Inertial Measurement Unit (IMU) reports its orientation with respect to a fixed inertial reference frame. The orientation is given by the following rotation matrix $R$, which transforms the coordinates of a vector from the inertial frame to the spacecraft's body frame:\n$$\nR = \\begin{pmatrix}\n0.49240 & 0.69895 & 0.52013 \\\\\n-0.64279 & 0.69429 & -0.32371 \\\\\n-0.58682 & -0.17395 & 0.79047\n\\end{pmatrix}\n$$\nThe spacecraft's flight control system uses an XZY Tait-Bryan angle representation for attitude control. This convention defines the orientation as a sequence of three successive intrinsic rotations starting from an alignment of the body frame with the inertial frame:\n1.  A rotation by an angle $\\alpha$ about the body's x-axis.\n2.  A rotation by an angle $\\gamma$ about the body's new z-axis (the z-axis after the first rotation).\n3.  A rotation by an angle $\\beta$ about the body's newest y-axis (the y-axis after the second rotation).\n\nTo ensure a unique solution, the angles are constrained to the ranges $-180^\\circ < \\alpha \\le 180^\\circ$, $-180^\\circ < \\beta \\le 180^\\circ$, and $-90^\\circ \\le \\gamma \\le 90^\\circ$.\n\nDetermine the values of the Tait-Bryan angles $\\alpha$, $\\beta$, and $\\gamma$. Provide your answers for $\\alpha$, $\\beta$, and $\\gamma$ in this order, expressed in degrees and rounded to three significant figures.", "solution": "We are given the rotation matrix $R$ that transforms coordinates from the inertial frame to the spacecraft's body frame. The orientation is defined by an intrinsic X-Z'-Y'' Tait-Bryan sequence with angles $(\\alpha, \\gamma, \\beta)$.\n\nAn intrinsic rotation sequence corresponds to composing rotation matrices in order. The matrix that transforms a vector from the final body frame to the initial inertial frame is $R_{\\text{inertial} \\leftarrow \\text{body}} = R_x(\\alpha) R_z(\\gamma) R_y(\\beta)$.\n\nThe given matrix $R$ performs the inverse transformation, from inertial to body frame. Therefore, $R = (R_{\\text{inertial} \\leftarrow \\text{body}})^{-1} = (R_x(\\alpha) R_z(\\gamma) R_y(\\beta))^T$. Using the property $(ABC)^T = C^T B^T A^T$ and $R_k(\\theta)^T = R_k(-\\theta)$, we get:\n$$\nR = R_y(\\beta)^T R_z(\\gamma)^T R_x(\\alpha)^T = R_y(-\\beta) R_z(-\\gamma) R_x(-\\alpha)\n$$\nUsing standard right-handed rotation matrices with $c_\\theta = \\cos\\theta$ and $s_\\theta = \\sin\\theta$:\n$$\nR_x(-\\alpha) = \\begin{pmatrix} 1 & 0 & 0 \\\\ 0 & c_\\alpha & s_\\alpha \\\\ 0 & -s_\\alpha & c_\\alpha \\end{pmatrix}, \\quad R_z(-\\gamma) = \\begin{pmatrix} c_\\gamma & s_\\gamma & 0 \\\\ -s_\\gamma & c_\\gamma & 0 \\\\ 0 & 0 & 1 \\end{pmatrix}, \\quad R_y(-\\beta) = \\begin{pmatrix} c_\\beta & 0 & -s_\\beta \\\\ 0 & 1 & 0 \\\\ s_\\beta & 0 & c_\\beta \\end{pmatrix}\n$$\nMultiplying these matrices in the order $R = R_y(-\\beta) R_z(-\\gamma) R_x(-\\alpha)$ yields:\n$$\nR = \\begin{pmatrix}\nc_\\beta c_\\gamma & c_\\beta s_\\gamma c_\\alpha + s_\\beta s_\\alpha & c_\\beta s_\\gamma s_\\alpha - s_\\beta c_\\alpha \\\\\n-s_\\gamma & c_\\gamma c_\\alpha & c_\\gamma s_\\alpha \\\\\ns_\\beta c_\\gamma & s_\\beta s_\\gamma c_\\alpha - c_\\beta s_\\alpha & s_\\beta s_\\gamma s_\\alpha + c_\\beta c_\\alpha\n\\end{pmatrix}\n$$\nWe equate this with the given numerical matrix:\n$$\nR = \\begin{pmatrix}\n0.49240 & 0.69895 & 0.52013 \\\\\n-0.64279 & 0.69429 & -0.32371 \\\\\n-0.58682 & -0.17395 & 0.79047\n\\end{pmatrix}\n$$\nFrom the element $R_{21}$:\n$$\nR_{21} = -s_\\gamma = -0.64279 \\implies s_\\gamma = 0.64279\n$$\nWith the constraint $-90^\\circ \\le \\gamma \\le 90^\\circ$, we find $\\gamma = \\arcsin(0.64279) \\approx 40.0^\\circ$. From this, $c_\\gamma = \\cos(40.0^\\circ) \\approx 0.76604$.\n\nFrom the elements in the second row:\n$$\nR_{22} = c_\\gamma c_\\alpha = 0.69429 \\implies c_\\alpha = \\frac{0.69429}{c_\\gamma} \\approx \\frac{0.69429}{0.76604} \\approx 0.90631 \\\\\nR_{23} = c_\\gamma s_\\alpha = -0.32371 \\implies s_\\alpha = \\frac{-0.32371}{c_\\gamma} \\approx \\frac{-0.32371}{0.76604} \\approx -0.42258\n$$\nUsing the two-argument arctangent function, $\\alpha = \\operatorname{atan2}(s_\\alpha, c_\\alpha) \\approx \\operatorname{atan2}(-0.42258, 0.90631) \\approx -25.0^\\circ$. This is within the range $-180^\\circ < \\alpha \\le 180^\\circ$.\n\nFrom the elements in the first and third columns:\n$$\nR_{11} = c_\\beta c_\\gamma = 0.49240 \\implies c_\\beta = \\frac{0.49240}{c_\\gamma} \\approx \\frac{0.49240}{0.76604} \\approx 0.64279 \\\\\nR_{31} = s_\\beta c_\\gamma = -0.58682 \\implies s_\\beta = \\frac{-0.58682}{c_\\gamma} \\approx \\frac{-0.58682}{0.76604} \\approx -0.76604\n$$\nUsing the two-argument arctangent, $\\beta = \\operatorname{atan2}(s_\\beta, c_\\beta) \\approx \\operatorname{atan2}(-0.76604, 0.64279) \\approx -50.0^\\circ$. This is within the range $-180^\\circ < \\beta \\le 180^\\circ$.\n\nThe Tait-Bryan angles are approximately $\\alpha = -25.0^\\circ$, $\\beta = -50.0^\\circ$, and $\\gamma = 40.0^\\circ$. The question asks for them in the order $\\alpha, \\beta, \\gamma$.", "answer": "$$\\boxed{\\begin{pmatrix}-25.0 & -50.0 & 40.0\\end{pmatrix}}$$", "id": "1509853"}, {"introduction": "While powerful, the Euler angle representation has inherent limitations known as singularities. This final practice [@problem_id:1509872] illuminates the most famous of these issues: gimbal lock, where a degree of rotational freedom is lost. By mathematically analyzing what happens when the second rotation angle becomes zero, you will gain a deeper appreciation for why this phenomenon occurs and why it is a critical consideration in designing robotic and aerospace control systems.", "problem": "In robotics and aerospace engineering, the orientation of a rigid body is often described using a sequence of three rotations known as Euler angles. Consider a specific sequence known as the Z-X'-Z'' intrinsic rotations, defined by the angles $(\\alpha, \\beta, \\gamma)$. This sequence corresponds to:\n1. A first rotation by an angle $\\alpha$ about the initial $z$-axis.\n2. A second rotation by an angle $\\beta$ about the new, intermediate $x'$-axis (the \"line of nodes\").\n3. A third rotation by an angle $\\gamma$ about the final $z''$-axis.\n\nThe overall rotation that transforms a vector's coordinates from the final body-fixed frame to the initial space-fixed frame can be represented by a rotation matrix $R(\\alpha, \\beta, \\gamma)$. For the Z-X'-Z'' sequence, this matrix is given by the product $R(\\alpha, \\beta, \\gamma) = R_z(\\alpha) R_x(\\beta) R_z(\\gamma)$, where $R_k(\\theta)$ is the matrix for a rotation by angle $\\theta$ about the $k$-axis. The standard rotation matrices for the $z$ and $x$ axes are:\n$$R_z(\\theta) = \\begin{pmatrix} \\cos\\theta & -\\sin\\theta & 0 \\\\ \\sin\\theta & \\cos\\theta & 0 \\\\ 0 & 0 & 1 \\end{pmatrix}$$\n$$R_x(\\theta) = \\begin{pmatrix} 1 & 0 & 0 \\\\ 0 & \\cos\\theta & -\\sin\\theta \\\\ 0 & \\sin\\theta & \\cos\\theta \\end{pmatrix}$$\n\nA robotic arm is designed to use this Z-X'-Z'' sequence. However, due to a mechanical failure, the actuator for the second rotation is permanently locked, such that the angle $\\beta$ is fixed at $0$. The control system can still freely vary the angles $\\alpha$ and $\\gamma$. This situation leads to a phenomenon known as a gimbal lock or singularity, where the first and third rotations are no longer fully independent.\n\nWhich of the following statements correctly describes how the final orientation of the robotic arm depends on the angles $\\alpha$ and $\\gamma$ under this malfunctioned condition ($\\beta=0$)?\n\nA. The final orientation depends only on the difference of the angles, $\\alpha - \\gamma$.\n\nB. The final orientation depends only on the sum of the angles, $\\alpha + \\gamma$.\n\nC. The final orientation depends only on $\\alpha$, and any change in $\\gamma$ has no effect.\n\nD. The final orientation depends only on $\\gamma$, and any change in $\\alpha$ has no effect.\n\nE. The robotic arm remains in its initial orientation, as the total rotation is equivalent to the identity transformation for any $\\alpha$ and $\\gamma$.", "solution": "We start from the given rotation for the Z-X'-Z'' intrinsic sequence, represented as a product of standard rotation matrices about fixed axes:\n$$\nR(\\alpha,\\beta,\\gamma)=R_{z}(\\alpha)R_{x}(\\beta)R_{z}(\\gamma).\n$$\nUnder the malfunction, the second rotation is locked at $\\beta=0$. The rotation matrix about the $x$-axis by zero angle is the identity:\n$$\nR_{x}(0)=\\begin{pmatrix}1&0&0\\\\ 0&1&0\\\\ 0&0&1\\end{pmatrix}=I_{3}.\n$$\nTherefore,\n$$\nR(\\alpha,0,\\gamma)=R_{z}(\\alpha)I_{3}R_{z}(\\gamma)=R_{z}(\\alpha)R_{z}(\\gamma).\n$$\nWe now multiply the two $z$-axis rotation matrices explicitly. Using\n$$\nR_{z}(\\theta)=\\begin{pmatrix}\\cos\\theta&-\\sin\\theta&0\\\\ \\sin\\theta&\\cos\\theta&0\\\\ 0&0&1\\end{pmatrix},\n$$\nwe compute\n$$\nR_{z}(\\alpha)R_{z}(\\gamma)=\n\\begin{pmatrix}\n\\cos\\alpha&-\\sin\\alpha&0\\\\\n\\sin\\alpha&\\cos\\alpha&0\\\\\n0&0&1\n\\end{pmatrix}\n\\begin{pmatrix}\n\\cos\\gamma&-\\sin\\gamma&0\\\\\n\\sin\\gamma&\\cos\\gamma&0\\\\\n0&0&1\n\\end{pmatrix}.\n$$\nCarrying out the matrix multiplication entrywise and using the angle addition identities $\\cos(\\alpha+\\gamma)=\\cos\\alpha\\cos\\gamma-\\sin\\alpha\\sin\\gamma$ and $\\sin(\\alpha+\\gamma)=\\sin\\alpha\\cos\\gamma+\\cos\\alpha\\sin\\gamma$, we obtain\n$$\nR_{z}(\\alpha)R_{z}(\\gamma)=\n\\begin{pmatrix}\n\\cos(\\alpha+\\gamma)&-\\sin(\\alpha+\\gamma)&0\\\\\n\\sin(\\alpha+\\gamma)&\\cos(\\alpha+\\gamma)&0\\\\\n0&0&1\n\\end{pmatrix}\n=R_{z}(\\alpha+\\gamma).\n$$\nHence, with $\\beta=0$, the overall transformation reduces to a single rotation about the $z$-axis by the angle $\\alpha+\\gamma$. This shows that the final orientation depends only on the sum $\\alpha+\\gamma$, which corresponds to option B. This is the manifestation of gimbal lock: the first and third rotations occur about the same physical axis and therefore are no longer independent; they simply add.", "answer": "$$\\boxed{B}$$", "id": "1509872"}]}