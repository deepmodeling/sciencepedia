{"hands_on_practices": [{"introduction": "The key to mastering generating functions is applying the core technique to a standard problem. This first practice focuses on a linear homogeneous recurrence relation with constant coefficients, which is the foundational use case for ordinary generating functions. By working through this exercise [@problem_id:1106543], you will solidify the essential workflow: translating the recurrence into an algebraic equation for its generating function, solving for the function as a rational expression, and using partial fraction decomposition to find the closed-form solution for the sequence.", "problem": "Consider a sequence $\\{v_n\\}_{n \\ge 0}$ defined by the linear homogeneous recurrence relation with constant coefficients:\n$$2v_n - 5v_{n-1} - 3v_{n-2} = 0, \\quad \\text{for } n \\ge 2$$\nThe sequence is initiated with the values $v_0 = 0$ and $v_1 = 1$.\n\nYour task is to derive a closed-form expression for the general term $v_n$. You must use the method of ordinary generating functions. The derivation should explicitly include the following steps:\n1.  Define the ordinary generating function $V(x) = \\sum_{n=0}^{\\infty} v_n x^n$.\n2.  Derive a rational expression (a ratio of polynomials) for $V(x)$ from the recurrence relation.\n3.  Decompose this rational expression into partial fractions.\n4.  Use the partial fraction expansion to determine the explicit formula for $v_n$ by expanding each term as a power series in $x$.", "solution": "Define the ordinary generating function\n$$\nV(x)\\;=\\;\\sum_{n=0}^\\infty v_n\\,x^n.\n$$\nMultiplying the recurrence $2v_n-5v_{n-1}-3v_{n-2}=0$ by $x^n$ and summing over $n\\ge2$ gives\n$$\n\\sum_{n=2}^\\infty2v_nx^n-\\sum_{n=2}^\\infty5v_{n-1}x^n-\\sum_{n=2}^\\infty3v_{n-2}x^n=0.\n$$\nNote\n$$\n\\sum_{n=2}^\\infty v_nx^n=V(x)-v_0-v_1x=V(x)-x,\n\\quad\n\\sum_{n=2}^\\infty v_{n-1}x^n\n=x\\sum_{m=1}^\\infty v_mx^m\n=x(V(x)-v_0)=xV(x),\n$$\n$$\n\\sum_{n=2}^\\infty v_{n-2}x^n\n=x^2\\sum_{k=0}^\\infty v_kx^k\n=x^2V(x).\n$$\nHence\n$$\n2\\bigl(V(x)-x\\bigr)-5xV(x)-3x^2V(x)=0\n\\;\\Longrightarrow\\;\nV(x)\\,(2-5x-3x^2)=2x\n\\;\\Longrightarrow\\;\nV(x)=\\frac{2x}{2-5x-3x^2}.\n$$\nFactor the denominator:\n$$\n2-5x-3x^2=(1-3x)(2+x),\n$$\nso\n$$\nV(x)=\\frac{2x}{(1-3x)(2+x)}\n=\\frac{A}{1-3x}+\\frac{B}{2+x}.\n$$\nClear denominators:\n$$\n2x=A(2+x)+B(1-3x)\n=(A-3B)x+(2A+B).\n$$\nEquate coefficients:\n$$\nA-3B=2,\\quad2A+B=0\\;\\Longrightarrow\\;A=\\tfrac{2}{7},\\;B=-\\tfrac{4}{7}.\n$$\nThus\n$$\nV(x)\n=\\frac{2/7}{1-3x}-\\frac{4/7}{2+x}\n=\\frac{2}{7}\\sum_{n=0}^\\infty(3x)^n\n-\\frac{2}{7}\\sum_{n=0}^\\infty(-\\tfrac{1}{2}x)^n\n=\\sum_{n=0}^\\infty\\frac{2}{7}\\Bigl(3^n-\\bigl(-\\tfrac12\\bigr)^n\\Bigr)x^n.\n$$\nReading off coefficients gives\n$$\nv_n=\\frac{2}{7}\\Bigl(3^n-\\bigl(-\\tfrac12\\bigr)^n\\Bigr).\n$$", "answer": "$$\\boxed{\\frac{2}{7}\\bigl(3^n-\\bigl(-\\tfrac12\\bigr)^n\\bigr)}$$", "id": "1106543"}, {"introduction": "Generating functions are not limited to simple linear recurrences; their power truly shines when dealing with more complex relationships, such as summations. This exercise [@problem_id:1106530] presents a sequence where each term depends on the sum of all its predecessors. You will discover how this summation, which represents a discrete convolution, elegantly transforms into a simple product of generating functions, allowing for a straightforward algebraic solution.", "problem": "A sequence of numbers $\\{a_n\\}_{n=0}^{\\infty}$ is defined by an initial value $a_0$ and a recurrence relation for $n \\ge 1$: each term $a_n$ is the sum of all preceding terms plus a constant $C$. That is,\n$$ a_n = C + \\sum_{k=0}^{n-1} a_k, \\quad \\text{for } n \\ge 1. $$\nYour task is to find a closed-form expression for the general term $a_n$. To do this, you must first determine the ordinary generating function $G(x) = \\sum_{n=0}^{\\infty} a_n x^n$ for the sequence by setting up and solving a first-order linear algebraic equation for $G(x)$. From the resulting expression for $G(x)$, derive the formula for $a_n$.\n\nFor this problem, consider the specific case where the initial value is equal to the constant, i.e., $a_0 = C$.\n\nFind the expression for $a_n$ for all $n \\ge 0$.", "solution": "We define the generating function \n$$G(x)=\\sum_{n=0}^\\infty a_n x^n.$$ \nMultiply the recurrence \n$$a_n = C + \\sum_{k=0}^{n-1}a_k,\\quad n\\ge1$$ \nby $x^n$ and sum over $n\\ge1$:\n$$\\sum_{n=1}^\\infty a_n x^n\n= C\\sum_{n=1}^\\infty x^n\n+\\sum_{n=1}^\\infty\\Bigl(\\sum_{k=0}^{n-1}a_k\\Bigr)x^n.$$\nThe left side is $G(x)-a_0=G(x)-C$. The first sum on the right is $C\\,\\frac{x}{1-x}$. The double sum can be re-indexed:\n$$\\sum_{n=1}^\\infty\\sum_{k=0}^{n-1}a_k x^n\n=\\sum_{k=0}^\\infty a_k\\sum_{n=k+1}^\\infty x^n\n=\\frac{x}{1-x}\\sum_{k=0}^\\infty a_k x^k\n=\\frac{x}{1-x}G(x).$$\nHence\n$$(G(x)-C)=C\\frac{x}{1-x}+\\frac{x}{1-x}G(x).$$\nMultiply both sides by $1-x$:\n$$(1-x)G(x)-C(1-x)=Cx+xG(x).$$\nRearrange to isolate $G(x)$:\n$$G(x)(1-2x)=C\n\\quad\\Longrightarrow\\quad\nG(x)=\\frac{C}{1-2x}.$$\nExpanding in a power series gives\n$$G(x)=C\\sum_{n=0}^\\infty(2x)^n\n\\quad\\Longrightarrow\\quad\na_n=C\\,2^n.$$", "answer": "$$\\boxed{C\\,2^n}$$", "id": "1106530"}, {"introduction": "Expanding our toolkit, we now turn to a different type of problem that is best solved using exponential generating functions (EGFs). This practice involves a system of coupled recurrence relations where one relation includes a coefficient that depends on the index $n$ [@problem_id:1106527]. You will see how EGFs transform such systems into a system of differential equations, bridging the gap between discrete sequences and continuous functions and providing an elegant path to a solution.", "problem": "Two sequences of non-negative integers, $a_n$ and $b_n$ for $n \\ge 0$, are defined by the coupled recurrence relations:\n$$a_{n+1} = a_n + b_n$$\n$$b_{n+1} = n a_n$$\nwith the initial conditions $a_0 = 1$ and $b_0 = 0$.\n\nThe exponential generating function (EGF) for a sequence $\\{s_k\\}_{k=0}^\\infty$ is defined as $S(x) = \\sum_{k=0}^{\\infty} \\frac{s_k}{k!} x^k$. We are interested in a related sequence $c_n = b_{n+1}$.\n\nYour task is to derive a closed-form expression for $C(x)$, the exponential generating function of the sequence $\\{c_n\\}$.", "solution": "1. Define the EGFs\n$$A(x)=\\sum_{n=0}^\\infty\\frac{a_n}{n!}x^n,\\quad B(x)=\\sum_{n=0}^\\infty\\frac{b_n}{n!}x^n.$$\nThen\n$$A'(x)=\\sum_{n=0}^\\infty\\frac{a_{n+1}}{n!}x^n,\\quad B'(x)=\\sum_{n=0}^\\infty\\frac{b_{n+1}}{n!}x^n.$$\n2. From the recurrences $a_{n+1}=a_n+b_n$ and $b_{n+1}=n\\,a_n$ we get\n$$A'(x)=A(x)+B(x),\\quad B'(x)=x\\,A'(x).$$\n3. Eliminate $B(x)$: differentiate $A'(x)-A(x)=B(x)$ to obtain\n$$A''(x)-A'(x)=B'(x)=x\\,A'(x)\\;\\Longrightarrow\\;A''(x)=(1+x)A'(x).$$\n4. Let $U(x)=A'(x)$. Then $U'/U=1+x$, so\n$$U(x)=\\exp\\!\\bigl(x+\\tfrac12x^2\\bigr),\\quad U(0)=1.$$\nHence\n$$A'(x)=e^{x+\\frac{x^2}{2}}.$$\n5. Finally the EGF of $c_n=b_{n+1}$ is\n$$C(x)=\\sum_{n=0}^\\infty\\frac{b_{n+1}}{n!}x^n=B'(x)=x\\,A'(x)=x\\,e^{x+\\frac{x^2}{2}}.$$", "answer": "$$\\boxed{x\\,e^{x+\\frac{x^2}{2}}}$$", "id": "1106527"}]}