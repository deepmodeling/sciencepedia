{"hands_on_practices": [{"introduction": "The most intuitive way to gauge a node's importance is by counting its direct connections, a measure known as degree centrality. In directed networks, such as metabolic exchange systems, we can be more specific by calculating out-degree to identify key \"providers\" and in-degree to find key \"consumers.\" This exercise provides a hands-on opportunity to apply the concept of out-degree centrality to identify the most prolific provider species in a simplified microbial community. [@problem_id:1450876]", "problem": "In a simplified model of a synthetic microbial consortium designed for bioremediation, four bacterial species cooperate by exchanging essential metabolites. The network of these directed interactions is described as follows. An interaction from Species X to Species Y means that X produces a metabolite that Y consumes.\n\nThe species in the consortium are:\n- *Aromatoleum aromaticum* (Abbreviated as AA)\n- *Bacillus subtilis* (Abbreviated as BS)\n- *Cupriavidus necator* (Abbreviated as CN)\n- *Desulfovibrio alaskensis* (Abbreviated as DA)\n\nThe observed metabolite transfers are:\n1. *Aromatoleum aromaticum* provides metabolites to *Bacillus subtilis*.\n2. *Aromatoleum aromaticum* provides metabolites to *Cupriavidus necator*.\n3. *Cupriavidus necator* provides metabolites to *Bacillus subtilis*.\n4. *Aromatoleum aromaticum* provides metabolites to *Desulfovibrio alaskensis*.\n5. *Desulfovibrio alaskensis* provides metabolites to *Aromatoleum aromaticum*.\n\nBased on this network structure, identify the species that acts as the most prolific provider, defined as the one that supplies essential metabolites to the greatest number of other distinct species in the consortium.\n\nA. *Aromatoleum aromaticum*\n\nB. *Bacillus subtilis*\n\nC. *Cupriavidus necator*\n\nD. *Desulfovibrio alaskensis*", "solution": "Model the consortium as a directed graph $G=(V,E)$ where $V=\\{\\text{AA},\\text{BS},\\text{CN},\\text{DA}\\}$ and a directed edge $(X,Y)\\in E$ indicates that species $X$ provides metabolites to species $Y$. The observed transfers define the edge set\n$$\nE=\\{(\\text{AA},\\text{BS}),(\\text{AA},\\text{CN}),(\\text{CN},\\text{BS}),(\\text{AA},\\text{DA}),(\\text{DA},\\text{AA})\\}.\n$$\nThe most prolific provider is the species with the maximum out-degree. For any vertex $v\\in V$, define the out-degree as\n$$\n\\deg^{+}(v)=|\\{\\,w\\in V:(v,w)\\in E\\,\\}|.\n$$\nCompute out-degrees explicitly:\n$$\n\\deg^{+}(\\text{AA})=|\\{\\text{BS},\\text{CN},\\text{DA}\\}|=3,\\quad\n\\deg^{+}(\\text{BS})=|\\varnothing|=0,\\quad\n\\deg^{+}(\\text{CN})=|\\{\\text{BS}\\}|=1,\\quad\n\\deg^{+}(\\text{DA})=|\\{\\text{AA}\\}|=1.\n$$\nThe maximum out-degree is $3$, achieved uniquely by $\\text{AA}$, so the most prolific provider is Aromatoleum aromaticum, corresponding to option A.", "answer": "$$\\boxed{A}$$", "id": "1450876"}, {"introduction": "While degree centrality measures local connectivity, betweenness centrality captures a node's global importance as a bridge in the network's communication pathways. A node with high betweenness centrality often acts as a critical bottleneck, controlling the flow of information or resources between different network regions. In this problem, we will calculate the betweenness centrality for an enzyme at a branch point in a hypothetical metabolic pathway, offering a clear example of how this measure pinpoints nodes that are crucial for pathway integrity. [@problem_id:1450860]", "problem": "In a hypothetical cell, a small metabolic pathway is regulated by a set of six enzymes: E1, E2, E3, E4, E5, and E6. To analyze the pathway's structure and control points, it is modeled as a directed network where the enzymes are represented as nodes. A directed edge exists from an enzyme $E_i$ to an enzyme $E_j$ if a product of the reaction catalyzed by $E_i$ is a substrate for the reaction catalyzed by $E_j$. All reactions in this pathway are considered irreversible.\n\nThe pathway's topology is as follows:\n- The reaction catalyzed by E1 produces the substrate for E2.\n- The product of E2's reaction serves as a substrate for two different enzymes: E3 and E5. This makes E2 a branch point.\n- The product of E3's reaction is the substrate for E4. The main pathway terminates after E4.\n- The product of E5's reaction is the substrate for E6. The side branch of the pathway terminates after E6.\n- There are no other reactions or connections among these six enzymes.\n\nCalculate the unnormalized betweenness centrality of the enzyme at the branch point, E2.", "solution": "We model the pathway as a directed graph with edges: $E_{1}\\to E_{2}$, $E_{2}\\to E_{3}$, $E_{3}\\to E_{4}$, $E_{2}\\to E_{5}$, and $E_{5}\\to E_{6}$. There are no other edges, and the graph is a directed acyclic graph with a single upstream node $E_{1}$ feeding into a branch at $E_{2}$ that leads to two terminal paths $(E_{3}\\to E_{4})$ and $(E_{5}\\to E_{6})$.\n\nThe unnormalized betweenness centrality of a node $v$ in a directed graph is\n$$\nC_{B}(v)=\\sum_{\\substack{s\\neq v\\neq t\\\\ s\\neq t}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}},\n$$\nwhere $\\sigma_{st}$ is the number of shortest directed paths from $s$ to $t$, and $\\sigma_{st}(v)$ is the number of those paths that pass through $v$. In this graph, for any pair $(s,t)$ that is connected by a directed path, there is exactly one directed path; hence for such pairs $\\sigma_{st}=1$, and the summand is $1$ if $v$ lies on that path and $0$ otherwise.\n\nTo compute $C_{B}(E_{2})$, we count ordered pairs $(s,t)$ with $s\\neq E_{2}\\neq t$ and $s\\neq t$ such that the unique directed path from $s$ to $t$ passes through $E_{2}$. The nodes that can reach $E_{2}$ are its strict predecessors $P=\\{E_{1}\\}$, and the nodes reachable from $E_{2}$ are its strict successors $S=\\{E_{3},E_{4},E_{5},E_{6}\\}$. For each ordered pair $(s,t)\\in P\\times S$, there is a unique directed path $s\\to E_{2}\\to \\dots \\to t$ that includes $E_{2}$ as an internal node. Thus, the contributing pairs are\n$$\n(E_{1},E_{3}),\\ (E_{1},E_{4}),\\ (E_{1},E_{5}),\\ (E_{1},E_{6}),\n$$\ngiving a total count of $|P|\\cdot |S|=1\\cdot 4=4$. All other ordered pairs either have no directed path or have paths that do not pass through $E_{2}$ or have $E_{2}$ as an endpoint, which are excluded by definition.\n\nTherefore, the unnormalized betweenness centrality of $E_{2}$ is $4$.", "answer": "$$\\boxed{4}$$", "id": "1450860"}, {"introduction": "Different centrality measures can reveal distinct aspects of a node's function, and they do not always identify the same node as the most important. A key skill in network analysis is understanding these differences and selecting the appropriate measure for the biological question at hand. This practice explores a protein-protein interaction network where the node with the highest degree centrality is different from the one with the highest betweenness centrality, demonstrating the crucial distinction between being a local hub and being a critical bridge. [@problem_id:1450881]", "problem": "Consider a simplified model of a protein-protein interaction network composed of seven proteins, labeled $P_1$ through $P_7$. The interactions (edges) between them are given by the following set of pairs:\n$$ \\{ (P_1, P_2), (P_2, P_3), (P_3, P_1), (P_3, P_4), (P_4, P_5), (P_5, P_6), (P_6, P_7), (P_7, P_5) \\} $$\nFor this network, determine the protein with the highest degree centrality and the protein with the highest betweenness centrality.\n\nYour answer should be a pair of protein labels, presented as a row matrix. The first element should be the label of the protein with the highest degree centrality, and the second element should be the label of the protein with the highest betweenness centrality. If there is a tie for the highest degree centrality, select the protein with the lower numerical index (e.g., choose $P_3$ over $P_5$).", "solution": "The solution requires calculating two centrality measures for each protein in the network: degree centrality and betweenness centrality.\n\n**Step 1: Calculate Degree Centrality**\n\nDegree centrality of a node (protein) in an undirected network is simply the number of edges connected to it. We can count the occurrences of each protein label in the given edge list.\n\n- **$P_1$**: Appears in $(P_1, P_2)$ and $(P_3, P_1)$. Degree($P_1$) = 2.\n- **$P_2$**: Appears in $(P_1, P_2)$ and $(P_2, P_3)$. Degree($P_2$) = 2.\n- **$P_3$**: Appears in $(P_2, P_3)$, $(P_3, P_1)$, and $(P_3, P_4)$. Degree($P_3$) = 3.\n- **$P_4$**: Appears in $(P_3, P_4)$ and $(P_4, P_5)$. Degree($P_4$) = 2.\n- **$P_5$**: Appears in $(P_4, P_5)$, $(P_5, P_6)$, and $(P_7, P_5)$. Degree($P_5$) = 3.\n- **$P_6$**: Appears in $(P_5, P_6)$ and $(P_6, P_7)$. Degree($P_6$) = 2.\n- **$P_7$**: Appears in $(P_6, P_7)$ and $(P_7, P_5)$. Degree($P_7$) = 2.\n\nThe degrees are:\n$d(P_1)=2$, $d(P_2)=2$, $d(P_3)=3$, $d(P_4)=2$, $d(P_5)=3$, $d(P_6)=2$, $d(P_7)=2$.\n\nThe highest degree is 3, which is shared by $P_3$ and $P_5$. According to the problem's tie-breaking rule, we select the protein with the lower numerical index. Therefore, the protein with the highest degree centrality is $P_3$.\n\n**Step 2: Calculate Betweenness Centrality**\n\nThe unnormalized betweenness centrality $C_B(v)$ of a node $v$ is the sum of the fraction of all-pairs shortest paths that pass through $v$:\n$$ C_B(v) = \\sum_{s \\neq v \\neq t} \\frac{\\sigma_{st}(v)}{\\sigma_{st}} $$\nwhere $\\sigma_{st}$ is the number of shortest paths between nodes $s$ and $t$, and $\\sigma_{st}(v)$ is the number of those paths that pass through $v$.\n\nThe network structure consists of two triangles, $\\{P_1, P_2, P_3\\}$ and $\\{P_5, P_6, P_7\\}$, connected by a bridge path $P_3-P_4-P_5$. Let's call the set of nodes in the first module $M_1 = \\{P_1, P_2, P_3\\}$ and in the second module $M_2 = \\{P_5, P_6, P_7\\}$. The node $P_4$ acts as the sole connector between the modules via $P_3$ and $P_5$.\n\n- **For nodes $P_1, P_2, P_6, P_7$:** These nodes are on the periphery of the network. Any shortest path between two other nodes will not pass through them. For example, the shortest path between $P_2$ and $P_4$ is $P_2-P_3-P_4$, which bypasses $P_1$. Thus, their betweenness centrality is 0.\n$C_B(P_1) = 0$, $C_B(P_2) = 0$, $C_B(P_6) = 0$, $C_B(P_7) = 0$.\n\n- **For node $P_4$:** This node lies on every shortest path between any node in $M_1$ and any node in $M_2$. There are $3 \\times 3 = 9$ such pairs of nodes. For each pair, the shortest path is unique. For example, the shortest path from $P_1$ to $P_6$ is $P_1-P_3-P_4-P_5-P_6$. $P_4$ contributes 1 to the betweenness sum for each of these 9 paths.\n$C_B(P_4) = 9$.\n\n- **For node $P_3$:** This node acts as a gateway for $P_1$ and $P_2$ to the rest of the network. Any shortest path from $\\{P_1, P_2\\}$ to $\\{P_4, P_5, P_6, P_7\\}$ must pass through $P_3$.\nNumber of nodes in $\\{P_1, P_2\\}$ is 2.\nNumber of nodes in $\\{P_4, P_5, P_6, P_7\\}$ is 4.\nThe number of such unique shortest paths is $2 \\times 4 = 8$. For each of these, $P_3$ lies on the path. For example, the path from $P_1$ to $P_7$ is $P_1-P_3-P_4-P_5-P_7$.\n$C_B(P_3) = 8$.\n\n- **For node $P_5$:** By symmetry with $P_3$, this node is the gateway for $P_6$ and $P_7$ to the rest of the network. Any shortest path from $\\{P_6, P_7\\}$ to $\\{P_1, P_2, P_3, P_4\\}$ must pass through $P_5$.\nNumber of nodes in $\\{P_6, P_7\\}$ is 2.\nNumber of nodes in $\\{P_1, P_2, P_3, P_4\\}$ is 4.\nThe number of such unique shortest paths is $2 \\times 4 = 8$.\n$C_B(P_5) = 8$.\n\nThe betweenness centralities are:\n$C_B(P_1)=0$, $C_B(P_2)=0$, $C_B(P_3)=8$, $C_B(P_4)=9$, $C_B(P_5)=8$, $C_B(P_6)=0$, $C_B(P_7)=0$.\n\nThe highest betweenness centrality is 9, which belongs to node $P_4$.\n\n**Step 3: Final Answer**\n\n- The protein with the highest degree centrality is $P_3$.\n- The protein with the highest betweenness centrality is $P_4$.\n\nThe final answer is the pair $(P_3, P_4)$.", "answer": "$$ \\boxed{ \\begin{pmatrix} P_3 & P_4 \\end{pmatrix} } $$", "id": "1450881"}]}