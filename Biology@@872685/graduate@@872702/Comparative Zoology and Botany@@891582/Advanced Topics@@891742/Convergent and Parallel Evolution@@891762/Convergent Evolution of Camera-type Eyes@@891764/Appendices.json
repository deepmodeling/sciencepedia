{"hands_on_practices": [{"introduction": "Convergent evolution is powerfully constrained by the unyielding laws of physics. This first exercise grounds our study in this principle by exploring the primary selective pressure that shaped aquatic camera-type eyes. By deriving the relationship between refractive power, surface curvature, and the refractive index difference from first principles, you will quantitatively demonstrate why a cornea that functions perfectly in air becomes almost optically useless underwater [@problem_id:2562813]. This practice is crucial for understanding the 'why' behind the convergent evolution of lens-dominant focusing in aquatic organisms.", "problem": "In the comparative study of camera-type eyes across distantly related lineages such as vertebrates and cephalopods, a key physical constraint shaping convergent solutions in aquatic environments is the reduced refractive contribution of the cornea under water. Starting from Snell’s law of refraction, $n_{1}\\sin\\theta_{1}=n_{2}\\sin\\theta_{2}$, and the small-angle (paraxial) approximation, derive the paraxial refraction condition at a spherical interface that connects object and image vergences to surface curvature. Use this to justify that the refracting “surface power” of a single spherical interface scales in proportion to the refractive index difference and the curvature, and then quantify the underwater magnitude for a typical terrestrial vertebrate anterior cornea. Assume an anterior corneal radius of curvature $R=7.8\\,\\mathrm{mm}$, an air–cornea refractive index difference $\\Delta n_{\\mathrm{air}} \\approx 0.33$, and a water–cornea refractive index difference $\\Delta n_{\\mathrm{water}} \\approx 0.05$. To demonstrate the contrast that drives convergent evolution of lens-dominant focusing in aquatic eyes, you may also compute the dimensionless ratio of underwater to in-air surface powers, but report only the underwater corneal surface power as your final answer.\n\nExpress the final answer in diopters (inverse meters). Round your answer to three significant figures. Provide your final answer as a single number without units.", "solution": "The posed problem is subjected to validation.\n\n**Step 1: Extract Givens**\n- Snell’s law of refraction: $n_{1}\\sin\\theta_{1}=n_{2}\\sin\\theta_{2}$\n- Small-angle (paraxial) approximation is to be used.\n- A single spherical interface is considered.\n- Anterior corneal radius of curvature: $R = 7.8\\,\\mathrm{mm}$\n- Air–cornea refractive index difference: $\\Delta n_{\\mathrm{air}} \\approx 0.33$\n- Water–cornea refractive index difference: $\\Delta n_{\\mathrm{water}} \\approx 0.05$\n- The task requires derivation of the paraxial refraction condition connecting object and image vergences to surface curvature.\n- The task requires justification that surface power scales in proportion to refractive index difference and curvature.\n- The task requires quantification of the underwater corneal surface power.\n- The final answer must be in diopters and rounded to three significant figures.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded, rooted in the fundamental principles of geometrical optics. It is well-posed, as it provides a clear objective and all necessary data to arrive at a unique, meaningful solution. The language is objective and precise. The physical values provided ($R$, $\\Delta n_{\\mathrm{air}}$, $\\Delta n_{\\mathrm{water}}$) are realistic for a biological system (specifically, a human-like eye). The problem does not violate any criteria for invalidity; it is not unsound, incomplete, ambiguous, or trivial. It is a standard problem in biophysical optics that directly addresses the specified topic of convergent evolution.\n\n**Step 3: Verdict and Action**\nThe problem is deemed **valid**. A full solution will be provided.\n\nWe begin by deriving the paraxial refraction equation for a single spherical surface. Consider a spherical interface with radius of curvature $R$ separating two media with refractive indices $n_1$ and $n_2$. An object point $O$ on the principal axis is at an object distance $s_o$ from the vertex of the surface. A ray from $O$ strikes the surface at a point $P$ at a height $h$ above the axis. After refraction, the ray intersects the principal axis at the image point $I$, at an image distance $s_i$ from the vertex.\n\nLet $\\theta_1$ be the angle of incidence and $\\theta_2$ be the angle of refraction. Let $\\alpha_o$ be the angle the incident ray makes with the axis, $\\alpha_i$ be the angle the refracted ray makes with the axis, and $\\phi$ be the angle that the normal to the surface at $P$ makes with the axis. From the geometry of the setup, using the exterior angle theorem on the relevant triangles, we have:\n$\\theta_1 = \\alpha_o + \\phi$\n$\\phi = \\theta_2 + \\alpha_i \\implies \\theta_2 = \\phi - \\alpha_i$\n\nSnell's Law is given as $n_{1}\\sin\\theta_{1} = n_{2}\\sin\\theta_{2}$. Under the paraxial (small-angle) approximation, we can state that $\\sin x \\approx x$ for any small angle $x$ in radians. Thus, Snell's Law becomes:\n$n_1 \\theta_1 = n_2 \\theta_2$\n\nSubstituting the geometric relations for the angles yields:\n$n_1 (\\alpha_o + \\phi) = n_2 (\\phi - \\alpha_i)$\n\nAlso, under the paraxial approximation, we can relate the angles $\\alpha_o$, $\\alpha_i$, and $\\phi$ to the distances $s_o$, $s_i$, $R$, and the height $h$:\n$\\alpha_o \\approx \\tan(\\alpha_o) = \\frac{h}{s_o}$\n$\\alpha_i \\approx \\tan(\\alpha_i) = \\frac{h}{s_i}$\n$\\phi \\approx \\sin(\\phi) = \\frac{h}{R}$\nHere we adopt the sign convention that light travels from left to right, and a convex surface has a positive radius of curvature.\n\nSubstituting these expressions into the approximated Snell's Law:\n$n_1 \\left(\\frac{h}{s_o} + \\frac{h}{R}\\right) = n_2 \\left(\\frac{h}{R} - \\frac{h}{s_i}\\right)$\n\nFor any non-trivial ray ($h \\neq 0$), we can divide by $h$:\n$n_1 \\left(\\frac{1}{s_o} + \\frac{1}{R}\\right) = n_2 \\left(\\frac{1}{R} - \\frac{1}{s_i}\\right)$\n\nRearranging the terms to group object/image and surface properties, we get:\n$\\frac{n_1}{s_o} + \\frac{n_2}{s_i} = \\frac{n_2 - n_1}{R}$\n\nThis is the paraxial refraction equation. The terms $\\frac{n_1}{s_o}$ and $\\frac{n_2}{s_i}$ are the object and image vergences, respectively.\n\nThe refracting power, or surface power $P$, of a surface is defined as its ability to converge parallel rays of light. For parallel incident rays, the object is at infinity, so $s_o \\to \\infty$. The equation simplifies to:\n$\\frac{n_2}{s_i} = \\frac{n_2 - n_1}{R}$\nThe power $P$ is precisely this quantity, representing the vergence added to the light by the surface.\n$P = \\frac{n_2 - n_1}{R}$\n\nThis expression directly justifies that the surface power $P$ is proportional to the difference in refractive indices, $\\Delta n = n_2 - n_1$, and the curvature of the surface, $C = \\frac{1}{R}$. So, $P = \\Delta n \\cdot C$. This completes the required justification.\n\nNow, we quantify the underwater corneal surface power. The problem provides the necessary values for this case. The cornea (medium $2$) is immersed in water (medium $1$).\nThe refractive index difference is given as $\\Delta n_{\\mathrm{water}} = n_{\\mathrm{cornea}} - n_{\\mathrm{water}} \\approx 0.05$.\nThe anterior corneal radius of curvature is given as $R = 7.8\\,\\mathrm{mm}$.\n\nTo calculate power in diopters ($D$), which are units of inverse meters ($\\mathrm{m}^{-1}$), we must express the radius of curvature in meters:\n$R = 7.8\\,\\mathrm{mm} = 7.8 \\times 10^{-3}\\,\\mathrm{m}$\n\nNow, we apply the surface power formula:\n$P_{\\mathrm{water}} = \\frac{\\Delta n_{\\mathrm{water}}}{R}$\n$P_{\\mathrm{water}} = \\frac{0.05}{7.8 \\times 10^{-3}\\,\\mathrm{m}}$\n\nThis calculation yields:\n$P_{\\mathrm{water}} = \\frac{0.05}{0.0078}\\,\\mathrm{m}^{-1} \\approx 6.410256... \\, D$\n\nThe problem requires the answer to be rounded to three significant figures.\n$P_{\\mathrm{water}} \\approx 6.41 \\, D$\n\nFor context, which is not required for the final answer, the power in air would be:\n$P_{\\mathrm{air}} = \\frac{\\Delta n_{\\mathrm{air}}}{R} = \\frac{0.33}{7.8 \\times 10^{-3}\\,\\mathrm{m}} \\approx 42.3 \\, D$\nThe ratio of underwater power to in-air power is $\\frac{6.41}{42.3} \\approx 0.15$, demonstrating the profound loss of corneal refractive power in an aquatic medium. This physical constraint necessitates the evolution of a powerful, nearly spherical lens in aquatic vertebrates to achieve focus, a classic example of convergent evolution driven by the laws of optics.\nThe final answer required is solely the numerical value for the underwater corneal power.", "answer": "$$\\boxed{6.41}$$", "id": "2562813"}, {"introduction": "Having established the physical challenge of aquatic vision, we now turn to the elegant solution that has evolved independently in multiple lineages. Both teleost fish and coleoid cephalopods convergently developed powerful, nearly spherical lenses to compensate for the cornea's reduced refractive role. This practice asks you to model the optics of such an eye, deriving the fundamental Gaussian imaging relation and applying it to calculate the performance of a typical fish eye [@problem_id:2562751]. This exercise connects the abstract principles of optics to the functional anatomy of a masterfully adapted biological system.", "problem": "Camera-type eyes evolved convergently in ray-finned teleost fish and coleoid cephalopods, yielding similar image-forming optics despite distinct embryological origins. In both lineages, the cornea contributes little optical power in aquatic media, and image formation is dominated by the lens. Consider an idealized fish eye whose lens can be modeled as a thin lens with effective focal length $f$ in water. A point-like object on the optical axis is located at distance $o$ from the lens. The retinal surface lies a distance $i$ behind the lens where a sharp image forms, and the absolute linear magnification is defined as $m = i/o$. \n\nStarting from Snell’s law $n_{1}\\sin\\theta_{1} = n_{2}\\sin\\theta_{2}$ and the paraxial (small-angle) approximation $\\sin\\theta \\approx \\theta$, use ray geometry and similar triangles to derive the Gaussian imaging relation for a thin lens that links $o$, $i$, and $f$ without assuming it a priori. Then, for a typical teleost fish eye with $f = 5\\,\\text{mm}$ viewing an object at $o = 1\\,\\text{m}$, compute:\n- the image distance $i$ behind the lens, expressed in $\\text{mm}$, and \n- the absolute linear magnification $m = i/o$ (dimensionless).\n\nProvide exact values; do not round. Your final answer should list the two quantities in the order $i$ (in $\\text{mm}$), then $m$, and the answer must be reported as a single two-entry row.", "solution": "The problem statement is subjected to validation before any solution is attempted.\n\nFirst, the givens are extracted verbatim:\n- Snell’s law: $n_{1}\\sin\\theta_{1} = n_{2}\\sin\\theta_{2}$\n- Paraxial approximation: $\\sin\\theta \\approx \\theta$\n- The lens is modeled as a thin lens with effective focal length $f$.\n- Object distance: $o$\n- Image distance: $i$\n- Absolute linear magnification: $m = i/o$\n- Objective 1: Derive the Gaussian imaging relation linking $o$, $i$, and $f$ using ray geometry and similar triangles, starting from the given physical principles.\n- Objective 2: For a teleost fish eye with $f = 5\\,\\text{mm}$ and an object at $o = 1\\,\\text{m}$, compute the image distance $i$ and the absolute linear magnification $m$.\n- Output format: a single two-entry row listing $i$ (in $\\text{mm}$) and $m$ (dimensionless), as exact values.\n\nSecond, the problem is validated against the required criteria.\n1.  **Scientific Groundedness**: The problem is based on the fundamental principles of geometrical optics, specifically the paraxial approximation and the thin lens model. These are standard, correct, and well-established concepts in physics.\n2.  **Well-Posedness**: The problem is clearly stated and contains all necessary information to perform the requested derivation and calculation. It requests a standard derivation followed by a calculation with specified parameters. A unique solution exists.\n3.  **Objectivity**: The problem is stated in precise, objective language without subjective or opinion-based claims.\n4.  **Completeness and Consistency**: The problem is self-contained. The values provided for focal length ($f = 5\\,\\text{mm}$) and object distance ($o = 1\\,\\text{m}$) are physically plausible for the context of a fish eye and are dimensionally consistent once converted to a common unit system. There are no contradictions.\n\nThe verdict is that the problem is **valid**. The solution will proceed.\n\nThe first task is to derive the Gaussian imaging relation, $\\frac{1}{o} + \\frac{1}{i} = \\frac{1}{f}$. The properties of a thin lens, particularly the existence of a focal length $f$, are a direct consequence of applying Snell's law ($n_{1}\\sin\\theta_{1} = n_{2}\\sin\\theta_{2}$) at the lens surfaces under the paraxial approximation ($\\sin\\theta \\approx \\theta \\approx \\tan\\theta$). Assuming the property that parallel incident rays converge at a single focal point a distance $f$ from the lens, we can use ray geometry to derive the imaging equation.\n\nConsider a point on an object of height $h_o$ located at a distance $o$ from the center of a thin convex lens. We trace two principal rays to locate the corresponding image point of height $h_i$ at a distance $i$.\n1.  A ray from the top of the object travels parallel to the optical axis. Upon passing through the lens, it is refracted to pass through the principal focal point $F$ on the image side, which is at a distance $f$ from the lens center.\n2.  A ray from the top of the object passes through the center of the thin lens. In the thin lens approximation, this ray continues undeviated.\n\nThe intersection of these two rays defines the location of the image. By constructing these rays, we can identify two pairs of similar triangles.\n\nLet the origin be at the center of the lens. The optical axis is the x-axis. The object is at $x = -o$ and the image is at $x = i$.\nFrom the undeviated ray passing through the center of the lens, we form two right triangles. One has vertices at $(-o, 0)$, $(-o, h_o)$, and $(0, 0)$. The other has vertices at $(i, 0)$, $(i, h_i)$, and $(0, 0)$. Note that a real image formed by a single convex lens is inverted, so $h_i$ is negative. For geometric ratios, we use the magnitudes of the heights, $|h_i|$ and $|h_o|$. These triangles are similar. From this similarity, we obtain the relation:\n$$\n\\frac{|h_i|}{h_o} = \\frac{i}{o}\n$$\n\nFrom the ray that is initially parallel to the axis, we form another pair of similar triangles. The first triangle is formed by the focal point $F$, the point $(i, 0)$ on the axis, and the image point $(i, h_i)$. Its base has length $i - f$ and its height is $|h_i|$. The second triangle is formed by the point where the parallel ray hits the lens $(0, h_o)$, the lens center $(0,0)$, and the focal point $F$ at $(f,0)$. Its base has length $f$ and its height is $h_o$. These two triangles are also similar. Therefore:\n$$\n\\frac{|h_i|}{h_o} = \\frac{i - f}{f}\n$$\n\nEquating the two expressions for the ratio of heights $\\frac{|h_i|}{h_o}$:\n$$\n\\frac{i}{o} = \\frac{i - f}{f}\n$$\nThis is the relation we must solve. We perform cross-multiplication:\n$$\ni f = o (i - f)\n$$\n$$\ni f = o i - o f\n$$\nTo obtain the canonical form, we divide the entire equation by the product $o i f$:\n$$\n\\frac{i f}{o i f} = \\frac{o i}{o i f} - \\frac{o f}{o i f}\n$$\n$$\n\\frac{1}{o} = \\frac{1}{f} - \\frac{1}{i}\n$$\nRearranging the terms gives the Gaussian imaging relation:\n$$\n\\frac{1}{o} + \\frac{1}{i} = \\frac{1}{f}\n$$\nThis completes the derivation.\n\nThe second task is to compute the image distance $i$ and the absolute linear magnification $m = i/o$ for the given parameters.\nThe givens are:\n- Focal length: $f = 5\\,\\text{mm}$\n- Object distance: $o = 1\\,\\text{m}$\n\nIt is necessary to work with consistent units. We will convert all lengths to millimeters ($\\text{mm}$).\n$$\nf = 5\\,\\text{mm}\n$$\n$$\no = 1\\,\\text{m} = 1000\\,\\text{mm}\n$$\nWe use the derived imaging relation to solve for $i$:\n$$\n\\frac{1}{i} = \\frac{1}{f} - \\frac{1}{o}\n$$\nSubstituting the numerical values:\n$$\n\\frac{1}{i} = \\frac{1}{5} - \\frac{1}{1000}\n$$\nTo subtract the fractions, we find a common denominator, which is $1000$:\n$$\n\\frac{1}{i} = \\frac{200}{1000} - \\frac{1}{1000}\n$$\n$$\n\\frac{1}{i} = \\frac{199}{1000}\n$$\nInverting this expression gives the image distance $i$:\n$$\ni = \\frac{1000}{199}\\,\\text{mm}\n$$\nThis is an exact value as required.\n\nNext, we compute the absolute linear magnification, defined in the problem as $m = i/o$.\n$$\nm = \\frac{i}{o} = \\frac{\\frac{1000}{199}\\,\\text{mm}}{1000\\,\\text{mm}}\n$$\n$$\nm = \\frac{1000}{199} \\cdot \\frac{1}{1000}\n$$\n$$\nm = \\frac{1}{199}\n$$\nThis value is dimensionless and exact, as required.\n\nThe final results are $i = \\frac{1000}{199}\\,\\text{mm}$ and $m = \\frac{1}{199}$.", "answer": "$$\n\\boxed{\\begin{pmatrix} \\frac{1000}{199} & \\frac{1}{199} \\end{pmatrix}}\n$$", "id": "2562751"}, {"introduction": "The intricate design of the camera-type eye often prompts questions about the feasibility of its evolution through gradual, incremental steps. This final practice directly addresses this \"problem of complexity\" by tasking you with building a computational model inspired by the seminal work of Nilsson and Pelger. By combining principles of optics and population genetics, you will estimate the number of generations required to evolve a complex eye from a simple photoreceptive patch [@problem_id:2562812]. This exercise provides a powerful, quantitative intuition for how natural selection can build sophisticated structures over geological time.", "problem": "Construct a program that formalizes a minimal, first-principles model of repeated small adaptive morphological changes leading from a flat photoreceptive patch to a camera-type eye and estimates the number of generations required for this transformation under directional selection. The model must adopt the following foundational bases without invoking any pre-derived end formulas.\n\n1. Repeated proportional changes compound multiplicatively. If a trait value undergoes repeated proportional increases of size $r$ per successful morphological change (for example, curvature or aperture increasing by $r$ of its current value), then after $n$ successful changes the new value is the initial value multiplied by $(1+r)^n$.\n\n2. In the deterministic limit of the Wright–Fisher (WF) model of selection, the frequency $p$ of a beneficial allele with selection coefficient $s$ changes over generations $g$ according to the logistic differential equation $\\dfrac{dp}{dg} = s\\,p\\,(1-p)$.\n\n3. A successful morphological change corresponds to fixation of a beneficial allelic variant. Assume diploid inheritance with an effective population size $N$ so that a new mutation arises at initial frequency $p_i = \\dfrac{1}{2N}$ and is considered fixed when $p_f = 1 - \\dfrac{1}{2N}$.\n\nYour task is to implement the following specification.\n\n- Define a simplified optical performance index as the product of two independently controllable morphological traits: surface curvature $C$ (in $\\text{mm}^{-1}$) and aperture diameter $A$ (in $\\text{mm}$). The index $I$ is defined as $I = C \\times A$. This choice is justified as a minimal multiplicative proxy in which increased focusing power (related to curvature) and light-gathering capacity (related to aperture) both increase overall performance.\n\n- A single morphological step is defined as a successful $r$-fractional increase applied simultaneously to both $C$ and $A$. That is, after each step, $C \\leftarrow C\\,(1+r)$ and $A \\leftarrow A\\,(1+r)$. Because both traits change in lockstep, the number of morphological steps required to reach targets is the maximum of the steps required for $C$ and $A$ individually. If a target is already met or exceeded for a trait, the required steps for that trait is zero.\n\n- For each test case, compute:\n  1) The integer number of morphological steps $n_{\\text{steps}}$ required so that $C \\ge C_{\\text{target}}$ and $A \\ge A_{\\text{target}}$, using only multiplicative compounding from an initial state $(C_0, A_0)$ with per-step fractional change $r$.\n  2) The expected number of generations per successful step, $t_{\\text{fix}}$, by integrating the WF logistic equation from $p_i = \\dfrac{1}{2N}$ to $p_f = 1 - \\dfrac{1}{2N}$ for a constant selection coefficient $s$.\n  3) The total number of generations required, $G_{\\text{total}} = n_{\\text{steps}} \\times t_{\\text{fix}}$, returned as an integer by rounding up to the nearest generation.\n\n- Angle units are not used. All physical quantities must be in the stated units above. The requested output is an integer number of generations.\n\nImplement your program with the following fixed test suite. Each test case is a tuple of parameters $(C_0, A_0, C_{\\text{target}}, A_{\\text{target}}, s, N)$, where $C_0$ and $C_{\\text{target}}$ are in $\\text{mm}^{-1}$, $A_0$ and $A_{\\text{target}}$ are in $\\text{mm}$, $s$ is dimensionless, and $N$ is the effective population size:\n- Test 1: (C_0 = 0.02, A_0 = 0.2, C_target = 1.0, A_target = 1.0, s = 0.01, N = 100000)\n- Test 2: (C_0 = 0.02, A_0 = 0.2, C_target = 1.0, A_target = 1.0, s = 0.002, N = 100000)\n- Test 3: (C_0 = 0.9, A_0 = 0.05, C_target = 1.0, A_target = 1.0, s = 0.02, N = 10000)\n- Test 4: (C_0 = 1.0, A_0 = 1.0, C_target = 1.0, A_target = 1.0, s = 0.01, N = 1000)\n- Test 5: (C_0 = 0.01, A_0 = 0.5, C_target = 0.5, A_target = 0.6, s = 0.05, N = 500)\n\nUse a fixed per-step fractional change $r = 0.01$ (corresponding to a one-hundredth proportional increase per successful step).\n\nRequirements for the final output format:\n- Your program should produce a single line of output containing the total generations for each test case, each as an integer, aggregated as a comma-separated list enclosed in square brackets, for example: \"[x1,x2,x3,x4,x5]\".", "solution": "The problem statement requires the construction of a first-principles model to estimate the number of generations for a flat photoreceptive patch to evolve into a camera-type eye through a series of small, successive morphological improvements. The validity of this problem must be established before a solution is attempted.\n\nFirst, the givens are extracted verbatim.\n1.  **Multiplicative Compounding**: A trait value undergoing $n$ repeated proportional increases of size $r$ changes from an initial value to InitialValue $\\times (1+r)^n$.\n2.  **Selection Dynamics**: The frequency $p$ of a beneficial allele with selection coefficient $s$ changes over generations $g$ according to the logistic differential equation $\\dfrac{dp}{dg} = s\\,p\\,(1-p)$.\n3.  **Fixation Definition**: A new mutation in a diploid population of effective size $N$ arises at initial frequency $p_i = \\dfrac{1}{2N}$ and is fixed at $p_f = 1 - \\dfrac{1}{2N}$.\n4.  **Optical Performance Index**: $I = C \\times A$, where $C$ is surface curvature ($\\text{mm}^{-1}$) and $A$ is aperture diameter ($\\text{mm}$).\n5.  **Morphological Step**: A single step is an $r$-fractional increase to both $C$ and $A$ simultaneously. The total number of steps is the maximum required for either trait to reach its target. If a target is met or exceeded, the steps required for that trait is zero.\n6.  **Calculation Schema**: Compute $n_{\\text{steps}}$, then $t_{\\text{fix}}$ (generations per step), then $G_{\\text{total}} = n_{\\text{steps}} \\times t_{\\text{fix}}$, rounded up.\n7.  **Fixed Parameter**: The per-step fractional change is $r = 0.01$.\n8.  **Test Suite**:\n    - Test $1$: $(\\,C_0 = 0.02,\\, A_0 = 0.2,\\, C_{\\text{target}} = 1.0,\\, A_{\\text{target}} = 1.0,\\, s = 0.01,\\, N = 100000\\,)$\n    - Test $2$: $(\\,C_0 = 0.02,\\, A_0 = 0.2,\\, C_{\\text{target}} = 1.0,\\, A_{\\text{target}} = 1.0,\\, s = 0.002,\\, N = 100000\\,)$\n    - Test $3$: $(\\,C_0 = 0.9,\\, A_0 = 0.05,\\, C_{\\text{target}} = 1.0,\\, A_{\\text{target}} = 1.0,\\, s = 0.02,\\, N = 10000\\,)$\n    - Test $4$: $(\\,C_0 = 1.0,\\, A_0 = 1.0,\\, C_{\\text{target}} = 1.0,\\, A_{\\text{target}} = 1.0,\\, s = 0.01,\\, N = 1000\\,)$\n    - Test $5$: $(\\,C_0 = 0.01,\\, A_0 = 0.5,\\, C_{\\text{target}} = 0.5,\\, A_{\\text{target}} = 0.6,\\, s = 0.05,\\, N = 500\\,)$\n\nSecond, the problem is validated. The model is scientifically grounded, using standard principles from population genetics (Wright-Fisher model) and mathematics (multiplicative compounding). It is a simplified but well-accepted approach for modeling cumulative selection, famously used in studies of eye evolution. The problem is well-posed, providing all necessary parameters and definitions for a unique, deterministic solution. The language is objective and precise. No flaws related to scientific soundness, formalizability, completeness, feasibility, or structure are present. The problem is therefore deemed **valid**.\n\nThe solution is constructed in three parts as specified.\n\nPart $1$: Calculation of the number of morphological steps, $n_{\\text{steps}}$.\nA morphological step consists of a simultaneous update to curvature $C$ and aperture $A$: $C \\to C\\,(1+r)$ and $A \\to A\\,(1+r)$. We must find the minimum integer number of steps, $n_C$ and $n_A$, required for each trait to meet or exceed its target. The total number of steps, $n_{\\text{steps}}$, is the maximum of these two values.\nFor curvature, starting from $C_0$, after $n_C$ steps, the new value is $C_0\\,(1+r)^{n_C}$. We require $C_0\\,(1+r)^{n_C} \\ge C_{\\text{target}}$. If $C_{\\text{target}} \\le C_0$, no steps are needed, so $n_C=0$. Otherwise, for $C_{\\text{target}} > C_0$, we solve for $n_C$:\n$$ (1+r)^{n_C} \\ge \\frac{C_{\\text{target}}}{C_0} $$\n$$ n_C \\ln(1+r) \\ge \\ln\\left(\\frac{C_{\\text{target}}}{C_0}\\right) $$\n$$ n_C \\ge \\frac{\\ln(C_{\\text{target}}/C_0)}{\\ln(1+r)} $$\nSince $n_C$ must be an integer, we take the ceiling of this value. The same logic applies to aperture $A$. Thus, we have:\n$$ n_C = \\begin{cases} \\lceil \\frac{\\ln(C_{\\text{target}}/C_0)}{\\ln(1+r)} \\rceil & \\text{if } C_{\\text{target}} > C_0 \\\\ 0 & \\text{if } C_{\\text{target}} \\le C_0 \\end{cases} $$\n$$ n_A = \\begin{cases} \\lceil \\frac{\\ln(A_{\\text{target}}/A_0)}{\\ln(1+r)} \\rceil & \\text{if } A_{\\text{target}} > A_0 \\\\ 0 & \\text{if } A_{\\text{target}} \\le A_0 \\end{cases} $$\nThe total number of steps is $n_{\\text{steps}} = \\max(n_C, n_A)$.\n\nPart $2$: Calculation of the fixation time, $t_{\\text{fix}}$.\nThis is the number of generations required for one successful morphological step, which corresponds to the fixation of a single beneficial allele. We are given the deterministic limit of the Wright-Fisher model: $\\frac{dp}{dg} = s\\,p\\,(1-p)$. To find the time $t_{\\text{fix}}$ for the allele frequency $p$ to go from $p_i$ to $p_f$, we must solve this differential equation. It is separable:\n$$ dg = \\frac{1}{s} \\frac{dp}{p(1-p)} $$\nWe integrate from $g=0$ to $g=t_{\\text{fix}}$ and from $p=p_i$ to $p=p_f$:\n$$ \\int_0^{t_{\\text{fix}}} dg = \\frac{1}{s} \\int_{p_i}^{p_f} \\frac{dp}{p(1-p)} $$\nUsing partial fraction decomposition, $\\frac{1}{p(1-p)} = \\frac{1}{p} + \\frac{1}{1-p}$. The integral becomes:\n$$ t_{\\text{fix}} = \\frac{1}{s} \\left[ \\ln|p| - \\ln|1-p| \\right]_{p_i}^{p_f} = \\frac{1}{s} \\left[ \\ln\\left(\\frac{p}{1-p}\\right) \\right]_{p_i}^{p_f} $$\n$$ t_{\\text{fix}} = \\frac{1}{s} \\left( \\ln\\left(\\frac{p_f}{1-p_f}\\right) - \\ln\\left(\\frac{p_i}{1-p_i}\\right) \\right) = \\frac{1}{s} \\ln\\left( \\frac{p_f(1-p_i)}{p_i(1-p_f)} \\right) $$\nWe are given $p_i = \\frac{1}{2N}$ and $p_f = 1 - \\frac{1}{2N}$. Substituting these gives:\n$$ 1 - p_i = 1 - \\frac{1}{2N} = p_f $$\n$$ 1 - p_f = 1 - \\left(1 - \\frac{1}{2N}\\right) = \\frac{1}{2N} = p_i $$\nThe argument of the logarithm becomes $\\frac{(1 - 1/(2N))(1 - 1/(2N))}{(1/(2N))(1/(2N))} = \\frac{((2N-1)/(2N))^2}{(1/(2N))^2} = (2N-1)^2$.\nSo, the fixation time is:\n$$ t_{\\text{fix}} = \\frac{1}{s} \\ln\\left( (2N - 1)^2 \\right) = \\frac{2}{s} \\ln(2N - 1) $$\n\nPart $3$: Calculation of the total generations, $G_{\\text{total}}$.\nThe total number of generations is the product of the number of steps and the time per step, rounded up to the nearest integer.\n$$ G_{\\text{total}} = \\lceil n_{\\text{steps}} \\times t_{\\text{fix}} \\rceil $$\nThese three parts provide the complete algorithm required to solve the problem for each test case.", "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the eye evolution model problem for a given set of test cases.\n    \"\"\"\n    # Fixed per-step fractional change r\n    r = 0.01\n\n    # Test cases: (C0, A0, C_target, A_target, s, N)\n    test_cases = [\n        # Test 1\n        (0.02, 0.2, 1.0, 1.0, 0.01, 100000),\n        # Test 2\n        (0.02, 0.2, 1.0, 1.0, 0.002, 100000),\n        # Test 3\n        (0.9, 0.05, 1.0, 1.0, 0.02, 10000),\n        # Test 4\n        (1.0, 1.0, 1.0, 1.0, 0.01, 1000),\n        # Test 5\n        (0.01, 0.5, 0.5, 0.6, 0.05, 500)\n    ]\n\n    results = []\n    for case in test_cases:\n        C0, A0, C_target, A_target, s, N = case\n\n        # Part 1: Calculate the number of morphological steps, n_steps\n        \n        # Calculate steps for curvature C\n        if C_target > C0:\n            n_C = np.ceil(np.log(C_target / C0) / np.log(1 + r))\n        else:\n            n_C = 0\n\n        # Calculate steps for aperture A\n        if A_target > A0:\n            n_A = np.ceil(np.log(A_target / A0) / np.log(1 + r))\n        else:\n            n_A = 0\n        \n        # Total steps is the maximum of the two\n        n_steps = max(n_C, n_A)\n\n        # Part 2: Calculate the fixation time, t_fix\n        # t_fix = (2/s) * ln(2N - 1)\n        # Avoid calculation if n_steps is 0 to prevent unnecessary computation\n        if n_steps == 0:\n            t_fix = 0\n        else:\n            # The problem is defined for s > 0 and N >= 1\n            t_fix = (2 / s) * np.log(2 * N - 1)\n\n        # Part 3: Calculate total generations, G_total\n        # G_total = ceil(n_steps * t_fix)\n        G_total = np.ceil(n_steps * t_fix)\n        \n        results.append(int(G_total))\n\n    # Print the final results in the specified format\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```", "id": "2562812"}]}