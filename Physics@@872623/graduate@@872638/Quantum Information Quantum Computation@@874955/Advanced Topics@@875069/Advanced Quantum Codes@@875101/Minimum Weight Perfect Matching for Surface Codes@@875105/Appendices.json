{"hands_on_practices": [{"introduction": "Before we can match defects, we must first understand how they arise from physical errors. This exercise walks you through the complete process, starting from a specific physical error event involving Pauli $X$ and $Y$ operators on adjacent data qubits. You will determine the resulting syndrome pattern—the set of violated Z-stabilizers—and then calculate the total weight of the minimum weight perfect matching for these defects, solidifying the connection between physical noise and the abstract decoding graph [@problem_id:101935].", "problem": "In the context of quantum error correction with surface codes, consider a 2D square lattice where data qubits are located at every integer coordinate pair $(i,j) \\in \\mathbb{Z}^2$. The error-detecting Z-type stabilizers, $S_Z$, are associated with the elementary plaquettes (faces) of this lattice. For a plaquette $p_{i,j}$ defined by the four corner qubits at $(i,j), (i+1,j), (i,j+1), (i+1,j+1)$, the corresponding stabilizer operator is $S_Z(p_{i,j}) = Z_{i,j}Z_{i+1,j}Z_{i,j+1}Z_{i+1,j+1}$, where $Z_{i,j}$ is the Pauli-Z operator on the qubit at $(i,j)$.\n\nSyndrome measurement detects errors. A plaquette is flagged as a 'defect' if its stabilizer measurement outcome is $-1$. A single Pauli-X error or Pauli-Y error on a data qubit at $(i,j)$ anticommutes with (and thus flips the measurement outcome of) all four Z-stabilizers associated with plaquettes that share the qubit $(i,j)$ as a corner. If a plaquette is affected by two such errors, the effects cancel ($(-1) \\times (-1) = 1$), and it is not a final defect. For decoding, we identify each defect by the coordinates of the center of its plaquette, $(i+1/2, j+1/2)$.\n\nSuppose a specific error event occurs, consisting of a single physical Y-error on the data qubit at location $q_Y = (0,0)$ and a single physical X-error on the adjacent data qubit at location $q_X = (0,1)$.\n\nThe classical decoding procedure involves constructing a complete graph where the vertices are the defect locations. The weight of an edge connecting two defects at $(x_1, y_1)$ and $(x_2, y_2)$ is their Manhattan distance, $w = |x_1 - x_2| + |y_1 - y_2|$. The most probable error chain is inferred by finding the Minimum Weight Perfect Matching (MWPM) on this graph.\n\nCalculate the total weight of the MWPM for the set of Z-stabilizer defects generated by this combined error event.", "solution": "The error event consists of a Y-error on qubit at (0,0) and an X-error on qubit at (0,1). Both types of errors anticommute with Z-stabilizers that include the affected qubit, flipping the syndrome measurement outcome to $-1$ for an odd number of errors on the stabilizer.\n\nThe Z-stabilizers (plaquettes) sharing the qubit (0,0) are:\n- $p_{-1,-1}$: corners $(-1,-1)$, $(0,-1)$, $(-1,0)$, $(0,0)$\n- $p_{-1,0}$: corners $(-1,0)$, $(0,0)$, $(-1,1)$, $(0,1)$\n- $p_{0,-1}$: corners $(0,-1)$, $(1,-1)$, $(0,0)$, $(1,0)$\n- $p_{0,0}$: corners $(0,0)$, $(1,0)$, $(0,1)$, $(1,1)$\n\nThe Z-stabilizers sharing the qubit (0,1) are:\n- $p_{-1,0}$: corners $(-1,0)$, $(0,0)$, $(-1,1)$, $(0,1)$\n- $p_{-1,1}$: corners $(-1,1)$, $(0,1)$, $(-1,2)$, $(0,2)$\n- $p_{0,0}$: corners $(0,0)$, $(1,0)$, $(0,1)$, $(1,1)$\n- $p_{0,1}$: corners $(0,1)$, $(1,1)$, $(0,2)$, $(1,2)$\n\nThe combined set of affected plaquettes is $p_{-1,-1}$, $p_{-1,0}$, $p_{0,-1}$, $p_{0,0}$, $p_{-1,1}$, $p_{0,1}$. The defect status (syndrome $-1$) occurs when the number of errors affecting a plaquette is odd:\n- $p_{-1,-1}$: affected only by Y-error at (0,0) → one error → defect\n- $p_{-1,0}$: affected by Y-error at (0,0) and X-error at (0,1) → two errors → no defect\n- $p_{0,-1}$: affected only by Y-error at (0,0) → one error → defect\n- $p_{0,0}$: affected by Y-error at (0,0) and X-error at (0,1) → two errors → no defect\n- $p_{-1,1}$: affected only by X-error at (0,1) → one error → defect\n- $p_{0,1}$: affected only by X-error at (0,1) → one error → defect\n\nDefects occur at plaquettes $p_{-1,-1}$, $p_{0,-1}$, $p_{-1,1}$, $p_{0,1}$. The center of a plaquette $p_{i,j}$ is at $(i + \\frac{1}{2}, j + \\frac{1}{2})$:\n- $p_{-1,-1}$: $\\left(-1 + \\frac{1}{2}, -1 + \\frac{1}{2}\\right) = \\left(-\\frac{1}{2}, -\\frac{1}{2}\\right)$\n- $p_{0,-1}$: $\\left(0 + \\frac{1}{2}, -1 + \\frac{1}{2}\\right) = \\left(\\frac{1}{2}, -\\frac{1}{2}\\right)$\n- $p_{-1,1}$: $\\left(-1 + \\frac{1}{2}, 1 + \\frac{1}{2}\\right) = \\left(-\\frac{1}{2}, \\frac{3}{2}\\right)$\n- $p_{0,1}$: $\\left(0 + \\frac{1}{2}, 1 + \\frac{1}{2}\\right) = \\left(\\frac{1}{2}, \\frac{3}{2}\\right)$\n\nDefect coordinates are:\n- $A = \\left(-\\frac{1}{2}, -\\frac{1}{2}\\right)$\n- $B = \\left(\\frac{1}{2}, -\\frac{1}{2}\\right)$\n- $C = \\left(-\\frac{1}{2}, \\frac{3}{2}\\right)$\n- $D = \\left(\\frac{1}{2}, \\frac{3}{2}\\right)$\n\nThe complete graph on these vertices has edge weights defined by Manhattan distance $w = |x_1 - x_2| + |y_1 - y_2|$. The minimum weight perfect matching (MWPM) for four vertices requires pairing into two edges. The possible matchings and weights are:\n\n1. Matching $A-B$ and $C-D$:\n   - $A$ to $B$: $\\left|-\\frac{1}{2} - \\frac{1}{2}\\right| + \\left|-\\frac{1}{2} - \\left(-\\frac{1}{2}\\right)\\right| = |-1| + |0| = 1 + 0 = 1$\n   - $C$ to $D$: $\\left|-\\frac{1}{2} - \\frac{1}{2}\\right| + \\left|\\frac{3}{2} - \\frac{3}{2}\\right| = |-1| + |0| = 1 + 0 = 1$\n   - Total weight: $1 + 1 = 2$\n\n2. Matching $A-C$ and $B-D$:\n   - $A$ to $C$: $\\left|-\\frac{1}{2} - \\left(-\\frac{1}{2}\\right)\\right| + \\left|-\\frac{1}{2} - \\frac{3}{2}\\right| = |0| + |-2| = 0 + 2 = 2$\n   - $B$ to $D$: $\\left|\\frac{1}{2} - \\frac{1}{2}\\right| + \\left|-\\frac{1}{2} - \\frac{3}{2}\\right| = |0| + |-2| = 0 + 2 = 2$\n   - Total weight: $2 + 2 = 4$\n\n3. Matching $A-D$ and $B-C$:\n   - $A$ to $D$: $\\left|-\\frac{1}{2} - \\frac{1}{2}\\right| + \\left|-\\frac{1}{2} - \\frac{3}{2}\\right| = |-1| + |-2| = 1 + 2 = 3$\n   - $B$ to $C$: $\\left|\\frac{1}{2} - \\left(-\\frac{1}{2}\\right)\\right| + \\left|-\\frac{1}{2} - \\frac{3}{2}\\right| = |1| + |-2| = 1 + 2 = 3$\n   - Total weight: $3 + 3 = 6$\n\nThe minimum total weight is 2, achieved by matching $A$-$B$ and $C$-$D$.", "answer": "$$ \\boxed{2} $$", "id": "101935"}, {"introduction": "Real-world quantum computers have boundaries, and stabilizer measurements can sometimes fail, resulting in \"erasures.\" This practice introduces these crucial complexities into the decoding problem. You will learn how to adapt the MWPM framework to handle defects that can match to a boundary and how to incorporate erased stabilizer locations as additional vertices that must be included in the matching [@problem_id:101915].", "problem": "In the context of quantum error correction with surface codes, the Minimum Weight Perfect Matching (MWPM) algorithm is a standard method for decoding. This problem concerns the calculation of matching weights for a planar surface code defined on a 2D grid.\n\n**Background:**\n\n1.  **Planar Code Structure:** Consider a planar surface code whose qubits are arranged on a grid. The X-type stabilizers are associated with the vertices of this grid, located at integer coordinates $(i,j)$, where $0 \\le i \\le L_x$ and $0 \\le j \\le L_y$.\n\n2.  **Errors and Defects:** A string of Pauli-Z errors on data qubits creates a pair of \"Z-defects\" at the vertices corresponding to the endpoints of the string. A Z-defect is a measured eigenvalue of -1 for an X-stabilizer.\n\n3.  **Path Weight:** The weight of an error path connecting two vertices is given by their Manhattan distance. For vertices $v_a=(x_a, y_a)$ and $v_b=(x_b, y_b)$, the distance is $d(v_a, v_b) = |x_a - x_b| + |y_a - y_b|$. This weight represents the number of single-qubit Z-errors in the most likely error path.\n\n4.  **Decoding Model:** The decoder's goal is to find a \"perfect matching\" of defects that minimizes the total weight. Defects can be matched in pairs, or they can be matched to the code's boundary.\n    *   The weight of matching two defects $v_a$ and $v_b$ is $d(v_a, v_b)$.\n    *   The weight of matching a defect $v=(x,y)$ to the boundary $B$ is $d(v, B) = \\min(x, L_x-x, y, L_y-y)$.\n\n5.  **Measurement Erasures:** Sometimes, a stabilizer measurement outcome is lost. This is an \"erasure\". If an X-stabilizer measurement at vertex $v_e$ is erased, $v_e$ is treated as an additional defect that must be included in the matching procedure.\n\n**Problem Statement:**\n\nConsider a planar code with dimensions $L_x$ and $L_y$. In a round of stabilizer measurements, two Z-defects are detected at vertices $v_1 = (x_1, y_1)$ and $v_2 = (x_2, y_2)$. Additionally, one X-stabilizer measurement at vertex $v_e = (x_e, y_e)$ is erased.\n\nFirst, calculate the total weight of the optimal matching, $W_{\\text{no-e}}$, for the hypothetical case where only the two defects $(v_1, v_2)$ occurred, without any erasure. In this case, the decoder must either pair $v_1$ with $v_2$, or pair both $v_1$ and $v_2$ with the boundary.\n\nSecond, calculate the total weight of the optimal matching, $W_{\\text{with-e}}$, for the actual observed situation, which includes the two defects $(v_1, v_2)$ and the one erasure $v_e$. The set of locations to be matched is $\\{v_1, v_2, v_e\\}$. Since this set has an odd number of vertices, one of them must be matched to the boundary, while the other two are matched together.\n\nUsing the following parameters, calculate the change in the total matching weight caused by the measurement erasure, $\\Delta W = W_{\\text{with-e}} - W_{\\text{no-e}}$.\n\n**Parameters:**\n*   Code dimensions: $L_x = 20, L_y = 20$.\n*   Defect 1 location: $v_1 = (4, 8)$.\n*   Defect 2 location: $v_2 = (15, 7)$.\n*   Erased stabilizer location: $v_e = (10, 12)$.", "solution": "We have a planar code with dimensions $L_x,L_y$ and vertices $v_i=(x_i,y_i)$. The relevant weights are\n1.  Pairing two defects:\n\n$$\nd(v_a,v_b)=|x_a-x_b|+|y_a-y_b|.\n$$\n\n2.  Matching a defect to the boundary:\n\n$$\nd(v,B)=\\min\\bigl(x,\\,L_x-x,\\,y,\\,L_y-y\\bigr).\n$$\n\n\nDefine\n\n$$\nv_1=(4,8),\\quad v_2=(15,7),\\quad v_e=(10,12),\\quad L_x=L_y=20.\n$$\n\n\nCompute distances:\n\n$$\nd(v_1,v_2)=|4-15|+|8-7|=11+1=12,\n$$\n\n\n$$\nd(v_1,B)=\\min(4,20-4,8,20-8)=\\min(4,16,8,12)=4,\n$$\n\n\n$$\nd(v_2,B)=\\min(15,20-15,7,20-7)=\\min(15,5,7,13)=5,\n$$\n\n\n$$\nd(v_e,B)=\\min(10,20-10,12,20-12)=\\min(10,10,12,8)=8.\n$$\n\n\n1.  Without erasure, two defects $v_1,v_2$ can be matched together or each to the boundary:\n\n$$\nW_{\\text{no-e}}\n=\\min\\bigl(d(v_1,v_2),\\,d(v_1,B)+d(v_2,B)\\bigr)\n=\\min\\bigl(12,\\;4+5\\bigr)\n=\\min(12,9)=9.\n$$\n\n\n2.  With erasure $v_e$, three vertices $\\{v_1,v_2,v_e\\}$ must form one boundary match and one pair. Consider each choice:\n$$\n\\begin{aligned}\n&\\text{Boundary }v_1:\\;d(v_1,B)+d(v_2,v_e)=4+(|15-10|+|7-12|)=4+(5+5)=14,\\\\\n&\\text{Boundary }v_2:\\;d(v_2,B)+d(v_1,v_e)=5+(|4-10|+|8-12|)=5+(6+4)=15,\\\\\n&\\text{Boundary }v_e:\\;d(v_e,B)+d(v_1,v_2)=8+12=20.\n\\end{aligned}\n$$\n\nThus\n\n$$\nW_{\\text{with-e}}=\\min(14,15,20)=14.\n$$\n\n\nTherefore the change in weight is\n\n$$\n\\Delta W=W_{\\text{with-e}}-W_{\\text{no-e}}=14-9=5.\n$$", "answer": "$$\\boxed{5}$$", "id": "101915"}, {"introduction": "The ultimate goal of decoding is to prevent logical errors, but what happens when the decoder is misled? This final exercise explores a scenario where an MWPM decoder makes an incorrect inference, leading to a logical error. By analyzing this failure mode, you will uncover the fundamental relationship between the weight of the actual error chain, the decoder's choice, and the code distance $d$, providing deep insight into the conditions for fault-tolerant operation [@problem_id:82660].", "problem": "Consider a rotated planar surface code of distance $d$, where $d$ is an odd integer. The code's data qubits reside on the edges of a grid. The stabilizers are of two types: X-type star operators associated with vertices of one sublattice (say, white vertices on a checkerboard), and Z-type plaquette operators associated with the faces of the grid.\n\nA Pauli-Z error chain $E$ occurs on the data qubits. The resulting error syndrome is measured, and it is found that exactly two X-stabilizers, $S_A$ and $S_B$, are violated (i.e., their measurement outcome is -1). The vertices corresponding to $S_A$ and $S_B$ are adjacent in the grid, connected by a single edge which corresponds to data qubit $q_{AB}$.\n\nA standard minimum-weight perfect matching (MWPM) decoder is used to infer the error from the syndrome. To correct an error syndrome consisting of two defects, the decoder's default assumption is that the error occurred along the shortest path between the defects. In this case, it infers an error chain $E_{inf}$ consisting of a single Pauli-Z error on the qubit $q_{AB}$.\n\nHowever, this inference is incorrect. The actual error chain, $E_{actual}$, is different from $E_{inf}$, but creates the same syndrome. The combination of the actual error and the decoder's inferred correction, $E_{actual} \\cdot E_{inf}$, constitutes a non-trivial logical Z operator, $Z_L$, leading to a logical error.\n\nAssuming such a logical error has occurred, determine the minimum possible weight of the error chain $E_{actual}$. The weight of an error chain is the number of single-qubit Pauli operators it contains. Express your answer in terms of the code distance $d$.", "solution": "1. Let $E_{\\text{inf}}$ be the inferred chain (a single edge $q_{AB}$), so \n   \n                $$\n                   \\mathrm{wt}(E_{\\text{inf}}) = 1.\n                $$\n\n                   Let $C = E_{\\text{actual}} \\oplus E_{\\text{inf}}$ be the closed logical cycle, whose homology class is the nontrivial logical $Z$. By definition of the code distance,\n   \n                $$\n                   \\mathrm{wt}(C) = d.\n                $$\n\n                2. Since $E_{\\text{actual}} = C \\oplus E_{\\text{inf}}$, its weight satisfies\n   \n                $$\n                   \\mathrm{wt}(E_{\\text{actual}}) = \\mathrm{wt}(C) + \\mathrm{wt}(E_{\\text{inf}}) - 2|C \\cap E_{\\text{inf}}|.\n                $$\n\n                3. Maximizing the overlap $|C \\cap E_{\\text{inf}}| \\le 1$ minimizes $\\mathrm{wt}(E_{\\text{actual}})$. Taking $|C \\cap E_{\\text{inf}}| = 1$ gives\n   \n                $$\n                   \\mathrm{wt}(E_{\\text{actual}}) = d + 1 - 2 = d - 1.\n                $$\n\n                Hence the minimum possible weight of $E_{\\text{actual}}$ is $d-1$.", "answer": "$$\\boxed{d-1}$$", "id": "82660"}]}