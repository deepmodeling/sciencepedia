{"hands_on_practices": [{"introduction": "The power of the ray transfer matrix method lies in its modularity, allowing us to describe complex optical systems by combining simpler parts. This first exercise [@problem_id:2239919] is a fundamental building block where you will derive the total system matrix for a common setup: a thin lens between two regions of free space. Mastering this process of sequential matrix multiplication is the key to analyzing any paraxial optical system.", "problem": "In the field of paraxial optics, the propagation of a light ray through an optical system can be described using ray transfer matrix analysis, often called ABCD matrix analysis. A ray is characterized by a vector $\\begin{pmatrix} y \\\\ \\theta \\end{pmatrix}$, where $y$ is its distance from the optical axis and $\\theta$ is its angle with respect to the optical axis.\n\nConsider a simple optical system designed to manipulate a laser beam. The system consists of three components arranged along a common optical axis, all situated in a vacuum where the refractive index is $n=1$. A light ray first travels a distance $d_1$ through empty space. It then passes through a thin converging lens of focal length $f$. Finally, it travels another distance $d_2$ through empty space.\n\nDetermine the total ray transfer matrix for this entire system, from the initial position just before the first region of empty space to the final position just after the second region of empty space. Express the components of the matrix in terms of the parameters $d_1$, $d_2$, and $f$.", "solution": "The problem asks for the total ray transfer matrix of a system composed of three elements in sequence: a drift space of length $d_1$, a thin lens of focal length $f$, and a second drift space of length $d_2$.\n\nIn ray transfer matrix analysis, the transformation of a ray vector as it passes through an optical system is described by a $2 \\times 2$ matrix, often called the ABCD matrix. If a system is composed of multiple optical elements, the total matrix for the system is found by multiplying the matrices of the individual elements in the reverse order that the light encounters them.\n\nLet's denote the matrices for the three components as $M_1$, $M_f$, and $M_2$.\n\n**Step 1: Define the matrix for the first drift space.**\nThe first element is a region of empty space of length $d_1$. The ray transfer matrix for a drift space of length $d$ in a medium of refractive index $n=1$ is given by:\n$$ M_d = \\begin{pmatrix} 1  d \\\\ 0  1 \\end{pmatrix} $$\nTherefore, for the first drift space of length $d_1$, the matrix is:\n$$ M_1 = \\begin{pmatrix} 1  d_1 \\\\ 0  1 \\end{pmatrix} $$\n\n**Step 2: Define the matrix for the thin lens.**\nThe second element is a thin converging lens of focal length $f$. The ray transfer matrix for a thin lens is:\n$$ M_f = \\begin{pmatrix} 1  0 \\\\ -1/f  1 \\end{pmatrix} $$\nNote the negative sign in the lower-left element, which is characteristic of a converging lens (positive $f$).\n\n**Step 3: Define the matrix for the second drift space.**\nThe third element is another region of empty space, this time of length $d_2$. Its matrix is similar to the first drift space:\n$$ M_2 = \\begin{pmatrix} 1  d_2 \\\\ 0  1 \\end{pmatrix} $$\n\n**Step 4: Calculate the total system matrix.**\nThe total ray transfer matrix for the system, $M_{total}$, is the product of the individual matrices in reverse order of propagation: $M_{total} = M_2 M_f M_1$.\n\nFirst, we multiply $M_f$ and $M_1$:\n$$ M_f M_1 = \\begin{pmatrix} 1  0 \\\\ -1/f  1 \\end{pmatrix} \\begin{pmatrix} 1  d_1 \\\\ 0  1 \\end{pmatrix} $$\n$$ M_f M_1 = \\begin{pmatrix} (1)(1)+(0)(0)  (1)(d_1)+(0)(1) \\\\ (-1/f)(1)+(1)(0)  (-1/f)(d_1)+(1)(1) \\end{pmatrix} $$\n$$ M_f M_1 = \\begin{pmatrix} 1  d_1 \\\\ -1/f  1 - d_1/f \\end{pmatrix} $$\n\nNext, we pre-multiply this result by $M_2$ to find the total matrix $M_{total}$:\n$$ M_{total} = M_2 (M_f M_1) = \\begin{pmatrix} 1  d_2 \\\\ 0  1 \\end{pmatrix} \\begin{pmatrix} 1  d_1 \\\\ -1/f  1 - d_1/f \\end{pmatrix} $$\n$$ M_{total} = \\begin{pmatrix} (1)(1)+(d_2)(-1/f)  (1)(d_1)+(d_2)(1 - d_1/f) \\\\ (0)(1)+(1)(-1/f)  (0)(d_1)+(1)(1 - d_1/f) \\end{pmatrix} $$\n$$ M_{total} = \\begin{pmatrix} 1 - d_2/f  d_1 + d_2 - (d_1 d_2)/f \\\\ -1/f  1 - d_1/f \\end{pmatrix} $$\n\nLet's write the final matrix with common denominators for clarity:\n$$ M_{total} = \\begin{pmatrix} 1 - \\frac{d_2}{f}  d_1 + d_2 - \\frac{d_1 d_2}{f} \\\\ -\\frac{1}{f}  1 - \\frac{d_1}{f} \\end{pmatrix} $$\nThis is the final ABCD matrix for the described optical system. As a sanity check, the determinant of this matrix should be 1, since the refractive index is the same at the input and output planes.\n$det(M_{total}) = (1 - \\frac{d_2}{f})(1 - \\frac{d_1}{f}) - (d_1 + d_2 - \\frac{d_1 d_2}{f})(-\\frac{1}{f})$\n$det(M_{total}) = (1 - \\frac{d_1}{f} - \\frac{d_2}{f} + \\frac{d_1 d_2}{f^2}) - (-\\frac{d_1}{f} - \\frac{d_2}{f} + \\frac{d_1 d_2}{f^2})$\n$det(M_{total}) = 1 - \\frac{d_1}{f} - \\frac{d_2}{f} + \\frac{d_1 d_2}{f^2} + \\frac{d_1}{f} + \\frac{d_2}{f} - \\frac{d_1 d_2}{f^2} = 1$\nThe determinant is indeed 1, confirming the correctness of the derivation.", "answer": "$$ \\boxed{ \\begin{pmatrix} 1 - \\frac{d_2}{f}  d_1 + d_2 - \\frac{d_1 d_2}{f} \\\\ -\\frac{1}{f}  1 - \\frac{d_1}{f} \\end{pmatrix} } $$", "id": "2239919"}, {"introduction": "Ray transfer matrices are more than just a calculation tool; they encode deep physical principles. This practice [@problem_id:2239907] demonstrates this by challenging you to find the condition for point-to-point imaging, which dictates that a ray's final position must be independent of its initial angle. By setting the appropriate element of the system matrix to zero, you will connect the abstract formalism to the tangible reality of forming a sharp image and derive a familiar result from a new perspective.", "problem": "An engineer is designing a biomedical imaging probe. The tip of the probe, which is inserted into a saline solution, consists of a small spherical lens. This lens is the polished end of an optical fiber. For the purpose of this analysis, the system can be modeled as a single spherical refracting surface with a radius of curvature $R$. This surface separates the external saline solution, with a refractive index $n_1$, from the core material of the optical fiber, which has an unknown refractive index $n_2$. Light travels from the saline solution into the fiber.\n\nThe analysis is to be performed using the paraxial ray transfer matrix method. In this formalism, a ray at a given plane perpendicular to the optical axis is described by a state vector $\\begin{pmatrix} y \\\\ \\nu \\end{pmatrix}$, where $y$ is the ray's perpendicular distance from the optical axis and $\\nu = n\\alpha$ is the \"optical angle.\" Here, $n$ is the refractive index of the medium and $\\alpha$ is the small angle the ray makes with the optical axis.\n\nThe transfer matrices for translation and refraction are given as:\n1.  Translation through a distance $d$ in a medium of refractive index $n$: $T(d, n) = \\begin{pmatrix} 1  d/n \\\\ 0  1 \\end{pmatrix}$.\n2.  Refraction at a spherical surface of radius $R_c$ separating a medium with index $n_a$ from a medium with index $n_b$: $M_{ref} = \\begin{pmatrix} 1  0 \\\\ -(n_b-n_a)/R_c  1 \\end{pmatrix}$.\n\nThe design requires that an object (e.g., a biological cell) located on the optical axis at a distance $s_o$ from the surface in the saline solution forms a sharp image on the optical axis at a distance $s_i$ inside the optical fiber. The physical condition for such point-to-point imaging is that the final height of a ray at the image plane must depend only on its initial height at the object plane, and be independent of its initial angle.\n\nGiven the following parameters:\n- Refractive index of the saline solution, $n_1 = 1.33$.\n- Object distance, $s_o = 4.00$ mm.\n- Image distance, $s_i = 9.00$ mm.\n- Radius of curvature of the convex surface, $R = 1.00$ mm (the center of curvature is inside the fiber).\n\nCalculate the required refractive index, $n_2$, of the optical fiber core. Round your final answer to three significant figures.", "solution": "We adopt the paraxial ray-transfer formalism with state vector $\\begin{pmatrix} y \\\\ \\nu \\end{pmatrix}$, where $\\nu=n\\alpha$. A translation by $d$ in index $n$ is $T(d,n)=\\begin{pmatrix} 1  d/n \\\\ 0  1 \\end{pmatrix}$, and refraction at a spherical surface of radius $R$ from $n_{1}$ to $n_{2}$ is $M_{ref}=\\begin{pmatrix} 1  0 \\\\ -(n_{2}-n_{1})/R  1 \\end{pmatrix}$. The light travels from the saline ($n_{1}$) to the fiber ($n_{2}$). The radius $R$ is taken positive because the center of curvature lies inside the fiber, i.e., to the right along the propagation direction.\n\nFrom the object plane to the image plane, the total system matrix is\n$$\nM \\;=\\; T(s_{i},n_{2})\\,M_{ref}\\,T(s_{o},n_{1})\n\\;=\\;\n\\begin{pmatrix} 1  s_{i}/n_{2} \\\\ 0  1 \\end{pmatrix}\n\\begin{pmatrix} 1  0 \\\\ -\\dfrac{n_{2}-n_{1}}{R}  1 \\end{pmatrix}\n\\begin{pmatrix} 1  s_{o}/n_{1} \\\\ 0  1 \\end{pmatrix}.\n$$\nCompute the product step by step. First,\n$$\nM_{ref}\\,T(s_{o},n_{1})\n=\n\\begin{pmatrix}\n1  s_{o}/n_{1} \\\\\n-\\dfrac{n_{2}-n_{1}}{R}  1 - \\dfrac{(n_{2}-n_{1})\\,s_{o}}{R\\,n_{1}}\n\\end{pmatrix}.\n$$\nThen,\n$$\nM\n=\n\\begin{pmatrix}\n1 - \\dfrac{s_{i}}{n_{2}}\\dfrac{n_{2}-n_{1}}{R} \n\\dfrac{s_{o}}{n_{1}} + \\dfrac{s_{i}}{n_{2}}\\left(1 - \\dfrac{(n_{2}-n_{1})\\,s_{o}}{R\\,n_{1}}\\right)\n\\\\\n-\\dfrac{n_{2}-n_{1}}{R} \n1 - \\dfrac{(n_{2}-n_{1})\\,s_{o}}{R\\,n_{1}}\n\\end{pmatrix}.\n$$\nIf $\\begin{pmatrix} y_{o} \\\\ \\nu_{o} \\end{pmatrix}$ is mapped to $\\begin{pmatrix} y_{i} \\\\ \\nu_{i} \\end{pmatrix}$ via $M$, then $y_{i} = A\\,y_{o} + B\\,\\nu_{o}$. Point-to-point imaging requires that $y_{i}$ be independent of $\\nu_{o}$, hence the condition $B=0$. Therefore,\n$$\n\\frac{s_{o}}{n_{1}} + \\frac{s_{i}}{n_{2}}\\left(1 - \\frac{(n_{2}-n_{1})\\,s_{o}}{R\\,n_{1}}\\right) \\;=\\; 0.\n$$\nMultiply by $n_{2}$ and rearrange:\n$$\n\\frac{s_{o} n_{2}}{n_{1}} + s_{i} - \\frac{s_{i}s_{o}}{R\\,n_{1}}(n_{2}-n_{1}) \\;=\\; 0,\n$$\nwhich yields\n$$\n\\frac{n_{2}-n_{1}}{R} \\;=\\; \\frac{n_{2}}{s_{i}} + \\frac{n_{1}}{s_{o}}.\n$$\nSolving this for $n_{2}$ gives\n$$\nn_{2}\n= \\frac{ - s_{i} n_{1} \\left(\\dfrac{1}{s_{o}} + \\dfrac{1}{R}\\right) }{ 1 - \\dfrac{s_{i}}{R} }\n= \\frac{ - s_{i} n_{1} (R + s_{o}) }{ s_{o} (R - s_{i}) }.\n$$\nNow substitute the given numerical values $n_{1}=1.33$, $s_{o}=4.00\\,\\text{mm}$, $s_{i}=9.00\\,\\text{mm}$, $R=1.00\\,\\text{mm}$:\n$$\nn_{2}\n= \\frac{ - (9.00)\\,(1.33)\\,(1.00 + 4.00) }{ (4.00)\\,(1.00 - 9.00) }\n= \\frac{ - 9.00 \\times 1.33 \\times 5.00 }{ 4.00 \\times (-8.00) }\n= \\frac{59.85}{32.00}\n\\approx 1.8703125.\n$$\nRounded to three significant figures, $n_{2} \\approx 1.87$.", "answer": "$$\\boxed{1.87}$$", "id": "2239907"}, {"introduction": "Now, let's apply these skills to a complete, practical scenario involving a modern optical component. In this problem [@problem_id:2239872], you will trace a specific ray through a multi-element system that includes a Graded-Index (GRIN) lens, an element crucial in fields like fiber optics and endoscopy. This exercise will test your ability to construct a total system matrix and use it to predict a ray's final state, bridging the gap between abstract theory and concrete numerical application.", "problem": "An optical engineer is designing a compact focusing system. Within the paraxial approximation, the state of a light ray at a given plane perpendicular to the optical axis can be described by a column vector $\\begin{pmatrix} y \\\\ \\theta \\end{pmatrix}$, where $y$ is the ray's height from the optical axis and $\\theta$ is its angle with respect to the optical axis. The effect of an optical system on the ray is described by a $2 \\times 2$ ray transfer matrix $M$, such that $\\begin{pmatrix} y_{out} \\\\ \\theta_{out} \\end{pmatrix} = M \\begin{pmatrix} y_{in} \\\\ \\theta_{in} \\end{pmatrix}$.\n\nThe system consists of three components arranged consecutively:\n1.  A propagation through a length $L_1$ of free space (refractive index $n=1$). The ray transfer matrix for this is $M_{space} = \\begin{pmatrix} 1  L \\\\ 0  1 \\end{pmatrix}$.\n2.  A Graded-Index (GRIN) lens of length $L_2$. The refractive index of this lens varies with the distance from the axis as $n(y) = n_0(1 - \\frac{1}{2} A y^2)$. Its ray transfer matrix is given by $M_{GRIN} = \\begin{pmatrix} \\cos(\\sqrt{A}L)  \\frac{1}{n_0 \\sqrt{A}}\\sin(\\sqrt{A}L) \\\\ -n_0 \\sqrt{A}\\sin(\\sqrt{A}L)  \\cos(\\sqrt{A}L) \\end{pmatrix}$.\n3.  A final propagation through a length $L_3$ of free space.\n\nThe parameters for the system are:\n-   First free space length, $L_1 = 5.0$ mm.\n-   GRIN lens length, $L_2 = 10.0$ mm.\n-   GRIN lens on-axis refractive index, $n_0 = 1.6$.\n-   GRIN lens gradient coefficient, $A = \\left(\\frac{\\pi}{40}\\right)^2 \\text{ mm}^{-2}$.\n-   Second free space length, $L_3 = 2.0$ mm.\n\nA ray enters the system at the first component with an initial height $y_{in} = 2.0$ mm and an initial angle $\\theta_{in} = -0.01$ radians.\n\nDetermine the final ray height $y_{out}$ and the final ray angle $\\theta_{out}$ as it exits the system. Express your answer as a pair of numerical values, with $y_{out}$ in mm and $\\theta_{out}$ in radians. Round your final numerical answers to three significant figures.", "solution": "In the paraxial ray-transfer formalism, the overall matrix for a sequence of components is the product of the individual matrices in the reverse order of traversal. Here the system is free space of length $L_{1}$, followed by a GRIN lens of length $L_{2}$, followed by free space of length $L_{3}$. Denote the free-space propagation matrix over length $L$ by\n$$\nM_{\\text{space}}(L)=\\begin{pmatrix}1  L \\\\ 0  1\\end{pmatrix},\n$$\nand the GRIN matrix (with $n(y)=n_{0}\\left(1-\\frac{1}{2}Ay^{2}\\right)$) by\n$$\nM_{\\text{GRIN}}=\\begin{pmatrix}\n\\cos(\\sqrt{A}L_{2})  \\frac{1}{n_{0}\\sqrt{A}}\\sin(\\sqrt{A}L_{2}) \\\\\n-n_{0}\\sqrt{A}\\sin(\\sqrt{A}L_{2})  \\cos(\\sqrt{A}L_{2})\n\\end{pmatrix}.\n$$\nThus the total matrix is\n$$\nM_{\\text{tot}}=M_{\\text{space}}(L_{3})\\,M_{\\text{GRIN}}\\,M_{\\text{space}}(L_{1}).\n$$\nLet $c=\\cos(\\sqrt{A}L_{2})$, $s=\\sin(\\sqrt{A}L_{2})$, $b=\\frac{1}{n_{0}\\sqrt{A}}\\,s$, and $f=-n_{0}\\sqrt{A}\\,s$, so that\n$$\nM_{\\text{GRIN}}=\\begin{pmatrix} c  b \\\\ f  c \\end{pmatrix}.\n$$\nFirst multiply $M_{\\text{GRIN}}$ and $M_{\\text{space}}(L_{1})$:\n$$\nM_{12}=M_{\\text{GRIN}}\\,M_{\\text{space}}(L_{1})\n=\\begin{pmatrix} c  cL_{1}+b \\\\ f  fL_{1}+c \\end{pmatrix}.\n$$\nThen multiply on the left by $M_{\\text{space}}(L_{3})$:\n$$\nM_{\\text{tot}}=M_{\\text{space}}(L_{3})\\,M_{12}\n=\\begin{pmatrix}\nc+L_{3}f  c(L_{1}+L_{3})+b+fL_{1}L_{3} \\\\\nf  fL_{1}+c\n\\end{pmatrix}.\n$$\nHence, for input vector $\\begin{pmatrix} y_{\\text{in}} \\\\ \\theta_{\\text{in}} \\end{pmatrix}$, the output is\n$$\n\\begin{pmatrix} y_{\\text{out}} \\\\ \\theta_{\\text{out}} \\end{pmatrix}\n=\n\\begin{pmatrix}\nA  B \\\\ C  D\n\\end{pmatrix}\n\\begin{pmatrix} y_{\\text{in}} \\\\ \\theta_{\\text{in}} \\end{pmatrix},\n$$\nwith\n$$\nA=c+L_{3}f,\\quad B=c(L_{1}+L_{3})+b+fL_{1}L_{3},\\quad C=f,\\quad D=fL_{1}+c.\n$$\nNow substitute the given parameters. We have $\\sqrt{A}=\\frac{\\pi}{40}\\,\\text{mm}^{-1}$, so\n$$\n\\sqrt{A}L_{2}=\\frac{\\pi}{40}\\cdot 10=\\frac{\\pi}{4},\\quad\nc=\\cos(\\frac{\\pi}{4})=\\frac{\\sqrt{2}}{2},\\quad\ns=\\sin(\\frac{\\pi}{4})=\\frac{\\sqrt{2}}{2}.\n$$\nAlso,\n$$\nn_{0}\\sqrt{A}=1.6\\cdot\\frac{\\pi}{40}=\\frac{\\pi}{25},\\quad\n\\frac{1}{n_{0}\\sqrt{A}}=\\frac{25}{\\pi},\n$$\nso\n$$\nb=\\frac{1}{n_{0}\\sqrt{A}}\\,s=\\frac{25}{\\pi}\\cdot\\frac{\\sqrt{2}}{2}=\\frac{25\\sqrt{2}}{2\\pi},\\quad\nf=-n_{0}\\sqrt{A}\\,s=-\\frac{\\pi}{25}\\cdot\\frac{\\sqrt{2}}{2}=-\\frac{\\pi\\sqrt{2}}{50}.\n$$\nWith $L_{1}=5\\,\\text{mm}$ and $L_{3}=2\\,\\text{mm}$,\n$$\nA=c+L_{3}f=\\frac{\\sqrt{2}}{2}+2\\left(-\\frac{\\pi\\sqrt{2}}{50}\\right),\\quad\nB=c(L_{1}+L_{3})+b+fL_{1}L_{3}=\\frac{\\sqrt{2}}{2}\\cdot 7+\\frac{25\\sqrt{2}}{2\\pi}-\\frac{\\pi\\sqrt{2}}{50}\\cdot 10,\n$$\n$$\nC=f=-\\frac{\\pi\\sqrt{2}}{50},\\quad\nD=fL_{1}+c=-\\frac{\\pi\\sqrt{2}}{50}\\cdot 5+\\frac{\\sqrt{2}}{2}.\n$$\nNumerically,\n$$\nA\\approx 0.5293914636602129,\\quad B\\approx 9.688147856656073,\\quad C\\approx -0.08885765876316732,\\quad D\\approx 0.2628184873707109.\n$$\nFor $y_{\\text{in}}=2.0\\,\\text{mm}$ and $\\theta_{\\text{in}}=-0.01\\,\\text{rad}$,\n$$\ny_{\\text{out}}=A\\,y_{\\text{in}}+B\\,\\theta_{\\text{in}}\\approx 0.5293914636602129\\cdot 2.0+9.688147856656073\\cdot(-0.01)\\approx 0.961901448753865\\,\\text{mm},\n$$\n$$\n\\theta_{\\text{out}}=C\\,y_{\\text{in}}+D\\,\\theta_{\\text{in}}\\approx (-0.08885765876316732)\\cdot 2.0+0.2628184873707109\\cdot(-0.01)\\approx -0.18034350240004175\\,\\text{rad}.\n$$\nRounding to three significant figures gives $y_{\\text{out}}\\approx 0.962\\,\\text{mm}$ and $\\theta_{\\text{out}}\\approx -0.180\\,\\text{rad}$.", "answer": "$$\\boxed{\\begin{pmatrix} 0.962 \\\\ -0.180 \\end{pmatrix}}$$", "id": "2239872"}]}