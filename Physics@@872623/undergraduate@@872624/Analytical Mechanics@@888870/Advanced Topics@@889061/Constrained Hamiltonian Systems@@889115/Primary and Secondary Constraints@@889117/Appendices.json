{"hands_on_practices": [{"introduction": "To begin our hands-on exploration, we'll analyze a system whose Lagrangian contains a term linear in one of the generalized velocities. This structure is a classic indicator of a constrained system, as it prevents us from expressing all velocities in terms of canonical momenta. This exercise [@problem_id:2074234] provides a foundational walkthrough of the Dirac-Bergmann algorithm, guiding you through the essential steps of identifying a primary constraint and deriving its corresponding secondary constraint via the time-consistency condition.", "problem": "Consider a theoretical mechanical system described by two generalized coordinates, $q_1$ and $q_2$. The dynamics of this system are governed by the Lagrangian:\n$$L = \\frac{1}{2}\\dot{q}_1^2 - V(q_1) + q_1^2 \\dot{q}_2$$\nwhere $\\dot{q}_i = \\frac{dq_i}{dt}$, and $V(q_1)$ is a potential function that depends only on the coordinate $q_1$. When this system is described in phase space, using the coordinates $(q_1, q_2)$ and their corresponding canonical momenta $(p_1, p_2)$, it is found that not all phase space variables are independent. Certain relations, known as constraints, must hold between them.\n\nWhich of the following options represents the complete set of constraint equations for this system? Let $V'(q_1)$ denote the derivative of the potential with respect to $q_1$.\n\nA. $p_2 - q_1^2 = 0$ and $q_1 p_1 = 0$\n\nB. $p_2 - q_1^2 = 0$\n\nC. $p_1 - \\dot{q}_1 = 0$ and $p_2 - q_1^2 = 0$\n\nD. $p_2 - q_1^2 = 0$ and $p_1^2 - q_1 V'(q_1) = 0$\n\nE. $p_1 = 0$ and $p_2 = 0$", "solution": "To find the constraints of the system, we transition from the Lagrangian formulation to the Hamiltonian formulation using the Legendre transformation. This process can reveal constraints among the phase space variables $(q_1, q_2, p_1, p_2)$.\n\nFirst, we calculate the canonical momenta, which are defined as $p_i = \\frac{\\partial L}{\\partial \\dot{q}_i}$.\nFor $p_1$:\n$$p_1 = \\frac{\\partial L}{\\partial \\dot{q}_1} = \\frac{\\partial}{\\partial \\dot{q}_1} \\left( \\frac{1}{2}\\dot{q}_1^2 - V(q_1) + q_1^2 \\dot{q}_2 \\right) = \\dot{q}_1$$\nFor $p_2$:\n$$p_2 = \\frac{\\partial L}{\\partial \\dot{q}_2} = \\frac{\\partial}{\\partial \\dot{q}_2} \\left( \\frac{1}{2}\\dot{q}_1^2 - V(q_1) + q_1^2 \\dot{q}_2 \\right) = q_1^2$$\n\nThe first equation, $p_1 = \\dot{q}_1$, can be inverted to express the velocity $\\dot{q}_1$ in terms of the momentum $p_1$. However, the second equation, $p_2 = q_1^2$, establishes a relationship between the canonical variables $p_2$ and $q_1$ without involving any velocities. This kind of relation is a primary constraint. We define the primary constraint function $\\phi_1$ as:\n$$\\phi_1 \\equiv p_2 - q_1^2 = 0$$\n\nNext, we construct the canonical Hamiltonian, $H_c = \\sum_i p_i \\dot{q}_i - L$.\n$$H_c = p_1 \\dot{q}_1 + p_2 \\dot{q}_2 - \\left( \\frac{1}{2}\\dot{q}_1^2 - V(q_1) + q_1^2 \\dot{q}_2 \\right)$$\nUsing $p_1 = \\dot{q}_1$, we substitute for $\\dot{q}_1$:\n$$H_c = p_1(p_1) + p_2 \\dot{q}_2 - \\left( \\frac{1}{2}p_1^2 - V(q_1) + q_1^2 \\dot{q}_2 \\right)$$\n$$H_c = p_1^2 - \\frac{1}{2}p_1^2 + V(q_1) + (p_2 - q_1^2)\\dot{q}_2$$\n$$H_c = \\frac{1}{2}p_1^2 + V(q_1) + (p_2 - q_1^2)\\dot{q}_2$$\nOn the constraint surface where $\\phi_1 = p_2 - q_1^2 = 0$, the canonical Hamiltonian simplifies to:\n$$H_c = \\frac{1}{2}p_1^2 + V(q_1)$$\nThe full dynamics are governed by the total Hamiltonian, $H_T = H_c + u \\phi_1$, where $u$ is a Lagrange multiplier.\n$$H_T = \\frac{1}{2}p_1^2 + V(q_1) + u(p_2 - q_1^2)$$\n\nFor the theory to be consistent, any constraint must be preserved over time. This means the time derivative of the constraint must be zero (at least on the constraint surface). The time evolution of any function $f$ on phase space is given by $\\dot{f} = \\{f, H_T\\}$. Thus, we must have $\\dot{\\phi}_1 = \\{\\phi_1, H_T\\} \\approx 0$, where $\\approx$ denotes weak equality (equality on the constraint surface).\nThe Poisson bracket is defined as $\\{A, B\\} = \\sum_k \\left( \\frac{\\partial A}{\\partial q_k}\\frac{\\partial B}{\\partial p_k} - \\frac{\\partial A}{\\partial p_k}\\frac{\\partial B}{\\partial q_k} \\right)$.\n$$\\dot{\\phi}_1 = \\{\\phi_1, H_T\\} = \\{p_2 - q_1^2, \\frac{1}{2}p_1^2 + V(q_1) + u(p_2 - q_1^2)\\}$$\nUsing the properties of Poisson brackets, this simplifies to $\\{\\phi_1, H_c\\} + u\\{\\phi_1, \\phi_1\\}$. Since $\\{\\phi_1, \\phi_1\\} = 0$, we only need to compute $\\{\\phi_1, H_c\\}$.\n$$\\{\\phi_1, H_c\\} = \\{p_2 - q_1^2, \\frac{1}{2}p_1^2 + V(q_1)\\}$$\n$$= \\left( \\frac{\\partial \\phi_1}{\\partial q_1}\\frac{\\partial H_c}{\\partial p_1} - \\frac{\\partial \\phi_1}{\\partial p_1}\\frac{\\partial H_c}{\\partial q_1} \\right) + \\left( \\frac{\\partial \\phi_1}{\\partial q_2}\\frac{\\partial H_c}{\\partial p_2} - \\frac{\\partial \\phi_1}{\\partial p_2}\\frac{\\partial H_c}{\\partial q_2} \\right)$$\nThe required partial derivatives are:\n$\\frac{\\partial \\phi_1}{\\partial q_1} = -2q_1$, $\\frac{\\partial \\phi_1}{\\partial p_2} = 1$. All other partials of $\\phi_1$ are zero.\n$\\frac{\\partial H_c}{\\partial p_1} = p_1$, $\\frac{\\partial H_c}{\\partial q_1} = V'(q_1)$. All other partials of $H_c$ are zero.\nSubstituting these into the Poisson bracket expression:\n$$\\{\\phi_1, H_c\\} = (-2q_1)(p_1) - (0)(V'(q_1)) + (0)(0) - (1)(0) = -2q_1 p_1$$\nThe consistency condition $\\dot{\\phi}_1 \\approx 0$ thus implies:\n$$-2q_1 p_1 \\approx 0 \\implies q_1 p_1 \\approx 0$$\nThis is a new constraint, which we call the secondary constraint, $\\phi_2 \\equiv q_1 p_1 = 0$.\n\nWe must now check the consistency of this new constraint: $\\dot{\\phi}_2 = \\{\\phi_2, H_T\\} \\approx 0$.\n$$\\dot{\\phi}_2 = \\{q_1p_1, \\frac{1}{2}p_1^2 + V(q_1) + u(p_2 - q_1^2)\\} \\approx 0$$\n$$ \\approx \\{q_1p_1, H_c\\} + u\\{q_1p_1, \\phi_1\\} \\approx 0$$\nLet's compute the two Poisson brackets:\n$$\\{q_1p_1, H_c\\} = \\frac{\\partial(q_1p_1)}{\\partial q_1}\\frac{\\partial H_c}{\\partial p_1} - \\frac{\\partial(q_1p_1)}{\\partial p_1}\\frac{\\partial H_c}{\\partial q_1} = (p_1)(p_1) - (q_1)(V'(q_1)) = p_1^2 - q_1 V'(q_1)$$\n$$\\{q_1p_1, \\phi_1\\} = \\{q_1p_1, p_2 - q_1^2\\} = \\frac{\\partial(q_1p_1)}{\\partial q_1}\\frac{\\partial(p_2-q_1^2)}{\\partial p_1} - \\frac{\\partial(q_1p_1)}{\\partial p_1}\\frac{\\partial(p_2-q_1^2)}{\\partial q_1} = (p_1)(0) - (q_1)(-2q_1) = 2q_1^2$$\nThe consistency condition for $\\phi_2$ becomes:\n$$p_1^2 - q_1 V'(q_1) + u(2q_1^2) \\approx 0$$\nThis equation can be solved for the Lagrange multiplier $u$ (provided $q_1 \\neq 0$):\n$$u \\approx \\frac{q_1 V'(q_1) - p_1^2}{2q_1^2}$$\nSince we can determine the multiplier $u$ without generating a new constraint on the phase space variables, the process terminates.\n\nThe complete set of constraints for the system is therefore the primary constraint $\\phi_1$ and the secondary constraint $\\phi_2$.\n1. $\\phi_1 = p_2 - q_1^2 = 0$\n2. $\\phi_2 = q_1 p_1 = 0$\n\nThis corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "2074234"}, {"introduction": "Building on the basics, this next problem explores a system that generates a more intricate constraint structure. You will discover that the requirement of time-consistency can lead to a cascade of constraints, including primary, secondary, and even tertiary ones. Most importantly, this practice [@problem_id:2074242] introduces the crucial task of classifying constraints as either first-class or second-class, a distinction fundamental to understanding gauge symmetries and the quantization of constrained systems.", "problem": "Consider a theoretical model in classical mechanics described by two time-dependent generalized coordinates, $\\phi(t)$ and $\\psi(t)$. The dynamics of this system are governed by the Lagrangian:\n$$ L(\\phi, \\dot{\\phi}, \\psi) = \\frac{1}{2}\\dot{\\phi}^2 - V(\\phi) - g\\phi^2\\psi $$\nwhere $g$ is a non-zero real coupling constant. The potential $V(\\phi)$ is a smooth function with the property that its first derivative vanishes at the origin, i.e., $\\frac{dV}{d\\phi}\\bigg|_{\\phi=0} = 0$.\n\nFollowing the Dirac-Bergmann procedure for constrained systems, identify all primary and secondary constraints and classify them as either first-class or second-class. Let $p_\\phi$ and $p_\\psi$ be the canonical momenta conjugate to $\\phi$ and $\\psi$, respectively. Which of the following statements accurately describes the complete constraint structure of this system?\n\nA. There is one primary first-class constraint ($p_\\psi \\approx 0$) and two secondary second-class constraints ($\\phi \\approx 0$ and $p_\\phi \\approx 0$).\n\nB. There is one primary second-class constraint ($p_\\psi \\approx 0$) and two secondary first-class constraints ($\\phi \\approx 0$ and $p_\\phi \\approx 0$).\n\nC. There are three primary constraints ($p_\\psi \\approx 0$, $\\phi \\approx 0$, and $p_\\phi \\approx 0$), all of which are second-class.\n\nD. There is one primary constraint ($p_\\psi \\approx 0$) and one secondary constraint ($\\phi^2 \\approx 0$), and the constraint analysis terminates at this stage.\n\nE. There is one primary first-class constraint ($p_\\psi \\approx 0$), one primary second-class constraint ($\\phi \\approx 0$), and one secondary second-class constraint ($p_\\phi \\approx 0$).", "solution": "Start from the Lagrangian\n$$\nL(\\phi,\\dot{\\phi},\\psi)=\\frac{1}{2}\\dot{\\phi}^{2}-V(\\phi)-g\\phi^{2}\\psi,\n$$\nwith generalized coordinates $\\phi(t)$ and $\\psi(t)$. The canonical momenta are defined by\n$$\np_{\\phi}=\\frac{\\partial L}{\\partial \\dot{\\phi}}=\\dot{\\phi},\\qquad p_{\\psi}=\\frac{\\partial L}{\\partial \\dot{\\psi}}=0.\n$$\nThus there is one primary constraint\n$$\n\\Phi_{1}\\equiv p_{\\psi}\\approx 0.\n$$\n\nSolve for the velocity $\\dot{\\phi}=p_{\\phi}$ and construct the canonical Hamiltonian\n$$\nH_{c}=p_{\\phi}\\dot{\\phi}-L=\\frac{1}{2}p_{\\phi}^{2}+V(\\phi)+g\\phi^{2}\\psi.\n$$\nThe total Hamiltonian is\n$$\nH_{T}=H_{c}+u\\,p_{\\psi}=\\frac{1}{2}p_{\\phi}^{2}+V(\\phi)+g\\phi^{2}\\psi+u\\,p_{\\psi},\n$$\nwith $u(t)$ an undetermined multiplier.\n\nImpose preservation in time of the primary constraint:\n$$\n\\dot{\\Phi}_{1}=\\{p_{\\psi},H_{T}\\}=-\\frac{\\partial H_{T}}{\\partial \\psi}=-g\\phi^{2}\\approx 0,\n$$\nwhich yields a secondary constraint\n$$\n\\Phi_{2}'\\equiv \\phi^{2}\\approx 0.\n$$\n\nSince $\\Phi_{2}'$ is irregular (its gradient vanishes on the constraint surface), replace it by an equivalent, regular constraint defining the same surface,\n$$\n\\Phi_{2}\\equiv \\phi\\approx 0.\n$$\nPreservation of $\\Phi_{2}$ gives\n$$\n\\dot{\\Phi}_{2}=\\{\\phi,H_{T}\\}=\\frac{\\partial H_{T}}{\\partial p_{\\phi}}=p_{\\phi}\\approx 0,\n$$\nwhich yields the next constraint\n$$\n\\Phi_{3}\\equiv p_{\\phi}\\approx 0.\n$$\n\nPreserve $\\Phi_{3}$ in time:\n$$\n\\dot{\\Phi}_{3}=\\{p_{\\phi},H_{T}\\}=-\\frac{\\partial H_{T}}{\\partial \\phi}=-V'(\\phi)-2g\\phi\\,\\psi\\approx 0.\n$$\nOn the surface $\\phi\\approx 0$ this reduces to $-V'(0)\\approx 0$, which is automatically satisfied by the given condition $V'(0)=0$. Hence no further constraints arise and no multiplier is fixed.\n\nClassify the constraints by their Poisson brackets. Using $\\{\\phi,p_{\\phi}\\}=1$, $\\{\\psi,p_{\\psi}\\}=1$ and all others zero:\n$$\n\\{p_{\\psi},\\phi\\}=0,\\qquad \\{p_{\\psi},p_{\\phi}\\}=0,\\qquad \\{\\phi,p_{\\phi}\\}=1.\n$$\nThus $p_{\\psi}$ has vanishing Poisson brackets with all constraints and is first-class, while the pair $(\\phi,p_{\\phi})$ has a nonvanishing bracket and is second-class.\n\nTherefore, the complete constraint structure is: one primary first-class constraint $p_{\\psi}\\approx 0$, and two non-primary (arising from consistency) second-class constraints $\\phi\\approx 0$ and $p_{\\phi}\\approx 0$. This corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "2074242"}, {"introduction": "Our final practice takes an unconventional but deeply insightful approach by treating a Lagrange multiplier as a dynamical coordinate in its own right. This powerful technique extends the phase space and allows the entire constraint structure to emerge organically from the Dirac-Bergmann procedure. By working through this problem [@problem_id:2074239], you will see how the familiar physical constraint is recovered as a secondary constraint, providing a profound demonstration of the consistency and elegance of the Hamiltonian formulation.", "problem": "In an unconventional approach to constrained mechanical systems, one can treat a Lagrange multiplier as a dynamical coordinate. Consider a uniform solid cylinder of mass $M$ and radius $R$, with a moment of inertia $I$ about its central axis. The cylinder rolls without slipping along a horizontal line. The state of the system is described by the position of its center of mass, $x$, and the angle of rotation, $\\theta$. The rolling-without-slipping constraint is incorporated into the system's Lagrangian by introducing a Lagrange multiplier, $\\lambda$, which is itself treated as a generalized coordinate. The resulting Lagrangian for this extended system is given by:\n\n$$L(x, \\theta, \\lambda, \\dot{x}, \\dot{\\theta}, \\dot{\\lambda}) = \\frac{1}{2}M\\dot{x}^2 + \\frac{1}{2}I\\dot{\\theta}^2 + \\lambda(x - R\\theta)$$\n\nBy performing a full constraint analysis in the Hamiltonian formulation (the Dirac-Bergmann algorithm), determine the total number of independent constraints (primary, secondary, etc.) that arise in this system. Your final answer should be a single integer.", "solution": "We treat the Lagrange multiplier as a generalized coordinate. The generalized coordinates are $q^{i}=(x,\\theta,\\lambda)$ with Lagrangian\n$$\nL=\\frac{1}{2}M\\dot{x}^{2}+\\frac{1}{2}I\\dot{\\theta}^{2}+\\lambda(x-R\\theta).\n$$\nCanonical momenta are defined by $p_{i}=\\partial L/\\partial\\dot{q}^{i}$, giving\n$$\np_{x}=M\\dot{x},\\qquad p_{\\theta}=I\\dot{\\theta},\\qquad p_{\\lambda}=0.\n$$\nThus there is a primary constraint\n$$\n\\phi_{1}\\equiv p_{\\lambda}\\approx 0.\n$$\nExpressing the velocities in terms of the momenta, $\\dot{x}=p_{x}/M$ and $\\dot{\\theta}=p_{\\theta}/I$, the canonical Hamiltonian is\n$$\nH_{c}=p_{x}\\dot{x}+p_{\\theta}\\dot{\\theta}+p_{\\lambda}\\dot{\\lambda}-L=\\frac{p_{x}^{2}}{2M}+\\frac{p_{\\theta}^{2}}{2I}-\\lambda(x-R\\theta).\n$$\nThe total Hamiltonian is\n$$\nH_{T}=H_{c}+u\\,\\phi_{1}=\\frac{p_{x}^{2}}{2M}+\\frac{p_{\\theta}^{2}}{2I}-\\lambda(x-R\\theta)+u\\,p_{\\lambda},\n$$\nwhere $u(t)$ is an arbitrary function.\n\nPreservation of the primary constraint requires\n$$\n\\dot{\\phi}_{1}=\\{\\phi_{1},H_{T}\\}=-\\frac{\\partial H_{T}}{\\partial\\lambda}=x-R\\theta\\approx 0.\n$$\nThis yields the secondary constraint\n$$\n\\phi_{2}\\equiv x-R\\theta\\approx 0.\n$$\nPreservation of $\\phi_{2}$ gives\n$$\n\\dot{\\phi}_{2}=\\{\\phi_{2},H_{T}\\}=\\{x-R\\theta,H_{c}\\}=\\frac{\\partial H_{c}}{\\partial p_{x}}-R\\frac{\\partial H_{c}}{\\partial p_{\\theta}}=\\frac{p_{x}}{M}-\\frac{R}{I}p_{\\theta}\\approx 0,\n$$\nwhich is the tertiary constraint\n$$\n\\phi_{3}\\equiv \\frac{p_{x}}{M}-\\frac{R}{I}p_{\\theta}\\approx 0.\n$$\nPreservation of $\\phi_{3}$ gives\n$$\n\\dot{\\phi}_{3}=\\{\\phi_{3},H_{T}\\}=\\frac{1}{M}\\{p_{x},H_{c}\\}-\\frac{R}{I}\\{p_{\\theta},H_{c}\\}.\n$$\nUsing $\\{p_{x},H_{c}\\}=-\\partial H_{c}/\\partial x=\\lambda$ and $\\{p_{\\theta},H_{c}\\}=-\\partial H_{c}/\\partial\\theta=+\\lambda R$, we obtain\n$$\n\\dot{\\phi}_{3}=\\frac{\\lambda}{M}-\\frac{R}{I}(\\lambda R)=\\lambda\\left(\\frac{1}{M}-\\frac{R^{2}}{I}\\right)\\approx 0.\n$$\nSince $(1/M)-(R^{2}/I)\\neq 0$ (for a solid cylinder, $I=\\frac{1}{2}MR^2$, so this factor is $-1/M$), this yields the quaternary constraint\n$$\n\\phi_{4}\\equiv \\lambda\\approx 0.\n$$\nPreservation of $\\phi_{4}$ fixes the multiplier:\n$$\n\\dot{\\phi}_{4}=\\{\\lambda,H_{T}\\}=\\frac{\\partial H_{T}}{\\partial p_{\\lambda}}=u\\approx 0,\n$$\nand no further constraints arise.\n\nTo check independence, compute key Poisson brackets among the constraints:\n$$\n\\{\\phi_{1},\\phi_{4}\\}=\\{p_{\\lambda},\\lambda\\}=-1,\\qquad \\{\\phi_{2},\\phi_{3}\\}=\\left\\{x-R\\theta,\\frac{p_{x}}{M}-\\frac{R}{I}p_{\\theta}\\right\\}=\\frac{1}{M}+\\frac{R^{2}}{I},\n$$\nwhich are nonzero constants, while other brackets among different pairs vanish on the constraint surface. Hence the constraint matrix is of full rank, and the four constraints are independent (all second class).\n\nTherefore, the total number of independent constraints (primary, secondary, etc.) generated by the Dirac-Bergmann algorithm is 4.", "answer": "$$\\boxed{4}$$", "id": "2074239"}]}