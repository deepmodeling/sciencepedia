{"hands_on_practices": [{"introduction": "要真正掌握函数的性质，仅仅背诵定义是不够的。一个更直观的方法是通过“纤维”这一概念来分析函数，纤维是指目标集中每个元素的原像集合。通过考察这些纤维的大小，我们可以将单射、满射和双射等抽象性质转化为具体的、可视化的条件，从而深化我们对这些基本概念的理解 [@problem_id:1673257]。", "problem": "设 $f: X \\to Y$ 是两个非空集合 $X$ 和 $Y$ 之间的一个函数。对于陪域 $Y$ 中的任意元素 $y$，我们定义 $y$ 在 $f$ 下的纤维（fiber）为其原像集，记作 $f^{-1}(y) = \\{x \\in X \\mid f(x) = y\\}$。有限集 $S$ 的基数记作 $|S|$。如果 $X$ 的一组非空子集是两两不交的，并且它们的并集等于 $X$，则称这组子集构成 $X$ 的一个划分。\n\n考虑以下关于函数 $f$ 的五个陈述。其中四个陈述总是为真，一个不一定为真。请找出那个不一定为真的陈述。\n\nA. 函数 $f$ 是单射（一对一）的，当且仅当对于每一个 $y \\in Y$，其纤维的基数满足 $|f^{-1}(y)| \\le 1$。\nB. 函数 $f$ 是满射（映上）的，当且仅当对于每一个 $y \\in Y$，其纤维 $f^{-1}(y)$ 是一个非空集。\nC. 如果函数 $f$ 是满射的，那么其所有纤维的集合 $\\{f^{-1}(y) \\mid y \\in Y\\}$ 构成定义域 $X$ 的一个划分。\nD. 如果函数 $f$ 是单射的，那么其所有纤维的集合 $\\{f^{-1}(y) \\mid y \\in Y\\}$ 构成定义域 $X$ 的一个划分。\nE. 函数 $f$ 是双射（一一对应）的，当且仅当对于每一个 $y \\in Y$，其纤维 $f^{-1}(y)$ 是一个单元素集（一个恰好含有一个元素的集合）。", "solution": "我们分析每个陈述，使用纤维的定义 $f^{-1}(y)=\\{x\\in X\\mid f(x)=y\\}$ 以及划分的定义，即划分是一组非空的、两两不交的、其并集为 $X$ 的子集。\n\nA. 单射性等价于 $X$ 中不同的元素永远不会映射到同一个 $y\\in Y$。这等价于要求对于每个 $y\\in Y$，纤维 $f^{-1}(y)$ 最多只包含一个元素。形式上，如果 $f$ 是单射的且 $y\\in Y$，那么要么 $y$ 不在像集中且 $|f^{-1}(y)|=0$，要么存在唯一的 $x$ 使得 $f(x)=y$ 此时 $|f^{-1}(y)|=1$，所以 $|f^{-1}(y)|\\le 1$。反之，如果对于每个 $y\\in Y$ 都有 $|f^{-1}(y)|\\le 1$，并且如果 $f(x_{1})=f(x_{2})=y$，那么 $x_{1}$ 和 $x_{2}$ 都位于 $f^{-1}(y)$ 中，这迫使 $x_{1}=x_{2}$。因此 $f$ 是单射的。所以A总是为真。\n\nB. 满射性意味着对于每个 $y\\in Y$，都存在 $x\\in X$ 使得 $f(x)=y$，这恰好是对于所有 $y\\in Y$，$f^{-1}(y)\\neq\\varnothing$ 的条件。反之，如果对于所有 $y\\in Y$ 都有 $f^{-1}(y)\\neq\\varnothing$，那么对于每个 $y$ 都存在一个 $x$ 使得 $f(x)=y$，所以 $f$ 是满射的。所以B总是为真。\n\nC. 对于任何函数（无需假设），对应于不同 $y$ 的纤维是两两不交的：如果 $x\\in f^{-1}(y_{1})\\cap f^{-1}(y_{2})$，那么 $f(x)=y_{1}$ 且 $f(x)=y_{2}$，因此 $y_{1}=y_{2}$。此外，$\\bigcup_{y\\in Y}f^{-1}(y)=X$ 因为对于每个 $x\\in X$，$x\\in f^{-1}(f(x))$。构成划分的唯一可能被违反的条件是纤维中存在空集。如果 $f$ 是满射的，那么对于每个 $y\\in Y$，都存在 $x$ 使得 $f(x)=y$，所以每个 $f^{-1}(y)$ 都是非空的。因此，在满射性的条件下，集合 $\\{f^{-1}(y)\\mid y\\in Y\\}$ 由非空的、两两不交的、其并集为 $X$ 的子集构成，即它构成一个划分。所以C总是为真。\n\nD. 如果 $f$ 是单射的，那么如前所述，纤维是两两不交的，并且它们对所有 $y\\in Y$ 的并集是 $X$。然而，单射性并不意味着满射性。如果 $f$ 不是满射的，那么存在 $y_{0}\\in Y$ 使得 $f^{-1}(y_{0})=\\varnothing$。由于划分必须是一组非空子集，所以在这种情况下，集合 $\\{f^{-1}(y)\\mid y\\in Y\\}$ 不能构成一个划分。因此，陈述“如果 $f$ 是单射的，那么其所有纤维的集合构成 $X$ 的一个划分”不总是为真。它仅在 $f$ 同时也是满射的情况下成立。所以D不一定为真。\n\nE. 如果 $f$ 是双射的，那么它既是单射的又是满射的，所以对于每个 $y\\in Y$，其纤维是非空的（满射性）并且最多有一个元素（单射性），因此恰好有一个元素，即一个单元素集。反之，如果每个纤维 $f^{-1}(y)$ 都是一个单元素集，那么每个纤维都是非空的（所以 $f$ 是满射的）并且其大小最多为一（所以 $f$ 是单射的）。因此 $f$ 是双射的。所以E总是为真。\n\n因此，唯一不总是为真的陈述是D。", "answer": "$$\\boxed{D}$$", "id": "1673257"}, {"introduction": "在数学中，我们不仅研究对象本身，还关心它们如何与其他结构相互作用。一个自然而然的问题是：函数如何与集合运算（如交集）相互作用？具体来说，一个交集的像是否总是等于像的交集？这个练习将引导我们探索保证等式 $f(A \\cap B) = f(A) \\cap f(B)$ 对任意子集 $A, B$ 恒成立的精确条件，从而揭示单射函数的一个重要特性 [@problem_id:1673293]。", "problem": "设 $f: X \\to Y$ 是一个从集合 $X$（定义域）到集合 $Y$（上域）的函数。对于任意子集 $S \\subseteq X$，$S$在$f$下的像，记作 $f(S)$，是$S$中元素经$f$映射后得到的所有值的集合，即 $f(S) = \\{f(x) \\in Y \\mid x \\in S\\}$。设 $A$ 和 $B$ 是定义域 $X$ 的任意子集。\n\n我们可以构造两个相关的集合：\n1.  $A$ 和 $B$ 交集的像，即集合 $f(A \\cap B)$。\n2.  $A$ 和 $B$ 的像的交集，即集合 $f(A) \\cap f(B)$。\n\n如果对于定义域中任意两个不同的元素 $x_1, x_2$，它们的像也不同，则函数 $f$ 称为单射（或一对一）。等价地，如果 $f(x_1) = f(x_2)$，那么必然有 $x_1 = x_2$。\n如果一个函数 $f$ 的像等于其上域，则称其为满射（或映上），即对于每一个元素 $y \\in Y$，都存在至少一个元素 $x \\in X$ 使得 $f(x) = y$。\n\n下列哪个陈述准确地描述了使得等式 $f(A \\cap B) = f(A) \\cap f(B)$ 对**任意**子集 $A, B \\subseteq X$ 的选择都保证成立的条件？\n\nA. 该等式对所有子集 $A$ 和 $B$ 成立，当且仅当 $f$ 是满射。\nB. 该等式对所有子集 $A$ 和 $B$ 成立，当且仅当 $f$ 是单射。\nC. 该等式对所有子集 $A$ 和 $B$ 成立，当且仅当 $f$ 是恒等函数（即 $X=Y$ 且对所有 $x$ 有 $f(x)=x$）。\nD. 该等式对任何函数 $f$ 都成立，无论其性质如何。\nE. 该等式永远不保证对所有子集 $A$ 和 $B$ 成立，因为它总是依赖于 $A$ 和 $B$ 的具体选择。", "solution": "我们首先建立普遍的包含关系。对于任意函数 $f: X \\to Y$ 和任意子集 $A,B \\subseteq X$，我们有\n$$\nf(A \\cap B) \\subseteq f(A) \\cap f(B).\n$$\n确实，设 $y \\in f(A \\cap B)$。则存在 $x \\in A \\cap B$ 使得 $f(x) = y$。由于 $x \\in A$ 且 $x \\in B$，可得 $y \\in f(A)$ 且 $y \\in f(B)$，因此 $y \\in f(A) \\cap f(B)$。\n\n我们现在来刻画等式对所有 $A,B \\subseteq X$ 成立的条件。\n\n充分性（单射推出等式）：假设 $f$ 是单射。设 $y \\in f(A) \\cap f(B)$。则存在 $a \\in A$ 和 $b \\in B$ 使得 $f(a) = y = f(b)$。根据单射性，有 $a = b$，所以 $a \\in A \\cap B$，因此 $y = f(a) \\in f(A \\cap B)$。所以 $f(A) \\cap f(B) \\subseteq f(A \\cap B)$。结合普遍的包含关系，我们得到对所有 $A,B \\subseteq X$，$f(A \\cap B) = f(A) \\cap f(B)$。\n\n必要性（对所有子集等式成立推出单射）：假设对所有 $A,B \\subseteq X$，都有 $f(A \\cap B) = f(A) \\cap f(B)$。我们用反证法，假设 $f$ 不是单射。则存在 $x_{1}, x_{2} \\in X$ 满足 $x_{1} \\neq x_{2}$ 且 $f(x_{1}) = f(x_{2})$。令 $A = \\{x_{1}\\}$ 且 $B = \\{x_{2}\\}$。那么 $A \\cap B = \\emptyset$，所以 $f(A \\cap B) = f(\\emptyset) = \\emptyset$。然而，$f(A) = \\{f(x_{1})\\}$ 且 $f(B) = \\{f(x_{2})\\}$，所以\n$$\nf(A) \\cap f(B) = \\{f(x_{1})\\} \\cap \\{f(x_{2})\\} = \\{f(x_{1})\\} \\neq \\emptyset,\n$$\n这与假设矛盾。因此，$f$ 必须是单射。\n\n因此，等式 $f(A \\cap B) = f(A) \\cap f(B)$ 对所有子集 $A,B \\subseteq X$ 成立，当且仅当 $f$ 是单射。在给出的选项中，这正是陈述B。", "answer": "$$\\boxed{B}$$", "id": "1673293"}, {"introduction": "函数的一个重要特例是排列，它在密码学、数据处理和组合数学等领域有着广泛应用。理解一个排列的“阶”——即需要重复应用多少次才能回到初始状态——是分析其结构的关键。本练习提供了一个具体情境：一个由算术规则定义的函数作用于一个有限集，我们需要通过分析其迭代行为来确定其阶，这为我们提供了将函数、数论和群论思想相结合的实践机会 [@problem_id:1673299]。", "problem": "在一个简化的数据加扰算法模型中，一个置换 $f$ 被应用于一组数据块，标记为 $S = \\{0, 1, 2, \\dots, 14\\}$。该置换由函数 $f: S \\to S$ 定义，其中对于 $S$ 中的任何 $x$，其像由规则 $f(x) = (4x + 7) \\pmod{15}$ 给出。\n\n一个置换的*阶*被定义为最小的正整数 $k$，使得应用该置换 $k$ 次后得到恒等置换（即，对于 $S$ 中的所有 $x$，都有 $f^k(x) = x$）。\n\n确定置换 $f$ 的阶。", "solution": "我们将 $S$ 视为环 $\\mathbb{Z}_{15}$，并写出 $f(x)=ax+b$，其中 $a\\equiv 4 \\pmod{15}$ 且 $b\\equiv 7 \\pmod{15}$。因为 $\\gcd(4,15)=1$，$a$ 在模 $15$ 下是可逆的，所以 $f$ 是 $S$ 上的一个置换。\n\n一个仿射映射的第 $k$ 次迭代，通过对 $k$ 进行归纳，满足：\n$$\nf^{k}(x)\\equiv a^{k}x+b\\sum_{i=0}^{k-1}a^{i}\\pmod{15}.\n$$\n确实，对于 $k=1$，公式为 $f(x)=ax+b$。如果它对 $k$ 成立，那么\n$$\nf^{k+1}(x)=f\\big(f^{k}(x)\\big)\\equiv a\\big(a^{k}x+b\\sum_{i=0}^{k-1}a^{i}\\big)+b\n\\equiv a^{k+1}x+b\\sum_{i=0}^{k-1}a^{i+1}+b\n\\equiv a^{k+1}x+b\\sum_{i=0}^{k}a^{i}\\pmod{15}.\n$$\n\n为了使 $f^{k}$ 成为恒等置换，我们需要对所有的 $x$ 满足\n$$\na^{k}\\equiv 1 \\pmod{15}\n\\quad\\text{and}\\quad\nb\\sum_{i=0}^{k-1}a^{i}\\equiv 0 \\pmod{15}.\n$$\n因为 $\\gcd(b,15)=\\gcd(7,15)=1$，$b$ 在模 $15$ 下是可逆的，所以这等价于\n$$\na^{k}\\equiv 1 \\pmod{15}\n\\quad\\text{and}\\quad\n\\sum_{i=0}^{k-1}a^{i}\\equiv 0 \\pmod{15}.\n$$\n\n通过模 $3$ 和模 $5$ 约化，使用中国剩余定理。\n\n模 $3$：$a\\equiv 4\\equiv 1 \\pmod{3}$ 且 $b\\equiv 7\\equiv 1 \\pmod{3}$，因此 $f(x)\\equiv x+1 \\pmod{3}$。那么\n$$\nf^{k}(x)\\equiv x+k \\pmod{3},\n$$\n所以 $f^{k}$ 是模 $3$ 的恒等置换当且仅当 $k\\equiv 0 \\pmod{3}$。因此模 $3$ 的阶是 $3$。\n\n模 $5$：$a\\equiv 4 \\pmod{5}$ 且 $b\\equiv 7\\equiv 2 \\pmod{5}$。在域 $\\mathbb{Z}_{5}$ 上，\n$$\nf^{k}(x)\\equiv 4^{k}x+2\\sum_{i=0}^{k-1}4^{i}\\pmod{5}.\n$$\n我们需要 $4^{k}\\equiv 1 \\pmod{5}$ 并且 $\\sum_{i=0}^{k-1}4^{i}\\equiv 0 \\pmod{5}$。因为 $4\\not\\equiv 1 \\pmod{5}$ 且 $4-1\\equiv 3$ 在模 $5$ 下是可逆的，我们有\n$$\n\\sum_{i=0}^{k-1}4^{i}\\equiv \\frac{4^{k}-1}{4-1}\\equiv 0 \\pmod{5}\\quad\\Longleftrightarrow\\quad 4^{k}\\equiv 1 \\pmod{5}.\n$$\n因为 $4\\equiv -1 \\pmod{5}$，$4$ 在模 $5$ 下的乘法阶是 $2$。因此模 $5$ 的阶是 $2$。\n\n根据中国剩余定理，$f^{k}$ 是模 $15$ 的恒等置换当且仅当它同时是模 $3$ 和模 $5$ 的恒等置换。因此 $f$ 的阶是满足 $k\\equiv 0 \\pmod{3}$ 且 $k\\equiv 0 \\pmod{2}$ 的最小正整数 $k$，即\n$$\n\\operatorname{lcm}(3,2)=6.\n$$\n因此，置换 $f$ 的阶是 $6$。", "answer": "$$\\boxed{6}$$", "id": "1673299"}]}