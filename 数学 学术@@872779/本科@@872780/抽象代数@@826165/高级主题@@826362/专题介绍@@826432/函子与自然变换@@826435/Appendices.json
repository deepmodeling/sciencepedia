{"hands_on_practices": [{"introduction": "理解函子抽象定义的第一步是观察它在具体例子中的行为。本练习提供了一个协变函子（一个Hom函子）和一组具体的集合与函数，让你通过直接计算来追踪函子的作用。通过计算经由函子转换后的函数复合，你将对函子如何保持态射的复合结构获得一个切实的理解 [@problem_id:1797651]。", "problem": "在记为 $\\mathbf{Set}$ 的集合范畴中，对象是集合，态射是集合之间的函数。考虑一个从 $\\mathbf{Set}$ 到其自身的映射 $F$，该映射是关于一个固定集合 $A = \\{a_1, a_2\\}$ 构建的。\n\n映射 $F$ 的定义如下：\n1.  **对对象**：对任意集合 $X$，该映射赋予一个新的集合 $F(X)$，它是从 $A$ 到 $X$ 的所有可能函数的集合。这通常记为 $\\operatorname{Hom}(A, X)$。\n2.  **对态射**：对任意函数 $f: X \\to Y$，该映射赋予一个新的函数 $F(f): F(X) \\to F(Y)$。对于任意给定的函数 $g \\in F(X)$ (即 $g: A \\to X$)，它在 $F(f)$ 下的像由后复合定义：$F(f)(g) = f \\circ g$。\n\n这个映射 $F$ 是一个协变函子。函子的一个基本性质是它保持复合的结构。也就是说，对于任意两个可复合的函数 $f_1: X \\to Y$ 和 $f_2: Y \\to Z$，以下恒等式成立：$F(f_2 \\circ f_1) = F(f_2) \\circ F(f_1)$。\n\n你的任务是处理这个构造的一个具体实例。考虑以下具体的集合和函数：\n-   $X = \\{p, q, r\\}$\n-   $Y = \\{s, t\\}$\n-   $Z = \\{u, v, w\\}$\n-   函数 $f_1: X \\to Y$ 由赋值 $f_1(p) = s$，$f_1(q) = s$ 和 $f_1(r) = t$ 定义。\n-   函数 $f_2: Y \\to Z$ 由赋值 $f_2(s) = u$ 和 $f_2(t) = w$ 定义。\n-   一个特定的函数 $g: A \\to X$ 由赋值 $g(a_1) = p$ 和 $g(a_2) = r$ 定义。注意，$g$ 是集合 $F(X)$ 中的一个元素。\n\n计算函数 $h = F(f_2 \\circ f_1)(g)$。结果 $h$ 将是一个从 $A$ 到 $Z$ 的函数。为明确你的答案，请提供其值的有序对 $(h(a_1), h(a_2))$。", "solution": "根据函子 $F$ 在态射上的定义，对于任意函数 $f: X \\to Y$ 和任意 $g \\in F(X)$（即 $g: A \\to X$），我们有\n$$\nF(f)(g) = f \\circ g.\n$$\n因此，\n$$\nh = F(f_{2} \\circ f_{1})(g) = (f_{2} \\circ f_{1}) \\circ g.\n$$\n使用 $\\mathbf{Set}$ 中复合的结合律，这等价于\n$$\nh = f_{2} \\circ f_{1} \\circ g,\n$$\n所以对于每个 $a \\in A$，\n$$\nh(a) = f_{2}\\big(f_{1}(g(a))\\big).\n$$\n计算 $f_{1} \\circ g$ 在 $a_{1}$ 和 $a_{2}$ 上的值：\n- $g(a_{1}) = p$ 且 $f_{1}(p) = s$，因此 $(f_{1} \\circ g)(a_{1}) = s$。\n- $g(a_{2}) = r$ 且 $f_{1}(r) = t$，因此 $(f_{1} \\circ g)(a_{2}) = t$。\n现在应用 $f_{2}$：\n- $h(a_{1}) = f_{2}(s) = u$。\n- $h(a_{2}) = f_{2}(t) = w$。\n因此有序对是 $(u, w)$。", "answer": "$$\\boxed{(u, w)}$$", "id": "1797651"}, {"introduction": "并非所有在范畴之间看似合理的映射都能构成一个函子。本练习挑战你检验两个源于群论的构造，判断它们是否满足函子的性质 [@problem_id:1797669]。这个过程将重点考察一个关键条件：对态射的映射是否是良定义的，即一个态射的像是否落在了正确的目标对象中，这是验证一个构造是否为函子的核心步骤。", "problem": "在群范畴中，记作 $\\mathbf{Grp}$，其对象是群，态射是群同态。考虑两种将群映射到其著名子群的不同构造。对于任意群 $G$，我们定义其换位子群 $[G,G]$ 为由所有形如 $ghg^{-1}h^{-1}$（其中 $g, h \\in G$）的元素生成的子群。我们还定义群的中心 $Z(G)$ 为所有满足 $zg = gz$（对于所有 $g \\in G$）的元素 $z \\in G$ 构成的子群。\n\n我们提出两个从范畴 $\\mathbf{Grp}$ 到自身的可能映射，$F_1$ 和 $F_2$。\n\n1.  **构造 $F_1$ (换位子群):**\n    *   对对象：对于任意群 $G$，有 $F_1(G) = [G,G]$。\n    *   对态射：对于任意群同态 $f: G \\to H$，$F_1(f): [G,G] \\to [H,H]$ 定义为 $f$ 在定义域 $[G,G]$ 上的限制。\n\n2.  **构造 $F_2$ (群中心):**\n    *   对对象：对于任意群 $G$，有 $F_2(G) = Z(G)$。\n    *   对态射：对于任意群同态 $f: G \\to H$，$F_2(f): Z(G) \\to Z(H)$ 定义为 $f$ 在定义域 $Z(G)$ 上的限制。\n\n一个构造若要成为一个有效的（协变）函子，其在态射上的映射必须是良定义的（即，定义域子群在同态下的像必须包含在对应的陪域子群中），并且它必须保持恒等态射和态射的复合。\n\n研究这些构造中，哪些（如果有的话）正确地定义了从 $\\mathbf{Grp}$ 到 $\\mathbf{Grp}$ 的函子。\n\nA. $F_1$ 和 $F_2$ 都是函子。\n\nB. 只有 $F_1$ 是函子。\n\nC. 只有 $F_2$ 是函子。\n\nD. $F_1$ 和 $F_2$ 都不是函子。", "solution": "我们分析每个构造在态射上的良定义性以及函子公理。\n\n对于 $F_{1}$：设 $f: G \\to H$ 是一个群同态。我们必须证明 $f([G,G]) \\subseteq [H,H]$。对于任意 $g,h \\in G$，换位子是 $[g,h]=ghg^{-1}h^{-1}$。利用同态的性质，\n$$\nf([g,h])=f(ghg^{-1}h^{-1})=f(g)f(h)f(g)^{-1}f(h)^{-1}=[f(g),f(h)] \\in [H,H].\n$$\n因为 $[G,G]$ 是由这些换位子生成的，并且 $f$ 是一个同态，所以 $f([G,G]) \\subseteq [H,H]$。因此，$F_{1}(f)$ 定义为限制 $f\\vert_{[G,G]}: [G,G] \\to [H,H]$ 是良定义的。\n\n接下来，我们验证 $F_{1}$ 的函子公理。\n- 恒等态射：对于恒等态射 $\\operatorname{id}_{G}: G \\to G$，其在 $[G,G]$ 上的限制是 $[G,G]$ 上的恒等态射，所以 $F_{1}(\\operatorname{id}_{G})=\\operatorname{id}_{[G,G]}$。\n- 复合：给定 $G \\xrightarrow{\\varphi} H \\xrightarrow{\\psi} K$，我们有 $(\\psi \\circ \\varphi)\\vert_{[G,G]}=\\psi\\vert_{[H,H]} \\circ \\varphi\\vert_{[G,G]}$，因为对于任意 $x \\in [G,G]$，\n$$\nF_{1}(\\psi \\circ \\varphi)(x)=(\\psi \\circ \\varphi)(x)=\\psi(\\varphi(x))=F_{1}(\\psi)(F_{1}(\\varphi)(x)),\n$$\n并且如上所示 $\\varphi(x) \\in [H,H]$，$\\psi(\\varphi(x)) \\in [K,K]$。因此 $F_{1}$ 保持复合。所以 $F_{1}$ 是一个函子。\n\n对于 $F_{2}$：我们必须检验对于任意同态 $f: G \\to H$ 是否有 $f(Z(G)) \\subseteq Z(H)$。这在一般情况下是不成立的。给出一个反例：设 $G$ 是一个阿贝尔群，例如 $G=\\mathbb{Z}/2\\mathbb{Z}=\\{e,a\\}$ 且 $a^{2}=e$，所以 $Z(G)=G$。设 $H=S_{3}$，并定义 $f: G \\to S_{3}$ 为 $f(a)=(12)$。这是一个同态，因为 $f(a)^{2}=(12)^{2}=e$。则\n$$\nf(Z(G))=f(G)=\\{e,(12)\\}.\n$$\n然而，$Z(S_{3})=\\{e\\}$，并且 $(12) \\notin Z(S_{3})$。因此 $f(Z(G)) \\nsubseteq Z(H)$，所以所提出的 $F_{2}(f)$ 不是良定义的。因此 $F_{2}$ 不是一个函子。\n\n结论：只有 $F_{1}$ 定义了一个函子。", "answer": "$$\\boxed{B}$$", "id": "1797669"}, {"introduction": "在理解了作为范畴之间映射的函子之后，下一步是理解函子之间的映射，即自然变换。本练习要求你从几个候选定义中，识别出哪些可以在恒等函子和列表函子之间构成一个有效的自然变换 [@problem_id:1797645]。这需要你检验自然性方块图是否对每个候选都成立，从而深化你对自然变换核心定义的理解。", "problem": "在集合范畴（记作 $\\mathbf{Set}$）中，对象是集合，态射是集合之间的函数。\n\n考虑两个从 $\\mathbf{Set}$ 到自身的函子。第一个是恒等函子 $Id: \\mathbf{Set} \\to \\mathbf{Set}$，它将每个集合 $X$ 映射到其自身，$Id(X) = X$，并将每个函数 $f: X \\to Y$ 映射到其自身，$Id(f) = f$。\n\n第二个是列表函子 $L: \\mathbf{Set} \\to \\mathbf{Set}$。对于任意集合 $X$，$L(X)$ 是由 $X$ 中元素构成的所有有限有序列表（或序列）的集合。这包括空列表，我们记作 $[]$。对于任意函数 $f: X \\to Y$，该函子将其映射为一个函数 $L(f): L(X) \\to L(Y)$，该函数通过将 $f$ 应用于列表中的每个元素来作用于列表。例如，$L(f)([x_1, x_2, \\ldots, x_n]) = [f(x_1), f(x_2), \\ldots, f(x_n)]$，且 $L(f)([]) = []$。\n\n从函子 $Id$ 到函子 $L$ 的一个自然变换 $\\eta$ 由一族函数组成，对每个集合 $X$ 都有一个函数，记作 $\\eta_X: Id(X) \\to L(X)$（也就是 $\\eta_X: X \\to L(X)$），使得对于每个函数 $f: X \\to Y$，以下函数等式成立：$L(f) \\circ \\eta_X = \\eta_Y \\circ f$。\n\n下面是对此类函数族 $\\{\\eta_X\\}_{X \\in \\mathbf{Set}}$ 的四种可能的定义。这些定义中，哪些构成从 $Id$ 到 $L$ 的有效自然变换？选择所有有效选项。\n\nA. 对于任意集合 $X$，函数 $\\eta_X: X \\to L(X)$ 定义为 $\\eta_X(x) = [x]$，即包含单个元素 $x$ 的列表。\n\nB. 对于任意集合 $X$，函数 $\\eta_X: X \\to L(X)$ 定义为 $\\eta_X(x) = [x, x]$，即包含重复两次的元素 $x$ 的列表。\n\nC. 对于任意非空集合 $X$，我们选择一个任意但固定的元素 $x_0 \\in X$，并定义函数 $\\eta_X: X \\to L(X)$ 为 $\\eta_X(x) = [x, x_0]$。对于空集 $X = \\emptyset$，$\\eta_{\\emptyset}$ 是从 $\\emptyset$ 到 $L(\\emptyset) = \\{[]\\}$ 的唯一空函数。\n\nD. 对于任意集合 $X$，函数 $\\eta_X: X \\to L(X)$ 定义为 $\\eta_X(x) = []$，即空列表。", "solution": "我们必须确定对于哪些函数族 $\\{\\eta_{X}: X \\to L(X)\\}_{X \\in \\mathbf{Set}}$，自然性条件成立。自然性条件要求对于每个函数 $f: X \\to Y$ 和每个 $x \\in X$，\n$$\n\\left(L(f) \\circ \\eta_{X}\\right)(x) \\;=\\; \\left(\\eta_{Y} \\circ f\\right)(x),\n$$\n等价地，\n$$\nL(f)\\big(\\eta_{X}(x)\\big) \\;=\\; \\eta_{Y}\\big(f(x)\\big).\n$$\n\n考虑选项 A：$\\eta_{X}(x) = [x]$。对于任意 $f: X \\to Y$ 和任意 $x \\in X$，\n$$\nL(f)\\big(\\eta_{X}(x)\\big) \\;=\\; L(f)([x]) \\;=\\; [f(x)]\n$$\n并且\n$$\n\\eta_{Y}\\big(f(x)\\big) \\;=\\; [f(x)].\n$$\n因此对于所有的 $f$ 和 $x$ 都有 $L(f)\\big(\\eta_{X}(x)\\big) = \\eta_{Y}\\big(f(x)\\big)$，所以 A 是自然的。\n\n考虑选项 B：$\\eta_{X}(x) = [x, x]$。对于任意 $f: X \\to Y$ 和任意 $x \\in X$，\n$$\nL(f)\\big(\\eta_{X}(x)\\big) \\;=\\; L(f)([x, x]) \\;=\\; [f(x), f(x)]\n$$\n并且\n$$\n\\eta_{Y}\\big(f(x)\\big) \\;=\\; [f(x), f(x)].\n$$\n因此对于所有的 $f$ 和 $x$ 都有 $L(f)\\big(\\eta_{X}(x)\\big) = \\eta_{Y}\\big(f(x)\\big)$，所以 B 是自然的。\n\n考虑选项 C：对于非空集合 $X$，固定 $x_{0} \\in X$ 并设 $\\eta_{X}(x) = [x, x_{0}]$；对于 $X = \\emptyset$，取唯一的函数 $\\emptyset \\to L(\\emptyset) = \\{[]\\}$。对于非空集合 $X$ 和非空集合 $Y$，分量 $\\eta_{Y}$ 是使用一个选定的 $y_{0} \\in Y$ 来定义的。对于任意 $f: X \\to Y$ 和 $x \\in X$，\n$$\nL(f)\\big(\\eta_{X}(x)\\big) \\;=\\; L(f)([x, x_{0}]) \\;=\\; [f(x), f(x_{0})],\n$$\n而\n$$\n\\eta_{Y}\\big(f(x)\\big) \\;=\\; [f(x), y_{0}].\n$$\n自然性要求对所有 $f$ 和 $x$ 都有 $[f(x), f(x_{0})] = [f(x), y_{0}]$，因此对所有 $f$ 都有 $f(x_{0}) = y_{0}$。只要 $Y$ 至少有两个元素，这就是不可能的，因为我们可以选择一个满足 $f(x_{0}) \\neq y_{0}$ 的函数 $f$。因此，选项C中的函数族通常不满足自然性，不是一个自然变换。\n\n考虑选项 D：对所有 $x \\in X$，$\\eta_{X}(x) = []$。对于任意 $f: X \\to Y$ 和任意 $x \\in X$，\n$$\nL(f)\\big(\\eta_{X}(x)\\big) \\;=\\; L(f)([]) \\;=\\; []\n$$\n并且\n$$\n\\eta_{Y}\\big(f(x)\\big) \\;=\\; [].\n$$\n因此对于所有的 $f$ 和 $x$ 都有 $L(f)\\big(\\eta_{X}(x)\\big) = \\eta_{Y}\\big(f(x)\\big)$，所以 D 是自然的。\n\n因此，选项中有效的自然变换是 A、B 和 D。", "answer": "$$\\boxed{ABD}$$", "id": "1797645"}]}