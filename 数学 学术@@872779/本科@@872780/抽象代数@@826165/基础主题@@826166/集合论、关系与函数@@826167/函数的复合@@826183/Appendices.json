{"hands_on_practices": [{"introduction": "函数复合是一种基本运算，但它的行为与我们熟悉的数字乘法不同。一个关键区别是，函数复合通常不满足交换律，这意味着应用函数的顺序至关重要。本练习将通过一个具体的例子 ([@problem_id:1358150]) 来证明，对于函数 $f$ 和 $g$，$f(g(n))$ 并不总是等于 $g(f(n))$，从而帮助你深入理解这一核心性质。", "problem": "考虑两个将整数映射到整数的函数 $f$ 和 $g$ ($\\mathbb{Z} \\to \\mathbb{Z}$)。对任意整数 $n$，这两个函数定义如下：\n$f(n) = \\lfloor \\frac{n}{2} \\rfloor$\n$g(n) = 2n + 1$\n此处，$\\lfloor x \\rfloor$ 表示向下取整函数，它给出小于或等于 $x$ 的最大整数。\n\n求最小的正整数 $n$，使得函数复合 $(f \\circ g)(n)$ 和 $(g \\circ f)(n)$ 的值不相等。", "solution": "给定对整数 $n$ 有 $f(n)=\\left\\lfloor \\frac{n}{2} \\right\\rfloor$ 和 $g(n)=2n+1$。我们明确地计算这两个复合函数：\n$$(f\\circ g)(n)=f(g(n))=\\left\\lfloor \\frac{2n+1}{2} \\right\\rfloor=\\left\\lfloor n+\\frac{1}{2} \\right\\rfloor=n,$$\n因为对任意整数 $n$，都有 $\\left\\lfloor n+\\frac{1}{2} \\right\\rfloor=n$。\n\n接下来，\n$$(g\\circ f)(n)=g(f(n))=2\\left\\lfloor \\frac{n}{2} \\right\\rfloor+1.$$\n为了进行比较，我们考虑 $n$ 的奇偶性：\n- 如果 $n=2k$ 是偶数，那么 $\\left\\lfloor \\frac{n}{2} \\right\\rfloor=k$，因此 $(g\\circ f)(n)=2k+1=n+1\\neq n=(f\\circ g)(n)$。\n- 如果 $n=2k+1$ 是奇数，那么 $\\left\\lfloor \\frac{n}{2} \\right\\rfloor=k$，因此 $(g\\circ f)(n)=2k+1=n=(f\\circ g)(n)$。\n\n因此，仅当 $n$ 为偶数时，这两个复合函数的值才不相等。最小的正偶数是 $n=2$，这也是使得 $(f\\circ g)(n)\\neq(g\\circ f)(n)$ 的最小正整数。", "answer": "$$\\boxed{2}$$", "id": "1358150"}, {"introduction": "通过复合简单的函数，我们可以构建出更复杂的函数并分析它们的性质。一个常见且重要的任务是寻找函数的“不动点”——即函数作用后值保持不变的输入。本练习 ([@problem_id:2292285]) 要求你首先确定一个复合函数的表达式，然后求解其不动点，这项技能在动力系统和数值分析等领域至关重要。", "problem": "考虑两个实值函数，$f: \\mathbb{R} \\to \\mathbb{R}$ 和 $g: \\mathbb{R} \\to \\mathbb{R}$，由表达式 $f(x) = x^2$ 和 $g(x) = x - 1$ 定义。设 $h(x)$ 是先应用 $g$ 再应用 $f$ 构成的复合函数；即，$h(x) = (f \\circ g)(x) = f(g(x))$。\n\n如果一个函数将某个实数 $c$ 映射到其自身，那么这个数 $c$ 就被称为该函数的一个不动点。换句话说，如果 $h(c) = c$，则 $c$ 是 $h(x)$ 的一个不动点。\n\n求函数 $h(x)$ 的所有实数不动点。最终答案应为精确表达式。", "solution": "我们已知 $f(x) = x^{2}$ 和 $g(x) = x - 1$。复合函数 $h(x) = (f \\circ g)(x)$ 是通过将 $g(x)$ 代入 $f$ 得到的：\n$$\nh(x) = f(g(x)) = f(x - 1) = (x - 1)^{2}.\n$$\n$h$ 的不动点 $c$ 满足 $h(c) = c$。因此，我们求解\n$$\n(c - 1)^{2} = c.\n$$\n展开左边并整理项可得\n$$\nc^{2} - 2c + 1 = c \\quad \\Longrightarrow \\quad c^{2} - 3c + 1 = 0.\n$$\n这是一个一元二次方程。使用一元二次方程 $az^{2} + bz + c = 0$ 的求根公式 $z = \\frac{-b \\pm \\sqrt{b^{2} - 4ac}}{2a}$，并取 $a = 1$，$b = -3$，$c = 1$，我们得到\n$$\nc = \\frac{-(-3) \\pm \\sqrt{(-3)^{2} - 4 \\cdot 1 \\cdot 1}}{2 \\cdot 1} = \\frac{3 \\pm \\sqrt{9 - 4}}{2} = \\frac{3 \\pm \\sqrt{5}}{2}.\n$$\n两个解都是实数，所以这些就是 $h$ 的所有实数不动点。", "answer": "$$\\boxed{\\begin{pmatrix} \\frac{3 - \\sqrt{5}}{2}  \\frac{3 + \\sqrt{5}}{2} \\end{pmatrix}}$$", "id": "2292285"}, {"introduction": "如果将一个函数反复应用于其自身的输出，会发生什么？这个称为函数迭代的过程可以揭示出引人入胜的模式，包括循环。本练习 ([@problem_id:1783051]) 将探讨函数“阶”的概念，即函数需要迭代多少次才能回到初始输入值。通过这个练习，你将发现一个看似复杂的有理函数背后隐藏着一个优美的三阶循环结构。", "problem": "考虑除去零和一的实数集合，记为 $S = \\mathbb{R} \\setminus \\{0, 1\\}$。设函数 $f: S \\to S$ 的定义为 $f(x) = \\frac{x-1}{x}$。\n\n我们可以将这个函数与自身进行重复复合。设 $f^1(x) = f(x)$，$f^2(x) = f(f(x))$，并且对于任意大于1的整数 $n$，有 $f^n(x) = f(f^{n-1}(x))$。这个过程生成一个函数序列。\n\n函数 $f$ 在复合运算下的*阶*被定义为使得对于所有 $x \\in S$ 都有 $f^n(x) = x$ 成立的最小正整数 $n$。求函数 $f$ 的阶。", "solution": "我们首先验证 $f$ 将 $S$ 映射到 $S$。对于 $x \\in S$，$x \\neq 0$，所以 $f(x)$ 有定义。如果 $f(x) = 0$，则 $\\frac{x-1}{x} = 0$ 意味着 $x-1 = 0$，即 $x = 1$，这个值被排除在 $S$ 之外。如果 $f(x) = 1$，则 $\\frac{x-1}{x} = 1$ 意味着 $x-1 = x$，即 $-1 = 0$，这是一个矛盾。因此，对于所有 $x \\in S$，都有 $f(x) \\in S$。\n\n显式地计算迭代。从\n$$\nf(x) = \\frac{x-1}{x},\n$$\n我们得到\n$$\nf^{2}(x) = f(f(x)) = \\frac{\\frac{x-1}{x} - 1}{\\frac{x-1}{x}} = \\frac{\\frac{x-1-x}{x}}{\\frac{x-1}{x}} = \\frac{\\frac{-1}{x}}{\\frac{x-1}{x}} = \\frac{-1}{x} \\cdot \\frac{x}{x-1} = \\frac{-1}{x-1} = \\frac{1}{1-x}.\n$$\n接着，\n$$\nf^{3}(x) = f(f^{2}(x)) = \\frac{\\frac{1}{1-x} - 1}{\\frac{1}{1-x}} = \\frac{\\frac{1-(1-x)}{1-x}}{\\frac{1}{1-x}} = \\frac{\\frac{x}{1-x}}{\\frac{1}{1-x}} = \\frac{x}{1-x} \\cdot (1-x) = x.\n$$\n因此，对于所有 $x \\in S$，都有 $f^{3}(x) = x$，所以 $f^{3}$ 是 $S$ 上的恒等函数。\n\n为了证明其最小性，我们检查 $f$ 和 $f^{2}$ 都不是 $S$ 上的恒等函数。如果 $f$ 是恒等函数，我们会有\n$$\n\\frac{x-1}{x} = x \\quad \\text{对于所有 } x \\in S,\n$$\n这可以整理为 $x^{2} - x + 1 = 0$。这个二次方程的判别式为 $1 - 4 = -3  0$，所以它没有实数解；因此 $f$ 不是恒等函数。如果 $f^{2}$ 是恒等函数，我们会有\n$$\n\\frac{1}{1-x} = x \\quad \\text{对于所有 } x \\in S,\n$$\n这再次意味着 $x^{2} - x + 1 = 0$，没有实数解；因此 $f^{2}$ 不是恒等函数。\n\n因此，使得 $f^{n}$ 是 $S$ 上的恒等函数的最小正整数 $n$ 是 $3$。$f$ 的阶是 $3$。", "answer": "$$\\boxed{3}$$", "id": "1783051"}]}