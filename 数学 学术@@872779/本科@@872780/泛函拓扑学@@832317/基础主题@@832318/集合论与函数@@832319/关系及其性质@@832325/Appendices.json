{"hands_on_practices": [{"introduction": "关系的基本性质——自反性、对称性和传递性——是构建更复杂结构的基石。第一个练习将让你直接应用这些定义，挑战你找出一个满足前两个性质但不满足第三个性质的关系 [@problem_id:1570736]。掌握这项技能对于区分不同类型的关系并理解它们的独特行为至关重要。", "problem": "设集合 $S = \\{1, 2, 3, 4\\}$。集合 $S$ 上的一个关系 $R$ 是笛卡尔积 $S \\times S$ 的一个子集。一个关系 $R$ 被称为：\n1.  **自反的**：如果对于每一个元素 $a \\in S$，都有 $(a, a) \\in R$。\n2.  **对称的**：如果对于每一个 $(a, b) \\in R$，都有 $(b, a) \\in R$。\n3.  **传递的**：如果对于每一个 $(a, b) \\in R$ 和 $(b, c) \\in R$，都有 $(a, c) \\in R$。\n\n从下面列出的 $S$ 上的关系中，找出那个是自反的、对称的，但不是传递的。\n\nA. $R_A = \\{(1,1), (2,2), (3,3), (4,4), (1,2)\\}$\n\nB. $R_B = \\{(1,1), (2,2), (3,3), (4,4), (1,3), (3,1), (2,4), (4,2)\\}$\n\nC. $R_C = \\{(1,1), (2,2), (1,2), (2,1), (2,3), (3,2)\\}$\n\nD. $R_D = \\{(1,1), (2,2), (3,3), (4,4), (1,2), (2,1), (2,3), (3,2)\\}$", "solution": "给定集合 $S=\\{1,2,3,4\\}$ 以及 $S$ 上的关系 $R$。一个关系是自反的，如果所有 $a\\in S$ 都有 $(a,a) \\in R$；是对称的，如果 $(a,b)\\in R$ 意味着 $(b,a)\\in R$；是传递的，如果 $(a,b)\\in R$ 和 $(b,c)\\in R$ 意味着 $(a,c)\\in R$。我们逐一检查每个选项。\n\n对于 $R_{A}=\\{(1,1),(2,2),(3,3),(4,4),(1,2)\\}$:\n- 自反性：是的，因为 $(1,1),(2,2),(3,3),(4,4)$ 都存在。\n- 对称性：不是，因为 $(1,2)\\in R_{A}$ 但 $(2,1)\\notin R_{A}$。\n因此 $R_{A}$ 不是对称的，不是所求的关系。\n\n对于 $R_{B}=\\{(1,1),(2,2),(3,3),(4,4),(1,3),(3,1),(2,4),(4,2)\\}$:\n- 自反性：是的，所有对于 $a\\in S$ 的 $(a,a)$ 都存在。\n- 对称性：是的，每个非对角元素对都和它的逆序对一同出现：$(1,3)$ 与 $(3,1)$，以及 $(2,4)$ 与 $(4,2)$。\n- 传递性：我们检查所有可能的复合情况：\n  - 如果 $(a,3)\\in R_{B}$，那么 $(a,3)=(1,3)$ 或 $(3,3)$。对于 $(3,c)\\in R_{B}$，我们有 $(3,1)$ 或 $(3,3)$。所要求的 $(a,c)$ 是 $(1,1)$ 和 $(1,3)$，两者都在 $R_{B}$ 中。\n  - 如果 $(a,1)\\in R_{B}$，那么 $(a,1)=(3,1)$ 或 $(1,1)$。对于 $(1,c)\\in R_{B}$，我们有 $(1,3)$ 或 $(1,1)$。所要求的 $(a,c)$ 是 $(3,3)$ 和 $(3,1)$，两者都在 $R_{B}$ 中。\n  - 如果 $(a,4)\\in R_{B}$，那么 $(a,4)=(2,4)$ 或 $(4,4)$。对于 $(4,c)\\in R_{B}$，我们有 $(4,2)$ 或 $(4,4)$。所要求的 $(a,c)$ 是 $(2,2)$ 和 $(2,4)$，两者都在 $R_{B}$ 中。\n  - 如果 $(a,2)\\in R_{B}$，那么 $(a,2)=(4,2)$ 或 $(2,2)$。对于 $(2,c)\\in R_{B}$，我们有 $(2,4)$ 或 $(2,2)$。所要求的 $(a,c)$ 是 $(4,4)$ 和 $(4,2)$，两者都在 $R_{B}$ 中。\n因此 $R_{B}$ 是传递的。所以 $R_{B}$ 是自反的、对称的，并且也是传递的，故不是所求的关系。\n\n对于 $R_{C}=\\{(1,1),(2,2),(1,2),(2,1),(2,3),(3,2)\\}$:\n- 自反性：不是，因为缺少 $(3,3)$ 和 $(4,4)$。\n因此 $R_{C}$ 不是自反的，不是所求的关系。\n\n对于 $R_{D}=\\{(1,1),(2,2),(3,3),(4,4),(1,2),(2,1),(2,3),(3,2)\\}$:\n- 自反性：是的，所有对于 $a\\in S$ 的 $(a,a)$ 都存在。\n- 对称性：是的，因为 $(1,2)$ 和 $(2,1)$ 都存在，并且 $(2,3)$ 和 $(3,2)$ 也都存在。\n- 传递性：不是传递的，因为 $(1,2)\\in R_{D}$ 且 $(2,3)\\in R_{D}$，但 $(1,3)\\notin R_{D}$，这违反了传递性。\n因此 $R_{D}$ 是自反的、对称的，但不是传递的。\n\n唯一具有所需性质的关系是 $R_{D}$。", "answer": "$$\\boxed{D}$$", "id": "1570736"}, {"introduction": "掌握了基本性质之后，我们现在转向同时满足自反、对称和传递三个性质的等价关系。这个练习题将探讨一个在整数集上通过最大公约数（$GCD$）定义的、更巧妙的等价关系 [@problem_id:1570685]。其主要目的是帮助你理解一个核心概念：任何等价关系都会将其基础集合划分为若干个互不相交的等价类。", "problem": "考虑所有整数的集合，记为 $\\mathbb{Z}$。对于一个固定的整数 $n = 60$，在 $\\mathbb{Z}$ 上定义一个关系 $\\sim$。对于任意两个整数 $a, b \\in \\mathbb{Z}$，我们称 $a \\sim b$ 当且仅当 $a$ 与 $60$ 的最大公约数 (GCD) 等于 $b$ 与 $60$ 的最大公约数。即，$a \\sim b \\iff \\gcd(a, 60) = \\gcd(b, 60)$。\n\n这个关系是一个等价关系，因此，它将集合 $\\mathbb{Z}$ 划分为一组不相交的等价类。有多少个不同的等价类？\n\nA. 4\n\nB. 8\n\nC. 12\n\nD. 16\n\nE. 60", "solution": "我们已知在 $\\mathbb{Z}$ 上的关系定义为 $a \\sim b$ 当且仅当 $\\gcd(a,60)=\\gcd(b,60)$。在该关系下的一个等价类由值 $d=\\gcd(a,60)$ 决定。对于任意 $a \\in \\mathbb{Z}$，$\\gcd(a,60)$ 是 $60$ 的一个非负整数约数，因此每个等价类对应于 $60$ 的一个正约数。\n\n反之，对于 $60$ 的每个正约数 $d$，取 $a=d$ 会得到 $\\gcd(d,60)=d$，所以每个这样的 $d$ 都会作为 $\\gcd(a,60)$ 的值出现。因此，不同的等价类与 $60$ 的正约数集合是一一对应的。\n\n为了计算它们的数量，写出 $60$ 的质因数分解 $60=2^{2}\\cdot 3^{1}\\cdot 5^{1}$。$60$ 的正约数个数为 $(2+1)(1+1)(1+1)=3\\cdot 2\\cdot 2=12$。\n\n因此，有 $12$ 个不同的等价类，这对应于选项 C。", "answer": "$$\\boxed{C}$$", "id": "1570685"}, {"introduction": "最后，我们来处理一个更具应用性的任务：从一个不完整的关系出发，通过补充使其满足特定的结构要求。这个练习题将介绍自反和传递闭包的实用概念，这一构造在网络分析和逻辑学等领域有着广泛的应用 [@problem_id:1570708]。你将学习如何系统地为一个关系添加最少的必要元素，以确保它同时具备自反性和传递性。", "problem": "一家科技公司正在升级其五个安全数据中心之间的通信网络，这些数据中心标记为集合 $S = \\{A, B, C, D, E\\}$。现有网络由一组单向数据管道组成，由关系 $L_0 = \\{(A, B), (B, C), (D, E)\\}$ 表示，其中一对 $(X, Y)$ 表示数据可以从中心 $X$ 流向中心 $Y$。\n\n为增强安全性和可靠性，网络必须升级到一个由关系 $L_f$ 描述的新配置，该配置需遵循以下两个强制性协议：\n1.  **自我诊断协议：** 对于集合 $S$ 中的每个数据中心 $X$，最终配置中必须存在一条从 $X$ 到其自身的管道。\n2.  **推断连接协议：** 对于 $S$ 中的任意数据中心 $X, Y, Z$，如果存在一条从 $X$ 到 $Y$ 的管道，并且存在另一条从 $Y$ 到 $Z$ 的管道，那么也必须存在一条从 $X$ 到 $Z$ 的直接管道。\n\n升级必须是最小化的，这意味着最终的管道集合 $L_f$ 必须是包含原始集合 $L_0$ 并满足这两个协议的最小可能集合。\n\n在最终升级后的网络配置 $L_f$ 中，管道的总数是多少？", "solution": "给定有限集 $S=\\{A,B,C,D,E\\}$ 和初始关系 $L_0=\\{(A,B),(B,C),(D,E)\\}$。最终关系 $L_f$ 必须是 $L_0$ 的最小超集，且该超集同时具有自反性和传递性。\n\n首先，强制满足自反性。一个在 $S$ 上的关系是自反的，当且仅当它包含所有对角偶对。将 $S$ 上的对角（恒等）关系定义为\n$$\n\\Delta=\\{(A,A),(B,B),(C,C),(D,D),(E,E)\\}.\n$$\n$L_0$ 的最小自反超集是\n$$\nL_r=L_0\\cup\\Delta=\\{(A,B),(B,C),(D,E)\\}\\cup\\{(A,A),(B,B),(C,C),(D,D),(E,E)\\}.\n$$\n\n其次，强制满足传递性。一个关系 $R$ 是传递的，如果对于所有 $x,y,z\\in S$，只要 $(x,y)\\in R$ 且 $(y,z)\\in R$ 就有 $(x,z)\\in R$。一个关系的最小传递超集是其传递闭包，它恰好包含所有满足以下条件的偶对 $(x,y)$：在关系中存在一条从 $x$ 到 $y$ 的有向路径。\n\n注意到，添加 $\\Delta$ 并不会在不同元素之间创建任何新的有向路径，因为每个元素只增加了一个自环。因此，由传递性要求的非平凡偶对来自于 $L_0$ 中已有的复合。从 $L_0$ 中我们有路径 $A\\to B\\to C$，这就要求根据传递性必须包含 $(A,C)$：\n$$\n(A,B)\\in L_0,\\quad (B,C)\\in L_0\\ \\Rightarrow\\ (A,C)\\ \\text{must be included}.\n$$\n没有其他不同元素之间的复合：\n- 从 $B$ 出发只有 $B\\to C$，而从 $C$ 出发没有指向不同元素的出边。\n- 从 $D$ 出发有 $D\\to E$，而从 $E$ 出发没有指向不同元素的出边。\n- 从 $A$ 出发有 $A\\to B$ 和（一旦添加后）$A\\to C$，但 $C$ 没有指向不同元素的出边。\n\n因此 $L_f$ 的最小传递超集是\n$$\nL_f=\\Delta\\cup\\{(A,B),(B,C),(A,C),(D,E)\\}.\n$$\n计算偶对的数量，$\\Delta$ 贡献了 $5$ 个偶对，非对角偶对有 4 个，所以 $L_f$ 中管道的总数是\n$$\n5+4=9.\n$$\n\n最小性成立，因为 $L_0$ 的任何自反、传递超集都必须包含 $\\Delta$ 的所有元素，并且由于 $(A,B)$ 和 $(B,C)$ 的复合，必须包含 $(A,C)$，而 $L_0$ 中的任何路径都不再蕴含其他非对角偶对。", "answer": "$$\\boxed{9}$$", "id": "1570708"}]}