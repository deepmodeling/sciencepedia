{"hands_on_practices": [{"introduction": "我们通常学习的素数定义（大于1且只能被1和自身整除的正整数）在更广泛的数学结构中是不够的。这个练习将引导我们回到第一性原理，使用环论中的形式化定义来重新审视整数。通过将整数（包括负数）分类为单位、素元或合元，我们能更深刻地理解这些基本概念在整数环 $\\mathbb{Z}$ 中的真正含义。[@problem_id:3088436]", "problem": "考虑整数环 $\\mathbb{Z}$。使用以下基本定义。\n(i) 一个单位元是这样一个元素 $u \\in \\mathbb{Z}$，存在 $v \\in \\mathbb{Z}$ 使得 $uv = 1$。\n(ii) 一个素元是这样一个元素 $p \\in \\mathbb{Z}$，满足 $p \\neq 0$，$p$ 不是单位元，并且只要 $p$ 整除乘积 $ab$（即 $p \\mid ab$），那么 $p \\mid a$ 或 $p \\mid b$。\n(iii) 一个合元是一个非零、非单位元的元素 $c \\in \\mathbb{Z}$，它可以写成乘积 $c = ab$ 的形式，其中 $a, b \\in \\mathbb{Z}$ 都不是单位元。\n\n仅使用这些定义和关于 $\\mathbb{Z}$ 中整除性的公认事实，将集合 $\\{-1, 0, 1, -2, -3, -6\\}$ 中的每个元素分类为单位元、素元或合元，并从第一性原理出发证明每个分类。\n\n定义函数 $\\phi : \\mathbb{Z} \\to \\mathbb{R}$ 如下\n$$\n\\phi(n) = \n\\begin{cases}\n2  &\\text{如果 } n \\text{ 是 } \\mathbb{Z} \\text{ 中的单位元},\\\\\n3  &\\text{如果 } n \\text{ 是 } \\mathbb{Z} \\text{ 中的素元},\\\\\n5  &\\text{如果 } n \\text{ 是 } \\mathbb{Z} \\text{ 中的合元},\\\\\n0  &\\text{其他情况}.\n\\end{cases}\n$$\n计算单个实数\n$$\nS = \\sum_{n \\in \\{-1, 0, 1, -2, -3, -6\\}} \\phi(n).\n$$\n将最终答案表示为一个精确的整数（无需四舍五入）。", "solution": "我们根据所给定义对集合 $\\{-1, 0, 1, -2, -3, -6\\}$ 中的每个元素进行分类。\n\n1.  **1 和 -1（单位元）**:\n    *   根据定义 (i)，$1$ 是单位元，因为存在 $v=1 \\in \\mathbb{Z}$ 使得 $1 \\cdot 1 = 1$。\n    *   $-1$ 是单位元，因为存在 $v=-1 \\in \\mathbb{Z}$ 使得 $(-1) \\cdot (-1) = 1$。\n    *   因此，$\\phi(1) = 2$ 和 $\\phi(-1) = 2$。\n\n2.  **-2 和 -3（素元）**:\n    *   **-2**: 它不为零，也不是单位元。根据定义 (ii)，我们需要验证欧几里得引理。若 $-2 \\mid ab$，则 $ab$ 是一个偶数。这意味着 $a$ 和 $b$ 中至少有一个是偶数。如果 $a$ 是偶数，则 $-2 \\mid a$；如果 $b$ 是偶数，则 $-2 \\mid b$。所以 $-2$ 是素元。$\\phi(-2) = 3$。\n    *   **-3**: 它不为零，也不是单位元。若 $-3 \\mid ab$，则 $ab$ 是 $3$ 的倍数。由于 $3$ 是素数，这意味着 $a$ 或 $b$ 至少有一个是 $3$ 的倍数。如果 $a$ 是 $3$ 的倍数，则 $-3 \\mid a$；如果 $b$ 是 $3$ 的倍数，则 $-3 \\mid b$。所以 $-3$ 是素元。$\\phi(-3) = 3$。\n\n3.  **-6（合元）**:\n    *   它不为零，也不是单位元。根据定义 (iii)，它可以被分解为两个非单位元的乘积。例如，$-6 = 2 \\cdot (-3)$。由于 $2$ 和 $-3$ 都不是单位元（即它们不等于 $1$ 或 $-1$），所以 $-6$ 是合元。\n    *   因此，$\\phi(-6) = 5$。\n\n4.  **0（其他情况）**:\n    *   $0$ 是零元素，它在素元和合元的定义中被明确排除（“非零”）。它也不是单位元。因此，它属于“其他情况”。\n    *   因此，$\\phi(0) = 0$。\n\n现在，我们计算总和 $S$：\n$$\nS = \\phi(-1) + \\phi(0) + \\phi(1) + \\phi(-2) + \\phi(-3) + \\phi(-6)\n$$\n$$\nS = 2 + 0 + 2 + 3 + 3 + 5 = 15\n$$\n最终结果是 $15$。", "answer": "$$\n\\boxed{15}\n$$", "id": "3088436"}, {"introduction": "确定一个数是否为素数的最直接方法是试除法，但我们应该测试到多大的数呢？这个练习要求我们首先证明一个基本而强大的结论：只需测试到该数的平方根即可。随后，你将亲手应用这一原理，对一个四位数进行质因数分解，从而将理论与高效的计算实践相结合。[@problem_id:3091200]", "problem": "设 $n$ 是一个正整数。如果一个数 $p \\geq 2$ 的正因数只有 $1$ 和 $p$ 本身，则称其为质数。如果一个数 $n \\geq 2$ 存在非平凡分解 $n = ab$，其中 $a,b \\in \\mathbb{Z}$，$1  a  n$ 且 $1  b  n$，则称其为合数。算术基本定理（FTA）断言，每个大于等于2的整数 $n \\geq 2$ 都可以唯一地（不计顺序）写成质数幂的乘积。从这些定义和事实出发，首先从基本原理证明，要判断一个整数 $n$ 是质数还是合数，只需检验其是否能被不大于 $\\sqrt{n}$ 的整数整除即可。然后应用此推理来确定 $8051$ 的唯一质因数分解，并使用以其平方根为界的整除性检验来证明你发现的任何非平凡因数的质性。将你的最终答案表示为质数的单一乘积形式。无需进行四舍五入。", "solution": "**第一部分：质性检验界的证明**\n\n设 $n \\ge 2$ 是一个合数。根据定义，$n$ 可以写成乘积 $n=ab$ 的形式，其中 $a$ 和 $b$ 是整数且满足 $1  a \\le b  n$（不失一般性，我们假设 $a \\le b$）。\n我们用反证法证明 $a \\le \\sqrt{n}$。假设 $a > \\sqrt{n}$。因为 $b \\ge a$，所以也必有 $b > \\sqrt{n}$。\n将这两个不等式相乘，我们得到 $ab > \\sqrt{n} \\cdot \\sqrt{n} = n$。\n这与 $n=ab$ 相矛盾。因此，最初的假设 $a > \\sqrt{n}$ 是错误的。\n所以，任何合数 $n$ 都必须有一个因子 $a$ 满足 $1  a \\le \\sqrt{n}$。根据算术基本定理，这个因子 $a$ 本身必定有一个素因子 $p$。因此 $p \\le a \\le \\sqrt{n}$。\n结论：要判断一个整数 $n$ 是否为素数，我们只需要检验它是否能被任何不大于 $\\sqrt{n}$ 的素数整除。如果没有找到这样的素因子，$n$ 必定是素数。\n\n**第二部分：对 $8051$ 进行质因数分解**\n\n我们应用上述结论来分解 $n = 8051$。\n首先，计算检验上限：$\\sqrt{8051} \\approx 89.7$。因此，我们只需要测试不大于 89 的素数。\n按顺序用素数 $2, 3, 5, \\dots$ 进行试除：\n- $8051$ 不能被 $2, 3, 5$ 整除。\n- 经过一系列试除，我们发现 $8051$ 可以被 $83$ 整除：\n  $8051 \\div 83 = 97$。\n所以我们得到分解式：$8051 = 83 \\times 97$。\n\n**第三部分：证明因子的质性**\n\n接下来，我们需要证明 $83$ 和 $97$ 是素数。\n- **对于 83**：检验上限为 $\\sqrt{83} \\approx 9.1$。我们需要测试的素数是 $2, 3, 5, 7$。经检验，$83$ 不能被这些素数中的任何一个整除。因此，$83$ 是素数。\n- **对于 97**：检验上限为 $\\sqrt{97} \\approx 9.8$。我们需要测试的素数同样是 $2, 3, 5, 7$。经检验，$97$ 不能被这些素数中的任何一个整除。因此，$97$ 是素数。\n\n由于 $83$ 和 $97$ 都是素数，因此 $8051$ 的唯一质因数分解是 $83 \\times 97$。", "answer": "$$\\boxed{83 \\times 97}$$", "id": "3091200"}, {"introduction": "对于密码学中使用的超大数，逐一试除进行素性测试是不可行的，这催生了更高效的概率性素性测试。本练习将揭示这一领域的复杂性，让你亲手验证一个合数如何“伪装”成素数，并通过强大的米勒-拉宾测试。通过分析这种“强伪素数”，你将了解到现代数论在区分素数与合数时所面临的微妙挑战。[@problem_id:3088449]", "problem": "在本题中，您将验证一个特定的合数是关于给定底数的强伪素数，并计算在强可能素数测试中使用的相关参数。仅使用模算术、素数和合数的基本定义和经过验证的事实。\n\n设底数为 $a=2$，整数为 $n=2047$。您将验证 $n$ 是合数，检查 $\\gcd(a,n)=1$（其中 $\\gcd$ 表示最大公约数(GCD)），然后通过分析 $n-1$ 分解为 $n-1=2^{s} d$（其中 $d$ 为奇数）的形式，来确定 $n$ 是否为关于底数 $a$ 的强伪素数。使用以下定义：一个奇合数 $n$，若满足 $\\gcd(a,n)=1$，则当 $a^{d} \\equiv 1 \\pmod{n}$ 或存在一个整数 $r$（其中 $0 \\le r  s$）使得 $a^{2^{r} d} \\equiv -1 \\pmod{n}$ 时，$n$ 是关于底数 $a$ 的强伪素数。\n\n计算分解式 $n-1=2^{s} d$（其中 $d$ 为奇数）中的参数 $s$ 和 $d$。然后，仅使用模算术的性质，根据上述定义验证 $n$ 是关于底数 $a$ 的强伪素数。将您的最终答案以包含 $s$ 和 $d$ 的行矩阵形式报告，使用 LaTeX 的 $\\texttt{pmatrix}$ 环境书写。无需四舍五入。", "solution": "我们按照题目要求逐步进行验证和计算。\n**已知条件**：底数 $a=2$，整数 $n=2047$。\n\n**1. 验证 $n=2047$ 是合数**\n通过试除法，我们可以测试小的素数是否为 $n$ 的因子。我们发现：\n$$2047 = 23 \\times 89$$\n由于 $2047$ 有非平凡因子 $23$ 和 $89$，所以它是一个合数。\n\n**2. 检查 $\\gcd(a,n)=1$**\n底数为 $a=2$，整数为 $n=2047$。因为 $2047$ 是奇数，所以它与 $2$ 互素。\n$$\\gcd(2, 2047) = 1$$\n条件满足。\n\n**3. 计算参数 $s$ 和 $d$**\n我们需要将 $n-1$ 分解为 $n-1 = 2^s d$ 的形式，其中 $d$ 是奇数。\n$$n-1 = 2047 - 1 = 2046$$\n分解出所有 $2$ 的因子：\n$$2046 = 2 \\times 1023$$\n由于 $1023$ 是奇数，分解完成。我们得到：\n$$s = 1, \\quad d = 1023$$\n\n**4. 验证强伪素数条件**\n根据定义，如果满足以下任一条件，$n$ 就是关于底数 $a$ 的强伪素数：\n(i) $a^d \\equiv 1 \\pmod{n}$\n(ii) 存在整数 $r$ 且 $0 \\le r  s$，使得 $a^{2^r d} \\equiv -1 \\pmod{n}$\n\n我们来检查条件 (i)：计算 $2^{1023} \\pmod{2047}$。\n我们注意到 $2047 = 2^{11} - 1$，这是一个梅森数。这意味着 $2^{11} \\equiv 1 \\pmod{2047}$。\n我们可以用这个关系来简化计算。将指数 $d=1023$ 用 $11$ 表示：\n$$1023 = 11 \\times 93$$\n因此，\n$$2^{1023} = 2^{11 \\times 93} = (2^{11})^{93}$$\n应用同余关系：\n$$(2^{11})^{93} \\equiv 1^{93} \\equiv 1 \\pmod{2047}$$\n由于条件 (i) $a^d \\equiv 1 \\pmod{n}$ 成立，根据定义，$n=2047$ 是关于底数 $a=2$ 的强伪素数。\n\n最终，我们计算出的参数是 $s=1$ 和 $d=1023$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1  1023\n\\end{pmatrix}\n}\n$$", "id": "3088449"}]}