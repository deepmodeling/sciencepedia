{"hands_on_practices": [{"introduction": "理解数字在不同基数下的结构是数论的基础。本练习将探讨一个特殊但重要的例子，即数字 $b^k-1$，并揭示其简单、重复的模式。通过将其与等比级数公式联系起来，这是巩固您对进位制多项式本质理解的绝佳方式。[@problem_id:3089136]", "problem": "设 $b \\geq 2$ 为一个整数底数，设 $k \\in \\mathbb{N}$ 为一个正整数。定义 $n = b^{k} - 1$。仅使用非负整数的 $b$ 进制展开的定义和关于有限几何级数的标准事实，确定 $n$ 的 $b$ 进制表示，并严格证明其 $k$ 个数位为何均等于 $b-1$。然后，对于 $b$ 进制数位和函数 $s_{b}(m)$，其定义为 $s_{b}(m) = \\sum_{i=0}^{t} d_{i}$，其中 $m = \\sum_{i=0}^{t} d_{i} b^{i}$ 且 $0 \\leq d_{i}  b-1$，计算 $s_{b}(n)$。将您的最终答案表示为单个封闭形式表达式。无需四舍五入。", "solution": "用户希望找到整数 $n = b^k - 1$ 的 $b$ 进制表示，然后计算其数位和 $s_b(n)$。该问题定义明确，并要求基于 $b$ 进制展开的定义和有限几何级数公式进行证明。\n\n首先，我们将确定 $n = b^k - 1$ 的 $b$ 进制表示。问题陈述引导我们使用有限几何级数的公式，即对于 $r \\neq 1$，有 $\\sum_{i=0}^{m-1} r^i = \\frac{r^m - 1}{r-1}$。\n\n让我们考虑一个数，其 $b$ 进制表示由 $k$ 个数位组成，每个数位都等于 $b-1$。这个数的值由以下关于 $b$ 的多项式给出：\n$$ \\sum_{i=0}^{k-1} (b-1)b^i $$\n我们可以从求和式中提出常数项 $(b-1)$：\n$$ (b-1) \\sum_{i=0}^{k-1} b^i $$\n和式 $\\sum_{i=0}^{k-1} b^i$ 是一个有限几何级数，其首项为 $b^0 = 1$，公比为 $b$，和式中共有 $k$ 项（从 $i=0$ 到 $i=k-1$）。由于问题规定 $b \\geq 2$，所以公比 $b$ 不等于 $1$。我们可以应用几何级数求和的标准公式：\n$$ \\sum_{i=0}^{k-1} b^i = \\frac{b^k - 1}{b - 1} $$\n将此结果代回到我们表示该数值的表达式中，得到：\n$$ (b-1) \\left( \\frac{b^k - 1}{b - 1} \\right) $$\n由于 $b \\geq 2$，所以 $b-1 \\neq 0$，因此我们可以约去分子和分母中的 $(b-1)$ 项，从而得到：\n$$ b^k - 1 $$\n这恰好是整数 $n$ 的定义。因此，我们证明了 $n = \\sum_{i=0}^{k-1} (b-1)b^i$。\n\n现在，我们必须严格证明为什么这是 $n$ 的唯一的 $b$ 进制表示。一个非负整数 $m$ 的 $b$ 进制表示是形如 $m = \\sum_{i=0}^{t} d_i b^i$ 的表达式，其中系数 $d_i$（称为数位）必须对所有 $i$ 满足条件 $0 \\leq d_i  b$。进制表示的存在性和唯一性定理保证，对于任何给定的整数底数 $b \\geq 2$，每个非负整数都有唯一的这种表示。\n\n在我们的表达式 $n = \\sum_{i=0}^{k-1} (b-1)b^i$ 中，系数为 $d_i = b-1$（对于 $i = 0, 1, \\dots, k-1$）。我们必须检查这些系数在 $b$ 进制中是否是有效的数位。条件是 $0 \\leq d_i  b$。对于我们的系数，有 $d_i = b-1$。由于 $b$ 是一个整数且 $b \\geq 2$，我们有 $b-1 \\geq 1$。因此，不等式 $0 \\leq b-1  b$ 成立。\n既然我们已经找到了 $n$ 的一个以 $b$ 的幂次和形式表示的展开式，其系数是有效的数位，并且由于这种表示是唯一的，我们便成功地确定了 $n$ 的 $b$ 进制表示。该表示由 $k$ 个数位组成（因为 $b$ 的最高次幂是 $b^{k-1}$），并且对于 $i=0, \\dots, k-1$，每个数位 $d_i$ 都等于 $b-1$。在位置记数法中，这可以写成由 $k$ 个数位组成的字符串 $(b-1)(b-1)\\dots(b-1)_b$。\n\n接下来，我们需要计算 $n$ 的 $b$ 进制数位和，记为 $s_b(n)$。函数 $s_b(m)$ 定义为 $m$ 在其 $b$ 进制表示中所有数位的和：$s_b(m) = \\sum_{i=0}^{t} d_i$。\n对于我们的整数 $n$，其表示为 $n = \\sum_{i=0}^{k-1} (b-1)b^i$。数位是 $d_i = b-1$，其中 $i=0, 1, \\dots, k-1$。\n因此，数位和是：\n$$ s_b(n) = \\sum_{i=0}^{k-1} d_i = \\sum_{i=0}^{k-1} (b-1) $$\n这是一个将常数值 $(b-1)$ 重复 $k$ 次的求和。这个和的值就是常数项与项数的乘积：\n$$ s_b(n) = k \\times (b-1) $$\n这是 $n = b^k - 1$ 在 $b$ 进制下的数位和的封闭形式表达式。", "answer": "$$\n\\boxed{k(b-1)}\n$$", "id": "3089136"}, {"introduction": "现在我们从整数转向分数。您在许多分数的十进制展开中看到的循环模式并非随机。本练习将揭示循环节长度与模算术原理（特别是乘法阶数概念）之间的深刻联系。您将看到抽象的数论如何预测我们日常使用的数字中的具体模式。[@problem_id:3089118]", "problem": "一个有理数 $a/n$ 在 $\\gcd(b,n)=1$ 的条件下，其 $b$ 进制展开是循环的，这个循环节源于 $b$ 进制长除法过程，该过程生成一个模 $n$ 的有限余数序列且最终必然进入循环。请仅使用带余除法和模算术，解释为什么当 $a$ 和 $n$ 互质时，$a/n$ 的循环节长度等于满足 $b^{k} \\equiv 1 \\pmod{n}$ 的最小正整数 $k$。然后，将此推理应用于十进制和单位分数 $1/37$，通过计算 $10$ 模 $37$ 的乘法阶来确定其十进制展开的循环周期。最后，通过对 $1/37$ 进行十进制长除法来显式地展示其循环块，从而验证你的计算。以整数形式说明循环周期长度。无需四舍五入。", "solution": "该问题是有效的，因为它在科学上基于数论，提法得当且客观。我们将分三部分进行：首先，对有理数底数展开的循环节长度进行一般性解释；其次，将该理论应用于十进制下的分数 $1/37$；第三，通过长除法对结果进行验证。\n\n第一部分：循环节长度的解释\n\n设有理数为 $\\frac{a}{n}$，其中 $a, n$ 为正整数，不失一般性，我们可以通过减去整数部分来假设 $1 \\le a  n$。问题指定了两个条件：$\\gcd(b, n) = 1$ 和 $\\gcd(a, n) = 1$。我们想要找到 $b$ 进制展开的数字 $d_1, d_2, d_3, \\dots$，其展开式由下式给出\n$$ \\frac{a}{n} = \\sum_{i=1}^{\\infty} d_i b^{-i} = 0.d_1 d_2 d_3 \\dots_b $$\n数字 $d_i$ 是满足 $0 \\le d_i  b$ 的整数。\n\n长除法算法提供了一个找到这些数字的方法。\n为求第一位数字 $d_1$，我们将 $\\frac{a}{n}$ 乘以 $b$：\n$$ \\frac{ab}{n} = d_1 + \\sum_{i=2}^{\\infty} d_i b^{-(i-1)} $$\n该表达式的整数部分是 $d_1$，所以 $d_1 = \\lfloor \\frac{ab}{n} \\rfloor$。根据带余除法，我们可以写出 $ab = d_1 n + r_1$，其中 $r_1$ 是余数，满足 $0 \\le r_1  n$。数字序列由余数序列生成。\n\n算法的下一步对小数部分 $\\frac{r_1}{n}$ 进行操作。我们再次乘以 $b$：\n$$ \\frac{r_1 b}{n} = d_2 + \\frac{r_2}{n} $$\n这里，$d_2 = \\lfloor \\frac{r_1 b}{n} \\rfloor$，且带余除法给出 $r_1 b = d_2 n + r_2$，其中 $0 \\le r_2  n$。\n\n我们可以推广这个过程。令 $r_0 = a$。算法的第 $(i+1)$ 步由以下递归关系给出：\n$$ r_i b = d_{i+1} n + r_{i+1}, \\quad \\text{for } i \\ge 0 $$\n其中 $d_{i+1} = \\lfloor \\frac{r_i b}{n} \\rfloor$ 是第 $(i+1)$ 位数字，$r_{i+1}$ 是第 $(i+1)$ 个余数，满足 $0 \\le r_{i+1}  n$。\n\n从该递归关系，我们可以用模算术来表示余数：\n$$ r_{i+1} \\equiv r_i b \\pmod{n} $$\n从 $r_1 \\equiv r_0 b \\pmod{n} \\equiv ab \\pmod{n}$ 开始，重复应用此关系，我们发现：\n$$ r_i \\equiv r_{i-1}b \\equiv r_{i-2}b^2 \\equiv \\dots \\equiv r_0 b^i \\pmod{n} $$\n因此，对于任何 $i \\ge 1$，第 $i$ 个余数由 $r_i \\equiv ab^i \\pmod{n}$ 给出。\n\n数字序列 $d_1, d_2, \\dots$ 循环，当且仅当余数序列 $r_1, r_2, \\dots$ 循环。因为每个余数 $r_i$ 必须属于有限集 $\\{0, 1, \\dots, n-1\\}$，所以该序列最终必然重复。给定 $\\gcd(b, n)=1$ 和 $\\gcd(a, n)=1$，可以证明 $r_i$ 永远不会为 $0$，因此展开式是非终止的。\n\n设展开的周期为 $p$。这意味着余数序列是周期性的。为使展开是纯循环的（即没有非循环部分），余数序列 $r_1, r_2, \\dots$ 必须立即开始循环。这要求序列中第一个出现的重复余数是 $r_0=a$。下面我们来证明这一点。假设余数序列 $r_0, r_1, r_2, \\ldots$ 中的第一个重复是 $r_k = r_j$，其中 $0 \\le j  k$。由 $r_i \\equiv r_{i-1}b \\pmod n$ 可得 $r_{j-1}b \\equiv r_j \\pmod n$ 以及 $r_{k-1}b \\equiv r_k \\pmod n$。由于 $r_j=r_k$，我们推断出 $r_{j-1}b \\equiv r_{k-1}b \\pmod n$。因为 $\\gcd(b,n)=1$，$b$ 模 $n$ 可逆，所以我们可以两边乘以 $b^{-1}$ 得到 $r_{j-1} \\equiv r_{k-1} \\pmod n$。由于两者都是小于 $n$ 的有效余数，我们有 $r_{j-1}=r_{k-1}$。这个反向归纳可以重复 $j$ 次，得到 $r_0 = r_{k-j}$。这表明第一个被重复的余数确实是 $r_0=a$。\n\n因此，循环节的长度 $k$ 是使 $r_k = r_0 = a$ 成立的最小正整数。\n使用我们关于余数的模算术表达式，$r_k \\equiv ab^k \\pmod{n}$。条件 $r_k = a$ 变为：\n$$ ab^k \\equiv a \\pmod{n} $$\n问题陈述 $a$ 和 $n$ 互质，即 $\\gcd(a,n)=1$。这意味着 $a$ 存在模 $n$ 的乘法逆元。将同余式两边乘以 $a^{-1}$，我们得到：\n$$ b^k \\equiv 1 \\pmod{n} $$\n循环节的长度是使该同余式成立的最小正整数 $k$。根据定义，这个 $k$ 就是 $b$ 模 $n$ 的乘法阶。\n\n第二部分：应用于十进制下的 $\\frac{1}{37}$\n\n我们被要求求出分数 $\\frac{1}{37}$ 的十进制展开的循环周期长度。\n这里，$a=1$, $n=37$, $b=10$。我们验证条件：\n1. $\\gcd(a,n) = \\gcd(1,37) = 1$。\n2. $\\gcd(b,n) = \\gcd(10,37) = 1$，因为 $37$ 是一个素数且不能整除 $10$。\n\n条件已满足。根据上述推理，循环周期的长度是 $10$ 模 $37$ 的乘法阶。我们寻找满足 $10^k \\equiv 1 \\pmod{37}$ 的最小正整数 $k$。\n\n根据费马小定理，由于 $37$ 是素数，我们知道 $10^{36} \\equiv 1 \\pmod{37}$。因此，阶 $k$ 必须是 $36$ 的一个因子。$36$ 的因子有 $1, 2, 3, 4, 6, 9, 12, 18, 36$。我们先从最小的因子开始测试：\n- 对于 $k=1$：$10^1 = 10 \\not\\equiv 1 \\pmod{37}$。\n- 对于 $k=2$：$10^2 = 100$。由于 $100 = 2 \\times 37 + 26$，我们有 $10^2 \\equiv 26 \\pmod{37}$。这不等于 $1$。\n- 对于 $k=3$：$10^3 = 10^2 \\times 10 \\equiv 26 \\times 10 = 260 \\pmod{37}$。为计算 $260 \\pmod{37}$，我们做除法：$260 = 7 \\times 37 + 1$。因此，$10^3 \\equiv 1 \\pmod{37}$。\n\n使 $10^k \\equiv 1 \\pmod{37}$ 成立的最小正整数 $k$ 是 $3$。因此，$\\frac{1}{37}$ 的十进制展开的循环周期长度是 $3$。\n\n第三部分：通过长除法验证\n\n我们现在对 $\\frac{1}{37}$ 进行长除法，以显式地求出其十进制展开。\n令 $r_0 = a = 1$。\n1.  为求第一位数字 $d_1$，我们计算 $r_0 \\times 10 = 1 \\times 10 = 10$。除以 $37$ 得 $10 = 0 \\times 37 + 10$。所以，$d_1 = 0$，余数为 $r_1=10$。\n2.  为求 $d_2$，我们计算 $r_1 \\times 10 = 10 \\times 10 = 100$。除以 $37$ 得 $100 = 2 \\times 37 + 26$。所以，$d_2 = 2$，余数为 $r_2=26$。\n3.  为求 $d_3$，我们计算 $r_2 \\times 10 = 26 \\times 10 = 260$。除以 $37$ 得 $260 = 7 \\times 37 + 1$。所以，$d_3 = 7$，余数为 $r_3=1$。\n4.  此时，余数是 $r_3=1$，这与我们的初始余数 $r_0=1$ 相等。余数序列 $(10, 26, 1)$ 完成了一个循环。下一次迭代将使用 $r_3=1$，并产生与第一步相同的数字和余数（$d_4 = 0, r_4 = 10$），依此类推。\n\n生成的数字序列是 $d_1, d_2, d_3 = 0, 2, 7$。这个数字块将会重复。\n展开式为：\n$$ \\frac{1}{37} = 0.027027027\\dots = 0.\\overline{027} $$\n循环块是 `027`，其长度确实是 $3$。这验证了从模算术得到的结果。循环周期长度是 $3$。", "answer": "$$\\boxed{3}$$", "id": "3089118"}, {"introduction": "让我们挑战一下基数必须为正数的假设。本练习将介绍基数为 $-2$ 的系统，这是一个迷人的“负二进制”世界，其中正整数和负整数都可以用相同的数字集（0 和 1）进行唯一表示，而无需单独的符号位。您将推导该系统的原理并进行算术运算，从而深入了解位置记数法的灵活性和强大功能。[@problem_id:3089124]", "problem": "设 $b$ 是一个满足 $|b| \\geq 2$ 的整数。一个整数 $n$ 在基数 $b$ 下的按位基数表示法是形如 $n = \\sum_{k=0}^{m} d_{k} b^{k}$ 的表达式，其中数位 $d_{k}$ 来自一个固定的有限数位集。在标准的十进制中，使用数位 $\\{0,1,\\dots,9\\}$，负数通过外部的符号位或减号来表示。相比之下，对于基数 $-2$，可以尝试使用数位集 $\\{0,1\\}$ 而无需任何外部符号位。\n\n仅使用整数环 $\\mathbb{Z}$ 中的除法算法和按位表示法的基本定义，从第一性原理推导出每个整数 $n \\in \\mathbb{Z}$ 都允许一个基数为 $-2$ 的表示形式 $n = \\sum_{k=0}^{m} d_{k} (-2)^{k}$，其中 $d_{k} \\in \\{0,1\\}$，并且这种表示是唯一的。解释为什么这意味着在基数 $-2$ 中没有独立的符号位；也就是说，同样的数位集 $\\{0,1\\}$ 足以表示正整数和负整数。\n\n然后，通过推导其数位 $d_{k} \\in \\{0,1\\}$，显式计算整数 $n = 137$ 的基数 $-2$ 展开式。\n\n接下来，在基数 $-2$ 中，使用适用于基数 $-2$ 的标准列式加法和长乘法，执行并验证以下运算：\n- 计算 $A = 10101_{(-2)} + 1101_{(-2)}$ 并通过直接求值确认其十进制值。\n- 计算 $B = 1011_{(-2)} \\cdot 1001_{(-2)}$ 并通过直接求值确认其十进制值。\n\n最后，令 $E$ 表示为 $137$ 找到的基数 $-2$ 数。定义 $\\mathrm{val}_{10}$ 为求值映射，它将一个基数 $-2$ 的数 $\\sum_{k=0}^{m} d_{k} (-2)^{k}$ 映射到其对应的十进制整数 $\\sum_{k=0}^{m} d_{k} (-2)^{k}$。计算单个数值量\n$$\nS \\;=\\; \\mathrm{val}_{10}(A) \\;+\\; 2\\,\\mathrm{val}_{10}(B) \\;+\\; \\mathrm{val}_{10}(E).\n$$\n将最终答案 $S$ 表示为一个精确的十进制整数（无需四舍五入）。", "solution": "问题陈述经过验证。\n\n### 步骤1：提取已知条件\n- 设 $b$ 是一个满足 $|b| \\geq 2$ 的整数。\n- 一个整数 $n$ 在基数 $b$ 下的按位基数表示法是 $n = \\sum_{k=0}^{m} d_{k} b^{k}$。\n- 对于基数 $b = -2$，数位集是 $\\{0,1\\}$。\n- 任务1：从第一性原理（$\\mathbb{Z}$ 中的除法算法）推导出每个整数 $n \\in \\mathbb{Z}$ 都有一个唯一的基数 $-2$ 表示，其数位 $d_{k} \\in \\{0,1\\}$。\n- 任务2：解释为什么这意味着不需要独立的符号位。\n- 任务3：计算整数 $n = 137$ 的基数 $-2$ 展开式，记为 $E$。\n- 任务4：计算 $A = 10101_{(-2)} + 1101_{(-2)}$ 并验证其十进制值。\n- 任务5：计算 $B = 1011_{(-2)} \\cdot 1001_{(-2)}$ 并验证其十进制值。\n- 任务6：计算单个数值量 $S = \\mathrm{val}_{10}(A) + 2\\,\\mathrm{val}_{10}(B) + \\mathrm{val}_{10}(E)$。\n\n### 步骤2：使用提取的已知条件进行验证\n该问题是数论中的一个标准练习，特别关注非标准按位数字系统（负基数）。\n- **科学依据**：负二进制表示（基数 $-2$）是数学和计算机科学中一个成熟的课题。除法算法是数论中的一个基本定理。所有原理都是合理的。\n- **问题定义明确**：问题定义清晰。各项任务——一个证明、一个解释和几个显式计算——都是明确的，并导向一个唯一的、可验证的解。\n- **客观性**：语言正式而精确。没有主观或基于观点的陈述。\n\n该问题没有验证标准中列出的任何缺陷。这是一个有效、自洽的数学问题。\n\n### 步骤3：结论与行动\n问题有效。将提供完整解答。\n\n### 解答推导\n\n**第1部分：基数 $-2$ 表示的存在性和唯一性**\n\n我们必须证明，对于任何整数 $n \\in \\mathbb{Z}$，存在唯一的数位序列 $(d_k)_{k=0}^m$，其中 $d_k \\in \\{0, 1\\}$，使得 $n = \\sum_{k=0}^{m} d_{k} (-2)^{k}$。\n\n**存在性：**\n证明是构造性的，基于欧几里得除法算法。除法算法指出，对于任意整数 $a$ 和 $c$（其中 $c \\neq 0$），存在唯一的整数 $q$ 和 $r$，使得 $a = qc + r$ 且 $0 \\leq r  |c|$。\n让我们将其应用于我们的基数 $b = -2$。对于任何整数 $n_k$，我们可以写：\n$n_k = q (-2) + r$，其中余数 $r$ 满足 $0 \\leq r  |-2|=2$。因此，$r$ 必须在集合 $\\{0, 1\\}$ 中，这正是我们期望的数位集。\n设 $n_0 = n$。我们如下生成一个商 $n_k$ 和余数 $d_k$ 的序列：\n$n_0 = n_{1}(-2) + d_0$\n$n_1 = n_{2}(-2) + d_1$\n...\n$n_k = n_{k+1}(-2) + d_k$\n...\n其中每一步都有 $d_k \\in \\{0, 1\\}$。从这个递推关系中，我们可以写出 $n_{k+1} = (d_k - n_k)/2$。\n\n为了表明这个过程会生成一个有限的展开式，我们必须证明商序列 $n_k$ 最终会达到 $0$。让我们分析商的大小。下一个商 $n_{k+1}$ 由 $n_{k+1} = (d_k - n_k)/2$ 给出。\n- 如果 $n_k > 0$，那么 $n_{k+1} = (d_k - n_k)/2 \\leq (1 - n_k)/2 \\leq 0$。\n- 如果 $n_k  0$，那么 $n_{k+1} = (d_k - n_k)/2 \\geq (0 - n_k)/2 = -n_k/2 > 0$。\n商的符号交替出现（或者是零）。让我们检查它们的大小。\n- 如果 $|n_k| > 1$，那么 $|n_{k+1}| = |(d_k - n_k)/2| \\leq (|d_k| + |n_k|)/2 \\leq (1 + |n_k|)/2$。因为 $|n_k| > 1$，我们有 $1  |n_k|$，这意味着 $1 + |n_k|  2|n_k|$，所以 $(1 + |n_k|)/2  |n_k|$。因此，对于 $|n_k| > 1$ 的情况，$|n_{k+1}|$ 的大小严格小于 $|n_k|$。\n- 大小可能不严格减小的唯一情况是 $|n_k| \\leq 1$，即 $n_k \\in \\{-1, 0, 1\\}$。\n  - 如果 $n_k = 0$，过程终止（$d_k=0, n_{k+1}=0$）。\n  - 如果 $n_k = 1$，那么 $1 = (-2) \\cdot 0 + 1$。所以 $d_k=1$ 且 $n_{k+1}=0$。过程终止。\n  - 如果 $n_k = -1$，那么 $-1 = (-2) \\cdot 1 + 1$。所以 $d_k=1$ 且 $n_{k+1}=1$。下一步将是 $n_{k+1}=1$，我们刚刚证明了这种情况会导致终止。\n由于非零商的大小严格递减直至达到 $1$，商的序列最终必然变为 $0$。这保证了对于任何整数 $n$，该过程都会终止，从而确立了有限基数 $-2$ 展开的存在性。\n\n**唯一性：**\n假设一个整数 $n$ 在基数 $-2$ 中有两种不同的表示：\n$n = \\sum_{k=0}^{m} d_k (-2)^k = \\sum_{k=0}^{m} c_k (-2)^k$，其中 $d_k, c_k \\in \\{0, 1\\}$。我们可以通过前导零填充来假设长度 $m$ 相同。\n设 $j$ 是使 $d_j \\neq c_j$ 成立的最小索引。那么\n$\\sum_{k=j}^{m} d_k (-2)^k = \\sum_{k=j}^{m} c_k (-2)^k$。\n$(d_j - c_j)(-2)^j + \\sum_{k=j+1}^{m} (d_k - c_k)(-2)^k = 0$。\n两边除以 $(-2)^j$，我们得到：\n$d_j - c_j = -\\sum_{k=j+1}^{m} (d_k - c_k)(-2)^{k-j} = -(-2)\\sum_{k=j+1}^{m} (d_k - c_k)(-2)^{k-j-1}$。\n右边是2的整数倍，所以是一个偶数。\n左边 $d_j - c_j$ 的值只能在 $\\{-1, 0, 1\\}$ 中取，因为 $d_j, c_j \\in \\{0, 1\\}$。根据我们的假设，$d_j \\neq c_j$，所以 $d_j - c_j$ 必须是 $1$ 或 $-1$。\n一个奇数（$1$ 或 $-1$）不能等于一个偶数。这是一个矛盾。因此，我们的初始假设必须是错误的，不存在任何索引 $j$ 使得数位不同。因此，对所有 $k$ 都有 $d_k = c_k$，表示是唯一的。\n\n**第2部分：无需符号位**\n上面提供的存在性构造证明适用于任何整数 $n \\in \\mathbb{Z}$，无论其是正、负或零。算法 $n_{k+1}=(d_k-n_k)/2$ 与 $d_k$ (通过 $n_k=n_{k+1}(-2)+d_k$ 确定) 为任何起始整数生成一个有效、唯一的数位序列 $\\{0,1\\}$。这与标准的正基数（如十进制或二进制）形成对比，在那些系统中，标准的除法算法仅为非负整数生成表示，需要一个外部符号（减号 '$-$') 来表示负数。在基数 $-2$ 中，符号被隐含地编码在数位序列本身之中。\n\n**第3部分：$n=137$ 的基数 $-2$ 展开**\n我们应用算法 $n_{k+1} = (d_k - n_k)/2$，其中 $d_k$ 通过 $n_k = n_{k+1}(-2)+d_k$ 确定。\n$n_0 = 137$: $137 = (-68)(-2) + 1 \\implies d_0=1, n_1=-68$。\n$n_1 = -68$: $-68 = (34)(-2) + 0 \\implies d_1=0, n_2=34$。\n$n_2 = 34$: $34 = (-17)(-2) + 0 \\implies d_2=0, n_3=-17$。\n$n_3 = -17$: $-17 = (9)(-2) + 1 \\implies d_3=1, n_4=9$。\n$n_4 = 9$: $9 = (-4)(-2) + 1 \\implies d_4=1, n_5=-4$。\n$n_5 = -4$: $-4 = (2)(-2) + 0 \\implies d_5=0, n_6=2$。\n$n_6 = 2$: $2 = (-1)(-2) + 0 \\implies d_6=0, n_7=-1$。\n$n_7 = -1$: $-1 = (1)(-2) + 1 \\implies d_7=1, n_8=1$。\n$n_8 = 1$: $1 = (0)(-2) + 1 \\implies d_8=1, n_9=0$。\n过程终止。表示由数位从后到前构成：$(d_8 d_7 d_6 d_5 d_4 d_3 d_2 d_1 d_0)_{-2}$。\n所以，$137_{10} = 110011001_{(-2)}$。\n数 $E$ 是 $110011001_{(-2)}$，所以 $\\mathrm{val}_{10}(E) = 137$。\n\n**第4部分：基数 $-2$ 中的算术**\n对于列式算术，我们需要处理进位的规则。如果一列的和是 $S$，我们写成 $S = d_{out} + (-2)c_{out}$，其中 $d_{out}$ 是该列的数位，$c_{out}$ 是到下一列的进位。\n- $S=0: 0 = 0 + (-2) \\cdot 0 \\implies d_{out}=0, c_{out}=0$。\n- $S=1: 1 = 1 + (-2) \\cdot 0 \\implies d_{out}=1, c_{out}=0$。\n- $S=2: 2 = 0 + (-2) \\cdot (-1) \\implies d_{out}=0, c_{out}=-1$。\n- $S=-1: -1 = 1 + (-2) \\cdot 1 \\implies d_{out}=1, c_{out}=1$。\n- $S=3: 3 = 1 + (-2) \\cdot (-1) \\implies d_{out}=1, c_{out}=-1$。\n\n**加法：$A = 10101_{(-2)} + 1101_{(-2)}$**\n我们将数字对齐，并从右到左逐列相加（索引 $k=0$）。\n```\n             1  0  1  0  1\n           +      1  1  0  1\n--------------------------\n           1  0  1  1  0\n```\n- $k=0$: $1+1 = 2 \\implies$ 和是 $0$，进位是 $-1$。\n- $k=1$: $0+0+(-1) = -1 \\implies$ 和是 $1$，进位是 $1$。\n- $k=2$: $1+1+1 = 3 \\implies$ 和是 $1$，进位是 $-1$。\n- $k=3$: $0+1+(-1) = 0 \\implies$ 和是 $0$，进位是 $0$。\n- $k=4$: $1+0 = 1 \\implies$ 和是 $1$，进位是 $0$。\n所以，$A = 10110_{(-2)}$。\n\n验证：\n$\\mathrm{val}_{10}(10101_{(-2)}) = 1(-2)^4 + 0(-2)^3 + 1(-2)^2 + 0(-2)^1 + 1(-2)^0 = 16 + 4 + 1 = 21$。\n$\\mathrm{val}_{10}(1101_{(-2)}) = 1(-2)^3 + 1(-2)^2 + 0(-2)^1 + 1(-2)^0 = -8 + 4 + 1 = -3$。\n和是 $21 + (-3) = 18$。\n结果是 $\\mathrm{val}_{10}(10110_{(-2)}) = 1(-2)^4 + 0(-2)^3 + 1(-2)^2 + 1(-2)^1 + 0(-2)^0 = 16 + 4 - 2 = 18$。\n计算正确。$\\mathrm{val}_{10}(A) = 18$。\n\n**乘法：$B = 1011_{(-2)} \\cdot 1001_{(-2)}$**\n我们使用长乘法。\n```\n          1  0  1  1\n        x 1  0  0  1\n-----------------\n          1  0  1  1   (1011 * 1)\n        0  0  0  0     (1011 * 0, 移位)\n      0  0  0  0       (1011 * 0, 移位)\n+   1  0  1  1         (1011 * 1, 移位)\n-----------------\n    1  0  1  1  0  0  0\n+            1  0  1  1\n-----------------\n    1  0  0  0  0  1  1\n```\n我们现在对部分积求和：$1011000_{(-2)} + 1011_{(-2)}$。\n- $k=0: 0+1=1 \\implies$ 和 $1$，进位 $0$。\n- $k=1: 0+1=1 \\implies$ 和 $1$，进位 $0$。\n- $k=2: 0+0=0 \\implies$ 和 $0$，进位 $0$。\n- $k=3: 1+1=2 \\implies$ 和 $0$，进位 $-1$。\n- $k=4: 1+0+(-1)=0 \\implies$ 和 $0$，进位 $0$。\n- $k=5: 0+0=0 \\implies$ 和 $0$，进位 $0$。\n- $k=6: 1+0=1 \\implies$ 和 $1$，进位 $0$。\n所以，$B = 1000011_{(-2)}$。\n\n验证：\n$\\mathrm{val}_{10}(1011_{(-2)}) = 1(-2)^3 + 0(-2)^2 + 1(-2)^1 + 1(-2)^0 = -8 - 2 + 1 = -9$。\n$\\mathrm{val}_{10}(1001_{(-2)}) = 1(-2)^3 + 0(-2)^2 + 0(-2)^1 + 1(-2)^0 = -8 + 1 = -7$。\n乘积是 $(-9) \\cdot (-7) = 63$。\n结果是 $\\mathrm{val}_{10}(1000011_{(-2)}) = 1(-2)^6 + 0(-2)^5 + 0(-2)^4 + 0(-2)^3 + 0(-2)^2 + 1(-2)^1 + 1(-2)^0 = 64 - 2 + 1 = 63$。\n计算正确。$\\mathrm{val}_{10}(B) = 63$。\n\n**第5部分：$S$ 的最终计算**\n我们需要计算 $S = \\mathrm{val}_{10}(A) + 2\\,\\mathrm{val}_{10}(B) + \\mathrm{val}_{10}(E)$。\n使用上面推导出的值：\n- $\\mathrm{val}_{10}(A) = 18$\n- $\\mathrm{val}_{10}(B) = 63$\n- $\\mathrm{val}_{10}(E) = 137$\n\n将这些值代入 $S$ 的表达式中：\n$S = 18 + 2(63) + 137$\n$S = 18 + 126 + 137$\n$S = 144 + 137$\n$S = 281$", "answer": "$$\n\\boxed{281}\n$$", "id": "3089124"}]}