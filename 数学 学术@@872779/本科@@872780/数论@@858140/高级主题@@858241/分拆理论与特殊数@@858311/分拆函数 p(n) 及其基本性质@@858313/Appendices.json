{"hands_on_practices": [{"introduction": "理论学习的最佳补充是动手实践。要真正理解整数分拆函数 $p(n)$，最直接的方法就是亲手列出小物体的所有分拆方式。这个练习 [@problem_id:3092748] 将通过枚举 $n=0$ 到 $5$ 的所有分拆来巩固基本定义，并帮助我们直观地感受 $p(n)$ 的增长速度。", "problem": "设非负整数 $n$ 的一个分拆是将其写成正整数之和的一种方式，其中加数的顺序无关紧要，并令 $p(n)$ 表示这种分拆的数量。遵循约定 $p(0)=1$，以计入空分拆。仅使用此定义和基本原理（即，基于无序和的直接枚举），完成以下任务：\n\n- 对于每个 $n \\in \\{0,1,2,3,4,5\\}$，列出 $n$ 的所有分拆，并对其进行计数以计算 $p(n)$。\n- 通过有原则的分类（例如，按最大部分进行分层），简要证明你的列表是详尽的。\n\n将最终结果以单行矩阵的形式报告，其中按顺序包含 $p(0),p(1),p(2),p(3),p(4),p(5)$ 的值。无需四舍五入，也无单位。最终答案必须是单一表达式。", "solution": "该问题被确定为有效，因为它是初等数论中一个适定、自洽且有科学依据的问题。我们基于基本原理（即直接枚举）来求解。\n\n问题要求计算 $p(n)$，即非负整数 $n$ 的分拆数，其中 $n \\in \\{0, 1, 2, 3, 4, 5\\}$。$n$ 的一个分拆是将其写成正整数之和的一种方式，其中加数的顺序无关紧要。为确保每个分拆都有唯一的表示，我们采用标准约定，将分拆的各部分按非递增顺序列出。\n\n为确保对于每个 $n > 0$，分拆列表都是详尽的，我们将通过按最大部分（记为 $k$）进行分层来系统地构造它们。对于给定的 $n$，最大部分 $k$ 的取值范围可以从 $1$ 到 $n$。对于 $k$ 的每一种选择，我们需要找到剩余和 $n-k$ 的分拆，其约束条件是该子分拆的所有部分都小于或等于 $k$。这种系统的、递归的方法保证了每个分拆都被精确地生成一次。\n\n现在我们为每个所需的 $n$ 值计算 $p(n)$。\n\n对于 $n=0$：\n问题给出了约定 $p(0)=1$。这对应于空分拆，它是将 $0$ 表示为正整数之和的唯一方式（一个有零个项的和）。\n因此，$p(0) = 1$。\n\n对于 $n=1$：\n唯一可能的最大部分是 $k=1$。剩余的和是 $1-1=0$。这给出了唯一的那个分拆：\n- $1$\n因此，$p(1) = 1$。\n\n对于 $n=2$：\n我们按最大部分 $k$ 进行分层：\n- 若 $k=2$：分拆为 $2$。\n- 若 $k=1$：分拆必须是 $1$ 的和，即 $1+1$。\n$n=2$ 的完整分拆列表是：$2$, $1+1$。\n因此，$p(2) = 2$。\n\n对于 $n=3$：\n我们按最大部分 $k$ 进行分层：\n- 若 $k=3$：分拆为 $3$。\n- 若 $k=2$：剩余的和是 $3-2=1$。我们必须将 $1$ 分拆成最大为 $2$ 的部分。唯一这样的分拆是 $1$。这给出了分拆 $2+1$。\n- 若 $k=1$：分拆必须是 $1$ 的和，即 $1+1+1$。\n$n=3$ 的完整分拆列表是：$3$, $2+1$, $1+1+1$。\n因此，$p(3) = 3$。\n\n对于 $n=4$：\n我们按最大部分 $k$ 进行分层：\n- 若 $k=4$：分拆为 $4$。\n- 若 $k=3$：剩余的和是 $4-3=1$。分拆为 $3+1$。\n- 若 $k=2$：剩余的和是 $4-2=2$。我们必须将 $2$ 分拆成最大为 $2$ 的部分。根据为 $p(2)$ 确定的结果，这些分拆是 $2$ 和 $1+1$。这给出了分拆 $2+2$ 和 $2+1+1$。\n- 若 $k=1$：分拆必须是 $1$ 的和，即 $1+1+1+1$。\n$n=4$ 的完整分拆列表是：$4$, $3+1$, $2+2$, $2+1+1$, $1+1+1+1$。\n因此，$p(4) = 5$。\n\n对于 $n=5$：\n我们按最大部分 $k$ 进行分层：\n- 若 $k=5$：分拆为 $5$。\n- 若 $k=4$：剩余的和是 $5-4=1$。分拆为 $4+1$。\n- 若 $k=3$：剩余的和是 $5-3=2$。我们必须将 $2$ 分拆成最大为 $3$ 的部分。这些分拆是 $2$ 和 $1+1$。这给出了分拆 $3+2$ 和 $3+1+1$。\n- 若 $k=2$：剩余的和是 $5-2=3$。我们必须将 $3$ 分拆成最大为 $2$ 的部分。根据我们对 $n=3$ 的分析，最大部分不超过 $2$ 的 $3$ 的分拆是 $2+1$ 和 $1+1+1$。这给出了分拆 $2+2+1$ 和 $2+1+1+1$。\n- 若 $k=1$：分拆必须是 $1$ 的和，即 $1+1+1+1+1$。\n$n=5$ 的完整分拆列表是：$5$, $4+1$, $3+2$, $3+1+1$, $2+2+1$, $2+1+1+1$, $1+1+1+1+1$。\n因此，$p(5) = 7$。\n\n总结来说，计算出的值为：\n$p(0) = 1$\n$p(1) = 1$\n$p(2) = 2$\n$p(3) = 3$\n$p(4) = 5$\n$p(5) = 7$\n\n最终结果以包含这些值的单行矩阵的形式按顺序报告。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1  1  2  3  5  7\n\\end{pmatrix}\n}\n$$", "id": "3092748"}, {"introduction": "超越简单的计数，我们可以使用一种称为费勒斯图的巧妙视觉工具来揭示分拆的内部结构。通过将分拆表示为点的阵列，我们可以发现令人惊讶的对称性和对偶性。这个练习 [@problem_id:3092756] 将介绍共轭变换的概念，这是一个强大的技术，它证明了两种看似不同类型的分拆实际上是等价的。", "problem": "设 $n$ 是一个正整数，$n$ 的一个分拆是一个和为 $n$ 的有限非增正整数序列。一个分拆的费勒斯图是一个左对齐的方格阵列，其第 $i$ 行的长度等于分拆的第 $i$ 个部分。一个分拆的共轭是通过转置其费勒斯图（即交换行和列）得到的。\n\n仅使用这些定义，首先解释为什么共轭操作是在“$n$ 的部分数至多为 $k$ 的分拆集合”与“$n$ 的最大部分至多为 $k$ 的分拆集合”之间的一个双射。然后，对于 $n=8$ 和 $k=3$ 的情况，通过对部分数进行系统的分类讨论，列举出所有部分数至多为 $3$ 的 $8$ 的分拆，并使用费勒斯图共轭来验证此类分拆的数量等于最大部分至多为 $3$ 的 $8$ 的分拆的数量。这个共同的数量是多少？请将最终答案以单个整数形式给出，不要附加任何文本或单位。", "solution": "我们从定义开始。$n$ 的一个分拆 $\\lambda$ 是一个序列 $\\lambda=(\\lambda_{1},\\lambda_{2},\\dots,\\lambda_{\\ell})$，满足 $\\lambda_{1}\\geq \\lambda_{2}\\geq \\cdots \\geq \\lambda_{\\ell}\\geq 1$ 且 $\\sum_{i=1}^{\\ell}\\lambda_{i}=n$。其费勒斯图是一个左对齐的方格阵列，其中第 $i$ 行有 $\\lambda_{i}$ 个方格。共轭分拆 $\\lambda^{\\prime}$ 是通过转置费勒斯图定义的：$\\lambda^{\\prime}$ 的第 $j$ 行的方格数等于 $\\lambda$ 的费勒斯图的第 $j$ 列的方格数。\n\n从这个构造中，直接得出两个关键性质：\n- $\\lambda$ 的部分数等于非空行的数量，即其长度 $\\ell(\\lambda)$。转置后，$\\lambda^{\\prime}$ 的非空行数等于 $\\lambda$ 的非空列数，而后者正是 $\\lambda$ 的最大部分的大小，即 $\\lambda_{1}$。\n- 类似地，$\\lambda^{\\prime}$ 的最大部分等于 $\\lambda$ 的非空行数，即 $\\ell(\\lambda)$。\n\n因此，共轭是一个双射，它将“部分数”这一统计量与“最大部分”这一统计量互换。特别地，对于任意固定的 $k$，共轭操作在部分数至多为 $k$ 的 $n$ 的分拆（即 $\\ell(\\lambda)\\leq k$）与最大部分至多为 $k$ 的 $n$ 的分拆（即 $\\lambda_{1}\\leq k$）之间建立了一个双射。\n\n现在设 $n=8$ 和 $k=3$。我们通过按部分数分组来列举 $8$ 的部分数至多为 $3$ 的分拆。\n\n- 恰好有 $1$ 个部分：\n  - $8$。\n\n- 恰好有 $2$ 个部分（和为 $8$ 的非增数对）：\n  - $7+1$, $6+2$, $5+3$, $4+4$。\n\n- 恰好有 $3$ 个部分（和为 $8$ 的非增三元组）：\n  - $6+1+1$, $5+2+1$, $4+3+1$, $4+2+2$, $3+3+2$。\n\n将这些计数，共有 $1+4+5=10$ 个部分数至多为 $3$ 的 $8$ 的分拆。\n\n根据上面描述的双射，这些分拆的共轭恰好是最大部分至多为 $3$ 的 $8$ 的分拆，所以也必定有 $10$ 个这样的分拆。\n\n为了完整起见，我们也可以直接验证“最大部分至多为 $3$”这一边的计数。这样的一个分拆由非负整数 $(a,b,c)$ 决定，它们分别表示等于 $3$、$2$ 和 $1$ 的部分数，并满足\n$$3a+2b+c=8.$$\n我们来计算满足 $a,b,c \\in \\mathbb{Z}_{\\ge 0}$ 的解 $(a,b,c)$ 的数量：\n- 当 $a=0$ 时：$2b\\le 8$，所以 $b=0,1,2,3,4$；这得到 $5$ 个解，其中 $c=8-2b$。\n- 当 $a=1$ 时：$2b\\le 5$，所以 $b=0,1,2$；这得到 $3$ 个解，其中 $c=5-2b$。\n- 当 $a=2$ 时：$2b\\le 2$，所以 $b=0,1$；这得到 $2$ 个解，其中 $c=2-2b$。\n- 当 $a\\ge 3$ 时：无解。\n\n总计，共有 $5+3+2=10$ 个解，这证实了基于双射的计数。\n\n因此，$8$ 的部分数至多为 $3$ 的分拆数量，与 $8$ 的最大部分至多为 $3$ 的分拆数量，这个共同的数值是 $10$。", "answer": "$$\\boxed{10}$$", "id": "3092756"}, {"introduction": "对于较大的 $n$，直接枚举分拆变得不切实际。幸运的是，借助欧拉的五边形数定理，我们可以推导出一个高效的递推关系来计算 $p(n)$。这个练习 [@problem_id:3092781] 将让你应用这一强大的算法来计算一个非平凡的值 $p(24)$，并验证其与拉马努金发现的著名同余式的一致性，展示了计算工具与深刻理论之间的美妙联系。", "problem": "令 $p(n)$ 表示分拆函数，定义为将一个非负整数 $n$ 表示为无视顺序的正整数之和的方法数。从基本生成函数恒等式 $$\\sum_{n \\geq 0} p(n)\\, q^{n} = \\prod_{k \\geq 1} \\frac{1}{1 - q^{k}}$$ 出发，基于此生成函数和乘积 $\\prod_{k \\geq 1} (1 - q^{k})$ 的有效经典性质，推导出一个计算 $p(24)$ 的系统方法。计算 $p(24)$ 的精确值，并验证它能被 $5$ 整除，从而在 $n = 4$ 的情况下具体说明同余式 $p(5n+4) \\equiv 0 \\pmod{5}$。仅报告 $p(24)$ 的值作为你的最终答案。无需四舍五入。", "solution": "所述问题是有效的。这是一个数论中的良定问题，基于经典的、可验证的原理。它要求使用基于其生成函数的方法计算分拆函数的一个特定值 $p(24)$，这是一种标准而严谨的方法。所有术语都有明确定义，且前提条件在事实上是合理的。\n\n分拆函数 $p(n)$ 计算了将一个整数 $n$ 写成正整数之和的方法数。其生成函数 $P(q)$ 由下式给出：\n$$P(q) = \\sum_{n=0}^{\\infty} p(n) q^{n} = \\prod_{k=1}^{\\infty} \\frac{1}{1 - q^{k}}$$\n我们定义 $p(0) = 1$。右侧的乘积是欧拉函数 $\\phi(q)$ 的倒数，其中 $\\phi(q)$ 定义为\n$$\\phi(q) = \\prod_{k=1}^{\\infty} (1 - q^{k})$$\n因此，基本恒等式可以表示为 $P(q) \\phi(q) = 1$。\n\n问题陈述中提到的“经典性质”指的是欧拉五边形数定理，该定理给出了 $\\phi(q)$ 的级数展开：\n$$\\phi(q) = \\sum_{j=-\\infty}^{\\infty} (-1)^{j} q^{g_j} = 1 + \\sum_{j=1}^{\\infty} (-1)^{j} (q^{g_j} + q^{g_{-j}})$$\n其中 $g_j = \\frac{j(3j-1)}{2}$ 是广义五边形数。\n\n将 $P(q)$ 和 $\\phi(q)$ 的级数展开代入恒等式 $P(q) \\phi(q) = 1$ 中，得到：\n$$\\left( \\sum_{n=0}^{\\infty} p(n) q^{n} \\right) \\left( \\sum_{j=-\\infty}^{\\infty} (-1)^{j} q^{g_j} \\right) = 1$$\n展开乘积并考虑 $n > 0$ 时 $q^n$ 的系数，我们发现它必须为零。这就给出了 $p(n)$ 的一个递推关系。该乘积是两个级数系数的卷积。$q^n$ 的系数为：\n$$\\sum_{j=-\\infty}^{\\infty} (-1)^{j} p(n - g_j) = 0$$\n重排此方程以求解 $p(n)$（$j=0$ 时的项，此时 $g_0=0$），我们得到：\n$$p(n) = \\sum_{j \\neq 0} (-1)^{j-1} p(n - g_j)$$\n对于 $j = 1, -1, 2, -2, 3, -3, \\dots$ 的广义五边形数 $g_j$ 是：\n$g_1 = \\frac{1(3(1)-1)}{2} = 1$\n$g_{-1} = \\frac{-1(3(-1)-1)}{2} = 2$\n$g_2 = \\frac{2(3(2)-1)}{2} = 5$\n$g_{-2} = \\frac{-2(3(-2)-1)}{2} = 7$\n$g_3 = \\frac{3(3(3)-1)}{2} = 12$\n$g_{-3} = \\frac{-3(3(-3)-1)}{2} = 15$\n$g_4 = \\frac{4(3(4)-1)}{2} = 22$\n$g_{-4} = \\frac{-4(3(-4)-1)}{2} = 26$\n因此，递推关系可以明确地写为：\n$$p(n) = p(n-1) + p(n-2) - p(n-5) - p(n-7) + p(n-12) + p(n-15) - \\dots$$\n这里我们使用约定，对于 `$k  0$`，$p(k) = 0$。\n\n我们现在可以从 $p(0)=1$ 开始，迭代地计算 $p(n)$ 的值。\n$p(1) = p(0) = 1$\n$p(2) = p(1) + p(0) = 1 + 1 = 2$\n$p(3) = p(2) + p(1) = 2 + 1 = 3$\n$p(4) = p(3) + p(2) = 3 + 2 = 5$\n$p(5) = p(4) + p(3) - p(0) = 5 + 3 - 1 = 7$\n$p(6) = p(5) + p(4) - p(1) = 7 + 5 - 1 = 11$\n$p(7) = p(6) + p(5) - p(2) - p(0) = 11 + 7 - 2 - 1 = 15$\n$p(8) = p(7) + p(6) - p(3) - p(1) = 15 + 11 - 3 - 1 = 22$\n$p(9) = p(8) + p(7) - p(4) - p(2) = 22 + 15 - 5 - 2 = 30$\n$p(10) = p(9) + p(8) - p(5) - p(3) = 30 + 22 - 7 - 3 = 42$\n$p(11) = p(10) + p(9) - p(6) - p(4) = 42 + 30 - 11 - 5 = 56$\n$p(12) = p(11) + p(10) - p(7) - p(5) + p(0) = 56 + 42 - 15 - 7 + 1 = 77$\n$p(13) = p(12) + p(11) - p(8) - p(6) + p(1) = 77 + 56 - 22 - 11 + 1 = 101$\n$p(14) = p(13) + p(12) - p(9) - p(7) + p(2) = 101 + 77 - 30 - 15 + 2 = 135$\n$p(15) = p(14) + p(13) - p(10) - p(8) + p(3) + p(0) = 135 + 101 - 42 - 22 + 3 + 1 = 176$\n$p(16) = p(15) + p(14) - p(11) - p(9) + p(4) + p(1) = 176 + 135 - 56 - 30 + 5 + 1 = 231$\n$p(17) = p(16) + p(15) - p(12) - p(10) + p(5) + p(2) = 231 + 176 - 77 - 42 + 7 + 2 = 297$\n$p(18) = p(17) + p(16) - p(13) - p(11) + p(6) + p(3) = 297 + 231 - 101 - 56 + 11 + 3 = 385$\n$p(19) = p(18) + p(17) - p(14) - p(12) + p(7) + p(4) = 385 + 297 - 135 - 77 + 15 + 5 = 490$\n$p(20) = p(19) + p(18) - p(15) - p(13) + p(8) + p(5) = 490 + 385 - 176 - 101 + 22 + 7 = 627$\n$p(21) = p(20) + p(19) - p(16) - p(14) + p(9) + p(6) = 627 + 490 - 231 - 135 + 30 + 11 = 792$\n$p(22) = p(21) + p(20) - p(17) - p(15) + p(10) + p(7) - p(0) = 792 + 627 - 297 - 176 + 42 + 15 - 1 = 1002$\n$p(23) = p(22) + p(21) - p(18) - p(16) + p(11) + p(8) - p(1) = 1002 + 792 - 385 - 231 + 56 + 22 - 1 = 1255$\n\n最后，我们使用已建立的递推关系和先前计算的值来计算 $p(24)$。小于或等于 $24$ 的五边形数是 $1, 2, 5, 7, 12, 15, 22$。\n$$p(24) = p(23) + p(22) - p(19) - p(17) + p(12) + p(9) - p(2)$$\n代入数值：\n$$p(24) = 1255 + 1002 - 490 - 297 + 77 + 30 - 2$$\n$$p(24) = 2257 - 787 + 107 - 2$$\n$$p(24) = 1470 + 105$$\n$$p(24) = 1575$$\n\n作为验证，问题提到了 Ramanujan 的同余式 $p(5n+4) \\equiv 0 \\pmod{5}$。对于 $n=4$，我们有 $5(4)+4 = 24$。我们计算出的值为 $p(24)=1575$。由于 $1575 = 5 \\times 315$，显然 $p(24) \\equiv 0 \\pmod{5}$，这按要求具体例证了该同余式。\n需要报告的值是 $p(24)$。", "answer": "$$\\boxed{1575}$$", "id": "3092781"}]}