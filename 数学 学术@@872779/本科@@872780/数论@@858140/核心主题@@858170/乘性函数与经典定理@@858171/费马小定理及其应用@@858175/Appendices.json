{"hands_on_practices": [{"introduction": "费马小定理的一个直接且令人惊讶的推论是在素数模$p$下成立的“新生之梦”恒等式：$(x+y)^p \\equiv x^p + y^p \\pmod p$。本练习将通过具体计算来验证此恒等式，并将其与在合数模下的情况进行对比，从而揭示素数在该性质中的关键作用。通过这个练习，你将加深对二项式系数模$p$的性质以及它与费马小定理之间联系的理解。[@problem_id:3085236]", "problem": "设 $p$ 是一个素数，考虑通过二项式定理展开 $(x+y)^{p}$。利用以下基本事实：对于素数 $p$，每个二项式系数 $\\binom{p}{k}$（其中 $1 \\leq k \\leq p-1$）都能被 $p$ 整除；以及对于任意整数 $a$，根据费马小定理有 $a^{p} \\equiv a \\pmod{p}$。从这些基础出发（不要假定除这些之外的任何特殊同余公式），确定并证明在以下具体数值实例中的余数。\n\n取 $x=5$，$y=7$，$p=13$（素数），并与合数模数的情况 $m=12$（合数）进行比较。计算\n- $(x+y)^{p}$ 模 $p$ 的余数，\n- $x^{p}+y^{p}$ 模 $p$ 的余数，\n- $(x+y)^{m}$ 模 $m$ 的余数，\n- $x^{m}+y^{m}$ 模 $m$ 的余数。\n\n您必须从二项式定理和素数二项式系数的基本整除性出发来证明素数模数的情况，并使用基础的模算术工具（如中国剩余定理（CRT）和欧拉定理）来证明合数模数的情况。将您的最终答案以单行矩阵 $\\begin{pmatrix}r_{1} r_{2} r_{3} r_{4}\\end{pmatrix}$ 的形式报告，其中 $r_{1}$, $r_{2}$, $r_{3}$, $r_{4}$ 是按上述顺序列出的四个余数。不需要四舍五入。", "solution": "问题陈述已经过验证，被认为是合理的。这是一个初等数论中定义明确的问题，没有科学或事实上的不健全、歧义或矛盾之处。所有必要的数据和条件都已提供。\n\n该问题要求计算四个余数，对比以素数 $p$ 为模和以合数 $m$ 为模的指数运算行为。我们已知 $x=5$，$y=7$，素数 $p=13$ 以及合数模数 $m=12$。\n\n### 第1部分：素数模数情况 ($p=13$)\n\n问题要求基于二项式定理和素数模数的二项式系数性质进行证明。设 $p$ 是一个素数。$(x+y)^p$ 的二项式展开为：\n$$(x+y)^p = \\sum_{k=0}^{p} \\binom{p}{k} x^{p-k} y^k$$\n展开这个和，我们得到：\n$$(x+y)^p = \\binom{p}{0}x^p y^0 + \\binom{p}{1}x^{p-1}y^1 + \\dots + \\binom{p}{p-1}x^1 y^{p-1} + \\binom{p}{p}x^0 y^p$$\n首末两项的二项式系数为 $\\binom{p}{0} = 1$ 和 $\\binom{p}{p} = 1$。表达式变为：\n$$(x+y)^p = x^p + y^p + \\sum_{k=1}^{p-1} \\binom{p}{k} x^{p-k} y^k$$\n如问题所述，对于素数 $p$，当 $1 \\leq k \\leq p-1$ 时，每个二项式系数 $\\binom{p}{k}$ 都能被 $p$ 整除。这意味着对于这些 $k$ 值，有 $\\binom{p}{k} \\equiv 0 \\pmod{p}$。因此，求和式 $\\sum_{k=1}^{p-1} \\binom{p}{k} x^{p-k} y^k$ 中的每一项都是 $p$ 的倍数。所以，这个和本身模 $p$ 同余于 $0$：\n$$\\sum_{k=1}^{p-1} \\binom{p}{k} x^{p-k} y^k \\equiv 0 \\pmod{p}$$\n将整个展开式对 $p$ 取模，我们建立了被称为“大一新生之梦”的恒等式：\n$$(x+y)^p \\equiv x^p + y^p \\pmod{p}$$\n\n现在我们将此应用于具体的数值实例。\n\n**1. $(x+y)^p$ 模 $p$ 的余数 ($r_1$)**\n\n我们需要计算 $(5+7)^{13} \\pmod{13}$。\n即 $12^{13} \\pmod{13}$。\n我们已知费马小定理，该定理指出对于任意整数 $a$ 和素数 $p$，有 $a^p \\equiv a \\pmod{p}$。\n令 $a = 12$ 和 $p = 13$，我们有：\n$$12^{13} \\equiv 12 \\pmod{13}$$\n因此，第一个余数是 $r_1 = 12$。\n\n**2. $x^p + y^p$ 模 $p$ 的余数 ($r_2$)**\n\n我们需要计算 $5^{13} + 7^{13} \\pmod{13}$。\n对每一项应用费马小定理：\n- 对于 $a=5$，$p=13$：$5^{13} \\equiv 5 \\pmod{13}$。\n- 对于 $a=7$，$p=13$：$7^{13} \\equiv 7 \\pmod{13}$。\n因此，\n$$5^{13} + 7^{13} \\equiv 5 + 7 \\pmod{13}$$\n$$5^{13} + 7^{13} \\equiv 12 \\pmod{13}$$\n因此，第二个余数是 $r_2 = 12$。\n正如我们最初推导所预期的那样，$r_1 = r_2$。\n\n### 第2部分：合数模数情况 ($m=12$)\n\n这部分说明了为什么“大一新生之梦”恒等式对于合数模数不成立。我们已知 $m=12$。\n\n**3. $(x+y)^m$ 模 $m$ 的余数 ($r_3$)**\n\n我们需要计算 $(5+7)^{12} \\pmod{12}$。\n即 $12^{12} \\pmod{12}$。\n因为 $12 \\equiv 0 \\pmod{12}$，且指数 $12$ 是一个正整数，我们有：\n$$12^{12} \\equiv 0^{12} \\equiv 0 \\pmod{12}$$\n因此，第三个余数是 $r_3 = 0$。\n\n**4. $x^m + y^m$ 模 $m$ 的余数 ($r_4$)**\n\n我们需要计算 $5^{12} + 7^{12} \\pmod{12}$。\n问题指导我们使用诸如中国剩余定理（CRT）和欧拉定理之类的工具。我们将计算模 $12$ 的素数幂因子（即 $3$ 和 $4$）的余数。\n\n**模3计算：**\n我们计算 $5^{12} + 7^{12} \\pmod{3}$。\n$5 \\equiv 2 \\pmod{3}$\n$7 \\equiv 1 \\pmod{3}$\n所以，$5^{12} + 7^{12} \\equiv 2^{12} + 1^{12} \\pmod{3}$。\n$1^{12} = 1$。对于 $2^{12}$，因为 $3$ 是素数，我们可以使用费马小定理。对于 $p \\nmid a$，有 $a^{p-1} \\equiv 1 \\pmod p$。\n这里，$2^{3-1} = 2^2 = 4 \\equiv 1 \\pmod{3}$。\n那么 $2^{12} = (2^2)^6 \\equiv 1^6 \\equiv 1 \\pmod{3}$。\n所以，$5^{12} + 7^{12} \\equiv 1 + 1 \\equiv 2 \\pmod{3}$。\n\n**模4计算：**\n我们计算 $5^{12} + 7^{12} \\pmod{4}$。\n$5 \\equiv 1 \\pmod{4}$\n$7 \\equiv -1 \\pmod{4}$\n所以，$5^{12} + 7^{12} \\equiv 1^{12} + (-1)^{12} \\pmod{4}$。\n$1^{12} = 1$ 且 $(-1)^{12} = 1$。\n所以，$5^{12} + 7^{12} \\equiv 1 + 1 \\equiv 2 \\pmod{4}$。\n\n**结合中国剩余定理（CRT）：**\n设 $N = 5^{12} + 7^{12}$。我们有同余方程组：\n$$N \\equiv 2 \\pmod{3}$$\n$$N \\equiv 2 \\pmod{4}$$\n由于数值 $2$ 是两个同余式的解，并且根据中国剩余定理的解在模 $\\text{lcm}(3,4)=12$ 下的唯一性，我们可以立即得出结论 $N \\equiv 2 \\pmod{12}$。\n因此，第四个余数是 $r_4 = 2$。\n\n另外，也可以使用欧拉函数定理。$\\phi(12) = 12(1-\\frac{1}{2})(1-\\frac{1}{3}) = 12(\\frac{1}{2})(\\frac{2}{3}) = 4$。对于任何与 $12$ 互素的整数 $a$，有 $a^4 \\equiv 1 \\pmod{12}$。\n由于 $\\gcd(5,12)=1$，$5^{12} = (5^4)^3 \\equiv 1^3 \\equiv 1 \\pmod{12}$。\n同样，$\\gcd(7,12)=1$，但我们可以找到一个更小的指数：$7^2 = 49 \\equiv 1 \\pmod{12}$。所以 $7^{12}=(7^2)^6 \\equiv 1^6 \\equiv 1 \\pmod{12}$。\n因此，$5^{12} + 7^{12} \\equiv 1 + 1 \\equiv 2 \\pmod{12}$，证实了 $r_4=2$。\n\n注意 $r_3 = 0$ 且 $r_4 = 2$，所以对于这个合数模数，$(x+y)^m \\not\\equiv x^m+y^m \\pmod m$。\n\n### 余数总结\n- $r_1 = (5+7)^{13} \\pmod{13} = 12$。\n- $r_2 = 5^{13}+7^{13} \\pmod{13} = 12$。\n- $r_3 = (5+7)^{12} \\pmod{12} = 0$。\n- $r_4 = 5^{12}+7^{12} \\pmod{12} = 2$。\n最终答案以行矩阵形式呈现。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n12  12  0  2\n\\end{pmatrix}\n}\n$$", "id": "3085236"}, {"introduction": "在掌握了像费马小定理这样强大的工具后，探索其适用范围的边界是自然而然的一步。本练习旨在挑战一个常见的误解：即认为该定理可以直接推广到素数的幂次模，例如从模$p$推广到模$p^2$。通过构建并计算一个具体的反例，你将更深刻地体会到费马小定理成立的精确条件，并理解在素数幂次模下进行算术运算的精妙之处。[@problem_id:3085229]", "problem": "设 $p$ 是一个素数，且 $a = 1 + p$。仅使用同余的定义和二项式定理，从基本原理出发，推导同余式 $a^{p} \\equiv a \\pmod{p}$ 是否在逻辑上蕴含 $a^{p^{2}} \\equiv a \\pmod{p^{2}}$。在你的推理中，从整数 $x$ 和 $y$ 满足 $x \\equiv y \\pmod{m}$ 当且仅当 $m$ 整除 $x - y$ 这一定义出发，并使用二项式定理来计算 $1 + p$ 的幂对 $p$ 和 $p^{2}$ 取模的显式余数。\n\n为具体起见，将问题具体化到素数 $p = 11$ 的情况，并执行计算 $12^{121}$ 对 $121$ 取模的余数。将你的最终结果表示为满足 $0 \\leq r \\leq 120$ 的唯一整数代表 $r$，使得 $12^{121} \\equiv r \\pmod{121}$。最终答案必须是这个单一整数，无需四舍五入。", "solution": "问题要求我们从基本原理出发，判断对于素数 $p$ 和 $a = 1 + p$，同余式 $a^{p} \\equiv a \\pmod{p}$ 是否在逻辑上蕴含同余式 $a^{p^{2}} \\equiv a \\pmod{p^{2}}$。我们还必须对 $p=11$ 的情况进行一次具体计算。\n\n该问题被验证为具有科学依据、问题明确、客观，并包含足够的信息以进行解答。所有术语均为数论中的标准术语。\n\n我们从同余的定义开始：$x \\equiv y \\pmod{m}$ 当且仅当 $m$ 整除差值 $x-y$，可写作 $m | (x-y)$。主要工具是二项式定理，该定理指出对于任意整数 $n \\ge 0$，有 $(x+y)^n = \\sum_{k=0}^{n} \\binom{n}{k} x^{n-k} y^k$。\n\n首先，我们来分析一般情况。给定 $p$ 是一个素数且 $a = 1+p$。\n\n第一部分：逻辑蕴含关系的分析。\n\n我们检验前提条件，$a^p \\equiv a \\pmod{p}$。\n我们来计算左侧 $a^p$ 对 $p$ 取模的值。\n$$a^p = (1+p)^p$$\n使用二项式定理：\n$$(1+p)^p = \\sum_{k=0}^{p} \\binom{p}{k} 1^{p-k} p^k = \\binom{p}{0}p^0 + \\binom{p}{1}p^1 + \\binom{p}{2}p^2 + \\dots + \\binom{p}{p}p^p$$\n$$(1+p)^p = 1 + p \\cdot p + \\frac{p(p-1)}{2}p^2 + \\dots + p^p$$\n当我们考虑此表达式对 $p$ 取模时，除第一项 $\\binom{p}{0}p^0=1$ 外，之后的每一项都至少包含因子 $p^2$（第二项是 $p^2$，第三项有 $p^3$ 等），因此都能被 $p$ 整除。\n所以，$(1+p)^p \\equiv 1 \\pmod{p}$。\n现在我们计算前提条件右侧 $a$ 对 $p$ 取模的值。\n$$a = 1+p \\equiv 1 \\pmod{p}$$\n由于两边对 $p$ 取模都同余于 $1$，因此对于给定的 $a=1+p$，前提条件 $a^p \\equiv a \\pmod{p}$ 总是成立的。\n\n现在，我们研究结论 $a^{p^2} \\equiv a \\pmod{p^2}$。\n我们来计算左侧 $a^{p^2}$ 对 $p^2$ 取模的值。\n$$a^{p^2} = (1+p)^{p^2}$$\n使用二项式定理：\n$$(1+p)^{p^2} = \\sum_{k=0}^{p^2} \\binom{p^2}{k} 1^{p^2-k} p^k = \\binom{p^2}{0}p^0 + \\binom{p^2}{1}p^1 + \\binom{p^2}{2}p^2 + \\dots$$\n我们来分析这个和的各项对 $p^2$ 取模的结果：\n第一项（$k=0$）是 $\\binom{p^2}{0}p^0 = 1 \\cdot 1 = 1$。\n第二项（$k=1$）是 $\\binom{p^2}{1}p^1 = p^2 \\cdot p = p^3$。由于 $p^3$ 可被 $p^2$ 整除，该项对 $p^2$ 取模同余于 $0$。\n对于任何 $k \\ge 2$ 的项，其形式为 $\\binom{p^2}{k}p^k$。由于 $k \\ge 2$，因子 $p^k$ 可被 $p^2$ 整除（因为 $p \\ge 2$）。因此，所有 $k \\ge 2$ 的项对 $p^2$ 取模都同余于 $0$。\n将各项对 $p^2$ 取模后求和：\n$$a^{p^2} = (1+p)^{p^2} \\equiv 1 + 0 + 0 + \\dots \\equiv 1 \\pmod{p^2}$$\n现在，我们必须将此结果与 $a \\pmod{p^2}$ 进行比较。\n$$a = 1+p$$\n因此，同余式 $a^{p^2} \\equiv a \\pmod{p^2}$ 将要求 $1 \\equiv 1+p \\pmod{p^2}$。\n根据同余的定义，这将意味着 $p^2$ 整除 $(1+p)-1$，简化后即为 $p^2 | p$。这对于任何素数 $p$ 都是不成立的。\n因此，对于 $a=1+p$，命题 $a^{p^2} \\equiv a \\pmod{p^2}$ 是不成立的。\n\n由于在此设定下，前提 $a^p \\equiv a \\pmod p$ 总是成立的，而结论 $a^{p^2} \\equiv a \\pmod{p^2}$ 总是错误的，因此该蕴含关系（前提 $\\implies$ 结论）是不成立的。因此，第一个同余式在逻辑上并不蕴含第二个同余式。\n\n第二部分：对 $p=11$ 的具体计算。\n\n我们被要求计算 $12^{121}$ 对 $121$ 取模的余数。\n这里，$p=11$，所以 $a = 1+p = 1+11=12$，模数是 $p^2 = 11^2 = 121$。我们需要找到在 $0 \\le r \\le 120$ 范围内的唯一整数 $r$，使得 $12^{121} \\equiv r \\pmod{121}$。\n这是上面分析的一般情况的一个具体实例，我们需要计算 $(1+p)^{p^2} \\pmod{p^2}$。\n我们对 $(1+11)^{121}$ 应用二项式定理：\n$$12^{121} = (1+11)^{121} = \\sum_{k=0}^{121} \\binom{121}{k} 11^k$$\n$$12^{121} = \\binom{121}{0}11^0 + \\binom{121}{1}11^1 + \\binom{121}{2}11^2 + \\dots + \\binom{121}{121}11^{121}$$\n我们计算该和对 $121 = 11^2$ 取模的结果：\n第一项（$k=0$）是 $\\binom{121}{0}11^0 = 1 \\cdot 1 = 1$。\n第二项（$k=1$）是 $\\binom{121}{1}11^1 = 121 \\cdot 11 = 11^2 \\cdot 11 = 11^3$。由于 $11^3$ 可被 $11^2$ 整除，我们有 $121 \\cdot 11 \\equiv 0 \\pmod{121}$。\n第三项（$k=2$）是 $\\binom{121}{2}11^2$。该项包含因子 $11^2$，所以它对 $121$ 取模同余于 $0$。\n对于任意整数 $k \\ge 2$，项 $\\binom{121}{k}11^k$ 包含因子 $11^k$。由于 $k \\ge 2$，$11^k$ 可被 $11^2=121$ 整除。因此，所有 $k \\ge 2$ 的项对 $121$ 取模都同余于 $0$。\n将所有项的余数相加：\n$$12^{121} \\equiv 1 + 0 + 0 + \\dots + 0 \\pmod{121}$$\n$$12^{121} \\equiv 1 \\pmod{121}$$\n满足 $0 \\le r \\le 120$ 的唯一整数代表 $r$ 是 $r=1$。\n这个具体的计算证实了我们的一般性发现。对于 $p=11$ 和 $a=12$，同余式 $a^p \\equiv a \\pmod p$ 变为 $12^{11} \\equiv 12 \\pmod{11}$。根据费马小定理这是成立的（或者注意到 $12 \\equiv 1 \\pmod{11}$，所以 $12^{11} \\equiv 1^{11} \\equiv 1 \\pmod{11}$，且 $12 \\equiv 1 \\pmod{11}$）。然而，同余式 $a^{p^2} \\equiv a \\pmod{p^2}$ 变为 $12^{121} \\equiv 12 \\pmod{121}$。我们的计算表明 $12^{121} \\equiv 1 \\pmod{121}$，并且由于 $1 \\not\\equiv 12 \\pmod{121}$，这第二个同余式是不成立的。\n\n所要求的最终结果是余数的具体整数值。", "answer": "$$\\boxed{1}$$", "id": "3085229"}, {"introduction": "费马小定理不仅是一个计算工具，更是理解素数模下乘法群结构的基础。本练习将理论应用于解决多项式同余方程。通过确定同余方程 $x^k \\equiv 1 \\pmod p$ 的解的个数，你将把费马小定理与循环群的概念联系起来，并学习一种在模算术中分析方程的强大技巧。[@problem_id:3085218]", "problem": "设素数 $p=1009$。考虑模 $p$ 的乘法剩余，即在模 $p$ 意义下，满足 $1 \\leq x \\leq p-1$ 的整数 $x$ 的集合。确定满足同余式 $x^{6300} \\equiv 1 \\pmod{1009}$ 的剩余 $x$ 的个数。将你的最终答案表示为单个整数。", "solution": "问题要求解同余式 $x^{6300} \\equiv 1 \\pmod{p}$ 在范围 $1 \\leq x \\leq p-1$ 内的整数解 $x$ 的个数，其中 $p=1009$。\n\n首先，我们必须验证 $p=1009$ 是一个素数。为此，我们可以测试它是否能被不大于 $\\sqrt{1009}$ 的素数整除。由于 $\\sqrt{1009} \\approx 31.76$，我们测试到 $31$ 为止的素数。这些素数是 $2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31$。\n- $1009$ 是奇数，不能被 $2$ 整除。\n- 数字之和为 $1+0+0+9=10$，不能被 $3$ 整除，所以 $1009$ 不能被 $3$ 整除。\n- $1009$ 的个位数不是 $0$ 或 $5$，所以它不能被 $5$ 整除。\n- $1009 = 7 \\times 144 + 1$。\n- $1009 = 11 \\times 91 + 8$。\n- $1009 = 13 \\times 77 + 8$。\n- $1009 = 17 \\times 59 + 6$。\n- $1009 = 19 \\times 53 + 2$。\n- $1009 = 23 \\times 43 + 20$。\n- $1009 = 29 \\times 34 + 23$。\n- $1009 = 31 \\times 32 + 17$。\n由于 $1009$ 不能被任何小于或等于其平方根的素数整除，所以 $1009$ 是一个素数。\n\n满足 $1 \\leq x \\leq p-1$ 的整数集合在模 $p$ 乘法下构成一个群。这个群记为 $(\\mathbb{Z}/p\\mathbb{Z})^*$ 或 $U(p)$。由于 $p$ 是一个素数，这个群是循环群。这个群的阶是 $|(\\mathbb{Z}/1009\\mathbb{Z})^*| = p-1 = 1009 - 1 = 1008$。\n\n我们要求解方程 $x^{6300} \\equiv 1 \\pmod{1009}$ 的解的个数。这等价于在循环群 $G = (\\mathbb{Z}/1009\\mathbb{Z})^*$ 中找到满足方程 $x^{6300} = e$ 的元素 $x$ 的数量，其中 $e$ 是群的单位元（在此情境下为 $1$）。\n\n循环群理论中的一个基本结果表明，对于一个阶为 $n$ 的循环群 $G$，方程 $g^k=e$（其中 $k$ 是一个整数）的解的个数由 $\\gcd(k, n)$ 给出。\n\n在这个问题中，群是 $G = (\\mathbb{Z}/1009\\mathbb{Z})^*$，它是一个阶为 $n = 1008$ 的循环群。指数是 $k = 6300$。因此，$x^{6300} \\equiv 1 \\pmod{1009}$ 的解的个数等于 $\\gcd(6300, 1008)$。\n\n为了计算最大公约数，我们首先找出每个数的素因数分解。\n对于 $6300$：\n$$6300 = 63 \\times 100 = (9 \\times 7) \\times (10^2) = (3^2 \\times 7) \\times (2 \\times 5)^2 = 3^2 \\times 7 \\times 2^2 \\times 5^2$$\n所以，$6300$ 的素因数分解是 $2^2 \\times 3^2 \\times 5^2 \\times 7^1$。\n\n对于 $1008$：\n$$1008 = 2 \\times 504 = 2^2 \\times 252 = 2^3 \\times 126 = 2^4 \\times 63 = 2^4 \\times 9 \\times 7 = 2^4 \\times 3^2 \\times 7^1$$\n所以，$1008$ 的素因数分解是 $2^4 \\times 3^2 \\times 7^1$。\n\n现在，我们通过取每个公共素因数的最低次幂来求最大公约数：\n$$\\gcd(6300, 1008) = \\gcd(2^2 \\times 3^2 \\times 5^2 \\times 7^1, 2^4 \\times 3^2 \\times 7^1)$$\n公共素因数是 $2$、$3$ 和 $7$。\n$2$ 的最低次幂是 $\\min(2, 4) = 2$。\n$3$ 的最低次幂是 $\\min(2, 2) = 2$。\n$7$ 的最低次幂是 $\\min(1, 1) = 1$。\n素因数 $5$ 不是公共的，所以它在最大公约数中的次幂是 $0$。\n\n因此，\n$$\\gcd(6300, 1008) = 2^2 \\times 3^2 \\times 7^1 = 4 \\times 9 \\times 7 = 36 \\times 7 = 252$$\n\n满足同余式 $x^{6300} \\equiv 1 \\pmod{1009}$ 的剩余 $x$ 的个数是 $252$。", "answer": "$$\\boxed{252}$$", "id": "3085218"}]}