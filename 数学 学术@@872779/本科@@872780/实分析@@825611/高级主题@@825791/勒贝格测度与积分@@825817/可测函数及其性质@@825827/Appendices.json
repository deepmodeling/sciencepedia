{"hands_on_practices": [{"introduction": "在测度论中，可测函数的一个核心思想是它们可以由更简单的函数逐步构造而成。简单函数，作为可测集特征函数的有限线性组合，扮演着“原子”的角色。一个重要的定理指出，任何非负可测函数都可以表示为一个递增的简单函数序列的逐点极限。这个练习 [@problem_id:1310526] 将这个抽象的构造定理付诸实践，要求你为一个我们都非常熟悉的函数 $f(x) = x$ 找到一个明确的简单函数逼近序列。", "problem": "在测度论中，一个核心定理指出，任何非负可测函数都可以构造为一个简单函数序列的逐点极限。简单函数定义为可以写成可测集的特征函数的有限线性组合的函数。\n\n考虑定义在闭区间 $[0, 1]$ 上的函数 $f(x) = x$。您的任务是找到一个显式的简单函数序列 $\\{\\phi_n(x)\\}_{n=1}^{\\infty}$，它对每一个 $x \\in [0, 1]$ 都逐点收敛于 $f(x)$。\n\n请为该序列的第 n 项 $\\phi_n(x)$ 提供一个紧凑、显式的公式，用整数 $n$ 和变量 $x$ 来表示它。", "solution": "我们的目标是构造一个简单函数序列 $\\{\\phi_n(x)\\}_{n=1}^{\\infty}$，它在区间 $[0, 1]$ 上逐点收敛于函数 $f(x)=x$。也就是说，对每个固定的 $x \\in [0, 1]$，我们必须有 $\\lim_{n \\to \\infty} \\phi_n(x) = x$。\n\n构造此类序列的一个标准方法是将函数的定义域划分为更小的部分，并定义简单函数在每个部分上为常数。实现这一点的一种便捷方式是使用二进划分。\n\n对于每个正整数 $n$，我们将区间 $[0, 1]$ 划分为 $2^n$ 个子区间。我们可以在每个子区间上定义我们的简单函数 $\\phi_n(x)$ 来近似 $f(x)=x$。一个自然的选择是将 $\\phi_n(x)$ 的值设为包含 $x$ 的子区间的左端点处 $f(x)$ 的值。\n\n让我们使这个构造更精确。对于任意 $x \\in [0, 1]$，我们想找到包含 $x$ 的形式为 $[\\frac{k}{2^n}, \\frac{k+1}{2^n})$ 的子区间。整数 $k$ 将取决于 $n$ 和 $x$。我们可以使用向下取整函数（记作 $\\lfloor \\cdot \\rfloor$）来表示这种关系。\n\n对于给定的 $x \\in [0, 1]$ 和给定的 $n \\ge 1$，我们考虑 $2^n x$ 的值。根据向下取整函数的定义，我们有 $\\lfloor 2^n x \\rfloor \\le 2^n x  \\lfloor 2^n x \\rfloor + 1$。令 $k = \\lfloor 2^n x \\rfloor$。将不等式两边除以 $2^n$ 可得：\n$$\n\\frac{k}{2^n} \\le x  \\frac{k+1}{2^n}\n$$\n这精确地确定了包含 $x$ 的二进区间的左端点为 $\\frac{k}{2^n}$。\n\n让我们根据这个思想定义我们的候选函数序列：\n$$\n\\phi_n(x) = \\frac{\\lfloor 2^n x \\rfloor}{2^n}\n$$\n\n首先，我们必须验证每个 $\\phi_n(x)$ 都是一个简单函数。对于一个固定的 $n$，当 $x$ 在 $[0, 1]$ 上取值时，整数 $k = \\lfloor 2^n x \\rfloor$ 的可能值为 $k \\in \\{0, 1, 2, \\dots, 2^n\\}$。\n对于集合 $S_k = \\{x \\in [0, 1] : \\lfloor 2^n x \\rfloor = k\\}$ 中的 $x$，函数 $\\phi_n(x)$ 的取值为 $\\frac{k}{2^n}$。\n对于 $k \\in \\{0, 1, \\dots, 2^n-1\\}$，集合 $S_k$ 是区间 $[\\frac{k}{2^n}, \\frac{k+1}{2^n})$。\n对于 $k = 2^n$，集合 $S_{2^n}$ 对应于 $\\lfloor 2^n x \\rfloor = 2^n$，这仅在 $x=1$ 时成立。所以，$S_{2^n}=\\{1\\}$。\n因此，$\\phi_n(x)$ 可以显式地写成特征函数的线性组合：\n$$\n\\phi_n(x) = \\sum_{k=0}^{2^n-1} \\frac{k}{2^n} \\chi_{[\\frac{k}{2^n}, \\frac{k+1}{2^n})}(x) + \\frac{2^n}{2^n} \\chi_{\\{1\\}}(x)\n$$\n由于这是可测集（区间和单点集）的特征函数的有限和（有 $2^n+1$ 项），因此对于每个 $n$，$\\phi_n(x)$ 都是一个简单函数。\n\n接下来，我们必须证明该序列对所有的 $x \\in [0, 1]$ 都逐点收敛于 $f(x)=x$。\n从我们之前推导出的不等式 $\\phi_n(x) \\le x  \\phi_n(x) + \\frac{1}{2^n}$，我们可以从所有部分减去 $x$：\n$$\n\\phi_n(x) - x \\le 0  \\phi_n(x) - x + \\frac{1}{2^n}\n$$\n或者，关注 $x$ 和 $\\phi_n(x)$ 之间的距离：\n$$\n0 \\le x - \\phi_n(x)  \\frac{1}{2^n}\n$$\n这个不等式对所有 $x \\in [0, 1]$ 都成立。当 $n \\to \\infty$ 时，项 $\\frac{1}{2^n}$ 趋近于 $0$。根据夹逼定理，我们有：\n$$\n\\lim_{n \\to \\infty} (x - \\phi_n(x)) = 0\n$$\n这意味着对于每一个 $x \\in [0, 1]$：\n$$\n\\lim_{n \\to \\infty} \\phi_n(x) = x\n$$\n因此，由 $\\phi_n(x) = \\frac{\\lfloor 2^n x \\rfloor}{2^n}$ 定义的简单函数序列在 $[0, 1]$ 上逐点收敛于 $f(x) = x$。该公式是紧凑且显式的。", "answer": "$$\\boxed{\\frac{\\lfloor 2^n x \\rfloor}{2^n}}$$", "id": "1310526"}, {"introduction": "在确认了基本构造块之后，我们自然会问：可测函数的组合是否仍然是可测的？一个基石性的结果是，两个可测函数 $f$ 和 $g$ 的和 $f+g$ 也是可测的。这个练习 [@problem_id:1310519] 让你深入探究该定理证明的关键步骤，通过一个具体的数值例子，将一个抽象的证明技巧——利用有理数集构造可数并集——转化为一个可以动手计算的问题，从而加深理解。", "problem": "设 $(X, \\mathcal{A})$ 是一个可测空间。一个实值函数 $f: X \\to \\mathbb{R}$ 被称为可测的，如果对于任意实数 $c$，集合 $\\{x \\in X : f(x)  c\\}$ 都是 σ-代数 $\\mathcal{A}$ 中的一个元素。\n\n测度论中的一个基本结果指出，如果 $f$ 和 $g$ 是可测函数，那么它们的和 $h(x) = f(x) + g(x)$ 也是可测的。证明该定理的一个关键步骤是证明对于任意实数 $\\alpha$，集合 $S_\\alpha = \\{x \\in X : f(x) + g(x)  \\alpha\\}$ 是可测的。这通常通过将 $S_\\alpha$ 表示为由有理数集 $\\mathbb{Q}$ 索引的可测集的可数并集来实现：\n$$S_\\alpha = \\bigcup_{r \\in \\mathbb{Q}} A_r$$\n集合 $A_r$ 是使用 $f$、$g$ 和 $\\alpha$ 构建的。定义这些集合的一种标准方法是：\n$$A_r = \\{x \\in X : f(x)  r\\} \\cap \\{x \\in X : g(x)  \\alpha - r\\}$$\n\n现在，考虑一个具体的例子。设 $f$ 和 $g$ 是两个可测函数。对于一个特定的点 $x_0 \\in X$，函数的值为 $f(x_0) = \\frac{11}{3}$ 和 $g(x_0) = \\frac{7}{2}$。设阈值为 $\\alpha = 5$。\n\n由于 $f(x_0) + g(x_0)  \\alpha$，因此必然有 $x_0 \\in S_\\alpha$，所以 $x_0$ 必须属于至少一个有理数 $q$ 对应的 $A_q$。对于某个开区间内的所有实数 $r$，条件 $x_0 \\in A_r$ 都成立。\n\n求此区间的长度。将你的答案表示为最简精确分数。", "solution": "问题要求的是使得点 $x_0$ 属于集合 $A_r$ 的实数 $r$ 构成的开区间的长度。\n\n集合 $A_r$ 定义为 $A_r = \\{x \\in X : f(x)  r\\} \\cap \\{x \\in X : g(x)  \\alpha - r\\}$。\n要使特定点 $x_0$ 成为 $A_r$ 的一个元素，它必须同时满足定义交集的两个条件：\n1. $f(x_0)  r$\n2. $g(x_0)  \\alpha - r$\n\n我们已知以下数值：\n- $f(x_0) = \\frac{11}{3}$\n- $g(x_0) = \\frac{7}{2}$\n- $\\alpha = 5$\n\n我们将这些值代入两个不等式。\n\n第一个不等式变为：\n$\\frac{11}{3}  r$\n这可以写成 $r  \\frac{11}{3}$。\n\n第二个不等式变为：\n$\\frac{7}{2}  5 - r$\n为了解出 $r$，我们可以在两边同时加上 $r$，然后减去 $\\frac{7}{2}$：\n$r  5 - \\frac{7}{2}$\n\n现在，我们计算这个不等式的右边。我们将 5 表示为分母为 2 的分数：\n$5 = \\frac{10}{2}$\n所以，不等式是：\n$r  \\frac{10}{2} - \\frac{7}{2}$\n$r  \\frac{3}{2}$\n\n因此，要使 $x_0$ 属于 $A_r$，实数 $r$ 必须同时满足两个不等式：\n$\\frac{3}{2}  r  \\frac{11}{3}$\n\n这意味着所有可能的实数 $r$ 的集合是开区间 $I = \\left(\\frac{3}{2}, \\frac{11}{3}\\right)$。\n\n问题要求的是这个区间的长度。一个区间 $(a, b)$ 的长度由 $b - a$ 给出。\n在我们的例子中，$a = \\frac{3}{2}$ 且 $b = \\frac{11}{3}$。\n长度 $L$ 是：\n$L = \\frac{11}{3} - \\frac{3}{2}$\n\n为了计算这两个分数的差，我们找到一个公分母，也就是 3 和 2 的最小公倍数，即 6。\n我们将每个分数转换为分母为 6 的形式：\n$\\frac{11}{3} = \\frac{11 \\times 2}{3 \\times 2} = \\frac{22}{6}$\n$\\frac{3}{2} = \\frac{3 \\times 3}{2 \\times 3} = \\frac{9}{6}$\n\n现在我们可以计算长度了：\n$L = \\frac{22}{6} - \\frac{9}{6} = \\frac{22 - 9}{6} = \\frac{13}{6}$\n\n分数 $\\frac{13}{6}$ 是最简形式，因为 13 是一个质数，而 6 不是 13 的倍数。\n\n因此，可能的 $r$ 值区间的长度是 $\\frac{13}{6}$。", "answer": "$$\\boxed{\\frac{13}{6}}$$", "id": "1310519"}, {"introduction": "理解了可测函数的构造和代数性质后，是时候将这些知识应用于实际的度量计算了。研究可测函数的一个主要动机就是为了能够“测量”由它们定义的集合，例如集合 $\\{x : f(x)  g(x)\\}$。这个练习 [@problem_id:1310511] 提供了一个绝佳的机会，它要求你综合运用函数性质和勒贝格测度的知识，为一个由线性函数和基于二进制展开的阶梯函数构成的特定集合计算其长度（测度）。", "problem": "设 $E$ 为单位区间 $[0, 1]$，其上赋有标准的勒贝格测度。考虑两个函数 $f: E \\to \\mathbb{R}$ 和 $g: E \\to \\mathbb{R}$。\n\n函数 $f$ 定义为 $f(x) = 6x$。\n\n函数 $g$ 的定义基于 $x$ 的二进制展开。对于任意 $x \\in (0, 1]$，我们考虑其不以无限个1结尾的唯一二进制展开 $x = 0.b_1 b_2 b_3 \\dots$（例如，对于 $x=1/2$，我们使用展开式 $0.100\\dots$ 而不是 $0.011\\dots$）。$g(x)$ 的值定义为该展开式中第一个非零数字的索引，即 $g(x) = k$，其中 $k = \\min\\{j \\in \\mathbb{Z}^+ \\mid b_j = 1\\}$。对于 $x=0$，我们定义 $g(0) = 0$。\n\n计算集合 $A = \\{x \\in E : f(x)  g(x)\\}$ 的勒贝格测度。", "solution": "设 $m$ 表示 $E=[0,1]$ 上的勒贝格测度。对于二进制展开为 $x=0.b_{1}b_{2}b_{3}\\dots$（选择不以无限个$1$结尾）的 $x\\in(0,1]$，$g(x)$ 是第一个$1$的索引。对于每个 $k\\in\\mathbb{Z}^{+}$，定义\n$$\nS_{k}=\\{x\\in(0,1]: g(x)=k\\}。\n$$\n根据 $g$ 的定义，$S_k$ 正是二进制展开中前 $k-1$ 位为 $0$ 且第 $k$ 位为 $1$ 的 $x$ 的集合，这是一个半开二进区间\n$$\nS_{k}=[2^{-k},\\,2^{-k+1})。\n$$\n这些集合两两不交，且满足 $\\bigcup_{k=1}^{\\infty}S_{k}=(0,1)$。此外，$g(0)=0$ 且 $f(0)=0$，所以 $0\\notin A$，因为 $f(0)g(0)$ 不成立。因此，\n$$\nA=\\bigcup_{k=1}^{\\infty}\\bigl(S_{k}\\cap\\{x:6xk\\}\\bigr),\n$$\n根据不交集上的可数可加性，\n$$\nm(A)=\\sum_{k=1}^{\\infty}m\\bigl(S_{k}\\cap\\{x:6xk\\}\\bigr)。\n$$\n固定 $k\\in\\mathbb{Z}^{+}$。在 $S_{k}=[2^{-k},2^{-k+1})$ 上，不等式 $6xk$ 等价于 $x\\frac{k}{6}$。因此，我们要求交集\n$$\nS_{k}\\cap\\{x:6xk\\}=[2^{-k}, 2^{-k+1})\\cap(k/6,\\infty)\n$$\n的测度，我们将其记为 $L_k$。这个测度可以紧凑地表示为\n$$\nL_{k}=\\max\\bigl\\{0,\\,2^{-k+1}-\\max\\{2^{-k},\\tfrac{k}{6}\\}\\bigr\\}。\n$$\n我们现在分情况计算 $L_k$：\n- 对于 $k=1$，$\\max\\{2^{-1},\\tfrac{1}{6}\\}=\\max\\{\\tfrac{1}{2},\\tfrac{1}{6}\\}=\\tfrac{1}{2}$，所以 $L_{1}=2^{-1+1}-\\tfrac{1}{2}=1- \\tfrac{1}{2}=\\tfrac{1}{2}$。\n- 对于 $k=2$，$\\max\\{2^{-2},\\tfrac{2}{6}\\}=\\max\\{\\tfrac{1}{4},\\tfrac{1}{3}\\}=\\tfrac{1}{3}$，所以 $L_{2}=2^{-2+1}-\\tfrac{1}{3}=\\tfrac{1}{2}-\\tfrac{1}{3}=\\tfrac{1}{6}$。\n- 对于 $k\\geq 3$，我们有 $2^{-k+1}\\leq \\tfrac{1}{4}$ 而 $\\tfrac{k}{6}\\geq \\tfrac{1}{2}$，所以 $\\tfrac{k}{6}>2^{-k+1}$，因此交集为空， $L_{k}=0$。\n\n因此，\n$$\nm(A)=L_{1}+L_{2}=\\frac{1}{2}+\\frac{1}{6}=\\frac{2}{3}。\n$$", "answer": "$$\\boxed{\\frac{2}{3}}$$", "id": "1310511"}]}