{"hands_on_practices": [{"introduction": "一个函数有无穷多个不连续点，它是否还是黎曼可积的？这个问题引导我们超越简单地计算不连续点的个数，而去关注这些点的“大小”或“测度”。这个练习 [@problem_id:1335080] 将通过一个定义在可数集上的特征函数，清晰地展示勒贝格准则的威力：只要不连续点集是测度为零的，即使它包含无穷多个点，函数依然是黎曼可积的。", "problem": "设集合 $C$ 在区间 $[0,1]$ 内定义为 $C = \\{0\\} \\cup \\{ 1/n^2 \\mid n \\in \\mathbb{N} \\}$，其中 $\\mathbb{N} = \\{1, 2, 3, \\dots\\}$ 是自然数集。考虑一个函数 $f: [0,1] \\to \\mathbb{R}$，其定义为集合 $C$ 的特征函数：\n$$\nf(x) = \\begin{cases} \n1  \\text{if } x \\in C \\\\\n0  \\text{if } x \\notin C \n\\end{cases}\n$$\n下列哪个陈述正确地判断了函数 $f$ 在区间 $[0,1]$ 上是否黎曼可积？\n\nA. 是的，该函数是黎曼可积的，因为其不连续点的集合是有限集。\n\nB. 是的，该函数是黎曼可积的，因为其不连续点的集合是可数集，因此测度为零。\n\nC. 不是，该函数不是黎曼可积的，因为它有无穷多个不连续点。\n\nD. 不是，该函数不是黎曼可积的，因为对应的黎曼积分值为零，这是平凡的。\n\nE. 不是，该函数不是黎曼可积的，因为它在区间 $[0,1]$ 上不是单调函数。", "solution": "我们考虑在 $[0,1]$ 上的特征函数 $f=\\chi_{C}$，其中 $C=\\{0\\}\\cup\\{1/n^{2}:n\\in\\mathbb{N}\\}$。函数 $f$ 是有界的，因为对所有 $x\\in[0,1]$，都有 $f(x)\\in\\{0,1\\}$。\n\n在 $[a,b]$ 上的有界函数是黎曼可积的，当且仅当其不连续点集的勒贝格测度为零（勒贝格黎曼可积性判据）。\n\n对于一个指示函数 $\\chi_{A}$，其不连续点集恰好是边界 $\\partial A$。因此，我们来确定 $\\partial C$。\n\n首先，$C$ 是闭集：其唯一的聚点是 $0$，并且 $0\\in C$，而每个 $1/n^{2}$ 都是孤立点。因此 $\\overline{C}=C$。$C$ 的内部是空集，因为没有非退化区间完全位于 $C$ 内部。所以，边界满足\n$$\n\\partial C=\\overline{C}\\setminus \\operatorname{int}(C)=C.\n$$\n等价地，我们可以逐点检查：\n- 如果 $x\\in C$ 且 $x\\neq 0$，那么 $x=1/n^{2}$ 是 $C$ 中的孤立点，所以 $x$ 的每个邻域都包含不属于 $C$ 的点，并且 $f$ 在任意接近 $x$ 的地方在 $1$ 和 $0$ 之间跳跃；因此 $f$ 在 $x$ 处不连续。\n- 如果 $x=0$，每个邻域都包含点 $1/n^{2}\\in C$ 以及 $C^{c}$ 中的点，所以 $f$ 在 $0$ 处不连续。\n- 如果 $x\\in(0,1]$ 且 $x\\notin C$，那么，由于 $\\{1/n^{2}\\}$ 只在 $0$ 处聚集，存在 $\\delta0$ 使得 $(x-\\delta,x+\\delta)$ 不包含 $C$ 中的点，所以 $f$ 在该邻域上恒等于 $0$，因而在 $x$ 处连续。\n\n因此 $f$ 的不连续点集恰好是 $C$。集合 $C$ 是可数的，因此勒贝格测度为零。一个标准的覆盖论证证实了这一点：对于任意 $\\varepsilon0$，用一个长度为 $\\varepsilon/2$ 的区间覆盖 $0$，并用一个长度为 $\\varepsilon/2^{n+1}$ 的区间覆盖每个 $1/n^{2}$；总长度至多为 $\\varepsilon$。\n\n根据勒贝格判据，$f$ 在 $[0,1]$ 上是黎曼可积的。在这些选项中，这正是选项 B 所陈述的。（选项 A 是错误的，因为不连续点集是无限的；C 是错误的，因为无限个不连续点并不排除可积性；D 和 E 与黎曼可积性无关。）", "answer": "$$\\boxed{B}$$", "id": "1335080"}, {"introduction": "与上一个例子形成鲜明对比，我们现在来研究一个在几乎所有点上都不连续的函数。这个练习 [@problem_id:1335056] 是一个至关重要的反例，它揭示了当不连续点集“太大”（即具有非零测度）时会发生什么。通过分析这个函数，你将深刻理解为何它不满足黎曼可积分的条件，并体会到勒贝格准则中“测度为零”这一要求的核心作用。", "problem": "考虑一个定义在闭区间 $[0, 1]$ 上的函数 $f$。该函数的值由以下规则给出：\n$$\nf(x) =\n\\begin{cases}\nx  \\text{if } x \\text{ is a rational number in } [0, 1] \\\\\n0  \\text{if } x \\text{ is an irrational number in } [0, 1]\n\\end{cases}\n$$\n根据该函数的性质，判断其在区间 $[0, 1]$ 上的黎曼可积性。\n\n以下哪个陈述是正确的？\n\nA. 该函数在 $[0, 1]$ 上是黎曼可积的。\n\nB. 该函数在 $[0, 1]$ 上不是黎曼可积的。\n\nC. 仅当其定义更改为对所有有理数 $x$，$f(x)=0$ 时，该函数才在 $[0, 1]$ 上是黎曼可积的。\n\nD. 该函数在 $[0,1]$ 上的可积性取决于划分的具体选择，无法一概而论。", "solution": "我们分析在 $[0,1]$ 上定义的函数 $f(x)=x$（如果 $x$ 是有理数）和 $f(x)=0$（如果 $x$ 是无理数）的黎曼可积性。\n\n首先，确定连续点。在 $x=0$ 处，对于任何序列 $x_{n}\\to 0$，无论是沿有理数（此时 $f(x_{n})=x_{n}\\to 0$）还是沿无理数（此时 $f(x_{n})=0$），极限都是 $0=f(0)$，所以 $f$ 在 $0$ 处是连续的。对于任何 $c\\in(0,1]$，取有理数序列 $x_{n}\\to c$ 得到 $f(x_{n})\\to c$，而取无理数序列 $y_{n}\\to c$ 得到 $f(y_{n})\\to 0$。由于 $c \\neq 0$，这两个极限不相等，因此极限不存在，所以 $f$ 在每个 $c\\in(0,1]$ 处都是不连续的。因此，不连续点的集合是 $(0,1]$，其勒贝格测度为 $1$，是正数。根据黎曼可积性的勒贝格准则，闭区间上的有界函数是黎曼可积的，当且仅当其不连续点集合的测度为零。因此，$f$ 在 $[0,1]$ 上不是黎曼可积的。\n\n为了进行直接的达布（Darboux）和验证，令 $P: 0=x_0  x_1  \\dots  x_n = 1$ 为一个分割。在任何子区间 $[x_{i-1}, x_i]$ 中，由于无理数是稠密的，我们有 $\\inf_{x \\in [x_{i-1}, x_i]} f(x) = 0$。因此，下和 $L(f, P) = \\sum_{i=1}^n 0 \\cdot (x_i - x_{i-1}) = 0$。所以，下积分 $\\underline{\\int_0^1} f \\,dx = 0$。另一方面，在任何子区间 $[x_{i-1}, x_i]$ 中，由于有理数也是稠密的，$\\sup_{x \\in [x_{i-1}, x_i]} f(x) = \\sup \\{r \\mid r \\in \\mathbb{Q} \\cap [x_{i-1}, x_i]\\} = x_i$。因此，上和 $U(f, P) = \\sum_{i=1}^n x_i(x_i - x_{i-1})$。当分割的范数趋于零时，这个上和收敛于积分 $\\int_0^1 x \\,dx = 1/2$。所以，上积分 $\\overline{\\int_0^1} f \\,dx = 1/2$。由于下积分 $0$ 不等于上积分 $1/2$，该函数不是黎曼可积的。", "answer": "$$\\boxed{B}$$", "id": "1335056"}, {"introduction": "最后，我们来探讨一个更微妙且出人意料的例子。这个函数的定义看似复杂，其不连续点的分布也显得相当零散。最后一个练习 [@problem_id:1335052] 将挑战我们精确地识别出这个不连续点集，并应用勒贝格准则。通过这个过程，你将发现，即使是一些表面上看起来很“奇异”的函数，只要其不连续性足够“稀疏”，也仍然可以是黎曼可积的。", "problem": "考虑如下定义的函数 $f: [0, 1] \\to \\mathbb{R}$。对于任意有理数 $x \\in [0, 1]$，如果它可以写成最简分数形式 $x = p/q$，其中 $q$ 是一个素数，则函数值为 $f(x) = 1/q$。对于区间 $[0, 1]$ 中的所有其他点 $x$（即，对于无理数以及最简分数形式下分母不是素数的有理数），函数值为 $f(x) = 0$。注意，对于 $x=0$ 和 $x=1$，它们可以分别写成 $0/1$ 和 $1/1$，其分母为 $1$，不是素数，所以 $f(0)=0$ 且 $f(1)=0$。\n\n设 $D$ 为函数 $f$ 在区间 $[0, 1]$ 上的不连续点集合。求集合 $D$ 的勒贝格测度。", "solution": "定义函数 $f:[0,1]\\to\\mathbb{R}$ 为：若 $x=p/q$ 是最简分数且 $q$ 为素数，则 $f(x)=1/q$；否则（包括 $x=0$ 和 $x=1$）$f(x)=0$。设 $D$ 是 $f$ 的不连续点集。我们来确定 $D$ 及其勒贝格测度。\n\n首先，我们刻画分母为素数的有理数点处的不连续性。设 $x_{0}=p/q$，其中 $\\gcd(p,q)=1$ 且 $q$ 为素数。那么 $f(x_{0})=1/q0$。利用无理数在 $[0,1]$ 中的稠密性，对任意 $\\delta0$，存在一个无理数 $y$ 使得 $|y-x_{0}|\\delta$。对于这样的 $y$，$f(y)=0$。因此\n$$\n|f(y)-f(x_{0})|=\\left|0-\\frac{1}{q}\\right|=\\frac{1}{q}.\n$$\n取 $\\varepsilon=\\frac{1}{2q}$，我们发现在 $x_{0}$ 的任意邻域中都存在某个 $y$ 使得 $|f(y)-f(x_{0})|\\geq\\varepsilon$。根据连续性的 $\\varepsilon$-$\\delta$ 定义，$f$ 在每个最简分母为素数的有理数 $x_{0}$ 处不连续。\n\n其次，我们证明在所有其他点 $x_{0}\\in[0,1]$（无理数点和最简分母不是素数的有理数点）处函数是连续的。给定任意 $\\varepsilon0$。选择一个整数 $N\\in\\mathbb{N}$ 使得 $N\\geq 2$ 且 $\\frac{1}{N}\\varepsilon$。对于每个素数 $q\\leq N$，考虑有限集\n$$\nS_{q}=\\left\\{\\frac{p}{q}\\in[0,1]:\\ \\gcd(p,q)=1,\\ 1\\leq p\\leq q-1\\right\\},\n$$\n并定义有限并集\n$$\nA_{N}=\\bigcup_{\\substack{q\\ \\text{为素数}\\\\ q\\leq N}}S_{q}.\n$$\n根据对 $x_{0}$ 的假设，我们有 $x_{0}\\notin A_{N}$。因为 $A_{N}$ 是有限集且 $x_{0}\\notin A_{N}$，所以距离\n$$\nd=\\min\\{|x_{0}-a|:\\ a\\in A_{N}\\}\n$$\n是严格为正的。令 $\\delta=\\frac{d}{2}$。那么，对于任意满足 $|x-x_{0}|\\delta$ 的 $x\\in[0,1]$，我们有 $x\\notin A_{N}$。因此，以下两种情况必居其一：\n- $x$ 是无理数，或是一个最简分母不是素数的有理数，此时 $f(x)=0$。\n- $x$ 是一个最简分母为素数 $q$ 的有理数，且 $qN$，此时 $f(x)=\\frac{1}{q}\\leq\\frac{1}{N}\\varepsilon$。\n\n在所有情况下，由于在这样的 $x_0$ 处 $f(x_0) = 0$，我们有 $|f(x)-f(x_0)| = |f(x)|  \\varepsilon$。因此，$f$ 在每个无理数点以及每个最简分母不是素数的有理数点（包括 $x=0$ 和 $x=1$）处都是连续的。\n\n因此，不连续点集恰好是\n$$\nD=\\bigcup_{\\text{$q$ 为素数}}S_{q}=\\left\\{\\frac{p}{q}\\in[0,1]:\\ \\gcd(p,q)=1,\\ q\\ \\text{为素数},\\ 1\\leq p\\leq q-1\\right\\}.\n$$\n对于每个素数 $q$，集合 $S_{q}$ 是有限的，而素数集合是可数的。因此 $D$ 是一个可数集。根据测度论中的一个标准事实，即 $\\mathbb{R}$ 的任何可数子集的勒贝格测度都为零，我们得出 $D$ 的勒贝格测度为零。\n\n因此，函数 $f$ 的不连续点集的勒贝格测度是 $0$。", "answer": "$$\\boxed{0}$$", "id": "1335052"}]}