{"hands_on_practices": [{"introduction": "可测函数的简单函数逼近理论是勒贝格积分理论的基石。为了真正理解这个构造过程，最好的方法莫过于亲自动手实践。在这个练习中 ([@problem_id:1283057])，我们将为一个简单的线性函数 $f(x)=3x$ 具体构造出逼近它的前两个简单函数 $\\phi_1$ 和 $\\phi_2$，通过计算它们的积分，你将直观地感受到逼近是如何一步步变得更加精确的。", "problem": "设 $f: D \\to [0, \\infty)$ 是定义在域 $D \\subseteq \\mathbb{R}$ 上的一个非负可测函数。一个逐点收敛于 $f$ 的标准简单函数序列 $(\\phi_n)_{n=1}^\\infty$ 按如下方式构造。\n\n对于每个整数 $n \\geq 1$，我们定义集合：\n- $E_{n,k} = \\left\\{ x \\in D \\mid \\frac{k-1}{2^n} \\leq f(x)  \\frac{k}{2^n} \\right\\}$，对于 $k = 1, 2, \\dots, n2^n$。\n- $F_n = \\{ x \\in D \\mid f(x) \\geq n \\}$。\n\n简单函数 $\\phi_n(x)$ 则由下式给出：\n$$\n\\phi_n(x) = \\sum_{k=1}^{n2^n} \\frac{k-1}{2^n} \\cdot \\chi_{E_{n,k}}(x) + n \\cdot \\chi_{F_n}(x)\n$$\n其中 $\\chi_{A}(x)$ 是集合 $A$ 的特征函数，当 $x \\in A$ 时其值为 1，否则为 0。\n\n考虑定义在区间 $D = [0, 1]$ 上的函数 $f(x) = 3x$。设 $\\phi_1(x)$ 和 $\\phi_2(x)$ 是这个近似于 $f(x)$ 的标准序列中的前两个简单函数。\n\n计算积分 $\\int_0^1 (\\phi_2(x) - \\phi_1(x)) \\,dx$ 的精确值。", "solution": "我们有 $f(x)=3x$ 定义在 $D=[0,1]$ 上。对于 $n=1$, $2^{1}=2$ 且 $k=1,2$。集合为\n$$\nE_{1,1}=\\{x\\in[0,1]\\mid 0\\leq 3x  \\tfrac{1}{2}\\}=[0,\\tfrac{1}{6}),\\quad\nE_{1,2}=\\{x\\in[0,1]\\mid \\tfrac{1}{2}\\leq 3x  1\\}=[\\tfrac{1}{6},\\tfrac{1}{3}),\n$$\n$$\nF_{1}=\\{x\\in[0,1]\\mid 3x\\geq 1\\}=[\\tfrac{1}{3},1].\n$$\n因此\n$$\n\\phi_{1}(x)=0\\cdot\\chi_{[0,\\,1/6)}(x)+\\tfrac{1}{2}\\cdot\\chi_{[1/6,\\,1/3)}(x)+1\\cdot\\chi_{[1/3,\\,1]}(x),\n$$\n且\n$$\n\\int_{0}^{1}\\phi_{1}(x)\\,dx=0\\cdot\\tfrac{1}{6}+\\tfrac{1}{2}\\cdot\\tfrac{1}{6}+1\\cdot\\tfrac{2}{3}=\\tfrac{1}{12}+\\tfrac{8}{12}=\\tfrac{9}{12}=\\tfrac{3}{4}.\n$$\n\n对于 $n=2$, $2^{2}=4$ 且 $k=1,2,\\dots,8$。那么\n$$\nE_{2,k}=\\{x\\in[0,1]\\mid \\tfrac{k-1}{4}\\leq 3x  \\tfrac{k}{4}\\}=\\Big[\\tfrac{k-1}{12},\\tfrac{k}{12}\\Big),\n\\quad k=1,\\dots,8,\n$$\n且\n$$\nF_{2}=\\{x\\in[0,1]\\mid 3x\\geq 2\\}=\\Big[\\tfrac{2}{3},1\\Big].\n$$\n因此\n$$\n\\phi_{2}(x)=\\sum_{k=1}^{8}\\tfrac{k-1}{4}\\,\\chi_{[(k-1)/12,\\,k/12)}(x)+2\\,\\chi_{[2/3,\\,1]}(x).\n$$\n在 $[0,1]$ 上积分，并利用每个区间 $[(k-1)/12,k/12)$ 的长度为 $\\tfrac{1}{12}$，我们得到\n$$\n\\int_{0}^{1}\\phi_{2}(x)\\,dx=\\sum_{k=1}^{8}\\tfrac{k-1}{4}\\cdot\\tfrac{1}{12}+2\\cdot\\tfrac{1}{3}\n=\\tfrac{1}{48}\\sum_{j=0}^{7}j+\\tfrac{2}{3}.\n$$\n使用 $\\sum_{j=0}^{m}j=\\tfrac{m(m+1)}{2}$，其中 $m=7$，得到 $\\sum_{j=0}^{7}j=\\tfrac{7\\cdot 8}{2}=28$，所以\n$$\n\\int_{0}^{1}\\phi_{2}(x)\\,dx=\\tfrac{28}{48}+\\tfrac{2}{3}=\\tfrac{7}{12}+\\tfrac{8}{12}=\\tfrac{15}{12}=\\tfrac{5}{4}.\n$$\n\n因此，\n$$\n\\int_{0}^{1}\\big(\\phi_{2}(x)-\\phi_{1}(x)\\big)\\,dx=\\int_{0}^{1}\\phi_{2}(x)\\,dx-\\int_{0}^{1}\\phi_{1}(x)\\,dx=\\tfrac{5}{4}-\\tfrac{3}{4}=\\tfrac{2}{4}=\\tfrac{1}{2}.\n$$", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "1283057"}, {"introduction": "掌握了标准逼近序列的构造方法后，一个自然的问题是：这个逼近过程具有哪些基本性质？例如，它是否满足线性性，即两个函数之和的逼近，是否等于它们各自逼近之和？这个练习 ([@problem_id:1405485]) 将通过一个精心设计的反例，揭示标准逼近构造的一个重要但或许不那么直观的特性——非线性。", "problem": "设 $([0,1], \\mathcal{L}, \\mu)$ 是一个测度空间，其中 $\\mathcal{L}$ 是 $[0,1]$ 上的勒贝格 sigma-代数，$\\mu$ 是勒贝格测度。对于任意非负可测函数 $h: [0,1] \\to [0, \\infty]$，其标准的逼近简单函数序列 $(s_n)_{n \\in \\mathbb{N}}$ 对每个整数 $n \\geq 1$ 定义如下：\n$$ s_n(x) = \\sum_{k=1}^{n2^n} \\frac{k-1}{2^n} \\mathbb{1}_{\\{x \\in [0,1] \\,:\\, \\frac{k-1}{2^n} \\leq h(x)  \\frac{k}{2^n}\\}} + n \\mathbb{1}_{\\{x \\in [0,1] \\,:\\, h(x) \\geq n\\}} $$\n其中 $\\mathbb{1}_A$ 表示集合 $A$ 的示性函数。这个构造在定义非负函数的勒贝格积分时是基础性的。\n\n考虑在区间 $[0,1]$ 上的两个常数函数，定义为 $f(x) = 0.3$ 和 $g(x) = 0.3$。设 $(\\phi_n)_{n \\in \\mathbb{N}}$ 是逼近 $f(x)$ 的标准简单函数序列，$(\\psi_n)_{n \\in \\mathbb{N}}$ 是逼近 $g(x)$ 的标准简单函数序列。设 $h(x) = f(x) + g(x)$，并设 $(\\chi_n)_{n \\in \\mathbb{N}}$ 是逼近 $h(x)$ 的标准简单函数序列。\n\n计算对任意 $x \\in [0,1]$，表达式 $\\chi_1(x) - (\\phi_1(x) + \\psi_1(x))$ 的值。请将答案表示为一个精确的小数值。", "solution": "我们已知对于一个非负可测函数 $h$，其标准的逼近简单函数为：\n$$\ns_{n}(x)=\\sum_{k=1}^{n2^{n}}\\frac{k-1}{2^{n}}\\mathbb{1}_{\\{x\\in[0,1]:\\frac{k-1}{2^{n}}\\leq h(x)  \\frac{k}{2^{n}}\\}}+n\\,\\mathbb{1}_{\\{x\\in[0,1]:h(x)\\geq n\\}}.\n$$\n对于常数函数 $f(x)=0.3$ 和 $g(x)=0.3$，设它们在 $n=1$ 时的逼近分别为 $\\phi_{1}$ 和 $\\psi_{1}$；对于 $h(x)=f(x)+g(x)=0.6$，设其逼近为 $\\chi_{1}$。\n\n计算当 $n=1$ 时，对应于 $f(x)=0.3$ 的 $\\phi_{1}$。因为 $2^{1}=2$ 且 $n2^{n}=2$，所以求和项 $k$ 取遍 $1,2$，对应的值 $(k-1)/2^{1}\\in\\{0,0.5\\}$。因此，\n$$\n\\phi_{1}(x)=0\\cdot\\mathbb{1}_{\\{0\\leq f(x)  0.5\\}}+0.5\\cdot\\mathbb{1}_{\\{0.5\\leq f(x)  1\\}}+1\\cdot\\mathbb{1}_{\\{f(x)\\geq 1\\}}.\n$$\n由于 $f(x)=0.3$，我们有 $0\\leq 0.3  0.5$ 成立，$0.5\\leq 0.3  1$ 不成立，且 $0.3\\geq 1$ 不成立。因此，\n$$\n\\phi_{1}(x)=0\\quad\\text{对所有 }x\\in[0,1].\n$$\n\n对 $g(x)=0.3$ 进行同样的计算，我们得到\n$$\n\\psi_{1}(x)=0\\quad\\text{对所有 }x\\in[0,1].\n$$\n\n现在计算当 $n=1$ 时，对应于 $h(x)=0.6$ 的 $\\chi_{1}$：\n$$\n\\chi_{1}(x)=0\\cdot\\mathbb{1}_{\\{0\\leq h(x)  0.5\\}}+0.5\\cdot\\mathbb{1}_{\\{0.5\\leq h(x)  1\\}}+1\\cdot\\mathbb{1}_{\\{h(x)\\geq 1\\}}.\n$$\n由于 $h(x)=0.6$，我们有 $0.5\\leq 0.6  1$ 成立，而 $0\\leq 0.6  0.5$ 不成立且 $0.6\\geq 1$ 也不成立。所以，\n$$\n\\chi_{1}(x)=0.5\\quad\\text{对所有 }x\\in[0,1].\n$$\n\n因此，对任意 $x\\in[0,1]$，\n$$\n\\chi_{1}(x)-\\bigl(\\phi_{1}(x)+\\psi_{1}(x)\\bigr)=0.5-(0+0)=0.5.\n$$\n这是一个精确的小数值。", "answer": "$$\\boxed{0.5}$$", "id": "1405485"}, {"introduction": "我们知道，简单函数序列 $(\\phi_n)$ 逐点收敛于非负可测函数 $f$。一个有趣的问题是：这个逼近过程何时能够“完成”，即在某一步之后就有 $\\phi_n = f$？通过考察当目标函数 $f$ 本身就是一个简单函数时的情形 ([@problem_id:1283074])，你将发现逼近能够达到完美的精确值所需要满足的条件，这个过程会揭示标准构造与数值的二进小数表示之间的深刻联系。", "problem": "在测度与积分理论中，一个非负可测函数 $f: X \\to [0, \\infty)$ 可以由一列简单函数 $\\{\\phi_n\\}_{n=1}^{\\infty}$ 来逼近。这个标准逼近的构造如下：对每个整数 $n \\ge 1$，我们定义集合\n$$E_{n,k} = \\{x \\in X \\mid \\frac{k-1}{2^n} \\le f(x)  \\frac{k}{2^n}\\}$$ 其中 $k = 1, 2, \\ldots, n2^n$，\n以及集合\n$$F_n = \\{x \\in X \\mid f(x) \\ge n\\}$$\n序列中的第 $n$ 个简单函数则由下式给出\n$$ \\phi_n(x) = \\sum_{k=1}^{n2^n} \\frac{k-1}{2^n} \\chi_{E_{n,k}}(x) + n \\chi_{F_n}(x) $$\n其中 $\\chi_S$ 表示集合 $S$ 的特征函数。这个序列具有性质 $0 \\le \\phi_1(x) \\le \\phi_2(x) \\le \\dots \\le f(x)$ 并且对所有 $x \\in X$ 都有 $\\phi_n(x) \\to f(x)$ 逐点收敛。\n\n现在，考虑一个特定的简单函数 $f: \\mathbb{R} \\to \\mathbb{R}$，定义为\n$$ f(x) = 2.75 \\cdot \\chi_{A}(x) + 5.125 \\cdot \\chi_{B}(x) $$\n其中 $A$ 和 $B$ 是非空、不交的可测集，其并集为 $\\mathbb{R}$。\n\n确定最小的正整数 $n$，使得逼近函数 $\\phi_n$ 与 $f$ 恒等（即对所有 $x \\in \\mathbb{R}$，都有 $\\phi_n(x) = f(x)$）。", "solution": "给定的简单函数 $f(x)$ 在 $\\mathbb{R}$ 上取两个非零值：在集合 $A$ 上为 $c_1 = 2.75$，在集合 $B$ 上为 $c_2 = 5.125$。我们想要找到最小的正整数 $n$，使得标准简单函数 $\\phi_n$ 精确地等于 $f$。这意味着对所有 $x$，$\\phi_n(x)$ 都必须等于 $f(x)$。我们可以通过考虑 $f(x)=c_1$ 和 $f(x)=c_2$ 的点来检验这个条件。\n\n让我们分析在 $f(x) = c$ 的点 $x$ 处 $\\phi_n(x)$ 的值。根据 $\\phi_n$ 的定义，有两种情况。\n\n情况1：$c \\ge n$。\n在这种情况下，点 $x$ 属于集合 $F_n = \\{x' \\mid f(x') \\ge n\\}$。那么根据 $\\phi_n$ 的定义，有 $\\phi_n(x) = n$。要使 $\\phi_n(x)$ 等于 $f(x)$，我们必须有 $n=c$。\n\n情况2：$c  n$。\n在这种情况下，$x$ 不在 $F_n$ 中。点 $x$ 必须属于某个集合 $E_{n,k}$。具体来说，我们找到一个整数 $k$ 使得 $\\frac{k-1}{2^n} \\le c  \\frac{k}{2^n}$。逼近函数的值则为 $\\phi_n(x) = \\frac{k-1}{2^n}$。要使 $\\phi_n(x)$ 等于 $f(x) = c$，我们需要 $\\frac{k-1}{2^n} = c$。关于 $k$ 的不等式等价于 $k-1 \\le c \\cdot 2^n  k$。这意味着 $k-1 = \\lfloor c \\cdot 2^n \\rfloor$。因此，条件 $\\phi_n(x) = c$ 变为 $\\frac{\\lfloor c \\cdot 2^n \\rfloor}{2^n} = c$。这个等式成立当且仅当 $c \\cdot 2^n$ 是一个整数。\n\n我们需要找到最小的整数 $n \\ge 1$，它对 $c_1 = 2.75$ 和 $c_2 = 5.125$ 都满足这些条件。让我们从1开始测试 $n$ 的整数值。\n\n对于 $n=1$：\n- 考虑一个点 $x_1 \\in A$，$f(x_1) = c_1 = 2.75$。由于 $c_1 \\ge 1$，这属于情况1。要使 $\\phi_1(x_1)=f(x_1)$，我们需要 $1 = 2.75$，这是不成立的。所以 $\\phi_1 \\ne f$。\n\n对于 $n=2$：\n- 考虑一个点 $x_1 \\in A$，$f(x_1) = c_1 = 2.75$。由于 $c_1 \\ge 2$，这属于情况1。我们需要 $2 = 2.75$，这是不成立的。所以 $\\phi_2 \\ne f$。\n\n对于 $n=3$：\n- 考虑一个点 $x_1 \\in A$，$f(x_1) = c_1 = 2.75$。由于 $c_1  3$，这属于情况2。我们必须检查 $c_1 \\cdot 2^3$ 是否为整数。$2.75 \\cdot 8 = \\frac{11}{4} \\cdot 8 = 22$。这是一个整数，所以这部分条件成立。\n- 考虑一个点 $x_2 \\in B$，$f(x_2) = c_2 = 5.125$。由于 $c_2 \\ge 3$，这属于情况1。我们需要 $3 = 5.125$，这是不成立的。所以 $\\phi_3 \\ne f$。\n\n对于 $n=4$：\n- 考虑一个点 $x_1 \\in A$，$f(x_1) = c_1 = 2.75$。由于 $c_1  4$，我们检查 $c_1 \\cdot 2^4$ 是否为整数。$2.75 \\cdot 16 = \\frac{11}{4} \\cdot 16 = 44$。这是一个整数。\n- 考虑一个点 $x_2 \\in B$，$f(x_2) = c_2 = 5.125$。由于 $c_2 \\ge 4$，这属于情况1。我们需要 $4 = 5.125$，这是不成立的。所以 $\\phi_4 \\ne f$。\n\n对于 $n=5$：\n- 对于 $f(x) = c_1 = 2.75$：$c_1  5$。我们检查 $c_1 \\cdot 2^5 = 2.75 \\cdot 32 = \\frac{11}{4} \\cdot 32 = 88$。这是一个整数。\n- 对于 $f(x) = c_2 = 5.125$：$c_2 \\ge 5$。这属于情况1。我们需要 $5 = 5.125$，这是不成立的。所以 $\\phi_5 \\ne f$。\n\n对于 $n=6$：\n- 对于 $f(x) = c_1 = 2.75$：$c_1 = 2.75  6$。这属于情况2。我们检查 $c_1 \\cdot 2^6$ 是否为整数。$2.75 \\cdot 64 = \\frac{11}{4} \\cdot 64 = 11 \\cdot 16 = 176$。这是一个整数。所以该条件对所有 $x \\in A$ 成立。\n- 对于 $f(x) = c_2 = 5.125$：$c_2 = 5.125  6$。这也属于情况2。我们检查 $c_2 \\cdot 2^6$ 是否为整数。$5.125 \\cdot 64 = \\frac{41}{8} \\cdot 64 = 41 \\cdot 8 = 328$。这是一个整数。所以该条件对所有 $x \\in B$ 成立。\n\n由于 $n=6$ 时两个条件都满足，我们有对所有 $x \\in \\mathbb{R}$，$\\phi_6(x) = f(x)$。因为我们已经证明了没有更小的整数 $n$ 可行，所以最小的这样的正整数是6。\n\n或者，我们可以更一般地分析这些条件。\n要使 $\\phi_n = f$，对于 $f$ 可以取的每个值 $c$，必须满足以下两个条件之一：\n1. $c \\ge n$ 且 $c=n$。这只在 $c$ 是整数时才可能发生。\n2. $c  n$ 且 $c \\cdot 2^n$ 是一个整数。\n\n我们函数的值是 $c_1 = 2.75$ 和 $c_2 = 5.125$。两者都不是整数。因此，要使 $\\phi_n = f$，对于这两个值都必须是情况2。这要求 $n > c_1$ 和 $n > c_2$。\n所以我们必须有 $n > 5.125$。满足这个条件的最小整数 $n$ 是 $n=6$。\n现在我们必须检查对于 $n=6$，条件的第二部分（$c \\cdot 2^n$ 是一个整数）是否满足。\n对于 $c_1 = 2.75 = \\frac{11}{4}$：$2.75 \\cdot 2^6 = \\frac{11}{2^2} \\cdot 2^6 = 11 \\cdot 2^4 = 176$，是一个整数。\n对于 $c_2 = 5.125 = \\frac{41}{8}$：$5.125 \\cdot 2^6 = \\frac{41}{2^3} \\cdot 2^6 = 41 \\cdot 2^3 = 328$，是一个整数。\n对于 $n=6$，两个条件都满足。任何从1到5的 $n$ 都会不满足条件 $n > 5.125$。因此，最小的整数是 $n=6$。", "answer": "$$\\boxed{6}$$", "id": "1283074"}]}