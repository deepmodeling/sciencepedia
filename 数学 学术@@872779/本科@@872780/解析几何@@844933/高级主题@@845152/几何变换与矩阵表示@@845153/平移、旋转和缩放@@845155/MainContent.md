## 引言
平移、旋转与缩放是我们在物理世界中感知运动和变化的基本方式，也是在数字和抽象空间中构建和操纵对象的基石。从电影特效中飞驰的飞船，到机器人手臂的精准操作，再到生物演化中形态的变迁，这些基本变换无处不在，构成了描述和理解我们周围世界的通用语言。然而，将这些直观的操作转化为严谨的数学模型，并精确分析其组合效应，是[解析几何](@entry_id:164266)与相关应用领域面临的核心挑战。例如，先旋转再平移一个物体，与先平移再旋转，其结果为何不同？我们又该如何高效地处理一系列复杂的变换？本文旨在系统地回答这些问题，为读者构建一个关于基本几何变换的完整知识框架。在接下来的章节中，我们将首先在“原理与机制”部分深入探讨平移、[旋转和缩放](@entry_id:154036)的数学定义、矩阵表示和代数性质。随后，在“应用与跨学科联系”部分，我们将展示这些理论如何在[计算机图形学](@entry_id:148077)、[机器人学](@entry_id:150623)和生物学等前沿领域中发挥关键作用。最后，通过“动手实践”部分，你将有机会通过解决具体问题来巩固所学知识，将理论真正内化为技能。

## 原理与机制

在本章中，我们将深入探讨构成[解析几何](@entry_id:164266)与计算机图形学基础的三种基本[几何变换](@entry_id:150649)：平移（Translation）、旋转（Rotation）和缩放（Scaling）。我们将从它们的数学定义出发，分析其内在属性，并研究当这些变换组合在一起时所产生的复杂而有趣的机制。我们的目标是建立一个严谨的框架，不仅用于描述这些变换，也用于预测和分析它们对几何对象的影响。

### [几何变换](@entry_id:150649)：一种形式化视角

从根本上说，一个二维平面上的[几何变换](@entry_id:150649)是一个函数 $T$，它将平面上的每一个点 $P$ 映射到另一个点 $P'$。我们可以将其表示为 $P' = T(P)$。在笛卡尔坐标系中，点 $P$ 由一个[坐标向量](@entry_id:153319) $(x, y)$ 表示，变换通常可以表达为关于坐标的分量函数：

$$(x', y') = (f(x, y), g(x, y))$$

其中 $x'$ 和 $y'$ 是变换后点 $P'$ 的坐标。对于线性变换，例如以原点为中心的[旋转和缩放](@entry_id:154036)，这种关系可以通过[矩阵乘法](@entry_id:156035)优雅地表示：

$$\begin{pmatrix} x' \\ y' \end{pmatrix} = M \begin{pmatrix} x \\ y \end{pmatrix}$$

其中 $M$ 是一个 $2 \times 2$ 的变换矩阵。然而，平移变换不是线性的，因为它不保持原点不变。它通过[向量加法](@entry_id:155045)来表示。理解这些不同的表示法是掌握变换复合的关键。

### 基本变换详解

现在我们详细剖析每一种基本变换的定义、数学表示和核心性质。

#### 平移变换

**平移（Translation）** 是最直观的变换，它将空间中的每个点沿一个恒定的方向移动一个恒定的距离。这个方向和距离由一个**平移向量** $\vec{v} = (v_x, v_y)$ 定义。

若点 $P=(x, y)$ 经过平移变换 $T_{\vec{v}}$ 得到点 $P'=(x', y')$，其数学表达式为向量加法：

$$P' = P + \vec{v}$$

或者用分量表示：

$$x' = x + v_x$$
$$y' = y + v_y$$

平移变换的一个核心性质是它是一种**[刚体运动](@entry_id:193355)（rigid motion）**。这意味着它在移动对象的过程中，不改变其形状和大小。更精确地说，平移保持了任意两点之间的[欧几里得距离](@entry_id:143990)。这类保持距离的变换被称为**[等距变换](@entry_id:150881)（isometry）**。

我们可以很容易地证明这一点。考虑两点 $P_1=(x_1, y_1)$ 和 $P_2=(x_2, y_2)$。它们之间的原始距离平方为 $d^2 = (x_2 - x_1)^2 + (y_2 - y_1)^2$。变换后，两点变为 $P'_1=(x_1+v_x, y_1+v_y)$ 和 $P'_2=(x_2+v_x, y_2+v_y)$。新距离的平方为：

$$d'^2 = ((x_2+v_x) - (x_1+v_x))^2 + ((y_2+v_y) - (y_1+v_y))^2 = (x_2-x_1)^2 + (y_2-y_1)^2 = d^2$$

由于距离不变，平移是一种等距变换 [@problem_id:2172567]。这一性质也意味着角度、面积和所有几何形状的内在属性都在平移过程中得以保持。

#### [旋转变换](@entry_id:200017)

**旋转（Rotation）** 将所有点围绕一个固定的**旋转中心** $C$ 转动一个指定的**角度** $\theta$。按照惯例，正角度表示逆时针旋转。

**1. 绕原点旋转**

最简单的情况是绕坐标原点 $(0, 0)$ 旋转。通过基础三角学推导，我们可以得到点 $P=(x, y)$ 旋转 $\theta$ 角后得到点 $P'=(x', y')$ 的坐标：

$$x' = x\cos\theta - y\sin\theta$$
$$y' = x\sin\theta + y\cos\theta$$

这个线性关系可以用矩阵形式完美捕捉。令 $P$ 和 $P'$ 为列向量，则 $P' = R(\theta)P$，其中 $R(\theta)$ 是旋转矩阵：

$$R(\theta) = \begin{pmatrix} \cos\theta  -\sin\theta \\ \sin\theta  \cos\theta \end{pmatrix}$$

与平移一样，旋转也是一种[等距变换](@entry_id:150881)。这可以通过证明[旋转矩阵](@entry_id:140302)是**正交矩阵**来得出。一个矩阵 $M$ 是正交的，如果它的转置等于它的逆，即 $M^T M = I$（[单位矩阵](@entry_id:156724)）。对于[旋转矩阵](@entry_id:140302)：

$$R(\theta)^T R(\theta) = \begin{pmatrix} \cos\theta  \sin\theta \\ -\sin\theta  \cos\theta \end{pmatrix} \begin{pmatrix} \cos\theta  -\sin\theta \\ \sin\theta  \cos\theta \end{pmatrix} = \begin{pmatrix} \cos^2\theta+\sin^2\theta  0 \\ 0  \sin^2\theta+\cos^2\theta \end{pmatrix} = \begin{pmatrix} 1  0 \\ 0  1 \end{pmatrix} = I$$

由于[旋转矩阵](@entry_id:140302)是正交的，它保持[向量的范数](@entry_id:154882)（长度），因此也保持任意两点之间的距离 [@problem_id:2172567]。考虑两点 $P_1, P_2$，变换后的距离为 $\|R(\theta)P_2 - R(\theta)P_1\| = \|R(\theta)(P_2-P_1)\| = \|P_2-P_1\|$。

**2. 绕任意点旋转**

当旋转中心是任意点 $C=(c_x, c_y)$ 而非原点时，变换过程变得更加复合。这个过程可以分解为三个基本步骤：
1.  **平移**：将整个[坐标系](@entry_id:156346)平移，使旋转中心 $C$ 移动到原点。一个点 $P$ 变为 $P-C$。
2.  **旋转**：绕原点旋转角度 $\theta$。点变为 $R(\theta)(P-C)$。
3.  **逆平移**：将[坐标系](@entry_id:156346)平移回去，即将原点移回 $C$。点最终变为 $C + R(\theta)(P-C)$。

因此，绕点 $C$ 旋转的完整表达式为：

$$P' = C + R(\theta)(P-C)$$

这个三步法是处理非原[点变换](@entry_id:171852)的一个普遍而强大的策略，在许多复杂变换场景中都会出现，例如在[CAD](@entry_id:157566)系统中对一个组件进行局部旋转 [@problem_id:2172574]。

#### 缩放变换

**缩放（Scaling）** 或称为**[位似变换](@entry_id:166624)（Dilation）**，将对象相对于一个**缩放中心** $C$ 进行放大或缩小。

**1. 绕原点的[均匀缩放](@entry_id:267671)**

在最简单的情况下，缩放中心是原点，并且在所有方向上的**缩放因子** $s$都相同，这称为**[均匀缩放](@entry_id:267671)**。点 $P=(x, y)$ 变换为 $P'=(sx, sy)$。其矩阵形式为：

$$P' = S_s P = \begin{pmatrix} s  0 \\ 0  s \end{pmatrix} \begin{pmatrix} x \\ y \end{pmatrix} = sI P = sP$$

除非缩放因子 $s=1$（[恒等变换](@entry_id:264671)）或 $s=-1$（点反射），[均匀缩放](@entry_id:267671)**不是**[等距变换](@entry_id:150881) [@problem_id:2172567]。它将任意两点间的距离乘以 $|s|$。例如，如果一个物体经过旋转、平移和[均匀缩放](@entry_id:267671) $s$ 的复合变换，其上任意两点间的新距离将是原始距离的 $|s|$ 倍，因为[旋转和平移](@entry_id:175994)是等距变换，不影响距离 [@problem_id:2172571]。

$$d' = \| sR(P_2 - P_1) + \vec{v} - (sR(P_1 - P_1) + \vec{v}) \| = \| sR(P_2-P_1) \| = |s| \cdot \|R(P_2-P_1)\| = |s| \cdot \|P_2-P_1\| = |s|d$$

尽管缩放改变了距离，但[均匀缩放](@entry_id:267671)保持了角度和形状的比例。因此，它是一种**相似变换（similarity transformation）**。这意味着直线变换后仍然是直线，圆变换后仍然是圆。这一性质很有用，例如，在确定一个被[旋转和缩放](@entry_id:154036)的直线的方向时，我们可以忽略缩放的影响，因为直线的[方向角](@entry_id:167868)只受旋转的影响 [@problem_id:2172534]。

**2. 绕任意点的缩放**

与旋转类似，绕任意点 $C$ 的缩放也可以通过“平移-缩放-逆平移”的三步法实现：

$$P' = C + s(P-C)$$

这种变换的一个重要几何推论是，一条线段 $PQ$ 经过以 $C$ 为中心的缩放后，得到的新线段 $P'Q'$ 与原线段 $PQ$ 平行，且其长度是原长度的 $|s|$ 倍。连接对应点的直线 $PP'$ 和 $QQ'$ 都会经过缩放中心 $C$。如果 $P, Q, C$ 不共线，那么四边形 $PQQ'P'$ 将会是一个梯形，其平行边为 $PQ$ 和 $P'Q'$ [@problem_id:2172544]。

**3. 非[均匀缩放](@entry_id:267671)**

当沿不同坐标轴的缩放因子不同时，我们得到**非[均匀缩放](@entry_id:267671)**。例如，$P'=(k_1x, k_2y)$。这种变换会改变物体的几何形状，例如将一个圆变成一个椭圆。它不再保持角度，因此不是[相似变换](@entry_id:152935)。

### [变换的复合](@entry_id:149828)与非交换性

在实际应用中，几何对象往往经历一系列连续的变换。变换的顺序至关重要，因为矩阵乘法和仿射变换通常是**[非交换](@entry_id:136599)的（non-commutative）**，即改变运算顺序会导致完全不同的结果。

**1. 平移与旋转的复合**

考虑对一个点 $P$ 先进行平移 $T_{\vec{v}}$，再进行绕原点的旋转 $R_{\theta}$，与先旋转再平移的比较：

- **先平移，后旋转**：$P_1 = R_{\theta}(P + \vec{v}) = R_{\theta}P + R_{\theta}\vec{v}$
- **先旋转，后平移**：$P_2 = R_{\theta}P + \vec{v}$

显然，只要 $R_{\theta}\vec{v} \neq \vec{v}$（即旋转角度不是 $2\pi$ 的整数倍且 $\vec{v} \neq \vec{0}$），那么 $P_1 \neq P_2$。这说明平移和旋转的顺序是不能随意交换的。两个结果之间的位移向量为：

$$\vec{d} = P_2 - P_1 = \vec{v} - R_{\theta}\vec{v} = (I - R_{\theta})\vec{v}$$

这个位移向量 $\vec{d}$ 仅取决于平移向量 $\vec{v}$ 和[旋转矩阵](@entry_id:140302) $R_{\theta}$，而与被变换的点 $P$ 无关。这意味着整个平面上的每一点在两种变换顺序下产生的偏差都是相同的 [@problem_id:2172540]。这个位移的大小可以计算为：

$$\|\vec{d}\| = \|(I - R_{\theta})\vec{v}\| = \sqrt{2(1 - \cos\theta)} \|\vec{v}\| = 2\left|\sin\left(\frac{\theta}{2}\right)\right| \|\vec{v}\|$$

这个结果定量地描述了交换[旋转和平移](@entry_id:175994)操作所带来的差异，例如在CAD软件中由于操作顺序错误导致的组件错位 [@problem_id:2172550]。

**2. 变换顺序的等价性**

有时我们希望通过[调整参数](@entry_id:756220)来使两个不同的变换序列产生相同的结果。例如，考虑两个变换序列：
- $T_A$：先平移 $\vec{v}$，再旋转 $\theta$，再缩放 $s$。
- $T_B$：先缩放 $s$，再旋转 $\theta$，再平移 $\vec{w}$。

写出两个序列对点 $P$ 的作用：

$$T_A(P) = s(R_{\theta}(P+\vec{v})) = sR_{\theta}P + sR_{\theta}\vec{v}$$
$$T_B(P) = sR_{\theta}P + \vec{w}$$

为了让 $T_A(P) = T_B(P)$ 对所有点 $P$ 都成立，我们必须有：

$$\vec{w} = sR_{\theta}\vec{v}$$

这个优雅的关系表明，要使两个序列等价，第二个序列的平移向量 $\vec{w}$ 必须是第一个序列的平移向量 $\vec{v}$ 经过[旋转和缩放](@entry_id:154036)后的结果。这揭示了变换代数中深刻的结[构性关系](@entry_id:195492) [@problem_id:2172545]。

**3. 混合中心的变换**

当变换的中心不同时，非交换性变得更加复杂。例如，考虑绕原点 $O$ 的旋转 $R_{\theta}$ 和绕任意点 $C$ 的缩放 $S_{k,C}$。

- **先缩放，后旋转**：$P_1 = R_{\theta}(S_{k,C}(P)) = R_{\theta}(C + k(P-C)) = kR_{\theta}P + (1-k)R_{\theta}C$
- **先旋转，后缩放**：$P_2 = S_{k,C}(R_{\theta}(P)) = C + k(R_{\theta}P - C) = kR_{\theta}P + (1-k)C$

两者之差为：

$$P_1 - P_2 = (1-k)(R_{\theta}C - C) = (1-k)(R_{\theta}-I)C$$

这个差值同样与点 $P$ 无关，表明整个平面以一种统一的方式发生了偏移。其偏移距离的平方为 $\|P_1 - P_2\|^2 = (1-k)^2 \|(R_{\theta}-I)C\|^2 = (1-k)^2 (2-2\cos\theta)\|C\|^2 = 4(1-k)^2 \sin^2(\frac{\theta}{2}) \|C\|^2$ [@problem_id:2172547]。这个结果表明，当且仅当 $k=1$ (无缩放)，$\theta$ 是 $2\pi$ 的整数倍 (无旋转)，或者 $C$ 是原点 (两个变换中心重合) 时，这两个操作才可交换。

### [几何变换](@entry_id:150649)中的[不变量](@entry_id:148850)

在研究变换时，寻找**[不变量](@entry_id:148850)（invariants）**是理解其本质的强大工具。[不变量](@entry_id:148850)是在变换作用下保持不变的属性、点、[线或](@entry_id:170208)量。

**1. 等距变换与[相似变换](@entry_id:152935)**

我们已经看到，距离是平移和旋转下的[不变量](@entry_id:148850)，这类变换合称为**[等距变换](@entry_id:150881)**。而对于[均匀缩放](@entry_id:267671)，距离本身不是[不变量](@entry_id:148850)，但**角度**和**距离的比率**是不变的。包含[均匀缩放](@entry_id:267671)、旋转和平移的复合变换统称为**[相似变换](@entry_id:152935)**。

**2. 不变点和不变线**

- **不变点**：$T(P)=P$。对于绕点 $C$ 的旋转或缩放（非单位因子），$C$ 是唯一的不变点。非零平移没有不变点。
- **不变线**：$T(L)=L$。对于非零平移，所有平行于平移向量的直线都是不变线。对于绕点 $C$ 的[均匀缩放](@entry_id:267671)，所有穿过 $C$ 的直线都是不变线。

对于以原点为中心的[线性变换](@entry_id:149133) $T(P)=MP$，不变线的概念与线性代数中的**[特征向量](@entry_id:151813)（eigenvectors）**和**[特征值](@entry_id:154894)（eigenvalues）**紧密相连。如果向量 $\vec{v}$ 是矩阵 $M$ 的一个[特征向量](@entry_id:151813)，那么 $M\vec{v} = \lambda\vec{v}$，其中 $\lambda$ 是对应的[特征值](@entry_id:154894)。这意味着向量 $\vec{v}$ 经过变换后方向不变（或反向），只是被拉伸或压缩了因子 $\lambda$。因此，由[特征向量](@entry_id:151813) $\vec{v}$ 定义的穿过原点的直线是一条不变线。

考虑一个更复杂的[线性变换](@entry_id:149133)，例如先旋转 $\theta$ 再进行非[均匀缩放](@entry_id:267671) $S=\mathrm{diag}(k_1, k_2)$ 的复合变换 $T=SR$ [@problem_id:2172580]。其矩阵为：

$$T = \begin{pmatrix} k_1  0 \\ 0  k_2 \end{pmatrix} \begin{pmatrix} \cos\theta  -\sin\theta \\ \sin\theta  \cos\theta \end{pmatrix} = \begin{pmatrix} k_1\cos\theta  -k_1\sin\theta \\ k_2\sin\theta  k_2\cos\theta \end{pmatrix}$$

寻找这个变换的不变线，等价于寻找其矩阵 $T$ 的[特征向量](@entry_id:151813)。一个方向由斜率 $m$ 定义的向量 $(1, m)$ 是[特征向量](@entry_id:151813)的条件可以导出为一个关于 $m$ 的二次方程：

$$k_1\sin\theta \cdot m^2 + (k_2 - k_1)\cos\theta \cdot m + k_2\sin\theta = 0$$

如果该方程有两个实数解 $m_1$ 和 $m_2$（这取决于参数 $k_1, k_2, \theta$），则变换 $T$ 就有两条穿过原点的不变线。我们可以利用[韦达定理](@entry_id:150627)来分析这两条线之间的关系，而无需直接求解 $m_1$ 和 $m_2$。[韦达定理](@entry_id:150627)给出：

$$m_1 + m_2 = -\frac{(k_2-k_1)\cos\theta}{k_1\sin\theta} = \frac{(k_1-k_2)\cos\theta}{k_1\sin\theta}$$
$$m_1 m_2 = \frac{k_2\sin\theta}{k_1\sin\theta} = \frac{k_2}{k_1}$$

这个例子完美地展示了如何将一个复杂的几何问题（寻找复合变换的不变线）转化为一个线性代数问题（寻找[特征向量](@entry_id:151813)），并通过巧妙的代数技巧得到关于解的性质。它揭示了隐藏在几何变换背后的深刻[代数结构](@entry_id:137052)。