{"hands_on_practices": [{"introduction": "我们的探索始于可测函数复合的一个最基本原则。一个关键定理指出，一个可测函数与一个连续函数复合后得到的函数仍然是可测的。这个练习 [@problem_id:1410545] 将通过要求你验证几个常见的变换（例如对函数取平方或取绝对值）来巩固这一核心概念，这些变换本质上都是与连续函数的复合。", "problem": "设 $(X, \\mathcal{M})$ 是一个可测空间，其中 $X$ 是一个非空集，$\\mathcal{M}$ 是 $X$ 的子集构成的 $\\sigma$-代数。一个实值函数 $f: X \\to \\mathbb{R}$ 称为是 $(\\mathcal{M}, \\mathcal{B}(\\mathbb{R}))$-可测的（或简称为可测的），其中 $\\mathcal{B}(\\mathbb{R})$ 是 $\\mathbb{R}$ 上的 Borel $\\sigma$-代数，如果对每个 Borel 集 $B \\in \\mathcal{B}(\\mathbb{R})$，其原像 $f^{-1}(B) = \\{x \\in X \\mid f(x) \\in B\\}$ 是 $\\mathcal{M}$ 中的一个元素。\n\n考虑一个可测函数 $f: X \\to \\mathbb{R}$。我们基于 $f$ 生成了几个新函数。下列哪个陈述*总是*为真，即能保证对于*任何*可测函数 $f$，所得到的函数也是可测的？\n\nA. 对任意实常数 $k$，函数 $g(x) = f(x) + k$ 是可测的。\n\nB. 函数 $h(x) = (f(x))^2$ 是可测的。\n\nC. 函数 $p(x) = |f(x)|$ 是可测的。\n\nD. 函数 $q(x) = \\exp(f(x))$ 是可测的。", "solution": "设 $(X,\\mathcal{M})$ 是一个可测空间，且 $f:X\\to\\mathbb{R}$ 是 $(\\mathcal{M},\\mathcal{B}(\\mathbb{R}))$-可测的。我们使用以下一般性原则。\n\n如果 $\\phi:\\mathbb{R}\\to\\mathbb{R}$ 是 $\\mathcal{B}(\\mathbb{R})$-可测的（特别地，如果 $\\phi$ 是连续的），那么 $\\phi\\circ f$ 是 $(\\mathcal{M},\\mathcal{B}(\\mathbb{R}))$-可测的。为了证明这一点，设 $B\\in\\mathcal{B}(\\mathbb{R})$。那么\n$$\n(\\phi\\circ f)^{-1}(B)=\\{x\\in X:\\phi(f(x))\\in B\\}=f^{-1}\\big(\\phi^{-1}(B)\\big).\n$$\n因为 $\\phi$ 是 $\\mathcal{B}(\\mathbb{R})$-可测的，所以 $\\phi^{-1}(B)\\in\\mathcal{B}(\\mathbb{R})$，又因为 $f$ 是可测的，所以 $f^{-1}\\big(\\phi^{-1}(B)\\big)\\in\\mathcal{M}$。因此 $\\phi\\circ f$ 是可测的。\n\n我们现在将此原则应用于每个选项，方法是找出相应的 $\\phi$ 并注意到它是连续的，因此是 Borel 可测的：\n\nA. 这里 $\\phi_{k}(x)=x+k$ 在 $\\mathbb{R}$ 上是连续的。因此对任意实常数 $k$， $g=\\phi_{k}\\circ f$ 都是可测的。\n\nB. 这里 $\\phi(x)=x^{2}$ 在 $\\mathbb{R}$ 上是连续的。因此 $h=\\phi\\circ f$ 是可测的。\n\nC. 这里 $\\phi(x)=|x|$ 在 $\\mathbb{R}$ 上是连续的。因此 $p=\\phi\\circ f$ 是可测的。\n\nD. 这里 $\\phi(x)=\\exp(x)$ 在 $\\mathbb{R}$ 上是连续的。因此 $q=\\phi\\circ f$ 是可测的。\n\n因为 A–D 中的每个 $\\phi$ 都是连续的，所以对于任何可测函数 $f$，所有四个得到的函数都是可测的。", "answer": "$$\\boxed{ABCD}$$", "id": "1410545"}, {"introduction": "在掌握了基础知识之后，下一个练习将引入一些关键的微妙之处。在考虑可测性之前，我们必须首先确保复合函数在其整个定义域上是良定义的。这个问题 [@problem_id:1410549] 将挑战你分析几种复合情况，迫使你检查诸如除以零或对非正数取对数等问题，同时也将外函数从连续函数推广到更一般的波莱尔可测函数。", "problem": "设 $(X, \\mathcal{M})$ 是一个可测空间，$\\mathbb{R}$ 是赋予其标准波莱尔 $\\sigma$-代数（记作 $\\mathcal{B}(\\mathbb{R})$）的实数集。一个函数 $f: X \\to \\mathbb{R}$ 被定义为可测的，如果对于每个波莱尔集 $B \\in \\mathcal{B}(\\mathbb{R})$，其原像 $f^{-1}(B) = \\{x \\in X \\mid f(x) \\in B\\}$ 是 $\\sigma$-代数 $\\mathcal{M}$ 中的一个元素。\n\n假设给定一个可测函数 $f: X \\to \\mathbb{R}$，其值域为整个实数轴，即 $f(X) = \\mathbb{R}$。我们希望通过将 $f$ 与另一个函数 $g: D \\to \\mathbb{R}$ (其中 $D \\subseteq \\mathbb{R}$ 是 $g$ 的定义域)复合来构成新函数 $h: X \\to \\mathbb{R}$。该复合函数定义为 $h(x) = g(f(x))$。\n\n无论可测空间 $(X, \\mathcal{M})$ 或可测函数 $f$ 的具体选择如何（只要其值域为 $\\mathbb{R}$），下列哪个函数 $h(x)$ *保证*对所有 $x \\in X$ 都是良定的且可测的？选择所有有效选项。\n\nA. $h(x) = \\frac{1}{1+f(x)^2}$\n\nB. $h(x) = \\ln(f(x))$\n\nC. $h(x) = \\sqrt{f(x)^2}$\n\nD. $h(x) = \\frac{1}{f(x)}$\n\nE. $h(x) = \\chi_{\\mathbb{Z}}(f(x))$，其中 $\\chi_{\\mathbb{Z}}$ 是整数集 $\\mathbb{Z}$ 的指示函数，定义为若 $y \\in \\mathbb{Z}$ 则 $\\chi_{\\mathbb{Z}}(y) = 1$，若 $y \\notin \\mathbb{Z}$ 则 $\\chi_{\\mathbb{Z}}(y) = 0$。", "solution": "要解决这个问题，我们需要根据以下两个标准对每个选项进行分析，这两个标准适用于任何值域为 $f(X)=\\mathbb{R}$ 的可测函数 $f: X \\to \\mathbb{R}$：\n1.  **良定性**：复合函数 $h(x) = g(f(x))$ 必须对每个 $x \\in X$ 都有良好定义。这要求 $f$ 的值域 $\\mathbb{R}$ 必须是 $g$ 的定义域的子集。因此，$g$ 的定义域必须是 $\\mathbb{R}$。\n2.  **可测性**：如果函数是良定的，则复合函数 $h = g \\circ f$ 必须是可测的。测度论中的一个基本定理指出，如果 $f: (X, \\mathcal{M}) \\to (\\mathbb{R}, \\mathcal{B}(\\mathbb{R}))$ 是一个可测函数，且 $g: (\\mathbb{R}, \\mathcal{B}(\\mathbb{R})) \\to (\\mathbb{R}, \\mathcal{B}(\\mathbb{R}))$ 是一个波莱尔可测函数，那么它们的复合 $h = g \\circ f$ 也是可测的。一个连续函数 $g: \\mathbb{R} \\to \\mathbb{R}$ 总是波莱尔可测的。\n\n让我们逐一考察每个选项：\n\n**A. $h(x) = \\frac{1}{1+f(x)^2}$**\n对应的函数是 $g(y) = \\frac{1}{1+y^2}$。\n1.  **良定性**：对于任何 $y \\in \\mathbb{R}$，分母 $1+y^2$ 永不为零。因此，$g$ 的定义域是 $\\mathbb{R}$。由于 $f$ 的值域是 $\\mathbb{R}$，复合函数 $h(x) = g(f(x))$ 对所有 $x \\in X$ 都是良定的。\n2.  **可测性**：函数 $g(y)$ 是一个在其定义域 $\\mathbb{R}$ 上处处连续的有理函数。$\\mathbb{R}$ 上的连续函数总是波莱尔可测函数。因为 $f$ 是可测的，$g$ 是波莱尔可测的，所以它们的复合 $h = g \\circ f$ 保证是可测的。\n因此，选项 A 是一个有效选择。\n\n**B. $h(x) = \\ln(f(x))$**\n对应的函数是 $g(y) = \\ln(y)$。\n1.  **良定性**：自然对数函数 $g(y) = \\ln(y)$ 的定义域是 $(0, \\infty)$。题目说明 $f$ 的值域是 $\\mathbb{R}$。这意味着存在点 $x \\in X$ 使得 $f(x) \\le 0$。对于这些点，$h(x) = \\ln(f(x))$ 没有被定义为实数。因此，$h(x)$ 不是在整个 $X$ 上都是良定的。\n因此，选项 B 不是一个有效选择。\n\n**C. $h(x) = \\sqrt{f(x)^2}$**\n对应的函数是 $g(y) = \\sqrt{y^2}$。\n1.  **良定性**：我们可以将 $g(y) = \\sqrt{y^2}$ 化简为 $g(y) = \\sqrt{y^2} = |y|$，即绝对值函数。绝对值函数的定义域是 $\\mathbb{R}$。由于 $f$ 的值域是 $\\mathbb{R}$，复合函数 $h(x) = |f(x)|$ 对所有 $x \\in X$ 都是良定的。\n2.  **可测性**：函数 $g(y) = |y|$ 在 $\\mathbb{R}$ 上处处连续。连续函数总是波莱尔可测的。因为 $f$ 是可测的，$g$ 是波莱尔可测的，所以它们的复合 $h = g \\circ f$ 保证是可测的。\n因此，选项 C 是一个有效选择。\n\n**D. $h(x) = \\frac{1}{f(x)}$**\n对应的函数是 $g(y) = \\frac{1}{y}$。\n1.  **良定性**：$g(y)$ 的定义域是 $\\mathbb{R} \\setminus \\{0\\}$。题目说明 $f$ 的值域是 $\\mathbb{R}$，这意味着必定存在某个 $x_0 \\in X$ 使得 $f(x_0) = 0$。在这一点上，$h(x_0) = g(f(x_0)) = 1/0$ 是未定义的。因此，$h(x)$ 不是在整个 $X$ 上都是良定的。\n因此，选项 D 不是一个有效选择。\n\n**E. $h(x) = \\chi_{\\mathbb{Z}}(f(x))$**\n对应的函数是 $g(y) = \\chi_{\\mathbb{Z}}(y)$。\n1.  **良定性**：指示函数 $\\chi_{\\mathbb{Z}}(y)$ 对所有 $y \\in \\mathbb{R}$ 都有定义。其定义域是 $\\mathbb{R}$。由于 $f$ 的值域是 $\\mathbb{R}$，复合函数 $h(x) = g(f(x))$ 对所有 $x \\in X$ 都是良定的。\n2.  **可测性**：我们需要检查 $g(y) = \\chi_{\\mathbb{Z}}(y)$ 是否为波莱尔可测函数。为此，我们必须证明对于任何波莱尔集 $B \\in \\mathcal{B}(\\mathbb{R})$，其原像 $g^{-1}(B)$ 也是一个波莱尔集。$g$ 的值域是集合 $\\{0, 1\\}$。\n让我们考虑值域子集的原像：\n- $g^{-1}(\\{1\\}) = \\{y \\in \\mathbb{R} \\mid g(y) = 1\\} = \\mathbb{Z}$ (整数集)。\n- $g^{-1}(\\{0\\}) = \\{y \\in \\mathbb{R} \\mid g(y) = 0\\} = \\mathbb{R} \\setminus \\mathbb{Z}$ (非整数集)。\n整数集 $\\mathbb{Z}$ 可以写成单点集的可数并集：$\\mathbb{Z} = \\bigcup_{n \\in \\mathbb{Z}} \\{n\\}$。每个集合 $\\{n\\}$ 在 $\\mathbb{R}$ 中都是一个闭集，因此是一个波莱尔集。波莱尔集的可数并集也是波莱尔集，所以 $\\mathbb{Z}$ 是一个波莱尔集。因此，其补集 $\\mathbb{R} \\setminus \\mathbb{Z}$ 也是一个波莱尔集。\n对于任何波莱尔集 $B \\subseteq \\mathbb{R}$，其原像 $g^{-1}(B)$ 将是以下四个集合之一：$\\emptyset$、$\\mathbb{Z}$、$\\mathbb{R}\\setminus\\mathbb{Z}$ 或 $\\mathbb{R}$，这取决于 $B$ 是否包含 0、1、两者都包含或两者都不包含。这四种可能的原像都是波莱尔集。因此，$g(y) = \\chi_{\\mathbb{Z}}(y)$ 是一个波莱尔可测函数。\n因为 $f$ 是可测的，$g$ 是波莱尔可测的，所以它们的复合 $h = g \\circ f$ 保证是可测的。\n因此，选项 E 是一个有效选择。\n\n总之，保证是良定且可测的函数由选项 A、C 和 E 给出。", "answer": "$$\\boxed{ACE}$$", "id": "1410549"}, {"introduction": "在建立了复合保持可测性的规则之后，理解这些规则的局限性也同样重要。这个高级练习 [@problem_id:1410574] 是一个关键的警示案例。它探讨了将一个勒贝格可测函数与一个仅为黎曼可积的函数进行复合是否足以保证结果的可测性，并揭示了答案是否定的，从而加深了我们对所需精确条件的理解。", "problem": "考虑一个勒贝格可测函数 $f: [0,1] \\to [0,1]$ 和一个黎曼可积函数 $g: [0,1] \\to \\mathbb{R}$。令 $h$ 为它们的复合函数，定义为 $h(x) = g(f(x))$。\n\n以下哪个陈述最准确地描述了函数 $h$ 的性质？\n\n在你的推理过程中，你可以不加证明地使用以下实分析中的既定事实：\n1.  存在一个连续、严格递增的双射函数 $\\psi: [0,1] \\to [0,1]$，并且存在一个勒贝格测度为零的闭集 $K \\subset [0,1]$，使得其像 $\\psi(K)$ 的勒贝格测度为正。\n2.  任何具有正勒贝格测度的集合都包含一个非勒贝格可测的子集。\n\nA. 函数 $h$ 总是勒贝格可测的。\n\nB. 如果函数 $h$ 是有界的，那么它也必须是黎曼可积的。\n\nC. 函数 $h$ 不一定是勒贝格可测的；存在有效的函数 $f$ 和 $g$，使得 $h$ 是不可测的。\n\nD. 函数 $h$ 是勒贝格可测的，当且仅当函数 $f$ 是连续的。", "solution": "我们给定一个勒贝格可测函数 $f:[0,1]\\to[0,1]$，一个黎曼可积函数 $g:[0,1]\\to\\mathbb{R}$，以及 $h=g\\circ f$。回顾以下标准事实：\n- $[0,1]$ 上的函数 $g$ 是黎曼可积的，当且仅当它是有界的，且其不连续点集的勒贝格测度为零。特别地，每个黎曼可积函数都是勒贝格可测的。\n- 如果 $A\\subset[0,1]$ 的边界 $\\partial A$ 的勒贝格测度为零，那么指示函数 $g=\\mathbf{1}_{A}$ 是黎曼可积的，其不连续点集为 $D(g)=\\partial A$。\n- 勒贝格测度是完备的，因此任何测度为零的集合的子集都是勒贝格可测的。\n\n我们使用所提供的构造工具来分析 $h$ 是否必须是可测的或黎曼可积的。\n\n使用事实1，存在一个连续严格递增的双射函数 $\\psi:[0,1]\\to[0,1]$ 和一个勒贝格测度为 $0$ 的闭集 $K\\subset[0,1]$，使得 $\\psi(K)$ 的勒贝格测度为正。使用事实2，选择一个非勒贝格可测集 $N\\subset\\psi(K)$。\n\n定义集合\n$$\nA:=\\psi^{-1}(N)\\subset K.\n$$\n由于 $K$ 的勒贝格测度为零，且勒贝格测度是完备的，所以 $A$ 是勒贝格可测的，且测度为零。其边界满足\n$$\n\\partial A \\subset \\overline{A} \\subset K,\n$$\n所以 $\\partial A$ 的勒贝格测度为零。定义\n$$\ng:=\\mathbf{1}_{A}.\n$$\n那么 $g$ 是有界的且是黎曼可积的，因为 $D(g)=\\partial A$ 的测度为零。现在定义\n$$\nf:=\\psi^{-1}.\n$$\n由于 $\\psi$ 是 $[0,1]$ 上的连续严格递增双射，其逆函数 $\\psi^{-1}$ 也是连续的，因此 $f$ 是勒贝格可测的。对于每个 $x\\in[0,1]$，\n$$\nh(x)=g(f(x))=\\mathbf{1}_{A}(\\psi^{-1}(x))=\n\\begin{cases}\n1, & \\psi^{-1}(x)\\in A,\\\\\n0, & \\psi^{-1}(x)\\notin A.\n\\end{cases}\n$$\n但 $A=\\psi^{-1}(N)$，所以 $\\psi^{-1}(x)\\in A$ 当且仅当 $x\\in N$。因此，\n$$\nh=\\mathbf{1}_{N}.\n$$\n由于 $N$ 是非勒贝格可测的，$\\mathbf{1}_{N}$ 也不是勒贝格可测的。这就构造了有效的 $f$ 和 $g$，使得 $h$ 不是勒贝格可测的。\n\n从这个构造中我们得出结论：\n- 陈述A是错误的：$h$ 不必是勒贝格可测的。\n- 陈述B是错误的：尽管 $h$ 总是有界的（因为 $g$ 是有界的且 $f([0,1])\\subset[0,1]$），但在例子中 $h=\\mathbf{1}_{N}$ 不是黎曼可积的（实际上，甚至不是可测的），所以 $h$ 的有界性并不意味着黎曼可积性。\n- 陈述C是正确的：我们展示了存在 $f$ 和 $g$ 使得 $h$ 是不可测的。\n- 陈述D是错误的：在例子中 $f=\\psi^{-1}$ 是连续的，但 $h$ 却不是勒贝格可测的；因此 $h$ 的可测性并不能表征 $f$ 的连续性。\n\n因此，最准确的陈述是C。", "answer": "$$\\boxed{C}$$", "id": "1410574"}]}