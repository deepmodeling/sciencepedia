{"hands_on_practices": [{"introduction": "在深入研究连续函数的卷积积分之前，通过一个离散的例子来建立直观理解是非常有帮助的，这在数字信号处理等领域很常见。这个练习将卷积揭示为一种加权移动平均。我们将一个简单的“信号”与一个“平滑核”进行卷积，并逐步观察它是如何工作的 [@problem_id:1444689]。", "problem": "在数字信号处理中，离散卷积是一种用于信号滤波和平滑的基本运算。考虑两个整数序列 $(a_n)_{n \\in \\mathbb{Z}}$ 和 $(b_n)_{n \\in \\mathbb{Z}}$，它们分别代表一个简单的平滑核和一个基本信号。\n\n令 $\\chi_S(n)$ 表示整数集合 $S$ 的特征函数，定义为：如果 $n \\in S$，则 $\\chi_S(n) = 1$；如果 $n \\notin S$，则 $\\chi_S(n) = 0$。\n\n这两个序列定义如下：\n- 平滑核：$a_n = \\chi_{\\{-1, 0, 1\\}}(n)$\n- 信号：$b_n = \\chi_{\\{1, 2\\}}(n)$\n\n这两个序列的离散卷积产生一个新序列 $(c_n)_{n \\in \\mathbb{Z}}$，其中 $c_n = (a * b)_n$ 由以下求和定义：\n$$\nc_n = \\sum_{k=-\\infty}^{\\infty} a_k b_{n-k}\n$$\n\n求出 $c_n$ 的所有非零值组成的序列，按索引 $n$ 的递增顺序排列。", "solution": "我们有 $a_{n}=\\chi_{\\{-1,0,1\\}}(n)$ 和 $b_{n}=\\chi_{\\{1,2\\}}(n)$。离散卷积定义为\n$$\nc_{n}=(a*b)_{n}=\\sum_{k=-\\infty}^{\\infty}a_{k}b_{n-k}.\n$$\n由于 $a_{k}$ 仅在 $k\\in\\{-1,0,1\\}$ 时非零，而 $b_{n-k}$ 仅在 $n-k\\in\\{1,2\\}$ 时非零，所以求和可以简化为\n$$\nc_{n}=\\sum_{k\\in\\{-1,0,1\\}}\\chi_{\\{1,2\\}}(n-k).\n$$\n因此，$c_{n}$ 计算的是使得 $n-k\\in\\{1,2\\}$ 成立的 $k\\in\\{-1,0,1\\}$ 的数量。$c_n$ 的支撑集是两个支撑集的闵可夫斯基和，即\n$$\n\\{-1,0,1\\}+\\{1,2\\}=\\{0,1,2,3\\},\n$$\n所以对于 $n\\notin\\{0,1,2,3\\}$，有 $c_{n}=0$。我们计算在这个集合上的值：\n- 对于 $n=0$：需要 $-k\\in\\{1,2\\}$，即 $k\\in\\{-1,-2\\}$。与 $\\{-1,0,1\\}$ 求交集得到 $\\{-1\\}$，所以 $c_{0}=1$。\n- 对于 $n=1$：需要 $1-k\\in\\{1,2\\}$，即 $k\\in\\{0,-1\\}$。与 $\\{-1,0,1\\}$ 求交集得到 $\\{-1,0\\}$，所以 $c_{1}=2$。\n- 对于 $n=2$：需要 $2-k\\in\\{1,2\\}$，即 $k\\in\\{1,0\\}$。与 $\\{-1,0,1\\}$ 求交集得到 $\\{0,1\\}$，所以 $c_{2}=2$。\n- 对于 $n=3$：需要 $3-k\\in\\{1,2\\}$，即 $k\\in\\{2,1\\}$。与 $\\{-1,0,1\\}$ 求交集得到 $\\{1\\}$，所以 $c_{3}=1$。\n\n因此，$c_{n}$ 的非零值按 $n$ 递增顺序排列为 $1,2,2,1$。", "answer": "$$\\boxed{\\begin{pmatrix}1  2  2  1\\end{pmatrix}}$$", "id": "1444689"}, {"introduction": "现在我们转向连续情况。卷积有一个强大的几何解释：结果函数的支撑集（support）是原始函数支撑集的闵可夫斯基和（Minkowski sum）。这个练习将探讨当我们对一个具有“间隙”或不连通支撑集的函数进行卷积时会发生什么，从而检验我们关于卷积是否总能“填补间隙”的直观认识 [@problem_id:1444686]。", "problem": "在实分析和信号处理中，两个函数的卷积提供了一种用一个函数来“平滑”另一个函数的方法。本题探讨卷积对函数支集的几何效应。\n\n设 $\\chi_S: \\mathbb{R} \\to \\{0, 1\\}$ 表示集合 $S \\subseteq \\mathbb{R}$ 的指示函数（或特征函数），定义为：如果 $x \\in S$，则 $\\chi_S(x) = 1$；如果 $x \\notin S$，则 $\\chi_S(x) = 0$。\n\n两个函数 $f, g: \\mathbb{R} \\to \\mathbb{R}$ 的卷积是一个函数 $h = f * g$，由以下积分定义：\n$$\nh(x) = (f * g)(x) = \\int_{-\\infty}^{\\infty} f(y)g(x-y) dy\n$$\n\n考虑集合 $A = [-2, -1] \\cup [1, 2]$ 和 $B = [0, 1]$。设 $f(x) = \\chi_A(x)$ 和 $g(x) = \\chi_B(x)$。函数 $h$ 的支集，记为 $\\text{supp}(h)$，定义为函数非零点集的闭包，即 $\\text{supp}(h) = \\overline{\\{x \\in \\mathbb{R} \\mid h(x) \\neq 0\\}}$。\n\n确定卷积 $h(x) = (\\chi_A * \\chi_B)(x)$ 的支集。\n\n以下哪个集合是 $\\text{supp}(h)$？\n\nA. $[-2, 3]$\nB. $[-2, 0] \\cup [1, 3]$\nC. $[-1, 1]$\nD. $[-2, -1] \\cup [1, 2]$\nE. $[-3, -1] \\cup [0, 2]$", "solution": "设 $h(x) = (\\chi_A * \\chi_B)(x)$。根据卷积的定义，我们有：\n$$\nh(x) = \\int_{-\\infty}^{\\infty} \\chi_A(y) \\chi_B(x-y) dy\n$$\n被积函数 $\\chi_A(y) \\chi_B(x-y)$ 等于 1，当且仅当 $\\chi_A(y) = 1$ 和 $\\chi_B(x-y) = 1$ 同时成立。这意味着只有当 $y \\in A$ 且 $x-y \\in B$ 时，被积函数才非零。\n条件 $y \\in A$ 意味着 $y \\in [-2, -1] \\cup [1, 2]$。\n条件 $x-y \\in B$ 意味着 $0 \\le x-y \\le 1$，可以整理为 $x-1 \\le y \\le x$。\n因此，对于给定的 $x$，卷积积分 $h(x)$ 的值是同时满足这两个条件的 $y$ 值集合的勒贝格测度。也就是集合 $A$ 与区间 $[x-1, x]$ 的交集的测度。\n$$\nh(x) = m(A \\cap [x-1, x]) = m\\Big( \\big([-2, -1] \\cup [1, 2]\\big) \\cap [x-1, x] \\Big)\n$$\n区间 $[x-1, x]$ 是一个长度为 1 的“滑动窗口”。我们需要找出对于哪些 $x$ 值，这个窗口与集合 $A$ 的交集测度非零。$h(x)$ 的值将是这个交集的长度。\n\n我们通过考虑 $x$ 的不同区域来分析 $h(x)$：\n\n1.  如果 $x  -2$，那么区间 $[x-1, x]$ 完全在 $A$ 的左侧。交集为空，所以 $h(x) = 0$。\n\n2.  如果 $-2 \\le x  -1$，窗口的右端点 $x$ 在 $[-2,-1]$ 内，而左端点 $x-1$ 在 $-2$ 的左侧。交集是 $[-2, x]$。这个交集的长度是 $h(x) = x - (-2) = x+2$。注意，对于此范围内的 $x$，$0 \\le x+2  1$。\n\n3.  如果 $-1 \\le x  0$，窗口的右端点 $x$ 越过了 $-1$，但左端点 $x-1$ 仍在 $[-2,-1]$ 内。交集是 $[x-1, -1]$。长度是 $h(x) = -1 - (x-1) = -x$。对于此范围内的 $x$，$0  -x \\le 1$。\n\n4.  如果 $0 \\le x  1$，窗口 $[x-1, x]$ 位于 $A$ 的两个组成部分之间的间隙中。交集为空，所以 $h(x) = 0$。\n\n5.  如果 $1 \\le x  2$，窗口开始与 $A$ 的第二个组成部分 $[1, 2]$ 重叠。交集是 $[1, x]$。长度是 $h(x) = x - 1$。对于此范围内的 $x$，$0 \\le x-1  1$。\n\n6.  如果 $2 \\le x  3$，窗口正在移过区间 $[1,2]$。交集是 $[x-1, 2]$。长度是 $h(x) = 2 - (x-1) = 3-x$。对于此范围内的 $x$，$0  3-x \\le 1$。\n\n7.  如果 $x \\ge 3$，窗口 $[x-1, x]$ 完全在 $A$ 的右侧。交集为空，所以 $h(x) = 0$。\n\n总结函数 $h(x)$ 如下：\n$$\nh(x) = \\begin{cases}\n0  \\text{if } x  -2 \\\\\nx+2  \\text{if } -2 \\le x  -1 \\\\\n-x  \\text{if } -1 \\le x  0 \\\\\n0  \\text{if } 0 \\le x  1 \\\\\nx-1  \\text{if } 1 \\le x  2 \\\\\n3-x  \\text{if } 2 \\le x  3 \\\\\n0  \\text{if } x \\ge 3\n\\end{cases}\n$$\n$h(x)$ 的支集是 $h(x) \\neq 0$ 的点集的闭包。函数 $h(x)$ 在以下区间上非零：\n- 对于 $-2  x  -1$，$h(x) = x+2 > 0$。\n- 对于 $-1  x  0$，$h(x) = -x > 0$。\n- 在 $x=-1$ 处，$h(-1)=1$。\n- 对于 $1  x  2$，$h(x) = x-1 > 0$。\n- 对于 $2  x  3$，$h(x) = 3-x > 0$。\n- 在 $x=2$ 处，$h(2)=1$。\n\n函数 $h(x)$ 非零的点集 $\\{x \\in \\mathbb{R} \\mid h(x) \\neq 0\\}$ 是两个开区间的并集：$(-2, 0) \\cup (1, 3)$。\n支集是这个集合的闭包：\n$$\n\\text{supp}(h) = \\overline{(-2, 0) \\cup (1, 3)} = \\overline{(-2, 0)} \\cup \\overline{(1, 3)} = [-2, 0] \\cup [1, 3]\n$$\n另外，也可以使用关于卷积支集的定理。该定理指出，对于具有紧支集的函数 $f, g$，有 $\\text{supp}(f*g) = \\text{supp}(f) + \\text{supp}(g)$，这里的和是集合的闵可夫斯基和。\n在本题中，$\\text{supp}(\\chi_A) = A = [-2, -1] \\cup [1, 2]$ 且 $\\text{supp}(\\chi_B) = B = [0, 1]$。\n闵可夫斯基和为：\n$$\nA+B = \\{a+b \\mid a \\in A, b \\in B\\} = ([-2, -1]+[0,1]) \\cup ([1, 2]+[0,1])\n$$\n对于两个区间 $[c, d]$ 和 $[e,f]$，它们的闵可夫斯基和是 $[c+e, d+f]$。\n$$\n[-2, -1] + [0, 1] = [-2+0, -1+1] = [-2, 0]\n$$\n$$\n[1, 2] + [0, 1] = [1+0, 2+1] = [1, 3]\n$$\n因此，支集是 $[-2, 0] \\cup [1, 3]$。\n这与B选项匹配。", "answer": "$$\\boxed{B}$$", "id": "1444686"}, {"introduction": "卷积最著名的特性之一是其“平滑”函数的能力，这意味着卷积后的函数通常比原始函数更具正则性（regularity）。这个练习提供了一个具体的例子来展示这一现象 [@problem_id:1444747]。我们从一个在某点连续但有“尖点”（不可微）的函数开始，通过将其与自身进行卷积，我们将创造出一个处处可微的新函数，从而亲眼见证平滑效应。", "problem": "考虑一个实值函数 $f: \\mathbb{R} \\to \\mathbb{R}$，该函数是连续的，但在原点处不可导。该函数由分段指数表达式定义：\n$$\nf(x) = \\begin{cases} \\exp(-x)  \\text{若 } x \\ge 0 \\\\ \\exp(2x)  \\text{若 } x  0 \\end{cases}\n$$\n两个可积函数 $h_1(x)$ 和 $h_2(x)$ 的卷积由以下积分给出：\n$$\n(h_1 * h_2)(x) = \\int_{-\\infty}^{\\infty} h_1(y) h_2(x-y) \\,dy\n$$\n令 $g(x)$ 表示函数 $f(x)$ 的自卷积，即 $g(x) = (f * f)(x)$。计算 $g(x)$ 在 $x=0$ 处的导数值。", "solution": "我们给定可积函数\n$$\nf(x)=\\begin{cases}\n\\exp(-x)  \\text{若 } x \\ge 0, \\\\\n\\exp(2x)  \\text{若 } x  0.\n\\end{cases}\n$$\n其自卷积为 $g(x)=(f*f)(x)=\\displaystyle\\int_{-\\infty}^{\\infty} f(y)f(x-y)\\,dy$。为了求 $g'(0)$，我们需要计算 $g(x)$ 的表达式。这需要根据 $x$ 的符号以及积分变量 $y$ 的位置来分情况讨论。\n\n**情况 1: $x \\ge 0$**\n\n我们将积分区间 $\\mathbb{R}$ 划分为 $(-\\infty, 0)$, $[0, x]$ 和 $(x, \\infty)$。\n- 对于 $y \\in (-\\infty, 0)$：$y  0$ 且 $x-y > x \\ge 0$。$f(y) = \\exp(2y)$, $f(x-y) = \\exp(-(x-y))$。\n  $$ \\int_{-\\infty}^{0} \\exp(2y) \\exp(-x+y) \\,dy = \\exp(-x) \\int_{-\\infty}^{0} \\exp(3y) \\,dy = \\frac{1}{3}\\exp(-x) $$\n- 对于 $y \\in [0, x]$：$y \\ge 0$ 且 $x-y \\ge 0$。$f(y) = \\exp(-y)$, $f(x-y) = \\exp(-(x-y))$。\n  $$ \\int_{0}^{x} \\exp(-y) \\exp(-x+y) \\,dy = \\exp(-x) \\int_{0}^{x} 1 \\,dy = x\\exp(-x) $$\n- 对于 $y \\in (x, \\infty)$：$y > x \\ge 0$ 且 $x-y  0$。$f(y) = \\exp(-y)$, $f(x-y) = \\exp(2(x-y))$。\n  $$ \\int_{x}^{\\infty} \\exp(-y) \\exp(2x-2y) \\,dy = \\exp(2x) \\int_{x}^{\\infty} \\exp(-3y) \\,dy = \\exp(2x) \\left[ -\\frac{1}{3}\\exp(-3y) \\right]_x^\\infty = \\frac{1}{3}\\exp(2x)\\exp(-3x) = \\frac{1}{3}\\exp(-x) $$\n将三部分相加，对于 $x \\ge 0$：\n$$ g(x) = \\frac{1}{3}\\exp(-x) + x\\exp(-x) + \\frac{1}{3}\\exp(-x) = \\left(x + \\frac{2}{3}\\right)\\exp(-x) $$\n\n**情况 2: $x  0$**\n\n我们将积分区间 $\\mathbb{R}$ 划分为 $(-\\infty, x)$, $[x, 0)$ 和 $[0, \\infty)$。\n- 对于 $y \\in (-\\infty, x)$：$y  x  0$ 且 $x-y > 0$。$f(y) = \\exp(2y)$, $f(x-y) = \\exp(-(x-y))$。\n  $$ \\int_{-\\infty}^{x} \\exp(2y) \\exp(-x+y) \\,dy = \\exp(-x) \\int_{-\\infty}^{x} \\exp(3y) \\,dy = \\frac{1}{3}\\exp(-x)\\exp(3x) = \\frac{1}{3}\\exp(2x) $$\n- 对于 $y \\in [x, 0)$：$x \\le y  0$ 且 $x-y \\le 0$。$f(y) = \\exp(2y)$, $f(x-y) = \\exp(2(x-y))$。\n  $$ \\int_{x}^{0} \\exp(2y) \\exp(2x-2y) \\,dy = \\exp(2x) \\int_{x}^{0} 1 \\,dy = -x\\exp(2x) $$\n- 对于 $y \\in [0, \\infty)$：$y \\ge 0$ 且 $x-y  x  0$。$f(y) = \\exp(-y)$, $f(x-y) = \\exp(2(x-y))$。\n  $$ \\int_{0}^{\\infty} \\exp(-y) \\exp(2x-2y) \\,dy = \\exp(2x) \\int_{0}^{\\infty} \\exp(-3y) \\,dy = \\frac{1}{3}\\exp(2x) $$\n将三部分相加，对于 $x  0$：\n$$ g(x) = \\frac{1}{3}\\exp(2x) - x\\exp(2x) + \\frac{1}{3}\\exp(2x) = \\left(\\frac{2}{3} - x\\right)\\exp(2x) $$\n\n**计算导数**\n\n现在我们分别计算 $g(x)$ 在 $x>0$ 和 $x0$ 时的导数。\n- 对于 $x > 0$：\n  $$ g'(x) = \\frac{d}{dx} \\left[ \\left(x + \\frac{2}{3}\\right)\\exp(-x) \\right] = (1)\\exp(-x) + \\left(x + \\frac{2}{3}\\right)(-\\exp(-x)) = \\left(1 - x - \\frac{2}{3}\\right)\\exp(-x) = \\left(\\frac{1}{3} - x\\right)\\exp(-x) $$\n  右导数 $g'_+(0) = \\lim_{x \\to 0^+} g'(x) = \\frac{1}{3}$。\n\n- 对于 $x  0$：\n  $$ g'(x) = \\frac{d}{dx} \\left[ \\left(\\frac{2}{3} - x\\right)\\exp(2x) \\right] = (-1)\\exp(2x) + \\left(\\frac{2}{3} - x\\right)(2\\exp(2x)) = \\left(-1 + \\frac{4}{3} - 2x\\right)\\exp(2x) = \\left(\\frac{1}{3} - 2x\\right)\\exp(2x) $$\n  左导数 $g'_-(0) = \\lim_{x \\to 0^-} g'(x) = \\frac{1}{3}$。\n\n由于左右导数在 $x=0$ 处相等且存在，所以 $g(x)$ 在 $x=0$ 处可导，并且 $g'(0) = \\frac{1}{3}$。", "answer": "$$\\boxed{\\frac{1}{3}}$$", "id": "1444747"}]}