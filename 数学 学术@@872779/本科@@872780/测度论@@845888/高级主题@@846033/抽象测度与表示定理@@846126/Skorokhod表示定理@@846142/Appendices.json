{"hands_on_practices": [{"introduction": "第一个练习是斯科罗霍德表示定理的一个基础应用。我们将从一个简单的离散随机变量序列开始，这些变量直观上“收缩”到零。通过使用分位数变换在一个统一的概率空间上显式地构造相应的随机变量，我们将以一种非常清晰和直接的方式，看到弱收敛是如何转化为几乎必然收敛的。[@problem_id:1388075]", "problem": "考虑一列离散随机变量 $\\{X_n\\}_{n=1}^{\\infty}$。对于每个整数 $n \\ge 1$，随机变量 $X_n$ 由概率 $P(X_n = 1/n) = 1/2$ 和 $P(X_n = -1/n) = 1/2$ 定义。该序列依分布收敛于一个常数随机变量 $X=0$。\n\nSkorokhod 表示定理提供了一种将依分布收敛转化为几乎必然收敛的强大方法。该定理指出，如果一列实值随机变量 $\\{X_n\\}$ 依分布收敛于一个随机变量 $X$，那么存在一个单一的概率空间 $(\\Omega, \\mathcal{F}, P)$ 以及定义在该空间上的一个新的随机变量序列 $\\{Y_n\\}$ 和一个随机变量 $Y$，它们具有以下性质：\n1. 对于每个 $n$，$Y_n$ 与 $X_n$ 同分布。\n2. $Y$ 与 $X$ 同分布。\n3. 序列 $\\{Y_n\\}$ 几乎必然收敛于 $Y$。\n\n你的任务是为给定的 $\\{X_n\\}$ 显式地构造序列 $\\{Y_n\\}$。我们将使用标准构造方法，其中公共概率空间是带有勒贝格测度的单位区间，即 $(\\Omega, \\mathcal{F}, P) = ([0,1], \\mathcal{B}([0,1]), \\lambda)$，其中 $\\mathcal{B}([0,1])$ 是 Borel σ-代数，$\\lambda$ 是勒贝格测度。在这个空间上，每个随机变量 $Y_n$ 可以表示为一个可测函数 $Y_n(u)$，其中 $u \\in [0,1]$。\n\n确定 $Y_n(u)$ 对于 $u \\in (0,1]$ 的显式函数形式。你的答案应表示为一个关于 $u$ 和 $n$ 的分段函数。", "solution": "给定序列 $\\{X_{n}\\}_{n=1}^{\\infty}$，其中 $P(X_{n}=\\frac{1}{n})=\\frac{1}{2}$ 且 $P(X_{n}=-\\frac{1}{n})=\\frac{1}{2}$，并且依分布收敛的极限为 $X=0$。为了在 $([0,1],\\mathcal{B}([0,1]),\\lambda)$ 上构造 $\\{Y_{n}\\}$，使得对每个 $n$ 都有 $Y_{n}\\overset{d}{=}X_{n}$，$Y\\overset{d}{=}X$，且 $Y_{n}\\to Y$ 几乎必然成立，我们使用逆变换法。\n\n对每个 $n$，令 $F_{n}$ 为 $X_{n}$ 的累积分布函数。由于 $X_{n}$ 在 $-\\frac{1}{n}$ 处有 $\\frac{1}{2}$ 的概率质量，在 $\\frac{1}{n}$ 处有 $\\frac{1}{2}$ 的概率质量，我们有\n$$\nF_{n}(x)=\n\\begin{cases}\n0,  x  -\\frac{1}{n} \\\\\n\\frac{1}{2},  -\\frac{1}{n} \\le x  \\frac{1}{n} \\\\\n1,  x \\ge \\frac{1}{n}\n\\end{cases}\n$$\n定义右连续广义逆（分位数）函数\n$$\nF_{n}^{-1}(u)=\\inf\\{x\\in\\mathbb{R}:F_{n}(x)\\ge u\\}, \\quad u\\in(0,1].\n$$\n根据 $F_{n}$ 的形式，我们计算得出\n$$\nY_n(u) = F_{n}^{-1}(u) = \n\\begin{cases}\n-\\frac{1}{n},  0  u \\le \\frac{1}{2} \\\\\n\\frac{1}{n},  \\frac{1}{2}  u \\le 1\n\\end{cases}\n$$\n这就是所求的显式函数形式。", "answer": "$$\\boxed{Y_n(u) = \\begin{cases} -\\frac{1}{n},  0  u \\le \\frac{1}{2} \\\\ \\frac{1}{n},  \\frac{1}{2}  u \\le 1 \\end{cases}}$$", "id": "1388075"}, {"introduction": "从离散分布转向连续分布，这个问题探索了一个“表现良好”的情景。我们将研究一个收敛到另一个均匀分布的均匀分布序列。这里的构造尤其简洁，它展示了一个“几乎必然”收敛实际上是对每个结果都逐点成立的案例，凸显了分位数变换方法在处理连续、严格递增的累积分布函数时的清晰性。[@problem_id:1460421]", "problem": "考虑一个概率分布序列 $(\\mu_n)_{n\\ge 2}$，其中对于每个整数 $n \\ge 2$，$\\mu_n$ 是区间 $[0, 1 - 1/n]$ 上的均匀分布。令 $\\mu$ 为区间 $[0,1]$ 上的均匀分布。已知测度序列 $(\\mu_n)$ 弱收敛于 $\\mu$。\n\n斯科罗霍德表示定理 (Skorokhod representation theorem) 保证了存在一个公共概率空间 $(\\Omega, \\mathcal{F}, P)$ 以及定义在该空间上的一个实值随机变量序列 $(Y_n)_{n\\ge 2}$ 和一个随机变量 $Y$，使得：\n1. 对每个 $n \\ge 2$，$Y_n$ 的概率律为 $\\mu_n$。\n2. $Y$ 的概率律为 $\\mu$。\n3. 对于 $P$-几乎每一个 $\\omega \\in \\Omega$，$Y_n(\\omega) \\to Y(\\omega)$。\n\n你的任务是给出这些随机变量的一个显式构造。具体来说，使用概率空间 $(\\Omega, \\mathcal{F}, P) = ([0,1], \\mathcal{B}, \\lambda)$，其中 $[0,1]$ 是单位区间，$\\mathcal{B}$ 是其 Borel σ-代数，$\\lambda$ 是勒贝格测度，请找出对于 $\\omega \\in [0,1]$ 的 $Y_n(\\omega)$ 和 $Y(\\omega)$ 的函数形式。\n\n请以函数对 $(Y_n(\\omega), Y(\\omega))$ 的形式给出你的答案。", "solution": "我们的目标是在概率空间 $([0,1], \\mathcal{B}, \\lambda)$ 上构造随机变量，使其概率律分别为 $\\mu_n$ 和 $\\mu$，并且满足 $Y_n \\to Y$ 几乎必然收敛。\n\n首先，对于 $\\omega \\in [0,1]$，令 $U(\\omega) = \\omega$。由于 $\\lambda$ 是勒贝格测度，因此 $U$ 在 $[0,1]$ 上均匀分布。\n\n定义 $Y(\\omega)$ 的概率律为 $\\mu$，即在 $[0,1]$ 上的均匀分布。$\\mu$ 的累积分布函数为 $F(x)$，当 $x  0$ 时为 $0$，当 $x \\in [0,1]$ 时为 $x$，当 $x \\ge 1$ 时为 $1$。其分位数函数（广义逆）为 $F^{-1}(u) = u$，其中 $u \\in [0,1]$。使用概率积分变换，设\n$$\nY(\\omega) = F^{-1}(U(\\omega)) = U(\\omega) = \\omega.\n$$\n因此 $Y$ 的概率律为 $\\mu$。\n\n对于每个 $n \\ge 2$，定义 $Y_n$ 的概率律为 $\\mu_n$，即在 $[0, 1 - \\frac{1}{n}]$ 上的均匀分布。$\\mu_n$ 的累积分布函数是\n$$\nF_n(x) = \\begin{cases}\n0,  x  0, \\\\\n\\frac{x}{1 - \\frac{1}{n}},  x \\in [0, 1 - \\frac{1}{n}], \\\\\n1,  x \\ge 1 - \\frac{1}{n}.\n\\end{cases}\n$$\n其广义逆（分位数函数）是\n$$\nF_n^{-1}(u) = \\left(1 - \\frac{1}{n}\\right) u, \\quad u \\in [0,1].\n$$\n定义\n$$\nY_n(\\omega) = F_n^{-1}(U(\\omega)) = \\left(1 - \\frac{1}{n}\\right)\\omega.\n$$\n为验证 $Y_n$ 的概率律，对 $x \\in \\mathbb{R}$ 计算：\n$$\nP(Y_n \\le x) = \\lambda\\left(\\left\\{\\omega \\in [0,1] : \\left(1 - \\frac{1}{n}\\right)\\omega \\le x\\right\\}\\right)\n= \\lambda\\left(\\left\\{\\omega \\le \\frac{x}{1 - \\frac{1}{n}}\\right\\}\\right)\n= \\begin{cases}\n0,  x  0, \\\\\n\\frac{x}{1 - \\frac{1}{n}},  x \\in [0, 1 - \\frac{1}{n}], \\\\\n1,  x \\ge 1 - \\frac{1}{n},\n\\end{cases}\n$$\n这恰好是 $F_n(x)$，所以 $Y_n$ 的概率律是 $\\mu_n$。\n\n最后，对于所有 $\\omega \\in [0,1]$，几乎必然收敛是逐点成立的：\n$$\nY_n(\\omega) = \\left(1 - \\frac{1}{n}\\right)\\omega \\to \\omega = Y(\\omega) \\quad \\text{as } n \\to \\infty.\n$$\n因此，在 $([0,1], \\mathcal{B}, \\lambda)$ 上，一个显式构造是 $Y_n(\\omega) = \\left(1 - \\frac{1}{n}\\right)\\omega$ 和 $Y(\\omega) = \\omega$。", "answer": "$$\\boxed{Y_n(\\omega) = \\left(1 - \\frac{1}{n}\\right)\\omega, \\quad Y(\\omega) = \\omega}$$", "id": "1460421"}, {"introduction": "“几乎必然”这个术语至关重要，而本练习将揭示其确切含义。我们将分析一个成功概率收敛的伯努利试验序列。通过精确定位所构造的序列未能收敛的结果集合，我们将具体理解为什么收敛是“几乎”处处成立，而非必然处处成立。这个练习澄清了几乎必然收敛与逐点收敛之间的区别。[@problem_id:1460424]", "problem": "设 $(\\mathbb{R}, \\mathcal{B}(\\mathbb{R}))$ 为实数轴及其 Borel σ-代数。该空间上的一个概率测度 $\\mu$ 可以由其累积分布函数 (CDF) $F(x) = \\mu((-\\infty, x])$ 来刻画。一列概率测度 $\\mu_n$ 的弱收敛，记为 $\\mu_n \\Rightarrow \\mu$，等价于它们的累积分布函数 $F_n(x)$ 在 $F$ 的所有连续点 $x$ 处逐点收敛于 $F(x)$。\n\n分位数变换是连接弱收敛与更强的几乎必然收敛概念的有力工具。给定一个 CDF $F$，其关联的分位数函数（或广义逆函数）定义为 $F^{-1}(u) = \\inf\\{y \\in \\mathbb{R} : F(y) \\geq u\\}$，其中 $u \\in (0, 1)$。如果我们考虑概率空间 $(\\Omega, \\mathcal{F}, P) = ((0, 1), \\mathcal{B}((0, 1)), \\lambda)$，其中 $\\lambda$ 是勒贝格测度，那么对于任何 CDF $F$，随机变量 $X(\\omega) = F^{-1}(\\omega)$ 的 CDF 就是 $F$。\n\n现在，考虑一列离散概率测度 $\\mu_n$ ($n=1, 2, 3, \\ldots$)，定义在集合 $\\{0, 1\\}$ 上。这些测度由 $\\mu_n(\\{1\\}) = p_n$ 和 $\\mu_n(\\{0\\}) = 1-p_n$ 给出，其中概率序列为 $p_n = \\frac{1}{2} + \\frac{(-1)^n}{n+3}$。这列测度弱收敛到一个极限测度 $\\mu$。\n\n在概率空间 $((0, 1), \\lambda)$ 上使用上述分位数变换方法，我们可以构造一列随机变量 $Y_n$（其分布为 $\\mu_n$）和一个随机变量 $Y$（其分布为 $\\mu$）。Skorokhod 表示定理保证了 $Y_n \\to Y$ 几乎必然收敛。然而，这并不意味着对于所有 $\\omega \\in (0,1)$，该收敛都是逐点的。\n\n找出所有点 $\\omega \\in (0, 1)$ 的集合，使得实数序列 $Y_n(\\omega)$ 不收敛于 $Y(\\omega)$。", "solution": "给定在 $\\{0,1\\}$ 上的伯努利测度 $\\mu_{n}$，满足\n$$\n\\mu_{n}(\\{1\\})=p_{n},\\qquad \\mu_{n}(\\{0\\})=1-p_{n},\\qquad p_{n}=\\frac{1}{2}+\\frac{(-1)^{n}}{n+3}.\n$$\n设 $\\mu$ 为弱极限，它是参数为 $p=\\lim_{n\\to\\infty}p_{n}=\\frac{1}{2}$ 的伯努利测度。\n\n对每个 $n$，$\\mu_{n}$ 的 CDF $F_{n}$ 为\n$$\nF_{n}(x)=\\begin{cases}\n0,  x  0, \\\\\n1-p_{n},  0 \\le x  1, \\\\\n1,  x \\ge 1,\n\\end{cases}\n$$\n而 $\\mu$ 的 CDF $F$ 为\n$$\nF(x)=\\begin{cases}\n0,  x  0, \\\\\n\\frac{1}{2},  0 \\le x  1, \\\\\n1,  x \\ge 1.\n\\end{cases}\n$$\n\n在 $((0,1),\\lambda)$ 上，定义分位数变换\n$$\nY_{n}(\\omega)=F_{n}^{-1}(\\omega),\\qquad Y(\\omega)=F^{-1}(\\omega),\\qquad \\omega\\in(0,1),\n$$\n其中 $F^{-1}(u)=\\inf\\{y\\in\\mathbb{R}:F(y)\\ge u\\}$。\n\n从 $F_{n}$ 和 $F$ 的形式，它们的分位数函数满足\n$$\nY_{n}(\\omega)=\\begin{cases}\n0,  \\omega\\le 1-p_{n},\\\\\n1,  \\omega1-p_{n},\n\\end{cases}\n\\qquad\nY(\\omega)=\\begin{cases}\n0,  \\omega\\le \\frac{1}{2},\\\\\n1,  \\omega\\frac{1}{2}.\n\\end{cases}\n$$\n令\n$$\nt_{n}=1-p_{n}=\\frac{1}{2}-\\frac{(-1)^{n}}{n+3}=\\frac{1}{2}+\\frac{(-1)^{n+1}}{n+3}.\n$$\n那么 $t_{n}\\to \\frac{1}{2}$，当 $n$ 为偶数时 $t_{n}  \\frac{1}{2}$，当 $n$ 为奇数时 $t_{n} > \\frac{1}{2}$。因此\n$$\nY_{n}(\\omega)=\\mathbf{1}_{\\{\\omegat_{n}\\}},\\qquad Y(\\omega)=\\mathbf{1}_{\\{\\omega\\frac{1}{2}\\}}.\n$$\n\n我们分情况分析逐点收敛性。\n\n1) 如果 $\\omega  \\frac{1}{2}$，那么对所有奇数 $n$，$t_{n} > \\frac{1}{2} > \\omega$，因此 $\\omega \\le t_{n}$ 且 $Y_{n}(\\omega)=0$。对所有偶数 $n$，$t_{n}=\\frac{1}{2}-\\frac{1}{n+3}\\uparrow \\frac{1}{2}$，因此存在一个 $N$，使得对所有偶数 $n\\ge N$，$t_{n} > \\omega$，所以 $Y_{n}(\\omega)=0$。因此 $Y_{n}(\\omega)\\to 0=Y(\\omega)$。\n\n2) 如果 $\\omega > \\frac{1}{2}$，那么对所有偶数 $n$，$t_{n}  \\frac{1}{2}  \\omega$，因此 $\\omega > t_{n}$ 且 $Y_{n}(\\omega)=1$。对所有奇数 $n$，$t_{n}=\\frac{1}{2}+\\frac{1}{n+3}\\downarrow \\frac{1}{2}$，因此存在一个 $N$，使得对所有奇数 $n\\ge N$，$t_{n}  \\omega$，所以 $Y_{n}(\\omega)=1$。因此 $Y_{n}(\\omega)\\to 1=Y(\\omega)$。\n\n3) 如果 $\\omega=\\frac{1}{2}$，那么 $Y(\\frac{1}{2})=0$，而\n$$\nY_{n}\\!\\left(\\frac{1}{2}\\right)=\\begin{cases}\n0,  \\frac{1}{2}\\le t_{n}\\ \\text{(奇数 $n$)},\\\\\n1,  \\frac{1}{2}>t_{n}\\ \\text{(偶数 $n$)},\n\\end{cases}\n$$\n所以 $Y_{n}\\!\\left(\\frac{1}{2}\\right)$ 在 $0$ 和 $1$ 之间交替，不收敛。\n\n因此，所有使 $Y_{n}(\\omega)$ 不收敛于 $Y(\\omega)$ 的 $\\omega\\in(0,1)$ 构成的集合是单点集 $\\{\\frac{1}{2}\\}$。在测度 $\\lambda$ 下这是一个零测集，因此 $Y_{n}\\to Y$ 几乎必然收敛，这与 Skorokhod 定理是一致的。", "answer": "$$\\boxed{\\left\\{\\frac{1}{2}\\right\\}}$$", "id": "1460424"}]}