{"hands_on_practices": [{"introduction": "马尔可夫不等式提供了一种在信息有限时估算概率的强大方法。第一个练习将展示该不等式最直接的应用：仅使用一个非负随机变量的期望值，来为其超过某一阈值的“最坏情况”概率设定一个上界。通过这个实际场景 [@problem_id:1316830]，你将学会如何在只知道平均表现时，对极端事件的发生概率进行保守但有用的估计。", "problem": "一家金融科技公司开发了一种高频交易算法。设随机变量 $T$ 表示单个交易周期的执行时间，单位为毫秒。根据大量的模拟和历史数据，关于该算法性能的唯一已知信息是其期望执行时间 $E[T]$ 为50毫秒。执行时间 $T$ 本质上是一个非负量。\n\n如果一个交易周期的执行时间超过了某个关键阈值，它就会被标记以供审查。该公司的风险分析师对一个周期耗时至少250毫秒的最坏情况感兴趣，这可能表示存在显著的系统延迟或异常。\n\n在不对 $T$ 的概率分布做任何进一步假设的情况下，确定一个随机选择的交易周期执行时间至少为250毫秒的最大可能概率。请用小数表示你的答案。", "solution": "问题要求在只给定一个非负随机变量的期望值的情况下，求某个事件的最大可能概率。这种情况是马尔可夫不等式 (Markov's inequality) 的直接应用。\n\n设 $T$ 是表示执行时间（单位为毫秒）的非负随机变量。我们已知其期望值：\n$$E[T] = 50$$\n\n我们想要找到概率 $P(T \\ge 250)$ 的最大可能值。\n\n马尔可夫不等式指出，对于任意非负随机变量 $X$ 和任意常数 $a  0$，以下关系成立：\n$$P(X \\ge a) \\le \\frac{E[X]}{a}$$\n这个不等式给出了随机变量 $X$ 大于或等于某个值 $a$ 的概率的一个上界。\n\n在我们的问题中，随机变量是 $T$，常数是 $a = 250$。我们可以通过代入这些值来应用马尔可夫不等式：\n$$P(T \\ge 250) \\le \\frac{E[T]}{250}$$\n\n现在，我们代入给定的期望值 $E[T] = 50$：\n$$P(T \\ge 250) \\le \\frac{50}{250}$$\n\n化简这个分数，我们得到概率的上界：\n$$P(T \\ge 250) \\le \\frac{1}{5}$$\n$$P(T \\ge 250) \\le 0.2$$\n\n这个结果意味着，无论 $T$ 的概率分布的具体形式如何，其执行时间为250毫秒或更长的概率都不能超过0.2。因为问题要求的是最大可能概率，所以答案就是这个上界。这个界是紧的（tight），意味着存在一个概率分布，在该分布下，这个概率恰好为0.2，同时满足给定的期望值。例如，考虑一个离散分布，其中 $T=250$ 的概率为 $p=0.2$，$T=0$ 的概率为 $1-p=0.8$。该分布的期望值为 $E[T] = 250 \\cdot (0.2) + 0 \\cdot (0.8) = 50$，这与给定信息相符。\n\n因此，最大可能概率是0.2。", "answer": "$$\\boxed{0.2}$$", "id": "1316830"}, {"introduction": "对于任何不等式，一个重要的问题是其界限有多“紧”。这个练习 [@problem_id:1933114] 深入探讨了马尔可夫不等式取等号的条件，这不仅是一个理论上的好奇，更揭示了该界限达到最紧时的概率分布的特定形式。通过构造一个让不等式变为等式的具体例子，你将对马尔可夫不等式的精确性和适用范围有更深刻的理解。", "problem": "一家工厂使用一台机器，其每日功耗被建模为随机变量 $X$。该机器可处于三种状态之一：功耗为 $0$ kWh 的空闲状态、功耗为 $C_1$ kWh 的标准运行状态，以及功耗为 $C_2$ kWh 的高性能状态，其中 $C_1$ 和 $C_2$ 是正常数。这些状态的概率分别为 $P(X=0)=p_0$、$P(X=C_1)=p_1$ 和 $P(X=C_2)=p_2$。这些概率是非负的，且其和为 1。\n\n已知 $C_2$ 是 $C_1$ 的整数倍，即 $C_2 = k C_1$，其中 $k$ 是一个大于 1 的整数。通过长期监测，确定了该机器每日功耗的以下两个统计特性：\n1. 平均功耗为 $E[X] = 2 C_1$。\n2. 功耗的方差为 $\\text{Var}(X) = 16 C_1^2$。\n\n此外，还发现了一个特殊的性质。对于能量阈值 $a = C_2$，由马尔可夫不等式给出的概率界 $P(X \\ge a) \\le \\frac{E[X]}{a}$，不仅是一个界，而且是一个严格成立的等式。\n\n确定 $k$ 的整数值。", "solution": "问题指出，对于阈值 $a = C_2$，马尔可夫不等式 $P(X \\ge a) \\le \\frac{E[X]}{a}$ 严格作为等式成立。马尔可夫不等式取等号的充要条件是，随机变量的全部概率质量都集中在点 $0$ 和阈值 $a$ 上。\n\n在我们的问题中，阈值是 $a = C_2$。因此，为了使等号成立，随机变量 $X$ 必须只能取 $0$ 和 $C_2$ 这两个值。这意味着处于标准运行状态（功耗为 $C_1$）的概率必须为零，即 $p_1=0$。\n\n既然 $p_1=0$，那么概率分布简化为：\n- $P(X=0) = p_0$\n- $P(X=C_2) = p_2$\n- $p_0 + p_2 = 1$\n\n现在我们利用给定的期望和方差信息来求解 $k$。\n1.  **利用期望值**:\n    我们已知 $E[X] = 2C_1$。对于这个简化的分布，期望为：\n    $$E[X] = 0 \\cdot p_0 + C_2 \\cdot p_2 = p_2 C_2$$\n    将 $C_2 = k C_1$ 代入，我们得到：\n    $$p_2 (k C_1) = 2 C_1$$\n    由于 $C_1 > 0$，我们可以消去它，得到 $p_2 k = 2$，即 $p_2 = \\frac{2}{k}$。\n\n2.  **利用方差**:\n    我们已知 $\\text{Var}(X) = 16 C_1^2$。方差的计算公式是 $\\text{Var}(X) = E[X^2] - (E[X])^2$。\n    首先计算 $E[X^2]$：\n    $$E[X^2] = 0^2 \\cdot p_0 + C_2^2 \\cdot p_2 = p_2 C_2^2$$\n    现在代入方差公式：\n    $$\\text{Var}(X) = p_2 C_2^2 - (2C_1)^2 = 16 C_1^2$$\n    将 $p_2 = \\frac{2}{k}$ 和 $C_2 = k C_1$ 代入上式：\n    $$\\left(\\frac{2}{k}\\right) (k C_1)^2 - 4C_1^2 = 16 C_1^2$$\n    $$\\frac{2}{k} \\cdot k^2 C_1^2 - 4C_1^2 = 16 C_1^2$$\n    $$2k C_1^2 - 4C_1^2 = 16 C_1^2$$\n    由于 $C_1^2 > 0$，我们可以将等式两边同除以 $C_1^2$：\n    $$2k - 4 = 16$$\n    $$2k = 20$$\n    $$k = 10$$\n\n因此，整数 $k$ 的值为 10。", "answer": "$$\\boxed{10}$$", "id": "1933114"}, {"introduction": "像马尔可夫不等式这样的基础性结论，其真正的威力在于它能作为构建更复杂理论的基石。这个进阶问题 [@problem_id:1933101] 挑战你将该不等式应用于一个巧妙构造的新随机变量之上。这种技巧，即通过变量变换和参数优化来获得更紧或更特定界限的方法，是概率论中解决问题的核心策略之一，它能帮助你推导出其他重要的不等式，例如坎泰利不等式。", "problem": "设 $X$ 是一个随机变量，其均值为有限值 $\\mu$，方差为有限的非零值 $\\sigma^2$。我们希望建立切比雪夫不等式的一个“单边”形式，为 $X$ 相对于其均值的大正向偏差的概率提供一个上界。\n\n为此，我们将使用马尔可夫不等式的一个特定应用。马尔可夫不等式表明，对于任何非负随机变量 $Z$ 和任何常数 $a  0$，概率 $P(Z \\ge a)$ 的上界为 $P(Z \\ge a) \\le \\frac{E[Z]}{a}$。\n\n考虑辅助随机变量 $Y = (X - \\mu + c)^2$，其中 $c$ 是一个可以自由选择的实值参数。对于一个给定的常数 $k  0$，当 $k+c  0$ 时，事件 $\\{X - \\mu \\ge k\\}$ 是事件 $\\{Y \\ge (k+c)^2\\}$ 的一个子集。通过对随机变量 $Y$ 应用马尔可夫不等式并为 $a$ 选择一个合适的值，可以推导出 $P(X - \\mu \\ge k)$ 的一个依赖于参数 $c$ 的上界。\n\n你的任务是找到通过这种方法可以获得的 $P(X - \\mu \\ge k)$ 的最紧上界。为此，你必须首先找到使上界最小化的参数 $c$ 的最优值，然后将这个最优 $c$ 值代回到你的上界表达式中。将这个最终的、最小化的上界表示为一个用 $\\sigma$ 和 $k$ 表示的解析表达式。", "solution": "设 $X$ 的均值为 $\\mu$，方差为 $\\sigma^{2}\\in(0,\\infty)$。固定 $k0$ 并选择一个实数参数 $c$。定义非负随机变量 $Y=(X-\\mu+c)^{2}$。对于 $k+c0$，由蕴涵关系 $X-\\mu\\geq k\\implies X-\\mu+c\\geq k+c0$ 可得\n$$\n\\{X-\\mu\\geq k\\}\\subset\\{Y\\geq(k+c)^{2}\\}.\n$$\n对 $Y$ 应用马尔可夫不等式，取 $a=(k+c)^{2}$，\n$$\n\\mathbb{P}(X-\\mu\\geq k)\\leq\\mathbb{P}\\big(Y\\geq(k+c)^{2}\\big)\\leq\\frac{\\mathbb{E}[Y]}{(k+c)^{2}}.\n$$\n利用 $\\mathbb{E}[X-\\mu]=0$ 和 $\\mathbb{E}[(X-\\mu)^{2}]=\\sigma^{2}$ 计算 $\\mathbb{E}[Y]$：\n$$\n\\mathbb{E}[Y]=\\mathbb{E}[(X-\\mu+c)^{2}]=\\mathbb{E}[(X-\\mu)^{2}]+2c\\,\\mathbb{E}[X-\\mu]+c^{2}=\\sigma^{2}+c^{2}.\n$$\n因此，对于任何 $c-k$，\n$$\n\\mathbb{P}(X-\\mu\\geq k)\\leq f(c):=\\frac{\\sigma^{2}+c^{2}}{(k+c)^{2}}.\n$$\n为了通过此方法获得最紧的上界，我们在 $c-k$ 的范围内最小化 $f(c)$。求导：\n$$\nf'(c)=\\frac{2c(k+c)^{2}-2(k+c)(\\sigma^{2}+c^{2})}{(k+c)^{4}}=\\frac{2(k+c)\\big(ck-\\sigma^{2}\\big)}{(k+c)^{4}}.\n$$\n令 $f'(c)=0$，得到唯一的临界点（因为 $k0$）在\n$$\nc^{*}=\\frac{\\sigma^{2}}{k},\n$$\n它满足 $c^{*}-k$。计算 $f$ 在 $c^{*}$ 处的值：\n$$\nf(c^{*})=\\frac{\\sigma^{2}+\\left(\\frac{\\sigma^{2}}{k}\\right)^{2}}{\\left(k+\\frac{\\sigma^{2}}{k}\\right)^{2}}=\\frac{\\sigma^{2}+\\frac{\\sigma^{4}}{k^{2}}}{\\left(\\frac{k^{2}+\\sigma^{2}}{k}\\right)^{2}}=\\frac{\\sigma^{2}k^{2}+\\sigma^{4}}{(k^{2}+\\sigma^{2})^{2}}=\\frac{\\sigma^{2}}{k^{2}+\\sigma^{2}}.\n$$\n因此，通过此方法得到的最小化（最紧）上界是\n$$\n\\mathbb{P}(X-\\mu\\geq k)\\leq\\frac{\\sigma^{2}}{\\sigma^{2}+k^{2}}.\n$$", "answer": "$$\\boxed{\\frac{\\sigma^{2}}{\\sigma^{2}+k^{2}}}$$", "id": "1933101"}]}