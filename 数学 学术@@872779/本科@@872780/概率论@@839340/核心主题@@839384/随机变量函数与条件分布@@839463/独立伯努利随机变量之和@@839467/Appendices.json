{"hands_on_practices": [{"introduction": "现实世界中的许多系统，例如飞机的制动系统或服务器集群，其成功运行都依赖于多个独立组件的冗余设计。这个问题将伯努利试验的和应用到一个具体的工程场景中，让你扮演系统设计师的角色。通过从宏观的系统可靠性要求反向推导出单个组件必须达到的性能指标，你将实践如何将二项分布模型应用于解决实际的可靠性工程问题 [@problem_id:1390659]。", "problem": "一个航空航天工程团队正在为一架新飞机设计一个冗余制动系统。该系统由三个相同且独立的液压子系统组成。如果三个子系统中至少有两个正常工作，则整个制动系统被认为是可运行的。设 $p$ 代表单个液压子系统的可靠性，即其正常工作的概率。\n\n该团队有一个严格的设计要求，即制动系统的整体可靠性必须恰好为 $0.972$。假设每个子系统的可靠性 $p$ 相同，确定每个子系统为满足此要求必须达到的 $p$ 值。", "solution": "设 $X$ 表示三个相同、独立的子系统中正常工作的子系统数量，每个子系统正常工作的概率为 $p$。则 $X \\sim \\mathrm{Binomial}(3,p)$。\n\n如果至少有两个子系统正常工作，则整个系统是可运行的，因此可靠性 $R(p)$ 为\n$$\nR(p) = \\mathbb{P}(X \\ge 2) = \\mathbb{P}(X=2) + \\mathbb{P}(X=3).\n$$\n使用二项式公式 $\\mathbb{P}(X=k) = \\binom{3}{k} p^{k} (1-p)^{3-k}$，我们得到\n$$\nR(p) = \\binom{3}{2} p^{2} (1-p) + \\binom{3}{3} p^{3} = 3 p^{2} (1-p) + p^{3}.\n$$\n代数化简后得到\n$$\nR(p) = 3 p^{2} - 2 p^{3}.\n$$\n设计要求为 $R(p) = 0.972$，所以我们求解\n$$\n3 p^{2} - 2 p^{3} = 0.972.\n$$\n等价于，\n$$\n2 p^{3} - 3 p^{2} + 0.972 = 0.\n$$\n我们测试 $p = 0.9$：\n$$\n3 (0.9)^{2} - 2 (0.9)^{3} = 3 \\cdot 0.81 - 2 \\cdot 0.729 = 2.43 - 1.458 = 0.972,\n$$\n这满足了要求。为了证明解在 $[0,1]$ 区间内是唯一的，注意到\n$$\nR'(p) = 6 p - 6 p^{2} = 6 p (1 - p) \\ge 0 \\quad \\text{for } p \\in [0,1],\n$$\n因此 $R(p)$ 在 $[0,1]$ 上是非递减的，在 $(0,1)$ 上是严格递增的，这保证了满足方程的 $p$ 是唯一的。\n\n因此，所要求的子系统可靠性为 $p = 0.9$。", "answer": "$$\\boxed{0.9}$$", "id": "1390659"}, {"introduction": "在许多情况下，重复试验的成功概率并不是恒定不变的。这个练习将我们从理想化的独立同分布（i.i.d.）伯努利试验推广到更普遍的情形，即每次试验的成功概率 $p_i$ 可能不同。通过为一个成功概率交替变化的射箭场景推导总命中次数的方差，你将深入理解一个核心原则：对于相互独立的随机变量，其总和的方差等于各自方差之和 [@problem_id:1390626]。", "problem": "一位弓箭手向靶子总共射出 $n$ 支箭。在比赛过程中，弓箭手的注意力会规律性地波动。对于第一射、第三射以及所有后续的奇数次射击，命中靶子的概率为 $p_1$。对于第二射、第四射以及所有后续的偶数次射击，命中靶子的概率为 $p_2$。每次射击的结果都与所有其他射击的结果相互独立。\n\n令随机变量 $H$ 表示这 $n$ 次射击中弓箭手命中靶子的总次数。\n\n求出 $H$ 的方差的一个单一、通用的表达式，记为 $Var(H)$。你的表达式必须用 $n$、$p_1$ 和 $p_2$ 来表示，并且必须对任何正整数 $n$（无论 $n$ 是奇数还是偶数）都有效。", "solution": "设 $X_i$ 为第 $i$ 次射击命中的指示随机变量，即如果第 $i$ 次射击命中，则 $X_i=1$，否则为 $0$。根据题意，当 $i$ 为奇数时，$\\mathbb{P}(X_i=1)=p_1$；当 $i$ 为偶数时，$\\mathbb{P}(X_i=1)=p_2$。所有射击都是独立的。\n\n总命中次数为 $H = \\sum_{i=1}^{n} X_i$。\n\n由于各次射击是独立的，和的方差等于各次射击方差的和：\n$$\n\\text{Var}(H) = \\text{Var}\\left(\\sum_{i=1}^{n} X_i\\right) = \\sum_{i=1}^{n} \\text{Var}(X_i)\n$$\n单个伯努利试验的方差为 $\\text{Var}(X_i) = p(1-p)$。在我们的例子中，奇数次射击的方差是 $p_1(1-p_1)$，偶数次射击的方差是 $p_2(1-p_2)$。\n\n在 $1$ 到 $n$ 的整数中，有 $\\lceil \\frac{n}{2} \\rceil$ 个奇数和 $\\lfloor \\frac{n}{2} \\rfloor$ 个偶数。\n\n因此，总方差为所有单个方差之和：\n$$\n\\text{Var}(H) = \\left\\lceil \\frac{n}{2} \\right\\rceil p_1(1-p_1) + \\left\\lfloor \\frac{n}{2} \\right\\rfloor p_2(1-p_2)\n$$\n这个表达式对任何正整数 $n$ 都成立。", "answer": "$$\\boxed{\\left\\lceil \\frac{n}{2} \\right\\rceil p_{1}\\left(1-p_{1}\\right)+\\left\\lfloor \\frac{n}{2} \\right\\rfloor p_{2}\\left(1-p_{2}\\right)}$$", "id": "1390626"}, {"introduction": "最后，让我们通过一个结合了概率论和优化思想的挑战性问题来提升认知。这个问题将方差视为一个可以被策略性地控制和优化的目标，而不是一个被动计算的静态值。通过分析在固定“攻击资源”总量 $C = \\sum p_i$ 的约束下，如何分配各目标的成功概率 $p_i$ 以最大化或最小化结果的不确定性（方差），你将获得关于风险分配策略如何影响系统整体可预测性的深刻洞见 [@problem_id:1390664]。", "problem": "一家网络安全公司正在分析一个对手的策略行为，该对手的目标是一个由 $N$ 台相同且独立的服务器组成的网络。对手可以分配资源攻击每台服务器，导致成功入侵服务器 $i$ 的概率为 $p_i$，其中 $i = 1, \\dots, N$。每个概率 $p_i$ 可以是区间 $[0, 1]$ 内的任何实数。\n\n对手的行动受限于一个严格的“攻击潜力”约束，即所有单个成功概率之和为一个固定常数 $C$。也就是说，$\\sum_{i=1}^N p_i = C$。公司假设对手是一个理性代理人，它会选择概率集 $\\{p_i\\}_{i=1}^N$ 以实现特定目标。\n\n设随机变量 $S$ 表示在一次攻击中被入侵的服务器总数。该公司希望了解被入侵服务器数量的全部不可预测性范围。为此，他们对两种极端的对手策略进行建模：一种是最大化 $S$ 的方差 $\\text{Var}(S)$，另一种是最小化该方差。\n\n对于一个有 $N=10$ 台服务器且总攻击潜力为 $C=4.1$ 的系统，确定比率 $\\mathcal{R} = \\frac{V_{\\max}}{V_{\\min}}$，其中 $V_{\\max}$ 是在所有 $\\{p_i\\}$ 的有效选择下 $S$ 的最大可能方差，而 $V_{\\min}$ 是 $S$ 的最小可能方差。\n\n将最终答案表示为一个实数，并四舍五入到四位有效数字。", "solution": "令 $X_{i}$ 为服务器 $i$ 被入侵的指示变量，因此 $X_{i}\\sim\\text{Bernoulli}(p_{i})$，且对于 $i=1,\\dots,N$ 相互独立。那么\n$$\nS=\\sum_{i=1}^{N}X_{i},\\quad \\mathbb{E}[S]=\\sum_{i=1}^{N}p_{i}=C,\n$$\n并且，根据独立性，\n$$\n\\text{Var}(S)=\\sum_{i=1}^{N}\\text{Var}(X_{i})=\\sum_{i=1}^{N}p_{i}(1-p_{i})=\\sum_{i=1}^{N}p_{i}-\\sum_{i=1}^{N}p_{i}^{2}=C-\\sum_{i=1}^{N}p_{i}^{2}.\n$$\n因此，在约束条件 $0\\leq p_{i}\\leq 1$ 和 $\\sum_{i=1}^{N}p_{i}=C$ 下，最大化 $\\text{Var}(S)$ 等价于最小化 $\\sum_{i=1}^{N}p_{i}^{2}$，而最小化 $\\text{Var}(S)$ 等价于在相同约束条件下最大化 $\\sum_{i=1}^{N}p_{i}^{2}$。\n\n因为函数 $x\\mapsto x^{2}$ 是凸函数，根据 Jensen 不等式（或柯西-施瓦茨不等式）可得\n$$\n\\sum_{i=1}^{N}p_{i}^{2}\\geq N\\left(\\frac{1}{N}\\sum_{i=1}^{N}p_{i}\\right)^{2}=\\frac{C^{2}}{N},\n$$\n当且仅当对所有 $i$ 都有 $p_{i}=C/N$ 时等号成立，前提是 $C/N\\in[0,1]$。在此，$N=10$ 且 $C=4.1$ 给出 $C/N=0.41\\in[0,1]$，因此该界是可行的。所以，\n$$\nV_{\\max}=C-\\frac{C^{2}}{N}.\n$$\n\n要在 $0\\leq p_{i}\\leq 1$ 和固定总和 $C$ 的约束下最大化 $\\sum_{i=1}^{N}p_{i}^{2}$，根据凸性，极值出现在将尽可能多的 $p_{i}$ 推向边界值 $1$，一个 $p_i$ 为余项 $r\\in[0,1)$，而其余所有 $p_i$ 均为 $0$ 的情况。令 $k=\\lfloor C\\rfloor$ 且 $r=C-k\\in[0,1)$。那么，使和最大化的配置是 $k$ 个条目等于 $1$，一个条目等于 $r$，以及 $N-k-1$ 个条目等于 $0$。因此\n$$\n\\sum_{i=1}^{N}p_{i}^{2}=k\\cdot 1^{2}+r^{2}=k+r^{2},\n$$\n从而\n$$\nV_{\\min}=C-(k+r^{2})=(k+r)-(k+r^{2})=r-r^{2}.\n$$\n\n对于 $N=10$ 和 $C=4.1$，我们有 $k=\\lfloor 4.1\\rfloor=4$ 和 $r=0.1$。因此，\n$$\nV_{\\max}=4.1-\\frac{(4.1)^{2}}{10}=4.1-\\frac{16.81}{10}=4.1-1.681=2.419,\n$$\n$$\nV_{\\min}=0.1-0.1^{2}=0.1-0.01=0.09.\n$$\n所求的比率为\n$$\n\\mathcal{R}=\\frac{V_{\\max}}{V_{\\min}}=\\frac{2.419}{0.09}=\\frac{2419}{90}\\approx 26.877777\\ldots\n$$\n四舍五入到四位有效数字，结果是 $26.88$。", "answer": "$$\\boxed{26.88}$$", "id": "1390664"}]}