{"hands_on_practices": [{"introduction": "在许多实际应用中，我们常常关心多个随机变量的和或差的分布，例如计算总收益或净利润。这个练习将通过一个直观的商业情景，带你实践求两个独立随机变量之差的概率密度函数。你将学习并应用卷积法，这是处理此类问题的基本且强大的工具 [@problem_id:1408043]。", "problem": "一家金融科技初创公司分析其财务表现。其月收入 $R$ 和月运营成本 $C$ 被建模为独立的随机变量。根据历史数据和市场分析，发现 $R$ 和 $C$ 都在区间 $[10, 20]$ 上均匀分布，单位为千美元。\n\n月利润定义为收入与成本之差，即 $P = R - C$。\n\n确定月利润 $P$ 的概率密度函数 (PDF)，$f_P(p)$。该函数应对所有实数 $p$ 有定义。", "solution": "设 $R$ 和 $C$ 是独立的，且 $R \\sim \\text{Uniform}(10,20)$，$C \\sim \\text{Uniform}(10,20)$。它们的概率密度函数为\n$$\nf_{R}(r)=\\begin{cases}\n\\frac{1}{10}, & 10 \\leq r \\leq 20,\\\\\n0, & \\text{otherwise},\n\\end{cases}\n\\qquad\nf_{C}(c)=\\begin{cases}\n\\frac{1}{10}, & 10 \\leq c \\leq 20,\\\\\n0, & \\text{otherwise}.\n\\end{cases}\n$$\n定义利润 $P=R-C$。对于独立的随机变量，其差的密度由卷积公式给出\n$$\nf_{P}(p)=\\int_{-\\infty}^{\\infty} f_{R}(p+c)\\,f_{C}(c)\\,dc.\n$$\n代入均匀分布的密度函数，当 $10 \\leq c \\leq 20$ 和 $10 \\leq p+c \\leq 20$ 同时成立时，被积函数恰好等于 $\\frac{1}{100}$，否则为 $0$。这等价于我们需要找到满足 $10 \\le c \\le 20$ 和 $10-p \\le c \\le 20-p$ 的 $c$ 的区间长度。换言之，我们需要计算两个区间 $[10,20]$ 和 $[10-p, 20-p]$ 的交集长度。\n$$\nf_{P}(p)=\\frac{1}{100}\\,\\lambda\\Big(\\,[10,20]\\cap[10-p,\\,20-p]\\,\\Big),\n$$\n其中 $\\lambda(\\cdot)$ 表示区间长度。利润 $P$ 的可能取值范围是 $10-20=-10$ 到 $20-10=10$，即 $p \\in [-10, 10]$。\n对于固定的 $p$，交集的长度为\n$$\nL(p)=\\max\\!\\left(0,\\,\\min(20,\\,20-p)-\\max(10,\\,10-p)\\right).\n$$\n我们分段计算 $L(p)$。\n如果 $p \\in [0,10]$，则 $\\min(20,20-p)=20-p$ 且 $\\max(10,10-p)=10$，因此 $L(p)=(20-p)-10=10-p$。\n如果 $p \\in [-10,0]$，则 $\\min(20,20-p)=20$ 且 $\\max(10,10-p)=10-p$，因此 $L(p)=20-(10-p)=10+p$。\n如果 $|p|>10$，则区间不重叠，此时 $L(p)=0$。\n综合这些情况，对于 $|p|\\leq 10$，我们有 $L(p)=10-|p|$，否则 $L(p)=0$。因此\n$$\nf_{P}(p)=\\begin{cases}\n\\frac{10-|p|}{100}, & -10 \\leq p \\leq 10,\\\\\n0, & \\text{otherwise}.\n\\end{cases}\n$$\n作为检验，该密度函数的图像是一个底为 $20$、高为 $\\frac{10}{100}$ 的三角形，其面积为 $\\frac{1}{2} \\cdot 20 \\cdot \\frac{10}{100} = 1$，这证实了它是一个有效的密度函数。", "answer": "$$\\boxed{f_{P}(p)=\\begin{cases}\\frac{10-|p|}{100}, & -10 \\leq p \\leq 10,\\\\[4pt] 0, & \\text{otherwise}.\\end{cases}}$$", "id": "1408043"}, {"introduction": "当变量之间的关系不是简单的线性和时，我们需要更通用的方法。这个练习探讨了两个随机变量的乘积——几何平均数的分布，这是一个在工程和金融领域常见的非线性变换。你将通过先计算累积分布函数（CDF），然后求导得到概率密度函数（PDF）的方法，来掌握这一重要技巧 [@problem_id:1408051]。", "problem": "在一个半导体制造厂中，生产特定材料的矩形晶圆。由于沉积过程中的微观波动，任何给定晶圆的边长都是随机变量。设矩形晶圆的边长用 $X$ 和 $Y$ 表示。实验数据表明，$X$ 和 $Y$ 是独立的随机变量，并且都服从区间 $[0, a]$ 上的均匀分布，其中 $a$ 是由制造设备决定的最大可能边长。\n\n这些晶圆的一个关键性能特征由一个称为“特征长度”的量决定，该量定义为边长的几何平均值，$G = \\sqrt{XY}$。你的任务是确定这个特征长度 $G$ 的概率密度函数 (PDF)。\n\n请以变量 $g$ 和参数 $a$ 的形式，提供一个在其定义域的非零部分有效的单一闭式解析表达式作为所得的 PDF。", "solution": "设 $X$ 和 $Y$ 独立同分布于 $\\mathrm{Uniform}(0,a)$。它们的联合密度函数为 $f_{X,Y}(x,y)=\\frac{1}{a^{2}}$（当 $0\\leq x\\leq a$ 且 $0\\leq y\\leq a$ 时），其他情况下为零。定义 $G=\\sqrt{XY}$。对于 $g\\geq 0$， $G$ 的累积分布函数为\n$$\nF_{G}(g)=\\mathbb{P}(G\\leq g)=\\mathbb{P}(\\sqrt{XY}\\leq g)=\\mathbb{P}(XY\\leq g^{2})=\\frac{1}{a^{2}}\\iint_{[0,a]^{2}\\cap\\{xy\\leq g^{2}\\}} dx\\,dy.\n$$\n特征长度 $G$ 的取值范围是 $[0,a]$。\n对于 $0 < g < a$，我们需要计算由 $0 \\le x \\le a$, $0 \\le y \\le a$ 和 $xy \\le g^2$ 定义的区域的面积。该区域的面积可以通过积分计算。我们将正方形区域内满足 $xy \\le g^2$ 的部分沿 x 轴积分。曲线 $y=g^2/x$ 与直线 $y=a$ 的交点为 $x=g^2/a$。\n$$\n\\text{面积} = \\int_0^{g^2/a} a \\,dx + \\int_{g^2/a}^a \\frac{g^2}{x} \\,dx\n$$\n计算积分为：\n$$\n\\text{面积} = a\\left(\\frac{g^2}{a}\\right) + g^2[\\ln x]_{g^2/a}^a = g^2 + g^2(\\ln a - \\ln(g^2/a)) = g^2 + g^2(\\ln a - (2\\ln g - \\ln a)) = g^2 + 2g^2(\\ln a - \\ln g) = g^2(1+2\\ln(a/g))\n$$\n因此，累积分布函数为：\n$$\nF_{G}(g) = \\frac{\\text{面积}}{a^2} = \\frac{g^2}{a^2}(1+2\\ln(a/g))\n$$\n$G$ 的概率密度函数 (PDF) 是 CDF 的导数：\n$$\nf_{G}(g) = \\frac{d}{dg}F_{G}(g) = \\frac{1}{a^2} \\frac{d}{dg}\\left[g^2(1+2\\ln(a/g))\\right]\n$$\n使用乘法法则求导：\n$$\nf_{G}(g) = \\frac{1}{a^2}\\left[2g(1+2\\ln(a/g)) + g^2\\left(2 \\cdot \\frac{g}{a} \\cdot \\left(-\\frac{a}{g^2}\\right)\\right)\\right] = \\frac{1}{a^2}\\left[2g(1+2\\ln(a/g)) + g^2\\left(-\\frac{2}{g}\\right)\\right]\n$$\n$$\nf_{G}(g) = \\frac{1}{a^2}\\left[2g + 4g\\ln(a/g) - 2g\\right] = \\frac{4g}{a^2}\\ln\\left(\\frac{a}{g}\\right)\n$$\n这个表达式在 $0 < g < a$ 时有效。", "answer": "$$\\boxed{\\frac{4g}{a^{2}}\\ln\\left(\\frac{a}{g}\\right)}$$", "id": "1408051"}, {"introduction": "面对涉及多个变量的复杂函数，直接使用卷积或CDF方法可能变得非常棘手。这个练习将引导你探索一个更高级但极其强大的工具：特征函数法。通过求解一个由四个标准正态变量构成的矩阵行列式的分布，你将见证特征函数如何巧妙地将复杂的卷积问题转化为简单的乘法运算，从而揭示一个优美且出人意料的结果 [@problem_id:1408028]。", "problem": "设 $X_1, X_2, X_3$ 和 $X_4$ 是四个独立同分布的随机变量，均服从均值为0、方差为1的标准正态分布。根据表达式 $D = X_1 X_4 - X_2 X_3$ 从这些变量构造一个新的随机变量 $D$。求 $D$ 的概率密度函数 (PDF)，我们将其记为 $f_D(d)$。你的最终答案应为一个关于变量 $d$ 的表达式。", "solution": "设随机变量 $D$ 定义为 $D = X_1 X_4 - X_2 X_3$，其中 $X_i \\sim \\mathcal{N}(0, 1)$ 对于 $i=1, 2, 3, 4$ 是独立同分布 (i.i.d.) 的随机变量。\n\n为了求出 $D$ 的概率密度函数 (PDF)，我们可以使用特征函数法。我们定义两个中间随机变量，$Y_1 = X_1 X_4$ 和 $Y_2 = X_2 X_3$。由于变量集 $\\{X_1, X_4\\}$ 与变量集 $\\{X_2, X_3\\}$ 相互独立，且它们的分布相同，所以随机变量 $Y_1$ 和 $Y_2$ 是独立同分布的。我们感兴趣的变量是 $D = Y_1 - Y_2$。\n\n$D$ 的特征函数由 $\\phi_D(t) = E[\\exp(itD)]$ 给出。利用 $Y_1$ 和 $Y_2$ 的独立性，我们可以写出：\n$$ \\phi_D(t) = E[\\exp(it(Y_1 - Y_2))] = E[\\exp(itY_1)] E[\\exp(-itY_2)] = \\phi_{Y_1}(t) \\phi_{Y_2}(-t) $$\n由于 $Y_1$ 和 $Y_2$ 是独立同分布的，它们的特征函数相同，即 $\\phi_{Y_1}(t) = \\phi_{Y_2}(t)$。此外，由于 $Y_1$ 的分布是对称的（因为 $X_1, X_4$ 的分布是对称的），其特征函数是实数且为偶函数，所以 $\\phi_{Y_1}(-t) = \\phi_{Y_1}(t)$。因此，我们有：\n$$ \\phi_D(t) = \\phi_{Y_1}(t) \\phi_{Y_1}(t) = (\\phi_{Y_1}(t))^2 $$\n我们的第一步是计算 $Y_1 = X_1 X_4$ 的特征函数。标准正态变量 $X$ 的 PDF 是 $f_X(x) = \\frac{1}{\\sqrt{2\\pi}} \\exp(-x^2/2)$。\n$$ \\phi_{Y_1}(t) = E[\\exp(itX_1 X_4)] = \\int_{-\\infty}^{\\infty} \\int_{-\\infty}^{\\infty} \\exp(itx_1 x_4) f_{X_1}(x_1) f_{X_4}(x_4) dx_1 dx_4 $$\n$$ \\phi_{Y_1}(t) = \\frac{1}{2\\pi} \\int_{-\\infty}^{\\infty} \\left( \\int_{-\\infty}^{\\infty} \\exp(i(tx_4)x_1) \\exp\\left(-\\frac{x_1^2}{2}\\right) dx_1 \\right) \\exp\\left(-\\frac{x_4^2}{2}\\right) dx_4 $$\n内部的积分是标准正态分布的特征函数 $\\phi_{X_1}(k) = \\exp(-k^2/2)$ 在 $k=tx_4$ 处的值乘以 $\\sqrt{2\\pi}$。\n$$ \\int_{-\\infty}^{\\infty} \\exp(i(tx_4)x_1) \\exp\\left(-\\frac{x_1^2}{2}\\right) dx_1 = \\sqrt{2\\pi} \\phi_{X_1}(tx_4) = \\sqrt{2\\pi} \\exp\\left(-\\frac{(tx_4)^2}{2}\\right) $$\n现在，我们将此结果代回到 $\\phi_{Y_1}(t)$ 的表达式中：\n$$ \\phi_{Y_1}(t) = \\frac{1}{2\\pi} \\int_{-\\infty}^{\\infty} \\left( \\sqrt{2\\pi} \\exp\\left(-\\frac{t^2 x_4^2}{2}\\right) \\right) \\exp\\left(-\\frac{x_4^2}{2}\\right) dx_4 $$\n$$ \\phi_{Y_1}(t) = \\frac{1}{\\sqrt{2\\pi}} \\int_{-\\infty}^{\\infty} \\exp\\left(-\\frac{x_4^2}{2} (1+t^2)\\right) dx_4 $$\n这是另一个高斯积分。设 $\\sigma_{\\text{eff}}^2 = (1+t^2)^{-1}$。该积分的形式为 $\\int_{-\\infty}^{\\infty} \\exp(-x^2/(2\\sigma_{\\text{eff}}^2)) dx = \\sqrt{2\\pi \\sigma_{\\text{eff}}^2} = \\sqrt{2\\pi} (1+t^2)^{-1/2}$。\n$$ \\phi_{Y_1}(t) = \\frac{1}{\\sqrt{2\\pi}} \\left( \\sqrt{2\\pi} (1+t^2)^{-1/2} \\right) = \\frac{1}{\\sqrt{1+t^2}} $$\n现在我们可以计算 $D$ 的特征函数：\n$$ \\phi_D(t) = \\left( \\frac{1}{\\sqrt{1+t^2}} \\right)^2 = \\frac{1}{1+t^2} $$\n最后一步是找到特征函数为 $\\phi_D(t) = \\frac{1}{1+t^2}$ 的概率密度函数 $f_D(d)$。我们可以通过傅里叶逆变换来做到这一点，或者直接识别这个众所周知的特征函数。它对应于位置参数 $\\mu=0$ 和尺度参数 $b=1$ 的拉普拉斯分布。拉普拉斯分布的一般 PDF 为 $f(x; \\mu, b) = \\frac{1}{2b} \\exp\\left(-\\frac{|x-\\mu|}{b}\\right)$。\n在我们的情况下，$\\mu=0$ 且 $b=1$，因此 $D$ 的 PDF 是：\n$$ f_D(d) = \\frac{1}{2} \\exp(-|d|) $$", "answer": "$$\\boxed{\\frac{1}{2} \\exp(-|d|)}$$", "id": "1408028"}]}