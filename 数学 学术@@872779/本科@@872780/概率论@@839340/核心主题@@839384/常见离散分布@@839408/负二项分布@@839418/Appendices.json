{"hands_on_practices": [{"introduction": "我们从负二项分布最基本的构成部分开始：计算一个特定事件的概率。这个练习 [@problem_id:12863] 要求你应用概率质量函数（PMF）来求解第 $r$ 次成功恰好发生在特定试验中的可能性。掌握这一核心计算是自信地为等待时间场景建模的第一步。", "problem": "考虑一系列独立的伯努利试验，每次试验可能有两个结果之一：‘成功’或‘失败’。在任何给定的试验中，成功的概率是恒定的，记为 $p$，而失败的概率是 $1-p$。\n\n令随机变量 $X$ 为第 $r$ 次成功发生的试验次数。在本问题中，我们感兴趣的是求第3次成功发生在第10次试验上的概率。\n\n推导当 $r=3$ 次成功时，概率 $P(X=10)$ 的表达式。您的最终答案应该是一个用成功概率 $p$ 表示的封闭形式表达式。", "solution": "我们用负二项分布来模拟在成功概率为 $p$ 的独立伯努利试验中，获得 $r$ 次成功所需的试验次数 $X$。第 $r$ 次成功发生在第 $n$ 次试验上的概率是\n$$\nP(X=n)\\;=\\;\\binom{n-1}{r-1}\\,p^r\\,(1-p)^{\\,n-r}\\,.\n$$\n当 $r=3$ 且 $n=10$ 时，这给出\n$$\nP(X=10)\n=\\binom{10-1}{3-1}\\,p^3\\,(1-p)^{10-3}\n=\\binom{9}{2}\\,p^3\\,(1-p)^7.\n$$\n由于\n$$\n\\binom{9}{2}=\\frac{9\\cdot8}{2}=36,\n$$\n我们得到\n$$\nP(X=10)=36\\,p^3\\,(1-p)^7.\n$$", "answer": "$$\\boxed{36\\,p^3\\,(1-p)^7}$$", "id": "12863"}, {"introduction": "在学会计算单个概率之后，我们将更进一步，理解分布的整体特征。这个问题 [@problem_id:1373790] 专注于计算标准差，它量化了随机过程结果的可变性或“离散程度”。你将看到分布的参数 $r$ 和 $p$ 如何直接影响预测所需试验总数的不确定性。", "problem": "一个数据科学家团队正在评估一个旨在预测用户流失的新机器学习模型的性能。该模型在一系列用户数据流上进行顺序测试。对单个用户数据的每次测试都是一次独立的试验。如果模型错误地将一个非流失用户预测为流失，则记录一次“严重故障”，这一事件发生的恒定概率为 $p = 0.15$。为了充分评估模型在最坏情况下的性能，测试协议要求测试过程持续进行，直到观察到恰好 $r=60$ 次严重故障为止。\n\n计算完成此协议所需测试的用户总数的标准差。将您的最终答案四舍五入到四位有效数字。", "solution": "设 $N$ 表示直到观察到恰好 $r=60$ 次严重故障为止所测试的用户总数。每次用户测试都是一次独立的伯努利试验，发生严重故障的概率为 $p=0.15$。为获得 $r$ 次此类事件所需的试验次数遵循参数为 $(r,p)$ 的负二项分布，该分布计算的是为达到 $r$ 次成功（此处指严重故障）所需的总试验次数。\n\n对于 $N \\sim \\text{NegBin}(r,p)$（为达到 $r$ 次成功，成功概率为 $p$ 的试验次数），其均值和方差为\n$$\n\\mathbb{E}[N] = \\frac{r}{p}, \\qquad \\operatorname{Var}(N) = \\frac{r(1-p)}{p^{2}}.\n$$\n因此，标准差为\n$$\n\\operatorname{SD}(N) = \\sqrt{\\operatorname{Var}(N)} = \\frac{\\sqrt{r(1-p)}}{p}.\n$$\n\n代入 $r=60$ 和 $p=0.15$ 可得\n$$\n\\operatorname{SD}(N) = \\frac{\\sqrt{60(1-0.15)}}{0.15} = \\frac{\\sqrt{51}}{0.15}.\n$$\n数值计算如下，\n$$\n\\sqrt{51} \\approx 7.141428428,\\quad \\frac{\\sqrt{51}}{0.15} \\approx 47.60952286.\n$$\n四舍五入到四位有效数字，结果为 $47.61$。", "answer": "$$\\boxed{47.61}$$", "id": "1373790"}, {"introduction": "当我们用统计模型来解读真实世界的数据时，其真正的威力才会显现。在最后一个练习中 [@problem_id:1939495]，你将扮演数据科学家的角色，利用观测到的均值和方差等统计量来估计一个过程的底层参数。这种被称为矩估计的方法不仅连接了理论与实践，还引出了一个重要的负二项分布的替代表述形式——即计数失败次数的定义。", "problem": "一个数据科学家团队正在为一个新的社交媒体平台的用户参与度建模。他们感兴趣的是，用户在达到一定数量的“成功”帖子之前所发布的帖子数量。“成功”帖子被定义为获得高度社区互动的帖子。\n\n该团队使用负二项分布来对此过程建模。令随机变量 $X$ 表示用户在达到 $r$ 个成功帖子的目标之前所创建的“不成功”帖子的数量。任何给定帖子成功的概率为 $p$，且每次发帖都是一次独立的试验。\n\n从一个庞大的用户历史数据集中，该团队计算了不成功帖子数量的样本均值和方差。估计的均值为 $E[X] = 10$，估计的方差为 $Var(X) = 20$。\n\n基于这些经验估计，确定模拟此过程的负二项分布的参数：成功帖子的目标数量 $r$ 和单次帖子成功的概率 $p$。您的答案应为有序对 $(r, p)$。", "solution": "令 $X$ 表示在成功概率为 $p$ 的独立伯努利试验中，在取得 $r$ 次成功之前失败的次数。在这种负二项分布的参数化中，$X$ 可以写成 $r$ 个独立的几何随机变量之和（每个变量计算一次成功之前的失败次数），每个变量的均值为 $(1-p)/p$，方差为 $(1-p)/p^{2}$。因此，\n$$\nE[X]=r\\frac{1-p}{p},\\qquad \\operatorname{Var}(X)=r\\frac{1-p}{p^{2}}.\n$$\n令 $\\mu=E[X]$ 且 $\\sigma^{2}=\\operatorname{Var}(X)$。则\n$$\n\\frac{\\sigma^{2}}{\\mu}=\\frac{r(1-p)/p^{2}}{r(1-p)/p}=\\frac{1}{p}\\quad\\Longrightarrow\\quad p=\\frac{\\mu}{\\sigma^{2}}.\n$$\n接下来，从均值中求解 $r$：\n$$\n\\mu=r\\frac{1-p}{p}\\quad\\Longrightarrow\\quad r=\\frac{\\mu p}{1-p}.\n$$\n代入 $p=\\mu/\\sigma^{2}$：\n$$\nr=\\frac{\\mu\\left(\\frac{\\mu}{\\sigma^{2}}\\right)}{1-\\frac{\\mu}{\\sigma^{2}}}\n=\\frac{\\mu^{2}}{\\sigma^{2}-\\mu}.\n$$\n根据经验估计值 $\\mu=10$ 和 $\\sigma^{2}=20$，我们得到\n$$\np=\\frac{10}{20}=\\frac{1}{2},\\qquad r=\\frac{10^{2}}{20-10}=\\frac{100}{10}=10.\n$$\n因此，参数为 $(r,p)=(10,\\frac{1}{2})$。", "answer": "$$\\boxed{(10, \\frac{1}{2})}$$", "id": "1939495"}]}