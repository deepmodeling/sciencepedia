{"hands_on_practices": [{"introduction": "本练习在天气预报这一熟悉的场景中提供了贝叶斯定理的一个实际应用。通过分析预报的准确性，您将学会区分“预报为雨时下雨”和“下雨时预报为雨”这两个不同的概念。此问题演示了如何用新证据（天气预报）来更新先验信念（下雨的一般可能性），从而得到更准确的后验概率[@problem_id:357]。", "problem": "一个本地气象站正在评估其新预测模型的准确性。设 $R$ 为某一天下雨的事件，设 $F$ 为模型预测该天会下雨的事件。\n\n该气象站收集了历史数据并确定了以下概率：\n1.  任意一天下雨的无条件概率为 $P(R) = p_r$。\n2.  在实际下雨的情况下，模型正确预测下雨的概率为 $P(F|R) = p_t$。这代表真阳性率。\n3.  在实际不下雨的情况下，模型错误预测下雨的概率为 $P(F|R^c) = p_f$，其中 $R^c$ 是不下雨的事件。这代表假阳性率。\n\n使用这些概率，推导在模型预测下雨的情况下，实际会下雨的概率的表达式，即 $P(R|F)$。请用 $p_r$、$p_t$ 和 $p_f$ 表示你的答案。", "solution": "我们要求解 $P(R\\mid F)$。根据贝叶斯定理，\n$$\nP(R\\mid F)=\\frac{P(F\\mid R)\\,P(R)}{P(F)}.\n$$\n预测下雨的总概率是\n$$\nP(F)=P(F\\mid R)\\,P(R)+P(F\\mid R^c)\\,P(R^c).\n$$\n代入 $P(R)=p_r$、$P(F\\mid R)=p_t$、$P(F\\mid R^c)=p_f$ 和 $P(R^c)=1-p_r$ 可得\n$$\nP(F)=p_t\\,p_r+p_f\\,(1-p_r).\n$$\n因此\n$$\nP(R\\mid F)\n=\\frac{p_t\\,p_r}{p_t\\,p_r+p_f\\,(1-p_r)}.\n$$", "answer": "$$\\boxed{\\frac{p_t\\,p_r}{p_t\\,p_r+p_f\\,(1-p_r)}}$$", "id": "357"}, {"introduction": "经典的悖论常常挑战我们的概率直觉，“贝特朗箱子悖论”就是一个典型的例子。这个问题要求严格应用贝叶斯定理，以找到一个可能不那么直观的解决方案[@problem_id:691205]。通过解决这个问题，您将能增强自己仔细定义事件和应用条件概率规则的能力，并揭示形式化方法如何解决看似矛盾的直觉性答案。", "problem": "考虑经典贝特朗盒子悖论的一个变体。现有三个盒子，从外部无法区分。\n- 盒子1包含两枚金币 (GG)。\n- 盒子2包含两枚银币 (SS)。\n- 盒子3包含一枚金币和一枚银币 (GS)。\n\n与经典悖论不同，这些盒子不是以相等的概率被选择的。选择GG盒子的先验概率为 $p_G$，选择SS盒子的先验概率为 $p_S$，选择GS盒子的先验概率为 $p_M$。这些概率是已知的正常数，且总和为一：$p_G + p_S + p_M = 1$。\n\n进行一个实验，首先根据这些先验概率选择一个盒子，然后从所选盒子中随机均匀地抽取一枚硬币。经检验，抽出的硬币是金币。\n\n在观察到第一枚抽出的硬币是金币的情况下，推导所选盒子中*另一枚*硬币也是金币的后验概率的闭式解析表达式。用先验概率 $p_G$ 和 $p_M$ 表示你的答案。", "solution": "我们用事件 $B_{GG},B_{GS},B_{SS}$ 分别表示选择相应盒子的事件，用 $D$ 表示抽到金币的事件。先验概率和条件概率如下\n$$P(B_{GG})=p_G,\\quad P(B_{GS})=p_M,\\quad P(B_{SS})=p_S,$$\n$$P(D\\mid B_{GG})=1,\\quad P(D\\mid B_{GS})=\\frac{1}{2},\\quad P(D\\mid B_{SS})=0.$$\n\n抽到金币的总概率为\n$$P(D)=p_G\\cdot1 + p_M\\cdot\\frac{1}{2} + p_S\\cdot0 = p_G + \\frac{1}{2}p_M.$$\n\n根据贝叶斯定理，\n$$P(B_{GG}\\mid D)=\\frac{P(D\\mid B_{GG})\\,P(B_{GG})}{P(D)} = \\frac{p_G}{p_G + \\frac{1}{2}p_M}.$$\n\n因为只有 $GG$ 盒子能确保另一枚硬币也是金币，所以我们所求的后验概率为\n$$P(\\text{另一枚硬币是金币}\\mid D)=P(B_{GG}\\mid D)=\\frac{p_G}{p_G + \\frac{1}{2}p_M}.$$", "answer": "$$\\boxed{\\frac{p_G}{p_G + \\frac{1}{2}p_M}}$$", "id": "691205"}, {"introduction": "这个高级问题是经典“蒙提霍尔问题”的一个变种，它探讨了条件概率中深刻的微妙之处。它表明，信息被揭示的*方式*与信息本身同样关键[@problem_id:691467]。通过分析典狱长遵循的特定协议，您将看到观察过程的结构如何直接影响最终的后验概率，这是复杂贝叶斯分析中的一个核心洞见。", "problem": "在一个高度设防的监狱里，有 $N$ 名囚犯，编号为 $1, 2, \\ldots, N$，其中 $N \\ge 3$。典狱长决定赦免恰好一名囚犯，该囚犯是随机均匀地选出的。因此，每名囚犯被赦免的先验概率为 $1/N$。\n\n一位好奇的囚犯，1号囚犯，问一个知道被赦免者身份的狱卒，请他从集合 $\\{2, 3, \\ldots, N\\}$ 中说出一个肯定会被处决的囚犯的名字。狱卒是诚实的，并且必须回答。\n\n狱卒选择说出哪位囚犯名字的预定规则取决于谁被赦免：\n1.  如果1号囚犯被赦免，狱卒的选择受其个人偏好影响。他以概率 $\\alpha$ 说出2号囚犯的名字，其中 $0  \\alpha  1$。剩余的概率 $1-\\alpha$ 均匀分布在集合 $\\{3, 4, \\ldots, N\\}$ 中的囚犯之间。\n2.  如果囚犯 $k \\in \\{2, 3, \\ldots, N\\}$ 被赦免，狱卒禁止说出囚犯 $k$ 的名字。他必须从其他候选人的集合 $\\{2, 3, \\ldots, N\\} \\setminus \\{k\\}$ 中选择一个囚犯的名字。狱卒从这 $N-2$ 名可选囚犯中随机均匀地做出选择。\n\n在1号囚犯提出请求后，狱卒声明：“2号囚犯将被处决。”\n\n推导在给定狱卒陈述的条件下，1号囚犯被赦免的后验概率的符号表达式。你的答案应该用偏好参数 $\\alpha$ 来表示。", "solution": "我们要求解 $P(\\text{被赦免}=1\\mid\\text{狱卒说“2”})$。根据贝叶斯定理，\n$$P(1\\mid2)=\\frac{P(2\\mid1)\\,P(1)}{P(2)}\\,. $$\n\n1. 先验概率：$P(1)=1/N$。\n2. 如果1号被赦免，似然为：$P(2\\mid1)=\\alpha$。\n3. 对于 $k\\in\\{2,\\dots,N\\}$，$P(k)=1/N$。\n   – 如果 $k=2$，$P(2\\mid2)=0$。\n   – 如果 $k\\ge3$，狱卒从 $N-2$ 人中均匀选择，因此 $P(2\\mid k)=1/(N-2)$。\n4. 全概率\n$$P(2)=P(2\\mid1)P(1)+\\sum_{k=2}^N P(2\\mid k)P(k) =\\frac{\\alpha}{N}+\\sum_{k=3}^N\\frac{1}{N}\\frac{1}{N-2} =\\frac{\\alpha+1}{N}\\,. $$\n5. 因此\n$$P(1\\mid2)\n=\\frac{\\frac{\\alpha}{N}}{\\frac{\\alpha+1}{N}}\n=\\frac{\\alpha}{\\alpha+1}\\,. $$", "answer": "$$\\boxed{\\frac{\\alpha}{\\alpha+1}}$$", "id": "691467"}]}