{"hands_on_practices": [{"introduction": "我们从一个基础的分配问题开始，它完美地展示了重复组合的核心思想，即“隔板法”。这个练习将帮助你掌握如何计算将不可区分的物品（如资本）放入可区分的容器（如基金）中，且允许某些容器为空的基本方法。这个练习[@problem_id:1349443]是学习更复杂计数问题的基石。", "problem": "一家风险投资公司的投资分析师负责将总计300,000美元分配到六个不同的新兴技术基金中。这六个基金分别是：量子计算基金、合成生物学基金、下一代电池基金、去中心化金融基金、太空探索基金和先进材料基金。根据公司的投资政策，资本必须以10,000美元的离散区块进行分配。只要分配的总金额恰好为300,000美元，任何数量的区块（包括零）都可以分配给六个基金中的任何一个。有多少种不同的分配策略是可能的？", "solution": "设$x_{1},x_{2},x_{3},x_{4},x_{5},x_{6}$分别表示分配给六个基金的规模为$10{,}000$美元的区块数量。每个$x_{i}$必须是非负整数，且总分配额恰好为$300{,}000$美元。由于每个区块是$10{,}000$美元，所以区块总数为\n$$\n\\frac{300{,}000}{10{,}000}=30.\n$$\n因此，该分配问题等价于计算以下方程的非负整数解的数量：\n$$\nx_{1}+x_{2}+x_{3}+x_{4}+x_{5}+x_{6}=30.\n$$\n根据隔板法（stars-and-bars theorem），方程$x_{1}+\\cdots+x_{k}=n$的非负整数解的个数为\n$$\n\\binom{n+k-1}{k-1}.\n$$\n这里$n=30$且$k=6$，因此分配策略的数量为\n$$\n\\binom{30+6-1}{6-1}=\\binom{35}{5}.\n$$\n计算得，\n$$\n\\binom{35}{5}=\\frac{35!}{5!\\,30!}=\\frac{35\\cdot 34\\cdot 33\\cdot 32\\cdot 31}{5\\cdot 4\\cdot 3\\cdot 2\\cdot 1}=324{,}632.\n$$\n因此，共有$\\binom{35}{5}=324{,}632$种不同的分配策略。", "answer": "$$\\boxed{324632}$$", "id": "1349443"}, {"introduction": "在掌握了基础模型后，我们来增加一个常见的现实约束：每个类别都必须至少分配到一个单位。通过这个系统管理员分配日志文件的练习[@problem_id:1356374]，你将学习如何通过巧妙的变量代换，将带有最小限制条件的问题转化回我们已经熟悉的基础“隔板法”模型来求解。这种方法在处理有最低要求的资源分配问题时非常实用。", "problem": "一位系统管理员正在配置一个由6台不同服务器组成的分布式文件存储系统。他们需要将22个相同的日志文件块分配到这些服务器上。为了冗余和负载均衡，分配方案要求每台服务器必须至少接收一个日志文件块。管理员有多少种不同的方式可以将这22个文件块分配到6台服务器上？", "solution": "我们需要计算将22个相同的块分配到6台不同的服务器，且每台服务器至少接收一个块的分配方法数。设 $y_{i}$ 表示分配给服务器 $i$ 的块数，其中 $i \\in \\{1,2,3,4,5,6\\}$。约束条件是\n$$\ny_{1}+y_{2}+y_{3}+y_{4}+y_{5}+y_{6}=22, \\quad y_{i} \\geq 1 \\text{ for all } i.\n$$\n通过设置 $x_{i}=y_{i}-1$ 引入非负变量，因此 $x_{i} \\geq 0$ 并且\n$$\nx_{1}+x_{2}+x_{3}+x_{4}+x_{5}+x_{6} = 22 - 6 = 16.\n$$\n方程 $x_{1}+\\cdots+x_{6}=16$ 的非负整数解的数量由隔板法公式给出：\n$$\n\\binom{16+6-1}{6-1}=\\binom{21}{5}.\n$$\n计算得，\n$$\n\\binom{21}{5}=\\frac{21 \\cdot 20 \\cdot 19 \\cdot 18 \\cdot 17}{5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1}=20349.\n$$\n因此，共有 $\\binom{21}{5}=20349$ 种有效的分配方式。", "answer": "$$\\boxed{20349}$$", "id": "1356374"}, {"introduction": "最后，让我们来挑战一种更复杂的约束——为每个容器的容量设置上限。这个关于在量子比特上分配逻辑门的问题[@problem_id:1349414]将引导你探索一种不同但同样巧妙的转换技巧。它不仅能解决上限问题，还能进一步加深你对组合计数中对称性与对偶思想的理解，展示了解决组合问题的灵活性。", "problem": "一个量子计算研究团队正在设计一种算法，该算法需要将总共 $G=15$ 个相同的单量子比特相位门施加到一个由 $Q=4$ 个可区分的量子比特组成的寄存器上。该算法的协议要求使用全部 $G$ 个门。由于门保真度限制和退相干效应的共同影响，实验装置施加了一个严格的硬件约束：在算法执行期间，任何单个量子比特所能承受的这种特定相位门数量不能超过 $L=5$ 个。\n\n假设这些门是相同的，而量子比特是可区分的，在遵守硬件约束的前提下，有多少种不同的方法可以将这 $G$ 个门分配给这 $Q$ 个量子比特？", "solution": "设 $x_{i}$ 表示施加到量子比特 $i$ 上的相位门数量，其中 $i \\in \\{1,2,3,4\\}$。约束条件是：门是相同的，必须使用全部 $G=15$ 个门，量子比特是可区分的，并且没有量子比特接收超过 $L=5$ 个门。这可以转化为以下有界整数组合问题：\n$$\nx_{1}+x_{2}+x_{3}+x_{4}=15,\\quad 0\\leq x_{i}\\leq 5 \\text{ for } i=1,2,3,4.\n$$\n引入非负松弛变量 $y_{i}=5-x_{i}\\geq 0$。对所有 $i$ 求和可得\n$$\n\\sum_{i=1}^{4} y_{i}=\\sum_{i=1}^{4} 5 - \\sum_{i=1}^{4} x_{i}=20-15=5.\n$$\n因此，问题等价于计算以下方程的非负整数解的数量：\n$$\ny_{1}+y_{2}+y_{3}+y_{4}=5.\n$$\n根据隔板法，此类解的数量为\n$$\n\\binom{5+4-1}{4-1}=\\binom{8}{3}=56.\n$$\n因此，在每个量子比特最多只能有 $5$ 个门的限制下，将 $15$ 个相同的门分配给 $4$ 个可区分的量子比特，共有 $56$ 种不同的分配方式。", "answer": "$$\\boxed{56}$$", "id": "1349414"}]}