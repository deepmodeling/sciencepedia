{"hands_on_practices": [{"introduction": "这个练习是一个完美的起点。它展示了一个经典场景：如何排列一组包含重复元素的项目。通过为机器人安排任务序列的例子，你将直接应用含重复元素排列的基本公式来计算不同序列的数量。这个练习将巩固你对多项式系数及其直接应用的理解。[@problem_id:1386528]", "problem": "一个机器人实验室正在为其清洁机器人编写日常维护计划。该计划包含一个由10个离散任务组成的序列，这些任务将按顺序逐一执行。工程团队确定，一整天的工作计划必须由以下特定任务组成：\n- 3个“数据处理”任务\n- 2个“工作区清洁”任务\n- 2个“电池充电”任务\n- 1个“系统诊断”任务\n- 1个“状态报告”任务\n- 1个“返回底座”任务\n\n一个有效的日常计划是这10个任务的任意一个唯一排序。请确定可以为该机器人编写的不同日常计划的总数。", "solution": "该问题要求计算由10个任务组成的集合可以形成多少个不同的序列（计划），其中一些任务是相同的。这是一个组合问题，涉及求多重集的排列数。\n\n首先，我们确定要排列的任务总数。设总数为 $n$。各个任务数量的总和是 $n = 3 + 2 + 2 + 1 + 1 + 1 = 10$。\n\n如果所有10个任务都是不同的，将有 $10!$ 种可能的排列。然而，由于有些任务是相同的，我们必须对因排列这些相同任务而产生的重复计数进行修正。对于一组 $k$ 个相同的项目，有 $k!$ 种排列方式，但所有这些排列都是无法区分的。因此，我们必须将总排列数除以每种相同项目数量的阶乘。\n\n各类任务的数量如下：\n- 数据处理：$n_1 = 3$\n- 工作区清洁：$n_2 = 2$\n- 电池充电：$n_3 = 2$\n- 系统诊断：$n_4 = 1$\n- 状态报告：$n_5 = 1$\n- 返回底座：$n_6 = 1$\n\n对于 $n$ 个对象的不同排列数，其中有 $n_1$ 个相同的第一类对象，$n_2$ 个相同的第二类对象，...，以及 $n_k$ 个相同的第 $k$ 类对象，其通用公式由多项式系数给出：\n$$ \\frac{n!}{n_1! n_2! \\dots n_k!} $$\n将此公式应用于我们的具体问题，不同的计划数量为：\n$$ \\frac{10!}{3! \\cdot 2! \\cdot 2! \\cdot 1! \\cdot 1! \\cdot 1!} $$\n由于 $1! = 1$，表达式可简化为：\n$$ \\frac{10!}{3! \\cdot 2! \\cdot 2!} $$\n接下来，我们计算阶乘的值：\n$10! = 10 \\times 9 \\times 8 \\times 7 \\times 6 \\times 5 \\times 4 \\times 3 \\times 2 \\times 1 = 3,628,800$\n$3! = 3 \\times 2 \\times 1 = 6$\n$2! = 2 \\times 1 = 2$\n\n现在，我们将这些数值代回公式中：\n$$ \\text{计划数量} = \\frac{3,628,800}{6 \\cdot 2 \\cdot 2} = \\frac{3,628,800}{24} $$\n最后，我们进行除法运算得到结果：\n$$ \\frac{3,628,800}{24} = 151,200 $$\n因此，可以为该机器人编写的不同的日常计划有 151,200 种。", "answer": "$$\\boxed{151200}$$", "id": "1386528"}, {"introduction": "在掌握了基础知识之后，这个练习引入了一个重要的约束条件：某些项目不能相邻。这类问题需要比直接套用公式更巧妙的策略。你将学习并运用强大的“插空法”来解决它，这是处理组合问题中“不相邻”条件的一个关键技巧。[@problem_id:1391267]", "problem": "一种专门的网络协议用于在两个节点之间传输一个数据包序列。每个序列由固定数量的两种不同类型的数据包组成：数据包和控制包。在本分析中，所有数据包均被视为相同，所有控制包也均被视为相同。\n\n该协议在一个基本约束下运行以确保网络稳定性：任何两个控制包都不能相邻传输。指定批次中的所有数据包都必须被传输。\n\n考虑一个恰好包含18个数据包和6个控制包的批次。请确定根据此协议可以形成的不同且有效的传输序列的总数。", "solution": "令$D$表示一个数据包，$C$表示一个控制包。所有$D$之间被视为相同，所有$C$之间也被视为相同。约束条件是任意两个$C$不能相邻。\n\n首先，将18个数据包$D$排成一行。这会产生$18+1=19$个可以放置控制包的不同的空隙：第一个$D$之前一个，最后一个$D$之后一个，以及每对相邻的$D$之间一个。在任何一个空隙中最多放置一个$C$，即可保证任意两个$C$都不相邻。反之，任何没有相邻$C$的有效序列，都可以通过从这19个空隙中选择哪些来放置$C$而唯一地生成。\n\n因此，有效序列的数量等于从19个可用空隙中选择6个的方法数：\n$$\n\\text{序列数量}=\\binom{19}{6}.\n$$\n计算得，\n$$\n\\binom{19}{6}=\\frac{19!}{6!\\,13!}=\\frac{19\\cdot 18\\cdot 17\\cdot 16\\cdot 15\\cdot 14}{6\\cdot 5\\cdot 4\\cdot 3\\cdot 2\\cdot 1}=27132.\n$$", "answer": "$$\\boxed{27132}$$", "id": "1391267"}, {"introduction": "最后的这个练习将挑战你综合运用多个概念来解决一个更复杂的问题。你需要将含重复元素的排列知识与数论规则（整除性）以及位置限制结合起来。这个问题凸显了在解决多方面组合难题时，进行系统性分类讨论的重要性。[@problem_id:1391214]", "problem": "一个加密系统设计用于生成唯一的11位安全码。用于创建代码的可用数字池由多重集 $S = \\{0, 0, 0, 3, 3, 5, 5, 7, 7, 7, 7\\}$ 给出。每个生成的代码必须是 $S$ 中所有数字的一个不同排列。一个代码要被视为有效，必须满足两个条件：\n1. 它必须是一个真正的11位数，即其第一位数字不能为0。\n2. 它必须是一个能被5整除的整数。\n\n确定可以生成的不同且有效的11位安全码的总数。", "solution": "要解决这个问题，我们需要找出由多重集 $S = \\{0, 0, 0, 3, 3, 5, 5, 7, 7, 7, 7\\}$ 中的数字进行排列所构成的、能被5整除且首位不为0的11位数的数量。\n\n多重集 $S$ 总共包含11个数字，每个数字的计数如下：\n- 数字 0: 3个\n- 数字 3: 2个\n- 数字 5: 2个\n- 数字 7: 4个\n\n对于一个包含 $n$ 个对象的多重集，其中有 $n_1$ 个类型1的相同对象，$n_2$ 个类型2的相同对象，...，$n_k$ 个类型k的相同对象，其不同排列数量的通用公式由多项式系数给出：\n$$ P(n; n_1, n_2, \\dots, n_k) = \\frac{n!}{n_1! n_2! \\dots n_k!} $$\n\n一个数能被5整除，当且仅当它的末位数字是0或5。我们可以根据11位数的末位数字，分两种不相交的情况来解决这个问题。\n\n**情况1：数字以0结尾。**\n\n如果末位数字是0，我们固定一个0在第11位上。剩下10个数字需要在前10个位置上进行排列。剩下的数字多重集是 $\\{0, 0, 3, 3, 5, 5, 7, 7, 7, 7\\}$。计数如下：\n- 数字 0: 2\n- 数字 3: 2\n- 数字 5: 2\n- 数字 7: 4\n\n这10个数字的总排列数是：\n$$ \\frac{10!}{2! 2! 2! 4!} = \\frac{3,628,800}{2 \\cdot 2 \\cdot 2 \\cdot 24} = \\frac{3,628,800}{192} = 18,900 $$\n然而，这个计数包括了首位为0的排列，这些不是有效的11位数。我们必须减去这些无效的排列。\n\n为了找出这种情况下的无效排列数，我们固定一个0在首位，一个0在末位。剩下9个数字需要在中间的9个位置上进行排列。剩下的多重集是 $\\{0, 3, 3, 5, 5, 7, 7, 7, 7\\}$。计数如下：\n- 数字 0: 1\n- 数字 3: 2\n- 数字 5: 2\n- 数字 7: 4\n\n这种无效排列的数量是：\n$$ \\frac{9!}{1! 2! 2! 4!} = \\frac{362,880}{1 \\cdot 2 \\cdot 2 \\cdot 24} = \\frac{362,880}{96} = 3,780 $$\n以0结尾的有效代码数量是，以0结尾的总排列数减去那些也以0开头的无效排列数：\n$$ N_0 = 18,900 - 3,780 = 15,120 $$\n\n**情况2：数字以5结尾。**\n\n如果末位数字是5，我们固定一个5在第11位上。剩下10个数字需要在前10个位置上进行排列。剩下的数字多重集是 $\\{0, 0, 0, 3, 3, 5, 7, 7, 7, 7\\}$。计数如下：\n- 数字 0: 3\n- 数字 3: 2\n- 数字 5: 1\n- 数字 7: 4\n\n这10个数字的总排列数是：\n$$ \\frac{10!}{3! 2! 1! 4!} = \\frac{3,628,800}{6 \\cdot 2 \\cdot 1 \\cdot 24} = \\frac{3,628,800}{288} = 12,600 $$\n同样，我们必须减去以0开头的无效排列。为了找出这些排列，我们固定一个0在首位，一个5在末位。剩下9个数字在中间进行排列。剩下的多重集是 $\\{0, 0, 3, 3, 5, 7, 7, 7, 7\\}$。计数如下：\n- 数字 0: 2\n- 数字 3: 2\n- 数字 5: 1\n- 数字 7: 4\n\n这种无效排列的数量是：\n$$ \\frac{9!}{2! 2! 1! 4!} = \\frac{362,880}{2 \\cdot 2 \\cdot 1 \\cdot 24} = \\frac{362,880}{96} = 3,780 $$\n以5结尾的有效代码数量是，以5结尾的总排列数减去那些也以0开头的无效排列数：\n$$ N_5 = 12,600 - 3,780 = 8,820 $$\n\n**有效代码总数**\n\n不同且有效的安全码总数是这两种不相交情况的数量之和：\n$$ N_{\\text{total}} = N_0 + N_5 = 15,120 + 8,820 = 23,940 $$", "answer": "$$\\boxed{23940}$$", "id": "1391214"}]}