{"hands_on_practices": [{"introduction": "“点数问题”不仅是一个历史性的数学谜题，在现代场景中也具有实际应用价值。这个练习将带你进入一个经典的“抢N分”情景，帮助你掌握解决点数问题的基本方法。通过将剩余的比赛建模为一系列独立的伯努利试验，你将计算出在比赛中断时，领先的队伍最终获胜的理论概率。[@problem_id:1405106]", "problem": "两家公司的销售团队，阿尔法队（Team Alpha）和布拉沃队（Team Bravo），正在进行一场竞赛，看谁能最先获得50份新客户合同。获胜者将被承诺获得一笔可观的全公司奖金。根据大量的历史业绩数据，已知对于任何潜在客户，阿尔法队获得合同的概率为 $p=0.6$，而布拉沃队获得合同的概率为 $1-p=0.4$。每次合同谈判都被视为一个独立事件。\n\n由于市场状况突然发生意外变化，高层领导决定无限期中止比赛。在比赛中止时，阿尔法队已获得45份合同，布拉沃队已获得42份合同。为了公平地颁发奖金，公司决定计算在相同条件下比赛继续进行时，每个团队本应获胜的理论概率。\n\n阿尔法队本应成为第一个达到50份合同的团队的概率是多少？将您的答案表示为四舍五入到四位有效数字的小数。", "solution": "将剩余的谈判建模为独立的伯努利试验，其中每份新合同以概率 $p$ 归于阿尔法队，以概率 $q=1-p$ 归于布拉沃队。在中止时，阿尔法队需要再赢得 $r=50-45=5$ 份合同，而布拉沃队需要再赢得 $s=50-42=8$ 份合同。阿尔法队在布拉沃队累积赢得 $s$ 份合同之前赢得其 $r$ 份合同的概率，是在一系列伯努利试验中，第 $r$ 次成功发生在出现 $s$ 次失败之前的概率。\n\n根据负二项分布，第 $r$ 次成功恰好在 $j$ 次失败之后发生的概率是\n$$\n\\binom{j+r-1}{r-1} p^{r} q^{j}.\n$$\n因此，阿尔法队在经历 $s$ 次失败之前达到 $r$ 次成功的概率是\n$$\nP_{\\text{Alpha}}=\\sum_{j=0}^{s-1}\\binom{j+r-1}{r-1} p^{r} q^{j}.\n$$\n代入 $r=5$, $s=8$, $p=0.6$ 和 $q=0.4$,\n$$\nP_{\\text{Alpha}}=0.6^{5}\\sum_{j=0}^{7}\\binom{j+4}{4} (0.4)^{j}.\n$$\n计算各个组成部分：\n$$\n0.6^{5}=0.07776,\n$$\n$$\n\\sum_{j=0}^{7}\\binom{j+4}{4} (0.4)^{j}\n=1+5(0.4)+15(0.16)+35(0.064)+70(0.0256)+126(0.01024)+210(0.004096)+330(0.0016384)\n=12.123072.\n$$\n因此，\n$$\nP_{\\text{Alpha}}=0.07776\\times 12.123072=0.94269007872.\n$$\n四舍五入到四位有效数字，结果是 $0.9427$。", "answer": "$$\\boxed{0.9427}$$", "id": "1405106"}, {"introduction": "现实世界中的竞赛往往比固定概率模型更复杂，优势可能会在参与者之间动态转移。这个进阶练习探讨了当单次得分的概率并非恒定，而是根据一个循环的“优势”状态而变化时，我们应该如何求解。解决这个问题需要你超越简单的公式，构建一个依赖于当前状态的递归模型，这是向动态规划思想迈出的重要一步。[@problem_id:1405113]", "problem": "两名选手A和B正在进行一场争夺大奖的比赛。首先得到10分的选手获胜。当比分打成7-7平时，比赛中断。选手们同意根据从此刻起各自赢得比赛的概率来分配奖金。\n\n赢得单分的概率不是恒定的，它取决于在两名选手和一种中立状态之间循环的“优势”状态。接下来几轮的优势循环顺序是：选手A -> 选手B -> 中立 -> 选手A，依此类推。赢得该分的概率定义如下：\n- 当选手A拥有优势时，选手A赢得下一分的概率是 $p_A = 2/3$。\n- 当选手B拥有优势时，选手B赢得下一分的概率是 $p_B = 3/4$。\n- 当优势为中立时，选手A和选手B赢得下一分的机会均等，因此选手A赢得该分的概率是 $p_N = 1/2$。\n\n已知比分为7-7，且下一分的优势属于选手A，那么选手A最终赢得比赛的概率是多少？请将你的答案表示为最简分数。", "solution": "设当优势指数 $k\\in\\{0,1,2\\}$ 分别为A优势、B优势、中立时，选手A赢得下一分的概率为 $p_{0}=\\frac{2}{3}$, $p_{1}=\\frac{1}{4}$, $p_{2}=\\frac{1}{2}$，并设 $q_{k}=1-p_{k}$。优势按 $k\\mapsto k+1$ 模3循环。定义 $P(a,b,k)$ 为在A需要 $a$ 分，B需要 $b$ 分，且下一分使用优势指数 $k$ 的情况下，A最终获胜的概率。递归关系和边界条件是\n$$\nP(0,b,k)=1,\\quad P(a,0,k)=0,\\quad\nP(a,b,k)=p_{k}\\,P(a-1,b,k+1)+q_{k}\\,P(a,b-1,k+1).\n$$\n我们需要计算 $P(3,3,0)$。\n\n计算基础的小状态：\n$$\nP(1,1,k)=p_{k},\\quad\nP(1,2,k)=p_{k}+q_{k}p_{k+1},\\quad\nP(2,1,k)=p_{k}p_{k+1}.\n$$\n因此，\n$$\nP(1,1,0)=\\frac{2}{3},\\;P(1,1,1)=\\frac{1}{4},\\;P(1,1,2)=\\frac{1}{2},\n$$\n$$\nP(1,2,0)=\\frac{2}{3}+\\frac{1}{3}\\cdot\\frac{1}{4}=\\frac{3}{4},\\;\nP(1,2,1)=\\frac{1}{4}+\\frac{3}{4}\\cdot\\frac{1}{2}=\\frac{5}{8},\\;\nP(1,2,2)=\\frac{1}{2}+\\frac{1}{2}\\cdot\\frac{2}{3}=\\frac{5}{6},\n$$\n$$\nP(2,1,0)=\\frac{2}{3}\\cdot\\frac{1}{4}=\\frac{1}{6},\\;\nP(2,1,1)=\\frac{1}{4}\\cdot\\frac{1}{2}=\\frac{1}{8},\\;\nP(2,1,2)=\\frac{1}{2}\\cdot\\frac{2}{3}=\\frac{1}{3}.\n$$\n\n接下来，\n$$\nP(1,3,k)=p_{k}+q_{k}P(1,2,k+1)\\implies\nP(1,3,0)=P(1,3,1)=P(1,3,2)=\\frac{7}{8}.\n$$\n同样地，\n$$\nP(3,1,k)=p_{k}P(2,1,k+1)\\implies P(3,1,0)=P(3,1,1)=P(3,1,2)=\\frac{1}{12}.\n$$\n然后\n$$\nP(2,2,k)=p_{k}P(1,2,k+1)+q_{k}P(2,1,k+1)\\implies P(2,2,0)=P(2,2,1)=P(2,2,2)=\\frac{11}{24}.\n$$\n\n现在计算\n$$\nP(2,3,k)=p_{k}P(1,3,k+1)+q_{k}P(2,2,k+1),\n$$\n所以\n$$\nP(2,3,0)=\\frac{2}{3}\\cdot\\frac{7}{8}+\\frac{1}{3}\\cdot\\frac{11}{24}=\\frac{53}{72},\\quad\nP(2,3,1)=\\frac{1}{4}\\cdot\\frac{7}{8}+\\frac{3}{4}\\cdot\\frac{11}{24}=\\frac{9}{16},\\quad\nP(2,3,2)=\\frac{1}{2}\\cdot\\frac{7}{8}+\\frac{1}{2}\\cdot\\frac{11}{24}=\\frac{2}{3}.\n$$\n\n类似地，\n$$\nP(3,2,k)=p_{k}P(2,2,k+1)+q_{k}P(3,1,k+1),\n$$\n所以\n$$\nP(3,2,0)=\\frac{2}{3}\\cdot\\frac{11}{24}+\\frac{1}{3}\\cdot\\frac{1}{12}=\\frac{1}{3},\\quad\nP(3,2,1)=\\frac{1}{4}\\cdot\\frac{11}{24}+\\frac{3}{4}\\cdot\\frac{1}{12}=\\frac{17}{96},\\quad\nP(3,2,2)=\\frac{1}{2}\\cdot\\frac{11}{24}+\\frac{1}{2}\\cdot\\frac{1}{12}=\\frac{13}{48}.\n$$\n\n最后，\n$$\nP(3,3,k)=p_{k}P(2,3,k+1)+q_{k}P(3,2,k+1).\n$$\n当 $k=0$ 时，\n$$\nP(3,3,0)=\\frac{2}{3}\\cdot\\frac{9}{16}+\\frac{1}{3}\\cdot\\frac{17}{96}\n=\\frac{3}{8}+\\frac{17}{288}=\\frac{108}{288}+\\frac{17}{288}=\\frac{125}{288}.\n$$\n因此，选手A最终获胜的概率是 $\\frac{125}{288}$。", "answer": "$$\\boxed{\\frac{125}{288}}$$", "id": "1405113"}, {"introduction": "最有趣的概率问题往往与策略选择相结合。在这个练习中，你不仅要计算获胜的概率，还要扮演决策者的角色。当一位玩家拥有可以改变战局的“终极技能”时，何时使用它才能最大化获胜机会？[@problem_id:1405160] 这个问题将点问题带入了博弈论的领域，要求你评估不同策略的期望价值，从而找出最优解。", "problem": "在一场竞技性视频游戏中，两名玩家，玩家A和玩家B，正在进行一场对决。首位获得10分的玩家将赢得比赛。目前，比分是8比7，玩家A领先。\n\n玩家A有一个战略优势：一个尚未使用过的一次性“终极技能”。如果在某一回合开始时激活此技能，它能保证玩家A赢得该回合。该技能在整场比赛中只能使用一次。在任何不使用终极技能的回合中，两名玩家的实力相当，每人赢得该回合的概率均为$0.5$。\n\n假设玩家A采用最优策略来最大化其赢得比赛的概率，这个最大概率是多少？请将您的答案表示为最简分数形式。", "solution": "设 $i$ 为玩家A还需要赢得的回合数才能达到10分，设 $j$ 为玩家B还需要赢得的回合数。在当前比分为8比7时，我们有 $i=2$ 和 $j=3$。设 $f(i,j)$ 表示在没有终极技能可用，且每回合双方获胜概率均为$0.5$的情况下，从状态 $(i,j)$ 开始，玩家A赢得比赛的概率。那么\n$$\nf(0,j)=1,\\quad f(i,0)=0,\\quad f(i,j)=\\frac{1}{2}f(i-1,j)+\\frac{1}{2}f(i,j-1).\n$$\n使用这些递推关系，\n$$\nf(1,1)=\\frac{1}{2},\\quad f(1,2)=\\frac{1}{2}\\cdot 1+\\frac{1}{2}\\cdot \\frac{1}{2}=\\frac{3}{4},\\quad f(1,3)=\\frac{1}{2}\\cdot 1+\\frac{1}{2}\\cdot \\frac{3}{4}=\\frac{7}{8},\n$$\n$$\nf(2,1)=\\frac{1}{2}\\cdot \\frac{1}{2}+\\frac{1}{2}\\cdot 0=\\frac{1}{4},\\quad f(2,2)=\\frac{1}{2}\\cdot \\frac{3}{4}+\\frac{1}{2}\\cdot \\frac{1}{4}=\\frac{1}{2},\\quad f(2,3)=\\frac{1}{2}\\cdot \\frac{7}{8}+\\frac{1}{2}\\cdot \\frac{1}{2}=\\frac{11}{16}.\n$$\n现在，设 $W(i,j,1)$ 表示在终极技能可用的情况下，从状态 $(i,j)$ 开始，玩家A获胜的最优概率，而当终极技能不可用时，$W(i,j,0)=f(i,j)$。从状态 $(2,3,1)$ 开始，玩家A可以：\n- 立即使用终极技能，状态变为 $(1,3,0)$，获胜概率为 $f(1,3)=\\frac{7}{8}$。\n- 在本回合不使用；那么状态有 $\\frac{1}{2}$ 的概率变为 $(1,3,1)$，有 $\\frac{1}{2}$ 的概率变为 $(2,2,1)$。\n\n我们来评估需要用到的有终极技能的子状态：\n- 从 $(1,3,1)$ 开始，A可以立即使用终极技能来确保最后所需的胜利，所以 $W(1,3,1)=1$。\n- 从 $(2,2,1)$ 开始，如果A立即使用终极技能，状态变为 $(1,2,0)$，其值为 $f(1,2)=\\frac{3}{4}$。如果A等待一回合，那么状态有 $\\frac{1}{2}$ 的概率变为 $(1,2,1)$，有 $\\frac{1}{2}$ 的概率变为 $(2,1,1)$。评估这些情况：\n  - $(1,2,1)$ 允许立即使用终极技能获胜，所以 $W(1,2,1)=1$。\n  - 从 $(2,1,1)$ 开始，立即使用会得到状态 $(1,1,0)$，其值为 $f(1,1)=\\frac{1}{2}$。如果A等待，则有 $\\frac{1}{2}$ 的概率状态变为 $(1,1,1)$（此时立即使用终极技能获胜概率为1），有 $\\frac{1}{2}$ 的概率B达到10分而A输掉，值为0。因此等待的收益是 $\\frac{1}{2}\\cdot 1+\\frac{1}{2}\\cdot 0=\\frac{1}{2}$，这与立即使用相等。因此 $W(2,1,1)=\\frac{1}{2}$。\n  因此，在 $(2,2,1)$ 状态下等待的收益为\n  $$\n  \\frac{1}{2}\\cdot W(1,2,1)+\\frac{1}{2}\\cdot W(2,1,1)=\\frac{1}{2}\\cdot 1+\\frac{1}{2}\\cdot \\frac{1}{2}=\\frac{3}{4},\n  $$\n  这与立即使用的值相等。因此 $W(2,2,1)=\\frac{3}{4}$。\n\n因此，从 $(2,3,1)$ 开始，不立即使用的收益为\n$$\n\\frac{1}{2}\\cdot W(1,3,1)+\\frac{1}{2}\\cdot W(2,2,1)=\\frac{1}{2}\\cdot 1+\\frac{1}{2}\\cdot \\frac{3}{4}=\\frac{7}{8}.\n$$\n这与立即使用的值 $f(1,3)=\\frac{7}{8}$ 相等。因此最优的获胜概率是\n$$\n\\frac{7}{8}.\n$$", "answer": "$$\\boxed{\\frac{7}{8}}$$", "id": "1405160"}]}