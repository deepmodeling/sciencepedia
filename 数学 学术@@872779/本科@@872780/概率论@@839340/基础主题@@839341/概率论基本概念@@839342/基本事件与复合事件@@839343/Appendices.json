{"hands_on_practices": [{"introduction": "掌握概率论的基础在于清晰地定义样本空间和事件。这个练习将引导你处理一个涉及复合事件的典型场景。通过计算一个团队中领导任命的概率，你将实践应用容斥原理，这是计算形如 $P(A \\cup B)$ 的两个事件并集概率的基本工具 [@problem_id:1359694]。", "problem": "一家小型科技初创公司有一个四人核心团队。该团队包括两名程序员（我们可标记为 $P_1$ 和 $P_2$）和两名设计师（标记为 $D_1$ 和 $D_2$）。对于一个即将到来的关键项目，公司需要从这个核心团队中选出一名项目负责人和一名项目副负责人。这两个职位必须由两个不同的人担任。假设每个可能的有序个体对被选为负责人和副负责人的可能性均等，那么选出的项目负责人是程序员或项目副负责人是设计师的概率是多少？\n\n选择正确的选项。\n\nA. $\\frac{1}{3}$\n\nB. $\\frac{1}{2}$\n\nC. $\\frac{2}{3}$\n\nD. $\\frac{3}{4}$\n\nE. $\\frac{5}{6}$", "solution": "我们将选择建模为有序对 $(L,C)$，其中 $L \\neq C$，$L$ 是负责人，$C$ 是副负责人。所有等可能结果的总数为 $|S|=4\\cdot 3=12$。\n\n设 $A$ 为负责人是程序员的事件，设 $B$ 为副负责人是设计师的事件。我们使用容斥原理：\n$$\n\\Pr(A\\cup B)=\\Pr(A)+\\Pr(B)-\\Pr(A\\cap B).\n$$\n为了计算 $\\Pr(A)$，有 $2$ 种选择程序员作为负责人，有 $3$ 种选择作为副负责人，得到 $2\\cdot 3=6$ 种有利结果，所以\n$$\n\\Pr(A)=\\frac{6}{12}=\\frac{1}{2}.\n$$\n为了计算 $\\Pr(B)$，有 $2$ 种选择设计师作为副负责人，有 $3$ 种选择作为负责人，得到 $2\\cdot 3=6$ 种有利结果，所以\n$$\n\\Pr(B)=\\frac{6}{12}=\\frac{1}{2}.\n$$\n对于 $\\Pr(A\\cap B)$，负责人必须是 $2$ 名程序员中的一名，副负责人必须是 $2$ 名设计师中的一名，得到 $2\\cdot 2=4$ 种有利结果，所以\n$$\n\\Pr(A\\cap B)=\\frac{4}{12}=\\frac{1}{3}.\n$$\n因此，\n$$\n\\Pr(A\\cup B)=\\frac{1}{2}+\\frac{1}{2}-\\frac{1}{3}=\\frac{2}{3}.\n$$\n这对应于选项C。", "answer": "$$\\boxed{C}$$", "id": "1359694"}, {"introduction": "概率论的应用远不止于抛硬币和掷骰子。这个练习将挑战你将概率概念应用于更抽象的代数领域 [@problem_id:1359721]。你需要将一个代数性质——二次多项式实根的存在性——转化为样本空间中的一个条件，从而在一个非传统的背景下加深对容斥原理的理解。", "problem": "一个二次多项式定义为 $p(x) = ax^2 + bx + c$。系数 $a$、$b$ 和 $c$ 是从整数集合 $\\{-1, 0, 1\\}$ 中独立且等概率地选取的，并有附加约束条件，即首项系数 $a$ 必须非零。\n\n设 $A$ 为多项式 $p(x)$ 至少有一个实根的事件。设 $B$ 为多项式的图像 $y=p(x)$ 表示一个开口向上的抛物线的事件。\n\n求这两个事件的并集概率 $P(A \\cup B)$。将你的答案表示为最简分数形式。", "solution": "系数是独立选取的，其中 $a \\in \\{-1,1\\}$，$b,c \\in \\{-1,0,1\\}$ 均匀分布，总共有 $2 \\times 3 \\times 3 = 18$ 种等可能的二次多项式。\n\n事件 $A$ 是 $p(x)$ 有实根，对于二次方程，这要求判别式 $\\Delta = b^2 - 4ac \\ge 0$。因为 $b \\in \\{-1,0,1\\}$，我们有 $b^2 \\in \\{0,1\\}$，且 $ac \\in \\{-1,0,1\\}$。分情况讨论：\n- 如果 $ac = 1$，则 $\\Delta \\le 1 - 4 = -3  0$，所以没有实根。\n- 如果 $ac = 0$，则 $\\Delta = b^2 \\ge 0$，所以有实根。\n- 如果 $ac = -1$，则 $\\Delta = b^2 + 4 \\ge 4$，所以有实根。\n\n因此，事件 $A$ 发生当且仅当 $ac \\le 0$。计算满足 $ac \\le 0$ 的数对 $(a,c)$ 的数量，其中 $a \\in \\{-1,1\\}$ 且 $c \\in \\{-1,0,1\\}$：当 $a=1$ 时，允许的 $c \\in \\{-1,0\\}$；当 $a=-1$ 时，允许的 $c \\in \\{0,1\\}$。这给出了 $6$ 种可能的 $(a,c)$ 中有 $4$ 种有利情况，这与 $b$ 无关，所以\n$$\nP(A) = \\frac{4}{6} = \\frac{2}{3}.\n$$\n\n事件 $B$ 是抛物线开口向上，即 $a=1$。因为 $a$ 在 $\\{-1,1\\}$ 上是均匀分布的，\n$$\nP(B) = \\frac{1}{2}.\n$$\n\n对于交集 $A \\cap B$，要求 $a=1$ 且 $ac \\le 0$，当 $a=1$ 时，这意味着 $c \\in \\{-1,0\\}$。而 $b$ 是任意的，\n$$\nP(A \\cap B) = \\frac{1}{2} \\cdot \\frac{2}{3} = \\frac{1}{3}.\n$$\n\n因此，根据容斥原理，\n$$\nP(A \\cup B) = P(A) + P(B) - P(A \\cap B) = \\frac{2}{3} + \\frac{1}{2} - \\frac{1}{3} = \\frac{5}{6}.\n$$", "answer": "$$\\boxed{\\frac{5}{6}}$$", "id": "1359721"}, {"introduction": "现在，让我们从静态事件转向动态过程。这个问题引导我们进入随机过程的世界，特别是经典的“随机游走”模型。在已知粒子最终位置的条件下，你需要计算其路径从未低于原点的条件概率，这将为你介绍一种强大的组合工具——反射原理，该原理在分析此类路径依赖的过程中至关重要 [@problem_id:1359719]。", "problem": "一个亚原子粒子被观察到沿着一维整数格 $\\mathbb{Z}$ 运动。它从原点，位置 $X_0 = 0$ 开始。在每个离散时间步，该粒子以固定的概率 $p$ 向右移动一个单位（“+1”移动），或以概率 $q = 1-p$ 向左移动一个单位（“-1”移动）。概率 $p$ 是恒定的，且在 $0  p  1$ 的范围内。\n\n该粒子总共可以走 $N=6$ 步。一名实验者观察到该行走过程，并发现粒子在第6步后的最终位置是 $X_6=2$。在这一观察结果下，粒子在其整个轨迹中位置从未低于原点的概率是多少？也就是说，计算条件概率 \n$$P(X_k \\ge 0 \\text{ for all } k \\in \\{0, 1, ..., 6\\} \\mid X_6 = 2)$$\n\n请将你的答案表示为一个单一的、简化的分数。", "solution": "设 $A$ 为粒子在6步后最终位置为 $X_6 = 2$ 的事件。\n设 $B$ 为粒子在其整个轨迹中位置从未为负的事件，即对于所有 $k \\in \\{0, 1, 2, 3, 4, 5, 6\\}$，都有 $X_k \\ge 0$。\n我们需要求的是条件概率 $P(B|A)$，其定义为：\n$$P(B|A) = \\frac{P(A \\cap B)}{P(A)}$$\n\n首先，我们来分析事件 $A$。粒子总共走 $N=6$ 步。设 $n_+$ 为“+1”步（向右）的次数，$n_-$ 为“-1”步（向左）的次数。\n总步数为 $n_+ + n_- = 6$。\n最终位置是净位移，所以 $X_6 = n_+ - n_- = 2$。\n\n我们得到一个由两个线性方程组成的方程组：\n1) $n_+ + n_- = 6$\n2) $n_+ - n_- = 2$\n\n将两个方程相加得到 $2n_+ = 8$，这意味着 $n_+ = 4$。\n将 $n_+=4$ 代入第一个方程得到 $4 + n_- = 6$，这意味着 $n_- = 2$。\n因此，要使最终位置为 $X_6=2$，粒子必须恰好向右走了4步，向左走了2步。\n\n导致4次向右移动和2次向左移动的不同路径（移动序列）的总数由二项式系数 $\\binom{6}{4}$ 给出：\n$$N_A = \\binom{6}{4} = \\frac{6!}{4!2!} = \\frac{6 \\times 5}{2 \\times 1} = 15$$\n每条特定路径都包含4次向右移动（每次概率为 $p$）和2次向左移动（每次概率为 $q$）。因此，对应于事件 $A$ 的任何单一路径的概率为 $p^4 q^2$。\n事件 $A$ 的总概率是所有这15条互斥路径的概率之和：\n$$P(A) = 15 p^4 q^2$$\n\n接下来，我们分析事件 $A \\cap B$。这是粒子最终到达 $X_6=2$ 且其路径从未低于原点 $X=0$ 的事件。\n这意味着我们需要计算满足条件 $X_k \\ge 0$ (对于所有 $k$) 的包含4次向右移动和2次向左移动的路径数量。我们称这个数量为 $N_{A \\cap B}$。\n\n这是一个经典的路径计数问题，可以使用反射原理来解决。从初始点 $(x_i, y_i)$ 到终点 $(x_f, y_f)$ 的总路径数是 $\\binom{x_f-x_i}{(y_f-y_i+x_f-x_i)/2}$。在我们的问题中，一条路径是一个时间步序列，所以我们可以将其映射到一个二维格子上，其中x轴是步数，y轴是粒子的位置。路径从 $(0,0)$ 走到 $(6,2)$。\n“好”路径（不低于 $y=0$）的数量等于总路径数减去“坏”路径（接触或穿过直线 $y=-1$）的数量。\n\n反射原理指出，从 $(x_i, y_i)$ 到 $(x_f, y_f)$ 且接触或穿过水平线 $y=c$ 的路径数量，等于从 $(x_i, y_i)$ 到反射后的终点 $(x_f, 2c-y_f)$ 的路径数量。\n在这里，我们的路径从 $(0,0)$ 走到 $(6,2)$，禁止线是 $y=-1$（因此 $c=-1$）。\n坏路径的数量是从 $(0,0)$ 到反射点 $(6, 2(-1)-2) = (6,-4)$ 的路径数量。\n\n为了求出从 $(0,0)$ 到 $(6,-4)$ 的路径数量，我们确定所需的向右（$n_+'$）和向左（$n_-'$）的步数：\n$n_+' + n_-' = 6$\n$n_+' - n_-' = -4$\n将这些方程相加得到 $2n_+' = 2$，所以 $n_+' = 1$。这意味着 $n_-' = 5$。\n这类路径的数量是 $\\binom{6}{1} = \\frac{6!}{1!5!} = 6$。\n因此，在到达 $(6,2)$ 的总共15条路径中，有6条是“坏”路径。\n\n“好”路径的数量 $N_{A \\cap B}$ 是事件A的总路径数减去坏路径的数量：\n$$N_{A \\cap B} = N_A - (\\text{Number of bad paths}) = 15 - 6 = 9$$\n这9条路径中的每一条都有 $p^4 q^2$ 的概率。因此，联合事件 $A \\cap B$ 的概率是：\n$$P(A \\cap B) = 9 p^4 q^2$$\n\n最后，我们可以计算条件概率 $P(B|A)$：\n$$P(B|A) = \\frac{P(A \\cap B)}{P(A)} = \\frac{9 p^4 q^2}{15 p^4 q^2}$$\n$p^4 q^2$ 项被消掉了，这表明结果与具体概率 $p$ 无关。\n$$P(B|A) = \\frac{9}{15} = \\frac{3}{5}$$", "answer": "$$\\boxed{\\frac{3}{5}}$$", "id": "1359719"}]}