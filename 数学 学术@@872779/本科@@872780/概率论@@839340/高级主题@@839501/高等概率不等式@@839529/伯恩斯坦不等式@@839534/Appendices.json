{"hands_on_practices": [{"introduction": "这个练习提供了一个经典场景：分析一次考试的总分。它旨在演示如何运用伯恩斯坦不等式，为一个独立随机变量之和与期望值的偏差设定一个概率上界。这是理解随机变量之和如何集中于其期望值附近的核心应用，也是应用该不等式的基本功。[@problem_id:1345821]", "problem": "一名学生正在参加一场漫长的资格考试，该考试由 $N=250$ 道独立的题目组成。对于每道题目，学生答对的概率为 $p=0.75$。答对一题得 4 分，而答错一题则扣 2 分。设 $T$ 为该学生的总分。确定该学生的总分与其期望值之差超过 150 分的概率的一个上界，即求 $P(|T - \\mathbb{E}[T]|  150)$ 的一个上界。以数值形式报告你的答案，并四舍五入到三位有效数字。", "solution": "设 $X_{i}$ 表示第 $i$ 题的得分，答对时 $X_{i}=4$，答错时 $X_{i}=-2$。那么 $T=\\sum_{i=1}^{N}X_{i}$，其中 $N=250$，且 $P(X_{i}=4)=p=0.75$，$P(X_{i}=-2)=1-p$。\n\n计算 $X_{i}$ 的均值和方差：\n$$\n\\mathbb{E}[X_{i}]=4p-2(1-p)=6p-2\\text{,}\\quad \\mathbb{E}[X_{i}^{2}]=16p+4(1-p)=4+12p.\n$$\n因此\n$$\n\\operatorname{Var}(X_{i})=\\mathbb{E}[X_{i}^{2}]-(\\mathbb{E}[X_{i}])^{2}=(4+12p)-(6p-2)^{2}.\n$$\n当 $p=\\frac{3}{4}$ 时，\n$$\n\\mathbb{E}[X_{i}]=\\frac{5}{2}\\text{,}\\quad \\mathbb{E}[X_{i}^{2}]=13\\text{,}\\quad \\operatorname{Var}(X_{i})=13-\\left(\\frac{5}{2}\\right)^{2}=\\frac{27}{4}.\n$$\n因此，\n$$\n\\mathbb{E}[T]=N\\,\\mathbb{E}[X_{i}]=250\\cdot\\frac{5}{2}=625\\text{,}\\quad \\operatorname{Var}(T)=N\\,\\operatorname{Var}(X_{i})=250\\cdot\\frac{27}{4}=\\frac{3375}{2}.\n$$\n\n我们对中心化变量 $Y_{i}=X_{i}-\\mathbb{E}[X_{i}]$ 应用伯恩斯坦不等式。这些变量是独立的，均值为零，并且满足几乎必然有界\n$$\n|Y_{i}|\\leq \\max\\{|4-\\tfrac{5}{2}|,|-2-\\tfrac{5}{2}|\\}=\\frac{9}{2}.\n$$\n设 $\\sigma^{2}=\\sum_{i=1}^{N}\\operatorname{Var}(Y_{i})=\\operatorname{Var}(T)=\\frac{3375}{2}$ 且 $c=\\frac{9}{2}$。对于任意 $t0$，伯恩斯坦不等式给出，\n$$\nP\\left(|T-\\mathbb{E}[T]|\\geq t\\right)\\leq 2\\exp\\left(-\\frac{t^{2}}{2\\sigma^{2}+\\frac{2}{3}ct}\\right).\n$$\n当 $t=150$ 时，我们得到\n$$\nP\\left(|T-\\mathbb{E}[T]|150\\right)\\leq 2\\exp\\left(-\\frac{150^{2}}{2\\cdot\\frac{3375}{2}+\\frac{2}{3}\\cdot\\frac{9}{2}\\cdot 150}\\right)\n=2\\exp\\left(-\\frac{22500}{3375+450}\\right)\n=2\\exp\\left(-\\frac{100}{17}\\right).\n$$\n数值上，这个值约等于 $0.00558$（四舍五入到三位有效数字）。", "answer": "$$\\boxed{0.00558}$$", "id": "1345821"}, {"introduction": "此练习将伯恩斯坦不等式置于一个实际的工程问题背景下：评估大规模分布式系统的过载风险。通过这个练习，你将学会如何使用单边伯恩斯坦不等式来估算罕见但关键的“尾部事件”（如此处的系统过载）的发生概率。这凸显了该不等式在可靠性工程和风险分析中的重要作用。[@problem_id:1345789]", "problem": "一个云基础设施提供商管理着一个由 $N$ 台相同的独立服务器组成的大型分布式系统。令 $X_i$ 表示服务器 $i$ 队列中活跃的计算作业数量，其中 $i \\in \\{1, 2, \\dots, N\\}$。变量 $X_i$ 是独立同分布的。\n\n根据历史性能数据，为每台服务器确定了以下参数：\n- 服务器总数为 $N=500$。\n- 任何服务器的作业数 $X_i$ 可以取集合 $\\{0, 1, 2, \\dots, 50\\}$ 中的任意整数值。\n- 单台服务器的期望作业数为 $E[X_i] = 20$。\n- 单台服务器作业数的方差为 $\\text{Var}(X_i) = 100$。\n\n如果所有服务器上的总作业数 $S_N = \\sum_{i=1}^N X_i$ 超过阈值 $11000$，则认为整个系统处于过载状态。根据所提供的信息，使用一个合适的集中不等式，计算系统过载概率 $P(S_N  11000)$ 的一个上界。\n\n将您的最终答案四舍五入到三位有效数字。", "solution": "问题要求计算尾部概率 $P(S_N  11000)$ 的一个上界，其中 $S_N = \\sum_{i=1}^N X_i$ 是 $N=500$ 个独立同分布（IID）随机变量的和。\n\n首先，我们确定关键参数和我们感兴趣的事件。\n随机变量 $X_i$ 是独立同分布的，其参数为：\n- 均值：$E[X_i] = \\mu = 20$\n- 方差：$\\operatorname{Var}(X_i) = \\sigma^2 = 100$\n- 变量数量：$N = 500$\n\n这些变量的和为 $S_N = \\sum_{i=1}^N X_i$。根据期望的线性性质，和的期望值为：\n$$ E[S_N] = E\\left[\\sum_{i=1}^N X_i\\right] = \\sum_{i=1}^N E[X_i] = N\\mu = 500 \\times 20 = 10000 $$\n由于变量是独立的，和的方差是方差的和：\n$$ \\operatorname{Var}(S_N) = \\operatorname{Var}\\left[\\sum_{i=1}^N X_i\\right] = \\sum_{i=1}^N \\operatorname{Var}(X_i) = N\\sigma^2 = 500 \\times 100 = 50000 $$\n\n我们感兴趣的事件是 $S_N  11000$。我们可以用其与均值的偏差来表示：\n$$ P(S_N  11000) = P(S_N - E[S_N]  11000 - 10000) = P(S_N - 10000  1000) $$\n令 $t=1000$。我们正在寻找 $P(S_N - E[S_N]  t)$ 的一个上界。\n\n我们已知随机变量 $X_i$ 是有界的，因为它们取值于 $\\{0, 1, \\dots, 50\\}$。这表明，除了利用方差之外，利用这种有界性的集中不等式将是最有效的。伯恩斯坦不等式 (Bernstein's inequality) 是一个合适的选择。\n\n对于一系列零均值的独立随机变量 $Y_i$（满足 $|Y_i| \\le M$，其中 $M$ 为某个常数），其和的伯恩斯坦不等式由下式给出：\n$$ P\\left(\\sum_{i=1}^N Y_i  t\\right) \\le \\exp\\left(-\\frac{t^2/2}{\\sum_{i=1}^N E[Y_i^2] + Mt/3}\\right) $$\n\n为了应用这个不等式，我们定义一组零均值随机变量 $Y_i = X_i - \\mu = X_i - 20$。其和为 $\\sum_{i=1}^N Y_i = \\sum_{i=1}^N (X_i - \\mu) = S_N - N\\mu = S_N - 10000$。\n问题现在是为 $P(\\sum Y_i  1000)$ 寻找一个界。\n我们需要确定伯恩斯坦不等式的参数：\n1.  界 $M$：由于 $X_i \\in [0, 50]$，中心化的变量 $Y_i = X_i - 20$ 的范围是 $[0-20, 50-20] = [-20, 30]$。其绝对值有界，即 $|Y_i| \\le \\max(|-20|, |30|) = 30$。因此，我们可以取 $M=30$。\n2.  二阶矩的和：对于一个零均值变量，$E[Y_i^2] = \\operatorname{Var}(Y_i) = \\operatorname{Var}(X_i) = \\sigma^2 = 100$。因此，和为：\n    $$ \\sum_{i=1}^N E[Y_i^2] = \\sum_{i=1}^N \\operatorname{Var}(X_i) = N\\sigma^2 = 500 \\times 100 = 50000 $$\n\n现在我们可以将 $t=1000$, $M=30$ 和 $\\sum E[Y_i^2] = 50000$ 代入伯恩斯坦不等式：\n$$ P(S_N - 10000  1000) \\le \\exp\\left(-\\frac{t^2/2}{\\sum E[Y_i^2] + Mt/3}\\right) $$\n$$ P(S_N  11000) \\le \\exp\\left(-\\frac{(1000)^2/2}{50000 + (30)(1000)/3}\\right) $$\n我们来计算指数中的表达式：\n分子：$\\frac{t^2}{2} = \\frac{(1000)^2}{2} = \\frac{1000000}{2} = 500000$。\n分母：$50000 + \\frac{30000}{3} = 50000 + 10000 = 60000$。\n\n所以概率上界是：\n$$ P(S_N  11000) \\le \\exp\\left(-\\frac{500000}{60000}\\right) = \\exp\\left(-\\frac{50}{6}\\right) = \\exp\\left(-\\frac{25}{3}\\right) $$\n\n现在我们计算数值：\n$$ \\exp\\left(-\\frac{25}{3}\\right) \\approx \\exp(-8.333333...) \\approx 0.000240449... $$\n问题要求将最终答案四舍五入到三位有效数字。\n第一位有效数字是 2，第二位是 4，第三位是 0。下一位数字是 4，所以我们不向上取整。\n结果是 $0.000240$。\n用科学记数法表示，这是 $2.40 \\times 10^{-4}$。", "answer": "$$\\boxed{2.40 \\times 10^{-4}}$$", "id": "1345789"}, {"introduction": "这个练习将带你从数值计算走向理论推导，连接概率论与现代数据科学。你的任务不是计算一个具体数值，而是为一种重要的统计估计方法（自助法均值）的稳定性推导出一个形式化的保证。这个过程将展示伯恩斯坦不等式在为计算方法提供理论基础方面的强大能力。[@problem_id:1345793]", "problem": "一位数据科学家正在分析一个估计量的稳定性，该估计量源自一个包含 $n$ 个测量值 $\\{x_1, x_2, \\dots, x_n\\}$ 的数据集 $S$。已知每个测量值 $x_i$ 都位于区间 $[a, b]$ 内，其中 $a$ 和 $b$ 是已知的实数。\n\n令 $\\bar{x}$ 为该数据集的样本均值，即 $\\bar{x} = \\frac{1}{n}\\sum_{i=1}^n x_i$。衡量数据离散程度的一个关键指标是其与均值的离差平方和，表示为 $V = \\sum_{i=1}^n (x_i - \\bar{x})^2$。\n\n为了评估均值的稳定性，我们创建一个新的数据集，称为自助重抽样样本 (bootstrap resample) $S^* = \\{X_1^*, \\dots, X_n^*\\}$，它是通过从原始数据集 $S$ 中进行 $n$ 次均匀且有放回的抽样得到的。这个新数据集的均值是随机变量 $\\bar{X}^* = \\frac{1}{n}\\sum_{i=1}^n X_i^*$。\n\n请确定自助样本均值 $\\bar{X}^*$ 与原始样本均值 $\\bar{x}$ 之间的绝对差超过给定正容差 $\\epsilon$ 的概率的一个严格上界。你的最终答案应该是一个用 $n$、$\\epsilon$、$V$、$a$ 和 $b$ 表示的闭式解析表达式。", "solution": "定义经验分布，该分布在每个观测值 $x_{i}$ 处赋予 $1/n$ 的概率质量。一个自助重抽样样本 $X_{1}^{*},\\dots,X_{n}^{*}$ 是从该经验分布中抽取的独立样本，因此每个 $X_{i}^{*}$ 在集合 $\\{x_{1},\\dots,x_{n}\\}\\subseteq[a,b]$ 中取值，且满足 $\\mathbb{P}(X_{i}^{*}=x_{j})=1/n$。\n\n计算在给定数据集 $S$ 的条件下，单次自助抽样的均值和方差。根据期望的线性性，\n$$\n\\mathbb{E}[X_{i}^{*}\\mid S] \\;=\\; \\frac{1}{n}\\sum_{j=1}^{n} x_{j} \\;=\\; \\bar{x}.\n$$\n其在经验分布下的方差为\n$$\n\\operatorname{Var}(X_{i}^{*}\\mid S) \\;=\\; \\frac{1}{n}\\sum_{j=1}^{n}(x_{j}-\\bar{x})^{2} \\;=\\; \\frac{V}{n}.\n$$\n此外，由于对所有 $j$ 都有 $x_{j}\\in[a,b]$，我们有 $X_{i}^{*}\\in[a,b]$，因此\n$$\n|X_{i}^{*}-\\bar{x}| \\;\\leq\\; \\max\\{\\bar{x}-a,\\,b-\\bar{x}\\} \\;\\leq\\; b-a.\n$$\n\n令 $Y_{i}=X_{i}^{*}-\\bar{x}$。那么 $Y_{1},\\dots,Y_{n}$ 是独立的、中心化的随机变量，满足 $\\operatorname{Var}(Y_{i}\\mid S)=V/n$ 且 $|Y_{i}|\\leq b-a$ 几乎必然成立。我们想要对以下概率进行定界\n$$\n\\mathbb{P}\\big(|\\bar{X}^{*}-\\bar{x}|\\geq\\epsilon\\mid S\\big)\n\\;=\\;\n\\mathbb{P}\\!\\left(\\left|\\frac{1}{n}\\sum_{i=1}^{n}Y_{i}\\right|\\geq\\epsilon \\,\\middle|\\, S\\right).\n$$\n\n应用针对独立的、零均值、有界变量的伯恩斯坦不等式：如果 $|Y_{i}|\\leq M$ 几乎必然成立，且 $\\sum_{i=1}^{n}\\operatorname{Var}(Y_{i})=n\\sigma^{2}$，那么对于所有 $\\epsilon0$，\n$$\n\\mathbb{P}\\!\\left(\\left|\\frac{1}{n}\\sum_{i=1}^{n}Y_{i}\\right|\\geq\\epsilon\\right)\n\\;\\leq\\;\n2\\exp\\!\\left(-\\frac{n\\epsilon^{2}}{2\\sigma^{2}+\\frac{2}{3}M\\epsilon}\\right).\n$$\n在这里，$\\sigma^{2}=V/n$ 且 $M=b-a$。代入可得条件上界\n$$\n\\mathbb{P}\\big(|\\bar{X}^{*}-\\bar{x}|\\geq\\epsilon\\mid S\\big)\n\\;\\leq\\;\n2\\exp\\!\\left(-\\frac{n\\epsilon^{2}}{\\frac{2V}{n}+\\frac{2}{3}(b-a)\\epsilon}\\right)\n\\;=\\;\n2\\exp\\!\\left(-\\frac{n^{2}\\epsilon^{2}}{2V+\\frac{2}{3}n(b-a)\\epsilon}\\right).\n$$\n由于随机性仅来自于给定 $S$ 后的自助重抽样过程，这就提供了所求的、用 $n$、$\\epsilon$、$V$、$a$ 和 $b$ 表示的严格上界。", "answer": "$$\\boxed{2\\exp\\!\\left(-\\frac{n\\epsilon^{2}}{\\frac{2V}{n}+\\frac{2}{3}(b-a)\\epsilon}\\right)}$$", "id": "1345793"}]}