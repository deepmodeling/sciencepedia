{"hands_on_practices": [{"introduction": "这个练习将带我们回到概率生成函数的基础。我们将从一个简单的离散均匀分布入手，根据第一性原理构建其概率生成函数（PGF），然后运用微分来计算其方差。这个实践[@problem_id:1409525]不仅巩固了PGF的核心定义，也展示了提取矩的力学过程，为解决更复杂的问题奠定了坚实的基础。", "problem": "一个简单的电子设备模拟了一个随机过程，其中它可以占据四个离散的能态之一，由整数 1、2、3 和 4 标记。在任何给定的时刻，该设备等可能地处于这四个状态中的任何一个。令随机变量 $X$ 表示在随机瞬间观测到的设备的能态。\n\n确定随机变量 $X$ 的概率生成函数 (PGF) $G_X(s)$，并确定 $X$ 的方差，记为 $\\text{Var}(X)$。\n\n你的最终答案应为一个复合表达式，包含 $G_X(s)$ 的多项式，后跟 $\\text{Var}(X)$ 的值。方差必须表示为精确分数。", "solution": "随机变量 $X$ 在集合 $\\{1,2,3,4\\}$ 中取值，每个状态的概率相等。因此，对于 $k \\in \\{1,2,3,4\\}$，我们有 $P(X=k)=\\frac{1}{4}$。\n\n根据定义，$X$ 的概率生成函数 (PGF) 是\n$$\nG_{X}(s)=E[s^{X}]=\\sum_{k=0}^{\\infty}P(X=k)s^{k}.\n$$\n由于 $X$ 仅在 $\\{1,2,3,4\\}$ 中取值，这可以简化为\n$$\nG_{X}(s)=\\sum_{k=1}^{4}P(X=k)s^{k}=\\frac{1}{4}\\left(s+s^{2}+s^{3}+s^{4}\\right).\n$$\n\n为了计算方差，我们使用公式 $\\text{Var}(X)=E[X^{2}]-(E[X])^{2}$。\n首先计算期望：\n$$\nE[X]=\\sum_{k=1}^{4}k\\cdot P(X=k)=\\frac{1}{4}\\sum_{k=1}^{4}k=\\frac{1}{4}\\cdot\\frac{4\\cdot 5}{2}=\\frac{10}{4}=\\frac{5}{2}.\n$$\n接着计算二阶矩：\n$$\nE[X^{2}]=\\sum_{k=1}^{4}k^{2}\\cdot P(X=k)=\\frac{1}{4}\\sum_{k=1}^{4}k^{2}=\\frac{1}{4}\\cdot\\frac{4\\cdot 5\\cdot 9}{6}=\\frac{30}{4}=\\frac{15}{2}.\n$$\n因此，\n$$\n\\text{Var}(X)=E[X^{2}]-(E[X])^{2}=\\frac{15}{2}-\\left(\\frac{5}{2}\\right)^{2}=\\frac{30}{4}-\\frac{25}{4}=\\frac{5}{4}.\n$$\n因此，概率生成函数和方差如上所述。", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{1}{4}\\left(s+s^{2}+s^{3}+s^{4}\\right) & \\frac{5}{4}\\end{pmatrix}}$$", "id": "1409525"}, {"introduction": "许多现实世界的过程，如信号级联或种群动态，本质上是递归的。这个问题[@problem_id:1409566]展示了PGF在分析此类系统中的强大应用，其中PGF由一个函数方程而不是显式公式定义。你将学习如何通过对整个递归关系式进行微分来求出期望值，这是一种巧妙的技巧，避免了先求解PGF本身的需要。", "problem": "一个特殊探测器内信号级联的简化模型描述如下。单个初级粒子进入探测器。可能发生两种互斥事件：\n1.  以概率 $p$，该粒子被直接吸收，产生固定数量 $k$ 的可探测信号。\n2.  以概率 $1-p$，该粒子裂變成两个相同的子粒子。每个子粒子随后独立地引发一个新的级联过程，其行为与原始初级粒子完全相同。\n\n令 $X$ 为表示由单个初始初级粒子产生的可探测信号总数的随机变量。系统设计使得概率 $p$ 满足 $1/2  p  1$，且 $k$ 是一个正整数。这确保了级联过程平均而言不会无限增长。\n\n求 $X$ 的期望值，记为 $E[X]$，用 $p$ 和 $k$ 表示。", "solution": "令 $G_X(s)$ 为随机变量 $X$ 的概率生成函数 (PGF)，其定义为 $G_X(s) = E[s^X]$。我们可以通过对级联中的第一个事件进行条件分析，来构建 $G_X(s)$ 的函数方程。\n\n根据问题描述，初始粒子有两种可能性：\n1.  以概率 $p$，过程终止并产生 $k$ 个信号。此时随机变量为常数 $k$。此结果的 PGF 为 $s^k$。\n2.  以概率 $1-p$，粒子裂变成两个子粒子。每个子粒子产生的信号总数，我们称之为 $X_1$ 和 $X_2$。在这种情况下，信号总数为 $X = X_1 + X_2$。由于每个子粒子的行为与原始初级粒子相同且独立，$X_1$ 和 $X_2$ 是独立同分布的随机变量，其分布与 $X$ 相同。独立随机变量之和的 PGF 是它们各自 PGF 的乘积。因此，此结果的 PGF 为 $G_{X_1}(s)G_{X_2}(s) = G_X(s)G_X(s) = (G_X(s))^2$。\n\n使用全期望定律（或根据混合分布的性质），$X$ 的总 PGF 是每种情况下 PGF 的加权平均值：\n$$G_X(s) = p \\cdot s^k + (1-p) \\cdot (G_X(s))^2$$\n\n问题要求 $X$ 的期望值，这可以通过 PGF 和关系式 $E[X] = G_X'(1)$ 求得。我们不需要显式地解出 $G_X(s)$ 的函数方程。相反，我们可以对整个方程关于 $s$ 求导。使用求导的乘法法则和链式法则，我们得到：\n$$G_X'(s) = \\frac{d}{ds} \\left( p s^k + (1-p) (G_X(s))^2 \\right)$$\n$$G_X'(s) = p k s^{k-1} + (1-p) \\cdot 2 G_X(s) G_X'(s)$$\n\n现在，我们在 $s=1$ 处计算这个求导后的方程。我们使用任何 PGF 的两个基本性质：\n1.  $G_X(1) = \\sum_{n=0}^{\\infty} P(X=n) (1)^n = \\sum P(X=n) = 1$。\n2.  $G_X'(1) = E[X]$。我们用 $\\mu$ 表示 $E[X]$。\n\n将 $s=1$、$G_X(1)=1$ 和 $G_X'(1)=\\mu$ 代入求导后的方程：\n$$G_X'(1) = p k (1)^{k-1} + (1-p) \\cdot 2 G_X(1) G_X'(1)$$\n$$\\mu = p k + (1-p) \\cdot 2 \\cdot (1) \\cdot \\mu$$\n$$\\mu = pk + 2(1-p)\\mu$$\n\n现在，我们求解这个关于 $\\mu$ 的线性方程：\n$$\\mu - 2(1-p)\\mu = pk$$\n$$\\mu(1 - 2 + 2p) = pk$$\n$$\\mu(2p - 1) = pk$$\n\n由于问题说明 $1/2  p  1$，我们有 $2p - 1 > 0$，因此我们可以除以 $(2p-1)$ 来得到一个唯一的、正的且有限的均值。\n$$\\mu = \\frac{pk}{2p-1}$$\n\n这个表达式给出了由单个初始粒子产生的预期信号总数。", "answer": "$$\\boxed{\\frac{pk}{2p-1}}$$", "id": "1409566"}, {"introduction": "PGF的用途远不止计算均值和方差这类标准矩。最后一个实践[@problem_id:1409515]介绍了一种更高级的技巧：利用积分来计算一种不同类型函数的期望值，即 $E[\\frac{1}{N+1}]$。该方法展示了PGF作为一种工具的多功能性，并且在排队论和网络性能分析等领域尤其有价值。", "problem": "在通信网络的研究中，提出了一个随机模型来描述一个源在特定时隙内生成的数据包数量 $N$。数据包数量 $N$ 是一个非负整数值随机变量。它的统计特性由其概率生成函数（PGF）完全刻画，定义为 $G_N(s) = E[s^N]$，其中 $E[\\cdot]$ 表示期望算子。\n\n对于这个特定模型，其 PGF 由下式给出：\n$$\nG_N(s) = 1-p + \\frac{p(1-\\alpha)}{1-\\alpha s}\n$$\n其中 $p$ 和 $\\alpha$ 是模型的常数参数，满足 $0  p  1$ 和 $0  \\alpha  1$。\n\n网络服务质量的一个关键性能指标与数据包的处理延迟有关。发现该指标在数学上等价于数量 $\\frac{1}{N+1}$ 的期望值。\n\n求期望值 $E\\left[\\frac{1}{N+1}\\right]$ 关于参数 $p$ 和 $\\alpha$ 的表达式。", "solution": "目标是为一个概率生成函数（PGF）已知的非负整数随机变量 $N$ 计算其期望 $E\\left[\\frac{1}{N+1}\\right]$。\n\n令 $P(N=k)$ 为随机变量 $N$ 取值为 $k$ 的概率，其中 $k \\in \\{0, 1, 2, ...\\}$。$N$ 的一个函数，例如 $f(N)$，其期望由定义给出：\n$$\nE[f(N)] = \\sum_{k=0}^{\\infty} f(k) P(N=k)\n$$\n在本问题中，函数为 $f(N) = \\frac{1}{N+1}$。将其代入期望的定义中，我们得到：\n$$\nE\\left[\\frac{1}{N+1}\\right] = \\sum_{k=0}^{\\infty} \\frac{1}{k+1} P(N=k)\n$$\n我们可以将项 $\\frac{1}{k+1}$ 表示为一个定积分：\n$$\n\\frac{1}{k+1} = \\int_{0}^{1} s^k ds\n$$\n将此积分表示代入期望的求和式中：\n$$\nE\\left[\\frac{1}{N+1}\\right] = \\sum_{k=0}^{\\infty} \\left( \\int_{0}^{1} s^k ds \\right) P(N=k)\n$$\n由于求和中的各项是非负的，我们可以交换求和与积分的顺序（根据 Tonelli 定理）：\n$$\nE\\left[\\frac{1}{N+1}\\right] = \\int_{0}^{1} \\left( \\sum_{k=0}^{\\infty} s^k P(N=k) \\right) ds\n$$\n我们识别出括号内的表达式是 $N$ 的 PGF 的定义，即 $G_N(s) = \\sum_{k=0}^{\\infty} P(N=k)s^k$。因此，我们建立了所求期望与 PGF 之间的一个通用关系：\n$$\nE\\left[\\frac{1}{N+1}\\right] = \\int_{0}^{1} G_N(s) ds\n$$\n现在，我们使用问题中给出的特定 PGF：\n$$\nG_N(s) = 1-p + \\frac{p(1-\\alpha)}{1-\\alpha s}\n$$\n我们将此式代入我们的积分表达式中：\n$$\nE\\left[\\frac{1}{N+1}\\right] = \\int_{0}^{1} \\left( 1-p + \\frac{p(1-\\alpha)}{1-\\alpha s} \\right) ds\n$$\n我们可以将积分分成两部分：\n$$\nE\\left[\\frac{1}{N+1}\\right] = \\int_{0}^{1} (1-p) ds + \\int_{0}^{1} \\frac{p(1-\\alpha)}{1-\\alpha s} ds\n$$\n第一个积分很简单：\n$$\n\\int_{0}^{1} (1-p) ds = [(1-p)s]_{0}^{1} = (1-p)(1) - (1-p)(0) = 1-p\n$$\n对于第二个积分，我们可以提出常数：\n$$\n\\int_{0}^{1} \\frac{p(1-\\alpha)}{1-\\alpha s} ds = p(1-\\alpha) \\int_{0}^{1} \\frac{1}{1-\\alpha s} ds\n$$\n$\\frac{1}{1-\\alpha s}$ 关于 $s$ 的原函数是 $-\\frac{1}{\\alpha}\\ln(1-\\alpha s)$。所以，我们计算这个定积分：\n$$\np(1-\\alpha) \\left[ -\\frac{1}{\\alpha}\\ln(1-\\alpha s) \\right]_{0}^{1} = -\\frac{p(1-\\alpha)}{\\alpha} [\\ln(1-\\alpha s)]_{0}^{1}\n$$\n$$\n= -\\frac{p(1-\\alpha)}{\\alpha} \\left( \\ln(1-\\alpha(1)) - \\ln(1-\\alpha(0)) \\right)\n$$\n$$\n= -\\frac{p(1-\\alpha)}{\\alpha} (\\ln(1-\\alpha) - \\ln(1))\n$$\n因为 $\\ln(1)=0$，这简化为：\n$$\n= -\\frac{p(1-\\alpha)}{\\alpha} \\ln(1-\\alpha)\n$$\n最后，我们将两个积分的结果合并起来，得到最终答案：\n$$\nE\\left[\\frac{1}{N+1}\\right] = (1-p) + \\left( -\\frac{p(1-\\alpha)}{\\alpha} \\ln(1-\\alpha) \\right) = 1-p - \\frac{p(1-\\alpha)}{\\alpha} \\ln(1-\\alpha)\n$$", "answer": "$$\\boxed{1-p - \\frac{p(1-\\alpha)}{\\alpha}\\ln(1-\\alpha)}$$", "id": "1409515"}]}