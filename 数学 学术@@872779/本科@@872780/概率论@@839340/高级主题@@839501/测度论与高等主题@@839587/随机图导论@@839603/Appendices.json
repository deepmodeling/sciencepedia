{"hands_on_practices": [{"introduction": "在网络分析中，一项常见任务是量化特定小模式或“基序”的普遍性。这些基序是网络的“构建块”，理解它们的频率可以揭示网络的底层结构。此练习将介绍一个基本工具：期望的线性性，并将其应用于计算“开放三元组”的预期数量，这是一种基本的社会结构。通过这个练习，你将学会如何使用概率论来分析随机图中局部结构的存在性。[@problem_id:1367265]", "problem": "考虑一个社交网络的简化模型，该网络表示为一个有 $N$ 个顶点的图，其中每个顶点对应一个个体。任意两个顶点之间存在一条边（代表好友关系）的概率为固定的 $p$，且与其他所有边独立。\n\n社交网络分析中的一个关键结构是“开放三元组”。一个开放三元组被定义为由三个不同的个体（我们称之为Alex、Beth和Chris）组成的集合，在他们之间恰好存在两段好友关系。例如，Alex是Beth的朋友，Beth是Chris的朋友，但Alex和Chris不是朋友。这种结构在Alex和Chris之间形成了一条两步路径。\n\n您的任务是计算该网络模型中不同开放三元组的期望数量。一个开放三元组由其唯一的三个个体集合来确定。请以个体总数 $N$ 和好友关系概率 $p$ 的闭式解析表达式给出您的答案。", "solution": "设网络为一个无向 Erdős-Rényi 图 $G(N,p)$，它有 $N$ 个顶点，且边存在的独立概率为 $p$。对于一组三个不同的顶点，当它们之间可能存在的三条边中恰好有两条存在时，就形成了一个开放三元组。\n\n对于任意固定的一个由不同顶点组成的无序三元组，存在三条可能的边。恰好有两条边存在的事件，需要从三条边中选择一条不存在的边，并让其余两条边存在。根据边的独立性，一个给定的三元组形成开放三元组的概率是\n$$\nP(\\text{给定三元组构成开放三元组})=3p^{2}(1-p).\n$$\n设 $X$ 为图中开放三元组的总数。用 $T$ 索引无序三元组，并定义指示变量 $I_{T}$：如果三元组 $T$ 形成一个开放三元组，则 $I_{T}$ 等于 $1$，否则等于 $0$。那么\n$$\nX=\\sum_{T} I_{T}, \\quad \\text{所以} \\quad E[X]=\\sum_{T} E[I_{T}].\n$$\n根据对称性，对于每一个三元组 $T$，都有 $E[I_{T}]=3p^{2}(1-p)$。无序三元组的数量为 $\\binom{N}{3}$。因此，\n$$\nE[X]=\\binom{N}{3}\\cdot 3p^{2}(1-p)=\\frac{N(N-1)(N-2)}{2}p^{2}(1-p).\n$$\n这就给出了关于 $N$ 和 $p$ 的、表示不同开放三元组期望数量的闭式表达式。", "answer": "$$\\boxed{\\frac{N(N-1)(N-2)}{2}p^{2}(1-p)}$$", "id": "1367265"}, {"introduction": "在上一练习的基础上，我们现在要考虑一个更精细的结构属性。有时，我们不仅关心哪些连接存在，还关心哪些连接*不存在*。这引出了“导出子图”的概念，即子图包含了顶点子集之间存在于原始图中的*所有*边。此练习要求你计算一个导出路径的预期数量，这不仅需要考虑路径中边的存在，还需要考虑“捷径”边的不存在，从而为你提供了更深入的分析网络结构的方法。[@problem_id:1367289]", "problem": "考虑一个由 $n$ 个服务器组成的大规模网络，其中任意两个不同的服务器之间以概率 $p$ 存在一条直接通信链路，且每对服务器之间的连接是相互独立的。该网络可被建模为一个 Erdős-Rényi 随机图，记作 $G(n,p)$。\n\n在这个网络中，我们关注一种特定的拓扑特征：“脆弱线性级联”。该特征被定义为一组四个不同的服务器，其排列方式使得它们形成一个与四个顶点的路径图 $P_4$ 同构的*导出*子图。路径图 $P_k$ 是一个包含 $k$ 个顶点 $v_1, v_2, \\dots, v_k$ 和 $k-1$ 条边 $(v_1,v_2), (v_2,v_3), \\dots, (v_{k-1},v_k)$ 的图。一个顶点集上的导出子图恰好包含原图中连接该集合内顶点的所有边。“脆弱”这一特性意味着不存在可以绕过该线性结构的“捷径”链路。\n\n求随机图 $G(n,p)$ 中不同脆弱线性级联（即与 $P_4$ 同构的导出子图）的期望数量。你的最终答案应为一个用 $n$ 和 $p$ 表示的解析闭式表达式。", "solution": "设 $X$ 为 $G(n,p)$ 中与 $P_{4}$ 同构的导出子图的数量。对所有4个顶点的子集 $S \\subseteq [n]$ 进行索引，并定义指示变量\n$$\nX_{S}=\n\\begin{cases}\n1,  & \\text{如果 } S \\text{ 上的导出子图与 } P_{4} \\text{ 同构,}\\\\\n0,  & \\text{否则。}\n\\end{cases}\n$$\n那么 $X=\\sum_{S} X_{S}$，其中求和遍历所有 $\\binom{n}{4}$ 个子集 $S$。根据期望的线性性，\n$$\nE[X]=\\sum_{S} E[X_{S}]=\\binom{n}{4}P(\\text{一个固定的 } S \\text{ 上的导出子图是 } P_{4}).\n$$\n\n固定一个4顶点的集合 $S$。在其 $\\binom{4}{2}=6$ 条可能的边中，一个导出 $P_4$ 要求恰好存在3条路径边，而另外3条非路径边不存在。对于 $S$ 上的任一特定带标签的 $P_4$ 实现，其概率为\n$$\np^{3}(1-p)^{3}.\n$$\n我们计算 $S$ 上有多少个不同的带标签边集可以构成一个 $P_4$。一个4顶点的带标签路径图有 $4!/|\\text{Aut}(P_4)| = 24/2 = 12$ 种。因此，\n$$\nP(\\text{S 上的导出 }P_{4})=12p^{3}(1-p)^{3}.\n$$\n\n代回原式，\n$$\nE[X]=\\binom{n}{4}\\cdot 12p^{3}(1-p)^{3}=\\frac{n(n-1)(n-2)(n-3)}{24} \\cdot 12p^{3}(1-p)^{3} = \\frac{n(n-1)(n-2)(n-3)}{2}p^{3}(1-p)^{3}.\n$$\n这是一个用 $n$ 和 $p$ 表示的闭式表达式。", "answer": "$$\\boxed{\\frac{n(n-1)(n-2)(n-3)}{2}p^{3}(1-p)^{3}}$$", "id": "1367289"}, {"introduction": "我们将关注点从计算子结构的预期数量转移到计算特定全局图结构的概率。这类问题需要一种不同的方法，它将组合学（计算该结构可能出现的方式数量）与概率论（计算任何一个特定实例的可能性）相结合。在这个练习中，我们将计算整个图恰好形成一个包含所有顶点的大环（哈密顿圈）的概率，这让你能够练习分析随机图的整体拓扑性质。[@problem_id:1367296]", "problem": "考虑一个由 $n$ 个粒子组成的系统，其中 $n \\geq 3$。我们使用 Erdős-Rényi 随机图模型（记为 $G(n,p)$）来建模这些粒子之间的相互作用。该图有 $n$ 个顶点，代表这些粒子。对于任意一对不同的顶点，它们之间存在一条边的概率为固定的 $p$（其中 $0  p  1$），且与其他所有顶点对是否连边相互独立。如果生成的图是一个包含所有 $n$ 个顶点的单圈（也称为哈密顿圈），则称该结构形成了一个宏观单环。求图 $G(n,p)$ 形成这样一个宏观单环的概率。请用 $n$ 和 $p$ 的函数表示你的答案。", "solution": "我们将相互作用图建模为在 $n$ 个带标签顶点上的 $G(n,p)$ 图，其中 $\\binom{n}{2}$ 条可能的边中的每一条都以概率 $p$ 独立地存在，并以概率 $1-p$ 不存在。\n\n“宏观单环”意味着生成的图恰好是一个使用了所有 $n$ 个顶点且没有额外边的圈。对于一个固定的哈密顿圈（即，一个固定的 $n$ 个带标签顶点的循环排序，其中相邻顶点之间以及首尾顶点之间有边相连），恰好有 $n$ 条边存在，而所有其他 $\\binom{n}{2}-n$ 条边都必须不存在。根据边的独立性，该图恰好是这个特定圈的概率为\n$$\np^{n}(1-p)^{\\binom{n}{2}-n}.\n$$\n\n现在我们来计算在无向图设置中，$n$ 个带标签顶点上不同哈密顿圈的数量。$n$ 个带标签顶点的循环排序数量是 $(n-1)!$，但由于存在两种可能的定向（顺时针和逆时针），每个无向圈被计算了两次。因此，不同哈密顿圈的数量是\n$$\n\\frac{(n-1)!}{2}.\n$$\n\n图等于两个不同哈密顿圈的事件是互斥的，因为每个这样的事件都指定了一个完全不同的边集。因此，根据互斥事件的概率加法法则，$G(n,p)$ 恰好是一个 $n$-圈的总概率是\n$$\n\\frac{(n-1)!}{2}p^{n}(1-p)^{\\binom{n}{2}-n}.\n$$\n此结论对所有 $n \\geq 3$ 和 $0  p  1$ 成立。", "answer": "$$\\boxed{\\frac{(n-1)!}{2}p^{n}\\left(1-p\\right)^{\\binom{n}{2}-n}}$$", "id": "1367296"}]}