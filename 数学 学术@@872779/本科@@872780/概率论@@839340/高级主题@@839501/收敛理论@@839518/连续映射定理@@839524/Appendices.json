{"hands_on_practices": [{"introduction": "我们从一个基础应用开始，探索连续映射定理最直接的形式：保持依概率收敛。这个练习将展示如何为一个简单的统计量（如平均速率）建立收敛性，然后利用该结果直接推断其连续函数的极限。通过这个实践 [@problem_id:1395918]，你将掌握“极限保持”这一核心思想，为更复杂的应用打下坚实基础。", "problem": "一个数据中心将时长为 $t$ 分钟的时间间隔内收到的请求数量 $X_t$ 建模为均值为 $t$ 的泊松随机变量。为了监控服务器的长期负载稳定性，一位系统管理员定义了一系列测量。对于每个正整数 $n$，他们观测在 $n$ 分钟的时间间隔内的总请求数 $X_n$。基于此观测，他们计算一个实验性的稳定性度量 $M_n$，定义为该时间间隔内请求平均速率的立方根。平均速率的计算方法是总请求数 $X_n$ 除以时间间隔的长度 $n$。\n\n确定当 $n$ 趋于无穷时，稳定性度量 $M_n$ 依概率收敛到的值。", "solution": "令 $\\{X_{t}: t \\geq 0\\}$ 满足对每个 $t$，$X_{t} \\sim \\operatorname{Poisson}(t)$。特别地，对每个正整数 $n$，我们有 $X_{n} \\sim \\operatorname{Poisson}(n)$，所以\n$$\n\\mathbb{E}[X_{n}] = n, \\qquad \\operatorname{Var}(X_{n}) = n.\n$$\n定义平均速率 $R_{n} = \\frac{X_{n}}{n}$。那么\n$$\n\\mathbb{E}[R_{n}] = \\frac{\\mathbb{E}[X_{n}]}{n} = 1, \\qquad \\operatorname{Var}(R_{n}) = \\frac{\\operatorname{Var}(X_{n})}{n^{2}} = \\frac{1}{n}.\n$$\n根据切比雪夫不等式，对任意 $\\epsilon > 0$，\n$$\n\\mathbb{P}\\Big(|R_{n} - 1| > \\epsilon\\Big) \\leq \\frac{\\operatorname{Var}(R_{n})}{\\epsilon^{2}} = \\frac{1}{n \\epsilon^{2}} \\xrightarrow[n \\to \\infty]{} 0,\n$$\n所以 $R_{n} \\xrightarrow{P} 1$。\n\n稳定性度量为 $M_{n} = \\left(\\frac{X_{n}}{n}\\right)^{1/3} = R_{n}^{1/3}$。函数 $f(x) = x^{1/3}$ 在 $x = 1$ 处是连续的。根据连续映射定理，如果 $R_{n} \\xrightarrow{P} 1$，那么\n$$\nM_{n} = f(R_{n}) \\xrightarrow{P} f(1) = 1.\n$$\n因此，该稳定性度量依概率收敛到 $1$。", "answer": "$$\\boxed{1}$$", "id": "1395918"}, {"introduction": "接下来，我们将展示连续映射定理与概率论中另一个基石——中心极限定理（CLT）——的强大协同作用。在统计推断中，我们常常需要确定复杂统计量的渐近分布，而这正是CLT和CMT联手发挥作用的典型场景。这个练习 [@problem_id:1395931] 将引导你先应用CLT得到一个中间结果的极限分布，再通过CMT推导出最终我们关心的随机变量的分布。", "problem": "设 $X_1, X_2, \\ldots, X_n$ 为一个独立同分布 (i.i.d.) 的随机变量序列，每个变量都服从区间 $(0, 1)$ 上的均匀分布。令 $\\bar{X}_n = \\frac{1}{n}\\sum_{i=1}^{n} X_i$ 为样本均值。\n\n考虑一个由下式定义的新随机变量序列\n$$ Y_n = \\exp\\left(\\sqrt{n}\\left(\\bar{X}_n - \\frac{1}{2}\\right)\\right) $$\n当 $n \\to \\infty$ 时，随机变量序列 $Y_n$ 依分布收敛于一个特定的极限概率分布。下列哪项正确描述了这个极限分布？\n\nA. 均值为 1，方差为 $\\frac{1}{12}$ 的正态分布。\n\nB. 参数为 $\\mu=0$ 和 $\\sigma^2=\\frac{1}{12}$ 的对数正态分布。\n\nC. 速率参数为 $\\lambda = \\sqrt{12}$ 的指数分布。\n\nD. 参数为 $\\mu=\\frac{1}{2}$ 和 $\\sigma^2=\\frac{1}{12}$ 的对数正态分布。\n\nE. 在常数值 1 处的退化分布。", "solution": "我们的目标是求出当 $n \\to \\infty$ 时，随机变量 $Y_n = \\exp\\left(\\sqrt{n}\\left(\\bar{X}_n - \\frac{1}{2}\\right)\\right)$ 的极限分布。序列 $X_1, X_2, \\ldots$ 由服从 Uniform(0, 1) 分布的独立同分布随机变量组成。\n\n首先，我们需要确定单个随机变量 $X_i \\sim \\text{Uniform}(0, 1)$ 的均值和方差。\n均值（期望值）由下式给出：\n$$ E[X_i] = \\mu = \\frac{0+1}{2} = \\frac{1}{2} $$\n方差由下式给出：\n$$ V[X_i] = \\sigma^2 = \\frac{(1-0)^2}{12} = \\frac{1}{12} $$\n\n接下来，我们将中心极限定理 (CLT) 应用于样本均值 $\\bar{X}_n$。中心极限定理指出，对于一个具有有限均值 $\\mu$ 和有限方差 $\\sigma^2$ 的独立同分布随机变量序列，标准化样本均值的分布收敛于标准正态分布。一个对我们目的更方便的形式是，随机变量 $\\sqrt{n}(\\bar{X}_n - \\mu)$ 依分布收敛于一个均值为 0、方差为 $\\sigma^2$ 的正态分布。\n用符号表示，当 $n \\to \\infty$ 时：\n$$ \\sqrt{n}(\\bar{X}_n - \\mu) \\xrightarrow{d} N(0, \\sigma^2) $$\n其中 $\\xrightarrow{d}$ 表示依分布收敛。\n\n代入我们为 Uniform(0, 1) 分布计算出的 $\\mu$ 和 $\\sigma^2$ 的值：\n$$ \\sqrt{n}\\left(\\bar{X}_n - \\frac{1}{2}\\right) \\xrightarrow{d} N\\left(0, \\frac{1}{12}\\right) $$\n我们定义一个随机变量序列 $Z_n = \\sqrt{n}\\left(\\bar{X}_n - \\frac{1}{2}\\right)$。中心极限定理告诉我们，$Z_n$ 依分布收敛于一个随机变量 $Z \\sim N\\left(0, \\frac{1}{12}\\right)$。\n\n我们感兴趣的随机变量是 $Y_n = \\exp(Z_n)$。为了找到 $Y_n$ 的极限分布，我们可以使用连续映射定理 (CMT)。连续映射定理指出，如果一个随机变量序列 $Z_n$ 依分布收敛于一个随机变量 $Z$ (即 $Z_n \\xrightarrow{d} Z$)，并且如果 $g$ 是一个连续函数，那么随机变量序列 $g(Z_n)$ 依分布收敛于随机变量 $g(Z)$ (即 $g(Z_n) \\xrightarrow{d} g(Z)$)。\n\n在我们的例子中，函数是 $g(x) = \\exp(x) = e^x$。这个函数对于所有实数 $x$ 都是连续的。\n应用连续映射定理，我们有：\n$$ Y_n = \\exp(Z_n) = g(Z_n) \\xrightarrow{d} g(Z) = \\exp(Z) $$\n其中 $Z \\sim N\\left(0, \\frac{1}{12}\\right)$。\n\n最后一步是确定 $\\exp(Z)$ 的分布。根据定义，如果一个随机变量 $Z$ 服从均值为 $\\mu_Z$、方差为 $\\sigma_Z^2$ 的正态分布，即 $Z \\sim N(\\mu_Z, \\sigma_Z^2)$，那么随机变量 $W = \\exp(Z)$ 服从对数正态分布。这个对数正态分布的参数是其对应的正态随机变量 $Z$ 的均值和方差。这通常记为 $W \\sim \\text{Lognormal}(\\mu_Z, \\sigma_Z^2)$。\n\n在我们的问题中，极限随机变量 $Z$ 服从均值为 $\\mu_Z = 0$、方差为 $\\sigma_Z^2 = \\frac{1}{12}$ 的正态分布。\n因此，$Y_n$ 的极限分布是参数为 $\\mu = 0$ 和 $\\sigma^2 = \\frac{1}{12}$ 的对数正态分布。\n\n将这个结果与给定的选项进行比较：\nA. 均值为 1，方差为 $\\frac{1}{12}$ 的正态分布。(错误)\nB. 参数为 $\\mu=0$ 和 $\\sigma^2=\\frac{1}{12}$ 的对数正态分布。(正确)\nC. 速率参数为 $\\lambda = \\sqrt{12}$ 的指数分布。(错误)\nD. 参数为 $\\mu=\\frac{1}{2}$ 和 $\\sigma^2=\\frac{1}{12}$ 的对数正态分布。(错误)\nE. 在常数值 1 处的退化分布。(错误)\n\n正确选项是 B。", "answer": "$$\\boxed{B}$$", "id": "1395931"}, {"introduction": "最后，我们将应用范围扩展到多维随机变量，这更能体现定理的普适性和严谨性。这个问题 [@problem_id:1395925] 要求我们将连续映射定理应用于一个双变量函数，它不仅演示了如何处理联合收敛，还巧妙地触及了一个关键的理论细节：函数的非连续点集合在极限分布下的概率必须为零。这对于确保定理的严格应用至关重要。", "problem": "设 $\\{X_n\\}_{n=1}^{\\infty}$ 和 $\\{Y_n\\}_{n=1}^{\\infty}$ 是两个随机变量序列，其中对任意固定的 $n$，变量 $X_n$ 和 $Y_n$ 相互独立。假设当 $n \\to \\infty$ 时，两个序列都依分布收敛（记作 $\\xrightarrow{d}$）于相互独立的标准正态随机变量。具体来说，$X_n \\xrightarrow{d} X$ 且 $Y_n \\xrightarrow{d} Y$，其中 $X \\sim \\mathcal{N}(0, 1)$ 和 $Y \\sim \\mathcal{N}(0, 1)$ 是相互独立的。\n\n考虑一个新的随机变量序列 $\\Theta_n$，它由变换 $\\Theta_n = \\arctan(Y_n / X_n)$ 定义，其中 arctan 函数的值域为区间 $(-\\frac{\\pi}{2}, \\frac{\\pi}{2})$ 弧度。\n\n当 $n \\to \\infty$ 时，下列哪个选项正确描述了 $\\Theta_n$ 的极限分布？\n\nA. 标准正态分布，$\\mathcal{N}(0,1)$。\n\nB. 标准柯西分布，其概率密度函数为 $f(\\theta) = \\frac{1}{\\pi(1+\\theta^2)}$，其中 $\\theta \\in (-\\infty, \\infty)$。\n\nC. 在区间 $(-\\frac{\\pi}{2}, \\frac{\\pi}{2})$ 上的均匀分布。\n\nD. 一个概率密度函数为 $f(\\theta) = \\frac{1}{2}\\cos(\\theta)$ 的分布，其中 $\\theta \\in (-\\frac{\\pi}{2}, \\frac{\\pi}{2})$。\n\nE. 在区间 $(-\\frac{\\pi}{2}, \\frac{\\pi}{2})$ 上的三角分布，其峰值在 $\\theta=0$ 处。", "solution": "我们已知随机变量 $X_{n}$ 和 $Y_{n}$，使得对每个 $n$，$X_{n}$ 和 $Y_{n}$ 相互独立，且当 $n \\to \\infty$ 时，$X_{n} \\xrightarrow{d} X$，$Y_{n} \\xrightarrow{d} Y$，其中 $X \\sim \\mathcal{N}(0,1)$ 和 $Y \\sim \\mathcal{N}(0,1)$ 相互独立。定义 $\\Theta_{n} = \\arctan\\!\\left(\\frac{Y_{n}}{X_{n}}\\right)$，其值域为 $(-\\frac{\\pi}{2}, \\frac{\\pi}{2})$。\n\n第1步：联合收敛。因为对每个 $n$，变量 $X_{n}$ 和 $Y_{n}$ 都是独立的，所以联合特征函数可以分解为：\n$$\n\\varphi_{(X_{n},Y_{n})}(t,s) \\;=\\; \\varphi_{X_{n}}(t)\\,\\varphi_{Y_{n}}(s).\n$$\n根据假定的边缘收敛，$\\varphi_{X_{n}}(t) \\to \\varphi_{X}(t)$ 且 $\\varphi_{Y_{n}}(s) \\to \\varphi_{Y}(s)$ 逐点成立，因此\n$$\n\\varphi_{(X_{n},Y_{n})}(t,s) \\;\\to\\; \\varphi_{X}(t)\\,\\varphi_{Y}(s) \\;=\\; \\varphi_{(X,Y)}(t,s),\n$$\n其中最后的等式利用了 $X$ 和 $Y$ 的独立性。因此 $(X_{n},Y_{n}) \\xrightarrow{d} (X,Y)$。\n\n第2步：映射到比率和角度。考虑在集合 $\\{x\\neq 0\\}$ 上的映射 $m:\\mathbb{R}^{2}\\to\\mathbb{R}$，由 $m(x,y)=y/x$ 给出。函数 $m$ 在 $\\{x\\neq 0\\}$ 上是连续的，其不连续点集 $\\{x=0\\}$ 在极限定律下的概率为零，因为对于 $X \\sim \\mathcal{N}(0,1)$ 有 $\\mathbb{P}(X=0)=0$。根据连续映射定理（允许在极限分布下的零测集上存在不连续点的版本），\n$$\n\\frac{Y_{n}}{X_{n}} \\;\\xrightarrow{d}\\; \\frac{Y}{X}.\n$$\n现在，对连续函数 $g:\\mathbb{R}\\to(-\\frac{\\pi}{2},\\frac{\\pi}{2})$（由 $g(t)=\\arctan(t)$ 给出）再次应用连续映射定理，得到\n$$\n\\Theta_{n} \\;=\\; \\arctan\\!\\left(\\frac{Y_{n}}{X_{n}}\\right) \\;\\xrightarrow{d}\\; \\Theta \\;:=\\; \\arctan\\!\\left(\\frac{Y}{X}\\right).\n$$\n\n第3步：确定极限 $\\Theta$ 的分布。有两条等价的标准途径。\n\n途径 A（通过柯西比率）：对于独立的 $X,Y \\sim \\mathcal{N}(0,1)$，比率 $T:=Y/X$ 服从标准柯西分布，其密度函数为 $f_{T}(t)=\\frac{1}{\\pi(1+t^{2})}$，其中 $t\\in\\mathbb{R}$。由于 $\\Theta=\\arctan(T)$ 且 $\\arctan$ 是从 $\\mathbb{R}$ 到 $(-\\frac{\\pi}{2},\\frac{\\pi}{2})$ 的光滑双射，根据变量替换公式，对于 $\\theta \\in \\left(-\\frac{\\pi}{2},\\frac{\\pi}{2}\\right)$，可得：\n$$\nf_{\\Theta}(\\theta) \\;=\\; f_{T}(\\tan\\theta)\\,\\left|\\frac{d}{d\\theta}\\tan\\theta\\right|\n\\;=\\; \\frac{1}{\\pi\\left(1+\\tan^{2}\\theta\\right)}\\,\\sec^{2}\\theta\n\\;=\\; \\frac{1}{\\pi},\n$$\n因为 $1+\\tan^{2}\\theta=\\sec^{2}\\theta$。因此 $\\Theta$ 在 $\\left(-\\frac{\\pi}{2},\\frac{\\pi}{2}\\right)$ 上服从均匀分布。\n\n途径 B（通过旋转对称性）：$(X,Y)$ 的联合密度函数为\n$$\nf_{X,Y}(x,y) \\;=\\; \\frac{1}{2\\pi}\\exp\\!\\left(-\\frac{x^{2}+y^{2}}{2}\\right).\n$$\n在极坐标系中，$x=r\\cos\\phi$，$y=r\\sin\\phi$，雅可比行列式为 $r$，可得\n$$\nf_{R,\\Phi}(r,\\phi) \\;=\\; \\frac{1}{2\\pi}\\exp\\!\\left(-\\frac{r^{2}}{2}\\right) r,\n$$\n上式可以分解，意味着 $\\Phi$ 在 $(-\\pi,\\pi)$ 上服从均匀分布，且与 $R$ 相互独立。量 $\\Theta=\\arctan(Y/X)$ 等于角度 $\\Phi$ 模 $\\pi$ 变换后的结果，因此它在 $(-\\frac{\\pi}{2},\\frac{\\pi}{2})$ 上服从均匀分布，密度为 $1/\\pi$。\n\n无论采用哪条途径，极限 $\\Theta$ 都服从 $\\mathrm{Uniform}\\!\\left(-\\frac{\\pi}{2},\\frac{\\pi}{2}\\right)$ 分布。因此，根据上文已证明的依分布收敛性，有 $\\Theta_{n} \\xrightarrow{d} \\mathrm{Uniform}\\!\\left(-\\frac{\\pi}{2},\\frac{\\pi}{2}\\right)$，这对应于选项 C。", "answer": "$$\\boxed{C}$$", "id": "1395925"}]}