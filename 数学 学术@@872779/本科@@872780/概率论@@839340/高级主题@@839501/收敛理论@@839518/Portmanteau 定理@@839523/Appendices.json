{"hands_on_practices": [{"introduction": "本练习将通过一个具体实例，展示如何运用波特曼托定理来验证弱收敛到一个常数（即点质量分布）。我们将看到，检验一个有界连续函数 $g(X_n)$ 的期望是否收敛于 $g(c)$，是该定理最基本的应用之一。这个场景在测量理论中很常见，即测量精度随时间推移而提高。", "problem": "在一项高精度物理实验中，为确定一个恒定的物理参数 $c$，进行了一系列测量，记为随机变量 $X_n$，$n = 1, 2, 3, \\ldots$。测量设备在每次试验中都会得到改进，不确定性也随之减小。第 $n$ 次测量 $X_n$ 被建模为一个在区间 $[c - 1/n, c + 1/n]$ 上服从均匀分布的随机变量。\n\n一个理论模型预测，当测量次数趋于无穷大时，相关量 $g(X_n)$ 的期望值将收敛到一个特定值。函数 $g(x)$ 定义为 $g(x) = A \\sin(\\omega x) + B \\cos(\\omega x)$，其中 $A$、$B$、$\\omega$ 和 $c$ 是给定的实常数，且 $\\omega \\neq 0$。\n\n你的任务是确定当 $n$ 趋于无穷大时 $g(X_n)$ 期望的极限值。求出以下极限的值：\n$$L = \\lim_{n \\to \\infty} \\mathbb{E}[g(X_n)]$$\n请用常数 $A、B、\\omega$ 和 $c$ 将答案表示为单个闭式解析表达式。", "solution": "设 $X_{n} \\sim \\text{Uniform}[c - 1/n, c + 1/n]$。其密度函数为 $f_{n}(x) = \\frac{n}{2}$（当 $x \\in [c - 1/n, c + 1/n]$ 时），其他情况下为零。根据期望的线性性质，\n$$\n\\mathbb{E}[g(X_{n})] \\equiv \\mathbb{E}[A \\sin(\\omega X_{n}) + B \\cos(\\omega X_{n})] = A\\,\\mathbb{E}[\\sin(\\omega X_{n})] + B\\,\\mathbb{E}[\\cos(\\omega X_{n})].\n$$\n通过积分计算每一项：\n$$\n\\mathbb{E}[\\sin(\\omega X_{n})] = \\frac{n}{2} \\int_{c - 1/n}^{c + 1/n} \\sin(\\omega x)\\,dx = \\frac{n}{2} \\cdot \\frac{1}{\\omega}\\left[-\\cos(\\omega x)\\right]_{x=c - 1/n}^{x=c + 1/n}.\n$$\n使用恒等式 $\\cos u - \\cos v = -2 \\sin\\!\\left(\\frac{u+v}{2}\\right)\\sin\\!\\left(\\frac{u-v}{2}\\right)$，并令 $u = \\omega(c - 1/n)$ 和 $v = \\omega(c + 1/n)$，我们得到\n$$\n\\mathbb{E}[\\sin(\\omega X_{n})] = \\frac{n}{2} \\cdot \\frac{1}{\\omega}\\left(\\cos(\\omega(c - 1/n)) - \\cos(\\omega(c + 1/n))\\right) = \\frac{n}{\\omega}\\,\\sin(\\omega c)\\,\\sin\\!\\left(\\frac{\\omega}{n}\\right).\n$$\n类似地，\n$$\n\\mathbb{E}[\\cos(\\omega X_{n})] = \\frac{n}{2} \\int_{c - 1/n}^{c + 1/n} \\cos(\\omega x)\\,dx = \\frac{n}{2} \\cdot \\frac{1}{\\omega}\\left[\\sin(\\omega x)\\right]_{x=c - 1/n}^{x=c + 1/n}.\n$$\n使用恒等式 $\\sin v - \\sin u = 2 \\cos\\!\\left(\\frac{u+v}{2}\\right)\\sin\\!\\left(\\frac{v-u}{2}\\right)$，并令 $u = \\omega(c - 1/n)$ 和 $v = \\omega(c + 1/n)$，我们得到\n$$\n\\mathbb{E}[\\cos(\\omega X_{n})] = \\frac{n}{2} \\cdot \\frac{1}{\\omega}\\left(\\sin(\\omega(c + 1/n)) - \\sin(\\omega(c - 1/n))\\right) = \\frac{n}{\\omega}\\,\\cos(\\omega c)\\,\\sin\\!\\left(\\frac{\\omega}{n}\\right).\n$$\n因此，\n$$\n\\mathbb{E}[g(X_{n})] = \\frac{n}{\\omega}\\,\\sin\\!\\left(\\frac{\\omega}{n}\\right)\\,\\big(A \\sin(\\omega c) + B \\cos(\\omega c)\\big).\n$$\n由于 $\\omega \\neq 0$，令 $y_{n} = \\frac{\\omega}{n}$，则当 $n \\to \\infty$ 时 $y_{n} \\to 0$。使用极限 $\\lim_{y \\to 0} \\frac{\\sin y}{y} = 1$ 可得\n$$\n\\lim_{n \\to \\infty} \\mathbb{E}[g(X_{n})] = \\left(\\lim_{n \\to \\infty} \\frac{n}{\\omega}\\sin\\!\\left(\\frac{\\omega}{n}\\right)\\right)\\big(A \\sin(\\omega c) + B \\cos(\\omega c)\\big) = A \\sin(\\omega c) + B \\cos(\\omega c).\n$$\n这也符合一个直观的结论：由于 $X_{n}$ 集中在 $c$ 处且 $g$ 是连续函数，因此 $\\mathbb{E}[g(X_{n})] \\to g(c)$。", "answer": "$$\\boxed{A \\sin(\\omega c)+B \\cos(\\omega c)}$$", "id": "1404905"}, {"introduction": "现在，让我们换个角度，探索波特曼托定理中另一个强大的等价条件。在本练习 [@problem_id:1404886] 中，我们不再计算期望，而是关注随机变量落入某个特定区间的概率。这个练习将展示如何通过累积分布函数（或尾概率）的收敛性来确定极限分布。", "problem": "考虑一个随机变量序列 $\\{X_n\\}_{n=1}^{\\infty}$，其中对于每个正整数 $n$，随机变量 $X_n$ 服从区间 $[1/n, 1]$ 上的均匀概率分布。您的任务是找到满足以下极限条件的特定实数常数 $c$：\n$$\n\\lim_{n \\to \\infty} P(X_n > c) = \\frac{1}{3}\n$$\n请给出 $c$ 的确切值。", "solution": "对于每个正整数 $n$，随机变量 $X_{n}$ 在 $[1/n, 1]$ 上均匀分布。对于一个常数 $c \\in \\mathbb{R}$，其尾部概率 $P(X_{n} > c)$ 可通过在 $[a,b]$ 上的均匀分布计算，其中 $a = 1/n$ 且 $b = 1$。其一般形式为\n$$\nP(X_{n} > c) =\n\\begin{cases}\n1,  c \\leq \\frac{1}{n}, \\\\\n\\displaystyle \\int_{c}^{1} \\frac{1}{1 - \\frac{1}{n}} \\, dx,  \\frac{1}{n}  c  1, \\\\\n0,  c \\geq 1.\n\\end{cases}\n$$\n计算中间情况的积分可得\n$$\nP(X_{n} > c) = \\frac{1 - c}{1 - \\frac{1}{n}} = \\frac{n(1 - c)}{n - 1}, \\quad \\text{对于 } \\frac{1}{n}  c  1.\n$$\n我们现在针对 $c$ 的不同取值范围，分析其在 $n \\to \\infty$ 时的极限：\n- 如果 $c \\leq 0$，那么对于所有足够大的 $n$，我们有 $c \\leq \\frac{1}{n}$，因此 $P(X_{n} > c) = 1$ 且 $\\lim_{n \\to \\infty} P(X_{n} > c) = 1$。\n- 如果 $0  c  1$，那么对于所有足够大的 $n$，我们有 $\\frac{1}{n}  c  1$，因此\n$$\nP(X_{n} > c) = \\frac{n(1 - c)}{n - 1} \\to 1 - c \\quad \\text{当 } n \\to \\infty \\text{ 时},\n$$\n因为 $\\frac{n}{n - 1} \\to 1$。\n- 如果 $c \\geq 1$，那么对于所有 $n$，有 $P(X_{n} > c) = 0$，所以极限为 $0$。\n\n因此，\n$$\n\\lim_{n \\to \\infty} P(X_{n} > c) =\n\\begin{cases}\n1,  c \\leq 0, \\\\\n1 - c,  0  c  1, \\\\\n0,  c \\geq 1.\n\\end{cases}\n$$\n为满足 $\\lim_{n \\to \\infty} P(X_{n} > c) = \\frac{1}{3}$，我们必须有 $0  c  1$ 并求解 $1 - c = \\frac{1}{3}$，这得出 $c = \\frac{2}{3}$。该值与所需范围一致，并唯一地满足该条件。", "answer": "$$\\boxed{\\frac{2}{3}}$$", "id": "1404886"}, {"introduction": "这个更进阶的练习揭示了弱收敛的一个深刻见解。我们面对一个概率密度函数序列，其振荡越来越快。这个练习 [@problem_id:1404893] 展示了在“弱”意义下，这些振荡是如何被平均掉的，使得序列收敛到一个简单的均匀分布，这突显了 $\\int f dP_n$ 条件的威力及其与黎曼-勒贝格引理等概念的联系。", "problem": "考虑在区间 $[0,1]$ 上定义的一个概率分布序列 $\\{P_n\\}_{n=1}^{\\infty}$。每个分布 $P_n$ 对应的概率密度函数 (PDF) 为 $f_n(x) = 1 + \\cos(2\\pi n x)$，其中 $x \\in [0,1]$。设 $X_n$ 是一个服从分布 $P_n$ 的随机变量。您的任务是计算当 $n$ 趋于无穷大时，$X_n$ 的三阶矩的极限。换句话说，计算以下极限的精确值：\n$$ \\lim_{n \\to \\infty} \\mathbb{E}[X_n^3] $$", "solution": "问题要求计算当 $n \\to \\infty$ 时 $X_n^3$ 的期望的极限。根据定义，一个连续随机变量的函数的期望是该函数乘以其概率密度函数在其支撑集上的积分。\n\n第一步：写出期望 $\\mathbb{E}[X_n^3]$ 的表达式。\n对于在 $[0,1]$ 上具有概率密度函数 $f_n(x)$ 的随机变量 $X_n$，其三阶矩由以下公式给出：\n$$ \\mathbb{E}[X_n^3] = \\int_{0}^{1} x^3 f_n(x) \\,dx $$\n代入给定的概率密度函数 $f_n(x) = 1 + \\cos(2\\pi n x)$，我们得到：\n$$ \\mathbb{E}[X_n^3] = \\int_{0}^{1} x^3 (1 + \\cos(2\\pi n x)) \\,dx $$\n\n第二步：将积分分成两部分。\n我们可以将这个积分分解为两个更简单的积分：\n$$ \\mathbb{E}[X_n^3] = \\int_{0}^{1} x^3 \\,dx + \\int_{0}^{1} x^3 \\cos(2\\pi n x) \\,dx $$\n\n第三步：计算第一个积分。\n第一个积分是一个标准的多项式积分：\n$$ \\int_{0}^{1} x^3 \\,dx = \\left[ \\frac{x^4}{4} \\right]_{0}^{1} = \\frac{1^4}{4} - \\frac{0^4}{4} = \\frac{1}{4} $$\n\n第四步：计算第二个积分在 $n \\to \\infty$ 时的极限。\n设第二个积分为 $I_n$：\n$$ I_n = \\int_{0}^{1} x^3 \\cos(2\\pi n x) \\,dx $$\n我们需要求 $\\lim_{n \\to \\infty} I_n$。我们可以使用黎曼-勒贝格引理（Riemann-Lebesgue lemma），该引理指出，如果一个函数 $g(x)$ 在 $[a,b]$ 上是 $L^1$ 可积的，即 $\\int_a^b |g(x)| dx  \\infty$，那么\n$$ \\lim_{\\lambda \\to \\infty} \\int_{a}^{b} g(x) \\cos(\\lambda x) \\,dx = 0 $$\n且\n$$ \\lim_{\\lambda \\to \\infty} \\int_{a}^{b} g(x) \\sin(\\lambda x) \\,dx = 0 $$\n在我们的问题中，函数是 $g(x) = x^3$，定义在区间 $[0,1]$ 上。这个函数在闭区间上是连续的，因此它是有界的，从而也是可积的（即属于 $L^1([0,1])$）。我们有 $\\lambda = 2\\pi n$。当 $n \\to \\infty$ 时，$\\lambda$ 也趋于无穷大。\n应用黎曼-勒贝格引理，我们直接得到：\n$$ \\lim_{n \\to \\infty} I_n = \\lim_{n \\to \\infty} \\int_{0}^{1} x^3 \\cos(2\\pi n x) \\,dx = 0 $$\n\n为了完整性，我们也可以使用分部积分法来证明这个结果。令 $k = 2\\pi n$。\n$$ I_n = \\int_0^1 x^3 \\cos(kx) dx = \\left[x^3 \\frac{\\sin(kx)}{k}\\right]_0^1 - \\int_0^1 3x^2 \\frac{\\sin(kx)}{k} dx $$\n$$ I_n = \\frac{\\sin(k)}{k} - \\frac{3}{k} \\int_0^1 x^2 \\sin(kx) dx $$\n对剩余的积分再次进行分部积分：\n$$ \\int_0^1 x^2 \\sin(kx) dx = \\left[x^2 \\frac{-\\cos(kx)}{k}\\right]_0^1 - \\int_0^1 2x \\frac{-\\cos(kx)}{k} dx = -\\frac{\\cos(k)}{k} + \\frac{2}{k} \\int_0^1 x \\cos(kx) dx $$\n第三次进行分部积分：\n$$ \\int_0^1 x \\cos(kx) dx = \\left[x \\frac{\\sin(kx)}{k}\\right]_0^1 - \\int_0^1 \\frac{\\sin(kx)}{k} dx = \\frac{\\sin(k)}{k} - \\left[\\frac{-\\cos(kx)}{k^2}\\right]_0^1 = \\frac{\\sin(k)}{k} - \\left(\\frac{1-\\cos(k)}{k^2}\\right) $$\n将所有结果代回，我们得到了一个关于 $I_n$ 的复杂表达式，其中分母包含 $k=2\\pi n$ 的幂次项。当 $n \\to \\infty$ 时，$k \\to \\infty$，由于分子是有界常数，所有项都趋于零。这明确地证实了 $\\lim_{n \\to \\infty} I_n = 0$。\n\n第五步：合并结果以求得最终极限。\n我们要求的是 $\\lim_{n \\to \\infty} \\mathbb{E}[X_n^3]$。\n$$ \\lim_{n \\to \\infty} \\mathbb{E}[X_n^3] = \\lim_{n \\to \\infty} \\left( \\int_{0}^{1} x^3 \\,dx + \\int_{0}^{1} x^3 \\cos(2\\pi n x) \\,dx \\right) $$\n$$ \\lim_{n \\to \\infty} \\mathbb{E}[X_n^3] = \\lim_{n \\to \\infty} \\left( \\frac{1}{4} + I_n \\right) = \\frac{1}{4} + \\lim_{n \\to \\infty} I_n = \\frac{1}{4} + 0 = \\frac{1}{4} $$\n\n这个结果可以在弱收敛（weak convergence）的背景下理解。具有密度函数 $f_n(x) = 1 + \\cos(2\\pi n x)$ 的测度序列 $P_n$ 弱收敛于 $[0,1]$ 上的均匀测度，其概率密度函数为常数 $f(x)=1$。波特曼托定理（Portmanteau Theorem）意味着，对于任意有界连续函数，其关于 $P_n$ 的期望会收敛到其关于极限测度的期望。对于 $g(x)=x^3$，该极限为：\n$$ \\mathbb{E}[X^3] = \\int_0^1 x^3 f(x) dx = \\int_0^1 x^3 (1) dx = \\frac{1}{4} $$\n我们的计算证实了这一点。", "answer": "$$\\boxed{\\frac{1}{4}}$$", "id": "1404893"}]}