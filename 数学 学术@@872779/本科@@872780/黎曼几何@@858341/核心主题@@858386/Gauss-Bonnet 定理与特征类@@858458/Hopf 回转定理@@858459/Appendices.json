{"hands_on_practices": [{"introduction": "理解一个概念的最好方法之一就是亲手构造它。这个练习引导我们直接构建一个平面曲线，其切向量的旋转圈数由一个预设的整数 $k$ 决定。通过规定速度向量的形式，我们可以清晰地看到旋转数如何作为输入参数直接塑造曲线的全局几何特性 [@problem_id:3050426]。", "problem": "令 $\\mathbb{C}$ 通过 $z=x+iy$ 与 $\\mathbb{R}^{2}$ 等同。固定一个整数 $k$，并令 $\\rho:[0,2\\pi]\\to(0,\\infty)$ 为一个光滑函数。通过指定其速度来定义一条平面曲线 $z:[0,2\\pi]\\to\\mathbb{C}$\n$$\nz'(t)=\\rho(t)\\,\\exp(i k t)\n$$\n并选择任意初始点 $z(0)\\in\\mathbb{C}$，从而\n$$\nz(t)=z(0)+\\int_{0}^{t}\\rho(\\tau)\\,\\exp(i k \\tau)\\,d\\tau.\n$$\n令 $s(t)$ 表示从 $t=0$ 开始测量的弧长参数，因此 $ds=|z'(t)|\\,dt=\\rho(t)\\,dt$。仅使用正则平面曲线的带符号曲率 $\\kappa$ 满足 $\\kappa=\\frac{d\\theta}{ds}$（其中 $\\theta(s)$ 是单位切线相对于固定轴的角度）以及区间上的总曲率为 $\\int\\kappa\\,ds$ 这两个基本定义，计算 $z$ 在 $t\\in[0,2\\pi]$ 上的总曲率。你的最终答案需用弧度表示，并写成一个关于 $k$ 的单一闭式解析表达式。", "solution": "题目要求计算平面曲线 $z(t)$ 在 $t \\in [0, 2\\pi]$ 上的总曲率。总曲率定义为带符号曲率 $\\kappa$ 对弧长参数 $s$ 的积分。\n$$\n\\text{总曲率} = \\int_{C} \\kappa \\, ds\n$$\n带符号曲率由关系式 $\\kappa = \\frac{d\\theta}{ds}$ 给出，其中 $\\theta(s)$ 是单位切向量相对于固定轴的角度。曲线 $C$ 是当参数 $t$ 从 $0$ 变化到 $2\\pi$ 时描绘出的。令起始点的弧长为 $s_0=s(0)$，终点的弧长为 $s_f=s(2\\pi)$。\n\n根据微积分基本定理，总曲率是角度 $\\theta$ 的总变化量：\n$$\n\\text{总曲率} = \\int_{s_0}^{s_f} \\frac{d\\theta}{ds} \\, ds = \\theta(s_f) - \\theta(s_0)\n$$\n这等价于求最终切线角 $\\theta(t=2\\pi)$ 与初始切线角 $\\theta(t=0)$ 之间的差值。\n\n为了确定切线角，我们首先求出单位切向量。曲线的速度向量以复数形式给出：\n$$\nz'(t) = \\rho(t) \\exp(i k t)\n$$\n此处，$\\rho(t)$ 是一个光滑函数，对于所有 $t \\in [0, 2\\pi]$ 都有 $\\rho(t) \\in (0, \\infty)$，且 $k$ 是一个固定的整数。曲线的速率是速度向量的模：\n$$\n|z'(t)| = |\\rho(t) \\exp(i k t)| = |\\rho(t)| |\\exp(i k t)|\n$$\n由于 $\\rho(t)$ 是严格为正的，所以 $|\\rho(t)| = \\rho(t)$。复指数的模总是 $1$，即 $|\\exp(i k t)| = \\sqrt{\\cos^2(kt) + \\sin^2(kt)} = 1$。\n因此，速率为 $|z'(t)| = \\rho(t)$。这与给定的弧长元 $ds = |z'(t)| \\, dt = \\rho(t) \\, dt$ 一致。条件 $\\rho(t) > 0$ 确保了曲线是正则的（其速率永远不为零）。\n\n通过将速度向量单位化，可以得到单位切向量 $U(t)$：\n$$\nU(t) = \\frac{z'(t)}{|z'(t)|} = \\frac{\\rho(t) \\exp(i k t)}{\\rho(t)} = \\exp(i k t)\n$$\n将复平面 $\\mathbb{C}$ 与 $\\mathbb{R}^2$ 等同，单位切向量为 $U(t) = \\cos(k t) + i \\sin(k t)$。该向量与正实轴所成的角度 $\\theta(t)$ 由其辐角给出。我们可以为该角度函数选择一个连续分支：\n$$\n\\theta(t) = \\arg(U(t)) = \\arg(\\exp(i k t)) = k t\n$$\n现在，我们可以计算这个角度在区间 $t \\in [0, 2\\pi]$ 上的总变化量。\n在 $t=0$ 时的初始角度为：\n$$\n\\theta(0) = k \\cdot 0 = 0\n$$\n在 $t=2\\pi$ 时的最终角度为：\n$$\n\\theta(2\\pi) = k \\cdot (2\\pi) = 2\\pi k\n$$\n总曲率是这两个角度之差：\n$$\n\\text{总曲率} = \\theta(2\\pi) - \\theta(0) = 2\\pi k - 0 = 2\\pi k\n$$\n或者，我们可以更直接地计算积分 $\\int \\kappa ds$。由 $\\theta(t) = kt$，我们得到 $\\frac{d\\theta}{dt} = k$。题目还给出了 $\\frac{ds}{dt} = \\rho(t)$。使用链式法则，带符号曲率为：\n$$\n\\kappa(t) = \\frac{d\\theta}{ds} = \\frac{d\\theta/dt}{ds/dt} = \\frac{k}{\\rho(t)}\n$$\n然后通过对参数 $t$ 积分来计算总曲率：\n$$\n\\text{总曲率} = \\int_{C} \\kappa \\, ds = \\int_{0}^{2\\pi} \\kappa(t) \\frac{ds}{dt} \\, dt = \\int_{0}^{2\\pi} \\frac{k}{\\rho(t)} \\rho(t) \\, dt\n$$\n$\\rho(t)$ 项被消去，从而大大简化了积分：\n$$\n\\text{总曲率} = \\int_{0}^{2\\pi} k \\, dt = k [t]_{0}^{2\\pi} = k(2\\pi - 0) = 2\\pi k\n$$\n两种方法都证实了曲线在指定区间上的总曲率为 $2\\pi k$。计算结果自然是以弧度为单位的。", "answer": "$$\n\\boxed{2\\pi k}\n$$", "id": "3050426"}, {"introduction": "并非所有闭合曲线的切向量都以简单的方式旋转。这个练习将分析一个经典的“8”字形曲线，其旋转数为零。通过计算，你将发现切向量在一个循环中“缠绕”和“解开”的过程如何精确地相互抵消，这深刻地揭示了旋转数作为拓扑不变量的性质 [@problem_id:3050391]。", "problem": "设 $\\,\\gamma : [0,2\\pi] \\to \\mathbb{R}^{2}\\,$ 是由 $\\,\\gamma(t) = \\big(\\sin(2t),\\, \\sin(t)\\big)\\,$ 定义的光滑闭合曲线。令 $\\,v(t) = \\gamma'(t)\\,$ 表示其速度（切）向量，并写作 $\\,v(t) = |v(t)|\\big(\\cos\\theta(t),\\,\\sin\\theta(t)\\big)\\,$，其中 $\\,\\theta(t)\\,$ 是沿 $[0,2\\pi]$ 上切向量幅角的一个连续选择。根据定义，旋转数 $\\,r(\\gamma)\\,$ 是高斯映射 $\\,t \\mapsto v(t)/|v(t)| \\in \\mathbb{S}^{1}\\,$ 的度，等价于 $\\,r(\\gamma) = \\big(\\theta(2\\pi) - \\theta(0)\\big)/(2\\pi)\\,$。\n\n任务：\n1. 验证 $\\,\\gamma\\,$ 是一条闭合浸入曲线；即 $\\,\\gamma(0) = \\gamma(2\\pi)\\,$ 且对所有 $\\,t \\in [0,2\\pi]\\,$ 都有 $\\,\\gamma'(t) \\neq 0\\,$。\n2. 仅使用基本定义和关于平面曲线的熟知事实，计算沿曲线遍历一周时切向量幅角的总变化量 $\\,\\Delta\\theta = \\theta(2\\pi) - \\theta(0)\\,$。你对 $\\,\\Delta\\theta\\,$ 的计算必须以弧度为单位。\n3. 推断旋转数 $\\,r(\\gamma)\\,$，并给出一个精确的定性描述，说明在 $\\,t \\in [0,2\\pi]\\,$ 期间，切向量 $\\,v(t)\\,$ 在速度平面中如何绕原点转动。\n\n以 $\\,r(\\gamma)\\,$ 的整数值形式提供你的最终答案。无需四舍五入，且最终答案中不应包含单位。在整个过程中，角度 $\\,\\Delta\\theta\\,$ 应理解为以弧度为单位。", "solution": "用户希望我分析曲线 $\\,\\gamma(t) = \\big(\\sin(2t),\\, \\sin(t)\\big)\\,$（其中 $\\,t \\in [0,2\\pi]\\,$），并确定其旋转数。\n\n### 问题验证\n**步骤1：提取已知条件**\n-   曲线参数化：$\\,\\gamma(t) = \\big(\\sin(2t),\\, \\sin(t)\\big)\\,$，$\\,t \\in [0,2\\pi]\\,$。\n-   速度（切）向量：$\\,v(t) = \\gamma'(t)\\,$。\n-   切向量的极坐标分解：$\\,v(t) = |v(t)|\\big(\\cos\\theta(t),\\,\\sin\\theta(t)\\big)\\,$，其中 $\\,\\theta(t)\\,$ 是一个连续的角度函数。\n-   旋转数的定义：$\\,r(\\gamma) = \\frac{\\theta(2\\pi) - \\theta(0)}{2\\pi}\\,$。\n-   任务：\n    1.  验证 $\\,\\gamma\\,$ 是一条闭合浸入曲线（$\\,\\gamma(0) = \\gamma(2\\pi)\\,$ 且 $\\,\\gamma'(t) \\neq 0\\,$）。\n    2.  计算总角度变化量 $\\,\\Delta\\theta = \\theta(2\\pi) - \\theta(0)\\,$。\n    3.  推断旋转数 $\\,r(\\gamma)\\,$ 并描述 $\\,v(t)\\,$ 的转动情况。\n\n**步骤2：使用提取的已知条件进行验证**\n-   **科学依据：** 该问题是平面曲线微分几何中的一个标准练习题，涉及浸入、切向量和旋转数（转数）等概念。所有概念在数学中都已成熟。\n-   **适定性：** 曲线被明确定义，任务清晰无歧义。问题要求基于标准定义计算一个特定的、可计算的量。存在唯一且有意义的解。\n-   **客观性：** 问题陈述是形式化的，并使用精确的数学语言。没有主观或模棱两可的术语。\n-   **完整性与一致性：** 所有必要的信息都已提供。定义或要求中没有矛盾。\n\n**步骤3：结论与行动**\n问题是有效的。我将继续进行解答。\n\n### 解答\n\n**任务1：验证 $\\,\\gamma\\,$ 是一条闭合浸入曲线**\n\n首先，我们通过计算区间 $\\,[0, 2\\pi]\\,$ 端点处的 $\\,\\gamma(t)\\,$ 值来检查曲线是否闭合。\n起点是：\n$$ \\gamma(0) = \\big(\\sin(2 \\cdot 0),\\, \\sin(0)\\big) = (\\sin(0),\\, \\sin(0)) = (0, 0) $$\n终点是：\n$$ \\gamma(2\\pi) = \\big(\\sin(2 \\cdot 2\\pi),\\, \\sin(2\\pi)\\big) = (\\sin(4\\pi),\\, \\sin(2\\pi)) = (0, 0) $$\n因为 $\\,\\gamma(0) = \\gamma(2\\pi)\\,$，所以该曲线是闭合的。\n\n接下来，我们检查该曲线是否为浸入。浸入要求切向量 $\\,\\gamma'(t)\\,$ 对所有 $\\,t \\in [0, 2\\pi]\\,$ 均不为零。我们首先计算切向量，记为 $\\,v(t)\\,$：\n$$ v(t) = \\gamma'(t) = \\frac{d}{dt} \\big(\\sin(2t),\\, \\sin(t)\\big) = \\big(2\\cos(2t),\\, \\cos(t)\\big) $$\n要使该曲线不是浸入，必须存在某个 $\\,t\\,$ 使得 $\\,v(t) = (0, 0)\\,$。这要求 $\\,v(t)\\,$ 的两个分量同时为零：\n1.  $\\,2\\cos(2t) = 0 \\implies \\cos(2t) = 0\\,$\n2.  $\\,\\cos(t) = 0\\,$\n\n由第二个条件，$\\,\\cos(t) = 0\\,$ 在 $\\,t \\in [0, 2\\pi]\\,$ 上可知 $\\,t = \\frac{\\pi}{2}\\,$ 或 $\\,t = \\frac{3\\pi}{2}\\,$。我们检查第一个条件 $\\,\\cos(2t) = 0\\,$ 是否对这些 $\\,t\\,$ 值成立：\n-   如果 $\\,t = \\frac{\\pi}{2}\\,$，则 $\\,2t = \\pi\\,$。我们有 $\\,\\cos(2t) = \\cos(\\pi) = -1 \\neq 0\\,$。\n-   如果 $\\,t = \\frac{3\\pi}{2}\\,$，则 $\\,2t = 3\\pi\\,$。我们有 $\\,\\cos(2t) = \\cos(3\\pi) = -1 \\neq 0\\,$。\n\n由于 $\\,\\gamma'(t)\\,$ 的两个分量从不同时为零，因此对所有 $\\,t \\in [0, 2\\pi]\\,$ 都有 $\\,\\gamma'(t) \\neq (0, 0)\\,$。所以，曲线 $\\,\\gamma\\,$ 是一次浸入。\n这完成了对 $\\,\\gamma\\,$ 是一条闭合浸入曲线的验证。\n\n**任务2：计算总变化量 $\\,\\Delta\\theta = \\theta(2pi) - \\theta(0)\\,$**\n\n切向量角度的总变化量由其变化率的积分给出：\n$$ \\Delta\\theta = \\int_{0}^{2\\pi} \\frac{d\\theta}{dt} dt $$\n向量 $\\,(x(t), y(t))\\,$ 的角度 $\\,\\theta(t)\\,$ 满足 $\\,\\tan\\theta(t) = y(t)/x(t)\\,$。其导数由环绕数被积函数的公式给出：\n$$ \\frac{d\\theta}{dt} = \\frac{x(t)y'(t) - y(t)x'(t)}{x(t)^2 + y(t)^2} $$\n在我们的例子中，该向量是切向量 $\\,v(t) = (x_v(t), y_v(t))\\,$，其中：\n-   $\\,x_v(t) = 2\\cos(2t)\\,$\n-   $\\,y_v(t) = \\cos(t)\\,$\n\n我们计算它们的导数：\n-   $\\,x_v'(t) = -4\\sin(2t)\\,$\n-   $\\,y_v'(t) = -\\sin(t)\\,$\n\n现在，我们计算被积函数的分子：\n$$ x_v(t)y_v'(t) - y_v(t)x_v'(t) = \\big(2\\cos(2t)\\big)\\big(-\\sin(t)\\big) - \\big(\\cos(t)\\big)\\big(-4\\sin(2t)\\big) $$\n$$ = -2\\cos(2t)\\sin(t) + 4\\cos(t)\\sin(2t) $$\n使用二倍角恒等式 $\\,\\sin(2t) = 2\\sin(t)\\cos(t)\\,$ 和 $\\,\\cos(2t) = 2\\cos^2(t)-1\\,$：\n$$ = -2\\big(2\\cos^2(t)-1\\big)\\sin(t) + 4\\cos(t)\\big(2\\sin(t)\\cos(t)\\big) $$\n$$ = \\big(-4\\cos^2(t)+2\\big)\\sin(t) + 8\\cos^2(t)\\sin(t) $$\n$$ = \\sin(t)\\big(-4\\cos^2(t)+2 + 8\\cos^2(t)\\big) = \\sin(t)\\big(4\\cos^2(t)+2\\big) $$\n分母是切向量模长的平方：\n$$ x_v(t)^2 + y_v(t)^2 = \\big(2\\cos(2t)\\big)^2 + \\big(\\cos(t)\\big)^2 = 4\\cos^2(2t) + \\cos^2(t) $$\n所以被积函数是：\n$$ \\frac{d\\theta}{dt} = \\frac{2\\sin(t)(2\\cos^2(t)+1)}{4\\cos^2(2t) + \\cos^2(t)} $$\n让我们将此函数记为 $\\,f(t)\\,$。我们需要计算 $\\,\\Delta\\theta = \\int_{0}^{2\\pi} f(t) dt\\,$。我们来分析被积函数的对称性。考虑 $\\,f(t+\\pi)\\,$：\n-   分子： $\\,2\\sin(t+\\pi)\\big(2\\cos^2(t+\\pi)+1\\big) = 2(-\\sin(t))\\big(2(-\\cos t)^2+1\\big) = -2\\sin(t)\\big(2\\cos^2(t)+1\\big)\\,$。\n-   分母： $\\,4\\cos^2\\big(2(t+\\pi)\\big) + \\cos^2(t+\\pi) = 4\\cos^2(2t+2\\pi) + (-\\cos t)^2 = 4\\cos^2(2t) + \\cos^2(t)\\,$。\n\n因此，我们发现被积函数具有性质 $\\,f(t+\\pi) = -f(t)\\,$。现在我们可以通过分割积分区间来计算积分：\n$$ \\Delta\\theta = \\int_0^{2\\pi} f(t) dt = \\int_0^\\pi f(t) dt + \\int_\\pi^{2\\pi} f(t) dt $$\n在第二个积分中，我们进行变量替换 $\\,u = t - \\pi\\,$，于是 $\\,t = u + \\pi\\,$ 且 $\\,dt = du\\,$。积分限从 $\\,[\\pi, 2\\pi]\\,$ 变为 $\\,[0, \\pi]\\,$。\n$$ \\int_\\pi^{2\\pi} f(t) dt = \\int_0^\\pi f(u+\\pi) du = \\int_0^\\pi -f(u) du = -\\int_0^\\pi f(t) dt $$\n将此结果代回 $\\,\\Delta\\theta\\,$ 的表达式中：\n$$ \\Delta\\theta = \\int_0^\\pi f(t) dt - \\int_0^\\pi f(t) dt = 0 $$\n切向量角度的总变化量为 $\\,\\Delta\\theta = 0\\,$ 弧度。\n\n**任务3：推断旋转数 $\\,r(\\gamma)\\,$ 并描述 $\\,v(t)\\,$ 的转动情况**\n\n旋转数 $\\,r(\\gamma)\\,$ 定义为总角度变化量除以 $\\,2\\pi\\,$。使用我们从任务2得到的结果：\n$$ r(\\gamma) = \\frac{\\Delta\\theta}{2\\pi} = \\frac{0}{2\\pi} = 0 $$\n曲线 $\\,\\gamma\\,$ 的旋转数为 $\\,0\\,$。\n\n切向量 $\\,v(t)\\,$ 转动的定性描述如下。我们基于积分的对称性论证已经严格证明了总角度变化为零。这反映了一个几何事实：在参数从 $0$ 走到 $2\\pi$ 的过程中，切向量 $v(t)$ 在速度平面中完成的任何转动都被后续的相反转动精确抵消。这个零净旋转与曲线 $\\gamma(t)$ 的“8”字形几何形状是一致的：曲线先描绘出一个环，然后以相反的方向描绘出另一个环。虽然每个环本身都涉及切向量的旋转，但它们在整体上的净效应为零，从而得到总旋转数为 $0$。", "answer": "$$\\boxed{0}$$", "id": "3050391"}, {"introduction": "从解析计算到数值实现是现代科学研究的关键一步。本练习要求你实现一个算法，用于从任意正则闭合曲线的参数化形式中计算其旋转数。这个实践不仅能验证你对旋转数定义的理解，还让你掌握处理角度环绕（angle unwrapping）等实际计算问题的技巧 [@problem_id:3050398]。", "problem": "您需要完成以下基于旋转切线定理（霍普夫旋转定理，Hopf's Umlaufsatz）的任务。设 $\\gamma:[0,2\\pi]\\to\\mathbb{R}^2$ 为一正则闭合平面曲线，其复数表示为 $z(t)=x(t)+\\mathrm{i}y(t)\\in\\mathbb{C}$，其中 $\\mathrm{i}^2=-1$。正则性假设意味着对于所有 $t\\in[0,2\\pi]$，都有 $z'(t)\\neq 0$。定义单位切向量 $T(t)=\\dfrac{z'(t)}{\\lvert z'(t)\\rvert}$，并将其写为 $T(t)=(\\cos\\theta(t),\\sin\\theta(t))$，其中 $\\theta(t)$ 是一个连续角度函数（角度必须以弧度为单位）。$\\gamma$ 的旋转数 $r(\\gamma)$ 是整数\n$$\nr(\\gamma)=\\frac{\\theta(2\\pi)-\\theta(0)}{2\\pi}.\n$$\n旋转切线定理（Hopf's Umlaufsatz）保证了 $r(\\gamma)\\in\\mathbb{Z}$ 并且在 $\\gamma$ 的正则同伦下不变。\n\n您的任务是实现一个数值方法，通过对 $z'(t)$ 在 $[0,2\\pi]$ 的一个划分上的辐角进行采样，对采样角度进行解缠以消除 $2\\pi$ 的跳跃，对解缠后的差值求和，然后除以 $2\\pi$ 来获得一个整数，从而计算出 $r(\\gamma)$。角度必须以弧度处理。该方法必须：\n- 在 $[0,2\\pi]$ 上使用足够精细的划分对 $t$ 进行均匀采样。\n- 以弧度为单位计算采样点处的 $\\arg(z'(t_j))$。\n- 执行角度解缠，以生成在 $[0,2\\pi]$ 上的连续角度剖面；也就是说，通过加减 $2\\pi$ 的整数倍来调整连续的角度差，以使局部跳跃保持在 $(-\\pi,\\pi]$ 区间内。\n- 计算解缠后角度的总变化量，然后通过将此总变化量除以 $2\\pi$ 并取最接近的整数来计算 $r(\\gamma)$。\n\n为以下每个测试曲线实现一个计算 $r(\\gamma)$ 的程序。在每种情况下，参数化是通过 $z(t)$ 给出的，您必须在算法中使用其导数 $z'(t)$。所有函数在 $t$ 上都是 $2\\pi$ 周期的，所有角度都以弧度为单位。\n\n测试套件（每种情况都是 $[0,2\\pi]$ 上的独立曲线）：\n- 情况1（单位圆，逆时针）：$z(t)=e^{\\mathrm{i}t}$，因此 $z'(t)=\\mathrm{i}e^{\\mathrm{i}t}$。\n- 情况2（单位圆，顺时针）：$z(t)=e^{-\\mathrm{i}t}$，因此 $z'(t)=-\\mathrm{i}e^{-\\mathrm{i}t}$。\n- 情况3（双圈，逆时针）：$z(t)=e^{\\mathrm{i}(2t)}$，因此 $z'(t)=2\\mathrm{i}e^{\\mathrm{i}(2t)}$。\n- 情况4（三圈，顺时针）：$z(t)=e^{-\\mathrm{i}(3t)}$，因此 $z'(t)=-3\\mathrm{i}e^{-\\mathrm{i}(3t)}$。\n- 情况5（椭圆，逆时针）：$z(t)=2\\cos t+\\mathrm{i}\\,0.5\\sin t$，因此 $z'(t)=-2\\sin t+\\mathrm{i}\\,0.5\\cos t$。\n- 情况6（波浪形圆，逆时针，导数不为零）：$z(t)=e^{\\mathrm{i}t}+0.2\\,e^{\\mathrm{i}(3t)}$，因此 $z'(t)=\\mathrm{i}\\,e^{\\mathrm{i}t}+0.6\\,\\mathrm{i}\\,e^{\\mathrm{i}(3t)}$。\n- 情况7（波浪形圆，顺时针，导数不为零）：$z(t)=e^{-\\mathrm{i}t}+0.2\\,e^{-\\mathrm{i}(3t)}$，因此 $z'(t)=-\\mathrm{i}\\,e^{-\\mathrm{i}t}-0.6\\,\\mathrm{i}\\,e^{-\\mathrm{i}(3t)}$。\n- 情况8（双圈波浪形，逆时针，导数不为零）：$z(t)=e^{\\mathrm{i}(2t)}+0.1\\,e^{\\mathrm{i}(4t)}$，因此 $z'(t)=2\\mathrm{i}\\,e^{\\mathrm{i}(2t)}+0.4\\,\\mathrm{i}\\,e^{\\mathrm{i}(4t)}$。\n\n算法要求：\n- 使用对 $[0,2\\pi]$ 的均匀划分，并取足够多的子区间以确保所有情况下的数值稳定性。\n- 全程使用弧度。\n- 对于每种情况，通过将解缠后的总角度变化量除以 $2\\pi$ 后四舍五入到最接近的整数来返回整数旋转数。\n\n最终输出格式：\n- 您的程序应生成一行输出，其中包含一个用方括号括起来的逗号分隔列表的结果（例如，“[r1,r2,r3,r4,r5,r6,r7,r8]”）。\n- 每个 $r_k$ 必须是整数。\n\n不涉及物理单位。角度必须以弧度处理。输出必须完全由上述定义和所描述的数值方法确定，无需任何用户输入或外部数据。", "solution": "## 问题验证\n\n### 步骤1：提取已知信息\n问题提供了以下数据和定义：\n- 一条正则闭合平面曲线 $\\gamma:[0,2\\pi]\\to\\mathbb{R}^2$，其复数表示为 $z(t)=x(t)+\\mathrm{i}y(t)$，其中对所有 $t$ 都有 $z'(t)\\neq 0$。\n- 单位切向量为 $T(t)=\\dfrac{z'(t)}{\\lvert z'(t)\\rvert} = (\\cos\\theta(t),\\sin\\theta(t))$。\n- 旋转数 $r(\\gamma)$ 定义为 $r(\\gamma)=\\dfrac{\\theta(2\\pi)-\\theta(0)}{2\\pi}$，其中 $\\theta(t)$ 是 $T(t)$ 的一个连续角度函数，且 $r(\\gamma)$ 是一个整数。\n- 指定了一种数值方法：\n    1. 在 $[0,2\\pi]$ 上均匀采样 $t$。\n    2. 计算采样点处的 $\\arg(z'(t_j))$。\n    3. 对角度进行解缠以处理 $2\\pi$ 跳跃。\n    4. 计算解缠后角度的总变化量，除以 $2\\pi$，并四舍五入到最接近的整数。\n- 角度必须以弧度为单位。\n- 提供了一个包含8条曲线的测试套件，由它们的复数表示 $z(t)$ 及其导数 $z'(t)$ 指定：\n    - 情况1：$z(t)=e^{\\mathrm{i}t}$，$z'(t)=\\mathrm{i}e^{\\mathrm{i}t}$。\n    - 情况2：$z(t)=e^{-\\mathrm{i}t}$，$z'(t)=-\\mathrm{i}e^{-\\mathrm{i}t}$。\n    - 情况3：$z(t)=e^{\\mathrm{i}(2t)}$，$z'(t)=2\\mathrm{i}e^{\\mathrm{i}(2t)}$。\n    - 情况4：$z(t)=e^{-\\mathrm{i}(3t)}$，$z'(t)=-3\\mathrm{i}e^{-\\mathrm{i}(3t)}$。\n    - 情况5：$z(t)=2\\cos t+\\mathrm{i}\\,0.5\\sin t$，$z'(t)=-2\\sin t+\\mathrm{i}\\,0.5\\cos t$。\n    - 情况6：$z(t)=e^{\\mathrm{i}t}+0.2\\,e^{\\mathrm{i}(3t)}$，$z'(t)=\\mathrm{i}\\,e^{\\mathrm{i}t}+0.6\\,\\mathrm{i}\\,e^{\\mathrm{i}(3t)}$。\n    - 情况7：$z(t)=e^{-\\mathrm{i}t}+0.2\\,e^{-\\mathrm{i}(3t)}$，$z'(t)=-\\mathrm{i}\\,e^{-\\mathrm{i}t}-0.6\\,\\mathrm{i}\\,e^{-\\mathrm{i}(3t)}$。\n    - 情况8：$z(t)=e^{\\mathrm{i}(2t)}+0.1\\,e^{\\mathrm{i}(4t)}$，$z'(t)=2\\mathrm{i}\\,e^{\\mathrm{i}(2t)}+0.4\\,\\mathrm{i}\\,e^{\\mathrm{i}(4t)}$。\n- 最终输出格式被指定为方括号内以逗号分隔的整数列表。\n\n### 步骤2：使用提取的已知信息进行验证\n根据指定标准对问题进行验证：\n- **科学性**：该问题基于霍普夫旋转定理（turning tangent theorem），这是微分几何中的一个基本结果。所有的数学定义，包括旋转数以及与切向量角度的关系，都是标准且正确的。为每个测试用例提供的导数 $z'(t)$ 都是从 $z(t)$ 正确计算得出的。正则性条件 $z'(t)\\neq 0$ 被明确说明对测试用例成立，并且可以进行验证。例如，在情况6中，$\\lvert z'(t) \\rvert^2 = \\lvert \\mathrm{i}\\,e^{\\mathrm{i}t}+0.6\\,\\mathrm{i}\\,e^{\\mathrm{i}(3t)} \\rvert^2 = \\lvert e^{\\mathrm{i}t}+0.6\\,e^{\\mathrm{i}(3t)} \\rvert^2 = 1.36 + 1.2\\cos(2t)$，其最小值为 $1.36 - 1.2 = 0.16 > 0$。其他情况的分析也类似。\n- **适定性**：问题要求为一组特定的正则闭合曲线计算一个明确定义的整数值——旋转数。数值算法被明确描述，对于足够精细的离散化，可以得到唯一、稳定且有意义的结果。\n- **客观性**：问题使用精确的数学语言陈述，没有主观或含糊的术语。\n- **完整性与一致性**：问题提供了解决所需的所有必要信息（函数、导数、区间、数值方法）。所提供的数据没有矛盾之处。\n- **可行性**：计算在数值上是可行的，并且可以使用标准的数值库来实现。\n\n该问题没有表现出无效问题列表中列出的任何缺陷。\n\n### 步骤3：结论与行动\n该问题是 **有效的**。下面将提供解答。\n\n## 解答\n\n该问题要求对几条正则闭合平面曲线 $\\gamma$ 的旋转数 $r(\\gamma)$ 进行数值计算。旋转数是霍普夫旋转定理（Hopf's Umlaufsatz）的一个结果，它是一个整数，量化了单位切向量在沿曲线完整遍历一周时所转动的总圈数。\n\n核心原理是对切向量角度的变化率在参数区间上进行积分。对于在 $[0, 2\\pi]$ 上参数化的曲线，其旋转数 $r(\\gamma)$ 由下式给出：\n$$\nr(\\gamma) = \\frac{1}{2\\pi} \\int_{0}^{2\\pi} \\frac{d\\theta}{dt} dt = \\frac{\\theta(2\\pi) - \\theta(0)}{2\\pi}\n$$\n其中 $\\theta(t)$ 是单位切向量 $T(t) = \\frac{z'(t)}{|z'(t)|}$ 的角度。由于复数 $w$ 的角度由 $\\arg(w)$ 给出，我们有 $\\theta(t) = \\arg(T(t)) = \\arg(z'(t))$。模 $|z'(t)|$ 不影响角度。因此，我们可以直接使用导数 $z'(t)$ 的辐角。\n\n数值实现使用离散和来逼近此积分。算法流程如下：\n\n1.  **离散化**：将区间 $[0, 2\\pi]$ 划分为 $N$ 个等距点，$t_j = j \\frac{2\\pi}{N-1}$，其中 $j=0, 1, \\dots, N-1$。选择一个足够大的 $N$ 值，以确保连续点之间的角度变化小于 $\\pi$，从而避免混叠问题。\n\n2.  **角度计算**：对于每个由其导数 $z'(t)$ 定义的测试曲线，我们在每个采样点 $t_j$ 处评估此复变函数，得到一个复数序列 $\\{z'(t_j)\\}$。然后我们计算每个复数的主辐角，$\\phi_j = \\arg(z'(t_j))$。标准库函数通常返回此角度，其值在区间 $(-\\pi, \\pi]$ 内。\n\n3.  **角度解缠**：当连续变化的角度 $\\theta(t)$ 穿过 $(-\\pi, \\pi]$ 边界时，主辐角序列 $\\{\\phi_j\\}$ 将会表现出 $\\pm 2\\pi$ 的跳跃。为了获得连续角度函数 $\\theta(t)$ 的离散表示，我们必须对序列 $\\{\\phi_j\\}$ 进行“解缠”。此过程包括对后续的角度值加上或减去 $2\\pi$ 的整数倍，以确保任意两个连续值之间的差异最小化。具体来说，如果 $\\phi_{j+1} - \\phi_j > \\pi$，这表示从接近 $\\pi$ 的值跳跃到接近 $-\\pi$ 的值，因此我们通过减去 $2\\pi$ 来调整解缠序列的后续部分。相反，如果 $\\phi_{j+1} - \\phi_j  -\\pi$，我们则加上 $2\\pi$。`numpy.unwrap` 函数可以自动完成此过程。设得到的解缠角度序列为 $\\{\\theta_j\\}$。\n\n4.  **旋转数计算**：连续角度的总变化量可通过解缠序列的最后一个元素与第一个元素之差来近似，即 $\\Delta\\theta \\approx \\theta_{N-1} - \\theta_0$。然后，旋转数计算如下：\n    $$\n    r(\\gamma) \\approx \\frac{\\theta_{N-1} - \\theta_0}{2\\pi}\n    $$\n    由于霍普夫旋转定理保证对于任何正则闭合曲线，$r(\\gamma)$ 都是一个整数，我们将数值结果四舍五入到最接近的整数，以校正任何浮点逼近误差。\n\n此过程应用于所提供的八个测试用例中的每一个。使用足够多的点数（例如 $N=10000$）以保证对所有给定曲线的准确性。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes the turning number for a list of complex-valued curves.\n    \"\"\"\n\n    # The problem defines z'(t), the derivative of the curve's complex representation z(t).\n    # The turning number can be computed from the argument of z'(t).\n    # Each function in the list corresponds to a test case for z'(t).\n    # Note: 1j is the Python syntax for the imaginary unit i.\n    z_prime_functions = [\n        # Case 1: Unit circle counterclockwise, z'(t) = i*e^(it)\n        lambda t: 1j * np.exp(1j * t),\n        # Case 2: Unit circle clockwise, z'(t) = -i*e^(-it)\n        lambda t: -1j * np.exp(-1j * t),\n        # Case 3: Double wrap counterclockwise, z'(t) = 2i*e^(i(2t))\n        lambda t: 2j * np.exp(1j * 2 * t),\n        # Case 4: Triple wrap clockwise, z'(t) = -3i*e^(-i(3t))\n        lambda t: -3j * np.exp(-1j * 3 * t),\n        # Case 5: Ellipse counterclockwise, z'(t) = -2sin(t) + i*0.5cos(t)\n        lambda t: -2 * np.sin(t) + 1j * 0.5 * np.cos(t),\n        # Case 6: Wavy circle counterclockwise, z'(t) = i*e^(it) + 0.6i*e^(i(3t))\n        lambda t: 1j * np.exp(1j * t) + 0.6j * np.exp(1j * 3 * t),\n        # Case 7: Wavy circle clockwise, z'(t) = -i*e^(-it) - 0.6i*e^(-i(3t))\n        lambda t: -1j * np.exp(-1j * t) - 0.6j * np.exp(-1j * 3 * t),\n        # Case 8: Double wrap wavy counterclockwise, z'(t) = 2i*e^(i(2t)) + 0.4i*e^(i(4t))\n        lambda t: 2j * np.exp(1j * 2 * t) + 0.4j * np.exp(1j * 4 * t),\n    ]\n\n    results = []\n    \n    # Use a sufficiently large number of points for numerical stability.\n    # This ensures that the angle change between samples is less than pi.\n    num_points = 10000\n    \n    # Create a uniform partition of the interval [0, 2*pi].\n    t = np.linspace(0, 2 * np.pi, num_points)\n\n    for z_prime_func in z_prime_functions:\n        # Step 1: Compute z'(t) at each sample point.\n        z_prime_values = z_prime_func(t)\n        \n        # Step 2: Compute the argument (angle) of each complex value.\n        # np.angle returns values in the interval (-pi, pi].\n        angles = np.angle(z_prime_values)\n        \n        # Step 3: Unwrap the angles to get a continuous angle profile.\n        # This removes the 2*pi jumps that occur when the angle crosses the -pi/pi boundary.\n        unwrapped_angles = np.unwrap(angles)\n        \n        # Step 4: Compute the total change in the unwrapped angle.\n        total_angle_change = unwrapped_angles[-1] - unwrapped_angles[0]\n        \n        # Step 5: Calculate the turning number by dividing by 2*pi and rounding.\n        # The turning number is guaranteed to be an integer by Hopf's Umlaufsatz.\n        turning_number = total_angle_change / (2 * np.pi)\n        \n        # Round to the nearest integer to account for floating-point inaccuracies.\n        results.append(int(np.round(turning_number)))\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```", "id": "3050398"}]}