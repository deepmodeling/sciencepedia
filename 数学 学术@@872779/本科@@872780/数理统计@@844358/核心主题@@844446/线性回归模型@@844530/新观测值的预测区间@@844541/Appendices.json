{"hands_on_practices": [{"introduction": "要掌握预测区间，最好的起点是学习如何为一个未来的单一观测值构建区间。这个练习 [@problem_id:1945993] 提供了一个经典场景，即根据一个正态分布总体的历史样本，来预测未来的单日事件。通过这个练习，你将实践预测区间的基本计算，这在资源规划、库存管理和风险评估等领域至关重要。", "problem": "一家成长中的电子商务公司的数据科学团队正在分析每日客户支持工单量，以便更好地分配资源。他们收集了为期 $n=30$ 个工作日的数据，发现每日工单数的样本均值为 $\\bar{x} = 245.5$，样本标准差为 $s = 28.2$。该团队假设每天收到的工单数是一个服从正态分布的随机变量。\n\n为了给下周做准备，团队负责人想要预测未来随机选择某一天的工单数量。你的任务是构建一个预测区间。\n\n假设每日工单数服从正态分布，请计算未来某一天的工单数的 95% 预测区间。对于 95% 的置信水平和 $n-1=29$ 的自由度，来自t分布的相应临界值为 $t_{0.025, 29} = 2.045$。\n\n提供预测区间的下界和上界。将你的最终答案四舍五入到三位有效数字。", "solution": "我们被要求为一个来自方差未知的正态总体的单个未来观测值计算 95% 的预测区间。该估计是基于一个大小为 $n=30$、样本均值为 $\\bar{x}=245.5$、样本标准差为 $s=28.2$ 的样本。对于单个未来观测值 $X_{\\text{new}}$，基于t分布的 $100(1-\\alpha)\\%$ 预测区间由下式给出\n$$\n\\bar{x} \\pm t_{\\alpha/2,\\,n-1}\\,s\\,\\sqrt{1+\\frac{1}{n}}.\n$$\n此处，$n=30$，$\\alpha=0.05$，且已给出 $t_{0.025,29}=2.045$。因此，误差范围 $M$ 为\n$$\nM=t_{0.025,29}\\,s\\,\\sqrt{1+\\frac{1}{n}}=2.045\\cdot 28.2\\cdot \\sqrt{1+\\frac{1}{30}}=2.045\\cdot 28.2\\cdot \\sqrt{\\frac{31}{30}}.\n$$\n计算平方根因子：\n$$\n\\sqrt{\\frac{31}{30}}\\approx 1.01653,\n$$\n所以\n$$\nM\\approx 2.045\\times 28.2\\times 1.01653\\approx 58.622.\n$$\n因此，95% 的预测区间为\n$$\n\\bar{x}\\pm M=245.5\\pm 58.622,\n$$\n这给出\n$$\n\\text{下界}=245.5-58.622\\approx 186.878,\\quad \\text{上界}=245.5+58.622\\approx 304.122.\n$$\n将每个边界值四舍五入到三位有效数字，得到 $187$ 和 $304$。", "answer": "$$\\boxed{\\begin{pmatrix}187  304\\end{pmatrix}}$$", "id": "1945993"}, {"introduction": "在预测单个观测值的基础上，一个自然的问题是：如果我们关心的不是单个未来事件，而是多个未来事件的平均结果，该怎么办？这个练习 [@problem_id:1945971] 将指导你计算一个未来样本均值的预测区间。它突出了一个核心统计概念：预测一组观测的均值比预测单个观测值具有更高的精度，因此其预测区间会更窄。", "problem": "一家领先的电动汽车公司的工程团队正在分析新一代固态电池的性能。一个由 $n=20$ 个电池包组成的随机样本进行了加速寿命周期测试，以模拟广泛使用的情况。每个电池的充电容量百分比损失都被记录下来。样本数据显示，平均容量损失为 $\\bar{x} = 8.50$ 个百分点，样本标准差为 $s = 1.20$ 个百分点。假定容量损失服从正态分布。\n\n该团队现在希望对即将生产的一批新的 $m=5$ 个电池包进行预测。具体来说，他们关心的是这五个新电池在经过相同的寿命周期测试后的*平均*容量损失。\n\n计算这批五个新电池的平均容量损失的95%预测区间的宽度。所需自由度为19的t分布的临界值为 $t_{0.025, 19} = 2.093$。请以百分点为单位表示你的答案，并四舍五入到三位有效数字。", "solution": "我们将观测到的样本建模为 $X_{1},\\dots,X_{n} \\sim \\mathcal{N}(\\mu,\\sigma^{2})$，其样本均值为 $\\bar{X}$，样本标准差为 $s$。对于来自同一正态分布的未来一批 $m$ 个观测值 $Y_{1},\\dots,Y_{m}$，其平均值 $\\bar{Y}_{m}$ 满足\n$$\n\\bar{Y}_{m}-\\bar{X} \\sim \\mathcal{N}\\!\\left(0,\\;\\sigma^{2}\\left(\\frac{1}{m}+\\frac{1}{n}\\right)\\right),\n$$\n并且，在正态性假设下，从初始样本计算出的 $s^{2}$ 与 $\\bar{Y}_{m}-\\bar{X}$ 独立。因此，\n$$\nT \\equiv \\frac{\\bar{Y}_{m}-\\bar{X}}{s\\sqrt{\\frac{1}{n}+\\frac{1}{m}}} \\sim t_{n-1}.\n$$\n未来平均值 $\\bar{Y}_{m}$ 的一个双侧 $100(1-\\alpha)\\%$ 预测区间为\n$$\n\\bar{X} \\pm t_{\\alpha/2,\\,n-1}\\, s \\sqrt{\\frac{1}{n}+\\frac{1}{m}}.\n$$\n因此，该区间的宽度为\n$$\nW = 2\\, t_{\\alpha/2,\\,n-1}\\, s \\sqrt{\\frac{1}{n}+\\frac{1}{m}}.\n$$\n代入 $n=20$、$m=5$、$s=1.20$ 和 $t_{0.025,19}=2.093$：\n$$\n\\sqrt{\\frac{1}{20}+\\frac{1}{5}}=\\sqrt{\\frac{1}{20}+\\frac{4}{20}}=\\sqrt{\\frac{5}{20}}=\\sqrt{\\frac{1}{4}}=\\frac{1}{2},\n$$\n所以\n$$\nW = 2 \\cdot 2.093 \\cdot 1.20 \\cdot \\frac{1}{2} = 2.093 \\cdot 1.20 = 2.5116.\n$$\n四舍五入到三位有效数字，得到 $2.51$。", "answer": "$$\\boxed{2.51}$$", "id": "1945971"}, {"introduction": "现实世界中的预测往往更复杂，因为结果常常依赖于其他变量。这个练习 [@problem_id:1946002] 将带你进入简单线性回归的世界，学习如何在一个变量（如孕龄）已知的情况下，为另一个变量（如出生体重）的新观测值构建预测区间。这是一种强大的技术，使我们能够利用变量之间的关系，做出更精确的条件性预测，广泛应用于医学、经济学和工程学等领域。", "problem": "一位医学研究人员正在研究新生儿的胎龄与其出生体重之间的关系。研究人员对一组婴儿样本拟合了一个简单线性回归模型，其中出生体重（单位：克）为响应变量，胎龄（单位：周）为预测变量。拟合模型的形式为 $\\hat{y} = \\hat{\\beta}_0 + \\hat{\\beta}_1 x$，其中 $\\hat{y}$ 是预测的出生体重，$x$ 是胎龄。\n\n通过对一个包含 $n=62$ 名婴儿的样本进行分析，计算出以下汇总统计量：\n- 估计的回归线：$\\hat{y} = -2950 + 160x$\n- 样本中的平均胎龄：$\\bar{x} = 38.5$ 周\n- 胎龄的离差平方和：$S_{xx} = \\sum_{i=1}^{n} (x_i - \\bar{x})^2 = 88.4 \\text{ 周}^2$\n- 残差平方和 (SSE)：$SSE = \\sum_{i=1}^{n} (y_i - \\hat{y}_i)^2 = 7,500,000 \\text{ 克}^2$\n\n利用这些信息，为一名胎龄为 $x^* = 39.0$ 周的新生儿的出生体重构建一个 95% 的预测区间。在计算中，您可以使用临界值 $t_{0.025, 60} = 2.000$。\n\n请将您的答案表示为区间的下限和上限（单位：克）。将两个值都四舍五入到四位有效数字。", "solution": "题目要求我们使用简单线性回归拟合模型 $\\hat{y}=\\hat{\\beta}_{0}+\\hat{\\beta}_{1}x$，为 $x^{*}=39.0$ 处单个未来响应值构建一个 95% 的预测区间。\n\n首先，计算在 $x^{*}$ 处的点预测值：\n$$\n\\hat{y}(x^{*})=\\hat{\\beta}_{0}+\\hat{\\beta}_{1}x^{*}=-2950+160\\cdot 39=3290 \\text{ 克}。\n$$\n\n残差方差的估计值是均方误差\n$$\ns^{2}=\\frac{SSE}{n-2}=\\frac{7{,}500{,}000}{62-2}=\\frac{7{,}500{,}000}{60}=125{,}000,\n$$\n所以\n$$\ns=\\sqrt{125{,}000}。\n$$\n\n对于在 $x^{*}$ 处的一个新观测值，其预测标准误为\n$$\nSE_{\\text{pred}}=s\\sqrt{1+\\frac{1}{n}+\\frac{(x^{*}-\\bar{x})^{2}}{S_{xx}}}。\n$$\n代入给定值 $n=62$, $\\bar{x}=38.5$, $x^{*}=39.0$, $S_{xx}=88.4$：\n$$\n1+\\frac{1}{n}+\\frac{(x^{*}-\\bar{x})^{2}}{S_{xx}}\n=1+\\frac{1}{62}+\\frac{(39.0-38.5)^{2}}{88.4}\n=1+\\frac{1}{62}+\\frac{0.25}{88.4}。\n$$\n因此，\n$$\nSE_{\\text{pred}}=\\sqrt{125{,}000}\\,\\sqrt{1+\\frac{1}{62}+\\frac{0.25}{88.4}}。\n$$\n\n一个 95% 的预测区间使用 $t_{0.025,60}=2.000$，其计算公式为\n$$\n\\hat{y}(x^{*})\\pm t_{0.025,60}\\,SE_{\\text{pred}}\n=3290\\pm 2.000\\cdot \\sqrt{125{,}000}\\,\\sqrt{1+\\frac{1}{62}+\\frac{0.25}{88.4}}。\n$$\n\n进行数值计算：\n$$\n\\sqrt{125{,}000}\\approx 353.553,\\quad\n1+\\frac{1}{62}+\\frac{0.25}{88.4}\\approx 1.018957,\\quad\n\\sqrt{1.018957}\\approx 1.009434,\n$$\n所以\n$$\nSE_{\\text{pred}}\\approx 353.553\\times 1.009434\\approx 356.888,\n$$\n误差范围为\n$$\n2.000\\times 356.888\\approx 713.777。\n$$\n因此，95% 的预测区间大约为\n$$\n3290\\pm 713.777 \\;\\Rightarrow\\; (3290-713.777,\\;3290+713.778)\\approx (2576.222,\\;4003.778)。\n$$\n将区间的两个边界（单位：克）四舍五入到四位有效数字，得到 $2576$ 和 $4004$。", "answer": "$$\\boxed{\\begin{pmatrix} 2576  4004 \\end{pmatrix}}$$", "id": "1946002"}]}