{"hands_on_practices": [{"introduction": "掌握 F 检验的第一步是理解如何计算其核心的检验统计量。本练习提供了一个清晰、实用的农业科学场景，引导你完成 F 统计量作为两个样本方差之比的基础计算。通过解决这个问题，你将巩固对该检验基本机制的理解。", "problem": "一位农业科学家正在研究两种新肥料处理（处理1和处理2）对作物产量的稳定性。假设两种处理的作物产量（单位：公斤/地块）都近似服从正态分布。该科学家使用两组独立的地块随机样本进行了一项实验。对于一个接受处理1的 $n_1 = 18$ 个地块的样本，其产量的样本方差为 $s_1^2 = 45.5$。对于一个接受处理2的 $n_2 = 25$ 个地块的样本，其产量的样本方差为 $s_2^2 = 28.2$。\n\n科学家想要检验处理1的作物产量变异性是否与处理2的显著不同。对此，标准程序是计算一个F检验统计量。按照惯例，为了简化双尾检验中统计表的使用，将较大的样本方差置于分子位置。遵循此惯例，计算F检验统计量的值。将最终答案四舍五入到三位有效数字。", "solution": "我们使用F检验来检验两个独立正态总体的方差是否相等。按照惯例，将较大的样本方差置于分子，检验统计量定义为\n$$\nF=\\frac{s_{\\text{large}}^{2}}{s_{\\text{small}}^{2}}.\n$$\n给定 $n_{1}=18$ 且 $s_{1}^{2}=45.5$，以及 $n_{2}=25$ 且 $s_{2}^{2}=28.2$，较大的样本方差是 $s_{1}^{2}=45.5$。因此，\n$$\nF=\\frac{45.5}{28.2}=\\frac{455}{282}\\approx 1.613\\ldots\n$$\n相关的自由度（供参考）为 $n_{1}-1=17$ 和 $n_{2}-1=24$，但题目只要求计算统计量的值。四舍五入到三位有效数字，得到\n$$\nF\\approx 1.61.\n$$", "answer": "$$\\boxed{1.61}$$", "id": "1916681"}, {"introduction": "F 检验的用途远不止于直接比较方差，特别是当与数据变换相结合时。本练习深入探讨了一个现实中的质量控制问题，其目标是比较两个对数正态分布总体的*变异系数*。你将看到对数变换如何将这个复杂问题转化为一个标准的方差齐性 F 检验，这突显了这一强大统计工具的适应性。", "problem": "两家相互竞争的供应商，Alpha Components 和 Beta Devices，生产一种特定类型的高耐久性电容器。已知这些电容器的寿命（以千小时为单位）可以很好地用对数正态分布来近似。设 Alpha Components 生产的电容器寿命由随机变量 $X_1 \\sim LN(\\mu_1, \\sigma_1^2)$ 建模，Beta Devices 生产的电容器寿命由 $X_2 \\sim LN(\\mu_2, \\sigma_2^2)$ 建模。\n\n一个质量保证团队希望比较这两家供应商生产的电容器寿命的相对一致性。用于此比较的主要指标是变异系数 (CV)。该团队旨在检验两个总体的变异系数相等的原假设，其备择假设为它们不相等。\n\n为了进行此检验，团队从每家供应商处收集了小样本寿命数据。\n来自 Alpha Components 的样本 ($n_1=6$)：\n$$ \\{2.72, 4.48, 7.39, 12.18, 20.09, 33.12\\} $$\n来自 Beta Devices 的样本 ($n_2=5$)：\n$$ \\{9.03, 11.02, 13.46, 16.45, 20.09\\} $$\n\n为了进行此假设检验，需要进行特定的数据变换，然后计算一个 F-统计量。你的任务是计算这个 F-统计量的值。就本题而言，F-统计量定义为由适当变换后的数据计算出的较大样本方差与较小样本方差之比。\n\n计算 F-统计量的值。将你的最终答案四舍五入到三位有效数字。", "solution": "对于对数正态数据，如果 $X \\sim LN(\\mu, \\sigma^{2})$，那么 $Y=\\ln X \\sim N(\\mu, \\sigma^{2})$，并且变异系数为 $CV=\\sqrt{\\exp(\\sigma^{2})-1}$。因此，CVs 相等就等价于对数尺度上的方差相等，即 $\\sigma_{1}^{2}=\\sigma_{2}^{2}$。为了检验这一点，我们通过 $y=\\ln x$ 对数据进行变换，并对变换后的样本使用常规的方差比统计量。\n\n对 Alpha 定义 $y_{1i}=\\ln x_{1i}$，对 Beta 定义 $y_{2j}=\\ln x_{2j}$。给定的数据值非常接近于等间距点的 $\\exp$ 值，因此（在数值舍入精度范围内）变换后的样本为\n$$\ny_{1} \\approx \\{1.0, 1.5, 2.0, 2.5, 3.0, 3.5\\}, \\quad\ny_{2} \\approx \\{2.2, 2.4, 2.6, 2.8, 3.0\\}.\n$$\n使用以下公式计算对数尺度上的样本方差：\n$$\ns^{2}=\\frac{1}{n-1}\\sum_{i=1}^{n}(y_{i}-\\bar{y})^{2}.\n$$\n对于 Alpha ($n_{1}=6$)，$\\bar{y}_{1}=\\frac{1+3.5}{2}=2.25$。离差为 $\\{-1.25,-0.75,-0.25,0.25,0.75,1.25\\}$，其平方和为 $1.5625+0.5625+0.0625+0.0625+0.5625+1.5625=4.375$。因此\n$$\ns_{1}^{2}=\\frac{4.375}{6-1}=0.875.\n$$\n对于 Beta ($n_{2}=5$)，$\\bar{y}_{2}=\\frac{2.2+3.0}{2}=2.6$。离差为 $\\{-0.4,-0.2,0,0.2,0.4\\}$，其平方和为 $0.16+0.04+0+0.04+0.16=0.40$。因此\n$$\ns_{2}^{2}=\\frac{0.40}{5-1}=0.10.\n$$\n所需的 F-统计量（较大方差除以较小方差）为\n$$\nF=\\frac{\\max\\{s_{1}^{2},s_{2}^{2}\\}}{\\min\\{s_{1}^{2},s_{2}^{2}\\}}=\\frac{0.875}{0.10}=8.75.\n$$\n使用所报告的舍入数据的精确自然对数值计算，只会改变方差的第四位小数，并且在三位有效数字的精度下会得到相同的 F-统计量。因此，四舍五入到三位有效数字得到 $8.75$。", "answer": "$$\\boxed{8.75}$$", "id": "1916949"}, {"introduction": "从计算转向理论是深入理解统计检验的必经之路。最后一个练习要求你推导 F 检验的功效函数，该函数衡量了检验成功检测到真实方差差异的能力。理解功效对于评估一个检验的性能以及在实验设计和样本量选择方面做出明智决策至关重要。", "problem": "一位工业工程师的任务是比较两个独立的制造过程在生产某个特定电子元件时的一致性。假设该元件的关键特性服从正态分布。设 $X_1, X_2, \\dots, X_{n_1}$ 是来自第一个过程的测量值的随机样本，假定抽样自正态分布 $N(\\mu_1, \\sigma_1^2)$。类似地，设 $Y_1, Y_2, \\dots, Y_{n_2}$ 是来自第二个过程的一个独立的随机样本，假定抽样自正态分布 $N(\\mu_2, \\sigma_2^2)$。\n\n该工程师建立一个假设检验，以确定第一个过程的一致性是否比第二个过程差（即方差更大）。原假设和备择假设如下：\n$$H_0: \\sigma_1^2 = \\sigma_2^2$$\n$$H_1: \\sigma_1^2  \\sigma_2^2$$\n该检验在显著性水平 $\\alpha$ 下进行。使用的检验统计量是样本方差之比，$F_{stat} = \\frac{S_1^2}{S_2^2}$，其中 $S_1^2 = \\frac{1}{n_1-1}\\sum_{i=1}^{n_1}(X_i - \\bar{X})^2$ 和 $S_2^2 = \\frac{1}{n_2-1}\\sum_{j=1}^{n_2}(Y_j - \\bar{Y})^2$ 是无偏样本方差。\n\n你的任务是推导该检验的功效函数，记作 $\\pi(\\lambda)$。功效函数给出在给定的自然状态下正确拒绝原假设的概率。该函数应使用真实方差比 $\\lambda = \\sigma_1^2 / \\sigma_2^2$、样本容量 $n_1$ 和 $n_2$ 以及显著性水平 $\\alpha$ 来表示。\n\n对于你的最终表达式，使用记号 $\\mathcal{F}_{d_1, d_2}(x)$ 来表示自由度为 $d_1$ 和 $d_2$ 的F分布在 $x$ 处的累积分布函数 (CDF)。使用记号 $F_{d_1, d_2, \\alpha}$ 来表示该分布的上 $\\alpha$-分位数（即对于随机变量 $F \\sim F_{d_1, d_2}$，满足 $P(F  c) = \\alpha$ 的值 $c$）。", "solution": "我们使用由正态性和独立性所蕴含的精确抽样分布。对于第一个过程，\n$$(n_{1}-1)\\frac{S_{1}^{2}}{\\sigma_{1}^{2}} \\sim \\chi^{2}_{n_{1}-1},$$\n对于第二个过程，\n$$(n_{2}-1)\\frac{S_{2}^{2}}{\\sigma_{2}^{2}} \\sim \\chi^{2}_{n_{2}-1},$$\n且这两个卡方变量是独立的。定义\n$$U = (n_{1}-1)\\frac{S_{1}^{2}}{\\sigma_{1}^{2}}, \\quad V = (n_{2}-1)\\frac{S_{2}^{2}}{\\sigma_{2}^{2}}, \\quad \\lambda = \\frac{\\sigma_{1}^{2}}{\\sigma_{2}^{2}}.$$\n那么检验统计量满足\n$$F_{\\text{stat}}=\\frac{S_{1}^{2}}{S_{2}^{2}}=\\lambda \\cdot \\frac{U/(n_{1}-1)}{V/(n_{2}-1)}.$$\n由于 $U/(n_{1}-1)$ 和 $V/(n_{2}-1)$ 是独立的，且其比值服从F分布，可得\n$$\\frac{U/(n_{1}-1)}{V/(n_{2}-1)} \\sim F_{n_{1}-1,\\,n_{2}-1}, \\quad \\text{and hence} \\quad F_{\\text{stat}} \\stackrel{d}{=} \\lambda \\cdot F,$$\n其中 $F \\sim F_{n_{1}-1,\\,n_{2}-1}$。对于在显著性水平 $\\alpha$ 下的右尾检验，我们在 $H_{0}$ 下选择临界值 $c_{\\alpha}$，使得\n$$\\Pr_{H_{0}}\\!\\big(F_{\\text{stat}}  c_{\\alpha}\\big)=\\alpha.$$\n在 $H_{0}$ 下，$\\lambda=1$ 且 $F_{\\text{stat}}\\sim F_{n_{1}-1,\\,n_{2}-1}$，因此根据给定的记号，有\n$$c_{\\alpha}=F_{n_{1}-1,\\,n_{2}-1,\\,\\alpha}.$$\n对于真实的方差比 $\\lambda0$，功效为\n$$\\pi(\\lambda)=\\Pr\\!\\big(F_{\\text{stat}}  c_{\\alpha}\\,;\\,\\lambda\\big)=\\Pr\\!\\big(\\lambda F  c_{\\alpha}\\big)=\\Pr\\!\\big(F  c_{\\alpha}/\\lambda\\big).$$\n通过F分布的累积分布函数 $\\mathcal{F}_{n_{1}-1,\\,n_{2}-1}(\\cdot)$ 表示，我们得到\n$$\\pi(\\lambda)=1-\\mathcal{F}_{n_{1}-1,\\,n_{2}-1}\\!\\left(\\frac{c_{\\alpha}}{\\lambda}\\right)\n=1-\\mathcal{F}_{n_{1}-1,\\,n_{2}-1}\\!\\left(\\frac{F_{n_{1}-1,\\,n_{2}-1,\\,\\alpha}}{\\lambda}\\right).$$\n该函数满足 $\\pi(1)=\\alpha$，是 $\\lambda$ 的增函数，并且当 $\\lambda \\to \\infty$ 时趋近于 1，这与针对较大 $\\sigma_{1}^{2}$ 的右尾检验的预期相符。", "answer": "$$\\boxed{1 - \\mathcal{F}_{n_{1}-1,\\,n_{2}-1}\\!\\left(\\frac{F_{n_{1}-1,\\,n_{2}-1,\\,\\alpha}}{\\lambda}\\right)}$$", "id": "1916926"}]}