{"hands_on_practices": [{"introduction": "要真正掌握第二类错误的概念，最有效的方法就是亲手计算它。本练习将引导你完成一个典型场景下的计算：在一个双边 Z 检验中，当总体标准差已知时，如何计算第二类错误的概率 $\\beta$。通过这个练习，你将学会定义原假设下的“不拒绝域”，并计算在备择假设为真时，样本均值落入该区域的概率，从而将 $\\beta$ 的抽象定义转化为具体的计算步骤。[@problem_id:1965595]", "problem": "一家名为“QuantumCharge”的科技公司声称，其新型长寿命电池的平均寿命恰好为 10.0 年。根据对类似电池的大量先前测试得知，其寿命的总体标准差为 $\\sigma = 2.0$ 年，且寿命呈正态分布。\n\n一个消费者权益保护组织决定检验这一说法。他们通过收集一个容量为 $n=36$ 的电池随机样本，进行了一次双边假设检验。原假设是平均寿命为 10.0 年 ($H_0: \\mu = 10.0$)，备择假设是平均寿命不为 10.0 年 ($H_A: \\mu \\neq 10.0$)。该检验在显著性水平 $\\alpha = 0.05$ 下进行。\n\n假设维权组织并不知道，所有 QuantumCharge 电池的真实平均寿命实际上是 $\\mu_a = 11.0$ 年。在这些条件下，计算犯第二类错误（Type II error）的概率 $\\beta$。答案以小数形式表示，并四舍五入到四位有效数字。", "solution": "当原假设 ($H_0$) 实际上为假时，我们未能拒绝它，这时就发生了第二类错误。第二类错误的概率用 $\\beta$ 表示。在本问题中，我们已知原假设 $H_0: \\mu = 10.0$ 是错误的，真实的平均值为 $\\mu_a = 11.0$。\n\n首先，我们必须确定在原假设下样本均值 $\\bar{X}$ 的“未拒绝域”（也称为接受域）。由于总体标准差 $\\sigma$ 已知且总体服从正态分布，因此这是一个双边 Z 检验。\n\n给定的参数如下：\n- 原假设均值：$\\mu_0 = 10.0$\n- 真实备择均值：$\\mu_a = 11.0$\n- 总体标准差：$\\sigma = 2.0$\n- 样本容量：$n = 36$\n- 显著性水平：$\\alpha = 0.05$\n\n均值的标准误 (SE) 计算如下：\n$$ SE = \\frac{\\sigma}{\\sqrt{n}} = \\frac{2.0}{\\sqrt{36}} = \\frac{2.0}{6} = \\frac{1}{3} $$\n在原假设下，样本均值 $\\bar{X}$ 的抽样分布是均值为 $\\mu_0=10.0$、标准差为 $SE = 1/3$ 的正态分布。即 $\\bar{X} \\sim N(10.0, (1/3)^2)$。\n\n对于一个 $\\alpha = 0.05$ 的双边检验，我们在分布的每个尾部各有 $\\alpha/2 = 0.025$ 的概率。与这些尾部概率相对应的标准正态分布的 z 临界值是 $z_{\\alpha/2} = z_{0.025} = 1.96$ 和 $-z_{\\alpha/2} = -z_{0.025} = -1.96$。\n\n如果检验统计量 $Z = \\frac{\\bar{X} - \\mu_0}{SE}$ 落在这些临界值之间，我们就未能拒绝 $H_0$：\n$$ -1.96 \\le \\frac{\\bar{X} - 10.0}{1/3} \\le 1.96 $$\n我们可以解出 $\\bar{X}$ 来找到接受域的边界：\n$$ -1.96 \\left(\\frac{1}{3}\\right) \\le \\bar{X} - 10.0 \\le 1.96 \\left(\\frac{1}{3}\\right) $$\n$$ 10.0 - 1.96 \\left(\\frac{1}{3}\\right) \\le \\bar{X} \\le 10.0 + 1.96 \\left(\\frac{1}{3}\\right) $$\n下边界是 $\\bar{x}_{c, \\text{lower}} = 10.0 - \\frac{1.96}{3}$，上边界是 $\\bar{x}_{c, \\text{upper}} = 10.0 + \\frac{1.96}{3}$。\n因此，$\\bar{X}$ 的接受域大约是 $[9.3467, 10.6533]$。如果观测到的样本均值落在这个区间内，我们就未能拒绝 $H_0$。\n\n现在，我们计算第二类错误的概率 $\\beta$。这是在真实均值为 $\\mu_a = 11.0$ 的条件下，观测到的样本均值 $\\bar{X}$ 落入接受域的概率。在这个备择假设下，$\\bar{X}$ 的抽样分布是 $N(\\mu_a, (SE)^2)$，即 $N(11.0, (1/3)^2)$。\n\n$$ \\beta = P(\\bar{x}_{c, \\text{lower}} \\le \\bar{X} \\le \\bar{x}_{c, \\text{upper}} | \\mu = \\mu_a) $$\n$$ \\beta = P\\left(10.0 - \\frac{1.96}{3} \\le \\bar{X} \\le 10.0 + \\frac{1.96}{3} \\right) $$\n为了求这个概率，我们相对于真实均值 $\\mu_a = 11.0$ 和标准误 $SE = 1/3$ 对接受域的边界进行标准化。设 $Z'$ 为一个标准正态随机变量。\n\n下 Z 分数是：\n$$ Z'_{\\text{lower}} = \\frac{\\bar{x}_{c, \\text{lower}} - \\mu_a}{SE} = \\frac{\\left(10.0 - \\frac{1.96}{3}\\right) - 11.0}{1/3} = \\frac{-1.0 - \\frac{1.96}{3}}{1/3} = -3.0 - 1.96 = -4.96 $$\n上 Z 分数是：\n$$ Z'_{\\text{upper}} = \\frac{\\bar{x}_{c, \\text{upper}} - \\mu_a}{SE} = \\frac{\\left(10.0 + \\frac{1.96}{3}\\right) - 11.0}{1/3} = \\frac{-1.0 + \\frac{1.96}{3}}{1/3} = -3.0 + 1.96 = -1.04 $$\n所以，第二类错误的概率是一个标准正态变量 $Z'$ 落在 $-4.96$ 和 $-1.04$ 之间的概率：\n$$ \\beta = P(-4.96 \\le Z' \\le -1.04) = \\Phi(-1.04) - \\Phi(-4.96) $$\n其中 $\\Phi(z)$ 是标准正态分布的累积分布函数。使用标准正态分布表或计算器：\n$$ \\Phi(-1.04) \\approx 0.14917 $$\n$$ \\Phi(-4.96) \\approx 0.00000035 $$\n因此，\n$$ \\beta \\approx 0.14917 - 0.00000035 = 0.14916965 $$\n将结果四舍五入到四位有效数字，我们得到 $0.1492$。", "answer": "$$\\boxed{0.1492}$$", "id": "1965595"}, {"introduction": "假设检验中存在一个固有的权衡关系：降低犯第一类错误的概率（$\\alpha$）通常会增加犯第二类错误的概率（$\\beta$）。这个练习通过一个简洁的粒子衰变思想实验，直观地展示了这种权衡。通过比较两种不同的决策边界（即拒绝域），你将清晰地看到，一个更“严格”的检验标准（更难拒绝原假设）是如何导致更高的 $\\beta$ 值的。这个练习使用的均匀分布模型简化了计算，让你能更专注于理解决策边界的选择对两种错误概率的直接影响。[@problem_id:1965635]", "problem": "一位粒子物理学家正在研究一种新发现的亚原子粒子的寿命。其衰变时间 $T$（单位为纳秒 ns）被建模为在区间 $[0, \\theta]$ 上的连续均匀分布，记为 $U(0, \\theta)$。标准理论预测参数 $\\theta$ 等于 $1$ ns。然而，一个与之竞争的理论认为 $\\theta$ 实际上是 $2$ ns。\n\n为了区分这两种理论，我们观测单个衰变事件，得到一个衰变时间的测量值，我们称之为 $X$。设立一个假设检验，其零假设为 $H_0: \\theta = 1$，备择假设为 $H_A: \\theta = 2$。\n\n该检验正在考虑两种不同的判定准则：\n- **检验 1：** 如果观测到的衰变时间 $X$ 大于 $0.9$ ns，则拒绝零假设 $H_0$。\n- **检验 2：** 如果观测到的衰变时间 $X$ 大于 $0.95$ ns，则拒绝零假设 $H_0$。\n\n当备择假设为真时，如果检验未能拒绝零假设，则犯了第二类错误。设 $\\beta_1$ 为检验 1 犯第二类错误的概率，$\\beta_2$ 为检验 2 犯第二类错误的概率。\n\n计算差值 $\\beta_2 - \\beta_1$。", "solution": "第二类错误的概率，记为 $\\beta$，是在备择假设 ($H_A$) 为真的情况下，未能拒绝零假设 ($H_0$) 的概率。在本问题的背景下，这可以写作 $\\beta = P(\\text{未能拒绝 } H_0 | H_A \\text{ 为真})$。\n\n问题陈述了备择假设为 $H_A: \\theta = 2$。因此，为了计算第二类错误的概率，我们必须假设观测到的衰变时间 $X$ 是从均匀分布 $U(0, 2)$ 中抽样的随机变量。\n\n对于一个一般的连续均匀分布 $U(a, b)$，其概率密度函数 (PDF) 为 $f(x) = \\frac{1}{b-a}$（当 $a  x  b$），其他情况下为 $0$。累积分布函数 (CDF) 给出概率 $P(X \\le x)$，其表达式为 $F(x) = \\frac{x-a}{b-a}$（当 $a  x  b$）。\n在我们的情况中，分布为 $U(0, \\theta)$，其 CDF 为 $F(x; \\theta) = \\frac{x}{\\theta}$（当 $0  x  \\theta$）。当 $H_A$ 为真时，$\\theta=2$，所以相关的 CDF 为 $F(x; 2) = \\frac{x}{2}$（当 $0  x  2$）。\n\n现在，我们来计算每个检验犯第二类错误的概率。\n\n对于**检验 1**：\n拒绝域是 $X > 0.9$。这意味着如果观测值落在接受域内，即 $X \\le 0.9$，检验将不会拒绝 $H_0$。\n检验 1 犯第二类错误的概率 $\\beta_1$ 是在 $\\theta=2$ 的情况下此事件发生的概率。\n$$\n\\beta_1 = P(X \\le 0.9 | \\theta = 2)\n$$\n使用 $U(0, 2)$ 分布的 CDF，我们计算 $F(x=0.9; \\theta=2)$：\n$$\n\\beta_1 = \\frac{0.9}{2} = 0.45\n$$\n\n对于**检验 2**：\n拒绝域是 $X > 0.95$。这意味着如果观测值落在接受域内，即 $X \\le 0.95$，检验将不会拒绝 $H_0$。\n检验 2 犯第二类错误的概率 $\\beta_2$ 是在 $\\theta=2$ 的情况下此事件发生的概率。\n$$\n\\beta_2 = P(X \\le 0.95 | \\theta = 2)\n$$\n使用 $U(0, 2)$ 分布的 CDF，我们计算 $F(x=0.95; \\theta=2)$：\n$$\n\\beta_2 = \\frac{0.95}{2} = 0.475\n$$\n\n问题要求计算差值 $\\beta_2 - \\beta_1$。\n$$\n\\beta_2 - \\beta_1 = 0.475 - 0.45 = 0.025\n$$\n这个结果表明，检验 2 的拒绝域更小（即更难拒绝 $H_0$），因此与检验 1 相比，它犯第二类错误的概率更高。", "answer": "$$\\boxed{0.025}$$", "id": "1965635"}, {"introduction": "在理论学习之后，我们需要将知识应用于实践。在科学研究和工业应用中，一个至关重要的问题是：“我们需要多少样本才能有效地检测出我们关心的效应？”这个练习将你的角色从检验分析者转变为实验设计者。它要求你计算所需的最小样本量，以确保你的检验有足够高的统计功效（$1-\\beta$）来探测到一个特定的、具有实际意义的效应。通过解决这个问题，你将把第一类错误率 $\\alpha$、第二类错误率 $\\beta$、效应大小和样本量这几个核心概念联系起来，这是设计任何严谨实验的关键一步。[@problem_id:1965641]", "problem": "环境科学家正在监测一个大湖中一种新管制农药的浓度。根据来自类似湖泊的大量历史数据，已知该农药浓度呈正态分布，标准差为 $\\sigma = 2.0$ ppm（百万分之几）。监管限值对应的平均浓度为 $\\mu_0 = 10.0$ ppm。科学家们希望建立一个监测方案，以检验该湖的平均浓度是否超过此限值。\n\n他们决定在显著性水平 $\\alpha = 0.05$ 下进行假设检验，以检验原假设 $H_0: \\mu = \\mu_0$ 与备择假设 $H_A: \\mu > \\mu_0$。该方案必须足够灵敏，以便有很高的概率检测到有意义的违规情况。具体来说，如果真实平均浓度为 $\\mu_a = 11.0$ ppm，他们要求正确断定平均浓度超过限值的概率至少为 $0.90$。\n\n为了满足这些要求，科学家们必须采集的最少水样数量 $n$ 是多少？答案必须是整数。", "solution": "设 $X_{1},\\dots,X_{n}$ 独立同分布于 $N(\\mu,\\sigma^{2})$，其中已知 $\\sigma=2.0$。我们在显著性水平 $\\alpha=0.05$ 下检验 $H_{0}:\\mu=\\mu_{0}$ 与 $H_{A}:\\mu\\mu_{0}$，其中 $\\mu_{0}=10.0$。单边 $z$ 检验使用\n$$\nZ=\\frac{\\overline{X}-\\mu_{0}}{\\sigma/\\sqrt{n}},\n$$\n如果 $Zz_{1-\\alpha}$ 则拒绝 $H_{0}$，其中 $z_{p}$ 表示标准正态分布的 $p$ 分位数。\n\n在备择假设 $\\mu=\\mu_{a}$ 下，$Z$ 服从正态分布，其均值为\n$$\n\\frac{\\mu_{a}-\\mu_{0}}{\\sigma/\\sqrt{n}}=\\frac{\\mu_{a}-\\mu_{0}}{\\sigma}\\sqrt{n}\n$$\n方差为 $1$。因此，在 $\\mu_{a}$ 处的检验效能为\n$$\n\\text{Power}(\\mu_{a})=\\mathbb{P}\\!\\left(Zz_{1-\\alpha}\\mid \\mu=\\mu_{a}\\right)=1-\\Phi\\!\\left(z_{1-\\alpha}-\\frac{\\mu_{a}-\\mu_{0}}{\\sigma}\\sqrt{n}\\right).\n$$\n要求 $ \\text{Power}(\\mu_{a})\\geq 0.90$ 等价于\n$$\n1-\\Phi\\!\\left(z_{1-\\alpha}-\\frac{\\mu_{a}-\\mu_{0}}{\\sigma}\\sqrt{n}\\right)\\geq 0.90\n\\;\\;\\Longleftrightarrow\\;\\;\n\\Phi\\!\\left(z_{1-\\alpha}-\\frac{\\mu_{a}-\\mu_{0}}{\\sigma}\\sqrt{n}\\right)\\leq 0.10.\n$$\n因此，\n$$\nz_{1-\\alpha}-\\frac{\\mu_{a}-\\mu_{0}}{\\sigma}\\sqrt{n}\\leq z_{0.10}\n\\;\\;\\Longleftrightarrow\\;\\;\n\\frac{\\mu_{a}-\\mu_{0}}{\\sigma}\\sqrt{n}\\geq z_{1-\\alpha}-z_{0.10}.\n$$\n利用对称性 $z_{0.10}=-z_{0.90}$，上式变为\n$$\n\\frac{\\mu_{a}-\\mu_{0}}{\\sigma}\\sqrt{n}\\geq z_{1-\\alpha}+z_{0.90}\n\\;\\;\\Longleftrightarrow\\;\\;\nn\\geq \\left(\\frac{\\sigma\\left(z_{1-\\alpha}+z_{0.90}\\right)}{\\mu_{a}-\\mu_{0}}\\right)^{2}.\n$$\n代入 $\\alpha=0.05$，则 $z_{1-\\alpha}=z_{0.95}\\approx 1.644853$；要求检验效能为 $0.90$，则 $z_{0.90}\\approx 1.281552$。给定 $\\sigma=2.0$ 和 $\\mu_{a}-\\mu_{0}=11.0-10.0=1.0$，我们得到\n$$\nn\\geq \\left(\\frac{2.0\\left(1.644853+1.281552\\right)}{1.0}\\right)^{2}\n=\\left(2.0\\times 2.926405\\right)^{2}\n\\approx (5.852810)^{2}\n\\approx 34.25.\n$$\n由于 $n$ 必须是整数且不等式必须成立，因此最小样本量是不小于 $34.25$ 的最小整数，即 $35$。", "answer": "$$\\boxed{35}$$", "id": "1965641"}]}