{"hands_on_practices": [{"introduction": "让我们从一个经典的假设检验场景开始。在质量控制中，我们经常需要验证生产过程是否如预期般运行。本练习将指导你完成一个双边Z检验，从原始样本数据出发，计算检验统计量，并最终确定p值，以评估观察到的偏差是否具有统计显著性。这是理解p值计算基础的绝佳起点。", "problem": "一家制药公司正在生产一种液体药物，其精确剂量对患者安全至关重要。自动化灌装机经过校准，每瓶的平均装量为 $\\mu_0 = 75.0$ 毫升。已知灌装过程的总体标准差稳定在 $\\sigma = 1.5$ 毫升。作为常规质量控制检查的一部分，从生产线上随机抽取了 $n = 36$ 瓶样本。测量得出该样本中药物的平均体积为 $\\bar{x} = 75.6$ 毫升。\n\n您的任务是进行一次假设检验，以评估灌装过程是否仍以目标体积为中心。具体来说，计算一个检验的p值，该检验的备择假设是真实平均装量不同于 $75.0$ 毫升。\n\n将您的最终答案四舍五入到三位有效数字。", "solution": "我们正在检验过程均值是否等于目标值，且总体标准差已知。设立假设：\n- 零假设：$H_{0}: \\mu = \\mu_{0}$，其中 $\\mu_{0} = 75.0$。\n- 备择假设：$H_{a}: \\mu \\neq \\mu_{0}$。\n\n在 $\\sigma$ 已知的情况下，使用单样本均值的 $z$ 检验。检验统计量为\n$$\nZ = \\frac{\\bar{X} - \\mu_{0}}{\\sigma / \\sqrt{n}}。\n$$\n在 $H_{0}$ 成立的条件下，$Z \\sim \\mathcal{N}(0,1)$。\n\n代入样本值 $\\bar{x} = 75.6$，$\\mu_{0} = 75.0$，$\\sigma = 1.5$ 和 $n = 36$：\n$$\n\\sigma / \\sqrt{n} = \\frac{1.5}{\\sqrt{36}} = \\frac{1.5}{6} = 0.25,\n$$\n$$\nZ_{\\text{obs}} = \\frac{75.6 - 75.0}{0.25} = \\frac{0.6}{0.25} = 2.4。\n$$\n\n对于双侧检验，p值为\n$$\np = 2\\left[1 - \\Phi\\left(|Z_{\\text{obs}}|\\right)\\right] = 2\\left[1 - \\Phi(2.4)\\right]。\n$$\n使用标准正态累积分布函数值 $\\Phi(2.4) \\approx 0.991802$，我们得到\n$$\np \\approx 2 \\times (1 - 0.991802) \\approx 2 \\times 0.008198 \\approx 0.0164。\n$$\n四舍五入到三位有效数字得到 $0.0164$。", "answer": "$$\\boxed{0.0164}$$", "id": "1942500"}, {"introduction": "并非所有数据都符合正态分布的假设。当我们处理具有二元结果（例如成功/失败或存活/死亡）的实验时，我们需要一种更精确的方法。本练习将介绍如何使用二项分布来计算一个*精确*p值 [@problem_id:1942492]，这对于小样本分析至关重要。通过这个练习，你将学会处理离散数据并理解精确检验与近似检验之间的区别。", "problem": "一个材料科学实验室正在测试一种新的基因编辑技术，该技术旨在提高一种用于生物修复的特定细菌菌株的抗逆性。对于标准的、未经编辑的菌株，单个细菌在特定高强度压力测试中存活的概率恰好为 0.5。研究人员假设他们的新技术提高了这一存活率。\n\n为了检验这一假设，他们将 12 个经过编辑的细菌样本置于高强度压力测试中。他们观察到 12 个细菌中有 9 个存活了下来。假设每个细菌的存活是一个独立事件。研究人员设立了一个假设检验，其原假设为 $H_0: p = 0.5$（表示没有改善），备择假设为 $H_a: p > 0.5$（表示存活率有所提高）。\n\n计算与此实验结果相对应的确切 p 值。将您的最终答案四舍五入到四位有效数字。", "solution": "我们将存活者的数量建模为二项随机变量。在原假设 $H_{0}: p=0.5$ 下，对于 $n=12$ 次独立试验，检验统计量 $X$（存活者数量）满足 $X \\sim \\mathrm{Binomial}(12,0.5)$。对于单侧备择假设 $H_{a}: p0.5$，观察到 $x=9$ 或更多次成功的确切 p 值是在 $H_{0}$ 下的右尾概率：\n$$\n\\text{p值}=\\mathbb{P}_{H_{0}}(X \\geq 9)=\\sum_{k=9}^{12} \\binom{12}{k} (0.5)^{k} (1-0.5)^{12-k}.\n$$\n由于 $(0.5)^{k} (1-0.5)^{12-k}=(0.5)^{12}$，该式可简化为\n$$\n\\text{p值}=\\sum_{k=9}^{12} \\binom{12}{k} (0.5)^{12}=(0.5)^{12}\\left[\\binom{12}{9}+\\binom{12}{10}+\\binom{12}{11}+\\binom{12}{12}\\right].\n$$\n使用 $\\binom{12}{9}=\\binom{12}{3}=220$、$\\binom{12}{10}=\\binom{12}{2}=66$、$\\binom{12}{11}=\\binom{12}{1}=12$ 和 $\\binom{12}{12}=1$，我们得到\n$$\n\\text{p值}=(0.5)^{12}(220+66+12+1)=(0.5)^{12}\\cdot 299=\\frac{299}{4096}.\n$$\n作为小数，\n$$\n\\frac{299}{4096}=0.072998046875,\n$$\n四舍五入到四位有效数字后为 $0.07300$。", "answer": "$$\\boxed{0.07300}$$", "id": "1942492"}, {"introduction": "在现代统计实践中，我们常常会遇到分布未知或样本量很小的情况。此时，传统的参数检验可能不再适用。本练习将向你介绍一种强大的计算方法——置换检验——来估计p值 [@problem_id:1942494]。通过模拟在零假设下所有可能的数据重组，这种非参数方法可以让我们在不依赖特定分布假设的情况下评估结果的显著性，为你展示了计算统计学的魅力和实用性。", "problem": "一家电子商务公司正在进行一项A/B测试，以确定新的结账页面设计（设计B）是否比他们当前的设计（设计A）更快。一小群志愿用户被随机分配到两种设计中的一种。每个用户完成一次购买所需的时间（以秒为单位）被记录下来。\n\n分配给设计A的4位用户记录的时间为：{110, 125, 130, 150}。\n分配给设计B的5位用户记录的时间为：{95, 100, 105, 115, 140}。\n\n公司感兴趣的是完成时间中位数的差异，定义为 $D = \\text{Median}(A) - \\text{Median}(B)$。$D$的正值将表明设计A比设计B慢。\n\n为了在不对结账时间的潜在分布做任何假设的情况下评估观测结果的统计显著性，研究人员进行了一项计算分析。所有9个记录的时间被汇集在一起。从这个组合集中，每一种可能的由4个测量值组成的独特分组都被指定为“模拟A组”，其余5个测量值则构成相应的“模拟B组”，总共产生126种不同的重新分配方式。对于这126种重新分配中的每一种，都计算了中位数的差异。分析显示，这些模拟差异中有10个大于或等于实验中最初观测到的差异。\n\n根据这项计算分析的结果，用于检验新设计是否显著减少了中位数结账时间的估计p值是多少？将您的答案表示为小数，并四舍五入到四位有效数字。", "solution": "我们将感兴趣的参数定义为中位数之差 $D = \\text{Median}(A) - \\text{Median}(B)$，其中正的 $D$ 值表示设计A比设计B慢。观测数据如下：\n- 设计A的时间：$\\{110, 125, 130, 150\\}$，中位数为 $\\text{Median}(A) = \\frac{125 + 130}{2} = 127.5$。\n- 设计B的时间：$\\{95, 100, 105, 115, 140\\}$，中位数为 $\\text{Median}(B) = 105$（五个排序值中的中间值）。\n\n因此，观测到的统计量为\n$$\nD_{\\text{obs}} = 127.5 - 105 = 22.5.\n$$\n\n为了针对新设计减少了中位数时间（即 $D  0$）的单侧备择假设进行非参数随机化（置换）检验，我们将所有 $n=9$ 个记录时间汇集起来，并考虑将4个观测值重新分配给A组、5个观测值重新分配给B组的每一种情况。不同的重新分配方式的数量为\n$$\nN = \\binom{9}{4} = 126.\n$$\n\n对于每一次重新分配，都以与 $D$ 相同的方式计算中位数之差。估计的单侧p值是重新分配后的差异值中大于或等于观测差异值的比例：\n$$\n\\hat{p} = \\frac{\\#\\{\\text{重新分配中 } D \\geq D_{\\text{obs}}\\}}{N}.\n$$\n计算分析发现有10次这样的重新分配，因此\n$$\n\\hat{p} = \\frac{10}{126} = \\frac{5}{63} \\approx 0.079365\\ldots\n$$\n四舍五入到四位有效数字，得到\n$$\n0.07937.\n$$", "answer": "$$\\boxed{0.07937}$$", "id": "1942494"}]}