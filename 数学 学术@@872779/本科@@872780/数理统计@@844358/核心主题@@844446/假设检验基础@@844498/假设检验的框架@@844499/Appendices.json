{"hands_on_practices": [{"introduction": "在假设检验中，我们拒绝原假设的决定从来不是绝对确定的。我们必须量化犯错的风险，特别是“误报”的风险——即在原假设为真时却拒绝了它。这个练习 [@problem_id:1918510] 提供了一个动手实践的机会，让我们为一个明确的决策规则计算这种第一类错误的精确概率，这个概率被称为检验的显著性水平或大小。", "problem": "一个数据科学家团队正在评估一种新的用于二元分类的机器学习模型的性能。用于此任务的标准模型具有公认的成功率 $p=0.5$。该团队想要检验他们的新模型是否更优越。他们建立了一个零假设 $H_0$，即他们的新模型不比标准模型好，因此其成功概率为 $p=0.5$。\n\n为了检验这个假设，他们在包含 $15$ 次独立试验的验证集上运行新模型。令随机变量 $X$ 表示这 $15$ 次试验中成功分类的次数。该团队决定采用以下决策规则：如果观测到的成功次数 $X$ 严格大于 10，他们将拒绝零假设 $H_0$。\n\n假定零假设 $H_0: p=0.5$ 为真，计算此统计检验的精确显著性水平（即检验的规模）。将您的答案表示为一个不可约分数。", "solution": "在零假设 $H_{0}: p=0.5$ 下，在 $n=15$ 次独立伯努利试验中，成功次数 $X$ 服从参数为 $n=15$ 和 $p=\\frac{1}{2}$ 的二项分布：\n$$\nX \\sim \\text{Binomial}(15, \\tfrac{1}{2}).\n$$\n检验的显著性水平（规模）是在 $H_{0}$ 成立的条件下拒绝 $H_{0}$ 的概率。决策规则是如果 $X10$ 则拒绝 $H_{0}$，因此检验的规模 $\\alpha$ 是\n$$\n\\alpha = \\mathbb{P}_{H_{0}}(X10) = \\sum_{k=11}^{15} \\binom{15}{k} \\left(\\tfrac{1}{2}\\right)^{15}.\n$$\n计算所需的二项式系数：\n$$\n\\binom{15}{11} = \\binom{15}{4} = 1365,\\quad\n\\binom{15}{12} = \\binom{15}{3} = 455,\\quad\n\\binom{15}{13} = \\binom{15}{2} = 105,\\quad\n\\binom{15}{14} = \\binom{15}{1} = 15,\\quad\n\\binom{15}{15} = 1.\n$$\n因此，\n$$\n\\sum_{k=11}^{15} \\binom{15}{k} = 1365 + 455 + 105 + 15 + 1 = 1941.\n$$\n所以，\n$$\n\\alpha = \\frac{1941}{2^{15}} = \\frac{1941}{32768}.\n$$\n由于分母是 $2$ 的幂，而分子 $1941$ 是奇数，所以该分数是不可约的。", "answer": "$$\\boxed{\\frac{1941}{32768}}$$", "id": "1918510"}, {"introduction": "虽然控制误报（第一类错误）至关重要，但一个好的检验也必须足够强大，以便在真实效应存在时能够检测到它。检验的“功效”是指其正确拒绝一个错误的原假设的能力。在这个练习题中 [@problem_id:1918509]，我们将为一个特定的备择假设计算检验的功效，这让我们能深入了解我们的实验在识别真正改进方面的成功可能性有多大。", "problem": "一家半导体制造公司正在评估一种旨在减少其微芯片缺陷的新制造工艺。现有工艺有一个公认的成功率，即芯片通过最终质量控制检查的概率为0.5。工程师团队声称新工艺更优越。\n\n为了检验这一说法，我们设立了一个假设检验。设 $p$ 为新工艺生产的芯片通过质量控制检查的真实概率。原假设 $H_0$ 表明新工艺不比旧工艺好 ($p=0.5$)，而备择假设 $H_A$ 表明新工艺有所改进 ($p  0.5$)。\n\n使用新工艺生产了一个包含10块芯片的样本，并对其进行质量控制检查。设 $X$ 为样本中通过检查的芯片数量。该团队决定采用以下决策规则：如果成功的芯片数量 $X$ 大于8，他们将拒绝原假设 $H_0$ 并得出新工艺更优越的结论。\n\n假设新工艺的真实成功概率实际上是 $p=0.7$，计算该检验的功效。将最终答案四舍五入到四位有效数字。", "solution": "假设检验的功效是在备择假设 $H_A$ 为真时，正确拒绝原假设 $H_0$ 的概率。在这个问题中，我们被要求在真实成功概率为 $p=0.7$ 的条件下计算该检验的功效。\n\n功效定义为：\n$$ \\text{功效} = P(\\text{拒绝 } H_0 | H_A \\text{ 为真}) $$\n\n拒绝规则是：如果成功的芯片数量 $X$ 大于8，则拒绝 $H_0$。样本中的芯片总数为 $n=10$。因此，拒绝域由结果 $X=9$ 和 $X=10$ 组成。\n\n该检验的功效是 $X$ 落入此拒绝域的概率，该概率是使用给定的真实值 $p=0.7$ 计算的。\n$$ \\text{功效} = P(X  8 | p=0.7) = P(X=9 | p=0.7) + P(X=10 | p=0.7) $$\n\n在 $n$ 次固定的独立试验中，成功芯片的数量 $X$ 服从二项分布，$X \\sim \\text{Binomial}(n, p)$。二项分布的概率质量函数 (PMF) 为：\n$$ P(X=k) = \\binom{n}{k} p^k (1-p)^{n-k} $$\n\n这里，$n=10$ 且给定的真实概率为 $p=0.7$。因此，$1-p = 0.3$。我们现在可以计算 $X=9$ 和 $X=10$ 的概率。\n\n对于 $X=9$：\n$$ P(X=9) = \\binom{10}{9} (0.7)^9 (0.3)^{10-9} $$\n$$ P(X=9) = \\frac{10!}{9!1!} (0.7)^9 (0.3)^1 $$\n$$ P(X=9) = 10 \\times (0.7)^9 \\times 0.3 $$\n使用计算器可得，$(0.7)^9 \\approx 0.040353607$。\n$$ P(X=9) \\approx 10 \\times 0.040353607 \\times 0.3 = 0.121060821 $$\n\n对于 $X=10$：\n$$ P(X=10) = \\binom{10}{10} (0.7)^{10} (0.3)^{10-10} $$\n$$ P(X=10) = \\frac{10!}{10!0!} (0.7)^{10} (0.3)^0 $$\n$$ P(X=10) = 1 \\times (0.7)^{10} \\times 1 $$\n使用计算器可得，$(0.7)^{10} \\approx 0.0282475249$。\n$$ P(X=10) \\approx 0.0282475249 $$\n\n该检验的功效是这两个概率之和：\n$$ \\text{功效} = P(X=9) + P(X=10) \\approx 0.121060821 + 0.0282475249 = 0.1493083459 $$\n\n题目要求答案四舍五入到四位有效数字。\n$$ \\text{功效} \\approx 0.1493 $$", "answer": "$$\\boxed{0.1493}$$", "id": "1918509"}, {"introduction": "在应用假设检验时，最常见的陷阱或许是误解不显著的结果。未能拒绝原假设并不等同于证明原假设为真。这个概念性练习 [@problem_id:1918527] 挑战我们像统计学家一样思考，并解释为什么“没有证据不等于没有的证据”，这是负责任地解释统计数据时至关重要的一课。", "problem": "一家制造高精度电子元件公司的质量控制工程师负责检验一批新电容器的平均电容值。设计规范要求平均电容值为 $\\mu_0 = 250.0$ 皮法 (pF)。工程师计划进行一次显著性水平为 $\\alpha = 0.05$ 的双尾假设检验。原假设和备择假设设定如下：\n\n$H_0: \\mu = 250.0$ pF\n$H_a: \\mu \\neq 250.0$ pF\n\n工程师从这批电容器中随机抽取了 $n = 40$ 个样本，并测量了它们的电容值。样本均值为 $\\bar{x} = 250.8$ pF，样本标准差为 $s = 4.5$ pF。在执行了适当的统计检验后，工程师计算出 p 值约为 $0.26$。由于这个 p 值大于显著性水平 $\\alpha = 0.05$，工程师未能拒绝原假设。\n\n看到报告后，一位经理感叹道：“太好了！这个结果证明了我们这批新电容器的平均电容值正好是 250.0 pF，完全符合目标。”\n\n下列哪个陈述为经理的结论是错误的提供了最好的统计学解释？\n\nA. 该检验仅表明没有足够的证据断定均值不同于 250.0 pF。真实均值可能略有不同，但检验可能没有足够的统计功效来检测出这种差异。\n\nB. 可能发生了第一类错误。这意味着原假设被错误地拒绝了，而真实均值确实是 250.0 pF。\n\nC. 0.26 这个较大的 p 值表示原假设为真的概率为 26%，这不足以构成证明。\n\nD. 这个结论是基于样本，而非整个总体。要证明均值为 250.0 pF，必须测量该批次中的每一个电容器。\n\nE. $\\alpha = 0.05$ 的显著性水平太大了。应该使用更小的显著性水平（例如 $\\alpha = 0.01$）来为原假设提供确切的证明。", "solution": "我们来形式化工程师所执行的检验。假设为 $H_{0}:\\mu=\\mu_{0}$ 对 $H_{a}:\\mu\\neq\\mu_{0}$，其中 $\\mu_{0}=250.0$。使用大小为 $n$ 的样本，其样本均值为 $\\bar{X}$，样本标准差为 $S$，对于双边单样本均值检验，通常的检验统计量是\n$$\nT=\\frac{\\bar{X}-\\mu_{0}}{S/\\sqrt{n}}.\n$$\n双边 p 值为\n$$\np=P\\left(|T^{\\ast}|\\geq |T_{\\text{obs}}|\\mid H_{0}\\right),\n$$\n其中 $T^{\\ast}$ 表示在 $H_{0}$ 下 $T$ 的抽样分布。在水平 $\\alpha$ 下的决策规则是：如果 $p\\leq \\alpha$，则拒绝 $H_{0}$；否则，不拒绝 $H_{0}$。\n\n报告中，$p\\alpha$，所以正确的统计结论是不拒绝 $H_{0}$。关键在于，这个决策并不能确定 $H_{0}$ 为真；它仅仅表明在所选的 $\\alpha$ 水平下，观测到的数据没有提供足够的证据来反对 $H_{0}$。\n\n要理解为什么经理的说法是错误的，需要回顾第一类错误、第二类错误和统计功效的概念。第一类错误发生在 $H_{0}$ 为真但被拒绝时，其概率为 $P(\\text{Type I})=\\alpha$。这种可能性只在做出拒绝决策时才相关。在这里，没有拒绝原假设，所以不可能发生第一类错误。第二类错误发生在 $H_{0}$ 为假但未被拒绝时，其概率为 $\\beta(\\mu)$，而检验的功效为 $1-\\beta(\\mu)$。功效取决于真实效应大小 $\\delta=\\mu-\\mu_{0}$、样本量 $n$、变异性（通过 $S$ 体现）以及检验形式。如果 $|\\delta|$ 相对于标准误 $S/\\sqrt{n}$ 较小，检验的功效可能会处于中低水平，因此可能无法检测到真实但微小的差异。因此，不拒绝（即 p 值较大）既可能与 $H_{0}$ 为真一致，也可能与 $H_{0}$ 仅有微小偏差的假情况一致；它并不能“证明”相等。\n\n我们现在来评估各个选项：\n- 选项 A 正确地指出，不拒绝 $H_{0}$ 表示没有足够的证据表明存在差异，并且真实均值仍可能略有不同，由于功效有限而可能未被检测到。这符合对 $p\\alpha$ 和功效作用的正确解释。\n- 选项 B 提到了第一类错误，但这需要一个未发生的拒绝决策；因此不适用。\n- 选项 C 将 p 值误解为 $P(H_{0}\\mid\\text{data})$，但事实并非如此。p 值是 $P(\\text{data or more extreme}\\mid H_{0})$，而不是 $H_{0}$ 的后验概率。\n- 选项 D 转向了测量每一个项目的想法。虽然普查可以揭示有限批次的均值，但假设检验并不需要普查来证明对 $H_{0}$ 的非证实；关键点在于，无论是否考虑普查，不拒绝都不能确立 $H_{0}$ 的真实性。\n- 选项 E 错误地暗示，更小的 $\\alpha$ 可以为 $H_{0}$ 提供“确切的证明”。假设检验不能证明 $H_{0}$；它们只能是未能找到反对它的证据，而减小 $\\alpha$ 会使拒绝更加困难，而不是使证明更有力。\n\n因此，最好的统计学解释恰恰是选项 A 中给出的那个。", "answer": "$$\\boxed{A}$$", "id": "1918527"}]}