{"hands_on_practices": [{"introduction": "计算离散随机变量的期望值是概率论中的一项基本技能。这个问题展示了一种非常强大且优雅的技巧——指示变量和期望的线性性——来解决一个看似复杂的组合问题。通过这个练习，你将学会如何将一个复杂的随机变量分解为简单的指示变量之和，从而极大地简化期望值的计算 [@problem_id:1913525]。", "problem": "一家软件开发公司创建了一个数据匿名化工具。它的核心功能之一是随机打乱一个唯一用户标识符（ID）的列表。为了测试这个功能，一位质量保证分析师取了一个包含8个不同用户ID的列表，我们可以将其标记为 $U_1, U_2, \\dots, U_8$。该软件应用一种洗牌算法，生成这8个ID的一个排列，其中每个可能的排列出现的概率都相等。如果一个ID在洗牌后仍保持在列表中的相同索引位置，则称该ID处于其“原始位置”（例如，如果ID $U_3$ 最终位于洗牌后列表的第3个位置）。\n\n计算一次洗牌后，保持在其原始位置的用户ID的期望数量。你的最终答案应该是一个实数。", "solution": "令 $n=8$，并设排列是从 $\\{U_{1},U_{2},\\dots,U_{n}\\}$ 的 $n!$ 个排列中均匀随机选择的。为不动点定义指示变量：对于每个 $k \\in \\{1,2,\\dots,n\\}$，\n$$\nI_{k}=\n\\begin{cases}\n1,  \\text{if } U_{k} \\text{ is in position } k,\\\\\n0,  \\text{otherwise}.\n\\end{cases}\n$$\n令 $X$ 表示处于其原始位置的用户ID总数。那么\n$$\nX=\\sum_{k=1}^{n} I_{k}.\n$$\n根据期望的线性性质（这不要求独立性），\n$$\n\\mathbb{E}[X]=\\sum_{k=1}^{n}\\mathbb{E}[I_{k}]=\\sum_{k=1}^{n}\\mathbb{P}(I_{k}=1).\n$$\n为了计算 $\\mathbb{P}(I_{k}=1)$，请注意，将 $U_{k}$ 固定在位置 $k$ 会留下其余 $n-1$ 个ID的 $(n-1)!$ 种排列，而总排列数为 $n!$。因此\n$$\n\\mathbb{P}(I_{k}=1)=\\frac{(n-1)!}{n!}=\\frac{1}{n}.\n$$\n所以，\n$$\n\\mathbb{E}[X]=\\sum_{k=1}^{n}\\frac{1}{n}=1.\n$$\n代入 $n=8$ 得出不动点的期望数量为 $1$。", "answer": "$$\\boxed{1}$$", "id": "1913525"}, {"introduction": "在理解了期望值（均值）之后，下一步是量化随机变量的变异性或不确定性，这就是方差的作用。此练习探讨了随机变量线性变换后方差的变化，这是一个在信号处理和金融等领域至关重要的概念。你将通过分析一个简化的数字传感器模型来计算方差，从而加深对 $\\text{Var}(aX+b) = a^2 \\text{Var}(X)$ 这一重要属性的理解 [@problem_id:1365287]。", "problem": "一个数字传感器的简化模型用于在固定的时间间隔内检测特定亚原子粒子的存在。该传感器有两个输出信号电平。如果没有检测到粒子，它会输出一个基线信号电平 $S_0$。如果检测到一个或多个粒子（视为单个“检测事件”），它会输出一个升高的信号电平 $S_1$。在任何给定的时间间隔内发生检测事件的概率为 $p$。令随机变量 $V$ 表示检测器在随机选择的时间间隔内输出的信号电平。\n\n求随机变量 $V$ 的方差。将答案表示为关于 $p$、$S_0$ 和 $S_1$ 的符号表达式。", "solution": "设 $V$ 为表示检测器信号电平的随机变量。题目说明 $V$ 可以取两个可能的值：$S_0$（未检测到）和 $S_1$（检测到）。与这些值相关的概率如下：\n$P(V = S_1) = p$\n$P(V = S_0) = 1-p$\n\n为了求 $V$ 的方差，我们可以使用公式 $\\text{Var}(V) = E[V^2] - (E[V])^2$。\n\n首先，我们计算 $V$ 的期望值（均值），记作 $E[V]$：\n$$E[V] = \\sum_{v} v \\cdot P(V=v)$$\n$$E[V] = S_1 \\cdot P(V=S_1) + S_0 \\cdot P(V=S_0)$$\n$$E[V] = S_1 p + S_0(1-p)$$\n\n接下来，我们计算 $V^2$ 的期望值，记作 $E[V^2]$：\n$$E[V^2] = \\sum_{v} v^2 \\cdot P(V=v)$$\n$$E[V^2] = S_1^2 \\cdot P(V=S_1) + S_0^2 \\cdot P(V=S_0)$$\n$$E[V^2] = S_1^2 p + S_0^2(1-p)$$\n\n现在，我们将这些表达式代入方差公式：\n$$\\text{Var}(V) = E[V^2] - (E[V])^2$$\n$$\\text{Var}(V) = (S_1^2 p + S_0^2(1-p)) - (S_1 p + S_0(1-p))^2$$\n\n我们展开平方项：\n$$(S_1 p + S_0(1-p))^2 = (S_1 p)^2 + 2(S_1 p)(S_0(1-p)) + (S_0(1-p))^2$$\n$$= S_1^2 p^2 + 2 S_0 S_1 p(1-p) + S_0^2 (1-p)^2$$\n$$= S_1^2 p^2 + 2 S_0 S_1 (p-p^2) + S_0^2 (1-2p+p^2)$$\n$$= S_1^2 p^2 + 2 S_0 S_1 p - 2 S_0 S_1 p^2 + S_0^2 - 2 S_0^2 p + S_0^2 p^2$$\n\n现在，将这个展开式代回方差方程：\n$$\\text{Var}(V) = (S_1^2 p + S_0^2 - S_0^2 p) - (S_1^2 p^2 + 2 S_0 S_1 p - 2 S_0 S_1 p^2 - S_0^2 + 2 S_0^2 p - S_0^2 p^2)$$\n$$\\text{Var}(V) = S_1^2 p + S_0^2 - S_0^2 p - S_1^2 p^2 - 2 S_0 S_1 p + 2 S_0 S_1 p^2 - S_0^2 + 2 S_0^2 p - S_0^2 p^2$$\n\n我们可以消去 $S_0^2$ 项。现在，我们按 $p$ 的幂次对剩余的项进行分组：\n$$\\text{Var}(V) = (S_1^2 - S_0^2 - 2 S_0 S_1 + 2 S_0^2)p + (-S_1^2 + 2 S_0 S_1 - S_0^2)p^2$$\n$$\\text{Var}(V) = (S_1^2 - 2S_0 S_1 + S_0^2)p - (S_1^2 - 2S_0 S_1 + S_0^2)p^2$$\n\n注意到公因式 $(S_1^2 - 2S_0 S_1 + S_0^2) = (S_1 - S_0)^2$：\n$$\\text{Var}(V) = (S_1 - S_0)^2 p - (S_1 - S_0)^2 p^2$$\n\n提取出公共项 $(S_1 - S_0)^2$：\n$$\\text{Var}(V) = (S_1 - S_0)^2 (p - p^2)$$\n$$\\text{Var}(V) = (S_1 - S_0)^2 p(1-p)$$\n\n另一种方法是，我们可以使用伯努利随机变量对检测事件进行建模。设 $X$ 是一个随机变量，当发生检测事件时 $X=1$，未发生检测时 $X=0$。那么 $X \\sim \\text{Bernoulli}(p)$。信号电平 $V$ 可以表示为 $X$ 的一个线性变换：\n$$V = S_0 (1-X) + S_1 X = S_0 + (S_1 - S_0)X$$\n利用方差的性质 $\\text{Var}(aX+b) = a^2 \\text{Var}(X)$，其中 $a = S_1 - S_0$ 且 $b=S_0$：\n$$\\text{Var}(V) = \\text{Var}(S_0 + (S_1 - S_0)X) = (S_1 - S_0)^2 \\text{Var}(X)$$\n参数为 $p$ 的伯努利随机变量 $X$ 的方差已知为 $\\text{Var}(X) = p(1-p)$。\n证明如下：$E[X] = 1 \\cdot p + 0 \\cdot (1-p) = p$。$E[X^2] = 1^2 \\cdot p + 0^2 \\cdot (1-p) = p$。因此，$\\text{Var}(X) = E[X^2] - (E[X])^2 = p - p^2 = p(1-p)$。\n将此结果代入我们关于 $\\text{Var}(V)$ 的方程中：\n$$\\text{Var}(V) = (S_1 - S_0)^2 p(1-p)$$\n两种方法都得出了相同的结果。", "answer": "$$\\boxed{(S_1 - S_0)^{2} p(1-p)}$$", "id": "1365287"}, {"introduction": "现实世界中的许多系统都涉及多个相互作用的随机变量。协方差是衡量两个随机变量之间线性关系方向和强度的基本工具。本练习提供了一个具体的情境——分析新合金的材料特性——要求你直接从联合概率质量函数（PMF）计算协方差，这是理解和量化变量间依赖关系的核心实践 [@problem_id:1913493]。", "problem": "一个材料科学实验室正在测试一种用于航空航天应用的新型合金。每个样品都测量了两个关键属性：$X$，一个从1到3的整数分数，代表其拉伸强度等级；以及$Y$，一个从0到2的整数分数，代表其耐腐蚀性。经过大量测试，研究人员使用离散联合概率质量函数 $p(x,y) = P(X=x, Y=y)$ 来模拟这两个属性之间的关系。\n\n测定的概率如下：\n- $p(1, 0) = 0.05$\n- $p(1, 1) = 0.10$\n- $p(1, 2) = 0.15$\n- $p(2, 0) = 0.20$\n- $p(2, 1) = 0.15$\n- $p(2, 2) = 0.10$\n- $p(3, 0) = 0.10$\n- $p(3, 1) = 0.10$\n- $p(3, 2) = 0.05$\n\n所有其他 $(x,y)$ 组合的概率均为零。\n\n计算拉伸强度分数 $X$ 和耐腐蚀性分数 $Y$ 之间的协方差，记为 $\\text{Cov}(X,Y)$。将您的答案以十进制形式表示，并四舍五入到四位有效数字。", "solution": "协方差的定义为\n$$\n\\operatorname{Cov}(X,Y)=E[XY]-E[X]E[Y].\n$$\n首先计算边缘概率和期望值。对于 $X$，\n$$\nP(X=1)=0.05+0.10+0.15=0.30,\\quad P(X=2)=0.20+0.15+0.10=0.45,\\quad P(X=3)=0.10+0.10+0.05=0.25,\n$$\n所以\n$$\nE[X]=1\\cdot 0.30+2\\cdot 0.45+3\\cdot 0.25=0.30+0.90+0.75=1.95.\n$$\n对于 $Y$，\n$$\nP(Y=0)=0.05+0.20+0.10=0.35,\\quad P(Y=1)=0.10+0.15+0.10=0.35,\\quad P(Y=2)=0.15+0.10+0.05=0.30,\n$$\n所以\n$$\nE[Y]=0\\cdot 0.35+1\\cdot 0.35+2\\cdot 0.30=0+0.35+0.60=0.95.\n$$\n接下来计算\n$$\nE[XY]=\\sum_{x=1}^{3}\\sum_{y=0}^{2}xy\\,p(x,y)\n= (1\\cdot 1\\cdot 0.10+1\\cdot 2\\cdot 0.15)+(2\\cdot 1\\cdot 0.15+2\\cdot 2\\cdot 0.10)+(3\\cdot 1\\cdot 0.10+3\\cdot 2\\cdot 0.05)\n$$\n$$\n= (0.10+0.30)+(0.30+0.40)+(0.30+0.30)=1.70.\n$$\n因此，\n$$\n\\operatorname{Cov}(X,Y)=1.70-(1.95)(0.95)=1.70-1.8525=-0.1525.\n$$\n四舍五入到四位有效数字，该值为 $-0.1525$。", "answer": "$$\\boxed{-0.1525}$$", "id": "1913493"}]}