{"hands_on_practices": [{"introduction": "掌握贝叶斯定理的最佳方式是通过实践。我们从一个典型的场景开始，这个场景要求我们根据观察到的结果（系统故障）来推断其可能的原因。这个问题 [@problem_id:1898668] 完美地展示了贝叶斯定理的核心功能：在获得新证据后，更新我们对某个假设的信念。", "problem": "在一家大型科技公司，软件开发团队由初级和高级开发人员组成。根据历史数据，初级开发人员贡献了所有代码提交的35%，而高级开发人员则贡献了其余的65%。一个被称为构建管道的自动化测试系统会分析每一次代码提交。该系统确定，由初级开发人员进行的代码提交导致管道失败的概率为8.0%。相比之下，高级开发人员的提交导致此类失败的概率仅为2.0%。\n\n假设一个新的提交被推送到代码仓库，并导致了管道失败。那么，这次特定的提交是由一名初级开发人员完成的概率是多少？计算这个概率，并将您的答案表示为保留三位有效数字的小数。", "solution": "设 $J$ 表示提交由初级开发人员完成的事件，$S$ 表示由高级开发人员完成的事件，$F$ 表示管道失败的事件。\n\n已知：\n- $P(J)=0.35$，所以 $P(S)=0.65$。\n- $P(F \\mid J)=0.080$。\n- $P(F \\mid S)=0.020$。\n\n我们要求解 $P(J \\mid F)$，根据贝叶斯定理，它等于\n$$\nP(J \\mid F)=\\frac{P(F \\mid J)P(J)}{P(F)}.\n$$\n根据全概率公式，\n$$\nP(F)=P(F \\mid J)P(J)+P(F \\mid S)P(S).\n$$\n代入给定值：\n$$\nP(F)=0.080 \\cdot 0.35+0.020 \\cdot 0.65=0.028+0.013=0.041.\n$$\n因此，\n$$\nP(J \\mid F)=\\frac{0.080 \\cdot 0.35}{0.041}=\\frac{0.028}{0.041}=\\frac{28}{41}\\approx 0.682926\\dots\n$$\n保留三位有效数字，结果为 $0.683$。", "answer": "$$\\boxed{0.683}$$", "id": "1898668"}, {"introduction": "贝叶斯推理在诊断和测试领域无处不在，从医学到工程学皆是如此。在这个练习 [@problem_id:1898700] 中，我们将扮演艺术史学家的角色，利用化学测试结果来更新一幅画是真品的概率。此问题强调了先验信念（即初步评估）与新证据（即测试结果）如何结合，从而得出更精确的后验概率。", "problem": "一位艺术史学家正在鉴定一幅据称是16世纪的画作。根据其风格、出处和初步的目视检查，这位史学家的先验评估是，该画作有95%的可能是真品。因此，它有5%的可能是后来的伪作。\n\n为了验证画作的年代，对一个微观样本进行了化学测试。该测试旨在检测“普鲁士蓝”的存在，这是一种直到18世纪初才被发明的颜料。因此，一幅真正的16世纪画作不会含有普鲁士蓝。测试程序已经过广泛校准。已知如果存在普鲁士蓝（如此类伪作中会有的情况），测试将无法检测到它（假阴性）的概率为0.02。相反，如果不存在普鲁士蓝（如在真品画作中），测试将以1.0的概率正确报告其不存在。\n\n测试已进行，结果为阴性，意味着没有检测到普鲁士蓝。\n\n鉴于这一新证据，画作是真品的更新概率是多少？请将您的答案表示为四舍五入到四位有效数字的小数。", "solution": "设 $A$ 为画作是真品的事件，$F$ 为画作是伪作的事件，$N$ 为测试结果为阴性（未检测到普鲁士蓝）的事件。\n\n根据题意，先验概率为 $P(A)=0.95$ 和 $P(F)=0.05$。测试的特性意味着 $P(N \\mid A)=1$（没有假阳性）和 $P(N \\mid F)=0.02$（存在普鲁士蓝时的假阴性率）。\n\n我们使用贝叶斯定理来求解后验概率 $P(A \\mid N)$：\n$$\nP(A \\mid N)=\\frac{P(N \\mid A)P(A)}{P(N)}.\n$$\n根据全概率定律，\n$$\nP(N)=P(N \\mid A)P(A)+P(N \\mid F)P(F).\n$$\n代入给定值，\n$$\nP(N)=1 \\cdot 0.95+0.02 \\cdot 0.05=0.95+0.001=0.951,\n$$\n以及\n$$\nP(A \\mid N)=\\frac{1 \\cdot 0.95}{0.951}=\\frac{950}{951}\\approx 0.998948\\ldots\n$$\n四舍五入到四位有效数字得到 $0.9989$。", "answer": "$$\\boxed{0.9989}$$", "id": "1898700"}, {"introduction": "这个进阶问题将贝叶斯推理从简单的事件分类推向了更广阔的领域：参数空间的更新。我们将一个勘探问题模型化，其中证据（干井）的作用是排除与观测不符的假设（油藏位置），从而缩小可能性空间。通过解决这个问题 [@problem_id:1898695]，您将能更深刻地理解贝叶斯更新的本质——它是一种通过数据来约束和修正我们对世界模型的认识的逻辑过程。", "problem": "一个油田正在使用一个简化的一维模型进行评估。该油田被表示为一个由 $N=200$ 个单元格组成的网格，从1到200顺序编号。地质调查表明，一个由 $K=30$ 个单元格组成的单一连续区块含有丰富的石油储藏，而所有其他单元格都是干的。\n\n在进行任何钻探之前，这个大小为 $K$ 的含油区块的起始单元格被认为在所有可能的有效位置上呈均匀概率分布。如果整个区块（覆盖从单元格 $s$ 到 $s+K-1$）都位于网格之内（即从单元格1到单元格 $N$），那么起始单元格 $s$ 就是有效的。\n\n一家勘探公司在以下不同的单元格位置钻了 $m=4$ 口探井：$D = \\{40, 60, 110, 115\\}$。所有四口井的结果都是干的。根据这个新信息，位于位置 $c=70$ 的一个之前未钻探的单元格含有石油的更新后概率是多少？\n\n请将答案表示为最简分数形式。", "solution": "设 $N=200$ 且 $K=30$。有效的起始索引为 $s \\in \\{1,2,\\dots,N-K+1\\}=\\{1,2,\\dots,171\\}$，每个的先验概率为 $\\frac{1}{171}$。一个被钻探的单元格 $d$ 会在含油区块 $[s,s+K-1]$ 内，当且仅当 $s \\le d \\le s+K-1$，即 $s \\in [d-(K-1),\\,d]=[d-29,\\,d]$。鉴于在 $D=\\{40,60,110,115\\}$ 处的钻探结果为干，任何在这些区间（与 $[1,171]$ 相交）内的起始位置 $s$ 都是不可能的。\n\n计算被排除的区间：\n- 对于 $d=40$：$[11,40]$。\n- 对于 $d=60$：$[31,60]$。\n- 对于 $d=110$：$[81,110]$。\n- 对于 $d=115$：$[86,115]$。\n\n它们的并集是 $[11,40] \\cup [31,60]=[11,60]$（长度为 $60-11+1=50$）和 $[81,110] \\cup [86,115]=[81,115]$（长度为 $115-81+1=35$）。这两个并集是不相交的，因此被排除的起始位置总数为 $50+35=85$。因此，在观察到干井后，相容的起始位置数量为 $171-85=86$。\n\n单元格 $c=70$ 在含油区块内，当且仅当 $s \\in [c-(K-1),\\,c]=[41,70]$。在这些位置中，与干井结果不符的正是 $[41,70] \\cap [11,60]=[41,60]$，因此，既与干井结果相容又能覆盖 $c=70$ 的起始位置 $s$ 位于区间 $[61,70]$，总共有 $70-61+1=10$ 个。\n\n对于这 $86$ 个相容的起始位置 $s$ 上的均匀后验分布，单元格70含有石油的更新后概率为\n$$\n\\frac{10}{86}=\\frac{5}{43}.\n$$", "answer": "$$\\boxed{\\frac{5}{43}}$$", "id": "1898695"}]}