{"hands_on_practices": [{"introduction": "任何回归模型的一个主要用途是进行预测。在泊松回归中，这意味着计算线性预测值，然后使用反向链接函数（即指数函数）来得到期望计数值。这个练习 [@problem_id:1944900] 将指导你完成这个基本过程，让你能够将抽象的模型方程应用于具体场景，从而得出一个可操作的预测结果。", "problem": "一家科技公司的数据科学团队正在对其旗舰移动应用的每日用户错误报告数量进行建模。他们收集每日数据并拟合了一个泊松回归模型来预测每日的错误报告数量。该模型将报告的期望数量 $E[Y]$ 与三个预测变量相关联：\n- $x_1$：每日活跃用户数，以千为单位。\n- $x_2$：一个二元指示变量，如果当天推送了重要的软件更新，则 $x_2=1$，否则 $x_2=0$。\n- $x_3$：公司主要市场的每日平均室外温度，以摄氏度为单位。\n\n拟合的模型由期望计数的自然对数方程给出：\n$$ \\ln(E[Y]) = \\beta_0 + \\beta_1 x_1 + \\beta_2 x_2 + \\beta_3 x_3 $$\n\n团队的分析得出了以下估计系数：\n- $\\hat{\\beta}_0 = 0.50$\n- $\\hat{\\beta}_1 = 0.080$\n- $\\hat{\\beta}_2 = 1.20$\n- $\\hat{\\beta}_3 = -0.020$\n\n使用此模型，计算在某一天有50,000名活跃用户、发布了重要软件更新、平均温度为25.0摄氏度的情况下，预测的错误报告数量。将您的最终答案四舍五入至三位有效数字。", "solution": "我们给定了一个具有对数连接函数的泊松回归模型来描述每日期望计数，因此根据广义线性模型公式，\n$$\n\\ln(E[Y])=\\beta_{0}+\\beta_{1}x_{1}+\\beta_{2}x_{2}+\\beta_{3}x_{3},\n$$\n这意味着\n$$\nE[Y]=\\exp\\!\\left(\\beta_{0}+\\beta_{1}x_{1}+\\beta_{2}x_{2}+\\beta_{3}x_{3}\\right).\n$$\n对于指定的这一天，预测变量为：\n- $x_{1}=50$，因为 $50{,}000$ 名用户对应于以千为单位的 $50$。\n- $x_{2}=1$，因为发布了重要更新。\n- $x_{3}=25.0$，是平均温度。\n\n使用估计的系数，线性预测器为\n$$\n\\eta=\\hat{\\beta}_{0}+\\hat{\\beta}_{1}x_{1}+\\hat{\\beta}_{2}x_{2}+\\hat{\\beta}_{3}x_{3}\n=0.50+0.080\\cdot 50+1.20\\cdot 1+(-0.020)\\cdot 25.0.\n$$\n计算每一项：\n$$\n0.080\\cdot 50=4.0,\\quad (-0.020)\\cdot 25.0=-0.5,\n$$\n所以\n$$\n\\eta=0.50+4.0+1.20-0.5=5.20.\n$$\n因此，预测的错误报告期望数量为\n$$\n\\hat{E}[Y]=\\exp(5.20)\\approx 181.272\\ldots\n$$\n四舍五入到三位有效数字得到 $181$。", "answer": "$$\\boxed{181}$$", "id": "1944900"}, {"introduction": "在学会如何进行预测之后，关键的下一步是评估我们模型中的预测变量是否与结果存在统计上显著的关联。这个练习 [@problem_id:1944894] 侧重于解释与回归系数相关的p值，这是实践中假设检验的基石。理解p值能帮助我们区分出数据中真实的关联和随机的波动。", "problem": "一个软件质量保证团队正在分析导致软件错误的因素。他们从最近的100个软件模块中收集了数据。对于每个模块，他们记录了 `num_bugs`（发布后第一个月内报告的错误总数）和 `complexity_score`（一个从1到100的指标，代表模块的圈复杂度）。\n\n该团队拟合了一个泊松回归模型，以根据复杂度分数预测错误的数量。该模型指定为：\n$$ \\ln(E[\\text{num\\_bugs}]) = \\beta_0 + \\beta_1 \\times \\text{complexity\\_score} $$\n其中 $E[\\text{num\\_bugs}]$ 是预期的错误数量，$\\beta_0$ 和 $\\beta_1$ 是模型系数。\n\n将模型拟合到数据后，统计软件报告与系数 $\\beta_1$ 相关的p值为 $0.02$。该团队决定在分析中使用 $\\alpha = 0.05$ 的显著性水平。\n\n根据这些信息，以下哪个陈述是最准确的结论？\n\nA. 在 $\\alpha = 0.05$ 的显著性水平上，有统计上显著的证据表明模块的复杂度分数与其预期的错误数量之间存在关联。\n\nB. 复杂度分数对错误数量没有影响的概率是2%。\n\nC. 由于p值 $0.02$ 小于显著性水平 $0.05$，我们得出结论，没有证据表明复杂度分数与错误数量之间存在关联。\n\nD. 模块复杂度分数的增加会导致错误数量的增加。\n\nE. 复杂度分数每增加一个单位，预期的错误数量增加0.02。", "solution": "我们给定一个带有对数连接的泊松回归模型：\n$$\n\\ln\\!\\big(E[\\text{num\\_bugs}]\\big)=\\beta_{0}+\\beta_{1}\\,\\text{complexity\\_score}.\n$$\n为了评估复杂度与预期错误数量之间的关联，关于斜率的标准假设检验使用：\n$$\nH_{0}:\\beta_{1}=0 \\quad \\text{versus} \\quad H_{1}:\\beta_{1}\\neq 0.\n$$\n软件报告了用于检验关于 $\\beta_{1}$ 的 $H_{0}$ 的p值为 $0.02$。使用显著性水平 $\\alpha=0.05$，决策规则是：\n$$\n\\text{Reject }H_{0}\\ \\text{ if }\\ p \\leq \\alpha.\n$$\n由于 $0.02  0.05$，我们拒绝 $H_{0}$ 并得出结论，有统计上显著的证据表明 $\\beta_{1}\\neq 0$，即复杂度分数与预期的错误数量相关联。\n\n解释各个选项：\n- A 正确陈述了在 $\\alpha=0.05$ 水平下的假设检验结论。\n- B 将p值误解为 $H_{0}$ 为真的概率，这是不正确的。\n- C 与决策规则相矛盾；如果 $p  \\alpha$，我们应得出存在关联证据的结论。\n- D 断言了因果关系，这在此次观察性分析中是不合理的，并且也没有指明 $\\beta_{1}$ 的符号。\n- E 既误解了p值也误解了连接函数：在对数连接中，（自变量）一个单位的增加会使 $E[\\text{num\\_bugs}]$ 乘以 $\\exp(\\beta_{1})$，而不是增加 $0.02$。\n\n因此，最准确的结论是A。", "answer": "$$\\boxed{A}$$", "id": "1944894"}, {"introduction": "虽然p值可以告诉我们一个效应是否具有统计显著性，但它并不能描述该效应的大小或实际重要性。在泊松回归中，系数是在对数尺度上，这可能不直观。这个练习 [@problem_id:1944855] 演示了如何将系数的置信区间转换为“率比”（rate ratio）的置信区间，从而为我们提供一个更直接、更易于解释的预测变量影响的度量。", "problem": "一位流行病学家正在研究某城市每日空气污染水平与哮喘相关住院人数之间的关系。每日入院人数通过以下形式的泊松回归模型进行建模：\n$$ \\ln(E[\\text{Admissions}]) = \\beta_0 + \\beta_1 \\cdot \\text{PM}_{2.5} $$\n其中 $E[\\text{Admissions}]$ 是每日预期入院人数，$\\text{PM}_{2.5}$ 是细颗粒物浓度，单位为微克/立方米 ($\\mu\\text{g/m}^3$) 。系数 $\\beta_1$ 量化了当 $\\text{PM}_{2.5}$ 每增加一个单位时，预期入院人数的对数值如何变化。\n\n数据分析后，一个统计软件包报告系数 $\\beta_1$ 的95%置信区间为 $[0.0240, 0.0510]$。\n\n这位流行病学家感兴趣的是*率比*，其定义为 $\\exp(\\beta_1)$。该值表示 $\\text{PM}_{2.5}$ 每增加 $1\\,\\mu\\text{g/m}^3$，每日入院率预期的变化乘法因子。\n\n根据给定的 $\\beta_1$ 置信区间，确定率比 $\\exp(\\beta_1)$ 相应的95%置信区间。提供这个新区间的下限和上限，每个值都四舍五入到三位有效数字。将您的答案表示为对应于下限和上限的一对数字。", "solution": "我们给定一个泊松对数线性模型，其连接函数为 $\\ln$，系数为 $\\beta_{1}$，其中，$\\text{PM}_{2.5}$ 每增加 $1\\,\\mu\\text{g/m}^{3}$ 所对应的流行病学相关效应是率比 $\\exp(\\beta_{1})$。报告的 $\\beta_{1}$ 的 $95\\%$ 置信区间为 $[0.0240, 0.0510]$。因为指数函数是严格单调递增的，所以对 $\\beta_{1}$ 置信区间的端点应用变换 $\\exp(\\cdot)$，可以得到率比的相应置信区间：\n$$\n\\text{CI}_{95\\%}\\big(\\exp(\\beta_{1})\\big) = \\big[\\exp(0.0240),\\, \\exp(0.0510)\\big].\n$$\n我们现在计算这些指数值。使用 $\\exp(x)$ 在 $x=0$ 处的泰勒级数展开，\n$$\n\\exp(x) = 1 + x + \\frac{x^{2}}{2} + \\frac{x^{3}}{6} + \\frac{x^{4}}{24} + \\cdots,\n$$\n对于 $x=0.0240$，我们得到\n$$\n\\exp(0.0240) \\approx 1 + 0.0240 + \\frac{0.0240^{2}}{2} + \\frac{0.0240^{3}}{6} + \\frac{0.0240^{4}}{24} = 1.024290317824\\ldots,\n$$\n对于 $x=0.0510$，\n$$\n\\exp(0.0510) \\approx 1 + 0.0510 + \\frac{0.0510^{2}}{2} + \\frac{0.0510^{3}}{6} + \\frac{0.0510^{4}}{24} = 1.0523228897\\ldots.\n$$\n将每个界限四舍五入到三位有效数字，分别得到 $1.02$ 和 $1.05$。因此，率比的 $95\\%$ 置信区间是\n$$\n\\big[1.02,\\, 1.05\\big].\n$$", "answer": "$$\\boxed{\\begin{pmatrix}1.02  1.05\\end{pmatrix}}$$", "id": "1944855"}]}