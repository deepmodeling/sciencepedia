{"hands_on_practices": [{"introduction": "在我们探索广阔的 Herbrand 域之前，我们必须首先理解其基本结构。“项的高度”这一概念提供了一种将这个无限集合组织成可管理的、有限层次的方法。本练习旨在通过应用项高度的递归定义，来训练分析项结构的基本技能。[@problem_id:3043555]", "problem": "考虑一个一阶签名 $\\Sigma$，它由一个常数符号 $a$、一个一元函数符号 $f/1$ 和一个二元函数符号 $g/2$ 组成。$\\Sigma$ 上的 Herbrand 域是由常数 $a$ 出发，通过以所有可能的方式应用函数符号 $f$ 和 $g$ 构成的所有基项的集合。\n\n根据一阶项的核心句法规则，归纳地定义项的高度 $\\mathrm{ht}(t)$ 如下：\n- 对于任何常数符号 $c$，设 $\\mathrm{ht}(c)=0$。\n- 对于任何 $n$ 元函数符号 $h$ 和项 $t_1,\\dots,t_n$，设\n$$\n\\mathrm{ht}\\big(h(t_1,\\dots,t_n)\\big)=1+\\max\\big(\\mathrm{ht}(t_1),\\dots,\\mathrm{ht}(t_n)\\big).\n$$\n\n使用这些定义，计算特定基项 $a$、$f(a)$ 和 $g(a,f(a))$ 的高度。将最终答案按 $a$、$f(a)$ 和 $g(a,f(a))$ 的顺序，使用 LaTeX 的 $\\mathrm{pmatrix}$ 环境表示为单行。无需舍入。", "solution": "问题提供了一个一阶签名 $\\Sigma$，包含一个常数符号 $a$、一个一元函数符号 $f/1$ 和一个二元函数符号 $g/2$。问题进一步给出了项的高度 $\\mathrm{ht}(t)$ 的归纳定义。我们的任务是计算特定基项 $a$、$f(a)$ 和 $g(a,f(a))$ 的高度。该问题定义明确，内部一致，并且需要直接应用给定的定义。\n\n项的高度的归纳定义如下：\n$1$. 对于任何常数符号 $c$，其高度定义为 $\\mathrm{ht}(c)=0$。\n$2$. 对于任何 $n$ 元函数符号 $h$ 和项 $t_1, \\dots, t_n$，其高度定义为\n$$\n\\mathrm{ht}\\big(h(t_1,\\dots,t_n)\\big)=1+\\max\\big(\\mathrm{ht}(t_1),\\dots,\\mathrm{ht}(t_n)\\big).\n$$\n我们将依次应用这些规则来计算每个指定项的高度。\n\n首先，我们计算项 $a$ 的高度。\n项 $a$ 是一个常数符号。根据定义的第一条规则，任何常数符号的高度都为 $0$。\n因此，\n$$\n\\mathrm{ht}(a) = 0.\n$$\n\n其次，我们计算项 $f(a)$ 的高度。\n项 $f(a)$ 是通过将一元函数符号 $f$ 应用于项 $a$ 形成的。我们使用定义的第二条规则，其中 $h=f$, $n=1$, $t_1=a$。\n这得到：\n$$\n\\mathrm{ht}(f(a)) = 1 + \\max(\\mathrm{ht}(a)).\n$$\n我们已经确定 $\\mathrm{ht}(a)=0$。代入这个值，我们得到：\n$$\n\\mathrm{ht}(f(a)) = 1 + \\max(0) = 1 + 0 = 1.\n$$\n\n第三，我们计算项 $g(a,f(a))$ 的高度。\n项 $g(a,f(a))$ 是通过将二元函数符号 $g$ 应用于项 $t_1=a$ 和 $t_2=f(a)$ 形成的。我们再次使用定义的第二条规则，此时 $h=g$, $n=2$, $t_1=a$, $t_2=f(a)$。\n这得出：\n$$\n\\mathrm{ht}\\big(g(a,f(a))\\big) = 1 + \\max\\big(\\mathrm{ht}(a), \\mathrm{ht}(f(a))\\big).\n$$\n我们之前已经计算出 $\\mathrm{ht}(a)=0$ 和 $\\mathrm{ht}(f(a))=1$。将这些值代入表达式中，我们得到：\n$$\n\\mathrm{ht}\\big(g(a,f(a))\\big) = 1 + \\max(0, 1).\n$$\n$0$ 和 $1$ 的最大值是 $1$。因此：\n$$\n\\mathrm{ht}\\big(g(a,f(a))\\big) = 1 + 1 = 2.\n$$\n\n项 $a$、$f(a)$ 和 $g(a,f(a))$ 的高度分别为 $0$、$1$ 和 $2$。问题要求按此特定顺序将最终答案表示为单行矩阵。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0  1  2\n\\end{pmatrix}\n}\n$$", "id": "3043555"}, {"introduction": "在项高度概念的基础上，本练习从计算单个项的高度进阶到系统地构造 Herbrand 域本身。通过生成前几个层次的项，您将对常数和函数符号如何相互作用以创建 Herbrand 解释的论域有一个具体的理解。这个练习是可视化 Herbrand 定理所操作的“搜索空间”的关键。[@problem_id:3043552]", "problem": "考虑一阶逻辑 (FOL) 中的以下签名：一个常量符号集合 $\\{a,b\\}$ 和一个一元函数符号集合 $\\{f,g\\}$。该签名的 Herbrand 域 $U_{\\Sigma}$ 是由 $\\{a,b,f,g\\}$ 构成的所有基项的集合，项的高度归纳定义如下：每个常量符号的高度为 $0$，如果 $h$ 是一个一元函数符号，$t$ 是一个项，那么 $h(t)$ 的高度为 $1 + \\mathrm{height}(t)$。仅使用这些定义和 Herbrand 域中项的句法差异的标准概念，按项的高度确定 $U_{\\Sigma}$ 的前三层，即 $L_{0}$、$L_{1}$ 和 $L_{2}$，其中 $L_{k}$ 表示高度恰好为 $k$ 的所有项的集合。列出 $L_{0} \\cup L_{1} \\cup L_{2}$ 中的所有项。最后，计算精确基数 $\\left|L_{0} \\cup L_{1} \\cup L_{2}\\right|$。请将您的最终答案以单个整数形式给出，无需四舍五入。", "solution": "用户提供了一个关于构建 Herbrand 域的一阶逻辑问题。该问题是有效的，因为它是自包含的，科学上基于数理逻辑的原理，并且是适定的。签名、Herbrand 域和项的高度的定义是标准且明确的。任务是系统地应用这些定义。\n\n问题定义了一个一阶逻辑签名 $\\Sigma$，它包括：\n- 一个常量符号集合 $C = \\{a, b\\}$。\n- 一个一元函数符号集合 $F_1 = \\{f, g\\}$。\n\nHerbrand 域 $U_{\\Sigma}$ 是可以由 $\\Sigma$ 中的符号构成的所有基项的集合。项的高度归纳定义如下：\n$1$. 任何常量符号 $c \\in C$ 的高度为 $0$。\n$2$. 项 $h(t)$ 的高度为 $1 + \\mathrm{height}(t)$，其中 $h \\in F_1$ 是一个一元函数符号，$t$ 是一个项。\n\n集合 $L_k$ 定义为 $U_{\\Sigma}$ 中所有高度恰好为 $k$ 的项的集合。我们的任务是确定集合 $L_0$、$L_1$ 和 $L_2$，然后求出它们并集的基数 $|L_0 \\cup L_1 \\cup L_2|$。\n\n首先，我们确定集合 $L_0$，它包含所有高度为 $0$ 的项。根据定义，只有常量符号的高度为 $0$。给定的常量符号是 $a$ 和 $b$。\n因此，集合 $L_0$ 是：\n$$ L_0 = \\{a, b\\} $$\n这个集合的基数是 $|L_0| = 2$。\n\n接下来，我们确定集合 $L_1$，它包含所有高度为 $1$ 的项。一个项的高度为 $1$，如果它的形式是 $h(t)$，其中 $h$ 是一个一元函数符号，$t$ 是一个项，且满足 $1 + \\mathrm{height}(t) = 1$。这意味着 $\\mathrm{height}(t) = 0$。高度为 $0$ 的项正是 $L_0$ 的元素。一元函数符号是 $f$ 和 $g$。我们通过将 $F_1 = \\{f, g\\}$ 中的每个函数符号应用于 $L_0 = \\{a, b\\}$ 中的每个项来构成 $L_1$ 中的项。\n- 将 $f$ 应用于 $L_0$ 的元素：$f(a)$，$f(b)$。\n- 将 $g$ 应用于 $L_0$ 的元素：$g(a)$，$g(b)$。\n所有这些项在句法上都是不同的。因此，集合 $L_1$ 是：\n$$ L_1 = \\{f(a), f(b), g(a), g(b)\\} $$\n这个集合的基数是 $|L_1| = 2 \\times |L_0| = 2 \\times 2 = 4$。\n\n现在，我们确定集合 $L_2$，它包含所有高度为 $2$ 的项。一个项的高度为 $2$，如果它的形式是 $h(t)$，其中 $h$ 是一个一元函数符号，$t$ 是一个项，且满足 $1 + \\mathrm{height}(t) = 2$。这意味着 $\\mathrm{height}(t) = 1$。高度为 $1$ 的项是 $L_1$ 的元素。我们通过将 $F_1 = \\{f, g\\}$ 中的每个函数符号应用于 $L_1 = \\{f(a), f(b), g(a), g(b)\\}$ 中的每个项来构成 $L_2$ 中的项。\n- 将 $f$ 应用于 $L_1$ 的元素：$f(f(a))$，$f(f(b))$，$f(g(a))$，$f(g(b))$。\n- 将 $g$ 应用于 $L_1$ 的元素：$g(f(a))$，$g(f(b))$，$g(g(a))$，$g(g(b))$。\n所有这些项在句法上都是不同的。因此，集合 $L_2$ 是：\n$$ L_2 = \\{f(f(a)), f(f(b)), f(g(a)), f(g(b)), g(f(a)), g(f(b)), g(g(a)), g(g(b))\\} $$\n这个集合的基数是 $|L_2| = 2 \\times |L_1| = 2 \\times 4 = 8$。\n\n问题要求列出 $L_0 \\cup L_1 \\cup L_2$ 中的所有项。\n$$ L_0 \\cup L_1 \\cup L_2 = \\{a, b, f(a), f(b), g(a), g(b), f(f(a)), f(f(b)), f(g(a)), f(g(b)), g(f(a)), g(f(b)), g(g(a)), g(g(b))\\} $$\n\n最后，我们需要计算基数 $|L_0 \\cup L_1 \\cup L_2|$。由于一个项不能有多个高度，因此对于不同的 $k$ 值，集合 $L_k$ 是不相交的。也就是说，当 $i \\neq j$ 时，$L_i \\cap L_j = \\emptyset$。\n因此，并集的基数是各个集合基数的总和：\n$$ |L_0 \\cup L_1 \\cup L_2| = |L_0| + |L_1| + |L_2| $$\n代入我们计算出的值：\n$$ |L_0 \\cup L_1 \\cup L_2| = 2 + 4 + 8 = 14 $$\n高度不超过 $2$ 的项的总数是 $14$。", "answer": "$$\\boxed{14}$$", "id": "3043552"}, {"introduction": "构造 Herbrand 域的最终目的通常是为了检验一组逻辑子句的不可满足性。本练习应用 Herbrand 域和 Herbrand 基的概念来构建一棵语义反驳树。这个动手实践将展示 Herbrand 定理如何将一个一阶逻辑问题转化为一个命题逻辑问题，证明如果一组子句是不可满足的，那么在有限数量的基元实例中必然可以找到矛盾。[@problem_id:3043528]", "problem": "考虑一阶逻辑（FOL）中的子句集 $$\\Gamma=\\{P(a)\\lor Q(a),\\ \\neg P(a),\\ \\neg Q(a)\\},$$ 其中 $P$ 和 $Q$ 是一元谓词符号，$a$ 是一个常量符号。仅使用 Herbrand 域、Herbrand 基和子句集的语义（Herbrand）反驳树的基本定义，按以下步骤进行：\n\n- 确定 $\\Gamma$ 的 Herbrand 域和 Herbrand 基。\n- 构建一个语义反驳树（Herbrand 树），其中每个内部节点通过将 Herbrand 基中的一个基原子赋值为 $ \\top $ 或 $ \\bot $ 来进行分支，并且当 $\\Gamma$ 中的某个子句在该分支上的部分赋值下被证伪时，该分支恰好闭合。通过为每个叶节点指明哪个子句被证伪，明确地证明所有分支都闭合。\n- 在 $\\Gamma$ 的所有此类闭合 Herbrand 树中，确定叶节点（即闭合分支）的最小可能数量。你的最终答案必须是这个最小数量的整数。无需四舍五入。", "solution": "此问题经评估有效。这是一个在数理逻辑领域内，特别是在关于 Herbrand 定理和证明论方面，提法恰当、内容完备且具有科学依据的问题。所有术语均为标准术语，前提条件是一致的。\n\n解答按要求分三部分进行。\n\n首先，我们确定给定子句集 $\\Gamma=\\{P(a)\\lor Q(a),\\ \\neg P(a),\\ \\neg Q(a)\\}$ 的 Herbrand 域和 Herbrand 基。\n\n$\\Gamma$ 的语言包含一个常量符号 $a$，且没有函数符号。Herbrand 域，记作 $H(\\Gamma)$，是由该语言中的常量和函数符号可以构成的所有基项的集合。由于没有函数符号，唯一可以构成的基项是常量 $a$ 本身。\n因此，Herbrand 域是：\n$$H(\\Gamma) = \\{a\\}$$\n\n$\\Gamma$ 的语言包含两个一元谓词符号 $P$ 和 $Q$。Herbrand 基，记作 $B(\\Gamma)$，是通过将谓词符号应用于 Herbrand 域中的项而构成的所有基原子的集合。将谓词 $P$ 和 $Q$ 应用于 $H(\\Gamma)$ 中的单个项 $a$，我们得到基原子 $P(a)$ 和 $Q(a)$。\n因此，Herbrand 基是：\n$$B(\\Gamma) = \\{P(a), Q(a)\\}$$\n\n其次，我们构建一个语义反驳树。语义树是系统地搜索子句集的 Herbrand 模型的一种方法。树的节点用 Herbrand 基中的原子标记。从父节点到子节点的边代表对父节点处原子的真值赋值。如果沿该分支的真值部分赋值证伪了 $\\Gamma$ 中至少一个子句，则该分支是闭合的。如果一棵树的所有分支都是闭合的，那么它就是一棵反驳树，这证明了该子句集是不可满足的。\n\n闭合 Herbrand 树中叶节点的数量可能取决于从 Herbrand 基中选择用于分支的原子的顺序。让我们首先通过在根节点处对原子 $P(a)$ 进行分支来构建一棵树，然后在必要时对 $Q(a)$ 进行分支。\n\n1.  **根节点：** 根节点代表一个空赋值。我们选择对原子 $P(a) \\in B(\\Gamma)$ 进行分支。\n\n2.  **第一层：**\n    *   **左分支：** 我们赋值 $P(a) = \\top$。我们检查这个部分赋值是否证伪了 $\\Gamma = \\{P(a)\\lor Q(a),\\ \\neg P(a),\\ \\neg Q(a)\\}$ 中的任何子句。子句 $\\neg P(a)$ 变为 $\\neg \\top$，其值为 $\\bot$ (假)。因此，该赋值证伪了子句 $\\neg P(a)$。该分支闭合。这形成一个叶节点。\n    *   **右分支：** 我们赋值 $P(a) = \\bot$。我们检查这些子句。\n        *   $P(a)\\lor Q(a)$ 变为 $\\bot \\lor Q(a)$，简化为 $Q(a)$。这没有被证伪。\n        *   $\\neg P(a)$ 变为 $\\neg \\bot$，简化为 $\\top$。这被满足。\n        *   $\\neg Q(a)$ 不依赖于 $P(a)$。这没有被证伪。\n        由于没有子句被证伪，该分支保持开放。我们必须通过对基中的另一个原子 $Q(a)$ 进行分支来继续。\n\n3.  **第二层（在开放分支上）：**\n    *   **右-左分支：** 我们将赋值 $P(a) = \\bot$ 扩展为 $Q(a) = \\top$。此路径上的完整赋值是 $\\{P(a) = \\bot, Q(a) = \\top\\}$。我们检查这些子句。子句 $\\neg Q(a)$ 变为 $\\neg \\top$，其值为 $\\bot$。此分支闭合。这形成了第二个叶节点。\n    *   **右-右分支：** 我们将赋值 $P(a) = \\bot$ 扩展为 $Q(a) = \\bot$。此路径上的完整赋值是 $\\{P(a) = \\bot, Q(a) = \\bot\\}$。我们检查这些子句。子句 $P(a) \\lor Q(a)$ 变为 $\\bot \\lor \\bot$，其值为 $\\bot$。此分支闭合。这形成了第三个叶节点。\n\n这棵树的所有分支都已闭合，因此它是 $\\Gamma$ 的一个有效的语义反驳树。这些叶节点对应于以下闭合分支：\n*   叶节点1：路径赋值 $\\{P(a) = \\top\\}$，证伪了 $\\neg P(a)$。\n*   叶节点2：路径赋值 $\\{P(a) = \\bot, Q(a) = \\top\\}$，证伪了 $\\neg Q(a)$。\n*   叶节点3：路径赋值 $\\{P(a) = \\bot, Q(a) = \\bot\\}$，证伪了 $P(a) \\lor Q(a)$。\n\n这棵树总共有 $3$ 个叶节点。\n\n第三，我们必须确定叶节点的最小可能数量。为此，我们必须考虑所有可能的分支原子排序。由于 Herbrand 基是 $B(\\Gamma) = \\{P(a), Q(a)\\}$，唯一的其他初始选择是在根节点处对 $Q(a)$ 进行分支。\n\n让我们分析从 $Q(a)$ 开始的树：\n1.  **根节点：** 对 $Q(a)$ 进行分支。\n2.  **第一层：**\n    *   **左分支：** 赋值 $Q(a) = \\top$。此赋值证伪了 $\\Gamma$ 中的子句 $\\neg Q(a)$。该分支闭合，形成一个叶节点。\n    *   **右分支：** 赋值 $Q(a) = \\bot$。没有子句立即被证伪。该分支保持开放。我们对 $P(a)$ 进行分支。\n3.  **第二层（在开放分支上）：**\n    *   **右-左分支：** 路径赋值为 $\\{Q(a) = \\bot, P(a) = \\top\\}$。这证伪了子句 $\\neg P(a)$。该分支闭合，形成第二个叶节点。\n    *   **右-右分支：** 路径赋值为 $\\{Q(a) = \\bot, P(a) = \\bot\\}$。这证伪了子句 $P(a) \\lor Q(a)$。该分支闭合，形成第三个叶节点。\n\n这棵树也有 $3$ 个叶节点。由于对于一个包含2个元素的 Herbrand 基来说，这两种排序是仅有的不同排序，因此通过这种标准构造方法生成的最小叶节点数为 $3$。\n\n是否存在少于 $3$ 个叶节点的树？具有 $1$ 个叶节点的树是不可能的，因为它将不是一个分支树。具有 $2$ 个叶节点的树必须由一个单独的根节点分支成两个叶节点。这意味着存在一个原子 $A \\in B(\\Gamma)$，使得赋值 $A = \\top$ 闭合一个分支，而赋值 $A = \\bot$ 闭合另一个分支。\n*   让我们测试 $A = P(a)$。赋值 $P(a)=\\top$ 闭合了分支（证伪了 $\\neg P(a)$）。然而，赋值 $P(a)=\\bot$ 本身并不能证伪 $\\Gamma$ 中的任何子句。所以这不会产生一个有 $2$ 个叶节点的树。\n*   让我们测试 $A = Q(a)$。赋值 $Q(a)=\\top$ 闭合了分支（证伪了 $\\neg Q(a)$）。然而，赋值 $Q(a)=\\bot$ 本身并不能证伪 $\\Gamma$ 中的任何子句。所以这同样不会产生一个有 $2$ 个叶节点的树。\n\n由于没有任何单个原子的分裂可以闭合其产生的所有分支，一个有 $2$ 个叶节点的树是不可能的。因此，对于 $\\Gamma$ 的任何闭合 Herbrand 树，其叶节点的最小数量是 $3$。", "answer": "$$\\boxed{3}$$", "id": "3043528"}]}