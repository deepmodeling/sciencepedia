{"hands_on_practices": [{"introduction": "掌握任何逻辑公式的第一步是精确地区分自由变量和约束变量。此练习旨在提供基础训练，通过严格应用作用域和自由变量的递归定义，来正确地分析一个公式的结构。通过这个练习 [@problem_id:3051488]，你将能够系统地确定一个公式中每个变量的状态。", "problem": "考虑一阶逻辑（FOL）公式\n$$\\varphi = \\big(\\forall x\\, (P(x) \\land Q(y))\\big) \\lor \\big(\\exists x\\, R(x,z)\\big).$$\n所有谓词符号如公式所示，$P$ 和 $Q$ 为一元谓词，$R$ 为二元谓词，且出现的变量仅有 $x$、$y$ 和 $z$。请仅使用作用域、约束出现、自由出现的标准基础定义，以及一阶逻辑公式的自由变量集合 $FV(\\cdot)$ 的归纳定义，完成以下任务：\n1. 识别 $\\varphi$ 中 $x$ 的哪些出现是约束的，哪些（若有）是自由的。\n2. 计算集合 $FV(\\varphi)$。\n3. 为得出一个单一的数值最终答案，请对一个有限变量集合 $S \\subseteq \\{x,y,z\\}$ 使用以下编码：\n   - 分配权重 $w(x)=2$, $w(y)=3$, $w(z)=5$。\n   - 定义编码 $E(S)=\\prod_{v\\in S} w(v)$，并按惯例定义 $E(\\varnothing)=1$。\n将整数 $E\\big(FV(\\varphi)\\big)$ 作为你的最终答案报告。无需四舍五入，不涉及单位。你的推理必须从 FOL 中作用域和约束的核心定义以及 $FV(\\cdot)$ 的归纳定义出发，不得借助任何非由这些定义推导出的快捷规则。", "solution": "该问题要求对一阶逻辑公式 $\\varphi = \\big(\\forall x\\, (P(x) \\land Q(y))\\big) \\lor \\big(\\exists x\\, R(x,z)\\big)$ 进行严谨分析，以确定其自由变量集合，然后计算一个相应的数值编码。该分析必须基于作用域、约束的形式化定义，以及自由变量集合 $FV(\\cdot)$ 的归纳定义。\n\n首先，我们陈述基础定义：\n1.  **作用域**：对于形如 $\\forall v\\, \\psi$ 或 $\\exists v\\, \\psi$ 的公式，量词（如 $\\forall v$ 或 $\\exists v$）的作用域是子公式 $\\psi$。\n2.  **约束出现和自由出现**：在公式 $\\phi$ 中，变量 $v$ 的一次出现，如果它出现在量词 $\\forall v$ 或 $\\exists v$ 的作用域内，则称为*约束出现*。如果一次出现不是约束的，则称为*自由出现*。$\\forall v$ 和 $\\exists v$ 本身中 $v$ 的出现是约束性出现，这与作用域内的约束出现或自由出现是不同的。\n3.  **自由变量 $FV(\\phi)$**：公式 $\\phi$ 的自由变量集合归纳定义如下：\n    -   如果 $\\phi$ 是一个原子公式 $A(t_1, \\dots, t_n)$，那么 $FV(\\phi)$ 是所有出现在项 $t_1, \\dots, t_n$ 中的变量的集合。\n    -   $FV(\\neg\\psi) = FV(\\psi)$。\n    -   对于任意二元联结词 $\\circ \\in \\{\\land, \\lor, \\to, \\leftrightarrow\\}$，有 $FV(\\psi_1 \\circ \\psi_2) = FV(\\psi_1) \\cup FV(\\psi_2)$。\n    -   $FV(\\forall v\\, \\psi) = FV(\\psi) \\setminus \\{v\\}$。\n    -   $FV(\\exists v\\, \\psi) = FV(\\psi) \\setminus \\{v\\}$。\n\n给定公式为 $\\varphi = \\varphi_1 \\lor \\varphi_2$，其中 $\\varphi_1 = \\forall x\\, (P(x) \\land Q(y))$ 且 $\\varphi_2 = \\exists x\\, R(x,z)$。我们将按要求分析每个部分。\n\n**第1部分：识别 $x$ 的约束出现和自由出现。**\n\n在公式 $\\varphi$ 中，变量 $x$ 作为谓词的参数出现了两次：一次在 $P(x)$ 中，一次在 $R(x,z)$ 中。\n\n-   考虑 $x$ 在子公式 $\\varphi_1 = \\forall x\\, (P(x) \\land Q(y))$ 中的第一次出现。量词是 $\\forall x$，其作用域是子公式 $\\psi_1 = (P(x) \\land Q(y))$。$P(x)$ 中 $x$ 的出现位于此作用域内。因此，根据定义，这次 $x$ 的出现是一次**约束出现**。\n\n-   考虑 $x$ 在子公式 $\\varphi_2 = \\exists x\\, R(x,z)$ 中的第二次出现。量词是 $\\exists x$，其作用域是子公式 $\\psi_2 = R(x,z)$。$R(x,z)$ 中 $x$ 的出现位于此作用域内。因此，这次 $x$ 的出现也是一次**约束出现**。\n\n因此，变量 $x$ 在 $\\varphi$ 中的两次出现都是约束的。在 $\\varphi$ 中没有 $x$ 的自由出现。\n\n**第2部分：计算集合 $FV(\\varphi)$。**\n\n我们将 $FV(\\cdot)$ 的归纳定义应用于公式 $\\varphi$。\n\n首先，由于 $\\varphi$ 是一个析取式，我们有：\n$$FV(\\varphi) = FV\\big(\\big(\\forall x\\, (P(x) \\land Q(y))\\big) \\lor \\big(\\exists x\\, R(x,z)\\big)\\big) = FV\\big(\\forall x\\, (P(x) \\land Q(y))\\big) \\cup FV\\big(\\exists x\\, R(x,z)\\big)$$\n\n我们分别计算每个子公式的自由变量集合。\n\n对于第一个子公式 $\\varphi_1 = \\forall x\\, (P(x) \\land Q(y))$:\n根据全称量化规则：\n$$FV(\\forall x\\, (P(x) \\land Q(y))) = FV(P(x) \\land Q(y)) \\setminus \\{x\\}$$\n接下来，我们求合取式 $P(x) \\land Q(y)$ 的自由变量：\n$$FV(P(x) \\land Q(y)) = FV(P(x)) \\cup FV(Q(y))$$\n对于原子公式 $P(x)$ 和 $Q(y)$，其自由变量就是它们所包含的变量：\n$$FV(P(x)) = \\{x\\}$$\n$$FV(Q(y)) = \\{y\\}$$\n代回，我们得到：\n$$FV(P(x) \\land Q(y)) = \\{x\\} \\cup \\{y\\} = \\{x, y\\}$$\n最后，我们完成对 $\\varphi_1$ 的计算：\n$$FV(\\varphi_1) = FV(\\forall x\\, (P(x) \\land Q(y))) = \\{x, y\\} \\setminus \\{x\\} = \\{y\\}$$\n\n对于第二个子公式 $\\varphi_2 = \\exists x\\, R(x,z)$:\n根据存在量化规则：\n$$FV(\\exists x\\, R(x,z)) = FV(R(x,z)) \\setminus \\{x\\}$$\n对于原子公式 $R(x,z)$，其自由变量是它所包含的变量：\n$$FV(R(x,z)) = \\{x, z\\}$$\n代回，我们得到：\n$$FV(\\varphi_2) = FV(\\exists x\\, R(x,z)) = \\{x, z\\} \\setminus \\{x\\} = \\{z\\}$$\n\n现在，我们合并结果以求得 $FV(\\varphi)$:\n$$FV(\\varphi) = FV(\\varphi_1) \\cup FV(\\varphi_2) = \\{y\\} \\cup \\{z\\} = \\{y, z\\}$$\n$\\varphi$ 中的自由变量集合是 $\\{y, z\\}$。\n\n**第3部分：计算编码 $E\\big(FV(\\varphi)\\big)$。**\n\n问题定义了对一个变量集合 $S \\subseteq \\{x,y,z\\}$ 的编码方式。分配给变量的权重是 $w(x)=2$, $w(y)=3$, 和 $w(z)=5$。编码函数是 $E(S)=\\prod_{v\\in S} w(v)$。\n\n题目要求我们计算 $E\\big(FV(\\varphi)\\big)$。从第2部分，我们得出 $FV(\\varphi) = \\{y, z\\}$。\n因此，我们必须计算 $E(\\{y, z\\})$。\n使用编码函数的定义：\n$$E(\\{y, z\\}) = \\prod_{v \\in \\{y, z\\}} w(v) = w(y) \\cdot w(z)$$\n代入给定的权重：\n$$E(\\{y, z\\}) = 3 \\cdot 5 = 15$$\n最终的数值答案是 15。", "answer": "$$\\boxed{15}$$", "id": "3051488"}, {"introduction": "在掌握了基础知识之后，我们将探讨一个更复杂的场景：嵌套量词。当同一个变量被多个量词约束时，我们需要一个清晰的规则——“最近的约束者优先”规则——来消除歧义。这个练习 [@problem_id:3051484] 将磨练你剖析嵌套逻辑结构并精确确定变量绑定的能力。", "problem": "考虑一阶逻辑（FOL）中的一阶公式\n$$\\forall x \\big(P(x) \\to (\\exists x\\, Q(x) \\land R(x))\\big).$$\n在一阶逻辑的标准句法约定下进行分析，其中量词的作用域是紧随其后的公式，括号决定了连接词的组合方式，并可以相应地扩展或限制作用域。使用自由变量和约束变量的核心定义以及由量词约束所引出的作用域概念，精确地描述给定公式中量词的作用域，并为变量 $x$ 的每次出现，指明是哪个量词（如果有的话）约束了它。\n\n令 $n_{\\forall}$ 表示被外层量词 $\\forall x$ 约束的 $x$ 的出现次数，令 $n_{\\exists}$ 表示被内层量词 $\\exists x$ 约束的 $x$ 的出现次数。计算 $n_{\\forall}$ 和 $n_{\\exists}$。\n\n将你的最终答案以行矩阵 $(n_{\\forall}\\; n_{\\exists})$ 的形式给出。无需四舍五入。", "solution": "该问题要求我们分析一阶逻辑公式中变量的约束情况\n$$ \\forall x \\big(P(x) \\to (\\exists x\\, Q(x) \\land R(x))\\big). $$\n此分析基于一阶逻辑（FOL）中量词作用域和变量约束的标准定义。\n\n首先，我们必须仔细地描述每个量词的作用域。量词的作用域是它所作用的公式部分。如果一个变量的出现位于量化该变量的量词的作用域内，则称该变量的出现是受约束的。如果一个变量不受约束，它就是自由的。\n\n给定公式对于同一个变量名 $x$ 有两个量词。这造成了作用域嵌套的情况。在这种情况下，支配规则是：变量的一次出现由包含该次出现的最内层量词所约束。这通常被称为变量遮蔽或“作用域空洞”规则。\n\n让我们来分析公式的结构，根据标准运算符优先级（量词的绑定比逻辑连接词更紧密），可以明确地加上括号表示为：\n$$ \\forall x \\Big(P(x) \\to \\big( (\\exists x\\, Q(x)) \\land R(x) \\big)\\Big) $$\n\n1.  **外层量词, $\\forall x$**：\n    这个全称量词的作用域是紧随其后的整个公式。我们将其作用域表示为 $S_{\\forall}$。\n    $$ S_{\\forall} = \\Big(P(x) \\to \\big( (\\exists x\\, Q(x)) \\land R(x) \\big)\\Big) $$\n    在这个作用域 $S_{\\forall}$ 内 $x$ 的每一次出现都有可能被这个 $\\forall x$ 所约束。\n\n2.  **内层量词, $\\exists x$**：\n    这个存在量词的作用域是紧随其后的公式。根据标准句法规则，在子公式 $(\\exists x\\, Q(x)) \\land R(x)$ 中，$\\exists x$ 的作用域仅为 $Q(x)$。合取符号 $\\land$ 在此量词的作用域之外。我们将其作用域表示为 $S_{\\exists}$。\n    $$ S_{\\exists} = Q(x) $$\n    作用域 $S_{\\exists}$ 是更大的作用域 $S_{\\forall}$ 内的一个子公式。这意味着对于变量 $x$ 而言，$S_{\\exists}$ 在作用域 $S_{\\forall}$ 中扮演了一个“空洞”的角色。在这个空洞 $S_{\\exists}$ 内部，$x$ 的任何一次出现都将被内层量词 $\\exists x$ 约束，而不是外层量词 $\\forall x$。\n\n现在，我们可以确定公式中变量 $x$ 的三次出现分别被哪个量词所约束：\n\n*   **第一次出现：$P(x)$ 中的 $x$**\n    这次出现的 $x$ 在全称量词 $\\forall x$ 的作用域 $S_{\\forall}$ 内。\n    它*不在*存在量词 $\\exists x$ 的作用域 $S_{\\exists}$ 内。\n    因此，这次出现的 $x$ 被外层量词 $\\forall x$ 约束。\n\n*   **第二次出现：$Q(x)$ 中的 $x$**\n    这次出现的 $x$ 在 $\\forall x$ 的作用域 $S_{\\forall}$ 内。\n    它也在 $\\exists x$ 的作用域 $S_{\\exists}$ 内。\n    根据最内层约束规则，这次出现的 $x$ 被内层量词 $\\exists x$ 约束。\n\n*   **第三次出现：$R(x)$ 中的 $x$**\n    这次出现的 $x$ 在 $\\forall x$ 的作用域 $S_{\\forall}$ 内。\n    它*不在* $\\exists x$ 的作用域 $S_{\\exists}$ 内，因为 $\\exists x$ 的作用域只延伸到 $Q(x)$。\n    因此，这次出现的 $x$ 被外层量词 $\\forall x$ 约束。\n\n最后，我们计算所要求的值 $n_{\\forall}$ 和 $n_{\\exists}$。\n\n*   $n_{\\forall}$ 是被外层量词 $\\forall x$ 约束的 $x$ 的出现次数。根据我们的分析，这些是 $P(x)$ 和 $R(x)$ 中的出现。因此，$n_{\\forall} = 2$。\n*   $n_{\\exists}$ 是被内层量词 $\\exists x$ 约束的 $x$ 的出现次数。这是 $Q(x)$ 中的出现。因此，$n_{\\exists} = 1$。\n\n得到的结果对是 $(n_{\\forall}, n_{\\exists}) = (2, 1)$。", "answer": "$$\\boxed{\\begin{pmatrix} 2  1 \\end{pmatrix}}$$", "id": "3051484"}, {"introduction": "最后，我们将语法操作与语义基础联系起来。变量“遮蔽”带来的潜在混淆可以通过一种称为变量重命名（或α-换位）的语法技巧来解决。这个练习 [@problem_id:3051426] 更进一步，要求你证明这种为避免歧义而进行的重命名操作能够保证公式的真值不变，从而将一个语法规则与其深刻的语义基础联系起来。", "problem": "考虑一阶逻辑（FOL），其中一个结构由一个非空论域和谓词符号的解释给出，并且一个公式的满足性是相对于一个变量赋值来定义的。设 $\\varphi$ 为公式 $\\forall x\\big(P(x) \\land \\exists x\\, Q(x)\\big)$，其中 $P$ 和 $Q$ 是一元谓词符号。公式 $\\varphi$ 表现出遮蔽现象，因为由内层存在量词约束的变量 $x$ 与由外层全称量词约束的变量 $x$ 同名。通过将内层约束变量重命名为 $u$ 来定义变量重命名后的公式 $\\psi$，使得 $\\psi = \\forall x\\big(P(x) \\land \\exists u\\, Q(u)\\big)$。\n\n仅使用一阶逻辑语法和语义的核心定义（特别是变量的约束和作用域，以及全称和存在量词的真值定义），完成以下任务：\n\n1. 通过约束变量重命名，从 $\\varphi$ 显式地构造出 $\\psi$ 来消除遮蔽。请明确指出哪些变量的出现是受约束的，以及由此产生的作用域。\n2. 证明对于任何一阶逻辑结构和任何变量赋值，$\\varphi$ 和 $\\psi$ 都具有相同的真值。你的论证必须从 $\\forall$ 和 $\\exists$ 的形式满足性定义以及约束变量重命名的概念出发；不要引用超出这些定义范围的任何现成定理。\n3. 现在固定一个具体结构 $\\mathcal{M}$，其论域为 $D = \\{0,1,2\\}$，其中 $P(d)$ 为真当且仅当 $d \\in \\{0,2\\}$，$Q(d)$ 为真当且仅当 $d = 1$。在 $\\mathcal{M}$ 中求出双条件句 $\\varphi \\leftrightarrow \\psi$ 的真值，并使用约定 $0$ 表示假，$1$ 表示真来表达结果。无需四舍五入。", "solution": "该问题要求对两个一阶逻辑公式 $\\varphi$ 和 $\\psi$ 进行三部分分析，涉及变量约束、作用域和满足性。\n\n### 第一部分：从 $\\varphi$ 构造 $\\psi$\n\n初始公式为 $\\varphi = \\forall x\\big(P(x) \\land \\exists x\\, Q(x)\\big)$。\n为了理解其结构，我们确定量词及其作用域。\n1.  外层全称量词 $\\forall x$ 的作用域是子公式 $\\big(P(x) \\land \\exists x\\, Q(x)\\big)$。\n2.  内层存在量词 $\\exists x$ 的作用域是子公式 $Q(x)$。\n\n在公式 $\\varphi$ 中，变量 $x$ 出现了三次。\n-   $P(x)$ 中 $x$ 的出现受外层量词 $\\forall x$ 约束。\n-   $Q(x)$ 中 $x$ 的出现受内层量词 $\\exists x$ 约束。内层量词的作用域嵌套在外层量词的作用域之内。因为变量名相同，内层约束“遮蔽”了外层约束。根据一阶逻辑中的变量约束规则，一个变量的出现受其所在作用域最内层的量词约束。\n\n消除遮蔽的过程包括将内层量词的约束变量重命名为一个新变量，即一个在该量词作用域内不作为自由变量出现的变量。在子公式 $\\exists x\\, Q(x)$ 中没有自由变量，所以任何新的变量符号都可以。我们选择变量 $u$。\n\n我们将内层子公式 $\\exists x\\, Q(x)$ 替换为其alpha等价形式 $\\exists u\\, Q(u)$。在这个新的子公式中，变量 $u$ 受量词 $\\exists u$ 约束，其作用域是谓词 $Q(u)$。\n\n将这个重命名后的子公式代换回 $\\varphi$，得到公式 $\\psi$：\n$\\psi = \\forall x\\big(P(x) \\land \\exists u\\, Q(u)\\big)$。\n\n在得到的公式 $\\psi$ 中：\n-   量词 $\\forall x$ 约束 $P(x)$ 中 $x$ 的出现。其作用域是整个子公式 $P(x) \\land \\exists u\\, Q(u)$。\n-   量词 $\\exists u$ 约束 $Q(u)$ 中 $u$ 的出现。其作用域是 $Q(u)$。\n\n变量遮蔽已被消除，因为两个量词约束的变量现在是不同的（$x$ 和 $u$）。\n\n### 第二部分：等价性证明\n\n为了证明 $\\varphi$ 和 $\\psi$ 是逻辑等价的，我们必须证明对于任何具有非空论域 $D$ 的结构 $\\mathcal{M}$ 和任何变量赋值 $\\sigma$，满足关系对两者同时成立或同时不成立。也就是说，$\\mathcal{M}, \\sigma \\models \\varphi$ 当且仅当 $\\mathcal{M}, \\sigma \\models \\psi$。我们从量词的语义定义出发。\n\n我们来分析 $\\varphi$ 的真值条件：$\\mathcal{M}, \\sigma \\models \\forall x\\big(P(x) \\land \\exists x\\, Q(x)\\big)$。\n根据全称量词（$\\forall$）的满足性定义，该语句为真当且仅当对于每个元素 $d \\in D$：\n$\\mathcal{M}, \\sigma[x \\mapsto d] \\models P(x) \\land \\exists x\\, Q(x)$\n其中 $\\sigma[x \\mapsto d]$ 是一个将 $x$ 映射到 $d$ 且在其他方面与 $\\sigma$ 相同的赋值。\n\n根据合取（$\\land$）的满足性定义，这为真当且仅当对于每个 $d \\in D$，以下两者都成立：\n(a) $\\mathcal{M}, \\sigma[x \\mapsto d] \\models P(x)$\n(b) $\\mathcal{M}, \\sigma[x \\mapsto d] \\models \\exists x\\, Q(x)$\n\n我们来关注条件(b)。公式 $\\exists x\\, Q(x)$ 是一个*句子*（它没有自由变量）。一个句子的真值独立于变量赋值。因此，$\\exists x\\, Q(x)$ 在赋值 $\\sigma[x \\mapsto d]$ 下的真值与它在任何其他赋值（包括 $\\sigma$ 本身）下的真值相同。我们可以简单地将这个条件写为 $\\mathcal{M} \\models \\exists x\\, Q(x)$。\n根据存在量词（$\\exists$）的满足性定义，$\\mathcal{M} \\models \\exists x\\, Q(x)$ 为真当且仅当存在一个元素 $d' \\in D$ 使得 $\\mathcal{M}, \\sigma[x \\mapsto d'] \\models Q(x)$，这简化为 $Q$ 在 $\\mathcal{M}$ 中的解释是非空的这一条件。\n\n所以，$\\varphi$ 为真的总体条件是：对于每个 $d \\in D$，$\\mathcal{M}, \\sigma[x \\mapsto d] \\models P(x)$ 为真，并且句子 $\\mathcal{M} \\models \\exists x\\, Q(x)$ 为真。\n由于 $\\exists x\\, Q(x)$ 的真值不依赖于 $d$，我们可以将这两个条件分开：\n$(\\forall d \\in D, \\mathcal{M}, \\sigma[x \\mapsto d] \\models P(x)) \\land (\\mathcal{M} \\models \\exists x\\, Q(x))$。\n这可以简化为：$(\\mathcal{M} \\models \\forall x\\,P(x)) \\land (\\mathcal{M} \\models \\exists x\\, Q(x))$。\n\n现在我们来分析 $\\psi$ 的真值条件：$\\mathcal{M}, \\sigma \\models \\forall x\\big(P(x) \\land \\exists u\\, Q(u)\\big)$。\n根据 $\\forall$ 的定义，这为真当且仅当对于每个元素 $d \\in D$：\n$\\mathcal{M}, \\sigma[x \\mapsto d] \\models P(x) \\land \\exists u\\, Q(u)$。\n根据 $\\land$ 的定义，这为真当且仅当对于每个 $d \\in D$，以下两者都成立：\n(c) $\\mathcal{M}, \\sigma[x \\mapsto d] \\models P(x)$\n(d) $\\mathcal{M}, \\sigma[x \\mapsto d] \\models \\exists u\\, Q(u)$\n\n条件(c)与条件(a)相同。\n我们来关注条件(d)。公式 $\\exists u\\, Q(u)$ 也是一个句子。变量 $x$（在赋值 $\\sigma[x \\mapsto d]$ 中被修改的变量）在 $\\exists u\\, Q(u)$ 中不是自由变量。因此，其真值独立于对 $x$ 的赋值。所以，$\\mathcal{M}, \\sigma[x \\mapsto d] \\models \\exists u\\, Q(u)$ 等价于 $\\mathcal{M} \\models \\exists u\\, Q(u)$。\n根据 $\\exists$ 的定义，$\\mathcal{M} \\models \\exists u\\, Q(u)$ 为真当且仅当存在一个元素 $d'' \\in D$ 使得 $\\mathcal{M}, \\sigma[u \\mapsto d''] \\models Q(u)$，这简化为 $Q$ 在 $\\mathcal{M}$ 中的解释是非空的。\n\n因此，$\\psi$ 为真的条件是：\n$(\\forall d \\in D, \\mathcal{M}, \\sigma[x \\mapsto d] \\models P(x)) \\land (\\mathcal{M} \\models \\exists u\\, Q(u))$。\n这可以简化为：$(\\mathcal{M} \\models \\forall x\\,P(x)) \\land (\\mathcal{M} \\models \\exists u\\, Q(u))$。\n\n约束变量的名称只是一个占位符；它不影响公式的语义。因此，“论域中存在一个元素使得 $Q$ 为真”这个条件对于 $\\exists x\\, Q(x)$ 和 $\\exists u\\, Q(u)$ 是相同的。\n所以，$\\varphi$ 和 $\\psi$ 的真值条件是相同的。它们都等价于“$P$ 的解释包含整个论域 $D$ 且 $Q$ 的解释是非空的”这一陈述。\n由于对于任何结构 $\\mathcal{M}$，$\\varphi$ 和 $\\psi$ 在完全相同的条件下为真，所以它们是逻辑等价的。\n\n### 第三部分：在具体结构中求值\n\n给定结构 $\\mathcal{M}$，其论域为 $D = \\{0, 1, 2\\}$，其中 $P$ 的解释（记作 $P^{\\mathcal{M}}$）是 $\\{0, 2\\}$，$Q$ 的解释（记作 $Q^{\\mathcal{M}}$）是 $\\{1\\}$。我们必须在这个结构中求出双条件句 $\\varphi \\leftrightarrow \\psi$ 的真值。\n\n正如第二部分所证明的，$\\varphi$ 和 $\\psi$ 是逻辑等价的。这意味着对于任何结构，它们都必须具有相同的真值。双条件句 $A \\leftrightarrow B$ 为真当且仅当 $A$ 和 $B$ 具有相同的真值。由于 $\\varphi$ 和 $\\psi$ 在 $\\mathcal{M}$ 中保证具有相同的真值，因此公式 $\\varphi \\leftrightarrow \\psi$ 在 $\\mathcal{M}$ 中必定为真。\n\n为了做到完全严谨，我们可以显式地在 $\\mathcal{M}$ 中计算 $\\varphi$ 和 $\\psi$ 的真值。\n-   $\\varphi$ 的真值等价于 $(\\mathcal{M} \\models \\forall x\\,P(x)) \\land (\\mathcal{M} \\models \\exists x\\, Q(x))$ 的真值。\n    -   $\\mathcal{M} \\models \\forall x\\,P(x)$ 为真吗？这要求对于所有 $d \\in \\{0, 1, 2\\}$，$P(d)$ 都为真。然而，$P(1)$ 为假，因为 $1 \\notin P^{\\mathcal{M}}$。因此，$\\mathcal{M} \\models \\forall x\\,P(x)$ 为假。\n    -   $\\mathcal{M} \\models \\exists x\\, Q(x)$ 为真吗？这要求对于至少一个 $d \\in \\{0, 1, 2\\}$，$Q(d)$ 为真。$Q(1)$ 为真，因为 $1 \\in Q^{\\mathcal{M}}$。因此，$\\mathcal{M} \\models \\exists x\\, Q(x)$ 为真。\n    -   整个合取式是 $(\\text{假}) \\land (\\text{真})$，结果为假。所以 $\\varphi$ 在 $\\mathcal{M}$ 中为假。\n-   $\\psi$ 的真值等价于 $(\\mathcal{M} \\models \\forall x\\,P(x)) \\land (\\mathcal{M} \\models \\exists u\\, Q(u))$ 的真值。\n    -   我们已经得出 $\\mathcal{M} \\models \\forall x\\,P(x)$ 为假。\n    -   公式 $\\exists u\\, Q(u)$ 为真的原因与 $\\exists x\\, Q(x)$ 为真的原因相同。\n    -   整个合取式是 $(\\text{假}) \\land (\\text{真})$，结果为假。所以 $\\psi$ 在 $\\mathcal{M}$ 中也为假。\n\n我们被要求计算 $\\varphi \\leftrightarrow \\psi$。在 $\\mathcal{M}$ 中，这变成了 $\\text{假} \\leftrightarrow \\text{假}$。这个陈述是真的。\n根据指定的约定，结果是 $1$。", "answer": "$$\\boxed{1}$$", "id": "3051426"}]}