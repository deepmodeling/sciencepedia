{"hands_on_practices": [{"introduction": "理解定理的最好方法是亲手实践。这个练习 [@problem_id:3044744] 提供了一个在最简单的命题逻辑设置下，逐步计算克雷格插值式的具体过程。通过使用存在量化来消除非共享变量，我们可以机械地构造出插值式，并直接验证其满足作为逻辑桥梁的两个核心蕴含条件。", "problem": "设 $\\varphi$ 和 $\\psi$ 是合取范式（CNF）的命题公式，其中 CNF 指的是文字析取的合取。考虑具体的 CNF 对\n$$\n\\varphi \\;=\\; (p \\vee q)\\ \\wedge\\ (\\neg p \\vee r)\\ \\wedge\\ (\\neg q \\vee r),\n$$\n$$\n\\psi \\;=\\; r,\n$$\n其中 $p$、$q$ 和 $r$ 是命题变量，$\\neg$ 表示否定，而 $\\vee$ 和 $\\wedge$ 分别表示析取和合取。共享词汇表为 $\\mathrm{Var}(\\varphi) \\cap \\mathrm{Var}(\\psi) = \\{r\\}$。\n\n仅使用命题语义学（蕴涵）、合取范式（CNF）以及命题量化语义学（存在量化 $\\exists$ 定义为 $\\exists x\\,\\alpha \\equiv \\alpha[x := \\top] \\vee \\alpha[x := \\bot]$）的基本定义，为蕴涵 $\\varphi \\models \\psi$ 计算一个克雷格插值 $\\theta$，该插值满足：\n- 仅使用共享变量，\n- 满足 $\\varphi \\models \\theta$，且\n- 满足 $\\theta \\models \\psi$。\n\n通过命题存在量化明确地消除 $\\varphi$ 的非共享变量来构造 $\\theta$，然后从第一性原理验证这两个蕴涵关系。将你的最终答案表示为 $\\theta$ 的简化闭式公式。", "solution": "该问题被验证为是适定问题，在数理逻辑上具有科学依据，且没有任何矛盾或歧义。它提出了一个使用规定方法构造克雷格插值的标准、可解的任务。\n\n给定的命题公式为合取范式（CNF）：\n$$\n\\varphi \\;=\\; (p \\vee q)\\ \\wedge\\ (\\neg p \\vee r)\\ \\wedge\\ (\\neg q \\vee r)\n$$\n$$\n\\psi \\;=\\; r\n$$\n每个公式的命题变量集为 $\\mathrm{Var}(\\varphi) = \\{p, q, r\\}$ 和 $\\mathrm{Var}(\\psi) = \\{r\\}$。共享词汇表是这两个集合的交集：$\\mathrm{Var}(\\varphi) \\cap \\mathrm{Var}(\\psi) = \\{r\\}$。\n\n对于一个有效的蕴涵 $\\varphi \\models \\psi$，其克雷格插值（记作 $\\theta$）是一个必须满足三个基本属性的公式：\n$1$. 插值的词汇表仅限于原始公式的共享词汇表：$\\mathrm{Var}(\\theta) \\subseteq \\mathrm{Var}(\\varphi) \\cap \\mathrm{Var}(\\psi)$。在本例中，$\\mathrm{Var}(\\theta) \\subseteq \\{r\\}$。\n$2$. 第一个公式必须蕴涵插值：$\\varphi \\models \\theta$。\n$3$. 插值必须蕴涵第二个公式：$\\theta \\models \\psi$。\n\n问题指定应通过对 $\\varphi$ 中的非共享变量进行存在量化来推导 $\\theta$。非共享变量是那些在 $\\mathrm{Var}(\\varphi)$ 中但不在 $\\mathrm{Var}(\\psi)$ 中的变量，即集合 $\\{p, q\\}$ 中的变量。因此，$\\theta$ 的构造如下：\n$$\n\\theta = \\exists p \\exists q \\, \\varphi\n$$\n对于公式 $\\alpha$ 中的变量 $x$，命题存在量化的定义由 $\\exists x\\,\\alpha \\equiv \\alpha[x := \\top] \\vee \\alpha[x := \\bot]$ 给出，其中 $\\top$ 表示真，$\\bot$ 表示假。不同变量的量化顺序无关紧要。我们将首先消除 $q$，然后消除 $p$。\n\n步骤 1：从 $\\varphi$ 中消除变量 $q$。\n$$\n\\exists q \\, \\varphi \\equiv \\varphi[q := \\top] \\vee \\varphi[q := \\bot]\n$$\n我们对 $\\varphi$ 进行替换：\n对于析取的左侧，$\\varphi[q := \\top]$：\n$$\n\\varphi[q := \\top] = (p \\vee \\top) \\wedge (\\neg p \\vee r) \\wedge (\\neg \\top \\vee r)\n$$\n应用标准逻辑等价式 $\\alpha \\vee \\top \\equiv \\top$ 和 $\\neg \\top \\equiv \\bot$：\n$$\n\\varphi[q := \\top] \\equiv \\top \\wedge (\\neg p \\vee r) \\wedge (\\bot \\vee r)\n$$\n应用等价式 $\\top \\wedge \\alpha \\equiv \\alpha$ 和 $\\bot \\vee \\alpha \\equiv \\alpha$：\n$$\n\\varphi[q := \\top] \\equiv (\\neg p \\vee r) \\wedge r\n$$\n对于析取的右侧，$\\varphi[q := \\bot]$：\n$$\n\\varphi[q := \\bot] = (p \\vee \\bot) \\wedge (\\neg p \\vee r) \\wedge (\\neg \\bot \\vee r)\n$$\n应用等价式 $\\alpha \\vee \\bot \\equiv \\alpha$ 和 $\\neg \\bot \\equiv \\top$：\n$$\n\\varphi[q := \\bot] \\equiv p \\wedge (\\neg p \\vee r) \\wedge (\\top \\vee r)\n$$\n应用等价式 $\\alpha \\wedge \\top \\equiv \\alpha$ 和 $\\alpha \\vee \\top \\equiv \\top$：\n$$\n\\varphi[q := \\bot] \\equiv p \\wedge (\\neg p \\vee r)\n$$\n结合这两个结果，我们得到：\n$$\n\\exists q \\, \\varphi \\equiv ((\\neg p \\vee r) \\wedge r) \\vee (p \\wedge (\\neg p \\vee r))\n$$\n我们简化这个表达式。对于第一项，我们使用吸收律 $(A \\vee B) \\wedge B \\equiv B$，其中 $A = \\neg p$ 和 $B = r$，得到 $r$。对于第二项，我们使用分配律 $A \\wedge (B \\vee C) \\equiv (A \\wedge B) \\vee (A \\wedge C)$，得到 $(p \\wedge \\neg p) \\vee (p \\wedge r)$。由于 $p \\wedge \\neg p \\equiv \\bot$，这简化为 $\\bot \\vee (p \\wedge r) \\equiv p \\wedge r$。\n所以，表达式变为：\n$$\n\\exists q \\, \\varphi \\equiv r \\vee (p \\wedge r)\n$$\n再次使用吸收律 $A \\vee (B \\wedge A) \\equiv A$，其中 $A=r$ 和 $B=p$，我们得到最终的简化形式：\n$$\n\\exists q \\, \\varphi \\equiv r\n$$\n\n步骤 2：从中间结果中消除变量 $p$。\n$$\n\\theta = \\exists p \\, (\\exists q \\, \\varphi) = \\exists p \\, (r)\n$$\n由于公式 $r$ 不包含变量 $p$，存在量化没有效果。应用定义，$\\exists p \\, r \\equiv r[p := \\top] \\vee r[p := \\bot] \\equiv r \\vee r \\equiv r$。\n因此，计算出的插值为：\n$$\n\\theta = r\n$$\n\n步骤 3：验证 $\\theta = r$ 是一个有效的插值。\n我们从第一性原理检查所需的三个属性。\n\n$1$. 词汇表：$\\mathrm{Var}(\\theta) = \\mathrm{Var}(r) = \\{r\\}$。这是共享词汇表 $\\{r\\}$ 的一个子集，因此条件 $\\mathrm{Var}(\\theta) \\subseteq \\{r\\}$ 得到满足。\n\n$2$. 蕴涵 $\\varphi \\models \\theta$：这需要我们证明 $\\varphi \\models r$。我们必须证明 $\\varphi$ 的每个模型也是 $r$ 的模型。我们可以用反证法来证明。假设存在一个真值赋值 $v$ 使得 $v(\\varphi) = \\top$ 但 $v(r) = \\bot$。\n如果 $v(r) = \\bot$，公式 $\\varphi$ 变为：\n$$\nv((p \\vee q) \\wedge (\\neg p \\vee \\bot) \\wedge (\\neg q \\vee \\bot)) = \\top\n$$\n该表达式简化为：\n$$\nv((p \\vee q) \\wedge \\neg p \\wedge \\neg q) = \\top\n$$\n要使一个合取为真，其所有合取项都必须为真。这意味着：\ni. $v(p \\vee q) = \\top$\nii. $v(\\neg p) = \\top \\implies v(p) = \\bot$\niii. $v(\\neg q) = \\top \\implies v(q) = \\bot$\n然而，如果我们将 $v(p) = \\bot$ 和 $v(q) = \\bot$ 代入第一个条件，我们得到 $v(\\bot \\vee \\bot) = \\bot$。这与 $v(p \\vee q) = \\top$ 的要求相矛盾。\n这个矛盾表明我们最初的假设是错误的。因此，$\\varphi$ 的任何模型都不能使 $r$ 为假。蕴涵 $\\varphi \\models r$ 是有效的。\n\n$3$. 蕴涵 $\\theta \\models \\psi$：这需要我们证明 $r \\models r$。我们必须证明前件 $r$ 的每个模型也是后件 $r$ 的模型。设 $v$ 是任何使得 $v(r) = \\top$ 的模型。目标是证明 $v$ 是后件的模型，即证明 $v(r) = \\top$。根据我们的初始假设，这是成立的。该蕴涵是重言有效的。\n\n克雷格插值的三个条件都已满足。该插值的简化闭式公式是 $r$。", "answer": "$$\n\\boxed{r}\n$$", "id": "3044744"}, {"introduction": "从命题逻辑到一阶逻辑，我们的下一个练习 [@problem_id:3044820] 将插值概念扩展到了无量词的一阶逻辑领域。这里的关键技能是剖析公式，识别出公共词汇（即共享的谓词符号），并构造一个仅使用这些共享符号来连接蕴含关系两端的插值式。这个练习将锻炼我们分析逻辑结构、寻找命题间本质联系的能力。", "problem": "设 $\\mathcal{L}$ 是一个带等词的一阶语言，且具有以下谓词符号：一个二元谓词 $R(\\cdot,\\cdot)$ 和一元谓词 $S(\\cdot)$、$T(\\cdot)$、$U(\\cdot)$ 和 $V(\\cdot)$。考虑以下带有自由变量 $\\bar{x}=(x,y)$ 的无量词公式：\n$$\n\\varphi(x,y)\\;:=\\;\\bigl(S(x)\\,\\wedge\\,(S(x)\\rightarrow R(x,y))\\bigr)\\,\\wedge\\,\\bigl(U(y)\\,\\vee\\,V(x)\\bigr)\\,\\wedge\\,(y=y),\n$$\n$$\n\\psi(x,y)\\;:=\\;\\bigl(R(x,y)\\,\\vee\\,T(y)\\bigr)\\,\\wedge\\,(x=x).\n$$\n在带等词的一阶逻辑的标准 Tarskian 语义下进行，其中等号 $=$ 被解释为实际的同一性。仅使用布尔联结词和等号的满足关系 $\\models$ 的基本定义来推导蕴涵关系。\n\n任务：\n- 首先，仅使用联结词和等词的语义，证明 $\\varphi(x,y)\\models\\psi(x,y)$。\n- 确定在 $\\varphi$ 和 $\\psi$ 中出现的谓词符号集合，并计算它们的交集（公共词汇表）。\n- 构造一个只使用公共谓词符号的显式无量词内插式 $\\theta(x,y)$，使得 $\\varphi(x,y)\\models\\theta(x,y)$ 且 $\\theta(x,y)\\models\\psi(x,y)$。将 $\\theta(x,y)$ 化简为一个原子公式的布尔组合。\n\n将 $\\theta(x,y)$ 的单一简化解析表达式作为你的最终答案（不加额外评论）。", "solution": "首先根据指定标准对问题陈述进行验证。\n\n### 步骤1：提取已知条件\n- **语言 $\\mathcal{L}$**：一个带等词的一阶语言。\n- **谓词符号**：一个二元谓词 $R(\\cdot,\\cdot)$ 和一元谓词 $S(\\cdot)$、$T(\\cdot)$、$U(\\cdot)$ 和 $V(\\cdot)$。\n- **公式 $\\varphi(x,y)$**：$\\varphi(x,y)\\;:=\\;\\bigl(S(x)\\,\\wedge\\,(S(x)\\rightarrow R(x,y))\\bigr)\\,\\wedge\\,\\bigl(U(y)\\,\\vee\\,V(x)\\bigr)\\,\\wedge\\,(y=y)$。\n- **公式 $\\psi(x,y)$**：$\\psi(x,y)\\;:=\\;\\bigl(R(x,y)\\,\\vee\\,T(y)\\bigr)\\,\\wedge\\,(x=x)$。\n- **语义框架**：一阶逻辑的标准 Tarskian 语义，其中 $=$ 被解释为同一性。\n- **任务**：\n    1. 使用逻辑联结词和等词的语义证明蕴涵关系 $\\varphi(x,y)\\models\\psi(x,y)$。\n    2. 确定 $\\varphi$ 和 $\\psi$ 共有的谓词符号集合。\n    3. 仅使用公共词汇表构造一个无量词内插式 $\\theta(x,y)$，使得 $\\varphi(x,y)\\models\\theta(x,y)$ 且 $\\theta(x,y)\\models\\psi(x,y)$，并将其化简。\n\n### 步骤2：使用提取的已知条件进行验证\n该问题是数理逻辑中一个定义明确的练习。\n- **科学依据**：该问题设定在一阶逻辑中，使用标准的 Tarskian 语义以及蕴涵（$\\models$）和内插等概念。这些都是数理逻辑中的基本主题。\n- **适定性**：公式 $\\varphi(x,y)$ 和 $\\psi(x,y)$ 在句法上是正确的且无歧义。问题要求证明蕴涵关系并构造一个内插式，这是一个标准程序。Craig 内插定理保证了这样的内插式存在。\n- **客观性**：该问题使用形式逻辑语言陈述，没有任何主观或模棱两可的术语。\n\n### 步骤3：结论与行动\n问题是**有效的**。它是自洽的、逻辑上一致的，并基于已建立的数学原理。将提供一个完整的解决方案。\n\n### 解答\n\n解答过程按顺序处理三个任务。\n\n**任务1：证明蕴涵关系 $\\varphi(x,y)\\models\\psi(x,y)$**\n\n为了证明 $\\varphi(x,y)\\models\\psi(x,y)$，我们必须证明对于任何 $\\mathcal{L}$-结构 $\\mathcal{M}$ 以及从 $\\mathcal{M}$ 的论域中为变量 $x,y$ 分别赋的任何值 $a,b$，如果 $\\mathcal{M}\\models\\varphi(a,b)$，那么必然有 $\\mathcal{M}\\models\\psi(a,b)$。\n\n设 $\\mathcal{M}$ 是一个任意的 $\\mathcal{L}$-结构，并设 $a,b$ 是其论域中的元素。假设 $\\mathcal{M}\\models\\varphi(a,b)$。根据 $\\varphi(x,y)$ 的定义，这意味着：\n$$\n\\mathcal{M}\\models\\bigl(S(a)\\,\\wedge\\,(S(a)\\rightarrow R(a,b))\\bigr)\\,\\wedge\\,\\bigl(U(b)\\,\\vee\\,V(a)\\bigr)\\,\\wedge\\,(b=b)\n$$\n根据合取联结词（$\\wedge$）的语义，每个合取项在 $\\mathcal{M}$ 中都必须为真。我们关注第一个合取项：\n$$\n\\mathcal{M}\\models S(a)\\,\\wedge\\,(S(a)\\rightarrow R(a,b))\n$$\n这意味着 $\\mathcal{M}\\models S(a)$ 和 $\\mathcal{M}\\models S(a)\\rightarrow R(a,b)$ 都为真。\n根据实质蕴涵（$\\rightarrow$）的语义，如果前件（$S(a)$）为真，则后件（$R(a,b)$）也必须为真，蕴涵式才成立。既然我们已经确定 $\\mathcal{M}\\models S(a)$，我们可以推断出 $\\mathcal{M}\\models R(a,b)$。\n\n现在我们必须证明这蕴涵了 $\\mathcal{M}\\models\\psi(a,b)$。公式 $\\psi(a,b)$ 为：\n$$\n\\psi(a,b) \\;:=\\; \\bigl(R(a,b)\\,\\vee\\,T(b)\\bigr)\\,\\wedge\\,(a=a)\n$$\n要证明 $\\mathcal{M}\\models\\psi(a,b)$，我们必须证明两个合取项都为真。\n1. 考虑第一个合取项，$R(a,b)\\,\\vee\\,T(b)$。我们已经推断出 $\\mathcal{M}\\models R(a,b)$。根据析取算子（$\\vee$）的语义，如果至少有一个析取项为真，则整个公式为真。因此，$\\mathcal{M}\\models R(a,b)\\,\\vee\\,T(b)$。\n2. 考虑第二个合取项，$a=a$。在带等词的一阶逻辑中，公式 $x=x$ 是一个逻辑公理（或将等号解释为同一性的直接结果），意味着它在任何结构中对任何赋值都为真。因此，$\\mathcal{M}\\models a=a$。\n\n由于在假设 $\\varphi(a,b)$ 为真的情况下，$\\psi(a,b)$ 的两个合取项在 $\\mathcal{M}$ 中都为真，我们得出结论 $\\mathcal{M}\\models\\psi(a,b)$。由于这个论证对任何结构 $\\mathcal{M}$ 和任何赋值 $(a,b)$ 都成立，所以蕴涵关系 $\\varphi(x,y)\\models\\psi(x,y)$ 得到了证明。\n\n**任务2：确定公共词汇表**\n\n设 $\\text{Pred}(\\chi)$ 表示公式 $\\chi$ 中出现的非逻辑谓词符号集合。\n对于公式 $\\varphi(x,y) = \\bigl(S(x)\\,\\wedge\\,(S(x)\\rightarrow R(x,y))\\bigr)\\,\\wedge\\,\\bigl(U(y)\\,\\vee\\,V(x)\\bigr)\\,\\wedge\\,(y=y)$，使用的谓词符号是 $S$、$R$、$U$ 和 $V$。因此，$\\text{Pred}(\\varphi) = \\{S, R, U, V\\}$。\n对于公式 $\\psi(x,y) = \\bigl(R(x,y)\\,\\vee\\,T(y)\\bigr)\\,\\wedge\\,(x=x)$，使用的谓词符号是 $R$ 和 $T$。因此，$\\text{Pred}(\\psi) = \\{R, T\\}$。\n\n公共词汇表是这两个集合的交集：\n$$\n\\text{Pred}(\\varphi) \\cap \\text{Pred}(\\psi) = \\{S, R, U, V\\} \\cap \\{R, T\\} = \\{R\\}\n$$\n两个公式共有的唯一谓词符号是 $R$。\n\n**任务3：构造并化简内插式 $\\theta(x,y)$**\n\n蕴涵关系 $\\varphi(x,y)\\models\\psi(x,y)$ 的一个内插式 $\\theta(x,y)$ 必须满足三个条件：\n1. $\\varphi(x,y)\\models\\theta(x,y)$\n2. $\\theta(x,y)\\models\\psi(x,y)$\n3. $\\text{Pred}(\\theta) \\subseteq \\text{Pred}(\\varphi) \\cap \\text{Pred}(\\psi)$，即 $\\text{Pred}(\\theta) \\subseteq \\{R\\}$。\n\n为了找到一个合适的 $\\theta$，我们首先使用逻辑等价关系化简给定的公式。\n子公式 $S(x)\\,\\wedge\\,(S(x)\\rightarrow R(x,y))$ 等价于 $S(x)\\,\\wedge\\,(\\neg S(x) \\vee R(x,y))$。根据分配律，这变成 $(S(x)\\wedge\\neg S(x)) \\vee (S(x)\\wedge R(x,y))$，化简为 $\\bot \\vee (S(x)\\wedge R(x,y))$，再进一步化简为 $S(x)\\wedge R(x,y)$。\n子公式 $y=y$ 是一个重言式，等价于 $\\top$。\n因此，$\\varphi(x,y)$ 逻辑上等价于 $(S(x)\\wedge R(x,y)) \\wedge (U(y) \\vee V(x))$。\n\n$\\psi(x,y)$ 中的子公式 $x=x$ 也是一个重言式 $\\top$。\n因此，$\\psi(x,y)$ 逻辑上等价于 $R(x,y)\\vee T(y)$。\n\n该蕴涵关系等价于：\n$$\n(S(x)\\wedge R(x,y)) \\wedge (U(y) \\vee V(x)) \\models R(x,y)\\vee T(y)\n$$\n从任务1的推理可知，任何满足 $\\varphi(x,y)$ 的模型都必须满足 $R(x,y)$。这为内插式提供了一个明显的候选。我们提议：\n$$\n\\theta(x,y) := R(x,y)\n$$\n我们现在验证这个候选式是否满足内插式的三个条件。\n1. **检验 $\\varphi(x,y)\\models R(x,y)$**：假设 $\\mathcal{M}\\models\\varphi(a,b)$。如任务1所示，这蕴涵了 $\\mathcal{M}\\models R(a,b)$。因此，此条件成立。\n2. **检验 $R(x,y)\\models\\psi(x,y)$**：假设 $\\mathcal{M}\\models R(a,b)$。我们需要证明 $\\mathcal{M}\\models\\psi(a,b)$，即 $\\mathcal{M}\\models (R(a,b) \\vee T(b)) \\wedge (a=a)$。由于 $\\mathcal{M}\\models R(a,b)$，根据 $\\vee$ 的语义，可得 $\\mathcal{M}\\models R(a,b) \\vee T(b)$。第二部分 $a=a$ 总是为真。因此，合取式为真，此条件成立。\n3. **检验词汇表**：$\\theta(x,y)=R(x,y)$ 中唯一的谓词符号是 $R$。由于公共词汇表是 $\\{R\\}$，条件 $\\text{Pred}(\\theta) \\subseteq \\{R\\}$ 得到满足。\n\n公式 $\\theta(x,y) = R(x,y)$ 是一个有效的内插式。它是一个原子公式，也是最简单的布尔组合。", "answer": "$$\n\\boxed{R(x,y)}\n$$", "id": "3044820"}, {"introduction": "最后的这个练习 [@problem_id:3044793] 揭示了插值定理与可定义性之间深刻的联系，正如贝斯可定义性定理所示。我们将探讨如何在一阶逻辑的语言中，隐式和显式地定义抽象代数中的一个基本概念——群的中心。这个问题不仅展示了逻辑的表达能力，还深入探讨了一个更深层次的问题：定义一个数学属性所需的最小逻辑复杂度是多少？", "problem": "设 $\\mathcal{L} = \\{\\cdot, {}^{-1}, e\\}$ 为群论的一阶语言，并设 $T_{\\mathrm{grp}}$ 为 $\\mathcal{L}$ 中群的标准一阶公理化。考虑通过一个新的元谓词符号 $Z$ 得到的扩张 $\\mathcal{L}' = \\mathcal{L} \\cup \\{Z\\}$。对于一个群 $\\mathcal{M}$，$Z(x)$ 的预期解读是 $x$ 位于 $\\mathcal{M}$ 的中心。\n\n您将分析 $Z$ 在 $T_{\\mathrm{grp}}$ 上的隐式和显式可定义性，然后确定在基础语言 $\\mathcal{L}$ 中显式定义 $Z$ 所需的最小量词复杂度。\n\n任务：\n1. 仅使用隐式可定义性的核心定义和群公理，构建一组 $\\mathcal{L}'$-句子，规定 $Z(x)$ 正是与底层群中所有元素都交换的元素集合。证明相对于 $T_{\\mathrm{grp}}$，这些句子使得 $Z$ 是隐式可定义的，即对于任何固定的 $\\mathcal{L}$-结构 $\\mathcal{M} \\models T_{\\mathrm{grp}}$，至多存在一种对 $Z$ 的可能解释，能将 $\\mathcal{M}$ 变为您的 $\\mathcal{L}'$-理论的一个模型。\n\n2. 引用 Beth 可定义性定理，得出 $Z$ 在基础语言 $\\mathcal{L}$ 上相对于 $T_{\\mathrm{grp}}$ 是显式可定义的。然后，从基本原理出发，不使用任何简便公式，推导出一个在每个群中定义中心的显式 $\\mathcal{L}$-公式 $\\varphi(x)$。\n\n3. 对于一个一阶公式 $\\psi$，量词秩 $\\mathrm{qr}(\\psi)$ 是 $\\psi$ 中嵌套量词的最大数量。在所有在每个群中定义中心的 $\\mathcal{L}$-公式 $\\varphi(x)$ 中，确定最小可能的量词秩 $r \\in \\mathbb{N}$。请将您的最终答案表示为单个整数 $r$。\n\n您的最终答案必须仅为整数 $r$。不需要也不允许进行四舍五入。", "solution": "本问题要求分析群的中心在一阶逻辑中的可定义性。我们将按顺序解决这三个任务。\n\n群论的语言是 $\\mathcal{L} = \\{\\cdot, {}^{-1}, e\\}$，$T_{\\mathrm{grp}}$ 是其标准的一阶公理化。扩张语言是 $\\mathcal{L}' = \\mathcal{L} \\cup \\{Z\\}$，其中 $Z$ 是一个一元谓词。群 $\\mathcal{M}$ 的中心，记作 $C(\\mathcal{M})$，是与群中每个元素都交换的元素的集合，即 $C(\\mathcal{M}) = \\{g \\in M \\mid \\forall h \\in M, g \\cdot h = h \\cdot g\\}$。\n\n**1. 中心的隐式可定义性**\n\n为了规定 $Z(x)$ 表示群的中心，我们在 $T_{\\mathrm{grp}}$ 中加入强制此对应关系的公理。性质“$x$ 在中心里”等价于一阶陈述“对所有 $y$，$x$ 与 $y$ 交换”。我们可以用以下两个 $\\mathcal{L}'$-句子来表达此等价关系：\n\n$\\Sigma_1 := \\forall x (Z(x) \\rightarrow \\forall y (x \\cdot y = y \\cdot x))$\n$\\Sigma_2 := \\forall x ((\\forall y (x \\cdot y = y \\cdot x)) \\rightarrow Z(x))$\n\n设 $T'_{ax} = T_{\\mathrm{grp}} \\cup \\{\\Sigma_1, \\Sigma_2\\}$。我们必须证明这些句子使得 $Z$ 相对于 $T_{\\mathrm{grp}}$ 是隐式可定义的。这意味着对于任何给定的作为 $T_{\\mathrm{grp}}$ 模型的 $\\mathcal{L}$-结构 $\\mathcal{M}$，至多存在一种对谓词 $Z$ 的可能解释，能使扩张后的结构成为 $T'_{ax}$ 的一个模型。\n\n设 $\\mathcal{M}$ 是一个任意群，因此 $\\mathcal{M} \\models T_{\\mathrm{grp}}$。设 $M$ 是 $\\mathcal{M}$ 的底层集合。在 $\\mathcal{M}$ 中对 $Z$ 的一个解释是一个子集 $Z^{\\mathcal{M}} \\subseteq M$。为了证明唯一性，我们假设存在两种这样的解释，$Z_1^{\\mathcal{M}} \\subseteq M$ 和 $Z_2^{\\mathcal{M}} \\subseteq M$，使得扩张后的结构 $(\\mathcal{M}, Z_1^{\\mathcal{M}})$ 和 $(\\mathcal{M}, Z_2^{\\mathcal{M}})$ 都是 $T'_{ax}$ 的模型。\n\n这意味着 $(\\mathcal{M}, Z_1^{\\mathcal{M}}) \\models \\Sigma_1 \\land \\Sigma_2$ 并且 $(\\mathcal{M}, Z_2^{\\mathcal{M}}) \\models \\Sigma_1 \\land \\Sigma_2$。合取式 $\\Sigma_1 \\land \\Sigma_2$ 逻辑等价于单个句子 $\\forall x (Z(x) \\leftrightarrow \\forall y (x \\cdot y = y \\cdot x))$。\n\n对于第一种解释 $Z_1^{\\mathcal{M}}$，对任意元素 $a \\in M$，我们有：\n$(\\mathcal{M}, Z_1^{\\mathcal{M}}) \\models Z(a) \\leftrightarrow \\forall y (a \\cdot y = y \\cdot a)$。\n这意味着 $a \\in Z_1^{\\mathcal{M}}$ 当且仅当 $(\\mathcal{M}, Z_1^{\\mathcal{M}}) \\models \\forall y (a \\cdot y = y \\cdot a)$。\n\n公式 $\\forall y (a \\cdot y = y \\cdot a)$ 是结构 $\\mathcal{M}$ 中带有一个来自 $M$ 的参数 $a$ 的 $\\mathcal{L}$-句子。其真值仅依赖于结构 $\\mathcal{M}$ 和元素 $a$，而不依赖于对 $Z$ 的解释。因此，我们可以写成：\n$a \\in Z_1^{\\mathcal{M}} \\iff \\mathcal{M} \\models \\forall y (a \\cdot y = y \\cdot a)$。\n\n类似地，对于第二种解释 $Z_2^{\\mathcal{M}}$，对同一元素 $a \\in M$，我们有：\n$a \\in Z_2^{\\mathcal{M}} \\iff \\mathcal{M} \\models \\forall y (a \\cdot y = y \\cdot a)$。\n\n结合这两个等价关系，我们得到：\n$a \\in Z_1^{\\mathcal{M}} \\iff a \\in Z_2^{\\mathcal{M}}$。\n这对任意元素 $a \\in M$ 都成立。因此，这两个集合必须是相同的：$Z_1^{\\mathcal{M}} = Z_2^{\\mathcal{M}}$。\n\n这表明对于任何 $T_{\\mathrm{grp}}$ 的模型 $\\mathcal{M}$，至多存在一种对 $Z$ 的解释（实际上，恰好存在一种）满足 $T'_{ax}$ 中的公理。根据定义，谓词 $Z$ 是由理论 $T'_{ax}$ 在 $T_{\\mathrm{grp}}$ 上隐式可定义的。\n\n**2. 显式可定义性与公式推导**\n\nBeth 可定义性定理指出，如果语言 $\\mathcal{L}' = \\mathcal{L} \\cup \\{P\\}$ 中的理论 $T'$ 在语言 $\\mathcal{L}$ 中的理论 $T$ 上隐式定义了一个谓词 $P$，那么 $P$ 在 $\\mathcal{L}$ 上相对于 $T$ 是显式可定义的。也就是说，存在一个带有一个自由变量 $x$ 的 $\\mathcal{L}$-公式 $\\varphi(x)$，使得 $T' \\models \\forall x (P(x) \\leftrightarrow \\varphi(x))$。\n\n从第 1 部分，我们确定了 $Z$ 是由公理 $\\{\\Sigma_1, \\Sigma_2\\}$ 在 $T_{\\mathrm{grp}}$ 上隐式定义的。根据 Beth 定理，我们可以得出结论，$Z$ 必须在基础语言 $\\mathcal{L}$ 中是显式可定义的。\n\n为了推导显式公式 $\\varphi(x)$，我们考察隐式定义本身。公理 $\\Sigma_1$ 和 $\\Sigma_2$ 合在一起等价于句子 $\\forall x (Z(x) \\leftrightarrow \\forall y (x \\cdot y = y \\cdot x))$。这个句子直接提供了所需的 $\\mathcal{L}$-公式。我们将 $\\varphi(x)$ 定义为等价关系式的右侧：\n$\\varphi(x) := \\forall y (x \\cdot y = y \\cdot x)$。\n\n这是一个带有一个自由变量 $x$ 的 $\\mathcal{L}$-公式。对于任何群 $\\mathcal{M}$ 和任何元素 $a \\in M$，陈述 $\\mathcal{M} \\models \\varphi(a)$ 成立，当且仅当 $\\mathcal{M} \\models \\forall y (a \\cdot y = y \\cdot a)$，这又当且仅当对每个 $b \\in M$，等式 $a \\cdot b = b \\cdot a$ 成立。这正是 $a$ 是 $\\mathcal{M}$ 中心元素的定义。因此，公式 $\\varphi(x)$ 在任何群中都定义了中心，并且是由 Beth 定理保证的 $Z$ 的显式定义。\n\n**3. 最小量词秩**\n\n一阶公式 $\\psi$ 的量词秩，记作 $\\mathrm{qr}(\\psi)$，是嵌套量词的最大深度。\n- 对于原子公式，$\\mathrm{qr}(\\psi) = 0$。\n- $\\mathrm{qr}(\\neg \\psi) = \\mathrm{qr}(\\psi)$。\n- 对于 $\\circ \\in \\{\\land, \\lor\\}$，$\\mathrm{qr}(\\psi_1 \\circ \\psi_2) = \\max(\\mathrm{qr}(\\psi_1), \\mathrm{qr}(\\psi_2))$。\n- $\\mathrm{qr}(\\forall v \\psi) = \\mathrm{qr}(\\exists v \\psi) = 1 + \\mathrm{qr}(\\psi)$。\n\n我们首先计算在第 2 部分中找到的公式 $\\varphi(x) = \\forall y (x \\cdot y = y \\cdot x)$ 的量词秩。\n最内部的部分 $x \\cdot y = y \\cdot x$ 是一个原子公式。其量词秩为 $0$。\n公式 $\\varphi(x)$ 是通过对该原子公式应用一个全称量词 $\\forall y$ 形成的。\n因此，$\\mathrm{qr}(\\varphi(x)) = 1 + \\mathrm{qr}(x \\cdot y = y \\cdot x) = 1 + 0 = 1$。\n这表明存在一个量词秩为 $1$ 的公式来定义中心。因此，最小可能秩 $r$ 必须满足 $r \\le 1$。\n\n现在，我们必须确定秩是否可以为 $0$。量词秩为 $0$ 的公式是无量词公式。为了引出矛盾，我们假设存在一个无量词的 $\\mathcal{L}$-公式 $\\psi(x)$ 在每个群中都定义了中心。\n\n在语言 $\\mathcal{L}$ 中，任何带有一个变量 $x$ 的项（例如 $(x \\cdot e) \\cdot x^{-1}$）在任何群中都等价于 $x$ 的某个幂，即 $x^k$，其中 $k \\in \\mathbb{Z}$ 是某个整数。因此，任何原子公式 $t_1(x) = t_2(x)$ 在 $T_{\\mathrm{grp}}$ 上都等价于形如 $x^k = e$ 的公式，其中 $k \\in \\mathbb{Z}$。一个无量词公式 $\\psi(x)$ 是这类原子公式的布尔组合。\n\n如果 $\\psi(x)$ 定义了中心，那么对于任何阿贝尔群 $\\mathcal{A}$，其中心就是整个群，$Z(\\mathcal{A})=\\mathcal{A}$。因此，对于任何阿贝尔群 $\\mathcal{A}$，我们必须有 $\\mathcal{A} \\models \\forall x \\psi(x)$。\n\n设 $\\psi(x)$ 的原子子公式中出现的指数为 $k_1, \\dots, k_m$。设 $p$ 是一个素数，使得对于所有的 $i=1,\\dots,m$，都有 $p > |k_i|$。考虑 $p$ 阶循环群 $\\mathbb{Z}_p$。该群是阿贝尔群，所以其中心是整个 $\\mathbb{Z}_p$。因此，$\\mathbb{Z}_p \\models \\forall x \\psi(x)$。\n\n在 $\\mathbb{Z}_p$ 中（使用加法表示法），原子公式 $x^k=e$ 变为 $k \\cdot x = 0$。由于 $p$ 是素数且 $p$ 不能整除 $k_i$（因为 $p > |k_i|$），方程 $k_i \\cdot x = 0 \\pmod p$ 等价于 $x=0$（即 $x=e$）。因此，在 $\\mathbb{Z}_p$ 中，每个原子公式 $x^{k_i}=e$（对于 $k_i \\neq 0$）都等价于 $x=e$。任何原子公式 $x^0=e$ 都是 $e=e$，一个重言式。因此，在 $\\mathbb{Z}_p$ 中，公式 $\\psi(x)$ 逻辑等价于某个以 $x=e$ 的真值为输入的布尔表达式 $B'$。\n\n因为我们必须有 $\\mathbb{Z}_p \\models \\forall x \\psi(x)$，所以 $\\psi(x)$ 对于 $\\mathbb{Z}_p$ 的所有元素都必须为真。\n- 对于 $x=e$，$x=e$ 的真值为“真”。所以 $B'(\\text{真})$ 必须为真。\n- 对于任何 $x \\neq e$，$x=e$ 的真值为“假”。所以 $B'(\\text{假})$ 必须为真。\n这意味着布尔表达式 $B'$ 必须是一个重言式，无论其输入如何，其值总是为真。\n\n现在，考虑一个结论必须不同的群。设 $F_2$ 为双生成元自由群。$F_2$ 是非阿贝尔群，其中心是平凡的，$Z(F_2) = \\{e\\}$。如果 $\\psi(x)$ 定义了中心，那么对于任何非单位元 $g \\in F_2$（即 $g \\neq e$），我们必须有 $F_2 \\models \\neg \\psi(g)$。\n任取一个这样的 $g \\neq e$。在 $F_2$ 中，每个非单位元都有无限阶。因此，对于任何 $k \\neq 0$，$g^k \\neq e$。\n在求值 $\\psi(g)$ 时，每个原子公式 $g^{k_i}=e$（其中 $k_i \\neq 0$）都是假的。公式 $g^0=e$ 是真的。这与在 $\\mathbb{Z}_p$ 中对元素 $x \\neq e$ 的真值赋值是相同的。\n因此，$\\psi(g)$ 的真值由相同的布尔表达式 $B'(\\text{假})$ 给出。\n根据我们对 $\\mathbb{Z}_p$ 的分析，我们得出结论 $B'(\\text{假})$ 必须为真。\n所以，对于 $F_2$ 中的任何 $g \\neq e$，$\\psi(g)$ 必须为真。\n这与 $\\psi(x)$ 据称定义了中心的事实相矛盾，因为后者要求对于 $F_2$ 中所有的 $g \\neq e$，$\\psi(g)$ 都为假。\n\n存在这样一个无量词公式 $\\psi(x)$ 的假设导致了矛盾。因此，没有无量词公式可以定义群的中心。\n最小量词秩 $r$ 必须大于 $0$。\n既然我们已经找到了一个秩为 $1$ 的公式，并证明了秩为 $0$ 是不可能的，那么最小量词秩必须恰好为 $1$。\n\n因此，最小量词秩 $r$ 是 $1$。", "answer": "$$\\boxed{1}$$", "id": "3044793"}]}