{"hands_on_practices": [{"introduction": "这个练习将单射、满射和像这些抽象的定义，置于一个具体且易于处理的例子中。通过处理小型有限集，你可以直接追踪输入到输出的映射关系，从而更容易地理解为什么一个函数可能不是单射（多个输入指向同一个输出）或不是满射（某个输出没有被映射到）。这个练习旨在为这些核心概念建立扎实的直觉 [@problem_id:3042673]。", "problem": "设 $A=\\{0,1,2,3,4,5,6\\}$ 且 $B=\\{a,b,c,d,e\\}$。考虑由 $f(0)=a$, $f(1)=b$, $f(2)=c$, $f(3)=c$, $f(4)=d$, $f(5)=a$ 和 $f(6)=b$ 定义的函数 $f:A\\to B$。仅使用单射和满射函数的核心定义，完成以下操作：\n- 解释为什么 $f$ 既不是单射也不是满射。\n- 确定像 $\\operatorname{im}(f)$ 并计算其基数 $|\\operatorname{im}(f)|$。\n- 对于陪域 $B$ 中的每个元素 $y$，按 $(a,b,c,d,e)$ 的顺序，计算原像纤维的大小 $|f^{-1}(y)|$。\n\n将您的最终答案表示为一个单行矩阵，其中包含值 $\\left(|\\operatorname{im}(f)|,\\ |f^{-1}(a)|,\\ |f^{-1}(b)|,\\ |f^{-1}(c)|,\\ |f^{-1}(d)|,\\ |f^{-1}(e)|\\right)$。无需四舍五入。", "solution": "该问题要求分析两个有限集 $A=\\{0, 1, 2, 3, 4, 5, 6\\}$ 和 $B=\\{a, b, c, d, e\\}$ 之间的函数 $f$。该函数由以下映射定义：$f(0)=a$, $f(1)=b$, $f(2)=c$, $f(3)=c$, $f(4)=d$, $f(5)=a$ 和 $f(6)=b$。我们必须确定该函数是单射还是满射，求出其像和基数，并计算陪域中每个元素的原像纤维的大小。\n\n首先，我们使用其形式化定义来讨论单射性和满射性。\n\n一个函数 $f: X \\to Y$ 被定义为单射（或一对一），如果对于任意两个不同的元素 $x_1, x_2 \\in X$ 且 $x_1 \\neq x_2$，它们的像也不同，即 $f(x_1) \\neq f(x_2)$。一个等价的陈述是，如果 $f(x_1) = f(x_2)$，那么必然有 $x_1 = x_2$。为了证明 $f$ 不是单射，我们需要找到一个反例：定义域 $A$ 中两个不同的元素映射到陪域 $B$ 中的同一个元素。\n从 $f$ 的定义中，我们观察到多个这样的实例：\n1. $f(0) = a$ 且 $f(5) = a$。因为 $0 \\neq 5$，所以违反了单射性的条件。\n2. $f(1) = b$ 且 $f(6) = b$。因为 $1 \\neq 6$，这也违反了该条件。\n3. $f(2) = c$ 且 $f(3) = c$。因为 $2 \\neq 3$，这提供了第三个违反实例。\n引用这些配对中的任何一个都足以证明函数 $f$ 不是单射。例如，定义域 $A$ 中的元素 $0$ 和 $5$ 是不同的，但它们都映射到陪域 $B$ 中的元素 $a$。\n\n一个函数 $f: X \\to Y$ 被定义为满射（或映上），如果其像等于其陪域，即 $\\operatorname{im}(f) = Y$。这意味着对于陪域 $Y$ 中的每一个元素 $y$，必须至少存在一个定义域 $X$ 中的元素 $x$，使得 $f(x) = y$。为了证明 $f$ 不是满射，我们必须在陪域 $B$ 中找到一个不属于定义域 $A$ 中任何元素之像的元素。\n给定的陪域为 $B = \\{a, b, c, d, e\\}$。让我们检查由 $f$ 产生的输出值集合：\n- $a$ 是一个输出，因为 $f(0) = a$。\n- $b$ 是一个输出，因为 $f(1) = b$。\n- $c$ 是一个输出，因为 $f(2) = c$。\n- $d$ 是一个输出，因为 $f(4) = d$。\n元素 $e \\in B$ 从未被作为输出产生；不存在 $x \\in A$ 使得 $f(x) = e$。由于 $f$ 的像不包含陪域 $B$ 的所有元素，所以函数 $f$ 不是满射。由此得出的一个推论是，对于有限集之间的函数 $f:A \\to B$，满射的一个必要（但不充分）条件是 $|A| \\ge |B|$。这里， $|A|=7$ 且 $|B|=5$，所以满射是可能的，但 $f$ 的具体映射阻止了它。\n\n接下来，我们确定 $f$ 的像，记作 $\\operatorname{im}(f)$，它是函数 $f$ 实际输出的所有值的集合。\n$\\operatorname{im}(f) = \\{ f(x) \\mid x \\in A \\} = \\{ f(0), f(1), f(2), f(3), f(4), f(5), f(6) \\}$。\n代入定义的值，我们得到输出的多重集 $\\{a, b, c, c, d, a, b\\}$。由于集合只包含唯一元素，我们写成：\n$\\operatorname{im}(f) = \\{a, b, c, d\\}$。\n像的基数， $|\\operatorname{im}(f)|$，是这个集合中元素的数量。因此， $|\\operatorname{im}(f)| = 4$。\n\n最后，我们计算陪域 $B$ 中每个元素 $y$ 的原像纤维的大小。$y$ 的原像纤维，记作 $f^{-1}(y)$，是定义域中所有映射到 $y$ 的元素的集合。它的大小是这个集合的基数， $|f^{-1}(y)|$。这也被称为 $y$ 的原像的大小。\n- 对于 $y=a$：原像纤维是 $f^{-1}(a) = \\{ x \\in A \\mid f(x)=a \\}$。从函数定义中，我们发现 $f(0)=a$ 和 $f(5)=a$。因此，$f^{-1}(a) = \\{0, 5\\}$。这个原像纤维的大小是 $|f^{-1}(a)| = 2$。\n- 对于 $y=b$：原像纤维是 $f^{-1}(b) = \\{ x \\in A \\mid f(x)=b \\}$。我们有 $f(1)=b$ 和 $f(6)=b$。因此，$f^{-1}(b) = \\{1, 6\\}$。这个原像纤维的大小是 $|f^{-1}(b)| = 2$。\n- 对于 $y=c$：原像纤维是 $f^{-1}(c) = \\{ x \\in A \\mid f(x)=c \\}$。我们有 $f(2)=c$ 和 $f(3)=c$。因此，$f^{-1}(c) = \\{2, 3\\}$。这个原像纤维的大小是 $|f^{-1}(c)| = 2$。\n- 对于 $y=d$：原像纤维是 $f^{-1}(d) = \\{ x \\in A \\mid f(x)=d \\}$。我们有 $f(4)=d$。因此，$f^{-1}(d) = \\{4\\}$。这个原像纤维的大小是 $|f^{-1}(d)| = 1$。\n- 对于 $y=e$：原像纤维是 $f^{-1}(e) = \\{ x \\in A \\mid f(x)=e \\}$。如前所述， $A$ 中没有元素映射到 $e$。因此，$f^{-1}(e) = \\emptyset$，即空集。这个原像纤维的大小是 $|f^{-1}(e)| = 0$。\n\n作为检验，所有原像纤维大小的总和必须等于定义域的大小：\n$|f^{-1}(a)| + |f^{-1}(b)| + |f^{-1}(c)| + |f^{-1}(d)| + |f^{-1}(e)| = 2 + 2 + 2 + 1 + 0 = 7$。\n这与定义域的基数 $|A|=7$ 相匹配，因此计算是一致的。\n\n所要求的最终答案是一个包含值 $(|\\operatorname{im}(f)|, |f^{-1}(a)|, |f^{-1}(b)|, |f^{-1}(c)|, |f^{-1}(d)|, |f^{-1}(e)|)$ 的行矩阵。\n代入计算出的值，我们得到 $(4, 2, 2, 2, 1, 0)$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n4  2  2  2  1  0\n\\end{pmatrix}\n}\n$$", "id": "3042673"}, {"introduction": "本练习旨在探讨函数中像与原像运算之间微妙但至关重要的关系。虽然直觉上我们可能认为，对一个集合先应用一个函数再应用其逆运算，应该会回到最初的集合，但本练习将揭示为何当函数非单射时，这一结论并不成立 [@problem_id:3042705]。通过分析集合 $f^{-1}(f[X])$，你将揭示它与函数“纤维”(fibers)的联系，并对单射性的结构性意义获得更深刻的理解。", "problem": "考虑集合间的一个函数 $f:S\\to T$，对于任意子集 $X\\subseteq S$，回顾像和原像的定义：像 $f[X]$ 是集合 $\\{f(x)\\mid x\\in X\\}$，对于任意子集 $Y\\subseteq T$，原像 $f^{-1}[Y]$ 是集合 $\\{s\\in S\\mid f(s)\\in Y\\}$。对于任意 $y\\in T$，$y$ 上的纤维是集合 $f^{-1}(\\{y\\})$。取一个具体的函数 $f:S\\to T$，定义为 $S=\\{0,1,2,3\\}$, $T=\\{0,1\\}$, 且\n$$\nf(0)=0,\\quad f(1)=0,\\quad f(2)=1,\\quad f(3)=1.\n$$\n令 $X=\\{0,2\\}\\subseteq S$。仅使用上述核心定义，判断下列哪个陈述是正确的。你的选择应该既能展示当 $f$ 不是单射时等式 $f^{-1}(f[X])=X$ 的一个具体反例，也能用纤维的概念来正确地量化这个等式的失效情况。\n\nA. 对于给定的 $f$ 和 $X$，$f^{-1}(f[X])=X$。\n\nB. 对于给定的 $f$ 和 $X$，$f^{-1}(f[X])=\\{0,1,2,3\\}$。\n\nC. 对于任意函数 $f$ 和子集 $X\\subseteq S$，$f^{-1}(f[X])=\\bigcup_{x\\in X} f^{-1}(\\{f(x)\\})$。\n\nD. 对于给定的 $f$，集合 $f^{-1}(f[X])$ 是包含 $X$ 的、且是 $f$ 的纤维之并的最小 $S$ 子集。\n\nE. 等式 $f^{-1}(f[X])=X$ 对所有子集 $X\\subseteq S$ 成立，当且仅当 $f$ 是满射。", "solution": "该问题要求我们使用一个具体的例子和一般性原理，来评估关于函数 $f:S \\to T$ 和子集 $X \\subseteq S$ 的五个陈述。\n\n具体情况定义如下：\n- 定义域 $S = \\{0, 1, 2, 3\\}$\n- 陪域 $T = \\{0, 1\\}$\n- 函数定义: $f(0)=0$, $f(1)=0$, $f(2)=1$, $f(3)=1$。\n- 子集 $X = \\{0, 2\\}$。\n\n这个函数 $f$ 不是单射，因为 $f(0)=f(1)=0$ 但 $0 \\neq 1$。它是满射，因为它的像是 $\\{0, 1\\}=T$。\n\n首先，我们为给定的 $f$ 和 $X$ 计算集合 $f^{-1}(f[X])$。\n1.  计算 $X$ 的像，记为 $f[X]$。根据定义，$f[X] = \\{f(x) \\mid x \\in X\\}$。\n    对于 $X = \\{0, 2\\}$，像是 $f[X] = \\{f(0), f(2)\\}$。\n    使用函数定义，$f(0)=0$ 且 $f(2)=1$。\n    因此，$f[X] = \\{0, 1\\}$。\n\n2.  计算集合 $f[X]$ 的原像，记为 $f^{-1}(f[X])$。根据定义，对于一个集合 $Y \\subseteq T$，$f^{-1}[Y] = \\{s \\in S \\mid f(s) \\in Y\\}$。这里，我们的集合是 $Y = f[X] = \\{0, 1\\}$。\n    我们需要找到 $f^{-1}[\\{0, 1\\}] = \\{s \\in S \\mid f(s) \\in \\{0, 1\\}\\}$。\n    我们检查定义域 $S = \\{0, 1, 2, 3\\}$ 中的每个元素：\n    - $f(0) = 0$，且 $0 \\in \\{0, 1\\}$。所以，$0 \\in f^{-1}[\\{0, 1\\}]$。\n    - $f(1) = 0$，且 $0 \\in \\{0, 1\\}$。所以，$1 \\in f^{-1}[\\{0, 1\\}]$。\n    - $f(2) = 1$，且 $1 \\in \\{0, 1\\}$。所以，$2 \\in f^{-1}[\\{0, 1\\}]$。\n    - $f(3) = 1$，且 $1 \\in \\{0, 1\\}$。所以，$3 \\in f^{-1}[\\{0, 1\\}]$。\n    因此，$f^{-1}(f[X]) = \\{0, 1, 2, 3\\}$。\n\n现在我们评估每个陈述。\n\n**A. 对于给定的 $f$ 和 $X$，$f^{-1}(f[X])=X$。**\n根据我们的计算，$f^{-1}(f[X]) = \\{0, 1, 2, 3\\}$。给定的集合 $X$ 是 $\\{0, 2\\}$。\n因为 $\\{0, 1, 2, 3\\} \\neq \\{0, 2\\}$，所以这个陈述是错误的。这个等式的不成立表明 $f^{-1}(f[X])=X$ 在一般情况下不成立，尤其是在 $f$ 不是单射时。\n结论：**不正确**。\n\n**B. 对于给定的 $f$ 和 $X$，$f^{-1}(f[X])=\\{0,1,2,3\\}$。**\n我们上面的计算恰好得出 $f^{-1}(f[X]) = \\{0, 1, 2, 3\\}$。\n这个陈述对于给定的具体情况是正确的计算。\n结论：**正确**。\n\n**C. 对于任意函数 $f$ 和子集 $X\\subseteq S$，$f^{-1}(f[X])=\\bigcup_{x\\in X} f^{-1}(\\{f(x)\\})$。**\n这个陈述提出了一个普遍的恒等式。我们将从定义出发证明它。\n- 设 $s$ 是一个任意元素。我们证明 $s \\in f^{-1}(f[X])$ 当且仅当 $s \\in \\bigcup_{x\\in X} f^{-1}(\\{f(x)\\})$。\n- $s \\in f^{-1}(f[X])$\n  $\\iff f(s) \\in f[X]$ (根据原像的定义)\n  $\\iff \\exists x_0 \\in X$ 使得 $f(s) = f(x_0)$ (根据像的定义)\n  $\\iff \\exists x_0 \\in X$ 使得 $s \\in f^{-1}(\\{f(x_0)\\})$ (根据纤维/单元素集原像的定义)\n  $\\iff s \\in \\bigcup_{x\\in X} f^{-1}(\\{f(x)\\})$ (根据并集的定义)\n由于逻辑等价关系成立，所以对于任意函数 $f$ 及其定义域的任意子集 $X$，这两个集合是相等的。这个恒等式正确地将集合 $f^{-1}(f[X])$ 表示为与 $X$ 中元素的像相对应的纤维的并集。\n结论：**正确**。\n\n**D. 对于给定的 $f$，集合 $f^{-1}(f[X])$ 是包含 $X$ 的、且是 $f$ 的纤维之并的最小 $S$ 子集。**\n这个陈述对给定的 $f$ 和 $X$ 的集合 $f^{-1}(f[X])$ 提出了三个主张：(1) 它包含 $X$，(2) 它是纤维的并集，以及 (3) 它是满足这些条件的最小集合。\n首先，让我们验证具体情况：\n- $f$ 的纤维：\n  - $0$ 上的纤维：$f^{-1}(\\{0\\}) = \\{s \\in S \\mid f(s)=0\\} = \\{0, 1\\}$。\n  - $1$ 上的纤维：$f^{-1}(\\{1\\}) = \\{s \\in S \\mid f(s)=1\\} = \\{2, 3\\}$。\n- 集合 $f^{-1}(f[X])$ 是 $\\{0, 1, 2, 3\\}$。\n- (1) 它是否包含 $X=\\{0, 2\\}$？是的，$\\{0, 2\\} \\subseteq \\{0, 1, 2, 3\\}$。\n- (2) 它是否是纤维的并集？是的，$\\{0, 1, 2, 3\\} = \\{0, 1\\} \\cup \\{2, 3\\} = f^{-1}(\\{0\\}) \\cup f^{-1}(\\{1\\})$。\n- (3) 它是最小的吗？任何包含 $X=\\{0, 2\\}$ 的 $S$ 的子集都必须包含元素 $0$ 和元素 $2$。如果这个子集还必须是纤维的并集，那么它必须包含包含 $0$ 的整个纤维（即 $\\{0, 1\\}$）和包含 $2$ 的整个纤维（即 $\\{2, 3\\}$）。因此，最小的这样的集合必须是这两个纤维的并集，即 $\\{0, 1\\} \\cup \\{2, 3\\} = \\{0, 1, 2, 3\\}$。这恰好是 $f^{-1}(f[X])$。\n该陈述对于此特定情况是正确的。事实上，它在一般情况下也是正确的，这可以从陈述 C 推导出来。\n从 C 可知，$f^{-1}(f[X]) = \\bigcup_{x\\in X} f^{-1}(\\{f(x)\\})$，这显然是纤维的并集。对于任意 $x_0 \\in X$，$x_0$ 属于纤维 $f^{-1}(\\{f(x_0)\\})$，而该纤维是并集的一部分，所以 $X \\subseteq f^{-1}(f[X])$。最后，如果 $A$ 是任何包含 $X$ 且是纤维之并的集合，设 $A = \\bigcup_{y \\in Y_A} f^{-1}(\\{y\\})$，那么对于任意 $x \\in X$，$x \\in A$。这意味着 $f(x) \\in Y_A$。因此 $f[X] \\subseteq Y_A$。这意味着 $f^{-1}(f[X]) = \\bigcup_{y \\in f[X]} f^{-1}(\\{y\\}) \\subseteq \\bigcup_{y \\in Y_A} f^{-1}(\\{y\\}) = A$。所以 $f^{-1}(f[X])$ 确实是最小的这样的集合。\n结论：**正确**。\n\n**E. 等式 $f^{-1}(f[X])=X$ 对所有子集 $X\\subseteq S$ 成立，当且仅当 $f$ 是满射。**\n这是一个关于函数性质的一般性陈述。让我们分析一下这个等价关系。该性质是：对于所有 $X\\subseteq S$，$f^{-1}(f[X])=X$。\n- ($\\Rightarrow$) 假设对于所有 $X\\subseteq S$，$f^{-1}(f[X])=X$ 成立。这是否意味着 $f$ 是满射？令 $f:\\{1\\} \\to \\{1, 2\\}$ 定义为 $f(1)=1$。这个函数不是满射。$S=\\{1\\}$ 的唯一非空子集是 $X=\\{1\\}$。对于这个 $X$，$f[X]=\\{1\\}$，且 $f^{-1}(f[X]) = f^{-1}(\\{1\\}) = \\{1\\} = X$。条件成立。但 $f$ 不是满射。所以正向蕴涵是错误的。\n- ($\\Leftarrow$) 假设 $f$ 是满射。这是否意味着对于所有 $X\\subseteq S$，$f^{-1}(f[X])=X$ 成立？考虑题目陈述中的函数 $f$：$f:\\{0,1,2,3\\} \\to \\{0,1\\}$ 是满射。然而，如 A 的分析所示，对于 $X=\\{0,2\\}$，$f^{-1}(f[X])=\\{0,1,2,3\\} \\neq X$。所以反向蕴涵是错误的。\n\n正确的等价关系是：对于所有 $X\\subseteq S$，$f^{-1}(f[X])=X$ 成立，当且仅当 $f$ 是 **单射**。\n修正后等价关系的证明：\n- 如果 $f$ 是单射，令 $z \\in f^{-1}(f[X])$。那么 $f(z) \\in f[X]$，所以存在某个 $x \\in X$ 使得 $f(z) = f(x)$。根据单射性，$z=x$，所以 $z \\in X$。因此 $f^{-1}(f[X]) \\subseteq X$。而包含关系 $X \\subseteq f^{-1}(f[X])$ 总是成立的。所以 $f^{-1}(f[X]) = X$。\n- 如果对于所有 $X$，$f^{-1}(f[X])=X$ 成立，令 $f(s_1)=f(s_2)$。选择 $X=\\{s_1\\}$。那么 $f[X] = \\{f(s_1)\\}$。所以 $f^{-1}(f[X])=f^{-1}(\\{f(s_1)\\})$。因为 $f(s_2)=f(s_1)$，所以 $s_2 \\in f^{-1}(\\{f(s_1)\\})$。根据假设，这个集合等于 $X=\\{s_1\\}$。因此 $s_2=s_1$。所以 $f$ 是单射。\n选项中的陈述，将该性质与满射性联系起来，是错误的。\n结论：**不正确**。\n\n总之，陈述 B、C 和 D 是正确的。陈述 B 证实了具体反例的计算结果，而 C 和 D 提供了关于集合 $f^{-1}(f[X])$ 的一般性且正确的刻画（用纤维来表达），解释了为什么当 $f$ 不是单射时，与 $X$ 的等式不成立。", "answer": "$$\\boxed{BCD}$$", "id": "3042705"}, {"introduction": "这个最终练习将挑战你从零开始构造一个双射函数，这超越了仅仅分析给定函数的范畴。构造法是集合论中的一项关键技能，常用于证明两个集合具有相同的“大小”或基数 [@problem_id:3042698]。你将构建一个函数来证明两个可数集的并集本身也是可数的，这是在数学和计算机科学中具有广泛影响的一个基础性结论。", "problem": "设 $\\mathbb{N} = \\{0,1,2,\\dots\\}$。如果存在一个函数 $e:\\mathbb{N}\\to S$ 是双射，则称集合 $S$ 是可数的。对于一个函数 $f:X\\to Y$，如果对所有 $x,x'\\in X$ 且 $x\\neq x'$，都有 $f(x)\\neq f(x')$，则称其为单射；如果对所有 $y\\in Y$，都存在 $x\\in X$ 使得 $f(x)=y$，则称其为满射；如果它既是单射又是满射，则称其为双射。假设 $A$ 和 $B$ 是不相交的可数集，并且给定固定的枚举 $\\alpha:\\mathbb{N}\\to A$ 和 $\\beta:\\mathbb{N}\\to B$，两者都是双射。\n\n从上述核心定义出发，显式地构造一个双射 $h:\\mathbb{N}\\to\\mathbb{N}\\times\\{0,1\\}$，然后利用 $h$ 和给定的枚举，推导出一个显式的双射 $f:\\mathbb{N}\\to A\\cup B$，该双射交错地排列两个枚举，使得 $A$ 的元素出现在所有偶数索引处，$B$ 的元素出现在所有奇数索引处。根据定义证明 $h$ 和 $f$ 都是双射。\n\n请用一个关于 $\\alpha$、$\\beta$ 和 $n$ 的封闭形式解析表达式给出 $f(n)$ 的最终答案，只使用标准运算（如果需要，可以包括向下取整函数和模同余）。不需要数值近似。", "solution": "设 $\\mathbb{N} = \\{0, 1, 2, \\dots\\}$。集合 $A$ 和 $B$ 是可数的且不相交，并给定双射 $\\alpha: \\mathbb{N} \\to A$ 和 $\\beta: \\mathbb{N} \\to B$。\n\n**第1部分：双射 $h:\\mathbb{N} \\to \\mathbb{N} \\times \\{0,1\\}$ 的构造与证明**\n\n我们首先构造一个函数 $h: \\mathbb{N} \\to \\mathbb{N} \\times \\{0,1\\}$，它将一个自然数与其除以2的商和余数配对。\n\n**$h$ 的构造：**\n定义函数 $h$ 如下：对任意 $n \\in \\mathbb{N}$，\n$$h(n) = (\\lfloor n/2 \\rfloor, n \\pmod 2)$$\n其中 $\\lfloor \\cdot \\rfloor$ 是向下取整函数，$\\pmod 2$ 给出除以2的余数。\n任何偶数 $n=2k$（其中 $k \\in \\mathbb{N}$）被映射到 $h(2k) = (\\lfloor 2k/2 \\rfloor, 2k \\pmod 2) = (k, 0)$。\n任何奇数 $n=2k+1$（其中 $k \\in \\mathbb{N}$）被映射到 $h(2k+1) = (\\lfloor (2k+1)/2 \\rfloor, (2k+1) \\pmod 2) = (\\lfloor k+1/2 \\rfloor, 1) = (k, 1)$。\n\n**证明 $h$ 是双射：**\n为证明 $h$ 是双射，我们必须使用所给的定义证明它既是单射又是满射。\n\n_1. $h$ 的单射性：_\n设 $n_1, n_2 \\in \\mathbb{N}$ 且假设 $h(n_1) = h(n_2)$。我们必须证明 $n_1=n_2$。\n条件 $h(n_1) = h(n_2)$ 意味着 $(\\lfloor n_1/2 \\rfloor, n_1 \\pmod 2) = (\\lfloor n_2/2 \\rfloor, n_2 \\pmod 2)$。\n这个有序对的相等意味着两个条件：\n(i) $\\lfloor n_1/2 \\rfloor = \\lfloor n_2/2 \\rfloor$。设这个公共值为 $k \\in \\mathbb{N}$。\n(ii) $n_1 \\pmod 2 = n_2 \\pmod 2$。设这个公共值为 $i \\in \\{0,1\\}$。\n根据带余除法，任何整数 $n$ 都可以唯一地表示为 $n = 2q+r$，其中 $q = \\lfloor n/2 \\rfloor$ 是商，$r = n \\pmod 2$ 是余数。\n利用这一点，我们可以写出 $n_1 = 2(\\lfloor n_1/2 \\rfloor) + (n_1 \\pmod 2) = 2k+i$。\n类似地，我们可以写出 $n_2 = 2(\\lfloor n_2/2 \\rfloor) + (n_2 \\pmod 2) = 2k+i$。\n因此，$n_1=n_2$。\n因为 $h(n_1)=h(n_2)$ 蕴含 $n_1=n_2$，所以函数 $h$ 是单射。\n\n_2. $h$ 的满射性：_\n设 $(k,i)$ 是陪域 $\\mathbb{N} \\times \\{0,1\\}$ 中的任意元素，其中 $k \\in \\mathbb{N}$ 且 $i \\in \\{0,1\\}$。我们必须找到一个元素 $n \\in \\mathbb{N}$ 使得 $h(n) = (k,i)$。\n我们来构造这样一个 $n$。定义 $n = 2k+i$。因为 $k \\ge 0$ 且 $i \\ge 0$，它们的线性组合 $n$ 也是一个非负整数，所以 $n \\in \\mathbb{N}$。\n现在我们将函数 $h$ 应用于这个 $n$：\n$$h(n) = h(2k+i) = (\\lfloor (2k+i)/2 \\rfloor, (2k+i) \\pmod 2)$$\n我们分别计算每个分量。\n第一个分量是 $\\lfloor (2k+i)/2 \\rfloor = \\lfloor k + i/2 \\rfloor$。因为 $i \\in \\{0,1\\}$，$i/2$ 要么是 $0$ 要么是 $0.5$。在这两种情况下，都有 $\\lfloor k + i/2 \\rfloor = k$。\n第二个分量是 $(2k+i) \\pmod 2$。因为 $2k$ 能被 $2$ 整除，所以余数完全由 $i$ 决定。由于 $i \\in \\{0,1\\}$，$i \\pmod 2 = i$。\n因此，$h(n) = (k,i)$。对于陪域中任意给定的 $(k,i)$，我们都找到了一个原像 $n=2k+i$。\n因此，函数 $h$ 是满射。\n\n因为 $h$ 既是单射又是满射，根据定义，它是一个双射。\n\n**第2部分：双射 $f:\\mathbb{N} \\to A \\cup B$ 的构造与证明**\n\n问题要求构造一个双射 $f:\\mathbb{N} \\to A \\cup B$，该双射交错排列枚举 $\\alpha$ 和 $\\beta$。具体来说，当 $n$ 为偶数时，$f(n)$ 应该是 $A$ 的一个元素；当 $n$ 为奇数时，$f(n)$ 应该是 $B$ 的一个元素。我们将使用双射 $h$ 来构造 $f$。\n\n**$f$ 的构造：**\n我们先定义一个中间函数 $g: \\mathbb{N} \\times \\{0,1\\} \\to A \\cup B$。对于任意 $(k,i) \\in \\mathbb{N} \\times \\{0,1\\}$，我们定义 $g$ 如下：\n$$ g(k,i) = \\begin{cases} \\alpha(k)  \\text{如果 } i=0 \\\\ \\beta(k)  \\text{如果 } i=1 \\end{cases} $$\n这个函数将序对 $(k,0)$ 映射到 $A$ 的第 $k$ 个元素（通过 $\\alpha$），将序对 $(k,1)$ 映射到 $B$ 的第 $k$ 个元素（通过 $\\beta$）。\n\n现在我们定义 $f:\\mathbb{N} \\to A \\cup B$ 为 $g$ 和 $h$ 的复合函数：\n$$f = g \\circ h$$\n具体来说，对任意 $n \\in \\mathbb{N}$，$f(n) = g(h(n)) = g(\\lfloor n/2 \\rfloor, n \\pmod 2)$。\n我们来分析这个定义：\n- 如果 $n$ 是偶数，$n=2k$（对于某个 $k \\in \\mathbb{N}$）。那么 $h(n) = h(2k) = (k,0)$。所以，$f(n) = f(2k) = g(k,0) = \\alpha(k) = \\alpha(n/2)$。像在 $A$ 中。\n- 如果 $n$ 是奇数，$n=2k+1$（对于某个 $k \\in \\mathbb{N}$）。那么 $h(n) = h(2k+1) = (k,1)$。所以，$f(n) = f(2k+1) = g(k,1) = \\beta(k) = \\beta((n-1)/2)$。像在 $B$ 中。\n\n这个构造满足交错排列的条件。$f(n)$ 的显式公式是：\n$$ f(n) = \\begin{cases} \\alpha(\\lfloor n/2 \\rfloor)  \\text{如果 } n \\pmod 2 = 0 \\\\ \\beta(\\lfloor n/2 \\rfloor)  \\text{如果 } n \\pmod 2 = 1 \\end{cases} $$\n\n**证明 $f$ 是双射：**\n两个双射的复合函数也是双射。我们已经证明了 $h$ 是一个双射。现在我们将证明 $g$ 也是一个双射。\n\n_1. $g$ 的单射性：_\n设 $(k_1, i_1)$ 和 $(k_2, i_2)$ 是 $\\mathbb{N} \\times \\{0,1\\}$ 中的元素，使得 $g(k_1, i_1) = g(k_2, i_2)$。设这个公共值为 $y$。\n- 情况1：$i_1=0$。那么 $y = g(k_1, 0) = \\alpha(k_1)$。根据 $\\alpha$ 的定义，$y \\in A$。如果 $i_2=1$，那么 $g(k_2, 1) = \\beta(k_2) = y$。因此 $y \\in B$。这意味着 $y \\in A \\cap B$。但我们已知 $A$ 和 $B$ 不相交，所以 $A \\cap B = \\emptyset$。这是一个矛盾。因此，$i_2$ 不能是 $1$，所以 $i_2=0$。当 $i_1=i_2=0$ 时，我们有 $g(k_1, 0) = \\alpha(k_1)$ 和 $g(k_2, 0) = \\alpha(k_2)$。等式 $g(k_1, 0) = g(k_2, 0)$ 意味着 $\\alpha(k_1) = \\alpha(k_2)$。因为 $\\alpha$ 是一个双射，所以它是单射，因此 $k_1=k_2$。于是，$(k_1, i_1) = (k_2, i_2)$。\n- 情况2：$i_1=1$。那么 $y = g(k_1, 1) = \\beta(k_1)$，所以 $y \\in B$。类似的论证表明，这必然导致 $i_2=1$。那么 $\\beta(k_1) = \\beta(k_2)$，并且由于 $\\beta$ 是单射，所以 $k_1=k_2$。同样，$(k_1, i_1) = (k_2, i_2)$。\n在所有情况下，$g(k_1, i_1) = g(k_2, i_2)$ 蕴含 $(k_1, i_1) = (k_2, i_2)$。所以 $g$ 是单射。\n\n_2. $g$ 的满射性：_\n设 $y$ 是陪域 $A \\cup B$ 中的任意元素。\n- 情况1：$y \\in A$。由于 $\\alpha: \\mathbb{N} \\to A$ 是双射，所以它是满射。因此，存在一个 $k \\in \\mathbb{N}$ 使得 $\\alpha(k) = y$。考虑序对 $(k,0) \\in \\mathbb{N} \\times \\{0,1\\}$。根据定义，$g(k,0) = \\alpha(k) = y$。我们找到了 $y$ 的一个原像。\n- 情况2：$y \\in B$。由于 $\\beta: \\mathbb{N} \\to B$ 是双射，所以它是满射。因此，存在一个 $k \\in \\mathbb{N}$ 使得 $\\beta(k) = y$。考虑序对 $(k,1) \\in \\mathbb{N} \\times \\{0,1\\}$。根据定义，$g(k,1) = \\beta(k) = y$。我们找到了 $y$ 的一个原像。\n由于 $A$ 和 $B$ 不相交，任何 $y \\in A \\cup B$ 都恰好属于这两种情况之一。因此，对于陪域中的任何元素，都存在一个原像。所以 $g$ 是满射。\n\n因为 $g$ 既是单射又是满射，所以它是一个双射。\n\n现在我们可以对 $f = g \\circ h$ 作出结论。\n- **$f$ 的单射性**：设 $n_1, n_2 \\in \\mathbb{N}$ 且假设 $f(n_1)=f(n_2)$。这意味着 $g(h(n_1)) = g(h(n_2))$。由于 $g$ 是单射，我们必有 $h(n_1)=h(n_2)$。由于 $h$ 是单射，我们必有 $n_1=n_2$。因此 $f$ 是单射。\n- **$f$ 的满射性**：设 $y \\in A\\cup B$。由于 $g$ 是满射，存在一个序对 $(k,i) \\in \\mathbb{N}\\times\\{0,1\\}$ 使得 $g(k,i)=y$。由于 $h$ 是满射，存在一个整数 $n \\in \\mathbb{N}$ 使得 $h(n)=(k,i)$。那么，对于这个 $n$，我们有 $f(n) = g(h(n)) = g(k,i) = y$。因此，对于任何 $y \\in A \\cup B$，在 $f$ 下都存在一个原像 $n \\in \\mathbb{N}$。所以 $f$ 是满射。\n\n因为 $f$ 既是单射又是满射，所以它是从 $\\mathbb{N}$ 到 $A \\cup B$ 的一个双射。所需的 $f(n)$ 表达式已经推导出来。", "answer": "$$\n\\boxed{\nf(n) = \\begin{cases} \\alpha\\left(\\lfloor \\frac{n}{2} \\rfloor\\right)  \\text{如果 } n \\pmod 2=0 \\\\ \\beta\\left(\\lfloor \\frac{n}{2} \\rfloor\\right)  \\text{如果 } n \\pmod 2=1 \\end{cases}\n}\n$$", "id": "3042698"}]}