{"hands_on_practices": [{"introduction": "在应用单位分解之前，我们必须先掌握其构造的细节。这个练习将通过一个具体实例，展示如何利用一个标准的“隆起函数”（bump function）在实数轴上构造单位分解 [@problem_id:1007409]。通过计算某个特定函数在某一点的精确值，你将亲身体会到这些函数是如何将“单位1”平滑地分配到整个流形上的。", "problem": "在微分几何中，一个光滑流形 $M$ 上从属于一个开覆盖 $\\{U_\\alpha\\}_{\\alpha \\in A}$ 的单位分解是一个光滑函数族 $\\{\\psi_\\alpha: M \\to [0,1]\\}_{\\alpha \\in A}$，满足以下条件：\n1. 对每个 $\\alpha \\in A$，$\\psi_\\alpha$ 的支集，记作 $\\operatorname{supp}(\\psi_\\alpha)$，是一个包含在 $U_\\alpha$ 中的闭集。\n2. 支集族 $\\{\\operatorname{supp}(\\psi_\\alpha)\\}_{\\alpha \\in A}$ 是局部有限的。\n3. 对每个点 $p \\in M$，所有函数的和为 1：$\\sum_{\\alpha \\in A} \\psi_\\alpha(p) = 1$。\n\n对于给定的开覆盖，在 $M = \\mathbb{R}$ 上构造这样一个单位分解的一个标准方法是基于一个光滑“隆起”函数。考虑流形 $\\mathbb{R}$，其开覆盖由对所有整数 $n \\in \\mathbb{Z}$ 的开区间族 $U_n = (n - \\frac{3}{2}, n + \\frac{3}{2})$ 给出。\n\n从属于此覆盖 $\\{U_n\\}_{n\\in\\mathbb{Z}}$ 的单位分解按如下方式构造：\n1.  从一个光滑隆起函数 $\\theta: \\mathbb{R} \\to \\mathbb{R}$ 开始，其定义为：\n    $$\n    \\theta(x) = \\begin{cases} \\exp\\left(-\\frac{1}{1-x^2}\\right)  \\text{若 } |x|  1 \\\\ 0  \\text{若 } |x| \\ge 1 \\end{cases}\n    $$\n    该函数的支集是闭区间 $[-1, 1]$。\n2.  对每个整数 $n \\in \\mathbb{Z}$，通过平移隆起函数 $\\theta(x)$ 定义一个新函数 $\\theta_n(x)$：\n    $$\n    \\theta_n(x) = \\theta(x-n)\n    $$\n    $\\theta_n(x)$ 的支集是区间 $[n-1, n+1]$，它是 $U_n$ 的一个紧子集。\n3.  将函数 $\\Theta(x)$ 定义为所有函数 $\\theta_n(x)$ 的和：\n    $$\n    \\Theta(x) = \\sum_{k \\in \\mathbb{Z}} \\theta_k(x)\n    $$\n    因为支集族 $\\{\\operatorname{supp}(\\theta_n)\\}$ 是局部有限的，所以该和是良定且光滑的。此外，对所有 $x \\in \\mathbb{R}$，有 $\\Theta(x) > 0$。\n4.  最后，通过归一化 $\\theta_n(x)$ 函数来定义单位分解函数 $\\psi_n(x)$：\n    $$\n    \\psi_n(x) = \\frac{\\theta_n(x)}{\\Theta(x)}\n    $$\n\n你的任务是推导函数 $\\psi_0(x)$ 在特定点 $x = \\frac{1}{4}$ 的精确值。", "solution": "对每个 $n\\in\\mathbb{Z}$，我们有\n$$\\theta_n(x)=\\theta(x-n),\\quad\\Theta(x)=\\sum_{k\\in\\mathbb{Z}}\\theta_k(x),\\quad\\psi_n(x)=\\frac{\\theta_n(x)}{\\Theta(x)}.$$\n\n在 $x=\\tfrac{1}{4}$ 处，只有满足 $|\\tfrac{1}{4}-k|1$ 的整数 $k$ 才对求和有贡献，即 $k=0$ 和 $k=1$。\n\n因为 $|\\tfrac{1}{4}|1$，\n$$\\theta_0\\bigl(\\tfrac{1}{4}\\bigr)\n=\\exp\\!\\Bigl(-\\frac{1}{1-(\\tfrac{1}{4})^2}\\Bigr)\n=\\exp\\!\\Bigl(-\\frac{1}{1-\\frac{1}{16}}\\Bigr)\n=\\exp\\!\\Bigl(-\\frac{1}{\\frac{15}{16}}\\Bigr)\n=\\exp\\!\\Bigl(-\\frac{16}{15}\\Bigr).$$\n\n因为 $|\\tfrac{1}{4}-1|=|-\\tfrac{3}{4}|1$，\n$$\\theta_1\\bigl(\\tfrac{1}{4}\\bigr)\n=\\exp\\!\\Bigl(-\\frac{1}{1-(-\\tfrac{3}{4})^2}\\Bigr)\n=\\exp\\!\\Bigl(-\\frac{1}{1-\\frac{9}{16}}\\Bigr)\n=\\exp\\!\\Bigl(-\\frac{1}{\\frac{7}{16}}\\Bigr)\n=\\exp\\!\\Bigl(-\\frac{16}{7}\\Bigr).$$\n\n因此\n$$\\Theta\\bigl(\\tfrac{1}{4}\\bigr)\n=\\exp\\!\\Bigl(-\\frac{16}{15}\\Bigr)+\\exp\\!\\Bigl(-\\frac{16}{7}\\Bigr),$$\n并且\n$$\\psi_0\\bigl(\\tfrac{1}{4}\\bigr)\n=\\frac{\\exp(-\\frac{16}{15})}\n      {\\exp(-\\frac{16}{15})+\\exp(-\\frac{16}{7})}.$$", "answer": "$$\\boxed{\\frac{\\exp\\bigl(-\\tfrac{16}{15}\\bigr)}{\\exp\\bigl(-\\tfrac{16}{15}\\bigr)+\\exp\\bigl(-\\tfrac{16}{7}\\bigr)}}$$", "id": "1007409"}, {"introduction": "单位分解的一个主要用途是将局部数据平滑地“粘合”成一个全局对象。本练习将在圆周 $S^1$ 上演示这一原理，通过混合两个简单的函数来创造一个新的全局函数 [@problem_id:1007564]。你将研究这个新函数的性质，特别是它的临界点，从而理解粘合过程是如何产生新的几何特征的。", "problem": "在微分几何中，流形上的全局函数可以通过使用单位分解来光滑地混合局部定义的函数来构造。本题探讨了这一概念在圆周 $S^1$ 上的一个具体实例。\n\n考虑由角坐标 $\\theta \\in [0, 2\\pi)$ 参数化的圆周 $S^1$。我们通过使用一对构成单位分解的光滑权重函数 $\\psi_1(\\theta)$ 和 $\\psi_2(\\theta)$，混合两个函数 $f_1(\\theta) = C \\cos(\\theta)$ 和 $f_2(\\theta) = C \\cos(2\\theta)$，来定义一个全局函数 $F(\\theta)$。此处，$C$ 是一个非零实常数。\n\n权重函数由下式给出：\n$$ \\psi_1(\\theta) = \\cos^2\\left(\\frac{\\theta}{2}\\right) $$\n$$ \\psi_2(\\theta) = \\sin^2\\left(\\frac{\\theta}{2}\\right) $$\n注意，这些函数对所有 $\\theta$ 都满足 $\\psi_1(\\theta) + \\psi_2(\\theta) = 1$，这确保了它们构成一个有效的单位分解。\n\n混合后的全局函数 $F(\\theta)$ 定义为：\n$$ F(\\theta) = \\psi_1(\\theta)f_1(\\theta) + \\psi_2(\\theta)f_2(\\theta) $$\n$F(\\theta)$ 的一个临界点是指其导数为零的点 $\\theta_c$，即 $F'(\\theta_c) = 0$。函数 $F(\\theta)$ 在 $\\theta=0$ 和 $\\theta=\\pi$ 处有平凡临界点，在这些点上，其中一个权重函数及其导数均为零。\n\n你的任务是推导出 $F(\\theta)$ 的一个非平凡临界点的最小正角坐标 $\\theta_c$。", "solution": "全局函数 $F(\\theta)$ 是通过将 $f_1(\\theta) = C \\cos(\\theta)$ 和 $f_2(\\theta) = C \\cos(2\\theta)$ 与权重函数 $\\psi_1(\\theta) = \\cos^2(\\frac{\\theta}{2})$ 和 $\\psi_2(\\theta) = \\sin^2(\\frac{\\theta}{2})$ 混合构造的。$F(\\theta)$ 的表达式为：\n$$ F(\\theta) = \\psi_1(\\theta)f_1(\\theta) + \\psi_2(\\theta)f_2(\\theta) = C \\cos^2\\left(\\frac{\\theta}{2}\\right) \\cos(\\theta) + C \\sin^2\\left(\\frac{\\theta}{2}\\right) \\cos(2\\theta) $$\n\n为简化表达式，我们使用半角恒等式：\n$$ \\cos^2\\left(\\frac{\\theta}{2}\\right) = \\frac{1 + \\cos(\\theta)}{2} $$\n$$ \\sin^2\\left(\\frac{\\theta}{2}\\right) = \\frac{1 - \\cos(\\theta)}{2} $$\n将这些代入 $F(\\theta)$ 的表达式中：\n$$ F(\\theta) = C \\left( \\frac{1 + \\cos(\\theta)}{2} \\right) \\cos(\\theta) + C \\left( \\frac{1 - \\cos(\\theta)}{2} \\right) \\cos(2\\theta) $$\n$$ F(\\theta) = \\frac{C}{2} \\left[ (1 + \\cos(\\theta))\\cos(\\theta) + (1 - \\cos(\\theta))\\cos(2\\theta) \\right] $$\n$$ F(\\theta) = \\frac{C}{2} \\left[ \\cos(\\theta) + \\cos^2(\\theta) + \\cos(2\\theta) - \\cos(\\theta)\\cos(2\\theta) \\right] $$\n\n为了找到临界点，我们必须计算 $F(\\theta)$ 关于 $\\theta$ 的导数，并令其为零。\n$$ F'(\\theta) = \\frac{dF}{d\\theta} = \\frac{C}{2} \\frac{d}{d\\theta} \\left[ \\cos(\\theta) + \\cos^2(\\theta) + \\cos(2\\theta) - \\cos(\\theta)\\cos(2\\theta) \\right] $$\n我们逐项求导：\n$$ \\frac{d}{d\\theta}(\\cos\\theta) = -\\sin\\theta $$\n$$ \\frac{d}{d\\theta}(\\cos^2\\theta) = 2\\cos\\theta(-\\sin\\theta) = -\\sin(2\\theta) $$\n$$ \\frac{d}{d\\theta}(\\cos(2\\theta)) = -2\\sin(2\\theta) $$\n$$ \\frac{d}{d\\theta}(\\cos\\theta\\cos(2\\theta)) = (-\\sin\\theta)\\cos(2\\theta) + \\cos\\theta(-2\\sin(2\\theta)) = -\\sin\\theta\\cos(2\\theta) - 2\\cos\\theta\\sin(2\\theta) $$\n\n综合这些结果：\n$$ F'(\\theta) = \\frac{C}{2} \\left[ -\\sin\\theta - \\sin(2\\theta) - 2\\sin(2\\theta) - (-\\sin\\theta\\cos(2\\theta) - 2\\cos\\theta\\sin(2\\theta)) \\right] $$\n$$ F'(\\theta) = \\frac{C}{2} \\left[ -\\sin\\theta - 3\\sin(2\\theta) + \\sin\\theta\\cos(2\\theta) + 2\\cos\\theta\\sin(2\\theta) \\right] $$\n使用恒等式 $\\sin(2\\theta) = 2\\sin\\theta\\cos\\theta$：\n$$ F'(\\theta) = \\frac{C}{2} \\left[ -\\sin\\theta - 6\\sin\\theta\\cos\\theta + \\sin\\theta\\cos(2\\theta) + 4\\sin\\theta\\cos^2\\theta \\right] $$\n提取公因式 $\\sin\\theta$：\n$$ F'(\\theta) = \\frac{C\\sin\\theta}{2} \\left[ -1 - 6\\cos\\theta + \\cos(2\\theta) + 4\\cos^2\\theta \\right] $$\n现在，使用恒等式 $\\cos(2\\theta) = 2\\cos^2\\theta - 1$：\n$$ F'(\\theta) = \\frac{C\\sin\\theta}{2} \\left[ -1 - 6\\cos\\theta + (2\\cos^2\\theta - 1) + 4\\cos^2\\theta \\right] $$\n$$ F'(\\theta) = \\frac{C\\sin\\theta}{2} \\left[ 6\\cos^2\\theta - 6\\cos\\theta - 2 \\right] $$\n$$ F'(\\theta) = C\\sin\\theta \\left( 3\\cos^2\\theta - 3\\cos\\theta - 1 \\right) $$\n\n为了找到临界点，我们令 $F'(\\theta) = 0$：\n$$ C\\sin\\theta \\left( 3\\cos^2\\theta - 3\\cos\\theta - 1 \\right) = 0 $$\n由于 $C \\ne 0$，该方程产生两种可能的解：\n1. $\\sin\\theta = 0$，这给出 $\\theta = 0$ 和 $\\theta = \\pi$。这些是问题描述中提到的平凡临界点。\n2. $3\\cos^2\\theta - 3\\cos\\theta - 1 = 0$。这些是非平凡临界点。\n\n令 $x = \\cos\\theta$。二次方程为：\n$$ 3x^2 - 3x - 1 = 0 $$\n我们使用二次方程求根公式 $x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$ 来解 $x$：\n$$ x = \\frac{-(-3) \\pm \\sqrt{(-3)^2 - 4(3)(-1)}}{2(3)} $$\n$$ x = \\frac{3 \\pm \\sqrt{9 + 12}}{6} $$\n$$ x = \\frac{3 \\pm \\sqrt{21}}{6} $$\n\n所以，我们得到 $\\cos\\theta$ 的两个可能值：\n$$ \\cos\\theta_1 = \\frac{3 + \\sqrt{21}}{6} \\quad \\text{和} \\quad \\cos\\theta_2 = \\frac{3 - \\sqrt{21}}{6} $$\n我们必须检查这些值是否在余弦函数的有效范围 $[-1, 1]$ 内。\n由于 $4  \\sqrt{21}  5$，我们可以估算这些值。$\\sqrt{21} \\approx 4.58$。\n$$ \\cos\\theta_1 \\approx \\frac{3 + 4.58}{6} = \\frac{7.58}{6} \\approx 1.26 $$\n这个值大于 1，因此它不是 $\\cos\\theta$ 的一个可能值。\n$$ \\cos\\theta_2 \\approx \\frac{3 - 4.58}{6} = \\frac{-1.58}{6} \\approx -0.263 $$\n这个值在 $[-1, 1]$ 范围内。因此，非平凡临界点由下式给出：\n$$ \\cos\\theta = \\frac{3 - \\sqrt{21}}{6} $$\n题目要求的是最小正角坐标 $\\theta_c$。由于 $\\cos\\theta_c$ 是负数，$\\theta_c$ 必须位于第二或第三象限。最小的正角将位于第二象限，即 $(\\pi/2, \\pi)$。该值由反余弦函数的主值给出。\n$$ \\theta_c = \\arccos\\left(\\frac{3 - \\sqrt{21}}{6}\\right) $$\n任何其他解都将是 $2\\pi - \\theta_c$ 或这些解加上 $2\\pi$ 的倍数，所有这些都更大。因此，这是最小的正解。", "answer": "$$ \\boxed{\\arccos\\left(\\frac{3 - \\sqrt{21}}{6}\\right)} $$", "id": "1007564"}, {"introduction": "单位分解对于定义诸如度量和联络这样的全局几何对象至关重要。然而，这个过程比简单地对各分量进行加权平均要精细得多。本练习通过计算一个因错误操作而产生的误差项，揭示了一个常见的陷阱：将 Christoffel 符号当作张量进行平均 [@problem_id:1007439]。这个练习将加深你对联络系数非张量变换性质的理解。", "problem": "考虑一个二维光滑流形 $M$，其拓扑等价于 $\\mathbb{R}^2$。$M$ 的几何由平坦的欧几里得度量描述。我们使用两个不同的坐标卡来描述此流形的一个区域。\n\n第一个坐标卡使用标准笛卡尔坐标 $(x,y)$。第二个坐标卡使用一组双曲坐标 $(u,v)$，它们通过以下变换与笛卡尔坐标相关联：\n$$\nx = u \\cosh v\n$$\n$$\ny = u \\sinh v\n$$\n该坐标系在 $u>0$ 时有效，这对应于区域 $x^2 > y^2$ 和 $x>0$。\n\n在 $M$ 上，我们考虑两个联络 $\\nabla_1$ 和 $\\nabla_2$。两者都是对应于平坦度量的列维-奇维塔联络。然而，它们自然地在不同的坐标系中表达：\n1.  $\\nabla_1$ 在笛卡尔坐标卡 $(x,y)$ 中描述。其克里斯托费尔符号，记为 ${}^{(1)}\\Gamma^\\lambda_{\\mu\\nu}$，在这些坐标下全为零。\n2.  $\\nabla_2$ 在双曲坐标卡 $(u,v)$ 中描述。其克里斯托费尔符号，记为 ${}^{(2)}\\Gamma^\\gamma_{\\alpha\\beta}$，在这些坐标下全为零。\n\n一名学生试图通过使用单位分解，对 $\\nabla_1$ 和 $\\nabla_2$ 的分量进行平均，从而在坐标卡的交集上构造一个全局联络 $\\tilde{\\nabla}$。该单位分解由光滑函数 $\\psi_1(x,y) = 1 - \\frac{y^2}{x^2}$ 和 $\\psi_2(x,y) = \\frac{y^2}{x^2}$ 给出。\n\n该学生通过以下（不正确的）公式定义了 $\\tilde{\\nabla}$ 在笛卡尔坐标 $(x,y)$ 中的克里斯托费尔符号：\n$$\n\\tilde{\\Gamma}^\\lambda_{\\mu\\nu}(x,y) = \\psi_1(x,y) {}^{(1)}\\Gamma^\\lambda_{\\mu\\nu}(x,y) + \\psi_2(x,y) \\left( \\frac{\\partial x^\\lambda}{\\partial y^\\gamma} \\frac{\\partial y^\\alpha}{\\partial x^\\mu} \\frac{\\partial y^\\beta}{\\partial x^\\nu} {}^{(2)}\\Gamma^\\gamma_{\\alpha\\beta}(u,v) \\right)\n$$\n其中 $(x^1,x^2)=(x,y)$ 且 $(y^1,y^2)=(u,v)$。这个过程是有缺陷的，因为它将克里斯托费尔符号当作张量一样进行变换，而忽略了变换法则中的仿射（非张量）部分。\n\n定义混合联络 $\\nabla = \\psi_1 \\nabla_1 + \\psi_2 \\nabla_2$ 的正确方法所得到的在 $(x,y)$ 坐标卡中的克里斯托费尔符号 $\\Gamma^\\lambda_{\\mu\\nu}(x,y)$，是 $\\nabla_1$ 和 $\\nabla_2$ 的正确变换后的符号的加权平均。该学生计算中的误差由差值 $\\Delta\\Gamma^\\lambda_{\\mu\\nu} = \\Gamma^\\lambda_{\\mu\\nu} - \\tilde{\\Gamma}^\\lambda_{\\mu\\nu}$ 给出。\n\n计算此误差项的分量 $\\Delta\\Gamma^x_{yy}$ 在笛卡尔坐标为 $(x,y)=(2,1)$ 的点 $P$ 处的数值。", "solution": "1. 学生的克里斯托费尔符号为零：\n   $\\tilde\\Gamma^x_{yy}=0$。\n   正确的联络是 \n   $$\\Gamma^x_{yy}=\\psi_2\\,{}^{(x)}\\Gamma^x_{yy}，$$ \n   所以 \n   $$\\Delta\\Gamma^x_{yy}=\\psi_2\\,{}^{(x)}\\Gamma^x_{yy}。$$\n2. 由于 ${}^{(u,v)}\\Gamma^\\alpha_{\\beta\\gamma}=0$，在 $(x,y)$ 中的变换后的符号是\n   $${}^{(x)}\\Gamma^i_{jk}\n     =\\frac{\\partial x^i}{\\partial u^\\alpha}\\,\\frac{\\partial^2u^\\alpha}{\\partial x^j\\partial x^k}。$$\n   对于 $i=x$, $j=k=y$，\n   $${}^{(x)}\\Gamma^x_{yy}\n     =\\frac{\\partial x}{\\partial u}\\,u_{yy}\n     +\\frac{\\partial x}{\\partial v}\\,v_{yy}。$$\n3. 从 $x=u\\cosh v, y=u\\sinh v$ 反解得到 \n   $u=\\sqrt{x^2-y^2}, v=\\operatorname{arctanh}(y/x)$。计算\n   $u_y=-\\frac{y}{u},\\quad u_{yy}=-\\frac{x^2}{u^3}$，\n   $v_y=\\frac{x}{x^2-y^2},\\quad v_{yy}=\\frac{2xy}{(x^2-y^2)^2}$。\n   另外 \n   $$\\frac{\\partial x}{\\partial u}=\\cosh v,\\quad \\frac{\\partial x}{\\partial v}=u\\sinh v。$$\n4. 因此\n   $${}^{(x)}\\Gamma^x_{yy}\n     =\\cosh v\\Bigl(-\\frac{x^2}{u^3}\\Bigr)\n     +u\\sinh v\\Bigl(\\frac{2xy}{(x^2-y^2)^2}\\Bigr)。$$\n5. 在点 $P:(x,y)=(2,1)$ 处，我们有 \n   $u=\\sqrt{3}, \\tanh v=\\tfrac12 \\implies \\cosh v=\\tfrac{2}{\\sqrt{3}}, \\sinh v=\\tfrac1{\\sqrt{3}}$。\n   因此\n   $${}^{(x)}\\Gamma^x_{yy}\n     =\\frac{2}{\\sqrt3}\\bigl(-\\frac{4}{3\\sqrt3}\\bigr)\n     +\\sqrt3\\frac1{\\sqrt3}\\frac{4}{9}\n     =-\\frac{8}{9}+\\frac{4}{9}=-\\frac{4}{9}。$$\n6. 最后 $\\psi_2=\\frac{y^2}{x^2}=\\frac14$，所以\n   $$\\Delta\\Gamma^x_{yy}\n     =\\psi_2\\,{}^{(x)}\\Gamma^x_{yy}\n     =\\frac14\\Bigl(-\\frac{4}{9}\\Bigr)\n     =-\\frac{1}{9}。$$", "answer": "$$\\boxed{-\\frac{1}{9}}$$", "id": "1007439"}]}