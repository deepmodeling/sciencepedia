{"hands_on_practices": [{"introduction": "第一个练习是解决模奇素数幂的二次同余式的基本功[@problem_id:3021640]。你将逐步应用亨泽尔引理（Hensel's Lemma），将一个解从基域 $\\mathbb{Z}/p\\mathbb{Z}$ “提升”到环 $\\mathbb{Z}/p^k\\mathbb{Z}$ 中。掌握这个迭代过程至关重要，因为它构成了$p$-进分析和数论中许多高等技巧的基石。", "problem": "设 $p$ 为一个奇素数，我们考虑环 $\\mathbb{Z}/p^{k}\\mathbb{Z}$ 中模素数幂的同余。对于给定的整数 $b$ 和 $c$，二次同余式 $x^{2} - b x + c \\equiv 0 \\pmod{p^{k}}$ 可以通过其判别式 $\\Delta = b^{2} - 4 c$ 来进行分析。从模素数幂的同余、模素数的二次剩余以及通过 Hensel 引理提升解的存在性和唯一性准则等基础定义出发，执行以下步骤：\n- 判断 $\\Delta$ 是否是模 $p$ 的平方数。\n- 如果是，将 $\\Delta$ 的一个模 $p$ 的平方根提升到模 $p^{k}$ 的平方根。\n- 用提升后的平方根表示 $x^{2} - b x + c \\equiv 0 \\pmod{p^{k}}$ 的解，并从基本原理出发论证每一步。\n\n具体地，取 $p = 19$, $k = 4$, $b = 34$ 以及 $c = 17$。计算 $\\Delta = b^{2} - 4 c$ 模 $19^{4}$ 的一个平方根 $y$，该平方根由一个选定的模 $19$ 的平方根提升而来，然后确定两个解\n$$\nx \\equiv \\frac{b \\pm y}{2} \\pmod{19^{4}}.\n$$\n在所有位于区间 $[0, 19^{4} - 1]$ 内的解中，将最小的非负解作为你的最终答案。无需四舍五入，你必须将最终答案表示为单个整数。", "solution": "问题要求我们对具体值 $p = 19$, $k = 4$, $b = 34$ 和 $c = 17$ 求解二次同余式 $x^{2} - b x + c \\equiv 0 \\pmod{p^{k}}$。求解过程包括求出判别式 $\\Delta = b^2 - 4c$ 模 $p^k$ 的平方根，然后用它们来确定 $x$ 的值。\n\n给定的同余式为 $x^2 - 34x + 17 \\equiv 0 \\pmod{19^4}$。由于模 $19^4$ 是奇素数 $p=19$ 的幂，我们可以进行配方法。将同余式两边乘以 $4$（$4$ 在模 $19^4$ 下是可逆的），我们得到：\n$$4x^2 - 4bx + 4c \\equiv 0 \\pmod{p^k}$$\n$$(2x - b)^2 - b^2 + 4c \\equiv 0 \\pmod{p^k}$$\n$$(2x - b)^2 \\equiv b^2 - 4c \\pmod{p^k}$$\n设 $\\Delta = b^2 - 4c$ 为判别式。同余式变为 $(2x - b)^2 \\equiv \\Delta \\pmod{p^k}$。为了求解 $x$，我们必须首先求出 $\\Delta$ 模 $p^k$ 的平方根。设 $y$ 是这样一个平方根，即 $y^2 \\equiv \\Delta \\pmod{p^k}$。那么我们有：\n$$2x - b \\equiv \\pm y \\pmod{p^k}$$\n$$2x \\equiv b \\pm y \\pmod{p^k}$$\n由于 $p=19$ 是奇数，$2$ 在模 $p^k$ 下有乘法逆元。因此，$x$ 的两个解由下式给出：\n$$x \\equiv 2^{-1}(b \\pm y) \\pmod{p^k}$$\n\n首先，我们用给定的值 $b=34$ 和 $c=17$ 计算判别式 $\\Delta$：\n$$\\Delta = 34^2 - 4(17) = 1156 - 68 = 1088$$\n所以我们需要解 $y^2 \\equiv 1088 \\pmod{19^4}$。过程是先找到一个模 $p=19$ 的平方根，然后使用 Hensel 引理将这个根依次提升到模 $19^2$、$19^3$ 和 $19^4$。\n\n步骤 1：求 $\\Delta$ 模 $p=19$ 的平方根。\n我们需要解 $y_1^2 \\equiv 1088 \\pmod{19}$。\n$1088 = 57 \\times 19 + 5$，所以 $1088 \\equiv 5 \\pmod{19}$。\n我们需要找到 $y_1$ 使得 $y_1^2 \\equiv 5 \\pmod{19}$。我们可以测试一些值：$1^2 \\equiv 1$, $2^2 \\equiv 4$, ..., $9^2 = 81 = 4 \\times 19 + 5 \\equiv 5 \\pmod{19}$。\n所以，一个平方根是 $y_1 = 9$。另一个是 $-y_1 \\equiv -9 \\equiv 10 \\pmod{19}$。我们选择 $y_1 = 9$ 开始提升过程。\n\n步骤 2：将根从模 $19$ 提升到模 $19^2$。\n设 $f(y) = y^2 - \\Delta$。我们有 $f(y) \\equiv 0 \\pmod{19}$ 的一个根 $y_1 = 9$。我们寻找一个模 $19^2$ 的根 $y_2$，其形式为 $y_2 = y_1 + 19t_1$。\n根据 Hensel 引理，修正项 $t_1$ 通过求解以下线性同余式得到：\n$$f(y_1) + f'(y_1) (19 t_1) \\equiv 0 \\pmod{19^2}$$\n$$(y_1^2 - \\Delta) + (2y_1)(19t_1) \\equiv 0 \\pmod{19^2}$$\n两边除以 $19$（因为 $y_1^2 - \\Delta$ 是 $19$ 的倍数）：\n$$\\frac{y_1^2 - \\Delta}{19} + 2y_1 t_1 \\equiv 0 \\pmod{19}$$\n$$t_1 \\equiv -\\frac{y_1^2 - \\Delta}{19} (2y_1)^{-1} \\pmod{19}$$\n我们计算各个部分：\n$y_1^2 - \\Delta = 9^2 - 1088 = 81 - 1088 = -1007$。\n$\\frac{y_1^2 - \\Delta}{19} = \\frac{-1007}{19} = -53$。\n$-53 \\equiv -53 + 3 \\times 19 = -53 + 57 = 4 \\pmod{19}$。\n$f'(y_1) = 2y_1 = 2(9) = 18 \\equiv -1 \\pmod{19}$。其逆元是 $(f'(y_1))^{-1} \\equiv (-1)^{-1} \\equiv -1 \\pmod{19}$。\n所以，$t_1 \\equiv - (4) \\cdot (-1) \\equiv 4 \\pmod{19}$。\n提升后的根是 $y_2 = y_1 + 19t_1 = 9 + 19(4) = 9 + 76 = 85$。\n检验：$y_2^2 = 85^2 = 7225$。$y_2^2 - \\Delta = 7225 - 1088 = 6137$。并且 $6137 = 17 \\times 361 = 17 \\times 19^2$。所以 $y_2^2 \\equiv 1088 \\pmod{19^2}$。\n\n步骤 3：将根从模 $19^2$ 提升到模 $19^3$。\n我们寻找一个模 $19^3$ 的根 $y_3$，其形式为 $y_3 = y_2 + 19^2 t_2$。修正项 $t_2$ 由下式给出：\n$$t_2 \\equiv -\\frac{y_2^2 - \\Delta}{19^2} (2y_2)^{-1} \\pmod{19}$$\n我们有 $y_2^2 - \\Delta = 6137$。\n$\\frac{y_2^2 - \\Delta}{19^2} = \\frac{6137}{361} = 17$。\n$2y_2 = 2(85) = 170$。模 $19$ 时，$170 = 8 \\times 19 + 18 \\equiv 18 \\equiv -1 \\pmod{19}$。\n所以 $(2y_2)^{-1} \\equiv -1 \\pmod{19}$。\n$t_2 \\equiv - (17) \\cdot (-1) \\equiv 17 \\pmod{19}$。\n提升后的根是 $y_3 = y_2 + 19^2 t_2 = 85 + 361(17) = 85 + 6137 = 6222$。\n\n步骤 4：将根从模 $19^3$ 提升到模 $19^4$。\n我们寻找一个模 $19^4$ 的根 $y_4$，其形式为 $y_4 = y_3 + 19^3 t_3$。修正项 $t_3$ 为：\n$$t_3 \\equiv -\\frac{y_3^2 - \\Delta}{19^3} (2y_3)^{-1} \\pmod{19}$$\n$y_3^2 = 6222^2 = 38713284$。\n$y_3^2 - \\Delta = 38713284 - 1088 = 38712196$。\n$\\frac{y_3^2 - \\Delta}{19^3} = \\frac{38712196}{6859} = 5644$。\n模 $19$ 时，$5644 = 297 \\times 19 + 1 \\equiv 1 \\pmod{19}$。\n$2y_3 = 2(6222) = 12444$。模 $19$ 时，$6222 = 327 \\times 19 + 9 \\equiv 9 \\pmod{19}$。所以 $2y_3 \\equiv 2(9) = 18 \\equiv -1 \\pmod{19}$。\n因此 $(2y_3)^{-1} \\equiv -1 \\pmod{19}$。\n$t_3 \\equiv - (1) \\cdot (-1) \\equiv 1 \\pmod{19}$。\n最终提升的根是 $y = y_4 = y_3 + 19^3 t_3 = 6222 + 6859(1) = 13081$。\n所以，$\\Delta = 1088$ 模 $19^4 = 130321$ 的一个平方根是 $y = 13081$。另一个是 $-y \\equiv -13081 \\equiv 130321 - 13081 = 117240 \\pmod{130321}$。\n\n步骤 5：计算 $x$ 的解。\n解可以通过求解 $2x \\equiv b \\pm y \\pmod{19^4}$ 来找到。我们有 $b = 34$ 和 $y = 13081$，模为 $m=19^4 = 130321$。\n\n解 1：$2x_1 \\equiv b + y = 34 + 13081 = 13115 \\pmod{130321}$。\n由于 $13115$ 是奇数且模 $130321$ 也是奇数，我们可以写成 $2x_1 \\equiv 13115 + 130321 \\pmod{130321}$，这使得右边变为偶数。\n$2x_1 \\equiv 143436 \\pmod{130321}$。\n$x_1 \\equiv \\frac{143436}{2} = 71718 \\pmod{130321}$。\n\n解 2：$2x_2 \\equiv b - y = 34 - 13081 = -13047 \\pmod{130321}$。\n我们可以写成 $2x_2 \\equiv -13047 + 130321 \\pmod{130321}$ 以使右边为正偶数。\n$2x_2 \\equiv 117274 \\pmod{130321}$。\n$x_2 \\equiv \\frac{117274}{2} = 58637 \\pmod{130321}$。\n\n在区间 $[0, 19^4-1]$ 内，$x$ 的两个解是 $71718$ 和 $58637$。\n\n步骤 6：最终答案。\n问题要求最小非负解。比较两个解，$58637  71718$。\n因此，最小非负解是 $58637$。", "answer": "$$\n\\boxed{58637}\n$$", "id": "3021640"}, {"introduction": "在练习了单个素数幂的情况后，我们现在来处理模合数同余式[@problem_id:3021642]。这个问题展示了中国剩余定理（CRT）的威力，它让我们能将一个复杂问题分解成若干个可管理的部分，然后再将结果整合成完整的解集。请特别注意模 $2^4$ 的情况，因为它揭示了与模奇素数幂不同的独特结构特性。", "problem": "设 $n = 2^{4} \\cdot 3^{3} \\cdot 5$ 且 $a = 1$。考虑二次同余方程 $x^{2} \\equiv a \\pmod{n}$。从关于素数幂模的二次剩余的基本原理以及中国剩余定理（CRT）出发进行求解。具体来说：\n\n1. 通过在需要时从素数模到素数幂进行适当的提升，确定 $x^{2} \\equiv 1 \\pmod{2^{4}}$，$x^{2} \\equiv 1 \\pmod{3^{3}}$ 和 $x^{2} \\equiv 1 \\pmod{5}$ 的所有解，然后显式地使用中国剩余定理（CRT）来综合得到模 $n$ 的完整解集。\n\n2. 令 $S$ 表示标准剩余系 $0 \\leq x  n$ 中所有不同解代表的和。计算 $S$ 的精确整数值。\n\n最终答案必须是 $S$ 的单个整数值。", "solution": "该问题要求计算二次同余方程 $x^{2} \\equiv 1 \\pmod{n}$ 在范围 $0 \\leq x  n$ 内所有不同解的和，其中 $n = 2^{4} \\cdot 3^{3} \\cdot 5$。\n首先，我们计算 $n$ 的值：\n$$n = 2^{4} \\cdot 3^{3} \\cdot 5 = 16 \\cdot 27 \\cdot 5 = 16 \\cdot 135 = 2160$$\n待解的同余方程是 $x^{2} \\equiv 1 \\pmod{2160}$。\n根据中国剩余定理，解这个同余方程等价于解以下同余方程组：\n1. $x^{2} \\equiv 1 \\pmod{16}$\n2. $x^{2} \\equiv 1 \\pmod{27}$\n3. $x^{2} \\equiv 1 \\pmod{5}$\n\n我们将按照题目要求，分别解这些同余方程。\n\n**解 $x^{2} \\equiv 1 \\pmod{5}$**\n由于 $5$ 是素数，同余方程 $x^{2} - 1 \\equiv 0 \\pmod{5}$，即 $(x-1)(x+1) \\equiv 0 \\pmod{5}$，意味着 $x-1 \\equiv 0 \\pmod{5}$ 或 $x+1 \\equiv 0 \\pmod{5}$。这给出了两个不同的解：\n$x \\equiv 1 \\pmod{5}$\n$x \\equiv -1 \\equiv 4 \\pmod{5}$\n所以，模 $5$ 有 $2$ 个解。\n\n**解 $x^{2} \\equiv 1 \\pmod{27}$**\n我们必须解 $x^{2} \\equiv 1 \\pmod{3^3}$。我们从基本情况 $x^{2} \\equiv 1 \\pmod{3}$ 开始。与模 $5$ 的情况一样，解为 $x \\equiv \\pm 1 \\pmod{3}$。\n对于一个奇素数 $p$，同余方程 $x^2 \\equiv 1 \\pmod{p^k}$ 的解可以通过从模 $p$ 提升解来找到。设 $f(x) = x^2 - 1$。那么 $f'(x) = 2x$。对于 $f(x) \\equiv 0 \\pmod{p}$ 的一个解 $x_0$，如果 $f'(x_0) \\not\\equiv 0 \\pmod{p}$，它可以被提升为模 $p^k$ 的唯一解，对于任意 $k \\geq 1$。\n$x^2 \\equiv 1 \\pmod 3$ 的解是 $x_0 = 1$ 和 $x_0 = -1$。\n对于 $x_0 = \\pm 1$，我们有 $f'(x_0) = 2(\\pm 1) = \\pm 2 \\not\\equiv 0 \\pmod{3}$。\n因此，每个解都能唯一提升。解 $x \\equiv 1 \\pmod{3}$ 提升为 $x \\equiv 1 \\pmod{3^k}$，对任意 $k \\geq 1$。类似地，$x \\equiv -1 \\pmod{3}$ 提升为 $x \\equiv -1 \\pmod{3^k}$。\n因此，对于 $k=3$，$x^{2} \\equiv 1 \\pmod{27}$ 的解是：\n$x \\equiv 1 \\pmod{27}$\n$x \\equiv -1 \\equiv 26 \\pmod{27}$\n所以，模 $27$ 有 $2$ 个解。\n\n**解 $x^{2} \\equiv 1 \\pmod{16}$**\n$p=2$ 的情况是特殊的。提升的论证方法不同。一个已知的结果是，对于 $k \\ge 3$，同余方程 $x^2 \\equiv 1 \\pmod{2^k}$ 恰好有四个解。这些解是 $x \\equiv \\pm 1 \\pmod{2^k}$ 和 $x \\equiv \\pm(1+2^{k-1}) \\pmod{2^k}$。\n对于我们的问题，我们有 $k=4$。$x^{2} \\equiv 1 \\pmod{16}$ 的解是：\n$x \\equiv 1 \\pmod{16}$\n$x \\equiv -1 \\equiv 15 \\pmod{16}$\n$x \\equiv 1+2^{4-1} = 1+8 = 9 \\pmod{16}$\n$x \\equiv -(1+2^{4-1}) = -9 \\equiv 7 \\pmod{16}$\n我们来验证这些解：$1^2 \\equiv 1 \\pmod{16}$，$15^2 = (-1)^2 \\equiv 1 \\pmod{16}$，$9^2=81 = 5 \\cdot 16 + 1 \\equiv 1 \\pmod{16}$，以及 $7^2=49 = 3 \\cdot 16 + 1 \\equiv 1 \\pmod{16}$。\n这四个解是 $x \\in \\{1, 7, 9, 15\\}$。所以，模 $16$ 有 $4$ 个解。\n\n**综合解并计算它们的和 $S$**\n根据 CRT，对于来自各个同余方程的解的任意组合 $(s_1, s_2, s_3)$，其中 $s_1 \\in \\{1, 7, 9, 15\\}$，$s_2 \\in \\{1, 26\\}$，以及 $s_3 \\in \\{1, 4\\}$，存在一个唯一的模 $n=2160$ 的解 $x$。\n解的总数是每个模的解的数量的乘积：$4 \\times 2 \\times 2 = 16$。\n设 $X$ 是标准剩余系 $0 \\leq x  n$ 中这 $16$ 个不同解的集合。我们需要计算 $S = \\sum_{x \\in X} x$。\n\n如果 $x$ 是 $x^2 \\equiv 1 \\pmod n$ 的一个解，那么 $(-x)^2 = x^2 \\equiv 1 \\pmod n$，所以 $-x$ 也是一个解。在剩余系 $\\{0, 1, \\dots, n-1\\}$ 中，$-x$ 的代表是 $n-x$（对于 $x \\neq 0$）。\n由于 $1 \\not\\equiv 0 \\pmod n$，$x=0$ 不是一个解。因此，对于每个解 $x$，$n-x$ 也是一个解。\n这些解可以被分成 $\\{x, n-x\\}$ 的配对，前提是 $x \\neq n-x$。如果 $x = n-x$，那么 $2x=n$，这意味着 $x = n/2$。我们必须检查 $x=n/2$ 是否是该同余方程的解。\n这里，$n=2160$，所以 $n/2 = 1080$。我们检查 $x=1080$ 是否满足 $x^2 \\equiv 1 \\pmod{2160}$。\n$1080^2 = (1080)(1080) = \\frac{2160}{2} \\cdot 1080 = 2160 \\cdot 540$\n所以，$1080^2 \\equiv 0 \\pmod{2160}$。\n由于 $0 \\not\\equiv 1 \\pmod{2160}$，$x=1080$ 不是一个解。\n这证实了对于每个解 $x \\in X$，$n-x$ 也是一个解且 $x \\neq n-x$。因此，这 $16$ 个解可以被划分为 $16/2 = 8$ 个形如 $\\{x_i, n-x_i\\}$ 的不同配对。\n\n每个这样的配对中元素的和是 $x_i + (n-x_i) = n$。\n总和 $S$ 是这 $8$ 个配对的和：\n$$S = \\sum_{i=1}^{8} (x_i + (n-x_i)) = \\sum_{i=1}^{8} n = 8n$$\n现在，我们计算 $S$ 的数值：\n$$n = 2160$$\n$$S = 8 \\times 2160 = 17280$$\n\n所有不同解的和是 $17280$。", "answer": "$$\\boxed{17280}$$", "id": "3021642"}, {"introduction": "我们最后的练习将从计算转向概念理解[@problem_id:3021655]。你的任务是推导一个通用公式，用于计算模任意整数 $n$ 时 $1$ 的平方根的数量。这个练习将把你之前练习中观察到的现象与单位群 $(\\mathbb{Z}/n\\mathbb{Z})^\\times$ 的代数结构联系起来，揭示为何 $2$ 的幂次扮演着如此特殊的角色，从而巩固你对整个主题的掌握。", "problem": "设 $n$ 是一个正整数，其素因数分解为 $n = 2^{k} \\prod_{i=1}^{r} p_{i}^{e_{i}}$，其中每个 $p_{i}$ 是奇素数且每个 $e_{i} \\geq 1$。考虑二次同余方程 $x^{2} \\equiv 1 \\pmod{n}$。从数论中的基本结果出发，即用于提升模奇素数幂的解的 Hensel 引理和中国剩余定理 (CRT, Chinese Remainder Theorem)，推导素数 $p=2$ 的存在与 $n$ 为奇数的情况相比，如何改变模 $n$ 的解集的结构。你的推导应仅使用模素数幂的多项式同余方程和模素数幂的单位群的基本性质，而不借助于任何现成的计数公式。\n\n作为一个具体地展示了奇数和偶数素数幂组成部分的实例，取特定模数 $n = 2^{7} \\cdot 3^{3} \\cdot 5^{2}$。确定满足 $x^{2} \\equiv 1 \\pmod{n}$ 的不同剩余类 $x \\pmod{n}$ 的数量，并报告该数量。无需四舍五入。", "solution": "分析将首先使用中国剩余定理 (CRT) 分解问题，然后分析模素数幂的解的数量，特别关注奇素数与素数 $p=2$ 之间的差异。\n\n设 $n$ 的素因数分解为 $n = 2^{k} \\prod_{i=1}^{r} p_{i}^{e_{i}}$，其中每个 $p_{i}$ 是不同的奇素数，$e_{i} \\geq 1$，且 $k \\ge 0$。根据中国剩余定理，同余方程 $x^{2} \\equiv 1 \\pmod{n}$ 等价于以下同余方程组：\n$$\n\\begin{cases}\nx^2 \\equiv 1 \\pmod{2^k} \\\\\nx^2 \\equiv 1 \\pmod{p_1^{e_1}} \\\\\n\\vdots \\\\\nx^2 \\equiv 1 \\pmod{p_r^{e_r}}\n\\end{cases}\n$$\n如果我们将 $x^2 \\equiv 1 \\pmod{m}$ 的解的数量记为 $N(m)$，则模 $n$ 的总解数是每个素数幂分量的解数的乘积：\n$$N(n) = N(2^k) \\cdot N(p_1^{e_1}) \\cdot \\ldots \\cdot N(p_r^{e_r}) = N(2^k) \\prod_{i=1}^{r} N(p_i^{e_i})$$\n\n首先，我们分析奇素数幂 $p^e$ 的情况。\n该同余方程为 $x^2 \\equiv 1 \\pmod{p^e}$，等价于 $p^e | (x^2 - 1)$，即 $p^e | (x-1)(x+1)$。\n$(x-1)$ 和 $(x+1)$ 的最大公约数是 $\\gcd(x-1, (x+1)-(x-1)) = \\gcd(x-1, 2)$。因为 $p$ 是一个奇素数，所以 $p$ 不能整除 $2$。因此，$p$ 不能同时整除 $(x-1)$ 和 $(x+1)$。这意味着 $p$ 的全部幂次，即 $p^e$，必须整除 $(x-1)$ 或 $(x+1)$。\n这导致两种可能性：\n$1.$ $x-1 \\equiv 0 \\pmod{p^e} \\implies x \\equiv 1 \\pmod{p^e}$。\n$2.$ $x+1 \\equiv 0 \\pmod{p^e} \\implies x \\equiv -1 \\pmod{p^e}$。\n这两个解，$1$ 和 $-1$，在模 $p^e$ 下是不同的，因为 $p^e | (1 - (-1))$ 意味着 $p^e | 2$，这对于奇素数 $p$ 和 $e \\ge 1$ 是不可能的。\n因此，对于任何奇素数 $p$ 和整数 $e \\ge 1$，方程 $x^2 \\equiv 1 \\pmod{p^e}$ 恰好有 $2$ 个解。这也可以用 Hensel 引理来证实。设 $f(x) = x^2 - 1$。基础情况是 $x^2 \\equiv 1 \\pmod{p}$，它有解 $x_0 = 1$ 和 $x_0 = -1$。导数是 $f'(x) = 2x$。对于这两个解，$f'(x_0) = \\pm 2 \\not\\equiv 0 \\pmod p$，因为 $p$ 是奇数。Hensel 引理保证了这两个解中的每一个都能唯一地提升为模 $p^e$（对于任何 $e \\ge 1$）的一个解。这证实了对于所有的 $i=1, \\dots, r$，都有 $N(p_i^{e_i}) = 2$。\n\n接下来，我们分析 $2$ 的幂次的情况，这在根本上是不同的。\n同余方程是 $x^2 \\equiv 1 \\pmod{2^k}$。\n情况 $k=1$：$x^2 \\equiv 1 \\pmod{2}$。唯一的解是 $x \\equiv 1 \\pmod{2}$。所以，$N(2) = 1$。\n情况 $k=2$：$x^2 \\equiv 1 \\pmod{4}$。通过测试剩余类，$1^2 \\equiv 1$ 和 $3^2=9 \\equiv 1$，我们找到两个解：$x \\equiv 1 \\pmod{4}$ 和 $x \\equiv 3 \\pmod{4}$。所以，$N(4) = 2$。\n情况 $k \\ge 3$：$x^2 \\equiv 1 \\pmod{2^k}$。一个解 $x$ 必须是奇数，所以 $\\gcd(x, 2^k)=1$。我们在单位群 $(\\mathbb{Z}/2^k \\mathbb{Z})^\\times$ 中寻找阶为 $1$ 或 $2$ 的元素。对于 $k \\ge 3$，这个群不是循环群；它具有结构 $(\\mathbb{Z}/2^k \\mathbb{Z})^\\times \\cong C_2 \\times C_{2^{k-2}}$，其中 $C_m$ 是阶为 $m$ 的循环群。一个元素的阶能整除 $2$ 当且仅当其在直积中的分量的阶能整除 $2$。\n在 $C_2$ 中，两个元素（单位元和生成元）的阶都能整除 $2$。\n在 $C_{2^{k-2}}$ 中，恰好有两个元素的阶能整除 $2$：单位元和唯一的 2 阶元素（在加法群中是 $2^{k-3}$，对应于乘法下的 $1+2^{k-1}$）。\n因此，在直积群中有 $2 \\times 2 = 4$ 个这样的元素。这些对应于模 $2^k$ 的四个不同解：\n$1.$ $x \\equiv 1 \\pmod{2^k}$\n$2.$ $x \\equiv -1 \\pmod{2^k}$\n$3.$ $x \\equiv 1+2^{k-1} \\pmod{2^k}$\n$4.$ $x \\equiv -1+2^{k-1} \\pmod{2^k}$ (也就是 $2^{k-1}-1 \\pmod{2^k}$)\n对于 $k \\ge 3$，这四个解是不同的。因此，对于 $k \\ge 3$，$N(2^k) = 4$。\n\n结构上的差异源于单位群的性质。对于奇素数 $p$，$(\\mathbb{Z}/p^e \\mathbb{Z})^\\times$ 是循环群，而一个循环群恰好有两个 1 的平方根。对于 $p=2$，当 $k \\ge 3$ 时，$(\\mathbb{Z}/2^k \\mathbb{Z})^\\times$ 不是循环群，这允许多于两个 1 的平方根。\n\n结合这些结果，对于 $n = 2^{k} \\prod_{i=1}^{r} p_{i}^{e_{i}}$，总解数为：\n$N(n) = N(2^k) \\cdot \\prod_{i=1}^{r} N(p_i^{e_i}) = N(2^k) \\cdot 2^r$.\n该值取决于 $k$：\n- 如果 $k=0$ 或 $k=1$（即 $n$ 是奇数或奇数的两倍），$N(n) = 1 \\cdot 2^r = 2^r$。\n- 如果 $k=2$（即 $n=4m$ 且 $m$ 是奇数），$N(n) = 2 \\cdot 2^r = 2^{r+1}$。\n- 如果 $k \\ge 3$（即 $8|n$），$N(n) = 4 \\cdot 2^r = 2^{r+2}$。\n素数 $p=2$ 以足够高的幂次（$k \\ge 2$）出现，会使解的数量超过奇数情况下的基线 $2^r$。\n\n对于具体示例 $n = 2^{7} \\cdot 3^{3} \\cdot 5^{2}$：\n模 $n$ 由三个素数幂因子组成：$2^7$, $3^3$ 和 $5^2$。我们求出每个分量的解的数量。\n$1.$ 对于 $x^2 \\equiv 1 \\pmod{2^7}$：这里，$2$ 的幂是 $k=7$。因为 $k \\ge 3$，所以有 $N(2^7) = 4$ 个解。\n$2.$ 对于 $x^2 \\equiv 1 \\pmod{3^3}$：素数是 $p=3$，是奇数。因此，有 $N(3^3) = 2$ 个解。\n$3.$ 对于 $x^2 \\equiv 1 \\pmod{5^2}$：素数是 $p=5$，是奇数。因此，有 $N(5^2) = 2$ 个解。\n\n根据中国剩余定理，模 $n$ 的不同解的总数是每个素数幂因子解数的乘积：\n总解数 $= N(2^7) \\cdot N(3^3) \\cdot N(5^2) = 4 \\cdot 2 \\cdot 2 = 16$。\n这与上面推导的公式相符。不同的奇素数因子的数量是 $r=2$（素数 $3$ 和 $5$）。$2$ 的幂是 $k=7$，它 $\\ge 3$。解的数量是 $2^{r+2} = 2^{2+2} = 2^4 = 16$。", "answer": "$$\\boxed{16}$$", "id": "3021655"}]}