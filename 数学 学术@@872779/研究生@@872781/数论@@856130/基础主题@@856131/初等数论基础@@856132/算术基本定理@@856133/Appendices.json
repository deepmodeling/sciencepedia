{"hands_on_practices": [{"introduction": "本练习是算术基本定理最直接的应用之一。它旨在训练您如何将一个整数的特定属性（例如，除以某个数后成为完美幂）转化为其素数因式分解中指数所需满足的代数条件。通过求解关于指数的同余方程组，这个问题具体地展示了唯一分解性在解决数论问题中的基本作用。[@problem_id:1831862]", "problem": "如果一个整数是某个整数的平方，则称其为完全平方数。类似地，如果一个整数是某个整数的立方，则称其为完全立方数；如果一个整数是某个整数的五次方，则称其为完全五次方数。求满足以下所有条件的最小正整数 $n$：\n1. 整数商 $n/2$ 是一个完全平方数。\n2. 整数商 $n/3$ 是一个完全立方数。\n3. 整数商 $n/5$ 是一个完全五次方数。\n\n请将你的答案表示为素数幂的乘积形式 $p_1^{e_1} p_2^{e_2} \\cdots p_k^{e_k}$。", "solution": "设 $n$ 的素因数分解为 $n=\\prod_{p} p^{v_{p}(n)}$。条件表明：\n- $n/2$ 是一个完全平方数，因此对于每个素数 $p$：\n  - 如果 $p=2$，那么 $v_{2}(n)-1$ 是偶数，\n  - 如果 $p\\neq 2$，那么 $v_{p}(n)$ 是偶数。\n- $n/3$ 是一个完全立方数，因此：\n  - 如果 $p=3$，那么 $v_{3}(n)-1$ 是 $3$ 的倍数，\n  - 如果 $p\\neq 3$，那么 $v_{p}(n)$ 是 $3$ 的倍数。\n- $n/5$ 是一个完全五次方数，因此：\n  - 如果 $p=5$，那么 $v_{5}(n)-1$ 是 $5$ 的倍数，\n  - 如果 $p\\neq 5$，那么 $v_{p}(n)$ 是 $5$ 的倍数。\n\n对于 $p\\notin\\{2,3,5\\}$，指数必须同时是偶数、3的倍数和5的倍数，因此是 $\\operatorname{lcm}(2,3,5)=30$ 的倍数。为了使 $n$ 最小，我们将这些指数设为 $0$。\n\n令 $a=v_{2}(n)$，$b=v_{3}(n)$，$c=v_{5}(n)$。同余条件变为\n$$\n\\begin{aligned}\n\\text{由 }n/2\\text{ 是平方数得:}  a\\equiv 1 \\pmod{2},\\quad b\\equiv 0 \\pmod{2},\\quad c\\equiv 0 \\pmod{2},\\\\\n\\text{由 }n/3\\text{ 是立方数得:}  a\\equiv 0 \\pmod{3},\\quad b\\equiv 1 \\pmod{3},\\quad c\\equiv 0 \\pmod{3},\\\\\n\\text{由 }n/5\\text{ 是五次方数得:}  a\\equiv 0 \\pmod{5},\\quad b\\equiv 0 \\pmod{5},\\quad c\\equiv 1 \\pmod{5}.\n\\end{aligned}\n$$\n\n对每个变量独立求解：\n- 对 $a$：$a\\equiv 0 \\pmod{3}$ 和 $a\\equiv 0 \\pmod{5}$ 意味着 $a\\equiv 0 \\pmod{15}$；结合 $a\\equiv 1 \\pmod{2}$，最小正解是 $a=15$。\n- 对 $b$：$b\\equiv 0 \\pmod{2}$ 和 $b\\equiv 0 \\pmod{5}$ 意味着 $b\\equiv 0 \\pmod{10}$。设 $b=10k$，条件 $b\\equiv 1 \\pmod{3}$ 得到 $10k\\equiv 1 \\pmod{3}$，即 $k\\equiv 1 \\pmod{3}$。最小正解是 $k=1$，因此 $b=10$。\n- 对 $c$：$c\\equiv 0 \\pmod{2}$ 和 $c\\equiv 0 \\pmod{3}$ 意味着 $c\\equiv 0 \\pmod{6}$。设 $c=6k$，条件 $c\\equiv 1 \\pmod{5}$ 得到 $6k\\equiv 1 \\pmod{5}$，即 $k\\equiv 1 \\pmod{5}$。最小正解是 $k=1$，因此 $c=6$。\n\n因此最小的 $n$ 是\n$$\nn=2^{15}\\cdot 3^{10}\\cdot 5^{6}.\n$$\n验证：\n- $n/2$ 的指数为 $14,10,6$，均为偶数，所以它是一个平方数。\n- $n/3$ 的指数为 $15,9,6$，均为 $3$ 的倍数，所以它是一个立方数。\n- $n/5$ 的指数为 $15,10,5$，均为 $5$ 的倍数，所以它是一个五次方数。\n\n因此，$n=2^{15}3^{10}5^{6}$ 是满足所有条件的最小值。", "answer": "$$\\boxed{2^{15}\\cdot 3^{10}\\cdot 5^{6}}$$", "id": "1831862"}, {"introduction": "在掌握了如何处理单个整数的素数指数后，本题将我们的关注点转移到对满足特定数论属性的整数对进行计数。核心任务是求解满足最小公倍数 ($\\operatorname{lcm}$) 条件的有序整数对的数量，这完美地体现了算术基本定理如何让我们将一个复杂问题分解为针对每个素数的独立子问题。这种“逐个素数解决”的策略是数论中一种极其强大的思想。[@problem_id:1831874]", "problem": "设 $N$ 是一个正整数，其唯一的素因数分解为 $N = p_1^{k_1} p_2^{k_2} \\cdots p_m^{k_m}$，其中 $p_1, p_2, \\ldots, p_m$ 是不同的素数，且 $k_1, k_2, \\ldots, k_m$ 是正整数指数。\n\n求满足 $a$ 和 $b$ 的最小公倍数等于 $N$ 的有序正整数对 $(a, b)$ 的数量公式。请用指数 $k_1, k_2, \\ldots, k_m$ 表示你的答案。", "solution": "设 $N$ 的素因数分解为 $N=\\prod_{i=1}^{m} p_{i}^{k_{i}}$，其中 $p_{i}$ 是不同的素数，$k_{i}$ 是正整数。对任意正整数 $a$ 和 $b$，可写作\n$$\na=\\prod_{i=1}^{m} p_{i}^{x_{i}},\\quad b=\\prod_{i=1}^{m} p_{i}^{y_{i}},\n$$\n其中 $x_{i}=v_{p_{i}}(a)$ 和 $y_{i}=v_{p_{i}}(b)$ 分别是 $a$ 和 $b$ 的 $p_i$-adic 估值。如果 $q$ 是 $\\{p_{1},\\ldots,p_{m}\\}$ 之外的任意素数，则 $v_{q}(N)=0$，且条件 $\\operatorname{lcm}(a,b)=N$ 迫使 $v_{q}(a)=v_{q}(b)=0$，因为否则 $\\operatorname{lcm}(a,b)$ 会含有素因子 $q$。\n\n对每个 $i$，最小公倍数满足\n$$\nv_{p_{i}}(\\operatorname{lcm}(a,b))=\\max\\{v_{p_{i}}(a),v_{p_{i}}(b)\\}=\\max\\{x_{i},y_{i}\\}.\n$$\n因此，条件 $\\operatorname{lcm}(a,b)=N$ 等价于对每个 $i$ 的以下约束系统：\n$$\n\\max\\{x_{i},y_{i}\\}=k_{i},\\quad \\text{其中 } x_{i} \\ge 0, y_i \\ge 0.\n$$\n由于 $\\max\\{x_i, y_i\\}=k_i$，指数 $x_i$ 和 $y_i$ 自动满足 $0 \\le x_i \\le k_i$ 和 $0 \\le y_i \\le k_i$。\n\n对于一个固定的 $i$，我们来计数满足 $\\max\\{x_{i},y_{i}\\}=k_{i}$ 的有序整数对 $(x_{i},y_{i})$ 的数量。\n所有可能的对 $(x_i, y_i)$ 且 $0 \\le x_i, y_i \\le k_i$ 的总数是 $(k_i+1)(k_i+1) = (k_i+1)^2$。\n其中不满足 $\\max\\{x_i, y_i\\}=k_i$ 的对是那些 $x_i  k_i$ 且 $y_i  k_i$ 的对，即 $0 \\le x_i, y_i \\le k_i-1$。这些对的数量是 $k_i \\cdot k_i = k_i^2$。\n因此，满足条件的对的数量是总数减去不满足条件的数量：\n$$\n(k_{i}+1)^{2}-k_{i}^{2} = (k_i^2 + 2k_i + 1) - k_i^2 = 2k_{i}+1.\n$$\n等价地，我们可以直接计数：当 $x_{i}=k_{i}$ 时，$y_{i}$ 可以是 $\\{0, 1, \\ldots, k_{i}\\}$ 中的任意值，有 $k_{i}+1$ 种选择；当 $y_{i}=k_{i}$ 时，$x_{i}$ 可以是 $\\{0, 1, \\ldots, k_{i}\\}$ 中的任意值，有 $k_{i}+1$ 种选择。由于 $(k_i, k_i)$ 被计算了两次，总数为 $(k_i+1) + (k_i+1) - 1 = 2k_i+1$。\n\n由于对不同素数 $p_{i}$ 的指数对 $(x_i, y_i)$ 的选择是相互独立的，根据乘法原理，满足 $\\operatorname{lcm}(a,b)=N$ 的有序对 $(a,b)$ 的总数是所有 $i$ 的这些计数的乘积：\n$$\n\\prod_{i=1}^{m} (2k_{i}+1).\n$$", "answer": "$$\\boxed{\\prod_{i=1}^{m} \\left(2k_{i}+1\\right)}$$", "id": "1831874"}, {"introduction": "这个练习将我们带入算术基本定理更深远的理论领域。它探讨了 $p$-adic 赋值 ($v_p$)、阶乘以及 $p$ 进制表示下的数字和之间的深刻联系，其核心在于著名的勒让德公式 (Legendre's Formula)。通过推导一个关于阶乘比率的 $p$-adic 赋值的精确公式，您将熟练运用这一强大的分析工具。[@problem_id:3026201]", "problem": "设 $p$ 是一个素数，$a$ 和 $b$ 是正整数。根据算术基本定理，每个正整数都有唯一的素数幂乘积分解。对于一个固定的素数 $p$，这定义了 $p$-adic 赋值 $v_p(n)$，其值为 $n$ 的素因数分解中 $p$ 的指数。令 $s_p(n)$ 表示 $n$ 在 $p$ 进制下各位数字之和。\n\n仅从这些定义和素因数分解的唯一性出发，推导出一个用 $p$、$a$、$b$ 以及 $p$ 进制数字和 $s_p(a)$、$s_p(b)$、$s_p(ab)$ 表示的 $v_p\\left(\\frac{(ab)!}{a!\\,b!}\\right)$ 的闭式表达式。\n\n你的最终答案必须是仅用 $p$、$a$、$b$、$s_p(ab)$、$s_p(a)$ 和 $s_p(b)$ 表示的 $v_p\\!\\left(\\frac{(ab)!}{a!\\,b!}\\right)$ 的单个闭式表达式。不需要近似或四舍五入。", "solution": "问题要求给出有理数 $\\frac{(ab)!}{a!\\,b!}$ 的 $p$-adic 赋值 $v_p\\left(\\frac{(ab)!}{a!\\,b!}\\right)$ 的一个闭式表达式。$p$-adic 赋值 $v_p(q)$ 对于任何有理数 $q$ 都是明确定义的。\n\n首先，我们建立一个阶乘的 $p$-adic 赋值公式。勒让德公式 (Legendre's formula) 给出：\n$$v_p(n!) = \\sum_{k=1}^{\\infty} \\left\\lfloor \\frac{n}{p^k} \\right\\rfloor$$\n为了将其与 $p$ 进制下的数字和 $s_p(n)$ 联系起来，我们将 $n$ 表示为 $p$ 进制：$n = \\sum_{i=0}^m d_i p^i$，其中 $0 \\le d_i  p$。各位数字之和为 $s_p(n) = \\sum_{i=0}^m d_i$。\n利用 $n$ 的 $p$ 进制展开式，我们可以重写勒让德公式中的每一项：\n$$\n\\left\\lfloor \\frac{n}{p^k} \\right\\rfloor = \\left\\lfloor \\sum_{i=0}^m d_i p^{i-k} \\right\\rfloor = \\sum_{i=k}^m d_i p^{i-k}\n$$\n将此代入勒让德公式：\n$$\nv_p(n!) = \\sum_{k=1}^{\\infty} \\sum_{i=k}^m d_i p^{i-k}\n$$\n改变求和顺序：\n$$\nv_p(n!) = \\sum_{i=1}^m d_i \\sum_{k=1}^i p^{i-k} = \\sum_{i=1}^m d_i (1 + p + \\dots + p^{i-1}) = \\sum_{i=1}^m d_i \\frac{p^i - 1}{p-1}\n$$\n注意，求和可以从 $i=0$ 开始，因为当 $i=0$ 时，项为零。\n$$\nv_p(n!) = \\frac{1}{p-1} \\sum_{i=0}^m d_i(p^i - 1) = \\frac{1}{p-1} \\left( \\sum_{i=0}^m d_i p^i - \\sum_{i=0}^m d_i \\right) = \\frac{n - s_p(n)}{p-1}\n$$\n这个公式将 $v_p(n!)$ 与 $s_p(n)$ 联系起来。\n\n现在，我们可以利用 $v_p$ 的对数性质来计算给定表达式的 $p$-adic 赋值：\n$$\nv_p\\left(\\frac{(ab)!}{a!\\,b!}\\right) = v_p((ab)!) - v_p(a!) - v_p(b!)\n$$\n将公式 $v_p(k!) = \\frac{k - s_p(k)}{p-1}$ 应用于每一项：\n$$\nv_p((ab)!) = \\frac{ab - s_p(ab)}{p-1}\n$$\n$$\nv_p(a!) = \\frac{a - s_p(a)}{p-1}\n$$\n$$\nv_p(b!) = \\frac{b - s_p(b)}{p-1}\n$$\n将这些代回 $v_p\\left(\\frac{(ab)!}{a!\\,b!}\\right)$ 的表达式中：\n$$\nv_p\\left(\\frac{(ab)!}{a!\\,b!}\\right) = \\frac{ab - s_p(ab)}{p-1} - \\frac{a - s_p(a)}{p-1} - \\frac{b - s_p(b)}{p-1}\n$$\n$$\nv_p\\left(\\frac{(ab)!}{a!\\,b!}\\right) = \\frac{1}{p-1} \\left( (ab - s_p(ab)) - (a - s_p(a)) - (b - s_p(b)) \\right)\n$$\n$$\nv_p\\left(\\frac{(ab)!}{a!\\,b!}\\right) = \\frac{ab - a - b - s_p(ab) + s_p(a) + s_p(b)}{p-1}\n$$\n这就是所求的闭式表达式。", "answer": "$$\n\\boxed{\\frac{ab - a - b + s_p(a) + s_p(b) - s_p(ab)}{p-1}}\n$$", "id": "3026201"}]}