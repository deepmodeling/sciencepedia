{"hands_on_practices": [{"introduction": "我们从一些基础计算开始，以此来巩固理论知识。通过处理几个小判别式的实二次域，我们将亲手确定整数环，并通过求解相应的佩尔方程来找到基本单位。这个练习 [@problem_id:3030811] 不仅能够强化我们对基本定义的理解，也为我们处理更复杂的情形打下了坚实的基础。", "problem": "设 $K_{d} = \\mathbb{Q}(\\sqrt{d})$，其中 $d \\in \\{2,3,5,6,7\\}$。对于每个 $d$，从基本原理出发，利用二次整数环关于 $d \\bmod 4$ 的分类，确定其整数环 $\\mathcal{O}_{K_{d}}$，并通过援引 Dirichlet 单位定理（DUT）来证明 $\\mathcal{O}_{K_{d}}^{\\times}$ 中的单位构成一个秩为1的阿贝尔群。然后，对每个 $K_{d}$，找到一个基本单位 $\\varepsilon_{d} \\in \\mathcal{O}_{K_{d}}^{\\times}$（满足 $\\varepsilon_{d} > 1$），它生成 $\\mathcal{O}_{K_{d}}^{\\times}$ 的自由部分。明确解释范数方程 $N_{K_{d}/\\mathbb{Q}}(x + y\\sqrt{d}) = x^{2} - d y^{2}$ 如何将此确定过程与 Pell 型方程联系起来，并对每个 $d$ 验证 $N_{K_{d}/\\mathbb{Q}}(\\varepsilon_{d}) \\in \\{1,-1\\}$。将 $K_{d}$ 的调节子（regulator） $R_{d}$ 定义为所选基本单位的自然对数，即 $R_{d} = \\ln(\\varepsilon_{d})$，并对每个 $d \\in \\{2,3,5,6,7\\}$ 计算 $R_{d}$。\n\n作为一个单一的合并输出，将调节子之和\n$$S \\;=\\; R_{2} + R_{3} + R_{5} + R_{6} + R_{7}$$\n表示为一个无需数值近似的闭式解析表达式。无需四舍五入。[@problem_id:47]", "solution": "问题要求确定实二次域 $K_d = \\mathbb{Q}(\\sqrt{d})$（其中 $d \\in \\{2, 3, 5, 6, 7\\}$）的各种性质，最终计算它们的调节子之和。解答过程分三部分：首先，陈述所需的通用理论；其次，对每个 $d$ 值进行案例分析；第三，计算总和。\n\n首先，我们建立必要的理论框架。\n对于二次数域 $K = \\mathbb{Q}(\\sqrt{d})$，其中 $d$ 是一个无平方因子整数，其整数环 $\\mathcal{O}_K$ 众所周知地取决于 $d$ 模 4 的同余。具体来说：\n1. 如果 $d \\equiv 2$ 或 $d \\equiv 3 \\pmod 4$，则整数环为 $\\mathcal{O}_K = \\mathbb{Z}[\\sqrt{d}] = \\{x + y\\sqrt{d} \\mid x, y \\in \\mathbb{Z}\\}$。\n2. 如果 $d \\equiv 1 \\pmod 4$，则整数环为 $\\mathcal{O}_K = \\mathbb{Z}[\\frac{1+\\sqrt{d}}{2}] = \\{x + y\\frac{1+\\sqrt{d}}{2} \\mid x, y \\in \\mathbb{Z}\\}$。此环中的一个元素也可以写成 $\\frac{a+b\\sqrt{d}}{2}$ 的形式，其中 $a, b \\in \\mathbb{Z}$ 具有相同的奇偶性，即 $a \\equiv b \\pmod 2$。\n\nDirichlet 单位定理（DUT）描述了任意数域 $K$ 的整数环中单位群 $\\mathcal{O}_K^\\times$ 的结构。该定理指出，$\\mathcal{O}_K^\\times$ 是一个有限生成阿贝尔群，同构于 $\\mu(K) \\times \\mathbb{Z}^r$，其中 $\\mu(K)$ 是 $K$ 中的有限单位根群，秩 $r$ 由 $r = r_1 + r_2 - 1$ 给出。此处，$r_1$ 是 $K$ 的实嵌入的数量，$r_2$ 是 $K$ 的共轭复嵌入对的数量。对于一个实二次域 $K_d = \\mathbb{Q}(\\sqrt{d})$（其中 $d > 1$），存在两个实嵌入（恒等映射和共轭映射 $\\sqrt{d} \\mapsto -\\sqrt{d}$），因此 $r_1=2$。不存在非实嵌入，因此 $r_2=0$。因此，单位群的秩为 $r = 2 + 0 - 1 = 1$。实数域中唯一的单位根是 $\\{1, -1\\}$，所以 $\\mu(K_d) = \\{\\pm 1\\}$。因此，对于任何实二次域，单位群的形式为 $\\mathcal{O}_{K_d}^\\times \\cong \\{\\pm 1\\} \\times \\mathbb{Z}$。它是一个秩为1的阿贝尔群。该群的自由部分由一个单一的单位生成，称为基本单位 $\\varepsilon_d$，我们可以选择其大于1。所有其他单位则具有 $\\pm \\varepsilon_d^n$ 的形式，其中 $n \\in \\mathbb{Z}$。\n\n一个元素 $\\alpha \\in \\mathcal{O}_{K_d}$ 是一个单位，当且仅当其范数 $N_{K_d/\\mathbb{Q}}(\\alpha)$ 是 $\\mathbb{Z}$ 中的一个单位，这意味着 $N_{K_d/\\mathbb{Q}}(\\alpha) = \\pm 1$。\n- 如果 $\\mathcal{O}_{K_d} = \\mathbb{Z}[\\sqrt{d}]$，一个元素 $\\alpha = x+y\\sqrt{d}$（$x,y \\in \\mathbb{Z}$）是一个单位，如果 $N(\\alpha) = x^2 - dy^2 = \\pm 1$。这是经典的 Pell 方程。\n- 如果 $\\mathcal{O}_{K_d} = \\mathbb{Z}[\\frac{1+\\sqrt{d}}{2}]$，一个元素 $\\alpha = \\frac{a+b\\sqrt{d}}{2}$（$a,b \\in \\mathbb{Z}$, $a \\equiv b \\pmod 2$）是一个单位，如果 $N(\\alpha) = \\frac{a^2-db^2}{4} = \\pm 1$，这等价于 Pell 型方程 $a^2 - db^2 = \\pm 4$。\n\n基本单位 $\\varepsilon_d > 1$ 是大于1的最小单位。这对应于找到具有最小正整数 $x$ 和 $y$（或 $a$ 和 $b$）的解，该解产生一个大于1的值。\n\n我们现在分析 $d \\in \\{2, 3, 5, 6, 7\\}$ 的每种情况。\n\n情况 $d=2$：\n由于 $2 \\equiv 2 \\pmod 4$，整数环为 $\\mathcal{O}_{K_2} = \\mathbb{Z}[\\sqrt{2}]$。我们寻找 Pell 方程 $x^2 - 2y^2 = \\pm 1$ 的整数解。通过测试小的正整数 $y$ 值，我们发现当 $y=1$ 时，方程为 $x^2 - 2 = -1$，这给出 $x^2 = 1$，所以 $x=1$。这给出了解决方案 $(x,y)=(1,1)$。相应的单位是 $\\varepsilon_2 = 1+\\sqrt{2}$。由于 $1+\\sqrt{2} > 1$，并且它来自最小正整数解，因此它是基本单位。其范数为 $N_{K_2/\\mathbb{Q}}(1+\\sqrt{2}) = 1^2 - 2(1^2) = 1-2 = -1$。调节子为 $R_2 = \\ln(\\varepsilon_2) = \\ln(1+\\sqrt{2})$。\n\n情况 $d=3$：\n由于 $3 \\equiv 3 \\pmod 4$，整数环为 $\\mathcal{O}_{K_3} = \\mathbb{Z}[\\sqrt{3}]$。我们寻找 $x^2 - 3y^2 = \\pm 1$ 的整数解。当 $y=1$ 时，$x^2 - 3 = 1$ 给出 $x^2=4$，所以 $x=2$。方程 $x^2 - 3 = -1$ 给出 $x^2=2$，没有整数解。最小的正整数解是 $(x,y)=(2,1)$。相应的单位是 $\\varepsilon_3 = 2+\\sqrt{3}$。这是基本单位。其范数为 $N_{K_3/\\mathbb{Q}}(2+\\sqrt{3}) = 2^2 - 3(1^2) = 4-3 = 1$。调节子为 $R_3 = \\ln(\\varepsilon_3) = \\ln(2+\\sqrt{3})$。\n\n情况 $d=5$：\n由于 $5 \\equiv 1 \\pmod 4$，整数环为 $\\mathcal{O}_{K_5} = \\mathbb{Z}[\\frac{1+\\sqrt{5}}{2}]$。我们寻找 $a^2 - 5b^2 = \\pm 4$ 的整数解，其中 $a \\equiv b \\pmod 2$。当 $b=1$ 时，$a$ 必须是奇数。方程 $a^2-5(1)^2=-4$ 给出 $a^2=1$，所以 $a=1$。数对 $(a,b)=(1,1)$ 满足奇偶性条件 $1 \\equiv 1 \\pmod 2$。这是 $a,b > 0$ 的最小解。相应的单位是 $\\varepsilon_5 = \\frac{1+\\sqrt{5}}{2}$。由于 $\\varepsilon_5 \\approx 1.618 > 1$，这是基本单位。其范数为 $N_{K_5/\\mathbb{Q}}(\\frac{1+\\sqrt{5}}{2}) = \\frac{1^2-5(1^2)}{4} = \\frac{1-5}{4} = -1$。调节子为 $R_5 = \\ln(\\varepsilon_5) = \\ln(\\frac{1+\\sqrt{5}}{2})$。\n\n情况 $d=6$：\n由于 $6 \\equiv 2 \\pmod 4$，整数环为 $\\mathcal{O}_{K_6} = \\mathbb{Z}[\\sqrt{6}]$。我们寻找 $x^2 - 6y^2 = \\pm 1$ 的整数解。当 $y=1$ 时，$x^2-6=\\pm 1$ 得到 $x^2=7$ 或 $x^2=5$，无整数解。当 $y=2$ 时，$x^2-6(4)=1$ 给出 $x^2=25$，所以 $x=5$。这给出了解决方案 $(x,y)=(5,2)$，这是最小的正整数解。基本单位是 $\\varepsilon_6 = 5+2\\sqrt{6}$。其范数为 $N_{K_6/\\mathbb{Q}}(5+2\\sqrt{6}) = 5^2 - 6(2^2) = 25 - 24 = 1$。调节子为 $R_6 = \\ln(\\varepsilon_6) = \\ln(5+2\\sqrt{6})$。\n\n情况 $d=7$：\n由于 $7 \\equiv 3 \\pmod 4$，整数环为 $\\mathcal{O}_{K_7} = \\mathbb{Z}[\\sqrt{7}]$。我们寻找 $x^2 - 7y^2 = \\pm 1$ 的整数解。当 $y=1$ 时，$x^2-7=\\pm 1$ 得到 $x^2=8$ 或 $x^2=6$。当 $y=2$ 时，$x^2-7(4)=\\pm 1$ 得到 $x^2=29$ 或 $x^2=27$。当 $y=3$ 时，$x^2-7(9)=1$ 得到 $x^2=64$，所以 $x=8$。这给出了最小的正整数解 $(x,y)=(8,3)$。基本单位是 $\\varepsilon_7 = 8+3\\sqrt{7}$。其范数为 $N_{K_7/\\mathbb{Q}}(8+3\\sqrt{7}) = 8^2 - 7(3^2) = 64-63=1$。调节子为 $R_7 = \\ln(\\varepsilon_7) = \\ln(8+3\\sqrt{7})$。\n\n最后，我们计算调节子之和 $S = R_2 + R_3 + R_5 + R_6 + R_7$。\n$$S = \\ln(1+\\sqrt{2}) + \\ln(2+\\sqrt{3}) + \\ln\\left(\\frac{1+\\sqrt{5}}{2}\\right) + \\ln(5+2\\sqrt{6}) + \\ln(8+3\\sqrt{7})$$\n使用对数性质 $\\ln a + \\ln b = \\ln(ab)$，我们可以将这个和合并成一个单一的乘积的对数。\n$$S = \\ln\\left( (1+\\sqrt{2}) (2+\\sqrt{3}) \\left(\\frac{1+\\sqrt{5}}{2}\\right) (5+2\\sqrt{6}) (8+3\\sqrt{7}) \\right)$$\n这是一个满足要求的、关于该和的闭式解析表达式。", "answer": "$$\\boxed{\\ln\\left( (1+\\sqrt{2}) (2+\\sqrt{3}) \\left(\\frac{1+\\sqrt{5}}{2}\\right) (5+2\\sqrt{6}) (8+3\\sqrt{7}) \\right)}$$", "id": "3030811"}, {"introduction": "当判别式增大时，通过试错法寻找佩尔方程的解变得不切实际。这时，我们需要一个更系统化的算法。这个练习 [@problem_id:3030720] 将指导我们使用连分数展开这一强大工具，来计算一个较大判别式（$d=94$）二次域中的基本单位，展示了从理论到高效计算的跨越。", "problem": "设 $K = \\mathbb{Q}(\\sqrt{94})$ 为一个实二次域，并令 $\\mathcal{O}_{K}$ 表示其整数环。利用 $94 \\equiv 2 \\pmod{4}$ 这一事实，我们忆及 $\\mathcal{O}_{K} = \\mathbb{Z}[\\sqrt{94}]$。对于一个元素 $\\alpha = x + y\\sqrt{94} \\in \\mathcal{O}_{K}$，其范数 $N_{K/\\mathbb{Q}}(\\alpha)$ 定义为 $N_{K/\\mathbb{Q}}(x + y\\sqrt{94}) = (x + y\\sqrt{94})(x - y\\sqrt{94}) = x^{2} - 94 y^{2}$。一个单位 $\\varepsilon \\in \\mathcal{O}_{K}^{\\times}$ 的范数为 $N_{K/\\mathbb{Q}}(\\varepsilon) = \\pm 1$，且单位群由一个唯一的、大于1的基本单位 $\\varepsilon > 1$ 生成（不计符号）。\n\n从这些定义和连分数（CF）的标准性质出发，逐步计算 $\\sqrt{94}$ 的连分数展开，通过连分数的渐进分数确定佩尔方程 $x^{2} - 94 y^{2} = 1$ 的最小正整数解 $(x,y)$，并由此得到基本单位 $\\varepsilon = x + y\\sqrt{94} \\in \\mathcal{O}_{K}^{\\times}$。然后，通过以下方式验证 $\\varepsilon$ 的最小性：\n1. 确定 $N_{K/\\mathbb{Q}}(\\varepsilon) = 1$。\n2. 利用 $\\sqrt{94}$ 的连分数周期长度的奇偶性，排除由 $x^{2} - 94 y^{2} = -1$ 的解产生的更小的单位的存在性。\n3. 论证 $(x,y)$ 是对应于佩尔方程 $x^{2} - 94 y^{2} = 1$ 的最小正解。\n\n请以 $\\varepsilon$ 的精确封闭形式表达式作为最终答案。不需要四舍五入，最终表达式中不应使用任何小数近似值。", "solution": "整数环 $\\mathcal{O}_K = \\mathbb{Z}[\\sqrt{94}]$ 的基本单位 $\\varepsilon > 1$ 具有形式 $\\varepsilon = x + y\\sqrt{94}$，其中 $(x, y)$ 是佩尔型方程 $x^2 - 94y^2 = \\pm 1$ 的最小正整数解。该解可以通过 $\\sqrt{94}$ 的连分数展开找到。\n\n**1. $\\sqrt{94}$ 的连分数展开**\n\n我们使用计算 $\\sqrt{d}$ 连分数的标准算法。设 $\\xi_0 = \\sqrt{94}$。我们如下定义三个序列 $a_i, m_i, d_i$：\n$a_0 = \\lfloor\\sqrt{94}\\rfloor$。因为 $9^2=81$ 且 $10^2=100$，所以我们有 $a_0 = 9$。\n递推关系为：\n$m_{i+1} = d_i a_i - m_i$\n$d_{i+1} = \\frac{94 - m_{i+1}^2}{d_i}$\n$a_{i+1} = \\lfloor \\frac{a_0 + m_{i+1}}{d_{i+1}} \\rfloor$\n初始值为 $m_0 = 0$ 和 $d_0 = 1$。\n\n-   $i=0$： $a_0 = 9$。\n    $m_1 = d_0 a_0 - m_0 = 1 \\cdot 9 - 0 = 9$。\n    $d_1 = \\frac{94 - 9^2}{1} = 13$。\n    $a_1 = \\lfloor \\frac{9+9}{13} \\rfloor = \\lfloor \\frac{18}{13} \\rfloor = 1$。\n-   $i=1$：\n    $m_2 = d_1 a_1 - m_1 = 13 \\cdot 1 - 9 = 4$。\n    $d_2 = \\frac{94 - 4^2}{13} = \\frac{78}{13} = 6$。\n    $a_2 = \\lfloor \\frac{9+4}{6} \\rfloor = \\lfloor \\frac{13}{6} \\rfloor = 2$。\n-   $i=2$：\n    $m_3 = d_2 a_2 - m_2 = 6 \\cdot 2 - 4 = 8$。\n    $d_3 = \\frac{94 - 8^2}{6} = \\frac{30}{6} = 5$。\n    $a_3 = \\lfloor \\frac{9+8}{5} \\rfloor = \\lfloor \\frac{17}{5} \\rfloor = 3$。\n-   $i=3$：\n    $m_4 = d_3 a_3 - m_3 = 5 \\cdot 3 - 8 = 7$。\n    $d_4 = \\frac{94 - 7^2}{5} = \\frac{45}{5} = 9$。\n    $a_4 = \\lfloor \\frac{9+7}{9} \\rfloor = \\lfloor \\frac{16}{9} \\rfloor = 1$。\n-   $i=4$：\n    $m_5 = d_4 a_4 - m_4 = 9 \\cdot 1 - 7 = 2$。\n    $d_5 = \\frac{94 - 2^2}{9} = \\frac{90}{9} = 10$。\n    $a_5 = \\lfloor \\frac{9+2}{10} \\rfloor = \\lfloor \\frac{11}{10} \\rfloor = 1$。\n-   $i=5$：\n    $m_6 = d_5 a_5 - m_5 = 10 \\cdot 1 - 2 = 8$。\n    $d_6 = \\frac{94 - 8^2}{10} = \\frac{30}{10} = 3$。\n    $a_6 = \\lfloor \\frac{9+8}{3} \\rfloor = \\lfloor \\frac{17}{3} \\rfloor = 5$。\n-   $i=6$：\n    $m_7 = d_6 a_6 - m_6 = 3 \\cdot 5 - 8 = 7$。\n    $d_7 = \\frac{94 - 7^2}{3} = \\frac{45}{3} = 15$。\n    $a_7 = \\lfloor \\frac{9+7}{15} \\rfloor = \\lfloor \\frac{16}{15} \\rfloor = 1$。\n-   $i=7$：\n    $m_8 = d_7 a_7 - m_7 = 15 \\cdot 1 - 7 = 8$。\n    $d_8 = \\frac{94 - 8^2}{15} = \\frac{30}{15} = 2$。\n    $a_8 = \\lfloor \\frac{9+8}{2} \\rfloor = \\lfloor \\frac{17}{2} \\rfloor = 8$。\n-   $i=15$：\n    $m_{16} = d_{15} a_{15} - m_{15} = 13 \\cdot 1 - 4 = 9$。\n    $d_{16} = \\frac{94 - 9^2}{13} = \\frac{13}{13} = 1$。\n    $a_{16} = \\lfloor \\frac{9+9}{1} \\rfloor = 18 = 2a_0$。\n从这里开始过程重复。周期长度为 $r=16$。\n连分数为 $\\sqrt{94} = [9; \\overline{1, 2, 3, 1, 1, 5, 1, 8, 1, 5, 1, 1, 3, 2, 1, 18}]$。\n\n**2. 从渐进分数求解佩尔方程**\n\n$x^2 - 94y^2=1$ 的基本解由 $(x,y) = (p_{r-1}, q_{r-1})$ 给出，其中 $p_{r-1}/q_{r-1}$ 是 $\\sqrt{94}$ 连分数的第 $(r-1)$ 个渐进分数，而 $r$ 是周期长度。这里 $r=16$，因此我们需要计算第 15 个渐进分数 $p_{15}/q_{15}$。\n我们使用递推关系 $p_n = a_n p_{n-1} + p_{n-2}$ 和 $q_n = a_n q_{n-1} + q_{n-2}$，其中 $p_{-1}=1, p_{-2}=0$ 且 $q_{-1}=0, q_{-2}=1$。\n-   $a_0=9: p_0=9, q_0=1$。\n-   $a_1=1: p_1=10, q_1=1$。\n-   $a_2=2: p_2=29, q_2=3$。\n-   $a_3=3: p_3=97, q_3=10$。\n-   $a_4=1: p_4=126, q_4=13$。\n-   $a_5=1: p_5=223, q_5=23$。\n-   $a_6=5: p_6=1241, q_6=128$。\n-   $a_7=1: p_7=1464, q_7=151$。\n-   $a_8=8: p_8=12953, q_8=1336$。\n-   $a_9=1: p_9=14417, q_9=1487$。\n-   $a_{10}=5: p_{10}=85038, q_{10}=8771$。\n-   $a_{11}=1: p_{11}=99455, q_{11}=10258$。\n-   $a_{12}=1: p_{12}=184493, q_{12}=19029$。\n-   $a_{13}=3: p_{13}=652934, q_{13}=67345$。\n-   $a_{14}=2: p_{14}=1490361, q_{14}=153719$。\n-   $a_{15}=1: p_{15}=2143295, q_{15}=221064$。\n\n$x^2 - 94y^2=1$ 的最小正整数解是 $(x,y) = (p_{15}, q_{15}) = (2143295, 221064)$。\n\n**3. 基本单位**\n\n基本单位 $\\varepsilon > 1$ 是 $\\varepsilon = x + y\\sqrt{94}$。代入 $x$ 和 $y$ 的值：\n$$ \\varepsilon = 2143295 + 221064\\sqrt{94} $$\n\n**4. 最小性验证**\n\n问题要求对该单位 $\\varepsilon$ 的最小性进行三部分验证。\n\n1.  **$\\varepsilon$ 的范数**：我们必须验证 $N_{K/\\mathbb{Q}}(\\varepsilon) = x^2 - 94y^2 = 1$。\n    设 $x=2143295$ 且 $y=221064$。\n    $$x^2 = 2143295^2 = 4593708155425$$\n    $$y^2 = 221064^2 = 48869235696$$\n    $$94y^2 = 94 \\times 48869235696 = 4593708155424$$\n    $$x^2 - 94y^2 = 4593708155425 - 4593708155424 = 1$$\n    因此，确认了 $N_{K/\\mathbb{Q}}(\\varepsilon) = 1$。这也遵循连分数理论，该理论指出 $p_{r-1}^2 - d q_{r-1}^2 = (-1)^r$。对于 $d=94$，周期为 $r=16$（偶数），所以 $p_{15}^2 - 94 q_{15}^2 = (-1)^{16} = 1$。\n\n2.  **排除范数为 $-1$ 的单位**：范数为 $-1$ 的单位将对应于佩尔型方程 $x^2 - 94y^2 = -1$ 的一个整数解。该方程存在解的充要条件是 $\\sqrt{94}$ 的连分数周期长度 $r$ 为奇数。我们发现周期长度为 $r=16$，是一个偶数。因此，方程 $x^2 - 94y^2 = -1$ 没有整数解。这意味着在 $\\mathcal{O}_K$ 中不存在范数为 $-1$ 的单位，因此不可能从此类方程产生比 $\\varepsilon$ 更小的单位。\n\n3.  **解 $(x,y)$ 的最小性**：基本单位对应于 $x^2 - 94y^2 = \\pm 1$ 的最小正整数解 $(x_1, y_1)$。这对联立方程的解由 $\\sqrt{94}$ 的渐进分数 $p_n/q_n$ 给出。当 $p_n^2 - 94q_n^2 = \\pm 1$ 时，就会出现一个解 $(p_n, q_n)$。这要求 $d_{n+1}=1$。回顾我们对连分数项的计算，第一次出现 $d_i=1$ 是在 $i=16$ 时。这对应于索引为 $n=i-1=15$ 的渐进分数。由于这是第一次出现，$(p_{15}, q_{15})$ 提供了 $x^2 - 94y^2 = \\pm 1$ 的最小正整数解。正如在第2点中所确立的，范数必须是 $1$。\n因此，$(x,y) = (2143295, 221064)$ 确实是最小正解。\n\n这三点证实了 $\\varepsilon = 2143295 + 221064\\sqrt{94}$ 是 $\\mathbb{Q}(\\sqrt{94})$ 的基本单位。", "answer": "$$\n\\boxed{2143295 + 221064\\sqrt{94}}\n$$", "id": "3030720"}, {"introduction": "深入理解单位群的结构，不仅要看极大整环（maximal order），也要考察非极大整环（non-maximal orders）的情况。这个练习 [@problem_id:3030758] 探讨了在从整数环 $\\mathcal{O}_K$ 过渡到其子环 $\\mathcal{O}$ 时，单位群的结构会如何变化。通过这个例子，我们可以清晰地看到，某些关键性质（如范数为 $-1$ 的单位的存在性）是如何依赖于我们所研究的环的。", "problem": "设 $K = \\mathbb{Q}(\\sqrt{2})$ 是一个实二次域，并设 $\\mathcal{O}_{K} = \\mathbb{Z}[\\sqrt{2}]$ 表示其整数环。对于一个导子为 $f$ 的非极大整序，定义整序 $\\mathcal{O} = \\mathbb{Z} + f \\mathcal{O}_{K} \\subset \\mathcal{O}_{K}$。在本题中，取 $f = 2$，因此 $\\mathcal{O} = \\mathbb{Z} + 2 \\mathcal{O}_{K} = \\mathbb{Z}[2 \\sqrt{2}]$。对于一个元素 $\\alpha \\in K$，定义域范数 $N_{K/\\mathbb{Q}}(\\alpha)$ 为 $\\alpha$ 与其 Galois 共轭的乘积。\n\n从单位和范数的基本定义出发，当 $D$ 是定义 $K = \\mathbb{Q}(\\sqrt{D})$ 的无平方因子整数时，佩尔型方程 $x^{2} - D y^{2} = \\pm 1$ 蕴含了环 $\\mathcal{O}_{K}$ 中是否存在范数为 $\\pm 1$ 的单位。特别地，一个环中的负佩尔可解性意味着该环中存在一个范数为 $-1$ 的单位。仅使用这些基础事实，并避免使用任何捷径公式。\n\n任务：\n1. 通过明确证明 $\\mathcal{O}_{K}$ 包含一个范数为 $-1$ 的单位，而整序 $\\mathcal{O} = \\mathbb{Z}[2 \\sqrt{2}]$ 不包含任何范数为 $-1$ 的单位，来证明负佩尔可解性在整序和极大整序之间可能不同。\n2. 确定 $\\mathcal{O}_{K}^{\\times}$ 中由实际位于 $\\mathcal{O}$ 内的单位组成的子群，并由此计算确切的指数 $\\left[ \\mathcal{O}_{K}^{\\times} : \\mathcal{O}^{\\times} \\right]$。\n\n将指数 $\\left[ \\mathcal{O}_{K}^{\\times} : \\mathcal{O}^{\\times} \\right]$ 的确切值作为您的最终答案。", "solution": "该问题要求我们研究二次域 $K = \\mathbb{Q}(\\sqrt{2})$ 中的极大整序 $\\mathcal{O}_{K} = \\mathbb{Z}[\\sqrt{2}]$ 和非极大整序 $\\mathcal{O} = \\mathbb{Z}[2\\sqrt{2}]$ 的单位群，然后计算指数 $\\left[ \\mathcal{O}_{K}^{\\times} : \\mathcal{O}^{\\times} \\right]$。\n\n首先，我们规范化结构和定义。域为 $K = \\mathbb{Q}(\\sqrt{2})$。极大整序（整数环）是 $\\mathcal{O}_{K} = \\mathbb{Z}[\\sqrt{2}]$，由形如 $x + y\\sqrt{2}$（其中 $x, y \\in \\mathbb{Z}$）的元素组成。非极大整序被指定为 $\\mathcal{O} = \\mathbb{Z} + 2\\mathcal{O}_{K}$。$\\mathcal{O}$ 中的一个元素形如 $a + 2(x+y\\sqrt{2})$，其中 $a, x, y \\in \\mathbb{Z}$。这可以简化为 $(a+2x) + 2y\\sqrt{2}$。由于任何整数都可以写成 $a+2x$ 的形式，$\\mathcal{O}$ 的一个元素形如 $u + v(2\\sqrt{2})$，其中 $u, v \\in \\mathbb{Z}$。因此，$\\mathcal{O} = \\mathbb{Z}[2\\sqrt{2}]$。\n域 $\\mathbb{Q}(\\sqrt{d})$ 中一个元素 $\\alpha = a + b\\sqrt{d}$ 的范数由 $N(\\alpha) = a^{2} - db^{2}$ 给出。\n整序中的一个元素 $\\alpha$ 是一个单位，如果它的范数是 $\\pm 1$。\n\n**任务1：负佩尔可解性的差异**\n\n我们必须证明 $\\mathcal{O}_{K}$ 包含一个范数为 $-1$ 的单位，而 $\\mathcal{O}$ 不包含。\n\n对于极大整序 $\\mathcal{O}_{K} = \\mathbb{Z}[\\sqrt{2}]$，一个单位必须形如 $\\alpha = x+y\\sqrt{2}$（其中 $x, y \\in \\mathbb{Z}$），使其范数为 $N(\\alpha) = x^{2} - 2y^{2} = \\pm 1$。存在范数为 $-1$ 的单位等价于方程 $x^{2} - 2y^{2} = -1$ 有整数解。\n通过检验，我们可以看到 $x=1, y=1$ 是一个解：$1^{2} - 2(1)^{2} = 1 - 2 = -1$。\n对应的元素是 $\\varepsilon = 1 + 1\\sqrt{2} = 1+\\sqrt{2}$。由于其系数是整数，所以 $\\varepsilon \\in \\mathcal{O}_{K}$，又因为其范数为 $-1$，所以它是 $\\mathcal{O}_{K}$ 中的一个单位。因此，$\\mathcal{O}_{K}$ 具有负佩尔可解性。\n\n对于整序 $\\mathcal{O} = \\mathbb{Z}[2\\sqrt{2}]$，一个元素形如 $\\beta = x+y(2\\sqrt{2}) = x+2y\\sqrt{2}$，其中 $x, y \\in \\mathbb{Z}$。$\\mathcal{O}$ 中的一个单位的范数必须是 $\\pm 1$。$\\beta$ 的范数是 $N(\\beta) = x^{2} - 2(2y)^{2} = x^{2} - 8y^{2}$。\n$\\mathcal{O}$ 中存在范数为 $-1$ 的单位等价于方程 $x^{2} - 8y^{2} = -1$ 有整数解。\n为了分析这个方程，我们可以考虑它模 $8$ 的情况。该方程变为 $x^{2} - 8y^{2} \\equiv -1 \\pmod{8}$，简化为 $x^{2} \\equiv -1 \\pmod{8}$。\n我们检查任意整数 $x$ 的 $x^{2} \\pmod{8}$ 的可能值：\n如果 $x$ 是偶数，$x=2k$，则 $x^{2}=4k^{2}$。如果 $k$ 是偶数，$k=2m$，$x=4m$，$x^{2}=16m^{2} \\equiv 0 \\pmod{8}$。如果 $k$ 是奇数，$k=2m+1$，$x=4m+2$，$x^{2}=(4m+2)^2=16m^2+16m+4 \\equiv 4 \\pmod 8$。\n如果 $x$ 是奇数，$x=2k+1$，则 $x^{2} = 4k^{2}+4k+1 = 4k(k+1)+1$。乘积 $k(k+1)$ 总是偶数，所以 $k(k+1)=2m$。那么 $x^{2} = 4(2m)+1 = 8m+1 \\equiv 1 \\pmod{8}$。\n模 $8$ 的二次剩余集是 $\\{0, 1, 4\\}$。\n方程 $x^{2} \\equiv -1 \\pmod{8}$ 等价于 $x^{2} \\equiv 7 \\pmod{8}$，因为 $-1 \\equiv 7 \\pmod{8}$。\n因为 $7$ 不在集合 $\\{0, 1, 4\\}$ 中，所以不存在整数 $x$ 满足 $x^{2} \\equiv 7 \\pmod{8}$。\n因此，方程 $x^{2} - 8y^{2} = -1$ 没有整数解 $x$ 和 $y$。这证明了整序 $\\mathcal{O}$ 不包含范数为 $-1$ 的单位。\n\n**任务2：子群和指数计算**\n\n我们需要确定 $\\mathcal{O}_{K}$ 中位于 $\\mathcal{O}$ 内的单位所构成的子群，这正是 $\\mathcal{O}$ 的单位群，记为 $\\mathcal{O}^{\\times}$，然后计算指数 $\\left[ \\mathcal{O}_{K}^{\\times} : \\mathcal{O}^{\\times} \\right]$。\n\n根据狄利克雷单位定理，实二次域的单位群结构为 $\\mathcal{O}_{K}^{\\times} = \\{ \\pm \\varepsilon_{K}^{n} \\mid n \\in \\mathbb{Z} \\}$，其中 $\\varepsilon_{K}$ 是基本单位。对于 $K = \\mathbb{Q}(\\sqrt{2})$，基本单位（选择 $>1$）是 $\\varepsilon = 1+\\sqrt{2}$。所以，$\\mathcal{O}_{K}^{\\times} = \\{ \\pm(1+\\sqrt{2})^{n} \\mid n \\in \\mathbb{Z} \\}$。\n\n整序 $\\mathcal{O}$ 的单位群是 $\\mathcal{O}^{\\times} = \\{ \\pm \\eta^{m} \\mid m \\in \\mathbb{Z} \\}$，其中 $\\eta$ 是 $\\mathcal{O}$ 的基本单位。$\\mathcal{O}$ 中的单位范数必须为 $N(\\beta) = x^{2}-8y^{2} = \\pm 1$。我们已经证明了范数不能为 $-1$。因此，我们只需要解 $x^{2}-8y^{2}=1$。这是一个佩尔方程。最小的正整数解 $(x,y)$（其中 $y>0$）是 $(3,1)$，因为 $3^{2} - 8(1)^{2} = 9-8=1$。这对应于基本单位 $\\eta = 3 + 1(2\\sqrt{2}) = 3+2\\sqrt{2}$。因此，$\\mathcal{O}^{\\times} = \\{ \\pm(3+2\\sqrt{2})^{m} \\mid m \\in \\mathbb{Z} \\}$。\n\n群 $\\mathcal{O}^{\\times}$ 是 $\\mathcal{O}_{K}^{\\times}$ 的一个子群。为了找到指数，我们必须用 $\\mathcal{O}_{K}^{\\times}$ 的生成元来表示 $\\mathcal{O}^{\\times}$ 的生成元。我们需要找到一个整数 $k$ 使得 $\\eta = \\varepsilon^{k}$，即 $3+2\\sqrt{2} = (1+\\sqrt{2})^{k}$。\n让我们计算 $\\varepsilon = 1+\\sqrt{2}$ 的前几个幂：\n$\\varepsilon^{1} = 1+\\sqrt{2}$\n$\\varepsilon^{2} = (1+\\sqrt{2})^{2} = 1^{2} + 2(1)(\\sqrt{2}) + (\\sqrt{2})^{2} = 1+2\\sqrt{2}+2 = 3+2\\sqrt{2}$。\n我们看到 $\\eta = \\varepsilon^{2}$。\n\n所以，$\\mathcal{O}$ 的单位群是 $\\mathcal{O}^{\\times} = \\{ \\pm (\\varepsilon^{2})^{m} \\mid m \\in \\mathbb{Z} \\} = \\{ \\pm \\varepsilon^{2m} \\mid m \\in \\mathbb{Z} \\}$。这表明 $\\mathcal{O}^{\\times}$ 由 $\\mathcal{O}_{K}^{\\times}$ 中的单位 $\\pm\\varepsilon^{n}$ 组成，其中指数 $n$ 是一个偶数。\n\n为了计算指数 $\\left[ \\mathcal{O}_{K}^{\\times} : \\mathcal{O}^{\\times} \\right]$，我们可以定义一个群同态 $\\phi: \\mathcal{O}_{K}^{\\times} \\to \\mathbb{Z}/2\\mathbb{Z}$，其定义为\n$$ \\phi(\\pm \\varepsilon^{n}) = n \\pmod{2} $$\n让我们验证这是一个同态。对于任意两个单位 $u_{1} = \\pm\\varepsilon^{n_{1}}$ 和 $u_{2} = \\pm\\varepsilon^{n_{2}}$，它们的乘积是 $u_{1}u_{2} = (\\pm)\\varepsilon^{n_{1}+n_{2}}$。\n$\\phi(u_{1}u_{2}) = (n_{1}+n_{2}) \\pmod{2}$。\n$\\phi(u_{1}) + \\phi(u_{2}) = (n_{1} \\pmod{2}) + (n_{2} \\pmod{2}) = (n_{1}+n_{2}) \\pmod{2}$。\n所以 $\\phi$ 是一个同态。\n\n这个同态的核 $\\ker(\\phi)$ 是满足 $\\phi(u)=0$ 的元素 $u \\in \\mathcal{O}_{K}^{\\times}$ 的集合。\n$\\phi(\\pm\\varepsilon^n) = 0 \\iff n \\pmod{2} = 0$。这意味着 $n$ 必须是一个偶数。\n所以，$\\ker(\\phi) = \\{ \\pm\\varepsilon^{n} \\mid n \\text{ 是偶数} \\} = \\{ \\pm\\varepsilon^{2m} \\mid m \\in \\mathbb{Z} \\}$。这正是群 $\\mathcal{O}^{\\times}$。\n\n同态 $\\phi$ 是满射的，因为对于 $0 \\in \\mathbb{Z}/2\\mathbb{Z}$，我们有 $\\phi(\\varepsilon^{0}) = \\phi(1) = 0$；对于 $1 \\in \\mathbb{Z}/2\\mathbb{Z}$，我们有 $\\phi(\\varepsilon^{1}) = \\phi(\\varepsilon) = 1$。\n\n根据群的第一同构定理，我们有 $\\mathcal{O}_{K}^{\\times} / \\ker(\\phi) \\cong \\text{Im}(\\phi)$。\n代入我们的发现：\n$$ \\mathcal{O}_{K}^{\\times} / \\mathcal{O}^{\\times} \\cong \\mathbb{Z}/2\\mathbb{Z} $$\n子群的指数是商群的阶：\n$$ \\left[ \\mathcal{O}_{K}^{\\times} : \\mathcal{O}^{\\times} \\right] = \\left| \\mathcal{O}_{K}^{\\times} / \\mathcal{O}^{\\times} \\right| = |\\mathbb{Z}/2\\mathbb{Z}| = 2 $$\n两个陪集是 $\\mathcal{O}^{\\times}$（$\\varepsilon$ 的偶数次幂的单位）和 $\\varepsilon \\mathcal{O}^{\\times}$（$\\varepsilon$ 的奇数次幂的单位）。\n\n指数 $\\left[ \\mathcal{O}_{K}^{\\times} : \\mathcal{O}^{\\times} \\right]$ 是 $2$。", "answer": "$$\\boxed{2}$$", "id": "3030758"}]}