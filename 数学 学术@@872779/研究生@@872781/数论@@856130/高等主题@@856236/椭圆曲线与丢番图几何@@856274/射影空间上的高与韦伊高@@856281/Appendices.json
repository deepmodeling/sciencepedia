{"hands_on_practices": [{"introduction": "理解韦伊高度（Weil height）这一核心概念的最佳方式之一，是通过一个具体的计算来亲身体验其定义。这个练习 [@problem_id:3015583] 提供了一个绝佳的机会，它要求我们直接从基本定义出发，计算射影空间中一个点的绝对对数韦伊高度。这个过程将引导我们仔细处理一个数域的所有赋值（包括阿基米德和非阿基米德赋值），从而深刻理解高度函数是如何将来自不同赋值的局部信息合成为一个整体的全局不变量。", "problem": "设 $K = \\mathbb{Q}(\\sqrt{2})$，并令 $\\mathcal{O}_{K}$ 表示 $K$ 的整数环。考虑由齐次坐标给出的点 $P \\in \\mathbb{P}^{1}(K)$：\n$$\nP = [x : y] = [5 + 3\\sqrt{2} : 2 - \\sqrt{2}].\n$$\n假设在 $K$ 上使用标准的绝对值系统，即：对于位于有理素数 $p$ 之上的 $K$ 的每个有限位 $v$，非阿基米德绝对值 $|\\cdot|_{v}$ 被归一化以使乘积公式成立；对于与域嵌入 $\\sigma : K \\hookrightarrow \\mathbb{R}$ 相关联的每个无穷位 $v$，阿基米德绝对值为 $|z|_{\\sigma} = |\\sigma(z)|$，其中 $|\\cdot|$ 是 $\\mathbb{R}$ 上的通常绝对值。使用数域上射影空间的绝对对数Weil高度的基本定义和乘积公式，计算绝对对数Weil高度 $h(P)$ 的精确值。\n\n请用封闭形式的解析表达式给出你的最终答案。不要四舍五入。", "solution": "对于数域 $K$ 上的一个点 $P = [x_0 : x_1 : \\dots : x_n] \\in \\mathbb{P}^{n}(K)$，其绝对对数Weil高度 $h(P)$ 定义为\n$$\nh(P) = \\frac{1}{[K:\\mathbb{Q}]} \\sum_{v \\in M_K} n_v \\log \\max \\{|x_0|_v, |x_1|_v, \\dots, |x_n|_v\\}\n$$\n其中 $M_K$ 是 $K$ 的位集， $|\\cdot|_v$ 是与位 $v$ 相关联的绝对值，而 $n_v = [K_v : \\mathbb{Q}_p]$ 是完备化 $K_v$ 相对于完备化 $\\mathbb{Q}_p$ 的局部次数（其中 $p$ 是 $v$ 之下的 $\\mathbb{Q}$ 的位）。绝对值被归一化，使得对于任何非零 $z \\in K$，乘积公式 $\\prod_{v \\in M_K} |z|_v^{n_v} = 1$ 成立。该公式确保了高度与点 $P$ 的齐次坐标的选择无关。如果我们将 $[x_0 : \\dots : x_n]$ 替换为 $[\\lambda x_0 : \\dots : \\lambda x_n]$（对于某个 $\\lambda \\in K^\\times$），则求和项会改变\n$$\n\\frac{1}{[K:\\mathbb{Q}]} \\sum_{v \\in M_K} n_v \\log |\\lambda|_v = \\frac{1}{[K:\\mathbb{Q}]} \\log \\left( \\prod_{v \\in M_K} |\\lambda|_v^{n_v} \\right) = \\frac{1}{[K:\\mathbb{Q}]} \\log(1) = 0.\n$$\n\n我们给定的数域是 $K = \\mathbb{Q}(\\sqrt{2})$，点是 $P = [x:y] = [5 + 3\\sqrt{2} : 2 - \\sqrt{2}] \\in \\mathbb{P}^{1}(K)$。扩张的次数为 $[K:\\mathbb{Q}] = 2$。\n$P$ 的高度公式为\n$$\nh(P) = \\frac{1}{2} \\sum_{v \\in M_K} n_v \\log \\max \\{|x|_v, |y|_v\\}.\n$$\n\n我们必须确定 $K$ 的位。\n1.  **阿基米德（无穷）位：** 这些位对应于从 $K$ 到 $\\mathbb{C}$ 的嵌入。多项式 $t^2 - 2$ 有两个不同的实根，$\\sqrt{2}$ 和 $-\\sqrt{2}$。因此，有两个实嵌入，没有复嵌入。\n    - $\\sigma_1: K \\to \\mathbb{R}$ 由 $\\sigma_1(a+b\\sqrt{2}) = a+b\\sqrt{2}$ 给出。设该位为 $v_1$。其绝对值为 $|z|_{v_1} = |\\sigma_1(z)| = |a+b\\sqrt{2}|$。局部次数为 $n_{v_1} = [K_{v_1} : \\mathbb{R}] = [\\mathbb{R} : \\mathbb{R}] = 1$。\n    - $\\sigma_2: K \\to \\mathbb{R}$ 由 $\\sigma_2(a+b\\sqrt{2}) = a-b\\sqrt{2}$ 给出。设该位为 $v_2$。其绝对值为 $|z|_{v_2} = |\\sigma_2(z)| = |a-b\\sqrt{2}|$。局部次数为 $n_{v_2} = [K_{v_2} : \\mathbb{R}] = [\\mathbb{R} : \\mathbb{R}] = 1$。\n\n2.  **非阿基米德（有限）位：** 这些位对应于整数环 $\\mathcal{O}_K = \\mathbb{Z}[\\sqrt{2}]$ 的素理想。对于位于有理素数 $p$ 之上、对应于 $\\mathcal{O}_K$ 中素理想 $\\mathfrak{p}$ 的一个有限位 $v$，其绝对值可以被归一化为 $|z|_v = (N(\\mathfrak{p}))^{-v_{\\mathfrak{p}}(z)/[K_v:\\mathbb{Q}_p]}$，其中 $v_{\\mathfrak{p}}(z)$ 是 $z$ 的 $\\mathfrak{p}$-进赋值。然而，使用指定的乘积公式结构，更直接的方法是使用一套乘积为 $1$ 的绝对值，并定义 $h(P) = \\frac{1}{[K:\\mathbb{Q}]} \\sum_v \\log \\max_i \\|x_i\\|_v$。就我们的目的而言，问题中给出的结构意味着我们对局部贡献求和。该和可以分为阿基米德部分和非阿基米德部分：\n$$\nh(P) = \\frac{1}{2} \\left( \\sum_{v \\in \\{v_1, v_2\\}} n_v \\log \\max\\{|x|_v, |y|_v\\} + \\sum_{v \\text{ finite}} n_v \\log \\max\\{|x|_v, |y|_v\\} \\right).\n$$\n\n**来自阿基米德位的贡献：**\n对于 $v_1$：\n$|x|_{v_1} = |\\sigma_1(5+3\\sqrt{2})| = |5+3\\sqrt{2}| = 5+3\\sqrt{2}$。\n$|y|_{v_1} = |\\sigma_1(2-\\sqrt{2})| = |2-\\sqrt{2}| = 2-\\sqrt{2}$。\n因为 $5+3\\sqrt{2} \\approx 5+3(1.414) = 9.242$ 且 $2-\\sqrt{2} \\approx 2-1.414 = 0.586$，我们有 $\\max\\{|x|_{v_1}, |y|_{v_1}\\} = 5+3\\sqrt{2}$。\n来自 $v_1$ 的贡献是 $n_{v_1} \\log(5+3\\sqrt{2}) = 1 \\cdot \\ln(5+3\\sqrt{2})$。我们使用自然对数，这对于Weil高度是标准的。\n\n对于 $v_2$：\n$|x|_{v_2} = |\\sigma_2(5+3\\sqrt{2})| = |5-3\\sqrt{2}| = 5-3\\sqrt{2}$ (因为 $5 > 3\\sqrt{2}$)。\n$|y|_{v_2} = |\\sigma_2(2-\\sqrt{2})| = |2+\\sqrt{2}| = 2+\\sqrt{2}$。\n因为 $5-3\\sqrt{2} \\approx 5-4.242 = 0.758$ 且 $2+\\sqrt{2} \\approx 2+1.414 = 3.414$，我们有 $\\max\\{|x|_{v_2}, |y|_{v_2}\\} = 2+\\sqrt{2}$。\n来自 $v_2$ 的贡献是 $n_{v_2} \\ln(2+\\sqrt{2}) = 1 \\cdot \\ln(2+\\sqrt{2})$。\n\n对求和的总阿基米德贡献为 $\\ln(5+3\\sqrt{2}) + \\ln(2+\\sqrt{2}) = \\ln((5+3\\sqrt{2})(2+\\sqrt{2}))$。\n$(5+3\\sqrt{2})(2+\\sqrt{2}) = 10 + 5\\sqrt{2} + 6\\sqrt{2} + 6 = 16+11\\sqrt{2}$。\n所以阿基米德部分是 $\\ln(16+11\\sqrt{2})$。\n\n**来自非阿基米德位的贡献：**\n设 $v$ 是对应于素理想 $\\mathfrak{p} \\subset \\mathcal{O}_K$ 的一个有限位。坐标 $x=5+3\\sqrt{2}$ 和 $y=2-\\sqrt{2}$ 都在整数环 $\\mathcal{O}_K = \\mathbb{Z}[\\sqrt{2}]$ 中。\n对于任何 $\\alpha \\in \\mathcal{O}_K$，有 $|\\alpha|_v \\leq 1$，等号成立当且仅当 $\\alpha \\notin \\mathfrak{p}$。\n因此，如果 $x$ 或 $y$ 中至少有一个不在 $\\mathfrak{p}$ 中，则 $\\max\\{|x|_v, |y|_v\\} = 1$。如果 $x, y \\in \\mathfrak{p}$，则 $\\max\\{|x|_v, |y|_v\\}  1$。\n项 $\\log \\max\\{|x|_v, |y|_v\\}$ 为零，除非 $x$ 和 $y$ 都是 $\\mathfrak{p}$ 的元素。这发生当且仅当由 $x$ 和 $y$ 生成的理想 $(x,y)$ 包含在 $\\mathfrak{p}$ 中。\n\n我们来分析理想 $I = (x,y) = (5+3\\sqrt{2}, 2-\\sqrt{2})$。该理想的范数 $N(I)$ 必须整除其生成元范数的最大公约数。\n$N(x) = N(5+3\\sqrt{2}) = 5^2 - 2 \\cdot 3^2 = 25 - 18 = 7$。\n$N(y) = N(2-\\sqrt{2}) = 2^2 - 2 \\cdot 1^2 = 4-2=2$。\n理想 $(x, y)$ 的范数必须整除 $\\gcd(N(x), N(y)) = \\gcd(7, 2) = 1$。\n范数为 $1$ 的 $\\mathcal{O}_K$ 理想只有 $\\mathcal{O}_K$ 本身。因此，$(x,y) = \\mathcal{O}_K$。\n这意味着不存在同时包含 $x$ 和 $y$ 的素理想 $\\mathfrak{p}$。对于任何对应于 $\\mathfrak{p}$ 的有限位 $v$，$x$ 或 $y$ 中至少有一个是 $\\mathfrak{p}$-进单位。\n这意味着对于任何有限位 $v$，$\\max\\{|x|_v, |y|_v\\} = 1$。因此，$\\log\\max\\{|x|_v, |y|_v\\} = \\ln(1)=0$。\n所有非阿基米德位对求和的总贡献为 $0$。\n\n**最终计算：**\n结合这些贡献，总和为：\n$$\n\\sum_{v \\in M_K} n_v \\log \\max \\{|x|_v, |y|_v\\} = \\ln(16+11\\sqrt{2}) + 0 = \\ln(16+11\\sqrt{2}).\n$$\n最后，我们除以次数 $[K:\\mathbb{Q}]=2$：\n$$\nh(P) = \\frac{1}{2} \\ln(16+11\\sqrt{2}).\n$$", "answer": "$$\n\\boxed{\\frac{1}{2}\\ln(16 + 11\\sqrt{2})}\n$$", "id": "3015583"}, {"introduction": "高度函数不仅是衡量算术复杂度的工具，更是现代丢番图几何中深刻猜想的基石。这个练习 [@problem_id:3031123] 是一次思想实验，它完美地展示了代数簇的几何性质与有理点的算术性质之间的联系。通过将Vojta猜想的一般形式应用于最基础的射影空间$\\mathbf{P}^{n}$，我们可以推导出一个非常具体的不等式，这揭示了像典则除子（canonical divisor）这样的几何数据如何转化为关于整点分布的算术陈述。", "problem": "设$K$是一个数域，$S$是$K$的一个包含所有阿基米德位的有限位集。对每个整数$n \\geq 1$，考虑具有标准环作用的光滑射影环簇$X = \\mathbf{P}^{n}_{K}$，并令$D$为由$n+1$个坐标超平面之并$D = H_{0} + \\cdots + H_{n}$给出的环边界除子。令$H$表示$X$上的超平面类，并令$h_{H}$是与$H$相关联的一个固定的绝对Weil高。对于一个有理点$x \\in X(K)$，记$m_{D,S}(x)$为相对于$D$和$S$的逼近函数，其定义为对$v \\in S$的关于$D$各分量的局部逼近函数之和。\n\n假设$x \\in (X \\setminus D)(K)$在环簇意义下是关于$D$的$S$-整点（等价地，在稠密环$\\mathbf{G}_{m}^{n} \\subset X$的仿射坐标中，$x$的坐标是$S$-单位）。仅使用以下基础输入：\n- 射影空间的典范除子满足$K_{X} = -(n+1)H$。\n- 除子$D$线性等价于$(n+1)H$，因此$h_{D}(x) = (n+1)h_{H}(x) + O(1)$。\n- 对于关于$D$的$S$-整点，全局高函数的第一主定理给出$m_{D,S}(x) = h_{D}(x) + O(1)$。\n- 对于配对$(X,D)$，Vojta猜想的定性形式断言：对于任意丰沛除子$A$和任意$\\varepsilon > 0$，存在一个真Zariski闭子集$Z \\subset X$，使得对于所有$x \\in (X \\setminus (D \\cup Z))(K)$，有$m_{D,S}(x) + h_{K_{X}}(x) \\leq \\varepsilon\\, h_{A}(x) + O_{\\varepsilon,S}(1)$。\n\n取$A = H$，将Vojta猜想对$X \\setminus D$上的$S$-整点所预测的不等式解释为$m_{D,S}(x) \\leq (c_{n} + \\varepsilon)\\, h_{H}(x) + O_{\\varepsilon,S}(1)$的形式，其中$c_{n}$是仅依赖于$n$的常数，并以$n$的闭式表达式明确求出$c_{n}$。\n\n你的最终答案必须仅为$c_{n}$的表达式（无中间步骤，无不等式）。", "solution": "目标是通过解释Vojta猜想在给定设置下预测的不等式来确定常数$c_n$。问题提供了Vojta猜想对于一个簇$X$、一个除子$D$、一个有限位集$S$、任意丰沛除子$A$和任意$\\varepsilon > 0$的定性形式。该猜想指出，存在一个真Zariski闭子集$Z \\subset X$，使得对于所有有理点$x \\in (X \\setminus (D \\cup Z))(K)$，下述不等式成立：\n$$m_{D,S}(x) + h_{K_{X}}(x) \\leq \\varepsilon\\, h_{A}(x) + O_{\\varepsilon,S}(1)$$\n这里，$X = \\mathbf{P}^{n}_{K}$是数域$K$上的$n$维射影空间，$D$是坐标超平面的并集。界$O_{\\varepsilon,S}(1)$是一个可能依赖于$\\varepsilon$和$S$但与点$x$无关的常数。\n\n问题指示我们将丰沛除子$A$取为超平面类$H$。将$A=H$代入猜想的不等式，我们得到：\n$$m_{D,S}(x) + h_{K_{X}}(x) \\leq \\varepsilon\\, h_{H}(x) + O_{\\varepsilon,S}(1)$$\n\n接下来，我们必须用与超平面相关联的高$h_{H}(x)$来表示与典范除子相关联的高$h_{K_{X}}(x)$。问题提供了射影空间典范除子的基本关系：\n$$K_{X} = -(n+1)H$$\n其中$K_{X}$是典范除子类，$H$是超平面类。\n\n绝对Weil高函数$h_{L}(x)$，在相差一个有界函数的意义上，是簇的皮卡群$\\text{Pic}(X)$到$X(K)$上实值函数群的一个同态。这意味着对于像$L_{1} = a L_{2}$这样的除子关系，我们有相应的高函数关系$h_{L_{1}}(x) = a h_{L_{2}}(x) + O(1)$，其中有界项$O(1)$依赖于高函数的具体归一化，但与点$x$无关。将此性质应用于典范除子的关系，我们发现：\n$$h_{K_{X}}(x) = h_{-(n+1)H}(x) = -(n+1)h_{H}(x) + O(1)$$\n\n现在，我们将$h_{K_{X}}(x)$的这个表达式代回到从Vojta猜想导出的不等式中：\n$$m_{D,S}(x) + \\left(-(n+1)h_{H}(x) + O(1)\\right) \\leq \\varepsilon\\, h_{H}(x) + O_{\\varepsilon,S}(1)$$\n\n来自高函数关系的有界项$O(1)$可以被吸收到右侧的$O_{\\varepsilon,S}(1)$项中，因为后者包含了任何独立于点$x$的有界项。这得出：\n$$m_{D,S}(x) - (n+1)h_{H}(x) \\leq \\varepsilon\\, h_{H}(x) + O_{\\varepsilon,S}(1)$$\n\n为了匹配问题中指定的目标形式，我们将逼近函数$m_{D,S}(x)$隔离在不等式的左侧。我们在两边同时加上$(n+1)h_{H}(x)$：\n$$m_{D,S}(x) \\leq (n+1)h_{H}(x) + \\varepsilon\\, h_{H}(x) + O_{\\varepsilon,S}(1)$$\n\n最后，我们在右侧提取公因子高函数$h_{H}(x)$：\n$$m_{D,S}(x) \\leq ((n+1) + \\varepsilon)\\, h_{H}(x) + O_{\\varepsilon,S}(1)$$\n\n这个不等式现在是目标形式$m_{D,S}(x) \\leq (c_{n} + \\varepsilon)\\, h_{H}(x) + O_{\\varepsilon,S}(1)$。通过直接比较$h_{H}(x)$的系数，我们可以确定常数$c_{n}$：\n$$c_{n} = n+1$$\n\n所提供的附加信息——即对于$S$-整点，第一主定理意味着$m_{D,S}(x) = h_{D}(x) + O(1)$，并且$h_{D}(x) = (n+1)h_{H}(x) + O(1)$——证实了对于所考虑的特定点，逼近函数$m_{D,S}(x)$渐近等于$(n+1)h_{H}(x)$。这凸显了Vojta猜想在此背景下的重要性：它预测了一个对$S$-整点而言基本上是“尖锐”的上界，这意味着这样的点必须是稀疏的（即，包含在一个真闭子集$Z$中）。然而，要找到$c_n$所需的代数操作并不需要这些信息，因为$c_n$仅依赖于由其典范除子所编码的$\\mathbf{P}^n$的几何性质。", "answer": "$$\\boxed{n+1}$$", "id": "3031123"}, {"introduction": "Faltings定理（即Mordell猜想）告诉我们，亏格大于等于2的曲线上只有有限个有理点，但这只是一个存在性结论。在实践中，我们如何有效地找出所有这些点呢？这个练习 [@problem_id:3019212] 探讨了解决这一挑战的强大算法策略——Chabauty-Coleman方法。它展示了一个精密的多步骤流程，其中$p$-进分析首先生成一个有限的候选点集，随后，包括高度函数和“Mordell-Weil筛法”在内的全局工具被用来精确地筛选出真正的有理点，这体现了高度函数在现代计算数论中的关键作用。", "problem": "设 $C/K$ 是数域 $K$ 上一条亏格为 $g \\ge 2$ 的光滑、射影、几何整的曲线，并设 $J$ 是 $C$ 的雅可比簇。根据由 Gerd Faltings 证明的莫德尔猜想（法尔廷斯定理），$C(K)$ 是有限的。对 $C(K)$ 的实际计算通常结合 Claude Chabauty 和 Robert Coleman 的方法（Chabauty–Coleman 方法）、高度界以及筛选法来进行。假设 $J(K)$ 的 Mordell–Weil 秩 $r$ 满足 $r  g$。进一步假设可以计算 $J(K)$ 模挠元群的基、$J(K)$ 上的 Néron–Tate 典范高度配对、在良好约化素数处的 $C$ 上的 Coleman 积分，以及明确的全局高度界和用于 Mordell–Weil 筛选的约化数据。\n\n哪项最准确地描述了结合这些工具来计算 $C(K)$ 的正确且有效的策略？\n\nA. 首先应用 Chabauty-Coleman 方法生成一个有限的候选点集 $C_{cand} \\subset C(K_p)$，其中包含 $C(K)$。然后，通过结合已知的全局高度界和 Mordell-Weil 筛法来证明这个集合对于 $C(K)$ 来说是完备的。\n\nB. 首先计算一个全局高度上界 $B$。然后，应用 Chabauty-Coleman 方法来筛选出高度低于 $B$ 的点。\n\nC. 完全依赖 Mordell-Weil 筛法，通过在越来越多的素数处进行约化来排除区域，直到只剩下 $C(K)$。\n\nD. 该策略对 $r \\ge g$ 的情况同样有效；Chabauty-Coleman 方法可以推广到覆盖所有秩。", "solution": "该问题的正确策略是选项A。这是一个多步骤计算过程的标准工作流程，结合了$p$-进方法和全局方法来确定有理点集 $C(K)$。\n\n1.  **为什么选项 A 是正确的？**\n    *   **Chabauty-Coleman 方法的应用 ($r  g$)**: 该方法的核心优势在于，当 Mordell-Weil 秩 $r$ 严格小于亏格 $g$ 时，它提供了一种在$p$-进域中限制有理点的强大技术。通过在某个合适的素数 $p$ 处对 $J(K)$ 的对数进行 Coleman 积分，可以构造出 $g-r$ 个在 $C(K)$ 上为零的$p$-进解析函数。这些函数的公共零点集 $C_{cand}$ 是一个有限的、可计算的集合，它包含了所有 $K$-有理点。这一步是整个计算中最关键的“发现”阶段，它将无限的搜索空间缩小到一个有限的候选集。\n    *   **全局验证**: Chabauty-Coleman 方法在 $p$-进数域 $K_p$ 中操作，因此其输出 $C_{cand}$ 可能包含并非在 $K$ 中有理的点。因此，第一步是直接检查 $C_{cand}$ 中的每个点是否确实属于 $C(K)$。然后，需要证明没有遗漏任何点。这一步通过全局工具完成：\n        *   **高度界**: 计算一个（通常非常大的）全局高度上界 $B$，使得所有 $C(K)$ 中的点的高度都小于 $B$。\n        *   **Mordell-Weil 筛法**: 这是一种筛选技术，通过在多个辅助素数模下分析点，来证明在已找到的点集之外、且高度低于 $B$ 的区域内不存在其他有理点。它有效地“筛”掉了大片搜索空间，从而确认 $C_{cand} \\cap C(K)$ 就是完整的 $C(K)$。\n\n2.  **为什么其他选项是错误的？**\n    *   **选项 B**: 这个顺序是颠倒的。全局高度界通常非常大，不适合作为搜索的起点。直接搜索所有高度低于此界的点在计算上是不可行的。Chabauty-Coleman 方法的意义恰恰在于避免这种蛮力搜索。\n    *   **选项 C**: Mordell-Weil 筛法本身不是一个发现点的方法，而是一个验证方法。它需要一个已知的候选点集才能发挥作用，无法独立确定 $C(K)$。\n    *   **选项 D**: Chabauty-Coleman 方法的基本假设是 $r  g$。当 $r \\ge g$ 时，该方法的标准形式失效，因为无法构造出足够多的独立$p$-进函数来将解集限制为有限点集。\n\n因此，正确的策略是首先使用$p$-进的 Chabauty-Coleman 方法生成一个小的候选集，然后用全局的高度和筛法工具来严格证明这个集合的完备性。", "answer": "$$\\boxed{A}$$", "id": "3019212"}]}