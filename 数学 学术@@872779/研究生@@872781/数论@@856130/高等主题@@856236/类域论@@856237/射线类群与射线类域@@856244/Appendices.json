{"hands_on_practices": [{"introduction": "本练习是理解射类群基本定义的绝佳起点。通过直接计算最简单的数域——有理数域 $\\mathbb{Q}$ ——的射类群的大小，我们可以清晰地看到模（modulus）中无限位（infinite places）所对应的符号条件如何影响群的结构。这个实践将射类群的定义与克罗内克-韦伯定理（Kronecker-Weber theorem）联系起来，揭示了 $\\mathbb{Q}$ 的射类域与我们所熟知的的分圆域之间的深刻关系。[@problem_id:3022533]", "problem": "设 $n \\geq 3$ 为一个整数，并令 $\\mathfrak{m}$ 表示数域 $\\mathbb{Q}$ 的一个模，其中 $\\mathfrak{m} = n$（仅含有限部分）或 $\\mathfrak{m} = n\\infty$（包含有限部分和唯一的实位）。射线类群 $\\mathrm{Cl}_{\\mathfrak{m}}(\\mathbb{Q})$ 定义为 $\\mathbb{Q}$ 中与有限部分 $\\mathfrak{m}_0$ 互素的分数理想群，与由元素 $\\alpha \\in \\mathbb{Q}^{\\times}$ 生成的主理想 $(\\alpha)$ 的子群的商群，其中 $\\alpha$ 满足同余条件 $\\alpha \\equiv 1 \\pmod{n}$，并且当 $\\infty$ 整除 $\\mathfrak{m}$ 时，在实位上额外满足符号条件 $\\alpha  0$。从这些定义出发，并仅依赖于 $\\mathbb{Q}$ 上的基本类域论事实（包括全局阿廷互反律和克罗内克-韦伯定理），分析在 $\\infty$ 处的符号条件如何改变哪些主理想被识别为平凡射线类。利用此分析，根据欧拉总计函数 $\\varphi(n)$，确定基数 $|\\mathrm{Cl}_{n}(\\mathbb{Q})|$ 和 $|\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})|$ 的精确值。最终答案需表示为仅含 $n$ 和 $\\varphi(n)$ 的单一解析表达式，且不进行四舍五入。", "solution": "首先根据给定标准对问题进行验证。\n\n### 第一步：提取已知条件\n- 设 $n \\ge 3$ 为一个整数。\n- 设 $\\mathfrak{m}$ 为数域 $\\mathbb{Q}$ 的一个模。\n- 模的两种情况：$\\mathfrak{m} = n$（仅含有限部分）或 $\\mathfrak{m} = n\\infty$（有限部分和实位）。\n- 射线类群定义为 $\\mathrm{Cl}_{\\mathfrak{m}}(\\mathbb{Q}) = I(\\mathfrak{m}) / P_{\\mathfrak{m}}$，其中 $I(\\mathfrak{m})$ 是与 $\\mathfrak{m}$ 的有限部分互素的 $\\mathbb{Q}$ 的分数理想群，而 $P_{\\mathfrak{m}}$ 是由满足特定条件的元素 $\\alpha \\in \\mathbb{Q}^{\\times}$ 生成的主理想 $(\\alpha)$ 的子群。\n- 对于 $P_{\\mathfrak{m}}$ 中理想的生成元 $\\alpha$，条件是：\n    1. $\\alpha \\equiv 1 \\pmod{n}$。这是一个与有限部分 $(n)$ 相关的同余条件。具体来说，若 $\\alpha = a/b$，其中 $a, b \\in \\mathbb{Z}$ 且 $b$ 与 $n$ 互素，则 $a \\equiv b \\pmod{n}$，这等价于对所有 $n$ 的素因子 $p$ 都有 $\\nu_p(\\alpha-1) \\ge \\nu_p(n)$。这通常记作 $\\alpha \\equiv 1 \\pmod* n$。\n    2. 如果模 $\\mathfrak{m}$ 包含实位 $\\infty$，则 $\\alpha  0$。\n- 任务是根据 $n$ 和欧拉总计函数 $\\varphi(n)$，通过分析符号条件的影响，确定基数 $|\\mathrm{Cl}_{n}(\\mathbb{Q})|$ 和 $|\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})|$。\n- 解应依赖于 $\\mathbb{Q}$ 上类域论的基本事实，包括克罗内克-韦伯定理和阿廷互反律。\n\n### 第二步：使用提取的已知条件进行验证\n该问题定义良好，有科学依据，且客观。这是一个代数数论中的标准问题。\n- **科学合理性**：数域、模、射线类群和类域论等概念都是标准的、数学上严谨的。问题陈述未违反任何已知的数学原理。\n- **适定性**：问题要求两个特定数学群的阶。这些群定义良好，它们的阶可以从给定信息中唯一确定。条件 $n \\ge 3$ 很重要，使得问题适定，避免了 $n=1, 2$ 的特殊情况。\n- **完整性和一致性**：问题明确地或通过引用数论中的标准术语提供了所有必要的定义。没有矛盾之处。\n- **客观性**：问题以精确、形式化的语言陈述，没有任何主观或基于观点的内容。\n\n### 第三步：结论与行动\n此问题是**有效的**。将提供完整解答。\n\n### 解\n令 $K = \\mathbb{Q}$。我们被要求计算两个模 $\\mathfrak{m} = n$ 和 $\\mathfrak{m} = n\\infty$（其中 $n \\geq 3$ 为整数）的射线类群 $\\mathrm{Cl}_{\\mathfrak{m}}(\\mathbb{Q})$ 的阶。\n\n模为 $\\mathfrak{m}$ 的射线类群定义为商群 $\\mathrm{Cl}_{\\mathfrak{m}}(\\mathbb{Q}) = I(\\mathfrak{m}) / P_{\\mathfrak{m}}$。对于模 $\\mathfrak{m}=n$ 和 $\\mathfrak{m}=n\\infty$ 两种情况，有限部分都是理想 $(n)$。因此，分数理想群 $I(\\mathfrak{m})$ 是 $\\mathbb{Q}$ 中与 $(n)$ 互素的分数理想构成的群。我们用 $I_n$ 表示这个群。这个群对于两个模是相同的。\n\n然而，主理想的子群是不同的。这些是射线子群。\n对于 $\\mathfrak{m} = n\\infty$，子群 $P_{n\\infty}$ 由主理想 $(\\alpha)$ 构成，其存在一个生成元 $\\alpha \\in \\mathbb{Q}^{\\times}$ 使得 $\\alpha \\equiv 1 \\pmod* n$ 且 $\\alpha  0$。\n对于 $\\mathfrak{m} = n$，子群 $P_n$ 由主理想 $(\\alpha)$ 构成，其存在一个生成元 $\\alpha \\in \\mathbb{Q}^{\\times}$ 使得 $\\alpha \\equiv 1 \\pmod* n$，没有符号条件。\n\n首先，我们确定 $\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})$ 的阶。克罗内克-韦伯定理指出，$\\mathbb{Q}$ 的任何阿贝尔扩张都包含在一个分圆域中。全局类域論的一个基本结果是，$\\mathbb{Q}$ 上模为 $\\mathfrak{m} = n\\infty$ 的射线类域恰好是第 $n$ 个分圆域 $L = \\mathbb{Q}(\\zeta_n)$，其中 $\\zeta_n = \\exp(2\\pi i / n)$。\n阿廷互反律提供了一个典范同构，即阿廷映射，它在射线类群和射线类域扩张的伽罗瓦群之间建立同构关系：\n$$ \\mathrm{Cl}_{n\\infty}(\\mathbb{Q}) \\cong \\mathrm{Gal}(\\mathbb{Q}(\\zeta_n)/\\mathbb{Q}) $$\n伽罗瓦群的阶是域扩张的次数，由欧拉总计函数给出：\n$$ |\\mathrm{Gal}(\\mathbb{Q}(\\zeta_n)/\\mathbb{Q})| = [\\mathbb{Q}(\\zeta_n):\\mathbb{Q}] = \\varphi(n) $$\n因此，模为 $n\\infty$ 的射线类群的基数为：\n$$ |\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})| = \\varphi(n) $$\n\n接下来，我们确定 $\\mathrm{Cl}_n(\\mathbb{Q})$ 的阶。与 $P_{n\\infty}$ 相比，$P_n$ 的定义放宽了对生成元的要求。具体来说，去掉了 $\\alpha  0$ 的条件。这意味着任何适用于 $P_{n\\infty}$ 的生成元也适用于 $P_n$。因此，$P_{n\\infty}$ 中的每个理想也都在 $P_n$ 中，这意味着 $P_{n\\infty}$ 是 $P_n$ 的一个子群。\n两个射线类群分别是 $\\mathrm{Cl}_{n\\infty}(\\mathbb{Q}) = I_n/P_{n\\infty}$ 和 $\\mathrm{Cl}_n(\\mathbb{Q}) = I_n/P_n$。\n根据群的第三同构定理，我们有：\n$$ \\mathrm{Cl}_n(\\mathbb{Q}) = I_n/P_n \\cong (I_n/P_{n\\infty}) / (P_n/P_{n\\infty}) \\cong \\mathrm{Cl}_{n\\infty}(\\mathbb{Q}) / (P_n/P_{n\\infty}) $$\n取阶数，我们得到：\n$$ |\\mathrm{Cl}_n(\\mathbb{Q})| = \\frac{|\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})|}{|P_n/P_{n\\infty}|} = \\frac{\\varphi(n)}{|P_n:P_{n\\infty}|} $$\n我们的任务简化为求子群 $P_{n\\infty}$ 在 $P_n$ 中的指数。\n\n令 $K_{n,1} = \\{ \\alpha \\in \\mathbb{Q}^\\times \\mid \\alpha \\equiv 1 \\pmod* n \\}$ 为 $P_n$ 中理想的生成元群。\n令 $K_{n\\infty,1} = \\{ \\alpha \\in \\mathbb{Q}^\\times \\mid \\alpha \\equiv 1 \\pmod* n, \\alpha  0 \\}$ 为 $P_{n\\infty}$ 中理想的生成元群。\n映射 $\\alpha \\mapsto (\\alpha)$ 将 $K_{n,1}$ 映到 $P_n$，将 $K_{n\\infty,1}$ 映到 $P_{n\\infty}$。一般地，该映射的核是数域整数环的单位群。对于 $K=\\mathbb{Q}$，单位群是 $\\mathcal{O}_{\\mathbb{Q}}^\\times = \\{1, -1\\}$。\n一个理想 $(\\alpha)$ 恰有两个生成元，$\\alpha$ 和 $-\\alpha$。\n对于 $P_n$ 中的一个理想，我们需要确定其两个生成元是否都可以属于 $K_{n,1}$。假设 $\\alpha \\in K_{n,1}$。那么 $-\\alpha$ 也必须满足同余条件，即 $-\\alpha \\equiv 1 \\pmod* n$。这意味着 $\\alpha \\equiv -1 \\pmod* n$。结合 $\\alpha \\equiv 1 \\pmod* n$，我们得到 $1 \\equiv -1 \\pmod* n$，这意味着 $n$ 必须整除 $2$。然而，题目规定 $n \\ge 3$。因此，对于 $P_n$ 中的任何理想，其生成元中只有一个属于 $K_{n,1}$。所以从 $K_{n,1}$ 到 $P_n$ 的映射是一个同构，$P_n \\cong K_{n,1}$。\n类似地，对于 $P_{n\\infty}$ 中的一个理想，生成元必须是正的。由于 $-\\alpha$ 是负的，只有一个生成元能属于 $K_{n\\infty,1}$。所以，$P_{n\\infty} \\cong K_{n\\infty,1}$。\n因此，指数为 $|P_n:P_{n\\infty}| = |K_{n,1}:K_{n\\infty,1}|$。\n\n群 $K_{n\\infty,1}$ 是 $K_{n,1}$ 中正元素构成的子群。考虑符号同态 $\\mathrm{sgn}: K_{n,1} \\to \\{+1, -1\\}$。该映射的核恰好是 $K_{n\\infty,1}$。\n根据第一同构定理，$K_{n,1}/K_{n\\infty,1} \\cong \\mathrm{Im}(\\mathrm{sgn})$。商群的阶为 $|\\mathrm{Im}(\\mathrm{sgn})|$，可以是 $1$ 或 $2$。\n阶为 $2$ 当且仅当该同态是满射，这意味着必须存在一个元素 $\\alpha \\in K_{n,1}$ 使得 $\\alpha  0$。\n我们来构造这样一个元素。考虑整数 $\\alpha = 1-n$。\n由于 $n \\geq 3$，我们有 $\\alpha = 1-n \\le 1-3 = -2$，所以 $\\alpha$ 是负数。\n同余条件是 $\\alpha \\equiv 1 \\pmod n$，这是满足的，因为 $1-n = (-1)n + 1$。\n所以，$\\alpha = 1-n$ 是 $K_{n,1}$ 中一个符号为负的元素。\n这表明符号映射是满射的。因此，指数为 $|K_{n,1}:K_{n\\infty,1}|=2$。\n\n将此结果代入我们关于 $\\mathrm{Cl}_n(\\mathbb{Q})$ 阶的表达式中：\n$$ |\\mathrm{Cl}_n(\\mathbb{Q})| = \\frac{\\varphi(n)}{2} $$\n\n条件 $n \\ge 3$ 确保了 $\\varphi(n)$ 总是一个偶数，所以这个结果是一个整数。具体来说，如果 $n2$，则 $n$ 要么有一个奇素因子 $p$（因此 $\\varphi(n)$ 有一个因子 $\\varphi(p)=p-1$ 是偶数），要么 $n$ 是 $2$ 的幂，$n=2^k$ 且 $k \\ge 2$，此时 $\\varphi(n) = 2^{k-1}$ 是偶数。\n\n总结如下：\n模为 $\\mathfrak{m} = n\\infty$ 的射线类群的基数为 $|\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})| = \\varphi(n)$。\n模为 $\\mathfrak{m} = n$ 的射线类群的基数为 $|\\mathrm{Cl}_{n}(\\mathbb{Q})| = \\frac{\\varphi(n)}{2}$。", "answer": "$$ \\boxed{ \\begin{pmatrix} \\frac{\\varphi(n)}{2}  \\varphi(n) \\end{pmatrix} } $$", "id": "3022533"}, {"introduction": "在掌握了 $\\mathbb{Q}$ 上的基本情况后，我们进入一个更复杂的场景：实二次域 $\\mathbb{Q}(\\sqrt{2})$，它拥有一个非平凡的单位群。这个练习聚焦于计算射类群阶数时的一个关键技术环节，即分析单位群如何与模的同余条件相互作用。通过这个计算，你将深入理解单位、同余条件和符号条件是如何共同决定射类群的一个重要不变量的。[@problem_id:3022522]", "problem": "设 $K = \\mathbb{Q}(\\sqrt{2})$，其整数环为 $\\mathcal{O}_{K} = \\mathbb{Z}[\\sqrt{2}]$。设模 $\\mathfrak{m} = \\mathfrak{m}_{f}\\,\\mathfrak{m}_{\\infty}$，其有限部分为 $\\mathfrak{m}_{f} = 3\\mathcal{O}_{K}$，无限部分 $\\mathfrak{m}_{\\infty}$ 为 $K$ 的两个实位的乘积。令 $\\mathcal{O}_{K}^{\\times}$ 表示单位群，并定义单位射线子群\n$$\nU_{\\mathfrak{m}} := \\left\\{ u \\in \\mathcal{O}_{K}^{\\times} : u \\equiv 1 \\pmod{3\\mathcal{O}_{K}} \\text{ and } \\sigma_{i}(u)  0 \\text{ for } i=1,2 \\right\\},\n$$\n其中 $\\sigma_{1},\\sigma_{2}: K \\hookrightarrow \\mathbb{R}$ 是由 $\\sigma_{1}(\\sqrt{2}) = \\sqrt{2}$ 和 $\\sigma_{2}(\\sqrt{2}) = -\\sqrt{2}$ 给出的两个实嵌入。考虑同态\n$$\n\\varphi: \\mathcal{O}_{K}^{\\times} \\longrightarrow \\left(\\mathcal{O}_{K}/3\\mathcal{O}_{K}\\right)^{\\times} \\times \\left(\\{\\pm 1\\} \\times \\{\\pm 1\\}\\right),\n$$\n定义为\n$$\n\\varphi(u) := \\left(u \\bmod 3\\mathcal{O}_{K},\\ \\big(\\operatorname{sgn}(\\sigma_{1}(u)),\\ \\operatorname{sgn}(\\sigma_{2}(u))\\big)\\right).\n$$\n从射线类群的基本定义和 $U_{\\mathfrak{m}}$ 作为上述映射的核的刻画出发，并仅使用实二次域 $K$ 的 $\\mathcal{O}_{K}^{\\times}$ 的结构，通过明确计算子群 $\\varphi(\\mathcal{O}_{K}^{\\times})$ 来求指数 $[\\mathcal{O}_{K}^{\\times} : U_{\\mathfrak{m}}]$。特别地，确定基本单位 $\\varepsilon = 1 + \\sqrt{2}$ 和 $-1$ 在 $\\varphi$ 下的像，并用它们来生成 $\\varphi(\\mathcal{O}_{K}^{\\times})$。\n\n请以整数形式给出最终答案。", "solution": "问题要求计算指数 $[\\mathcal{O}_{K}^{\\times} : U_{\\mathfrak{m}}]$，其中 $K = \\mathbb{Q}(\\sqrt{2})$，其整数环为 $\\mathcal{O}_{K} = \\mathbb{Z}[\\sqrt{2}]$，$U_{\\mathfrak{m}}$ 是模 $\\mathfrak{m} = 3\\mathcal{O}_{K} \\cdot \\mathfrak{m}_{\\infty}$ 的单位射线子群。\n\n模由 $\\mathfrak{m} = \\mathfrak{m}_{f}\\,\\mathfrak{m}_{\\infty}$ 给出，其有限部分为 $\\mathfrak{m}_{f} = 3\\mathcal{O}_{K}$，无限部分 $\\mathfrak{m}_{\\infty}$ 为 $K$ 的两个实位的乘积。两个实嵌入为 $\\sigma_{1}, \\sigma_{2}: K \\hookrightarrow \\mathbb{R}$，定义为 $\\sigma_{1}(\\sqrt{2}) = \\sqrt{2}$ 和 $\\sigma_{2}(\\sqrt{2}) = -\\sqrt{2}$。\n\n单位射线子群 $U_{\\mathfrak{m}}$ 定义为\n$$\nU_{\\mathfrak{m}} = \\left\\{ u \\in \\mathcal{O}_{K}^{\\times} : u \\equiv 1 \\pmod{3\\mathcal{O}_{K}} \\text{ and } \\sigma_{i}(u)  0 \\text{ for } i=1,2 \\right\\}.\n$$\n我们给定一个同态 $\\varphi: \\mathcal{O}_{K}^{\\times} \\longrightarrow \\left(\\mathcal{O}_{K}/3\\mathcal{O}_{K}\\right)^{\\times} \\times \\left(\\{\\pm 1\\} \\times \\{\\pm 1\\}\\right)$，定义为\n$$\n\\varphi(u) = \\left(u \\bmod 3\\mathcal{O}_{K},\\ \\big(\\operatorname{sgn}(\\sigma_{1}(u)),\\ \\operatorname{sgn}(\\sigma_{2}(u))\\big)\\right).\n$$\n上域群的单位元是 $(1 \\pmod{3\\mathcal{O}_{K}}, (1, 1))$。一个元素 $u \\in \\mathcal{O}_{K}^{\\times}$ 在 $\\varphi$ 的核中，当且仅当 $\\varphi(u) = (1, (1,1))$。这意味着 $u \\equiv 1 \\pmod{3\\mathcal{O}_{K}}$ 且 $\\operatorname{sgn}(\\sigma_{1}(u)) = 1$, $\\operatorname{sgn}(\\sigma_{2}(u)) = 1$。后两个条件等价于 $\\sigma_{1}(u)  0$ 和 $\\sigma_{2}(u)  0$。这正是 $U_{\\mathfrak{m}}$ 的定义。因此，$U_{\\mathfrak{m}} = \\ker(\\varphi)$。\n\n根据群的第一同构定理，我们有同构 $\\mathcal{O}_{K}^{\\times} / \\ker(\\varphi) \\cong \\operatorname{Im}(\\varphi)$，即 $\\mathcal{O}_{K}^{\\times} / U_{\\mathfrak{m}} \\cong \\varphi(\\mathcal{O}_{K}^{\\times})$。$U_{\\mathfrak{m}}$ 在 $\\mathcal{O}_{K}^{\\times}$ 中的指数是该商群的阶：\n$$\n[\\mathcal{O}_{K}^{\\times} : U_{\\mathfrak{m}}] = |\\mathcal{O}_{K}^{\\times} / U_{\\mathfrak{m}}| = |\\varphi(\\mathcal{O}_{K}^{\\times})|.\n$$\n我们的任务是计算像群 $\\varphi(\\mathcal{O}_{K}^{\\times})$ 的阶。\n\n首先，我们分析定义域和上域的结构。\n定义域是实二次域 $K = \\mathbb{Q}(\\sqrt{2})$ 的单位群 $\\mathcal{O}_{K}^{\\times}$。根据 Dirichlet 单位定理，$\\mathcal{O}_{K}^{\\times} \\cong \\{\\pm 1\\} \\times \\mathbb{Z}$。该群由单位 $-1$ 和基本单位 $\\varepsilon = 1 + \\sqrt{2}$ 生成。任何单位 $u \\in \\mathcal{O}_{K}^{\\times}$ 都可以写成 $u = (-1)^{k} \\varepsilon^{n}$ 的形式，其中 $k \\in \\{0, 1\\}$，$n \\in \\mathbb{Z}$。\n\n上域为 $G = (\\mathcal{O}_{K}/3\\mathcal{O}_{K})^{\\times} \\times (\\{\\pm 1\\} \\times \\{\\pm 1\\})$。\n为了理解环 $\\mathcal{O}_{K}/3\\mathcal{O}_{K} = \\mathbb{Z}[\\sqrt{2}]/3\\mathbb{Z}[\\sqrt{2}]$ 的结构，我们考虑域 $\\mathbb{F}_3$ 上的多项式 $p(x) = x^2 - 2$。由于 $1^2 \\equiv 1 \\pmod 3$ 和 $2^2 \\equiv 1 \\pmod 3$，所以 $2$ 不是模 $3$ 的二次剩余。因此，$x^2-2$ 在 $\\mathbb{F}_3$ 上是不可约的。这意味着理想 $3\\mathcal{O}_{K}$ 是 $\\mathcal{O}_{K}$ 中的一个素理想。商环 $\\mathcal{O}_{K}/3\\mathcal{O}_{K}$ 是 $\\mathbb{F}_3$ 的一个 $2$ 次扩张，即有限域 $\\mathbb{F}_{3^2} = \\mathbb{F}_9$。\n乘法群 $(\\mathcal{O}_{K}/3\\mathcal{O}_{K})^{\\times}$ 是 $\\mathbb{F}_9$ 的乘法群，这是一个阶为 $9-1=8$ 的循环群。上域的第二个分量 $\\{\\pm 1\\} \\times \\{\\pm 1\\}$ 是克莱因四元群，阶为 $4$。上域 $G$ 的总阶数为 $8 \\times 4 = 32$。\n\n由于 $\\mathcal{O}_{K}^{\\times}$ 由 $-1$ 和 $\\varepsilon = 1+\\sqrt{2}$ 生成，其像 $\\varphi(\\mathcal{O}_{K}^{\\times})$ 由 $\\varphi(-1)$ 和 $\\varphi(\\varepsilon)$ 生成。我们来计算这两个元素。\n\n$-1$ 的像：\n$$\n\\varphi(-1) = \\left(-1 \\pmod{3\\mathcal{O}_{K}},\\ \\big(\\operatorname{sgn}(\\sigma_{1}(-1)),\\ \\operatorname{sgn}(\\sigma_{2}(-1))\\big)\\right).\n$$\n由于 $\\sigma_1$ 和 $\\sigma_2$ 是域嵌入，它们将 $-1$ 映射到 $-1$。所以 $\\operatorname{sgn}(\\sigma_{1}(-1)) = -1$ 且 $\\operatorname{sgn}(\\sigma_{2}(-1)) = -1$。\n$$\n\\varphi(-1) = (-1, (-1, -1)).\n$$\n我们称这个生成元为 $g_1$。它的阶是 $2$，因为 $g_1^2 = ((-1)^2, ((-1)^2, (-1)^2)) = (1, (1, 1))$，这是单位元。\n\n$\\varepsilon = 1+\\sqrt{2}$ 的像：\n$$\n\\varphi(\\varepsilon) = \\left(1+\\sqrt{2} \\pmod{3\\mathcal{O}_{K}},\\ \\big(\\operatorname{sgn}(\\sigma_{1}(1+\\sqrt{2})),\\ \\operatorname{sgn}(\\sigma_{2}(1+\\sqrt{2}))\\big)\\right).\n$$\n对于符号分量，$\\sigma_{1}(1+\\sqrt{2}) = 1+\\sqrt{2}  0$ 且 $\\sigma_{2}(1+\\sqrt{2}) = 1-\\sqrt{2}  0$。所以符号是 $(1, -1)$。\n第一个分量是群 $(\\mathcal{O}_{K}/3\\mathcal{O}_{K})^{\\times} \\cong \\mathbb{F}_9^{\\times}$ 中的元素 $1+\\sqrt{2}$。我们来求它的阶：\n$(1+\\sqrt{2})^1 = 1+\\sqrt{2}$\n$(1+\\sqrt{2})^2 = 1 + 2\\sqrt{2} + 2 = 3 + 2\\sqrt{2} \\equiv 2\\sqrt{2} \\pmod 3$\n$(1+\\sqrt{2})^4 \\equiv (2\\sqrt{2})^2 = 8 \\equiv 2 \\equiv -1 \\pmod 3$\n$(1+\\sqrt{2})^8 \\equiv (-1)^2 = 1 \\pmod 3$\n$1+\\sqrt{2}$ 在 $(\\mathcal{O}_{K}/3\\mathcal{O}_{K})^{\\times}$ 中的阶是 $8$。因此，它是这个循环群的一个生成元。\n所以，我们有：\n$$\n\\varphi(\\varepsilon) = (1+\\sqrt{2}, (1, -1)).\n$$\n我们称这个生成元为 $g_2$。$g_2$ 的阶是其各分量阶的最小公倍数。$1+\\sqrt{2}$ 的阶是 $8$。$(1,-1)$ 在 $\\{\\pm 1\\}\\times\\{\\pm 1\\}$ 中的阶是 $2$。因此，$g_2$ 的阶是 $\\operatorname{lcm}(8, 2) = 8$。\n\n像群 $\\varphi(\\mathcal{O}_{K}^{\\times})$ 是 $G$ 中由 $g_1 = (-1, (-1, -1))$ 和 $g_2 = (1+\\sqrt{2}, (1, -1))$ 生成的子群。由于上域 $G$ 是阿贝尔群的直积，所以它本身是阿贝尔群，其子群 $\\varphi(\\mathcal{O}_{K}^{\\times})$ 也是阿贝尔群。此像群中的任何元素都可以写成 $g_1^k g_2^n$ 的形式，其中 $k, n$ 是整数。由于 $|g_1|=2$ 和 $|g_2|=8$，所有元素的形式为 $g_1^k g_2^n$，其中 $k \\in \\{0,1\\}$ 且 $n \\in \\{0, 1, \\dots, 7\\}$。\n\n群 $\\langle g_1, g_2 \\rangle$ 的阶由以下公式给出：\n$$\n|\\langle g_1, g_2 \\rangle| = \\frac{|\\langle g_1 \\rangle| \\cdot |\\langle g_2 \\rangle|}{|\\langle g_1 \\rangle \\cap \\langle g_2 \\rangle|} = \\frac{2 \\cdot 8}{|\\langle g_1 \\rangle \\cap \\langle g_2 \\rangle|}.\n$$\n我们需要确定循环子群 $\\langle g_1 \\rangle$ 和 $\\langle g_2 \\rangle$ 的交集。$\\langle g_1 \\rangle$ 中唯一的非单位元是 $g_1$ 本身。我们检查 $g_1$ 是否在 $\\langle g_2 \\rangle$ 中。这意味着对某个 $n \\in \\{1,\\dots,7\\}$，有 $g_1 = g_2^n$。\n$$\n(-1, (-1, -1)) = g_2^n = \\left((1+\\sqrt{2})^n,\\ (1, (-1)^n)\\right).\n$$\n比较符号分量，我们需要 $(-1, -1) = (1, (-1)^n)$。这是不可能的，因为第一个坐标不匹配：$-1 \\neq 1$。\n因此，$g_1 \\notin \\langle g_2 \\rangle$，两个子群的交集是平凡群，即 $\\langle g_1 \\rangle \\cap \\langle g_2 \\rangle = \\{e\\}$，其中 $e$ 是单位元。\n\n像群的阶为 $|\\varphi(\\mathcal{O}_{K}^{\\times})| = 2 \\cdot 8 = 16$。\n由于像群由可交换元素 $g_1$ 和 $g_2$ 生成，且它们的循环子群的交集是平凡的，所以它同构于它们的直积，即 $\\varphi(\\mathcal{O}_{K}^{\\times}) \\cong \\langle g_1 \\rangle \\times \\langle g_2 \\rangle \\cong C_2 \\times C_8$。\n\n最后，指数就是这个像群的阶：\n$$\n[\\mathcal{O}_{K}^{\\times} : U_{\\mathfrak{m}}] = |\\varphi(\\mathcal{O}_{K}^{\\times})| = 16.\n$$", "answer": "$$\n\\boxed{16}\n$$", "id": "3022522"}, {"introduction": "这个实践展示了类域论的威力：从理解群的抽象结构转向获取具体的算术信息。我们将运用阿廷映射（Artin map）将素理想与伽罗瓦群中的弗罗贝尼乌斯元（Frobenius element）联系起来，从而预测素数在一个特定的射类域中如何分解。这个练习要求使用三次剩余符号（cubic residue symbol）进行具体计算，生动地展示了类域论的“显性”内容。[@problem_id:3022545]", "problem": "设 $K = \\mathbb{Q}(\\sqrt{-3}) = \\mathbb{Q}(\\zeta_{3})$，其判别式为 $d = -3$，其中 $\\zeta_{3} = \\exp(2\\pi i/3)$。设 $\\mathfrak{p}$ 是 $\\mathcal{O}_{K}$ 中位于 $3$ 之上的唯一素理想，等价地 $\\mathfrak{p} = (1 - \\zeta_{3})$，并设模为 $\\mathfrak{m} = \\mathfrak{p}^{3}$。将 $K$ 模 $\\mathfrak{m}$ 的射线类域记为 $K_{\\mathfrak{m}}$，将 $\\mathcal{O}_{K}$ 的一个未分歧素理想 $\\mathfrak{q}$ 处的弗罗贝尼乌斯元记为 $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K)$。\n\n仅使用阿廷映射、局部互反律和剩余符号的基本定义，从基本原理出发，将 $K_{\\mathfrak{m}}$ 确定为一个具体的分圆扩张，并计算特定素理想处的弗罗贝尼乌斯元。具体来说，根据全局和局部类域论，论证 $K_{\\mathfrak{m}}$ 是 $K$ 的一个 $3$ 次循环扩张，可嵌入分圆域 $\\mathbb{Q}(\\zeta_{9})$ 中，并通过规则 $\\sigma(\\zeta_{9}) = \\zeta_{9}^{4}$ 固定 $\\operatorname{Gal}(K_{\\mathfrak{m}}/K)$ 的生成元 $\\sigma$。\n\n设 $p = 43$。注意 $p \\equiv 1 \\pmod{3}$，因此 $p$ 在 $K$ 中分裂。设 $\\mathfrak{q} \\subset \\mathcal{O}_{K}$ 是位于 $p$ 之上的任意素理想。利用在 $K$ 中整除 $\\mathfrak{m}$ 的位上的剩余符号和局部互反律，确定唯一的整数 $k \\in \\{0,1,2\\}$，使得\n$$\n\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K) \\;=\\; \\sigma^{k}.\n$$\n你的最终答案应为单个整数 $k$。无需四舍五入。", "solution": "用户想让我解决一个数论问题。\n\n### 第1步：问题验证\n\n**1.1. 提取已知条件**\n-   $K = \\mathbb{Q}(\\sqrt{-3}) = \\mathbb{Q}(\\zeta_{3})$\n-   $d = -3$ 是 $K$ 的判别式。\n-   $\\zeta_{3} = \\exp(2\\pi i/3)$。\n-   $\\mathcal{O}_{K}$ 是 $K$ 的整数环。\n-   $\\mathfrak{p}$ 是 $\\mathcal{O}_{K}$ 中位于 $3$ 之上的唯一素理想。\n-   $\\mathfrak{p} = (1 - \\zeta_{3})$。\n-   $\\mathfrak{m} = \\mathfrak{p}^{3}$ 是模。\n-   $K_{\\mathfrak{m}}$ 是 $K$ 模 $\\mathfrak{m}$ 的射线类域。\n-   $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K)$ 是 $\\mathcal{O}_{K}$ 的一个未分歧素理想 $\\mathfrak{q}$ 处的弗罗贝尼乌斯元。\n-   问题要求使用阿廷映射、局部互反律和剩余符号的基本定义。\n-   问题陈述了 $K_{\\mathfrak{m}}$ 是 $K$ 的一个 $3$ 次循环扩张，可嵌入到 $\\mathbb{Q}(\\zeta_{9})$ 中。\n-   一个生成元 $\\sigma \\in \\operatorname{Gal}(K_{\\mathfrak{m}}/K)$ 由规则 $\\sigma(\\zeta_{9}) = \\zeta_{9}^{4}$ 固定。\n-   $p = 43$。\n-   $p \\equiv 1 \\pmod{3}$。\n-   $p$ 在 $K$ 中分裂。\n-   $\\mathfrak{q} \\subset \\mathcal{O}_{K}$ 是位于 $p$ 之上的任意素理想。\n-   任务是确定唯一的整数 $k \\in \\{0,1,2\\}$，使得 $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K) = \\sigma^{k}$。\n\n**1.2. 使用提取的已知条件进行验证**\n该问题在代数数论和类域论的标准框架内是良定义的。所有给定的条件都是事实正确且一致的。\n-   域 $K = \\mathbb{Q}(\\zeta_3)$ 是分圆域 $\\mathbb{Q}(\\zeta_3)$，其整数环为 $\\mathcal{O}_K = \\mathbb{Z}[\\zeta_3]$，类数为 $h_K=1$。\n-   素数 $3$ 在 $K$ 中分歧：$(3) = (1-\\zeta_3)^2 = \\mathfrak{p}^2$，其中 $\\mathfrak{p}$ 是范数为 $3$ 的素理想 $(1-\\zeta_3)$。\n-   素数 $p=43$ 与 $1 \\pmod 3$ 同余，因此它在 $K$ 中分裂。\n-   该问题要求计算射线类域中的一个特定的弗罗贝尼乌斯元，这是类域论中的一个标准程序。问题设置并非不完整、矛盾或模棱两可。\n-   所要求的方法论（使用剩余符号和互反律）适用于此类问题。\n\n**1.3. 结论和行动**\n该问题是有效的。我将继续提供一个完整的解决方案。\n\n### 第2步：解题\n\n问题要求确定一个整数 $k$，用给定的生成元 $\\sigma$ 来描述弗罗贝尼乌斯元 $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K)$。我们将首先确定射线类域 $K_{\\mathfrak{m}}$ 及其伽罗瓦群，然后使用阿廷映射和三次剩余符号来计算弗罗贝尼乌斯元。\n\n**1. 射线类域 $K_{\\mathfrak{m}}$ 的确定**\n域 $K=\\mathbb{Q}(\\zeta_3)$ 的类数为 $h_K=1$。模 $\\mathfrak{m}=\\mathfrak{p}^3$ 的射线类群由同构关系给出\n$$ C_{\\mathfrak{m}} \\cong (\\mathcal{O}_K / \\mathfrak{m})^* / \\text{im}(\\mathcal{O}_K^*) $$\n$\\mathcal{O}_K$ 中的单位群是 $\\mathcal{O}_K^* = \\{\\pm 1, \\pm \\zeta_3, \\pm \\zeta_3^2\\}$，这是一个 $6$ 阶循环群。模的范数是 $N(\\mathfrak{m}) = N(\\mathfrak{p}^3) = N(\\mathfrak{p})^3 = 3^3 = 27$。剩余环 $(\\mathcal{O}_K / \\mathfrak{p}^3)^*$ 的单位群阶为 $\\phi(\\mathfrak{p}^3) = N(\\mathfrak{p}^3) - N(\\mathfrak{p}^2) = 27 - 9 = 18$。$\\mathcal{O}_K^*$ 在 $(\\mathcal{O}_K / \\mathfrak{p}^3)^*$ 中的像是整个群 $\\mathcal{O}_K^*$ 本身，因为除了 $1$ 之外，没有单位元与 $1$ 模 $\\mathfrak{p}^3 = (1-\\zeta_3)^3$ 同余。这个像的阶是 $6$。\n因此，射线类群的阶为 $|C_{\\mathfrak{m}}| = 18/6 = 3$。根据类域论，$K_{\\mathfrak{m}}$ 是 $K$ 的一个三次循环扩张。\n\n问题陈述 $K_{\\mathfrak{m}}$ 嵌入 $\\mathbb{Q}(\\zeta_9)$ 中。域 $\\mathbb{Q}(\\zeta_9)$ 是 $\\mathbb{Q}$ 的一个 $6$ 次扩张。由于 $K = \\mathbb{Q}(\\zeta_3) = \\mathbb{Q}(\\zeta_9^3) \\subset \\mathbb{Q}(\\zeta_9)$，扩张 $\\mathbb{Q}(\\zeta_9)/K$ 的次数为 $6/2 = 3$。已知该扩张是循环的。如果扩张 $L/K$ 的导子是 $\\mathfrak{f}$，则 $L/K$ 是模为 $\\mathfrak{f}$ 的射线类域。我们将 $K_{\\mathfrak{m}}$ 等同于 $L = \\mathbb{Q}(\\zeta_9)$。扩张 $\\mathbb{Q}(\\zeta_9)/\\mathbb{Q}$ 仅在素数 $3$ 处分歧。因此，扩张 $\\mathbb{Q}(\\zeta_9)/K$ 只能在位于 $3$ 之上的素理想处分歧，即在 $\\mathfrak{p}$ 处分歧。这个扩张是 $L = K(\\zeta_9)$，并且可以证明它是一个库默尔扩张 $L=K(\\sqrt[3]{\\zeta_3})$（通过适当选择 $\\zeta_9$）。已知这样的扩张的导子是 $\\mathfrak{p}^3$。根据类域的唯一性性质，我们有 $K_{\\mathfrak{m}} = \\mathbb{Q}(\\zeta_9)$。\n\n**2. 伽罗瓦群和阿廷映射**\n伽罗瓦群 $\\operatorname{Gal}(K_{\\mathfrak{m}}/K)$ 与 $\\operatorname{Gal}(\\mathbb{Q}(\\zeta_9)/K)$ 等同。一个自同构 $\\tau \\in \\operatorname{Gal}(\\mathbb{Q}(\\zeta_9)/\\mathbb{Q})$ 由其对 $\\zeta_9$ 的作用决定，$\\tau_j(\\zeta_9)=\\zeta_9^j$，其中 $j \\in (\\mathbb{Z}/9\\mathbb{Z})^*$。如果这样的自同构固定 $\\zeta_3 = \\zeta_9^3$，那么它就固定 $K=\\mathbb{Q}(\\zeta_3)$。这要求 $(\\zeta_9^j)^3 = \\zeta_9^{3j} = \\zeta_9^3$，这意味着 $3j \\equiv 3 \\pmod{9}$，或 $j \\equiv 1 \\pmod{3}$。在 $j \\in \\{1,2,4,5,7,8\\}$ 中满足此条件的值是 $j \\in \\{1,4,7\\}$。\n因此，$\\operatorname{Gal}(K_{\\mathfrak{m}}/K) = \\{\\tau_1, \\tau_4, \\tau_7\\}$。问题指定生成元为 $\\sigma = \\tau_4$，其中 $\\sigma(\\zeta_9) = \\zeta_9^4$。我们验证 $\\sigma^2(\\zeta_9) = \\sigma(\\zeta_9^4) = (\\zeta_9^4)^4 = \\zeta_9^{16} = \\zeta_9^7$，所以 $\\sigma^2 = \\tau_7$。并且 $\\sigma^3 = \\tau_1 = \\text{id}$。所以 $\\operatorname{Gal}(K_{\\mathfrak{m}}/K) = \\langle \\sigma \\rangle$。\n\n由于 $K_{\\mathfrak{m}} = K(\\zeta_9)$ 是一个库默尔扩张，存在一个从伽罗瓦群到特征标群的典范同构 $\\chi: \\operatorname{Gal}(K_{\\mathfrak{m}}/K) \\to \\mu_3$，其中 $\\mu_3 = \\{\\zeta_3^0, \\zeta_3^1, \\zeta_3^2\\}$ 是三次单位根群。该映射由 $\\tau \\mapsto \\frac{\\tau(\\zeta_9)}{\\zeta_9}$ 给出。让我们找出我们的生成元 $\\sigma$ 的像：\n$$ \\chi(\\sigma) = \\frac{\\sigma(\\zeta_9)}{\\zeta_9} = \\frac{\\zeta_9^4}{\\zeta_9} = \\zeta_9^3 = \\zeta_3 $$\n所以，$\\sigma$ 对应于 $\\mu_3$ 的生成元 $\\zeta_3$。因此，$\\sigma^k$ 对应于 $\\zeta_3^k$。\n\n**3. 计算弗罗贝尼乌斯元**\n弗罗贝尼乌斯元 $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K)$ 可以通过阿廷映射确定。对于一个库默尔扩张 $L=K(\\sqrt[n]{a})/K$，弗罗贝尼乌斯元 $\\operatorname{Frob}_{\\mathfrak{q}}$ 的作用与 $n$ 次幂剩余符号有关。将特征标应用于弗罗贝尼乌斯元得到剩余符号：\n$$ \\chi(\\operatorname{Frob}_{\\mathfrak{q}}) = \\left(\\frac{\\zeta_3}{\\mathfrak{q}}\\right)_3 $$\n在这里，我们将 $K(\\zeta_9)$ 等同于 $K(\\sqrt[3]{\\zeta_3})$。三次剩余符号 $\\left(\\frac{\\alpha}{\\mathfrak{q}}\\right)_3$ 是与 $\\alpha^{(N(\\mathfrak{q})-1)/3}$ 模 $\\mathfrak{q}$ 同余的唯一的三次单位根。\n\n素数是 $p=43$。我们需要在 $\\mathcal{O}_K = \\mathbb{Z}[\\zeta_3]$ 中找到一个位于 $43$ 之上的素理想 $\\mathfrak{q}$。我们寻找一个范数 $N(\\pi) = a^2-ab+b^2=43$ 的元素 $\\pi = a+b\\zeta_3$。\n对于 $b=1$，我们有 $a^2-a+1=43$，这得到 $a^2-a-42=0$，即 $(a-7)(a+6)=0$。我们可以选择 $a=7$，所以 $\\pi = 7+\\zeta_3$。设 $\\mathfrak{q} = (\\pi) = (7+\\zeta_3)$。$\\mathfrak{q}$ 的范数是 $N(\\mathfrak{q})=43$。\n我们计算三次剩余符号：\n$$ \\left(\\frac{\\zeta_3}{\\mathfrak{q}}\\right)_3 \\equiv \\zeta_3^{(N(\\mathfrak{q})-1)/3} \\pmod{\\mathfrak{q}} $$\n指数是 $(43-1)/3 = 42/3 = 14$。\n$$ \\zeta_3^{14} = (\\zeta_3^3)^4 \\cdot \\zeta_3^2 = 1^4 \\cdot \\zeta_3^2 = \\zeta_3^2 $$\n所以，我们有 $\\chi(\\operatorname{Frob}_{\\mathfrak{q}}) = \\zeta_3^2$。\n\n**4. 确定 $k$**\n我们在寻找整数 $k \\in \\{0, 1, 2\\}$ 使得 $\\operatorname{Frob}_{\\mathfrak{q}} = \\sigma^k$。将特征标 $\\chi$ 应用于这个方程，我们得到：\n$$ \\chi(\\operatorname{Frob}_{\\mathfrak{q}}) = \\chi(\\sigma^k) = (\\chi(\\sigma))^k $$\n代入我们找到的值：\n$$ \\zeta_3^2 = (\\zeta_3)^k = \\zeta_3^k $$\n这意味着 $k \\equiv 2 \\pmod{3}$。由于 $k$ 必须在集合 $\\{0, 1, 2\\}$ 中，我们得出结论 $k=2$。\n如题目中所述，涉及局部互反律的论证为将理想 $\\mathfrak{q}$ 的全局阿廷映射与分歧素理想 $\\mathfrak{p}$ 处的局部性质联系起来提供了理论基础，这最终证明了使用剩余符号互反律是合理的，但使用剩余符号的直接计算是充分且正确的。", "answer": "$$\n\\boxed{2}\n$$", "id": "3022545"}]}