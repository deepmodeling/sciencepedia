{"hands_on_practices": [{"introduction": "递移原理的核心思想，是将一个稀疏集合（如素数）中的组合结构问题，转化为在一个更简单的“稠密”模型中进行研究。本练习将通过一个理想化的设定来阐明这一思想：假设我们有一个素数的“伪随机”主函数，你需要证明其在等差数列上的平均行为与该稠密模型一致。这个计算过程揭示了递移论证为何能成功的关键所在。[@problem_id:3026391]", "problem": "设 $N$ 是一个大的正整数，并设 $\\mathcal{D}_{N} \\subset \\mathbb{Z}^{2}$ 表示满足 $1 \\leq d \\leq \\lfloor N/3 \\rfloor$ 和 $1 \\leq x \\leq N - 2d$ 的数对 $(x,d)$ 的集合，使得三元组 $(x, x+d, x+2d)$ 位于 $[N] := \\{1,2,\\dots,N\\}$ 中。考虑与3项算术级数对应的线性形式组\n$$\nL_{1}(x,d) := x, \\quad L_{2}(x,d) := x + d, \\quad L_{3}(x,d) := x + 2d.\n$$\n设 $\\nu : [N] \\to \\mathbb{R}_{\\geq 0}$ 是一个素数的主函数（majorant），如 Green–Tao 定理关于素数中算术级数的转移框架（transference framework）中所使用的那样，并假设 $\\nu$ 允许分解为\n$$\n\\nu(n) = 1 + r(n),\n$$\n其中 $r : [N] \\to \\mathbb{R}$ 是一个有界误差函数，满足以下由有界复杂度系统的线性形式条件（linear forms condition）所启发的伪随机性（pseudorandomness）性质：\n- 均值为零（误差可忽略）：\n$$\n\\mathbb{E}_{n \\in [N]} r(n) = o_{N \\to \\infty}(1).\n$$\n- 沿 $\\mathcal{D}_{N}$ 的单形式平均值消失：\n$$\n\\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} r(L_{i}(x,d)) = o_{N \\to \\infty}(1) \\quad \\text{对于每个 } i \\in \\{1,2,3\\}.\n$$\n- 沿不同形式的成对相关性消失：\n$$\n\\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} r(L_{i}(x,d)) \\, r(L_{j}(x,d)) = o_{N \\to \\infty}(1) \\quad \\text{对于每个不同的 } i,j \\in \\{1,2,3\\}.\n$$\n- 三重相关性消失：\n$$\n\\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} r(L_{1}(x,d)) \\, r(L_{2}(x,d)) \\, r(L_{3}(x,d)) = o_{N \\to \\infty}(1).\n$$\n此处 $\\mathbb{E}$ 表示在指定有限集上的归一化平均。\n\n定义3项算术级数平均值\n$$\nA_{N} := \\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} \\prod_{i=1}^{3} \\nu\\big(L_{i}(x,d)\\big).\n$$\n仅从上述基本定义和伪随机性假设出发，展开 $A_{N}$ 并通过识别必须控制的线性、二次和三次误差项来验证该系统的线性形式条件。计算极限的精确闭式解析值\n$$\n\\lim_{N \\to \\infty} A_{N}.\n$$\n无需四舍五入；以精确形式给出极限，不带单位。", "solution": "问题要求计算当 $N \\to \\infty$ 时平均值 $A_N$ 的极限。该平均值是在集合 $[N] := \\{1, 2, \\dots, N\\}$ 内的所有3项算术级数上计算的，并由一个主函数 $\\nu$ 加权。问题的核心在于应用误差函数 $r(n) = \\nu(n) - 1$ 给定的伪随机性性质。\n\n需要分析的量定义为\n$$\nA_{N} := \\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} \\prod_{i=1}^{3} \\nu\\big(L_{i}(x,d)\\big)\n$$\n其中线性形式组为 $L_{1}(x,d) = x$，$L_{2}(x,d) = x+d$，$L_{3}(x,d) = x+2d$，平均域为 $\\mathcal{D}_{N} = \\{(x,d) \\in \\mathbb{Z}^2 \\mid 1 \\leq d \\leq \\lfloor N/3 \\rfloor, 1 \\leq x \\leq N - 2d\\}$。主函数 $\\nu(n)$ 分解为 $\\nu(n) = 1 + r(n)$。\n\n我们首先将 $\\nu(n)$ 的分解代入 $A_N$ 的定义中：\n$$\nA_{N} = \\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} \\left[ \\big(1 + r(L_{1}(x,d))\\big) \\big(1 + r(L_{2}(x,d))\\big) \\big(1 + r(L_{3}(x,d))\\big) \\right]\n$$\n为继续进行，我们展开期望内的乘积。设 $r_i$ 为 $r(L_i(x,d))$ 的简写，其中 $i \\in \\{1, 2, 3\\}$。该乘积为 $(1+r_1)(1+r_2)(1+r_3)$。\n$$\n(1+r_1)(1+r_2)(1+r_3) = (1 + r_1 + r_2 + r_1 r_2)(1+r_3)\n$$\n$$\n= 1 + r_3 + r_1 + r_1 r_3 + r_2 + r_2 r_3 + r_1 r_2 + r_1 r_2 r_3\n$$\n$$\n= 1 + (r_1 + r_2 + r_3) + (r_1 r_2 + r_1 r_3 + r_2 r_3) + r_1 r_2 r_3\n$$\n现在，我们将这个展开式代回 $A_N$ 的表达式中。根据期望算子 $\\mathbb{E}$ 的线性性质，和的期望等于期望的和：\n$$\nA_{N} = \\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} \\left[ 1 \\right] + \\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} \\left[ r_1 + r_2 + r_3 \\right] + \\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} \\left[ r_1 r_2 + r_1 r_3 + r_2 r_3 \\right] + \\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} \\left[ r_1 r_2 r_3 \\right]\n$$\n这可以进一步分解为：\n$$\nA_{N} = \\mathbb{E}[1] + \\left(\\mathbb{E}[r_1] + \\mathbb{E}[r_2] + \\mathbb{E}[r_3]\\right) + \\left(\\mathbb{E}[r_1 r_2] + \\mathbb{E}[r_1 r_3] + \\mathbb{E}[r_2 r_3]\\right) + \\mathbb{E}[r_1 r_2 r_3]\n$$\n在这个表达式中，我们可以识别出问题中指定的各个项。\n项 $\\mathbb{E}[1]$ 是主项。它显然等于 $1$。\n$$\n\\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}}[1] = 1\n$$\n第一个括号中的项，$\\mathbb{E}[r_1]$、$\\mathbb{E}[r_2]$ 和 $\\mathbb{E}[r_3]$，是线性误差项。这些对应于单形式平均值。具体来说，它们是：\n$$\n\\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} r(L_1(x,d)), \\quad \\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} r(L_2(x,d)), \\quad \\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} r(L_3(x,d))\n$$\n第二个括号中的项，$\\mathbb{E}[r_1 r_2]$、$\\mathbb{E}[r_1 r_3]$ 和 $\\mathbb{E}[r_2 r_3]$，是二次误差项。这些对应于沿不同形式的成对相关性。具体来说，它们是：\n$$\n\\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} r(L_1(x,d))r(L_2(x,d)), \\quad \\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} r(L_1(x,d))r(L_3(x,d)), \\quad \\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} r(L_2(x,d))r(L_3(x,d))\n$$\n最后一项 $\\mathbb{E}[r_1 r_2 r_3]$ 是三次误差项，对应于三重相关性。具体来说：\n$$\n\\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} r(L_1(x,d))r(L_2(x,d))r(L_3(x,d))\n$$\n问题将“线性形式条件”作为关于这些误差项的一组假设来提供。这个验证步骤精确地显示了为什么这些条件是必要的：为了确保所有涉及误差函数 $r$ 的项在极限中都消失。\n\n我们现在使用给定的伪随机性性质来评估当 $N \\to \\infty$ 时 $A_N$ 的极限。\n1.  **主项**：$\\lim_{N \\to \\infty} \\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}}[1] = \\lim_{N \\to \\infty} 1 = 1$。\n2.  **线性误差项**：问题陈述对于每个 $i \\in \\{1,2,3\\}$，$\\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} r(L_{i}(x,d)) = o_{N \\to \\infty}(1)$。这意味着当 $N \\to \\infty$ 时，这些项中每一项的极限都是 $0$。\n$$\n\\lim_{N \\to \\infty} \\left( \\mathbb{E}[r_1] + \\mathbb{E}[r_2] + \\mathbb{E}[r_3] \\right) = 0 + 0 + 0 = 0.\n$$\n3.  **二次误差项**：问题陈述对于每对不同的 $i,j \\in \\{1,2,3\\}$，$\\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} r(L_{i}(x,d)) r(L_{j}(x,d)) = o_{N \\to \\infty}(1)$。因此，这些项中每一项的极限也都是 $0$。\n$$\n\\lim_{N \\to \\infty} \\left( \\mathbb{E}[r_1 r_2] + \\mathbb{E}[r_1 r_3] + \\mathbb{E}[r_2 r_3] \\right) = 0 + 0 + 0 = 0.\n$$\n4.  **三次误差项**：问题陈述 $\\mathbb{E}_{(x,d) \\in \\mathcal{D}_{N}} r(L_{1}(x,d)) r(L_{2}(x,d)) r(L_{3}(x,d)) = o_{N \\to \\infty}(1)$。因此，该项的极限为 $0$。\n$$\n\\lim_{N \\to \\infty} \\mathbb{E}[r_1 r_2 r_3] = 0.\n$$\n将所有项的极限相加，我们得到 $A_N$ 的极限：\n$$\n\\lim_{N \\to \\infty} A_{N} = 1 + 0 + 0 + 0 = 1.\n$$", "answer": "$$\n\\boxed{1}\n$$", "id": "3026391"}, {"introduction": "为了更具体地理解递移原理，本练习在一个更简单的环境 $\\mathbb{Z}/N\\mathbb{Z}$ 中构建了一个玩具模型。你将使用傅里叶分析工具来证明，一个稀疏伪随机集合中的三项等差数列数量，可以被其“稠密”对应物的数量很好地近似。这个练习通过一个可计算的例子，将抽象的递移原理变得更加清晰和直观。[@problem_id:3026434]", "problem": "考虑一个奇素数 $N$ 和循环群 $\\mathbb{Z}/N\\mathbb{Z}$。对于一个函数 $h:\\mathbb{Z}/N\\mathbb{Z}\\to\\mathbb{R}$，定义归一化的三项算术级数（Arithmetic Progression (AP)）计数泛函\n$$\n\\Lambda(h) \\coloneqq \\mathbb{E}_{x,d\\in \\mathbb{Z}/N\\mathbb{Z}}\\, h(x)\\,h(x+d)\\,h(x+2d),\n$$\n其中 $\\mathbb{E}$ 表示在有限群上的平均。令 $p(N)=N^{-1/4}$，并设 $X:\\mathbb{Z}/N\\mathbb{Z}\\to\\{0,1\\}$ 是一个随机指示函数，通过以概率 $p(N)$ 独立地包含每个剩余类而获得。固定一个参数 $\\alpha\\in(0,1]$，并定义稀疏函数 $f(x)\\coloneqq \\alpha\\,X(x)$ 和稠密模型 $g(x)\\coloneqq \\alpha\\,p(N)$，对所有 $x\\in\\mathbb{Z}/N\\mathbb{Z}$ 成立。\n\n假设以下关于 $X$ 的伪随机事件成立：\n$$\n\\max_{\\xi\\in\\mathbb{Z}/N\\mathbb{Z}\\setminus\\{0\\}} \\left|\\widehat{X}(\\xi)\\right| \\le C \\sqrt{\\frac{\\ln N}{N}},\n$$\n对于某个绝对常数 $C>0$，其中归一化傅里叶变换定义为\n$$\n\\widehat{h}(\\xi)\\coloneqq \\mathbb{E}_{x\\in\\mathbb{Z}/N\\mathbb{Z}}\\, h(x)\\,\\exp\\!\\left(-\\frac{2\\pi i x\\xi}{N}\\right).\n$$\n根据标准的集中界，当 $N\\to\\infty$ 时，此事件以 $1-o(1)$ 的概率发生。\n\n仅从上述核心定义以及诸如帕塞瓦尔恒等式和独立有界随机变量和的集中不等式等经过充分检验的事实出发，推导出一个满足 $A(N)\\to 0$ 的显式界 $A(N)$，使得\n$$\n\\left|\\Lambda(f)-\\Lambda(g)\\right| \\le A(N),\n$$\n然后计算极限\n$$\nL \\coloneqq \\lim_{N\\to\\infty} \\left(\\Lambda(f)-\\Lambda(g)\\right).\n$$\n将你的最终答案表示为单个实数。无需四舍五入。", "solution": "用户希望找到一个稀疏随机函数与其稠密模型之间的三项算术级数（AP）计数泛函之差的一个界和一个极限。\n\n### 步骤1：初步验证\n问题陈述按如下方式进行验证：\n- **已知条件**:\n    - $N$：一个奇素数。\n    - 群：$\\mathbb{Z}/N\\mathbb{Z}$。\n    - 泛函：$\\Lambda(h) \\coloneqq \\mathbb{E}_{x,d\\in \\mathbb{Z}/N\\mathbb{Z}}\\, h(x)\\,h(x+d)\\,h(x+2d)$。\n    - 参数：$p(N) = N^{-1/4}$，$\\alpha\\in(0,1]$。\n    - 函数：$f(x) \\coloneqq \\alpha\\,X(x)$ 和 $g(x) \\coloneqq \\alpha\\,p(N)$，其中 $X(x)$ 是一个密度为 $p(N)$ 的随机集合的指示函数。\n    - 傅里叶变换：$\\widehat{h}(\\xi)\\coloneqq \\mathbb{E}_{x\\in\\mathbb{Z}/N\\mathbb{Z}}\\, h(x)\\,\\exp\\!\\left(-\\frac{2\\pi i x\\xi}{N}\\right)$。\n    - 假设（伪随机事件）：$\\max_{\\xi\\in\\mathbb{Z}/N\\mathbb{Z}\\setminus\\{0\\}} \\left|\\widehat{X}(\\xi)\\right| \\le C \\sqrt{\\frac{\\ln N}{N}}$，对于一个常数 $C>0$。\n- **验证结论**: 该问题在加法组合学中有科学依据，问题提法得当，客观且自洽。其定义是标准的，并且假设在该领域的背景下是现实的。该问题有效。\n\n### 步骤2：泛函的傅里叶表示\n三项AP计数泛函 $\\Lambda(h)$ 可以用 $h$ 的傅里叶系数来表示。令 $\\omega_N = \\exp(2\\pi i/N)$。与给定的 $\\widehat{h}(\\xi)$ 定义相对应的傅里叶反演公式为 $h(x) = \\sum_{\\xi \\in \\mathbb{Z}/N\\mathbb{Z}} \\widehat{h}(\\xi) \\omega_N^{x\\xi}$。\n\n将此代入 $\\Lambda(h)$ 的定义中：\n$$\n\\Lambda(h) = \\mathbb{E}_{x,d} \\left( \\sum_{\\xi_1} \\widehat{h}(\\xi_1)\\omega_N^{x\\xi_1} \\right) \\left( \\sum_{\\xi_2} \\widehat{h}(\\xi_2)\\omega_N^{(x+d)\\xi_2} \\right) \\left( \\sum_{\\xi_3} \\widehat{h}(\\xi_3)\\omega_N^{(x+2d)\\xi_3} \\right)\n$$\n根据期望的线性性，我们可以重排求和：\n$$\n\\Lambda(h) = \\sum_{\\xi_1,\\xi_2,\\xi_3} \\widehat{h}(\\xi_1)\\widehat{h}(\\xi_2)\\widehat{h}(\\xi_3) \\, \\mathbb{E}_x[\\omega_N^{x(\\xi_1+\\xi_2+\\xi_3)}] \\, \\mathbb{E}_d[\\omega_N^{d(\\xi_2+2\\xi_3)}]\n$$\n期望 $\\mathbb{E}_z[\\omega_N^{z\\eta}] = \\frac{1}{N}\\sum_{z=0}^{N-1} (\\omega_N^\\eta)^z$ 在 $\\eta=0 \\pmod N$ 时等于1，否则等于0。因此，该表达式非零当且仅当以下两个条件都成立：\n1. $\\xi_1+\\xi_2+\\xi_3 = 0 \\pmod N$\n2. $\\xi_2+2\\xi_3 = 0 \\pmod N$\n\n从条件(2)我们得到 $\\xi_2 = -2\\xi_3$。将其代入条件(1)得到 $\\xi_1 - 2\\xi_3 + \\xi_3 = 0$，化简为 $\\xi_1 = \\xi_3$。由于 $N$ 是奇素数，映射 $\\xi \\mapsto -2\\xi$ 是 $\\mathbb{Z}/N\\mathbb{Z}$ 上的一个置换。\n对所有 $\\xi_3 \\in \\mathbb{Z}/N\\mathbb{Z}$（我们可以将其重命名为 $\\xi$）求和，得到恒等式：\n$$\n\\Lambda(h) = \\sum_{\\xi \\in \\mathbb{Z}/N\\mathbb{Z}} \\widehat{h}(\\xi) \\widehat{h}(-2\\xi) \\widehat{h}(\\xi) = \\sum_{\\xi \\in \\mathbb{Z}/N\\mathbb{Z}} \\widehat{h}(\\xi)^2 \\widehat{h}(-2\\xi)\n$$\n\n### 步骤3：分析差值 $\\Lambda(f) - \\Lambda(g)$\n我们将傅里叶恒等式应用于 $f(x) = \\alpha X(x)$ 和 $g(x) = \\alpha p(N)$。\n$f$ 的傅里叶变换是 $\\widehat{f}(\\xi) = \\mathbb{E}_x[\\alpha X(x) \\omega_N^{-x\\xi}] = \\alpha \\widehat{X}(\\xi)$。\n常数函数 $g$ 的傅里叶变换仅在 $\\xi=0$ 处非零：\n$\\widehat{g}(0) = \\mathbb{E}_x[\\alpha p(N)] = \\alpha p(N)$。对于 $\\xi\\neq 0$，$\\widehat{g}(\\xi) = \\alpha p(N) \\mathbb{E}_x[\\omega_N^{-x\\xi}] = 0$。\n\n使用 $\\Lambda(h)$ 的恒等式：\n$$\n\\Lambda(f) = \\sum_{\\xi} \\widehat{f}(\\xi)^2 \\widehat{f}(-2\\xi) = \\sum_{\\xi} (\\alpha\\widehat{X}(\\xi))^2 (\\alpha\\widehat{X}(-2\\xi)) = \\alpha^3 \\sum_{\\xi} \\widehat{X}(\\xi)^2 \\widehat{X}(-2\\xi)\n$$\n对于 $g$，由于当 $\\xi\\neq 0$ 时 $\\widehat{g}(\\xi)=0$，求和只包含 $\\xi=0$ 这一项：\n$$\n\\Lambda(g) = \\widehat{g}(0)^2 \\widehat{g}(-2 \\cdot 0) = \\widehat{g}(0)^3 = (\\alpha p(N))^3 = \\alpha^3 p(N)^3\n$$\n因此，差值为：\n$$\n\\Lambda(f) - \\Lambda(g) = \\alpha^3 \\left( \\sum_{\\xi} \\widehat{X}(\\xi)^2 \\widehat{X}(-2\\xi) - p(N)^3 \\right)\n$$\n我们可以从求和中分离出 $\\xi=0$ 项：\n$$\n\\Lambda(f) - \\Lambda(g) = \\alpha^3 \\left( \\widehat{X}(0)^3 + \\sum_{\\xi \\neq 0} \\widehat{X}(\\xi)^2 \\widehat{X}(-2\\xi) - p(N)^3 \\right)\n$$\n$$\n= \\alpha^3 \\left( \\widehat{X}(0)^3 - p(N)^3 \\right) + \\alpha^3 \\sum_{\\xi \\neq 0} \\widehat{X}(\\xi)^2 \\widehat{X}(-2\\xi)\n$$\n\n### 步骤4：对各项进行界定并求极限\n我们现在界定这两项中每一项的大小，假设对于我们的 $X$ 的实现，给定的伪随机事件成立。\n\n**第一项：$\\alpha^3 \\left( \\widehat{X}(0)^3 - p(N)^3 \\right)$**\n项 $\\widehat{X}(0) = \\mathbb{E}_x[X(x)] = \\frac{1}{N}\\sum_x X(x)$ 是 $N$ 个参数为 $p(N)=N^{-1/4}$ 的独立伯努利随机变量的平均值。标准的集中不等式（如 Hoeffding 或 Chernoff 不等式）意味着 $\\widehat{X}(0)$ 高度集中在其均值 $\\mathbb{E}[X(x)]=p(N)$ 附近。具体来说，我们有 $|\\widehat{X}(0) - p(N)| \\le C' \\sqrt{\\frac{\\ln N}{N}}$ 以 $1-o(1)$ 的概率成立，对于某个常数 $C'>0$。我们假设此式成立。\n第一项的大小为：\n$$\n|\\alpha^3(\\widehat{X}(0)^3 - p(N)^3)| = \\alpha^3 |\\widehat{X}(0) - p(N)| \\cdot |\\widehat{X}(0)^2 + \\widehat{X}(0)p(N) + p(N)^2|\n$$\n第一个因子 $|\\widehat{X}(0) - p(N)| \\le C' \\sqrt{\\frac{\\ln N}{N}}$。\n对于第二个因子，由于当 $N\\to\\infty$ 时 $\\widehat{X}(0)$ 趋近于 $p(N)$，该因子渐近于 $3p(N)^2 = 3(N^{-1/4})^2 = 3N^{-1/2}$。对于大的 $N$，它可被例如 $4 N^{-1/2}$ 界定。\n因此，第一项的大小由一个量级的函数界定：\n$$\nO\\left( \\sqrt{\\frac{\\ln N}{N}} \\cdot N^{-1/2} \\right) = O\\left( N^{-1} \\sqrt{\\ln N} \\right)\n$$\n当 $N \\to \\infty$ 时，此项趋于 $0$。\n\n**第二项：$\\alpha^3 \\sum_{\\xi \\neq 0} \\widehat{X}(\\xi)^2 \\widehat{X}(-2\\xi)$**\n这一项的大小可以使用给定的伪随机性假设来界定：\n$$\n\\left| \\alpha^3 \\sum_{\\xi \\neq 0} \\widehat{X}(\\xi)^2 \\widehat{X}(-2\\xi) \\right| \\le \\alpha^3 \\sum_{\\xi \\neq 0} |\\widehat{X}(\\xi)|^2 |\\widehat{X}(-2\\xi)|\n$$\n我们可以提出当 $\\xi\\neq 0$ 时 $|\\widehat{X}(-2\\xi)|$ 的最大值。由于当 $\\xi$ 遍历所有非零元素时，$-2\\xi$ 也遍历所有非零元素，这个最大值由给定的假设界定：\n$$\n\\le \\alpha^3 \\left( \\max_{\\eta \\neq 0} |\\widehat{X}(\\eta)| \\right) \\left( \\sum_{\\xi \\neq 0} |\\widehat{X}(\\xi)|^2 \\right) \\le \\alpha^3 \\left( C \\sqrt{\\frac{\\ln N}{N}} \\right) \\left( \\sum_{\\xi \\neq 0} |\\widehat{X}(\\xi)|^2 \\right)\n$$\n对于所选的归一化，帕塞瓦尔恒等式为 $\\sum_{\\xi} |\\widehat{h}(\\xi)|^2 = \\mathbb{E}_x |h(x)|^2$。对于 $h=X$，其中 $X(x) \\in \\{0,1\\}$，我们有 $X(x)^2=X(x)$。\n$$\n\\sum_{\\xi} |\\widehat{X}(\\xi)|^2 = \\mathbb{E}_x[X(x)^2] = \\mathbb{E}_x[X(x)] = \\widehat{X}(0)\n$$\n这给出 $\\sum_{\\xi \\neq 0} |\\widehat{X}(\\xi)|^2 = \\widehat{X}(0) - |\\widehat{X}(0)|^2$。\n如前所示，$\\widehat{X}(0)$ 接近 $p(N) = N^{-1/4}$。所以，$\\widehat{X}(0) - |\\widehat{X}(0)|^2 \\approx p(N) - p(N)^2$，其量级为 $O(p(N)) = O(N^{-1/4})$。\n因此，第二项的大小由一个量级的函数界定：\n$$\nO\\left( \\sqrt{\\frac{\\ln N}{N}} \\cdot N^{-1/4} \\right) = O\\left( N^{-3/4} \\sqrt{\\ln N} \\right)\n$$\n当 $N \\to \\infty$ 时，此项也趋于 $0$。\n\n### 步骤5：结论\n一个显式界 $A(N)$ 由这两项的界之和给出。为简化计算，我们可以陈述一个基于大 $N$ 时的主导项的界：\n$$\nA(N) = \\alpha^3 \\left[ C' N^{-1} \\sqrt{\\ln N} \\left(\\frac{3}{2} p(N)^2 \\right) + C N^{-3/4} \\sqrt{\\ln N} \\left(p(N)+\\frac{C'}{\\sqrt{N}}\\right) \\right]\n$$\n一个简化形式（但对于大 $N$ 仍然有效）可以是 $A(N) = K N^{-3/4}\\sqrt{\\ln N}$，对于某个常数 $K$。\n由于 $|\\Lambda(f)-\\Lambda(g)| \\le A(N)$ 且 $\\lim_{N\\to\\infty} A(N) = 0$，根据夹逼定理，差的极限为零。\n$$\nL = \\lim_{N\\to\\infty} \\left(\\Lambda(f)-\\Lambda(g)\\right) = 0\n$$", "answer": "$$\n\\boxed{0}\n$$", "id": "3026434"}, {"introduction": "递移原理的适用性依赖于素数主函数的“伪随机性”，而Gowers一致性范数正是衡量这种伪随机性的关键工具。本练习将探讨相反的情形：一个高度结构化（非伪随机）的函数，并展示其具有大的Gowers范数。这个例子揭示了Gowers范数在探测结构方面的基本能力，而这正是证明中所用到的Gowers反问题的核心。[@problem_id:3026331]", "problem": "设 $N \\geq 3$ 是一个奇整数，且 $G = \\mathbb{Z}_{N}$ 是一个加法表示的 $N$ 阶循环群。对于一个函数 $f : G \\to \\mathbb{C}$，将其归一化平均写作 $\\mathbb{E}_{x \\in G} f(x) = \\frac{1}{N} \\sum_{x \\in G} f(x)$。定义 $f$ 的 3 阶 Gowers 一致性范数（Gowers $U^{3}$ 范数）为\n$$\n\\|f\\|_{U^{3}(G)}^{8} \\;:=\\; \\mathbb{E}_{x,h_{1},h_{2},h_{3} \\in G} \\prod_{\\omega \\in \\{0,1\\}^{3}} \\mathcal{C}^{|\\omega|} f\\!\\left(x + \\omega_{1} h_{1} + \\omega_{2} h_{2} + \\omega_{3} h_{3}\\right),\n$$\n其中 $\\mathcal{C}$ 表示复共轭，且 $|\\omega| = \\omega_{1} + \\omega_{2} + \\omega_{3}$。考虑显式二次相位\n$$\n\\phi(x) \\;=\\; \\exp\\!\\left(2\\pi i \\left(\\frac{a x^{2}}{N} + \\frac{b x}{N} + c\\right)\\right),\n$$\n其中 $a,b \\in \\mathbb{Z}_{N}$ 且 $c \\in \\mathbb{R}$。设 $f = \\phi$。仅使用上述定义和 $\\mathbb{Z}_{N}$ 上离散导数的基本性质，首先通过从第一性原理推导 $\\|f\\|_{U^{3}(G)}$ 来证明 $f$ 具有大的 Gowers $U^{3}$ 范数。然后，计算相关性大小\n$$\n\\left|\\mathbb{E}_{x \\in G} f(x)\\,\\overline{\\phi(x)}\\right|.\n$$\n将最终的相关性大小表示为单个精确值。不需要四舍五入。", "solution": "该问题要求对函数 $f(x) = \\phi(x)$ 执行两个任务，其中 $\\phi(x)$ 是群 $G = \\mathbb{Z}_N$ 上的二次相位函数。首先，从第一性原理计算 $f$ 的 Gowers $U^3$ 范数。其次，计算一个涉及 $f$ 和 $\\phi$ 的特定相关性大小。\n\n该问题陈述经核实是科学上成立、适定且客观的。这是一个加性组合中的标准问题，具有明确定义的术语和可解的结构。所有必要信息均已提供。\n\n我们从第一个任务开始：计算 $f(x) = \\phi(x)$ 的 Gowers $U^3$ 范数。\n给定函数为 $f(x) = \\phi(x) = \\exp\\left(2\\pi i P(x)\\right)$，其中相位 $P(x)$ 是一个关于 $x$ 的二次多项式：\n$$\nP(x) = \\frac{a x^{2}}{N} + \\frac{b x}{N} + c\n$$\n其中 $a, b \\in \\mathbb{Z}_N$ 且 $c \\in \\mathbb{R}$。群为 $G = \\mathbb{Z}_N$，其中 $N \\geq 3$ 为奇整数。\n\nGowers $U^3$ 范数定义为：\n$$\n\\|f\\|_{U^{3}(G)}^{8} = \\mathbb{E}_{x,h_{1},h_{2},h_{3} \\in G} \\prod_{\\omega \\in \\{0,1\\}^{3}} \\mathcal{C}^{|\\omega|} f\\left(x + \\omega \\cdot h\\right)\n$$\n其中 $\\omega = (\\omega_1, \\omega_2, \\omega_3)$，$h = (h_1, h_2, h_3)$，$\\omega \\cdot h = \\omega_1 h_1 + \\omega_2 h_2 + \\omega_3 h_3$，且 $\\mathcal{C}$ 是复共轭。\n\n这个乘积项可以用离散导数的概念来理解。设 $\\Delta_h g(x) = g(x+h)\\overline{g(x)}$ 是函数 $g: G \\to \\mathbb{C}$ 的离散导数。$U^3$ 范数定义中的乘积是迭代导数 $\\Delta_{h_1, h_2, h_3}f(x) = \\Delta_{h_3}(\\Delta_{h_2}(\\Delta_{h_1}f))(x)$。\n\n由于 $f(x) = \\exp(2\\pi i P(x))$，乘积项变为：\n$$\n\\prod_{\\omega \\in \\{0,1\\}^{3}} \\mathcal{C}^{|\\omega|} \\exp(2\\pi i P(x + \\omega \\cdot h)) = \\prod_{\\omega \\in \\{0,1\\}^{3}} \\exp((-1)^{|\\omega|} 2\\pi i P(x + \\omega \\cdot h))\n$$\n$$\n= \\exp\\left(2\\pi i \\sum_{\\omega \\in \\{0,1\\}^{3}} (-1)^{|\\omega|} P(x + \\omega \\cdot h)\\right)\n$$\n指数的宗量 $\\sum_{\\omega \\in \\{0,1\\}^{3}} (-1)^{|\\omega|} P(x + \\omega \\cdot h)$ 是对多项式 $P(x)$ 应用三阶有限差分算子的结果。我们定义差分算子 $(\\mathcal{D}_h Q)(x) = Q(x+h) - Q(x)$。指数中的和恰好是 $(\\mathcal{D}_{h_1}\\mathcal{D}_{h_2}\\mathcal{D}_{h_3}P)(x)$。\n\n我们现在来计算二次多项式 $P(x)$ 的这个迭代差分。\n首先，我们应用 $\\mathcal{D}_{h_3}$：\n\\begin{align*}\n(\\mathcal{D}_{h_3}P)(x) = P(x+h_3) - P(x) \\\\\n= \\left(\\frac{a(x+h_3)^2}{N} + \\frac{b(x+h_3)}{N} + c\\right) - \\left(\\frac{ax^2}{N} + \\frac{bx}{N} + c\\right) \\\\\n= \\frac{a(x^2 + 2xh_3 + h_3^2) - ax^2}{N} + \\frac{b(x+h_3) - bx}{N} \\\\\n= \\frac{2axh_3 + ah_3^2}{N} + \\frac{bh_3}{N}\n\\end{align*}\n设 $P_1(x) = (\\mathcal{D}_{h_3}P)(x)$。这是一个关于 $x$ 的 1 次多项式。\n\n接下来，我们将 $\\mathcal{D}_{h_2}$ 应用于 $P_1(x)$：\n\\begin{align*}\n(\\mathcal{D}_{h_2}P_1)(x) = P_1(x+h_2) - P_1(x) \\\\\n= \\left(\\frac{2a(x+h_2)h_3 + ah_3^2 + bh_3}{N}\\right) - \\left(\\frac{2axh_3 + ah_3^2 + bh_3}{N}\\right) \\\\\n= \\frac{2axh_3 + 2ah_2h_3 + ah_3^2 + bh_3 - 2axh_3 - ah_3^2 - bh_3}{N} \\\\\n= \\frac{2ah_2h_3}{N}\n\\end{align*}\n设 $P_2(x) = (\\mathcal{D}_{h_2}P_1)(x)$。这个表达式相对于 $x$ 是一个常数；它是一个 0 次多项式。\n\n最后，我们将 $\\mathcal{D}_{h_1}$ 应用于 $P_2(x)$：\n\\begin{align*}\n(\\mathcal{D}_{h_1}P_2)(x) = P_2(x+h_1) - P_2(x) \\\\\n= \\frac{2ah_2h_3}{N} - \\frac{2ah_2h_3}{N} \\\\\n= 0\n\\end{align*}\n因此，二次多项式 $P(x)$ 的三阶有限差分恒为零。\n\n因此，Gowers 范数期望内的乘积项为：\n$$\n\\exp(2\\pi i \\cdot 0) = 1\n$$\n现在我们可以计算范数：\n$$\n\\|f\\|_{U^{3}(G)}^{8} = \\mathbb{E}_{x,h_{1},h_{2},h_{3} \\in G} [1]\n$$\n期望是对 $N^4$ 个元素的平均，其值恒为 $1$。\n$$\n\\|f\\|_{U^{3}(G)}^{8} = \\frac{1}{N^4} \\sum_{x,h_{1},h_{2},h_{3} \\in \\mathbb{Z}_N} 1 = \\frac{1}{N^4} \\cdot N^4 = 1\n$$\n取八次方根，我们得到 Gowers $U^3$ 范数：\n$$\n\\|f\\|_{U^{3}(G)} = 1\n$$\n由于对所有 $x$ 都有 $|f(x)|=1$，因此 $f$ 的任何 Gowers 范数的最大可能值为 $1$。因此，我们计算出的值 $1$ 是最大可能值，这证明了 $f$ 具有“大的”Gowers $U^3$ 范数的说法。\n\n现在我们进行第二个任务：计算相关性大小。\n我们被要求计算 $|\\mathbb{E}_{x \\in G} f(x)\\,\\overline{\\phi(x)}|$。\n问题陈述我们必须取 $f = \\phi$。将此代入表达式，我们得到：\n$$\n\\left|\\mathbb{E}_{x \\in G} \\phi(x)\\,\\overline{\\phi(x)}\\right|\n$$\n对于任何复数 $z$，乘积 $z\\overline{z}$ 等于 $|z|^2$。所以，$\\phi(x)\\overline{\\phi(x)} = |\\phi(x)|^2$。\n函数 $\\phi(x)$ 由下式给出：\n$$\n\\phi(x) = \\exp\\left(2\\pi i \\left(\\frac{a x^{2}}{N} + \\frac{b x}{N} + c\\right)\\right)\n$$\n由于 $a, b, x, N$ 是整数（$\\mathbb{Z}_N$ 的元素由整数 $\\{0, 1, \\dots, N-1\\}$ 表示），而 $c$ 是实数，指数函数的宗量形式为 $2\\pi i \\theta$，其中 $\\theta$ 是一个实数。这种复数的模总是 $1$：\n$$\n|\\phi(x)| = \\left|\\exp(i \\cdot \\text{real number})\\right| = 1\n$$\n因此，期望内的乘积对所有 $x \\in G$ 都是 $|\\phi(x)|^2 = 1^2 = 1$。\n表达式简化为：\n$$\n\\left|\\mathbb{E}_{x \\in G} 1\\right|\n$$\n使用归一化平均的定义：\n$$\n\\mathbb{E}_{x \\in G} 1 = \\frac{1}{N} \\sum_{x \\in G} 1 = \\frac{1}{N} \\cdot N = 1\n$$\n最后，取这个结果的模：\n$$\n|1| = 1\n$$\n相关性大小恰好为 $1$。", "answer": "$$\n\\boxed{1}\n$$", "id": "3026331"}]}