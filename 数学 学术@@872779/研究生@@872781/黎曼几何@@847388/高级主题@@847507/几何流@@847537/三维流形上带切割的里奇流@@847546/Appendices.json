{"hands_on_practices": [{"introduction": "在我们施行手术之前，首先必须理解那些使得手术成为必要条件的奇点。本练习旨在模拟三维里奇流中最典型的一类奇点——“颈缩”奇点（neckpinch singularity）。通过推导描述颈部区域半径演化的常微分方程，我们将亲手揭示这些区域是如何以及为何会坍缩，并最终在有限时间内形成奇点。这个计算是理解引入手术技术背后动机的基石 [@problem_id:2988720]。", "problem": "考虑在一个闭的三维黎曼流形上，里奇流方程 $\\partial_{t} g(t) = -2 \\,\\mathrm{Ric}(g(t))$ 的一个光滑解 $g(t)$。假设当时间 $t$ 从下方趋近于一个奇异时间 $T$ 时，存在一个与 $S^{2} \\times I$（其中 $I$ 是一个区间）微分同胚的区域，该区域可以很好地被一个形如\n$$\ng(t)\\big|_{S^{2} \\times I} = dz^{2} + r(t)^{2}\\, g_{S^{2}},\n$$\n的乘积度量所近似，其中 $z$ 是沿 $I$ 的坐标，$g_{S^{2}}$ 是 $S^{2}$ 上常截面曲率为 $1$ 的圆度量，而 $r(t)  0$ 是一个光滑的时间函数，代表该区域中（近似恒定的）颈缩半径。假定此颈缩区域在里奇流下的演化主要是通过改变半径 $r(t)$ 来进行的，在 $t \\nearrow T$ 时，其与柱体 $S^{2}(r(t)) \\times I$ 的差异在主阶上可忽略不计。\n\n仅使用里奇流方程和关于半径为 $r$ 的圆球面的里奇张量的标准事实（即，$(S^{2}, r^{2} g_{S^{2}})$ 的里奇张量等于 $\\frac{1}{r^{2}}$ 乘以限制在 $S^{2}$ 方向上的度量，并且对于乘积度量，在 $I$ 方向上为零），推导由该流在此颈缩区域内引发的关于 $r(t)$ 的常微分方程（ODE）。然后确定由下式定义的主阶渐近指数 $p$：\n$$\nr(t) \\sim A \\,(T - t)^{p} \\quad \\text{as } t \\nearrow T,\n$$\n其中 $A  0$ 是一个常数。请给出 $p$ 的值作为最终答案。无需四舍五入。", "solution": "该问题要求推导在里奇流下演化的三维流形中柱状颈缩区域的半径 $r(t)$ 所遵循的常微分方程（ODE），并确定描述该半径在奇异时间 $T$ 如何收缩至零的渐近指数 $p$。\n\n首先，我们验证问题陈述的有效性。\n\n### 步骤 1：提取已知条件\n- **里奇流方程**：$\\partial_{t} g(t) = -2 \\,\\mathrm{Ric}(g(t))$\n- **流形**：一个闭的三维黎曼流形。\n- **关注区域**：当 $t$ 趋近奇异时间 $T$ 时，存在一个与 $S^{2} \\times I$ 微分同胚的区域。\n- **度量拟设**：在该区域中，度量近似为 $g(t) = dz^{2} + r(t)^{2}\\, g_{S^{2}}$。这里，$z$ 是区间 $I$ 上的坐标，$g_{S^{2}}$ 是截面曲率恒为 $1$ 的二维球面上的圆度量，$r(t)  0$ 是随时间变化的半径。\n- **里奇张量信息**：对于乘积度量 $dz^2 + r(t)^2 g_{S^2}$，其里奇张量是给定的。具体来说，球面部分 $(S^2, r(t)^2 g_{S^2})$ 的里奇张量是 $\\frac{1}{r(t)^2}$ 乘以球面上的度量。对于完整的乘积度量，在 $z$ 方向的里奇张量分量为零。\n- **渐近行为**：当 $t \\nearrow T$ 时，半径遵循 $r(t) \\sim A \\,(T - t)^{p}$ 的形式，其中 $A  0$ 和 $p$ 是常数。\n- **目标**：推导 $r(t)$ 的常微分方程并求出指数 $p$ 的值。\n\n### 步骤 2：使用提取的已知条件进行验证\n- **科学依据**：该问题描述了一个颈缩奇异点，这是里奇流研究中的一个基本概念，特别是在 Hamilton 的纲领和 Perelman 对庞加莱猜想的证明中。该模型是 I 型奇异点的一个标准且成熟的局部模型。它在科学上是合理的。\n- **适定性**：该问题提供了所有必要信息：演化方程、度量形式以及所得里奇张量的关键性质。目标陈述清晰，可以从给定信息中确定唯一解。\n- **客观性**：该问题以精确的数学语言陈述，没有歧义或主观论断。\n\n该问题没有指令中列出的任何缺陷（例如，科学上不合理、不完整、有歧义）。这是一个黎曼几何中适定且标准的问题。\n\n### 步骤 3：结论与行动\n问题有效。我们着手解决它。\n\n### 解答\n度量 $g(t)$ 的演化由里奇流方程决定：\n$$\n\\partial_{t} g(t) = -2 \\,\\mathrm{Ric}(g(t))\n$$\n颈缩区域的度量由以下拟设给出：\n$$\ng(t) = dz^{2} + r(t)^{2}\\, g_{S^{2}}\n$$\n其中 $g_{S^2}$ 是二维球面上一个不依赖于时间的度量。度量中唯一的时间依赖性来自于标量函数 $r(t)$。\n\n首先，我们计算里奇流方程的左侧，即度量张量 $g(t)$ 的时间导数。\n$$\n\\partial_{t} g(t) = \\partial_{t} \\left( dz^{2} + r(t)^{2}\\, g_{S^{2}} \\right)\n$$\n由于 $dz^2$ 和 $g_{S^2}$ 不依赖于时间，导数仅作用于系数 $r(t)^2$：\n$$\n\\partial_{t} g(t) = \\frac{d}{dt}(r(t)^{2}) \\,g_{S^{2}} = 2 r(t) \\frac{dr}{dt} \\,g_{S^{2}}\n$$\n这是一个张量，它在 $z$ 方向的向量场上为零，而在与 $S^2$ 因子相切的向量场上等于 $2 r(t) \\dot{r}(t) g_{S^2}$。这里，$\\dot{r}(t) = \\frac{dr}{dt}$。\n\n接下来，我们确定里奇流方程的右侧，这涉及到度量 $g(t)$ 的里奇张量 $\\mathrm{Ric}(g(t))$。问题陈述要求使用乘积度量 $dz^2 + r(t)^2 g_{S^2}$ 的里奇张量。对于黎曼流形 $(M_1,g_1)$ 和 $(M_2,g_2)$ 的乘积，其乘积度量 $g_1 \\oplus g_2$ 的里奇张量是各个里奇张量的直和，即 $\\mathrm{Ric}(g_1) \\oplus \\mathrm{Ric}(g_2)$。\n\n在我们的例子中，$(M_1, g_1)$是具有平直度量 $dz^2$ 的区间 $I$。任何一维流形都是里奇平坦的，因此 $\\mathrm{Ric}(dz^2) = 0$。这对应于里奇张量的 $z$ 方向分量。\n\n第二部分 $(M_2, g_2)$ 是半径为 $r(t)$ 的二维球面，其度量为 $g_{S^2_{r(t)}} = r(t)^2 g_{S^2}$。问题给出了其里奇张量的公式：“$(S^{2}, r^{2} g_{S^{2}})$ 的里奇张量等于 $\\frac{1}{r^{2}}$ 乘以限制在 $S^{2}$ 方向上的度量”。限制在 $S^2$ 方向上的度量是 $r(t)^2 g_{S^2}$。因此，球面上的里奇张量为：\n$$\n\\mathrm{Ric}(r(t)^2 g_{S^2}) = \\frac{1}{r(t)^2} \\left( r(t)^2 g_{S^2} \\right) = g_{S^2}\n$$\n结合各分量，完整乘积度量 $g(t)$ 的里奇张量具有块状结构：它在 $z$ 方向上为零，在与球面相切的方向上等于 $g_{S^2}$。\n\n现在，我们将 $\\partial_t g(t)$ 和 $\\mathrm{Ric}(g(t))$ 的表达式代入里奇流方程。\n$$\n\\partial_{t} g(t) = -2 \\,\\mathrm{Ric}(g(t))\n$$\n考虑方程在 $z$ 方向上的分量，我们得到 $0 = -2(0)$，这虽然是一致的，但没有提供任何信息。\n考虑与 $S^2$ 因子相切方向上的分量，我们有：\n$$\n2 r(t) \\dot{r}(t) g_{S^2} = -2 g_{S^2}\n$$\n由于 $g_{S^2}$ 是一个非退化的度量张量，我们可以令方程两边的标量系数相等。这就得到了半径 $r(t)$ 的常微分方程：\n$$\n2 r(t) \\dot{r}(t) = -2\n$$\n$$\nr(t) \\frac{dr}{dt} = -1\n$$\n这也可以写成 $\\frac{1}{2} \\frac{d}{dt}(r(t)^2) = -1$。\n我们通过分离变量法或直接积分来求解这个常微分方程：\n$$\n\\int r \\,dr = \\int -1 \\,dt\n$$\n$$\n\\frac{1}{2} r(t)^2 = -t + C\n$$\n其中 $C$ 是积分常数。因此，\n$$\nr(t)^2 = 2C - 2t\n$$\n问题陈述 $t=T$ 是一个奇异时间。在这个颈缩模型中，奇异点发生在柱体半径收缩为零时，即 $\\lim_{t \\to T} r(t) = 0$。应用这个条件：\n$$\nr(T)^2 = 0 = 2C - 2T\n$$\n这使我们能够确定积分常数：$2C = 2T$。\n将此代回 $r(t)^2$ 的解中：\n$$\nr(t)^2 = 2T - 2t = 2(T-t)\n$$\n由于半径 $r(t)$ 必须为正，我们取正平方根：\n$$\nr(t) = \\sqrt{2(T-t)} = \\sqrt{2} \\,(T-t)^{1/2}\n$$\n问题指定了 $r(t)$ 在奇异时间 $T$ 附近的渐近行为为：\n$$\nr(t) \\sim A \\,(T - t)^{p}\n$$\n通过将我们推导出的解与此渐近形式进行比较，我们可以确定常数 $A = \\sqrt{2}$ 和指数 $p$。\n$$\n\\sqrt{2} \\,(T-t)^{1/2} = A \\,(T-t)^p\n$$\n因此，指数为 $p = 1/2$。", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "2988720"}, {"introduction": "理解了颈缩奇点的形成机制后，下一个实际挑战是在一个复杂且持续演化的几何结构中精确地识别出这些区域。本练习将我们从理论模型带入实践算法。它要求我们基于局部曲率数据，实现一个量化准则来区分圆柱形的“颈部”区域与其他几何形态。这正是任何里奇流手术计算方法中的核心任务，它将抽象的几何概念与具体的算法实现联系起来 [@problem_id:2988717]。", "problem": "构建一个程序，该程序仅基于沿候选轴的里奇张量的逐点谱数据，为$3$-维流形上带手术的里奇流实现一个定量的颈部检测准则。该检测必须是尺度不变的，并从第一性原理出发进行论证。您的程序必须接收所提供的四个案例的合成里奇数据测试套件，并为每个案例返回一个布尔值，指示该数据是否满足定量颈部准则。\n\n使用的基本原理和定义：\n- 里奇流是在黎曼流形 $(M^3,g(t))$ 上的偏微分方程 (PDE) $\\partial_t g(t) = -2 \\operatorname{Ric}(g(t))$，其中 $g(t)$ 是一个依赖于时间的黎曼度量，$\\operatorname{Ric}(g)$ 是里奇曲率张量。\n- 在度量缩放 $g' = s\\,g$（其中 $s0$）下，所有曲率张量都按 $1/s$ 缩放，特别是 $\\operatorname{Ric}' = \\operatorname{Ric}/s$ 和标量曲率 $R' = R/s$。因此，里奇特征值与标量曲率的比值是尺度不变的。\n- 在标准乘积柱面 $S^2(r)\\times \\mathbb{R}$（其中 $S^2$ 是半径为 $r$ 的圆球面）上，里奇张量的特征值为 $(1/r^2,\\,1/r^2,\\,0)$，标量曲率为 $R=2/r^2$。因此，归一化特征值 $(\\lambda_i/R)$ 等于 $(0,\\,1/2,\\,1/2)$，且与 $r$ 无关。\n\n要实现的定量颈部检测准则：\n给定沿候选轴的 $m$ 个样本点的有限样本，在每个样本 $i$ 处，您会得到一个对称的 $3\\times 3$ 里奇张量 $\\operatorname{Ric}_i$（在某个坐标基下）。令 $\\lambda_{i,1}\\le \\lambda_{i,2}\\le \\lambda_{i,3}$ 表示 $\\operatorname{Ric}_i$ 的有序特征值，令 $R_i=\\lambda_{i,1}+\\lambda_{i,2}+\\lambda_{i,3}$ 表示该样本处的标量曲率。定义归一化特征值 $\\mu_{i,k}=\\lambda_{i,k}/R_i$，其中 $k\\in\\{1,2,3\\}$。当且仅当以下所有尺度不变条件同时成立时，才将样本声明为定量颈部：\n- 每个样本的局部柱状谱：对于所有 $i$，\n  - 非负性与小轴向曲率：$0\\le \\mu_{i,1}\\le \\varepsilon$，\n  - 两个大且几乎相等的球面方向：$\\lvert \\mu_{i,2}-\\tfrac{1}{2}\\rvert\\le \\varepsilon$ 和 $\\lvert \\mu_{i,3}-\\tfrac{1}{2}\\rvert\\le \\varepsilon$，\n  - 球面方向内的小各向异性：$\\lvert \\mu_{i,3}-\\mu_{i,2}\\rvert\\le \\delta$。\n- 轴向均匀性：对于每个 $k\\in\\{1,2,3\\}$，沿轴的变化量满足 $\\max_i \\mu_{i,k}-\\min_i \\mu_{i,k}\\le \\nu$。\n- 受控的标量曲率变化：相对变化量满足 $\\dfrac{\\max_i R_i-\\min_i R_i}{\\frac{1}{m}\\sum_i R_i}\\le \\theta$。\n\n使用以下检测阈值：\n- $\\varepsilon = 0.05$，\n- $\\delta = 0.06$，\n- $\\nu = 0.03$，\n- $\\theta = 0.08$。\n\n测试套件规范：\n每个测试用例包含 $m=5$ 个样本，对于每个样本，您会得到标量曲率 $R_i$ 和归一化特征值 $\\mu_{i,1},\\mu_{i,2},\\mu_{i,3}$。您的程序必须使用的实际里奇矩阵 $\\operatorname{Ric}_i$ 应为对角矩阵，其对角线元素等于特征值 $\\lambda_{i,k}:=\\mu_{i,k}R_i$，即 $\\operatorname{Ric}_i=\\operatorname{diag}(\\lambda_{i,1},\\lambda_{i,2},\\lambda_{i,3})$。\n\n- 测试用例 $1$ (理想情况：一个变化微小的好颈部)：\n  - 标量曲率 $[\\,2.0,\\,2.04,\\,1.96,\\,2.02,\\,1.98\\,]$。\n  - 每个样本的归一化特征值：\n    - $[\\,0.01,\\,0.495,\\,0.495\\,]$,\n    - $[\\,0.012,\\,0.494,\\,0.494\\,]$,\n    - $[\\,0.011,\\,0.4945,\\,0.4945\\,]$,\n    - $[\\,0.013,\\,0.4935,\\,0.4935\\,]$,\n    - $[\\,0.009,\\,0.4955,\\,0.4955\\,]$。\n\n- 测试用例 $2$ (边界情况：接近阈值的变化，仍可接受)：\n  - 标量曲率 $[\\,2.0,\\,2.05,\\,2.0,\\,1.95,\\,2.1\\,]$。\n  - 每个样本的归一化特征值：\n    - $[\\,0.05,\\,0.49,\\,0.46\\,]$,\n    - $[\\,0.048,\\,0.497,\\,0.455\\,]$,\n    - $[\\,0.051,\\,0.492,\\,0.457\\,]$,\n    - $[\\,0.052,\\,0.493,\\,0.455\\,]$,\n    - $[\\,0.05,\\,0.488,\\,0.462\\,]$。\n\n- 测试用例 $3$ (边缘情况：类似近圆球面 $S^3$ 的谱，应被拒绝)：\n  - 标量曲率 $[\\,6.0,\\,5.9,\\,6.1,\\,6.05,\\,5.95\\,]$。\n  - 每个样本的归一化特征值：\n    - $[\\,0.3333,\\,0.3333,\\,0.3334\\,]$,\n    - $[\\,0.3330,\\,0.3335,\\,0.3335\\,]$,\n    - $[\\,0.3334,\\,0.3333,\\,0.3333\\,]$,\n    - $[\\,0.3333,\\,0.3334,\\,0.3333\\,]$,\n    - $[\\,0.3332,\\,0.3334,\\,0.3334\\,]$。\n\n- 测试用例 $4$ (帽状区域：显著的轴向曲率和较大的标量曲率变化，应被拒绝)：\n  - 标量曲率 $[\\,3.0,\\,3.2,\\,2.8,\\,3.1,\\,2.9\\,]$。\n  - 每个样本的归一化特征值：\n    - $[\\,0.2,\\,0.4,\\,0.4\\,]$,\n    - $[\\,0.22,\\,0.39,\\,0.39\\,]$,\n    - $[\\,0.18,\\,0.41,\\,0.41\\,]$,\n    - $[\\,0.21,\\,0.395,\\,0.395\\,]$,\n    - $[\\,0.19,\\,0.405,\\,0.405\\,]$。\n\n要求的最终输出格式：\n您的程序应生成一行输出，其中包含用方括号括起来的逗号分隔列表形式的结果 (例如, $[\\,\\text{result1},\\text{result2},\\text{result3},\\text{result4}\\,]$)。每个结果必须是一个布尔值，指示相应的测试用例是否满足定量颈部准则。", "solution": "问题陈述已经过严格验证，被认为是有效的。它在科学上是合理的、适定的和客观的。该问题完全属于黎曼几何领域，特别涉及$3$-维流形上的里奇流分析。它要求实现一个定量颈部检测算法，这是带手术的里奇流理论中的一个核心概念，由 Hamilton 发展并由 Perelman 在证明庞加莱猜想和几何化猜想时确立。所提供的数据和准则足以确定唯一的解，尽管关于测试用例数据呈现的一个次要歧义将通过严格遵守形式化的数学定义来解决。\n\n问题的核心是确定一个$3$-维流形的区域（在有限数量的点上采样）在几何上是否类似于 $S^2 \\times \\mathbb{R}$ 形式的柱面。里奇流方程 $\\partial_t g(t) = -2 \\operatorname{Ric}(g(t))$ 以一种趋向于使曲率均匀化的方式演化度量 $g(t)$。高正曲率区域会收缩，在三维空间中，可能形成“颈状”奇异点，此时流形局部看起来像一个收缩的柱面。为了在这些奇异点之后继续流动，需要进行手术，这涉及到识别并切除这些颈状区域。所实现的准则是这一识别过程的形式化。\n\n一个关键原则是尺度不变性。颈部的几何形状与其绝对尺寸（$S^2$ 因子的半径）无关。里奇张量 $\\operatorname{Ric}$ 和标量曲率 $R$ 都与度量缩放因子成反比，因此它们的比率是尺度不变的。因此，该准则是根据里奇张量的归一化特征值 $\\mu_k = \\lambda_k/R$ 来制定的，其中 $\\lambda_k$ 是 $\\operatorname{Ric}$ 的特征值，而 $R=\\sum \\lambda_k$。对于一个理想的柱面 $S^2(r) \\times \\mathbb{R}$，里奇特征值为 $(1/r^2, 1/r^2, 0)$，标量曲率为 $R=2/r^2$。因此，归一化谱恰好为 $(0, 1/2, 1/2)$，与半径 $r$ 无关。所提供的算法检查采样区域在量化意义上是否“接近”这个理想的柱状谱。\n\n程序化实现将遵循所提供的三组条件。\n\n首先，正确处理输入数据至关重要。问题为每个样本点 $i$ 提供了一组三个归一化特征值。准则中的定义依赖于有序特征值 $\\lambda_{i,1}\\le \\lambda_{i,2}\\le \\lambda_{i,3}$ 和相应的有序归一化特征值 $\\mu_{i,1}\\le \\mu_{i,2}\\le \\mu_{i,3}$（假设标量曲率 $R_i0$，这对所有测试数据都成立）。所提供的归一化特征值数据并不总是预先排序的。因此，对于每个样本点 $i$，第一步必须是对给定的三元组值进行排序，以获得有序集 $(\\mu_{i,1}, \\mu_{i,2}, \\mu_{i,3})$。\n\n然后，算法验证按如下方式进行，使用给定的阈值 $\\varepsilon = 0.05$，$\\delta = 0.06$，$\\nu = 0.03$ 和 $\\theta = 0.08$：\n\n1.  **局部柱状谱验证：** 这组条件必须对从 $1$ 到 $m=5$ 的每个样本点 $i$ 都成立。\n    - 非负性与小轴向曲率：最小的特征值对应于柱体的“轴向”方向，该方向是平坦的。这通过条件 $0\\le \\mu_{i,1}\\le \\varepsilon$ 来测试。\n    - 近球面谱：另外两个特征值对应于具有正曲率的 $S^2$ 因子。对于理想柱面，两者均为 $\\frac{1}{2}$。这通过检查 $\\mu_{i,2}$ 和 $\\mu_{i,3}$ 是否都接近 $\\frac{1}{2}$ 来测试：$\\lvert \\mu_{i,2}-\\tfrac{1}{2}\\rvert\\le \\varepsilon$ 和 $\\lvert \\mu_{i,3}-\\tfrac{1}{2}\\rvert\\le \\varepsilon$。\n    - 低各向异性：两个球面方向应具有几乎相同的曲率。这通过条件 $\\lvert \\mu_{i,3}-\\mu_{i,2}\\rvert\\le \\delta$ 来检查。\n    如果任何一个不等式对于任何样本点 $i$ 不成立，则整个测试用例被分类为不满足定量颈部条件。\n\n2.  **轴向均匀性验证：** 颈部不仅仅是具有柱状谱的单个点，而是沿轴延伸的区域。该准则确保谱特性沿候选轴是均匀的。\n    - 对于每个特征值索引 $k\\in\\{1,2,3\\}$，计算 $\\mu_{i,k}$ 在所有样本 $i=1, \\dots, m$ 上的总变化量为 $\\max_i \\mu_{i,k}-\\min_i \\mu_{i,k}$。\n    - 这个变化量必须受阈值 $\\nu$ 的限制。也就是说，对于每个 $k$，我们必须有 $\\max_i \\mu_{i,k}-\\min_i \\mu_{i,k}\\le \\nu$。\n\n3.  **受控的标量曲率变化：** 标量曲率 $R$ 与颈部半径的平方反比有关。此条件确保颈部的厚度沿轴的变化不会过大。\n    - 标量曲率的相对变化量计算为 $\\dfrac{\\max_i R_i-\\min_i R_i}{\\bar{R}}$，其中 $\\bar{R} = \\frac{1}{m}\\sum_i R_i$ 是样本上的平均标量曲率。\n    - 这个相对变化量必须受阈值 $\\theta$ 的限制：$\\dfrac{\\max_i R_i-\\min_i R_i}{\\bar{R}}\\le \\theta$。\n\n一个测试用例当且仅当完全满足所有这三个多部分条件时，才被声明为定量颈部。程序将系统地检查每个测试用例的每个条件，并返回一个布尔结果。值得注意的是，对于测试用例2，其描述性文本（“仍可接受”）在严格应用规则时似乎与所提供的数据相冲突。在这种情况下，形式化的数学规则必须优先于非正式的描述。严格应用条件 $\\mu_{i,1} \\le \\varepsilon$（其中 $\\varepsilon=0.05$）会导致测试用例2失败，因为它的某些样本的最小归一化特征值大于 $0.05$（例如，$0.051$）。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the quantitative neck detection problem for the provided test suite.\n    \"\"\"\n\n    # Define the detection thresholds from the problem statement.\n    epsilon = 0.05\n    delta = 0.06\n    nu = 0.03\n    theta = 0.08\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        {\n            \"R_samples\": [2.0, 2.04, 1.96, 2.02, 1.98],\n            \"mu_samples\": [\n                [0.01, 0.495, 0.495],\n                [0.012, 0.494, 0.494],\n                [0.011, 0.4945, 0.4945],\n                [0.013, 0.4935, 0.4935],\n                [0.009, 0.4955, 0.4955],\n            ]\n        },\n        {\n            \"R_samples\": [2.0, 2.05, 2.0, 1.95, 2.1],\n            \"mu_samples\": [\n                [0.05, 0.49, 0.46],\n                [0.048, 0.497, 0.455],\n                [0.051, 0.492, 0.457],\n                [0.052, 0.493, 0.455],\n                [0.05, 0.488, 0.462],\n            ]\n        },\n        {\n            \"R_samples\": [6.0, 5.9, 6.1, 6.05, 5.95],\n            \"mu_samples\": [\n                [0.3333, 0.3333, 0.3334],\n                [0.3330, 0.3335, 0.3335],\n                [0.3334, 0.3333, 0.3333],\n                [0.3333, 0.3334, 0.3333],\n                [0.3332, 0.3334, 0.3334],\n            ]\n        },\n        {\n            \"R_samples\": [3.0, 3.2, 2.8, 3.1, 2.9],\n            \"mu_samples\": [\n                [0.2, 0.4, 0.4],\n                [0.22, 0.39, 0.39],\n                [0.18, 0.41, 0.41],\n                [0.21, 0.395, 0.395],\n                [0.19, 0.405, 0.405],\n            ]\n        }\n    ]\n\n    results = []\n    for case in test_cases:\n        result = is_quantitative_neck(\n            case[\"R_samples\"],\n            case[\"mu_samples\"],\n            epsilon,\n            delta,\n            nu,\n            theta\n        )\n        results.append(result)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\ndef is_quantitative_neck(R_samples, mu_samples, epsilon, delta, nu, theta):\n    \"\"\"\n    Applies the quantitative neck detection criterion to a single test case.\n\n    Args:\n        R_samples (list): List of scalar curvatures for m samples.\n        mu_samples (list of lists): List of normalized eigenvalues for m samples.\n        epsilon (float): Threshold for spectral properties.\n        delta (float): Threshold for anisotropy.\n        nu (float): Threshold for axial uniformity.\n        theta (float): Threshold for scalar curvature variation.\n\n    Returns:\n        bool: True if the case satisfies the neck criterion, False otherwise.\n    \"\"\"\n    R_arr = np.array(R_samples)\n    mu_arr = np.array(mu_samples)\n\n    # The problem definition relies on ordered eigenvalues mu_{i,1} = mu_{i,2} = mu_{i,3}.\n    # We must sort the given eigenvalue data for each sample.\n    sorted_mu = np.sort(mu_arr, axis=1)\n    \n    mu1 = sorted_mu[:, 0]\n    mu2 = sorted_mu[:, 1]\n    mu3 = sorted_mu[:, 2]\n\n    # ========== 1. Local cylindrical spectrum at every sample ==========\n    \n    # Nonnegativity and small axial curvature: 0 = mu_{i,1} = epsilon\n    if not np.all((0 = mu1)  (mu1 = epsilon)):\n        return False\n        \n    # Two large, nearly equal spherical directions\n    # |mu_{i,2} - 1/2| = epsilon and |mu_{i,3} - 1/2| = epsilon\n    if not np.all(np.abs(mu2 - 0.5) = epsilon):\n        return False\n    if not np.all(np.abs(mu3 - 0.5) = epsilon):\n        return False\n        \n    # Small anisotropy within the spherical directions: |mu_{i,3} - mu_{i,2}| = delta\n    if not np.all(np.abs(mu3 - mu2) = delta):\n        return False\n\n    # ========== 2. Axial uniformity ==========\n    \n    # max_i mu_{i,k} - min_i mu_{i,k} = nu for k=1,2,3\n    if (np.max(mu1) - np.min(mu1)) > nu:\n        return False\n    if (np.max(mu2) - np.min(mu2)) > nu:\n        return False\n    if (np.max(mu3) - np.min(mu3)) > nu:\n        return False\n\n    # ========== 3. Controlled scalar curvature variation ==========\n    \n    max_R = np.max(R_arr)\n    min_R = np.min(R_arr)\n    mean_R = np.mean(R_arr)\n    \n    # Avoid division by zero, though not an issue with the given test data.\n    if mean_R == 0:\n        # If mean is 0, max and min must also be 0 for a valid physical state\n        # with non-negative curvature. In this case, variation is 0.\n        if max_R - min_R > 0:\n            return False\n    else:\n        relative_variation = (max_R - min_R) / mean_R\n        if relative_variation > theta:\n            return False\n\n    # If all conditions are met, it is a quantitative neck.\n    return True\n\nif __name__ == \"__main__\":\n    solve()\n```", "id": "2988717"}, {"introduction": "在成功识别出颈部区域之后，便可执行手术操作：切除颈部并粘贴上“封帽”。本练习聚焦于指导这一过程的几何原理。通过确定用于构建封帽的标准三维球面 $S^3$ 所需的正确半径，我们能够确保粘贴过程平滑且几何上协调一致。这是成功延续里奇流的关键条件，此练习将阐明 Perelman 手术技术背后精妙的几何设计 [@problem_id:1017510]。", "problem": "在3-流形上的里奇流中，手术是处理颈缩奇点的关键步骤。本问题涉及此种手术的几何参数设定。\n\n手术过程由一个小的长度尺度参数 $\\delta  0$ 控制。当流形上的最大标量曲率 $R_{max}$ 达到阈值 $1/\\delta^2$ 时，该过程启动。手术发生在一个*标准颈*上，该区域在几何上建模为一个柱体 $S^2 \\times \\mathbb{R}$，其黎曼度量为 $ds^2 = dz^2 + r^2 g_{S^2}$，其中 $z$ 是沿柱体轴的坐标，$r$ 是 $S^2$ 横截面的半径，$g_{S^2}$ 是单位2-球面上的标准度量。此种柱体的标量曲率由 $R_{cyl} = 2/r^2$ 给出。\n\n手术所针对的特定颈，其标量曲率是阈值曲率的一个固定比例 $\\alpha$，即 $R_{cyl} = \\alpha R_{max}$，其中 $0  \\alpha \\le 1$ 是一个给定的常数。\n\n手术过程包括切除颈部并粘上两个*帽*来封住产生的边界。每个帽都是从半径为 $R$ 的标准3-球面 $S^3$ 中取出的一个测地球。半径为 $R$ 的 $S^3$ 在以某个极为原点的测地法坐标 $(\\rho, \\Omega)$ 下的度量由下式给出\n$$ds^2_{S^3} = d\\rho^2 + R^2 \\sin^2(\\frac{\\rho}{R}) g_{S^2}$$\n其中 $\\rho$ 是离极点的测地距离。一个帽是由 $0 \\le \\rho \\le \\rho_0$ 定义的区域，其中 $\\rho_0$ 是某个值。\n\n为确保几何上合理的连接，在帽与流形剩余部分粘合的边界处必须满足两个条件：\n1.  帽边界上的度量必须与颈部横截面的度量相匹配。\n2.  当被视为帽几何中的一个子流形时，帽的边界必须是一个极小曲面。这确保了尽可能平滑的连接。\n\n确定手术所用标准3-球面的半径 $R$。你的答案应为一个用参数 $\\delta$ 和 $\\alpha$ 表示的闭式表达式。", "solution": "1. 颈部曲率条件：\n$$R_{cyl} = \\frac{2}{r^2} = \\alpha R_{max} = \\frac{\\alpha}{\\delta^2}\n\\;\\Longrightarrow\\; r^2 = \\frac{2\\delta^2}{\\alpha}\\,. $$\n\n2. 将帽边界度量与颈部横截面匹配：\n$$R^2\\sin^2\\!\\bigl(\\tfrac{\\rho_0}{R}\\bigr)=r^2\\,. $$\n\n3. 在 $S^3_R$ 中帽边界的极小曲面条件：\n平均曲率 $H\\propto\\cot(\\rho_0/R)$ 为零 ⇒ \n$$\\cot\\bigl(\\tfrac{\\rho_0}{R}\\bigr)=0\n\\;\\Longrightarrow\\;\\frac{\\rho_0}{R}=\\frac{\\pi}{2}\n\\;\\Longrightarrow\\;\\sin\\bigl(\\tfrac{\\rho_0}{R}\\bigr)=1.$$\n\n4. 因此\n$$R^2 = r^2 = \\frac{2\\delta^2}{\\alpha}\n\\;\\Longrightarrow\\;R = \\delta\\sqrt{\\frac{2}{\\alpha}}\\,. $$", "answer": "$$\\boxed{\\delta\\sqrt{\\frac{2}{\\alpha}}}$$", "id": "1017510"}]}