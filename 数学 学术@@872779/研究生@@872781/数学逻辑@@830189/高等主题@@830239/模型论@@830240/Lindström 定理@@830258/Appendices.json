{"hands_on_practices": [{"introduction": "紧致性是一阶逻辑的基石，也是林斯特伦定理的关键假设之一。超乘积（ultraproduct）构造为紧致性定理提供了最优雅和强大的证明。本练习将引导你精确掌握超乘积和 Łoś 定理的定义，该定理深刻地揭示了超乘积结构与其分量结构属性之间的联系 [@problem_id:2976157]。", "problem": "选择一个选项，该选项在一阶逻辑 (FO) 的背景下，正确且精确地完成了以下所有任务：使用超滤子定义了结构族的超积，陈述了适用于 FO 公式（不仅仅是句子）的 Łoś 定理，并以适用于 Lindström 定理的水平解释了为什么 Łoś 定理支持 FO 的紧致性定理。\n\nA. 给定一个 $\\mathcal{L}$-结构族 $\\{\\mathcal{M}_i : i \\in I\\}$ 和 $I$ 上的一个超滤子 $\\mathcal{U}$，超积 $\\prod_{i \\in I} \\mathcal{M}_i / \\mathcal{U}$ 的论域是函数 $a : I \\to \\bigsqcup_{i \\in I} M_i$（其中 $a(i) \\in M_i$）的 $\\mathcal{U}$-等价类集合，其中 $a \\sim b$ 当且仅当 $\\{ i \\in I : a(i) = b(i) \\} \\in \\mathcal{U}$。对于每个元数为 $n$ 的函数符号 $f$，定义 $f^{\\prod/\\mathcal{U}}([a_1],\\dots,[a_n]) = [i \\mapsto f^{\\mathcal{M}_i}(a_1(i),\\dots,a_n(i))]$。对于每个元数为 $n$ 的关系符号 $R$，规定 $R^{\\prod/\\mathcal{U}}([a_1],\\dots,[a_n])$ 成立当且仅当 $\\{ i \\in I : R^{\\mathcal{M}_i}(a_1(i),\\dots,a_n(i)) \\} \\in \\mathcal{U}$。Łoś 定理：对于每个 FO 公式 $\\varphi(x_1,\\dots,x_n)$ 和超积中的元素 $[a_1],\\dots,[a_n]$，$$\\prod_{i \\in I} \\mathcal{M}_i / \\mathcal{U} \\models \\varphi([a_1],\\dots,[a_n]) \\quad \\text{当且仅当} \\quad \\{ i \\in I : \\mathcal{M}_i \\models \\varphi(a_1(i),\\dots,a_n(i)) \\} \\in \\mathcal{U}。$$ 这支持了紧致性定理：给定一个 FO 句子集 $\\Gamma$，其每个有限子集都是可满足的，用 $I$ 来索引 $\\Gamma$ 的所有有限子集 $\\Delta$，并选取 $\\mathcal{M}_\\Delta \\models \\Delta$。令 $\\mathcal{U}$ 为 $I$ 上的一个超滤子，它扩展了由 $\\varphi \\in \\Gamma$ 的锥 $X_\\varphi = \\{ \\Delta \\in I : \\varphi \\in \\Delta \\}$ 生成的滤子。根据 Łoś 定理，$\\prod_{\\Delta \\in I} \\mathcal{M}_\\Delta / \\mathcal{U} \\models \\Gamma$，从而证明了紧致性定理。这是 Lindström 定理中一个关键组成部分，该定理将 FO 刻画为满足紧致性和向下 Löwenheim–Skolem 性质的抽象逻辑中的极大者。\n\nB. 关于 $I$ 上的一个滤子 $\\mathcal{F}$，$\\{\\mathcal{M}_i : i \\in I\\}$ 的超积是笛卡尔积 $\\prod_{i \\in I} M_i$ 及其上符号的逐点解释，并且 Łoś 定理指出，对于每个 FO 句子 $\\sigma$，$\\prod_{i \\in I} \\mathcal{M}_i \\models \\sigma$ 当且仅当 $\\{ i \\in I : \\mathcal{M}_i \\models \\sigma \\} \\in \\mathcal{F}$。这证明了完全性定理，因此蕴含了紧致性定理，而紧致性定理是 Lindström 定理的主要假设。\n\nC. 超积是通过取笛卡尔积 $\\prod_{i \\in I} M_i$ 并逐坐标解释关系和函数来形成的，使用余有限滤子来定义真值：一个公式在超积中成立当且仅当它在除了有限多个 $i \\in I$ 之外的所有 $\\mathcal{M}_i$ 中成立。Łoś 定理对句子成立，但对带有自由变元的公式不成立，这足以通过一个简单的编码论证来推断紧致性，而该论证是 Lindström 定理中的主要工具。\n\nD. 超积是直积的任意一个在投影下封闭的子结构，而 Łoś 定理断言，如果每个 $\\mathcal{M}_i$ 都满足一个 FO 句子 $\\sigma$，那么其积也满足 $\\sigma$；这得出了向上 Löwenheim–Skolem 定理，该定理又蕴含了紧致性，并构成了 Lindström 定理的核心。", "solution": "问题陈述要求选择一个选项，该选项能够正确定义超积构造，陈述适用于一阶公式的 Łoś 定理，并在 Lindström 定理的背景下解释该定理在证明一阶逻辑 (FO) 紧致性定理中的作用。问题陈述本身是数理逻辑领域一项任务的有效指令。它具有科学依据，提法恰当且客观。我将继续分析每个选项。\n\n一个正确答案所需的核心组成部分是：\n1.  **超积定义**：结构 $\\prod_{i \\in I} \\mathcal{M}_i / \\mathcal{U}$ 的精确定义，包括其论域（作为笛卡尔积 $\\prod_{i \\in I} M_i$ 上的等价类）以及函数和关系符号的解释。等价关系必须通过索引集 $I$ 上的一个超滤子 $\\mathcal{U}$ 来定义。\n2.  **Łoś 定理**：对任意 FO 公式 $\\varphi(x_1, \\ldots, x_n)$（而不仅仅是句子）的正确陈述。该定理建立了一个等价关系：一个公式在给定元素赋值下在超积中为真，当且仅当该公式在对应分量赋值下在分量结构中为真的索引集合是该超滤子的一个成员。\n3.  **与紧致性定理和 Lindström 定理的联系**：使用超积证明 FO 紧致性定理的正确纲要。这涉及从一个无限可满足的句子集 $\\Gamma$ 的有限子集的模型出发，为其构造一个模型。该解释还应正确地将此结果置于 Lindström 定理的背景下，该定理根据紧致性和向下 Löwenheim-Skolem 性质来刻画 FO。\n\n**选项 A 的分析**\n\n1.  **超积定义**：选项 A 将超积 $\\prod_{i \\in I} \\mathcal{M}_i / \\mathcal{U}$ 的论域定义为函数 $a: I \\to \\bigsqcup_{i \\in I} M_i$（其中 $a(i) \\in M_i$）的 $\\mathcal{U}$-等价类集合。这是对笛卡尔积 $\\prod_{i \\in I} M_i$ 中元素的正确描述，尽管略显冗长。等价关系被正确地陈述为 $a \\sim b$ 当且仅当 $\\{ i \\in I : a(i) = b(i) \\} \\in \\mathcal{U}$。一个 $n$-元函数符号 $f$ 的解释由 $f^{\\prod/\\mathcal{U}}([a_1],\\dots,[a_n]) = [i \\mapsto f^{\\mathcal{M}_i}(a_1(i),\\dots,a_n(i))]$ 给出，一个 $n$-元关系符号 $R$ 的解释由 $R^{\\prod/\\mathcal{U}}([a_1],\\dots,[a_n])$ 成立当且仅当 $\\{ i \\in I : R^{\\mathcal{M}_i}(a_1(i),\\dots,a_n(i)) \\} \\in \\mathcal{U}$ 给出。这些定义是标准且正确的。\n\n2.  **Łoś 定理**：该选项陈述，对于任意 FO 公式 $\\varphi(x_1, \\ldots, x_n)$ 和超积中的元素 $[a_1], \\ldots, [a_n]$，我们有 $\\prod_{i \\in I} \\mathcal{M}_i / \\mathcal{U} \\models \\varphi([a_1],\\dots,[a_n])$ 当且仅当 $\\{ i \\in I : \\mathcal{M}_i \\models \\varphi(a_1(i),\\dots,a_n(i)) \\} \\in \\mathcal{U}$。这是 Łoś 定理的正确且普遍的形式，适用于所有公式，符合问题要求。\n\n3.  **与紧致性定理和 Lindström 定理的联系**：该解释正确地概述了紧致性定理的标准超积证明。它从一个句子集 $\\Gamma$ 开始，其中每个有限子集 $\\Delta$都有一个模型 $\\mathcal{M}_\\Delta$。索引集 $I$ 是所有这些有限子集 $\\Delta$ 的集合。它正确地指出了需要在 $I$ 上存在一个超滤子 $\\mathcal{U}$，该超滤子扩展了由每个 $\\varphi \\in \\Gamma$ 的集合 $X_\\varphi = \\{ \\Delta \\in I : \\varphi \\in \\Delta \\}$ 生成的滤子。这种超滤子的存在由超滤子引理（选择公理的一个推论）保证。它正确地得出结论，通过将 Łoś 定理应用于超积 $\\prod_{\\Delta \\in I} \\mathcal{M}_\\Delta / \\mathcal{U}$，可以证明这个结构是 $\\Gamma$ 中所有句子的一个模型。对于任何 $\\sigma \\in \\Gamma$，集合 $X_\\sigma \\in \\mathcal{U}$。由于对于任何 $\\Delta \\in X_\\sigma$，我们有 $\\sigma \\in \\Delta$，因此 $\\mathcal{M}_\\Delta \\models \\sigma$，由此可知 $X_\\sigma \\subseteq \\{ \\Delta \\in I : \\mathcal{M}_\\Delta \\models \\sigma \\}$。因为超滤子在超集下是封闭的，所以我们有 $\\{ \\Delta \\in I : \\mathcal{M}_\\Delta \\models \\sigma \\} \\in \\mathcal{U}$，因此根据 Łoś 定理，该超积是 $\\sigma$ 的模型。最后，它正确地陈述了其对于 Lindström 定理的重要性：FO 被刻画为同时满足紧致性和向下 Löwenheim-Skolem 性质的极大抽象逻辑。整个解释是准确且相关的。\n\n**选项 A 的结论**：正确。\n\n**选项 B 的分析**\n\n1.  **超积定义**：该选项声称结构是关于一个*滤子* $\\mathcal{F}$ 构建的，而不是超滤子。它还指出论域是笛卡尔积 $\\prod_{i \\in I} M_i$，忽略了通过等价关系取商的关键步骤。这描述的是直积，而不是超积。\n\n2.  **Łoś 定理**：它错误地陈述了适用于滤子 $\\mathcal{F}$ 和直积结构的定理。Łoś 定理从根本上依赖于*超滤子*的性质和商结构。此外，它将该定理限制于句子，这与问题规范相矛盾。\n\n3.  **与紧致性的联系**：它提出了一个混乱的主张，即 Łoś 定理证明了完全性定理，而完全性定理又蕴含了紧致性。紧致性定理的超积证明是一个纯语义的证明，它绕过了完全性定理核心的句法概念。\n\n**选项 B 的结论**：不正确。\n\n**选项 C 的分析**\n\n1.  **超积定义**：它错误地将滤子特化为*余有限滤子*。虽然余有限滤子是一个滤子，但只有当索引集 $I$ 是有限时，它才是一个超滤子（在这种情况下，超积同构于其中一个分量结构）。对于无限集，它不是超滤子。超积的概念需要一个一般的超滤子。它也忽略了商构造。\n\n2.  **Łoś 定理**：它提出了一个事实性错误的说法，即 Łoś 定理“对句子成立，但对带有自由变元的公式不成立”。该定理的力量和效用恰恰来自于它对所有一阶公式都成立，这一点可以通过对公式复杂度的归纳来证明。\n\n3.  **与紧致性的联系**：其解释建立在该定理仅限于句子的错误前提之上。\n\n**选项 C 的结论**：不正确。\n\n**选项 D 的分析**\n\n1.  **超积定义**：它提供了一个定义——“直积的任意一个在投影下封闭的子结构”——这与超积的标准定义完全无关。超积是直积的一个*商*。\n\n2.  **Łoś 定理**：它将定理误述为一个简单的保持性质：“如果每个 $\\mathcal{M}_i$ 都满足一个 FO 句子 $\\sigma$，那么其积也满足 $\\sigma$”。这只是实际定理的一个弱推论，并且对于积而言，仅对某些类型的句子（全称句子）成立。Łoś 定理是一个更为强大的双向条件传递原理。\n\n3.  **与紧致性的联系**：它错误地将 Łoś 定理与*向上* Löwenheim-Skolem 定理联系起来，然后再与紧致性联系起来。更重要的是，它错误地识别了 Lindström 定理的组成部分，该定理使用的是*向下* Löwenheim-Skolem 性质，而不是向上的。\n\n**选项 D 的结论**：不正确。\n\n**结论**\n\n只有选项 A 对所有三个要求的部分提供了完全正确和精确的说明：超积的定义，适用于公式的 Łoś 定理的陈述，以及其在证明紧致性定理中的作用及其与 Lindström 定理相关性的解释。", "answer": "$$\\boxed{A}$$", "id": "2976157"}, {"introduction": "理解了紧致性这样的模型论性质后，我们转向逻辑本身的结构性质。林斯特伦定理适用于所谓的“正则逻辑”（regular logics），这类逻辑必须具备一定的表达能力，其中最重要的之一便是将一个句子“相对化”（relativize）到论域的某个子集上的能力。本练习要求你精确地形式化这个语义概念 [@problem_id:2976139]，并将其与纯句法的或不正确的解释区分开来，从而加深对逻辑“良态”行为的理解。", "problem": "令 $\\mathcal{L}$ 为 Lindström 意义下的一个抽象逻辑：对于每个关系词表 $\\tau$（一个带有指定元数的关系符号集，没有函数符号，没有常数符号），逻辑 $\\mathcal{L}$ 提供一个 $\\tau$-句子集 $\\mathcal{L}(\\tau)$，并且对于每个域为 $A$ 的 $\\tau$-结构 $\\mathfrak{A}$，提供一个满足关系 $\\models_{\\mathcal{L}}$，使得满足关系在同构下保持不变。给定一个 $\\tau$-结构 $\\mathfrak{A}$ 和一个子集 $S \\subseteq A$，用 $\\mathfrak{A}\\!\\upharpoonright\\! S$ 表示在域 $S$ 上的导出 $\\tau$-子结构（每个 $n$-元关系 $R^{\\mathfrak{A}\\!\\upharpoonright\\! S}$ 是 $R^{\\mathfrak{A}} \\cap S^{n}$），对于一个新的不属于 $\\tau$ 的一元谓词符号 $U \\notin \\tau$，用 $\\mathfrak{A}[U := S]$ 表示将 $\\mathfrak{A}$ 扩展到词表 $\\tau \\cup \\{U\\}$，并将 $U$ 解释为 $S$。在 $\\mathcal{L}$ 是一阶逻辑的特殊情况下，人们非正式地将“相对化”一个句子描述为将所有量词的范围限制在满足 $U$ 的那些元素上。\n\n哪个选项正确地形式化了用一元谓词对句子进行相对化的概念以及对于纯关系词表上的抽象逻辑 $\\mathcal{L}$ 的相对化下的闭包性质？\n\nA. 对于每个关系词表 $\\tau$，每个句子 $\\varphi \\in \\mathcal{L}(\\tau)$，以及每个新的一元谓词符号 $U \\notin \\tau$，存在一个句子 $\\varphi^{[U]} \\in \\mathcal{L}(\\tau \\cup \\{U\\})$，使得对于所有域为 $A$ 的 $\\tau$-结构 $\\mathfrak{A}$ 和所有子集 $S \\subseteq A$，\n$$\n\\mathfrak{A}[U := S] \\models_{\\mathcal{L}} \\varphi^{[U]} \\quad \\text{当且仅当} \\quad \\mathfrak{A}\\!\\upharpoonright\\! S \\models_{\\mathcal{L}} \\varphi.\n$$\n如果对于所有的 $\\tau$、$\\varphi$ 和新的 $U$，这样的 $\\varphi^{[U]}$ 都存在，我们就说 $\\mathcal{L}$ 在相对化下是闭合的。\n\nB. 对于每个关系词表 $\\tau$，每个句子 $\\varphi \\in \\mathcal{L}(\\tau)$，以及每个新的一元谓词符号 $U \\notin \\tau$，存在一个 $\\varphi^{[U]} \\in \\mathcal{L}(\\tau \\cup \\{U\\})$，它是通过递归地将每个子公式 $\\exists x\\,\\psi$ 替换为 $\\exists x\\,(U(x) \\wedge \\psi)$，并将每个子公式 $\\forall x\\,\\psi$ 替换为 $\\forall x\\,(U(x) \\wedge \\psi)$（保持原子公式不变）而得到，并且如果对于所有的 $\\mathfrak{A}$ 和 $S \\subseteq A$，$\\mathfrak{A}[U := S] \\models_{\\mathcal{L}} \\varphi^{[U]}$ 当且仅当 $\\mathfrak{A} \\models_{\\mathcal{L}} \\varphi$，这种句法翻译总能产生一个等价的句子，那么 $\\mathcal{L}$ 在相对化下是闭合的。\n\nC. 对于每个关系词表 $\\tau$，每个句子 $\\varphi \\in \\mathcal{L}(\\tau)$，以及每个新的一元谓词符号 $U \\notin \\tau$，存在一个句子 $\\psi \\in \\mathcal{L}(\\tau \\cup \\{U\\})$，使得对于每个 $\\tau$-结构 $\\mathfrak{A}$，对于每个子集 $S \\subseteq A$，有\n$$\n\\mathfrak{A}[U := S] \\models_{\\mathcal{L}} \\psi \\quad \\text{当且仅当} \\quad \\mathfrak{A} \\models_{\\mathcal{L}} \\varphi.\n$$\n如果对于所有的 $\\tau$、$\\varphi$ 和新的 $U$ 都成立，我们就说 $\\mathcal{L}$ 在相对化下是闭合的。\n\nD. 对于每个关系词表 $\\tau$，每个句子 $\\varphi \\in \\mathcal{L}(\\tau)$，以及同一词表中的每个 $\\mathcal{L}$-公式 $\\theta(x)$，存在一个句子 $\\varphi^{[\\theta]} \\in \\mathcal{L}(\\tau)$，使得对于所有的 $\\tau$-结构 $\\mathfrak{A}$，\n$$\n\\mathfrak{A} \\models_{\\mathcal{L}} \\varphi^{[\\theta]} \\quad \\text{当且仅当} \\quad \\mathfrak{A}\\!\\upharpoonright\\! \\{ a \\in A : \\mathfrak{A} \\models_{\\mathcal{L}} \\theta(a)\\} \\models_{\\mathcal{L}} \\varphi.\n$$\n如果对于所有的 $\\varphi$ 和 $\\theta$，这样的 $\\varphi^{[\\theta]}$ 都存在，我们就说 $\\mathcal{L}$ 在相对化下是闭合的。", "solution": "用户要求对所提供的问题陈述进行严格验证，该陈述涉及抽象逻辑的相对化性质的形式化定义，然后推导出正确答案，并对给定选项进行逐步评估。\n\n### 问题验证\n\n**步骤 1：提取已知条件**\n\n*   $\\mathcal{L}$ 是 Lindström 意义下的抽象逻辑。\n*   词表 $\\tau$ 是纯关系的（没有函数符号，没有常数符号）。\n*   对于每个 $\\tau$，$\\mathcal{L}$ 有一个 $\\tau$-句子集 $\\mathcal{L}(\\tau)$。\n*   定义了一个满足关系 $\\models_{\\mathcal{L}}$，它在同构下保持不变（同构性质）。\n*   $\\mathfrak{A}\\!\\upharpoonright\\! S$ 表示 $\\tau$-结构 $\\mathfrak{A}$ 在其域 $A$ 的子集 $S$ 上的导出 $\\tau$-子结构。$\\mathfrak{A}\\!\\upharpoonright\\! S$ 中的关系是 $R^{\\mathfrak{A}} \\cap S^{n}$。\n*   $U$ 是一个新的单元谓词符号，$U \\notin \\tau$。\n*   $\\mathfrak{A}[U := S]$ 表示将 $\\mathfrak{A}$ 扩展到词表 $\\tau \\cup \\{U\\}$，其中 $U$ 的解释是集合 $S$。\n*   对一阶逻辑的相对化的非正式描述是，将量词的范围限制在满足谓词 $U$ 的元素上。\n*   问题要求为抽象逻辑 $\\mathcal{L}$ 的句子相对化和相对化下的闭包性质提供正确的形式化。\n\n**步骤 2：使用提取的已知条件进行验证**\n\n1.  **科学或事实不准确性：** 问题陈述采用了抽象模型论中的标准、普遍接受的术语和定义，特别是 Per Lindström 开发的框架。抽象逻辑、导出子结构和结构扩展等概念是该领域的基础。没有科学或数学上的不准确之处。\n2.  **不可形式化或不相关：** 该问题直接关注一个核心概念——相对化性质，这是通过 Lindström 定理来刻画一阶逻辑的核心。它与主题完全相关。\n3.  **不完整或矛盾的设定：** 所提供的定义足以让一个熟悉数理逻辑的人理解和回答这个问题。该设定是自洽的，并与标准教科书的表述一致。\n4.  **不切实际或不可行：** 这是一个纯粹的抽象数学问题，因此物理现实主义不是一个相关的标准。\n5.  **问题不适定或结构不良：** 这个问题提得很好，要求从一组选项中选择正确的定义。在模型论的背景下，这些术语是明确的。\n6.  **伪深刻、琐碎或同义反复：** 该问题需要对抽象逻辑的语义以及如何表达子结构的性质有精确的理解。选项之间的区别是微妙而有意义的，并非琐碎。\n7.  **超出科学可验证范围：** 定义的正确性可以通过查阅模型论的权威著作（例如，Ebbinghaus、Flum 和 Thomas 的《Mathematical Logic》或 Hodges 的《A Shorter Model Theory》）来验证。\n\n**步骤 3：结论与行动**\n\n问题陈述是**有效的**。这是一个关于抽象模型论中标准定义的、表述清晰的问题。我将继续进行解答。\n\n### 解答推导\n\n相对化的概念旨在形式化这样一个思想：断言一个性质 $\\varphi$ 不是关于一个结构 $\\mathfrak{A}$ 的整个论域，而是关于该论域的一个特定子集 $S$。对这个“子论域”进行建模的自然方式是通过导出子结构 $\\mathfrak{A}\\!\\upharpoonright\\! S$。因此，$\\varphi$ 在这个子论域内的真值由语义陈述 $\\mathfrak{A}\\!\\upharpoonright\\! S \\models_{\\mathcal{L}} \\varphi$ 捕获。\n\n抽象逻辑 $\\mathcal{L}$ 的相对化下的闭包性质断言，该逻辑具有足够的表达能力，可以*从父结构 $\\mathfrak{A}$ 的角度*做出这一陈述。为此，我们需要一种在逻辑内部指代子集 $S$ 的方法。这通过引入一个新的、不在原始词表 $\\tau$ 中的一元谓词符号 $U$ 来实现。我们将结构 $\\mathfrak{A}$ 扩展为词表 $\\tau \\cup \\{U\\}$ 上的一个结构 $\\mathfrak{A}[U := S]$，其中 $U$ 被解释为集合 $S$。\n\n该性质要求在扩展逻辑的语言 $\\mathcal{L}(\\tau \\cup \\{U\\})$ 中存在一个新句子，我们可以称之为 $\\varphi^{[U]}$。这个新句子在扩展结构 $\\mathfrak{A}[U := S]$ 中的真值必须与原始句子 $\\varphi$ 在导出子结构 $\\mathfrak{A}\\!\\upharpoonright\\! S$ 中的真值相同。\n\n这种关系必须对初始 $\\tau$-结构 $\\mathfrak{A}$ 的任何选择以及其域 $A$ 的任何子集 $S$ 都成立。这种等价关系的形式化陈述是：\n$$ \\mathfrak{A}[U := S] \\models_{\\mathcal{L}} \\varphi^{[U]} \\quad \\text{当且仅当} \\quad \\mathfrak{A}\\!\\upharpoonright\\! S \\models_{\\mathcal{L}} \\varphi $$\n如果对于每个词表 $\\tau$，每个句子 $\\varphi \\in \\mathcal{L}(\\tau)$，以及每个新的一元谓词 $U$，都存在这样一个句子 $\\varphi^{[U]} \\in \\mathcal{L}(\\tau \\cup \\{U\\})$，那么我们就说抽象逻辑 $\\mathcal{L}$ 在“相对化下是闭合的”。\n\n这个推导出的定义为我们评估各个选项提供了基准。\n\n### 逐项分析\n\n**A. 对于每个关系词表 $\\tau$，每个句子 $\\varphi \\in \\mathcal{L}(\\tau)$，以及每个新的一元谓词符号 $U \\notin \\tau$，存在一个句子 $\\varphi^{[U]} \\in \\mathcal{L}(\\tau \\cup \\{U\\})$，使得对于所有域为 $A$ 的 $\\tau$-结构 $\\mathfrak{A}$ 和所有子集 $S \\subseteq A$，**\n$$\n\\mathfrak{A}[U := S] \\models_{\\mathcal{L}} \\varphi^{[U]} \\quad \\text{当且仅当} \\quad \\mathfrak{A}\\!\\upharpoonright\\! S \\models_{\\mathcal{L}} \\varphi.\n$$\n**如果对于所有的 $\\tau$、$\\varphi$ 和新的 $U$，这样的 $\\varphi^{[U]}$ 都存在，我们就说 $\\mathcal{L}$ 在相对化下是闭合的。**\n\n该陈述与上面推导出的相对化性质的标准语义定义完全匹配。它正确地将扩展结构中新句子 $\\varphi^{[U]}$ 的真值与相应导出子结构中原始句子 $\\varphi$ 的真值等同起来。这是正确的形式化。\n\n**结论：正确**\n\n**B. 对于每个关系词表 $\\tau$，每个句子 $\\varphi \\in \\mathcal{L}(\\tau)$，以及每个新的一元谓词符号 $U \\notin \\tau$，存在一个 $\\varphi^{[U]} \\in \\mathcal{L}(\\tau \\cup \\{U\\})$，它是通过递归地将每个子公式 $\\exists x\\,\\psi$ 替换为 $\\exists x\\,(U(x) \\wedge \\psi)$，并将每个子公式 $\\forall x\\,\\psi$ 替换为 $\\forall x\\,(U(x) \\wedge \\psi)$（保持原子公式不变）而得到，并且如果对于所有的 $\\mathfrak{A}$ 和 $S \\subseteq A$，$\\mathfrak{A}[U := S] \\models_{\\mathcal{L}} \\varphi^{[U]}$ 当且仅当 $\\mathfrak{A} \\models_{\\mathcal{L}} \\varphi$，这种句法翻译总能产生一个等价的句子，那么 $\\mathcal{L}$ 在相对化下是闭合的。**\n\n这个选项有几个关键缺陷：\n1.  **句法性质：** 它预设了一个特定的句法结构（量词、连接词），而抽象逻辑 $\\mathcal{L}$ 可能不具备这种结构。抽象逻辑由其句子和满足关系定义，而不必由递归句法定义。\n2.  **不正确的转换：** 针对一阶逻辑提出的句法转换是错误的。$\\forall x\\,\\psi$ 的相对化是 $\\forall x\\,(U(x) \\to \\psi)$，而不是 $\\forall x\\,(U(x) \\wedge \\psi)$。后者条件过强。\n3.  **不正确的语义等价：** 提出的等价关系 $\\mathfrak{A}[U := S] \\models_{\\mathcal{L}} \\varphi^{[U]} \\text{ 当且仅当 } \\mathfrak{A} \\models_{\\mathcal{L}} \\varphi$ 是无意义的。它陈述了相对化句子的真值与子集 $S$ 无关，并且总是与原始句子在整个结构上的真值相同。这完全没有抓住相对化的要点，即讨论 $S$ 上的子结构的性质。\n\n**结论：不正确**\n\n**C. 对于每个关系词表 $\\tau$，每个句子 $\\varphi \\in \\mathcal{L}(\\tau)$，以及每个新的一元谓词符号 $U \\notin \\tau$，存在一个句子 $\\psi \\in \\mathcal{L}(\\tau \\cup \\{U\\})$，使得对于每个 $\\tau$-结构 $\\mathfrak{A}$，对于每个子集 $S \\subseteq A$，有**\n$$\n\\mathfrak{A}[U := S] \\models_{\\mathcal{L}} \\psi \\quad \\text{当且仅当} \\quad \\mathfrak{A} \\models_{\\mathcal{L}} \\varphi.\n$$\n**如果对于所有的 $\\tau$、$\\varphi$ 和新的 $U$ 都成立，我们就说 $\\mathcal{L}$ 在相对化下是闭合的。**\n\n这个选项与选项 B 一样，存在有缺陷的语义等价问题。它要求扩展结构中 $\\psi$ 的真值等价于原始结构中 $\\varphi$ 的真值，而与子集 $S$ 的选择无关。这没有捕捉到相对化的意义，因为它未能将新句子与 $S$ 上的导出子结构的性质联系起来。\n\n**结论：不正确**\n\n**D. 对于每个关系词表 $\\tau$，每个句子 $\\varphi \\in \\mathcal{L}(\\tau)$，以及同一词表中的每个 $\\mathcal{L}$-公式 $\\theta(x)$，存在一个句子 $\\varphi^{[\\theta]} \\in \\mathcal{L}(\\tau)$，使得对于所有的 $\\tau$-结构 $\\mathfrak{A}$，**\n$$\n\\mathfrak{A} \\models_{\\mathcal{L}} \\varphi^{[\\theta]} \\quad \\text{当且仅当} \\quad \\mathfrak{A}\\!\\upharpoonright\\! \\{ a \\in A : \\mathfrak{A} \\models_{\\mathcal{L}} \\theta(a)\\} \\models_{\\mathcal{L}} \\varphi.\n$$\n**如果对于所有的 $\\varphi$ 和 $\\theta$，这样的 $\\varphi^{[\\theta]}$ 都存在，我们就说 $\\mathcal{L}$ 在相对化下是闭合的。**\n\n这个选项描述了一个不同但相关的性质。它涉及的是对逻辑 $\\mathcal{L}$ 中可由公式 $\\theta(x)$ *定义*的子集的相对化。一个关键区别是，最终得到的句子 $\\varphi^{[\\theta]}$ 被要求属于原始语言 $\\mathcal{L}(\\tau)$，而不是扩展语言。Lindström 定理中使用的标准相对化性质是关于引入一个*新的谓词符号* $U$ 来代表一个*任意*子集，而不仅仅是可定义的子集。最终的相对化句子 $\\varphi^{[U]}$ 必须属于扩展语言 $\\mathcal{L}(\\tau \\cup \\{U\\})$。因此，这个选项定义的不是基本的相对化下的闭包性质，而是一个更强的性质，可称为对可定义集相对化下的闭包。\n\n**结论：不正确**", "answer": "$$\\boxed{A}$$", "id": "2976139"}, {"introduction": "在探讨了林斯特伦定理的关键要素（如紧致性和相对化等结构性质）之后，现在是时候看看这一定理的实际应用了。我们将考察一个比一阶逻辑表达能力更强的逻辑 $L_{\\omega_1\\omega}$，通过一个具体例子来展示存在一阶逻辑无法区分、但 $L_{\\omega_1\\omega}$ 能够区分的结构 [@problem_id:2976166]。本练习直接展示了为何 $L_{\\omega_1\\omega}$ 不受林斯特伦定理的限制（因为它不满足紧致性），从而巩固了对该定理条件的必要性的理解。", "problem": "要求您找出一个具体的方法，来展示在可数结构上，一阶逻辑和无穷逻辑 $L_{\\omega_1\\omega}$ 在表达能力上可以有所不同，并解释为什么这不与 Lindström 定理相矛盾。回顾以下基本定义和事实：\n- 一个一阶理论 $T$ 是一组一阶语句；两个结构 $M,N$ 是初等等价的，如果它们满足相同的一阶语句，等价地，如果 $\\operatorname{Th}_{\\mathrm{FO}}(M)=\\operatorname{Th}_{\\mathrm{FO}}(N)$。\n- 逻辑 $L_{\\omega_1\\omega}$ 允许可数合取和析取，但只允许有限的量词串。\n- Scott 同构定理：对于每个可数结构 $M$，存在一个 $L_{\\omega_1\\omega}$-语句 $\\sigma_M$ (一个 Scott 语句)，使得在可数结构中，$\\sigma_M$ 的模型恰好是 $M$ 的同构副本。\n- Lindström 定理：如果一个抽象逻辑 $\\mathcal{L}$ 扩展了一阶逻辑，并满足紧致性和向下 Löwenheim–Skolem 性质（到可数子模型），那么 $\\mathcal{L}$ 的表达能力不强于一阶逻辑。\n\n选择所有正确提供以下内容的选项：\n(i) 一个完备的一阶理论 $T$，它有两个非同构的可数模型 $M,N\\models T$，这两个模型是初等等价的，但具有不同的 $L_{\\omega_1\\omega}$-理论（即，某个 $L_{\\omega_1\\omega}$-语句恰好在其中一个模型中成立），以及\n(ii) 一个正确的解释，说明为什么这表明 $L_{\\omega_1\\omega}$ 在可数结构上的表达能力严格强于一阶逻辑，且不与 Lindström 定理相矛盾。\n\nA. 取环语言中特征为 0 的代数闭域的完备理论 $T=\\mathrm{ACF}_0$。令 $M=\\overline{\\mathbb{Q}}$（超越次数为 0），并令 $N$ 是一个在 $\\mathbb{Q}$ 上超越次数为 1 的特征为 0 的可数代数闭域。那么 $M$ 和 $N$ 是非同构的，但满足相同的一阶理论 $T$。根据 Scott 同构定理，存在 Scott 语句 $\\sigma_M,\\sigma_N\\in L_{\\omega_1\\omega}$，使得 $M\\models\\sigma_M$，$N\\not\\models\\sigma_M$，反之亦然，所以它们的 $L_{\\omega_1\\omega}$-理论不同。这表明 $L_{\\omega_1\\omega}$ 在可数结构上的表达能力更强，并且与 Lindström 定理没有冲突，因为 $L_{\\omega_1\\omega}$ 不满足紧致性。\n\nB. 设 $T$ 是在只有一个二元关系符号的语言中可数随机图的完备理论。设 $M$ 是可数随机图，而 $N$ 是两个可数随机图副本的不交并。它们是非同构的，但满足相同的一阶理论（因为一阶逻辑无法表达连通性）。因此它们的差异必须由一个 $L_{\\omega_1\\omega}$-语句来见证。这违反了 Lindström 定理，除非 $L_{\\omega_1\\omega}$ 具有紧致性。\n\nC. 设 $T$ 是无端点的稠密线性序的完备理论。取 $M=(\\mathbb{Q},)$ 和 $N=(\\mathbb{Q}\\setminus\\{0\\},)$。它们是同一个完备一阶理论的非同构可数模型。然而，由于在可数结构上 $L_{\\omega_1\\omega}$ 和一阶逻辑是重合的，它们的 $L_{\\omega_1\\omega}$-理论是相同的，这与 Lindström 定理相符。\n\nD. 设 $T=\\mathrm{RCF}$，即有序环语言中实闭域的完备理论。设 $M$ 是 $\\mathbb{Q}$ 的实闭包（阿基米德的，可数的），并设 $N$ 是不定元 $t$ 的 $\\mathbb{Q}(t)$ 的实闭包（非阿基米德的，可数的）。那么 $M$ 和 $N$ 是非同构的，但满足相同的一阶理论 $T$。根据 Scott 同构定理，存在 Scott 语句在 $L_{\\omega_1\\omega}$ 中区分它们，所以它们的 $L_{\\omega_1\\omega}$-理论不同。这表明 $L_{\\omega_1\\omega}$ 在可数结构上的表达能力严格更强，并且这不与 Lindström 定理相矛盾，因为 $L_{\\omega_1\\omega}$ 不满足紧致性（并且不享有表征一阶逻辑的完整的 Löwenheim–Skolem 性质）。", "solution": "我们从问题陈述中列出的基本定义和定理出发。任务是逐个选项验证所提出的例子是否确实产生：\n- 两个可数的、非同构的同一完备一阶理论 $T$ 的模型 $M,N$，因此 $\\operatorname{Th}_{\\mathrm{FO}}(M)=\\operatorname{Th}_{\\mathrm{FO}}(N)=T$；\n- 不同的 $L_{\\omega_1\\omega}$-理论，根据 Scott 同构定理，这在可数域上等价于非同构；以及\n- 对与 Lindström 定理相关性的正确说明（即，任何一阶逻辑的严格表达性扩展都必须不满足紧致性或 Löwenheim–Skolem 性质，而 $L_{\\omega_1\\omega}$ 确实不满足紧致性）。\n\n选项 A 的分析。\n- 一阶部分的正确性：特征为 0 的代数闭域理论 $\\mathrm{ACF}_0$ 在环语言中是完备的，并容许量词消去。任何特征为 0 的代数闭域都是这个完备理论的模型。特别地，$M=\\overline{\\mathbb{Q}}$（超越次数为 0）和一个超越次数为 1 的可数域 $N$（例如 $\\mathbb{Q}(t)$ 的代数闭包）都满足 $\\mathrm{ACF}_0$。它们是非同构的，因为在 $\\mathbb{Q}$ 上具有不同超越次数的域的代数闭包作为域不可能是同构的：超越次数是一个同构不变量。\n- 不同的 $L_{\\omega_1\\omega}$-理论：由于 $M$ 和 $N$ 是可数且非同构的，Scott 同构定理产生了 Scott 语句 $\\sigma_M,\\sigma_N\\in L_{\\omega_1\\omega}$，它们分别在可数模型中刻画了 $M$ 和 $N$（直到同构）。因此 $M\\models \\sigma_M$ 而 $N\\not\\models \\sigma_M$，反之亦然，所以 $\\operatorname{Th}_{L_{\\omega_1\\omega}}(M)\\ne \\operatorname{Th}_{L_{\\omega_1\\omega}}(N)$。\n- 与 Lindström 定理的相关性：这表明 $L_{\\omega_1\\omega}$ 在可数结构上的表达能力严格强于一阶逻辑（一阶逻辑无法区分初等等价的模型，$L_{\\omega_1\\omega}$ 可以）。这与 Lindström 定理没有矛盾，因为 $L_{\\omega_1\\omega}$ 不满足紧致性（例如，$L_{\\omega_1\\omega}$-集合 $\\{\\exists^{\\ge n} x\\, (x=x)\\mid n\\in\\mathbb{N}\\}\\cup\\{\\neg \\exists^{\\ge \\aleph_0} x\\, (x=x)\\}$ 是有限可满足的但不是可满足的），所以它不满足表征一阶逻辑的紧致性和 Löwenheim–Skolem 性质的联合条件。\n结论：正确。\n\n选项 B 的分析。\n- 一阶理论问题：可数随机图 $R$ 是其完备一阶理论的唯一（在同构意义下）可数模型，其特征在于扩展公理：对于所有不相交的顶点有限集 $U,V$，存在一个顶点与 $U$ 中的所有顶点相邻，且不与 $V$ 中的任何顶点相邻。设 $M=R$。不交并 $N=R\\sqcup R$ 不满足扩展公理：从第一个分支取一个单点集 $U$，从第二个分支取一个单点集 $V$；没有顶点能跨分支地与 $U$ 中的所有顶点相邻且不与 $V$ 中的任何顶点相邻。因此 $N$ 不是随机图理论的模型，且 $\\operatorname{Th}_{\\mathrm{FO}}(M)\\ne \\operatorname{Th}_{\\mathrm{FO}}(N)$。\n- 一阶逻辑无法表达连通性的说法在这里无关紧要；失败已经发生在扩展公理的层面上。\n- 选项中对 Lindström 定理的讨论也是有问题的，它依赖于一个错误的前提（即 $M$ 和 $N$ 共享相同的一阶理论）。\n结论：不正确。\n\n选项 C 的分析。\n- 结构与同构：无端点的稠密线性序理论（DLO）是完备的且是 $\\aleph_0$-范畴的：DLO 的每个可数模型都同构于 $(\\mathbb{Q},)$。结构 $(\\mathbb{Q}\\setminus\\{0\\},)$ 仍然是一个无端点的稠密线性序，因此同构于 $(\\mathbb{Q},)$。因此 $M$ 和 $N$ 是同构的，这与非同构模型的要求相悖。\n- “在可数结构上 $L_{\\omega_1\\omega}$ 和一阶逻辑重合”的断言是错误的。恰恰相反，根据 Scott 同构定理，$L_{\\omega_1\\omega}$ 可以通过 Scott 语句区分共享相同一阶理论的非同构可数结构。\n结论：不正确。\n\n选项 D 的分析。\n- 一阶理论：有序环语言中实闭域的理论 $\\mathrm{RCF}$ 是完备的，并容许量词消去。因此，任何两个实闭域，无论其阿基米德或非阿基米德行为或超越次数如何，都是初等等价的。设 $M$ 为 $\\mathbb{Q}$ 的实闭包（它是可数的和阿基米德的），$N$ 为不定元 $t$ 的 $\\mathbb{Q}(t)$ 的实闭包（它是可数的和非阿基米德的）。它们是非同构的，因为阿基米德性是有序域的同构不变量。两者都满足 $\\mathrm{RCF}$。\n- 不同的 $L_{\\omega_1\\omega}$-理论：与选项 A 中一样，Scott 同构定理产生了在 $L_{\\omega_1\\omega}$ 中区分 $M$ 和 $N$ 的 Scott 语句，因此它们的 $L_{\\omega_1\\omega}$-理论不同。\n- 与 Lindström 定理的相关性：这再次证明了 $L_{\\omega_1\\omega}$ 在可数结构上的表达能力严格更强，而没有与 Lindström 定理相矛盾，因为 $L_{\\omega_1\\omega}$ 不满足紧致性（并且在任何情况下都不享有 Lindström 定理中表征一阶逻辑的全部性质组合）。\n结论：正确。\n\n综合与概念解释。两个正确选项中的关键机制是：\n- 选择一个具有多个非同构可数模型的完备一阶理论 $T$（例如，$\\mathrm{ACF}_0$ 或 $\\mathrm{RCF}$）；\n- 注意到一阶逻辑无法区分这些模型，因为它们是同一个完备理论 $T$ 的模型；\n- 援引 Scott 同构定理来获得区分它们的 $L_{\\omega_1\\omega}$-语句，从而证明它们的 $L_{\\omega_1\\omega}$-理论不同。\n\n这表明在可数结构上，从一阶逻辑到 $L_{\\omega_1\\omega}$ 的表达能力有严格的增强。这与 Lindström 定理没有冲突，因为 $L_{\\omega_1\\omega}$ 不满足紧致性，而 Lindström 的刻画仅适用于那些扩展了一阶逻辑同时又保持了紧致性和向下 Löwenheim–Skolem 性质（到可数子模型）的逻辑。", "answer": "$$\\boxed{AD}$$", "id": "2976166"}]}