{"hands_on_practices": [{"introduction": "模态逻辑的强大之处在于它能精确地表达关于必然性和可能性的概念。这个练习将理论与实践相结合，要求我们将一个关于人工智能安全的自然语言陈述形式化。通过运用可能性（$\\Diamond$）和必然性（$\\Box$）之间的对偶关系——这类似于德摩根定律——我们可以将一个复杂的约束转化为一个逻辑上等价但结构更清晰的必要性陈述 [@problem_id:1361517]。这个过程对于培养在形式验证和系统规范中的精确思维至关重要。", "problem": "在人工智能（AI）安全的形式化验证领域，模态逻辑常用于规约和推理自治系统的行为。考虑一个其逻辑由两个模态算子支配的系统：$\\Diamond P$ 表示“陈述 $P$ 可能为真”，以及 $\\Box P$ 表示“陈述 $P$ 必然为真”。\n\n该系统逻辑的一个基本公理是可能性与必然性之间的对偶性，这类似于 De Morgan 定律。该公理指出，一个命题是不可能的，当且仅当其否定是必然的。用符号表示为：\n$$ \\neg \\Diamond P \\equiv \\Box \\neg P $$\n让我们定义关于系统状态的两个基本命题：\n- $A$: 系统采取自主行动。\n- $H$: 系统处于人类的直接监督之下。\n\n系统的一项关键安全要求用自然语言陈述如下：\n“系统不可能在没有人类直接监督的情况下采取自主行动。”\n\n使用所提供的模态对偶公理和标准的命题逻辑定律，以下哪个陈述在逻辑上等同于此安全要求？\n\nA. 必然地，如果系统采取自主行动，那么它就处于人类的直接监督之下。\n\nB. 必然地，系统采取自主行动且不处于人类的直接监督之下。\n\nC. 必然地，系统不采取自主行动且处于人类的直接监督之下。\n\nD. 可能地，系统不采取自主行动或处于人类的直接监督之下。\n\nE. 必然地，如果系统处于人类的直接监督之下，那么它就采取自主行动。", "solution": "令 $A$ 表示“系统采取自主行动”，$H$ 表示“系统处于人类的直接监督之下”。自然语言要求“系统不可能在没有人类直接监督的情况下采取自主行动”可以翻译为模态公式\n$$\n\\neg \\Diamond (A \\wedge \\neg H).\n$$\n使用对偶公理 $\\neg \\Diamond P \\equiv \\Box \\neg P$，并令 $P = A \\wedge \\neg H$，我们得到\n$$\n\\neg \\Diamond (A \\wedge \\neg H) \\equiv \\Box \\neg (A \\wedge \\neg H).\n$$\n根据命题逻辑的 De Morgan 定律，\n$$\n\\neg (A \\wedge \\neg H) \\equiv (\\neg A \\vee \\neg(\\neg H)) \\equiv (\\neg A \\vee H).\n$$\n因此，\n$$\n\\Box \\neg (A \\wedge \\neg H) \\equiv \\Box (\\neg A \\vee H).\n$$\n使用标准等价关系 $(A \\rightarrow H) \\equiv (\\neg A \\vee H)$，我们得到\n$$\n\\Box (\\neg A \\vee H) \\equiv \\Box (A \\rightarrow H).\n$$\n因此，该安全要求在逻辑上等同于“必然地，如果系统采取自主行动，那么它就处于人类的直接监督之下”，这对应于选项 A。", "answer": "$$\\boxed{A}$$", "id": "1361517"}, {"introduction": "掌握模态逻辑的核心在于能够在克里普克模型（Kripke model）中准确地演算公式的真值。这个练习提供了一个具体的模型，包含一组可能世界、一个可及关系和一个赋值函数，要求你逐步评估一系列模态公式的真假 [@problem_id:2975798]。这就像在解决复杂问题之前先学会基本算术一样，通过动手计算，你将对模态算子 $\\Box$ 和 $\\Diamond$ 的语义定义有更深刻和直观的理解。", "problem": "考虑基本正规模态逻辑（通常称为系统 $K$）的 Kripke 模型 $\\mathcal{M} = (W,R,V)$，其中 $W = \\{w,a,b\\}$，$R = \\{(w,a),(w,b),(a,a),(b,b)\\}$，且赋值满足 $V(p) = \\{a\\}$。对模态算子使用标准的 Kripke 真值子句：对于任意世界 $x \\in W$，$\\mathcal{M},x \\models \\Box \\varphi$ 当且仅当对所有的 $y \\in W$，若 $xRy$ 则 $\\mathcal{M},y \\models \\varphi$；并且 $\\mathcal{M},x \\models \\Diamond \\varphi$ 当且仅当存在 $y \\in W$ 使得 $xRy$ 且 $\\mathcal{M},y \\models \\varphi$。从基本原理出发，确定公式 $\\Box p$、$\\Diamond p$ 和 $\\Box\\Diamond p$ 为真的世界的集合。\n\n对于答案，将每个这样的集合 $S \\subseteq \\{w,a,b\\}$ 编码为一个整数 $\\mathrm{code}(S)$，该整数由固定顺序 $(w,a,b)$ 的二进制特征位定义：\n$$\\mathrm{code}(S) \\;=\\; b_{w}\\cdot 4 \\;+\\; b_{a}\\cdot 2 \\;+\\; b_{b}\\cdot 1,$$\n其中，如果 $x \\in S$，则 $b_{x} = 1$；否则 $b_{x} = 0$。按此顺序将您的最终结果报告为一个单行矩阵 $\\bigl(\\mathrm{code}(\\{\\text{公式 } \\Box p \\text{ 成立的世界}\\}), \\mathrm{code}(\\{\\text{公式 } \\Diamond p \\text{ 成立的世界}\\}), \\mathrm{code}(\\{\\text{公式 } \\Box\\Diamond p \\text{ 成立的世界}\\})\\bigr)$。", "solution": "该问题提法明确且自洽，为在模态逻辑的 Kripke 语义学框架内进行严格分析提供了所有必要的定义和数据。它在科学上基于数理逻辑的既定原则。因此，可以推导出解决方案。\n\n该问题指定了一个 Kripke 模型 $\\mathcal{M} = (W,R,V)$，其中：\n- 世界的集合是 $W = \\{w, a, b\\}$。\n- 可达关系是 $R = \\{(w,a), (w,b), (a,a), (b,b)\\}$。这意味着从世界 $w$，可以到达世界 $a$ 和 $b$；从世界 $a$，只能到达世界 $a$；而从世界 $b$，只能到达世界 $b$。\n- 原子命题 $p$ 的赋值函数 $V$ 由 $V(p) = \\{a\\}$ 给出。这意味着命题 $p$ 仅在世界 $a$ 为真。我们将其表示为 $\\mathcal{M},x \\models p$ 当且仅当 $x \\in V(p)$。\n- 因此，$\\mathcal{M}, a \\models p$，而 $\\mathcal{M}, w \\not\\models p$ 且 $\\mathcal{M}, b \\not\\models p$。\n\n我们必须确定公式 $\\Box p$、$\\Diamond p$ 和 $\\Box\\Diamond p$ 为真的世界的集合。我们通过应用模态算子的标准 Kripke 真值子句来进行。\n\n**1. 对 $\\Box p$ 的求值**\n公式 $\\Box p$ 在世界 $x \\in W$ 为真，当且仅当对于所有满足 $(x,y) \\in R$ 的世界 $y \\in W$，公式 $p$ 在 $y$ 为真（即 $\\mathcal{M}, y \\models p$）。我们对 $W$ 中的每个世界评估此条件：\n\n- 对于世界 $w$：从 $w$ 可达的世界是 $\\{a, b\\}$。要使 $\\mathcal{M}, w \\models \\Box p$ 成立，需要 $\\mathcal{M}, a \\models p$ 和 $\\mathcal{M}, b \\models p$ 同时为真。我们知道 $\\mathcal{M}, a \\models p$ 为真，但 $\\mathcal{M}, b \\models p$ 为假。由于该条件并非对所有可达世界都成立，我们得出结论 $\\mathcal{M}, w \\not\\models \\Box p$。\n\n- 对于世界 $a$：从 $a$ 唯一可达的世界是 $a$ 本身。要使 $\\mathcal{M}, a \\models \\Box p$ 成立，需要 $\\mathcal{M}, a \\models p$。根据给定的赋值，这是真的。因此，$\\mathcal{M}, a \\models \\Box p$。\n\n- 对于世界 $b$：从 $b$ 唯一可达的世界是 $b$ 本身。要使 $\\mathcal{M}, b \\models \\Box p$ 成立，需要 $\\mathcal{M}, b \\models p$。这是假的。因此，$\\mathcal{M}, b \\not\\models \\Box p$。\n\n$\\Box p$ 为真的世界的集合是 $\\{a\\}$。\n\n**2. 对 $\\Diamond p$ 的求值**\n公式 $\\Diamond p$ 在世界 $x \\in W$ 为真，当且仅当存在一个世界 $y \\in W$ 使得 $(x,y) \\in R$ 且 $\\mathcal{M}, y \\models p$。\n\n- 对于世界 $w$：可达的世界是 $\\{a, b\\}$。我们需要检查是否存在一个世界 $y \\in \\{a, b\\}$ 使得 $\\mathcal{M}, y \\models p$。由于 $\\mathcal{M}, a \\models p$，这样的世界是存在的（即 $a$）。因此，$\\mathcal{M}, w \\models \\Diamond p$。\n\n- 对于世界 $a$：唯一可达的世界是 $a$。我们需要检查 $\\mathcal{M}, a \\models p$ 是否为真。这是真的。因此，$\\mathcal{M}, a \\models \\Diamond p$。\n\n- 对于世界 $b$：唯一可达的世界是 $b$。我们需要检查 $\\mathcal{M}, b \\models p$ 是否为真。这是假的。因此，不存在 $p$ 为真的可达世界，所以 $\\mathcal{M}, b \\not\\models \\Diamond p$。\n\n$\\Diamond p$ 为真的世界的集合是 $\\{w, a\\}$。\n\n**3. 对 $\\Box\\Diamond p$ 的求值**\n为了求值 $\\Box\\Diamond p$，我们首先需要内部公式 $\\Diamond p$ 的真值集合，我们刚刚确定其为 $\\{w, a\\}$。设 $\\psi = \\Diamond p$。我们要求值的是 $\\Box\\psi$。公式 $\\Box\\psi$ 在世界 $x$ 为真，如果对于从 $x$ 可达的所有世界 $y$，$\\psi$ 在 $y$ 为真。\n\n- 对于世界 $w$：可达的世界是 $\\{a, b\\}$。要使 $\\mathcal{M}, w \\models \\Box\\Diamond p$ 成立，需要 $\\mathcal{M}, a \\models \\Diamond p$ 和 $\\mathcal{M}, b \\models \\Diamond p$ 同时为真。从我们之前的步骤可知，$\\mathcal{M}, a \\models \\Diamond p$ 为真，但 $\\mathcal{M}, b \\models \\Diamond p$ 为假。由于该条件并非对所有可达世界都成立，我们得出结论 $\\mathcal{M}, w \\not\\models \\Box\\Diamond p$。\n\n- 对于世界 $a$：唯一可达的世界是 $a$。要使 $\\mathcal{M}, a \\models \\Box\\Diamond p$ 成立，需要 $\\mathcal{M}, a \\models \\Diamond p$。我们已经确定了这是真的。因此，$\\mathcal{M}, a \\models \\Box\\Diamond p$。\n\n- 对于世界 $b$：唯一可达的世界是 $b$。要使 $\\mathcal{M}, b \\models \\Box\\Diamond p$ 成立，需要 $\\mathcal{M}, b \\models \\Diamond p$。我们已经确定了这是假的。因此，$\\mathcal{M}, b \\not\\models \\Box\\Diamond p$。\n\n$\\Box\\Diamond p$ 为真的世界的集合是 $\\{a\\}$。\n\n**4. 编码结果**\n该问题要求使用以下公式将每个真值集合 $S \\subseteq \\{w, a, b\\}$ 编码为一个整数：\n$\\mathrm{code}(S) = b_{w} \\cdot 4 + b_{a} \\cdot 2 + b_{b} \\cdot 1$，其中，如果 $x \\in S$，则 $b_x=1$；否则 $b_x=0$。\n\n- 对于 $\\Box p$，真值集合是 $S_1 = \\{a\\}$。特征位是 $(b_w, b_a, b_b) = (0, 1, 0)$。\n$\\mathrm{code}(S_1) = 0 \\cdot 4 + 1 \\cdot 2 + 0 \\cdot 1 = 2$。\n\n- 对于 $\\Diamond p$，真值集合是 $S_2 = \\{w, a\\}$。特征位是 $(b_w, b_a, b_b) = (1, 1, 0)$。\n$\\mathrm{code}(S_2) = 1 \\cdot 4 + 1 \\cdot 2 + 0 \\cdot 1 = 4 + 2 = 6$。\n\n- 对于 $\\Box\\Diamond p$，真值集合是 $S_3 = \\{a\\}$。特征位是 $(b_w, b_a, b_b) = (0, 1, 0)$。\n$\\mathrm{code}(S_3) = 0 \\cdot 4 + 1 \\cdot 2 + 0 \\cdot 1 = 2$。\n\n最终结果是这些整数编码的有序三元组。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n2  & 6  & 2\n\\end{pmatrix}\n}\n$$", "id": "2975798"}, {"introduction": "对模态逻辑更深层次的理解，不仅在于能在给定模型中评估公式，还在于能构建满足特定属性的模型。这个练习要求你构建一个 S4 框架（即关系是自反和传递的）上的反例模型，以证伪一个特定的模态公式 [@problem_id:2977066]。这项任务挑战你对框架属性（如自反性与传递性）如何与公式有效性相互作用的掌握，是从被动计算到主动构建的关键一步。", "problem": "设 $F=(W,R)$ 是一个克里普克框架（Kripke frame），其中 $W$ 是一个非空的世界（worlds）集合，$R \\subseteq W \\times W$ 是一个可及关系（accessibility relation）。一个克里普克模型（Kripke model）是一个偶对 $(F,V)$，其中 $V$ 是一个赋值函数（valuation），它将每个命题变量映射到 $W$ 的一个子集。满足关系 $(F,V),w \\models \\varphi$ 由命题连接词的常规子句归纳定义，对于模态算子，则由以下子句定义：$(F,V),w \\models \\Box \\varphi$ 当且仅当对于所有满足 $wRu$ 的 $u \\in W$，都有 $(F,V),u \\models \\varphi$；以及 $(F,V),w \\models \\Diamond \\varphi$ 当且仅当存在一个满足 $wRu$ 的 $u \\in W$，使得 $(F,V),u \\models \\varphi$。\n\n模态系统 $\\mathrm{S4}$ 是在所有自反和传递框架上有效（valid）的公式类。考虑公式 $\\varphi := \\Diamond \\Box p \\rightarrow \\Box p$。请仅使用上述语义定义和刻画 $\\mathrm{S4}$ 的框架条件（$R$ 的自反性和传递性），确定一个克里普克框架 $F=(W,R)$ 的最小基数 $|W|$，使得存在一个赋值 $V$ 和一个世界 $w \\in W$，满足 $(F,V),w \\not\\models \\varphi$，同时 $R$是自反和传递的。您的答案必须是 $|W|$ 的确切最小值。", "solution": "我们要寻找一个自反且传递的（一个 $\\mathrm{S4}$ 框架）克里普克框架 $F=(W,R)$ 中世界集合 $W$ 的最小基数 $|W|$，使得存在一个赋值 $V$ 和一个世界 $w \\in W$，满足 $(F,V), w \\not\\models \\Diamond \\Box p \\rightarrow \\Box p$。\n\n条件 $(F,V), w \\not\\models \\Diamond \\Box p \\rightarrow \\Box p$ 在语义上等价于以下两个条件的合取：\n1. $(F,V), w \\models \\Diamond \\Box p$\n2. $(F,V), w \\not\\models \\Box p$\n\n我们来分析这些条件。\n根据条件 (2)，$(F,V), w \\not\\models \\Box p$，由 $\\Box$ 的满足关系定义可知，必定存在一个世界（我们称之为 $z \\in W$），使得 $wRz$ 且 $(F,V), z \\not\\models p$。这意味着 $z \\notin V(p)$。\n\n根据条件 (1)，$(F,V), w \\models \\Diamond \\Box p$，由 $\\Diamond$ 的定义可知，必定存在一个世界（我们称之为 $u \\in W$），使得 $wRu$ 且 $(F,V), u \\models \\Box p$。\n\n条件 $(F,V), u \\models \\Box p$ 意味着对于所有满足 $uRv$ 的世界 $v \\in W$，都有 $(F,V), v \\models p$，即 $v \\in V(p)$。由于该框架是用于系统 $\\mathrm{S4}$ 的，关系 $R$ 是自反的。因此，必须有 $uRu$。从 $(F,V), u \\models \\Box p$ 这一事实可以推断出，$u$ 本身必须满足 $p$。因此，$(F,V), u \\models p$，这意味着 $u \\in V(p)$。\n\n通过我们的分析，我们推导出了两个世界 $u$ 和 $z$ 的存在，它们都可以从 $w$ 到达。对于这两个世界，我们有 $u \\in V(p)$ 和 $z \\notin V(p)$。这意味着 $u$ 和 $z$ 必须是不同的世界，即 $u \\ne z$。\n\n现在我们来确定 $W$ 的最小基数。\n\n情况 $|W| = 1$：\n设 $W = \\{w\\}$。由于 $R$ 是自反的，唯一的关系是 $wRw$。为了证伪该公式，我们需要同时满足 $(F,V),w \\models \\Diamond \\Box p$ 和 $(F,V),w \\not\\models \\Box p$。条件 $(F,V),w \\models \\Diamond \\Box p$ 意味着存在一个 $w$ 的后继（successor），只能是 $w$ 本身，使得 $(F,V),w \\models \\Box p$。这导致了我们必须同时拥有 $(F,V),w \\models \\Box p$ 和 $(F,V),w \\not\\models \\Box p$ 的矛盾。因此，不存在 $|W|=1$ 的反例模型。最小基数必须大于 1。\n\n情况 $|W|=2$：\n设 $W = \\{w_1, w_2\\}$。我们尝试构造一个反例模型。设证伪公式所在的世界是 $w_1$。\n根据一般性分析，我们需要存在两个可从 $w_1$ 到达的世界 $u$ 和 $z$，满足：\n(a) $u \\ne z$\n(b) $u \\models p$\n(c) $z \\not\\models p$\n(d) $u \\models \\Box p$\n\n从我们的推理中我们还知道，证伪公式的世界 $w$ 不能与 $\\Box p$ 成立的世界 $u$ 相同。如果 $w_1 = u$，那么 $w_1 \\models \\Box p$，这将与 $w_1 \\not\\models \\Box p$ 的要求相矛盾。因此，$w_1 \\ne u$。\n由于我们处在一个包含两个世界的框架中，且证伪世界是 $w_1$，所以世界 $u$ 必须是 $w_2$。即 $u = w_2$。这要求 $w_1 R w_2$。\n\n世界 $z$ 必须满足 $w_1 R z$ 和 $z \\not\\models p$。由于 $z \\ne u$ 且 $u=w_2$，我们必须有 $z \\ne w_2$。在我们的集合 $W$ 中，唯一剩下的可能性是 $z = w_1$。\n这要求 $w_1 R w_1$ 和 $w_1 \\not\\models p$。关系 $w_1 R w_1$ 由自反性保证。\n\n所以，一个包含 2 个世界的反例模型的要求是：\n- 世界：$W = \\{w_1, w_2\\}$。\n- 在 $w_1$ 处证伪。\n- 赋值：$w_1 \\not\\models p$ 和 $w_2 \\models p$。这可以通过设置 $V(p) = \\{w_2\\}$ 来实现。\n- 关系：$R$ 必须是自反和传递的，并包含 $w_1 R w_2$。满足这些条件的最小关系是 $R = \\{(w_1, w_1), (w_2, w_2), (w_1, w_2)\\}$。这个关系确实是自反的。对于传递性，我们检查对于任意 $(a,b) \\in R$ 和 $(b,c) \\in R$，是否都有 $(a,c) \\in R$。唯一非平凡的情况是 $(w_1, w_2) \\in R$ 和 $(w_2, w_2) \\in R$，这必须蕴含 $(w_1, w_2) \\in R$。这是成立的。所以，这个框架是一个 $\\mathrm{S4}$ 框架。\n\n我们来验证这个构造。\n- 框架：$F=(W,R)$，其中 $W = \\{w_1, w_2\\}$ 且 $R = \\{(w_1, w_1), (w_2, w_2), (w_1, w_2)\\}$。\n- 模型：设赋值为 $V(p) = \\{w_2\\}$。\n- 我们在世界 $w_1$ 检查公式 $\\varphi := \\Diamond \\Box p \\to \\Box p$ 的满足情况。\n\n1. 检查 $(F,V), w_1 \\not\\models \\Box p$：\n我们必须找到一个 $w_1$ 的后继，使得 $p$ 在该后继上为假。$w_1$ 的后继是 $w_1$ 和 $w_2$。\n在 $w_1$ 处，我们有 $w_1 \\notin V(p)$，所以 $(F,V), w_1 \\not\\models p$。由于 $w_1 R w_1$，我们找到了一个 $p$ 为假的后继。因此，$(F,V), w_1 \\not\\models \\Box p$。此条件得到满足。\n\n2. 检查 $(F,V), w_1 \\models \\Diamond \\Box p$：\n我们必须找到一个 $w_1$ 的后继，使得 $\\Box p$ 在该后繼上为真。后继是 $w_1$ 和 $w_2$。\n我们已经知道 $(F,V), w_1 \\not\\models \\Box p$。\n我们来检查世界 $w_2$。$(F,V), w_2 \\models \\Box p$ 当且仅当对于 $w_2$ 的所有后继 $v$，都有 $(F,V), v \\models p$。$w_2$ 唯一的后继是它自己。我们必须检查是否 $(F,V), w_2 \\models p$。由于 $w_2 \\in V(p)$，这是真的。因此，$(F,V), w_2 \\models \\Box p$。\n由于 $w_1 R w_2$ 且 $(F,V), w_2 \\models \\Box p$，条件 $(F,V), w_1 \\models \\Diamond \\Box p$ 得到满足。\n\n证伪该蕴含式的两个条件都已满足。我们成功地在一个 $|W|=2$ 的 $\\mathrm{S4}$ 框架中构造了一个反例模型。\n既然我们已经证明了 $|W|=1$ 是不可能的，那么最小基数就是 $2$。", "answer": "$$\n\\boxed{2}\n$$", "id": "2977066"}]}