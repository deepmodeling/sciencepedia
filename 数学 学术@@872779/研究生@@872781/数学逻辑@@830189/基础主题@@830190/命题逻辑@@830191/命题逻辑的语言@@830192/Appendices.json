{"hands_on_practices": [{"introduction": "我们通常使用带有括号的中缀表示法来书写命题公式以确保清晰性，但这并非唯一的方法。本练习将探讨波兰（前缀）表示法，这是一种无括号的表示方式，直接反映了公式的递归结构。掌握这种转换并证明其诸如无前缀码之类的属性，将加深您对公式作为形式对象的理解，这也是计算机科学中解析理论的基础概念 [@problem_id:2986347]。", "problem": "设 $\\mathcal{L}$ 是命题逻辑的标准语言，其命题变量集 $\\mathsf{Var}$ 是一个可数无限集，其基本联结词集为 $\\{\\neg,\\land,\\lor,\\to\\}$，其中 $\\neg$ 是一元的，而 $\\land,\\lor,\\to$ 都是二元的。合式公式集 $\\mathsf{Fm}$ 是满足以下条件的最小集合：(i) 每个 $p \\in \\mathsf{Var}$ 都在 $\\mathsf{Fm}$ 中，(ii) 如果 $\\varphi \\in \\mathsf{Fm}$，那么 $\\neg \\varphi \\in \\mathsf{Fm}$，以及 (iii) 如果 $\\varphi,\\psi \\in \\mathsf{Fm}$ 且 $\\circ \\in \\{\\land,\\lor,\\to\\}$，那么 $(\\varphi \\circ \\psi) \\in \\mathsf{Fm}$。考虑字母表 $\\Sigma := \\mathsf{Var} \\cup \\{\\neg,\\land,\\lor,\\to\\}$ 以及由 $\\mathrm{ar}(p)=0$（对于 $p \\in \\mathsf{Var}$），$\\mathrm{ar}(\\neg)=1$ 和 $\\mathrm{ar}(\\land)=\\mathrm{ar}(\\lor)=\\mathrm{ar}(\\to)=2$ 决定的元数函数 $\\mathrm{ar}:\\Sigma \\to \\{0,1,2\\}$。\n\n1. 通过对 $\\mathsf{Fm}$ 的结构递归，定义一个翻译 $P:\\mathsf{Fm} \\to \\Sigma^{\\ast}$ 到 Polish（前缀）表示法，该表示法去除了所有括号。您的定义必须只使用生成 $\\mathsf{Fm}$ 的归纳子句和 $\\mathrm{ar}$ 中的元数数据。\n\n2. 仅使用 $\\mathsf{Fm}$ 的归纳定义和您的翻译 $P$，从第一性原理证明 Polish 编码公式的集合 $P[\\mathsf{Fm}] \\subseteq \\Sigma^{\\ast}$ 是无前缀的，即：如果 $u,v \\in P[\\mathsf{Fm}]$ 且 $u$ 是 $v$ 的一个真前缀，那么这是不可能的。\n\n3. 设\n$$\nF \\;:=\\; \\bigl((\\neg p \\lor (q \\to r)) \\land (\\neg(s \\land t) \\to (p \\lor \\neg q))\\bigr) \\to \\bigl(r \\lor (\\neg p \\land (q \\to (s \\lor t)))\\bigr),\n$$\n其中 $p,q,r,s,t \\in \\mathsf{Var}$。计算 $P(F)$ 的记号长度，即字符串 $P(F)$ 中 $\\Sigma$ 上的符号数量。以单个整数形式给出您的最终答案。无需四舍五入。", "solution": "该问题被评估为有效。这是一个数理逻辑领域内的良定问题，由定义部分、证明部分和计算部分组成，所有部分都基于命题逻辑和形式语言理论的标准概念。问题陈述是自洽、一致且有科学依据的。\n\n### 第1部分：Polish 表示法翻译的定义\n\n从合式公式集 $\\mathsf{Fm}$ 到字母表 $\\Sigma$ 中的符号串（Polish 表示法）的翻译 $P: \\mathsf{Fm} \\to \\Sigma^{\\ast}$ 是通过对 $\\mathsf{Fm}$ 的定义进行结构递归来定义的。定义如下，其中右侧的符号并列表示字符串拼接。\n\n设 $\\varphi$ 是 $\\mathsf{Fm}$ 中的任意合式公式。翻译 $P(\\varphi)$ 根据 $\\varphi$ 的结构分情况定义如下：\n1.  **基本情形：** 如果 $\\varphi$ 是一个命题变量，即 $\\varphi \\in \\mathsf{Var}$，那么它的元数是 $\\mathrm{ar}(\\varphi)=0$。翻译就是该变量本身。\n    $$ P(\\varphi) := \\varphi $$\n2.  **归纳步骤（一元联结词）：** 如果 $\\varphi$ 的形式为 $\\neg \\psi$，其中 $\\psi \\in \\mathsf{Fm}$，则翻译是将一元联结词 $\\neg$（其 $\\mathrm{ar}(\\neg)=1$）作为子公式 $\\psi$ 的翻译的前缀。\n    $$ P(\\neg \\psi) := \\neg P(\\psi) $$\n3.  **归纳步骤（二元联结词）：** 如果 $\\varphi$ 的形式为 $(\\psi \\circ \\chi)$，其中 $\\psi, \\chi \\in \\mathsf{Fm}$ 且二元联结词 $\\circ \\in \\{\\land, \\lor, \\to\\}$（其 $\\mathrm{ar}(\\circ)=2$），则翻译是将二元联结词 $\\circ$ 作为子公式 $\\psi$ 和 $\\chi$ 的翻译拼接后的前缀。\n    $$ P((\\psi \\circ \\chi)) := \\circ P(\\psi) P(\\chi) $$\n\n这个定义完全指定了 $\\mathsf{Fm}$ 中任何公式的翻译，并去除了所有括号，生成一个 Polish（前缀）表示法的字符串。\n\n### 第2部分：无前缀性质的证明\n\n我们要证明集合 $P[\\mathsf{Fm}] = \\{P(\\varphi) \\mid \\varphi \\in \\mathsf{Fm}\\}$ 是无前缀的。这意味着对于任意两个公式 $\\varphi, \\psi \\in \\mathsf{Fm}$，如果 $P(\\varphi)$ 是 $P(\\psi)$ 的一个真前缀，就会产生矛盾。\n\n为了证明这一点，我们首先建立 $P[\\mathsf{Fm}]$ 中字符串的一个关键性质，该性质与其构成符号的元数有关。设 $w = \\sigma_1 \\sigma_2 \\dots \\sigma_k$ 是 $\\Sigma^{\\ast}$ 中的一个字符串。我们定义 $w$ 的**平衡值**，记作 $\\beta(w)$，为：\n$$ \\beta(w) := \\sum_{i=1}^{k} (\\mathrm{ar}(\\sigma_i) - 1) $$\n\n我们将通过对公式 $\\varphi$ 的结构归纳法来证明关于 $P[\\mathsf{Fm}]$ 中字符串的两个引理。\n\n**引理1：** 对于任意公式 $\\varphi \\in \\mathsf{Fm}$，其 Polish 翻译的平衡值为 $\\beta(P(\\varphi)) = -1$。\n\n*   **结构归纳法证明：**\n    *   **基本情形：** 设 $\\varphi = p$，其中 $p \\in \\mathsf{Var}$。则 $P(p) = p$。平衡值为 $\\beta(p) = \\mathrm{ar}(p) - 1 = 0 - 1 = -1$。引理成立。\n    *   **归纳步骤（一元）：** 假设引理对公式 $\\psi \\in \\mathsf{Fm}$ 成立，即 $\\beta(P(\\psi)) = -1$。考虑公式 $\\varphi = \\neg \\psi$。其翻译为 $P(\\varphi) = \\neg P(\\psi)$。平衡值为：\n        $$ \\beta(P(\\varphi)) = (\\mathrm{ar}(\\neg) - 1) + \\beta(P(\\psi)) = (1-1) + (-1) = -1 $$\n        引理对 $\\varphi = \\neg \\psi$ 成立。\n    *   **归纳步骤（二元）：** 假设引理对公式 $\\psi, \\chi \\in \\mathsf{Fm}$ 成立，即 $\\beta(P(\\psi)) = -1$ 和 $\\beta(P(\\chi)) = -1$。考虑公式 $\\varphi = (\\psi \\circ \\chi)$，其中 $\\circ \\in \\{\\land, \\lor, \\to\\}$。其翻译为 $P(\\varphi) = \\circ P(\\psi) P(\\chi)$。平衡值为：\n        $$ \\beta(P(\\varphi)) = (\\mathrm{ar}(\\circ) - 1) + \\beta(P(\\psi)) + \\beta(P(\\chi)) = (2-1) + (-1) + (-1) = -1 $$\n        引理对 $\\varphi = (\\psi \\circ \\chi)$ 成立。\n\n根据结构归纳原理，引理1对所有 $\\varphi \\in \\mathsf{Fm}$ 成立。\n\n**引理2：** 对于任意公式 $\\varphi \\in \\mathsf{Fm}$，其 $P(\\varphi)$ 的每个真前缀都有一个非负的平衡值。\n\n*   **结构归纳法证明：**\n    *   **基本情形：** 设 $\\varphi = p$，其中 $p \\in \\mathsf{Var}$。则 $P(p) = p$。这个字符串没有真前缀。引理空洞地成立。\n    *   **归纳步骤（一元）：** 假设引理对公式 $\\psi \\in \\mathsf{Fm}$ 成立。设 $\\varphi = \\neg \\psi$，所以 $P(\\varphi) = \\neg P(\\psi)$。 $P(\\varphi)$ 的一个真前缀要么是 $u = \\neg$，要么是形如 $u = \\neg v$ 的字符串，其中 $v$ 是 $P(\\psi)$ 的一个真前缀。\n        *   如果 $u = \\neg$，其平衡值为 $\\beta(\\neg) = \\mathrm{ar}(\\neg) - 1 = 1 - 1 = 0$。这是非负的。\n        *   如果 $u = \\neg v$，其平衡值为 $\\beta(u) = \\beta(\\neg) + \\beta(v) = 0 + \\beta(v)$。根据对 $\\psi$ 的归纳假设，由于 $v$ 是 $P(\\psi)$ 的一个真前缀，$\\beta(v) \\ge 0$。因此，$\\beta(u) \\ge 0$。\n    *   **归纳步骤（二元）：** 假设引理对公式 $\\psi, \\chi \\in \\mathsf{Fm}$ 成立。设 $\\varphi = (\\psi \\circ \\chi)$，所以 $P(\\varphi) = \\circ P(\\psi) P(\\chi)$。 $P(\\varphi)$ 的一个真前缀 $u$ 可以有以下几种形式之一：\n        1.  $u = \\circ$。平衡值：$\\beta(\\circ) = \\mathrm{ar}(\\circ) - 1 = 2 - 1 = 1 \\ge 0$。\n        2.  $u = \\circ v$，其中 $v$ 是 $P(\\psi)$ 的一个真前缀。平衡值：$\\beta(u) = \\beta(\\circ) + \\beta(v) = 1 + \\beta(v)$。根据对 $\\psi$ 的归纳假设，$\\beta(v) \\ge 0$，所以 $\\beta(u) \\ge 1 > 0$。\n        3.  $u = \\circ P(\\psi)$。平衡值：$\\beta(u) = \\beta(\\circ) + \\beta(P(\\psi)) = 1 + (-1) = 0$，此处使用了引理1对于 $P(\\psi)$ 的结论。这是非负的。\n        4.  $u = \\circ P(\\psi) w$，其中 $w$ 是 $P(\\chi)$ 的一个真前缀。平衡值：$\\beta(u) = \\beta(\\circ) + \\beta(P(\\psi)) + \\beta(w) = 1 + (-1) + \\beta(w) = \\beta(w)$。根据对 $\\chi$ 的归纳假设，$\\beta(w) \\ge 0$，所以 $\\beta(u) \\ge 0$。\n\n在所有情况下，真前缀的平衡值都是非负的。根据结构归纳原理，引理2对所有 $\\varphi \\in \\mathsf{Fm}$ 成立。\n\n**主证明：**\n现在我们可以证明 $P[\\mathsf{Fm}]$ 是无前缀的。为了引出矛盾，假设存在两个不同的公式 $\\varphi_1, \\varphi_2 \\in \\mathsf{Fm}$，使得 $u = P(\\varphi_1)$ 是 $v = P(\\varphi_2)$ 的一个真前缀。\n*   由于 $u = P(\\varphi_1)$ 是来自 $P[\\mathsf{Fm}]$ 的一个公式翻译，根据引理1，其平衡值为 $\\beta(u) = -1$。\n*   由于 $u$ 是 $v = P(\\varphi_2)$ 的一个真前缀（且 $v$ 在 $P[\\mathsf{Fm}]$ 中），根据引理2，其平衡值必须是非负的：$\\beta(u) \\ge 0$。\n我们得到了矛盾 $-1 \\ge 0$。因此，我们的初始假设必定是错误的。$P[\\mathsf{Fm}]$ 中的任何字符串都不可能是另一个 $P[\\mathsf{Fm}]$ 中字符串的真前缀。集合 $P[\\mathsf{Fm}]$ 是无前缀的。\n\n### 第3部分：记号长度的计算\n\n我们需要计算 $P(F)$ 的记号长度，其中\n$$ F \\;:=\\; \\bigl((\\neg p \\lor (q \\to r)) \\land (\\neg(s \\land t) \\to (p \\lor \\neg q))\\bigr) \\to \\bigl(r \\lor (\\neg p \\land (q \\to (s \\lor t)))\\bigr) $$\n字符串 $P(\\varphi)$ 的长度，记作 $|P(\\varphi)|$，是其中来自 $\\Sigma$ 的符号数量。我们可以通过结构递归定义一个函数 $L(\\varphi) = |P(\\varphi)|$：\n*   对于 $p \\in \\mathsf{Var}$，$L(p) = 1$。\n*   $L(\\neg \\psi) = 1 + L(\\psi)$。\n*   $L((\\psi \\circ \\chi)) = 1 + L(\\psi) + L(\\chi)$。\n\n这个递归定义表明，$L(\\varphi)$ 就是公式 $\\varphi$ 中符号（命题变量和联结词）的总数。因此，我们可以通过计算表达式 $F$ 中所有这些符号来找到 $|P(F)|$。\n\n让我们计算 $F$ 中的联结词数量：\n*   主联结词是 $\\to$：1个。\n*   在前件 $\\bigl((\\neg p \\lor (q \\to r)) \\land (\\neg(s \\land t) \\to (p \\lor \\neg q))\\bigr)$ 中：\n    *   主要联结词是 $\\land$：1个。\n    *   在其左子公式 $(\\neg p \\lor (q \\to r))$ 中：$\\lor, \\neg, \\to$（3个联结词）。\n    *   在其右子公式 $(\\neg(s \\land t) \\to (p \\lor \\neg q))$ 中：$\\to, \\neg, \\land, \\lor, \\neg$（5个联结词）。\n*   在后件 $\\bigl(r \\lor (\\neg p \\land (q \\to (s \\lor t)))\\bigr)$ 中：\n    *   主要联结词是 $\\lor$：1个。\n    *   在其右子公式 $(\\neg p \\land (q \\to (s \\lor t)))$ 中：$\\land, \\neg, \\to, \\lor$（4个联结词）。\n\n联结词总数：$1 + 1 + 3 + 5 + 1 + 4 = 15$。\n\n现在让我们计算 $F$ 中命题变量的出现次数：\n*   在前件 $\\bigl((\\neg p \\lor (q \\to r)) \\land (\\neg(s \\land t) \\to (p \\lor \\neg q))\\bigr)$ 中：\n    *   在 $(\\neg p \\lor (q \\to r))$ 中：$p, q, r$（3个变量）。\n    *   在 $(\\neg(s \\land t) \\to (p \\lor \\neg q))$ 中：$s, t, p, q$（4个变量）。\n*   在后件 $\\bigl(r \\lor (\\neg p \\land (q \\to (s \\lor t)))\\bigr)$ 中：\n    *   $\\lor$ 左侧的变量 $r$：1个变量。\n    *   在 $(\\neg p \\land (q \\to (s \\lor t)))$ 中：$p, q, s, t$（4个变量）。\n\n变量出现总次数：$3 + 4 + 1 + 4 = 12$。\n\n$P(F)$ 的总记号长度是联结词数量与变量出现次数之和。\n$$ |P(F)| = (\\text{联结词数量}) + (\\text{变量数量}) = 15 + 12 = 27 $$", "answer": "$$\n\\boxed{27}\n$$", "id": "2986347"}, {"introduction": "在定义了语言的句法之后，我们必须为其定义语义，即其含义。在经典命题逻辑中，这是通过真值赋值来实现的。本练习将指导您运用构建真值表这一基本技巧，它是一种系统性的方法，用于计算一个公式在所有可能情况下的真值，从而揭示其核心逻辑属性，例如是否为重言式 [@problem_id:2986359]。", "problem": "在经典命题逻辑 (CPL) 中，一个赋值为每个命题变量赋予一个在 $\\{\\top,\\bot\\}$ 中的真值。标准联结词的语义由其真值函数给出：对于任意公式 $\\alpha$ 和 $\\beta$，合取式 $\\alpha \\wedge \\beta$ 为真当且仅当 $\\alpha$ 和 $\\beta$ 都为真，蕴涵式 $\\alpha \\rightarrow \\beta$ 为假当且仅当 $\\alpha$ 为真且 $\\beta$ 为假，双条件式 $\\alpha \\leftrightarrow \\beta$ 为真当且仅当 $\\alpha$ 和 $\\beta$ 具有相同的真值。\n\n考虑包含三个变量 $p$、$q$ 和 $r$ 的公式：\n$$\n\\varphi \\;=\\; \\big( (p \\rightarrow q) \\wedge (q \\rightarrow r) \\big) \\;\\leftrightarrow\\; (p \\rightarrow r).\n$$\n\n任务：\n- 仅使用上述基础真值函数定义，构建 $\\varphi$ 关于 $p$、$q$ 和 $r$ 的所有 $2^3 = 8$ 种赋值的完整真值表。\n- 判断 $\\varphi$ 是否是 CPL 中的重言式。\n- 计算使 $\\varphi$ 为真的赋值数量。将最终计数表示为一个精确整数（不要四舍五入）。", "solution": "该问题定义良好，在经典命题逻辑中有科学依据，且内容自洽。逻辑联结词的定义是标准的，公式在语法上是正确的。没有矛盾或歧义。因此，该问题是有效的，可以推导出解决方案。\n\n该问题要求提供关于公式 $\\varphi \\;=\\; \\big( (p \\rightarrow q) \\wedge (q \\rightarrow r) \\big) \\;\\leftrightarrow\\; (p \\rightarrow r)$ 的三条信息：\n$1$. $\\varphi$ 的完整真值表。\n$2$. $\\varphi$ 是否是重言式。\n$3$. 满足 $\\varphi$（即使其为真）的赋值数量。\n\n我们将通过系统地构建 $\\varphi$ 的真值表来解决这些问题。有 $3$ 个命题变量 $p$、$q$ 和 $r$，这导致了 $2^3 = 8$ 种可能的赋值。我们将使用 $\\top$ 表示“真”，$\\bot$ 表示“假”。\n\n公式 $\\varphi$ 的形式为 $\\psi_L \\leftrightarrow \\psi_R$，其中：\n- $\\psi_L = (p \\rightarrow q) \\wedge (q \\rightarrow r)$\n- $\\psi_R = p \\rightarrow r$\n\n我们将通过首先评估子公式来构建真值表。联结词的规则如下：\n- $v(\\alpha \\rightarrow \\beta) = \\bot$ 当且仅当 $v(\\alpha) = \\top$ 且 $v(\\beta) = \\bot$。否则，$v(\\alpha \\rightarrow \\beta) = \\top$。\n- $v(\\alpha \\wedge \\beta) = \\top$ 当且仅当 $v(\\alpha) = \\top$ 且 $v(\\beta) = \\top$。否则，$v(\\alpha \\wedge \\beta) = \\bot$。\n- $v(\\alpha \\leftrightarrow \\beta) = \\top$ 当且仅当 $v(\\alpha) = v(\\beta)$。否则，$v(\\alpha \\leftrightarrow \\beta) = \\bot$。\n\n让我们为每个子公式设置列来构建真值表，逐步得到 $\\varphi$。\n\n- **第1-3列**：$p$、$q$ 和 $r$ 的基本赋值。\n- **第4列**：$p \\rightarrow q$。仅当 $p=\\top$ 且 $q=\\bot$ 时为假。\n- **第5列**：$q \\rightarrow r$。仅当 $q=\\top$ 且 $r=\\bot$ 时为假。\n- **第6列**：$\\psi_L = (p \\rightarrow q) \\wedge (q \\rightarrow r)$。仅当第 $4$ 列和第 $5$ 列都为真时为真。\n- **第7列**：$\\psi_R = p \\rightarrow r$。仅当 $p=\\top$ 且 $r=\\bot$ 时为假。\n- **第8列**：$\\varphi = \\psi_L \\leftrightarrow \\psi_R$。仅当第 $6$ 列和第 $7$ 列具有相同的真值时为真。\n\n完整的真值表如下：\n\n| $p$ | $q$ | $r$ | $p \\rightarrow q$ | $q \\rightarrow r$ | $\\psi_L = (p \\rightarrow q) \\wedge (q \\rightarrow r)$ | $\\psi_R = p \\rightarrow r$ | $\\varphi = \\psi_L \\leftrightarrow \\psi_R$ |\n|---|---|---|---|---|---|---|---|\n| $\\top$ | $\\top$ | $\\top$ | $\\top$ | $\\top$ | $\\top$ | $\\top$ | $\\top$ |\n| $\\top$ | $\\top$ | $\\bot$ | $\\top$ | $\\bot$ | $\\bot$ | $\\bot$ | $\\top$ |\n| $\\top$ | $\\bot$ | $\\top$ | $\\bot$ | $\\top$ | $\\bot$ | $\\top$ | $\\bot$ |\n| $\\top$ | $\\bot$ | $\\bot$ | $\\bot$ | $\\top$ | $\\bot$ | $\\bot$ | $\\top$ |\n| $\\bot$ | $\\top$ | $\\top$ | $\\top$ | $\\top$ | $\\top$ | $\\top$ | $\\top$ |\n| $\\bot$ | $\\top$ | $\\bot$ | $\\top$ | $\\bot$ | $\\bot$ | $\\top$ | $\\bot$ |\n| $\\bot$ | $\\bot$ | $\\top$ | $\\top$ | $\\top$ | $\\top$ | $\\top$ | $\\top$ |\n| $\\bot$ | $\\bot$ | $\\bot$ | $\\top$ | $\\top$ | $\\top$ | $\\top$ | $\\top$ |\n\n现在我们可以根据真值表的最后一列来回答问题。\n\n**$\\varphi$ 是重言式吗？**\n如果一个公式对于每个可能的赋值都为真，那么它就是重言式。$\\varphi$ 的最后一列在 $8$ 个赋值中有 $2$ 个的值为 $\\bot$。具体来说：\n- 对于赋值 $(p, q, r) = (\\top, \\bot, \\top)$，公式 $\\varphi$ 为假。\n- 对于赋值 $(p, q, r) = (\\bot, \\top, \\bot)$，公式 $\\varphi$ 为假。\n由于 $\\varphi$ 并非对所有赋值都为真，因此它不是重言式。\n\n**计算使 $\\varphi$ 为真的赋值数量。**\n为了找到这个数字，我们计算真值表中 $\\varphi$ 的最终值为 $\\top$ 的行数。检查最后一列，我们在以下行中找到 $\\top$：\n- 第 $1$ 行：$(p,q,r) = (\\top, \\top, \\top)$\n- 第 $2$ 行：$(p,q,r) = (\\top, \\top, \\bot)$\n- 第 $4$ 行：$(p,q,r) = (\\top, \\bot, \\bot)$\n- 第 $5$ 行：$(p,q,r) = (\\bot, \\top, \\top)$\n- 第 $7$ 行：$(p,q,r) = (\\bot, \\bot, \\top)$\n- 第 $8$ 行：$(p,q,r) = (\\bot, \\bot, \\bot)$\n统计这些行，我们发现有 $6$ 个赋值使公式 $\\varphi$ 为真。", "answer": "$$\n\\boxed{6}\n$$", "id": "2986359"}, {"introduction": "逻辑学的核心任务之一是判断一个结论是否能从一组前提中得出。本练习将焦点从证明蕴含关系转移到通过构造反模型来反驳它。您将练习系统性地寻找一个真值赋值，它能满足所有前提但证伪结论，这是一种关键的问题解决技能，用于证明一个逻辑论证的无效性 [@problem_id:2986350]。", "problem": "考虑一个命题语言，其变元为 $p$、$q$、$r$、$s$、$t$、$u$ 和 $w$。令 $\\Gamma$ 为如下有限公式集：\n- $p \\to (q \\lor r)$\n- $q \\to s$\n- $r \\to \\neg s$\n- $u \\leftrightarrow (p \\lor s)$\n- $t \\leftrightarrow (p \\land \\neg q)$\n- $w \\to (u \\land t)$\n\n令 $\\varphi$ 为公式 $s \\lor (t \\land w)$。仅使用命题逻辑语言的标准语义定义——赋值、满足和蕴涵——完成以下任务：\n1. 构造一个显式的真值指派 $v$，它既是 $\\Gamma$ 的模型，又证伪 $\\varphi$，从而证明蕴涵关系 $\\Gamma \\models \\varphi$ 不成立。\n2. 解释一种系统性方法，该方法基于联结词的真值条件语义和蕴涵的定义，通过从要求 $\\varphi$ 为假和 $\\Gamma$ 中的约束中传播约束来搜索反模型。\n3. 计算满足 $\\Gamma$ 中所有公式并证伪 $\\varphi$ 的不同真值指派的确切数量。\n\n你的最终答案必须是一个单一实数值形式的确切计数值。不需要四舍五入，也没有单位。不要使用百分比；任何比例都必须表示为小数或分数。将所有推理步骤建立在命题逻辑的基本语义定义以及 $\\to$、$\\lor$、$\\land$、$\\neg$ 和 $\\leftrightarrow$ 的真值条件之上。", "solution": "问题要求我们确定蕴涵关系 $\\Gamma \\models \\varphi$ 是否成立，如果不成立，则找出并计数其反模型。一个真值指派（或赋值）$v$ 是蕴涵关系 $\\Gamma \\models \\varphi$ 的一个反模型，当且仅当 $v$ 满足集合 $\\Gamma$ 中的每一个公式，但证伪公式 $\\varphi$。用语义学的术语来说，这意味着对于所有 $\\gamma \\in \\Gamma$都有 $v \\models \\gamma$，并且 $v \\not\\models \\varphi$。找到这样一个反模型就证明了蕴涵关系不成立。任务是找到一个这样的模型，描述一种寻找它们的系统性方法，并计算这类模型的总数。\n\n前提集是 $\\Gamma = \\{ p \\to (q \\lor r), q \\to s, r \\to \\neg s, u \\leftrightarrow (p \\lor s), t \\leftrightarrow (p \\land \\neg q), w \\to (u \\land t) \\}$。结论是 $\\varphi = s \\lor (t \\land w)$。命题变元是 $p, q, r, s, t, u, w$。\n\n一个反模型必须满足 $\\Gamma$ 中的所有公式，并且还要满足 $\\varphi$ 的否定。因此，我们正在寻找公式集 $\\Gamma \\cup \\{\\neg \\varphi\\}$ 的模型。\n\n根据问题第二部分的要求，寻找这类模型的系统性方法是基于一个迭代的约束传播过程，该过程植根于逻辑联结词的真值条件语义。我们从最强的约束开始，并在整个公式集中传播其后果。最直接的约束来自于要求 $\\varphi$ 为假。\n\n令 $v$ 是一个真值指派。条件 $v \\not\\models \\varphi$ 意味着 $v(\\varphi) = \\bot$。\n$$v(s \\lor (t \\land w)) = \\bot$$\n根据析取算子（$\\lor$）的语义定义，一个公式 $A \\lor B$ 为假，当且仅当 $A$ 和 $B$ 都为假。应用此定义，我们必须有：\n1. $v(s) = \\bot$\n2. $v(t \\land w) = \\bot$\n\n现在我们将第一个确定的推论 $v(s) = \\bot$ 传播到 $\\Gamma$ 中的公式。\n\n从 $\\gamma_2 \\in \\Gamma$，即 $q \\to s$：\n要使公式 $q \\to s$ 在其后件 $s$ 为假的情况下为真，其前件 $q$ 必须为假。蕴涵（$\\to$）的语义规则规定，$A \\to B$ 仅在 $A$ 为真且 $B$ 为假时为假。因此，为确保在 $v(s) = \\bot$ 的情况下 $v(q \\to s) = \\top$，我们必须有：\n$$v(q) = \\bot$$\n\n从 $\\gamma_3 \\in \\Gamma$，即 $r \\to \\neg s$：\n当 $v(s) = \\bot$ 时，公式 $\\neg s$ 变为真，即 $v(\\neg s) = \\top$。该蕴涵式变为 $r \\to \\top$。后件为真的蕴涵式总是为真，无论前件的真值如何。因此，在 $v(s)=\\bot$ 的条件下，该公式对 $r$ 的真值没有施加任何约束。$v(r)$ 可以是 $\\top$ 或 $\\bot$。\n\n现在我们将已知值 $v(s)=\\bot$ 和 $v(q)=\\bot$ 传播到剩余的公式中。\n\n从 $\\gamma_4 \\in \\Gamma$，即 $u \\leftrightarrow (p \\lor s)$：\n代入 $v(s) = \\bot$，公式变为 $u \\leftrightarrow (p \\lor \\bot)$。表达式 $p \\lor \\bot$ 在语义上等价于 $p$。因此，公式简化为 $u \\leftrightarrow p$。要使此双条件式为真，$u$ 和 $p$ 必须具有相同的真值：\n$$v(u) = v(p)$$\n\n从 $\\gamma_5 \\in \\Gamma$，即 $t \\leftrightarrow (p \\land \\neg q)$：\n代入 $v(q) = \\bot$，我们得到 $v(\\neg q) = \\top$。公式变为 $t \\leftrightarrow (p \\land \\top)$，简化为 $t \\leftrightarrow p$。要使此式为真，$t$ 和 $p$ 必须具有相同的真值：\n$$v(t) = v(p)$$\n\n至此，我们已经确定对于任何反模型 $v$：\n- $v(s) = \\bot$\n- $v(q) = \\bot$\n- $v(u) = v(p)$\n- $v(t) = v(p)$\n\n$q, s, t, u$ 的真值完全由 $p$ 的值决定。剩下待确定的变元是 $p, r, w$。我们现在分析对这些变元的剩余约束。\n\n$\\Gamma$ 中剩余的公式是 $\\gamma_1 = p \\to (q \\lor r)$ 和 $\\gamma_6 = w \\to (u \\land t)$。剩余的条件是 $v(t \\land w) = \\bot$。\n\n让我们利用我们的发现来简化这三个约束：\n- 对于 $\\gamma_1 = p \\to (q \\lor r)$：代入 $v(q)=\\bot$，变为 $p \\to (\\bot \\lor r)$，等价于 $p \\to r$。所以，我们必须有 $v(p \\to r) = \\top$。\n- 对于 $\\gamma_6 = w \\to (u \\land t)$：代入 $v(u)=v(p)$ 和 $v(t)=v(p)$，变为 $w \\to (p \\land p)$，等价于 $w \\to p$。所以，我们必须有 $v(w \\to p) = \\top$。\n- 对于条件 $v(t \\land w) = \\bot$：代入 $v(t) = v(p)$，变为 $v(p \\land w) = \\bot$。这等价于 $v(\\neg(p \\land w)) = \\top$。\n\n因此，问题简化为寻找满足以下三个条件的 $(p, r, w)$ 赋值的数量：\n(A) $p \\to r$ 必须为真。\n(B) $w \\to p$ 必须为真。\n(C) $\\neg(p \\land w)$ 必须为真。\n\n我们可以根据独立变元 $p$ 可能的真值分情况进行分析。\n\n情况 1：$v(p) = \\top$。\n- 条件 (A) $\\top \\to r$ 为真仅当 $v(r)=\\top$。\n- 条件 (B) $w \\to \\top$ 总是为真，因此对 $w$ 没有约束。\n- 条件 (C) $\\neg(\\top \\land w)$ 为真仅当 $\\top \\land w$ 为假，这意味着 $v(w)=\\bot$。\n综合这些，如果 $v(p)=\\top$，那么我们必须有 $v(r)=\\top$ 和 $v(w)=\\bot$。这为 $(p,r,w)$ 提供了一个解：$(\\top, \\top, \\bot)$。\n\n这提供了一个显式的反模型，回答了问题的第一部分。\n让我们构造这个指派 $v_1$：\n- $v_1(p) = \\top$\n- $v_1(r) = \\top$\n- $v_1(w) = \\bot$\n- 根据我们推导出的依赖关系：\n  - $v_1(s) = \\bot$\n  - $v_1(q) = \\bot$\n  - $v_1(u) = v_1(p) = \\top$\n  - $v_1(t) = v_1(p) = \\top$\n因此，显式的反模型是 $v_1$，其中 $(p,q,r,s,t,u,w)$ 被指派为 $(\\top,\\bot,\\top,\\bot,\\top,\\top,\\bot)$。检验验证了这个指派：$\\Gamma$ 中的所有公式都为真，而 $\\varphi = s \\lor (t \\land w)$ 的值为 $\\bot \\lor (\\top \\land \\bot) = \\bot$。因此，$\\Gamma \\not\\models \\varphi$。\n\n情况 2：$v(p) = \\bot$。\n- 条件 (A) $\\bot \\to r$ 总是为真，因此对 $r$ 没有约束。$v(r)$ 可以是 $\\top$ 或 $\\bot$。\n- 条件 (B) $w \\to \\bot$ 为真仅当 $v(w)=\\bot$。\n- 条件 (C) $\\neg(\\bot \\land w)$ 总是为真，因此对 $w$ 没有约束。\n综合这些，如果 $v(p)=\\bot$，那么我们必须有 $v(w)=\\bot$，而 $v(r)$ 可以是 $\\top$ 或 $\\bot$。这为 $(p,r,w)$ 提供了两个解：$(\\bot, \\top, \\bot)$ 和 $(\\bot, \\bot, \\bot)$。\n\n这两种情况产生了另外两个反模型：\n- 对于 $(p,r,w) = (\\bot,\\top,\\bot)$：该指派为 $(p,q,r,s,t,u,w) = (\\bot,\\bot,\\top,\\bot,\\bot,\\bot,\\bot)$。\n- 对于 $(p,r,w) = (\\bot,\\bot,\\bot)$：该指派为 $(p,q,r,s,t,u,w) = (\\bot,\\bot,\\bot,\\bot,\\bot,\\bot,\\bot)$。\n\n为了回答问题的第三部分，我们将所有情况下的解的数量相加。\n- 情况 1（$v(p)=\\top$）为 $(p,r,w)$ 提供了 $1$ 个有效指派。\n- 情况 2（$v(p)=\\bot$）为 $(p,r,w)$ 提供了 $2$ 个有效指派。\n\n不同反模型的总数是这些互斥情况下的解的数量之和，即 $1 + 2 = 3$。对于独立变元 $(p,r,w)$ 的这 $3$ 个指派中的每一个，都唯一地确定了一个针对所有 $7$ 个变元的完整指派，该指派满足 $\\Gamma$ 中的所有公式并证伪 $\\varphi$。因此，恰好有 $3$ 个这样的反模型。", "answer": "$$\n\\boxed{3}\n$$", "id": "2986350"}]}