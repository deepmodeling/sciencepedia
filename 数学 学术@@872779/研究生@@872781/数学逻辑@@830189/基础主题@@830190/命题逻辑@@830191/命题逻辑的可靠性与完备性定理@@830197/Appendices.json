{"hands_on_practices": [{"introduction": "掌握可靠性与完备性定理，首先需要熟悉形式演绎系统（deductive system）的纯句法操作。本练习 [@problem_id:2983069] 将带你深入一个经典的希尔伯特系统（Hilbert system）的内部，通过仅使用给定的公理模式和唯一的推理规则——肯定前件（Modus Ponens），来构造一个基本定理的证明。这个过程将帮助你理解“证明”在形式逻辑中的具体含义，并为后续连接句法与语义打下坚实的基础。", "problem": "考虑一个用于证明可靠性定理和完备性定理的标准命题逻辑希尔伯特式演绎系统，它包含以下公理模式和唯一的推理规则是肯定前件 (Modus Ponens, MP)：从 $X$ 和 $X \\to Y$ 可以推导出 $Y$。\n公理模式：\n(A1) $\\varphi \\to (\\psi \\to \\varphi)$\n(A2) $(\\varphi \\to (\\psi \\to \\chi)) \\to ((\\varphi \\to \\psi) \\to (\\varphi \\to \\chi))$\n(A3) $(\\neg \\varphi \\to \\neg \\psi) \\to (\\psi \\to \\varphi)$\n只允许对这些公理模式进行一致替换以及使用肯定前件。\n\n任务：仅从公理模式和肯定前件出发，构造一个具体推导来证明 $\\vdash A \\to A$。然后，论证并确定从公理推导出 $A \\to A$ 所需的肯定前件的最小应用次数（即，在该希尔伯特系统中对 $A \\to A$ 的任何推导中）。请将最终答案表示为这个最小次数。无需四舍五入，也没有物理单位。", "solution": "本题要求我们在一个特定的命题逻辑希尔伯特式演绎系统中进行操作。该系统由三个公理模式和一个推理规则——肯定前件所定义。\n\n已知条件如下：\n公理模式：\n(A1) $\\varphi \\to (\\psi \\to \\varphi)$\n(A2) $(\\varphi \\to (\\psi \\to \\chi)) \\to ((\\varphi \\to \\psi) \\to (\\varphi \\to \\chi))$\n(A3) $(\\neg \\varphi \\to \\neg \\psi) \\to (\\psi \\to \\varphi)$\n\n推理规则：肯定前件（MP），它允许从前提 $X$ 和 $X \\to Y$ 推导出 $Y$。\n\n任务分为两部分：首先，仅使用所提供的公理和MP构造定理 $\\vdash A \\to A$ 的一个形式化推导；其次，确定在任何此类推导中所需要的MP的最小应用次数。\n\n该问题是数理逻辑中元理论的一个适定且标准的练习。它自洽、一致且具有科学依据。我们可以着手解题。\n\n**第一部分：$\\vdash A \\to A$ 的推导构造**\n\n我们寻求一个合式公式序列，其中每个公式要么是一个公理模式的实例，要么是通过应用肯定前件从序列中前面的公式推导出来的。序列中的最后一个公式必须是 $A \\to A$。注意，这个特定的推导不需要公理模式(A3)。\n\n推导过程如下：\n\n1.  $(A \\to ((A \\to A) \\to A)) \\to ((A \\to (A \\to A)) \\to (A \\to A))$\n    这是公理模式 (A2) 的一个实例，通过以下一致替换得到：\n    $\\varphi \\to A$\n    $\\psi \\to (A \\to A)$\n    $\\chi \\to A$\n\n2.  $A \\to ((A \\to A) \\to A)$\n    这是公理模式 (A1) 的一个实例，通过以下一致替换得到：\n    $\\varphi \\to A$\n    $\\psi \\to (A \\to A)$\n\n3.  $(A \\to (A \\to A)) \\to (A \\to A)$\n    该公式通过对第1行和第2行的公式应用肯定前件推导得出。第2行是第1行蕴含式的前件。这是MP的第一次应用。\n\n4.  $A \\to (A \\to A)$\n    这是公理模式 (A1) 的一个实例，通过以下一致替换得到：\n    $\\varphi \\to A$\n    $\\psi \\to A$\n\n5.  $A \\to A$\n    该公式通过对第3行和第4行的公式应用肯定前件推导得出。第4行是第3行蕴含式的前件。这是MP的第二次应用。\n\n这样就完成了 $\\vdash A \\to A$ 的形式化推导。这个具体的推导恰好需要两次肯定前件的应用。\n\n**第二部分：关于肯定前件最小应用次数的论证**\n\n我们现在必须论证两次是所需MP应用的最小次数。\n\n**情况0：零次MP应用**\n如果零次MP应用就足够，那么 $A \\to A$ 本身必须是某个公理模式的直接实例。\n-   (A1) 要求形式为 $\\varphi \\to (\\psi \\to \\varphi)$。其后件 $\\psi \\to \\varphi$ 是一个蕴含式。$A \\to A$ 不符合这个结构，因为它的后件 $A$ 是原子的。\n-   (A2) 的形式为 $(\\dots) \\to (\\dots)$。整个公式是一个复杂的蕴含式，其前件本身也是一个蕴含式。$A \\to A$ 不匹配此结构。\n-   (A3) 的形式为 $(\\neg\\varphi \\to \\neg\\psi) \\to (\\psi \\to \\varphi)$。同样，其前件是一个蕴含式。$A \\to A$ 不匹配此结构。\n因此，$A \\to A$ 不是任何公理模式的实例，所以MP应用的最小次数必须大于0。\n\n**情况1：一次MP应用**\n如果一次MP应用就足够，那么必须存在两个公式 $P$ 和 $P \\to (A \\to A)$，它们都是公理模式的直接实例。我们来分析公式 $P \\to (A \\to A)$ 所需的结构。\n\n-   $P \\to (A \\to A)$ 能否是 (A1) 的一个实例，即形式为 $\\varphi \\to (\\psi \\to \\varphi)$？\n    要使其为真，我们必须让 $\\psi \\to \\varphi$ 匹配 $A \\to A$。这强制要求替换为 $\\psi=A$ 和 $\\varphi=A$。(A1) 的实例将是 $A \\to (A \\to A)$。在这种情况下，前提 $P$ 将是 $A$。然而，公式 $A$（一个原子命题）不是任何公理模式的实例。因此，这条路径是不可能的。\n\n-   $P \\to (A \\to A)$ 能否是 (A2) 的一个实例，即形式为 $(\\varphi \\to (\\psi \\to \\chi)) \\to ((\\varphi \\to \\psi) \\to (\\varphi \\to \\chi))$？\n    要使其为真，后件 $((\\varphi \\to \\psi) \\to (\\varphi \\to \\chi))$ 必须匹配 $A \\to A$。这在结构上是不可能的。前者是一个蕴含式，且其前件也是一个蕴含式，而后者是原子命题之间的简单蕴含。因此，这条路径是不可能的。\n\n-   $P \\to (A \\to A)$ 能否是 (A3) 的一个实例，即形式为 $(\\neg\\varphi \\to \\neg\\psi) \\to (\\psi \\to \\varphi)$？\n    要使其为真，后件 $\\psi \\to \\varphi$ 必须匹配 $A \\to A$。这可以通过替换 $\\psi=A$ 和 $\\varphi=A$ 来实现。(A3) 的最终实例将是 $(\\neg A \\to \\neg A) \\to (A \\to A)$。这要求前提 $P$ 是 $\\neg A \\to \\neg A$。我们接着必须检查 $\\neg A \\to \\neg A$ 是否能成为一个公理模式的实例。根据对情况0的分析，形式为 $X \\to X$ 的公式不是 (A1)、(A2) 或 (A3) 的实例。因此，前提 $P$ 不可能是一个公理。所以，这条路径也是不可能的。\n\n由于不可能找到两个公理 $P$ 和 $P \\to (A \\to A)$，因此单次应用MP的推导是不可能的。MP应用的最小次数必须大于1。\n\n**结论**\n我们已经证明了MP应用的次数必须严格大于1。既然我们已经构造了一个使用恰好两次MP应用的 $\\vdash A \\to A$ 的有效推导，我们得出结论，最小应用次数是 $2$。", "answer": "$$ \\boxed{2} $$", "id": "2983069"}, {"introduction": "在熟悉了句法层面的形式推导后，下一步是建立句法与语义之间的桥梁。本练习 [@problem_id:2983070] 探讨了在有限前提下，如何将语义后承关系 $\\Gamma \\models \\varphi$ 的判断转化为一个有限的、可通过真值表完成的计算过程。通过引入“反模型计数”这一概念，我们能够清晰地看到，语义上的有效性（即不存在反模型）与句法上的可证性（$\\Gamma \\vdash \\varphi$）是如何通过可靠性与完备性定理紧密联系在一起的。", "problem": "设 $\\mathcal{L}$ 是一个命题语言，其建立在一个可数命题变量集合 $\\mathsf{Var}$ 之上，联结词为 $\\neg$、$\\land$、$\\lor$ 和 $\\to$。一个赋值是一个函数 $v:\\mathsf{Var}\\to\\{\\mathsf{T},\\mathsf{F}\\}$。满足关系 $v\\models\\varphi$ 通过通常的真值条件归纳定义：对于 $p\\in\\mathsf{Var}$，$v\\models p$ 当且仅当 $v(p)=\\mathsf{T}$；$v\\models\\neg\\varphi$ 当且仅当 $v\\not\\models\\varphi$；$v\\models\\varphi\\land\\psi$ 当且仅当 $v\\models\\varphi$ 且 $v\\models\\psi$；$v\\models\\varphi\\lor\\psi$ 当且仅当 $v\\models\\varphi$ 或 $v\\models\\psi$；$v\\models\\varphi\\to\\psi$ 当且仅当 $v\\not\\models\\varphi$ 或 $v\\models\\psi$。对于一个有限公式集合 $\\Gamma\\subseteq\\mathcal{L}$ 和一个公式 $\\varphi\\in\\mathcal{L}$，记 $\\Gamma\\models\\varphi$ 当且仅当对于每个赋值 $v$，若 $v\\models\\Gamma$（即对所有 $\\gamma\\in\\Gamma$ 都有 $v\\models\\gamma$），则 $v\\models\\varphi$。\n\n仅从这些语义定义以及命题逻辑的可靠性定理和完备性定理的陈述（在任何可靠且完备的演绎系统中，每个句法后承都是语义后承，反之亦然）出发，完成以下任务：\n\n1. 证明如果 $\\Gamma$ 是有限的，那么判定 $\\Gamma\\models\\varphi$ 是否成立可以归约为检查一个在 $\\Gamma\\cup\\{\\varphi\\}$ 中出现的命题变量集合上的有限真值表。特别地，证明如果 $X=\\mathsf{Var}(\\Gamma\\cup\\{\\varphi\\})$ 表示在 $\\Gamma\\cup\\{\\varphi\\}$ 中出现的有限变量集合，那么对于 $\\mathsf{Var}$ 上的任何赋值 $v$，其限制 $v\\!\\upharpoonright\\!X$ 决定了 $\\Gamma\\cup\\{\\varphi\\}$ 中所有公式的真值，因此 $\\Gamma\\models\\varphi$ 成立当且仅当对于每个赋值 $w:X\\to\\{\\mathsf{T},\\mathsf{F}\\}$，$w\\models\\Gamma$ 蕴涵 $w\\models\\varphi$。你的推导必须基于语义的第一性原理，并且必须证明为什么 $X$ 之外的变量是无关的。\n\n2. 定义反模型计数\n$$\nC(\\Gamma,\\varphi)\\;=\\;\\left|\\left\\{\\,w:X\\to\\{\\mathsf{T},\\mathsf{F}\\}\\mid w\\models\\Gamma\\text{ and }w\\not\\models\\varphi\\,\\right\\}\\right|,\n$$\n其中 $X=\\mathsf{Var}(\\Gamma\\cup\\{\\varphi\\})$。证明 $\\Gamma\\models\\varphi$ 当且仅当 $C(\\Gamma,\\varphi)=0$。解释如何通过命题逻辑的可靠性定理和完备性定理，得出条件 $C(\\Gamma,\\varphi)=0$ 等价于在任何可靠且完备的演绎系统中存在一个从 $\\Gamma$ 到 $\\varphi$ 的推导。\n\n3. 使用真值表语义显式地计算 $C(\\{p\\to q,\\,p\\},\\,q)$，并报告其精确整数值。无需四舍五入。将你的最终答案表示为 $C(\\{p\\to q,\\,p\\},\\,q)$ 的单个整数值。", "solution": "此问题定义明确，在数理逻辑上有坚实的科学基础，并提供了所有必要的定义。我们可以继续解答，依次处理三个部分。\n\n## 第一部分：归约为有限真值表\n\n第一个任务是证明对于一个有限公式集合 $\\Gamma$，语义后承 $\\Gamma\\models\\varphi$ 可以通过检查一个有限真值表来判定。这依赖于一个原则：一个公式的真值仅取决于出现在其中的命题变量的赋值。我们首先形式化地建立这个原则。\n\n设 $\\psi$ 是语言 $\\mathcal{L}$ 中的任意公式。设 $\\mathsf{Var}(\\psi)$ 是出现在 $\\psi$ 中的命题变量集合。我们将通过对 $\\psi$ 的结构归纳来证明，对于任意两个赋值 $v_1:\\mathsf{Var}\\to\\{\\mathsf{T},\\mathsf{F}\\}$ 和 $v_2:\\mathsf{Var}\\to\\{\\mathsf{T},\\mathsf{F}\\}$，如果 $v_1$ 和 $v_2$ 在 $\\mathsf{Var}(\\psi)$ 中的所有变量上一致（即，对于所有 $p\\in\\mathsf{Var}(\\psi)$ 都有 $v_1(p) = v_2(p)$），那么 $v_1\\models\\psi$ 当且仅当 $v_2\\models\\psi$。\n\n**基本情形：**设 $\\psi$ 是一个命题变量，$\\psi=p$，其中 $p\\in\\mathsf{Var}$。则 $\\mathsf{Var}(\\psi) = \\{p\\}$。满足的定义表明 $v\\models p$ 当且仅当 $v(p)=\\mathsf{T}$。如果 $v_1$ 和 $v_2$ 在 $\\mathsf{Var}(\\psi)$ 上一致，那么 $v_1(p)=v_2(p)$。因此，$v_1(p)=\\mathsf{T}$ 当且仅当 $v_2(p)=\\mathsf{T}$，这意味着 $v_1\\models p$ 当且仅当 $v_2\\models p$。该论断在基本情形下成立。\n\n**归纳步骤：**假设该论断对公式 $\\alpha$ 和 $\\beta$ 成立。我们必须证明它对 $\\neg\\alpha$、$\\alpha\\land\\beta$、$\\alpha\\lor\\beta$ 和 $\\alpha\\to\\beta$ 也成立。设 $v_1$ 和 $v_2$ 是两个在新的复合公式的变量上一致的赋值。\n\n1.  **否定 ($\\neg\\alpha$)：**变量集合为 $\\mathsf{Var}(\\neg\\alpha) = \\mathsf{Var}(\\alpha)$。假设 $v_1$ 和 $v_2$ 在 $\\mathsf{Var}(\\neg\\alpha)$ 上一致。根据归纳假设，由于它们在 $\\mathsf{Var}(\\alpha)$ 上一致，我们有 $v_1\\models\\alpha$ 当且仅当 $v_2\\models\\alpha$。根据定义，$v_1\\models\\neg\\alpha$ 当且仅当 $v_1\\not\\models\\alpha$。这等价于 $v_2\\not\\models\\alpha$，而这又等价于 $v_2\\models\\neg\\alpha$。因此，$v_1\\models\\neg\\alpha$ 当且仅当 $v_2\\models\\neg\\alpha$。\n\n2.  **合取 ($\\alpha\\land\\beta$)：**变量集合为 $\\mathsf{Var}(\\alpha\\land\\beta) = \\mathsf{Var}(\\alpha)\\cup\\mathsf{Var}(\\beta)$。假设 $v_1$ 和 $v_2$ 在 $\\mathsf{Var}(\\alpha\\land\\beta)$ 上一致。这意味着它们在 $\\mathsf{Var}(\\alpha)$ 和 $\\mathsf{Var}(\\beta)$ 上都一致。根据归纳假设，$v_1\\models\\alpha$ 当且仅当 $v_2\\models\\alpha$，并且 $v_1\\models\\beta$ 当且仅当 $v_2\\models\\beta$。根据定义，$v_1\\models\\alpha\\land\\beta$ 当且仅当（$v_1\\models\\alpha$ 且 $v_1\\models\\beta$）。这等价于（$v_2\\models\\alpha$ 且 $v_2\\models\\beta$），而这正是 $v_2\\models\\alpha\\land\\beta$ 的条件。因此，$v_1\\models\\alpha\\land\\beta$ 当且仅当 $v_2\\models\\alpha\\land\\beta$。\n\n对于 $\\alpha\\lor\\beta$ 和 $\\alpha\\to\\beta$ 的证明是类似的，依赖于它们各自的定义以及应用于 $\\alpha$ 和 $\\beta$ 的归纳假设。这样就完成了归纳。我们已经证明，对于任何公式 $\\psi$，其在赋值 $v$ 下的真值完全由 $v$ 在 $\\psi$ 中变量上的限制所决定，记为 $v\\!\\upharpoonright\\!\\mathsf{Var}(\\psi)$。\n\n现在，设 $X = \\mathsf{Var}(\\Gamma\\cup\\{\\varphi\\})$。由于 $\\Gamma$ 是一个有限的公式集合，且每个公式只有有限个变量，因此 $X$ 是一个有限集合。设 $|X|=n$。对于任何公式 $\\psi \\in \\Gamma\\cup\\{\\varphi\\}$，我们有 $\\mathsf{Var}(\\psi)\\subseteq X$。根据我们刚刚证明的原则，$\\psi$ 在赋值 $v$ 下的真值仅取决于 $v$ 赋给 $X$ 中变量的值，即取决于 $v\\!\\upharpoonright\\!X$。\n\n我们现在证明 $\\Gamma\\models\\varphi$ 当且仅当对于每个赋值 $w:X\\to\\{\\mathsf{T},\\mathsf{F}\\}$，如果 $w\\models\\Gamma$ 则 $w\\models\\varphi$。\n\n($\\Rightarrow$) 假设 $\\Gamma\\models\\varphi$。这意味着对于任何赋值 $v:\\mathsf{Var}\\to\\{\\mathsf{T},\\mathsf{F}\\}$，如果 $v\\models\\Gamma$ 则 $v\\models\\varphi$。设 $w:X\\to\\{\\mathsf{T},\\mathsf{F}\\}$ 是有限变量集 $X$ 上的一个任意赋值。我们可以将 $w$ 扩展为一个赋值 $v_w:\\mathsf{Var}\\to\\{\\mathsf{T},\\mathsf{F}\\}$，方法是对于 $p\\in X$ 设 $v_w(p) = w(p)$，而对于所有 $p\\notin X$ 设 $v_w(p)=\\mathsf{F}$（例如）。对于任何公式 $\\psi\\in\\Gamma\\cup\\{\\varphi\\}$，其在 $v_w$ 下的真值仅取决于对 $X$ 中变量的赋值，所以 $v_w\\models\\psi$ 当且仅当 $w\\models\\psi$。现在，假设 $w\\models\\Gamma$。这意味着 $v_w\\models\\Gamma$。根据我们的初始假设（$\\Gamma\\models\\varphi$），这必然导致 $v_w\\models\\varphi$。这又蕴涵 $w\\models\\varphi$。由于 $w$ 是 $X$ 上的任意赋值，该论断成立。\n\n($\\Leftarrow$) 假设对于每个赋值 $w:X\\to\\{\\mathsf{T},\\mathsf{F}\\}$，如果 $w\\models\\Gamma$ 则 $w\\models\\varphi$。设 $v:\\mathsf{Var}\\to\\{\\mathsf{T},\\mathsf{F}\\}$ 是一个任意赋值。设 $w = v\\!\\upharpoonright\\!X$ 是 $v$ 在变量集 $X$ 上的限制。假设 $v\\models\\Gamma$。对于每个 $\\gamma\\in\\Gamma$，$v\\models\\gamma$。由于 $\\gamma$ 的真值仅取决于 $X$ 中的变量，这意味着 $w\\models\\gamma$。因此，$w\\models\\Gamma$。根据我们的假设，这蕴涵 $w\\models\\varphi$。同样，由于 $\\varphi$ 的真值仅取决于 $X$ 中的变量，$w\\models\\varphi$ 蕴涵 $v\\models\\varphi$。由于 $v$ 是一个任意赋值，我们已经证明了对于任何 $v$，如果 $v\\models\\Gamma$ 则 $v\\models\\varphi$。这正是 $\\Gamma\\models\\varphi$ 的定义。\n\n这就证明了检查 $\\Gamma\\models\\varphi$ 等价于检查有限集合 $X$ 上所有 $2^{|X|}$ 种可能的赋值。这正是通过为 $X$ 中的变量构造一个真值表所做的事情。\n\n## 第二部分：反模型计数及其与可推导性的等价关系\n\n反模型计数定义为 $C(\\Gamma,\\varphi) = \\left|\\left\\{\\,w:X\\to\\{\\mathsf{T},\\mathsf{F}\\}\\mid w\\models\\Gamma\\text{ and }w\\not\\models\\varphi\\,\\right\\}\\right|$，其中 $X=\\mathsf{Var}(\\Gamma\\cup\\{\\varphi\\})$。我们需要证明 $\\Gamma\\models\\varphi$ 当且仅当 $C(\\Gamma,\\varphi)=0$。\n\n一个赋值 $w:X\\to\\{\\mathsf{T},\\mathsf{F}\\}$ 是后承关系 $\\Gamma\\models\\varphi$ 的一个反模型，如果它使 $\\Gamma$ 中所有公式为真，但使 $\\varphi$ 为假。也就是说，$w\\models\\Gamma$ 且 $w\\not\\models\\varphi$。数 $C(\\Gamma,\\varphi)$ 根据其定义，正是相关变量集 $X$ 上此类反模型的计数。\n\n从第一部分我们知道，$\\Gamma\\models\\varphi$ 等价于陈述：“对于每个赋值 $w:X\\to\\{\\mathsf{T},\\mathsf{F}\\}$，如果 $w\\models\\Gamma$ 则 $w\\models\\varphi$”。这个陈述逻辑上等价于其逆否命题形式，或者更直接地说，等价于陈述：“不存在一个赋值 $w:X\\to\\{\\mathsf{T},\\mathsf{F}\\}$ 使得 $w\\models\\Gamma$ 且 $w\\not\\models\\varphi$”。\n\n基数为 $C(\\Gamma,\\varphi)$ 的集合正是这些反例赋值的集合。因此，“不存在反例”这个陈述等价于该集合为空的陈述，即其基数为 $0$。\n所以，我们有以下等价链：\n$$ (\\Gamma\\models\\varphi) \\iff (\\text{反模型的集合为空}) \\iff (C(\\Gamma,\\varphi) = 0) $$\n这就证明了所求的等价性。\n\n现在，我们使用可靠性定理和完备性定理将其与句法可推导性联系起来。设 $\\vdash$ 表示在给定的可靠且完备的命题逻辑演绎系统中的句法可推导关系。\n**可靠性定理**陈述：如果 $\\Gamma\\vdash\\varphi$，那么 $\\Gamma\\models\\varphi$。（每个可证的陈述都是真的）。\n**完备性定理**陈述：如果 $\\Gamma\\models\\varphi$，那么 $\\Gamma\\vdash\\varphi$。（每个真的陈述都是可证的）。\n\n结合这两个定理，我们得到基本等价关系：\n$$ \\Gamma\\vdash\\varphi \\iff \\Gamma\\models\\varphi $$\n我们已经证明了 $\\Gamma\\models\\varphi \\iff C(\\Gamma,\\varphi)=0$。\n根据双条件句的传递性，我们可以得出结论：\n$$ \\Gamma\\vdash\\varphi \\iff C(\\Gamma,\\varphi)=0 $$\n这意味着语义反模型的不存在性（即 $C(\\Gamma,\\varphi)=0$）是在任何可靠且完备的演绎系统中，从前提 $\\Gamma$ 存在一个对 $\\varphi$ 的句法证明（一个推导）的充分必要条件。\n\n## 第三部分：计算 $C(\\{p\\to q,\\,p\\},\\,q)$\n\n我们需要计算当 $\\Gamma=\\{p\\to q, p\\}$ 且 $\\varphi=q$ 时 $C(\\Gamma,\\varphi)$ 的值。\n\n1.  **识别变量：**相关命题变量的集合是 $X = \\mathsf{Var}(\\Gamma\\cup\\{\\varphi\\}) = \\mathsf{Var}(\\{p\\to q, p, q\\}) = \\{p, q\\}$。\n\n2.  **识别赋值：**由于 $|X|=2$，存在 $2^2=4$ 个不同的赋值 $w:\\{p, q\\}\\to\\{\\mathsf{T},\\mathsf{F}\\}$。\n\n3.  **计数反模型：**我们需要找到满足条件（$w\\models\\Gamma$ 且 $w\\not\\models\\varphi$）的赋值 $w$ 的数量。这可以转化为：\n    $$(w\\models (p\\to q) \\text{ 且 } w\\models p) \\text{ 且 } w\\not\\models q$$\n    我们构造一个真值表来系统地检查所有 4 种赋值。我们用 $1$ 表示 $\\mathsf{T}$，用 $0$ 表示 $\\mathsf{F}$。$p\\to q$ 的定义是 $\\neg p \\lor q$。\n\n| $w(p)$ | $w(q)$ | $w\\models p$？ | $w\\models q$？ | $w\\models p\\to q$？ | $w\\models\\Gamma$？（$w\\models p$ 且 $w\\models p\\to q$） | $w\\not\\models q$？ | 是反模型吗？（$w\\models\\Gamma$ 且 $w\\not\\models q$） |\n|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|\n| $1$ | $1$ | $1$ | $1$ | $1$ | $1$ | $0$ | $0$ |\n| $1$ | $0$ | $1$ | $0$ | $0$ | $0$ | $1$ | $0$ |\n| $0$ | $1$ | $0$ | $1$ | $1$ | $0$ | $0$ | $0$ |\n| $0$ | $0$ | $0$ | $0$ | $1$ | $0$ | $1$ | $0$ |\n\n我们来分析每一行：\n-   **第一行：$w(p)=\\mathsf{T}, w(q)=\\mathsf{T}$**。此时，$w\\models p$ 且 $w\\models q$。由于 $w\\models q$，所以 $w\\models p\\to q$ 为真。因此 $w\\models\\Gamma$。然而，$w\\models q$，所以 $w\\not\\models q$ 为假。这不是一个反模型。\n-   **第二行：$w(p)=\\mathsf{T}, w(q)=\\mathsf{F}$**。此时，$w\\models p$。但由于 $w\\not\\models q$，所以 $w\\models p\\to q$ 为假。因此 $w\\not\\models\\Gamma$。这不是一个反模型。\n-   **第三行：$w(p)=\\mathsf{F}, w(q)=\\mathsf{T}$**。此时，$w\\not\\models p$。因此 $w\\not\\models\\Gamma$。这不是一个反模型。\n-   **第四行：$w(p)=\\mathsf{F}, w(q)=\\mathsf{F}$**。此时，$w\\not\\models p$。因此 $w\\not\\models\\Gamma$。这不是一个反模型。\n\n最后一列“是反模型吗？”对所有四种可能的赋值都为假（$0$）。没有赋值 $w$ 满足成为反模型的条件。因此，反模型的集合为空。\n\n反模型计数是这个空集的基数。\n$$ C(\\{p\\to q,\\,p\\},\\,q) = 0 $$\n这个结果是预料之中的，因为 $\\{p\\to q, p\\}\\models q$ 对应于被称为“肯定前件”的有效推理规则。", "answer": "$$\\boxed{0}$$", "id": "2983070"}, {"introduction": "对于无限前提集，我们无法再依赖有限的真值表来检验后承关系。这正是完备性定理最深刻之处——它为我们提供了一种从句法构造模型的方法。本练习 [@problem_id:2983024] 引导你探索完备性定理标准证明（Henkin-style proof）的核心思想：当一个公式 $A$ 不能从前提集 $\\Gamma$ 中证出时（即 $\\Gamma \\nvdash A$），如何通过将 $\\Gamma \\cup \\{\\neg A\\}$ 扩展为一个极大一致集，来构造一个“典范赋值”（canonical valuation），从而证明 $\\Gamma \\not\\models A$。这个练习揭示了逻辑的句法属性如何直接生成一个揭示其语义属性的数学结构。", "problem": "设命题逻辑的语言由一个可数命题变量集 $\\{p_0, p_1, p_2, \\dots\\}$ 构建，仅使用联结词 $\\neg$ 和 $\\to$，并为这些联结词赋予通常的真值函项语义。考虑一个用于经典命题逻辑的希尔伯特式演绎系统，其唯一推理规则为肯定前件，并包含以下公理模式：\n1. $X \\to (Y \\to X)$,\n2. $\\bigl(X \\to (Y \\to Z)\\bigr) \\to \\bigl((X \\to Y) \\to (X \\to Z)\\bigr)$,\n3. $\\bigl(\\neg Y \\to \\neg X\\bigr) \\to (X \\to Y)$,\n其中 $X$、$Y$ 和 $Z$ 遍及所有公式。\n\n如果不存在公式 $B$ 使得 $\\Gamma \\vdash B$ 和 $\\Gamma \\vdash \\neg B$ 同时成立，则称公式集 $\\Gamma$ 是一致的。如果对于任意公式 $C$，都有 $C \\in M$ 或 $\\neg C \\in M$ 成立，并且 $M$ 的任何真超集都不是一致的，则称一致集 $M$ 是极大一致的。\n\n假设给定公式集 $\\Gamma$ 和公式 $A$，使得 $\\Gamma \\nvdash A$。令 $M$ 为任何包含 $\\Gamma \\cup \\{\\neg A\\}$ 的极大一致集。通过 $v_M(p)=1$（如果 $p \\in M$）和 $v_M(p)=0$（如果 $\\neg p \\in M$）在命题变量上定义典范赋值 $v_M$，并使用 $\\neg$ 和 $\\to$ 的标准真值函项条款将 $v_M$ 扩展到所有公式。\n\n仅使用上述核心定义和经典命题逻辑的标准真理，从第一性原理推导出 $v_M(A)$ 的真值，并证明为何 $v_M$ 是相继式 $\\Gamma \\vdash A$ 的一个反模型。你的最终答案必须是 $v_M(A)$ 的精确值，表示为单个数字。无需四舍五入。", "solution": "该问题陈述是数理逻辑中的一个有效练习，具体涉及经典命题逻辑完备性定理的证明。它具有科学依据、问题良定且客观。因此，我们可以进行完整解答。\n\n问题要求做两件事：首先，确定在特定赋值 $v_M$ 下公式 $A$ 的真值；其次，证明为何该赋值是相继式 $\\Gamma \\vdash A$ 的一个反模型。整个构造都基于这样一个前提假设：公式 $A$ 不能从公式集 $\\Gamma$ 中证出，记作 $\\Gamma \\nvdash A$。\n\n解答的核心在于建立极大一致集 $M$ 中的成员关系与从它派生出的典范赋值 $v_M$ 中的真值之间的基本联系。这个联系被正式表述为**真值引理**：对于任意公式 $D$，$D \\in M$ 当且仅当 $v_M(D)=1$。我们将通过对公式 $D$ 的结构归纳法来证明这个引理。\n\n首先，我们建立极大一致集的一个对证明至关重要的关键性质。如果对于任意公式 $D$，若 $S \\vdash D$，则 $D \\in S$，那么公式集 $S$ 就是演绎闭合的。\n\n**极大一致集的性质：**任何极大一致集 $M$ 都是演绎闭合的。\n**证明：** 令 $M$ 为一个极大一致集。假设对于某个公式 $D$，有 $M \\vdash D$。我们要证明 $D \\in M$。假设，为了引出矛盾，$D \\notin M$。根据极大一致集的定义，必然有 $\\neg D \\in M$。因为 $\\neg D \\in M$，所以我们有 $M \\vdash \\neg D$。现在我们同时拥有 $M \\vdash D$ 和 $M \\vdash \\neg D$。根据一致性的定义，这意味着 $M$ 是一个不一致集。这与给定的事实——$M$ 是一个极大*一致*集——相矛盾。因此，我们最初的假设 $D \\notin M$ 必定是错误的。故而，$D \\in M$。这证明了 $M$ 是演绎闭合的。一个直接的推论是 $M$ 在肯定前件规则下是闭合的：如果 $X \\in M$ 且 $X \\to Y \\in M$，那么 $Y \\in M$。这是因为 $\\{X, X \\to Y\\} \\vdash Y$，并且由于 $X, X \\to Y \\in M$，我们有 $M \\vdash Y$，这意味着 $Y \\in M$。此外，所有公理模式的实例都必须在 $M$ 中，因为对于任何公理 $A_i$，都有 $\\vdash A_i$，这意味着 $M \\vdash A_i$，因此 $A_i \\in M$。\n\n现在，我们证明**真值引理**：对于任意公式 $D$，$v_M(D)=1$ 当且仅当 $D \\in M$。\n证明过程采用对公式 $D$ 的结构归纳法。\n\n**基础情形：** $D$ 是一个命题变量，比如 $p_i$。\n典范赋值 $v_M$ 在命题变量上的定义是：如果 $p_i \\in M$，则 $v_M(p_i)=1$；如果 $\\neg p_i \\in M$，则 $v_M(p_i)=0$。由于 $M$ 是极大一致的，对于任何变量 $p_i$，$p_i \\in M$ 或 $\\neg p_i \\in M$ 中恰好有一个成立。因此，$v_M(p_i)=1$ 当且仅当 $p_i \\in M$。基础情形成立。\n\n**归纳步骤：** 假设引理对公式 $X$ 和 $Y$ 成立。我们来证明它对 $\\neg X$ 和 $X \\to Y$ 也成立。\n\n**1. 形如 $\\neg X$ 的公式：**\n我们需要证明 $v_M(\\neg X) = 1 \\iff \\neg X \\in M$。\n根据否定的真值函项定义，$v_M(\\neg X) = 1$ 当且仅当 $v_M(X) = 0$。\n根据对 $X$ 的归纳假设，$v_M(X) = 0$ 当且仅当 $X \\notin M$。\n根据极大一致集的定义，$X \\notin M$ 当且仅当 $\\neg X \\in M$。\n结合这些等价关系，我们得到 $v_M(\\neg X) = 1 \\iff \\neg X \\in M$。引理对 $\\neg X$ 成立。\n\n**2. 形如 $X \\to Y$ 的公式：**\n我们需要证明 $v_M(X \\to Y) = 1 \\iff X \\to Y \\in M$。\n\n($\\Rightarrow$) 假设 $v_M(X \\to Y) = 1$。根据实质蕴涵的真值函项定义，这意味着 $v_M(X)=0$ 或 $v_M(Y)=1$。\n- 情形 a: $v_M(X)=0$。根据归纳假设，$X \\notin M$。由极大性可知，$\\neg X \\in M$。这意味着 $M \\vdash \\neg X$。我们可以证明，在给定的演绎系统中，$\\neg X \\vdash X \\to Y$。推导如下：\n    1. $\\neg X$ (假设，因为 $\\neg X \\in M$)\n    2. $\\neg X \\to (\\neg Y \\to \\neg X)$ (公理1)\n    3. $\\neg Y \\to \\neg X$ (对1, 2使用肯定前件)\n    4. $(\\neg Y \\to \\neg X) \\to (X \\to Y)$ (公理3)\n    5. $X \\to Y$ (对3, 4使用肯定前件)\n由于 $M \\vdash \\neg X$ 且 $\\neg X \\vdash X \\to Y$，我们有 $M \\vdash X \\to Y$。因为 $M$ 是演绎闭合的，所以 $X \\to Y \\in M$。\n- 情形 b: $v_M(Y)=1$。根据归纳假设，$Y \\in M$。这意味着 $M \\vdash Y$。由公理1，我们有一个实例 $\\vdash Y \\to (X \\to Y)$。由于这是一个定理，所以 $M \\vdash Y \\to (X \\to Y)$。又因为 $M \\vdash Y$，通过肯定前件，我们得到 $M \\vdash X \\to Y$。由于 $M$ 是演绎闭合的，所以 $X \\to Y \\in M$。\n在两种情形下，我们都得出结论 $X \\to Y \\in M$。\n\n($\\Leftarrow$) 假设 $X \\to Y \\in M$。我们要证明 $v_M(X \\to Y)=1$。我们用反证法进行论证。假设 $v_M(X \\to Y)=0$。根据 $\\to$ 的语义，这将意味着 $v_M(X)=1$ 且 $v_M(Y)=0$。\n根据归纳假设：\n- $v_M(X)=1 \\implies X \\in M$。\n- $v_M(Y)=0 \\implies Y \\notin M$。\n所以我们有 $X \\in M$ 且 $X \\to Y \\in M$。由于 $M$ 是演绎闭合的（因此在肯定前件规则下是闭合的），必然有 $Y \\in M$。这与我们发现的 $Y \\notin M$ 相矛盾。因此，最初的假设 $v_M(X \\to Y)=0$ 必定是错误的。我们得出结论 $v_M(X \\to Y)=1$。\n\n归纳步骤到此完成。真值引理得以确立。\n\n现在我们将此结果应用于具体问题。\n\n**1. $v_M(A)$ 真值的推导：**\n给定条件是 $M$ 是一个包含 $\\Gamma \\cup \\{\\neg A\\}$ 的极大一致集。根据定义，这意味着 $\\neg A \\in M$。\n根据我们刚刚证明的真值引理，对于任意公式 $D$，$D \\in M \\iff v_M(D)=1$。\n将此应用于公式 $\\neg A$，我们有：\n$\\neg A \\in M \\iff v_M(\\neg A)=1$。\n根据标准的否定真值函项语义，$v_M(\\neg A) = 1 - v_M(A)$。\n因此，我们得到方程 $1 - v_M(A) = 1$。\n解此方程可得 $v_M(A) = 0$。\n\n**2. 证明 $v_M$ 是一个反模型：**\n如果一个赋值能够证明相应的语义蕴涵 $\\Gamma \\models A$ 不成立，那么它就是相继式 $\\Gamma \\vdash A$ 的一个反模型。这需要一个赋值 $v$，使得对于所有公式 $B \\in \\Gamma$ 都有 $v(B)=1$，同时 $v(A)=0$。我们将证明 $v_M$ 正是这样一个赋值。\n- 我们已经确定了 $v_M(A)=0$。\n- 现在，考虑任意公式 $B \\in \\Gamma$。问题陈述指出 $\\Gamma \\subseteq M$。因此，对于任意 $B \\in \\Gamma$，也有 $B \\in M$。\n- 根据真值引理，$B \\in M \\iff v_M(B)=1$。\n- 因此，对于 $\\Gamma$ 中的每一个公式 $B$，我们都有 $v_M(B)=1$。\n\n赋值 $v_M$ 使得前提集 $\\Gamma$ 中的每个公式都为真，但使结论公式 $A$ 为假。这就是语义蕴涵 $\\Gamma \\models A$ 的反模型的定义。这样一个反模型的存在证明了 $\\Gamma \\nvDash A$。这个构造是命题逻辑完备性定理证明的核心，该定理指出如果 $\\Gamma \\nvdash A$，那么 $\\Gamma \\nvDash A$。\n\n问题具体要求的是 $v_M(A)$ 的值，我们已经推导出该值为 $0$。", "answer": "$$\n\\boxed{0}\n$$", "id": "2983024"}]}