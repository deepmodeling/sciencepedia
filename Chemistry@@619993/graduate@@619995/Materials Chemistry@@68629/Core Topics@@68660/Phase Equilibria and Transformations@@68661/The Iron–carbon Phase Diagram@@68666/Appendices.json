{"hands_on_practices": [{"introduction": "Understanding a phase diagram goes beyond identifying the phases present at a given temperature and composition; it involves quantitatively determining their relative amounts. This exercise [@problem_id:2529826] grounds the ubiquitous lever rule in its fundamental origin: the principle of mass conservation. By deriving the phase fractions for an iron-carbon alloy from a first-principles mass balance, you will gain a robust understanding of how to predict the microstructure of a two-phase alloy, a critical skill for designing and controlling material properties.", "problem": "A steel of overall composition $0.10\\,\\mathrm{wt}\\,\\%$ carbon is held isothermally at $700\\,^{\\circ}\\mathrm{C}$ under metastable iron–cementite equilibrium (graphite formation is suppressed). At this temperature, the equilibrium solubility of carbon in ferrite (denoted $\\alpha$) is $0.02\\,\\mathrm{wt}\\,\\%$, and the carbon content of cementite (denoted $\\theta$, where $\\theta \\equiv \\mathrm{Fe}_{3}\\mathrm{C}$) is $6.67\\,\\mathrm{wt}\\,\\%$. Assume that only the two phases $\\alpha$ and $\\theta$ are present and that the system is closed so that total carbon is conserved.\n\nUsing mass balance starting from first principles for a binary, two-phase equilibrium, determine the equilibrium mass fractions $f_{\\alpha}$ and $f_{\\theta}$ of ferrite and cementite, respectively, at $700\\,^{\\circ}\\mathrm{C}$ for this steel.\n\nExpress your final answer as a row vector $\\bigl[f_{\\alpha},\\,f_{\\theta}\\bigr]$ with no units, and round each entry to four significant figures.", "solution": "The problem statement must first be validated for scientific soundness and completeness.\n\nStep 1: Extract Givens.\nThe following data are provided:\n-   Overall carbon composition of the steel, $C_{0} = 0.10\\,\\mathrm{wt}\\,\\%$.\n-   Isothermal holding temperature, $T = 700\\,^{\\circ}\\mathrm{C}$.\n-   The system is in metastable iron-cementite equilibrium.\n-   Equilibrium carbon content in ferrite ($\\alpha$), $C_{\\alpha} = 0.02\\,\\mathrm{wt}\\,\\%$.\n-   Equilibrium carbon content in cementite ($\\theta$, $\\mathrm{Fe}_{3}\\mathrm{C}$), $C_{\\theta} = 6.67\\,\\mathrm{wt}\\,\\%$.\n-   The only phases present are ferrite ($\\alpha$) and cementite ($\\theta$).\n-   The system is closed.\n-   The goal is to determine the equilibrium mass fractions of ferrite, $f_{\\alpha}$, and cementite, $f_{\\theta}$.\n\nStep 2: Validate Using Extracted Givens.\nThe problem is scientifically grounded. It presents a standard scenario in physical metallurgy, specifically the application of mass balance principles (the lever rule) to a binary phase diagram. The temperature $T = 700\\,^{\\circ}\\mathrm{C}$ is below the eutectoid temperature ($727\\,^{\\circ}\\mathrm{C}$), and the overall composition $C_{0} = 0.10\\,\\mathrm{wt}\\,\\%$ is between the solubility limit of carbon in ferrite ($C_{\\alpha}$) and the composition of cementite ($C_{\\theta}$). This correctly places the alloy in the two-phase $\\alpha + \\theta$ region of the Fe-Fe3C phase diagram. The given compositions for the phases are standard values. The problem is well-posed, objective, and contains sufficient information for a unique solution.\n\nStep 3: Verdict and Action.\nThe problem is valid. A solution will be provided, derived from first principles as requested.\n\nThe derivation begins by considering a total mass $m_{total}$ of the alloy. This mass is distributed between the two phases present, ferrite ($\\alpha$) and cementite ($\\theta$). Let their respective masses be $m_{\\alpha}$ and $m_{\\theta}$. The mass fractions of the phases are defined as:\n$$\nf_{\\alpha} = \\frac{m_{\\alpha}}{m_{total}} \\quad \\text{and} \\quad f_{\\theta} = \\frac{m_{\\theta}}{m_{total}}\n$$\nAs these are the only two phases present in a closed system, the law of conservation of mass dictates that the sum of their masses equals the total mass:\n$$\nm_{\\alpha} + m_{\\theta} = m_{total}\n$$\nDividing by $m_{total}$ yields the first fundamental relationship between the mass fractions:\n$$\nf_{\\alpha} + f_{\\theta} = 1\n$$\nThis is the total mass balance equation.\n\nNext, we establish a mass balance for the carbon component. The total mass of carbon in the alloy is the product of the overall carbon concentration $C_{0}$ and the total mass $m_{total}$. This total carbon mass is distributed between the ferrite and cementite phases. The mass of carbon in the ferrite phase is $C_{\\alpha} m_{\\alpha}$, and the mass of carbon in the cementite phase is $C_{\\theta} m_{\\theta}$. Conservation of the carbon component requires:\n$$\n\\text{Total Mass of C} = (\\text{Mass of C in } \\alpha) + (\\text{Mass of C in } \\theta)\n$$\nSubstituting the expressions for each term (and treating the wt$\\%$ values as fractions for formal correctness, although the factor of $1/100$ will cancel):\n$$\nC_{0} \\cdot m_{total} = C_{\\alpha} \\cdot m_{\\alpha} + C_{\\theta} \\cdot m_{\\theta}\n$$\nDividing this entire equation by the total mass, $m_{total}$:\n$$\nC_{0} = C_{\\alpha} \\frac{m_{\\alpha}}{m_{total}} + C_{\\theta} \\frac{m_{\\theta}}{m_{total}}\n$$\nSubstituting the definitions of mass fractions, we obtain the second fundamental relationship:\n$$\nC_{0} = C_{\\alpha} f_{\\alpha} + C_{\\theta} f_{\\theta}\n$$\nThis is the component mass balance equation.\n\nWe now have a system of two linear equations with two unknowns, $f_{\\alpha}$ and $f_{\\theta}$:\n1.  $f_{\\alpha} + f_{\\theta} = 1$\n2.  $C_{\\alpha} f_{\\alpha} + C_{\\theta} f_{\\theta} = C_{0}$\n\nFrom equation (1), we express $f_{\\theta}$ in terms of $f_{\\alpha}$: $f_{\\theta} = 1 - f_{\\alpha}$. Substituting this into equation (2):\n$$\nC_{0} = C_{\\alpha} f_{\\alpha} + C_{\\theta} (1 - f_{\\alpha})\n$$\n$$\nC_{0} = C_{\\alpha} f_{\\alpha} + C_{\\theta} - C_{\\theta} f_{\\alpha}\n$$\n$$\nC_{0} - C_{\\theta} = f_{\\alpha} (C_{\\alpha} - C_{\\theta})\n$$\nSolving for $f_{\\alpha}$ yields the lever rule expression:\n$$\nf_{\\alpha} = \\frac{C_{0} - C_{\\theta}}{C_{\\alpha} - C_{\\theta}} = \\frac{C_{\\theta} - C_{0}}{C_{\\theta} - C_{\\alpha}}\n$$\nTo find $f_{\\theta}$, we use the relation $f_{\\theta} = 1 - f_{\\alpha}$.\n$$\nf_{\\theta} = 1 - \\frac{C_{\\theta} - C_{0}}{C_{\\theta} - C_{\\alpha}} = \\frac{(C_{\\theta} - C_{\\alpha}) - (C_{\\theta} - C_{0})}{C_{\\theta} - C_{\\alpha}} = \\frac{C_{0} - C_{\\alpha}}{C_{\\theta} - C_{\\alpha}}\n$$\nThis confirms the standard lever rule formulation.\n\nNow, we substitute the given numerical values into these expressions:\n$C_{0} = 0.10$\n$C_{\\alpha} = 0.02$\n$C_{\\theta} = 6.67$\n\nThe mass fraction of ferrite, $f_{\\alpha}$, is:\n$$\nf_{\\alpha} = \\frac{6.67 - 0.10}{6.67 - 0.02} = \\frac{6.57}{6.65} \\approx 0.9879699...\n$$\nThe mass fraction of cementite, $f_{\\theta}$, is:\n$$\nf_{\\theta} = \\frac{0.10 - 0.02}{6.67 - 0.02} = \\frac{0.08}{6.65} \\approx 0.0120300...\n$$\nAs a check, $f_{\\alpha} + f_{\\theta} \\approx 0.9879699 + 0.0120300 = 0.9999999 \\approx 1$, which is correct.\n\nThe problem requires rounding each entry to four significant figures.\nFor $f_{\\alpha} = 0.9879699...$, the first four significant digits are $9$, $8$, $7$, and $9$. The fifth digit is $6$ ($\\ge 5$), so we round up the last significant digit. Thus, $f_{\\alpha}$ rounds to $0.9880$.\nFor $f_{\\theta} = 0.0120300...$, the leading zero after the decimal point is not significant. The first four significant digits are $1$, $2$, $0$, and $3$. The fifth digit is $0$ ($< 5$), so we do not round up. Thus, $f_{\\theta}$ rounds to $0.01203$.\n\nThe final answer is the row vector of these rounded mass fractions.", "answer": "$$\n\\boxed{\\begin{pmatrix} 0.9880 & 0.01203 \\end{pmatrix}}\n$$", "id": "2529826"}, {"introduction": "Phase diagrams are typically presented at constant pressure, but phase stability is fundamentally a function of all thermodynamic variables. This practice [@problem_id:2529800] explores the influence of pressure on the iron-carbon eutectoid equilibrium by applying the Clapeyron equation, which you will derive from the Gibbs free energy differential $dG = V\\,dP - S\\,dT$. This exercise not only deepens your understanding of the thermodynamic underpinnings of phase transformations but also connects theoretical predictions to the practical question of experimental observability.", "problem": "In the iron–carbon system at the eutectoid composition, the invariant reaction $\\gamma \\rightarrow \\alpha + \\mathrm{Fe}_3\\mathrm{C}$ occurs at the eutectoid temperature under ambient pressure. Consider a small neighborhood of this three-phase equilibrium near ambient pressure where thermodynamic response functions can be treated as pressure-independent. Let the molar changes (per mole of parent austenite of eutectoid composition) at the eutectoid temperature be $\\Delta V = -3.30 \\times 10^{-8}\\,\\text{m}^3\\,\\text{mol}^{-1}$ and $\\Delta S = -3.00\\,\\text{J}\\,\\text{mol}^{-1}\\,\\text{K}^{-1}$ for the reaction $\\gamma \\rightarrow \\alpha + \\mathrm{Fe}_3\\mathrm{C}$, where $\\Delta V$ and $\\Delta S$ are defined as products minus reactant. Assume these values are effectively constant over the pressure interval of interest.\n\nStarting only from the Gibbs free energy differential $dG = V\\,dP - S\\,dT$ and the condition for heterogeneous equilibrium, derive the relation that determines the slope $dT/dP$ of the eutectoid invariant line in the pressure–temperature plane. Then compute the numerical value of the shift in the eutectoid temperature per kilobar, expressed in $\\text{K}\\,\\text{kbar}^{-1}$. Use $1\\,\\text{bar} = 10^5\\,\\text{Pa}$ and $1\\,\\text{kbar} = 10^8\\,\\text{Pa}$. Round your final numerical result to three significant figures.\n\nFinally, given typical experimental capabilities of $\\pm 1.0\\,\\text{K}$ uncertainty in locating the eutectoid temperature and controllable pressure increments as small as $0.50\\,\\text{kbar}$, explain whether the predicted shift would be experimentally detectable in a single increment. Your explanation will not be graded numerically, but it must follow logically from your derivation and computation.", "solution": "The problem is first subjected to validation.\n\nStep 1: Extract Givens.\n- System: Iron-carbon at the eutectoid composition.\n- Invariant Reaction: $\\gamma \\rightarrow \\alpha + \\mathrm{Fe}_3\\mathrm{C}$ at the eutectoid temperature and ambient pressure.\n- Fundamental Differential: $dG = V\\,dP - S\\,dT$.\n- Condition for Equilibrium: Heterogeneous equilibrium.\n- Molar Change in Volume: $\\Delta V = -3.30 \\times 10^{-8}\\,\\text{m}^3\\,\\text{mol}^{-1}$ (for the reaction, defined as products minus reactant).\n- Molar Change in Entropy: $\\Delta S = -3.00\\,\\text{J}\\,\\text{mol}^{-1}\\,\\text{K}^{-1}$ (for the reaction, defined as products minus reactant).\n- Assumptions: $\\Delta V$ and $\\Delta S$ are constant over the pressure interval of interest; thermodynamic response functions are treated as pressure-independent in a small neighborhood of ambient pressure.\n- Conversions: $1\\,\\text{bar} = 10^5\\,\\text{Pa}$; $1\\,\\text{kbar} = 10^8\\,\\text{Pa}$.\n- Required Output 1 (Derivation): The relation for the slope $dT/dP$ of the eutectoid invariant line.\n- Required Output 2 (Calculation): The numerical value of the shift in eutectoid temperature per kilobar, in units of $\\text{K}\\,\\text{kbar}^{-1}$, rounded to three significant figures.\n- Required Output 3 (Explanation): An assessment of the experimental detectability of the temperature shift for a pressure increment of $0.50\\,\\text{kbar}$, given a temperature measurement uncertainty of $\\pm 1.0\\,\\text{K}$.\n\nStep 2: Validate Using Extracted Givens.\nThe problem is scientifically grounded, rooted in classical thermodynamics of materials and phase transformations. The eutectoid reaction in the Fe-C system is a canonical example in materials science. The derivation requested is that of the Clapeyron equation, a fundamental thermodynamic relation. The problem is well-posed, providing all necessary data ($\\Delta V, \\Delta S$) and constants for a unique solution. The language is objective and precise. The data provided are physically realistic for a solid-state transformation. The problem is self-contained and consistent.\n\nStep 3: Verdict and Action.\nThe problem is valid. A solution will be provided.\n\nThe problem requires the derivation of the pressure dependence of the eutectoid temperature, which is an invariant reaction. At any point along the P-T line representing this three-phase equilibrium, the molar Gibbs free energy of the parent austenite phase ($\\gamma$) must be equal to the total Gibbs free energy of the product mixture ($\\alpha + \\mathrm{Fe}_3\\mathrm{C}$). Let $G_{\\gamma}$ be the molar Gibbs free energy of the $\\gamma$ phase and $G_{prod}$ be the Gibbs free energy of the products formed from one mole of $\\gamma$. The condition for equilibrium is:\n$$G_{\\gamma}(P, T) = G_{prod}(P, T)$$\nFor this equilibrium to be maintained along the phase boundary, any infinitesimal change $dP$ and $dT$ must preserve this equality. Therefore, the total differentials of the Gibbs free energies must be equal:\n$$dG_{\\gamma} = dG_{prod}$$\nThe fundamental thermodynamic relation for the differential of Gibbs free energy is given as $dG = V\\,dP - S\\,dT$. Applying this to both the reactant and the product aggregate yields:\n$$V_{\\gamma}\\,dP - S_{\\gamma}\\,dT = V_{prod}\\,dP - S_{prod}\\,dT$$\nHere, $V$ and $S$ represent the molar volume and molar entropy of the respective constituents (reactant or product aggregate). Rearranging this equation to group terms with $dP$ and $dT$:\n$$(S_{prod} - S_{\\gamma})\\,dT = (V_{prod} - V_{\\gamma})\\,dP$$\nThe problem defines the change in molar entropy and volume for the reaction as $\\Delta S = S_{prod} - S_{\\gamma}$ and $\\Delta V = V_{prod} - V_{\\gamma}$. Substituting these definitions gives:\n$$\\Delta S \\,dT = \\Delta V \\,dP$$\nThis can be rearranged to find the slope of the eutectoid line in the P-T plane, which is the relation sought:\n$$\\frac{dT}{dP} = \\frac{\\Delta V}{\\Delta S}$$\nThis is the generalized Clapeyron equation applicable to this invariant reaction.\n\nNext, we compute the numerical value of this slope. The provided data are:\n$\\Delta V = -3.30 \\times 10^{-8}\\,\\text{m}^3\\,\\text{mol}^{-1}$\n$\\Delta S = -3.00\\,\\text{J}\\,\\text{mol}^{-1}\\,\\text{K}^{-1}$\n\nSubstituting these values into the derived relation:\n$$\\frac{dT}{dP} = \\frac{-3.30 \\times 10^{-8}\\,\\text{m}^3\\,\\text{mol}^{-1}}{-3.00\\,\\text{J}\\,\\text{mol}^{-1}\\,\\text{K}^{-1}} = 1.10 \\times 10^{-8}\\,\\frac{\\text{m}^3\\cdot\\text{K}}{\\text{J}}$$\nTo express this in the required units of $\\text{K}\\,\\text{kbar}^{-1}$, a unit conversion is necessary. The unit of pressure, the Pascal ($\\text{Pa}$), is related to the Joule ($\\text{J}$) and cubic meter ($\\text{m}^3$) by $1\\,\\text{J} = 1\\,\\text{Pa}\\cdot\\text{m}^3$. Therefore, the units of the calculated slope are:\n$$\\frac{\\text{m}^3\\cdot\\text{K}}{\\text{J}} = \\frac{\\text{m}^3\\cdot\\text{K}}{\\text{Pa}\\cdot\\text{m}^3} = \\frac{\\text{K}}{\\text{Pa}}$$\nSo, the slope is $\\frac{dT}{dP} = 1.10 \\times 10^{-8}\\,\\text{K}\\,\\text{Pa}^{-1}$.\nWe are given that $1\\,\\text{kbar} = 10^8\\,\\text{Pa}$. We can use this to convert the units:\n$$\\frac{dT}{dP} = \\left( 1.10 \\times 10^{-8}\\,\\frac{\\text{K}}{\\text{Pa}} \\right) \\times \\left( \\frac{10^8\\,\\text{Pa}}{1\\,\\text{kbar}} \\right)$$\n$$\\frac{dT}{dP} = 1.10 \\times (10^{-8} \\times 10^8)\\,\\frac{\\text{K}}{\\text{kbar}} = 1.10\\,\\text{K}\\,\\text{kbar}^{-1}$$\nThe numerical value of the shift in the eutectoid temperature, to three significant figures, is $1.10\\,\\text{K}\\,\\text{kbar}^{-1}$.\n\nFinally, the question of experimental detectability must be addressed. The smallest controllable pressure increment is given as $\\Delta P_{min} = 0.50\\,\\text{kbar}$. The expected temperature shift, $\\Delta T_{predicted}$, for this pressure increment is calculated using the derived slope:\n$$\\Delta T_{predicted} = \\left( \\frac{dT}{dP} \\right) \\times \\Delta P_{min} = (1.10\\,\\text{K}\\,\\text{kbar}^{-1}) \\times (0.50\\,\\text{kbar}) = 0.55\\,\\text{K}$$\nThe experimental uncertainty in temperature measurement is $\\delta T = \\pm 1.0\\,\\text{K}$. An effect is considered experimentally detectable only if its magnitude is significantly larger than the measurement uncertainty. In this case, the predicted temperature shift of $0.55\\,\\text{K}$ is smaller than the uncertainty of $\\pm 1.0\\,\\text{K}$. A single measurement could yield a result that is indistinguishable from the original temperature value due to random error. Therefore, with the given experimental capabilities, the predicted shift of $0.55\\,\\text{K}$ would not be reliably detected in a single pressure increment of $0.50\\,\\text{kbar}$. To observe this effect, a much larger pressure change would be required to produce a temperature shift that exceeds the measurement uncertainty, or alternatively, the precision of the temperature measurement apparatus would need to be improved.", "answer": "$$\\boxed{1.10}$$", "id": "2529800"}, {"introduction": "Published phase diagrams are the graphical output of complex thermodynamic models. This advanced practice [@problem_id:2529770] challenges you to step into the role of a computational materials scientist by developing an algorithm to determine phase equilibria directly from Gibbs free energy functions. By implementing the common tangent construction and the principle of minimum Gibbs energy, you will replicate the foundational logic of the CALPHAD (CALculation of PHAse Diagrams) methodology, a powerful tool for modern alloy design and materials discovery.", "problem": "You are given differentiable models of the molar Gibbs energy per mole of atoms, $G^\\phi(x,T)$, for phases in the iron–carbon system at fixed pressure, where $x \\in (0,1)$ is the atomic fraction of carbon and $T$ is the absolute temperature in Kelvin (K). The phases considered are ferrite ($\\alpha$), austenite ($\\gamma$), and cementite ($\\theta$). Assume that cementite ($\\theta$) is a stoichiometric phase at fixed composition $x^\\theta = 0.25$ (that is, $\\text{Fe}_3\\text{C}$), and that ferrite ($\\alpha$) and austenite ($\\gamma$) are substitutional solutions described by the following Redlich–Kister-like regular-solution free energy with an ideal configurational entropy term:\n$$\nG^\\phi(x,T) = G_0^\\phi(T) + h_\\phi\\, x + R T \\left[x \\ln x + (1-x)\\ln(1-x)\\right] + \\Omega_\\phi\\, x(1-x),\n$$\nfor $\\phi \\in \\{\\alpha,\\gamma\\}$ and $x \\in (0,1)$. The stoichiometric cementite has\n$$\nG^\\theta(T) = A_\\theta + B_\\theta T,\n$$\ndefined only at $x^\\theta = 0.25$. Take the universal gas constant $R = 8.314\\ \\text{J}\\,\\text{mol}^{-1}\\,\\text{K}^{-1}$.\n\nUse the following parameter values (all energies in $\\text{J}\\,\\text{mol}^{-1}$):\n- For ferrite ($\\alpha$): $G_0^\\alpha(T) = 0$, $h_\\alpha = 40000$, $\\Omega_\\alpha = 20000$, valid composition domain $x \\in [10^{-6}, 0.02]$.\n- For austenite ($\\gamma$): $G_0^\\gamma(T) = 3000 - 5.0\\,T$, $h_\\gamma = 15000$, $\\Omega_\\gamma = 8000$, valid composition domain $x \\in [10^{-6}, 0.15]$.\n- For cementite ($\\theta$): $G^\\theta(T) = -12000 - 4.0\\,T$ at $x^\\theta = 0.25$.\n\nAt fixed $T$ and overall composition $x_0 \\in (0,1)$, the equilibrium state minimizes the total molar Gibbs energy subject to mass conservation. For a single-phase candidate $\\phi$, the energy is $G^\\phi(x_0,T)$ if $x_0$ lies in the valid domain of $\\phi$. For a two-phase candidate $(\\phi,\\psi)$ with endpoint compositions $x^\\phi$ and $x^\\psi$, the energy is the lever interpolation\n$$\nG^{\\phi\\!+\\!\\psi}(x_0,T) = f_\\phi G^\\phi(x^\\phi,T) + f_\\psi G^\\psi(x^\\psi,T),\n$$\nwith $f_\\phi + f_\\psi = 1$ and $f_\\phi = \\dfrac{x^\\psi - x_0}{x^\\psi - x^\\phi}$, $f_\\psi = \\dfrac{x_0 - x^\\phi}{x^\\psi - x^\\phi}$, provided $x_0 \\in [x^\\phi,x^\\psi]$. The two-phase endpoints must satisfy the tie-line (common tangent) conditions derived from equality of chemical potentials and phase equilibrium. For two solution phases $\\phi$ and $\\psi$, identify tie-line endpoints $x^\\phi$ and $x^\\psi$ by the common tangent construction across $G^\\phi(x,T)$ and $G^\\psi(x,T)$. For a solution phase $\\phi$ and the stoichiometric cementite $\\theta$ at $x^\\theta$, identify the single tangent point $x^\\phi$ on $G^\\phi(x,T)$ whose tangent line passes through $\\left(x^\\theta,G^\\theta(T)\\right)$. If a valid two-phase tie-line cannot be found for a pair, discard that pair.\n\nYour task is to develop an algorithmic procedure that, for each test case $(T, x_0)$, (i) enumerates all admissible single- and two-phase candidates among $\\{\\alpha,\\gamma,\\theta\\}$, (ii) identifies two-phase tie-lines via the common tangent conditions, (iii) applies the lever rule to compute phase fractions when $x_0$ lies between the tie-line endpoints, and (iv) selects the candidate with the lowest total molar Gibbs energy. Report the equilibrium phase fractions as an ordered triple $\\left[f_\\alpha, f_\\gamma, f_\\theta\\right]$ where each $f_\\phi \\in [0,1]$ and $\\sum f_\\phi = 1$, with the convention that a phase not present has fraction $0$.\n\nAll computations must use $T$ in Kelvin (K), $x$, $x_0$ as atomic fraction (dimensionless), and energies in $\\text{J}\\,\\text{mol}^{-1}$. The final numeric results must be rounded to six decimal places.\n\nTest suite to evaluate your program:\n- Case $1$: $T = 1000$, $x_0 = 0.015$.\n- Case $2$: $T = 800$, $x_0 = 0.040$.\n- Case $3$: $T = 1200$, $x_0 = 0.050$.\n- Case $4$: $T = 900$, $x_0 = 10^{-6}$.\n\nFinal output format:\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, where each element is itself a three-element list in the order $\\left[f_\\alpha, f_\\gamma, f_\\theta\\right]$. For example, a valid output for four cases has the form\n$$\n\\left[\\left[f_{\\alpha,1}, f_{\\gamma,1}, f_{\\theta,1}\\right],\\left[f_{\\alpha,2}, f_{\\gamma,2}, f_{\\theta,2}\\right],\\left[f_{\\alpha,3}, f_{\\gamma,3}, f_{\\theta,3}\\right],\\left[f_{\\alpha,4}, f_{\\gamma,4}, f_{\\theta,4}\\right]\\right],\n$$\nprinted as a single line with each float rounded to six decimal places and no additional text.", "solution": "The problem requires the determination of equilibrium phase fractions in the iron-carbon system based on provided thermodynamic models for the Gibbs free energy of three phases: ferrite ($\\alpha$), austenite ($\\gamma$), and cementite ($\\theta$). The equilibrium state at a given temperature $T$ and overall carbon composition $x_0$ corresponds to the phase or phase mixture that minimizes the total molar Gibbs energy. This is a classic problem in computational thermodynamics, solved by constructing the lower convex hull of the Gibbs energy curves of all possible phases.\n\nThe solution proceeds algorithmically for each given test case $(T, x_0)$:\n\n**1. Define Thermodynamic Models**\n\nFirst, we implement the given mathematical models for the molar Gibbs energies $G^\\phi(x, T)$ for each phase $\\phi \\in \\{\\alpha, \\gamma, \\theta\\}$.\nFor the solution phases ferrite ($\\alpha$) and austenite ($\\gamma$), the model is a regular solution type:\n$$\nG^\\phi(x,T) = G_0^\\phi(T) + h_\\phi x + R T \\left[x \\ln x + (1-x)\\ln(1-x)\\right] + \\Omega_\\phi x(1-x)\n$$\nThe chemical potential of a component is related to the derivative of the Gibbs energy. The common tangent construction used to find two-phase equilibrium compositions relies on these derivatives. The first derivative of $G^\\phi$ with respect to the mole fraction $x$ is:\n$$\n\\frac{\\partial G^\\phi}{\\partial x} = h_\\phi + R T \\ln\\left(\\frac{x}{1-x}\\right) + \\Omega_\\phi (1-2x)\n$$\nFor the stoichiometric phase cementite ($\\theta$), the Gibbs energy is given as a linear function of temperature at a fixed composition $x^\\theta = 0.25$:\n$$\nG^\\theta(T) = A_\\theta + B_\\theta T\n$$\nAll parameters ($h_\\phi, \\Omega_\\phi, A_\\theta, B_\\theta$) and phase composition domains are as given in the problem statement. The universal gas constant is $R = 8.314\\ \\text{J}\\,\\text{mol}^{-1}\\,\\text{K}^{-1}$.\n\n**2. Identify Potential Equilibrium Phase Mixtures (Candidates)**\n\nThe possible equilibrium states for the system are:\n- Single-phase $\\alpha$\n- Single-phase $\\gamma$\n- Two-phase mixture $\\alpha + \\gamma$\n- Two-phase mixture $\\alpha + \\theta$\n- Two-phase mixture $\\gamma + \\theta$\nA single-phase $\\theta$ state is only possible if $x_0 = 0.25$, which is not among the test cases. Three-phase equilibria exist only at specific temperatures (e.g., the eutectoid temperature), which are found by the intersection of two-phase equilibrium lines, rather than being considered as a primary candidate over a range of conditions.\n\n**3. Determine Two-Phase Tie-Lines**\n\nFor each temperature $T$, we must first determine the equilibrium compositions (tie-line endpoints) for all possible two-phase mixtures. This is done by applying the common tangent construction.\n\n- **For two solution phases ($\\alpha$ and $\\gamma$):** The common tangent condition is equivalent to the equality of chemical potentials for both components (Fe and C) in the two phases. This yields a system of two non-linear equations for the two unknown compositions, $x^\\alpha$ and $x^\\gamma$:\n    $$\n    \\frac{\\partial G^\\alpha}{\\partial x}(x^\\alpha, T) = \\frac{\\partial G^\\gamma}{\\partial x}(x^\\gamma, T)\n    $$\n    $$\n    G^\\alpha(x^\\alpha, T) - x^\\alpha \\frac{\\partial G^\\alpha}{\\partial x}(x^\\alpha, T) = G^\\gamma(x^\\gamma, T) - x^\\gamma \\frac{\\partial G^\\gamma}{\\partial x}(x^\\gamma, T)\n    $$\n    This system is solved numerically using a root-finding algorithm, such as `scipy.optimize.root`. A solution is valid only if the resulting compositions $x^\\alpha$ and $x^\\gamma$ fall within their respective defined stability domains.\n\n- **For a solution phase ($\\phi$) and a stoichiometric phase ($\\theta$):** The equilibrium composition $x^\\phi$ is found by finding a point on the $G^\\phi(x,T)$ curve where the tangent line passes through the point $(x^\\theta, G^\\theta(T))$. This leads to a single non-linear equation for $x^\\phi$:\n    $$\n    \\frac{G^\\phi(x^\\phi, T) - G^\\theta(T)}{x^\\phi - x^\\theta} = \\frac{\\partial G^\\phi}{\\partial x}(x^\\phi, T)\n    $$\n    This equation is solved numerically for $x^\\phi$ using a scalar root-finder like `scipy.optimize.root_scalar`. Again, the solution must lie within the valid composition domain of phase $\\phi$.\n\n**4. Calculate Gibbs Energy and Phase Fractions for Each Candidate**\n\nFor a given $(T, x_0)$, we evaluate the Gibbs energy for all valid candidates.\n\n- **Single-phase candidate ($\\phi$):** This is a valid candidate if $x_0$ is within the composition domain of phase $\\phi$. The energy is $G_{total} = G^\\phi(x_0, T)$, and the phase fractions are trivial (e.g., $[1, 0, 0]$ for $\\alpha$).\n\n- **Two-phase candidate ($\\phi+\\psi$):** This is a valid candidate if $x_0$ lies between the equilibrium tie-line compositions, $x^\\phi$ and $x^\\psi$. The phase fractions, $f_\\phi$ and $f_\\psi$, are determined by the lever rule:\n    $$\n    f_\\phi = \\frac{x^\\psi - x_0}{x^\\psi - x^\\phi}, \\quad f_\\psi = \\frac{x_0 - x^\\phi}{x^\\psi - x^\\phi}\n    $$\n    The total molar Gibbs energy of the mixture is a linear combination of the endpoint energies:\n    $$\n    G_{total} = f_\\phi G^\\phi(x^\\phi, T) + f_\\psi G^\\psi(x^\\psi, T)\n    $$\n\n**5. Determine the Equilibrium State**\n\nAfter calculating the Gibbs energy for all valid candidates at $(T, x_0)$, the one with the minimum Gibbs energy is the true equilibrium state. The corresponding phase fractions are reported as the solution for that test case. This procedure is repeated for all test cases. Numerical results are rounded to six decimal places in the final output.", "answer": "[[0.000000,1.000000,0.000000],[0.000000,0.871795,0.128205],[0.000000,1.000000,0.000000],[1.000000,0.000000,0.000000]]", "id": "2529770"}]}