## 引言
我们如何度量距离是一个基本概念，它塑造了我们对世界的理解。我们凭直觉熟悉“乌鸦飞行”式的直线距离，这在数学上被称为[欧几里得范数](@article_id:640410)或$L_2$-范数。但是，如果我们的世界不是一片开阔的田野，而是一个移动受限于垂直街道的城市网格，会发生什么呢？这个简单而实际的约束催生了一种不同且强大的距离度量方式：[1-范数](@article_id:640150)，或称[曼哈顿距离](@article_id:340687)。本文深入探讨了这一迷人的概念，揭示了一个看似简单的视角转变如何开启一个具有深远影响的完全不同的几何世界。

本次探索分为两个主要部分。在第一章“原理与机制”中，我们将通过定义[1-范数](@article_id:640150)、检验其独特的几何性质，并将其与欧几里得范数进行对比来奠定基础。我们将发现为什么它的“[单位圆](@article_id:311954)”是一个菱形，以及这种形状如何成为其最著名的能力——促进[稀疏性](@article_id:297245)——的关键。随后，“应用与跨学科联系”一章将展示这一看似普通的度量如何在广阔的科学领域中成为不可或缺的工具，从[数据科学](@article_id:300658)和机器学习到固态物理和系统生物学，实现了从自动化科学发现到创建更简单、更鲁棒的预测模型等一切可能。

## 原理与机制

我们如何测量距离？这个问题看起来如此简单、如此基础，以至于我们几乎不曾想过去问它。如果你想知道田野里两棵树之间的距离，你会拿出卷尺，找出它们之间的直线路径。这就是 Euclid 所描述的世界，也是我们在学校里学的几何学。它直观、优雅，并遵循著名的毕达哥拉斯定理：$a^2 + b^2 = c^2$。这种我们熟悉的“乌鸦飞行”式距离，就是数学家所说的**欧几里得范数**，或 **$L_2$-范数**。

但如果你不是乌鸦呢？如果你是曼哈顿的一名出租车司机，这座城市建立在严格的网格之上呢？你不能开车穿过建筑物。要从一个点到另一个点，你必须沿着南北走向的大道和东西走向的街道行驶。你的路径是一系列直角转弯。那么你如何测量你的距离呢？你不在乎直线路径；你在乎的是你必须行驶的总街区数。

这个简单而实际的约束催生了一种完全不同的距离测量方式，一种不同的几何学。我们称之为**[曼哈顿距离](@article_id:340687)**、**出租车距离**，或更正式地称为**[1-范数](@article_id:640150)**（或 **$L_1$-范数**）。

### 网格上的生活：定义[1-范数](@article_id:640150)

让我们说得更精确一些。如果你有一个向量，比如 $\vec{v} = (x, y)$，它代表从原点出发的位移，其我们所熟悉的欧几里得长度，或 $L_2$-范数，是 $||\vec{v}||_2 = \sqrt{x^2 + y^2}$。

相比之下，[1-范数](@article_id:640150)只是简单地将各分量的[绝对值](@article_id:308102)相加。对于我们的向量 $\vec{v} = (x, y)$，其[1-范数](@article_id:640150)是 $||\vec{v}||_1 = |x| + |y|$。如果你从点 $A=(x_A, y_A)$ 移动到点 $B=(x_B, y_B)$，[曼哈顿距离](@article_id:340687)就是 $|x_B - x_A| + |y_B - y_A|$。这可以完美地扩展到任意维度。对于一个在 $n$ 维空间中的向量 $\vec{v} = (v_1, v_2, \dots, v_n)$，其[1-范数](@article_id:640150)是：
$$ ||\vec{v}||_1 = \sum_{i=1}^n |v_i| $$

这不仅仅是一个奇特的数学游戏。它是许多现实世界场景的实用模型。想象一个机器臂在一个由垂直轨道构成的仓库中移动零件。要计算从起点 $A$ 经过中间点 $B$ 到达终点 $C$ 的总行程，你只需将每段旅程的[曼哈顿距离](@article_id:340687)相加，就像出租车计价器会累计不同路段的费用一样 [@problem_id:2225312]。或者考虑一个仿生机器人，其腿部运动被限制在与坐标轴平行的方向上；它的能量消耗可能用[1-范数](@article_id:640150)比用欧几里得范数估计得更好 [@problem_id:2143695]。

### 两种几何的故事

这两种范数之间的差异不仅仅是计算上的问题；它导致了两个截然不同的几何世界。要看到这一点，最引人注目的方式是问一个简单的问题：“圆”是什么样子的？根据定义，圆是与一个中心点等距的所有点的集合。

在我们熟悉的欧几里得世界中，设 $||\vec{v}||_2 = 1$ 会得到方程 $\sqrt{x^2 + y^2} = 1$，即 $x^2 + y^2 = 1$。这是我们都熟知并喜爱的[单位圆](@article_id:311954)。

但是在出租车世界里会发生什么呢？与原点距离为1的所有点 $(x,y)$ 的集合是什么？我们设 $||\vec{v}||_1 = 1$，得到方程 $|x| + |y| = 1$。这个形状看起来像什么？让我们来描绘一下。
- 在第一象限 ($x \ge 0, y \ge 0$)，方程是 $x+y=1$，这是一条连接 $(1,0)$ 和 $(0,1)$ 的线段。
- 在第二[象限](@article_id:352519) ($x \lt 0, y \ge 0$)，方程是 $-x+y=1$，这是一条连接 $(0,1)$ 和 $(-1,0)$ 的线段。
- 其他两个[象限](@article_id:352519)依此类推。

当你把这四条线段放在一起时，你得到的不是一个平滑、圆润的圆。你得到的是一个菱形——一个倾斜了45度的正方形，其顶点正好落在坐标轴上的 $(1,0), (0,1), (-1,0),$ 和 $(0,-1)$ 处 [@problem_id:2299946]。这个[1-范数](@article_id:640150)的“[单位球](@article_id:302998)”是尖锐、有棱角的。

这种形状上的根本差异告诉我们一些深层次的东西。这两种测量距离的方式在什么时候是相同的呢？什么时候 $|x|+|y| = \sqrt{x^2+y^2}$？如果我们将两边平方，我们得到 $(|x|+|y|)^2 = x^2+y^2$，展开为 $x^2 + 2|x||y| + y^2 = x^2+y^2$。这可以简化为 $2|x||y|=0$，这只有在 $x=0$ 或 $y=0$ 时才成立。

这是一个非凡的结论！[曼哈顿距离](@article_id:340687)与[欧几里得距离](@article_id:304420)相等的唯一的非零向量，是那些*恰好*位于某个坐标轴上的向量[@problem_id:2308545]。对于任何其他向量，“乌鸦飞行”的路径总是比“出租车行驶”的路径短。[1-范数](@article_id:640150)总是大于或等于2-范数，并且它们仅在这些非常特定的方向上相等。

### 缺失的平行四边形

为什么欧几里得世界如此平滑，而出租车世界如此尖锐？答案在于一个优美的几何性质，称为**平行四边形定律**。在[欧几里得空间](@article_id:298501)中，如果你取任意两个向量 $\vec{u}$ 和 $\vec{v}$，并用它们构成一个平行四边形，那么两条对角线长度的[平方和](@article_id:321453)等于两条边长度[平方和](@article_id:321453)的两倍。用公式表示：
$$ ||\vec{u}+\vec{v}||_2^2 + ||\vec{u}-\vec{v}||_2^2 = 2(||\vec{u}||_2^2 + ||\vec{v}||_2^2) $$
这个定律与**内积**（或[点积](@article_id:309438)）的存在密切相关，内积使我们能够讨论角度和正交性。[欧几里得范数](@article_id:640410)源于内积：$||\vec{v}||_2 = \sqrt{\vec{v} \cdot \vec{v}}$。

[1-范数](@article_id:640150)是否遵循这个定律呢？让我们用最简单的向量来测试一下：[标准基向量](@article_id:312830) $\vec{u} = (1,0)$ 和 $\vec{v}=(0,1)$。
- $||\vec{u}||_1 = |1|+|0|=1$。
- $||\vec{v}||_1 = |0|+|1|=1$。
- $\vec{u}+\vec{v} = (1,1)$，所以 $||\vec{u}+\vec{v}||_1 = |1|+|1|=2$。
- $\vec{u}-\vec{v} = (1,-1)$，所以 $||\vec{u}-\vec{v}||_1 = |1|+|-1|=2$。

现在让我们把这些值代入平行四边形定律的方程中：
- 左边：$||\vec{u}+\vec{v}||_1^2 + ||\vec{u}-\vec{v}||_1^2 = 2^2 + 2^2 = 8$。
- 右边：$2(||\vec{u}||_1^2 + ||\vec{v}||_1^2) = 2(1^2 + 1^2) = 4$。

显然，$8 \ne 4$。平行四边形定律在这里完全失效了 [@problem_id:1897291]。这告诉我们[1-范数](@article_id:640150)并非来自内积。在出租车几何中，没有我们习惯的那种一致的“角度”概念。这是其“尖锐性”的深层结构原因。

### 有界但未破裂：范数的等价性

尽管存在差异，[1-范数](@article_id:640150)和2-范数并非完全无关。在有限维空间中，它们相互牵制。你不能在保持一个很小的同时让另一个任意大。这种关系由**[范数等价](@article_id:298012)性**的概念所捕捉。对于任何在 $n$ 维空间中的向量 $\vec{v}$，可以证明：
$$ ||\vec{v}||_2 \le ||\vec{v}||_1 \le \sqrt{n} ||\vec{v}||_2 $$
这个不等式的第二部分，$||\vec{v}||_1 \le \sqrt{n} ||\vec{v}||_2$，可以用柯西-施瓦茨不等式优雅地证明 [@problem_id:1914]。它告诉我们一个向量的[1-范数](@article_id:640150)至多是其[2-范数](@article_id:640410)的 $\sqrt{n}$ 倍。

这看似一个抽象的数学奇闻，但它具有巨大的实际意义。考虑一个机器学习中的优化算法，它迭代地优化一组参数。如果我们能证明参数向量序列在使用我们熟悉的欧几里得范数时越来越近（形成一个柯西序列），那么这个不等式保证了当用[曼哈顿范数](@article_id:313638)测量时，该序列*也*在越来越近 [@problem_id:2191516]。这种等价性确保了对于许多理论目的，比如证明收敛性，范数的选择不会改变最终答案，这给了数学家和工程师巨大的灵活性。

### [1-范数](@article_id:640150)的超能力：对零的热爱

现在我们来到了故事中最激动人心的部分。在过去的几十年里，[1-范数](@article_id:640150)已经成为机器学习、统计学和信号处理等领域的超级明星。为什么呢？因为它有一个奇特且非常有用的偏好：**它促进稀疏性**。稀疏性意味着解向量的许多分量都恰好为零。

想象一下，你正在尝试用数千个潜在特征（例如，用从房屋面积到前门颜色的一切信息来预测房价）来构建一个预测模型。一个[稀疏模型](@article_id:353316)会断定这些特征中的大多数是无关紧要的，并将它们对应的权重设置为零。这样的模型更简单、更易于解释，而且通常更鲁棒。

[1-范数](@article_id:640150)提供了一种神奇的方法来找到这样的[稀疏解](@article_id:366617)。这通常通过一个称为**$L_1$ [正则化](@article_id:300216)**的过程来完成。从几何上讲，我们可以这样想象：想象一下最小化某个函数，其[等值线](@article_id:332206)是平滑的椭圆形，但我们的解必须位于 $L_1$ “单位球”（我们的菱形）上。解将是缩小的[等值线](@article_id:332206)接触到菱形的第一个点。因为菱形在坐标轴上有尖角，所以接触点很可能就是这些角点之一。像 $(0,1)$ 这样的角点有什么特别之处呢？它的一个分量恰好是零！与此相对的是 $L_2$ 约束（一个圆）。圆的光滑边界意味着接触点可以在任何地方，而且不太可能恰好在坐标轴上。

我们也可以从微积分的角度来理解这种超能力。[绝对值函数](@article_id:321010) $|x|$ 的[导数](@article_id:318324)在 $x < 0$ 时是 $-1$，在 $x > 0$ 时是 $+1$。但在 $x=0$ 处，函数有一个尖角，[导数](@article_id:318324)是未定义的。我们没有一个单一的斜率值，而是有一个从 $-1$ 到 $1$ 的可能性范围。这组可能的斜率被称为**[次微分](@article_id:323393)**。

当我们使用像[次梯度法](@article_id:344132)这样的[优化算法](@article_id:308254)来最小化[1-范数](@article_id:640150)时，每当一个分量达到零时，我们都需要做出选择。考虑一个分量为零的点，比如 $(v_1, 0, v_3)$。次梯度（“斜率”向量）将是 $(1, g_2, -1)$，其中 $g_2$ 可以是 -1 和 1 之间的*任何*值。
- 如果我们选择一个非零的 $g_2$（比如，$g_2=1$），更新步骤会将第二个分量推离零。
- 但如果我们选择 $g_2=0$，该分量的更新步骤就是零！为零的分量*保持*为零。

这种在零点“停留”的能力是 $L_1$ 优化积极寻找并保持[稀疏解](@article_id:366617)的核心机制 [@problem_id:2207137]。这是几何（菱形的角点）和分析（零点处[次微分](@article_id:323393)的性质）的美妙结合。正是这一特性使得[压缩感知](@article_id:376711)等技术成为可能，它允许我们从极少的测量中重建高分辨率图像，并且是现代[数据科学](@article_id:300658)的基石。它还在许多其他领域中得到应用，例如在分析线性系统中，相应的算子[1-范数](@article_id:640150)（矩阵的最大绝对列和）提供了一种简单的方法来检查迭代过程是否会收敛 [@problem_id:1846261]。

所以，源于在网格中导航这一简单想法的普通出租车距离， ternyata 拥有深刻而强大的结构。它给了我们一种不同的几何学，一个有着尖角和失效定律的不同世界，但其独特的属性恰恰是我们解决信息时代一些最具挑战性问题所需要的。

