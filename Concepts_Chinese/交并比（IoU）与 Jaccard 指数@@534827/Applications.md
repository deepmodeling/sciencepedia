## 应用与跨学科联系

我们花了一些时间来理解一个极其简单的思想背后的机制：一种为“相同性”这个概念賦予数值的方法。通过取两个事物集合的共同点（它们的交集），然后除以它们所包含的所有东西（它们的并集），我们得到了 Jaccard 指数 $J$。$J=0$ 的值意味着这两个集合完全陌生；$J=1$ 的值意味着它们是同卵双胞胎。这是一个非常直观的概念。

但一个强大的科学思想真正的魔力不在于其纯粹的定义，而在于其惊人的应用范围。这个简单的尺度[能带](@article_id:306995)我们去哪里？事实证明，它几乎[能带](@article_id:306995)我们到任何地方。在本章中，我们将穿越科学和工程的版图，我们会发现这个不起眼的比率在其中发挥作用，充当着通用翻译器、侦探的放大镜，以及一种看待世界的新镜头。

### 自然学家的工具箱：计算生物和基因

我们的第一站是自然学家的世界，他们在野外对生命进行编目。两个生态系统有多相似？我们可以使其精确化。在 19 世纪，[Alfred Russel Wallace](@article_id:356299) 在马来群岛注意到了一些惊人的现象。在一条无形界线的一侧，动物看起来像亚洲的动物。而在另一侧，仅一小段船程之遥，生物却截然不同：有袋动物和奇异的鸟类，是澳大利亚动物群的亲属。这条边界后来被称为[华莱士线](@article_id:373504)（Wallace Line）。我们不仅可以说这些动物群“不同”，我们还可以衡量它们*有多*不同。通过将界线两边岛屿上的动物属列表视为一个集合，我们可以计算它们的 Jaccard 相似度。结果是一个惊人的低数值，为 Wallace 著名的两个世界碰撞的观察提供了尖锐、量化的证据 [@problem_id:1907307]。

同样的工具在理解我们自己后院的[世界时](@article_id:338897)也同样强大。一位生态学家可能想知道不同耕作方法对当地环境的影响。通过调查采用常规耕作和[免耕法](@article_id:361069)管理的田地中的杂草物种，他们可以编制两份清单。这两份清单的 Jaccard 相似度直接、量化地衡量了耕作实践如何改变了植物群落 [@problem_id:1882598]。生态学家甚至更进一步，将 Jaccard 指数作为正式定义“[新型生态系统](@article_id:366167)”的关键组成部分——这种系统因人类活动而发生如此大的改变，以至于跨过了一个阈值，进入了一种新状态。在这里，该指数帮助判断一个生态系统的物种构成是否与其历史基线存在根本性差异 [@problem_id:2513203]。

### 生命密码：阅读基因组之书

从生态系统，我们可以一直缩小到细胞内部。现在我们可以观察分子列表，而不是物种列表。细胞是一个繁忙的蛋白质城市，其组成可以因应激而改变。系统生物学家可以在某一时刻对一个[蛋白质复合物](@article_id:332940)进行“快照”，列出其所有组成蛋白质，然后在施加应激后再拍一张快照。这两[组蛋白](@article_id:375151)质之间的 Jaccard 相似度量化了该复合物的稳定性——高相似度意味着复合物很稳健，而低相似度则揭示了一个动态变化的结构 [@problem_id:1470950]。

这种思维方式已成为现代基因组学的核心，我们现在可以阅读一个生物体的完整遗传“书”。最深刻的问题之一是，我们体内共享相同 DNA 的不同细胞为何会如此不同。部分答案在于 DNA 的哪些部分是“活跃”或“可及”的。利用 ChIP-seq 或 [ATAC-seq](@article_id:349101) 等技术，科学家可以识别出给定细胞类型中基因组的所有可及区域。这些区域可以被看作是一个庞大的碱基对坐标集。通过比较肝细胞和脑细胞的可及区域集合，Jaccard 指数告诉我们它们的“[表观遗传](@article_id:304236)图景”有多相似 [@problem_id:2397965]。这具有巨大的医学意义。例如，在癌症免疫治疗中，医生想知道“耗竭”的免疫细胞是否可以被重新激活。通过比较 T 细胞治疗前后的可及[染色质](@article_id:336327)，Jaccard 相似度揭示了细胞的“可塑性”——低分意味着治疗引起了显著的重塑并唤醒了细胞，而高分则表明它们仍处于耗竭状态 [@problem_id:2893532]。

基因组与书籍的类比甚至更深。我们可以将基因组视为一个长文本字符串，并应用抄袭检测的思想。在进化过程中，基因有时会在不相关的物种之间“水平”移动。为了找到这些借来的片段，我们可以在一个查询基因组上滑动一个窗口，并为每个窗口生成其所有短 DNA“单词”（称为 $k$-mers）的集合。然后，我们使用 Jaccard 指数将这组单词与潜在“宿主”基因组和潜在“供体”基因组的单词集进行比较。一个与供体非常相似但与宿主非常不相似的窗口，被标记为很可能是水平基因转移的案例——生命之书中的一个“抄袭”段落 [@problem_id:2385193]。

### 驯服数据洪流：从集合到签名

比较集合的力量是显而易见的，但当集合大到天文数字级别时会发生什么？想象一下所有在 YouTube 上“点赞”一个视频的用户，或者社交网络上两位名人的所有关注者。直接计算交集和并集在计算上是不可能的。这就像被要求比较两个各有数十亿册书籍的图书馆。你真的需要阅读每一个书名吗？

在这里，一种优美的概率思维以一种名为 MinHash 的[算法](@article_id:331821)前来救援。其核心见解是：想象你给宇宙中的每一个项目分配一个随机数。现在，对于任何集合，你找到那个获得最小随机数的项目——这就是它的“MinHash”。两个不同集合具有相同 MinHash 值的概率，恰好就是它们的 Jaccard 相似度！这是一个惊人的结果。通过用许多不同的随机分配（或在实践中，用不同的[哈希函数](@article_id:640532)）重复这个过程，我们可以简单地计算 MinHash 匹配的次数。这个比例为我们提供了一个非常准确的 Jaccard 相似度估计，而无需查看完整的集合。这项技术是搜索引擎如何找到重复网页以及数据科学家如何分析大规模网络的基石 [@problem_id:3261665]。

Jaccard 指数还提供了一种巧妙的方法来衡量[算法](@article_id:331821)本身的性能。在机器学习中，我们经常使用[聚类算法](@article_id:307138)来发现数据中的自然分组。但我们如何知道发现的分组是真实的，还是仅仅是[算法](@article_id:331821)的产物？一种方法是检查稳定性。我们可以在数据的略微不同版本上运行[聚类算法](@article_id:307138)（通过[自助法](@article_id:299286)重采样创建），然后问：相同的数据点对每次是否都最终分在同一个簇中？我们可以形成两个集合：一个包含在第一次运行中被聚在一起的所有点对，另一个集合用于第二次运行。这些*点对集合*的 Jaccard 相似度为我们提供了[聚类](@article_id:330431)解决方案稳定性的得分，这是对[算法](@article_id:331821)行为的一种[元分析](@article_id:327581) [@problem_id:3109613]。

### 看见之术：教机器感知

最后，我们的旅程将我们带到人工智能的前沿，特别是计算机视觉。在这里，Jaccard 指数是如此基础，以至于它有另一个名字：[交并比](@article_id:638699)（Intersection over Union），或称 IoU。当我们训练一台机器在图像中“看见”物体时，我们给它一张图片和一个“真实标签”[边界框](@article_id:639578)，显示物体的位置。机器做出自己的预测，画出自己的框。IoU——两个框重叠区域的面积除以它们的总组合面积——是衡量机器表现的标准度量。这就是 Jaccard 指数，只不过是用于像素而不是离散项目。

这个想法的真正力量在于其灵活性。我们可以创造性地定义什么是“图像”和什么是“物体”。想象一个社交网络，用一个[邻接矩阵](@article_id:311427)表示，其中填充的像素意味着两个人是朋友。一个密集的朋友社群在矩阵的对角线上会显示为一个明亮的方块。我们可以将这个矩阵视为一幅图像，并训练一个[目标检测](@article_id:641122)器，比如著名的 YOLO [算法](@article_id:331821)，来找到这些“社群物体”。预测框和真实标签框的 IoU 告诉我们我们多准确地识别了网络中的社群 [@problem_id:3146118]。这是一个 brilliant 的抽象飞跃，将一个图问题转化为了一个视觉问题。

但当“物体”的本质挑战了面积的定义时会发生什么？考虑在旧的气泡室照片中检测粒子轨迹的问题。这些轨迹是细长的、弯曲的线，面积几乎为零。对其[边界框](@article_id:639578)进行标准的 IoU 计算将毫无意义。在这里，我们必须回归[第一性原理](@article_id:382249)。解决方案很优雅：我们可以想象将每个线段“加厚”成半径为 $\epsilon$ 的管道，计算这两个二维管道的 IoU，然后观察当 $\epsilon$ 趋近于零时会发生什么。这个严谨的数学步骤为我们提供了一个新颖、有原则的一维物体 IoU，使我们能够在这个具有挑战性的任务上评估即使是最先进的探测器 [@problem_id:3146148]。

从地球上生命的宏大模式到[亚原子粒子](@article_id:302932)的微妙指纹，从我们自身细胞的结构到人工智能思想的架构，[交并比](@article_id:638699)这个简单的比率一次又一次地出现。它证明了数学思想的统一力量——一个单一、清晰的理念，为整个人类探究领域提供了一种共同的发现语言。