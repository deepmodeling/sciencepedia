## 应用与跨学科联系

好了，我们已经花了一些时间来了解这些叫做函数的东西。我们看到了它们的定义、它们的图像和它们的基本性质。你可能会想，“这都挺巧妙的，但有什么大不了的？我们能用它们*做*什么？”

好吧，这才是好玩的部分。事实证明，这个简单的想法——一个接收输入并给出输出的规则——是我们理解世界最强大的工具之一。它是我们用来描述一切事物的语言，从人类的欲望和社会公平，到我们经济的无形结构，再到计算本身的根本性质。

在本章中，我们将进行一次巡礼。我们将看到函数不仅仅是抽象的数学；它们是现实、社会乃至思想的秘密线路。让我们看看它们有什么用处。

### 欲望的微积分：作为人类模型的函数

让我们从一个出了名难以捉摸的东西开始：人类的偏好。我们究竟如何能用数学来谈论人们想要什么？诀窍在于发明一个函数，一个绝妙而简单的技巧。我们称之为*[效用函数](@article_id:298257)*。它只是为一个你有多喜欢某个结果赋予一个数字——一个“效用”。数字越高，你越开心。

这可能看起来像是过分简化，但看看它能做什么。考虑一个著名的谜题，叫做[圣彼得堡悖论](@article_id:302420)。一枚公平的硬币被连续抛掷，直到出现正面为止。如果第一次正面出现在第 $k$ 次抛掷，你将赢得 $2^{k-1}$ 美元的奖金。问题是：玩一次这个游戏，付多少钱是公平的？

如果我们将价值定义为金钱的数量，我们可以计算出*[期望](@article_id:311378)*的货币收益。它是每个可能奖金乘以其概率的总和：$\sum_{k=1}^{\infty} (2^{k-1}) \cdot (\frac{1}{2})^k = \frac{1}{2} + \frac{1}{2} + \frac{1}{2} + \dots = \infty$。[期望](@article_id:311378)货币价值是无限的！那么，你应该愿意抵押你的房子来玩这个游戏吗？当然不。你的直觉尖叫着说这是错的。

而你的直觉是对的。错误在于假设你的幸福感与你的金钱成线性关系。当你一无所有时赢得的第一美元是改变人生的。你赢得的第一百万美元呢？那很好，但它并不会带来同样程度的改变。经济学家称之为*[边际效用递减](@article_id:298577)*。我们可以通过使用一个不同的函数来表示价值来捕捉这个想法，一个随着财富增加而增长得更慢的函数。与其用 $u(W) = W$，我们或许可以使用一个对数函数如 $u(W) = \ln(W)$ 或一个[幂函数](@article_id:345851)如 $u(W) = \sqrt{W}$。当我们使用金钱的*效用*而不是金钱本身来重新计算[期望](@article_id:311378)收益时，那个[无穷级数](@article_id:303801)会收敛到一个小的、有限的数字。这个悖论便彻底消失了 [@problem_id:2391050]。选择正确的函数使无稽之谈变得合情合理。

一旦我们有了描述人们想要什么的语言，我们就可以着手解决更大的问题，比如公平。想象一下，你和你的朋友需要分一个有不同配料的蛋糕，每个人都有自己喜欢的部分。你如何公平地分割它？我们可以给每个人一个独特的[效用函数](@article_id:298257)，描述他们对每一口蛋糕的价值评估。然后，“公平”的问题就转化为一个[约束优化](@article_id:298365)问题。例如，我们可以尝试找到使最不开心的人的[效用最大化](@article_id:305385)的分割方案——这是哲学家 John Rawls 提出的一个公平原则。曾经一个模糊的伦理困境变成了一个具体的数学问题：在一组约束条件下找到一个函数的最大值 [@problem_id:2383269]。同样的原则可以用来找到“无嫉妒”的物品分配方案，比如当物品[排列](@article_id:296886)成一个圆圈时，像一串珠子，每个人的偏好可能会沿着圆圈平滑地变化 [@problem_id:919481]。

这个框架甚至可以扩展到谈判。当两方试图达成协议时，我们可以用一个效用函数来模拟他们各自的偏好。著名的纳什谈判解提出，一个理性的结果是最大化他们双方效用的一个特定函数——即他们相对于无法达成协议时所获收益的增益之积。找到这个解同样归结为一个优化问题，一个我们可以用[数值方法](@article_id:300571)来求解，以找到最大化那个主导函数的分配方案 [@problem_id:2414712]。

### 宏大之舞：均衡与[分布式计算](@article_id:327751)

所以，函数可以模拟个体。当你把数百万个这样的个体放在一个经济体中时，会发生什么？他们不仅仅是随机行动。他们会互动，而系统常常会稳定在一个稳定的状态，一个*均衡*。在数学上，均衡通常是与一个函数相关的特殊点——一个函数值为零的点，或者一个函数将该点映射回自身的点（一个*不动点*）。

最著名的例子是市场经济中的瓦尔拉斯均衡概念。每个消费者都有一个效用函数，这产生了一个*需求函数*，告诉我们在给定价格下他们想买多少商品。我们可以把所有人的需求加起来，得到整个市场的总需求函数。当*[超额需求](@article_id:297282)函数*——总需求减去总供给——对每一种商品都为零时，市场就处于均衡状态。实现这一点的价格就是均衡价格。我们通过找到一个函数的根，为整个经济找到了一个稳定状态！[@problem_id:919599]。

但是我们如何*找到*这个均衡呢？在一个简单的模型中，我们可以用代数方法解方程。但在现实世界中，有数以百万计的人和商品，问题是巨大的。如果效用函数本身就极其复杂怎么办？比如说，一个人的偏好不是由一个简单的公式描述，而是由一个训练好的[人工神经网络](@article_id:301014)表示？没关系！一个神经网络，尽管复杂，仍然只是一个函数。我们仍然可以定义一个[超额需求](@article_id:297282)函数，并使用一个[算法](@article_id:331821)——一个像*tâtonnement*过程那样的逐步迭代程序——来寻找使[超额需求](@article_id:297282)为零的价格向量 [@problem_id:2382197]。这显示了函数方法的惊人普适性。

这把我们引向了经济学中最深刻的思想之一，而这个思想在计算机科学中也是一个深刻的思想：即“局部知识问题”[@problem_id:2417923]。每个人都知道自己的偏好（他们的效用函数），每个公司都知道自己的生产能力（它的生产函数），但没有任何一个单一实体知道所有事情。一个信息如此极端分散的系统怎么可能达到一个高效的全局结果？这似乎是不可能的。

惊人的答案是，市场本身就像一台宏伟的、并行处理的计算机。而它运行的[算法](@article_id:331821)是由一个简单的价格函数来协调的。商品的价格作为一个强大的信息片段出现，它总结了该商品的全球稀缺性。通过一个看起来非常像称为*[对偶分解](@article_id:349005)*的[优化算法](@article_id:308254)的过程，价格体系引导每个个体和公司做出局部决策，这些决策如同被一只“看不见的手”引导一样，协同解决了全局[资源分配问题](@article_id:640508)。一个单一的标量价格，一个简单的信号，就足以协调整个网络，而无需任何中央计划者知道所有私有的、局部的函数。这是一个复杂系统通过简单功能信号的传播而自我组织的惊人实例。

### 科学家的工具箱：驯服无穷的函数

除了模拟人与市场的世界，函数还是科学和数学中必不可少的主力。它们是我们进行计算和揭示隐藏结构的主要工具。

最神奇的想法之一是*[生成函数](@article_id:363704)*。这是一种技术，你取一个无限的数字序列——比如说，一个计数问题的解——然后把它们全部打包进一个单一的函数中。你序列中的数字成为该函数[幂级数展开](@article_id:337020)的系数。序列的性质现在被编码在函数的解析结构中。

例如，数论学家长期以来一直对一个叫做[雅可比θ函数](@article_id:371507)的函数着迷，它由级数 $\theta_3(0, q) = \sum_{n=-\infty}^{\infty} q^{n^2}$ 定义。如果你将这个函数平方，得到的级数中 $q^N$ 项的系数会奇迹般地告诉你将整数 $N$ 写成两个整数平方和的方法数。所有关于[平方和](@article_id:321453)的秘密都被打包在这个函数里。要解决一个关于像 $N=20$ 这样的整数的具体查询，你只需要在一个相关乘积的展开式中找到正确的系数 [@problem_id:785165]。

物理学家和数学家已经建立了一个完整的这些强大的*特殊函数*的“动物园”——推广了阶乘的伽马函数、[贝塔函数](@article_id:381358)、贝塞尔函数等等。每一种都有自己特殊的性质，是解决某一类问题的关键。拥有这个工具箱就像一个木匠拥有一整套专业工具，而不仅仅是一把锤子。例如，你可能面临一个看起来很棘手的积分。但如果你足够聪明，你可以做一个替换，然后意识到，“等一下，这不就是伪装的贝塔函数吗！” 既然我们对贝塔函数了如指掌，比如它与[伽马函数](@article_id:301862)的基本关系，问题就突然变得简单了 [@problem_id:636968]。这无关乎蛮力计算；而在于识别一个熟悉的函数形式。同样的原则也适用于驯服无穷级数，其中整个级数通常可以被压缩成一个包含已知函数的紧凑、[封闭形式](@article_id:336656)的表达式 [@problem_id:804029]。

### 最终前沿：什么是[可计算函数](@article_id:312583)？

我们已经看到函数模拟人、协调经济和解决积分。但所有这一切都依赖于一个假设，即我们实际上可以*求值*这个函数——也就是说，我们可以为给定的输入找到它的值。这引出了一个最终的、深刻的问题：一个函数是“可计算的”到底意味着什么？

在20世纪30年代，数学家和逻辑学家从两个完全不同的方向攻击了这个问题。在英国，Alan Turing 想象了一个简单的、理想化的机械装置——一台有有限状态集、无限长纸带和读写头的机器。他将“[可计算函数](@article_id:312583)”定义为任何其值可以由这台机器计算出的函数。

与此同时，在欧洲大陆，[Kurt Gödel](@article_id:308735)、Jacques Herbrand 和 Stephen Kleene 采取了一种纯粹抽象的、符号化的方法。他们从一些基本的、显然可计算的函数（如零函数和后继函数）以及一些从旧函数构建新函数的规则（如复合和递归）开始。他们将“[一般递归函数](@article_id:638633)”类定义为任何可以通过这种方式构建起来的东西。

一种方法是机械的、具体的；另一种是符号的、抽象的。[可计算性理论](@article_id:309598)的惊人、基础性的结果是，它们是等价的。它们定义了*完全相同的函数类别*。任何图灵机可以计算的函数都是一个[一般递归函数](@article_id:638633)，任何[一般递归函数](@article_id:638633)都可以由[图灵机计算](@article_id:339491) [@problem_id:1405419]。

这一非凡的趋同是我们所称的[丘奇-图灵论题](@article_id:298662)的最强有力的证据：即相信这些形式体系真正捕捉到了“[算法](@article_id:331821)”或“有效计算”的直观、根本的本质。这好比两位探险家从不同的大陆出发去绘制世界地图，结果却得到了完全相同的地图。这表明，[可计算函数](@article_id:312583)的概念不仅仅是人类的任意发明，而是我们逻辑宇宙的一个深刻而根本的特征。

于是我们的旅程在它开始的地方结束，即规则这个简单的概念。从人类选择的悖论到经济市场的浩瀚，从数字中隐藏的模式到通过计算所能知晓的极限，函数的概念提供了统一的语言——一种具有惊人力量和美丽的语言。