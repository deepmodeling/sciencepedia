## 引言
我们如何知道一种新的医疗方法是否真正有效？回答这个问题的科学理想方法是随机对照试验（RCT），它能创建一个近乎完美的比较组，用以衡量一种疗法相对于“反事实”——即如果没有这种疗法会发生什么——的效果。然而，在面对超罕见疾病或病情发展迅速的状况时，进行RCT可能在伦理上具有挑战性或在后勤上不可行。这一差距催生了对替代方法的迫切需求，以评估有前景的新疗法。

本文深入探讨了其中一个最强大也最复杂的解决方案：外部[对照组](@entry_id:188599)（ECA）。我们将探讨利用真实世界数据构建比较组的原则，并直面可能出现的重大偏倚。首先，“原理与机制”一章将剖析核心挑战，如混杂和永生时间偏倚，并介绍用于克服这些挑战的复杂统计工具包，如目标试验模拟和倾向性评分。随后，“应用与跨学科联系”一章将探讨这些方法如何在肿瘤学和罕见病[药物开发](@entry_id:169064)等高风险领域得到应用，彻底改变了证据的生成方式及其在监管决策中的使用。

## 原理与机制

### 反事实难题

所有医学科学的核心在于一个看似简单的问题：“这种疗法有效吗？”要回答这个问题，我们必须比较接受新疗法的患者所发生的情况与那些*完全相同的患者*在没有接受该疗法的情况下本会发生的情况。这第二种情景，即在一个从未发生过的世界里的结果，就是科学家所说的**反事实**。它是我们不断追寻的幽灵。

人类为召唤这个幽灵而设计出的最优雅的解决方案是**随机对照试验（RCT）**。想象我们有一大群患者。通过随机将他们分配到接受新药（$A=1$）或安慰剂（$A=0$）的组别，我们创造出两个在试验开始前各方面（年龄、疾病严重程度、遗传、生活方式等等）平均而言几乎完全相同的组。无论是已测量还是未测量的因素，都因纯粹的几率而被平衡[@problem_id:4934604]。因此，[对照组](@entry_id:188599)成为了一个近乎完美的替代品，是治疗组反事实的活生生的体现。他们结局的差异，$\mathbb{E}[Y \mid A=1] - \mathbb{E}[Y \mid A=0]$，为我们提供了一个关于治疗真实效果的干净、无偏的估计。

但当RCT不可行时会发生什么？对于一种超罕见且快速致命的儿科疾病，当一种有前景的新疗法存在时，将孩子分配到安慰剂组是否符合伦理？当一种疾病在全球仅影响少数人时，招募足够多的患者分成两组是否可行？[@problem_id:5068789]。在这些绝望的情况下，我们不能简单地放弃。我们必须找到另一种方法来回答这个“如果”的问题。这正是科学的巧思介入之处，它带来了一个强大而富有挑战性的想法：**外部[对照组](@entry_id:188599)**。

### 从过去构建一个“幽灵”

这个想法很直接：如果我们不能同期创建一个[对照组](@entry_id:188599)，那就在别处找一个。我们可以求助于真实世界的数据——记录在电子健康记录、疾病登记库或自然史研究中的、未接受新实验药物的患者[@problem_id:5017958]。我们将这组非随机的比较对象称为**外部[对照组](@entry_id:188599)**。如果数据来自我们试验开始前的时间段，我们称之为**历史[对照组](@entry_id:188599)**。

这似乎是一个非常务实的解决方案。我们有接受了新药的试验患者，还有大量关于未接受新药患者的真实世界数据。我们所要做的就是比较他们。然而，这才是我们旅程的真正开始，因为这片数据海洋充满了偏倚的暗流和险礁。一个朴素的比较几乎总是错误的，而理解其原因揭示了因果推断的深层挑战。

### 隐藏的陷阱：研究者偏倚指南

将一个经过高度筛选的试验参与者群体与普通患者群体进行比较，就像是拿苹果和橘子作比较。这些差异，或称偏倚，会系统性地扭曲我们的结果，常常使一种新药看起来比它实际的效果更好。让我们来探讨三个最臭名昭著的陷阱。

#### “苹果与橘子”问题：适应症混杂

临床试验中的患者并非随机人群。他们通过了严格的资格标准，由医生挑选，并同意参与。而“真实世界”中没有得到新药的患者也不是一个随机群体。一个群体接受治疗而另一个没有的原因，往往与他们的预后有关。例如，医生可能会给体质较弱的患者开一种标准的、不那么激进的疗法，而一个更健康、更强壮的患者则可能被考虑参加实验性试验。这被称为**适应症混杂**[@problem_id:5074664]。如果我们的试验组在开始时平均比我们的外部[对照组](@entry_id:188599)更健康，那么即使没有新药，他们也可能会有更好的结局。我们会把他们固有的健康优势误认为是药物效果。反之亦然。无论哪种情况，我们都不是在进行同类比较。

#### 时间的脚步：长期趋势偏倚

想象一下我们的新疗法试验在2024年进行，但我们的外部[对照组](@entry_id:188599)是根据2015年至2020年间治疗的患者登记数据构建的——一个历史[对照组](@entry_id:188599)。在这期间，医学领域还有其他变化吗？当然有！支持性护理得到改善，诊断工具变得更加灵敏，医生在管理副作用方面也做得更好。这些在背景中缓慢而稳定的改进被称为**长期趋势**。

假设在历史时期和试验时期之间，常规护理的普遍改善使所有患者的12个月生存率提高了8个百分点（$0.08$），这与任何新药无关。如果我们的历史[对照组](@entry_id:188599)的生存率为$50\%$，一个公平的同期[对照组](@entry_id:188599)的生存率应为$58\%$。如果我们的新药达到了$64\%$的生存率，与历史[对照组](@entry_id:188599)的朴素比较会显示出$14$个百分点（$0.64 - 0.50$）的巨大效果。但真实的效果仅为$6$个百分点（$0.64 - 0.58$）。另外的$8$个百分点是一个幽灵伪影，是时间无情前进所造成的偏倚[@problem_id:4934604]。

#### 永生时间陷阱

这可能是所有偏倚中最微妙、也最奇妙的一个。当我们在定义“起始时间”时不小心，就可能陷入这个[逻辑谬误](@entry_id:273186)。假设我们将试验组的随访定义为从他们接受第一剂药物的那天开始。对于我们的外部[对照组](@entry_id:188599)，我们可能会查看他们的记录，并将他们的起始时间定义为他们开始标准疗法的那天。这似乎很公平。

但如果外部患者在诊断和开始治疗之间必须等待两个月呢？在那两个月里，他们还活着，病情尚未进展——从某种意义上说，他们对于结局是“永生”的。而我们的试验患者，他们的时钟从第一剂药物开始计时，其随访中并没有包含这样的“永生”等待期。仅仅通过一个记账上的小把戏，我们就不小心选择了一个在时钟开始计时前就已经证明了自己能存活两个月的[对照组](@entry_id:188599)。这种**永生时间偏倚**可以制造出一种强烈的治疗获益假象，而实际上可能根本不存在。避免它的唯一方法是将分析中的每一个人，无论是治疗组还是[对照组](@entry_id:188599)，都锚定到一个等效的起点，即**时间零点**，例如诊断日期或分子学符合资格的日期，这应在任何治疗开始之前[@problem_id:4587694]。

### 科学家的工具箱：打造公平的比较

面对这个充满偏倚的雷区，我们该如何继续？我们不能简单地放弃。相反，我们必须成为统计工匠，使用一套复杂的工具包，将我们的“橘子”转变成看起来和行为上都非常像“苹果”的东西。实现这一目标的现代框架是一个优美的概念，称为**目标试验模拟**[@problem_id:4326238]。我们首先在纸上设计一个假设的、完美的随机试验——“目标试验”。我们写下它的方案：资格标准、治疗策略、随访开始时间、结局。然后，我们用这个方案作为蓝图来分析我们的观察性数据。

首先，我们将试验的精确资格标准应用于我们庞大的真实世界数据池，筛选掉那些不符合试验资格的患者。接下来，我们为每个人强制执行一个共同的时间零点。这种研究人群的仔细对齐是第一步，也是最关键的一步[@problem_id:5074664]。

但即使在此之后，这些组也并不均衡。这时我们就要部署我们最强大的工具：**倾向性评分**。倾向性评分 $e(X) = \mathbb{P}(A=1 \mid X)$，是指一个具有特定基线特征 $X$（年龄、疾病分期、合并症等）的患者最终进入治疗组的概率[@problem_id:4326297]。我们不用试图在数十个[独立变量](@entry_id:267118)上匹配患者，而是可以在这个单一的综合评分上进行匹配。其逻辑非常优雅：如果一个治疗组患者和一个未治疗组患者具有相同的被治疗*概率*，那么他们在基线特征方面平均而言必定是相似的。通过将试验组中倾向性评分为$0.2$的患者与外部[对照组](@entry_id:188599)中一个或多个评分为$0.2$的患者进行匹配，我们可以创造出两个在所有我们测量的基线因素上突然奇迹般均衡的组。这是我们在事后最接近模拟随机化的方法。

当然，我们必须检查我们的工作。在通过倾向性评分进行匹配或加权后，我们使用**标准化均数差（SMD）**等诊断工具来确保协变量确实均衡，目标是使所有协变量的SMD都接近于零[@problem_id:4326297]。我们还必须检查是否存在**重叠性（positivity）**——即对于我们试验中每一种类型的患者，在我们的对照数据中都存在可比较的患者类型[@problem_id:5056004]。

### 追求真理：谦逊与严谨

即使拥有这些卓越的工具，我们也必须保持谦逊。我们的统计调整只能解释我们能测量的混杂因素。**未测量的混杂**的幽灵——由于患者动机、肿瘤生物学的细微差[异或](@entry_id:172120)临床医生的判断等因素——总是若隐若现。

这就是为什么一个可信的分析不止步于匹配。它会建立安全网。像**双重[稳健估计](@entry_id:261282)**这样的先进技术将倾向性评分模型与一个独立的结局模型相结合，如果*任一*模型是正确的，就能提供正确的估计——这是一种统计上的“双保险”[@problem-id:4563951]。

最重要的是，我们进行**敏感性分析**。我们提出棘手的“如果”问题：“一个未测量的混杂因素需要多强才能完全解释掉我们观察到的治疗效果？”[@problem_id:5068789]。通过量化我们无法看到的东西的潜在影响，我们可以表达我们研究结果的稳健性。

因此，构建一个有效的外部[对照组](@entry_id:188599)是现代医学科学中的一大挑战。这是一项艰苦卓绝的工作，旨在从不完美的真实世界数据中构建一个可信的反事实。它需要对医学的深刻理解、对统计学的严谨应用，以及对所有假设和局限性的透明承认。它不能替代随机试验，但当以纪律和诚信执行时，它是一个强大且必不可少的工具，用以加速向急需帮助的患者提供拯救生命的疗法。

