## 引言
虽然大多数数字系统都随着主时钟的稳定节拍运行，但存在一个引人入胜的[并行计算](@article_id:299689)世界：[异步时序电路](@article_id:349916)。这些无时钟系统基于事件的自然流动进行操作，提供了独特的优势，但也带来了复杂的设计挑战。本文旨在解决一个根本性问题：在没有[同步](@article_id:339180)脉冲的情况下如何实现可靠的基于状态的逻辑——在这个领域，时间本身既是工具，也是障碍。我们将首先深入探讨其核心原理和机制，揭示存储功能如何从物理延迟中产生，并探索设计者必须应对的关键险象。之后，讨论将转向创新应用和跨学科联系，揭示这些曾被视为缺陷的特性如何转变为用于仲裁和硬件安全的强大功能。

## 原理与机制

要真正理解任何机器，你都必须深入其内部一探究竟。对于[异步时序电路](@article_id:349916)，我们发现的不是一套同步运转的复杂齿轮钟表，而是更具组织性、更流畅的东西。支配这些电路的原理源于逻辑、反馈和物理延迟这一不可避免的现实之间美妙的相互作用。这是一个时间不再是节拍器，而是一条连续的河流的世界，设计者必须学会驾驭其中的漩涡和水流。

### 秘密成分：源于延迟的存储

让我们从一个简单的问题开始。你有一个设备上只有一个按钮。按一下，灯亮。再按一下，灯灭。控制这盏灯的电路是[组合电路](@article_id:353734)还是[时序电路](@article_id:346313)？[组合电路](@article_id:353734)就像一个简单的计算器：它的输出*只*取决于你*当前*给它的输入。但我们的按钮电路不同。输入“按钮未按下”可以对应两种不同的输出：“灯亮”或“灯灭”。为了决定下一步该做什么，电路必须知道它上一步做了什么。它需要一个关于其当前状态的记忆。这就是**[时序电路](@article_id:346313)**的标志[@problem_id:1959214]。

在更常见的[同步电路](@article_id:351527)世界里，存储功能由称为[触发器](@article_id:353355)的专门元件提供，所有这些元件都随着全局时钟的节拍运行。但如何在没有时钟的情况下构建存储呢？答案出人意料地优雅，仅在于两个简单的要素：**反馈**和**传播延迟**。

想象一下最简单的逻辑门，一个反相器或非门。它的作用是翻转一个信号：`1`变成`0`，`0`变成`1`。如果我们做一些看似毫无意义的事情，将门的输出直接连接回它自己的输入，会发生什么？

让我们追踪一下逻辑。如果输入`A`是`0`，输出`Y`必须是`1`。但由于我们将`Y`接回了`A`，输入现在是`1`。这个新的输入`1`意味着输出`Y`必须变成`0`。然后这个`0`又被反馈到输入……如此往复。电路试图解决这个不可能的方程$A = \overline{A}$。它永远无法稳定在一个值上。

现在，让我们加入一点现实因素。没有哪个[逻辑门](@article_id:302575)是瞬时响应的。从输入变化到输出反映该变化之间，存在一个微小且不可避免的延迟——**传播延迟**（$t_p$）。这个通常被视为麻烦的延迟，却成了我们的秘密成分。正因为如此，时间$t$的输出是时间$t - t_p$的输入的反相。[反馈环](@article_id:337231)路创造了一场追逐：输出翻转，经过$t_p$的延迟后，新值到达输入，导致输出再次翻转。结果是什么？一个持续的[振荡](@article_id:331484)，一个由单个门自馈而生的简单时钟。这是一个初级的[异步时序电路](@article_id:349916)，其中状态（当前的电压水平）在[传播延迟](@article_id:323213)的持续时间内被“记住”[@problem_id:1959236]。这个简单的环路揭示了基本原理：在[异步电路](@article_id:348393)中，**状态体现在信号穿过[反馈环](@article_id:337231)路所需的时间里。**

### 君子协定：基本模式模型

一个[振荡](@article_id:331484)的反相器很有趣，但对于计算来说并不太有用。要构建实用的[异步电路](@article_id:348393)，我们需要一种方法来引导它们从一个稳定[状态转换](@article_id:346822)到另一个。我们通过一套被称为**[基本模式](@article_id:344550)模型**的规则来实现这一点。这个模型就像外部世界与电路之间的一个君子协定：

1.  一次只允许一个外部输入改变。
2.  在一个输入改变后，我们必须等待电路内部稳定到一个新的稳定状态，然后才允许另一个输入改变。

让我们看看这是如何工作的。想象一个电路，它被设计用来遵循一个“流程表”中规定的一套规则。这个表告诉电路，对于其当前状态和外部输入的任何组合，它的下一个内部状态应该是什么。当一个输入改变时，电路会查找其当前行（当前状态）和新列（新输入）。它找到的条目就是它的目标。

如果下一个状态与当前状态相同，电路就是**稳定**的。它已经到达了。但如果下一个状态不同，电路就是**不稳定**的，必须进行转换。它会内部改变其状态，然后用相同、未变的输入有效地“重新评估”其状况。它可能会发现这个新的内部状态也是不稳定的，导致另一次内部跳变。这个过程——一系列内部状态的级联变化——会一直持续，直到电路最终落在一个当前状态和下一个状态相同的单元格中。现在它稳定了，并准备好迎接下一次外部输入的变化[@problem_id:1953708][@problem_id:1953728]。这种有序的级联变化是异步机器的预期行为。

### 当时间变得棘手：竞争的世界

基本模式模型描述了一个理想的世界。然而，现实世界要混乱得多。异步设计中最大的挑战出现在当一个必要的转换不仅仅是一步，而是需要多个内部变量同时改变时。

考虑一个状态由两位比特$(y_1, y_0)$表示的系统。假设电路需要从编码为`GRANT (11)`的状态移动到`IDLE (00)`的状态[@problem_id:1956314]。两个比特$y_1$和$y_0$都必须翻转。但在物理世界中，没有任何事情是真正同时发生的。这两个信号将通过具有微小差异的[传播延迟](@article_id:323213)的不同路径传播。一个比特不可避免地会比另一个先改变。这就是**[竞争条件](@article_id:356595)**。

如果$y_1$先翻转，电路会短暂地经过状态`(01)`。如果$y_0$先翻转，它会经过`(10)`。这有关系吗？

有时，这没关系。如果两个临时状态`(01)`和`(10)`都是不稳定的，并且都指向相同的最终目的地`(00)`，那么这个竞争就是**非临界**的。无论走哪条路，结果都一样。电路的行为是可靠的[@problem_id:1925435]。

但如果其中一个中间状态，由于设计的巧合，对于当前输入来说是一个*稳定*状态呢？假设转换是从$(1, 0)$到$(0, 1)$，而中间状态$(1, 1)$恰好是稳定的。如果$y_0$从$0$翻转到$1$的速度比$y_1$从$1$翻转到$0$的速度快，电路就会进入状态$(1, 1)$。发现这个状态是稳定的，它就会停 secretário。它永远不会到达预期的目的地$(0, 1)$。这是一个**临界[竞争条件](@article_id:356595)**，也是异步设计者的心头之患。电路的最终状态变得不可预测，取决于温度、电压和微观制造变化的随意性。这是没有[同步](@article_id:339180)时钟来强制执行顺序的系统所独有的基本险象[@problem_id:1959235]。

更糟糕的是，电路可能根本找不到一个稳定状态。输入的变化可能会使它陷入两个或多个[不稳定状态](@article_id:376114)之间的循环，无休止地[振荡](@article_id:331484)而永不安定。这被称为**循环**或**[振荡](@article_id:331484)**，是另一种必须在设计中排除的危险行为[@problem_id:1967899]。

### 更深层次的险象：你没预料到的竞争

内部[状态变量](@article_id:299238)之间的竞争是主要关注点。但还有一种更微妙、更隐蔽的竞争。它不是两个内部信号之间的竞争，而是外部世界与电路自身反应之间的竞争。这就是**本质险象**。

想象一个安全锁存电路。一个输入传感器`x`从`0`变为`1`，表示电路应将其内部状态`y`从`0`变为`1`。现在，想象一下物理布局：将新的`x=1`信号传输到电路逻辑的导线又长又慢。相比之下，报告状态`y`的内部[反馈环](@article_id:337231)路又短又快。

事情是这样发生的：
1.  外部输入`x`变为`1`。
2.  电路的逻辑正确地计算出`y`应该变为`1`。状态`y`几乎立即改变。
3.  这个新的`y=1`值被反馈到逻辑部分。
4.  *但新的`x=1`信号仍在它那长长的导线上传输！*

在一个短暂而关键的时刻，逻辑部分被馈入了一个矛盾的组合：*新*的状态（`y=1`）和*旧*的输入（`x=0`）。逻辑部分从未预料到会看到这种组合，并可能通过启动另一个不正确的状态变化来做出反应。这就是一个本质险象：外部输入变化与其引起的内部状态变化之间的竞争[@problem_id:1933687]。它是由单个输入变化引起的，这与**功能险象**不同，后者只有在两个或多个输入同时变化时才会发生[@problem_id:1933657]。这是一个根植于[信号传播延迟](@article_id:335595)物理现实的基本问题。

因此，[异步电路](@article_id:348393)的原理就是对时间本身进行管理的研究。[同步电路](@article_id:351527)通过将时间强制划分为离散的步骤来驾驭时间，而[异步电路](@article_id:348393)则拥抱其连续的流动。它们从延迟中获取存储，从状态变化的级联中获得操作。但这种自由是有代价的：必须时刻警惕当“同时”事件的假设与物理现实碰撞时出现的不可预测的竞争和险象。理解这些原理是利用无时钟世界独特力量的第一步。