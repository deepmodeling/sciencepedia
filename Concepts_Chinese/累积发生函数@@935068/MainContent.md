## 引言
在生命与健康的研究中，我们的首要目标之一是理解事件随时间发生的概率。这个领域，广义上称为生存分析，为这项任务提供了强大的工具。然而，当研究对象面临不止一种类型的事件风险，且一种事件的发生会使他们不再面临其他事件的风险时，一个关键的复杂问题便出现了。这种情况被称为“竞争风险”，在医学研究和公共卫生领域是常态，但传统的分析方法常常处理不当，可能产生误导性且过于乐观的[风险估计](@entry_id:754371)。

本文通过引入累积发生函数 (Cumulative Incidence Function, CIF) 来应对这一根本性挑战，CIF 是一种更忠实、更准确地衡量真实世界中风险的方法。我们将探讨这一统计概念如何通过恰当考虑所有可能结局之间复杂的相互作用，来提供事件概率的真实度量。首先，在“原理与机制”部分，我们将解构[竞争风险](@entry_id:173277)背后的逻辑，揭示简单方法的缺陷，并从其基本组成部分构建 CIF。随后，“应用与跨学科联系”部分将展示 CIF 在不同领域的深远影响，说明它如何为患者护理提供信息、验证临床试验、解决明显的悖论，并推动从卫生经济学到机器学习等领域的创新。

## 原理与机制

### 一个简单的命运问题

在我们探索世界的过程中，能对任何过程提出的最基本问题之一是：它发生的几率有多大？例如，如果我们追踪一群人，观察他们何时患上某种特定疾病，我们可能会问，一个人在时间点 $t$ 之后仍然无病的概率是多少。我们称之为**生存函数**，记作 $S(t)$。它从 $1$ 开始（开始时每个人都健康），并随着事件的发生而随时间递减。到时间点 $t$ 时事件*已经*发生的概率就是 $1 - S(t)$。

这个简洁的图景在我们只关心一个事件时是完美的。但你可能已经注意到，生活很少如此简单。更多时候，我们是在与多种可能的未来赛跑，每一种都在争夺我们的注意力。

### 风险的赛跑

想象一下，一项针对老年人群的新心脏病药物的临床试验。我们想知道这种药物是否能预防心脏病发作导致的死亡。但这些患者也有死于其他原因（如癌症或中风）的风险。如果一名患者死于癌症，那么他/她就以一种相当终极的方式，被移除了死于心脏病发作的风险。心脏病发作死亡和癌症死亡这两个事件就是**[竞争风险](@entry_id:173277)**。一个事件的发生使得另一个事件不可能发生 [@problem_id:4743774] [@problem_id:4624474]。

这不仅仅是一个病态的思想实验；它几乎是所有长期健康研究的现实。当我们研究疾病进展时，死亡是一个[竞争风险](@entry_id:173277) [@problem_id:4984017]。当我们研究癌症特异性死亡时，其他原因导致的死亡也在与之竞争 [@problem_id:4505485]。这种竞争彻底改变了我们计算和思考概率的方式。

### 简单方法的缺陷

一个初步的、非常诱人的想法可能是简单地忽略这种竞争。如果在我们的心脏病药物试验中，一名患者死于癌症，我们或许可以说：“嗯，我们无法观察到他们的心脏结局，所以就把他们当作退出研究来处理吧。”用统计学术语来说，我们称之为“删失”(censoring)。

但这是一个根本性的错误。统计学中的删失应该是*非信息性*的。这就像裁判在两名拳击手都还站着的时候终止比赛。我们不知道谁会赢，但我们假设他们未来的获胜机会与仍在场上的其他人相同。而因竞争原因导致的死亡则完全不同。这是一次击倒。比赛结束了，我们感兴趣的事件（心脏病发作死亡）对该[个体发生](@entry_id:164036)的几率已降至零。

如果我们使用像 Kaplan-Meier 估计量这样的标准生存分析方法，并将癌症死亡视为删失，我们实际上是在假装那些个体本可以以某种神奇的方式仍然死于心脏病发作。这种方法最终估计的是在一个癌症不存在的虚构世界里心脏病发作的概率。这个量，有时被称为“净概率”，几乎总是对真实世界风险的高估，并可能导致严重的误导性结论 [@problem_id:4505485] [@problem_id:4579887]。

### 一种更忠实的核算：累积发生函数

那么，我们如何得到一个忠实的数字呢？我们需要一个量，它能告诉我们一个个体在某个时间点 $t$ 之前经历特定事件（比如原因 $k$）的实际概率，同时考虑到所有其他风险都存在于真实世界中。这个量被称为**累积发生函数**，或 **CIF**。

原因 $k$ 的 CIF，我们可以记作 $F_k(t)$，是两件事发生的联合概率：事件在时间点 $t$ 或之前发生，*并且*事件的原因是 $k$。我们写作 $F_k(t) = P(T \le t, J=k)$，其中 $T$ 是事件发生的时间， $J$ 是其原因 [@problem_id:4743774]。这是该事件真实的、“粗略的”绝对风险。

CIF 的一个优美特性是，如果你将所有可能的竞争原因的 CIF 相加，你将得到在那个时间点之前*任何*事件已经发生总概率。也就是说，$\sum_k F_k(t) = 1 - S(t)$，其中 $S(t)$ 是从所有事件中存活下来的概率 [@problem_id:4507582]。失败的总概率被整齐地划分给不同的失败方式。每个部分的蛋糕大小由其 CIF 给出。

### 变化的引擎：风险率与概率

要计算 CIF，我们必须深入了解驱动这些事件的引擎。对于每个原因 $k$，在任何给定时刻 $t$ 都存在一个瞬时风险，一种“危险等级”，称为**原因别风险率**，$\lambda_k(t)$。这是事件 $k$ 发生在某个在那一刻仍然无事件的人身上的速率 [@problem_id:4789381]。

现在，要计算到时间点 $t$ 时事件 $k$ 的累积概率，我们不能简单地将其危险等级随时间累加。为什么？因为能够经历事件 $k$ 的人群库在不断减少，不仅因为事件 $k$ 本身，还因为*所有*竞争事件。

在极小的时间片 $du$ 内发生事件 $k$ 的概率，是该事件的危险等级 $\lambda_k(u)$ 乘以你仍然存活以经历它的概率 $S(u)$。总的累积发生率就是从开始时间到 $t$ 的这些小概率碎片的总和——或者用微积分的语言来说，是积分：

$$F_k(t) = \int_0^t \lambda_k(u) S(u) du$$

这个公式是问题的核心 [@problem_id:4984017]。它优雅地将来自原因 $k$ 的特定危险与抵御所有危险的总体生存机会结合起来。

让我们考虑一个风险率恒定的简单案例：ICU 中与脓毒症相关的死亡风险率为每天 $\lambda_1 = 0.02$，与中风相关的死亡[风险率](@entry_id:266388)为每天 $\lambda_2 = 0.01$。总风险率为 $\lambda = 0.03$。在任何时刻，一个无事件的患者发生第一种事件的可能性是第二种的两倍。CIF 公式表明，这个简单的比例关系会贯穿到累积概率中。到时间点 $t$ 时脓毒症死亡的几率将恰好是中风死亡几率的两倍 [@problem_id:5227554]。这种简单的关系展示了潜在的速率如何直接塑造我们随时间观察到的概率。

### 预防的悖论

现在我们来看一个真正迷人的、几乎是悖论性的[竞争风险](@entry_id:173277)后果。想象一项大型临床试验，测试阿司匹林是否能预防老年人死亡 [@problem_id:4519118]。数据出来了，研究人员发现两件事：
1.  阿司匹林组的心血管 (CV) 死亡的原因别[风险率](@entry_id:266388)低 10%（风险比为 0.90）。这表明阿司匹林对心脏和血管有保护性的生物学效应。
2.  阿司匹林组 5 年内*因心血管原因死亡*的概率 (CIF) 实际上*高于*安慰剂组（例如，6% vs. 5%）。

这是怎么回事？阿司匹林失败了吗？它是否导致了它本应预防的事情？

答案在于第三条数据：阿司匹林组因非心血管原因死亡的[风险率](@entry_id:266388)大幅降低了 40%。阿司匹林在预防其他死因方面非常有效，以至于让更多的人活了下来，并“在赛场上”停留了更长时间。由于有更多的人从这些竞争风险中存活下来，在 5 年期间，剩余的 CV 死亡风险就有更多机会最终夺走他们的生命。

这是一个深刻的教训。原因别[风险率](@entry_id:266388)告诉我们**病因学效应**——即治疗对生物通路的直接影响。CIF 告诉我们**预后结局**——即一个人在真实世界中面临的绝对风险。一种治疗对患者绝对风险的最终影响，不仅取决于它对主要疾病的影响，还取决于它对所有其他可能结束他们故事的竞争方式的影响 [@problem_id:4519118]。

### 为竞争建模

科学家们已经开发了专门的工具来分析这些复杂的情景。当他们想要理解病因学效应——疾病过程的“为什么”时——他们通常使用像原因别 Cox 模型这样的模型，该模型[估计风险](@entry_id:139340)比 [@problem_id:4519118]。

然而，如果目标是预后——预测患者事件的绝对风险——他们需要一个直接针对 CIF 的模型。最常见的方法是 **Fine-Gray 模型** [@problem_id:4505485]。该模型建立在一个巧妙的数学构造上，称为**子分布风险率**。为了对事件 $k$ 的 CIF 进行建模，该[风险率](@entry_id:266388)使用了一个特殊的风险集：它包括仍然无事件的人，但它也*保留*了已经经历过竞争事件的人 [@problem_id:4789381]。这好像是那些死于癌症的人在计算心脏病发作死亡率时仍被保留在分母中。

从生物学角度来看，这听起来很奇怪，但它是一个数学工具，能出色地将协变量直接与 CIF 联系起来。这提醒我们，我们使用的数学工具，有时并非因其直接的物理类比而被选择，而是因为它们能够预测我们真正关心的量。在生命这场复杂的风险竞赛中，累积发生函数是我们最忠实、最具洞察力的记分员。

