## 引言
当我们的观察并非从最开始就启动时，我们如何准确地测量事件发生时间（time-to-event）结果？在从医学到社会科学的许多现实世界研究中，我们招募的受试者已经开始了他们的“旅程”——这种现象被称为**延迟进入 (delayed entry)** 或**左截断 (left truncation)**。这种常见情况带来了一个重大挑战：如果不考虑这些“晚期进入者”，我们的研究结果可能会被系统性地扭曲，导致对生存或风险得出危险的乐观结论。这种被称为“永生时间偏倚”(immortal time bias) 的错误，源于将未被观察到的存活期错误地当作无事件发生的时间。本文旨在揭开延迟进入问题的神秘面纱，并为其解决方案提供清晰的指引。

第一部分**“原理与机制”**将剖析核心问题，区分左截断与[左删失](@entry_id:169731)，解释永生时间偏倚如何造成“幸存者的诅咒”，并详细阐述动态调整风险集的正确统计方法。随后，在**“应用与跨学科联系”**部分，我们将探讨这一概念在各个领域的深远影响。我们将看到，无论是估计[遗传病](@entry_id:273195)风险、进行公平的临床比较，还是为流行病学研究选择最自然的时间尺度，正确处理延迟进入都至关重要。

## 原理与机制

### 晚期进入者问题

想象一下，你的任务是研究一种新型灯泡的寿命。你开始了一项宏大的实验，拧上一百个新灯泡并启动秒表。但为了获得更多数据，你的老板让你把邻近实验室已经运行了一段时间的灯泡也包括进来。你尽职地记录下这些“晚期进入者”何时烧坏。现在，一个关键问题出现了：你该如何分析这些合并后的数据？你能把一个已经亮了 500 小时的灯泡和一个你刚打开的灯泡同等对待吗？

当然不能。那个旧灯泡已经证明了它至少能持续 500 小时。而新灯泡则什么都还没证明。将它们混为一谈会造成一种扭曲的景象，使得灯泡看起来比实际更耐用。这个简单的思想实验捕捉到了医学和社会科学中一个基本挑战的精髓：**延迟进入 (delayed entry)**，也称为**左截断 (left truncation)**。

在科学研究中，我们常常试图测量从一个起点——如疾病诊断、治疗开始，甚至出生——到一个特定事件——如康复、疾病进展或死亡——的时间。在理想世界中，我们会从每个人的确切起点开始跟踪。但世界是复杂的。我们的研究往往在人们的“时钟”开始计时很久之后才开始。考虑一个在 2015 年建立的慢性病患者登记系统。它自然会招募那些在 2014 年、2010 年甚至更早被诊断的患者，只要他们在签署知情同意书时还活着。[@problem_id:4985853] 这些就是我们的晚期进入者。关键在于，我们*仅仅*能看到那些存活时间足够长、得以进入我们研究的人。任何在能够被招募*之前*就被诊断并经历事件的人，都成了我们数据中的“幽灵”；我们永远不知道他们的存在。[@problem_id:4962211]

将这种情况与另一种不完整信息——**[左删失](@entry_id:169731) (left censoring)**——区分开来至关重要。对于[左删失](@entry_id:169731)，我们知道某个人存在，并且他们的事件发生在某个时间*之前*，但我们不知道确切的日期。例如，在研究开始时，我们可能发现一名患者已经患病；我们知道其发病时间是在过去的某个时候，但记录已经丢失。[@problem_id:4547024] 这就像在一张椅子上发现一张纸条，上面写着：“上午 9 点前有人来过。”我们拥有信息，尽管不完整。左截断则不同。它是一张空椅子。我们没有纸条，没有记录，对那个可能在我们就开始寻找之前就已经经历事件并消失的人一无所知。他们从我们的现实样本中被截断了。

### 永生错觉与幸存者的诅咒

如果我们未能认识到这种区别会怎样？如果我们将晚期进入者当作从一开始就和我们在一起的受试者来对待会怎样？其后果不仅仅是微小的统计不准确性，而是会导致一种深刻且误导性的错觉。这种错误如此普遍和危险，以至于它有自己的名字：**永生时间偏倚 (immortal time bias)**。[@problem_id:5228327]

假设一名患者在时间 $t=0$ 被诊断，并在稍后的进入时间 $E_i$ 加入我们的研究。从 $0$ 到 $E_i$ 这段时间，*从我们研究的角度来看*，是该患者的“永生”时间。为了被纳入我们的数据，他们*必须*在这段时间内幸存下来。在此期间，死亡对他们来说不是一个选项，否则我们永远不会遇到他们。

如果我们天真地将这段永生的、无事件的时间计入我们的分析——例如，将其归功于他们在时间 $E_i$ 可能开始的治疗——我们就会制造出一种强大的偏倚。我们的研究队列被人为地富集了幸存者。这是一种“幸存者的诅咒”：由于我们抽样方法的本质，我们筛选掉了体弱者，留下了强者。这是一种**选择偏倚 (selection bias)**，更具体地说，是**[长度偏倚](@entry_id:269579)抽样 (length-biased sampling)**，因为存活时间较长的人更有可能被抽样到。[@problem_id:4985853] [@problem_id:4638772]

其影响可能是巨大的。想象一种假设的疾病，从诊断开始，其生存概率遵循半衰期为一年的指数衰减。真实的一年生存率 $S(1)$ 恰好是 0.5。现在，假设我们从一个现患队列（prevalent cohort）——即在特定日期所有存活患者的快照——中收集研究对象，并天真地分析他们自诊断以来的生存情况，而忽略了他们都是“晚期进入者”。由于我们的样本中长期幸存者的比例过高，我们的分析将变得极为乐观。对这种情况的严格计算表明，我们对一年生存率的天真估计会收敛到约 $0.846$——这与真实值 $0.5$ 相比是一个巨大的高估！[@problem_id:4576772] 这不仅仅是一个统计上的细节问题；这相当于告诉患者他们有一年 50% 的生存机会，而实际上是 85%。原则很明确：忽略延迟进入会系统性地夸大生存估计并低估风险。[@problem-id:4962211] [@problem-id:4605638]

### 正确的视角：调整风险集

那么，我们如何摆脱这种错觉呢？解决方案在概念上异常简单：我们必须对自己所知的内容以及何时知晓保持诚实。我们不能因为一个人在他们未被我们观察的时期内存活而给予“功劳”。

在生存分析中，任何时间点 $t$ 的核心计算都围绕着**风险集 (risk set)**。为了[估计风险](@entry_id:139340)率（hazard）——即事件的瞬时风险——我们计算一个比率：在时间 $t$ 发生事件的人数除以在时间 $t$ *可能*发生事件的人数。这个分母就是风险集。永生时间偏倚的错误在于，在人们甚至还没到达我们研究的“派对”之前，就把他们放入了风险集。

正确的程序是动态地定义风险集。个体 $i$ 在我们的研究中直到其特定的进入时间 $E_i$ 才处于风险之中。从那一刻起，他们就是风险集的一部分，直到他们经历事件或被[右删失](@entry_id:164686)（例如，他们搬走或研究结束）。这意味着我们对每个人所需的最小数据是一个三元组：$(E_i, X_i, \Delta_i)$，其中 $E_i$ 是进入时间， $X_i$ 是[退出时间](@entry_id:193122)（由于事件或删失），而 $\Delta_i$ 是一个指示符，告诉我们是哪种情况。[@problem_id:4576982]

有了这些信息，构建任何时间点 $t$ 的风险集的规则就变得简单而直观：个体 $i$ 在风险集中，当且仅当 $E_i \le t \le X_i$。也就是说，他们必须已经进入研究，并且尚未离开。[@problem_id:4962098] 通过遵循这条规则，我们确保在任何时刻，我们风险计算的分母都恰当地反映了那些真正处于观察之下并且有资格经历事件的人群。风险集的大小现在会随着新受试者的进入而正确增加，随着他们退出而减少，从而描绘出队列动态现实的真实图景。[@problem_id:4605638]

### 知识的边界：可识别性问题

即使有了这种强大而正确的方法，关于知识的局限性，还有一个深刻的教训。让我们回到我们的患者登记系统。假设第一位患者是在 2010 年 1 月 1 日被招募的。我们称这个最早的进入时间为 $t_0$。使用我们正确的风险集定义，我们可以准确地估计 2010 年*之后*患者的生存轨迹。但是，关于 2009 年或 2008 年的生存概率，我们能说些什么呢？

诚实的回答是：**什么也说不了**。至少，单从这些数据来看是这样。

数据对于第一个人被观察到之前的那段时期是完全沉默的。由于在 $t_0$ 之前没有人处于风险集中，我们对于区间 $[0, t_0)$ 内事件的[风险率](@entry_id:266388)没有任何信息。这意味着我们无法估计从诊断开始的绝对生存概率 $S(t) = \Pr(T > t)$。我们所能做的最好的事情是估计*条件*生存概率：$\Pr(T > t \mid T \ge t_0)$，也就是*在已知你已经存活到时间* $t_0$ 的情况下，存活超过时间 $t$ 的概率。[@problem_id:4989583]

这就是统计学中**可识别性 (identifiability)** 的概念。如果我们的数据是截断的，绝对生存曲线是不可识别的。我们可以了解它在 $t_0$ 之后的形状，但我们无法知道它的绝对水平。要找到真实的、无条件的生存率，我们需要外部信息，或者必须对未观察到的过去发生的事情做出强有力的、无法检验的假设。[@problem_id:4989583] 这是一个令人谦卑的提醒，即便是我们最复杂的方法，也只能报告我们所观察到的世界。

然而，这个局限性也揭示了其自身的解决方案。如果我们的研究设计能够确保我们至少捕捉到一些从其真实时间原点 ($t=0$) 开始的个体，那么最早的进入时间就变成了 $t_0=0$。不可识别的区间就消失了！在这种情况下，条件生存概率 $\Pr(T > t \mid T \ge 0)$ 就变得与绝对生存概率 $\Pr(T > t)$ 相同，整个生存曲线都变得可知了。[@problem_id:4989583] 晚期进入者的问题，通过确保有人从一开始就在场，就简单地解决了。

