## 引言
在制药和医疗诊断等高度管制的领域，仅仅断言一台设备或一个软件系统“能用”是远远不够的。这其中涉及的风险太高。为确保安全性和有效性，我们需要有文件记录的、客观的证据，证明每个关键系统都是可靠的，并适用于其预期用途。这种对可验证信任的需求，通过一个被称为“确认”的结构化、逻辑化过程来解决，而“确认”正是现代[质量保证](@entry_id:202984)的基石。

本文深入探讨了安装确认 (IQ)、运行确认 (OQ) 和性能确认 (PQ) 这一精妙而强大的框架。文章剖析了这一三步序列如何构建起一个证据金字塔，从而建立对系统性能的信心。在接下来的章节中，您将全面理解这一基本方法学。第一章“原理与机制”解释了 IQ、OQ 和 PQ 的核心逻辑、设备确认与[方法验证](@entry_id:153496)之间的区别，以及基于风险的方法和变更控制的作用。随后的章节“应用与跨学科联系”则探讨了这些原理如何应用于各种不同的领域，从实体实验室仪器和[医疗植入物](@entry_id:185374)，到复杂的软件和前沿的人工智能模型。

## 原理与机制

我们如何知道某个东西是有效的？这是一个简单的问题，但答案可能出人意料地深刻，尤其是在风险很高的情况下——比如确保一种药物是安全的，或者一项医疗诊断是正确的。在受监管的科学领域，我们不能只是“即插即用，看看效果”。我们需要一个结构化的、逻辑化的过程来建立信心。这个过程被称为**确认**，它是实验室和制造业质量的基石。这是科学方法的一个绝佳示范，它不仅应用于发现，更应用于可靠性本身。

该框架基于三个逻辑步骤的序列：**安装确认 (IQ)**、**运行确认 (OQ)** 和**性能确认 (PQ)**。可以把它想象成一个证据金字塔，每一层都为上一层提供基础。

### 证据金字塔：三步之旅

让我们想象一下，我们的实验室刚收到一台新的、简单的仪器，比如一台 pH 计 [@problem_id:1444034]。我们如何确保它已准备好投入使用？

首先，我们执行**安装确认 (IQ)**。这是基础性的、静态的检查。我们会问：我们收到的设备是我们订购的吗？所有部件，包括手册，都齐全吗？它是否安装在正确的位置，放置在水平的表面上，并插入合适的电源插座？IQ 是有文件记录的证据，[证明系统](@entry_id:156272)已根据制造商的建议和我们自己的场地要求正确安装。这就像在开始砌墙之前检查房屋的地基。你必须先验证系统已正确放置并配置妥当，然后才能考虑开启它 [@problem_id:5128054]。

接下来，在稳固的 IQ 基础上，我们进入**运行确认 (OQ)**。现在我们打开仪器，测试其核心功能。电源按钮能用吗？显示屏会亮吗？所有按钮，如“校准”或“测量”，是否都如手册所述那样响应？OQ 是动态的验证，证明仪器的各个组件和功能都按照其设计规范正常运行。它回答了这样一个问题：“这台机器是否按设计工作？”此时我们尚不关心它是否给出*正确的* pH 值，只关心其内置功能是否可操作。

只有在确认仪器已正确安装 (IQ) 并且其功能正常 (OQ) 之后，我们才能登上金字塔的顶端：**性能确认 (PQ)**。在这里，我们终于要问最重要的问题：“它在*我特定的用途*下能否正确、可靠地工作？”对于我们的 pH 计来说，这意味着用经过认证的标准缓冲液来挑战它。它能否持续、准确地测量出 $4.01$、$7.00$ 和 $10.01$ 的 pH 值？在真实世界的实验室条件下，它能否在数天或数周内持续做到这一点？PQ 提供了有文件记录的证据，[证明系统](@entry_id:156272)作为一个集成过程的一部分，能够持续产生满足预定接受标准的结果。

这个 IQ、OQ、再到 PQ 的顺序并非随意的。这是一个逻辑上的递进过程 [@problem_id:1444034]。测试一台基本功能不正常的仪器的性能，或者测试一台甚至没有正确安装的仪器的功能，都是毫无意义的。

### 从简单工具到复杂系统：普适的逻辑

IQ/OQ/PQ 框架真正的魅力在于其普遍性。它能从一个简单的 pH 计无缝扩展到极其复杂的系统。想象一个拥有机械臂、清洗机和成像仪的全自动实验室 [@problem_id:5128054]，或者甚至是一个纯软件的实验室信息管理系统 (LIMS)，该系统管理着一家医院所有的诊断数据 [@problem_id:5229695]。其原理保持不变。

对于 LIMS 而言，IQ 不是关于物理电源线，而是验证正确的软件版本是否安装在具有正确操作系统、数据库配置和安全补丁的服务器上。OQ 不是测试物理按钮，而是挑战软件的功能：[基于角色的访问控制](@entry_id:754413)是否有效？系统是否为每个操作都生成一个不可编辑的审计追踪，正如美国食品药品监督管理局 (FDA) 的《美国联邦法规》第 $21$ 章第 $11$ 部分 (Title $21$ CFR Part $11$) 所要求的那样？最后，PQ 证明了 LIMS 能够处理数千个样本的真实工作负载，并在经过培训的实际用户执行其日常任务时，满足周转时间等性能目标 [@problem_id:5229695]。无论是硬件还是软件，从安装到运行再到性能的信心构建逻辑都同样适用。

### 工具 vs. 规程：一个关键的区别

在这里，我们得出了一个微妙但至关重要的见解。对你的厨房烤箱进行确认 (IQ/OQ/PQ) 可以确保它能够稳定地保持在 $200^{\circ}\text{C}$ 的温度。但这并*不*能保证你用它烤出的蛋糕会美味。你还需要一个经过验证的**食谱**。

在科学领域，这就是**设备确认**（工具的 IQ/OQ/PQ）和**[方法验证](@entry_id:153496)**（规程的验证）之间的区别。分析方法是用于执行分析的具体的、分步的程序。例如，一个生物分析实验室可能拥有一台完美确认过的质谱仪，但用于从血液样本中提取一种新药的方法是一个独立的实体，也必须被证明是可靠的 [@problem_id:5018809] [@problem_id:5228794]。

[方法验证](@entry_id:153496)会提出以下问题：
- **准确度 (Accuracy)：** 我的测量值与真实值有多接近？
- **精密度 (Precision)：** 我的测量结果的可重复性如何？
- **专属性 (Specificity)：** 我的方法是否只测量我感兴趣的药物，还是会被血液中的其他物质所干扰？
- **耐用性 (Robustness)：** 如果温度略有不同，或者我们使用了新一批的试剂，这个方法是否仍然有效？

你需要一台经过确认的仪器和一个经过验证的方法才能生成可信的数据。这种双重保证就是系统**“适用于其预期用途”**的含义。其性能必须足以支持它旨在服务于的决策——无论是放行一批药品，还是确定临床试验中患者的正确剂量。整个系统，包括工具和规程，都必须维持在**“受控状态”**，即一种稳定且可预测的性能状态 [@problem_id:5018809]。同样至关重要的是要记住，虽然供应商可能会提供一台经过确认的仪器，但使用它的实验室最终有责任验证它在自己的环境中、由自己的员工和按照自己的程序操作时，是否能按需运行 [@problem_id:5216323]。

### 效率的艺术：基于风险的方法

如果我们以同样详尽的严谨性测试一个复杂系统的每一个特性，验证将是一项成本高昂得令人难以想象且耗时巨大的任务。现代的方法，也是一种远为明智的方法，是根据风险来分配我们的精力。这就是验证的**基于风险的方法**。

想象一下验证一个用于临床试验的软件 [@problem_id:4557939]。一个能够自动阻止医生给安全实验室结果异常危险的患者用药的功能，是一个高风险特性。这里的失败可能对参与者的安全造成严重后果。相比之下，一个定义数据输入屏幕上按钮颜色的特性是低风险的。它的失败仅仅是一个外观上的不便。

我们通过评估风险来将这种直觉形式化，风险是三个因素的函数：失败影响的**严重性 ($S$)**、其**发生率 ($O$)** 和其**[可检测性](@entry_id:265305) ($D$)** [@problem_id:4557939]。具有高风险——即高严重性、高发生率或低[可检测性](@entry_id:265305)——的特性将接受最严格和最全面的测试。我们将精力集中在最重要的地方。这使我们能够为一个系统的可靠性构建一个强大且可辩护的论证，而不会迷失在琐碎的细节中 [@problem_id:5229665]。

### 一个活的系统：变更控制和持续警惕

确认不是一次性事件；它是一个生命周期的开始。一个系统诞生时处于“验证状态”，我们的工作是确保它保持在该状态。但系统存在于一个动态的世界中。事物会发生变化。例如，当 IT 部门强制要求为一个已验证的色谱数据系统升级服务器的操作系统 (OS) 时，会发生什么？[@problem_id:1444046]

什么都不做是鲁莽的，因为操作系统的变更可能会悄悄地破坏关键功能，如仪器驱动程序或数据存储。从头开始进行完整的重新验证则是浪费的，因为应用程序软件本身并没有改变。精妙的解决方案是由风险评估指导的**变更控制**。

我们分析变更并提问：“这可能会影响到什么？”操作系统升级不太可能改变应用程序内部的核心计算算法，但它很可能会影响应用程序与网络、打印机或文件系统的通信方式。然后我们执行有针对性的重新确认：
1.  一个完整的**IQ**，以记录在新操作系统上的新安装。
2.  一个局部的、有针对性的**OQ**，特别关注已识别的高风险功能（例如，打印、数据备份、仪器通信）。
3.  一个代表性的**PQ**测试（例如，运行一个众所周知的[标准品](@entry_id:754189)），以确认整个端到端过程仍然按预期工作。

这种方法高效、智能且科学合理。它确保系统在其整个生命周期内保持受控状态。

这种警惕性延伸到持续的监控。对于制药厂中的纯化水系统这样的关键公用设施，我们不只是一次性地确认它。我们必须持续监控它以确保其保持纯净。我们可以利用科学来设计我们的监控计划。例如，通过将[微生物污染](@entry_id:204155)建模为泊松过程，我们可以精确计算出每天需要采集多少样本，才能以（比如说）$90\%$的确定性在两周内检测到微生物水平的微小增长 [@problem_id:5068715]。这是该原则的终极体现：从一个简单的三字母缩写词出发，我们可以构建一个全面的、基于风险的、并有数学依据的系统来确保质量和安全，为将拯救生命的疗法带给世界提供无可辩驳的证据。

