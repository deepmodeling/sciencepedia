## 引言
测量带有弯曲边界物体的古老问题，由 Archimedes 著名地解决，是数学中最强大的思想之一——积分——的核心。虽然我们直观上能理解“曲线下面积”的概念，但我们如何才能为这个量给出一个逻辑上严谨的定义，特别是对于复杂和行为不规则的函数？这个问题揭示了几何直觉与数学确定性之间的基础性鸿沟。本文将深入探讨[上和与下和](@article_id:306649)的机制——用于构建定积分的基本工具，来弥合这一鸿沟。

我们将从“原理与机制”开始，在这里我们使用矩形来构造面积的低估值和高估值，模仿 Archimedes 的古老策略。你将学习到确定一个函数是否“可积”的精确判据——也就是说，这个“挤压”过程能否成功地确定一个单一、明确的面积值。然后，我们将转向“应用与跨学科联系”，发现可积函数丰富的[代数结构](@article_id:297503)，并识别哪些类型的函数（从光滑到不连续）能够通过可[积性](@article_id:367078)检验。这段旅程不仅将巩固你对[积分学](@article_id:306713)的理解，还将揭示其与计算机科学和物理学等领域的深刻联系。

## 原理与机制

我们如何测量带有弯曲边缘的物体？这是一个古老的问题，曾困扰古代最伟大的思想家。想想如何计算圆的面积。Archimedes 有一个绝妙的想法：将圆夹在两个多边形之间。他在圆内画一个多边形，在圆外画另一个。圆的面积，无论其值如何，都必须大于内接多边形的面积，小于外切多边形的面积。通过使用越来越多边数的多边形，他能够以越来越高的精度“挤压”出真实的面积。

这种将未知量夹在低估值和高估值之间的优美而直观的想法，恰恰是[积分学](@article_id:306713)的核心。这也是我们将要探讨的核心机制。我们将用一系列简单的矩形代替多边形，但游戏精神是完全相同的。我们将构建两种近似：一个完全位于我们曲线下方的矩形构成的“下和”，以及一个完全覆盖曲线的矩形构成的“上和”。当我们让矩形变得越来越窄时，观察这两个和的行为，奇迹便会发生。

### 框定一条直线

让我们从最简单的情景开始我们的旅程。想象的不是一条曲线，而是一条由函数 $f(x) = c$ 在某个区间 $[a, b]$ 上定义的完全平坦的水平线。这里的“曲线下面积”只是一个宽度为 $(b-a)$、高度为 $c$ 的简单矩形。我们从初等几何学中知道，它的面积恰好是 $c(b-a)$。我们的新方法能证实这一点吗？

首先，我们做 Archimedes 做过的事：分割我们的定义域。我们通过选择一组称为**分割**的点 $P = \{x_0, x_1, \dots, x_n\}$ (其中 $a=x_0$ 且 $b=x_n$)，将区间 $[a, b]$ 切成更小的部分。对于每个小子区间 $[x_{i-1}, x_i]$，我们将构建两个矩形。第一个，我们的“低估”矩形，其高度等于函数在该子区间上的*最小值*。第二个，我们的“高估”矩形，其高度等于*最大值*。

所有矮的、低估的矩形的总面积称为**[下达布和](@article_id:304812)**，记作 $L(P,f)$。所有高的、高估的矩形的总面积称为**[上达布和](@article_id:302748)**，记作 $U(P,f)$。

对于我们的常数函数 $f(x) = c$，这个过程几乎简单得可笑。在任何子区间上，$f(x)$ 的最小值是多少？是 $c$。最大值是多少？也是 $c$。完全没有变化！这意味着对于我们分割的每一小块，矮矩形和高矩形都是完全相同的。

当我们把它们的面积加起来时，我们发现[下和与上和](@article_id:308123)完全相等。两者都等于 $c(b-a)$，并且这对我们能想到的*任何*分割 $P$ 都成立 [@problem_id:1344397]。面积从一开始就被完美地“框定”了。我们的高估值和低估值之间没有任何差距。这提供了一个关键的基准：对于最简单的情况，该方法完美且明确地有效。

### 挤压策略：缩小差距

如果函数不是常数会发生什么？让我们以一个简单的增函数为例，比如 $f(x) = x^2$ 在区间 $[0, 2]$ 上。因为函数总是在上升，所以在任何子区间 $[x_{i-1}, x_i]$ 上，最小值将出现在左端点 $f(x_{i-1})$，最大值将出现在右端点 $f(x_{i})$。

让我们从一个非常粗略的分割开始，简单地将区间一分为二：$P = \{0, 1, 2\}$。
- 对于第一个子区间 $[0, 1]$，最小高度是 $f(0)=0$，最大高度是 $f(1)=1$。
- 对于第二个子区间 $[1, 2]$，最小高度是 $f(1)=1$，最大高度是 $f(2)=4$。

计算这些和，我们得到下和 $L(P,f) = (0 \times 1) + (1 \times 1) = 1$，以及上和 $U(P,f) = (1 \times 1) + (4 \times 1) = 5$ [@problem_id:1344395]。我们对真实面积的估计被困在 1 和 5 之间。这是一个相当大的差距！我们怎样才能做得更好呢？

答案再次来自 Archimedes：使用更多边，或者在我们的情况下，使用更精细的分割。让我们在分割中再增加一个点，比如 $x=\frac{1}{2}$，创建一个新的、“加细的”分割 $P' = \{0, \frac{1}{2}, 1, 2\}$。会发生什么？区间 $[1,2]$ 保持不变，但区间 $[0,1]$ 被分开了。通过将一个较大的矩形分成两个较小的矩形，我们从上和中削减了一些多余的面积，并填补了下和中的一些空白空间。如果你进行计算，你会发现新的上和比之前小，新的下和比之前大 [@problem_id:1450106]。

这揭示了一个基本而优美的原则。如果一个分割 $P'$ 是 $P$ 的一个**加细**（意味着 $P'$ 包含 $P$ 的所有点并且至少多一个点），那么：
$$ L(P, f) \leq L(P', f) \quad \text{and} \quad U(P', f) \leq U(P, f) $$
在我们的分割中增加更多的点永远不会使我们的估计变差；它只会从两侧挤压差距，使我们的下界和上界更接近。

### 成功的判据

这就引出了一个关键问题：我们是否总能通过使分割足够精细，来使[上和与下和](@article_id:306649)之间的差距任意小？

让我们用一些行为良好的函数来研究一下。考虑在 $[0, L]$ 上的线性函数 $f(x) = kx + d$，将其分割成 $n$ 个相等的子区间。[上和与下和](@article_id:306649)之间的差距 $U(f, P_n) - L(f, P_n)$ 结果为 $\frac{k L^{2}}{n}$ [@problem_id:2296391]。对于函数 $f(x)=1/x$ 在 $[1,2]$ 上，差距是 $\frac{1}{2n}$ [@problem_id:37543]。注意到规律了吗？在这两种情况下，差距都与子区间的数量 $n$ 成反比。随着我们增加 $n$，使我们的分割越来越精细，差距会趋向于零！

这是胜利的时刻。当我们能使差值 $U(f, P) - L(f, P)$ 任意接近于零时，我们就成功了。我们称该函数是**达布可积的**（或**[黎曼可积](@article_id:307151)的**，这两个概念是等价的）。这个条件是检验一个函数下方是否具有明确定义面积的试金石 [@problem_id:1344141]。[上和与下和](@article_id:306649)共同收敛到的那个值，就是**定积分**的唯一真实值，记作 $\int_a^b f(x) \, dx$。

我们可以更精确地说明是什么导致了差距。在任何给定的子区间上，函数的[最大值和最小值](@article_id:306354)之差 $M_k - m_k$ 被称为函数在该区间上的**振幅**。[上和与下和](@article_id:306649)之间的总差距就是每个子区间的振幅乘以其宽度的总和 [@problem_id:2296380]。因此，如果通过选择足够窄的矩形，我们可以使这些振幅的总影响消失，那么函数就是可积的。对于[连续函数](@article_id:297812)，小区间意味着小振幅，这就是为什么它们是如此完美可积的原因。

### 当挤压失败时：[病态函数](@article_id:302624)之美

这种挤压策略总是有效吗？每个函数都是可积的吗？如果真是这样，世界会更简单，但远没有那么有趣。自然界中存在一些拒绝被固定的函数。

考虑一个真正奇特的生物，**Dirichlet 函数**的一个变体。让我们定义一个函数，如果 $x$ 是有理数（分数），则函数值为 $c_1$；如果 $x$ 是无理数（如 $\pi$ 或 $\sqrt{2}$），则函数值为 $c_2$，且 $c_1 > c_2$。试着想象这个函数。它不是一条[线或](@article_id:349408)一条曲线；它是由两个不同值构成的、难以理解的“尘埃”，它们紧密地交织在一起，无法分离。

当我们在这里应用我们的方法时会发生什么？让我们取分割中的*任何*子区间，无论它多么微小。实数的一个深刻性质是，每个区间都同时包含[有理数和无理数](@article_id:352447)。这意味着在每个子区间上，函数都会取到 $c_1$ 和 $c_2$ 这两个值。

所以，对于我们分割中的每一个矩形：
- 最大高度 $M_i$ 总是 $c_1$。
- 最小高度 $m_i$ 总是 $c_2$。

当我们计算和时，上和总是 $c_1(b-a)$，下和总是 $c_2(b-a)$，*无论分割如何* [@problem_id:1344399]。加细分割完全不起作用。差距是永久的。它固定在 $(c_1 - c_2)(b-a)$。挤压完全失败。这样的函数是**不可积的**。没有一个单一、明确的数字可以代表这个混沌点云下的“面积”。上积分和[下积](@article_id:319129)分顽固地保持分离 [@problem_id:585959]。即使对于像 $f(x)=x$（对于有理数）和 $0$（对于无理数）这样有某种“结构”的类似函数，下和仍然固定为零，而上和虽然可能随着加细而减小，但永远无法足够接近以与之相遇 [@problem_id:2313826]。

从简单的直线到混沌的尘埃，这次探索揭示了数学最基本思想之一的力量和局限。[上和与下和](@article_id:306649)的机制为定义面积提供了一种严格的方法，但它也作为一个诊断工具，将“行为良好”的函数与“病态”的函数区分开来。该方法的成功为我们带来了积分，这是现代科学的基石。它的失败则教会了我们关于数学世界本身惊人而复杂的结构。