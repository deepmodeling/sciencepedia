## 应用与跨学科联系

你可能认为相机只是一个捕捉“所见即所得”的简单盒子。镜头收集光线，传感器记录它，然后，一张照片就诞生了。这是一个不错的故事，但它忽略了其中的魔力。如果我们不把相机看作被动的记录者，而是主动的测量设备呢？如果你看到的图片并非传感器捕捉到的那张，而是一个从巧妙的测量中通过计算重建出的更深层次的真实，那又会怎样？这就是[计算摄影学](@article_id:366894)的世界，一个刚性的光学定律与流动的[算法](@article_id:331821)力量相遇的领域。在探索了其基本原理之后，我们现在深入这个领域，看看这些思想如何为世界创造出一系列非凡的新“眼睛”，从挑战光的物理极限的显微镜，到甚至能以非传统方式、无需镜头便可成像的相机。

### 计算打磨的艺术：完善不完美的图像

没有完美的物理仪器。即使是非常昂贵的镜头，也存在会扭曲图像的像差。传统的完美之路是研磨更多的玻璃，在镜筒中增加越来越多的镜片以物理方式抵消这些误差。而计算方法则像一位数字工匠，他不是增加更多的玻璃，而是在图像拍摄后，应用一种精确制定的数学“抛光剂”。

考虑一种最基本的[像差](@article_id:342869)：[场曲](@article_id:360941)。一个简单的透镜自然地倾向于在一个[曲面](@article_id:331153)上形成图像，就像一个浅碗。如果我们使用平坦的电子传感器——所有现代相机都是如此——那么只有画面正中心才会清晰对焦，而边缘则会变得模糊。然而，我们可以以惊人的精度来表征这种不完美。透镜的物理学精确地告诉我们，随着我们远离图像中心，这个模糊圈的半径是如何增大的。有了这些知识，我们就可以设计一种计算“解毒剂”——一种[反卷积](@article_id:301675)[算法](@article_id:331821)，其校正强度在图像上各不相同，对边缘的锐化程度高于中心 [@problem_id:2225215]。这就好像我们用软件创造了一个“完美”的镜头，一个用计算而非玻璃来弯曲光线的镜头。

这个原理远不止适用于简单的镜头缺陷。我们成像流程中的每个组件都可能有其自身的怪癖。在许多先进系统中，我们使用一种称为[空间光调制器](@article_id:329604)（SLM）的设备将光图案投射到场景上。理想的SLM应该是一个由微小、独立的[光开关](@article_id:376500)组成的完美网格。但实际上，电子“[串扰](@article_id:296749)”可能导致一个像素受到其邻居的轻微影响。这种微小的硬件缺陷会在我们的光图案中引入不必要的关联。结果呢？最终重建的图像会被轻微地模糊掉。但是，同样，如果我们能够对这种[串扰](@article_id:296749)进行建模——如果我们知道一个像素将其状态“泄露”给邻居的程度——我们就能计算出由此产生的图像模糊的确切形式。我们可以找到这个硬件缺陷所产生的“模糊核” [@problem_id:718552]，而一旦我们知道了模糊，我们就离消除它不远了。这里的教训是深刻的：一个缺陷，一旦被理解和建模，就不再是一个缺陷；它只是我们[算法](@article_id:331821)可以逆转的物理过程的一部分。

### 协同设计：当[算法](@article_id:331821)重新定义相机

想象力的下一次飞跃是停止将计算仅仅视为一个清理步骤。如果[算法](@article_id:331821)从一开始就成为相机设计的核心部分呢？这就是“协同设计”的强大思想，即光学和[算法](@article_id:331821)共同发展，彼此了解对方的优势和劣势。

思考一下[景深](@article_id:349268)——场景中看起来足够清晰的距离范围。在传统相机中，你需要通过使用小光圈来换取大[景深](@article_id:349268)，但代价是进光量减少。但一个计算摄影师会问一个不同的问题：“忘掉‘足够清晰’。在多大的距离范围内，模糊程度温和到我仍然可以用我的[反卷积](@article_id:301675)[算法](@article_id:331821)完美地*逆转*它？”这个问题引出了一个全新的概念：“反卷积限制的[景深](@article_id:349268)” [@problem_id:946362]。这个新的[景深](@article_id:349268)不仅取决于镜头和光圈，还取决于传感器的特性和复原[算法](@article_id:331821)的极限。我们可能会故意拍一张略微模糊的照片，因为我们知道我们的[算法](@article_id:331821)可以可靠地将其锐化，并在此过程中，达到仅靠镜头无法实现的景深。相机不再仅仅是镜头和传感器；[算法](@article_id:331821)现在已成为一个基本的光学组件。

这种协同作用在贝叶斯推断的框架中得到了最美的体现。当我们试图从含噪声或不完整的数据中重建图像时，我们是在解决一个[逆问题](@article_id:303564)。通常，并不存在单一的、唯一的解。那么我们如何选择“最好”的那个呢？我们做一个有根据的猜测。我们引入关于图像*应该*是什么样子的*先验知识*。在[共聚焦显微镜](@article_id:378477)中，我们经常在低光条件下对生物样本成像，测量结果会受到单个[光子](@article_id:305617)到达随机性的困扰，这个过程由[泊松统计](@article_id:344013)描述。对数据进行简单的逆运算会产生一幅嘈杂、丑陋的混乱图像。然而，我们知道一个真实的生物标本通常是平滑的；它看起来不像椒盐噪声。我们可以将这种“平滑度”偏好在数学上编码为[吉洪诺夫正则化](@article_id:300539)项。最终的图像是通过优化一个目标函数找到的，该函数平衡了两件事：对我们实际测量的含噪数据的保真度，以及对物体是平滑的这一先验信念的符合度 [@problem_id:1005116]。这就是[最大后验估计](@article_id:332641)（MAP）的精髓，也是无数尖端成像系统背后的秘密武器。我们正在将测量的物理学与世界的统计知识相结合，以便比以往任何时候都更清晰地观察。

### 合成不可能：超越极限的视觉

有了这些强大的工具，我们现在可以尝试那些看似不可能的事情。一个多世纪以来，[显微镜学](@article_id:307114)一直受制于[衍射极限](@article_id:323973)，这是一个基本的物理障碍，它根据镜头的[数值孔径](@article_id:299324)（$NA$）和光的波长，规定了镜头能分辨的最小细节。但这真的是*成像*的根本限制，还是仅仅是*单个、简单镜头*的限制？

傅里叶叠层显微成像（FPM）给出了一个惊人的答案。我们从一个廉价的、低数值孔径的[物镜](@article_id:346620)开始。它本身只能产生低分辨率的图像。但现在，我们不用单一的、正向的光束来照射样本，而是用一系列倾斜的[平面波](@article_id:368882)，每一个都来自一个由简单LED阵列控制的不同角度。每一次倾斜照明都会将物体高频傅里叶谱的不同部分移入我们廉价[物镜](@article_id:346620)有限的“通带”中。我们为每个角度捕捉一张低分辨率图像。然后，计算机开始工作。通过在傅里叶域中对所有这些拼图碎片进行计算“拼接”，它组装出物体[频谱](@article_id:340514)的一幅更大的图景。结果呢？一幅令人惊叹的高分辨率图像，就好像它是用昂贵的高数值孔径[物镜](@article_id:346620)拍摄的一样。事实上，最终图像的有效[数值孔径](@article_id:299324)是物镜NA和照明NA的*总和* [@problem_id:2222329]。我们通过计算合成了一个“虚拟镜头”，它比我们开始时使用的物理玻璃强大得多。

这种捕捉完整“光场”而不仅仅是二维强度图的思想，也是数字全息的核心。如果我们能够记录到达传感器的光波的强度和相位，我们就捕捉到了关于该光波的一切可知信息。有了这些完整的信息，我们就可以用计算机来模拟该光波会做什么。我们可以通过计算将其在空间中向前或向后“传播”。这是通过将测量到的场与一个称为反向传播核的特殊数学函数进行卷积来实现的。在[菲涅尔近似](@article_id:372457)下，这个核的确切形式是一个旋转的[复指数函数](@article_id:349007) [@problem_id:945494]，它是波衍射物理学的直接结果。拥有这个工具意味着我们可以拍摄一张全息快照，然后在测量结束很久之后，通过计算将其重新聚焦到任何我们想要的深度。这就像拥有了一台光的时光机。

### 机器中的幽灵：无图像的成像

也许最令人费解的应用是那种似乎违背逻辑本身的应用。你能用一个完全没有空间分辨率的探测器——一个名副其实的单像素探测器——来为物体拍照吗？一个只能告诉你照射到它上面的光*总量*的探测器，就像一个测光表？惊人的答案是肯定的。这项技术被称为“[鬼成像](@article_id:369767)”。

它的工作原理如下。你不用均匀的光来照射你的物体，而是用一系列已知的、结构化的光图案。这些图案可以看起来完全随机，就像电视雪花。对于每个图案，你使用你的单像素“桶”探测器来测量穿过或从物体上反射的总光量。你会得到一系列数字，每个图案对应一个。就其本身而言，这个数列似乎毫无意义。但现在是见证奇迹的时刻。你将你的桶探测器读数列表与你使用的光图案进行关联。具体来说，要重建物体上某一点的亮度，你只对那些该点被照亮的测量值取桶信号的平均值。物体的图像从这个纯粹的计算过程中逐渐浮现。图像从未被镜头“拍摄”过；它隐藏在投射图案和桶信号之间的相关性中，一个只有[算法](@article_id:331821)才能揭示的“幽灵”。

与任何新技术一样，工程师们立即寻找改进方法。在一个名为差分[鬼成像](@article_id:369767)（DGI）的巧妙变体中，每投射一个[随机图](@article_id:334024)案，其[光刻](@article_id:368479)负片也会被投射。通过简单地从原始图案的桶信号中减去负片图案的桶信号，不仅可以消除任何杂散的背景光，还能使重建信号的强度精确地加倍 [@problem-id:718597]。此外，“随机”图案本身的统计特性也成为一个设计参数。图案应该是稀疏的，只有少数亮像素，还是密集的？对信噪比的详细分析表明，最终图像的质量关键取决于这一选择，最佳性能通常出现在图案占空比为 $0.5$ 时——也就是说，当它真正随机且无偏时 [@problem_id:718388]。这是最抽象层面的协同设计：优化的不是一块玻璃，而是光本身的统计特性。

### 一曲跨学科的交响乐

正如我们的旅程所示，[计算摄影学](@article_id:366894)并非光学的一个狭窄子领域。它是一场宏大的交响乐，指挥着一个由极其多样化的科学学科组成的管弦乐队。我们见证了波传播和像差理论的实际应用。我们严重依赖统计学来建立噪声模型和进行[贝叶斯推断](@article_id:307374) [@problem_id:1005116]。整个事业都运行在计算机科学和数值[算法](@article_id:331821)的引擎之上。而这一切都依赖于信号处理的基础。

事实上，即使是你电脑上熟悉的JPEG图像格式，也是这种思维方式的产物。自然图像不是随机的；它们包含平滑区域和相关性。离散余弦变换（DCT）在将这类图像的能量“压缩”到少数几个系数方面表现得非常出色，因为它的基函数与这些信号固有的统计特性非常匹配——用技术术语来说，DCT[基向量](@article_id:378298)是高度相关信号协方差矩阵[特征向量](@article_id:312227)的一个极好近似 [@problem_id:2395547]。正是这种来自信号处理的洞见，使我们能够存储和传输我们日益强大的计算相机所能产生的海量数据。

从光学和量子力学到统计学和计算机科学，[计算摄影学](@article_id:366894)将它们编织在一起。它改变了我们对“相机”能是什么以及“图片”是什么的定义。它证明了当我们意识到“看见”不仅仅是收集光，更是理解光时，所释放出的非凡力量。