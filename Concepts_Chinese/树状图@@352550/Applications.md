## 应用与跨学科联系

既然我们已经探索了树的基本原理，我们可能会想把它们归档到一个标有“抽象数学”的抽屉里。这样做将是一个巨大的错误。当你真正理解树的本质——一个由节点和分支组成且没有环路的结构——你就会开始在各处看到它们，它们的分支贯穿科学的结构，从生命的历史到物质的核心。树不仅仅是一个图表；它是一个透镜，一个组织复杂性、揭示隐藏关系以及描绘信息和进化流动的通用工具。让我们踏上一段旅程，穿越一些有趣的领域，看看这棵不起眼的树如何成为不可或缺的向导。

### 生命之树：阅读进化之书

[树状图](@article_id:330496)最著名和最直观的应用也许是在生物学中，它作为进化的标志性表征而存在。“[生命之树](@article_id:300140)”不仅仅是一个比喻；它是一个科学假说，一幅连接每一个生物的祖先关系地图。分支的末端是我们今天看到的物种，当我们沿着分支向根部回溯时，我们便在时间中旅行，遇见连接不同群体的[共同祖先](@article_id:355305)。

但我们如何构建这样一棵树呢？我们无法观察数百万年的进化过程。相反，我们扮演着分子历史学家的角色，阅读写在生物DNA中的“文本”。这个文本的某些部分变化非常迅速，而另一些部分则几乎保持原始状态达亿万年之久。想象一下，试图将一种语言的谱系追溯到几千年前。你不会去看现代俚语；你会去看表示“母亲”、“水”或“一”的词语——这些词语如此基础，以至于它们变化非常缓慢。在生物学中，我们也这样做。我们寻找那些功能如此关键以至于自然不允许太多变化的基因。调控动物基本身体构造的“[同源异形](@article_id:324773)盒”（homeobox）基因就是一个完美的例子。它们的序列是如此保守，以至于果蝇的[同源异形](@article_id:324773)盒与人类的惊人相似。正是这种在保守区域中缓慢、滴答作响的突变时钟，使我们能够深入洞察进化时间，并自信地将那些[共同祖先](@article_id:355305)生活在数亿年前的生物归为一组 [@problem_id:1723489]。

当我们比较不同互动群体的进化树时，故事变得更加有趣。考虑一种专门为特定仙人掌物种[授粉](@article_id:301108)的蛾。这种蛾的口器精确地适应了花的形状，而仙人掌的繁殖完全依赖于这种蛾。它们是进化上的伙伴，一同在时间中翩翩起舞。如果这种伙伴关系是古老的，我们可能会[期望](@article_id:311378)，当一个祖先蛾物种分裂成两个新物种时，它所[授粉](@article_id:301108)的祖先仙人掌也发生了分裂。这个过程，被称为[协同进化](@article_id:362784)，应该留下一个惊人的印记：蛾的[系统发育树](@article_id:300949)应该与仙人掌的系统发育树具有相同的分支模式，即相同的拓扑结构。发现这样的一致性，就像发现两份相互印证的独立历史记录，为一段亲密的共享历史提供了强有力的证据 [@problem_id:2316578]。

当然，历史并不总是那么整洁。虽然生物体基因组的某些“核心”部分忠实地由亲代传给子代，但其他“辅助”部分可以在远亲之间交换，这个过程称为[水平基因转移](@article_id:305689)。这在微生物中尤为常见。想象一部家族史，大部分故事是代代相传的，但偶尔会从一个完全不同家庭的书中拼接进一个章节。这可能导致相互矛盾的历史信号。通过从一组真菌的核心基因和辅助基因分别构建树，我们可能会发现它们的拓扑结构是不同的。我们甚至可以通过计算一个树中存在而另一个树中不存在的物种分裂或*二分划分*的数量，来数学上量化这种“树的不一致性”。这个度量，被称为Robinson-Foulds距离，为我们提供了一个数值，表示基因组不同部分所讲述的进化故事有多大[分歧](@article_id:372077)，从而为了解进化复杂而混乱的现实提供了一个窗口 [@problem_id:2307599]。

### 信息之树：从语言到决策

树的力量远远超出了生物学，延伸到任何信息具有层级结构的领域。想一想英语中的一个句子。它以线性的词串形式出现，但其下隐藏着一个由短语和从句组成的深层嵌套结构。形式语言学和计算机科学用*[解析树](@article_id:336607)*来捕捉这种结构。对于一个给定的语法——一套构建有效句子的规则——[解析树](@article_id:336607)显示了一个字符串如何从一个起始符号生成。对于一个非常简单的语法，其中句子 `S` 可以由两个较小的句子构成 (`S → SS`)，或者只是一个单词 `a` (`S → a`)，字符串“aaaaa”可以通过多种方式形成。它是 `(a(aaaa))` 还是 `((aa)(aaa))`？这些分组中的每一个都对应着一个不同的[解析树](@article_id:336607)。计算这些树的数量变成了一个优美的[组合数学](@article_id:304771)问题，揭示了构造一个长度为 $n$ 的序列的方法数由著名的卡特兰数给出 [@problem_id:1360033]。每当计算机编译代码或搜索引擎解释你的查询时，它都在导航这样一个[解析树](@article_id:336607)的森林。

这种用树来表示一系列分支选择的想法，是人工智能一个主要领域——决策树——的基础。[决策树](@article_id:299696)通过提出一系列简单问题来学习如何对事物进行分类。为了决定一种材料是否是太阳能电池的良好候选者，[决策树](@article_id:299696)可能首先会问：“它的[带隙](@article_id:331619)是否大于1.1 eV？”如果是，则沿着一个分支走；如果不是，则走另一个分支。每个分支都引向另一个问题，直到达到一个终端叶节点，该节点给出一个最终的分类。

虽然单个决策树可能很有用，但它的真正威力在于将许多决策树一起用于“[随机森林](@article_id:307083)”中。该模型从数据中构建数百或数千个略有不同的[决策树](@article_id:299696)。为了做出新的预测，它让森林中的每棵树“投票”。最终的分类就是获得最多票数的那个。对该预测的置信度就是为其投票的树的比例。这个简单而优雅的结合许多基于树的简单估计器的想法，被证明是[现代机器学习](@article_id:641462)中最强大和最广泛使用的[算法](@article_id:331821)之一，用于从医疗诊断到发现新材料的各种领域 [@problem_id:1312314]。

树在从原始数据中发现结构方面也具有不可估量的价值。在*[层次聚类](@article_id:640718)*中，我们从许多单个数据点开始——比如来自不同癌症肿瘤的基因表达谱——然后逐步将最接近的点合并在一起，从叶节点向上构建一棵树直到根节点。由此产生的图表，称为[树状图](@article_id:330496)，在所有尺度上直观地表示了数据中的结构。我们对“最接近”的定义至关重要。如果我们使用简单的欧几里得距离，我们可能会发现肿瘤根据它们被处理的实验室进行聚类，这是一种被称为“批次效应”的技术伪影。但如果我们使用一个更巧妙的度量，比如基于皮尔逊相关性的度量，我们就可以忽略这些简单的基线偏移，而根据基因活性的*模式*来对肿瘤进行分组。通过这种方式，[树状图](@article_id:330496)可以揭示癌症真实的、潜在的生物学亚型，这是一项具有巨大临床重要性的任务 [@problem_id:2379242]。这是一个多么美妙的想法——正确类型的树可以真正帮助我们见树又见林，过滤掉技术噪音，揭示深刻的生物学真理。

这里有一种令人愉悦的统一性。机器学习决策树中一个节点的“纯度”——即其下所有数据点属于同一类别的程度——与生物学家将系统发育树中的一个分支描述为对某个性状“单态的”完全类似，后者意味着该群体中的所有物种都共享相同的[性状状态](@article_id:311498)（例如，都有羽毛）[@problem_id:2414783]。两者都只是在问：这个节点定义的群体的一致性如何？

### 过程与可能性的树

到目前为止，我们已经将树看作是历史的地图或信息的结构。但它们也可以代表一个过程的展开或所有可能性的空间。想象一个由 $n$ 个城市组成的宇宙，其中每个城市都与其他所有城市相连——一个[完全图](@article_id:330187)，$K_n$。现在，想象一个探险家遵循一个简单的规则：从一个城市开始，前往任何未访问过的邻居，重复此过程直到没有未访问过的邻居可用，然后回溯。这就是[深度优先搜索](@article_id:334681)（DFS）[算法](@article_id:331821)。探险家的路径生成了一棵树。这棵树看起来像什么？根据每一步所做的选择，可能会产生许多不同的树。如果探险家刻意试图尽可能深入，他们总能在[完全图](@article_id:330187)中找到一个未访问过的邻居，结果产生的“树”将是一条长度为 $n-1$ 的简单无分支路径。这表明，即使是联系最紧密的世界，也可以通过一种方式遍历，从而生成最简单的树，展示了结构如何作为过程的轨迹而出现 [@problem_id:1483537]。

这种用树来表示派生历史的原则几乎可以应用于任何事物。思考一下康威[生命游戏](@article_id:641621)中的“滑翔机”，这是一个在屏幕上移动的简单模式。多年来，爱好者们发现了越来越小的、能够演化成滑翔机的初始配置。我们可以将这段发现史组织成一棵[系统发育树](@article_id:300949)！每个节点是一个特定的模式配置。每个分支是把一个配置转变为另一个配置的最小改变或洞见。在这里，树映射的不是生物学上的演化，而是人类思想和创造的“带有修饰的演化”。这阐明了树概念的终极抽象：在任何演化、变化或逐步构建的系统中，实体之间关系的地图 [@problem_id:2414826]。

### 终极之树：现实的图示

我们的旅程终结于最基础的科学：[粒子物理学](@article_id:305677)。当两个电子相互散射时，我们如何描述发生了什么？理查德·费曼用他著名的图示给出了答案。在最简单的层面上，一个[电子发射](@article_id:303827)一个[光子](@article_id:305617)（光的粒子），然后被另一个电子吸收。这个图有两个相互作用点（顶点），看起来完全像一棵树。它被称为“树级”图。

但在量子力学的奇异世界里，事情可能更复杂。在电子之间传播的[光子](@article_id:305617)可能会自发地转变为一个虚电子-正电子对，然后它们在被吸收之前相互湮灭变回一个[光子](@article_id:305617)。这个过程给图增加了一个“环”。它还增加了两个顶点，因为它需要两个额外的相互作用。量子电动力学的惊人发现是，这个环图对散射事件总概率的贡献被一个因子 $\alpha^{2}$ 所抑制，其中 $\alpha$ 是精细结构常数，一个约等于 $\frac{1}{137}$ 的小数。每个额外的环都会增加更多的顶点，并用更多的 $\alpha$ 次幂进一步抑制概率。这意味着最简单的树级图给出了占主导地位的、最可能的贡献。自然界在其最根本的层面上，是一个[微扰级数](@article_id:330494)，而故事中最重要的部分是由树来讲述的 [@problem_id:1901043]。

从宏大的进化进程到我们思想的句法，再到亚原子粒子的基本相互作用，[树状图](@article_id:330496)一次又一次地作为一个深刻而统一的概念出现。它证明了这样一个事实：在自然界中，正如在科学中一样，最复杂、最美丽的结构往往源于最简单规则的重复。