## 应用与跨学科联系

现在我们已经研究了[AI规划](@article_id:641807)的内部机制——构成其引擎的状态、动作、[搜索算法](@article_id:381964)和启发式方法——我们可以退后一步，惊叹于这个引擎能做什么。要真正欣赏一门手艺，不仅要在作坊里看，还要看它在世界上的表现。[AI规划](@article_id:641807)存在于何处？它解决了什么问题？你可能会惊讶地发现，它的触角远远超出了科幻小说中的机械臂和游戏AI。

[AI规划](@article_id:641807)是一个宏大的十字路口，一个繁华的知识市场，来自[运筹学](@article_id:305959)、经济学、[图论](@article_id:301242)和概率论的思想在这里汇聚，共同解决完成任务这个基本问题。在本章中，我们将穿越其中一些迷人的[交叉](@article_id:315017)领域，看看我们学到的抽象原理如何绽放成强大的实际应用。我们将看到，规划的艺术往往在于从恰当的角度看待问题，将一团乱麻转化为一个优美、可解的简单事物。

### 规划作为一场优化博弈

从本质上讲，许多规划问题都是一个优化谜题。我们不仅仅是在寻找*任何*计划；我们在寻找*最好*的计划——最便宜、最快、最有利可图的。对最优性的追求常常将我们引向数学中最优雅的一些思想。

想象你是一家初创公司的CEO，面临一系列潜在项目。一些项目，如开发新[算法](@article_id:331821)，承诺带来收入。另一些，如升级你的电脑，会产生费用。更糟糕的是，项目之间存在依赖关系：没有先升级电脑，就无法开发那个高级[算法](@article_id:331821)。你如何选择能产生最大净值的项目组合？这似乎是一个混乱的商学院案例研究，充满了电子表格和艰难的权衡。

然而，通过一次惊人的视角转换，整个问题可以转化为一个图上的几何问题。通过构建一个特殊的网络，其中有一个代表所有潜在收入的“源点”和一个代表所有潜在成本的“汇点”，并用边来表示依赖关系，这个复杂的商业决策就等同于寻找分隔源点和汇点的“[最小割](@article_id:340712)”。这就是著名的**[项目选择问题](@article_id:331714)（Project Selection Problem）**，其通过最小割求解是[算法](@article_id:331821)理论的一颗明珠[@problem_id:1531986]。最优的商业计划不是由商业分析师揭示的，而是由一个在网络中找到最窄通道的图[算法](@article_id:331821)揭示的。还有什么比这更美的呢？“如果我们做这个，就必须也做那个”的混乱逻辑，消解为一个清晰、高效的计算。

这种将规划转化为几何或代数谜题的主题一再出现。考虑一个在仓库中导航的机器人。它的“计划”是一条物理路径。我们可以将杂乱的环境描述为一系列“禁行区”，每个区域都由简单的[线性不等式](@article_id:353347)定义。那么，为机器人寻找一条安全走廊的问题就变成了在一个由这些不等式定义的形状——一个凸多胞体——中寻找一个可行点的问题[@problem_id:3248112]。在这里，[线性规划](@article_id:298637)和计算几何的原理不仅仅是抽象工具；它们正是我们用以描述机器人世界并发现其路径的语言。实际的工程问题，比如有太多冗余或近乎平行的约束条件会使问题在数值上不稳定，难以用计算机求解，也成为规划过程本身的一个组成部分。

有时，最优结构并非存在于图的切割或几何形状中，而是存在于计算本身的节奏中。考虑一个视频游戏AI，它必须通过合并相邻的敌人群组来击败它们。每次合并都有一个成本，取决于被合并群组的大小。找到最便宜的合并顺序是一个规划问题，也许令人惊讶的是，它与经典的**[矩阵链乘法](@article_id:642162)（Matrix Chain Multiplication）**问题具有完全相同的数学结构[@problem_id:3249112]。解决方案在于[动态规划](@article_id:301549)方法，我们通过首先解决所有小的子问题（如何最好地合并任意两个相邻的群组，然后是任意三个，依此类推），并利用这些结果来构建整个问题的解决方案。这是科学统一性的一个绝佳例子，在矩阵的乘法和战略性地消灭数字怪物中发现了相同的深层模式。

### 在不确定性的迷雾中规划

世界很少像棋盘一样清晰。更多时候，我们的规划必须考虑信息的缺失、未知的事物以及他人的不可预测行为。这就是[AI规划](@article_id:641807)与丰富的概率统计世界相遇的地方。

想象你正在玩一个策略游戏。你的AI对手，通常是效率的典范，却走了一步奇怪且非正统的棋。这是什么意思？这是一个高明的佯攻，一个复杂陷阱的开始吗？或者它只是一个编程错误，机器的一次随机抽搐？为了制定一个好的应对计划，你需要知道哪种可能性更大。一个智能体正是通过使用**[贝叶斯定理](@article_id:311457)（Bayes' Theorem）**来做到这一点[@problem_id:1345253]。它从关于对手状态的*先验*信念（“它可能在正常游戏”）开始，并根据非正统走法这一证据更新这些信念。该定理为这种更新提供了精确的数学方法，将原始观察转化为精炼的概率性洞察。对对手建模是规划的关键部分，而它是由贝叶斯推断的引擎驱动的。

但如果世界本身在很大程度上是未知的呢？想象一个机器人被投放到一个它从未见过的建筑中，任务是到达出口。墙壁和障碍物的位置都是一个谜。机器人必须同时进行探索和规划——它迈出的每一步既是潜在计划的一部分，也是一个了解更多世界信息的实验。这就是在**部分可观测（Partially Observable）**环境中规划的挑战。对此，最成功和直观的现代技术之一是**蒙特卡洛树搜索（MCTS）**[@problem_id:3204317]。

MCTS背后的想法非常简单。既然你不可能分析整个未知的迷宫，你就不去尝试。相反，从你站立的地方，你在“想象”中进行数千次超快速、廉价的模拟。在每次模拟中，你猜测世界未知部分的可能布局，然后模拟一条随机的前进路径。经过数千次这样的“白日梦”之后，你检查你最初可能的移动（上、下、左或右）中，哪一个在你所有想象的未来中*倾向于*最常导致好的结果。你迈出那一步，观察真实世界，更新你的地图，然后重复整个过程。MCTS是一种通过对未来进行采样来做决策的强大方式，它是像AlphaGo这样的AI成功的关键因素之一。

不确定性的迷雾甚至可能关乎我们自己的知识。思考需要时间和精力。更努力地思考总是值得的吗？这引出了一个微妙而深刻的思想：**元推理（metareasoning）**，即关于推理的推理。假设一个游戏AI有多种移动选择，其内部的启发式方法给了它一个关于每个移动有多好的模糊概念，也许用一个[概率分布](@article_id:306824)来表示。它有一个选项，可以通过花费更多的计算时间来“购买”关于一个移动真实价值的完美信息，但这需要付出代价[@problem_id:3204330]。它应该支付这个代价吗？答案来自经济学和决策理论，通过**[信息价值](@article_id:364848)（Value of Information）**的概念得出。AI可以计算出一条信息将为其最终决策带来的*[期望](@article_id:311378)改进*。如果这个[期望](@article_id:311378)收益大于获取它的成本，那么“更努力地思考”就是理性的。这使得AI能够智能地分配其有限的计算资源，这是任何在真实世界约束下操作的智能体的一项关键技能。

### 协同行动的语言

最后，一个计划并不总是一个简单的、线性的待办事项列表。在任何复杂的任务中，从做饭到运营工厂，我们都并行执行多个动作。一个成熟的规划器必须拥有一种描述这种并发性的语言。

假设一个AI可以执行一组动作，但有些是互斥的（你不能同时在两个地方），有些有[资源限制](@article_id:371930)（你的电力有限），有些有前置约束（你必须先穿袜子再穿鞋）。规划器在每一步的工作是选择一个有效的动作*子集*来并发执行。这个过程的起点是**[幂集](@article_id:297874)**——所有可能动作组合的集合。然后，规划器充当一个过滤器，系统地检查每种组合是否符合规则[@problem_id:3259455]。总资源成本是否过高？它是否包含两个互斥的动作？它是否违反了前置规则？剩下的是AI可以采取的所有有效的、并发的“超级动作”集合。这种对并发性的形式化处理是构建能够为从多机器人团队到物[流网络](@article_id:326383)等各种复杂并行活动进行协调的规划器的基础。

从优化的优雅纯粹到不确定世界的混乱现实，[AI规划](@article_id:641807)的应用既多样又强大。这个领域不仅教会我们机器如何思考，还为我们提供了一个新的、强大的镜头，通过它我们可以理解问题的根本结构和智能选择的本质。