## 引言
在任何科学探究中，确定一个原因产生了某种效应仅仅是个开始。随之而来的更深层次的问题是“如何”或“为什么”。要真正理解一个现象，我们必须超越简单的相关性，剖析产生该现象的复杂因果路径。一种新药或许能降低心脏病发作的风险，但它是通过降低胆[固醇](@entry_id:173187)来实现的，还是对动脉本身有独立的保护作用？回答这类问题需要一种清晰的方法，来区分原因的直接影响与它通过改变路径上其他变量而产生的间接影响。这正是中介分析和自然直接效应概念旨在解决的核心挑战。

本文为这种剖析提供了概念工具，为理解因果机制提供了一个清晰的框架。文章分为两个主要部分。第一章，**原理与机制**，将介绍强大的反事实框架，定义自然直接效应和自然间接效应，并解释它们分解总效应的精妙方式。它还将直面从真实世界数据中识别这些效应的重大挑战以及所需的强假设。第二章，**应用与跨学科联系**，将展示这些看似抽象的概念如何应用于解决从医学、公共卫生到社会正义和人工智能伦理等领域的关键问题。读完本文，您不仅能深入理解一个原因“是否”有效，还能掌握其发挥影响的具体路径。

## 原理与机制

当我们确定了一个原因具有某种效应——例如，新药能降低胆[固醇](@entry_id:173187)，或新的教学方法能提高考试成绩——一个更深、更令人满意的问自然而然地题出现了：*为什么？*机制是什么？它是如何起作用的？是药物本身直接保护了动脉，还是完全通过降低胆[固醇](@entry_id:173187)来起作用？是教学方法直接传授了某种新的思维方式，还是仅仅鼓励学生更努力地学习？科学不仅仅是观察相关性，更是理解产生我们所见现象的复杂因果路径。

要剖析这些路径，将原因的直接效应与其通过改变沿途其他变量而产生的间接效应分离开来，我们需要一种极其精确的语言。我们需要一种方法来谈论在不存在的世界里*本会发生*什么。这就是因果推断的世界，而我们的主要工具是**反事实**（counterfactuals）的概念。

### “如果”的世界：反事实的力量

让我们想象正在研究一种处理，我们称之为 $A$。为简单起见，假设一个人要么接受处理（$A=1$），要么不接受（$A=0$）。我们关心它对结果 $Y$ 的影响。反事实的概念很简单：对于任何给定的人，存在一个潜在结果 $Y(1)$，即如果他们接受了处理，他们*本会得到*的结果；以及一个潜在结果 $Y(0)$，即如果他们没有接受处理，他们*本会得到*的结果。对该个体的**总因果效应**就是两者的差值：$Y(1) - Y(0)$。当然，对于任何个体，我们永远只能观察到其中之一，这就是因果推断的基本问题。

现在，我们引入一个**中介变量**（mediator），$M$。这是我们怀疑与故事相关的一个中间变量——比如生物标志物水平、学习时长。中介变量本身也受到处理的影响。因此，我们可以定义一个潜在中介变量 $M(1)$，即如果此人接受处理，中介变量*将会取*的值；以及 $M(0)$，即如果他们没有接受处理，中介变量*将会取*的值。

此外，最终结果 $Y$ 不再仅仅依赖于处理 $A$；它同时依赖于处理 $A$ *和* 中介变量 $M$ 的值。所以我们需要扩展我们的符号。令 $Y(a, m)$ 为如果处理被设为水平 $a$ 且中介变量被以某种方式设为水平 $m$ 时*将会被观察到*的结果 [@problem_id:4576119]。有了这个优雅的符号，我们现在可以陈述一个基本规则，通常称为**一致性**（consistency）或**复合性**（composition）：一个人在处理 $A=1$ 下本会有的结果，我们称之为 $Y(1)$，必须与我们将他们的处理设为 $A=1$ 并让他们的中介变量自然变为 $M(1)$ 时他们本会有的结果相同。用符号表示就是 $Y(1) = Y(1, M(1))$ [@problem_id:4557700]。这可能看起来像一个微不足道的规则，但它正是连接总效应与底层中介路径的纽带。

### 隔离直接路径：“受控”与“自然”之分

我们的目标是将 $A$ 对 $Y$ 的直接效应与通过 $M$ 的间接效应分离开来。直观上，我们想要区分路径 $A \to Y$ 和路径 $A \to M \to Y$ [@problem_id:4557700]。

我们如何隔离直接路径呢？一个直接的想法是保持中介变量 $M$ 恒定。想象一个宏大的实验，我们不仅可以给人们处理（$A=1$）或控制（$A=0$），还可以强制每个人的中介变量水平为某个特定的固定值，比如 $m^*$。如果我们这样做，两组之间结果 $Y$ 存在差异的唯一原因必然是 $A$ 的直接效应。我们称之为在水平 $m^*$ 下的**受控直接效应**（Controlled Direct Effect, CDE）：
$$
\text{CDE}(m^*) = E[Y(1, m^*) - Y(0, m^*)]
$$
这里的 $E[\cdot]$ 表示我们取整个群体的平均效应。这是一个定义明确且可能有用的量。我们可以问，“如果我们能强制每个人的血压都达到健康的 120/80 mmHg，那么这种药物的效果是什么？” [@problem_id:4576119]

但这有一定的“人造”性质。如果我们选择的水平 $m^*$ 对某些人来说在生物学上是不可能的，或者非常不典型，那该怎么办？CDE 回答了*一个*问题，但它是最相关的问题吗？我们是在探究真实世界中的机制，而不是在一个我们能像神一样控制一个人的内部生理机能的世界里。

这就引出了一个更微妙、更优美的想法。与其将中介变量固定在一个外部的、人为的值 $m^*$，不如我们将其设为——对每个人而言——如果他们处于[对照组](@entry_id:188599)中时它*本会自然取到*的值？这个“自然”的基线水平是 $M(0)$。现在我们可以定义一种新的直接效应。我们比较一个人接受处理（$A=1$）但其中介变量被保持在其自然基线水平 $M(0)$ 时的结果，与他不接受处理（$A=0$）且其中介变量也处于其自然基线水平 $M(0)$ 时的结果。这就是**自然直接效应**（Natural Direct Effect, NDE）：
$$
\text{NDE} = E[Y(1, M(0)) - Y(0, M(0))]
$$
这个量意义深远。它代表了*在中介路径被阻断的情况下*，处理对结果的效应——这种阻断不是通过强制其达到某个通用常数，而是通过将其保持在每个个体在没有处理时本会具有的自然水平上 [@problem_id:4972613]。

### 跨世界之旅

仔细看 NDE 定义中的第一项：$Y(1, M(0))$。这是一个奇妙而奇异的构造。它是一个**嵌套反事实**（nested counterfactual），通常被称为“跨世界”反事实。让我们用语言来翻译它：它是指如果你接受了处理（$A=1$），而你的中介变量处于如果你本处于[对照组](@entry_id:188599)（$A=0$）时*它本会具有*的值的情况下，你*本会得到*的结果 [@problem_id:4845577]。

对于任何单个个体来说，这在物理上和逻辑上都是不可能的。你不可能在同一时间既接受处理又不接受处理。你的结果被测量的世界（$A=1$）与你的中介变量值所来源的世界（$A=0$）是不同的。这似乎有点科幻小说的味道。

该框架的早期批评者认为，这类量是“未定义的”或“形而上学的”，在科学中没有立足之地 [@problem_id:4845577]。但这没有抓住要点。数学和逻辑的力量在于，我们可以定义概念并探索其后果，即使我们无法在作坊里将它们制造出来。$Y(1, M(0))$ 这一项不是我们期望能为某个人*观察*到的东西。它是一个理论构建，使我们能够以完美的清晰度提出我们的问题——“什么是直接效应？”。它的作用是定义我们试图理解的理想目标，即使我们只能用真实数据来近似它 [@problem_id:5175019]。

### 宏伟的分解：整合各个部分

这些定义的真正美妙之处在于它们如何组合在一起。处理的总因果效应是每个人都接受处理的世界与无人接受处理的世界之间的差异：
$$
\text{Total Effect} = E[Y(1)] - E[Y(0)] = E[Y(1, M(1))] - E[Y(0, M(0))]
$$
现在，请看。通过一点简单的代数（加上和减去同一项），我们可以进行一个非凡的分解：
$$
\text{Total Effect} = E[Y(1, M(1)) - Y(0, M(0))] = \big(E[Y(1, M(0))] - E[Y(0, M(0))]\big) + \big(E[Y(1, M(1))] - E[Y(1, M(0))]\big)
$$
这个和的第一部分，根据定义，就是我们的自然直接效应。第二部分被称为**自然间接效应**（Natural Indirect Effect, NIE）。
$$
\text{NIE} = E[Y(1, M(1))] - E[Y(1, M(0))]
$$
NIE 也有一个同样直观但令人费解的解释。它问的是：在将处理固定在“开启”位置（$A=1$）的同时，仅仅由于中介变量从其自然的*控制*值（$M(0)$）转变为其自然的*处理*值（$M(1)$）而引起的结果变化是多少？这完美地隔离了通过中介变量传递的效应。

而最后的点睛之笔是：
$$
\text{Total Effect} = \text{Natural Direct Effect} + \text{Natural Indirect Effect}
$$
这不是一个近似。它是一个精确的、代数上的恒等式 [@problem_id:5203567]。我们的概念之旅引领我们得到了一个对因果关系的完美划分。我们将一个原因的总效应干净地分成了两条路径：直接效应和通过中介变量运作的间接效应。这种分解证明了反事实框架的力量和内部一致性。

### 从理想世界到真实数据：可识别性的挑战

我们已经定义了我们的理想量。现在是困难的部分：我们能测量它们吗？我们能将这些抽象的反事实与我们从实验或[观察性研究](@entry_id:174507)中收集到的混乱的真实世界数据联系起来吗？这就是**可识别性**（identification）的问题。

一个普遍的直觉是，一个简单的随机对照试验（RCT）应该能解决所有问题。如果我们随机化处理 $A$，我们就打破了 $A$ 与患者特征之间的所有混杂。这是对的，它使我们能够无偏地估计总效应 $E[Y(1)] - E[Y(0)]$。但是，它本身*并不能*让我们估计 NDE 或 NIE。为什么？因为随机化确保了 $A$ 与患者的[潜在结果](@entry_id:753644)无关，但它并没有打破患者*内部*的依赖关系。例如，一个人在处理下的[潜在结果](@entry_id:753644) $Y(1,m)$ 与其在控制下的潜在中介水平 $M(0)$ 可能仍然被其潜在的遗传或生理因素联系在一起。仅对 $A$ 进行随机化无法窥探这种“跨世界”关系内部 [@problem_id:4933663]。

为了从数据中识别 NDE 和 NIE，我们需要做出一个信念上的飞跃，这体现在一系列强有力的、无法检验的假设中。在最简单的情况下，这些假设通常被称为中介分析的“四诫” [@problem_id:4597063] [@problem_id:4581280]：

1.  **一致性**：[潜在结果框架](@entry_id:636884)准确地描述了观测数据。
2.  **正值性**：对于任何类型的人，他们都有一定的机会接受任一处理，并可能表现出任何相关的中介变量值。不存在“注定”的子群体。
3.  **无未测量混杂**：这是一个巨大的飞跃。我们必须假设我们已经测量了所有混杂了任何关系的基线因素（我们称之为 $L$）：$A$ 对 $Y$ 的效应、$A$ 对 $M$ 的效应，以及至关重要的是，$M$ 对 $Y$ 的效应。
4.  **跨世界假设**：这是最后，或许也是最大胆的飞跃。我们必须假设，不存在未测量的因素将一种暴露下的潜在中介 $M(0)$ 与另一种暴露下的潜在结果 $Y(1,m)$ 联系起来 [@problem_id:4845577]。正是这个假设让我们在数学上能够将两个世界“缝合”在一起。

如果这四个假设成立，那么就有可能写出一个公式——通常称为**中介公式**——它完全根据我们数据中的可观测概率和条件期望来表达 NDE 和 NIE [@problem_id:4581280]。

### 一座遥不可及的桥：当我们的假设崩塌时

这些假设不仅仅是技术性的脚注；它们是脆弱的。自然是复杂的，真实世界的[因果结构](@entry_id:159914)很容易以微妙的方式违反它们。考虑一个经典而棘手的案例：**暴露引起的中介-结果混杂因素**（exposure-induced mediator-outcome confounder）[@problem_id:4789406]。

想象一种新药（$A$）导致患者更频繁地与医生进行随访（$L$）。这些更频繁的随访反过来又导致对他们血压（$M$）的更仔细监测，从而改善了他们的最终健康结果（$Y$）。但随访（$L$）也对结果（$Y$）有直接影响，也许是因为医生在这些访问中提供了其他有用的健康建议。因果图如下所示：$A \to L$、$L \to M$、$L \to Y$ 和 $M \to Y$。

在这里，变量 $L$（医生访问）是中介变量 $M$ 和结果 $Y$ 的[共同原因](@entry_id:266381)。这使它成为 $M \to Y$ 关系的混杂因素。但这个混杂因素 $L$ *本身是由暴露* $A$ 引起的。这打破了标准的可识别性假设。在[统计模型](@entry_id:755400)中简单地“调整 $L$”是行不通的；事实上，它可能通过阻断我们想要理解的一部分因果效应而产生更多偏倚。在这种情况下，我们如此精心定义的优美的 NDE 和 NIE 使用标准方法已不再可识别。

这是一个至关重要的教训。自然直接效应为我们提供了完美的问题。因果推断为我们如何回答它提供了一个框架。但它也迫使我们对自己所做的关于世界的强大假设保持诚实和谦卑，并认识到现实的复杂性何时超出了我们工具的范围。理解“为什么”的旅程，既在于欣赏问题的美妙，也在于尊重答案的艰难。

