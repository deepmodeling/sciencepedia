## 应用与跨学科联系

我们现在已经窥见了电子健康记录 (EHR) 数据的复杂结构，理解了其组成部分、标准及其固有的复杂性。但这一切究竟*为了*什么？仅仅用数字文件柜取代钢制文件柜，就像发明了印刷机却只为了一本书制作一份副本。真正的革命不在于存储，而在于我们可以提出的问题，可以建立的联系，以及这个巨大而动态的人类健康图书馆所开启的知识新世界。在本章中，我们将从衡量和改善医疗保健的基础应用，到科学发现和人工智能的前沿领域，看我们学到的原理如何绽放为变革性的现实世界实践。

### 基础：创建一个学习型健康系统

EHR数据最直接、也许也最重要的用途是为我们的医疗系统举起一面镜子。我们第一次可以大规模地问：我们是否在做我们知道有效的事情？医疗服务是否公平？明天我们如何能比今天做得更好？

考虑一个简单而至关重要的任务：追踪一个医疗系统在其整个人群中控制高血压的效果如何。乍一看，这似乎很容易——只需计算血压低于某个目标的患者数量。但现实是一个涉及数据整合和治理的优美难题 [@problem_id:4842174]。一个患者的数据可能分散在他们初级诊所的EHR和他们曾去过急诊的医院系统中。哪个血压读数是最近的？我们是否把同一个患者计算了两次？要可靠地回答这个问题，需要一个复杂的基础设施：像 SNOMED CT 和 FHIR 这样的共享数据标准，以确保大家说的是同一种语言；健康信息交换 (HIEs) 来在组织之间共享数据；以及一个主患者索引，以识别一个系统中的“John Smith”与另一个系统中的“J. H. Smith”是同一个人。只有解决了这个难题，我们才能生成一个值得信赖的电子临床质量度量 (eCQM)，这是一份标准化的成绩单，为质量改进和公共问责提供动力。

这种生成可靠反馈的能力是**学习型健康系统**的引擎——一个能够通过系统地从自身经验中学习来持续改进的组织。想象一下，一家医院希望实施一种新的、更快的基因组测试来指导癌症治疗 [@problem_id:5052254]。学习型健康系统可以使用其EHR数据管道创建一个快速反馈循环，而不是进行一项僵化、耗时多年的研究。它可能会在实验室工作流程中实施一项变更，一周之内，自动运行图就可以显示出这对测试周转时间的影响。这个改变奏效了吗？它是否带来了意想不到的后果，比如增加了重复活检的需求？它是否对某些保险类型的患者造成了延误？通过使用这种快速循环的“计划-执行-研究-行动”(Plan-Do-Study-Act)方法，组织可以迭代和适应，在数周而非数年内优化整个流程，将常规护理转变为持续学习的源泉。

### 下一个飞跃：从数据到因果知识

衡量*正在发生*的事情是强大的，但医学中最深刻的问题是关于*“如果……会怎样”*。如果我们选择药物A而不是药物B会发生什么？一种新疗法的真正效果是什么？用观察性数据——不是来自受控实验，而是来自临床护理混乱现实的数据——来回答这些问题，是现代医学信息学最伟大的挑战和成就之一。

EHR只是庞大的**真实世界数据 (RWD)** 生态系统中的一部分 [@problem_id:5017946]。来自保险公司的管理性理赔数据可以提供患者在不同医疗系统中就诊的完整情况，但缺乏临床细节。疾病登记库提供关于特定状况的深入、经整理的数据，但可能只包括来自特定学术中心的患者，从而产生潜在的选择偏倚。而现在，来自智能手表等数字健康技术的数据可以提供高频生理信号，但伴随着用户依从性和算法漂移等自身挑战。生成可靠的**真实世界证据 (RWE)** 需要理解每种数据源的特性优势和弱点——其潜在的混杂、选择偏倚和测量误差。

生成 RWE 的黄金标准是**模拟目标试验**。我们使用观察性数据来尽可能地模仿一个能够回答我们问题的假设性随机对照试验 [@problem_id:4587697]。要做到这一点，我们必须首先对问题本身做出极其精确的定义，即定义一个因果**估计量**。这包括明确指定人群（例如，药物的新使用者）、干预措施和比较对象（例如，开具药物A与药物B的*初始策略*，无论患者后来是否转换或停药都进行随访）、结局，以及我们如何处理死亡或失访等真实世界事件。这种“治疗策略”方法类似于真实试验中的“意向性治疗”原则，它回答了临床上最相关的问题：我最初的处方决定会带来什么后果？

这个框架甚至可以扩展到评估复杂的、动态的卫生政策。假设我们想评估一条规则，比如“当患者的胆[固醇](@entry_id:173187)在常规护理中超过某个阈值时，开始使用[他汀类药物](@entry_id:167025)”[@problem-id:4612449]。这是一个动态治疗规则，决策会根据患者不断变化的数据而改变。评估它需要复杂的方法，这些方法必须能解释那些本身随时间变化的混杂因素——例如，那些既影响医生检查胆[固醇](@entry_id:173187)的决定，又影响患者未来心脏病发作风险的健康状况。

但是，如果我们怀疑存在我们根本无法测量的关键混杂因素该怎么办？在这里，统计学家和流行病学家开发了一些巧妙的技术，比如**工具变量 (IV)** 分析 [@problem_id:4860519]。其思想是找到数据中一种变化的来源，它影响治疗决策，但与患者的结局没有其他关系——其作用“仿佛”一次随机的推动。一个经典的例子是临床医生的处方偏好。一些临床医生是新药的早期采用者，而另一些则更为保守。如果患者或多或少被随机分配给这些临床医生，那么临床医生的偏好就成了一个“工具”，让我们能够分离出治疗效果中不受患者病情严重程度混杂影响的那一部分。这一从原始数据到处理后信息（如临床医生处方率），再到有理有据的因果声明的旅程，代表了在知识金字塔上实实在在的攀登，将观察转化为洞见。

### 前沿：新发现与智能系统

有了这些强大的方法，EHR数据的应用超越了评估我们已有的做法，进入了发现全新生物学和构建智能系统以重塑医疗服务提供的领域。

最令人兴奋的前沿之一是大规模EHR数据与基因组学的结合。[全基因组](@entry_id:195052)关联研究 (GWAS) 就像拿一把特定的锁——比如[2型糖尿病](@entry_id:154880)这种疾病——去测试数百万把钥匙——即遗传变异——看看哪一把合适。而**全表型关联研究 (PheWAS)** 则反其道而行之 [@problem_id:4857473]。我们拿一把钥匙——一个单一的遗传变异——去试大楼里的每一把锁，测试它与从EHR中定义的数千种疾病和性状的关联。这些“表型代码”（phecodes）是通过智能地将计费代码分组为具有临床意义的类别而创建的。PheWAS已成为发现基因多效性——即单个基因影响多个看似无关的性状的现象——以及揭示一个基因对人类健康影响全貌的强大引擎。

当我们生成所有这些知识——从质量度量、因果研究到基因组学发现——最终的挑战是如何在正确的时间、以正确的方式将其传递给正确的人。这就是**临床决策支持 (CDS)** 系统的作用。它们是嵌入在EHR中的智能副驾驶。这些系统的工作方式存在一个关键区别 [@problem_id:4363291]。一些是**基于知识的**：它们根据专家指南和随机试验得出的规则进行显式编程。这些系统编码了关于干预措施效果的因果声明，针对的是形式为 $P(Y \mid do(A))$ 的问题，即“如果我*做*了行动A，结果Y的概率是多少？”相比之下，许多现代系统是**数据驱动的**：它们使用机器学习直接从观察性EHR数据中学习模式。默认情况下，这些系统学习的是[关联关系](@entry_id:158296)，擅长于形式为 $P(Y \mid X)$ 的预测问题，即“在我观察到患者特征X的情况下，结果Y的概率是多少？”理解这一区别对于正确解释它们的建议至关重要。

这些思想的一个完美结合是为精准医疗设计的基因组CDS [@problem_id:4324191]。这样的系统就像一个解释性的“大脑”。它从实验室系统接收原始基因组数据（例如，一个变异调用文件），将其与EHR中患者的临床背景相结合，并使用知识库和规则引擎来解释结果。例如，它可能会标记出癌症患者肿瘤中的一个特定突变，并推荐一种[靶向治疗](@entry_id:261071)，将这一建议直接在其工作流程中呈现给肿瘤科医生。这不仅仅是数据显示，而是一种患者特异性知识的综合行为。

最后，展望未来，一个迫在眉睫的挑战是如何在不损害隐私的情况下，从遍布数百家医院的数百万患者的数据中学习——甚至是从患者拥有的设备中学习。我们不能总是集中处理敏感数据。在这个前沿领域出现的解决方案是**[联邦学习](@entry_id:637118) (FL)** [@problem_id:5195057]。其核心思想 brilliantly simple：与其将数据带到模型端，不如将模型带到数据端。在**跨孤岛**场景中，少数几家医院可以协作训练一个模型。每家医院用自己的私有数据训练模型，然后只将数学上的更新——而非数据本身——发送到中央服务器，服务器聚合这些更新以创建一个改进的全局模型。在**跨设备**场景中，这个概念被扩展到数百万部患者的智能手机上。[联邦学习](@entry_id:637118)代表了一种范式转变，它使我们能够利用分布式健康数据的集体力量，同时尊重基本的隐私权，从而完成了从一个简单的数字记录到一个全球性、协作性的发现和健康改善引擎的旅程。