## 引言
为什么弯曲的回形针会保持弯曲，而拉伸的橡皮筋会弹回原状？为什么按一次遥控器按钮会打开电视，再按一次却会关闭电视？这些看似无关的问题，其答案都源于一个强大而统一的概念：记忆。许多系统，从简单的电子设备到复杂的生命体，其输出不仅取决于当前的输入，还取决于它们的全部过往历史。本文旨在探讨如何科学地捕捉和模拟这段历史这一根本性挑战，并引入**内[状态变量](@entry_id:138790)**的概念——这些隐藏的量充当了系统的记忆。在接下来的章节中，我们将首先探索这些变量的核心原理和机制，理解它们如何压缩历史并根据物理定律演化。随后，我们将开启一段跨越不同科学领域的旅程，见证内[状态变量](@entry_id:138790)在[材料科学](@entry_id:152226)、电子学、[计算建模](@entry_id:144775)和生物学等领域中所展现出的非凡且统一的力量。

## 原理与机制

想象墙上有一个简单的电灯开关。向上拨，灯亮；向下拨，灯灭。开关的动作只取决于其当前位置，它不记得之前被拨动过多少次。现在，想一想电视遥控器上的电源按钮。按一次，电视打开；再按一次，电视关闭。按钮的效果取决于你看不见的东西：电视的当前状态。它是开着还是关着？电视系统拥有记忆。这个简单的区别是理解科学与工程领域中最强大、最统一的概念之一——**内状态变量**——的入门之道。

像电灯开关这样输出仅取决于当前输入的系统，称为**组合**系统。相反，像电视这样具有记忆的系统，则称为**时序**系统 [@problem_id:1959235]。“记忆”并非某种模糊、神秘的特质，它被保存在系统中我们称之为内[状态变量](@entry_id:138790)的物理、可量化的属性里。这些变量存在于系统的“黑箱”内部，将其全部过往历史总结成一种紧凑、可用的形式。

### 记忆的本质：压缩历史

内状态究竟是什么？想象一个不处于“初始静止”状态的系统——也就是说在你接触它之前，系统就已经储存了一些能量或信息 [@problem_id:2877029]。一根拉伸的橡皮筋、一个充电的[电容器](@entry_id:267364)或计算机的RAM都包含非零的内状态。这些状态就是我们预测系统未来所需要知道的关于其过去的一切的变量。

数字信号处理领域中，清理音频或图像等信号的滤波器设计提供了一个绝佳的例证 [@problem_id:2859304]。**[有限脉冲响应](@entry_id:192542)（FIR）**滤波器就像一个只有短期记忆的人；其当前输出取决于固定数量的近期*输入*，这很简单。但**无限脉冲响应（IIR）**滤波器则不同，它的输出不仅取决于过去的输入，还取决于其自身的过去*输出*。这是一个递归的[反馈回路](@entry_id:273536)。

你可能会认为，要计算这种滤波器的输出，需要了解其全部的无限历史。但奇妙之处在于：你并不需要。整个过去的影响被完美地压缩到少数几个有限的内状态变量中——通常只是最近的几个输入和输出值。在每一步，滤波器都使用这个紧凑的状态来计算新的输出，并为下一步更新其状态。内状态变量是系统必不可少的记忆，是其历史的精髓所在。

### 为何需要它们：当现状不足以说明问题时

在许多现实世界的系统中，过去不仅仅是序幕，它还决定着现在。以一块金属板为例。根据一个简单的无记忆模型，如果施加的应力超过其固有强度，它就会失效。但任何工程师都知道，金属构件可能会因**疲劳**而失效——反复施加远低于静态强度的小应力，最终可能导致其断裂。

一个只关注当前应力 $\boldsymbol{\sigma}$ 的模型对这段历史是视而不见的。为了捕捉疲劳现象，我们必须引入一个内[状态变量](@entry_id:138790)，称之为“损伤”，并用 $D$ 表示。每经历一个[应力循环](@entry_id:200486)，$D$ 都会增长一点。我们的失效条件不再是应力小于强度，而是损伤小于一个临界值。变量 $D$ 记住了所有过去加载循环的累积效应，为系统提供了预测[疲劳失效](@entry_id:202922)所需的记忆 [@problem_id:2638151]。

这个思想深入到[材料科学](@entry_id:152226)的核心。当你弯曲一个回形针时，它会变得更难弯曲。这种现象称为**[加工硬化](@entry_id:160669)**，是材料记忆的另一种形式。回形针当前的形状并不能说明全部问题。要真正了解它的状态，我们必须观察其微观结构。弯曲的历史会产生一个由称为[位错](@entry_id:157482)的微观缺陷组成的纠缠网络。一个基于物理的模型将使用这些[位错](@entry_id:157482)的密度 $\rho$ 作为内状态变量。$\rho$ 的值告诉我们材料“[硬化](@entry_id:177483)”的程度，这是变形历史烙印在材料内状态上的关键信息 [@problem_id:3552848]。

### 游戏规则：演化与不稳定性

内[状态变量](@entry_id:138790)不是静态的，它们会演化。支配这种演化的规则被称为**演化律**或**状态方程**。在[数字电子学](@entry_id:269079)中，这些规则可以写在一个简单的**转换表**中 [@problem_id:1911043]。这个表就像一个配方：给定系统当前的内状态（例如，[二进制变量](@entry_id:162761) $y_1$ 和 $y_2$ 的值）和当前的外部输入（例如，$x$），该表会告诉你下一个内状态将是什么。

当输入发生变化时，系统便开始一段旅程。它的内部变量开始变化，遵循转换表中的配方，直到它们（有望）达到一个不再需要改变的新配置——一个**稳定状态**。

但如果它们没有达到稳定状态呢？[状态变量](@entry_id:138790)的动力学可能出人意料地丰富和复杂。系统可能不会稳定下来，而是进入一个循环，在两个或多个[不稳定状态](@entry_id:197287)之间无休止地[振荡](@entry_id:267781) [@problem_id:1967899]。更具戏剧性的是，如果多个[状态变量](@entry_id:138790)被指令同时改变，它们会陷入**竞争条件**。谁先到达？物理属性中微小的、不可控的变化，如信号通过不同导线的传播延迟，决定了获胜者。有时，无论谁获胜，最终的稳定状态都相同；这是一种非临界竞争。但在**临界竞争**中，系统的最终状态根本无法预测——它取决于这场微观竞赛的结果 [@problem_id:1973361]。这不仅仅是一个理论上的好奇心；它是高速[异步电路设计](@entry_id:172174)中的一个主要隐患，是内状态动力学导致的一个实际后果 [@problem_id:1959235]。

### 终极裁判：[热力学第二定律](@entry_id:142732)

内状态变量的演化律不能是任意的，它们必须符合物理学的基本定律。其中最重要的一条是**[热力学第二定律](@entry_id:142732)**。

许多涉及内状态变化的过程——如金属的塑性变形或粘稠液体的流动——都是**耗散**的。它们产[生热](@entry_id:167810)量并增加[宇宙的熵](@entry_id:147014)。以克劳修斯-杜亥姆不等式形式表现的[热力学第二定律](@entry_id:142732)要求，这种耗散的速率永远不能为负。一个系统不能自发地冷却并从混沌中创造秩序。

这一原则起到了强大的约束作用。当我们为一个带有内变量的材料提出数学模型时，我们必须证明其演化律在任何情况下都不会违反第二定律。这确保了我们的模型是物理上现实的 [@problem_id:2695040]。整个框架通常围绕一个[热力学势](@entry_id:140516)构建，例如**亥姆霍兹自由能** $\psi$，它依赖于可观测变量（如应变 $\boldsymbol{\varepsilon}$）和内[状态变量](@entry_id:138790)（如损伤 $D$ 或[位错密度](@entry_id:161592) $\rho$）。然后，内[状态变量](@entry_id:138790)（ISV）的演化律以保证整个系统[热力学一致性](@entry_id:138886)的方式推导出来 [@problem_id:2924980]。是物理学，而不仅仅是数学，决定了这场游戏的规则。

### 选择状态的艺术

如果我们需要为一个有记忆的[系统建模](@entry_id:197208)，我们如何知道该选择哪些内变量？甚至选择多少个？这就是科学成为一门艺术的地方，它由物理学指导，并由实验验证。

有时，一个简单的选择是不够的。在为金属晶体的复杂变形建模时，仅仅跟踪每个[晶面](@entry_id:166481)上的总滑移量被证明是不充分的。这个标量值丢弃了关于旋转历史和变形路径的关键信息。为了忠实地捕捉材料在复杂加载下的记忆，需要一个更丰富的描述，即使用完整的**塑性变形梯度张量** $\mathbf{F}_{p}$ 作为内变量 [@problem_id:3552848]。

在其他情况下，实验可以揭示系统内部世界的隐藏复杂性。考虑**玻璃化转变**，这是一个液体冷却成固态玻璃而未结晶的迷人过程。我们可以通过假设“结构无序”的状态由单个内变量捕捉来对此建模。这个简单的模型做出了一个明确的预测：一个由可测量量组成的特定组合，即**Prigogine-Defay 比** $\Pi$，必须等于1。然而，对于大多数真实的玻璃，实验表明 $\Pi$ 更接近2或3 [@problem_id:2931900]。这种差异意义深远。大自然在告诉我们，我们的单变量模型过于简单。液体转变为玻璃时结构凝滞的复杂过程，需要至少两个或三个不同的内部过程，每个过程都有自己的状态变量，才能被正确描述。

从计算机中的[触发器](@entry_id:174305)到钢铁的硬化和玻璃的形成，内[状态变量](@entry_id:138790)的概念提供了一种统一的语言来描述系统如何记忆它们的过去。它们是宇宙中隐藏的齿轮，根据自然基本定律规定的规则滴答作响，将时间之箭烙印在我们周围世界的结构之中。

