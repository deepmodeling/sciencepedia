## 引言
在广袤的数学图景中，基础性的变革虽然罕见，却具有革命性。[同伦类型论](@article_id:340431)（HoTT）正是这样一种[范式](@article_id:329204)转移，它是一种为数学设计的崭新语言，模糊了计算机科学、[抽象逻辑](@article_id:639784)和形状几何学之间的界限。它通过一个问题挑战了我们最基本的假设之一：两事[物相](@article_id:375529)等究竟意味着什么？HoTT不再将等价视为一种静态的断言，而是将其重塑为一条动态的路径，从而将每一个数学对象都转变为一个充满活力的高维空间。本文将作为进入这个迷人新世界的向导。第一章“原理与机制”将解析HoTT的核心思想，从其基于路径的等价观到它所揭示的空间层级。随后的“应用与跨学科联系”一章将探讨这些原理的深远影响，展示HoTT如何在[逻辑与拓扑](@article_id:640361)学之间创建一部强大的词典，革新我们对空间的理解，并开启一个计算机验证证明的新时代。

## 原理与机制

那么，我们已经领略了这个名为[同伦类型论](@article_id:340431)的奇特新世界。但要真正欣赏其图景，我们必须深挖其基石。是哪些基本原理使其得以运作？就像物理学家揭示运动定律一样，我们即将揭示数学思维本身的定律。而这一切都始于一个简单到听起来像玩笑的问题：两事物相等究竟意味着什么？

### “相等”究竟意味着什么？通往新思想的路径

在学校里，你学到 $2+2 = 4$。等号是一个事实陈述，一种属性。等号两边的东西可以互换；它们是同一个东西。几个世纪以来，故事到此为止。等价是一个二元命题：非真即假。

[同伦类型论](@article_id:340431)要求我们采取一种更动态、更……*物理*的视角。想象空间中的两个点 $a$ 和 $b$。说“$a$ 等于 $b$”意味着什么？我们不再将其仅仅看作一个事实陈述，而是把一个[等价关系](@article_id:298723)看作一条从 $a$ 到 $b$ 的*路径*或*变换*。这样一条路径的存在，就是它们相等的*证据*。

这不仅仅是一个诗意的比喻，而是一个精确的数学构造。对于任意类型 $A$（你可以将其想象为一个空间）和该类型的任意两个项 $a$ 和 $b$（空间中的点），我们可以构造一个新的类型：**[等价类](@article_id:316440)型**（identity type），记作 $\mathsf{Id}_A(a,b)$ 或者更简单地记作 $a =_A b$。这个类型的成员就是证明 $a$ 和 $b$ 相等的证据、路径和理由。

现在，如果 $a$ 和 $b$ 确实是*同一个*点，那么就有一条显而易见的路径：“什么都不做”的路径。我们只是停在原地。对于任何项 $a$，这个被称为**自反性**（reflexivity）的规范、平凡的等价证明总是存在的，我们将其记为 $\mathsf{refl}_a : \mathsf{Id}_A(a,a)$。这是基础理论允许我们直接构造等价证明的唯一方式。[@problem_id:2985665]

这种视角的转变是深刻的。等价不再是对象的静态属性，而是一种其本身就是动态的类型，一个对象之间的路径空间。我们将看到，某些路径空间远比其他空间有趣得多。

### 路径规则：路径归纳

如果我们构建路径的唯一方法是停在原地（$\mathsf{refl}$），那么对于那些看起来非平凡的、更复杂的路径，我们能说些什么？这就引出了逻辑学中最优雅、最强大的原则之一：**路径归纳**（path induction），也被称为$J$-消去子（$J$-eliminator）。

这听起来可能令人生畏，但其思想却异常直观。假设你有一个性质，并想证明它对于*任意*两点之间的*任意*路径都成立。路径归纳告诉我们，你只需要为平凡的自反路径证明它即可。如果一个性质对于任意点 $x$ 的“停在原地”路径 $\mathsf{refl}_x$ 成立，那么它必然对*所有*路径都成立。

为什么会这样呢？因为从系统的角度来看，每条路径都是由[自反性](@article_id:297713)“构成”的。这就像是说，如果你能证明一条物理定律对单个点成立，并且该定律遵循该点所有可能的移动和变换方式，那么它必然在任何地方都成立。形式上，要定义一个依赖于路径 $p: a =_A b$ 的函数或证明一个性质，我们只需为 $b$ 就是 $a$ 且 $p$ 是 $\mathsf{refl}_a$ 的情况进行定义即可。[@problem_id:2985665] 这条规则为我们提供了一个强大的杠杆，使我们能够沿着路径“传输”信息，并对等价的后果进行推理。

### 一次曲折的弯路：圆及其秘密

对于许多我们熟悉的类型，比如整数或有理数，这个图像是完全成立的。任意两个不同数字之间的路径空间是空的。一个数字与自身之间的路径空间只包含一样东西：乏味的 `refl` 路径。在HoTT的语言中，这些类型被称为**集合**（sets），或**$0$-类型**（0-types）。对于一个集合，任意两个等价证明本身是相等的。[等价类](@article_id:316440)型是**命题**（proposition）（最多只有一个成员）的这一性质，被称为**证明无关性**（proof irrelevance）。对于集合而言，你*如何*证明两事[物相](@article_id:375529)等并不重要；证明本身不携带任何额外信息。[@problem_id:484203]

但这正是HoTT释放其真正力量的地方。如果我们能定义一个*不是*集合的类型呢？如果我们能手动引入新种类的路径呢？

让我们构造圆，$\mathbb{S}^1$。我们用两个构造子来定义它：
1.  一个点：$\mathsf{base} : \mathbb{S}^1$。
2.  一条路径：$\mathsf{loop} : \mathsf{Id}_{\mathbb{S}^1}(\mathsf{base}, \mathsf{base})$。

仔细看第二行。我们正在明确地为等价类型 $\mathsf{base} =_{\mathbb{S}^1} \mathsf{base}$ 添加一个新成员。现在我们有了两个不同的证明来表明 $\mathsf{base}$ 等于其自身：平凡路径 $\mathsf{refl}_{\mathsf{base}}$ 和这条新的非平凡路径 $\mathsf{loop}$。

突然之间，从 `base` 到 `base` 的路径空间不再只是一个单点。它有了结构！我们可以遍历这个环路一次（$\mathsf{loop}$），两次（$\mathsf{loop}$ 与自身的复合），静止不动（$\mathsf{refl}_{\mathsf{base}}$），或者向后走（$\mathsf{loop}$ 的逆）。事实上，类型 $\mathsf{base} =_{\mathbb{S}^1} \mathsf{base}$ 的行为与整数 $\mathbb{Z}$ 完全一样。[@problem_id:484203]

这带来了巨大的后果。证明不再是无关紧要的了！路径的选择至关重要。让我们看看实际情况。想象一个“悬挂”在我们圆上的类型集合，我们称之为**依赖类型**（dependent type）。假设位于 $\mathsf{base}$ 点上方的类型是整数 $\mathbb{Z}$。我们可以使用路径归纳来定义当我们将一个整数沿着一条路径传输时会发生什么。根据规则，沿着 $\mathsf{refl}_{\mathsf{base}}$ 的传输必须是[恒等函数](@article_id:312550)——它什么也不做。但我们可以自由地定义，沿着我们的新路径 $\mathsf{loop}$ 进行传输对应于后继函数 $n \mapsto n+1$。

现在我们有两个关于 $\mathsf{base} = \mathsf{base}$ 的不同“证明”，它们具有截然不同的计算效果：
-   $\mathsf{transport}(\mathsf{refl}_{\mathsf{base}}, 5)$ 的值为 $5$。
-   $\mathsf{transport}(\mathsf{loop}, 5)$ 的值为 $6$。

证明的选择改变了我们程序的输出。这就是证明无关性的失效，也是理解“类型即具有形状的空间”的入口。[@problem_id:2985640]

### 世界不是平的：空间的层级

圆不是一个集合；它是一个 **$1$-类型**（1-type）。为什么？因为它的等价类型是集合（$0$-类型）。圆上任意两点之间的路径构成一个（至多是）集合的空间。例如，从 `base` 到 `base` 的路径构成了 $\mathbb{Z}$，而这是一个集合。

这揭示了一个优美的无限阶梯，即 **$n$-类型**（n-types）的层级：
-   **$(-1)$-类型** 是**命题**：一个最多只有一个成员（在等价意义下）的类型。任意两个证明都是等价的。例如：$2+2=4$。
-   **$0$-类型** 是**集合**：其任意等价类型 $a=b$ 都是一个命题的类型。例如：整数 $\mathbb{Z}$。
-   **$1$-类型** 是**广群**（groupoid）：其任意等价类型 $a=b$ 都是一个集合的类型。例如：圆 $\mathbb{S}^1$。
-   **$2$-类型** 是**2-广群**（2-groupoid）：其任意等价类型都是一个 $1$-类型的类型。路径之间的路径可以是非平凡的。
-   ……如此类推，以至无穷。

这个层级*就是*[同伦类型论](@article_id:340431)中的“同伦”。一个类型的[等价类](@article_id:316440)型的结构揭示了其“[同伦](@article_id:299714)维度”或形状。

### 一块罗塞塔石碑：连接百年拓扑学

如果这对于物理学或拓扑学的学生听起来很熟悉，那就对了！一百年来，代数拓扑学家们正是运用这些思想来研究空间的。
-   HoTT中的“路径”就是拓扑学家所说的**同伦**（homotopies）。
-   $n$-类型的层级对应于具有非平凡**[同伦群](@article_id:320289)** $\pi_n$ 的空间。群 $\pi_1(X)$ 度量空间 $X$ 中的一维环路，$\pi_2(X)$ 度量可以画出的二维球面，以此类推。

拓扑学中的一个关键工具是**Eilenberg-MacLane 空间**，记作 $K(G,n)$。这是一个特殊构造的空间，除了一个维度外，在所有其他维度上都是“[同伦](@article_id:299714)平凡”的。它唯一的非零同伦群是第 $n$ 个同伦群，它同构于某个群 $G$：$\pi_n(K(G,n)) \cong G$。[@problem_id:1647432] 这些空间是完美的分类器。拓扑学的一个基本定理指出，从一个空间 $X$ 到 $K(G,n)$ 的映射与 $X$ 的第 $n$ 个**上同调群**（cohomology group）之间存在一一对应关系。即 $[X, K(G,n)] \cong H^n(X; G)$。[@problem_id:1647417]

在HoTT中，这不再只是一个*关于*空间的定理；它变成了一个可以在逻辑系统*内部*证明的定理。HoTT的 $n$-类型是 Eilenberg-MacLane 空间的直接逻辑对应物。这两个曾经分离的领域，变成了描述同一底层现实的不同语言。同样，著名的 **Whitehead 定理**指出，在“良好”空间（如 CW 复形）之间，一个能在所有同伦群上导出同构的映射，必然是一个[同伦等价](@article_id:311234)。该定理在HoTT中有一个直接而强大的对应，构成了该理论的基石之一。[@problem_id:1694732]

逻辑与几何的这种融合正是HoTT的魔力所在。我们可以利用拓扑学的直观[空间推理](@article_id:355858)来指导我们的逻辑证明，也可以利用类型论的严谨计算性质来形式化和验证我们的空间直觉。证明的逻辑已然成为空间的几何。