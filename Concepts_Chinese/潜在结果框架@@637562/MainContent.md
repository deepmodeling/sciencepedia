## 引言
“如果……会怎样？”这个简单的问题是所有因果探究的核心。我们不断地思考那些未曾选择的道路，试图将现实世界与一个可能存在的世界进行比较。虽然我们无法直接观察这些平行的现实，但“潜在结果”框架提供了一个严谨的逻辑结构，将这种好奇心形式化。它提供了一种强大的语言，让我们能够超越纯粹的统计关联，去应对识别真正因果决定因素这一根本性挑战。

本文是这一基础框架的指南。第一部分“原理与机制”将解构潜在结果的核心逻辑，解释诸如 SUTVA 和一致性等关键假设，这些假设使我们能够从理论到数据之间建立一座稳固的桥梁。它还将阐明[可交换性](@entry_id:263314)和正值性这两个克服混杂因素陷阱所必需的关键条件。随后的“应用与跨学科联系”部分将展示该框架巨大的实用价值，揭示这种思维方式如何支撑现代医学、影响[公共政策评估](@entry_id:145541)，[并指](@entry_id:276731)导公平和个性化人工智能的发展。读完本文，您不仅会理解该框架的运作机制，还将认识到它作为跨科学领域因果推理统一语言的角色。

## 原理与机制

### “如果……会怎样”机器的梦想

所有因果问题的核心都源于一种简单而深刻的人类好奇心。当你头痛时，你吃了一片阿司匹林，一小时后感觉好多了。你将此归功于阿司匹林。但一个挥之不去的问题萦绕心头：“如果我没吃呢？我的头痛会自己好吗？”你正在请求看到一个不存在的世界，一个你做出不同选择的平行现实。这种将现实世界与一个*本可能存在*的世界进行比较的渴望，是因果思维的引擎。

**[潜在结果框架](@entry_id:636884)**本质上是对这个哲学问题的一种物理学式处理方法。它是一台用逻辑构建的“如果……会怎样”的机器。它没有给我们一个水晶球来窥探这些另类世界，但它为我们提供了一种严谨的语言来讨论它们，理解我们能知道什么、不能知道什么，并为进行公平比较设定游戏规则。

### 平行世界：潜在结果的逻辑

让我们将此形式化。想象一项临床研究，患者接受一种新疗法。我们用变量 $A$ 来标记处理方式，其中 $A=1$ 表示新疗法，$A=0$ 表示标准护理。对于这项研究中的每一个人，甚至在分配处理方式之前，我们都可以想象两种潜在的未来。

-   $Y(1)$: 这是指如果，假设地，我们给这个人施以新疗法（$A=1$），他/她的结果（比如血压）。
-   $Y(0)$: 这是指如果，假设地，我们给同一个人施以标准护理（$A=0$），他/她的结果。

对于任何给定的个体，这两个值 $(Y_i(0), Y_i(1))$ 被认为是该个体在那个时刻的固定属性，就像他们的身高或体重一样。对于这一个人来说，该疗法的真实、个体因果效应就是这两个潜在世界之间的差异：$Y_i(1) - Y_i(0)$。这就是我们“如果……会怎样”问题的答案。[@problem_id:4845570]

但我们立刻就撞上了一堵墙，这个问题是如此核心，以至于被称为**因果推断的基本问题**。对于任何一个人，我们永远只能观察到*其中一个*结果。如果一个患者接受了新疗法（$A_i=1$），我们观察到的是 $Y_i(1)$。他/她的另一个未来，$Y_i(0)$，即在标准护理下他/她*本应有*的结果，是未被观察到的。它永远停留在假设的领域。这是一个**反事实**——与事实相反。[@problem_id:4590296] [@problem_id:4150032] 我们永远无法直接测量个体因果效应，因为这样做需要我们同时存在于两个宇宙中。

这似乎是一个死胡同。但并非如此。虽然*个体*因果效应是隐藏的，但该框架为我们提供了工具，以智能的方式去追求群体中的*平均*因果效应，$E[Y(1) - Y(0)]$。但要做到这一点，我们首先需要为我们的想象世界商定一些基本规则。

### 构建一个稳定的宇宙：游戏规则

$Y(1)$ 和 $Y(0)$ 这个记号看起来简单，但它承载了两个深远的假设，这两个假设被捆绑在一起，称为**稳定单位处理值假设（SUTVA）**。这些假设必须成立，我们的“如果……会怎样”机器才不会崩溃。

首先，我们假设个体之间**无干预**。这意味着我的结果只取决于我的处理方式，而不是你的。想象一下，在不同城市分区评估一场流感疫苗接种运动。如果为你的区接种疫苗使得我在我的区生病的可能性降低（这种效应称为[群体免疫](@entry_id:139442)），那么我的结果就不仅仅是我所在区的疫苗接种状态 $A_i$ 的函数。它取决于所有分区的完整接种模式，$\mathbf{A} = (A_1, A_2, \dots, A_N)$。准确地说，我的潜在结果必须写成 $Y_i(\mathbf{a})$，即整个分配向量的函数。简单的记号 $Y_i(a_i)$ 是一个强大的简化，是一个刻意的建模选择，它假设这些涟漪效应可以忽略不计。[@problem_id:4845616]

其次，我们假设处理方式是明确定义的，**无隐藏版本**。当我们写 $Y(1)$ 时，我们假设“$A=1$”指的是一个单一、一致的干预措施。如果“新疗法”对某些人意味着50毫克剂量，而对另一些人意味着100毫克剂量，那么我们就不会有一个单一的 $Y(1)$。我们会有 $Y(\text{50mg 剂量})$ 和 $Y(\text{100mg 剂量})$。SUTVA 要求我们对处理方式的标签是明确无误的。[@problem_id:4845570]

有了这些规则，我们就可以在潜在结果和真实的、观测到的世界之间建立桥梁。这座桥被称为**一致性**假设。它指出，如果一个个体实际接受了处理 $A=a$，那么他们观测到的结果 $Y$ 正是他们的潜在结果 $Y(a)$。这使我们能够写下一个优美的小方程，连接这两个世界：

$$Y = A \cdot Y(1) + (1-A) \cdot Y(0)$$

这不仅仅是代数；这是一个故事。我们可以重新排列它，使其更具洞察力：

$$Y = Y(0) + A \cdot [Y(1) - Y(0)]$$

这表示，一个人观测到的结果是他们在控制条件下的基线结果 $Y(0)$，加上个体因果效应 $Y(1) - Y(0)$，但前提是他们确实接受了处理（$A=1$）。如果他们没有（$A=0$），第二项就消失了。这个简单而强大的“一致性”思想是基石，它使我们能够将数据与我们的因果问题联系起来，无论我们是在研究单一处理、一段时间内的处理历史（$Y = Y(\bar{A}_K)$），还是像中介分析中那样复杂的事件级联（$Y=Y_{X,M}$）。[@problem_id:4845575] [@problem_id:4912888]

### 关联的诱人陷阱

我们想估计平均因果效应 $E[Y(1) - Y(0)]$。由于我们无法看到同一个人的两种结果，最诱人的替代方法是比较在现实世界中接受了处理的人和没有接受处理的人。我们计算观测到的平均值差异：$E[Y | A=1] - E[Y | A=0]$。这就是**关联对比**。

但这是一个陷阱。**关联不是因果**。

想象一项关于新药的观察性研究。很可能医生更倾向于给他们最病重的患者，即预后最差的患者，开这种新药。如果我们随后观察到服用新药的群体结果更差，那么断定该药有害将是一个错误。这两个群体——处理组和未处理组——从一开始就是不可比的。

这就是**预测变量**和**决定因素**之间的关键区别。预测变量是任何与结果有[统计关联](@entry_id:172897)的变量。患者病情的严重程度是其结果的强预测变量。而决定因素则是一个真正的“原因”。它是一个如果你干预并改变它，就会改变结果概率的因素。[@problem_id:4584878] 在我们的例子中，医生对药物的选择被患者的严重程度所混杂。我们在科学和医学中的目标是找到决定因素，而不仅仅是预测变量。[潜在结果框架](@entry_id:636884)是帮助我们理清它们的工具。[@problem_id:4366811]

### 公平比较的艺术

如果简单地比较群体是一个陷阱，我们如何摆脱它？我们需要找到一种方法使比较变得公平。该框架向我们精确地展示了“公平”的含义以及我们如何可能实现它。

在我们的观察性研究中，“不公平”之处在于，接受处理的人即使没有接受处理，他们的预后也可能不同。也就是说，$E[Y(0) | A=1] \neq E[Y(0) | A=0]$。两个群体的基线潜在结果是不同的。这被称为**混杂**或**选择偏倚**。

解决方案是使各组**可交换**。这意味着我们需要使潜在结果独立于所接受的处理。

实现这一点的黄金标准是**随机化**。在随机对照试验（RCT）中，我们通过抛硬币来决定谁接受处理。这种随机化行为，平均而言，切断了患者预先存在的特征与他们所接受的处理之间的联系。最病重的患者与其他人一样，都有可能获得安慰剂或新药。通过设计，我们强制使两个群体变得可比，无论是在我们可以测量的方面，还是在我们无法测量的方面。我们使它们变得可交换。在一个完美的RCT中，关联差异等于因果效应：$E[Y | A=1] - E[Y | A=0] = E[Y(1) - Y(0)]$。[@problem_id:4575725]

但是如果我们无法进行实验呢？在许多情况下，进行随机化是不道德或不切实际的。这时，我们必须依赖观察性数据和一个额外的、大胆的假设：**条件[可交换性](@entry_id:263314)**。其思想是：也许处理方式在总体上不是随机的，但如果我们收集了所有驱动处理决策的因素 $L$（如年龄、性别、疾病严重程度）的数据，那么*在一组在 L 上完全相同的人群中*，处理的分配就“如同”随机一样。我们假设，给定 $L$，潜在结果与处理分配 $A$ 是独立的。这几乎是所有现代流行病学和观察性研究的基础。我们无法使各组全局可交换，但我们试图使它们局部地，或有条件地，可交换。[@problem_id:4603841] [@problem_id:4150032]

即使是这种巧妙的策略也有最后一个障碍：**正值性**。在 $L$ 的各分层内比较处理组和未处理组个体的策略，只有在每个分层中确实既有处理组个体又有未处理组个体时才有效。假设出于伦理原因，一种药物从未给过严重肾功能不全的患者。对于这组患者，我们存在正值性违规。我们没有关于如果他们服用了这种药物会发生什么的数据。我们有一个盲点。我们无法从数据中估计这一亚组的因果效应；任何这样做的尝试都将依赖于纯粹的外推——一种基于数学模型的猜测，与证据脱节。[@problem_id:4829467]

### 一个统一的思维框架

[潜在结果框架](@entry_id:636884)，从其简单的“如果……会怎样”的前提，到其 SUTVA 和一致性的规则，再到其可交换性和正值性的可识别性条件，为因果推理提供了一个完整而统一的语言。它不是一种统计方法，而是一种思维方式。它迫使我们对自己所问的因果问题有清晰的认识，并明确说明我们愿意为回答这个问题所做的假设。它揭示了看到[关联和](@entry_id:269099)证明因果之间的深刻差异，并照亮了我们从前者走向后者必须遵循的逻辑路径。

