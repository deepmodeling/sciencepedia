## 引言
在人类健康的旅程中，各种结局很少是孤立存在的。患者常常面临多种可能的未来，其中通往某一事件的道路可能因另一事件的发生而被阻断。一名正在接受心脏病治疗的患者可能会因癌症去世，从而排除了未来发生任何心脏事件的可能性。这种复杂的现实正是**竞争风险**所研究的领域。未能考虑到这种竞争关系可能导致结论失真、医疗决策有误以及公共卫生策略被误导。许多在生存分析中使用的标准统计工具并未针对这一挑战进行设计，如果轻率地应用，可能会产生误导性结果。

本文为[竞争风险](@entry_id:173277)这一核心概念提供了清晰的指南，揭示了其统计学基础的神秘面纱，并展示了其对医学的深远影响。我们将通过两个章节来阐述这个关键主题。首先，**“原理与机制”**一章将剖析核心理论，解释由竞争产生的悖论，并将有缺陷的方法与能够提供真实风险图景的数学上合理的方法进行对比。随后，**“应用与跨学科联系”**一章将把理论付诸实践，探讨[竞争风险分析](@entry_id:634319)如何为患者床边的关键决策提供信息，如何澄清癌症过度诊断等群体层面的悖论，以及如何帮助研究人员构建一个更健康的未来。

## 原理与机制

想象一场盛大而混乱的比赛。参赛者是患者，终点线是我们想要研究的特定医疗事件——比如说，从某种疾病中康复。但这并非一场普通的比赛。一些参赛者可能会抽筋而不得不停下（非致命性心脏病发作）。另一些参赛者可能因不相关的原因被取消资格（因事故死亡）。还有一些人可能干脆偏离赛道而迷路（失访）。如果我们的目标是估计参赛者成功冲过终点线的机会，我们该如何考虑所有这些其他的可能性呢？这便是**[竞争风险](@entry_id:173277)**的核心挑战。如果一个事件的发生使得我们关注的事件永远不可能发生，那么这个事件就与我们关注的事件“竞争”。

### 一场与时间的赛跑：竞争风险的悖论

让我们进入一位老年患者的世界。我们想了解他们发生重大残疾的风险。与此同时，这位患者和我们所有人一样，面临着死亡的风险。残疾和死亡是相互竞争的事件。一个去世的患者不可能再变得残疾。

现在，让我们基于一个常见的临床情境进行一个思想实验 [@problem_id:4578193]。我们有两组老年人。A 组相对健康，死亡风险较低。B 组身体虚弱，死亡风险高得多。让我们有些出人意料地假设，两组发生残疾的潜在趋势——即瞬时风险，或称**风险率（hazard）**——是*完全相同*的。如果你可以在任一时刻观察来自任一组的一个人，他们在那个瞬间变得残残疾的机会是相同的。

悖论就在这里：一年后，哪一组中发生残疾的*累积*人数会更高？直觉可能会大声说：“虚弱的那一组！他们的健康状况更差！”但现实的数学却讲述了一个不同的故事。由于 B 组中虚弱的个体死亡风险如此之高，他们中的许多人在有机会经历残疾之前就已退出了“比赛”。相比之下，A 组中身体不那么虚弱的个体能坚持更长时间，这给了他们更多可能变得残疾的时间。结果呢？更高的死亡率可能导致*观测到的残疾发生率更低*。

这不仅仅是一个数学上的奇特现象，而是对现实深刻的陈述。我们在一个群体中观察到的情况，不仅仅是某一事件风险的函数，而是*所有*可能事件风险之间复杂相互作用的结果。忽视这种竞争关系会导致对世界的看法产生扭曲。

### 简单方法的诱惑：一个常见的统计陷阱

当在一项关于非致命性心脏病发作的研究中面临像死亡这样的竞争事件时，一种常见但极其危险的本能做法是将死亡视为“删失”数据。在统计学中，**删失（censoring）**是我们处理信息不完整问题的工具。如果一名患者移居他国，我们失去了联系，我们就在他们最后一次已知的随访时点将其“删失”。我们不知道他们后来发生了什么，所以我们做出了一个关键假设：我们假设他们未来的风险与那些仍在研究中的人相同。对于这种管理性删失，这是一个合理的假设。

但将此逻辑应用于竞争事件则是一个根本性的错误 [@problem_id:4546910]。一位因癌症去世的患者并不仅仅是“失访”。他们发生非致命性心脏病发作的风险并非沿着某条未被观察到的路径继续存在，而是已经永久降至零。将他们视为删失，就等于假装他们仍在比赛中，这显然是错误的。

这种有缺陷的方法，通常通过一种名为 **Kaplan-Meier (KM) 估计量**的方法来执行，它并不能估计现实世界中的风险。相反，它估计的是一个假想世界中的风险，在这个世界里，竞争事件被神奇地消除了 [@problem_id:4546910]。其结果是一种持续且可预测的偏倚：它会*高估*真实风险。在一项对老年人群的真实研究中，这个“简单”的错误可能会将心脏病发作的 3 年[估计风险](@entry_id:139340)从真实值 $15.5\%$ 夸大到误导性的 $17.6\%$ [@problem_id:4992954]。对于一位为患者提供咨询的医生或一位分配资源的公共卫生官员来说，这并非一个微不足道的错误。

### 真实世界风险的基本方程

如果简单的方法失败了，那么正确的方法是什么？我们需要一个为现实世界打造的工具，一个能够拥抱而非忽视竞争的工具。这个工具就是**累积发生函数（Cumulative Incidence Function, CIF）**。

CIF，记为 $F_k(t)$，提出了一个简单而直接的问题：到时间 $t$ 为止，事件 $k$（我们关注的事件）已经发生的概率是多少？不是在幻想世界中，而是在充满各种复杂竞争可能性的真实世界里。形式上，我们将其写作 $F_k(t) = \mathbb{P}(T \le t, D = k)$，其中 $T$ 是首个事件发生的时间，$D$ 是其原因 [@problem_id:4975282]。

我们如何从头开始构建这个函数？让我们逐步思考。在任何给定时刻（比如时间 $u$）累积风险的变化取决于两件事：

1.  个体必须仍在这场“比赛”中。他们必须在时间 $u$ 之前未发生任何可能事件（包括我们关心的事件*以及*所有竞争事件）。这个概率就是**总体生存概率** $S(u)$。

2.  假定他们在时间 $u$ 仍然在比赛中，他们必须在紧接着的下一个瞬间经历我们关注的事件。这种情况发生的瞬时速率就是**特定原因风险率** $\lambda_k(u)$。

在时间 $u$ 恰好经历事件 $k$ 的概率是这两个量的乘积。为了找到到时间 $t$ 为止的总累积风险，我们只需将这些微小的概率片段从比赛开始到时间 $t$ 的整个时间段内加起来（或者，用微积分的语言来说，进行积分）。这就得到了我们可以称之为“真实世界风险的基本方程” [@problem_id:4975282] [@problem_id:4546910]：

$$ F_k(t) = \int_0^t S(u) \lambda_k(u) \, du $$

这个方程的美在于其清晰性。它表明，事件 $k$ 的概率不仅取决于其自身的[风险率](@entry_id:266388) $\lambda_k(u)$，还与总体生存概率 $S(u)$ 密不可分，而后者又取决于*所有*竞争事件的风险率。这就是竞争的数学体现。当我们用真实数据来计算这个值时，例如使用 **Aalen-Johansen 估计量**，我们实质上是在观测到的事件时间点上逐步执行这个求和过程 [@problem_id:4607503]。

### 竞争建模：从[风险率](@entry_id:266388)到概率

基本方程为我们提供了一个理论框架。为了对个体患者进行预测，我们需要为[风险率](@entry_id:266388)建立模型。一种标准方法是使用**特定原因[比例风险模型](@entry_id:171806)**，比如著名的 Cox 模型 [@problem_id:4442735]。我们可以为我们关注的事件（例如心肌梗死）的[风险率](@entry_id:266388)建立一个模型，并为每个竞争事件（例如癌症死亡、意外死亡）的[风险率](@entry_id:266388)分别建立单独的模型。

这些模型告诉我们，年龄、吸烟或一种新疗法等因素如何影响每个事件的*瞬时率*。例如，一个模型可能会告诉我们，一种新药将心脏病发作的特定原因风险率减半。但这里存在另一个微妙的陷阱。这并*不意味着*该药物将患者 5 年内发生心脏病发作的风险减半 [@problem_id:4975282]。为什么？因为该药物可能也会影响竞争事件的风险率。如果该药物轻微增加了致命性中风的风险，这一变化将改变总体生存函数 $S(u)$。通过我们的基本方程计算出的心脏病发作的最终风险，是药物对心脏病发作[风险率](@entry_id:266388)影响*以及*其对所有其他[竞争风险](@entry_id:173277)率影响的复杂组合。

要获得患者的真实风险，我们必须：
1.  使用我们的模型，根据患者的个体特征（如年龄、遗传等）预测他们所有竞争原因的特定风险函数。
2.  将这些函数结合起来，计算他们个人的总体生存曲线 $S(t)$。
3.  最后，将这些组成部分代入基本方程，计算他们的个性化 CIF [@problem_id:4579906]。

还有另一种非常巧妙的方法，称为 **Fine-Gray 模型** [@problem_id:4992954] [@problem_id:4975242]。它不直接对特定原因风险率建模，而是通过重新定义问题来直接对 CIF 建模。它通过创建一个特殊的“子分布[风险率](@entry_id:266388)”来实现这一点，其中，巧妙地将经历竞争事件的个体保留在风险集（分母）中，但定义他们不能再经历我们关注的事件。这个技巧使得模型的系数能够直接关联到累积风险，而这通常正是临床医生或患者想要知道的。

### 科学家的谦逊：了解游戏规则

每个强大的工具都附有一套操作说明和假设。[竞争风险分析](@entry_id:634319)的方法也不例外。为了使我们的模型和估计量值得信赖，某些“游戏规则”必须得到遵守 [@problem_id:4442735]。模型必须被正确设定，并且我们必须拥有涵盖所有患者类型的足够数据，以避免做出不切实际的外推。

也许最重要的假设是**非信息性删失**。我们假设，当一名患者“失访”时，他们失联的原因与我们正在研究的事件的未来风险无关。但如果这个假设是错误的呢？

考虑一项研究，其中我们的删失是患者中途退出。现在想象存在一个未被观察到的因素，一种隐藏的“虚弱性”，使得某些人既更容易患上我们正在研究的疾病，也更容易因病重而无法继续参与研究 [@problem_id:4987848]。在这种情况下，删失不再是非信息性的；它依赖于我们想要测量的风险本身。退出的患者是那些风险偏高的人。随着研究的进行，我们剩余的样本被人为地富集了更健康、低风险的个体。结果是什么？我们的估计量，对这个隐藏的过程一无所知，将看到一个低于原始人群真实情况的事件发生率，并且它会系统性地*向下*偏倚。它会低估真实风险。

这是关于科学谦逊的一课。我们的模型的好坏取决于其假设。这就是为什么好的科学不仅仅产生一个单一的数字作为预测。它会产生一个**[置信区间](@entry_id:138194)**——一个承认我们[统计不确定性](@entry_id:267672)的合理数值范围 [@problem_id:4514245]。它还涉及**偏倚分析**，即我们通过提出“如果……会怎样？”的问题，来探索如果我们的假设（如非信息性删失或不存在未测量混杂因素）被违反，我们的结论可能会如何改变 [@problem_id:4975242]。

理解竞争风险不仅仅是一项统计练习。它是一种更诚实、更准确地看待人类健康这张复杂交织的织锦的方式，在这里，多种未来总是可能的，而通往其中之一的道路总是受到其他可能性的牵引。

