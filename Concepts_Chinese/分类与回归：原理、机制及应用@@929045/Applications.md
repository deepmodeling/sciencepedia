## 提问的艺术：[分类与回归](@entry_id:637626)的应用

在宏伟的科学事业中，我们的进步常常以我们找到的答案来衡量。但真正的艺术或许在于我们学会提出的问题。当我们转向浩瀚而沉默的数据宇宙时，有两个问题因其力量和频率而卓然独立：“是哪一种？”和“有多少？”。第一个是**分类**问题。它要求我们将某物归入一个类别，给它一个名称：这颗恒星是[红巨星](@entry_id:161958)还是白矮星？这个细胞是癌细胞还是健康细胞？第二个是**回归**问题。它要求一个数量，一个度量：那个星系有多远？这个化学反应的温度是多少？

这个看似简单的区别——在标签和数字之间的选择——是所有数据科学中最深刻的组织原则之一。它塑造了我们看待世界的方式、我们构建工具的方法，以及我们能够提取的知识的本质。在我们探索了原理和机制之后，我们已经构建了我们的工具箱。现在，让我们踏上一次穿越科学与工程领域的旅程，见证这些工具的实际应用。我们将看到这一个根本性的选择如何从分子的微观领域回响到生态系统的宏观尺度，揭示出科学探究的美妙统一性。

### 从分子到地貌：定义世界

让我们从分子尺度开始我们的旅程，进入一位试图设计一种新的救命药物的药物化学家的世界。任何口服药物的一个关键特性是其溶解度；它必须在肠道中溶解才能被吸收到血液中。这位化学家可能会问两个相关但不同的问题。首先，为了快速筛选数千种候选分子，他们可能会问一个简单的分类问题：“这个分子可能‘高溶解度’还是‘低溶解度’？”这是一个“是/否”或“通过/不通过”的决定。之后，对于最有希望的候选分子，一个更细致的回归问题变得至关重要：“这个分子的*确切溶解度*是多少，以摩尔/升为单位？”预测一个类别是分类任务；预测一个连续值是回归。在该领域的语言中，这些将分子结构与其性质联系起来的模型被称为[定量构效关系](@entry_id:175003)（Quantitative Structure-Property Relationships, QSPRs）[@problem_id:4563940]。问题的选择决定了模型的输出和用途，指导着从化学蓝图到有效药物的漫长道路。

现在，让我们从[分子尺](@entry_id:166706)度放大到整个地貌的尺度，通过卫星的眼睛来观察。一位生态学家想要创建一张区域地图，标记每一块土地：“这是森林、草地还是水体？”这是一个经典的[分类问题](@entry_id:637153)。一个简单的方法是根据每个像素的颜色，或者更准确地说，是其光谱特征来进行分类。但大自然往往更为微妙。如果一个稀疏、干燥的森林与一片茂盛的草地具有相同的平均绿棕色怎么办？一个逐像素的分类器将会无所适从。

在这里，我们必须提出一个更复杂的问题。我们必须教我们的机器不仅要看颜色，还要看*纹理*。茂密的森林冠层具有平滑、缓慢变化的纹理，而草地则更“粗糙”或呈斑块状。通过设计能够衡量这种空间模式——即一个像素的值如何与其邻居的值相关——的特征，我们可以构建一个远为强大的分类器。这些纹理度量，如半变异函数或灰度[共生](@entry_id:142479)矩阵的统计数据，量化了[空间相关性](@entry_id:203497)的概念。它们将像素的空间排列转化为我们分类器可以使用的一组新数字。通过这种方式，我们可以区分两个在平均值上相同但在结构上不同的区域。这个简单的问题，“这是森林还是草地？”，引导我们走向二阶属性这一深邃的统计概念，使我们能够基于模式和结构进行辨别，而不仅仅是简单的平均值 [@problem_id:3860041]。

### 人类领域：健康、疾病与时间

在研究人类健康时，“哪一种”和“有多少”这两个问题显得尤为深刻。考虑一位肝硬化患者，这是一种健康组织被疤痕组织取代的病症。在接受新疗法后，他的医生想知道：“治疗有效吗？肝硬化在好转吗？”这听起来像一个简单的问题，但在临床试验中，必须以绝对的严谨来回答。研究人员可能会定义一个“复合缓解”分类：只有当患者在多个不同测量指标上都显示出显著改善时，才被宣布为“响应者”。例如，纤维组织的数量必须减少至少$0.2$，肝脏的硬度（通过超声测量）必须下降至少$0.15$，门静脉的压力必须降低至少$0.2$。这些中的每一个都是连续的测量值——一个回归目标——但最终的临床判断是一个分类，一个基于一套严格规则分配的标签 [@problem_id:4327082]。这是一个美丽的例子，说明我们如何结合定量测量来回答一个定性但改变生活的问题。

时间维度增添了另一层复杂性和力量。我们不断地对未来提出问题。对于金融分析师来说，[分类问题](@entry_id:637153)是“明天股市会涨还是会跌？”，而回归问题是“它究竟会变动多少？”[@problem_id:3169429]。在医学领域，这些关于时间的问题具有重大的意义。对于有患神经退行性疾病风险的患者，我们可能会根据复杂的网络扫描构建一个他们大脑的精密模型。从这一个模型中，我们可以同时提出一整套问题：
-   **分类**：这个人目前是否患有该疾病？($y_i \in \{0,1\}$)
-   **回归**：他们在认知测试上的当前得分是多少？($s_i \in \mathbb{R}$)
-   **生存分析**：在未来几年内，他们转化为更严重疾病阶段的风险是多少？

最后一个问题特别有趣。生存分析是一项混合任务；它不仅试图预测事件*是否*会发生，还试图预测*何时*发生。它优雅地将分类的逻辑（事件发生或不发生）与回归的逻辑（到事件发生的时间是一个连续量）结合起来，同时小心地处理那些我们在研究结束前就失访的案例。通过训练一个单一、强大的[图神经网络](@entry_id:136853)来同时回答这三个问题，我们得到了对患者状况的一个整体、多方面的视图，远比任何单一预测都丰富得多 [@problem_id:4167841]。

### 构建引擎：当任务交汇时

现代人工智能最激动人心的前沿往往在于分类和回归不是独立的选择，而是一个单一、集成系统中的合作伙伴。这就是[多任务学习](@entry_id:634517)的世界。

想象一个为协助放射科医生解读胸部CT扫描而构建的AI。它的工作是发现潜在的癌性肺结节。为此，系统必须为它找到的每个可疑区域执行两项任务。首先是一个**分类**任务：“这个区域是结节，还是仅仅是良性结构或成像噪声？”其次是一个**回归**任务：“如果它*是*一个结节，其[边界框](@entry_id:635282)的精确坐标是什么？”第一个问题是关于身份；第二个问题是关于位置和大小。一个成功的系统*必须*两者兼顾。它学习一种对图像的共享表示，这种表示对于回答“是什么”和“在哪里”都很有用 [@problem_id:5216717]。

任务之间的区别甚至更深，影响着我们学习算法的架构。以[随机森林](@entry_id:146665)为例，这是一种通过构建一个由许多简单决策树组成的“委员会”来工作的强大方法。当我们构建每棵树时，我们必须决定如何在每个分支处进行分裂。事实证明，最佳策略取决于我们提出的问题。
-   对于**分类**任务，如预测患者死亡率，每次分裂都旨在使产生的组在其类别标签方面“更纯粹”。即使使用一个小的、随机的可能特征子集，我们也可以得到一个非常好的分裂。
-   对于**回归**任务，如预测住院天数，每次分裂都必须显著减少结果组中数值的方差。这是一项更难的工作，如果树在每一步都能从更多的特征中进行选择，它的表现会更好。

因此，标准做法是在分类任务的每次分裂中使用较少数量的候选特征（例如，$m_{\text{try}} \approx \sqrt{p}$，其中 $p$ 是总特征数），而在回归任务中使用较多（例如，$m_{\text{try}} \approx p/3$）。算法调优中的这种细微差异，是减少不纯度和减少方差之间根本数学差异的直接结果。我们问题的性质确实改变了我们机器的思考方式 [@problem_id:4791276]。

### 科学家的重负：处理不完美的世界

如果我们假装来自现实世界的数据是干净、完美和直接的，那么我们的旅程将是不完整的。事实并非如此。明智地应用分类和回归的一个关键部分，是在诚实理解数据局限性的基础上进行。

让我们回到工程蛋白质的世界 [@problem_id:2749089]。一个实验测量了数千种新设计酶的活性。对于大多数酶，我们得到了一个漂亮的连续数值——一个完美的回归目标。但对于某些酶，活性太低，以至于仪器只读出“低于检测极限”。我们该怎么办？我们不能就这么扔掉这些数据点，也不能不诚实地将它们的值设为零。正确的做法是构建一个能理解这种局限性的模型。我们告诉回归模型：“对于这个数据点，我不知道确切的值，但我知道它小于 $L$。”这就是**删失回归**（censored regression）背后的原理，这是一种更真实地模拟被测量世界的方式。同样，如果我们的一些测量非常精确，而另一些非常嘈杂，我们应该构建一个更关注高[质量数](@entry_id:142580)据的模型。这是通过将每个数据点对误差的贡献按其测量方差的倒数进行加权来实现的——这是一个直接源于最大似然原理的简单而强大的思想。

这种科学的诚实延伸到整个实验过程。想象一个大规模的生物学实验，测量不同组织样本中数千种细胞特性。实验规模如此之大，以至于必须分几周分批进行 [@problem_id:4344731]。但是，周与周之间试剂、温度或机器校准的微小变化可能会引入“批次效应”——一种系统性的、非生物学的测量差异。现在，假设由于偶然，“患病”样本大部分在第1周处理，而“健康”样本大部分在第2周处理。一个在这些数据上训练的朴素分类器可能会达到完美的准确率。但它并没有学会区分“患病”和“健康”；它只是学会了区分“第1周”和“第2周”！它在处理新数据时将完全无用。一个优秀的科学家必须预见并纠正这一点。他们必须要么在他们的回归或分类模型中明确地将“批次”作为一个变量包含进去，要么在主分析之前使用复杂的协调技术来移除批次效应。这不仅仅是一个技术细节；这是一个[科学诚信](@entry_id:200601)的问题。

### 结论

我们的巡礼至此结束。从药物分子的结构到森林的纹理，从患者的预后到算法的设计，我们看到了同一个根本性的[二分法](@entry_id:140816)在起作用：[分类与回归](@entry_id:637626)，“哪一种”与“有多少”。这个选择是发现的第一步。它聚焦了我们的探究，决定了我们必须构建的工具，并最终决定了我们所获知识的形态。在一个数据泛滥的世界里，最大的挑战和最高的艺术，不仅在于找到答案，更在于学会提出正确的问题。