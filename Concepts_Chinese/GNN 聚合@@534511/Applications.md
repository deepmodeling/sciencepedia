## 应用与跨学科联系

现在我们已经了解了[图神经网络](@article_id:297304)的内部工作原理和邻域聚合的优雅原则，我们可以开动这个引擎去兜风了。它[能带](@article_id:306995)我们去哪里？你可能会感到惊讶。节点向其邻居传递消息这个简单的想法，原来是一种“罗塞塔石碑”，让我们能够解读和建模从宇宙的精密运作到生命错综复杂的网络等各种惊人的系统。我们将看到，这不仅仅是一个巧妙的编程技巧，它反映了关于世界结构的一个基本真理。

### 天体音乐：GNN 在物理科学中的应用

如果我告诉你，你已经了解了[消息传递](@article_id:340415)呢？你可能在第一堂物理课上就学过它，只是没有意识到。想象一个由弹簧连接的[质点](@article_id:365946)网络，在空间中[振荡](@article_id:331484)和移动。一个质点如何“知道”该往哪里去？它感受到与之相连的弹簧施加在它身上的力。作用在给定质点上的总力是其邻居施加的各个力的总和。

这本质上就是一个 GNN！两个质点间的弹簧所施加的力——根据[胡克定律](@article_id:310101) (Hooke's Law)，该力与它们的位移成正比——就是一个“消息”。每个[质点](@article_id:365946)通过将这些消息相加来“聚合”它们。产生的合力决定了质点的加速度。一个为模拟此类系统而设计的 GNN 正是这样做的：它传递代表力的消息并聚合它们来预测运动。这不是一个类比，而是一个数学上的恒等式。GNN 的语言就是经典力学的语言，能够描述由局部相互作用支配的系统 [@problem_id:3131987]。

让我们把尺度从弹簧和[质点](@article_id:365946)缩小到原子和[化学键](@article_id:305517)。分子是图的一个完美例子，其中原子是节点，[化学键](@article_id:305517)是边。它的性质——是否会与[蛋白质结合](@article_id:370568)、如何反应、会是什么颜色——都源于其组成原子的复杂舞蹈。要预测这些性质，模型必须理解分子的结构。

在这里，我们看到了 GNN 框架的深邃优雅之处。如果我们决定用不同的方式给一个分子的碳原子编号，分子的物理现实并不会改变。GNN 基于图的连通性进行操作，天生就尊重这一物理原则。它的计算依赖于邻域结构（“谁与谁成键”），而不是一个任意的原子坐标列表。这个被称为**[置换](@article_id:296886)[不变性](@article_id:300612) (permutation invariance)** 的属性，是像多层感知机这样的简单模型难以处理的，因为多层感知机会将一个重新编号的分子视为一个全新的输入 [@problem_id:1426741]。GNN 将这一基本原则融入其架构中，使其成为模拟化学和[材料科学](@article_id:312640)的量子和经典世界的自然选择。

然而，一个好的物理学家知道他们工具的局限性。如果我们想预测一个仅仅是其各部分之和的属性，比如总分子量，该怎么办？在这里，GNN 揭示了一个微妙的教训。要让 GNN 计算[原子量](@article_id:305460)的简单总和，必须有效地“关闭”不同原子之间的[消息传递](@article_id:340415)。答案是让每个节点“向虚空中喊出自己的重量”，而不接收来自邻居的任何消息，然后简单地将结果相加。在这种情况下，邻域聚合的精妙机制是不必要的。这告诉我们，GNN 是专门为那些从相互作用中*涌现*的属性而设计的，而不是为那些简单的可加性属性设计的 [@problem_id:2395422]。

### 生命与逻辑之网：GNN 在信息网络中的应用

支配相互作用原子的逻辑同样可以描述信息在[复杂网络](@article_id:325406)中的流动。让我们从物理领域转向生物和社会领域。

考虑一下你最喜欢的流媒体服务上的[推荐引擎](@article_id:297640)。它怎么知道你可能会喜欢某部电影？它建立了一个庞大的用户-物品二分图。当你与一个物品互动时，你就创建了一条链接。然后，引擎使用 GNN 来探索这个图。经过一层[消息传递](@article_id:340415)，你喜欢的物品的信息流向你。经过*第二*层，这些信息从你这里流向喜欢同样物品的*其他用户*。这条“用户-物品-用户”的路径是一个两跳邻域，它是[协同过滤](@article_id:638199)的基本信号。GNN 会学到，如果你们两个用户之间有许多这样的路径相连，你们的品味可能很相似 [@problem_id:3131963]。但这也伴随着一个警告。如果你堆叠太多层，消息会在整个网络中混合。每个人的个人资料都开始变得像平淡无奇的全局平均值——这种现象被称为**过平滑 (over-smoothing)**，这也是为什么更深的网络并不总是更好的原因。

这种信息流在生物学中同样至关重要。[基因调控网络](@article_id:311393)描述了哪些基因开启或关闭其他基因。在这里，GNN 可以揭示深层的功能相似性。如果两个基因 *GenA* 和 *GenB*，在经过 GNN 处理后最终得到非常相似的[嵌入](@article_id:311541)表示，这意味着它们在细胞中有着相似的“工作描述”。即使它们没有直接相连，它们也可能受到一组相似的其他基因的调控，并且它们自身也可能调控一组相似的目标。GNN 的聚合过程自然地识别出这些等价的结构角色 [@problem_id:1436693]。这种能力可以被用于科学发现本身。通过将所有已知的基因-疾病连接表示为一个“知识图谱”，GNN 可以学习预测缺失的链接，为哪些基因可能与哪些疾病有关提出新的假设，这个任务被称为链接预测 [@problem_id:1436669]。

有时图不是抽象的，而是分布在物理空间中。想象一下大脑切片的高分辨率图，其中每个像素（或“点”）都测量了数千个活性基因。这就是空间转录组学的世界。通过定义一个图，其中每个点是一个节点，与其直接的空间邻居相连，GNN 就可以施展其魔力。[消息传递](@article_id:340415)就像一个[扩散过程](@article_id:349878)，平滑了嘈杂的基因表达数据。就像图像编辑器中的模糊滤镜平均像素颜色一样，GNN 平均了相邻点的[特征向量](@article_id:312227)。这使得空间上连贯的区域，比如皮层的不同层次，能够更清晰地“凸显”出来 [@problem_id:2752979]。更高级的 GNN 甚至可以学会在这些区域的边界处保持谨慎，利用注意力机制来“减少关注”那些似乎来自不同组织类型的邻居发来的消息。

[消息传递](@article_id:340415)框架比我们所展示的还要灵活。到目前为止，我们主要考虑的是通过*求和*进行聚合，就[像力](@article_id:335844)的叠加一样。但如果相互作用是概率性的呢？考虑在社交网络上建模疾病的传播。为了保持健康，你必须*不*被你的第一个邻居感染，*并且不*被你的第二个邻居感染，以此类推。保持健康的概率是避免从每个邻居那里感染的各个概率的*乘积*。可以构建一个带有乘积聚合器的 GNN 来完美地捕捉这种逻辑。这揭示了许多 GNN 中使用的标准求和聚合器是这种概率模型的一个近似，当感染概率较低时，这个近似效果很好。这表明 GNN [范式](@article_id:329204)是一个通用的支架，可以配备不同的聚合逻辑来匹配所建模系统的底层性质 [@problem_id:3189839]。

### 计算的罗塞塔石碑：GNN 作为一种统一的语言

我们已经看到 GNN 如何建模物理、生物和社会。然而，它们最深层的美可能在于它们如何作为一种统一的语言，连接到计算领域的其他伟大思想。

我们很多人都熟悉[卷积神经网络 (CNN)](@article_id:303143)，它们是计算机视觉的强大工具。CNN 的工作方式是在图像网格上滑动小型滤波器（核）。它与 GNN 有什么联系？GNN 是一个更普遍的概念。CNN 只是一个专门用于规则网格结构的 GNN。事实上，CNN 中的 `$1 \times 1$` 卷积——一种在每个像素上独立混合跨通道信息的操作——在数学上等同于一个图只有[自环](@article_id:338363)的 GNN。它是一个在不同节点之间没有[消息传递](@article_id:340415)的 GNN，其中一个共享的变换被应用于每个位置 [@problem_id:3094428]。理解这一点有助于将这些强大的工具置于一个单一、连贯的图景中。

最后，让我们将其与有史以来最著名的图[算法](@article_id:331821)之一联系起来：PageRank，这个[算法](@article_id:331821)驱动了最初的谷歌搜索引擎。PageRank 通过迭代计算指向某个网页的其他网页的重要性总和来确定该网页的“重要性”。这听起来非常像[消息传递](@article_id:340415)！确实，用于计算个性化 [PageRank](@article_id:300050) (Personalized PageRank) 的迭代更新规则可以完全表示为一个 GNN [消息传递](@article_id:340415)方案，该方案包含一个“传送”回源节点的概率。这个迭代过程的[定点](@article_id:304105)解就是 PageRank 向量本身。这意味着 GNN 不仅仅是一个黑箱学习器；它是一个如此强大的框架，以至于它可以表达，甚至在原则上可以学习那些塑造了我们数字世界的经典图[算法](@article_id:331821) [@problem_id:3189934]。

从星体间的引力到我们大脑中的[神经元](@article_id:324093)，从线上的信息流到计算的基本[算法](@article_id:331821)，世界是由局部相互作用的织物编织而成的。邻域聚合的原则是我们解读它的方式。[图神经网络](@article_id:297304)的真正力量不在于其复杂性，而在于其深刻的简洁性以及它们所提供的统一视角。