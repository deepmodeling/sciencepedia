{
    "hands_on_practices": [
        {
            "introduction": "Mastering projection methods begins with a firm grasp of the underlying mathematical structure. This first exercise  provides a foundational practice by stripping the problem down to a one-dimensional, variable-density scenario, mimicking a simple flame structure. By deriving and solving the elliptic equation for the pressure correction analytically, you will gain crucial insights into how density variations and boundary conditions shape the velocity field to satisfy the low-Mach number divergence constraint.",
            "id": "4054570",
            "problem": "Consider a one-dimensional low-Mach-number reacting flow in the spatial interval $[0,L]$ with $L=1\\,\\mathrm{m}$. The mass density is piecewise constant: $\\rho(x)=\\rho_1$ for $0 \\le x  L/2$ and $\\rho(x)=\\rho_2$ for $L/2 \\le x \\le L$, where $\\rho_1=1\\,\\mathrm{kg}\\,\\mathrm{m}^{-3}$ and $\\rho_2=2\\,\\mathrm{kg}\\,\\mathrm{m}^{-3}$. A provisional velocity $u^*(x)$ is obtained from the non-pressure part of the momentum equation and is given as a uniform constant $u^*(x)=U_0$ with $U_0=0.5\\,\\mathrm{m}\\,\\mathrm{s}^{-1}$. The low-Mach constraint relates the divergence of the corrected velocity $u^{n+1}(x)$ to a specified thermochemical source $S(x)$ via $\\partial u^{n+1}/\\partial x = S(x)$. Here, $S(x)$ is piecewise constant with $S(x)=S_1$ for $0 \\le x  L/2$ and $S(x)=S_2$ for $L/2 \\le x \\le L$, where $S_1=0.2\\,\\mathrm{s}^{-1}$ and $S_2=-0.2\\,\\mathrm{s}^{-1}$. The corrected velocity satisfies no-penetration boundary conditions $u^{n+1}(0)=0$ and $u^{n+1}(L)=0$. The time step is $\\Delta t=0.1\\,\\mathrm{s}$.\n\nStarting from the conservation laws for low-Mach-number reacting flows and the idea of a variable-density projection that enforces the divergence constraint, derive the appropriate elliptic problem for the pressure increment consistent with a one-step velocity correction at time level $n+1$. Solve this problem in the piecewise-constant-density setting with the given data and interface conditions implied by conservation, and compute the corrected velocity $u^{n+1}(x)$ at $x=L/4$.\n\nReport the numerical value of $u^{n+1}(L/4)$ in $\\mathrm{m}\\,\\mathrm{s}^{-1}$, rounded to three significant figures. Express the final answer in $\\mathrm{m}\\,\\mathrm{s}^{-1}$.",
            "solution": "The problem is first validated against the required criteria.\n\n### Step 1: Extract Givens\n-   Spatial interval: $[0, L]$ with $L=1\\,\\mathrm{m}$.\n-   Mass density: $\\rho(x) = \\rho_1$ for $0 \\le x  L/2$ and $\\rho(x) = \\rho_2$ for $L/2 \\le x \\le L$.\n-   Density values: $\\rho_1 = 1\\,\\mathrm{kg}\\,\\mathrm{m}^{-3}$, $\\rho_2 = 2\\,\\mathrm{kg}\\,\\mathrm{m}^{-3}$.\n-   Provisional velocity: $u^*(x) = U_0 = 0.5\\,\\mathrm{m}\\,\\mathrm{s}^{-1}$ (uniform constant).\n-   Divergence constraint: $\\partial u^{n+1}/\\partial x = S(x)$.\n-   Thermochemical source term: $S(x) = S_1$ for $0 \\le x  L/2$ and $S(x) = S_2$ for $L/2 \\le x \\le L$.\n-   Source term values: $S_1 = 0.2\\,\\mathrm{s}^{-1}$, $S_2 = -0.2\\,\\mathrm{s}^{-1}$.\n-   Boundary conditions for corrected velocity: $u^{n+1}(0)=0$ and $u^{n+1}(L)=0$.\n-   Time step: $\\Delta t = 0.1\\,\\mathrm{s}$.\n\n### Step 2: Validate Using Extracted Givens\n1.  **Scientifically Grounded:** The problem describes a standard one-dimensional application of a projection method for variable-density low-Mach number flows, a well-established topic in computational combustion and computational fluid dynamics. The governing equations and concepts are based on fundamental principles of physics.\n2.  **Well-Posed:** The problem provides all necessary data (densities, provisional velocity, source term, boundary conditions) to formulate and solve the problem. As will be shown, the data are consistent, leading to a unique solution for the corrected velocity field.\n3.  **Objective:** The problem is stated using precise, unambiguous mathematical and physical terminology.\n\n### Step 3: Verdict and Action\nThe problem is valid. A detailed solution follows.\n\nThe projection method for low-Mach-number flows corrects a provisional velocity field, $u^*$, to obtain a velocity field at the new time level, $u^{n+1}$, that satisfies a divergence constraint. The velocity correction is driven by the gradient of a pressure-like quantity, which we will denote as the pressure increment $\\phi$. The one-step velocity correction is given by:\n$$\nu^{n+1}(x) = u^*(x) - \\frac{\\Delta t}{\\rho(x)} \\frac{\\partial \\phi}{\\partial x}\n$$\nThe corrected velocity $u^{n+1}(x)$ must satisfy the divergence constraint, which in one dimension is:\n$$\n\\frac{\\partial u^{n+1}}{\\partial x} = S(x)\n$$\nSubstituting the expression for $u^{n+1}(x)$ into the divergence constraint yields an elliptic equation for $\\phi$:\n$$\n\\frac{\\partial}{\\partial x} \\left( u^*(x) - \\frac{\\Delta t}{\\rho(x)} \\frac{\\partial \\phi}{\\partial x} \\right) = S(x)\n$$\n$$\n\\frac{\\partial u^*}{\\partial x} - \\frac{\\partial}{\\partial x} \\left( \\frac{\\Delta t}{\\rho(x)} \\frac{\\partial \\phi}{\\partial x} \\right) = S(x)\n$$\nGiven that $u^*(x) = U_0$ is a constant, its derivative $\\frac{\\partial u^*}{\\partial x} = 0$. The equation for $\\phi$ simplifies to:\n$$\n-\\frac{\\partial}{\\partial x} \\left( \\frac{\\Delta t}{\\rho(x)} \\frac{\\partial \\phi}{\\partial x} \\right) = S(x)\n$$\nSince $\\Delta t$ is a constant, we can write the elliptic problem for the pressure increment $\\phi$ as:\n$$\n\\frac{\\partial}{\\partial x} \\left( \\frac{1}{\\rho(x)} \\frac{\\partial \\phi}{\\partial x} \\right) = -\\frac{S(x)}{\\Delta t}\n$$\nThis equation must be solved subject to boundary and interface conditions. The boundary conditions for $\\phi$ are derived from the boundary conditions on $u^{n+1}$.\nAt $x=0$:\n$$\nu^{n+1}(0) = u^*(0) - \\frac{\\Delta t}{\\rho(0)} \\left. \\frac{\\partial \\phi}{\\partial x} \\right|_{x=0} = 0\n$$\nSince $u^*(0) = U_0$ and $\\rho(0)=\\rho_1$, we have:\n$$\nU_0 - \\frac{\\Delta t}{\\rho_1} \\left. \\frac{\\partial \\phi}{\\partial x} \\right|_{x=0} = 0 \\implies \\left. \\frac{\\partial \\phi}{\\partial x} \\right|_{x=0} = \\frac{\\rho_1 U_0}{\\Delta t}\n$$\nThis is a Neumann boundary condition at $x=0$.\n\nAt $x=L$:\n$$\nu^{n+1}(L) = u^*(L) - \\frac{\\Delta t}{\\rho(L)} \\left. \\frac{\\partial \\phi}{\\partial x} \\right|_{x=L} = 0\n$$\nSince $u^*(L) = U_0$ and $\\rho(L)=\\rho_2$, we have:\n$$\nU_0 - \\frac{\\Delta t}{\\rho_2} \\left. \\frac{\\partial \\phi}{\\partial x} \\right|_{x=L} = 0 \\implies \\left. \\frac{\\partial \\phi}{\\partial x} \\right|_{x=L} = \\frac{\\rho_2 U_0}{\\Delta t}\n$$\nThis is a Neumann boundary condition at $x=L$.\n\nThe problem has a piecewise-constant density $\\rho(x)$ and source term $S(x)$. We solve for $\\phi(x)$ in the two subdomains:\nSubdomain 1: $x \\in [0, L/2)$, where $\\rho(x)=\\rho_1$ and $S(x)=S_1$.\nThe equation is $\\frac{1}{\\rho_1} \\frac{\\partial^2 \\phi_1}{\\partial x^2} = -\\frac{S_1}{\\Delta t}$, which gives $\\frac{\\partial^2 \\phi_1}{\\partial x^2} = -\\frac{\\rho_1 S_1}{\\Delta t}$.\nIntegrating with respect to $x$:\n$$\n\\frac{\\partial \\phi_1}{\\partial x} = -\\frac{\\rho_1 S_1}{\\Delta t} x + C_1\n$$\nApplying the boundary condition at $x=0$:\n$$\n\\left. \\frac{\\partial \\phi_1}{\\partial x} \\right|_{x=0} = C_1 = \\frac{\\rho_1 U_0}{\\Delta t}\n$$\nSo, for $x \\in [0, L/2)$, the gradient of the pressure increment is:\n$$\n\\frac{\\partial \\phi_1}{\\partial x} = -\\frac{\\rho_1 S_1}{\\Delta t} x + \\frac{\\rho_1 U_0}{\\Delta t} = \\frac{\\rho_1}{\\Delta t} (U_0 - S_1 x)\n$$\nSubdomain 2: $x \\in [L/2, L]$, where $\\rho(x)=\\rho_2$ and $S(x)=S_2$.\nThe equation is $\\frac{1}{\\rho_2} \\frac{\\partial^2 \\phi_2}{\\partial x^2} = -\\frac{S_2}{\\Delta t}$, which gives $\\frac{\\partial^2 \\phi_2}{\\partial x^2} = -\\frac{\\rho_2 S_2}{\\Delta t}$.\nIntegrating with respect to $x$:\n$$\n\\frac{\\partial \\phi_2}{\\partial x} = -\\frac{\\rho_2 S_2}{\\Delta t} x + C_3\n$$\nApplying the boundary condition at $x=L$:\n$$\n\\left. \\frac{\\partial \\phi_2}{\\partial x} \\right|_{x=L} = -\\frac{\\rho_2 S_2}{\\Delta t} L + C_3 = \\frac{\\rho_2 U_0}{\\Delta t} \\implies C_3 = \\frac{\\rho_2 U_0}{\\Delta t} + \\frac{\\rho_2 S_2 L}{\\Delta t} = \\frac{\\rho_2}{\\Delta t}(U_0 + S_2 L)\n$$\nSo, for $x \\in [L/2, L]$, the gradient of the pressure increment is:\n$$\n\\frac{\\partial \\phi_2}{\\partial x} = -\\frac{\\rho_2 S_2}{\\Delta t} x + \\frac{\\rho_2}{\\Delta t}(U_0 + S_2 L) = \\frac{\\rho_2}{\\Delta t} (U_0 + S_2(L-x))\n$$\nAt the interface $x=L/2$, the pressure increment $\\phi$ and the flux term $\\frac{1}{\\rho} \\frac{\\partial \\phi}{\\partial x}$ must be continuous. The continuity of the flux provides a consistency check on the problem statement.\n$$\n\\frac{1}{\\rho_1} \\left. \\frac{\\partial \\phi_1}{\\partial x} \\right|_{x=L/2} = \\frac{1}{\\rho_2} \\left. \\frac{\\partial \\phi_2}{\\partial x} \\right|_{x=L/2}\n$$\n$$\n\\frac{1}{\\rho_1} \\left( \\frac{\\rho_1}{\\Delta t} (U_0 - S_1 \\frac{L}{2}) \\right) = \\frac{1}{\\rho_2} \\left( \\frac{\\rho_2}{\\Delta t} (U_0 + S_2(L-\\frac{L}{2})) \\right)\n$$\n$$\n\\frac{1}{\\Delta t} (U_0 - S_1 \\frac{L}{2}) = \\frac{1}{\\Delta t} (U_0 + S_2 \\frac{L}{2})\n$$\n$$\n-S_1 \\frac{L}{2} = S_2 \\frac{L}{2} \\implies S_1 + S_2 = 0\n$$\nThe given data are $S_1 = 0.2\\,\\mathrm{s}^{-1}$ and $S_2 = -0.2\\,\\mathrm{s}^{-1}$, so $S_1 + S_2 = 0.2 - 0.2 = 0$. The data are consistent.\n\nNow, we can compute the corrected velocity $u^{n+1}(x)$. The problem asks for the value at $x=L/4$. This point lies in the first subdomain.\nFor $x \\in [0, L/2)$:\n$$\nu^{n+1}(x) = u^*(x) - \\frac{\\Delta t}{\\rho_1} \\frac{\\partial \\phi_1}{\\partial x}\n$$\nSubstituting the expressions for $u^*(x)$ and $\\frac{\\partial \\phi_1}{\\partial x}$:\n$$\nu^{n+1}(x) = U_0 - \\frac{\\Delta t}{\\rho_1} \\left( \\frac{\\rho_1}{\\Delta t} (U_0 - S_1 x) \\right)\n$$\n$$\nu^{n+1}(x) = U_0 - (U_0 - S_1 x)\n$$\n$$\nu^{n+1}(x) = S_1 x\n$$\nThis remarkably simple result shows that the final velocity field in this region is independent of the provisional velocity $U_0$, the density $\\rho_1$, and the time step $\\Delta t$. It is solely determined by the kinematic constraints (divergence and boundary conditions).\n\nWe need to evaluate $u^{n+1}(x)$ at $x=L/4$.\nThe given values are $L=1\\,\\mathrm{m}$ and $S_1=0.2\\,\\mathrm{s}^{-1}$.\n$$\nx = \\frac{L}{4} = \\frac{1}{4} = 0.25\\,\\mathrm{m}\n$$\n$$\nu^{n+1}(L/4) = S_1 \\times (L/4) = (0.2\\,\\mathrm{s}^{-1}) \\times (0.25\\,\\mathrm{m})\n$$\n$$\nu^{n+1}(L/4) = 0.05\\,\\mathrm{m}\\,\\mathrm{s}^{-1}\n$$\nThe problem asks for the answer to be rounded to three significant figures. The number $0.05$ has one significant figure. To express it with three significant figures, we write $0.0500$.",
            "answer": "$$\\boxed{0.0500}$$"
        },
        {
            "introduction": "Moving from continuous theory to computational practice, this next problem  focuses on the discrete implementation of the projection step within a finite-volume framework. Here, the divergence constraint is not a differential equation but a set of algebraic equations for mass flux corrections at the faces of each control volume. This exercise is key to understanding how the abstract concept of a projection is translated into a concrete algorithm that ensures mass is conserved locally in the presence of thermochemical expansion.",
            "id": "4054545",
            "problem": "In projection methods for low-Mach-number reacting flows, the velocity field is corrected so that the discrete divergence satisfies a prescribed source term arising from thermochemical effects. Consider a one-dimensional channel of length $L = 1$ meter with constant density $\\rho = 1$ kilogram per cubic meter and constant cross-sectional area $A = 1$ square meter. The channel is discretized into $N = 4$ uniform finite volumes with cell width $\\Delta x = L/N = 1/4$ meter. Let face indices be $j = 0, 1, 2, 3, 4$ from left to right, and cell indices be $i = 1, 2, 3, 4$ corresponding to the intervals $[(i-1)\\Delta x, i \\Delta x]$.\n\nAt each face, the mass flux is $m_j$ (units kilogram per second). In a classical projection step, one computes mass flux corrections $\\delta m_j$ that, when added to the predicted mass fluxes, enforce the low-Mach divergence constraint in each control volume. Suppose the divergence source is prescribed as a continuous function\n$$\nS(x) = 8 \\left( x - \\frac{1}{2} \\right)\n$$\nwith units inverse second, representing an imposed volumetric expansion rate. Use cell-averaged values $S_i$ obtained by averaging $S(x)$ over each control volume. The finite-volume discrete divergence constraint for the corrected mass flux is\n$$\n\\frac{\\delta m_i - \\delta m_{i-1}}{\\rho A \\Delta x} = S_i, \\quad i = 1,2,3,4,\n$$\nwhere $\\delta m_i$ and $\\delta m_{i-1}$ are the corrections at the right and left faces of cell $i$, respectively. The boundary face mass fluxes must be maintained, meaning the corrections at the boundary faces vanish:\n$$\n\\delta m_0 = 0, \\quad \\delta m_4 = 0.\n$$\n\nStarting only from the integral mass conservation over a control volume and the definition of discrete divergence in the finite-volume method, compute the face mass flux corrections $\\delta m_j$ that satisfy the above constraints.\n\nExpress your final answer as a single row vector $\\left[ \\delta m_0, \\delta m_1, \\delta m_2, \\delta m_3, \\delta m_4 \\right]$ in kilograms per second. Provide exact values; do not approximate or round.",
            "solution": "The problem as stated is scientifically grounded, well-posed, and complete. It presents a standard, albeit simplified, formulation of a projection method step for low-Mach number flows, a common topic in computational fluid dynamics and combustion. All necessary data ($L$, $\\rho$, $A$, $N$, $S(x)$) and boundary conditions ($\\delta m_0=0, \\delta m_4=0$) are provided. The problem is not contradictory, as will be demonstrated. Therefore, a valid solution can be constructed.\n\nThe task is to find the mass flux corrections $\\delta m_j$ for faces $j=0, 1, 2, 3, 4$. These corrections must satisfy the discrete divergence constraint in each of the $N=4$ control volumes:\n$$\n\\frac{\\delta m_i - \\delta m_{i-1}}{\\rho A \\Delta x} = S_i, \\quad \\text{for } i = 1, 2, 3, 4\n$$\nHere, $\\delta m_i$ and $\\delta m_{i-1}$ are the corrections at the right and left faces of cell $i$, respectively. The boundary conditions are given as vanishing corrections at the domain boundaries:\n$$\n\\delta m_0 = 0, \\quad \\delta m_4 = 0\n$$\nFirst, we determine the constant parameters. The channel length is $L=1$ meter and it is divided into $N=4$ uniform volumes, so the cell width is $\\Delta x = \\frac{L}{N} = \\frac{1}{4}$ meters. The density is $\\rho=1$ kilogram per cubic meter and the area is $A=1$ square meter. The term in the denominator of the discrete divergence is therefore constant:\n$$\n\\rho A \\Delta x = (1 \\, \\text{kg/m}^3)(1 \\, \\text{m}^2)\\left(\\frac{1}{4} \\, \\text{m}\\right) = \\frac{1}{4} \\, \\text{kg}\n$$\nNext, we must compute the discrete source terms, $S_i$, which are the cell-averaged values of the continuous source function $S(x) = 8(x - 1/2)$. For cell $i$, which occupies the spatial interval $[(i-1)\\Delta x, i\\Delta x]$, the average is calculated as:\n$$\nS_i = \\frac{1}{\\Delta x} \\int_{(i-1)\\Delta x}^{i\\Delta x} S(x) \\, dx = \\frac{1}{1/4} \\int_{(i-1)/4}^{i/4} 8\\left(x - \\frac{1}{2}\\right) \\, dx = 32 \\int_{(i-1)/4}^{i/4} \\left(x - \\frac{1}{2}\\right) \\, dx\n$$\nSince $S(x)$ is a linear function, its average over an interval is equal to its value at the midpoint of the interval. The midpoint of cell $i$ is $x_{c,i} = (i-\\frac{1}{2})\\Delta x = \\frac{2i-1}{2} \\cdot \\frac{1}{4} = \\frac{2i-1}{8}$. Evaluating $S(x)$ at these midpoints:\n$$\nS_i = S(x_{c,i}) = 8\\left(\\frac{2i-1}{8} - \\frac{1}{2}\\right) = 8\\left(\\frac{2i-1-4}{8}\\right) = 2i-5\n$$\nUsing this formula, we compute the specific source term for each cell ($i=1, 2, 3, 4$):\n$$\nS_1 = 2(1) - 5 = -3 \\, \\text{s}^{-1} \\\\\nS_2 = 2(2) - 5 = -1 \\, \\text{s}^{-1} \\\\\nS_3 = 2(3) - 5 = 1 \\, \\text{s}^{-1} \\\\\nS_4 = 2(4) - 5 = 3 \\, \\text{s}^{-1}\n$$\nThis problem is a boundary value problem for the mass flux corrections. A necessary condition for the existence of a solution is that the sum of the sources over the domain is consistent with the boundary conditions. Summing the discrete divergence equations from $i=1$ to $4$:\n$$\n\\sum_{i=1}^{4} (\\delta m_i - \\delta m_{i-1}) = (\\rho A \\Delta x) \\sum_{i=1}^{4} S_i\n$$\nThe left-hand side is a telescoping sum: $(\\delta m_1 - \\delta m_0) + (\\delta m_2 - \\delta m_1) + (\\delta m_3 - \\delta m_2) + (\\delta m_4 - \\delta m_3) = \\delta m_4 - \\delta m_0$.\nWith the given boundary conditions, $\\delta m_4 - \\delta m_0 = 0 - 0 = 0$. Therefore, the sum of the source terms must also be zero for a solution to exist. Let's verify this:\n$$\n\\sum_{i=1}^{4} S_i = S_1 + S_2 + S_3 + S_4 = (-3) + (-1) + 1 + 3 = 0\n$$\nThe consistency condition is satisfied, so a unique solution for the interior face corrections exists. We can find the corrections by rearranging the discrete divergence equation into a recurrence relation and applying it sequentially.\n$$\n\\delta m_i = \\delta m_{i-1} + (\\rho A \\Delta x)S_i\n$$\nStarting with $\\delta m_0 = 0$:\nFor face $j=1$ (from cell $i=1$):\n$$\n\\delta m_1 = \\delta m_0 + (\\rho A \\Delta x)S_1 = 0 + \\left(\\frac{1}{4}\\right)(-3) = -\\frac{3}{4} \\, \\text{kg/s}\n$$\nFor face $j=2$ (from cell $i=2$):\n$$\n\\delta m_2 = \\delta m_1 + (\\rho A \\Delta x)S_2 = -\\frac{3}{4} + \\left(\\frac{1}{4}\\right)(-1) = -\\frac{3}{4} - \\frac{1}{4} = -\\frac{4}{4} = -1 \\, \\text{kg/s}\n$$\nFor face $j=3$ (from cell $i=3$):\n$$\n\\delta m_3 = \\delta m_2 + (\\rho A \\Delta x)S_3 = -1 + \\left(\\frac{1}{4}\\right)(1) = -1 + \\frac{1}{4} = -\\frac{3}{4} \\, \\text{kg/s}\n$$\nFinally, for face $j=4$ (from cell $i=4$), we check if the boundary condition is recovered:\n$$\n\\delta m_4 = \\delta m_3 + (\\rho A \\Delta x)S_4 = -\\frac{3}{4} + \\left(\\frac{1}{4}\\right)(3) = -\\frac{3}{4} + \\frac{3}{4} = 0\n$$\nThis result matches the given boundary condition $\\delta m_4=0$, confirming the correctness of our solution.\nThe complete set of mass flux corrections is:\n$\\delta m_0 = 0$\n$\\delta m_1 = -3/4$\n$\\delta m_2 = -1$\n$\\delta m_3 = -3/4$\n$\\delta m_4 = 0$\n\nExpressing this as a single row vector as requested:\n$\\left[ \\delta m_0, \\delta m_1, \\delta m_2, \\delta m_3, \\delta m_4 \\right] = \\left[ 0, -\\frac{3}{4}, -1, -\\frac{3}{4}, 0 \\right]$.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 0  -\\frac{3}{4}  -1  -\\frac{3}{4}  0 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "The fundamental purpose of the projection step is to correct a provisional velocity field so that it precisely satisfies the discrete mass conservation equation. This final exercise  serves as a powerful verification of this principle. By calculating the global mass residual before and after the projection is applied, you will see firsthand how the method drives the mass imbalance to zero, ensuring that the simulated flow correctly accounts for density changes due to reactions.",
            "id": "4054566",
            "problem": "A variable-density, low-Mach-number reacting flow is advanced in time using a projection method on a two-cell finite-volume grid representing a rectangular domain of unity thickness. The two control volumes have equal size and are indexed by cell $1$ and cell $2$. The total volume is $V_{\\text{tot}} = 2\\,\\text{m}^3$, with each cell having volume $V = 1\\,\\text{m}^3$. The time step is $\\Delta t = 0.01\\,\\text{s}$. Due to heat release, the density decreases during the time step from $t^n$ to $t^{n+1}$ as follows: $\\rho_1^n = 1.2\\,\\text{kg m}^{-3}$, $\\rho_2^n = 1.2\\,\\text{kg m}^{-3}$, and $\\rho_1^{n+1} = 1.15\\,\\text{kg m}^{-3}$, $\\rho_2^{n+1} = 1.10\\,\\text{kg m}^{-3}$. There are no volumetric mass sources because the chemical production rates satisfy element conservation, i.e., the sum of species source terms is zero.\n\nThe semi-implicit low-Mach-number projection method produces a provisional face-normal velocity field that gives pre-projection boundary mass fluxes, and a corrected velocity field that gives after-projection boundary mass fluxes. The outward-oriented boundary mass fluxes in kilograms per second are given face-by-face as follows, where positive sign denotes outward flux and negative sign denotes inward flux:\n\n- Pre-projection boundary mass fluxes:\n  - Left boundary of cell $1$: $+3.0$\n  - Right boundary of cell $2$: $+4.5$\n  - Bottom boundary of cell $1$: $+1.0$\n  - Bottom boundary of cell $2$: $-0.5$\n  - Top boundary of cell $1$: $+0.0$\n  - Top boundary of cell $2$: $+1.0$\n\n- After-projection boundary mass fluxes:\n  - Left boundary of cell $1$: $+4.0$\n  - Right boundary of cell $2$: $+7.0$\n  - Bottom boundary of cell $1$: $+2.0$\n  - Bottom boundary of cell $2$: $+1.0$\n  - Top boundary of cell $1$: $+0.5$\n  - Top boundary of cell $2$: $+0.5$\n\nUsing the finite-volume statement of mass conservation based on the continuity equation $\\partial \\rho/\\partial t + \\nabla \\cdot (\\rho \\mathbf{u}) = 0$, the discrete global mass balance over the domain satisfies\n$$(M^{n+1} - M^n)/\\Delta t + \\sum_{\\text{boundary faces}} m_f = 0,$$\nwhere $M^n$ and $M^{n+1}$ are the total masses at times $t^n$ and $t^{n+1}$, respectively, and $m_f$ are the outward boundary mass fluxes.\n\nCompute the discrete global mass residual before projection,\n$$R^* = (M^{n+1} - M^n)/\\Delta t + \\sum_{\\text{boundary faces}} m_f^*,$$\nand after projection,\n$$R^{\\text{proj}} = (M^{n+1} - M^n)/\\Delta t + \\sum_{\\text{boundary faces}} m_f^{\\text{proj}},$$\nusing the provided data. Then, report only the after-projection global mass residual $R^{\\text{proj}}$. Express the final value in kilograms per second. No rounding is necessary.",
            "solution": "The problem is validated as scientifically grounded, well-posed, objective, complete, and consistent. It represents a standard calculation in the field of computational fluid dynamics, specifically concerning the verification of mass conservation in a projection method for low-Mach-number flows. All necessary data are provided, and the task is a direct application of the given definitions for mass residuals.\n\nThe objective is to compute the pre-projection and after-projection global mass residuals, denoted by $R^*$ and $R^{\\text{proj}}$ respectively, and to report the value of $R^{\\text{proj}}$.\n\nThe discrete global mass balance equation over the computational domain is given by:\n$$\n\\frac{M^{n+1} - M^n}{\\Delta t} + \\sum_{\\text{boundary faces}} m_f = 0\n$$\nwhere $M^n$ and $M^{n+1}$ are the total masses in the domain at time steps $n$ and $n+1$, $\\Delta t$ is the time step, and $m_f$ are the outward mass fluxes through the boundary faces.\n\nThe residuals are defined as:\n$$\nR^* = \\frac{M^{n+1} - M^n}{\\Delta t} + \\sum_{\\text{boundary faces}} m_f^*\n$$\n$$\nR^{\\text{proj}} = \\frac{M^{n+1} - M^n}{\\Delta t} + \\sum_{\\text{boundary faces}} m_f^{\\text{proj}}\n$$\nwhere $m_f^*$ and $m_f^{\\text{proj}}$ are the pre- and after-projection boundary mass fluxes.\n\nThe calculation proceeds in three steps.\n\nFirst, we compute the time rate of change of the total mass in the domain, $\\frac{M^{n+1} - M^n}{\\Delta t}$. The total mass is the sum of the masses in the two cells, where the mass in each cell $i$ is $m_i = \\rho_i V_i$. The cell volumes are given as $V_1 = V_2 = V = 1\\,\\text{m}^3$.\n\nThe total mass at time $t^n$ is:\n$$\nM^n = m_1^n + m_2^n = \\rho_1^n V + \\rho_2^n V = (\\rho_1^n + \\rho_2^n)V\n$$\nSubstituting the given values $\\rho_1^n = 1.2\\,\\text{kg m}^{-3}$ and $\\rho_2^n = 1.2\\,\\text{kg m}^{-3}$:\n$$\nM^n = (1.2 + 1.2) \\cdot 1 = 2.4\\,\\text{kg}\n$$\n\nThe total mass at time $t^{n+1}$ is:\n$$\nM^{n+1} = m_1^{n+1} + m_2^{n+1} = \\rho_1^{n+1} V + \\rho_2^{n+1} V = (\\rho_1^{n+1} + \\rho_2^{n+1})V\n$$\nSubstituting the given values $\\rho_1^{n+1} = 1.15\\,\\text{kg m}^{-3}$ and $\\rho_2^{n+1} = 1.10\\,\\text{kg m}^{-3}$:\n$$\nM^{n+1} = (1.15 + 1.10) \\cdot 1 = 2.25\\,\\text{kg}\n$$\n\nThe change in total mass is $\\Delta M = M^{n+1} - M^n = 2.25 - 2.4 = -0.15\\,\\text{kg}$.\nWith the time step $\\Delta t = 0.01\\,\\text{s}$, the time rate of change of mass is:\n$$\n\\frac{M^{n+1} - M^n}{\\Delta t} = \\frac{-0.15\\,\\text{kg}}{0.01\\,\\text{s}} = -15\\,\\text{kg s}^{-1}\n$$\n\nSecond, we compute the sum of the boundary mass fluxes for both the pre-projection and after-projection fields. The problem states that a positive sign denotes an outward flux.\n\nThe sum of pre-projection boundary mass fluxes, $\\sum m_f^*$, is:\n$$\n\\sum m_f^* = (3.0) + (4.5) + (1.0) + (-0.5) + (0.0) + (1.0) = 9.0\\,\\text{kg s}^{-1}\n$$\n\nThe sum of after-projection boundary mass fluxes, $\\sum m_f^{\\text{proj}}$, is:\n$$\n\\sum m_f^{\\text{proj}} = (4.0) + (7.0) + (2.0) + (1.0) + (0.5) + (0.5) = 15.0\\,\\text{kg s}^{-1}\n$$\n\nThird, we assemble the residuals using the calculated terms.\n\nThe pre-projection mass residual, $R^*$, is:\n$$\nR^* = \\left(\\frac{M^{n+1} - M^n}{\\Delta t}\\right) + \\sum m_f^* = -15 + 9.0 = -6.0\\,\\text{kg s}^{-1}\n$$\nThis non-zero residual indicates that the provisional velocity field does not satisfy the discrete mass conservation equation for the updated density field.\n\nThe after-projection mass residual, $R^{\\text{proj}}$, is:\n$$\nR^{\\text{proj}} = \\left(\\frac{M^{n+1} - M^n}{\\Delta t}\\right) + \\sum m_f^{\\text{proj}} = -15 + 15.0 = 0\\,\\text{kg s}^{-1}\n$$\nThe result $R^{\\text{proj}}=0$ confirms that the purpose of the projection step, which is to modify the velocity field to enforce discrete mass conservation, has been achieved.\n\nThe problem asks for the after-projection global mass residual $R^{\\text{proj}}$.",
            "answer": "$$\n\\boxed{0}\n$$"
        }
    ]
}