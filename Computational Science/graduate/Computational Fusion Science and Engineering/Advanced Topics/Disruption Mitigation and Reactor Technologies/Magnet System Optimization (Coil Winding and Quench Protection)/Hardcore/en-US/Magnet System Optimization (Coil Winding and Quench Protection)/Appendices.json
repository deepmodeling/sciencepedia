{
    "hands_on_practices": [
        {
            "introduction": "In advanced magnet engineering, we often face an inverse problem: instead of calculating the magnetic field from a known coil geometry, we must design a coil that generates a specific, desired field profile. This practice introduces the powerful technique of formulating this challenge as a constrained optimization problem. By minimizing the difference between the coil's field and a target profile, subject to realistic engineering constraints like minimum bend radius and conductor spacing, you will learn a fundamental approach to computational magnet design. ",
            "id": "4004326",
            "problem": "You are given a target on-axis magnetic field profile $B_{\\text{target}}(z)$ and asked to pose and solve an inverse design problem for a planar pancake winding that consists of $N$ discrete circular turns in the plane $z=0$. Each turn carries the same current $I$ and has a radius $R_k$ for $k=1,\\dots,N$. The goal is to determine the radii $\\{R_k\\}_{k=1}^N$ so that the resulting on-axis magnetic field $B_{\\text{coil}}(z)$ approximates the target profile in the least-squares sense, while satisfying geometric packing constraints and a simplified quench-protection surrogate.\n\nFundamental base:\n- The Biot–Savart law gives the magnetic field contribution $\\mathrm{d}\\vec{B}$ from a current element $\\mathrm{d}\\vec{\\ell}$ carrying current $I$ at position $\\vec{r}'$ to a field point $\\vec{r}$ as\n$$\n\\mathrm{d}\\vec{B}(\\vec{r})=\\frac{\\mu_0}{4\\pi}\\frac{I\\,\\mathrm{d}\\vec{\\ell}\\times(\\vec{r}-\\vec{r}')}{\\|\\vec{r}-\\vec{r}'\\|^3},\n$$\nwhere $\\mu_0$ is the magnetic permeability of free space.\n- For a single circular loop of radius $R$ in the plane $z=0$ carrying current $I$, the on-axis magnetic field at a point with coordinate $z$ on the symmetry axis is\n$$\nB_z(z;R,I)=\\frac{\\mu_0 I R^2}{2\\left(R^2+z^2\\right)^{3/2}}.\n$$\n- For $N$ coplanar circular turns with radii $\\{R_k\\}_{k=1}^N$ and identical current $I$ in the same direction, the on-axis field is the linear superposition\n$$\nB_{\\text{coil}}(z;\\mathbf{R},I)=\\sum_{k=1}^{N} \\frac{\\mu_0 I R_k^2}{2\\left(R_k^2+z^2\\right)^{3/2}},\n$$\nwhere $\\mathbf{R}=[R_1,\\dots,R_N]$.\n\nInverse problem formulation:\n- Given a set of sample points $\\{z_i\\}_{i=1}^M$ on the symmetry axis and corresponding target values $\\{B_{\\text{target}}(z_i)\\}_{i=1}^M$, determine $\\mathbf{R}$ that minimizes the root-mean-square error\n$$\n\\mathrm{RMSE}(\\mathbf{R})=\\sqrt{\\frac{1}{M}\\sum_{i=1}^M\\left(B_{\\text{coil}}(z_i;\\mathbf{R},I)-B_{\\text{target}}(z_i)\\right)^2},\n$$\nsubject to the following constraints:\n  - Minimum bend radius: $R_k \\ge R_{\\min,\\text{bend}}$ for all $k$.\n  - Packing and monotonicity: $R_{\\min} \\le R_1 \\le R_2 \\le \\cdots \\le R_N \\le R_{\\max}$ and $R_{k+1}-R_k \\ge d_{\\min}$ for $k=1,\\dots,N-1$, where $d_{\\min}$ is the minimum center-to-center spacing.\n  - Simplified quench-protection surrogate: the peak on-axis field at the center must not exceed a safe limit, $B_{\\text{coil}}(0;\\mathbf{R},I)\\le B_{\\text{safe}}$.\n\nAll radii must be expressed in meters, current in amperes, $z$ in meters, and magnetic field in tesla. The final numerical answers must be expressed in tesla.\n\nYour task:\n- Starting from the Biot–Savart law and symmetry, justify the on-axis field expression for a circular loop, and set up the nonlinear constrained optimization problem to minimize $\\mathrm{RMSE}(\\mathbf{R})$ under the above constraints.\n- Implement a program that, for each test case below, solves the constrained optimization problem numerically and reports the minimal $\\mathrm{RMSE}$ achieved. Use Sequential Least SQuares Programming (SLSQP) or an equivalent constrained nonlinear optimizer.\n- If the optimizer fails to converge, report the $\\mathrm{RMSE}$ of the best available iterate. All reported $\\mathrm{RMSE}$ values must be in tesla, rounded to $6$ decimal places.\n\nTest suite:\n- Use the common on-axis sample set $\\{z_i\\}_{i=1}^M$ with $M=5$ points: $z_i \\in \\{-0.06, -0.03, 0.0, 0.03, 0.06\\}$ meters, i.e., $z_1=-0.06$, $z_2=-0.03$, $z_3=0.0$, $z_4=0.03$, $z_5=0.06$.\n- For each case, $B_{\\text{target}}(z)$ is defined analytically as follows. All numbers in the definitions are given in the units specified above.\n\nCase A (happy path):\n- $I=500$.\n- $N=6$.\n- $R_{\\min}=0.05$, $R_{\\max}=0.08$.\n- $d_{\\min}=0.002$.\n- $R_{\\min,\\text{bend}}=0.04$.\n- $B_{\\text{safe}}=0.04$.\n- $B_{\\text{target}}(z)=\\dfrac{0.03}{\\left(1+(z/0.05)^2\\right)^{3/2}}$.\n\nCase B (active field limit and denser packing):\n- $I=600$.\n- $N=10$.\n- $R_{\\min}=0.04$, $R_{\\max}=0.06$.\n- $d_{\\min}=0.0015$.\n- $R_{\\min,\\text{bend}}=0.035$.\n- $B_{\\text{safe}}=0.06$.\n- $B_{\\text{target}}(z)=\\dfrac{0.015}{\\left(1+(z/0.03)^2\\right)^{3/2}}+0.006\\,\\exp\\!\\left(-\\left(\\dfrac{z}{0.04}\\right)^2\\right)$.\n\nCase C (boundary-tight packing):\n- $I=400$.\n- $N=8$.\n- $R_{\\min}=0.05$, $R_{\\max}=0.065$.\n- $d_{\\min}=\\dfrac{R_{\\max}-R_{\\min}}{N-1}=0.002142857142857$.\n- $R_{\\min,\\text{bend}}=0.042$.\n- $B_{\\text{safe}}=0.035$.\n- $B_{\\text{target}}(z)=0.02\\,\\exp\\!\\left(-\\left(\\dfrac{z}{0.04}\\right)^4\\right)$.\n\nCase D (infeasible target amplitude under current and limit):\n- $I=300$.\n- $N=6$.\n- $R_{\\min}=0.05$, $R_{\\max}=0.08$.\n- $d_{\\min}=0.002$.\n- $R_{\\min,\\text{bend}}=0.04$.\n- $B_{\\text{safe}}=0.03$.\n- $B_{\\text{target}}(z)=\\dfrac{0.08}{\\left(1+(z/0.04)^2\\right)^{3/2}}$.\n\nFinal output format:\n- Your program should produce a single line of output containing the $\\mathrm{RMSE}$ results for the above cases in order A, B, C, D as a comma-separated list enclosed in square brackets, for example, \"[$r\\_A,r\\_B,r\\_C,r\\_D$]\".\n- Each entry must be a floating-point number in tesla, rounded to $6$ decimal places.",
            "solution": "The problem requires the derivation of the on-axis magnetic field of a current loop from the Biot-Savart law, the formulation of a constrained nonlinear optimization problem for magnet design, and its numerical solution for a suite of test cases.\n\n**Part 1: Justification of the On-Axis Magnetic Field Formula**\n\nThe fundamental principle governing the magnetic field generated by a steady current is the Biot-Savart law. It states that the magnetic field contribution $\\mathrm{d}\\vec{B}$ at a position $\\vec{r}$ from an infinitesimal current element $I\\,\\mathrm{d}\\vec{\\ell}$ located at position $\\vec{r}'$ is given by:\n$$\n\\mathrm{d}\\vec{B}(\\vec{r})=\\frac{\\mu_0}{4\\pi}\\frac{I\\,\\mathrm{d}\\vec{\\ell}\\times(\\vec{r}-\\vec{r}')}{\\|\\vec{r}-\\vec{r}'\\|^3}\n$$\nwhere $\\mu_0$ is the magnetic permeability of free space, taken as $4\\pi \\times 10^{-7} \\, \\text{T}\\cdot\\text{m}/\\text{A}$.\n\nWe consider a single circular loop of wire with radius $R$, centered at the origin in the $x$-$y$ plane (the plane $z=0$). The current $I$ flows in a counter-clockwise direction when viewed from the positive $z$-axis. We aim to calculate the magnetic field $\\vec{B}$ at a point on the symmetry axis (the $z$-axis), so the field point vector is $\\vec{r} = z\\hat{k}$.\n\nA point on the wire loop can be parameterized by an angle $\\phi'$. The position vector of an infinitesimal segment on the loop is $\\vec{r}' = R\\cos(\\phi')\\hat{i} + R\\sin(\\phi')\\hat{j}$. The corresponding infinitesimal current element vector $\\mathrm{d}\\vec{\\ell}$ is tangent to the loop, so $\\mathrm{d}\\vec{\\ell} = \\mathrm{d}\\vec{r}' = (-R\\sin(\\phi')\\hat{i} + R\\cos(\\phi')\\hat{j})\\mathrm{d}\\phi'$.\n\nThe vector from the source point $\\vec{r}'$ to the field point $\\vec{r}$ is:\n$$\n\\vec{r}-\\vec{r}' = (z\\hat{k}) - (R\\cos(\\phi')\\hat{i} + R\\sin(\\phi')\\hat{j}) = -R\\cos(\\phi')\\hat{i} - R\\sin(\\phi')\\hat{j} + z\\hat{k}\n$$\nThe squared magnitude of this displacement vector is:\n$$\n\\|\\vec{r}-\\vec{r}'\\|^2 = (-R\\cos(\\phi'))^2 + (-R\\sin(\\phi'))^2 + z^2 = R^2(\\cos^2(\\phi') + \\sin^2(\\phi')) + z^2 = R^2+z^2\n$$\nNext, we compute the cross product $\\mathrm{d}\\vec{\\ell}\\times(\\vec{r}-\\vec{r}')$:\n$$\n\\mathrm{d}\\vec{\\ell}\\times(\\vec{r}-\\vec{r}') = \\left| \\begin{matrix} \\hat{i} & \\hat{j} & \\hat{k} \\\\ -R\\sin(\\phi') & R\\cos(\\phi') & 0 \\\\ -R\\cos(\\phi') & -R\\sin(\\phi') & z \\end{matrix} \\right| \\mathrm{d}\\phi'\n= (Rz\\cos(\\phi')\\hat{i} + Rz\\sin(\\phi')\\hat{j} + R^2(\\sin^2\\phi'+\\cos^2\\phi')\\hat{k})\\mathrm{d}\\phi'\n$$\n$$\n\\mathrm{d}\\vec{\\ell}\\times(\\vec{r}-\\vec{r}') = (Rz\\cos(\\phi')\\hat{i} + Rz\\sin(\\phi')\\hat{j} + R^2\\hat{k})\\mathrm{d}\\phi'\n$$\nSubstituting this result into the Biot-Savart law gives the contribution $\\mathrm{d}\\vec{B}$ from the element $\\mathrm{d}\\vec{\\ell}$:\n$$\n\\mathrm{d}\\vec{B} = \\frac{\\mu_0 I}{4\\pi}\\frac{(Rz\\cos(\\phi')\\hat{i} + Rz\\sin(\\phi')\\hat{j} + R^2\\hat{k})\\mathrm{d}\\phi'}{(R^2+z^2)^{3/2}}\n$$\nTo find the total magnetic field $\\vec{B}$, we integrate $\\mathrm{d}\\vec{B}$ over the entire loop, which corresponds to integrating over $\\phi'$ from $0$ to $2\\pi$:\n$$\n\\vec{B}(z\\hat{k}) = \\frac{\\mu_0 I}{4\\pi(R^2+z^2)^{3/2}} \\int_{0}^{2\\pi} (Rz\\cos(\\phi')\\hat{i} + Rz\\sin(\\phi')\\hat{j} + R^2\\hat{k}) \\mathrm{d}\\phi'\n$$\nBy cylindrical symmetry, the radial field components (in the $\\hat{i}$ and $\\hat{j}$ directions) must cancel out when integrated over the entire loop. This is confirmed as $\\int_{0}^{2\\pi}\\cos(\\phi')\\mathrm{d}\\phi' = 0$ and $\\int_{0}^{2\\pi}\\sin(\\phi')\\mathrm{d}\\phi' = 0$. Only the axial component (in the $\\hat{k}$ direction) gives a non-zero contribution:\n$$\n\\vec{B}(z\\hat{k}) = \\frac{\\mu_0 I}{4\\pi(R^2+z^2)^{3/2}} \\left( \\hat{k} \\int_{0}^{2\\pi} R^2 \\mathrm{d}\\phi' \\right) = \\frac{\\mu_0 I R^2 \\hat{k}}{4\\pi(R^2+z^2)^{3/2}} [\\phi']_{0}^{2\\pi} = \\frac{\\mu_0 I R^2 (2\\pi) \\hat{k}}{4\\pi(R^2+z^2)^{3/2}}\n$$\nThis simplifies to the final expression for the on-axis component of the magnetic field, $B_z(z)$:\n$$\nB_z(z;R,I) = \\frac{\\mu_0 I R^2}{2(R^2+z^2)^{3/2}}\n$$\nThis derivation validates the provided formula for a single loop.\n\n**Part 2: Formulation of the Constrained Optimization Problem**\n\nThe objective is to determine a set of $N$ coil radii, $\\mathbf{R}=[R_1, R_2, \\dots, R_N]^T$, that generates an on-axis field $B_{\\text{coil}}(z)$ which best approximates a target profile $B_{\\text{target}}(z)$. By the principle of superposition, the total field from $N$ coplanar coils is the sum of their individual fields:\n$$\nB_{\\text{coil}}(z;\\mathbf{R},I) = \\sum_{k=1}^{N} \\frac{\\mu_0 I R_k^2}{2\\left(R_k^2+z^2\\right)^{3/2}}\n$$\nThe inverse problem is formulated as a constrained numerical optimization problem.\n\n**Optimization Variables:**\nThe independent variables are the $N$ coil radii: $\\mathbf{R} = [R_1, R_2, \\dots, R_N]^T$.\n\n**Objective Function:**\nThe goal is to minimize the Root-Mean-Square Error (RMSE) between the model-predicted field and the target field, evaluated at $M$ discrete sample points $\\{z_i\\}_{i=1}^M$. The objective function $f(\\mathbf{R})$ is:\n$$\n\\text{minimize} \\quad f(\\mathbf{R}) = \\mathrm{RMSE}(\\mathbf{R}) = \\sqrt{\\frac{1}{M}\\sum_{i=1}^M \\left( B_{\\text{coil}}(z_i;\\mathbf{R},I) - B_{\\text{target}}(z_i) \\right)^2}\n$$\n\n**Constraints:**\nThe optimization is subject to physical and geometric constraints. These are formulated as bounds on the variables and as a set of inequality constraints of the form $g(\\mathbf{R}) \\ge 0$.\n\n1.  **Bounds on Radii:** Each radius $R_k$ is subject to bounds.\n    -   $R_k \\ge R_{\\min,\\text{bend}}$ for all $k \\in \\{1, \\dots, N\\}$ (minimum bend radius).\n    -   $R_{\\min} \\le R_1 \\le \\dots \\le R_N \\le R_{\\max}$ (monotonic packing within an envelope).\n    -   These can be combined into a set of box constraints for the numerical optimizer. For each variable $R_k$, the lower bound is $\\max(R_{\\min}, R_{\\min,\\text{bend}})$ and the upper bound is $R_{\\max}$. The monotonic ordering is further enforced by the spacing constraint below.\n\n2.  **Inequality Constraints:**\n    -   **Packing and Spacing:** The distance between adjacent turns must be at least $d_{\\min}$. This also enforces strictly increasing radii if $d_{\\min} > 0$. For $k=1, \\dots, N-1$:\n        $$\n        g_k(\\mathbf{R}) = R_{k+1} - R_k - d_{\\min} \\ge 0\n        $$\n        This defines a set of $N-1$ linear inequality constraints.\n    -   **Quench Protection:** The magnetic field at the center of the coil assembly ($z=0$) must not exceed a safety limit $B_{\\text{safe}}$. The field at $z=0$ is:\n        $$\n        B_{\\text{coil}}(0;\\mathbf{R},I) = \\sum_{k=1}^{N} \\frac{\\mu_0 I R_k^2}{2(R_k^2)^{3/2}} = \\sum_{k=1}^{N} \\frac{\\mu_0 I}{2R_k}\n        $$\n        The corresponding constraint is:\n        $$\n        g_N(\\mathbf{R}) = B_{\\text{safe}} - \\frac{\\mu_0 I}{2} \\sum_{k=1}^{N} \\frac{1}{R_k} \\ge 0\n        $$\n        This constitutes a single nonlinear inequality constraint.\n\n**Numerical Solution:**\nThis constrained nonlinear optimization problem is solved numerically using the Sequential Least Squares Programming (SLSQP) algorithm provided by `scipy.optimize.minimize`. An initial guess $\\mathbf{R}^{(0)}$ is necessary; a linear spacing of radii, $R_k^{(0)} = R_{\\min} + (k-1) \\frac{R_{\\max}-R_{\\min}}{N-1}$ for $k=1, \\dots, N$, serves as a reasonable starting point that satisfies the primary ordering and boundary constraints. The implementation involves defining Python functions for the objective function and all constraints, then invoking the solver for each specified test case.",
            "answer": "```python\nimport numpy as np\nfrom scipy.optimize import minimize\n\ndef solve():\n    \"\"\"\n    Solves the constrained magnet design optimization problem for four test cases.\n    \"\"\"\n\n    # Define common parameters and test cases\n    z_points = np.array([-0.06, -0.03, 0.0, 0.03, 0.06])\n    mu0 = 4 * np.pi * 1e-7\n\n    test_cases = [\n        {\n            \"name\": \"A\",\n            \"I\": 500.0, \"N\": 6, \"R_min\": 0.05, \"R_max\": 0.08, \"d_min\": 0.002,\n            \"R_min_bend\": 0.04, \"B_safe\": 0.04,\n            \"B_target_func\": lambda z: 0.03 / (1 + (z / 0.05)**2)**1.5\n        },\n        {\n            \"name\": \"B\",\n            \"I\": 600.0, \"N\": 10, \"R_min\": 0.04, \"R_max\": 0.06, \"d_min\": 0.0015,\n            \"R_min_bend\": 0.035, \"B_safe\": 0.06,\n            \"B_target_func\": lambda z: (0.015 / (1 + (z / 0.03)**2)**1.5) + (0.006 * np.exp(-(z / 0.04)**2))\n        },\n        {\n            \"name\": \"C\",\n            \"I\": 400.0, \"N\": 8, \"R_min\": 0.05, \"R_max\": 0.065,\n            \"d_min\": (0.065 - 0.05) / 7.0,\n            \"R_min_bend\": 0.042, \"B_safe\": 0.035,\n            \"B_target_func\": lambda z: 0.02 * np.exp(-(z / 0.04)**4)\n        },\n        {\n            \"name\": \"D\",\n            \"I\": 300.0, \"N\": 6, \"R_min\": 0.05, \"R_max\": 0.08, \"d_min\": 0.002,\n            \"R_min_bend\": 0.04, \"B_safe\": 0.03,\n            \"B_target_func\": lambda z: 0.08 / (1 + (z / 0.04)**2)**1.5\n        }\n    ]\n    \n    results = []\n\n    for case in test_cases:\n        N = case[\"N\"]\n        I = case[\"I\"]\n        R_min = case[\"R_min\"]\n        R_max = case[\"R_max\"]\n        d_min = case[\"d_min\"]\n        R_min_bend = case[\"R_min_bend\"]\n        B_safe = case[\"B_safe\"]\n        B_target_func = case[\"B_target_func\"]\n        \n        B_target_values = B_target_func(z_points)\n        M = len(z_points)\n\n        def B_coil(R, z, I_val, mu0_val):\n            \"\"\"Calculates the on-axis magnetic field for N coils.\"\"\"\n            R_col = R[:, np.newaxis]\n            z_row = z[np.newaxis, :]\n            denominator = (R_col**2 + z_row**2)**1.5\n            numerator = mu0_val * I_val * R_col**2 / 2.0\n            B_matrix = numerator / denominator\n            return np.sum(B_matrix, axis=0)\n\n        def objective(R):\n            \"\"\"Objective function: RMSE to be minimized.\"\"\"\n            B_model = B_coil(R, z_points, I, mu0)\n            return np.sqrt(np.mean((B_model - B_target_values)**2))\n\n        # Define constraints\n        # 1. Spacing constraint: R_k+1 - R_k - d_min >= 0\n        spacing_con = {'type': 'ineq', 'fun': lambda R: R[1:] - R[:-1] - d_min}\n        \n        # 2. Quench protection constraint: B_safe - B_coil(0) >= 0\n        def B_coil_center(R):\n            return np.sum(mu0 * I / (2.0 * R))\n        \n        quench_con = {'type': 'ineq', 'fun': lambda R: B_safe - B_coil_center(R)}\n\n        constraints = [spacing_con, quench_con]\n\n        # Define bounds for each radius R_k\n        # Lower bound is max of overall min radius and bend radius.\n        # Upper bound is overall max radius.\n        lower_bound = max(R_min, R_min_bend)\n        bounds = [(lower_bound, R_max) for _ in range(N)]\n        # The first radius R_1 must be >= R_min; our combined lower bound handles this.\n        # The last radius R_N must be <= R_max; the standard bound handles this.\n\n        # Initial guess: linearly spaced radii\n        if N > 1:\n            R0 = np.linspace(R_min, R_max, N)\n        else: # Handle N=1 case\n            R0 = np.array([(R_min + R_max) / 2.0])\n        \n        # Check if initial guess violates simple bounds; if so, clip it.\n        # This is important for cases like C, where the initial spacing is on the boundary.\n        R0 = np.clip(R0, lower_bound, R_max)\n        \n        # Run the optimization\n        res = minimize(\n            objective,\n            R0,\n            method='SLSQP',\n            bounds=bounds,\n            constraints=constraints,\n            options={'ftol': 1e-9, 'disp': False, 'maxiter': 500}\n        )\n        \n        # Report the RMSE of the best found solution\n        min_rmse = res.fun\n        results.append(min_rmse)\n\n    # Format output as specified\n    print(f\"[{','.join(map(lambda x: f'{x:.6f}', results))}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "The operational safety of a superconducting magnet hinges on understanding its behavior during a quench—an unplanned transition to the resistive state. This hands-on exercise delves into the critical task of calculating the 'hotspot' temperature, the maximum temperature reached in the conductor during such an event. You will implement an energy balance equation, where the integrated Joule heating (related to the integral of $I^2$ over time) is equated with the conductor's enthalpy rise, providing a direct link between the electrical event and the thermomechanical integrity of the magnet. ",
            "id": "4004322",
            "problem": "A quench in a superconducting fusion magnet stabilizer deposits Joule heat in the conductor, raising its temperature until the heat capacity and geometry balance the integrated electrical heating. Using energy conservation at the level of per-unit-volume heating and enthalpy, and assuming spatially uniform current density in the copper stabilizer during the quench, derive and implement a computation for the hotspot temperature $T_{\\text{hs}}$ from the equality of deposited energy and enthalpy rise. The foundational relations to be used are: (i) Joule heating density $q(t) = J(t)^2 \\,\\rho_{\\mathrm{e}}$, where $J$ is current density and $\\rho_{\\mathrm{e}}$ is electrical resistivity; (ii) enthalpy density change equals $\\int \\rho_{\\mathrm{m}} \\, C(T)\\,dT$, where $\\rho_{\\mathrm{m}}$ is mass density and $C(T)$ is specific heat as a function of temperature; (iii) current density $J = I/(f_{\\mathrm{cu}} A)$ for total current $I$ shared uniformly by copper fraction $f_{\\mathrm{cu}}$ of a conductor cross-section $A$. Under the approximation of temperature-independent resistivity during the quench at a reference value $\\rho_{\\mathrm{e,ref}}$, and defining the integrated current-squared over time $\\int I^2\\,dt$ (commonly abbreviated as MIITs), show that\n$$\n\\int_{T_{\\mathrm{op}}}^{T_{\\mathrm{hs}}} C(T)\\,dT \\;=\\; \\alpha \\int I^2\\,dt, \\quad \\text{with} \\quad \\alpha \\;=\\; \\frac{\\rho_{\\mathrm{e,ref}}}{\\rho_{\\mathrm{m}}\\, f_{\\mathrm{cu}}^2\\, A^2}.\n$$\nYou must compute $T_{\\mathrm{hs}}$ by solving the above integral equation for $T_{\\mathrm{hs}}$ given parameters and a physically plausible model for $C(T)$ for copper. Use the following smooth saturation model for copper specific heat, which captures the low-temperature rise and saturation near the Dulong–Petit limit:\n$$\nC(T) \\;=\\; C_{\\max}\\left(1 - e^{-\\left(\\frac{T}{T_0}\\right)^3}\\right),\n$$\nwhere $C_{\\max}$ and $T_0$ are constants.\n\nYour program must:\n- Implement the energy balance using numerical quadrature for the enthalpy integral and numerical root finding to solve for $T_{\\mathrm{hs}}$.\n- Use the constants $C_{\\max} = 385\\,\\mathrm{J/(kg\\cdot K)}$ and $T_0 = 120\\,\\mathrm{K}$ for copper.\n- Compute $\\alpha$ from the provided geometry and material parameters.\n- Return $T_{\\mathrm{hs}}$ in $\\mathrm{K}$, rounded to one decimal place.\n\nAll quantities must be in International System of Units (SI):\n- Temperature in $\\mathrm{K}$.\n- Time in $\\mathrm{s}$.\n- Current in $\\mathrm{A}$.\n- Area in $\\mathrm{m}^2$.\n- Electrical resistivity in $\\Omega\\cdot\\mathrm{m}$.\n- Mass density in $\\mathrm{kg/m}^3$.\n- Specific heat in $\\mathrm{J/(kg\\cdot K)}$.\n\nTest suite and parameters:\nUse the following four test cases, each specified by the tuple $\\left(T_{\\mathrm{op}}, A, f_{\\mathrm{cu}}, \\rho_{\\mathrm{m}}, \\rho_{\\mathrm{e,ref}}, \\int I^2\\,dt, T_{\\max}\\right)$:\n\n- Case $1$ (general design point): $\\left(4,\\, 50\\times 10^{-6},\\, 0.6,\\, 8960,\\, 2.0\\times 10^{-8},\\, 1.2\\times 10^{8},\\, 1500\\right)$.\n- Case $2$ (small heating boundary): $\\left(4,\\, 50\\times 10^{-6},\\, 0.6,\\, 8960,\\, 2.0\\times 10^{-8},\\, 1.0\\times 10^{6},\\, 1500\\right)$.\n- Case $3$ (reduced copper fraction and area): $\\left(4,\\, 25\\times 10^{-6},\\, 0.4,\\, 8960,\\, 2.0\\times 10^{-8},\\, 5.0\\times 10^{6},\\, 1500\\right)$.\n- Case $4$ (high, yet sub-melting heating): $\\left(4,\\, 50\\times 10^{-6},\\, 0.6,\\, 8960,\\, 2.0\\times 10^{-8},\\, 2.0\\times 10^{8},\\, 1500\\right)$.\n\nFor each case:\n- Compute $\\alpha = \\rho_{\\mathrm{e,ref}}/\\left(\\rho_{\\mathrm{m}}\\, f_{\\mathrm{cu}}^2\\, A^2\\right)$.\n- Define $S = \\alpha \\int I^2\\,dt$ as the energy per unit mass in $\\mathrm{J/kg}$.\n- Solve for $T_{\\mathrm{hs}}$ in the interval $\\left[T_{\\mathrm{op}}, T_{\\max}\\right]$ that satisfies $\\int_{T_{\\mathrm{op}}}^{T_{\\mathrm{hs}}} C(T)\\,dT = S$.\n\nYour program should produce a single line of output containing the results for the four test cases as a comma-separated list enclosed in square brackets, for example, $\\left[\\dots\\right]$, where each entry is $T_{\\mathrm{hs}}$ in $\\mathrm{K}$ rounded to one decimal place. The output must be exactly of the form: \"[result1,result2,result3,result4]\".",
            "solution": "The problem requires the computation of the final hotspot temperature $T_{\\mathrm{hs}}$ in a superconducting magnet's copper stabilizer following a quench event. The calculation is based on the principle of energy conservation, where the total Joule heat deposited in the conductor equals the change in its enthalpy. We are asked to first derive the governing integral equation and then implement a numerical solution.\n\nAll quantities are expressed in SI units.\n\nThe foundational principle is the energy balance per unit volume of the composite conductor. The energy deposited per unit volume, $\\Delta E_v$, is equal to the increase in enthalpy per unit volume, $\\Delta h_v$.\n\n$\\Delta E_v = \\Delta h_v$\n\nFirst, let us derive the expression for the deposited Joule heating. The instantaneous power dissipation density (power per unit volume) in the copper stabilizer is given as $q(t) = J(t)^2 \\rho_{\\mathrm{e,ref}}$, where $J(t)$ is the current density in the copper and $\\rho_{\\mathrm{e,ref}}$ is the constant reference electrical resistivity of copper. The current is assumed to transfer fully to the copper stabilizer, which has a cross-sectional area of $A_{\\mathrm{cu}} = f_{\\mathrm{cu}} A$, where $A$ is the total cross-sectional area of the conductor and $f_{\\mathrm{cu}}$ is the fraction of copper. The current density is thus $J(t) = I(t)/A_{\\mathrm{cu}} = I(t)/(f_{\\mathrm{cu}} A)$.\n\nThe total energy deposited in a length $L$ of the conductor, $E_{\\mathrm{dep}}$, is the time integral of the total power, $P(t)$. The power is the power density multiplied by the volume of the copper, $V_{\\mathrm{cu}} = A_{\\mathrm{cu}} L = f_{\\mathrm{cu}} A L$.\n$$P(t) = q(t) V_{\\mathrm{cu}} = \\left(\\frac{I(t)}{f_{\\mathrm{cu}} A}\\right)^2 \\rho_{\\mathrm{e,ref}} (f_{\\mathrm{cu}} A L) = \\frac{\\rho_{\\mathrm{e,ref}} L}{f_{\\mathrm{cu}} A} I(t)^2$$\nThe total energy deposited is:\n$$E_{\\mathrm{dep}} = \\int P(t) dt = \\frac{\\rho_{\\mathrm{e,ref}} L}{f_{\\mathrm{cu}} A} \\int I(t)^2 dt$$\nThe problem is formulated in terms of energy per unit volume of the *entire* conductor. The volume of a length $L$ of the conductor is $V_{\\mathrm{tot}} = A L$. Dividing $E_{\\mathrm{dep}}$ by $V_{\\mathrm{tot}}$ gives the deposited energy density $\\Delta E_v$:\n$$\\Delta E_v = \\frac{E_{\\mathrm{dep}}}{V_{\\mathrm{tot}}} = \\frac{1}{AL} \\left( \\frac{\\rho_{\\mathrm{e,ref}} L}{f_{\\mathrm{cu}} A} \\int I^2 dt \\right) = \\frac{\\rho_{\\mathrm{e,ref}}}{f_{\\mathrm{cu}} A^2} \\int I^2 dt$$\nWait, a re-evaluation of the derivation reveals an inconsistency in the provided formulation of $J$. In standard analysis, $J$ is the current density in the material where heat is generated (copper), so $q(t) = J(t)^2 \\rho_{\\mathrm{e,ref}}$ is heat per unit volume of *copper*. The energy accumulated per unit volume of copper is $\\int q(t) dt$. The enthalpy change per unit volume of copper is $\\int \\rho_{\\mathrm{m}} C(T) dT$. Equating these gives $\\int \\rho_{\\mathrm{m}} C(T) dT = \\rho_{\\mathrm{e,ref}} \\int J(t)^2 dt$. Substituting $J(t) = I(t) / (f_{\\mathrm{cu}} A)$, we get:\n$$\\int_{T_{\\mathrm{op}}}^{T_{\\mathrm{hs}}} \\rho_{\\mathrm{m}} C(T) dT = \\rho_{\\mathrm{e,ref}} \\int \\left( \\frac{I(t)}{f_{\\mathrm{cu}} A} \\right)^2 dt = \\frac{\\rho_{\\mathrm{e,ref}}}{(f_{\\mathrm{cu}} A)^2} \\int I(t)^2 dt$$\nDividing by the constant mass density $\\rho_{\\mathrm{m}}$ to obtain an expression for specific enthalpy (enthalpy per unit mass, in J/kg):\n$$\\int_{T_{\\mathrm{op}}}^{T_{\\mathrm{hs}}} C(T) dT = \\frac{\\rho_{\\mathrm{e,ref}}}{\\rho_{\\mathrm{m}} (f_{\\mathrm{cu}} A)^2} \\int I(t)^2 dt = \\frac{\\rho_{\\mathrm{e,ref}}}{\\rho_{\\mathrm{m}} f_{\\mathrm{cu}}^2 A^2} \\int I(t)^2 dt$$\nThis confirms the relation given in the problem statement. We define the constant $\\alpha$ and the specific energy deposition $S$:\n$$\\alpha = \\frac{\\rho_{\\mathrm{e,ref}}}{\\rho_{\\mathrm{m}} f_{\\mathrm{cu}}^2 A^2}$$\n$$S = \\alpha \\int I^2 dt$$\nThe final equation to be solved for the hotspot temperature $T_{\\mathrm{hs}}$ is:\n$$\\int_{T_{\\mathrm{op}}}^{T_{\\mathrm{hs}}} C(T) dT = S$$\nwhere $T_{\\mathrm{op}}$ is the initial operating temperature. The specific heat of copper, $C(T)$, is given by the model:\n$$C(T) = C_{\\max}\\left(1 - e^{-\\left(\\frac{T}{T_0}\\right)^3}\\right)$$\nwith constants $C_{\\max} = 385\\,\\mathrm{J/(kg\\cdot K)}$ and $T_0 = 120\\,\\mathrm{K}$.\n\nThis equation is a non-linear integral equation for the unknown upper integration limit $T_{\\mathrm{hs}}$. An analytical solution is not readily available due to the form of $C(T)$. Therefore, a numerical approach is required. We can define a function $F(T_x)$ as the difference between the enthalpy integral and the deposited energy:\n$$F(T_x) = \\left( \\int_{T_{\\mathrm{op}}}^{T_x} C(T) dT \\right) - S$$\nThe problem is now reduced to finding the root of this function, i.e., solving $F(T_{\\mathrm{hs}}) = 0$.\n\nThe computational algorithm for each test case is as follows:\n$1$. Calculate the parameter $\\alpha$ using the given values for $\\rho_{\\mathrm{e,ref}}$, $\\rho_{\\mathrm{m}}$, $f_{\\mathrm{cu}}$, and $A$.\n$2$. Calculate the total specific energy deposited, $S$, using the calculated $\\alpha$ and the given value of the current-squared integral, $\\int I^2 dt$.\n$3$. Define the function $F(T_x)$ as specified above. The integral within this function will be evaluated numerically using a robust quadrature method, such as the `quad` function from Python's `scipy.integrate` library.\n$4$. Since $C(T) > 0$ for $T > 0$, the function $F(T_x)$ is monotonically increasing for $T_x > T_{\\mathrm{op}}$. This guarantees a unique root. We can employ a numerical root-finding algorithm, such as the Brent-Dekker method implemented in `scipy.optimize.brentq`, which is efficient and reliable for a bracketed, monotonic function.\n$5$. The search for the root $T_{\\mathrm{hs}}$ is conducted within the specified interval $[T_{\\mathrm{op}}, T_{\\max}]$. We solve $F(T_{\\mathrm{hs}}) = 0$ over this interval. At the lower bound, $F(T_{\\mathrm{op}}) = \\int_{T_{\\mathrm{op}}}^{T_{\\mathrm{op}}} C(T) dT - S = -S$, which is negative. Provided that the total enthalpy capacity up to $T_{\\max}$ is greater than $S$, $F(T_{\\max})$ will be positive, and the root is successfully bracketed.\n$6$. The obtained root $T_{\\mathrm{hs}}$ is the final hotspot temperature. This value is then rounded to one decimal place as required.\n\nThis procedure will be applied to each of the four test cases provided.",
            "answer": "```python\nimport numpy as np\nfrom scipy.integrate import quad\nfrom scipy.optimize import brentq\n\ndef solve():\n    \"\"\"\n    Computes the hotspot temperature in a superconducting magnet stabilizer\n    after a quench event by solving an energy balance equation.\n    \"\"\"\n\n    # Constants for the specific heat model of copper\n    C_max = 385.0  # J/(kg*K)\n    T_0 = 120.0    # K\n\n    # Test cases: (T_op, A, f_cu, rho_m, rho_e_ref, I2dt, T_max)\n    # T_op: Operating temperature [K]\n    # A: Total conductor cross-section [m^2]\n    # f_cu: Copper fraction [unitless]\n    # rho_m: Mass density of copper [kg/m^3]\n    # rho_e_ref: Reference electrical resistivity of copper [Ohm*m]\n    # I2dt: Integrated current-squared (MIITs) [A^2*s]\n    # T_max: Maximum temperature for search interval [K]\n    test_cases = [\n        (4.0, 50e-6, 0.6, 8960.0, 2.0e-8, 1.2e8, 1500.0),\n        (4.0, 50e-6, 0.6, 8960.0, 2.0e-8, 1.0e6, 1500.0),\n        (4.0, 25e-6, 0.4, 8960.0, 2.0e-8, 5.0e6, 1500.0),\n        (4.0, 50e-6, 0.6, 8960.0, 2.0e-8, 2.0e8, 1500.0),\n    ]\n\n    results = []\n\n    def C(T):\n        \"\"\"\n        Specific heat of copper as a function of temperature T.\n        \"\"\"\n        return C_max * (1.0 - np.exp(-(T / T_0)**3))\n\n    for case in test_cases:\n        T_op, A, f_cu, rho_m, rho_e_ref, I2dt, T_max = case\n\n        # Step 1: Calculate the parameter alpha\n        alpha = rho_e_ref / (rho_m * f_cu**2 * A**2)\n\n        # Step 2: Calculate the specific energy deposition S\n        S = alpha * I2dt\n\n        # Step 3: Define the function F(T_x) whose root we need to find.\n        # F(T_x) = (Integral of C(T) from T_op to T_x) - S\n        def F(T_x):\n            enthalpy_rise, _ = quad(C, T_op, T_x)\n            return enthalpy_rise - S\n\n        # Step 4: Use a numerical root-finder to solve F(T_hs) = 0\n        # The Brent-Dekker method is robust for a bracketed root.\n        # The bracket is [T_op, T_max]. We expect F(T_op) < 0 and F(T_max) > 0.\n        try:\n            T_hs = brentq(F, T_op, T_max)\n        except ValueError:\n            # This would occur if F(T_op) and F(T_max) have the same sign,\n            # meaning the root is not bracketed. This implies T_hs > T_max.\n            # For this problem, we can report T_max, but this indicates\n            # an extreme condition beyond the search range.\n            # Verifying if the enthalpy at T_max is less than S.\n            if F(T_max) < 0:\n                 T_hs = T_max # The temperature would exceed T_max\n            else: # Other unexpected error\n                 T_hs = np.nan\n\n        # Step 5: Round the result to one decimal place and store it.\n        results.append(round(T_hs, 1))\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "Once a quench is detected, the immense magnetic energy stored in a fusion-scale magnet—often hundreds of megajoules—must be rapidly and safely dissipated to prevent damage. This is the role of the quench protection system, and a central component is often an external 'dump' resistor. In this practice, you will apply fundamental circuit theory and thermodynamic principles to size this crucial component, balancing the need for a fast energy extraction against constraints on peak voltage and the thermal capacity of the resistor. ",
            "id": "4004258",
            "problem": "A superconducting poloidal field coil in a fusion device stores magnetic energy that must be safely removed during a quench via an external dump resistor. The coil can be modeled as an ideal inductor in series with a winding resistance. Upon quench detection at time $t=0$, an external dump resistor is switched in series, forming a resistive-inductive circuit. Assume no heat transfer to the environment during the discharge, and neglect the temperature dependence of electrical resistance over the short time of the discharge event. All dissipated electrical energy is partitioned between the winding resistance and the dump resistor.\n\nGiven the following parameters:\n- Inductance $L=4\\ \\mathrm{H}$,\n- Initial current $I_{0}=15\\ \\mathrm{kA}$,\n- Coil winding resistance $R_{c}=0.05\\ \\Omega$,\n- Maximum allowable initial terminal voltage across the series resistance $V_{\\max}=5\\ \\mathrm{kV}$,\n- Maximum allowable current decay time constant $\\tau_{\\max}=12\\ \\mathrm{s}$,\n- Dump resistor specific heat capacity modeled as $c_{p}(T)=a+b\\,T$ with $a=350\\ \\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1}$ and $b=0.15\\ \\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-2}$,\n- Initial dump resistor temperature $T_{0}=300\\ \\mathrm{K}$,\n- Maximum allowable resistor temperature rise $\\Delta T_{\\max}=250\\ \\mathrm{K}$,\n\nThe resistive-inductive discharge profile is set by the series resistance $R_{c}+R_{d}$, where $R_{d}$ is the external dump resistance to be chosen. Using fundamental circuit and energy relations, determine:\n1. The smallest $R_{d}$ that simultaneously satisfies the initial voltage limit and the decay time constant limit.\n2. The minimum required dump resistor peak power rating at $t=0$ under this discharge profile.\n3. The minimum dump resistor thermal mass required so that the resistor absorbs its share of the magnetic energy $E=\\tfrac{1}{2} L I_{0}^{2}$ without exceeding the temperature rise $\\Delta T_{\\max}$, given the stated $c_{p}(T)$.\n\nRound your final numerical answers to four significant figures. Express the power rating in megawatts (MW) and the thermal mass in kilograms (kg). Provide your final answer as the pair $\\big(P_{\\mathrm{rating}},\\,m_{\\min}\\big)$.",
            "solution": "The problem statement is critically validated before attempting a solution.\n\n### Step 1: Extract Givens\n-   Inductance: $L=4\\ \\mathrm{H}$\n-   Initial current: $I_{0}=15\\ \\mathrm{kA} = 1.5 \\times 10^{4}\\ \\mathrm{A}$\n-   Coil winding resistance: $R_{c}=0.05\\ \\Omega$\n-   Maximum allowable initial terminal voltage: $V_{\\max}=5\\ \\mathrm{kV} = 5 \\times 10^{3}\\ \\mathrm{V}$\n-   Maximum allowable current decay time constant: $\\tau_{\\max}=12\\ \\mathrm{s}$\n-   Dump resistor specific heat capacity: $c_{p}(T)=a+b\\,T$\n-   Specific heat capacity constant $a$: $a=350\\ \\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1}$\n-   Specific heat capacity constant $b$: $b=0.15\\ \\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-2}$\n-   Initial dump resistor temperature: $T_{0}=300\\ \\mathrm{K}$\n-   Maximum allowable resistor temperature rise: $\\Delta T_{\\max}=250\\ \\mathrm{K}$\n\n### Step 2: Validate Using Extracted Givens\nThe problem describes the quench protection system for a superconducting magnet, modeled as a first-order resistive-inductive ($RL$) circuit with thermal analysis.\n\n-   **Scientifically Grounded**: The problem is firmly rooted in fundamental principles of electrical circuit theory (Ohm's law, Kirchhoff's voltage law for $RL$ circuits) and thermodynamics (energy conservation, specific heat capacity). The model is a standard, albeit simplified, representation of a real-world engineering scenario in magnet technology. The physical quantities provided are of a plausible order of magnitude for large-scale fusion magnets.\n-   **Well-Posed**: The problem provides a clear objective and a complete set of constraints and parameters. The constraints on voltage and time constant define a feasible operating region for the dump resistance, from which an optimal value can be determined. The thermal analysis is also well-defined.\n-   **Objective**: The problem is stated using precise, quantitative, and unbiased technical language. There are no subjective elements.\n\nThe problem does not exhibit any of the flaws listed in the validation checklist, such as scientific unsoundness, incompleteness, contradiction, or ambiguity. It is a formalizable and verifiable physics and engineering problem.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid**. A full solution will be developed.\n\n### Solution Derivation\n\nThe analysis proceeds in three parts as requested: determining the dump resistance $R_{d}$, the peak power rating $P_{\\mathrm{rating}}$, and the minimum thermal mass $m_{\\min}$.\n\n**1. Determination of the Dump Resistance $R_{d}$**\n\nAt time $t=0$, the dump resistor $R_{d}$ is switched into the circuit, forming a series $RL$ circuit with total resistance $R_{\\mathrm{total}} = R_{c} + R_{d}$. The governing differential equation is $L \\frac{dI}{dt} + I R_{\\mathrm{total}} = 0$, with the initial condition $I(t=0)=I_{0}$. The solution for the current as a function of time $t$ is:\n$$I(t) = I_{0} \\exp\\left(-\\frac{R_{\\mathrm{total}}}{L}t\\right) = I_{0} \\exp\\left(-\\frac{t}{\\tau}\\right)$$\nwhere the time constant $\\tau$ is given by:\n$$\\tau = \\frac{L}{R_{\\mathrm{total}}} = \\frac{L}{R_{c} + R_{d}}$$\n\nTwo constraints are placed on the system:\n\n-   **Initial Voltage Limit**: The initial voltage across the total series resistance at $t=0$ must not exceed $V_{\\max}$.\n    $$V(0) = I(0) R_{\\mathrm{total}} = I_{0}(R_{c} + R_{d}) \\le V_{\\max}$$\n    This inequality sets an upper bound on the total resistance and thus on $R_{d}$:\n    $$R_{c} + R_{d} \\le \\frac{V_{\\max}}{I_{0}}$$\n    $$R_{d} \\le \\frac{V_{\\max}}{I_{0}} - R_{c}$$\n    Substituting the given values:\n    $$R_{d} \\le \\frac{5 \\times 10^{3}\\ \\mathrm{V}}{1.5 \\times 10^{4}\\ \\mathrm{A}} - 0.05\\ \\Omega = \\frac{1}{3}\\ \\Omega - 0.05\\ \\Omega = \\frac{1}{3}\\ \\Omega - \\frac{5}{100}\\ \\Omega = \\frac{1}{3}\\ \\Omega - \\frac{1}{20}\\ \\Omega = \\frac{20-3}{60}\\ \\Omega = \\frac{17}{60}\\ \\Omega$$\n    So, $R_{d} \\le \\frac{17}{60}\\ \\Omega$.\n\n-   **Decay Time Constant Limit**: The current decay time constant $\\tau$ must not exceed $\\tau_{\\max}$.\n    $$\\tau = \\frac{L}{R_{c} + R_{d}} \\le \\tau_{\\max}$$\n    This inequality sets a lower bound on the total resistance and thus on $R_{d}$:\n    $$R_{c} + R_{d} \\ge \\frac{L}{\\tau_{\\max}}$$\n    $$R_{d} \\ge \\frac{L}{\\tau_{\\max}} - R_{c}$$\n    Substituting the given values:\n    $$R_{d} \\ge \\frac{4\\ \\mathrm{H}}{12\\ \\mathrm{s}} - 0.05\\ \\Omega = \\frac{1}{3}\\ \\Omega - 0.05\\ \\Omega = \\frac{17}{60}\\ \\Omega$$\n    So, $R_{d} \\ge \\frac{17}{60}\\ \\Omega$.\n\nThe two constraints define a single unique value for $R_{d}$. To satisfy both $R_{d} \\le \\frac{17}{60}\\ \\Omega$ and $R_{d} \\ge \\frac{17}{60}\\ \\Omega$, the only possible value is:\n$$R_{d} = \\frac{17}{60}\\ \\Omega \\approx 0.2833\\ \\Omega$$\nThis is the smallest possible value for $R_{d}$ that satisfies the time constant limit, and it also happens to satisfy the voltage limit exactly.\n\n**2. Determination of the Peak Power Rating $P_{\\mathrm{rating}}$**\n\nThe instantaneous power dissipated in the dump resistor is given by $P_{d}(t) = I(t)^{2} R_{d}$. The peak power occurs at $t=0$ when the current is at its maximum, $I_{0}$. The minimum required power rating, $P_{\\mathrm{rating}}$, must be at least this peak power.\n$$P_{\\mathrm{rating}} = P_{d}(0) = I_{0}^{2} R_{d}$$\nSubstituting the values:\n$$P_{\\mathrm{rating}} = (1.5 \\times 10^{4}\\ \\mathrm{A})^{2} \\left(\\frac{17}{60}\\ \\Omega\\right) = (2.25 \\times 10^{8}\\ \\mathrm{A}^{2}) \\left(\\frac{17}{60}\\ \\Omega\\right)$$\n$$P_{\\mathrm{rating}} = \\frac{2.25 \\times 17}{60} \\times 10^{8}\\ \\mathrm{W} = 6.375 \\times 10^{7}\\ \\mathrm{W} = 63.75\\ \\mathrm{MW}$$\nThe required peak power rating is $63.75\\ \\mathrm{MW}$.\n\n**3. Determination of the Minimum Thermal Mass $m_{\\min}$**\n\nFirst, we calculate the total magnetic energy stored in the inductor:\n$$E_{\\mathrm{total}} = \\frac{1}{2} L I_{0}^{2} = \\frac{1}{2} (4\\ \\mathrm{H}) (1.5 \\times 10^{4}\\ \\mathrm{A})^{2} = 2 \\times 2.25 \\times 10^{8}\\ \\mathrm{J} = 4.5 \\times 10^{8}\\ \\mathrm{J}$$\nThis energy is dissipated as heat in the resistors $R_{c}$ and $R_{d}$. The energy dissipated in any resistor $R$ is given by $E_R = \\int_{0}^{\\infty} I(t)^2 R dt$. The ratio of energy dissipated in $R_d$ to the total energy is the same as the ratio of its resistance to the total resistance.\n$$E_{d} = E_{\\mathrm{total}} \\frac{R_{d}}{R_{c} + R_{d}} = E_{\\mathrm{total}} \\frac{R_{d}}{R_{\\mathrm{total}}}$$\nFrom Part 1, we found $R_{\\mathrm{total}} = R_c + R_d = \\frac{1}{3}\\ \\Omega$ and $R_d = \\frac{17}{60}\\ \\Omega$.\n$$E_{d} = (4.5 \\times 10^{8}\\ \\mathrm{J}) \\frac{17/60\\ \\Omega}{1/3\\ \\Omega} = (4.5 \\times 10^{8}\\ \\mathrm{J}) \\frac{17 \\times 3}{60} = (4.5 \\times 10^{8}\\ \\mathrm{J}) \\frac{17}{20} = 3.825 \\times 10^{8}\\ \\mathrm{J}$$\nThis energy $E_{d}$ is absorbed by the dump resistor of mass $m$, causing its temperature to rise from $T_{0}$ to a final temperature $T_{f}$. The change in internal energy $\\Delta U$ for this process is given by the integral of the mass-specific heat capacity over the temperature range:\n$$\\Delta U = E_{d} = \\int_{T_{0}}^{T_{f}} m c_{p}(T) dT = m \\int_{T_{0}}^{T_{f}} (a+bT) dT$$\nThe maximum allowable temperature rise is $\\Delta T_{\\max} = 250\\ \\mathrm{K}$, so the final temperature is $T_{f} = T_{0} + \\Delta T_{\\max} = 300\\ \\mathrm{K} + 250\\ \\mathrm{K} = 550\\ \\mathrm{K}$. To find the minimum required mass $m_{\\min}$, we set the absorbed energy equal to this maximum allowable thermal energy storage capacity.\n$$E_{d} = m_{\\min} \\left[ aT + \\frac{b}{2}T^{2} \\right]_{T_{0}}^{T_{f}}$$\n$$E_{d} = m_{\\min} \\left( a(T_{f}-T_{0}) + \\frac{b}{2}(T_{f}^{2}-T_{0}^{2}) \\right)$$\nSubstituting the given values for $a$, $b$, $T_{0}$, and $T_{f}$:\n$$E_{d} = m_{\\min} \\left( 350(550 - 300) + \\frac{0.15}{2}(550^{2} - 300^{2}) \\right)$$\n$$E_{d} = m_{\\min} \\left( 350(250) + 0.075(302500 - 90000) \\right)$$\n$$E_{d} = m_{\\min} \\left( 87500 + 0.075(212500) \\right)$$\n$$E_{d} = m_{\\min} (87500 + 15937.5) = m_{\\min} (103437.5\\ \\mathrm{J/kg})$$\nNow, we solve for $m_{\\min}$:\n$$m_{\\min} = \\frac{E_{d}}{103437.5\\ \\mathrm{J/kg}} = \\frac{3.825 \\times 10^{8}\\ \\mathrm{J}}{103437.5\\ \\mathrm{J/kg}} \\approx 3697.848\\ \\mathrm{kg}$$\nRounding to four significant figures, the minimum required mass is $m_{\\min} = 3698\\ \\mathrm{kg}$.\n\nThe final requested answers are the peak power rating $P_{\\mathrm{rating}}$ in MW and the minimum thermal mass $m_{\\min}$ in kg, as a pair.\n$P_{\\mathrm{rating}} = 63.75\\ \\mathrm{MW}$\n$m_{\\min} = 3698\\ \\mathrm{kg}$",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n63.75 & 3698\n\\end{pmatrix}\n}\n$$"
        }
    ]
}