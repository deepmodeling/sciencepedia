{
    "hands_on_practices": [
        {
            "introduction": "有效的热管理通常始于能够抓住核心物理规律的简化模型。第一个实践将电池模组处理为一个均质板，这是电池包级别分析中的一种常用方法。通过运用量纲分析，然后推导精确的解析解，您将培养对控制温升的关键参数的直觉，并理解像毕渥数（Biot number）这样的无量纲数在表征热行为中的重要作用。",
            "id": "4261053",
            "problem": "一个锂离子电池模块在电池包尺度上被建模为一个均质化的一维平板，该平板代表了多孔电极、隔膜和集流体的堆叠。在恒定电流的稳态放电过程中，由欧姆、反应和熵贡献汇总而来的内部体积产热率在平板内部空间上是均匀的，其值等于 $\\dot{q}$。假设该平板侧向尺寸很大，因此热流是沿 $x$ 方向的一维流动，其中间平面位于 $x=0$，冷却外表面位于 $x=L$。有效导热系数为 $k$（恒定且各向同性）。位于 $x=L$ 的外表面通过对流与温度为 $T_{\\infty}$ 的冷却剂进行热交换，传热系数为 $h$。假设辐射可忽略，物性恒定，且系统处于稳态。\n\n从局部能量守恒和傅里叶热传导定律出发，完成以下任务：\n- 使用标度分析，用 $\\dot{q}$、$L$ 和 $k$ 来估计中心线相对于冷却剂的温升的数量级，$\\Delta T_{\\text{scale}} \\equiv T(0)-T_{\\infty}$。\n- 求解具有均匀内部产热和给定边界条件的一维稳态热传导边值问题，以获得中心线温升的精确表达式，$\\Delta T_{\\text{exact}} \\equiv T(0)-T_{\\infty}$。\n- 定义比率 $R \\equiv \\Delta T_{\\text{exact}} / \\Delta T_{\\text{scale}}$，并使用参数 $L = 1.5 \\times 10^{-3}\\,\\mathrm{m}$、$k = 2.0\\,\\mathrm{W\\,m^{-1}\\,K^{-1}}$ 和 $h = 400\\,\\mathrm{W\\,m^{-2}\\,K^{-1}}$ 对其进行数值计算。\n\n报告 $R$ 的最终值，四舍五入至四位有效数字。最终答案是无量纲的，请勿在最终答案中包含单位。",
            "solution": "用户提供了一个问题陈述，在尝试求解之前需要对其进行验证。\n\n### 第一步：提取已知条件\n- **系统**：代表电池模块的均质化一维平板。\n- **几何结构**：平板的中间平面位于 $x=0$，外表面位于 $x=L$。热流是沿 $x$ 方向的一维流动。\n- **产热**：空间均匀且稳态的体积产热率 $\\dot{q}$。\n- **导热系数**：有效导热系数 $k$ 是恒定且各向同性的。\n- **状态**：系统处于稳态。\n- **边界条件**：\n    1.  在中间平面（$x=0$）：对称条件，意味着零热通量。\n    2.  在外表面（$x=L$）：通过传热系数 $h$ 与温度为 $T_{\\infty}$ 的冷却剂进行对流换热。\n- **假设**：辐射可忽略，物性恒定。\n- **用于数值评估的参数**：\n    - $L = 1.5 \\times 10^{-3}\\,\\mathrm{m}$\n    - $k = 2.0\\,\\mathrm{W\\,m^{-1}\\,K^{-1}}$\n    - $h = 400\\,\\mathrm{W\\,m^{-2}\\,K^{-1}}$\n- **任务**：\n    1.  使用标度分析估计中心线相对于冷却剂的温升的数量级，$\\Delta T_{\\text{scale}} \\equiv T(0)-T_{\\infty}$。\n    2.  求解边值问题以找到中心线温升的精确表达式，$\\Delta T_{\\text{exact}} \\equiv T(0)-T_{\\infty}$。\n    3.  定义比率 $R \\equiv \\Delta T_{\\text{exact}} / \\Delta T_{\\text{scale}}$ 并进行数值计算，结果四舍五入至四位有效数字。\n\n### 第二步：使用提取的已知条件进行验证\n根据指定标准对问题进行验证。\n\n- **有科学依据**：该问题基于傅里叶热传导定律和能量守恒原理，这些是热物理与工程学的基本原则。具有均匀内部产热的一维平板模型是一种标准的、科学上有效的简化方法，用于许多系统（包括电化学电池）的热分析。\n- **适定的**：该问题描述了一个关于温度的二阶线性常微分方程，并附有两个边界条件（一个在 $x=L$ 处指定，一个由 $x=0$ 处的对称性隐含）。这构成了一个适定的边值问题，存在唯一、稳定且有意义的解。\n- **客观的**：问题陈述使用了精确、无歧义的标准科学术语。所要求的任务是定量的，没有主观解释的余地。\n- **完整性和一致性**：问题是自洽的。所有必要的物理参数（$k$、$L$、$h$）、边界条件（$T_\\infty$、对称性）和控制现象（$\\dot{q}$、稳态）都已提供。给定的参数在量纲上是一致的，并且对于电池模块而言在物理上是合理的。没有内部矛盾。\n\n### 第三步：结论与行动\n该问题科学上合理、适定、客观且自洽。判定为**有效**。将提供完整解答。\n\n对于具有恒定导热系数 $k$ 和均匀体积产热率 $\\dot{q}$ 的稳态一维热传导，其控制方程由局部能量守恒导出：\n$$ k \\frac{d^2T}{dx^2} + \\dot{q} = 0 $$\n\n首先，我们进行标度分析以估计温升。“标度分析”一词指的是对控制微分方程进行无量纲化，以确定问题的特征尺度。设 $L$ 为特征长度尺度，$\\Delta T_{\\text{scale}}$ 为特征温度尺度。我们定义无量纲变量 $x^* = x/L$ 和一个无量纲温度 $\\theta$。二阶导数项的标度为 $\\frac{d^2T}{dx^2} \\sim \\frac{\\Delta T_{\\text{scale}}}{L^2}$。将此代入控制方程得到：\n$$ k \\frac{\\Delta T_{\\text{scale}}}{L^2} \\sim \\dot{q} $$\n为了使各项平衡，它们的数量级必须相当。这个标度关系为特征温升提供了一个估计值：\n$$ \\Delta T_{\\text{scale}} = \\frac{\\dot{q}L^2}{k} $$\n该表达式代表了与通过平板的热传导相关的温差的数量级，它是从控制微分方程推导出来的。\n\n接下来，我们通过求解边值问题来找到精确解。将控制方程 $ \\frac{d^2T}{dx^2} = -\\frac{\\dot{q}}{k} $ 对 $x$ 积分一次，得到：\n$$ \\frac{dT}{dx} = -\\frac{\\dot{q}}{k}x + C_1 $$\n$x=0$ 处的中间平面是一个对称面，这意味着一个绝热边界条件（零热通量）：$\\frac{dT}{dx}\\big|_{x=0} = 0$。应用此条件可得 $C_1=0$。\n再次积分得到温度分布：\n$$ T(x) = -\\frac{\\dot{q}}{2k}x^2 + C_2 $$\n第二个边界条件位于外表面 $x=L$，在此处热量通过对流传递给温度为 $T_{\\infty}$ 的冷却剂，传热系数为 $h$。表面处的能量平衡要求从平板传出的传导热通量等于远离它的对流热通量：\n$$ -k \\frac{dT}{dx}\\bigg|_{x=L} = h[T(L) - T_{\\infty}] $$\n使用 $C_1=0$ 时的温度梯度表达式，我们有 $\\frac{dT}{dx}\\big|_{x=L} = -\\frac{\\dot{q}L}{k}$。将此代入边界条件得到：\n$$ -k \\left(-\\frac{\\dot{q}L}{k}\\right) = \\dot{q}L = h[T(L) - T_{\\infty}] $$\n这使我们能够确定表面温度 $T(L)$：\n$$ T(L) = T_{\\infty} + \\frac{\\dot{q}L}{h} $$\n我们通过计算 $x=L$ 处的温度分布来找到积分常数 $C_2$：\n$$ T(L) = -\\frac{\\dot{q}L^2}{2k} + C_2 $$\n令两个 $T(L)$ 的表达式相等：\n$$ T_{\\infty} + \\frac{\\dot{q}L}{h} = -\\frac{\\dot{q}L^2}{2k} + C_2 $$\n求解 $C_2$ 得到：\n$$ C_2 = T_{\\infty} + \\frac{\\dot{q}L^2}{2k} + \\frac{\\dot{q}L}{h} $$\n中心线温度是 $T(0)$，即 $C_2$。相对于冷却剂的精确中心线温升为 $\\Delta T_{\\text{exact}} \\equiv T(0) - T_{\\infty}$。\n$$ \\Delta T_{\\text{exact}} = \\left( T_{\\infty} + \\frac{\\dot{q}L^2}{2k} + \\frac{\\dot{q}L}{h} \\right) - T_{\\infty} = \\frac{\\dot{q}L^2}{2k} + \\frac{\\dot{q}L}{h} $$\n这个精确温升由两部分组成：平板内部的温降 $\\frac{\\dot{q}L^2}{2k}$，和跨越对流边界层的温降 $\\frac{\\dot{q}L}{h}$。\n\n最后，我们计算比率 $R \\equiv \\Delta T_{\\text{exact}} / \\Delta T_{\\text{scale}}$。\n$$ R = \\frac{\\frac{\\dot{q}L^2}{2k} + \\frac{\\dot{q}L}{h}}{\\frac{\\dot{q}L^2}{k}} $$\n项 $\\dot{q}$ 被消去。我们可以简化表达式：\n$$ R = \\frac{\\frac{L^2}{2k}}{\\frac{L^2}{k}} + \\frac{\\frac{L}{h}}{\\frac{L^2}{k}} = \\frac{1}{2} + \\frac{L}{h} \\cdot \\frac{k}{L^2} = \\frac{1}{2} + \\frac{k}{hL} $$\n无量纲群 $\\frac{hL}{k}$ 是毕渥数（$Bi$），它比较了内部传导热阻与外部对流热阻。该比率可以表示为 $R = \\frac{1}{2} + \\frac{1}{Bi}$。\n\n现在，我们使用给定的数值来计算 $R$：\n$L = 1.5 \\times 10^{-3}\\,\\mathrm{m}$\n$k = 2.0\\,\\mathrm{W\\,m^{-1}\\,K^{-1}}$\n$h = 400\\,\\mathrm{W\\,m^{-2}\\,K^{-1}}$\n\n首先，计算乘积 $hL$：\n$$ hL = (400\\,\\mathrm{W\\,m^{-2}\\,K^{-1}}) \\times (1.5 \\times 10^{-3}\\,\\mathrm{m}) = 0.6\\,\\mathrm{W\\,m^{-1}\\,K^{-1}} $$\n接下来，计算项 $\\frac{k}{hL}$：\n$$ \\frac{k}{hL} = \\frac{2.0\\,\\mathrm{W\\,m^{-1}\\,K^{-1}}}{0.6\\,\\mathrm{W\\,m^{-1}\\,K^{-1}}} = \\frac{2.0}{0.6} = \\frac{10}{3} $$\n最后，计算 $R$：\n$$ R = \\frac{1}{2} + \\frac{10}{3} = \\frac{3}{6} + \\frac{20}{6} = \\frac{23}{6} \\approx 3.8333... $$\n按要求将结果四舍五入至四位有效数字：\n$$ R \\approx 3.833 $$",
            "answer": "$$\n\\boxed{3.833}\n$$"
        },
        {
            "introduction": "一个精确的热模型需要对其热源有准确的量化。本练习聚焦于一种基础的实验技术，它能将电化学单元产生的总热量分解为不可逆热（由过电位引起）和可逆热（由熵变引起）。通过利用这两个热项对电流方向的独特对称性，您将学会如何处理原始的量热数据，以提取这些关键的物理量。",
            "id": "4261088",
            "problem": "一个电化学电池在等温热流式量热计中进行测试。量热计的运行方式能使电池和量热计保持均匀恒定的温度，并且系统在每个施加的电流下都达到稳态。在两个大小相等、方向相反的电流 $+I$ 和 $-I$ 下进行测量，以利用热耦合相对于电流反向的对称性。量热计报告离开电池的净热率，该净热率是不可逆热和可逆热贡献的总和。不可逆热源于电阻和动力学损失，在电流反向时符号不变；而可逆热源于电化学反应的熵变，在电流反向时符号改变。\n\n从应用于等温稳态电化学电池的热力学第一定律出发，并根据不可逆产热与可逆产热的定义，推导一种使用在 $+I$ 和 $-I$ 下的量热测量值来分离不可逆热和可逆热组分的方法。量热计在开路（$I=0$）时测量到一个微小的、与电流无关的基线偏移。使用以下数据：\n\n- 施加的电流大小：$I = 1.75$ A 和 $-I = -1.75$ A。\n- 稳态下测得的量热计热率：$\\dot{Q}(+I) = 1.92$ W, $\\dot{Q}(-I) = 0.68$ W。\n- 开路时的基线偏移：$\\dot{Q}(0) = 0.10$ W。\n\n假设副反应可忽略不计，温度在空间上均匀，并且测量的热率等于电池的总产热加上基线偏移。在校正基线偏移后，使用您推导的表达式计算不可逆热率 $\\dot{Q}_{\\mathrm{irr}}$ 和可逆热率 $\\dot{Q}_{\\mathrm{rev}}$。将两个答案都以瓦特为单位表示，并将结果四舍五入到三位有效数字。",
            "solution": "该问题要求推导一种使用量热数据分离电化学电池中不可逆产热和可逆产热的方法，然后进行数值计算。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n- 系统是一个处于等温热流式量热计中的等温稳态电化学电池。\n- 在大小相等、方向相反的电流 $+I$ 和 $-I$ 下进行测量。\n- 量热计测量离开电池的净热率，此处表示为 $\\dot{Q}_{\\mathrm{meas}}$。\n- 电池的总产热率是不可逆（$\\dot{Q}_{\\mathrm{irr}}$）和可逆（$\\dot{Q}_{\\mathrm{rev}}$）贡献之和。\n- 不可逆热的性质：$\\dot{Q}_{\\mathrm{irr}}$ 在电流反向时符号不变。这意味着它是电流的偶函数：$\\dot{Q}_{\\mathrm{irr}}(I) = \\dot{Q}_{\\mathrm{irr}}(-I)$。\n- 可逆热的性质：$\\dot{Q}_{\\mathrm{rev}}$ 在电流反向时符号改变。这意味着它是电流的奇函数：$\\dot{Q}_{\\mathrm{rev}}(I) = -\\dot{Q}_{\\mathrm{rev}}(-I)$。\n- 量热计有一个与电流无关的基线偏移 $\\dot{Q}_{\\mathrm{offset}}$。\n- 测得的热率是电池总产热与基线偏移之和。\n- 提供的数据：\n    - 施加的电流大小：$|I| = 1.75$ A\n    - 在 $+I$ 时的测量热率：$\\dot{Q}_{\\mathrm{meas}}(+I) = 1.92$ W\n    - 在 $-I$ 时的测量热率：$\\dot{Q}_{\\mathrm{meas}}(-I) = 0.68$ W\n    - 开路（$I=0$）时的基线偏移：$\\dot{Q}_{\\mathrm{offset}} = \\dot{Q}_{\\mathrm{meas}}(0) = 0.10$ W\n\n**步骤2：使用提取的已知条件进行验证**\n根据验证标准对问题进行评估：\n- **科学依据**：该问题基于应用于电化学系统的热力学第一定律。将产热分离为不可逆（焦耳热、极化损失）和可逆（熵热）组分的概念是电化学工程和电池热管理中的一个标准和基本原则，通常在 Bernardi-Newman-Kwon 模型中被形式化。所描述的实验方法是表征这些热源的标准技术。该问题在科学上是合理的。\n- **适定性**：该问题提供了两个独立的测量值（$\\dot{Q}_{\\mathrm{meas}}(+I)$ 和 $\\dot{Q}_{\\mathrm{meas}}(-I)$）以及关于系统的必要信息（热组分的对称性、基线偏移），以确定两个未知数（$\\dot{Q}_{\\mathrm{irr}}$ 和 $\\dot{Q}_{\\mathrm{rev}}$）。该设置构成一个可解的线性方程组，保证了唯一且稳定的解。\n- **客观性**：问题陈述使用了精确、定量且无偏见的语言。所有术语均根据标准科学惯例定义。\n\n该问题不存在科学上不合理、不完整、矛盾或模糊等任何缺陷。数据对于实验室规模的电化学电池来说是物理上一致且切合实际的。\n\n**步骤3：结论与行动**\n该问题是**有效的**。将提供完整解答。\n\n### 推导与求解\n\n电化学电池内部的总产热率 $\\dot{Q}_{\\mathrm{cell}}(I)$ 是其不可逆和可逆组分之和：\n$$ \\dot{Q}_{\\mathrm{cell}}(I) = \\dot{Q}_{\\mathrm{irr}}(I) + \\dot{Q}_{\\mathrm{rev}}(I) $$\n问题指出，量热计的测量值 $\\dot{Q}_{\\mathrm{meas}}(I)$ 包含一个恒定的基线偏移 $\\dot{Q}_{\\mathrm{offset}}$。该偏移是在开路（$I=0$）时测量的，此时电池自身的产热为零（$\\dot{Q}_{\\mathrm{cell}}(0) = 0$）。\n$$ \\dot{Q}_{\\mathrm{meas}}(I) = \\dot{Q}_{\\mathrm{cell}}(I) + \\dot{Q}_{\\mathrm{offset}} $$\n根据开路测量，我们有：\n$$ \\dot{Q}_{\\mathrm{offset}} = \\dot{Q}_{\\mathrm{meas}}(0) = 0.10 \\, \\text{W} $$\n因此，可以通过对测量值进行该偏移校正来找到电池的真实产热：\n$$ \\dot{Q}_{\\mathrm{cell}}(I) = \\dot{Q}_{\\mathrm{meas}}(I) - \\dot{Q}_{\\mathrm{offset}} $$\n\n让我们将此校正应用于给定电流 $+I$ 和 $-I$（其中 $I = 1.75$ A）的数据。\n对于正电流：\n$$ \\dot{Q}_{\\mathrm{cell}}(+I) = \\dot{Q}_{\\mathrm{meas}}(+I) - \\dot{Q}_{\\mathrm{offset}} = 1.92 \\, \\text{W} - 0.10 \\, \\text{W} = 1.82 \\, \\text{W} $$\n对于负电流：\n$$ \\dot{Q}_{\\mathrm{cell}}(-I) = \\dot{Q}_{\\mathrm{meas}}(-I) - \\dot{Q}_{\\mathrm{offset}} = 0.68 \\, \\text{W} - 0.10 \\, \\text{W} = 0.58 \\, \\text{W} $$\n\n现在，我们可以根据在 $+I$ 和 $-I$ 下的测量值建立一个包含两个方程的方程组。为简单起见，让 $\\dot{Q}_{\\mathrm{irr}}$ 和 $\\dot{Q}_{\\mathrm{rev}}$ 表示在正电流 $+I$ 时的值。\n在电流 $+I$ 时：\n$$ \\dot{Q}_{\\mathrm{cell}}(+I) = \\dot{Q}_{\\mathrm{irr}}(I) + \\dot{Q}_{\\mathrm{rev}}(I) \\quad \\text{(方程 1)} $$\n在电流 $-I$ 时，我们使用指定的对称性：$\\dot{Q}_{\\mathrm{irr}}(-I) = \\dot{Q}_{\\mathrm{irr}}(I)$ 和 $\\dot{Q}_{\\mathrm{rev}}(-I) = -\\dot{Q}_{\\mathrm{rev}}(I)$。\n$$ \\dot{Q}_{\\mathrm{cell}}(-I) = \\dot{Q}_{\\mathrm{irr}}(-I) + \\dot{Q}_{\\mathrm{rev}}(-I) = \\dot{Q}_{\\mathrm{irr}}(I) - \\dot{Q}_{\\mathrm{rev}}(I) \\quad \\text{(方程 2)} $$\n\n我们现在得到了一个关于两个未知数 $\\dot{Q}_{\\mathrm{irr}}(I)$ 和 $\\dot{Q}_{\\mathrm{rev}}(I)$ 的线性方程组：\n$$ \\dot{Q}_{\\mathrm{cell}}(+I) = \\dot{Q}_{\\mathrm{irr}}(I) + \\dot{Q}_{\\mathrm{rev}}(I) $$\n$$ \\dot{Q}_{\\mathrm{cell}}(-I) = \\dot{Q}_{\\mathrm{irr}}(I) - \\dot{Q}_{\\mathrm{rev}}(I) $$\n\n为了求解 $\\dot{Q}_{\\mathrm{irr}}(I)$，我们将方程1和方程2相加：\n$$ \\dot{Q}_{\\mathrm{cell}}(+I) + \\dot{Q}_{\\mathrm{cell}}(-I) = (\\dot{Q}_{\\mathrm{irr}}(I) + \\dot{Q}_{\\mathrm{rev}}(I)) + (\\dot{Q}_{\\mathrm{irr}}(I) - \\dot{Q}_{\\mathrm{rev}}(I)) = 2\\dot{Q}_{\\mathrm{irr}}(I) $$\n这给出了不可逆热的表达式：\n$$ \\dot{Q}_{\\mathrm{irr}}(I) = \\frac{\\dot{Q}_{\\mathrm{cell}}(+I) + \\dot{Q}_{\\mathrm{cell}}(-I)}{2} $$\n\n为了求解 $\\dot{Q}_{\\mathrm{rev}}(I)$，我们将方程2从方程1中减去：\n$$ \\dot{Q}_{\\mathrm{cell}}(+I) - \\dot{Q}_{\\mathrm{cell}}(-I) = (\\dot{Q}_{\\mathrm{irr}}(I) + \\dot{Q}_{\\mathrm{rev}}(I)) - (\\dot{Q}_{\\mathrm{irr}}(I) - \\dot{Q}_{\\mathrm{rev}}(I)) = 2\\dot{Q}_{\\mathrm{rev}}(I) $$\n这给出了可逆热的表达式：\n$$ \\dot{Q}_{\\mathrm{rev}}(I) = \\frac{\\dot{Q}_{\\mathrm{cell}}(+I) - \\dot{Q}_{\\mathrm{cell}}(-I)}{2} $$\n这些推导出的表达式提供了分离这两个热组分的通用方法。\n\n最后，我们代入经过数值校正的热值来求得答案。\n计算不可逆热率 $\\dot{Q}_{\\mathrm{irr}}$：\n$$ \\dot{Q}_{\\mathrm{irr}} = \\frac{1.82 \\, \\text{W} + 0.58 \\, \\text{W}}{2} = \\frac{2.40 \\, \\text{W}}{2} = 1.20 \\, \\text{W} $$\n计算在电流为 $+1.75$ A 时的可逆热率 $\\dot{Q}_{\\mathrm{rev}}$：\n$$ \\dot{Q}_{\\mathrm{rev}} = \\frac{1.82 \\, \\text{W} - 0.58 \\, \\text{W}}{2} = \\frac{1.24 \\, \\text{W}}{2} = 0.620 \\, \\text{W} $$\n\n根据要求，结果四舍五入到三位有效数字为 $\\dot{Q}_{\\mathrm{irr}} = 1.20$ W 和 $\\dot{Q}_{\\mathrm{rev}} = 0.620$ W。根据定义，不可逆热是正的。可逆热的正号表明，对于放电反应（假设 $+I$ 为放电），反应具有正的熵变，导致冷却效应，但该效应被更大的不可逆热项所掩盖。\n该问题隐含地要求在正电流幅值下定义的 $\\dot{Q}_{\\mathrm{irr}}$ 和 $\\dot{Q}_{\\mathrm{rev}}$ 的值。",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 1.20  0.620 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "高保真度的电池模型，例如多孔电极模型（Doyle-Fuller-Newman model），解析了多孔电极结构内部的物理过程。最后一个实践将深入到这种微观尺度细节，要求您计算空间变化的可逆热生成密度。这项计算练习将基础热力学与数值实现联系起来，需要您使用实验数据的插值来计算复杂电化学-热耦合模型中的一个关键源项。",
            "id": "4261031",
            "problem": "考虑一个占据空间域 $x \\in [0,L]$ 的一维多孔锂离子电池正极，其界面电流密度 $j(x)$、温度 $T(x)$ 和化学计量比 $\\theta(x)$ 随空间变化。该多孔微观结构的特征在于其比表面积 $a_s$（单位体积内的电化学反应面积）。可逆（熵）热生成密度源于温度和电化学势之间的热力学耦合，并依赖于测得的平衡电势随化学计量比变化的温度导数，记为 $\\partial U/\\partial T(\\theta)$。\n\n从由连续介质热力学第一定律、界面处可逆电化学热（熵热）的定义，以及通过体积平均比表面积对多孔电极的本构表示构成的基本原理出发，推导在整个电极厚度上热力学一致的可逆热生成密度场表达式。然后，对于给定的空间分布 $j(x)$、$T(x)$ 和 $\\theta(x)$ 以及测得的 $\\partial U/\\partial T(\\theta)$ 数据，数值计算该场。\n\n假设对于一个代表性的层状氧化物正极，测得的开路电位的温度导数具有以下科学上真实且自洽的数据（单位为 $\\mathrm{V}/\\mathrm{K}$，$\\theta$ 为无量纲化学计量比）：\n$$\n\\begin{aligned}\n\\theta_i = [0.05,\\,0.10,\\,0.20,\\,0.30,\\,0.40,\\,0.50,\\,0.60,\\,0.70,\\,0.80,\\,0.90,\\,0.95],\\\\\n\\left(\\frac{\\partial U}{\\partial T}\\right)_i = [7.0\\times 10^{-4},\\,6.5\\times 10^{-4},\\,4.0\\times 10^{-4},\\,2.0\\times 10^{-4},\\,5.0\\times 10^{-5},\\,-5.0\\times 10^{-5},\\,-1.5\\times 10^{-4},\\,-2.5\\times 10^{-4},\\,-3.5\\times 10^{-4},\\,-4.8\\times 10^{-4},\\,-5.2\\times 10^{-4}].\n\\end{aligned}\n$$\n使用保形插值策略来计算任意 $\\theta \\in [0,1]$ 对应的 $\\partial U/\\partial T(\\theta)$。如果 $\\theta$ 落于表格给出的范围 $[0.05,\\,0.95]$ 之外，则在插值前将其限制到最近的端点，以避免非物理的外推。\n\n使用 $N$ 个均匀分布的点（所有情况下均使用 $N=400$）将空间域离散化，计算在 $x \\in [0,L]$ 上的可逆热密度分布，然后报告两个标量指标：\n- 整个电极厚度上的体积平均可逆热密度，即体积源项的空间平均值，单位为 $\\mathrm{W}/\\mathrm{m}^3$。\n- 整个电极厚度上可逆热密度的最大值，单位为 $\\mathrm{W}/\\mathrm{m}^3$。\n\n使用梯形法则进行数值积分以计算平均值。符号约定为：放电时 $j(x)  0$，充电时 $j(x)  0$。\n\n为以下探究不同工况的参数值测试套件实现计算：\n\n测试用例1（空间变化场，中等梯度）：\n- 电极厚度：$L = 1.0\\times 10^{-4}\\,\\mathrm{m}$。\n- 比表面积：$a_s = 1.2\\times 10^{5}\\,\\mathrm{m}^2/\\mathrm{m}^3$。\n- 界面电流密度：$j(x) = 12.0\\,\\mathrm{A}/\\mathrm{m}^2 \\cdot \\left(1 + 0.2\\sin\\!\\left(\\frac{2\\pi x}{L}\\right)\\right)$。\n- 温度：$T(x) = 298.0\\,\\mathrm{K} + 10.0\\,\\mathrm{K}\\cdot \\frac{x}{L}$。\n- 化学计量比：$\\theta(x) = 0.45 + 0.25\\sin\\!\\left(\\frac{\\pi x}{L}\\right)$。\n\n测试用例2（均匀的 $j$ 和 $T$，化学计量比穿越符号变化区域）：\n- 电极厚度：$L = 7.0\\times 10^{-5}\\,\\mathrm{m}$。\n- 比表面积：$a_s = 9.0\\times 10^{4}\\,\\mathrm{m}^2/\\mathrm{m}^3$。\n- 界面电流密度：$j(x) = 5.0\\,\\mathrm{A}/\\mathrm{m}^2$。\n- 温度：$T(x) = 300.0\\,\\mathrm{K}$。\n- 化学计量比：$\\theta(x) = 0.10 + 0.80\\cdot \\frac{x}{L}$。\n\n测试用例3（负电流充电，弱 $T$ 梯度，恒定化学计量比）：\n- 电极厚度：$L = 1.2\\times 10^{-4}\\,\\mathrm{m}$。\n- 比表面积：$a_s = 1.0\\times 10^{5}\\,\\mathrm{m}^2/\\mathrm{m}^3$。\n- 界面电流密度：$j(x) = -8.0\\,\\mathrm{A}/\\mathrm{m}^2 \\cdot \\left(1 - 0.5\\cdot \\frac{x}{L}\\right)$。\n- 温度：$T(x) = 305.0\\,\\mathrm{K} - 5.0\\,\\mathrm{K}\\cdot \\frac{x}{L}$。\n- 化学计量比：$\\theta(x) = 0.60$。\n\n数值和报告要求：\n- 每个用例使用 $N=400$ 个空间点。\n- 以 $\\mathrm{W}/\\mathrm{m}^3$ 为单位表示每个用例的两个指标，并四舍五入到 $6$ 位小数。\n- 您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表，格式为 $[\\text{avg}_1,\\text{max}_1,\\text{avg}_2,\\text{max}_2,\\text{avg}_3,\\text{max}_3]$，其中 $\\text{avg}_k$ 和 $\\text{max}_k$ 分别是测试用例 $k$ 的平均和最大可逆热密度。\n\n任务是：\n- 从第一性原理出发，推导适用于多孔电极的可逆热密度表达式，并确定其对 $a_s$、$j(x)$、$T(x)$ 和 $\\partial U/\\partial T(\\theta(x))$ 的依赖关系。\n- 实现一个稳健的数值算法，该算法根据上述测试套件和测量数据，计算空间分布，然后以指定的单位和输出格式计算所需的指标。",
            "solution": "该问题要求从第一性原理出发，推导多孔电极中的体积可逆热生成密度，然后在一组给定条件下对其进行数值评估。推导过程必须将基础热力学与多孔介质的本构表示相结合。\n\n### 可逆热密度的理论推导\n\n推导始于应用于界面电化学反应的热力学第一定律。可逆热的生成（也称为熵热）是与电化学反应相关的熵变的直接结果。\n\n设固-电解质界面处的可逆热通量表示为 $q_{rev}$（单位为 $\\mathrm{W}/\\mathrm{m}^2$）。此通量是绝对温度 $T$ 与单位面积熵生成速率的乘积。而熵生成速率又是摩尔反应速率与反应熵变 $\\Delta S$ 的乘积。\n\n摩尔反应速率（单位为 $\\mathrm{mol}/\\mathrm{s}/\\mathrm{m}^2$）通过表达式 $j/|n|F$ 与界面电流密度 $j$（单位为 $\\mathrm{A}/\\mathrm{m}^2$）和法拉第常数 $F$（单位为 $\\mathrm{C}/\\mathrm{mol}$）相关。对于锂离子嵌入反应，反应的电荷数为 $n=1$。因此，摩尔速率为 $j/F$。\n\n因此，热通量为：\n$$\nq_{rev} = T \\cdot \\left( \\frac{j}{F} \\Delta S \\right)\n$$\n\n反应熵变 $\\Delta S$ 可以通过吉布斯-亥姆霍兹方程与平衡电势 $U$ 的温度依赖性联系起来。反应的吉布斯自由能变为 $\\Delta G = -nFU$。对于 $n=1$，$\\Delta G = -FU$。基本热力学关系 $(\\partial G/\\partial T)_P = -S$ 表明，对于一个反应，$\\Delta S = -(\\partial \\Delta G/\\partial T)_P$。\n\n代入 $\\Delta G$ 的表达式可得：\n$$\n\\Delta S = -\\frac{\\partial(-FU)}{\\partial T} = F \\frac{\\partial U}{\\partial T}\n$$\n量 $\\partial U/\\partial T$ 是开路电位的温度系数，它是荷电状态或化学计量比 $\\theta$ 的函数。\n\n将此 $\\Delta S$ 的表达式代回 $q_{rev}$ 的方程，得到界面可逆热通量：\n$$\nq_{rev} = T \\left( \\frac{j}{F} \\right) \\left( F \\frac{\\partial U}{\\partial T} \\right) = j(x) \\, T(x) \\, \\frac{\\partial U}{\\partial T}\\big(\\theta(x)\\big)\n$$\n在此，我们明确指出了场 $j$、$T$ 和 $\\theta$ 沿电极坐标 $x$ 的空间依赖性。\n\n该表达式适用于平面界面。为了获得多孔电极的体积热生成密度 $\\dot{q}_{rev}(x)$（单位为 $\\mathrm{W}/\\mathrm{m}^3$），我们必须考虑电化学反应在整个电极体积内的分布式特性。这通过将界面通量乘以比表面积 $a_s$（单位为 $\\mathrm{m}^2/\\mathrm{m}^3$）来实现，该比表面积代表单位总电极体积内的电化学活性面积。\n\n可逆热生成密度场的热力学一致的最终表达式为：\n$$\n\\dot{q}_{rev}(x) = a_s \\, j(x) \\, T(x) \\, \\frac{\\partial U}{\\partial T}\\big(\\theta(x)\\big)\n$$\n$\\dot{q}_{rev}(x)$ 的符号表示可逆效应是吸热（冷却，$\\dot{q}_{rev}  0$）还是放热（加热，$\\dot{q}_{rev} > 0$）。这取决于电流密度 $j(x)$（放电时 $j>0$，充电时 $j0$）和温度系数 $\\partial U/\\partial T(\\theta)$ 的符号。\n\n### 数值评估策略\n\n数值实现过程如下：\n\n1.  **离散化**：将一维空间域 $x \\in [0,L]$ 离散化为 $N=400$ 个均匀分布的点，$\\{x_k | k=0, \\dots, N-1\\}$。\n\n2.  **热力学数据插值**：使用提供的 $\\partial U/\\partial T(\\theta)$ 离散数据来构建一个连续函数。采用保形分段三次埃尔米特插值多项式 (PCHIP)。这种方法至关重要，因为它能避免其他高阶插值方案（如样条插值）可能引入的非物理振荡，尤其是在处理梯度或单调性有急剧变化的数据时。PCHIP 插值器保证如果原始数据是单调的，插值函数也将是单调的。在评估插值器之前，将化学计量比值 $\\theta(x_k)$ 限制在表格数据的范围 $[0.05, 0.95]$ 内，以防止不稳定和非物理的外推。\n\n3.  **分布计算**：对于每个测试用例，设置参数 $L$ 和 $a_s$，并在每个网格点 $x_k$ 处计算函数 $j(x)$、$T(x)$ 和 $\\theta(x)$ 的值。随后，使用 PCHIP 插值器为每个 $\\theta(x_k)$ 确定 $\\partial U/\\partial T$ 的值。然后使用推导出的公式计算每个网格点上的可逆热密度分布 $\\dot{q}_{rev}(x_k)$。\n\n4.  **指标计算**：\n    -   **最大热密度**：确定计算出的分布的最大值 $\\max(\\{\\dot{q}_{rev}(x_k)\\})$。\n    -   **平均热密度**：通过在电极厚度上对分布进行数值积分并除以 $L$ 来计算体积平均热密度 $\\langle \\dot{q}_{rev} \\rangle$。按规定使用梯形法则进行积分：\n        $$\n        \\langle \\dot{q}_{rev} \\rangle = \\frac{1}{L} \\int_0^L \\dot{q}_{rev}(x) \\, dx \\approx \\frac{1}{L} \\cdot \\sum_{k=1}^{N-1} \\frac{\\dot{q}_{rev}(x_k) + \\dot{q}_{rev}(x_{k-1})}{2} (x_k - x_{k-1})\n        $$\n        对于均匀网格，此方法提供了积分的二阶精确近似。计算使用 `numpy.trapz` 执行。\n\n这种严谨的推导和稳健的数值算法相结合，可以精确地评估所需的物理量。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.interpolate import PchipInterpolator\n\n# language: Python\n# version: 3.12\n# libraries:\n#   name: numpy\n#   version: 1.23.5\n#   name: scipy\n#   version: 1.11.4\n\ndef solve():\n    \"\"\"\n    Derives and computes the reversible heat generation density in a Li-ion battery cathode.\n    \"\"\"\n\n    # --- Given Thermodynamic Data ---\n    # Stoichiometry points (dimensionless)\n    theta_data = np.array([0.05, 0.10, 0.20, 0.30, 0.40, 0.50, 0.60, 0.70, 0.80, 0.90, 0.95])\n    # Temperature derivative of equilibrium potential (V/K)\n    dU_dT_data = np.array([7.0e-4, 6.5e-4, 4.0e-4, 2.0e-4, 5.0e-5, -5.0e-5, -1.5e-4, -2.5e-4, -3.5e-4, -4.8e-4, -5.2e-4])\n\n    # --- Numerical Setup ---\n    N = 400  # Number of spatial discretization points\n\n    # --- Interpolation Function Setup ---\n    # Create a shape-preserving piecewise cubic Hermite interpolator\n    dU_dT_interpolator = PchipInterpolator(theta_data, dU_dT_data)\n\n    def get_dU_dT(theta_values):\n        \"\"\"\n        Evaluates dU/dT for given theta values, clamping to the data range first.\n        \"\"\"\n        # Clamp theta to the range of the provided data [0.05, 0.95]\n        theta_clamped = np.clip(theta_values, theta_data[0], theta_data[-1])\n        return dU_dT_interpolator(theta_clamped)\n\n    # --- Test Case Definitions ---\n    test_cases = [\n        # Test Case 1\n        {\n            \"L\": 1.0e-4,  # m\n            \"a_s\": 1.2e5,  # m^2/m^3\n            \"j_func\": lambda x, L: 12.0 * (1 + 0.2 * np.sin(2 * np.pi * x / L)),  # A/m^2\n            \"T_func\": lambda x, L: 298.0 + 10.0 * (x / L),  # K\n            \"theta_func\": lambda x, L: 0.45 + 0.25 * np.sin(np.pi * x / L)\n        },\n        # Test Case 2\n        {\n            \"L\": 7.0e-5,  # m\n            \"a_s\": 9.0e4,  # m^2/m^3\n            \"j_func\": lambda x, L: 5.0,  # A/m^2\n            \"T_func\": lambda x, L: 300.0,  # K\n            \"theta_func\": lambda x, L: 0.10 + 0.80 * (x / L)\n        },\n        # Test Case 3\n        {\n            \"L\": 1.2e-4,  # m\n            \"a_s\": 1.0e5,  # m^2/m^3\n            \"j_func\": lambda x, L: -8.0 * (1 - 0.5 * (x / L)),  # A/m^2\n            \"T_func\": lambda x, L: 305.0 - 5.0 * (x / L),  # K\n            \"theta_func\": lambda x, L: 0.60\n        }\n    ]\n\n    results = []\n\n    # --- Main Calculation Loop ---\n    for case in test_cases:\n        L = case[\"L\"]\n        a_s = case[\"a_s\"]\n\n        # Create the spatial grid\n        x = np.linspace(0, L, N)\n\n        # Evaluate the spatially varying fields\n        j = np.full(N, case[\"j_func\"](x, L)) if callable(case[\"j_func\"]) else np.full(N, case[\"j_func\"])\n        T = np.full(N, case[\"T_func\"](x, L)) if callable(case[\"T_func\"]) else np.full(N, case[\"T_func\"])\n        theta = np.full(N, case[\"theta_func\"](x, L)) if callable(case[\"theta_func\"]) else np.full(N, case[\"theta_func\"])\n\n        # Evaluate the temperature coefficient using the interpolator\n        dU_dT = get_dU_dT(theta)\n\n        # Calculate the reversible heat density profile (W/m^3)\n        # Formula: q_rev = a_s * j * T * (dU/dT)\n        q_rev_profile = a_s * j * T * dU_dT\n\n        # Calculate the required metrics\n        # 1. Volume-averaged reversible heat density (spatial average)\n        avg_q_rev = np.trapz(q_rev_profile, x) / L\n        \n        # 2. Maximum value of the reversible heat density\n        max_q_rev = np.max(q_rev_profile)\n\n        # Append results, rounded to 6 decimal places\n        results.append(round(avg_q_rev, 6))\n        results.append(round(max_q_rev, 6))\n\n    # --- Final Output Formatting ---\n    # Convert all results to strings for a clean join\n    results_str = [f\"{res:.6f}\" for res in results]\n    print(f\"[{','.join(results_str)}]\")\n\nif __name__ == '__main__':\n    solve()\n```"
        }
    ]
}