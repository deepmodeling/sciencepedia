{
    "hands_on_practices": [
        {
            "introduction": "我们从一个电解学的基本概念开始实践。这个练习通过考察两个串联的电化学电池来探讨法拉第第二定律，展示了等量电荷如何根据物质的离子电荷和摩尔质量沉积出不同化学计量关系的质量。这个问题旨在巩固所有电化学计算背后的核心定量关系。",
            "id": "1561149",
            "problem": "两个电解池串联连接。恒定的直流电通过两个电解池一段时间。第一个电解池装有硝酸银（$AgNO_3$）水溶液。第二个电解池装有氯化锂和氯化钾的熔融低共熔盐混合物，其中溶解有氯化铕(III)（$EuCl_3$），从而存在$Eu^{3+}$离子。在电解过程中，金属银在第一个电解池的阴极沉积，金属铕在第二个电解池的阴极沉积。切断电流后，发现有 $5.000$ 克银被沉积。\n\n已知银的摩尔质量（$M_{Ag}$）为 $107.87 \\text{ g/mol}$，铕的摩尔质量（$M_{Eu}$）为 $151.96 \\text{ g/mol}$，计算在第二个电解池中沉积的铕的质量。结果以克（g）为单位表示，并四舍五入到四位有效数字。",
            "solution": "当两个电解池串联时，在相同的时间间隔内，通过两个电解池的总电荷量 $Q$ 是相同的。根据 Faraday 电解定律，沉积物质的量与 $Q$ 的关系为\n$$\nn = \\frac{Q}{zF},\n$$\n其中 $n$ 是沉积物质的物质的量（单位为摩尔），$z$ 是每个离子转移的电子数，$F$ 是法拉第常数。\n\n在第一个电解池中，银通过 $Ag^{+} + e^{-} \\rightarrow Ag$ 沉积，因此 $z_{Ag} = 1$。沉积的银的物质的量为\n$$\nn_{Ag} = \\frac{m_{Ag}}{M_{Ag}}.\n$$\n由于 $n_{Ag} = \\frac{Q}{z_{Ag}F}$，通过的电荷量为 $Q = n_{Ag} z_{Ag} F$。\n\n在第二个电解池中，铕通过 $Eu^{3+} + 3 e^{-} \\rightarrow Eu$ 沉积，因此 $z_{Eu} = 3$。因此，\n$$\nn_{Eu} = \\frac{Q}{z_{Eu} F} = \\frac{n_{Ag} z_{Ag} F}{z_{Eu} F} = \\frac{z_{Ag}}{z_{Eu}} n_{Ag} = \\frac{1}{3}\\, n_{Ag}.\n$$\n沉积的铕的质量则为\n$$\nm_{Eu} = n_{Eu} M_{Eu} = \\frac{1}{3}\\left(\\frac{m_{Ag}}{M_{Ag}}\\right) M_{Eu}.\n$$\n\n代入给定值 $m_{Ag} = 5.000\\ \\text{g}$，$M_{Ag} = 107.87\\ \\text{g/mol}$ 和 $M_{Eu} = 151.96\\ \\text{g/mol}$，\n$$\nm_{Eu} = \\frac{5.000 \\times 151.96}{3 \\times 107.87} \\ \\text{g} = \\frac{759.80}{323.61}\\ \\text{g} \\approx 2.347888\\ \\text{g}.\n$$\n四舍五入到四位有效数字，得到 $2.348\\ \\text{g}$。",
            "answer": "$$\\boxed{2.348}$$"
        },
        {
            "introduction": "现实世界中的电化学系统很少是理想的。下一个练习将从数值计算转向符号分析，这是计算建模中的一项关键技能。你将推导当寄生副反应消耗部分电荷时，确定离子电荷数 $z$ 的分析误差，从而对电流效率如何影响实验解读有一个更深刻的定量理解。",
            "id": "3913637",
            "problem": "在电池制造仿真中，一个自动电沉积模块用于将过渡金属从水溶液电镀到集流体上。电化学还原反应的化学计量式为 $M^{z+} + z e^{-} \\rightarrow M(\\text{s})$，其中 $z$ 是电荷数。在验证仿真流程期间，进行了一项诊断性实验，其中通过了已知的总电荷量 $Q$，并测量了沉积质量 $m$。然而，一项独立分析表明，总电荷量 $Q$ 的一个恒定比例 $\\alpha$（其中 $0  \\alpha  1$）被一个不产生任何金属 $M$ 沉积质量的副反应所消耗。目标是量化这种副反应消耗在根据 $m$ 对 $Q$ 的测量斜率朴素地应用电解第二定律推断 $z$ 时引入的偏差，并描述 $m$ 对 $Q$ 的关系如何偏离理想情况。\n\n仅从电荷守恒、法拉第常数 $F = N_{A} e$ 的定义（其中 $N_{A}$ 是阿伏伽德罗常数，$e$ 是元电荷）以及还原反应所蕴含的化学计量中电子与物种的耦合关系出发，推导：\n\n- 当研究人员假设理想行为（即忽略 $\\alpha$）并根据 $m$ 对 $Q$ 的测量斜率计算 $z_{\\text{inf}}$ 时，推断电荷数的绝对误差 $\\Delta z = z_{\\text{inf}} - z$。\n- 测量的质量-电荷关系 $m(Q)$ 的闭式表达式，该表达式显示了其与理想预测的偏差。\n\n假设 $M$ 是金属的摩尔质量，单位为 $\\text{kg}\\,\\text{mol}^{-1}$；$F$ 的单位为 $\\text{C}\\,\\text{mol}^{-1}$；$Q$ 的单位为 $\\text{C}$，因此 $m$ 的单位为 $\\text{kg}$。以精确的符号表达式形式提供两个结果。在你的最终答案中，将这两个表达式作为单行矩阵的第一项和第二项，用 $M$、$z$、$F$、$Q$ 和 $\\alpha$ 表示。无需四舍五入。不要代入数值。",
            "solution": "推导从规定的基本原理开始。通过系统的总电荷量为 $Q$。该电荷量的一部分（比例为 $\\alpha$）被一个对金属 $M$ 的沉积没有贡献的副反应所消耗。\n\n副反应消耗的电荷量为 $Q_{\\text{parasitic}} = \\alpha Q$。\n根据电荷守恒原理，总电荷量 $Q$ 是用于沉积的电荷量 $Q_{\\text{deposit}}$ 和因副反应损失的电荷量 $Q_{\\text{parasitic}}$ 之和。\n$$Q = Q_{\\text{deposit}} + Q_{\\text{parasitic}}$$\n因此，有效促成金属 $M$ 沉积的电荷量是：\n$$Q_{\\text{deposit}} = Q - Q_{\\text{parasitic}} = Q - \\alpha Q = (1 - \\alpha) Q$$\n\n根据法拉第定律，总电荷量等于电子的摩尔数 $n_e$ 乘以法拉第常数 $F$。负责沉积的电子摩尔数为：\n$$n_e = \\frac{Q_{\\text{deposit}}}{F} = \\frac{(1 - \\alpha) Q}{F}$$\n\n电化学还原的化学计量式为 $M^{z+} + z e^{-} \\rightarrow M(\\text{s})$。这表明需要 $z$ 摩尔的电子将一摩尔的 $M^{z+}$ 离子还原成一摩尔的固态金属 $M$。因此，沉积金属的摩尔数 $n_M$ 与电子的摩尔数的关系如下：\n$$n_M = \\frac{n_e}{z}$$\n\n代入 $n_e$ 的表达式：\n$$n_M = \\frac{1}{z} \\left( \\frac{(1 - \\alpha) Q}{F} \\right) = \\frac{(1 - \\alpha) Q}{z F}$$\n\n沉积金属的质量 $m$ 是金属的摩尔数 $n_M$ 与其摩尔质量 $M$ 的乘积。\n$$m = n_M \\cdot M$$\n代入 $n_M$ 的表达式可得出测量的质量-电荷关系 $m(Q)$：\n$$m(Q) = \\left( \\frac{(1 - \\alpha) Q}{z F} \\right) M = \\frac{M(1 - \\alpha)}{z F} Q$$\n这是问题要求的第二个表达式。它是 $m$ 和 $Q$ 之间的线性关系，其斜率与理想情况相比减少了因子 $(1 - \\alpha)$。\n\n接下来，我们推导推断电荷数的绝对误差 $\\Delta z = z_{\\text{inf}} - z$。研究人员测量了 $m$ 和 $Q$ 之间的经验关系，但朴素地假设这是一个理想过程，其中所有电荷都对沉积有贡献（即假设 $\\alpha = 0$）。\n通过对我们推导出的 $m(Q)$ 表达式关于 $Q$ 求导，可以得到 $m$ 对 $Q$ 图的测量斜率：\n$$\\text{Slope}_{\\text{measured}} = \\frac{d m}{d Q} = \\frac{M(1 - \\alpha)}{z F}$$\n\n研究人员使用这个实验确定的斜率，但使用理想模型来解释它。在理想模型中，质量和电荷之间的关系应为：\n$$m_{\\text{ideal}} = \\frac{M}{z_{\\text{inf}} F} Q$$\n此处，$z_{\\text{inf}}$ 是研究人员在理想假设下从数据中推断出的电荷数。这个理想模型的理论斜率是：\n$$\\text{Slope}_{\\text{ideal}} = \\frac{M}{z_{\\text{inf}} F}$$\n\n研究人员通过令测量斜率等于理想理论斜率来确定 $z_{\\text{inf}}$：\n$$\\text{Slope}_{\\text{measured}} = \\text{Slope}_{\\text{ideal}}$$\n$$\\frac{M(1 - \\alpha)}{z F} = \\frac{M}{z_{\\text{inf}} F}$$\n\n我们可以解这个方程求出 $z_{\\text{inf}}$。等式两边的项 $M$ 和 $F$ 可以消掉：\n$$\\frac{1 - \\alpha}{z} = \\frac{1}{z_{\\text{inf}}}$$\n$$z_{\\text{inf}} = \\frac{z}{1 - \\alpha}$$\n\n问题要求的是绝对误差 $\\Delta z = z_{\\text{inf}} - z$。代入 $z_{\\text{inf}}$ 的表达式：\n$$\\Delta z = \\frac{z}{1 - \\alpha} - z$$\n为简化起见，我们进行通分：\n$$\\Delta z = z \\left( \\frac{1}{1 - \\alpha} - 1 \\right) = z \\left( \\frac{1 - (1 - \\alpha)}{1 - \\alpha} \\right)$$\n$$\\Delta z = z \\left( \\frac{1 - 1 + \\alpha}{1 - \\alpha} \\right) = z \\left( \\frac{\\alpha}{1 - \\alpha} \\right)$$\n这就得出了推断电荷数绝对误差的最终表达式：\n$$\\Delta z = \\frac{z \\alpha}{1 - \\alpha}$$\n这是要求的第一个表达式。由于 $0  \\alpha  1$，因此 $\\Delta z > 0$，这意味着当朴素地分析时，副反应总是导致对电荷数的高估。\n\n要求的两个表达式是：\n1.  电荷数的绝对误差：$\\Delta z = \\frac{z \\alpha}{1 - \\alpha}$\n2.  质量-电荷关系：$m(Q) = \\frac{M(1 - \\alpha)Q}{z F}$\n按要求，这些结果以单行矩阵形式报告。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{z \\alpha}{1 - \\alpha}  \\frac{M(1 - \\alpha)Q}{z F}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "我们最后的实践将理论与实验数据分析的现实相结合，这是计算电化学的基石。这个问题要求你设计一个算法来处理带噪声的计时电流数据，计算总电荷，并将不确定性严谨地传递到最终的沉积质量。这项任务模拟了从原始测量到获得具有统计可靠性的最终结果的完整工作流程。",
            "id": "4245685",
            "problem": "给定在恒电位电解过程中收集的，作为时间函数的、离散的、等距或非等距的、带噪声的计时电流测量值。计算目标是设计并实现一个算法，该算法用于估计通过的总电荷 $Q$ 及其不确定度范围，然后通过法拉第电解定律将此不确定度传播至沉积质量 $m$。您的算法必须从基本定义和假设出发，不得依赖于预先推导的简化公式。\n\n使用的基本原理：\n- 电荷是电流对时间的积分，因此 $Q$ 是 $I(t)$ 在测量窗口内的时间积分。\n- 法拉第电解定律指出，发生转化的物质的量与总电荷成正比，比例关系由化学计量和法拉第常数决定。\n- 可使用基于均值的一阶泰勒展开（线性化）的独立随机变量标准不确定度传播方法。\n\n假设：\n- 仪器报告一个基线电流偏移参数 $b$（单位为安培），其均值为 $b_{\\mu}$，标准不确定度为 $b_{\\sigma}$。从每个数据点减去该偏移以形成基线校正后的电流。\n- 每个时间点的测量电流具有独立的、零均值的测量误差，其已知标准不确定度为 $s_i$（单位为安培）。\n- 基线偏移 $b$ 与所有单点测量误差无关，但对所有点都是共同的，这意味着它会在基线校正后的电流样本之间引入相关性。\n- 法拉第效率 $\\phi$ 是一个独立的标量，其均值为 $\\phi_{\\mu}$，标准不确定度为 $\\phi_{\\sigma}$。\n- 时间戳 $t_i$ 精确已知且严格递增，数值积分必须遵循采样。\n\n每个测试用例所需的算法输出：\n- 计算平均总电荷 $Q$，单位为库仑。\n- 在正态近似下，使用覆盖因子 $k = 1.96$，计算 $Q$ 的双侧覆盖区间（覆盖概率为 $0.95$），并报告其下界和上界。\n- 使用法拉第定律，根据化学计量电子数 $z$、摩尔质量 $M$（单位为克/摩尔）和法拉第常数 $F$（单位为库仑/摩尔），计算平均沉积质量 $m$，单位为克。\n- 使用一阶线性化方法，将电流测量和基线的不确定度传播到 $Q$，并将 $Q$ 和 $\\phi$ 的不确定度传播到 $m$。使用相同的覆盖因子 $k = 1.96$，报告 $m$ 的双侧 $0.95$ 覆盖区间。\n- 将 $Q$ 以库仑表示，将 $m$ 以克表示，每个值均四舍五入至六位有效数字。\n\n数值积分指南：\n- 使用一种适用于非均匀采样、且基于积分定义的、一致的数值积分方案。一个必须支持的简单选择是对基线校正后的电流应用梯形法则。$Q$ 的不确定度必须根据所选积分方案的权重推导出来，同时要考虑到独立的单点测量不确定度和共同的基线不确定度。\n\n不确定度传播指南：\n- 将单点电流测量误差视为独立的，其标准差为 $s_i$。\n- 将基线偏移 $b$ 视为与单点误差无关但对所有点共同，从而在基线校正后的电流样本之间引入相关性。\n- 在向 $m$ 传播时，将 $\\phi$ 视为与 $Q$ 无关。\n- 对作为 $Q$ 和 $\\phi$ 函数的 $m$ 使用一阶线性化。\n\n物理和数值单位：\n- 电流使用安培，时间使用秒，电荷使用库仑，摩尔质量使用克/摩尔，法拉第常数使用库仑/摩尔，质量使用克。所有最终报告的值必须使用指定的单位。\n\n最终输出格式：\n- 您的程序应生成单行输出，其中包含一个逗号分隔的列表，用方括号括起来，其中每个测试用例的结果本身就是一个包含六个浮点数的列表，顺序为 $[Q_{\\text{mean}},Q_{\\text{lower}},Q_{\\text{upper}},m_{\\text{mean}},m_{\\text{lower}},m_{\\text{upper}}]$，所有数值条目都四舍五入到六位有效数字。例如：$[[q_1^{\\mu},q_1^{-},q_1^{+},m_1^{\\mu},m_1^{-},m_1^{+}],[q_2^{\\mu},q_2^{-},q_2^{+},m_2^{\\mu},m_2^{-},m_2^{+}],\\dots]$。\n\n测试套件：\n- 测试用例 1（一般情况，非均匀采样，中等噪声和基线）：\n  - $t = [0.0,1.0,2.0,5.0,10.0]$ (秒)\n  - $I = [0.80,0.50,0.35,0.20,0.12]$ (安培)\n  - $s = [0.01,0.01,0.015,0.01,0.01]$ (安培)\n  - $b_{\\mu} = 0.02$ (安培), $b_{\\sigma} = 0.005$ (安培)\n  - $\\phi_{\\mu} = 0.95$, $\\phi_{\\sigma} = 0.02$\n  - $M = 63.546$ (克/摩尔), $z = 2$, $F = 96485$ (库仑/摩尔)\n\n- 测试用例 2（记录时间短，基线不确定度较高，效率较低）：\n  - $t = [0.0,0.2,0.5,1.0]$ (秒)\n  - $I = [0.05,0.07,0.06,0.04]$ (安培)\n  - $s = [0.005,0.005,0.006,0.005]$ (安培)\n  - $b_{\\mu} = 0.01$ (安培), $b_{\\sigma} = 0.01$ (安培)\n  - $\\phi_{\\mu} = 0.80$, $\\phi_{\\sigma} = 0.10$\n  - $M = 58.6934$ (克/摩尔), $z = 2$, $F = 96485$ (库仑/摩尔)\n\n- 测试用例 3（电流符号变化，效率不确定度可忽略，单电子转移）：\n  - $t = [0.0,0.5,1.0,2.0,3.0]$ (秒)\n  - $I = [0.20,-0.10,0.05,0.00,0.03]$ (安培)\n  - $s = [0.01,0.02,0.015,0.01,0.01]$ (安培)\n  - $b_{\\mu} = 0.00$ (安培), $b_{\\sigma} = 0.005$ (安培)\n  - $\\phi_{\\mu} = 1.00$, $\\phi_{\\sigma} = 0.00$\n  - $M = 107.8682$ (克/摩尔), $z = 1$, $F = 96485$ (库仑/摩尔)\n\n您的程序必须为这些测试用例实现算法，并以指定格式打印单行聚合输出。所有数值结果必须四舍五入到六位有效数字，所有物理输出必须以其指定单位表示。",
            "solution": "所述问题是有效的。它在科学上基于电化学和统计误差分析的原理，在数学上是适定的，具有明确的目标和所有必要的数据，并且没有歧义或矛盾。我现在将进行完整的解答。\n\n该问题要求设计一个算法，根据一组离散的计时电流数据计算总电荷 $Q$ 和沉积质量 $m$，并包含所有指定不确定度的传播。本解答将按要求从基本原理出发，分步进行阐述。\n\n设离散时间点为 $t_i$，对应的测量电流为 $I_i$，其中 $i = 0, 1, \\dots, N-1$。每次电流测量 $I_i$ 都有一个相关的、独立的、零均值的测量误差，其已知标准不确定度为 $s_i$。一个共同的基线偏移电流 $b$，其均值为 $b_{\\mu}$，标准不确定度为 $b_{\\sigma}$，从所有测量值中减去。此偏移 $b$ 与单点测量误差无关。\n\n在时间 $t_i$ 的基线校正后电流为 $J_i = I_i - b$。由于我们只有一组测量值 $\\{I_i\\}$，这些值是我们对每个时间点真实平均电流的最佳估计。因此，基线校正后电流的最佳估计值为 $J_{\\mu,i} = I_i - b_{\\mu}$。\n\n**第一部分：平均总电荷 $Q_{\\mu}$**\n\n总电荷 $Q$ 是电流对时间的积分。对于离散数据点，该积分必须进行数值近似。问题指定使用梯形法则，该方法适用于可能非均匀间隔的时间点。平均总电荷 $Q_{\\mu}$ 是平均基线校正后电流 $J_{\\mu}(t)$ 的积分：\n$$ Q_{\\mu} = \\int_{t_0}^{t_{N-1}} J_{\\mu}(t) dt \\approx \\sum_{i=0}^{N-2} \\frac{J_{\\mu,i} + J_{\\mu,i+1}}{2} (t_{i+1} - t_i) $$\n其中 $J_{\\mu,i} = I_i - b_{\\mu}$。这可以使用标准的数值库高效计算。\n\n**第二部分：总电荷的不确定度 $\\sigma_Q$**\n\n为了确定 $Q$ 的不确定度，我们必须传播来自输入随机变量的不确定度。不确定度的来源包括由其标准不确定度 $s_i$ 表示的单个电流测量值，以及由其标准不确定度 $b_{\\sigma}$ 表示的基线偏移。所有这些误差源都假定是独立的。\n\n总电荷 $Q$ 是随机变量 $\\{I_i\\}$ 和 $b$ 的函数。对基线校正后的电流 $J_i = I_i - b$ 使用梯形法则：\n$$ Q = \\sum_{i=0}^{N-2} \\frac{(I_i - b) + (I_{i+1} - b)}{2} (t_{i+1} - t_i) $$\n这个表达式可以重排，以分离来自 $\\{I_i\\}$ 和 $b$ 的贡献：\n$$ Q = \\sum_{i=0}^{N-2} \\frac{I_i + I_{i+1}}{2} (t_{i+1} - t_i) - b \\sum_{i=0}^{N-2} (t_{i+1} - t_i) $$\n$$ Q = \\left( \\sum_{i=0}^{N-1} w_i I_i \\right) - b(t_{N-1} - t_0) $$\n其中 $w_i$ 是来自梯形法则的每个电流点 $I_i$ 的权重：\n$$ w_i = \\begin{cases} \n\\frac{1}{2}(t_1 - t_0)  i=0 \\\\ \n\\frac{1}{2}((t_{i} - t_{i-1}) + (t_{i+1} - t_i))  0  i  N-1 \\\\ \n\\frac{1}{2}(t_{N-1} - t_{N-2})  i=N-1 \n\\end{cases} $$\n总电荷 $Q$ 是独立随机变量 $I_0, \\dots, I_{N-1}, b$ 的线性组合。这种组合的方差 $\\text{Var}(Q)$ 由关于每个变量的偏导数平方乘以该变量的方差之和给出。\n$$ \\sigma_Q^2 = \\text{Var}(Q) = \\sum_{i=0}^{N-1} \\left(\\frac{\\partial Q}{\\partial I_i}\\right)^2 \\text{Var}(I_i) + \\left(\\frac{\\partial Q}{\\partial b}\\right)^2 \\text{Var}(b) $$\n偏导数为：\n$$ \\frac{\\partial Q}{\\partial I_i} = w_i $$\n$$ \\frac{\\partial Q}{\\partial b} = -(t_{N-1} - t_0) $$\n方差由 $\\text{Var}(I_i) = s_i^2$ 和 $\\text{Var}(b) = b_{\\sigma}^2$ 给出。代入这些值可得到总电荷方差的公式：\n$$ \\sigma_Q^2 = \\sum_{i=0}^{N-1} w_i^2 s_i^2 + (t_{N-1} - t_0)^2 b_{\\sigma}^2 $$\n标准不确定度 $\\sigma_Q$ 是该方差的平方根。第一项说明了独立的单点测量误差，而第二项则说明了由共同基线偏移引入的系统误差。\n\n**第三部分：$Q$ 的覆盖区间**\n\n假设 $Q$ 的分布可以用正态分布来近似（根据中心极限定理，因为 $Q$ 是许多随机变量的和），可以构建一个概率为 $p$ 的双侧覆盖区间。对于指定的 $p=0.95$，覆盖因子为 $k=1.96$。区间的下界和上界是：\n$$ Q_{\\text{lower}} = Q_{\\mu} - k \\sigma_Q $$\n$$ Q_{\\text{upper}} = Q_{\\mu} + k \\sigma_Q $$\n\n**第四部分：平均沉积质量 $m_{\\mu}$**\n\n法拉第电解定律将沉积质量 $m$ 与通过的总电荷联系起来。用于反应的有效电荷，即法拉第电荷，是 $Q_{\\text{Faraday}} = Q \\cdot \\phi$，其中 $\\phi$ 是法拉第效率。质量由下式给出：\n$$ m = \\frac{Q_{\\text{Faraday}} M}{z F} = \\frac{Q \\phi M}{z F} $$\n其中 $M$ 是物质的摩尔质量，$z$ 是每摩尔物质转移的电子摩尔数（化学计量数），$F$ 是法拉第常数。平均质量 $m_{\\mu}$ 是通过代入 $Q$ 和 $\\phi$ 的平均值得到的，因为它们是独立变量：\n$$ m_{\\mu} \\approx m(Q_{\\mu}, \\phi_{\\mu}) = \\frac{Q_{\\mu} \\phi_{\\mu} M}{z F} $$\n\n**第五部分：沉积质量的不确定度 $\\sigma_m$**\n\n质量的不确定度 $\\sigma_m$ 是通过传播来自 $Q$ 和 $\\phi$ 的不确定度来确定的。问题指出这些可以被视为独立变量。使用一阶线性化， $m$ 的方差为：\n$$ \\sigma_m^2 = \\left(\\frac{\\partial m}{\\partial Q}\\right)^2 \\sigma_Q^2 + \\left(\\frac{\\partial m}{\\partial \\phi}\\right)^2 \\sigma_{\\phi}^2 $$\n在平均值处计算的偏导数为：\n$$ \\frac{\\partial m}{\\partial Q} \\Bigg|_{Q_{\\mu}, \\phi_{\\mu}} = \\frac{\\phi_{\\mu} M}{z F} $$\n$$ \\frac{\\partial m}{\\partial \\phi} \\Bigg|_{Q_{\\mu}, \\phi_{\\mu}} = \\frac{Q_{\\mu} M}{z F} $$\n代入这些值可得到质量的方差：\n$$ \\sigma_m^2 = \\left(\\frac{\\phi_{\\mu} M}{z F}\\right)^2 \\sigma_Q^2 + \\left(\\frac{Q_{\\mu} M}{z F}\\right)^2 \\sigma_{\\phi}^2 $$\n$$ \\sigma_m = \\frac{M}{zF} \\sqrt{(\\phi_{\\mu} \\sigma_Q)^2 + (Q_{\\mu} \\sigma_{\\phi})^2} $$\n标准不确定度 $\\sigma_m$ 是该方差的平方根。\n\n**第六部分：$m$ 的覆盖区间**\n\n与电荷类似，使用覆盖因子 $k=1.96$ 构建质量 $m$ 的 $0.95$ 覆盖区间：\n$$ m_{\\text{lower}} = m_{\\mu} - k \\sigma_m $$\n$$ m_{\\text{upper}} = m_{\\mu} + k \\sigma_m $$\n\n**第七部分：输出格式**\n\n所有最终数值结果（$Q_{\\mu}, Q_{\\text{lower}}, Q_{\\text{upper}}, m_{\\mu}, m_{\\text{lower}}, m_{\\text{upper}}$）必须格式化为六位有效数字，这需要小心处理数值到字符串的转换以保留末尾的零。然后将此算法过程应用于每个测试用例。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Main function to process test cases and print results.\n    \"\"\"\n    test_cases = [\n        {\n            \"t\": [0.0, 1.0, 2.0, 5.0, 10.0],\n            \"I\": [0.80, 0.50, 0.35, 0.20, 0.12],\n            \"s\": [0.01, 0.01, 0.015, 0.01, 0.01],\n            \"b_mu\": 0.02, \"b_sigma\": 0.005,\n            \"phi_mu\": 0.95, \"phi_sigma\": 0.02,\n            \"M\": 63.546, \"z\": 2, \"F\": 96485,\n        },\n        {\n            \"t\": [0.0, 0.2, 0.5, 1.0],\n            \"I\": [0.05, 0.07, 0.06, 0.04],\n            \"s\": [0.005, 0.005, 0.006, 0.005],\n            \"b_mu\": 0.01, \"b_sigma\": 0.01,\n            \"phi_mu\": 0.80, \"phi_sigma\": 0.10,\n            \"M\": 58.6934, \"z\": 2, \"F\": 96485,\n        },\n        {\n            \"t\": [0.0, 0.5, 1.0, 2.0, 3.0],\n            \"I\": [0.20, -0.10, 0.05, 0.00, 0.03],\n            \"s\": [0.01, 0.02, 0.015, 0.01, 0.01],\n            \"b_mu\": 0.00, \"b_sigma\": 0.005,\n            \"phi_mu\": 1.00, \"phi_sigma\": 0.00,\n            \"M\": 107.8682, \"z\": 1, \"F\": 96485,\n        }\n    ]\n\n    results = []\n    for case in test_cases:\n        # Pass parameters as numpy arrays for vectorized operations\n        t = np.array(case[\"t\"], dtype=float)\n        I = np.array(case[\"I\"], dtype=float)\n        s = np.array(case[\"s\"], dtype=float)\n        \n        # Calculate the six required values\n        q_mean, q_lower, q_upper, m_mean, m_lower, m_upper = analyze_electrolysis(\n            t, I, s, case[\"b_mu\"], case[\"b_sigma\"],\n            case[\"phi_mu\"], case[\"phi_sigma\"], case[\"M\"], case[\"z\"], case[\"F\"]\n        )\n\n        # Format results to 6 significant figures as strings\n        formatted_values = [\n            format_to_sf(q_mean, 6), format_to_sf(q_lower, 6), format_to_sf(q_upper, 6),\n            format_to_sf(m_mean, 6), format_to_sf(m_lower, 6), format_to_sf(m_upper, 6)\n        ]\n        \n        # Create the string representation for the current test case\n        case_string = f\"[{','.join(formatted_values)}]\"\n        results.append(case_string)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(results)}]\")\n\ndef analyze_electrolysis(t, I, s, b_mu, b_sigma, phi_mu, phi_sigma, M, z, F):\n    \"\"\"\n    Computes charge, mass, and their uncertainties from chronoamperometric data.\n    \"\"\"\n    k_coverage = 1.96\n\n    # Part 1: Mean Total Charge (Q_mu)\n    J_mu = I - b_mu\n    Q_mu = np.trapz(J_mu, t)\n\n    # Part 2: Uncertainty of Total Charge (sigma_Q)\n    # Calculate trapezoidal rule weights for each current point\n    N = len(t)\n    w = np.zeros(N)\n    delta_t = np.diff(t)\n    w[0] = delta_t[0] / 2.0\n    w[1:-1] = (delta_t[:-1] + delta_t[1:]) / 2.0\n    w[-1] = delta_t[-1] / 2.0\n    \n    # Variance from independent per-point current errors\n    var_Q_from_I = np.sum((w**2) * (s**2))\n    \n    # Variance from the common baseline error\n    total_duration = t[-1] - t[0]\n    var_Q_from_b = (total_duration**2) * (b_sigma**2)\n    \n    # Total variance and standard uncertainty of Q\n    var_Q = var_Q_from_I + var_Q_from_b\n    sigma_Q = np.sqrt(var_Q)\n\n    # Part 3: Coverage Interval for Q\n    Q_lower = Q_mu - k_coverage * sigma_Q\n    Q_upper = Q_mu + k_coverage * sigma_Q\n\n    # Part 4: Mean Deposited Mass (m_mu)\n    m_mu = (Q_mu * phi_mu * M) / (z * F)\n\n    # Part 5: Uncertainty of Deposited Mass (sigma_m)\n    # Propagate uncertainties from Q and phi to m\n    var_m_from_Q = ((phi_mu * M) / (z * F))**2 * var_Q\n    var_m_from_phi = ((Q_mu * M) / (z * F))**2 * (phi_sigma**2)\n    \n    var_m = var_m_from_Q + var_m_from_phi\n    sigma_m = np.sqrt(var_m)\n\n    # Part 6: Coverage Interval for m\n    m_lower = m_mu - k_coverage * sigma_m\n    m_upper = m_mu + k_coverage * sigma_m\n\n    return Q_mu, Q_lower, Q_upper, m_mu, m_lower, m_upper\n\ndef format_to_sf(value, sf):\n    \"\"\"\n    Formats a number to a string with a specified number of significant figures.\n    \"\"\"\n    if value == 0:\n        # Represent 0 with sf-1 decimal places for consistency.\n        return \"0.\" + \"0\" * (sf - 1)\n        \n    order_of_magnitude = np.floor(np.log10(abs(value)))\n    \n    # Required decimal places for fixed-point notation\n    decimals = sf - 1 - int(order_of_magnitude)\n\n    if -3 = decimals = 6: # Heuristic for choosing between fixed and scientific\n        return f\"{value:.{decimals}f}\"\n    else:\n        # Use scientific notation for very large or small numbers\n        return f\"{value:.{sf-1}e}\"\n\nsolve()\n```"
        }
    ]
}