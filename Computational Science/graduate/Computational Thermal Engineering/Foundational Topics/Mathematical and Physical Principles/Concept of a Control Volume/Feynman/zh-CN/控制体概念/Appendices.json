{
    "hands_on_practices": [
        {
            "introduction": "本练习旨在训练一项核心技能：计算流出控制体的净通量。虽然直接在控制体所有表面上进行积分是一种可行的方法，但应用高斯散度定理往往更为简洁高效，它将表面通量与控制体内部流场的行为直接联系起来。通过这个练习，你将加深对控制体分析中积分形式守恒律及其数学本质的理解 。",
            "id": "3942032",
            "problem": "一个固定的矩形控制体与笛卡尔坐标轴对齐，占据区域 $0 \\le x \\le L_x$，$0 \\le y \\le L_y$，$0 \\le z \\le L_z$，其中 $L_x = 0.4\\,\\mathrm{m}$，$L_y = 0.3\\,\\mathrm{m}$，$L_z = 0.2\\,\\mathrm{m}$。在某一瞬时 $t_0$，流动通常是可压缩和非定常的，但控制体内和控制表面上的瞬时场是已知的，由速度场 $\\mathbf{u}(x,y,z)$ 和密度场 $\\rho(x,y,z)$ 给出：\n$$\n\\mathbf{u}(x,y,z) = \\big(1.0 + 0.5\\,x\\,,\\; 0.4\\,y\\,,\\; 0.3 + 0.2\\,z\\big)\\;\\mathrm{m}\\,\\mathrm{s}^{-1},\n$$\n$$\n\\rho(x,y,z) = \\big(1.2 + 0.2\\,x - 0.1\\,y + 0.15\\,z\\big)\\;\\mathrm{kg}\\,\\mathrm{m}^{-3}.\n$$\n将控制体视为空间中不变形且静止的。仅使用质量守恒的控制体形式和标准向量微积分，计算在此瞬时离开控制表面的净向外质量流率。以 $\\mathrm{kg}\\,\\mathrm{s}^{-1}$ 为单位表示你的答案，并将结果四舍五入到四位有效数字。",
            "solution": "所述问题需要进行验证。\n\n**第1步：提取已知条件**\n- 控制体 (CV)：一个由 $0 \\le x \\le L_x$, $0 \\le y \\le L_y$, $0 \\le z \\le L_z$ 定义的固定矩形区域。\n- 尺寸：$L_x = 0.4\\,\\mathrm{m}$，$L_y = 0.3\\,\\mathrm{m}$，$L_z = 0.2\\,\\mathrm{m}$。\n- 在时刻 $t_0$ 的瞬时速度场：$\\mathbf{u}(x,y,z) = \\big(1.0 + 0.5\\,x\\,,\\; 0.4\\,y\\,,\\; 0.3 + 0.2\\,z\\big)\\;\\mathrm{m}\\,\\mathrm{s}^{-1}$。\n- 在时刻 $t_0$ 的瞬时密度场：$\\rho(x,y,z) = \\big(1.2 + 0.2\\,x - 0.1\\,y + 0.15\\,z\\big)\\;\\mathrm{kg}\\,\\mathrm{m}^{-3}$。\n- CV 是不变形且静止的。\n- 任务是计算在此瞬时从控制表面流出的净向外质量流率。\n- 要求的方法是使用质量守恒的控制体形式和标准向量微积分。\n\n**第2步：使用提取的已知条件进行验证**\n该问题具有科学依据，植根于流体动力学中的质量守恒基本原理。这是一个提法恰当的问题，提供了计算净质量流率唯一值所需的所有必要信息（几何形状、速度场、密度场）。语言客观而精确。\n\n一个关键的检查是密度场的物理合理性。在控制体内的任何地方，密度都必须为正。密度 $\\rho(x,y,z)$ 是坐标的线性函数。在指定的矩形域内，其最小值将出现在某个角点上。为了最小化 $\\rho = 1.2 + 0.2x - 0.1y + 0.15z$，我们必须为具有正系数的坐标（$x$ 和 $z$）选择最小值，并为具有负系数的坐标（$y$）选择最大值。\n定义域为 $x \\in [0, 0.4]$，$y \\in [0, 0.3]$ 和 $z \\in [0, 0.2]$。\n最小密度出现在 $(x, y, z) = (0, 0.3, 0)$。\n$$\n\\rho_{min} = 1.2 + 0.2(0) - 0.1(0.3) + 0.15(0) = 1.2 - 0.03 = 1.17\\,\\mathrm{kg}\\,\\mathrm{m}^{-3}\n$$\n由于 $\\rho_{min} > 0$，在整个控制体内密度均为正，因此该场在物理上是有效的。\n该问题是完整的、一致的且可行的。\n\n**第3步：结论与行动**\n问题有效。将提供解答。\n\n穿过控制表面 (CS) 的净向外质量流率（记为 $\\dot{m}_{out}$）由质量通量矢量 $\\rho\\mathbf{u}$ 的法向分量在整个控制表面上的积分给出。指向外部的曲面单位法向量为 $\\mathbf{n}$。\n$$\n\\dot{m}_{out} = \\oint_{CS} \\rho (\\mathbf{u} \\cdot \\mathbf{n}) \\, dA\n$$\n问题陈述鼓励使用标准向量微积分。散度定理（也称为 Gauss 定理）提供了矢量场在闭合曲面上的面积分与该场在所包围的体积 (CV) 内的散度的体积分之间的直接关系。将散度定理应用于质量通量矢量 $\\rho\\mathbf{u}$：\n$$\n\\dot{m}_{out} = \\oint_{CS} (\\rho\\mathbf{u}) \\cdot \\mathbf{n} \\, dA = \\int_{CV} \\nabla \\cdot (\\rho\\mathbf{u}) \\, dV\n$$\n这种方法避免了在控制体的六个面上分别进行积分的繁琐过程。下一步是计算质量通量的散度 $\\nabla \\cdot (\\rho\\mathbf{u})$。我们使用标量场 ($\\rho$) 乘以矢量场 ($\\mathbf{u}$) 的散度的向量微积分恒等式：\n$$\n\\nabla \\cdot (\\rho\\mathbf{u}) = \\rho (\\nabla \\cdot \\mathbf{u}) + \\mathbf{u} \\cdot (\\nabla\\rho)\n$$\n首先，我们计算速度场的散度 $\\nabla \\cdot \\mathbf{u}$。速度场的分量是 $u = 1.0 + 0.5x$，$v = 0.4y$ 和 $w = 0.3 + 0.2z$。\n$$\n\\nabla \\cdot \\mathbf{u} = \\frac{\\partial u}{\\partial x} + \\frac{\\partial v}{\\partial y} + \\frac{\\partial w}{\\partial z} = \\frac{\\partial}{\\partial x}(1.0+0.5x) + \\frac{\\partial}{\\partial y}(0.4y) + \\frac{\\partial}{\\partial z}(0.3+0.2z)\n$$\n$$\n\\nabla \\cdot \\mathbf{u} = 0.5 + 0.4 + 0.2 = 1.1\n$$\n这是一个常数值。单位是 $\\mathrm{s}^{-1}$。\n\n接下来，我们计算密度场的梯度 $\\nabla\\rho$。\n$$\n\\nabla\\rho = \\left( \\frac{\\partial\\rho}{\\partial x}, \\frac{\\partial\\rho}{\\partial y}, \\frac{\\partial\\rho}{\\partial z} \\right) = \\big( 0.2, -0.1, 0.15 \\big)\n$$\n这是一个常向量。单位是 $\\mathrm{kg}\\,\\mathrm{m}^{-4}$。\n\n现在我们可以组合 $\\nabla \\cdot (\\rho\\mathbf{u})$ 的两项：\n第一项是 $\\rho (\\nabla \\cdot \\mathbf{u})$：\n$$\n\\rho (\\nabla \\cdot \\mathbf{u}) = (1.2 + 0.2x - 0.1y + 0.15z)(1.1) = 1.32 + 0.22x - 0.11y + 0.165z\n$$\n第二项是 $\\mathbf{u} \\cdot (\\nabla\\rho)$：\n$$\n\\mathbf{u} \\cdot (\\nabla\\rho) = (1.0 + 0.5x)(0.2) + (0.4y)(-0.1) + (0.3 + 0.2z)(0.15)\n$$\n$$\n\\mathbf{u} \\cdot (\\nabla\\rho) = (0.2 + 0.1x) - 0.04y + (0.045 + 0.03z) = 0.245 + 0.1x - 0.04y + 0.03z\n$$\n将这两项相加，得到质量通量的散度：\n$$\n\\nabla \\cdot (\\rho\\mathbf{u}) = (1.32 + 0.22x - 0.11y + 0.165z) + (0.245 + 0.1x - 0.04y + 0.03z)\n$$\n$$\n\\nabla \\cdot (\\rho\\mathbf{u}) = (1.32 + 0.245) + (0.22 + 0.1)x + (-0.11 - 0.04)y + (0.165 + 0.03)z\n$$\n$$\n\\nabla \\cdot (\\rho\\mathbf{u}) = 1.565 + 0.32x - 0.15y + 0.195z\n$$\n这个表达式的单位是 $\\mathrm{kg}\\,\\mathrm{m}^{-3}\\,\\mathrm{s}^{-1}$。\n现在，我们将这个表达式在控制体上积分：\n$$\n\\dot{m}_{out} = \\int_0^{L_z} \\int_0^{L_y} \\int_0^{L_x} (1.565 + 0.32x - 0.15y + 0.195z) \\, dx \\, dy \\, dz\n$$\n我们可以将积分分开：\n$$\n\\dot{m}_{out} = \\int_{CV} 1.565\\,dV + \\int_{CV} 0.32x\\,dV - \\int_{CV} 0.15y\\,dV + \\int_{CV} 0.195z\\,dV\n$$\n令 $V = L_x L_y L_z$ 为 CV 的体积。坐标变量在体积上的积分可以与体积的质心相关联。对于由 $0 \\le x \\le L_x$, $0 \\le y \\le L_y$, $0 \\le z \\le L_z$ 定义的矩形棱柱，其质心位于 $(\\bar{x}, \\bar{y}, \\bar{z}) = (L_x/2, L_y/2, L_z/2)$。积分为：\n$\\int_{CV} x\\,dV = \\bar{x}V = \\frac{L_x}{2}V$, $\\int_{CV} y\\,dV = \\bar{y}V = \\frac{L_y}{2}V$, 和 $\\int_{CV} z\\,dV = \\bar{z}V = \\frac{L_z}{2}V$。\n将这些代入 $\\dot{m}_{out}$ 的表达式中：\n$$\n\\dot{m}_{out} = 1.565 V + 0.32\\left(\\frac{L_x}{2}V\\right) - 0.15\\left(\\frac{L_y}{2}V\\right) + 0.195\\left(\\frac{L_z}{2}V\\right)\n$$\n提出体积 $V$：\n$$\n\\dot{m}_{out} = V \\left( 1.565 + 0.16 L_x - 0.075 L_y + 0.0975 L_z \\right)\n$$\n现在，我们代入尺寸的数值：$L_x=0.4\\,\\mathrm{m}$，$L_y=0.3\\,\\mathrm{m}$，$L_z=0.2\\,\\mathrm{m}$。\n首先，计算体积 $V$：\n$$\nV = L_x L_y L_z = (0.4)(0.3)(0.2) = 0.024\\,\\mathrm{m}^3\n$$\n接下来，计算括号中的项：\n$$\n1.565 + 0.16(0.4) - 0.075(0.3) + 0.0975(0.2)\n$$\n$$\n= 1.565 + 0.064 - 0.0225 + 0.0195\n$$\n$$\n= 1.629 - 0.0225 + 0.0195 = 1.6065 + 0.0195 = 1.626\n$$\n这一项的单位是 $\\mathrm{kg}\\,\\mathrm{m}^{-3}\\,\\mathrm{s}^{-1}$。\n最后，计算净向外质量流率：\n$$\n\\dot{m}_{out} = (0.024\\,\\mathrm{m}^3) \\times (1.626\\,\\mathrm{kg}\\,\\mathrm{m}^{-3}\\,\\mathrm{s}^{-1}) = 0.039024\\,\\mathrm{kg}\\,\\mathrm{s}^{-1}\n$$\n问题要求将结果四舍五入到四位有效数字。\n$$\n\\dot{m}_{out} \\approx 0.03902\\,\\mathrm{kg}\\,\\mathrm{s}^{-1}\n$$\n这个正结果表明在给定瞬时有质量从控制体净流出。对于一个固定的控制体，这对应于控制体内总质量的减少，即平均而言 $\\frac{\\partial \\rho}{\\partial t}  0$。",
            "answer": "$$\\boxed{0.03902}$$"
        },
        {
            "introduction": "接下来，我们将探讨一个更高级的应用场景，即控制体本身处于运动状态。这种情景对于分析激波、接触间断等动态现象至关重要。本练习将引导你从第一性原理出发，应用适用于移动坐标系的雷诺输运定理，来推导接触间断两侧的物理量所需满足的“跳跃”关系，从而展示控制体方法的普适性与强大功能 。",
            "id": "3942020",
            "problem": "一个平面的、一维的无粘可压缩量热完全气体的流动，其演化使得一个清晰的物质界面分隔了两个恒定状态。已知该界面是一个接触间断，没有质量、动量或能量源，也没有粘性或毛细应力。考虑一个横截面积为 $A$ 的薄平面“扁盒”控制体，它包围着该间断，并以未知的恒定速度 $s$ 在实验室坐标系中沿 $x$ 轴平移。使用应用于此移动控制体的质量和法向动量守恒的积分守恒律，推导连接间断传播速度 $s$ 与左右两侧原始状态的跳跃关系。不要假设任何预先给定的跳跃关系；从控制体形式的守恒方程和Reynolds输运定理（RTT）开始。\n\n然后，将您推导出的关系应用于所考虑时刻的以下左右状态：\n- 左侧状态: $\\rho_L = 1.40$ kg m$^{-3}$, $u_L = 231.764$ m s$^{-1}$, $p_L = 2.00 \\times 10^{5}$ Pa.\n- 右侧状态: $\\rho_R = 0.700$ kg m$^{-3}$, $u_R = 231.764$ m s$^{-1}$, $p_R = 2.00 \\times 10^{5}$ Pa.\n\n此处 $\\rho$ 是密度，$u$ 是 $x$ 方向的流体速度，$p$ 是热力学压力；间断的法线方向与 $x$ 轴对齐。以 m s$^{-1}$ 表示最终传播速度，并将您的答案四舍五入到四位有效数字。您的最终答案必须是一个单个实数。",
            "solution": "用户需要一个流体动力学问题的详细解答。\n\n### 第1步：提取已知条件\n- **流动特性**：平面的、一维的、无粘的、可压缩的量热完全气体流动。\n- **界面**：一个清晰的物质界面，指定为接触间断。\n- **界面特性**：无质量、动量或能量源；无粘性或毛细应力。\n- **控制体（CV）**：一个横截面积为 $A$ 的薄平面“扁盒”，包围着间断。\n- **控制体运动**：控制体在实验室坐标系中以未知的恒定速度 $s$ 沿 $x$ 轴平移。\n- **方法论**：使用应用于移动控制体的质量和法向动量守恒的积分守恒律，从Reynolds输运定理（RTT）开始。不使用预先给定的跳跃关系。\n- **左侧状态 (L)**: $\\rho_L = 1.40$ kg m$^{-3}$, $u_L = 231.764$ m s$^{-1}$, $p_L = 2.00 \\times 10^{5}$ Pa。\n- **右侧状态 (R)**: $\\rho_R = 0.700$ kg m$^{-3}$, $u_R = 231.764$ m s$^{-1}$, $p_R = 2.00 \\times 10^{5}$ Pa。\n- **变量**：$\\rho$ 是密度，$u$ 是 $x$ 方向的流体速度，$p$ 是压力。\n- **目标**：推导连接 $s$ 与原始状态的跳跃关系，然后计算 $s$，并四舍五入到四位有效数字。\n\n### 第2步：使用提取的已知条件进行验证\n- **科学依据**：该问题牢固地植根于连续介质力学的原理，特别是可压缩流体的质量和动量守恒定律。接触间断的概念以及对移动控制体使用Reynolds输运定理是流体动力学和计算物理学中的标准课题。该问题在科学上是合理的。\n- **适定性**：该问题提供了所有必要信息（初始状态、间断类型、所需方法），以唯一确定传播速度 $s$。所要求的推导构成了一个完整的推理链。该问题是适定的。\n- **客观性**：该问题以精确、定量的术语陈述。给定的数据是客观的。没有提出主观性论断。\n\n### 第3步：结论与行动\n该问题是有效的。将提供完整解答。\n\n### 跳跃关系的推导\n\n跨越间断的跳跃条件的推导始于一般守恒律的积分形式。对于单位质量的守恒量 $\\psi$，相应的单位体积量为 $\\rho\\psi$。对于以速度 $\\mathbf{v}_{cv}$ 移动的控制体 $V(t)$，Reynolds输运定理表述为：\n$$ \\frac{d}{dt}\\int_{V(t)} \\rho\\psi \\,dV = \\int_{V(t)} \\frac{\\partial(\\rho\\psi)}{\\partial t} \\,dV + \\int_{\\partial V(t)} \\rho\\psi (\\mathbf{v}_{cv} \\cdot \\mathbf{n}) \\,dS $$\n对于具有通量 $\\mathbf{F}_{\\psi}$ 和源 $S_{\\psi}$ 的 $\\rho\\psi$ 的守恒律的微分形式为 $\\frac{\\partial(\\rho\\psi)}{\\partial t} + \\nabla \\cdot \\mathbf{F}_{\\psi} = S_{\\psi}$。将其在 $V(t)$ 上积分并使用散度定理得到：\n$$ \\int_{V(t)} \\frac{\\partial(\\rho\\psi)}{\\partial t} \\,dV + \\int_{\\partial V(t)} \\mathbf{F}_{\\psi} \\cdot \\mathbf{n} \\,dS = \\int_{V(t)} S_{\\psi} \\,dV $$\n结合这些，我们得到移动控制体的一般积分守恒律：\n$$ \\frac{d}{dt}\\int_{V(t)} \\rho\\psi \\,dV + \\int_{\\partial V(t)} (\\mathbf{F}_{\\psi} - \\rho\\psi \\mathbf{v}_{cv}) \\cdot \\mathbf{n} \\,dS = \\int_{V(t)} S_{\\psi} \\,dV $$\n对于沿 $x$ 轴的一维流动，流体速度为 $\\mathbf{u} = u\\mathbf{i}$，我们将控制体速度设置为间断速度，$\\mathbf{v}_{cv} = s\\mathbf{i}$。$\\rho\\psi$ 的对流通量为 $\\rho\\psi \\mathbf{u}$。因此，总通量向量为 $\\mathbf{F}_{\\psi, tot} = \\rho\\psi(\\mathbf{u} - s\\mathbf{i}) + \\text{其他通量}$。\n\n我们考虑一个包围间断的面积为 $A$、厚度为 $\\delta x$ 的薄“扁盒”控制体。在极限 $\\delta x \\to 0$ 时，体积 $V = A\\delta x \\to 0$，任何体积积分（如时间导数项和源项）都消失，前提是其被积函数有界。守恒律简化为穿过扁盒左（$L$）右（$R$）两面的通量平衡。面积分变为：\n$$ (\\text{Flux out of face R}) - (\\text{Flux into face L}) = 0 $$\n设 $F$ 是 $x$ 方向上总通量的标量分量。跳跃条件为 $[[F]] \\equiv F_R - F_L = 0$。\n\n**1. 质量守恒**\n对于质量守恒，$\\psi=1$。通量纯粹是对流性的。$x$ 方向的通量分量为 $F_{mass} = \\rho(u-s)$。跳跃条件为：\n$$ [[\\rho(u-s)]] = 0 \\implies \\rho_R(u_R-s) = \\rho_L(u_L-s) $$\n\n**2. 动量守恒**\n对于 $x$ 方向的动量，单位质量的守恒量是 $\\psi=u$。对流通量是 $\\rho u(u-s)$。对于无粘流体，还存在压力，它作为动量的通量。积分方程中的压力项是 $-\\int p\\mathbf{n} \\cdot \\mathbf{i} \\,dS$。这对应于 $p$ 的一个通量分量。$x$ 方向动量的总通量是 $F_{momentum} = \\rho u(u-s) + p$。跳跃条件是：\n$$ [[\\rho u(u-s) + p]] = 0 \\implies \\rho_R u_R(u_R-s) + p_R = \\rho_L u_L(u_L - s) + p_L $$\n\n**接触间断的性质**\n问题指明该界面是一个接触间断。根据定义，接触间断是一个物质界面，这意味着没有质量流穿过它。界面上的流体粒子*随*界面一起移动。这给出了流体相对于间断的速度为零的运动学条件。\n$$ u - s = 0 $$\n这必须在界面的两侧都成立，所以：\n$$ u_L - s = 0 \\quad \\text{and} \\quad u_R - s = 0 $$\n这导致了接触间断的主要条件：\n$$ s = u_L = u_R $$\n流体速度在间断处是连续的，并且等于其传播速度。\n\n我们现在可以将这个条件代入质量和动量跳跃关系中。\n- 质量守恒：\n$$ \\rho_R(u_R-s) = \\rho_L(u_L-s) \\implies \\rho_R(s-s) = \\rho_L(s-s) \\implies 0=0 $$\n这个方程是平凡满足的，这意味着密度 $\\rho$ 可以是不连续的，即允许 $\\rho_L \\neq \\rho_R$。\n- 动量守恒：\n$$ \\rho_R u_R(u_R-s) + p_R = \\rho_L u_L(u_L - s) + p_L $$\n$$ \\rho_R u_R(0) + p_R = \\rho_L u_L(0) + p_L \\implies p_R = p_L $$\n这表明压力在接触间断处必须是连续的。\n\n因此，推导出的接触间断的关系为：$s = u_L = u_R$ 和 $p_L = p_R$。\n\n### 应用于给定数据\n\n我们被给予以下状态：\n- 左侧状态：$\\rho_L = 1.40$ kg m$^{-3}$，$u_L = 231.764$ m s$^{-1}$，$p_L = 2.00 \\times 10^{5}$ Pa。\n- 右侧状态：$\\rho_R = 0.700$ kg m$^{-3}$，$u_R = 231.764$ m s$^{-1}$，$p_R = 2.00 \\times 10^{5}$ Pa。\n\n我们验证此数据是否与接触间断的物理性质一致：\n1. $u_L=u_R$ 吗？是的，$231.764 \\text{ m s}^{-1} = 231.764 \\text{ m s}^{-1}$。\n2. $p_L=p_R$ 吗？是的，$2.00 \\times 10^{5} \\text{ Pa} = 2.00 \\times 10^{5} \\text{ Pa}$。\n给定的状态完美地描述了一个接触间断。\n\n传播速度 $s$ 由条件 $s = u_L = u_R$ 决定。\n使用给定值：\n$$ s = 231.764 \\text{ m s}^{-1} $$\n问题要求将答案四舍五入到四位有效数字。数字是 $231.764$。前四位有效数字是 $2$，$3$，$1$，$7$。第五位有效数字是 $6$。由于 $6 \\geq 5$，我们将第四位有效数字向上取整。\n$$ s \\approx 231.8 \\text{ m s}^{-1} $$",
            "answer": "$$\n\\boxed{231.8}\n$$"
        },
        {
            "introduction": "最后的练习是一个综合性问题，它模拟了计算热工领域的典型工程挑战。你需要对管道内的共轭传热过程进行建模，这要求你为流体和管壁分别建立控制体，并将它们的能量平衡方程耦合起来。这个实践展示了如何将控制体方法作为基本构建模块，来创建可通过数值方法求解的、复杂的系统级模型 。",
            "id": "3942028",
            "problem": "考虑单相流体在内半径为 $r_i$、外半径为 $r_o$、长度为 $L$ 的水平直圆管中进行稳态、不可压缩的层流流动。流体具有恒定的物性参数：质量流量为 $\\dot{m}$，定压比热为 $c_p$。管壁的导热系数 $k_w$ 为常数。管外通过外部对流换热系数 $h_o$ 与温度均匀为 $T_{\\mathrm{ext}}$ 的外部环境进行热交换，而管内流体通过内部对流换热系数 $h_i$ 与内壁进行热交换。假设流体和管壁的轴向导热可以忽略不计，且无内部热源。入口流体体温为 $T_{\\mathrm{in}}$。\n\n使用控制体概念：\n- 对于流体，对长度为 $\\mathrm{d}x$ 的微元轴向控制体应用能量守恒定律，将流体体温 $T_b(x)$ 的轴向变化与来自管壁的单位长度热量 $q'(x)$ 联系起来。\n- 对于管壁，在圆柱壳控制体中应用稳态一维径向导热，并在内外表面应用牛顿冷却定律，通过一系列径向热阻将 $q'(x)$ 与外部环境和流体体温之间的温差联系起来。\n\n从以下基本定律和定义出发（除这些基础之外，不使用任何预先推导的目标公式）：\n- 稳态流动控制体的能量守恒：$\\dot{m}\\,c_p\\,\\dfrac{\\mathrm{d}T_b}{\\mathrm{d}x} = q'(x)$。\n- 圆柱坐标系下稳态一维径向导热的傅里叶定律：$q' = -2\\pi r\\,k_w\\,\\dfrac{\\mathrm{d}T}{\\mathrm{d}r}$，这导致稳态下圆柱壁的对数温度分布。\n- 表面的牛顿冷却定律：$q' = 2\\pi r\\,h\\,(T_{\\text{surface}} - T_{\\text{adjacent\\_fluid}})$。\n\n通过将流体能量控制体与管壁导热控制体耦合，推导出一个关于 $T_b(x)$ 的封闭一阶常微分方程（ODE），以及一个用 $T_b(x)$ 和径向热阻表示内壁温度 $T_{w,i}(x)$ 的代数表达式。实现一个稳健的数值方法，以计算在指定轴向位置的 $T_{w,i}(x)$。如果 $h_o = 0$，则将外边界解释为完全绝热，并将其作为无穷大外部热阻（即与环境的热通量为零）的极限情况进行一致处理。\n\n物理单位要求：\n- 使用国际单位制（SI）。所有温度必须以开尔文（K）表示，长度以米（m）表示，质量流量以千克/秒（kg/s）表示，比热以焦耳/(千克·开尔文)（J/(kg·K)）表示，导热系数以瓦/(米·开尔文)（W/(m·K)）表示，传热系数以瓦/(平方米·开尔文)（W/(m²·K)）表示。\n\n本问题不涉及角度单位；无需指定。\n\n您的程序必须为以下每个测试用例计算在三个轴向位置 $x \\in \\{0,\\,L/2,\\,L\\}$ 处的内壁温度分布 $T_{w,i}(x)$。假设物性沿 $x$ 方向恒定且为层流流体动力学。将 $h_o=0$ 视为完全绝热。\n\n测试套件（每行列出 $(r_i,\\,r_o,\\,L,\\,\\dot{m},\\,c_p,\\,k_w,\\,h_i,\\,h_o,\\,T_{\\mathrm{in}},\\,T_{\\mathrm{ext}})$）：\n- 用例 A (正常路径): $(0.01, 0.012, 2.0, 0.1, 4180.0, 15.0, 500.0, 10.0, 300.0, 350.0)$\n- 用例 B (高导热管壁，更强的外部对流): $(0.005, 0.006, 1.0, 0.5, 4180.0, 400.0, 1000.0, 100.0, 290.0, 310.0)$\n- 用例 C (外表面绝热): $(0.01, 0.011, 1.0, 0.2, 1000.0, 0.2, 50.0, 0.0, 300.0, 400.0)$\n\n对于每个用例，计算并返回三个内壁温度 $T_{w,i}(0)$、$T_{w,i}(L/2)$ 和 $T_{w,i}(L)$。将每个温度以开尔文（K）为单位表示，并四舍五入到六位小数的浮点数。\n\n最终输出格式：\n- 生成一个单行，包含一个用方括号括起来的逗号分隔列表。该列表必须严格按照以下顺序包含九个结果：用例 A 在 $x=\\{0,\\,L/2,\\,L\\}$ 的结果，后跟用例 B 在 $x=\\{0,\\,L/2,\\,L\\}$ 的结果，再后跟用例 C 在 $x=\\{0,\\,L/2,\\,L\\}$ 的结果。例如：$[T_{A,0},T_{A,L/2},T_{A,L},T_{B,0},T_{B,L/2},T_{B,L},T_{C,0},T_{C,L/2},T_{C,L}]$，其中每个条目都是以开尔文为单位、四舍五入到六位小数的浮点数。",
            "solution": "首先根据指定标准对问题进行验证。\n\n### 第 1 步：提取已知条件\n- **几何形状**：内半径 $r_i$，外半径 $r_o$，长度 $L$。管道为水平直圆柱体。\n- **流体物性**：恒定质量流量 $\\dot{m}$，恒定定压比热 $c_p$。流体为单相，流动为稳态、不可压缩的层流。\n- **管壁物性**：恒定导热系数 $k_w$。\n- **边界条件与传热**：\n    - 外部环境温度均匀为 $T_{\\mathrm{ext}}$。\n    - 外部对流换热系数 $h_o$。\n    - 内部对流换热系数 $h_i$。\n    - 入口流体体温 $T_{\\mathrm{in}}$。\n    - 如果 $h_o = 0$，则外边界完全绝热。\n- **假设**：流体和管壁的轴向导热可忽略，无内部热源。\n- **基本定律**：\n    1. 流体控制体的能量守恒：$\\dot{m}\\,c_p\\,\\dfrac{\\mathrm{d}T_b}{\\mathrm{d}x} = q'(x)$。\n    2. 管壁径向导热的傅里叶定律：$q' = -2\\pi r\\,k_w\\,\\dfrac{\\mathrm{d}T}{\\mathrm{d}r}$。\n    3. 表面的牛顿冷却定律：$q' = 2\\pi r\\,h\\,(T_{\\text{surface}} - T_{\\text{adjacent\\_fluid}})$。\n- **任务**：推导流体体温 $T_b(x)$ 的一阶常微分方程和内壁温度 $T_{w,i}(x)$ 的代数表达式。为三个测试用例计算 $x \\in \\{0, L/2, L\\}$ 处的 $T_{w,i}(x)$。\n- **单位**：所有量均以国际单位制（SI）指定。\n\n### 第 2 步：使用提取的已知条件进行验证\n- **科学基础**：该问题是管道中共轭传热的典型示例，其基础牢固地植根于热力学（第一定律）和传热学（导热、对流）的原理。所提供的控制方程是基础的且表述正确。\n- **适定性**：该问题是适定的。几何形状、材料物性和边界条件都已指定，可以得出唯一的温度场解。初始条件 $T_b(0) = T_{\\mathrm{in}}$ 使得常微分方程的解是唯一的。\n- **客观性**：问题陈述是精确、定量的，没有主观或含糊不清的语言。\n- **完整性**：求解所需的所有必要参数都在测试套件中提供。特殊情况 $h_o = 0$ 被明确定义为完全绝热边界。\n- **一致性**：已知条件内部一致，没有矛盾。\n\n### 第 3 步：结论与行动\n问题有效。将提供完整解答。\n\n### 基于原理的求解推导\n\n求解需要将流体中的能量守恒与通过管壁的传热耦合起来。我们将使用热阻网络来模拟传热过程。\n\n**1. 热阻网络**\n\n对于管道的微元长度 $\\mathrm{d}x$，从温度为 $T_{\\mathrm{ext}}$ 的外部环境到温度为 $T_b(x)$ 的流体体温的单位长度传热速率 $q'(x)$ 必须克服三个串联的热阻：外部对流热阻、管壁导热热阻和内部对流热阻。\n\n- **内部对流热阻, $R'_i$**：\n根据内表面（面积 $A_i = 2\\pi r_i L$）的牛顿冷却定律，单位长度的传热速率为：\n$$q'(x) = h_i (2\\pi r_i) (T_{w,i}(x) - T_b(x))$$\n温降为 $\\Delta T = T_{w,i}(x) - T_b(x) = q'(x) \\frac{1}{2\\pi h_i r_i}$。因此，单位长度的热阻为：\n$$R'_i = \\frac{1}{2\\pi h_i r_i}$$\n\n- **管壁导热热阻, $R'_w$**：\n对于无热源的圆柱壳中的稳态一维径向导热，傅里叶定律为 $q'(x) = -2\\pi r k_w \\frac{\\mathrm{d}T}{\\mathrm{d}r}$。我们分离变量并对壁厚进行积分，从 $r=r_i$ 到 $r=r_o$，温度从 $T_{w,i}(x)$ 变为 $T_{w,o}(x)$：\n$$\\int_{r_i}^{r_o} \\frac{q'(x)}{r} \\mathrm{d}r = - \\int_{T_{w,i}(x)}^{T_{w,o}(x)} 2\\pi k_w \\mathrm{d}T$$\n$$q'(x) [\\ln r]_{r_i}^{r_o} = -2\\pi k_w [T]_{T_{w,i}(x)}^{T_{w,o}(x)}$$\n$$q'(x) \\ln\\left(\\frac{r_o}{r_i}\\right) = 2\\pi k_w (T_{w,i}(x) - T_{w,o}(x))$$\n温降为 $\\Delta T = T_{w,i}(x) - T_{w,o}(x) = q'(x) \\frac{\\ln(r_o/r_i)}{2\\pi k_w}$。单位长度的热阻为：\n$$R'_w = \\frac{\\ln(r_o/r_i)}{2\\pi k_w}$$\n\n- **外部对流热阻, $R'_o$**：\n类似地，在外表面（面积 $A_o = 2\\pi r_o L$），牛顿冷却定律给出：\n$$q'(x) = h_o (2\\pi r_o) (T_{w,o}(x) - T_{\\mathrm{ext}})$$\n温降为 $\\Delta T = T_{w,o}(x) - T_{\\mathrm{ext}} = q'(x) \\frac{1}{2\\pi h_o r_o}$。单位长度的热阻为：\n$$R'_o = \\frac{1}{2\\pi h_o r_o}$$\n\n单位长度的总热阻 $R'_{\\mathrm{tot}}$ 是这些串联热阻之和：\n$$R'_{\\mathrm{tot}} = R'_i + R'_w + R'_o = \\frac{1}{2\\pi h_i r_i} + \\frac{\\ln(r_o/r_i)}{2\\pi k_w} + \\frac{1}{2\\pi h_o r_o}$$\n现在，单位长度的传热速率可以用总温差表示：\n$$q'(x) = \\frac{T_{\\mathrm{ext}} - T_b(x)}{R'_{\\mathrm{tot}}}$$\n\n**2. 流体体温的常微分方程**\n\n问题提供了微元流体控制体的能量平衡方程：\n$$\\dot{m} c_p \\frac{\\mathrm{d}T_b}{\\mathrm{d}x} = q'(x)$$\n将热阻网络中 $q'(x)$ 的表达式代入，得到流体体温 $T_b(x)$ 的控制性常微分方程：\n$$\\dot{m} c_p \\frac{\\mathrm{d}T_b}{\\mathrm{d}x} = \\frac{T_{\\mathrm{ext}} - T_b(x)}{R'_{\\mathrm{tot}}}$$\n这是一个一阶线性常微分方程。我们可以将其重新排列为：\n$$\\frac{\\mathrm{d}T_b}{T_b(x) - T_{\\mathrm{ext}}} = -\\frac{\\mathrm{d}x}{\\dot{m} c_p R'_{\\mathrm{tot}}}$$\n从管道入口（$x=0$，此时 $T_b(0) = T_{\\mathrm{in}}$）积分到任意轴向位置 $x$：\n$$\\int_{T_{\\mathrm{in}}}^{T_b(x)} \\frac{\\mathrm{d}T_b'}{T_b' - T_{\\mathrm{ext}}} = -\\int_0^x \\frac{\\mathrm{d}x'}{\\dot{m} c_p R'_{\\mathrm{tot}}}$$\n$$[\\ln(T_b' - T_{\\mathrm{ext}})]_{T_{\\mathrm{in}}}^{T_b(x)} = -\\frac{x}{\\dot{m} c_p R'_{\\mathrm{tot}}}$$\n$$\\ln\\left(\\frac{T_b(x) - T_{\\mathrm{ext}}}{T_{\\mathrm{in}} - T_{\\mathrm{ext}}}\\right) = -\\frac{x}{\\dot{m} c_p R'_{\\mathrm{tot}}}$$\n解出 $T_b(x)$ 即可得到流体的轴向温度分布：\n$$T_b(x) = T_{\\mathrm{ext}} + (T_{\\mathrm{in}} - T_{\\mathrm{ext}}) \\exp\\left(-\\frac{x}{\\dot{m} c_p R'_{\\mathrm{tot}}}\\right)$$\n\n**3. 内壁温度的表达式**\n\n内壁温度 $T_{w,i}(x)$ 是我们关心的量。根据内部对流热阻的定义，我们有：\n$$T_{w,i}(x) - T_b(x) = q'(x) R'_i$$\n$$T_{w,i}(x) = T_b(x) + q'(x) R'_i$$\n代入 $q'(x) = \\frac{T_{\\mathrm{ext}} - T_b(x)}{R'_{\\mathrm{tot}}}$，我们得到：\n$$T_{w,i}(x) = T_b(x) + \\left(\\frac{T_{\\mathrm{ext}} - T_b(x)}{R'_{\\mathrm{tot}}}\\right) R'_i$$\n这是用于计算的最终代数表达式。我们可以先计算给定 $x$ 处的 $T_b(x)$，然后使用此方程求出相应的 $T_{w,i}(x)$。\n\n**4. 特殊情况：外表面绝热 ($h_o = 0$)**\n\n如果 $h_o = 0$，外部对流热阻 $R'_o = \\frac{1}{2\\pi h_o r_o} \\to \\infty$。因此，总热阻 $R'_{\\mathrm{tot}} \\to \\infty$。\n在此极限下，来自环境的单位长度传热速率变为零：\n$$q'(x) = \\frac{T_{\\mathrm{ext}} - T_b(x)}{R'_{\\mathrm{tot}}} \\to 0$$\n将 $q'(x) = 0$ 代入流体能量平衡方程：\n$$\\dot{m} c_p \\frac{\\mathrm{d}T_b}{\\mathrm{d}x} = 0$$\n这意味着 $\\frac{\\mathrm{d}T_b}{\\mathrm{d}x} = 0$，因此流体体温沿管道保持不变：\n$$T_b(x) = T_b(0) = T_{\\mathrm{in}}$$\n此外，由于 $q'(x)=0$，内部对流层的温降也为零：\n$$T_{w,i}(x) - T_b(x) = q'(x) R'_i = 0$$\n因此，对于完全绝热的情况，内壁温度是恒定的，且等于入口流体温度：\n$$T_{w,i}(x) = T_b(x) = T_{\\mathrm{in}}$$\n外部温度 $T_{\\mathrm{ext}}$ 变得无关紧要，因为与环境没有热量交换。\n\n**5. 数值实现**\n\n数值计算步骤如下：\n对于每个测试用例：\n1.  读取输入参数：$r_i, r_o, L, \\dot{m}, c_p, k_w, h_i, h_o, T_{\\mathrm{in}}, T_{\\mathrm{ext}}$。\n2.  检查是否 $h_o = 0$。如果是，则所有三个轴向位置（$x=0, L/2, L$）的结果均为 $T_{\\mathrm{in}}$。\n3.  如果 $h_o  0$：\n    a. 计算单位长度的热阻：$R'_i$, $R'_w$, 和 $R'_o$。\n    b. 将它们相加得到总热阻 $R'_{\\mathrm{tot}}$。\n    c. 对于每个要求的轴向位置 $x \\in \\{0, L/2, L\\}$：\n        i.  使用其推导出的指数分布公式计算流体体温 $T_b(x)$。\n        ii. 使用第 3 节中推导的代数关系式计算内壁温度 $T_{w,i}(x)$。\n4.  存储并格式化该用例的三个计算温度，四舍五入到六位小数。\n5.  将所有测试用例的结果汇总成最终指定的格式。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes the inner wall temperature distribution for fluid flow in a pipe\n    subject to conjugate heat transfer.\n    \"\"\"\n    \n    # Test Suite (each line lists (r_i, r_o, L, m_dot, c_p, k_w, h_i, h_o, T_in, T_ext))\n    test_cases = [\n        # Case A (happy path)\n        (0.01, 0.012, 2.0, 0.1, 4180.0, 15.0, 500.0, 10.0, 300.0, 350.0),\n        # Case B (highly conductive wall, stronger external convection)\n        (0.005, 0.006, 1.0, 0.5, 4180.0, 400.0, 1000.0, 100.0, 290.0, 310.0),\n        # Case C (insulated outer surface)\n        (0.01, 0.011, 1.0, 0.2, 1000.0, 0.2, 50.0, 0.0, 300.0, 400.0),\n    ]\n\n    all_results = []\n\n    for case in test_cases:\n        r_i, r_o, L, m_dot, c_p, k_w, h_i, h_o, T_in, T_ext = case\n        \n        case_results = []\n        \n        # Handle the special case of a perfectly insulated outer surface\n        if h_o == 0.0:\n            # For an insulated pipe, q'(x) = 0.\n            # Thus, dT_b/dx = 0 - T_b(x) = T_in.\n            # Also, T_wi(x) - T_b(x) = 0 - T_wi(x) = T_in.\n            # This holds for all x.\n            T_wi_0 = T_in\n            T_wi_L_half = T_in\n            T_wi_L = T_in\n            case_results.extend([T_wi_0, T_wi_L_half, T_wi_L])\n        else:\n            # Calculate thermal resistances per unit length (m.K/W)\n            # Internal convection resistance\n            R_prime_i = 1 / (2 * np.pi * h_i * r_i)\n            # Wall conduction resistance\n            R_prime_w = np.log(r_o / r_i) / (2 * np.pi * k_w)\n            # External convection resistance\n            R_prime_o = 1 / (2 * np.pi * h_o * r_o)\n            \n            # Total thermal resistance\n            R_prime_tot = R_prime_i + R_prime_w + R_prime_o\n            \n            # Define axial locations to evaluate\n            x_positions = [0.0, L / 2.0, L]\n            \n            for x in x_positions:\n                # Calculate bulk fluid temperature T_b(x)\n                exponent = -x / (m_dot * c_p * R_prime_tot)\n                T_b_x = T_ext + (T_in - T_ext) * np.exp(exponent)\n                \n                # Calculate inner wall temperature T_wi(x)\n                # T_wi(x) = T_b(x) + q'(x) * R'_i\n                # q'(x) = (T_ext - T_b(x)) / R'_tot\n                q_prime_x = (T_ext - T_b_x) / R_prime_tot\n                T_wi_x = T_b_x + q_prime_x * R_prime_i\n                \n                case_results.append(T_wi_x)\n\n        all_results.extend(case_results)\n\n    # Format the final output string\n    formatted_results = [f\"{temp:.6f}\" for temp in all_results]\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```"
        }
    ]
}