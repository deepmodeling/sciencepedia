{
    "hands_on_practices": [
        {
            "introduction": "A key component of any dynamic load balancing (DLB) system is the metric used to decide when rebalancing is necessary. A well-designed metric should accurately reflect the degree of imbalance and be robust against spurious fluctuations. This practice challenges you to derive and compare two different imbalance metrics, one based on the mean and the other on the median of per-process workloads, exploring how their mathematical properties affect their sensitivity to performance outliers . Understanding this is crucial for designing stable and efficient DLB triggers.",
            "id": "3949356",
            "problem": "A transient heat conduction solver using domain decomposition is executed on $n$ ranks under the Message Passing Interface (MPI) programming model. Each global iteration involves local computation on each rank followed by a barrier-synchronized halo exchange, so the per-iteration wall-clock time is limited by the slowest rank. Let $T_i$ denote the per-iteration wall-clock time for rank $i$ at a given global iteration. Consider the following two imbalance metrics used to guide dynamic load balancing decisions:\n- A composite imbalance metric defined as the relative excess of the synchronization-limited iteration time over the arithmetic mean of the per-rank times.\n- A median-based imbalance metric defined as the relative excess of the synchronization-limited iteration time over the sample median of the per-rank times.\n\nStarting from the definitions of arithmetic mean, sample median, and the fact that the iteration makespan equals $\\max_i(T_i)$ under barrier synchronization, first derive symbolic expressions for both metrics in terms of $\\{T_i\\}_{i=1}^n$.\n\nTo compare sensitivity to outliers, consider a single-iteration snapshot in which $n-1$ ranks have identical time $\\tau$ and exactly $1$ rank is an outlier with time $a\\,\\tau$, where $a>1$, $\\tau>0$, and $n\\ge 3$. Under this single-outlier model:\n- Express both imbalance metrics symbolically in terms of $a$, $n$, and $\\tau$.\n- Define the sensitivity to the outlier magnitude as the derivative of each metric with respect to $a$.\n- Define the sensitivity ratio $S(a,n)$ as the ratio of the derivative of the composite imbalance metric to the derivative of the median-based metric, both with respect to $a$.\n\nProvide the final answer as the closed-form expression for $S(a,n)$ in exact symbolic form. Do not approximate. No units are required.",
            "solution": "The problem is first validated to be self-contained, scientifically grounded, and well-posed. The terminology is standard in parallel computing and performance analysis. The premises are mathematically consistent and sufficient for deriving a unique solution. Therefore, we proceed with the solution.\n\nLet $n$ be the number of computational ranks, and let $\\{T_i\\}_{i=1}^n$ be the set of per-iteration wall-clock times for each rank.\n\nThe synchronization-limited iteration time, or makespan, is determined by the slowest rank, as all ranks must wait at a barrier. This is given by:\n$$T_{max} = \\max_i(T_i)$$\n\nThe arithmetic mean of the per-rank times is defined as:\n$$\\bar{T} = \\frac{1}{n} \\sum_{i=1}^n T_i$$\n\nThe sample median of the per-rank times is denoted by:\n$$T_{med} = \\text{median}(\\{T_i\\}_{i=1}^n)$$\n\nThe composite imbalance metric, $I_C$, is defined as the relative excess of $T_{max}$ over $\\bar{T}$. Its symbolic expression is:\n$$I_C = \\frac{T_{max} - \\bar{T}}{\\bar{T}} = \\frac{T_{max}}{\\bar{T}} - 1$$\n\nThe median-based imbalance metric, $I_M$, is defined as the relative excess of $T_{max}$ over $T_{med}$. Its symbolic expression is:\n$$I_M = \\frac{T_{max} - T_{med}}{T_{med}} = \\frac{T_{max}}{T_{med}} - 1$$\n\nWe now apply the single-outlier model. In this model, the set of times consists of $n-1$ ranks with an identical time $\\tau > 0$ and $1$ outlier rank with time $a\\tau$, where $a > 1$. The number of ranks is $n \\ge 3$. The set of times is effectively $\\{\\underbrace{\\tau, \\tau, \\dots, \\tau}_{n-1}, a\\tau\\}$.\n\nUnder this model, we calculate $T_{max}$, $\\bar{T}$, and $T_{med}$.\nSince $a > 1$, the outlier time $a\\tau$ is the largest value in the set. Thus, the makespan is:\n$$T_{max} = a\\tau$$\n\nThe arithmetic mean is:\n$$\\bar{T} = \\frac{(n-1)\\tau + a\\tau}{n} = \\frac{(n-1+a)\\tau}{n}$$\n\nThe sample median for the set of times $\\{\\underbrace{\\tau, \\tau, \\dots, \\tau}_{n-1}, a\\tau\\}$ must be determined. For $n \\ge 3$, the sorted list has at least two entries of $\\tau$ at the beginning. The median is the middle value. For any $n \\ge 2$, the median of this particular set is $\\tau$. For $n=3$, the set is $(\\tau, \\tau, a\\tau)$ and the median is $\\tau$. For $n=4$, the set is $(\\tau, \\tau, \\tau, a\\tau)$ and the median is the average of the two middle elements, $\\frac{\\tau+\\tau}{2} = \\tau$. This holds for any $n \\ge 3$. Therefore:\n$$T_{med} = \\tau$$\n\nWe can now express the imbalance metrics $I_C$ and $I_M$ in terms of $a$, $n$, and $\\tau$.\nFor the composite metric $I_C$:\n$$I_C(a, n) = \\frac{a\\tau}{\\frac{(n-1+a)\\tau}{n}} - 1 = \\frac{an}{a+n-1} - 1 = \\frac{an - (a+n-1)}{a+n-1} = \\frac{an - a - n + 1}{a+n-1} = \\frac{a(n-1) - (n-1)}{a+n-1} = \\frac{(a-1)(n-1)}{a+n-1}$$\nNote that $I_C$ is independent of $\\tau$.\n\nFor the median-based metric $I_M$:\n$$I_M(a) = \\frac{a\\tau}{\\tau} - 1 = a - 1$$\nNote that $I_M$ is independent of both $n$ and $\\tau$.\n\nNext, we find the sensitivity of each metric to the outlier magnitude $a$ by taking the derivative with respect to $a$.\nThe sensitivity of $I_C$ is $\\frac{dI_C}{da}$. We use the quotient rule for differentiation, $\\frac{d}{dx}\\left(\\frac{u}{v}\\right) = \\frac{u'v - uv'}{v^2}$, with $u(a) = (a-1)(n-1)$ and $v(a) = a+n-1$.\nThe derivatives with respect to $a$ are $\\frac{du}{da} = n-1$ and $\\frac{dv}{da} = 1$.\n$$\\frac{dI_C}{da} = \\frac{(n-1)(a+n-1) - (a-1)(n-1)(1)}{(a+n-1)^2}$$\n$$= \\frac{(n-1)[(a+n-1) - (a-1)]}{(a+n-1)^2}$$\n$$= \\frac{(n-1)[a+n-1-a+1]}{(a+n-1)^2} = \\frac{(n-1)n}{(a+n-1)^2}$$\nSo, the sensitivity of the composite metric is:\n$$\\frac{dI_C}{da} = \\frac{n(n-1)}{(a+n-1)^2}$$\n\nThe sensitivity of $I_M$ is $\\frac{dI_M}{da}$:\n$$\\frac{dI_M}{da} = \\frac{d}{da}(a-1) = 1$$\n\nFinally, the sensitivity ratio $S(a,n)$ is the ratio of these two derivatives:\n$$S(a,n) = \\frac{\\frac{dI_C}{da}}{\\frac{dI_M}{da}} = \\frac{\\frac{n(n-1)}{(a+n-1)^2}}{1}$$\nThe closed-form expression for $S(a,n)$ is:\n$$S(a,n) = \\frac{n(n-1)}{(a+n-1)^2}$$\nThis expression is well-defined for the given constraints $a > 1$ and $n \\ge 3$, as the denominator is always positive.",
            "answer": "$$\\boxed{\\frac{n(n-1)}{(a+n-1)^2}}$$"
        },
        {
            "introduction": "The ultimate goal of dynamic load balancing is to improve solver performance and scalability. After implementing such a system, it is essential to rigorously quantify its benefits using standard high-performance computing metrics. This exercise guides you through the process of analyzing mock experimental data from a parallel thermal solver to compute strong-scaling efficiency with and without DLB, thereby measuring the concrete performance improvement . This hands-on calculation solidifies the connection between the abstract concept of load balance and the tangible outcome of faster computation time.",
            "id": "3949367",
            "problem": "A three-dimensional transient heat conduction solver advances an explicit time-stepping scheme over a fixed grid using domain decomposition. To mitigate spatially heterogeneous computational work per subdomain (arising from temperature-dependent material properties and adaptive timestep control), the code optionally activates dynamic load balancing (DLB), which periodically re-partitions the domain. Consider strong scaling experiments on identical hardware for this solver with DLB disabled and enabled. The wall-clock time on one process is measured to be $T(1) = 10240\\,\\mathrm{s}$; on a single process the DLB option is functionally inert and introduces no overhead, so $T(1)$ is common to both configurations.\n\nMulti-process wall times $T(P)$ are measured for process counts $P \\in \\{8,16,32,64\\}$ under the two configurations as follows:\n- Without DLB: $T(8)=1375\\,\\mathrm{s}$, $T(16)=770\\,\\mathrm{s}$, $T(32)=420\\,\\mathrm{s}$, $T(64)=240\\,\\mathrm{s}$.\n- With DLB: $T(8)=1300\\,\\mathrm{s}$, $T(16)=660\\,\\mathrm{s}$, $T(32)=345\\,\\mathrm{s}$, $T(64)=195\\,\\mathrm{s}$.\n\nStarting from the fundamental definitions of parallel speedup $S(P)$ and strong-scaling efficiency $E(P)$, compute for each listed $P$ the efficiencies with and without DLB. Define the improvement factor at each $P$ as $I(P) = \\frac{E_{\\mathrm{DLB}}(P)}{E_{\\mathrm{no\\ DLB}}(P)}$. Finally, report as your answer the geometric mean improvement factor over the set $\\{8,16,32,64\\}$, expressed as a single simplified exact analytic expression (no rounding). The answer is dimensionless; do not include any units.",
            "solution": "The problem requires the computation of the geometric mean of an improvement factor related to parallel computing efficiency. We begin by stating the fundamental definitions.\n\nThe strong-scaling parallel speedup $S(P)$ on $P$ processes is defined as the ratio of the wall-clock time on a single process, $T(1)$, to the wall-clock time on $P$ processes, $T(P)$.\n$$S(P) = \\frac{T(1)}{T(P)}$$\nThe corresponding strong-scaling efficiency $E(P)$ is the speedup per process.\n$$E(P) = \\frac{S(P)}{P} = \\frac{T(1)}{P \\cdot T(P)}$$\nThe problem considers two configurations: one without dynamic load balancing (DLB), denoted by the subscript 'no DLB', and one with DLB, denoted by the subscript 'DLB'. The single-process time is given as $T(1) = 10240\\,\\mathrm{s}$ and is common to both configurations.\n\nThe efficiency for each configuration is given by:\n$$E_{\\mathrm{no\\ DLB}}(P) = \\frac{T(1)}{P \\cdot T_{\\mathrm{no\\ DLB}}(P)}$$\n$$E_{\\mathrm{DLB}}(P) = \\frac{T(1)}{P \\cdot T_{\\mathrm{DLB}}(P)}$$\n\nThe improvement factor $I(P)$ at a given process count $P$ is defined as the ratio of the efficiency with DLB to the efficiency without DLB.\n$$I(P) = \\frac{E_{\\mathrm{DLB}}(P)}{E_{\\mathrm{no\\ DLB}}(P)}$$\nSubstituting the expressions for efficiency, we find that the improvement factor simplifies to a ratio of the wall-clock times:\n$$I(P) = \\frac{\\frac{T(1)}{P \\cdot T_{\\mathrm{DLB}}(P)}}{\\frac{T(1)}{P \\cdot T_{\\mathrm{no\\ DLB}}(P)}} = \\frac{T(1)}{P \\cdot T_{\\mathrm{DLB}}(P)} \\cdot \\frac{P \\cdot T_{\\mathrm{no\\ DLB}}(P)}{T(1)} = \\frac{T_{\\mathrm{no\\ DLB}}(P)}{T_{\\mathrm{DLB}}(P)}$$\nThis simplification obviates the need to use $T(1)$ in the intermediate calculations.\n\nWe now compute the improvement factor $I(P)$ for each of the specified process counts $P \\in \\{8, 16, 32, 64\\}$ using the provided time measurements.\n\nFor $P=8$:\n$T_{\\mathrm{no\\ DLB}}(8) = 1375\\,\\mathrm{s}$ and $T_{\\mathrm{DLB}}(8) = 1300\\,\\mathrm{s}$.\n$$I(8) = \\frac{1375}{1300} = \\frac{55 \\times 25}{52 \\times 25} = \\frac{55}{52}$$\n\nFor $P=16$:\n$T_{\\mathrm{no\\ DLB}}(16) = 770\\,\\mathrm{s}$ and $T_{\\mathrm{DLB}}(16) = 660\\,\\mathrm{s}$.\n$$I(16) = \\frac{770}{660} = \\frac{77 \\times 10}{66 \\times 10} = \\frac{7 \\times 11}{6 \\times 11} = \\frac{7}{6}$$\n\nFor $P=32$:\n$T_{\\mathrm{no\\ DLB}}(32) = 420\\,\\mathrm{s}$ and $T_{\\mathrm{DLB}}(32) = 345\\,\\mathrm{s}$.\n$$I(32) = \\frac{420}{345} = \\frac{28 \\times 15}{23 \\times 15} = \\frac{28}{23}$$\n\nFor $P=64$:\n$T_{\\mathrm{no\\ DLB}}(64) = 240\\,\\mathrm{s}$ and $T_{\\mathrm{DLB}}(64) = 195\\,\\mathrm{s}$.\n$$I(64) = \\frac{240}{195} = \\frac{16 \\times 15}{13 \\times 15} = \\frac{16}{13}$$\n\nThe final step is to compute the geometric mean, $G$, of these four improvement factors. The geometric mean of $n$ numbers is the $n$-th root of their product. Here, $n=4$.\n$$G = \\left( I(8) \\cdot I(16) \\cdot I(32) \\cdot I(64) \\right)^{\\frac{1}{4}}$$\nSubstituting the simplified fractional values:\n$$G = \\left( \\frac{55}{52} \\cdot \\frac{7}{6} \\cdot \\frac{28}{23} \\cdot \\frac{16}{13} \\right)^{\\frac{1}{4}}$$\nTo simplify the product within the parenthesis, we express the terms using their factors and cancel where possible.\n$$G = \\left( \\frac{55 \\cdot 7 \\cdot 28 \\cdot 16}{52 \\cdot 6 \\cdot 23 \\cdot 13} \\right)^{\\frac{1}{4}}$$\n$$G = \\left( \\frac{(5 \\cdot 11) \\cdot 7 \\cdot (4 \\cdot 7) \\cdot 16}{(4 \\cdot 13) \\cdot (2 \\cdot 3) \\cdot 23 \\cdot 13} \\right)^{\\frac{1}{4}}$$\nCancel the common factor of $4$ in the numerator and denominator:\n$$G = \\left( \\frac{5 \\cdot 11 \\cdot 7^2 \\cdot 16}{13 \\cdot (2 \\cdot 3) \\cdot 23 \\cdot 13} \\right)^{\\frac{1}{4}}$$\nCancel the common factor of $2$ from $16$ in the numerator and $6$ in the denominator:\n$$G = \\left( \\frac{5 \\cdot 11 \\cdot 7^2 \\cdot 8}{13^2 \\cdot 3 \\cdot 23} \\right)^{\\frac{1}{4}}$$\nNow, we compute the numerator and the denominator of the resulting fraction:\nNumerator $= 5 \\cdot 11 \\cdot 7^2 \\cdot 8 = 55 \\cdot 49 \\cdot 8 = 2695 \\cdot 8 = 21560$.\nDenominator $= 13^2 \\cdot 3 \\cdot 23 = 169 \\cdot 3 \\cdot 23 = 507 \\cdot 23 = 11661$.\n\nThus, the geometric mean is:\n$$G = \\left( \\frac{21560}{11661} \\right)^{\\frac{1}{4}}$$\nThe prime factorization of the numerator is $2^3 \\cdot 5 \\cdot 7^2 \\cdot 11$, and for the denominator is $3 \\cdot 13^2 \\cdot 23$. Since none of the exponents of the prime factors in the simplified fraction are multiples of $4$, the expression cannot be simplified further. This is the final simplified exact analytic expression.",
            "answer": "$$\\boxed{\\left(\\frac{21560}{11661}\\right)^{\\frac{1}{4}}}$$"
        },
        {
            "introduction": "Advanced load balancing strategies can move beyond reacting to current imbalances and instead predict future workload distributions. This is particularly effective when the underlying physics provides a model for how computational hotspots evolve over time. In this problem, you will use the advection–diffusion equation, a fundamental model for heat and mass transport, to derive the trajectory of a moving thermal hotspot . This allows you to develop a proactive rebalancing plan, bridging the gap between physical modeling and intelligent algorithm design for parallel solvers.",
            "id": "3949329",
            "problem": "A one-dimensional parallel thermal solver must dynamically rebalance computational work as a moving thermal hotspot traverses partitions along the spatial coordinate $x$. The thermal field $T(x,t)$ evolves according to the advection–diffusion equation\n$$\n\\frac{\\partial T}{\\partial t} + \\frac{\\partial}{\\partial x}\\big(u(x)\\,T\\big) = \\alpha\\,\\frac{\\partial^{2}T}{\\partial x^{2}},\n$$\nwhere $\\alpha>0$ is the thermal diffusivity and the advection velocity field is $u(x) = u_{0} + \\beta x$, with constants $u_{0} \\in \\mathbb{R}$ and $\\beta \\in \\mathbb{R}$. The initial thermal hotspot is a Gaussian\n$$\nT(x,0) = A\\,\\exp\\!\\left(-\\frac{(x-x_{0})^{2}}{2\\,\\sigma_{0}^{2}}\\right),\n$$\nwith amplitude $A>0$, center $x_{0}\\in\\mathbb{R}$, and width $\\sigma_{0}>0$. Assume the computational domain is sufficiently large that boundary contributions vanish for all moment integrals used, and there are no external sources other than those implicit in the advection–diffusion model.\n\nDynamic Load Balancing (DLB) for this solver pre-positions compute capacity to the next partition before the hotspot arrives. Let $x=L_{b}$ be the coordinate of the upcoming partition boundary to which capacity must be migrated. The migration incurs an overhead represented by a fixed lead time $\\tau_{m}>0$, meaning capacity must be available $\\tau_{m}$ time units before the hotspot centroid reaches $x=L_{b}$.\n\nStarting from conservation of thermal energy and the advection–diffusion dynamics, derive the ordinary differential equation governing the hotspot centroid $x_{h}(t)$ defined by\n$$\nx_{h}(t) = \\frac{\\int_{-\\infty}^{\\infty} x\\,T(x,t)\\,dx}{\\int_{-\\infty}^{\\infty} T(x,t)\\,dx}.\n$$\nSolve this ordinary differential equation to obtain an explicit trajectory $x_{h}(t)$ that is consistent with the advection–diffusion model. Then, using this trajectory, determine the exact analytic expression for the pre-positioning time $T_{\\text{prep}}$ at which capacity must be migrated so that it is available $\\tau_{m}$ time units before the hotspot centroid reaches $x=L_{b}$.\n\nAssume $\\beta \\neq 0$ and that parameters are such that the centroid crosses $x=L_{b}$ at a finite time. Provide your final answer as a single closed-form expression for $T_{\\text{prep}}$ in terms of $u_{0}$, $\\beta$, $x_{0}$, $L_{b}$, and $\\tau_{m}$. No numerical rounding is required. Do not include units in your final answer.",
            "solution": "The problem is valid. It is a well-posed problem in mathematical physics, grounded in the established principles of transport phenomena (advection-diffusion) and directly applicable to computational engineering (dynamic load balancing). All terms are clearly defined, and the premises are scientifically sound.\n\nThe solution proceeds in three main stages: first, we derive the ordinary differential equation (ODE) for the motion of the hotspot centroid $x_{h}(t)$; second, we solve this ODE to find the explicit trajectory $x_{h}(t)$; and third, we use this trajectory to calculate the required pre-positioning time $T_{\\text{prep}}$.\n\nThe governing advection-diffusion equation for the thermal field $T(x,t)$ is given by:\n$$\n\\frac{\\partial T}{\\partial t} + \\frac{\\partial}{\\partial x}\\big(u(x)\\,T\\big) = \\alpha\\,\\frac{\\partial^{2}T}{\\partial x^{2}}\n$$\nwhere $u(x) = u_{0} + \\beta x$. We can rewrite the equation as:\n$$\n\\frac{\\partial T}{\\partial t} = -\\frac{\\partial}{\\partial x}\\big((u_{0} + \\beta x)T\\big) + \\alpha\\,\\frac{\\partial^{2}T}{\\partial x^{2}}\n$$\nThe hotspot centroid $x_{h}(t)$ is defined as the ratio of the first moment of the thermal distribution to its zeroth moment:\n$$\nx_{h}(t) = \\frac{M_{1}(t)}{M_{0}(t)} = \\frac{\\int_{-\\infty}^{\\infty} x\\,T(x,t)\\,dx}{\\int_{-\\infty}^{\\infty} T(x,t)\\,dx}\n$$\nTo find the ODE for $x_{h}(t)$, we first determine the time evolution of the moments $M_{0}(t)$ and $M_{1}(t)$.\n\nThe zeroth moment, $M_{0}(t)$, represents the total thermal energy. Its time derivative is:\n$$\n\\frac{dM_{0}}{dt} = \\frac{d}{dt}\\int_{-\\infty}^{\\infty} T(x,t)\\,dx = \\int_{-\\infty}^{\\infty} \\frac{\\partial T}{\\partial t}\\,dx\n$$\nSubstituting the advection-diffusion equation:\n$$\n\\frac{dM_{0}}{dt} = \\int_{-\\infty}^{\\infty} \\left[ -\\frac{\\partial}{\\partial x}\\big(u(x)T\\big) + \\alpha\\,\\frac{\\partial^{2}T}{\\partial x^{2}} \\right] dx\n$$\nBy the fundamental theorem of calculus, this integrates to:\n$$\n\\frac{dM_{0}}{dt} = \\left[ -u(x)T(x,t) + \\alpha\\,\\frac{\\partial T}{\\partial x} \\right]_{-\\infty}^{\\infty}\n$$\nThe problem states that boundary contributions vanish, which implies $T(x,t)$ and its spatial derivatives go to $0$ as $x \\to \\pm\\infty$. Therefore, the term on the right is zero.\n$$\n\\frac{dM_{0}}{dt} = 0\n$$\nThis signifies that the total thermal energy $M_{0}$ is conserved, so $M_{0}(t)$ is a constant.\n\nThe first moment, $M_{1}(t)$, is:\n$$\n\\frac{dM_{1}}{dt} = \\frac{d}{dt}\\int_{-\\infty}^{\\infty} x\\,T(x,t)\\,dx = \\int_{-\\infty}^{\\infty} x\\,\\frac{\\partial T}{\\partial t}\\,dx\n$$\nSubstituting the governing equation:\n$$\n\\frac{dM_{1}}{dt} = \\int_{-\\infty}^{\\infty} x \\left[ -\\frac{\\partial}{\\partial x}\\big(u(x)T\\big) + \\alpha\\,\\frac{\\partial^{2}T}{\\partial x^{2}} \\right] dx\n$$\nWe evaluate the two terms in the integral separately using integration by parts. For the advection term:\n$$\n\\int_{-\\infty}^{\\infty} -x \\frac{\\partial}{\\partial x}\\big(u(x)T\\big) dx = \\left[ -x u(x) T \\right]_{-\\infty}^{\\infty} - \\int_{-\\infty}^{\\infty} (1) \\cdot \\big(-u(x)T\\big) dx = 0 + \\int_{-\\infty}^{\\infty} u(x)T dx\n$$\nThe boundary term vanishes. Substituting $u(x) = u_{0} + \\beta x$:\n$$\n\\int_{-\\infty}^{\\infty} (u_{0} + \\beta x)T dx = u_{0}\\int_{-\\infty}^{\\infty} T dx + \\beta\\int_{-\\infty}^{\\infty} xT dx = u_{0}M_{0}(t) + \\beta M_{1}(t)\n$$\nFor the diffusion term:\n$$\n\\int_{-\\infty}^{\\infty} \\alpha x \\frac{\\partial^{2}T}{\\partial x^{2}} dx = \\alpha \\left( \\left[ x \\frac{\\partial T}{\\partial x} \\right]_{-\\infty}^{\\infty} - \\int_{-\\infty}^{\\infty} (1) \\cdot \\frac{\\partial T}{\\partial x} dx \\right) = \\alpha \\left( 0 - \\left[ T \\right]_{-\\infty}^{\\infty} \\right) = 0\n$$\nBoth boundary terms vanish. Thus, the time derivative of the first moment is:\n$$\n\\frac{dM_{1}}{dt} = u_{0}M_{0}(t) + \\beta M_{1}(t)\n$$\nNow we can derive the ODE for $x_{h}(t) = M_{1}(t)/M_{0}(t)$. Using the quotient rule and the fact that $M_{0}(t)$ is a constant:\n$$\n\\frac{dx_{h}}{dt} = \\frac{M_{0}(t)\\frac{dM_{1}}{dt} - M_{1}(t)\\frac{dM_{0}}{dt}}{M_{0}(t)^{2}} = \\frac{1}{M_{0}(t)}\\frac{dM_{1}}{dt}\n$$\nSubstituting the expression for $\\frac{dM_{1}}{dt}$:\n$$\n\\frac{dx_{h}}{dt} = \\frac{1}{M_{0}(t)} \\left( u_{0}M_{0}(t) + \\beta M_{1}(t) \\right) = u_{0} + \\beta \\frac{M_{1}(t)}{M_{0}(t)}\n$$\nThis gives the ODE for the centroid's motion:\n$$\n\\frac{dx_{h}}{dt} = u_{0} + \\beta x_{h}\n$$\nThe initial condition $x_{h}(0)$ is the centroid of the initial Gaussian distribution $T(x,0) = A\\,\\exp\\!\\left(-\\frac{(x-x_{0})^{2}}{2\\,\\sigma_{0}^{2}}\\right)$. By symmetry, the centroid of this distribution is at $x_{0}$. So, $x_{h}(0) = x_{0}$.\n\nWe now solve this first-order linear inhomogeneous ODE:\n$$\n\\frac{dx_{h}}{dt} - \\beta x_{h} = u_{0}\n$$\nThe integrating factor is $I(t) = \\exp(\\int -\\beta dt) = \\exp(-\\beta t)$. Multiplying the ODE by $I(t)$:\n$$\ne^{-\\beta t}\\frac{dx_{h}}{dt} - \\beta e^{-\\beta t}x_{h} = u_{0}e^{-\\beta t}\n$$\nThe left side is the derivative of a product:\n$$\n\\frac{d}{dt}\\left( x_{h} e^{-\\beta t} \\right) = u_{0}e^{-\\beta t}\n$$\nIntegrating with respect to $t$:\n$$\nx_{h}(t)e^{-\\beta t} = \\int u_{0}e^{-\\beta t} dt = -\\frac{u_{0}}{\\beta}e^{-\\beta t} + C\n$$\nwhere $C$ is the constant of integration. Solving for $x_{h}(t)$:\n$$\nx_{h}(t) = -\\frac{u_{0}}{\\beta} + C e^{\\beta t}\n$$\nWe apply the initial condition $x_{h}(0) = x_{0}$ to find $C$:\n$$\nx_{0} = -\\frac{u_{0}}{\\beta} + C e^{0} \\implies C = x_{0} + \\frac{u_{0}}{\\beta}\n$$\nSubstituting $C$ back, the explicit trajectory of the hotspot centroid is:\n$$\nx_{h}(t) = -\\frac{u_{0}}{\\beta} + \\left(x_{0} + \\frac{u_{0}}{\\beta}\\right) e^{\\beta t}\n$$\nThe final step is to find the pre-positioning time $T_{\\text{prep}}$. We first find the time $t_{\\text{cross}}$ at which the centroid reaches the partition boundary $x=L_{b}$ by setting $x_{h}(t_{\\text{cross}}) = L_{b}$:\n$$\nL_{b} = -\\frac{u_{0}}{\\beta} + \\left(x_{0} + \\frac{u_{0}}{\\beta}\\right) e^{\\beta t_{\\text{cross}}}\n$$\nSolving for $t_{\\text{cross}}$:\n$$\nL_{b} + \\frac{u_{0}}{\\beta} = \\left(x_{0} + \\frac{u_{0}}{\\beta}\\right) e^{\\beta t_{\\text{cross}}}\n$$\n$$\ne^{\\beta t_{\\text{cross}}} = \\frac{L_{b} + u_{0}/\\beta}{x_{0} + u_{0}/\\beta} = \\frac{u_{0} + \\beta L_{b}}{u_{0} + \\beta x_{0}}\n$$\nTaking the natural logarithm and dividing by $\\beta$ (since $\\beta \\neq 0$):\n$$\nt_{\\text{cross}} = \\frac{1}{\\beta} \\ln\\left(\\frac{u_{0} + \\beta L_{b}}{u_{0} + \\beta x_{0}}\\right)\n$$\nThe problem states that capacity must be available at a time $\\tau_{m}$ before the centroid reaches $L_{b}$. The pre-positioning time $T_{\\text{prep}}$ is this time instant.\n$$\nT_{\\text{prep}} = t_{\\text{cross}} - \\tau_{m}\n$$\nSubstituting the expression for $t_{\\text{cross}}$ yields the final answer:\n$$\nT_{\\text{prep}} = \\frac{1}{\\beta} \\ln\\left(\\frac{u_{0} + \\beta L_{b}}{u_{0} + \\beta x_{0}}\\right) - \\tau_{m}\n$$\nThis expression gives the time at which the resource migration must be initiated to complete by the required lead time.",
            "answer": "$$\n\\boxed{\\frac{1}{\\beta} \\ln\\left(\\frac{u_{0} + \\beta L_{b}}{u_{0} + \\beta x_{0}}\\right) - \\tau_{m}}\n$$"
        }
    ]
}