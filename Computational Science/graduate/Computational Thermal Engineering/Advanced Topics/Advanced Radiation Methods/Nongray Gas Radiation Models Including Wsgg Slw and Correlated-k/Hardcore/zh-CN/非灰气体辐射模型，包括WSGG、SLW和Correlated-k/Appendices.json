{
    "hands_on_practices": [
        {
            "introduction": "为了准确模拟非灰气体辐射，我们必须首先理解其光谱吸收系数 $k_{\\tilde{\\nu}}$ 是如何随热力学状态（如压力和温度）变化的。本练习旨在通过一个具体的计算，阐明压力展宽（或碰撞展宽）对单一吸收谱线光学厚度的影响。通过这个实践，你将亲手量化这一关键物理效应，为后续更复杂的模型学习奠定基础。",
            "id": "3976092",
            "problem": "一块等温、均匀的非灰吸收性气体混合物平板包含一条以波数 $\\tilde{\\nu}_{0}$ 为中心的主要水蒸气吸收谱线。考虑波数为 $\\tilde{\\nu} = \\tilde{\\nu}_{0} + \\Delta \\tilde{\\nu}$ 且偏移量为 $\\Delta \\tilde{\\nu} = 0.200\\,\\mathrm{cm^{-1}}$ 的辐射。对于此跃迁，在温度 $T$ 下的谱线强度为 $S(T) = 1.00 \\times 10^{-20}\\,\\mathrm{cm\\,molecule^{-1}}$，谱线形状为洛伦兹型，其半峰半宽（HWHM）$\\gamma_{L}(P)$ 在固定温度 $T$ 下与总压 $P$ 成线性关系。在 $T = 1200\\,\\mathrm{K}$ 和 $P_{\\mathrm{ref}} = 1.000\\,\\mathrm{atm}$ 时，空气加宽的半峰半宽为 $\\gamma_{\\mathrm{ref}} = 0.080\\,\\mathrm{cm^{-1}}$，因此 $\\gamma_{L}(P) = \\gamma_{\\mathrm{ref}} \\left(P/P_{\\mathrm{ref}}\\right)$。在波数域中，洛伦兹谱线形状定义为\n$$\n\\phi\\!\\left(\\tilde{\\nu}; \\tilde{\\nu}_{0}, \\gamma_{L}\\right) = \\frac{1}{\\pi}\\,\\frac{\\gamma_{L}}{(\\tilde{\\nu}-\\tilde{\\nu}_{0})^{2}+\\gamma_{L}^{2}},\n$$\n该式满足 $\\int_{-\\infty}^{\\infty}\\phi\\,\\mathrm{d}\\tilde{\\nu} = 1$。光谱吸收系数由下式给出\n$$\n\\kappa_{\\tilde{\\nu}} = n_{a}\\,S(T)\\,\\phi\\!\\left(\\tilde{\\nu}; \\tilde{\\nu}_{0}, \\gamma_{L}\\right),\n$$\n其中 $n_{a}$ 是吸收物种的数密度。该气体混合物的吸收物种摩尔分数为 $y_{a} = 0.100$，温度均匀为 $T = 1200\\,\\mathrm{K}$，且遵循理想气体定律，因此 $n_{a} = y_{a}\\,P/(k_{B}T)$，其中玻尔兹曼常数 $k_{B} = 1.380\\,649 \\times 10^{-23}\\,\\mathrm{J\\,K^{-1}}$。平板的路径长度为 $L = 0.50\\,\\mathrm{m}$。假设该谱线在光谱上是孤立的，并且满足局部热力学平衡。\n\n使用以上定义，光谱光学厚度为 $\\tau_{\\tilde{\\nu}} = \\kappa_{\\tilde{\\nu}} L$。请计算在两个不同总压 $P_{1} = 0.200\\,\\mathrm{atm}$ 和 $P_{2} = 1.000\\,\\mathrm{atm}$ 下，对于相同的路径长度和组分，在 $\\Delta\\tilde{\\nu} = 0.200\\,\\mathrm{cm^{-1}}$ 处的比值\n$$\nR \\equiv \\frac{\\tau_{\\tilde{\\nu}}(P_{2})}{\\tau_{\\tilde{\\nu}}(P_{1})}\n$$\n使用 $1\\,\\mathrm{atm} = 101\\,325\\,\\mathrm{Pa}$ 和 $1\\,\\mathrm{m} = 100\\,\\mathrm{cm}$。将最终答案四舍五入至四位有效数字。将最终答案表示为一个纯数（无量纲）。",
            "solution": "题目要求计算在固定波数 $\\tilde{\\nu}$ 下，一块均匀气体平板在两个不同总压 $P_{1}$ 和 $P_{2}$ 下的光谱光学厚度之比 $R \\equiv \\tau_{\\tilde{\\nu}}(P_{2}) / \\tau_{\\tilde{\\nu}}(P_{1})$。温度 $T$、路径长度 $L$ 和吸收物种的摩尔分数 $y_{a}$ 保持不变。\n\n光谱光学厚度 $\\tau_{\\tilde{\\nu}}$ 定义为光谱吸收系数 $\\kappa_{\\tilde{\\nu}}$ 与路径长度 $L$ 的乘积：\n$$\n\\tau_{\\tilde{\\nu}} = \\kappa_{\\tilde{\\nu}} L\n$$\n因此，比值 $R$ 可以写为：\n$$\nR = \\frac{\\tau_{\\tilde{\\nu}}(P_{2})}{\\tau_{\\tilde{\\nu}}(P_{1})} = \\frac{\\kappa_{\\tilde{\\nu}}(P_{2}) L}{\\kappa_{\\tilde{\\nu}}(P_{1}) L}\n$$\n由于路径长度 $L$ 是常数，因此可以消去：\n$$\nR = \\frac{\\kappa_{\\tilde{\\nu}}(P_{2})}{\\kappa_{\\tilde{\\nu}}(P_{1})}\n$$\n光谱吸收系数 $\\kappa_{\\tilde{\\nu}}$ 由以下表达式给出：\n$$\n\\kappa_{\\tilde{\\nu}} = n_{a} S(T) \\phi(\\tilde{\\nu}; \\tilde{\\nu}_{0}, \\gamma_{L})\n$$\n其中 $n_{a}$ 是吸收物种的数密度，$S(T)$ 是与温度相关的谱线强度，$\\phi$ 是谱线形状函数。将此代入 $R$ 的表达式中：\n$$\nR = \\frac{n_{a}(P_{2}) S(T) \\phi(\\tilde{\\nu}; P_{2})}{n_{a}(P_{1}) S(T) \\phi(\\tilde{\\nu}; P_{1})}\n$$\n温度 $T$ 是恒定的（$T = 1200\\,\\mathrm{K}$），因此谱线强度 $S(T)$ 在两种压力下是相同的，可以消去：\n$$\nR = \\frac{n_{a}(P_{2})}{n_{a}(P_{1})} \\frac{\\phi(\\tilde{\\nu}; P_{2})}{\\phi(\\tilde{\\nu}; P_{1})}\n$$\n吸收物种的数密度 $n_{a}$ 由理想气体定律给出，$n_{a} = y_{a} P / (k_{B}T)$。由于摩尔分数 $y_{a}$、玻尔兹曼常数 $k_{B}$ 和温度 $T$ 都是常数，因此数密度的比值就是总压的比值：\n$$\n\\frac{n_{a}(P_{2})}{n_{a}(P_{1})} = \\frac{y_{a} P_{2} / (k_{B}T)}{y_{a} P_{1} / (k_{B}T)} = \\frac{P_{2}}{P_{1}}\n$$\n谱线形状函数是洛伦兹型，定义为：\n$$\n\\phi(\\tilde{\\nu}; \\tilde{\\nu}_{0}, \\gamma_{L}) = \\frac{1}{\\pi}\\,\\frac{\\gamma_{L}}{(\\tilde{\\nu}-\\tilde{\\nu}_{0})^{2}+\\gamma_{L}^{2}}\n$$\n谱线形状函数 $\\phi$ 通过半峰半宽（HWHM）$\\gamma_{L}$ 依赖于压力。设 $\\Delta\\tilde{\\nu} = \\tilde{\\nu} - \\tilde{\\nu}_{0}$ 为距离谱线中心的固定波数偏移。谱线形状函数的比值为：\n$$\n\\frac{\\phi(\\tilde{\\nu}; P_{2})}{\\phi(\\tilde{\\nu}; P_{1})} = \\frac{\\frac{1}{\\pi}\\,\\frac{\\gamma_{L}(P_{2})}{(\\Delta\\tilde{\\nu})^{2}+\\gamma_{L}(P_{2})^{2}}}{\\frac{1}{\\pi}\\,\\frac{\\gamma_{L}(P_{1})}{(\\Delta\\tilde{\\nu})^{2}+\\gamma_{L}(P_{1})^{2}}} = \\frac{\\gamma_{L}(P_{2})}{\\gamma_{L}(P_{1})} \\frac{(\\Delta\\tilde{\\nu})^{2}+\\gamma_{L}(P_{1})^{2}}{(\\Delta\\tilde{\\nu})^{2}+\\gamma_{L}(P_{2})^{2}}\n$$\n用于压力加宽的半峰半宽 $\\gamma_{L}$ 与压力成线性关系：$\\gamma_{L}(P) = \\gamma_{\\mathrm{ref}} (P/P_{\\mathrm{ref}})$。因此，其比值也与压力比成正比：\n$$\n\\frac{\\gamma_{L}(P_{2})}{\\gamma_{L}(P_{1})} = \\frac{\\gamma_{\\mathrm{ref}}(P_{2}/P_{\\mathrm{ref}})}{\\gamma_{\\mathrm{ref}}(P_{1}/P_{\\mathrm{ref}})} = \\frac{P_{2}}{P_{1}}\n$$\n将所有部分组合起来，$R$ 的表达式变为：\n$$\nR = \\left(\\frac{P_{2}}{P_{1}}\\right) \\left(\\frac{\\gamma_{L}(P_{2})}{\\gamma_{L}(P_{1})}\\right) \\left(\\frac{(\\Delta\\tilde{\\nu})^{2}+\\gamma_{L}(P_{1})^{2}}{(\\Delta\\tilde{\\nu})^{2}+\\gamma_{L}(P_{2})^{2}}\\right) = \\left(\\frac{P_{2}}{P_{1}}\\right) \\left(\\frac{P_{2}}{P_{1}}\\right) \\left(\\frac{(\\Delta\\tilde{\\nu})^{2}+\\gamma_{L}(P_1)^{2}}{(\\Delta\\tilde{\\nu})^{2}+\\gamma_{L}(P_2)^{2}}\\right)\n$$\n$$\nR = \\left(\\frac{P_{2}}{P_{1}}\\right)^{2} \\frac{(\\Delta\\tilde{\\nu})^{2}+\\gamma_{L}(P_{1})^{2}}{(\\Delta\\tilde{\\nu})^{2}+\\gamma_{L}(P_{2})^{2}}\n$$\n现在，我们代入给定的数值。\n压力为 $P_{1} = 0.200\\,\\mathrm{atm}$ 和 $P_{2} = 1.000\\,\\mathrm{atm}$。\n压力比为 $\\frac{P_{2}}{P_{1}} = \\frac{1.000}{0.200} = 5$。\n波数偏移为 $\\Delta\\tilde{\\nu} = 0.200\\,\\mathrm{cm^{-1}}$。\n参考半峰半宽为 $\\gamma_{\\mathrm{ref}} = 0.080\\,\\mathrm{cm^{-1}}$（在 $P_{\\mathrm{ref}} = 1.000\\,\\mathrm{atm}$ 时）。\n\n首先，计算压力为 $P_{1}$ 和 $P_{2}$ 时的半峰半宽：\n$$\n\\gamma_{L}(P_{1}) = \\gamma_{\\mathrm{ref}}\\left(\\frac{P_{1}}{P_{\\mathrm{ref}}}\\right) = (0.080\\,\\mathrm{cm^{-1}})\\left(\\frac{0.200\\,\\mathrm{atm}}{1.000\\,\\mathrm{atm}}\\right) = 0.016\\,\\mathrm{cm^{-1}}\n$$\n$$\n\\gamma_{L}(P_{2}) = \\gamma_{\\mathrm{ref}}\\left(\\frac{P_{2}}{P_{\\mathrm{ref}}}\\right) = (0.080\\,\\mathrm{cm^{-1}})\\left(\\frac{1.000\\,\\mathrm{atm}}{1.000\\,\\mathrm{atm}}\\right) = 0.080\\,\\mathrm{cm^{-1}}\n$$\n现在，将这些值代入 $R$ 的表达式中：\n$$\nR = (5)^{2} \\frac{(0.200\\,\\mathrm{cm^{-1}})^{2}+(0.016\\,\\mathrm{cm^{-1}})^{2}}{(0.200\\,\\mathrm{cm^{-1}})^{2}+(0.080\\,\\mathrm{cm^{-1}})^{2}}\n$$\n$$\nR = 25 \\frac{0.0400\\,\\mathrm{cm^{-2}} + 0.000256\\,\\mathrm{cm^{-2}}}{0.0400\\,\\mathrm{cm^{-2}} + 0.0064\\,\\mathrm{cm^{-2}}}\n$$\n$$\nR = 25 \\frac{0.040256\\,\\mathrm{cm^{-2}}}{0.0464\\,\\mathrm{cm^{-2}}}\n$$\n正如预期的那样，单位相互抵消。\n$$\nR = 25 \\times \\frac{0.040256}{0.0464} \\approx 25 \\times 0.8675861...\n$$\n$$\nR \\approx 21.68965...\n$$\n将结果四舍五入到四位有效数字，我们得到：\n$$\nR \\approx 21.69\n$$",
            "answer": "$$\\boxed{21.69}$$"
        },
        {
            "introduction": "真实气体（如水蒸气和二氧化碳）的光谱特性远非均匀，其在某些波数区域吸收强烈，而在另一些区域（称为“光谱窗”）则近乎透明。这个思想实验将引导你从第一性原理出发，论证为何简化的灰气体模型在处理这类具有光谱窗的介质时会产生巨大偏差。这个练习将帮助你建立对非灰模型（如WSGG）必要性的深刻直观理解。",
            "id": "3976147",
            "problem": "一个无散射的等温水蒸气半无限空间占据 $x>0$ 的区域，其温度均匀为 $T_g$。该空间在 $x=0$ 处与一个温度为 $T_w$ 的绝对黑体等温壁面相接，且 $T_g>T_w$。该气体处于局部热力学平衡状态，具有一个强非灰的光谱吸收系数 $k_\\lambda$，其特点是在大部分光谱范围内吸收非常强，但存在狭窄的光谱窗口，在这些窗口中 $k_\\lambda\\approx 0$。设想一个思想实验，该实验能清晰地分离出这些光谱窗口对壁面净辐射热通量的影响。\n\n从积分-微分形式的辐射传输方程和 Kirchhoff 定律出发，基于第一性原理，在以下理想化模型中推导从气体入射到壁面上的光谱强度的极限行为：将光谱分为两个不相交的集合，一个参与辐射集 $\\mathcal{B}$（其中 $k_\\lambda$ 足够大，以至于沿壁面法线方向的光学厚度实际上为无穷大），以及一个窗口集 $\\mathcal{W}$（其中 $k_\\lambda\\approx 0$）。设 $\\phi_g$ 表示在温度 $T_g$ 下，气体在 $\\mathcal{W}$ 范围内的普朗克加权的部分发射功率，即气体黑体光谱中落在窗口区域的分数。可以假设壁面是漫射的，并且辐射场具有方位角对称性。\n\n在 Weighted-Sum-of-Gray-Gases (WSGG)、Spectral Line-Based Weighted-Sum-of-Gray-Gases (SLW) 和 correlated-$k$ 分布 (correlated-$k$) 模型族中，哪个选项正确地构建了一个在此半无限空间几何结构中的思想实验，该实验能够证明为什么水蒸气中的狭窄光谱窗口会导致灰气体模型和非灰气体模型对壁面热通量预测值之间产生巨大差异，并能正确地指出哪种非灰气体模型能用最少的模型组件在这种极限情况下捕捉到这种效应？\n\nA. 将一个黑体壁面置于 $x=0$ 处，与温度为 $T_g$ 的等温水蒸气半无限空间接触。在 $\\mathcal{B}$ 区域吸收极强且在 $\\mathcal{W}$ 区域吸收可忽略的极限情况下，从气体入射到壁面的光谱强度在 $\\mathcal{B}$ 区域等于温度为 $T_g$ 的黑体强度，而在 $\\mathcal{W}$ 区域则可忽略不计。因此，一个将半无限空间在所有波长下都视为光学极厚的灰气体模型，会预测出一个与完整黑体辐射温差成正比的壁面净热通量；而物理上正确的非灰气体模型结果则会根据温度为 $T_g$ 时的普朗克加权窗口分数成比例地减小。一个带有显式非参与（透明气体）权重的 WSGG 模型，能够以最少的组件在半无限极限下再现这种减小效应。\n\nB. 使用相同的半无限空间，但将其推向光学极厚的极限，使得介质无论其光谱如何都表现得像一个黑体；在此极限下，灰气体和非灰气体模型对壁面热通量的预测会重合，因此光谱窗口不影响壁面热通量，所有三种模型族都会自动达成一致。\n\nC. 为了最大化灰气体与非灰气体模型预测的差异，应提高压力以加宽光谱线并缩小光谱窗口；这将增加灰气体和非灰气体预测之间的不匹配，甚至 correlated-$k$ 模型除非使用非常精细的求积方法，否则也会失效。\n\nD. 用含有狭窄窗口的水蒸气填充一个对称空腔，并保持两个平行的黑体壁面处于相同温度；由于其平均化处理，灰气体模型会预测出非零的净热通量，而非灰气体模型的预测值为零，从而暴露出灰气体模型在等温封闭空腔中倾向于过高预测的偏差。\n\n选择唯一的最佳选项。",
            "solution": "用户希望我验证问题陈述的有效性，如果有效，则基于第一性原理提供详细的解决方案，然后对每个选项进行评估。\n\n### 问题验证\n\n**第一步：提取已知条件**\n\n*   **几何结构：** 一个占据 $x > 0$ 区域的无散射、等温水蒸气半无限空间。\n*   **边界：** 位于 $x=0$ 平面的一个绝对黑体（$\\epsilon_w=1$）、温度为 $T_w$ 的等温壁面。\n*   **气体状态：** 气体处于均匀温度 $T_g$，并处于局部热力学平衡（LTE）状态。\n*   **温度条件：** $T_g > T_w$。\n*   **气体辐射特性：** 气体具有一个强非灰的光谱吸收系数 $k_\\lambda$。\n*   **理想化光谱：** 光谱被分为两个不相交的集合：\n    1.  一个参与辐射集 $\\mathcal{B}$，其中 $k_\\lambda$ 足够大，以至于沿壁面法线方向的光学厚度实际上为无穷大。\n    2.  一个窗口集 $\\mathcal{W}$，其中 $k_\\lambda \\approx 0$。\n*   **定义量：** $\\phi_g$ 是在温度 $T_g$ 下，气体在窗口集 $\\mathcal{W}$ 内的普朗克加权的部分发射功率。\n*   **假设：** 壁面是漫射的（尽管对于黑体壁面这是固有的），并且辐射场具有方位角对称性。\n*   **控制方程：** 分析应从积分-微分形式的辐射传输方程（RTE）和 Kirchhoff 定律开始。\n*   **问题：** 目标是确定哪个选项正确地构建了一个思想实验，该实验证明了灰气体与非灰气体模型在壁面热通量预测上的巨大差异，并指出了哪种非灰气体模型族（WSGG、SLW、correlated-$k$）能以最少的组件捕捉到这种效应。\n\n**第二步：使用提取的已知条件进行验证**\n\n*   **科学基础：** 该问题牢固地植根于参与介质中辐射传热的基本原理。其设置（与壁面相邻的半无限介质）、属性（非灰吸收、LTE）以及控制方程（RTE、Kirchhoff 定律）都是该领域的标准内容。水蒸气中存在光谱窗口的概念是一个公认的物理现实。\n*   **良态性：** 问题是良态的。几何结构、边界条件和材料特性都已充分定义，可以得出一个关于辐射热通量的唯一概念解。问题具体且可回答。\n*   **客观性：** 语言技术性强、精确且无主观性。\n\n检查无效性缺陷：\n1.  **科学或事实不健全：** 无。所描述的物理学是正确的。\n2.  **非形式化或不相关：** 无。该问题是热工领域一个经典、可形式化的问题，与指定的非灰气体辐射模型主题直接相关。\n3.  **不完整或矛盾的设置：** 无。将光谱理想化为两个谱带是概念分析中一种标准且有效的方法。条件是自洽的。\n4.  **不切实际或不可行：** 无。半无限介质是一种常用且有用的理想化。光谱行为是对真实分子气体的简化但具有代表性的模型。\n5.  **病态或结构不良：** 无。问题结构导向一个清晰而有意义的结论。\n6.  **伪深刻、琐碎或同义反复：** 无。该问题探讨了非灰辐射中的一个关键、非琐碎的概念：透明光谱窗口对总热传递的巨大影响，尤其是在光学厚系统中。\n7.  **超出科学可验证性范围：** 无。结论可以从 RTE 中严格推导出来。\n\n**第三步：结论与行动**\n\n问题陈述**有效**。继续进行求解。\n\n### 从第一性原理推导\n\n对于一维无散射介质，沿路径 $s$ 的辐射传输方程 (RTE) 为：\n$$ \\frac{dI_\\lambda}{ds} = k_\\lambda (I_{b\\lambda}(T) - I_\\lambda) $$\n其中 $I_\\lambda$ 是光谱强度，$k_\\lambda$ 是光谱吸收系数，$I_{b\\lambda}(T)$ 是普朗克黑体光谱强度。\n\n我们需要从气体半无限空间（$x>0$）入射到 $x=0$ 处壁面上的光谱强度。气体是等温的，温度为 $T_g$。对于一条始于 $s' \\to \\infty$ 并终于壁面 $s=0$ 的射线路径，入射光谱强度 $I_{\\lambda, \\text{inc,gas}}$ 的 RTE 解为：\n$$ I_{\\lambda, \\text{inc,gas}} = \\int_0^\\infty I_{b\\lambda}(T_g) k_\\lambda e^{-k_\\lambda s'} ds' $$\n由于 $I_{b\\lambda}(T_g)$ 在空间上是常数，可以将其移出积分：\n$$ I_{\\lambda, \\text{inc,gas}} = I_{b\\lambda}(T_g) \\int_0^\\infty k_\\lambda e^{-k_\\lambda s'} ds' = I_{b\\lambda}(T_g) (1 - e^{-k_\\lambda L}) $$\n其中 $L \\to \\infty$ 是半无限介质的路径长度。\n\n现在，我们应用双谱带模型：\n1.  **对于参与辐射集中的波长，$\\lambda \\in \\mathcal{B}$：** 已知 $k_\\lambda$ 非常大，意味着光学厚度实际上为无穷大。因此，当 $L \\to \\infty$ 时，$k_\\lambda L \\to \\infty$。入射强度变为：\n    $$ I_{\\lambda, \\text{inc,gas}} = I_{b\\lambda}(T_g) (1 - e^{-\\infty}) = I_{b\\lambda}(T_g) \\quad \\text{for } \\lambda \\in \\mathcal{B} $$\n    物理上，一个观察者看向一个光学厚的等温介质，会看到该介质温度下的黑体辐射。\n\n2.  **对于窗口集中的波长，$\\lambda \\in \\mathcal{W}$：** 已知 $k_\\lambda \\approx 0$。在此极限下：\n    $$ I_{\\lambda, \\text{inc,gas}} = I_{b\\lambda}(T_g) (1 - e^{-0 \\cdot L}) = 0 \\quad \\text{for } \\lambda \\in \\mathcal{W} $$\n    物理上，一个透明介质不发射辐射。来自“无穷远处”的强度为零。\n\n入射到壁面上的总辐射热通量是通过对所有波长的光谱通量 $\\pi I_{\\lambda, \\text{inc,gas}}$ 进行积分得到的：\n$$ q_{in,w} = \\int_0^\\infty \\pi I_{\\lambda, \\text{inc,gas}} d\\lambda = \\int_{\\mathcal{B}} \\pi I_{b\\lambda}(T_g) d\\lambda + \\int_{\\mathcal{W}} (0) d\\lambda = \\int_{\\mathcal{B}} \\pi I_{b\\lambda}(T_g) d\\lambda $$\n量 $\\phi_g$ 是温度为 $T_g$ 时，总黑体功率中位于窗口区域 $\\mathcal{W}$ 的分数：\n$$ \\phi_g = \\frac{\\int_{\\mathcal{W}} \\pi I_{b\\lambda}(T_g) d\\lambda}{\\sigma T_g^4} $$\n因此，参与区域 $\\mathcal{B}$ 的功率分数为 $(1 - \\phi_g)$。入射通量可写作：\n$$ q_{in,w} = (1 - \\phi_g) \\sigma T_g^4 $$\n壁面是温度为 $T_w$ 的黑体，因此它发射的热通量为 $q_{out,w} = \\sigma T_w^4$，且不反射任何辐射。指向壁面的净辐射热通量为 $q'_{net,w} = q_{in,w} - q_{out,w}$。\n$$ q'_{net,w, \\text{nongray}} = (1 - \\phi_g) \\sigma T_g^4 - \\sigma T_w^4 $$\n这是理想化非灰气体模型的物理正确结果。\n\n**与灰气体模型的比较：**\n灰气体模型假设存在一个单一的、与波长无关的吸收系数 $k$。对于强吸收性气体，灰气体模型会使用一个大的 $k$ 值，使得半无限介质在整个光谱上都是光学厚的。在灰气体模型中，入射通量为：\n$$ q_{in,w, \\text{gray}} = \\epsilon_g \\sigma T_g^4_g $$\n其中半无限介质的发射率 $\\epsilon_g=1$。因此，$q_{in,w, \\text{gray}} = \\sigma T_g^4$。指向壁面的净热通量为：\n$$ q'_{net,w, \\text{gray}} = \\sigma T_g^4 - \\sigma T_w^4 = \\sigma (T_g^4 - T_w^4) $$\n\n灰气体预测与物理正确的非灰气体预测之间的差异在于灰气体模型过高预测了入射通量，其差额为 $\\phi_g \\sigma T_g^4$。这表明，即使是狭窄的光谱窗口，如果它们与气体温度下普朗克函数的重要部分重合，也可能导致巨大误差。\n\n**非灰气体模型的评估：**\n*   **Weighted-Sum-of-Gray-Gases (WSGG)：** 该模型将总发射率表示为 $\\epsilon_g = \\sum_i a_i (1 - e^{-k_i L})$，其中 $a_i$ 是随温度变化的权重，其和为1，而 $k_i$ 是灰气体吸收系数。理想化的光谱可以由一个双组分 WSGG 模型完美表示：\n    *   一个“透明”气体，其 $k_0 = 0$，权重为 $a_0 = \\phi_g$。\n    *   一个“黑体”气体，其 $k_1 \\to \\infty$，权重为 $a_1 = 1 - \\phi_g$。\n    对于半无限情况（$L \\to \\infty$），总发射率为 $\\epsilon_g = a_0(1-e^0) + a_1(1-e^{-\\infty}) = a_1 = 1 - \\phi_g$。入射通量为 $\\epsilon_g \\sigma T_g^4 = (1-\\phi_g)\\sigma T_g^4$，这正是精确结果。因此，一个包含透明气体组分的 WSGG 模型能以最少的组件（两个）捕捉此效应。\n\n*   **Correlated-$k$ 和 SLW：** 虽然一个两点求积的 correlated-$k$ 模型也能完美工作，但 WSGG 模型的结构，通过其对光谱区域的显式加权，为将光谱划分为谱带的物理理想化提供了最直接和概念上最简单的映射。SLW 是一种更复杂的公式，但也能成功。关键在于处理 $k=0$ 区域的能力，WSGG 通过一个显式的“透明”气体组分实现了这一点。\n\n### 逐项分析\n\n**A. 将一个黑体壁面置于 $x=0$ 处，与温度为 $T_g$ 的等温水蒸气半无限空间接触。在 $\\mathcal{B}$ 区域吸收极强且在 $\\mathcal{W}$ 区域吸收可忽略的极限情况下，从气体入射到壁面的光谱强度在 $\\mathcal{B}$ 区域等于温度为 $T_g$ 的黑体强度，而在 $\\mathcal{W}$ 区域则可忽略不计。因此，一个将半无限空间在所有波长下都视为光学极厚的灰气体模型，会预测出一个与完整黑体辐射温差成正比的壁面净热通量；而物理上正确的非灰气体模型结果则会根据温度为 $T_g$ 时的普朗克加权窗口分数成比例地减小。一个带有显式非参与（透明气体）权重的 WSGG 模型，能够以最少的组件在半无限极限下再现这种减小效应。**\n该选项正确描述了物理设置。其关于极限光谱强度（在 $\\mathcal{B}$ 中 $I_{\\lambda,inc} = I_{b\\lambda}(T_g)$，在 $\\mathcal{W}$ 中 $I_{\\lambda,inc} \\approx 0$）的陈述与推导完全一致。它正确地对比了灰气体模型的预测（$\\propto T_g^4 - T_w^4$）与非灰气体模型的结果，其中来自气体的入射辐射被因子 $(1-\\phi_g)$ 减少。最后，它正确地指出，一个带有透明气体组分的 WSGG 模型是捕捉这一特定物理现象的理想且最小化的模型。\n**结论：正确**\n\n**B. 使用相同的半无限空间，但将其推向光学极厚的极限，使得介质无论其光谱如何都表现得像一个黑体；在此极限下，灰气体和非灰气体模型对壁面热通量的预测会重合，因此光谱窗口不影响壁面热通量，所有三种模型族都会自动达成一致。**\n这个陈述根本上是错误的。就几何尺寸而言，半无限空间已经是最终的“光学极厚极限”。对于非灰气体，这并不会使介质表现得像黑体。光谱窗口（其中 $k_\\lambda \\approx 0$）无论几何路径长度多长都保持透明。问题的核心恰恰在于，光谱窗口在这一极限下*确实*会影响壁面热通量，导致灰气体和非灰气体模型的预测产生显著分歧。\n**结论：错误**\n\n**C. 为了最大化灰气体与非灰气体模型预测的差异，应提高压力以加宽光谱线并缩小光谱窗口；这将增加灰气体和非灰气体预测之间的不匹配，甚至 correlated-$k$ 模型除非使用非常精细的求积方法，否则也会失效。**\n这个陈述包含两个错误。首先，提高压力会导致压力展宽，这会使光谱线变宽并填充透明窗口。这使得气体光谱更接近灰体，从而*减小*而不是最大化灰气体和非灰气体模型之间的差异。当光谱结构高度复杂且有非常清晰的窗口时，差异才会最大化。其次，声称 correlated-$k$ 模型会失效是错误的；correlated-$k$ 模型特别适合解决此类问题，而理想化的双谱带光谱仅需两个求积点即可被捕捉。\n**结论：错误**\n\n**D. 用含有狭窄窗口的水蒸气填充一个对称空腔，并保持两个平行的黑体壁面处于相同温度；由于其平均化处理，灰气体模型会预测出非零的净热通量，而非灰气体模型的预测值为零，从而暴露出灰气体模型在等温封闭空腔中倾向于过高预测的偏差。**\n这是错误的。对于处于等温封闭环境中的任何系统（所有组件，包括气体和壁面，都处于相同温度），根据热力学第二定律，任何表面上的净热通量必须为零。这对灰气体和非灰气体都成立。一个正确应用的灰气体模型会预测壁面之间或指向壁面的净热通量为零。因此，这个提出的思想实验并不会在灰气体和非灰气体预测之间产生差异。\n**结论：错误**",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "在掌握了基本物理和概念之后，我们将理论付诸实践，通过编程实现并比较两种常用的工程辐射模型。本练习要求你为一个典型的炉膛环境计算壁面热流，分别使用加权灰气体总和（WSGG）模型和更简化的普朗克平均灰体模型。通过亲手实现和对比，你将直观地看到不同光谱平均方法对最终预测结果的定量影响，并体会模型保真度与简便性之间的权衡。",
            "id": "3976149",
            "problem": "您需要推导、实现并比较两种非灰气体辐射模型，用于预测在类似熔炉的条件下，从等温、均匀、非散射的参与性气体到黑体壁面的净辐射壁面热流密度。需要比较的两个模型是加权灰气体总和模型（WSGG）和普朗克平均灰体模型。您的最终程序必须为一组指定的测试用例计算所要求的量，并以规定的格式输出结果。\n\n从光谱解析的辐射传输描述以及基本的辐射定律和定义出发，包括发射-吸收、非散射介质的光谱辐射传输方程、黑体普朗克函数、光谱吸收系数和斯蒂芬-玻尔兹曼定律。在此基础上，使用平均束长近似，推导一个从温度为 $T_g$ 的均匀等温气体层到温度为 $T_w$ 的黑体壁面，在代表性路径长度 $L$ 上的净辐射壁面热流密度的表达式。您的结果表达式应能够使用以下方法进行评估：\n- 一种WSGG表示法，其中气体的光谱行为被近似为一组具有温度依赖权重的灰气体，以及\n- 一种普朗克平均灰体表示法，其中使用单一的灰体吸收系数。\n\n假设气体是水蒸气和二氧化碳的混合物，总压力均匀为 $P$，摩尔分数分别为 $y_{\\mathrm{H_2O}}$ 和 $y_{\\mathrm{CO_2}}$，并令总辐射活性摩尔分数为 $X = y_{\\mathrm{H_2O}} + y_{\\mathrm{CO_2}}$。假设在整个路径上性质均匀。\n\n对包含三种灰气体的WSGG模型使用以下参数化：\n- 有 $N = 3$ 种灰气体，索引为 $i = 1,2,3$。\n- 定义参考温度 $T_{\\mathrm{ref}} = 1200\\,\\mathrm{K}$ 和参考压力 $P_0 = 1\\,\\mathrm{atm}$。\n- 定义原始的温度依赖权重 $w_i(T_g) = w_{i0} \\left( \\dfrac{T_g}{T_{\\mathrm{ref}}} \\right)^{p_i}$，其基础权重和指数为：\n  - $w_{10} = 0.2$, $p_1 = 0.5$,\n  - $w_{20} = 0.3$, $p_2 = 0.0$,\n  - $w_{30} = 0.5$, $p_3 = -0.5$。\n- 将这些权重归一化以获得 $a_i(T_g) = \\dfrac{w_i(T_g)}{\\sum_{j=1}^{N} w_j(T_g)}$，使得 $\\sum_{i=1}^{N} a_i(T_g) = 1$。\n- 定义灰气体吸收系数 $k_i(T_g,P,X) = b_{i0} \\left( \\dfrac{T_{\\mathrm{ref}}}{T_g} \\right)^{n} X \\left( \\dfrac{P}{P_0} \\right)$，其基础系数和压力-温度指数为：\n  - $b_{10} = 0.1\\,\\mathrm{m^{-1}}$，\n  - $b_{20} = 1.0\\,\\mathrm{m^{-1}}$，\n  - $b_{30} = 10.0\\,\\mathrm{m^{-1}}$，\n  - $n = 0.5$。\n\n对于普朗克平均灰体模型，使用相同的温度依赖权重，通过WSGG灰气体系数的普朗克加权平均来定义单一的灰体吸收系数：\n- $k_P(T_g,P,X) = \\sum_{i=1}^{N} a_i(T_g)\\,k_i(T_g,P,X)$。\n\n使用精确的斯蒂芬-玻尔兹曼常数 $\\sigma = 5.670374419 \\times 10^{-8}\\,\\mathrm{W\\,m^{-2}\\,K^{-4}}$。压力 $P$ 必须使用 $\\mathrm{atm}$ 单位，温度 $T_g$ 和 $T_w$ 使用 $\\mathrm{K}$ 单位，路径长度 $L$ 使用 $\\mathrm{m}$ 单位。最终的净壁面热流密度必须以 $\\mathrm{W\\,m^{-2}}$ 表示。\n\n您的程序必须：\n1. 从基本描述出发，使用以下方法推导一个可计算的净辐射壁面热流密度表达式：\n   - 使用上述 $a_i(T_g)$ 和 $k_i(T_g,P,X)$ 的WSGG表示法，\n   - 使用 $k_P(T_g,P,X)$ 的普朗克平均灰体表示法。\n2. 实现这两个表达式，为每个测试用例计算：\n   - WSGG预测的净壁面热流密度 $q''_{\\mathrm{WSGG}}$，单位为 $\\mathrm{W\\,m^{-2}}$，\n   - 普朗克平均灰体模型预测的净壁面热流密度 $q''_{\\mathrm{PM}}$，单位为 $\\mathrm{W\\,m^{-2}}$，\n   - 相对误差，定义为 $\\left| q''_{\\mathrm{WSGG}} - q''_{\\mathrm{PM}} \\right| / \\max\\!\\left( \\left| q''_{\\mathrm{PM}} \\right|, \\varepsilon \\right)$，其中 $\\varepsilon = 10^{-12}\\,\\mathrm{W\\,m^{-2}}$ 以避免除以零。如果两种模型对某一用例预测的热流密度都恰好为零，则该用例的相对误差定义为 $0$。\n3. 使用以下参数集 $(T_g, T_w, P, L, y_{\\mathrm{H_2O}}, y_{\\mathrm{CO_2}})$ 的测试套件：\n   - 用例A（一般熔炉工况）：$(1800, 800, 1.0, 1.5, 0.10, 0.12)$，\n   - 用例B（光学薄极限）：$(1500, 300, 1.0, 0.05, 0.05, 0.03)$，\n   - 用例C（光学厚趋势）：$(2000, 300, 1.0, 5.0, 0.20, 0.10)$，\n   - 用例D（零驱动势边界）：$(1200, 1200, 1.0, 1.0, 0.15, 0.15)$。\n4. 输出格式：\n   - 对于每个用例，返回一个包含三个数字的列表：$q''_{\\mathrm{WSGG}}$（单位 $\\mathrm{W\\,m^{-2}}$），$q''_{\\mathrm{PM}}$（单位 $\\mathrm{W\\,m^{-2}}$），以及相对误差（无量纲）。\n   - 将 $q''_{\\mathrm{WSGG}}$ 和 $q''_{\\mathrm{PM}}$ 四舍五入到最接近的整数 $\\mathrm{W\\,m^{-2}}$。\n   - 将相对误差四舍五入到 $6$ 位小数。\n   - 您的程序应生成单行输出，包含所有用例的这些列表的列表，例如：$[[q_{\\mathrm{WSGG},A}, q_{\\mathrm{PM},A}, e_A], [q_{\\mathrm{WSGG},B}, q_{\\mathrm{PM},B}, e_B], \\dots]$。\n\n所有计算都必须遵守上述指定的物理单位。本问题不涉及角度。不要将任何量表示为百分比；将相对误差表示为小数。测试套件必须完全按照给定的方式处理，最终输出必须是遵循上述精确格式的单行。",
            "solution": "用户希望推导、实现并比较用于辐射传热的加权灰气体总和（WSGG）模型和普朗克平均灰体模型。\n\n### 第一步：提取已知条件\n\n**基本概念与方程：**\n- 发射-吸收、非散射介质的光谱辐射传输方程。\n- 黑体普朗克函数。\n- 光谱吸收系数。\n- 斯蒂芬-玻尔兹曼定律。\n- 目标：推导从温度为 $T_g$ 的等温气体到温度为 $T_w$ 的黑体壁面的净辐射壁面热流密度（$q''$）。\n- 几何：路径长度为 $L$ 的均匀等温气体层（平均束长近似）。\n\n**气体性质：**\n- $\\mathrm{H_2O}$ 和 $\\mathrm{CO_2}$ 的混合物，总压力为 $P$。\n- 摩尔分数：$y_{\\mathrm{H_2O}}$ 和 $y_{\\mathrm{CO_2}}$。\n- 总辐射活性摩尔分数：$X = y_{\\mathrm{H_2O}} + y_{\\mathrm{CO_2}}$。\n- 性质均匀。\n\n**WSGG 模型参数：**\n- 灰气体数量：$N=3$。\n- 参考温度：$T_{\\mathrm{ref}} = 1200\\,\\mathrm{K}$。\n- 参考压力：$P_0 = 1\\,\\mathrm{atm}$。\n- 原始的温度依赖权重：$w_i(T_g) = w_{i0} \\left( \\frac{T_g}{T_{\\mathrm{ref}}} \\right)^{p_i}$。\n_a_. 基础权重：$w_{10} = 0.2$, $w_{20} = 0.3$, $w_{30} = 0.5$。\n_b_. 指数：$p_1 = 0.5$, $p_2 = 0.0$, $p_3 = -0.5$。\n- 归一化权重：$a_i(T_g) = \\frac{w_i(T_g)}{\\sum_{j=1}^{N} w_j(T_g)}$。条件：$\\sum_{i=1}^{N} a_i(T_g) = 1$。\n- 灰气体吸收系数：$k_i(T_g,P,X) = b_{i0} \\left( \\frac{T_{\\mathrm{ref}}}{T_g} \\right)^{n} X \\left( \\frac{P}{P_0} \\right)$。\n_a_. 基础系数：$b_{10} = 0.1\\,\\mathrm{m^{-1}}$, $b_{20} = 1.0\\,\\mathrm{m^{-1}}$, $b_{30} = 10.0\\,\\mathrm{m^{-1}}$。\n_b_. 压力-温度指数：$n = 0.5$。\n\n**普朗克平均灰体模型：**\n- 单一灰体吸收系数：$k_P(T_g,P,X) = \\sum_{i=1}^{N} a_i(T_g)\\,k_i(T_g,P,X)$。\n\n**常数与单位：**\n- 斯蒂芬-玻尔兹曼常数：$\\sigma = 5.670374419 \\times 10^{-8}\\,\\mathrm{W\\,m^{-2}\\,K^{-4}}$。\n- 压力 $P$ 单位为 $\\mathrm{atm}$。\n- 温度 $T_g, T_w$ 单位为 $\\mathrm{K}$。\n- 路径长度 $L$ 单位为 $\\mathrm{m}$。\n- 热流密度 $q''$ 单位为 $\\mathrm{W\\,m^{-2}}$。\n\n**所需计算与输出：**\n1.  计算WSGG热流密度，$q''_{\\mathrm{WSGG}}$。\n2.  计算普朗克平均灰体热流密度，$q''_{\\mathrm{PM}}$。\n3.  计算相对误差：$\\left| q''_{\\mathrm{WSGG}} - q''_{\\mathrm{PM}} \\right| / \\max\\!\\left( \\left| q''_{\\mathrm{PM}} \\right|, \\varepsilon \\right)$，其中 $\\varepsilon = 10^{-12}\\,\\mathrm{W\\,m^{-2}}$。若两种热流密度均为零，则误差为 $0$。\n4.  将热流密度四舍五入到最接近的整数。\n5.  将相对误差四舍五入到 $6$ 位小数。\n\n**测试套件：**\n- 用例A：$(1800, 800, 1.0, 1.5, 0.10, 0.12)$\n- 用例B：$(1500, 300, 1.0, 0.05, 0.05, 0.03)$\n- 用例C：$(2000, 300, 1.0, 5.0, 0.20, 0.10)$\n- 用例D：$(1200, 1200, 1.0, 1.0, 0.15, 0.15)$\n\n### 第二步：使用提取的已知条件进行验证\n\n- **科学依据**：该问题基于成熟的辐射传热原理。WSGG模型和普朗克平均近似是计算参与性气体辐射的标准工程模型。所有定义和方程都与该主题的文献一致。\n- **适定性**：该问题是适定的。它提供了定义WSGG和普朗克平均模型所需的所有必要参数、常数和函数形式。输入（测试用例）已完全指定，输出也已明确定义，从而为每个用例得出唯一且可计算的解。\n- **客观性**：该问题以精确、客观和技术性的语言陈述。没有主观或基于意见的成分。\n- **完整性与一致性**：该问题是自洽的。所有常数（$w_{i0}$, $p_i$, $b_{i0}$, $n$, $T_{\\mathrm{ref}}$, $P_0$, $\\sigma$）和函数关系都已提供。定义是一致的；例如，普朗克平均系数是根据WSGG参数构建的，这是一种用于定义此类系数以进行比较的有效先验方法。\n- **真实性**：物理场景（类似熔炉的条件）以及温度、压力和成分的参数值对于燃烧和工业加热等工程应用是现实的。\n- **无其他缺陷**：该问题是形式化的、非平凡的且可验证的。它需要从基本原理进行正确推导和仔细实现，这是一项实质性的任务。\n\n### 第三步：结论与行动\n问题是有效的。将提供分步推导和解答。\n\n### 热流密度表达式的推导\n\n目标是找到从温度为 $T_g$ 的均匀等温气体到温度为 $T_w$ 的黑体壁面的净辐射热流密度 $q''_{net}$。到壁面的净热流密度是壁面吸收的总辐射能与壁面发出的总辐射能之差。\n\n壁面是黑体，因此其发射率 $\\epsilon_w$ 和吸收率 $\\alpha_w$ 均为 $1$。壁面温度为 $T_w$，因此根据斯蒂芬-玻尔兹曼定律，它发出的辐射通量为：\n$$\nq''_{out} = \\epsilon_w \\sigma T_w^4 = \\sigma T_w^4\n$$\n气体是温度为 $T_g$ 的等温参与性介质。使用路径长度为 $L$ 的平均束长近似，从气体入射到壁面的辐射通量由气体的发射功率给出：\n$$\nq''_{in} = \\epsilon_g(T_g, P, X, L) \\sigma T_g^4\n$$\n这里，$\\epsilon_g$ 是气体的总发射率，它取决于其温度、压力、成分和路径长度。\n\n*到*壁面的净热流密度为 $q''_{net} = q''_{in} - q''_{out}$。然而，这个表达式忽略了气体对壁面发射辐射的吸收。一个更完整的气体与表面之间净辐射交换的公式是：\n$$\nq''_{net} = \\epsilon_g(T_g) \\sigma T_g^4 - \\alpha_g(T_w) \\sigma T_w^4\n$$\n其中 $\\alpha_g(T_w)$ 是气体对来自温度为 $T_w$ 的黑体源辐射的总吸收率。\n\n对于灰气体，基尔霍夫定律意味着发射率等于吸收率，即 $\\epsilon_g = \\alpha_g$，且与源温度无关。净通量简化为：\n$$\nq''_{gray} = \\epsilon_g \\sigma (T_g^4 - T_w^4)\n$$\n根据定义，普朗克平均模型是一个灰气体模型。因此，这是用于 $q''_{\\mathrm{PM}}$ 的正确形式。为了一致性和有意义的比较，我们将对WSGG模型使用相同的灰体交换框架。这涉及从WSGG模型计算一个有效的总发射率 $\\epsilon_g$，并将其用于灰气体交换公式。这是一种常见且实用的方法。\n\n因此，对于两种模型，净壁面热流密度都将计算为：\n$$\nq'' = \\epsilon_g \\sigma (T_g^4 - T_w^4)\n$$\n两种模型的区别仅在于如何计算气体总发射率 $\\epsilon_g$。\n\n**1. WSGG模型热流密度 ($q''_{\\mathrm{WSGG}}$)**\n\nWSGG模型通过对有限数量灰气体的贡献求和来近似总发射率。第 $i$ 个灰气体的发射率，其在黑体光谱的 $a_i(T_g)$ 部分具有恒定的吸收系数 $k_i$，由 $(1 - e^{-k_i L})$ 给出。气体总发射率是加权和：\n$$\n\\epsilon_{g, \\mathrm{WSGG}}(T_g, P, X, L) = \\sum_{i=1}^{N} a_i(T_g) (1 - e^{-k_i(T_g, P, X) L})\n$$\n参数 $a_i$ 和 $k_i$ 计算如下：\n- 活性物质摩尔分数：$X = y_{\\mathrm{H_2O}} + y_{\\mathrm{CO_2}}$。\n- 灰气体吸收系数：$k_i(T_g,P,X) = b_{i0} \\left( \\frac{T_{\\mathrm{ref}}}{T_g} \\right)^{n} X \\left( \\frac{P}{P_0} \\right)$，对于 $i=1, 2, 3$。\n- 归一化权重：$a_i(T_g) = \\frac{w_i(T_g)}{\\sum_{j=1}^{N} w_j(T_g)}$，其中 $w_i(T_g) = w_{i0} \\left( \\frac{T_g}{T_{\\mathrm{ref}}} \\right)^{p_i}$。\n\n将WSGG发射率代入灰体交换公式，得到净热流密度：\n$$\nq''_{\\mathrm{WSGG}} = \\left[ \\sum_{i=1}^{N} a_i(T_g) (1 - e^{-k_i L}) \\right] \\sigma (T_g^4 - T_w^4)\n$$\n\n**2. 普朗克平均灰体模型热流密度 ($q''_{\\mathrm{PM}}$)**\n\n该模型将气体视为具有有效普朗克平均吸收系数 $k_P$ 的单一灰气体。根据问题定义，$k_P$ 被定义为WSGG吸收系数的加权平均值：\n$$\nk_P(T_g, P, X) = \\sum_{i=1}^{N} a_i(T_g) k_i(T_g, P, X)\n$$\n对于吸收系数为 $k_P$ 的灰气体，总发射率为：\n$$\n\\epsilon_{g, \\mathrm{PM}}(T_g, P, X, L) = 1 - e^{-k_P L}\n$$\n普朗克平均模型的净热流密度则为：\n$$\nq''_{\\mathrm{PM}} = (1 - e^{-k_P L}) \\sigma (T_g^4 - T_w^4)\n$$\n这完成了问题所需的可计算表达式的推导。\n\n### 实现逻辑\n\n实现将通过定义一个将测试用例作为输入的函数来进行。\n1.  检查 $T_g = T_w$ 的平凡情况。如果成立，则两种热流密度和误差均为 $0$。\n2.  计算共享参数：$X$、温度比、原始权重 $w_i$、权重之和、归一化权重 $a_i$ 以及各个吸收系数 $k_i$。\n3.  首先计算 $\\epsilon_{g, \\mathrm{WSGG}}$，然后乘以 $\\sigma (T_g^4 - T_w^4)$ 来计算 $q''_{\\mathrm{WSGG}}$。\n4.  首先计算 $k_P$，然后计算 $\\epsilon_{g, \\mathrm{PM}}$，最后乘以 $\\sigma (T_g^4 - T_w^4)$ 来计算 $q''_{\\mathrm{PM}}$。\n5.  使用指定的公式计算相对误差。\n6.  对结果进行四舍五入并返回。\n主程序将遍历测试套件，为每个用例调用此函数，并将收集到的结果格式化为最终的输出字符串。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Derives, implements, and compares WSGG and Planck-mean gray models for\n    nongray gas radiation to a black wall.\n    \"\"\"\n\n    # --- Constants and Model Parameters ---\n    SIGMA = 5.670374419e-8  # Stefan-Boltzmann constant (W m^-2 K^-4)\n    T_REF = 1200.0         # Reference temperature (K)\n    P_0 = 1.0              # Reference pressure (atm)\n    N_EXP = 0.5            # Pressure-temperature exponent for k_i\n\n    # WSGG base parameters\n    # w_i0: base weights for raw weight calculation\n    W_I0 = np.array([0.2, 0.3, 0.5])\n    # p_i: temperature exponents for raw weight calculation\n    P_I = np.array([0.5, 0.0, -0.5])\n    # b_i0: base absorption coefficients\n    B_I0 = np.array([0.1, 1.0, 10.0]) # in m^-1\n\n    # Relative error denominator epsilon\n    EPSILON = 1e-12\n\n    # --- Test Suite ---\n    # (T_g, T_w, P, L, y_h2o, y_co2)\n    test_cases = [\n        (1800.0, 800.0, 1.0, 1.5, 0.10, 0.12),  # Case A\n        (1500.0, 300.0, 1.0, 0.05, 0.05, 0.03), # Case B\n        (2000.0, 300.0, 1.0, 5.0, 0.20, 0.10),  # Case C\n        (1200.0, 1200.0, 1.0, 1.0, 0.15, 0.15), # Case D\n    ]\n\n    results = []\n    for case in test_cases:\n        Tg, Tw, P, L, y_h2o, y_co2 = case\n\n        # Handle trivial case of zero temperature difference\n        if Tg == Tw:\n            results.append([0, 0, 0.0])\n            continue\n\n        # --- Shared Calculations ---\n        # Total mole fraction of active species\n        X = y_h2o + y_co2\n\n        # Temperature ratios\n        Tg_Tref_ratio = Tg / T_REF\n        Tref_Tg_ratio = T_REF / Tg\n\n        # Raw temperature-dependent weights\n        w_i = W_I0 * (Tg_Tref_ratio ** P_I)\n\n        # Normalized weights\n        sum_w = np.sum(w_i)\n        a_i = w_i / sum_w\n\n        # Gray-gas absorption coefficients (m^-1)\n        k_i = B_I0 * (Tref_Tg_ratio ** N_EXP) * X * (P / P_0)\n        \n        # --- WSGG Model Calculation ---\n        # Emissivity for each gray gas\n        emissivity_i = 1.0 - np.exp(-k_i * L)\n\n        # Total gas emissivity for WSGG model\n        eps_g_wsgg = np.sum(a_i * emissivity_i)\n        \n        # Net wall heat flux (W/m^2) for WSGG\n        q_wsgg = eps_g_wsgg * SIGMA * (Tg**4 - Tw**4)\n\n        # --- Planck-Mean Gray Model Calculation ---\n        # Planck-mean absorption coefficient (m^-1)\n        k_p = np.sum(a_i * k_i)\n        \n        # Total gas emissivity for Planck-mean model\n        eps_g_pm = 1.0 - np.exp(-k_p * L)\n\n        # Net wall heat flux (W/m^2) for Planck-mean model\n        q_pm = eps_g_pm * SIGMA * (Tg**4 - Tw**4)\n\n        # --- Relative Error Calculation ---\n        error_numerator = abs(q_wsgg - q_pm)\n        error_denominator = max(abs(q_pm), EPSILON)\n        relative_error = error_numerator / error_denominator\n\n        # --- Format and Store Results ---\n        q_wsgg_rounded = int(round(q_wsgg))\n        q_pm_rounded = int(round(q_pm))\n        relative_error_rounded = round(relative_error, 6)\n\n        results.append([q_wsgg_rounded, q_pm_rounded, relative_error_rounded])\n\n    # Final print statement must be a single line in the specified format\n    print(str(results).replace(\" \", \"\"))\n\nsolve()\n```"
        }
    ]
}