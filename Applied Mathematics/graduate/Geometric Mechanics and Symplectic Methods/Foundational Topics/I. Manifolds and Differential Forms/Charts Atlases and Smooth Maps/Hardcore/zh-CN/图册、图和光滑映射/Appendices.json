{
    "hands_on_practices": [
        {
            "introduction": "我们经常遇到的流形，如球面，无法用单一的坐标系完整描述。为了在这些弯曲的空间上进行分析，我们引入了图册（atlas）的概念，即一组相互兼容的坐标卡（charts）的集合。这个练习将通过一个经典的例子——二维球面上的球极投影——来具体实践如何为流形构建坐标卡，并验证其转换映射（transition map）的光滑性，这是确保流形具有一致光滑结构的基石 。",
            "id": "3732239",
            "problem": "考虑单位二维球面 $S^{2} = \\{(X,Y,Z) \\in \\mathbb{R}^{3} : X^{2} + Y^{2} + Z^{2} = 1\\}$。在几何力学中，$S^{2}$ 作为一个赋予了辛形式的协伴轨道出现，并且人们常使用局部坐标卡来分析其光滑结构和基于坐标的构造。通过球极投影到赤道平面 $Z=0$ 上，在 $S^{2}$ 上定义两个坐标卡：令 $\\phi_{N} : S^{2} \\setminus \\{(0,0,1)\\} \\to \\mathbb{R}^{2}$ 为从北极点 $(0,0,1)$ 出发的球极投影，令 $\\phi_{S} : S^{2} \\setminus \\{(0,0,-1)\\} \\to \\mathbb{R}^{2}$ 为从南极点 $(0,0,-1)$ 出发的球极投影。这些坐标卡是通过将 $S^{2}$ 上的每个点（不包括各自的极点）沿着穿过相应极点的直线投射到平面 $Z=0$ 上，并读取其 $(X,Y)$ 坐标而获得的。\n\n仅使用坐标卡、球极投影和单位球面的定义，推导在交叠区域 $S^{2} \\setminus \\{(0,0,1),(0,0,-1)\\}$ 上的转换映射 $\\Phi = \\phi_{S} \\circ \\phi_{N}^{-1}$ 的显式坐标表达式，该表达式用坐标卡 $\\phi_{N}$ 的坐标 $(u,v) \\in \\mathbb{R}^{2} \\setminus \\{(0,0)\\}$ 表示。然后，通过从推导出的表达式直接推理，验证该转换映射在其定义域上是光滑的。\n\n将你的最终答案表示为单个解析向量表达式 $\\Phi(u,v)$，使用 LaTeX 的 $\\mathrm{pmatrix}$ 环境包裹的双元素行矩阵。不需要四舍五入，也不涉及单位。",
            "solution": "问题陈述经评估有效。它科学地植根于微分几何的原理，问题是适定的，具有唯一且有意义的解，并用客观、精确的数学语言表达。提供了推导所求转换映射并验证其性质所需的所有信息。\n\n我们首先建立球极投影坐标卡 $\\phi_{N}$ 和 $\\phi_{S}$ 以及逆映射 $\\phi_{N}^{-1}$ 的显式公式。设单位球面 $S^2$ 上的一个点表示为 $P=(X,Y,Z)$，其中 $X^{2} + Y^{2} + Z^{2} = 1$。坐标卡 $\\phi_{N}$ 中的坐标是 $(u,v)$。\n\n首先，我们推导映射 $\\phi_{N}: S^{2} \\setminus \\{(0,0,1)\\} \\to \\mathbb{R}^{2}$。北极点是 $N = (0,0,1)$。一条穿过 $N$ 和球面上另一点 $P=(X,Y,Z)$ 的直线可以参数化为 $L(t) = N + t(P - N) = (0,0,1) + t(X, Y, Z-1)$，其中 $t \\in \\mathbb{R}$。$P$ 到平面 $Z=0$ 上的投影是这条直线与该平面的交点。在交点处，$Z$ 坐标为 $0$。\n$1 + t(Z-1) = 0 \\implies t = \\frac{1}{1-Z}$。\n这个 $t$ 值是良定义的，因为对于 $\\phi_{N}$ 定义域中的任何点，$Z \\neq 1$。在 $Z=0$ 平面中交点的坐标是 $(u,v)$，对应于此 $t$ 值下直线的 $X$ 和 $Y$ 坐标。\n$u = 0 + tX = \\frac{X}{1-Z}$\n$v = 0 + tY = \\frac{Y}{1-Z}$\n因此，坐标卡映射 $\\phi_{N}$ 由 $\\phi_{N}(X,Y,Z) = \\left( \\frac{X}{1-Z}, \\frac{Y}{1-Z} \\right)$ 给出。\n\n接下来，我们推导逆映射 $\\phi_{N}^{-1}: \\mathbb{R}^{2} \\to S^{2} \\setminus \\{(0,0,1)\\}$。给定平面上的一个点 $(u,v)$，我们需要找到球面上对应的点 $(X,Y,Z)$。从 $u$ 和 $v$ 的表达式，我们有 $X=u(1-Z)$ 和 $Y=v(1-Z)$。我们将这些代入球面方程 $X^{2} + Y^{2} + Z^{2} = 1$：\n$(u(1-Z))^{2} + (v(1-Z))^{2} + Z^{2} = 1$\n$(u^{2}+v^{2})(1-Z)^{2} + Z^{2} = 1$\n$(u^{2}+v^{2})(1 - 2Z + Z^{2}) + Z^{2} = 1$\n$(u^{2}+v^{2}) - 2Z(u^{2}+v^{2}) + Z^{2}(u^{2}+v^{2}) + Z^{2} = 1$\n$Z^{2}(u^{2}+v^{2}+1) - 2Z(u^{2}+v^{2}) + (u^{2}+v^{2}-1) = 0$\n这是一个关于 $Z$ 的二次方程。我们观察到 $Z=1$ 是一个解：\n$(u^{2}+v^{2}+1) - 2(u^{2}+v^{2}) + (u^{2}+v^{2}-1) = (u^{2}+v^{2}) + 1 - 2(u^{2}+v^{2}) + (u^{2}+v^{2}) - 1 = 0$。\n对应于 $Z=1$ 的点是北极点，它不在 $\\phi_{N}^{-1}$ 的像中。从二次方程中因式分解出 $(Z-1)$ 得到 $(Z-1)[Z(u^{2}+v^{2}+1) - (u^{2}+v^{2}-1)] = 0$。另一个解是：\n$Z = \\frac{u^{2}+v^{2}-1}{u^{2}+v^{2}+1}$。\n这给出了球面上点的 $Z$ 坐标。现在我们求 $X$ 和 $Y$：\n$1-Z = 1 - \\frac{u^{2}+v^{2}-1}{u^{2}+v^{2}+1} = \\frac{(u^{2}+v^{2}+1) - (u^{2}+v^{2}-1)}{u^{2}+v^{2}+1} = \\frac{2}{u^{2}+v^{2}+1}$。\n$X = u(1-Z) = \\frac{2u}{u^{2}+v^{2}+1}$。\n$Y = v(1-Z) = \\frac{2v}{u^{2}+v^{2}+1}$。\n因此，逆映射为 $\\phi_{N}^{-1}(u,v) = \\left( \\frac{2u}{u^{2}+v^{2}+1}, \\frac{2v}{u^{2}+v^{2}+1}, \\frac{u^{2}+v^{2}-1}{u^{2}+v^{2}+1} \\right)$。\n\n现在，我们推导映射 $\\phi_{S}: S^{2} \\setminus \\{(0,0,-1)\\} \\to \\mathbb{R}^{2}$。南极点是 $S=(0,0,-1)$。推导过程与 $\\phi_{N}$ 类似。穿过 $S$ 和 $P=(X,Y,Z)$ 的直线是 $L(t) = S + t(P-S) = (0,0,-1) + t(X, Y, Z+1)$。将 $Z$ 坐标设为 $0$：\n$-1 + t(Z+1) = 0 \\implies t = \\frac{1}{1+Z}$。\n平面中的坐标是：\n$u' = \\frac{X}{1+Z}$\n$v' = \\frac{Y}{1+Z}$\n所以，$\\phi_{S}(X,Y,Z) = \\left( \\frac{X}{1+Z}, \\frac{Y}{1+Z} \\right)$。\n\n现在我们准备计算转换映射 $\\Phi = \\phi_{S} \\circ \\phi_{N}^{-1}$。该映射对满足 $\\phi_{N}^{-1}(u,v)$ 在 $\\phi_{S}$ 定义域内的 $(u,v)$ 有定义，即 $\\phi_{N}^{-1}(u,v) \\neq (0,0,-1)$。我们找出哪个 $(u,v)$ 映射到南极点：\n$\\phi_{N}^{-1}(u,v) = (0,0,-1) \\implies \\frac{2u}{u^{2}+v^{2}+1} = 0, \\frac{2v}{u^{2}+v^{2}+1} = 0, \\frac{u^{2}+v^{2}-1}{u^{2}+v^{2}+1} = -1$。\n前两个方程意味着 $u=0$ 和 $v=0$。代入第三个方程：$\\frac{0-1}{0+1} = -1$，这是成立的。因此，$\\phi_{N}^{-1}(0,0) = (0,0,-1)$。因此，$\\Phi$ 的定义域是 $\\mathbb{R}^{2} \\setminus \\{(0,0)\\}$，正如问题中所述。\n\n令 $(u', v') = \\Phi(u,v) = \\phi_{S}(\\phi_{N}^{-1}(u,v))$。我们将 $(X,Y,Z) = \\phi_{N}^{-1}(u,v)$ 的表达式代入 $\\phi_{S}$ 的公式中。\n$\\phi_{N}^{-1}(u,v)$ 的分量是：\n$X = \\frac{2u}{u^{2}+v^{2}+1}$\n$Y = \\frac{2v}{u^{2}+v^{2}+1}$\n$Z = \\frac{u^{2}+v^{2}-1}{u^{2}+v^{2}+1}$\n我们需要 $1+Z$ 这一项：\n$1+Z = 1 + \\frac{u^{2}+v^{2}-1}{u^{2}+v^{2}+1} = \\frac{(u^{2}+v^{2}+1) + (u^{2}+v^{2}-1)}{u^{2}+v^{2}+1} = \\frac{2(u^{2}+v^{2})}{u^{2}+v^{2}+1}$。\n现在我们求 $(u', v')$：\n$u' = \\frac{X}{1+Z} = \\frac{\\frac{2u}{u^{2}+v^{2}+1}}{\\frac{2(u^{2}+v^{2})}{u^{2}+v^{2}+1}} = \\frac{2u}{2(u^{2}+v^{2})} = \\frac{u}{u^{2}+v^{2}}$。\n$v' = \\frac{Y}{1+Z} = \\frac{\\frac{2v}{u^{2}+v^{2}+1}}{\\frac{2(u^{2}+v^{2})}{u^{2}+v^{2}+1}} = \\frac{2v}{2(u^{2}+v^{2})} = \\frac{v}{u^{2}+v^{2}}$。\n所以，转换映射的显式表达式为 $\\Phi(u,v) = \\left( \\frac{u}{u^{2}+v^{2}}, \\frac{v}{u^{2}+v^{2}} \\right)$。\n\n最后，我们验证该映射在其定义域 $\\mathbb{R}^{2} \\setminus \\{(0,0)\\}$ 上是光滑的。$\\Phi(u,v)$ 的分量函数是 $u'(u,v) = \\frac{u}{u^{2}+v^{2}}$ 和 $v'(u,v) = \\frac{v}{u^{2}+v^{2}}$。两者都是变量 $u$ 和 $v$ 的有理函数。一个有理函数在其分母不为零的所有点上是无穷可微的（即光滑的，或 $C^{\\infty}$）。两个分量的分母都是 $u^{2}+v^{2}$。该表达式仅当 $u=0$ 和 $v=0$ 同时成立时为零，即在点 $(0,0)$ 处。由于 $\\Phi$ 的定义域恰好是 $\\mathbb{R}^{2} \\setminus \\{(0,0)\\}$，所以分母在其定义域上永不为零。因此，分量函数 $u'(u,v)$ 和 $v'(u,v)$ 在其定义域上是光滑的，从而转换映射 $\\Phi$ 也是光滑的。\n推导和验证到此结束。",
            "answer": "$$\\boxed{\\begin{pmatrix} \\frac{u}{u^{2} + v^{2}} & \\frac{v}{u^{2} + v^{2}} \\end{pmatrix}}$$"
        },
        {
            "introduction": "在了解了如何构建一个光滑图册之后，我们自然会问：为什么转换映射的 $C^{\\infty}$ 光滑性如此重要？这个练习通过在实直线 $\\mathbb{R}$ 上构造一个“病态”的图册来回答这个问题。通过分析一个仅是 $C^1$ 而非 $C^2$ 的转换映射，你将亲身体会到高阶光滑性的缺失是如何破坏流形结构的，并理解为何这对几何力学中依赖二阶导数（如联络系数）的物理理论是“致命”的 。",
            "id": "3732241",
            "problem": "设 $M$ 为具有标准拓扑的实直线 $\\mathbb{R}$。考虑 $M$ 上的以下两个坐标卡：$(U_{1},\\varphi_{1})$，其中 $U_{1}=\\mathbb{R}$ 且 $\\varphi_{1}(x)=x$；以及 $(U_{2},\\varphi_{2})$，其中 $U_{2}=\\mathbb{R}$ 且 $\\varphi_{2}(x)=x|x|$。使用坐标卡、图册、光滑结构和光滑过渡映射的基本定义，分析图册 $\\mathcal{A}=\\{(U_{1},\\varphi_{1}),(U_{2},\\varphi_{2})\\}$ 是否在 $M$ 上定义了一个光滑（即 $C^{\\infty}$）结构。特别地，考察在重叠区域上坐标之间的过渡映射，并确定其在原点的可微性等级。将您的推理与几何力学中使用的余切丛 $T^{\\ast}M$ 上的诱导坐标变换所产生的影响联系起来，其中光滑基流形结构是典范辛形式定义的基础。\n\n为了确定坐标层面上的确切失效点，计算过渡映射 $f=\\varphi_{2}\\circ\\varphi_{1}^{-1}$ 在 $0$ 处的二阶导数的跳跃 $\\Delta$，其定义为\n$$\n\\Delta=\\lim_{h\\to 0^{+}} f''(h)-\\lim_{h\\to 0^{-}} f''(h),\n$$\n假定单侧极限存在。你的最终答案必须是 $\\Delta$ 的精确值，作为一个实数。无需四舍五入。",
            "solution": "该问题要求我们判断流形 $M=\\mathbb{R}$ 上的图册 $\\mathcal{A}=\\{(U_{1},\\varphi_{1}),(U_{2},\\varphi_{2})\\}$ 是否定义了一个光滑（$C^{\\infty}$）结构。一个拓扑流形通过一个极大光滑图册被赋予光滑结构。如果一个图册中任意两个坐标卡的过渡映射都是一个 $C^{\\infty}$ 微分同胚，那么该图册就是光滑的。因此，我们必须考察给定图册的过渡映射。\n\n给定的两个坐标卡是：\n1.  $(U_{1},\\varphi_{1})$，其中 $U_{1}=\\mathbb{R}$ 且 $\\varphi_{1}(x)=x$。\n2.  $(U_{2},\\varphi_{2})$，其中 $U_{2}=\\mathbb{R}$ 且 $\\varphi_{2}(x)=x|x|$。\n\n坐标卡定义域之间的重叠区域是 $U_{1} \\cap U_{2} = \\mathbb{R} \\cap \\mathbb{R} = \\mathbb{R}$。过渡映射定义在该重叠区域在坐标卡映射下的像上。\n\n我们来计算第一个过渡映射 $f_{21} = \\varphi_{2} \\circ \\varphi_{1}^{-1}$。这个映射将第一个坐标卡中的坐标转换到第二个坐标卡中的坐标。\n$f_{21}$ 的定义域是 $\\varphi_{1}(U_{1} \\cap U_{2}) = \\varphi_{1}(\\mathbb{R}) = \\mathbb{R}$。\n陪域是 $\\varphi_{2}(U_{1} \\cap U_{2}) = \\varphi_{2}(\\mathbb{R}) = \\mathbb{R}$。\n首先，我们求 $\\varphi_{1}$ 的逆。若 $y = \\varphi_{1}(x) = x$，则 $x = y$。所以 $\\varphi_{1}^{-1}(y) = y$。\n于是过渡映射为 $f_{21}(y) = \\varphi_{2}(\\varphi_{1}^{-1}(y)) = \\varphi_{2}(y) = y|y|$。根据题目要求，我们记此映射为 $f(y) = y|y|$。\n\n为了使图册是光滑的，这个过渡映射 $f(y)$ 必须是一个 $C^{\\infty}$ 函数。我们来分析它的可微性。我们可以将 $f(y)$ 写成分段形式：\n$$\nf(y) = \\begin{cases}\ny^{2} & \\text{if } y \\ge 0 \\\\\n-y^{2} & \\text{if } y  0\n\\end{cases}\n$$\n对于所有 $y \\neq 0$，该函数显然是 $C^{\\infty}$ 的。潜在的失效点在 $y=0$ 处。\n\n我们来计算一阶导数 $f'(y)$。\n对于 $y  0$，$f'(y) = \\frac{d}{dy}(y^{2}) = 2y$。\n对于 $y  0$，$f'(y) = \\frac{d}{dy}(-y^{2}) = -2y$。\n为了检查在 $y=0$ 处的可微性，我们考察导数的极限定义：\n右导数为 $\\lim_{h \\to 0^{+}} \\frac{f(h)-f(0)}{h} = \\lim_{h \\to 0^{+}} \\frac{h^{2}-0}{h} = \\lim_{h \\to 0^{+}} h = 0$。\n左导数为 $\\lim_{h \\to 0^{-}} \\frac{f(h)-f(0)}{h} = \\lim_{h \\to 0^{-}} \\frac{-h^{2}-0}{h} = \\lim_{h \\to 0^{-}} (-h) = 0$。\n由于左右导数相等，$f'(0)$ 存在且等于 $0$。\n所以，一阶导数为：\n$$\nf'(y) = \\begin{cases}\n2y  \\text{if } y \\ge 0 \\\\\n-2y  \\text{if } y  0\n\\end{cases}\n$$\n这等价于 $f'(y) = 2|y|$。这个函数处处连续，包括在 $y=0$ 处，因为 $\\lim_{y \\to 0} 2|y| = 0 = f'(0)$。因此，过渡映射 $f(y)$ 的可微性等级是 $C^{1}$。\n\n现在，我们来计算二阶导数 $f''(y)$。\n对于 $y  0$，$f''(y) = \\frac{d}{dy}(2y) = 2$。\n对于 $y  0$，$f''(y) = \\frac{d}{dy}(-2y) = -2$。\n为了检查 $f$ 在 $y=0$ 处是否是 $C^{2}$ 的，我们必须检查 $f'$ 在 $y=0$ 处是否可微。\n$f'$ 在 $y=0$ 处的右导数是 $\\lim_{h \\to 0^{+}} \\frac{f'(h)-f'(0)}{h} = \\lim_{h \\to 0^{+}} \\frac{2h-0}{h} = 2$。\n$f'$ 在 $y=0$ 处的左导数是 $\\lim_{h \\to 0^{-}} \\frac{f'(h)-f'(0)}{h} = \\lim_{h \\to 0^{-}} \\frac{-2h-0}{h} = -2$。\n由于右导数（$2$）和左导数（$-2$）不相等，二阶导数 $f''(0)$ 不存在。\n因此，过渡映射 $f(y) = y|y|$ 不是一个 $C^{2}$ 函数，所以它也不是一个 $C^{\\infty}$ 函数。一个图册要定义一个光滑结构，要求其所有的过渡映射都是 $C^{\\infty}$ 的。既然我们找到了一个不是 $C^{\\infty}$ 的过渡映射，那么图册 $\\mathcal{A}$ 就不是一个光滑图册，且不能在 $M=\\mathbb{R}$ 上定义一个光滑结构。\n\n该问题还引导我们考虑其对几何力学的影响。几何力学的框架依赖于流形 $M$（位形空间）是光滑的。相空间是余切丛 $T^{\\ast}M$，它从 $M$ 继承其光滑结构。$M$ 上的局部坐标（比如 $q$）在 $T^{\\ast}M$ 上诱导出典范坐标 $(q,p)$。$M$ 上的坐标变换，从 $q$ 到 $\\tilde{q}(q)$，会在 $T^{\\ast}M$ 上诱导一个变换，由 $\\tilde{q} = \\tilde{q}(q)$ 和 $\\tilde{p} = (\\frac{\\partial \\tilde{q}}{\\partial q})^{-1} p$ 给出。为了使这个在 $T^{\\ast}M$ 上的诱导变换是光滑的，$M$ 上的原始变换必须是光滑的（$C^{\\infty}$）。在我们的例子中，过渡映射 $\\tilde{q} = f(q) = q|q|$ 只是 $C^{1}$ 的。动量坐标 $\\tilde{p}$ 的变换涉及到 $f$ 的反函数的导数，而它不是 $C^{1}$ 的。这意味着在 $T^{\\ast}M$ 上的诱导图册仅仅是 $C^{0}$（连续）的，这不足以定义一个光滑流形结构。此外，力学中的许多基本对象，例如联络系数（与惯性力相关）或泊松括号的变换，都依赖于坐标变换的二阶导数。$f''(0)$ 的不存在意味着这些对象在对应于 $x=0$ 的点上是无定义的，从而使得物理理论是不适定的。\n\n最后，我们计算过渡映射 $f(y) = y|y|$ 在 $y=0$ 处的二阶导数的跳跃 $\\Delta$。该跳跃定义为 $\\Delta = \\lim_{h\\to 0^{+}} f''(h)-\\lim_{h\\to 0^{-}} f''(h)$。\n根据我们上面的分析，对于 $h \\neq 0$，我们有二阶导数的表达式：\n$$\nf''(h) = \\begin{cases}\n2  \\text{if } h  0 \\\\\n-2  \\text{if } h  0\n\\end{cases}\n$$\n现在我们计算所需的单侧极限：\n右极限是 $\\lim_{h\\to 0^{+}} f''(h) = \\lim_{h\\to 0^{+}} 2 = 2$。\n左极限是 $\\lim_{h\\to 0^{-}} f''(h) = \\lim_{h\\to 0^{-}} (-2) = -2$。\n因此，跳跃 $\\Delta$ 是：\n$$\n\\Delta = (2) - (-2) = 2 + 2 = 4.\n$$\n这个非零跳跃精确地衡量了过渡映射在原点处未能成为 $C^2$ 函数的程度。",
            "answer": "$$\n\\boxed{4}\n$$"
        },
        {
            "introduction": "一旦我们为流形赋予了光滑结构，便可以研究流形之间的映射。一个流形间的映射是否光滑，取决于其在任意一对坐标卡下的局部表示是否为欧几里得空间中的光滑函数。这个练习将通过圆上的“加倍映射” $f(\\theta) = 2\\theta$ 来阐释这一定义。你将计算它在球极投影坐标卡下的表达式，并验证尽管其形式变得更复杂，但它确实是一个光滑的有理函数，从而证实了原始映射的光滑性 。",
            "id": "3732233",
            "problem": "令 $S^{1} \\subset \\mathbb{R}^{2}$ 表示单位圆及其标准光滑结构。考虑映射 $f : S^{1} \\to S^{1}$，在角坐标下定义为 $f(\\theta) = 2 \\theta$，其中所有角度均以弧度为单位。令 $N = (0, 1)$ 和 $S = (0, -1)$ 分别表示北极点和南极点。令 $\\varphi_{N} : S^{1} \\setminus \\{N\\} \\to \\mathbb{R}$ 和 $\\varphi_{S} : S^{1} \\setminus \\{S\\} \\to \\mathbb{R}$ 为从北极点和南极点到 $x$ 轴（$y = 0$）的球极投影坐标卡，其几何定义如下：对于 $p \\in S^{1} \\setminus \\{N\\}$，$\\varphi_{N}(p)$ 是过 $N$ 和 $p$ 的直线与直线 $y=0$ 的唯一交点的 $x$ 坐标；$\\varphi_{S}$ 与 $S$ 的定义类似。仅使用坐标卡、图册、球极投影以及流形间光滑映射的基本定义。\n\n任务：\n- 推导 $\\varphi_{N}$ 和 $\\varphi_{S}$ 及其逆映射关于角参数化 $p(\\theta) = (\\cos \\theta, \\sin \\theta)$ 的显式坐标公式。\n- 在球极投影坐标卡中计算 $f$ 的坐标表示 $F_{N}$ 和 $F_{S}$，其中\n$$\nF_{N} = \\varphi_{N} \\circ f \\circ \\varphi_{N}^{-1}, \\qquad F_{S} = \\varphi_{S} \\circ f \\circ \\varphi_{S}^{-1},\n$$\n并将每个表达式化简为关于各自坐标变量的单一有理函数。\n- 确定 $F_{N}$ 和 $F_{S}$ 的自然定义域，并仅使用通过坐标卡定义的光滑性来验证 $f$ 作为流形间的映射是光滑的。\n\n你的最终答案必须是 $F_{N}$ 和 $F_{S}$ 的化简坐标公式对，写成行矩阵的形式。不需要四舍五入，也无需报告物理单位。所有角度必须以弧度处理。",
            "solution": "在尝试解答之前，需对问题进行验证。\n\n### 第1步：提取已知条件\n- 流形是单位圆 $S^{1} \\subset \\mathbb{R}^{2}$。\n- 映射是 $f : S^{1} \\to S^{1}$，在角坐标 $p(\\theta) = (\\cos \\theta, \\sin \\theta)$ 下定义为 $f(\\theta) = 2 \\theta$。\n- 北极点是 $N = (0, 1)$，南极点是 $S = (0, -1)$。\n-\n坐标卡是球极投影：\n  - $\\varphi_{N} : S^{1} \\setminus \\{N\\} \\to \\mathbb{R}$ 是从北极点到 x 轴的投影。\n  - $\\varphi_{S} : S^{1} \\setminus \\{S\\} \\to \\mathbb{R}$ 是从南极点到 x 轴的投影。\n- 需要计算的 $f$ 的坐标表示是 $F_{N} = \\varphi_{N} \\circ f \\circ \\varphi_{N}^{-1}$ 和 $F_{S} = \\varphi_{S} \\circ f \\circ \\varphi_{S}^{-1}$。\n\n### 第2步：使用提取的已知条件进行验证\n该问题是微分几何中的一个标准练习，涉及流形、坐标卡和光滑映射的基本概念。所有术语都有明确定义，前提条件在数学上是合理的且自洽的。该问题不违反任何科学原理，是客观的，并且是适定的，会导出一个唯一且可验证的解。\n\n### 第3步：结论与行动\n问题有效。将提供完整的解答。\n\n### 任务1：推导坐标卡及其逆映射的坐标公式\n\n令单位圆 $S^1$ 上的点 $p$ 由其笛卡尔坐标 $(x_p, y_p)$ 或角坐标 $\\theta$ 表示，使得 $x_p = \\cos\\theta$ 和 $y_p = \\sin\\theta$。\n\n**$\\varphi_N$ 和 $\\varphi_N^{-1}$ 的推导：**\n坐标卡 $\\varphi_N$ 将点 $p(x_p, y_p) \\in S^1 \\setminus \\{N\\}$ 从北极点 $N(0, 1)$ 投影到直线 $y=0$ 上。通过 $N(0,1)$ 和 $p(x_p, y_p)$ 的直线可以由 $t \\in \\mathbb{R}$ 参数化为 $L(t) = (1-t)N + tp = ( (1-t)0 + tx_p, (1-t)1 + ty_p ) = (tx_p, 1-t+ty_p)$。\n与 $x$ 轴的交点发生在 $y$ 坐标为 $0$ 时：\n$1-t+ty_p = 0 \\implies 1 = t(1-y_p) \\implies t = \\frac{1}{1-y_p}$。这是良定义的，因为 $p \\neq N$，所以 $y_p \\neq 1$。\n交点的 $x$ 坐标是 $u = tx_p = \\frac{x_p}{1-y_p}$。\n因此，$\\varphi_N$ 的坐标公式为：\n$$ \\varphi_N(x_p, y_p) = \\frac{x_p}{1-y_p} $$\n用角度 $\\theta$ 表示，对于 $p(\\theta) = (\\cos\\theta, \\sin\\theta)$，我们有：\n$$ \\varphi_N(\\theta) = \\frac{\\cos\\theta}{1-\\sin\\theta} $$\n为了找到逆映射 $\\varphi_N^{-1}: \\mathbb{R} \\to S^1 \\setminus \\{N\\}$，令 $u = \\frac{x_p}{1-y_p}$。我们还有约束条件 $x_p^2 + y_p^2 = 1$。从第一个方程，我们得到 $x_p = u(1-y_p)$。代入圆的方程：\n$u^2(1-y_p)^2 + y_p^2 = 1 \\implies u^2(1 - 2y_p + y_p^2) + y_p^2 = 1 \\implies (u^2+1)y_p^2 - 2u^2y_p + (u^2-1) = 0$。\n这是一个关于 $y_p$ 的二次方程。其中一个解对应于北极点，$y_p=1$。我们可以验证这一点：$(u^2+1) - 2u^2 + (u^2-1) = 0$。由于两根之积为 $\\frac{u^2-1}{u^2+1}$，另一个根（我们想要的 $y_p$）是 $y_p = \\frac{u^2-1}{u^2+1}$。\n然后，$x_p = u(1-y_p) = u\\left(1 - \\frac{u^2-1}{u^2+1}\\right) = u\\left(\\frac{u^2+1 - (u^2-1)}{u^2+1}\\right) = \\frac{2u}{u^2+1}$。\n所以，逆映射为：\n$$ \\varphi_N^{-1}(u) = \\left( \\frac{2u}{u^2+1}, \\frac{u^2-1}{u^2+1} \\right) $$\n\n**$\\varphi_S$ 和 $\\varphi_S^{-1}$ 的推导：**\n坐标卡 $\\varphi_S$ 从南极点 $S(0, -1)$ 进行投影。通过 $S(0, -1)$ 和 $p(x_p, y_p)$ 的直线是 $L(t) = (1-t)S + tp = (tx_p, -(1-t)+ty_p)$。\n与 $y=0$ 相交意味着 $-(1-t)+ty_p=0 \\implies t-1+ty_p=0 \\implies t(1+y_p) = 1 \\implies t = \\frac{1}{1+y_p}$。这是良定义的，因为 $p \\neq S$，所以 $y_p \\neq -1$。\n$x$ 坐标是 $v = tx_p = \\frac{x_p}{1+y_p}$。\n$$ \\varphi_S(x_p, y_p) = \\frac{x_p}{1+y_p} $$\n用 $\\theta$ 表示：\n$$ \\varphi_S(\\theta) = \\frac{\\cos\\theta}{1+\\sin\\theta} $$\n为了找到 $\\varphi_S^{-1}$，令 $v = \\frac{x_p}{1+y_p}$，所以 $x_p = v(1+y_p)$。代入 $x_p^2+y_p^2=1$：\n$v^2(1+y_p)^2 + y_p^2 = 1 \\implies v^2(1+2y_p+y_p^2) + y_p^2 = 1 \\implies (v^2+1)y_p^2 + 2v^2y_p + (v^2-1) = 0$。\n一个根对应于南极点，$y_p=-1$。两根之积为 $\\frac{v^2-1}{v^2+1}$，所以另一个根必定是 $y_p = -\\frac{v^2-1}{v^2+1} = \\frac{1-v^2}{1+v^2}$。\n然后，$x_p = v(1+y_p) = v\\left(1 + \\frac{1-v^2}{1+v^2}\\right) = v\\left(\\frac{1+v^2 + 1-v^2}{1+v^2}\\right) = \\frac{2v}{1+v^2}$。\n所以，逆映射为：\n$$ \\varphi_S^{-1}(v) = \\left( \\frac{2v}{1+v^2}, \\frac{1-v^2}{1+v^2} \\right) $$\n\n### 任务2：计算坐标表示 $F_N$ 和 $F_S$\n\n**$F_N = \\varphi_N \\circ f \\circ \\varphi_N^{-1}$ 的计算：**\n令 $u$ 为 $\\varphi_N$ 的上域中的坐标。\n1. $\\varphi_N^{-1}(u) = (\\frac{2u}{u^2+1}, \\frac{u^2-1}{u^2+1})$。这是 $S^1$ 上的一个点 $p(\\theta)$，其中 $\\cos\\theta = \\frac{2u}{u^2+1}$ 和 $\\sin\\theta = \\frac{u^2-1}{u^2+1}$。\n2. 应用 $f$：$f(p(\\theta)) = p(2\\theta) = (\\cos(2\\theta), \\sin(2\\theta))$。我们使用二倍角恒等式：\n   $\\cos(2\\theta) = \\cos^2\\theta - \\sin^2\\theta = \\left(\\frac{2u}{u^2+1}\\right)^2 - \\left(\\frac{u^2-1}{u^2+1}\\right)^2 = \\frac{4u^2 - (u^4-2u^2+1)}{(u^2+1)^2} = \\frac{-u^4+6u^2-1}{(u^2+1)^2}$。\n   $\\sin(2\\theta) = 2\\sin\\theta\\cos\\theta = 2\\left(\\frac{u^2-1}{u^2+1}\\right)\\left(\\frac{2u}{u^2+1}\\right) = \\frac{4u(u^2-1)}{(u^2+1)^2}$。\n3. 将 $\\varphi_N(x', y') = \\frac{x'}{1-y'}$ 应用于点 $(x', y') = (\\cos(2\\theta), \\sin(2\\theta))$：\n   $F_N(u) = \\frac{\\frac{-u^4+6u^2-1}{(u^2+1)^2}}{1-\\frac{4u(u^2-1)}{(u^2+1)^2}} = \\frac{-u^4+6u^2-1}{(u^2+1)^2 - 4u(u^2-1)} = \\frac{-u^4+6u^2-1}{u^4+2u^2+1 - 4u^3+4u} = \\frac{-u^4+6u^2-1}{u^4-4u^3+2u^2+4u+1}$。\n   分子是 $(-u^2-2u+1)(u^2-2u-1)$，分母是 $(u^2-2u-1)^2$。\n   $F_N(u) = \\frac{(-u^2-2u+1)(u^2-2u-1)}{(u^2-2u-1)^2} = \\frac{-u^2-2u+1}{u^2-2u-1} = \\frac{u^2+2u-1}{-u^2+2u+1}$。\n\n**$F_S = \\varphi_S \\circ f \\circ \\varphi_S^{-1}$ 的计算：**\n令 $v$ 为坐标卡 $\\varphi_S$ 的坐标。\n1. $\\varphi_S^{-1}(v) = \\left(\\frac{2v}{1+v^2}, \\frac{1-v^2}{1+v^2}\\right)$。这是 $p(\\theta)$，其中 $\\cos\\theta = \\frac{2v}{1+v^2}$ 和 $\\sin\\theta = \\frac{1-v^2}{1+v^2}$。\n2. 应用 $f$：$f(p(\\theta)) = p(2\\theta) = (\\cos(2\\theta), \\sin(2\\theta))$。\n   $\\cos(2\\theta) = \\cos^2\\theta - \\sin^2\\theta = \\left(\\frac{2v}{1+v^2}\\right)^2 - \\left(\\frac{1-v^2}{1+v^2}\\right)^2 = \\frac{4v^2 - (1-2v^2+v^4)}{(1+v^2)^2} = \\frac{-v^4+6v^2-1}{(1+v^2)^2}$。\n   $\\sin(2\\theta) = 2\\sin\\theta\\cos\\theta = 2\\left(\\frac{1-v^2}{1+v^2}\\right)\\left(\\frac{2v}{1+v^2}\\right) = \\frac{4v(1-v^2)}{(1+v^2)^2}$。\n3. 应用 $\\varphi_S(x', y') = \\frac{x'}{1+y'}$：\n   $F_S(v) = \\frac{\\frac{-v^4+6v^2-1}{(1+v^2)^2}}{1+\\frac{4v(1-v^2)}{(1+v^2)^2}} = \\frac{-v^4+6v^2-1}{(1+v^2)^2 + 4v(1-v^2)} = \\frac{-v^4+6v^2-1}{v^4+2v^2+1 + 4v-4v^3} = \\frac{-v^4+6v^2-1}{v^4-4v^3+2v^2+4v+1}$。\n   与 $F_N$ 的情况一样，此式可化简。分子是 $(-v^2-2v+1)(v^2-2v-1)$，分母是 $(v^2-2v-1)^2$。\n   $F_S(v) = \\frac{(-v^2-2v+1)(v^2-2v-1)}{(v^2-2v-1)^2} = \\frac{-v^2-2v+1}{v^2-2v-1} = \\frac{v^2+2v-1}{-v^2+2v+1}$。\n\n### 任务3：确定 $F_N$ 和 $F_S$ 的定义域\n复合映射 $F_N(u) = \\varphi_N \\circ f \\circ \\varphi_N^{-1}(u)$ 有定义，当且仅当 $f \\circ \\varphi_N^{-1}$ 的输出在 $\\varphi_N$ 的定义域内。$\\varphi_N$ 的定义域是 $S^1 \\setminus \\{N\\}$。所以，我们必须找到使 $f(\\varphi_N^{-1}(u)) = N$ 成立的 $u$。\n点 $N$ 对应于 $(\\cos(2\\theta), \\sin(2\\theta)) = (0, 1)$。根据我们对 $F_N(u)$ 的计算，这意味着 $\\frac{-u^4+6u^2-1}{(u^2+1)^2}=0$ 且 $\\frac{4u(u^2-1)}{(u^2+1)^2}=1$。第一个条件给出 $u^2 = 3 \\pm 2\\sqrt{2} = (1\\pm\\sqrt{2})^2$，所以 $u = \\pm(1\\pm\\sqrt{2})$。将这些值代入第二个条件检验，发现只有 $u=1+\\sqrt{2}$ 和 $u=1-\\sqrt{2}$ 使得正弦值为 $1$。因此，$F_N$ 的自然定义域是 $\\mathbb{R} \\setminus \\{1-\\sqrt{2}, 1+\\sqrt{2}\\}$。这些恰好是分母 $-u^2+2u+1$ 的根。\n对 $F_S$ 进行类似分析，可知它对所有满足 $f(\\varphi_S^{-1}(v)) \\neq S$ 的 $v$ 都有定义。点 $S$ 对应于 $(\\cos(2\\theta), \\sin(2\\theta)) = (0,-1)$。这发生在 $v=1+\\sqrt{2}$ 和 $v=-(\\sqrt{2}-1) = 1-\\sqrt{2}$ 时，这些是分母 $-v^2+2v+1$ 的根。因此，$F_S$ 的自然定义域是 $\\mathbb{R} \\setminus \\{1-\\sqrt{2}, 1+\\sqrt{2}\\}$。\n\n### 任务4：验证 $f$ 的光滑性\n一个映射 $f: M \\to M$ 是光滑的，如果对每一点 $p \\in M$，都存在给定图册中围绕 $p$ 的坐标卡 $(U, \\varphi)$ 和围绕 $f(p)$ 的坐标卡 $(V, \\psi)$，使得局部表示 $\\psi \\circ f \\circ \\varphi^{-1}$ 是欧几里得空间开子集之间的光滑映射。我们的图册是 $\\mathcal{A} = \\{(S^1 \\setminus \\{N\\}, \\varphi_N), (S^1 \\setminus \\{S\\}, \\varphi_S)\\}$。\n我们必须对任意 $p \\in S^1$ 证明这一点。\n1. 如果 $p \\neq N$ 且 $f(p) \\neq N$：对定义域和上域都使用坐标卡 $\\varphi_N$。局部映射为 $F_N(u) = \\frac{u^2+2u-1}{-u^2+2u+1}$，这是一个有理函数，在其定义域上是光滑的（$C^\\infty$）。\n2. 如果 $p \\neq S$ 且 $f(p) \\neq S$：使用坐标卡 $\\varphi_S$。局部映射为 $F_S(v) = \\frac{v^2+2v-1}{-v^2+2v+1}$，也是一个光滑的有理函数。\n3. 如果 $f(p)=N$：那么 $p$ 不可能是 $N$（因为 $f(N) = (-1,0)$）。我们可以取围绕 $p$ 的坐标卡 $(S^1 \\setminus \\{N\\}, \\varphi_N)$ 和围绕 $f(p)=N$ 的坐标卡 $(S^1 \\setminus \\{S\\}, \\varphi_S)$。局部表示为 $\\varphi_S \\circ f \\circ \\varphi_N^{-1}$。如规划中所示，该映射是一个有理函数，在 $\\varphi_N(p)$ 的一个邻域内是光滑的。\n4. 如果 $p=N$：使用围绕 $p=N$ 的坐标卡 $(S^1 \\setminus \\{S\\}, \\varphi_S)$。$f(N)=(-1,0) \\neq N$ 且 $f(N) \\neq S$。我们可以在 $f(N)$ 周围使用任一坐标卡；让我们使用 $\\varphi_N$。局部映射为 $\\varphi_N \\circ f \\circ \\varphi_S^{-1}$。这是一个有理函数，在 $\\varphi_S(N)=0$ 的一个邻域内是光滑的。\n\n在所有情况下，$f$ 的局部表示都是一个有理函数，在其定义域上是光滑的。因为对于 $S^1$ 上的任意点 $p$，我们都能找到合适的坐标卡，所以 $f$ 是一个光滑映射。\n\n最终答案需要 $F_N$ 和 $F_S$ 的表达式。\n$$ F_N(u) = \\frac{u^2+2u-1}{-u^2+2u+1} $$\n$$ F_S(v) = \\frac{v^2+2v-1}{-v^2+2v+1} $$\n这些表达式定义了具有相同代数形式的函数。对每个表示使用一个通用坐标变量 $x$：\n$$ F(x) = \\frac{x^2+2x-1}{-x^2+2x+1} $$",
            "answer": "$$ \\boxed{ \\begin{pmatrix} \\frac{u^2+2u-1}{-u^2+2u+1}  \\frac{v^2+2v-1}{-v^2+2v+1} \\end{pmatrix} } $$"
        }
    ]
}