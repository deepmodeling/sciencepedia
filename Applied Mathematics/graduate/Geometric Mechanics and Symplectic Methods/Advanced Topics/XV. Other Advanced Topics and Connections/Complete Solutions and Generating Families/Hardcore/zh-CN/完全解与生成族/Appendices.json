{
    "hands_on_practices": [
        {
            "introduction": "正则变换通常由母函数描述，根据所选变量的不同，母函数有不同的“类型”。利用勒让德变换在这些类型之间切换是一项基本技能，它使得解决问题时具有更大的灵活性。第一个练习  旨在通过将第一类母函数转换为等效的第二类母函数，提供直接的实践，从而巩固这一关键对偶关系的力学原理。",
            "id": "3733703",
            "problem": "考虑一个有限维位形流形 $Q$，其上的余切丛 $T^{*}Q$ 赋有典范1-形式 $\\theta = p \\,\\mathrm{d}q$ 和辛形式 $\\omega = \\mathrm{d}\\theta$。典范变换是 $T^{*}Q$ 上的一个辛同胚，它可以被实现为一个精确拉格朗日(Lagrangian)子流形，该子流形由一个从生成族导出的精确1-形式的图像给出。在哈密顿-雅可比(Hamilton-Jacobi, HJ)框架中，一个完全解会导出一个这样的生成族，并且人们可以通过使用凸分析中的勒让德(Legendre)对偶性交换类位形变量和类动量变量，在不同类型的生成函数之间进行转换。设 $F_{1}(q,Q)$ 是一个第1类生成函数，它依赖于旧位形变量 $q$ 和新位形变量 $Q$，并满足正则性条件 $\\partial^{2}F_{1}/\\partial Q^{2}$ 可逆，从而关于 $Q$ 的偏勒让德变换存在。\n\n给定具体的第1类生成函数\n$$\nF_{1}(q,Q) \\;=\\; \\tfrac{1}{2}\\,a\\,q^{2} \\;+\\; b\\,q\\,Q \\;+\\; \\tfrac{1}{2}\\,c\\,Q^{2},\n$$\n其中 $a$、$b$ 和 $c$ 是满足 $c \\neq 0$ 的常数参数，请对变量 $Q$ 进行适当的勒让德对偶变换，以获得等价的、依赖于旧位形变量 $q$ 和新动量变量 $P$ 的第2类生成函数 $F_{2}(q,P)$。将你的最终答案表示为 $F_{2}(q,P)$ 关于 $q$、$P$、$a$、$b$ 和 $c$ 的单一闭式解析表达式。不需要进行数值计算，也不涉及单位。最终答案必须是单一的解析表达式。",
            "solution": "该问题有效。这是一个几何力学中的适定问题，基于典范变换和勒让德对偶性的既定原理。所有必要信息均已提供，条件一致，术语精确。\n\n目标是通过对变量 $Q$ 进行勒让德变换，找到与给定的第1类生成函数 $F_{1}(q,Q)$ 相对应的第2类生成函数 $F_{2}(q,P)$。\n\n第1类生成函数 $F_1(q,Q)$ 依赖于旧位形变量 $q$ 和新位形变量 $Q$。它通过以下关系定义了一个典范变换：\n$$\np = \\frac{\\partial F_1}{\\partial q}\n$$\n$$\nP = -\\frac{\\partial F_1}{\\partial Q}\n$$\n其中 $p$ 是旧动量，$P$ 是新动量。\n\n第2类生成函数 $F_2(q,P)$ 依赖于旧位形变量 $q$ 和新动量变量 $P$。它通过以下关系定义了相同的典范变换：\n$$\np = \\frac{\\partial F_2}{\\partial q}\n$$\n$$\nQ = \\frac{\\partial F_2}{\\partial P}\n$$\n\n这两类生成函数之间的关系由勒让德变换给出。具体来说，$F_2(q,P)$ 是通过以下公式从 $F_1(q,Q)$ 获得的：\n$$\nF_{2}(q,P) = F_{1}(q,Q) + P Q\n$$\n在此表达式中，变量 $Q$ 必须表示为 $F_2$ 的变量 $q$ 和 $P$ 的函数。这个函数依赖关系 $Q(q,P)$，是通过反解新动量的关系式 $P = -\\frac{\\partial F_1}{\\partial Q}$ 来找到的。\n\n给定的第1类生成函数为：\n$$\nF_{1}(q,Q) = \\frac{1}{2}aq^{2} + bqQ + \\frac{1}{2}cQ^{2}\n$$\n参数 $a$，$b$ 和 $c$ 是常数，并满足给定条件 $c \\neq 0$。\n\n首先，我们建立新动量 $P$ 与 $F_1$ 变量之间的关系：\n$$\nP = -\\frac{\\partial F_1}{\\partial Q} = -\\frac{\\partial}{\\partial Q} \\left(\\frac{1}{2}aq^{2} + bqQ + \\frac{1}{2}cQ^{2}\\right)\n$$\n对 $Q$ 进行偏微分，得到：\n$$\nP = -(bq + cQ) = -bq - cQ\n$$\n问题要求我们将 $Q$ 表示为 $q$ 和 $P$ 的函数。我们可以重排上述方程来求解 $Q$：\n$$\ncQ = -P - bq\n$$\n$$\nQ = -\\frac{P+bq}{c}\n$$\n由于给定条件 $c \\neq 0$，这个反解是可能的。该条件等价于所述的正则性条件，即 $\\frac{\\partial^2 F_1}{\\partial Q^2} = c$ 是可逆的。\n\n现在，我们将 $Q$ 的这个表达式代入 $F_2(q,P)$ 的勒让德变换公式中：\n$$\nF_{2}(q,P) = F_{1}(q, Q(q,P)) + P Q(q,P)\n$$\n$$\nF_2(q,P) = \\left[ \\frac{1}{2}aq^2 + bq\\left(-\\frac{P+bq}{c}\\right) + \\frac{1}{2}c\\left(-\\frac{P+bq}{c}\\right)^2 \\right] + P\\left(-\\frac{P+bq}{c}\\right)\n$$\n为了简化这个表达式，我们可以按部就班地进行。一个高效的简化策略如下：变换公式可以写成 $F_2(q,P) = \\frac{1}{2}aq^2 + Q(bq+P) + \\frac{1}{2}cQ^2$。从关系式 $P = -bq - cQ$，我们有 $bq+P = -cQ$。将此代入 $F_2$ 的表达式中，得到：\n$$\nF_2(q,P) = \\frac{1}{2}aq^2 + Q(-cQ) + \\frac{1}{2}cQ^2 = \\frac{1}{2}aq^2 - cQ^2 + \\frac{1}{2}cQ^2\n$$\n$$\nF_2(q,P) = \\frac{1}{2}aq^2 - \\frac{1}{2}cQ^2\n$$\n这提供了一个简单得多的中间形式。现在，我们将表达式 $Q = -\\frac{P+bq}{c}$ 代入这个结果中：\n$$\nF_2(q,P) = \\frac{1}{2}aq^2 - \\frac{1}{2}c \\left( -\\frac{P+bq}{c} \\right)^2\n$$\n$$\nF_2(q,P) = \\frac{1}{2}aq^2 - \\frac{1}{2}c \\frac{(P+bq)^2}{c^2}\n$$\n$$\nF_2(q,P) = \\frac{1}{2}aq^2 - \\frac{(P+bq)^2}{2c}\n$$\n展开分子中的平方项：\n$$\nF_2(q,P) = \\frac{1}{2}aq^2 - \\frac{P^2 + 2bqP + b^2q^2}{2c}\n$$\n为了得到一个单一的闭式表达式，我们可以合并各项：\n$$\nF_2(q,P) = \\frac{acq^2}{2c} - \\frac{P^2 + 2bqP + b^2q^2}{2c} = \\frac{acq^2 - (P^2 + 2bqP + b^2q^2)}{2c}\n$$\n$$\nF_2(q,P) = \\frac{(ac-b^2)q^2 - 2bqP - P^2}{2c}\n$$\n这个表达式可以写成变量 $q$ 和 $P$ 的二次型：\n$$\nF_{2}(q,P) = \\frac{ac-b^2}{2c}q^2 - \\frac{b}{c}qP - \\frac{1}{2c}P^2\n$$\n这就是第2类生成函数 $F_2(q,P)$ 的最终表达式。",
            "answer": "$$\n\\boxed{\\frac{ac-b^2}{2c}q^2 - \\frac{b}{c}qP - \\frac{1}{2c}P^2}\n$$"
        },
        {
            "introduction": "哈密顿形式主义的优雅之处在于，通过使用庞加莱-嘉当一阶微分形式，可以无缝地扩展到含时系统。由含时母函数描述的含时正则变换对于简化非自治哈密顿量至关重要。本练习  将引导你从第一性原理出发，推导变换后的哈密顿量，阐明母函数形式主义如何正确地将时间演化纳入其中。",
            "id": "3733691",
            "problem": "考虑一个单自由度的哈密顿系统，其广义坐标为 $q$，共轭动量为 $p$，时间为 $t$，哈密顿量由下式给出\n$$\nH(q,p,t) = \\frac{p^{2}}{2 m} + \\frac{1}{2} m \\omega^{2}(t)\\, q^{2},\n$$\n其中 $m>0$ 是一个常数质量，$\\omega(t)>0$ 是一个光滑、严格为正、随时间变化的频率。一个含时的正则变换 $(q,p,t)\\mapsto(Q,P,t)$ 由一个II类生成函数族（第二类生成函数）$F_{2}(q,P,t)$ 指定，假定其对所有变量都是光滑的，关系式如下\n$$\np = \\frac{\\partial F_{2}}{\\partial q}(q,P,t), \\qquad Q = \\frac{\\partial F_{2}}{\\partial P}(q,P,t),\n$$\n变换后的哈密顿量 $K(Q,P,t)$ 由庞加莱-嘉当一形式 $p\\,\\mathrm{d}q - H\\,\\mathrm{d}t$ 映射到 $P\\,\\mathrm{d}Q - K\\,\\mathrm{d}t$（相差一个全微分 $\\mathrm{d}F_{2}$）的条件定义。设该生成函数族取以下二次型形式\n$$\nF_{2}(q,P,t) = \\mu(t)\\, q\\, P + \\frac{1}{2}\\, \\nu(t)\\, P^{2},\n$$\n其中 $\\mu(t)$ 和 $\\nu(t)$ 是给定的光滑函数，且对所有 $t$ 都有 $\\mu(t)\\neq 0$。\n\n从含时正则变换通过生成函数族和庞加莱-嘉当一形式的基本定义出发，推导变换后的哈密顿量 $K(Q,P,t)$，用 $Q$、$P$、$t$、$m$、$\\omega(t)$、$\\mu(t)$、$\\nu(t)$ 及其时间导数显式表示。您的推导必须从庞加莱-嘉当一形式的条件以及定义关系式 $p = \\partial F_{2}/\\partial q$、$Q = \\partial F_{2}/\\partial P$ 开始；不要在没有从第一性原理进行论证的情况下假设任何关于 $K$ 的目标公式。最终答案必须是 $K(Q,P,t)$ 的一个单一闭式解析表达式，写成 $Q$ 和 $P$ 的二次型，其系数随时间变化。使用记号 $\\dot{\\mu}(t) = \\mathrm{d}\\mu/\\mathrm{d}t$ 和 $\\dot{\\nu}(t) = \\mathrm{d}\\nu/\\mathrm{d}t$ 表示时间导数。不需要进行数值计算或四舍五入。",
            "solution": "该问题要求在一个由II类生成函数族 $F_{2}(q,P,t)$ 定义的特定含时正则变换下，推导含时谐振子的变换后的哈密顿量 $K(Q,P,t)$。推导过程必须从庞加莱-嘉当一形式的基本条件出发。\n\n定义含时正则变换 $(q,p) \\mapsto (Q,P)$ 的基本原理是，庞加莱-嘉当一形式 $p\\,\\mathrm{d}q - H\\,\\mathrm{d}t$ 和 $P\\,\\mathrm{d}Q - K\\,\\mathrm{d}t$ 相差一个全微分。对于由II类生成函数 $F_2(q,P,t)$ 定义的变换，这个精确关系是：\n$$\np\\,\\mathrm{d}q - H\\,\\mathrm{d}t = P\\,\\mathrm{d}Q - K\\,\\mathrm{d}t + \\mathrm{d}F\n$$\n为了将此关系与 $F_2(q,P,t)$ 联系起来，我们需要将自变量转换为 $(q, P, t)$。我们使用勒让德变换的技巧，注意到 $P\\,\\mathrm{d}Q = \\mathrm{d}(PQ) - Q\\,\\mathrm{d}P$。将此代入上式：\n$$\np\\,\\mathrm{d}q - H\\,\\mathrm{d}t = (\\mathrm{d}(PQ) - Q\\,\\mathrm{d}P) - K\\,\\mathrm{d}t + \\mathrm{d}F\n$$\n重排各项，将与 $(q, P, t)$ 相关的微分放在一边：\n$$\np\\,\\mathrm{d}q + Q\\,\\mathrm{d}P + (K - H)\\,\\mathrm{d}t = \\mathrm{d}(PQ) + \\mathrm{d}F = \\mathrm{d}(F+PQ)\n$$\n我们定义II类生成函数为 $F_2(q,P,t) = F + PQ$。于是，我们得到了II类生成函数所满足的基本微分关系：\n$$\n\\mathrm{d}F_2 = p\\,\\mathrm{d}q + Q\\,\\mathrm{d}P + (K - H)\\,\\mathrm{d}t\n$$\n这个基本关系将自变量 $(q, P, t)$ 的微分与生成函数 $F_2(q,P,t)$ 的微分联系起来。根据多元微积分的法则，$F_2(q,P,t)$ 的全微分也由下式给出：\n$$\n\\mathrm{d}F_2 = \\frac{\\partial F_2}{\\partial q} \\mathrm{d}q + \\frac{\\partial F_2}{\\partial P} \\mathrm{d}P + \\frac{\\partial F_2}{\\partial t} \\mathrm{d}t\n$$\n通过比较 $\\mathrm{d}F_2$ 这两个表达式中独立微分 $\\mathrm{d}q$、$\\mathrm{d}P$ 和 $\\mathrm{d}t$ 的系数，我们推导出正则变换方程：\n$$\np = \\frac{\\partial F_2}{\\partial q}, \\qquad Q = \\frac{\\partial F_2}{\\partial P}, \\qquad K - H = \\frac{\\partial F_2}{\\partial t}\n$$\n这些方程中的最后一个给出了变换哈密顿量的规则：\n$$\nK(Q,P,t) = H(q,p,t) + \\frac{\\partial F_2}{\\partial t}(q,P,t)\n$$\n为了找到 $K(Q, P, t)$ 的显式形式，我们必须将右侧完全用新变量 $(Q, P)$ 和时间 $t$ 来表示。给定的生成函数族是：\n$$\nF_{2}(q,P,t) = \\mu(t)\\, q\\, P + \\frac{1}{2}\\, \\nu(t)\\, P^{2}\n$$\n首先，我们通过对 $F_2$ 求导来找到变换关系：\n$$\np = \\frac{\\partial F_{2}}{\\partial q}(q,P,t) = \\mu(t)\\, P\n$$\n$$\nQ = \\frac{\\partial F_{2}}{\\partial P}(q,P,t) = \\mu(t)\\, q + \\nu(t)\\, P\n$$\n接下来，我们求 $F_2$ 的时间偏导数：\n$$\n\\frac{\\partial F_{2}}{\\partial t}(q,P,t) = \\dot{\\mu}(t)\\, q\\, P + \\frac{1}{2}\\, \\dot{\\nu}(t)\\, P^{2}\n$$\n现在，我们必须用新变量 $(Q,P)$ 来表示旧变量 $(q,p)$。$p$ 的表达式已经用 $P$ 表示了。为了求出 $q$，我们解关于 $Q$ 的方程。由于 $\\mu(t) \\neq 0$：\n$$\n\\mu(t)\\, q = Q - \\nu(t)\\, P \\implies q = \\frac{1}{\\mu(t)} \\left( Q - \\nu(t)\\, P \\right)\n$$\n现在我们将 $p$ 和 $q$ 的这些表达式代入 $K(Q,P,t)$ 的公式中：\n$$\nK(Q,P,t) = \\left( \\frac{p^2}{2m} + \\frac{1}{2} m \\omega(t)^2 q^2 \\right) + \\left( \\dot{\\mu}(t) q P + \\frac{1}{2} \\dot{\\nu}(t) P^2 \\right)\n$$\n$$\nK(Q,P,t) = \\frac{(\\mu(t)P)^{2}}{2 m} + \\frac{1}{2} m \\omega(t)^{2} \\left(\\frac{Q - \\nu(t)P}{\\mu(t)}\\right)^{2} + \\dot{\\mu}(t) \\left(\\frac{Q - \\nu(t)P}{\\mu(t)}\\right) P + \\frac{1}{2} \\dot{\\nu}(t) P^2\n$$\n为了得到关于 $Q$ 和 $P$ 的最终二次型，我们展开并合并同类项：\n$$\nK(Q,P,t) = \\frac{\\mu(t)^2}{2m} P^2 + \\frac{m \\omega(t)^2}{2\\mu(t)^2} \\left( Q^2 - 2\\nu(t)QP + \\nu(t)^2 P^2 \\right) + \\frac{\\dot{\\mu}(t)}{\\mu(t)} \\left( QP - \\nu(t) P^2 \\right) + \\frac{1}{2} \\dot{\\nu}(t) P^2\n$$\n我们按 $Q$ 和 $P$ 的幂次对各项进行分组：\n$Q^2$ 的系数是：\n$$\n\\frac{m \\omega(t)^2}{2\\mu(t)^2}\n$$\n$QP$ 的系数是：\n$$\n-\\frac{m \\omega(t)^2 \\nu(t)}{\\mu(t)^2} + \\frac{\\dot{\\mu}(t)}{\\mu(t)}\n$$\n$P^2$ 的系数是所有剩余项之和：\n$$\n\\frac{\\mu(t)^2}{2m} + \\frac{m \\omega(t)^2 \\nu(t)^2}{2\\mu(t)^2} - \\frac{\\dot{\\mu}(t)\\nu(t)}{\\mu(t)} + \\frac{\\dot{\\nu}(t)}{2}\n$$\n合并这些系数，我们得到变换后的哈密顿量 $K(Q,P,t)$ 作为二次型的最终表达式：\n$$\nK(Q,P,t) = \\left(\\frac{m \\omega(t)^2}{2\\mu(t)^2}\\right) Q^2 + \\left(\\frac{\\dot{\\mu}(t)}{\\mu(t)} - \\frac{m \\omega(t)^2 \\nu(t)}{\\mu(t)^2}\\right) QP + \\left(\\frac{\\mu(t)^2}{2m} + \\frac{m \\omega(t)^2 \\nu(t)^2}{2\\mu(t)^2} - \\frac{\\dot{\\mu}(t)\\nu(t)}{\\mu(t)} + \\frac{\\dot{\\nu}(t)}{2}\\right) P^2\n$$\n此表达式是新哈密顿量的完整且显式的形式，用新的正则变量 $(Q,P)$、时间 $t$ 以及给定的函数和参数表示，符合要求。",
            "answer": "$$\n\\boxed{\\frac{m \\omega(t)^2}{2\\mu(t)^2} Q^2 + \\left(\\frac{\\dot{\\mu}(t)}{\\mu(t)} - \\frac{m \\omega(t)^2 \\nu(t)}{\\mu(t)^2}\\right) QP + \\left(\\frac{\\mu(t)^2}{2m} + \\frac{m \\omega(t)^2 \\nu(t)^2}{2\\mu(t)^2} - \\frac{\\dot{\\mu}(t)\\nu(t)}{\\mu(t)} + \\frac{\\dot{\\nu}(t)}{2}\\right) P^2}\n$$"
        }
    ]
}