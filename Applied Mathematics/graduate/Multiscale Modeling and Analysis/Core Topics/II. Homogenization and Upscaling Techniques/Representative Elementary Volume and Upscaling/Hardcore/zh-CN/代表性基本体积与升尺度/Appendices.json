{
    "hands_on_practices": [
        {
            "introduction": "在多尺度建模中，一个常见的误解是认为宏观有效属性仅仅是其微观组分属性的体积平均。本练习旨在通过一个简单的一维扩散问题，揭示这种“朴素平均”方法的陷阱。您将推导并比较两种不同的尺度放大方案，从而亲身体会微观结构排列如何深刻影响局部场（如浓度梯度）与材料属性之间的关联，并最终决定宏观响应。这项实践将为理解为何需要更严谨的均质化理论奠定概念基础 。",
            "id": "3803717",
            "problem": "考虑在域 $[0,L]$ 上，一种被动标量的稳态一维扩散，其浓度场为 $c(x)$。该域由两种材料构成，这些材料以平行于宏观梯度的层状方式排列。局部本构关系为 Fick 定律 $j(x)=-k(x)\\frac{dc}{dx}$，其中 $k(x)$ 是分段常数，取值为 $k_a0$ 或 $k_b0$。在每次实现中，总长度 $L$ 的一部分 $f\\in(0,1)$ 被材料 a（扩散系数为 $k_a$）占据，剩余部分 $1-f$ 被材料 b（扩散系数为 $k_b$）占据；两层的顺序在不同实现之间可能不同，但各组分的分数是固定的。边界浓度被指定为 $c(0)=c_0$ 和 $c(L)=c_1$，且 $c_0c_1$。\n\n通过两种不同的升尺度程序定义有效扩散系数：\n\n1) 基于系综的升尺度：在上述边界条件下，通过将系综平均总通量等同于 $-\\;D_{\\mathrm{ens}}\\,\\frac{c_1-c_0}{L}$ 来定义 $D_{\\mathrm{ens}}$，其中系综平均是针对层的随机排序进行的，同时保持分数 $f$ 和 $1-f$ 不变。\n\n2) 基于体积的朴素升尺度：通过采用一个体积平均闭合来定义 $D_{\\mathrm{vol}}$，该闭合假设 $\\left\\langle \\frac{dc}{dx}\\right\\rangle \\approx \\frac{c_1-c_0}{L}$ 并忽略 $k(x)$ 与 $\\frac{dc}{dx}(x)$ 之间的相关性，从而平均通量近似为 $-\\;\\langle k \\rangle\\,\\frac{c_1-c_0}{L}$，其中 $\\langle k \\rangle$ 表示 $k(x)$ 在域上的空间（体积）平均值。\n\n仅从稳态质量守恒和 Fick 定律出发，用 $f$、$k_a$ 和 $k_b$ 符号推导 $D_{\\mathrm{ens}}$ 和 $D_{\\mathrm{vol}}$，然后计算差异因子 $\\Xi=\\frac{D_{\\mathrm{ens}}}{D_{\\mathrm{vol}}}$。以 $f$、$k_a$ 和 $k_b$ 的单个闭式解析表达式形式提供 $\\Xi$。不需要进行数值计算。最后，根据 $k(x)$ 和 $\\frac{dc}{dx}(x)$ 之间的相关性以及对代表性单元体积（REV）存在的意义，简要论证为什么这两种升尺度路径在该测试案例中会产生不同的有效扩散系数。你的最终答案应仅为 $\\Xi$ 的解析表达式，不带单位或附加文本。",
            "solution": "对问题陈述的有效性进行分析。\n\n**步骤1：提取已知条件**\n- **系统：** 稳态、一维被动标量扩散。\n- **域：** $[0,L]$。\n- **浓度场：** $c(x)$。\n- **本构关系 (Fick 定律)：** $j(x)=-k(x)\\frac{dc}{dx}$。\n- **扩散系数：** $k(x)$ 是分段常数，取值为 $k_a0$ 或 $k_b0$。\n- **微观结构：** 两种材料以平行于宏观梯度的层状排列（解释为沿 $x$ 轴串联的层）。\n- **体积分数：** 材料 'a' ($k_a$) 占据总长度 $L$ 的分数 $f\\in(0,1)$；材料 'b' ($k_b$) 占据剩余的分数 $1-f$。\n- **系综：** 两层的顺序可能变化，但分数是固定的。\n- **边界条件：** $c(0)=c_0$ 和 $c(L)=c_1$，其中 $c_0c_1$。\n- **定义1 ($D_{\\mathrm{ens}}$)：** 基于系综的有效扩散系数 $D_{\\mathrm{ens}}$ 的定义方式为，将系综平均总通量等同于 $-D_{\\mathrm{ens}}\\,\\frac{c_1-c_0}{L}$。\n- **定义2 ($D_{\\mathrm{vol}}$)：** 基于体积的朴素有效扩散系数 $D_{\\mathrm{vol}}$ 由一个忽略 $k(x)$ 和 $\\frac{dc}{dx}$ 之间相关性的闭合假设定义，使得平均通量近似为 $-\\;\\langle k \\rangle\\,\\frac{c_1-c_0}{L}$。这意味着 $D_{\\mathrm{vol}} = \\langle k \\rangle$，即 $k(x)$ 的空间平均值。\n- **任务：** 符号推导 $D_{\\mathrm{ens}}$ 和 $D_{\\mathrm{vol}}$ 的表达式，计算差异因子 $\\Xi=\\frac{D_{\\mathrm{ens}}}{D_{\\mathrm{vol}}}$，并解释差异的来源。\n\n**步骤2：使用提取的已知条件进行验证**\n- **科学依据：** 该问题基于非均质介质中扩散 (Fick 定律) 和质量守恒的基本原理。这是均质化和多尺度分析领域的标准和典型问题。所有原理在科学上都是合理的。\n- **适定性：** 该问题是适定的。控制方程、边界条件和材料属性都已明确指定，从而可以为每个实现确定唯一解。有效系数的定义是明确且可形式化的。\n- **客观性：** 问题以精确、客观和数学化的语言陈述。\n- **缺陷分析：** 该问题没有违反任何指定的无效标准。它在科学上是合理的、适定的、完整的、现实的（在模型问题的背景下）并且是非平凡的。在一维背景下，“层平行于宏观梯度”这一短语略有不精确，但通常被理解为指层串联排列，垂直于流动方向，这与随后材料占据长度 $L$ 的分数的设置相一致。\n\n**步骤3：结论与行动**\n该问题被判定为**有效**。将提供完整解答。\n\n**有效系数的推导**\n\n稳态一维扩散的控制方程由质量守恒 $\\frac{\\partial c}{\\partial t} + \\frac{\\partial j}{\\partial x} = 0$ 导出。对于稳态（$\\frac{\\partial c}{\\partial t} = 0$），该方程简化为：\n$$\n\\frac{dj}{dx} = 0\n$$\n这意味着质量通量 $j(x)$ 在整个域 $[0, L]$ 上是恒定的。设此恒定通量为 $J$。\n\n使用 Fick 定律 $j(x) = -k(x) \\frac{dc}{dx}$，我们有：\n$$\nJ = -k(x) \\frac{dc}{dx} \\implies \\frac{dc}{dx} = -\\frac{J}{k(x)}\n$$\n为求得整个域上的总浓度差，我们将梯度从 $x=0$ 积分到 $x=L$：\n$$\nc(L) - c(0) = \\int_0^L \\frac{dc}{dx} dx = \\int_0^L \\left(-\\frac{J}{k(x)}\\right) dx = -J \\int_0^L \\frac{1}{k(x)} dx\n$$\n代入边界条件 $c(0)=c_0$ 和 $c(L)=c_1$：\n$$\nc_1 - c_0 = -J \\int_0^L \\frac{1}{k(x)} dx\n$$\n求解恒定通量 $J$：\n$$\nJ = \\frac{c_0 - c_1}{\\int_0^L \\frac{1}{k(x)} dx}\n$$\n这个通量 $J$ 的表达式对材料的任何具体排列都有效。\n\n**1) $D_{\\mathrm{ens}}$ 的推导（基于系综的升尺度）**\n\n该系综包含两种材料层所有可能的排序。在这种情况下，有两层，即存在两种实现：\n- 实现 1：材料 'a' 在 $[0, fL]$ 上，材料 'b' 在 $[fL, L]$ 上。\n- 实现 2：材料 'b' 在 $[0, (1-f)L]$ 上，材料 'a' 在 $[(1-f)L, L]$ 上。\n\n我们必须计算每个实现的通量 $J$。关键项是积分 $\\int_0^L \\frac{1}{k(x)} dx$。\n对于实现 1：\n$$\n\\int_0^L \\frac{1}{k(x)} dx = \\int_0^{fL} \\frac{1}{k_a} dx + \\int_{fL}^L \\frac{1}{k_b} dx = \\frac{fL}{k_a} + \\frac{L-fL}{k_b} = L \\left( \\frac{f}{k_a} + \\frac{1-f}{k_b} \\right)\n$$\n对于实现 2：\n$$\n\\int_0^L \\frac{1}{k(x)} dx = \\int_0^{(1-f)L} \\frac{1}{k_b} dx + \\int_{(1-f)L}^L \\frac{1}{k_a} dx = \\frac{(1-f)L}{k_b} + \\frac{L-(1-f)L}{k_a} = L \\left( \\frac{1-f}{k_b} + \\frac{f}{k_a} \\right)\n$$\n两种实现的积分是相同的。因此，对于系综中的每个成员，通量 $J$ 都是相同的：\n$$\nJ = \\frac{c_0 - c_1}{L \\left( \\frac{f}{k_a} + \\frac{1-f}{k_b} \\right)}\n$$\n系综平均通量 $\\langle J \\rangle_{\\mathrm{ens}}$ 就是 $J$。根据问题对 $D_{\\mathrm{ens}}$ 的定义：\n$$\n\\langle J \\rangle_{\\mathrm{ens}} = -D_{\\mathrm{ens}} \\frac{c_1 - c_0}{L} = D_{\\mathrm{ens}} \\frac{c_0 - c_1}{L}\n$$\n将平均通量的两个表达式相等：\n$$\nD_{\\mathrm{ens}} \\frac{c_0 - c_1}{L} = \\frac{c_0 - c_1}{L \\left( \\frac{f}{k_a} + \\frac{1-f}{k_b} \\right)}\n$$\n求解 $D_{\\mathrm{ens}}$ 得到由体积分数加权的扩散系数的调和平均值：\n$$\nD_{\\mathrm{ens}} = \\frac{1}{\\frac{f}{k_a} + \\frac{1-f}{k_b}}\n$$\n\n**2) $D_{\\mathrm{vol}}$ 的推导（基于体积的朴素升尺度）**\n\n问题将 $D_{\\mathrm{vol}}$ 定义为一个朴素升尺度程序的结果，其中 $D_{\\mathrm{vol}} = \\langle k \\rangle$，即扩散系数 $k(x)$ 的空间（体积）平均值。体积平均值由下式给出：\n$$\n\\langle k \\rangle = \\frac{1}{L} \\int_0^L k(x) dx\n$$\n材料 'a' 占用的总长度是 $fL$，材料 'b' 占用的总长度是 $(1-f)L$，这与它们的顺序无关。因此，该积分与具体实现无关：\n$$\n\\int_0^L k(x) dx = k_a (fL) + k_b ((1-f)L) = L (f k_a + (1-f) k_b)\n$$\n因此，$D_{\\mathrm{vol}}$ 是由体积分数加权的扩散系数的算术平均值：\n$$\nD_{\\mathrm{vol}} = \\langle k \\rangle = f k_a + (1-f) k_b\n$$\n\n**3) 差异因子 $\\Xi$ 的计算**\n\n差异因子 $\\Xi$ 是比率 $\\frac{D_{\\mathrm{ens}}}{D_{\\mathrm{vol}}}$。\n首先，我们简化 $D_{\\mathrm{ens}}$ 的表达式：\n$$\nD_{\\mathrm{ens}} = \\frac{1}{\\frac{f k_b + (1-f) k_a}{k_a k_b}} = \\frac{k_a k_b}{f k_b + (1-f) k_a}\n$$\n现在，我们计算这个比率：\n$$\n\\Xi = \\frac{D_{\\mathrm{ens}}}{D_{\\mathrm{vol}}} = \\frac{\\frac{k_a k_b}{f k_b + (1-f) k_a}}{f k_a + (1-f) k_b}\n$$\n这就得出了差异因子的最终解析表达式：\n$$\n\\Xi = \\frac{k_a k_b}{(f k_a + (1-f) k_b)(f k_b + (1-f) k_a)}\n$$\n\n**差异的论证**\n\n这两种升尺度程序产生不同结果，因为它们以不同方式处理微观涨落。精确的体积平均通量是 $\\langle j \\rangle = \\langle -k(x) \\frac{dc}{dx} \\rangle = - \\langle k \\frac{dc}{dx} \\rangle$。根据统计协方差的定义，$\\langle k \\frac{dc}{dx} \\rangle = \\langle k \\rangle \\langle \\frac{dc}{dx} \\rangle + \\mathrm{Cov}(k, \\frac{dc}{dx})$。\n\n基于体积的朴素方法 ($D_{\\mathrm{vol}}$) 做了一个明确的闭合假设，即该协方差项为零，即 $\\langle k \\frac{dc}{dx} \\rangle \\approx \\langle k \\rangle \\langle \\frac{dc}{dx} \\rangle$。这导致有效扩散系数等于算术平均值 $\\langle k \\rangle$。\n\n基于系综的方法 ($D_{\\mathrm{ens}}$) 是一种物理上正确的方法，它没有做这样的近似。它计算了给定边界条件和微观结构下的精确通量。由此产生的有效扩散系数，即加权调和平均值，正确地捕捉了潜在的物理原理。\n\n差异的产生正是因为协方差项不为零。对于这种串联排列，通量 $J$ 是恒定的，这意味着局部浓度梯度为 $\\frac{dc}{dx} = -J/k(x)$。任何一点的梯度都与当地的扩散系数成反比。这意味着 $k(x)$ 和 $\\frac{dc}{dx}$ 是强（负）相关的。高扩散系数的区域梯度较缓，而低扩散系数的区域梯度较陡。朴素的体积平均方案之所以失败，是因为它忽略了这种由结构引起的相关性。\n\n关于代表性单元体积（REV），对于这个简单的一维串联情况，有效属性 $D_{\\mathrm{ens}}$ 仅取决于体积分数 $f$ 和 $1-f$，而不取决于层的具体排序或总域大小 $L$。这意味着任何具有这些体积分数的样本在宏观尺度上的行为都是相同的，因此可以被视为该特定输运问题的 REV。朴素体积平均的失败不是由于缺少 REV，而是由于使用了不正确的数学闭合假设进行平均。",
            "answer": "$$\n\\boxed{\\frac{k_a k_b}{(f k_a + (1-f) k_b)(f k_b + (1-f) k_a)}}\n$$"
        },
        {
            "introduction": "在揭示了朴素平均法的局限性之后，我们转向周期性复合材料的严谨处理方法：均质化理论。该理论的核心是求解一个定义在代表性体积元（REV）上的“胞问题”。本练习将指导您完成这一关键流程，从建立标量扩散的周期性胞问题，到推导其适用于有限元等数值方法的弱形式。通过解决一个层状微观结构的具体案例，您将掌握计算有效属性的标准计算框架 。",
            "id": "3803729",
            "problem": "考虑在周期性多孔介质中的标量扩散，其在微观尺度上由一个代表性单元体 (REV) $Y = [0,1]^{2}$ 建模，空间坐标为 $y = (y_{1},y_{2})$，扩散系数场 $k(y)$ 为严格正、有界、可测的函数。设微观通量由菲克定律 (Fick’s law) 给出：$J(y) = -k(y)\\nabla u(y)$，并假设系统处于稳态，因此在 $Y$ 中有 $\\nabla\\cdot J(y) = 0$。宏观载荷是在一个坐标方向上施加的恒定梯度，微观边界条件为周期性边界条件 (PBC)，这意味着所有场都是 $Y$-周期的，且问题在一个附加常数内定义。\n\n任务：\n1) 从局部守恒定律和菲克定律出发，为与 $y_{1}$ 方向单位宏观梯度相关的修正场建立周期性单元问题。指明函数空间、与 $Y$ 上的PBC一致的边界条件，以及修正场所需的唯一性约束。\n\n2) 推导适用于有限元实现的弱形式。明确写出以修正函数和检验函数表示的双线性形式和线性泛函，并陈述强制实施PBC和唯一性条件所必需的约束。\n\n3) 现在考虑REV中的一个两相层状微观结构，其中 $k(y)$ 仅依赖于 $y_{1}$ 且为分段常数：当 $y_{1} \\in [0,\\tfrac{1}{2})$ 时 $k(y) = k_{1}$，当 $y_{1} \\in [\\tfrac{1}{2},1)$ 时 $k(y) = k_{2}$，其中 $k_{1}  0$ 且 $k_{2}  0$。在 $y_{1}$ 方向的单位宏观梯度下，使用周期性弱形式框架计算 $y_{1}$ 方向等效标量扩散系数的闭式表达式。你的最终答案必须是关于 $k_{1}$ 和 $k_{2}$ 的单个闭式解析表达式。最终的方框答案中不要包含单位。无需四舍五入。",
            "solution": "该问题是周期介质均质化理论中的一个标准练习，具体涉及标量扩散过程的升尺度问题。问题陈述具有科学依据、适定，并包含了推导唯一且有意义解所需的所有信息。因此，该问题被认为是有效的。解题过程按要求分为三个部分呈现。\n\n1) 周期性单元问题的建立\n\n我们寻求在代表性单元体 (REV) $Y = [0,1]^2$ 中微观势场 $u(y)$ 的解。根据均质化理论，当施加一个恒定的宏观梯度 $E$ 时，微观势 $u(y)$ 可以分解为一个线性部分和一个波动的、$Y$-周期性部分之和：\n$$u(y) = E \\cdot y + \\chi(y)$$\n其中 $y=(y_1, y_2)$ 是微观尺度坐标，$E = \\langle \\nabla u \\rangle$ 是恒定的宏观梯度，$\\chi(y)$ 是周期性修正场。问题指定了 $y_1$ 方向上的单位宏观梯度，因此我们有 $E = e_1 = \\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix}$。与此梯度相关的修正场记为 $\\chi_1(y)$。因此，微观势为：\n$$u(y) = y_1 + \\chi_1(y)$$\n微观梯度为 $\\nabla u(y) = \\nabla(y_1 + \\chi_1(y)) = e_1 + \\nabla \\chi_1(y)$。\n微观通量由菲克定律给出：\n$$J(y) = -k(y) \\nabla u(y) = -k(y) (e_1 + \\nabla \\chi_1(y))$$\n稳态守恒定律为 $\\nabla \\cdot J(y) = 0$。代入通量的表达式，我们得到修正场 $\\chi_1(y)$ 的控制偏微分方程：\n$$-\\nabla \\cdot \\left( k(y) (e_1 + \\nabla \\chi_1(y)) \\right) = 0$$\n可以改写为：\n$$-\\nabla \\cdot (k(y) \\nabla \\chi_1(y)) = \\nabla \\cdot (k(y) e_1)$$\n这是单元问题的强形式。\n\n该问题的完整描述如下：\n求解修正场 $\\chi_1(y)$，使得：\n- **控制方程**：对于 $y \\in Y$，$-\\nabla \\cdot (k(y) \\nabla \\chi_1(y)) = \\nabla \\cdot (k(y) e_1)$。\n- **函数空间**：修正场必须具有平方可积的梯度，因此它属于一个索博列夫空间 (Sobolev space)。为了满足周期性边界条件，我们将 $H^1(Y)$ 中的 $Y$-周期函数空间定义为 $H^1_{\\text{per}}(Y) = \\{ v \\in H^1(Y) \\mid v \\text{ is } Y\\text{-periodic on } \\partial Y \\}$。因此，$\\chi_1 \\in H^1_{\\text{per}}(Y)$。\n- **边界条件**：$\\chi_1(y)$ 是 $Y$-周期的。这意味着它在单元 $Y$ 的相对面上取相同的值。\n- **唯一性约束**：修正场 $\\chi_1$ 仅在一个附加常数内定义，因为只有它的梯度出现在通量关系中。为确保唯一解，我们在REV上施加一个零均值约束：\n$$\\int_Y \\chi_1(y) \\,dY = 0$$\n\n2) 弱形式的推导\n\n为推导弱形式，我们将控制方程的强形式乘以一个合适的检验函数 $v(y)$，并在区域 $Y$ 上积分。检验函数 $v$ 必须与试探函数 $\\chi_1$ 属于同一空间，因此 $v \\in H^1_{\\text{per}}(Y)$。\n$$-\\int_Y v(y) \\left[ \\nabla \\cdot (k(y) \\nabla \\chi_1(y)) \\right] \\,dY = \\int_Y v(y) \\left[ \\nabla \\cdot (k(y) e_1) \\right] \\,dY$$\n我们对两边应用分部积分法（格林第一恒等式），$\\int_\\Omega \\phi \\nabla \\cdot F \\, d\\Omega = \\int_{\\partial \\Omega} \\phi F \\cdot n \\, dS - \\int_\\Omega \\nabla \\phi \\cdot F \\, d\\Omega$。\n\n对于左侧：\n$$-\\int_Y v \\left[ \\nabla \\cdot (k \\nabla \\chi_1) \\right] \\,dY = \\int_Y \\nabla v \\cdot (k \\nabla \\chi_1) \\,dY - \\int_{\\partial Y} v (k \\nabla \\chi_1) \\cdot n \\,dS$$\n对于右侧：\n$$\\int_Y v \\left[ \\nabla \\cdot (k e_1) \\right] \\,dY = -\\int_Y \\nabla v \\cdot (k e_1) \\,dY + \\int_{\\partial Y} v (k e_1) \\cdot n \\,dS$$\n边界积分 $\\int_{\\partial Y} (\\dots) \\cdot n \\,dS$ 为零。这是因为被积函数，包括检验函数 $v$、修正场 $\\chi_1$ 和扩散系数 $k$，都是 $Y$-周期的。对于区域 $Y$ 的任何一对相对面，外法向量 $n$ 方向相反，而被积函数的值相同。因此，相对面的贡献相互抵消。\n\n令剩余的体积分相等，我们得到单元问题的弱形式：\n求解 $\\chi_1 \\in V$ 使得对于所有 $v \\in V$：\n$$\\int_Y k(y) \\nabla \\chi_1(y) \\cdot \\nabla v(y) \\,dY = -\\int_Y k(y) e_1 \\cdot \\nabla v(y) \\,dY$$\n其中函数空间 $V$ 被定义为明确包含周期性和唯一性约束：$V = \\{ v \\in H^1_{\\text{per}}(Y) \\mid \\int_Y v \\,dY = 0 \\}$。\n\n这个变分问题可以写成抽象形式 $a(\\chi_1, v) = L(v)$，其中：\n- 双线性形式为 $a(\\chi_1, v) = \\int_Y k(y) \\nabla \\chi_1(y) \\cdot \\nabla v(y) \\,dY$。\n- 线性泛函为 $L(v) = -\\int_Y k(y) e_1 \\cdot \\nabla v(y) \\,dY = -\\int_Y k(y) \\frac{\\partial v}{\\partial y_1} \\,dY$。\n\n3) 等效扩散系数的计算\n\n等效扩散系数张量 $k^{\\text{eff}}$ 将体积平均通量 $\\langle J \\rangle$ 与宏观梯度 $E$ 联系起来：$\\langle J \\rangle = -k^{\\text{eff}} E$。对于单位梯度 $E=e_1$，分量 $k_{11}^{\\text{eff}}$ 由 $\\langle J_1 \\rangle = -k_{11}^{\\text{eff}}$ 给出。通量的体积平均（因为 $|Y|=1$）是：\n$$\\langle J_1 \\rangle = \\int_Y J_1(y) \\,dY = \\int_Y -k(y) (1 + \\frac{\\partial \\chi_1}{\\partial y_1}) \\,dY$$\n因此，$k_{11}^{\\text{eff}} = \\int_Y k(y) (1 + \\frac{\\partial \\chi_1}{\\partial y_1}) \\,dY$。\n\n对于指定的层状微观结构，$k(y) = k(y_1)$ 仅是 $y_1$ 的函数。根据对称性，我们可以寻求一个也仅依赖于 $y_1$ 的修正场解，即 $\\chi_1(y) = \\chi_1(y_1)$。控制方程简化为常微分方程：\n$$-\\frac{d}{dy_1} \\left( k(y_1) \\left(1 + \\frac{d\\chi_1}{dy_1}\\right) \\right) = 0$$\n这意味着 $y_1$ 方向的通量是一个常数 $C$：\n$$J_1(y_1) = -k(y_1) \\left(1 + \\frac{d\\chi_1}{dy_1}\\right) = C$$\n平均通量则为 $\\langle J_1 \\rangle = \\int_0^1 C \\, dy_1 = C$。因此，我们有 $k_{11}^{\\text{eff}} = -\\langle J_1 \\rangle = -C$。我们的目标是找到常数 $C$。\n\n从通量方程中，我们表达修正场的梯度：\n$$\\frac{d\\chi_1}{dy_1} = -\\frac{C}{k(y_1)} - 1$$\n我们施加修正场的周期性条件 $\\chi_1(1) = \\chi_1(0)$，这意味着 $\\int_0^1 \\frac{d\\chi_1}{dy_1} dy_1 = 0$。\n$$\\int_0^1 \\left(-\\frac{C}{k(y_1)} - 1\\right) dy_1 = 0$$\n$$-C \\int_0^1 \\frac{1}{k(y_1)} dy_1 - \\int_0^1 1 \\,dy_1 = 0$$\n令 $\\langle k^{-1} \\rangle = \\int_0^1 \\frac{1}{k(y_1)} dy_1$ 为扩散系数分布的调和平均值。方程变为：\n$$-C \\langle k^{-1} \\rangle - 1 = 0 \\implies C = -\\frac{1}{\\langle k^{-1} \\rangle}$$\n因此，等效扩散系数是微观扩散系数的调和平均值：\n$$k_{11}^{\\text{eff}} = -C = \\frac{1}{\\langle k^{-1} \\rangle}$$\n现在，我们为给定的分段常数分布计算 $\\langle k^{-1} \\rangle$：当 $y_1 \\in [0, \\frac{1}{2})$ 时 $k(y_1) = k_1$，当 $y_1 \\in [\\frac{1}{2}, 1)$ 时 $k(y_1) = k_2$。\n$$\\langle k^{-1} \\rangle = \\int_0^{1/2} \\frac{1}{k_1} \\,dy_1 + \\int_{1/2}^1 \\frac{1}{k_2} \\,dy_1$$\n$$\\langle k^{-1} \\rangle = \\frac{1}{k_1} [y_1]_0^{1/2} + \\frac{1}{k_2} [y_1]_{1/2}^1 = \\frac{1}{k_1} \\left(\\frac{1}{2}\\right) + \\frac{1}{k_2} \\left(1 - \\frac{1}{2}\\right) = \\frac{1}{2k_1} + \\frac{1}{2k_2}$$\n$$\\langle k^{-1} \\rangle = \\frac{k_2 + k_1}{2k_1k_2}$$\n最后，$y_1$ 方向的等效扩散系数是：\n$$k_{11}^{\\text{eff}} = \\frac{1}{\\frac{k_1 + k_2}{2k_1k_2}} = \\frac{2k_1k_2}{k_1 + k_2}$$\n这是扩散系数 $k_1$ 和 $k_2$ 按其体积分数（本例中均为 $1/2$）加权的调和平均值。",
            "answer": "$$\n\\boxed{\\frac{2k_1k_2}{k_1 + k_2}}\n$$"
        }
    ]
}