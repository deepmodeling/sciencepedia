{"hands_on_practices": [{"introduction": "A fundamental starting point in any many-body quantum theory is to determine the size and structure of the state space. For fermions, the Pauli exclusion principle imposes a strict constraint: no two particles can occupy the same single-particle state. This exercise guides you through a first-principles derivation of the dimensions of the fermionic Fock space, starting from the canonical anti-commutation relations (CAR) that mathematically encode the exclusion principle [@problem_id:3007915]. By mastering this, you will build a concrete understanding of how the number representation basis is constructed for fermions.", "problem": "Consider a finite lattice with $L$ sites that hosts spinless fermions in the second-quantized formalism. Let $c_{i}$ and $c_{i}^{\\dagger}$ denote the annihilation and creation operators at site $i \\in \\{1,2,\\dots,L\\}$, and let $\\lvert 0 \\rangle$ denote the vacuum state. The operators satisfy the Canonical Anti-Commutation Relations (CAR): $\\{c_{i},c_{j}^{\\dagger}\\}=\\delta_{ij}$ and $\\{c_{i},c_{j}\\}=\\{c_{i}^{\\dagger},c_{j}^{\\dagger}\\}=0$. Define the local number operator $n_{i}=c_{i}^{\\dagger}c_{i}$ and the total number operator $N=\\sum_{i=1}^{L}n_{i}$. Using only the stated CAR, the definition of the number operators, and the construction of the number-representation basis from $\\lvert 0 \\rangle$ by applying creation operators in a fixed canonical order, derive from first principles:\n- the total dimension of the fermionic Fock space on $L$ sites, and\n- the dimension of the subspace with fixed total particle number $N$.\nYour final answer must be given as a single analytic expression for both quantities, written in terms of $L$ and $N$. Assume $N$ is an integer satisfying $0 \\leq N \\leq L$. Do not approximate. No units are required for the final answer.", "solution": "We begin from the Canonical Anti-Commutation Relations (CAR) for spinless fermions on a lattice,\n$$\n\\{c_{i},c_{j}^{\\dagger}\\} = c_{i}c_{j}^{\\dagger} + c_{j}^{\\dagger}c_{i} = \\delta_{ij}, \\quad\n\\{c_{i},c_{j}\\}=0, \\quad\n\\{c_{i}^{\\dagger},c_{j}^{\\dagger}\\}=0,\n$$\nand from the definitions of the number operators,\n$$\nn_{i} = c_{i}^{\\dagger}c_{i}, \\quad N = \\sum_{i=1}^{L} n_{i}.\n$$\nThe vacuum $\\lvert 0 \\rangle$ is annihilated by all $c_{i}$, i.e., $c_{i}\\lvert 0 \\rangle = 0$ for all $i$.\n\nFirst, we determine the spectrum of each local number operator $n_{i}$. Using the CAR, observe that\n$$\nc_{i}c_{i}^{\\dagger} = 1 - c_{i}^{\\dagger}c_{i} = 1 - n_{i}.\n$$\nCompute $n_{i}^{2}$:\n$$\n\\begin{align*}\nn_{i}^{2} &= (c_{i}^{\\dagger}c_{i})(c_{i}^{\\dagger}c_{i})\n= c_{i}^{\\dagger}\\big(c_{i}c_{i}^{\\dagger}\\big)c_{i}\n= c_{i}^{\\dagger}\\big(1 - c_{i}^{\\dagger}c_{i}\\big)c_{i} \\\\\n&= c_{i}^{\\dagger}c_{i} - c_{i}^{\\dagger}c_{i}^{\\dagger}c_{i}c_{i}.\n\\end{align*}\n$$\nBy $\\{c_{i}^{\\dagger},c_{i}^{\\dagger}\\}=0$ we have $c_{i}^{\\dagger}c_{i}^{\\dagger} = -c_{i}^{\\dagger}c_{i}^{\\dagger}$, hence $2c_{i}^{\\dagger}c_{i}^{\\dagger} = 0$, so $c_{i}^{\\dagger}c_{i}^{\\dagger}=0$ as an operator. Similarly, $\\{c_{i},c_{i}\\}=0$ implies $c_{i}c_{i}=0$. Therefore $c_{i}^{\\dagger}c_{i}^{\\dagger}c_{i}c_{i}=0$, and the above simplifies to\n$$\nn_{i}^{2} = c_{i}^{\\dagger}c_{i} = n_{i}.\n$$\nThus $n_{i}$ is a projection operator, and its eigenvalues are restricted to $\\{0,1\\}$. Physically, each site $i$ can be either unoccupied ($n_{i}=0$) or singly occupied ($n_{i}=1$), which reflects the Pauli exclusion principle for spinless fermions.\n\nConstruct the number-representation basis by acting on the vacuum with creation operators in a fixed canonical order (for instance, increasing site index). For any binary string $(n_{1},\\dots,n_{L})$ with $n_{i} \\in \\{0,1\\}$ define\n$$\n\\lvert n_{1},\\dots,n_{L} \\rangle = \\prod_{i=1}^{L}\\big(c_{i}^{\\dagger}\\big)^{n_{i}} \\lvert 0 \\rangle,\n$$\nwhere the product is ordered in increasing $i$. Because $n_{i}$ is a projection, each exponent $n_{i}$ can only be $0$ or $1$, and the anti-commutation relations ensure that distinct binary strings label orthogonal states (up to overall signs which are fixed by the ordering convention). These states are simultaneous eigenstates of all $n_{i}$ and of $N=\\sum_{i}n_{i}$, and they span the fermionic Fock space.\n\nCounting the total number of such basis states amounts to counting the number of binary strings of length $L$, namely $2^{L}$. Therefore, the full Fock space dimension is\n$$\n\\dim \\mathcal{F} = 2^{L}.\n$$\n\nNext, consider the fixed-$N$ sector, i.e., the subspace with total particle number $N=\\sum_{i=1}^{L}n_{i}$ equal to a specified integer satisfying $0 \\leq N \\leq L$. In the number-representation basis, fixing the eigenvalue $N$ is equivalent to fixing the Hamming weight of the binary string $(n_{1},\\dots,n_{L})$ to be $N$. The number of such binary strings is the number of ways to choose which $N$ sites are occupied among $L$, which is the binomial coefficient\n$$\n\\dim \\mathcal{F}_{N} = \\binom{L}{N}.\n$$\nAn alternative derivation uses the generating function for the multiplicities of $N$ in the occupation basis: each site contributes a factor $(1+z)$, and the total generating function is $(1+z)^{L}$. The coefficient of $z^{N}$ in $(1+z)^{L}$ is $\\binom{L}{N}$, which matches the combinatorial result above.\n\nTherefore, the total dimension of the Fock space and the dimension of the fixed-$N$ sector are, respectively, $2^{L}$ and $\\binom{L}{N}$.", "answer": "$$\\boxed{\\begin{pmatrix}2^{L} & \\binom{L}{N}\\end{pmatrix}}$$", "id": "3007915"}, {"introduction": "In contrast to fermions, bosons are governed by different quantum statistics and are free to occupy the same state without limit. This fundamental difference leads to a vastly different structure for the bosonic Fock space. This practice challenges you to tackle the classic combinatorial problem of counting the number of ways to distribute $N$ indistinguishable bosons into $M$ distinct modes [@problem_id:3007917]. Solving this will solidify your understanding of the consequences of bosonic statistics and provide a crucial point of comparison with the fermionic systems explored previously.", "problem": "Consider a system of spinless bosons described in the formalism of second quantization, with $M$ orthonormal single-particle modes labeled by $i \\in \\{1,\\dots,M\\}$. Let $a_i$ and $a_i^{\\dagger}$ be the annihilation and creation operators for mode $i$, satisfying the bosonic canonical commutation relations $[a_i, a_j^{\\dagger}] = \\delta_{ij}$ and $[a_i, a_j] = [a_i^{\\dagger}, a_j^{\\dagger}] = 0$. The bosonic Fock space is spanned by the number representation basis vectors $|n_1,n_2,\\dots,n_M\\rangle$ defined by $n_i = a_i^{\\dagger} a_i$ and the vacuum condition $a_i |0\\rangle = 0$ for all $i$. \n\nFocus on the fixed-number sector with total particle number $N$, defined by the constraint $\\sum_{i=1}^{M} n_i = N$ with each $n_i \\in \\mathbb{Z}_{\\ge 0}$. Using only the above fundamental definitions and principles, determine the dimension of this fixed-$N$ sector of the bosonic Fock space; that is, compute the number of distinct occupation-number basis states $|n_1,n_2,\\dots,n_M\\rangle$ consistent with the constraint $\\sum_{i=1}^{M} n_i = N$. Express your final result as a single closed-form analytic expression in terms of $M$ and $N$. No numerical evaluation or rounding is required.", "solution": "The problem requires us to find the number of distinct basis states of the form $|n_1, n_2, \\dots, n_M\\rangle$, where the occupation numbers $n_i$ are non-negative integers ($n_i \\in \\mathbb{Z}_{\\ge 0}$), subject to the constraint that the total number of particles is fixed at $N$. This constraint is expressed by the equation:\n$$\n\\sum_{i=1}^{M} n_i = n_1 + n_2 + \\dots + n_M = N\n$$\nThe dimension of this subspace is equivalent to the number of distinct sets of non-negative integers $\\{n_1, n_2, \\dots, n_M\\}$ that satisfy this equation.\n\nTo solve this, we can employ a combinatorial technique often referred to as \"stars and bars\". The problem can be rephrased as follows: how many ways are there to distribute $N$ indistinguishable items (the \"stars\", representing the $N$ bosons) into $M$ distinguishable bins (the \"bins\", representing the $M$ single-particle modes)?\n\nLet us represent the $N$ bosons by $N$ identical symbols, such as stars ($\\star$). To partition these $N$ stars into $M$ groups, we need $M-1$ dividers, or \"bars\" ($|$). For instance, if we had $N=5$ particles and $M=4$ modes, a possible state could be $|n_1=2, n_2=1, n_3=2, n_4=0\\rangle$. This configuration can be visualized as:\n$$\n\\star\\star | \\star | \\star\\star |\n$$\nHere, $n_1=2$ is the number of stars before the first bar, $n_2=1$ is the number of stars between the first and second bars, $n_3=2$ is the number of stars between the second and third bars, and $n_4=0$ is the number of stars after the third (and final) bar.\n\nThe total number of objects to be arranged in a line is the sum of the number of stars and the number of bars. We have $N$ stars and $M-1$ bars. Therefore, we have a total of $N + M - 1$ positions to fill.\n\nThe problem then reduces to choosing which of these $N + M - 1$ positions will be occupied by the $N$ stars. The remaining $M-1$ positions will automatically be filled by the bars. The number of ways to choose $N$ positions from a total of $N + M - 1$ is given by the binomial coefficient \"N+M-1 choose N\", which is written as $\\binom{N+M-1}{N}$.\n$$\n\\text{Number of ways} = \\binom{N+M-1}{N} = \\frac{(N+M-1)!}{N!(N+M-1-N)!} = \\frac{(N+M-1)!}{N!(M-1)!}\n$$\nAlternatively, we could consider choosing the positions for the $M-1$ bars from the total of $N + M - 1$ available positions. This gives the binomial coefficient $\\binom{N+M-1}{M-1}$.\n$$\n\\text{Number of ways} = \\binom{N+M-1}{M-1} = \\frac{(N+M-1)!}{(M-1)!(N+M-1-(M-1))!} = \\frac{(N+M-1)!}{(M-1)!N!}\n$$\nAs shown, the two expressions are identical due to the symmetry property of binomial coefficients, $\\binom{n}{k} = \\binom{n}{n-k}$.\n\nTherefore, the dimension of the fixed-$N$ sector of the bosonic Fock space, which corresponds to the number of ways to place $N$ identical bosons into $M$ distinct modes, is given by this binomial coefficient. This is the closed-form analytic expression for the number of distinct occupation-number basis states.", "answer": "$$\n\\boxed{\\binom{N+M-1}{N}}\n$$", "id": "3007917"}, {"introduction": "Beyond simply counting states, the core of many-body theory involves calculating physical observables, which often appear as expectation values of complex operator strings. Wick's theorem is an indispensable tool that simplifies these calculations by systematically decomposing them into sums over elementary contractions. This exercise provides essential hands-on training in applying Wick's theorem to a fermionic four-operator product, a common building block in perturbation theory and Green's function methods [@problem_id:3007945]. Verifying the result through direct calculation will also deepen your facility with the underlying operator algebra.", "problem": "Consider a system of spinless fermions in Fock space with annihilation operators $a_i$ and creation operators $a_i^{\\dagger}$ labeled by single-particle orthonormal orbitals $i \\in \\{1,2,\\dots\\}$. The operators obey the canonical anti-commutation relations (CAR), $\\{a_i,a_j^{\\dagger}\\}=\\delta_{ij}$, $\\{a_i,a_j\\}=0$, and $\\{a_i^{\\dagger},a_j^{\\dagger}\\}=0$. The vacuum state $|0\\rangle$ satisfies $a_i|0\\rangle=0$ for all $i$ and $\\langle 0|0\\rangle=1$. In the number representation, the vacuum expectation values of elementary two-operator products are $\\langle 0|a_i a_j^{\\dagger}|0\\rangle=\\delta_{ij}$, and $\\langle 0|a_i^{\\dagger} a_j|0\\rangle=0$.\n\nUsing Wick’s theorem for fermions, express the four-operator vacuum expectation value $\\langle 0|a_i a_j a_k^{\\dagger} a_l^{\\dagger}|0\\rangle$ purely in terms of elementary contractions, taking proper account of fermionic signs, and reduce it to a closed-form expression in Kronecker deltas. Then, verify the result by an independent calculation that uses only the canonical anti-commutation relations and the vacuum properties to evaluate $\\langle 0|a_i a_j a_k^{\\dagger} a_l^{\\dagger}|0\\rangle$ directly.\n\nYour final answer must be a single analytical expression involving Kronecker deltas. No numerical rounding is required, and no physical units are involved.", "solution": "The objective is to compute the vacuum expectation value $\\langle 0|a_i a_j a_k^{\\dagger} a_l^{\\dagger}|0\\rangle$ by two methods.\n\n### Method 1: Wick's Theorem\n\nWick's theorem states that the vacuum expectation value of a product of creation and annihilation operators is the sum of all possible full contractions. For fermions, each term in the sum includes a sign factor of $(-1)^P$, where $P$ is the sign of the permutation that brings the operators of each contraction adjacent to one another from their original order.\n\nThe string of operators is $O_1 O_2 O_3 O_4 = a_i a_j a_k^{\\dagger} a_l^{\\dagger}$. A contraction is the VEV of a pair of operators. The only non-zero elementary contractions are between an annihilation operator and a creation operator. Given the operators, any contraction of the form $\\langle 0|a_p a_q|0\\rangle$ or $\\langle 0|a_p^{\\dagger} a_q^{\\dagger}|0\\rangle$ is zero, as can be confirmed by acting with one operator on the vacuum state. The only non-zero elementary contraction is $\\langle 0|a_p a_q^{\\dagger}|0\\rangle = \\delta_{pq}$.\n\nTherefore, we must pair each annihilation operator ($a_i, a_j$) with a creation operator ($a_k^{\\dagger}, a_l^{\\dagger}$). There are two possible ways to form full contractions:\n\n1.  Pairing $(a_i, a_k^{\\dagger})$ and $(a_j, a_l^{\\dagger})$.\n    To bring these pairs together from the original order $a_i a_j a_k^{\\dagger} a_l^{\\dagger}$ into the form $(a_i a_k^{\\dagger})(a_j a_l^{\\dagger})$, we can write the new order as $a_i a_k^{\\dagger} a_j a_l^{\\dagger}$. To achieve this, we must move $a_k^{\\dagger}$ past $a_j$. This requires one permutation of fermionic operators, so the sign is $(-1)^1 = -1$.\n    The contribution from this pairing is:\n    $$(-1) \\langle 0|a_i a_k^{\\dagger}|0\\rangle \\langle 0|a_j a_l^{\\dagger}|0\\rangle = (-1) (\\delta_{ik}) (\\delta_{jl}) = -\\delta_{ik}\\delta_{jl}$$\n\n2.  Pairing $(a_i, a_l^{\\dagger})$ and $(a_j, a_k^{\\dagger})$.\n    To bring these pairs together into the form $(a_i a_l^{\\dagger})(a_j a_k^{\\dagger})$, we can write the new order as $a_i a_l^{\\dagger} a_j a_k^{\\dagger}$. To determine the sign, we consider the permutation of operator positions. The original positions are $(1, 2, 3, 4)$. The final positions are $(1, 4, 2, 3)$. The permutation maps $2 \\to 3$, $3 \\to 4$, and $4 \\to 2$, which is the cycle $(2,3,4)$. A cycle of length $k$ can be written as $k-1$ transpositions. Thus, this is an even permutation with sign $(-1)^{3-1} = (-1)^2 = +1$.\n    The contribution from this pairing is:\n    $$(+1) \\langle 0|a_i a_l^{\\dagger}|0\\rangle \\langle 0|a_j a_k^{\\dagger}|0\\rangle = (+1) (\\delta_{il}) (\\delta_{jk}) = \\delta_{il}\\delta_{jk}$$\n\nSumming the contributions from all possible full contractions gives the final result:\n$$\\langle 0|a_i a_j a_k^{\\dagger} a_l^{\\dagger}|0\\rangle = \\delta_{il}\\delta_{jk} - \\delta_{ik}\\delta_{jl}$$\n\n### Method 2: Direct Calculation using Canonical Anti-commutation Relations (CAR)\n\nWe evaluate $\\langle 0|a_i a_j a_k^{\\dagger} a_l^{\\dagger}|0\\rangle$ by repeatedly using the CAR, specifically $\\{a_p, a_q^{\\dagger}\\} = a_p a_q^{\\dagger} + a_q^{\\dagger} a_p = \\delta_{pq}$, to move the annihilation operators to the right until they act on the vacuum state $|0\\rangle$, where $a_p|0\\rangle=0$.\n\nStarting with the full expression:\n$$\\langle 0|a_i a_j a_k^{\\dagger} a_l^{\\dagger}|0\\rangle$$\nWe commute $a_j$ past $a_k^{\\dagger}$ using $a_j a_k^{\\dagger} = \\delta_{jk} - a_k^{\\dagger} a_j$:\n$$\\langle 0|a_i (\\delta_{jk} - a_k^{\\dagger} a_j) a_l^{\\dagger}|0\\rangle = \\langle 0|a_i \\delta_{jk} a_l^{\\dagger}|0\\rangle - \\langle 0|a_i a_k^{\\dagger} a_j a_l^{\\dagger}|0\\rangle$$\nThe first term simplifies using the given VEV $\\langle 0|a_p a_q^{\\dagger}|0\\rangle = \\delta_{pq}$:\n$$\\delta_{jk} \\langle 0|a_i a_l^{\\dagger}|0\\rangle = \\delta_{jk} \\delta_{il}$$\nNow we evaluate the second term, $-\\langle 0|a_i a_k^{\\dagger} a_j a_l^{\\dagger}|0\\rangle$. We commute $a_j$ past $a_l^{\\dagger}$ using $a_j a_l^{\\dagger} = \\delta_{jl} - a_l^{\\dagger} a_j$:\n$$-\\langle 0|a_i a_k^{\\dagger} (\\delta_{jl} - a_l^{\\dagger} a_j)|0\\rangle = -\\langle 0|a_i a_k^{\\dagger} \\delta_{jl}|0\\rangle + \\langle 0|a_i a_k^{\\dagger} a_l^{\\dagger} a_j|0\\rangle$$\nThe first part of this expression simplifies to:\n$$-\\delta_{jl} \\langle 0|a_i a_k^{\\dagger}|0\\rangle = -\\delta_{jl} \\delta_{ik}$$\nThe second part, $\\langle 0|a_i a_k^{\\dagger} a_l^{\\dagger} a_j|0\\rangle$, is zero because the annihilation operator $a_j$ acts on the vacuum state $|0\\rangle$ on the right:\n$$\\langle 0|a_i a_k^{\\dagger} a_l^{\\dagger} (a_j|0\\rangle) = \\langle 0|a_i a_k^{\\dagger} a_l^{\\dagger} (0)|0\\rangle = 0$$\nCombining all the non-zero parts, we have:\n$$\\langle 0|a_i a_j a_k^{\\dagger} a_l^{\\dagger}|0\\rangle = \\delta_{jk}\\delta_{il} - \\delta_{jl}\\delta_{ik}$$\nRearranging the terms to match the standard convention gives:\n$$\\langle 0|a_i a_j a_k^{\\dagger} a_l^{\\dagger}|0\\rangle = \\delta_{il}\\delta_{jk} - \\delta_{ik}\\delta_{jl}$$\n\nThe result from the direct calculation matches the result from Wick's theorem, verifying the correctness of the expression.", "answer": "$$\n\\boxed{\\delta_{il}\\delta_{jk} - \\delta_{ik}\\delta_{jl}}\n$$", "id": "3007945"}]}