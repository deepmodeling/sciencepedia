{"hands_on_practices": [{"introduction": "To truly master a new formalism, it is essential to begin with its foundational principles. This first practice problem takes you back to the fundamental definition of a skeleton diagram's scalar value, which is based on a sum over all possible state assignments to the internal wires. By working through a simple, highly symmetric diagram—a tetrahedron of Z-spiders—you will gain a concrete understanding of how the diagram's structure constrains the non-zero contributions to this sum, providing a clear illustration of the all-or-nothing nature of the spider connection rule. [@problem_id:1198196]", "problem": "In a graphical calculus for quantum mechanics known as the ZX-calculus, quantum states and operators are represented by tensor network diagrams. A fundamental component of this calculus is the \"Z-spider,\" a vertex with an arbitrary number of edges (legs) and an associated phase.\n\nThe scalar value of a closed diagram (one with no external legs) is determined by a sum-over-states formalism. Consider a diagram consisting of a set of vertices $V$ (spiders) and a set of edges $E$ connecting them. The value is found by summing over all possible assignments of a state, either $|0\\rangle$ or $|1\\rangle$, to each edge in the diagram.\n\nThe evaluation rule is as follows:\n1.  An assignment is a function $c: E \\to \\{0, 1\\}$ that maps each edge to a state.\n2.  For a given assignment $c$, each Z-spider $v \\in V$ with phase $\\alpha_v$ and incident edges $E_v$ contributes a factor to the total product:\n    -   The contribution is $1$ if all edges in $E_v$ are assigned the state $|0\\rangle$ (i.e., $c(e)=0$ for all $e \\in E_v$).\n    -   The contribution is $e^{i\\alpha_v}$ if all edges in $E_v$ are assigned the state $|1\\rangle$ (i.e., $c(e)=1$ for all $e \\in E_v$).\n    -   The contribution is $0$ if the edges in $E_v$ are assigned a mixture of $|0\\rangle$ and $|1\\rangle$ states.\n3.  The value of the entire diagram is the sum of the products of these vertex contributions over all $2^{|E|}$ possible state assignments.\n\n**Problem:**\nConsider a closed diagram whose structure is that of a tetrahedron. At each of the four vertices, there is a Z-spider. All four spiders have the same phase $\\alpha$. The edges of the diagram correspond to the six edges of the tetrahedron.\n\nCalculate the scalar value of this diagram for the specific phase $\\alpha = \\pi/3$.", "solution": "Let the set of vertices be $V = \\{v_1, v_2, v_3, v_4\\}$ and the set of edges be $E$. The graph is a tetrahedron, which is the complete graph $K_4$. The number of vertices is $|V|=4$ and the number of edges is $|E| = \\binom{4}{2} = 6$. Each vertex has degree 3.\n\nThe scalar value of the diagram, which we denote by $\\mathcal{Z}$, is given by the sum over all possible state assignments (colorings) $c: E \\to \\{0, 1\\}$:\n$$ \\mathcal{Z} = \\sum_{c: E \\to \\{0,1\\}} \\prod_{j=1}^{4} C(v_j, c) $$\nwhere $C(v_j, c)$ is the contribution of the spider at vertex $v_j$ for the coloring $c$.\n\nAccording to the rules provided:\n-   $C(v_j, c) = 1$ if all edges incident to $v_j$ are colored 0.\n-   $C(v_j, c) = e^{i\\alpha}$ if all edges incident to $v_j$ are colored 1.\n-   $C(v_j, c) = 0$ if the edges incident to $v_j$ have mixed colors.\n\nA term in the sum is non-zero only if the product $\\prod_{j=1}^{4} C(v_j, c)$ is non-zero. This requires that for every vertex $v_j$, its contribution $C(v_j, c)$ must be non-zero. This in turn means that for each vertex $v_j$, all edges incident to it must have the same color.\n\nLet's analyze this constraint. The graph $K_4$ is connected. Let's pick an arbitrary vertex, say $v_1$. For its contribution to be non-zero, all three edges incident to it, say $(v_1, v_2)$, $(v_1, v_3)$, and $(v_1, v_4)$, must have the same color, let's call it $k \\in \\{0, 1\\}$.\n\nNow consider an adjacent vertex, say $v_2$. For its contribution to be non-zero, all three edges incident to it, $(v_2, v_1)$, $(v_2, v_3)$, and $(v_2, v_4)$, must also have the same color. Since one of these edges, $(v_1, v_2)$, is already colored $k$, all edges incident to $v_2$ must also be colored $k$.\n\nWe can repeat this argument for all vertices. Since the graph is connected, if we start with any vertex and require its incident edges to be monochromatic, this color restriction propagates to all adjacent vertices, and subsequently to the entire graph. Therefore, for the entire product term to be non-zero, all edges in the graph must have the same color.\n\nThis leaves only two state assignments out of the $2^6 = 64$ possibilities that give a non-zero contribution:\n1.  **The all-0 assignment ($c_0$)**: Every edge $e \\in E$ is assigned the state $|0\\rangle$.\n2.  **The all-1 assignment ($c_1$)**: Every edge $e \\in E$ is assigned the state $|1\\rangle$.\n\nLet's calculate the value for each of these two assignments.\n\n**Case 1: The all-0 assignment ($c_0$)**\nFor every vertex $v_j$, all its incident edges are colored 0. According to the rule, the contribution of each vertex is $C(v_j, c_0) = 1$.\nThe total product for this assignment is:\n$$ \\prod_{j=1}^{4} C(v_j, c_0) = 1 \\times 1 \\times 1 \\times 1 = 1 $$\n\n**Case 2: The all-1 assignment ($c_1$)**\nFor every vertex $v_j$, all its incident edges are colored 1. According to the rule, the contribution of each vertex is $C(v_j, c_1) = e^{i\\alpha}$.\nThe total product for this assignment is:\n$$ \\prod_{j=1}^{4} C(v_j, c_1) = e^{i\\alpha} \\times e^{i\\alpha} \\times e^{i\\alpha} \\times e^{i\\alpha} = e^{i4\\alpha} $$\n\nThe total scalar value $\\mathcal{Z}$ is the sum of the contributions from all possible assignments. Since only $c_0$ and $c_1$ contribute, we have:\n$$ \\mathcal{Z} = (\\text{Contribution from } c_0) + (\\text{Contribution from } c_1) = 1 + e^{i4\\alpha} $$\n\nThe problem specifies that the phase is $\\alpha = \\pi/3$. Substituting this value:\n$$ \\mathcal{Z} = 1 + e^{i4\\pi/3} $$\n\nWe can evaluate the complex exponential using Euler's formula, $e^{i\\theta} = \\cos(\\theta) + i\\sin(\\theta)$:\n$$ e^{i4\\pi/3} = \\cos\\left(\\frac{4\\pi}{3}\\right) + i\\sin\\left(\\frac{4\\pi}{3}\\right) $$\nThe angle $4\\pi/3$ is in the third quadrant. The reference angle is $\\pi/3$.\n$$ \\cos\\left(\\frac{4\\pi}{3}\\right) = -\\cos\\left(\\frac{\\pi}{3}\\right) = -\\frac{1}{2} $$\n$$ \\sin\\left(\\frac{4\\pi}{3}\\right) = -\\sin\\left(\\frac{\\pi}{3}\\right) = -\\frac{\\sqrt{3}}{2} $$\nSo, $e^{i4\\pi/3} = -\\frac{1}{2} - i\\frac{\\sqrt{3}}{2}$.\n\nFinally, we substitute this back into the expression for $\\mathcal{Z}$:\n$$ \\mathcal{Z} = 1 + \\left(-\\frac{1}{2} - i\\frac{\\sqrt{3}}{2}\\right) = \\left(1 - \\frac{1}{2}\\right) - i\\frac{\\sqrt{3}}{2} = \\frac{1}{2} - i\\frac{\\sqrt{3}}{2} $$\nThis is the final scalar value of the diagram.", "answer": "$$ \\boxed{\\frac{1}{2} - i\\frac{\\sqrt{3}}{2}} $$", "id": "1198196"}, {"introduction": "Beyond evaluating static diagrams, the true power of the ZX-calculus lies in its ability to simplify complex quantum processes. This problem challenges you to represent a multi-gate quantum circuit diagrammatically, attach input and output states, and simplify the resulting closed diagram to a single scalar representing a matrix element. This exercise is an excellent opportunity to practice applying the core rewrite rules, including the non-trivial bialgebra rule, to see how graphical manipulation can reveal the function of a circuit in a way that is often more intuitive than matrix multiplication. [@problem_id:1198194]", "problem": "The ZX-calculus is a graphical language for reasoning about quantum computation. It is based on diagrams composed of special nodes called \"spiders\" connected by wires.\n\n**Background:**\n1.  **Spiders:** There are two main types of spiders:\n    *   **Z-spiders (green dots):** A Z-spider with $m$ inputs, $n$ outputs, and a phase $\\alpha \\in [0, 2\\pi)$ is denoted by $Z(\\alpha)$. It represents the linear map whose matrix elements in the computational basis $\\{|0\\rangle, |1\\rangle\\}$ are given by $\\langle i_1...i_n | Z(\\alpha) | j_1...j_m \\rangle = \\delta_{i_1...i_n,j_1...j_m,0...0} + e^{i\\alpha}\\delta_{i_1...i_n,j_1...j_m,1...1}$. This means it equates all connected wires (all must be in state $|0\\rangle$ or all in state $|1\\rangle$), and applies a phase $e^{i\\alpha}$ in the latter case. Spiders with phase 0 are often drawn without a label.\n    *   **X-spiders (red dots):** An X-spider, denoted $X(\\alpha)$, is defined in the Hadamard-transformed basis $\\{|+\\rangle, |-\\rangle\\}$ analogously. An $X(0)$ spider can be defined in terms of Z-spiders and Hadamard gates ($H$) as $X(0) = H Z(0) H$.\n\n2.  **Special Diagrams:**\n    *   Computational basis states $|0\\rangle$ and $|1\\rangle$ are represented by Z-spiders with one output wire: $|0\\rangle \\equiv Z(0)$ and $|1\\rangle \\equiv Z(\\pi)$. Bras $\\langle 0|$ and $\\langle 1|$ are the same but with one input wire.\n    *   The CNOT gate, with the first qubit as control and the second as target ($\\text{CNOT}_{12}$), is represented by a Z(0) spider on the control qubit's wire connected by a single edge to an X(0) spider on the target qubit's wire.\n\n    $$\n    \\text{CNOT}_{12} =\n    \\vcenter{\\hbox{\n    \\begin{tikzpicture}\n    \\node[circle,fill=green, scale=0.6] (Z) at (0,0.5) {};\n    \\node[circle,fill=red, scale=0.6] (X) at (0,-0.5) {};\n    \\draw (Z) -- (X);\n    \\draw (-1, 0.5) -- (Z) -- (1, 0.5);\n    \\draw (-1, -0.5) -- (X) -- (1, -0.5);\n    \\end{tikzpicture}\n    }}\n    $$\n\n3.  **Composition and Evaluation:**\n    *   **Sequential Composition ($U_2 \\circ U_1$):** Connect the output wires of $U_1$ to the input wires of $U_2$.\n    *   **Tensor Product ($U_1 \\otimes U_2$):** Place the diagram for $U_1$ above the diagram for $U_2$.\n    *   **Matrix Element $\\langle \\psi | U | \\phi \\rangle$:** This is represented by a closed diagram (a diagram with no inputs or outputs) obtained by connecting the diagram for $|\\phi\\rangle$ to the input of $U$, and the diagram for $\\langle \\psi |$ to the output of $U$.\n    *   **Scalar Evaluation:** A closed diagram evaluates to a complex number. A single Z-spider with phase $\\alpha$ and no wires connected to it (a diagram of its own) evaluates to the scalar $1+e^{i\\alpha}$. The value of a diagram with multiple disconnected components is the product of their individual values.\n\n4.  **Simplification Rules:**\n    *   **Spider Fusion:** Any two connected spiders of the same color fuse into a single spider of that color. Their phases are added together (modulo $2\\pi$).\n    *   **Bialgebra Rule:** A Z-spider and an X-spider can be \"pulled through\" one another. For any Z-spider (green) and X-spider (red) connected by one or more wires, the following identity holds:\n\n    $$\n    \\vcenter{\\hbox{\n    \\begin{tikzpicture}\n    \\node[circle,fill=green, scale=0.6] (Z) at (0,0) {};\n    \\node[circle,fill=red, scale=0.6] (X) at (1,0) {};\n    \\draw (Z) -- (X);\n    \\draw (Z) -- (-0.7, 0.5);\n    \\draw (Z) -- (-0.7, -0.5);\n    \\draw (X) -- (1.7, 0.5);\n    \\draw (X) -- (1.7, -0.5);\n    \\end{tikzpicture}\n    }}\n    \\quad = \\quad\n    \\vcenter{\\hbox{\n    \\begin{tikzpicture}\n    \\node[circle,fill=red, scale=0.6] (X1) at (-0.5,0.5) {};\n    \\node[circle,fill=red, scale=0.6] (X2) at (-0.5,-0.5) {};\n    \\node[circle,fill=green, scale=0.6] (Z1) at (0.5,0.5) {};\n    \\node[circle,fill=green, scale=0.6] (Z2) at (0.5,-0.5) {};\n    \\draw (-1.2, 0.5) -- (X1) -- (Z1) -- (1.2, 0.5);\n    \\draw (-1.2, -0.5) -- (X2) -- (Z2) -- (1.2, -0.5);\n    \\draw (X1) -- (Z2);\n    \\draw (X2) -- (Z1);\n    \\end{tikzpicture}\n    }}\n    $$\n    A key consequence for CNOT circuits is that a Z(0) and an X(0) spider connected by a single edge can be disentangled by \"copying\" the Z spider onto the other legs of the X spider.\n\n**Problem:**\nConsider the three-qubit operator $U = (I \\otimes \\text{CNOT}_{23}) \\circ (\\text{CNOT}_{12} \\otimes I) \\circ (I \\otimes \\text{CNOT}_{23})$, where $\\text{CNOT}_{ij}$ is the CNOT gate with qubit $i$ as control and qubit $j$ as target.\n\nYour task is to compute the value of the matrix element $\\langle 101 | U | 011 \\rangle$. You must use the ZX-calculus for this calculation. Simplify the corresponding ZX-diagram until it becomes a scalar value.", "solution": "1. Represent each CNOT gate as a Z(0)–X(0) spider pair and compose them according to $U = (I \\otimes \\text{CNOT}_{23}) \\circ (\\text{CNOT}_{12} \\otimes I) \\circ (I \\otimes \\text{CNOT}_{23})$.\n2. Attach the input $|011\\rangle$ (Z-spiders with phases $0, \\pi, \\pi$) and the output $\\langle 101|$ (Z-spiders with phases $\\pi, 0, \\pi$).\n3. Fuse all same-color Z-spiders along each wire by adding their phases:\n   - Wire 1: Phase becomes $0 + 0 + \\pi = \\pi$.\n   - Wire 2: Phase becomes $\\pi + 0 + 0 + 0 = \\pi$.\n   - Wire 3: Phase becomes $\\pi + 0 + \\pi = 2\\pi \\equiv 0$.\n4. The resulting diagram of interconnected Z-spiders (with phases $\\pi, \\pi, 0$) and X-spiders can be simplified using the bialgebra rule. This simplification leads to a diagram that contains an isolated Z-spider with phase $\\pi$.\n5. An isolated Z-spider of phase $\\pi$ evaluates to the scalar value:\n   $$\n   1 + e^{i\\pi} = 1 - 1 = 0.\n   $$\nAs a result, the value of the entire closed diagram (and hence the matrix element) is 0.", "answer": "$$\\boxed{0}$$", "id": "1198194"}, {"introduction": "We now move from fundamental manipulations to a practical application at the forefront of quantum computing: circuit optimization. This exercise demonstrates how the ZX-calculus can be used to minimize the T-count of a circuit, a crucial metric for fault-tolerant quantum computation. By converting the given diagram into a 'phase-gadget normal form' through a series of graphical rewrites, you will see how this formalism provides a powerful and intuitive framework for resource optimization. [@problem_id:1198219]", "problem": "The ZX-calculus is a graphical language for reasoning about quantum processes. It consists of diagrams made of nodes called \"spiders\" connected by wires representing qubits. The two fundamental types of spiders are Z-spiders (green, denoted $Z(\\alpha)$) and X-spiders (red, denoted $X(\\beta)$), each having a phase $\\alpha$ or $\\beta$. A quantum circuit composed of Clifford+T gates can be translated into a ZX-diagram where the T-gates correspond to spiders with phases that are odd multiples of $\\pi/4$.\n\nA common strategy for T-count optimization is to transform a circuit's ZX-diagram into a *phase-gadget normal form*. This form consists of a \"skeleton\" of interconnected X-spiders (with Clifford phases, i.e., multiples of $\\pi$), which represents a graph state, decorated with Z-spiders, called *phase gadgets*, placed on the wires. The T-count of such a diagram is defined as the number of phase gadgets whose phase is an odd multiple of $\\pi/4$.\n\nConsider a ZX-diagram with two inputs ($i_1, i_2$) and two outputs ($o_1, o_2$). The skeleton of the diagram is composed of three X-spiders, $X_1$, $X_2$, and $X_3$, all with phase 0. Their connectivity is as follows:\n- $X_1$ is connected to input $i_1$, output $o_1$, and to both $X_2$ and $X_3$.\n- $X_2$ is connected to input $i_2$, and to both $X_1$ and $X_3$.\n- $X_3$ is connected to output $o_2$, and to both $X_1$ and $X_2$.\n\nThis forms a triangle of X-spiders. The diagram has four Z-spider phase gadgets:\n- Gadget $Z_A$ with phase $\\alpha = \\pi/4$ is on the wire connecting $X_1$ and $X_2$.\n- Gadget $Z_B$ with phase $\\beta = 3\\pi/4$ is on the wire connecting $X_1$ and $X_3$.\n- Gadget $Z_C$ with phase $\\gamma = -3\\pi/4$ is on the wire connecting $X_2$ and $X_3$.\n- Gadget $Z_D$ with phase $\\delta = \\pi/2$ is on the wire connecting input $i_2$ and $X_2$.\n\nUsing the rewrite rules of ZX-calculus, simplify this diagram to a form with the same functionality but with the minimum possible number of non-Clifford phase gadgets. What is this minimal T-count?", "solution": "The given ZX-diagram has a skeleton of three X-spiders ($X_1$, $X_2$, $X_3$) with initial phase 0, and four Z-spider phase gadgets:\n- $Z_A$ with phase $\\alpha = \\pi/4$ on the wire between $X_1$ and $X_2$.\n- $Z_B$ with phase $\\beta = 3\\pi/4$ on the wire between $X_1$ and $X_3$.\n- $Z_C$ with phase $\\gamma = -3\\pi/4$ on the wire between $X_2$ and $X_3$.\n- $Z_D$ with phase $\\delta = \\pi/2$ on the wire between input $i_2$ and $X_2$.\n\nThe T-count is the number of phase gadgets with phases that are odd multiples of $\\pi/4$. Initially:\n- $\\alpha = \\pi/4 = (1) \\cdot \\pi/4$ (odd multiple, non-Clifford).\n- $\\beta = 3\\pi/4 = (3) \\cdot \\pi/4$ (odd multiple, non-Clifford).\n- $\\gamma = -3\\pi/4 = (-3) \\cdot \\pi/4$ (odd multiple, non-Clifford).\n- $\\delta = \\pi/2 = (2) \\cdot \\pi/4$ (even multiple, Clifford).\n\nInitial T-count is 3. The goal is to minimize this using ZX-calculus rewrite rules.\n\nUsing the identity for edge phase gadgets in a triangle of X-spiders, each Z-phase gadget on an edge can be split into two half-phase gadgets on the adjacent vertices. Specifically:\n- A phase gadget of phase $\\phi$ on an edge between two X-spiders is equivalent to adding $\\phi/2$ to the phase of each adjacent X-spider.\n\nApplying this to the triangle edges:\n- For $Z_A$ ($\\alpha = \\pi/4$): add $\\alpha/2 = \\pi/8$ to $X_1$ and $X_2$.\n- For $Z_B$ ($\\beta = 3\\pi/4$): add $\\beta/2 = 3\\pi/8$ to $X_1$ and $X_3$.\n- For $Z_C$ ($\\gamma = -3\\pi/4$): add $\\gamma/2 = -3\\pi/8$ to $X_2$ and $X_3$.\n\nThe phases of the X-spiders become:\n- $X_1$: $0 + \\alpha/2 + \\beta/2 = 0 + \\pi/8 + 3\\pi/8 = 4\\pi/8 = \\pi/2$.\n- $X_2$: $0 + \\alpha/2 + \\gamma/2 = 0 + \\pi/8 - 3\\pi/8 = -2\\pi/8 = -\\pi/4$.\n- $X_3$: $0 + \\beta/2 + \\gamma/2 = 0 + 3\\pi/8 - 3\\pi/8 = 0$.\n\nThe edge phase gadgets $Z_A$, $Z_B$, and $Z_C$ are removed. The diagram now has the skeleton with phases and $Z_D$ still on the input wire to $X_2$.\n\nNext, absorb $Z_D$ into $X_2$: a Z-phase gadget attached to an X-spider adds its phase to the spider. Thus, $X_2$'s phase becomes:\n- $X_2$: $-\\pi/4 + \\delta = -\\pi/4 + \\pi/2 = -\\pi/4 + 2\\pi/4 = \\pi/4$.\n\nThe diagram now has:\n- $X_1$: phase $\\pi/2$.\n- $X_2$: phase $\\pi/4$.\n- $X_3$: phase $0$.\n- No remaining edge or input phase gadgets.\n\nPhases on X-spiders must be Clifford (multiples of $\\pi/2$) for the skeleton to be in phase-gadget normal form without additional non-Clifford gadgets. Check:\n- $X_1$: $\\pi/2 = 2 \\cdot (\\pi/4)$ (even multiple of $\\pi/4$), Clifford.\n- $X_2$: $\\pi/4 = 1 \\cdot (\\pi/4)$ (odd multiple of $\\pi/4$), non-Clifford.\n- $X_3$: $0$, Clifford.\n\nTo represent the non-Clifford phase $\\pi/4$ on $X_2$, decompose $X_2$ into an X-spider with phase $0$ and a Z-phase gadget of phase $\\pi/4$ attached to one leg. This is done by the identity:\n- An X-spider with phase $\\phi$ is equivalent to an X-spider with phase $0$ and a Z-phase gadget of phase $\\phi$ attached to any leg.\n\nThus, $X_2$ with phase $\\pi/4$ is replaced by $X_2$ with phase $0$ and a Z-phase gadget $Z$ with phase $\\pi/4$ on one wire connected to $X_2$. The gadget is non-Clifford as $\\pi/4$ is an odd multiple of $\\pi/4$.\n\nThe final diagram has:\n- Skeleton X-spiders: $X_1$ ($\\pi/2$, Clifford), $X_2$ ($0$, Clifford), $X_3$ ($0$, Clifford).\n- One Z-phase gadget with phase $\\pi/4$ (non-Clifford).\n\nThe T-count is the number of non-Clifford phase gadgets, which is 1. This is minimal, as the non-Clifford phase $\\pi/4$ must be present and cannot be eliminated or combined further into Clifford phases modulo $2\\pi$.", "answer": "$$\\boxed{1}$$", "id": "1198219"}]}