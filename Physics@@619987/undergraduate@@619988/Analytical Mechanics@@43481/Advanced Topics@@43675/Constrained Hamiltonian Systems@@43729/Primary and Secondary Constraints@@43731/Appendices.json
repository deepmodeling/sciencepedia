{"hands_on_practices": [{"introduction": "This first exercise provides a foundational walkthrough of the Dirac-Bergmann algorithm. The provided Lagrangian is singular because it lacks a kinetic term for the coordinate $q_2$, a feature that directly signals the presence of a primary constraint. By applying the consistency condition that this constraint must hold over time, you will uncover an additional \"hidden\" relationship among the phase space variables, known as a secondary constraint [@problem_id:2074234].", "problem": "Consider a theoretical mechanical system described by two generalized coordinates, $q_1$ and $q_2$. The dynamics of this system are governed by the Lagrangian:\n$$L = \\frac{1}{2}\\dot{q}_1^2 - V(q_1) + q_1^2 \\dot{q}_2$$\nwhere $\\dot{q}_i = \\frac{dq_i}{dt}$, and $V(q_1)$ is a potential function that depends only on the coordinate $q_1$. When this system is described in phase space, using the coordinates $(q_1, q_2)$ and their corresponding canonical momenta $(p_1, p_2)$, it is found that not all phase space variables are independent. Certain relations, known as constraints, must hold between them.\n\nWhich of the following options represents the complete set of constraint equations for this system? Let $V'(q_1)$ denote the derivative of the potential with respect to $q_1$.\n\nA. $p_2 - q_1^2 = 0$ and $q_1 p_1 = 0$\n\nB. $p_2 - q_1^2 = 0$\n\nC. $p_1 - \\dot{q}_1 = 0$ and $p_2 - q_1^2 = 0$\n\nD. $p_2 - q_1^2 = 0$ and $p_1^2 - q_1 V'(q_1) = 0$\n\nE. $p_1 = 0$ and $p_2 = 0$", "solution": "To find the constraints of the system, we transition from the Lagrangian formulation to the Hamiltonian formulation using the Legendre transformation. This process can reveal constraints among the phase space variables $(q_1, q_2, p_1, p_2)$.\n\nFirst, we calculate the canonical momenta, which are defined as $p_i = \\frac{\\partial L}{\\partial \\dot{q}_i}$.\nFor $p_1$:\n$$p_1 = \\frac{\\partial L}{\\partial \\dot{q}_1} = \\frac{\\partial}{\\partial \\dot{q}_1} \\left( \\frac{1}{2}\\dot{q}_1^2 - V(q_1) + q_1^2 \\dot{q}_2 \\right) = \\dot{q}_1$$\nFor $p_2$:\n$$p_2 = \\frac{\\partial L}{\\partial \\dot{q}_2} = \\frac{\\partial}{\\partial \\dot{q}_2} \\left( \\frac{1}{2}\\dot{q}_1^2 - V(q_1) + q_1^2 \\dot{q}_2 \\right) = q_1^2$$\n\nThe first equation, $p_1 = \\dot{q}_1$, can be inverted to express the velocity $\\dot{q}_1$ in terms of the momentum $p_1$. However, the second equation, $p_2 = q_1^2$, establishes a relationship between the canonical variables $p_2$ and $q_1$ without involving any velocities. This kind of relation is a primary constraint. We define the primary constraint function $\\phi_1$ as:\n$$\n\\phi_1 \\equiv p_2 - q_1^2 = 0\n$$\n\nNext, we construct the canonical Hamiltonian, $H_c = \\sum_i p_i \\dot{q}_i - L$.\n$$H_c = p_1 \\dot{q}_1 + p_2 \\dot{q}_2 - \\left( \\frac{1}{2}\\dot{q}_1^2 - V(q_1) + q_1^2 \\dot{q}_2 \\right)$$\nUsing $p_1 = \\dot{q}_1$, we substitute for $\\dot{q}_1$:\n$$H_c = p_1(p_1) + p_2 \\dot{q}_2 - \\left( \\frac{1}{2}p_1^2 - V(q_1) + q_1^2 \\dot{q}_2 \\right)$$\n$$H_c = p_1^2 - \\frac{1}{2}p_1^2 + V(q_1) + (p_2 - q_1^2)\\dot{q}_2$$\n$$H_c = \\frac{1}{2}p_1^2 + V(q_1) + (p_2 - q_1^2)\\dot{q}_2$$\nOn the constraint surface where $\\phi_1 = p_2 - q_1^2 = 0$, the canonical Hamiltonian simplifies to:\n$$H_c = \\frac{1}{2}p_1^2 + V(q_1)$$\nThe full dynamics are governed by the total Hamiltonian, $H_T = H_c + u \\phi_1$, where $u$ is a Lagrange multiplier.\n$$H_T = \\frac{1}{2}p_1^2 + V(q_1) + u(p_2 - q_1^2)$$\n\nFor the theory to be consistent, any constraint must be preserved over time. This means the time derivative of the constraint must be zero (at least on the constraint surface). The time evolution of any function $f$ on phase space is given by $\\dot{f} = \\{f, H_T\\}$. Thus, we must have $\\dot{\\phi}_1 = \\{\\phi_1, H_T\\} \\approx 0$, where `$\\approx$` denotes weak equality (equality on the constraint surface).\nThe Poisson bracket is defined as:\n$$\n\\{A, B\\} = \\sum_k \\left( \\frac{\\partial A}{\\partial q_k}\\frac{\\partial B}{\\partial p_k} - \\frac{\\partial A}{\\partial p_k}\\frac{\\partial B}{\\partial q_k} \\right)\n$$\n$$\n\\dot{\\phi}_1 = \\{\\phi_1, H_T\\} = \\{p_2 - q_1^2, \\frac{1}{2}p_1^2 + V(q_1) + u(p_2 - q_1^2)\\}\n$$\nUsing the properties of Poisson brackets, this simplifies to $\\{\\phi_1, H_c\\} + u\\{\\phi_1, \\phi_1\\}$. Since $\\{\\phi_1, \\phi_1\\} = 0$, we only need to compute $\\{\\phi_1, H_c\\}$.\n$$\n\\{\\phi_1, H_c\\} = \\{p_2 - q_1^2, \\frac{1}{2}p_1^2 + V(q_1)\\}\n$$\n$$\n= \\left( \\frac{\\partial \\phi_1}{\\partial q_1}\\frac{\\partial H_c}{\\partial p_1} - \\frac{\\partial \\phi_1}{\\partial p_1}\\frac{\\partial H_c}{\\partial q_1} \\right) + \\left( \\frac{\\partial \\phi_1}{\\partial q_2}\\frac{\\partial H_c}{\\partial p_2} - \\frac{\\partial \\phi_1}{\\partial p_2}\\frac{\\partial H_c}{\\partial q_2} \\right)\n$$\nThe required partial derivatives are:\n$\\frac{\\partial \\phi_1}{\\partial q_1} = -2q_1$, $\\frac{\\partial \\phi_1}{\\partial p_2} = 1$. All other partials of $\\phi_1$ are zero.\n$\\frac{\\partial H_c}{\\partial p_1} = p_1$, $\\frac{\\partial H_c}{\\partial q_1} = V'(q_1)$. All other partials of $H_c$ are zero.\nSubstituting these into the Poisson bracket expression:\n$$\\{\\phi_1, H_c\\} = (-2q_1)(p_1) - (0)(V'(q_1)) + (0)(0) - (1)(0) = -2q_1 p_1$$\nThe consistency condition $\\dot{\\phi}_1 \\approx 0$ thus implies:\n$$-2q_1 p_1 \\approx 0 \\implies q_1 p_1 \\approx 0$$\nThis is a new constraint, which we call the secondary constraint, $\\phi_2 \\equiv q_1 p_1 = 0$.\n\nWe must now check the consistency of this new constraint: $\\dot{\\phi}_2 = \\{\\phi_2, H_T\\} \\approx 0$.\n$$\n\\dot{\\phi}_2 = \\{q_1p_1, \\frac{1}{2}p_1^2 + V(q_1) + u(p_2 - q_1^2)\\} \\approx 0\n$$\n$$\n\\approx \\{q_1p_1, H_c\\} + u\\{q_1p_1, \\phi_1\\} \\approx 0\n$$\nLet's compute the two Poisson brackets:\n$$\\{q_1p_1, H_c\\} = \\frac{\\partial(q_1p_1)}{\\partial q_1}\\frac{\\partial H_c}{\\partial p_1} - \\frac{\\partial(q_1p_1)}{\\partial p_1}\\frac{\\partial H_c}{\\partial q_1} = (p_1)(p_1) - (q_1)(V'(q_1)) = p_1^2 - q_1 V'(q_1)$$\n$$\\{q_1p_1, \\phi_1\\} = \\{q_1p_1, p_2 - q_1^2\\} = \\frac{\\partial(q_1p_1)}{\\partial q_1}\\frac{\\partial(p_2-q_1^2)}{\\partial p_1} - \\frac{\\partial(q_1p_1)}{\\partial p_1}\\frac{\\partial(p_2-q_1^2)}{\\partial q_1} = (p_1)(0) - (q_1)(-2q_1) = 2q_1^2$$\nThe consistency condition for $\\phi_2$ becomes:\n$$\np_1^2 - q_1 V'(q_1) + u(2q_1^2) \\approx 0\n$$\nThis equation can be solved for the Lagrange multiplier $u$ (provided $q_1 \\neq 0$):\n$$\nu \\approx \\frac{q_1 V'(q_1) - p_1^2}{2q_1^2}\n$$\nSince we can determine the multiplier $u$ without generating a new constraint on the phase space variables, the process terminates.\n\nThe complete set of constraints for the system is therefore the primary constraint $\\phi_1$ and the secondary constraint $\\phi_2$.\n1. $\\phi_1 = p_2 - q_1^2 = 0$\n2. $\\phi_2 = q_1 p_1 = 0$\n\nThis corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "2074234"}, {"introduction": "Here, we explore a different type of singular Lagrangian where the singularity arises not from a missing velocity, but from a linear dependence between velocities in the kinetic energy term. This leads to a primary constraint that directly relates the canonical momenta. This practice advances your skills by guiding you to construct the matrix of Poisson brackets for the full set of constraints, a crucial tool for classifying constraints as first or second class and for the eventual quantization of the system [@problem_id:2074252].", "problem": "Consider a mechanical system with two generalized coordinates, $q_1$ and $q_2$. Its dynamics are described by the Lagrangian:\n$$L = \\frac{1}{2}m(\\dot{q}_1 + \\alpha \\dot{q}_2)^2 - \\left(\\frac{1}{2}k q_1^2 + \\gamma q_2^2\\right)$$\nwhere $m$, $\\alpha$, $k$, and $\\gamma$ are positive real constants.\n\nThe Hamiltonian formulation of this singular Lagrangian system reveals the presence of constraints on the phase space variables $(q_1, q_2, p_1, p_2)$. These constraints can be identified systematically, starting with primary constraints arising from the definitions of the canonical momenta, followed by secondary (and possibly higher-order) constraints obtained by requiring that all existing constraints are preserved under time evolution.\n\nLet the complete set of independent primary and secondary constraints for this system be denoted by $\\phi_i(q, p) = 0$. Construct the matrix $C$ whose elements are the Poisson brackets of these constraints, $C_{ij} = \\{\\phi_i, \\phi_j\\}$.\n\nYour task is to calculate the determinant of this matrix, $\\det(C)$. Express your final answer as a closed-form analytic expression in terms of the parameters $\\alpha$, $k$, and $\\gamma$.", "solution": "Start from the Lagrangian\n$$\nL=\\frac{1}{2}m\\left(\\dot{q}_{1}+\\alpha \\dot{q}_{2}\\right)^{2}-\\left(\\frac{1}{2}k q_{1}^{2}+\\gamma q_{2}^{2}\\right).\n$$\nThe canonical momenta are\n$$\np_{1}=\\frac{\\partial L}{\\partial \\dot{q}_{1}}=m\\left(\\dot{q}_{1}+\\alpha \\dot{q}_{2}\\right),\\qquad p_{2}=\\frac{\\partial L}{\\partial \\dot{q}_{2}}=m\\alpha \\left(\\dot{q}_{1}+\\alpha \\dot{q}_{2}\\right)=\\alpha p_{1}.\n$$\nThis implies a primary constraint\n$$\n\\phi_{1}\\equiv p_{2}-\\alpha p_{1}\\approx 0.\n$$\n\nIntroduce $v\\equiv \\dot{q}_{1}+\\alpha \\dot{q}_{2}$ so that $p_{1}=mv$ and $v=p_{1}/m$. The canonical Hamiltonian is\n$$\nH_{c}=p_{1}\\dot{q}_{1}+p_{2}\\dot{q}_{2}-L=m v^{2}-\\left(\\frac{1}{2}m v^{2}-\\frac{1}{2}k q_{1}^{2}-\\gamma q_{2}^{2}\\right)=\\frac{p_{1}^{2}}{2m}+\\frac{1}{2}k q_{1}^{2}+\\gamma q_{2}^{2}.\n$$\nThe total Hamiltonian is\n$$\nH_{T}=H_{c}+u\\,\\phi_{1}.\n$$\n\nRequire preservation of the primary constraint using Poisson brackets, defined by\n$$\n\\{A,B\\}=\\sum_{i=1}^{2}\\left(\\frac{\\partial A}{\\partial q_{i}}\\frac{\\partial B}{\\partial p_{i}}-\\frac{\\partial A}{\\partial p_{i}}\\frac{\\partial B}{\\partial q_{i}}\\right),\\qquad \\{q_{i},p_{j}\\}=\\delta_{ij}.\n$$\nCompute\n$$\n\\{\\phi_{1},H_{c}\\}=\\{p_{2}-\\alpha p_{1},H_{c}\\}=-\\frac{\\partial H_{c}}{\\partial q_{2}}+\\alpha \\frac{\\partial H_{c}}{\\partial q_{1}}=-2\\gamma q_{2}+\\alpha k q_{1}.\n$$\nThus consistency $\\dot{\\phi}_{1}=\\{\\phi_{1},H_{T}\\}=\\{\\phi_{1},H_{c}\\}\\approx 0$ gives the secondary constraint\n$$\n\\phi_{2}\\equiv \\alpha k q_{1}-2\\gamma q_{2}\\approx 0.\n$$\n\nNext, enforce preservation of $\\phi_{2}$:\n$$\n\\{\\phi_{2},H_{T}\\}=\\{\\phi_{2},H_{c}\\}+u\\{\\phi_{2},\\phi_{1}\\}\\approx 0.\n$$\nCompute\n$$\n\\{\\phi_{2},H_{c}\\}=\\{\\alpha k q_{1}-2\\gamma q_{2},H_{c}\\}=\\alpha k\\,\\{q_{1},H_{c}\\}-2\\gamma\\,\\{q_{2},H_{c}\\}=\\alpha k\\,\\frac{\\partial H_{c}}{\\partial p_{1}}-2\\gamma\\,\\frac{\\partial H_{c}}{\\partial p_{2}}=\\alpha k\\,\\frac{p_{1}}{m},\n$$\nand\n$$\n\\{\\phi_{2},\\phi_{1}\\}=\\{\\alpha k q_{1}-2\\gamma q_{2},\\,p_{2}-\\alpha p_{1}\\}=-\\alpha^{2}k-2\\gamma.\n$$\nTherefore,\n$$\n\\dot{\\phi}_{2}\\approx \\alpha k\\,\\frac{p_{1}}{m}-u\\left(\\alpha^{2}k+2\\gamma\\right)=0,\n$$\nwhich determines $u$ (since $\\alpha^{2}k+2\\gamma>0$), so no further constraints arise.\n\nThe constraint set is $\\{\\phi_{1},\\phi_{2}\\}$, and the Dirac matrix $C$ with components $C_{ij}=\\{\\phi_{i},\\phi_{j}\\}$ is\n$$\nC=\\begin{pmatrix}\n\\{\\phi_{1},\\phi_{1}\\} & \\{\\phi_{1},\\phi_{2}\\} \\\\\n\\{\\phi_{2},\\phi_{1}\\} & \\{\\phi_{2},\\phi_{2}\\}\n\\end{pmatrix}\n=\\begin{pmatrix}\n0 & \\alpha^{2}k+2\\gamma \\\\\n-(\\alpha^{2}k+2\\gamma) & 0\n\\end{pmatrix}.\n$$\nIts determinant is\n$$\n\\det(C)=\\left(\\alpha^{2}k+2\\gamma\\right)^{2}.\n$$", "answer": "$$\\boxed{(\\alpha^{2} k + 2 \\gamma)^{2}}$$", "id": "2074252"}, {"introduction": "This advanced practice offers a deeper insight into the nature of constraints by treating a Lagrange multiplier as a dynamical coordinate itself. This unconventional approach powerfully demonstrates how the Dirac-Bergmann formalism can systematically derive the entire physical constraint structure—from the geometric condition of rolling without slipping to the relationship between forces and momenta. Following the chain of consistency conditions reveals a cascade of primary, secondary, tertiary, and even quaternary constraints, unifying the Lagrangian and Hamiltonian perspectives on constrained motion [@problem_id:2074239].", "problem": "In an unconventional approach to constrained mechanical systems, one can treat a Lagrange multiplier as a dynamical coordinate. Consider a uniform solid cylinder of mass $M$ and radius $R$, with a moment of inertia $I$ about its central axis. The cylinder rolls without slipping along a horizontal line. The state of the system is described by the position of its center of mass, $x$, and the angle of rotation, $\\theta$. The rolling-without-slipping constraint is incorporated into the system's Lagrangian by introducing a Lagrange multiplier, $\\lambda$, which is itself treated as a generalized coordinate. The resulting Lagrangian for this extended system is given by:\n\n$$L(x, \\theta, \\lambda, \\dot{x}, \\dot{\\theta}, \\dot{\\lambda}) = \\frac{1}{2}M\\dot{x}^2 + \\frac{1}{2}I\\dot{\\theta}^2 + \\lambda(x - R\\theta)$$\n\nBy performing a full constraint analysis in the Hamiltonian formulation (the Dirac-Bergmann algorithm), determine the total number of independent constraints (primary, secondary, etc.) that arise in this system. Your final answer should be a single integer.", "solution": "We treat the Lagrange multiplier as a generalized coordinate. The generalized coordinates are $q^{i}=(x,\\theta,\\lambda)$ with Lagrangian\n$$\nL=\\frac{1}{2}M\\dot{x}^{2}+\\frac{1}{2}I\\dot{\\theta}^{2}+\\lambda(x-R\\theta).\n$$\nCanonical momenta are defined by $p_{i}=\\partial L/\\partial\\dot{q}^{i}$, giving\n$$\np_{x}=M\\dot{x},\\qquad p_{\\theta}=I\\dot{\\theta},\\qquad p_{\\lambda}=0.\n$$\nThus there is a primary constraint\n$$\n\\phi_{1}\\equiv p_{\\lambda}\\approx 0.\n$$\nExpressing the velocities in terms of the momenta, $\\dot{x}=p_{x}/M$ and $\\dot{\\theta}=p_{\\theta}/I$, the canonical Hamiltonian is\n$$\nH_{c}=p_{x}\\dot{x}+p_{\\theta}\\dot{\\theta}+p_{\\lambda}\\dot{\\lambda}-L=\\frac{p_{x}^{2}}{2M}+\\frac{p_{\\theta}^{2}}{2I}-\\lambda(x-R\\theta).\n$$\nThe total Hamiltonian is\n$$\nH_{T}=H_{c}+u\\,\\phi_{1}=\\frac{p_{x}^{2}}{2M}+\\frac{p_{\\theta}^{2}}{2I}-\\lambda(x-R\\theta)+u\\,p_{\\lambda},\n$$\nwhere $u(t)$ is an arbitrary function.\n\nPreservation of the primary constraint requires\n$$\n\\dot{\\phi}_{1}=\\{\\phi_{1},H_{T}\\}=-\\frac{\\partial H_{T}}{\\partial\\lambda}=x-R\\theta\\approx 0.\n$$\nThis yields the secondary constraint\n$$\n\\phi_{2}\\equiv x-R\\theta\\approx 0.\n$$\nPreservation of $\\phi_{2}$ gives\n$$\n\\dot{\\phi}_{2}=\\{\\phi_{2},H_{T}\\}=\\{x-R\\theta,H_{c}\\}=\\frac{\\partial H_{c}}{\\partial p_{x}}-R\\frac{\\partial H_{c}}{\\partial p_{\\theta}}=\\frac{p_{x}}{M}-\\frac{R}{I}p_{\\theta}\\approx 0,\n$$\nwhich is the tertiary constraint\n$$\n\\phi_{3}\\equiv \\frac{p_{x}}{M}-\\frac{R}{I}p_{\\theta}\\approx 0.\n$$\nPreservation of $\\phi_{3}$ gives\n$$\n\\dot{\\phi}_{3}=\\{\\phi_{3},H_{T}\\}=\\frac{1}{M}\\{p_{x},H_{c}\\}-\\frac{R}{I}\\{p_{\\theta},H_{c}\\}.\n$$\nUsing $\\{p_{x},H_{c}\\}=-\\partial H_{c}/\\partial x=\\lambda$ and $\\{p_{\\theta},H_{c}\\}=-\\partial H_{c}/\\partial\\theta=+\\lambda R$, we obtain\n$$\n\\dot{\\phi}_{3}=\\frac{\\lambda}{M}-\\frac{R}{I}(\\lambda R)=\\lambda\\left(\\frac{1}{M}-\\frac{R^{2}}{I}\\right)\\approx 0.\n$$\nSince $(1/M)-(R^{2}/I)\\neq 0$ (For a solid cylinder $I=1/2 MR^2$, so $1/M - R^2/(1/2 MR^2) = 1/M - 2/M = -1/M \\neq 0$), this yields the quaternary constraint\n$$\n\\phi_{4}\\equiv \\lambda\\approx 0.\n$$\nPreservation of $\\phi_{4}$ fixes the multiplier:\n$$\n\\dot{\\phi}_{4}=\\{\\lambda,H_{T}\\}=\\frac{\\partial H_{T}}{\\partial p_{\\lambda}}=u\\approx 0,\n$$\nand no further constraints arise.\n\nTo check independence, compute key Poisson brackets among the constraints:\n$$\n\\{\\phi_{1},\\phi_{4}\\}=\\{p_{\\lambda},\\lambda\\}=1,\\qquad \\{\\phi_{2},\\phi_{3}\\}=\\left\\{x-R\\theta,\\frac{p_{x}}{M}-\\frac{R}{I}p_{\\theta}\\right\\}=\\frac{1}{M}+\\frac{R^{2}}{I},\n$$\nwhich are nonzero constants, while other brackets among different pairs vanish on the constraint surface. Hence the constraint matrix is of full rank, and the four constraints are independent (all second class).\n\nTherefore, the total number of independent constraints (primary, secondary, etc.) generated by the Dirac-Bergmann algorithm is 4.", "answer": "$$\\boxed{4}$$", "id": "2074239"}]}