{"hands_on_practices": [{"introduction": "The concept of field of view often begins with a simple question: how much can an optical system 'see'? This first practice explores this fundamental idea in the context of a simplified medical endoscope. By calculating the diameter of the observable area on a tissue sample, you will apply the core principles of thin lens imaging—the lens equation and magnification—to see how the physical size of a detector (in this case, a fiber optic bundle) directly limits the field of view [@problem_id:2229251].", "problem": "A simplified model for a medical endoscope consists of a thin converging objective lens and a coherent fiber optic bundle. The objective lens has a focal length $f$. It is designed to form a real image of the tissue being examined directly onto the flat, circular input face of the fiber optic bundle. The diameter of this input face is $D$. For a particular examination, the objective lens is positioned at a distance $s_o$ from the tissue, where it is guaranteed that $s_o > f$.\n\nDetermine a symbolic expression for the diameter of the circular field of view, $D_{FoV}$, on the tissue that is captured by the endoscope. Express your answer in terms of $D$, $f$, and $s_o$.", "solution": "The problem asks for the diameter of the field of view on the object plane, $D_{FoV}$. This corresponds to the size of the object that can be imaged onto the full diameter of the fiber optic bundle's input face. Let the diameter of the object be $h_o = D_{FoV}$ and the diameter of its image be $h_i$. For the entire field of view to be captured, the image must exactly fill the input face of the fiber optic bundle. Thus, the image diameter must be equal to the bundle's diameter, $h_i = D$.\n\nThe relationship between the object size and the image size is given by the lateral magnification, $M$. The magnitude of the magnification is defined as the ratio of the image height (or diameter) to the object height (or diameter):\n$$|M| = \\frac{h_i}{h_o}$$\nSubstituting our specific quantities, we have:\n$$|M| = \\frac{D}{D_{FoV}}$$\nTo find $D_{FoV}$, we can rearrange this equation:\n$$D_{FoV} = \\frac{D}{|M|}$$\nOur next task is to find an expression for the magnification, $M$. The magnification for a thin lens is also given by the ratio of the image distance, $s_i$, to the object distance, $s_o$:\n$$M = -\\frac{s_i}{s_o}$$\nWe are given $s_o$, but we need to find $s_i$. We can find the image distance using the thin lens equation:\n$$\\frac{1}{s_o} + \\frac{1}{s_i} = \\frac{1}{f}$$\nWe solve this equation for $s_i$:\n$$\\frac{1}{s_i} = \\frac{1}{f} - \\frac{1}{s_o}$$\nTo combine the terms on the right-hand side, we find a common denominator:\n$$\\frac{1}{s_i} = \\frac{s_o}{f s_o} - \\frac{f}{f s_o} = \\frac{s_o - f}{f s_o}$$\nInverting both sides gives the expression for the image distance $s_i$:\n$$s_i = \\frac{f s_o}{s_o - f}$$\nNow we can substitute this expression for $s_i$ back into the magnification formula:\n$$M = -\\frac{s_i}{s_o} = -\\frac{1}{s_o} \\left( \\frac{f s_o}{s_o - f} \\right)$$\nThe $s_o$ terms cancel out, leaving:\n$$M = -\\frac{f}{s_o - f}$$\nThe problem asks for $D_{FoV}$, which depends on the magnitude of the magnification, $|M|$.\n$$|M| = \\left| -\\frac{f}{s_o - f} \\right| = \\frac{f}{|s_o - f|}$$\nThe problem states that a real image is formed and that $s_o > f$. This means the term $s_o - f$ is always positive. Therefore, $|s_o - f| = s_o - f$. The magnitude of the magnification is:\n$$|M| = \\frac{f}{s_o - f}$$\nFinally, we substitute this expression for $|M|$ into our equation for $D_{FoV}$:\n$$D_{FoV} = \\frac{D}{|M|} = \\frac{D}{\\frac{f}{s_o - f}}$$\n$$D_{FoV} = D \\frac{s_o - f}{f}$$\nThis expression can be written in a slightly different form by distributing the denominator:\n$$D_{FoV} = D \\left( \\frac{s_o}{f} - \\frac{f}{f} \\right) = D \\left( \\frac{s_o}{f} - 1 \\right)$$\nThis is the final expression for the diameter of the field of view.", "answer": "$$\\boxed{D\\left(\\frac{s_o}{f} - 1\\right)}$$", "id": "2229251"}, {"introduction": "While component sizes like detectors often define the field of view, physical phenomena can impose even stricter limits. This practice investigates the angular field of view of a Porro prism system, a common design in binoculars for erecting an image. You will determine the maximum acceptance angle by analyzing the conditions required for Total Internal Reflection (TIR), demonstrating how the refractive index of the glass itself sets a fundamental boundary on the system's operational range [@problem_id:2229282].", "problem": "A Porro prism image erection system, commonly found in binoculars, utilizes a pair of identical right-angled isosceles prisms to correct the orientation of an image. In this system, known as a Porro-I configuration, light enters the hypotenuse face of the first prism, undergoes Total Internal Reflection (TIR) at its two other faces, exits through the hypotenuse face, and then passes through the second prism which is oriented at 90 degrees to the first.\n\nConsider such a system where the prisms are made of a homogeneous optical glass with a refractive index of $n$ and are situated in air (refractive index of 1). The system's functionality is limited by its angular field of view. An off-axis ray entering the system at an angle to the optical axis will strike the internal reflecting surfaces at different angles compared to an on-axis ray. If the angle of incidence for an incoming ray at any of the internal reflecting surfaces falls below the critical angle, TIR fails, and light leaks out of the prism, degrading the image.\n\nAssuming the input face of the first prism is perpendicular to the optical axis, determine the analytical expression for the maximum acceptance half-angle, $\\alpha_{max}$, of a light ray with respect to the optical axis for which the Porro prism system operates without any light leakage. Express your answer in terms of the refractive index $n$. The angle should be returned in radians.", "solution": "We consider a right-angled isosceles prism with legs having inward unit normals $n_{x} = (1,0,0)$ and $n_{y} = (0,1,0)$, and hypotenuse normal $n_{h} = \\frac{1}{\\sqrt{2}}(1,1,0)$ along the optical axis. Let an internal ray inside the prism make a polar angle $\\beta$ with respect to $n_{h}$ and an azimuth $\\phi$ about $n_{h}$. Using the orthonormal basis $e_{3} = n_{h}$, $e_{1} = \\frac{1}{\\sqrt{2}}(1,-1,0)$, $e_{2} = (0,0,1)$, the unit direction of the internal ray is\n$$\ns = -\\cos\\beta\\,e_{3} + \\sin\\beta\\left(\\cos\\phi\\,e_{1} + \\sin\\phi\\,e_{2}\\right).\n$$\nExpressing $n_{x}$ and $n_{y}$ in the $\\{e_{1},e_{3}\\}$ basis gives\n$$\nn_{x} = \\frac{1}{\\sqrt{2}}(e_{1} + e_{3}), \\qquad n_{y} = \\frac{1}{\\sqrt{2}}(-e_{1} + e_{3}).\n$$\nHence the cosines of the incidence angles at the two internal reflecting faces (legs) are\n$$\n|s\\cdot n_{x}| = \\frac{1}{\\sqrt{2}}\\left|\\sin\\beta\\cos\\phi - \\cos\\beta\\right|,\\qquad\n|s\\cdot n_{y}| = \\frac{1}{\\sqrt{2}}\\left|\\sin\\beta\\cos\\phi + \\cos\\beta\\right|.\n$$\nA right-angle prism produces two reflections; reflecting at one face does not change the dot product with the normal of the orthogonal face, because if $s' = s - 2(s\\cdot n_{x})n_{x}$, then $s'\\cdot n_{y} = s\\cdot n_{y}$ due to $n_{x}\\cdot n_{y} = 0$. Therefore, the two incidence cosines within a single prism are exactly the quantities above and must both satisfy the total internal reflection (TIR) condition.\n\nFor glass of index $n$ in air, the critical angle for TIR is\n$$\n\\theta_{c} = \\arcsin\\!\\left(\\frac{1}{n}\\right),\n$$\nand TIR requires each incidence angle $\\theta$ to satisfy $\\theta \\ge \\theta_{c}$, equivalently $|s\\cdot n_{i}| \\le \\cos\\theta_{c}$ for $i \\in \\{x,y\\}$. For a given $\\beta$ and $\\phi$, the maximum of the two absolute values is\n$$\n\\max\\!\\left(|s\\cdot n_{x}|,|s\\cdot n_{y}|\\right) = \\frac{1}{\\sqrt{2}}\\left(\\cos\\beta + |\\sin\\beta\\cos\\phi|\\right),\n$$\nsince $\\max(|a+b|,|a-b|) = |a| + |b|$ for real $a,b$ with $a = \\cos\\beta \\ge 0$ and $b = \\sin\\beta\\cos\\phi$. Thus, for a single prism the TIR condition for all azimuths is guaranteed if the worst-case azimuth $|\\cos\\phi| = 1$ satisfies\n$$\n\\frac{1}{\\sqrt{2}}\\left(\\cos\\beta + \\sin\\beta\\right) \\le \\cos\\theta_{c}.\n$$\nUsing $\\cos\\beta + \\sin\\beta = \\sqrt{2}\\cos\\!\\left(\\beta - \\frac{\\pi}{4}\\right)$, this becomes\n$$\n\\sqrt{2}\\cos\\!\\left(\\beta - \\frac{\\pi}{4}\\right) \\le \\sqrt{2}\\cos\\theta_{c} \\quad\\Rightarrow\\quad \\cos\\!\\left(\\beta - \\frac{\\pi}{4}\\right) \\le \\cos\\theta_{c}.\n$$\nOn the physically relevant branch $0 \\le \\beta \\le \\frac{\\pi}{4}$, the equality at the limit occurs for\n$$\n\\beta_{\\max} = \\frac{\\pi}{4} - \\theta_{c}.\n$$\nIn the Porro-I system, the second prism is rotated by $90^{\\circ}$ about the optical axis, which swaps the azimuthal dependence so that, for any external ray azimuth, one of the prisms experiences the worst-case $|\\cos\\phi| = 1$. Therefore, the same bound $\\beta \\le \\frac{\\pi}{4} - \\theta_{c}$ is the system-wide TIR limit for the internal ray angle.\n\nRelating the external half-angle $\\alpha$ in air at the input face to the internal angle $\\beta$ via Snell’s law at the hypotenuse (which is perpendicular to the optical axis),\n$$\n\\sin\\alpha = n\\sin\\beta,\n$$\nwe obtain the acceptance half-angle by inserting $\\beta_{\\max}$:\n$$\n\\alpha_{\\max} = \\arcsin\\!\\left(n\\sin\\!\\left(\\frac{\\pi}{4} - \\theta_{c}\\right)\\right).\n$$\nWith $\\theta_{c} = \\arcsin\\!\\left(\\frac{1}{n}\\right)$, and using\n$$\n\\sin\\!\\left(\\frac{\\pi}{4} - \\theta_{c}\\right) = \\frac{1}{\\sqrt{2}}\\left(\\cos\\theta_{c} - \\sin\\theta_{c}\\right) = \\frac{1}{\\sqrt{2}}\\left(\\sqrt{1 - \\frac{1}{n^{2}}} - \\frac{1}{n}\\right),\n$$\nwe simplify\n$$\nn\\sin\\!\\left(\\frac{\\pi}{4} - \\theta_{c}\\right) = \\frac{1}{\\sqrt{2}}\\left(\\sqrt{n^{2} - 1} - 1\\right).\n$$\nTherefore, the maximum external acceptance half-angle is\n$$\n\\alpha_{\\max} = \\arcsin\\!\\left(\\frac{1}{\\sqrt{2}}\\left(\\sqrt{n^{2} - 1} - 1\\right)\\right).\n$$\nThis expression is in radians and depends only on $n$, as required.", "answer": "$$\\boxed{\\arcsin\\!\\left(\\frac{1}{\\sqrt{2}}\\left(\\sqrt{n^{2} - 1} - 1\\right)\\right)}$$", "id": "2229282"}, {"introduction": "In modern optical engineering, the field of view is frequently defined not by a hard physical cutoff, but by a performance specification. This exercise introduces this practical concept using a hypothetical model for a planar metalens, where focusing efficiency degrades for off-axis light. You will calculate the 'effective' field of view by finding the angular range over which the lens's efficiency remains above a specified threshold, illustrating a shift from purely geometric limits to performance-based design criteria [@problem_id:2229264].", "problem": "A planar metalens is a novel optical component that focuses light using a flat, nanostructured surface, rather than the curved surfaces of conventional lenses. While highly efficient for light incident along its optical axis, its performance degrades for off-axis illumination.\n\nConsider a circular planar metalens of diameter $D$ designed to operate at a free-space wavelength of $\\lambda_0$. Its focusing efficiency $\\eta$, defined as the fraction of incident optical power concentrated into the desired focal spot, varies with the angle of incidence $\\theta_i$ (measured from the normal to the lens surface). Based on a physical model that accounts for the accumulation of phase errors across the aperture for off-axis incidence, the efficiency is given by the expression:\n$$\n\\eta(\\theta_i) = \\eta_0 \\exp\\left( - \\frac{\\pi^2 D^2 \\sin^2\\theta_i}{3 \\lambda_0^2} \\right)\n$$\nwhere $\\eta_0$ is the on-axis efficiency (at $\\theta_i = 0$).\n\nThe effective Field of View (FOV) of the metalens is defined as the total angular range, $2\\theta_{\\text{max}}$, within which the focusing efficiency $\\eta(\\theta_i)$ remains at or above a specified threshold value, $\\eta_{\\text{th}}$. Assume that $\\eta_{\\text{th}} < \\eta_0$.\n\nDerive a closed-form analytic expression for the full Field of View (FOV) of the metalens. Your expression should be in terms of the parameters $D$, $\\lambda_0$, $\\eta_0$, and $\\eta_{\\text{th}}$. Express your final answer in radians.", "solution": "We are given the focusing efficiency as a function of incidence angle,\n$$\n\\eta(\\theta_{i})=\\eta_{0}\\,\\exp\\!\\left(-\\frac{\\pi^{2}D^{2}\\sin^{2}\\theta_{i}}{3\\lambda_{0}^{2}}\\right),\n$$\nand the effective Field of View (FOV) is defined as the total angular range $2\\theta_{\\text{max}}$ for which $\\eta(\\theta_{i})\\geq\\eta_{\\text{th}}$, with $\\eta_{\\text{th}}<\\eta_{0}$.\n\nBecause $\\eta(\\theta_{i})$ depends on $\\sin^{2}\\theta_{i}$, it is an even function of $\\theta_{i}$. Hence the FOV is symmetric about the optical axis and equals $2\\theta_{\\text{max}}$, where $\\theta_{\\text{max}}$ is the largest nonnegative incidence angle satisfying the threshold inequality:\n$$\n\\eta_{0}\\,\\exp\\!\\left(-\\frac{\\pi^{2}D^{2}\\sin^{2}\\theta}{3\\lambda_{0}^{2}}\\right)\\geq\\eta_{\\text{th}}.\n$$\nDivide both sides by $\\eta_{0}>0$:\n$$\n\\exp\\!\\left(-\\frac{\\pi^{2}D^{2}\\sin^{2}\\theta}{3\\lambda_{0}^{2}}\\right)\\geq\\frac{\\eta_{\\text{th}}}{\\eta_{0}}.\n$$\nSince $0<\\frac{\\eta_{\\text{th}}}{\\eta_{0}}<1$ and $\\ln$ is strictly increasing, taking the natural logarithm and rearranging gives\n$$\n-\\frac{\\pi^{2}D^{2}\\sin^{2}\\theta}{3\\lambda_{0}^{2}}\\geq\\ln\\!\\left(\\frac{\\eta_{\\text{th}}}{\\eta_{0}}\\right)\n\\quad\\Longrightarrow\\quad\n\\frac{\\pi^{2}D^{2}\\sin^{2}\\theta}{3\\lambda_{0}^{2}}\\leq\\ln\\!\\left(\\frac{\\eta_{0}}{\\eta_{\\text{th}}}\\right).\n$$\nThus,\n$$\n\\sin^{2}\\theta\\leq\\frac{3\\lambda_{0}^{2}}{\\pi^{2}D^{2}}\\;\\ln\\!\\left(\\frac{\\eta_{0}}{\\eta_{\\text{th}}}\\right).\n$$\nTaking the principal value for nonnegative $\\theta$,\n$$\n\\theta_{\\text{max}}=\\arcsin\\!\\left(\\frac{\\sqrt{3}\\,\\lambda_{0}}{\\pi D}\\,\\sqrt{\\ln\\!\\left(\\frac{\\eta_{0}}{\\eta_{\\text{th}}}\\right)}\\right).\n$$\nTherefore, the full Field of View is\n$$\n\\text{FOV}=2\\theta_{\\text{max}}=2\\,\\arcsin\\!\\left(\\frac{\\sqrt{3}\\,\\lambda_{0}}{\\pi D}\\,\\sqrt{\\ln\\!\\left(\\frac{\\eta_{0}}{\\eta_{\\text{th}}}\\right)}\\right),\n$$\nexpressed in radians. This expression is valid provided that the argument of $\\arcsin$ lies in the interval $[0,1]$, which requires $\\frac{3\\lambda_{0}^{2}}{\\pi^{2}D^{2}}\\ln\\!\\left(\\frac{\\eta_{0}}{\\eta_{\\text{th}}}\\right)\\leq 1$; otherwise, the model would predict that the threshold is satisfied up to the edge of the angular domain of validity.", "answer": "$$\\boxed{2\\,\\arcsin\\!\\left(\\frac{\\sqrt{3}\\,\\lambda_{0}}{\\pi D}\\,\\sqrt{\\ln\\!\\left(\\frac{\\eta_{0}}{\\eta_{\\text{th}}}\\right)}\\right)}$$", "id": "2229264"}]}