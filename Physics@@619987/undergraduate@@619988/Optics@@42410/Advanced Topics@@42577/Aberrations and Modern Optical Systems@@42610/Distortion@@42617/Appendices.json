{"hands_on_practices": [{"introduction": "Understanding optical distortion begins with quantifying its effects. This first exercise [@problem_id:2227399] provides a practical scenario involving a Virtual Reality (VR) headset to explore pincushion distortion. You will apply the common third-order polynomial model to calculate the percentage distortion, a fundamental skill for characterizing and correcting optical systems.", "problem": "A software engineer is designing a pre-correction algorithm for a new Virtual Reality (VR) headset. The simple, single-element lenses used in the headset introduce a significant amount of optical distortion. For a point that would ideally be imaged at a radial distance $y_i$ from the center of the visual field (the optical axis), its actual perceived radial distance, $y_a$, is greater due to pincushion distortion. This effect is well-approximated by the third-order distortion model:\n\n$$y_a = y_i + C y_i^3$$\n\nwhere $C$ is a positive constant that characterizes the severity of the distortion for a particular lens.\n\nFor the lens in this VR headset, the distortion coefficient is $C = 2.5 \\text{ m}^{-2}$. The engineer considers a test point on the image rendered to the internal display. This point is located such that, in a perfect, distortion-free system, it would be perceived at a distance $y_i = 8.0 \\text{ cm}$ from the optical axis.\n\nCalculate the percentage distortion for this test point. The percentage distortion is defined as the ratio of the displacement $(\\Delta y = y_a - y_i)$ to the ideal position $y_i$. Express your final answer as a decimal rounded to three significant figures.", "solution": "Start from the third-order distortion model for pincushion distortion:\n$$y_{a} = y_{i} + C y_{i}^{3}.$$\nThe radial displacement is defined as\n$$\\Delta y = y_{a} - y_{i} = C y_{i}^{3}.$$\nThe percentage distortion, defined as the ratio of the displacement to the ideal position, is therefore\n$$\\frac{\\Delta y}{y_{i}} = \\frac{C y_{i}^{3}}{y_{i}} = C y_{i}^{2}.$$\nSubstitute the given values, using consistent SI units. With $C = 2.5\\ \\text{m}^{-2}$ and $y_{i} = 8.0\\ \\text{cm} = 8.0 \\times 10^{-2}\\ \\text{m}$, we have\n$$\\frac{\\Delta y}{y_{i}} = \\left(2.5\\ \\text{m}^{-2}\\right)\\left(8.0 \\times 10^{-2}\\ \\text{m}\\right)^{2}.$$\nCompute the square and simplify, noting that the units cancel to give a dimensionless quantity:\n$$\\frac{\\Delta y}{y_{i}} = 2.5 \\times 8.0^{2} \\times 10^{-4} = 2.5 \\times 64.0 \\times 10^{-4} = 160.0 \\times 10^{-4} = 1.600 \\times 10^{-2}.$$\nExpressed as a decimal rounded to three significant figures, this is\n$$0.0160.$$", "answer": "$$\\boxed{0.0160}$$", "id": "2227399"}, {"introduction": "Not all \"distortion\" is an unwanted artifact; sometimes it's a deliberate design choice. This problem [@problem_id:2227350] delves into the world of specialized optics, such as those used in autonomous vehicles, by comparing a wide-angle equisolid projection to the ideal rectilinear model. This practice helps distinguish between inherent lens projection characteristics and unwanted aberrations, a key concept in advanced lens design.", "problem": "An optical engineering team is characterizing a custom wide-angle lens intended for use in an autonomous vehicle's environmental sensing suite. For ideal navigation software that processes straight lines, a lens should have a rectilinear projection. In such a projection, a point in the object field at an angle $\\theta$ with respect to the optical axis is mapped to a height $y'_{ideal}$ on the image sensor according to the formula $y'_{ideal} = f \\tan(\\theta)$, where $f$ is the lens's effective focal length.\n\nHowever, to achieve a very wide field of view, the custom lens is designed with an equisolid angle projection. This projection maps the same object point to a height $y'_{actual}$ on the sensor given by $y'_{actual} = 2f \\sin(\\frac{\\theta}{2})$.\n\nOptical distortion is a measure of the deviation from the ideal rectilinear projection. It is quantified by the relative distortion factor, $D$, defined as $D = \\frac{y'_{actual} - y'_{ideal}}{y'_{ideal}}$. A negative value of $D$ indicates barrel distortion, where straight lines in the object space appear to curve outwards in the image.\n\nCalculate the numerical value of the relative distortion factor $D$ for this custom lens at a field angle of $\\theta = \\frac{2\\pi}{5}$ radians. Round your final answer to four significant figures.", "solution": "The ideal rectilinear projection maps a field angle $\\theta$ to the image height $y'_{ideal} = f \\tan(\\theta)$, and the equisolid angle projection maps it to $y'_{actual} = 2 f \\sin\\!\\left(\\frac{\\theta}{2}\\right)$. The relative distortion factor is defined as\n$$\nD = \\frac{y'_{actual} - y'_{ideal}}{y'_{ideal}}.\n$$\nSubstituting the given image heights,\n$$\nD = \\frac{2 f \\sin\\!\\left(\\frac{\\theta}{2}\\right) - f \\tan(\\theta)}{f \\tan(\\theta)} = \\frac{2 \\sin\\!\\left(\\frac{\\theta}{2}\\right)}{\\tan(\\theta)} - 1.\n$$\nUse $\\tan(\\theta) = \\frac{\\sin(\\theta)}{\\cos(\\theta)}$ and $\\sin(\\theta) = 2 \\sin\\!\\left(\\frac{\\theta}{2}\\right)\\cos\\!\\left(\\frac{\\theta}{2}\\right)$ to simplify the ratio:\n$$\n\\frac{2 \\sin\\!\\left(\\frac{\\theta}{2}\\right)}{\\tan(\\theta)} = 2 \\sin\\!\\left(\\frac{\\theta}{2}\\right) \\cdot \\frac{\\cos(\\theta)}{\\sin(\\theta)} = 2 \\sin\\!\\left(\\frac{\\theta}{2}\\right) \\cdot \\frac{\\cos(\\theta)}{2 \\sin\\!\\left(\\frac{\\theta}{2}\\right)\\cos\\!\\left(\\frac{\\theta}{2}\\right)} = \\frac{\\cos(\\theta)}{\\cos\\!\\left(\\frac{\\theta}{2}\\right)}.\n$$\nTherefore,\n$$\nD = \\frac{\\cos(\\theta)}{\\cos\\!\\left(\\frac{\\theta}{2}\\right)} - 1.\n$$\nFor $\\theta = \\frac{2\\pi}{5}$, we have $\\frac{\\theta}{2} = \\frac{\\pi}{5}$. Using the exact trigonometric values\n$$\n\\cos\\!\\left(\\frac{2\\pi}{5}\\right) = \\frac{\\sqrt{5} - 1}{4}, \\qquad \\cos\\!\\left(\\frac{\\pi}{5}\\right) = \\frac{1 + \\sqrt{5}}{4},\n$$\nwe obtain\n$$\nD = \\frac{\\frac{\\sqrt{5} - 1}{4}}{\\frac{1 + \\sqrt{5}}{4}} - 1 = \\frac{\\sqrt{5} - 1}{\\sqrt{5} + 1} - 1 = \\frac{(\\sqrt{5} - 1) - (\\sqrt{5} + 1)}{\\sqrt{5} + 1} = -\\frac{2}{\\sqrt{5} + 1}.\n$$\nEquivalently,\n$$\nD = \\frac{1 - \\sqrt{5}}{2}.\n$$\nNumerically, $\\frac{1 - \\sqrt{5}}{2} \\approx -0.6180339887\\ldots$, which rounded to four significant figures is $-0.6180$.", "answer": "$$\\boxed{-0.6180}$$", "id": "2227350"}, {"introduction": "To make precise measurements from an image, we must first correct for lens distortion. This final practice [@problem_id:947296] tackles the inverse problem: determining the lens's distortion coefficients from a set of known measurements. By working through this camera calibration exercise, you will learn how to build a mathematical model to computationally remove distortion, a vital skill in fields like computer vision and photogrammetry.", "problem": "In optical imaging systems, such as cameras, lens imperfections cause geometric distortions. A common type of distortion is radial distortion, which causes straight lines in the object space to appear curved in the image. For accurate measurements and computer vision applications, this distortion must be corrected.\n\nA widely used model to correct for radial distortion is the polynomial model. Assuming the center of distortion is at the origin of the image plane, the relationship between the ideal (undistorted) coordinates $(x_u, y_u)$ and the measured (distorted) coordinates $(x_d, y_d)$ can be expressed as:\n$$x_u = x_d (1 + k_1 r_d^2 + k_2 r_d^4 + \\dots)$$\n$$y_u = y_d (1 + k_1 r_d^2 + k_2 r_d^4 + \\dots)$$\nwhere $r_d = \\sqrt{x_d^2 + y_d^2}$ is the radial distance from the center in the distorted image, and $k_1, k_2, \\dots$ are the radial distortion coefficients.\n\nConsider a system where the distortion is well-described by the first two coefficients, $k_1$ and $k_2$. To calibrate the system, we measure the positions of known objects. Suppose we have done this for two distinct, off-axis points, labeled 1 and 2. For point 1, the ideal radial position is $r_{u,1}$ and the measured radial position is $r_{d,1}$. For point 2, the ideal and measured radial positions are $r_{u,2}$ and $r_{d,2}$, respectively.\n\nUsing this information, determine a symbolic expression for the quantity $Q$ defined as:\n$$Q = 2 k_1 r_{d,1}^2 r_{d,2}^2 + k_2 r_{d,1}^2 r_{d,2}^2 (r_{d,1}^2 + r_{d,2}^2)$$\nExpress your answer in terms of the given radial positions $r_{u,1}, r_{d,1}, r_{u,2},$ and $r_{d,2}$.", "solution": "1. Radial-mapping equations for points $i=1,2$:\n$$r_{u,i}=r_{d,i}\\bigl(1+k_1r_{d,i}^2+k_2r_{d,i}^4\\bigr).$$\nDefine $s_i=r_{d,i}^2$ and \n$$A_i=\\frac{r_{u,i}}{r_{d,i}}-1=k_1s_i+k_2s_i^2.$$\n2. This yields the linear system\n$$k_1s_1+k_2s_1^2=A_1,\\quad k_1s_2+k_2s_2^2=A_2.$$\nIts determinant is \n$$D=s_1s_2^2-s_2s_1^2=s_1s_2(s_2-s_1).$$\nThus\n$$k_1=\\frac{A_1s_2^2-A_2s_1^2}{D},\\qquad k_2=\\frac{A_2s_1-A_1s_2}{D}.$$\n3. The quantity\n$$Q=2k_1s_1s_2+k_2s_1s_2(s_1+s_2)=s_1s_2\\bigl(2k_1+k_2(s_1+s_2)\\bigr)$$\nsubstitutes to\n$$Q=\\frac{2(A_1s_2^2-A_2s_1^2)+(s_1+s_2)(A_2s_1-A_1s_2)}{s_2-s_1}\n=A_1s_2+A_2s_1.$$\n4. Re-expressing $A_i$ and $s_i$ gives\n$$Q=r_{d,2}^2\\Bigl(\\frac{r_{u,1}}{r_{d,1}}-1\\Bigr)+r_{d,1}^2\\Bigl(\\frac{r_{u,2}}{r_{d,2}}-1\\Bigr).$$", "answer": "$$\\boxed{r_{d,2}^2\\bigl(\\tfrac{r_{u,1}}{r_{d,1}}-1\\bigr)+r_{d,1}^2\\bigl(\\tfrac{r_{u,2}}{r_{d,2}}-1\\bigr)}$$", "id": "947296"}]}