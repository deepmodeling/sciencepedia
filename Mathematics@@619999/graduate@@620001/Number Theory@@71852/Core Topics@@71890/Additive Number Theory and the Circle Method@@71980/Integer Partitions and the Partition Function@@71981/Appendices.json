{"hands_on_practices": [{"introduction": "The Euler product is a cornerstone of the analytic theory of partitions, defining the generating function for $p(n)$. This exercise prompts you to engage with this function directly, exploring how truncating the infinite product allows for the computation of initial values of $p(n)$. By doing so, you will build foundational intuition about the relationship between the product structure and the series coefficients, and learn to rigorously bound the error of such approximations [@problem_id:3015975].", "problem": "Let $p(n)$ denote the number of partitions of the nonnegative integer $n$, i.e., the number of ways to write $n$ as a sum of positive integers without regard to order. The generating function for the partition function is given by the Euler product\n$$\\sum_{n=0}^{\\infty} p(n)\\,q^{n} \\;=\\; \\prod_{m=1}^{\\infty} \\frac{1}{1 - q^{m}},$$\nviewed as a formal power series in $q$ or as a complex power series for $|q|1$. Using only this foundational identity and arguments that control the contribution of the tail factors $\\prod_{mM} (1 - q^{m})^{-1}$, carry out the following:\n\n- Compute $p(n)$ for all integers $n$ with $0 \\leq n \\leq 15$ by truncating the Euler product to the first $15$ factors, i.e., working with\n$$\\prod_{m=1}^{15} \\frac{1}{1 - q^{m}} \\;=\\; \\prod_{m=1}^{15} \\left( \\sum_{k=0}^{\\lfloor 15/m \\rfloor} q^{k m} \\right),$$\nand extracting coefficients up to degree $15$.\n\n- Provide a rigorous bound on the truncation error for the coefficient of $q^{n}$ (with $n \\leq 15$) when the Euler product is truncated at $m=15$, by deriving a tail estimate based on the structure of the factors $(1 - q^{m})^{-1}$ and, if desired, by analytic coefficient bounds using the Cauchy integral estimate on a circle $|q|=r$ with $0r1$.\n\nReport the value of $p(15)$ as your final answer. No rounding is required; provide the exact integer.", "solution": "The problem asks for two things: first, to compute the partition numbers $p(n)$ for $0 \\le n \\le 15$ by extracting coefficients from a truncated Euler product; second, to provide a rigorous bound on the truncation error for these coefficients. We will begin by analyzing the truncation error, as this informs the method of computation.\n\nLet $p(n)$ be the partition function. Its generating function is given by the Euler product:\n$$P(q) = \\sum_{n=0}^{\\infty} p(n)q^n = \\prod_{m=1}^{\\infty} \\frac{1}{1 - q^m}$$\nThe problem instructs us to work with the product truncated to the first $15$ factors. Let us define this truncated product as $P_{15}(q)$:\n$$P_{15}(q) = \\prod_{m=1}^{15} \\frac{1}{1 - q^m}$$\nLet the coefficients of the power series for $P_{15}(q)$ be denoted by $p_{15}(n)$, so that $P_{15}(q) = \\sum_{n=0}^{\\infty} p_{15}(n)q^n$. The problem asks for the computation of $p_{15}(n)$ for $0 \\le n \\le 15$.\n\n**Analysis of the Truncation Error**\n\nThe full generating function $P(q)$ can be written as the product of the truncated part $P_{15}(q)$ and a tail part $T_{15}(q)$:\n$$P(q) = P_{15}(q) \\cdot T_{15}(q)$$\nwhere the tail is given by\n$$T_{15}(q) = \\prod_{m=16}^{\\infty} \\frac{1}{1 - q^m}$$\nTo understand the relationship between the coefficients $p(n)$ and $p_{15}(n)$, we examine the power series expansion of the tail $T_{15}(q)$. Each factor $(1-q^m)^{-1}$ is a geometric series $1 + q^m + q^{2m} + \\dots$.\n$$T_{15}(q) = \\left(\\sum_{k_1=0}^\\infty q^{16k_1}\\right) \\left(\\sum_{k_2=0}^\\infty q^{17k_2}\\right) \\left(\\sum_{k_3=0}^\\infty q^{18k_3}\\right) \\cdots$$\nThe constant term in this product is $1$, which occurs when we select the term $q^0=1$ from each factor. Any other term in the expansion of $T_{15}(q)$ will be a power of $q$ whose exponent is a sum of integers, each of which is at least $16$. The smallest non-zero exponent is $16$. Therefore, the power series for $T_{15}(q)$ is of the form:\n$$T_{15}(q) = 1 + c_{16}q^{16} + c_{17}q^{17} + \\dots = 1 + O(q^{16})$$\nwhere the coefficients $c_k$ are non-negative integers. Specifically, $c_k$ is the number of partitions of $k$ into parts all of which are greater than or equal to $16$. For $1 \\le k \\le 15$, it is impossible to form such a partition, so $c_k=0$ for $1 \\le k \\le 15$.\n\nNow we relate the coefficients using the product of the series:\n$$\\sum_{n=0}^{\\infty} p(n)q^n = \\left(\\sum_{j=0}^{\\infty} p_{15}(j)q^j\\right) \\left(\\sum_{k=0}^{\\infty} c_k q^k\\right)$$\nwhere we define $c_0=1$ and $c_k = [q^k]T_{15}(q)$ for $k \\ge 1$.\nBy the Cauchy product rule, the coefficient $p(n)$ is given by:\n$$p(n) = \\sum_{j=0}^{n} p_{15}(j) c_{n-j} = p_{15}(n)c_0 + p_{15}(n-1)c_1 + \\dots + p_{15}(0)c_n$$\nAs established, $c_0=1$ and $c_k=0$ for $1 \\le k \\le 15$.\nFor any integer $n$ such that $0 \\le n \\le 15$, the terms $c_1, c_2, \\dots, c_n$ in the sum above are all zero. The sum simplifies to:\n$$p(n) = p_{15}(n) \\cdot 1 + \\sum_{j=0}^{n-1} p_{15}(j) c_{n-j} = p_{15}(n) \\cdot 1 + 0$$\nThus, for $0 \\le n \\le 15$, we have $p(n) = p_{15}(n)$.\n\nThe truncation error for the coefficient of $q^n$ is $p(n) - p_{15}(n)$. Our analysis shows that this error is exactly $0$ for all $n$ in the range $0 \\le n \\le 15$. This provides a rigorous bound of $0$ for the error, fulfilling the second requirement of the problem.\n\n**Computation of the Coefficients**\n\nGiven that the coefficients $p_{15}(n)$ for $n \\le 15$ are identical to the true partition numbers $p(n)$, we can compute these values using any valid method derived from the generating function identity. While direct multiplication of the $15$ truncated geometric series as polynomials is possible, it is computationally intensive. A more systematic and elegant method is to use the recurrence relation derived from Euler's pentagonal number theorem.\n\nThe theorem states that:\n$$\\prod_{m=1}^{\\infty} (1 - q^m) = \\sum_{k=-\\infty}^{\\infty} (-1)^k q^{\\omega_k}$$\nwhere $\\omega_k = \\frac{k(3k-1)}{2}$ are the generalized pentagonal numbers.\nThe generating function identity $P(q) = (\\prod_{m=1}^{\\infty} (1-q^m))^{-1}$ implies:\n$$\\left(\\sum_{n=0}^{\\infty} p(n)q^n\\right) \\left(\\sum_{k=-\\infty}^{\\infty} (-1)^k q^{\\omega_k}\\right) = 1$$\nExtracting the coefficient of $q^n$ for $n>0$ from this product identity gives a recurrence for $p(n)$: The coefficient must be $0$.\nThe pentagonal numbers for small non-zero $k$ are:\n$\\omega_1 = 1$, $\\omega_{-1} = 2$, $\\omega_2 = 5$, $\\omega_{-2} = 7$, $\\omega_3 = 12$, $\\omega_{-3} = 15$, $\\omega_4 = 22, \\dots$\nThe recurrence relation is:\n$$p(n) = p(n-1) + p(n-2) - p(n-5) - p(n-7) + p(n-12) + p(n-15) - \\dots$$\n$$p(n) = \\sum_{k=1}^{\\infty} (-1)^{k-1} \\left( p(n - \\omega_k) + p(n - \\omega_{-k}) \\right)$$\nUsing this recurrence with the base case $p(0)=1$ (partition of $0$ is the empty sum) and $p(n)=0$ for $n0$:\n$p(0) = 1$\n$p(1) = p(0) = 1$\n$p(2) = p(1) + p(0) = 1 + 1 = 2$\n$p(3) = p(2) + p(1) = 2 + 1 = 3$\n$p(4) = p(3) + p(2) = 3 + 2 = 5$\n$p(5) = p(4) + p(3) - p(0) = 5 + 3 - 1 = 7$\n$p(6) = p(5) + p(4) - p(1) = 7 + 5 - 1 = 11$\n$p(7) = p(6) + p(5) - p(2) - p(0) = 11 + 7 - 2 - 1 = 15$\n$p(8) = p(7) + p(6) - p(3) - p(1) = 15 + 11 - 3 - 1 = 22$\n$p(9) = p(8) + p(7) - p(4) - p(2) = 22 + 15 - 5 - 2 = 30$\n$p(10) = p(9) + p(8) - p(5) - p(3) = 30 + 22 - 7 - 3 = 42$\n$p(11) = p(10) + p(9) - p(6) - p(4) = 42 + 30 - 11 - 5 = 56$\n$p(12) = p(11) + p(10) - p(7) - p(5) + p(0) = 56 + 42 - 15 - 7 + 1 = 77$\n$p(13) = p(12) + p(11) - p(8) - p(6) + p(1) = 77 + 56 - 22 - 11 + 1 = 101$\n$p(14) = p(13) + p(12) - p(9) - p(7) + p(2) = 101 + 77 - 30 - 15 + 2 = 135$\n$p(15) = p(14) + p(13) - p(10) - p(8) + p(3) + p(0) = 135 + 101 - 42 - 22 + 3 + 1 = 176$\n\nThese are the values for $p(n)$ for $0 \\le n \\le 15$, which are equal to the coefficients extracted from the product truncated at $m=15$. The problem requests the value of $p(15)$.", "answer": "$$\\boxed{176}$$", "id": "3015975"}, {"introduction": "While direct expansion of the generating function is insightful, it is not computationally efficient for larger values of $n$. A far more powerful method arises from combining the generating function with Euler's Pentagonal Number Theorem, yielding a highly effective recurrence relation. This practice guides you through implementing this famous recurrence, the primary tool for computing $p(n)$, and using your code to computationally verify one of Ramanujan's celebrated congruences [@problem_id:3015946].", "problem": "You are to write a complete, runnable program that computes values of the partition function modulo a fixed modulus by deriving and implementing a principled recurrence from foundational identities in the ring of formal power series. Your implementation must be based on a derivation that starts from the generating function definition of the integer partition function and standard facts about formal power series, without assuming any precomputed values of the partition function. In particular, begin from the fundamental identity in the ring of formal power series\n$$\n\\sum_{n\\ge 0} p(n)\\,x^n \\;=\\; \\prod_{k\\ge 1}\\frac{1}{1-x^k},\n$$\nwhere $p(n)$ denotes the number of integer partitions of $n$, and deduce an effective, finite recurrence that allows you to compute $p(n)\\bmod m$ for all $n$ up to a given bound. You may use any classical consequences that can be rigorously derived from the generating function within this framework, together with the fact that computations can be carried out modulo $m$ inside the ring of formal power series with coefficients in the integers modulo $m$.\n\nYour program must carry out the following tasks:\n- Compute $p(n)\\bmod 5$ for all integers $n$ with $0\\le n\\le 34$.\n- Extract the subsequence $p(5k+4)\\bmod 5$ for all integers $k$ with $0\\le k\\le 6$.\n- Verify computationally whether the congruence $p(5n+4)\\equiv 0 \\pmod{5}$ holds for all integers $n$ with $0\\le n\\le 6$.\n\nTest suite and required outputs:\n- Use the parameters $n_{\\max}=34$ and $m=5$.\n- Your program must produce three results that collectively exercise correctness and boundary behavior:\n    1. The full list of residues $[p(n)\\bmod 5]$ for all integers $n$ with $0\\le n\\le 34$ (this list has length $35$ and includes the boundary case $n=0$).\n    2. The extracted list of residues $[p(5k+4)\\bmod 5]$ for all integers $k$ with $0\\le k\\le 6$ (corresponding to indices $4,9,14,19,24,29,34$).\n    3. A single boolean value indicating whether all entries in the second list are equal to $0$ in $\\mathbb{Z}/5\\mathbb{Z}$.\n\nFinal output format:\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets. The first element must be the list from item $1$, the second element must be the list from item $2$, and the third element must be the boolean from item $3$. For example, your output should have the form\n$$\n[\\,[\\dots 35\\ \\text{integers}\\dots],\\,[\\dots 7\\ \\text{integers}\\dots],\\,\\text{True or False}\\,].\n$$\nNo inputs are to be read from standard input, and no external files may be used. All integers are to be reported as plain integers without any unit. The boolean must be a literal boolean.", "solution": "The problem requires the computation of the integer partition function $p(n)$ modulo a prime $m=5$ up to a bound $n_{\\max}=34$. We are to derive a valid computational recurrence from the generating function for $p(n)$ in the ring of formal power series $\\mathbb{Z}[[x]]$.\n\nThe generating function for the number of partitions of an integer $n$, denoted $p(n)$, is given by the identity:\n$$P(x) = \\sum_{n=0}^{\\infty} p(n)x^n = \\prod_{k=1}^{\\infty} \\frac{1}{1-x^k}$$\nBy convention, $p(0)=1$, which corresponds to the single partition of $0$ (the empty partition). For $n0$, we define $p(n)=0$.\n\nThis identity holds in the ring of formal power series $\\mathbb{Z}[[x]]$. The multiplicative inverse of $P(x)$ is therefore:\n$$\\Phi(x) = P(x)^{-1} = \\prod_{k=1}^{\\infty} (1-x^k)$$\nA fundamental result in the theory of partitions, Euler's Pentagonal Number Theorem, provides a series expansion for $\\Phi(x)$:\n$$\\Phi(x) = \\sum_{j=-\\infty}^{\\infty} (-1)^j x^{\\omega_j} = 1 - x - x^2 + x^5 + x^7 - x^{12} - x^{15} + \\dots$$\nwhere the exponents $\\omega_j = \\frac{j(3j-1)}{2}$ are the generalized pentagonal numbers for $j \\in \\mathbb{Z}$.\n\nThe product of $P(x)$ and its inverse $\\Phi(x)$ is the multiplicative identity in $\\mathbb{Z}[[x]]$, which is the formal power series $1$:\n$$P(x) \\Phi(x) = \\left(\\sum_{n=0}^{\\infty} p(n)x^n\\right) \\left(\\sum_{j=-\\infty}^{\\infty} (-1)^j x^{\\omega_j}\\right) = 1$$\nFor any $n>0$, the coefficient of $x^n$ in the product series must be $0$. Using the Cauchy product formula for the coefficient of $x^n$, which we denote as $[x^n]$, we have:\n$$[x^n](P(x)\\Phi(x)) = \\sum_{j=-\\infty}^{\\infty} \\left( [x^{\\omega_j}]\\Phi(x) \\right) \\cdot \\left( [x^{n-\\omega_j}]P(x) \\right) = \\sum_{j=-\\infty}^{\\infty} (-1)^j p(n-\\omega_j) = 0$$\nThis holds for all $n>0$. The term for $j=0$ corresponds to $\\omega_0=0$, giving $(-1)^0 p(n-0) = p(n)$. We can thus isolate $p(n)$ from the sum:\n$$p(n) + \\sum_{j \\in \\mathbb{Z}, j \\neq 0} (-1)^j p(n-\\omega_j) = 0$$\nThis yields the desired recurrence relation for $p(n)$:\n$$p(n) = -\\sum_{j \\in \\mathbb{Z}, j \\neq 0} (-1)^j p(n-\\omega_j) = \\sum_{j \\in \\mathbb{Z}, j \\neq 0} (-1)^{j-1} p(n-\\omega_j)$$\nFor computational purposes, it is convenient to group the terms for $j=k$ and $j=-k$ ($k \\in \\mathbb{Z}, k \\ge 1$). The corresponding pentagonal numbers are $\\omega_k = \\frac{k(3k-1)}{2}$ and $\\omega_{-k} = \\frac{k(3k+1)}{2}$. The recurrence becomes:\n$$p(n) = \\sum_{k=1}^{\\infty} (-1)^{k-1} \\left( p\\left(n - \\frac{k(3k-1)}{2}\\right) + p\\left(n - \\frac{k(3k+1)}{2}\\right) \\right)$$\nwhich can be written more explicitly as:\n$$p(n) = [p(n-1)+p(n-2)] - [p(n-5)+p(n-7)] + [p(n-12)+p(n-15)] - \\dots$$\nwhere the sum is finite, as $p(k)=0$ for $k0$.\n\nThis recurrence relation involves only integer additions and subtractions. Therefore, it is valid to perform all computations modulo an integer $m$. Specifically, we compute $p(n) \\pmod 5$:\n$$p(n) \\equiv \\sum_{k=1}^{\\infty} (-1)^{k-1} \\left( p\\left(n - \\frac{k(3k-1)}{2}\\right) + p\\left(n - \\frac{k(3k+1)}{2}\\right) \\right) \\pmod 5$$\n\nThe algorithm proceeds as follows:\n1.  Initialize an array, say `p_mod_m`, of size $n_{\\max}+1=35$ to store the values of $p(n) \\bmod 5$.\n2.  Set the base case: `p_mod_m[0] = 1`.\n3.  Iterate for $n$ from $1$ to $34$. In each iteration, compute `p_mod_m[n]` using the recurrence relation. The calculation for each $p(n)$ uses previously computed values $p(k)$ where $k  n$.\n4.  After computing all values up to $p(34) \\pmod 5$, a list of these $35$ residues is formed.\n5.  A second list is extracted, containing the values $p(5k+4) \\pmod 5$ for $k \\in \\{0, 1, \\dots, 6\\}$. These correspond to indices $4, 9, 14, 19, 24, 29, 34$ in the main list.\n6.  Finally, a boolean value is determined by checking if all elements of the second list are congruent to $0 \\pmod 5$. This computationally verifies a specific instance of Ramanujan's congruence $p(5k+4) \\equiv 0 \\pmod 5$.\nThe three resulting objects—the full list of residues, the extracted sublist, and the boolean verification—are then formatted into the required final output string.", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes partition function values p(n) modulo 5 based on a recurrence\n    derived from the generating function, then verifies a Ramanujan congruence.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    n_max = 34\n    m = 5\n\n    # 1. Compute p(n) mod m for 0 = n = n_max.\n    \n    # Initialize an array to store p(n) mod m.\n    # We use a numpy array for efficient integer operations.\n    p = np.zeros(n_max + 1, dtype=int)\n    \n    # Base case: p(0) = 1 (the empty partition).\n    p[0] = 1\n\n    # Apply the recurrence relation derived from Euler's Pentagonal Number Theorem.\n    # p(n) = sum_{k=1 to inf} (-1)^(k-1) * [p(n - k(3k-1)/2) + p(n - k(3k+1)/2)]\n    for n in range(1, n_max + 1):\n        val = 0\n        sign = 1\n        k = 1\n        while True:\n            # Generalized pentagonal numbers for k and -k.\n            pent_k = k * (3 * k - 1) // 2\n            pent_minus_k = k * (3 * k + 1) // 2\n            \n            # Add p(n - pent_k) term.\n            if n - pent_k = 0:\n                val += sign * p[n - pent_k]\n            else:\n                # Since pentagonal numbers are strictly increasing with k,\n                # we can break if n - pent_k is negative.\n                break\n\n            # Add p(n - pent_minus_k) term.\n            if n - pent_minus_k = 0:\n                val += sign * p[n - pent_minus_k]\n\n            # Alternate the sign for the next pair of terms.\n            sign *= -1\n            k += 1\n        \n        # Store the result modulo m. Python's % operator handles negative\n        # results correctly for modular arithmetic (e.g., -1 % 5 == 4).\n        p[n] = val % m\n\n    # Convert the numpy array of all results to a standard Python list.\n    full_residue_list = p.tolist()\n\n    # 2. Extract the subsequence p(5k+4) mod 5.\n    subsequence_indices = [5 * k + 4 for k in range(7)] # k from 0 to 6\n    extracted_subsequence = [p[i] for i in subsequence_indices]\n\n    # 3. Verify the congruence p(5n+4) = 0 (mod 5).\n    is_congruence_verified = all(x == 0 for x in extracted_subsequence)\n    \n    # Final print statement in the exact required format.\n    # Python's str() for lists and booleans matches the required format.\n    print(f\"[{full_residue_list},{extracted_subsequence},{is_congruence_verified}]\")\n\nsolve()\n\n```", "id": "3015946"}, {"introduction": "Ramanujan's congruences, hinted at in the previous practice, suggest a deep, hidden structure within the sets of partitions for certain integers. This exercise introduces the combinatorial statistics known as the rank and the crank, which were invented to provide a combinatorial proof for these arithmetic patterns. By enumerating partitions of a small integer and calculating these statistics, you will gain a concrete understanding of how these invariants sort partitions into equinumerous families, thereby revealing the underlying symmetries [@problem_id:3015948].", "problem": "Let $n$ be a positive integer and let a partition $\\pi$ of $n$ be a finite nonincreasing sequence of positive integers whose sum is $n$. Denote by $p(n)$ the number of partitions of $n$. For a partition $\\pi$, define its rank $\\mathrm{rank}(\\pi)$ to be the largest part of $\\pi$ minus the number of parts of $\\pi$. Define its crank $\\mathrm{crank}(\\pi)$ as follows: write $\\lambda(\\pi)$ for the largest part of $\\pi$, $\\mu(\\pi)$ for the number of $1$'s occurring in $\\pi$, and $\\nu(\\pi)$ for the number of parts strictly larger than $\\mu(\\pi)$. Then\n- if $\\mu(\\pi)=0$, set $\\mathrm{crank}(\\pi)=\\lambda(\\pi)$,\n- if $\\mu(\\pi)0$, set $\\mathrm{crank}(\\pi)=\\nu(\\pi)-\\mu(\\pi)$.\n\nFor a fixed $n$, define the rank-distribution and crank-distribution polynomials\n$$R_{n}(z)=\\sum_{\\pi\\vdash n} z^{\\mathrm{rank}(\\pi)}\\quad\\text{and}\\quad C_{n}(z)=\\sum_{\\pi\\vdash n} z^{\\mathrm{crank}(\\pi)},$$\nwhere the sum ranges over all partitions $\\pi$ of $n$ and $z$ is a formal variable.\n\nStarting from the definitions above and fundamental properties of Ferrers diagram conjugation, compute $R_{9}(z)$ and $C_{9}(z)$ explicitly by enumerating all partitions of $9$, determining $\\mathrm{rank}(\\pi)$ and $\\mathrm{crank}(\\pi)$ for each, and summing their contributions. Then, verify the symmetry properties of these distributions under $z\\mapsto z^{-1}$ for $n=9$ by identifying the appropriate combinatorial involutions and confirming that the coefficient sequences are symmetric. Express your final answer as closed-form polynomials in $z$ for $R_{9}(z)$ and $C_{9}(z)$.", "solution": "The problem is to compute the rank-distribution polynomial $R_{9}(z)$ and the crank-distribution polynomial $C_{9}(z)$ for partitions of the integer $n=9$. This task requires the explicit enumeration of all partitions of $9$, followed by the calculation of the rank and crank for each partition.\n\nThe number of partitions of $n=9$, denoted $p(9)$, is $30$. The partitions of $9$ are:\n$1$. $\\pi_1 = (9)$\n$2$. $\\pi_2 = (8,1)$\n$3$. $\\pi_3 = (7,2)$\n$4$. $\\pi_4 = (7,1,1)$\n$5$. $\\pi_5 = (6,3)$\n$6$. $\\pi_6 = (6,2,1)$\n$7$. $\\pi_7 = (6,1,1,1)$\n$8$. $\\pi_8 = (5,4)$\n$9$. $\\pi_9 = (5,3,1)$\n$10$. $\\pi_{10} = (5,2,2)$\n$11$. $\\pi_{11} = (5,2,1,1)$\n$12$. $\\pi_{12} = (5,1,1,1,1)$\n$13$. $\\pi_{13} = (4,4,1)$\n$14$. $\\pi_{14} = (4,3,2)$\n$15$. $\\pi_{15} = (4,3,1,1)$\n$16$. $\\pi_{16} = (4,2,2,1)$\n$17$. $\\pi_{17} = (4,2,1,1,1)$\n$18$. $\\pi_{18} = (4,1,1,1,1,1)$\n$19$. $\\pi_{19} = (3,3,3)$\n$20$. $\\pi_{20} = (3,3,2,1)$\n$21$. $\\pi_{21} = (3,3,1,1,1)$\n$22$. $\\pi_{22} = (3,2,2,2)$\n$23$. $\\pi_{23} = (3,2,2,1,1)$\n$24$. $\\pi_{24} = (3,2,1,1,1,1)$\n$25$. $\\pi_{25} = (3,1,1,1,1,1,1)$\n$26$. $\\pi_{26} = (2,2,2,2,1)$\n$27$. $\\pi_{27} = (2,2,2,1,1,1)$\n$28$. $\\pi_{28} = (2,2,1,1,1,1,1)$\n$29$. $\\pi_{29} = (2,1,1,1,1,1,1,1)$\n$30$. $\\pi_{30} = (1,1,1,1,1,1,1,1,1)$\n\nFirst, we compute the rank-distribution polynomial $R_{9}(z)$. The rank of a partition $\\pi$ is defined as $\\mathrm{rank}(\\pi) = \\lambda(\\pi) - k(\\pi)$, where $\\lambda(\\pi)$ is the largest part and $k(\\pi)$ is the number of parts. We calculate the rank for each partition of $9$:\n$\\mathrm{rank}(\\pi_1) = 9-1=8$\n$\\mathrm{rank}(\\pi_2) = 8-2=6$\n$\\mathrm{rank}(\\pi_3) = 7-2=5$\n$\\mathrm{rank}(\\pi_4) = 7-3=4$\n$\\mathrm{rank}(\\pi_5) = 6-2=4$\n$\\mathrm{rank}(\\pi_6) = 6-3=3$\n$\\mathrm{rank}(\\pi_7) = 6-4=2$\n$\\mathrm{rank}(\\pi_8) = 5-2=3$\n$\\mathrm{rank}(\\pi_9) = 5-3=2$\n$\\mathrm{rank}(\\pi_{10}) = 5-3=2$\n$\\mathrm{rank}(\\pi_{11}) = 5-4=1$\n$\\mathrm{rank}(\\pi_{12}) = 5-5=0$\n$\\mathrm{rank}(\\pi_{13}) = 4-3=1$\n$\\mathrm{rank}(\\pi_{14}) = 4-3=1$\n$\\mathrm{rank}(\\pi_{15}) = 4-4=0$\n$\\mathrm{rank}(\\pi_{16}) = 4-4=0$\n$\\mathrm{rank}(\\pi_{17}) = 4-5=-1$\n$\\mathrm{rank}(\\pi_{18}) = 4-6=-2$\n$\\mathrm{rank}(\\pi_{19}) = 3-3=0$\n$\\mathrm{rank}(\\pi_{20}) = 3-4=-1$\n$\\mathrm{rank}(\\pi_{21}) = 3-5=-2$\n$\\mathrm{rank}(\\pi_{22}) = 3-4=-1$\n$\\mathrm{rank}(\\pi_{23}) = 3-5=-2$\n$\\mathrm{rank}(\\pi_{24}) = 3-6=-3$\n$\\mathrm{rank}(\\pi_{25}) = 3-7=-4$\n$\\mathrm{rank}(\\pi_{26}) = 2-5=-3$\n$\\mathrm{rank}(\\pi_{27}) = 2-6=-4$\n$\\mathrm{rank}(\\pi_{28}) = 2-7=-5$\n$\\mathrm{rank}(\\pi_{29}) = 2-8=-6$\n$\\mathrm{rank}(\\pi_{30}) = 1-9=-8$\n\nThe rank-distribution polynomial is $R_{9}(z)=\\sum_{i=1}^{30} z^{\\mathrm{rank}(\\pi_i)}$. We collect terms with the same exponent:\n- Coefficient of $z^8$: $1$\n- Coefficient of $z^6$: $1$\n- Coefficient of $z^5$: $1$\n- Coefficient of $z^4$: $2$\n- Coefficient of $z^3$: $2$\n- Coefficient of $z^2$: $3$\n- Coefficient of $z^1$: $3$\n- Coefficient of $z^0$: $4$\n- Coefficient of $z^{-1}$: $3$\n- Coefficient of $z^{-2}$: $3$\n- Coefficient of $z^{-3}$: $2$\n- Coefficient of $z^{-4}$: $2$\n- Coefficient of $z^{-5}$: $1$\n- Coefficient of $z^{-6}$: $1$\n- Coefficient of $z^{-8}$: $1$\nAll other coefficients are $0$.\nThus, the polynomial is:\n$R_{9}(z) = z^{8} + z^{6} + z^{5} + 2z^{4} + 2z^{3} + 3z^{2} + 3z + 4 + 3z^{-1} + 3z^{-2} + 2z^{-3} + 2z^{-4} + z^{-5} + z^{-6} + z^{-8}$.\n\nThe symmetry of the coefficients, where the coefficient of $z^k$ equals that of $z^{-k}$, is evident from the explicit calculation. This symmetry is guaranteed by the combinatorial involution of conjugation of Ferrers diagrams. For any partition $\\pi$, its conjugate $\\pi'$ has its largest part equal to the number of parts of $\\pi$, and its number of parts equal to the largest part of $\\pi$. That is, $\\lambda(\\pi')=k(\\pi)$ and $k(\\pi')=\\lambda(\\pi)$. Therefore, $\\mathrm{rank}(\\pi') = \\lambda(\\pi') - k(\\pi') = k(\\pi) - \\lambda(\\pi) = -\\mathrm{rank}(\\pi)$. This involution pairs partitions of rank $k$ with partitions of rank $-k$. Partitions with rank $0$ are either self-conjugate (fixed by the involution) or come in conjugate pairs of rank-$0$ partitions.\n\nNext, we compute the crank-distribution polynomial $C_{9}(z)$. The crank is defined using $\\lambda(\\pi)$ (largest part), $\\mu(\\pi)$ (number of 1s), and $\\nu(\\pi)$ (number of parts $\\mu(\\pi)$). If $\\mu(\\pi)=0$, $\\mathrm{crank}(\\pi) = \\lambda(\\pi)$. If $\\mu(\\pi)0$, $\\mathrm{crank}(\\pi) = \\nu(\\pi) - \\mu(\\pi)$.\n$\\mathrm{crank}(\\pi_1)$: $\\mu(\\pi_1)=0$, so $\\mathrm{crank}(\\pi_1)=9$.\n$\\mathrm{crank}(\\pi_2)$: $\\mu(\\pi_2)=1$, parts are $(8,1)$. $\\nu(\\pi_2)$=number of parts $1$, is $1$. $\\mathrm{crank}(\\pi_2)=1-1=0$.\n$\\mathrm{crank}(\\pi_3)$: $\\mu(\\pi_3)=0$, so $\\mathrm{crank}(\\pi_3)=7$.\n$\\mathrm{crank}(\\pi_4)$: $\\mu(\\pi_4)=2$, parts are $(7,1,1)$. $\\nu(\\pi_4)$=number of parts $2$, is $1$. $\\mathrm{crank}(\\pi_4)=1-2=-1$.\n$\\mathrm{crank}(\\pi_5)$: $\\mu(\\pi_5)=0$, so $\\mathrm{crank}(\\pi_5)=6$.\n$\\mathrm{crank}(\\pi_6)$: $\\mu(\\pi_6)=1$, parts $(6,2,1)$. $\\nu(\\pi_6)$=parts $1$, is $2$. $\\mathrm{crank}(\\pi_6)=2-1=1$.\n$\\mathrm{crank}(\\pi_7)$: $\\mu(\\pi_7)=3$, parts $(6,1,1,1)$. $\\nu(\\pi_7)$=parts $3$, is $1$. $\\mathrm{crank}(\\pi_7)=1-3=-2$.\n$\\mathrm{crank}(\\pi_8)$: $\\mu(\\pi_8)=0$, so $\\mathrm{crank}(\\pi_8)=5$.\n$\\mathrm{crank}(\\pi_9)$: $\\mu(\\pi_9)=1$, parts $(5,3,1)$. $\\nu(\\pi_9)$=parts $1$, is $2$. $\\mathrm{crank}(\\pi_9)=2-1=1$.\n$\\mathrm{crank}(\\pi_{10})$: $\\mu(\\pi_{10})=0$, so $\\mathrm{crank}(\\pi_{10})=5$.\n$\\mathrm{crank}(\\pi_{11})$: $\\mu(\\pi_{11})=2$, parts $(5,2,1,1)$. $\\nu(\\pi_{11})$=parts $2$, is $1$. $\\mathrm{crank}(\\pi_{11})=1-2=-1$.\n$\\mathrm{crank}(\\pi_{12})$: $\\mu(\\pi_{12})=4$, parts $(5,1,1,1,1)$. $\\nu(\\pi_{12})$=parts $4$, is $1$. $\\mathrm{crank}(\\pi_{12})=1-4=-3$.\n$\\mathrm{crank}(\\pi_{13})$: $\\mu(\\pi_{13})=1$, parts $(4,4,1)$. $\\nu(\\pi_{13})$=parts $1$, is $2$. $\\mathrm{crank}(\\pi_{13})=2-1=1$.\n$\\mathrm{crank}(\\pi_{14})$: $\\mu(\\pi_{14})=0$, so $\\mathrm{crank}(\\pi_{14})=4$.\n$\\mathrm{crank}(\\pi_{15})$: $\\mu(\\pi_{15})=2$, parts $(4,3,1,1)$. $\\nu(\\pi_{15})$=parts $2$, is $2$. $\\mathrm{crank}(\\pi_{15})=2-2=0$.\n$\\mathrm{crank}(\\pi_{16})$: $\\mu(\\pi_{16})=1$, parts $(4,2,2,1)$. $\\nu(\\pi_{16})$=parts $1$, is $3$. $\\mathrm{crank}(\\pi_{16})=3-1=2$.\n$\\mathrm{crank}(\\pi_{17})$: $\\mu(\\pi_{17})=3$, parts $(4,2,1,1,1)$. $\\nu(\\pi_{17})$=parts $3$, is $1$. $\\mathrm{crank}(\\pi_{17})=1-3=-2$.\n$\\mathrm{crank}(\\pi_{18})$: $\\mu(\\pi_{18})=5$, parts $(4,1^5)$. $\\nu(\\pi_{18})$=parts $5$, is $0$. $\\mathrm{crank}(\\pi_{18})=0-5=-5$.\n$\\mathrm{crank}(\\pi_{19})$: $\\mu(\\pi_{19})=0$, so $\\mathrm{crank}(\\pi_{19})=3$.\n$\\mathrm{crank}(\\pi_{20})$: $\\mu(\\pi_{20})=1$, parts $(3,3,2,1)$. $\\nu(\\pi_{20})$=parts $1$, is $3$. $\\mathrm{crank}(\\pi_{20})=3-1=2$.\n$\\mathrm{crank}(\\pi_{21})$: $\\mu(\\pi_{21})=3$, parts $(3,3,1^3)$. $\\nu(\\pi_{21})$=parts $3$, is $0$. $\\mathrm{crank}(\\pi_{21})=0-3=-3$.\n$\\mathrm{crank}(\\pi_{22})$: $\\mu(\\pi_{22})=0$, so $\\mathrm{crank}(\\pi_{22})=3$.\n$\\mathrm{crank}(\\pi_{23})$: $\\mu(\\pi_{23})=2$, parts $(3,2,2,1,1)$. $\\nu(\\pi_{23})$=parts $2$, is $1$. $\\mathrm{crank}(\\pi_{23})=1-2=-1$.\n$\\mathrm{crank}(\\pi_{24})$: $\\mu(\\pi_{24})=4$, parts $(3,2,1^4)$. $\\nu(\\pi_{24})$=parts $4$, is $0$. $\\mathrm{crank}(\\pi_{24})=0-4=-4$.\n$\\mathrm{crank}(\\pi_{25})$: $\\mu(\\pi_{25})=6$, parts $(3,1^6)$. $\\nu(\\pi_{25})$=parts $6$, is $0$. $\\mathrm{crank}(\\pi_{25})=0-6=-6$.\n$\\mathrm{crank}(\\pi_{26})$: $\\mu(\\pi_{26})=1$, parts $(2^4,1)$. $\\nu(\\pi_{26})$=parts $1$, is $4$. $\\mathrm{crank}(\\pi_{26})=4-1=3$.\n$\\mathrm{crank}(\\pi_{27})$: $\\mu(\\pi_{27})=3$, parts $(2^3,1^3)$. $\\nu(\\pi_{27})$=parts $3$, is $0$. $\\mathrm{crank}(\\pi_{27})=0-3=-3$.\n$\\mathrm{crank}(\\pi_{28})$: $\\mu(\\pi_{28})=5$, parts $(2^2,1^5)$. $\\nu(\\pi_{28})$=parts $5$, is $0$. $\\mathrm{crank}(\\pi_{28})=0-5=-5$.\n$\\mathrm{crank}(\\pi_{29})$: $\\mu(\\pi_{29})=7$, parts $(2,1^7)$. $\\nu(\\pi_{29})$=parts $7$, is $0$. $\\mathrm{crank}(\\pi_{29})=0-7=-7$.\n$\\mathrm{crank}(\\pi_{30})$: $\\mu(\\pi_{30})=9$, parts $(1^9)$. $\\nu(\\pi_{30})$=parts $9$, is $0$. $\\mathrm{crank}(\\pi_{30})=0-9=-9$.\n\nThe crank-distribution polynomial is $C_{9}(z)=\\sum_{i=1}^{30} z^{\\mathrm{crank}(\\pi_i)}$. We collect terms:\n- Coeff of $z^9, z^7, z^6, z^4, z^{-4}, z^{-6}, z^{-7}, z^{-9}$: $1$ each\n- Coeff of $z^5, z^2, z^{-2}, z^{-5}$: $2$ each\n- Coeff of $z^3, z, z^{-1}, z^{-3}$: $3$ each\n- Coeff of $z^0$: $2$\nThus, the polynomial is:\n$C_{9}(z) = z^{9} + z^{7} + z^{6} + 2z^{5} + z^{4} + 3z^{3} + 2z^{2} + 3z + 2 + 3z^{-1} + 2z^{-2} + 3z^{-3} + z^{-4} + 2z^{-5} + z^{-6} + z^{-7} + z^{-9}$.\n\nAgain, the symmetry of the coefficients is confirmed by direct computation. This is a general property of crank-distribution polynomials. The combinatorial proof relies on a bijection on the set of partitions, constructed by Andrews and Garvan, which maps a partition with crank $k$ to one with crank $-k$. The existence of this involution establishes that the number of partitions of $n$ with crank $k$ is equal to the number of partitions with crank $-k$, thus ensuring the symmetry of the coefficients of $C_n(z)$.\n\nThe final derived polynomials are:\n$R_{9}(z) = z^{8} + z^{6} + z^{5} + 2z^{4} + 2z^{3} + 3z^{2} + 3z + 4 + 3z^{-1} + 3z^{-2} + 2z^{-3} + 2z^{-4} + z^{-5} + z^{-6} + z^{-8}$\n$C_{9}(z) = z^{9} + z^{7} + z^{6} + 2z^{5} + z^{4} + 3z^{3} + 2z^{2} + 3z + 2 + 3z^{-1} + 2z^{-2} + 3z^{-3} + z^{-4} + 2z^{-5} + z^{-6} + z^{-7} + z^{-9}$", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\nz^{8} + z^{6} + z^{5} + 2z^{4} + 2z^{3} + 3z^{2} + 3z + 4 + 3z^{-1} + 3z^{-2} + 2z^{-3} + 2z^{-4} + z^{-5} + z^{-6} + z^{-8}  z^{9} + z^{7} + z^{6} + 2z^{5} + z^{4} + 3z^{3} + 2z^{2} + 3z + 2 + 3z^{-1} + 2z^{-2} + 3z^{-3} + z^{-4} + 2z^{-5} + z^{-6} + z^{-7} + z^{-9}\n\\end{pmatrix}\n}\n$$", "id": "3015948"}]}