{"hands_on_practices": [{"introduction": "This first exercise provides a direct, hands-on opportunity to work with the series definitions of the $p$-adic logarithm and exponential. By computing specific values to a finite precision, you will practice the essential skill of analyzing $p$-adic valuations to determine how many terms of the series are needed. This foundational practice is key to understanding convergence and approximation in the world of $p$-adic numbers. [@problem_id:3020586]", "problem": "Let $p=5$ and work in the field of $5$-adic numbers $\\mathbb{Q}_5$ with the $5$-adic valuation $v_5$ and absolute value $|\\cdot|_5$ defined by $v_5(5)=1$, $v_5(ab)=v_5(a)+v_5(b)$, $v_5(a+b)\\ge \\min\\{v_5(a),v_5(b)\\}$, and $|x|_5=5^{-v_5(x)}$. The $5$-adic logarithm and $5$-adic exponential are defined on their standard domains by the series\n$$\\log_5(1+x)=\\sum_{n\\ge 1}\\frac{(-1)^{n+1}x^n}{n}\\quad\\text{for}\\quad v_5(x)\\ge 1,$$\n$$\\exp_5(x)=\\sum_{n\\ge 0}\\frac{x^n}{n!}\\quad\\text{for}\\quad v_5(x)>\\frac{1}{4}.$$\nUsing only these defining series and valuation-based convergence/truncation arguments from first principles, compute the values of $\\log_5(1+5)$ and $\\exp_5(10)$ to $5^4$-adic precision. Concretely, determine their unique representatives modulo $5^4$ in the set $\\{0,1,\\dots,5^4-1\\}$, justifying rigorously which terms of each series contribute to the value modulo $5^4$ by estimating their $5$-adic valuations.\n\nReport your final result as the ordered pair $\\big(\\log_5(1+5)\\bmod 5^4,\\;\\exp_5(10)\\bmod 5^4\\big)$ using the canonical representatives in $\\{0,1,\\dots,624\\}$. No rounding is required.", "solution": "The task is to find integers $A$ and $B$ in $\\{0, 1, \\dots, 624\\}$ such that $\\log_5(1+5) \\equiv A \\pmod{5^4}$ and $\\exp_5(10) \\equiv B \\pmod{5^4}$. This is equivalent to requiring $v_5(\\log_5(1+5) - A) \\ge 4$ and $v_5(\\exp_5(10) - B) \\ge 4$.\n\n**Part 1: Computation of $\\log_5(1+5) \\pmod{5^4}$**\n\nThe value to compute is $\\log_5(1+5)$. The series is $\\sum_{n=1}^\\infty \\frac{(-1)^{n+1} 5^n}{n}$. We must sum terms $T_n = \\frac{(-1)^{n+1} 5^n}{n}$ as long as their $5$-adic valuation $v_5(T_n) = n - v_5(n)$ is less than $4$.\n- $v_5(T_1)=1-0=1$, $v_5(T_2)=2-0=2$, $v_5(T_3)=3-0=3$.\n- $v_5(T_4)=4-0=4$.\n- $v_5(T_5)=5-v_5(5)=4$.\nFor $n \\ge 6$, $v_5(T_n) = n-v_5(n) \\ge 5$. Thus, we must sum the first five terms to get the result modulo $5^4$. Note that terms with valuation 4 still contribute to the result modulo $5^4$ (they are not zero).\n$$ S_5 = \\sum_{n=1}^5 \\frac{(-1)^{n+1} 5^n}{n} = 5 - \\frac{25}{2} + \\frac{125}{3} - \\frac{625}{4} + \\frac{3125}{5} = \\frac{6035}{12} $$\nWe need to find an integer $A$ such that $A \\equiv \\frac{6035}{12} \\pmod{625}$. This is equivalent to solving the congruence $12A \\equiv 6035 \\pmod{625}$.\nSince $6035 \\equiv 410 \\pmod{625}$, we have $12A \\equiv 410 \\pmod{625}$.\nThe inverse of $12$ modulo $625$ is $12^{-1} \\equiv 573 \\pmod{625}$.\n$$ A \\equiv 410 \\times 573 = 234930 \\equiv 555 \\pmod{625} $$\nThe first value is $555$.\n\n**Part 2: Computation of $\\exp_5(10) \\pmod{5^4}$**\n\nThe value to compute is $\\exp_5(10)$. The series is $\\sum_{n=0}^\\infty \\frac{10^n}{n!}$. The valuation of a term is $v_5(U_n) = v_5(\\frac{10^n}{n!}) = n \\cdot v_5(10) - v_5(n!) = n - v_5(n!)$. We sum terms as long as this valuation is less than $4$.\n- $v_5(U_0)=0$, $v_5(U_1)=1$, $v_5(U_2)=2$, $v_5(U_3)=3$.\n- $v_5(U_4)=4-v_5(4!)=4-0=4$.\n- $v_5(U_5)=5-v_5(5!)=5-1=4$.\nFor $n \\ge 6$, $v_5(U_n) \\ge 5$. Thus, we must sum the first six terms (from $n=0$ to $n=5$).\n$$ S_5' = \\sum_{n=0}^5 \\frac{10^n}{n!} = 1 + 10 + \\frac{100}{2} + \\frac{1000}{6} + \\frac{10000}{24} + \\frac{100000}{120} = \\frac{4433}{3} $$\nWe need to find an integer $B$ such that $B \\equiv \\frac{4433}{3} \\pmod{625}$. This is equivalent to solving $3B \\equiv 4433 \\pmod{625}$.\nSince $4433 \\equiv 58 \\pmod{625}$, we have $3B \\equiv 58 \\pmod{625}$.\nThe inverse of $3$ modulo $625$ is $3^{-1} \\equiv 417 \\pmod{625}$.\n$$ B \\equiv 58 \\times 417 = 24186 \\equiv 436 \\pmod{625} $$\nThe second value is $436$.\n\nThe ordered pair is $(\\log_5(1+5) \\bmod 5^4, \\exp_5(10) \\bmod 5^4) = (555, 436)$.", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n555 & 436\n\\end{pmatrix}\n}\n$$", "id": "3020586"}, {"introduction": "Moving from direct calculation to conceptual understanding, this practice explores the profound structural role of the $p$-adic logarithm and exponential. You will personally verify the crucial identity $u^n = \\exp(n \\log(u))$ for an element $u \\in 1+p\\mathbb{Z}_p$, which underpins the isomorphism between the multiplicative group $1+p\\mathbb{Z}_p$ and the additive group $p\\mathbb{Z}_p$. This exercise highlights why these functions are central to the study of $p$-adic fields. [@problem_id:3028635]", "problem": "Let $p$ be a fixed odd prime with $p \\geq 5$. Let $a \\in \\mathbb{Z}_{p}$ and $b \\in \\mathbb{Z}_{p}$, and set $u = 1 + p a + p^{2} b \\in 1 + p \\mathbb{Z}_{p}$. Let $n \\in \\mathbb{Z}$ be arbitrary. Consider the $p$-adic logarithm defined on $1 + p \\mathbb{Z}_{p}$ by the power series $\\log(1+x) = \\sum_{k=1}^{\\infty} (-1)^{k+1} \\frac{x^{k}}{k}$ for $x \\in p \\mathbb{Z}_{p}$, and the $p$-adic exponential defined on $p \\mathbb{Z}_{p}$ by $\\exp(x) = \\sum_{k=0}^{\\infty} \\frac{x^{k}}{k!}$.\n\nUsing only these defining power series, and basic properties of the $p$-adic valuation on $\\mathbb{Q}_{p}$ and factorials, do the following:\n\n(i) Starting from the definitions, justify the convergence of the required series and compute $\\exp\\!\\big(n \\log(u)\\big)$ up to and including terms of $p$-adic valuation $3$ (that is, determine all terms through $p^{3}$).\n\n(ii) Independently, expand $u^{n} = (1 + p a + p^{2} b)^{n}$ using the binomial expansion through $p^{3}$.\n\n(iii) Reconcile the two computations to validate that the valuations are consistent and that the coefficients agree up to $p^{3}$. Finally, provide the explicit closed-form expression for $u^{n}$ modulo $p^{4}$, written as an expression involving $p$, $n$, $a$, and $b$.\n\nYour final answer must be a single explicit expression giving $u^{n}$ modulo $p^{4}$.", "solution": "This problem asks us to verify the identity $u^n = \\exp(n \\log u)$ up to terms of order $p^3$ (i.e., modulo $p^4$) by expanding both sides using their defining power series. We are given $u = 1+pa+p^2b$ with $p \\ge 5$.\n\n(i) Computation of $\\exp(n \\log(u))$ modulo $p^4$\n\nFirst, we compute $\\log(u) = \\log(1 + (pa+p^2b))$. Let $x = pa+p^2b$. The series is $\\log(1+x) = x - x^2/2 + x^3/3 - \\dots$.\nWe need terms up to $p^3$.\n$x = pa+p^2b$\n$x^2 = (pa+p^2b)^2 = p^2a^2 + 2p^3ab + O(p^4) \\equiv p^2a^2 + 2p^3ab \\pmod{p^4}$\n$x^3 = (pa+p^2b)^3 = p^3a^3 + O(p^4) \\equiv p^3a^3 \\pmod{p^4}$\nTerms $x^k$ for $k \\ge 4$ are $O(p^4)$.\nSince $p \\ge 5$, the denominators 2 and 3 are $p$-adic units.\n$$ \\log(u) \\equiv (pa + p^2b) - \\frac{1}{2}(p^2a^2 + 2p^3ab) + \\frac{1}{3}(p^3a^3) \\pmod{p^4} $$\n$$ \\log(u) \\equiv pa + p^2\\left(b - \\frac{a^2}{2}\\right) + p^3\\left(-ab + \\frac{a^3}{3}\\right) \\pmod{p^4} $$\nLet $Y = n \\log(u)$. We compute $\\exp(Y) = 1 + Y + Y^2/2! + Y^3/3! + \\dots$ modulo $p^4$.\n$Y \\equiv npa + np^2(b - a^2/2) + O(p^3)$. $v_p(Y) \\ge 1$.\n$Y^2 \\equiv (npa)^2 + 2(npa)(np^2(b-a^2/2)) \\equiv n^2p^2a^2 + 2n^2p^3ab - n^2p^3a^3 \\pmod{p^4}$.\n$Y^3 \\equiv (npa)^3 \\equiv n^3p^3a^3 \\pmod{p^4}$.\nTerms $Y^k$ for $k \\ge 4$ are $O(p^4)$.\n$$ \\exp(Y) \\equiv 1 + Y + \\frac{Y^2}{2} + \\frac{Y^3}{6} \\pmod{p^4} $$\nSubstituting the expansions for $Y, Y^2, Y^3$ and collecting terms by powers of $p$:\n- Coeff of $p$: $na$\n- Coeff of $p^2$: $n(b - \\frac{a^2}{2}) + \\frac{n^2a^2}{2} = nb + \\frac{n(n-1)}{2}a^2$\n- Coeff of $p^3$: $n(-ab + \\frac{a^3}{3}) + \\frac{1}{2}(2n^2ab - n^2a^3) + \\frac{n^3a^3}{6} = n(n-1)ab + \\frac{n(n-1)(n-2)}{6}a^3$\nSo, $\\exp(n \\log u) \\equiv 1 + p(na) + p^2(nb + \\frac{n(n-1)}{2}a^2) + p^3(n(n-1)ab + \\frac{n(n-1)(n-2)}{6}a^3) \\pmod{p^4}$.\n\n(ii) Binomial expansion of $u^n$ modulo $p^4$\n\nWe expand $u^n = (1 + (pa+p^2b))^n$ using the binomial theorem. Let $z = pa+p^2b$.\n$$(1+z)^n = 1 + \\binom{n}{1}z + \\binom{n}{2}z^2 + \\binom{n}{3}z^3 + \\dots$$\nWe use the same expansions for $z, z^2, z^3$ as for $x, x^2, x^3$ above.\n$$ u^n \\equiv 1 + n(pa+p^2b) + \\frac{n(n-1)}{2}(p^2a^2+2p^3ab) + \\frac{n(n-1)(n-2)}{6}(p^3a^3) \\pmod{p^4} $$\nCollecting terms by powers of $p$:\n- Coeff of $p$: $na$\n- Coeff of $p^2$: $nb + \\frac{n(n-1)}{2}a^2$\n- Coeff of $p^3$: $n(n-1)ab + \\frac{n(n-1)(n-2)}{6}a^3$\nSo, $u^n \\equiv 1 + p(na) + p^2(nb + \\frac{n(n-1)}{2}a^2) + p^3(n(n-1)ab + \\frac{n(n-1)(n-2)}{6}a^3) \\pmod{p^4}$.\n\n(iii) Reconciliation and Final Expression\n\nThe expressions derived in (i) and (ii) are identical. This confirms that $u^n = \\exp(n\\log u)$ holds modulo $p^4$. The final explicit expression is the result of these calculations.", "answer": "$$ \\boxed{1 + npa + p^2\\left(nb + \\frac{n(n-1)}{2}a^2\\right) + p^3\\left(n(n-1)ab + \\frac{n(n-1)(n-2)}{6}a^3\\right)} $$", "id": "3028635"}, {"introduction": "This final practice challenges you to transition from manual computations to designing a robust algorithm. You will formalize the ad-hoc process of series truncation into a systematic method for computing the $p$-adic exponential to any desired precision $p^m$. This problem solidifies your command of valuation analysis and the practical aspects of implementing $p$-adic functions. [@problem_id:3028640]", "problem": "Let $p$ be a prime, let $m$ be a positive integer, and let $x$ be a $p$-adic integer with $x \\in p\\mathbb{Z}_p$. The $p$-adic exponential is defined by the formal power series $\\exp(x) = \\sum_{n=0}^{\\infty} \\frac{x^n}{n!}$, which converges in the $p$-adic topology for inputs satisfying $v_p(x) > \\frac{1}{p-1}$, where $v_p(\\cdot)$ denotes the $p$-adic valuation. In particular, the series converges for all $x \\in p\\mathbb{Z}_p$ when $p \\ge 3$, and for all $x \\in 4\\mathbb{Z}_2$ when $p=2$.\n\nYour task is to design and implement an algorithm that, for a given target precision $p^m$, computes $\\exp(x)$ modulo $p^m$ with minimal truncation length of the series. The algorithm must be derived from valuation bounds on $n!$, starting from fundamental principles, and must determine the smallest truncation index $N$ such that all tail terms satisfy $v_p\\!\\left(\\frac{x^n}{n!}\\right) \\ge m$ for all $n \\ge N+1$. Then compute\n$$\nS_N(x) \\equiv \\sum_{n=0}^{N} \\frac{x^n}{n!} \\pmod{p^m},\n$$\nwhich equals $\\exp(x)$ modulo $p^m$ by $p$-adic continuity and the valuation bound.\n\nThe key foundational facts you must use to derive your method are:\n- The $p$-adic valuation $v_p(\\cdot)$ and its properties, including $v_p(x^n) = n\\,v_p(x)$ and $v_p\\!\\left(\\frac{x^n}{n!}\\right) = n\\,v_p(x) - v_p(n!)$.\n- Legendre’s formula for factorial valuations: $v_p(n!) = \\sum_{k=1}^{\\infty} \\left\\lfloor \\frac{n}{p^k} \\right\\rfloor$, together with the inequality $v_p(n!) \\le \\frac{n}{p-1}$.\n- The convergence criterion $v_p(x) > \\frac{1}{p-1}$ for the $p$-adic exponential series.\n\nYour program must:\n1. For each test case, compute the minimal truncation length $N$ defined by\n$$\nN = \\max \\left\\{ n \\in \\mathbb{Z}_{\\ge 0} \\,\\middle|\\, n\\,v_p(x) - v_p(n!) < m \\right\\}.\n$$\n2. Use the identity $x = p^{v} u$ with $v = v_p(x)$ and $u$ a $p$-adic unit to compute each term $\\frac{x^n}{n!}$ modulo $p^m$ by splitting into valuation and unit parts:\n   - Write $v_p\\!\\left(\\frac{x^n}{n!}\\right) = n\\,v - v_p(n!) =: v_n$.\n   - Compute the unit part $U_n \\equiv \\frac{u^n}{n! / p^{v_p(n!)}} \\pmod{p^{m - v_n}}$, which is invertible modulo $p^{m - v_n}$.\n   - Then $\\frac{x^n}{n!} \\equiv p^{v_n} \\cdot U_n \\pmod{p^m}$.\n3. Sum the contributions for $n=0,1,\\dots,N$ to obtain $S_N(x) \\pmod{p^m}$.\n\nDesign constraints:\n- Derive $N$ using valuation bounds on $n!$ without assuming any shortcut formulas beyond the foundational principles listed above.\n- Ensure the algorithm correctly handles the domain of convergence ($p \\ge 3$ with $x \\in p\\mathbb{Z}_p$, or $p=2$ with $x \\in 4\\mathbb{Z}_2$).\n- All mathematical definitions and derivations must be rooted in the stated foundational principles.\n\nTest suite:\nImplement your algorithm for the following parameter sets $(p,m,x)$, where $x$ is given as an ordinary integer representative of the $p$-adic input:\n- $(3,5,21)$ with $21 \\in 3\\mathbb{Z}_3$.\n- $(5,4,60)$ with $60 \\in 5\\mathbb{Z}_5$.\n- $(3,1,3)$ with $3 \\in 3\\mathbb{Z}_3$ (boundary precision).\n- $(2,6,12)$ with $12 \\in 4\\mathbb{Z}_2$ (domain nuance for $p=2$).\n\nAnswer specification:\n- For each test case, output the integer representative of $\\exp(x) \\bmod p^m$ in the range $\\{0,1,\\dots,p^m-1\\}$.\n- Your program should produce a single line of output containing the results for the four test cases as a comma-separated list enclosed in square brackets, with no spaces, in the order listed above. For example: \"[r1,r2,r3,r4]\".\n- No physical units are involved.", "solution": "This problem requires designing and implementing an algorithm to compute $\\exp(x) \\pmod{p^m}$ and applying it to four test cases. The core of the algorithm is to find the minimal series truncation index $N$ and then sum the series terms using careful $p$-adic and modular arithmetic.\n\nThe truncation index $N$ is the largest integer $n \\ge 0$ such that the valuation of the $n$-th term is less than the target precision $m$. That is, $N = \\max\\{n \\mid v_p(x^n/n!)  m\\}$. For each term, we calculate its valuation $v_n = n \\cdot v_p(x) - v_p(n!)$. If $v_n \\ge m$, the term is $0 \\pmod{p^m}$ and can be ignored. Otherwise, it is computed as $p^{v_n} \\cdot (\\frac{(x/p^{v_p(x)})^n}{n!/p^{v_p(n!)}}) \\pmod{p^m}$.\n\nHere are the results for each test case:\n\n**1. Test Case: $(p, m, x) = (3, 5, 21)$**\n- **Setup**: $p=3, m=5, x=21$. Modulo is $p^m=243$. Valuation $v_3(21)=1$.\n- **Truncation Index**: We need $N = \\max\\{n \\mid n - v_3(n!)  5\\}$. This condition holds for $n=0, 1, 2, 3, 4, 5, 6$. For $n=7$, the valuation is $7-v_3(7!) = 7-2=5$, so the condition fails. Thus, $N=6$.\n- **Summation**: Summing the series terms from $n=0$ to $6$ modulo $243$ yields:\n  $S_6(21) \\equiv 1 + 21 + \\frac{21^2}{2} + \\frac{21^3}{6} + \\frac{21^4}{24} + \\frac{21^5}{120} + \\frac{21^6}{720} \\equiv 1 + 21 + 162 + 207 + 54 + 81 + 162 \\equiv 688 \\equiv 202 \\pmod{243}$.\n- **Result**: `202`\n\n**2. Test Case: $(p, m, x) = (5, 4, 60)$**\n- **Setup**: $p=5, m=4, x=60$. Modulo is $p^m=625$. Valuation $v_5(60)=1$.\n- **Truncation Index**: We need $N = \\max\\{n \\mid n - v_5(n!)  4\\}$. This holds for $n=0, 1, 2, 3$. For $n=4$, the valuation is $4-v_5(4!) = 4-0=4$, so the condition fails. Thus, $N=3$.\n- **Summation**: Summing from $n=0$ to $3$ modulo $625$:\n  $S_3(60) = 1 + 60 + \\frac{60^2}{2} + \\frac{60^3}{6} \\equiv 1 + 60 + 1800 + 36000 \\equiv 1 + 60 + 550 + 375 \\equiv 986 \\equiv 361 \\pmod{625}$.\n- **Result**: `361`\n\n**3. Test Case: $(p, m, x) = (3, 1, 3)$**\n- **Setup**: $p=3, m=1, x=3$. Modulo is $p^m=3$. Valuation $v_3(3)=1$.\n- **Truncation Index**: We need $N = \\max\\{n \\mid n - v_3(n!)  1\\}$. This holds only for $n=0$, where the valuation is $0$. For $n=1$, the valuation is $1-0=1$, failing the condition. Thus, $N=0$.\n- **Summation**: The sum is just the first term: $S_0(3) = \\frac{3^0}{0!} = 1$.\n- **Result**: `1`\n\n**4. Test Case: $(p, m, x) = (2, 6, 12)$**\n- **Setup**: $p=2, m=6, x=12$. Modulo is $p^m=64$. Valuation $v_2(12)=2$.\n- **Truncation Index**: We need $N = \\max\\{n \\mid 2n - v_2(n!)  6\\}$. This holds for $n=0,1,2,3,4$. For $n=5$, the valuation is $2(5)-v_2(5!) = 10-3=7$, so the condition fails. Thus, $N=4$.\n- **Summation**: Summing from $n=0$ to $4$ modulo $64$:\n  $S_4(12) = 1 + 12 + \\frac{12^2}{2} + \\frac{12^3}{6} + \\frac{12^4}{24} \\equiv 1 + 12 + 72 + 288 + 864 \\equiv 1+12+8+32+32 \\equiv 85 \\equiv 21 \\pmod{64}$.\n- **Result**: `21`", "answer": "$$ \\boxed{\\text{[202,361,1,21]}} $$", "id": "3028640"}]}