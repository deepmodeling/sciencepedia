{"hands_on_practices": [{"introduction": "The Fundamental Theorem of Arithmetic is not merely a statement of existence and uniqueness; it is a powerful constructive tool. This first exercise challenges you to build an integer from the ground up by manipulating the exponents of its prime factors. By translating properties like being a 'perfect square' or 'perfect cube' into simple algebraic conditions on these exponents, you gain hands-on practice in applying the theorem to solve concrete number-theoretic puzzles [@problem_id:1831862].", "problem": "An integer is called a perfect square if it is the square of an integer. Similarly, an integer is a perfect cube if it is the cube of an integer, and a perfect fifth power if it is the fifth power of an integer. Find the smallest positive integer $n$ that satisfies all of the following conditions:\n1. The integer quotient $n/2$ is a perfect square.\n2. The integer quotient $n/3$ is a perfect cube.\n3. The integer quotient $n/5$ is a perfect fifth power.\n\nExpress your answer as a product of prime powers in the form $p_1^{e_1} p_2^{e_2} \\cdots p_k^{e_k}$.", "solution": "Let $n$ have prime factorization $n=\\prod_{p} p^{v_{p}(n)}$. The conditions state:\n- $n/2$ is a perfect square, so for each prime $p$,\n  - if $p=2$, then $v_{2}(n)-1$ is even,\n  - if $p\\neq 2$, then $v_{p}(n)$ is even.\n- $n/3$ is a perfect cube, so\n  - if $p=3$, then $v_{3}(n)-1$ is a multiple of $3$,\n  - if $p\\neq 3$, then $v_{p}(n)$ is a multiple of $3$.\n- $n/5$ is a perfect fifth power, so\n  - if $p=5$, then $v_{5}(n)-1$ is a multiple of $5$,\n  - if $p\\neq 5$, then $v_{p}(n)$ is a multiple of $5$.\n\nFor $p\\notin\\{2,3,5\\}$, the exponent must be simultaneously even, a multiple of $3$, and a multiple of $5$, hence a multiple of $\\operatorname{lcm}(2,3,5)=30$. To minimize $n$, set these exponents to $0$.\n\nLet $a=v_{2}(n)$, $b=v_{3}(n)$, $c=v_{5}(n)$. The congruence conditions become\n$$\n\\begin{aligned}\n&\\text{from }n/2\\text{ square:} && a\\equiv 1 \\pmod{2},\\quad b\\equiv 0 \\pmod{2},\\quad c\\equiv 0 \\pmod{2},\\\\\n&\\text{from }n/3\\text{ cube:} && a\\equiv 0 \\pmod{3},\\quad b\\equiv 1 \\pmod{3},\\quad c\\equiv 0 \\pmod{3},\\\\\n&\\text{from }n/5\\text{ fifth:} && a\\equiv 0 \\pmod{5},\\quad b\\equiv 0 \\pmod{5},\\quad c\\equiv 1 \\pmod{5}.\n\\end{aligned}\n$$\n\nSolve independently for each variable:\n- For $a$: $a\\equiv 0 \\pmod{3}$ and $a\\equiv 0 \\pmod{5}$ imply $a\\equiv 0 \\pmod{15}$; together with $a\\equiv 1 \\pmod{2}$, the least solution is $a=15$.\n- For $b$: $b\\equiv 0 \\pmod{2}$ and $b\\equiv 0 \\pmod{5}$ imply $b\\equiv 0 \\pmod{10}$. Writing $b=10k$, the condition $b\\equiv 1 \\pmod{3}$ gives $10k\\equiv 1 \\pmod{3}$, i.e., $k\\equiv 1 \\pmod{3}$. The least solution is $k=1$, hence $b=10$.\n- For $c$: $c\\equiv 0 \\pmod{2}$ and $c\\equiv 0 \\pmod{3}$ imply $c\\equiv 0 \\pmod{6}$. Writing $c=6k$, the condition $c\\equiv 1 \\pmod{5}$ gives $6k\\equiv 1 \\pmod{5}$, i.e., $k\\equiv 1 \\pmod{5}$. The least solution is $k=1$, hence $c=6$.\n\nThus the smallest $n$ is\n$$\nn=2^{15}\\cdot 3^{10}\\cdot 5^{6}.\n$$\nVerification:\n- $n/2$ has exponents $14,10,6$, all even, so it is a square.\n- $n/3$ has exponents $15,9,6$, all multiples of $3$, so it is a cube.\n- $n/5$ has exponents $15,10,5$, all multiples of $5$, so it is a fifth power.\n\nTherefore, $n=2^{15}3^{10}5^{6}$ is minimal and satisfies all conditions.", "answer": "$$\\boxed{2^{15}\\cdot 3^{10}\\cdot 5^{6}}$$", "id": "1831862"}, {"introduction": "Beyond constructing single integers, the Fundamental Theorem of Arithmetic provides a framework for combinatorial enumeration. This problem asks you to count the number of ordered pairs of integers $(a, b)$ whose least common multiple is a given integer $N$. The key insight here is that the unique prime factorization allows the problem to be decoupled into independent counting problems for each prime dividing $N$, elegantly demonstrating how the theorem transforms a complex multiplicative question into a simple combinatorial one [@problem_id:1831874].", "problem": "Let $N$ be a positive integer with a unique prime factorization given by $N = p_1^{k_1} p_2^{k_2} \\cdots p_m^{k_m}$, where $p_1, p_2, \\ldots, p_m$ are distinct prime numbers and $k_1, k_2, \\ldots, k_m$ are positive integer exponents.\n\nDetermine a formula for the number of ordered pairs of positive integers $(a, b)$ such that the least common multiple of $a$ and $b$ is equal to $N$. Express your answer as a formula in terms of the exponents $k_1, k_2, \\ldots, k_m$.", "solution": "Let $N$ have the prime factorization $N=\\prod_{i=1}^{m} p_{i}^{k_{i}}$ with distinct primes $p_{i}$ and positive integers $k_{i}$. For any positive integers $a$ and $b$, write\n$$\na=\\prod_{i=1}^{m} p_{i}^{x_{i}},\\quad b=\\prod_{i=1}^{m} p_{i}^{y_{i}},\n$$\nwhere $x_{i}=v_{p_{i}}(a)$ and $y_{i}=v_{p_{i}}(b)$ are the $p_{i}$-adic valuations of $a$ and $b$, respectively. If $q$ is any prime not among $\\{p_{1},\\ldots,p_{m}\\}$, then $v_{q}(N)=0$, and the condition $\\operatorname{lcm}(a,b)=N$ forces $v_{q}(a)=v_{q}(b)=0$, because otherwise $\\operatorname{lcm}(a,b)$ would be divisible by $q$ and exceed $N$.\n\nThe least common multiple satisfies, for each $i$,\n$$\nv_{p_{i}}(\\operatorname{lcm}(a,b))=\\max\\{v_{p_{i}}(a),v_{p_{i}}(b)\\}=\\max\\{x_{i},y_{i}\\}.\n$$\nThus the condition $\\operatorname{lcm}(a,b)=N$ is equivalent to the system of constraints, for each $i$,\n$$\n\\max\\{x_{i},y_{i}\\}=k_{i},\\quad 0\\leq x_{i}\\leq k_{i},\\quad 0\\leq y_{i}\\leq k_{i}.\n$$\n\nFor a fixed $i$, the number of ordered pairs $(x_{i},y_{i})$ with $0\\leq x_{i},y_{i}\\leq k_{i}$ and $\\max\\{x_{i},y_{i}\\}=k_{i}$ equals the total number of pairs in the $(k_{i}+1)\\times(k_{i}+1)$ grid minus those with both coordinates at most $k_{i}-1$, namely\n$$\n(k_{i}+1)^{2}-k_{i}^{2}=2k_{i}+1.\n$$\nEquivalently, one can count directly: there are $k_{i}+1$ choices with $x_{i}=k_{i}$ and $y_{i}\\in\\{0,\\ldots,k_{i}\\}$, and $k_{i}$ additional choices with $y_{i}=k_{i}$ and $x_{i}\\in\\{0,\\ldots,k_{i}-1\\}$, totaling $2k_{i}+1$.\n\nSince the choices for different primes $p_{i}$ are independent and the mapping from $(a,b)$ to the tuples $\\bigl((x_{1},y_{1}),\\ldots,(x_{m},y_{m})\\bigr)$ is bijective under these constraints, the total number of ordered pairs $(a,b)$ with $\\operatorname{lcm}(a,b)=N$ is the product over $i$ of these counts:\n$$\n\\prod_{i=1}^{m} (2k_{i}+1).\n$$", "answer": "$$\\boxed{\\prod_{i=1}^{m} \\left(2k_{i}+1\\right)}$$", "id": "1831874"}, {"introduction": "We now advance to a more abstract and powerful application of unique factorization by employing the language of $p$-adic valuations. This exercise challenges you to derive the $p$-adic valuation of a ratio of factorials, a quantity central to the study of integer-valued polynomials and congruences. By connecting Legendre's formula to the sum-of-digits function, you will uncover the profound result of Kummer’s theorem, which links prime exponents to the number of carries in base-$p$ arithmetic, showcasing a beautiful synthesis of analytic and combinatorial number theory [@problem_id:3026201].", "problem": "Let $p$ be a prime and let $a$ and $b$ be positive integers. By the Fundamental Theorem of Arithmetic, every positive integer admits a unique factorization into prime powers, which, for a fixed prime $p$, defines the $p$-adic valuation $v_p(n)$ as the exponent of $p$ in the prime factorization of $n$. Let $s_p(n)$ denote the sum of the digits of $n$ when written in base $p$.\n\nStarting only from these definitions and the uniqueness of prime factorization, derive a closed-form expression for\n$$v_p\\!\\left(\\frac{(ab)!}{a!\\,b!}\\right)$$\nin terms of $p$, $a$, $b$, and the base $p$ digit sums $s_p(ab)$, $s_p(a)$, and $s_p(b)$. Then explain, using Kummer’s theorem, the combinatorial meaning of carries in base $p$ addition in relation to the $p$-adic valuation of binomial coefficients, and identify the carries contribution arising from the binomial factor inside $\\frac{(ab)!}{a!\\,b!}$.\n\nYour final answer must be a single closed-form expression for $v_p\\!\\left(\\frac{(ab)!}{a!\\,b!}\\right)$ in terms of $p$, $a$, $b$, $s_p(ab)$, $s_p(a)$, and $s_p(b)$ only. No approximation or rounding is required.", "solution": "First, we establish a formula for the $p$-adic valuation of a factorial, $v_p(n!)$. By definition, $n! = 1 \\cdot 2 \\cdots n$. The $p$-adic valuation of $n!$ is the sum of the $p$-adic valuations of the integers from $1$ to $n$:\n$$v_p(n!) = v_p\\left(\\prod_{k=1}^n k\\right) = \\sum_{k=1}^n v_p(k)$$\nThe terms in this sum are non-zero only when $k$ is a multiple of $p$. The number of multiples of $p$ up to $n$ is $\\lfloor \\frac{n}{p} \\rfloor$. Each contributes at least one factor of $p$. The number of multiples of $p^2$ is $\\lfloor \\frac{n}{p^2} \\rfloor$. These contribute an additional factor of $p$. Continuing this process for all powers of $p$, we arrive at Legendre's formula:\n$$v_p(n!) = \\sum_{k=1}^{\\infty} \\left\\lfloor \\frac{n}{p^k} \\right\\rfloor$$\nTo relate this to the sum of digits $s_p(n)$, we express $n$ in base $p$: $n = \\sum_{i=0}^m d_i p^i$, where $0 \\le d_i < p$. The sum of the digits is $s_p(n) = \\sum_{i=0}^m d_i$.\nUsing the base-$p$ expansion of $n$, we can write:\n$$\n\\left\\lfloor \\frac{n}{p^k} \\right\\rfloor = \\left\\lfloor \\sum_{i=0}^m d_i p^{i-k} \\right\\rfloor = \\sum_{i=k}^m d_i p^{i-k}\n$$\nSubstituting this into Legendre's formula:\n$$\nv_p(n!) = \\sum_{k=1}^m \\sum_{i=k}^m d_i p^{i-k}\n$$\nChanging the order of summation:\n$$\nv_p(n!) = \\sum_{i=1}^m d_i \\sum_{k=1}^i p^{i-k} = \\sum_{i=1}^m d_i (1 + p + \\dots + p^{i-1}) = \\sum_{i=1}^m d_i \\frac{p^i - 1}{p-1}\n$$\nNote that the sum can start from $i=0$ since the term for $i=0$ is zero.\n$$\nv_p(n!) = \\frac{1}{p-1} \\sum_{i=0}^m d_i(p^i - 1) = \\frac{1}{p-1} \\left( \\sum_{i=0}^m d_i p^i - \\sum_{i=0}^m d_i \\right) = \\frac{n - s_p(n)}{p-1}\n$$\nThis is the desired formula connecting $v_p(n!)$ with $s_p(n)$.\n\nNow, we can compute the $p$-adic valuation of the given expression:\n$$\nv_p\\left(\\frac{(ab)!}{a!\\,b!}\\right) = v_p((ab)!) - v_p(a!) - v_p(b!)\n$$\nApplying the formula $v_p(n!) = \\frac{n - s_p(n)}{p-1}$ to each term:\n$$\nv_p((ab)!) = \\frac{ab - s_p(ab)}{p-1}\n$$\n$$\nv_p(a!) = \\frac{a - s_p(a)}{p-1}\n$$\n$$\nv_p(b!) = \\frac{b - s_p(b)}{p-1}\n$$\nSubstituting these back into the expression for $v_p\\left(\\frac{(ab)!}{a!\\,b!}\\right)$:\n$$\nv_p\\left(\\frac{(ab)!}{a!\\,b!}\\right) = \\frac{ab - s_p(ab)}{p-1} - \\frac{a - s_p(a)}{p-1} - \\frac{b - s_p(b)}{p-1}\n$$\n$$\nv_p\\left(\\frac{(ab)!}{a!\\,b!}\\right) = \\frac{1}{p-1} \\left( (ab - s_p(ab)) - (a - s_p(a)) - (b - s_p(b)) \\right)\n$$\n$$\nv_p\\left(\\frac{(ab)!}{a!\\,b!}\\right) = \\frac{ab - a - b - s_p(ab) + s_p(a) + s_p(b)}{p-1}\n$$\nThis is the required closed-form expression.\n\nNext, we explain Kummer's theorem. Kummer's theorem states that for a prime $p$ and integers $n \\ge k \\ge 0$, the $p$-adic valuation of the binomial coefficient $\\binom{n}{k}$ is equal to the number of carries that occur when adding $k$ and $n-k$ in base $p$.\nThe $p$-adic valuation of $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$ is given by:\n$$\nv_p\\left(\\binom{n}{k}\\right) = v_p(n!) - v_p(k!) - v_p((n-k)!) = \\frac{n - s_p(n)}{p-1} - \\frac{k - s_p(k)}{p-1} - \\frac{n-k - s_p(n-k)}{p-1}\n$$\n$$\nv_p\\left(\\binom{n}{k}\\right) = \\frac{s_p(k) + s_p(n-k) - s_p(n)}{p-1}\n$$\nTo show this equals the number of carries, let the base-$p$ representations be $k = \\sum k_i p^i$ and $n-k = \\sum j_i p^i$. The addition $k + (n-k) = n$ in base $p$ is described by the digit-wise equations $k_i + j_i + c_i = n_i + c_{i+1}p$, where $c_i$ is the carry from position $i-1$ (with $c_0=0$). Summing over all positions $i$:\n$$\n\\sum_i k_i + \\sum_i j_i + \\sum_i c_i = \\sum_i n_i + p \\sum_i c_{i+1}\n$$\nThis gives $s_p(k) + s_p(n-k) + \\sum_{i \\ge 0} c_i = s_p(n) + p \\sum_{i \\ge 1} c_i$.\nLet $C = \\sum_{i \\ge 1} c_i$ be the total number of carries. Since $c_0=0$, $\\sum_{i \\ge 0} c_i = C$. Thus:\n$$\ns_p(k) + s_p(n-k) + C = s_p(n) + pC\n$$\n$$\ns_p(k) + s_p(n-k) - s_p(n) = (p-1)C\n$$\n$$\nC = \\frac{s_p(k) + s_p(n-k) - s_p(n)}{p-1} = v_p\\left(\\binom{n}{k}\\right)\n$$\nThis confirms that the $p$-adic valuation of a binomial coefficient is the number of carries in the corresponding base-$p$ addition.\n\nFinally, we identify the carries contribution within the expression for $v_p\\left(\\frac{(ab)!}{a!\\,b!}\\right)$. The given expression is not a standard binomial coefficient. However, we can factor it to reveal a binomial coefficient:\n$$\n\\frac{(ab)!}{a!\\,b!} = \\frac{(ab)!}{a!(ab-a)!} \\cdot \\frac{(ab-a)!}{b!} = \\binom{ab}{a} \\frac{(ab-a)!}{b!}\n$$\nThe $p$-adic valuation is therefore additive:\n$$\nv_p\\left(\\frac{(ab)!}{a!\\,b!}\\right) = v_p\\left(\\binom{ab}{a}\\right) + v_p\\left(\\frac{(ab-a)!}{b!}\\right)\n$$\nThe problem refers to \"the binomial factor inside $\\frac{(ab)!}{a!\\,b!}$\". This is naturally interpreted as $\\binom{ab}{a}$ (or equivalently, $\\binom{ab}{b}$). The \"carries contribution\" is the $p$-adic valuation of this factor, $v_p\\left(\\binom{ab}{a}\\right)$.\nBy Kummer's theorem, this contribution, $v_p\\left(\\binom{ab}{a}\\right)$, is precisely the number of carries when adding $a$ and $ab-a$ in base $p$. The other term, $v_p\\left(\\frac{(ab-a)!}{b!}\\right)$, is an additional component of the total valuation, which can be expressed as $\\frac{ab-a-b - s_p(ab-a) + s_p(b)}{p-1}$, but does not generally have a simple interpretation as a number of carries.", "answer": "$$\n\\boxed{\\frac{ab - a - b + s_p(a) + s_p(b) - s_p(ab)}{p-1}}\n$$", "id": "3026201"}]}