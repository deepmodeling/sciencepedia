{"hands_on_practices": [{"introduction": "A deep understanding of a mathematical theorem often comes from appreciating the elegance of its proof. This exercise invites you to explore the machinery behind Gauss's lemma, focusing on a clever argument that avoids the explicit computation of modular inverses. By analyzing the products of signed representatives, you will see how a simple coprimality principle establishes a profound connection between a combinatorial count and the algebraic nature of quadratic residues [@problem_id:3013401].", "problem": "Let $p$ be an odd prime and let $a$ be an integer with $\\gcd(a,p)=1$. For each $m \\in \\{1,2,\\dots,(p-1)/2\\}$, define $r_m$ to be the unique integer congruent to $a m \\pmod{p}$ that lies in the signed interval $\\{-\\frac{p-1}{2}, -\\frac{p-1}{2}+1, \\dots, \\frac{p-1}{2}-1, \\frac{p-1}{2}\\}$. Let $N$ denote the number of indices $m$ for which $r_m0$. The Legendre symbol $\\left(\\frac{a}{p}\\right)$ is defined by $\\left(\\frac{a}{p}\\right)=1$ if there exists an integer $x$ with $x^2 \\equiv a \\pmod{p}$, and $\\left(\\frac{a}{p}\\right)=-1$ otherwise.\n\nWhich of the following explanations correctly identifies how to avoid any explicit use of modular inverses when applying Gauss’s lemma with signed representatives to relate the sign pattern of the set $\\{r_m\\}$ to quadratic residuosity modulo $p$?\n\nA. Observe that the integers $|r_m|$ form a permutation of $\\{1,2,\\dots,(p-1)/2\\}$, so $\\prod_{m=1}^{(p-1)/2} r_m$ equals $(-1)^N \\cdot \\left(\\frac{p-1}{2}\\right)!$ as an exact equality of integers. On the other hand, each $r_m \\equiv a m \\pmod{p}$, so $\\prod_{m=1}^{(p-1)/2} r_m \\equiv a^{(p-1)/2} \\cdot \\left(\\frac{p-1}{2}\\right)! \\pmod{p}$. Combining these yields $\\left(\\frac{p-1}{2}\\right)! \\cdot \\big(a^{(p-1)/2} - (-1)^N\\big) \\equiv 0 \\pmod{p}$. Since $\\gcd\\!\\left(\\left(\\frac{p-1}{2}\\right)!,p\\right)=1$, it follows by a coprimality-based cancellation principle (not by computing a modular inverse) that $a^{(p-1)/2} - (-1)^N$ is divisible by $p$, which links the sign count $N$ to quadratic residuosity via Gauss’s lemma.\n\nB. Use Wilson’s theorem to replace $\\left(\\frac{p-1}{2}\\right)!$ by $-1 \\pmod{p}$, which allows immediate cancellation of $\\left(\\frac{p-1}{2}\\right)!$ in the congruence for $\\prod r_m$ and directly yields the desired relation without any further argument.\n\nC. Because multiplication by $a$ permutes residues, the signed reduction eliminates all negative values, so $\\prod_{m=1}^{(p-1)/2} r_m$ equals $\\left(\\frac{p-1}{2}\\right)!$ as integers, making the relation independent of $a$ and obviating any need for modular inverses.\n\nD. Consider the symmetric set $\\left\\{-\\frac{p-1}{2},\\dots,\\frac{p-1}{2}\\right\\}$ and note that multiplication by $a$ creates plus/minus pairs among images; therefore, to link the sign pattern to quadratic residuosity one must compute modular inverses of the $r_m$ individually to cancel terms in the product congruence.\n\nE. One should divide the congruence $\\prod_{m=1}^{(p-1)/2} r_m \\equiv a^{(p-1)/2} \\cdot \\prod_{m=1}^{(p-1)/2} m \\pmod{p}$ by $\\prod_{m=1}^{(p-1)/2} m$ using its modular inverse to isolate $a^{(p-1)/2}$, because every integer less than $p$ has an inverse modulo $p$; this division step is essential to avoid dealing with signs in the representatives.", "solution": "We begin from first principles. The Legendre symbol $\\left(\\frac{a}{p}\\right)$ is defined for an odd prime $p$ and integer $a$ coprime to $p$ by $\\left(\\frac{a}{p}\\right)=1$ if $a$ is a quadratic residue modulo $p$, and $\\left(\\frac{a}{p}\\right)=-1$ otherwise. Gauss’s lemma states that if one considers the set $\\{a,2a,\\dots, ((p-1)/2)a\\}$ modulo $p$ and reduces each element to its unique representative in the signed interval $\\left\\{-\\frac{p-1}{2},\\dots,\\frac{p-1}{2}\\right\\}$, then the number $N$ of negative representatives satisfies $\\left(\\frac{a}{p}\\right)=(-1)^N$.\n\nThe goal posed is to explain how to avoid any explicit computation of modular inverses when carrying out the Gauss’s lemma argument using signed representatives. The key steps rely on two elementary facts:\n\n1. Multiplication by $a$ induces a permutation of the nonzero residue classes modulo $p$ because $\\gcd(a,p)=1$.\n\n2. If $x y \\equiv 0 \\pmod{p}$ and $\\gcd(x,p)=1$, then $y \\equiv 0 \\pmod{p}$. This follows directly from the definition of congruence and coprimality: $x y \\equiv 0 \\pmod{p}$ means $p$ divides $x y$; if $p$ does not divide $x$, then $p$ must divide $y$, hence $y \\equiv 0 \\pmod{p}$. No explicit modular inverse is computed.\n\nWe now carry out the product argument with signed representatives. For each $m \\in \\{1,2,\\dots,(p-1)/2\\}$, let $r_m$ be the unique signed representative of $a m \\pmod{p}$ with $|r_m| \\leq \\frac{p-1}{2}$. Consider absolute values $\\{|r_m|\\}$. If $|r_{m_1}|=|r_{m_2}|$, then $a m_1 \\equiv \\pm a m_2 \\pmod{p}$, hence $a(m_1 \\mp m_2) \\equiv 0 \\pmod{p}$. Since $\\gcd(a,p)=1$, this implies $m_1 \\equiv \\pm m_2 \\pmod{p}$. But with $1 \\leq m_1,m_2 \\leq \\frac{p-1}{2}$, $m_1 \\equiv m_2 \\pmod{p}$ forces $m_1=m_2$, and $m_1 \\equiv -m_2 \\pmod{p}$ would force $m_1+m_2 \\equiv 0 \\pmod{p}$, which is impossible because $m_1+m_2 \\leq p-1$. Therefore, the multiset $\\{|r_m| : 1 \\le m \\le (p-1)/2\\}$ is a permutation of $\\{1,2,\\dots,(p-1)/2\\}$.\n\nLet $N$ be the number of negative $r_m$. Then the exact integer product is\n$$\n\\prod_{m=1}^{(p-1)/2} r_m = (-1)^N \\cdot \\prod_{m=1}^{(p-1)/2} |r_m| = (-1)^N \\cdot \\left(\\frac{p-1}{2}\\right)!.\n$$\nOn the other hand, each $r_m \\equiv a m \\pmod{p}$, whence\n$$\n\\prod_{m=1}^{(p-1)/2} r_m \\equiv \\prod_{m=1}^{(p-1)/2} (a m) = a^{(p-1)/2} \\cdot \\prod_{m=1}^{(p-1)/2} m = a^{(p-1)/2} \\cdot \\left(\\frac{p-1}{2}\\right)! \\pmod{p}.\n$$\nCombining the exact equality with the congruence yields\n$$\n\\left(\\frac{p-1}{2}\\right)! \\cdot \\Big(a^{(p-1)/2} - (-1)^N\\Big) \\equiv 0 \\pmod{p}.\n$$\nBecause $p$ is prime and $\\left(\\frac{p-1}{2}\\right)!$ is composed of factors strictly less than $p$, we have $\\gcd\\!\\left(\\left(\\frac{p-1}{2}\\right)!,p\\right)=1$. Applying the coprimality-based cancellation principle stated above, we conclude\n$$\na^{(p-1)/2} - (-1)^N \\equiv 0 \\pmod{p}.\n$$\nThis shows, without computing any modular inverse, that $a^{(p-1)/2}$ and $(-1)^N$ are congruent modulo $p$. By Gauss’s lemma, $(-1)^N=\\left(\\frac{a}{p}\\right)$, thereby recovering Euler’s criterion purely from the signed representative product argument and the coprimality cancellation principle.\n\nWe now analyze each option:\n\nA. This option lays out the exact integer product identity $\\prod r_m = (-1)^N \\cdot \\left(\\frac{p-1}{2}\\right)!$ and the modular product congruence $\\prod r_m \\equiv a^{(p-1)/2} \\cdot \\left(\\frac{p-1}{2}\\right)! \\pmod{p}$. It then combines them to show that $\\left(\\frac{p-1}{2}\\right)! \\cdot \\big(a^{(p-1)/2} - (-1)^N\\big) \\equiv 0 \\pmod{p}$ and uses only the fact that $\\left(\\frac{p-1}{2}\\right)!$ is coprime to $p$ to deduce $a^{(p-1)/2} - (-1)^N \\equiv 0 \\pmod{p}$, avoiding the explicit computation of a modular inverse. This is precisely the correct inverse-free reasoning, and it connects to Gauss’s lemma by interpreting $(-1)^N$ as the Legendre symbol.\n\nVerdict: Correct.\n\nB. Wilson’s theorem states $(p-1)! \\equiv -1 \\pmod{p}$, not $\\left(\\frac{p-1}{2}\\right)! \\equiv -1 \\pmod{p}$. Replacing $\\left(\\frac{p-1}{2}\\right)!$ by $-1 \\pmod{p}$ is incorrect, and the purported “immediate cancellation” rests on a false congruence. Moreover, it does not address how to avoid modular inverses in a valid way.\n\nVerdict: Incorrect.\n\nC. The claim that the signed reduction “eliminates all negative values” is false; the entire point of Gauss’s lemma is that the number $N$ of negative representatives encodes the Legendre symbol. The product $\\prod r_m$ equals $(-1)^N \\cdot \\left(\\frac{p-1}{2}\\right)!$, not $\\left(\\frac{p-1}{2}\\right)!$ in general. The conclusion that the relation is independent of $a$ is incorrect.\n\nVerdict: Incorrect.\n\nD. This asserts that one must compute modular inverses of the $r_m$ to link the sign pattern to quadratic residuosity. As the derivation above shows, no modular inverses are needed: one uses exact integer identities and a coprimality-based cancellation principle. The claim is therefore incorrect.\n\nVerdict: Incorrect.\n\nE. This prescribes division by $\\prod m$ using its modular inverse to isolate $a^{(p-1)/2}$. Although it is true that each nonzero class modulo $p$ has an inverse, the approach explicitly invokes a modular inverse and thus does not “avoid” modular inverses. Furthermore, it ignores the critical signed structure that yields $(-1)^N$ and thereby misses the essence of Gauss’s lemma in this context.\n\nVerdict: Incorrect.", "answer": "$$\\boxed{A}$$", "id": "3013401"}, {"introduction": "With a grasp of the theoretical underpinnings, we can now apply these powerful tools to a concrete problem. This practice involves calculating the Legendre symbol $\\left(\\frac{-10}{p}\\right)$ for a specific prime $p$, which requires breaking the problem into smaller, manageable parts using the symbol's multiplicative property. You will apply the direct consequences of Gauss's lemma—the first and second supplementary laws—to determine the solvability of a quadratic congruence [@problem_id:3013383].", "problem": "Let $p = 2029$ be an odd prime. Consider solvability of the congruence $x^{2} \\equiv -10 \\pmod{p}$ in the ring of integers modulo $p$. Using only first principles about quadratic residues in the multiplicative group $(\\mathbb{Z}/p\\mathbb{Z})^{\\times}$, together with methods based on Gauss's lemma and the connection provided by Euler’s criterion, evaluate the Legendre symbol $\\left(\\frac{-10}{p}\\right)$ exactly. Your final answer must be a single number. No rounding is required.", "solution": "We begin from the core definitions and facts relevant to quadratic residues and their Legendre symbols. For an odd prime $p$ and an integer $a$ with $p \\nmid a$, the Legendre symbol $\\left(\\frac{a}{p}\\right)$ is defined by\n$$\n\\left(\\frac{a}{p}\\right) =\n\\begin{cases}\n1  \\text{if there exists } x \\in \\mathbb{Z} \\text{ with } x^{2} \\equiv a \\pmod{p}, \\\\\n-1  \\text{otherwise.}\n\\end{cases}\n$$\nEuler’s criterion asserts that\n$$\n\\left(\\frac{a}{p}\\right) \\equiv a^{\\frac{p-1}{2}} \\pmod{p},\n$$\nand in particular $\\left(\\frac{a}{p}\\right) \\in \\{-1,1\\}$ when $p \\nmid a$. The Legendre symbol is multiplicative:\n$$\n\\left(\\frac{ab}{p}\\right) = \\left(\\frac{a}{p}\\right)\\left(\\frac{b}{p}\\right),\n$$\nwhich follows, for example, from Euler’s criterion via\n$$\n(ab)^{\\frac{p-1}{2}} \\equiv a^{\\frac{p-1}{2}} b^{\\frac{p-1}{2}} \\pmod{p}.\n$$\n\nOur task is to evaluate $\\left(\\frac{-10}{p}\\right)$ for $p = 2029$. Using multiplicativity and the coprimality of $-1$, $2$, and $5$ with $p$, we factor\n$$\n\\left(\\frac{-10}{p}\\right) = \\left(\\frac{-1}{p}\\right)\\left(\\frac{2}{p}\\right)\\left(\\frac{5}{p}\\right).\n$$\nWe will compute each factor using Gauss’s lemma and, where appropriate, Quadratic Reciprocity, which itself can be established from Gauss’s lemma.\n\nGauss’s lemma states: for odd prime $p$ and integer $a$ with $p \\nmid a$, consider the set of least absolute residues of $a,2a,3a,\\dots,\\frac{p-1}{2}a$ modulo $p$. Let $N(a)$ be the number of these residues that lie strictly in the negative half-interval, equivalently the number for which the least positive residue exceeds $\\frac{p}{2}$. Then\n$$\n\\left(\\frac{a}{p}\\right) = (-1)^{N(a)}.\n$$\n\n1. Computation of $\\left(\\frac{-1}{p}\\right)$ via Gauss’s lemma. Take $a = -1$. The set $\\{-1,-2,\\dots,-\\frac{p-1}{2}\\}$ has least positive residues $\\{p-1,p-2,\\dots,p - \\frac{p-1}{2}\\}$, all of which exceed $\\frac{p}{2}$. Hence $N(-1) = \\frac{p-1}{2}$, and thus\n$$\n\\left(\\frac{-1}{p}\\right) = (-1)^{\\frac{p-1}{2}}.\n$$\nFor $p = 2029$, we have $\\frac{p-1}{2} = \\frac{2028}{2} = 1014$, which is even, so\n$$\n\\left(\\frac{-1}{2029}\\right) = 1.\n$$\n\n2. Computation of $\\left(\\frac{2}{p}\\right)$ via Gauss’s lemma. Take $a = 2$. Consider the sequence $2,4,6,\\dots,2\\cdot\\frac{p-1}{2}$. A term $2j$ has least absolute residue $2j$ if $2j \\leq \\frac{p}{2}$ (so it is counted as positive) and has least absolute residue $2j - p$ if $2j > \\frac{p}{2}$ (so it is counted as negative). Thus the number $N(2)$ equals the count of indices $j$ with $1 \\leq j \\leq \\frac{p-1}{2}$ such that $2j > \\frac{p}{2}$, i.e., $j > \\frac{p}{4}$. Therefore\n$$\nN(2) = \\frac{p-1}{2} - \\left\\lfloor \\frac{p}{4} \\right\\rfloor.\n$$\nConsequently,\n$$\n\\left(\\frac{2}{p}\\right) = (-1)^{\\frac{p-1}{2} - \\left\\lfloor \\frac{p}{4} \\right\\rfloor}.\n$$\nTo evaluate the parity of $N(2)$, write $p = 8m + r$ with $r \\in \\{1,3,5,7\\}$. Then\n$$\n\\frac{p-1}{2} = 4m + \\frac{r-1}{2}, \\quad \\left\\lfloor \\frac{p}{4} \\right\\rfloor = \\left\\lfloor 2m + \\frac{r}{4} \\right\\rfloor = 2m + \\left\\lfloor \\frac{r}{4} \\right\\rfloor.\n$$\nHence\n$$\nN(2) = (4m + \\tfrac{r-1}{2}) - \\left(2m + \\left\\lfloor \\tfrac{r}{4} \\right\\rfloor \\right) = 2m + \\left(\\tfrac{r-1}{2} - \\left\\lfloor \\tfrac{r}{4} \\right\\rfloor\\right).\n$$\nOne checks the parity for the four residues:\n- If $r = 1$, then $N(2) = 2m + 0$ is even, so $\\left(\\frac{2}{p}\\right) = 1$.\n- If $r = 3$, then $N(2) = 2m + 1$ is odd, so $\\left(\\frac{2}{p}\\right) = -1$.\n- If $r = 5$, then $N(2) = 2m + 1$ is odd, so $\\left(\\frac{2}{p}\\right) = -1$.\n- If $r = 7$, then $N(2) = 2m + 2$ is even, so $\\left(\\frac{2}{p}\\right) = 1$.\nSummarizing,\n$$\n\\left(\\frac{2}{p}\\right) =\n\\begin{cases}\n1  \\text{if } p \\equiv 1 \\text{ or } 7 \\pmod{8}, \\\\\n-1  \\text{if } p \\equiv 3 \\text{ or } 5 \\pmod{8}.\n\\end{cases}\n$$\nEquivalently,\n$$\n\\left(\\frac{2}{p}\\right) = (-1)^{\\frac{p^{2}-1}{8}}.\n$$\nFor $p = 2029$, we have $2029 \\equiv 5 \\pmod{8}$, hence\n$$\n\\left(\\frac{2}{2029}\\right) = -1.\n$$\n\n3. Computation of $\\left(\\frac{5}{p}\\right)$ using Quadratic Reciprocity. The Law of Quadratic Reciprocity, derivable from Gauss’s lemma, states that for distinct odd primes $p$ and $q$,\n$$\n\\left(\\frac{p}{q}\\right)\\left(\\frac{q}{p}\\right) = (-1)^{\\frac{p-1}{2}\\cdot \\frac{q-1}{2}}.\n$$\nIn particular, when $q \\equiv 1 \\pmod{4}$, the sign is $+1$, so $\\left(\\frac{p}{q}\\right) = \\left(\\frac{q}{p}\\right)$. Since $5 \\equiv 1 \\pmod{4}$, we obtain\n$$\n\\left(\\frac{5}{p}\\right) = \\left(\\frac{p}{5}\\right).\n$$\nTo evaluate $\\left(\\frac{p}{5}\\right)$, reduce $p$ modulo $5$ and compare with the quadratic residues modulo $5$, which are $1$ and $4$. Compute $p \\bmod 5$: $2025$ is divisible by $5$, so $2029 \\equiv 4 \\pmod{5}$. Therefore\n$$\n\\left(\\frac{p}{5}\\right) = \\left(\\frac{2029}{5}\\right) = \\left(\\frac{4}{5}\\right) = 1,\n$$\nand thus\n$$\n\\left(\\frac{5}{2029}\\right) = 1.\n$$\n\nCombining the three factors,\n$$\n\\left(\\frac{-10}{2029}\\right) = \\left(\\frac{-1}{2029}\\right)\\left(\\frac{2}{2029}\\right)\\left(\\frac{5}{2029}\\right) = 1 \\cdot (-1) \\cdot 1 = -1.\n$$\nInterpreting this via the definition, $x^{2} \\equiv -10 \\pmod{2029}$ has no solution in $\\mathbb{Z}/2029\\mathbb{Z}$, and the Legendre symbol evaluates to $-1$, as required.", "answer": "$$\\boxed{-1}$$", "id": "3013383"}, {"introduction": "Theoretical results in number theory, while proven with deductive logic, can be powerfully illustrated and reinforced through computation. This hands-on coding practice challenges you to verify the supplementary laws of quadratic reciprocity for all odd primes below $200$. By comparing the predictions from these laws against direct computation using Euler's criterion, you will gain empirical confidence in their validity and appreciate the consistency of the theory across a wide range of cases [@problem_id:3021697].", "problem": "Let $p$ be an odd prime. The Legendre symbol $(a/p)$ is defined for integers $a$ as $(a/p)=1$ if $a$ is a quadratic residue modulo $p$ and $a \\not\\equiv 0 \\pmod{p}$, $(a/p)=-1$ if $a$ is a quadratic nonresidue modulo $p$, and $(a/p)=0$ if $p$ divides $a$. A computationally useful characterization is Euler's criterion: for an integer $a$ with $p \\nmid a$, one has $a^{(p-1)/2} \\equiv (a/p) \\pmod{p}$, so $a^{(p-1)/2} \\equiv 1 \\pmod{p}$ if and only if $(a/p)=1$, and $a^{(p-1)/2} \\equiv -1 \\pmod{p}$ if and only if $(a/p)=-1$.\n\nThe goal is to numerically verify the supplementary laws associated with Quadratic Reciprocity for the specific integers $a=-1$ and $a=2$ by comparing two independently computed values of $(a/p)$ across all odd primes $p200$:\n- A direct computation of $(a/p)$ via Euler's criterion.\n- A predicted sign of $(a/p)$ derived from a congruence-class analysis that follows from counting arguments based on the parity of certain sets of residues modulo $p$, as obtained from Gauss's lemma.\n\nTo make the verification robust and to test consistency of these laws, the program should also include a third check for $a=-2$, using the fact that $(ab/p)=(a/p)(b/p)$ for integers $a$ and $b$ with $p \\nmid ab$, so that the behavior for $a=-2$ can be deduced from the behaviors for $a=-1$ and $a=2$.\n\nYour task is to:\n- Generate all odd primes $p$ with $3 \\le p  200$.\n- For each such prime $p$, compute $(a/p)$ using Euler's criterion for $a=-1$, $a=2$, and $a=-2$.\n- For each such prime $p$, compute a predicted value for $(a/p)$ using a congruence-class rule that arises from the parity analysis of residues given by Gauss's lemma (without using the direct computation for $(a/p)$ to generate the prediction).\n- For each of the three values of $a$, return a single boolean indicating whether the directly computed value of $(a/p)$ agrees with the predicted value for all odd primes $p200$.\n\nTest suite and coverage:\n- Case $a=-1$: This tests the first supplementary law across all odd primes, including the boundary primes $p=3$ and $p=199$.\n- Case $a=2$: This tests the second supplementary law across all odd primes, and distinguishes primes by residue classes modulo $8$.\n- Case $a=-2$: This tests a consistency check derived from multiplicativity, providing additional coverage across residue classes modulo $8$.\n\nFinal output format:\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets. The list must be in the order $[R_{-1},R_{2},R_{-2}]$, where each $R_{a}$ is the boolean result for the corresponding $a$. For example, an output might look like $[{\\rm True},{\\rm True},{\\rm True}]$ if all three verifications succeed across the test suite of all odd primes $p200$.", "solution": "We begin from the definitions and fundamental tools. For an odd prime $p$ and integer $a$ with $p \\nmid a$, the Legendre symbol $(a/p)$ indicates whether $a$ is a quadratic residue modulo $p$. Euler's criterion states\n$$\na^{(p-1)/2} \\equiv (a/p) \\pmod{p}.\n$$\nThus, to compute $(a/p)$ numerically, we can reduce $a$ modulo $p$ to $a \\bmod p$, compute $a^{(p-1)/2} \\bmod p$, and map the result to $1$ or $-1$. For the chosen $a \\in \\{-1,2,-2\\}$ and odd primes $p$, the value cannot be $0$.\n\nTo predict $(a/p)$ for particular $a$ without direct exponentiation, we use Gauss's lemma. Gauss's lemma asserts that for $p$ odd and $a$ with $p \\nmid a$, if we consider the set $\\{a,2a,\\dots,((p-1)/2)a\\}$ modulo $p$ and count how many of these have least positive residues greater than $p/2$, say $n(a)$, then\n$$\n(a/p) = (-1)^{n(a)}.\n$$\nApplying this counting argument to the special integers $a=-1$ and $a=2$ yields congruence-class characterizations for $(a/p)$ in terms of $p$ modulo small moduli.\n\nFirst, for $a=-1$: the set of residues is $\\{-1,-2,\\dots,-(p-1)/2\\}$; exactly $(p-1)/2$ of them are greater than $p/2$ when taken as least positive residues, and the parity of this count is determined by whether $p \\equiv 1 \\pmod{4}$ or $p \\equiv 3 \\pmod{4}$. One derives the formula\n$$\n(-1/p) = (-1)^{(p-1)/2},\n$$\nwhich equivalently is $(-1/p)=1$ if $p \\equiv 1 \\pmod{4}$ and $(-1/p)=-1$ if $p \\equiv 3 \\pmod{4}$.\n\nSecond, for $a=2$: examining the residues $2,4,\\dots,p-1$ and counting how many land in $(p/2,p)$ leads to the established characterization\n$$\n(2/p) = (-1)^{(p^2-1)/8},\n$$\nwhich equivalently is $(2/p)=1$ if $p \\equiv 1 \\text{ or } 7 \\pmod{8}$ and $(2/p)=-1$ if $p \\equiv 3 \\text{ or } 5 \\pmod{8}$.\n\nBy multiplicativity of the Legendre symbol, for $a=-2$ we have\n$$\n(-2/p) = (-1/p)\\,(2/p) = (-1)^{(p-1)/2}\\,(-1)^{(p^2-1)/8} = (-1)^{(p-1)/2 + (p^2-1)/8}.\n$$\nEquivalently, $(-2/p)=1$ if $p \\equiv 1 \\text{ or } 3 \\pmod{8}$ and $(-2/p)=-1$ if $p \\equiv 5 \\text{ or } 7 \\pmod{8}$.\n\nAlgorithmic plan:\n1. Generate all odd primes $p$ with $3 \\le p  200$. A sieve of Eratosthenes up to $199$ suffices, followed by filtering out $p=2$.\n2. Implement a function to compute $(a/p)$ using Euler's criterion: reduce $a$ modulo $p$ to $a \\bmod p$, compute $a^{(p-1)/2} \\bmod p$, and map the result $1 \\mapsto 1$, $p-1 \\mapsto -1$. For the chosen $a \\in \\{-1,2,-2\\}$ and odd primes $p$, the value cannot be $0$.\n3. Implement a function that computes the predicted value for $(a/p)$ using the congruence-class rules derived above:\n   - For $a=-1$, return $1$ if $p \\equiv 1 \\pmod{4}$ and $-1$ otherwise.\n   - For $a=2$, return $1$ if $p \\equiv 1 \\text{ or } 7 \\pmod{8}$ and $-1$ otherwise.\n   - For $a=-2$, return the product of the predictions for $a=-1$ and $a=2$ (equivalently, use the modulo $8$ rule above).\n4. For each $a \\in \\{-1,2,-2\\}$, verify that for all odd primes $p200$, the Euler-computed $(a/p)$ equals the predicted value. Record one boolean per $a$ indicating whether the law holds for every prime in the set.\n5. Output the three booleans in the order $[R_{-1},R_{2},R_{-2}]$ as a single line in the required format.\n\nThis procedure verifies numerically that the supplementary laws for $(-1/p)$ and $(2/p)$, together with the consistency for $(-2/p)$ via multiplicativity, hold across the entire specified test suite of odd primes less than $200$.", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\n\ndef sieve_primes_upto(n: int):\n    \"\"\"Return list of all primes = n using a simple sieve.\"\"\"\n    if n  2:\n        return []\n    is_prime = [True] * (n + 1)\n    is_prime[0] = is_prime[1] = False\n    p = 2\n    while p * p = n:\n        if is_prime[p]:\n            step = p\n            start = p * p\n            is_prime[start:n+1:step] = [False] * (((n - start) // step) + 1)\n        p += 1\n    return [i for i, flag in enumerate(is_prime) if flag]\n\ndef legendre_symbol(a: int, p: int) - int:\n    \"\"\"\n    Compute (a/p) for odd prime p using Euler's criterion.\n    Returns 1 if a is a quadratic residue mod p, -1 if not.\n    Assumes p does not divide a for given a in {-1,2,-2} and odd primes p.\n    \"\"\"\n    a_mod = a % p\n    # Euler's criterion: a^{(p-1)/2} ≡ (a/p) (mod p)\n    val = pow(a_mod, (p - 1) // 2, p)\n    if val == 1:\n        return 1\n    elif val == p - 1:\n        return -1\n    else:\n        # For completeness; should not happen for a in {-1,2,-2} and odd primes p\n        return 0\n\ndef predicted_legendre(a: int, p: int) - int:\n    \"\"\"\n    Predicted value of (a/p) using supplementary laws:\n    - (-1/p) = 1 if p ≡ 1 (mod 4), else -1\n    - (2/p) = 1 if p ≡ 1 or 7 (mod 8), else -1\n    - (-2/p) = (-1/p)*(2/p)\n    \"\"\"\n    if a == -1:\n        return 1 if (p % 4) == 1 else -1\n    elif a == 2:\n        return 1 if (p % 8) in (1, 7) else -1\n    elif a == -2:\n        # Use multiplicativity: (-2/p) = (-1/p)*(2/p)\n        return predicted_legendre(-1, p) * predicted_legendre(2, p)\n    else:\n        raise ValueError(\"Unsupported a\")\n\ndef solve():\n    # Define the test cases from the problem statement.\n    # We verify for a in {-1, 2, -2} across all odd primes p  200.\n    test_cases = [-1, 2, -2]\n\n    # Generate odd primes less than 200\n    primes = [p for p in sieve_primes_upto(199) if p % 2 == 1]\n\n    results = []\n    for a in test_cases:\n        all_match = True\n        for p in primes:\n            ls = legendre_symbol(a, p)\n            pred = predicted_legendre(a, p)\n            if ls != pred:\n                all_match = False\n                break\n        results.append(all_match)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```", "id": "3021697"}]}