{"hands_on_practices": [{"introduction": "Understanding a new concept often begins with exploring the simplest, most fundamental example. This exercise provides that starting point for ray class groups by focusing on the field of rational numbers, $\\mathbb{Q}$. You will analyze how the structure of the ray class group changes when the modulus is extended to include the single real place of $\\mathbb{Q}$, which imposes a sign condition on the generators of principal ideals. By working through this problem [@problem_id:3022533], you will gain a concrete understanding of the role of infinite places in class field theory and see how they are responsible for the distinction between cyclotomic fields and their maximal real subfields.", "problem": "Let $n \\geq 3$ be an integer and let $\\mathfrak{m}$ denote a modulus for the number field $\\mathbb{Q}$, with either $\\mathfrak{m} = n$ (finite part only) or $\\mathfrak{m} = n\\infty$ (finite part together with the unique real place). The ray class group $\\mathrm{Cl}_{\\mathfrak{m}}(\\mathbb{Q})$ is defined as the quotient of the group of fractional ideals of $\\mathbb{Q}$ coprime to the finite part $\\mathfrak{m}_0$ by the subgroup of principal ideals $(\\alpha)$ generated by elements $\\alpha \\in \\mathbb{Q}^{\\times}$ satisfying the congruence condition $\\alpha \\equiv 1 \\pmod{n}$ and, in addition, the sign condition $\\alpha > 0$ at the real place whenever $\\infty$ divides $\\mathfrak{m}$. Starting from these definitions, and relying only on fundamental class field theory facts for $\\mathbb{Q}$ (including the global Artin reciprocity and the Kronecker–Weber theorem), analyze how the sign condition at $\\infty$ changes which principal ideals are identified as trivial ray classes. Use this analysis to determine, in terms of the Euler totient function $\\varphi(n)$, the exact values of the cardinalities $|\\mathrm{Cl}_{n}(\\mathbb{Q})|$ and $|\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})|$. Express your final answers solely in terms of $n$ and $\\varphi(n)$ as a single analytical expression, and do not round.", "solution": "The problem is first validated against the given criteria.\n\n### Step 1: Extract Givens\n- Let $n \\ge 3$ be an integer.\n- Let $\\mathfrak{m}$ be a modulus for the number field $\\mathbb{Q}$.\n- Two cases for the modulus: $\\mathfrak{m} = n$ (finite part only) or $\\mathfrak{m} = n\\infty$ (finite part and the real place).\n- The ray class group is defined as $\\mathrm{Cl}_{\\mathfrak{m}}(\\mathbb{Q}) = I(\\mathfrak{m}) / P_{\\mathfrak{m}}$, where $I(\\mathfrak{m})$ is the group of fractional ideals of $\\mathbb{Q}$ coprime to the finite part of $\\mathfrak{m}$, and $P_{\\mathfrak{m}}$ is the subgroup of principal ideals $(\\alpha)$ generated by elements $\\alpha \\in \\mathbb{Q}^{\\times}$ satisfying certain conditions.\n- For a generator $\\alpha$ of an ideal in $P_{\\mathfrak{m}}$, the conditions are:\n    1. $\\alpha \\equiv 1 \\pmod{n}$. This is a congruence condition related to the finite part $(n)$. Specifically, if $\\alpha = a/b$ with $a, b \\in \\mathbb{Z}$ and $b$ is coprime to $n$, then $a \\equiv b \\pmod{n}$, which is equivalent to $\\nu_p(\\alpha-1) \\ge \\nu_p(n)$ for all prime factors $p$ of $n$. This is often denoted $\\alpha \\equiv 1 \\pmod* n$.\n    2. $\\alpha > 0$ if the modulus $\\mathfrak{m}$ includes the real place $\\infty$.\n- The task is to determine the cardinalities $|\\mathrm{Cl}_{n}(\\mathbb{Q})|$ and $|\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})|$ in terms of $n$ and the Euler totient function $\\varphi(n)$, by analyzing the effect of the sign condition.\n- The solution should rely on fundamental facts of class field theory for $\\mathbb{Q}$, including the Kronecker–Weber theorem and Artin reciprocity.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is well-defined, scientifically grounded, and objective. It is a standard problem in algebraic number theory.\n- **Scientific Soundness**: The concepts of number fields, moduli, ray class groups, and class field theory are all standard and mathematically rigorous. The problem statement does not violate any known mathematical principles.\n- **Well-Posedness**: The problem asks for the orders of two specific mathematical groups. These groups are well-defined, and their orders can be uniquely determined from the given information. The condition $n \\ge 3$ is significant and makes the problem well-posed, avoiding special cases for $n=1, 2$.\n- **Completeness and Consistency**: The problem provides all necessary definitions, either explicitly or by referring to standard terminology in number theory. There are no contradictions.\n- **Objectivity**: The problem is stated in precise, formal language without any subjective or opinion-based content.\n\n### Step 3: Verdict and Action\nThe problem is **valid**. A full solution will be provided.\n\n### Solution\nLet $K = \\mathbb{Q}$. We are asked to compute the order of the ray class group $\\mathrm{Cl}_{\\mathfrak{m}}(\\mathbb{Q})$ for two moduli, $\\mathfrak{m} = n$ and $\\mathfrak{m} = n\\infty$, where $n \\geq 3$ is an integer.\n\nThe ray class group for a modulus $\\mathfrak{m}$ is defined as the quotient $\\mathrm{Cl}_{\\mathfrak{m}}(\\mathbb{Q}) = I(\\mathfrak{m}) / P_{\\mathfrak{m}}$. For both moduli $\\mathfrak{m}=n$ and $\\mathfrak{m}=n\\infty$, the finite part is the ideal $(n)$. The group of fractional ideals $I(\\mathfrak{m})$ is therefore the group of fractional ideals of $\\mathbb{Q}$ that are coprime to $(n)$. We denote this group by $I_n$. This group is the same for both moduli.\n\nThe subgroups of principal ideals, however, are different. These are the ray subgroups.\nFor $\\mathfrak{m} = n\\infty$, the subgroup $P_{n\\infty}$ consists of principal ideals $(\\alpha)$ for which there exists a generator $\\alpha \\in \\mathbb{Q}^{\\times}$ such that $\\alpha \\equiv 1 \\pmod* n$ and $\\alpha > 0$.\nFor $\\mathfrak{m} = n$, the subgroup $P_n$ consists of principal ideals $(\\alpha)$ for which there exists a generator $\\alpha \\in \\mathbb{Q}^{\\times}$ such that $\\alpha \\equiv 1 \\pmod* n$, with no sign condition.\n\nFirst, we determine the order of $\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})$. The Kronecker-Weber theorem states that any abelian extension of $\\mathbb{Q}$ is contained within a cyclotomic field. A fundamental result of global class field theory is that the ray class field for the modulus $\\mathfrak{m} = n\\infty$ over $\\mathbb{Q}$ is precisely the $n$-th cyclotomic field, $L = \\mathbb{Q}(\\zeta_n)$, where $\\zeta_n = \\exp(2\\pi i / n)$.\nThe Artin reciprocity theorem provides a canonical isomorphism, the Artin map, between the ray class group and the Galois group of the ray class field extension:\n$$ \\mathrm{Cl}_{n\\infty}(\\mathbb{Q}) \\cong \\mathrm{Gal}(\\mathbb{Q}(\\zeta_n)/\\mathbb{Q}) $$\nThe order of the Galois group is the degree of the field extension, which is given by Euler's totient function:\n$$ |\\mathrm{Gal}(\\mathbb{Q}(\\zeta_n)/\\mathbb{Q})| = [\\mathbb{Q}(\\zeta_n):\\mathbb{Q}] = \\varphi(n) $$\nTherefore, the cardinality of the ray class group for modulus $n\\infty$ is:\n$$ |\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})| = \\varphi(n) $$\n\nNext, we determine the order of $\\mathrm{Cl}_n(\\mathbb{Q})$. The definition of $P_n$ relaxes the condition on the generators compared to $P_{n\\infty}$. Specifically, the condition $\\alpha > 0$ is dropped. This means that any generator suitable for $P_{n\\infty}$ is also suitable for $P_n$. Thus, every ideal in $P_{n\\infty}$ is also in $P_n$, which implies $P_{n\\infty}$ is a subgroup of $P_n$.\nThe two ray class groups are $\\mathrm{Cl}_{n\\infty}(\\mathbb{Q}) = I_n/P_{n\\infty}$ and $\\mathrm{Cl}_n(\\mathbb{Q}) = I_n/P_n$.\nBy the third isomorphism theorem for groups, we have:\n$$ \\mathrm{Cl}_n(\\mathbb{Q}) = I_n/P_n \\cong (I_n/P_{n\\infty}) / (P_n/P_{n\\infty}) \\cong \\mathrm{Cl}_{n\\infty}(\\mathbb{Q}) / (P_n/P_{n\\infty}) $$\nTaking the orders, we get:\n$$ |\\mathrm{Cl}_n(\\mathbb{Q})| = \\frac{|\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})|}{|P_n/P_{n\\infty}|} = \\frac{\\varphi(n)}{|P_n:P_{n\\infty}|} $$\nOur task reduces to finding the index of the subgroup $P_{n\\infty}$ in $P_n$.\n\nLet $K_{n,1} = \\{ \\alpha \\in \\mathbb{Q}^\\times \\mid \\alpha \\equiv 1 \\pmod* n \\}$ be the group of generators for ideals in $P_n$.\nLet $K_{n\\infty,1} = \\{ \\alpha \\in \\mathbb{Q}^\\times \\mid \\alpha \\equiv 1 \\pmod* n, \\alpha > 0 \\}$ be the group of generators for ideals in $P_{n\\infty}$.\nThe map $\\alpha \\mapsto (\\alpha)$ sends $K_{n,1}$ to $P_n$ and $K_{n\\infty,1}$ to $P_{n\\infty}$. The kernel of this map in general is the group of units of the ring of integers of the number field. For $K=\\mathbb{Q}$, the units are $\\mathcal{O}_{\\mathbb{Q}}^\\times = \\{1, -1\\}$.\nAn ideal $(\\alpha)$ has exactly two generators, $\\alpha$ and $-\\alpha$.\nFor an ideal in $P_n$, we need to find if both generators can be in $K_{n,1}$. Suppose $\\alpha \\in K_{n,1}$. Then $-\\alpha$ must also satisfy the congruence, i.e., $-\\alpha \\equiv 1 \\pmod* n$. This implies $\\alpha \\equiv -1 \\pmod* n$. Combined with $\\alpha \\equiv 1 \\pmod* n$, we get $1 \\equiv -1 \\pmod* n$, which means $n$ must divide $2$. However, the problem states $n \\ge 3$. Thus, for any ideal in $P_n$, exactly one of its generators belongs to $K_{n,1}$. So the map from $K_{n,1}$ to $P_n$ is an isomorphism, $P_n \\cong K_{n,1}$.\nSimilarly, for an ideal in $P_{n\\infty}$, the generator must be positive. Since $-\\alpha$ is negative, only one generator can be in $K_{n\\infty,1}$. So, $P_{n\\infty} \\cong K_{n\\infty,1}$.\nTherefore, the index is $|P_n:P_{n\\infty}| = |K_{n,1}:K_{n\\infty,1}|$.\n\nThe group $K_{n\\infty,1}$ is the subgroup of positive elements in $K_{n,1}$. Consider the sign homomorphism $\\mathrm{sgn}: K_{n,1} \\to \\{+1, -1\\}$. The kernel of this map is precisely $K_{n\\infty,1}$.\nBy the first isomorphism theorem, $K_{n,1}/K_{n\\infty,1} \\cong \\mathrm{Im}(\\mathrm{sgn})$. The order of the quotient group is $|\\mathrm{Im}(\\mathrm{sgn})|$, which can be $1$ or $2$.\nThe order is $2$ if and only if the homomorphism is surjective, which means there must exist an element $\\alpha \\in K_{n,1}$ such that $\\alpha < 0$.\nLet's construct such an element. Consider the integer $\\alpha = 1-n$.\nSince $n \\geq 3$, we have $\\alpha = 1-n \\le 1-3 = -2$, so $\\alpha$ is negative.\nThe congruence condition is $\\alpha \\equiv 1 \\pmod n$, which is satisfied since $1-n = (-1)n + 1$.\nSo, $\\alpha = 1-n$ is an element of $K_{n,1}$ with negative sign.\nThis demonstrates that the sign map is surjective. Therefore, the index is $|K_{n,1}:K_{n\\infty,1}|=2$.\n\nSubstituting this back into our expression for the order of $\\mathrm{Cl}_n(\\mathbb{Q})$:\n$$ |\\mathrm{Cl}_n(\\mathbb{Q})| = \\frac{\\varphi(n)}{2} $$\n\nThe condition $n \\ge 3$ ensures that $\\varphi(n)$ is always an even number, so this result is an integer. Specifically, if $n>2$, then either $n$ has an odd prime factor $p$ (so $\\varphi(n)$ has a factor $\\varphi(p)=p-1$ which is even), or $n$ is a power of $2$, $n=2^k$ with $k \\ge 2$, in which case $\\varphi(n) = 2^{k-1}$ is even.\n\nIn summary:\nThe cardinality of the ray class group for modulus $\\mathfrak{m} = n\\infty$ is $|\\mathrm{Cl}_{n\\infty}(\\mathbb{Q})| = \\varphi(n)$.\nThe cardinality of the ray class group for modulus $\\mathfrak{m} = n$ is $|\\mathrm{Cl}_{n}(\\mathbb{Q})| = \\frac{\\varphi(n)}{2}$.", "answer": "$$ \\boxed{ \\begin{pmatrix} \\frac{\\varphi(n)}{2} & \\varphi(n) \\end{pmatrix} } $$", "id": "3022533"}, {"introduction": "This practice moves from the rational numbers to the Gaussian integers, $\\mathbb{Q}(i)$, providing a hands-on opportunity to compute the full order of a ray class group and apply this to a concrete arithmetic question. The fundamental theorem of class field theory states that a prime ideal splits completely in a ray class field if and only if it represents the trivial element in the corresponding ray class group. This exercise [@problem_id:3022544] challenges you to translate that abstract theorem into a practical congruence condition and then to calculate the degree of a specific ray class field by assembling the components of the class group order formula, including the class number, the unit index, and the size of the residue ring's unit group.", "problem": "Let $K=\\mathbb{Q}(i)$ be the Gaussian rational field with ring of integers $\\mathcal{O}_{K}=\\mathbb{Z}[i]$, let $\\mathfrak{p}_{2}=(1+i)$ be the unique prime of $\\mathcal{O}_{K}$ above $2$, and fix a modulus $\\mathfrak{m}=(1+i)^{n}$ with integer $n\\geq 1$. Denote by $K_{\\mathfrak{m}}$ the ray class field of $K$ modulo $\\mathfrak{m}$, and by $\\mathrm{Cl}_{\\mathfrak{m}}$ the corresponding ray class group.\n\nStarting only from the foundational definitions of ray class groups, the Artin map, and the decomposition of rational primes in $\\mathbb{Z}[i]$, derive a necessary and sufficient congruence condition in $\\mathbb{Z}[i]/(1+i)^{n}$ for a prime ideal of $\\mathcal{O}_{K}$ lying over a rational prime $p$ to split completely in $K_{\\mathfrak{m}}$. Your derivation must separate the cases $p\\equiv 1 \\bmod 4$ and $p\\equiv 3 \\bmod 4$, and express the splitting condition in terms of the congruence of a generator in $\\mathbb{Z}[i]$ modulo $(1+i)^{n}$.\n\nThen, using your splitting criteria together with first principles on ray class groups over $K=\\mathbb{Q}(i)$, determine the field degree $[K_{\\mathfrak{m}}:\\mathbb{Q}]$ when $n=6$. Your final answer must be a single exact number.", "solution": "The problem consists of two parts. First, we must derive the splitting condition for prime ideals in the ray class field $K_{\\mathfrak{m}}$ over $K=\\mathbb{Q}(i)$. Second, we must compute the degree $[K_{\\mathfrak{m}}:\\mathbb{Q}]$ for the specific modulus $\\mathfrak{m}=(1+i)^6$.\n\n### Part 1: Derivation of the Splitting Condition\n\nLet $K = \\mathbb{Q}(i)$ be the field of Gaussian rationals, with ring of integers $\\mathcal{O}_K = \\mathbb{Z}[i]$. Let $\\mathfrak{m}=(1+i)^n$ be a modulus for an integer $n \\geq 1$. Let $K_{\\mathfrak{m}}$ be the ray class field of $K$ for the modulus $\\mathfrak{m}$.\n\nFrom global class field theory, a prime ideal $\\mathfrak{p}$ of $\\mathcal{O}_K$ that is unramified in the extension $K_{\\mathfrak{m}}/K$ (i.e., $\\mathfrak{p}$ is coprime to $\\mathfrak{m}$) splits completely in $K_{\\mathfrak{m}}$ if and only if its Artin symbol $(\\mathfrak{p}, K_{\\mathfrak{m}}/K)$ is the identity element in the Galois group $\\mathrm{Gal}(K_{\\mathfrak{m}}/K)$.\n\nThe Artin map provides a canonical isomorphism $\\mathrm{Art}: \\mathrm{Cl}_{\\mathfrak{m}} \\stackrel{\\sim}{\\longrightarrow} \\mathrm{Gal}(K_{\\mathfrak{m}}/K)$, where $\\mathrm{Cl}_{\\mathfrak{m}}$ is the ray class group modulo $\\mathfrak{m}$. The identity of the Galois group corresponds to the trivial class in $\\mathrm{Cl}_{\\mathfrak{m}}$. Therefore, a prime ideal $\\mathfrak{p}$ (coprime to $\\mathfrak{m}$) splits completely in $K_{\\mathfrak{m}}$ if and only if the ideal class $[\\mathfrak{p}]$ is the identity in $\\mathrm{Cl}_{\\mathfrak{m}}$.\n\nThe ray class group is defined as the quotient $\\mathrm{Cl}_{\\mathfrak{m}} = I_K(\\mathfrak{m}) / P_{K,1}(\\mathfrak{m})$. Here, $I_K(\\mathfrak{m})$ is the group of fractional ideals of $K$ coprime to $\\mathfrak{m}$, and $P_{K,1}(\\mathfrak{m})$ is the subgroup of principal fractional ideals $(\\alpha)$ generated by elements $\\alpha \\in K^\\times$ satisfying the congruence $\\alpha \\equiv 1 \\pmod{^\\times \\mathfrak{m}}$. For the field $K=\\mathbb{Q}(i)$, which has no real embeddings, and a finite modulus $\\mathfrak{m}=(1+i)^n$, this congruence simplifies to $v_{\\mathfrak{p}_2}(\\alpha - 1) \\geq n$, where $\\mathfrak{p}_2=(1+i)$. For an element $\\alpha = a/b$ with $a,b \\in \\mathcal{O}_K$ coprime to $\\mathfrak{m}$, this means $a \\equiv b \\pmod{\\mathfrak{m}}$.\n\nFor an integral prime ideal $\\mathfrak{p}$ to represent the trivial class in $\\mathrm{Cl}_{\\mathfrak{m}}$, it must belong to $P_{K,1}(\\mathfrak{m})$. This entails two conditions:\n1.  $\\mathfrak{p}$ must be a principal ideal, i.e., $\\mathfrak{p} = (\\pi)$ for some $\\pi \\in \\mathcal{O}_K$.\n2.  There must exist a generator of $\\mathfrak{p}$ that is congruent to $1$ modulo $\\mathfrak{m}$. The generators of $(\\pi)$ are of the form $u\\pi$, where $u$ is a unit in $\\mathcal{O}_K$. The group of units is $U_K = \\{\\pm 1, \\pm i\\}$.\n\nThus, the necessary and sufficient condition for a prime ideal $\\mathfrak{p}=(\\pi)$ coprime to $\\mathfrak{m}$ to split completely in $K_{\\mathfrak{m}}$ is that there exists a unit $u \\in U_K$ such that $u\\pi \\equiv 1 \\pmod{(1+i)^n}$.\n\nWe now apply this to prime ideals of $\\mathcal{O}_K$ lying over rational primes $p$. The prime $p=2$ is ramified in $K$ as $2\\mathcal{O}_K = (1+i)^2$, so the prime ideal $\\mathfrak{p}_2 = (1+i)$ is not coprime to $\\mathfrak{m}=(1+i)^n$ and thus ramifies in $K_{\\mathfrak{m}}$. We consider odd primes $p$.\n\n**Case 1: $p \\equiv 1 \\pmod 4$**\nA rational prime $p$ satisfying $p \\equiv 1 \\pmod 4$ splits in $\\mathcal{O}_K$ into a product of two distinct principal prime ideals, $p\\mathcal{O}_K = \\mathfrak{p}\\overline{\\mathfrak{p}}$. We can write $p=a^2+b^2$ for integers $a,b$, so $\\mathfrak{p}=(\\pi)$ with $\\pi = a+bi$. Since $N(\\mathfrak{p})=p$ is odd, $\\mathfrak{p}$ is coprime to $\\mathfrak{m}=(1+i)^n$.\nThe condition for $\\mathfrak{p}=(\\pi)$ to split completely in $K_{\\mathfrak{m}}$ is: there exists a unit $u \\in \\{\\pm 1, \\pm i\\}$ such that $u\\pi \\equiv 1 \\pmod{(1+i)^n}$.\n\n**Case 2: $p \\equiv 3 \\pmod 4$**\nA rational prime $p$ satisfying $p \\equiv 3 \\pmod 4$ remains inert in $\\mathcal{O}_K$. The prime ideal lying above $p$ is $\\mathfrak{p} = (p)$, which is principal. The generator is $\\pi=p$. Since $N(\\mathfrak{p})=p^2$ is odd, $\\mathfrak{p}$ is coprime to $\\mathfrak{m}$.\nThe condition for $\\mathfrak{p}=(p)$ to split completely in $K_{\\mathfrak{m}}$ is: there exists a unit $u \\in \\{\\pm 1, \\pm i\\}$ such that $up \\equiv 1 \\pmod{(1+i)^n}$.\nThe elements are $p, -p, ip, -ip$. Since $p$ is a rational integer, we can simplify this. For $n \\ge 2$, $(1+i)^n$ is divisible by $(1+i)^2=2i$, and thus by $2$. For $p$ to be congruent to $\\pm i \\pmod{(1+i)^n}$, it would have to be congruent modulo $2$. So $p \\equiv \\pm i \\pmod 2$. This means $p \\mp i = 2(c+di)$ for integers $c,d$. Thus $p=2c$ and $\\mp 1=2d$, which is impossible. Therefore, for $n \\ge 2$, a rational integer $p$ cannot be congruent to $\\pm i \\pmod{(1+i)^n}$.\nSo, the condition simplifies to $p \\equiv 1 \\pmod{(1+i)^n}$ or $p \\equiv -1 \\pmod{(1+i)^n}$.\n\n### Part 2: Calculation of the Degree $[K_{\\mathfrak{m}}:\\mathbb{Q}]$ for $n=6$\n\nThe degree of the extension is given by $[K_{\\mathfrak{m}}:\\mathbb{Q}] = [K_{\\mathfrak{m}}:K] \\cdot [K:\\mathbb{Q}]$.\nWe have $[K:\\mathbb{Q}] = [\\mathbb{Q}(i):\\mathbb{Q}]=2$.\nThe degree of the ray class field over the base field is the order of the ray class group: $[K_{\\mathfrak{m}}:K] = |\\mathrm{Cl}_{\\mathfrak{m}}|$.\n\nThe order of the ray class group $\\mathrm{Cl}_{\\mathfrak{m}}$ is given by the formula:\n$$|\\mathrm{Cl}_{\\mathfrak{m}}| = \\frac{h_K \\cdot |(\\mathcal{O}_K/\\mathfrak{m})^\\times| \\cdot 2^{r_1}}{|U_K : U_{K,1}(\\mathfrak{m})|}$$\nFor $K=\\mathbb{Q}(i)$ and $\\mathfrak{m}=(1+i)^6$:\n1.  The class number $h_K=1$, as $\\mathbb{Z}[i]$ is a principal ideal domain.\n2.  The number of real embeddings is $r_1=0$. The factor $2^{r_1}$ is $1$.\n3.  We need to compute the order of the unit group of the quotient ring, $|(\\mathcal{O}_K/\\mathfrak{m})^\\times|$. The modulus is a power of the prime ideal $\\mathfrak{p}_2=(1+i)$. The formula for the order of the group of units is $|(\\mathcal{O}_K/\\mathfrak{p}^n)^\\times| = N(\\mathfrak{p})^{n-1}(N(\\mathfrak{p})-1)$. The norm of $\\mathfrak{p}_2$ is $N(1+i)=1^2+1^2=2$.\n    For $n=6$:\n    $$|(\\mathcal{O}_K/(1+i)^6)^\\times| = N((1+i))^5(N((1+i))-1) = 2^5(2-1) = 32.$$\n4.  We determine the index $|U_K : U_{K,1}(\\mathfrak{m})|$. This is the order of the image of the unit group $U_K$ in $(\\mathcal{O}_K/\\mathfrak{m})^\\times$. The group of units is $U_K=\\{\\pm 1, \\pm i\\}$. The modulus is $\\mathfrak{m}=(1+i)^6$. Let's simplify the ideal representation:\n    $$(1+i)^2 = 2i$$\n    $$(1+i)^6 = ((1+i)^2)^3 = (2i)^3 = 8i^3 = -8i.$$\n    Since $-i$ is a unit, the ideal generated by $-8i$ is the same as the ideal generated by $8$. So $\\mathfrak{m}=(8)$. The congruence condition becomes $u \\equiv 1 \\pmod 8$ for $u \\in U_K$.\n    The subgroup $U_{K,1}(\\mathfrak{m})$ consists of units $u$ satisfying this congruence.\n    -   $u=1$: $1 \\equiv 1 \\pmod 8$. This is true.\n    -   $u=-1$: $-1 \\equiv 1 \\pmod 8 \\iff 8 | (1 - (-1)) \\iff 8|2$. False.\n    -   $u=i$: $i \\equiv 1 \\pmod 8 \\iff 8 | (1-i)$ in $\\mathbb{Z}[i]$. Taking norms, $N(8)=64$ must divide $N(1-i)=2$. False.\n    -   $u=-i$: $-i \\equiv 1 \\pmod 8 \\iff 8 | (1+i)$. Taking norms, $N(8)=64$ must divide $N(1+i)=2$. False.\n    So, $U_{K,1}(\\mathfrak{m}) = \\{1\\}$, and its order is $|U_{K,1}(\\mathfrak{m})|=1$.\n    The index is $|U_K : U_{K,1}(\\mathfrak{m})| = |U_K|/|U_{K,1}(\\mathfrak{m})| = 4/1 = 4$.\n\nNow we can compute the order of the ray class group for $\\mathfrak{m}=(1+i)^6$:\n$$|\\mathrm{Cl}_{(1+i)^6}| = \\frac{1 \\cdot 32}{4} = 8.$$\nSo, $[K_{(1+i)^6}:K] = 8$.\n\nFinally, the degree of the ray class field over $\\mathbb{Q}$ is:\n$$[K_{(1+i)^6}:\\mathbb{Q}] = [K_{(1+i)^6}:K] \\cdot [K:\\mathbb{Q}] = 8 \\cdot 2 = 16.$$", "answer": "$$\\boxed{16}$$", "id": "3022544"}, {"introduction": "The true power of class field theory lies in its ability to explicitly describe abelian extensions and their Galois groups. This advanced problem demonstrates this capability by asking you to compute a specific Frobenius element, an essential generator of Galois groups in number theory. Set in the field of Eisenstein integers, $\\mathbb{Q}(\\zeta_3)$, this exercise [@problem_id:3022545] guides you through using the Artin reciprocity law to connect a global Frobenius automorphism to a local calculation involving the cubic residue symbol. This practice solidifies the link between Galois theory, ray class groups, and the computational tools of reciprocity laws, moving from calculating the size of a group to identifying its specific elements.", "problem": "Let $K = \\mathbb{Q}(\\sqrt{-3}) = \\mathbb{Q}(\\zeta_{3})$ with discriminant $d = -3$, where $\\zeta_{3} = \\exp(2\\pi i/3)$. Let $\\mathfrak{p}$ be the unique prime of $\\mathcal{O}_{K}$ above $3$, equivalently $\\mathfrak{p} = (1 - \\zeta_{3})$, and let $\\mathfrak{m} = \\mathfrak{p}^{3}$ be the modulus. Denote by $K_{\\mathfrak{m}}$ the ray class field of $K$ modulo $\\mathfrak{m}$, and by $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K)$ the Frobenius element at an unramified prime ideal $\\mathfrak{q}$ of $\\mathcal{O}_{K}$.\n\nUsing only the foundational definitions of the Artin map, local reciprocity, and the residue symbol, proceed from first principles to identify $K_{\\mathfrak{m}}$ with a concrete cyclotomic extension and to compute the Frobenius element for a specific prime. In particular, argue from global and local class field theory that $K_{\\mathfrak{m}}$ is a cyclic extension of $K$ of degree $3$ which embeds into the cyclotomic field $\\mathbb{Q}(\\zeta_{9})$, and fix the generator $\\sigma \\in \\operatorname{Gal}(K_{\\mathfrak{m}}/K)$ by the rule $\\sigma(\\zeta_{9}) = \\zeta_{9}^{4}$.\n\nLet $p = 43$. Note that $p \\equiv 1 \\pmod{3}$ and hence $p$ splits in $K$. Let $\\mathfrak{q} \\subset \\mathcal{O}_{K}$ be any prime ideal lying above $p$. Using the residue symbol and local reciprocity at the places of $K$ dividing $\\mathfrak{m}$, determine the unique integer $k \\in \\{0,1,2\\}$ such that\n$$\n\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K) \\;=\\; \\sigma^{k}.\n$$\nGive your final answer as the single integer $k$. No rounding is required.", "solution": "The user wants me to solve a number theory problem.\n\n### Step 1: Problem Validation\n\n**1.1. Extract Givens**\n-   $K = \\mathbb{Q}(\\sqrt{-3}) = \\mathbb{Q}(\\zeta_{3})$\n-   $d = -3$ is the discriminant of $K$.\n-   $\\zeta_{3} = \\exp(2\\pi i/3)$.\n-   $\\mathcal{O}_{K}$ is the ring of integers of $K$.\n-   $\\mathfrak{p}$ is the unique prime of $\\mathcal{O}_{K}$ above $3$.\n-   $\\mathfrak{p} = (1 - \\zeta_{3})$.\n-   $\\mathfrak{m} = \\mathfrak{p}^{3}$ is the modulus.\n-   $K_{\\mathfrak{m}}$ is the ray class field of $K$ modulo $\\mathfrak{m}$.\n-   $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K)$ is the Frobenius element at an unramified prime ideal $\\mathfrak{q}$ of $\\mathcal{O}_{K}$.\n-   The problem instructs to use foundational definitions of the Artin map, local reciprocity, and the residue symbol.\n-   It is stated that $K_{\\mathfrak{m}}$ is a cyclic extension of $K$ of degree $3$ which embeds into $\\mathbb{Q}(\\zeta_{9})$.\n-   A generator $\\sigma \\in \\operatorname{Gal}(K_{\\mathfrak{m}}/K)$ is fixed by the rule $\\sigma(\\zeta_{9}) = \\zeta_{9}^{4}$.\n-   $p = 43$.\n-   $p \\equiv 1 \\pmod{3}$.\n-   $p$ splits in $K$.\n-   $\\mathfrak{q} \\subset \\mathcal{O}_{K}$ is any prime ideal lying above $p$.\n-   The task is to determine the unique integer $k \\in \\{0,1,2\\}$ such that $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K) = \\sigma^{k}$.\n\n**1.2. Validate Using Extracted Givens**\nThe problem is well-defined within the standard framework of algebraic number theory and class field theory. All givens are factually correct and consistent.\n-   The field $K = \\mathbb{Q}(\\sqrt{-3})$ is the cyclotomic field $\\mathbb{Q}(\\zeta_3)$, with ring of integers $\\mathcal{O}_K = \\mathbb{Z}[\\zeta_3]$ and class number $h_K=1$.\n-   The prime $3$ is ramified in $K$: $(3) = (1-\\zeta_3)^2 = \\mathfrak{p}^2$ where $\\mathfrak{p}$ is the prime ideal $(1-\\zeta_3)$ of norm $3$.\n-   The prime $p=43$ is congruent to $1 \\pmod 3$, so it splits in $K$.\n-   The problem asks for the computation of a specific Frobenius element in a ray class field, which is a standard procedure in class field theory. The setup is not incomplete, contradictory, or ambiguous.\n-   The requested methodology (using the residue symbol and reciprocity) is appropriate for this type of problem.\n\n**1.3. Verdict and Action**\nThe problem is valid. I will proceed to provide a complete solution.\n\n### Step 2: Solution\n\nThe problem asks for the determination of an integer $k$ describing the Frobenius element $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K)$ in terms of a given generator $\\sigma$. We will proceed by first identifying the ray class field $K_{\\mathfrak{m}}$ and its Galois group, and then using the Artin map and the cubic residue symbol to compute the Frobenius element.\n\n**1. Identification of the Ray Class Field $K_{\\mathfrak{m}}$**\nThe field $K=\\mathbb{Q}(\\zeta_3)$ has class number $h_K=1$. The ray class group modulo $\\mathfrak{m}=\\mathfrak{p}^3$ is given by the isomorphism\n$$ C_{\\mathfrak{m}} \\cong (\\mathcal{O}_K / \\mathfrak{m})^* / \\text{im}(\\mathcal{O}_K^*) $$\nThe group of units in $\\mathcal{O}_K$ is $\\mathcal{O}_K^* = \\{\\pm 1, \\pm \\zeta_3, \\pm \\zeta_3^2\\}$, a cyclic group of order $6$. The norm of the modulus is $N(\\mathfrak{m}) = N(\\mathfrak{p}^3) = N(\\mathfrak{p})^3 = 3^3 = 27$. The group of units of the residue ring $(\\mathcal{O}_K / \\mathfrak{p}^3)^*$ has order $\\phi(\\mathfrak{p}^3) = N(\\mathfrak{p}^3) - N(\\mathfrak{p}^2) = 27 - 9 = 18$. The image of $\\mathcal{O}_K^*$ in $(\\mathcal{O}_K / \\mathfrak{p}^3)^*$ is the entire group $\\mathcal{O}_K^*$ itself, as no unit other than $1$ is congruent to $1$ modulo $\\mathfrak{p}^3 = (1-\\zeta_3)^3$. The order of this image is $6$.\nTherefore, the order of the ray class group is $|C_{\\mathfrak{m}}| = 18/6 = 3$. By class field theory, the ray class field $K_{\\mathfrak{m}}$ is a cyclic cubic extension of $K$.\n\nThe problem states that $K_{\\mathfrak{m}}$ embeds into $\\mathbb{Q}(\\zeta_9)$. The field $\\mathbb{Q}(\\zeta_9)$ is a degree $6$ extension of $\\mathbb{Q}$. Since $K = \\mathbb{Q}(\\zeta_3) = \\mathbb{Q}(\\zeta_9^3) \\subset \\mathbb{Q}(\\zeta_9)$, the extension $\\mathbb{Q}(\\zeta_9)/K$ is of degree $6/2 = 3$. It is known to be cyclic. An extension $L/K$ is the ray class field for modulus $\\mathfrak{f}$ if $\\mathfrak{f}$ is the conductor of the extension. We identify $K_{\\mathfrak{m}}$ with $L = \\mathbb{Q}(\\zeta_9)$. The extension $\\mathbb{Q}(\\zeta_9)/\\mathbb{Q}$ is ramified only at the prime $3$. Therefore, the extension $\\mathbb{Q}(\\zeta_9)/K$ can only be ramified at primes above $3$, i.e., at $\\mathfrak{p}$. This extension is $L = K(\\zeta_9)$, and one can show it is a Kummer extension $L=K(\\sqrt[3]{\\zeta_3})$. The conductor of such an extension is known to be $\\mathfrak{p}^3$. By the uniqueness property of class fields, we have $K_{\\mathfrak{m}} = \\mathbb{Q}(\\zeta_9)$.\n\n**2. The Galois Group and the Artin Map**\nThe Galois group $\\operatorname{Gal}(K_{\\mathfrak{m}}/K)$ is identified with $\\operatorname{Gal}(\\mathbb{Q}(\\zeta_9)/K)$. An automorphism $\\tau \\in \\operatorname{Gal}(\\mathbb{Q}(\\zeta_9)/\\mathbb{Q})$ is determined by its action on $\\zeta_9$, $\\tau_j(\\zeta_9)=\\zeta_9^j$ for some $j \\in (\\mathbb{Z}/9\\mathbb{Z})^*$. Such an automorphism fixes $K=\\mathbb{Q}(\\zeta_3)$ if it fixes $\\zeta_3 = \\zeta_9^3$. This requires $(\\zeta_9^j)^3 = \\zeta_9^{3j} = \\zeta_9^3$, which implies $3j \\equiv 3 \\pmod{9}$, or $j \\equiv 1 \\pmod{3}$. The values of $j \\in \\{1,2,4,5,7,8\\}$ satisfying this are $j \\in \\{1,4,7\\}$.\nThus, $\\operatorname{Gal}(K_{\\mathfrak{m}}/K) = \\{\\tau_1, \\tau_4, \\tau_7\\}$.\nThe problem specifies the generator $\\sigma = \\tau_4$, where $\\sigma(\\zeta_9) = \\zeta_9^4$. We check that $\\sigma^2(\\zeta_9) = \\sigma(\\zeta_9^4) = (\\zeta_9^4)^4 = \\zeta_9^{16} = \\zeta_9^7$, so $\\sigma^2 = \\tau_7$. And $\\sigma^3 = \\tau_1 = \\text{id}$. So $\\operatorname{Gal}(K_{\\mathfrak{m}}/K) = \\langle \\sigma \\rangle$.\n\nSince $K_{\\mathfrak{m}} = K(\\zeta_9)$ is a Kummer extension, there is a canonical isomorphism of character groups $\\chi: \\operatorname{Gal}(K_{\\mathfrak{m}}/K) \\to \\mu_3$, where $\\mu_3 = \\{\\zeta_3^0, \\zeta_3^1, \\zeta_3^2\\}$ is the group of third roots of unity. This map is given by $\\tau \\mapsto \\frac{\\tau(\\zeta_9)}{\\zeta_9}$. Let's find the image of our generator $\\sigma$:\n$$ \\chi(\\sigma) = \\frac{\\sigma(\\zeta_9)}{\\zeta_9} = \\frac{\\zeta_9^4}{\\zeta_9} = \\zeta_9^3 = \\zeta_3 $$\nSo, $\\sigma$ corresponds to the generator $\\zeta_3$ of $\\mu_3$. Consequently, $\\sigma^k$ corresponds to $\\zeta_3^k$.\n\n**3. Computing the Frobenius Element**\nThe Frobenius element $\\operatorname{Frob}_{\\mathfrak{q}}(K_{\\mathfrak{m}}/K)$ can be determined via the Artin map. For a Kummer extension $L=K(\\sqrt[n]{a})/K$, the action of the Frobenius element $\\operatorname{Frob}_{\\mathfrak{q}}$ is related to the $n$-th power residue symbol. The character applied to the Frobenius element gives the residue symbol:\n$$ \\chi(\\operatorname{Frob}_{\\mathfrak{q}}) = \\left(\\frac{\\zeta_3}{\\mathfrak{q}}\\right)_3 $$\nHere, we are identifying $K(\\zeta_9)$ with $K(\\sqrt[3]{\\zeta_3})$. The cubic residue symbol $\\left(\\frac{\\alpha}{\\mathfrak{q}}\\right)_3$ is the unique third root of unity congruent to $\\alpha^{(N(\\mathfrak{q})-1)/3}$ modulo $\\mathfrak{q}$.\n\nThe prime is $p=43$. We need to find a prime ideal $\\mathfrak{q}$ in $\\mathcal{O}_K = \\mathbb{Z}[\\zeta_3]$ lying above $43$. We look for an element $\\pi = a+b\\zeta_3$ with norm $N(\\pi) = a^2-ab+b^2=43$.\nFor $b=1$, we have $a^2-a+1=43$, which gives $a^2-a-42=0$, or $(a-7)(a+6)=0$. We can choose $a=7$, so $\\pi = 7+\\zeta_3$. Let $\\mathfrak{q} = (\\pi) = (7+\\zeta_3)$.\nThe norm of $\\mathfrak{q}$ is $N(\\mathfrak{q})=43$.\nWe compute the cubic residue symbol:\n$$ \\left(\\frac{\\zeta_3}{\\mathfrak{q}}\\right)_3 \\equiv \\zeta_3^{(N(\\mathfrak{q})-1)/3} \\pmod{\\mathfrak{q}} $$\nThe exponent is $(43-1)/3 = 42/3 = 14$.\n$$ \\zeta_3^{14} = (\\zeta_3^3)^4 \\cdot \\zeta_3^2 = 1^4 \\cdot \\zeta_3^2 = \\zeta_3^2 $$\nSo, we have $\\chi(\\operatorname{Frob}_{\\mathfrak{q}}) = \\zeta_3^2$.\n\n**4. Determining $k$**\nWe are looking for the integer $k \\in \\{0, 1, 2\\}$ such that $\\operatorname{Frob}_{\\mathfrak{q}} = \\sigma^k$. Applying the character $\\chi$ to this equation, we get:\n$$ \\chi(\\operatorname{Frob}_{\\mathfrak{q}}) = \\chi(\\sigma^k) = (\\chi(\\sigma))^k $$\nSubstituting the values we found:\n$$ \\zeta_3^2 = (\\zeta_3)^k = \\zeta_3^k $$\nThis implies that $k \\equiv 2 \\pmod{3}$. Since $k$ must be in the set $\\{0, 1, 2\\}$, we conclude that $k=2$.\nThe argument involving local reciprocity as mentioned in the prompt provides the theoretical underpinning for relating the global Artin map for the ideal $\\mathfrak{q}$ to local properties at the ramified prime $\\mathfrak{p}$, which ultimately justifies the use of the residue symbol reciprocity law, but the direct calculation with the residue symbol is sufficient and correct.", "answer": "$$\n\\boxed{2}\n$$", "id": "3022545"}]}