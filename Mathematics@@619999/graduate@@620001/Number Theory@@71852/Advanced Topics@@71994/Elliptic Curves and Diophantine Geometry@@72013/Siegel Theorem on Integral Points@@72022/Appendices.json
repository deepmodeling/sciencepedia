{"hands_on_practices": [{"introduction": "Before delving into the powerful results of Siegel's theorem, it is crucial to establish a firm understanding of the fundamental objects we are studying. The nature of a \"point\" on a curve changes dramatically depending on the number system we allow for its coordinates. This exercise challenges you to formalize the distinctions between integral points ($C(\\mathbb{Z})$), $S$-integral points ($C(\\mathbb{Z}_S)$), and rational points ($C(\\mathbb{Q})$), and to correctly apply the major theorems that govern their finiteness, including those of Siegel, Faltings, and Mordell-Weil [@problem_id:3023797]. Mastering these concepts is the first step toward appreciating the depth and applicability of Diophantine geometry.", "problem": "Let $C/\\mathbb{Q}$ be an affine curve given by a single equation $F(x_{1},\\dots,x_{n})=0$ with $F \\in \\mathbb{Z}[x_{1},\\dots,x_{n}]$ and consider its sets of points with coordinates in various rings and fields. Let $S$ be a finite set of rational primes and let $\\mathbb{Z}_{S}$ denote the localization of $\\mathbb{Z}$ obtained by inverting all primes in $S$. Consider the specific affine plane curve $C$ given by the equation $y^{2}=x^{3}-2$.\n\nSelect all statements that are correct.\n\nA. For a fixed integral affine model $F(x_{1},\\dots,x_{n})=0$ defining $C$, the sets $C(\\mathbb{Z})$, $C(\\mathbb{Q})$, and $C(\\mathbb{Z}_{S})$ are defined by requiring the coordinates $(x_{1},\\dots,x_{n})$ to lie in $\\mathbb{Z}$, $\\mathbb{Q}$, and $\\mathbb{Z}_{S}$ respectively and to satisfy $F(x_{1},\\dots,x_{n})=0$. The set $C(\\mathbb{Z})$ depends on the chosen integral affine model, whereas $C(\\mathbb{Q})$ depends only on the isomorphism class of $C$ over $\\mathbb{Q}$.\n\nB. One has the explicit description\n$$\n\\mathbb{Z}_{S}=\\left\\{\\frac{a}{b}\\in\\mathbb{Q} : a\\in\\mathbb{Z},\\, b\\in\\mathbb{Z}\\setminus\\{0\\},\\, \\text{and all prime divisors of } b \\text{ lie in } S\\right\\},\n$$\nwhich is equivalent to saying $\\mathbb{Z}_{S}$ is obtained from $\\mathbb{Z}$ by inverting precisely the primes in $S$.\n\nC. For the curve $y^{2}=x^{3}-2$, the points $(3,5)$ and $(3,-5)$ lie in $C(\\mathbb{Z})$. Moreover, by Siegel’s theorem on integral points, $C(\\mathbb{Z})$ is finite.\n\nD. For the curve $y^{2}=x^{3}-2$, the set $C(\\mathbb{Q})$ is finite because the curve has genus $1$.\n\nE. For any finite set $S$ of primes, Siegel’s theorem implies that $C(\\mathbb{Z}_{S})$ is finite provided $C$ has genus at least $1$ or, more generally, the affine curve has sufficiently many points at infinity; in particular, for $y^{2}=x^{3}-2$, the set $C(\\mathbb{Z}_{S})$ is finite.\n\nF. For any affine curve over $\\mathbb{Q}$, the set $C(\\mathbb{Z})$ is invariant under birational maps and hence independent of the chosen integral affine model of $C$.", "solution": "The user wants me to validate and solve a problem concerning integral and rational points on affine curves, with a focus on Siegel's theorem.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n\n-   $C/\\mathbb{Q}$ is an affine curve given by a single equation $F(x_{1},\\dots,x_{n})=0$ with $F \\in \\mathbb{Z}[x_{1},\\dots,x_{n}]$.\n-   $S$ is a finite set of rational primes.\n-   $\\mathbb{Z}_{S}$ is the localization of $\\mathbb{Z}$ obtained by inverting all primes in $S$.\n-   $C(\\mathbb{Z})$, $C(\\mathbb{Q})$, and $C(\\mathbb{Z}_{S})$ are the sets of points on $C$ with coordinates in $\\mathbb{Z}$, $\\mathbb{Q}$, and $\\mathbb{Z}_{S}$ respectively.\n-   A specific affine plane curve $C$ is given by the equation $y^{2}=x^{3}-2$.\n\n**Step 2: Validate Using Extracted Givens**\n\n-   **Scientifically Grounded**: The problem is situated in the field of Diophantine geometry, a branch of number theory. All terms used—affine curve, integral model, ring of $S$-integers ($\\mathbb{Z}_{S}$), rational points ($C(\\mathbb{Q})$), integral points ($C(\\mathbb{Z})$), genus, Siegel's theorem—are standard, well-defined mathematical concepts. The specific curve $y^{2}=x^{3}-2$ is a canonical example of a Mordell equation, representing an elliptic curve. The premises are factually and scientifically sound.\n-   **Well-Posed**: The task is to evaluate the correctness of six distinct mathematical propositions (A-F). Each proposition is a statement that can be proven true or false based on established mathematical theorems. The problem is well-posed.\n-   **Objective**: The problem statement uses formal, precise mathematical language. There are no subjective, ambiguous, or opinion-based claims.\n-   **Completeness and Consistency**: The problem provides sufficient context and definitions to analyze the given statements. There are no contradictions in the setup.\n-   **Other Flaws**: The problem is not unrealistic, ill-posed, trivial, or unverifiable. It addresses non-trivial concepts in number theory.\n\n**Step 3: Verdict and Action**\n\nThe problem statement is valid. I will proceed to the solution.\n\n### Solution Derivation and Option Analysis\n\nThe problem asks to identify all correct statements about points on affine curves.\n\n**A. For a fixed integral affine model $F(x_{1},\\dots,x_{n})=0$ defining $C$, the sets $C(\\mathbb{Z})$, $C(\\mathbb{Q})$, and $C(\\mathbb{Z}_{S})$ are defined by requiring the coordinates $(x_{1},\\dots,x_{n})$ to lie in $\\mathbb{Z}$, $\\mathbb{Q}$, and $\\mathbb{Z}_{S}$ respectively and to satisfy $F(x_{1},\\dots,x_{n})=0$. The set $C(\\mathbb{Z})$ depends on the chosen integral affine model, whereas $C(\\mathbb{Q})$ depends only on the isomorphism class of $C$ over $\\mathbb{Q}$.**\n\nThe first part is a correct statement of the definitions of these sets of points.\nThe second part claims that $C(\\mathbb{Z})$ depends on the integral model, while $C(\\mathbb{Q})$ does not. Let's analyze this.\nAn \"integral affine model\" for a curve $C$ over $\\mathbb{Q}$ is an affine scheme $C_{\\mathbb{Z}}$ over $\\operatorname{Spec}(\\mathbb{Z})$ whose generic fiber is $C$. Different models can be isomorphic over $\\mathbb{Q}$ but not over $\\mathbb{Z}$.\nConsider the affine line over $\\mathbb{Q}$, which is $\\mathbb{A}^{1}_{\\mathbb{Q}}$. Let the coordinate be $t$. One integral model is given by the equation $y=x$ in $\\mathbb{A}^{2}_{\\mathbb{Z}}$. The integral points $C_1(\\mathbb{Z})$ are $\\{(k, k) \\in \\mathbb{Z}^2 \\mid k \\in \\mathbb{Z}\\}$. This set is isomorphic to $\\mathbb{Z}$.\nNow, consider a change of coordinate $t' = 2t$. This is an isomorphism over $\\mathbb{Q}$. The abstract curve is still $\\mathbb{A}^{1}_{\\mathbb{Q}}$. A new integral model could be $y=2x$. The integral points $C_2(\\mathbb{Z})$ are $\\{(k, 2k) \\in \\mathbb{Z}^2 \\mid k \\in \\mathbb{Z}\\}$. The sets of points $\\{(k,k)\\}$ and $\\{(k,2k)\\}$ are clearly different. Thus, the set of integral points $C(\\mathbb{Z})$ depends on the chosen integral affine model.\nThe set of rational points $C(\\mathbb{Q})$ consists of points whose coordinates are in $\\mathbb{Q}$. An isomorphism of curves over $\\mathbb{Q}$ is given by polynomial maps with rational coefficients. If $\\phi: C_1 \\to C_2$ is such an isomorphism and $P \\in C_1(\\mathbb{Q})$, its coordinates are rational. The coordinates of $\\phi(P)$ are computed by evaluating polynomials with rational coefficients at rational numbers, which yields rational numbers. Thus, $\\phi(P) \\in C_2(\\mathbb{Q})$. The inverse map $\\phi^{-1}$ also maps rational points to rational points. Hence, an isomorphism over $\\mathbb{Q}$ induces a bijection between the sets of rational points, meaning $C(\\mathbb{Q})$ is an invariant of the $\\mathbb{Q}$-isomorphism class of the curve.\nThe statement is entirely accurate.\n\nTherefore, statement A is **Correct**.\n\n**B. One has the explicit description\n$$\n\\mathbb{Z}_{S}=\\left\\{\\frac{a}{b}\\in\\mathbb{Q} : a\\in\\mathbb{Z},\\, b\\in\\mathbb{Z}\\setminus\\{0\\},\\, \\text{and all prime divisors of } b \\text{ lie in } S\\right\\},\n$$\nwhich is equivalent to saying $\\mathbb{Z}_{S}$ is obtained from $\\mathbb{Z}$ by inverting precisely the primes in $S$.**\n\nThe ring of $S$-integers, $\\mathbb{Z}_{S}$, is defined as the subring of $\\mathbb{Q}$ consisting of rational numbers $x$ whose $p$-adic valuation $v_p(x)$ is non-negative for all primes $p \\notin S$.\nLet $x = a/b$ be a rational number, written in lowest terms with $b>0$. The condition $v_p(x) \\ge 0$ is equivalent to $p$ not dividing $b$. Therefore, for $x \\in \\mathbb{Z}_S$, the prime factors of its denominator (in lowest terms) must all belong to $S$. The description provided in the statement, that all prime divisors of the denominator $b$ lie in $S$, is equivalent to this definition. If $a/b$ is not in lowest terms, say $a/b = a'/b'$ where $\\gcd(a',b')=1$, then the prime divisors of $b'$ are a subset of the prime divisors of $b$. The condition that all prime divisors of $b$ lie in $S$ implies that all prime divisors of $b'$ lie in $S$.\nThis ring is also constructed as the localization of the ring $\\mathbb{Z}$ with respect to the multiplicative set $M$ generated by the primes in $S$. The set $M$ consists of all integers whose prime factors are in $S$. The localization $M^{-1}\\mathbb{Z}$ is the ring $\\mathbb{Z}[p^{-1} \\mid p \\in S]$, which is precisely the set of fractions whose denominators are divisible only by primes in $S$.\nThe statement is a standard and correct definition of the ring of $S$-integers.\n\nTherefore, statement B is **Correct**.\n\n**C. For the curve $y^{2}=x^{3}-2$, the points $(3,5)$ and $(3,-5)$ lie in $C(\\mathbb{Z})$. Moreover, by Siegel’s theorem on integral points, $C(\\mathbb{Z})$ is finite.**\n\nFirst, we check if the points are integral points on the curve $C$ defined by $y^{2}=x^{3}-2$.\nFor the point $(3,5)$, we have $x=3$ and $y=5$. Substituting into the equation gives $y^{2} = 5^{2} = 25$ and $x^{3}-2 = 3^{3}-2 = 27-2 = 25$. Since $25=25$ and both coordinates are integers, $(3,5) \\in C(\\mathbb{Z})$.\nFor the point $(3,-5)$, we have $x=3$ and $y=-5$. Substituting gives $y^{2} = (-5)^{2} = 25$ and $x^{3}-2 = 25$. Since the coordinates are integers, $(3,-5) \\in C(\\mathbb{Z})$.\nThe first part of the statement is correct.\nFor the second part, we invoke Siegel's theorem on integral points. The theorem states that for an affine curve $C$ over $\\mathbb{Q}$ defined by an irreducible polynomial $F(x,y)=0$ with integer coefficients, the set of integral points $C(\\mathbb{Z})$ is finite if the projective completion of $C$ has genus $g \\ge 1$.\nThe curve $C: y^{2}=x^{3}-2$ is an elliptic curve. Its projective completion $\\bar{C}$ is given by the homogeneous equation $Y^{2}Z = X^{3} - 2Z^{3}$ in $\\mathbb{P}^{2}$. This is a smooth plane cubic curve, and the genus of a smooth plane curve of degree $d$ is given by the formula $g = (d-1)(d-2)/2$. Here, $d=3$, so the genus is $g = (3-1)(3-2)/2 = 1$.\nSince the genus is $g=1$, the condition for Siegel's theorem is satisfied. Therefore, the set of integral points $C(\\mathbb{Z})$ on the curve $y^{2}=x^{3}-2$ is finite.\n\nTherefore, statement C is **Correct**.\n\n**D. For the curve $y^{2}=x^{3}-2$, the set $C(\\mathbb{Q})$ is finite because the curve has genus $1$.**\n\nThe curve $C: y^{2}=x^{3}-2$ is an elliptic curve, which is a curve of genus $g=1$. The statement claims this implies $C(\\mathbb{Q})$ is finite. This is a misunderstanding of a major result in Diophantine geometry. Faltings' theorem (formerly the Mordell conjecture) states that a curve of genus $g \\ge 2$ defined over a number field $K$ has only a finite number of $K$-rational points. This theorem does not apply to curves of genus $1$.\nFor elliptic curves (genus $1$), the Mordell-Weil theorem states that the set of rational points $E(\\mathbb{Q})$ forms a finitely generated abelian group. Such a group is of the form $E(\\mathbb{Q}) \\cong \\mathbb{Z}^{r} \\oplus T$, where $r$ is the rank and $T$ is the finite torsion subgroup. The set of rational points is finite if and only if the rank $r$ is $0$.\nHowever, many elliptic curves have rank $r > 0$. For the specific curve $y^{2}=x^{3}-2$, it is a known result that its rank over $\\mathbb{Q}$ is $r=1$. The point $(3,5)$ is a generator of the free part of the group. Since the rank is non-zero, the group $C(\\mathbb{Q})$ is infinite. The presence of one point of infinite order, like $(3,5)$, implies the existence of infinitely many distinct rational points, such as $2(3,5) = (129/100, -383/1000)$, $3(3,5)$, etc.\nThe reasoning \"because the curve has genus $1$\" is false, and the conclusion \"$C(\\mathbb{Q})$ is finite\" is also false.\n\nTherefore, statement D is **Incorrect**.\n\n**E. For any finite set $S$ of primes, Siegel’s theorem implies that $C(\\mathbb{Z}_{S})$ is finite provided $C$ has genus at least $1$ or, more generally, the affine curve has sufficiently many points at infinity; in particular, for $y^{2}=x^{3}-2$, the set $C(\\mathbb{Z}_{S})$ is finite.**\n\nThis statement refers to the generalization of Siegel's theorem to $S$-integral points. Let $C$ be an affine curve over $\\mathbb{Q}$, with smooth projective completion $\\bar{C}$ of genus $g$. Let $m$ be the number of points in $\\bar{C} \\setminus C$ (the \"points at infinity\"). The theorem on $S$-integral points states that for any finite set of primes $S$, the set $C(\\mathbb{Z}_S)$ is finite if the Euler characteristic of $\\bar{C} \\setminus (\\bar{C} \\setminus C)$ is negative, which is equivalent to the condition $2g-2+m > 0$.\nLet's analyze this condition:\n- If $g \\ge 2$, then $2g-2+m \\ge 2(2)-2+m = 2+m > 0$ for any $m \\ge 0$. So this is always true.\n- If $g=1$, the condition becomes $2(1)-2+m > 0$, which simplifies to $m > 0$. So we need at least one point at infinity. Any proper affine curve has at least one point at infinity.\n- If $g=0$, the condition is $2(0)-2+m > 0$, requiring $m > 2$, i.e., at least three points at infinity.\nThe first part of the statement \"provided $C$ has genus at least $1$\" is a slight simplification, but it's correct for any proper affine curve (for which $m \\ge 1$). The phrase \"or, more generally, the affine curve has sufficiently many points at infinity\" correctly alludes to the general condition $2g-2+m>0$. So the general explanation of the theorem is correct.\nNow we apply this to the specific curve $C: y^{2}=x^{3}-2$. As established in C, the genus is $g=1$. We need to find the number of points at infinity, $m$. The projective completion is $\\bar{C}: Y^{2}Z = X^{3} - 2Z^{3}$. The points at infinity are those with $Z=0$. Setting $Z=0$ gives $0 = X^{3}$, so $X=0$. In projective coordinates $[X:Y:Z]$, this corresponds to the point $[0:Y:0]$. Since projective coordinates are equivalent up to scaling, this is a single point, $[0:1:0]$. Thus, there is $m=1$ point at infinity.\nWe check the condition: $2g-2+m = 2(1)-2+1 = 1 > 0$. The condition is satisfied.\nTherefore, Siegel's theorem for $S$-integers implies that for any finite set of primes $S$, the set of $S$-integral points $C(\\mathbb{Z}_{S})$ for the curve $y^{2}=x^{3}-2$ is finite.\n\nTherefore, statement E is **Correct**.\n\n**F. For any affine curve over $\\mathbb{Q}$, the set $C(\\mathbb Z)$ is invariant under birational maps and hence independent of the chosen integral affine model of $C$.**\n\nThis statement claims that the set of integral points is an invariant of the birational class of a curve. This is false, and directly contradicts the conclusion in statement A.\nA birational map between two curves $C_1$ and $C_2$ over $\\mathbb{Q}$ is a rational map $\\phi: C_1 \\dashrightarrow C_2$ with a rational inverse. Such a map is not necessarily an isomorphism of affine varieties and does not necessarily preserve integrality of coordinates.\nFor instance, consider the singular curve $C_1$ given by $y^{2}=x^{3}$. Its set of integral points is $C_1(\\mathbb{Z}) = \\{(k^{2}, k^{3}) \\mid k \\in \\mathbb{Z}\\}$. This curve is birational to the affine line $\\mathbb{A}^1$ (let's call it $C_2$), whose coordinate we denote by $t$. The map from $C_2$ to $C_1$ is $t \\mapsto (t^{2}, t^{3})$. The set of integral points on $C_2$ is $C_2(\\mathbb{Z}) = \\{k \\mid k \\in \\mathbb{Z}\\} = \\mathbb{Z}$. The sets of integral points are clearly not the same.\nThe second part of the statement \"and hence independent of the chosen integral affine model\" is also false. As shown in the analysis of statement A, choosing a different integral model for the same curve over $\\mathbb{Q}$ can change the set of integral points. For example, $y=x$ and $y=2x$ are two models for $\\mathbb{A}^1_{\\mathbb{Q}}$, but have different sets of integral points in $\\mathbb{A}^2_{\\mathbb{Z}}$.\n\nTherefore, statement F is **Incorrect**.", "answer": "$$\\boxed{ABCE}$$", "id": "3023797"}, {"introduction": "Siegel's theorem provides the profound assurance that a curve of sufficient complexity has only finitely many integral points, but it is an \"ineffective\" result—it does not tell us how to find them. This is where classical number theory offers a powerful, practical tool. This practice guides you through the method of congruence obstructions, a technique that uses modular arithmetic to rule out entire families of integers as potential solutions [@problem_id:3023794]. By analyzing an equation modulo small primes, you will create a \"sieve\" that dramatically reduces the search space, illustrating a vital technique used in computational number theory to bridge the gap between abstract finiteness and concrete computation.", "problem": "Consider the affine plane curve given by the Diophantine equation $$y^{2} = x^{3} - 4.$$ Using only foundational facts from arithmetic of congruences and quadratic residues, proceed as follows.\n\n- For each prime $p \\in \\{2,3,5\\},$ determine the set of residue classes $x \\bmod p$ for which there exists a residue class $y \\bmod p$ satisfying $y^{2} \\equiv x^{3} - 4 \\pmod{p}.$ Your reasoning should start from the definition of a quadratic residue modulo a prime and basic properties of congruences, without invoking any specialized pre-computed tables.\n\n- Using the Chinese Remainder Theorem (CRT), deduce the total number $N$ of residue classes $x \\bmod 30$ that simultaneously satisfy the existence conditions for primes $p=2,3,5$ found above, i.e., such that there exists $y \\bmod 30$ with $y^{2} \\equiv x^{3} - 4 \\pmod{30}.$\n\n- In a concise discussion, explain how congruence obstructions modulo small primes complement Siegel’s theorem on integral points by eliminating infinite families of integers $x$ from consideration, thereby sharpening a finiteness statement into a practical sieve. Your explanation must be scientifically sound and self-contained, but it will not be graded for a numerical value.\n\nReport your final answer as the single integer $N.$ No rounding is required.", "solution": "The problem asks for the number of residue classes $x \\pmod{30}$ for which the congruence $y^{2} \\equiv x^{3} - 4 \\pmod{30}$ possesses a solution for $y$. By the Chinese Remainder Theorem, this single congruence is equivalent to a system of congruences for the prime factors of $30$, which are $2$, $3$, and $5$:\n$$\n\\begin{cases}\ny^{2} \\equiv x^{3} - 4 \\pmod{2} \\\\\ny^{2} \\equiv x^{3} - 4 \\pmod{3} \\\\\ny^{2} \\equiv x^{3} - 4 \\pmod{5}\n\\end{cases}\n$$\nA solution $y \\pmod{30}$ exists if and only if a solution for $y$ exists for each of these moduli. This requires that for a given $x$, the value of $x^{3} - 4$ must be a quadratic residue modulo $2$, $3$, and $5$, respectively. We analyze each case.\n\nFor each prime modulus $p$, we first determine the set of quadratic residues, which are the values $k$ for which the congruence $y^2 \\equiv k \\pmod{p}$ has a solution.\n\nCase 1: $p=2$\nThe congruence is $y^{2} \\equiv x^{3} - 4 \\pmod{2}$. Since $-4 \\equiv 0 \\pmod{2}$, this simplifies to $y^{2} \\equiv x^{3} \\pmod{2}$.\nThe possible residue classes for $x$ and $y$ are $\\{0, 1\\}$.\nThe quadratic residues modulo $2$ are:\n$0^{2} \\equiv 0 \\pmod{2}$\n$1^{2} \\equiv 1 \\pmod{2}$\nThe set of quadratic residues modulo $2$ is $\\{0, 1\\}$.\nWe test each possible value of $x \\pmod{2}$:\n- If $x \\equiv 0 \\pmod{2}$, then $x^{3} \\equiv 0^{3} \\equiv 0 \\pmod{2}$. Since $0$ is a quadratic residue modulo $2$, a solution for $y$ exists (namely $y \\equiv 0$).\n- If $x \\equiv 1 \\pmod{2}$, then $x^{3} \\equiv 1^{3} \\equiv 1 \\pmod{2}$. Since $1$ is a quadratic residue modulo $2$, a solution for $y$ exists (namely $y \\equiv 1$).\nThus, for $p=2$, a solution exists for all possible residue classes of $x$. The set of valid classes for $x$ is $S_2 = \\{0, 1\\}$. The number of such classes is $|S_2| = 2$.\n\nCase 2: $p=3$\nThe congruence is $y^{2} \\equiv x^{3} - 4 \\pmod{3}$. Since $-4 \\equiv 2 \\pmod{3}$, this simplifies to $y^{2} \\equiv x^{3} + 2 \\pmod{3}$.\nThe possible residue classes for $x$ are $\\{0, 1, 2\\}$.\nThe quadratic residues modulo $3$ are:\n$0^{2} \\equiv 0 \\pmod{3}$\n$1^{2} \\equiv 1 \\pmod{3}$\n$2^{2} \\equiv 4 \\equiv 1 \\pmod{3}$\nThe set of quadratic residues modulo $3$ is $\\{0, 1\\}$.\nWe test each possible value of $x \\pmod{3}$:\n- If $x \\equiv 0 \\pmod{3}$, then $x^{3} + 2 \\equiv 0^{3} + 2 \\equiv 2 \\pmod{3}$. Since $2$ is not a quadratic residue modulo $3$, no solution for $y$ exists.\n- If $x \\equiv 1 \\pmod{3}$, then $x^{3} + 2 \\equiv 1^{3} + 2 = 3 \\equiv 0 \\pmod{3}$. Since $0$ is a quadratic residue, a solution exists ($y \\equiv 0$).\n- If $x \\equiv 2 \\pmod{3}$, then $x^{3} + 2 \\equiv 2^{3} + 2 = 8 + 2 = 10 \\equiv 1 \\pmod{3}$. Since $1$ is a quadratic residue, solutions exist ($y \\equiv 1, 2$).\nThus, for $p=3$, the set of valid residue classes for $x$ is $S_3 = \\{1, 2\\}$. The number of such classes is $|S_3| = 2$.\n\nCase 3: $p=5$\nThe congruence is $y^{2} \\equiv x^{3} - 4 \\pmod{5}$. Since $-4 \\equiv 1 \\pmod{5}$, this simplifies to $y^{2} \\equiv x^{3} + 1 \\pmod{5}$.\nThe possible residue classes for $x$ are $\\{0, 1, 2, 3, 4\\}$.\nThe quadratic residues modulo $5$ are:\n$0^{2} \\equiv 0 \\pmod{5}$\n$1^{2} \\equiv 1 \\pmod{5}$\n$2^{2} \\equiv 4 \\pmod{5}$\n$3^{2} \\equiv 9 \\equiv 4 \\pmod{5}$\n$4^{2} \\equiv 16 \\equiv 1 \\pmod{5}$\nThe set of quadratic residues modulo $5$ is $\\{0, 1, 4\\}$.\nWe test each possible value of $x \\pmod{5}$:\n- If $x \\equiv 0 \\pmod{5}$, then $x^{3} + 1 \\equiv 0^{3} + 1 \\equiv 1 \\pmod{5}$. This is a quadratic residue.\n- If $x \\equiv 1 \\pmod{5}$, then $x^{3} + 1 \\equiv 1^{3} + 1 = 2 \\pmod{5}$. This is not a quadratic residue.\n- If $x \\equiv 2 \\pmod{5}$, then $x^{3} + 1 \\equiv 2^{3} + 1 = 9 \\equiv 4 \\pmod{5}$. This is a quadratic residue.\n- If $x \\equiv 3 \\pmod{5}$, then $x^{3} + 1 \\equiv 3^{3} + 1 = 28 \\equiv 3 \\pmod{5}$. This is not a quadratic residue.\n- If $x \\equiv 4 \\pmod{5}$, then $x^{3} + 1 \\equiv 4^{3} + 1 = 65 \\equiv 0 \\pmod{5}$. This is a quadratic residue.\nThus, for $p=5$, the set of valid residue classes for $x$ is $S_5 = \\{0, 2, 4\\}$. The number of such classes is $|S_5| = 3$.\n\nUsing the Chinese Remainder Theorem to find $N$:\nWe require an integer $x$ to simultaneously satisfy:\n$x \\pmod{2} \\in S_2 = \\{0, 1\\}$\n$x \\pmod{3} \\in S_3 = \\{1, 2\\}$\n$x \\pmod{5} \\in S_5 = \\{0, 2, 4\\}$\nThe Chinese Remainder Theorem guarantees that for each combination of choices, one from each set of conditions, there exists a unique solution for $x$ modulo $2 \\times 3 \\times 5 = 30$. The total number of such solutions $N$ is the product of the number of choices for each modulus.\n$N = |S_2| \\times |S_3| \\times |S_5| = 2 \\times 2 \\times 3 = 12$.\n\nDiscussion on Siegel's Theorem:\nSiegel's theorem on integral points states that an irreducible algebraic curve defined over $\\mathbb{Q}$ of genus $g \\ge 1$ has only a finite number of points with integer coordinates. The curve given by $y^2 = x^3 - 4$ is an elliptic curve, which has genus $g=1$. Therefore, Siegel's theorem guarantees that there are only finitely many integer solutions $(x, y)$ to this equation.\n\nHowever, the proof of Siegel's theorem is \"ineffective,\" meaning it does not provide an algorithm to find all the solutions or even an upper bound on their size. It is a pure existence (finiteness) result. This is where congruence conditions provide a critical, practical tool. If an integer pair $(x_0, y_0)$ is a solution to the Diophantine equation, it must also satisfy the congruence $y_0^2 \\equiv x_0^3 - 4 \\pmod m$ for any integer modulus $m$.\n\nBy analyzing the equation modulo small primes, as we have done, we identify necessary conditions (\"congruence obstructions\") that any integer solution must satisfy. For instance, our analysis showed that any integer solution must have an $x$-coordinate satisfying $x \\not\\equiv 0 \\pmod 3$. This single condition rules out an infinite family of integers—all multiples of $3$—from being candidates for the $x$-coordinate. The combined conditions modulo $30$ rule out $30 - 12 = 18$ of the $30$ residue classes, thus eliminating $60\\%$ of all integers from consideration. This process acts as a \"sieve.\" It complements the abstract finiteness statement of Siegel's theorem by providing a concrete method to drastically reduce the search space for the finite set of solutions, thereby sharpening a qualitative result into a powerful quantitative filter essential for computational searches.", "answer": "$$\\boxed{12}$$", "id": "3023794"}, {"introduction": "The proof of Siegel's theorem, and indeed many deep results in Diophantine approximation, hinges on a remarkable strategy: transforming the geometric problem of finding integral points on a curve into an algebraic problem of solving an \"S-unit equation\". This advanced practice provides a transparent and solvable example of this reduction at work. You will analyze a specific curve where the geometry at infinity naturally gives rise to a rational function whose values at integral points are constrained to be $S$-units [@problem_id:3023790]. Working through this example offers a valuable glimpse into the powerful machinery that connects the geometry of curves to the algebraic structure of unit groups, which lies at the very heart of the subject.", "problem": "Let $C \\subset \\mathbb{A}^{2}_{\\mathbb{Q}}$ be the affine plane curve defined by the equation $x y (x - y) = 6$. Let $\\overline{C} \\subset \\mathbb{P}^{2}_{\\mathbb{Q}}$ denote its projective closure obtained by homogenizing to $X Y (X - Y) = 6 Z^{3}$. \n\n(a) Identify the points at infinity of $\\overline{C}$, that is, the points of $\\overline{C}$ with $Z = 0$, and show that there are exactly three such points and that they are pairwise distinct.\n\n(b) Construct an explicit rational function $f \\in \\mathbb{Q}(C)^{\\times}$ whose poles are supported at the three points at infinity found in part (a), and justify (by a local analysis near each point at infinity) that each of these points is indeed a pole of $f$. You may, after providing justification, take $f(x,y) = x + y$ for the subsequent computation.\n\n(c) Explain how the identity $x y (x - y) = 6$ reduces the search for integral points $(x,y) \\in \\mathbb{Z}^{2}$ on $C$ to a unit equation over the set of primes $S = \\{2,3\\}$, where an $S$-unit is an element of $\\mathbb{Q}^{\\times}$ whose prime divisors lie in $S$. Deduce that if $(x,y) \\in \\mathbb{Z}^{2}$ lies on $C$, then $x$, $y$, and $x - y$ are pairwise coprime integers whose product is $6$, and conclude that $x - y \\in \\{\\pm 1, \\pm 2, \\pm 3, \\pm 6\\}$.\n\n(d) Determine all integral points $(x,y) \\in \\mathbb{Z}^{2}$ on $C$. Evaluate $f(x,y)$ at each such point and compute the product $\\prod f(x,y)$ over all integral points. Express your final answer as an exact integer without rounding.", "solution": "The problem is mathematically sound, self-contained, and well-posed. The concepts are standard in algebraic geometry and number theory. Each part of the problem is a logical step towards the final answer. The problem is valid, and a full solution is provided below.\n\n(a) We are asked to find the points at infinity of the projective closure $\\overline{C}$ of the curve $C$. The equation for $\\overline{C}$ is given by $X Y (X - Y) = 6 Z^{3}$. The points at infinity are those points on $\\overline{C}$ that lie on the line at infinity, which is defined by the equation $Z=0$.\n\nSubstituting $Z=0$ into the equation for $\\overline{C}$ gives:\n$$X Y (X - Y) = 6 (0)^{3}$$\n$$X Y (X - Y) = 0$$\nThis equation holds if and only if $X=0$, or $Y=0$, or $X-Y=0$. We find the points in the projective plane $\\mathbb{P}^{2}_{\\mathbb{Q}}$ corresponding to these conditions.\n1. If $X=0$, the point must be of the form $[0:Y:0]$. Since points in $\\mathbb{P}^2$ are defined up to a non-zero scalar multiple, and $Y$ cannot be $0$ (as $[0:0:0]$ is not a point), we can scale by $1/Y$ to get the unique point $P_1 = [0:1:0]$.\n2. If $Y=0$, the point must be of the form $[X:0:0]$. Similarly, $X$ cannot be $0$, so we can scale to get the unique point $P_2 = [1:0:0]$.\n3. If $X-Y=0$, then $X=Y$. The point is of the form $[X:X:0]$. Since $X \\neq 0$, we can scale to get the unique point $P_3 = [1:1:0]$.\n\nThese three points, $P_1 = [0:1:0]$, $P_2 = [1:0:0]$, and $P_3 = [1:1:0]$, are the points at infinity. They are pairwise distinct, as none of their coordinate vectors is a scalar multiple of another. For instance, the first two coordinates of $P_1$ are $(0,1)$, of $P_2$ are $(1,0)$, and of $P_3$ are $(1,1)$, which are distinct in $\\mathbb{P}^1$. Thus, there are exactly three distinct points at infinity.\n\n(b) We need to construct a rational function $f \\in \\mathbb{Q}(C)^{\\times}$ whose poles are supported at the three points at infinity. The problem suggests $f(x,y) = x+y$ and we must justify this.\nThe affine coordinates $(x,y)$ are related to the homogeneous coordinates $[X:Y:Z]$ by $x = X/Z$ and $y = Y/Z$. The function $f(x,y) = x+y$ corresponds to the rational function on $\\mathbb{P}^2$ given by:\n$$F = \\frac{X}{Z} + \\frac{Y}{Z} = \\frac{X+Y}{Z}$$\nThe restriction of $F$ to the curve $\\overline{C}$ defines an element of the function field $\\mathbb{Q}(C)$. The poles of this function on $\\overline{C}$ are the points $P \\in \\overline{C}$ where the denominator of $F$ vanishes to a higher order than the numerator. The denominator is $Z$, and its zeros on $\\overline{C}$ are precisely the points at infinity $P_1, P_2, P_3$.\n\nLet's check the numerator $X+Y$ at these points:\n- At $P_1 = [0:1:0]$, the numerator is $0+1=1 \\neq 0$.\n- At $P_2 = [1:0:0]$, the numerator is $1+0=1 \\neq 0$.\n- At $P_3 = [1:1:0]$, the numerator is $1+1=2 \\neq 0$.\n\nSince the numerator is non-zero at all three points at infinity while the denominator is zero, all three points are indeed poles of $f$. Since these are the only points on $\\overline{C}$ where $Z=0$, these are the only poles of $f$.\n\nTo be more rigorous and check the order of the poles, we perform a local analysis.\n- At $P_2=[1:0:0]$: We use the affine chart where $X \\neq 0$, with local coordinates $u=Y/X$ and $v=Z/X$. The point $P_2$ is at $(u,v)=(0,0)$. The curve equation $XY(X-Y)=6Z^3$ becomes $X(X u)(X(1-u)) = 6(Xv)^3$, which simplifies to $u(1-u)=6v^3$. The function $f=(X+Y)/Z$ becomes $f=(X(1+u))/(Xv) = (1+u)/v$. In the local ring of $\\overline{C}$ at $P_2$, $u=6v^3+u^2$, so $v$ can be taken as a local parameter. The function $f = v^{-1}(1+u)$ has a simple pole (order $1$) since $1+u$ is a unit locally.\n- At $P_1=[0:1:0]$: We use the chart where $Y \\neq 0$, with coordinates $u=X/Y$ and $v=Z/Y$. $P_1$ is at $(u,v)=(0,0)$. The curve becomes $u(u-1)=6v^3$. The function $f=(X+Y)/Z$ becomes $f=(Y(u+1))/(Yv)=(u+1)/v$. Here, $u^2-u=6v^3$, so $v$ is a local parameter. The function is $f=v^{-1}(u+1)$, which has a simple pole.\n- At $P_3=[1:1:0]$: We use the chart where $X \\neq 0$, with $u=Y/X, v=Z/X$. $P_3$ is at $(u,v)=(1,0)$. Let's use local coordinates $u' = u-1$ and $v' = v$, so the point is at $(0,0)$. The curve equation is $u(1-u)=6v^3$, which becomes $(u'+1)(-u') = 6(v')^3$, so $-u'-(u')^2 = 6(v')^3$. The function is $f=(1+u)/v = (2+u')/v'$. Here, $v'$ is a local parameter. The function $f=(v')^{-1}(2+u')$ has a simple pole.\nThe justification is complete. The function $f(x,y)=x+y$ has simple poles at exactly the three points at infinity.\n\n(c) We are given the Diophantine equation $xy(x-y)=6$ to solve for $(x,y) \\in \\mathbb{Z}^2$.\nFor any integer solution $(x,y)$, the numbers $x$, $y$, and $x-y$ must all be integers. The equation implies that their product is $6$. Therefore, each of $x$, $y$, and $x-y$ must be an integer divisor of $6$. The set of integer divisors of $6$ is $\\{\\pm 1, \\pm 2, \\pm 3, \\pm 6\\}$. Consequently, the value of $x-y$ must belong to this set. This reduces the search for all integer solutions to a finite number of cases.\n\nFurthermore, the integers $x, y, x-y$ are pairwise coprime. To see this, let $d=\\gcd(x,y)$. Then $d$ divides $x$ and $d$ divides $y$, which implies $d$ also divides their difference, $x-y$. Thus, $d^3$ must divide their product $xy(x-y)=6$. Since $d$ is an integer, $d^3$ must be an integer cube that divides $6$. The only such cubes are $1$ and $-1$. Since the gcd is positive by convention, $d=1$. A similar argument shows $\\gcd(x, x-y)=1$ and $\\gcd(y, x-y)=1$.\nSince $x$, $y$, and $x-y$ are pairwise coprime integers, the prime factors of $6$ (which are $2$ and $3$) must be distributed among them. The absolute values $\\{|x|,|y|,|x-y|\\}$ must be a permutation of $\\{1,2,3\\}$. This is a stronger conclusion, but the problem's requested deduction that $x-y \\in \\{\\pm 1, \\pm 2, \\pm 3, \\pm 6\\}$ is certainly true.\n\n(d) We find all integral points by considering the possible values for $d = x-y \\in \\{\\pm 1, \\pm 2, \\pm 3, \\pm 6\\}$.\n1.  $x-y=1 \\implies x=y+1$. The equation becomes $(y+1)y(1)=6 \\implies y^2+y-6=0 \\implies (y+3)(y-2)=0$. This gives $y=-3$ (so $x=-2$) or $y=2$ (so $x=3$). Points: $(-2,-3)$ and $(3,2)$.\n2.  $x-y=-1 \\implies x=y-1$. The equation becomes $(y-1)y(-1)=6 \\implies y^2-y+6=0$. The discriminant is $(-1)^2-4(1)(6)=-23<0$, so no real solutions.\n3.  $x-y=2 \\implies x=y+2$. The equation becomes $(y+2)y(2)=6 \\implies y^2+2y-3=0 \\implies (y+3)(y-1)=0$. This gives $y=-3$ (so $x=-1$) or $y=1$ (so $x=3$). Points: $(-1,-3)$ and $(3,1)$.\n4.  $x-y=-2 \\implies x=y-2$. The equation becomes $(y-2)y(-2)=6 \\implies y^2-2y+3=0$. The discriminant is $(-2)^2-4(1)(3)=-8<0$, so no real solutions.\n5.  $x-y=3 \\implies x=y+3$. The equation becomes $(y+3)y(3)=6 \\implies y^2+3y-2=0$. The discriminant is $3^2-4(1)(-2)=17$, not a perfect square, so no integer solutions.\n6.  $x-y=-3 \\implies x=y-3$. The equation becomes $(y-3)y(-3)=6 \\implies y^2-3y+2=0 \\implies (y-1)(y-2)=0$. This gives $y=1$ (so $x=-2$) or $y=2$ (so $x=-1$). Points: $(-2,1)$ and $(-1,2)$.\n7.  $x-y=6 \\implies x=y+6$. The equation becomes $(y+6)y(6)=6 \\implies y^2+6y-1=0$. The discriminant is $6^2-4(1)(-1)=40$, not a perfect square, no integer solutions.\n8.  $x-y=-6 \\implies x=y-6$. The equation becomes $(y-6)y(-6)=6 \\implies y^2-6y+1=0$. The discriminant is $(-6)^2-4(1)(1)=32$, not a perfect square, no integer solutions.\n\nThe integral points on $C$ are the six points: $(-2,-3)$, $(3,2)$, $(-1,-3)$, $(3,1)$, $(-2,1)$, and $(-1,2)$.\nNow we evaluate $f(x,y)=x+y$ at each of these points:\n- $f(-2,-3) = -2+(-3) = -5$\n- $f(3,2) = 3+2 = 5$\n- $f(-1,-3) = -1+(-3) = -4$\n- $f(3,1) = 3+1 = 4$\n- $f(-2,1) = -2+1 = -1$\n- $f(-1,2) = -1+2 = 1$\n\nFinally, we compute the product of these values:\n$$\\prod f(x,y) = (-5) \\times (5) \\times (-4) \\times (4) \\times (-1) \\times (1)$$\n$$\\prod f(x,y) = -(5 \\times 5) \\times (- (4 \\times 4)) \\times (-1)$$\n$$\\prod f(x,y) = (-25) \\times (-16) \\times (-1)$$\n$$\\prod f(x,y) = 400 \\times (-1) = -400$$\nThe product is $-400$.", "answer": "$$\\boxed{-400}$$", "id": "3023790"}]}