{"hands_on_practices": [{"introduction": "This exercise will provide a concrete, turn-by-turn walkthrough of a simple Ehrenfeucht-Fraïssé game. By determining the correct move for the Duplicator, you will practice the fundamental skill of maintaining a partial isomorphism, ensuring that the chosen elements match in their properties and relative order [@problem_id:1420765]. This foundational practice is crucial for building intuition before tackling more complex strategic challenges.", "id": "1420765", "problem": "In descriptive complexity, the Ehrenfeucht-Fraïssé (EF) game is a tool used to determine if two logical structures are elementarily equivalent. Consider two linear structures, $S_1$ and $S_2$, representing the strings \"abba\" and \"baab\" respectively.\n\nBoth structures have the universe of discourse $U = \\{1, 2, 3, 4\\}$. Their vocabulary consists of a binary relation symbol $<$ representing the usual ordering of integers, and two unary predicate symbols, $P_a$ and $P_b$.\n- For structure $S_1$ (\"abba\"): $P_a$ is true for elements $\\{1, 4\\}$ and $P_b$ is true for $\\{2, 3\\}$.\n- For structure $S_2$ (\"baab\"): $P_b$ is true for elements $\\{1, 4\\}$ and $P_a$ is true for $\\{2, 3\\}$.\n\nA 2-round EF game is played on $S_1$ and $S_2$. In each round $i=1, 2$, one player, the Spoiler, chooses an element from either $S_1$ or $S_2$. The other player, the Duplicator, responds by choosing an element from the other structure. Let Spoiler's choices be $p_1, p_2$ and Duplicator's corresponding choices be $q_1, q_2$. The Duplicator wins if the mapping $f(p_i) = q_i$ for $i \\in \\{1, 2\\}$ is a partial isomorphism. This means that for any chosen elements, their types and relative order must be preserved. Specifically, for all $i,j \\in \\{1,2\\}$:\n1. An element $p_i$ satisfies a predicate ($P_a$ or $P_b$) in its structure if and only if the corresponding element $q_i$ satisfies the same predicate in the other structure.\n2. The relation $p_i < p_j$ holds if and only if $q_i < q_j$ holds.\n\nSuppose the game proceeds as follows:\n- **Round 1**: The Spoiler chooses the element at position 2 in structure $S_1$. The Duplicator responds by choosing the element at position 1 in structure $S_2$.\n- **Round 2**: The Spoiler makes a second move, choosing the element at position 3 in structure $S_1$.\n\nTo avoid losing, what element must the Duplicator choose from structure $S_2$?\n\nA. 1\nB. 2\nC. 3\nD. 4\n\n", "solution": "Let's analyze the state of the game step by step to determine the Duplicator's correct move. The goal is to choose a second element such that the final mapping of two pairs of points constitutes a partial isomorphism between the structures $S_1$ and $S_2$.\n\n**Structures:**\n- $S_1$ (\"abba\"): $P_a = \\{1, 4\\}, P_b = \\{2, 3\\}$\n- $S_2$ (\"baab\"): $P_a = \\{2, 3\\}, P_b = \\{1, 4\\}$\nThe relation is $<$ on the universe $U = \\{1, 2, 3, 4\\}$.\n\n**Round 1:**\n- Spoiler picks $p_1 = 2$ from $S_1$.\n- Duplicator picks $q_1 = 1$ from $S_2$.\n\nLet's verify this first-round correspondence. In $S_1$, the element 2 satisfies predicate $P_b$. In $S_2$, the element 1 satisfies predicate $P_b$. The types match, so this is a valid partial isomorphism for the first round.\n\n**Round 2:**\n- Spoiler picks $p_2 = 3$ from $S_1$.\n- Duplicator must choose an element $q_2$ from $S_2$, where $q_2$ has not been chosen yet (i.e., $q_2 \\neq q_1=1$).\n\nThe final mapping will associate the pair $(p_1, p_2)$ from $S_1$ with the pair $(q_1, q_2)$ from $S_2$. The map is $f = \\{(p_1, q_1), (p_2, q_2)\\} = \\{(2, 1), (3, q_2)\\}$. We must find the value of $q_2$ that makes this a partial isomorphism.\n\n**Condition 1: Predicate Preservation**\nThe element chosen by Spoiler is $p_2=3$ from $S_1$. The predicate true for this element is $P_b$. Therefore, Duplicator's choice $q_2$ from $S_2$ must also satisfy the predicate $P_b$.\nThe elements in $S_2$ satisfying $P_b$ are $\\{1, 4\\}$.\nSince $q_1=1$ is already chosen, the only available element for $q_2$ that matches the predicate is $q_2=4$.\nAt this point, we have determined that if a valid move exists, it must be $q_2=4$. Options A, B, and C are incorrect because their corresponding elements in $S_2$ either are already taken or do not match the required predicate type ($P_a$ for 2 and 3, $P_b$ for 1).\n\n**Condition 2: Order Preservation**\nNow we must verify if choosing $q_2=4$ preserves the order relations. The full map is $\\{(2, 1), (3, 4)\\}$.\nWe need to check the condition $p_i < p_j \\iff q_i < q_j$ for all pairs of indices $(i,j)$ from $\\{1,2\\}$.\nThe non-trivial check is for $(i,j) = (1,2)$.\n- In $S_1$, we compare $p_1=2$ and $p_2=3$. The relation $p_1 < p_2$ (i.e., $2 < 3$) is TRUE.\n- In $S_2$, we compare $q_1=1$ and $q_2=4$. The relation $q_1 < q_2$ (i.e., $1 < 4$) is TRUE.\n\nThe condition becomes TRUE $\\iff$ TRUE, which is satisfied. The check for $(i,j)=(2,1)$ is equivalent ($p_2 < p_1 \\iff q_2 < q_1$ becomes FALSE $\\iff$ FALSE, which is also satisfied).\nTherefore, choosing $q_2=4$ preserves both the predicates and the order relation.\n\n**Conclusion:**\nThe only valid move for the Duplicator to not lose this round is to choose the element at position 4 in structure $S_2$. This corresponds to option D.", "answer": "$$\\boxed{D}$$"}, {"introduction": "Moving beyond simple move-by-move play, this problem challenges you to think strategically from the Spoiler's perspective. You will design a multi-round winning strategy that exploits a structural difference between two trees, leading to a state where the Duplicator cannot find a valid response [@problem_id:2972065]. This exercise demonstrates the power of the Ehrenfeucht-Fraïssé theorem, directly connecting a concrete game strategy to the minimal quantifier rank of a first-order sentence that can distinguish the two structures.", "id": "2972065", "problem": "Consider the first-order language $\\mathcal{L}$ with a unary predicate $R(x)$ for the root, a binary relation $C(x,y)$ interpreted as \"$y$ is a child of $x$\", and a binary relation $S(x,y)$ interpreted as \"$x$ and $y$ are distinct siblings\", i.e., there exists $p$ with $C(p,x)$ and $C(p,y)$ and $x \\neq y$. Let $\\mathcal{A}$ and $\\mathcal{B}$ be two finite rooted tree structures in the signature $\\mathcal{L}$, both of height at least $2$, with the intended interpretations of $R$, $C$, and $S$, satisfying:\n\n- In $\\mathcal{A}$ there is a node $u$ with exactly one child $v$, i.e., $C(u,v)$ holds and for all $w$, if $C(u,w)$ then $w=v$.\n- In $\\mathcal{B}$ every non-leaf node has at least two children.\n\nAssume the trees are otherwise similar enough that, beyond the stated differences, local neighborhoods up to depth $1$ can be matched across the two structures except for the single-child versus multiple-children phenomenon. Analyze the Ehrenfeucht–Fraïssé (EF) game (Ehrenfeucht–Fraïssé game) on these structures.\n\nWhich of the following statements are correct?\n\nA. In the $2$-round EF game on $\\mathcal{A}$ and $\\mathcal{B}$, Spoiler has a winning strategy by pebbling a parent and its unique child in $\\mathcal{A}$, because the sibling relation is already violated among the pebbled elements in $\\mathcal{B}$.\n\nB. Spoiler requires $3$ rounds to force a mismatch: after pebbling a parent $u$ and its unique child $v$ in $\\mathcal{A}$, Spoiler pebbles in round $3$ a second child $w$ of the matched parent $u'$ in $\\mathcal{B}$; Duplicator cannot respond with a sibling of $v$ in $\\mathcal{A}$ (none exists) while preserving the partial isomorphism, so Spoiler wins in $3$ rounds.\n\nC. The first-order property \"there exists a node with exactly one child\" is expressible in $\\mathcal{L}$, and the minimal quantifier rank of a sentence distinguishing $\\mathcal{A}$ from $\\mathcal{B}$ is $3$.\n\nD. Even with $3$ rounds, Duplicator can always respond so as to preserve a partial isomorphism by choosing leaves, hence the existence of a node with exactly one child cannot be detected by EF games in this signature.\n\nE. The sibling relation $S(x,y)$ is inessential for this separation: in the signature with only $R(x)$ and $C(x,y)$, Spoiler can still win in $3$ rounds by pebbling a parent, its unique child in $\\mathcal{A}$, and then a second child of the matched parent in $\\mathcal{B}$, thereby forcing a violation of the child relation configuration in $\\mathcal{A}$.", "solution": "The problem statement is first subjected to a rigorous validation process.\n\n### Step 1: Extract Givens\n- **Language $\\mathcal{L}$**: A first-order language with a signature containing:\n    - A unary predicate $R(x)$, interpreted as \"$x$ is a root\".\n    - A binary relation $C(x,y)$, interpreted as \"$y$ is a child of $x$\".\n    - A binary relation $S(x,y)$, interpreted as \"$x$ and $y$ are distinct siblings\", which is defined as \"there exists $p$ with $C(p,x)$ and $C(p,y)$ and $x \\neq y$\".\n- **Structures $\\mathcal{A}$ and $\\mathcal{B}$**: Two finite rooted tree structures for the signature $\\mathcal{L}$.\n- **Structure Properties**:\n    - Both $\\mathcal{A}$ and $\\mathcal{B}$ have a height of at least $2$.\n    - In structure $\\mathcal{A}$, there exists a node $u$ with exactly one child $v$.\n    - In structure $\\mathcal{B}$, every non-leaf node has at least two children.\n- **Assumption**: \"The trees are otherwise similar enough that, beyond the stated differences, local neighborhoods up to depth $1$ can be matched across the two structures except for the single-child versus multiple-children phenomenon.\"\n- **Task**: Analyze the Ehrenfeucht–Fraïssé (EF) game on $\\mathcal{A}$ and $\\mathcal{B}$ and determine the correctness of the given statements.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is well-defined within the context of mathematical logic, specifically model theory and finite model theory.\n- **Scientifically Grounded**: The concepts of first-order languages, structures, and Ehrenfeucht-Fraïssé games are standard and form a cornerstone of model theory. The problem setup is theoretically sound.\n- **Well-Posed**: The properties of structures $\\mathcal{A}$ and $\\mathcal{B}$ are given with sufficient precision to allow for a formal analysis. The distinguishing property is clearly stated. The question about the outcome of EF games is a standard-form question in this field. The definition of the sibling relation $S(x,y)$ is unambiguous.\n- **Objective**: The problem is stated in precise, objective, and formal mathematical language.\n- **Completeness**: The problem provides all necessary definitions to proceed. The informal phrase \"otherwise similar enough\" is a common device in such problems to instruct the solver to focus on the specified difference and not get sidetracked by other potential, trivial differences between the structures.\n\n### Step 3: Verdict and Action\nThe problem is valid. A rigorous derivation of the solution and analysis of the options will follow.\n\n***\n\n### Solution Derivation\n\nThe core of this problem lies in the Ehrenfeucht-Fraïssé theorem, which establishes a duality between a model-theoretic concept (elementary equivalence up to a certain quantifier rank) and a game-theoretic one (the existence of a winning strategy in an EF game). Specifically, two structures $\\mathcal{A}$ and $\\mathcal{B}$ are indistinguishable by any first-order sentence of quantifier rank at most $k$ if and only if Duplicator has a winning strategy in the $k$-round EF game, denoted $G_k(\\mathcal{A}, \\mathcal{B})$. If Spoiler has a winning strategy, the structures are distinguishable by a sentence of quantifier rank at most $k$.\n\nThe defining difference between $\\mathcal{A}$ and $\\mathcal{B}$ is that $\\mathcal{A}$ contains a node with exactly one child, whereas in $\\mathcal{B}$ all non-leaf nodes have at least two children. Let us express the property \"there exists a node with exactly one child\" as a first-order sentence in the language $\\mathcal{L}$. A node $u$ has exactly one child if there is some node $v$ that is a child of $u$, and any node $w$ that is a child of $u$ must be identical to $v$.\n\nThis translates to the following first-order sentence, $\\Phi$:\n$$ \\Phi \\equiv \\exists u \\, \\exists v \\, (C(u,v) \\land \\forall w \\, (C(u,w) \\rightarrow w=v)) $$\nThis sentence $\\Phi$ is true in $\\mathcal{A}$ (i.e., $\\mathcal{A} \\models \\Phi$) and false in $\\mathcal{B}$ (i.e., $\\mathcal{B} \\models \\neg\\Phi$). The quantifier rank of $\\Phi$ is $3$, due to the sequence of quantifiers $\\exists u \\, \\exists v \\, \\forall w$.\n\nAccording to the Ehrenfeucht-Fraïssé theorem, the existence of a distinguishing sentence of quantifier rank $3$ implies that Spoiler has a winning strategy in the $3$-round game $G_3(\\mathcal{A}, \\mathcal{B})$. To determine if $3$ is the *minimal* number of rounds required, we must analyze the $2$-round game, $G_2(\\mathcal{A}, \\mathcal{B})$. If Duplicator wins $G_2$, then no sentence of quantifier rank $2$ can distinguish the structures, and thus $3$ is the minimal rank.\n\n**Analysis of the 2-round game $G_2(\\mathcal{A}, \\mathcal{B})$**\nDuplicator has a winning strategy. A partial map $p = \\{(a_1, b_1), \\dots, (a_i, b_i)\\}$ covering pebbled elements from $\\mathcal{A}$ and $\\mathcal{B}$ is a partial isomorphism if for any atomic formula $\\psi(x_1, \\dots, x_m)$ and any choice of elements $c_1, \\dots, c_m$ from the domain of $p$, we have $\\mathcal{A} \\models \\psi(c_1, \\dots, c_m) \\iff \\mathcal{B} \\models \\psi(p(c_1), \\dots, p(c_m))$. The atomic formulas are $x=y$, $R(x)$, $C(x,y)$, and $S(x,y)$.\n\n- **Round 1**: Spoiler chooses an element, say $a_1 \\in A$. If Spoiler chooses the node $u \\in A$ with a unique child, Duplicator responds with a non-leaf node $u' \\in B$. Since both trees have height at least $2$, such nodes exist. Duplicator can maintain the partial isomorphism $\\{(u, u')\\}$. For instance, if $u$ is the root in $\\mathcal{A}$, Duplicator picks the root in $\\mathcal{B}$.\n- **Round 2**: Spoiler chooses another element, say $a_2 \\in A$.\n    - If Spoiler chooses $v \\in A$, the unique child of $u$, the pebbled set is $\\{u,v\\}$. The relation $C(u,v)$ holds. Duplicator must choose $v' \\in B$ such that $C(u',v')$ holds. Since $u'$ is non-leaf, it has at least two children, so Duplicator can pick one, call it $v'$. The map $\\{(u,u'), (v,v')\\}$ is a partial isomorphism. No atomic relations are violated. For instance, $S(u,v)$ is false, and $S(u',v')$ is also false, as they are not siblings.\n    - If Spoiler picks any other element $a_2 \\in A$, Duplicator's strategy is to pick a corresponding element $b_2 \\in B$ that satisfies the same local properties (e.g., being a root, a leaf, a child/parent/sibling of the already pebbled elements). Given the problem's assumption about similarity, Duplicator can always find such a match.\n\nAfter $2$ rounds, Duplicator can always maintain a partial isomorphism. Therefore, Duplicator wins $G_2(\\mathcal{A}, \\mathcal{B})$.\n\n**Analysis of the 3-round game $G_3(\\mathcal{A}, \\mathcal{B})$**\nSpoiler has a winning strategy that mirrors the distinguishing sentence $\\Phi$.\n\n- **Round 1**: Spoiler chooses the node $u \\in A$ which has a unique child. Duplicator must respond with a node $u' \\in B$. To avoid losing immediately, Duplicator must choose a non-leaf node $u'$ (otherwise the child relation property would be mismatched on the next move). We have the partial isomorphism $\\{(u, u')\\}$.\n- **Round 2**: Spoiler chooses the unique child $v \\in A$ of node $u$. Duplicator must respond with a child of $u'$, say $v' \\in B$. Since $u'$ is a non-leaf node in $\\mathcal{B}$, it has at least two children. Duplicator picks one of them. The map $\\{(u, u'), (v, v')\\}$ is a partial isomorphism.\n- **Round 3**: In $\\mathcal{B}$, the node $u'$ has at least one other child besides $v'$. Let Spoiler choose one such child, $w' \\in B$. Thus, $C(u', w')$ holds, $w' \\neq v'$, and they are distinct siblings, so $S(v', w')$ holds. Now, Duplicator must choose an element $w \\in A$ such that the map $\\{(u, u'), (v, v'), (w, w')\\}$ is a partial isomorphism. This requires that the relations holding for $(u', v', w')$ in $\\mathcal{B}$ also hold for $(u, v, w)$ in $\\mathcal{A}$. Specifically, Duplicator must find a $w \\in A$ such that:\n    1.  $C(u, w)$ holds (because $C(u', w')$ holds).\n    2.  $w \\neq v$ (because $w' \\neq v'$).\nHowever, by construction, $u \\in A$ has only one child, $v$. No such $w$ satisfying both conditions exists in $\\mathcal{A}$. Duplicator cannot make a legal move, and Spoiler wins.\n\nThis confirms that Spoiler wins $G_3(\\mathcal{A}, \\mathcal{B})$. Since Duplicator wins $G_2(\\mathcal{A}, \\mathcal{B})$, the minimal number of rounds for Spoiler to win is $3$.\n\n### Option-by-Option Analysis\n\n**A. In the $2$-round EF game on $\\mathcal{A}$ and $\\mathcal{B}$, Spoiler has a winning strategy by pebbling a parent and its unique child in $\\mathcal{A}$, because the sibling relation is already violated among the pebbled elements in $\\mathcal{B}$.**\nOur analysis shows that Duplicator, not Spoiler, has a winning strategy in the $2$-round game. The reasoning in the option is also flawed. After Spoiler pebbles $u$ and child $v$ in $\\mathcal{A}$ (over two rounds), and Duplicator responds with $u'$ and child $v'$ in $\\mathcal{B}$, the pebbled pairs are $(u,v)$ and $(u',v')$. Neither of these are siblings, so the relation $S$ is false for both pairs: $\\neg S(u,v)$ and $\\neg S(u',v')$. No violation of the sibling relation occurs.\n**Verdict: Incorrect.**\n\n**B. Spoiler requires $3$ rounds to force a mismatch: after pebbling a parent $u$ and its unique child $v$ in $\\mathcal{A}$, Spoiler pebbles in round $3$ a second child $w$ of the matched parent $u'$ in $\\mathcal{B}$; Duplicator cannot respond with a sibling of $v$ in $\\mathcal{A}$ (none exists) while preserving the partial isomorphism, so Spoiler wins in $3$ rounds.**\nThis option accurately describes the winning strategy for Spoiler in the $3$-round game derived above. It correctly identifies that the number of rounds required is $3$. The sequence of moves leads to a situation where Duplicator must find a second child for the node $u$ in $\\mathcal{A}$, which is impossible. Finding such a child would be equivalent to finding a sibling for $v$, which doesn't exist. The reasoning is sound.\n**Verdict: Correct.**\n\n**C. The first-order property \"there exists a node with exactly one child\" is expressible in $\\mathcal{L}$, and the minimal quantifier rank of a sentence distinguishing $\\mathcal{A}$ from $\\mathcal{B}$ is $3$.**\nAs demonstrated, the property can be expressed by the sentence $\\Phi \\equiv \\exists u \\, \\exists v \\, (C(u,v) \\land \\forall w \\, (C(u,w) \\rightarrow w=v))$. This sentence has a quantifier rank of $3$. Since Duplicator wins the $2$-round game, no sentence of quantifier rank $2$ or less can distinguish the structures. Therefore, the minimal quantifier rank of a distinguishing sentence is indeed $3$.\n**Verdict: Correct.**\n\n**D. Even with $3$ rounds, Duplicator can always respond so as to preserve a partial isomorphism by choosing leaves, hence the existence of a node with exactly one child cannot be detected by EF games in this signature.**\nThis is factually incorrect. We have explicitly constructed a winning strategy for Spoiler in the $3$-round game. The claim that Duplicator can always respond (e.g., \"by choosing leaves\") is false; in the final move of Spoiler's winning strategy, Duplicator has no valid response at all, regardless of whether any nodes are leaves or not. The property is detectable.\n**Verdict: Incorrect.**\n\n**E. The sibling relation $S(x,y)$ is inessential for this separation: in the signature with only $R(x)$ and $C(x,y)$, Spoiler can still win in $3$ rounds by pebbling a parent, its unique child in $\\mathcal{A}$, and then a second child of the matched parent in $\\mathcal{B}$, thereby forcing a violation of the child relation configuration in $\\mathcal{A}$.**\nThe problem states that $S(x,y)$ is interpreted as $\\exists p (C(p,x) \\land C(p,y) \\land x \\neq y)$. This means $S$ is explicitly definable in terms of $C$. Adding a definable relation to a language does not increase its expressive power. Therefore, if structures are distinguishable, they must be distinguishable in the original language without the defined relation. The winning strategy for Spoiler outlined above relies on finding a second child $w'$ of $u'$ in $\\mathcal{B}$. Duplicator fails because it cannot find a corresponding second child $w$ of $u$ in $\\mathcal{A}$. This failure stems from the properties of the child relation $C$ alone ($w$ must satisfy $C(u,w)$ and $w \\neq v$). The sibling relation $S$ is not necessary to demonstrate the contradiction. This option correctly states this fact.\n**Verdict: Correct.**\n\nFinal summary: Options B, C, and E are correct statements.", "answer": "$$\\boxed{BCE}$$"}, {"introduction": "This advanced practice explores the boundaries of what first-order logic can express. You will analyze a classic scenario where two structures are indistinguishable in the standard $k$-round Ehrenfeucht-Fraïssé game for a certain number of rounds $k$, yet are obviously different in a way that involves counting elements [@problem_id:2972054]. This exercise demonstrates a fundamental inexpressibility result for first-order logic and highlights why extensions, such as logics with counting quantifiers, are crucial in fields like database theory and finite model theory.", "id": "2972054", "problem": "Fix an integer $t \\geq 2$. Work in the relational signature $\\mathcal{L} = \\{U\\}$ with a single unary predicate $U$. Consider the two finite $\\mathcal{L}$-structures $\\mathcal{A}_{t}$ and $\\mathcal{B}_{t}$ whose underlying universes are the same fixed set $D = \\{1,2,\\dots,2t+1\\}$, but whose interpretations of $U$ differ as follows:\n- In $\\mathcal{A}_{t}$, $U^{\\mathcal{A}_{t}} = \\{1,2,\\dots,t\\}$, so exactly $t$ elements satisfy $U$ and $t+1$ elements do not.\n- In $\\mathcal{B}_{t}$, $U^{\\mathcal{B}_{t}} = \\{1,2,\\dots,t+1\\}$, so exactly $t+1$ elements satisfy $U$ and $t$ elements do not.\n\nUse only the fundamental definitions of the standard Ehrenfeucht–Fraïssé game for first-order logic (without counting quantifiers), the notion of quantifier rank, and the semantics of first-order logic with counting quantifiers (where a counting quantifier $\\exists^{\\geq m} x\\, \\varphi(x)$ asserts that at least $m$ elements satisfy $\\varphi$), together with the standard correspondence between Ehrenfeucht–Fraïssé games and indistinguishability at a given quantifier rank.\n\nAnswer the following in a way that demonstrates how and why these facts are true using first principles:\n\n1. Determine the largest integer $\\ell$ such that Duplicator has a winning strategy in the standard Ehrenfeucht–Fraïssé game of length $\\ell$ played on $\\mathcal{A}_{t}$ and $\\mathcal{B}_{t}$.\n\n2. Determine the minimal quantifier rank $r$ of a sentence in first-order logic with counting quantifiers that distinguishes $\\mathcal{A}_{t}$ from $\\mathcal{B}_{t}$.\n\nYour final answer must be a single row vector containing the two quantities from parts 1 and 2, in that order. No rounding is required.", "solution": "We begin by recalling the essentials of the Ehrenfeucht–Fraïssé game and its connection to indistinguishability at a fixed quantifier rank. In the standard $k$-round Ehrenfeucht–Fraïssé game on two structures over the same signature, Spoiler and Duplicator alternately place pebbles on elements of the two structures for $k$ rounds. Duplicator wins if the map from pebbled elements of one structure to the pebbled elements of the other structure is a partial isomorphism at the end of the game, meaning that it preserves and reflects all atomic formulas (here, equality and the unary predicate $U$). By the Ehrenfeucht–Fraïssé theorem, Duplicator has a winning strategy in the $k$-round game if and only if the two structures satisfy exactly the same first-order sentences of quantifier rank at most $k$.\n\nIn our setting, the signature has only equality and a unary predicate $U$. Thus the condition for a map between pebbled elements to be a partial isomorphism reduces to preserving equality and membership in $U$. Concretely, whenever Spoiler pebbles an element in one structure that either lies in $U$ or outside $U$, Duplicator must respond with an element in the other structure with the same $U$-status, while also respecting previously pebbled equalities and inequalities.\n\nWe proceed in two parts.\n\nPart 1: Largest $\\ell$ for which Duplicator wins the standard $\\ell$-round game.\n\nWe claim that the largest such $\\ell$ equals $t$.\n\nFirst, we prove that Duplicator wins for all $\\ell \\leq t$. Consider any play of the $\\ell$-round game with $\\ell \\leq t$. Maintain the following invariant after each round: the pebbled map pairs elements in $U^{\\mathcal{A}_{t}}$ with elements in $U^{\\mathcal{B}_{t}}$, and pairs elements in $D \\setminus U^{\\mathcal{A}_{t}}$ with elements in $D \\setminus U^{\\mathcal{B}_{t}}$, and no two distinct pebbles in one structure map to the same element in the other (so the map is a partial bijection between the corresponding color classes). This invariant ensures that all atomic formulas ($x=y$ and $U(x)$) are preserved and reflected, hence the map is a partial isomorphism.\n\nTo see Duplicator can maintain this invariant for $\\ell \\leq t$, observe the capacities of the color classes:\n- In $\\mathcal{A}_{t}$, there are $t$ elements in $U$ and $t+1$ not in $U$.\n- In $\\mathcal{B}_{t}$, there are $t+1$ elements in $U$ and $t$ not in $U$.\n\nSince at most $\\ell-1 \\leq t-1$ pebbles have been placed before any given round, and Spoiler can force at most one new pebble into a fixed color class per round, Duplicator always has an unused element in the corresponding color class to reply with, because each color class in both structures starts with at least $t$ elements. Thus the invariant is preserved for all $\\ell \\leq t$, and Duplicator wins.\n\nSecond, we prove that Spoiler wins for $\\ell = t+1$. Spoiler plays all $t+1$ rounds in $\\mathcal{B}_{t}$ by selecting, each time, a fresh element of $U^{\\mathcal{B}_{t}}$. Duplicator must respond each time with an element of $U^{\\mathcal{A}_{t}}$ to preserve the atomic formula $U(x)$. However, there are only $t$ elements of $U^{\\mathcal{A}_{t}}$, so after $t$ such moves, in the $(t+1)$-st move Duplicator runs out of available elements in $U^{\\mathcal{A}_{t}}$ and is forced to reply with an element outside $U^{\\mathcal{A}_{t}}$. This violates preservation of $U$, and Spoiler wins. Therefore, Duplicator cannot win for $\\ell = t+1$, and the largest $\\ell$ such that Duplicator has a winning strategy is exactly $t$.\n\nPart 2: Minimal quantifier rank $r$ in first-order logic with counting that distinguishes $\\mathcal{A}_{t}$ and $\\mathcal{B}_{t}$.\n\nRecall that first-order logic with counting allows counting quantifiers of the form $\\exists^{\\geq m} x\\, \\varphi(x)$, which assert that at least $m$ elements satisfy $\\varphi(x)$. The quantifier rank of $\\exists^{\\geq m} x\\, \\varphi(x)$ is $\\max\\{1, \\text{qr}(\\varphi)\\}$, that is, adding a counting quantifier increases the rank by at most $1$, independent of the magnitude of $m$.\n\nConsider the sentence $\\exists^{\\geq t+1} x\\, U(x)$. In $\\mathcal{B}_{t}$, exactly $t+1$ elements satisfy $U$, so the sentence is true. In $\\mathcal{A}_{t}$, exactly $t$ elements satisfy $U$, so the sentence is false. This sentence has quantifier rank $1$ because it consists of a single counting quantifier applied to an atomic formula. Therefore, there exists a sentence of quantifier rank $1$ in first-order logic with counting that distinguishes $\\mathcal{A}_{t}$ from $\\mathcal{B}_{t}$. No quantifier-free sentence can distinguish $\\mathcal{A}_{t}$ and $\\mathcal{B}_{t}$ because quantifier-free sentences in this signature without constant symbols reduce to Boolean combinations of tautologies about $U$ and equality with no parameters, which cannot access cardinalities. Hence, the minimal quantifier rank required is $r = 1$.\n\nThis distinguishing behavior can also be exhibited in the counting variant of the Ehrenfeucht–Fraïssé game: in a single counting move, Spoiler points to the unary predicate fiber $U^{\\mathcal{B}_{t}}$ and demands a matching family of $t+1$ distinct elements in $U^{\\mathcal{A}_{t}}$. Duplicator fails immediately because $|U^{\\mathcal{A}_{t}}| = t$.\n\nCollecting the results, the largest $\\ell$ for which Duplicator wins the standard game is $\\ell = t$, and the minimal quantifier rank in first-order logic with counting that distinguishes the structures is $r = 1$.", "answer": "$$\\boxed{\\begin{pmatrix} t & 1 \\end{pmatrix}}$$"}]}