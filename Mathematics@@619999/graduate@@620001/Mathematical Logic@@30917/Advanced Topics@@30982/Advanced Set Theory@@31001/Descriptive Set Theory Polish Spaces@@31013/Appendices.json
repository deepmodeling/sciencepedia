{"hands_on_practices": [{"introduction": "In analysis, it is often convenient to work with metrics that are bounded, yet many natural metrics, like the standard one on $\\mathbb{R}$, are not. This exercise explores a fundamental technique for transforming any given metric into an equivalent one that is bounded, without sacrificing essential properties like completeness or the underlying topology. By working through this construction, you will master a versatile tool used throughout topology and descriptive set theory [@problem_id:2971699].", "problem": "Let $(X,d)$ be a noncompact Polish space, meaning $X$ is separable and admits a compatible complete metric. In metric terms, a metric $d'$ on $X$ is said to be compatible with $d$ if it induces the same topology on $X$ as $d$. A metric space is called totally bounded if for every $\\varepsilon>0$ there exists a finite subset $F\\subseteq X$ such that the $\\varepsilon$-balls centered at points of $F$ cover $X$. A subset of a metric space is called precompact (also called relatively compact) if its closure is compact; for metric spaces, precompactness is equivalent to total boundedness.\n\nYour tasks are:\n- Starting from fundamental definitions and properties of metrics on Polish spaces, construct a metric $d_{\\mathrm{b}}$ on $X$ that is bounded and complete, and is compatible with the original topology induced by $d$. Justify that your construction yields a metric with these three properties using only basic principles.\n- Explain how one can ensure that total boundedness fails for $d_{\\mathrm{b}}$ when $X$ is not precompact, by connecting coverings by $\\varepsilon$-balls in $d$ and $d_{\\mathrm{b}}$ to the failure of total boundedness.\n- Specialize your construction to the concrete case $X=\\mathbb{R}$ with the usual metric $d(x,y)=|x-y|$ and provide the explicit formula for $d_{\\mathrm{b}}(x,y)$ as a closed-form expression.\n\nYour final answer must be the explicit analytic expression for $d_{\\mathrm{b}}(x,y)$ in the case $X=\\mathbb{R}$ with $d(x,y)=|x-y|$. No approximation is required.", "solution": "The problem as stated is mathematically sound and well-posed. We are given a noncompact Polish space $(X,d)$. By definition, a Polish space is a separable, completely metrizable topological space. The notation $(X,d)$ implies that $d$ is a compatible metric. For the space to be complete, we must assume that $d$ is a complete metric, which is the standard interpretation of the notation \"$(X,d)$ is a Polish space\". Thus, $(X,d)$ is a separable and complete metric space. As it is noncompact, by the Heine-Borel theorem for metric spaces, it is not totally bounded.\n\nWe address the three tasks in order.\n\nFirst, we construct a metric $d_{\\mathrm{b}}$ on $X$ that is bounded, complete, and compatible with the topology induced by $d$.\nLet the original metric be $d(x,y)$. We define a new function $d_{\\mathrm{b}}: X \\times X \\to \\mathbb{R}$ by the formula:\n$$d_{\\mathrm{b}}(x,y) = \\frac{d(x,y)}{1 + d(x,y)}$$\nWe must verify that $d_{\\mathrm{b}}$ is a metric and possesses the required properties.\n\n1.  **Verification that $d_{\\mathrm{b}}$ is a metric:**\n    -   **Non-negativity**: Since $d(x,y) \\ge 0$ for all $x,y \\in X$, it is clear that $d_{\\mathrm{b}}(x,y) = \\frac{d(x,y)}{1+d(x,y)} \\ge 0$.\n    -   **Identity of indiscernibles**: $d_{\\mathrm{b}}(x,y) = 0 \\iff \\frac{d(x,y)}{1+d(x,y)} = 0 \\iff d(x,y) = 0 \\iff x=y$.\n    -   **Symmetry**: $d_{\\mathrm{b}}(x,y) = \\frac{d(x,y)}{1+d(x,y)} = \\frac{d(y,x)}{1+d(y,x)} = d_{\\mathrm{b}}(y,x)$, using the symmetry of $d$.\n    -   **Triangle Inequality**: We need to show that for any $x,y,z \\in X$, $d_{\\mathrm{b}}(x,z) \\le d_{\\mathrm{b}}(x,y) + d_{\\mathrm{b}}(y,z)$.\n        Let the function $f: [0, \\infty) \\to [0, \\infty)$ be defined as $f(t) = \\frac{t}{1+t}$. Our metric is $d_{\\mathrm{b}}(x,y) = f(d(x,y))$.\n        The first derivative of $f$ is $f'(t) = \\frac{1(1+t) - t(1)}{(1+t)^2} = \\frac{1}{(1+t)^2}$. Since $f'(t)>0$ for all $t \\ge 0$, the function $f$ is strictly increasing.\n        The second derivative is $f''(t) = -2(1+t)^{-3}$, which is negative for $t \\ge 0$. Thus, $f$ is a concave function.\n        For a concave function $f$ with $f(0)=0$, it is known that $f$ is subadditive, i.e., $f(a+b) \\le f(a) + f(b)$ for all $a, b \\ge 0$.\n        Let $a=d(x,y)$ and $b=d(y,z)$. The triangle inequality for the metric $d$ states that $d(x,z) \\le d(x,y) + d(y,z) = a+b$.\n        Since $f$ is increasing, we have $f(d(x,z)) \\le f(a+b)$.\n        Using the subadditivity of $f$, we have $f(a+b) \\le f(a) + f(b)$.\n        Combining these inequalities, we get $f(d(x,z)) \\le f(d(x,y)) + f(d(y,z))$, which is precisely $d_{\\mathrm{b}}(x,z) \\le d_{\\mathrm{b}}(x,y) + d_{\\mathrm{b}}(y,z)$.\n        Thus, $d_{\\mathrm{b}}$ satisfies the triangle inequality and is a valid metric on $X$.\n\n2.  **Verification of Boundedness, Compatibility, and Completeness:**\n    -   **Boundedness**: For any $x,y \\in X$, $d(x,y) \\ge 0$, so $1+d(x,y) > d(x,y)$. Therefore, $d_{\\mathrm{b}}(x,y) = \\frac{d(x,y)}{1+d(x,y)} < 1$. The metric $d_{\\mathrm{b}}$ is bounded, for instance, by the constant $1$.\n    -   **Compatibility**: To show that $d$ and $d_{\\mathrm{b}}$ induce the same topology, it is sufficient to show that a sequence $(x_n)_{n \\in \\mathbb{N}}$ in $X$ converges to a point $x \\in X$ with respect to $d$ if and only if it converges to $x$ with respect to $d_{\\mathrm{b}}$.\n        -   Assume $d(x_n, x) \\to 0$ as $n \\to \\infty$. Then $d_{\\mathrm{b}}(x_n, x) = \\frac{d(x_n, x)}{1+d(x_n, x)} \\to \\frac{0}{1+0} = 0$. So convergence in $d$ implies convergence in $d_{\\mathrm{b}}$.\n        -   Assume $d_{\\mathrm{b}}(x_n, x) \\to 0$ as $n \\to \\infty$. Let $t_n = d(x_n, x)$. We are given $\\frac{t_n}{1+t_n} \\to 0$. This implies $t_n \\to 0$, because if $t_n$ did not converge to $0$, there would exist an $\\epsilon > 0$ and a subsequence $(t_{n_k})$ such that $t_{n_k} \\ge \\epsilon$ for all $k$. This would imply $\\frac{t_{n_k}}{1+t_{n_k}} \\ge \\frac{\\epsilon}{1+\\epsilon} > 0$, contradicting that the sequence converges to $0$. Thus, $d(x_n, x) \\to 0$.\n        Since sequential convergence is equivalent for both metrics, they induce the same topology.\n    -   **Completeness**: We need to show that $(X, d_{\\mathrm{b}})$ is a complete metric space, given that $(X, d)$ is complete. Let $(x_n)$ be a Cauchy sequence in $(X, d_{\\mathrm{b}})$. This means that for any $\\epsilon > 0$, there exists an integer $N$ such that for all $m,n > N$, $d_{\\mathrm{b}}(x_n, x_m) < \\epsilon$.\n        We want to show that $(x_n)$ is also a Cauchy sequence in $(X,d)$. Let $t_{mn} = d(x_n, x_m)$. The condition is $\\frac{t_{mn}}{1+t_{mn}} < \\epsilon$. This implies $t_{mn} < \\epsilon(1+t_{mn})$, which rearranges to $t_{mn}(1-\\epsilon) < \\epsilon$. For $\\epsilon \\in (0,1)$, we can write $t_{mn} < \\frac{\\epsilon}{1-\\epsilon}$.\n        Given any $\\delta > 0$, choose $\\epsilon = \\frac{\\delta}{1+\\delta}$. Note that $0 < \\epsilon < 1$. If $d_{\\mathrm{b}}(x_n, x_m) < \\epsilon$, then $d(x_n, x_m) < \\frac{\\epsilon}{1-\\epsilon} = \\frac{\\delta/(1+\\delta)}{1-\\delta/(1+\\delta)} = \\delta$. This shows that if $(x_n)$ is Cauchy with respect to $d_{\\mathrm{b}}$, it is also Cauchy with respect to $d$.\n        Since $(X, d)$ is a complete metric space, the Cauchy sequence $(x_n)$ converges to some limit $x \\in X$ with respect to the metric $d$.\n        As shown in the compatibility proof, convergence with respect to $d$ implies convergence with respect to $d_{\\mathrm{b}}$. Therefore, the sequence $(x_n)$ converges to $x$ in the metric $d_{\\mathrm{b}}$.\n        Since every Cauchy sequence in $(X, d_{\\mathrm{b}})$ converges to a point in $X$, the space $(X, d_{\\mathrm{b}})$ is complete.\n\nThis completes the first part of the problem.\n\nSecond, we explain why total boundedness fails for $(X, d_{\\mathrm{b}})$.\nA metric space is compact if and only if it is complete and totally bounded. We are given that $(X,d)$ is a complete metric space but is not compact. This necessarily implies that $(X,d)$ is not totally bounded.\nThe failure of total boundedness for $(X,d)$ means there exists an $\\varepsilon_0 > 0$ such that for any finite subset $F \\subset X$, the union of open balls $\\bigcup_{f \\in F} B_d(f, \\varepsilon_0)$ does not cover $X$.\nWe want to show that $(X, d_{\\mathrm{b}})$ is also not totally bounded. We relate the open balls in the two metrics. An open ball in $(X, d_{\\mathrm{b}})$ is defined as $B_{d_{\\mathrm{b}}}(x, \\delta) = \\{ y \\in X \\mid d_{\\mathrm{b}}(x,y) < \\delta \\}$.\nThe condition $d_{\\mathrm{b}}(x,y) < \\delta$ is equivalent to $\\frac{d(x,y)}{1+d(x,y)} < \\delta$, which (for $\\delta < 1$) is equivalent to $d(x,y) < \\frac{\\delta}{1-\\delta}$.\nThus, for $\\delta \\in (0,1)$, the open balls are related by $B_{d_{\\mathrm{b}}}(x, \\delta) = B_d\\left(x, \\frac{\\delta}{1-\\delta}\\right)$.\nLet's choose a specific $\\delta_0$ corresponding to the $\\varepsilon_0$ for which $(X, d)$ fails to have a finite $\\varepsilon_0$-net. We set $\\varepsilon_0 = \\frac{\\delta_0}{1-\\delta_0}$. Solving for $\\delta_0$ gives $\\delta_0 = \\frac{\\varepsilon_0}{1+\\varepsilon_0}$. Since $\\varepsilon_0 > 0$, we have $0 < \\delta_0 < 1$.\nWith this choice, we have $B_{d_{\\mathrm{b}}}(x, \\delta_0) = B_d(x, \\varepsilon_0)$ for all $x \\in X$.\nNow, suppose for the sake of contradiction that $(X, d_{\\mathrm{b}})$ is totally bounded. Then, for our specific $\\delta_0 > 0$, there must exist a finite set $F = \\{f_1, \\dots, f_k\\} \\subset X$ such that $X = \\bigcup_{i=1}^k B_{d_{\\mathrm{b}}}(f_i, \\delta_0)$.\nUsing the identity we derived, this means $X = \\bigcup_{i=1}^k B_d(f_i, \\varepsilon_0)$.\nBut this contradicts the fact that $(X,d)$ is not totally bounded, as no finite collection of balls of radius $\\varepsilon_0$ can cover $X$.\nTherefore, our assumption must be false, and $(X, d_{\\mathrm{b}})$ is not totally bounded.\n\nThird, we specialize the construction to $X=\\mathbb{R}$ with the usual metric $d(x,y)=|x-y|$.\nThe space $(\\mathbb{R}, d)$ is a Polish space because it is separable (the set of rational numbers $\\mathbb{Q}$ is a countable dense subset) and the metric $d(x,y)=|x-y|$ is complete. It is noncompact because it is not bounded. Thus, it fits the description of the space in the problem.\nApplying our construction for $d_{\\mathrm{b}}$ to this specific case, we substitute $d(x,y) = |x-y|$ into the formula:\n$$d_{\\mathrm{b}}(x,y) = \\frac{d(x,y)}{1+d(x,y)} = \\frac{|x-y|}{1+|x-y|}$$\nThis provides the explicit closed-form expression for the bounded, complete metric on $\\mathbb{R}$ that is compatible with the usual topology.", "answer": "$$\\boxed{\\frac{|x-y|}{1+|x-y|}}$$", "id": "2971699"}, {"introduction": "A key theorem in descriptive set theory states that any open subset of a Polish space is itself a Polish space. This is a powerful result, as open subsets of complete metric spaces are not generally complete. This practice guides you through the constructive proof of this theorem, where you will build a new, complete metric on an open set by ingeniously incorporating information about the distance to its boundary [@problem_id:2971701]. This hands-on proof solidifies why the family of Polish spaces is exceptionally stable.", "problem": "Let $\\left(X,d\\right)$ be a complete metric space and let $U \\subseteq X$ be a nonempty open subset. Working only from foundational definitions of completeness, the induced subspace topology, and the distance from a point to a set, carry out the following.\n\n- Construct explicitly a metric $\\hat{d}$ on $U$ such that the topology induced by $\\hat{d}$ agrees with the subspace topology that $U$ inherits from $\\left(X,d\\right)$, and such that $\\left(U,\\hat{d}\\right)$ is complete.\n- Prove rigorously that your $\\hat{d}$ is a metric, that it is topologically compatible with $d$ restricted to $U$, and that $\\left(U,\\hat{d}\\right)$ is complete.\n\nFinally, specialize to the case $X=\\mathbb{R}$ with the usual Euclidean metric $d(x,y)=|x-y|$ and $U=(0,1)$. Using your construction of $\\hat{d}$, compute the exact value of the $\\hat{d}$-distance between the two points $x=\\tfrac{1}{4}$ and $y=\\tfrac{2}{3}$. Express your final numerical answer as a reduced fraction. No rounding is required.", "solution": "The problem asks for the construction and validation of a complete metric on a nonempty open subset of a complete metric space, which is topologically equivalent to the original subspace topology. We are then asked to apply this construction to a specific case.\n\nLet $\\left(X,d\\right)$ be a complete metric space and let $U \\subseteq X$ be a nonempty open subset. The set $C = X \\setminus U$ is a nonempty closed subset of $X$. Since $U$ is nonempty, $C$ is a proper subset of $X$.\n\n**Construction of the metric $\\hat{d}$**\n\nFor any point $x \\in U$, we define the distance from $x$ to the closed set $C$ as:\n$$\nd(x, C) = \\inf_{z \\in C} d(x, z)\n$$\nSince $x \\in U$ and $U$ is open, there exists an open ball $B(x, r) = \\{y \\in X \\mid d(x,y) < r\\}$ for some $r > 0$ such that $B(x, r) \\subseteq U$. This means $B(x, r) \\cap C = \\emptyset$. Consequently, for any $z \\in C$, $d(x,z) \\ge r$. Therefore, $d(x,C) \\ge r > 0$ for all $x \\in U$.\n\nWe define a function $\\phi: U \\to \\mathbb{R}$ by $\\phi(x) = \\frac{1}{d(x, C)}$. This function is well-defined since its denominator is never zero.\nWe now construct the new metric $\\hat{d}$ on $U$ as follows:\n$$\n\\hat{d}(x, y) = d(x, y) + |\\phi(x) - \\phi(y)| = d(x, y) + \\left| \\frac{1}{d(x, C)} - \\frac{1}{d(y, C)} \\right|\n$$\nfor all $x, y \\in U$.\n\n**Proof that $\\hat{d}$ is a metric on $U$**\n\nWe must verify the three metric axioms for $\\hat{d}$. For any $x, y, z \\in U$:\n\n1.  **Non-negativity and Identity of Indiscernibles**:\n    $d(x,y) \\ge 0$ and $\\left| \\frac{1}{d(x, C)} - \\frac{1}{d(y, C)} \\right| \\ge 0$, so their sum $\\hat{d}(x,y) \\ge 0$.\n    If $x=y$, then $d(x,x)=0$ and $d(x,C)=d(y,C)$, so $\\hat{d}(x,x) = 0 + 0 = 0$.\n    Conversely, if $\\hat{d}(x,y) = 0$, then both non-negative terms must be zero. $d(x,y) = 0$ implies $x=y$. Thus, $\\hat{d}(x,y)=0$ if and only if $x=y$.\n\n2.  **Symmetry**:\n    The metric $d$ is symmetric, so $d(x,y) = d(y,x)$. The absolute value is also symmetric, $|\\alpha - \\beta| = |\\beta - \\alpha|$.\n    $$\n    \\hat{d}(x,y) = d(x,y) + \\left| \\frac{1}{d(x, C)} - \\frac{1}{d(y, C)} \\right| = d(y,x) + \\left| \\frac{1}{d(y, C)} - \\frac{1}{d(x, C)} \\right| = \\hat{d}(y,x)\n    $$\n\n3.  **Triangle Inequality**:\n    We use the triangle inequality for the metric $d$ on $X$ and for the absolute value on $\\mathbb{R}$:\n    $d(x, z) \\le d(x, y) + d(y, z)$.\n    $\\left| \\frac{1}{d(x, C)} - \\frac{1}{d(z, C)} \\right| = \\left| \\left(\\frac{1}{d(x, C)} - \\frac{1}{d(y, C)}\\right) + \\left(\\frac{1}{d(y, C)} - \\frac{1}{d(z, C)}\\right) \\right| \\le \\left| \\frac{1}{d(x, C)} - \\frac{1}{d(y, C)} \\right| + \\left| \\frac{1}{d(y, C)} - \\frac{1}{d(z, C)} \\right|$.\n    Adding these two inequalities, we get:\n    $$\n    d(x, z) + \\left| \\frac{1}{d(x, C)} - \\frac{1}{d(z, C)} \\right| \\le \\left( d(x, y) + \\left| \\frac{1}{d(x, C)} - \\frac{1}{d(y, C)} \\right| \\right) + \\left( d(y, z) + \\left| \\frac{1}{d(y, C)} - \\frac{1}{d(z, C)} \\right| \\right)\n    $$\n    which is precisely $\\hat{d}(x, z) \\le \\hat{d}(x, y) + \\hat{d}(y, z)$.\n    Thus, $\\hat{d}$ is a metric on $U$.\n\n**Proof of Topological Equivalence**\n\nThe topology induced by $\\hat{d}$ is the same as the subspace topology on $U$ (induced by $d$) if and only if a sequence $(x_n)_{n \\in \\mathbb{N}} \\subseteq U$ converges to a point $x \\in U$ with respect to $d$ if and only if it converges to $x$ with respect to $\\hat{d}$.\n\nFirst, let's establish the continuity of the function $x \\mapsto d(x, C)$. For any $x_1, x_2 \\in X$ and any $z \\in C$, we have $d(x_1, z) \\le d(x_1, x_2) + d(x_2, z)$. Taking the infimum over all $z \\in C$ on the right side yields $d(x_1, C) \\le d(x_1, x_2) + d(x_2, C)$. This gives $d(x_1, C) - d(x_2, C) \\le d(x_1, x_2)$. By symmetry, $d(x_2, C) - d(x_1, C) \\le d(x_2, x_1) = d(x_1, x_2)$. Combining these gives $|d(x_1, C) - d(x_2, C)| \\le d(x_1, x_2)$. This shows that $x \\mapsto d(x, C)$ is Lipschitz continuous on $X$, and therefore on $U$.\n\n$(\\Rightarrow)$ Assume $x_n \\to x$ in $(U, d)$, i.e., $d(x_n, x) \\to 0$. We need to show $\\hat{d}(x_n, x) \\to 0$.\n$$\n\\hat{d}(x_n, x) = d(x_n, x) + \\left| \\frac{1}{d(x_n, C)} - \\frac{1}{d(x, C)} \\right|\n$$\nThe first term $d(x_n, x) \\to 0$ by assumption. For the second term, since $x \\mapsto d(x,C)$ is continuous, $d(x_n, x) \\to 0$ implies $d(x_n, C) \\to d(x, C)$. As $x \\in U$, we have $d(x, C) > 0$. The function $t \\mapsto 1/t$ is continuous for $t > 0$. Therefore, $\\frac{1}{d(x_n, C)} \\to \\frac{1}{d(x, C)}$. This implies $\\left| \\frac{1}{d(x_n, C)} - \\frac{1}{d(x, C)} \\right| \\to 0$. So, $\\hat{d}(x_n, x) \\to 0$.\n\n$(\\Leftarrow)$ Assume $x_n \\to x$ in $(U, \\hat{d})$, i.e., $\\hat{d}(x_n, x) \\to 0$. From the definition $\\hat{d}(x_n, x) = d(x_n, x) + \\left| \\dots \\right|$, and since both terms are non-negative, we must have $d(x_n, x) \\to 0$.\n\nThis establishes that the two metrics induce the same topology on $U$.\n\n**Proof of Completeness of $(U, \\hat{d})$**\n\nLet $(x_n)_{n \\in \\mathbb{N}}$ be a Cauchy sequence in $(U, \\hat{d})$. This means that for any $\\epsilon > 0$, there exists an integer $N$ such that for all $n, m > N$, $\\hat{d}(x_n, x_m) < \\epsilon$.\n$$\nd(x_n, x_m) + \\left| \\frac{1}{d(x_n, C)} - \\frac{1}{d(x_m, C)} \\right| < \\epsilon\n$$\nThis implies two things:\n1.  $d(x_n, x_m) < \\epsilon$. Thus, $(x_n)$ is a Cauchy sequence in $(X, d)$.\n2.  $\\left| \\frac{1}{d(x_n, C)} - \\frac{1}{d(x_m, C)} \\right| < \\epsilon$. Thus, the sequence of real numbers $(\\phi(x_n))_{n \\in \\mathbb{N}} = \\left(\\frac{1}{d(x_n, C)}\\right)_{n \\in \\mathbb{N}}$ is a Cauchy sequence in $\\mathbb{R}$.\n\nSince $(X, d)$ is complete, the Cauchy sequence $(x_n)$ converges to some limit $x \\in X$. That is, $\\lim_{n \\to \\infty} d(x_n, x) = 0$. We must show that $x \\in U$.\n\nSince $(\\phi(x_n))$ is a Cauchy sequence in the complete space $\\mathbb{R}$, it converges to some limit $L \\in \\mathbb{R}$. A convergent sequence is bounded, so there exists a constant $M > 0$ such that $|\\phi(x_n)| \\le M$ for all $n$. This means $\\frac{1}{d(x_n, C)} \\le M$, which implies $d(x_n, C) \\ge \\frac{1}{M} > 0$ for all $n$.\n\nNow we use the continuity of the function $g(y) = d(y, C)$. Since $x_n \\to x$ in $(X,d)$, we have $d(x_n, C) \\to d(x, C)$. Taking the limit of the inequality $d(x_n, C) \\ge \\frac{1}{M}$, we get:\n$$\nd(x, C) = \\lim_{n \\to \\infty} d(x_n, C) \\ge \\frac{1}{M} > 0\n$$\nSince $d(x, C) > 0$, the point $x$ cannot be in the closure of $C$. As $C$ is a closed set, its closure is itself. So $x \\notin C$, which means $x \\in X \\setminus C = U$.\n\nWe have shown that any Cauchy sequence $(x_n)$ in $(U, \\hat{d})$ converges in the metric $d$ to a limit $x$ that is also in $U$. Since we have already proven that the topologies induced by $d$ and $\\hat{d}$ are equivalent on $U$, convergence in $d$ to a point in $U$ is equivalent to convergence in $\\hat{d}$ to that same point. Therefore, $x_n \\to x$ in $(U, \\hat{d})$.\nThis proves that $(U, \\hat{d})$ is a complete metric space.\n\n**Specialization and Calculation**\n\nWe are given $X=\\mathbb{R}$ with the usual Euclidean metric $d(x,y)=|x-y|$, and $U=(0,1)$. The set $C = X \\setminus U$ is $C = (-\\infty, 0] \\cup [1, \\infty)$.\nFor a point $z \\in U=(0,1)$, the distance to $C$ is:\n$$\nd(z, C) = \\inf_{y \\in C} |z-y|\n$$\nThe infimum will be achieved at either $y=0$ or $y=1$.\n$$\nd(z, C) = \\min(|z-0|, |z-1|) = \\min(z, 1-z)\n$$\nWe need to compute $\\hat{d}(x,y)$ for $x=\\frac{1}{4}$ and $y=\\frac{2}{3}$.\nFirst, we find the distance $d(x,y)$:\n$$\nd\\left(\\frac{1}{4}, \\frac{2}{3}\\right) = \\left|\\frac{1}{4} - \\frac{2}{3}\\right| = \\left|\\frac{3-8}{12}\\right| = \\left|-\\frac{5}{12}\\right| = \\frac{5}{12}\n$$\nNext, we find the distances to the set $C$:\n$$\nd\\left(\\frac{1}{4}, C\\right) = \\min\\left(\\frac{1}{4}, 1-\\frac{1}{4}\\right) = \\min\\left(\\frac{1}{4}, \\frac{3}{4}\\right) = \\frac{1}{4}\n$$\n$$\nd\\left(\\frac{2}{3}, C\\right) = \\min\\left(\\frac{2}{3}, 1-\\frac{2}{3}\\right) = \\min\\left(\\frac{2}{3}, \\frac{1}{3}\\right) = \\frac{1}{3}\n$$\nNow we compute the second term of the $\\hat{d}$ metric:\n$$\n\\left| \\frac{1}{d(\\frac{1}{4}, C)} - \\frac{1}{d(\\frac{2}{3}, C)} \\right| = \\left| \\frac{1}{1/4} - \\frac{1}{1/3} \\right| = |4 - 3| = 1\n$$\nFinally, we compute the $\\hat{d}$-distance:\n$$\n\\hat{d}\\left(\\frac{1}{4}, \\frac{2}{3}\\right) = d\\left(\\frac{1}{4}, \\frac{2}{3}\\right) + \\left| \\frac{1}{d(\\frac{1}{4}, C)} - \\frac{1}{d(\\frac{2}{3}, C)} \\right| = \\frac{5}{12} + 1 = \\frac{5}{12} + \\frac{12}{12} = \\frac{17}{12}\n$$\nThe value is $\\frac{17}{12}$, which is a reduced fraction.", "answer": "$$\\boxed{\\frac{17}{12}}$$", "id": "2971701"}, {"introduction": "Zero-dimensional Polish spaces, such as the Cantor set and the Baire space, possess a particularly clean topological structure, having a basis of sets that are simultaneously closed and open (clopen). This exercise reveals a deep connection between this topology and a special kind of metric geometry. You will construct a compatible and complete *ultrametric*—a metric obeying the strong triangle inequality $d(x,z) \\le \\max\\{d(x,y), d(y,z)\\}$—demonstrating that the topology of any such space can be generated by a non-Archimedean metric structure [@problem_id:2971695].", "problem": "Let $X$ be a nonempty zero-dimensional Polish space, that is, a separable, completely metrizable topological space with a base of clopen sets. Use only these foundational facts to carry out the following program.\n\n1. Starting from an arbitrary compatible complete metric $d_0$ on $X$ and the existence of a clopen base, construct a sequence $\\langle \\mathcal{P}_n:n\\in\\mathbb{N}\\rangle$ of clopen partitions of $X$ such that $\\mathcal{P}_{n+1}$ refines $\\mathcal{P}_n$ for each $n\\in\\mathbb{N}$, and the $d_0$-diameter of every piece in $\\mathcal{P}_n$ is less than $2^{-n}$.\n\n2. Using the sequence $\\langle \\mathcal{P}_n\\rangle$, define a function $d:X\\times X\\to[0,\\infty)$ by setting $d(x,x)=0$ and, for $x\\neq y$, letting $n(x,y)$ be the least $n\\in\\mathbb{N}$ such that there exists $A\\in\\mathcal{P}_n$ with $x\\in A$ and $y\\notin A$, and then defining $d(x,y)=2^{-n(x,y)}$. Prove from first principles that $d$ is an ultrametric that is compatible with the topology of $X$ and is complete. Conclude that every open $d$-ball is clopen in $X$, and that the family of all open $d$-balls forms a base for the topology of $X$.\n\n3. Apply your construction to the middle-thirds Cantor set $C\\subseteq[0,1]$ by identifying $C$ with $2^{\\mathbb{N}}$ via the ternary coding map $h:2^{\\mathbb{N}}\\to C$ given by\n$$\nh(b)=\\sum_{n=0}^{\\infty}\\frac{2\\,b(n)}{3^{n+1}},\n$$\nwhere $b:\\mathbb{N}\\to\\{0,1\\}$. Let $d_{2^{\\mathbb{N}}}$ be the ultrametric on $2^{\\mathbb{N}}$ obtained by taking $\\mathcal{P}_n$ to be the partition into cylinder sets determined by initial segments of length $n$, and let $d_C$ be the pushforward ultrametric on $C$ defined by $d_C(x,y)=d_{2^{\\mathbb{N}}}(h^{-1}(x),h^{-1}(y))$.\n\nDefine $u,v\\in 2^{\\mathbb{N}}$ by specifying their first few coordinates as follows:\n$$\nu(0)=1,\\ u(1)=0,\\ u(2)=1,\\ u(3)=1,\\ u(4)=0,\\ u(5)=0,\\ \\text{and }u(n)=1\\ \\text{for all }n\\geq 6,\n$$\n$$\nv(0)=1,\\ v(1)=0,\\ v(2)=1,\\ v(3)=1,\\ v(4)=0,\\ v(5)=1,\\ \\text{and }v(n)=0\\ \\text{for all }n\\geq 6.\n$$\nLet $x=h(u)$ and $y=h(v)$. Compute the exact value of $d_C(x,y)$. Express your final answer as an exact power of $2$. No rounding is required or permitted.", "solution": "The problem is a three-part program. We will address each part in sequence. For the purposes of this problem, we assume $\\mathbb{N}=\\{0, 1, 2, \\ldots\\}$.\n\n### Part 1: Construction of the Partitions\n\nLet $X$ be a nonempty zero-dimensional Polish space with a compatible complete metric $d_0$. We construct the sequence of clopen partitions $\\langle \\mathcal{P}_n:n\\in\\mathbb{N}\\rangle$ inductively.\n\n**Base Case ($n=0$):** We need a clopen partition $\\mathcal{P}_0$ where each piece has $d_0$-diameter less than $2^{-0}=1$. Let $x \\in X$. The open ball $B_{d_0}(x, 1/4)$ is an open set. Since $X$ is zero-dimensional, it has a base of clopen sets. Thus, there exists a clopen set $C_x$ such that $x \\in C_x \\subseteq B_{d_0}(x, 1/4)$. The diameter of $C_x$ is $\\text{diam}_{d_0}(C_x) \\le \\text{diam}_{d_0}(B_{d_0}(x, 1/4)) \\le 2(1/4) = 1/2 < 1$. The collection $\\{C_x : x \\in X\\}$ is an open cover of $X$. Since $X$ is separable, it is a Lindelöf space, so there exists a countable subcover $\\{A_k : k \\in \\mathbb{N}\\}$. Each $A_k$ is clopen and has $\\text{diam}_{d_0}(A_k) < 1$. We can make this cover a partition by setting $P_k = A_k \\setminus \\bigcup_{j=0}^{k-1} A_j$ for each $k \\in \\mathbb{N}$. Each $P_k$ is clopen, as it is the intersection of the clopen set $A_k$ and the complement of the finite union of clopen sets $\\bigcup_{j=0}^{k-1} A_j$. The collection $\\mathcal{P}_0 = \\{P_k : k \\in \\mathbb{N}, P_k \\neq \\emptyset\\}$ is a partition of $X$ into clopen sets, and for each $P \\in \\mathcal{P}_0$, $\\text{diam}_{d_0}(P) < 1$.\n\n**Inductive Step:** Assume we have constructed a clopen partition $\\mathcal{P}_n$ where each piece has $d_0$-diameter less than $2^{-n}$. We construct $\\mathcal{P}_{n+1}$.\nFor each set $P \\in \\mathcal{P}_n$, $P$ is itself a zero-dimensional Polish space (as a clopen subset of $X$). We apply the same procedure to $P$ with the target diameter $2^{-(n+1)}$. For each $x \\in P$, there exists a clopen set $C_x \\subseteq P$ with $x \\in C_x \\subseteq B_{d_0}(x, 2^{-(n+2)})$. Note that $C_x$ being clopen in $P$ implies it is clopen in $X$. The $d_0$-diameter of $C_x$ is less than $2 \\cdot 2^{-(n+2)} = 2^{-(n+1)}$. The collection $\\{C_x : x \\in P\\}$ is a cover of $P$. Since $P$ is Lindelöf, we extract a countable subcover $\\{A_{P,k} : k \\in \\mathbb{N}\\}$. From this, we form a clopen partition $\\mathcal{Q}_P = \\{P_k : k \\in \\mathbb{N}, P_k \\neq \\emptyset\\}$ of $P$. Each piece of $\\mathcal{Q}_P$ has $d_0$-diameter less than $2^{-(n+1)}$.\nWe define $\\mathcal{P}_{n+1} = \\bigcup_{P \\in \\mathcal{P}_n} \\mathcal{Q}_P$.\nBy construction, $\\mathcal{P}_{n+1}$ is a partition of $X$ into clopen sets. Each element of $\\mathcal{P}_{n+1}$ is contained within some element of $\\mathcal{P}_n$, so $\\mathcal{P}_{n+1}$ refines $\\mathcal{P}_n$. Finally, every piece of $\\mathcal{P}_{n+1}$ has $d_0$-diameter less than $2^{-(n+1)}$. This completes the construction.\n\n### Part 2: Properties of the Metric $d$\n\nLet $d$ be defined as in the problem statement.\n\n**$d$ is an ultrametric:**\n1.  $d(x,y) \\ge 0$ is clear. $d(x,x) = 0$ by definition. If $x \\neq y$, let $\\delta = d_0(x,y) > 0$. Choose $N$ so that $2^{-N} < \\delta$. Let $A \\in \\mathcal{P}_N$ be the unique set containing $x$. If $y \\in A$, then $d_0(x,y) \\le \\text{diam}_{d_0}(A) < 2^{-N} < \\delta$, a contradiction. So $y \\notin A$. This means the set $\\{ n \\in \\mathbb{N} \\mid x, y \\text{ are separated by } \\mathcal{P}_n \\}$ is nonempty. Thus $n(x,y)$ is well-defined and finite, and $d(x,y) = 2^{-n(x,y)} > 0$. So $d(x,y)=0 \\iff x=y$.\n2.  The condition for defining $n(x,y)$ is symmetric with respect to $x$ and $y$, so $n(x,y)=n(y,x)$ and $d(x,y)=d(y,x)$.\n3.  (Ultrametric inequality) Let $x, y, z \\in X$. If any two are equal, the inequality $d(x,z) \\le \\max(d(x,y), d(y,z))$ holds trivially. Assume they are distinct. Let $k_1 = n(x,y)$ and $k_2 = n(y,z)$. Assume without loss of generality that $k_1 \\le k_2$. Then $\\max(d(x,y), d(y,z)) = 2^{-k_1}$. We must show $d(x,z) \\le 2^{-k_1}$, which is equivalent to $n(x,z) \\ge k_1$. By definition of $k_1$, for any $n < k_1$, $x$ and $y$ are in the same set of $\\mathcal{P}_n$. Since $n < k_1 \\le k_2$, $y$ and $z$ are also in the same set of $\\mathcal{P}_n$. By transitivity, $x$ and $z$ are in the same set of $\\mathcal{P}_n$. This holds for all $n < k_1$. Therefore, the smallest $n$ for which $x$ and $z$ are separated must be at least $k_1$. So $n(x,z) \\ge k_1$.\n\n**$d$ is compatible with the topology of $X$:**\nLet $\\mathcal{T}_0$ be the topology induced by $d_0$ and $\\mathcal{T}_d$ be the topology induced by $d$.\nLet $A_n(z)$ denote the unique element of $\\mathcal{P}_n$ containing $z$. For $r=2^{-n}$, the open ball $B_d(x, r) = \\{y \\in X \\mid d(x,y) < 2^{-n}\\}$. This is equivalent to $2^{-n(x,y)} < 2^{-n}$, which means $n(x,y) > n$. This holds if and only if $x$ and $y$ belong to the same set in $\\mathcal{P}_n$. Thus, $B_d(x, 2^{-n}) = A_n(x)$.\n- $\\mathcal{T}_d \\subseteq \\mathcal{T}_0$: The basic open sets for $\\mathcal{T}_d$ are the balls $B_d(x,r)$. Any such ball contains a ball of the form $B_d(x, 2^{-n}) = A_n(x)$ for some $n$. The sets $A_n(x)$ are elements of $\\mathcal{P}_n$ and are therefore clopen in $(\\mathcal{T}_0)$. Thus any open set in $\\mathcal{T}_d$ is a union of sets open in $\\mathcal{T}_0$, and hence is open in $\\mathcal{T}_0$.\n- $\\mathcal{T}_0 \\subseteq \\mathcal{T}_d$: Let $U \\in \\mathcal{T}_0$ and $x \\in U$. Since $U$ is open, $X \\setminus U$ is closed, so $d_0(x, X \\setminus U) = \\delta > 0$. Choose $N$ such that $2^{-N} < \\delta$. Consider the ball $B_d(x, 2^{-N}) = A_N(x)$. For any $y \\in A_N(x)$, we have $d_0(x,y) \\le \\text{diam}_{d_0}(A_N(x)) < 2^{-N} < \\delta$. This implies $y \\in U$. So $B_d(x, 2^{-N}) \\subseteq U$. Thus $U$ is open in $\\mathcal{T}_d$.\nSo $\\mathcal{T}_d = \\mathcal{T}_0$.\n\n**$d$ is complete:**\nLet $\\langle x_k \\rangle_{k\\in\\mathbb{N}}$ be a Cauchy sequence in $(X,d)$. For each $n \\in \\mathbb{N}$, there is an integer $K_n$ such that for all $k,m \\ge K_n$, $d(x_k, x_m) < 2^{-n}$. This means $n(x_k,x_m) > n$, so $x_k$ and $x_m$ are in the same set of $\\mathcal{P}_n$. Let this set be $C_n$. We have a sequence of sets $C_n \\in \\mathcal{P}_n$ such that for $k \\ge K_n$, $x_k \\in C_n$. We can choose $K_{n+1} \\ge K_n$. Then $x_{K_{n+1}} \\in C_{n+1}$ and $x_{K_{n+1}} \\in C_n$. Since $\\mathcal{P}_{n+1}$ refines $\\mathcal{P}_n$, this implies $C_{n+1} \\subseteq C_n$. So we have a nested sequence of non-empty closed sets $C_0 \\supseteq C_1 \\supseteq C_2 \\supseteq \\dots$. The diameter of these sets under $d_0$ is $\\text{diam}_{d_0}(C_n) < 2^{-n}$, which tends to $0$ as $n \\to \\infty$. Since $(X, d_0)$ is a complete metric space, by Cantor's intersection theorem, the intersection $\\bigcap_{n=0}^{\\infty} C_n$ contains exactly one point, say $x$.\nWe show $x_k \\to x$ in $(X,d)$. For any $n \\in \\mathbb{N}$ and for all $k \\ge K_n$, we have $x_k \\in C_n$. Since $x \\in \\bigcap C_j$, we have $x \\in C_n$. So $x_k$ and $x$ are in the same set of $\\mathcal{P}_n$. This means $n(x_k, x) > n$, so $d(x_k, x) < 2^{-n}$. This holds for all $k \\ge K_n$, which is the definition of convergence to $x$. Hence, $(X,d)$ is complete.\n\n**Conclusion:**\nAn open ball in $(X,d)$ is of the form $B_d(x,r)$. For any such ball, choose an integer $n$ such that $2^{-n} < r$. Then $B_d(x, 2^{-n}) \\subseteq B_d(x,r)$. As shown, $B_d(x, 2^{-n})$ is equal to $A_n(x)$, the element of $\\mathcal{P}_n$ containing $x$. More generally, if $n_0$ is the smallest integer with $2^{-n_0} < r$, then $B_d(x,r) = A_{n_0-1}(x)$ (for $n_0 \\ge 1$; if $n_0=0$ the ball is $X$). In any case, the ball is equal to some partition element, which by construction is a clopen set. The family of all open balls in any metric space forms a base for the metric topology. Since the topology of $d$ is that of $X$, the $d$-balls form a base for the topology of $X$.\n\n### Part 3: Application to the Cantor Set\n\nThe metric $d_{2^{\\mathbb{N}}}$ on $2^{\\mathbb{N}}$ is constructed using clopen partitions $\\mathcal{P}_n$ consisting of cylinder sets determined by initial segments of length $n$. A cylinder set corresponding to a finite sequence $s \\in \\{0,1\\}^n$ is $[s] = \\{ b \\in 2^{\\mathbb{N}} \\mid b \\upharpoonright n = s \\}$, where $b \\upharpoonright n$ is the initial segment of $b$ of length $n$ (i.e., $(b(0), \\ldots, b(n-1))$). The partition is $\\mathcal{P}_n = \\{[s] \\mid s \\in \\{0,1\\}^n\\}$.\n\nFor two distinct sequences $u, v \\in 2^{\\mathbb{N}}$, $n(u,v)$ is the least $n \\in \\mathbb{N}$ such that $u$ and $v$ are in different sets of $\\mathcal{P}_n$. This is equivalent to finding the least $n$ such that $u \\upharpoonright n \\neq v \\upharpoonright n$.\n\nLet $k_0 = \\min\\{k \\in \\mathbb{N} \\mid u(k) \\neq v(k)\\}$.\nFor any $n \\le k_0$, the initial segments $u \\upharpoonright n$ and $v \\upharpoonright n$ are identical, since they only involve indices $i < n \\le k_0$, where $u(i)=v(i)$. Thus, for $n \\in \\{0, 1, \\dots, k_0\\}$, $u$ and $v$ belong to the same set in $\\mathcal{P}_n$.\nFor $n = k_0+1$, the initial segment is of length $k_0+1$, defined on indices $\\{0, \\dots, k_0\\}$. Since $u(k_0) \\neq v(k_0)$, we have $u \\upharpoonright (k_0+1) \\neq v \\upharpoonright (k_0+1)$.\nTherefore, the least $n$ for which $u$ and $v$ are separated is $n = k_0+1$.\nSo, $n(u,v) = k_0+1$. The metric is $d_{2^{\\mathbb{N}}}(u,v) = 2^{-n(u,v)} = 2^{-(k_0+1)}$.\n\nThe problem asks for $d_C(x,y) = d_{2^{\\mathbb{N}}}(h^{-1}(x), h^{-1}(y)) = d_{2^{\\mathbb{N}}}(u,v)$. We need to find $k_0$ for the given sequences $u$ and $v$.\n$u$: $u(0)=1, u(1)=0, u(2)=1, u(3)=1, u(4)=0, u(5)=0, \\dots$\n$v$: $v(0)=1, v(1)=0, v(2)=1, v(3)=1, v(4)=0, v(5)=1, \\dots$\n\nComparing them coordinate by coordinate:\n- $u(0) = 1, v(0) = 1$ (match)\n- $u(1) = 0, v(1) = 0$ (match)\n- $u(2) = 1, v(2) = 1$ (match)\n- $u(3) = 1, v(3) = 1$ (match)\n- $u(4) = 0, v(4) = 0$ (match)\n- $u(5) = 0, v(5) = 1$ (mismatch)\n\nThe first index at which they differ is $5$. So, $k_0=5$.\nThe distance is $d_C(x,y) = 2^{-(k_0+1)} = 2^{-(5+1)} = 2^{-6}$.", "answer": "$$\\boxed{2^{-6}}$$", "id": "2971695"}]}