{"hands_on_practices": [{"introduction": "The foundation of model theory rests upon the precise, recursive definition of truth for a formula within a structure. This process begins with the most basic building blocks: atomic formulas. This exercise provides a hands-on drill in applying Tarskian semantics at this fundamental level, evaluating how an interpretation gives meaning to symbols within a concrete, finite structure [@problem_id:2973056]. By systematically enumerating variable assignments and checking the truth values of simple predicates and equalities, you will build an intuition for the mechanics of satisfaction, a skill essential for analyzing more complex logical statements.", "problem": "Consider a finite first-order signature and a concrete finite structure interpreted over it. Let the signature be $\\mathcal{L} = \\{c, d, f^{1}, g^{2}, P^{1}, R^{2}, =\\}$, consisting of two constant symbols $c$ and $d$, one unary function symbol $f$, one binary function symbol $g$, one unary predicate symbol $P$, one binary predicate symbol $R$, and equality. Let the $\\mathcal{L}$-structure $\\mathcal{A}$ have universe $A = \\{0,1,2,3\\}$, and interpret the nonlogical symbols as follows:\n- $c^{\\mathcal{A}} = 1$ and $d^{\\mathcal{A}} = 3$.\n- $f^{\\mathcal{A}}(x) = 2x \\bmod 4$ for $x \\in A$.\n- $g^{\\mathcal{A}}(x,y) = x + y \\bmod 4$ for $(x,y) \\in A^{2}$.\n- $P^{\\mathcal{A}} = \\{0,2\\}$.\n- $R^{\\mathcal{A}} = \\{(x,y) \\in A^{2} \\mid x \\equiv 2y \\pmod{4}\\}$.\n\nWork with the variable set $V = \\{x,y\\}$. For each atomic formula below, evaluate its truth value under every assignment of its free variables, by explicitly enumerating all assignments to those variables up to the relevant arities. The list of atomic formulas is:\n- $P(x)$,\n- $P(y)$,\n- $P(f(x))$,\n- $P\\big(g(x,y)\\big)$,\n- $R(x,y)$,\n- $R\\big(f(x),y\\big)$,\n- $R\\big(x,g(x,y)\\big)$,\n- $x = y$,\n- $f(x) = y$,\n- $g(x,y) = d$,\n- $g\\big(f(x),y\\big) = c$,\n- $P(c)$.\n\nFor each atomic formula, count the number of assignments to its free variables that make it true in $\\mathcal{A}$. For formulas with two free variables, enumerate all $4 \\times 4$ assignments in $A^{2}$; for formulas with one free variable, enumerate all $4$ assignments in $A$; for the ground formula $P(c)$ with no free variables, view its evaluation under the empty assignment as either true or false. Let $N$ denote the total number of satisfying assignments aggregated over all the atomic formulas listed above. Compute $N$ as an exact integer. Express your final answer as an integer with no units.", "solution": "The problem statement has been validated and is deemed a well-posed and self-contained exercise in first-order logic. It is free of scientific, logical, or factual flaws. All necessary components of the signature $\\mathcal{L}$ and the $\\mathcal{L}$-structure $\\mathcal{A}$ are explicitly defined. The task is to evaluate the truth of a list of atomic formulas under all possible assignments, which is a standard procedure in model theory. We shall proceed with the solution.\n\nThe problem specifies a first-order signature $\\mathcal{L} = \\{c, d, f^{1}, g^{2}, P^{1}, R^{2}, =\\}$ and an $\\mathcal{L}$-structure $\\mathcal{A}$ with universe $A = \\{0, 1, 2, 3\\}$. The interpretations are:\n- $c^{\\mathcal{A}} = 1$\n- $d^{\\mathcal{A}} = 3$\n- $f^{\\mathcal{A}}(x) = 2x \\bmod 4$\n- $g^{\\mathcal{A}}(x,y) = x + y \\bmod 4$\n- $P^{\\mathcal{A}} = \\{0, 2\\}$\n- $R^{\\mathcal{A}} = \\{(x,y) \\in A^{2} \\mid x \\equiv 2y \\pmod{4}\\}$\n\nTo facilitate the evaluation, we first compute the explicit interpretations of the functions and predicates over the universe $A$.\n\nThe unary function $f^{\\mathcal{A}}(x)$:\n- $f^{\\mathcal{A}}(0) = 2(0) \\bmod 4 = 0$\n- $f^{\\mathcal{A}}(1) = 2(1) \\bmod 4 = 2$\n- $f^{\\mathcal{A}}(2) = 2(2) \\bmod 4 = 4 \\bmod 4 = 0$\n- $f^{\\mathcal{A}}(3) = 2(3) \\bmod 4 = 6 \\bmod 4 = 2$\n\nThe binary function $g^{\\mathcal{A}}(x,y)$ is addition modulo $4$:\n- This can be represented by the following table, where rows correspond to $y$ and columns to $x$:\n$$\n\\begin{array}{c|cccc}\ng^{\\mathcal{A}}(x,y)  x=0  x=1  x=2  x=3 \\\\\n\\hline\ny=0  0  1  2  3 \\\\\ny=1  1  2  3  0 \\\\\ny=2  2  3  0  1 \\\\\ny=3  3  0  1  2\n\\end{array}\n$$\n\nThe unary predicate $P^{\\mathcal{A}}$ is given as the set $\\{0, 2\\}$. An element $a \\in A$ satisfies $P$ if and only if $a \\in \\{0, 2\\}$.\n\nThe binary predicate $R^{\\mathcal{A}}$ is the set of pairs $(x,y) \\in A^2$ such that $x \\equiv 2y \\pmod{4}$. We identify these pairs:\n- If $y=0$, $2y=0$. The condition is $x \\equiv 0 \\pmod{4}$, so $x=0$. Pair: $(0,0)$.\n- If $y=1$, $2y=2$. The condition is $x \\equiv 2 \\pmod{4}$, so $x=2$. Pair: $(2,1)$.\n- If $y=2$, $2y=4 \\equiv 0$. The condition is $x \\equiv 0 \\pmod{4}$, so $x=0$. Pair: $(0,2)$.\n- If $y=3$, $2y=6 \\equiv 2$. The condition is $x \\equiv 2 \\pmod{4}$, so $x=2$. Pair: $(2,3)$.\nThus, $R^{\\mathcal{A}} = \\{(0,0), (2,1), (0,2), (2,3)\\}$.\n\nWe now evaluate each atomic formula and count the number of satisfying assignments. Let $N_i$ be the count for the $i$-th formula.\n\n1.  $P(x)$: The free variable is $x$. We need to find the number of $x \\in A$ such that $x \\in P^{\\mathcal{A}}$. Since $P^{\\mathcal{A}} = \\{0, 2\\}$, the satisfying assignments are $x=0$ and $x=2$. Thus, $N_1=2$.\n\n2.  $P(y)$: The free variable is $y$. Similar to the previous case, the satisfying assignments are $y=0$ and $y=2$. Thus, $N_2=2$.\n\n3.  $P(f(x))$: The free variable is $x$. We need to find $x \\in A$ such that $f^{\\mathcal{A}}(x) \\in P^{\\mathcal{A}}$.\n    - For $x=0$, $f^{\\mathcal{A}}(0) = 0 \\in P^{\\mathcal{A}}$. True.\n    - For $x=1$, $f^{\\mathcal{A}}(1) = 2 \\in P^{\\mathcal{A}}$. True.\n    - For $x=2$, $f^{\\mathcal{A}}(2) = 0 \\in P^{\\mathcal{A}}$. True.\n    - For $x=3$, $f^{\\mathcal{A}}(3) = 2 \\in P^{\\mathcal{A}}$. True.\n    All $4$ assignments for $x$ make the formula true. Thus, $N_3=4$.\n\n4.  $P(g(x,y))$: The free variables are $x,y$. We need to find the number of pairs $(x,y) \\in A^2$ such that $g^{\\mathcal{A}}(x,y) \\in P^{\\mathcal{A}}$, i.e., $g^{\\mathcal{A}}(x,y)$ is $0$ or $2$. Consulting the table for $g^{\\mathcal{A}}(x,y)$, we find $8$ such pairs: $(0,0), (2,0), (1,1), (3,1), (0,2), (2,2), (1,3), (3,3)$. Thus, $N_4=8$.\n\n5.  $R(x,y)$: The free variables are $x,y$. We need to find the number of pairs $(x,y) \\in A^2$ that are in the set $R^{\\mathcal{A}}$. We have already determined that $R^{\\mathcal{A}} = \\{(0,0), (2,1), (0,2), (2,3)\\}$. There are $4$ such pairs. Thus, $N_5=4$.\n\n6.  $R(f(x),y)$: The free variables are $x,y$. We need pairs $(x,y)$ such that $(f^{\\mathcal{A}}(x), y) \\in R^{\\mathcal{A}}$.\n    - If $x=0$ or $x=2$, $f^{\\mathcal{A}}(x)=0$. We need $(0,y) \\in R^{\\mathcal{A}}$, which holds for $y=0$ and $y=2$. This gives $4$ satisfying assignments: $(0,0), (0,2), (2,0), (2,2)$.\n    - If $x=1$ or $x=3$, $f^{\\mathcal{A}}(x)=2$. We need $(2,y) \\in R^{\\mathcal{A}}$, which holds for $y=1$ and $y=3$. This gives $4$ satisfying assignments: $(1,1), (1,3), (3,1), (3,3)$.\n    In total, there are $4+4=8$ satisfying assignments. Thus, $N_6=8$.\n\n7.  $R(x,g(x,y))$: The free variables are $x,y$. The condition is $(x, g^{\\mathcal{A}}(x,y)) \\in R^{\\mathcal{A}}$. This means $x \\equiv 2 \\cdot g^{\\mathcal{A}}(x,y) \\pmod{4}$. Substituting $g^{\\mathcal{A}}(x,y) = (x+y) \\pmod 4$, the condition becomes $x \\equiv 2(x+y) \\pmod{4}$, which simplifies to $x \\equiv 2x+2y \\pmod{4}$, then to $0 \\equiv x+2y \\pmod 4$, and finally to $x \\equiv -2y \\equiv 2y \\pmod{4}$. This is precisely the condition for $R(x,y)$ to be true. Therefore, the set of satisfying assignments is identical to that of $R(x,y)$. Thus, $N_7=4$.\n\n8.  $x = y$: The free variables are $x,y$. We need pairs $(x,y) \\in A^2$ where the components are equal. These are $(0,0), (1,1), (2,2), (3,3)$. There are $4$ such assignments. Thus, $N_8=4$.\n\n9.  $f(x) = y$: The free variables are $x,y$. We list the pairs $(x,y)$ that satisfy this equation, using our computed values for $f^{\\mathcal{A}}$:\n    - $f^{\\mathcal{A}}(0)=0 \\implies (x,y)=(0,0)$\n    - $f^{\\mathcal{A}}(1)=2 \\implies (x,y)=(1,2)$\n    - $f^{\\mathcal{A}}(2)=0 \\implies (x,y)=(2,0)$\n    - $f^{\\mathcal{A}}(3)=2 \\implies (x,y)=(3,2)$\n    There are $4$ satisfying assignments. Thus, $N_9=4$.\n\n10. $g(x,y) = d$: The free variables are $x,y$. We have $d^{\\mathcal{A}}=3$. The condition is $g^{\\mathcal{A}}(x,y)=3$, or $(x+y) \\pmod 4 = 3$. We inspect the table for $g^{\\mathcal{A}}(x,y)$ and find the pairs where the value is $3$: $(3,0), (2,1), (1,2), (0,3)$. There are $4$ such assignments. Thus, $N_{10}=4$.\n\n11. $g(f(x),y) = c$: The free variables are $x,y$. We have $c^{\\mathcal{A}}=1$. The condition is $g^{\\mathcal{A}}(f^{\\mathcal{A}}(x), y) = 1$, or $(f^{\\mathcal{A}}(x)+y) \\pmod 4 = 1$.\n    - For $x=0$ or $x=2$, $f^{\\mathcal{A}}(x)=0$. We need $(0+y) \\pmod 4 = 1 \\implies y=1$. This gives assignments $(0,1)$ and $(2,1)$.\n    - For $x=1$ or $x=3$, $f^{\\mathcal{A}}(x)=2$. We need $(2+y) \\pmod 4 = 1 \\implies y=3$. This gives assignments $(1,3)$ and $(3,3)$.\n    In total, there are $2+2=4$ satisfying assignments. Thus, $N_{11}=4$.\n\n12. $P(c)$: This is a ground formula (a sentence) with no free variables. Its truth is evaluated under the empty assignment. The formula is true if $c^{\\mathcal{A}} \\in P^{\\mathcal{A}}$. We have $c^{\\mathcal{A}}=1$ and $P^{\\mathcal{A}}=\\{0,2\\}$. Since $1 \\notin \\{0,2\\}$, the formula is false. The number of satisfying assignments is $0$. Thus, $N_{12}=0$.\n\nFinally, we compute the total number of satisfying assignments, $N$, by summing the individual counts:\n$N = N_1 + N_2 + N_3 + N_4 + N_5 + N_6 + N_7 + N_8 + N_9 + N_{10} + N_{11} + N_{12}$\n$N = 2 + 2 + 4 + 8 + 4 + 8 + 4 + 4 + 4 + 4 + 4 + 0$\n$N = 48$", "answer": "$$\\boxed{48}$$", "id": "2973056"}, {"introduction": "The real expressive power of first-order logic emerges through the use of quantifiers like $\\forall$ (\"for all\") and $\\exists$ (\"there exists\"). This practice moves beyond atomic formulas to challenge you with a complex formula involving nested quantifiers, requiring a careful, step-by-step analysis to determine its satisfaction set [@problem_id:2973052]. Successfully \"unwinding\" the quantifiers and logical connectives to identify the exact pairs of elements $(u,v)$ that make the formula true will sharpen your ability to parse and understand sophisticated logical assertions.", "problem": "Let $\\mathcal{L}$ be the first-order language with one unary function symbol $s$, one binary relation symbol $E$, and one unary relation symbol $Q$. Consider the finite $\\mathcal{L}$-structure $\\mathcal{M}$ with domain $M=\\mathbb{Z}/8\\mathbb{Z}=\\{0,1,2,3,4,5,6,7\\}$, where all arithmetic is performed modulo $8$, and the interpretations are as follows:\n- $s^{\\mathcal{M}}(x)=x+1$,\n- $E^{\\mathcal{M}}(x,y)$ holds if and only if $y\\equiv x+1$ or $y\\equiv x+3$,\n- $Q^{\\mathcal{M}}(x)$ holds if and only if $x$ is even, that is, $x\\in\\{0,2,4,6\\}$.\n\nIn this structure, consider the $\\mathcal{L}$-formula with free variables $u$ and $v$:\n$$\n\\varphi(u,v)\\;:=\\;\\Big(\\forall y\\big(E(u,y)\\rightarrow \\exists z\\big(E(z,y)\\wedge Q(z)\\wedge s(s(z))=v\\big)\\big)\\Big)\\;\\wedge\\;\\Big(\\exists w\\big(E(w,u)\\wedge \\neg Q(w)\\big)\\Big)\\;\\wedge\\;(u\\neq v).\n$$\nCompute the cardinality of the satisfaction set\n$$\nS\\;=\\;\\{(a,b)\\in M^{2}\\;:\\;\\mathcal{M}\\models \\varphi(a,b)\\}.\n$$\nYour final answer must be a single integer giving $|S|$. No rounding is required.", "solution": "The problem is well-defined, self-contained, and mathematically sound. It is a standard problem in first-order logic concerning the satisfaction of a formula in a finite structure. We may proceed with the solution.\n\nThe objective is to compute the cardinality of the satisfaction set $S = \\{(a,b) \\in M^{2} : \\mathcal{M} \\models \\varphi(a,b)\\}$, where the domain is $M = \\mathbb{Z}/8\\mathbb{Z} = \\{0, 1, 2, 3, 4, 5, 6, 7\\}$. The formula $\\varphi(u,v)$ is a conjunction of three sub-formulas:\n$$\n\\varphi_1(u,v) := \\forall y\\big(E(u,y)\\rightarrow \\exists z\\big(E(z,y)\\wedge Q(z)\\wedge s(s(z))=v\\big)\\big)\n$$\n$$\n\\varphi_2(u) := \\exists w\\big(E(w,u)\\wedge \\neg Q(w)\\big)\n$$\n$$\n\\varphi_3(u,v) := u \\neq v\n$$\nA pair $(a,b) \\in M^2$ belongs to the set $S$ if and only if $\\mathcal{M} \\models \\varphi_1(a,b)$, $\\mathcal{M} \\models \\varphi_2(a)$, and $\\mathcal{M} \\models \\varphi_3(a,b)$ simultaneously. We will analyze each condition separately to determine the constraints on $a$ and $b$.\n\n**Analysis of $\\varphi_2(u)$**\n\nAn element $a \\in M$ satisfies $\\varphi_2(a)$ if there exists an element $w \\in M$ such that $E(w,a)$ and $\\neg Q(w)$ are both true.\nThe condition $\\neg Q(w)$ holds if and only if $w$ is not even, which means $w$ must be an odd number. The set of odd numbers in $M$ is $\\{1, 3, 5, 7\\}$.\nThe condition $E(w,a)$ holds if and only if $a \\equiv w+1 \\pmod{8}$ or $a \\equiv w+3 \\pmod{8}$.\nWe need to find all $a \\in M$ for which there is a $w \\in \\{1, 3, 5, 7\\}$ satisfying one of these equivalences. Let's test each possible value of $w$:\n- If $w=1$, then $a \\equiv 1+1 = 2$ or $a \\equiv 1+3 = 4$.\n- If $w=3$, then $a \\equiv 3+1 = 4$ or $a \\equiv 3+3 = 6$.\n- If $w=5$, then $a \\equiv 5+1 = 6$ or $a \\equiv 5+3 = 8 \\equiv 0$.\n- If $w=7$, then $a \\equiv 7+1 = 8 \\equiv 0$ or $a \\equiv 7+3 = 10 \\equiv 2$.\nThe set of all possible values for $a$ is the union of the resulting sets: $\\{2, 4\\} \\cup \\{4, 6\\} \\cup \\{6, 0\\} \\cup \\{0, 2\\} = \\{0, 2, 4, 6\\}$.\nThus, $\\mathcal{M} \\models \\varphi_2(a)$ if and only if $a \\in \\{0, 2, 4, 6\\}$. This is precisely the set of elements for which $Q(a)$ holds.\n\n**Analysis of $\\varphi_1(u,v)$**\n\nLet's analyze the sub-formula $\\psi(y,v) := \\exists z\\big(E(z,y)\\wedge Q(z)\\wedge s(s(z))=v\\big)$.\n- The condition $Q(z)$ restricts $z$ to the set of even numbers: $z \\in \\{0, 2, 4, 6\\}$.\n- The interpretation of the function symbol $s$ is $s^{\\mathcal{M}}(x) = x+1$. Therefore, $s(s(z)) = s(z+1) = (z+1)+1 = z+2 \\pmod{8}$. The condition $s(s(z))=v$ is equivalent to $v=z+2$.\n- Since $z$ must be in $\\{0, 2, 4, 6\\}$, $v$ must be in the set $\\{0+2, 2+2, 4+2, 6+2\\} = \\{2, 4, 6, 0\\}$. If $v \\notin \\{0, 2, 4, 6\\}$, the condition $v=z+2$ cannot be met for any $z$ satisfying $Q(z)$, so $\\psi(y,v)$ is false for all $y$.\n- If $v \\in \\{0, 2, 4, 6\\}$, then $z$ is uniquely determined as $z = v-2 \\pmod{8}$. Since $v$ is even, $z$ is also even, so $Q(z)$ is satisfied.\n- With $z=v-2$, the formula $\\psi(y,v)$ becomes equivalent to $E(v-2, y)$.\n- $E(v-2, y)$ holds if and only if $y \\equiv (v-2)+1$ or $y \\equiv (v-2)+3$, which simplifies to $y \\equiv v-1$ or $y \\equiv v+1$.\n\nSo, for a given $v \\in \\{0, 2, 4, 6\\}$, $\\psi(y,v)$ is true if and only if $y \\in \\{v-1, v+1\\}$. Let's denote this set by $Y_v = \\{v-1, v+1\\}$. If $v \\notin \\{0, 2, 4, 6\\}$, then $Y_v = \\emptyset$.\n\nThe formula $\\varphi_1(a,b)$ states $\\forall y (E(a,y) \\rightarrow \\psi(y,b))$.\nThe antecedent $E(a,y)$ is true for $y \\in \\{a+1, a+3\\}$. Let this set be $E_a = \\{a+1, a+3\\}$.\nThe implication must hold for all $y \\in M$. This means that for any $y$ for which $E(a,y)$ is true, $\\psi(y,b)$ must also be true. In other words, the set $E_a$ must be a subset of the set $Y_b$.\n$$ \\{a+1, a+3\\} \\subseteq Y_b $$\nSince $a \\in M$, $a+1 \\not\\equiv a+3 \\pmod 8$, so $|E_a| = 2$. For $E_a$ to be a subset of $Y_b$, $Y_b$ cannot be empty. This enforces the condition $b \\in \\{0, 2, 4, 6\\}$, which means $|Y_b|=|\\{b-1, b+1\\}|=2$ (since $b-1 \\not\\equiv b+1 \\pmod 8$).\nFor a $2$-element set to be a subset of another $2$-element set, they must be equal:\n$$ \\{a+1, a+3\\} = \\{b-1, b+1\\} $$\nThis equality of sets can be satisfied in two ways (all modulo $8$):\n1. $a+1 = b-1$ and $a+3 = b+1$. Both equations imply $b=a+2$. This is a consistent solution.\n2. $a+1 = b+1$ and $a+3 = b-1$. The first equation implies $a=b$. The second implies $b=a+4$. This would mean $a=a+4$, which implies $0=4$, a contradiction. So this case is impossible.\n\nTherefore, $\\varphi_1(a,b)$ holds if and only if $b=a+2 \\pmod 8$, which also requires that both $a$ and $b$ are even (as established by the constraints from $\\varphi_2$ and the analysis of $\\psi$). If $a$ is even, then $b=a+2$ is also even, so these conditions are consistent.\n\n**Analysis of $\\varphi_3(u,v)$**\n\nThis condition is simply $a \\neq b$. If $b=a+2 \\pmod 8$, then $a=b$ would imply $a=a+2$, or $2=0 \\pmod 8$, which is false. Thus, the condition $a \\neq b$ is automatically satisfied whenever $b=a+2$.\n\n**Combining all conditions**\n\nWe are seeking pairs $(a,b)$ that satisfy all three conditions:\n1. From $\\varphi_2(a)$: $a \\in \\{0, 2, 4, 6\\}$.\n2. From $\\varphi_1(a,b)$: $b = a+2 \\pmod 8$. This implies $b \\in \\{2, 4, 6, 0\\}$.\n3. From $\\varphi_3(a,b)$: $a \\neq b$. This condition is redundant given the second condition.\n\nWe can now list all the pairs $(a,b)$ in the satisfaction set $S$ by iterating through the allowed values for $a$:\n- If $a=0$, then $b=0+2=2$. The pair is $(0,2)$.\n- If $a=2$, then $b=2+2=4$. The pair is $(2,4)$.\n- If $a=4$, then $b=4+2=6$. The pair is $(4,6)$.\n- If $a=6$, then $b=6+2=8 \\equiv 0$. The pair is $(6,0)$.\n\nThe satisfaction set is $S = \\{(0,2), (2,4), (4,6), (6,0)\\}$.\nThe cardinality of this set, $|S|$, is the number of pairs we found. There are $4$ such pairs.", "answer": "$$\\boxed{4}$$", "id": "2973052"}, {"introduction": "Having practiced evaluating formulas within a given structure, we now pivot to a central question in model theory: given a sentence, what can we deduce about the properties of any structure that makes it true? This exercise asks you to work backwards from a set of axioms, encoded in a single first-order sentence, to determine the necessary characteristics of its models [@problem_id:2973030]. By analyzing the sentence's claims about relations and functions, you will not only construct a model but also explore the limits of possibility by counting all valid interpretations on a given domain, revealing the deep interplay between logical syntax and mathematical structure.", "problem": "Let $\\mathcal{L}=\\{f^{1},c^{0},P^{1},R^{2}\\}$ be a first-order signature with one unary function symbol $f$, one constant symbol $c$, one unary relation symbol $P$, and one binary relation symbol $R$. Fix the underlying set to be $D=\\{0,1,2,3\\}$. Consider the $\\mathcal{L}$-sentence $\\varphi$ that asserts, in the sense of Tarskian semantics for first-order logic with equality, all of the following:\n\n- $R$ is an equivalence relation:\n$$\\forall x\\,R(x,x)\\ \\wedge\\ \\forall x\\,\\forall y\\,(R(x,y)\\rightarrow R(y,x))\\ \\wedge\\ \\forall x\\,\\forall y\\,\\forall z\\,((R(x,y)\\wedge R(y,z))\\rightarrow R(x,z)).$$\n\n- There are exactly two $R$-equivalence classes that cover the domain without overlap, witnessed by two elements $u$ and $v$:\n$$\\exists u\\,\\exists v\\,\\big(u\\neq v\\ \\wedge\\ \\neg R(u,v)\\ \\wedge\\ \\forall x\\,(R(x,u)\\ \\vee\\ R(x,v))\\ \\wedge\\ \\forall x\\,\\neg(R(x,u)\\wedge R(x,v))\\big).$$\n\n- $f$ is a fixed-point-free involution that preserves $R$-classes:\n$$\\forall x\\,(f(f(x))=x\\ \\wedge\\ x\\neq f(x)\\ \\wedge\\ R(x,f(x))).$$\n\n- $P$ picks out exactly the $R$-class of $c$:\n$$\\forall x\\,(P(x)\\leftrightarrow R(x,c)).$$\n\nTasks:\n1. Construct explicitly two distinct $\\mathcal{L}$-structures on the same underlying set $D=\\{0,1,2,3\\}$ that interpret the symbols differently so that one structure satisfies $\\varphi$ and the other does not, thereby demonstrating that the truth value of $\\varphi$ is sensitive to the interpretation of the symbols.\n2. Let $N$ be the total number of $\\mathcal{L}$-interpretations on $D$ (that is, choices of interpretations of $f$, $c$, $P$, and $R$ over the fixed set $D$) that satisfy $\\varphi$. Determine $N$. Provide your final answer as a single integer. No rounding is required, and no units are involved. Only the value of $N$ will be graded.", "solution": "The problem requires us to analyze the properties of $\\mathcal{L}$-structures on a domain $D=\\{0,1,2,3\\}$ that satisfy a given first-order sentence $\\varphi$. The sentence $\\varphi$ is a conjunction of four conditions. We will first analyze these conditions, then construct two structures as required by Task 1, and finally compute the total number of satisfying structures for Task 2.\n\nLet $\\mathcal{M} = (D, R^{\\mathcal{M}}, f^{\\mathcal{M}}, c^{\\mathcal{M}}, P^{\\mathcal{M}})$ be an $\\mathcal{L}$-structure with domain $D=\\{0,1,2,3\\}$. For $\\mathcal{M}$ to satisfy $\\varphi$, denoted $\\mathcal{M} \\models \\varphi$, all four specified conditions must hold.\n\n1.  **Analysis of the Conditions:**\n    -   **Condition 1 ($R$ is an equivalence relation):** $R^{\\mathcal{M}}$ must be a reflexive, symmetric, and transitive binary relation on $D$. This means $R^{\\mathcal{M}}$ partitions the domain $D$ into disjoint non-empty subsets called equivalence classes.\n    -   **Condition 2 ($R$ has two classes):** The second formula asserts that the partition induced by $R^{\\mathcal{M}}$ consists of exactly two equivalence classes. The domain $D$ has $|D|=4$ elements. A partition of a $4$-element set into $2$ non-empty classes can have sizes $(1,3)$ or $(2,2)$.\n    -   **Condition 3 ($f$ is a special involution):** $f^{\\mathcal{M}}$ must be a function from $D$ to $D$ such that:\n        -   $\\forall x \\in D, f^{\\mathcal{M}}(f^{\\mathcal{M}}(x)) = x$ ($f^{\\mathcal{M}}$ is an involution).\n        -   $\\forall x \\in D, x \\neq f^{\\mathcal{M}}(x)$ ($f^{\\mathcal{M}}$ is fixed-point-free).\n        -   $\\forall x \\in D, R^{\\mathcal{M}}(x, f^{\\mathcal{M}}(x))$ (Equivalence classes are closed under $f^{\\mathcal{M}}$).\n\n    Let's combine these conditions. A fixed-point-free involution on a finite set pairs up elements. This means the set must have an even number of elements. The condition $R^{\\mathcal{M}}(x, f^{\\mathcal{M}}(x))$ implies that for any equivalence class $S \\subseteq D$, $f^{\\mathcal{M}}$ must map elements of $S$ to elements of $S$. Thus, $f^{\\mathcal{M}}$ restricted to $S$, denoted $f^{\\mathcal{M}}|_S$, must be a fixed-point-free involution on $S$. This requires every equivalence class $S$ to have an even size.\n\n    The partition of $D$ consists of two classes. The possible size distributions were $(1,3)$ and $(2,2)$. Since each class must have an even size, the $(1,3)$ partition is ruled out. Therefore, the partition induced by $R^{\\mathcal{M}}$ must consist of two classes of size $2$.\n\n    Furthermore, for a class of size $2$, say $S = \\{a,b\\}$, the only fixed-point-free involution is the one that swaps the elements: $f^{\\mathcal{M}}(a)=b$ and $f^{\\mathcal{M}}(b)=a$. Consequently, the function $f^{\\mathcal{M}}$ is uniquely determined by the relation $R^{\\mathcal{M}}$.\n\n    -   **Condition 4 ($P$ identifies the class of $c$):** The interpretation of the unary predicate $P$, which is a subset $P^{\\mathcal{M}} \\subseteq D$, is given by $\\forall x \\in D, (x \\in P^{\\mathcal{M}} \\leftrightarrow R^{\\mathcal{M}}(x, c^{\\mathcal{M}}))$. This means $P^{\\mathcal{M}}$ must be precisely the equivalence class containing the element $c^{\\mathcal{M}}$. Thus, $P^{\\mathcal{M}}$ is uniquely determined by the interpretations of $R$ and $c$.\n\nSummary of findings: For a structure to satisfy $\\varphi$, its components must meet the following specific criteria:\n-   $R^{\\mathcal{M}}$ must partition $D=\\{0,1,2,3\\}$ into two classes of size $2$.\n-   $f^{\\mathcal{M}}$ must be the unique fixed-point-free involution that swaps the elements within each of these two classes.\n-   $c^{\\mathcal{M}}$ can be any element in $D$.\n-   $P^{\\mathcal{M}}$ must be the equivalence class of $c^{\\mathcal{M}}$ under $R^{\\mathcal{M}}$.\n\n**Task 1: Construction of a model and a non-model**\n\nWe will construct two structures, $\\mathcal{M}_1$ that satisfies $\\varphi$ and $\\mathcal{M}_2$ that does not.\n\n**Structure $\\mathcal{M}_1$ (a model of $\\varphi$):**\nLet's choose a specific partition of $D$ into two classes of size $2$: $\\{\\{0,1\\}, \\{2,3\\}\\}$.\n-   The interpretation of $R$, $R^{\\mathcal{M}_1}$, is the equivalence relation corresponding to this partition:\n    $R^{\\mathcal{M}_1} = \\{(0,0), (1,1), (2,2), (3,3), (0,1), (1,0), (2,3), (3,2)\\}$. This satisfies conditions 1 and 2.\n-   The interpretation of $f$, $f^{\\mathcal{M}_1}$, is determined by this partition. It must swap elements within each class:\n    $f^{\\mathcal{M}_1}(0)=1, f^{\\mathcal{M}_1}(1)=0, f^{\\mathcal{M}_1}(2)=3, f^{\\mathcal{M}_1}(3)=2$. This satisfies condition 3.\n-   Let's choose an interpretation for $c$, say $c^{\\mathcal{M}_1} = 0$.\n-   The interpretation of $P$, $P^{\\mathcal{M}_1}$, must be the equivalence class of $c^{\\mathcal{M}_1}=0$, which is $\\{0,1\\}$. So, $P^{\\mathcal{M}_1} = \\{0,1\\}$. This satisfies condition 4.\nSince all four conditions are met, $\\mathcal{M}_1 \\models \\varphi$.\n\n**Structure $\\mathcal{M}_2$ (not a model of $\\varphi$):**\nWe can construct a non-model by violating one of the conditions. A simple way is to violate condition 4 while keeping the other interpretations the same as in $\\mathcal{M}_1$.\n-   $R^{\\mathcal{M}_2} = R^{\\mathcal{M}_1} = \\{(0,0), (1,1), (2,2), (3,3), (0,1), (1,0), (2,3), (3,2)\\}$.\n-   $f^{\\mathcal{M}_2} = f^{\\mathcal{M}_1}$, so $f^{\\mathcal{M}_2}(0)=1, f^{\\mathcal{M}_2}(1)=0, f^{\\mathcal{M}_2}(2)=3, f^{\\mathcal{M}_2}(3)=2$.\n-   $c^{\\mathcal{M}_2} = c^{\\mathcalM}_1} = 0$.\nWith these choices, conditions 1, 2, and 3 are satisfied. For $\\mathcal{M}_2$ to be a model, condition 4 would require $P^{\\mathcal{M}_2}$ to be the class of $c^{\\mathcal{M}_2}=0$, which is $\\{0,1\\}$. We will choose a different interpretation for $P$.\n-   Let $P^{\\mathcal{M}_2} = \\{2,3\\}$.\nNow let's check condition 4: $\\forall x (P(x) \\leftrightarrow R(x,c))$. Let's test this with $x=0$.\n$P^{\\mathcal{M}_2}(0)$ is false since $0 \\notin \\{2,3\\}$.\n$R^{\\mathcal{M}_2}(0, c^{\\mathcal{M}_2})$ is $R^{\\mathcal{M}_2}(0,0)$, which is true.\nSo the equivalence $P^{\\mathcal{M}_2}(0) \\leftrightarrow R^{\\mathcal{M}_2}(0,0)$ becomes $False \\leftrightarrow True$, which is false.\nThe universal statement $\\forall x (P(x) \\leftrightarrow R(x,c))$ is therefore false in $\\mathcal{M}_2$. Thus, $\\mathcal{M}_2 \\not\\models \\varphi$. This demonstrates that the truth of $\\varphi$ is dependent on the interpretation.\n\n**Task 2: Determine the number of satisfying structures $N$**\n\nWe count the number of ways to define the interpretations of $R, f, c, P$ on $D=\\{0,1,2,3\\}$ that satisfy all conditions.\n\n1.  **Number of choices for $R^{\\mathcal{M}}$:** As established, $R^{\\mathcal{M}}$ must partition $D$ into two classes of size $2$. The number of ways to do this is the number of ways to choose $2$ elements for one class from the $4$ available elements, and then divide by $2$ because the two classes are indistinguishable (choosing $\\{0,1\\}$ results in the same partition as choosing $\\{2,3\\}$).\n    Number of partitions = $\\frac{1}{2}\\binom{4}{2} = \\frac{1}{2} \\cdot \\frac{4 \\cdot 3}{2 \\cdot 1} = \\frac{6}{2} = 3$.\n    The three possible partitions are: $\\{\\{0,1\\},\\{2,3\\}\\}$, $\\{\\{0,2\\},\\{1,3\\}\\}$, and $\\{\\{0,3\\},\\{1,2\\}\\}$.\n    So there are $3$ ways to choose $R^{\\mathcal{M}}$.\n\n2.  **Number of choices for $f^{\\mathcal{M}}$:** For each choice of $R^{\\mathcal{M}}$ (i.e., for each partition), the function $f^{\\mathcal{M}}$ is uniquely determined. It must swap the elements within each of the two pairs. For example, if the partition is $\\{\\{0,1\\},\\{2,3\\}\\}$, then $f^{\\mathcal{M}}$ must be the permutation $(0 \\ 1)(2 \\ 3)$.\n    So there is only $1$ way to choose $f^{\\mathcal{M}}$ for each choice of $R^{\\mathcal{M}}$.\n\n3.  **Number of choices for $c^{\\mathcal{M}}$:** The constant symbol $c$ can be interpreted as any element of the domain $D$. There are no restrictions on the choice of $c^{\\mathcal{M}}$.\n    So there are $|D| = 4$ ways to choose $c^{\\mathcal{M}}$.\n\n4.  **Number of choices for $P^{\\mathcal{M}}$:** The interpretation $P^{\\mathcal{M}}$ is completely determined by $R^{\\mathcal{M}}$ and $c^{\\mathcal{M}}$. It must be the equivalence class of $c^{\\mathcal{M}}$. Once $R^{\\mathcal{M}}$ and $c^{\\mathcal{M}}$ are fixed, there is no more choice to be made.\n    So there is only $1$ way to choose $P^{\\mathcal{M}}$ for each pair of choices for $R^{\\mathcal{M}}$ and $c^{\\mathcal{M}}$.\n\nThe total number of satisfying structures, $N$, is the product of the number of independent choices for each component.\n$N = (\\text{choices for } R) \\times (\\text{choices for } f \\text{ given } R) \\times (\\text{choices for } c) \\times (\\text{choices for } P \\text{ given } R, c)$\n$N = 3 \\times 1 \\times 4 \\times 1 = 12$.\n\nThere are exactly $12$ distinct $\\mathcal{L}$-structures on $D$ that satisfy the sentence $\\varphi$.", "answer": "$$\\boxed{12}$$", "id": "2973030"}]}