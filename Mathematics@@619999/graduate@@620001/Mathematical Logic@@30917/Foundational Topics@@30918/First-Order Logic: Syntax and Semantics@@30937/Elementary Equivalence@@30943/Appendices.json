{"hands_on_practices": [{"introduction": "Understanding elementary equivalence begins with a crucial distinction: the difference between a substructure and an elementary substructure. While a substructure is simply a closed subset of a larger structure's universe, an elementary substructure must also be logically indistinguishable from the larger structure with respect to all first-order statements involving its elements. This exercise [@problem_id:2972242] challenges you to formalize this distinction, contrasting the set-theoretic nature of a substructure with the semantic definition of an elementary substructure, and to recognize the powerful Tarski–Vaught test as a key practical criterion for establishing this relationship.", "problem": "Let $L$ be a first-order language and let $\\mathcal{M}$ be an $L$-structure with universe $M$. An $L$-structure $\\mathcal{A}$ with universe $A$ and an inclusion $A \\subseteq M$ is called a substructure or an elementary substructure of $\\mathcal{M}$ according to different criteria. Using only fundamental definitions of the semantics of First-Order Logic (FOL)—in particular, the interpretation of symbols of $L$ in $L$-structures and the satisfaction relation $\\models$—determine which of the following statements correctly and precisely formulate the notions of substructure and elementary substructure, and correctly explain why the substructure notion is purely set-theoretic while the elementary substructure notion is semantic.\n\nChoose all options that are correct.\n\nA. Let $L$ have constant symbols $c$, function symbols $f$ of arity $n$, and relation symbols $R$ of arity $m$. Then $\\mathcal{A}$ is a substructure of $\\mathcal{M}$ if and only if $A \\subseteq M$, $c^{\\mathcal{A}} = c^{\\mathcal{M}} \\in A$ for each constant symbol $c$, $f^{\\mathcal{A}} = f^{\\mathcal{M}} \\upharpoonright A^{n}$ for each function symbol $f$, and $R^{\\mathcal{A}} = R^{\\mathcal{M}} \\cap A^{m}$ for each relation symbol $R$.\n\nB. $\\mathcal{A}$ is an elementary substructure of $\\mathcal{M}$ if and only if $A \\subseteq M$, the interpretations of all non-logical symbols of $L$ in $\\mathcal{A}$ are restrictions of those in $\\mathcal{M}$, and for every quantifier-free $L$-formula $\\varphi(\\bar{x})$ and every tuple $\\bar{a} \\in A$, one has $\\mathcal{A} \\models \\varphi(\\bar{a})$ if and only if $\\mathcal{M} \\models \\varphi(\\bar{a})$.\n\nC. $\\mathcal{A}$ is an elementary substructure of $\\mathcal{M}$, denoted $\\mathcal{A} \\preccurlyeq \\mathcal{M}$, if and only if $A \\subseteq M$ and for every $L$-formula $\\varphi(\\bar{x})$ and every tuple $\\bar{a} \\in A$, one has $\\mathcal{A} \\models \\varphi(\\bar{a})$ if and only if $\\mathcal{M} \\models \\varphi(\\bar{a})$.\n\nD. The definition of substructure is semantic because it quantifies over all $L$-formulas, whereas the definition of elementary substructure is purely set-theoretic because it refers only to the interpretations of the non-logical symbols.\n\nE. (Tarski–Vaught Test) If $A \\subseteq M$ and for every $L$-formula $\\varphi(y,\\bar{x})$ and every tuple $\\bar{a} \\in A$ with $\\mathcal{M} \\models \\exists y\\, \\varphi(y,\\bar{a})$, there exists $b \\in A$ such that $\\mathcal{M} \\models \\varphi(b,\\bar{a})$, then the $L$-structure with universe $A$ obtained by restricting the interpretations of the symbols of $L$ in $\\mathcal{M}$ to $A$ is an elementary substructure $\\mathcal{A} \\preccurlyeq \\mathcal{M}$. This condition highlights the semantic nature of elementary substructures.\n\nF. If $\\mathcal{A}$ is a substructure of $\\mathcal{M}$, then $\\mathcal{A}$ and $\\mathcal{M}$ are elementarily equivalent, that is, $\\mathcal{A} \\equiv \\mathcal{M}$.\n\nG. The substructure relation depends only on the set-theoretic restriction of the interpretations of constants, functions, and relations to a subset $A \\subseteq M$ without using the satisfaction relation $\\models$, whereas the elementary substructure relation is defined by preservation of truth of all first-order formulas with parameters in $A$. Hence the former is purely set-theoretic and the latter is semantic.", "solution": "The problem requires an evaluation of several statements concerning the definitions of substructure and elementary substructure in first-order logic, and the distinction between their set-theoretic and semantic natures. We will proceed by first establishing the rigorous definitions from first principles and then analyzing each proposed statement.\n\nLet $L$ be a first-order language. An $L$-structure $\\mathcal{M}$ consists of a non-empty set $M$, called the universe or domain, and an interpretation for each non-logical symbol in $L$:\n- For each constant symbol $c$ of $L$, an element $c^{\\mathcal{M}} \\in M$.\n- For each $n$-ary function symbol $f$ of $L$, a function $f^{\\mathcal{M}}: M^n \\to M$.\n- For each $m$-ary relation symbol $R$ of $L$, a relation $R^{\\mathcal{M}} \\subseteq M^m$.\n\nThe Tarskian semantics define the satisfaction relation $\\mathcal{M} \\models \\varphi(\\bar{a})$ for an $L$-formula $\\varphi(\\bar{x})$ and a tuple of parameters $\\bar{a}$ from $M$.\n\n**1. Definition of a Substructure**\nAn $L$-structure $\\mathcal{A}$ with universe $A$ is a substructure of an $L$-structure $\\mathcal{M}$ with universe $M$ if the following conditions hold:\ni. $A$ is a non-empty subset of $M$, i.e., $A \\subseteq M$.\nii. For every constant symbol $c$ of $L$, $c^{\\mathcal{A}} = c^{\\mathcal{M}}$. This implies that for every constant $c$, its interpretation in $\\mathcal{M}$ must be an element of $A$.\niii. For every $n$-ary function symbol $f$ of $L$, $A$ is closed under $f^{\\mathcal{M}}$. That is, for all $a_1, \\dots, a_n \\in A$, $f^{\\mathcal{M}}(a_1, \\dots, a_n) \\in A$. The interpretation $f^{\\mathcal{A}}$ is then defined as the restriction of $f^{\\mathcal{M}}$ to $A^n$, i.e., $f^{\\mathcal{A}} = f^{\\mathcal{M}} \\upharpoonright A^n$.\niv. For every $m$-ary relation symbol $R$ of $L$, the interpretation $R^{\\mathcal{A}}$ is the restriction of $R^{\\mathcal{M}}$ to $A^m$, i.e., $R^{\\mathcal{A}} = R^{\\mathcal{M}} \\cap A^m$.\n\nIt is a fundamental theorem that if $\\mathcal{A}$ is a substructure of $\\mathcal{M}$, then for any *quantifier-free* $L$-formula $\\varphi(\\bar{x})$ and any tuple $\\bar{a}$ from $A$, we have $\\mathcal{A} \\models \\varphi(\\bar{a})$ if and only if $\\mathcal{M} \\models \\varphi(\\bar{a})$.\n\nThis definition is \"set-theoretic\" because it is entirely concerned with the relationship between the sets, functions, and relations that constitute the structures ($A \\subseteq M$, $f^{\\mathcal{A}}$ as a restriction of $f^{\\mathcal{M}}$, etc.). It makes no reference to the satisfaction relation $\\models$ for arbitrary formulas.\n\n**2. Definition of an Elementary Substructure**\nAn $L$-structure $\\mathcal{A}$ is an elementary substructure of $\\mathcal{M}$, denoted $\\mathcal{A} \\preccurlyeq \\mathcal{M}$, if:\ni. $\\mathcal{A}$ is a substructure of $\\mathcal{M}$.\nii. For every $L$-formula $\\varphi(\\bar{x})$ (with or without quantifiers) and every tuple of parameters $\\bar{a}$ from $A$, we have $\\mathcal{A} \\models \\varphi(\\bar{a})$ if and only if $\\mathcal{M} \\models \\varphi(\\bar{a})$.\n\nThis definition is \"semantic\" because its core condition is the preservation of truth, which is defined by the satisfaction relation $\\models$. It quantifies over all formulas in the language, connecting the structures through their shared logical properties.\n\nNow we evaluate each option:\n\n**A. Let $L$ have constant symbols $c$, function symbols $f$ of arity $n$, and relation symbols $R$ of arity $m$. Then $\\mathcal{A}$ is a substructure of $\\mathcal{M}$ if and only if $A \\subseteq M$, $c^{\\mathcal{A}} = c^{\\mathcal{M}} \\in A$ for each constant symbol $c$, $f^{\\mathcal{A}} = f^{\\mathcal{M}} \\upharpoonright A^{n}$ for each function symbol $f$, and $R^{\\mathcal{A}} = R^{\\mathcal{M}} \\cap A^{m}$ for each relation symbol $R$.**\nThis statement provides a complete and precise definition of a substructure. It correctly specifies that the universe $A$ is a subset of $M$, that the interpretations of constants in $\\mathcal{A}$ must equal those in $\\mathcal{M}$ and lie within $A$, and that the interpretations of functions and relations in $\\mathcal{A}$ are the restrictions of those in $\\mathcal{M}$ to the domain $A$. The condition regarding functions, $f^{\\mathcal{A}} = f^{\\mathcal{M}} \\upharpoonright A^{n}$, implicitly requires that $A$ is closed under the functions of $\\mathcal{M}$. This is a correct formulation.\nVerdict: **Correct**.\n\n**B. $\\mathcal{A}$ is an elementary substructure of $\\mathcal{M}$ if and only if $A \\subseteq M$, the interpretations of all non-logical symbols of $L$ in $\\mathcal{A}$ are restrictions of those in $\\mathcal{M}$, and for every quantifier-free $L$-formula $\\varphi(\\bar{x})$ and every tuple $\\bar{a} \\in A$, one has $\\mathcal{A} \\models \\varphi(\\bar{a})$ if and only if $\\mathcal{M} \\models \\varphi(\\bar{a})$.**\nThis statement attempts to define an elementary substructure. However, the condition given is the preservation of truth for *quantifier-free* formulas only. As stated above, this property holds for *any* substructure. The defining characteristic of an *elementary* substructure is that truth is preserved for *all* formulas, including those with quantifiers. This statement incorrectly equates the definition of an elementary substructure with a property common to all substructures.\nVerdict: **Incorrect**.\n\n**C. $\\mathcal{A}$ is an elementary substructure of $\\mathcal{M}$, denoted $\\mathcal{A} \\preccurlyeq \\mathcal{M}$, if and only if $A \\subseteq M$ and for every $L$-formula $\\varphi(\\bar{x})$ and every tuple $\\bar{a} \\in A$, one has $\\mathcal{A} \\models \\varphi(\\bar{a})$ if and only if $\\mathcal{M} \\models \\varphi(\\bar{a})$.**\nThis statement provides an alternative but equivalent definition of an elementary substructure. While the standard definition first requires $\\mathcal{A}$ to be a substructure and then adds the formula-preservation condition, the latter condition is so strong that it implies the former. For example, considering a formula like $f(x_1, \\dots, x_n) = y$ with parameters from $A$ forces the function restriction property. Similarly for constants (via $x=c$) and relations (via $R(\\bar{x})$). Therefore, this formulation is a correct and complete characterization of the elementary substructure relation.\nVerdict: **Correct**.\n\n**D. The definition of substructure is semantic because it quantifies over all $L$-formulas, whereas the definition of elementary substructure is purely set-theoretic because it refers only to the interpretations of the non-logical symbols.**\nThis statement reverses the correct characterization. The definition of *elementary substructure* is semantic because it quantifies over all $L$-formulas (via the satisfaction relation $\\models$). The definition of *substructure* is purely set-theoretic as it only concerns the relationship between universes and the restricted interpretations of symbols, without reference to the truth of arbitrary formulas.\nVerdict: **Incorrect**.\n\n**E. (Tarski–Vaught Test) If $A \\subseteq M$ and for every $L$-formula $\\varphi(y,\\bar{x})$ and every tuple $\\bar{a} \\in A$ with $\\mathcal{M} \\models \\exists y\\, \\varphi(y,\\bar{a})$, there exists $b \\in A$ such that $\\mathcal{M} \\models \\varphi(b,\\bar{a})$, then the $L$-structure with universe $A$ obtained by restricting the interpretations of the symbols of $L$ in $\\mathcal{M}$ to $A$ is an elementary substructure $\\mathcal{A} \\preccurlyeq \\mathcal{M}$. This condition highlights the semantic nature of elementary substructures.**\nThis statement correctly formulates the sufficiency direction of the Tarski–Vaught test, a crucial criterion for identifying elementary substructures. The condition—that any existential formula with parameters in $A$ which has a witness in $M$ must also have a witness in $A$—is precisely what is needed to extend the preservation of truth from quantifier-free formulas to all formulas by induction on formula complexity. This condition is fundamentally semantic as it is based on the satisfaction relation $\\models$ and the behavior of quantifiers. The assertion that this highlights the semantic nature of the concept is also correct.\nVerdict: **Correct**.\n\n**F. If $\\mathcal{A}$ is a substructure of $\\mathcal{M}$, then $\\mathcal{A}$ and $\\mathcal{M}$ are elementarily equivalent, that is, $\\mathcal{A} \\equiv \\mathcal{M}$.**\nThis statement is false. Two structures are elementarily equivalent, $\\mathcal{A} \\equiv \\mathcal{M}$, if they satisfy the same $L$-sentences (formulas with no free variables). The property of being a substructure is much weaker and does not guarantee elementary equivalence. For a counterexample, let $L$ be the language with one unary relation symbol $P$. Let $\\mathcal{M}$ have universe $M=\\{0,1\\}$ with $P^{\\mathcal{M}} = \\{0\\}$. Let $\\mathcal{A}$ have universe $A=\\{0\\}$ with $P^{\\mathcal{A}} = \\{0\\}$. $\\mathcal{A}$ is a substructure of $\\mathcal{M}$. However, the sentence $\\exists x(\\neg P(x))$ is true in $\\mathcal{M}$ (witness $x=1$) but false in $\\mathcal{A}$. Thus $\\mathcal{A} \\not\\equiv \\mathcal{M}$.\nVerdict: **Incorrect**.\n\n**G. The substructure relation depends only on the set-theoretic restriction of the interpretations of constants, functions, and relations to a subset $A \\subseteq M$ without using the satisfaction relation $\\models$, whereas the elementary substructure relation is defined by preservation of truth of all first-order formulas with parameters in $A$. Hence the former is purely set-theoretic and the latter is semantic.**\nThis statement offers a lucid and accurate explanation of the core distinction between the two concepts. It correctly identifies that the substructure definition is algebraic/set-theoretic, dealing with the closure of a subset under the structure's basic operations. It also correctly identifies that the elementary substructure definition is logical/semantic, requiring the preservation of truth for all formulas, which is a much stronger condition defined via the satisfaction relation $\\models$. The conclusion drawn is entirely correct.\nVerdict: **Correct**.", "answer": "$$\\boxed{ACEG}$$", "id": "2972242"}, {"introduction": "To make the abstract notion of elementary equivalence concrete, logicians use the powerful tool of Ehrenfeucht–Fraïssé (EF) games. These games provide a direct, combinatorial method for measuring the logical similarity between structures, linking a player's winning strategy to the preservation of formulas up to a certain quantifier depth. This practice problem [@problem_id:2972231] delves into this characterization, asking you to connect the outcome of an EF game with the concept of a \"type,\" which captures all first-order properties of a tuple of elements within a structure.", "problem": "Let $\\mathcal{L}$ be a finite relational first-order language (no function symbols, no built-in constants). For an $\\mathcal{L}$-structure $\\mathcal{M}$ and a tuple $\\bar{a} = (a_1,\\dots,a_m) \\in M^m$, let $\\mathcal{L}_{\\bar{c}} := \\mathcal{L} \\cup \\{c_1,\\dots,c_m\\}$ be the expansion of the language by new constant symbols, and write $(\\mathcal{M},\\bar{a})$ for the $\\mathcal{L}_{\\bar{c}}$-structure interpreting $c_i$ by $a_i$ for each $i \\in \\{1,\\dots,m\\}$. For $\\mathcal{L}$-formulas, define the quantifier rank $\\mathrm{qr}(\\varphi)$ in the usual way by $\\mathrm{qr}(\\neg \\psi) = \\mathrm{qr}(\\psi)$, $\\mathrm{qr}(\\psi \\land \\theta) = \\max\\{\\mathrm{qr}(\\psi),\\mathrm{qr}(\\theta)\\}$, and $\\mathrm{qr}(\\exists x\\,\\psi) = \\mathrm{qr}(\\forall x\\,\\psi) = \\mathrm{qr}(\\psi) + 1$, with atomic formulas of rank $0$. The $\\mathcal{L}$-type of a tuple $\\bar{a}$ over the empty set is the set $\\mathrm{tp}^{\\mathcal{M}}(\\bar{a}) := \\{\\varphi(\\bar{x}) \\text{ an $\\mathcal{L}$-formula} : \\mathcal{M} \\models \\varphi(\\bar{a})\\}$; it is called complete if it decides every $\\mathcal{L}$-formula in the variables $\\bar{x}$. For $k \\in \\mathbb{N}$, the $k$-type is $\\mathrm{tp}_k^{\\mathcal{M}}(\\bar{a}) := \\{\\varphi(\\bar{x}) : \\mathrm{qr}(\\varphi) \\le k \\text{ and } \\mathcal{M} \\models \\varphi(\\bar{a})\\}$.\n\nConsider the $k$-round Ehrenfeucht–Fraïssé (EF) game between two $\\mathcal{L}$-structures $\\mathcal{M},\\mathcal{N}$. We also consider the EF game on expansions by constants as follows: for $(\\mathcal{M},\\bar{a})$ and $(\\mathcal{N},\\bar{b})$ in the language $\\mathcal{L}_{\\bar{c}}$, the game is played with the standard EF rules for $\\mathcal{L}_{\\bar{c}}$-structures and starts from the pre-placed pebbles that fix $c_i^{\\mathcal{M}}=a_i$ mapped to $c_i^{\\mathcal{N}}=b_i$ for each $i \\in \\{1,\\dots,m\\}$; equivalently, the initial partial isomorphism must send $a_i$ to $b_i$ for all $i$.\n\nFix $\\mathcal{L}$-structures $\\mathcal{M},\\mathcal{N}$, a tuple length $m \\in \\mathbb{N}$, tuples $\\bar{a} \\in M^m$, $\\bar{b} \\in N^m$, and a number of rounds $k \\in \\mathbb{N}$. Evaluate the following statements about how the EF characterization interacts with expansions by constants. Select all statements that are correct.\n\nA. If the Duplicator has a winning strategy in the $k$-round EF game on $(\\mathcal{M},\\bar{a})$ and $(\\mathcal{N},\\bar{b})$, then for every $\\mathcal{L}$-formula $\\varphi(\\bar{x})$ with $\\mathrm{qr}(\\varphi) \\le k$ one has $\\mathcal{M} \\models \\varphi(\\bar{a})$ if and only if $\\mathcal{N} \\models \\varphi(\\bar{b})$.\n\nB. If $\\mathrm{tp}^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}^{\\mathcal{N}}(\\bar{b})$ (that is, $\\bar{a}$ and $\\bar{b}$ realize the same complete $\\mathcal{L}$-type over the empty set), then $(\\mathcal{M},\\bar{a}) \\equiv (\\mathcal{N},\\bar{b})$ as $\\mathcal{L}_{\\bar{c}}$-structures.\n\nC. If the Duplicator has a winning strategy in the $k$-round EF game on $\\mathcal{M}$ and $\\mathcal{N}$, and $\\bar{a}$ and $\\bar{b}$ have the same quantifier-free $\\mathcal{L}$-type, then the Duplicator has a winning strategy in the $k$-round EF game on $(\\mathcal{M},\\bar{a})$ and $(\\mathcal{N},\\bar{b})$.\n\nD. If $\\mathrm{tp}_k^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}_k^{\\mathcal{N}}(\\bar{b})$, then the Duplicator has a winning strategy in the $k$-round EF game on $(\\mathcal{M},\\bar{a})$ and $(\\mathcal{N},\\bar{b})$.\n\nF. If for every $k \\in \\mathbb{N}$ the Duplicator has a winning strategy in the $k$-round EF game on $(\\mathcal{M},\\bar{a})$ and $(\\mathcal{N},\\bar{b})$, then $\\mathrm{tp}^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}^{\\mathcal{N}}(\\bar{b})$.\n\nG. If $\\mathrm{tp}^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}^{\\mathcal{N}}(\\bar{b})$, then there exists an isomorphism $f:\\mathcal{M} \\to \\mathcal{N}$ with $f(\\bar{a})=\\bar{b}$.\n\nYour answer should be the set of all correct options.", "solution": "The problem statement is a valid exercise in elementary model theory. It presents standard definitions for first-order languages, structures, types, quantifier rank, and Ehrenfeucht-Fraïssé (EF) games. All terms are formally defined and internally consistent. The problem is scientifically grounded in mathematical logic, well-posed, and objective. It is free of any of the invalidating flaws listed in the instructions. Therefore, I will proceed to solve the problem by evaluating each statement.\n\nThe core of the problem revolves around the Ehrenfeucht-Fraïssé characterization of elementary equivalence, both in its finite version ($k$-equivalence) and its full version, and how this interacts with expanding a structure by naming some of its elements as constants.\n\nLet's denote the statement \"the Duplicator has a winning strategy in the $k$-round EF game on $(\\mathcal{M},\\bar{a})$ and $(\\mathcal{N},\\bar{b})$\" by $(\\mathcal{M},\\bar{a}) \\equiv_k (\\mathcal{N},\\bar{b})$. This game is played on the expanded $\\mathcal{L}_{\\bar{c}}$-structures. The fundamental theorem of Ehrenfeucht-Fraïssé games states that two $\\mathcal{L}_{\\bar{c}}$-structures, in this case $(\\mathcal{M},\\bar{a})$ and $(\\mathcal{N},\\bar{b})$, are $k$-equivalent if and only if they satisfy the same $\\mathcal{L}_{\\bar{c}}$-sentences of quantifier rank up to $k$.\n\nAn $\\mathcal{L}_{\\bar{c}}$-sentence is a formula of the form $\\varphi(c_1, \\dots, c_m)$, where $\\varphi(x_1, \\dots, x_m)$ is an $\\mathcal{L}$-formula with $m$ free variables. The truth of such a sentence in $(\\mathcal{M},\\bar{a})$ is given by $\\mathcal{M} \\models \\varphi(\\bar{a})$. The quantifier rank of $\\varphi(\\bar{c})$ is equal to that of $\\varphi(\\bar{x})$.\n\nTherefore, the condition $(\\mathcal{M},\\bar{a}) \\equiv_k (\\mathcal{N},\\bar{b})$ is equivalent to stating that for every $\\mathcal{L}$-formula $\\varphi(\\bar{x})$ with $\\mathrm{qr}(\\varphi) \\le k$, one has $\\mathcal{M} \\models \\varphi(\\bar{a})$ if and only if $\\mathcal{N} \\models \\varphi(\\bar{b})$. This latter condition is precisely the definition of the tuples $\\bar{a}$ and $\\bar{b}$ having the same $k$-type, i.e., $\\mathrm{tp}_k^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}_k^{\\mathcal{N}}(\\bar{b})$.\n\nWith this equivalence established, let us evaluate the given options.\n\n**A. If the Duplicator has a winning strategy in the $k$-round EF game on $(\\mathcal{M},\\bar{a})$ and $(\\mathcal{N},\\bar{b})$, then for every $\\mathcal{L}$-formula $\\varphi(\\bar{x})$ with $\\mathrm{qr}(\\varphi) \\le k$ one has $\\mathcal{M} \\models \\varphi(\\bar{a})$ if and only if $\\mathcal{N} \\models \\varphi(\\bar{b})$.**\n\nThe premise is $(\\mathcal{M},\\bar{a}) \\equiv_k (\\mathcal{N},\\bar{b})$. The conclusion is $\\mathrm{tp}_k^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}_k^{\\mathcal{N}}(\\bar{b})$. As established above from the EF theorem, these two statements are equivalent. The implication from the premise to the conclusion is therefore true. This is one direction of the EF characterization of $k$-types.\n\n**Verdict: Correct.**\n\n**B. If $\\mathrm{tp}^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}^{\\mathcal{N}}(\\bar{b})$, then $(\\mathcal{M},\\bar{a}) \\equiv (\\mathcal{N},\\bar{b})$ as $\\mathcal{L}_{\\bar{c}}$-structures.**\n\nThe premise is that $\\bar{a}$ and $\\bar{b}$ have the same complete type, which means that for every $\\mathcal{L}$-formula $\\varphi(\\bar{x})$ (of any quantifier rank), $\\mathcal{M} \\models \\varphi(\\bar{a}) \\iff \\mathcal{N} \\models \\varphi(\\bar{b})$.\nThe conclusion is that the $\\mathcal{L}_{\\bar{c}}$-structures $(\\mathcal{M},\\bar{a})$ and $(\\mathcal{N},\\bar{b})$ are elementarily equivalent. By definition, this means for any $\\mathcal{L}_{\\bar{c}}$-sentence $\\sigma$, we have $(\\mathcal{M},\\bar{a}) \\models \\sigma \\iff (\\mathcal{N},\\bar{b}) \\models \\sigma$.\nAs an $\\mathcal{L}_{\\bar{c}}$-sentence $\\sigma$ is equivalent to $\\varphi(c_1, \\dots, c_m)$ for some $\\mathcal{L}$-formula $\\varphi(\\bar{x})$, and given that $(\\mathcal{M},\\bar{a}) \\models \\varphi(\\bar{c})$ is the same as $\\mathcal{M} \\models \\varphi(\\bar{a})$, the conclusion is precisely equivalent to the premise. The statement is thus definitionally true.\n\n**Verdict: Correct.**\n\n**C. If the Duplicator has a winning strategy in the $k$-round EF game on $\\mathcal{M}$ and $\\mathcal{N}$, and $\\bar{a}$ and $\\bar{b}$ have the same quantifier-free $\\mathcal{L}$-type, then the Duplicator has a winning strategy in the $k$-round EF game on $(\\mathcal{M},\\bar{a})$ and $(\\mathcal{N},\\bar{b})$.**\n\nThis statement is false. The condition $\\mathcal{M} \\equiv_k \\mathcal{N}$ does not provide enough information about the structures to guarantee that $k$-equivalence is preserved after naming elements, even if those elements have the same local (quantifier-free) properties.\nConsider the following counterexample. Let $\\mathcal{L}$ be the empty language (with only equality). Let $k=1$.\nLet $\\mathcal{M}$ be a set with one element, $M = \\{p_1\\}$, and $\\mathcal{N}$ be a set with two elements, $N = \\{q_1, q_2\\}$.\nThe sentence $\\exists x \\exists y (x\\neq y)$ has quantifier rank $2$. Thus, any sentence with quantifier rank $\\le 1$ cannot distinguish between finite structures of size $1$ and $2$. Hence, $\\mathcal{M} \\equiv_1 \\mathcal{N}$, so the Duplicator has a winning strategy in the $1$-round game on $\\mathcal{M}$ and $\\mathcal{N}$.\nNow, let $m=1$, $\\bar{a}=(p_1)$ and $\\bar{b}=(q_1)$. The quantifier-free type of a single element is trivial (it satisfies $x_1=x_1$), so $\\mathrm{tp}_{qf}^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}_{qf}^{\\mathcal{N}}(\\bar{b})$.\nThe premises of the statement are satisfied.\nThe conclusion is that the Duplicator has a winning strategy in the $1$-round EF game on $(\\mathcal{M},\\bar{a})$ and $(\\mathcal{N},\\bar{b})$. This is equivalent to $(\\mathcal{M},\\bar{a}) \\equiv_1 (\\mathcal{N},\\bar{b})$.\nLet $\\mathcal{L}_c = \\mathcal{L} \\cup \\{c_1\\}$. Consider the $\\mathcal{L}_c$-sentence $\\sigma \\equiv \\exists y(y \\neq c_1)$. The quantifier rank is $\\mathrm{qr}(\\sigma)=1$.\nIn the structure $(\\mathcal{M},\\bar{a})$, where $c_1$ is interpreted as $p_1$, the sentence is false since $M$ contains no other elements.\nIn the structure $(\\mathcal{N},\\bar{b})$, where $c_1$ is interpreted as $q_1$, the sentence is true because we can choose $y=q_2$.\nSince the two structures do not agree on a sentence of quantifier rank $1$, they are not $1$-equivalent. Thus, the conclusion is false.\n\n**Verdict: Incorrect.**\n\n**D. If $\\mathrm{tp}_k^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}_k^{\\mathcal{N}}(\\bar{b})$, then the Duplicator has a winning strategy in the $k$-round EF game on $(\\mathcal{M},\\bar{a})$ and $(\\mathcal{N},\\bar{b})$.**\n\nThe premise is $\\mathrm{tp}_k^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}_k^{\\mathcal{N}}(\\bar{b})$. The conclusion is $(\\mathcal{M},\\bar{a}) \\equiv_k (\\mathcal{N},\\bar{b})$. As established in the analysis of option A, these two statements are equivalent by the Ehrenfeucht-Fraïssé theorem. The implication is therefore true. This is the other direction of the EF characterization of $k$-types.\n\n**Verdict: Correct.**\n\n**F. If for every $k \\in \\mathbb{N}$ the Duplicator has a winning strategy in the $k$-round EF game on $(\\mathcal{M},\\bar{a})$ and $(\\mathcal{N},\\bar{b})$, then $\\mathrm{tp}^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}^{\\mathcal{N}}(\\bar{b})$.**\n\nThe premise is that for every $k \\in \\mathbb{N}$, $(\\mathcal{M},\\bar{a}) \\equiv_k (\\mathcal{N},\\bar{b})$. This is the game-theoretic definition of elementary equivalence for the expanded structures, i.e., $(\\mathcal{M},\\bar{a}) \\equiv (\\mathcal{N},\\bar{b})$.\nThe conclusion is $\\mathrm{tp}^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}^{\\mathcal{N}}(\\bar{b})$.\nAs shown in the analysis of option B, $(\\mathcal{M},\\bar{a}) \\equiv (\\mathcal{N},\\bar{b})$ is definitionally equivalent to $\\mathrm{tp}^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}^{\\mathcal{N}}(\\bar{b})$. Thus, the implication holds. To be more explicit, let $\\varphi(\\bar{x})$ be an arbitrary $\\mathcal{L}$-formula. It has a certain quantifier rank, say $k_0 = \\mathrm{qr}(\\varphi)$. By the premise, Duplicator wins the $k_0$-round game on $(\\mathcal{M},\\bar{a})$ and $(\\mathcal{N},\\bar{b})$. By the EF theorem (statement A), this implies that $\\mathcal{M} \\models \\varphi(\\bar{a}) \\iff \\mathcal{N} \\models \\varphi(\\bar{b})$. Since $\\varphi$ was arbitrary, this establishes $\\mathrm{tp}^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}^{\\mathcal{N}}(\\bar{b})$.\n\n**Verdict: Correct.**\n\n**G. If $\\mathrm{tp}^{\\mathcal{M}}(\\bar{a}) = \\mathrm{tp}^{\\mathcal{N}}(\\bar{b})$, then there exists an isomorphism $f:\\mathcal{M} \\to \\mathcal{N}$ with $f(\\bar{a})=\\bar{b}$.**\n\nThis statement claims that elementary equivalence of expanded structures implies isomorphism. This is a well-known falsehood in model theory. Elementary equivalence is a much weaker notion than isomorphism.\nFor a counterexample, let $\\mathcal{L}$ be the empty language of pure equality. Let $\\mathcal{M} = \\mathbb{N}$ (the set of natural numbers) and $\\mathcal{N} = \\mathbb{R}$ (the set of real numbers). Thus $|\\mathcal{M}| = \\aleph_0$ and $|\\mathcal{N}| = 2^{\\aleph_0}$. Since there is no bijection between $\\mathcal{M}$ and $\\mathcal{N}$, they cannot be isomorphic.\nLet $m=1$. Let $\\bar{a}=(a)$ for any $a \\in \\mathcal{M}$ and $\\bar{b}=(b)$ for any $b \\in \\mathcal{N}$. The theory of infinite sets is complete, meaning any two infinite sets are elementarily equivalent. Since any element in an infinite model of this theory is automorphic to any other element, all $1$-types are the same. Thus, $\\mathrm{tp}^{\\mathcal{M}}(a) = \\mathrm{tp}^{\\mathcal{N}}(b)$.\nThe premise is satisfied, but the conclusion is false as no isomorphism $f:\\mathcal{M} \\to \\mathcal{N}$ exists.\n\n**Verdict: Incorrect.**\n\nIn summary, statements A, B, D, and F are correct, while C and G are incorrect.", "answer": "$$\\boxed{ABDF}$$", "id": "2972231"}, {"introduction": "The abstract tools of model theory provide profound insights into concrete mathematical objects. A celebrated result by the logician Macintyre shows that the theory of the p-adic numbers, $\\mathrm{Th}(\\mathbb{Q}_p)$, has the property of quantifier elimination when expressed in a suitably expanded language. This final exercise [@problem_id:2972234] invites you to apply this powerful theorem, alongside the fundamental Löwenheim–Skolem theorems, to deduce deep structural facts about $\\mathbb{Q}_p$: its completeness and the necessary existence of non-isomorphic elementary extensions.", "problem": "Let $p$ be a fixed prime and consider the $p$-adic field $\\mathbb{Q}_p$ in the Macintyre language $L_{\\mathrm{mac}}=\\{+, \\cdot, 0, 1, P_n\\}_{n\\ge 2}$, where $P_n(x)$ is interpreted as “$x$ is an $n$th power.” Macintyre’s theorem (a classical result) asserts that in $L_{\\mathrm{mac}}$ the theory $T_p=\\mathrm{Th}(\\mathbb{Q}_p)$ eliminates quantifiers and axiomatizes the class of $p$-adically closed fields. Recall the definitions: a theory $T$ is complete if for every $L$-sentence $\\varphi$ either $T\\models \\varphi$ or $T\\models \\neg \\varphi$, and two structures are elementarily equivalent if they satisfy the same $L$-sentences.\n\nUsing only the standard definitions of quantifier elimination, elementary equivalence, completeness, and the Löwenheim–Skolem theorems, determine which option correctly explains why $T_p$ is complete and why there exist nonisomorphic elementary extensions of $\\mathbb{Q}_p$.\n\nChoose the correct option.\n\nA. Since $T_p$ eliminates quantifiers in $L_{\\mathrm{mac}}$, any two models of $T_p$ satisfy exactly the same $L_{\\mathrm{mac}}$-sentences, hence $T_p$ is complete. By the upward Löwenheim–Skolem theorem (or equivalently by Skolemization and taking Skolem hulls), for every infinite cardinal $\\kappa \\ge |\\mathbb{Q}_p|$ there is an elementary extension of $\\mathbb{Q}_p$ of cardinality $\\kappa$, so there exist nonisomorphic elementary extensions of $\\mathbb{Q}_p$.\n\nB. The theory $T_p$ is not complete because the valuation on $\\mathbb{Q}_p$ is not definable in the pure ring language $L_{\\mathrm{ring}}=\\{+, \\cdot, 0, 1\\}$; since definability fails in $L_{\\mathrm{ring}}$, completeness must fail even in $L_{\\mathrm{mac}}$, and upward Löwenheim–Skolem does not produce elementary extensions.\n\nC. The completeness of $T_p$ follows because $\\mathbb{Q}_p$ is algebraically closed in its algebraic closure, which implies quantifier elimination in $L_{\\mathrm{ring}}$; however, there are no nonisomorphic elementary extensions of $\\mathbb{Q}_p$ since any extension would be isomorphic to $\\mathbb{Q}_p$ by Hensel’s lemma.\n\nD. Quantifier elimination for $T_p$ implies categoricity in every infinite cardinal, so $T_p$ is complete but has no nonisomorphic elementary extensions of $\\mathbb{Q}_p$ in any cardinality.", "solution": "The problem statement is subjected to validation.\n\n**Step 1: Extract Givens**\n- $p$ is a fixed prime.\n- The structure is the $p$-adic field $\\mathbb{Q}_p$.\n- The language is $L_{\\mathrm{mac}}=\\{+, \\cdot, 0, 1, P_n\\}_{n\\ge 2}$.\n- $P_n(x)$ is interpreted as \"$x$ is an $n$th power.\"\n- Macintyre's theorem states that the theory $T_p=\\mathrm{Th}(\\mathbb{Q}_p)$ in the language $L_{\\mathrm{mac}}$ eliminates quantifiers.\n- Macintyre's theorem also states that $T_p$ axiomatizes the class of $p$-adically closed fields.\n- A theory $T$ is complete if for every $L$-sentence $\\varphi$, either $T\\models \\varphi$ or $T\\models \\neg \\varphi$.\n- Two structures are elementarily equivalent if they satisfy the same $L$-sentences.\n- The task is to use the definitions of quantifier elimination, elementary equivalence, completeness, and the Löwenheim–Skolem theorems to explain two points:\n    1. Why $T_p$ is complete.\n    2. Why there exist nonisomorphic elementary extensions of $\\mathbb{Q}_p$.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is well-defined and scientifically grounded within the field of mathematical logic (model theory). The concepts presented—$p$-adic fields, Macintyre's theorem on quantifier elimination for $\\mathbb{Q}_p$ in $L_{\\mathrm{mac}}$, completeness, and the Löwenheim–Skolem theorems—are all standard and factually correct. The problem is self-contained, providing the necessary definitions and context. The question asks for a logical derivation based on these accepted principles. There are no contradictions, ambiguities, or pseudo-scientific claims.\n\n**Step 3: Verdict and Action**\nThe problem is valid. A full derivation and evaluation of options will be performed.\n\n**Derivation of the Correct Explanation**\n\nThe problem asks for an explanation of two consequences of the given information.\n\n**Part 1: Completeness of $T_p$**\nA theory $T$ is complete if, for any sentence $\\varphi$ in its language, either $T \\models \\varphi$ or $T \\models \\neg\\varphi$. This is equivalent to saying that any two models of $T$ are elementarily equivalent.\n\nWe are given that the theory $T_p = \\mathrm{Th}(\\mathbb{Q}_p)$ has quantifier elimination in the language $L_{\\mathrm{mac}}$. Let's see how this implies completeness.\n\nLet $\\varphi$ be an arbitrary sentence (a formula with no free variables) in the language $L_{\\mathrm{mac}}$. Because $T_p$ has quantifier elimination, there exists a quantifier-free sentence $\\psi$ such that $T_p \\models (\\varphi \\leftrightarrow \\psi)$. This means that in any model of $T_p$, $\\varphi$ is true if and only if $\\psi$ is true.\n\nA quantifier-free sentence $\\psi$ is a Boolean combination of atomic sentences. An atomic sentence in $L_{\\mathrm{mac}}$ is of the form $t_1 = t_2$ or $P_n(t)$, where $t_1, t_2, t$ are terms constructed from the constants $0$ and $1$ using the operations $+$ and $\\cdot$. Such terms evaluate to integer values. For example, a term could be $(1+1)\\cdot(1+1+1)$, which represents the integer $6$.\n\nSo, the truth of any quantifier-free sentence $\\psi$ is determined by the truth of statements about integers, such as $2=3$ or \"$5$ is a $3$rd power.\"\nLet's consider such a sentence $\\psi$. By the very definition of $T_p$ as the theory of $\\mathbb{Q}_p$ ($T_p = \\mathrm{Th}(\\mathbb{Q}_p)$), we have either $\\mathbb{Q}_p \\models \\psi$ or $\\mathbb{Q}_p \\models \\neg \\psi$.\n- If $\\mathbb{Q}_p \\models \\psi$, then by definition, $\\psi \\in T_p$, so $T_p \\models \\psi$.\n- If $\\mathbb{Q}_p \\models \\neg \\psi$, then by definition, $\\neg \\psi \\in T_p$, so $T_p \\models \\neg \\psi$.\n\nSo, for any quantifier-free sentence $\\psi$, its truth value is decided by the theory $T_p$.\n\nNow, returning to our arbitrary sentence $\\varphi$, we have $T_p \\models \\varphi \\leftrightarrow \\psi$ for some quantifier-free $\\psi$.\n- If $T_p \\models \\psi$, then it must be that $T_p \\models \\varphi$.\n- If $T_p \\models \\neg\\psi$, then it must be that $T_p \\models \\neg\\varphi$.\n\nSince one of these two cases for $\\psi$ must hold, it follows that for any sentence $\\varphi$, either $T_p \\models \\varphi$ or $T_p \\models \\neg\\varphi$. This is precisely the definition of a complete theory. Thus, the quantifier elimination property of $T_p$ implies its completeness.\n\n**Part 2: Existence of Nonisomorphic Elementary Extensions**\nAn elementary extension of a structure $\\mathcal{A}$ is a structure $\\mathcal{B}$ such that $\\mathcal{A}$ is a substructure of $\\mathcal{B}$ and they satisfy the same formulas with parameters from $\\mathcal{A}$. We write this as $\\mathcal{A} \\preceq \\mathcal{B}$. If $\\mathcal{A} \\preceq \\mathcal{B}$, then $\\mathcal{A}$ and $\\mathcal{B}$ are elementarily equivalent.\n\nWe need to show there exists an elementary extension of $\\mathbb{Q}_p$ that is not isomorphic to $\\mathbb{Q}_p$. This can be shown using the Upward Löwenheim–Skolem theorem.\n\nThe theorem states that for any infinite structure $\\mathcal{A}$ in a language $L$, and for any cardinal $\\kappa$ such that $\\kappa \\ge |\\mathcal{A}| + |L|$, there exists an elementary extension $\\mathcal{B}$ of $\\mathcal{A}$ (i.e., $\\mathcal{A} \\preceq \\mathcal{B}$) with cardinality $|\\mathcal{B}| = \\kappa$.\n\nLet's apply this to our case:\n- The structure is $\\mathcal{A} = \\mathbb{Q}_p$. The field $\\mathbb{Q}_p$ is uncountable; its cardinality is that of the continuum, $|\\mathbb{Q}_p| = 2^{\\aleph_0} = \\mathfrak{c}$.\n- The language is $L_{\\mathrm{mac}} = \\{+, \\cdot, 0, 1, P_n\\}_{n\\ge 2}$. This is a countable language, so $|L_{\\mathrm{mac}}| = \\aleph_0$.\n- The condition on the cardinal $\\kappa$ is $\\kappa \\ge |\\mathbb{Q}_p| + |L_{\\mathrm{mac}}| = \\mathfrak{c} + \\aleph_0 = \\mathfrak{c}$.\n\nThe Upward Löwenheim–Skolem theorem thus guarantees that for any cardinal $\\kappa \\ge \\mathfrak{c}$, there exists an elementary extension $\\mathcal{M}$ of $\\mathbb{Q}_p$ with cardinality $|\\mathcal{M}| = \\kappa$.\n\nTo find a nonisomorphic elementary extension, we simply choose a cardinal $\\kappa$ that is strictly greater than the cardinality of $\\mathbb{Q}_p$. For example, let $\\kappa = 2^{\\mathfrak{c}}$. Since $\\kappa  \\mathfrak{c} = |\\mathbb{Q}_p|$, the theorem ensures the existence of an elementary extension $\\mathcal{M}$ of $\\mathbb{Q}_p$ with $|\\mathcal{M}| = \\kappa$.\n\nAn isomorphism between two structures is, by definition, a bijection. If two structures have different cardinalities, no bijection can exist between them. Since $|\\mathcal{M}| \\neq |\\mathbb{Q}_p|$, the structures $\\mathcal{M}$ and $\\mathbb{Q}_p$ cannot be isomorphic.\n\nThus, we have demonstrated the existence of nonisomorphic elementary extensions of $\\mathbb{Q}_p$.\n\n**Option-by-Option Analysis**\n\nA. **Since $T_p$ eliminates quantifiers in $L_{\\mathrm{mac}}$, any two models of $T_p$ satisfy exactly the same $L_{\\mathrm{mac}}$-sentences, hence $T_p$ is complete. By the upward Löwenheim–Skolem theorem (or equivalently by Skolemization and taking Skolem hulls), for every infinite cardinal $\\kappa \\ge |\\mathbb{Q}_p|$ there is an elementary extension of $\\mathbb{Q}_p$ of cardinality $\\kappa$, so there exist nonisomorphic elementary extensions of $\\mathbb{Q}_p$.**\nThis option correctly states the reasoning. As derived above, quantifier elimination implies that any two models of $T_p$ are elementarily equivalent, which means the theory is complete. It also correctly applies the Upward Löwenheim–Skolem theorem to establish the existence of elementary extensions of different cardinalities, which therefore cannot be isomorphic to $\\mathbb{Q}_p$. The reasoning is entirely sound.\n**Verdict: Correct.**\n\nB. **The theory $T_p$ is not complete because the valuation on $\\mathbb{Q}_p$ is not definable in the pure ring language $L_{\\mathrm{ring}}=\\{+, \\cdot, 0, 1\\}$; since definability fails in $L_{\\mathrm{ring}}$, completeness must fail even in $L_{\\mathrm{mac}}$, and upward Löwenheim–Skolem does not produce elementary extensions.**\nThis option contains multiple errors.\n1. The claim that $T_p$ is not complete is false.\n2. The reason given (\"since definability fails in $L_{\\mathrm{ring}}$, completeness must fail even in $L_{\\mathrm{mac}}$\") is a logical fallacy (a non-sequitur). The properties of a theory in a weaker language ($L_{\\mathrm{ring}}$) do not necessarily transfer to a theory in a richer language ($L_{\\mathrm{mac}}$). The predicates $P_n$ are added precisely to make the theory complete.\n3. The claim that \"upward Löwenheim–Skolem does not produce elementary extensions\" is a direct contradiction of a fundamental theorem of first-order logic.\n**Verdict: Incorrect.**\n\nC. **The completeness of $T_p$ follows because $\\mathbb{Q}_p$ is algebraically closed in its algebraic closure, which implies quantifier elimination in $L_{\\mathrm{ring}}$; however, there are no nonisomorphic elementary extensions of $\\mathbb{Q}_p$ since any extension would be isomorphic to $\\mathbb{Q}_p$ by Hensel’s lemma.**\nThis option is based on false premises.\n1. The field $\\mathbb{Q}_p$ is not algebraically closed. The theory of $\\mathbb{Q}_p$ in $L_{\\mathrm{ring}}$ does not have quantifier elimination. Therefore, the reasoning for completeness is incorrect.\n2. The claim that there are no nonisomorphic elementary extensions of $\\mathbb{Q}_p$ is false, as proven by the Upward Löwenheim–Skolem theorem.\n3. Attributing this non-existence to Hensel's lemma is incorrect; Hensel's lemma has no such consequence.\n**Verdict: Incorrect.**\n\nD. **Quantifier elimination for $T_p$ implies categoricity in every infinite cardinal, so $T_p$ is complete but has no nonisomorphic elementary extensions of $\\mathbb{Q}_p$ in any cardinality.**\nThis option presents flawed model-theoretic reasoning.\n1. The claim that quantifier elimination implies categoricity in every infinite cardinal is false. For example, the theory of dense linear orders without endpoints has QE but is not categorical in any infinite power.\n2. While categoricity in an infinite cardinal $\\kappa \\ge |L|$ does imply completeness (by the Łoś-Vaught test), the premise is false. Theory $T_p$ is known not to be categorical.\n3. The conclusion that $T_p$ \"has no nonisomorphic elementary extensions\" is false and directly contradicts the Upward Löwenheim-Skolem theorem.\n**Verdict: Incorrect.**", "answer": "$$\\boxed{A}$$", "id": "2972234"}]}