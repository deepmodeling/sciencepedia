{"hands_on_practices": [{"introduction": "The Tarski-Vaught test provides the definitive criterion for determining if a substructure inherits all first-order properties of its ambient structure. This first exercise [@problem_id:2987291] offers a hands-on look at this test in action, demonstrating how easily the elementary substructure property can be broken. You will explore a scenario where expanding the language with a simple unary predicate causes a once-elementary relationship to fail, pinpointing the exact formula for which the required witness cannot be found in the substructure.", "problem": "Let $\\mathcal{L}=\\{E\\}$ be the language of simple graphs, where $E$ is a binary relation symbol intended to be irreflexive and symmetric. Recall the following base facts and definitions:\n- An $\\mathcal{L}$-structure $\\mathcal{M}$ is a graph with domain $M$ interpreting $E$ as a binary relation $E^{\\mathcal{M}}\\subseteq M^{2}$ that is irreflexive and symmetric.\n- For $\\mathcal{N}\\subseteq \\mathcal{M}$ an $\\mathcal{L}$-substructure (i.e., an induced subgraph), the Tarski–Vaught test for elementary substructures states that $\\mathcal{N}\\preccurlyeq \\mathcal{M}$ if and only if for every $\\mathcal{L}$-formula $\\varphi(x,\\bar{a})$ with parameters $\\bar{a}$ from $N$, whenever $\\mathcal{M}\\models\\exists x\\,\\varphi(x,\\bar{a})$, there is $b\\in N$ with $\\mathcal{M}\\models\\varphi(b,\\bar{a})$.\n- Let $\\mathcal{L}'=\\mathcal{L}\\cup\\{U\\}$ where $U$ is a new unary predicate. An $\\mathcal{L}'$-expansion of $\\mathcal{M}$ is obtained by interpreting $U$ as some subset $S\\subseteq M$.\n\nConsider the following candidate scenarios that seek to exhibit the phenomenon that adding a unary predicate naming a specific subset turns a previously elementary induced subgraph into a non-elementary one by violating the Tarski–Vaught witness property.\n\nWhich option correctly provides such a case?\n\nA. Let $\\mathcal{M}$ be the countably infinite complete graph (that is, $E^{\\mathcal{M}}(x,y)$ holds if and only if $x\\neq y$), and let $\\mathcal{N}$ be any infinite proper induced subgraph of $\\mathcal{M}$. In the pure graph language $\\mathcal{L}$, $\\mathcal{N}\\preccurlyeq \\mathcal{M}$. Now expand to $\\mathcal{L}'=\\{E,U\\}$ by interpreting $U^{\\mathcal{M}}=M\\setminus N$. Then in the induced expansion $\\mathcal{N}'$ (with domain $N$), we have $U^{\\mathcal{N}'}=\\varnothing$. Consequently, the Tarski–Vaught witness property fails in the expansion: $\\mathcal{M}'\\models\\exists x\\,U(x)$ but there is no $b\\in N$ with $U^{\\mathcal{N}'}(b)$.\n\nB. Let $\\mathcal{M}$ be the countably infinite complete graph, and $\\mathcal{N}$ any infinite proper induced subgraph. Expand to $\\mathcal{L}'$ by interpreting $U^{\\mathcal{M}}=N$. Then the Tarski–Vaught witness property continues to hold in the expansion, so no failure occurs.\n\nC. Let $\\mathcal{M}$ be the countable random graph, and let $\\mathcal{N}$ be a finite induced subgraph of $\\mathcal{M}$. Expand to $\\mathcal{L}'$ by interpreting $U^{\\mathcal{M}}=M\\setminus N$. The Tarski–Vaught witness property fails in the expansion.\n\nD. Let $\\mathcal{M}$ be the countably infinite complete graph, and $\\mathcal{N}$ any infinite proper induced subgraph. Expand to $\\mathcal{L}'$ by interpreting $U^{\\mathcal{M}}=M\\setminus N$. The Tarski–Vaught test cannot fail here because it only considers formulas with parameters from $N$, and $U$ has empty intersection with $N$, so $U$ does not affect existential witnessing over $N$.\n\nSelect all correct options.", "solution": "### Step 1: Extract Givens\n-   **Language of simple graphs**: $\\mathcal{L}=\\{E\\}$, where $E$ is a binary relation symbol for an irreflexive and symmetric relation.\n-   **Structure**: An $\\mathcal{L}$-structure $\\mathcal{M}$ is a graph with domain $M$ and relation $E^{\\mathcal{M}}\\subseteq M^{2}$.\n-   **Substructure**: $\\mathcal{N}\\subseteq \\mathcal{M}$ is an $\\mathcal{L}$-substructure, which for graphs is an induced subgraph.\n-   **Tarski–Vaught Test**: $\\mathcal{N}\\preccurlyeq \\mathcal{M}$ if and only if for every $\\mathcal{L}$-formula $\\varphi(x,\\bar{a})$ with parameters $\\bar{a}$ from $N$, whenever $\\mathcal{M}\\models\\exists x\\,\\varphi(x,\\bar{a})$, there exists $b\\in N$ such that $\\mathcal{M}\\models\\varphi(b,\\bar{a})$.\n-   **Language expansion**: $\\mathcal{L}'=\\mathcal{L}\\cup\\{U\\}$, where $U$ is a new unary predicate.\n-   **Structure expansion**: An $\\mathcal{L}'$-expansion of $\\mathcal{M}$ interprets $U$ as a subset $S\\subseteq M$.\n-   **Goal**: The problem asks to identify a correct example of a scenario where an elementary induced subgraph ($\\mathcal{N}\\preccurlyeq \\mathcal{M}$) becomes non-elementary ($\\mathcal{N}' \\not\\preccurlyeq \\mathcal{M}'$) in an expansion of the language.\n\n### Step 2: Validate Using Extracted Givens\n1.  **Scientifically Grounded**: The problem is located within the field of mathematical logic, specifically model theory. All definitions provided (language, structure, substructure, elementary substructure, Tarski–Vaught test, language expansion) are standard, correct, and fundamental to the subject.\n2.  **Well-Posed**: The problem is clearly structured. It presents a specific model-theoretic phenomenon and asks to identify a correct instantiation of it from a list of options. The question is unambiguous and has a definite answer based on the provided definitions.\n3.  **Objective**: The terminology used is precise, technical, and free from any subjectivity or ambiguity.\n4.  **Completeness**: The problem statement contains all necessary definitions and context for a person knowledgeable in basic model theory to solve it. No external, unstated assumptions are needed.\n5.  **Consistency**: There are no internal contradictions in the provided definitions or the problem setup.\n\nThe problem does not exhibit any of the flaws listed in the validation checklist. It is a standard, well-formed exercise in model theory.\n\n### Step 3: Verdict and Action\nThe problem statement is **valid**. The analysis can proceed.\n\n### Solution Derivation\nThe objective is to find an option describing a situation where we start with an elementary substructure, $\\mathcal{N}\\preccurlyeq \\mathcal{M}$, and after expanding the language from $\\mathcal{L}=\\{E\\}$ to $\\mathcal{L}'=\\{E,U\\}$ by interpreting $U$ as a subset $U^{\\mathcal{M}} \\subseteq M$, the resulting induced substructure $\\mathcal{N}'$ is no longer an elementary substructure of $\\mathcal{M}'$, i.e., $\\mathcal{N}' \\not\\preccurlyeq \\mathcal{M}'$.\n\nThe failure of the elementary substructure property, $\\mathcal{N}' \\not\\preccurlyeq \\mathcal{M}'$, means that the Tarski-Vaught test fails for the expanded structures. That is, there must exist an $\\mathcal{L}'$-formula $\\psi(x,\\bar{a})$ with parameters $\\bar{a}$ from $N$ such that:\n$1$. $\\mathcal{M}'\\models\\exists x\\,\\psi(x,\\bar{a})$ (a witness exists in the larger structure $M$).\n$2$. For all $b\\in N$, $\\mathcal{M}'\\not\\models\\psi(b,\\bar{a})$ (no witness exists in the substructure $N$).\n\nWe will now analyze each option against this requirement.\n\n### Option-by-Option Analysis\n\n**Option A**:\n-   **Setup**: $\\mathcal{M}$ is the countably infinite complete graph, $K_\\omega$, with domain $M$. Its theory is specified by $\\forall x \\forall y (x \\neq y \\leftrightarrow E(x,y))$ and $\\forall x \\neg E(x,x)$. $\\mathcal{N}$ is an infinite proper induced subgraph of $\\mathcal{M}$. Since any induced subgraph of a complete graph is also a complete graph, $\\mathcal{N}$ is also a countably infinite complete graph on a domain $N \\subset M$.\n-   **Is $\\mathcal{N} \\preccurlyeq \\mathcal{M}$?** Yes. The theory of a countably infinite complete graph is $\\omega$-categorical and hence complete. Furthermore, the structure $K_\\omega$ is $\\omega$-homogeneous: any isomorphism between two finite induced subgraphs can be extended to an automorphism of the whole structure. Let $\\varphi(x, \\bar{a})$ be an $\\mathcal{L}$-formula with $\\bar{a} \\in N^k$. Suppose $\\mathcal{M} \\models \\exists x \\varphi(x, \\bar{a})$, with witness $c \\in M$. If $c \\in N$, we are done. If $c \\in M \\setminus N$, since $N$ is infinite, we can pick a $b \\in N$ not appearing in $\\bar{a}$. The type of $c$ over $\\bar{a}$ is identical to the type of $b$ over $\\bar{a}$ (in $K_\\omega$, the only relation is being distinct). By $\\omega$-homogeneity, there is an automorphism of $\\mathcal{M}$ that fixes $\\bar{a}$ and maps $c$ to $b$. Thus $\\mathcal{M} \\models \\varphi(b, \\bar{a})$, and we have found a witness in $N$. So, $\\mathcal{N} \\preccurlyeq \\mathcal{M}$.\n-   **Expansion**: The language is expanded to $\\mathcal{L}'=\\{E,U\\}$, and $U$ is interpreted as $U^{\\mathcal{M}} = M \\setminus N$.\n-   **Does the Tarski-Vaught test fail for $\\mathcal{N}' \\preccurlyeq \\mathcal{M}'$?** Let's consider the formula $\\psi(x) = U(x)$. This is an $\\mathcal{L}'$-formula with an empty tuple of parameters, which is trivially a tuple of parameters from $N$.\n    $1$. Is $\\mathcal{M}' \\models \\exists x \\, U(x)$ true? Yes, because $U^{\\mathcal{M}} = M \\setminus N$, and since $\\mathcal{N}$ is a proper subgraph, $M \\setminus N$ is non-empty. Any element $c \\in M \\setminus N$ is a witness.\n    $2$. Does a witness exist in $N$? We need to find a $b \\in N$ such that $\\mathcal{M}' \\models U(b)$. This is equivalent to $b \\in U^{\\mathcal{M}}$, which means $b \\in M \\setminus N$. This is impossible for an element $b \\in N$. Thus, for all $b \\in N$, we have $\\mathcal{M}' \\not\\models U(b)$.\n-   The Tarski-Vaught test fails. The option correctly identifies a valid scenario. The option's reasoning states: \"...there is no $b\\in N$ with $U^{\\mathcal{N}'}(b)$.\" For an atomic formula like $U(x)$ and an element $b \\in N$, the statement $\\mathcal{N}' \\models U(b)$ is equivalent to $\\mathcal{M}' \\models U(b)$. The interpretation of $U$ in the induced substructure $\\mathcal{N}'$ is $U^{\\mathcal{N}'} = U^{\\mathcal{M}} \\cap N = (M \\setminus N) \\cap N = \\emptyset$. So, saying \"there is no $b \\in N$ with $U^{\\mathcal{N}'}(b)$\" is equivalent to saying \"there is no $b \\in N$ for which $\\mathcal{M}' \\models U(b)$,\" which is the correct condition for the Tarski-Vaught test failure.\n-   **Verdict**: **Correct**.\n\n**Option B**:\n-   **Setup**: Same as A, with $\\mathcal{M}$ as $K_\\omega$ and $\\mathcal{N}$ an infinite proper induced subgraph. We know $\\mathcal{N} \\preccurlyeq \\mathcal{M}$.\n-   **Expansion**: The language is expanded to $\\mathcal{L}'=\\{E,U\\}$, with $U^{\\mathcal{M}} = N$.\n-   **Claim**: \"The Tarski–Vaught witness property continues to hold\". This means $\\mathcal{N}' \\preccurlyeq \\mathcal{M}'$.\n-   **Analysis**: Let's test this claim. Consider the formula $\\psi(x) = \\neg U(x)$ with an empty parameter set.\n    $1$. Is $\\mathcal{M}' \\models \\exists x \\, \\neg U(x)$ true? This means there exists an $x \\in M$ such that $x \\notin U^{\\mathcal{M}}$. Since $U^{\\mathcal{M}} = N$ and $N$ is a proper subset of $M$, the set $M \\setminus N$ is non-empty. Any element $c \\in M \\setminus N$ is a witness. So, $\\mathcal{M}' \\models \\exists x \\, \\neg U(x)$ is true.\n    $2$. Does a witness exist in $N$? We need to find a $b \\in N$ such that $\\mathcal{M}' \\models \\neg U(b)$, which means $b \\notin U^{\\mathcal{M}} = N$. This is impossible for an element $b \\in N$.\n-   The Tarski-Vaught test fails. Therefore, $\\mathcal{N}' \\not\\preccurlyeq \\mathcal{M}'$. The option's claim that the property continues to hold is false.\n-   **Verdict**: **Incorrect**.\n\n**Option C**:\n-   **Setup**: $\\mathcal{M}$ is the countable random graph (or Rado graph), and $\\mathcal{N}$ is a finite induced subgraph of $\\mathcal{M}$.\n-   **Analysis**: The core of the problem is to start with an elementary substructure, $\\mathcal{N} \\preccurlyeq \\mathcal{M}$. Let's check if this premise holds. In general, a finite induced subgraph of the random graph is *not* an elementary substructure. For example, let $N = \\{a_1\\}$, so $\\mathcal{N}$ is a single vertex. In the random graph, every vertex has a neighbor, so $\\mathcal{M} \\models \\exists x \\, E(x,a_1)$. However, there is no witness in $N = \\{a_1\\}$ because $E(a_1, a_1)$ is false (irreflexivity). So the Tarski-Vaught test fails.\n-   Since the initial condition $\\mathcal{N} \\preccurlyeq \\mathcal{M}$ is not satisfied, this option does not describe the phenomenon requested in the problem.\n-   **Verdict**: **Incorrect**.\n\n**Option D**:\n-   **Setup**: Same as A: $\\mathcal{M}$ is $K_\\omega$, $\\mathcal{N}$ is an infinite proper induced subgraph, and $U^{\\mathcal{M}} = M \\setminus N$.\n-   **Claim**: \"The Tarski–Vaught test cannot fail here because it only considers formulas with parameters from $N$, and $U$ has empty intersection with $N$, so $U$ does not affect existential witnessing over $N$.\"\n-   **Analysis**: This option describes the exact same scenario as Option A but draws the opposite conclusion. As demonstrated in the analysis of Option A, the test *does* fail. The reasoning provided in Option D is flawed. The Tarski-Vaught test applies to all formulas in the language $\\mathcal{L}'$, including those that use the predicate $U$. A formula can use $U$ even if its parameters (if any) are from $N$. The formula $\\psi(x) = U(x)$ has an empty set of parameters, which is a subset of $N$, and this formula is the one that causes the test to fail. The fact that $U^{\\mathcal{M}} \\cap N = \\emptyset$ is precisely the reason the test can fail: it creates a property ($U(x)$) that is true of some elements in $M$ but none in $N$.\n-   **Verdict**: **Incorrect**.", "answer": "$$\\boxed{A}$$", "id": "2987291"}, {"introduction": "An elementary substructure $M \\preccurlyeq N$ is closed under all functions that are definable in $N$ with parameters from $M$. A common point of confusion is whether this closure extends to other \"nice\" functions, such as those that are computable or analytic. This problem [@problem_id:2987281] directly addresses this by asking you to identify a case where an elementary substructure is not closed under a standard, non-definable function, thereby sharpening your understanding of the precise scope of the Tarski-Vaught test's guarantee.", "problem": "Let $L$ be a first-order language and $M \\subseteq N$ be $L$-structures. Recall the definition of an elementary substructure and the Tarski–Vaught test: $M$ is an elementary substructure of $N$, written $M \\preccurlyeq N$, if for every $L$-formula $\\varphi(x,\\bar{a})$ with parameters $\\bar{a}$ from $M$, whenever $N \\models \\exists x\\, \\varphi(x,\\bar{a})$, there exists $b \\in M$ such that $N \\models \\varphi(b,\\bar{a})$. This condition ensures that witnesses to existential $L$-definable properties with parameters from $M$ can be found within $M$, and thus guarantees closure of $M$ under those $L$-definable Skolem functions with parameters from $M$. It does not, in general, speak to closure under functions that are not $L$-definable over $M$.\n\nConsider the following candidate examples. In each, the ambient model $N$, substructure $M$, language $L$, and function $f \\colon N \\to N$ are specified. The phrase “$N$-computable” refers to a Type-2 Turing computable function on the underlying domain of $N$ (for instance, on $\\mathbb{R}$ or $\\mathbb{C}$, via Cauchy names), a standard notion in computable analysis; “$L$-definable over $M$” refers to first-order definability in the language $L$ with parameters from $M$.\n\nWhich option correctly illustrates, by a concrete example, that the Tarski–Vaught property $M \\preccurlyeq N$ does not imply closure of $M$ under arbitrary $N$-computable functions that are not $L$-definable over $M$?\n\nA. $L$ is the language of ordered rings $\\{0,1,+,\\times,\\}$. Let $N = (\\mathbb{R},0,1,+,\\times,)$ and let $M$ be the substructure consisting of the real algebraic numbers $\\mathbb{R}_{\\mathrm{alg}}$ with the induced operations and order. Let $f \\colon \\mathbb{R} \\to \\mathbb{R}$ be $f(x) = e^{x}$. \n\nB. $L$ is the language of rings $\\{0,1,+,\\times\\}$. Let $N = (\\mathbb{C},0,1,+,\\times)$ and $M = \\overline{\\mathbb{Q}}$ (the algebraic numbers) as a subfield. Let $f \\colon \\mathbb{C} \\to \\mathbb{C}$ be $f(z) = z^{n}$ for a fixed integer $n \\geq 2$.\n\nC. $L$ is the language of rings $\\{0,1,+,\\times\\}$. Let $N = (\\mathbb{R},0,1,+,\\times)$ and $M = (\\mathbb{Q},0,1,+,\\times)$. Let $f \\colon \\mathbb{R} \\to \\mathbb{R}$ be $f(x) = e^{x}$.\n\nD. $L$ is the language of linear order $\\{\\}$. Let $N = (\\mathbb{R},)$ and $M = (\\mathbb{Q},)$. Let $f \\colon \\mathbb{R} \\to \\mathbb{R}$ be the floor function $f(x) = \\lfloor x \\rfloor$.\n\nSelect the single option that provides a valid example as requested. Your justification should hinge on first principles: the definition of $M \\preccurlyeq N$ via the Tarski–Vaught test, the characterization of $L$-definability in the specified theories, and a rigorous reason that $f$ is $N$-computable, not $L$-definable over $M$, and fails to preserve $M$ (i.e., there exists $m \\in M$ with $f(m) \\notin M$). Do not appeal to any shortcut facts beyond these foundational notions and widely used results such as quantifier elimination in real closed fields or algebraically closed fields, and the Lindemann–Weierstrass theorem where appropriate.", "solution": "The problem asks to identify which option provides a valid example of a pair of $L$-structures $M \\subseteq N$ and a function $f \\colon N \\to N$ satisfying the following four conditions:\n1.  $M$ is an elementary substructure of $N$, denoted $M \\preccurlyeq N$.\n2.  The function $f$ is $N$-computable.\n3.  The function $f$ is not $L$-definable over $M$.\n4.  The subset $M$ is not closed under the function $f$; that is, there exists an element $m \\in M$ such that $f(m) \\notin M$.\n\nWe will analyze each option against these four conditions. The property $M \\preccurlyeq N$ is defined by the Tarski–Vaught test: for every $L$-formula $\\varphi(x,\\bar{a})$ with parameters $\\bar{a}$ from $M$, if $N \\models \\exists x\\, \\varphi(x,\\bar{a})$, then there must exist an element $b \\in M$ such that $N \\models \\varphi(b,\\bar{a})$. A powerful tool for establishing the elementary substructure property is quantifier elimination. If the theory of $N$ admits quantifier elimination in the language $L$, the Tarski-Vaught criterion is often easier to verify.\n\n### Option A\n\n- **Setup**: $L=\\{0,1,+,\\times,\\}$, $N = (\\mathbb{R},0,1,+,\\times,)$, $M = \\mathbb{R}_{\\mathrm{alg}}$ (the real algebraic numbers), and $f(x) = e^{x}$.\n\n1.  **Is $M \\preccurlyeq N$?**\n    The structure $N$ is the standard model of the theory of Real Closed Fields (RCF). It is a celebrated result by Tarski that RCF admits quantifier elimination in the language $L$. The structure $M = (\\mathbb{R}_{\\mathrm{alg}},0,1,+,\\times,)$ is also a real closed field. For any $L$-formula $\\varphi(x, \\bar{a})$ with parameters $\\bar{a}$ from $M = \\mathbb{R}_{\\mathrm{alg}}$, due to quantifier elimination, $\\varphi(x, \\bar{a})$ is equivalent to a quantifier-free formula $\\psi(x, \\bar{a})$. A quantifier-free formula in this language defines a semi-algebraic set. Since the parameters $\\bar{a}$ are algebraic, the polynomials defining this set have algebraic coefficients. The roots of such polynomials are also algebraic. The set of points $x \\in \\mathbb{R}$ satisfying $\\psi(x, \\bar{a})$ is a finite union of points and open intervals whose endpoints are algebraic. If this set is non-empty (i.e., if $N \\models \\exists x \\, \\psi(x, \\bar{a})$), it must contain a real algebraic number. For instance, if it contains an interval $(c,d)$ where $c, d \\in \\mathbb{R}_{\\mathrm{alg}}$, it also contains the algebraic number $(c+d)/2$. If it contains an isolated point, that point must be algebraic. Thus, there exists a $b \\in \\mathbb{R}_{\\mathrm{alg}} = M$ such that $N \\models \\psi(b, \\bar{a})$, which means $N \\models \\varphi(b, \\bar{a})$. The Tarski-Vaught test is satisfied, so $M \\preccurlyeq N$.\n\n2.  **Is $f$ $N$-computable?**\n    The function $f(x) = e^x$ is a standard example of a computable function in computable analysis. Its value can be approximated to any desired precision using its Taylor series, whose coefficients are rational and computable.\n\n3.  **Is $f$ not $L$-definable over $M$?**\n    A function is $L$-definable over $M$ if its graph is a set definable by an $L$-formula with parameters from $M$. In the structure $N=(\\mathbb{R},...)$, the definable sets are precisely the semi-algebraic sets. The graph of $f(x) = e^x$ is the set $\\{(x,y) \\in \\mathbb{R}^2 \\mid y=e^x\\}$. This set is not semi-algebraic. For example, a semi-algebraic curve can intersect a line in only a finite number of points, unless the line is part of the curve. The curve $y=e^x$ intersects the line $y=c$ for every $c0$. More fundamentally, the exponential function grows faster than any polynomial function, and thus cannot be an algebraic function, which means its graph cannot be a semi-algebraic set. Therefore, $f(x) = e^x$ is not $L$-definable.\n\n4.  **Does $f$ fail to preserve $M$?**\n    We need to find an element $m \\in M = \\mathbb{R}_{\\mathrm{alg}}$ such that $f(m) \\notin M$. Let us choose $m=1$. Clearly, $1 \\in \\mathbb{Q} \\subset \\mathbb{R}_{\\mathrm{alg}}$, so $m \\in M$. Then $f(m) = f(1) = e^1 = e$. The Lindemann–Weierstrass theorem states that for any non-zero algebraic number $\\alpha$, $e^\\alpha$ is transcendental. Since $1$ is a non-zero algebraic number, $e$ is transcendental. A transcendental number is not algebraic, so $e \\notin \\mathbb{R}_{\\mathrm{alg}}$. Thus, $M$ is not closed under $f$.\n\n**Conclusion for A**: This option satisfies all four required conditions. Therefore, it is a correct example.\n\n### Option B\n\n- **Setup**: $L=\\{0,1,+,\\times\\}$, $N = (\\mathbb{C},0,1,+,\\times)$, $M = \\overline{\\mathbb{Q}}$ (the algebraic numbers), $f(z) = z^n$ for $n \\geq 2$.\n\n1.  **Is $M \\preccurlyeq N$?**\n    The structure $N$ is a model of the theory of Algebraically Closed Fields of characteristic zero (ACF$_0$), which admits quantifier elimination. $M = \\overline{\\mathbb{Q}}$ is also an algebraically closed field of characteristic zero. Since $M$ is an algebraically closed subfield of $N$, it follows from quantifier elimination that $M \\preccurlyeq N$.\n\n3.  **Is $f$ not $L$-definable over $M$?**\n    The function $f(z) = z^n$ is defined by the graph $\\{(x,y) \\in \\mathbb{C}^2 \\mid y=x^n \\}$. The equation $y=x^n$ is a polynomial equation, which is expressible in the language of rings $L=\\{0,1,+,\\times\\}$. Thus, $f$ *is* $L$-definable. This violates condition 3.\n\n4.  **Does $f$ fail to preserve $M$?**\n    The set $M = \\overline{\\mathbb{Q}}$ is the field of algebraic numbers. By definition, a field is closed under multiplication. If $m \\in \\overline{\\mathbb{Q}}$, then $m^n$ (which is $m$ multiplied by itself $n$ times) must also be in $\\overline{\\mathbb{Q}}$. So $M$ *is* closed under $f$. This violates condition 4.\n\n**Conclusion for B**: This option fails because $f$ is $L$-definable and $M$ is closed under $f$. It is incorrect.\n\n### Option C\n\n- **Setup**: $L=\\{0,1,+,\\times\\}$, $N = (\\mathbb{R},0,1,+,\\times)$, $M = (\\mathbb{Q},0,1,+,\\times)$, $f(x)=e^x$.\n\n1.  **Is $M \\preccurlyeq N$?**\n    We apply the Tarski-Vaught test. Let's consider the $L$-formula $\\varphi(x,a) \\equiv x \\times x = a$. Let $a=2$, which is a parameter from $M=\\mathbb{Q}$. Consider the statement $\\exists x \\, \\varphi(x,2)$, which is $\\exists x (x^2=2)$. This statement is true in $N=\\mathbb{R}$, with witnesses $x=\\sqrt{2}$ and $x=-\\sqrt{2}$. For the Tarski-Vaught test to hold, there must exist a witness $b \\in M=\\mathbb{Q}$ such that $N \\models b^2=2$. However, it is a classical result that there is no rational number whose square is $2$. Thus, the Tarski-Vaught test fails. Therefore, $(\\mathbb{Q},+,\\times) \\not\\preccurlyeq (\\mathbb{R},+,\\times)$.\n\n**Conclusion for C**: This option fails because the condition $M \\preccurlyeq N$ is not met. It is incorrect.\n\n### Option D\n\n- **Setup**: $L=\\{\\}$, $N=(\\mathbb{R},)$, $M=(\\mathbb{Q},)$, $f(x)=\\lfloor x \\rfloor$.\n\n1.  **Is $M \\preccurlyeq N$?**\n    The structure $N=(\\mathbb{R},)$ is a model of the theory of Dense Linear Orders without Endpoints (DLO). The structure $M=(\\mathbb{Q},)$ is also a model of DLO. This theory admits quantifier elimination in the language $L=\\{\\}$. Since $M$ is a substructure of $N$ and both are models of a theory with quantifier elimination, $M \\preccurlyeq N$.\n\n4.  **Does $f$ fail to preserve $M$?**\n    The function is the floor function $f(x) = \\lfloor x \\rfloor$. Let's test an element $m \\in M=\\mathbb{Q}$. For any rational number $m$, $\\lfloor m \\rfloor$ is an integer. The set of integers $\\mathbb{Z}$ is a subset of the set of rational numbers $\\mathbb{Q}$. So for any $m \\in M$, $f(m) = \\lfloor m \\rfloor \\in \\mathbb{Z} \\subset \\mathbb{Q}=M$. Thus, $M$ *is* closed under $f$. This violates condition 4.\n\n**Conclusion for D**: This option fails because $M$ is closed under $f$. It is incorrect.\n\nBased on the analysis, only option A provides a valid example that meets all the specified criteria.", "answer": "$$\\boxed{A}$$", "id": "2987281"}, {"introduction": "The Tarski-Vaught test is typically stated for formulas with any finite number of parameters from the substructure. This advanced exercise [@problem_id:2987268] invites you to think critically about the mechanics of the test itself: under what conditions can this multi-parameter requirement be reduced to a seemingly simpler single-parameter version? By analyzing this reduction, you will uncover the deep connection between the test's formulation and the coding capacity that is definable within the structure itself.", "problem": "Let $L$ be a first-order language and let $M \\subseteq N$ be $L$-structures with $M$ an $L$-substructure of $N$. Recall the Tarski-Vaught test (TV): $M$ is an elementary substructure of $N$, written $M \\preccurlyeq N$, if and only if for every $L$-formula $\\varphi(x,\\bar y)$ and every tuple of parameters $\\bar a \\in M^{k}$, whenever $N \\models \\exists x\\, \\varphi(x,\\bar a)$, there exists $m \\in M$ such that $N \\models \\varphi(m,\\bar a)$. Consider the following attempt to reduce the TV test with arbitrary finite tuples of parameters to a single-parameter version via coding. Say that an $L$-structure $N$ admits parameter-free definable coding of finite tuples if there exist parameter-free definable functions in $N$ that uniformly code and decode finite tuples, for example a binary coding function $c_{2}: N^{2} \\to N$ and parameter-free definable projection functions $\\pi_{1}, \\pi_{2}: N \\to N$ such that for all $a,b \\in N$, $N \\models \\pi_{1}(c_{2}(a,b)) = a$ and $N \\models \\pi_{2}(c_{2}(a,b)) = b$, and similarly for $n$-tuples by iterated coding, with uniformly parameter-free definable projections. Under such coding, one can associate to each finite tuple $\\bar a \\in N^{k}$ a single code element $z = c_{k}(\\bar a) \\in N$ such that $\\bar a$ is recoverable from $z$ via the projections inside $N$. Consider the following single-parameter TV schema: for every $L$-formula $\\psi(x,z)$ and every $m \\in M$, if $N \\models \\exists x\\, \\psi(x,m)$, then there exists $a \\in M$ with $N \\models \\psi(a,m)$. Which of the following conditions are sufficient to ensure that verifying the single-parameter TV schema for $M \\subseteq N$ already implies the full TV test with arbitrary finite tuples of parameters from $M$?\n\nA. The language $L$ contains function symbols for a binary pairing $\\langle \\cdot, \\cdot \\rangle$ and projections $\\pi_{1}, \\pi_{2}$, axiomatized so that in every $L$-structure $N$ they interpret total functions satisfying $N \\models \\pi_{1}(\\langle a,b \\rangle) = a$ and $N \\models \\pi_{2}(\\langle a,b \\rangle) = b$ for all $a,b \\in N$, and $M \\subseteq N$ is an $L$-substructure (so $M$ is closed under all function symbols of $L$). Iterated pairing codes $n$-tuples uniformly, and the corresponding projections are given by $L$-terms.\n\nB. No additional assumptions are required beyond $M \\subseteq N$ being an $L$-substructure, because any finite tuple of parameters can be regarded as a single parameter in the meta-language and the TV test does not depend on how parameters are grouped.\n\nC. The $L$-structure $N$ admits parameter-free definable coding of finite tuples and $M$ is closed under all parameter-free $L$-definable functions of $N$ in the following sense: whenever a parameter-free $L$-formula $\\theta(\\bar x,y)$ defines a total function on $N^{n}$ by $N \\models \\forall \\bar x\\, \\exists! y\\, \\theta(\\bar x,y)$, then for every $\\bar a \\in M^{n}$, the unique $b \\in N$ with $N \\models \\theta(\\bar a,b)$ actually lies in $M$.\n\nD. There exists a set-theoretic bijection $f_{k}: N^{k} \\to N$ for each finite $k \\geq 1$ (not assumed to be $L$-definable), so that every tuple $\\bar a \\in M^{k}$ has a code $f_{k}(\\bar a) \\in N$. Since $f_{k}$ is a bijection on the underlying sets, this suffices to reduce to one parameter.\n\nChoose all that apply. Justify your choice by deriving from first principles (definitions of $L$-structure, elementary substructure, and the Tarski-Vaught test) whether and how the single-parameter TV schema under the stated condition yields the full TV test with arbitrary finite tuples of parameters.", "solution": "The problem asks for conditions under which a simplified, a single-parameter version of the Tarski-Vaught test is sufficient to imply the full Tarski-Vaught test for arbitrary finite tuples of parameters. Let's formalize the two tests. Let $L$ be a first-order language and let $M \\subseteq N$ be $L$-structures, where $M$ is an $L$-substructure of $N$.\n\nThe full Tarski-Vaught (TV) test states that $M$ is an elementary substructure of $N$, written $M \\preccurlyeq N$, if and only if:\nFor every $L$-formula $\\varphi(x, y_1, \\dots, y_k)$ with $k \\ge 0$, and for every tuple of parameters $\\bar{a} = (a_1, \\dots, a_k) \\in M^k$, if $N \\models \\exists x \\, \\varphi(x, a_1, \\dots, a_k)$, then there exists an element $m \\in M$ such that $N \\models \\varphi(m, a_1, \\dots, a_k)$.\n\nThe proposed single-parameter Tarski-Vaught (SP-TV) schema is:\nFor every $L$-formula $\\psi(x, z)$, and for every parameter $b \\in M$, if $N \\models \\exists x \\, \\psi(x, b)$, then there exists an element $m \\in M$ such that $N \\models \\psi(m, b)$.\n\nOur task is to determine which of the given conditions guarantees that (SP-TV) implies (TV).\nThe strategy to show this implication is to take an arbitrary instance of the (TV) test involving a formula $\\varphi(x, y_1, \\dots, y_k)$ and parameters $\\bar{a} = (a_1, \\dots, a_k) \\in M^k$, and reduce it to an instance of the (SP-TV) test. This reduction requires two key properties:\n$1$. **Closure Property**: There must be a coding function, say $c_k: N^k \\to N$, that maps the tuple of parameters $\\bar{a} \\in M^k$ to a single code element $b = c_k(\\bar{a})$ that is also in $M$.\n$2$. **Definability Property**: The corresponding decoding or projection functions, say $\\pi_i: N \\to N$ for $i=1, \\dots, k$, which recover the original parameters (i.e., $\\pi_i(b) = a_i$), must be definable in the language $L$. This is necessary to construct a new formula $\\psi(x, z)$ from $\\varphi(x, y_1, \\dots, y_k)$ that effectively replaces the multiple parameters $y_i$ with decodings of the single parameter $z$.\n\nIf these two properties hold, the argument proceeds as follows:\nAssume (SP-TV). To show (TV), let $\\varphi(x, \\bar{y})$ be a formula and $\\bar{a} \\in M^k$ be a tuple of parameters such that $N \\models \\exists x \\, \\varphi(x, \\bar{a})$.\n$1$. Use the coding function $c_k$ to get a code $b = c_k(\\bar{a})$. By the Closure Property, $b \\in M$.\n$2$. Use the Definability Property of the projections $\\pi_i$ to construct a formula $\\psi(x, z)$ which is equivalent to $\\varphi(x, \\pi_1(z), \\dots, \\pi_k(z))$.\n$3$. The initial assumption $N \\models \\exists x \\, \\varphi(x, \\bar{a})$ translates to $N \\models \\exists x \\, \\psi(x, b)$.\n$4$. Since $b \\in M$, we can apply (SP-TV) to deduce that there exists an $m \\in M$ such that $N \\models \\psi(m, b)$.\n$5$. This last statement translates back to $N \\models \\varphi(m, \\pi_1(b), \\dots, \\pi_k(b))$, which is $N \\models \\varphi(m, \\bar{a})$. This is the desired conclusion for the (TV) test.\n\nNow we evaluate each option based on whether it guarantees these two properties.\n\n### Option A Analysis\nThis option states that the language $L$ contains function symbols for a binary pairing function $\\langle \\cdot, \\cdot \\rangle$ and projections $\\pi_1, \\pi_2$, with axioms ensuring they behave as expected in any $L$-structure $N$. $M$ is an $L$-substructure.\n- **Closure Property**: An $L$-substructure is by definition closed under all functions represented by function symbols in $L$. A code for a tuple $(a_1, \\dots, a_k) \\in M^k$ can be constructed by iterating the pairing function, e.g., $b = \\langle a_1, \\langle a_2, \\dots \\rangle \\rangle$. Since all $a_i \\in M$ and $M$ is closed under the interpretation of $\\langle \\cdot, \\cdot \\rangle$, the resulting code $b$ must be in $M$. The closure property is satisfied.\n- **Definability Property**: The projection functions are also given by function symbols in $L$. Thus, recovering the $i$-th component of a code is achieved by applying a term in the language, e.g., $a_1 = \\pi_1(b)$, $a_2 = \\pi_1(\\pi_2(b))$, etc. Let $\\Pi_i(z)$ be the $L$-term that recovers the $i$-th component. Given a formula $\\varphi(x, y_1, \\dots, y_k)$, we can form a new formula $\\psi(x, z) := \\varphi(x, \\Pi_1(z), \\dots, \\Pi_2(z))$ by syntactically substituting the variables $y_i$ with the terms $\\Pi_i(z)$. This is a valid $L$-formula. The definability property is satisfied.\nSince both required properties hold, the reduction strategy succeeds.\nVerdict: **Correct**.\n\n### Option B Analysis\nThis option claims no additional assumptions are needed, appealing to a \"meta-language\" argument that a tuple can be regarded as a single parameter. This is a fundamental error. The Tarski-Vaught test is a precise criterion defined with respect to the syntax of the first-order language $L$ and the semantics of $L$-structures. The distinction between a formula with one free parameter variable, $\\psi(x, z)$, and a formula with $k$ free parameter variables, $\\varphi(x, y_1, \\dots, y_k)$, is a formal syntactic distinction. There is no mechanism within first-order logic to \"regard\" a tuple of elements $(a_1, \\dots, a_k)$ from the domain of $N$ as a single element of that same domain, nor to refer to its components, unless such a mechanism is provided by the structure and language itself (as in options A and C). The \"meta-language\" is where we, as mathematicians, talk about the formal system; it cannot override the rules of the formal system itself.\nVerdict: **Incorrect**.\n\n### Option C Analysis\nThis option posits that $N$ admits parameter-free definable coding of finite tuples, and that $M$ is closed under all parameter-free $L$-definable functions of $N$.\n- **Closure Property**: Let $c_k: N^k \\to N$ be the coding function for $k$-tuples. The condition states this function is parameter-free definable. The condition also explicitly assumes that $M$ is closed under such functions. Thus, for any $\\bar{a} \\in M^k$, the code $b = c_k(\\bar{a})$ is guaranteed to be in $M$. The closure property is satisfied by direct assumption.\n- **Definability Property**: The existence of parameter-free definable projections $\\pi_i$ is also part of the condition that $N$ \"admits parameter-free definable coding\". Let the formula $\\theta_{\\pi_i}(z, y_i)$ define the graph of the function $\\pi_i$ (i.e., $y_i = \\pi_i(z)$). Given a formula $\\varphi(x, y_1, \\dots, y_k)$, we can construct the required formula $\\psi(x, z)$ as:\n$$ \\psi(x, z) \\equiv \\exists y_1 \\dots \\exists y_k \\left( \\left(\\bigwedge_{i=1}^k \\theta_{\\pi_i}(z, y_i)\\right) \\land \\varphi(x, y_1, \\dots, y_k) \\right) $$\nSince each $\\pi_i$ is a function, for any given $z$, the $y_i$ are uniquely determined. Thus, this formula $\\psi(x, z)$ successfully encodes the intended meaning $\\varphi(x, \\pi_1(z), \\dots, \\pi_k(z))$. The definability property is satisfied.\nSince both required properties hold, the reduction strategy succeeds. This option correctly abstracts the essential properties needed for the reduction.\nVerdict: **Correct**.\n\n### Option D Analysis\nThis option proposes the existence of set-theoretic bijections $f_k: N^k \\to N$ that are not assumed to be $L$-definable.\n- **Closure Property**: Let $\\bar{a} \\in M^k$. The code is $b = f_k(\\bar{a})$. The function $f_k$ is an arbitrary bijection between the sets $|N|^k$ and $|N|$. There is no reason for $f_k$ to map $|M|^k$ to $|M|$. For example, let $N$ be the set of real numbers $\\mathbb{R}$ and $M$ be the set of rational numbers $\\mathbb{Q}$. There are bijections from $\\mathbb{R}^2$ to $\\mathbb{R}$. It is easy to construct such a bijection that maps a pair of rational numbers to an irrational number. Thus, for a given $\\bar{a} \\in M^k$, its code $b = f_k(\\bar{a})$ may not be in $M$. If $b \\notin M$, the (SP-TV) schema cannot be applied. The closure property fails.\n- **Definability Property**: The problem explicitly states that the function $f_k$ (and by extension its inverse and projections) is \"not assumed to be $L$-definable\". Without definability, it is impossible to construct the formula $\\psi(x, z)$ from $\\varphi(x, \\bar{y})$ and the projections. The logic of the reduction depends on being able to express the decoding process within an $L$-formula. If the decoding functions are not definable, this is impossible. The definability property fails.\nBoth necessary properties fail. This condition is insufficient.\nVerdict: **Incorrect**.\n\nIn summary, options A and C provide sufficient conditions for the single-parameter TV schema to imply the full TV test. Option A is a concrete realization of the more general conditions described in option C.", "answer": "$$\\boxed{AC}$$", "id": "2987268"}]}