{"hands_on_practices": [{"introduction": "Understanding Skolemization begins with its model-theoretic roots. This first exercise moves beyond a purely syntactic manipulation and challenges you to derive a Skolem function from the fundamental definitions of satisfaction and structures. By grounding the Skolem function for $\\exists y\\,R(x,y)$ in the concept of a choice function, you will gain a deeper appreciation for why its arity is determined by the free variables in its scope [@problem_id:2982792].", "problem": "Let $\\mathcal{L}$ be a single-sorted signature of First-Order Logic (FOL) containing a single binary relation symbol $R$. Consider the open $\\mathcal{L}$-formula $\\exists y\\,R(x,y)$ in which $x$ is a free variable. Starting from the foundational semantic definitions of $\\mathcal{L}$-structures, variable assignments, and satisfaction, and the general construction principle of Skolemization (the replacement of an existentially quantified variable by a term built from a fresh function symbol whose arguments are precisely the universally quantified variables on which the existential depends), derive the Skolemized open formula corresponding to $\\exists y\\,R(x,y)$ and explain, from first principles, how the resulting fresh function symbol is interpreted in an arbitrary $\\mathcal{L}$-structure after expansion. Your derivation should make explicit why the arity of the introduced function is what it is and how this interpretation relates to satisfaction of the universal closure. Express the final Skolemized open formula as a single analytic expression in the expanded language, using standard first-order syntax. No numerical rounding is required and no physical units apply.", "solution": "The problem is valid. It is a well-posed, scientifically grounded question within the domain of mathematical logic, specifically concerning the topic of Skolemization. It is free of contradictions, ambiguities, and factual errors. We may proceed with the solution.\n\nLet $\\mathcal{L}$ be the specified first-order language with a single binary relation symbol $R$. We are given the open $\\mathcal{L}$-formula $\\phi(x) \\equiv \\exists y\\,R(x,y)$, where $x$ is a free variable. Our goal is to derive the Skolemized form of this formula and explain the interpretation of the introduced function symbol from first principles.\n\nFirst, we establish the semantic foundation. An $\\mathcal{L}$-structure, denoted by $\\mathcal{M}$, is a pair $(M, R^{\\mathcal{M}})$, where $M$ is a non-empty set called the domain or universe, and $R^{\\mathcal{M}}$ is the interpretation of the symbol $R$, which is a binary relation on $M$ (i.e., $R^{\\mathcal{M}} \\subseteq M \\times M$). A variable assignment in $\\mathcal{M}$ is a function $s: V \\to M$, where $V$ is the set of variables (including $x$ and $y$).\n\nThe satisfaction of the formula $\\phi(x)$ in a structure $\\mathcal{M}$ under an assignment $s$, written as $\\mathcal{M}, s \\models \\exists y\\,R(x,y)$, is defined as follows: there exists an element $b \\in M$ such that $\\mathcal{M}, s[y \\mapsto b] \\models R(x,y)$. Here, $s[y \\mapsto b]$ is the assignment that maps $y$ to $b$ and agrees with $s$ for all other variables. The atomic formula $R(x,y)$ is satisfied, i.e., $\\mathcal{M}, s[y \\mapsto b] \\models R(x,y)$, if the pair of interpreted terms $( (s[y \\mapsto b])(x), (s[y \\mapsto b])(y) )$ is in the relation $R^{\\mathcal{M}}$. Since $(s[y \\mapsto b])(x) = s(x)$ and $(s[y \\mapsto b])(y) = b$, this condition simplifies to $(s(x), b) \\in R^{\\mathcal{M}}$.\nThus, $\\mathcal{M}, s \\models \\exists y\\,R(x,y)$ if and only if there exists an element $b \\in M$ such that $(s(x), b) \\in R^{\\mathcal{M}}$.\n\nThe Skolemization process aims to replace existentially quantified variables with functional terms to create a new formula that is equisatisfiable with the original. The core principle is that the choice of a witness for an existential variable (like $y$ here) may depend on the values of variables that are universally quantified outside of it. In an open formula, free variables are implicitly universally quantified at the outermost level when considering the satisfiability of the formula's universal closure.\n\nThe universal closure of $\\phi(x)$ is the sentence $\\forall x \\,\\exists y\\,R(x,y)$. A structure $\\mathcal{M}$ is a model of this sentence, written $\\mathcal{M} \\models \\forall x\\,\\exists y\\,R(x,y)$, if for every element $a \\in M$, there exists an element $b \\in M$ such that $(a, b) \\in R^{\\mathcal{M}}$. This explicitly shows that the choice of $b$ (the witness for $y$) depends on the choice of $a$ (the value for $x$).\n\nThis functional dependency is what Skolemization makes explicit. We introduce a new, fresh function symbol, which we will call $f$, that is not in the original language $\\mathcal{L}$. The arity of this function symbol must be equal to the number of universally quantified variables governing the existential quantifier. In our case, the existential quantifier $\\exists y$ is in the scope of the free variable $x$. Therefore, the Skolem function $f$ must take one argument, corresponding to $x$. Its arity is $1$.\n\nWe expand the language $\\mathcal{L}$ to a new language $\\mathcal{L}' = \\mathcal{L} \\cup \\{f\\}$, where $f$ is a unary function symbol. The Skolemization procedure replaces the existentially quantified variable $y$ with the term $f(x)$. The resulting Skolemized open formula is $R(x, f(x))$.\n\nNow, we must explain the interpretation of $f$ and its relation to the satisfaction of the universal closure. Suppose an $\\mathcal{L}$-structure $\\mathcal{M} = (M, R^{\\mathcal{M}})$ is a model of the universal closure $\\forall x\\,\\exists y\\,R(x,y)$. As established, this means that for every $a \\in M$, the set $S_a = \\{b \\in M \\mid (a, b) \\in R^{\\mathcal{M}}\\}$ is non-empty. The Axiom of Choice guarantees the existence of a function, let's call it $g: M \\to M$, such that for every $a \\in M$, $g(a) \\in S_a$. This function $g$ is a \"choice function\" that selects a valid witness $b$ for each given $a$.\n\nWe can expand the $\\mathcal{L}$-structure $\\mathcal{M}$ to an $\\mathcal{L}'$-structure $\\mathcal{M}' = (M, R^{\\mathcal{M}}, f^{\\mathcal{M}'})$ by defining the interpretation of the new function symbol $f$, denoted $f^{\\mathcal{M}'}$, to be precisely this choice function $g$. That is, $f^{\\mathcal{M}'} = g$.\nBy the construction of $g$, for every $a \\in M$, we have that $(a, g(a)) \\in R^{\\mathcal{M}}$, which means $(a, f^{\\mathcal{M}'}(a)) \\in R^{\\mathcal{M}}$. This is exactly the semantic condition required for the structure $\\mathcal{M}'$ to be a model of the universal closure of the Skolemized formula, $\\forall x\\,R(x, f(x))$.\n\nTherefore, any model of $\\forall x\\,\\exists y\\,R(x,y)$ can be expanded into a model of $\\forall x\\,R(x, f(x))$. Conversely, any model of $\\forall x\\,R(x, f(x))$ is trivially a model of $\\forall x\\,\\exists y\\,R(x,y)$, since $f(x)$ provides the witness for $y$. This establishes the equisatisfiability of the two universal closures, which is the fundamental property of Skolemization.\n\nIn summary, the derivation proceeds by recognizing that the witness for the existentially quantified variable $y$ is a function of the free variable $x$. A new unary function symbol $f$ is introduced to represent this dependency. The Skolemized open formula is obtained by removing the existential quantifier and replacing every occurrence of $y$ with the term $f(x)$. The interpretation of $f$ in any model is a choice function that, for each value of $x$, provides a corresponding value for $y$ that satisfies the relation $R$.\n\nThe final Skolemized open formula corresponding to $\\exists y\\,R(x,y)$ is thus $R(x, f(x))$, where $f$ is a newly introduced unary function symbol.", "answer": "$$\n\\boxed{R(x, f(x))}\n$$", "id": "2982792"}, {"introduction": "Skolemization is not just a theoretical curiosity; it is a cornerstone of automated theorem proving. This practice will guide you through a complete workflow, from an initial first-order formula to a set of clauses ready for resolution, a key algorithm in logic programming and artificial intelligence. You will apply quantifier manipulation, Skolemization, and conversion to Conjunctive Normal Form (CNF) to see how these steps work together in practice [@problem_id:2982796].", "problem": "You are given the first-order formula in prenexable form over a signature with predicate symbols $P(\\cdot)$, $Q(\\cdot)$, and $R(\\cdot,\\cdot,\\cdot)$:\n$$\\forall x \\,\\exists y \\,\\bigl(P(x)\\land Q(y)\\land \\forall z\\,R(x,y,z)\\bigr).$$\nProceed as follows using only foundational definitions and laws from first-order logic:\n- Bring the formula into an explicit prenex form by moving quantifiers to the front while preserving logical equivalence, carefully justifying each transformation using standard equivalences such as the distribution of universal quantifiers over conjunction when the variable is not free in the other conjunct.\n- Skolemize the formula by eliminating existential quantifiers using Skolem functions whose arity matches the set of preceding universally quantified variables on which the existentially quantified variable depends. Explain the dependency conditions explicitly and state the resulting Skolem function symbol(s).\n- Drop all universal quantifiers to obtain a universal closure and convert the quantifier-free matrix into Conjunctive Normal Form (CNF), ensuring standardization apart of variables across clauses where appropriate, to obtain a set of clauses suitable for the resolution method.\n- Finally, compute the number of distinct clauses in the resulting clause set. Your final answer should be this number only.\n\nGive detailed justifications at each step, starting from core definitions of prenex transformation, Skolemization, and clausal form. The final answer must be a single real-valued number. No rounding is required.", "solution": "The problem requires a systematic conversion of a given first-order logic formula into a set of clauses and then to count the number of distinct clauses in the resulting set. We will proceed step-by-step, providing rigorous justification for each transformation based on the principles of mathematical logic.\n\nThe given formula is:\n$$ \\forall x \\,\\exists y \\,\\bigl(P(x)\\land Q(y)\\land \\forall z\\,R(x,y,z)\\bigr) $$\nThe signature includes predicate symbols $P$ (unary), $Q$ (unary), and $R$ (ternary).\n\n**Step 1: Conversion to Prenex Normal Form**\n\nA formula is in prenex normal form (PNF) if it is of the form $Q_1 v_1 \\dots Q_n v_n \\, M$, where $Q_i$ are quantifiers ($\\forall$ or $\\exists$), $v_i$ are distinct variables, and $M$ is a quantifier-free formula called the matrix. The sequence of quantifiers $Q_1 v_1 \\dots Q_n v_n$ is called the prefix.\n\nThe initial formula is:\n$$ \\forall x \\,\\exists y \\,\\bigl(P(x)\\land Q(y)\\land \\forall z\\,R(x,y,z)\\bigr) $$\nThe quantifier $\\forall z$ is located inside the scope of the quantifiers $\\forall x$ and $\\exists y$. To bring the formula into PNF, we must move $\\forall z$ to the front of the matrix, joining the prefix. We use a standard logical equivalence for quantifier distribution over conjunction. For any formulas $\\psi$ and $\\phi$, and a variable $v$ that is not free in $\\psi$, the following equivalence holds:\n$$ (\\psi \\land \\forall v\\,\\phi) \\leftrightarrow \\forall v\\,(\\psi \\land \\phi) $$\nIn our formula, within the scope of $\\exists y$, we have the subformula $\\bigl(P(x)\\land Q(y)\\land \\forall z\\,R(x,y,z)\\bigr)$. Let $\\psi = P(x) \\land Q(y)$ and $\\forall v\\,\\phi = \\forall z\\,R(x,y,z)$. The variable $z$ is not free in $\\psi$. Therefore, we can apply the equivalence:\n$$ \\bigl(P(x)\\land Q(y)\\bigr) \\land \\forall z\\,R(x,y,z) \\leftrightarrow \\forall z\\,\\bigl(P(x)\\land Q(y)\\land R(x,y,z)\\bigr) $$\nSubstituting this back into the original formula, we obtain:\n$$ \\forall x \\,\\exists y \\,\\forall z\\,\\bigl(P(x)\\land Q(y)\\land R(x,y,z)\\bigr) $$\nThis formula is in prenex normal form. The prefix is $\\forall x \\,\\exists y \\,\\forall z$, and the matrix is $P(x)\\land Q(y)\\land R(x,y,z)$.\n\n**Step 2: Skolemization**\n\nSkolemization is the process of eliminating existential quantifiers from a formula in PNF. For each existentially quantified variable $v$, we introduce a new function symbol, a Skolem function, whose arguments are all the universally quantified variables that precede $v$ in the prenex prefix. Every occurrence of $v$ is then replaced by an application of this Skolem function to its arguments, and the existential quantifier $\\exists v$ is removed. The resulting formula is not logically equivalent to the original but is equisatisfiable, which is sufficient for proof methods like resolution.\n\nOur PNF is:\n$$ \\forall x \\,\\exists y \\,\\forall z\\,\\bigl(P(x)\\land Q(y)\\land R(x,y,z)\\bigr) $$\nThere is one existential quantifier, $\\exists y$. The variable $y$ is preceded by one universal quantifier, $\\forall x$.\nTherefore, the existence of $y$ depends on the value of $x$. We introduce a new Skolem function symbol, let us call it $f$, of arity $1$. We replace every occurrence of the variable $y$ with the term $f(x)$. After this substitution, we drop the existential quantifier $\\exists y$.\n\nThe resulting Skolemized formula is:\n$$ \\forall x \\,\\forall z\\,\\bigl(P(x)\\land Q(f(x))\\land R(x,f(x),z)\\bigr) $$\nThis formula contains only universal quantifiers.\n\n**Step 3: Conversion to Clausal Form (Conjunctive Normal Form)**\n\nTo obtain a set of clauses for resolution, we first drop all universal quantifiers from the Skolemized formula. The variables in the resulting quantifier-free matrix ($x$ and $z$ in this case) are understood to be implicitly universally quantified over the entire formula.\n\nDropping $\\forall x$ and $\\forall z$, we get the matrix:\n$$ P(x)\\land Q(f(x))\\land R(x,f(x),z) $$\nNext, we must convert this matrix into Conjunctive Normal Form (CNF). A formula is in CNF if it is a conjunction of one or more clauses, where each clause is a disjunction of literals (an atomic formula or its negation).\n\nThe matrix $P(x)\\land Q(f(x))\\land R(x,f(x),z)$ is already a conjunction of three atomic formulas: $P(x)$, $Q(f(x))$, and $R(x,f(x),z)$. An atomic formula is a positive literal. A disjunction of a single literal is a clause. Therefore, the matrix is already in CNF.\n\nThe set of clauses is formed by taking the set of conjuncts. The conjuncts are:\n1. $P(x)$\n2. $Q(f(x))$\n3. $R(x,f(x),z)$\n\nThese correspond to the following three clauses, where each clause is a set of literals (here, each clause contains just one literal):\n*   Clause 1: $\\{P(x)\\}$\n*   Clause 2: $\\{Q(f(x))\\}$\n*   Clause 3: $\\{R(x,f(x),z)\\}$\n\nThe problem asks to ensure standardization apart where appropriate. This means that variables are local to each clause. For resolution, we would treat the $x$ in $P(x)$ as distinct from the $x$ in $Q(f(x))$ and $R(x,f(x),z)$. This is implicitly handled by the definition of a clause set, where variable names can be systematically renamed for each clause without changing the logical meaning. However, the task is to count the number of clauses produced by the conversion process itself, which is independent of any subsequent renaming for a resolution step. The resulting clause set contains three syntactically distinct clauses.\n\n**Step 4: Counting the Distinct Clauses**\n\nThe set of clauses derived from the original formula is $\\{P(x), Q(f(x)), R(x,f(x),z)\\}$. The elements of this set are the three clauses listed above. They are distinct because they are composed of different predicate symbols or different arguments.\nTherefore, the number of distinct clauses in the resulting set is $3$.", "answer": "$$\\boxed{3}$$", "id": "2982796"}, {"introduction": "The power of formal methods like Skolemization lies in their precision, and small mistakes can lead to unsound reasoning. This exercise presents a common but critical error: reusing a Skolem function for distinct existential variables, implicitly forcing them to be equal. By constructing a counterexample, you will demonstrate why this breaks the crucial property of equisatisfiability and learn to apply the correct procedure of assigning unique functions to unique existential dependencies [@problem_id:2982829].", "problem": "Consider the sentence of first-order logic (FOL) in prenex form, $$\\forall x \\,\\exists y \\,\\exists z \\, S(x,y,z),$$ where $S$ is a quantifier-free predicate symbol in a fixed first-order language with equality. A purported Skolemization replaces both $\\exists y$ and $\\exists z$ by the same Skolem function term $f(x)$, yielding the universal closure $$\\forall x \\, S\\big(x,f(x),f(x)\\big).$$ Starting from the fundamental definitions of Skolemization and the dependency discipline on universally quantified variables, identify the precise logical error in this replacement and explain, by appeal to equisatisfiability and model-theoretic semantics, why this error can destroy satisfiability for some structures. Then derive the correct Skolem normal form by introducing the necessary Skolem function symbols and specifying their arities as enforced by the quantifier prefix and scope. Conclude by providing, as your final answer, the ordered pair of Skolem terms that correctly witness the existential quantifiers as a single LaTeX row matrix. No numerical rounding is required. Express your final answer only as the row matrix of the two Skolem terms.", "solution": "The problem statement is valid. It is a well-posed question in formal logic that tests the fundamental principles of Skolemization.\n\nThe process of Skolemization transforms a first-order logic formula into an equisatisfiable formula in Skolem normal form, which is a formula in prenex normal form containing only universal quantifiers. The core principle is to replace each existentially quantified variable with a term called a Skolem term. This term consists of a new function symbol, called a Skolem function, applied to all universally quantified variables whose quantifiers appear earlier in the prenex form (i.e., whose scope includes the existential quantifier being eliminated).\n\nThe given sentence is $$\\forall x \\,\\exists y \\,\\exists z \\, S(x,y,z).$$\nThe purported Skolemization is $$\\forall x \\, S\\big(x,f(x),f(x)\\big).$$\n\nThe precise logical error in this proposed transformation lies in the reuse of the same Skolem function term, $f(x)$, to replace two distinct existentially quantified variables, $y$ and $z$. The original sentence asserts that for any given $x$, there exist a value for $y$ and a value for $z$ that satisfy the predicate $S$. These two values, $y$ and $z$, are not required to be identical. The formula $\\exists y \\,\\exists z \\, S(x,y,z)$ makes no claim about the equality or inequality of the witnesses for $y$ and $z$.\n\nBy replacing both $y$ and $z$ with the identical term $f(x)$, the purported Skolemization implicitly introduces the constraint $y=z$. The resulting formula, $\\forall x \\, S\\big(x,f(x),f(x)\\big)$, asserts that for any $x$, there exists a single value, let's call it $w = f(x)$, such that $S(x,w,w)$ holds. This is a logically stronger statement than the original. A formula $\\Phi$ logically implies a formula $\\Psi$ (written $\\Phi \\models \\Psi$) if every model of $\\Phi$ is also a model of $\\Psi$. In this case, $\\forall x \\, \\exists w \\, S(x,w,w)$ implies $\\forall x \\, \\exists y \\, \\exists z \\, S(x,y,z)$ (by simply choosing $y=w$ and $z=w$), but the converse does not hold. The purported Skolemization is therefore not logically equivalent to the original formula.\n\nMore importantly, Skolemization is required to preserve satisfiability (i.e., be equisatisfiable), not logical equivalence. The error can destroy satisfiability. Let's demonstrate this with a model-theoretic argument. A formula is satisfiable if there exists at least one model (a domain of discourse and an interpretation of symbols) in which it is true.\nLet the domain of discourse be the set of integers, $\\mathbb{Z}$.\nLet the predicate $S(x,y,z)$ be interpreted as the relation $y + z = x$.\n\nThe original sentence becomes:\n$$\\forall x \\in \\mathbb{Z} \\,\\, \\exists y \\in \\mathbb{Z} \\,\\, \\exists z \\in \\mathbb{Z} \\,\\, (y+z=x).$$\nThis statement is true in the standard model of integers. For any integer $x$, we can always find suitable integers $y$ and $z$. For example, we can choose $y=0$ and $z=x$. Since such a model exists, the original formula is satisfiable.\n\nNow, consider the purported Skolemization under the same interpretation:\n$$\\forall x \\in \\mathbb{Z} \\,\\, (f(x) + f(x) = x).$$\nThis simplifies to $\\forall x \\in \\mathbb{Z} \\,\\, (2f(x) = x)$. This statement asserts that for every integer $x$, there exists an integer $f(x)$ (the witness) such that $2$ times that integer equals $x$. This is false. For any odd integer, such as $x=1$, there is no integer $w$ such that $2w = 1$. Consequently, no function $f: \\mathbb{Z} \\to \\mathbb{Z}$ can exist that satisfies this property for all $x$. The purported Skolemized formula is unsatisfiable over the integers.\n\nSince the original formula is satisfiable but the incorrectly Skolemized formula is not, the erroneous procedure has destroyed satisfiability, which violates the fundamental requirement of the Skolemization process.\n\nTo derive the correct Skolem normal form, we must introduce a unique Skolem function for each existential quantifier.\nThe original formula is $\\forall x \\,\\exists y \\,\\exists z \\, S(x,y,z)$.\n1.  The first existential quantifier is $\\exists y$. It is within the scope of the universal quantifier $\\forall x$. We must therefore replace $y$ with a term $f(x)$, where $f$ is a new function symbol of arity $1$. The formula becomes $\\forall x \\,\\exists z \\, S(x,f(x),z)$.\n2.  The second existential quantifier is $\\exists z$. It is also within the scope of $\\forall x$. We must replace $z$ with a term $g(x)$, where $g$ is another new function symbol of arity $1$, distinct from $f$.\n\nThe correct Skolem normal form is therefore:\n$$\\forall x \\, S\\big(x,f(x),g(x)\\big).$$\nThis formula is equisatisfiable with the original. If the original formula is true in a model, then for each $x$, there exist $y_x$ and $z_x$. We can define the interpretations of the functions $f$ and $g$ as $f(x) = y_x$ and $g(x) = z_x$. Conversely, if the Skolemized formula is true in a model with interpretations for $f$ and $g$, then for any $x$, we can choose $y = f(x)$ and $z = g(x)$ to satisfy the original formula.\n\nThe ordered pair of Skolem terms that correctly witness the existential quantifiers for $y$ and $z$ are $f(x)$ and $g(x)$, respectively.", "answer": "$$\\boxed{\\begin{pmatrix} f(x) & g(x) \\end{pmatrix}}$$", "id": "2982829"}]}