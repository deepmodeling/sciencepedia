{"hands_on_practices": [{"introduction": "Our journey into the practical side of measure theory begins with step functions. These functions, which are constant on a finite number of intervals, serve as the most intuitive building blocks for the Lebesgue integral, closely mirroring the rectangles used in Riemann sums. This first exercise [@problem_id:1880614] challenges you to apply the precise definition of a step function and its integral, paying close attention to several conditions to construct a function with specific properties.", "problem": "In the context of Lebesgue measure theory, a function $f: [a, b] \\to \\mathbb{R}$ is called a step function if it can be expressed as a finite linear combination of indicator functions of intervals. That is, $f(x) = \\sum_{i=1}^{n} c_i \\chi_{I_i}(x)$, where $\\{I_i\\}_{i=1}^{n}$ is a partition of $[a, b]$ into a finite number of disjoint intervals, $c_i$ are real constants, and $\\chi_{I_i}$ is the indicator function of the interval $I_i$. The Lebesgue integral of such a function over $[a, b]$ with respect to the Lebesgue measure $m$ is defined as $\\int_{[a,b]} f \\, dm = \\sum_{i=1}^{n} c_i m(I_i)$, where $m(I_i)$ is the length of the interval $I_i$.\n\nWhich of the following functions is a non-negative, non-constant step function on the interval $[-2, 2]$ whose Lebesgue integral over this interval is exactly 1?\n\nA.\n$f(x) = \\frac{1}{4}$ for all $x \\in [-2, 2]$\n\nB.\n$f(x) = \\begin{cases} \\frac{1}{2} & \\text{if } x \\in [-2, 0) \\\\ \\frac{1}{4} & \\text{if } x \\in [0, 2] \\end{cases}$\n\nC.\n$f(x) = \\begin{cases} 1 & \\text{if } x \\in [-2, -1) \\\\ -\\frac{1}{3} & \\text{if } x \\in [-1, 2] \\end{cases}$\n\nD.\n$f(x) = \\begin{cases} \\frac{1}{8} & \\text{if } x \\in [-2, 0) \\\\ \\frac{3}{8} & \\text{if } x \\in [0, 2] \\end{cases}$\n\nE.\n$f(x) = \\begin{cases} \\frac{1}{2} & \\text{if } x \\in [-2, -1) \\\\ \\frac{1}{4} & \\text{if } x \\in [-1, 1) \\\\ \\frac{1}{2} & \\text{if } x \\in [1, 2] \\end{cases}$", "solution": "A step function on $[-2,2]$ has Lebesgue integral given by $\\int_{[-2,2]} f \\, dm = \\sum_{i=1}^{n} c_{i} \\, m(I_{i})$, where $m(I_{i})$ is the length of $I_{i}$. For half-open or closed intervals differing by endpoints, the measure is the same because endpoints have measure zero. The relevant interval lengths here are $m([-2,2])=4$, $m([-2,0))=2$, $m([0,2])=2$, $m([-2,-1))=1$, $m([-1,1))=2$, $m([1,2])=1$, and $m([-1,2])=3$.\n\nOption A: $f(x)=\\frac{1}{4}$ on $[-2,2]$. The integral is $\\frac{1}{4}\\cdot 4=1$, and $f$ is non-negative. However, $f$ is constant, so it fails the non-constant requirement.\n\nOption B: $f(x)=\\frac{1}{2}$ on $[-2,0)$ and $f(x)=\\frac{1}{4}$ on $[0,2]$. The integral is $\\frac{1}{2}\\cdot 2+\\frac{1}{4}\\cdot 2=1+\\frac{1}{2}=\\frac{3}{2}\\neq 1$. Although non-negative and non-constant, it fails the integral condition.\n\nOption C: $f(x)=1$ on $[-2,-1)$ and $f(x)=-\\frac{1}{3}$ on $[-1,2]$. This takes negative values, so it fails the non-negativity requirement. Its integral is $1\\cdot 1+\\left(-\\frac{1}{3}\\right)\\cdot 3=0\\neq 1$.\n\nOption D: $f(x)=\\frac{1}{8}$ on $[-2,0)$ and $f(x)=\\frac{3}{8}$ on $[0,2]$. The integral is $\\frac{1}{8}\\cdot 2+\\frac{3}{8}\\cdot 2=\\frac{1}{4}+\\frac{3}{4}=1$. The function is non-negative and non-constant. This satisfies all requirements.\n\nOption E: $f(x)=\\frac{1}{2}$ on $[-2,-1)$, $f(x)=\\frac{1}{4}$ on $[-1,1)$, and $f(x)=\\frac{1}{2}$ on $[1,2]$. The integral is $\\frac{1}{2}\\cdot 1+\\frac{1}{4}\\cdot 2+\\frac{1}{2}\\cdot 1=\\frac{1}{2}+\\frac{1}{2}+\\frac{1}{2}=\\frac{3}{2}\\neq 1$. Although non-negative and non-constant, it fails the integral condition.\n\nTherefore, the only option meeting all criteria is D.", "answer": "$$\\boxed{D}$$", "id": "1880614"}, {"introduction": "Having mastered step functions defined on intervals, we now generalize to simple functions, which can be constant on any measurable set, not just intervals. This allows us to handle more 'exotic' functions, such as those that behave differently on rational and irrational numbers. This problem [@problem_id:1880615] provides a powerful illustration of a key feature of the Lebesgue integral: its ability to gracefully handle sets of measure zero, a concept that often poses challenges for the Riemann integral.", "problem": "Consider the closed interval $I = [0, 4]$. Let $\\mathbb{Q}$ denote the set of rational numbers. Two functions, $f(x)$ and $g(x)$, are defined on $I$.\n\nThe function $f(x)$ is defined based on the rationality of its input:\n$$\nf(x) = \\begin{cases} 4 & \\text{if } x \\in \\mathbb{Q} \\cap I \\\\ 1 & \\text{if } x \\in (\\mathbb{R} \\setminus \\mathbb{Q}) \\cap I \\end{cases}\n$$\n\nThe function $g(x)$ is a piecewise constant function defined as:\n$$\ng(x) = \\begin{cases} 2 & \\text{if } 0 \\le x < 1 \\\\ 3 & \\text{if } 1 \\le x < 3 \\\\ 5 & \\text{if } 3 \\le x \\le 4 \\end{cases}\n$$\n\nLet $h(x)$ be the pointwise product of these two functions, such that $h(x) = f(x)g(x)$ for all $x \\in I$.\n\nCalculate the value of the Lebesgue integral of the function $h(x)$ over the interval $I$.", "solution": "To calculate the Lebesgue integral of $h(x) = f(x)g(x)$ over the interval $I=[0, 4]$, we first need to express $h(x)$ as a simple function. A simple function is a finite linear combination of characteristic functions of measurable sets. The Lebesgue integral of a simple function $\\phi(x) = \\sum_{k=1}^{n} c_k \\chi_{E_k}$, where the sets $E_k$ are disjoint and measurable, is given by $\\int \\phi(x) d\\mu = \\sum_{k=1}^{n} c_k \\mu(E_k)$, with $\\mu$ being the Lebesgue measure.\n\nFirst, let's write both $f(x)$ and $g(x)$ in terms of characteristic functions.\nLet $I = [0, 4]$, $A_1 = \\mathbb{Q} \\cap I$, and $A_2 = (\\mathbb{R} \\setminus \\mathbb{Q}) \\cap I$. The function $f(x)$ can be written as:\n$$\nf(x) = 4 \\chi_{A_1}(x) + 1 \\chi_{A_2}(x)\n$$\nThe sets $A_1$ and $A_2$ are disjoint and their union is $I$.\n\nLet $B_1 = [0, 1)$, $B_2 = [1, 3)$, and $B_3 = [3, 4]$. The function $g(x)$ can be written as:\n$$\ng(x) = 2 \\chi_{B_1}(x) + 3 \\chi_{B_2}(x) + 5 \\chi_{B_3}(x)\n$$\nThe sets $B_1, B_2, B_3$ are disjoint and their union is $I$.\n\nNow we form the product function $h(x) = f(x)g(x)$:\n$$\nh(x) = (4 \\chi_{A_1}(x) + 1 \\chi_{A_2}(x)) (2 \\chi_{B_1}(x) + 3 \\chi_{B_2}(x) + 5 \\chi_{B_3}(x))\n$$\nUsing the property that $\\chi_S(x) \\chi_T(x) = \\chi_{S \\cap T}(x)$, we can expand the product:\n$$\n\\begin{align*} h(x) = & (4 \\cdot 2) \\chi_{A_1 \\cap B_1}(x) + (4 \\cdot 3) \\chi_{A_1 \\cap B_2}(x) + (4 \\cdot 5) \\chi_{A_1 \\cap B_3}(x) \\\\ &+ (1 \\cdot 2) \\chi_{A_2 \\cap B_1}(x) + (1 \\cdot 3) \\chi_{A_2 \\cap B_2}(x) + (1 \\cdot 5) \\chi_{A_2 \\cap B_3}(x) \\end{align*}\n$$\nThis simplifies to:\n$$\nh(x) = 8 \\chi_{A_1 \\cap B_1}(x) + 12 \\chi_{A_1 \\cap B_2}(x) + 20 \\chi_{A_1 \\cap B_3}(x) + 2 \\chi_{A_2 \\cap B_1}(x) + 3 \\chi_{A_2 \\cap B_2}(x) + 5 \\chi_{A_2 \\cap B_3}(x)\n$$\nThe sets $A_i \\cap B_j$ for $i \\in \\{1,2\\}, j \\in \\{1,2,3\\}$ form a partition of the interval $I$. Therefore, $h(x)$ is a simple function.\n\nNext, we calculate the Lebesgue measure $\\mu$ of each of these sets.\nThe set of rational numbers $\\mathbb{Q}$ is countable, so its Lebesgue measure is zero. Thus, $\\mu(A_1) = \\mu(\\mathbb{Q} \\cap I) = 0$.\nSince $A_1 \\cap B_j$ is a subset of $A_1$, its measure is also zero:\n$\\mu(A_1 \\cap B_1) = 0$\n$\\mu(A_1 \\cap B_2) = 0$\n$\\mu(A_1 \\cap B_3) = 0$\n\nNow we consider the sets involving $A_2$, the set of irrational numbers in $I$. Since $\\mu(I) = 4$ and $\\mu(A_1) = 0$, we have $\\mu(A_2) = \\mu(I) - \\mu(A_1) = 4$.\nThe measure of an interval is its length. The measure of the set of irrational numbers within an interval is equal to the length of that interval.\n$\\mu(B_1) = \\mu([0, 1)) = 1 - 0 = 1$. So, $\\mu(A_2 \\cap B_1) = \\mu((\\mathbb{R}\\setminus\\mathbb{Q}) \\cap [0,1)) = 1$.\n$\\mu(B_2) = \\mu([1, 3)) = 3 - 1 = 2$. So, $\\mu(A_2 \\cap B_2) = \\mu((\\mathbb{R}\\setminus\\mathbb{Q}) \\cap [1,3)) = 2$.\n$\\mu(B_3) = \\mu([3, 4]) = 4 - 3 = 1$. So, $\\mu(A_2 \\cap B_3) = \\mu((\\mathbb{R}\\setminus\\mathbb{Q}) \\cap [3,4]) = 1$.\n\nFinally, we compute the integral using the formula for simple functions:\n$$\n\\begin{align*} \\int_I h(x) d\\mu = & \\ 8 \\cdot \\mu(A_1 \\cap B_1) + 12 \\cdot \\mu(A_1 \\cap B_2) + 20 \\cdot \\mu(A_1 \\cap B_3) \\\\ &+ 2 \\cdot \\mu(A_2 \\cap B_1) + 3 \\cdot \\mu(A_2 \\cap B_2) + 5 \\cdot \\mu(A_2 \\cap B_3) \\end{align*}\n$$\nSubstituting the measures we found:\n$$\n\\int_I h(x) d\\mu = (8 \\cdot 0) + (12 \\cdot 0) + (20 \\cdot 0) + (2 \\cdot 1) + (3 \\cdot 2) + (5 \\cdot 1)\n$$\n$$\n\\int_I h(x) d\\mu = 0 + 0 + 0 + 2 + 6 + 5 = 13\n$$", "answer": "$$\\boxed{13}$$", "id": "1880615"}, {"introduction": "Simple functions are more than just a theoretical curiosity; they are the fundamental tools used to construct the entire theory of Lebesgue integration for more general functions. The core idea is to approximate any well-behaved function as a limit of a sequence of simple functions. In this final practice [@problem_id:1880590], you will make this abstract approximation theorem concrete by quantifying the rate at which a sequence of simple functions converges to the function $f(x)=x^2$, providing a tangible sense of how these 'building blocks' work.", "problem": "Consider the function $f(x) = x^2$ defined on the interval $I = [0,1]$. A standard method in measure theory for approximating such a non-negative, bounded function is to use a sequence of simple functions.\n\nLet's construct a specific sequence of simple functions, $\\{\\phi_n\\}_{n=1}^{\\infty}$, to approximate $f$. For each integer $n \\ge 1$, we define $\\phi_n$ based on a partition of the range of $f$. Since the range of $f$ on $I$ is also $[0,1]$, we partition this range into $2^n$ subintervals.\nFor $k = 1, 2, \\dots, 2^n$, we define the sets on which $\\phi_n$ will be constant:\n- For $k = 1, 2, \\dots, 2^n - 1$, let $E_{n,k} = \\{x \\in I \\mid \\frac{k-1}{2^n} \\le f(x) < \\frac{k}{2^n} \\}$.\n- For $k = 2^n$, let $E_{n,2^n} = \\{x \\in I \\mid \\frac{2^n-1}{2^n} \\le f(x) \\le 1 \\}$.\n\nThe simple function $\\phi_n$ is then defined as:\n$$\n\\phi_n(x) = \\sum_{k=1}^{2^n} \\frac{k-1}{2^n} \\chi_{E_{n,k}}(x)\n$$\nwhere $\\chi_{E_{n,k}}$ is the characteristic function of the set $E_{n,k}$.\n\nThis sequence $\\{\\phi_n\\}$ converges to $f$ in the $L^1$-norm, which is defined as $\\|g\\|_1 = \\int_0^1 |g(x)| dx$. Your task is to quantify the rate of this convergence. Find an explicit upper bound for the $L^1$-norm of the approximation error, $\\|f - \\phi_n\\|_1$. Your answer should be an expression in terms of $n$.", "solution": "We first observe that for each $x \\in I=[0,1]$ and each $n \\ge 1$, there exists a unique $k \\in \\{1,2,\\dots,2^{n}\\}$ such that\n$$\n\\frac{k-1}{2^{n}} \\le f(x) < \\frac{k}{2^{n}},\n$$\nand by definition,\n$$\n\\phi_{n}(x) = \\frac{k-1}{2^{n}}.\n$$\nTherefore, for every $x \\in I$,\n$$\n0 \\le f(x) - \\phi_{n}(x) < \\frac{1}{2^{n}}.\n$$\nSince $f(x)-\\phi_{n}(x) \\ge 0$, we have $|f(x)-\\phi_{n}(x)| = f(x)-\\phi_{n}(x)$, hence\n$$\n\\|f - \\phi_{n}\\|_{1} = \\int_{0}^{1} |f(x) - \\phi_{n}(x)| \\, dx = \\int_{0}^{1} \\left(f(x) - \\phi_{n}(x)\\right) dx \\le \\int_{0}^{1} \\frac{1}{2^{n}} \\, dx = \\frac{1}{2^{n}}.\n$$\nThus, an explicit upper bound for the $L^{1}$ approximation error is $\\frac{1}{2^{n}}$, showing the convergence rate is of order $2^{-n}$.", "answer": "$$\\boxed{\\frac{1}{2^{n}}}$$", "id": "1880590"}]}