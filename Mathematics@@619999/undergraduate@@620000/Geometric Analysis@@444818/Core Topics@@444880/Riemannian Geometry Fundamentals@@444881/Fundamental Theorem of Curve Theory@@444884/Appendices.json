{"hands_on_practices": [{"introduction": "The Fundamental Theorem of Curve Theory hinges on two key quantities: curvature ($\\kappa$) and torsion ($\\tau$). Before we can appreciate the theorem's power, we must master the skill of calculating these invariants. This practice provides a foundational workout, guiding you through the derivation of $\\kappa$ and $\\tau$ for three canonical curves: the circle, the circular helix, and the clothoid spiral. By working through these examples [@problem_id:3049525], you will develop a concrete intuition for how this pair of functions serves as a unique 'shape signature' for any curve.", "problem": "Let $\\gamma_{1}$, $\\gamma_{2}$, and $\\gamma_{3}$ be three regular curves in $\\mathbb{R}^{3}$ defined as follows, each with a smooth parameter and nonvanishing speed. Angles are to be interpreted in radians.\n- The circle of radius $R>0$ in the $xy$-plane: $\\gamma_{1}(t)=\\big(R\\cos t,\\,R\\sin t,\\,0\\big)$ for $t\\in\\mathbb{R}$.\n- The circular helix of radius $R>0$ and pitch parameter $h\\neq 0$: $\\gamma_{2}(t)=\\big(R\\cos t,\\,R\\sin t,\\,h\\,t\\big)$ for $t\\in\\mathbb{R}$.\n- The clothoid (Cornu spiral) embedded in the $xy$-plane and parameterized by arc-length $s\\ge 0$ with curvature prescribed to increase linearly with $s$: define the tangent angle $\\theta(s)=\\frac{\\alpha}{2}s^{2}$ for a fixed constant $\\alpha>0$, and set\n$$\n\\gamma_{3}(s)=\\left(\\int_{0}^{s}\\cos\\theta(u)\\,du,\\;\\int_{0}^{s}\\sin\\theta(u)\\,du,\\;0\\right).\n$$\nStarting from the fundamental definitions in curve theory:\n- Arc-length $s(t)$, unit tangent $\\mathbf{T}=\\frac{d\\gamma}{ds}$, unit normal $\\mathbf{N}$, unit binormal $\\mathbf{B}$, and the Frenet–Serret (FS) invariants curvature $\\kappa=\\left\\|\\frac{d\\mathbf{T}}{ds}\\right\\|$ and torsion $\\tau=-\\frac{d\\mathbf{B}}{ds}\\cdot\\mathbf{N}$,\nderive the curvature and torsion functions for each curve. Then briefly explain, using the Fundamental Theorem of Curve Theory, how these invariants encode the differences in geometry among the three examples.\n\nExpress your final answer as a single row matrix containing the six expressions $\\big(\\kappa_{1},\\tau_{1},\\kappa_{2},\\tau_{2},\\kappa_{3}(s),\\tau_{3}\\big)$ in terms of $R$, $h$, $\\alpha$, and $s$. No numerical rounding is required, and no physical units are involved.", "solution": "The problem is well-posed and consists of two parts: first, to derive the curvature $\\kappa$ and torsion $\\tau$ for three given regular curves; second, to use these results to discuss how these invariants distinguish the curves' geometries, in the context of the Fundamental Theorem of Curve Theory.\n\nFor a general regular curve $\\gamma(t)$ parameterized by a variable $t$, the curvature $\\kappa(t)$ and torsion $\\tau(t)$ are given by the formulas:\n$$\n\\kappa(t) = \\frac{\\|\\gamma'(t) \\times \\gamma''(t)\\|}{\\|\\gamma'(t)\\|^{3}}\n$$\n$$\n\\tau(t) = \\frac{\\big(\\gamma'(t) \\times \\gamma''(t)\\big) \\cdot \\gamma'''(t)}{\\|\\gamma'(t) \\times \\gamma''(t)\\|^{2}}\n$$\nIf a curve is parameterized by arc-length $s$, such that $\\|\\gamma'(s)\\|=1$, these formulas simplify. Specifically, the tangent vector is $\\mathbf{T}(s) = \\gamma'(s)$, and the curvature is $\\kappa(s) = \\|\\mathbf{T}'(s)\\| = \\|\\gamma''(s)\\|$.\n\nWe will now compute the invariants for each of the three curves.\n\n**1. The Circle: $\\gamma_{1}(t)=\\big(R\\cos t,\\,R\\sin t,\\,0\\big)$**\n\nFirst, we compute the derivatives of $\\gamma_{1}(t)$ with respect to $t$:\n$$\n\\gamma'_{1}(t) = \\big(-R\\sin t, R\\cos t, 0\\big)\n$$\n$$\n\\gamma''_{1}(t) = \\big(-R\\cos t, -R\\sin t, 0\\big)\n$$\n$$\n\\gamma'''_{1}(t) = \\big(R\\sin t, -R\\cos t, 0\\big)\n$$\nNext, we calculate the necessary norms and products. The speed is:\n$$\n\\|\\gamma'_{1}(t)\\| = \\sqrt{(-R\\sin t)^{2} + (R\\cos t)^{2} + 0^{2}} = \\sqrt{R^{2}(\\sin^{2}t + \\cos^{2}t)} = R\n$$\nThe cross product of the first two derivatives is:\n$$\n\\gamma'_{1}(t) \\times \\gamma''_{1}(t) = \\begin{vmatrix} \\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\ -R\\sin t & R\\cos t & 0 \\\\ -R\\cos t & -R\\sin t & 0 \\end{vmatrix} = \\mathbf{k}\\big(R^{2}\\sin^{2}t + R^{2}\\cos^{2}t\\big) = \\big(0, 0, R^{2}\\big)\n$$\nThe norm of this cross product is:\n$$\n\\|\\gamma'_{1}(t) \\times \\gamma''_{1}(t)\\| = \\sqrt{0^{2} + 0^{2} + (R^{2})^{2}} = R^{2}\n$$\nNow, we can compute the curvature $\\kappa_{1}$:\n$$\n\\kappa_{1}(t) = \\frac{\\|\\gamma'_{1}(t) \\times \\gamma''_{1}(t)\\|}{\\|\\gamma'_{1}(t)\\|^{3}} = \\frac{R^{2}}{R^{3}} = \\frac{1}{R}\n$$\nFor the torsion $\\tau_{1}$, we compute the scalar triple product:\n$$\n\\big(\\gamma'_{1}(t) \\times \\gamma''_{1}(t)\\big) \\cdot \\gamma'''_{1}(t) = \\big(0, 0, R^{2}\\big) \\cdot \\big(R\\sin t, -R\\cos t, 0\\big) = 0\n$$\nThus, the torsion is:\n$$\n\\tau_{1}(t) = \\frac{\\big(\\gamma'_{1}(t) \\times \\gamma''_{1}(t)\\big) \\cdot \\gamma'''_{1}(t)}{\\|\\gamma'_{1}(t) \\times \\gamma''_{1}(t)\\|^{2}} = \\frac{0}{(R^{2})^{2}} = 0\n$$\nThe curvature $\\kappa_{1} = \\frac{1}{R}$ and torsion $\\tau_{1} = 0$ are both constant. The zero torsion confirms the curve is planar.\n\n**2. The Circular Helix: $\\gamma_{2}(t)=\\big(R\\cos t,\\,R\\sin t,\\,h\\,t\\big)$**\n\nWe compute the derivatives of $\\gamma_{2}(t)$:\n$$\n\\gamma'_{2}(t) = \\big(-R\\sin t, R\\cos t, h\\big)\n$$\n$$\n\\gamma''_{2}(t) = \\big(-R\\cos t, -R\\sin t, 0\\big)\n$$\n$$\n\\gamma'''_{2}(t) = \\big(R\\sin t, -R\\cos t, 0\\big)\n$$\nThe speed is:\n$$\n\\|\\gamma'_{2}(t)\\| = \\sqrt{(-R\\sin t)^{2} + (R\\cos t)^{2} + h^{2}} = \\sqrt{R^{2} + h^{2}}\n$$\nThe cross product is:\n$$\n\\gamma'_{2}(t) \\times \\gamma''_{2}(t) = \\begin{vmatrix} \\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\ -R\\sin t & R\\cos t & h \\\\ -R\\cos t & -R\\sin t & 0 \\end{vmatrix} = \\big(hR\\sin t, -hR\\cos t, R^{2}\\big)\n$$\nIts norm is:\n$$\n\\|\\gamma'_{2}(t) \\times \\gamma''_{2}(t)\\| = \\sqrt{(hR\\sin t)^{2} + (-hR\\cos t)^{2} + (R^{2})^{2}} = \\sqrt{h^{2}R^{2}(\\sin^{2}t + \\cos^{2}t) + R^{4}} = \\sqrt{R^{2}(h^{2} + R^{2})} = R\\sqrt{R^{2}+h^{2}}\n$$\nThe curvature $\\kappa_{2}$ is:\n$$\n\\kappa_{2}(t) = \\frac{R\\sqrt{R^{2}+h^{2}}}{(\\sqrt{R^{2}+h^{2}})^{3}} = \\frac{R}{R^{2}+h^{2}}\n$$\nThe scalar triple product for the torsion $\\tau_{2}$ is:\n$$\n\\big(\\gamma'_{2}(t) \\times \\gamma''_{2}(t)\\big) \\cdot \\gamma'''_{2}(t) = \\big(hR\\sin t, -hR\\cos t, R^{2}\\big) \\cdot \\big(R\\sin t, -R\\cos t, 0\\big) = hR^{2}\\sin^{2}t + hR^{2}\\cos^{2}t = hR^{2}\n$$\nThe torsion is:\n$$\n\\tau_{2}(t) = \\frac{hR^{2}}{\\| \\gamma'_{2}(t) \\times \\gamma''_{2}(t) \\|^{2}} = \\frac{hR^{2}}{(R\\sqrt{R^{2}+h^{2}})^{2}} = \\frac{hR^{2}}{R^{2}(R^{2}+h^{2})} = \\frac{h}{R^{2}+h^{2}}\n$$\nBoth curvature $\\kappa_{2} = \\frac{R}{R^{2}+h^{2}}$ and torsion $\\tau_{2} = \\frac{h}{R^{2}+h^{2}}$ are constant and non-zero (since $R>0, h\\neq0$).\n\n**3. The Clothoid: $\\gamma_{3}(s)$**\n\nThe curve $\\gamma_{3}(s)$ is defined in the $xy$-plane and parameterized by arc-length $s$. The tangent angle is given by $\\theta(s)=\\frac{\\alpha}{2}s^{2}$. The unit tangent vector $\\mathbf{T}(s)$ is $\\gamma'_{3}(s)$. By definition of the tangent angle, we have:\n$$\n\\mathbf{T}(s) = \\gamma'_{3}(s) = \\big(\\cos\\theta(s), \\sin\\theta(s), 0\\big)\n$$\nWe can verify $\\|\\mathbf{T}(s)\\| = \\sqrt{\\cos^{2}\\theta(s) + \\sin^{2}\\theta(s)} = 1$.\nThe curvature $\\kappa_{3}(s)$ is given by $\\kappa_{3}(s) = \\|\\frac{d\\mathbf{T}}{ds}\\| = \\|\\gamma''_{3}(s)\\|$.\n$$\n\\frac{d\\mathbf{T}}{ds} = \\gamma''_{3}(s) = \\left(-\\sin\\theta(s)\\frac{d\\theta}{ds}, \\cos\\theta(s)\\frac{d\\theta}{ds}, 0\\right)\n$$\nWith $\\theta(s)=\\frac{\\alpha}{2}s^{2}$, we have $\\frac{d\\theta}{ds} = \\alpha s$.\n$$\n\\gamma''_{3}(s) = \\big(-\\alpha s \\sin\\theta(s), \\alpha s \\cos\\theta(s), 0\\big)\n$$\nThe curvature is the magnitude of this vector:\n$$\n\\kappa_{3}(s) = \\|\\gamma''_{3}(s)\\| = \\sqrt{(-\\alpha s \\sin\\theta(s))^{2} + (\\alpha s \\cos\\theta(s))^{2}} = \\sqrt{(\\alpha s)^{2}(\\sin^{2}\\theta(s) + \\cos^{2}\\theta(s))} = \\sqrt{(\\alpha s)^{2}}\n$$\nSince $\\alpha > 0$ and $s \\ge 0$, we have $\\kappa_{3}(s) = \\alpha s$.\nFor the torsion $\\tau_{3}$, we note that $\\gamma_{3}(s)$ is a planar curve, as its $z$-component is always $0$. For any planar curve with non-zero curvature, the binormal vector $\\mathbf{B}$ is constant and orthogonal to the plane of the curve. Consequently, $\\frac{d\\mathbf{B}}{ds} = \\mathbf{0}$, which implies that the torsion $\\tau = -\\frac{d\\mathbf{B}}{ds} \\cdot \\mathbf{N}$ must be zero.\nLet's verify this. The unit normal vector $\\mathbf{N}(s)$ (for $s>0$) is:\n$$\n\\mathbf{N}(s) = \\frac{\\gamma''_{3}(s)}{\\kappa_{3}(s)} = \\frac{1}{\\alpha s}\\big(-\\alpha s \\sin\\theta(s), \\alpha s \\cos\\theta(s), 0\\big) = \\big(-\\sin\\theta(s), \\cos\\theta(s), 0\\big)\n$$\nThe unit binormal vector $\\mathbf{B}(s) = \\mathbf{T}(s) \\times \\mathbf{N}(s)$ is:\n$$\n\\mathbf{B}(s) = \\begin{vmatrix} \\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\ \\cos\\theta(s) & \\sin\\theta(s) & 0 \\\\ -\\sin\\theta(s) & \\cos\\theta(s) & 0 \\end{vmatrix} = \\mathbf{k}(\\cos^{2}\\theta(s) + \\sin^{2}\\theta(s)) = (0, 0, 1)\n$$\nSince $\\mathbf{B}(s)$ is a constant vector, its derivative is zero: $\\frac{d\\mathbf{B}}{ds} = \\mathbf{0}$. Therefore, the torsion is:\n$$\n\\tau_{3}(s) = -\\frac{d\\mathbf{B}}{ds} \\cdot \\mathbf{N}(s) = 0\n$$\nThe curvature $\\kappa_{3}(s) = \\alpha s$ varies linearly with arc-length, and the torsion $\\tau_{3} = 0$.\n\n**Discussion via the Fundamental Theorem of Curve Theory**\n\nThe Fundamental Theorem of Curve Theory states that if two regular curves $\\gamma_{a}(s)$ and $\\gamma_{b}(s)$, parameterized by arc-length $s$, have the same curvature function $\\kappa(s)>0$ and the same torsion function $\\tau(s)$, then they are congruent; that is, one can be transformed into the other by a rigid motion (a translation and a rotation) of $\\mathbb{R}^{3}$. In essence, the pair of functions $(\\kappa(s), \\tau(s))$ acts as a unique signature that completely determines the shape of a curve, up to its position and orientation in space.\n\nLet's examine the signatures we derived for the three curves:\n- **Circle:** $(\\kappa_{1}, \\tau_{1}) = (\\frac{1}{R}, 0)$. A constant non-zero curvature and zero torsion uniquely define a circle of radius $R$.\n- **Helix:** $(\\kappa_{2}, \\tau_{2}) = (\\frac{R}{R^{2}+h^{2}}, \\frac{h}{R^{2}+h^{2}})$. A constant non-zero curvature and a constant non-zero torsion uniquely define a circular helix.\n- **Clothoid:** $(\\kappa_{3}(s), \\tau_{3}) = (\\alpha s, 0)$. A linearly increasing curvature and zero torsion uniquely define a clothoid spiral.\n\nThese three examples perfectly illustrate the power of the theorem.\n- The circle and the helix are distinguished by their torsion. Although both can be viewed as curves \"wrapping\" around a cylinder and having constant curvature, the circle is planar ($\\tau_{1}=0$) while the helix is intrinsically three-dimensional ($\\tau_{2}\\neq0$), twisting out of any single plane.\n- The circle and the clothoid are both planar curves ($\\tau_1 = \\tau_3 = 0$), meaning their binormal vectors are constant. However, their geometries are clearly different, a fact captured by their curvature functions. The circle bends at a constant rate ($\\kappa_1$ is constant), whereas the clothoid bends at a rate proportional to the distance traveled along it ($\\kappa_3(s)$ is linear in $s$).\n- The helix and the clothoid differ in both their curvature and torsion functions. The helix is characterized by its constant \"bend\" and \"twist\", while the clothoid has a variable bend and no twist.\n\nIn summary, the functions $(\\kappa(s), \\tau(s))$ provide a complete, local, and intrinsic description of a curve's geometry. The differences among the constant, non-constant, zero, and non-zero values of these invariants for the three given curves are precisely what encode their distinct shapes, as guaranteed by the Fundamental Theorem of Curve Theory.", "answer": "$$\n\\boxed{\\begin{pmatrix} \\frac{1}{R} & 0 & \\frac{R}{R^{2}+h^{2}} & \\frac{h}{R^{2}+h^{2}} & \\alpha s & 0 \\end{pmatrix}}\n$$", "id": "3049525"}, {"introduction": "A core tenet of the Fundamental Theorem is that the shape of a curve is uniquely defined by its curvature and torsion, regardless of its position or orientation in space. This exercise provides a direct, hands-on proof of this invariance [@problem_id:3049493]. You will begin with two curves that are congruent by construction—one being a rotated and translated version of the other—and demonstrate through calculation that their intrinsic properties, $\\kappa(s)$ and $\\tau(s)$, are identical once parameterized by arc length. This process beautifully illustrates why $(\\kappa(s), \\tau(s))$ is considered a curve's true geometric fingerprint.", "problem": "Let $\\gamma_{1} : \\mathbb{R} \\to \\mathbb{R}^{3}$ be the regular curve given by $\\gamma_{1}(t) = \\big(2 \\cos t,\\, 2 \\sin t,\\, t\\big)$. Let $Q$ be the rotation about the $x$-axis by angle $\\pi/5$, that is,\n$$\nQ \\,=\\, \\begin{pmatrix}\n1 & 0 & 0 \\\\\n0 & \\cos(\\pi/5) & -\\sin(\\pi/5) \\\\\n0 & \\sin(\\pi/5) & \\cos(\\pi/5)\n\\end{pmatrix},\n$$\nand let $p = (1,-2,3)$. Define a second curve $\\gamma_{2} : \\mathbb{R} \\to \\mathbb{R}^{3}$ by\n$$\n\\gamma_{2}(u) \\,=\\, Q\\,\\gamma_{1}\\!\\big(3u + \\pi/7\\big) \\,+\\, p.\n$$\nWork from first principles using the core definitions from the theory of curves: for a $C^{3}$ regular curve $\\gamma$ reparametrized by arc length $s$, the unit tangent is $T = d\\gamma/ds$, the curvature is $\\kappa(s) = \\|dT/ds\\|$, the principal normal is $N = (dT/ds)/\\kappa$, the binormal is $B = T \\times N$, and the torsion is $\\tau(s) = -\\,dB/ds \\cdot N$. Do not assume any specialized “shortcut” formulas.\n\nTasks:\n1) Explain why $\\gamma_{1}$ and $\\gamma_{2}$ are congruent curves and determine their arc-length parameters $s_{1}(t)$ and $s_{2}(u)$ up to additive constants.\n\n2) Using only the above definitions, show that the curvature and torsion as functions of arc length for $\\gamma_{1}$ and $\\gamma_{2}$ coincide once each is reparametrized by its own arc-length parameter.\n\n3) Compute the common curvature and torsion functions explicitly for this example, expressed in terms of the arc-length parameter. Since the functions are constant in this case, a single pair of constants suffices. Express your final answer as a row matrix $\\big(\\kappa \\;\\; \\tau\\big)$. No rounding is required, and no units are needed.", "solution": "The problem is valid as it is scientifically grounded in differential geometry, well-posed, objective, and internally consistent.\n\nThe problem is structured into three tasks. We will address them in sequence.\n\n1) Congruence of the curves and their arc-length parameters.\n\nTwo curves are defined as congruent if there exists a rigid motion (an isometry) of the ambient space $\\mathbb{R}^{3}$ that maps the trace of one curve onto the trace of the other. A rigid motion is a composition of a rotation and a translation. The transformation relating $\\gamma_{2}$ to $\\gamma_{1}$ is given by\n$$\n\\gamma_{2}(u) \\,=\\, Q\\,\\gamma_{1}\\!\\big(3u + \\pi/7\\big) \\,+\\, p\n$$\nLet's analyze the components of this transformation. The function $u \\mapsto \\phi(u) = 3u + \\pi/7$ is a reparameterization. It changes the speed at which the curve is traced but does not alter its geometric shape (its trace). The matrix $Q$ is a rotation matrix, which is an orthogonal matrix with determinant $1$. A transformation $\\mathbf{x} \\mapsto Q\\mathbf{x}$ is a rotation, which is an isometry. The vector $p$ represents a translation, and the transformation $\\mathbf{x} \\mapsto \\mathbf{x} + p$ is also an isometry. The composite transformation $F(\\mathbf{x}) = Q\\mathbf{x} + p$ is a rigid motion. The trace of $\\gamma_{2}$ is the image of the trace of $\\gamma_{1}$ under this rigid motion $F$. Therefore, by definition, the curves $\\gamma_{1}$ and $\\gamma_{2}$ are congruent.\n\nNext, we determine the arc-length parameters. The arc-length parameter $s$ is defined by the relation $ds = \\|\\gamma'(t)\\| dt$.\n\nFor $\\gamma_{1}(t) = \\big(2 \\cos t,\\, 2 \\sin t,\\, t\\big)$, the tangent vector is\n$$\n\\gamma_{1}'(t) = \\frac{d\\gamma_{1}}{dt} = \\big(-2 \\sin t,\\, 2 \\cos t,\\, 1\\big).\n$$\nIts speed is the magnitude of this vector:\n$$\n\\|\\gamma_{1}'(t)\\| = \\sqrt{(-2 \\sin t)^{2} + (2 \\cos t)^{2} + 1^{2}} = \\sqrt{4\\sin^{2}t + 4\\cos^{2}t + 1} = \\sqrt{4(1) + 1} = \\sqrt{5}.\n$$\nThe speed is constant. The arc-length parameter $s_{1}(t)$ is obtained by integrating the speed:\n$$\ns_{1}(t) = \\int \\|\\gamma_{1}'(t)\\| dt = \\int \\sqrt{5} dt = \\sqrt{5}t + C_{1},\n$$\nwhere $C_{1}$ is an arbitrary constant of integration.\n\nFor $\\gamma_{2}(u) = Q\\,\\gamma_{1}\\!\\big(3u + \\pi/7\\big) + p$, we find its tangent vector using the chain rule:\n$$\n\\gamma_{2}'(u) = \\frac{d\\gamma_{2}}{du} = Q \\cdot \\frac{d}{du} \\gamma_{1}(3u+\\pi/7) + \\frac{d}{du}p = Q \\cdot \\gamma_{1}'(3u+\\pi/7) \\cdot \\frac{d}{du}(3u+\\pi/7) = 3Q\\,\\gamma_{1}'(3u+\\pi/7).\n$$\nThe speed of $\\gamma_{2}$ is the magnitude of $\\gamma_{2}'(u)$. Since $Q$ is a rotation matrix, it is orthogonal and thus preserves norms, i.e., $\\|Q\\mathbf{v}\\| = \\|\\mathbf{v}\\|$ for any vector $\\mathbf{v} \\in \\mathbb{R}^{3}$.\n$$\n\\|\\gamma_{2}'(u)\\| = \\|3Q\\,\\gamma_{1}'(3u+\\pi/7)\\| = 3 \\|Q\\,\\gamma_{1}'(3u+\\pi/7)\\| = 3 \\|\\gamma_{1}'(3u+\\pi/7)\\|.\n$$\nWe have already established that $\\|\\gamma_{1}'(t)\\| = \\sqrt{5}$ for any parameter value $t$. Therefore, $\\|\\gamma_{2}'(u)\\| = 3\\sqrt{5}$. The speed of $\\gamma_{2}$ is also constant. The arc-length parameter $s_{2}(u)$ is:\n$$\ns_{2}(u) = \\int \\|\\gamma_{2}'(u)\\| du = \\int 3\\sqrt{5} du = 3\\sqrt{5}u + C_{2},\n$$\nwhere $C_{2}$ is an arbitrary constant of integration.\n\n2) Coincidence of curvature and torsion.\n\nCurvature and torsion are intrinsic properties of a curve, meaning they are invariant under rigid motions and choice of parameter starting point. We are asked to show this from first principles.\n\nLet us reparameterize $\\gamma_{1}$ by its arc-length $s_{1}$. Let's choose $C_{1} = 0$, so $s_{1} = \\sqrt{5}t$, which implies $t = s_{1}/\\sqrt{5}$. The arc-length-parameterized curve is $\\tilde{\\gamma}_{1}(s_{1}) = \\gamma_{1}(s_{1}/\\sqrt{5})$.\nLet us reparameterize $\\gamma_{2}$ by its arc-length $s_{2}$. Let's choose $C_{2} = 0$, so $s_{2} = 3\\sqrt{5}u$, which implies $u = s_{2}/(3\\sqrt{5})$. The arc-length-parameterized curve is $\\tilde{\\gamma}_{2}(s_{2}) = \\gamma_{2}(s_{2}/(3\\sqrt{5}))$.\nSubstituting the expression for $\\gamma_{2}(u)$:\n$$\n\\tilde{\\gamma}_{2}(s_{2}) = Q\\,\\gamma_{1}\\Big(3\\Big(\\frac{s_{2}}{3\\sqrt{5}}\\Big) + \\frac{\\pi}{7}\\Big) + p = Q\\,\\gamma_{1}\\Big(\\frac{s_{2}}{\\sqrt{5}} + \\frac{\\pi}{7}\\Big) + p.\n$$\nWe can express the argument in terms of $\\tilde{\\gamma}_{1}$. Let $s_a = s_2$ and $s_b = s_2 + \\sqrt{5}\\pi/7$. Then $\\tilde{\\gamma}_{1}(s_b) = \\gamma_1(s_b/\\sqrt{5}) = \\gamma_1(s_2/\\sqrt{5} + \\pi/7)$. Thus,\n$$\n\\tilde{\\gamma}_{2}(s_{a}) = Q\\,\\tilde{\\gamma}_{1}(s_b) + p = Q\\,\\tilde{\\gamma}_{1}(s_{a} + \\sqrt{5}\\pi/7) + p.\n$$\nThis shows that $\\tilde{\\gamma}_{2}$ is obtained from $\\tilde{\\gamma}_{1}$ by a shift of the arc-length parameter, followed by a rotation and a translation. Let $F(\\mathbf{x}) = Q\\mathbf{x}+p$ and $h(s) = s + \\sqrt{5}\\pi/7$. Then $\\tilde{\\gamma}_{2}(s) = F(\\tilde{\\gamma}_{1}(h(s)))$.\n\nLet's compute the Frenet apparatus for $\\tilde{\\gamma}_{2}$ in terms of that for $\\tilde{\\gamma}_{1}$. Let $\\{T_{1}(s), N_{1}(s), B_{1}(s), \\kappa_{1}(s), \\tau_{1}(s)\\}$ be the Frenet apparatus for $\\tilde{\\gamma}_{1}$.\nThe tangent vector of $\\tilde{\\gamma}_{2}$ is $T_{2}(s) = d\\tilde{\\gamma}_{2}/ds$:\n$$\nT_{2}(s) = \\frac{d}{ds} \\Big( Q\\,\\tilde{\\gamma}_{1}(h(s)) + p \\Big) = Q\\,\\frac{d\\tilde{\\gamma}_{1}}{ds}(h(s)) \\cdot h'(s) = Q\\,T_{1}(h(s)) \\cdot 1 = Q\\,T_{1}(h(s)).\n$$\nThe derivative of $T_{2}(s)$ is:\n$$\n\\frac{dT_{2}}{ds} = \\frac{d}{ds} \\big(Q\\,T_{1}(h(s))\\big) = Q\\,\\frac{dT_{1}}{ds}(h(s)) \\cdot h'(s) = Q\\,\\frac{dT_{1}}{ds}(h(s)).\n$$\nThe curvature $\\kappa_{2}(s)$ is the norm of this vector:\n$$\n\\kappa_{2}(s) = \\Big\\|\\frac{dT_{2}}{ds}\\Big\\| = \\Big\\|Q\\,\\frac{dT_{1}}{ds}(h(s))\\Big\\| = \\Big\\|\\frac{dT_{1}}{ds}(h(s))\\Big\\| = \\kappa_{1}(h(s)).\n$$\nThe principal normal $N_{2}(s)$ is:\n$$\nN_{2}(s) = \\frac{1}{\\kappa_{2}(s)}\\frac{dT_{2}}{ds} = \\frac{1}{\\kappa_{1}(h(s))}Q\\,\\frac{dT_{1}}{ds}(h(s)) = Q\\,\\left(\\frac{1}{\\kappa_{1}(h(s))}\\frac{dT_{1}}{ds}(h(s))\\right) = Q\\,N_{1}(h(s)).\n$$\nThe binormal vector $B_{2}(s)$ is $T_{2}(s) \\times N_{2}(s)$. Since $Q$ is a rotation, $\\det(Q)=1$, and it preserves the cross product: $Q(\\mathbf{a} \\times \\mathbf{b}) = (Q\\mathbf{a}) \\times (Q\\mathbf{b})$.\n$$\nB_{2}(s) = T_{2}(s) \\times N_{2}(s) = \\big(Q\\,T_{1}(h(s))\\big) \\times \\big(Q\\,N_{1}(h(s))\\big) = Q\\,\\big(T_{1}(h(s)) \\times N_{1}(h(s))\\big) = Q\\,B_{1}(h(s)).\n$$\nTo find the torsion, we differentiate $B_{2}(s)$:\n$$\n\\frac{dB_{2}}{ds} = \\frac{d}{ds} \\big(Q\\,B_{1}(h(s))\\big) = Q\\,\\frac{dB_{1}}{ds}(h(s)) \\cdot h'(s) = Q\\,\\frac{dB_{1}}{ds}(h(s)).\n$$\nThe torsion $\\tau_{2}(s)$ is given by $\\tau_{2}(s) = - \\frac{dB_{2}}{ds} \\cdot N_{2}(s)$.\n$$\n\\tau_{2}(s) = - \\Big(Q\\,\\frac{dB_{1}}{ds}(h(s))\\Big) \\cdot \\big(Q\\,N_{1}(h(s))\\big).\n$$\nSince $Q$ is orthogonal, it preserves dot products: $(Q\\mathbf{a}) \\cdot (Q\\mathbf{b}) = \\mathbf{a} \\cdot \\mathbf{b}$.\n$$\n\\tau_{2}(s) = - \\frac{dB_{1}}{ds}(h(s)) \\cdot N_{1}(h(s)) = \\tau_{1}(h(s)).\n$$\nThus, we have shown that $\\kappa_{2}(s) = \\kappa_{1}(s + \\sqrt{5}\\pi/7)$ and $\\tau_{2}(s) = \\tau_{1}(s + \\sqrt{5}\\pi/7)$. The curvature and torsion functions for $\\gamma_{2}$ are just shifted versions of those for $\\gamma_{1}$. Since an intrinsic property should not depend on the starting point, this demonstrates their fundamental identity. When we compute them, we'll see they are constant, so $\\kappa_1(s) = \\kappa_1$ and $\\tau_1(s) = \\tau_1$, which means $\\kappa_2(s) = \\kappa_1$ and $\\tau_2(s) = \\tau_1$. The functions are identical.\n\n3) Computation of the common curvature and torsion.\n\nWe only need to compute $\\kappa_{1}$ and $\\tau_{1}$ for $\\gamma_1$. Let $s$ be the arc-length parameter for $\\gamma_1$, with $s = \\sqrt{5}t$.\nThe arc-length parameterized curve is $\\tilde{\\gamma}_{1}(s) = \\big(2 \\cos(s/\\sqrt{5}),\\, 2 \\sin(s/\\sqrt{5}),\\, s/\\sqrt{5}\\big)$.\nThe unit tangent vector $T_{1}(s)$ is:\n$$\nT_{1}(s) = \\frac{d\\tilde{\\gamma}_{1}}{ds} = \\Big(-\\frac{2}{\\sqrt{5}}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, \\frac{2}{\\sqrt{5}}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, \\frac{1}{\\sqrt{5}}\\Big).\n$$\nDifferentiating $T_{1}(s)$ with respect to $s$:\n$$\n\\frac{dT_{1}}{ds} = \\Big(-\\frac{2}{5}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, -\\frac{2}{5}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, 0\\Big).\n$$\nThe curvature $\\kappa_{1}(s)$ is the magnitude of this vector:\n$$\n\\kappa_{1}(s) = \\Big\\|\\frac{dT_{1}}{ds}\\Big\\| = \\sqrt{\\Big(-\\frac{2}{5}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big)\\Big)^2 + \\Big(-\\frac{2}{5}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big)\\Big)^2} = \\sqrt{\\frac{4}{25}\\cos^2\\Big(\\frac{s}{\\sqrt{5}}\\Big) + \\frac{4}{25}\\sin^2\\Big(\\frac{s}{\\sqrt{5}}\\Big)} = \\sqrt{\\frac{4}{25}} = \\frac{2}{5}.\n$$\nThe curvature is a constant, $\\kappa = 2/5$.\nThe principal normal vector $N_{1}(s)$ is:\n$$\nN_{1}(s) = \\frac{1}{\\kappa_{1}(s)}\\frac{dT_{1}}{ds} = \\frac{5}{2}\\Big(-\\frac{2}{5}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, -\\frac{2}{5}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, 0\\Big) = \\Big(-\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, -\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, 0\\Big).\n$$\nThe binormal vector $B_{1}(s) = T_{1}(s) \\times N_{1}(s)$ is:\n$$\nB_{1}(s) = \\Big(\\frac{1}{\\sqrt{5}}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, -\\frac{1}{\\sqrt{5}}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, \\frac{2}{\\sqrt{5}}\\Big).\n$$\nDifferentiating $B_{1}(s)$ with respect to $s$:\n$$\n\\frac{dB_{1}}{ds} = \\Big(\\frac{1}{5}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, \\frac{1}{5}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, 0\\Big).\n$$\nThe torsion $\\tau_{1}(s)$ is given by $\\tau_{1}(s) = -\\frac{dB_{1}}{ds} \\cdot N_{1}(s)$:\n$$\n\\tau_{1}(s) = - \\Big(\\frac{1}{5}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, \\frac{1}{5}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, 0\\Big) \\cdot \\Big(-\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, -\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, 0\\Big)\n$$\n$$\n\\tau_{1}(s) = -\\Big(-\\frac{1}{5}\\cos^2\\Big(\\frac{s}{\\sqrt{5}}\\Big) - \\frac{1}{5}\\sin^2\\Big(\\frac{s}{\\sqrt{5}}\\Big)\\Big) = - \\Big(-\\frac{1}{5}\\Big) = \\frac{1}{5}.\n$$\nThe torsion is also a constant, $\\tau = 1/5$.\nThese are the common curvature and torsion for both curves.\n\nCommon curvature: $\\kappa = 2/5$.\nCommon torsion: $\\tau = 1/5$.", "answer": "$$\n\\boxed{\\begin{pmatrix} \\frac{2}{5} & \\frac{1}{5} \\end{pmatrix}}\n$$", "id": "3049493"}, {"introduction": "The Fundamental Theorem promises not only uniqueness but also existence: for any suitable pair of curvature and torsion functions, a corresponding curve exists. This practice moves from theory to application by tasking you with the computational reconstruction of a planar curve from its curvature function, $\\kappa(s)$ [@problem_id:3049517]. By implementing a numerical integration scheme, you will essentially 'draw' the curve based solely on its prescribed bending, turning an abstract mathematical guarantee into a tangible, constructed result.", "problem": "You are asked to implement, from first principles, the reconstruction of a planar unit-speed curve from its curvature, in accordance with the fundamental theorem of curve theory. The reconstruction must be based on core definitions: for a unit-speed planar curve with position $r(s)$ parameterized by arc length $s$, the unit tangent vector $T(s)$ is defined by $T(s) = r'(s)$ with $\\lVert T(s) \\rVert = 1$, and the signed curvature $\\kappa(s)$ is defined as the rate of change of the tangent direction with respect to arc length. Your implementation must start from these definitions and perform numerical integration to produce the end position $r(b)$ given $\\kappa(s)$ on an interval $[a,b]$, an initial point $r(a)$, and an initial tangent angle $\\theta(a)$ that orients $T(a)$.\n\nDesign requirements:\n1. Use a uniform partition of the arc length interval $[a,b]$ with $N$ points, compute the tangent angle $\\theta(s)$ along the grid by integrating $\\kappa(s)$ with respect to $s$, and then integrate the unit tangent $T(s)$ to reconstruct $r(s)$. All angles must be in radians.\n2. Use a stable and consistent numerical quadrature scheme for the integrations that is appropriate for continuous curvature functions on compact intervals; a composite trapezoidal rule is acceptable.\n3. Return the end position $r(b)$ and round each coordinate to $6$ decimal places.\n\nTest suite:\nImplement your program to process the following test cases, each with specified parameters. For each test case, you are reconstructing a single end position $r(b)$ from the given curvature and initial data.\n- Case $1$ (boundary case: straight line):\n  - Interval: $[a,b] = [0,1]$.\n  - Curvature: $\\kappa(s) = 0$ for all $s$ in $[0,1]$.\n  - Initial angle: $\\theta(0) = 0$.\n  - Initial position: $r(0) = (0,0)$.\n  - Grid size: $N = 10001$.\n  - Expected qualitative behavior: the curve is a straight segment aligned with the $x$-axis; the end position should be near $(1,0)$.\n- Case $2$ (periodicity: constant curvature circle closure):\n  - Interval: $[a,b] = [0, 2\\pi]$.\n  - Curvature: $\\kappa(s) = 1$ for all $s$ in $[0,2\\pi]$.\n  - Initial angle: $\\theta(0) = 0$.\n  - Initial position: $r(0) = (0,0)$.\n  - Grid size: $N = 50001$.\n  - Expected qualitative behavior: traversal of a unit circle; the end position should be near $(0,0)$.\n- Case $3$ (smooth varying curvature):\n  - Interval: $[a,b] = [0, \\pi]$.\n  - Curvature: $\\kappa(s) = \\sin s$.\n  - Initial angle: $\\theta(0) = 0$.\n  - Initial position: $r(0) = (0,0)$.\n  - Grid size: $N = 20001$.\n- Case $4$ (piecewise curvature with a discontinuity):\n  - Interval: $[a,b] = [0, 1]$.\n  - Curvature: $\\kappa(s) = 0$ for $s \\le 0.5$ and $\\kappa(s) = 2$ for $s > 0.5$.\n  - Initial angle: $\\theta(0) = 0$.\n  - Initial position: $r(0) = (0,0)$.\n  - Grid size: $N = 10001$.\n- Case $5$ (different initial orientation):\n  - Interval: $[a,b] = [0, 1]$.\n  - Curvature: $\\kappa(s) = 0$ for all $s$ in $[0,1]$.\n  - Initial angle: $\\theta(0) = \\pi/4$.\n  - Initial position: $r(0) = (0,0)$.\n  - Grid size: $N = 10001$.\n\nFinal output format:\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets. Each test case contributes a two-element list $[x_b,y_b]$ of floats representing $r(b)$ rounded to $6$ decimal places, and the overall output should be the list of these lists, for example, $$[[x_1,y_1],[x_2,y_2],[x_3,y_3],[x_4,y_4],[x_5,y_5]].$$ Angles must be interpreted in radians.", "solution": "The problem is valid as it presents a well-posed, scientifically grounded task in computational differential geometry. It asks for the numerical implementation of the fundamental theorem of curve theory for planar curves, providing all necessary initial conditions, functions, and parameters for a deterministic solution.\n\nThe solution reconstructs a planar, unit-speed curve from its signed curvature function $\\kappa(s)$, where $s$ is the arc length parameter. The theoretical basis is the **Fundamental Theorem of Curve Theory**, which, for the planar case, states that a curve's shape is uniquely determined by its curvature function $\\kappa(s)$ up to a rigid motion (translation and rotation). By providing an initial position $r(a)$ and an initial tangent direction $\\theta(a)$, the curve's specific path in the plane is fixed.\n\nLet the curve's position be described by the vector function $r(s) = (x(s), y(s))$. For a unit-speed parameterization, the tangent vector $T(s)$ is given by the derivative with respect to arc length:\n$$T(s) = \\frac{dr}{ds}(s)$$\nSince the speed is unity, the tangent vector has unit length, i.e., $\\lVert T(s) \\rVert = 1$. This allows us to express the tangent vector in terms of an angle $\\theta(s)$ which it makes with the positive $x$-axis:\n$$T(s) = (\\cos(\\theta(s)), \\sin(\\theta(s)))$$\nThe signed curvature, $\\kappa(s)$, is defined as the rate of change of this angle $\\theta(s)$ with respect to the arc length $s$:\n$$\\kappa(s) = \\frac{d\\theta}{ds}(s)$$\nTo reconstruct the curve $r(s)$ from a given curvature function $\\kappa(s)$ over an interval $[a, b]$, we must perform two successive integrations. First, we integrate the curvature to find the tangent angle, and second, we integrate the tangent vector to find the position.\n\n**Step 1: Determine the Tangent Angle $\\theta(s)$**\nFrom the definition $\\kappa(s) = d\\theta/ds$, we can find $\\theta(s)$ by integrating with respect to $s$:\n$$\\theta(s) = \\theta(a) + \\int_{a}^{s} \\kappa(u) \\, du$$\nwhere $\\theta(a)$ is the given initial angle at $s=a$.\n\n**Step 2: Determine the Position Vector $r(s)$**\nFrom the definition $T(s) = dr/ds$, we can find $r(s)$ by integrating the tangent vector:\n$$r(s) = r(a) + \\int_{a}^{s} T(u) \\, du$$\nwhere $r(a) = (x(a), y(a))$ is the given initial position. This vector equation separates into two scalar integrals for the coordinates:\n$$x(s) = x(a) + \\int_{a}^{s} \\cos(\\theta(u)) \\, du$$\n$$y(s) = y(a) + \\int_{a}^{s} \\sin(\\theta(u)) \\, du$$\n\n**Numerical Implementation**\nTo perform these integrations numerically, we discretize the arc length interval $[a, b]$ into $N$ points, creating a uniform grid $s_i = a + i \\cdot h$ for $i = 0, 1, \\dots, N-1$, where the step size is $h = (b-a)/(N-1)$. We then approximate the integrals using the composite trapezoidal rule, which involves iterating through the grid and applying the single-step trapezoidal rule at each step.\n\nThe algorithm proceeds as follows:\n1.  Initialize the state at $s_0=a$:\n    -   Angle: $\\theta_0 = \\theta(a)$\n    -   Position: $r_0 = (x_0, y_0) = r(a)$\n    -   Evaluate the curvature function at all grid points: $\\kappa_i = \\kappa(s_i)$.\n\n2.  Iterate from $i = 0$ to $N-2$ to compute the values at $s_{i+1}$:\n    a.  **Update the angle $\\theta_{i+1}$**: We approximate the integral of $\\kappa(s)$ from $s_i$ to $s_{i+1}$. Using the trapezoidal rule for a single step:\n        $$\\theta_{i+1} = \\theta_i + \\int_{s_i}^{s_{i+1}} \\kappa(u) \\, du \\approx \\theta_i + \\frac{h}{2}(\\kappa_i + \\kappa_{i+1})$$\n    b.  **Update the position $r_{i+1}$**: With $\\theta_i$ and $\\theta_{i+1}$ known, we can find the tangent vectors $T_i = (\\cos(\\theta_i), \\sin(\\theta_i))$ and $T_{i+1} = (\\cos(\\theta_{i+1}), \\sin(\\theta_{i+1}))$. We then approximate the integral of $T(s)$ from $s_i$ to $s_{i+1}$:\n        $$r_{i+1} = r_i + \\int_{s_i}^{s_{i+1}} T(u) \\, du \\approx r_i + \\frac{h}{2}(T_i + T_{i+1})$$\n        This corresponds to updating each coordinate:\n        $$x_{i+1} \\approx x_i + \\frac{h}{2}(\\cos(\\theta_i) + \\cos(\\theta_{i+1}))$$\n        $$y_{i+1} \\approx y_i + \\frac{h}{2}(\\sin(\\theta_i) + \\sin(\\theta_{i+1}))$$\n\n3.  The final result is the position vector at the end of the interval, $r_{N-1} = r(b)$, with its components rounded to the specified precision. This iterative process, based on the fundamental definitions, correctly implements the reconstruction from first principles.", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef reconstruct_curve(k_func, interval, initial_pos, initial_angle, N):\n    \"\"\"\n    Reconstructs a planar unit-speed curve from its curvature using numerical integration.\n\n    Args:\n        k_func (callable): A function that takes an array of arc length values s\n                           and returns the curvature k(s).\n        interval (list or tuple): The start and end of the arc length interval [a, b].\n        initial_pos (tuple): The initial position of the curve r(a) = (x(a), y(a)).\n        initial_angle (float): The initial tangent angle theta(a) in radians.\n        N (int): The number of points in the uniform grid.\n\n    Returns:\n        list: The final position [x(b), y(b)] with coordinates rounded to 6 decimal places.\n    \"\"\"\n    a, b = interval\n    if N <= 1:\n        # If N is 0 or 1, the interval has no length or one point.\n        # The position does not change from the initial position.\n        return [round(coord, 6) for coord in initial_pos]\n        \n    h = (b - a) / (N - 1)\n    s = np.linspace(a, b, N)\n\n    # Evaluate the curvature function at all grid points\n    k_values = k_func(s)\n\n    # Initialize arrays for the angle (theta) and position (r)\n    theta = np.zeros(N)\n    r = np.zeros((N, 2))\n\n    # Set the initial conditions\n    theta[0] = initial_angle\n    r[0] = initial_pos\n\n    # Perform numerical integration using the composite trapezoidal rule iteratively\n    for i in range(N - 1):\n        # Step 1: Integrate curvature k(s) to find the tangent angle theta(s)\n        # The integral over one step [s_i, s_{i+1}] is approximated by h/2 * (k_i + k_{i+1})\n        theta[i+1] = theta[i] + (h / 2.0) * (k_values[i] + k_values[i+1])\n\n        # Step 2: Integrate the tangent vector T(s) = (cos(theta), sin(theta)) to find position r(s)\n        # The tangent vectors at the endpoints of the step\n        T_i = np.array([np.cos(theta[i]), np.sin(theta[i])])\n        T_i1 = np.array([np.cos(theta[i+1]), np.sin(theta[i+1])])\n        \n        # The integral of the tangent vector over one step is approximated by h/2 * (T_i + T_{i+1})\n        r[i+1] = r[i] + (h / 2.0) * (T_i + T_i1)\n\n    # The final position is the last element of the position array\n    end_position = r[-1]\n    \n    # Return rounded coordinates as per problem specification\n    return [round(end_position[0], 6), round(end_position[1], 6)]\n\ndef solve():\n    \"\"\"\n    Processes all test cases specified in the problem and prints the results.\n    \"\"\"\n    test_cases = [\n        # Case 1: Straight line (zero curvature)\n        {'k_func': lambda s: np.zeros_like(s), 'interval': [0, 1], 'initial_pos': (0, 0), 'initial_angle': 0, 'N': 10001},\n        \n        # Case 2: Unit circle (constant curvature)\n        {'k_func': lambda s: np.ones_like(s), 'interval': [0, 2 * np.pi], 'initial_pos': (0, 0), 'initial_angle': 0, 'N': 50001},\n        \n        # Case 3: Varying curvature (sine wave)\n        {'k_func': lambda s: np.sin(s), 'interval': [0, np.pi], 'initial_pos': (0, 0), 'initial_angle': 0, 'N': 20001},\n        \n        # Case 4: Piecewise curvature (discontinuity)\n        # np.piecewise is vectorized and evaluates k(s) correctly on the grid.\n        {'k_func': lambda s: np.piecewise(s, [s <= 0.5, s > 0.5], [0, 2]), 'interval': [0, 1], 'initial_pos': (0, 0), 'initial_angle': 0, 'N': 10001},\n        \n        # Case 5: Straight line with different initial orientation\n        {'k_func': lambda s: np.zeros_like(s), 'interval': [0, 1], 'initial_pos': (0, 0), 'initial_angle': np.pi / 4, 'N': 10001},\n    ]\n\n    results = []\n    for case in test_cases:\n        result = reconstruct_curve(\n            k_func=case['k_func'],\n            interval=case['interval'],\n            initial_pos=case['initial_pos'],\n            initial_angle=case['initial_angle'],\n            N=case['N']\n        )\n        results.append(result)\n\n    # Format the final output string exactly as specified: [[x1,y1],[x2,y2],...]\n    # without extra spaces introduced by default list-to-string conversion.\n    final_string = '[' + ','.join(f'[{r[0]},{r[1]}]' for r in results) + ']'\n    print(final_string)\n\nsolve()\n```", "id": "3049517"}]}