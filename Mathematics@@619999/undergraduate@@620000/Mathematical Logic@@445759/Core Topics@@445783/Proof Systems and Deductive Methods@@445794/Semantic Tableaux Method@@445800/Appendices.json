{"hands_on_practices": [{"introduction": "One of the most intuitive applications of the semantic tableau method is its ability to act as a detective, systematically searching for a scenario that proves a formula false. When a tableau constructed from the assumption that a formula $\\phi$ is false remains \"open,\" it doesn't signify failure; instead, it provides a direct blueprint for a counterexample. This practice [@problem_id:3051989] will guide you through this process of refutation, showing you how to extract a concrete valuation from an open branch that falsifies a given logical statement.", "problem": "Consider classical propositional logic with the Semantic Tableau (Truth-Tree) method for validity testing. Let a valuation be a function $v$ assigning each propositional variable a truth value, and write the truth values as the mathematical symbols $\\mathsf{T}$ and $\\mathsf{F}$. The semantic clause for implication is: for any formulas $\\varphi$ and $\\psi$, $v(\\varphi \\to \\psi) = \\mathsf{T}$ if and only if $v(\\varphi) = \\mathsf{F}$ or $v(\\psi) = \\mathsf{T}$, and $v(\\varphi \\to \\psi) = \\mathsf{F}$ if and only if $v(\\varphi) = \\mathsf{T}$ and $v(\\psi) = \\mathsf{F}$. The Semantic Tableau (Truth-Tree) method uses signed formulas $T\\varphi$ and $F\\varphi$ governed by decomposition rules derived from these clauses. In particular, $F(\\varphi \\to \\psi)$ decomposes to $T\\varphi$ and $F\\psi$ on the same branch, while $T(\\varphi \\to \\psi)$ branches into either $F\\varphi$ or $T\\psi$.\n\nUse a tableau to refute the validity of the formula $(p \\to q) \\to (q \\to p)$ by starting with the signed formula $F\\big((p \\to q) \\to (q \\to p)\\big)$ and systematically applying the tableau rules until all possible branches are either closed (contain a direct contradiction) or remain open. From any open branch, read off a countermodel (a valuation $v$ making the formula false). Then, encode the truth values of $p$ and $q$ from that countermodel numerically by defining\n$$\n\\chi(p) = \\begin{cases}\n1 & \\text{if } v(p) = \\mathsf{T},\\\\\n0 & \\text{if } v(p) = \\mathsf{F},\n\\end{cases}\n\\qquad\n\\chi(q) = \\begin{cases}\n1 & \\text{if } v(q) = \\mathsf{T},\\\\\n0 & \\text{if } v(q) = \\mathsf{F}.\n\\end{cases}\n$$\nFinally, compute the real number $f(v) = \\chi(p) + 2\\,\\chi(q)$ for the countermodel you have read off. No rounding is required; provide the exact value.", "solution": "The problem requires us to use the semantic tableau method to refute the validity of the propositional formula $(p \\to q) \\to (q \\to p)$. A formula is valid if and only if it is true under all possible valuations. To refute its validity, we must find at least one valuation, called a countermodel, for which the formula is false. The semantic tableau method is a systematic procedure for finding such a countermodel. The process begins by assuming the formula is false and then decomposing it according to a set of rules to see if this assumption leads to a contradiction. If any path in the tableau remains open (i.e., does not contain a contradiction), it describes a countermodel.\n\nWe start the tableau with the signed formula $F\\big((p \\to q) \\to (q \\to p)\\big)$, which represents the assumption that the formula is false.\n\nThe construction of the tableau proceeds as follows, with each line numbered for reference:\n\n1.  $F\\big((p \\to q) \\to (q \\to p)\\big)$ (Assumption)\n\nTo decompose the formula on line 1, we apply the rule for a false implication, $F(\\varphi \\to \\psi)$, which decomposes into $T\\varphi$ and $F\\psi$. In this case, $\\varphi$ is $(p \\to q)$ and $\\psi$ is $(q \\to p)$. This is an $\\alpha$-rule, so both resulting formulas are added to the same branch.\n\n2.  $T(p \\to q)$ (from 1)\n3.  $F(q \\to p)$ (from 1)\n\nNext, we decompose the formula on line 3, $F(q \\to p)$. Applying the same rule for a false implication, where $\\varphi$ is $q$ and $\\psi$ is $p$, we add $Tq$ and $Fp$ to the branch.\n\n4.  $Tq$ (from 3)\n5.  $Fp$ (from 3)\n\nNow, we must decompose the formula on line 2, $T(p \\to q)$. The rule for a true implication, $T(\\varphi \\to \\psi)$, is a $\\beta$-rule, which causes the tableau to branch. One branch will contain $F\\varphi$ and the other will contain $T\\psi$. Here, $\\varphi$ is $p$ and $\\psi$ is $q$.\n\nThe current branch, containing lines 1 through 5, splits into two sub-branches:\n\nBranch 1:\n6.  $Fp$ (from 2)\n\nBranch 2:\n7.  $Tq$ (from 2)\n\nWe now examine each branch to see if it is closed or open. A branch is closed if it contains a direct contradiction, i.e., signed formulas $T\\alpha$ and $F\\alpha$ for some formula $\\alpha$. Otherwise, it is open.\n\nAnalysis of Branch 1:\nThe primitive (atomic) signed formulas on this branch are $Tq$ (from line 4), $Fp$ (from line 5), and $Fp$ (from line 6). The set of unique primitive signed formulas is $\\{Fp, Tq\\}$. There is no formula $\\alpha$ such that both $T\\alpha$ and $F\\alpha$ are present. Therefore, this branch is open.\n\nAnalysis of Branch 2:\nThe primitive signed formulas on this branch are $Tq$ (from line 4), $Fp$ (from line 5), and $Tq$ (from line 7). The set of unique primitive signed formulas is $\\{Fp, Tq\\}$. Similar to Branch 1, there is no contradiction. Therefore, this branch is also open.\n\nSince at least one branch of the tableau is open, the initial formula is not valid. We can read a countermodel from any open branch. Both open branches yield the same set of assignments for the atomic propositions. Let's use the first open branch. The signed literals are $Fp$ and $Tq$.\n\nThis corresponds to a valuation $v$ where:\n-   $v(p) = \\mathsf{F}$ (because the branch contains $Fp$)\n-   $v(q) = \\mathsf{T}$ (because the branch contains $Tq$)\n\nThis valuation is a countermodel for the formula $(p \\to q) \\to (q \\to p)$. Let's verify this:\nIf $v(p) = \\mathsf{F}$ and $v(q) = \\mathsf{T}$, then:\n-   $v(p \\to q) = v(\\mathsf{F} \\to \\mathsf{T}) = \\mathsf{T}$\n-   $v(q \\to p) = v(\\mathsf{T} \\to \\mathsf{F}) = \\mathsf{F}$\n-   $v\\big((p \\to q) \\to (q \\to p)\\big) = v(\\mathsf{T} \\to \\mathsf{F}) = \\mathsf{F}$\nThe valuation indeed makes the formula false, confirming it is a countermodel.\n\nThe problem asks for the computation of a real number $f(v) = \\chi(p) + 2\\,\\chi(q)$ based on this countermodel. The encoding function $\\chi$ is given as:\n$\\chi(x) = 1$ if $v(x) = \\mathsf{T}$, and $\\chi(x) = 0$ if $v(x) = \\mathsf{F}$.\n\nFor our countermodel $v$, we have:\n-   $\\chi(p) = 0$, because $v(p) = \\mathsf{F}$.\n-   $\\chi(q) = 1$, because $v(q) = \\mathsf{T}$.\n\nNow we substitute these values into the expression for $f(v)$:\n$$f(v) = \\chi(p) + 2\\,\\chi(q) = 0 + 2(1) = 2$$\n\nThe value of the function $f(v)$ for the derived countermodel is $2$.", "answer": "$$\\boxed{2}$$", "id": "3051989"}, {"introduction": "While finding counterexamples is powerful, the ultimate goal of many logical systems is to establish universal truths. The tableau method achieves this through a process of elimination: if the systematic search for a counterexample fails on every possible path, leading to contradictions that close every branch, the formula must be a validity. This exercise [@problem_id:3052076] challenges you to prove a fundamental law of logic—distributivity—and see how the mechanical steps of the tableau method confirm an equivalence that also holds true algebraically.", "problem": "Consider propositional variables $p$, $q$, and $r$. Let $\\varphi$ be the biconditional formula \n$$\\bigl(p \\land (q \\lor r)\\bigr) \\leftrightarrow \\bigl((p \\land q) \\lor (p \\land r)\\bigr).$$\nUse the semantic tableaux method (also known as analytic tableaux) for propositional logic to decide whether $\\varphi$ is valid. Proceed from fundamental definitions: a formula $\\chi$ is valid if and only if every truth assignment makes $\\chi$ true; a semantic tableau for validity is constructed by starting with $F\\chi$ and applying the standard decomposition rules for $T$ and $F$ acting on $\\land$, $\\lor$, and $\\leftrightarrow$, together with the closure condition that a branch closes when both $T\\psi$ and $F\\psi$ occur on it for some subformula $\\psi$. Construct a complete tableau for $F\\varphi$, systematically decompose until all branches are closed or no rule applies, and then count the number of open (non-closed) branches.\n\nIndependently, give a derivation that explains why the two sides of the biconditional are equivalent using only fundamental algebraic laws of propositional logic such as associativity, commutativity, idempotence, and distributivity, and the truth-functional definition of the biconditional as agreement of truth values.\n\nYour final task is a calculation: report the total number of open branches in the completed tableau for $F\\varphi$. Express your answer as an exact integer. No rounding is required.", "solution": "The problem asks for two tasks concerning the formula $\\varphi = \\bigl(p \\land (q \\lor r)\\bigr) \\leftrightarrow \\bigl((p \\land q) \\lor (p \\land r)\\bigr)$. First, to use the semantic tableaux method to determine if $\\varphi$ is valid by constructing a tableau for $F\\varphi$ and counting the open branches. Second, to provide an algebraic derivation of the logical equivalence between the two sides of the biconditional.\n\n**Part 1: Semantic Tableau for $F\\varphi$**\n\nA formula $\\chi$ is valid (a tautology) if and only if its negation, $\\neg\\chi$, is unsatisfiable. The semantic tableau method checks for satisfiability. A tableau for a formula represents a systematic search for a satisfying truth assignment. If all branches of the tableau close, it means no such assignment exists, the formula is unsatisfiable, and its negation is a tautology. To check if $\\varphi$ is valid, we construct a tableau for $F\\varphi$ (which corresponds to asserting that $\\neg\\varphi$ is true). If all branches of this tableau close, $\\varphi$ is valid.\n\nThe initial signed formula is:\n$1$. $F\\bigl(p \\land (q \\lor r)\\bigr) \\leftrightarrow \\bigl((p \\land q) \\lor (p \\land r)\\bigr)$\n\nThe rule for $F(A \\leftrightarrow B)$ states that the tableau splits into two branches: one with $TA$ and $FB$, and another with $FA$ and $TB$. Let $A = p \\land (q \\lor r)$ and $B = (p \\land q) \\lor (p \\land r)$.\n\n**Main Branch 1**\n$2$. $T\\bigl(p \\land (q \\lor r)\\bigr)$ (from $1$)\n$3$. $F\\bigl((p \\land q) \\lor (p \\land r)\\bigr)$ (from $1$)\n\nDecomposing line $2$ using the $T\\land$ rule (which does not branch):\n$4$. $Tp$ (from $2$)\n$5$. $T(q \\lor r)$ (from $2$)\n\nDecomposing line $3$ using the $F\\lor$ rule (which does not branch):\n$6$. $F(p \\land q)$ (from $3$)\n$7$. $F(p \\land r)$ (from $3$)\n\nNow, decomposing line $5$ using the $T\\lor$ rule splits this main branch:\n\n*   **Sub-branch 1.1**\n    $8$. $Tq$ (from $5$)\n    The formulas on this branch are $Tp$ (from $4$), $Tq$ (from $8$), $F(p \\land q)$ (from $6$), and $F(p \\land r)$ (from $7$).\n    Decomposing line $6$, $F(p \\land q)$, using the $F\\land$ rule splits this sub-branch:\n    *   **Sub-branch 1.1.1**: Add $Fp$. This branch contains $Tp$ (from $4$) and $Fp$. It **closes (×)**.\n    *   **Sub-branch 1.1.2**: Add $Fq$. This branch contains $Tq$ (from $8$) and $Fq$. It **closes (×)**.\n    Since both sub-branches originating from line $6$ close, Sub-branch $1.1$ is fully closed.\n\n*   **Sub-branch 1.2**\n    $9$. $Tr$ (from $5$)\n    The formulas on this branch are $Tp$ (from $4$), $Tr$ (from $9$), $F(p \\land q)$ (from $6$), and $F(p \\land r)$ (from $7$).\n    Decomposing line $7$, $F(p \\land r)$, using the $F\\land$ rule splits this sub-branch:\n    *   **Sub-branch 1.2.1**: Add $Fp$. This branch contains $Tp$ (from $4$) and $Fp$. It **closes (×)**.\n    *   **Sub-branch 1.2.2**: Add $Fr$. This branch contains $Tr$ (from $9$) and $Fr$. It **closes (×)**.\n    Since both sub-branches originating from line $7$ close, Sub-branch $1.2$ is fully closed.\n\nBoth Sub-branch $1.1$ and Sub-branch $1.2$ are closed, which means the entire Main Branch $1$ is closed.\n\n**Main Branch 2**\n$10$. $F\\bigl(p \\land (q \\lor r)\\bigr)$ (from $1$)\n$11$. $T\\bigl((p \\land q) \\lor (p \\land r)\\bigr)$ (from $1$)\n\nDecomposing line $11$ using the $T\\lor$ rule splits this main branch:\n\n*   **Sub-branch 2.1**\n    $12$. $T(p \\land q)$ (from $11$)\n    Decomposing line $12$ with the $T\\land$ rule:\n    $13$. $Tp$ (from $12$)\n    $14$. $Tq$ (from $12$)\n    The formulas on this branch are $F(p \\land (q \\lor r))$ (from $10$), $Tp$ (from $13$), and $Tq$ (from $14$).\n    Decomposing line $10$, $F(p \\land (q \\lor r))$, using the $F\\land$ rule splits this sub-branch:\n    *   **Sub-branch 2.1.1**: Add $Fp$. This branch contains $Tp$ (from $13$) and $Fp$. It **closes (×)**.\n    *   **Sub-branch 2.1.2**: Add $F(q \\lor r)$. Decomposing this with the $F\\lor$ rule gives $Fq$ and $Fr$. This branch contains $Tq$ (from $14$) and $Fq$. It **closes (×)**.\n    Since both sub-branches close, Sub-branch $2.1$ is fully closed.\n\n*   **Sub-branch 2.2**\n    $15$. $T(p \\land r)$ (from $11$)\n    Decomposing line $15$ with the $T\\land$ rule:\n    $16$. $Tp$ (from $15$)\n    $17$. $Tr$ (from $15$)\n    The formulas on this branch are $F(p \\land (q \\lor r))$ (from $10$), $Tp$ (from $16$), and $Tr$ (from $17$).\n    Decomposing line $10$, $F(p \\land (q \\lor r))$, using the $F\\land$ rule splits this sub-branch:\n    *   **Sub-branch 2.2.1**: Add $Fp$. This branch contains $Tp$ (from $16$) and $Fp$. It **closes (×)**.\n    *   **Sub-branch 2.2.2**: Add $F(q \\lor r)$. Decomposing this with the $F\\lor$ rule gives $Fq$ and $Fr$. This branch contains $Tr$ (from $17$) and $Fr$. It **closes (×)**.\n    Since both sub-branches close, Sub-branch $2.2$ is fully closed.\n\nBoth Sub-branch $2.1$ and Sub-branch $2.2$ are closed, which means the entire Main Branch $2$ is closed.\n\nSince both main branches of the tableau for $F\\varphi$ are closed, the entire tableau is closed. This demonstrates that $F\\varphi$ is unsatisfiable, and therefore $\\varphi$ is a valid formula. The number of open (non-closed) branches in the completed tableau is $0$.\n\n**Part 2: Algebraic Derivation**\n\nA biconditional formula $A \\leftrightarrow B$ is valid (a tautology) if and only if the formulas $A$ and $B$ are logically equivalent, denoted $A \\equiv B$. This means they have the same truth value for every possible truth assignment to their propositional variables. We need to show that $p \\land (q \\lor r) \\equiv (p \\land q) \\lor (p \\land r)$.\n\nThis equivalence is a fundamental law of propositional logic known as the **distributive law of conjunction over disjunction**. This law states that for any propositions $x$, $y$, and $z$:\n$$x \\land (y \\lor z) \\equiv (x \\land y) \\lor (x \\land z)$$\nBy substituting $p$ for $x$, $q$ for $y$, and $r$ for $z$, we directly obtain the equivalence:\n$$p \\land (q \\lor r) \\equiv (p \\land q) \\lor (p \\land r)$$\nSince the left-hand side and the right-hand side of the biconditional in $\\varphi$ are logically equivalent by one of the fundamental algebraic laws of logic, they will always share the same truth value. By definition, a biconditional is true precisely when its two components have the same truth value. Therefore, the formula $\\varphi$ is true under all truth assignments, which means it is a valid formula. This algebraic derivation confirms the result from the semantic tableau.\n\nThe final task is to report the total number of open branches in the completed tableau for $F\\varphi$. As determined by the systematic construction, this number is $0$.", "answer": "$$\\boxed{0}$$", "id": "3052076"}, {"introduction": "The true power of the semantic tableau method is revealed in its extension to first-order logic, where it must gracefully handle the complexities of quantifiers like \"for all\" ($\\forall$) and \"there exists\" ($\\exists$). This requires new rules for introducing and instantiating variables, demanding careful strategic thinking to ensure soundness. This practice [@problem_id:3052045] provides an essential workout in this advanced setting, tasking you with proving a core principle of quantifier reasoning and mastering the interplay between different quantifier rules.", "problem": "Consider classical First Order Logic (FOL) over a non-empty domain. A formula is valid if and only if every semantic tableau that begins with the formula marked as false leads to all branches closing. Use the semantic tableaux method with signed formulas, grounded in the following fundamental laws and core definitions:\n\n- Truth definition for implication: For formulas $A$ and $B$, $A \\to B$ is false if and only if $A$ is true and $B$ is false; $A \\to B$ is true if and only if either $A$ is false or $B$ is true.\n- Truth definition for universal quantification: $\\forall x\\,\\varphi(x)$ is true if and only if for every element $d$ in the domain, $\\varphi(d)$ is true; $\\forall x\\,\\varphi(x)$ is false if and only if there exists an element $d$ in the domain such that $\\varphi(d)$ is false.\n\nFrom these definitions, the standard first-order semantic tableau rules with signed formulas are derived; in particular, you will need the following:\n- For a signed formula $F(A \\to B)$, add $T A$ and $F B$ on the same branch.\n- For a signed formula $T(A \\to B)$, branch into either $F A$ or $T B$.\n- For a signed formula $T\\,\\forall x\\,\\varphi(x)$, you may instantiate $T\\,\\varphi(\\alpha)$ for any parameter $\\alpha$ already on the branch (and repeat as needed for further parameters).\n- For a signed formula $F\\,\\forall x\\,\\varphi(x)$, introduce a fresh eigenparameter $\\alpha$ not yet occurring on the branch and add $F\\,\\varphi(\\alpha)$.\n\nUsing only these principles and rules, construct a first-order semantic tableau for the formula\n$$\\forall x\\,(P(x)\\to Q(x))\\to(\\forall x\\,P(x)\\to\\forall x\\,Q(x))$$\nby beginning with the entire formula signed as false. Apply the tableau rules carefully, respecting eigenparameter freshness when required, and fully expand the tableau until all applicable rules are exhausted for the introduced formulas. Determine whether the tableau closes and compute the number of open branches upon completion.\n\nProvide, as your final answer, the integer equal to the number of open branches in the completed tableau. No rounding is necessary; report the exact integer.", "solution": "The problem asks for the construction of a semantic tableau for the formula $\\forall x\\,(P(x)\\to Q(x))\\to(\\forall x\\,P(x)\\to\\forall x\\,Q(x))$ and to determine the number of open branches upon its completion. The process starts by assuming the formula is false.\n\nA semantic tableau is a formal procedure for checking the validity of a formula in first-order logic. A formula is valid if and only if a tableau starting with the assumption of its falsity leads to a contradiction on every branch. A branch closes if it contains a formula $A$ signed as both true ($T A$) and false ($F A$). If all branches close, the initial assumption is untenable, and the formula is proven to be valid.\n\nWe begin the tableau with the initial signed formula:\n1. $F(\\forall x\\,(P(x)\\to Q(x))\\to(\\forall x\\,P(x)\\to\\forall x\\,Q(x)))$\n\nThis formula is of the form $F(A \\to B)$, where $A$ is $\\forall x\\,(P(x)\\to Q(x))$ and $B$ is $(\\forall x\\,P(x)\\to\\forall x\\,Q(x))$. Applying the given rule for a false implication, $F(A \\to B)$, we add both $T A$ and $F B$ to the same branch.\n\n2. $T(\\forall x\\,(P(x)\\to Q(x)))$ (from 1)\n3. $F(\\forall x\\,P(x)\\to\\forall x\\,Q(x))$ (from 1)\n\nNow, we apply the same rule to the formula on line 3, which is of the form $F(C \\to D)$, where $C$ is $\\forall x\\,P(x)$ and $D$ is $\\forall x\\,Q(x)$.\n\n4. $T(\\forall x\\,P(x))$ (from 3)\n5. $F(\\forall x\\,Q(x))$ (from 3)\n\nAt this point, our single branch contains three universally quantified formulas: two signed true ($T$) and one signed false ($F$). The rule for a false universal quantification, $F(\\forall x\\,\\varphi(x))$, requires introducing a fresh eigenparameter. It is a standard strategy to apply such rules ( $\\delta$-rules) before rules that allow instantiation with existing parameters ( $\\gamma$-rules). We apply the rule $F(\\forall x\\,\\varphi(x))$ to the formula on line 5. Let $\\alpha$ be a new parameter not yet on the branch.\n\n6. $F(Q(\\alpha))$ (from 5, with fresh eigenparameter $\\alpha$)\n\nNow that a parameter $\\alpha$ exists on the branch, we can instantiate the universally quantified formulas signed as true (from lines 2 and 4). We apply the rule for $T(\\forall x\\,\\varphi(x))$, which allows us to add $T(\\varphi(\\beta))$ for any parameter $\\beta$ on the branch. We use our parameter $\\alpha$.\n\n7. $T(P(\\alpha)\\to Q(\\alpha))$ (from 2, using parameter $\\alpha$)\n8. $T(P(\\alpha))$ (from 4, using parameter $\\alpha$)\n\nThe current branch now contains all of the following signed formulas:\n- $F(\\forall x\\,(P(x)\\to Q(x))\\to(\\forall x\\,P(x)\\to\\forall x\\,Q(x)))$\n- $T(\\forall x\\,(P(x)\\to Q(x)))$\n- $F(\\forall x\\,P(x)\\to\\forall x\\,Q(x))$\n- $T(\\forall x\\,P(x))$\n- $F(\\forall x\\,Q(x))$\n- $F(Q(\\alpha))$\n- $T(P(\\alpha)\\to Q(\\alpha))$\n- $T(P(\\alpha))$\n\nThe only remaining non-atomic formula to be processed is $T(P(\\alpha)\\to Q(\\alpha))$ on line 7. This is a formula of the form $T(A \\to B)$, which is a branching rule. It splits the current branch into two new branches: one where $A$ is false ($F A$) and one where $B$ is true ($T B$).\n\nApplying this rule to $T(P(\\alpha)\\to Q(\\alpha))$:\n\nBranch 1:\n9a. $F(P(\\alpha))$ (from 7)\nThis branch contains both $T(P(\\alpha))$ (from line 8) and $F(P(\\alpha))$ (from line 9a). This is a direct contradiction. Therefore, this branch closes.\n\nBranch 2:\n9b. $T(Q(\\alpha))$ (from 7)\nThis branch contains both $F(Q(\\alpha))$ (from line 6) and $T(Q(\\alpha))$ (from line 9b). This is also a direct contradiction. Therefore, this branch closes.\n\nSince all branches of the tableau have closed, the tableau is considered closed. This demonstrates that the initial assumption—that the formula is false—is impossible. Consequently, the formula is a validity of first-order logic.\n\nThe problem asks for the number of open branches in the completed tableau. As both branches created in the final step led to contradictions and closed, there are no remaining open branches.\n\nThe final number of open branches is $0$.", "answer": "$$\\boxed{0}$$", "id": "3052045"}]}