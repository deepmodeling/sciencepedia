{"hands_on_practices": [{"introduction": "Before delving into the subtleties separating isomorphism and elementary equivalence, it is crucial to master the fundamental test for when two structures are *not* elementarily equivalent. This practice challenges you to find a \"witness\" sentence—a statement in first-order logic that is true in one structure but false in its substructure, thereby proving the substructure is not elementary. Engaging with these concrete examples builds a solid foundation for understanding the expressive power of first-order logic [@problem_id:3045610].", "problem": "Let $\\mathcal{L}$ be a fixed first-order language. Recall the following foundational definitions in model theory. An $\\mathcal{L}$-structure $\\mathcal{M}$ is a set $M$ equipped with interpretations of the symbols of $\\mathcal{L}$. If $\\mathcal{N}$ is an $\\mathcal{L}$-structure with universe $N$ and $\\mathcal{M}$ is an $\\mathcal{L}$-structure with universe $M\\subseteq N$ such that the interpretations in $\\mathcal{M}$ agree with those of $\\mathcal{N}$ restricted to $M$, then $\\mathcal{M}$ is a substructure of $\\mathcal{N}$, denoted $\\mathcal{M}\\subseteq\\mathcal{N}$. A substructure $\\mathcal{M}\\subseteq\\mathcal{N}$ is an elementary substructure if, for every first-order (FO) $\\mathcal{L}$-sentence $\\varphi$ and every tuple of parameters $\\bar{a}$ from $M$ (for sentences, no parameters appear), $\\mathcal{M}\\models\\varphi(\\bar{a})$ if and only if $\\mathcal{N}\\models\\varphi(\\bar{a})$.\n\nSelect all options that correctly present:\n- a specific language $\\mathcal{L}$,\n- a substructure $\\mathcal{M}\\subseteq\\mathcal{N}$ in that language,\n- and an FO sentence $\\sigma$ in $\\mathcal{L}$ that is true in $\\mathcal{N}$ but false in $\\mathcal{M}$, thereby witnessing that $\\mathcal{M}$ is not an elementary substructure of $\\mathcal{N}$.\n\nA. Language $\\mathcal{L}=\\{+,\\,\\cdot,\\,0,\\,1,\\,\\}$ of ordered fields. Let $M=\\mathbb{Q}$ and $N=\\mathbb{R}$ with the usual interpretations. Sentence $\\sigma$ is $\\exists x\\,(x\\cdot x=1+1)$.\n\nB. Language $\\mathcal{L}=\\{\\}$ of linear orders. Let $M=2\\mathbb{Z}$ and $N=\\mathbb{Z}$ with the usual order, viewing $M\\subseteq N$. Sentence $\\sigma$ is $\\forall x\\,\\exists y\\,(yx)$.\n\nC. Language $\\mathcal{L}=\\{E\\}$ for simple graphs, where $E$ is a binary relation symbol for adjacency. Let $N$ be the graph on universe $\\mathbb{Z}$ with $E(x,y)$ if and only if $|x-y|=1$, and let $M$ be the induced subgraph on $2\\mathbb{Z}\\subseteq\\mathbb{Z}$. Sentence $\\sigma$ is “the graph is connected.”\n\nD. Language $\\mathcal{L}=\\{+,\\,\\cdot,\\,0,\\,1\\}$ of rings. Let $M=\\mathbb{Z}$ and $N=\\mathbb{Q}$ with the usual interpretations, viewing $M\\subseteq N$. Sentence $\\sigma$ is $\\forall x\\,\\big(x\\neq 0\\rightarrow\\exists y\\,(x\\cdot y=1)\\big)$.\n\nChoose all correct options.", "solution": "The problem asks us to identify all options that provide a valid example of a non-elementary substructure. For each option to be correct, it must satisfy four conditions:\n1. The language $\\mathcal{L}$ must be a well-defined first-order language.\n2. $\\mathcal{M}$ must be a substructure of $\\mathcal{N}$ in the specified language $\\mathcal{L}$.\n3. The sentence $\\sigma$ must be a well-formed first-order (FO) sentence in the language $\\mathcal{L}$.\n4. The sentence $\\sigma$ must be true in the structure $\\mathcal{N}$ but false in the substructure $\\mathcal{M}$ (i.e., $\\mathcal{N} \\models \\sigma$ and $\\mathcal{M} \\not\\models \\sigma$).\n\nWe will analyze each option against these criteria.\n\n**A. Language $\\mathcal{L}=\\{+,\\,\\cdot,\\,0,\\,1,\\,\\}$ of ordered fields. Let $M=\\mathbb{Q}$ and $N=\\mathbb{R}$ with the usual interpretations. Sentence $\\sigma$ is $\\exists x\\,(x\\cdot x=1+1)$.**\n\n1.  **Language:** The language of ordered fields, $\\mathcal{L}=\\{+,\\,\\cdot,\\,0,\\,1,\\,\\}$, is a standard first-order language.\n2.  **Substructure:** The universe of $\\mathcal{M}$ is the set of rational numbers, $\\mathbb{Q}$, and the universe of $\\mathcal{N}$ is the set of real numbers, $\\mathbb{R}$. Since $\\mathbb{Q} \\subseteq \\mathbb{R}$, and the interpretations of the function symbols ($+$, $\\cdot$), constant symbols ($0$, $1$), and the relation symbol ($$) on $\\mathbb{Q}$ are the restrictions of their interpretations on $\\mathbb{R}$, the structure $\\mathcal{M} = (\\mathbb{Q}, +^{\\mathbb{Q}}, \\cdot^{\\mathbb{Q}}, 0^{\\mathbb{Q}}, 1^{\\mathbb{Q}}, ^{\\mathbb{Q}})$ is a substructure of $\\mathcal{N} = (\\mathbb{R}, +^{\\mathbb{R}}, \\cdot^{\\mathbb{R}}, 0^{\\mathbb{R}}, 1^{\\mathbb{R}}, ^{\\mathbb{R}})$.\n3.  **FO Sentence:** The sentence $\\sigma \\equiv \\exists x\\,(x\\cdot x=1+1)$ is a valid first-order sentence in $\\mathcal{L}$. The term $1+1$ is constructed from the constant $1$ and the function symbol $+$.\n4.  **Truth Evaluation:**\n    -   In $\\mathcal{N}$, the sentence asserts the existence of a real number $x$ such that $x^2 = 2$. This is true, as $x=\\sqrt{2}$ is a real number satisfying this equation. Thus, $\\mathcal{N} \\models \\sigma$.\n    -   In $\\mathcal{M}$, the sentence asserts the existence of a rational number $x$ such that $x^2 = 2$. This is false, as $\\sqrt{2}$ is an irrational number. Thus, $\\mathcal{M} \\not\\models \\sigma$.\n\nSince $\\sigma$ is true in $\\mathcal{N}$ but false in $\\mathcal{M}$, it witnesses that $\\mathcal{M}$ is not an elementary substructure of $\\mathcal{N}$. All conditions are met.\n\nVerdict for A: **Correct**.\n\n**B. Language $\\mathcal{L}=\\{\\}$ of linear orders. Let $M=2\\mathbb{Z}$ and $N=\\mathbb{Z}$ with the usual order, viewing $M\\subseteq N$. Sentence $\\sigma$ is $\\forall x\\,\\exists y\\,(yx)$.**\n\n1.  **Language:** The language of linear orders, $\\mathcal{L}=\\{\\}$, is a standard first-order language.\n2.  **Substructure:** The universe of $\\mathcal{M}$ is the set of even integers, $2\\mathbb{Z}$, and the universe of $\\mathcal{N}$ is the set of all integers, $\\mathbb{Z}$. Since $2\\mathbb{Z} \\subseteq \\mathbb{Z}$, and the interpretation of $$ on $2\\mathbb{Z}$ is the restriction of the interpretation on $\\mathbb{Z}$, $\\mathcal{M}$ is a substructure of $\\mathcal{N}$.\n3.  **FO Sentence:** The sentence $\\sigma \\equiv \\forall x\\,\\exists y\\,(yx)$ is a valid first-order sentence in $\\mathcal{L}$.\n4.  **Truth Evaluation:**\n    -   In $\\mathcal{N}$, the sentence asserts that for any integer $x$, there exists a smaller integer $y$. This is true; for any $x \\in \\mathbb{Z}$, we can choose $y = x-1 \\in \\mathbb{Z}$. Thus, $\\mathcal{N} \\models \\sigma$.\n    -   In $\\mathcal{M}$, the sentence asserts that for any even integer $x$, there exists a smaller even integer $y$. This is also true; for any $x \\in 2\\mathbb{Z}$, we can choose $y = x-2 \\in 2\\mathbb{Z}$. Thus, $\\mathcal{M} \\models \\sigma$.\n\nThe sentence $\\sigma$ is true in both structures. Therefore, it does not witness that $\\mathcal{M}$ is not an elementary substructure of $\\mathcal{N}$.\n\nVerdict for B: **Incorrect**.\n\n**C. Language $\\mathcal{L}=\\{E\\}$ for simple graphs, where $E$ is a binary relation symbol for adjacency. Let $N$ be the graph on universe $\\mathbb{Z}$ with $E(x,y)$ if and only if $|x-y|=1$, and let $M$ be the induced subgraph on $2\\mathbb{Z}\\subseteq\\mathbb{Z}$. Sentence $\\sigma$ is “the graph is connected.”**\n\n1.  **Language:** The language of simple graphs, $\\mathcal{L}=\\{E\\}$, is a standard first-order language.\n2.  **Substructure:** $M=2\\mathbb{Z}$ is a subset of $N=\\mathbb{Z}$. $\\mathcal{M}$ is defined as the induced subgraph, which means the interpretation of $E$ in $\\mathcal{M}$ is the restriction of $E$ in $\\mathcal{N}$ to the set $M$. For $x, y \\in 2\\mathbb{Z}$, $E^{\\mathcal{M}}(x,y)$ holds if and only if $|x-y|=1$. However, the difference between two even integers is always even, so $|x-y| \\neq 1$. Thus, $\\mathcal{M}$ is a graph with universe $2\\mathbb{Z}$ and no edges. $\\mathcal{M}$ is indeed a substructure of $\\mathcal{N}$.\n3.  **FO Sentence:** The statement $\\sigma$ is given as \"the graph is connected.\" A graph is connected if for every pair of distinct vertices $(x,y)$, there is a path of finite length between them. A path of length $k$ can be expressed by an FO formula, e.g., for $k=2$, $\\exists z\\,(E(x,z) \\wedge E(z,y))$. However, stating that a path of *any* finite length exists requires an infinite disjunction of formulae for paths of length $1, 2, 3, \\dots$. First-order logic does not permit infinitely long formulae. It can be proven, e.g., via the Compactness Theorem, that the property of connectivity is not expressible by any single FO sentence in the language of graphs when considering infinite graphs. The option fails to provide a valid FO sentence.\n4.  **Truth Evaluation:** While it is true that $\\mathcal{N}$ (an infinite line graph) is connected and $\\mathcal{M}$ (a graph of isolated vertices) is not, the statement used to witness this is not a first-order sentence.\n\nThe option fails on the third criterion.\n\nVerdict for C: **Incorrect**.\n\n**D. Language $\\mathcal{L}=\\{+,\\,\\cdot,\\,0,\\,1\\}$ of rings. Let $M=\\mathbb{Z}$ and $N=\\mathbb{Q}$ with the usual interpretations, viewing $M\\subseteq N$. Sentence $\\sigma$ is $\\forall x\\,\\big(x\\neq 0\\rightarrow\\exists y\\,(x\\cdot y=1)\\big)$.**\n\n1.  **Language:** The language of rings, $\\mathcal{L}=\\{+,\\,\\cdot,\\,0,\\,1\\}$, is a standard first-order language.\n2.  **Substructure:** The universe of $\\mathcal{M}$ is the set of integers, $\\mathbb{Z}$, and the universe of $\\mathcal{N}$ is the set of rational numbers, $\\mathbb{Q}$. Since $\\mathbb{Z} \\subseteq \\mathbb{Q}$, and the ring operations and constants in $\\mathbb{Z}$ are restrictions of those in $\\mathbb{Q}$, $\\mathcal{M}$ (the ring of integers) is a substructure of $\\mathcal{N}$ (the field of rational numbers).\n3.  **FO Sentence:** The sentence $\\sigma \\equiv \\forall x\\,\\big(x\\neq 0\\rightarrow\\exists y\\,(x\\cdot y=1)\\big)$ is a valid first-order sentence in $\\mathcal{L}$. Note that $x \\neq 0$ is shorthand for $\\neg(x=0)$.\n4.  **Truth Evaluation:**\n    -   In $\\mathcal{N}$, the sentence asserts that for every non-zero rational number $x$, there exists a rational number $y$ such that their product is $1$. This is the axiom for multiplicative inverses and is a defining property of a field. Since $\\mathbb{Q}$ is a field, this statement is true. For any $x = p/q \\in \\mathbb{Q}$ with $p, q \\neq 0$, we can choose $y = q/p \\in \\mathbb{Q}$. Thus, $\\mathcal{N} \\models \\sigma$.\n    -   In $\\mathcal{M}$, the sentence asserts that for every non-zero integer $x$, there exists an integer $y$ such that their product is $1$. This is false. For example, if we take $x=2 \\in \\mathbb{Z}$, there is no integer $y$ such that $2 \\cdot y = 1$. The only integers with multiplicative inverses in $\\mathbb{Z}$ are $1$ and $-1$. Thus, $\\mathcal{M} \\not\\models \\sigma$.\n\nSince $\\sigma$ is true in $\\mathcal{N}$ but false in $\\mathcal{M}$, it witnesses that $\\mathcal{M}$ is not an elementary substructure of $\\mathcal{N}$. All conditions are met.\n\nVerdict for D: **Correct**.\n\nIn conclusion, options A and D correctly present all the required components.", "answer": "$$\\boxed{AD}$$", "id": "3045610"}, {"introduction": "This exercise explores the classic and pivotal example that illustrates the gap between elementary equivalence and isomorphism: the ordered sets of rational and real numbers. Using the powerful tool of the Ehrenfeucht-Fraïssé game, you will discover that first-order logic cannot distinguish between these two structures, even though they are profoundly different. This thought experiment reveals the inherent limitations of first-order logic in capturing properties like completeness and uncountability [@problem_id:2969082].", "problem": "Let $M=(\\mathbb{Q},)$ and $N=(\\mathbb{R},)$ in the language of linear orders $\\mathcal{L}=\\{\\}$. Using only the core definitions of dense linear order without endpoints and the rules of the Ehrenfeucht–Fraïssé (EF) game, analyze the EF game of length $k$ between $M$ and $N$. Specifically, starting from the definition of a dense linear order without endpoints and the definition of a partial isomorphism in the EF game, argue whether Duplicator has a winning strategy in $\\mathrm{EF}_{k}(M,N)$ for arbitrary finite $k \\in \\mathbb{N}$. Then, define the indicator function $\\chi:\\mathbb{N}\\to\\{0,1\\}$ by setting $\\chi(k)=1$ if Duplicator has a winning strategy in $\\mathrm{EF}_{k}(M,N)$ and $\\chi(k)=0$ otherwise, and compute the exact value of\n$$\nS \\;=\\; \\sum_{k=1}^{\\infty} 2^{-k}\\,\\chi(k).\n$$\nFinally, explain from first principles why a full back-and-forth leading to an isomorphism fails between $M$ and $N$, despite Duplicator’s success in all finite-length EF games. Your explanation must be grounded in definability and cardinality considerations internal to first-order logic for $\\mathcal{L}=\\{\\}$.", "solution": "The problem asks for a three-part analysis concerning the Ehrenfeucht-Fraïssé (EF) game between the structures $M=(\\mathbb{Q},)$ and $N=(\\mathbb{R},)$. First, we must determine if Duplicator has a winning strategy in the game $\\mathrm{EF}_{k}(M,N)$ for any arbitrary finite $k \\in \\mathbb{N}$. Second, we must compute the sum $S = \\sum_{k=1}^{\\infty} 2^{-k}\\,\\chi(k)$, where $\\chi(k)$ is an indicator function based on Duplicator's success. Third, we must explain why an isomorphism between $M$ and $N$ does not exist despite Duplicator's success in all finite-length games.\n\nFirst, we validate the problem.\n**Step 1: Extract Givens**\n- Structure $M = (\\mathbb{Q}, )$, the set of rational numbers with the standard less-than ordering.\n- Structure $N = (\\mathbb{R}, )$, the set of real numbers with the standard less-than ordering.\n- The language is $\\mathcal{L}=\\{\\}$, consisting of a single binary relation symbol.\n- The game is the Ehrenfeucht-Fraïssé game of length $k$, denoted $\\mathrm{EF}_{k}(M,N)$.\n- The analysis must be based on the core definitions of a dense linear order without endpoints (DLO) and the EF game.\n- An indicator function $\\chi:\\mathbb{N}\\to\\{0,1\\}$ is defined as $\\chi(k)=1$ if Duplicator has a winning strategy in $\\mathrm{EF}_{k}(M,N)$ and $\\chi(k)=0$ otherwise.\n- A sum to compute: $S = \\sum_{k=1}^{\\infty} 2^{-k}\\,\\chi(k)$.\n- An explanation is required for why a full back-and-forth leading to an isomorphism fails, grounded in definability and cardinality considerations internal to first-order logic for $\\mathcal{L}=\\{\\}$.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is well-defined and scientifically grounded within mathematical logic and model theory. Both $(\\mathbb{Q}, )$ and $(\\mathbb{R}, )$ are standard examples of structures that are dense linear orders without endpoints. The Ehrenfeucht-Fraïssé game is a fundamental tool for studying elementary equivalence. The question is a standard exercise in this field, testing the understanding of the relationship between EF games, elementary equivalence, and isomorphism. The problem is self-contained, objective, and contains no scientific or logical flaws.\n\n**Step 3: Verdict and Action**\nThe problem is valid. We proceed with a full solution.\n\n**Part 1: Analysis of the $\\mathrm{EF}_{k}(M,N)$ Game**\n\nThe theory of dense linear orders without endpoints (DLO) is defined by the following first-order axioms in the language $\\mathcal{L}=\\{\\}$:\n1.  Irreflexivity: $\\forall x \\, \\neg(x  x)$\n2.  Transitivity: $\\forall x \\forall y \\forall z \\, ((x  y \\land y  z) \\to x  z)$\n3.  Totality (Linearity): $\\forall x \\forall y \\, (x  y \\lor x = y \\lor y  x)$\n4.  Density: $\\forall x \\forall y \\, (x  y \\to \\exists z \\, (x  z \\land z  y))$\n5.  No least element: $\\forall x \\, \\exists y \\, (y  x)$\n6.  No greatest element: $\\forall x \\, \\exists y \\, (x  y)$\n\nBoth structures $M=(\\mathbb{Q},)$ and $N=(\\mathbb{R},)$ are models of this theory.\n\nThe Ehrenfeucht-Fraïssé game $\\mathrm{EF}_{k}(M,N)$ is played by two players, Spoiler and Duplicator, over $k$ rounds. In each round $i \\in \\{1, \\dots, k\\}$, Spoiler chooses an element from either $M$ or $N$, and Duplicator must respond by choosing an element from the other structure. After $k$ rounds, let the chosen elements be $a_1, \\dots, a_k \\in \\mathbb{Q}$ and $b_1, \\dots, b_k \\in \\mathbb{R}$, where $(a_i, b_i)$ is the pair chosen in the round where Spoiler picked from $\\mathbb{Q}$ and Duplicator from $\\mathbb{R}$, or vice-versa.\n\nDuplicator wins the game if the map $f: \\{a_1, \\dots, a_k\\} \\to \\{b_1, \\dots, b_k\\}$ defined by $f(a_i) = b_i$ for all $i$ is a partial isomorphism. In the language $\\mathcal{L}=\\{\\}$, this means that for any pair of indices $i, j \\in \\{1, \\dots, k\\}$, the condition $a_i  a_j$ holds in $M$ if and only if $b_i  b_j$ holds in $N$.\n\nDuplicator has a winning strategy in $\\mathrm{EF}_{k}(M,N)$ for any finite $k \\in \\mathbb{N}$. The strategy is as follows: Duplicator maintains the invariant that after round $i$, the map on the $i$ pairs of chosen elements is a partial isomorphism.\n\nLet's describe the strategy for round $i$ ($1 \\le i \\le k$), assuming the invariant holds for the first $i-1$ rounds. Let the elements chosen so far be $(a_1, \\dots, a_{i-1})$ from $\\mathbb{Q}$ and $(b_1, \\dots, b_{i-1})$ from $\\mathbb{R}$. Let the ordered set of unique values among these be $\\{a'_{1}, \\dots, a'_{m}\\}$ and $\\{b'_{1}, \\dots, b'_{m}\\}$ respectively, where $m  i$. By the invariant, $a'_{j}  a'_{j+1}$ if and only if $b'_{j}  b'_{j+1}$ for all $j \\in \\{1, \\dots, m-1\\}$.\n\nThese points partition their respective number lines into $m+1$ open intervals:\nIn $\\mathbb{Q}$: $(-\\infty, a'_{1})_{\\mathbb{Q}}$, $(a'_{1}, a'_{2})_{\\mathbb{Q}}$, ..., $(a'_{m-1}, a'_{m})_{\\mathbb{Q}}$, $(a'_{m}, \\infty)_{\\mathbb{Q}}$.\nIn $\\mathbb{R}$: $(-\\infty, b'_{1})_{\\mathbb{R}}$, $(b'_{1}, b'_{2})_{\\mathbb{R}}$, ..., $(b'_{m-1}, b'_{m})_{\\mathbb{R}}$, $(b'_{m}, \\infty)_{\\mathbb{R}}$.\n\nNow, in round $i$, suppose Spoiler chooses a new element $a_i \\in \\mathbb{Q}$. There are three possibilities for the location of $a_i$ relative to $\\{a'_{1}, \\dots, a'_{m}\\}$:\n1.  $a_i = a'_j$ for some $j$. Duplicator must choose $b_i = b'_j$. The partial isomorphism is trivially maintained.\n2.  $a_i$ falls into one of the open intervals, say $a_i \\in (a'_{j}, a'_{j+1})_{\\mathbb{Q}}$. Duplicator must choose an element $b_i \\in (b'_{j}, b'_{j+1})_{\\mathbb{R}}$. Because $(\\mathbb{R},)$ is a dense linear order, the interval $(b'_{j}, b'_{j+1})_{\\mathbb{R}}$ is non-empty. Duplicator can pick any element from this interval, for instance, $b_i = (b'_{j} + b'_{j+1})/2$.\n3.  $a_i$ falls into an unbounded interval, say $a_i  a'_{1}$. Duplicator must choose $b_i  b'_{1}$. As $(\\mathbb{R},)$ has no minimum element, such a $b_i$ always exists (e.g., $b_i = b'_{1} - 1$). A similar argument applies if $a_i  a'_{m}$.\n\nA symmetrical argument holds if Spoiler chooses an element $b_i \\in \\mathbb{R}$ first. Duplicator's response $a_i \\in \\mathbb{Q}$ is guaranteed to exist because $(\\mathbb{Q},)$ is also a dense linear order without endpoints.\n\nSince this strategy allows Duplicator to successfully respond to any of Spoiler's moves for $k$ rounds while maintaining the order-isomorphism between the chosen finite subsets, Duplicator has a winning strategy for $\\mathrm{EF}_{k}(M,N)$ for any finite $k \\in \\mathbb{N}$.\n\n**Part 2: Computation of the Sum $S$**\n\nThe indicator function $\\chi(k)$ is defined as $\\chi(k)=1$ if Duplicator has a winning strategy in $\\mathrm{EF}_{k}(M,N)$ and $\\chi(k)=0$ otherwise. From the analysis in Part 1, we have concluded that Duplicator has a winning strategy for all finite $k \\ge 1$. Therefore, $\\chi(k) = 1$ for all $k \\in \\mathbb{N}$ with $k \\ge 1$.\n\nThe sum to be computed is\n$$S \\;=\\; \\sum_{k=1}^{\\infty} 2^{-k}\\,\\chi(k)$$\nSubstituting $\\chi(k) = 1$ for all $k \\ge 1$, we get\n$$S \\;=\\; \\sum_{k=1}^{\\infty} 2^{-k} \\cdot 1 \\;=\\; \\sum_{k=1}^{\\infty} \\left(\\frac{1}{2}\\right)^k$$\nThis is a standard geometric series with first term $a = 1/2$ and common ratio $r = 1/2$. The sum of an infinite geometric series is given by $a / (1-r)$ for $|r|  1$.\n$$S \\;=\\; \\frac{\\frac{1}{2}}{1 - \\frac{1}{2}} \\;=\\; \\frac{\\frac{1}{2}}{\\frac{1}{2}} \\;=\\; 1$$\nThe exact value of the sum is $1$.\n\n**Part 3: Failure of Isomorphism**\n\nThe Ehrenfeucht-Fraïssé theorem states that two structures are elementarily equivalent (i.e., satisfy the same first-order sentences) if and only if Duplicator has a winning strategy in $\\mathrm{EF}_{k}$ for all finite $k \\in \\mathbb{N}$. Our result from Part 1 implies that $M \\equiv N$.\n\nAn isomorphism between $M=(\\mathbb{Q},)$ and $N=(\\mathbb{R},)$ would be a bijective function $f: \\mathbb{Q} \\to \\mathbb{R}$ that is order-preserving, i.e., for all $q_1, q_2 \\in \\mathbb{Q}$, $q_1  q_2 \\iff f(q_1)  f(q_2)$. A \"full back-and-forth\" refers to Duplicator having a winning strategy in the infinite-length game $\\mathrm{EF}_{\\omega}(M,N)$. For countable languages, this is equivalent to the existence of an isomorphism between the structures.\n\nThe fundamental reason for the non-existence of an isomorphism is the difference in cardinality between the two sets. The set of rational numbers $\\mathbb{Q}$ is countable, i.e., $|\\mathbb{Q}| = \\aleph_0$. The set of real numbers $\\mathbb{R}$ is uncountable, with $|\\mathbb{R}| = 2^{\\aleph_0}$. A bijection between two sets can only exist if they have the same cardinality. Since $|\\mathbb{Q}| \\neq |\\mathbb{R}|$, no such bijection exists, and therefore, no isomorphism can exist.\n\nThe problem asks for an explanation grounded in definability within first-order logic. First-order logic, in a countable language like $\\mathcal{L}=\\{\\}$, is not powerful enough to distinguish between all non-isomorphic structures. The success of Duplicator in all finite games demonstrates this limitation. At any finite stage of the game, only a finite number of points have been selected. The density property, which is first-order definable, ensures that Duplicator can always find a suitable point to place in the corresponding interval. The game never \"sees\" the global structure of the number line, only the local relative ordering of a finite set of points.\n\nThe property that distinguishes $\\mathbb{R}$ from $\\mathbb{Q}$ is completeness: every non-empty subset of $\\mathbb{R}$ that is bounded above has a least upper bound (supremum) in $\\mathbb{R}$. This property is not possessed by $\\mathbb{Q}$. For example, the set $A = \\{x \\in \\mathbb{Q} \\mid x^2  2\\}$ is non-empty and bounded above in $\\mathbb{Q}$ (e.g., by $2$), but its supremum, $\\sqrt{2}$, is not in $\\mathbb{Q}$.\n\nThe completeness property cannot be expressed by any sentence in first-order logic. To express it, one would need to quantify over all subsets of the domain, e.g., \"For every subset $S$...\". Quantification over sets is a feature of second-order logic, not first-order logic. Since completeness is not a first-order property, there is no first-order sentence $\\phi$ that is true in $(\\mathbb{R},)$ but false in $(\\mathbb{Q},)$ on account of this difference. This is precisely why they are elementarily equivalent ($M \\equiv N$), and why Duplicator wins all finite EF games.\n\nIn summary, the full back-and-forth fails because it would imply the existence of a bijection, which is impossible due to the cardinality difference ($|\\mathbb{Q}| = \\aleph_0$ vs. $|\\mathbb{R}| = 2^{\\aleph_0}$). Duplicator's success in all finite games reveals that first-order logic is too weak to detect this cardinality difference or the related second-order property of completeness. The finite game only tests properties expressible by first-order formulas, and with respect to those, $(\\mathbb{Q},)$ and $(\\mathbb{R},)$ are indistinguishable.", "answer": "$$\n\\boxed{1}\n$$", "id": "2969082"}, {"introduction": "After seeing that elementary equivalence does not generally imply isomorphism, we now turn to a case where it can. This problem focuses on a simple finite structure and asks you to construct a single first-order sentence that completely describes it. By proving this sentence is categorical for its cardinality, you will see how first-order logic is powerful enough to pin down the exact isomorphism type of any finite structure, a sharp contrast to the infinite case [@problem_id:3045614].", "problem": "Let $\\mathcal{L}$ be a purely relational language with a single binary relation symbol $R$. Consider the $\\mathcal{L}$-structure $\\mathcal{A} = (A, R^{\\mathcal{A}})$ with domain $A = \\{a_0, a_1, a_2\\}$ such that $R^{\\mathcal{A}}$ is the directed $3$-cycle: $R^{\\mathcal{A}}(a_i, a_{i+1 \\bmod 3})$ holds for each $i \\in \\{0,1,2\\}$ and $R^{\\mathcal{A}}(x,y)$ holds for no other ordered pair $(x,y)$, including all diagonal pairs $(x,x)$. Work in First-Order Logic (FOL) and countable infinitary logic $L_{\\omega_1\\omega}$.\n\nStarting from the core definitions of isomorphism and elementary equivalence, and the definition of the Scott sentence of a countable structure (a sentence of $L_{\\omega_1\\omega}$ characterizing that structure up to isomorphism among countable models), do the following:\n\n- Construct an explicit Scott sentence $\\sigma_{\\mathcal{A}} \\in L_{\\omega_1\\omega}$ for $\\mathcal{A}$.\n- Show that, in this finite case, $\\sigma_{\\mathcal{A}}$ can be replaced by a single FOL sentence $\\varphi$ that is equivalent to $\\sigma_{\\mathcal{A}}$ in the sense that any countable model of $\\sigma_{\\mathcal{A}}$ satisfies $\\varphi$, and conversely.\n- Prove that $\\varphi$ is categorical in the finite cardinal $3$, that is, any $\\mathcal{L}$-structure of cardinality $3$ satisfying $\\varphi$ is isomorphic to $\\mathcal{A}$.\n\nLet $N$ be the number of non-isomorphic countable models of $\\varphi$. Determine the exact value of $N$.\n\nYour final answer must be a single integer. No rounding is required.", "solution": "The problem asks us to analyze a specific finite structure, construct its Scott sentence, find an equivalent First-Order Logic (FOL) sentence $\\varphi$, and determine the number of non-isomorphic countable models of $\\varphi$. We begin by recalling the relevant core definitions.\n\nLet $\\mathcal{L}$ be a language. Two $\\mathcal{L}$-structures, $\\mathcal{A} = (A, \\dots)$ and $\\mathcal{B} = (B, \\dots)$, are said to be **isomorphic**, denoted $\\mathcal{A} \\cong \\mathcal{B}$, if there exists a bijection $f: A \\to B$ (called an isomorphism) that preserves the interpretation of all symbols in $\\mathcal{L}$. For a binary relation symbol $R \\in \\mathcal{L}$, this means for all $a_1, a_2 \\in A$, $(a_1, a_2) \\in R^{\\mathcal{A}}$ if and only if $(f(a_1), f(a_2)) \\in R^{\\mathcal{B}}$.\n\nTwo $\\mathcal{L}$-structures $\\mathcal{A}$ and $\\mathcal{B}$ are **elementarily equivalent**, denoted $\\mathcal{A} \\equiv \\mathcal{B}$, if they satisfy the exact same set of sentences in First-Order Logic (FOL). Isomorphism implies elementary equivalence, but the converse is not true in general.\n\nThe logic $L_{\\omega_1\\omega}$ extends FOL by allowing countable conjunctions and disjunctions. For any countable structure $\\mathcal{A}$, Scott's Isomorphism Theorem states that there exists a sentence $\\sigma_{\\mathcal{A}}$ in $L_{\\omega_1\\omega}$, called the **Scott sentence** of $\\mathcal{A}$, which characterizes $\\mathcal{A}$ up to isomorphism among all countable structures. That is, for any countable $\\mathcal{L}$-structure $\\mathcal{B}$, we have $\\mathcal{B} \\models \\sigma_{\\mathcal{A}}$ if and only if $\\mathcal{B} \\cong \\mathcal{A}$.\n\nThe given structure is $\\mathcal{A} = (A, R^{\\mathcal{A}})$ where the domain is $A = \\{a_0, a_1, a_2\\}$ and the relation is $R^{\\mathcal{A}} = \\{(a_0, a_1), (a_1, a_2), (a_2, a_0)\\}$, which is a directed $3$-cycle. The language $\\mathcal{L}$ contains only the binary relation symbol $R$.\n\n**Step 1: Constructing the Scott Sentence $\\sigma_{\\mathcal{A}}$ and an equivalent FOL sentence $\\varphi$.**\n\nFor a finite structure like $\\mathcal{A}$, its entire structure can be described by a single sentence in FOL. This FOL sentence is then logically equivalent to the Scott sentence $\\sigma_{\\mathcal{A}}$ for this structure. We can construct such a sentence, which we will call $\\varphi$, by explicitly stating the size of the domain and the complete set of relations that hold.\n\nThe sentence $\\varphi$ must assert:\n1.  There exist exactly three distinct elements.\n2.  The relation $R$ holds for three specific pairs of these elements, forming a cycle.\n3.  The relation $R$ does not hold for any other pairs.\n\nLet's formalize this.\nThe existence of at least three distinct elements is expressed as:\n$\\exists x_0 \\exists x_1 \\exists x_2 (x_0 \\neq x_1 \\land x_0 \\neq x_2 \\land x_1 \\neq x_2)$.\nThe statement that there are no other elements is:\n$\\forall y (y = x_0 \\lor y = x_1 \\lor y=x_2)$.\nCombined, these two parts assert that the cardinality of any model is exactly $3$.\n\nNext, we describe the relation $R^{\\mathcal{A}}$ completely. The pairs for which the relation holds are $(a_0, a_1), (a_1, a_2), (a_2, a_0)$. This is asserted as:\n$R(x_0, x_1) \\land R(x_1, x_2) \\land R(x_2, x_0)$.\n\nFinally, we must state that these are the only pairs for which $R$ holds. This can be expressed by stating that for any pair of elements $(u,v)$, if $R(u,v)$ holds, then $(u,v)$ must be one of the three pairs listed above:\n$\\forall u \\forall v (R(u,v) \\rightarrow ((u=x_0 \\land v=x_1) \\lor (u=x_1 \\land v=x_2) \\lor (u=x_2 \\land v=x_0)))$.\n\nPutting all these parts together, we form the single FOL sentence $\\varphi$:\n$$\n\\varphi := \\exists x_0 \\exists x_1 \\exists x_2 \\left(\n\\left( \\bigwedge_{0 \\le i  j \\le 2} x_i \\neq x_j \\land \\forall y \\bigvee_{i=0}^2 y = x_i \\right)\n\\land\nR(x_0, x_1) \\land R(x_1, x_2) \\land R(x_2, x_0)\n\\land\n\\forall u \\forall v (R(u,v) \\leftrightarrow ((u=x_0 \\land v=x_1) \\lor (u=x_1 \\land v=x_2) \\lor (u=x_2 \\land v=x_0)))\n\\right)\n$$\nThe use of $\\leftrightarrow$ in the last clause concisely captures both the positive instances of the relation and the non-existence of any others.\n\nThis sentence $\\varphi$ is equivalent to the Scott sentence $\\sigma_{\\mathcal{A}}$ in the specified sense. Let $\\mathcal{B}$ be a countable structure.\n- If $\\mathcal{B} \\models \\sigma_{\\mathcal{A}}$, then $\\mathcal{B} \\cong \\mathcal{A}$. Structure $\\mathcal{A}$ clearly satisfies $\\varphi$ (let the witnesses be $x_0=a_0, x_1=a_1, x_2=a_2$). Since isomorphism implies elementary equivalence, $\\mathcal{B} \\models \\varphi$.\n- If $\\mathcal{B} \\models \\varphi$, then $\\mathcal{B}$ has a domain of exactly three elements, say $\\{b_0, b_1, b_2\\}$, which witness the existential quantifiers. The relation $R^{\\mathcal{B}}$ is fixed by $\\varphi$ to be $\\{(b_0,b_1), (b_1,b_2), (b_2,b_0)\\}$. This structure is isomorphic to $\\mathcal{A}$ via the map $a_i \\mapsto b_i$. Since $\\mathcal{B} \\cong \\mathcal{A}$, it must be a model of $\\sigma_{\\mathcal{A}}$.\nThus, for any countable structure $\\mathcal{B}$, $\\mathcal{B} \\models \\varphi \\iff \\mathcal{B} \\models \\sigma_{\\mathcal{A}}$.\n\n**Step 2: Proving $\\varphi$ is categorical in cardinality $3$.**\n\nA sentence is categorical in a cardinal $\\kappa$ if any two of its models with cardinality $\\kappa$ are isomorphic.\nLet $\\mathcal{B}_1$ and $\\mathcal{B}_2$ be two models of $\\varphi$, both of cardinality $3$.\nAs shown above, any model of $\\varphi$ must consist of exactly three elements, and the relation $R$ on these elements must be a directed $3$-cycle.\nTherefore, both $\\mathcal{B}_1$ and $\\mathcal{B}_2$ are structurally identical to a directed $3$-cycle on a set of three elements.\nThis means $\\mathcal{B}_1 \\cong \\mathcal{A}$ and $\\mathcal{B}_2 \\cong \\mathcal{A}$.\nSince isomorphism is an equivalence relation, it is transitive. Thus, $\\mathcal{B}_1 \\cong \\mathcal{B}_2$.\nThis shows that $\\varphi$ is categorical in cardinality $3$. Note that $\\varphi$ has no models of any other cardinality.\n\n**Step 3: Determining the number of non-isomorphic countable models of $\\varphi$.**\n\nThe final task is to find $N$, the number of non-isomorphic countable models of the sentence $\\varphi$.\nLet $\\mathcal{B}$ be any countable model of $\\varphi$. From the structure of $\\varphi$, we know two facts about $\\mathcal{B}$:\n1.  The domain of $\\mathcal{B}$ must have cardinality exactly $3$. This is enforced by the clause $\\exists x_0 \\exists x_1 \\exists x_2 ( \\bigwedge_{ij} x_i \\neq x_j \\land \\forall y \\bigvee_i y=x_i )$.\n2.  The interpretation of the relation symbol $R$ in $\\mathcal{B}$, denoted $R^{\\mathcal{B}}$, must be a directed $3$-cycle on its domain elements.\n\nAny structure satisfying these two properties is isomorphic to the original structure $\\mathcal{A}$. Therefore, every countable model of $\\varphi$ is isomorphic to $\\mathcal{A}$.\nThe question asks for the number of *non-isomorphic* countable models of $\\varphi$. Since all countable models of $\\varphi$ are isomorphic to each other (specifically, to $\\mathcal{A}$), they all fall into a single isomorphism class.\nConsequently, there is only one type of countable model of $\\varphi$ up to isomorphism.\n\nThe number of non-isomorphic countable models of $\\varphi$ is $N=1$.", "answer": "$$\\boxed{1}$$", "id": "3045614"}]}