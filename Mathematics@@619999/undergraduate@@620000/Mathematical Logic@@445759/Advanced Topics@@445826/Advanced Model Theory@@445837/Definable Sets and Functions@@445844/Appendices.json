{"hands_on_practices": [{"introduction": "Our exploration into definable sets begins with the most fundamental example. This exercise challenges you to formalize the concept of identity, represented geometrically as the diagonal of a Cartesian product $M^2$. By constructing a formula that holds true precisely for pairs of the form $(x,x)$, you will grasp the direct correspondence between a simple syntactic expression in first-order logic and a basic, yet crucial, semantic set. [@problem_id:3040247]", "problem": "Let $\\mathcal{M}$ be an arbitrary first-order structure with equality, with universe $M$, in the setting of first-order logic (FOL). A subset $S \\subseteq M^{2}$ is called definable in $\\mathcal{M}$ if there is a first-order formula $\\varphi(x,y)$ such that\n$$\nS \\;=\\; \\{(a,b)\\in M^{2} \\;:\\; \\mathcal{M} \\models \\varphi(a,b)\\}.\n$$\nRecall that in FOL with equality, the equality symbol $=$ is interpreted as the identity relation on the universe $M$, and satisfaction $\\mathcal{M}\\models x=y$ under an assignment sending $x$ to $a$ and $y$ to $b$ means precisely $a=b$.\n\nUsing only the standard semantics of equality and the notion of definability as stated above, construct a single explicit first-order formula $\\varphi(x,y)$ that defines the diagonal\n$$\nD \\;=\\; \\{(x,x) \\;:\\; x\\in M\\} \\;\\subseteq\\; M^{2}\n$$\nin any structure with equality. Your final answer must be one closed-form analytic expression for the formula $\\varphi(x,y)$ itself (not an equation describing a set), written using the variables $x$ and $y$ and the logical symbols of FOL with equality. No numerical computation is required, and no auxiliary parameters, constants, or nonlogical symbols may be introduced in the formula. Provide only the explicit formula as your final answer.", "solution": "The problem requires the construction of a first-order formula $\\varphi(x, y)$ that defines the diagonal set $D$ in any first-order structure $\\mathcal{M}$ with a universe $M$. The logic is specified as first-order logic (FOL) with equality.\n\nFirst, let us precisely state the definitions provided.\nA subset $S \\subseteq M^{2}$ is called definable in $\\mathcal{M}$ if there exists a first-order formula $\\varphi(x, y)$ with two free variables, $x$ and $y$, such that for any pair of elements $(a, b) \\in M^{2}$:\n$$\n(a, b) \\in S \\quad \\text{if and only if} \\quad \\mathcal{M} \\models \\varphi(a, b)\n$$\nThe notation $\\mathcal{M} \\models \\varphi(a, b)$ signifies that the structure $\\mathcal{M}$ satisfies the formula $\\varphi(x, y)$ when the variable $x$ is assigned the element $a$ and the variable $y$ is assigned the element $b$.\n\nThe set to be defined is the diagonal set $D$, which is given by:\n$$\nD = \\{(x, x) : x \\in M\\}\n$$\nThis means that a pair of elements $(a, b) \\in M^2$ belongs to the set $D$ if and only if the first element $a$ is identical to the second element $b$. We can express this condition as the equality $a = b$.\n\nThe problem states that we are working in FOL with equality. A crucial part of the problem statement is the explicit definition of the semantics of the equality symbol, $=$. It is a logical symbol that is interpreted as the identity relation on the universe $M$. That is, for any two elements $a, b \\in M$, the satisfaction relation for the atomic formula $x = y$ is defined as:\n$$\n\\mathcal{M} \\models (x = y)[a, b] \\quad \\text{if and only if} \\quad a = b\n$$\nHere, we use the notation $(x = y)[a,b]$ to mean the formula $x=y$ with $x$ assigned to $a$ and $y$ to $b$, which is equivalent to the notation $\\varphi(a,b)$ used earlier where $\\varphi(x,y)$ is the formula $x=y$.\n\nOur goal is to find a formula $\\varphi(x, y)$ such that the set it defines is precisely $D$. Let the set defined by a formula $\\psi(x,y)$ be denoted $S_{\\psi}$. Then,\n$$\nS_{\\psi} = \\{(a, b) \\in M^2 : \\mathcal{M} \\models \\psi(a, b)\\}\n$$\nWe want to find a formula $\\varphi(x,y)$ such that $S_{\\varphi} = D$.\n\nBased on the definition of $D$, a pair $(a, b)$ is in $D$ if and only if $a = b$.\nBased on the semantics of equality, the condition $a = b$ is true if and only if $\\mathcal{M} \\models (x = y)[a, b]$.\n\nBy combining these two equivalences, we have:\n$$\n(a, b) \\in D \\quad \\text{if and only if} \\quad a = b \\quad \\text{if and only if} \\quad \\mathcal{M} \\models (x = y)[a, b]\n$$\nThis directly shows that the set of pairs $(a, b)$ that satisfy the formula $x = y$ is exactly the set $D$.\n\nTherefore, the required first-order formula $\\varphi(x, y)$ is simply:\n$$\nx = y\n$$\nThis formula uses only the variables $x$ and $y$ and the logical symbol for equality, as required. It is valid in any structure $\\mathcal{M}$ with equality, irrespective of the non-logical symbols in the language of $\\mathcal{M}$, because the interpretation of $=$ is fixed as identity across all such structures. The formula itself is the expression that formally captures the condition for membership in the diagonal set.", "answer": "$$\n\\boxed{x = y}\n$$", "id": "3040247"}, {"introduction": "Having established the basic idea of definability, we now turn to a specific and historically important structure: Presburger arithmetic, the theory of integers with addition. This problem illustrates the power of quantifier elimination, a key result stating that any property definable in this theory can be expressed without quantifiers, using only a combination of linear inequalities and modular congruences. Your task is to apply this principle to a set defined by divisibility and size, bridging the gap between a quantified logical statement and a concrete, decidable number-theoretic description. [@problem_id:3040243]", "problem": "Let $\\mathcal{P}$ denote Presburger arithmetic, the first-order theory of $(\\mathbb{Z}, +, \\leq, 0, 1)$, where multiplication is not allowed except by fixed integers. A subset $S \\subseteq \\mathbb{Z}$ is called definable in $\\mathcal{P}$ if there exists a first-order formula $\\varphi(n)$ in the language of $(\\mathbb{Z}, +, \\leq, 0, 1)$ such that $S = \\{ n \\in \\mathbb{Z} : \\mathcal{P} \\models \\varphi(n) \\}$. A classical theorem (quantifier elimination for Presburger arithmetic) states that every definable set in this structure is equivalent to a quantifier-free Boolean combination of linear inequalities and modular congruences of the form $n \\equiv r \\pmod m$.\n\nConsider the subset $S = \\{ n \\in \\mathbb{Z} : 3 \\mid n \\text{ and } n \\geq 10 \\}$.\n\nUsing the fundamental definitions above and the quantifier elimination theorem for Presburger arithmetic as your base, do the following:\n- Argue why $S$ is definable in $\\mathcal{P}$ and supply an explicit quantifier-free formula that defines $S$ in terms of a conjunction of a linear inequality and a modular congruence.\n- From that characterization, determine the least element of $S$.\n\nProvide only the least element of $S$ as your final answer. No rounding is required.", "solution": "The problem is first subjected to validation.\n\nThe givens are:\n1.  The theory $\\mathcal{P}$, Presburger arithmetic, is the first-order theory of the structure $(\\mathbb{Z}, +, \\leq, 0, 1)$. Multiplication by variables is disallowed, but multiplication by fixed integer constants is permissible as repeated addition.\n2.  A set $S \\subseteq \\mathbb{Z}$ is definable in $\\mathcal{P}$ if there exists a first-order formula $\\varphi(n)$ in the language of $\\mathcal{P}$ such that $S = \\{ n \\in \\mathbb{Z} : \\mathcal{P} \\models \\varphi(n) \\}$.\n3.  A theorem states that any such definable set is equivalent to a set defined by a quantifier-free Boolean combination of linear inequalities and modular congruences.\n4.  The set to be analyzed is $S = \\{ n \\in \\mathbb{Z} : 3 \\mid n \\text{ and } n \\geq 10 \\}$.\n\nThe problem is valid. It is scientifically grounded in the well-established field of mathematical logic, specifically model theory. The concepts of Presburger arithmetic, definable sets, and quantifier elimination are standard and rigorously defined. The problem is well-posed, objective, and self-contained, with a clear objective and a unique, determinable solution. It asks for a standard application of these concepts to a specific set, which is a legitimate and formalizable task.\n\nThe first step is to demonstrate that the set $S$ is definable in Presburger arithmetic by constructing a first-order formula that defines it. The set is defined by two conditions on an integer $n$: ($1$) $3 \\mid n$ (read as \"$3$ divides $n$\"), and ($2$) $n \\geq 10$. We must express these conditions in the language of $\\mathcal{P}$, which consists of the symbols $\\{+, \\leq, 0, 1\\}$ and integer variables.\n\nThe condition $n \\geq 10$ is a linear inequality. The constant $10$ can be expressed in the language of $\\mathcal{P}$ as the sum $1+1+1+1+1+1+1+1+1+1$. Thus, $n \\geq 10$ is a valid atomic formula in this language.\n\nThe condition $3 \\mid n$ means that there exists an integer $k$ such that $n = 3 \\times k$. Multiplication by the constant $3$ can be expressed as repeated addition. So, $n = 3 \\times k$ is equivalent to $n = k+k+k$. The statement \"$3$ divides $n$\" is therefore formalized by introducing a quantifier: $(\\exists k \\in \\mathbb{Z})(n=k+k+k)$.\n\nCombining these two conditions, the set $S$ can be defined by the first-order formula $\\psi(n)$:\n$$ \\psi(n) \\equiv (\\exists k \\in \\mathbb{Z})(n=k+k+k) \\land (n \\geq 10) $$\nSince $S = \\{n \\in \\mathbb{Z} : \\psi(n) \\}$, and $\\psi(n)$ is a valid formula in the language of Presburger arithmetic, the set $S$ is definable in $\\mathcal{P}$.\n\nNext, we must provide an explicit quantifier-free formula that defines $S$. The problem statement refers to the quantifier elimination theorem for Presburger arithmetic. This theorem guarantees that the formula $\\psi(n)$, which contains a quantifier, is equivalent to a quantifier-free formula involving linear inequalities and modular congruences.\n\nLet's analyze the components of $\\psi(n)$:\n1.  The subformula $(\\exists k \\in \\mathbb{Z})(n=k+k+k)$ is the definition of divisibility of $n$ by $3$. This is precisely what is meant by the modular congruence $n \\equiv 0 \\pmod{3}$.\n2.  The subformula $n \\geq 10$ is already a linear inequality, which is a permitted type of clause in the quantifier-free form.\n\nTherefore, by applying the principle of quantifier elimination, we can replace the existential quantification with an equivalent modular congruence. The resulting quantifier-free formula, let's call it $\\varphi(n)$, is the conjunction of the modular congruence and the linear inequality:\n$$ \\varphi(n) \\equiv (n \\equiv 0 \\pmod{3}) \\land (n \\geq 10) $$\nThis formula explicitly defines the set $S$ without quantifiers, as required.\n\nThe final task is to determine the least element of $S$. The set $S$ consists of all integers $n$ that satisfy both conditions: $n$ must be a multiple of $3$, and $n$ must be greater than or equal to $10$. We seek the minimum such $n$. We can list the integers starting from $10$ and check for divisibility by $3$:\n- For $n=10$, we have $10 \\div 3 = 3$ remainder $1$, so $10 \\not\\equiv 0 \\pmod{3}$.\n- For $n=11$, we have $11 \\div 3 = 3$ remainder $2$, so $11 \\not\\equiv 0 \\pmod{3}$.\n- For $n=12$, we have $12 \\div 3 = 4$ remainder $0$, so $12 \\equiv 0 \\pmod{3}$.\n\nThe integer $12$ satisfies both conditions: $12 \\geq 10$ and $12$ is a multiple of $3$. Since we checked the integers in increasing order starting from the lower bound of $10$, the first integer we found to satisfy both conditions, which is $12$, must be the least element of the set $S$.", "answer": "$$ \\boxed{12} $$", "id": "3040243"}, {"introduction": "We now advance from defining sets to understanding which elements are determined by a given set of parameters. This leads to the crucial model-theoretic concepts of definable closure ($\\mathrm{dcl}$) and algebraic closure ($\\mathrm{acl}$). This exercise presents a hypothetical structure designed to isolate the subtle difference between an element being uniquely specified by a formula (belonging to $\\mathrm{dcl}$) and being one of a finite number of solutions (belonging to $\\mathrm{acl}$). Mastering this distinction is essential for a deeper appreciation of the geometric nature of model theory. [@problem_id:3040263]", "problem": "Consider the following two-sorted first-order language $L$ with sorts $S$ and $U$, and a single function symbol $p:U \\to S$. Let $T$ be the $L$-theory asserting that for every $s \\in S$ the fiber $\\{u \\in U : p(u) = s\\}$ has exactly two elements and that $p$ is surjective. In particular, the binary relation $E(u,v)$ on $U$ given by $E(u,v) \\leftrightarrow p(u)=p(v)$ is $L$-definable and has equivalence classes of size $2$.\n\nWork in a sufficiently saturated model $\\mathfrak{M} \\models T$. Let $A = \\{s_{0}\\}$ with $s_{0} \\in S$. Using the model-theoretic definitions of definable closure (dcl) and algebraic closure (acl) for a set of parameters $A$, determine the sets $\\mathrm{dcl}(A)$ and $\\mathrm{acl}(A)$ inside $\\mathfrak{M}$, and then compute the quantity\n$$\nk \\;=\\; \\bigl|\\mathrm{acl}(A) \\setminus \\mathrm{dcl}(A)\\bigr|.\n$$\nProvide $k$ as an exact integer. No rounding is required.", "solution": "The problem asks us to determine the definable closure ($\\mathrm{dcl}$) and algebraic closure ($\\mathrm{acl}$) of a given set of parameters $A$ in a sufficiently saturated model $\\mathfrak{M}$ of a specific theory $T$, and then to compute the cardinality of the set difference $\\mathrm{acl}(A) \\setminus \\mathrm{dcl}(A)$.\n\nFirst, let us recall the model-theoretic definitions of definable and algebraic closure. Let $\\mathfrak{M}$ be a model and $A$ be a subset of its domain.\nAn element $b$ from the domain of $\\mathfrak{M}$ is in the definable closure of $A$, denoted $\\mathrm{dcl}(A)$, if and only if every automorphism of $\\mathfrak{M}$ that fixes every element of $A$ also fixes $b$. Equivalently, $b \\in \\mathrm{dcl}(A)$ if there is a first-order formula $\\phi(x)$ with parameters from $A$ such that $b$ is the unique element in $\\mathfrak{M}$ satisfying $\\phi(x)$.\nAn element $b$ is in the algebraic closure of $A$, denoted $\\mathrm{acl}(A)$, if and only if its orbit under the group of automorphisms of $\\mathfrak{M}$ that fix $A$ pointwise is finite. Equivalently, $b \\in \\mathrm{acl}(A)$ if there is a first-order formula $\\psi(x)$ with parameters from $A$ such that $b$ satisfies $\\psi(x)$ and the set of all elements satisfying $\\psi(x)$ is finite.\nFrom these definitions, it is clear that $\\mathrm{dcl}(A) \\subseteq \\mathrm{acl}(A)$.\n\nThe language $L$ is two-sorted with sorts $S$ and $U$. It has one function symbol $p: U \\to S$. The theory $T$ states that $p$ is surjective and for every $s \\in S$, the fiber $p^{-1}(s) = \\{u \\in U \\mid p(u)=s\\}$ has size exactly $2$. We work in a sufficiently saturated model $\\mathfrak{M}$ of $T$. The domains for sorts $S$ and $U$ in $\\mathfrak{M}$ will be denoted $S^{\\mathfrak{M}}$ and $U^{\\mathfrak{M}}$ respectively. The parameter set is $A = \\{s_0\\}$ for some $s_0 \\in S^{\\mathfrak{M}}$.\n\nLet $\\mathrm{Aut}(\\mathfrak{M}/A)$ be the group of automorphisms of $\\mathfrak{M}$ that fix the set $A$ pointwise. Since $A = \\{s_0\\}$, this means for any $\\sigma \\in \\mathrm{Aut}(\\mathfrak{M}/A)$, we have $\\sigma(s_0) = s_0$. An automorphism $\\sigma$ must preserve the structure, so $\\sigma$ maps $S^{\\mathfrak{M}}$ to $S^{\\mathfrak{M}}$ and $U^{\\mathfrak{M}}$ to $U^{\\mathfrak{M}}$, and for any $u \\in U^{\\mathfrak{M}}$, we have $\\sigma(p(u)) = p(\\sigma(u))$.\n\nWe now determine $\\mathrm{dcl}(A)$:\nAn element $b$ is in $\\mathrm{dcl}(A)$ if and only if $\\sigma(b)=b$ for all $\\sigma \\in \\mathrm{Aut}(\\mathfrak{M}/A)$.\n1.  Any element in $A$ is in $\\mathrm{dcl}(A)$. Thus, $s_0 \\in \\mathrm{dcl}(A)$.\n2.  Consider an element $s \\in S^{\\mathfrak{M}}$ such that $s \\neq s_0$. The theory $T$ does not specify any relations between elements of $S$. Therefore, any two distinct elements $s, s' \\in S^{\\mathfrak{M}} \\setminus \\{s_0\\}$ have the same type over $A$. Since $\\mathfrak{M}$ is saturated, there exists an automorphism $\\sigma \\in \\mathrm{Aut}(\\mathfrak{M}/A)$ such that $\\sigma(s) = s'$. This means $s$ is not fixed by all automorphisms in $\\mathrm{Aut}(\\mathfrak{M}/A)$. Therefore, no element of $S^{\\mathfrak{M}} \\setminus \\{s_0\\}$ is in $\\mathrm{dcl}(A)$.\n3.  Consider an element $u \\in U^{\\mathfrak{M}}$. Let $p(u) = s$.\n    a. If $s=s_0$, then $u$ belongs to the fiber $p^{-1}(s_0)$. By the theory $T$, this fiber contains exactly two elements. Let $p^{-1}(s_0) = \\{u_1, u_2\\}$ with $u_1 \\neq u_2$. The elements $u_1$ and $u_2$ are indiscernible over $A=\\{s_0\\}$ because the language $L$ only has the function symbol $p$. There is no formula with parameter $s_0$ that can distinguish $u_1$ from $u_2$. Thus, there exists an automorphism $\\sigma \\in \\mathrm{Aut}(\\mathfrak{M}/A)$ that swaps $u_1$ and $u_2$, i.e., $\\sigma(u_1)=u_2$ and $\\sigma(u_2)=u_1$. This shows that neither $u_1$ nor $u_2$ is fixed by all automorphisms in $\\mathrm{Aut}(\\mathfrak{M}/A)$. Hence, no element from the fiber $p^{-1}(s_0)$ is in $\\mathrm{dcl}(A)$.\n    b. If $s \\neq s_0$, let $u \\in p^{-1}(s)$. From point 2, we know there is an automorphism $\\sigma \\in \\mathrm{Aut}(\\mathfrak{M}/A)$ such that $\\sigma(s) = s'$ for some $s' \\neq s$. Since $\\sigma$ is an automorphism, $\\sigma(u)$ must be an element such that $p(\\sigma(u)) = \\sigma(p(u)) = \\sigma(s) = s'$. This implies $\\sigma(u) \\in p^{-1}(s')$, and thus $\\sigma(u) \\neq u$. So, $u$ is not in $\\mathrm{dcl}(A)$.\nCombining these points, the only element fixed by all automorphisms in $\\mathrm{Aut}(\\mathfrak{M}/A)$ is $s_0$ itself.\nTherefore, $\\mathrm{dcl}(A) = \\{s_0\\}$.\n\nNext, we determine $\\mathrm{acl}(A)$:\nAn element $b$ is in $\\mathrm{acl}(A)$ if and only if its orbit under $\\mathrm{Aut}(\\mathfrak{M}/A)$ is finite.\n1.  Since $\\mathrm{dcl}(A) \\subseteq \\mathrm{acl}(A)$, we have $s_0 \\in \\mathrm{acl}(A)$. Its orbit has size $1$.\n2.  Consider an element $s \\in S^{\\mathfrak{M}}$ with $s \\neq s_0$. The orbit of $s$ under $\\mathrm{Aut}(\\mathfrak{M}/A)$ is the set of realizations of the type of $s$ over $A$, which is the set $S^{\\mathfrak{M}} \\setminus \\{s_0\\}$. In a saturated model, the domain $S^{\\mathfrak{M}}$ is infinite. Thus, the orbit of $s$ is infinite. Therefore, no element of $S^{\\mathfrak{M}} \\setminus \\{s_0\\}$ is in $\\mathrm{acl}(A)$.\n3.  Consider an element $u \\in U^{\\mathfrak{M}}$. Let $p(u) = s$.\n    a. If $s = s_0$, then $u$ is in the fiber $p^{-1}(s_0) = \\{u_1, u_2\\}$. For any $\\sigma \\in \\mathrm{Aut}(\\mathfrak{M}/A)$, we have $p(\\sigma(u)) = \\sigma(p(u)) = \\sigma(s_0) = s_0$. This means that $\\sigma(u)$ must be an element of the fiber $p^{-1}(s_0)$. So, the orbit of $u$ under $\\mathrm{Aut}(\\mathfrak{M}/A)$ is a subset of $\\{u_1, u_2\\}$. Since this is a finite set, both $u_1$ and $u_2$ are in $\\mathrm{acl}(A)$. Note that the orbit of $u_1$ is $\\{u_1, u_2\\}$, which has size $2$.\n    b. If $s \\neq s_0$, let $u \\in p^{-1}(s)$. The orbit of $s$ under $\\mathrm{Aut}(\\mathfrak{M}/A)$ is the infinite set $S^{\\mathfrak{M}} \\setminus \\{s_0\\}$. For each $s'$ in the orbit of $s$, there is an automorphism $\\sigma$ with $\\sigma(s)=s'$, and this $\\sigma$ maps the fiber $p^{-1}(s)$ to $p^{-1}(s')$. The orbit of $u$ is the union of all such fibers $p^{-1}(s')$ for $s'$ in the orbit of $s$. Since the orbit of $s$ is infinite, this union is also an infinite set. Therefore, $u$ is not in $\\mathrm{acl}(A)$.\nCombining these points, the elements with finite orbits are $s_0$ and the two elements in the fiber over $s_0$.\nTherefore, $\\mathrm{acl}(A) = \\{s_0\\} \\cup p^{-1}(s_0)$.\n\nFinally, we compute the quantity $k$:\n$k = |\\mathrm{acl}(A) \\setminus \\mathrm{dcl}(A)|$.\nWe have determined the sets:\n$\\mathrm{dcl}(A) = \\{s_0\\}$.\n$\\mathrm{acl}(A) = \\{s_0\\} \\cup p^{-1}(s_0)$.\nThe set difference is:\n$\\mathrm{acl}(A) \\setminus \\mathrm{dcl}(A) = (\\{s_0\\} \\cup p^{-1}(s_0)) \\setminus \\{s_0\\} = p^{-1}(s_0)$.\nAccording to the theory $T$, the fiber $p^{-1}(s_0)$ has exactly two elements.\nThus, the cardinality of this set is $2$.\n$k = |p^{-1}(s_0)| = 2$.", "answer": "$$\\boxed{2}$$", "id": "3040263"}]}