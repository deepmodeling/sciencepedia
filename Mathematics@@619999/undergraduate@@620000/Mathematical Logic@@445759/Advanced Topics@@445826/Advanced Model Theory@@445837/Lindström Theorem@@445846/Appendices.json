{"hands_on_practices": [{"introduction": "Lindström's theorem establishes a profound connection between expressive power and fundamental properties like Compactness. To truly appreciate this, we must look \"under the hood\" at the machinery that gives first-order logic ($FO$) its power. This practice introduces the ultraproduct construction and the celebrated Łoś’s Theorem, which together provide an elegant, purely model-theoretic proof of the Compactness Theorem for $FO$ and are a cornerstone in the study of abstract logics [@problem_id:2976157].", "problem": "Select the option that correctly and precisely accomplishes all of the following in the context of First-Order logic (FO): defines the ultraproduct of a family of structures using an ultrafilter, states Łoś’s Theorem for FO formulas (not just sentences), and explains, at a level suitable for use in Lindström’s theorem, why Łoś’s Theorem supports the Compactness Theorem for FO.\n\nA. Given a family $\\{\\mathcal{M}_i : i \\in I\\}$ of $\\mathcal{L}$-structures and an ultrafilter $\\mathcal{U}$ on $I$, the ultraproduct $\\prod_{i \\in I} \\mathcal{M}_i / \\mathcal{U}$ has domain the set of $\\mathcal{U}$-equivalence classes of functions $a : I \\to \\bigsqcup_{i \\in I} M_i$ (with $a(i) \\in M_i$), where $a \\sim b$ iff $\\{ i \\in I : a(i) = b(i) \\} \\in \\mathcal{U}$. For each function symbol $f$ of arity $n$, define $f^{\\prod/\\mathcal{U}}([a_1],\\dots,[a_n]) = [i \\mapsto f^{\\mathcal{M}_i}(a_1(i),\\dots,a_n(i))]$. For each relation symbol $R$ of arity $n$, declare $R^{\\prod/\\mathcal{U}}([a_1],\\dots,[a_n])$ to hold iff $\\{ i \\in I : R^{\\mathcal{M}_i}(a_1(i),\\dots,a_n(i)) \\} \\in \\mathcal{U}$. Łoś’s Theorem: for every FO formula $\\varphi(x_1,\\dots,x_n)$ and $[a_1],\\dots,[a_n]$ in the ultraproduct, $$\\prod_{i \\in I} \\mathcal{M}_i / \\mathcal{U} \\models \\varphi([a_1],\\dots,[a_n]) \\quad \\text{iff} \\quad \\{ i \\in I : \\mathcal{M}_i \\models \\varphi(a_1(i),\\dots,a_n(i)) \\} \\in \\mathcal{U}.$$ This supports Compactness: given a set $\\Gamma$ of FO sentences with every finite subset satisfiable, index by $I$ the set of finite $\\Delta \\subseteq \\Gamma$ and pick $\\mathcal{M}_\\Delta \\models \\Delta$. Let $\\mathcal{U}$ be an ultrafilter on $I$ extending the filter generated by the cones $X_\\varphi = \\{ \\Delta \\in I : \\varphi \\in \\Delta \\}$ for $\\varphi \\in \\Gamma$. By Łoś’s Theorem, $\\prod_{\\Delta \\in I} \\mathcal{M}_\\Delta / \\mathcal{U} \\models \\Gamma$, proving Compactness. This is a key ingredient in the characterization in Lindström’s theorem that FO is maximal among abstract logics satisfying Compactness and the Downward Löwenheim–Skolem property.\n\nB. The ultraproduct of $\\{\\mathcal{M}_i : i \\in I\\}$ with respect to a filter $\\mathcal{F}$ on $I$ is the Cartesian product $\\prod_{i \\in I} M_i$ with pointwise interpretation of symbols, and Łoś’s Theorem states that for each FO sentence $\\sigma$, $\\prod_{i \\in I} \\mathcal{M}_i \\models \\sigma$ iff $\\{ i \\in I : \\mathcal{M}_i \\models \\sigma \\} \\in \\mathcal{F}$. This shows the Completeness Theorem and therefore implies Compactness, which is the main hypothesis in Lindström’s theorem.\n\nC. The ultraproduct is formed by taking the Cartesian product $\\prod_{i \\in I} M_i$ and interpreting relations and functions coordinatewise, using the cofinite filter to define truth: a formula holds in the ultraproduct iff it holds in $\\mathcal{M}_i$ for all but finitely many $i \\in I$. Łoś’s Theorem holds for sentences but not for formulas with free variables, and this suffices to deduce Compactness by an easy coding argument, which is the primary tool in Lindström’s theorem.\n\nD. An ultraproduct is any substructure of a direct product closed under projections, and Łoś’s Theorem asserts that if each $\\mathcal{M}_i$ satisfies an FO sentence $\\sigma$, then so does the product; this yields the Upward Löwenheim–Skolem Theorem, which in turn implies Compactness and provides the core of Lindström’s theorem.", "solution": "The problem statement requires selecting the option that correctly defines the ultraproduct construction, states Łoś’s Theorem for first-order formulas, and explains the theorem's role in proving the Compactness Theorem for first-order logic (FO) within the context of Lindström's theorem. The problem statement itself is a valid directive for a task in mathematical logic. It is scientifically grounded, well-posed, and objective. I will proceed to analyze each option.\n\nThe core components required for a correct answer are:\n1.  **Ultraproduct Definition**: A precise definition of the structure $\\prod_{i \\in I} \\mathcal{M}_i / \\mathcal{U}$, including its domain (as equivalence classes on the Cartesian product $\\prod_{i \\in I} M_i$) and the interpretation of function and relation symbols. The equivalence relation must be defined via an ultrafilter $\\mathcal{U}$ on the index set $I$.\n2.  **Łoś's Theorem**: A correct statement of the theorem for any FO formula $\\varphi(x_1, \\ldots, x_n)$, not just sentences. The theorem establishes an equivalence: a formula is true in the ultraproduct for a given assignment of elements if and only if the set of indices for which the formula is true in the component structures (with the corresponding component assignments) is a member of the ultrafilter.\n3.  **Connection to Compactness and Lindström's Theorem**: A correct outline of the proof of the Compactness Theorem for FO using ultraproducts. This involves constructing a model for an infinitely satisfiable set of sentences $\\Gamma$ from models of its finite subsets. The explanation should also correctly situate this result in the context of Lindström's theorem, which characterizes FO in terms of the Compactness and Downward Löwenheim-Skolem properties.\n\n**Analysis of Option A**\n\n1.  **Ultraproduct Definition**: Option A defines the domain of the ultraproduct $\\prod_{i \\in I} \\mathcal{M}_i / \\mathcal{U}$ as the set of $\\mathcal{U}$-equivalence classes of functions $a: I \\to \\bigsqcup_{i \\in I} M_i$ where $a(i) \\in M_i$. This is a correct, if slightly verbose, description of elements of the Cartesian product $\\prod_{i \\in I} M_i$. The equivalence relation is correctly stated as $a \\sim b$ iff $\\{ i \\in I : a(i) = b(i) \\} \\in \\mathcal{U}$. The interpretation of an $n$-ary function symbol $f$ is given by $f^{\\prod/\\mathcal{U}}([a_1],\\dots,[a_n]) = [i \\mapsto f^{\\mathcal{M}_i}(a_1(i),\\dots,a_n(i))]$, and an $n$-ary relation symbol $R$ by $R^{\\prod/\\mathcal{U}}([a_1],\\dots,[a_n])$ holding iff $\\{ i \\in I : R^{\\mathcal{M}_i}(a_1(i),\\dots,a_n(i)) \\} \\in \\mathcal{U}$. These definitions are standard and correct.\n\n2.  **Łoś's Theorem**: The option states that for any FO formula $\\varphi(x_1, \\ldots, x_n)$ and elements $[a_1], \\ldots, [a_n]$ from the ultraproduct, we have $\\prod_{i \\in I} \\mathcal{M}_i / \\mathcal{U} \\models \\varphi([a_1],\\dots,[a_n])$ iff $\\{ i \\in I : \\mathcal{M}_i \\models \\varphi(a_1(i),\\dots,a_n(i)) \\} \\in \\mathcal{U}$. This is the correct and general form of Łoś's Theorem, applicable to all formulas, as required by the problem.\n\n3.  **Connection to Compactness and Lindström's Theorem**: The explanation correctly outlines the standard ultraproduct proof of the Compactness Theorem. It starts with a set of sentences $\\Gamma$ where every finite subset $\\Delta$ has a model $\\mathcal{M}_\\Delta$. The index set $I$ is the set of all such finite subsets $\\Delta$. It correctly identifies the need for an ultrafilter $\\mathcal{U}$ on $I$ that extends the filter generated by the sets $X_\\varphi = \\{ \\Delta \\in I : \\varphi \\in \\Delta \\}$ for each $\\varphi \\in \\Gamma$. The existence of such an ultrafilter is guaranteed by the Ultrafilter Lemma (a consequence of the Axiom of Choice). It correctly concludes that by applying Łoś's Theorem to the ultraproduct $\\prod_{\\Delta \\in I} \\mathcal{M}_\\Delta / \\mathcal{U}$, one can show this structure is a model of all of $\\Gamma$. For any $\\sigma \\in \\Gamma$, the set $X_\\sigma \\in \\mathcal{U}$. Since for any $\\Delta \\in X_\\sigma$ we have $\\sigma \\in \\Delta$ and thus $\\mathcal{M}_\\Delta \\models \\sigma$, it follows that $X_\\sigma \\subseteq \\{ \\Delta \\in I : \\mathcal{M}_\\Delta \\models \\sigma \\}$. As ultrafilters are closed under supersets, we have $\\{ \\Delta \\in I : \\mathcal{M}_\\Delta \\models \\sigma \\} \\in \\mathcal{U}$, so by Łoś's Theorem, the ultraproduct models $\\sigma$. Finally, it correctly states the significance for Lindström's theorem: FO is characterized as the maximal abstract logic satisfying both Compactness and the Downward Löwenheim-Skolem property. This entire explanation is accurate and relevant.\n\n**Verdict for Option A**: Correct.\n\n**Analysis of Option B**\n\n1.  **Ultraproduct Definition**: This option claims the structure is built with respect to a *filter* $\\mathcal{F}$, not an ultrafilter. It also states the domain is the Cartesian product $\\prod_{i \\in I} M_i$, omitting the crucial step of taking a quotient by an equivalence relation. This describes a direct product, not an ultraproduct.\n\n2.  **Łoś's Theorem**: It incorrectly states the theorem for a filter $\\mathcal{F}$ and for the direct product structure. Łoś's Theorem fundamentally relies on the properties of an *ultrafilter* and the quotient structure. Furthermore, it restricts the theorem to sentences, which contradicts the problem specification.\n\n3.  **Connection to Compactness**: It makes a confused claim that Łoś's Theorem shows the Completeness Theorem, which then implies Compactness. The ultraproduct proof of Compactness is a purely semantic proof that bypasses the syntactic notions central to the Completeness Theorem.\n\n**Verdict for Option B**: Incorrect.\n\n**Analysis of Option C**\n\n1.  **Ultraproduct Definition**: It incorrectly specializes the filter to be the *cofinite filter*. While the cofinite filter is a filter, it is only an ultrafilter if the index set $I$ is finite (in which case the ultraproduct is isomorphic to one of the component structures). For infinite sets, it is not an ultrafilter. The concept of an ultraproduct requires a general ultrafilter. It also omits the quotient construction.\n\n2.  **Łoś's Theorem**: It makes the factually incorrect claim that Łoś's Theorem \"holds for sentences but not for formulas with free variables\". The strength and utility of the theorem come precisely from the fact that it holds for all first-order formulas, which is proven by induction on the complexity of the formula.\n\n3.  **Connection to Compactness**: The explanation is built upon the false premise that the theorem is restricted to sentences.\n\n**Verdict for Option C**: Incorrect.\n\n**Analysis of Option D**\n\n1.  **Ultraproduct Definition**: It provides a definition—\"any substructure of a direct product closed under projections\"—that is completely unrelated to the standard definition of an ultraproduct. An ultraproduct is a *quotient* of a direct product.\n\n2.  **Łoś's Theorem**: It misstates the theorem as a simple preservation property: \"if each $\\mathcal{M}_i$ satisfies an FO sentence $\\sigma$, then so does the product\". This is a weak consequence of the actual theorem and holds for products only for certain kinds of sentences (universal sentences). Łoś's Theorem is a much more powerful bi-conditional transfer principle.\n\n3.  **Connection to Compactness**: It incorrectly links Łoś's Theorem to the *Upward* Löwenheim-Skolem Theorem and then to Compactness. More importantly, it misidentifies the components of Lindström's theorem, which uses the *Downward* Löwenheim-Skolem property, not the upward one.\n\n**Verdict for Option D**: Incorrect.\n\n**Conclusion**\n\nOnly Option A provides a completely correct and precise account of all three required components: the definition of an ultraproduct, the statement of Łoś's Theorem for formulas, and the explanation of its role in proving the Compactness Theorem and its relevance to Lindström's theorem.", "answer": "$$\\boxed{A}$$", "id": "2976157"}, {"introduction": "The flip side of Lindström's theorem is understanding what first-order logic ($FO$) *cannot* express, which is precisely what makes stronger logics tempting. The Ehrenfeucht–Fraïssé game is a powerful tool for proving such expressive limitations. In this hands-on exercise, you will use an EF game to demonstrate that a seemingly simple property—graph connectivity—is not definable in $FO$, providing a concrete example of the trade-offs that Lindström's theorem describes [@problem_id:3046177].", "problem": "Let $\\mathcal{L}$ be the language of simple undirected graphs with a single binary relation symbol $E$. For an integer $m \\geq 1$, define two finite $\\mathcal{L}$-structures:\n- $G_{m}$ is the cycle graph with $2^{m+1}$ vertices (every vertex has degree $2$ and the unique simple cycle has length $2^{m+1}$).\n- $H_{m}$ is the disjoint union of two cycle graphs, each with $2^{m}$ vertices (so $H_{m}$ has $2^{m+1}$ vertices in total, split into exactly two connected components).\n\nConsider the $r$-round Ehrenfeucht–Fraïssé (EF) game on the pair $(G_{m},H_{m})$ in the language $\\mathcal{L}$.\n\nUsing only fundamental definitions and properties of first-order logic (FOL), the EF game, and the statements of Compactness and the Löwenheim–Skolem property:\n1. Determine, as an explicit function of $m$, the largest integer $r$ such that Duplicator has a winning strategy in the $r$-round EF game on $(G_{m},H_{m})$.\n2. Justify how this EF-game calculation implies that connectivity of finite graphs is not definable by any single sentence of FOL, and explain how this connects to the maximality of FOL in Lindström’s theorem (that any abstract logic extending FOL and satisfying both Compactness and the Löwenheim–Skolem property cannot define strictly more isomorphism-invariant properties of structures).\n\nYou must provide the exact closed-form expression for the largest such $r$ as your final answer. No rounding is required. The final answer must be a single expression in terms of $m$.", "solution": "The problem asks for two main things: first, to determine the largest integer $r$ for which the Duplicator has a winning strategy in the Ehrenfeucht–Fraïssé (EF) game on a pair of graph structures $(G_m, H_m)$, and second, to relate this result to the non-definability of graph connectivity in first-order logic (FOL) and to Lindström's theorem.\n\n### Part 1: Determining the largest $r$\n\nLet us denote the relation \"Duplicator has a winning strategy in the $r$-round EF game on structures $A$ and $B$\" by $A \\equiv_r B$. The problem is to find the maximum integer $r$ such that $G_m \\equiv_r H_m$. This is equivalent to finding the minimum integer $r$ such that $G_m \\not\\equiv_r H_m$, which would be $r_{\\text{max}}+1$. Spoiler has a winning strategy in the $r$-round game if and only if there exists a sentence $\\Phi$ in the language $\\mathcal{L}$ with quantifier rank at most $r$ such that one of $G_m$ or $H_m$ is a model of $\\Phi$ and the other is not.\n\nFirst, let's analyze the structures.\n- $G_m$ is the cycle graph $C_{2^{m+1}}$. It is a connected graph. The number of vertices is $2^{m+1}$. The distance $d_{G_m}(u,v)$ between any two vertices $u,v$ is well-defined and finite, with a maximum value of $2^{m+1}/2 = 2^m$.\n- $H_m$ is the disjoint union of two cycle graphs, $C_{2^m} \\sqcup C_{2^m}$. It has two connected components. The total number of vertices is $2 \\times 2^m = 2^{m+1}$. If two vertices $u,v$ are in the same component of $H_m$, the maximum distance between them is $2^m/2 = 2^{m-1}$. If they are in different components, there is no path between them, so their distance is infinite.\n\nWe aim to show that the largest $r$ is $m$. This involves two claims:\n1. $G_m \\equiv_m H_m$ (Duplicator wins the $m$-round game).\n2. $G_m \\not\\equiv_{m+1} H_m$ (Spoiler wins the $(m+1)$-round game).\n\n**Claim 2: Spoiler wins the $(m+1)$-round game.**\nTo show that Spoiler wins, we need to construct a sentence $\\Phi$ of quantifier rank $m+1$ that distinguishes $G_m$ from $H_m$.\n\nA key difference between the graphs is that $G_m$ is connected with diameter $2^m$, while any connected component of $H_m$ has diameter $2^{m-1}$. Let us leverage this.\nIt is a standard result in model theory that the property \"$d(x,y) \\le 2^k$\" can be expressed by a formula $\\phi_k(x,y)$ of quantifier rank $k$. These formulas are defined inductively:\n- $\\phi_0(x,y) := (x=y) \\lor E(x,y)$. This has quantifier rank $0$.\n- $\\phi_{k+1}(x,y) := \\exists z (\\phi_k(x,z) \\land \\phi_k(z,y))$. The quantifier rank of $\\phi_{k+1}$ is $qr(\\phi_k) + 1$, so $qr(\\phi_k) = k$.\n\nNote that $\\mathcal{M} \\models \\phi_k(u,v)$ if and only if there is a path of length at most $2^k$ between vertices $u$ and $v$ in the structure $\\mathcal{M}$.\n\nConsider the sentence $\\theta$:\n$$ \\theta := \\exists x \\forall y (\\phi_m(x,y)) $$\nLet's analyze the quantifier rank of $\\theta$. The formula $\\phi_m(x,y)$ has quantifier rank $m$. The formula $\\forall y (\\phi_m(x,y))$ has rank $m+1$. By prefixing $\\exists x$, the rank becomes $m+1$. So, $qr(\\theta) = m+1$.\n\nNow, let's check whether $\\theta$ distinguishes $G_m$ and $H_m$.\n- **In $G_m$**: The sentence $\\theta$ asserts that there exists a vertex $x$ from which every other vertex $y$ is reachable by a path of length at most $2^m$. In $G_m=C_{2^{m+1}}$, the maximum distance between any two vertices is exactly $2^m$. So, for any vertex $x$, every other vertex $y$ is at a distance $d_{G_m}(x,y) \\le 2^m$. This means $\\phi_m(x,y)$ is true for all $y$. Consequently, $\\forall y (\\phi_m(x,y))$ is true for any choice of $x$. Therefore, $G_m \\models \\theta$.\n\n- **In $H_m$**: The sentence $\\theta$ asserts the same property. Let's take any vertex $x$. This vertex $x$ belongs to one of the two connected components, say $C_A$. Now, let's take any vertex $y$ from the other connected component, $C_B$. Since there is no path between $x$ and $y$, the formula $\\phi_m(x,y)$ is false. Thus, for any choice of $x$, the formula $\\forall y (\\phi_m(x,y))$ is false (because it fails for any $y$ in the other component). Therefore, no such $x$ exists, and $H_m \\not\\models \\theta$.\n\nSince $\\theta$ is a sentence of quantifier rank $m+1$ that is true in $G_m$ and false in $H_m$, the two structures are not $(m+1)$-elementarily equivalent. This implies that Spoiler has a winning strategy in the $(m+1)$-round EF game. Hence, $r_{\\text{max}} < m+1$.\n\n**Claim 1: Duplicator wins the $m$-round game.**\nThe proof that Duplicator wins the $m$-round game is more involved. It requires showing that Duplicator can maintain a specific invariant for $m$ rounds. The invariant for Duplicator's strategy after $k$ rounds (with $k \\le m$ and chosen pairs $(g_1,h_1), \\dots, (g_k,h_k)$) is that the map $g_i \\mapsto h_i$ is a partial isomorphism and that for any two chosen vertices $g_i, g_j$, their distance properties are \"locally\" preserved. A common such invariant is that for chosen points $g_i, g_j$ and their images $h_i, h_j$, $d(g_i, g_j) = d(h_i, h_j)$ whenever this distance is less than $2^{m-k}$.\nThe essence of the proof is that for $k \\le m$ rounds, the number of constraints $k$ imposed by Spoiler is not large enough to exhaust the possibilities for Duplicator in a graph that is locally a path. The cycle closures happen at scales ($2^m$ and $2^{m+1}$) that are too large to be detected by the game in under $m+1$ rounds. Because Spoiler cannot force Duplicator to \"see\" the entire structure within $m$ rounds, Duplicator can continue to find moves that are locally consistent.\nThus, $G_m \\equiv_m H_m$, which means $r_{\\text{max}} \\ge m$.\n\nCombining the two claims, the largest integer $r$ such that Duplicator has a winning strategy is $m$.\n\n### Part 2: Implications for Connectivity and Lindström's Theorem\n\n**Non-definability of Connectivity in FOL**\nThe EF-game result provides a direct proof that graph connectivity is not a first-order definable property for the class of finite graphs.\nThe argument proceeds by contradiction:\n1. Assume, for the sake of contradiction, that there exists a single FOL sentence, let's call it $\\Phi_{conn}$, that defines connectivity for finite graphs. This means for any finite graph $G$, $G \\models \\Phi_{conn}$ if and only if $G$ is connected.\n2. Let the quantifier rank of this hypothetical sentence $\\Phi_{conn}$ be $q$.\n3. Now, consider the specific pair of structures $(G_q, H_q)$ from this problem.\n4. From Part 1, we know that $G_q \\equiv_q H_q$. By the fundamental property of the EF-game, this means that $G_q$ and $H_q$ satisfy exactly the same FOL sentences of quantifier rank up to and including $q$.\n5. Since $qr(\\Phi_{conn}) = q$, it must be that $G_q \\models \\Phi_{conn} \\iff H_q \\models \\Phi_{conn}$.\n6. By its construction, $G_q$ is a cycle graph and is therefore connected. By our assumption about $\\Phi_{conn}$, we must have $G_q \\models \\Phi_{conn}$.\n7. From steps 5 and 6, it follows that we must also have $H_q \\models \\Phi_{conn}$.\n8. However, $H_q$ is, by construction, a disjoint union of two cycles, so it is disconnected. By our assumption about $\\Phi_{conn}$, this means $H_q \\not\\models \\Phi_{conn}$.\n9. We have reached a contradiction: $H_q$ both must and must not satisfy $\\Phi_{conn}$. Therefore, our initial assumption must be false. No such single FOL sentence $\\Phi_{conn}$ can exist.\n\n**Connection to Lindström's Theorem**\nLindström's theorem characterizes FOL as the maximal \"regular\" logic. It states that any abstract logic $\\mathcal{L}'$ that extends the expressive power of FOL and also satisfies two key metalogical properties—the Compactness Theorem and the Downward Löwenheim-Skolem property—must be equivalent in expressive power to FOL.\n\nOur result on connectivity illustrates this principle perfectly:\n1. We have shown that the property of being a connected graph is not definable in FOL.\n2. This means that a hypothetical logic, say $\\mathcal{L}_{\\text{conn}} = \\text{FOL} + \\{\\text{CONN}\\}$ where CONN is a sentence true only in connected graphs, would be strictly more expressive than FOL.\n3. According to Lindström's theorem, since $\\mathcal{L}_{\\text{conn}}$ is more expressive than FOL, it must fail to satisfy at least one of the conditions: either the Compactness Theorem or the Downward Löwenheim-Skolem property.\n4. Indeed, one can show that a logic capable of expressing connectivity must violate the Compactness Theorem. Consider the set of sentences $\\Gamma = \\{ \\psi_n(c, d) \\mid n \\in \\mathbb{N} \\}$, where $\\psi_n(c,d)$ is a FOL formula stating \"there is no path of length $n$ between constants $c$ and $d$\". Add to this the sentence $\\text{CONN}(c,d)$ from our hypothetical logic. Any finite subset of $\\Gamma \\cup \\{\\text{CONN}(c,d)\\}$ is satisfiable. However, if the entire set were satisfiable, the model would contain no paths of any length between $c$ and $d$, implying they are not connected, which contradicts $\\text{CONN}(c,d)$. This demonstrates a failure of compactness.\n\nIn summary, the EF-game on $(G_m, H_m)$ provides a concrete example of an expressive limitation of FOL. Lindström's theorem universalizes this observation, establishing that this limitation is not an accidental weakness but an essential trade-off: to gain the power to define properties like connectivity, one must sacrifice fundamental and powerful properties like compactness that make FOL so well-behaved.", "answer": "$$ \\boxed{m} $$", "id": "3046177"}, {"introduction": "The proof of Lindström's theorem requires a careful analysis of how a logic behaves when restricted to definable subsets of a structure. The property of closure under relativization is a key ingredient in this analysis, allowing us to translate sentences about a substructure into sentences about the larger ambient structure. This exercise will guide you through the formal definition of relativization and its role in transferring definability, a crucial technical skill for understanding the mechanics of model theory [@problem_id:2976150].", "problem": "Let $\\sigma$ be a relational vocabulary and let $\\mathcal{L}$ be a logic on $\\sigma$-structures that is closed under Boolean connectives and under relativization to a new unary predicate symbol. Recall the following fundamental definitions and facts of model theory that you may take as given: (i) given a $\\sigma$-structure $\\mathfrak{M}$ with universe $M$ and a subset $S \\subseteq M$, the induced $\\sigma$-substructure $\\mathfrak{M} \\upharpoonright S$ is the structure with universe $S$ interpreting each relation symbol $R \\in \\sigma$ by the restriction of $R^{\\mathfrak{M}}$ to tuples from $S$; (ii) a subset $S \\subseteq M$ is definable if there is a formula $\\delta(x) \\in \\mathcal{L}$ with one free variable such that $S = \\{ a \\in M : \\mathfrak{M} \\models \\delta(a) \\}$; (iii) for any new unary predicate symbol $U$ not in $\\sigma$, an interpretation $(\\mathfrak{M}, U)$ is a $\\sigma \\cup \\{U\\}$-structure expanding $\\mathfrak{M}$ by a choice of $U^{\\mathfrak{M}} \\subseteq M$.\n\nChoose the option that correctly explains how closure under relativization in $\\mathcal{L}$ enables the transfer of definability from whole structures to definable substructures, and that provides a correct concrete example using a unary predicate symbol $U$.\n\nA. If $\\mathcal{L}$ is closed under relativization, then for every $\\sigma$-formula $\\varphi(\\bar{x}) \\in \\mathcal{L}$ there exists a $\\sigma \\cup \\{U\\}$-formula $\\varphi^{U}(\\bar{x}) \\in \\mathcal{L}$ such that for every $\\sigma$-structure $\\mathfrak{M}$, every $S \\subseteq M$, and every assignment $\\bar{a} \\in S^{|\\bar{x}|}$, one has\n$$\n\\mathfrak{M} \\upharpoonright S \\models \\varphi(\\bar{a}) \\quad \\text{iff} \\quad (\\mathfrak{M}, U^{\\mathfrak{M}} := S) \\models \\varphi^{U}(\\bar{a}).\n$$\nThe map $\\varphi \\mapsto \\varphi^{U}$ is given by restricting quantifiers to $U$: atomic formulas and Boolean combinations are left unchanged, $(\\exists y\\, \\psi)^{U} := \\exists y\\,(U(y) \\wedge \\psi^{U})$ and $(\\forall y\\, \\psi)^{U} := \\forall y\\,(U(y) \\rightarrow \\psi^{U})$. Consequently, if $S$ is definable by a $\\sigma$-formula $\\delta(x)$, the property of $\\mathfrak{M} \\upharpoonright S$ defined by $\\varphi$ is defined in $\\mathfrak{M}$ by the $\\sigma$-formula obtained from $\\varphi^{U}$ by substituting $\\delta$ for $U$. Concrete example: in the graph language $\\sigma = \\{E\\}$ expanded by a unary predicate $R$, let $\\delta(x) := R(x)$ so that $S = \\{a \\in M : R(a)\\}$. For $\\varphi$ saying “there is a triangle,” e.g., \n$$\n\\varphi := \\exists x \\exists y \\exists z \\Big( x \\neq y \\wedge y \\neq z \\wedge z \\neq x \\wedge E(x,y) \\wedge E(y,z) \\wedge E(z,x) \\Big),\n$$\nthe relativization $\\varphi^{U}$ is obtained by inserting $U$-guards in all quantifiers. Replacing $U$ by $R$ yields a $\\sigma \\cup \\{R\\}$-formula that, in any $(\\mathfrak{M},R)$, holds exactly when the induced subgraph on the $R$-vertices contains a triangle.\n\nB. Closure under relativization requires introducing a new relation symbol $R_{U}$ for each relation $R \\in \\sigma$ to represent its restriction to $U$, and only after such an expansion can one express properties of induced substructures; without expanding the signature by all $R_{U}$, the transfer of definability fails even for simple existential formulas.\n\nC. Relativization to a unary predicate $U$ is not available in first-order logic; to speak about a definable substructure one must quantify second-order over $U$, so closure under relativization is a strictly second-order property and cannot be used to transfer definability within first-order contexts.\n\nD. Closure under relativization only ensures that universal sentences are preserved to substructures (by restricting domains), but existential content is lost; hence definability transfers only for $\\forall$-sentences, and there is no general relativization scheme for arbitrary formulas.\n\nE. The correct way to relativize is to leave $\\exists$-quantifiers unchanged and replace only $\\forall y\\, \\psi$ by $\\forall y\\,(U(y) \\rightarrow \\psi)$, while also rewriting every atomic $R(t_{1},\\dots,t_{n})$ as $U(t_{1}) \\wedge \\cdots \\wedge U(t_{n}) \\wedge R(t_{1},\\dots,t_{n})$; this ensures that assignments outside $U$ are excluded and is both necessary and sufficient for transferring definability to definable substructures.", "solution": "The user wants me to act as a meticulous and exacting STEM professor to validate and solve a problem in mathematical logic.\n\n### Problem Validation\n\nFirst, I will assess the validity of the problem statement.\n\n**Step 1: Extract Givens**\n- $\\sigma$: a relational vocabulary.\n- $\\mathcal{L}$: a logic on $\\sigma$-structures.\n- $\\mathcal{L}$ is closed under Boolean connectives.\n- $\\mathcal{L}$ is closed under relativization to a new unary predicate symbol.\n- (i) Definition of induced $\\sigma$-substructure: For a $\\sigma$-structure $\\mathfrak{M}$ with universe $M$ and a subset $S \\subseteq M$, the induced $\\sigma$-substructure $\\mathfrak{M} \\upharpoonright S$ has universe $S$ and interprets each relation symbol $R \\in \\sigma$ by the restriction of $R^{\\mathfrak{M}}$ to tuples from $S$.\n- (ii) Definition of a definable subset: A subset $S \\subseteq M$ is definable if there is a formula $\\delta(x) \\in \\mathcal{L}$ with one free variable such that $S = \\{ a \\in M : \\mathfrak{M} \\models \\delta(a) \\}$.\n- (iii) Definition of an expansion: For a new unary predicate symbol $U \\notin \\sigma$, an interpretation $(\\mathfrak{M}, U)$ is a $\\sigma \\cup \\{U\\}$-structure expanding $\\mathfrak{M}$ by a choice of $U^{\\mathfrak{M}} \\subseteq M$.\n- Question: Choose the option that correctly explains how closure under relativization in $\\mathcal{L}$ enables the transfer of definability from whole structures to definable substructures, and that provides a correct concrete example using a unary predicate symbol $U$.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem statement poses a question about fundamental concepts in model theory, a subfield of mathematical logic. The concepts listed—relational vocabulary, abstract logic $\\mathcal{L}$, induced substructure, definable sets, and relativization—are standard and rigorously defined in this field. The framing of the question, which connects these concepts, is central to the study of the expressive power of logics and is particularly relevant to the context of Lindström's theorem, which characterizes first-order logic in terms of properties like closure under relativization.\n\n- **Scientific Groundedness**: The problem is firmly grounded in established mathematical logic. All definitions and premises are standard.\n- **Well-Posedness**: The question asks for a correct explanation among a set of options. This is a well-defined task. It has a unique correct answer based on the standard definitions of the concepts involved.\n- **Objectivity**: The language is formal, precise, and devoid of any subjectivity.\n\nThe problem statement has no discernible flaws. It does not violate any scientific principles, is not incomplete or contradictory, and is not ill-posed. The concepts are formal and central to the topic.\n\n**Step 3: Verdict and Action**\nThe problem statement is **valid**. I will proceed to derive the solution and evaluate the options.\n\n### Solution Derivation\n\nThe core of the problem is the concept of \"closure under relativization\" for a logic $\\mathcal{L}$. This property asserts that for any formula $\\varphi \\in \\mathcal{L}$ and any new unary predicate symbol $U$, there exists another formula $\\varphi^U \\in \\mathcal{L}$ (in the expanded vocabulary $\\sigma \\cup \\{U\\}$) that expresses the meaning of $\\varphi$ when interpreted in a substructure.\n\nFormally, for any $\\sigma$-structure $\\mathfrak{M}$, any non-empty subset $S \\subseteq M$, and any assignment $\\bar{a}$ of the free variables of $\\varphi$ from $S$, the following equivalence must hold:\n$$\n\\mathfrak{M} \\upharpoonright S \\models \\varphi(\\bar{a}) \\quad \\text{iff} \\quad (\\mathfrak{M}, U^{\\mathfrak{M}} := S) \\models \\varphi^{U}(\\bar{a})\n$$\nwhere $(\\mathfrak{M}, U^{\\mathfrak{M}} := S)$ is the expansion of $\\mathfrak{M}$ where the new symbol $U$ is interpreted as the set $S$.\n\nFor first-order logic, which is the implicit context for such questions, the relativized formula $\\varphi^U$ is constructed by induction on the structure of $\\varphi$:\n1.  **Atomic formulas**: If $\\varphi$ is an atomic formula, e.g., $R(t_1, \\dots, t_k)$, then $\\varphi^U$ is simply $\\varphi$. The terms $t_i$ refer to variables or constants. The variables are either free (in which case their assignment $\\bar{a}$ is from $S$) or bound. If bound, the quantifiers will be restricted as described below. Hence, the atomic formula is evaluated on elements that are already constrained to be in the substructure's universe.\n2.  **Boolean connectives**: Relativization distributes over Boolean connectives. For instance, $(\\neg \\psi)^U := \\neg (\\psi^U)$ and $(\\psi_1 \\wedge \\psi_2)^U := \\psi_1^U \\wedge \\psi_2^U$.\n3.  **Quantifiers**: This is the most critical part. To quantify over the universe $S$ of the substructure $\\mathfrak{M} \\upharpoonright S$, we must restrict the quantifiers in $\\mathfrak{M}$ to the set $U^{\\mathfrak{M}} = S$.\n    - $(\\exists y \\, \\psi)^U := \\exists y \\, (U(y) \\wedge \\psi^U)$. This correctly translates \"there exists a $y$ in $S$ such that $\\psi$ holds\" into the language of the expanded structure $(\\mathfrak{M}, S)$.\n    - $(\\forall y \\, \\psi)^U := \\forall y \\, (U(y) \\rightarrow \\psi^U)$. This correctly translates \"for all $y$ in $S$, $\\psi$ holds\".\n\nThe problem further asks how this enables the transfer of definability. If the subset $S$ is itself definable in $\\mathfrak{M}$ by a $\\sigma$-formula $\\delta(x)$, i.e., $S = \\{ a \\in M : \\mathfrak{M} \\models \\delta(a) \\}$, then we can substitute $\\delta(t)$ for every occurrence of $U(t)$ in the formula $\\varphi^U$. The result is a formula $\\varphi^\\delta$ purely in the original vocabulary $\\sigma$. The equivalence becomes:\n$$\n\\mathfrak{M} \\upharpoonright S \\models \\varphi(\\bar{a}) \\quad \\text{iff} \\quad \\mathfrak{M} \\models \\varphi^{\\delta}(\\bar{a})\n$$\nThis demonstrates that a property definable by $\\varphi$ in the definable substructure $\\mathfrak{M} \\upharpoonright S$ corresponds to a property definable by $\\varphi^{\\delta}$ in the original structure $\\mathfrak{M}$.\n\n### Option-by-Option Analysis\n\n**A. If $\\mathcal{L}$ is closed under relativization, then ...**\nThis option presents the formal equivalence that defines relativization:\n$$\n\\mathfrak{M} \\upharpoonright S \\models \\varphi(\\bar{a}) \\quad \\text{iff} \\quad (\\mathfrak{M}, U^{\\mathfrak{M}} := S) \\models \\varphi^{U}(\\bar{a})\n$$\nIt then provides the standard and correct inductive construction for $\\varphi^U$: atomic formulas are unchanged, Boolean connectives distribute, and quantifiers are restricted using guards: $(\\exists y\\, \\psi)^{U} := \\exists y\\,(U(y) \\wedge \\psi^{U})$ and $(\\forall y\\, \\psi)^{U} := \\forall y\\,(U(y) \\rightarrow \\psi^{U})$.\nIt proceeds to correctly explain the transfer of definability: if $S$ is definable by $\\delta(x)$, one can substitute $\\delta$ for $U$ in $\\varphi^U$ to obtain a $\\sigma$-formula expressing the property in the original structure.\nThe concrete example is also correct. The formula $\\varphi$ expresses the existence of a triangle. To check for a triangle within the subgraph induced by vertices in a set $R$, one must relativize $\\varphi$ to $R$. The relativized formula is `∃x(R(x) ∧ ∃y(R(y) ∧ ∃z(R(z) ∧ ...)))`, which holds if and only if there is a triangle with all three vertices in the set defined by $R$. This option accurately describes the entire process.\nVerdict: **Correct**.\n\n**B. Closure under relativization requires introducing a new relation symbol $R_{U}$...**\nThis option claims that for each relation $R \\in \\sigma$, a new symbol $R_U$ must be introduced to represent its restriction to $U$. This is incorrect. The relativization procedure does not require altering the original relational symbols. The formula $\\varphi^U$ is in the signature $\\sigma \\cup \\{U\\}$. The interpretation of symbols $R \\in \\sigma$ remains unchanged in the expanded structure $(\\mathfrak{M}, U)$. The restriction of the quantifiers is sufficient to ensure that when an atomic formula like $R(x_1, \\dots, x_n)$ is evaluated, the variables $x_1, \\dots, x_n$ are already guaranteed to refer to elements of $U^{\\mathfrak{M}}$. The truth of $R(x_1, \\dots, x_n)$ in the expanded structure on these elements is identical to its truth in the induced substructure. No new symbols like $R_U$ are needed.\nVerdict: **Incorrect**.\n\n**C. Relativization to a unary predicate $U$ is not available in first-order logic...**\nThis statement is factually incorrect. Relativization is a standard syntactic transformation defined for any first-order formula, as described in the analysis of option A. It is a fundamental tool in the model theory of first-order logic. The claim that it requires second-order quantification is also false. The symbol $U$ is added to the signature and treated as a constant predicate symbol; it is not a variable over which one quantifies. The logic $\\mathcal{L}$ is simply required to be able to express formulas over the expanded signature $\\sigma \\cup \\{U\\}$.\nVerdict: **Incorrect**.\n\n**D. Closure under relativization only ensures that universal sentences are preserved to substructures...**\nThis confuses relativization with preservation theorems. It is a known result (the Łoś-Tarski theorem) that sentences preserved under substructures are equivalent to universal sentences. However, relativization is a much more general syntactic tool that applies to *any* formula, not just universal ones. It provides a translation for arbitrary properties, including existential ones. The claim that existential content is lost is false; the relativization of an existential quantifier, $(\\exists y\\, \\psi)^{U} := \\exists y\\,(U(y) \\wedge \\psi^{U})$, explicitly and correctly captures the existential quantification over the subset $U$. The claim that there is no general scheme is also false, as such a scheme is well-known and described in option A.\nVerdict: **Incorrect**.\n\n**E. The correct way to relativize is to leave $\\exists$-quantifiers unchanged...**\nThis option proposes an alternative, incorrect scheme for relativization. Let's analyze its proposal:\n- $(\\exists y \\, \\psi)^E := \\exists y \\, (\\psi^E)$\n- $(\\forall y \\, \\psi)^E := \\forall y \\, (U(y) \\rightarrow \\psi^E)$\n- $(R(t_1, \\dots, t_n))^E := U(t_1) \\wedge \\dots \\wedge U(t_n) \\wedge R(t_1, \\dots, t_n)$\n\nLet's test this with a formula involving negation, e.g., $\\varphi := \\exists y \\, \\neg P(y)$ for a unary predicate $P$.\nWe want to express that in the substructure $\\mathfrak{M} \\upharpoonright S$, there exists an element that does not satisfy $P$. This means there is some $a \\in S$ such that $a \\notin P^{\\mathfrak{M}}$. The correct corresponding formula in $(\\mathfrak{M}, S)$ is $\\exists y \\, (U(y) \\wedge \\neg P(y))$.\n\nAccording to option E's scheme:\n- $(\\exists y \\, \\neg P(y))^E = \\exists y \\, ((\\neg P(y))^E)$\n- $(\\neg P(y))^E = \\neg((P(y))^E)$\n- $(P(y))^E = U(y) \\wedge P(y)$\n- Combining these, we get $\\exists y \\, \\neg(U(y) \\wedge P(y))$, which is logically equivalent to $\\exists y \\, (\\neg U(y) \\vee \\neg P(y))$.\n\nThis resulting formula is not equivalent to the correct one. For example, if $S$ is a proper subset of $M$, there exists an element $b \\in M \\setminus S$. For this $b$, $\\neg U(b)$ is true, making the formula $\\exists y \\, (\\neg U(y) \\vee \\neg P(y))$ true, regardless of the properties of elements inside $S$. This shows the scheme in option E is flawed. The standard method of restricting quantifiers, as in option A, is the correct one.\nVerdict: **Incorrect**.", "answer": "$$\\boxed{A}$$", "id": "2976150"}]}