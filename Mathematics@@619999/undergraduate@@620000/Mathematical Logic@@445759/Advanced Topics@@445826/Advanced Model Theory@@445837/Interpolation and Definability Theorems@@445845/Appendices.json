{"hands_on_practices": [{"introduction": "The Craig Interpolation Theorem guarantees the existence of an interpolant, but how is one actually found? This exercise provides a hands-on opportunity to construct an interpolant in the straightforward setting of propositional logic [@problem_id:3044744]. By systematically eliminating non-shared variables through a process of propositional quantification, you will see how the interpolant naturally emerges as the logical content of the premise that is relevant to the conclusion.", "problem": "Let $\\varphi$ and $\\psi$ be propositional formulas in Conjunctive Normal Form (CNF), where CNF means a conjunction of disjunctions of literals. Consider the specific CNF pair\n$$\n\\varphi \\;=\\; (p \\vee q)\\ \\wedge\\ (\\neg p \\vee r)\\ \\wedge\\ (\\neg q \\vee r),\n$$\n$$\n\\psi \\;=\\; r,\n$$\nwhere $p$, $q$, and $r$ are propositional variables, and $\\neg$ denotes negation while $\\vee$ and $\\wedge$ denote disjunction and conjunction, respectively. The shared vocabulary is $\\mathrm{Var}(\\varphi) \\cap \\mathrm{Var}(\\psi) = \\{r\\}$.\n\nUsing only fundamental definitions of propositional semantics (entailment), Conjunctive Normal Form (CNF), and the semantics of propositional quantification (existential quantification $\\exists$ defined by $\\exists x\\,\\alpha \\equiv \\alpha[x := \\top] \\vee \\alpha[x := \\bot]$), compute a Craig interpolant $\\theta$ for the entailment $\\varphi \\models \\psi$ that\n- uses only the shared variable(s),\n- satisfies $\\varphi \\models \\theta$, and\n- satisfies $\\theta \\models \\psi$.\n\nExplicitly perform the elimination of the non-shared variables of $\\varphi$ by propositional existential quantification to construct $\\theta$, and then verify the two entailments from first principles. Express your final answer as the simplified closed-form formula for $\\theta$.", "solution": "The problem is validated as being well-posed, scientifically grounded in mathematical logic, and free of any contradictions or ambiguities. It poses a standard, solvable task of constructing a Craig interpolant using a prescribed method.\n\nThe given propositional formulas are in Conjunctive Normal Form (CNF):\n$$\n\\varphi \\;=\\; (p \\vee q)\\ \\wedge\\ (\\neg p \\vee r)\\ \\wedge\\ (\\neg q \\vee r)\n$$\n$$\n\\psi \\;=\\; r\n$$\nThe set of propositional variables for each formula is $\\mathrm{Var}(\\varphi) = \\{p, q, r\\}$ and $\\mathrm{Var}(\\psi) = \\{r\\}$. The shared vocabulary is the intersection of these two sets: $\\mathrm{Var}(\\varphi) \\cap \\mathrm{Var}(\\psi) = \\{r\\}$.\n\nA Craig interpolant, denoted by $\\theta$, for a valid entailment $\\varphi \\models \\psi$ is a formula that must satisfy three fundamental properties:\n$1$. The vocabulary of the interpolant is limited to the shared vocabulary of the original formulas: $\\mathrm{Var}(\\theta) \\subseteq \\mathrm{Var}(\\varphi) \\cap \\mathrm{Var}(\\psi)$. In this case, $\\mathrm{Var}(\\theta) \\subseteq \\{r\\}$.\n$2$. The first formula must entail the interpolant: $\\varphi \\models \\theta$.\n$3$. The interpolant must entail the second formula: $\\theta \\models \\psi$.\n\nThe problem specifies that $\\theta$ should be derived by existentially quantifying out the non-shared variables from $\\varphi$. The non-shared variables are those in $\\mathrm{Var}(\\varphi)$ but not in $\\mathrm{Var}(\\psi)$, which are the variables in the set $\\{p, q\\}$. Therefore, the construction of $\\theta$ is as follows:\n$$\n\\theta = \\exists p \\exists q \\, \\varphi\n$$\nThe definition of propositional existential quantification for a variable $x$ in a formula $\\alpha$ is given by $\\exists x\\,\\alpha \\equiv \\alpha[x := \\top] \\vee \\alpha[x := \\bot]$, where $\\top$ denotes truth (true) and $\\bot$ denotes falsehood (false). The order of quantification for different variables is immaterial. We will first eliminate $q$ and then $p$.\n\nStep $1$: Eliminate the variable $q$ from $\\varphi$.\n$$\n\\exists q \\, \\varphi \\equiv \\varphi[q := \\top] \\vee \\varphi[q := \\bot]\n$$\nWe perform the substitutions into $\\varphi$:\nFor the left side of the disjunction, $\\varphi[q := \\top]$:\n$$\n\\varphi[q := \\top] = (p \\vee \\top) \\wedge (\\neg p \\vee r) \\wedge (\\neg \\top \\vee r)\n$$\nApplying the standard logical equivalences $\\alpha \\vee \\top \\equiv \\top$ and $\\neg \\top \\equiv \\bot$:\n$$\n\\varphi[q := \\top] \\equiv \\top \\wedge (\\neg p \\vee r) \\wedge (\\bot \\vee r)\n$$\nApplying the equivalences $\\top \\wedge \\alpha \\equiv \\alpha$ and $\\bot \\vee \\alpha \\equiv \\alpha$:\n$$\n\\varphi[q := \\top] \\equiv (\\neg p \\vee r) \\wedge r\n$$\nFor the right side of the disjunction, $\\varphi[q := \\bot]$:\n$$\n\\varphi[q := \\bot] = (p \\vee \\bot) \\wedge (\\neg p \\vee r) \\wedge (\\neg \\bot \\vee r)\n$$\nApplying the equivalences $\\alpha \\vee \\bot \\equiv \\alpha$ and $\\neg \\bot \\equiv \\top$:\n$$\n\\varphi[q := \\bot] \\equiv p \\wedge (\\neg p \\vee r) \\wedge (\\top \\vee r)\n$$\nApplying the equivalences $\\alpha \\wedge \\top \\equiv \\alpha$ and $\\alpha \\vee \\top \\equiv \\top$:\n$$\n\\varphi[q := \\bot] \\equiv p \\wedge (\\neg p \\vee r)\n$$\nCombining these two results, we get:\n$$\n\\exists q \\, \\varphi \\equiv ((\\neg p \\vee r) \\wedge r) \\vee (p \\wedge (\\neg p \\vee r))\n$$\nWe simplify this expression. For the first term, we use the absorption law, $(A \\vee B) \\wedge B \\equiv B$, with $A = \\neg p$ and $B = r$, which yields $r$. For the second term, we use the distributive law, $A \\wedge (B \\vee C) \\equiv (A \\wedge B) \\vee (A \\wedge C)$, which gives $(p \\wedge \\neg p) \\vee (p \\wedge r)$. Since $p \\wedge \\neg p \\equiv \\bot$, this simplifies to $\\bot \\vee (p \\wedge r) \\equiv p \\wedge r$.\nSo, the expression becomes:\n$$\n\\exists q \\, \\varphi \\equiv r \\vee (p \\wedge r)\n$$\nUsing the absorption law again, $A \\vee (B \\wedge A) \\equiv A$, with $A=r$ and $B=p$, we obtain the final simplification:\n$$\n\\exists q \\, \\varphi \\equiv r\n$$\n\nStep $2$: Eliminate the variable $p$ from the intermediate result.\n$$\n\\theta = \\exists p \\, (\\exists q \\, \\varphi) = \\exists p \\, (r)\n$$\nSince the formula $r$ does not contain the variable $p$, the existential quantification has no effect. Applying the definition, $\\exists p \\, r \\equiv r[p := \\top] \\vee r[p := \\bot] \\equiv r \\vee r \\equiv r$.\nThus, the computed interpolant is:\n$$\n\\theta = r\n$$\n\nStep $3$: Verify that $\\theta = r$ is a valid interpolant.\nWe check the three required properties from first principles.\n\n$1$. Vocabulary: $\\mathrm{Var}(\\theta) = \\mathrm{Var}(r) = \\{r\\}$. This is a subset of the shared vocabulary, $\\{r\\}$, so the condition $\\mathrm{Var}(\\theta) \\subseteq \\{r\\}$ is satisfied.\n\n$2$. Entailment $\\varphi \\models \\theta$: This requires us to show $\\varphi \\models r$. We must demonstrate that every model of $\\varphi$ is also a model of $r$. We can prove this by contradiction. Assume there exists a truth valuation $v$ such that $v(\\varphi) = \\top$ but $v(r) = \\bot$.\nIf $v(r) = \\bot$, the formula $\\varphi$ becomes:\n$$\nv((p \\vee q) \\wedge (\\neg p \\vee \\bot) \\wedge (\\neg q \\vee \\bot)) = \\top\n$$\nThis expression simplifies to:\n$$\nv((p \\vee q) \\wedge \\neg p \\wedge \\neg q) = \\top\n$$\nFor a conjunction to be true, all of its conjuncts must be true. This implies:\ni. $v(p \\vee q) = \\top$\nii. $v(\\neg p) = \\top \\implies v(p) = \\bot$\niii. $v(\\neg q) = \\top \\implies v(q) = \\bot$\nHowever, if we substitute $v(p) = \\bot$ and $v(q) = \\bot$ into the first condition, we get $v(\\bot \\vee \\bot) = \\bot$. This contradicts the requirement that $v(p \\vee q) = \\top$.\nThe contradiction demonstrates that our initial assumption was false. Thus, no model of $\\varphi$ can make $r$ false. The entailment $\\varphi \\models r$ is valid.\n\n$3$. Entailment $\\theta \\models \\psi$: This requires us to show $r \\models r$. We must demonstrate that every model of the antecedent, $r$, is also a model of the consequent, $r$. Let $v$ be any model such that $v(r) = \\top$. The goal is to show that $v$ is a model for the consequent, which means showing $v(r) = \\top$. This is true by our initial assumption. The entailment is tautologically valid.\n\nAll three conditions for a Craig interpolant are met. The simplified closed-form formula for the interpolant is $r$.", "answer": "$$\n\\boxed{r}\n$$", "id": "3044744"}, {"introduction": "Moving from propositional to first-order logic, this practice continues our exploration of constructing interpolants [@problem_id:3044820]. The exercise focuses on quantifier-free formulas, allowing you to isolate the core logical deduction that underpins the entailment without the added complexity of quantifiers. Your task is to analyze the logical structure, identify the 'shared reason' for the entailment, and formalize it as an interpolant using only the common predicate symbols.", "problem": "Let $\\mathcal{L}$ be a first-order language with equality and the following predicate symbols: a binary predicate $R(\\cdot,\\cdot)$ and unary predicates $S(\\cdot)$, $T(\\cdot)$, $U(\\cdot)$, and $V(\\cdot)$. Consider the quantifier-free formulas with free variables $\\bar{x}=(x,y)$:\n$$\n\\varphi(x,y)\\;:=\\;\\bigl(S(x)\\,\\wedge\\,(S(x)\\rightarrow R(x,y))\\bigr)\\,\\wedge\\,\\bigl(U(y)\\,\\vee\\,V(x)\\bigr)\\,\\wedge\\,(y=y),\n$$\n$$\n\\psi(x,y)\\;:=\\;\\bigl(R(x,y)\\,\\vee\\,T(y)\\bigr)\\,\\wedge\\,(x=x).\n$$\nWork in standard Tarskian semantics for first-order logic with equality, where the equality symbol $=$ is interpreted as actual identity. Use only the fundamental definitions of satisfaction $\\models$ for Boolean connectives and the identity symbol to reason about entailment.\n\nTasks:\n- First, using only the semantics of the connectives and equality, justify that $\\varphi(x,y)\\models\\psi(x,y)$.\n- Determine the set of predicate symbols occurring in $\\varphi$ and in $\\psi$, and compute their intersection (the common vocabulary).\n- Construct an explicit quantifier-free interpolant $\\theta(x,y)$ using only the common predicate symbols, such that $\\varphi(x,y)\\models\\theta(x,y)$ and $\\theta(x,y)\\models\\psi(x,y)$. Simplify $\\theta(x,y)$ to a Boolean combination of atomic formulas. \n\nProvide your final answer as the single simplified analytic expression for $\\theta(x,y)$ (no additional commentary).", "solution": "The problem statement is first validated according to the specified criteria.\n\n### Step 1: Extract Givens\n- **Language $\\mathcal{L}$**: A first-order language with equality.\n- **Predicate Symbols**: A binary predicate $R(\\cdot,\\cdot)$ and unary predicates $S(\\cdot)$, $T(\\cdot)$, $U(\\cdot)$, and $V(\\cdot)$.\n- **Formula $\\varphi(x,y)$**: $\\varphi(x,y)\\;:=\\;\\bigl(S(x)\\,\\wedge\\,(S(x)\\rightarrow R(x,y))\\bigr)\\,\\wedge\\,\\bigl(U(y)\\,\\vee\\,V(x)\\bigr)\\,\\wedge\\,(y=y)$.\n- **Formula $\\psi(x,y)$**: $\\psi(x,y)\\;:=\\;\\bigl(R(x,y)\\,\\vee\\,T(y)\\bigr)\\,\\wedge\\,(x=x)$.\n- **Semantic Framework**: Standard Tarskian semantics for first-order logic, where $=$ is interpreted as identity.\n- **Tasks**:\n    1. Justify the entailment $\\varphi(x,y)\\models\\psi(x,y)$ using the semantics of the logical connectives and equality.\n    2. Determine the set of predicate symbols common to $\\varphi$ and $\\psi$.\n    3. Construct a quantifier-free interpolant $\\theta(x,y)$ using only the common vocabulary, such that $\\varphi(x,y)\\models\\theta(x,y)$ and $\\theta(x,y)\\models\\psi(x,y)$, and simplify it.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is a well-defined exercise in mathematical logic.\n- **Scientifically Grounded**: The problem is set in first-order logic, using standard Tarskian semantics and concepts like entailment ($\\models$) and interpolation. These are fundamental topics in mathematical logic.\n- **Well-Posed**: The formulas $\\varphi(x,y)$ and $\\psi(x,y)$ are syntactically correct and unambiguous. The question asks for a proof of entailment and the construction of an interpolant, which is a standard procedure. Craig's interpolation theorem guarantees the existence of such an interpolant.\n- **Objective**: The problem is stated in the formal language of logic, free from any subjective or ambiguous terminology.\n\n### Step 3: Verdict and Action\nThe problem is **valid**. It is self-contained, logically consistent, and grounded in established mathematical principles. A complete solution will be provided.\n\n### Solution\n\nThe solution proceeds by addressing each of the three tasks in order.\n\n**Task 1: Justification of the entailment $\\varphi(x,y)\\models\\psi(x,y)$**\n\nTo show that $\\varphi(x,y)\\models\\psi(x,y)$, we must demonstrate that for any $\\mathcal{L}$-structure $\\mathcal{M}$ and any assignment of elements $a,b$ from the domain of $\\mathcal{M}$ to the variables $x,y$ respectively, if $\\mathcal{M}\\models\\varphi(a,b)$, then it must be that $\\mathcal{M}\\models\\psi(a,b)$.\n\nLet $\\mathcal{M}$ be an arbitrary $\\mathcal{L}$-structure, and let $a,b$ be elements from its domain. Assume that $\\mathcal{M}\\models\\varphi(a,b)$. By the definition of $\\varphi(x,y)$, this means:\n$$\n\\mathcal{M}\\models\\bigl(S(a)\\,\\wedge\\,(S(a)\\rightarrow R(a,b))\\bigr)\\,\\wedge\\,\\bigl(U(b)\\,\\vee\\,V(a)\\bigr)\\,\\wedge\\,(b=b)\n$$\nAccording to the semantics of the conjunction connective ($\\wedge$), each conjunct must be true in $\\mathcal{M}$. We focus on the first conjunct:\n$$\n\\mathcal{M}\\models S(a)\\,\\wedge\\,(S(a)\\rightarrow R(a,b))\n$$\nThis implies that both $\\mathcal{M}\\models S(a)$ and $\\mathcal{M}\\models S(a)\\rightarrow R(a,b)$ are true.\nBy the semantics of the material implication ($\\rightarrow$), if the antecedent ($S(a)$) is true, then the consequent ($R(a,b)$) must also be true for the implication to hold. Since we have established $\\mathcal{M}\\models S(a)$, we can deduce that $\\mathcal{M}\\models R(a,b)$.\n\nNow we must show that this implies $\\mathcal{M}\\models\\psi(a,b)$. The formula $\\psi(a,b)$ is:\n$$\n\\psi(a,b) \\;:=\\; \\bigl(R(a,b)\\,\\vee\\,T(b)\\bigr)\\,\\wedge\\,(a=a)\n$$\nTo show that $\\mathcal{M}\\models\\psi(a,b)$, we must show both conjuncts are true.\n1. Consider the first conjunct, $R(a,b)\\,\\vee\\,T(b)$. We have already deduced that $\\mathcal{M}\\models R(a,b)$. By the semantics of the disjunction operator ($\\vee$), if at least one of the disjuncts is true, the entire formula is true. Therefore, $\\mathcal{M}\\models R(a,b)\\,\\vee\\,T(b)$.\n2. Consider the second conjunct, $a=a$. In first-order logic with equality, the formula $x=x$ is a logical axiom (or a direct consequence of the interpretation of the equality symbol as identity), meaning it is true in any structure for any assignment. Thus, $\\mathcal{M}\\models a=a$.\n\nSince both conjuncts of $\\psi(a,b)$ are true in $\\mathcal{M}$ under the assumption that $\\varphi(a,b)$ is true, we conclude that $\\mathcal{M}\\models\\psi(a,b)$. As this argument holds for any structure $\\mathcal{M}$ and any assignment $(a,b)$, the entailment $\\varphi(x,y)\\models\\psi(x,y)$ is justified.\n\n**Task 2: Determination of the common vocabulary**\n\nLet $\\text{Pred}(\\chi)$ denote the set of non-logical predicate symbols present in a formula $\\chi$.\nFor the formula $\\varphi(x,y) = \\bigl(S(x)\\,\\wedge\\,(S(x)\\rightarrow R(x,y))\\bigr)\\,\\wedge\\,\\bigl(U(y)\\,\\vee\\,V(x)\\bigr)\\,\\wedge\\,(y=y)$, the predicate symbols used are $S$, $R$, $U$, and $V$. Thus, $\\text{Pred}(\\varphi) = \\{S, R, U, V\\}$.\nFor the formula $\\psi(x,y) = \\bigl(R(x,y)\\,\\vee\\,T(y)\\bigr)\\,\\wedge\\,(x=x)$, the predicate symbols used are $R$ and $T$. Thus, $\\text{Pred}(\\psi) = \\{R, T\\}$.\n\nThe common vocabulary is the intersection of these two sets:\n$$\n\\text{Pred}(\\varphi) \\cap \\text{Pred}(\\psi) = \\{S, R, U, V\\} \\cap \\{R, T\\} = \\{R\\}\n$$\nThe only predicate symbol common to both formulas is $R$.\n\n**Task 3: Construction and simplification of the interpolant $\\theta(x,y)$**\n\nAn interpolant $\\theta(x,y)$ for the entailment $\\varphi(x,y)\\models\\psi(x,y)$ must satisfy three conditions:\n1. $\\varphi(x,y)\\models\\theta(x,y)$\n2. $\\theta(x,y)\\models\\psi(x,y)$\n3. $\\text{Pred}(\\theta) \\subseteq \\text{Pred}(\\varphi) \\cap \\text{Pred}(\\psi)$, which means $\\text{Pred}(\\theta) \\subseteq \\{R\\}$.\n\nTo find a suitable $\\theta$, we first simplify the given formulas using logical equivalences.\nThe subformula $S(x)\\,\\wedge\\,(S(x)\\rightarrow R(x,y))$ is equivalent to $S(x)\\,\\wedge\\,(\\neg S(x) \\vee R(x,y))$. By distributivity, this is $(S(x)\\wedge\\neg S(x)) \\vee (S(x)\\wedge R(x,y))$, which simplifies to $\\bot \\vee (S(x)\\wedge R(x,y))$, and further to $S(x)\\wedge R(x,y)$.\nThe subformula $y=y$ is a tautology, equivalent to $\\top$.\nThus, $\\varphi(x,y)$ is logically equivalent to $(S(x)\\wedge R(x,y)) \\wedge (U(y) \\vee V(x))$.\n\nThe subformula $x=x$ in $\\psi(x,y)$ is also a tautology $\\top$.\nThus, $\\psi(x,y)$ is logically equivalent to $R(x,y)\\vee T(y)$.\n\nThe entailment is equivalent to:\n$$\n(S(x)\\wedge R(x,y)) \\wedge (U(y) \\vee V(x)) \\models R(x,y)\\vee T(y)\n$$\nFrom the reasoning in Task 1, any model that satisfies $\\varphi(x,y)$ must satisfy $R(x,y)$. This suggests an obvious candidate for the interpolant. Let us propose:\n$$\n\\theta(x,y) := R(x,y)\n$$\nWe now verify if this candidate satisfies the three conditions for an interpolant.\n1. **Check $\\varphi(x,y)\\models R(x,y)$**: Assume $\\mathcal{M}\\models\\varphi(a,b)$. As shown in Task 1, this implies $\\mathcal{M}\\models R(a,b)$. Thus, this condition holds.\n2. **Check $R(x,y)\\models\\psi(x,y)$**: Assume $\\mathcal{M}\\models R(a,b)$. We need to show $\\mathcal{M}\\models\\psi(a,b)$, which is $\\mathcal{M}\\models (R(a,b) \\vee T(b)) \\wedge (a=a)$. Since $\\mathcal{M}\\models R(a,b)$, it follows by the semantics of $\\vee$ that $\\mathcal{M}\\models R(a,b) \\vee T(b)$. The second part, $a=a$, is always true. Thus, the conjunction is true, and the condition holds.\n3. **Check Vocabulary**: The only predicate symbol in $\\theta(x,y)=R(x,y)$ is $R$. Since the common vocabulary is $\\{R\\}$, the condition $\\text{Pred}(\\theta) \\subseteq \\{R\\}$ is satisfied.\n\nThe formula $\\theta(x,y) = R(x,y)$ is a valid interpolant. It is an atomic formula, which is the simplest possible Boolean combination.", "answer": "$$\n\\boxed{R(x,y)}\n$$", "id": "3044820"}, {"introduction": "Beth's Definability Theorem establishes a deep connection between a property being uniquely specified (implicitly definable) and having an explicit formula. This advanced exercise bridges theory and practice by applying these concepts to the familiar algebraic structure of a group [@problem_id:3044793]. You will formalize the definition of a group's center to show it is implicitly definable, and then leverage this to derive the explicit first-order formula, demonstrating the power of definability theorems in action.", "problem": "Let $\\mathcal{L} = \\{\\cdot, {}^{-1}, e\\}$ be the first-order language of group theory, and let $T_{\\mathrm{grp}}$ be the standard first-order axiomatization of groups in $\\mathcal{L}$. Consider the expansion $\\mathcal{L}' = \\mathcal{L} \\cup \\{Z\\}$ by a new unary predicate symbol $Z$. For a group $\\mathcal{M}$, the intended reading of $Z(x)$ is that $x$ lies in the center of $\\mathcal{M}$.\n\nYou will analyze implicit and explicit definability of $Z$ over $T_{\\mathrm{grp}}$, and then determine the minimal quantifier complexity required to explicitly define $Z$ in the base language $\\mathcal{L}$.\n\nTasks:\n1. Using only core definitions of implicit definability and the Group Axioms, formulate a set of $\\mathcal{L}'$-sentences that stipulate that $Z(x)$ is precisely the set of elements that commute with all elements of the underlying group. Prove that, relative to $T_{\\mathrm{grp}}$, these sentences make $Z$ implicitly definable, meaning that for any fixed $\\mathcal{L}$-structure $\\mathcal{M} \\models T_{\\mathrm{grp}}$ there is at most one possible interpretation of $Z$ that turns $\\mathcal{M}$ into a model of your $\\mathcal{L}'$-theory.\n\n2. Invoke Beth’s Definability Theorem to conclude that $Z$ is explicitly definable in the base language $\\mathcal{L}$ over $T_{\\mathrm{grp}}$. Then, from first principles and without using any shortcut formulas, derive an explicit $\\mathcal{L}$-formula $\\varphi(x)$ that defines the center in every group.\n\n3. For a first-order formula $\\psi$, the quantifier rank $\\mathrm{qr}(\\psi)$ is the maximum number of nested quantifiers in $\\psi$. Among all $\\mathcal{L}$-formulas $\\varphi(x)$ that define the center in every group, determine the minimal possible quantifier rank $r \\in \\mathbb{N}$. Express your final answer as the single integer $r$.\n\nYour final answer must be the integer $r$ only. No rounding is necessary or permitted.", "solution": "The problem asks for an analysis of the definability of the center of a group in first-order logic. We will address the three tasks in sequence.\n\nThe language of group theory is $\\mathcal{L} = \\{\\cdot, {}^{-1}, e\\}$, and $T_{\\mathrm{grp}}$ is its standard first-order axiomatization. The expanded language is $\\mathcal{L}' = \\mathcal{L} \\cup \\{Z\\}$, where $Z$ is a unary predicate. The center of a group $\\mathcal{M}$, denoted $C(\\mathcal{M})$, is the set of elements that commute with every element of the group, i.e., $C(\\mathcal{M}) = \\{g \\in M \\mid \\forall h \\in M, g \\cdot h = h \\cdot g\\}$.\n\n**1. Implicit Definability of the Center**\n\nTo stipulate that $Z(x)$ represents the center of a group, we add axioms to $T_{\\mathrm{grp}}$ that enforce this correspondence. The property \"$x$ is in the center\" is equivalent to the first-order statement \"for all $y$, $x$ commutes with $y$\". We can express this equivalence with the following two $\\mathcal{L}'$-sentences:\n\n$\\Sigma_1 := \\forall x (Z(x) \\rightarrow \\forall y (x \\cdot y = y \\cdot x))$\n$\\Sigma_2 := \\forall x ((\\forall y (x \\cdot y = y \\cdot x)) \\rightarrow Z(x))$\n\nLet $T'_{ax} = T_{\\mathrm{grp}} \\cup \\{\\Sigma_1, \\Sigma_2\\}$. We must prove that these sentences make $Z$ implicitly definable relative to $T_{\\mathrm{grp}}$. This means that for any given $\\mathcal{L}$-structure $\\mathcal{M}$ that is a model of $T_{\\mathrm{grp}}$, there is at most one possible interpretation of the predicate $Z$ that makes the expanded structure a model of $T'_{ax}$.\n\nLet $\\mathcal{M}$ be an arbitrary group, so $\\mathcal{M} \\models T_{\\mathrm{grp}}$. Let $M$ be the underlying set of $\\mathcal{M}$. An interpretation of $Z$ in $\\mathcal{M}$ is a subset $Z^{\\mathcal{M}} \\subseteq M$. Let's assume, for the sake of demonstrating uniqueness, that there are two such interpretations, $Z_1^{\\mathcal{M}} \\subseteq M$ and $Z_2^{\\mathcal{M}} \\subseteq M$, such that the expanded structures $(\\mathcal{M}, Z_1^{\\mathcal{M}})$ and $(\\mathcal{M}, Z_2^{\\mathcal{M}})$ are both models of $T'_{ax}$.\n\nThis means $(\\mathcal{M}, Z_1^{\\mathcal{M}}) \\models \\Sigma_1 \\land \\Sigma_2$ and $(\\mathcal{M}, Z_2^{\\mathcal{M}}) \\models \\Sigma_1 \\land \\Sigma_2$.\nThe conjunction $\\Sigma_1 \\land \\Sigma_2$ is logically equivalent to the single sentence $\\forall x (Z(x) \\leftrightarrow \\forall y (x \\cdot y = y \\cdot x))$.\n\nFor the first interpretation $Z_1^{\\mathcal{M}}$, for any element $a \\in M$, we have:\n$(\\mathcal{M}, Z_1^{\\mathcal{M}}) \\models Z(a) \\leftrightarrow \\forall y (a \\cdot y = y \\cdot a)$.\nThis means $a \\in Z_1^{\\mathcal{M}}$ if and only if $(\\mathcal{M}, Z_1^{\\mathcal{M}}) \\models \\forall y (a \\cdot y = y \\cdot a)$.\n\nThe formula $\\forall y (a \\cdot y = y \\cdot a)$ is an $\\mathcal{L}$-sentence in the structure $\\mathcal{M}$ with a parameter $a$ from $M$. Its truth value depends only on the structure $\\mathcal{M}$ and the element $a$, not on the interpretation of $Z$. Therefore, we can write:\n$a \\in Z_1^{\\mathcal{M}} \\iff \\mathcal{M} \\models \\forall y (a \\cdot y = y \\cdot a)$.\n\nSimilarly, for the second interpretation $Z_2^{\\mathcal{M}}$, for the same element $a \\in M$, we have:\n$a \\in Z_2^{\\mathcal{M}} \\iff \\mathcal{M} \\models \\forall y (a \\cdot y = y \\cdot a)$.\n\nCombining these two equivalences, we get:\n$a \\in Z_1^{\\mathcal{M}} \\iff a \\in Z_2^{\\mathcal{M}}$.\nThis holds for any arbitrary element $a \\in M$. Therefore, the sets must be identical: $Z_1^{\\mathcal{M}} = Z_2^{\\mathcal{M}}$.\n\nThis shows that for any model $\\mathcal{M}$ of $T_{\\mathrm{grp}}$, there is at most one interpretation of $Z$ (in fact, exactly one) that satisfies the axioms in $T'_{ax}$. By definition, the predicate $Z$ is implicitly definable over $T_{\\mathrm{grp}}$ by the theory $T'_{ax}$.\n\n**2. Explicit Definability and Derivation of the Formula**\n\nBeth's Definability Theorem states that if a theory $T'$ in a language $\\mathcal{L}' = \\mathcal{L} \\cup \\{P\\}$ implicitly defines a predicate $P$ over a theory $T$ in language $\\mathcal{L}$, then $P$ is explicitly definable in $\\mathcal{L}$ over $T$. That is, there exists an $\\mathcal{L}$-formula $\\varphi(x)$ with one free variable $x$ such that $T' \\models \\forall x (P(x) \\leftrightarrow \\varphi(x))$.\n\nFrom Part 1, we established that $Z$ is implicitly defined over $T_{\\mathrm{grp}}$ by the axioms $\\{\\Sigma_1, \\Sigma_2\\}$. By Beth's theorem, we can conclude that $Z$ must be explicitly definable in the base language $\\mathcal{L}$.\n\nTo derive the explicit formula $\\varphi(x)$, we inspect the implicit definition itself. The axioms $\\Sigma_1$ and $\\Sigma_2$ together are equivalent to the sentence $\\forall x (Z(x) \\leftrightarrow \\forall y (x \\cdot y = y \\cdot x))$. This sentence directly provides the required $\\mathcal{L}$-formula. We define $\\varphi(x)$ to be the right-hand side of the equivalence:\n$\\varphi(x) := \\forall y (x \\cdot y = y \\cdot x)$.\n\nThis is an $\\mathcal{L}$-formula with one free variable, $x$. For any group $\\mathcal{M}$ and any element $a \\in M$, the statement $\\mathcal{M} \\models \\varphi(a)$ holds if and only if $\\mathcal{M} \\models \\forall y (a \\cdot y = y \\cdot a)$, which is true if and only if for every $b \\in M$, the equality $a \\cdot b = b \\cdot a$ holds. This is precisely the definition of $a$ being an element of the center of $\\mathcal{M}$. Thus, the formula $\\varphi(x)$ defines the center in any group, and is the explicit definition of $Z$ guaranteed by Beth's theorem.\n\n**3. Minimal Quantifier Rank**\n\nThe quantifier rank of a first-order formula $\\psi$, denoted $\\mathrm{qr}(\\psi)$, is the maximum depth of nested quantifiers.\n- $\\mathrm{qr}(\\psi) = 0$ for atomic formulas.\n- $\\mathrm{qr}(\\neg \\psi) = \\mathrm{qr}(\\psi)$.\n- $\\mathrm{qr}(\\psi_1 \\circ \\psi_2) = \\max(\\mathrm{qr}(\\psi_1), \\mathrm{qr}(\\psi_2))$ for $\\circ \\in \\{\\land, \\lor\\}$.\n- $\\mathrm{qr}(\\forall v \\psi) = \\mathrm{qr}(\\exists v \\psi) = 1 + \\mathrm{qr}(\\psi)$.\n\nLet us first compute the quantifier rank of the formula $\\varphi(x) = \\forall y (x \\cdot y = y \\cdot x)$ we found in Part 2.\nThe innermost part, $x \\cdot y = y \\cdot x$, is an atomic formula. Its quantifier rank is $0$.\nThe formula $\\varphi(x)$ is formed by applying one universal quantifier $\\forall y$ to this atomic formula.\nTherefore, $\\mathrm{qr}(\\varphi(x)) = 1 + \\mathrm{qr}(x \\cdot y = y \\cdot x) = 1 + 0 = 1$.\nThis shows that there exists a formula defining the center with quantifier rank $1$. The minimal possible rank $r$ must therefore satisfy $r \\le 1$.\n\nNow, we must determine if the rank can be $0$. A formula with quantifier rank $0$ is a quantifier-free formula. Let's assume for the sake of contradiction that there exists a quantifier-free $\\mathcal{L}$-formula $\\psi(x)$ that defines the center in every group.\n\nAny term in the language $\\mathcal{L}$ with one variable $x$ (e.g., $(x \\cdot e) \\cdot x^{-1}$) is equivalent in any group to a power of $x$, i.e., $x^k$ for some integer $k \\in \\mathbb{Z}$. Consequently, any atomic formula $t_1(x) = t_2(x)$ is equivalent over $T_{\\mathrm{grp}}$ to a formula of the form $x^k = e$ for some $k \\in \\mathbb{Z}$.\nA quantifier-free formula $\\psi(x)$ is a Boolean combination of such atomic formulas.\n\nIf $\\psi(x)$ defines the center, then for any an abelian group $\\mathcal{A}$, its center is the entire group, $Z(\\mathcal{A})=\\mathcal{A}$. Thus, for any abelian group $\\mathcal{A}$, we must have $\\mathcal{A} \\models \\forall x \\psi(x)$.\n\nLet the exponents appearing in the atomic subformulas of $\\psi(x)$ be $k_1, \\dots, k_m$. Let $p$ be a prime number such that $p  |k_i|$ for all $i=1,\\dots,m$. Consider the cyclic group $\\mathbb{Z}_p$ of order $p$. This group is abelian, so its center is all of $\\mathbb{Z}_p$. Therefore, $\\mathbb{Z}_p \\models \\forall x \\psi(x)$.\n\nIn $\\mathbb{Z}_p$ (with additive notation), an atomic formula $x^k=e$ becomes $k \\cdot x = 0$. Since $p$ is prime and $p$ does not divide $k_i$ (as $p  |k_i|$), the equation $k_i \\cdot x = 0 \\pmod p$ is equivalent to $x=0$ (i.e., $x=e$).\nSo, within $\\mathbb{Z}_p$, every atomic formula $x^{k_i}=e$ (for $k_i \\neq 0$) is equivalent to $x=e$. Any atomic formula $x^0=e$ is $e=e$, a tautology.\nThus, in $\\mathbb{Z}_p$, the formula $\\psi(x)$ is logically equivalent to some Boolean expression $B(p_0, p_1, \\dots, p_m)$ where $p_0$ is the truth value of $e=e$ (true) and $p_i$ for $i0$ is the truth value of $x=e$.\nSo $\\psi(x)$ is equivalent to $B'(\\text{truth of } x=e)$.\nAs we must have $\\mathbb{Z}_p \\models \\forall x \\psi(x)$, $\\psi(x)$ must be true for all elements of $\\mathbb{Z}_p$.\n- For $x=e$, the truth value of $x=e$ is \"true\". So $B'(\\text{true})$ must be true.\n- For any $x \\neq e$, the truth value of $x=e$ is \"false\". So $B'(\\text{false})$ must be true.\nThis means that the boolean expression $B'$ must be a tautology, always evaluating to true regardless of its input.\n\nNow, consider a group where the conclusion must be different. Let $F_2$ be the free group on two generators. $F_2$ is non-abelian and its center is trivial, $Z(F_2) = \\{e\\}$.\nIf $\\psi(x)$ defines the center, then for any non-identity element $g \\in F_2$ (i.e., $g \\neq e$), we must have $F_2 \\models \\neg \\psi(g)$.\nPick any such $g \\neq e$. In $F_2$, every non-identity element has infinite order. Thus, for any $k \\neq 0$, $g^k \\neq e$.\nWhen evaluating $\\psi(g)$, every atomic formula $g^{k_i}=e$ (with $k_i \\neq 0$) is false. The formula $g^0=e$ is true. This is the same truth assignment as for an element $x \\neq e$ in $\\mathbb{Z}_p$.\nThe truth value of $\\psi(g)$ is therefore given by the same boolean expression $B'(\\text{false})$.\nFrom our analysis of $\\mathbb{Z}_p$, we concluded that $B'(\\text{false})$ must be true.\nSo, $\\psi(g)$ must be true for any $g \\neq e$ in $F_2$.\nThis contradicts the fact that $\\psi(x)$ supposedly defines the center, which would require $\\psi(g)$ to be false for all $g \\neq e$ in $F_2$.\n\nThe assumption that such a quantifier-free formula $\\psi(x)$ exists leads to a contradiction. Therefore, no quantifier-free formula can define the center of a group.\nThe minimal quantifier rank $r$ must be greater than $0$.\nSince we found a formula of rank $1$ and have shown rank $0$ is impossible, the minimal quantifier rank must be exactly $1$.\n\nThus, the minimal quantifier rank $r$ is $1$.", "answer": "$$\\boxed{1}$$", "id": "3044793"}]}