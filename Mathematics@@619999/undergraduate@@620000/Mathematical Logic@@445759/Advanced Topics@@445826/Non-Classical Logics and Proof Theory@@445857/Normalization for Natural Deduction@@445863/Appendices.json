{"hands_on_practices": [{"introduction": "The first step in mastering normalization is learning to spot the specific patterns that need simplification. This exercise challenges you to apply the formal definition of a \"maximal formula\"—the site of a logical detour—to a concrete derivation, honing your ability to identify where a proof can be made more direct [@problem_id:3047898].", "problem": "In standard natural deduction for propositional logic, a formula occurrence is called a maximal formula in the sense of Dag Prawitz if it is simultaneously the conclusion of an introduction rule for its principal connective and the major premise of an elimination rule for the same connective. The elimination rule’s major premise is the formula whose principal connective matches the rule being applied. A detour is present when such an introduction followed by an immediate elimination occurs on the same formula, which normalization removes.\n\nConsider the following derivation, where all steps are in the natural deduction system with the rules $\\land I$, $\\land E_{1}$, $\\land E_{2}$, $\\lor I_{1}$, $\\lor I_{2}$, $\\to I$, and $\\to E$. The propositional letters are $P$, $Q$, and $R$.\n- Line $1$: $P$ (assumption)\n- Line $2$: $R$ (assumption)\n- Line $3$: $P \\land R$ (from lines $1$, $2$ by $\\land I$)\n- Line $4$: $P \\land R$ (assumption, label $\\alpha$)\n- Line $5$: $R$ (from line $4$ by $\\land E_{2}$)\n- Line $6$: $Q \\lor R$ (from line $5$ by $\\lor I_{2}$)\n- Line $7$: $(P \\land R) \\to (Q \\lor R)$ (from subderivation lines $4$–$6$ by $\\to I$, discharging $\\alpha$)\n- Line $8$: $P \\land R$ (from lines $1$, $2$ by $\\land I$)\n- Line $9$: $Q \\lor R$ (from lines $7$, $8$ by $\\to E$)\n\nUsing only the core definitions of introduction and elimination rules in natural deduction and the notion of maximal formula as described above, identify the exact introduction step and the exact elimination step that together realize the detour on the explicit maximal formula of the form $A \\to B$, where here $A$ is $P \\land R$ and $B$ is $Q \\lor R$.\n\nEncode your identification as a single number by taking $i$ to be the line number of the introduction step and $j$ to be the line number of the elimination step, and then computing the Cantor pairing function\n$$\\pi(i,j) \\;=\\; \\frac{1}{2}\\big((i+j)(i+j+1)\\big) + j.$$\nProvide your final answer as the exact integer value of $\\pi(i,j)$.", "solution": "The problem requires the identification of a specific logical \"detour\" in a given natural deduction derivation. A detour, in the sense of Dag Prawitz's normalization theory, occurs on a maximal formula. A formula occurrence is maximal if it is the conclusion of an introduction rule for its principal connective and simultaneously the major premise of an elimination rule for that same connective. The task is to find the line numbers of the introduction rule ($i$) and the elimination rule ($j$) that form such a detour for the specific formula $(P \\land R) \\to (Q \\lor R)$.\n\nThe principal connective of the formula $(P \\land R) \\to (Q \\lor R)$ is the implication, $\\to$. Therefore, we are looking for a pair of steps where this formula is first introduced using the implication introduction rule ($\\to I$) and then subsequently used as the major premise in an application of the implication elimination rule ($\\to E$).\n\nFirst, we search for the introduction of the formula $(P \\land R) \\to (Q \\lor R)$. The implication introduction rule, $\\to I$, allows one to conclude $A \\to B$ from a subderivation that starts by assuming $A$ and ends by deriving $B$. Examining the provided derivation:\n- Line $4$: $P \\land R$ (assumption, label $\\alpha$)\n- Line $5$: $R$ (from line $4$ by $\\land E_{2}$)\n- Line $6$: $Q \\lor R$ (from line $5$ by $\\lor I_{2}$)\n- Line $7$: $(P \\land R) \\to (Q \\lor R)$ (from subderivation lines $4$–$6$ by $\\to I$, discharging $\\alpha$)\n\nAt line $7$, the formula $(P \\land R) \\to (Q \\lor R)$ is derived by the $\\to I$ rule. This step concludes a subderivation which assumes $P \\land R$ and derives $Q \\lor R$. Thus, line $7$ is the introduction step for our target formula. We identify $i=7$.\n\nNext, we search for the elimination of this formula. The implication elimination rule, $\\to E$ (also known as Modus Ponens), takes two premises: a major premise of the form $A \\to B$ and a minor premise of the form $A$. It concludes $B$. We need to find an application of $\\to E$ where the formula $(P \\land R) \\to (Q \\lor R)$ from line $7$ serves as the major premise. Examining the derivation further:\n- Line $8$: $P \\land R$ (from lines $1$, $2$ by $\\land I$)\n- Line $9$: $Q \\lor R$ (from lines $7$, $8$ by $\\to E$)\n\nAt line $9$, the formula $Q \\lor R$ is derived by the $\\to E$ rule, citing lines $7$ and $8$ as premises.\n- The premise on line $7$ is $(P \\land R) \\to (Q \\lor R)$, which is of the form $A \\to B$. This is the major premise.\n- The premise on line $8$ is $P \\land R$, which is of the form $A$. This is the minor premise.\nThe rule correctly concludes $Q \\lor R$, which is of the form $B$.\nThe formula on line $7$ is indeed the major premise for the elimination rule applied at line $9$. Therefore, line $9$ is the elimination step in the detour. We identify $j=9$.\n\nThe formula occurrence at line $7$, $(P \\land R) \\to (Q \\lor R)$, is maximal. It is the conclusion of the introduction rule $\\to I$ at line $7$, and it is the major premise of the elimination rule $\\to E$ at line $9$. The pair of steps $(i, j) = (7, 9)$ constitutes the detour.\n\nThe final step is to compute the Cantor pairing function $\\pi(i,j)$ for $i=7$ and $j=9$. The formula for the Cantor pairing function is:\n$$ \\pi(i,j) = \\frac{1}{2}\\big((i+j)(i+j+1)\\big) + j $$\nSubstituting the values $i=7$ and $j=9$:\n$$ \\pi(7,9) = \\frac{1}{2}\\big((7+9)(7+9+1)\\big) + 9 $$\n$$ \\pi(7,9) = \\frac{1}{2}\\big((16)(16+1)\\big) + 9 $$\n$$ \\pi(7,9) = \\frac{1}{2}\\big(16 \\times 17\\big) + 9 $$\n$$ \\pi(7,9) = \\frac{1}{2}(272) + 9 $$\n$$ \\pi(7,9) = 136 + 9 $$\n$$ \\pi(7,9) = 145 $$\nThe resulting integer value is $145$.", "answer": "$$\\boxed{145}$$", "id": "3047898"}, {"introduction": "Normalization is often a multi-step process, where simplifying one part of a proof reveals further opportunities for reduction. This practice explores the concept of nested detours, requiring you to perform a sequence of eliminations to see how removing an outer maximal formula can expose an inner one [@problem_id:3047858]. Understanding this dynamic is key to reducing complex derivations to their essential logical core.", "problem": "In natural deduction for minimal implicational and conjunctive logic, the primitive rules for implication $\\to$ are introduction ($\\to I$) and elimination ($\\to E$), and the primitive rules for conjunction $\\wedge$ are introduction ($\\wedge I$) and elimination ($\\wedge E$). A formula $F$ in a derivation is called a maximal formula if $F$ is obtained as the conclusion of a single introduction rule and then used immediately as the major premise of a single elimination rule, thereby forming a detour. Normalization removes detours by eliminating maximal formulas via conversions that replace an introduction followed by an elimination by a composition of their subderivations without the intermediate $F$. This process strictly reduces the complexity of the derivation while preserving the end-sequent.\n\nMaximal formulas can be nested when one detour is syntactically inside another detour’s introduction subderivation; removing the outer maximal formula can expose the inner one for immediate removal. Consider the following concrete, unfamiliar example built from formulas $A$, $B$, and $C$, with the following components:\n- A closed normal derivation $\\pi_{A}$ of $A$.\n- Under an undischarged assumption $x:A$, normal subderivations $u(x)$ of $B$ and $v(x)$ of $C$.\n\nConstruct the derivation $\\Pi$ of $B$ as follows:\n1. Assume $x:A$.\n2. Derive $u(x):B$ and $v(x):C$ from the assumption $x:A$.\n3. Apply $\\wedge I$ to obtain $u(x)\\wedge v(x):B\\wedge C$.\n4. Apply $\\wedge E_{1}$ to obtain $B$ from $B\\wedge C$.\n5. Discharge $x:A$ and use $\\to I$ to infer $A\\to B$.\n6. Apply $\\to E$ with the major premise $A\\to B$ from step $5$ and the minor premise $\\pi_{A}:A$ to infer $B$.\n\nInside $\\Pi$, the formula $A\\to B$ is maximal (it is introduced and immediately eliminated), and the formula $B\\wedge C$ is nested inside the introduction subderivation and is used as the major premise of $\\wedge E_{1}$, so it can become a maximal formula once the outer detour is removed and the subderivations are composed.\n\nAssuming $u(x)$, $v(x)$, and $\\pi_{A}$ are normal (contain no maximal formulas), determine the minimal number of detour-elimination steps (each step removes one maximal formula via a single conversion) required to transform $\\Pi$ into a normal derivation. Give your answer as an integer.", "solution": "The problem asks for the minimal number of detour-elimination steps required to transform a given derivation $\\Pi$ into its normal form. A detour-elimination step corresponds to the application of a conversion rule that removes one maximal formula.\n\nFirst, let us formalize the structure of the derivation $\\Pi$ based on the provided construction steps. A derivation can be represented as a tree. The components are a normal closed derivation $\\pi_A$ of $A$, and normal open derivations $u(x)$ of $B$ and $v(x)$ of $C$ from an assumption $x:A$.\n\nThe construction of $\\Pi$ is as follows:\n1. An assumption $x:A$ is made. In the tree representation, this is a leaf node labeled $[x:A]$.\n2. The derivations $u(x)$ and $v(x)$ are constructed from this assumption.\n3. The rule for conjunction introduction, $\\wedge I$, is applied to the conclusions of $u(x)$ and $v(x)$. This part of the derivation tree looks like:\n$$\n\\frac{\n  \\substack{ [x:A] \\\\ \\vdots \\\\ u(x):B }\n  \\quad\n  \\substack{ [x:A] \\\\ \\vdots \\\\ v(x):C }\n}{B \\wedge C} (\\wedge I)\n$$\n4. The rule for conjunction elimination (left), $\\wedge E_1$, is applied to the formula $B \\wedge C$ to derive $B$. The subderivation so far, from assumption $x:A$ to conclusion $B$, is:\n$$\n\\mathcal{D}_1 = \\frac{\n  \\frac{\n    \\substack{ [x:A] \\\\ \\vdots \\\\ u(x):B }\n    \\quad\n    \\substack{ [x:A] \\\\ \\vdots \\\\ v(x):C }\n  }{B \\wedge C} (\\wedge I)\n}{B} (\\wedge E_1)\n$$\n5. The rule for implication introduction, $\\to I$, is applied to this subderivation $\\mathcal{D}_1$, discharging the assumption $[x:A]$. Let us label the discharged assumption with the number $1$.\n$$\n\\frac{\n  \\frac{\n    \\frac{\n      \\substack{ [x:A]^1 \\\\ \\vdots \\\\ u(x):B }\n      \\quad\n      \\substack{ [x:A]^1 \\\\ \\vdots \\\\ v(x):C }\n    }{B \\wedge C} (\\wedge I)\n  }{B} (\\wedge E_1)\n}{A \\to B} (\\to I)^1\n$$\n6. Finally, the rule for implication elimination, $\\to E$, is applied. The major premise is the formula $A \\to B$ derived in the previous step, and the minor premise is the given closed normal derivation $\\pi_A$ of $A$.\n\nThe complete derivation $\\Pi$ is therefore:\n$$\n\\Pi = \\frac{\n  \\frac{\n    \\frac{\n      \\frac{\n        \\substack{ [x:A]^1 \\\\ \\vdots \\\\ u(x):B }\n        \\quad\n        \\substack{ [x:A]^1 \\\\ \\vdots \\\\ v(x):C }\n      }{B \\wedge C} (\\wedge I)\n    }{B} (\\wedge E_1)\n  }{A \\to B} (\\to I)^1\n  \\quad\n  \\substack{ \\pi_A \\\\ \\vdots \\\\ A }\n}{B} (\\to E)\n$$\nA maximal formula is a formula that is the conclusion of an introduction rule and immediately the major premise of an elimination rule. In $\\Pi$, we can identify two such formulas:\n1. The formula $A \\to B$ is the conclusion of $(\\to I)^1$ and the major premise of $\\to E$. This is an outermost maximal formula.\n2. The formula $B \\wedge C$ is the conclusion of $\\wedge I$ and the major premise of $\\wedge E_1$. This maximal formula is nested within the subderivation for the $\\to I$ rule.\n\nThe normalization process reduces a derivation to its normal form by eliminating all maximal formulas. The standard strategy, which guarantees termination, is to eliminate the outermost maximal formulas first. Each elimination is one step.\n\n**Step 1: Elimination of the maximal formula $A \\to B$.**\nThis requires applying the $\\to$-conversion rule. A derivation of the form \"$\\to I$ followed by $\\to E$\" is replaced by a new derivation where the derivation of the minor premise of $\\to E$ is substituted for all occurrences of the assumption discharged by $\\to I$.\n\nIn our case, the subderivation leading to the premise $B$ of the $\\to I$ rule is $\\mathcal{D}_1$, which depends on the assumption $[x:A]$. The derivation of the minor premise of the $\\to E$ rule is $\\pi_A$. The conversion rule dictates that we substitute the derivation $\\pi_A$ for every instance of the assumption $[x:A]$ within $\\mathcal{D}_1$.\n\nApplying this conversion to $\\Pi$, we obtain a new derivation, $\\Pi'$:\n$$\n\\Pi' = \\frac{\n  \\frac{\n    \\substack{ \\pi_A \\\\ \\vdots \\\\ u(\\pi_A):B }\n    \\quad\n    \\substack{ \\pi_A \\\\ \\vdots \\\\ v(\\pi_A):C }\n  }{B \\wedge C} (\\wedge I)\n}{B} (\\wedge E_1)\n$$\nHere, $u(\\pi_A)$ denotes the derivation obtained by replacing the assumption $x:A$ in $u(x)$ with the derivation $\\pi_A$. Similarly for $v(\\pi_A)$. This constitutes one detour-elimination step.\n\n**Step 2: Elimination of the maximal formula $B \\wedge C$.**\nThe resulting derivation $\\Pi'$ is not yet normal. As the problem statement anticipated, removing the outer detour has exposed the inner one. The formula $B \\wedge C$ in $\\Pi'$ is the conclusion of $\\wedge I$ and the major premise of $\\wedge E_1$. It is a maximal formula.\n\nThis requires applying the $\\wedge$-conversion rule. For $\\wedge E_1$, a derivation of the form \"$\\wedge I$ followed by $\\wedge E_1$\" is replaced by the subderivation that produced the left conjunct.\n\nIn our case, the derivation of the left conjunct ($B$) is $u(\\pi_A)$ and the derivation of the right conjunct ($C$) is $v(\\pi_A)$. Applying the $\\wedge$-conversion to $\\Pi'$ transforms it into a new derivation, $\\Pi''$, which consists solely of the derivation for the left conjunct:\n$$\n\\Pi'' = \\substack{ \\pi_A \\\\ \\vdots \\\\ u(\\pi_A):B }\n$$\nThis constitutes the second detour-elimination step.\n\nThe final derivation $\\Pi''$ is $u(\\pi_A)$. The problem states that $u(x)$ and $\\pi_A$ are normal derivations. The substitution of a normal derivation into another for a discharged assumption preserves normality. Therefore, $u(\\pi_A)$ contains no maximal formulas and is a normal derivation.\n\nThe process of transforming $\\Pi$ into its normal form $\\Pi''$ required exactly two detour-elimination steps (conversions). The number of steps is minimal because there were two distinct maximal formulas that had to be eliminated, and each step eliminates exactly one.\n\nThus, the minimal number of detour-elimination steps required is $2$.", "answer": "$$\\boxed{2}$$", "id": "3047858"}, {"introduction": "A crucial property of normalization is that no matter the order in which you simplify a proof, you will always arrive at the same, unique normal form. This exercise demonstrates this principle, known as confluence or the Church-Rosser property, by having you trace two different reduction paths for the same complex proof term [@problem_id:3047844]. This hands-on experience will build your intuition for why normalization is such a reliable and powerful tool in logic and computer science.", "problem": "Consider Natural Deduction (ND) for intuitionistic propositional logic with implication $\\,\\to\\,$ and conjunction $\\,\\wedge\\,$, and its correspondence with typed $\\lambda$-calculus via the Curry–Howard isomorphism (CHI). Use the following fundamental base: ND introduction and elimination rules for $\\,\\to\\,$ and $\\,\\wedge\\,$, and the standard $\\beta$-reductions for typed $\\lambda$-calculus terms encoding detour eliminations (introduction immediately followed by elimination). In the proof-term language, use variables, abstractions $\\lambda x:\\tau.\\,M$, application $M\\,N$, pairing $\\langle M,N\\rangle$, and projections $\\pi_{1}(M)$ and $\\pi_{2}(M)$, with the typing intended by $\\wedge$-introduction and $\\wedge$-elimination. The reduction rules are:\n- $\\beta_{\\to}$: $(\\lambda u:\\sigma.\\,M)\\,N \\;\\to\\; M[u := N]$,\n- $\\beta_{\\wedge}$: $\\pi_{1}\\langle M,N\\rangle \\;\\to\\; M$ and $\\pi_{2}\\langle M,N\\rangle \\;\\to\\; N$.\n\nLet $A$, $B$, and $D$ be fixed propositions (types). Assume constants $s:A$, $w:B$, and $r:D$. Consider the ND derivation encoded by the proof term\n$$\nT \\;=\\; \\big( \\lambda x:A\\wedge B.\\, \\lambda y:D.\\, \\pi_{1}(x) \\big)\\; \\big\\langle \\big(\\lambda z:A.\\, z\\big)\\, s,\\; w \\big\\rangle\\; r.\n$$\nThis term contains multiple detours (redexes) of different connectives, making it suitable for illustrating the diamond property of normalization.\n\nTasks:\n1. Using only the stated fundamental rules, explain how $T$ arises from an ND derivation with introduction followed by elimination for both $\\,\\to\\,$ and $\\,\\wedge\\,$.\n2. Construct two different normalization sequences for $T$ by choosing different orders of redex contraction. In each sequence, at every step, specify the redex and the applied reduction rule.\n3. Explain how these two sequences illustrate the diamond property (local confluence) in normalization for ND via CHI.\n4. Compute the normal form of $T$ and present it as a single closed-form analytic expression.\n\nYour final answer must be the normal form proof term (a single symbolic expression). No rounding is needed and no physical units are involved. Express your final result exactly.", "solution": "The provided problem statement is a valid exercise in proof theory and typed $\\lambda$-calculus. It is self-contained, scientifically grounded in the principles of mathematical logic, and well-posed, admitting a unique solution through the application of the specified rules. We will proceed to address the four tasks systematically.\n\nLet the given term be $T = \\big( \\lambda x:A\\wedge B.\\, \\lambda y:D.\\, \\pi_{1}(x) \\big)\\; \\big\\langle \\big(\\lambda z:A.\\, z\\big)\\, s,\\; w \\big\\rangle\\; r$.\n\n**1. Natural Deduction Detours in the Proof Term $T$**\n\nA detour in a Natural Deduction (ND) proof is a sequence where a logical connective's introduction rule is immediately followed by its elimination rule. Such a proof structure is redundant and can be simplified via a process called normalization. The Curry-Howard Isomorphism establishes a direct correspondence between these proof-theoretic detours and reducible expressions (redexes) in a typed $\\lambda$-calculus term. The term $T$ is constructed with multiple such detours.\n\n- **Detour for Conjunction ($\\wedge$)**: The term $\\big\\langle M, N \\big\\rangle$ corresponds to the $\\wedge$-introduction rule, while the projections $\\pi_1(P)$ and $\\pi_2(P)$ correspond to the $\\wedge$-elimination rules. In $T$, the function $\\lambda x:A\\wedge B.\\, \\dots$ takes an argument of type $A\\wedge B$ and applies $\\pi_1$ to it. The argument provided is $\\big\\langle \\big(\\lambda z:A.\\, z\\big)\\, s,\\; w \\big\\rangle$, which is constructed by $\\wedge$-introduction. When the function is applied, $\\pi_1$ acts on a term formed by $\\langle \\dots \\rangle$, creating a $\\beta_{\\wedge}$-redex of the form $\\pi_1 \\langle M, N \\rangle$. This represents a detour for conjunction.\n\n- **Detours for Implication ($\\to$)**: The $\\lambda$-abstraction $\\lambda u:\\sigma.\\,M$ corresponds to the $\\to$-introduction rule, while application $M\\,N$ corresponds to the $\\to$-elimination rule (Modus Ponens). A redex of the form $(\\lambda u:\\sigma.\\,M)N$ is the syntactic representation of a detour for implication. Term $T$ contains two such detours:\n    1. The subterm $\\big(\\lambda z:A.\\, z\\big)\\,s$ is a $\\beta_{\\to}$-redex. It corresponds to proving $A \\to A$ (the identity function) and then immediately applying it to a given proof of $A$ (the constant $s$) to conclude $A$. This is a trivial detour.\n    2. The larger subterm $\\big( \\lambda x:A\\wedge B.\\, \\lambda y:D.\\, \\pi_{1}(x) \\big)\\; \\big\\langle \\dots \\big\\rangle$ is also a $\\beta_{\\to}$-redex. It corresponds to constructing a proof of $(A\\wedge B) \\to (D \\to A)$ and immediately applying it to a proof of $A\\wedge B$ to conclude $D \\to A$. This constitutes a more significant detour in the overall proof structure.\n\n**2. Two Normalization Sequences for $T$**\n\nNormalization is the process of eliminating detours by repeatedly contracting redexes until no more exist. The initial term $T$ contains two non-overlapping redexes, allowing for different reduction orders.\nLet us denote the redexes in the initial term $$T = \\Big(\\big( \\lambda x:A\\wedge B.\\, \\lambda y:D.\\, \\pi_{1}(x) \\big)\\; \\underbrace{\\big\\langle \\overbrace{\\big(\\lambda z:A.\\, z\\big)\\, s}^{R_{\\text{inner}}},\\; w \\big\\rangle}_{N} \\Big)\\; r$$ as:\n- An outer $\\beta_{\\to}$-redex: $R_{\\text{outer}} = \\big( \\lambda x:A\\wedge B.\\, \\lambda y:D.\\, \\pi_{1}(x) \\big)\\; N$\n- An inner $\\beta_{\\to}$-redex: $R_{\\text{inner}} = \\big(\\lambda z:A.\\, z\\big)\\, s$\n\n**Sequence 1: Outermost Reduction First**\n\nWe begin by contracting the outermost redex, $R_{\\text{outer}}$.\n$$\n\\begin{aligned}\nT &= \\Big(\\big( \\lambda x:A\\wedge B.\\, \\lambda y:D.\\, \\pi_{1}(x) \\big)\\; \\big\\langle \\big(\\lambda z:A.\\, z\\big)\\, s,\\; w \\big\\rangle\\Big)\\; r \\\\\n&\\xrightarrow{\\beta_{\\to}} \\Big( \\big(\\lambda y:D.\\, \\pi_{1}(x)\\big)\\big[x := \\big\\langle \\big(\\lambda z:A.\\, z\\big)\\, s,\\; w \\big\\rangle\\big] \\Big)\\; r \\\\\n&= \\Big( \\lambda y:D.\\, \\pi_{1}\\big(\\big\\langle \\big(\\lambda z:A.\\, z\\big)\\, s,\\; w \\big\\rangle\\big) \\Big)\\; r\n\\end{aligned}\n$$\nThe resulting term has a new outermost $\\beta_{\\to}$-redex. We contract it.\n$$\n\\begin{aligned}\n&\\xrightarrow{\\beta_{\\to}} \\Big( \\pi_{1}\\big(\\big\\langle \\big(\\lambda z:A.\\, z\\big)\\, s,\\; w \\big\\rangle\\big) \\Big)\\big[y := r\\big] \\\\\n&= \\pi_{1}\\big(\\big\\langle \\big(\\lambda z:A.\\, z\\big)\\, s,\\; w \\big\\rangle\\big)\n\\end{aligned}\n$$\nNow we have a $\\beta_{\\wedge}$-redex.\n$$\n\\xrightarrow{\\beta_{\\wedge}} \\big(\\lambda z:A.\\, z\\big)\\, s\n$$\nFinally, we contract the last remaining $\\beta_{\\to}$-redex.\n$$\n\\xrightarrow{\\beta_{\\to}} z[z := s] = s\n$$\nThe sequence terminates with the normal form $s$.\n\n**Sequence 2: Innermost Reduction First**\n\nWe begin by contracting the innermost redex, $R_{\\text{inner}}$.\n$$\n\\begin{aligned}\nT &= \\Big(\\big( \\lambda x:A\\wedge B.\\, \\lambda y:D.\\, \\pi_{1}(x) \\big)\\; \\big\\langle \\big(\\lambda z:A.\\, z\\big)\\, s,\\; w \\big\\rangle\\Big)\\; r \\\\\n&\\xrightarrow{\\beta_{\\to}} \\Big(\\big( \\lambda x:A\\wedge B.\\, \\lambda y:D.\\, \\pi_{1}(x) \\big)\\; \\big\\langle s,\\; w \\big\\rangle\\Big)\\; r\n\\end{aligned}\n$$\nThe resulting term now has only one redex, which was the original $R_{\\text{outer}}$ with its argument simplified. We contract it.\n$$\n\\begin{aligned}\n&\\xrightarrow{\\beta_{\\to}} \\Big( \\big(\\lambda y:D.\\, \\pi_{1}(x)\\big)\\big[x := \\big\\langle s,\\; w \\big\\rangle\\big] \\Big)\\; r \\\\\n&= \\big( \\lambda y:D.\\, \\pi_{1}(\\langle s, w \\rangle) \\big)\\; r\n\\end{aligned}\n$$\nThis term has two redexes: an outer $\\beta_{\\to}$-redex and an inner $\\beta_{\\wedge}$-redex. Following an outermost strategy from this point:\n$$\n\\begin{aligned}\n&\\xrightarrow{\\beta_{\\to}} \\Big( \\pi_{1}(\\langle s, w \\rangle) \\Big) [y:=r] \\\\\n&= \\pi_{1}(\\langle s, w \\rangle)\n\\end{aligned}\n$$\nFinally, we contract the $\\beta_{\\wedge}$-redex.\n$$\n\\xrightarrow{\\beta_{\\wedge}} s\n$$\nThis sequence also terminates with the normal form $s$.\n\n**3. Illustration of the Diamond Property**\n\nThe diamond property, or local confluence, states that if a term $M$ can be reduced in one step to two different terms, $M_1$ and $M_2$, then there must exist a term $N$ to which both $M_1$ and $M_2$ can be reduced (in zero or more steps). This property is fundamental to proving that the final normal form is unique regardless of the reduction path.\n\nOur initial term $T$ has two distinct redexes, $R_{\\text{outer}}$ and $R_{\\text{inner}}$. Reducing each gives a different subsequent term, forming the top part of the diamond.\n- **Path 1**: $T \\xrightarrow[\\text{reduce } R_{\\text{outer}}]{\\beta_{\\to}} T_1 = \\Big( \\lambda y:D.\\, \\pi_{1}\\big(\\big\\langle \\big(\\lambda z:A.\\, z\\big)\\, s,\\; w \\big\\rangle\\big) \\Big)\\; r$\n- **Path 2**: $T \\xrightarrow[\\text{reduce } R_{\\text{inner}}]{\\beta_{\\to}} T_2 = \\Big(\\big( \\lambda x:A\\wedge B.\\, \\lambda y:D.\\, \\pi_{1}(x) \\big)\\; \\big\\langle s,\\; w \\big\\rangle\\Big)\\; r$\n\nNow, we show that $T_1$ and $T_2$ converge to a common term.\n- **From $T_1$**: The term $T_1$ still contains the redex $R_{\\text{inner}} = (\\lambda z:A.\\, z)\\,s$ as a subterm. Let's reduce it.\n$$\nT_1 \\xrightarrow[\\text{reduce } (\\lambda z.z)s]{\\beta_{\\to}} \\big( \\lambda y:D.\\, \\pi_{1}(\\langle s, w \\rangle) \\big)\\; r\n$$\n- **From $T_2$**: The term $T_2$ contains the redex $\\big( \\lambda x:A\\wedge B.\\, \\dots \\big)\\; \\big\\langle s,\\; w \\big\\rangle$. Reducing it yields:\n$$\nT_2 \\xrightarrow[\\text{reduce } (\\lambda x...)\\langle s,w \\rangle]{\\beta_{\\to}} \\big( \\lambda y:D.\\, \\pi_{1}(\\langle s, w \\rangle) \\big)\\; r\n$$\nBoth paths converge to the same term, $N = \\big( \\lambda y:D.\\, \\pi_{1}(\\langle s, w \\rangle) \\big)\\; r$. This demonstrates the diamond property for the two initial redexes in $T$. This local confluence is a necessary condition for the Church-Rosser theorem (global confluence), which guarantees that $s$ is the unique normal form of $T$.\n\n**4. Normal Form of $T$**\n\nAs computed in the two normalization sequences in Task 2, the exhaustive application of the reduction rules $\\beta_{\\to}$ and $\\beta_{\\wedge}$ to the term $T$ results in a unique term that contains no more redexes. This final, irreducible term is the normal form.\nFollowing Sequence 2 for conciseness:\n$$\n\\begin{aligned}\nT &= \\big( \\lambda x:A\\wedge B.\\, \\lambda y:D.\\, \\pi_{1}(x) \\big)\\; \\big\\langle \\big(\\lambda z:A.\\, z\\big)\\, s,\\; w \\big\\rangle\\; r \\\\\n&\\rightarrow \\big( \\lambda x:A\\wedge B.\\, \\lambda y:D.\\, \\pi_{1}(x) \\big)\\; \\big\\langle s,\\; w \\big\\rangle\\; r \\\\\n&\\rightarrow \\big( \\lambda y:D.\\, \\pi_{1}(\\langle s, w \\rangle) \\big)\\; r \\\\\n&\\rightarrow \\pi_{1}(\\langle s, w \\rangle) \\\\\n&\\rightarrow s\n\\end{aligned}\n$$\nThe normal form of the proof term $T$ is $s$. This corresponds to the simplest possible proof of proposition $A$, which is the axiom $s$ itself. The complex structure of $T$ thus reduces to a trivial proof.", "answer": "$$\n\\boxed{s}\n$$", "id": "3047844"}]}