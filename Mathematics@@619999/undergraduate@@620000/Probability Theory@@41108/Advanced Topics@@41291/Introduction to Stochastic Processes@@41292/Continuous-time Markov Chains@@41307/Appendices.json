{"hands_on_practices": [{"introduction": "The first step in analyzing any dynamic system with a continuous-time Markov chain (CTMC) is to build its mathematical representation. This exercise walks you through the fundamental process of translating a descriptive scenario—here, a hypothetical model of a computer virus's lifecycle—into a generator matrix, denoted as $Q$. Constructing the $Q$ matrix is a critical skill, as it forms the cornerstone that compactly encodes all the rules and rates governing the system's transitions between states.", "problem": "A simplified model for the lifecycle of a computer virus on an infected machine is described as a continuous-time Markov chain. The virus can be in one of three states: Dormant (State 1), Replicating (State 2), or Detected (State 3).\n\nThe transitions between states are governed by the following rates:\n- A dormant virus becomes active and starts replicating at a constant rate of $\\lambda$ per day.\n- A replicating virus may become dormant again to evade simple detection mechanisms at a constant rate of $\\mu$ per day.\n- An active antivirus scanner finds and flags a replicating virus at a constant rate of $\\sigma_R$ per day.\n- The scanner can also find a dormant virus, but at a lower constant rate of $\\sigma_D$ per day.\n- Once a virus is in the 'Detected' state, it is isolated and cannot change its state.\n\nYour task is to construct the generator matrix, denoted by $Q$, for this continuous-time Markov chain. The states should be ordered as (1: Dormant, 2: Replicating, 3: Detected). Present the matrix $Q$ as your final answer.", "solution": "We model the virus lifecycle as a continuous-time Markov chain with states ordered as follows: 1 for Dormant, 2 for Replicating, and 3 for Detected. For a generator matrix $Q=\\{q_{ij}\\}$ of a continuous-time Markov chain, the off-diagonal entries $q_{ij}$ for $i\\neq j$ are the transition rates from state $i$ to state $j$, and the diagonal entries satisfy $q_{ii}=-\\sum_{j\\neq i}q_{ij}$ so that each row sums to zero.\n\nFrom the problem statement, the nonzero transition rates are:\n- From Dormant (1) to Replicating (2): rate $\\lambda$, so $q_{12}=\\lambda$.\n- From Dormant (1) to Detected (3): rate $\\sigma_{D}$, so $q_{13}=\\sigma_{D}$.\n- From Replicating (2) to Dormant (1): rate $\\mu$, so $q_{21}=\\mu$.\n- From Replicating (2) to Detected (3): rate $\\sigma_{R}$, so $q_{23}=\\sigma_{R}$.\n- Detected (3) is absorbing, so there are no outgoing transitions from state 3, implying $q_{31}=0$ and $q_{32}=0$.\n\nUsing $q_{ii}=-\\sum_{j\\neq i}q_{ij}$ for each state:\n- For state 1: $q_{11}=-(\\lambda+\\sigma_{D})$.\n- For state 2: $q_{22}=-(\\mu+\\sigma_{R})$.\n- For state 3: $q_{33}=0$.\n\nTherefore, the generator matrix $Q$ in the specified state order is\n$$\nQ=\\begin{pmatrix}\n-(\\lambda+\\sigma_{D}) & \\lambda & \\sigma_{D} \\\\\n\\mu & -(\\mu+\\sigma_{R}) & \\sigma_{R} \\\\\n0 & 0 & 0\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}\n-(\\lambda+\\sigma_{D}) & \\lambda & \\sigma_{D} \\\\\n\\mu & -(\\mu+\\sigma_{R}) & \\sigma_{R} \\\\\n0 & 0 & 0\n\\end{pmatrix}}$$", "id": "1352656"}, {"introduction": "After defining a CTMC model, a common and important goal is to understand its long-term behavior. This practice [@problem_id:1352653] explores the concept of the stationary distribution, which describes the proportion of time the system spends in each state after it has been running for a long time. By calculating the long-run fraction of time a server is active, you will apply the principle of balance equations, a powerful tool for analyzing system performance and equilibrium states.", "problem": "Consider a simplified model of a single computer server that can be in one of two states: 'Active' or 'Idle'.\n\nWhen the server is in the 'Active' state, it is processing a task. The time it remains Active before completing the task and transitioning to the 'Idle' state is an exponential random variable with rate $\\lambda$.\n\nWhen the server is in the 'Idle' state, it is waiting for a new task. The time it remains Idle before a new task arrives, causing it to transition to the 'Active' state, is an exponential random variable with rate $\\mu$.\n\nAssuming the server has been running for a very long time, determine the fraction of time it spends in the 'Active' state. Express your answer as a symbolic expression in terms of $\\lambda$ and $\\mu$.", "solution": "Model the server as a two-state continuous-time Markov chain with states Active (A) and Idle (I). The transition rates are $q_{A \\to I}=\\lambda$ and $q_{I \\to A}=\\mu$. Let $\\pi_{A}$ and $\\pi_{I}$ denote the long-run fractions of time spent in states Active and Idle, respectively.\n\nIn steady state, the global balance equation equates the average flow out of and into each state. For the two-state chain this reduces to\n$$\n\\pi_{A}\\lambda=\\pi_{I}\\mu,\n$$\ntogether with the normalization condition\n$$\n\\pi_{A}+\\pi_{I}=1.\n$$\nFrom the normalization, $\\pi_{I}=1-\\pi_{A}$. Substituting into the balance equation gives\n$$\n\\pi_{A}\\lambda=(1-\\pi_{A})\\mu \\;\\;\\Rightarrow\\;\\; \\pi_{A}\\lambda=\\mu-\\pi_{A}\\mu \\;\\;\\Rightarrow\\;\\; \\pi_{A}(\\lambda+\\mu)=\\mu,\n$$\nhence\n$$\n\\pi_{A}=\\frac{\\mu}{\\lambda+\\mu}.\n$$\nTherefore, the fraction of time the server spends in the Active state in the long run is $\\frac{\\mu}{\\lambda+\\mu}$.\n\nEquivalently, by renewal reasoning, the mean Active duration is $\\frac{1}{\\lambda}$ and the mean Idle duration is $\\frac{1}{\\mu}$, so the long-run Active fraction is\n$$\n\\frac{\\frac{1}{\\lambda}}{\\frac{1}{\\lambda}+\\frac{1}{\\mu}}=\\frac{\\mu}{\\lambda+\\mu},\n$$\nwhich matches the Markov chain result.", "answer": "$$\\boxed{\\frac{\\mu}{\\lambda+\\mu}}$$", "id": "1352653"}, {"introduction": "While long-term averages are insightful, we often need to predict a system's state at a specific finite time $t$. This problem [@problem_id:722232] delves into the transient dynamics of a CTMC by guiding you through the solution of the Kolmogorov forward equations. By deriving an explicit formula for the transition probability $P_{12}(t)$, you will gain a deeper understanding of how the system evolves over time from a given starting condition, providing a complete picture of its dynamic behavior.", "problem": "Consider a system that can exist in one of two states, labeled $S = \\{1, 2\\}$. The system's state evolves over time as a continuous-time Markov chain (CTMC). The transition from state 1 to state 2 occurs at a constant rate of $\\alpha > 0$, and the transition from state 2 to state 1 occurs at a constant rate of $\\beta > 0$.\n\nThe dynamics of the transition probabilities $P_{ij}(t) = \\mathbb{P}(X(t)=j | X(0)=i)$ are described by the Kolmogorov forward equations. In matrix form, this is given by $\\frac{d}{dt} P(t) = P(t)Q$, where $P(t)$ is the matrix of transition probabilities $[P_{ij}(t)]$ and $Q$ is the generator matrix. The generator matrix $Q$ has elements $q_{ij}$ (for $i \\neq j$) equal to the transition rate from state $i$ to state $j$, and diagonal elements $q_{ii} = -\\sum_{j \\neq i} q_{ij}$.\n\nGiven that the system starts in state 1 at time $t=0$, derive the explicit closed-form expression for the probability that the system is in state 2 at time $t > 0$. This probability is denoted by $P_{12}(t)$.", "solution": "We denote the transition‐probability matrix by $P(t)=\\bigl[P_{ij}(t)\\bigr]_{i,j=1}^2$ and the generator matrix by\n$$\nQ=\\begin{pmatrix}-\\alpha & \\alpha \\\\ \\beta & -\\beta\\end{pmatrix}\\,.\n$$\nThe Kolmogorov forward equation is\n$$\n\\frac{d}{dt}P(t)=P(t)\\,Q.\n$$\nFocusing on the entry $P_{12}(t)$, we have\n$$\n\\frac{d}{dt}P_{12}(t)\n= P_{11}(t)\\,q_{1,2}+P_{12}(t)\\,q_{2,2}\n= \\alpha\\,P_{11}(t)-\\beta\\,P_{12}(t).\n$$\nSince for each fixed $t$, $P_{11}(t)+P_{12}(t)=1$, we set $P_{11}(t)=1-P_{12}(t)$.  Thus\n$$\n\\frac{d}{dt}P_{12}(t)\n= \\alpha\\bigl(1-P_{12}(t)\\bigr)-\\beta\\,P_{12}(t)\n= \\alpha-(\\alpha+\\beta)\\,P_{12}(t).\n$$\nThis is a linear ODE,\n$$\n\\frac{d}{dt}P_{12}+( \\alpha+\\beta)\\,P_{12}=\\alpha,\n$$\nwith initial condition $P_{12}(0)=0$.  The integrating factor is $e^{(\\alpha+\\beta)t}$, giving\n$$\n\\frac{d}{dt}\\Bigl(e^{(\\alpha+\\beta)t}P_{12}\\Bigr)\n=\\alpha\\,e^{(\\alpha+\\beta)t}.\n$$\nIntegrating from $0$ to $t$ yields\n$$\ne^{(\\alpha+\\beta)t}P_{12}(t)\n=\\frac{\\alpha}{\\alpha+\\beta}\\,e^{(\\alpha+\\beta)t}\n-\\frac{\\alpha}{\\alpha+\\beta},\n$$\nso\n$$\nP_{12}(t)\n=\\frac{\\alpha}{\\alpha+\\beta}\\Bigl(1-e^{-(\\alpha+\\beta)t}\\Bigr).\n$$", "answer": "$$\\boxed{\\frac{\\alpha}{\\alpha+\\beta}\\bigl(1-e^{-(\\alpha+\\beta)t}\\bigr)}$$", "id": "722232"}]}