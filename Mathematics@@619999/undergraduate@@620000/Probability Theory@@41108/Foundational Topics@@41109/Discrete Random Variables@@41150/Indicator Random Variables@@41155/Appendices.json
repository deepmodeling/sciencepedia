{"hands_on_practices": [{"introduction": "This first exercise provides a practical scenario to master the fundamental mechanics of indicator variables. We will analyze a grid-based system, a common setting in probability, to calculate the expected number of rows containing at least one error. The key skill you will practice here is a vital one: computing the probability of a complex event (at least one occurrence) by analyzing its simpler complement (zero occurrences), a powerful and widely-applicable technique in probability theory [@problem_id:1365977].", "problem": "A deep-space probe transmits data to Earth. The data is organized into packets, where each packet can be represented as an $n \\times m$ matrix of bits. The probe is transmitting a signal that should be a block of all zeros, but due to interference from cosmic rays, each bit in the matrix is independently flipped from 0 to 1 with a probability $p$. A data integrity protocol on Earth flags any row in the received matrix for further inspection if it contains at least one bit with the value '1'. What is the expected number of flagged rows in a single $n \\times m$ data packet? Express your answer as a function of $n$, $m$, and $p$.", "solution": "Let the matrix have $n$ rows and $m$ columns, and let each bit independently be $1$ with probability $p$ and $0$ with probability $1-p$. A row is flagged if it contains at least one $1$.\n\nFor a fixed row, define the event $A$ that the row is flagged (contains at least one $1$). Its complement is the event that all $m$ bits in the row are $0$. By independence of bits within a row, the probability that all $m$ bits are $0$ is\n$$\n\\Pr(\\text{all zeros in a row})=(1-p)^{m}.\n$$\nTherefore, the probability that the row is flagged is\n$$\n\\Pr(A)=1-(1-p)^{m}.\n$$\n\nLet $X_{i}$ be the indicator random variable for the event that row $i$ is flagged, so $X_{i}=1$ if row $i$ is flagged and $X_{i}=0$ otherwise. The total number of flagged rows is\n$$\nX=\\sum_{i=1}^{n} X_{i}.\n$$\nBy linearity of expectation,\n$$\n\\mathbb{E}[X]=\\sum_{i=1}^{n} \\mathbb{E}[X_{i}]=\\sum_{i=1}^{n} \\Pr(A)=n\\left(1-(1-p)^{m}\\right).\n$$\nThus, the expected number of flagged rows in a single $n \\times m$ packet is $n\\left(1-(1-p)^{m}\\right)$.", "answer": "$$\\boxed{n\\left(1-(1-p)^{m}\\right)}$$", "id": "1365977"}, {"introduction": "We now move to a classic problem that brilliantly showcases the power of linearity of expectation, especially when dealing with dependent events. The problem of random pairings, often known as the matching or hat-check problem, leads to a surprisingly simple and elegant result. This exercise demonstrates how indicator variables allow us to bypass complex dependencies, offering a direct path to the solution by simply summing individual probabilities [@problem_id:1366013].", "problem": "In a large-scale data center, a faulty batch script attempts to migrate user data. The system contains $n$ distinct user accounts, labeled $A_1, A_2, \\dots, A_n$, and $n$ corresponding user data profiles, labeled $P_1, P_2, \\dots, P_n$. Initially, account $A_i$ is correctly associated with profile $P_i$ for all $i=1, \\dots, n$. The faulty script, however, destroys all existing associations and creates a new set of random pairings. The new mapping is a perfect one-to-one correspondence, where each user account is randomly paired with exactly one user data profile, and each profile is assigned to exactly one account. All possible one-to-one pairings are equally likely.\n\nDetermine the expected number of user accounts that are still correctly associated with their original data profiles after the script has run. The number of user accounts, $n$, is a positive integer greater than or equal to 1. Provide your answer as a single numerical value.", "solution": "Model the random reassignment as a uniformly random permutation $\\sigma$ of $\\{1,2,\\dots,n\\}$, where $\\sigma(i)=j$ means account $A_i$ is paired with profile $P_j$. The number of accounts correctly associated with their original profiles is the number of fixed points of $\\sigma$.\n\nDefine indicator variables $X_i$ for $i \\in \\{1,\\dots,n\\}$ by\n$$\nX_i=\\begin{cases}\n1,  \\text{if } \\sigma(i)=i,\\\\\n0,  \\text{otherwise.}\n\\end{cases}\n$$\nLet $X=\\sum_{i=1}^{n} X_i$ denote the total number of fixed points. By linearity of expectation,\n$$\n\\mathbb{E}[X]=\\sum_{i=1}^{n} \\mathbb{E}[X_i].\n$$\nFor each $i$, since $\\sigma$ is uniformly random over all $n!$ permutations, the number of permutations fixing $i$ is $(n-1)!$, so\n$$\n\\Pr(\\sigma(i)=i)=\\frac{(n-1)!}{n!}=\\frac{1}{n}.\n$$\nBecause $X_i$ is an indicator,\n$$\n\\mathbb{E}[X_i]=\\Pr(X_i=1)=\\Pr(\\sigma(i)=i)=\\frac{1}{n}.\n$$\nTherefore,\n$$\n\\mathbb{E}[X]=\\sum_{i=1}^{n} \\frac{1}{n}=1.\n$$\nThus, the expected number of accounts remaining correctly associated is $1$, for any integer $n\\geq 1$.", "answer": "$$\\boxed{1}$$", "id": "1366013"}, {"introduction": "Our final practice problem takes the concept of indicator variables to a higher level of abstraction, applying it to the combinatorial structure of permutations. Instead of counting simple items or positions, we will define indicators for more complex objects: cycles of a specific length $k$. This exercise challenges you to think more broadly about how to define your 'events' and illustrates the remarkable versatility of this method in solving sophisticated combinatorial counting problems [@problem_id:1365981].", "problem": "In a large university dormitory, there are $n$ students, each assigned a unique mailbox numbered from 1 to $n$. One day, a misdirected mail delivery results in each student's single letter being placed into one of the $n$ mailboxes, with each mailbox receiving exactly one letter. The assignment of letters to mailboxes is completely random, meaning every one of the $n!$ possible arrangements of the $n$ letters is equally likely.\n\nA \"delivery cycle of length $k$\" is defined as a sequence of $k$ distinct students, say $s_1, s_2, \\dots, s_k$, such that the letter for student $s_1$ is in student $s_2$'s mailbox, the letter for $s_2$ is in student $s_3$'s mailbox, and so on, with the letter for student $s_{k-1}$ in student $s_k$'s mailbox, and finally, the letter for student $s_k$ is back in student $s_1$'s mailbox.\n\nFor any integers $n$ and $k$ such that $n \\ge k \\ge 1$, determine the expected number of distinct delivery cycles of length exactly $k$. Express your answer as an analytical expression in terms of $n$ and/or $k$.", "solution": "Let the random assignment of letters to mailboxes be modeled by a uniformly random permutation of the $n$ students. Define $X_{k}$ to be the number of delivery cycles of length exactly $k$ in this permutation. We aim to compute $\\operatorname{E}[X_{k}]$.\n\nConsider the collection of all distinct $k$-cycles on the $n$ students, where cycles are identified up to cyclic rotation (i.e., as in the disjoint cycle decomposition of a permutation). The number of such $k$-cycles is\n$$\nN_{k}=\\binom{n}{k}(k-1)!,\n$$\nsince we first choose the $k$ students, then arrange them into a cycle, where $k$ linear orderings correspond to the same cycle, resulting in $(k-1)!$ distinct cycles on a fixed $k$-set.\n\nFor each specific $k$-cycle $C$, define the indicator variable $I_{C}$ that equals $1$ if $C$ appears as a cycle in the permutation and $0$ otherwise. Then\n$$\nX_{k}=\\sum_{C} I_{C},\n$$\nwhere the sum is over all $N_{k}$ distinct $k$-cycles. By linearity of expectation,\n$$\n\\operatorname{E}[X_{k}]=\\sum_{C}\\operatorname{E}[I_{C}]=\\sum_{C}\\Pr(I_{C}=1).\n$$\n\nFor any fixed $k$-cycle $C$, the number of permutations that contain $C$ (with the $k$ elements arranged exactly as in $C$) equals $(n-k)!$, since the remaining $n-k$ elements can be permuted arbitrarily. As the total number of permutations is $n!$, we have\n$$\n\\Pr(I_{C}=1)=\\frac{(n-k)!}{n!}.\n$$\nTherefore,\n$$\n\\operatorname{E}[X_{k}]=N_{k}\\cdot\\frac{(n-k)!}{n!}\n=\\binom{n}{k}(k-1)!\\cdot\\frac{(n-k)!}{n!}.\n$$\nUsing $\\binom{n}{k}=\\dfrac{n!}{k!(n-k)!}$, we simplify:\n$$\n\\operatorname{{E}}[X_{k}]\n=\\frac{n!}{k!(n-k)!}\\cdot (k-1)!\\cdot \\frac{(n-k)!}{n!}\n=\\frac{1}{k}.\n$$\nThis holds for all integers $n$ and $k$ with $n\\ge k\\ge 1$.", "answer": "$$\\boxed{\\frac{1}{k}}$$", "id": "1365981"}]}