{"hands_on_practices": [{"introduction": "We begin our practice by moving from permutations of distinct items to a more common scenario: arrangements where some items are identical. This exercise [@problem_id:1378986] introduces the concept of permutations of a multiset, providing a clear application for calculating the number of unique sequences when repetitions exist. Mastering this fundamental formula is the first step toward tackling more intricate combinatorial problems.", "problem": "A university's computer science department is designing a new security protocol for lab access. The protocol generates a daily access code by taking the current date in the YYYYMMDD format and creating all possible unique sequences by rearranging its digits. For instance, on February 24th, 2024, the base digit sequence is 20240224. How many distinct access codes can be generated from this specific sequence of digits?", "solution": "We are asked for the number of distinct sequences obtainable by rearranging the digits of the string \"20240224\". This is a permutations-of-a-multiset problem.\n\nFirst, determine the multiplicities of each digit:\n- The total length is $8$.\n- The digit $2$ appears $4$ times.\n- The digit $0$ appears $2$ times.\n- The digit $4$ appears $2$ times.\n\nFor a multiset with total size $n$ and multiplicities $n_{1}, n_{2}, \\dots$, the number of distinct permutations is given by the multinomial coefficient:\n$$\n\\frac{n!}{n_{1}!\\,n_{2}!\\,\\cdots}.\n$$\n\nHere, $n=8$ and the multiplicities are $4,2,2$, so the count is\n$$\n\\frac{8!}{4!\\,2!\\,2!}.\n$$\nCompute by cancellation:\n$$\n\\frac{8!}{4!\\,2!\\,2!}=\\frac{8\\cdot 7\\cdot 6\\cdot 5\\cdot 4!}{4!\\cdot 2\\cdot 2}=\\frac{8\\cdot 7\\cdot 6\\cdot 5}{4}=\\frac{1680}{4}=420.\n$$\nThus, there are $420$ distinct access codes.", "answer": "$$\\boxed{420}$$", "id": "1378986"}, {"introduction": "Real-world arrangement problems often come with specific rules and constraints that go beyond simple permutations. This practice exercise [@problem_id:1378958] builds upon the foundation of multiset permutations by adding structural requirements, such as fixed starting and ending points and the grouping of identical items. Solving it requires a strategic approach, where you learn to simplify the problem by treating a block of items as a single conceptual unit.", "problem": "A security protocol for an Internet of Things (IoT) network requires the generation of 12-byte session keys. Each key is constructed using a specific pool of available bytes, which consists of:\n- Four identical 'Header' bytes (H)\n- Five identical 'Data' bytes (D)\n- Three identical 'Terminator' bytes (T)\n\nFor a key to be considered valid, it must adhere to the following structural rules:\n1. The key must use all 12 available bytes from the pool.\n2. The first byte of the key must be a Header byte.\n3. The last byte of the key must be a Terminator byte.\n4. All five Data bytes must be arranged contiguously, forming a single unbroken block within the key.\n\nHow many distinct valid session keys can be generated?", "solution": "We must form length-12 sequences using exactly four identical $H$, five identical $D$, and three identical $T$, with position $1$ fixed as $H$, position $12$ fixed as $T$, and all five $D$ contiguously as a single block.\n\nFixing position $1$ as $H$ and position $12$ as $T$ leaves positions $2$ through $11$ (a total of $10$ positions) to place the remaining multiset: $3$ $H$, $5$ $D$, and $2$ $T$. The five $D$ must occupy a contiguous block within positions $\\{2,3,\\ldots,11\\}$. If the block starts at position $s$, it occupies positions $s,s+1,s+2,s+3,s+4$, which must be contained in $\\{2,\\ldots,11\\}$. Therefore $s$ satisfies $2 \\leq s \\leq 7$, giving exactly\n$$10 - 5 + 1 = 6$$\npossible starting positions for the $D$-block.\n\nFor any fixed placement of the $D$-block, the remaining $10-5=5$ positions among $2$ through $11$ must be filled with $3$ identical $H$ and $2$ identical $T$. The number of distinct fillings is the number of ways to choose which $3$ of the $5$ positions receive $H$, namely\n$$\\binom{5}{3} = 10.$$\n\nSince different $D$-block starting positions produce distinct sequences (the unique run of five $D$ determines the block), the total number of valid keys is\n$$6 \\times \\binom{5}{3} = 6 \\times 10 = 60.$$", "answer": "$$\\boxed{60}$$", "id": "1378958"}, {"introduction": "The most challenging combinatorial problems are often those that require the synthesis of several distinct concepts. This final practice [@problem_id:1379003] is a multi-layered problem that will test your ability to combine selection (combinations), special arrangements (circular permutations), and logical conditions (such as items being adjacent or non-adjacent). By breaking the problem down into manageable cases, you can develop a comprehensive solution, a skill that is invaluable in both mathematics and its applications.", "problem": "A culinary enthusiast is setting up a new kitchen and has purchased a circular, rotating spice rack that has exactly seven empty slots. From a larger collection of nine distinct spices—Salt, Pepper, Cumin, Turmeric, Paprika, Oregano, Basil, Rosemary, and Thyme—the enthusiast must choose seven to place on the rack.\n\nThe selection and arrangement of the spices are subject to the following set of rules:\n1. Salt and Pepper are essential and must always be included among the seven chosen spices.\n2. The remaining five spices must be chosen from the other seven available spices.\n3. In the final arrangement on the circular rack, Salt and Pepper must never be placed in adjacent slots.\n4. If both Cumin and Turmeric are among the seven chosen spices, they must be placed in adjacent slots. If only one or neither is chosen, this rule does not apply.\n\nDetermine the total number of distinct ways the enthusiast can select and arrange the seven spices on the circular spice rack according to these rules. Consider two arrangements to be the same if one can be rotated to match the other.", "solution": "Let the spices be labeled as follows: $S$ for Salt, $P$ for Pepper, $C$ for Cumin, $T$ for Turmeric, and the other five distinct spices as $X_{1},X_{2},X_{3},X_{4},X_{5}$. The rack holds $7$ positions in a circle, and two circular arrangements are considered the same if one is a rotation of the other. The total number of circular arrangements of $n$ distinct items (up to rotation) is $(n-1)!$.\n\nSalt and Pepper must be included, so we select $5$ more from the $7$ spices $\\{C,T,X_{1},X_{2},X_{3},X_{4},X_{5}\\}$. We split by whether both $C$ and $T$ are selected.\n\nCase 1: Both $C$ and $T$ are selected. The remaining $3$ are chosen from the $5$ spices $\\{X_{1},\\dots,X_{5}\\}$, which gives\n$$\n\\binom{5}{3} \\text{ selections}.\n$$\nIn each such selection, we must arrange the $7$ distinct chosen spices around the circle so that $S$ and $P$ are not adjacent, and $C$ and $T$ are adjacent. Treat $C$ and $T$ as a single block with $2$ internal orders. This yields $6$ entities in total: the $CT$ block, $S$, $P$, and the other $3$ spices. The number of circular arrangements of these $6$ entities with $S$ and $P$ not adjacent is\n$$\n(6-1)!-2\\,(6-2)! \\;=\\; 5!-2\\cdot 4!.\n$$\nMultiplying by $2$ for the internal order of the $CT$ block, the number of valid arrangements per selection in this case is\n$$\nA_{\\text{arr}} \\;=\\; 2\\left(5!-2\\cdot 4!\\right).\n$$\n\nCase 2: Not both $C$ and $T$ are selected (i.e., at most one of them is chosen). The number of such selections is\n$$\n\\binom{7}{5}-\\binom{5}{3} \\;=\\; 21-10 \\;=\\; 11.\n$$\nIn each such selection, the only arrangement constraint is that $S$ and $P$ are not adjacent. For $7$ distinct items in a circle, the number of circular arrangements with $S$ and $P$ not adjacent equals total minus those with $S$ and $P$ adjacent. The total number is $(7-1)!=6!$. To count those with $S$ and $P$ adjacent, treat $S$ and $P$ as a block (with $2$ internal orders), giving $6$ entities in a circle, so\n$$\n\\text{adjacent}(S,P) \\;=\\; 2\\cdot (6-1)! \\;=\\; 2\\cdot 5!.\n$$\nHence the number of valid arrangements per selection in this case is\n$$\nN_{\\text{arr}} \\;=\\; 6!-2\\cdot 5!.\n$$\n\nCombining the cases, the total number of valid arrangements is\n$$\n\\binom{5}{3}\\,A_{\\text{arr}} \\;+\\; 11\\,N_{\\text{arr}}\n\\;=\\;\n\\binom{5}{3}\\cdot 2\\left(5!-2\\cdot 4!\\right) \\;+\\; 11\\left(6!-2\\cdot 5!\\right).\n$$\nEvaluating,\n$$\n\\binom{5}{3}=10,\\quad\n5!=120,\\quad\n4!=24,\\quad\n6!=720,\n$$\nso\n$$\nA_{\\text{arr}}=2(120-48)=2\\cdot 72=144,\\qquad\nN_{\\text{arr}}=720-240=480,\n$$\nand therefore\n$$\n10\\cdot 144 \\;+\\; 11\\cdot 480 \\;=\\; 1440 \\;+\\; 5280 \\;=\\; 6720.\n$$", "answer": "$$\\boxed{6720}$$", "id": "1379003"}]}