{"hands_on_practices": [{"introduction": "To begin our hands-on exploration, we will construct a function that directly challenges the foundations of Riemann integration. This exercise [@problem_id:1429259] features a function that takes a value of 1 on the set of dyadic rationals and 0 everywhere else. By analyzing its upper and lower Darboux sums, you will discover firsthand how a function with two dense, interlaced sets of values can cause the upper and lower integrals to remain permanently separated, thereby failing the core condition for Riemann integrability.", "problem": "In real analysis, the Riemann integral is defined via upper and lower sums. Its limitations become apparent when dealing with highly discontinuous functions. Consider one such function, $f: [0, 1] \\to \\mathbb{R}$, constructed based on the set of dyadic rationals.\n\nA number $x$ is defined as a **dyadic rational** if it can be expressed in the form $\\frac{k}{2^n}$ for some integer $k$ and non-negative integer $n$.\n\nThe function $f(x)$ is defined over the interval $[0, 1]$ as follows:\n$$\nf(x) = \\begin{cases} \n1 & \\text{if } x \\text{ is a dyadic rational} \\\\\n0 & \\text{if } x \\text{ is not a dyadic rational} \n\\end{cases}\n$$\n\nLet $L = \\underline{\\int_0^1} f(x) \\, dx$ denote the lower Riemann integral and $U = \\overline{\\int_0^1} f(x) \\, dx$ denote the upper Riemann integral of $f$ over the interval $[0,1]$.\n\nCalculate the values of the lower and upper Riemann integrals. Present your answer as a row matrix $(L \\quad U)$.", "solution": "Define the set of dyadic rationals by $D=\\{x\\in[0,1]: x=\\frac{k}{2^{n}}\\text{ for some integers }k,n\\text{ with }n\\geq 0\\}$. The function is $f(x)=1$ if $x\\in D$ and $f(x)=0$ if $x\\notin D$.\n\nFirst, show $D$ is dense in $[0,1]$. Let $(a,b)\\subset[0,1]$ with $a<b$. Choose $n\\in\\mathbb{N}$ such that $(b-a)2^{n}>1$. By the Archimedean property, there exists an integer $k$ with $a2^{n}<k<b2^{n}$. Dividing by $2^{n}$ gives $a<\\frac{k}{2^{n}}<b$, hence $(a,b)\\cap D\\neq\\varnothing$.\n\nNext, show $[0,1]\\setminus D$ meets every nondegenerate interval. Since $D$ is countable and every interval in $[0,1]$ is uncountable, for any $(a,b)\\subset[0,1]$ with $a<b$ there exists $x\\in(a,b)$ with $x\\notin D$. Thus $(a,b)\\cap([0,1]\\setminus D)\\neq\\varnothing$.\n\nConsider any partition $P:\\ 0=x_{0}<x_{1}<\\cdots<x_{n}=1$. For each subinterval $[x_{i-1},x_{i}]$ of positive length, by the density of $D$ we have a point where $f=1$, so\n$$\n\\sup\\{f(x):x\\in[x_{i-1},x_{i}]\\}=1.\n$$\nBy the fact that $[0,1]\\setminus D$ meets every interval, there is also a point where $f=0$, so\n$$\n\\inf\\{f(x):x\\in[x_{i-1},x_{i}]\\}=0.\n$$\nTherefore, the lower Darboux sum for $P$ is\n$$\nL(P,f)=\\sum_{i=1}^{n}\\left(\\inf_{x\\in[x_{i-1},x_{i}]}f(x)\\right)(x_{i}-x_{i-1})=\\sum_{i=1}^{n}0\\cdot(x_{i}-x_{i-1})=0,\n$$\nand the upper Darboux sum is\n$$\nU(P, f)=\\sum_{i=1}^{n}\\left(\\sup_{x\\in[x_{i-1},x_{i}]}f(x)\\right)(x_{i}-x_{i-1})=\\sum_{i=1}^{n}1\\cdot(x_{i}-x_{i-1})=\\sum_{i=1}^{n}(x_{i}-x_{i-1})=1.\n$$\nThe lower Riemann integral is the supremum of all lower sums over all partitions, hence\n$$\nL=\\underline{\\int_{0}^{1}}f(x)\\,dx=\\sup_{P}L(P,f)=0.\n$$\nThe upper Riemann integral is the infimum of all upper sums over all partitions, hence\n$$\nU=\\overline{\\int_{0}^{1}}f(x)\\,dx=\\inf_{P}U(P,f)=1.\n$$\nThus the requested row matrix is $\\begin{pmatrix}0 & 1\\end{pmatrix}$.", "answer": "$$\\boxed{\\begin{pmatrix} 0 & 1 \\end{pmatrix}}$$", "id": "1429259"}, {"introduction": "Having seen a function fail to be integrable due to dense discontinuities, one might conclude that any function discontinuous on a dense set is not Riemann integrable. This practice problem [@problem_id:1308067] introduces a famous counterexample, Thomae's function, which is discontinuous at every rational point yet remains Riemann integrable. By breaking the function into a continuous part and Thomae's function, you will see how the integral can \"ignore\" a dense set of discontinuities when their magnitudes diminish sufficiently, revealing a deeper subtlety in the conditions for integrability.", "problem": "Let a function $H(x)$ be defined on the interval $[0, 1]$. This function is the sum of a continuous function and a second function which is discontinuous at all rational points except $x=0$.\nThe function is defined as $H(x) = \\cos(\\frac{\\pi x}{2}) + R(x)$, where $R(x)$ is the 'rational height function' defined as follows:\n$$\nR(x) = \\begin{cases}\n1/q, & \\text{if } x = p/q \\text{ is a rational number in } (0, 1] \\text{ expressed in lowest terms with } p,q \\in \\mathbb{Z}^+ \\\\\n0, & \\text{if } x=0 \\text{ or } x \\text{ is an irrational number in } [0, 1]\n\\end{cases}\n$$\nCalculate the value of the Riemann integral $\\int_0^1 H(x) dx$. Your final answer should be a single closed-form analytic expression.", "solution": "We use linearity of the Riemann integral to split the integral into two parts:\n$$\n\\int_{0}^{1} H(x)\\,dx \\;=\\; \\int_{0}^{1} \\cos\\!\\left(\\frac{\\pi x}{2}\\right)\\,dx \\;+\\; \\int_{0}^{1} R(x)\\,dx.\n$$\nFirst, compute the continuous part using the fundamental theorem of calculus and the antiderivative rule $\\int \\cos(ax)\\,dx = \\frac{1}{a}\\sin(ax)$:\n$$\n\\int_{0}^{1} \\cos\\!\\left(\\frac{\\pi x}{2}\\right)\\,dx\n= \\left.\\frac{2}{\\pi}\\,\\sin\\!\\left(\\frac{\\pi x}{2}\\right)\\right|_{0}^{1}\n= \\frac{2}{\\pi}\\left(\\sin\\!\\left(\\frac{\\pi}{2}\\right) - \\sin(0)\\right)\n= \\frac{2}{\\pi}.\n$$\nNext, evaluate $\\int_{0}^{1} R(x)\\,dx$ for the rational height function (Thomae’s function). The function $R$ is bounded with $0 \\leq R(x) \\leq 1$. Every subinterval of $[0,1]$ contains an irrational number where $R$ is $0$, so the infimum of $R$ on any subinterval is $0$. Hence all lower sums are $0$, implying the lower Riemann integral is $0$.\n\nTo show the upper Riemann integral is $0$, fix $\\varepsilon>0$. Choose $N\\in\\mathbb{N}$ such that $\\frac{1}{N}<\\frac{\\varepsilon}{2}$. Let $S_{N}$ be the finite set of rationals in $[0,1]$ with reduced denominator at most $N$. Construct a partition that isolates each point of $S_{N}$ in its own subinterval, and choose those subintervals so that the sum of their lengths is less than $\\frac{\\varepsilon}{2}$. On the remaining subintervals, any rational has reduced denominator greater than $N$, hence $R(x)\\leq \\frac{1}{N}$ there, and the supremum of $R$ on each such subinterval is at most $\\frac{1}{N}$. Therefore, the contribution of these remaining subintervals to the upper sum is at most $\\frac{1}{N}\\cdot 1<\\frac{\\varepsilon}{2}$. The isolated subintervals contribute at most their total length times the bound $1$, which is less than $\\frac{\\varepsilon}{2}$. Thus the upper sum is less than $\\varepsilon$, and since $\\varepsilon>0$ is arbitrary, the upper Riemann integral is $0$. Therefore,\n$$\n\\int_{0}^{1} R(x)\\,dx = 0.\n$$\nCombining both parts gives\n$$\n\\int_{0}^{1} H(x)\\,dx \\;=\\; \\frac{2}{\\pi} + 0 \\;=\\; \\frac{2}{\\pi}.\n$$", "answer": "$$\\boxed{\\frac{2}{\\pi}}$$", "id": "1308067"}, {"introduction": "This final practice serves as a capstone to test your consolidated understanding of what makes a function Riemann integrable. You are presented with four functions, each a modification of the simple continuous function $g(x) = x^2$ [@problem_id:1308062]. Your task is to apply the principles you've learned to distinguish between functions with manageable discontinuities (finite or countable sets) and one whose discontinuities are too widespread and significant for the Riemann integral to handle. This exercise will sharpen your ability to diagnose integrability by examining the structure of a function's set of discontinuities.", "problem": "In the context of real analysis, the Riemann integral is defined for a certain class of functions. A key property for a bounded function on a closed interval to be Riemann integrable is related to the nature of its set of discontinuities. Consider the base function $g(x) = x^2$ on the interval $[0,1]$. We will now define four different functions, each on the interval $[0,1]$, based on $g(x)$. Let $\\mathbb{Q}$ denote the set of rational numbers.\n\nWhich of the following functions is **not** Riemann integrable on the interval $[0,1]$?\n\nA. $f_A(x) = x^2$\n\nB. $f_B(x) = \\begin{cases} 0 & \\text{if } x = \\frac{1}{2} \\text{ or } x = \\frac{1}{3} \\\\ x^2 & \\text{otherwise} \\end{cases}$\n\nC. $f_C(x) = \\begin{cases} 0 & \\text{if } x \\in \\{ \\frac{1}{n} \\mid n \\in \\mathbb{Z}, n \\geq 1 \\} \\\\ x^2 & \\text{otherwise} \\end{cases}$\n\nD. $f_D(x) = \\begin{cases} x^2 & \\text{if } x \\in \\mathbb{Q} \\\\ 1 & \\text{if } x \\notin \\mathbb{Q} \\end{cases}$", "solution": "A standard characterization is Lebesgue’s criterion for Riemann integrability: a bounded function on a closed interval $[a,b]$ is Riemann integrable if and only if its set of points of discontinuity has Lebesgue measure zero. All functions considered are bounded on $[0,1]$, since $x^{2} \\in [0,1]$ for $x \\in [0,1]$ and the exceptional values used are $0$ or $1$.\n\nFor $f_{A}(x)=x^{2}$, $x^{2}$ is continuous on $[0,1]$, hence its set of discontinuities is empty, which has measure zero. Therefore $f_{A}$ is Riemann integrable.\n\nFor $f_{B}$, the function agrees with $x^{2}$ everywhere except at the two points $x=\\frac{1}{2}$ and $x=\\frac{1}{3}$ where it takes the value $0$. At each of these two points, the limit of $f_{B}(x)$ as $x \\to c$ equals $c^{2} \\neq 0$, so $f_{B}$ is discontinuous at $c \\in \\{\\frac{1}{2},\\frac{1}{3}\\}$. At every other point it coincides with the continuous function $x^{2}$ and is therefore continuous. Thus the set of discontinuities is the finite set $\\{\\frac{1}{2},\\frac{1}{3}\\}$, which has measure zero. Hence $f_{B}$ is Riemann integrable.\n\nFor $f_{C}$, the function agrees with $x^{2}$ except on the countable set $S=\\{1/n \\mid n \\in \\mathbb{Z}, n \\geq 1\\}$ where it takes the value $0$. At any point $x \\in S$, the limit of $f_{C}(x)$ as $x \\to c$ equals $c^{2} \\neq 0$, so $f_{C}$ is discontinuous at each $c \\in S$. At $x=0$, we have $f_{C}(0)=0^{2}=0$. If $x \\to 0$ through points in $S$, then $f_{C}(x)=0 \\to 0$. If $x \\to 0$ through points not in $S$, then $f_{C}(x)=x^{2} \\to 0$. Hence $f_{C}$ is continuous at $0$. At any $x \\notin S \\cup \\{0\\}$, $f_{C}(x)=x^{2}$ in a neighborhood avoiding $S$ only at isolated points, and the limit as $x \\to c$ equals $c^{2}=f_{C}(c)$, so it is continuous there. Therefore the set of discontinuities is exactly $S$, which is countable and thus has measure zero. Hence $f_{C}$ is Riemann integrable.\n\nFor $f_{D}$, define\n$$\nf_{D}(x)=\\begin{cases}\nx^{2} & \\text{if } x \\in \\mathbb{Q},\\\\\n1 & \\text{if } x \\notin \\mathbb{Q}.\n\\end{cases}\n$$\nAt $x=1$, both definitions give $f_{D}(1)=1$, and for any sequence $x_{n} \\to 1$ we have $f_{D}(x_{n}) \\to 1$, so $f_{D}$ is continuous at $x=1$. For any $x \\in [0,1)$, the rationals and irrationals are both dense, so there exist sequences $r_{n} \\in \\mathbb{Q}$ and $s_{n} \\notin \\mathbbQ}$ with $r_{n} \\to x$ and $s_{n} \\to x$. Then $f_{D}(r_{n})=r_{n}^{2} \\to x^{2}$ while $f_{D}(s_{n})=1 \\to 1$. Since $x^{2} \\neq 1$ for $x \\in [0,1)$, the limits along these sequences differ, so $f_{D}$ is discontinuous at every $x \\in [0,1)$. Therefore the set of discontinuities is $[0,1)$, which has positive measure. By Lebesgue’s criterion, $f_{D}$ is not Riemann integrable.\n\nThus among the given options, the only function that is not Riemann integrable on $[0,1]$ is $f_{D}$.", "answer": "$$\\boxed{D}$$", "id": "1308062"}]}