{"hands_on_practices": [{"introduction": "The classic Dirichlet function provides the canonical example of a non-Riemann integrable function. This first exercise [@problem_id:1450292] generalizes this concept by constructing a new function based on a real parameter $\\alpha$. By analyzing how this parameter affects the function's values on rational and irrational numbers, you will determine the precise condition under which Riemann integrability fails, deepening your understanding of why the gap between upper and lower Darboux sums is the fundamental obstacle.", "problem": "Consider the function $D(x)$, known as the Dirichlet function, which is defined for all real numbers $x$ as:\n$$\nD(x) = \\begin{cases} 1 & \\text{if } x \\text{ is a rational number} \\\\ 0 & \\text{if } x \\text{ is an irrational number} \\end{cases}\n$$\nA new function $f(x)$ is constructed on the interval $[0, 1]$ using the Dirichlet function and a real parameter $\\alpha$:\n$$\nf(x) = \\alpha D(x) + (1-\\alpha)(1-D(x))\n$$\nDetermine the set of all real values of $\\alpha$ for which the function $f(x)$ is **not** Riemann integrable on the interval $[0, 1]$.\n\nA. $\\alpha = \\frac{1}{2}$\n\nB. $\\alpha \\in \\{0, 1\\}$\n\nC. $\\alpha \\in \\mathbb{R} \\setminus \\{\\frac{1}{2}\\}$\n\nD. All $\\alpha \\in \\mathbb{R}$\n\nE. No $\\alpha \\in \\mathbb{R}$", "solution": "We first compute the values of $f(x)$ on rational and irrational numbers using the definition of $D(x)$:\n- If $x$ is rational, then $D(x)=1$, so $f(x)=\\alpha\\cdot 1+(1-\\alpha)(1-1)=\\alpha$.\n- If $x$ is irrational, then $D(x)=0$, so $f(x)=\\alpha\\cdot 0+(1-\\alpha)(1-0)=1-\\alpha$.\n\nThus $f$ takes exactly two constant values: $\\alpha$ on rationals and $1-\\alpha$ on irrationals. Since rationals and irrationals are both dense in $[0,1]$, every subinterval of $[0,1]$ contains points where $f$ equals $\\alpha$ and points where $f$ equals $1-\\alpha$.\n\nFor any subinterval $I\\subset[0,1]$, the supremum and infimum of $f$ on $I$ are\n$$\nM_{I}=\\max\\{\\alpha,1-\\alpha\\},\\qquad m_{I}=\\min\\{\\alpha,1-\\alpha\\}.\n$$\nFor any partition $P=\\{x_{0},x_{1},\\dots,x_{n}\\}$ of $[0,1]$, the upper and lower Darboux sums are\n$$\nU(f,P)=\\sum_{k=1}^{n}M_{[x_{k-1},x_{k}]}(x_{k}-x_{k-1})=\\max\\{\\alpha,1-\\alpha\\}\\sum_{k=1}^{n}(x_{k}-x_{k-1})=\\max\\{\\alpha,1-\\alpha\\},\n$$\n$$\nL(f,P)=\\sum_{k=1}^{n}m_{[x_{k-1},x_{k}]}(x_{k}-x_{k-1})=\\min\\{\\alpha,1-\\alpha\\}\\sum_{k=1}^{n}(x_{k}-x_{k-1})=\\min\\{\\alpha,1-\\alpha\\}.\n$$\nThese are independent of the partition. Therefore, the upper Riemann integral equals $\\max\\{\\alpha,1-\\alpha\\}$ and the lower Riemann integral equals $\\min\\{\\alpha,1-\\alpha\\}$. The function $f$ is Riemann integrable if and only if these are equal, which occurs if and only if\n$$\n\\max\\{\\alpha,1-\\alpha\\}=\\min\\{\\alpha,1-\\alpha\\}\\quad\\Longleftrightarrow\\quad \\alpha=1-\\alpha\\quad\\Longleftrightarrow\\quad \\alpha=\\frac{1}{2}.\n$$\nWhen $\\alpha=\\frac{1}{2}$, $f(x)=\\frac{1}{2}$ for all $x$, so $f$ is continuous and hence Riemann integrable. For all other $\\alpha\\in\\mathbb{R}$, $U(f,P)>L(f,P)$ for every partition, so $f$ is not Riemann integrable on $[0,1]$.\n\nTherefore, the set of all real $\\alpha$ for which $f(x)$ is not Riemann integrable is $\\mathbb{R}\\setminus\\{\\frac{1}{2}\\}$, which corresponds to option C.", "answer": "$$\\boxed{C}$$", "id": "1450292"}, {"introduction": "Building on the previous example, we now explore a function that is not only defined differently on rational and irrational numbers, but whose values also depend on the input $x$ itself. This practice [@problem_id:1450295] challenges you to compute the upper and lower Darboux integrals, which in this case are not constant values but are derived from simpler, continuous functions. This exercise sharpens your computational skills and provides a more nuanced insight into the behavior of highly discontinuous functions under the framework of Riemann integration.", "problem": "In the study of integration theory, functions that exhibit different behaviors on the set of rational numbers ($\\mathbb{Q}$) and irrational numbers ($\\mathbb{R} \\setminus \\mathbb{Q}$) serve as key examples to illustrate the limitations of Riemann integration.\n\nConsider the function $f(x)$ defined on the closed interval $[0, 1]$ as follows:\n$$ f(x) = \\begin{cases} 2x & \\text{if } x \\in \\mathbb{Q} \\\\ \\frac{x}{2} & \\text{if } x \\notin \\mathbb{Q} \\end{cases} $$\nA bounded function is said to be Riemann integrable on an interval $[a,b]$ if and only if its lower and upper Darboux integrals over that interval are equal. The upper Darboux integral, denoted $\\overline{\\int_a^b} f(x)dx$, is the infimum of all upper Darboux sums, and the lower Darboux integral, denoted $\\underline{\\int_a^b} f(x)dx$, is the supremum of all lower Darboux sums.\n\nCalculate the value of the difference $\\Delta = \\overline{\\int_0^1} f(x)dx - \\underline{\\int_0^1} f(x)dx$. This value quantifies the extent to which the function fails to be Riemann integrable.", "solution": "To solve this problem, we need to calculate the upper and lower Darboux integrals of the function $f(x)$ on the interval $[0, 1]$.\n\nLet $P = \\{x_0, x_1, \\dots, x_n\\}$ be an arbitrary partition of the interval $[0, 1]$, where $0 = x_0 < x_1 < \\dots < x_n = 1$. For each subinterval $I_i = [x_{i-1}, x_i]$, we must find the supremum $M_i = \\sup_{x \\in I_i} f(x)$ and the infimum $m_i = \\inf_{x \\in I_i} f(x)$.\n\nFirst, let's determine the upper Darboux integral, $\\overline{\\int_0^1} f(x)dx$. This is the infimum of all upper Darboux sums $U(f, P) = \\sum_{i=1}^n M_i (x_i - x_{i-1})$.\nIn any subinterval $I_i = [x_{i-1}, x_i]$, the function $f(x)$ takes values from the set $\\{2q \\mid q \\in \\mathbb{Q} \\cap I_i\\} \\cup \\{ y/2 \\mid y \\in (\\mathbb{R}\\setminus\\mathbb{Q}) \\cap I_i \\}$.\nOn the interval $[0, 1]$, for any $x > 0$, we have $2x > x/2$. For $x=0$, $2x=x/2=0$. Therefore, for any $x \\in [0,1]$, $2x \\ge x/2$.\nThis means the supremum of $f(x)$ on any subinterval $I_i$ will be determined by the values it takes on rational numbers.\n$$ M_i = \\sup_{x \\in I_i} f(x) = \\sup_{x \\in I_i} \\left( \\{2q \\mid q \\in \\mathbb{Q} \\cap I_i\\} \\cup \\{y/2 \\mid y \\in (\\mathbb{R}\\setminus\\mathbb{Q}) \\cap I_i\\} \\right) $$\nSince the function $g(x) = 2x$ is continuous and increasing, and the rational numbers are dense in $\\mathbb{R}$, the supremum of $\\{2q \\mid q \\in \\mathbb{Q} \\cap I_i\\}$ is equal to the supremum of $\\{2x \\mid x \\in I_i\\}$. The supremum of the other set of values $\\{y/2\\}$ will be smaller.\nTherefore, $M_i = \\sup_{x \\in I_i} 2x = 2x_i$.\nThe upper Darboux sum for the partition $P$ is $U(f, P) = \\sum_{i=1}^n (2x_i)(x_i - x_{i-1})$.\nThis is a right Riemann sum for the function $g(x) = 2x$. As the mesh of the partition $\\|P\\|$ approaches zero, the upper Darboux sums converge to the Riemann integral of $g(x)$.\n$$ \\overline{\\int_0^1} f(x)dx = \\inf_P U(f,P) = \\int_0^1 2x dx = \\left[x^2\\right]_0^1 = 1^2 - 0^2 = 1 $$\n\nNext, let's determine the lower Darboux integral, $\\underline{\\int_0^1} f(x)dx$. This is the supremum of all lower Darboux sums $L(f, P) = \\sum_{i=1}^n m_i (x_i - x_{i-1})$.\nThe infimum of $f(x)$ on a subinterval $I_i$ will be determined by the values it takes on irrational numbers, since $x/2 \\le 2x$ for $x \\in [0,1]$.\n$$ m_i = \\inf_{x \\in I_i} f(x) = \\inf_{x \\in I_i} \\left( \\{2q \\mid q \\in \\mathbb{Q} \\cap I_i\\} \\cup \\{y/2 \\mid y \\in (\\mathbb{R}\\setminus\\mathbb{Q}) \\cap I_i\\} \\right) $$\nSince the function $h(x) = x/2$ is continuous and increasing, and the irrational numbers are dense in $\\mathbb{R}$, the infimum of $\\{y/2 \\mid y \\in (\\mathbb{R}\\setminus\\mathbb{Q}) \\cap I_i\\}$ is equal to the infimum of $\\{x/2 \\mid x \\in I_i\\}$. The infimum of the other set of values $\\{2q\\}$ will be larger.\nTherefore, $m_i = \\inf_{x \\in I_i} \\frac{x}{2} = \\frac{x_{i-1}}{2}$.\nThe lower Darboux sum for the partition $P$ is $L(f, P) = \\sum_{i=1}^n \\left(\\frac{x_{i-1}}{2}\\right)(x_i - x_{i-1})$.\nThis is a left Riemann sum for the function $h(x) = x/2$. As the mesh of the partition $\\|P\\|$ approaches zero, the lower Darboux sums converge to the Riemann integral of $h(x)$.\n$$ \\underline{\\int_0^1} f(x)dx = \\sup_P L(f,P) = \\int_0^1 \\frac{x}{2} dx = \\left[\\frac{x^2}{4}\\right]_0^1 = \\frac{1^2}{4} - \\frac{0^2}{4} = \\frac{1}{4} $$\n\nFinally, we calculate the difference $\\Delta$:\n$$ \\Delta = \\overline{\\int_0^1} f(x)dx - \\underline{\\int_0^1} f(x)dx = 1 - \\frac{1}{4} = \\frac{3}{4} $$\nSince the upper and lower Darboux integrals are not equal ($\\Delta \\neq 0$), the function $f(x)$ is not Riemann integrable on $[0,1]$.", "answer": "$$\\boxed{\\frac{3}{4}}$$", "id": "1450295"}, {"introduction": "After studying functions that are non-integrable due to their behavior on rational versus irrational numbers, one might form the misconception that being discontinuous on a dense set is sufficient to prevent Riemann integrability. This final exercise [@problem_id:1450278] presents a fascinating counterexample: a function that is discontinuous on an uncountable set yet remains Riemann integrable. This problem introduces the more powerful Lebesgue criterion for Riemann integrability, revealing that the \"size\" or measure of the set of discontinuities, not just its density or cardinality, is the decisive factor.", "problem": "The standard ternary Cantor set, denoted by $C$, is the subset of the interval $[0, 1]$ consisting of all real numbers that have a ternary (base-3) representation containing only the digits 0 and 2. Let $\\mathbb{Q}$ represent the set of rational numbers.\n\nConsider a function $f: [0, 1] \\to \\mathbb{R}$ defined as follows:\n$$\nf(x) =\n\\begin{cases}\n1 & \\text{if } x \\in C \\cap \\mathbb{Q} \\\\\n0 & \\text{if } x \\in [0, 1] \\setminus (C \\cap \\mathbb{Q})\n\\end{cases}\n$$\nAnalyze the Riemann integrability of this function. Which of the following statements correctly describes the function's integrability and the value of its Riemann integral, $\\int_0^1 f(x) dx$, if it exists?\n\nA. The function is not Riemann integrable.\nB. The function is Riemann integrable and its integral is 0.\nC. The function is Riemann integrable and its integral is 1.\nD. The function is Riemann integrable and its integral is $1/2$.\nE. The function is Riemann integrable and its integral is $1/3$.", "solution": "Let $E=C\\cap \\mathbb{Q}$. Then $f=\\mathbf{1}_{E}$ is bounded by $0\\leq f\\leq 1$. For a bounded function on $[0,1]$, Riemann integrability is equivalent to the set of points of discontinuity having Lebesgue measure zero (Lebesgue’s criterion).\n\nWe determine the points of continuity of $f$.\n\n1) If $x\\in[0,1]\\setminus C$, then $x$ lies in one of the open intervals removed in the construction of $C$. Hence there exists an open interval $I$ with $x\\in I\\subset [0,1]\\setminus C$. On $I$, $E=\\varnothing$, so $f\\equiv 0$ on $I$, and therefore $f$ is continuous at $x$.\n\n2) If $x\\in C$, then every neighborhood of $x$ intersects $C$ in uncountably many points. The set $C\\cap \\mathbb{Q}$ is dense in $C$ (e.g., the endpoints of the removed intervals are in $C$, are rational with denominators $3^{n}$, and are dense in $C$), and $C\\setminus \\mathbb{Q}$ is also dense in $C$ (since $C$ is uncountable but $\\mathbb{Q}$ is countable). Thus, for every neighborhood of $x$, there are points $y\\in C\\cap \\mathbb{Q}$ with $f(y)=1$ and points $z\\in C\\setminus \\mathbb{Q}$ with $f(z)=0$. Hence the oscillation of $f$ at $x$ is $1$, so $f$ is discontinuous at every $x\\in C$.\n\nTherefore, the set of discontinuities of $f$ is exactly $C$. The Cantor set $C$ has Lebesgue measure zero. By Lebesgue’s criterion, $f$ is Riemann integrable.\n\nTo compute the integral, fix $\\varepsilon>0$. Since $C$ has measure zero, there exist open intervals $\\{I_{k}\\}$ with $C\\subset \\bigcup_{k} I_{k}$ and $\\sum_{k} |I_{k}|<\\varepsilon$. Refine a partition $P$ of $[0,1]$ so that each endpoint of each $I_{k}$ is a partition point. For any subinterval $J$ of $P$ with $J\\subset [0,1]\\setminus \\bigcup_{k} I_{k}$, we have $J\\cap C=\\varnothing$, hence $f\\equiv 0$ on $J$, so $\\sup_{J} f=\\inf_{J} f=0$ and its contribution to both the upper and lower sums is $0$. For any subinterval $J\\subset I_{k}$, we have $0\\leq \\inf_{J} f\\leq \\sup_{J} f\\leq 1$, so the contribution of $J$ to the upper sum is at most $|J|$. Summing over such $J$, the upper Darboux sum satisfies\n$$\nU(f,P)\\leq \\sum_{k} |I_{k}|<\\varepsilon.\n$$\nThe lower Darboux sum is nonnegative, so $0\\leq \\underline{\\int_{0}^{1}} f \\leq \\overline{\\int_{0}^{1}} f \\leq \\varepsilon$. Since $\\varepsilon>0$ is arbitrary,\n$$\n\\int_{0}^{1} f(x)\\,dx=0.\n$$\n\nConsequently, $f$ is Riemann integrable and its integral is $0$, which corresponds to option B.", "answer": "$$\\boxed{B}$$", "id": "1450278"}]}