{"hands_on_practices": [{"introduction": "The journey into Riemann integrability begins with a foundational concept: the convergence of upper and lower Darboux sums. For an integral to be well-defined, the \"area uncertainty\"—the difference between the sum of areas of circumscribing and inscribing rectangles—must vanish as we refine our measurement. This first practice invites you to compute this difference for a simple linear function, providing a concrete illustration of how this condition is met for continuous functions and how the error shrinks with finer partitions [@problem_id:1450126].", "problem": "In the context of Riemann integration, consider the function $f(x) = 2x + 1$ defined on the closed interval $[0, 3]$. Let $P_n$ be a uniform partition of the interval $[0, 3]$ into $n$ subintervals of equal width, $\\Delta x$. The partition points are given by $x_i$ for $i=0, 1, \\dots, n$, where $x_0 = 0$ and $x_n = 3$.\n\nFor each subinterval $[x_{i-1}, x_i]$, we define the local infimum as $m_i = \\inf_{x \\in [x_{i-1}, x_i]} f(x)$ and the local supremum as $M_i = \\sup_{x \\in [x_{i-1}, x_i]} f(x)$.\n\nThe lower Darboux sum, $L(P_n, f)$, and the upper Darboux sum, $U(P_n, f)$, are defined as:\n$$L(P_n, f) = \\sum_{i=1}^{n} m_i \\Delta x$$\n$$U(P_n, f) = \\sum_{i=1}^{n} M_i \\Delta x$$\n\nYour task is to calculate the difference $U(P_n, f) - L(P_n, f)$. Express your answer as a function of $n$.", "solution": "We consider the function $f(x)=2x+1$ on $[0,3]$ and a uniform partition $P_{n}$ with width $\\Delta x=\\frac{3-0}{n}=\\frac{3}{n}$ and points $x_{i}=i\\Delta x=\\frac{3i}{n}$ for $i=0,1,\\dots,n$.\n\nSince $f$ is strictly increasing on $[0,3]$ (because $f'(x)=2>0$), on each subinterval $[x_{i-1},x_{i}]$ the local infimum and supremum are\n$$\nm_{i}=f(x_{i-1})=2x_{i-1}+1,\\qquad M_{i}=f(x_{i})=2x_{i}+1.\n$$\nThe lower and upper Darboux sums are\n$$\nL(P_{n},f)=\\sum_{i=1}^{n}m_{i}\\,\\Delta x,\\qquad U(P_{n},f)=\\sum_{i=1}^{n}M_{i}\\,\\Delta x.\n$$\nTherefore, their difference is\n$$\nU(P_{n},f)-L(P_{n},f)=\\sum_{i=1}^{n}\\left(M_{i}-m_{i}\\right)\\Delta x=\\sum_{i=1}^{n}\\left(f(x_{i})-f(x_{i-1})\\right)\\Delta x.\n$$\nCompute the increment of $f$ over one subinterval:\n$$\nf(x_{i})-f(x_{i-1})=\\left(2x_{i}+1\\right)-\\left(2x_{i-1}+1\\right)=2\\left(x_{i}-x_{i-1}\\right)=2\\Delta x.\n$$\nHence each term in the sum equals $2\\Delta x$, and thus\n$$\nU(P_{n},f)-L(P_{n},f)=\\sum_{i=1}^{n}\\left(2\\Delta x\\right)\\Delta x=2n(\\Delta x)^{2}.\n$$\nSubstituting $\\Delta x=\\frac{3}{n}$ yields\n$$\nU(P_{n},f)-L(P_{n},f)=2n\\left(\\frac{3}{n}\\right)^{2}=\\frac{18}{n}.\n$$", "answer": "$$\\boxed{\\frac{18}{n}}$$", "id": "1450126"}, {"introduction": "Having established how Riemann integrability works for well-behaved functions, we now probe its subtleties and robustness. What happens if we alter a perfectly integrable function at a few, or even many, distinct points? This exercise [@problem_id:1450101] challenges you to think about how the integral behaves under such modifications, introducing the crucial idea that integrability depends on a function's behavior on the vast majority of points, not its value at a finite number of locations.", "problem": "Let $f: [a, b] \\to \\mathbb{R}$ be a function that is known to be Riemann integrable on the closed interval $[a, b]$. Let $S = \\{x_1, x_2, \\dots, x_n\\}$ be a finite set of $n$ distinct points in the interval $[a, b]$.\n\nA new function $g: [a, b] \\to \\mathbb{R}$ is constructed from $f$ by altering its values at the points in $S$. Specifically, $g(x)$ is defined as follows:\n$$\ng(x) = \\begin{cases}\nc_i  \\text{if } x = x_i \\in S \\\\\nf(x)  \\text{if } x \\notin S\n\\end{cases}\n$$\nwhere $c_1, c_2, \\dots, c_n$ are arbitrary real constants.\n\nWhich of the following statements most accurately describes the Riemann integrability of the function $g(x)$ on the interval $[a, b]$?\n\nA. The function $g(x)$ is always Riemann integrable on $[a, b]$.\n\nB. The function $g(x)$ is never Riemann integrable on $[a, b]$ unless $g(x) = f(x)$ for all $x$.\n\nC. The Riemann integrability of $g(x)$ depends on the specific points chosen from $S$. For example, it might be integrable if the points are rational but not if they are irrational.\n\nD. The Riemann integrability of $g(x)$ depends on the new values $c_i$ assigned. It is integrable only if the values $c_i$ are 'close' to the original values $f(x_i)$.\n\nE. The function $g(x)$ is Riemann integrable on $[a, b]$ only if the original function $f(x)$ was continuous on the entire interval $[a, b]$.", "solution": "We recall two standard facts about Riemann integrability on a closed interval:\n1) If a function is Riemann integrable on a closed interval, then it is bounded on that interval.\n2) Refining a partition does not increase the difference between the upper and lower sums for a fixed function.\n\nSince $f$ is Riemann integrable on $[a,b]$, it is bounded; hence there exists $B \\in \\mathbb{R}$ such that $|f(x)| \\leq B$ for all $x \\in [a,b]$. The function $g$ differs from $f$ only at the finitely many points $x_{1},\\dots,x_{n}$. Define\n$$\nM \\coloneqq \\max\\Big\\{B,\\max_{1 \\leq i \\leq n}|c_{i}|\\Big\\}.\n$$\nThen $|g(x)| \\leq M$ for all $x \\in [a,b]$.\n\nWe will show directly that $g$ is Riemann integrable. Let $\\varepsilon0$ be arbitrary. Because $f$ is Riemann integrable, there exists a partition $P_{1}$ of $[a,b]$ such that\n$$\nU(f,P_{1})-L(f,P_{1})\\frac{\\varepsilon}{2}.\n$$\nFor each $i \\in \\{1,\\dots,n\\}$ choose a closed interval $I_{i}$ containing $x_{i}$ so that the total length satisfies\n$$\n\\sum_{i=1}^{n}|I_{i}|\\frac{\\varepsilon}{4M}.\n$$\nForm a new partition $Q$ by refining $P_{1}$ with the endpoints of all $I_{i}$. Consider the difference of the upper and lower sums of $g$ with respect to $Q$:\n$$\nU(g,Q)-L(g,Q)\n=\\sum_{J \\in Q}\\big(\\sup_{x \\in J}g(x)-\\inf_{x \\in J}g(x)\\big)\\,|J|.\n$$\nSplit the sum over $Q$ into two parts: subintervals $J$ contained in $\\bigcup_{i}I_{i}$ and subintervals $J$ disjoint from all $I_{i}$. If $J$ is disjoint from all $I_{i}$, then $g=f$ on $J$, so the contribution from such $J$ is at most\n$$\nU(f,Q)-L(f,Q)\\leq U(f,P_{1})-L(f,P_{1})\\frac{\\varepsilon}{2},\n$$\nbecause refining $P_{1}$ to $Q$ cannot increase the difference for $f$. If $J \\subset I_{i}$ for some $i$, then\n$$\n\\sup_{x \\in J}g(x)-\\inf_{x \\in J}g(x)\\leq 2M,\n$$\nso the total contribution from all such $J$ is bounded by\n$$\n\\sum_{J \\subset \\bigcup I_{i}}2M\\,|J|\\leq 2M\\sum_{i=1}^{n}|I_{i}|2M \\cdot \\frac{\\varepsilon}{4M}=\\frac{\\varepsilon}{2}.\n$$\nCombining the two parts yields\n$$\nU(g,Q)-L(g,Q)\\frac{\\varepsilon}{2}+\\frac{\\varepsilon}{2}=\\varepsilon.\n$$\nSince $\\varepsilon0$ was arbitrary, $g$ is Riemann integrable on $[a,b]$.\n\nEquivalently, by the Lebesgue criterion for Riemann integrability, a bounded function is Riemann integrable if and only if the set of its points of discontinuity has Lebesgue measure zero. The function $g$ differs from $f$ by only a finite set of points, so the set of discontinuities of $g$ is the union of the set of discontinuities of $f$ (which has measure zero because $f$ is Riemann integrable) with a finite set (also measure zero). Hence $g$ is Riemann integrable.\n\nTherefore, the correct choice is that $g$ is always Riemann integrable on $[a,b]$, independent of the specific points $x_{i}$ or the values $c_{i}$. This also shows that the integral of $g$ equals the integral of $f$, since changing a function on finitely many points does not alter its Riemann integral.", "answer": "$$\\boxed{A}$$", "id": "1450101"}, {"introduction": "To fully grasp a mathematical criterion, it is essential to examine cases where it fails. This practice introduces a classic counterexample—a function that is discontinuous at every point in its domain, violating the core condition for Riemann integrability. By calculating the upper and lower Riemann integrals [@problem_id:1450117], you will see firsthand why such functions are not integrable and gain a deeper appreciation for why the \"size\" of the set of discontinuities is the ultimate arbiter.", "problem": "Consider a function $f: [0, 2] \\to \\mathbb{R}$ defined as follows:\n$$\nf(x) = \\begin{cases} \n1  \\text{if } x \\text{ is a rational number} \\\\\n-1  \\text{if } x \\text{ is an irrational number}\n\\end{cases}\n$$\nLet $\\underline{\\int_a^b} g(x)dx$ denote the lower Riemann integral and $\\overline{\\int_a^b} g(x)dx$ denote the upper Riemann integral of a bounded function $g$ over the interval $[a, b]$.\n\nCalculate the following four values:\n1. The lower Riemann integral of $f$ over $[0, 2]$, which is $\\underline{\\int_0^2} f(x)dx$.\n2. The upper Riemann integral of $f$ over $[0, 2]$, which is $\\overline{\\int_0^2} f(x)dx$.\n3. The lower Riemann integral of $|f|$ over $[0, 2]$, which is $\\underline{\\int_0^2} |f(x)|dx$.\n4. The upper Riemann integral of $|f|$ over $[0, 2]$, which is $\\overline{\\int_0^2} |f(x)|dx$.\n\nYour final answer should be a collection of these four numerical values, presented in the specific order listed above.", "solution": "We recall the Darboux definitions. For a bounded function $g$ on $[a,b]$ and a partition $P=\\{x_{0},x_{1},\\dots,x_{n}\\}$ with $a=x_{0}x_{1}\\cdotsx_{n}=b$, define $m_{i}=\\inf_{x\\in[x_{i-1},x_{i}]}g(x)$ and $M_{i}=\\sup_{x\\in[x_{i-1},x_{i}]}g(x)$. The lower sum is $L(g,P)=\\sum_{i=1}^{n}m_{i}(x_{i}-x_{i-1})$, the upper sum is $U(g,P)=\\sum_{i=1}^{n}M_{i}(x_{i}-x_{i-1})$. The lower Riemann integral is $\\sup_{P}L(g,P)$ and the upper Riemann integral is $\\inf_{P}U(g,P)$.\n\nFor $f$ defined by $f(x)=1$ on rational $x$ and $f(x)=-1$ on irrational $x$, both the rationals and the irrationals are dense in every nondegenerate subinterval of $[0,2]$. Hence, for any subinterval $[x_{i-1},x_{i}]$, we have\n$$\n\\inf_{x\\in[x_{i-1},x_{i}]}f(x)=-1,\\qquad \\sup_{x\\in[x_{i-1},x_{i}]}f(x)=1.\n$$\nTherefore, for any partition $P$,\n$$\nL(f,P)=\\sum_{i=1}^{n}(-1)(x_{i}-x_{i-1})=-\\sum_{i=1}^{n}(x_{i}-x_{i-1})=-(2-0)=-2,\n$$\n$$\nU(f,P)=\\sum_{i=1}^{n}(1)(x_{i}-x_{i-1})=\\sum_{i=1}^{n}(x_{i}-x_{i-1})=2-0=2.\n$$\nThese values are independent of $P$, so\n$$\n\\underline{\\int_{0}^{2}}f(x)\\,dx=\\sup_{P}L(f,P)=-2,\\qquad \\overline{\\int_{0}^{2}}f(x)\\,dx=\\inf_{P}U(f,P)=2.\n$$\n\nNow consider $|f|$. For all $x\\in[0,2]$, $|f(x)|=1$. Thus on any subinterval $[x_{i-1},x_{i}]$, both the infimum and supremum of $|f|$ equal $1$. Hence, for any partition $P$,\n$$\nL(|f|,P)=\\sum_{i=1}^{n}1\\cdot(x_{i}-x_{i-1})=2,\\qquad U(|f|,P)=\\sum_{i=1}^{n}1\\cdot(x_{i}-x_{i-1})=2.\n$$\nTherefore,\n$$\n\\underline{\\int_{0}^{2}}|f(x)|\\,dx=2,\\qquad \\overline{\\int_{0}^{2}}|f(x)|\\,dx=2.\n$$\n\nCollecting the four requested values in the specified order gives $-2$, $2$, $2$, $2$.", "answer": "$$\\boxed{\\begin{pmatrix}-2  2  2  2\\end{pmatrix}}$$", "id": "1450117"}]}