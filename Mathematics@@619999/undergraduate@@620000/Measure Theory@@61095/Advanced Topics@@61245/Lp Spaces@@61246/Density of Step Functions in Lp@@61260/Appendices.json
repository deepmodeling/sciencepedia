{"hands_on_practices": [{"introduction": "The density theorem is a cornerstone of analysis, stating that for $1 \\le p \\lt \\infty$, any function in an $L^p$ space can be arbitrarily well-approximated by simple step functions. However, this powerful guarantee comes with a crucial prerequisite. This first exercise [@problem_id:1415136] serves as a fundamental check: before attempting to approximate a function, we must first verify that it is a member of the target $L^p$ space.", "problem": "Consider the function $f: (0, 1] \\to \\mathbb{R}$ defined by $f(x) = x^{-1/3}$. We will consider all integrals with respect to the standard Lebesgue measure on $\\mathbb{R}$.\n\nA function $\\phi: (0, 1] \\to \\mathbb{R}$ is called a **step function** if it can be expressed as a finite sum $\\phi(x) = \\sum_{i=1}^n c_i \\chi_{I_i}(x)$, where each $c_i$ is a real constant and each $I_i$ is a subinterval of $(0, 1]$. The function $\\chi_{I_i}(x)$ is the characteristic function of the interval $I_i$.\n\nA measurable function $g$ is said to be in the space $L^p((0,1])$, for $p \\ge 1$, if its $L^p$ norm, defined as $\\|g\\|_{p} = \\left(\\int_{(0,1]} |g(x)|^p dx\\right)^{1/p}$, is finite. It is a fundamental result in analysis that for any function $g \\in L^p((0,1])$ where $1 \\leq p < \\infty$, there exists a sequence of step functions $\\{\\phi_n\\}$ such that $\\lim_{n \\to \\infty} \\|g - \\phi_n\\|_p = 0$. This property is referred to as the density of step functions in $L^p$.\n\nBased on the information provided, can the function $f(x) = x^{-1/3}$ be approximated by step functions in the $L^3$ norm on the interval $(0, 1]$? Select the correct statement and its justification from the options below.\n\nA. Yes, because $f(x)$ is a continuous function on its domain $(0,1]$.\n\nB. Yes, because for any small $\\epsilon > 0$, the integral of $|f(x)|^3$ over the interval $[\\epsilon, 1]$ is finite.\n\nC. No, because the function $f(x)$ is unbounded as $x$ approaches $0$.\n\nD. No, because the function $f(x)$ does not belong to the space $L^3((0,1])$.", "solution": "We determine whether $f(x)=x^{-1/3}$ can be approximated by step functions in the $L^{3}$ norm on $(0,1]$ by using the density of step functions in $L^{p}$ for $1 \\leq p < \\infty$: a function can be approximated in $L^{3}$ by step functions if and only if it belongs to $L^{3}((0,1])$.\n\nCompute the $L^{3}$ norm of $f$:\n$$\n\\|f\\|_{3}^{3}=\\int_{(0,1]}|f(x)|^{3}\\,dx=\\int_{0}^{1}x^{-1}\\,dx.\n$$\nEvaluate the improper integral:\n$$\n\\int_{0}^{1}x^{-1}\\,dx=\\lim_{a\\to 0^{+}}\\int_{a}^{1}x^{-1}\\,dx=\\lim_{a\\to 0^{+}}\\big[\\ln x\\big]_{a}^{1}=\\lim_{a\\to 0^{+}}\\big(\\ln 1-\\ln a\\big)=\\lim_{a\\to 0^{+}}\\big(0-\\ln a\\big)=+\\infty.\n$$\nThus $\\|f\\|_{3}=+\\infty$, so $f\\notin L^{3}((0,1])$. Since step functions are dense in $L^{3}$ but only approximate functions that are actually in $L^{3}$, there cannot exist step functions $\\{\\phi_{n}\\}$ with $\\lim_{n\\to\\infty}\\|f-\\phi_{n}\\|_{3}=0$.\n\nTherefore, the correct choice is that $f$ cannot be approximated in $L^{3}$ norm because it does not belong to $L^{3}((0,1])$.", "answer": "$$\\boxed{D}$$", "id": "1415136"}, {"introduction": "Once we establish that a function can be approximated, the natural next question is, \"how fast does the approximation get better as we refine our step function?\" This practice problem [@problem_id:1415135] moves from the existence of an approximation to the analysis of its quality. By focusing on the important class of Lipschitz continuous functions, you will derive a concrete upper bound on the $L^p$ approximation error, providing a quantitative measure of the rate of convergence.", "problem": "Let $f: [0, 1] \\to \\mathbb{R}$ be a function that is Lipschitz continuous with a Lipschitz constant $M > 0$, meaning $|f(x) - f(y)| \\le M|x - y|$ for all $x, y \\in [0, 1]$. For any integer $n \\ge 1$, we construct an approximating step function $s_n(x)$ based on a uniform partition of the interval $[0, 1]$ into $n$ subintervals. The partition is defined by the intervals $I_k = \\left[\\frac{k-1}{n}, \\frac{k}{n}\\right)$ for $k=1, \\dots, n-1$ and $I_n = \\left[\\frac{n-1}{n}, 1\\right]$. The step function is defined by taking the value of $f$ at the left endpoint of each subinterval, i.e., $s_n(x) = f\\left(\\frac{k-1}{n}\\right)$ for all $x \\in I_k$, where $k \\in \\{1, 2, \\dots, n\\}$.\n\nThe quality of this approximation is measured by the $L^p$ error for a given $p \\in [1, \\infty)$. The $L^p$ norm of a function $g$ on $[0,1]$ is given by $\\|g\\|_{L^p} = \\left(\\int_0^1 |g(x)|^p \\,dx\\right)^{1/p}$.\n\nDetermine the sharpest possible upper bound for the approximation error $\\|f - s_n\\|_{L^p}$ that holds for any function $f$ with Lipschitz constant $M$. Express your answer as a function of $M$, $n$, and $p$.", "solution": "Let $f:[0,1]\\to\\mathbb{R}$ be Lipschitz with constant $M>0$, so $|f(x)-f(y)|\\le M|x-y|$ for all $x,y\\in[0,1]$. For the uniform partition with $I_{k}=\\left[\\frac{k-1}{n},\\frac{k}{n}\\right)$ for $k=1,\\dots,n-1$ and $I_{n}=\\left[\\frac{n-1}{n},1\\right]$, define $a_{k}=\\frac{k-1}{n}$. The step function is $s_{n}(x)=f(a_{k})$ for $x\\in I_{k}$.\n\nFor any $x\\in I_{k}$, the Lipschitz property gives\n$$\n|f(x)-s_{n}(x)|=|f(x)-f(a_{k})|\\le M|x-a_{k}|.\n$$\nHence, for any $p\\in[1,\\infty)$,\n$$\n\\|f-s_{n}\\|_{L^{p}}^{p}=\\sum_{k=1}^{n}\\int_{I_{k}}|f(x)-f(a_{k})|^{p}\\,dx\n\\le \\sum_{k=1}^{n}\\int_{I_{k}} M^{p}|x-a_{k}|^{p}\\,dx.\n$$\nChanging variable $t=x-a_{k}$ on $I_{k}$, where $t\\in[0,\\frac{1}{n}]$, yields\n$$\n\\int_{I_{k}} M^{p}|x-a_{k}|^{p}\\,dx\n= M^{p}\\int_{0}^{\\frac{1}{n}} t^{p}\\,dt\n= M^{p}\\,\\frac{\\left(\\frac{1}{n}\\right)^{p+1}}{p+1}.\n$$\nSumming over $k=1,\\dots,n$ gives\n$$\n\\|f-s_{n}\\|_{L^{p}}^{p}\\le n\\cdot M^{p}\\,\\frac{\\left(\\frac{1}{n}\\right)^{p+1}}{p+1}\n= \\frac{M^{p}}{p+1}\\,n^{-p}.\n$$\nTaking the $p$-th root,\n$$\n\\|f-s_{n}\\|_{L^{p}} \\le \\frac{M}{n\\,(p+1)^{\\frac{1}{p}}}.\n$$\n\nThis bound is sharp. Indeed, for $f(x)=Mx$ one has, on each $I_{k}$,\n$$\n|f(x)-s_{n}(x)|=M(x-a_{k}),\n$$\nso equality holds in all the above inequalities, yielding\n$$\n\\|f-s_{n}\\|_{L^{p}}=\\frac{M}{n\\,(p+1)^{\\frac{1}{p}}}.\n$$\nTherefore, the sharpest possible upper bound valid for all Lipschitz $f$ with constant $M$ is $\\frac{M}{n\\,(p+1)^{\\frac{1}{p}}}$.", "answer": "$$\\boxed{\\frac{M}{n\\,(p+1)^{\\frac{1}{p}}}}$$", "id": "1415135"}, {"introduction": "In the world of infinite-dimensional function spaces, our intuition about convergence can sometimes be misleading. Whether a sequence of functions converges depends critically on how we measure the distance between themâ€”that is, on the choice of norm. This exercise [@problem_id:1415142] highlights the stark difference between convergence in the $L^1$ norm and the $L^\\infty$ norm by challenging you to find a sequence of functions that converges to zero in one sense while diverging to infinity in the other.", "problem": "Consider the space of real-valued functions defined on the interval $[0,1]$. For a function $f$ in this space, its $L^1$ norm is defined as $\\|f\\|_1 = \\int_0^1 |f(x)| dx$, and its $L^\\infty$ norm is defined as $\\|f\\|_\\infty = \\text{ess sup}_{x \\in [0,1]} |f(x)|$. A step function is a function that can be written as a finite linear combination of characteristic functions of subintervals. For a simple step function of the form $f(x) = C \\cdot \\chi_I(x)$, where $C$ is a constant and $\\chi_I$ is the characteristic function of an interval $I \\subseteq [0,1]$, the $L^\\infty$ norm is simply $|C|$.\n\nWhich of the following sequences of step functions $\\{f_n\\}_{n=1}^{\\infty}$ defined on the interval $[0,1]$ is unbounded in the $L^\\infty$ norm (i.e., $\\lim_{n \\to \\infty} \\|f_n\\|_\\infty = \\infty$) but converges to the zero function in the $L^1$ norm (i.e., $\\lim_{n \\to \\infty} \\|f_n\\|_1 = 0$)? Here, $\\chi_I(x)$ denotes the characteristic function, which is 1 if $x \\in I$ and 0 otherwise.\n\nA. $f_n(x) = n \\cdot \\chi_{[0, 1/n]}(x)$\n\nB. $f_n(x) = \\sqrt{n} \\cdot \\chi_{[0, 1/n^2]}(x)$\n\nC. $f_n(x) = \\frac{1}{n} \\cdot \\chi_{[0, 1]}(x)$\n\nD. $f_n(x) = n^2 \\cdot \\chi_{[1-1/n, 1]}(x)$", "solution": "For a step function of the form $f(x)=C\\chi_{I}(x)$, the $L^{\\infty}$ norm satisfies $\\|f\\|_{\\infty}=|C|$, and the $L^{1}$ norm satisfies $\\|f\\|_{1}=\\int_{0}^{1}|f(x)|\\,dx=|C|\\cdot m(I)$, where $m(I)$ is the Lebesgue measure (length) of the interval $I$.\n\nEvaluate each option:\n- Option A: $f_{n}(x)=n\\chi_{[0,1/n]}(x)$. Then $\\|f_{n}\\|_{\\infty}=n\\to\\infty$, and $\\|f_{n}\\|_{1}=n\\cdot m([0,1/n])=n\\cdot\\frac{1}{n}=1$, so it does not converge to zero in $L^{1}$.\n- Option B: $f_{n}(x)=\\sqrt{n}\\,\\chi_{[0,1/n^{2}]}(x)$. Then $\\|f_{n}\\|_{\\infty}=\\sqrt{n}\\to\\infty$, and $\\|f_{n}\\|_{1}=\\sqrt{n}\\cdot m([0,1/n^{2}])=\\sqrt{n}\\cdot\\frac{1}{n^{2}}=n^{-3/2}\\to 0$, so this satisfies both conditions.\n- Option C: $f_{n}(x)=\\frac{1}{n}\\chi_{[0,1]}(x)$. Then $\\|f_{n}\\|_{\\infty}=\\frac{1}{n}\\to 0$, so it is not unbounded in $L^{\\infty}$, although $\\|f_{n}\\|_{1}=\\frac{1}{n}\\to 0$.\n- Option D: $f_{n}(x)=n^{2}\\chi_{[1-1/n,1]}(x)$. Then $\\|f_{n}\\|_{\\infty}=n^{2}\\to\\infty$, and $\\|f_{n}\\|_{1}=n^{2}\\cdot m([1-1/n,1])=n^{2}\\cdot\\frac{1}{n}=n\\to\\infty$, so it does not converge to zero in $L^{1}$.\n\nOnly Option B is unbounded in $L^{\\infty}$ while converging to zero in $L^{1}$.", "answer": "$$\\boxed{B}$$", "id": "1415142"}]}