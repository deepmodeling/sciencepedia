{"hands_on_practices": [{"introduction": "To begin our hands-on exploration, let's start with a foundational exercise that directly applies the definition of \"almost everywhere\" equality. This problem [@problem_id:25990] invites you to look past superficial complexity to find an underlying simplicity. By combining a basic trigonometric identity with the knowledge that countable sets like the integers $\\mathbb{Z}$ have measure zero, you'll see how a function that appears to take different values can be equivalent to a simple constant function from a measure-theoretic perspective.", "problem": "### Background\n\nIn mathematical analysis, particularly in measure theory, we often encounter situations where two functions are considered \"equivalent\" even if they are not identical at every point. This concept is formalized by \"almost everywhere\" equality.\n\n**Definition 1: Set of Measure Zero**\nA set $S \\subset \\mathbb{R}$ is said to have **measure zero** if it is a countable set of points. (A set is countable if its elements can be put into one-to-one correspondence with the set of natural numbers). Examples of sets with measure zero include any finite set of points, the set of all integers $\\mathbb{Z}$, and the set of all rational numbers $\\mathbb{Q}$.\n\n**Definition 2: Almost Everywhere (a.e.) Equality**\nTwo functions $f: \\mathbb{R} \\to \\mathbb{R}$ and $g: \\mathbb{R} \\to \\mathbb{R}$ are said to be **equal almost everywhere** (written $f = g$ a.e.) if the set of points where they differ has measure zero. That is, the set $\\{x \\in \\mathbb{R} \\mid f(x) \\neq g(x)\\}$ is a set of measure zero.\n\n**Definition 3: The Characteristic Function**\nFor any set $A \\subseteq \\mathbb{R}$, its characteristic function, denoted $\\chi_A(x)$, is defined as:\n$$\n\\chi_A(x) = \\begin{cases} 1 & \\text{if } x \\in A \\\\ 0 & \\text{if } x \\notin A \\end{cases}\n$$\n\n### Problem Statement\n\nConsider the function $g: \\mathbb{R} \\to \\mathbb{R}$ defined by:\n$$\ng(x) = \\sin^2(x) + \\cos^2(x) + \\chi_{\\mathbb{Z}}(x)\n$$\nwhere $\\chi_{\\mathbb{Z}}(x)$ is the characteristic function for the set of all integers, $\\mathbb{Z}$.\n\nFind the constant value $k$ such that the constant function $f(x) = k$ is equal to $g(x)$ almost everywhere.", "solution": "We have\n$$\ng(x)=\\sin^2(x)+\\cos^2(x)+\\chi_{\\mathbb{Z}}(x).\n$$\nUsing the Pythagorean identity,\n$$\n\\sin^2(x)+\\cos^2(x)=1,\n$$\nso\n$$\ng(x)=1+\\chi_{\\mathbb{Z}}(x)\n=\\begin{cases}\n2,&x\\in\\mathbb{Z},\\\\\n1,&x\\notin\\mathbb{Z}.\n\\end{cases}\n$$\nSince $\\mathbb{Z}$ is countable (measure zero), $g(x)=1$ for all $x$ except on a measure-zero set. Thus the constant $k=1$ satisfies $f(x)=k=g(x)$ a.e.", "answer": "$$\\boxed{1}$$", "id": "25990"}, {"introduction": "Having grasped the basic definition, we now explore a more nuanced and classic example that highlights the power of the \"almost everywhere\" concept. This practice [@problem_id:1458676] features the Thomae function, a fascinating object that is continuous at all irrational numbers but discontinuous at all rational numbers. You will investigate whether this function, with its intricate continuity properties, can be considered the same as a simple continuous function under the lens of measure theory, revealing a deep distinction between pointwise behavior and integral behavior.", "problem": "In the study of real analysis and measure theory, we often encounter functions with peculiar properties of continuity. Consider the Thomae function, also known as the popcorn function, defined on the interval $[0,1]$. Let this function be denoted by $f: [0,1] \\to \\mathbb{R}$, where:\n- If $x$ is an irrational number in $[0,1]$, then $f(x) = 0$.\n- If $x$ is a rational number in $[0,1]$, written in its simplest form as $x = \\frac{p}{q}$ (where $p, q$ are coprime integers and $q > 0$), then $f(x) = \\frac{1}{q}$. We define $f(0) = 1$ (corresponding to $p=0, q=1$) and $f(1)=1$ (corresponding to $p=1, q=1$).\n\nIt is a known result that this function $f$ is continuous at every irrational number in $[0,1]$ and discontinuous at every rational number in $[0,1]$.\n\nThe concept of two functions being 'equal almost everywhere' (a.e.) with respect to the Lebesgue measure is central to modern integration theory. Two functions $h_1$ and $h_2$ on $[0,1]$ are said to be equal almost everywhere if the set of points where they differ, $\\{x \\in [0,1] \\mid h_1(x) \\neq h_2(x)\\}$, has a Lebesgue measure of zero.\n\nBased on these definitions, which of the following statements is true regarding the function $f$?\n\nA. No, a continuous function $g$ such that $f=g$ a.e. does not exist, because any function equal almost everywhere to a continuous function must itself be continuous everywhere.\n\nB. No, a continuous function $g$ such that $f=g$ a.e. does not exist, because the set of points where $f$ is discontinuous is the set of rational numbers, which is a dense set in $[0,1]$.\n\nC. Yes, a continuous function $g$ such that $f=g$ a.e. exists, and the constant function $g(x) = 0$ for all $x \\in [0,1]$ is a valid example.\n\nD. Yes, a continuous function $g$ such that $f=g$ a.e. exists, but such a function $g$ must be non-constant to accommodate the various non-zero values of $f$.", "solution": "By definition, the Thomae function $f:[0,1]\\to\\mathbb{R}$ satisfies $f(x)=0$ for every irrational $x$, and for rational $x=\\frac{p}{q}$ in lowest terms (with $q>0$) it satisfies $f(x)=\\frac{1}{q}$, with $f(0)=1$ and $f(1)=1$. The set where $f$ is nonzero is precisely the rational points in $[0,1]$, since for every irrational $x$ one has $f(x)=0$.\n\nLet $\\lambda$ denote the Lebesgue measure on $[0,1]$. The set $\\mathbb{Q}\\cap[0,1]$ is countable; therefore it has Lebesgue measure zero:\n$$\n\\lambda\\big(\\mathbb{Q}\\cap[0,1]\\big)=0.\n$$\nConsider the continuous function $g:[0,1]\\to\\mathbb{R}$ defined by $g(x)=0$ for all $x\\in[0,1]$. Then\n$$\n\\{x\\in[0,1]: f(x)\\neq g(x)\\}=\\{x\\in[0,1]: f(x)\\neq 0\\}=\\mathbb{Q}\\cap[0,1],\n$$\nso $\\lambda(\\{x\\in[0,1]: f(x)\\neq g(x)\\})=0$. Hence $f=g$ almost everywhere. This establishes the existence of a continuous $g$ with $f=g$ a.e., and the constant zero function is a valid example.\n\nNow assess the options:\n\n- Option A is false. Being equal almost everywhere to a continuous function does not force a function to be continuous; almost everywhere equality does not preserve pointwise continuity. The Thomae function itself is a counterexample relative to the continuous zero function.\n\n- Option B is false. The density of the discontinuity set is irrelevant to almost everywhere equality. A set can be dense and still have measure zero (as $\\mathbb{Q}\\cap[0,1]$ does), so density does not preclude $f$ being equal a.e. to a continuous function.\n\n- Option C is true. As shown, $g(x)=0$ for all $x$ is continuous and satisfies $f=g$ a.e.\n\n- Option D is false. Not only can $g$ be constant, but in fact any continuous $g$ that agrees with $f$ almost everywhere must be identically zero. Indeed, since $f=0$ almost everywhere, if $g$ is continuous and $f=g$ almost everywhere, then $g=0$ almost everywhere. The set $U=\\{x\\in[0,1]: g(x)\\neq 0\\}$ is open by continuity of $g$ and satisfies $\\lambda(U)=0$, which implies $U=\\varnothing$ because an open subset of $\\mathbb{R}$ with Lebesgue measure zero must be empty. Therefore $g\\equiv 0$.\n\nTherefore, the correct statement is that a continuous $g$ exists and $g(x)=0$ works.", "answer": "$$\\boxed{C}$$", "id": "1458676"}, {"introduction": "Finally, we extend the static idea of almost everywhere equality to the dynamic context of function sequences. This exercise [@problem_id:1458694] is critical for understanding the foundations of modern integration and probability theory, where almost everywhere convergence is a central theme. By comparing two different sequences—one that behaves predictably and another, the famous \"typewriter\" sequence, that does not—you will solidify your understanding of what it means for convergence to hold almost everywhere by analyzing the measure of the set where it fails.", "problem": "Consider the measure space $([0, 1], \\mathcal{B}, \\lambda)$, where $\\mathcal{B}$ is the Borel $\\sigma$-algebra on $[0,1]$ and $\\lambda$ is the Lebesgue measure. We are interested in the convergence of sequences of functions to the zero function, $f(x)=0$. A sequence of functions is said to converge almost everywhere (a.e.) to a function if the set of points where it does not converge has a measure of zero.\n\nAnalyze the almost everywhere convergence to the zero function for the following two sequences of functions defined on the interval $[0, 1]$:\n\n**Sequence A:** The sequence $\\{f_n\\}_{n=1}^{\\infty}$ is defined by\n$$f_n(x) = (n+1)x^n(1-x)$$\n\n**Sequence B:** For each integer $n \\ge 1$, let $k_n = \\lfloor \\log_2(n) \\rfloor$ and $j_n = n - 2^{k_n}$. The sequence $\\{h_n\\}_{n=1}^{\\infty}$ is defined by\n$$h_n(x) = \\chi_{[j_n/2^{k_n}, (j_n+1)/2^{k_n}]}(x)$$\nwhere $\\chi_I(x)$ is the characteristic function of an interval $I$, which is 1 if $x \\in I$ and 0 otherwise.\n\nWhich of the following statements is true?\n\nA. Both $f_n$ and $h_n$ converge to 0 a.e. on $[0,1]$.\n\nB. $f_n$ converges to 0 a.e. on $[0,1]$, but $h_n$ does not.\n\nC. $h_n$ converges to 0 a.e. on $[0,1]$, but $f_n$ does not.\n\nD. Neither $f_n$ nor $h_n$ converge to 0 a.e. on $[0,1]$.", "solution": "To determine if a sequence of functions converges to the zero function almost everywhere on $[0, 1]$, we need to find the set of points $S \\subset [0, 1]$ where the sequence does not converge to 0, and then check if the Lebesgue measure of this set, $\\lambda(S)$, is zero.\n\n**Analysis of Sequence A: $f_n(x) = (n+1)x^n(1-x)$**\n\nWe analyze the pointwise limit of $f_n(x)$ as $n \\to \\infty$ for any $x \\in [0, 1]$.\n-   **Case 1: $x=0$.**\n    For all $n \\ge 1$, $f_n(0) = (n+1)(0)^n(1-0) = 0$.\n    Thus, $\\lim_{n \\to \\infty} f_n(0) = 0$.\n-   **Case 2: $x=1$.**\n    For all $n \\ge 1$, $f_n(1) = (n+1)(1)^n(1-1) = 0$.\n    Thus, $\\lim_{n \\to \\infty} f_n(1) = 0$.\n-   **Case 3: $x \\in (0, 1)$.**\n    In this case, we are evaluating the limit $\\lim_{n \\to \\infty} (n+1)x^n(1-x)$. Since $x \\in (0, 1)$, $1-x$ is a positive constant with respect to $n$. We need to evaluate $\\lim_{n \\to \\infty} (n+1)x^n$. This is an indeterminate form of the type $\\infty \\cdot 0$. We know that for any $|x|<1$, the exponential term $x^n$ decays to zero much faster than any polynomial in $n$ grows to infinity. To show this formally, we can use L'Hopital's Rule by rewriting the expression.\n    Let $L = \\lim_{n \\to \\infty} (n+1)x^n = \\lim_{n \\to \\infty} \\frac{n+1}{(1/x)^n}$.\n    Let $y = 1/x$. Since $x \\in (0,1)$, we have $y > 1$. The limit becomes $\\lim_{n \\to \\infty} \\frac{n+1}{y^n}$.\n    This is of the form $\\frac{\\infty}{\\infty}$, so we can apply L'Hopital's Rule (treating $n$ as a continuous variable for the purpose of the limit).\n    $$ L = \\lim_{n \\to \\infty} \\frac{\\frac{d}{dn}(n+1)}{\\frac{d}{dn}(y^n)} = \\lim_{n \\to \\infty} \\frac{1}{y^n \\ln(y)} $$\n    Since $y > 1$, $\\ln(y) > 0$. As $n \\to \\infty$, $y^n \\to \\infty$, so the entire expression goes to 0.\n    Therefore, for any $x \\in (0, 1)$, $\\lim_{n \\to \\infty} f_n(x) = (1-x) \\cdot 0 = 0$.\n\nCombining all cases, we see that $f_n(x)$ converges to 0 for every single point $x \\in [0, 1]$.\nThe set of points $S_f$ where $f_n(x)$ does not converge to 0 is the empty set, $S_f = \\emptyset$.\nThe Lebesgue measure of the empty set is $\\lambda(S_f) = \\lambda(\\emptyset) = 0$.\nBy definition, the sequence $\\{f_n\\}$ converges to 0 almost everywhere on $[0, 1]$.\n\n**Analysis of Sequence B: $h_n(x) = \\chi_{[j_n/2^{k_n}, (j_n+1)/2^{k_n}]}(x)$**\n\nLet's analyze the structure of this sequence, often called the \"typewriter sequence\". The index $n$ is deconstructed into a \"block\" index $k_n = \\lfloor \\log_2(n) \\rfloor$ and a \"position\" index $j_n = n - 2^{k_n}$.\nFor a fixed $k$, as $n$ goes from $2^k$ to $2^{k+1}-1$, the index $j_n$ goes from $0$ to $2^k-1$. In this block of indices, the functions $h_n(x)$ are characteristic functions of the intervals $[j/2^k, (j+1)/2^k]$ for $j=0, 1, \\dots, 2^k-1$. These intervals form a partition of $[0, 1]$.\n\nLet's fix an arbitrary point $x \\in [0, 1]$ and examine the sequence of values $\\{h_n(x)\\}_{n=1}^\\infty$.\n-   **Claim: For any $x \\in [0, 1]$, the value 1 appears infinitely often in the sequence $\\{h_n(x)\\}$.**\n    For any integer $k \\ge 0$, the set of intervals $\\{[j/2^k, (j+1)/2^k]\\}_{j=0}^{2^k-1}$ covers the entire interval $[0, 1]$. Therefore, for any $x \\in [0, 1]$, there must be at least one (in fact, exactly one, unless $x$ is a dyadic rational) interval in this set that contains $x$. Let this interval correspond to index $j^*$.\n    Then, for the index $n = 2^k + j^*$, we have $h_n(x) = 1$.\n    Since we can do this for any integer $k \\ge 0$, we can find a different $n$ for each $k$ such that $h_n(x) = 1$. This means there is an infinite subsequence of $\\{h_n(x)\\}$ that is equal to 1.\n\n-   **Claim: For any $x \\in [0, 1]$, the value 0 appears infinitely often in the sequence $\\{h_n(x)\\}$.**\n    For any integer $k \\ge 1$, the block of functions corresponds to $n$ from $2^k$ to $2^{k+1}-1$. There are $2^k$ such functions in the block. For a fixed $x$, $h_n(x)$ can be 1 for at most two of these functions (if $x$ is a dyadic rational, e.g., $x=j/2^k$). For any irrational $x$, $h_n(x)=1$ for exactly one function in this block. In any case, for any $k \\ge 1$, there are at least $2^k-2$ functions in the block for which $h_n(x)=0$.\n    Since this is true for any $k \\ge 1$, and the number of such functions $2^k-2 \\to \\infty$ as $k \\to \\infty$, there must be an infinite subsequence of $\\{h_n(x)\\}$ that is equal to 0.\n\nA sequence that has an infinite subsequence converging to 1 and another infinite subsequence converging to 0 cannot itself converge. Therefore, for any $x \\in [0, 1]$, the limit $\\lim_{n \\to \\infty} h_n(x)$ does not exist.\n\nThe set of points $S_h$ where $h_n(x)$ does not converge to 0 is the entire interval $[0, 1]$.\nThe Lebesgue measure of this set is $\\lambda(S_h) = \\lambda([0, 1]) = 1$.\nSince the measure of the set of non-convergence is not zero, the sequence $\\{h_n\\}$ does not converge to 0 almost everywhere.\n\n**Conclusion**\nThe sequence $\\{f_n\\}$ converges to 0 almost everywhere (in fact, everywhere), while the sequence $\\{h_n\\}$ does not converge to 0 almost everywhere. This corresponds to option B.", "answer": "$$\\boxed{B}$$", "id": "1458694"}]}