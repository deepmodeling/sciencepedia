{"hands_on_practices": [{"introduction": "The standard construction of simple function approximations is a cornerstone of Lebesgue integration theory. Before exploring its theoretical properties, it's essential to become comfortable with the mechanics of the formula itself. This first exercise provides a direct, hands-on calculation to help you solidify your understanding of how a specific point is evaluated in an approximating simple function [@problem_id:1404696], showing how the function's range is partitioned and a value is assigned based on that partition.", "problem": "In measure theory, any non-negative measurable function $f$ defined on a measure space $(X, \\mathcal{M}, \\mu)$ can be approximated from below by a sequence of simple functions $\\{\\phi_n\\}_{n=1}^{\\infty}$. This canonical or standard construction is defined for each integer $n \\ge 1$ as follows. The simple function $\\phi_n$ is defined by\n$$ \\phi_n(x) = \\sum_{k=0}^{n2^n-1} \\frac{k}{2^n} \\cdot \\mathbb{1}_{E_{n,k}}(x) + n \\cdot \\mathbb{1}_{F_n}(x) $$\nwhere $\\mathbb{1}_S(x)$ is the indicator function for a set $S$, and the sets $E_{n,k}$ and $F_n$ are defined by partitioning the range of $f$:\n$$ E_{n,k} = \\left\\{ x \\in X : \\frac{k}{2^n} \\le f(x) < \\frac{k+1}{2^n} \\right\\} \\quad \\text{for } k = 0, 1, \\dots, n2^n - 1 $$\n$$ F_n = \\{ x \\in X : f(x) \\ge n \\} $$\n\nConsider the function $f(x) = x^2$ on the domain $X = [0, 2]$. Using the construction described above, determine the value of the third simple function in the sequence, $\\phi_3(x)$, at the specific point $x_0 = \\sqrt{1.7}$.", "solution": "We use the canonical approximation with $n=3$. For $k=0,1,\\dots,23$, the sets are\n$$\nE_{3,k}=\\left\\{x\\in[0,2] \\,\\middle|\\, \\frac{k}{2^{3}} \\leq f(x) < \\frac{k+1}{2^{3}} \\right\\}, \\quad F_{3}=\\{x\\in[0,2]\\mid f(x)\\geq 3\\}.\n$$\nThe simple function is\n$$\n\\phi_{3}(x)=\\sum_{k=0}^{23} \\frac{k}{2^{3}}\\,\\mathbb{1}_{E_{3,k}}(x) + 3\\,\\mathbb{1}_{F_{3}}(x).\n$$\nFor $x_{0}=\\sqrt{1.7}$, we have\n$$\nf(x_{0})=x_{0}^{2}=1.7=\\frac{17}{10}.\n$$\nSince $1.7  3$, it follows that $x_{0}\\notin F_{3}$, so the second term vanishes. We need to find the unique $k$ for which $x_{0}\\in E_{3,k}$:\n$$\n\\frac{k}{8} \\le \\frac{17}{10}  \\frac{k+1}{8}.\n$$\nMultiplying by $8$ gives\n$$\nk \\le \\frac{136}{10}=13.6 \\quad\\text{and}\\quad 13.6  k+1.\n$$\nThis means $k \\le 13.6$ and $k > 12.6$. The only integer solution is $k=13$. Therefore,\n$$\n\\phi_{3}(x_{0})=\\frac{k}{8}=\\frac{13}{8}.\n$$", "answer": "$$\\boxed{\\frac{13}{8}}$$", "id": "1404696"}, {"introduction": "Moving beyond evaluating the approximation at a single point, this problem challenges you to construct the entire simple function $\\phi_1(x)$ for a given target function. It also incorporates the important concept of a function's positive part, $f^+$, which guarantees we are always approximating a non-negative function as required by the standard construction. This practice [@problem_id:1404699] develops your ability to translate the abstract formula into a concrete, piecewise function, which is crucial for visualizing how simple functions \"step up\" to match the target function.", "problem": "In measure theory, any non-negative measurable function $g: X \\to [0, \\infty)$ can be approximated from below by a sequence of simple functions $\\{\\phi_n\\}_{n=1}^{\\infty}$. This canonical approximation is constructed as follows: for each integer $n \\ge 1$, we define the simple function $\\phi_n$ by\n$$ \\phi_n(x) = \\sum_{k=0}^{n2^n-1} \\frac{k}{2^n} \\mathbb{1}_{E_{n,k}}(x) + n \\mathbb{1}_{F_n}(x) $$\nwhere $\\mathbb{1}_A$ is the indicator function of a set $A$, and the sets $E_{n,k}$ and $F_n$ partition the domain $X$ according to the value of $g(x)$:\n$$ E_{n,k} = \\left\\{ x \\in X : \\frac{k}{2^n} \\le g(x)  \\frac{k+1}{2^n} \\right\\} \\quad \\text{for } k = 0, 1, \\dots, n2^n - 1 $$\n$$ F_n = \\{ x \\in X : g(x) \\ge n \\} $$\n\nConsider the function $f(x) = x - 2$ defined on the domain $X = [0, 4]$. Let $g(x) = f^+(x) = \\max\\{f(x), 0\\}$ be the positive part of $f(x)$.\n\nUsing the canonical approximation scheme described above, determine the first simple function in the sequence, $\\phi_1(x)$, that approximates $g(x)$. Express your answer as a piecewise function defined on the domain $[0, 4]$.", "solution": "We are given $f(x) = x - 2$ on $X = [0,4]$ and $g(x) = f^{+}(x) = \\max\\{x-2, 0\\}$. Hence\n$$\ng(x) =\n\\begin{cases}\n0,  0 \\leq x \\leq 2,\\\\\nx - 2,  2  x \\leq 4.\n\\end{cases}\n$$\nUsing the canonical approximation with $n=1$, we define for $k=0,1$:\n$$\nE_{1,0} = \\{x \\in X : 0 \\leq g(x)  \\tfrac{1}{2}\\}, \\quad\nE_{1,1} = \\{x \\in X : \\tfrac{1}{2} \\leq g(x)  1\\}, \\quad\nF_{1} = \\{x \\in X : g(x) \\geq 1\\}.\n$$\nDetermine these sets on $[0,4]$:\n- On $[0,2]$, $g(x) = 0$, so $[0,2] \\subset E_{1,0}$.\n- For $2  x \\leq 4$, $g(x) = x - 2$.\n  - $0 \\leq g(x)  \\tfrac{1}{2}$ gives $2 \\leq x  \\tfrac{5}{2}$, so together with $[0,2]$ we get $E_{1,0} = [0, \\tfrac{5}{2})$.\n  - $\\tfrac{1}{2} \\leq g(x)  1$ gives $\\tfrac{5}{2} \\leq x  3$, hence $E_{1,1} = [\\tfrac{5}{2}, 3)$.\n  - $g(x) \\geq 1$ gives $x \\geq 3$, hence $F_{1} = [3,4]$.\nThe simple function for $n=1$ is\n$$\n\\phi_{1}(x) = \\sum_{k=0}^{1} \\frac{k}{2} \\mathbb{1}_{E_{1,k}}(x) + 1 \\cdot \\mathbb{1}_{F_{1}}(x)\n= 0 \\cdot \\mathbb{1}_{E_{1,0}}(x) + \\frac{1}{2} \\mathbb{1}_{E_{1,1}}(x) + 1 \\cdot \\mathbb{1}_{F_{1}}(x).\n$$\nTherefore, expressed piecewise on $[0,4]$,\n$$\n\\phi_{1}(x) =\n\\begin{cases}\n0,  0 \\leq x  \\tfrac{5}{2},\\\\\n\\frac{1}{2},  \\tfrac{5}{2} \\leq x  3,\\\\\n1,  3 \\leq x \\leq 4.\n\\end{cases}\n$$", "answer": "$$\\boxed{\\phi_{1}(x)=\\begin{cases}\n0,  0 \\leq x  \\tfrac{5}{2},\\\\\n\\frac{1}{2},  \\tfrac{5}{2} \\leq x  3,\\\\\n1,  3 \\leq x \\leq 4\n\\end{cases}}$$", "id": "1404699"}, {"introduction": "After mastering the computational aspects, it is natural to ask about the structural properties of the standard approximation. For example, does this approximation process commute with simple arithmetic operations like addition of a constant? This final problem [@problem_id:1404731] encourages you to think critically about the relationship between the approximation of a function $f$ and that of a shifted function $f+c$. Investigating this property reveals deeper insights into the non-linear nature of the floor function and the truncation inherent in the canonical construction, highlighting important subtleties of this fundamental tool.", "problem": "In measure theory, any non-negative measurable function can be approximated by a sequence of simple functions. Let $(X, \\mathcal{M})$ be a measurable space. For any non-negative measurable function $h: X \\to [0, \\infty]$, the *standard approximating sequence* is a sequence of simple functions $(\\theta_n)_{n=1}^\\infty$ defined as\n$$\n\\theta_n(x) = \\sum_{k=0}^{n2^n - 1} \\frac{k}{2^n} \\mathbb{1}_{E_{n,k}}(x) + n \\mathbb{1}_{F_n}(x)\n$$\nwhere $\\mathbb{1}_S$ is the indicator function of a set $S$, and the sets $E_{n,k}$ and $F_n$ are given by\n$$\nE_{n,k} = \\left\\{ y \\in X \\mid \\frac{k}{2^n} \\le h(y)  \\frac{k+1}{2^n} \\right\\}\n$$\n$$\nF_n = \\{ y \\in X \\mid h(y) \\ge n \\}\n$$\n\nNow, let $f: X \\to [0, \\infty]$ be a given non-negative measurable function, and let $(\\phi_n)_{n=1}^\\infty$ be its standard approximating sequence. Consider a fixed constant $c  0$ and define a new function $g(x) = f(x) + c$. Let $(\\psi_n)_{n=1}^\\infty$ be the standard approximating sequence for the function $g$.\n\nWhich of the following statements correctly describes the relationship between the sequence $(\\psi_n)$ and the sequence of functions defined by $(\\phi_n + c)$?\n\nA. The identity $\\psi_n = \\phi_n + c$ holds for all $n \\in \\mathbb{N}$, for any choice of non-negative measurable function $f$ and any constant $c0$.\n\nB. The identity $\\psi_n = \\phi_n + c$ holds for all $n \\in \\mathbb{N}$ if and only if the function $f$ is bounded (i.e., there exists a constant $M$ such that $f(x) \\le M$ for all $x \\in X$).\n\nC. The identity $\\psi_n = \\phi_n + c$ holds for all $n \\in \\mathbb{N}$ if and only if the constant $c$ is a dyadic rational number (i.e., $c = m/2^j$ for some non-negative integers $m, j$).\n\nD. The identity $\\psi_n = \\phi_n + c$ is not true in general; there exist functions $f$ and constants $c0$ for which the equality fails for at least one $n \\in \\mathbb{N}$.", "solution": "Start from the defining construction. For any non-negative measurable $h$, the standard approximating sequence $(\\theta_{n})$ satisfies, for each fixed $n$ and $x \\in X$,\n$$\n\\theta_{n}(x)=\\sum_{k=0}^{n2^{n}-1}\\frac{k}{2^{n}}\\mathbb{1}_{E_{n,k}}(x)+n\\mathbb{1}_{F_{n}}(x),\n$$\nwith\n$$\nE_{n,k}=\\left\\{y\\in X:\\frac{k}{2^{n}}\\leq h(y)\\frac{k+1}{2^{n}}\\right\\},\\quad F_{n}=\\{y\\in X:h(y)\\geq n\\}.\n$$\nBy construction, for each $x$, either $h(x)\\geq n$ and then $x\\in F_{n}$ so $\\theta_{n}(x)=n$, or else $h(x)n$ and there is a unique $k\\in\\{0,\\dots,n2^{n}-1\\}$ with $\\frac{k}{2^{n}}\\leq h(x)\\frac{k+1}{2^{n}}$, in which case $\\theta_{n}(x)=\\frac{k}{2^{n}}=\\frac{1}{2^{n}}\\lfloor 2^{n}h(x)\\rfloor$. Hence, for all $x$,\n$$\n\\theta_{n}(x)=\\min\\left\\{\\,n,\\ \\frac{1}{2^{n}}\\lfloor 2^{n}h(x)\\rfloor\\,\\right\\}.\n$$\n\nApplying this to $f$ and to $g=f+c$ gives\n$$\n\\phi_{n}(x)=\\min\\left\\{\\,n,\\ \\frac{1}{2^{n}}\\lfloor 2^{n}f(x)\\rfloor\\,\\right\\},\\qquad\n\\psi_{n}(x)=\\min\\left\\{\\,n,\\ \\frac{1}{2^{n}}\\lfloor 2^{n}(f(x)+c)\\rfloor\\,\\right\\}.\n$$\nWe compare $\\psi_{n}$ with $\\phi_{n}+c$:\n$$\n\\phi_{n}(x)+c=c+\\min\\left\\{\\,n,\\ \\frac{1}{2^{n}}\\lfloor 2^{n}f(x)\\rfloor\\,\\right\\}.\n$$\n\nFirst, observe the truncation effect at level $n$. For any $x$ with $f(x)\\geq n$, one has\n$$\n\\phi_{n}(x)=n,\\quad \\phi_{n}(x)+c=n+c,\n$$\nwhereas\n$$\n\\psi_{n}(x)=\\min\\left\\{\\,n,\\ \\frac{1}{2^{n}}\\lfloor 2^{n}(f(x)+c)\\rfloor\\,\\right\\}=n,\n$$\nsince $f(x)+cn$. Therefore $\\psi_{n}(x)\\neq \\phi_{n}(x)+c$ whenever $f(x)\\geq n$. This shows immediately that the identity $\\psi_{n}=\\phi_{n}+c$ cannot hold for all $n$ for arbitrary $f$ and $c0$, and also cannot hold for all $n$ even if $f$ is bounded unless $f(x)n$ for all $x$ at that $n$ (which fails for all small $n\\leq \\sup f$). Thus options A and B are false.\n\nSecond, even when no truncation occurs (i.e., when $f(x)n$ for all $x$ so the minimum with $n$ is inactive at that $n$), discretization on the dyadic grid does not commute with addition by $c$ in general. Take, for example, $f\\equiv 0$, so $\\phi_{n}\\equiv 0$ and hence $\\phi_{n}+c\\equiv c$. Then for $g=f+c\\equiv c$,\n$$\n\\psi_{n}(x)=\\min\\left\\{\\,n,\\ \\frac{1}{2^{n}}\\lfloor 2^{n}c\\rfloor\\,\\right\\}.\n$$\nIf $nc$, the minimum is inactive and\n$$\n\\psi_{n}(x)=\\frac{1}{2^{n}}\\lfloor 2^{n}c\\rfloor.\n$$\nThis equals $c$ if and only if $2^{n}c$ is an integer. In particular, if $c$ is not a dyadic rational, then $\\frac{1}{2^{n}}\\lfloor 2^{n}c\\rfloorc$ for all $n$, so $\\psi_{n}\\neq \\phi_{n}+c$ for all sufficiently large $n$. Even if $c$ is dyadic, say $c=\\frac{m}{2^{j}}$ with integers $m,j\\geq 0$, equality fails for those $n$ with $nj$ (e.g., $c=\\frac{1}{4}$ and $n=1$ gives $\\psi_{1}=0\\neq \\frac{1}{4}=\\phi_{1}+c$). Hence option C is false.\n\nThe preceding counterexamples establish that there exist $f$ and $c0$ such that the equality fails for at least one $n\\in\\mathbb{N}$, which is exactly option D.", "answer": "$$\\boxed{D}$$", "id": "1404731"}]}