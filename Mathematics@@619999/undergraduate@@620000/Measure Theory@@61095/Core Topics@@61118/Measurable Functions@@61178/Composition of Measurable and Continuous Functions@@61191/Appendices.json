{"hands_on_practices": [{"introduction": "Understanding how to build new measurable functions from existing ones is a cornerstone of measure theory. This first exercise [@problem_id:1410545] solidifies the fundamental principle that composing a measurable function $f$ with any continuous function $g$ results in a new measurable function, $g \\circ f$. By verifying this for common transformations like squaring, exponentiating, or taking the absolute value, you will gain practical fluency with this powerful theorem.", "problem": "Let $(X, \\mathcal{M})$ be a measurable space, where $X$ is a non-empty set and $\\mathcal{M}$ is a sigma-algebra of subsets of $X$. A real-valued function $f: X \\to \\mathbb{R}$ is said to be $(\\mathcal{M}, \\mathcal{B}(\\mathbb{R}))$-measurable (or simply measurable), where $\\mathcal{B}(\\mathbb{R})$ is the Borel sigma-algebra on $\\mathbb{R}$, if for every Borel set $B \\in \\mathcal{B}(\\mathbb{R})$, the pre-image $f^{-1}(B) = \\{x \\in X \\mid f(x) \\in B\\}$ is an element of $\\mathcal{M}$.\n\nConsider a measurable function $f: X \\to \\mathbb{R}$. We generate several new functions based on $f$. Which of the following statements are *always* true, guaranteeing that the resulting function is also measurable for *any* measurable function $f$?\n\nA. The function $g(x) = f(x) + k$ is measurable for any real constant $k$.\n\nB. The function $h(x) = (f(x))^2$ is measurable.\n\nC. The function $p(x) = |f(x)|$ is measurable.\n\nD. The function $q(x) = \\exp(f(x))$ is measurable.", "solution": "Let $(X,\\mathcal{M})$ be a measurable space and let $f:X\\to\\mathbb{R}$ be $(\\mathcal{M},\\mathcal{B}(\\mathbb{R}))$-measurable. We use the following general principle.\n\nIf $\\phi:\\mathbb{R}\\to\\mathbb{R}$ is $\\mathcal{B}(\\mathbb{R})$-measurable (in particular, if $\\phi$ is continuous), then $\\phi\\circ f$ is $(\\mathcal{M},\\mathcal{B}(\\mathbb{R}))$-measurable. To see this, let $B\\in\\mathcal{B}(\\mathbb{R})$. Then\n$$\n(\\phi\\circ f)^{-1}(B)=\\{x\\in X:\\phi(f(x))\\in B\\}=f^{-1}\\big(\\phi^{-1}(B)\\big).\n$$\nSince $\\phi$ is $\\mathcal{B}(\\mathbb{R})$-measurable, $\\phi^{-1}(B)\\in\\mathcal{B}(\\mathbb{R})$, and since $f$ is measurable, $f^{-1}\\big(\\phi^{-1}(B)\\big)\\in\\mathcal{M}$. Hence $\\phi\\circ f$ is measurable.\n\nWe now apply this to each option by identifying the corresponding $\\phi$ and noting it is continuous, hence Borel measurable:\n\nA. Here $\\phi_{k}(x)=x+k$ is continuous on $\\mathbb{R}$. Therefore $g=\\phi_{k}\\circ f$ is measurable for any real constant $k$.\n\nB. Here $\\phi(x)=x^{2}$ is continuous on $\\mathbb{R}$. Therefore $h=\\phi\\circ f$ is measurable.\n\nC. Here $\\phi(x)=|x|$ is continuous on $\\mathbb{R}$. Therefore $p=\\phi\\circ f$ is measurable.\n\nD. Here $\\phi(x)=\\exp(x)$ is continuous on $\\mathbb{R}$. Therefore $q=\\phi\\circ f$ is measurable.\n\nBecause each $\\phi$ in Aâ€“D is continuous, all four resulting functions are measurable for any measurable $f$.", "answer": "$$\\boxed{ABCD}$$", "id": "1410545"}, {"introduction": "While composing with a continuous function is a powerful tool, we must also consider practical constraints and broader classes of functions. This next practice [@problem_id:1410549] introduces two crucial subtleties: ensuring the composite function is well-defined across its domain, and extending the composition rule to outer functions that are Borel measurable but not necessarily continuous. Mastering these checks is vital for correctly applying measure theory to more complex scenarios.", "problem": "Let $(X, \\mathcal{M})$ be a measurable space, and let $\\mathbb{R}$ be the set of real numbers equipped with its standard Borel $\\sigma$-algebra, denoted $\\mathcal{B}(\\mathbb{R})$. A function $f: X \\to \\mathbb{R}$ is defined as measurable if for every Borel set $B \\in \\mathcal{B}(\\mathbb{R})$, the preimage $f^{-1}(B) = \\{x \\in X \\mid f(x) \\in B\\}$ is an element of the $\\sigma$-algebra $\\mathcal{M}$.\n\nSuppose we are given a measurable function $f: X \\to \\mathbb{R}$ whose range is the entire real line, i.e., $f(X) = \\mathbb{R}$. We wish to form new functions $h: X \\to \\mathbb{R}$ by composing $f$ with some other function $g: D \\to \\mathbb{R}$, where $D \\subseteq \\mathbb{R}$ is the domain of $g$. The composite function is defined as $h(x) = g(f(x))$.\n\nWhich of the following functions $h(x)$ are *guaranteed* to be both well-defined for all $x \\in X$ and measurable, regardless of the specific choice of the measurable space $(X, \\mathcal{M})$ or the measurable function $f$ (as long as its range is $\\mathbb{R}$)? Select all valid options.\n\nA. $h(x) = \\frac{1}{1+f(x)^2}$\n\nB. $h(x) = \\ln(f(x))$\n\nC. $h(x) = \\sqrt{f(x)^2}$\n\nD. $h(x) = \\frac{1}{f(x)}$\n\nE. $h(x) = \\chi_{\\mathbb{Z}}(f(x))$, where $\\chi_{\\mathbb{Z}}$ is the indicator function of the set of integers $\\mathbb{Z}$, defined as $\\chi_{\\mathbb{Z}}(y) = 1$ if $y \\in \\mathbb{Z}$ and $\\chi_{\\mathbb{Z}}(y) = 0$ if $y \\notin \\mathbb{Z}$.", "solution": "To solve this problem, we need to analyze each option based on two criteria for any measurable function $f: X \\to \\mathbb{R}$ with range $f(X)=\\mathbb{R}$:\n1.  **Well-definedness**: The composite function $h(x) = g(f(x))$ must be well-defined for every $x \\in X$. This requires that the range of $f$, which is $\\mathbb{R}$, must be a subset of the domain of $g$. Therefore, the domain of $g$ must be $\\mathbb{R}$.\n2.  **Measurability**: If the function is well-defined, the composite function $h = g \\circ f$ must be measurable. A fundamental theorem in measure theory states that if $f: (X, \\mathcal{M}) \\to (\\mathbb{R}, \\mathcal{B}(\\mathbb{R}))$ is a measurable function and $g: (\\mathbb{R}, \\mathcal{B}(\\mathbb{R})) \\to (\\mathbb{R}, \\mathcal{B}(\\mathbb{R}))$ is a Borel measurable function, then their composition $h = g \\circ f$ is also measurable. A continuous function $g: \\mathbb{R} \\to \\mathbb{R}$ is always Borel measurable.\n\nLet's examine each option:\n\n**A. $h(x) = \\frac{1}{1+f(x)^2}$**\nThe corresponding function is $g(y) = \\frac{1}{1+y^2}$.\n1.  **Well-definedness**: The denominator $1+y^2$ is never zero for any $y \\in \\mathbb{R}$. Thus, the domain of $g$ is $\\mathbb{R}$. Since the range of $f$ is $\\mathbb{R}$, the composition $h(x) = g(f(x))$ is well-defined for all $x \\in X$.\n2.  **Measurability**: The function $g(y)$ is a rational function that is continuous everywhere on its domain $\\mathbb{R}$. A continuous function on $\\mathbb{R}$ is always a Borel measurable function. Since $f$ is measurable and $g$ is Borel measurable, their composition $h = g \\circ f$ is guaranteed to be measurable.\nTherefore, option A is a valid choice.\n\n**B. $h(x) = \\ln(f(x))$**\nThe corresponding function is $g(y) = \\ln(y)$.\n1.  **Well-definedness**: The domain of the natural logarithm function $g(y) = \\ln(y)$ is $(0, \\infty)$. The problem states that the range of $f$ is $\\mathbb{R}$. This means there exist points $x \\in X$ for which $f(x) \\le 0$. For such points, $h(x) = \\ln(f(x))$ is not defined as a real number. Thus, $h(x)$ is not well-defined on the entirety of $X$.\nTherefore, option B is not a valid choice.\n\n**C. $h(x) = \\sqrt{f(x)^2}$**\nThe corresponding function is $g(y) = \\sqrt{y^2}$.\n1.  **Well-definedness**: We can simplify $g(y) = \\sqrt{y^2} = |y|$, the absolute value function. The domain of the absolute value function is $\\mathbb{R}$. Since the range of $f$ is $\\mathbb{R}$, the composite function $h(x) = |f(x)|$ is well-defined for all $x \\in X$.\n2.  **Measurability**: The function $g(y) = |y|$ is continuous everywhere on $\\mathbb{R}$. A continuous function is always Borel measurable. Since $f$ is measurable and $g$ is Borel measurable, their composition $h = g \\circ f$ is guaranteed to be measurable.\nTherefore, option C is a valid choice.\n\n**D. $h(x) = \\frac{1}{f(x)}$**\nThe corresponding function is $g(y) = \\frac{1}{y}$.\n1.  **Well-definedness**: The domain of $g(y)$ is $\\mathbb{R} \\setminus \\{0\\}$. The problem states that the range of $f$ is $\\mathbb{R}$, which means there must exist some $x_0 \\in X$ such that $f(x_0) = 0$. At this point, $h(x_0) = g(f(x_0)) = 1/0$ is undefined. Thus, $h(x)$ is not well-defined on the entirety of $X$.\nTherefore, option D is not a valid choice.\n\n**E. $h(x) = \\chi_{\\mathbb{Z}}(f(x))$**\nThe corresponding function is $g(y) = \\chi_{\\mathbb{Z}}(y)$.\n1.  **Well-definedness**: The indicator function $\\chi_{\\mathbb{Z}}(y)$ is defined for all $y \\in \\mathbb{R}$. Its domain is $\\mathbb{R}$. Since the range of $f$ is $\\mathbb{R}$, the composite function $h(x) = g(f(x))$ is well-defined for all $x \\in X$.\n2.  **Measurability**: We need to check if $g(y) = \\chi_{\\mathbb{Z}}(y)$ is a Borel measurable function. To do this, we must show that for any Borel set $B \\in \\mathcal{B}(\\mathbb{R})$, the preimage $g^{-1}(B)$ is also a Borel set. The range of $g$ is the set $\\{0, 1\\}$.\nLet's consider the preimages of subsets of the range:\n- $g^{-1}(\\{1\\}) = \\{y \\in \\mathbb{R} \\mid g(y) = 1\\} = \\mathbb{Z}$ (the set of integers).\n- $g^{-1}(\\{0\\}) = \\{y \\in \\mathbb{R} \\mid g(y) = 0\\} = \\mathbb{R} \\setminus \\mathbb{Z}$ (the set of non-integers).\nThe set of integers $\\mathbb{Z}$ can be written as a countable union of single-point sets: $\\mathbb{Z} = \\bigcup_{n \\in \\mathbb{Z}} \\{n\\}$. Each set $\\{n\\}$ is a closed set in $\\mathbb{R}$, and therefore a Borel set. A countable union of Borel sets is a Borel set, so $\\mathbb{Z}$ is a Borel set. Consequently, its complement $\\mathbb{R} \\setminus \\mathbb{Z}$ is also a Borel set.\nFor any Borel set $B \\subseteq \\mathbb{R}$, the preimage $g^{-1}(B)$ will be one of the four sets: $\\emptyset$, $\\mathbb{Z}$, $\\mathbb{R}\\setminus\\mathbb{Z}$, or $\\mathbb{R}$, depending on whether $B$ contains 0, 1, both, or neither. All four of these possible preimages are Borel sets. Thus, $g(y) = \\chi_{\\mathbb{Z}}(y)$ is a Borel measurable function.\nSince $f$ is measurable and $g$ is Borel measurable, their composition $h = g \\circ f$ is guaranteed to be measurable.\nTherefore, option E is a valid choice.\n\nIn conclusion, the functions that are guaranteed to be well-defined and measurable are given in options A, C, and E.", "answer": "$$\\boxed{ACE}$$", "id": "1410549"}, {"introduction": "A deep understanding of a mathematical theorem comes from exploring its boundaries. This advanced exercise [@problem_id:1410574] investigates a critical question: is the composition of a measurable function with a Riemann integrable function also measurable? By working through a classic counterexample, you will discover that this is not guaranteed, revealing precisely why the condition of Borel measurability on the outer function is essential and cannot be relaxed to Riemann integrability.", "problem": "Consider a Lebesgue measurable function $f: [0,1] \\to [0,1]$ and a Riemann integrable function $g: [0,1] \\to \\mathbb{R}$. Let $h$ be their composition, defined by $h(x) = g(f(x))$.\n\nWhich of the following statements most accurately describes the properties of the function $h$?\n\nFor your reasoning, you may use the following established facts from real analysis without proof:\n1.  There exists a continuous, strictly increasing function $\\psi: [0,1] \\to [0,1]$ that is a bijection, and for which there exists a closed set $K \\subset [0,1]$ of Lebesgue measure zero, such that its image $\\psi(K)$ has positive Lebesgue measure.\n2.  Any set of positive Lebesgue measure contains a non-Lebesgue-measurable subset.\n\nA. The function $h$ is always Lebesgue measurable.\n\nB. If the function $h$ is bounded, then it must also be Riemann integrable.\n\nC. The function $h$ is not necessarily Lebesgue measurable; there exist valid functions $f$ and $g$ for which $h$ is non-measurable.\n\nD. The function $h$ is Lebesgue measurable if and only if the function $f$ is continuous.", "solution": "We are given a Lebesgue measurable function $f:[0,1]\\to[0,1]$, a Riemann integrable function $g:[0,1]\\to\\mathbb{R}$, and $h=g\\circ f$. Recall the following standard facts:\n- A function $g$ on $[0,1]$ is Riemann integrable if and only if it is bounded and its set of discontinuities has Lebesgue measure zero. In particular, every Riemann integrable function is Lebesgue measurable.\n- If $A\\subset[0,1]$ has boundary $\\partial A$ of Lebesgue measure zero, then the indicator $g=\\mathbf{1}_{A}$ is Riemann integrable, with discontinuity set $D(g)=\\partial A$.\n- The Lebesgue measure is complete, so every subset of a set of measure zero is Lebesgue measurable.\n\nWe analyze whether $h$ must be measurable or Riemann integrable, using the provided construction tools.\n\nUsing Fact 1, there exists a continuous strictly increasing bijection $\\psi:[0,1]\\to[0,1]$ and a closed set $K\\subset[0,1]$ with Lebesgue measure $0$ such that $\\psi(K)$ has positive Lebesgue measure. Using Fact 2, choose a non-Lebesgue-measurable set $N\\subset\\psi(K)$.\n\nDefine the set\n$$\nA:=\\psi^{-1}(N)\\subset K.\n$$\nSince $K$ has Lebesgue measure zero and the Lebesgue measure is complete, $A$ is Lebesgue measurable with measure zero. Its boundary satisfies\n$$\n\\partial A \\subset \\overline{A} \\subset K,\n$$\nso $\\partial A$ has Lebesgue measure zero. Define\n$$\ng:=\\mathbf{1}_{A}.\n$$\nThen $g$ is bounded and Riemann integrable because $D(g)=\\partial A$ has measure zero. Now define\n$$\nf:=\\psi^{-1}.\n$$\nSince $\\psi$ is a continuous strictly increasing bijection on $[0,1]$, its inverse $\\psi^{-1}$ is also continuous, hence $f$ is Lebesgue measurable. For every $x\\in[0,1]$,\n$$\nh(x)=g(f(x))=\\mathbf{1}_{A}(\\psi^{-1}(x))=\n\\begin{cases}\n1, & \\psi^{-1}(x)\\in A,\\\\\n0, & \\psi^{-1}(x)\\notin A.\n\\end{cases}\n$$\nBut $A=\\psi^{-1}(N)$, so $\\psi^{-1}(x)\\in A$ if and only if $x\\in N$. Therefore,\n$$\nh=\\mathbf{1}_{N}.\n$$\nSince $N$ is non-Lebesgue-measurable, $\\mathbf{1}_{N}$ is not Lebesgue measurable. This constructs valid $f$ and $g$ for which $h$ is not Lebesgue measurable.\n\nFrom this construction we conclude:\n- Statement A is false: $h$ need not be Lebesgue measurable.\n- Statement B is false: although $h$ is always bounded (since $g$ is bounded and $f([0,1])\\subset[0,1]$), in the example $h=\\mathbf{1}_{N}$ is not Riemann integrable (indeed, not even measurable), so boundedness of $h$ does not imply Riemann integrability.\n- Statement C is true: we exhibited $f$ and $g$ for which $h$ is non-measurable.\n- Statement D is false: in the example $f=\\psi^{-1}$ is continuous, yet $h$ is not Lebesgue measurable; thus measurability of $h$ does not characterize continuity of $f$.\n\nHence, the most accurate statement is C.", "answer": "$$\\boxed{C}$$", "id": "1410574"}]}