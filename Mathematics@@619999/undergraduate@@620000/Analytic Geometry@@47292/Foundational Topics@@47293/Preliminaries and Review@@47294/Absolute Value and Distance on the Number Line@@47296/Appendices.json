{"hands_on_practices": [{"introduction": "Our exploration begins with the most intuitive application of distance: finding a point of perfect balance. This exercise [@problem_id:2106042] challenges you to locate a point on the number line that is equidistant from two other distinct points. By translating the geometric idea of \"same distance\" into the algebraic equation $|x-p| = |x-q|$, you'll discover a fundamental principle for finding the center point, a concept with wide-ranging applications from data analysis to physical design.", "problem": "In the design of a linear Charge-Coupled Device (CCD) for a scientific instrument, a coordinate system is established along the array of pixels, which can be modeled as a number line. For a specific calibration routine, two distinct reference pixels are designated at coordinates $p = -13.72$ and $q = 8.16$. A new software-defined 'virtual reference point' must be calculated. The defining characteristic of this virtual point is that its distance from the first reference pixel is exactly equal to its distance from the second reference pixel. Find the coordinate of this virtual reference point. Round your final answer to four significant figures.", "solution": "Let the virtual reference point have coordinate $x$ on the number line. The defining property is that its distance to $p$ equals its distance to $q$, so we impose\n$$\n|x - p| = |x - q|.\n$$\nSquaring both sides yields\n$$\n(x - p)^{2} = (x - q)^{2}.\n$$\nExpanding and simplifying,\n$$\nx^{2} - 2px + p^{2} = x^{2} - 2qx + q^{2} \\;\\;\\Rightarrow\\;\\; -2px + p^{2} = -2qx + q^{2}.\n$$\nCollecting the $x$ terms on one side gives\n$$\n2(q - p)\\,x = q^{2} - p^{2} = (q - p)(q + p).\n$$\nSince $q \\neq p$, divide by $2(q - p)$ to obtain\n$$\nx = \\frac{p + q}{2}.\n$$\nSubstituting $p = -13.72$ and $q = 8.16$,\n$$\nx = \\frac{-13.72 + 8.16}{2} = \\frac{-5.56}{2} = -2.78.\n$$\nRounding to four significant figures gives $-2.780$.", "answer": "$$\\boxed{-2.780}$$", "id": "2106042"}, {"introduction": "Building on the idea of a central point, we now generalize to a more complex and realistic scenario. What if we need to find an optimal location relative to several points, each with a different level of importance or \"weight\"? This practice [@problem_id:2106033] introduces the powerful concept of minimizing a weighted sum of distances, a cornerstone of logistics, facility location, and data clustering. You will learn to identify the \"weighted median,\" which is the point that minimizes the total cost or effort in a distributed system.", "problem": "A technology company is deploying a new data aggregation service along a major fiber optic trunk line. There are four key data sources located at positions 10 km, 30 km, 80 km, and 100 km from a reference point on the trunk line. These sources generate data at constant rates of 3.0 TB/s, 2.0 TB/s, 4.0 TB/s, and 5.0 TB/s, respectively.\n\nThe company must place a single data aggregator at a position $x$ on this line. The total operational cost, which the company aims to minimize, is a weighted sum of the distances between the aggregator and each source. This cost, $C(x)$, is modeled by the function:\n$$C(x) = \\sum_{i=1}^{4} r_i |x - d_i|$$\nwhere $d_i$ are the positions of the data sources and $r_i$ are their respective data rates.\n\nFind the position $x$ for the data aggregator that minimizes the total operational cost $C(x)$. If there is an interval of optimal positions, provide the smallest value in that interval. Express your answer in km.", "solution": "Let the source positions be $d_{1}=10$, $d_{2}=30$, $d_{3}=80$, $d_{4}=100$ (in km) with corresponding weights $r_{1}=3$, $r_{2}=2$, $r_{3}=4$, $r_{4}=5$ (in TB/s). The total cost is\n$$C(x)=\\sum_{i=1}^{4} r_{i}|x-d_{i}|.$$\nThis function is convex and piecewise linear. For $x$ not equal to any $d_{i}$, the derivative is\n$$C'(x)=\\sum_{i=1}^{4} r_{i}\\,\\mathrm{sign}(x-d_{i})=\\left(\\sum_{d_{i}<x} r_{i}\\right)-\\left(\\sum_{d_{i}>x} r_{i}\\right),$$\nwhere $\\mathrm{sign}(y)=-1$ for $y<0$ and $\\mathrm{sign}(y)=+1$ for $y>0$. Define $L(x)=\\sum_{d_{i}<x} r_{i}$ and $R(x)=\\sum_{d_{i}>x} r_{i}$. Then $C'(x)=L(x)-R(x)$. We evaluate $C'(x)$ on the intervals determined by the sorted $d_{i}$.\n\n1) For $x<10$: $L(x)=0$, $R(x)=3+2+4+5=14$, hence\n$$C'(x)=0-14=-14<0.$$\n\n2) For $10<x<30$: $L(x)=3$, $R(x)=2+4+5=11$, hence\n$$C'(x)=3-11=-8<0.$$\n\n3) For $30<x<80$: $L(x)=3+2=5$, $R(x)=4+5=9$, hence\n$$C'(x)=5-9=-4<0.$$\n\n4) For $80<x<100$: $L(x)=3+2+4=9$, $R(x)=5$, hence\n$$C'(x)=9-5=4>0.$$\n\n5) For $x>100$: $L(x)=3+2+4+5=14$, $R(x)=0$, hence\n$$C'(x)=14-0=14>0.$$\n\nThe derivative is negative for $x<80$ and positive for $x>80$, so $C(x)$ decreases up to $x=80$ and increases after $x=80$. At $x=80$ the left derivative is $-4$ and the right derivative is $+4$, so the subgradient contains $0$ and $x=80$ is the unique minimizer. Equivalently, the total weight is $3+2+4+5=14$ and the weighted median condition requires at least half the weight $7$ on each side; the smallest position where the cumulative weight from the left reaches at least $7$ is $80$, confirming the minimizer.\n\nTherefore, the optimal aggregator position is $x=80$ km, and there is no interval of optimal positions.", "answer": "$$\\boxed{80}$$", "id": "2106033"}, {"introduction": "In our final practice, we delve deeper into the mathematical structure of the total distance function, $S(x) = \\sum |x - a_i|$. We've learned how to find the location $x$ that minimizes this function, but what about the other possible values that $S(x)$ can take? This challenging problem [@problem_id:2106043] guides you to explore the very nature of this function's outputs, revealing a subtle and surprising property related to its values on the integers. Solving it requires moving beyond simple optimization to a more profound analysis of the function's behavior.", "problem": "A logistic company is planning to build a central warehouse on a long, straight highway. There are $n=100$ client facilities located at distinct integer mile markers. The locations of these facilities are given by the set of integers $A = \\{a_i \\mid a_i = i^2, \\text{ for } i = 1, 2, \\ldots, 100\\}$. The company wants to find an optimal integer location $x$ for the warehouse. A key metric for the company is the total transportation cost, which is modeled by the function $S(x) = \\sum_{i=1}^{100} |x - a_i|$, representing the sum of the distances from a potential warehouse location $x$ to all client facilities.\n\nLet $S_{\\min}$ be the minimum possible value of $S(x)$ for any integer location $x$. Your task is to find the smallest integer $k$ that is strictly greater than $S_{\\min}$ for which the equation $S(x) = k$ has no integer solution $x$.", "solution": "Let $a_{i}=i^{2}$ for $i=1,2,\\ldots,100$, and define $S(x)=\\sum_{i=1}^{100}|x-a_{i}|$ for integer $x$. For the sum of absolute deviations, any median minimizes $S(x)$. Since $n=100$ is even, every real $x$ in the interval $[a_{50},a_{51}]=[2500,2601]$ is a minimizer; in particular, every integer $x\\in\\{2500,2501,\\ldots,2601\\}$ attains the same minimum value $S_{\\min}$.\n\nCompute $S_{\\min}$ by choosing $x=2500$:\n$$\nS_{\\min}\n=\\sum_{i=1}^{50}(2500-i^{2})+\\sum_{i=51}^{100}(i^{2}-2500)\n=-\\sum_{i=1}^{50}i^{2}+\\sum_{i=51}^{100}i^{2}.\n$$\nUsing $\\sum_{i=51}^{100}i^{2}=\\sum_{i=1}^{100}i^{2}-\\sum_{i=1}^{50}i^{2}$, we get\n$$\nS_{\\min}=\\sum_{i=1}^{100}i^{2}-2\\sum_{i=1}^{50}i^{2}.\n$$\nWith the identity $\\sum_{i=1}^{m}i^{2}=\\frac{m(m+1)(2m+1)}{6}$,\n$$\n\\sum_{i=1}^{100}i^{2}=\\frac{100\\cdot 101\\cdot 201}{6}=338350,\\qquad\n\\sum_{i=1}^{50}i^{2}=\\frac{50\\cdot 51\\cdot 101}{6}=42925,\n$$\nso\n$$\nS_{\\min}=338350-2\\cdot 42925=252500.\n$$\n\nNext, analyze the increments on integers:\n$$\nS(x+1)-S(x)=\\sum_{i=1}^{100}\\bigl(|x+1-a_{i}|-|x-a_{i}|\\bigr).\n$$\nFor each term, $|x+1-a_{i}|-|x-a_{i}|=1$ if $x\\ge a_{i}$ and $=-1$ if $x<a_{i}$. Let $L(x)=\\#\\{i:a_{i}\\le x\\}$; then\n$$\nS(x+1)-S(x)=L(x)-(100-L(x))=2L(x)-100.\n$$\nHence $S(x+1)-S(x)$ is always an even integer, so $S(x)$ has constant parity over all integers $x$. Since $S_{\\min}=252500$ is even, $S(x)$ is even for every integer $x$, which implies $S(x)=S_{\\min}+1=252501$ has no integer solution.\n\nTo confirm minimality, note that for $x=2499$ we have $L(2499)=49$, so $S(2500)-S(2499)=2L(2499)-100=-2$, i.e., $S(2499)=S_{\\min}+2$. Thus the next attainable value above $S_{\\min}$ is $S_{\\min}+2$, and the smallest integer greater than $S_{\\min}$ with no solution is $S_{\\min}+1=252501$.", "answer": "$$\\boxed{252501}$$", "id": "2106043"}]}