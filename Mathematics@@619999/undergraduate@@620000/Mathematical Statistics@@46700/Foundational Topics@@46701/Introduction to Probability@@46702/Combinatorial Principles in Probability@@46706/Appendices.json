{"hands_on_practices": [{"introduction": "Many introductory probability problems focus on scenarios with two outcomes, like a coin flip. This exercise expands that foundation to situations with multiple possible results, which is far more common in real-world systems like digital communications or genetics. Practicing with the multinomial coefficient [@problem_id:1905149] helps you master the skill of partitioning a set of trials into several distinct groups, a crucial concept for understanding multinomial distributions.", "problem": "In a simplified model of a digital communication system, a sequence of $N$ data packets is transmitted. Each packet can independently be in one of $S$ distinct states, labeled $1, 2, \\ldots, S$. For any given packet, each of these $S$ states is equally likely.\n\nLet's designate two specific states: 'State A' (state 1) and 'State B' (state 2). What is the probability that in a randomly transmitted sequence of $N$ packets, there are exactly $k_A$ packets in State A and exactly $k_B$ packets in State B, where $k_A$ and $k_B$ are non-negative integers such that $k_A + k_B \\le N$?\n\nProvide your answer as a single closed-form analytic expression in terms of $N$, $S$, $k_A$, and $k_B$.", "solution": "The problem asks for the probability of a specific composition in a sequence of $N$ packets, where each packet can independently take one of $S$ equally likely states. This is a classic problem in combinatorial probability. The solution can be found by calculating the ratio of the number of favorable outcomes to the total number of possible outcomes.\n\nFirst, let's determine the total number of possible outcomes. The sequence consists of $N$ packets. Each of these $N$ packets can be in any of the $S$ states. Since the state of each packet is independent, the total number of possible sequences in the sample space, $|\\Omega|$, can be found using the multiplication principle:\n$$ |\\Omega| = S \\times S \\times \\dots \\times S \\text{ (N times)} = S^N $$\n\nNext, we need to count the number of favorable outcomes, which we denote as $|E|$. A favorable outcome is a sequence containing exactly $k_A$ packets in State A, exactly $k_B$ packets in State B, and consequently, $N - k_A - k_B$ packets in any of the other states. We can construct such a sequence by following these steps:\n\n1.  **Choose the positions for State A:** We need to choose $k_A$ positions out of the $N$ available positions in the sequence for the packets in State A. The number of ways to do this is given by the binomial coefficient $\\binom{N}{k_A}$.\n$$ \\binom{N}{k_A} = \\frac{N!}{k_A!(N-k_A)!} $$\n\n2.  **Choose the positions for State B:** After placing the $k_A$ packets, there are $N - k_A$ positions remaining. We need to choose $k_B$ of these remaining positions for the packets in State B. The number of ways to do this is $\\binom{N-k_A}{k_B}$.\n$$ \\binom{N-k_A}{k_B} = \\frac{(N-k_A)!}{k_B!(N-k_A-k_B)!} $$\n\n3.  **Assign states to the remaining positions:** There are $N - k_A - k_B$ positions left. The packets in these positions must not be in State A or State B. There are $S-2$ other states available for each of these remaining packets. Since there are $N - k_A - k_B$ such positions, and the choice for each is independent, the number of ways to assign states to these remaining packets is $(S-2)^{N - k_A - k_B}$.\n\nBy the multiplication principle, the total number of favorable sequences, $|E|$, is the product of the number of ways to perform each step:\n$$ |E| = \\binom{N}{k_A} \\binom{N-k_A}{k_B} (S-2)^{N - k_A - k_B} $$\nLet's simplify the product of the binomial coefficients:\n$$ \\binom{N}{k_A} \\binom{N-k_A}{k_B} = \\frac{N!}{k_A!(N-k_A)!} \\times \\frac{(N-k_A)!}{k_B!(N-k_A-k_B)!} = \\frac{N!}{k_A!k_B!(N-k_A-k_B)!} $$\nThis is the multinomial coefficient $\\binom{N}{k_A, k_B, N-k_A-k_B}$, which counts the number of ways to arrange $N$ items into three distinct groups of sizes $k_A$, $k_B$, and $N-k_A-k_B$.\n\nSo, the total number of favorable outcomes is:\n$$ |E| = \\frac{N!}{k_A!k_B!(N-k_A-k_B)!} (S-2)^{N - k_A - k_B} $$\n\nFinally, the probability $P(E)$ is the ratio of the number of favorable outcomes to the total number of outcomes:\n$$ P(E) = \\frac{|E|}{|\\Omega|} = \\frac{\\frac{N!}{k_A!k_B!(N-k_A-k_B)!} (S-2)^{N - k_A - k_B}}{S^N} $$\n\nThis can be written as the final expression.", "answer": "$$\\boxed{\\frac{N!}{k_A! k_B! (N - k_A - k_B)!} \\frac{(S-2)^{N - k_A - k_B}}{S^N}}$$", "id": "1905149"}, {"introduction": "At first glance, this problem about PIN codes might seem to involve complex permutations. However, its solution hinges on a beautifully simple combinatorial insight that is essential for elegant problem-solving. This practice [@problem_id:1905135] challenges you to see how a constraint, such as requiring digits to be in strictly increasing order, removes the need to consider permutations and transforms the problem into one of simple selection using combinations.", "problem": "A financial services company uses a 4-digit Personal Identification Number (PIN) for authenticating transactions. Each digit of the PIN is an integer selected from the set $\\{0, 1, 2, \\dots, 9\\}$, and selections are made with replacement, meaning digits can be repeated. A PIN is considered to have a 'paired-ascent' structure if its first two digits form a strictly increasing sequence and its last two digits also form a strictly increasing sequence. For example, the PIN 3714 is valid because $3 < 7$ and $1 < 4$, while 3125 is not. What is the probability that a randomly generated 4-digit PIN has a paired-ascent structure? Express your answer as an exact fraction in simplest form.", "solution": "Let the PIN be digits $(d_{1}, d_{2}, d_{3}, d_{4})$, each chosen independently from $\\{0,1,2,\\dots,9\\}$. The total number of possible PINs is\n$$\n10^{4}.\n$$\nA paired-ascent structure requires $d_{1}<d_{2}$ and $d_{3}<d_{4}$. The number of strictly increasing ordered pairs $(a,b)$ with $a,b\\in\\{0,1,\\dots,9\\}$ and $a<b$ equals the number of 2-element subsets from a 10-element set, which is\n$$\n\\binom{10}{2}.\n$$\nSince the first two digits and the last two digits are chosen independently, the number of favorable PINs is\n$$\n\\binom{10}{2}^{2}.\n$$\nTherefore, the desired probability is\n$$\n\\frac{\\binom{10}{2}^{2}}{10^{4}}=\\frac{\\left(\\frac{10\\cdot 9}{2}\\right)^{2}}{10^{4}}=\\frac{10^{2}\\cdot 9^{2}}{2^{2}\\cdot 10^{4}}=\\frac{9^{2}}{2^{2}\\cdot 10^{2}}=\\frac{81}{400}.\n$$\nThus, the probability that a randomly generated 4-digit PIN has a paired-ascent structure is $\\frac{81}{400}$.", "answer": "$$\\boxed{\\frac{81}{400}}$$", "id": "1905135"}, {"introduction": "Our final practice explores a classic and celebrated result in probability known as the Ballot Problem. This scenario introduces a more complex type of condition: a running tally must stay above a certain threshold throughout a sequence of events. Solving this [@problem_id:1905140] requires a powerful and elegant geometric technique called the Reflection Principle, a clever way to count paths that are restricted by a boundary, a method with deep connections to random walks and financial modeling.", "problem": "In a community-driven software development project, two competing feature proposals, \"Arch\" and \"Bolt\", are put to a vote. Ultimately, Arch receives $a$ votes and Bolt receives $b$ votes, with the final tally confirming that Arch is the more popular proposal ($a > b$). The votes are tallied one by one from a randomly shuffled collection of all $a+b$ ballots. What is the probability that the running count of votes for Arch is strictly greater than the running count for Bolt throughout the entire tallying process? Express your answer as a closed-form analytic expression in terms of $a$ and $b$.", "solution": "Let $a>b$ be fixed positive integers. Model a tally as a length-$(a+b)$ word over $\\{A,B\\}$ with exactly $a$ symbols $A$ and $b$ symbols $B$. All such words are equiprobable, and their total number is\n$$\nT=\\binom{a+b}{a}.\n$$\nDefine the running difference after $k$ votes by $S_{k}=\\#\\{A\\text{ in first }k\\}-\\#\\{B\\text{ in first }k\\}$. The event of interest is\n$$\nE:\\quad S_{k}\\geq 1\\quad\\text{for all}\\quad k=1,2,\\dots,a+b.\n$$\nFor $E$ to hold, the first vote must be $A$; if the first vote is $B$ then $S_{1}=-1$ and $E$ fails. Condition on the first vote:\n$$\n\\mathbb{P}(E)=\\frac{a}{a+b}\\,\\mathbb{P}(F_{a-1,b}),\n$$\nwhere $F_{m,n}$ is the event that in a random word with $m$ symbols $A$ and $n$ symbols $B$, the partial sums never go negative:\n$$\nF_{m,n}:\\quad S'_{k}\\geq 0\\quad\\text{for all}\\quad k=1,2,\\dots,m+n.\n$$\nThus it suffices to compute $\\mathbb{P}(F_{m,n})$ for $m\\geq n$.\n\nCount the number of words with $m$ $A$'s and $n$ $B$'s that never go negative using the reflection principle. Let $G_{m,n}$ be the number of such nonnegative words. The total number of words is $\\binom{m+n}{m}$. Define a bijection between the set of words that ever go negative and the set of all words with $m+1$ $A$'s and $n-1$ $B$'s as follows:\n\n- For a word that goes negative, let $t$ be the minimal index with $S'_{t}=-1$. In the first $t$ steps, the number of $B$'s exceeds the number of $A$'s by exactly $1$. Reflect the first $t$ steps by swapping $A\\leftrightarrow B$. This increases the total number of $A$'s by $1$ and decreases the total number of $B$'s by $1$, producing a word with $m+1$ $A$'s and $n-1$ $B$'s.\n\n- This mapping is invertible by the same construction applied in reverse (starting from the minimal index where the reflected path hits $+1$), hence it is a bijection.\n\nTherefore, the number of words that ever go negative equals the number of words with $m+1$ $A$'s and $n-1$ $B$'s, which is $\\binom{m+n}{m+1}$. Hence\n$$\nG_{m,n}=\\binom{m+n}{m}-\\binom{m+n}{m+1}.\n$$\nUsing the binomial identity $\\binom{m+n}{m+1}=\\frac{n}{m+1}\\binom{m+n}{m}$, we simplify\n$$\nG_{m,n}=\\left(1-\\frac{n}{m+1}\\right)\\binom{m+n}{m}=\\frac{m-n+1}{m+1}\\binom{m+n}{m}.\n$$\nThus the probability of never going negative is\n$$\n\\mathbb{P}(F_{m,n})=\\frac{G_{m,n}}{\\binom{m+n}{m}}=\\frac{m-n+1}{m+1}.\n$$\nSubstituting $m=a-1$ and $n=b$ gives\n$$\n\\mathbb{P}(F_{a-1,b})=\\frac{(a-1)-b+1}{(a-1)+1}=\\frac{a-b}{a}.\n$$\nFinally,\n$$\n\\mathbb{P}(E)=\\frac{a}{a+b}\\cdot\\frac{a-b}{a}=\\frac{a-b}{a+b}.\n$$\nThis is the desired closed-form expression.", "answer": "$$\\boxed{\\frac{a-b}{a+b}}$$", "id": "1905140"}]}