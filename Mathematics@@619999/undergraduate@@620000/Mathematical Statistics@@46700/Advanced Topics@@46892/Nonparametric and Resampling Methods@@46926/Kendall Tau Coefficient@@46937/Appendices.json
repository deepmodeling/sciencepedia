{"hands_on_practices": [{"introduction": "The most direct way to understand Kendall's $\\tau$ is to compute it from a set of paired rankings. This first exercise [@problem_id:1927383] walks you through this fundamental process in a realistic data science context. By reordering one set of ranks to be in its natural sequence, the problem of counting concordant and discordant pairs elegantly transforms into counting inversions—a core computational technique for this statistic.", "problem": "A data science team at a major e-commerce company has developed a new machine learning model to rank products based on predicted user engagement. To evaluate the model's performance, they compare its output against a \"gold standard\" ranking created by a team of human experts. For a sample of $n=10$ distinct products, the two rankings are obtained. The products are labeled with IDs from 1 to 10. The table below shows the rank assigned to each product by the human experts (Rank H) and by the new algorithm (Rank A). A rank of 1 is the highest rank.\n\n| Product ID | Rank H ($X$) | Rank A ($Y$) |\n|------------|--------------|--------------|\n| 1          | 1            | 3            |\n| 2          | 2            | 1            |\n| 3          | 3            | 5            |\n| 4          | 4            | 2            |\n| 5          | 5            | 8            |\n| 6          | 6            | 6            |\n| 7          | 7            | 9            |\n| 8          | 8            | 4            |\n| 9          | 9            | 10           |\n| 10         | 10           | 7            |\n\nThe team decides to use Kendall's rank correlation coefficient, $\\tau$, to measure the agreement between the two rankings. For a set of $n$ paired observations $(x_1, y_1), (x_2, y_2), \\dots, (x_n, y_n)$ with no ties, a pair of pairs, $((x_i, y_i), (x_j, y_j))$, is defined as:\n- **Concordant** if the ranks are in the same relative order, i.e., $(x_i - x_j)(y_i - y_j) > 0$.\n- **Discordant** if the ranks are in the opposite relative order, i.e., $(x_i - x_j)(y_i - y_j) < 0$.\n\nLet $N_c$ be the total number of concordant pairs and $N_d$ be the total number of discordant pairs. Kendall's tau is then defined as:\n$$\n\\tau = \\frac{N_c - N_d}{N_c + N_d}\n$$\nThe total number of distinct pairs of pairs is $\\binom{n}{2} = N_c + N_d$.\n\nCalculate the value of Kendall's tau coefficient, $\\tau$, for the given data. Express your answer as a decimal rounded to three significant figures.", "solution": "We have rankings without ties, so for $n=10$ items the total number of distinct pairs is\n$$\n\\binom{n}{2}=\\binom{10}{2}=45,\n$$\nand $N_c+N_d=45$.\n\nOrder the items by $X$ (human ranks), which are $1,2,\\dots,10$. In this order, the corresponding sequence of $Y$ (algorithm ranks) is\n$$\n(3,\\,1,\\,5,\\,2,\\,8,\\,6,\\,9,\\,4,\\,10,\\,7).\n$$\nWith no ties, a pair $(i,j)$ with $i<j$ is discordant if and only if $Y_{i}>Y_{j}$. Thus $N_d$ equals the number of inversions in this $Y$ sequence. Count inversions by summing, for each position, the number of later entries that are smaller:\n- For $3$: later smaller are $1,2$ $\\Rightarrow 2$.\n- For $1$: none $\\Rightarrow 0$.\n- For $5$: later smaller are $2,4$ $\\Rightarrow 2$.\n- For $2$: none $\\Rightarrow 0$.\n- For $8$: later smaller are $6,4,7$ $\\Rightarrow 3$.\n- For $6$: later smaller is $4$ $\\Rightarrow 1$.\n- For $9$: later smaller are $4,7$ $\\Rightarrow 2$.\n- For $4$: none $\\Rightarrow 0$.\n- For $10$: later smaller is $7$ $\\Rightarrow 1$.\n- For $7$: none $\\Rightarrow 0$.\n\nTherefore,\n$$\nN_d=2+0+2+0+3+1+2+0+1+0=11,\n$$\nand hence\n$$\nN_c=45-11=34.\n$$\nKendall’s tau is\n$$\n\\tau=\\frac{N_c-N_d}{N_c+N_d}=\\frac{34-11}{45}=\\frac{23}{45}.\n$$\nAs a decimal rounded to three significant figures,\n$$\n\\tau=\\frac{23}{45}\\approx 0.511111\\ldots \\approx 0.511.\n$$", "answer": "$$\\boxed{0.511}$$", "id": "1927383"}, {"introduction": "While calculating from raw data is essential, it's also important to understand the components of Kendall's $\\tau$ on a conceptual level. This problem [@problem_id:1927389] moves away from individual pair-by-pair counting and instead provides a summary statistic—the number of concordant pairs. This focuses your attention on the algebraic relationship between the number of concordant pairs ($C$), discordant pairs ($D$), and the total number of pairs ($N$) to determine the final coefficient.", "problem": "An agricultural researcher is developing new coffee blends and wants to assess the consistency of taste perception between two expert tasters. Eight different coffee blends are ranked by two tasters, Taster 1 and Taster 2, from 1 (best) to 8 (worst). The researcher's data consists of these two sets of rankings for the $n=8$ blends. There are no ties in the rankings from either taster.\n\nTo measure the association between the two rankings, the researcher counts the number of concordant and discordant pairs of blends. A pair of blends is considered concordant if both tasters agree on which blend is better (i.e., one blend is ranked higher than the other by both tasters). It is found that there are exactly 20 concordant pairs among all possible pairs of blends.\n\nCalculate the Kendall's rank correlation coefficient, also known as Kendall's tau-a ($\\tau_a$), for this dataset. Provide your answer as a decimal rounded to three significant figures.", "solution": "Kendall's tau-a for rankings without ties is defined by\n$$\n\\tau_{a}=\\frac{C-D}{N},\n$$\nwhere $C$ is the number of concordant pairs, $D$ is the number of discordant pairs, and $N$ is the total number of pairs. For $n$ items, the total number of pairs is\n$$\nN=\\binom{n}{2}.\n$$\nWith no ties, every pair is either concordant or discordant, so\n$$\nD=N-C.\n$$\nSubstituting into the definition gives\n$$\n\\tau_{a}=\\frac{C-(N-C)}{N}=\\frac{2C-N}{N}.\n$$\nHere $n=8$, so\n$$\nN=\\binom{8}{2}=\\frac{8\\cdot 7}{2}=28,\n$$\nand $C=20$. Therefore,\n$$\n\\tau_{a}=\\frac{2\\cdot 20-28}{28}=\\frac{12}{28}=\\frac{3}{7}\\approx 0.428571\\ldots\n$$\nRounded to three significant figures, this is $0.429$.", "answer": "$$\\boxed{0.429}$$", "id": "1927389"}, {"introduction": "This final practice challenges you to apply your knowledge in reverse, testing your deeper understanding of the coefficient's structure. Instead of calculating $\\tau$ from given data, you will engineer a ranking that produces a specific target correlation [@problem_id:1927363]. This task requires you to work backward from the $\\tau$ value to determine the necessary number of concordant and discordant pairs, and then to construct a permutation with the corresponding number of inversions.", "problem": "Two competing web search engines, AlphaSearch and BetaSearch, are evaluated based on their ranking of the top four most relevant documents (D1, D2, D3, D4) for a specific query. AlphaSearch returns the ranking where D1 is 1st, D2 is 2nd, D3 is 3rd, and D4 is 4th. This can be represented by the rank vector $R_A = (1, 2, 3, 4)$, where the $i$-th element is the rank of document D$i$.\n\nThe relationship between two rankings can be quantified using the Kendall tau correlation coefficient, $\\tau$. It is defined as:\n$$\n\\tau = \\frac{N_c - N_d}{N_c + N_d}\n$$\nwhere $N_c$ is the number of concordant pairs and $N_d$ is the number of discordant pairs. A pair of documents, (D$i$, D$j$), is considered **concordant** if their relative ordering is the same in both rankings. The pair is **discordant** if their relative ordering is reversed. The total number of distinct pairs of documents is $N_c + N_d$.\n\nConstruct one possible ranking vector, $R_B$, for BetaSearch such that the Kendall tau coefficient between $R_A$ and $R_B$ is exactly $\\tau = -1/3$. Your answer should be the ranking vector $R_B$, which is a permutation of the numbers $(1, 2, 3, 4)$. Present this vector as a row matrix.", "solution": "We are given $R_{A} = (1, 2, 3, 4)$ and need a permutation $R_{B}$ of $(1, 2, 3, 4)$ such that the Kendall tau coefficient between $R_{A}$ and $R_{B}$ equals $\\tau = -\\frac{1}{3}$. The Kendall tau is\n$$\n\\tau = \\frac{N_{c} - N_{d}}{N_{c} + N_{d}},\n$$\nwhere $N_{c}$ is the number of concordant pairs and $N_{d}$ is the number of discordant pairs. For $4$ documents, the total number of distinct pairs is\n$$\nN_{c} + N_{d} = \\binom{4}{2} = 6.\n$$\nImposing $\\tau = -\\frac{1}{3}$ gives\n$$\n\\frac{N_{c} - N_{d}}{6} = -\\frac{1}{3} \\quad \\Longrightarrow \\quad N_{c} - N_{d} = -2.\n$$\nSolving the system\n$$\n\\begin{cases}\nN_{c} + N_{d} = 6,\\\\\nN_{c} - N_{d} = -2,\n\\end{cases}\n$$\nyields\n$$\nN_{c} = 2, \\quad N_{d} = 4.\n$$\nSince $R_{A}$ is the identity order by document index (i.e., $D1 \\prec D2 \\prec D3 \\prec D4$), a pair $(i,j)$ with $i<j$ is concordant if and only if $R_{B,i} < R_{B,j}$, and discordant if $R_{B,i} > R_{B,j}$. We therefore need a permutation $R_{B}$ with exactly $4$ discordant pairs (equivalently, $4$ inversions).\n\nConsider the permutation\n$$\nR_{B} = (3, 4, 1, 2).\n$$\nCheck all pairs $(i,j)$ with $i<j$:\n- $(1,2)$: $3 < 4$ is concordant.\n- $(1,3)$: $3 > 1$ is discordant.\n- $(1,4)$: $3 > 2$ is discordant.\n- $(2,3)$: $4 > 1$ is discordant.\n- $(2,4)$: $4 > 2$ is discordant.\n- $(3,4)$: $1 < 2$ is concordant.\n\nThus $N_{c} = 2$ and $N_{d} = 4$, giving\n$$\n\\tau = \\frac{2 - 4}{6} = -\\frac{1}{3},\n$$\nas required. Therefore, one valid choice is the row matrix $\\begin{pmatrix} 3 & 4 & 1 & 2 \\end{pmatrix}$.", "answer": "$$\\boxed{\\begin{pmatrix} 3 & 4 & 1 & 2 \\end{pmatrix}}$$", "id": "1927363"}]}