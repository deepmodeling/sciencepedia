{"hands_on_practices": [{"introduction": "A cornerstone of nonparametric statistics is its ability to perform robust inference without strict distributional assumptions. This practice explores how to construct a confidence interval for a population median using only the ordering of the data points. By working through this problem, you will see how order statistics and the fundamental binomial probability model combine to create a powerful and widely applicable inferential tool, freeing you from the need to assume your data is normally distributed [@problem_id:1924528].", "problem": "In a clinical study for a new anti-inflammatory drug, researchers measure the recovery time for a specific biological marker in test subjects after drug administration. A random sample of $n=15$ subjects is observed, and their recovery times, $T_1, T_2, \\dots, T_{15}$, are recorded. Assume these times are sampled from a continuous distribution with an unknown median recovery time, denoted by $\\eta$.\n\nA common non-parametric method to estimate the median is to construct a confidence interval using the ordered sample values (order statistics), $T_{(1)} \\le T_{(2)} \\le \\dots \\le T_{(15)}$. We are interested in finding a symmetric confidence interval of the form $[T_{(i)}, T_{(j)}]$, where the indices are related by $j = n - i + 1$.\n\nWhich pair of indices $(i, j)$ produces a confidence interval for the median $\\eta$ with a confidence level that is closest to 90%?\n\nA. $(3, 13)$\n\nB. $(4, 12)$\n\nC. $(5, 11)$\n\nD. $(6, 10)$\n\nE. $(7, 9)$", "solution": "Let $X$ be the number of observations strictly less than the (unknown) median $\\eta$. Under the assumptions of i.i.d. sampling from a continuous distribution, $X \\sim \\mathrm{Binomial}(n, \\frac{1}{2})$ and $\\mathbb{P}(T_{(i)} \\le \\eta \\le T_{(j)})$ can be computed using order statistic logic with ties having probability zero.\n\nFor a fixed $\\eta$:\n- $T_{(i)} \\le \\eta$ if and only if at least $i$ observations are less than $\\eta$, i.e., $X \\ge i$.\n- $\\eta \\le T_{(j)}$ if and only if at most $j-1$ observations are less than $\\eta$, i.e., $X \\le j-1$.\n\nTherefore,\n$$\n\\{T_{(i)} \\le \\eta \\le T_{(j)}\\} \\iff \\{i \\le X \\le j-1\\}.\n$$\nFor a symmetric interval with $j = n - i + 1$, we have $j - 1 = n - i$, hence\n$$\n\\mathbb{P}(T_{(i)} \\le \\eta \\le T_{(n-i+1)}) = \\mathbb{P}(i \\le X \\le n - i).\n$$\nWith $X \\sim \\mathrm{Binomial}(n, \\frac{1}{2})$ and symmetry,\n$$\n\\mathbb{P}(i \\le X \\le n - i) = 1 - 2\\,\\mathbb{P}(X \\le i - 1).\n$$\n\nFor $n = 15$, write\n$$\n\\mathbb{P}(X \\le k) = 2^{-15} \\sum_{x=0}^{k} \\binom{15}{x}.\n$$\nLet $S_{k} = \\sum_{x=0}^{k} \\binom{15}{x}$. Then the coverage for index $i$ is\n$$\n\\mathbb{P}(i \\le X \\le 15 - i) = 1 - 2 \\cdot 2^{-15} S_{i-1} = 1 - 2^{-14} S_{i-1}.\n$$\n\nCompute the needed binomial coefficients and partial sums:\n$$\n\\binom{15}{0}=1,\\ \\binom{15}{1}=15,\\ \\binom{15}{2}=105,\\ \\binom{15}{3}=455,\\ \\binom{15}{4}=1365,\\ \\binom{15}{5}=3003,\\ \\binom{15}{6}=5005,\\ \\binom{15}{7}=6435\n$$\n$$\nS_{0}=1,\\ S_{1}=16,\\ S_{2}=121,\\ S_{3}=576,\\ S_{4}=1941,\\ S_{5}=4944,\\ S_{6}=9949,\\quad 2^{14}=16384\n$$\n\nThus the coverages for the candidate $i$ values are:\n- $i=3$: $1 - 2^{-14} S_2 = 1 - \\frac{121}{16384} \\approx 0.9926$\n- $i=4$: $1 - 2^{-14} S_3 = 1 - \\frac{576}{16384} \\approx 0.9648$\n- $i=5$: $1 - 2^{-14} S_4 = 1 - \\frac{1941}{16384} \\approx 0.8815$\n- $i=6$: $1 - 2^{-14} S_5 = 1 - \\frac{4944}{16384} \\approx 0.6982$\n- $i=7$: $1 - 2^{-14} S_6 = 1 - \\frac{9949}{16384} \\approx 0.3927$\n\nWe compare each coverage level to the target of $0.90$:\n- For $i=3$: $|0.9926 - 0.90| = 0.0926$\n- For $i=4$: $|0.9648 - 0.90| = 0.0648$\n- For $i=5$: $|0.8815 - 0.90| = 0.0185$\n- For $i=6$: $|0.6982 - 0.90| = 0.2018$\n- For $i=7$: $|0.3927 - 0.90| = 0.5073$\n\nThe smallest absolute difference occurs at $i=5$, corresponding to the interval $(i,j) = (5,11)$.\n\nTherefore, the option closest to a confidence level of $90\\%$ is C.", "answer": "$$\\boxed{C}$$", "id": "1924528"}, {"introduction": "In many scientific and engineering applications, such as evaluating a machine learning model, we need to test if a set of measurements (like prediction errors) is symmetrically distributed around zero. The Wilcoxon signed-rank test provides a robust method for this, relying on the ranks of the data's absolute values rather than the data itself. This exercise provides hands-on practice in calculating the test statistic $W^+$, which is the essential first step in performing this widely-used test for symmetry [@problem_id:1924555].", "problem": "A data scientist is evaluating a new machine learning model designed to predict a financial index. The model's performance is critically assessed by analyzing its prediction errors, defined as $e_i = (\\text{actual value})_i - (\\text{predicted value})_i$. For the model to be considered unbiased, which is a requirement for subsequent risk analysis, the underlying distribution of its errors should be symmetric about zero.\n\nA sample of 11 prediction errors has been collected from the model's recent performance:\n$$ \\{1.2, -0.8, 2.5, -1.5, -0.8, 3.1, 0.0, -2.1, 1.7, 0.9, 1.4\\} $$\n\nTo formally investigate the symmetry of the error distribution, you are asked to compute a rank-based test statistic. The procedure for calculating this statistic, which we will denote as $W^+$, is as follows:\n1.  Remove any observations equal to zero from the dataset. Let the new, reduced sample size be $n$.\n2.  Take the absolute values of the $n$ remaining non-zero observations.\n3.  Rank these $n$ absolute values from smallest (rank 1) to largest (rank $n$). If ties occur in the absolute values, assign to each tied observation the average of the ranks they would have occupied.\n4.  The test statistic $W^+$ is defined as the sum of the ranks corresponding to the observations that were originally positive in the non-zero dataset.\n\nCalculate the value of the test statistic $W^+$.", "solution": "We start with the dataset of errors $ \\{1.2, -0.8, 2.5, -1.5, -0.8, 3.1, 0.0, -2.1, 1.7, 0.9, 1.4\\}$. Following the procedure:\n1) Remove zeros: discard $0.0$, leaving $n=10$ non-zero observations.\n2) Take absolute values of the non-zero observations:\n$$\\{1.2, 0.8, 2.5, 1.5, 0.8, 3.1, 2.1, 1.7, 0.9, 1.4\\}.$$\n3) Rank these absolute values from smallest to largest, averaging ranks for ties. The sorted absolute values are\n$$0.8, 0.8, 0.9, 1.2, 1.4, 1.5, 1.7, 2.1, 2.5, 3.1,$$\nso the ranks are assigned as:\n- $0.8$ (two occurrences) get ranks $\\frac{1+2}{2}=1.5$ each,\n- $0.9 \\to 3$,\n- $1.2 \\to 4$,\n- $1.4 \\to 5$,\n- $1.5 \\to 6$,\n- $1.7 \\to 7$,\n- $2.1 \\to 8$,\n- $2.5 \\to 9$,\n- $3.1 \\to 10$.\nMapping ranks back to the original non-zero observations in order:\n- $1.2$ (positive) has rank $4$,\n- $-0.8$ (negative) has rank $1.5$,\n- $2.5$ (positive) has rank $9$,\n- $-1.5$ (negative) has rank $6$,\n- $-0.8$ (negative) has rank $1.5$,\n- $3.1$ (positive) has rank $10$,\n- $-2.1$ (negative) has rank $8$,\n- $1.7$ (positive) has rank $7$,\n- $0.9$ (positive) has rank $3$,\n- $1.4$ (positive) has rank $5$.\n4) Sum the ranks corresponding to the originally positive observations to obtain $W^{+}$:\n$$W^{+} = 4 + 9 + 10 + 7 + 3 + 5 = 38.$$\nAs a consistency check, the total of all ranks is $ \\frac{n(n+1)}{2} = \\frac{10 \\cdot 11}{2} = 55$, so the sum of ranks for negative observations is $55 - 38 = 17$, which matches the assigned negative ranks, confirming the calculation.\nTherefore, the required test statistic is $W^{+} = 38$.", "answer": "$$\\boxed{38}$$", "id": "1924555"}, {"introduction": "Comparing two independent groups is one of the most common tasks in statistics. While the t-test is a popular choice, its validity rests on the assumption of normality. The Wilcoxon-Mann-Whitney U test offers a powerful nonparametric alternative that works for data from any continuous distribution. This exercise walks you through the core mechanic of this test: pooling the data, assigning ranks, and calculating the rank-sum statistic for one of the groups, a foundational skill for comparing populations without parametric constraints [@problem_id:1924536].", "problem": "A data analyst is studying the initial market reception of two independently developed video games, \"Aetherfall\" and \"Byte Runner\". The analyst collects the number of daily downloads for each game over a short period. The goal is to compare the location of the two distributions of download counts without making any assumptions about their shape (e.g., without assuming they are normally distributed).\n\nThe recorded daily download counts are as follows:\n- **Aetherfall:** $X = \\{155, 190, 172, 215, 160, 185, 205\\}$\n- **Byte Runner:** $Y = \\{180, 220, 195, 230, 172, 210, 200, 240, 165\\}$\n\nTo perform a two-sample test that is robust to the underlying distribution, a common first step is to combine all observations, rank them from smallest to largest, and then compute a test statistic based on these ranks.\n\nCalculate the sum of the ranks corresponding to the daily downloads for the game \"Aetherfall\".", "solution": "We aim to compute the Wilcoxon-type rank sum for the Aetherfall sample. The steps are:\n- Combine the two samples and rank all observations from smallest to largest, assigning average ranks to ties.\n- Sum the ranks corresponding to the Aetherfall observations.\n\nCombine and sort all observations (Aetherfall marked X, Byte Runner marked Y): 155(X), 160(X), 165(Y), 172(X), 172(Y), 180(Y), 185(X), 190(X), 195(Y), 200(Y), 205(X), 210(Y), 215(X), 220(Y), 230(Y), 240(Y). There are $n=16$ total observations, so the ranks are $1,2,\\ldots,16$. The only tie is at $172$ with two observations; the tied ranks $4$ and $5$ are replaced by their average $4.5$ for each.\n\nThus the ranks assigned are:\n- $155(X)\\to 1$, $160(X)\\to 2$, $165(Y)\\to 3$, $172(X)\\to 4.5$, $172(Y)\\to 4.5$, $180(Y)\\to 6$, $185(X)\\to 7$, $190(X)\\to 8$, $195(Y)\\to 9$, $200(Y)\\to 10$, $205(X)\\to 11$, $210(Y)\\to 12$, $215(X)\\to 13$, $220(Y)\\to 14$, $230(Y)\\to 15$, $240(Y)\\to 16$.\n\nSum the ranks for Aetherfall (X): \n$$1+2+4.5+7+8+11+13=46.5.$$\nAs a check, the total sum of ranks is $\\frac{n(n+1)}{2}=\\frac{16\\cdot 17}{2}=136$, so the Byte Runner sum is $136-46.5=89.5$, consistent with the assigned ranks.", "answer": "$$\\boxed{46.5}$$", "id": "1924536"}]}