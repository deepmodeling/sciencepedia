{"hands_on_practices": [{"introduction": "The best way to understand the Empirical Distribution Function (EDF) is to build one from scratch. This first exercise gets us started with the most fundamental operation: calculating the value of the EDF at a specific point. By working through this simple calculation with a given set of data [@problem_id:4320], you'll gain a concrete understanding of how the EDF connects a value $x$ to the proportion of your sample that falls at or below it.", "problem": "Consider a set of $n$ observations for a discrete random variable $X$, denoted by $\\{x_1, x_2, \\ldots, x_n\\}$. The empirical cumulative distribution function (ECDF), which we denote as $F_n(x)$, gives the proportion of observations in the sample that are less than or equal to a given value $x$.\n\nThe ECDF is defined as:\n$$\nF_n(x) = \\frac{1}{n} \\times (\\text{number of observations } \\le x)\n$$\nMore formally, using the indicator function $\\mathbf{1}\\{A\\}$, which is 1 if event $A$ is true and 0 otherwise, the ECDF is written as:\n$$\nF_n(x) = \\frac{1}{n} \\sum_{i=1}^{n} \\mathbf{1}\\{x_i \\le x\\}\n$$\nGiven the sample of observations $S = \\{0, 1, 1, 2, 4\\}$, derive the value of the empirical CDF at the point $x=1.5$.", "solution": "By definition,  \n$$F_n(x)=\\frac{1}{n}\\sum_{i=1}^n \\mathbf{1}\\{x_i\\le x\\}.$$  \nHere $n=5$ and $x=1.5$. We evaluate  \n$$\\sum_{i=1}^5 \\mathbf{1}\\{x_i\\le 1.5\\}\n=\\mathbf{1}\\{0\\le1.5\\}+\\mathbf{1}\\{1\\le1.5\\}+\\mathbf{1}\\{1\\le1.5\\}+\\mathbf{1}\\{2\\le1.5\\}+\\mathbf{1}\\{4\\le1.5\\}\n=1+1+1+0+0=3.\n$$  \nHence  \n$$F_n(1.5)=\\frac{3}{5}.$$", "answer": "$$\\boxed{\\tfrac{3}{5}}$$", "id": "4320"}, {"introduction": "After mastering the calculation at a single point, the next logical step is to construct the entire EDF as a function. This practice problem guides you through deriving the complete, piecewise formula for an EDF based on a simple, structured dataset. This exercise is crucial for visualizing the EDF as a step function that 'jumps' only at the observed data values, providing a complete picture of the sample's distribution [@problem_id:1915423].", "problem": "In a study of a bistable electronic component, its state is measured at $2n$ discrete time points. The component can only be in one of two states, which are numerically coded as '1' and '2'. The collected dataset reveals that the state '1' was observed exactly $n$ times and the state '2' was also observed exactly $n$ times.\n\nThe Empirical Distribution Function (EDF) for a sample of size $N$, denoted $\\hat{F}_N(x)$, is defined as the fraction of the sample observations that are less than or equal to a given value $x$. Specifically, for a sample $X_1, X_2, \\ldots, X_N$, the EDF is given by the formula $\\hat{F}_N(x) = \\frac{1}{N} \\sum_{i=1}^{N} \\mathbf{1}\\{X_i \\le x\\}$, where $\\mathbf{1}\\{\\cdot\\}$ is the indicator function which is 1 if its argument is true and 0 otherwise.\n\nGiven this specific dataset of $n$ ones and $n$ twos, derive the complete, piecewise formula for the EDF, $\\hat{F}_{2n}(x)$, as a function of $x$. The formula should be valid for all real numbers $x$.", "solution": "The problem asks for the Empirical Distribution Function (EDF), $\\hat{F}_{2n}(x)$, for a sample of size $N=2n$. The sample consists of $n$ observations with the value 1 and $n$ observations with the value 2.\n\nThe definition of the EDF is given as:\n$$\n\\hat{F}_{N}(x) = \\frac{1}{N} \\times (\\text{number of observations } \\le x)\n$$\nIn our case, the total number of observations is $N = n + n = 2n$. Let the sample data be $\\{X_1, \\dots, X_{2n}\\}$, which contains $n$ copies of the value 1 and $n$ copies of the value 2.\n\nThe formula for our specific EDF is:\n$$\n\\hat{F}_{2n}(x) = \\frac{1}{2n} \\times (\\text{number of observations in the sample that are } \\le x)\n$$\n\nTo find the formula for $\\hat{F}_{2n}(x)$, we need to consider different possible values of $x$. The values in our dataset are 1 and 2. The function $\\hat{F}_{2n}(x)$ will change its value only at these points. We can analyze the function by considering three distinct regions for $x$: $x < 1$, $1 \\le x < 2$, and $x \\ge 2$.\n\n**Case 1: $x < 1$**\nFor any value of $x$ less than 1, there are no observations in the sample that are less than or equal to $x$. Both 1 and 2 are greater than $x$. Therefore, the number of observations $\\le x$ is 0.\nSo, for $x < 1$:\n$$\n\\hat{F}_{2n}(x) = \\frac{0}{2n} = 0\n$$\n\n**Case 2: $1 \\le x < 2$**\nFor any value of $x$ in this range, the observations that are less than or equal to $x$ are the $n$ observations of the value 1. The $n$ observations of the value 2 are strictly greater than $x$. Therefore, the number of observations $\\le x$ is exactly $n$.\nSo, for $1 \\le x < 2$:\n$$\n\\hat{F}_{2n}(x) = \\frac{n}{2n} = \\frac{1}{2}\n$$\n\n**Case 3: $x \\ge 2$**\nFor any value of $x$ greater than or equal to 2, all observations in the sample are less than or equal to $x$. This includes the $n$ observations of the value 1 and the $n$ observations of the value 2. Therefore, the total number of observations $\\le x$ is $n + n = 2n$.\nSo, for $x \\ge 2$:\n$$\n\\hat{F}_{2n}(x) = \\frac{2n}{2n} = 1\n$$\n\nCombining these three cases, we can write the complete piecewise formula for the EDF $\\hat{F}_{2n}(x)$:\n$$\n\\hat{F}_{2n}(x) = \n\\begin{cases}\n0 & \\text{if } x < 1 \\\\\n\\frac{1}{2} & \\text{if } 1 \\le x < 2 \\\\\n1 & \\text{if } x \\ge 2\n\\end{cases}\n$$\nThis function is a step function that jumps at the values present in the data sample.", "answer": "$$\n\\boxed{\n\\hat{F}_{2n}(x) = \n\\begin{cases} \n0 & \\text{if } x < 1 \\\\ \n\\frac{1}{2} & \\text{if } 1 \\leq x < 2 \\\\ \n1 & \\text{if } x \\geq 2 \n\\end{cases}\n}\n$$", "id": "1915423"}, {"introduction": "Now we move from describing a single sample to a powerful application: comparing two different samples. This problem presents a hypothetical scenario common in A/B testing, where we want to assess if one group's measurements are systematically larger than another's. By calculating the probability that one sample's EDF is always 'ahead' of another's, we venture into the realm of non-parametric statistics and uncover a surprising and elegant connection between the EDF and classical combinatorics [@problem_id:1915382].", "problem": "A software engineering team is conducting a performance comparison between two versions of an algorithm, Version A and Version B. To do this, they measure the time it takes for each algorithm to complete a specific computational task. They run $n$ independent trials for each version, yielding two sets of completion times: $\\{X_1, X_2, \\ldots, X_n\\}$ for Version A and $\\{Y_1, Y_2, \\ldots, Y_n\\}$ for Version B.\n\nAssume that both sets of measurements are independent random samples drawn from the same underlying continuous probability distribution, $F$. This represents the null hypothesis that there is no difference in performance between the two versions.\n\nTo compare the samples, the team uses the Empirical Distribution Function (EDF). For a given sample of size $n$, the EDF, denoted $\\hat{P}_n(t)$, is defined as the fraction of data points less than or equal to a value $t$. Let $\\hat{F}_n(t)$ be the EDF for the sample from Version A and $\\hat{G}_n(t)$ be the EDF for the sample from Version B.\n\nThe team is interested in the probability of a specific outcome: that for any given time $t$, the proportion of completed tasks for Version B is always greater than or equal to the proportion of completed tasks for Version A. This corresponds to the event where $\\hat{F}_n(t) \\le \\hat{G}_n(t)$ for all real numbers $t$.\n\nFind the probability of this event occurring. Express your answer as a closed-form analytic expression in terms of the sample size $n$.", "solution": "Let $A_{n}$ denote the event that $\\hat{F}_{n}(t) \\le \\hat{G}_{n}(t)$ for all real $t$. Under the null hypothesis, $X_{1},\\ldots,X_{n}$ and $Y_{1},\\ldots,Y_{n}$ are independent samples from the same continuous distribution $F$. By the probability integral transform, define $U_{i} = F(X_{i})$ and $V_{j} = F(Y_{j})$. Then $\\{U_{i}\\}_{i=1}^{n}$ and $\\{V_{j}\\}_{j=1}^{n}$ are independent samples from the $\\mathrm{Uniform}(0,1)$ distribution. Because $F$ is continuous, with probability one all $2n$ values are distinct, and the ordering (ranks) of the combined sample is uniformly distributed over all $\\binom{2n}{n}$ interleavings of $n$ $X$-labels and $n$ $Y$-labels. The event $A_{n}$ depends only on these ranks, so we may work entirely with the ranks of the $U$’s and $V$’s.\n\nSort the $2n$ pooled observations and read off their labels from smallest to largest, writing $+1$ for a $Y$ and $-1$ for an $X$. Let $Z_{k} \\in \\{+1,-1\\}$ be this label at position $k$, and let $S_{k} = \\sum_{j=1}^{k} Z_{j}$. The condition $\\hat{F}_{n}(t) \\le \\hat{G}_{n}(t)$ for all $t$ is equivalent to requiring that for every prefix of the ordered list, the number of $Y$’s seen so far is at least the number of $X$’s, i.e., $S_{k} \\ge 0$ for all $k=1,\\ldots,2n$, with $S_{2n}=0$ since there are exactly $n$ of each label.\n\nThus, $A_{n}$ is the classical ballot/Dyck-path event. Among all $\\binom{2n}{n}$ sequences with $n$ steps $+1$ and $n$ steps $-1$, the number that satisfy $S_{k} \\ge 0$ for all $k$ is the $n$-th Catalan number\n$$\nC_{n} = \\frac{1}{n+1}\\binom{2n}{n}.\n$$\nOne way to see this is by the reflection principle: the number of sequences that ever go below zero equals $\\binom{2n}{n-1}$, so the number that never go below zero is\n$$\n\\binom{2n}{n} - \\binom{2n}{n-1} = \\frac{1}{n+1}\\binom{2n}{n} = C_{n}.\n$$\nBecause each interleaving is equally likely, the desired probability is\n$$\n\\mathbb{P}(A_{n}) = \\frac{C_{n}}{\\binom{2n}{n}} = \\frac{1}{n+1}.\n$$\nThis is a closed-form analytic expression in terms of $n$.", "answer": "$$\\boxed{\\frac{1}{n+1}}$$", "id": "1915382"}]}