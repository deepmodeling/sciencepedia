{"hands_on_practices": [{"introduction": "The theoretical construction of a sequence of simple functions that approximates a measurable function is a cornerstone of Lebesgue integration. To truly grasp this concept, let's move from theory to practice. This first exercise will guide you through the explicit construction of the first two functions in the canonical sequence for a simple linear function, helping you visualize how these \"staircase\" approximations are built and how they begin to conform to the target function's shape [@problem_id:1283057].", "problem": "Let $f: D \\to [0, \\infty)$ be a non-negative measurable function defined on a domain $D \\subseteq \\mathbb{R}$. A canonical sequence of simple functions, $(\\phi_n)_{n=1}^\\infty$, that converges pointwise to $f$ is constructed as follows.\n\nFor each integer $n \\geq 1$, we define the sets:\n- $E_{n,k} = \\left\\{ x \\in D \\mid \\frac{k-1}{2^n} \\leq f(x) < \\frac{k}{2^n} \\right\\}$ for $k = 1, 2, \\dots, n2^n$.\n- $F_n = \\{ x \\in D \\mid f(x) \\geq n \\}$.\n\nThe simple function $\\phi_n(x)$ is then given by:\n$$\n\\phi_n(x) = \\sum_{k=1}^{n2^n} \\frac{k-1}{2^n} \\cdot \\chi_{E_{n,k}}(x) + n \\cdot \\chi_{F_n}(x)\n$$\nwhere $\\chi_{A}(x)$ is the characteristic function of a set $A$, which equals 1 if $x \\in A$ and 0 otherwise.\n\nConsider the function $f(x) = 3x$ defined on the interval $D = [0, 1]$. Let $\\phi_1(x)$ and $\\phi_2(x)$ be the first two simple functions in this canonical sequence which approximate $f(x)$.\n\nCalculate the exact value of the integral $\\int_0^1 (\\phi_2(x) - \\phi_1(x)) \\,dx$.", "solution": "We have $f(x)=3x$ on $D=[0,1]$. For $n=1$, $2^1=2$ and $k=1,2$. The sets are\n$$\nE_{1,1}=\\{x\\in[0,1]\\mid 0\\leq 3x<\\tfrac{1}{2}\\}=[0,\\tfrac{1}{6}),\\quad\nE_{1,2}=\\{x\\in[0,1]\\mid \\tfrac{1}{2}\\leq 3x<1\\}=[\\tfrac{1}{6},\\tfrac{1}{3}),\n$$\n$$\nF_{1}=\\{x\\in[0,1]\\mid 3x\\geq 1\\}=[\\tfrac{1}{3},1].\n$$\nThus\n$$\n\\phi_{1}(x)=0\\cdot\\chi_{[0,\\,1/6)}(x)+\\tfrac{1}{2}\\cdot\\chi_{[1/6,\\,1/3)}(x)+1\\cdot\\chi_{[1/3,\\,1]}(x),\n$$\nand\n$$\n\\int_{0}^{1}\\phi_{1}(x)\\,dx=0\\cdot\\tfrac{1}{6}+\\tfrac{1}{2}\\cdot\\tfrac{1}{6}+1\\cdot\\tfrac{2}{3}=\\tfrac{1}{12}+\\tfrac{8}{12}=\\tfrac{9}{12}=\\tfrac{3}{4}.\n$$\n\nFor $n=2$, $2^2=4$ and $k=1,2,\\dots,8$. Then\n$$\nE_{2,k}=\\{x\\in[0,1]\\mid \\tfrac{k-1}{4}\\leq 3x<\\tfrac{k}{4}\\}=\\Big[\\tfrac{k-1}{12},\\tfrac{k}{12}\\Big),\n\\quad k=1,\\dots,8,\n$$\nand\n$$\nF_{2}=\\{x\\in[0,1]\\mid 3x\\geq 2\\}=\\Big[\\tfrac{2}{3},1\\Big].\n$$\nHence\n$$\n\\phi_{2}(x)=\\sum_{k=1}^{8}\\tfrac{k-1}{4}\\,\\chi_{[(k-1)/12,\\,k/12)}(x)+2\\,\\chi_{[2/3,\\,1]}(x).\n$$\nIntegrating over $[0,1]$ and using that each interval $[(k-1)/12,k/12)$ has length $\\tfrac{1}{12}$, we get\n$$\n\\int_{0}^{1}\\phi_{2}(x)\\,dx=\\sum_{k=1}^{8}\\tfrac{k-1}{4}\\cdot\\tfrac{1}{12}+2\\cdot\\tfrac{1}{3}\n=\\tfrac{1}{48}\\sum_{j=0}^{7}j+\\tfrac{2}{3}.\n$$\nUsing $\\sum_{j=0}^{m}j=\\tfrac{m(m+1)}{2}$ with $m=7$ gives $\\sum_{j=0}^{7}j=\\tfrac{7\\cdot 8}{2}=28$, so\n$$\n\\int_{0}^{1}\\phi_{2}(x)\\,dx=\\tfrac{28}{48}+\\tfrac{2}{3}=\\tfrac{7}{12}+\\tfrac{8}{12}=\\tfrac{15}{12}=\\tfrac{5}{4}.\n$$\n\nTherefore,\n$$\n\\int_{0}^{1}\\big(\\phi_{2}(x)-\\phi_{1}(x)\\big)\\,dx=\\int_{0}^{1}\\phi_{2}(x)\\,dx-\\int_{0}^{1}\\phi_{1}(x)\\,dx=\\tfrac{5}{4}-\\tfrac{3}{4}=\\tfrac{1}{2}.\n$$", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "1283057"}, {"introduction": "After building the entire approximating function, it is crucial to understand its behavior at a specific location. This practice zooms in on a single point to demonstrate the core guarantee of the approximation theorem: pointwise convergence. By calculating the value of the sequence $\\phi_n(x)$ at a fixed point $x$ for increasing $n$, you will witness firsthand how the approximation hones in on the true value of the function $f(x)$ [@problem_id:1283067].", "problem": "In measure theory, any non-negative measurable function $f$ defined on a measurable set $E \\subseteq \\mathbb{R}$ can be approximated pointwise by a canonical sequence of simple functions $\\{\\phi_n\\}_{n=1}^{\\infty}$. This construction is fundamental to the definition of the Lebesgue integral.\n\nFor each positive integer $n$, the construction proceeds as follows. First, the range $[0, \\infty)$ is partitioned. For each integer $k$ in the range $0 \\le k \\le n2^n - 1$, we define the set\n$$E_{n,k} = \\left\\{ x \\in E : \\frac{k}{2^n} \\le f(x) < \\frac{k+1}{2^n} \\right\\}.$$\nAdditionally, we define an \"overflow\" set that captures large values of the function:\n$$F_n = \\{ x \\in E : f(x) \\ge n \\}.$$\nThe $n$-th simple function in the approximating sequence, $\\phi_n$, is then defined for any $x \\in E$ as\n$$\\phi_n(x) = \\sum_{k=0}^{n2^n - 1} \\frac{k}{2^n} \\chi_{E_{n,k}}(x) + n \\chi_{F_n}(x),$$\nwhere $\\chi_A$ denotes the characteristic function of a set $A$, which is 1 if $x \\in A$ and 0 otherwise.\n\nConsider the function $f(x) = x$ defined on the domain $E = [0, 5]$. Determine the first four values of the sequence $\\{\\phi_n(x)\\}_{n=1}^{\\infty}$ evaluated at the point $x = \\frac{7}{2}$. Specifically, find the values of $\\phi_1\\left(\\frac{7}{2}\\right)$, $\\phi_2\\left(\\frac{7}{2}\\right)$, $\\phi_3\\left(\\frac{7}{2}\\right)$, and $\\phi_4\\left(\\frac{7}{2}\\right)$.", "solution": "The problem asks for the first four terms of the sequence of simple function approximations $\\{\\phi_n\\}$ for the function $f(x) = x$ on $E=[0,5]$, evaluated at the point $x = \\frac{7}{2}$.\n\nFirst, we find the value of the function $f$ at the specified point:\n$f\\left(\\frac{7}{2}\\right) = \\frac{7}{2} = 3.5$.\n\nThe value of $\\phi_n\\left(\\frac{7}{2}\\right)$ is determined by which of the sets, $E_{n,k}$ or $F_n$, the point $x = \\frac{7}{2}$ belongs to. This depends on the value $f(7/2)=3.5$. We will evaluate this for $n=1, 2, 3, 4$.\n\n**Step 1: Calculate $\\phi_1\\left(\\frac{7}{2}\\right)$**\nFor $n=1$, the overflow set is $F_1 = \\{x \\in E : f(x) \\ge 1\\}$. We check if $f\\left(\\frac{7}{2}\\right)$ meets this condition:\n$f\\left(\\frac{7}{2}\\right) = 3.5 \\ge 1$.\nThe condition is met. Therefore, $x = \\frac{7}{2} \\in F_1$. According to the definition of $\\phi_n$, the value of the function is $n$.\nThus, $\\phi_1\\left(\\frac{7}{2}\\right) = 1$.\n\n**Step 2: Calculate $\\phi_2\\left(\\frac{7}{2}\\right)$**\nFor $n=2$, the overflow set is $F_2 = \\{x \\in E : f(x) \\ge 2\\}$. We check if $f\\left(\\frac{7}{2}\\right)$ meets this condition:\n$f\\left(\\frac{7}{2}\\right) = 3.5 \\ge 2$.\nThe condition is met. Therefore, $x = \\frac{7}{2} \\in F_2$. The value of the function is $n$.\nThus, $\\phi_2\\left(\\frac{7}{2}\\right) = 2$.\n\n**Step 3: Calculate $\\phi_3\\left(\\frac{7}{2}\\right)$**\nFor $n=3$, the overflow set is $F_3 = \\{x \\in E : f(x) \\ge 3\\}$. We check if $f\\left(\\frac{7}{2}\\right)$ meets this condition:\n$f\\left(\\frac{7}{2}\\right) = 3.5 \\ge 3$.\nThe condition is met. Therefore, $x = \\frac{7}{2} \\in F_3$. The value of the function is $n$.\nThus, $\\phi_3\\left(\\frac{7}{2}\\right) = 3$.\n\n**Step 4: Calculate $\\phi_4\\left(\\frac{7}{2}\\right)$**\nFor $n=4$, the overflow set is $F_4 = \\{x \\in E : f(x) \\ge 4\\}$. We check if $f\\left(\\frac{7}{2}\\right)$ meets this condition:\n$f\\left(\\frac{7}{2}\\right) = 3.5 < 4$.\nThe condition is not met. Therefore, $x = \\frac{7}{2} \\notin F_4$. This means $x=\\frac{7}{2}$ must belong to one of the sets $E_{4,k}$ for some integer $k$. We need to find the value of $k$ such that:\n$$\\frac{k}{2^4} \\le f\\left(\\frac{7}{2}\\right) < \\frac{k+1}{2^4}$$\nSubstituting the known values $f\\left(\\frac{7}{2}\\right) = 3.5$ and $2^4 = 16$:\n$$\\frac{k}{16} \\le 3.5 < \\frac{k+1}{16}$$\nTo find $k$, we multiply the inequality by 16:\n$$k \\le 16 \\times 3.5 < k+1$$\n$$k \\le 56 < k+1$$\nThis inequality is satisfied for the integer $k=56$.\nSo, $x = \\frac{7}{2} \\in E_{4,56}$. The value of the simple function $\\phi_4$ at this point is given by $\\frac{k}{2^n}$.\n$$\\phi_4\\left(\\frac{7}{2}\\right) = \\frac{k}{2^4} = \\frac{56}{16}$$\nSimplifying the fraction:\n$$\\frac{56}{16} = \\frac{8 \\times 7}{8 \\times 2} = \\frac{7}{2}$$\nThus, $\\phi_4\\left(\\frac{7}{2}\\right) = \\frac{7}{2}$.\n\nThe first four values of the sequence are $1, 2, 3, \\frac{7}{2}$.", "answer": "$$\\boxed{\\begin{pmatrix} 1 & 2 & 3 & \\frac{7}{2} \\end{pmatrix}}$$", "id": "1283067"}, {"introduction": "To deepen our understanding, let's consider a thought-provoking scenario: what happens when we apply this approximation machinery to a function that is already simple? This exercise challenges you to determine when the canonical sequence $\\phi_n$ becomes identically equal to the target function $f$. Solving this problem reveals a fundamental property about the numerical values the canonical approximation can produce, forcing us to think about the relationship between the function's range and the dyadic rational numbers used in the construction [@problem_id:1283074].", "problem": "In the theory of measure and integration, a non-negative measurable function $f: X \\to [0, \\infty)$ can be approximated by a sequence of simple functions $\\{\\phi_n\\}_{n=1}^{\\infty}$. This canonical approximation is constructed as follows: for each integer $n \\ge 1$, we define the sets\n$$E_{n,k} = \\{x \\in X \\mid \\frac{k-1}{2^n} \\le f(x) < \\frac{k}{2^n}\\}$$ for $k = 1, 2, \\ldots, n2^n$,\nand the set\n$$F_n = \\{x \\in X \\mid f(x) \\ge n\\}$$\nThe $n$-th simple function in the sequence is then given by\n$$ \\phi_n(x) = \\sum_{k=1}^{n2^n} \\frac{k-1}{2^n} \\chi_{E_{n,k}}(x) + n \\chi_{F_n}(x) $$\nwhere $\\chi_S$ denotes the characteristic function of a set $S$. This sequence has the property that $0 \\le \\phi_1(x) \\le \\phi_2(x) \\le \\dots \\le f(x)$ and $\\phi_n(x) \\to f(x)$ pointwise for all $x \\in X$.\n\nNow, consider a specific simple function $f: \\mathbb{R} \\to \\mathbb{R}$ defined as\n$$ f(x) = 2.75 \\cdot \\chi_{A}(x) + 5.125 \\cdot \\chi_{B}(x) $$\nwhere $A$ and $B$ are non-empty, disjoint measurable sets whose union is $\\mathbb{R}$.\n\nDetermine the smallest positive integer $n$ for which the approximating function $\\phi_n$ is identically equal to $f$ (i.e., $\\phi_n(x) = f(x)$ for all $x \\in \\mathbb{R}$).", "solution": "The given simple function $f(x)$ takes two non-zero values on $\\mathbb{R}$: $c_1 = 2.75$ on set $A$, and $c_2 = 5.125$ on set $B$. We want to find the smallest positive integer $n$ such that the canonical simple function $\\phi_n$ is exactly equal to $f$. This means that $\\phi_n(x)$ must equal $f(x)$ for all $x$. We can check this condition by considering the points where $f(x)=c_1$ and $f(x)=c_2$.\n\nLet's analyze the value of $\\phi_n(x)$ at a point $x$ where $f(x) = c$. According to the definition of $\\phi_n$, there are two cases.\n\nCase 1: $c \\ge n$.\nIn this case, the point $x$ belongs to the set $F_n = \\{x' \\mid f(x') \\ge n\\}$. The definition of $\\phi_n$ then gives $\\phi_n(x) = n$. For $\\phi_n(x)$ to be equal to $f(x)$, we must have $n=c$.\n\nCase 2: $c < n$.\nIn this case, $x$ is not in $F_n$. The point $x$ must belong to one of the sets $E_{n,k}$. Specifically, we find an integer $k$ such that $\\frac{k-1}{2^n} \\le c < \\frac{k}{2^n}$. The value of the approximating function is then $\\phi_n(x) = \\frac{k-1}{2^n}$. For $\\phi_n(x)$ to be equal to $f(x) = c$, we need $\\frac{k-1}{2^n} = c$. The inequality for $k$ is equivalent to $k-1 \\le c \\cdot 2^n < k$. This means $k-1 = \\lfloor c \\cdot 2^n \\rfloor$. Thus, the condition $\\phi_n(x) = c$ becomes $\\frac{\\lfloor c \\cdot 2^n \\rfloor}{2^n} = c$. This equality holds if and only if $c \\cdot 2^n$ is an integer.\n\nWe need to find the smallest integer $n \\ge 1$ that satisfies these conditions for both $c_1 = 2.75$ and $c_2 = 5.125$. Let's test integer values of $n$ starting from $1$.\n\nFor $n=1$:\n- Consider a point $x_1 \\in A$ where $f(x_1) = c_1 = 2.75$. Since $c_1 \\ge 1$, this falls into Case 1. For $\\phi_1(x_1)=f(x_1)$, we need $1 = 2.75$, which is false. So, $\\phi_1 \\ne f$.\n\nFor $n=2$:\n- Consider a point $x_1 \\in A$ where $f(x_1) = c_1 = 2.75$. Since $c_1 \\ge 2$, this is Case 1. We need $2 = 2.75$, which is false. So, $\\phi_2 \\ne f$.\n\nFor $n=3$:\n- Consider a point $x_1 \\in A$ where $f(x_1) = c_1 = 2.75$. Since $c_1 < 3$, this is Case 2. We must check if $c_1 \\cdot 2^3$ is an integer. $2.75 \\cdot 8 = \\frac{11}{4} \\cdot 8 = 22$. This is an integer, so this part of the condition holds.\n- Consider a point $x_2 \\in B$ where $f(x_2) = c_2 = 5.125$. Since $c_2 \\ge 3$, this is Case 1. We need $3 = 5.125$, which is false. So, $\\phi_3 \\ne f$.\n\nFor $n=4$:\n- Consider a point $x_1 \\in A$ where $f(x_1) = c_1 = 2.75$. Since $c_1 < 4$, we check if $c_1 \\cdot 2^4$ is an integer. $2.75 \\cdot 16 = \\frac{11}{4} \\cdot 16 = 44$. This is an integer.\n- Consider a point $x_2 \\in B$ where $f(x_2) = c_2 = 5.125$. Since $c_2 \\ge 4$, this is Case 1. We need $4 = 5.125$, which is false. So, $\\phi_4 \\ne f$.\n\nFor $n=5$:\n- For $f(x) = c_1 = 2.75$: $c_1 < 5$. We check $c_1 \\cdot 2^5 = 2.75 \\cdot 32 = \\frac{11}{4} \\cdot 32 = 88$. This is an integer.\n- For $f(x) = c_2 = 5.125$: $c_2 \\ge 5$. This is Case 1. We need $5 = 5.125$, which is false. So, $\\phi_5 \\ne f$.\n\nFor $n=6$:\n- For $f(x) = c_1 = 2.75$: $c_1 = 2.75 < 6$. This is Case 2. We check if $c_1 \\cdot 2^6$ is an integer. $2.75 \\cdot 64 = \\frac{11}{4} \\cdot 64 = 11 \\cdot 16 = 176$. This is an integer. So the condition holds for all $x \\in A$.\n- For $f(x) = c_2 = 5.125$: $c_2 = 5.125 < 6$. This is also Case 2. We check if $c_2 \\cdot 2^6$ is an integer. $5.125 \\cdot 64 = \\frac{41}{8} \\cdot 64 = 41 \\cdot 8 = 328$. This is an integer. So the condition holds for all $x \\in B$.\n\nSince both conditions are met for $n=6$, we have $\\phi_6(x) = f(x)$ for all $x \\in \\mathbb{R}$. As we have shown that no smaller integer $n$ works, the smallest such positive integer is 6.\n\nAlternatively, we can analyze the conditions more generally.\nFor $\\phi_n = f$, for each value $c$ that $f$ can take, one of the two conditions must be met:\n1. $c \\ge n$ and $c=n$. This can only happen if $c$ is an integer.\n2. $c < n$ and $c \\cdot 2^n$ is an integer.\n\nThe values of our function are $c_1 = 2.75$ and $c_2 = 5.125$. Both are non-integers. Therefore, for $\\phi_n = f$, we must be in Case 2 for both values. This requires $n > c_1$ and $n > c_2$.\nSo we must have $n > 5.125$. The smallest integer $n$ satisfying this is $n=6$.\nNow we must check if for $n=6$, the second part of the condition ( $c \\cdot 2^n$ is an integer) is satisfied.\nFor $c_1 = 2.75 = \\frac{11}{4}$: $2.75 \\cdot 2^6 = \\frac{11}{2^2} \\cdot 2^6 = 11 \\cdot 2^4 = 176$, which is an integer.\nFor $c_2 = 5.125 = \\frac{41}{8}$: $5.125 \\cdot 2^6 = \\frac{41}{2^3} \\cdot 2^6 = 41 \\cdot 2^3 = 328$, which is an integer.\nBoth conditions are met for $n=6$. Any $n$ from 1 to 5 will fail the condition $n > 5.125$. Thus, the smallest integer is $n=6$.", "answer": "$$\\boxed{6}$$", "id": "1283074"}]}