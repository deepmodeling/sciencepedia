{"hands_on_practices": [{"introduction": "The existence of smooth partitions of unity is a cornerstone theorem in differential topology, but how are these functions actually made? This practice demystifies the concept by guiding you through the explicit construction of a smooth partition of unity on the real line $\\mathbb{R}$. Starting with a classic \"bump\" function, you will see how scaling and shifting can create functions that seamlessly transfer a property across a space, a fundamental technique for gluing local information into a global whole [@problem_id:1665012].", "problem": "In differential topology, a partition of unity is a fundamental tool for piecing together local functions into global ones. A family of functions $\\{\\phi_i\\}_{i \\in I}$ defined on a space $X$ is called a $C^\\infty$ partition of unity subordinate to an open cover $\\{U_i\\}_{i \\in I}$ if it satisfies the following properties:\n1.  For each $i \\in I$, the function $\\phi_i: X \\to [0, 1]$ is a smooth ($C^\\infty$) function.\n2.  For each $i \\in I$, the support of $\\phi_i$ (defined as the closure of the set of points where $\\phi_i$ is non-zero) is a subset of the open set $U_i$.\n3.  For every point $x \\in X$, the sum of the function values at that point is unity: $\\sum_{i \\in I} \\phi_i(x) = 1$. (For an infinite cover, a local finiteness condition is also required, but we will consider a finite cover.)\n\nYour task is to explicitly construct such a partition of unity for the real line $\\mathbb{R}$ with respect to the open cover $\\{U_1, U_2\\}$, where $U_1 = (-\\infty, 1)$ and $U_2 = (0, \\infty)$.\n\nTo ensure a specific construction, you must use the following standard building-block functions. First, consider the function $f: \\mathbb{R} \\to \\mathbb{R}$ defined as:\n$$\nf(x) = \\begin{cases} \\exp(-1/x)  \\text{if } x > 0 \\\\ 0  \\text{if } x \\le 0 \\end{cases}\n$$\nThis function is a well-known example of a non-analytic smooth function. From it, we can construct a smooth step function $g: \\mathbb{R} \\to \\mathbb{R}$ given by:\n$$\ng(x) = \\frac{f(x)}{f(x) + f(1-x)}\n$$\nThe function $g(x)$ is a $C^\\infty$ function that smoothly transitions from a value of $0$ for all $x \\le 0$ to a value of $1$ for all $x \\ge 1$.\n\nUsing the function $g(x)$ as a tool, find a pair of explicit, non-trivial $C^\\infty$ functions, $\\phi_1(x)$ and $\\phi_2(x)$, that constitute a partition of unity subordinate to the given cover $\\{U_1, U_2\\}$. Your construction should ensure that the transition region (i.e., where the functions are not equal to 0 or 1) is strictly contained within the interval $(0, 1)$.\n\nAs your final answer, provide the explicit analytical expression for the function $\\phi_2(x)$, which is associated with the open set $U_2=(0,\\infty)$, expressed in terms of the function $f$.", "solution": "We start from the given smooth function $f:\\mathbb{R}\\to\\mathbb{R}$ defined by\n$$\nf(x)=\\begin{cases}\n\\exp(-1/x)  \\text{if } x > 0,\\\\\n0  \\text{if } x \\le 0,\n\\end{cases}\n$$\nand the derived smooth step function\n$$\ng(x)=\\frac{f(x)}{f(x)+f(1-x)}.\n$$\nBy construction, $g$ satisfies $g(x)=0$ for $x\\le 0$, $g(x)=1$ for $x\\ge 1$, and $0g(x)1$ for $x\\in(0,1)$, with $g\\in C^{\\infty}(\\mathbb{R})$.\n\nTo obtain a partition of unity subordinate to $U_{1}=(-\\infty,1)$ and $U_{2}=(0,\\infty)$ whose transition region lies strictly in $(0,1)$, we compress the transition of $g$ to the interval $(1/3,2/3)$ by composing with an affine change of variables. Define\n$$\n\\phi_{2}(x)=g(3x-1),\\qquad \\phi_{1}(x)=1-\\phi_{2}(x)=1-g(3x-1).\n$$\nThen $\\phi_{1},\\phi_{2}\\in C^{\\infty}(\\mathbb{R})$ and satisfy $\\phi_{1}(x)+\\phi_{2}(x)=1$ for all $x\\in\\mathbb{R}$.\n\nWe verify subordination.\n- For $x\\le \\tfrac{1}{3}$, $3x-1\\le 0$, hence $\\phi_{2}(x)=g(3x-1)=0$. For $x\\ge \\tfrac{2}{3}$, $3x-1\\ge 1$, hence $\\phi_{2}(x)=1$. Therefore the set where $\\phi_{2}$ is nonzero is $(\\tfrac{1}{3},\\infty)$, whose closure is $[\\tfrac{1}{3},\\infty)\\subset(0,\\infty)=U_{2}$. Thus $\\text{supp}(\\phi_2)\\subset U_{2}$.\n- For $x\\ge \\tfrac{2}{3}$, $\\phi_{1}(x)=1-g(3x-1)=0$. For $x\\le \\tfrac{1}{3}$, $\\phi_{1}(x)=1$. Hence the set where $\\phi_{1}$ is nonzero is $(-\\infty,\\tfrac{2}{3})$, whose closure is $(-\\infty,\\tfrac{2}{3}]\\subset(-\\infty,1)=U_{1}$. Thus $\\text{supp}(\\phi_1)\\subset U_{1}$.\n\nThe transition region, where neither function equals $0$ or $1$, corresponds to $3x-1\\in(0,1)$, i.e., $x\\in(\\tfrac{1}{3},\\tfrac{2}{3})\\subset(0,1)$, as required.\n\nFinally, expressing $\\phi_{2}$ explicitly in terms of $f$ (using $g(t)=\\frac{f(t)}{f(t)+f(1-t)}$ and $t=3x-1$) gives\n$$\n\\phi_{2}(x)=\\frac{f(3x-1)}{f(3x-1)+f(2-3x)}.\n$$\nThis is a nontrivial $C^{\\infty}$ function supported in $(0,\\infty)$, and together with $\\phi_{1}=1-\\phi_{2}$ it yields the desired partition of unity subordinate to $\\{U_{1},U_{2}\\}$ with transition strictly within $(0,1)$.", "answer": "$$\\boxed{\\frac{f(3x-1)}{f(3x-1)+f(2-3x)}}$$", "id": "1665012"}, {"introduction": "Not all partitions of unity need to be infinitely smooth. In fields like finite element analysis and computer graphics, simpler piecewise linear functions are incredibly powerful for tasks like interpolation and approximation. This exercise introduces you to the \"hat functions,\" a classic example of such a partition, and asks you to perform a calculation that reveals their role as localized averaging tools [@problem_id:1664980].", "problem": "Let $N \\ge 3$ be an integer, and consider the topological space $X = [0, N]$ with its standard subspace topology inherited from $\\mathbb{R}$. Let $\\mathcal{U} = \\{U_i\\}_{i=0}^N$ be an open cover of $X$, where $U_i = (i-1, i+1) \\cap [0, N]$.\n\nConsider a partition of unity $\\{\\phi_i: X \\to [0,1]\\}_{i=0}^N$ subordinate to this cover. This family of functions satisfies the following properties:\n1.  Each function $\\phi_i(x)$ is continuous and piecewise linear.\n2.  For any integer $j$ with $0 \\le j \\le N-1$, and for any $x$ in the closed interval $[j, j+1]$, the sum of the functions is exactly one: $\\sum_{i=0}^N \\phi_i(x) = 1$.\n3.  For any integer $j$ with $0 \\le j \\le N-1$, and for any $x$ in the open interval $(j, j+1)$, only the functions $\\phi_j(x)$ and $\\phi_{j+1}(x)$ are non-zero.\n\nFor an integer $k$ such that $1 \\le k \\le N-1$, calculate the value of the integral $I_k = \\int_0^N x \\phi_k(x) \\, dx$. Express your answer as a simple expression in terms of $k$.", "solution": "Because the cover is $U_{i}=(i-1,i+1)\\cap[0,N]$, the function $\\phi_{k}$ is supported in $[k-1,k+1]$. By property 3, on $(k-1,k)$ only $\\phi_{k-1}$ and $\\phi_{k}$ are nonzero and satisfy $\\phi_{k-1}+\\phi_{k}=1$; similarly on $(k,k+1)$ only $\\phi_{k}$ and $\\phi_{k+1}$ are nonzero and satisfy $\\phi_{k}+\\phi_{k+1}=1$. By subordination and continuity, $\\phi_{k}(k-1)=0$ and $\\phi_{k}(k+1)=0$. Using property 2 at $x=k$ together with the previous identities, we have\n$$\n\\phi_{k-1}(k)+\\phi_{k}(k)+\\phi_{k+1}(k)=1,\\quad \\phi_{k-1}(k)+\\phi_{k}(k)=1,\\quad \\phi_{k}(k)+\\phi_{k+1}(k)=1,\n$$\nwhich forces $\\phi_{k}(k)=1$ and $\\phi_{k-1}(k)=\\phi_{k+1}(k)=0$. By the piecewise linearity on unit subintervals, it follows that\n$$\n\\phi_{k}(x)=\\begin{cases}\nx-(k-1),  x\\in[k-1,k],\\\\\n(k+1)-x,  x\\in[k,k+1],\\\\\n0,  \\text{otherwise}.\n\\end{cases}\n$$\nHence\n$$\nI_{k}=\\int_{0}^{N}x\\,\\phi_{k}(x)\\,dx=\\int_{k-1}^{k}x\\bigl(x-k+1\\bigr)\\,dx+\\int_{k}^{k+1}x\\bigl(k+1-x\\bigr)\\,dx.\n$$\nCompute the first integral:\n$$\n\\int_{k-1}^{k}\\bigl(x^{2}-(k-1)x\\bigr)\\,dx=\\left[\\frac{x^{3}}{3}-\\frac{(k-1)x^{2}}{2}\\right]_{x=k-1}^{x=k}\n=\\frac{k^{3}}{3}-\\frac{(k-1)k^{2}}{2}+\\frac{(k-1)^{3}}{6}.\n$$\nCompute the second integral:\n$$\n\\int_{k}^{k+1}\\bigl((k+1)x-x^{2}\\bigr)\\,dx=\\left[\\frac{(k+1)x^{2}}{2}-\\frac{x^{3}}{3}\\right]_{x=k}^{x=k+1}\n=\\frac{(k+1)^{3}}{6}-\\frac{(k+1)k^{2}}{2}+\\frac{k^{3}}{3}.\n$$\nTherefore\n$$\nI_{k}=\\left(\\frac{k^{3}}{3}-\\frac{(k-1)k^{2}}{2}+\\frac{(k-1)^{3}}{6}\\right)+\\left(\\frac{(k+1)^{3}}{6}-\\frac{(k+1)k^{2}}{2}+\\frac{k^{3}}{3}\\right).\n$$\nCombine terms:\n$$\nI_{k}=\\frac{2k^{3}}{3}-\\frac{[(k-1)+(k+1)]k^{2}}{2}+\\frac{(k-1)^{3}+(k+1)^{3}}{6}\n=\\frac{2k^{3}}{3}-k^{3}+\\frac{2k^{3}+6k}{6}.\n$$\nSince $\\frac{2k^{3}}{3}-k^{3}=-\\frac{k^{3}}{3}$ and $\\frac{2k^{3}+6k}{6}=\\frac{k^{3}}{3}+k$, we obtain\n$$\nI_{k}=-\\frac{k^{3}}{3}+\\frac{k^{3}}{3}+k=k.\n$$\nThus $I_{k}=k$.", "answer": "$$\\boxed{k}$$", "id": "1664980"}, {"introduction": "Partitions of unity possess elegant properties that greatly simplify complex calculations. This practice reveals a crucial insight: a simple rule governs the derivative of functions that are \"blended\" together using a partition of unity as weights. Working through this problem will show you why the sum of the derivatives of the partition functions must be zero, a fact that is essential for defining derivatives and other analytic structures on curved spaces like manifolds [@problem_id:1657713].", "problem": "In fields like computer graphics and numerical analysis, partitions of unity provide a powerful tool for smoothly blending local data into a global function. Consider a finite set of smooth, non-negative functions $\\{\\rho_i(x)\\}_{i=1}^N$ defined on the real line $\\mathbb{R}$. This set forms a *partition of unity* if, for every $x \\in \\mathbb{R}$, the sum of the functions' values is exactly one: $\\sum_{i=1}^N \\rho_i(x) = 1$.\n\nLet $g(x)$ be a smooth function on $\\mathbb{R}$, and let $\\{c_i\\}_{i=1}^N$ be a set of real constants. A new set of functions $\\{f_i(x)\\}_{i=1}^N$ is constructed such that $f_i(x) = g(x) + c_i$.\n\nA global function $F(x)$ is then defined by blending the functions $f_i(x)$ using the partition of unity as weights:\n$$F(x) = \\sum_{i=1}^N \\rho_i(x) f_i(x)$$\nFind a simplified expression for the derivative of $F(x)$, which we denote as $F'(x)$. Your final expression should be in terms of $g'(x)$, the constants $c_i$, and the derivatives $\\rho_i'(x)$.", "solution": "We start from the definition of the global function blended by the partition of unity:\n$$\nF(x) = \\sum_{i=1}^{N} \\rho_{i}(x) f_{i}(x),\n$$\nwith $f_{i}(x) = g(x) + c_{i}$ for each $i$, and the partition of unity property\n$$\n\\sum_{i=1}^{N} \\rho_{i}(x) = 1 \\quad \\text{for all } x \\in \\mathbb{R}.\n$$\nSubstituting $f_{i}(x)$ into $F(x)$ gives\n$$\nF(x) = \\sum_{i=1}^{N} \\rho_{i}(x)\\big(g(x) + c_{i}\\big) = g(x)\\sum_{i=1}^{N}\\rho_{i}(x) + \\sum_{i=1}^{N} c_{i}\\rho_{i}(x).\n$$\nUsing $\\sum_{i=1}^{N}\\rho_{i}(x) = 1$, we simplify\n$$\nF(x) = g(x) + \\sum_{i=1}^{N} c_{i}\\rho_{i}(x).\n$$\nDifferentiating both sides with respect to $x$ and applying linearity of differentiation yields\n$$\nF'(x) = g'(x) + \\sum_{i=1}^{N} c_{i}\\rho_{i}'(x).\n$$\nAlternatively, differentiating the original sum using the product rule,\n$$\nF'(x) = \\sum_{i=1}^{N} \\big(\\rho_{i}'(x) f_{i}(x) + \\rho_{i}(x) f_{i}'(x)\\big)\n= \\sum_{i=1}^{N} \\rho_{i}'(x)\\big(g(x) + c_{i}\\big) + \\sum_{i=1}^{N} \\rho_{i}(x) g'(x),\n$$\nwhich rearranges to\n$$\nF'(x) = g'(x)\\sum_{i=1}^{N}\\rho_{i}(x) + g(x)\\sum_{i=1}^{N}\\rho_{i}'(x) + \\sum_{i=1}^{N} c_{i}\\rho_{i}'(x).\n$$\nUsing $\\sum_{i=1}^{N}\\rho_{i}(x) = 1$ and differentiating it to obtain $\\sum_{i=1}^{N}\\rho_{i}'(x) = 0$, we again obtain\n$$\nF'(x) = g'(x) + \\sum_{i=1}^{N} c_{i}\\rho_{i}'(x).\n$$\nThis expresses the derivative in terms of $g'(x)$, the constants $c_{i}$, and the derivatives $\\rho_{i}'(x)$ as required.", "answer": "$$\\boxed{g'(x) + \\sum_{i=1}^{N} c_{i}\\rho_{i}'(x)}$$", "id": "1657713"}]}