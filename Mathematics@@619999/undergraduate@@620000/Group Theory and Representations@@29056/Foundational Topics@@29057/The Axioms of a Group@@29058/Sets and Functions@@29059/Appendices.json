{"hands_on_practices": [{"introduction": "A core skill in mathematics is understanding how functions interact with fundamental set operations like union and intersection. This practice explores the relationship between the image of an intersection, $f(A \\cap B)$, and the intersection of the images, $f(A) \\cap f(B)$. You will discover that while one inclusion holds universally, establishing equality requires the function to have a special property, providing a deep insight into the nature of injectivity [@problem_id:1673293].", "problem": "Let $f: X \\to Y$ be a function from a set $X$ (the domain) to a set $Y$ (the codomain). For any subset $S \\subseteq X$, the image of $S$ under $f$, denoted $f(S)$, is the set of all values in $Y$ that $f$ maps elements of $S$ to, i.e., $f(S) = \\{f(x) \\in Y \\mid x \\in S\\}$. Let $A$ and $B$ be arbitrary subsets of the domain $X$.\n\nWe can form two related sets:\n1.  The image of the intersection of $A$ and $B$, which is the set $f(A \\cap B)$.\n2.  The intersection of the images of $A$ and $B$, which is the set $f(A) \\cap f(B)$.\n\nA function $f$ is called injective (or one-to-one) if for any two distinct elements $x_1, x_2$ in its domain, their images are also distinct. Equivalently, if $f(x_1) = f(x_2)$, then it must be that $x_1 = x_2$.\nA function $f$ is called surjective (or onto) if its image equals its codomain, meaning for every element $y \\in Y$, there exists at least one element $x \\in X$ such that $f(x) = y$.\n\nWhich of the following statements accurately describes the condition under which the equality $f(A \\cap B) = f(A) \\cap f(B)$ is guaranteed to hold for **any** choice of subsets $A, B \\subseteq X$?\n\nA. The equality holds for all subsets $A$ and $B$ if and only if $f$ is surjective.\n\nB. The equality holds for all subsets $A$ and $B$ if and only if $f$ is injective.\n\nC. The equality holds for all subsets $A$ and $B$ if and only if $f$ is the identity function (i.e., $X=Y$ and $f(x)=x$ for all $x$).\n\nD. The equality holds for any function $f$ regardless of its properties.\n\nE. The equality is never guaranteed to hold for all subsets $A$ and $B$, as it always depends on the specific choice of $A$ and $B$.", "solution": "We first establish the general inclusion. For any function $f: X \\to Y$ and any subsets $A,B \\subseteq X$, we have\n$$\nf(A \\cap B) \\subseteq f(A) \\cap f(B).\n$$\nIndeed, let $y \\in f(A \\cap B)$. Then there exists $x \\in A \\cap B$ with $f(x) = y$. Since $x \\in A$ and $x \\in B$, it follows that $y \\in f(A)$ and $y \\in f(B)$, hence $y \\in f(A) \\cap f(B)$.\n\nWe now characterize when equality holds for all $A,B \\subseteq X$.\n\nSufficiency (injective implies equality): Suppose $f$ is injective. Let $y \\in f(A) \\cap f(B)$. Then there exist $a \\in A$ and $b \\in B$ such that $f(a) = y = f(b)$. By injectivity, $a = b$, so $a \\in A \\cap B$, and hence $y = f(a) \\in f(A \\cap B)$. Therefore $f(A) \\cap f(B) \\subseteq f(A \\cap B)$. Together with the general inclusion, we get $f(A \\cap B) = f(A) \\cap f(B)$ for all $A,B \\subseteq X$.\n\nNecessity (equality for all subsets implies injective): Suppose that for all $A,B \\subseteq X$, we have $f(A \\cap B) = f(A) \\cap f(B)$. Assume for contradiction that $f$ is not injective. Then there exist $x_{1}, x_{2} \\in X$ with $x_{1} \\neq x_{2}$ and $f(x_{1}) = f(x_{2})$. Let $A = \\{x_{1}\\}$ and $B = \\{x_{2}\\}$. Then $A \\cap B = \\emptyset$, so $f(A \\cap B) = f(\\emptyset) = \\emptyset$. However, $f(A) = \\{f(x_{1})\\}$ and $f(B) = \\{f(x_{2})\\}$, so\n$$\nf(A) \\cap f(B) = \\{f(x_{1})\\} \\cap \\{f(x_{2})\\} = \\{f(x_{1})\\} \\neq \\emptyset,\n$$\na contradiction. Hence $f$ must be injective.\n\nTherefore, the equality $f(A \\cap B) = f(A) \\cap f(B)$ holds for all subsets $A,B \\subseteq X$ if and only if $f$ is injective. Among the given options, this is exactly statement B.", "answer": "$$\\boxed{B}$$", "id": "1673293"}, {"introduction": "Expanding on the properties of functions, we can gain significant insight by examining the structure of their pre-images, often called fibers. The nature of a function—whether it is injective, surjective, or bijective—is intimately tied to the characteristics of these fibers. This exercise challenges you to formalize this connection and identify how the collection of fibers, $\\{f^{-1}(y) \\mid y \\in Y\\}$, can form a partition of the domain, a concept central to equivalence relations and quotient structures [@problem_id:1673257].", "problem": "Let $f: X \\to Y$ be a function between two non-empty sets, $X$ and $Y$. For any element $y$ in the codomain $Y$, we define the fiber of $y$ under $f$ as the set of its preimages, denoted by $f^{-1}(y) = \\{x \\in X \\mid f(x) = y\\}$. The cardinality of a finite set $S$ is denoted by $|S|$. A collection of non-empty subsets of $X$ is said to form a partition of $X$ if the subsets are pairwise disjoint and their union is equal to $X$.\n\nConsider the following five statements about the function $f$. Four of these statements are always true, and one is not necessarily true. Identify the statement that is NOT always true.\n\nA. The function $f$ is injective (one-to-one) if and only if for every $y \\in Y$, the cardinality of its fiber satisfies $|f^{-1}(y)| \\le 1$.\n\nB. The function $f$ is surjective (onto) if and only if for every $y \\in Y$, its fiber $f^{-1}(y)$ is a non-empty set.\n\nC. If the function $f$ is surjective, then the collection of all its fibers, $\\{f^{-1}(y) \\mid y \\in Y\\}$, forms a partition of the domain $X$.\n\nD. If the function $f$ is injective, then the collection of all its fibers, $\\{f^{-1}(y) \\mid y \\in Y\\}$, forms a partition of the domain $X$.\n\nE. The function $f$ is bijective (a one-to-one correspondence) if and only if for every $y \\in Y$, its fiber $f^{-1}(y)$ is a singleton set (a set with exactly one element).", "solution": "We analyze each statement, using the definition of fiber $f^{-1}(y)=\\{x\\in X\\mid f(x)=y\\}$ and the definition that a partition is a collection of non-empty, pairwise disjoint subsets whose union is $X$.\n\nA. Injectivity is equivalent to the condition that distinct elements of $X$ never map to the same $y\\in Y$. This is equivalent to requiring that for every $y\\in Y$, the fiber $f^{-1}(y)$ has at most one element. Formally, if $f$ is injective and $y\\in Y$, then either $y$ is not in the image and $|f^{-1}(y)|=0$, or there exists a unique $x$ with $f(x)=y$ and then $|f^{-1}(y)|=1$, so $|f^{-1}(y)|\\le 1$. Conversely, if for every $y\\in Y$ we have $|f^{-1}(y)|\\le 1$, and if $f(x_{1})=f(x_{2})=y$, then both $x_{1}$ and $x_{2}$ lie in $f^{-1}(y)$, forcing $x_{1}=x_{2}$. Hence $f$ is injective. Thus A is always true.\n\nB. Surjectivity means that for every $y\\in Y$ there exists $x\\in X$ with $f(x)=y$, which is exactly the condition that $f^{-1}(y)\\neq\\varnothing$ for all $y\\in Y$. Conversely, if $f^{-1}(y)\\neq\\varnothing$ for all $y\\in Y$, then for each $y$ there exists $x$ with $f(x)=y$, so $f$ is surjective. Thus B is always true.\n\nC. For any function (no hypothesis needed), fibers corresponding to distinct $y$ are pairwise disjoint: if $x\\in f^{-1}(y_{1})\\cap f^{-1}(y_{2})$, then $f(x)=y_{1}$ and $f(x)=y_{2}$, hence $y_{1}=y_{2}$. Moreover, $\\bigcup_{y\\in Y}f^{-1}(y)=X$ because for each $x\\in X$, $x\\in f^{-1}(f(x))$. The only possible violation of being a partition is having empty sets among the fibers. If $f$ is surjective, then for every $y\\in Y$ there exists $x$ with $f(x)=y$, so each $f^{-1}(y)$ is non-empty. Therefore, under surjectivity, the collection $\\{f^{-1}(y)\\mid y\\in Y\\}$ consists of non-empty, pairwise disjoint sets whose union is $X$, i.e., it forms a partition. Thus C is always true.\n\nD. If $f$ is injective, then as observed, fibers are pairwise disjoint and their union over all $y\\in Y$ is $X$. However, injectivity does not imply surjectivity. If $f$ is not surjective, then there exists $y_{0}\\in Y$ with $f^{-1}(y_{0})=\\varnothing$. Since a partition must be a collection of non-empty subsets, the collection $\\{f^{-1}(y)\\mid y\\in Y\\}$ fails to be a partition in this case. Hence the statement “If $f$ is injective, then the collection of all its fibers forms a partition of $X$” is not always true. It holds only if $f$ is also surjective. Thus D is not necessarily true.\n\nE. If $f$ is bijective, then it is injective and surjective, so for each $y\\in Y$ the fiber is non-empty (surjectivity) and has at most one element (injectivity), hence exactly one element, i.e., a singleton. Conversely, if every fiber $f^{-1}(y)$ is a singleton, then each is non-empty (so $f$ is surjective) and has size at most one (so $f$ is injective). Therefore $f$ is bijective. Thus E is always true.\n\nTherefore, the unique statement that is not always true is D.", "answer": "$$\\boxed{D}$$", "id": "1673257"}, {"introduction": "Now we apply our understanding to a special and powerful class of functions: permutations, which are bijections on finite sets and are foundational to cryptography and group theory. A crucial feature of any permutation is its *order*, the number of repeated applications required to return to the initial state. This problem moves from abstract definitions to a concrete computational task, asking you to determine the order of a permutation defined by a modular arithmetic rule, showcasing a powerful technique that connects function theory with number theory [@problem_id:1673299].", "problem": "In a simplified model of a data scrambling algorithm, a permutation $f$ is applied to a set of data blocks, labeled $S = \\{0, 1, 2, \\dots, 14\\}$. The permutation is defined by the function $f: S \\to S$ where for any $x$ in $S$, its image is given by the rule $f(x) = (4x + 7) \\pmod{15}$.\n\nThe *order* of a permutation is defined as the smallest positive integer $k$ such that applying the permutation $k$ times results in the identity permutation (i.e., $f^k(x) = x$ for all $x$ in $S$).\n\nDetermine the order of the permutation $f$.", "solution": "We view $S$ as the ring $\\mathbb{Z}_{15}$ and write $f(x)=ax+b$ with $a\\equiv 4 \\pmod{15}$ and $b\\equiv 7 \\pmod{15}$. Since $\\gcd(4,15)=1$, $a$ is invertible modulo $15$, so $f$ is a permutation of $S$.\n\nThe $k$-th iterate of an affine map satisfies, by induction on $k$,\n$$\nf^{k}(x)\\equiv a^{k}x+b\\sum_{i=0}^{k-1}a^{i}\\pmod{15}.\n$$\nIndeed, for $k=1$ the formula is $f(x)=ax+b$. If it holds for $k$, then\n$$\nf^{k+1}(x)=f\\big(f^{k}(x)\\big)\\equiv a\\big(a^{k}x+b\\sum_{i=0}^{k-1}a^{i}\\big)+b\n\\equiv a^{k+1}x+b\\sum_{i=0}^{k-1}a^{i+1}+b\n\\equiv a^{k+1}x+b\\sum_{i=0}^{k}a^{i}\\pmod{15}.\n$$\n\nFor $f^{k}$ to be the identity permutation, we require for all $x$ that\n$$\na^{k}\\equiv 1 \\pmod{15}\n\\quad\\text{and}\\quad\nb\\sum_{i=0}^{k-1}a^{i}\\equiv 0 \\pmod{15}.\n$$\nSince $\\gcd(b,15)=\\gcd(7,15)=1$, $b$ is invertible modulo $15$, so this is equivalent to\n$$\na^{k}\\equiv 1 \\pmod{15}\n\\quad\\text{and}\\quad\n\\sum_{i=0}^{k-1}a^{i}\\equiv 0 \\pmod{15}.\n$$\n\nUse the Chinese Remainder Theorem by reducing modulo $3$ and modulo $5$.\n\nModulo $3$: $a\\equiv 4\\equiv 1 \\pmod{3}$ and $b\\equiv 7\\equiv 1 \\pmod{3}$, hence $f(x)\\equiv x+1 \\pmod{3}$. Then\n$$\nf^{k}(x)\\equiv x+k \\pmod{3},\n$$\nso $f^{k}$ is the identity modulo $3$ if and only if $k\\equiv 0 \\pmod{3}$. Thus the order modulo $3$ is $3$.\n\nModulo $5$: $a\\equiv 4 \\pmod{5}$ and $b\\equiv 7\\equiv 2 \\pmod{5}$. Over the field $\\mathbb{Z}_{5}$,\n$$\nf^{k}(x)\\equiv 4^{k}x+2\\sum_{i=0}^{k-1}4^{i}\\pmod{5}.\n$$\nWe require $4^{k}\\equiv 1 \\pmod{5}$ and $\\sum_{i=0}^{k-1}4^{i}\\equiv 0 \\pmod{5}$. Since $4\\not\\equiv 1 \\pmod{5}$ and $4-1\\equiv 3$ is invertible modulo $5$, we have\n$$\n\\sum_{i=0}^{k-1}4^{i}\\equiv \\frac{4^{k}-1}{4-1}\\equiv 0 \\pmod{5}\\quad\\Longleftrightarrow\\quad 4^{k}\\equiv 1 \\pmod{5}.\n$$\nBecause $4\\equiv -1 \\pmod{5}$, the multiplicative order of $4$ modulo $5$ is $2$. Hence the order modulo $5$ is $2$.\n\nBy the Chinese Remainder Theorem, $f^{k}$ is the identity modulo $15$ if and only if it is the identity modulo $3$ and modulo $5$ simultaneously. Therefore the order of $f$ is the least positive integer $k$ such that $k\\equiv 0 \\pmod{3}$ and $k\\equiv 0 \\pmod{2}$, namely\n$$\n\\operatorname{lcm}(3,2)=6.\n$$\nThus the order of the permutation $f$ is $6$.", "answer": "$$\\boxed{6}$$", "id": "1673299"}]}