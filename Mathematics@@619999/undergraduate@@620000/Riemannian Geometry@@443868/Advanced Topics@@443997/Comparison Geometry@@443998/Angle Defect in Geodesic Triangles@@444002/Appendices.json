{"hands_on_practices": [{"introduction": "This first exercise demonstrates the deep, local connection between the manifold's metric structure and the angle defect. By starting with the Taylor expansion of the metric in normal coordinates, you will derive how Gaussian curvature $K$ naturally arises as the term governing the angle sum of a small geodesic triangle. This practice provides a first-principles justification for the Gauss-Bonnet theorem at an infinitesimal scale [@problem_id:3038090].", "problem": "Let $\\left(M,g\\right)$ be a $2$-dimensional Riemannian manifold and let $p \\in M$. Choose normal coordinates $\\left(x^{1},x^{2}\\right)$ centered at $p$ so that $g_{ij}(p)=\\delta_{ij}$ and the Christoffel symbols vanish at $p$. In these coordinates, the metric admits the Taylor expansion\n$$\ng_{ij}(x)=\\delta_{ij}-\\frac{1}{3}R_{ikjl}(p)\\,x^{k}x^{l}+O\\!\\left(|x|^{3}\\right),\n$$\nwhere $R_{ikjl}$ is the Riemann curvature tensor and $|x|^{2}=(x^{1})^{2}+(x^{2})^{2}$. Consider the small geodesic triangle $T$ with vertices at the points $p$, $q$ and $r$, where $q$ and $r$ lie on the coordinate axes: $q$ has coordinates $(a,0)$ and $r$ has coordinates $(0,b)$ for small positive parameters $a$ and $b$. Each edge of $T$ is the geodesic segment joining the corresponding pair of vertices. Define the angle defect of $T$ to be $\\Delta(T)=\\alpha+\\beta+\\gamma-\\pi$, where $\\alpha,\\beta,\\gamma$ are the interior angles of $T$ at $p,q,r$, respectively.\n\nStarting from the expansion of $g_{ij}$ in normal coordinates and fundamental definitions of angles and area on Riemannian manifolds, derive the first nontrivial contribution to $\\Delta(T)$ that arises from curvature, to leading order in $a$ and $b$. Express your final answer in radians as a closed-form analytic expression in terms of the Gaussian curvature $K(p)$ at $p$ and the parameters $a$ and $b$. No numerical approximation is required.", "solution": "The problem asks for the leading-order term in the angle defect $\\Delta(T)$ of a small geodesic triangle $T$, based on the Taylor expansion of the metric tensor in normal coordinates. The angle defect is defined as $\\Delta(T) = \\alpha+\\beta+\\gamma-\\pi$, where $\\alpha$, $\\beta$, and $\\gamma$ are the interior angles of the triangle.\n\nA fundamental result in Riemannian geometry, the Gauss-Bonnet theorem, directly relates the angle defect of a geodesic triangle to the integral of the Gaussian curvature $K$ over the area of the triangle. For a geodesic triangle $T$ on a $2$-dimensional manifold, the theorem states:\n$$ \\alpha + \\beta + \\gamma - \\pi = \\iint_T K \\, dA $$\nwhere $dA$ is the area element on the manifold. Our task is thus to evaluate the integral on the right-hand side to leading order in the small parameters $a$ and $b$.\n\nThe evaluation proceeds in several steps:\n1.  Relate the Gaussian curvature $K$ and the area element $dA$ to the metric tensor $g_{ij}$.\n2.  Use the given Taylor expansion of $g_{ij}$ in normal coordinates to find expressions for $K$ and $dA$ near the point $p$.\n3.  Approximate the integral over the small geodesic triangle $T$.\n\nLet $(x^1, x^2)$ be the normal coordinates centered at $p$. The vertices of the triangle are $p$ at $(0,0)$, $q$ at $(a,0)$, and $r$ at $(0,b)$.\n\nFirst, we determine the Gaussian curvature $K(p)$ in terms of the Riemann tensor components at $p$. The general formula for the Riemann tensor in $2$ dimensions is $R_{ikjl} = K(g_{il}g_{kj} - g_{ij}g_{kl})$. In the normal coordinates at $p$, we have $g_{ij}(p) = \\delta_{ij}$. Evaluating the component $R_{1212}$ at $p$ gives:\n$$ R_{1212}(p) = K(p) \\left( g_{11}(p)g_{22}(p) - g_{12}(p)g_{21}(p) \\right) = K(p) \\left( \\delta_{11}\\delta_{22} - \\delta_{12}\\delta_{21} \\right) = K(p)(1 \\cdot 1 - 0 \\cdot 0) = K(p) $$\n\nNext, we find the area element $dA$. In local coordinates, $dA = \\sqrt{\\det(g_{ij})} \\, dx^1 dx^2$. We need to compute $\\det(g_{ij})$ using the provided Taylor expansion:\n$$ g_{ij}(x) = \\delta_{ij} - \\frac{1}{3}R_{ikjl}(p) x^k x^l + O(|x|^3) $$\nThe components of the metric tensor are:\n$g_{11}(x) = 1 - \\frac{1}{3}R_{1k1l}(p)x^k x^l + \\dots = 1 - \\frac{1}{3}R_{1212}(p)(x^2)^2 + \\dots = 1 - \\frac{1}{3}K(p)(x^2)^2 + O(|x|^3)$.\n$g_{22}(x) = 1 - \\frac{1}{3}R_{2k2l}(p)x^k x^l + \\dots = 1 - \\frac{1}{3}R_{2121}(p)(x^1)^2 + \\dots = 1 - \\frac{1}{3}K(p)(x^1)^2 + O(|x|^3)$.\n$g_{12}(x) = -\\frac{1}{3}R_{1k2l}(p)x^k x^l + \\dots = -\\frac{1}{3}(R_{1121}(x^1)^2 + (R_{1122}+R_{1221})x^1x^2 + R_{1222}(x^2)^2) + \\dots$.\nUsing Riemann tensor symmetries, $R_{1121}=0$, $R_{1222}=0$, and $R_{1122} + R_{1221} = -R_{1212} + R_{1212} = 0$. Thus, $g_{12}(x) = O(|x|^3)$.\n\nThe determinant of the metric is:\n$$ \\det(g(x)) = g_{11}(x)g_{22}(x) - (g_{12}(x))^2 $$\n$$ \\det(g(x)) = \\left(1 - \\frac{1}{3}K(p)(x^2)^2\\right)\\left(1 - \\frac{1}{3}K(p)(x^1)^2\\right) + O(|x|^4) $$\n$$ \\det(g(x)) = 1 - \\frac{1}{3}K(p)\\left((x^1)^2 + (x^2)^2\\right) + O(|x|^4) $$\nThe square root is found using the Taylor expansion $\\sqrt{1+u} \\approx 1 + u/2$:\n$$ \\sqrt{\\det(g(x))} = 1 - \\frac{1}{6}K(p)\\left((x^1)^2 + (x^2)^2\\right) + O(|x|^4) $$\n\nNow we can write the integral for the angle defect:\n$$ \\Delta(T) = \\iint_T K(x) \\sqrt{\\det(g(x))} \\, dx^1 dx^2 $$\nThe integration is over the region $T$ bounded by the geodesics connecting $p,q,r$. Since $a$ and $b$ are small, the triangle is small and located near $p$. We can make the following approximations for the leading-order calculation:\n1.  The curvature $K(x)$ can be approximated by its value at $p$, i.e., $K(x) \\approx K(p)$. The correction is of order $|x|$, which, when integrated, will lead to higher-order terms in $a$ and $b$.\n2.  The area element factor $\\sqrt{\\det(g(x))}$ can be approximated by $1$. The correction is of order $|x|^2$, which also leads to higher-order terms in the final result.\n3.  The domain of integration, which is the geodesic triangle $T$, can be approximated by the Euclidean triangle $T_E$ in the coordinate plane with vertices $(0,0)$, $(a,0)$, and $(0,b)$. This is because in normal coordinates the geodesics through the origin $p$ are the coordinate axes, so two sides of $T$ are straight line segments. The third side, the geodesic from $q$ to $r$, deviates from a straight line by an amount that is of higher order in $a$ and $b$, and the resulting correction to the area of integration is also of higher order.\n\nCombining these approximations, we evaluate the integral to leading order:\n$$ \\Delta(T) \\approx \\iint_{T_E} K(p) \\cdot 1 \\, dx^1 dx^2 = K(p) \\iint_{T_E} dx^1 dx^2 $$\nThe integral $\\iint_{T_E} dx^1 dx^2$ is simply the area of the Euclidean triangle $T_E$. This area is given by:\n$$ \\text{Area}(T_E) = \\frac{1}{2} \\times \\text{base} \\times \\text{height} = \\frac{1}{2}ab $$\nTherefore, the first nontrivial contribution to the angle defect, to leading order in $a$ and $b$, is:\n$$ \\Delta(T) \\approx K(p) \\left(\\frac{1}{2}ab\\right) $$\nThe order of this term is $O(ab)$. Any corrections, whether from the Taylor expansions of the integrand ($K(x)\\sqrt{\\det g}$) or from the deformation of the integration domain, would involve higher powers of the small parameters $a$ and $b$ (e.g., $O(a^3b)$, $O(ab^3)$) and are therefore negligible for the leading-order result.\nThe final expression is the local version of the Gauss-Bonnet theorem, often known as the Bertrand-Diguet-Puiseux theorem.", "answer": "$$\\boxed{\\frac{1}{2}K(p)ab}$$", "id": "3038090"}, {"introduction": "We now move from purely geodesic boundaries to explore the effect of a curved edge. This problem challenges you to apply the generalized Gauss-Bonnet theorem to a triangle in the flat Euclidean plane where one side is a circular arc, a curve with non-zero geodesic curvature. This concrete calculation illuminates the meaning of the geodesic curvature term $k_g$ and how it corrects the angle sum formula when the boundary deviates from being a geodesic [@problem_id:3038120].", "problem": "Consider the Euclidean plane $\\mathbb{R}^2$ with its standard Riemannian metric (flat). Let $C$ be the circle of radius $r0$ centered at the origin. Fix an angle $\\Phi$ with $0\\Phi\\pi$, and let $p$ and $q$ be the points on $C$ with polar angles $0$ and $\\Phi$, respectively. Define a curvilinear triangle $\\Delta$ whose boundary consists of three pieces: the straight geodesic segment from the origin to $p$, the straight geodesic segment from the origin to $q$, and the counterclockwise circular arc of $C$ from $p$ to $q$. The circular side has constant geodesic curvature $k_g$, and its arc length is $L$.\n\nUsing the Gaussâ€“Bonnet theorem (without writing down any of its formulas in the problem statement), determine the sum of the interior angles of $\\Delta$ in terms of $k_g$ and $L$. Express your final answer in radians and give it as an exact analytic expression (no numerical approximation).", "solution": "The problem statement is evaluated and found to be valid. It is self-contained, scientifically grounded in Riemannian geometry, and well-posed. We may therefore proceed with a solution.\n\nThe problem requires the determination of the sum of the interior angles of a specific curvilinear triangle $\\Delta$ in the Euclidean plane $\\mathbb{R}^2$ by using the Gauss-Bonnet theorem. Let $S$ be the sum of the interior angles of the triangle $\\Delta$.\n\nThe Gauss-Bonnet theorem for a compact $2$-dimensional Riemannian manifold with boundary, or a compact region $R$ of such a manifold, relates the geometry of the region to its topology. The theorem is given by the formula:\n$$ \\int_{R} K \\, dA + \\int_{\\partial R} k_g \\, ds + \\sum_{i} \\alpha_i = 2\\pi \\chi(R) $$\nwhere:\n- $R$ is the compact region, in this case, our curvilinear triangle $\\Delta$.\n- $K$ is the Gaussian curvature of the manifold within the region $R$.\n- $dA$ is the area element on the manifold.\n- $\\partial R$ is the boundary of the region $R$, which is piecewise smooth.\n- $k_g$ is the geodesic curvature of the boundary $\\partial R$.\n- $ds$ is the arc length element along the boundary.\n- $\\sum_i \\alpha_i$ is the sum of the exterior angles at the vertices (corners) of the boundary.\n- $\\chi(R)$ is the Euler characteristic of the region $R$.\n\nWe will evaluate each term in the Gauss-Bonnet theorem for the given triangle $\\Delta$.\n\n1.  **Gaussian Curvature Integral**: The region $\\Delta$ is situated in the Euclidean plane $\\mathbb{R}^2$ equipped with its standard flat metric. For a flat manifold, the Gaussian curvature $K$ is identically zero everywhere. Therefore, the first term is:\n    $$ \\int_{\\Delta} K \\, dA = \\int_{\\Delta} 0 \\, dA = 0 $$\n\n2.  **Euler Characteristic**: The region $\\Delta$ is a simple closed region in the plane, topologically equivalent to a disk. For any region homeomorphic to a disk, the Euler characteristic $\\chi(\\Delta)$ is $1$. Thus, the right-hand side of the theorem is $2\\pi \\chi(\\Delta) = 2\\pi(1) = 2\\pi$.\n\n3.  **Boundary Integral of Geodesic Curvature**: The boundary $\\partial\\Delta$ consists of three segments:\n    - The straight line segment from the origin $O$ to point $p$.\n    - The straight line segment from the origin $O$ to point $q$.\n    - The circular arc from $p$ to $q$.\n\n    In the Euclidean plane, straight lines are geodesics. By definition, geodesics have zero geodesic curvature. Therefore, the geodesic curvature is $0$ along the two straight segments of the boundary. The integral of $k_g$ over these two segments is zero.\n\n    The third segment is a circular arc of constant geodesic curvature $k_g$ and total arc length $L$, as given in the problem statement. The integral of the geodesic curvature over this arc is:\n    $$ \\int_{\\text{arc}} k_g \\, ds = k_g \\int_{\\text{arc}} ds = k_g L $$\n    The total boundary integral is the sum of the integrals over the three segments:\n    $$ \\int_{\\partial\\Delta} k_g \\, ds = 0 + 0 + k_g L = k_g L $$\n\n4.  **Sum of Exterior Angles**: Let the interior angles at the three vertices (origin $O$, point $p$, and point $q$) be $\\theta_O$, $\\theta_p$, and $\\theta_q$, respectively. The sum of these interior angles is the quantity we seek: $S = \\theta_O + \\theta_p + \\theta_q$.\n\n    An exterior angle $\\alpha_i$ at a vertex is defined as the angle of turning, which is $\\pi$ minus the corresponding interior angle $\\theta_i$. So, $\\alpha_i = \\pi - \\theta_i$. The sum of the exterior angles is:\n    $$ \\sum_i \\alpha_i = (\\pi - \\theta_O) + (\\pi - \\theta_p) + (\\pi - \\theta_q) = 3\\pi - (\\theta_O + \\theta_p + \\theta_q) = 3\\pi - S $$\n\nNow, we substitute these components back into the Gauss-Bonnet formula:\n$$ 0 + k_g L + (3\\pi - S) = 2\\pi $$\nOur goal is to solve for $S$, the sum of the interior angles. Rearranging the equation:\n$$ k_g L + 3\\pi - 2\\pi = S $$\n$$ S = \\pi + k_g L $$\nThis expression gives the sum of the interior angles of the curvilinear triangle $\\Delta$ in terms of the specified quantities $k_g$ and $L$. The result is in radians as required.\n\nIt is worth noting for verification, though not required for the solution, that in the Euclidean plane, the geodesic curvature $k_g$ of a circle of radius $r$ is $k_g = 1/r$. The arc length $L$ of a sector with angle $\\Phi$ is $L=r\\Phi$. Thus, the product $k_g L = (1/r)(r\\Phi) = \\Phi$. The interior angle at the origin is $\\theta_O = \\Phi$. The other two interior angles, where the radial lines meet the circular arc, are both $\\pi/2$ because a radius is perpendicular to the tangent of a circle at the point of intersection. Therefore, the sum of interior angles is $S = \\Phi + \\pi/2 + \\pi/2 = \\Phi + \\pi$. This matches our derived result $S = k_g L + \\pi$, confirming its correctness.", "answer": "$$\\boxed{\\pi + k_g L}$$", "id": "3038120"}, {"introduction": "Our final practice bridges the gap between abstract theory and practical computation. You will implement a numerical estimator based on the Gauss-Bonnet theorem, $\\delta = \\int_{\\Delta} K dA$, to calculate the angle defect for triangles in different spaces with constant curvature. By applying your algorithm to flat, spherical, and hyperbolic geometries, you will gain hands-on experience verifying this fundamental theorem and appreciate its universal power in linking local curvature to global properties [@problem_id:3038073].", "problem": "You are given the task of implementing a numerical estimator for the angle defect $\\delta$ of a geodesic triangle on a two-dimensional Riemannian manifold by integrating the Gaussian curvature $K$ over the region of the triangle. The design must follow from fundamental principles: use the Gaussâ€“Bonnet theorem for geodesic triangles and local area elements derived from the metric. Avoid shortcuts; carefully construct the estimator by meshing the triangle and summing cell contributions.\n\nFundamental base and core definitions:\n- Let $(M,g)$ be a two-dimensional Riemannian manifold with metric tensor $g$. The Gaussian curvature $K$ is the intrinsic curvature determined by $g$. The surface area element $dA$ is determined by $g$.\n- For a geodesic triangle $\\Delta$ in $(M,g)$ with geodesic edges, the Gaussâ€“Bonnet theorem implies that its angle defect $\\delta$ equals the area integral of $K$ over $\\Delta$, i.e., $\\delta$ equals $\\int_{\\Delta} K\\,dA$ because the geodesic curvature of each edge is zero and only the corner angles contribute to $\\delta$. This relation is the foundational principle under which to design the numerical estimator.\n- The numerical estimator must approximate $\\delta$ by covering the triangle with a mesh of small cells, approximating $K$ and $dA$ on each cell, and summing the contributions.\n\nAlgorithmic requirement:\n- Approximate $\\delta \\approx \\sum_{i} K(p_{i})\\,\\Delta A_{i}$, where $p_{i}$ is a representative point in cell $i$ (e.g., the cell midpoint) and $\\Delta A_{i}$ is the area of that cell induced by the metric.\n\nYour program must implement this estimator for the following models and geodesic triangle parameter sets. For each case, use the specified metric and area element, and produce the angle defect $\\delta$ in radians. Discretize the region into a uniform mesh and use midpoint sampling per cell.\n\nModels:\n1. Euclidean plane with standard metric $g = dx^{2} + dy^{2}$, where the Gaussian curvature is $K = 0$ and the area element is $dA = dx\\,dy$.\n2. Sphere of radius $R$ with spherical coordinates $(\\theta,\\phi)$ where $\\theta \\in [0,\\pi]$ is the colatitude and $\\phi \\in [0,2\\pi)$ is the longitude. The metric has area element $dA = R^{2}\\sin\\theta\\,d\\theta\\,d\\phi$, and the Gaussian curvature is constant $K = 1/R^{2}$.\n3. Hyperbolic plane in the PoincarÃ© disk model with coordinates $(x,y)$ inside the unit disk $x^{2}+y^{2}  1$ and metric $ds^{2} = \\frac{4(dx^{2}+dy^{2})}{(1 - x^{2} - y^{2})^{2}}$. The area element is $dA = \\frac{4}{(1 - r^{2})^{2}}\\,dx\\,dy$ where $r^{2} = x^{2}+y^{2}$, and the Gaussian curvature is constant $K = -1$.\n\nGeodesic triangles and mesh specifications:\n- Case A (Euclidean plane, happy path): Triangle with vertices $(0,0)$, $(1,0)$, $(0,1)$. This triangle is bounded by straight segments, which are geodesics in the Euclidean plane. Use a uniform rectangular grid over the bounding box $[0,1]\\times[0,1]$, include a cell if its midpoint $(x,y)$ satisfies $x \\ge 0$, $y \\ge 0$, and $x + y \\le 1$. Use $N_{x} = 400$ and $N_{y} = 400$ for the mesh resolution.\n- Case B (Sphere with $R=1$, large right-angled geodesic triangle): Spherical wedge bounded by meridians $\\phi = 0$ and $\\phi = \\pi/2$ and by the equator $\\theta = \\pi/2$. The third vertex is at the north pole $\\theta=0$. All three boundaries are great circles, hence geodesics. Integrate over the rectangle in spherical coordinates $\\theta \\in [0,\\pi/2]$, $\\phi \\in [0,\\pi/2]$. Use $N_{\\theta} = 600$ and $N_{\\phi} = 600$.\n- Case C (Sphere with $R=1$, small right-angled geodesic triangle): Spherical wedge bounded by meridians $\\phi = 0$ and $\\phi = 0.3$, and by the equator $\\theta = \\pi/2$. Integrate over the rectangle $\\theta \\in [0,\\pi/2]$, $\\phi \\in [0,0.3]$. Use $N_{\\theta} = 600$ and $N_{\\phi} = 600$.\n- Case D (Sphere with $R=2$, medium right-angled geodesic triangle): Spherical wedge bounded by meridians $\\phi = 0$ and $\\phi = \\pi/3$, and by the equator $\\theta = \\pi/2$. Integrate over the rectangle $\\theta \\in [0,\\pi/2]$, $\\phi \\in [0,\\pi/3]$. Use $N_{\\theta} = 600$ and $N_{\\phi} = 600$.\n- Case E (Hyperbolic plane in the PoincarÃ© disk, curved-side geodesic triangle): Let two sides be diameters along the coordinate axes $x=0$ and $y=0$; the third side is the circle orthogonal to the unit circle with center $\\mathbf{c} = (1.2,1.2)$ and radius $r_{\\mathrm{circ}}$ determined by orthogonality $r_{\\mathrm{circ}}^{2} = \\|\\mathbf{c}\\|^{2} - 1$. The interior of the triangle is the set of points with $x \\ge 0$, $y \\ge 0$, $(x - c_{x})^{2} + (y - c_{y})^{2} \\le r_{\\mathrm{circ}}^{2}$, and $x^{2} + y^{2}  1$. Integrate over the square $[0,1]\\times[0,1]$ with mesh resolution $N_{x} = 500$, $N_{y} = 500$, but only include cells whose midpoints lie in both the unit disk and the specified geodesic triangle region. Use the PoincarÃ© area element and $K=-1$.\n\nAngle unit:\n- Report all angle defects $\\delta$ in radians.\n\nFinal output format:\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, ordered as $[\\delta_{\\mathrm{A}},\\delta_{\\mathrm{B}},\\delta_{\\mathrm{C}},\\delta_{\\mathrm{D}},\\delta_{\\mathrm{E}}]$, where each entry is a floating-point number. For example, a valid output format is \"[0.0,1.5707963267948966,0.3,1.0471975511965976,-0.4123456789]\".\n\nTest suite coverage notes:\n- Case A validates the zero-curvature flat case.\n- Cases Bâ€“D validate positive constant curvature and scaling with spherical wedges of different angular widths and different radii $R$.\n- Case C serves as a small-area edge case with small angle defect.\n- Case E exercises negative curvature and a nontrivial geodesic boundary (circular arc), checking the estimator in a curved metric where the area element is nonuniform.\n\nYour implementation must be fully self-contained and require no input. Use midpoint sampling within each mesh cell. Ensure scientific realism by using the correct area elements and curvature for each model and summing contributions cellwise. All computed $\\delta$ values must be floats in radians.", "solution": "The problem requires the implementation of a numerical estimator for the angle defect $\\delta$ of a geodesic triangle $\\Delta$ on a two-dimensional Riemannian manifold $(M, g)$. The design is founded upon the Gaussâ€“Bonnet theorem.\n\n**Problem Validation**\n\n**Step 1: Extract Givens**\n\n- **Fundamental Principle**: For a geodesic triangle $\\Delta$ on a $2$D Riemannian manifold, the angle defect $\\delta$ is given by the integral of the Gaussian curvature $K$ over the area of the triangle: $\\delta = \\int_{\\Delta} K \\, dA$.\n- **Numerical Method**: The integral is to be approximated by a sum over a mesh of cells: $\\delta \\approx \\sum_{i} K(p_{i})\\,\\Delta A_{i}$, using midpoint sampling ($p_i$ is the cell midpoint) and the metric-induced area of each cell, $\\Delta A_i$.\n\n- **Model 1: Euclidean Plane**\n  - Metric: $g = dx^{2} + dy^{2}$\n  - Gaussian Curvature: $K = 0$\n  - Area Element: $dA = dx\\,dy$\n\n- **Model 2: Sphere**\n  - Coordinates: $(\\theta, \\phi)$ with $\\theta \\in [0,\\pi]$ and $\\phi \\in [0,2\\pi)$\n  - Radius: $R$\n  - Gaussian Curvature: $K = 1/R^{2}$\n  - Area Element: $dA = R^{2}\\sin\\theta\\,d\\theta\\,d\\phi$\n\n- **Model 3: Hyperbolic Plane (PoincarÃ© Disk)**\n  - Coordinates: $(x,y)$ with $x^{2}+y^{2}  1$\n  - Metric: $ds^{2} = \\frac{4(dx^{2}+dy^{2})}{(1 - x^{2} - y^{2})^{2}}$\n  - Gaussian Curvature: $K = -1$\n  - Area Element: $dA = \\frac{4}{(1 - r^{2})^{2}}\\,dx\\,dy$, where $r^{2} = x^{2}+y^{2}$\n\n- **Case A (Euclidean)**:\n  - Triangle vertices: $(0,0)$, $(1,0)$, $(0,1)$.\n  - Region: $x \\ge 0$, $y \\ge 0$, and $x + y \\le 1$.\n  - Mesh: Uniform grid on $[0,1]\\times[0,1]$ with $N_{x} = 400$, $N_{y} = 400$.\n\n- **Case B (Sphere)**:\n  - Radius: $R=1$.\n  - Triangle (spherical wedge) region: $\\theta \\in [0,\\pi/2]$, $\\phi \\in [0,\\pi/2]$.\n  - Mesh: $N_{\\theta} = 600$, $N_{\\phi} = 600$.\n\n- **Case C (Sphere)**:\n  - Radius: $R=1$.\n  - Triangle (spherical wedge) region: $\\theta \\in [0,\\pi/2]$, $\\phi \\in [0,0.3]$.\n  - Mesh: $N_{\\theta} = 600$, $N_{\\phi} = 600$.\n\n- **Case D (Sphere)**:\n  - Radius: $R=2$.\n  - Triangle (spherical wedge) region: $\\theta \\in [0,\\pi/2]$, $\\phi \\in [0,\\pi/3]$.\n  - Mesh: $N_{\\theta} = 600$, $N_{\\phi} = 600$.\n\n- **Case E (Hyperbolic Plane)**:\n  - Region: $x \\ge 0$, $y \\ge 0$, $(x - c_{x})^{2} + (y - c_{y})^{2} \\le r_{\\mathrm{circ}}^{2}$, and $x^{2} + y^{2}  1$.\n  - Geodesic circle center: $\\mathbf{c} = (1.2,1.2)$.\n  - Orthogonality condition: $r_{\\mathrm{circ}}^{2} = \\|\\mathbf{c}\\|^{2} - 1$.\n  - Mesh: Uniform grid on $[0,1]\\times[0,1]$ with $N_{x} = 500$, $N_{y} = 500$.\n\n- **Output Requirement**: A single-line comma-separated list of floating-point numbers in radians: $[\\delta_{\\mathrm{A}},\\delta_{\\mathrm{B}},\\delta_{\\mathrm{C}},\\delta_{\\mathrm{D}},\\delta_{\\mathrm{E}}]$.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded, well-posed, and objective. It provides a clear, formalizable task based on fundamental principles of differential geometry (the Gauss-Bonnet theorem) and standard numerical methods (Riemann sum with midpoint rule). All models (Euclidean plane, sphere, PoincarÃ© disk) and their associated curvatures and area elements are standard and correctly stated. Each case provides all necessary data, including the precise definition of the integration domain and the parameters for the numerical mesh. The problem is self-contained, consistent, and lacks any of the invalidating flaws listed in the instructions.\n\n**Step 3: Verdict and Action**\nThe problem is **valid**. A solution will be developed.\n\n**Solution Derivation**\n\nThe core of the task is to numerically evaluate the integral $\\delta = \\int_{\\Delta} K \\, dA$ for five distinct cases. We will discretize the integration domain and approximate the integral with a Riemann sum using the midpoint rule.\n\nThe general formula for the numerical approximation is:\n$$\n\\delta \\approx \\sum_{i} K(p_i) \\Delta A_i\n$$\nwhere the sum is over all cells $i$ whose midpoint $p_i$ lies within the triangle $\\Delta$. $\\Delta A_i$ is the area of the cell $i$.\n\n**Case A: Euclidean Plane**\nThe Gaussian curvature of the Euclidean plane is $K=0$. The triangle is defined by vertices $(0,0)$, $(1,0)$, and $(0,1)$. The angle defect is given by:\n$$\n\\delta_A = \\int_{\\Delta_A} 0 \\, dA = 0\n$$\nThe numerical estimator will also yield $0$, since every term $K(p_i)$ in the sum is $0$. The implementation will calculate this trivially, serving as a baseline validation.\n\n**Cases B, C, D: Sphere of Radius $R$**\nFor a sphere of radius $R$, the Gaussian curvature is constant, $K = 1/R^2$, and the area element in spherical coordinates $(\\theta, \\phi)$ is $dA = R^2 \\sin\\theta \\, d\\theta \\, d\\phi$. The product $K \\, dA$ simplifies significantly:\n$$\nK \\, dA = \\left(\\frac{1}{R^2}\\right) (R^2 \\sin\\theta \\, d\\theta \\, d\\phi) = \\sin\\theta \\, d\\theta \\, d\\phi\n$$\nNotice that the result is independent of the radius $R$. The angle defect depends only on the solid angle subtended by the triangle.\nThe specified triangles are spherical wedges defined by rectangular regions in $(\\theta, \\phi)$ coordinates: $\\theta \\in [0, \\pi/2]$ and $\\phi \\in [0, \\phi_{max}]$. The integral is separable:\n$$\n\\delta = \\int_0^{\\phi_{max}} \\int_0^{\\pi/2} \\sin\\theta \\, d\\theta \\, d\\phi = \\left(\\int_0^{\\phi_{max}} d\\phi\\right) \\left(\\int_0^{\\pi/2} \\sin\\theta \\, d\\theta\\right) = \\phi_{max} [-\\cos\\theta]_0^{\\pi/2} = \\phi_{max}(0 - (-1)) = \\phi_{max}\n$$\nThe exact angle defects are:\n- Case B: $R=1$, $\\phi_{max} = \\pi/2$. $\\delta_B = \\pi/2$.\n- Case C: $R=1$, $\\phi_{max} = 0.3$. $\\delta_C = 0.3$.\n- Case D: $R=2$, $\\phi_{max} = \\pi/3$. $\\delta_D = \\pi/3$.\n\nThe numerical estimator for these cases will sum over a grid in $(\\theta, \\phi)$ space. The mesh resolutions are $N_\\theta$ and $N_\\phi$. The cell dimensions are $d\\theta = (\\pi/2)/N_\\theta$ and $d\\phi = \\phi_{max}/N_\\phi$. The midpoint of cell $(i, j)$ is $(\\theta_{m,i}, \\phi_{m,j})$ where $\\theta_{m,i} = (i+0.5)d\\theta$ and $\\phi_{m,j} = (j+0.5)d\\phi$.\nThe contribution from each cell is $K(p_{ij}) \\Delta A_{ij} = \\sin(\\theta_{m,i}) d\\theta d\\phi$.\nThe total defect is approximated by:\n$$\n\\delta \\approx \\sum_{i=0}^{N_\\theta-1} \\sum_{j=0}^{N_\\phi-1} \\sin(\\theta_{m,i}) \\, d\\theta \\, d\\phi = (N_\\phi \\, d\\phi) \\left( \\sum_{i=0}^{N_\\theta-1} \\sin(\\theta_{m,i}) \\, d\\theta \\right) = \\phi_{max} \\sum_{i=0}^{N_\\theta-1} \\sin\\left(\\left(i+\\frac{1}{2}\\right)d\\theta\\right) d\\theta\n$$\nThis formula will be implemented for Cases B, C, and D with their respective parameters.\n\n**Case E: Hyperbolic Plane (PoincarÃ© Disk)**\nThe Gaussian curvature is constant, $K = -1$. The area element in Cartesian coordinates $(x,y)$ is $dA = \\frac{4}{(1 - r^2)^2} \\, dx \\, dy$, where $r^2 = x^2+y^2$.\nThe angle defect is $\\delta_E = \\int_{\\Delta_E} K \\, dA = - \\int_{\\Delta_E} \\frac{4}{(1-r^2)^2} \\, dx \\, dy$. This is equivalent to the negative of the hyperbolic area of the triangle.\n\nThe integration domain $\\Delta_E$ is defined by four conditions for a point $(x,y)$:\n1. $x \\ge 0$\n2. $y \\ge 0$\n3. $(x - c_x)^2 + (y - c_y)^2 \\le r_{\\mathrm{circ}}^2$, where $c_x = 1.2$, $c_y = 1.2$, and $r_{\\mathrm{circ}}^2 = c_x^2 + c_y^2 - 1 = 1.2^2 + 1.2^2 - 1 = 1.44 + 1.44 - 1 = 1.88$.\n4. $x^2 + y^2  1$ (inside the PoincarÃ© disk).\n\nThe numerical estimator meshes the bounding box $[0,1] \\times [0,1]$ into $N_x \\times N_y$ cells, with $N_x=500$ and $N_y=500$. The cell dimensions are $dx=1/N_x$ and $dy=1/N_y$. The midpoint of cell $(i,j)$ is $(x_{m,i}, y_{m,j})$ where $x_{m,i} = (i+0.5)dx$ and $y_{m,j} = (j+0.5)dy$.\n\nFor each cell, we check if its midpoint $(x_m, y_m)$ satisfies the conditions for being in $\\Delta_E$. If it does, we add its contribution to the total defect. The contribution of a single cell centered at $(x_m, y_m)$ is:\n$$\n\\Delta \\delta = K(x_m, y_m) \\cdot \\Delta A = (-1) \\cdot \\frac{4}{(1 - (x_m^2 + y_m^2))^2} \\, dx \\, dy\n$$\nThe total defect is the sum of these contributions over all valid cells:\n$$\n\\delta_E \\approx \\sum_{i,j \\text{ s.t. } p_{ij} \\in \\Delta_E} - \\frac{4}{(1 - (x_{m,i}^2 + y_{m,j}^2))^2} \\, dx \\, dy\n$$\nThis will be implemented by generating a grid of midpoints, creating a boolean mask to identify points inside $\\Delta_E$, calculating the contribution for each grid point, and summing the contributions where the mask is true.", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef _calculate_spherical_defect(R, phi_max, N_theta, N_phi):\n    \"\"\"\n    Calculates the angle defect of a spherical wedge using numerical integration.\n    The wedge is defined by theta in [0, pi/2] and phi in [0, phi_max].\n    \"\"\"\n    K = 1.0 / (R**2)\n    theta_max = np.pi / 2.0\n    \n    d_theta = theta_max / N_theta\n    d_phi = phi_max / N_phi\n\n    # Midpoint theta values\n    theta_midpoints = (np.arange(N_theta) + 0.5) * d_theta\n    \n    # K*dA = (1/R^2) * R^2*sin(theta)*d_theta*d_phi = sin(theta)*d_theta*d_phi\n    # We can sum over phi first, which is a simple multiplication by N_phi\n    # as the integrand does not depend on phi.\n    # Sum_j(sin(theta_m)*d_theta*d_phi) = N_phi * sin(theta_m) * d_theta * d_phi\n    # Then sum over theta.\n    \n    # Vectorized sum over all theta midpoints\n    # The term sin(theta_m) * d_theta approximates integral of sin(theta) d_theta\n    # The term phi_max approximates integral of d_phi\n    defect_sum = np.sum(np.sin(theta_midpoints)) * d_theta * phi_max\n    \n    return defect_sum\n\ndef _calculate_case_a():\n    \"\"\"Case A (Euclidean plane, happy path)\"\"\"\n    # Gaussian curvature K=0, so the integral of K*dA is 0.\n    return 0.0\n\ndef _calculate_case_b():\n    \"\"\"Case B (Sphere with R=1, large right-angled geodesic triangle)\"\"\"\n    R = 1.0\n    N_theta = 600\n    N_phi = 600\n    phi_max = np.pi / 2.0\n    return _calculate_spherical_defect(R, phi_max, N_theta, N_phi)\n\ndef _calculate_case_c():\n    \"\"\"Case C (Sphere with R=1, small right-angled geodesic triangle)\"\"\"\n    R = 1.0\n    N_theta = 600\n    N_phi = 600\n    phi_max = 0.3\n    return _calculate_spherical_defect(R, phi_max, N_theta, N_phi)\n\ndef _calculate_case_d():\n    \"\"\"Case D (Sphere with R=2, medium right-angled geodesic triangle)\"\"\"\n    R = 2.0\n    N_theta = 600\n    N_phi = 600\n    phi_max = np.pi / 3.0\n    return _calculate_spherical_defect(R, phi_max, N_theta, N_phi)\n\ndef _calculate_case_e():\n    \"\"\"Case E (Hyperbolic plane in the PoincarÃ© disk)\"\"\"\n    Nx = 500\n    Ny = 500\n    \n    # Bounding box for integration\n    x_lim, y_lim = 1.0, 1.0\n    dx = x_lim / Nx\n    dy = y_lim / Ny\n    \n    # Parameters for the third geodesic boundary (a circular arc)\n    cx, cy = 1.2, 1.2\n    r_circ_sq = cx**2 + cy**2 - 1.0\n\n    # Create a mesh of midpoint coordinates for each cell\n    x_midpoints = (np.arange(Nx) + 0.5) * dx\n    y_midpoints = (np.arange(Ny) + 0.5) * dy\n    xx, yy = np.meshgrid(x_midpoints, y_midpoints, indexing='ij')\n\n    # Define the region of the geodesic triangle using boolean masks\n    # Condition 1: must be inside the Poincare disk\n    mask_disk = (xx**2 + yy**2)  1.0\n    # Condition 2: must be inside the region bounded by the orthogonal circle\n    mask_geodesic = ((xx - cx)**2 + (yy - cy)**2) = r_circ_sq\n    # Conditions x=0 and y=0 are handled by the mesh grid range from 0 to 1\n    \n    # Combine masks to find all valid cells\n    valid_mask = mask_disk  mask_geodesic\n\n    # Calculate contributions for all cells in the grid\n    K = -1.0\n    rr_sq = xx**2 + yy**2\n    \n    # Area element factor for each cell, dA = factor * dx * dy\n    # This avoids division by zero for points on the boundary r=1.\n    # The mask_disk ensures we only use points with r1.\n    area_element_factor = np.zeros_like(rr_sq)\n    # Calculate factor only for points inside the disk to avoid warnings\n    inside_disk_indices = rr_sq  1.0\n    area_element_factor[inside_disk_indices] = 4.0 / (1.0 - rr_sq[inside_disk_indices])**2\n    \n    # Cell contribution is K * dA\n    cell_contributions = K * area_element_factor * dx * dy\n    \n    # Sum contributions only from cells whose midpoints are in the triangle\n    total_defect = np.sum(cell_contributions[valid_mask])\n    \n    return total_defect\n\ndef solve():\n    \"\"\"\n    Main function to calculate the angle defect for all specified cases.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    # The logic for each case is encapsulated in a helper function.\n    test_cases_solvers = [\n        _calculate_case_a,\n        _calculate_case_b,\n        _calculate_case_c,\n        _calculate_case_d,\n        _calculate_case_e,\n    ]\n\n    results = []\n    for solver_func in test_cases_solvers:\n        result = solver_func()\n        results.append(result)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```", "id": "3038073"}]}