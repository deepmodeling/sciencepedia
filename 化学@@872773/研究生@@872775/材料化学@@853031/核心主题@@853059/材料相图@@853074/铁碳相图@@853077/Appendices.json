{"hands_on_practices": [{"introduction": "理解相图不仅在于识别存在的相，还在于量化它们的相对比例。杠杆定律是基于质量守恒原理的关键计算工具，它使我们能够将相图上的成分信息转化为材料中各相的质量分数。本次练习 [@problem_id:2529826] 将通过一个典型的低碳钢实例，让您从第一性原理出发推导并应用杠杆定律，这是预测和控制显微组织的基础技能。", "problem": "一种总成分为 $0.10\\,\\mathrm{wt}\\,\\%$ 碳的钢，在 $700\\,^{\\circ}\\mathrm{C}$ 下等温保持，处于亚稳态的铁-渗碳体平衡状态（石墨的形成被抑制）。在此温度下，碳在铁素体（记作 $\\alpha$）中的平衡溶解度为 $0.02\\,\\mathrm{wt}\\,\\%$，渗碳体（记作 $\\theta$，其中 $\\theta \\equiv \\mathrm{Fe}_{3}\\mathrm{C}$）中的碳含量为 $6.67\\,\\mathrm{wt}\\,\\%$。假设只存在 $\\alpha$ 和 $\\theta$ 两相，且系统是封闭的，因此总碳量守恒。\n\n从第一性原理出发，对二元双相平衡使用质量平衡法，确定此种钢在 $700\\,^{\\circ}\\mathrm{C}$ 时铁素体和渗碳体的平衡质量分数 $f_{\\alpha}$ 和 $f_{\\theta}$。\n\n将最终答案表示为行向量 $\\bigl[f_{\\alpha},\\,f_{\\theta}\\bigr]$，不带单位，并将每个条目四舍五入至四位有效数字。", "solution": "首先必须验证问题陈述的科学合理性和完整性。\n\n步骤1：提取已知条件。\n提供了以下数据：\n-   钢的总碳成分，$C_{0} = 0.10\\,\\mathrm{wt}\\,\\%$。\n-   等温保持温度，$T = 700\\,^{\\circ}\\mathrm{C}$。\n-   系统处于亚稳态铁-渗碳体平衡。\n-   铁素体($\\alpha$)中的平衡碳含量，$C_{\\alpha} = 0.02\\,\\mathrm{wt}\\,\\%$。\n-   渗碳体($\\theta$, $\\mathrm{Fe}_{3}\\mathrm{C}$)中的平衡碳含量，$C_{\\theta} = 6.67\\,\\mathrm{wt}\\,\\%$。\n-   仅有的相是铁素体($\\alpha$)和渗碳体($\\theta$)。\n-   系统是封闭的。\n-   目标是确定铁素体 $f_{\\alpha}$ 和渗碳体 $f_{\\theta}$ 的平衡质量分数。\n\n步骤2：使用提取的已知条件进行验证。\n该问题具有科学依据。它提出了物理冶金学中的一个标准情景，具体来说是将质量平衡原理（杠杆定律）应用于二元相图。温度 $T = 700\\,^{\\circ}\\mathrm{C}$ 低于共析温度（$727\\,^{\\circ}\\mathrm{C}$），总成分 $C_{0} = 0.10\\,\\mathrm{wt}\\,\\%$ 介于碳在铁素体中的溶解度极限（$C_{\\alpha}$）和渗碳体的成分（$C_{\\theta}$）之间。这正确定位了该合金在Fe-Fe3C相图的$\\alpha + \\theta$两相区中。给定的各相成分是标准值。问题提法恰当、客观，并包含足够的信息以获得唯一解。\n\n步骤3：结论与行动。\n问题有效。将按要求从第一性原理推导求解。\n\n推导始于考虑合金的总质量 $m_{total}$。该质量分布在存在的两相——铁素体($\\alpha$)和渗碳体($\\theta$)之间。设它们的质量分别为 $m_{\\alpha}$ 和 $m_{\\theta}$。各相的质量分数定义为：\n$$\nf_{\\alpha} = \\frac{m_{\\alpha}}{m_{total}} \\quad \\text{和} \\quad f_{\\theta} = \\frac{m_{\\theta}}{m_{total}}\n$$\n由于这是封闭系统中仅有的两相，根据质量守恒定律，它们的质量之和等于总质量：\n$$\nm_{\\alpha} + m_{\\theta} = m_{total}\n$$\n两边同除以 $m_{total}$，得到质量分数之间的第一个基本关系式：\n$$\nf_{\\alpha} + f_{\\theta} = 1\n$$\n这是总质量平衡方程。\n\n接下来，我们建立碳组分的质量平衡。合金中碳的总质量是总碳浓度 $C_{0}$ 与总质量 $m_{total}$ 的乘积。这部分总碳质量分布在铁素体和渗碳体两相中。铁素体相中的碳质量为 $C_{\\alpha} m_{\\alpha}$，渗碳体相中的碳质量为 $C_{\\theta} m_{\\theta}$。碳组分的守恒要求：\n$$\n\\text{C的总质量} = (\\text{在}\\alpha\\text{中的C质量}) + (\\text{在}\\theta\\text{中的C质量})\n$$\n代入各项的表达式（为形式上的正确性，将 wt$\\%$ 值视为分数，尽管 $1/100$ 的因子会消掉）：\n$$\nC_{0} \\cdot m_{total} = C_{\\alpha} \\cdot m_{\\alpha} + C_{\\theta} \\cdot m_{\\theta}\n$$\n将整个方程除以总质量 $m_{total}$：\n$$\nC_{0} = C_{\\alpha} \\frac{m_{\\alpha}}{m_{total}} + C_{\\theta} \\frac{m_{\\theta}}{m_{total}}\n$$\n代入质量分数的定义，我们得到第二个基本关系式：\n$$\nC_{0} = C_{\\alpha} f_{\\alpha} + C_{\\theta} f_{\\theta}\n$$\n这是组分质量平衡方程。\n\n现在我们有一个包含两个未知数 $f_{\\alpha}$ 和 $f_{\\theta}$ 的二元一次方程组：\n1.  $f_{\\alpha} + f_{\\theta} = 1$\n2.  $C_{\\alpha} f_{\\alpha} + C_{\\theta} f_{\\theta} = C_{0}$\n\n根据方程(1)，我们将 $f_{\\theta}$ 表示为 $f_{\\alpha}$ 的函数：$f_{\\theta} = 1 - f_{\\alpha}$。将其代入方程(2)：\n$$\nC_{0} = C_{\\alpha} f_{\\alpha} + C_{\\theta} (1 - f_{\\alpha})\n$$\n$$\nC_{0} = C_{\\alpha} f_{\\alpha} + C_{\\theta} - C_{\\theta} f_{\\alpha}\n$$\n$$\nC_{0} - C_{\\theta} = f_{\\alpha} (C_{\\alpha} - C_{\\theta})\n$$\n解出 $f_{\\alpha}$ 得到杠杆定律表达式：\n$$\nf_{\\alpha} = \\frac{C_{0} - C_{\\theta}}{C_{\\alpha} - C_{\\theta}} = \\frac{C_{\\theta} - C_{0}}{C_{\\theta} - C_{\\alpha}}\n$$\n为求 $f_{\\theta}$，我们使用关系式 $f_{\\theta} = 1 - f_{\\alpha}$。\n$$\nf_{\\theta} = 1 - \\frac{C_{\\theta} - C_{0}}{C_{\\theta} - C_{\\alpha}} = \\frac{(C_{\\theta} - C_{\\alpha}) - (C_{\\theta} - C_{0})}{C_{\\theta} - C_{\\alpha}} = \\frac{C_{0} - C_{\\alpha}}{C_{\\theta} - C_{\\alpha}}\n$$\n这证实了标准的杠杆定律公式。\n\n现在，我们将给定的数值代入这些表达式中：\n$C_{0} = 0.10$\n$C_{\\alpha} = 0.02$\n$C_{\\theta} = 6.67$\n\n铁素体的质量分数 $f_{\\alpha}$ 为：\n$$\nf_{\\alpha} = \\frac{6.67 - 0.10}{6.67 - 0.02} = \\frac{6.57}{6.65} \\approx 0.9879699...\n$$\n渗碳体的质量分数 $f_{\\theta}$ 为：\n$$\nf_{\\theta} = \\frac{0.10 - 0.02}{6.67 - 0.02} = \\frac{0.08}{6.65} \\approx 0.0120300...\n$$\n作为检验，$f_{\\alpha} + f_{\\theta} \\approx 0.9879699 + 0.0120300 = 0.9999999 \\approx 1$，这是正确的。\n\n题目要求将每个条目四舍五入到四位有效数字。\n对于 $f_{\\alpha} = 0.9879699...$，前四位有效数字是 $9$、$8$、$7$ 和 $9$。第五位数字是 $6$ ($\\ge 5$)，所以我们将最后一位有效数字向上取整。因此，$f_{\\alpha}$ 四舍五入为 $0.9880$。\n对于 $f_{\\theta} = 0.0120300...$，小数点后的前导零不是有效数字。前四位有效数字是 $1$、$2$、$0$ 和 $3$。第五位数字是 $0$ ($ 5$)，所以我们不向上取整。因此，$f_{\\theta}$ 四舍五入为 $0.01203$。\n\n最终答案是这些四舍五入后质量分数的行向量。", "answer": "$$\n\\boxed{\\begin{pmatrix} 0.9880  0.01203 \\end{pmatrix}}\n$$", "id": "2529826"}, {"introduction": "标准的铁碳相图是在恒定大气压下绘制的，但压力作为重要的热力学变量，能够改变相变温度。本次练习 [@problem_id:2529800] 引导您应用克拉佩龙方程，将相变过程中的体积 $\\Delta V$ 和熵 $\\Delta S$ 等基本热力学量与共析温度随压力的变化联系起来，从而深入理解相图背后的热力学约束。", "problem": "在铁-碳系统的共析成分下，恒定反应 $\\gamma \\rightarrow \\alpha + \\mathrm{Fe}_3\\mathrm{C}$ 在常压下的共析温度发生。考虑在常压附近此三相平衡的一个小邻域，在该邻域内热力学响应函数可被视为与压力无关。设在共析温度下，对于反应 $\\gamma \\rightarrow \\alpha + \\mathrm{Fe}_3\\mathrm{C}$ 的摩尔变化量（每摩尔共析成分的母相奥氏体）为 $\\Delta V = -3.30 \\times 10^{-8}\\,\\text{m}^3\\,\\text{mol}^{-1}$ 和 $\\Delta S = -3.00\\,\\text{J}\\,\\text{mol}^{-1}\\,\\text{K}^{-1}$，其中 $\\Delta V$ 和 $\\Delta S$ 定义为产物值减去反应物值。假设在所研究的压力区间内，这些值基本保持不变。\n\n仅从吉布斯自由能微分式 $dG = V\\,dP - S\\,dT$ 和非均相平衡条件出发，推导决定压力-温度平面上共析不变线斜率 $dT/dP$ 的关系式。然后计算每千巴压力下共析温度的偏移量，以 $\\text{K}\\,\\text{kbar}^{-1}$ 为单位表示。使用 $1\\,\\text{bar} = 10^5\\,\\text{Pa}$ 和 $1\\,\\text{kbar} = 10^8\\,\\text{Pa}$。将您的最终数值结果四舍五入至三位有效数字。\n\n最后，给定确定共析温度的典型实验能力为 $\\pm 1.0\\,\\text{K}$ 的不确定度，以及可控的最小压力增量为 $0.50\\,\\text{kbar}$，请解释在单个增量下，预测的温度偏移是否在实验上可被检测到。您的解释不会被数字评分，但必须在逻辑上与您的推导和计算相符。", "solution": "首先对问题进行验证。\n\n步骤1：提取已知条件。\n- 系统：铁-碳，共析成分。\n- 恒定反应：$\\gamma \\rightarrow \\alpha + \\mathrm{Fe}_3\\mathrm{C}$，在共析温度和常压下。\n- 基本微分式：$dG = V\\,dP - S\\,dT$。\n- 平衡条件：非均相平衡。\n- 摩尔体积变化：$\\Delta V = -3.30 \\times 10^{-8}\\,\\text{m}^3\\,\\text{mol}^{-1}$（对于该反应，定义为产物减去反应物）。\n- 摩尔熵变：$\\Delta S = -3.00\\,\\text{J}\\,\\text{mol}^{-1}\\,\\text{K}^{-1}$（对于该反应，定义为产物减去反应物）。\n- 假设：在所研究的压力区间内 $\\Delta V$ 和 $\\Delta S$ 恒定；在常压附近的小邻域内，热力学响应函数被视为与压力无关。\n- 换算：$1\\,\\text{bar} = 10^5\\,\\text{Pa}$；$1\\,\\text{kbar} = 10^8\\,\\text{Pa}$。\n- 要求输出1（推导）：共析不变线斜率 $dT/dP$ 的关系式。\n- 要求输出2（计算）：每千巴压力下共析温度偏移的数值，单位为 $\\text{K}\\,\\text{kbar}^{-1}$，四舍五入至三位有效数字。\n- 要求输出3（解释）：在给定温度测量不确定度为 $\\pm 1.0\\,\\text{K}$ 的情况下，评估压力增量为 $0.50\\,\\text{kbar}$ 时温度偏移的实验可检测性。\n\n步骤2：使用提取的已知条件进行验证。\n该问题具有科学依据，植根于材料和相变的经典热力学。铁-碳系统中的共析反应是材料科学中的一个典型例子。所要求的推导是克拉佩龙方程的推导，这是一个基本的热力学关系式。问题提得很好，为得到唯一解提供了所有必要的数据（$\\Delta V, \\Delta S$）和常数。语言客观而精确。所提供的数据对于固态相变是物理上现实的。问题是自洽且一致的。\n\n步骤3：结论与行动。\n问题有效。将提供解答。\n\n该问题要求推导共析温度对压力的依赖关系，这是一个恒定反应。沿着代表此三相平衡的 P-T 线上的任何一点，母相奥氏体相（$\\gamma$）的摩尔吉布斯自由能必须等于产物混合物（$\\alpha + \\mathrm{Fe}_3\\mathrm{C}$）的总吉布斯自由能。设 $G_{\\gamma}$ 是 $\\gamma$ 相的摩尔吉布斯自由能，$G_{prod}$ 是由一摩尔 $\\gamma$ 相生成的产物的吉布斯自由能。平衡条件是：\n$$G_{\\gamma}(P, T) = G_{prod}(P, T)$$\n为了在相界上维持这种平衡，任何无穷小的变化 $dP$ 和 $dT$ 都必须保持这个等式成立。因此，吉布斯自由能的全微分必须相等：\n$$dG_{\\gamma} = dG_{prod}$$\n吉布斯自由能微分的基本热力学关系式为 $dG = V\\,dP - S\\,dT$。将此应用于反应物和产物集合，得到：\n$$V_{\\gamma}\\,dP - S_{\\gamma}\\,dT = V_{prod}\\,dP - S_{prod}\\,dT$$\n这里，$V$ 和 $S$ 分别代表相应组分（反应物或产物集合）的摩尔体积和摩尔熵。重新整理这个方程，将带有 $dP$ 和 $dT$ 的项分组：\n$$(S_{prod} - S_{\\gamma})\\,dT = (V_{prod} - V_{\\gamma})\\,dP$$\n问题将反应的摩尔熵变和体积变化定义为 $\\Delta S = S_{prod} - S_{\\gamma}$ 和 $\\Delta V = V_{prod} - V_{\\gamma}$。代入这些定义，得到：\n$$\\Delta S \\,dT = \\Delta V \\,dP$$\n这可以重新整理以求出 P-T 平面中共析线的斜率，这就是所求的关系式：\n$$\\frac{dT}{dP} = \\frac{\\Delta V}{\\Delta S}$$\n这就是适用于此恒定反应的广义克拉佩龙方程。\n\n接下来，我们计算这个斜率的数值。给定的数据是：\n$\\Delta V = -3.30 \\times 10^{-8}\\,\\text{m}^3\\,\\text{mol}^{-1}$\n$\\Delta S = -3.00\\,\\text{J}\\,\\text{mol}^{-1}\\,\\text{K}^{-1}$\n\n将这些值代入推导出的关系式：\n$$\\frac{dT}{dP} = \\frac{-3.30 \\times 10^{-8}\\,\\text{m}^3\\,\\text{mol}^{-1}}{-3.00\\,\\text{J}\\,\\text{mol}^{-1}\\,\\text{K}^{-1}} = 1.10 \\times 10^{-8}\\,\\frac{\\text{m}^3\\cdot\\text{K}}{\\text{J}}$$\n为了用所要求的单位 $\\text{K}\\,\\text{kbar}^{-1}$ 来表示，需要进行单位换算。压力单位帕斯卡（$\\text{Pa}$）与焦耳（$\\text{J}$）和立方米（$\\text{m}^3$）的关系是 $1\\,\\text{J} = 1\\,\\text{Pa}\\cdot\\text{m}^3$。因此，计算出的斜率的单位是：\n$$\\frac{\\text{m}^3\\cdot\\text{K}}{\\text{J}} = \\frac{\\text{m}^3\\cdot\\text{K}}{\\text{Pa}\\cdot\\text{m}^3} = \\frac{\\text{K}}{\\text{Pa}}$$\n所以，斜率为 $\\frac{dT}{dP} = 1.10 \\times 10^{-8}\\,\\text{K}\\,\\text{Pa}^{-1}$。\n我们已知 $1\\,\\text{kbar} = 10^8\\,\\text{Pa}$。我们可以用它来转换单位：\n$$\\frac{dT}{dP} = \\left( 1.10 \\times 10^{-8}\\,\\frac{\\text{K}}{\\text{Pa}} \\right) \\times \\left( \\frac{10^8\\,\\text{Pa}}{1\\,\\text{kbar}} \\right)$$\n$$\\frac{dT}{dP} = 1.10 \\times (10^{-8} \\times 10^8)\\,\\frac{\\text{K}}{\\text{kbar}} = 1.10\\,\\text{K}\\,\\text{kbar}^{-1}$$\n共析温度偏移的数值，保留三位有效数字，是 $1.10\\,\\text{K}\\,\\text{kbar}^{-1}$。\n\n最后，必须解决实验可检测性的问题。给定的最小可控压力增量为 $\\Delta P_{min} = 0.50\\,\\text{kbar}$。使用推导的斜率计算此压力增量下预期的温度偏移 $\\Delta T_{predicted}$：\n$$\\Delta T_{predicted} = \\left( \\frac{dT}{dP} \\right) \\times \\Delta P_{min} = (1.10\\,\\text{K}\\,\\text{kbar}^{-1}) \\times (0.50\\,\\text{kbar}) = 0.55\\,\\text{K}$$\n温度测量的实验不确定度为 $\\delta T = \\pm 1.0\\,\\text{K}$。只有当一个效应的量级显著大于测量不确定度时，才被认为在实验上是可检测的。在这种情况下，预测的 $0.55\\,\\text{K}$ 的温度偏移小于 $\\pm 1.0\\,\\text{K}$ 的不确定度。由于随机误差，单次测量可能得出一个与原始温度值无法区分的结果。因此，在给定的实验能力下，对于 $0.50\\,\\text{kbar}$ 的单个压力增量，预测的 $0.55\\,\\text{K}$ 的偏移将无法被可靠地检测到。要观察到这一效应，需要更大的压力变化以产生超过测量不确定度的温度偏移，或者需要提高温度测量设备的精度。", "answer": "$$\\boxed{1.10}$$", "id": "2529800"}, {"introduction": "相图的本质是体系吉布斯自由能 $G$ 在不同条件下的最小化结果。现代计算材料科学正是通过建立各相的自由能模型来预测相平衡。本次练习 [@problem_id:2529770] 是一个综合性的计算实践，要求您构建一个算法，通过寻找公切线和应用杠杆定律来确定最低自由能状态，从而模拟计算相图的核心过程。", "problem": "给定铁-碳体系中各相的摩尔吉布斯能（每摩尔原子）的可微模型 $G^\\phi(x,T)$，压力固定，其中 $x \\in (0,1)$ 是碳的原子分数，$T$ 是以开尔文 (K) 为单位的绝对温度。所考虑的相为铁素体 ($\\alpha$)、奥氏体 ($\\gamma$) 和渗碳体 ($\\theta$)。假设渗碳体 ($\\theta$) 是一个固定成分为 $x^\\theta = 0.25$（即 $\\text{Fe}_3\\text{C}$）的化学计量相，而铁素体 ($\\alpha$) 和奥氏体 ($\\gamma$) 是置换固溶体，由以下具有理想位形熵项的类Redlich-Kister正则溶体自由能描述：\n$$\nG^\\phi(x,T) = G_0^\\phi(T) + h_\\phi\\, x + R T \\left[x \\ln x + (1-x)\\ln(1-x)\\right] + \\Omega_\\phi\\, x(1-x),\n$$\n对于 $\\phi \\in \\{\\alpha,\\gamma\\}$ 和 $x \\in (0,1)$。化学计量相渗碳体具有\n$$\nG^\\theta(T) = A_\\theta + B_\\theta T,\n$$\n仅在 $x^\\theta = 0.25$ 处定义。取普适气体常数 $R = 8.314\\ \\text{J}\\,\\text{mol}^{-1}\\,\\text{K}^{-1}$。\n\n使用以下参数值（所有能量单位为 $\\text{J}\\,\\text{mol}^{-1}$）：\n- 对于铁素体 ($\\alpha$)：$G_0^\\alpha(T) = 0$，$h_\\alpha = 40000$，$\\Omega_\\alpha = 20000$，有效成分域 $x \\in [10^{-6}, 0.02]$。\n- 对于奥氏体 ($\\gamma$)：$G_0^\\gamma(T) = 3000 - 5.0\\,T$，$h_\\gamma = 15000$，$\\Omega_\\gamma = 8000$，有效成分域 $x \\in [10^{-6}, 0.15]$。\n- 对于渗碳体 ($\\theta$)：在 $x^\\theta = 0.25$ 时，$G^\\theta(T) = -12000 - 4.0\\,T$。\n\n在固定的 $T$ 和总成分 $x_0 \\in (0,1)$ 下，平衡态是在满足质量守恒的条件下，使总摩尔吉布斯能最小化的状态。对于单相候选相 $\\phi$，如果 $x_0$ 位于 $\\phi$ 的有效域内，则能量为 $G^\\phi(x_0,T)$。对于具有端点成分 $x^\\phi$ 和 $x^\\psi$ 的两相候选相 $(\\phi,\\psi)$，能量是杠杆插值\n$$\nG^{\\phi\\!+\\!\\psi}(x_0,T) = f_\\phi G^\\phi(x^\\phi,T) + f_\\psi G^\\psi(x^\\psi,T),\n$$\n其中 $f_\\phi + f_\\psi = 1$ 且 $f_\\phi = \\dfrac{x^\\psi - x_0}{x^\\psi - x^\\phi}$，$f_\\psi = \\dfrac{x_0 - x^\\phi}{x^\\psi - x^\\phi}$，条件是 $x_0 \\in [x^\\phi,x^\\psi]$。两相的端点必须满足源于化学势相等和相平衡的连接线（公切线）条件。对于两个固溶相 $\\phi$ 和 $\\psi$，通过在 $G^\\phi(x,T)$ 和 $G^\\psi(x,T)$ 之间进行公切线构造法来确定连接线端点 $x^\\phi$ 和 $x^\\psi$。对于一个固溶相 $\\phi$ 和化学计量相渗碳体 $\\theta$（在 $x^\\theta$ 处），在 $G^\\phi(x,T)$ 上确定单个切点 $x^\\phi$，其切线穿过点 $\\left(x^\\theta,G^\\theta(T)\\right)$。如果某一对相找不到有效的两相连接线，则舍弃该对相。\n\n您的任务是开发一个算法程序，对于每个测试用例 $(T, x_0)$，(i) 枚举 $\\{\\alpha,\\gamma,\\theta\\}$ 中所有容许的单相和两相候选状态，(ii) 通过公切线条件确定两相连接线，(iii) 当 $x_0$ 位于连接线端点之间时，应用杠杆定律计算相分数，以及 (iv) 选择总摩尔吉布斯能最低的候选状态。以有序三元组 $\\left[f_\\alpha, f_\\gamma, f_\\theta\\right]$ 的形式报告平衡相分数，其中每个 $f_\\phi \\in [0,1]$ 且 $\\sum f_\\phi = 1$，并约定不存在的相分数为 $0$。\n\n所有计算必须使用以开尔文 (K) 为单位的 $T$，以原子分数（无量纲）表示的 $x$、$x_0$，以及以 $\\text{J}\\,\\text{mol}^{-1}$ 为单位的能量。最终数值结果必须四舍五入到六位小数。\n\n评估您程序的测试套件：\n- 用例 1：$T = 1000$，$x_0 = 0.015$。\n- 用例 2：$T = 800$，$x_0 = 0.040$。\n- 用例 3：$T = 1200$，$x_0 = 0.050$。\n- 用例 4：$T = 900$，$x_0 = 10^{-6}$。\n\n最终输出格式：\n- 您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表，列表中的每个元素本身都是一个按 $\\left[f_\\alpha, f_\\gamma, f_\\theta\\right]$ 顺序排列的三元素列表。例如，四个用例的有效输出形式如下\n$$\n\\left[\\left[f_{\\alpha,1}, f_{\\gamma,1}, f_{\\theta,1}\\right],\\left[f_{\\alpha,2}, f_{\\gamma,2}, f_{\\theta,2}\\right],\\left[f_{\\alpha,3}, f_{\\gamma,3}, f_{\\theta,3}\\right],\\left[f_{\\alpha,4}, f_{\\gamma,4}, f_{\\theta,4}\\right]\\right],\n$$\n以单行打印，每个浮点数四舍五入到六位小数，且无额外文本。", "solution": "该问题要求基于给定的铁素体 ($\\alpha$)、奥氏体 ($\\gamma$) 和渗碳体 ($\\theta$) 三相的吉布斯自由能热力学模型，确定铁-碳体系的平衡相分数。在给定的温度 $T$ 和总碳成分 $x_0$ 下，平衡态对应于使总摩尔吉布斯能最小化的相或相混合物。这是一个计算热力学中的经典问题，通过构建所有可能相的吉布斯能曲线的下凸包来解决。\n\n对于每个给定的测试用例 $(T, x_0)$，该解决方案按以下算法步骤进行：\n\n**1. 定义热力学模型**\n\n首先，我们实现给定的各相 $\\phi \\in \\{\\alpha, \\gamma, \\theta\\}$ 的摩尔吉布斯能 $G^\\phi(x, T)$ 的数学模型。\n对于固溶相铁素体 ($\\alpha$) 和奥氏体 ($\\gamma$)，模型为正则溶体类型：\n$$\nG^\\phi(x,T) = G_0^\\phi(T) + h_\\phi x + R T \\left[x \\ln x + (1-x)\\ln(1-x)\\right] + \\Omega_\\phi x(1-x)\n$$\n组分的化学势与吉布斯能的导数有关。用于寻找两相平衡成分的公切线构造法依赖于这些导数。$G^\\phi$ 对摩尔分数 $x$ 的一阶导数是：\n$$\n\\frac{\\partial G^\\phi}{\\partial x} = h_\\phi + R T \\ln\\left(\\frac{x}{1-x}\\right) + \\Omega_\\phi (1-2x)\n$$\n对于化学计量相渗碳体 ($\\theta$)，吉布斯能在固定成分 $x^\\theta = 0.25$ 下被给定为温度的线性函数：\n$$\nG^\\theta(T) = A_\\theta + B_\\theta T\n$$\n所有参数（$h_\\phi, \\Omega_\\phi, A_\\theta, B_\\theta$）和相的成分域均如问题陈述中所给出。普适气体常数为 $R = 8.314\\ \\text{J}\\,\\text{mol}^{-1}\\,\\text{K}^{-1}$。\n\n**2. 识别潜在的平衡相混合物（候选状态）**\n\n该体系可能的平衡态包括：\n- 单相 $\\alpha$\n- 单相 $\\gamma$\n- 两相混合物 $\\alpha + \\gamma$\n- 两相混合物 $\\alpha + \\theta$\n- 两相混合物 $\\gamma + \\theta$\n单相 $\\theta$ 态仅在 $x_0 = 0.25$ 时可能出现，但这不属于测试用例。三相平衡仅在特定温度（例如共析温度）下存在，这些温度是通过两相平衡线的交点找到的，而不是在一系列条件下作为主要候选状态来考虑。\n\n**3. 确定两相连接线**\n\n对于每个温度 $T$，我们必须首先确定所有可能的两相混合物的平衡成分（连接线端点）。这通过应用公切线构造法来完成。\n\n- **对于两个固溶相（$\\alpha$ 和 $\\gamma$）：** 公切线条件等价于两相中两种组分（Fe和C）的化学势相等。这产生一个关于两个未知成分 $x^\\alpha$ 和 $x^\\gamma$ 的非线性方程组：\n    $$\n    \\frac{\\partial G^\\alpha}{\\partial x}(x^\\alpha, T) = \\frac{\\partial G^\\gamma}{\\partial x}(x^\\gamma, T)\n    $$\n    $$\n    G^\\alpha(x^\\alpha, T) - x^\\alpha \\frac{\\partial G^\\alpha}{\\partial x}(x^\\alpha, T) = G^\\gamma(x^\\gamma, T) - x^\\gamma \\frac{\\partial G^\\gamma}{\\partial x}(x^\\gamma, T)\n    $$\n    该方程组使用求根算法（如 `scipy.optimize.root`）进行数值求解。一个解只有在其得到的成分 $x^\\alpha$ 和 $x^\\gamma$ 落在各自定义的稳定域内时才有效。\n\n- **对于一个固溶相（$\\phi$）和一个化学计量相（$\\theta$）：** 平衡成分 $x^\\phi$ 是通过在 $G^\\phi(x,T)$ 曲线上找到一个点，使得该点的切线穿过点 $(x^\\theta, G^\\theta(T))$ 来确定的。这导出一个关于 $x^\\phi$ 的单非线性方程：\n    $$\n    \\frac{G^\\phi(x^\\phi, T) - G^\\theta(T)}{x^\\phi - x^\\theta} = \\frac{\\partial G^\\phi}{\\partial x}(x^\\phi, T)\n    $$\n    该方程使用标量求根器（如 `scipy.optimize.root_scalar`）对 $x^\\phi$ 进行数值求解。同样，解必须位于相 $\\phi$ 的有效成分域内。\n\n**4. 为每个候选状态计算吉布斯能和相分数**\n\n对于给定的 $(T, x_0)$，我们为所有有效的候选状态评估吉布斯能。\n\n- **单相候选状态（$\\phi$）：** 如果 $x_0$ 在相 $\\phi$ 的成分域内，这是一个有效的候选状态。能量为 $G_{total} = G^\\phi(x_0, T)$，相分数是平凡的（例如，对于 $\\alpha$ 相是 $[1, 0, 0]$）。\n\n- **两相候选状态（$\\phi+\\psi$）：** 如果 $x_0$ 位于平衡连接线成分 $x^\\phi$ 和 $x^\\psi$ 之间，这是一个有效的候选状态。相分数 $f_\\phi$ 和 $f_\\psi$ 由杠杆定律确定：\n    $$\n    f_\\phi = \\frac{x^\\psi - x_0}{x^\\psi - x^\\phi}, \\quad f_\\psi = \\frac{x_0 - x^\\phi}{x^\\psi - x^\\phi}\n    $$\n    混合物的总摩尔吉布斯能是端点能量的线性组合：\n    $$\n    G_{total} = f_\\phi G^\\phi(x^\\phi, T) + f_\\psi G^\\psi(x^\\psi, T)\n    $$\n\n**5. 确定平衡态**\n\n在计算了 $(T, x_0)$ 下所有有效候选状态的吉布斯能之后，吉布斯能最小的那个候选状态即为真实的平衡态。其对应的相分数作为该测试用例的解被报告。对所有测试用例重复此过程。最终输出时，数值结果四舍五入到六位小数。", "answer": "[[0.862309,0.137691,0.000000],[0.000000,0.992908,0.007092],[0.000000,1.000000,0.000000],[1.000000,0.000000,0.000000]]", "id": "2529770"}]}