{"hands_on_practices": [{"introduction": "要真正掌握Cox比例风险模型，第一步是学会如何解读其核心输出。这个练习将引导您完成一个最基本也是最重要的任务：将模型估计出的系数转化为风险比（Hazard Ratio, HR）。理解这一转换至关重要，因为它能将抽象的对数风险尺度上的系数，变成直观的、可比较的相对风险度量。[@problem_id:1911775]", "problem": "在一项针对新型心血管药物'Cor-Stabil'的临床试验中，研究人员使用Cox比例风险模型来分析发生主要不良心脏事件所需的时间。该模型旨在评估药物的有效性，同时控制患者年龄这一变量。\n\n患者的风险函数由以下模型给出：\n$$h(t | X_1, X_2) = h_0(t) \\exp(\\beta_1 X_1 + \\beta_2 X_2)$$\n此处，$h_0(t)$ 是基线风险函数。协变量为：\n- $X_1$：治疗组，一个二元变量，其中对于接受 Cor-Stabil 治疗的患者，$X_1 = 1$；对于安慰剂组的患者，$X_1 = 0$。\n- $X_2$：研究开始时患者的年龄（以年为单位），一个连续变量。\n\n分析数据后，得到的估计系数为 $\\beta_1 = \\ln(0.65)$ 和 $\\beta_2 = 0.03$。\n\n计算服用 Cor-Stabil 的患者与服用安慰剂的患者相比的风险比，假设被比较的两名患者年龄相同。请用小数表示您的答案。", "solution": "Cox模型将时间 $t$ 的风险指定为 $h(t | X_{1}, X_{2}) = h_{0}(t)\\exp(\\beta_{1}X_{1} + \\beta_{2}X_{2})$。将一名服用 Cor-Stabil 的患者（$X_{1}=1$）与一名同龄的安慰剂患者（$X_{1}=0$）（因此两者的 $X_{2}$ 相等）进行比较的风险比为\n$$\n\\text{HR} = \\frac{h(t | X_{1}=1, X_{2}=a)}{h(t | X_{1}=0, X_{2}=a)} = \\frac{h_{0}(t)\\exp(\\beta_{1}\\cdot 1 + \\beta_{2}a)}{h_{0}(t)\\exp(\\beta_{1}\\cdot 0 + \\beta_{2}a)}.\n$$\n消去 $h_{0}(t)$ 和公因子 $\\exp(\\beta_{2}a)$ 后得到\n$$\n\\text{HR} = \\exp(\\beta_{1}).\n$$\n已知 $\\beta_{1} = \\ln(0.65)$，利用 $\\exp(\\ln(x)) = x$ 可得\n$$\n\\text{HR} = \\exp(\\ln(0.65)) = 0.65.\n$$\n因此，在同一年龄下，Cor-Stabil 相对于安慰剂的风险为 $0.65$。", "answer": "$$\\boxed{0.65}$$", "id": "1911775"}, {"introduction": "在计算出风险比的点估计后，一个自然而然的问题是：这个估计有多可靠？这个动手实践将教您如何为风险比构建置信区间。通过这个练习，您将学会量化模型结果的不确定性，这是评估研究发现的统计显著性和精确度的关键一步，从而更全面地理解协变量对生存风险的影响。[@problem_id:1911713]", "problem": "在一项旨在治疗某种特定危及生命的疾病的新型治疗药物的临床试验中，研究人员使用Cox比例风险模型来评估该药物与安慰剂相比的有效性。该模型的主要目标是分析发生关键不良事件之前的时间。模型包含一个协变量 $X$，对于治疗组的患者，$X=1$；对于安慰剂组的患者，$X=0$。患者的风险函数由 $h(t|X) = h_0(t)\\exp(\\beta X)$ 给出，其中 $h_0(t)$ 是基线风险函数，$\\beta$ 是对数风险比系数。\n\n根据研究数据，计算出系数的最大似然估计为 $\\hat{\\beta} = -0.500$。该估计的标准误为 $SE(\\hat{\\beta}) = 0.250$。\n\n风险比定义为 $\\exp(\\beta)$，表示治疗组的风险率与安慰剂组的风险率之比。为此风险比构建一个95%的置信区间。在计算中，使用标准正态分布的临界值 $z_{0.025} = 1.96$。将您的答案报告为一对数字，分别表示置信区间的下限和上限。将两个界限四舍五入到三位有效数字。", "solution": "我们给定一个Cox比例风险模型，其风险函数为 $h(t|X) = h_{0}(t)\\exp(\\beta X)$，风险比定义为 $\\exp(\\beta)$。最大似然估计为 $\\hat{\\beta} = -0.500$，标准误为 $SE(\\hat{\\beta}) = 0.250$。为了构建风险比的95%置信区间，我们首先为 $\\beta$ 构建Wald置信区间：\n$$\n\\hat{\\beta} \\pm z_{0.025}\\,SE(\\hat{\\beta}) \\quad \\text{其中} \\quad z_{0.025} = 1.96.\n$$\n代入给定值，\n$$\n-0.500 \\pm 1.96 \\times 0.250 = -0.500 \\pm 0.490,\n$$\n得出\n$$\n\\beta \\text{ 的置信区间}: \\; \\left[-0.990,\\,-0.010\\right].\n$$\n由于风险比是单调变换 $\\exp(\\beta)$，因此通过对端点取指数，可以得到风险比的95%置信区间：\n$$\n\\left[\\exp(-0.990),\\,\\exp(-0.010)\\right].\n$$\n计算并四舍五入到三位有效数字，\n$$\n\\exp(-0.990) \\approx 0.371576691 \\approx 0.372,\\quad \\exp(-0.010) \\approx 0.990049834 \\approx 0.990.\n$$\n因此，风险比的95%置信区间为 $\\left[0.372,\\,0.990\\right]$。", "answer": "$$\\boxed{\\begin{pmatrix}0.372  0.990\\end{pmatrix}}$$", "id": "1911713"}, {"introduction": "Cox模型的强大之处不仅在于评估相对风险，还在于能够对个体的生存结果做出具体预测。这个练习将向您展示如何结合模型的参数部分（即风险比）和非参数部分（即基线累积风险函数），来计算特定时间点的生存概率。通过这个实践，您可以将模型的抽象组件转化为对个体未来风险的量化预测，这也是Cox模型在临床预测和可靠性工程等领域广泛应用的基础。[@problem_id:1911715]", "problem": "在一项针对新型电子元件的可靠性研究中，其失效时间通过 Cox 比例风险模型进行建模。在时间 $t$ 时，一个元件的风险率由模型 $h(t | Z) = h_0(t) \\exp(\\beta Z)$ 给出，其中 $t$ 是以年为单位的运行时间，$Z$ 是一个表示元件制造精度得分的连续协变量，$h_0(t)$ 是一个未指定的基准风险函数。\n\n对于协变量为 $Z$ 的元件，其累积风险函数为 $H(t | Z) = H_0(t) \\exp(\\beta Z)$，其中 $H_0(t) = \\int_0^t h_0(\\tau) d\\tau$ 是累积基准风险。一个元件存活超过时间 $t$ 的概率，即生存概率，由关系式 $S(t | Z) = \\exp(-H(t | Z))$ 给出。\n\n通过对失效数据的分析，模型回归系数的最大似然估计被确定为 $\\hat{\\beta} = \\ln(3)$。在第5年时，累积基准风险的非参数估计为 $\\hat{H}_0(5) = 0.2$。\n\n使用这些估计值，计算制造精度得分为 $Z=1$ 的元件的预测5年生存概率。将您的最终答案四舍五入到四位有效数字。", "solution": "我们使用 Cox 比例风险模型。在时间 $t$ 时，对于协变量值 $Z$，累积风险为 $H(t | Z) = H_{0}(t)\\exp(\\beta Z)$，生存函数为 $S(t | Z) = \\exp(-H(t | Z))$。\n\n当 $t=5$ 且 $Z=1$ 时，使用估计值 $\\hat{\\beta} = \\ln(3)$ 和 $\\hat{H}_{0}(5)=0.2$，预测的累积风险为\n$$\n\\hat{H}(5 | 1) = \\hat{H}_{0}(5)\\exp(\\hat{\\beta}\\cdot 1) = 0.2 \\exp(\\ln(3)) = 0.2 \\cdot 3 = 0.6.\n$$\n因此，预测的生存概率为\n$$\n\\hat{S}(5 | 1) = \\exp\\!\\left(-\\hat{H}(5 | 1)\\right) = \\exp(-0.6) = \\exp\\!\\left(-\\frac{3}{5}\\right).\n$$\n数值上，$\\exp(-0.6) \\approx 0.5488116361$，四舍五入到四位有效数字为 $0.5488$。", "answer": "$$\\boxed{0.5488}$$", "id": "1911715"}]}