{"hands_on_practices": [{"introduction": "本练习是 KKT 条件在凸优化问题中的一个经典应用。通过求解一个目标函数为线性、约束为抛物线不等式的问题，你将实践 KKT 理论的核心代数步骤。更重要的是，本练习旨在将这些抽象的条件与目标函数等值线和约束边界在最优点相切的直观几何概念联系起来 [@problem_id:3140454]。", "problem": "考虑一个包含两个变量 $x_1$ 和 $x_2$ 的最小化问题，其目标函数为 $f(x) = x_1 + x_2$，并带有一个不等式约束 $g(x) = x_1^{2} - x_2 \\le 0$。从拉格朗日函数和不等式约束优化的 Karush-Kuhn-Tucker (KKT) 必要条件的基本定义出发，并从第一性原理出发调用一个有效的约束规范，执行以下操作：\n\n- 确定该问题是否满足约束规范，并解释为什么 KKT 条件适用。\n- 使用 KKT 框架确定候选最优点 $(x_1^{\\star}, x_2^{\\star})$ 以及相应的拉格朗日乘子 $\\lambda^{\\star}$。\n- 使用从第一性原理推导出的几何或微分论证，证明解位于可行集的边界上，并且在最优点处，目标函数的等值线与由 $x_2 = x_1^{2}$ 描述的抛物线边界相切。\n- 报告精确的最优目标值 $f(x^{\\star})$。\n\n将最终报告的值表示为精确的简化数。不要四舍五入。", "solution": "首先根据所需标准对问题进行验证。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n- **目标函数**：$f(x) = x_1 + x_2$，其中 $x = (x_1, x_2)$。\n- **变量**：$x_1$ 和 $x_2$。\n- **约束**：$g(x) = x_1^{2} - x_2 \\le 0$。\n- **任务**：在约束 $g(x) \\le 0$ 下最小化 $f(x)$。使用 Karush-Kuhn-Tucker (KKT) 框架，包括验证约束规范、确定最优点 $(x_1^{\\star}, x_2^{\\star})$ 和乘子 $\\lambda^{\\star}$、对解进行几何分析以及计算最优目标值 $f(x^{\\star})$。\n\n**步骤2：使用提取的已知条件进行验证**\n- **科学依据**：该问题是非线性约束优化中的一个标准练习，这是应用数学和工程学的核心课题。它基于完善的数学原理。\n- **适定性**：该问题是适定的。目标函数是线性的（因此是凸的），约束函数 $g(x_1, x_2) = x_1^2 - x_2$ 是凸的。$g$ 的海森矩阵是 $\\nabla^2 g(x) = \\begin{pmatrix} 2  0 \\\\ 0  0 \\end{pmatrix}$，它是半正定的。因此，这是一个凸优化问题，预计存在唯一的全局最小值。\n- **目标**：问题陈述清晰、精确，并使用了标准的数学术语。\n- **完整性和一致性**：问题是自洽的，并提供了所有必要的信息。没有矛盾之处。\n- **其他缺陷**：该问题并非不切实际、不适定、微不足道或超出科学可验证范围。它是指定方法的直接应用。\n\n**步骤3：结论与行动**\n该问题被认为是**有效的**。将提供完整解答。\n\n### 求解推导\n\n该优化问题是在不等式约束 $g(x_1, x_2) = x_1^2 - x_2 \\le 0$ 下最小化目标函数 $f(x_1, x_2) = x_1 + x_2$。\n\n**约束规范**\n在应用 KKT 条件之前，我们必须验证约束规范（CQ）是否成立。CQ 确保可行集的几何形状在边界上是良好表现的，这保证了 KKT 条件是某点成为局部最小值的必要条件。\n\n我们将使用线性无关约束规范（LICQ）。对于某个点 $x$ 和在该点处有效的一组约束 $\\{g_i(x)=0\\}$，LICQ 要求这些有效约束的梯度 $\\{\\nabla g_i(x)\\}$ 是线性无关的。\n\n在此问题中，只有一个约束 $g(x_1, x_2) = x_1^2 - x_2 \\le 0$。约束函数的梯度为：\n$$ \\nabla g(x_1, x_2) = \\begin{pmatrix} \\frac{\\partial g}{\\partial x_1} \\\\ \\frac{\\partial g}{\\partial x_2} \\end{pmatrix} = \\begin{pmatrix} 2x_1 \\\\ -1 \\end{pmatrix} $$\n要使 LICQ 不成立，有效约束的梯度集必须是线性相关的。对于单个约束，这意味着梯度向量必须是零向量。然而，$\\nabla g(x_1, x_2)$ 永远不可能是零向量，因为它的第二个分量始终是 $-1$。因此，对于所有点 $(x_1, x_2)$，梯度都是非零的。这意味着 LICQ 对所有可行点都成立。由于满足了约束规范，KKT 条件是取得最优性的必要条件。\n\n**Karush-Kuhn-Tucker (KKT) 条件**\n此问题的拉格朗日函数为：\n$$ L(x_1, x_2, \\lambda) = f(x_1, x_2) + \\lambda g(x_1, x_2) = (x_1 + x_2) + \\lambda(x_1^2 - x_2) $$\n对于候选最优点 $(x_1^{\\star}, x_2^{\\star})$ 和相应的拉格朗日乘子 $\\lambda^{\\star}$，KKT 条件如下：\n\n1.  **平稳性 (Stationarity)**：拉格朗日函数关于 $x$ 的梯度必须为零。\n    $$ \\nabla_x L(x_1^{\\star}, x_2^{\\star}, \\lambda^{\\star}) = \\begin{pmatrix} 1 + 2\\lambda^{\\star}x_1^{\\star} \\\\ 1 - \\lambda^{\\star} \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix} $$\n2.  **原始可行性 (Primal Feasibility)**：该点必须满足问题的约束。\n    $$ x_1^{\\star 2} - x_2^{\\star} \\le 0 $$\n3.  **对偶可行性 (Dual Feasibility)**：对于形如 $g(x) \\le 0$ 的不等式约束，其拉格朗日乘子必须为非负。\n    $$ \\lambda^{\\star} \\ge 0 $$\n4.  **互补松弛性 (Complementary Slackness)**：拉格朗日乘子与约束函数的乘积必须为零。\n    $$ \\lambda^{\\star}(x_1^{\\star 2} - x_2^{\\star}) = 0 $$\n\n现在，我们求解这个方程和不等式组。\n从平稳性条件 (1) 的第二个分量可知：\n$$ 1 - \\lambda^{\\star} = 0 \\implies \\lambda^{\\star} = 1 $$\n这个值满足对偶可行性条件 (3)，因为 $1 \\ge 0$。\n\n因为 $\\lambda^{\\star} = 1 \\neq 0$，互补松弛性条件 (4) 要求约束必须是有效的（active）：\n$$ x_1^{\\star 2} - x_2^{\\star} = 0 \\implies x_2^{\\star} = x_1^{\\star 2} $$\n这个结果表明，最优解必须位于可行区域的边界上，即抛物线 $x_2 = x_1^2$。\n\n现在，我们使用平稳性条件 (1) 的第一个分量，并代入 $\\lambda^{\\star} = 1$：\n$$ 1 + 2\\lambda^{\\star}x_1^{\\star} = 0 \\implies 1 + 2(1)x_1^{\\star} = 0 \\implies 2x_1^{\\star} = -1 \\implies x_1^{\\star} = -\\frac{1}{2} $$\n使用关系式 $x_2^{\\star} = x_1^{\\star 2}$，我们求得 $x_2^{\\star}$：\n$$ x_2^{\\star} = \\left(-\\frac{1}{2}\\right)^2 = \\frac{1}{4} $$\n候选最优点是 $(x_1^{\\star}, x_2^{\\star}) = (-\\frac{1}{2}, \\frac{1}{4})$，对应的拉格朗日乘子为 $\\lambda^{\\star} = 1$。\n我们必须验证该点是否满足原始可行性条件 (2)：\n$$ \\left(-\\frac{1}{2}\\right)^2 - \\frac{1}{4} = \\frac{1}{4} - \\frac{1}{4} = 0 $$\n因为 $0 \\le 0$，所以该条件得到满足。所有 KKT 条件均已满足。\n\n**几何解释**\nKKT 框架要求在最优点处，目标函数的等值线与可行集的边界相切。这一几何条件通过平稳性条件 $\\nabla f(x^{\\star}) + \\lambda^{\\star} \\nabla g(x^{\\star}) = 0$ 在代数上得以体现，该条件意味着 $\\nabla f(x^{\\star}) = -\\lambda^{\\star} \\nabla g(x^{\\star})$。目标函数和有效约束的梯度必须是平行的。\n\n让我们在解点 $x^{\\star} = (-\\frac{1}{2}, \\frac{1}{4})$ 处验证这一点。\n目标函数的梯度是恒定的：\n$$ \\nabla f(x_1, x_2) = \\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix} $$\n约束函数在解点处的梯度为：\n$$ \\nabla g(x_1^{\\star}, x_2^{\\star}) = \\begin{pmatrix} 2x_1^{\\star} \\\\ -1 \\end{pmatrix} = \\begin{pmatrix} 2(-\\frac{1}{2}) \\\\ -1 \\end{pmatrix} = \\begin{pmatrix} -1 \\\\ -1 \\end{pmatrix} $$\n平稳性条件要求：\n$$ \\nabla f(x^{\\star}) = -\\lambda^{\\star} \\nabla g(x^{\\star}) \\implies \\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix} = -(1) \\begin{pmatrix} -1 \\\\ -1 \\end{pmatrix} $$\n该式成立，证实了梯度是平行的。\n\n另外，我们也可以比较斜率。目标函数的等值线是直线 $x_1 + x_2 = c$，可以写成 $x_2 = -x_1 + c$。这些直线的斜率为 $\\frac{dx_2}{dx_1} = -1$。\n可行区域的边界是抛物线 $x_2 = x_1^2$。该抛物线的切线斜率由其导数给出：$\\frac{dx_2}{dx_1} = 2x_1$。\n在最优点 $x_1^{\\star} = -\\frac{1}{2}$ 处，抛物线切线的斜率为：\n$$ \\frac{dx_2}{dx_1}\\bigg|_{x_1 = -1/2} = 2\\left(-\\frac{1}{2}\\right) = -1 $$\n由于目标函数等值线的斜率（-1）等于约束边界在点 $(-\\frac{1}{2}, \\frac{1}{4})$ 处的斜率，因此两条曲线在该点相切。这满足了几何要求。\n\n**最优目标值**\n最优点为 $(x_1^{\\star}, x_2^{\\star}) = (-\\frac{1}{2}, \\frac{1}{4})$。目标函数的最优值为：\n$$ f(x^{\\star}) = f\\left(-\\frac{1}{2}, \\frac{1}{4}\\right) = x_1^{\\star} + x_2^{\\star} = -\\frac{1}{2} + \\frac{1}{4} = -\\frac{2}{4} + \\frac{1}{4} = -\\frac{1}{4} $$", "answer": "$$ \\boxed{-\\frac{1}{4}} $$", "id": "3140454"}, {"introduction": "这个练习将引导我们超越简单的 KKT 应用，探索一个关键的理论细节：约束规范 (Constraint Qualifications)。通过引入一个包含冗余约束的特殊案例，我们将揭示为何诸如线性无关约束规范 (LICQ) 等条件至关重要。你将亲身探究当约束规范不满足时，拉格朗日乘子会发生什么，从而加深对 KKT 理论适用边界的理解 [@problem_id:3140504]。", "problem": "考虑一个约束最小化问题，其决策向量为 $x \\in \\mathbb{R}^2$：\n$$\\text{最小化 } f(x) = (x_1 - 2)^2 + x_2^2$$\n满足不等式约束\n$$g_1(x):\\ x_1 \\le 1,\\qquad g_2(x):\\ 2x_1 \\le 2.$$\n约束 $g_2(x)$ 在代数上等价于 $g_1(x)$，因此是冗余的。仅使用约束最优性的基本定义和 Karush-Kuhn-Tucker (KKT) 必要条件（不借助任何预先给出的简化公式），推断最优解、约束的有效性以及拉格朗日乘子的行为。识别冗余性的影响，并判断 KKT 条件是否通过乘子直接揭示了这种冗余性。\n\n选择所有正确的陈述：\n\nA. 唯一最优解是 $x^\\star = (1, 0)$。\n\nB. 在 $x^\\star$ 点，两个约束都是激活的，并且线性无关约束规范 (LICQ) 成立。\n\nC. 与 $g_1(x)$ 和 $g_2(x)$ 相关的 KKT 乘子不是唯一的；所有满足 $\\lambda_1 \\ge 0$、$\\lambda_2 \\ge 0$ 和 $\\lambda_1 + 2\\lambda_2 = 2$ 的数对 $(\\lambda_1, \\lambda_2)$ 都在 $x^\\star$ 点满足 KKT 的驻点性和互补松弛性条件。\n\nD. KKT 互补松弛性条件强制要求任何解都必须满足 $\\lambda_1 = 0$ 或 $\\lambda_2 = 0$，从而直接识别出其中一个约束是冗余的。\n\nE. 如果移除冗余约束 $g_2(x)$ 而只保留 $g_1(x)$，则线性无关约束规范 (LICQ) 在最优解处成立，并且对应的单个 KKT 乘子是唯一的。", "solution": "用户提供了一个约束优化问题和一组需要评估的陈述。任务是首先验证问题陈述，如果有效，则推导出解决方案并分析每个陈述。\n\n### 问题验证\n\n**第1步：提取已知条件**\n- 决策向量：$x \\in \\mathbb{R}^2$，其中 $x = (x_1, x_2)$。\n- 待最小化的目标函数：$f(x) = (x_1 - 2)^2 + x_2^2$。\n- 不等式约束：\n  - $g_1(x): x_1 \\le 1$。\n  - $g_2(x): 2x_1 \\le 2$。\n- 问题指出 $g_2(x)$ 是冗余的。\n- 任务要求使用 Karush-Kuhn-Tucker (KKT) 必要条件的基本定义。\n\n**第2步：使用提取的已知条件进行验证**\n- **科学基础：** 该问题是非线性规划中的一个标准练习，非线性规划是数学优化的一个成熟分支。函数和约束在数学上是合理的。\n- **适定性：** 目标函数 $f(x)$ 是一个严格凸函数（其 Hessian 矩阵为 $\\nabla^2 f(x) = \\begin{pmatrix} 2  0 \\\\ 0  2 \\end{pmatrix}$，是正定的）。由 $x_1 \\le 1$ 定义的可行集是一个闭合的凸集。在一个非空凸集上最小化一个严格凸函数有唯一的解。该问题是适定的。\n- **客观性：** 该问题使用精确的数学语言陈述，没有歧义或主观声明。\n- **缺陷检查清单：**\n    1.  **科学/事实不合理：** 无。\n    2.  **不可形式化/不相关：** 该问题与 KKT 条件的主题直接相关。\n    3.  **不完整/矛盾的设置：** 问题是自洽的。约束的冗余性是一个特意设计的特征，用于测试对 KKT 条件的理解，而不是一个缺陷。约束 $x_1 \\le 1$ 和 $2x_1 \\le 2$ 是等价的，并不矛盾。\n    4.  **不现实/不可行：** 该问题是纯数学问题；此类别不适用。\n    5.  **病态/结构不良：** 问题是适定的且结构清晰。\n    6.  **伪深刻/琐碎：** 问题并非琐碎。它涉及约束规范及其对 KKT 乘子的影响这一重要概念，这是优化理论中的一个关键课题。\n    7.  **超出科学可验证范围：** 该问题是一个可以通过逻辑推导验证的数学问题。\n\n**第3步：结论和行动**\n问题陈述有效。我将继续进行解答推导。\n\n### 解答推导\n\n**1. 确定最优解**\n\n目标函数 $f(x_1, x_2) = (x_1 - 2)^2 + x_2^2$ 代表了从点 $(2, 0)$ 到点 $(x_1, x_2)$ 的欧几里得距离的平方。约束条件 $x_1 \\le 1$ 和 $2x_1 \\le 2$ 都定义了相同的可行域：闭合半平面 $\\mathcal{F} = \\{ (x_1, x_2) \\in \\mathbb{R}^2 \\mid x_1 \\le 1 \\}$。\n\n该问题等价于在 $\\mathcal{F}$ 中寻找离点 $(2, 0)$ 最近的点。从几何上看，点 $(2, 0)$ 位于可行域之外，在边界线 $x_1 = 1$ 的右侧。可行域中离外部点最近的点是该外部点在可行集边界上的正交投影。点 $(2, 0)$ 在直线 $x_1 = 1$ 上的正交投影是点 $(1, 0)$。\n\n因此，唯一的最优解是 $x^\\star = (1, 0)$。\n\n**2. 对原问题建立并分析 KKT 条件**\n\n不等式约束的标准形式是 $g_i(x) \\le 0$。\n- $g_1(x) = x_1 - 1 \\le 0$。\n- $g_2(x) = 2x_1 - 2 \\le 0$。\n\n拉格朗日函数由下式给出：\n$$ \\mathcal{L}(x, \\lambda_1, \\lambda_2) = f(x) + \\lambda_1 g_1(x) + \\lambda_2 g_2(x) $$\n$$ \\mathcal{L}(x_1, x_2, \\lambda_1, \\lambda_2) = (x_1 - 2)^2 + x_2^2 + \\lambda_1(x_1 - 1) + \\lambda_2(2x_1 - 2) $$\n\n在局部最小值 $x^\\star$ 处的 KKT 必要条件是：\n1.  **驻点性：** $\\nabla_x \\mathcal{L}(x^\\star, \\lambda^\\star) = 0$。\n2.  **原始可行性：** $g_1(x^\\star) \\le 0$, $g_2(x^\\star) \\le 0$。\n3.  **对偶可行性：** $\\lambda_1^\\star \\ge 0$, $\\lambda_2^\\star \\ge 0$。\n4.  **互补松弛性：** $\\lambda_1^\\star g_1(x^\\star) = 0$, $\\lambda_2^\\star g_2(x^\\star) = 0$。\n\n让我们在候选最优解 $x^\\star = (1, 0)$ 处评估这些条件。\n\n- **原始可行性：**\n  - $g_1(1, 0) = 1 - 1 = 0$。约束成立。\n  - $g_2(1, 0) = 2(1) - 2 = 0$。约束成立。\n  由于 $g_1(x^\\star) = 0$ 和 $g_2(x^\\star) = 0$，两个约束在最优解处都是**激活的**。\n\n- **互补松弛性：**\n  - $\\lambda_1 g_1(x^\\star) = \\lambda_1 \\cdot 0 = 0$。这对任何 $\\lambda_1$ 都满足。\n  - $\\lambda_2 g_2(x^\\star) = \\lambda_2 \\cdot 0 = 0$。这对任何 $\\lambda_2$ 都满足。\n  这些条件对乘子没有施加任何限制。\n\n- **驻点性：**\n  拉格朗日函数关于 $x$ 的梯度是：\n  $$ \\nabla_x \\mathcal{L} = \\begin{pmatrix} \\frac{\\partial \\mathcal{L}}{\\partial x_1} \\\\ \\frac{\\partial \\mathcal{L}}{\\partial x_2} \\end{pmatrix} = \\begin{pmatrix} 2(x_1 - 2) + \\lambda_1 + 2\\lambda_2 \\\\ 2x_2 \\end{pmatrix} $$\n  在 $x^\\star = (1, 0)$ 处设 $\\nabla_x \\mathcal{L} = 0$：\n  $$ \\begin{pmatrix} 2(1 - 2) + \\lambda_1 + 2\\lambda_2 \\\\ 2(0) \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix} $$\n  这给出了两个方程：\n  1.  $-2 + \\lambda_1 + 2\\lambda_2 = 0 \\implies \\lambda_1 + 2\\lambda_2 = 2$。\n  2.  $0 = 0$。\n\n- **对偶可行性：**\n  我们必须有 $\\lambda_1 \\ge 0$ 和 $\\lambda_2 \\ge 0$。\n\n综合这些条件，要使 $x^\\star = (1, 0)$ 成为一个 KKT 点，必须存在满足以下条件的拉格朗日乘子 $(\\lambda_1, \\lambda_2)$：\n- $\\lambda_1 + 2\\lambda_2 = 2$\n- $\\lambda_1 \\ge 0$\n- $\\lambda_2 \\ge 0$\n\n这个系统在 $(\\lambda_1, \\lambda_2)$ 平面上定义了一个线段，其端点为 $(2, 0)$（当 $\\lambda_2=0$ 时）和 $(0, 1)$（当 $\\lambda_1=0$ 时）。由于存在不止一对 $(\\lambda_1, \\lambda_2)$ 满足这些条件，因此 KKT 乘子是**不唯一**的。\n\n**3. 分析约束规范**\n\n线性无关约束规范 (LICQ) 要求在点 $x^\\star$ 处的激活约束的梯度是线性无关的。\n在 $x^\\star = (1, 0)$ 处，两个约束都是激活的。它们的梯度是：\n- $\\nabla g_1(x) = \\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix}$\n- $\\nabla g_2(x) = \\begin{pmatrix} 2 \\\\ 0 \\end{pmatrix}$\n\n这两个向量是线性相关的，因为 $\\nabla g_2(x) = 2 \\nabla g_1(x)$。因此，LICQ 在最优解 $x^\\star$ 处**不成立**。LICQ 的不成立是 KKT 乘子不唯一的原因。\n\n### 逐项分析\n\n**A. 唯一最优解是 $x^\\star = (1, 0)$。**\n根据将点 $(2, 0)$ 到半平面 $x_1 \\le 1$ 的距离最小化的几何论证，最小值点确实是 $x^\\star=(1,0)$。由于目标函数 $f(x)$ 是严格凸的，且可行集是凸的，所以这个最优解是唯一的。\n**结论：正确。**\n\n**B. 在 $x^\\star$ 点，两个约束都是激活的，并且线性无关约束规范 (LICQ) 成立。**\n我们发现在 $x^\\star = (1, 0)$ 处，$g_1(x^\\star) = 0$ 和 $g_2(x^\\star) = 0$，所以两个约束都是激活的。然而，我们也证明了这些激活约束的梯度 $\\nabla g_1 = (1, 0)^T$ 和 $\\nabla g_2 = (2, 0)^T$ 是线性相关的。因此，LICQ 不成立。该陈述是一个合取命题，由于第二部分是错误的，所以整个陈述是错误的。\n**结论：错误。**\n\n**C. 与 $g_1(x)$ 和 $g_2(x)$ 相关的 KKT 乘子不是唯一的；所有满足 $\\lambda_1 \\ge 0$、$\\lambda_2 \\ge 0$ 和 $\\lambda_1 + 2\\lambda_2 = 2$ 的数对 $(\\lambda_1, \\lambda_2)$ 都在 $x^\\star$ 点满足 KKT 的驻点性和互补松弛性条件。**\n我们对 $x^\\star = (1, 0)$ 处的 KKT 条件的分析，精确地导出了条件 $\\lambda_1 + 2\\lambda_2 = 2$，$\\lambda_1 \\ge 0$ 和 $\\lambda_2 \\ge 0$。任何满足这些条件的数对 $(\\lambda_1, \\lambda_2)$ 都是一组有效的 KKT 乘子。这个集合代表一个线段，因此不是一个唯一的点。该陈述准确地描述了有效乘子的集合。\n**结论：正确。**\n\n**D. KKT 互补松弛性条件强制要求任何解都必须满足 $\\lambda_1 = 0$ 或 $\\lambda_2 = 0$，从而直接识别出其中一个约束是冗余的。**\n互补松弛性条件是 $\\lambda_1 g_1(x^\\star) = 0$ 和 $\\lambda_2 g_2(x^\\star) = 0$。由于两个约束都是激活的（$g_1(x^\\star) = 0$ 和 $g_2(x^\\star) = 0$），这些方程变为 $\\lambda_1 \\cdot 0 = 0$ 和 $\\lambda_2 \\cdot 0 = 0$。这对任何 $\\lambda_1$ 和 $\\lambda_2$ 的值都成立，并没有对它们施加任何限制。并不是说 $\\lambda_1=0$ 或 $\\lambda_2=0$ 必须成立。例如，从选项 C 中，我们可以选择 $\\lambda_2 = 0.5$，这得到 $\\lambda_1 = 1$。数对 $(1, 0.5)$ 是一组有效的乘子，其中两者都严格为正。因此，互补松弛性并不强制要求任何一个乘子为零。\n**结论：错误。**\n\n**E. 如果移除冗余约束 $g_2(x)$ 而只保留 $g_1(x)$，则在线性无关约束规范 (LICQ) 在最优解处成立，并且对应的单个 KKT 乘子是唯一的。**\n让我们分析简化后的问题：最小化 $f(x)$，约束条件为 $g_1(x) = x_1 - 1 \\le 0$。\n最优解仍然是 $x^\\star = (1, 0)$。在这一点，单个约束 $g_1(x)$ 是激活的。\n- **LICQ：** 激活约束梯度的集合只包含单个向量 $\\nabla g_1(x^\\star) = (1, 0)^T$。一个包含单个非零向量的集合总是线性无关的。所以，LICQ 成立。\n- **KKT 乘子：** 拉格朗日函数为 $\\mathcal{L}(x, \\mu_1) = (x_1 - 2)^2 + x_2^2 + \\mu_1(x_1 - 1)$。驻点性条件为 $\\nabla_x \\mathcal{L}(x^\\star, \\mu_1) = 0$。\n$$ \\begin{pmatrix} 2(1 - 2) + \\mu_1 \\\\ 2(0) \\end{pmatrix} = \\begin{pmatrix} -2 + \\mu_1 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix} $$\n这给出 $-2 + \\mu_1 = 0$，所以 $\\mu_1 = 2$。这是一个唯一的值。我们也检查对偶可行性：$\\mu_1 = 2 \\ge 0$，满足条件。\n由于 LICQ 成立，KKT 乘子保证是唯一的。我们的计算证实了这种唯一性。该陈述是正确的。\n**结论：正确。**", "answer": "$$\\boxed{ACE}$$", "id": "3140504"}, {"introduction": "本练习进入了非凸优化的进阶领域，挑战 KKT 条件的局限性。对于非凸问题，KKT 条件仅是局部最优的必要而非充分条件，这意味着满足条件的点不一定是最小值点。此题将指导你使用二阶条件，即拉格朗日函数的Hessian矩阵，来对所有 KKT 点进行分类，从而从驻点中准确识别出真正的局部最小值点 [@problem_id:3140538]。", "problem": "考虑以下带有非凸目标函数和凸可行集的约束优化问题：\n$$\\text{minimize } f(x,y) = x^{2} + y^{4} - 2 y^{2} \\quad \\text{subject to } h(x,y) = x + y = 0.$$\n可行集是由线性等式约束定义的仿射子空间，它是凸的。假设所有函数都可微，并且在所有可行点上都满足线性无关约束规范 (LICQ)。从约束优化的基本定义出发，并且不使用任何现成的分类捷径，按以下步骤进行：\n\n1. 通过引入拉格朗日函数并强制执行平稳性以及原始可行性，推导出等式约束问题的Karush-Kuhn-Tucker (KKT) 必要条件。为给定问题显式写出这些条件，并求解所有KKT点。\n\n2. 为了区分KKT点是局部最小值点还是其他类型的驻点，从二阶必要条件出发：对于一个局部最小值点，拉格朗日函数在每个可行方向上的二阶方向导数必须是非负的。将注意力限制在每个KKT点约束的切空间上，刻画可行方向，并沿着这些方向评估拉格朗日函数Hessian矩阵的二次型，从而将每个KKT点分类为局部最小值点、局部最大值点或都不是。\n\n3. 报告在所有局部最小值点中达到的最低目标值。以一个精确的实数形式给出最终答案，不带单位。如果需要近似值，题目会说明有效数字，但这里要求的是精确值。\n\n你的最终答案必须是一个实数。", "solution": "该问题要求解在一个约束优化问题的所有局部最小值点中达到的最低目标值。根据问题描述，解题过程分三个阶段进行：首先，我们找到所有满足Karush-Kuhn-Tucker (KKT) 必要条件的点；其次，我们使用二阶条件对这些点进行分类；第三，我们计算局部最小值点的目标函数值以找到最低值。\n\n该优化问题为：\n$$\n\\begin{aligned}\n\\text{minimize }  f(x,y) = x^{2} + y^{4} - 2 y^{2} \\\\\n\\text{subject to }  h(x,y) = x + y = 0\n\\end{aligned}\n$$\n\n**1. KKT条件的推导与求解**\n\n对于形如 $\\min f(x)$ subject to $h(x) = 0$ 的等式约束优化问题，其中函数可微且满足像LICQ这样的约束规范，一个点 $x^*$ 是局部最小值点的必要条件是存在一个拉格朗日乘子 $\\lambda^*$，使得KKT条件得到满足。这些条件是平稳性和原始可行性。\n\n首先，我们定义拉格朗日函数 $\\mathcal{L}(x, y, \\lambda)$:\n$$\n\\mathcal{L}(x, y, \\lambda) = f(x,y) + \\lambda h(x,y) = (x^{2} + y^{4} - 2 y^{2}) + \\lambda(x + y)\n$$\n\nKKT条件是：\n- **平稳性 (Stationarity):** 拉格朗日函数相对于决策变量 $(x, y)$ 的梯度必须为零向量。\n$$\n\\nabla_{x,y} \\mathcal{L}(x, y, \\lambda) = 0\n$$\n- **原始可行性 (Primal Feasibility):** 点 $(x, y)$ 必须满足原始约束。\n$$\nh(x,y) = 0\n$$\n\n让我们为给定问题显式写出这些条件。\n\n拉格朗日函数的偏导数为：\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial x} = 2x + \\lambda = 0 \\quad (1)\n$$\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial y} = 4y^{3} - 4y + \\lambda = 0 \\quad (2)\n$$\n\n原始可行性条件为：\n$$\nx + y = 0 \\quad (3)\n$$\n\n我们现在求解这个由三个方程组成的方程组，以求出 $x$、$y$ 和 $\\lambda$。\n从(3)式，我们有 $x = -y$。\n将 $x = -y$ 代入(1)式，得到 $\\lambda = -2x = -2(-y) = 2y$。\n现在，我们将这个关于 $\\lambda$ 的表达式代入(2)式：\n$$\n4y^{3} - 4y + (2y) = 0\n$$\n$$\n4y^{3} - 2y = 0\n$$\n$$\n2y(2y^{2} - 1) = 0\n$$\n这个方程给出了三个可能的 $y$ 的解：\n- $y = 0$\n- $2y^{2} - 1 = 0 \\implies y^{2} = \\frac{1}{2} \\implies y = \\pm \\frac{1}{\\sqrt{2}} = \\pm \\frac{\\sqrt{2}}{2}$\n\n对于每个 $y$ 值，我们找到相应的 $x$ 和 $\\lambda$ 来确定KKT点 $(x, y, \\lambda)$。\n\n- **情况 1: $y_1 = 0$**\n  - $x_1 = -y_1 = 0$\n  - $\\lambda_1 = 2y_1 = 0$\n  - 第一个KKT点是 $(x_1, y_1) = (0, 0)$，对应的乘子为 $\\lambda_1 = 0$。\n\n- **情况 2: $y_2 = \\frac{\\sqrt{2}}{2}$**\n  - $x_2 = -y_2 = -\\frac{\\sqrt{2}}{2}$\n  - $\\lambda_2 = 2y_2 = 2\\left(\\frac{\\sqrt{2}}{2}\\right) = \\sqrt{2}$\n  - 第二个KKT点是 $(x_2, y_2) = (-\\frac{\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2})$，对应的乘子为 $\\lambda_2 = \\sqrt{2}$。\n\n- **情况 3: $y_3 = -\\frac{\\sqrt{2}}{2}$**\n  - $x_3 = -y_3 = \\frac{\\sqrt{2}}{2}$\n  - $\\lambda_3 = 2y_3 = 2\\left(-\\frac{\\sqrt{2}}{2}\\right) = -\\sqrt{2}$\n  - 第三个KKT点是 $(x_3, y_3) = (\\frac{\\sqrt{2}}{2}, -\\frac{\\sqrt{2}}{2})$，对应的乘子为 $\\lambda_3 = -\\sqrt{2}$。\n\n我们找到了三个KKT点： $(0, 0)$, $(-\\frac{\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2})$, 和 $(\\frac{\\sqrt{2}}{2}, -\\frac{\\sqrt{2}}{2})$。\n\n**2. 二阶分析**\n\n为了对这些驻点进行分类，我们使用二阶必要条件和充分条件。对于一个KKT点 $(x^*, \\lambda^*)$ 是局部最小值点，拉格朗日函数关于决策变量的Hessian矩阵 $\\nabla^2_{x,y} \\mathcal{L}(x^*, \\lambda^*)$ 在约束于 $x^*$ 点的切空间上必须是半正定的。也就是说，对于所有可行方向 $d$，都有 $d^T \\nabla^2_{x,y} \\mathcal{L}(x^*, \\lambda^*) d \\geq 0$。如果对于所有非零可行方向，该不等式是严格的 ($0$)，那么该点是一个严格局部最小值点。\n\n首先，我们找到切空间。约束是 $h(x,y) = x+y=0$。约束的梯度是 $\\nabla h(x,y) = \\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix}$。在任何可行点的切空间是所有向量 $d = \\begin{pmatrix} d_x \\\\ d_y \\end{pmatrix}$ 的集合，满足 $\\nabla h(x,y)^T d = 0$。\n$$\n\\begin{pmatrix} 1  1 \\end{pmatrix} \\begin{pmatrix} d_x \\\\ d_y \\end{pmatrix} = d_x + d_y = 0\n$$\n这意味着 $d_y = -d_x$。因此，任何可行方向向量 $d$ 都与 $\\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix}$ 成比例。我们可以选择 $d = \\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix}$ 作为切空间的基向量。\n\n接下来，我们计算拉格朗日函数的Hessian矩阵 $\\nabla^2_{x,y} \\mathcal{L}$：\n$$\n\\frac{\\partial^2 \\mathcal{L}}{\\partial x^2} = 2\n$$\n$$\n\\frac{\\partial^2 \\mathcal{L}}{\\partial y \\partial x} = \\frac{\\partial^2 \\mathcal{L}}{\\partial x \\partial y} = 0\n$$\n$$\n\\frac{\\partial^2 \\mathcal{L}}{\\partial y^2} = 12y^{2} - 4\n$$\nHessian矩阵是：\n$$\n\\nabla^2_{x,y} \\mathcal{L}(x,y,\\lambda) = \\begin{pmatrix} 2  0 \\\\ 0  12y^{2} - 4 \\end{pmatrix}\n$$\n注意，Hessian矩阵只依赖于 $y$。我们现在在每个KKT点上，对 $d = \\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix}$ 计算二次型 $d^T \\nabla^2_{x,y} \\mathcal{L} d$。\n$$\nd^T \\nabla^2_{x,y} \\mathcal{L} d = \\begin{pmatrix} 1  -1 \\end{pmatrix} \\begin{pmatrix} 2  0 \\\\ 0  12y^{2} - 4 \\end{pmatrix} \\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix} = 2(1)^2 + (12y^{2} - 4)(-1)^2 = 2 + 12y^{2} - 4 = 12y^{2} - 2\n$$\n\n现在我们检验每个KKT点：\n- **对于点 $(0, 0)$:**\n  这里 $y=0$。二次型的值是 $12(0)^2 - 2 = -2$。因为 $-2  0$，点 $(0,0)$ 是一个 **局部最大值点**。\n\n- **对于点 $(-\\frac{\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2})$:**\n  这里 $y = \\frac{\\sqrt{2}}{2}$，所以 $y^2 = \\frac{1}{2}$。二次型的值是 $12(\\frac{1}{2}) - 2 = 6 - 2 = 4$。因为 $4 > 0$，点 $(-\\frac{\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2})$ 是一个 **严格局部最小值点**。\n\n- **对于点 $(\\frac{\\sqrt{2}}{2}, -\\frac{\\sqrt{2}}{2})$:**\n  这里 $y = -\\frac{\\sqrt{2}}{2}$，所以 $y^2 = \\frac{1}{2}$。二次型的值是 $12(\\frac{1}{2}) - 2 = 6 - 2 = 4$。因为 $4 > 0$，点 $(\\frac{\\sqrt{2}}{2}, -\\frac{\\sqrt{2}}{2})$ 也是一个 **严格局部最小值点**。\n\n**3. 最低目标值**\n\n问题要求在所有局部最小值点中达到的最低目标值。我们有两个这样的点。我们在每个点上评估目标函数 $f(x,y) = x^2 + y^4 - 2y^2$。\n\n- 在点 $(x,y) = (-\\frac{\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2})$:\n  $x^2 = (-\\frac{\\sqrt{2}}{2})^2 = \\frac{1}{2}$\n  $y^2 = (\\frac{\\sqrt{2}}{2})^2 = \\frac{1}{2}$\n  $y^4 = (\\frac{1}{2})^2 = \\frac{1}{4}$\n  $f(-\\frac{\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2}) = \\frac{1}{2} + \\frac{1}{4} - 2\\left(\\frac{1}{2}\\right) = \\frac{1}{2} + \\frac{1}{4} - 1 = \\frac{3}{4} - 1 = -\\frac{1}{4}$。\n\n- 在点 $(x,y) = (\\frac{\\sqrt{2}}{2}, -\\frac{\\sqrt{2}}{2})$:\n  $x^2 = (\\frac{\\sqrt{2}}{2})^2 = \\frac{1}{2}$\n  $y^2 = (-\\frac{\\sqrt{2}}{2})^2 = \\frac{1}{2}$\n  $y^4 = (\\frac{1}{2})^2 = \\frac{1}{4}$\n  $f(\\frac{\\sqrt{2}}{2}, -\\frac{\\sqrt{2}}{2}) = \\frac{1}{2} + \\frac{1}{4} - 2\\left(\\frac{1}{2}\\right) = \\frac{1}{2} + \\frac{1}{4} - 1 = \\frac{3}{4} - 1 = -\\frac{1}{4}$。\n\n两个局部最小值点都得到相同的目标值 $-\\frac{1}{4}$。因此，在所有局部最小值点中达到的最低目标值是 $-\\frac{1}{4}$。\n由于可行集 $x+y=0$ 是无界的（$y \\to \\pm \\infty$），我们必须考虑函数在该集合上是否有下界。将 $x=-y$ 代入 $f(x,y)$ 得到 $g(y) = y^4 - y^2$。当 $y \\to \\pm \\infty$ 时，$g(y) \\to +\\infty$。所以函数有下界，我们找到的值 $-\\frac{1}{4}$ 是全局最小值。", "answer": "$$\n\\boxed{-\\frac{1}{4}}\n$$", "id": "3140538"}]}