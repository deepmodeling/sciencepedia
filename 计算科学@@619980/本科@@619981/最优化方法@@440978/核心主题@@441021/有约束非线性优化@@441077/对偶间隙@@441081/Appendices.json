{"hands_on_practices": [{"introduction": "我们将从一个基础练习开始，这个练习将引导你完成拉格朗日对偶的整个过程。通过构建拉格朗日函数、推导对偶函数，并分别求解原始和对偶问题，你将亲手计算出对偶间隙。[@problem_id:3123598] 这个练习还巧妙地引入了Slater条件的细微之处，展示了即使在最严格的Slater条件不成立的情况下，强对偶性依然可能成立的场景。", "problem": "考虑一个凸优化问题，其变量为 $x \\in \\mathbb{R}^4$：\n- 目标函数：最小化 $f(x) = \\sum_{i=1}^{4} x_i \\ln x_i$，并约定 $0 \\ln 0 := 0$。\n- 约束条件：$x \\ge 0$，$\\mathbf{e}^{\\top} x = 1$，以及等式约束 $x_3 = 0$，$x_4 = 0$。\n\n你的任务是：\n- 使用拉格朗日对偶性的基本原理，判断此问题是否满足严格可行性（即不等式约束的斯莱特条件），并根据定义说明理由。\n- 构造该问题的拉格朗日函数，并通过显式计算关于 $x$ 的下确界来推导对偶函数。\n- 最大化对偶函数以求得对偶最优值。\n- 通过分析可行集上的目标函数来计算原始最优值。\n- 基于以上结果，计算对偶间隙 $p^{\\star} - d^{\\star}$。\n\n提供最终答案，形式为一个精确的实数。无需四舍五入，不包含单位。", "solution": "该问题陈述经核实是科学上成立、适定且客观的。这是一个标准的凸优化问题，给定的数据和约束是自洽且一致的。\n\n该优化问题可以表述为：\n$$\n\\begin{aligned}\n\\text{minimize} \\quad  f(x) = \\sum_{i=1}^{4} x_i \\ln x_i \\\\\n\\text{subject to} \\quad  g_i(x) = -x_i \\le 0, \\quad i \\in \\{1, 2, 3, 4\\} \\\\\n h_1(x) = \\sum_{i=1}^{4} x_i - 1 = 0 \\\\\n h_2(x) = x_3 = 0 \\\\\n h_3(x) = x_4 = 0\n\\end{aligned}\n$$\n目标函数的定义域为 $\\text{dom}(f) = \\{x \\in \\mathbb{R}^4 \\mid x_i \\ge 0 \\text{ for } i=1,2,3,4\\}$。其中使用了约定 $0 \\ln 0 := 0$。\n\n**第一部分：严格可行性（斯莱特条件）**\n\n根据定义，严格可行性要求存在一个可行点 $\\tilde{x}$，该点能严格满足所有不等式约束。对于本问题，不等式约束为 $g_i(x) = -x_i \\le 0$，其中 $i \\in \\{1, 2, 3, 4\\}$。因此，一个严格可行点 $\\tilde{x}$ 必须满足：\n1. $\\tilde{x}$ 是可行的，即满足所有等式和不等式约束。\n2. 对所有 $i \\in \\{1, 2, 3, 4\\}$，都有 $g_i(\\tilde{x})  0$。\n\n第二个条件意味着 $-\\tilde{x}_i  0$，这等价于对所有 $i \\in \\{1, 2, 3, 4\\}$ 都有 $\\tilde{x}_i  0$。\n然而，可行性条件（第一个条件）要求 $\\tilde{x}$ 满足等式约束，其中包括 $h_2(\\tilde{x}) = \\tilde{x}_3 = 0$ 和 $h_3(\\tilde{x}) = \\tilde{x}_4 = 0$。\n\n我们得到了一个矛盾。严格可行性要求 $\\tilde{x}_3  0$ 且 $\\tilde{x}_4  0$，而可行性要求 $\\tilde{x}_3 = 0$ 且 $\\tilde{x}_4 = 0$。没有任何点能同时满足这两个条件。因此，该问题不存在严格可行点，严格可行性（在这个意义上）不成立。\n\n值得注意的是，一个较弱的条件，通常称为精化的斯莱特条件，对于凸问题的强对偶性是充分的。该条件只要求非仿射不等式约束对于某个可行点是严格满足的。由于本问题中所有不等式约束都是仿射的，该条件简化为要求可行集非空。点 $x = (1/2, 1/2, 0, 0)^{\\top}$ 是可行的，因此精化的斯莱特条件成立，我们预期对偶间隙为零。\n\n**第二部分：拉格朗日函数与对偶函数**\n\n为了构造拉格朗日函数，我们可以将非负性约束 $x_i \\ge 0$ 纳入最小化的定义域中，而不是将它们作为带有相应拉格朗日乘子的显式约束来处理。我们为三个等式约束引入拉格朗日乘子 $\\nu_1, \\nu_3, \\nu_4 \\in \\mathbb{R}$。拉格朗日函数 $L(x, \\nu)$ 是：\n$$\nL(x, \\nu) = f(x) + \\nu_1 h_1(x) + \\nu_3 h_2(x) + \\nu_4 h_3(x)\n$$\n$$\nL(x, \\nu) = \\sum_{i=1}^{4} x_i \\ln x_i + \\nu_1 \\left(\\sum_{i=1}^{4} x_i - 1\\right) + \\nu_3 x_3 + \\nu_4 x_4\n$$\n对偶函数 $g(\\nu)$ 是拉格朗日函数在其定义域 $x \\in \\text{dom}(f)$ 上的下确界，其中定义域为 $\\{x \\in \\mathbb{R}^4 \\mid x_i \\ge 0\\}$。\n$$\ng(\\nu) = \\inf_{x \\ge 0} L(x, \\nu)\n$$\n我们可以按 $x_i$ 对拉格朗日函数中的项进行重新分组：\n$$\nL(x, \\nu) = (x_1 \\ln x_1 + \\nu_1 x_1) + (x_2 \\ln x_2 + \\nu_1 x_2) + (x_3 \\ln x_3 + (\\nu_1+\\nu_3)x_3) + (x_4 \\ln x_4 + (\\nu_1+\\nu_4)x_4) - \\nu_1\n$$\n最小化问题分解为关于 $x_1, x_2, x_3, x_4$ 的四个独立问题。我们需要计算对于常数 $c$ 的 $\\inf_{t \\ge 0} (t \\ln t + c t)$。令 $\\phi(t) = t \\ln t + c t$。其导数为 $\\phi'(t) = \\ln t + 1 + c$。令 $\\phi'(t) = 0$ 得到 $t_{min} = \\exp(-1-c)$。由于当 $t  0$ 时 $\\phi''(t) = 1/t  0$，因此这是一个最小值。\n最小值为 $\\phi(t_{min}) = \\exp(-1-c) \\ln(\\exp(-1-c)) + c \\exp(-1-c) = \\exp(-1-c)(-1-c) + c \\exp(-1-c) = -\\exp(-1-c)$。\n\n将此结果应用于拉格朗日函数中的每一项：\n- 对于 $x_1$：$c_1 = \\nu_1$，下确界为 $-\\exp(-1-\\nu_1)$。\n- 对于 $x_2$：$c_2 = \\nu_1$，下确界为 $-\\exp(-1-\\nu_1)$。\n- 对于 $x_3$：$c_3 = \\nu_1 + \\nu_3$，下确界为 $-\\exp(-1-\\nu_1-\\nu_3)$。\n- 对于 $x_4$：$c_4 = \\nu_1 + \\nu_4$，下确界为 $-\\exp(-1-\\nu_1-\\nu_4)$。\n\n对偶函数是这些下确界之和减去 $\\nu_1$：\n$$\ng(\\nu_1, \\nu_3, \\nu_4) = -2\\exp(-1-\\nu_1) - \\exp(-1-\\nu_1-\\nu_3) - \\exp(-1-\\nu_1-\\nu_4) - \\nu_1\n$$\n\n**第三部分：最大化对偶函数**\n\n对偶问题是在 $\\nu_1, \\nu_3, \\nu_4$ 上最大化 $g(\\nu)$。我们对对偶变量求偏导数：\n$$\n\\frac{\\partial g}{\\partial \\nu_3} = \\exp(-1-\\nu_1-\\nu_3)\n$$\n$$\n\\frac{\\partial g}{\\partial \\nu_4} = \\exp(-1-\\nu_1-\\nu_4)\n$$\n由于这些偏导数总是正的，$g(\\nu)$ 是关于 $\\nu_3$ 和 $\\nu_4$ 的单调递增函数。为了最大化 $g$，我们必须让 $\\nu_3 \\to \\infty$ 和 $\\nu_4 \\to \\infty$。在此极限下，包含 $\\nu_3$ 和 $\\nu_4$ 的指数项趋近于 $0$。\n需要关于 $\\nu_1$ 最大化的对偶函数变为：\n$$\ng_{lim}(\\nu_1) = \\lim_{\\nu_3, \\nu_4 \\to \\infty} g(\\nu_1, \\nu_3, \\nu_4) = -2\\exp(-1-\\nu_1) - \\nu_1\n$$\n为了找到最大值，我们将关于 $\\nu_1$ 的导数设为零：\n$$\n\\frac{d g_{lim}}{d \\nu_1} = -2\\exp(-1-\\nu_1)(-1) - 1 = 2\\exp(-1-\\nu_1) - 1 = 0\n$$\n这得到 $\\exp(-1-\\nu_1) = 1/2$。取自然对数得到 $-1-\\nu_1 = \\ln(1/2) = -\\ln 2$，所以最优的 $\\nu_1^{\\star} = \\ln 2 - 1$。\n对偶最优值 $d^{\\star}$ 通过将 $\\nu_1^{\\star}$ 代回 $g_{lim}(\\nu_1)$ 得到：\n$$\nd^{\\star} = -2\\exp(-1-(\\ln 2 - 1)) - (\\ln 2 - 1) = -2\\exp(-\\ln 2) - \\ln 2 + 1 = -2\\left(\\frac{1}{2}\\right) - \\ln 2 + 1 = -1 - \\ln 2 + 1 = -\\ln 2\n$$\n\n**第四部分：原始最优值**\n\n我们可以通过将等式约束代入目标函数来直接求解原始问题。约束条件 $x_3 = 0$ 和 $x_4 = 0$，以及 $\\sum x_i = 1$，将问题简化为：\n$$\n\\begin{aligned}\n\\text{minimize} \\quad  x_1 \\ln x_1 + x_2 \\ln x_2 \\\\\n\\text{subject to} \\quad  x_1 + x_2 = 1 \\\\\n x_1 \\ge 0, x_2 \\ge 0\n\\end{aligned}\n$$\n（$x_3, x_4$ 的项为 $0 \\ln 0 = 0$）。\n代入 $x_2 = 1 - x_1$，得到一个关于 $x_1 \\in [0, 1]$ 的单变量函数 $\\phi(x_1)$：\n$$\n\\phi(x_1) = x_1 \\ln x_1 + (1-x_1) \\ln(1-x_1)\n$$\n为了找到最小值，我们对 $x_1$ 求导并将导数设为零：\n$$\n\\phi'(x_1) = (\\ln x_1 + 1) + (-\\ln(1-x_1) - 1) = \\ln x_1 - \\ln(1-x_1) = 0\n$$\n这得到 $\\ln x_1 = \\ln(1-x_1)$，意味着 $x_1 = 1-x_1$，所以 $2x_1 = 1$ 且 $x_1^{\\star} = 1/2$。\n那么 $x_2^{\\star} = 1 - 1/2 = 1/2$。二阶导数 $\\phi''(x_1) = 1/x_1 + 1/(1-x_1)$ 在 $(0, 1)$ 上为正，确认了这是一个最小值。\n原始最优点是 $x^{\\star} = (1/2, 1/2, 0, 0)^{\\top}$。\n原始最优值 $p^{\\star}$ 是目标函数在该点的值：\n$$\np^{\\star} = f(x^{\\star}) = \\frac{1}{2} \\ln\\left(\\frac{1}{2}\\right) + \\frac{1}{2} \\ln\\left(\\frac{1}{2}\\right) + 0 + 0 = 2 \\cdot \\left(\\frac{1}{2} \\ln\\left(\\frac{1}{2}\\right)\\right) = \\ln\\left(\\frac{1}{2}\\right) = -\\ln 2\n$$\n\n**第五部分：对偶间隙**\n\n对偶间隙定义为原始最优值与对偶最优值之差，即 $p^{\\star} - d^{\\star}$。\n使用我们计算出的值：\n$$\np^{\\star} - d^{\\star} = (-\\ln 2) - (-\\ln 2) = 0\n$$\n对偶间隙为 $0$。", "answer": "$$\n\\boxed{0}\n$$", "id": "3123598"}, {"introduction": "在掌握了基本计算之后，让我们来探索一个更具概念性的场景。这个练习将揭示一个非零对偶间隙是如何因可行集非闭合而产生的。[@problem_id:3123554] 通过研究向一个*开*单位球的投影问题，我们会发现原始问题的下确界无法在可行域内达到，从而与对偶问题之间产生了一个严格的间隙，这清晰地说明了可行集闭合是强对偶性的一个关键前提。", "problem": "考虑$\\mathbb{R}^{2}$中的欧几里得投影问题，其目标是最小化到给定点的平方距离。设该点为 $c = (2, 0)$，可行集为开单位球 $S_{\\mathrm{open}} = \\{x \\in \\mathbb{R}^{2} : \\|x\\|_{2}  1\\}$，该集合是凸集但不是闭集。该投影问题写作在 $x \\in S_{\\mathrm{open}}$上最小化函数 $x \\mapsto \\frac{1}{2}\\|x - c\\|_{2}^{2}$。使用以下基本概念：凸集和闭包的定义、集合的指示函数、Fenchel共轭以及集合的支撑函数。从这些定义出发（不调用任何现成的对偶定理），执行以下操作：\n\n1. 将问题表述为最小化一个凸函数和一个指示函数之和，并使用Fenchel共轭的定义推导出相应的Fenchel对偶问题。明确陈述对偶目标函数，并使用$\\mathbb{R}^{2}$中的一阶最优性条件来刻画其最优点。\n2. 确定在$S_{\\mathrm{open}}$上投影的原始问题下确界，并解释是否存在最小值点。使用开单位球的几何性质和平方距离的性质来证明你的结论。\n3. 考虑一个特定的可行原始点 $x_{\\varepsilon} = (1 - \\varepsilon, 0)$，其中 $\\varepsilon = 0.2$，并使用你找到的对偶最优点来计算点态对偶间隙，该间隙定义为在$x_{\\varepsilon}$处的原始目标值减去在对偶最优点处的对偶目标值。\n4. 现在将可行集替换为闭单位球 $S_{\\mathrm{closed}} = \\{x \\in \\mathbb{R}^{2} : \\|x\\|_{2} \\leq 1\\}$，并重复该推理过程，解释为什么强对偶性成立，以及在原始-对偶最优点处的对偶间隙为零。这部分你不需要重新计算任何数值；重点关注当集合变为闭集时推理的变化。\n\n报告在第3部分中获得的数值。将你的答案四舍五入到四位有效数字。", "solution": "用户提供的问题是凸优化中的一个有效练习，特别涉及Fenchel对偶和对偶间隙。我们将进行完整解答。\n\n原始问题是在可行集上最小化函数 $f(x) = \\frac{1}{2}\\|x - c\\|_{2}^{2}$，其中 $c = (2, 0) \\in \\mathbb{R}^2$。\n\n**1. 针对开单位球的Fenchel对偶公式**\n\n可行集是开单位球 $S_{\\mathrm{open}} = \\{x \\in \\mathbb{R}^{2} : \\|x\\|_{2}  1\\}$。该优化问题可以通过使用集合 $S_{\\mathrm{open}}$ 的指示函数表述为一个无约束问题，该指示函数定义为：如果 $x \\in S_{\\mathrm{open}}$，则 $\\mathbb{I}_{S_{\\mathrm{open}}}(x) = 0$；否则 $\\mathbb{I}_{S_{\\mathrm{open}}}(x) = +\\infty$。\n\n原始问题是：\n$$ \\min_{x \\in \\mathbb{R}^2} \\left( \\frac{1}{2}\\|x - c\\|_{2}^{2} + \\mathbb{I}_{S_{\\mathrm{open}}}(x) \\right) $$\n其形式为 $\\min_x (F(x) + G(x))$，其中 $F(x) = \\frac{1}{2}\\|x - c\\|_{2}^{2}$ 且 $G(x) = \\mathbb{I}_{S_{\\mathrm{open}}}(x)$。Fenchel对偶问题由 $\\max_y (-F^*(y) - G^*(-y))$ 给出，其中 $F^*$ 和 $G^*$ 分别是 $F$ 和 $G$ 的Fenchel共轭。\n\n首先，我们计算 $F(x)$ 的Fenchel共轭：\n$$ F^*(y) = \\sup_{x \\in \\mathbb{R}^2} (\\langle y, x \\rangle - F(x)) = \\sup_{x \\in \\mathbb{R}^2} \\left( y^T x - \\frac{1}{2}(x - c)^T(x - c) \\right) $$\n上确界内部的项是关于 $x$ 的严格凹二次函数。其最大值可以通过将关于 $x$ 的梯度设为零来找到：\n$$ \\nabla_x \\left( y^T x - \\frac{1}{2}(x^T x - 2c^T x + c^T c) \\right) = y - (x - c) = 0 $$\n这给出了使表达式最大化的 $x = y + c$。将其代入表达式中：\n$$ F^*(y) = y^T(y+c) - \\frac{1}{2}((y+c)-c)^T((y+c)-c) = y^T y + y^T c - \\frac{1}{2}y^T y = \\frac{1}{2}\\|y\\|_{2}^{2} + y^T c $$\n接下来，我们计算 $G(x) = \\mathbb{I}_{S_{\\mathrm{open}}}(x)$ 的Fenchel共轭。集合的指示函数的共轭是该集合的支撑函数，$\\sigma_{S_{\\mathrm{open}}}(y)$。\n$$ G^*(y) = \\sigma_{S_{\\mathrm{open}}}(y) = \\sup_{x \\in S_{\\mathrm{open}}} \\langle y, x \\rangle = \\sup_{\\|x\\|_2  1} y^T x $$\n根据柯西-施瓦茨不等式，$y^T x \\le \\|y\\|_2 \\|x\\|_2$。因为 $\\|x\\|_2  1$，我们有 $y^T x  \\|y\\|_2$。上确界是 $\\|y\\|_2$，可以通过取 $x$ 与 $y$ 方向相同且范数趋近于 $1$ 来逼近。一个凸集的支撑函数等于其闭包的支撑函数。因此，$\\sigma_{S_{\\mathrm{open}}}(y) = \\sigma_{\\overline{S_{\\mathrm{open}}}}(y) = \\max_{\\|x\\|_2 \\le 1} y^T x = \\|y\\|_2$。\n所以，$G^*(y) = \\|y\\|_2$。\n\n对偶问题是最大化对偶目标函数 $D(y)$：\n$$ D(y) = -F^*(y) - G^*(-y) = -\\left(\\frac{1}{2}\\|y\\|_{2}^{2} + y^T c\\right) - \\|-y\\|_2 = -\\left(\\frac{1}{2}\\|y\\|_{2}^{2} + y^T c + \\|y\\|_2\\right) $$\n最大化 $D(y)$ 等价于最小化其相反数，我们称之为 $D_{obj}(y)$：\n$$ \\min_{y \\in \\mathbb{R}^2} D_{obj}(y) = \\min_{y \\in \\mathbb{R}^2} \\left(\\frac{1}{2}\\|y\\|_{2}^{2} + y^T c + \\|y\\|_2\\right) $$\n该目标函数是凸的，并且在 $y \\ne 0$ 时是可微的。我们通过将其梯度设为零来找到最优点。对于 $c=(2,0)^T$：\n$$ \\nabla D_{obj}(y) = y + c + \\frac{y}{\\|y\\|_2} = y\\left(1 + \\frac{1}{\\|y\\|_2}\\right) + c = 0 $$\n这意味着 $y$ 必须与 $c$ 共线且方向相反，因此对于某个标量 $k0$，$y = -kc$。\n$$ -kc\\left(1 + \\frac{1}{\\|-kc\\|_2}\\right) + c = 0 \\implies c\\left(1 - k\\left(1 + \\frac{1}{k\\|c\\|_2}\\right)\\right) = 0 $$\n由于 $c \\ne 0$，我们有 $1 - k(1 + \\frac{1}{k\\|c\\|_2}) = 0 \\implies 1 = k + \\frac{1}{\\|c\\|_2}$。\n给定 $c=(2,0)$，我们有 $\\|c\\|_2 = 2$。因此，$k = 1 - \\frac{1}{\\|c\\|_2} = 1 - \\frac{1}{2} = \\frac{1}{2}$。\n对偶最优点是 $y^* = -kc = -\\frac{1}{2}(2, 0) = (-1, 0)$。\n\n**2. 原始问题下确界和最小值点的存在性**\n\n原始问题是找到开单位球 $S_{\\mathrm{open}}$ 中离 $c=(2,0)$ 最近的点。几何上，闭单位球 $\\overline{S_{\\mathrm{open}}} = \\{x: \\|x\\|_2 \\le 1\\}$ 中离 $c$ 最近的点是 $c$ 在该球上的投影，即 $x_{proj} = \\frac{c}{\\|c\\|_2} = \\frac{(2,0)}{2} = (1,0)$。最小平方距离将是 $\\|(1,0) - (2,0)\\|_2^2 = 1$，最小目标值将是 $\\frac{1}{2}(1) = \\frac{1}{2}$。\n\n对于开单位球 $S_{\\mathrm{open}}$ 上的问题，任何可行点 $x$ 都必须满足 $\\|x\\|_2  1$。点 $(1,0)$ 不在 $S_{\\mathrm{open}}$ 中。然而，我们可以构造一个在 $S_{\\mathrm{open}}$ 内并收敛到 $(1,0)$ 的点序列，例如 $x_n = (1 - \\frac{1}{n}, 0)$，其中 $n \\in \\mathbb{Z}, n1$。对于这个序列，目标值为：\n$$ f(x_n) = \\frac{1}{2}\\|(1-\\frac{1}{n}, 0) - (2,0)\\|_2^2 = \\frac{1}{2}\\|(-1-\\frac{1}{n}, 0)\\|_2^2 = \\frac{1}{2}\\left(1+\\frac{1}{n}\\right)^2 $$\n当 $n \\to \\infty$ 时，$x_n \\to (1,0)$ 且 $f(x_n) \\to \\frac{1}{2}$。因此，在 $S_{\\mathrm{open}}$ 上的目标函数的下确界是 $p^* = \\frac{1}{2}$。\n\n然而，在 $S_{\\mathrm{open}}$ 中不存在最小值点。如果存在最小值点 $x^*$，它必须满足 $f(x^*) = \\frac{1}{2}$，这意味着 $\\frac{1}{2}\\|x^*-c\\|_2^2 = \\frac{1}{2}$，即 $\\|x^*-c\\|_2 = 1$。唯一满足此条件且 $\\|x^*\\|_2 \\le 1$ 的点是 $x^*=(1,0)$。由于 $(1,0) \\notin S_{\\mathrm{open}}$，因此在可行集中无法达到下确界。这是在非闭集上最小化连续函数的结果。\n\n**3. 点态对偶间隙计算**\n\n给定点 $x_{\\varepsilon} = (1 - \\varepsilon, 0)$，其中 $\\varepsilon = 0.2$，所以 $x_{0.2} = (0.8, 0)$。这个点是可行的，因为 $\\|x_{0.2}\\|_2 = 0.8  1$。\n\n在该点处的原始目标值为：\n$$ f(x_{0.2}) = \\frac{1}{2}\\|(0.8, 0) - (2, 0)\\|_2^2 = \\frac{1}{2}\\|(-1.2, 0)\\|_2^2 = \\frac{1}{2}(-1.2)^2 = \\frac{1}{2}(1.44) = 0.72 $$\n在对偶最优点 $y^* = (-1, 0)$ 处的对偶目标值是对偶最优值 $d^*$。\n$$ d^* = D(y^*) = -\\left(\\frac{1}{2}\\|y^*\\|_{2}^{2} + (y^*)^T c + \\|y^*\\|_2\\right) = -\\left(\\frac{1}{2}\\|(-1,0)\\|_2^2 + \\langle (-1,0), (2,0) \\rangle + \\|(-1,0)\\|_2\\right) $$\n$$ d^* = -\\left(\\frac{1}{2}(1)^2 + (-2) + 1\\right) = -\\left(\\frac{1}{2} - 1\\right) = -(-\\frac{1}{2}) = 0.5 $$\n点态对偶间隙是在特定点 $x_{0.2}$ 处的原始目标值与最优对偶目标值 $d^*$ 之差：\n$$ \\text{间隙} = f(x_{0.2}) - d^* = 0.72 - 0.5 = 0.22 $$\n保留四位有效数字，结果是 $0.2200$。\n\n**4. 针对闭单位球的分析**\n\n当可行集变为闭单位球 $S_{\\mathrm{closed}} = \\{x \\in \\mathbb{R}^{2} : \\|x\\|_{2} \\leq 1\\}$ 时，问题变为：\n$$ \\min_{x \\in S_{\\mathrm{closed}}} \\frac{1}{2}\\|x - c\\|_{2}^{2} $$\n集合 $S_{\\mathrm{closed}}$ 在 $\\mathbb{R}^2$ 中是闭合且有界的，因此是紧集。目标函数 $f(x)$ 是连续的。根据魏尔斯特拉斯极值定理，紧集上的连续函数必能取到其最小值。因此，存在一个原始最小值点 $x^*$。如前所述，这个最小值点是投影 $x^*=(1,0)$，原始最优值为 $p^* = f(x^*) = \\frac{1}{2}$。\n\n对偶问题没有改变，因为一个凸集的支撑函数与其闭包的支撑函数相同，即 $\\sigma_{S_{\\mathrm{closed}}}(y) = \\sigma_{S_{\\mathrm{open}}}(y) = \\|y\\|_2$。因此，对偶最优值仍然是 $d^* = \\frac{1}{2}$。\n\n在这种情况下，原始最优值和对偶最优值相等，$p^* = d^* = \\frac{1}{2}$，所以强对偶性成立。定义为 $p^* - d^*$ 的对偶间隙为 $0$。对于这个凸问题，Slater约束品性保证了强对偶性。约束是 $g(x) = \\|x\\|_2^2 - 1 \\le 0$。存在一个点 $x=0$ 是严格可行的，即 $g(0) = -1  0$。这确保了强对偶性成立。零对偶间隙是一个直接的结果。在原始-对偶最优对处，间隙为零，这与第3部分中为非最优原始点计算的点态间隙不同。关键区别在于可行集的闭合性，这保证了原始最小值点的存在，在该点处可以达到下确界。", "answer": "$$\\boxed{0.2200}$$", "id": "3123554"}, {"introduction": "接下来，我们将深入探讨锥优化中的一个更高级的话题。这个半定规划（Semidefinite Programming, SDP）问题构建了一个Slater条件失效的特例——不存在严格可行的解。[@problem_id:3123532] 然而，通过精确求解原始和对偶问题，你会发现对偶间隙依然为零，这有力地证明了Slater条件是强对偶性的一个*充分*而非*必要*条件。", "problem": "考虑半定规划 (SDP) 问题，其中半定规划 (SDP) 指在线性泛函上对半正定矩阵锥进行优化：\n$$\\min \\ \\langle C, X \\rangle \\quad \\text{subject to} \\quad \\mathcal{A}(X) = b, \\quad X \\succeq 0,$$\n其中决策变量为 $X \\in \\mathbb{S}^{2}$，即实对称 $2 \\times 2$ 矩阵的集合。数据规定如下：\n- 成本矩阵为 $C = \\begin{pmatrix} 0  1 \\\\ 1  0 \\end{pmatrix}$。\n- 线性约束算子 $\\mathcal{A} : \\mathbb{S}^{2} \\to \\mathbb{R}^{2}$ 定义为\n$$\\mathcal{A}(X) = \\big(\\langle E_{11}, X \\rangle, \\ \\langle E_{22}, X \\rangle\\big),$$\n其中 $E_{ij}$ 表示在 $(i,j)$ 位置元素为 $1$、其余位置元素均为零的 $2 \\times 2$ 矩阵，$\\langle \\cdot,\\cdot \\rangle$ 是迹内积 $\\langle U, V \\rangle = \\operatorname{tr}(UV)$。\n- 右端项为 $b = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$。\n\n任务：\n1. 仅使用半正定矩阵和迹内积的定义，刻画可行集 $\\{X \\succeq 0 : \\mathcal{A}(X) = b\\}$，并证明每个可行矩阵 $X$ 都是秩亏的。由此得出结论，对于此 SDP 问题，Slater 条件（存在严格可行点 $X \\succ 0$）不成立。\n2. 从拉格朗日函数定义 $L(X,y) = \\langle C, X \\rangle + \\langle y, b - \\mathcal{A}(X) \\rangle$ 和伴随算子 $\\mathcal{A}^{*}$ 的定义 $\\langle \\mathcal{A}(X), y \\rangle = \\langle X, \\mathcal{A}^{*}(y) \\rangle$ 出发，推导对偶问题，并将其显式地表示为一个关于 $y \\in \\mathbb{R}^{2}$ 的最大化问题，该问题带有一个对 $2 \\times 2$ 矩阵的单个半正定约束。\n3. 计算原问题最优值和对偶问题最优值，然后计算对偶间隙，定义为 $p^{\\star} - d^{\\star}$，其中 $p^{\\star}$ 是原问题最优值，$d^{\\star}$ 是对偶问题最优值。你的最终答案必须是一个实数。不需要四舍五入。", "solution": "我们从凸优化和矩阵分析的基本原理出发。\n\n首先，我们刻画可行集。约束条件是\n$$\\langle E_{11}, X \\rangle = X_{11} = 0, \\qquad \\langle E_{22}, X \\rangle = X_{22} = 1,$$\n并且锥约束为 $X \\succeq 0$。设 $X = \\begin{pmatrix} X_{11}  X_{12} \\\\ X_{12}  X_{22} \\end{pmatrix}$。等式约束要求 $X_{11} = 0$ 和 $X_{22} = 1$，因此任何可行的 $X$ 都具有以下形式\n$$X = \\begin{pmatrix} 0  X_{12} \\\\ X_{12}  1 \\end{pmatrix}.$$\n对于 $X \\succeq 0$，每个主子式都必须是非负的。特别地，顺序主子式给出：\n- $X_{11} = 0 \\ge 0$ (满足)，\n- 行列式必须满足\n$$\\det(X) = X_{11} X_{22} - X_{12}^{2} = 0 \\cdot 1 - X_{12}^{2} = - X_{12}^{2} \\ge 0,$$\n这迫使 $X_{12} = 0$。因此，唯一的可行矩阵是\n$$X = \\begin{pmatrix} 0  0 \\\\ 0  1 \\end{pmatrix}.$$\n该矩阵的秩为 $1$，并且不是严格正定的。因此，不存在满足约束的严格可行点 $X \\succ 0$，Slater 条件不成立。\n\n接下来，我们从拉格朗日函数推导对偶问题。对于等式约束锥规划，其拉格朗日函数（通过拉格朗日乘子引入等式约束，并通过对偶函数处理锥约束）是\n$$L(X, y) = \\langle C, X \\rangle + \\langle y, b - \\mathcal{A}(X) \\rangle = \\langle C, X \\rangle - \\langle \\mathcal{A}^{*}(y), X \\rangle + \\langle y, b \\rangle,$$\n其中伴随算子 $\\mathcal{A}^{*}$ 定义为\n$$\\langle \\mathcal{A}(X), y \\rangle = \\langle X, \\mathcal{A}^{*}(y) \\rangle \\quad \\text{for all } X \\in \\mathbb{S}^{2}, \\ y \\in \\mathbb{R}^{2}.$$\n对于我们特定的 $\\mathcal{A}$，我们有\n$$\\langle \\mathcal{A}(X), y \\rangle = y_{1} \\langle E_{11}, X \\rangle + y_{2} \\langle E_{22}, X \\rangle = \\langle y_{1} E_{11} + y_{2} E_{22}, X \\rangle,$$\n所以\n$$\\mathcal{A}^{*}(y) = y_{1} E_{11} + y_{2} E_{22}.$$\n因此拉格朗日函数变为\n$$L(X, y) = \\langle C - \\mathcal{A}^{*}(y), X \\rangle + \\langle y, b \\rangle.$$\n对偶函数是\n$$g(y) = \\inf_{X \\succeq 0} L(X, y) = \\inf_{X \\succeq 0} \\left( \\langle C - \\mathcal{A}^{*}(y), X \\rangle + \\langle y, b \\rangle \\right).$$\n为了使关于 $X \\succeq 0$ 的下确界是有限的，我们必须有 $C - \\mathcal{A}^{*}(y) \\succeq 0$；否则，由于可以通过在半正定锥中缩放一个方向使得 $\\langle C - \\mathcal{A}^{*}(y), X \\rangle$ 任意小（负无穷），$g(y) = -\\infty$。当 $C - \\mathcal{A}^{*}(y) \\succeq 0$ 时，线性形式 $\\langle C - \\mathcal{A}^{*}(y), X \\rangle$ 在 $X \\succeq 0$ 上的下确界为 $0$（在 $X = 0$ 处达到），因此\n$$g(y) = \\begin{cases}\n\\langle y, b \\rangle,  \\text{if } C - \\mathcal{A}^{*}(y) \\succeq 0, \\\\\n-\\infty,  \\text{otherwise.}\n\\end{cases}$$\n因此，对偶问题是\n$$\\max_{y \\in \\mathbb{R}^{2}} \\ \\langle y, b \\rangle \\quad \\text{subject to} \\quad C - \\mathcal{A}^{*}(y) \\succeq 0.$$\n当 $C = \\begin{pmatrix} 0  1 \\\\ 1  0 \\end{pmatrix}$ 且 $\\mathcal{A}^{*}(y) = y_{1} E_{11} + y_{2} E_{22}$ 时，对偶约束变为\n$$C - \\mathcal{A}^{*}(y) = \\begin{pmatrix} 0  1 \\\\ 1  0 \\end{pmatrix} - \\begin{pmatrix} y_{1}  0 \\\\ 0  y_{2} \\end{pmatrix} = \\begin{pmatrix} -y_{1}  1 \\\\ 1  -y_{2} \\end{pmatrix} \\succeq 0.$$\n对偶目标函数为 $\\langle y, b \\rangle = y_{1} \\cdot 0 + y_{2} \\cdot 1 = y_{2}$。因此对偶问题是\n$$\\max \\ y_{2} \\quad \\text{subject to} \\quad \\begin{pmatrix} -y_{1}  1 \\\\ 1  -y_{2} \\end{pmatrix} \\succeq 0.$$\n\n我们现在计算原问题和对偶问题的最优值。对于原问题，唯一可行矩阵是\n$$X^{\\star} = \\begin{pmatrix} 0  0 \\\\ 0  1 \\end{pmatrix},$$\n原问题目标值为\n$$p^{\\star} = \\langle C, X^{\\star} \\rangle = \\operatorname{tr}(C X^{\\star}) = \\operatorname{tr}\\left( \\begin{pmatrix} 0  1 \\\\ 1  0 \\end{pmatrix} \\begin{pmatrix} 0  0 \\\\ 0  1 \\end{pmatrix} \\right) = \\operatorname{tr}\\left( \\begin{pmatrix} 0  1 \\\\ 0  0 \\end{pmatrix} \\right) = 0.$$\n\n对于对偶问题，我们分析 $2 \\times 2$ 对称矩阵的半正定性\n$$M(y) = \\begin{pmatrix} -y_{1}  1 \\\\ 1  -y_{2} \\end{pmatrix}.$$\n一个 $2 \\times 2$ 对称矩阵是半正定的，当且仅当其对角线元素均为非负且其行列式为非负。因此我们需要\n$$-y_{1} \\ge 0 \\quad \\text{and} \\quad -y_{2} \\ge 0 \\quad \\text{and} \\quad \\det(M(y)) = (-y_{1})(-y_{2}) - 1 = y_{1} y_{2} - 1 \\ge 0.$$\n等价地，\n$$y_{1} \\le 0, \\quad y_{2} \\le 0, \\quad y_{1} y_{2} \\ge 1.$$\n我们的目标是在这些约束条件下最大化 $y_{2}$。因为 $y_{2} \\le 0$，对偶目标函数的上界为 $0$。乘积约束 $y_{1} y_{2} \\ge 1$ 以及 $y_{1} \\le 0$ 和 $y_{2} \\le 0$ 意味着\n$$y_{2} \\le \\frac{1}{y_{1}},$$\n因为将 $y_{1} y_{2} \\ge 1$ 两边同时除以 $y_{1} \\le 0$ 会使不等号反向。对于任何可行的 $y_{1} \\le 0$，我们有 $1/y_{1}  0$，所以 $y_{2}$ 的最紧上界是 $0$ 和 $1/y_{1}$ 中的最小值，即\n$$y_{2} \\le \\min\\left(0, \\frac{1}{y_{1}}\\right).$$\n当 $y_{1} \\to -\\infty$ 时，$\\frac{1}{y_{1}} \\to 0^{-}$，所以可行 $y_{2}$ 值的上确界是 $0$，但这个值无法达到，因为 $y_{2} = 0$ 会违反 $y_{1} y_{2} \\ge 1$。因此对偶最优值是\n$$d^{\\star} = 0.$$\n\n最后，对偶间隙是\n$$p^{\\star} - d^{\\star} = 0 - 0 = 0.$$\n这个例子展示了在 Slater 条件不成立（不存在严格可行的原问题点）的情况下，仍然有零对偶间隙；对偶问题的上确界无法达到。\n\n因此，所要求的显式对偶间隙是 $0$。", "answer": "$$\\boxed{0}$$", "id": "3123532"}]}