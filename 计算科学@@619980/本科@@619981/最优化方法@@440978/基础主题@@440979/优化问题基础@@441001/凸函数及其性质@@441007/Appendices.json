{"hands_on_practices": [{"introduction": "理解凸函数的一个直观方法是观察其几何形态。一个凸函数的图像总是位于其任意两点连成的割线下方。本练习 [@problem_id:2163733] 将通过分析经典凸函数 $f(x) = 1/x$ 来具体化这个概念，你将计算函数图像与其割线之间的最大垂直距离，从而将抽象的数学定义与可触摸的几何图像联系起来。", "problem": "研究函数 $g(x) = \\frac{1}{x}$ 在 $x > 0$ 时的性质。考虑一条连接函数 $g(x)$ 图像上两个不同点的线段，称为割线。设这两个点为 $(a, g(a))$ 和 $(b, g(b))$，其中常数 $a$ 和 $b$ 是满足 $0  a  b$ 的正实数。对于区间 $[a, b]$ 中的任意 $x$，该割线位于函数 $g(x)$ 图像的上方或其上。设 $h(x)$ 表示在横坐标 $x$ 处，割线与 $g(x)$ 图像之间的垂直距离。求 $h(x)$ 在区间 $[a,b]$ 上的最大可能值。\n\n将你的答案表示为关于参数 $a$ 和 $b$ 的单一封闭形式解析表达式。", "solution": "设 $g(x)=\\frac{1}{x}$ (其中 $x>0$)，并固定满足 $0  a  b$ 的常数 $a$ 和 $b$。连接点 $(a, g(a))$ 和 $(b, g(b))$ 的割线方程为 $L(x)$。\n$L(x)$ 的斜率为 $m = \\frac{g(b) - g(a)}{b - a} = \\frac{1/b - 1/a}{b - a} = \\frac{(a-b)/ab}{b-a} = -\\frac{1}{ab}$。\n使用点斜式方程，割线方程为：\n$L(x) = g(a) + m(x-a) = \\frac{1}{a} - \\frac{1}{ab}(x-a)$。\n割线与函数图像之间的垂直距离为 $h(x) = L(x) - g(x)$，因为函数是凸的，所以割线在图像上方，该距离为非负。\n$h(x) = \\left(\\frac{1}{a} - \\frac{x-a}{ab}\\right) - \\frac{1}{x} = \\frac{1}{a} - \\frac{x}{ab} + \\frac{a}{ab} - \\frac{1}{x} = \\frac{1}{a} + \\frac{1}{b} - \\frac{x}{ab} - \\frac{1}{x}$。\n为了找到 $h(x)$ 在区间 $[a, b]$ 上的最大值，我们对 $h(x)$ 求导并令其为零：\n$h'(x) = \\frac{d}{dx}\\left(\\frac{1}{a} + \\frac{1}{b} - \\frac{x}{ab} - \\frac{1}{x}\\right) = -\\frac{1}{ab} + \\frac{1}{x^2}$。\n令 $h'(x)=0$，我们得到 $x^2 = ab$，因此 $x = \\sqrt{ab}$ (因为 $x>0$）。\n由于 $a  \\sqrt{ab}  b$ (根据算术-几何平均不等式，对于正数 $a \\ne b$，几何平均数在算术平均数和调和平均数之间，也严格在 $a$ 和 $b$ 之间)，这个临界点在区间 $(a,b)$ 内。\n二阶导数为 $h''(x) = -\\frac{2}{x^3}$，在 $x>0$ 时为负，表明 $x=\\sqrt{ab}$ 是一个局部最大值点。由于这是区间内唯一的临界点，它就是最大值点。\n将 $x = \\sqrt{ab}$ 代入 $h(x)$：\n$h(\\sqrt{ab}) = \\frac{1}{a} + \\frac{1}{b} - \\frac{\\sqrt{ab}}{ab} - \\frac{1}{\\sqrt{ab}} = \\frac{1}{a} + \\frac{1}{b} - \\frac{1}{\\sqrt{ab}} - \\frac{1}{\\sqrt{ab}}$\n$h(\\sqrt{ab}) = \\frac{1}{a} - \\frac{2}{\\sqrt{ab}} + \\frac{1}{b} = \\left(\\frac{1}{\\sqrt{a}}\\right)^2 - 2\\frac{1}{\\sqrt{a}}\\frac{1}{\\sqrt{b}} + \\left(\\frac{1}{\\sqrt{b}}\\right)^2 = \\left(\\frac{1}{\\sqrt{a}} - \\frac{1}{\\sqrt{b}}\\right)^2$\n将表达式通分，得到：\n$h(\\sqrt{ab}) = \\left(\\frac{\\sqrt{b} - \\sqrt{a}}{\\sqrt{ab}}\\right)^2 = \\frac{(\\sqrt{b} - \\sqrt{a})^2}{ab}$。\n这就是在区间 $[a,b]$ 上的最大垂直距离。", "answer": "$$\\boxed{\\frac{\\left(\\sqrt{b}-\\sqrt{a}\\right)^{2}}{ab}}$$", "id": "2163733"}, {"introduction": "现实世界中的优化问题往往涉及多个变量。本练习 [@problem_id:2163677] 将我们从单变量函数的世界带入多维空间，并介绍一个强大的分析工具——Hessian矩阵。通过判断一个双粒子系统的势能函数是否为凸函数，你将学会一种系统性的方法，这在物理学和机器学习等领域都有着广泛的应用。", "problem": "在某些物理系统的设计中，势能函数必须是凸函数，以确保系统具有唯一的稳定平衡点。一个简化的、带相互作用的双粒子系统的模型由势能函数 $V(x_1, x_2)$ 描述，其中 $x_1$ 和 $x_2$ 代表两个粒子的位置。该函数在整个平面 $\\mathbb{R}^2$ 上的定义如下：\n$$V(x_1, x_2) = x_1^2 + c x_1 x_2 + x_2^2$$\n在该模型中，$c$ 是一个实值耦合常数，它决定了粒子间相互作用的强度和性质。为了使系统具有唯一的全局能量最低点从而保持稳定，势能函数 $V(x_1, x_2)$ 必须是凸函数。\n\n确定使势能函数 $V(x_1, x_2)$ 成为凸函数的所有耦合常数 $c$ 的取值集合。从以下选项中选择正确的一项。\n\nA. 对所有实数 $c$。\n\nB. 仅当 $c=0$。\n\nC. 区间 $-1 \\le c \\le 1$。\n\nD. 区间 $-2 \\le c \\le 2$。\n\nE. 区间 $c \\ge 0$。", "solution": "一个定义在某个域上的、二阶可导的多元函数是凸函数，当且仅当其 Hessian 矩阵在该域的所有点上都是半正定的。给定的势能函数为 $V(x_1, x_2) = x_1^2 + c x_1 x_2 + x_2^2$。该函数是一个多项式，因此在 $\\mathbb{R}^2$ 上处处无穷可导。\n\n首先，我们通过计算一阶偏导数来求函数 $V(x_1, x_2)$ 的梯度：\n$$ \\frac{\\partial V}{\\partial x_1} = 2x_1 + c x_2 $$\n$$ \\frac{\\partial V}{\\partial x_2} = c x_1 + 2x_2 $$\n\n接下来，我们计算由二阶偏导数组成的 Hessian 矩阵，记为 $H$：\n$$ \\frac{\\partial^2 V}{\\partial x_1^2} = \\frac{\\partial}{\\partial x_1}(2x_1 + c x_2) = 2 $$\n$$ \\frac{\\partial^2 V}{\\partial x_2^2} = \\frac{\\partial}{\\partial x_2}(c x_1 + 2x_2) = 2 $$\n$$ \\frac{\\partial^2 V}{\\partial x_1 \\partial x_2} = \\frac{\\partial}{\\partial x_1}(c x_1 + 2x_2) = c $$\n根据 Clairaut 关于混合偏导数相等的定理，我们也有 $\\frac{\\partial^2 V}{\\partial x_2 \\partial x_1} = c$。\n\n因此，Hessian 矩阵 $H$ 为：\n$$ H = \\begin{pmatrix} \\frac{\\partial^2 V}{\\partial x_1^2}  \\frac{\\partial^2 V}{\\partial x_1 \\partial x_2} \\\\ \\frac{\\partial^2 V}{\\partial x_2 \\partial x_1}  \\frac{\\partial^2 V}{\\partial x_2^2} \\end{pmatrix} = \\begin{pmatrix} 2  c \\\\ c  2 \\end{pmatrix} $$\n注意，Hessian 矩阵是常数矩阵，不依赖于点 $(x_1, x_2)$。\n\n要使函数 $V(x_1, x_2)$ 为凸函数，其 Hessian 矩阵 $H$ 必须是半正定的。一个对称矩阵是半正定的，当且仅当其所有顺序主子式都是非负的。\n这个 $2 \\times 2$ 矩阵 $H$ 的顺序主子式为：\n1.  第一个顺序主子式 $M_1$，即左上角的元素：$M_1 = 2$。\n2.  第二个顺序主子式 $M_2$，即矩阵的行列式：$M_2 = \\det(H)$。\n\n我们必须检查这些子式为非负的条件。\n第一个条件是 $M_1 \\ge 0$。在本例中，$M_1 = 2$，所以 $2 \\ge 0$ 恒成立。\n\n第二个条件是 $M_2 \\ge 0$。我们计算 $H$ 的行列式：\n$$ \\det(H) = (2)(2) - (c)(c) = 4 - c^2 $$\n因此，条件 $M_2 \\ge 0$ 变为：\n$$ 4 - c^2 \\ge 0 $$\n整理该不等式，我们得到：\n$$ 4 \\ge c^2 $$\n这等价于 $|c| \\le 2$，可以写成区间形式：\n$$ -2 \\le c \\le 2 $$\n\n由于半正定的两个条件都必须满足，我们得出函数 $V(x_1, x_2)$ 是凸函数的充要条件是 $c$ 位于区间 $[-2, 2]$ 内。\n\n将此结果与给定选项进行比较：\nA. 对所有实数 $c$。（错误）\nB. 仅当 $c=0$。（错误，这只是有效范围中的一个点）\nC. 区间 $-1 \\le c \\le 1$。（错误，这是完整范围的一个子集）\nD. 区间 $-2 \\le c \\le 2$。（正确）\nE. 区间 $c \\ge 0$。（错误）\n\n因此，正确选项是 D。", "answer": "$$\\boxed{D}$$", "id": "2163677"}, {"introduction": "在优化中，理解函数在不同运算下的行为至关重要。我们知道两个凸函数的和仍然是凸函数，但它们的乘积呢？本练习 [@problem_id:2163750] 旨在挑战一个常见的直觉，并要求你通过寻找一个反例来加深对凸函数性质的理解，这是培养严谨数学思维的关键一步。", "problem": "在优化理论中，函数的凸性是一个非常理想的性质。一个在全体实数上定义的二次可微函数 $k(x)$ 被称为凸函数，如果其二阶导数 $k''(x)$ 对于所有实数 $x$ 都是非负的。一个已知的事实是，两个凸函数的和总是凸的。然而，它们的乘积却不总是如此。\n\n考虑以下函数对 $(f(x), g(x))$，其中每种情况下 $f(x)$ 和 $g(x)$ 对于所有实数 $x$ 都是凸函数。这些函数对中，哪一个产生的乘积函数 $h(x) = f(x)g(x)$ 在全体实数上**不是**凸函数？\n\nA. $f(x) = x^2$ 和 $g(x) = x$\n\nB. $f(x) = \\exp(x)$ 和 $g(x) = \\exp(x)$\n\nC. $f(x) = x^2$ 和 $g(x) = x^4$\n\nD. $f(x) = x^2+1$ 和 $g(x) = 1$", "solution": "一个二次可微函数在全体实数上是凸函数的充要条件是其二阶导数对所有实数都是非负的。对于两个二次可微函数的乘积 $h(x)=f(x)g(x)$，其二阶导数为\n$$\nh''(x)=f''(x)g(x)+2f'(x)g'(x)+f(x)g''(x).\n$$\n我们通过验证 $f''\\geq 0$ 和 $g''\\geq 0$ 然后计算 $h''$ 来分析每个选项。\n\n选项A：$f(x)=x^{2}$，$g(x)=x$。这里 $f'(x)=2x$，$f''(x)=2\\geq 0$，以及 $g'(x)=1$，$g''(x)=0\\geq 0$，所以 $f$ 和 $g$ 都是凸函数。乘积为 $h(x)=x^{3}$，使用乘积法则，\n$$\nh''(x)=f''(x)g(x)+2f'(x)g'(x)+f(x)g''(x)=2x+2(2x)(1)+x^{2}\\cdot 0=6x.\n$$\n因为 $h''(x)=6x$ 在 $x0$ 时为负，在 $x0$ 时为正，所以 $h$ 在全体实数上不是凸函数。\n\n选项B：$f(x)=\\exp(x)$，$g(x)=\\exp(x)$。那么 $f'(x)=\\exp(x)$，$f''(x)=\\exp(x)\\geq 0$，$g$ 也同样。乘积为 $h(x)=\\exp(x)\\exp(x)=\\exp(2x)$。使用该公式，\n$$\nh''(x)=\\exp(x)\\exp(x)+2\\exp(x)\\exp(x)+\\exp(x)\\exp(x)=4\\exp(2x)0,\n$$\n所以 $h$ 是凸函数。\n\n选项C：$f(x)=x^{2}$，$g(x)=x^{4}$。那么 $f'(x)=2x$，$f''(x)=2\\geq 0$，$g'(x)=4x^{3}$，$g''(x)=12x^{2}\\geq 0$。乘积为 $h(x)=x^{6}$，并且\n$$\nh''(x)=2x^{4}+2(2x)(4x^{3})+x^{2}(12x^{2})=2x^{4}+16x^{4}+12x^{4}=30x^{4}\\geq 0,\n$$\n所以 $h$ 是凸函数。\n\n选项D：$f(x)=x^{2}+1$，$g(x)=1$。那么 $f'(x)=2x$，$f''(x)=2\\geq 0$，$g'(x)=0$，$g''(x)=0\\geq 0$。乘积为 $h(x)=x^{2}+1$，并且\n$$\nh''(x)=2\\cdot 1+2(2x)\\cdot 0+(x^{2}+1)\\cdot 0=2\\geq 0,\n$$\n所以 $h$ 是凸函数。\n\n因此，只有选项A产生的乘积在全体实数上不是凸函数。", "answer": "$$\\boxed{A}$$", "id": "2163750"}]}