{"hands_on_practices": [{"introduction": "许多优化问题，尤其是在物流和资源分配领域，都包含背包类型的约束。这项练习将指导您从一个实际的容量限制问题出发，逐步推导出一种最基本且重要的有效不等式——覆盖不等式。通过这个过程，您将掌握从第一性原理出发，为整数规划问题生成割平面的核心技能 [@problem_id:3196864]。", "problem": "一家公司求解一个带容量约束的聚类混合整数线性规划 (MILP) 问题，以将客户分配到一个潜在的聚类中心。设 $N$ 表示客户集合，每个客户 $i \\in N$ 有一个非负需求 $d_i$。考虑一个容量为 $\\mathrm{cap}_k > 0$ 的候选中心 $k$。决策变量如下：\n- $y_k \\in \\{0,1\\}$，表示中心 $k$ 是否开放，\n- $x_{ik} \\ge 0$，表示中心 $k$ 服务于客户 $i$ 的需求量，\n- $z_{ik} \\in \\{0,1\\}$，表示客户 $i$ 是否被分配到中心 $k$。\n\n假设以下建模基元，这些基元基于物理资源约束和分配逻辑：\n- 如果中心 $k$ 开放，则总服务需求量不能超过其容量；如果关闭，则不能服务任何需求。总服务需求量由 $\\sum_{i \\in N} x_{ik}$ 计算。\n- 每个客户被服务的量不能超过其自身的需求，且一个分配指示变量控制着对该客户的任何正服务：对于所有 $i \\in N$，有 $0 \\le x_{ik} \\le d_i z_{ik}$。\n- 客户只能被分配到开放的中心，这一点通过 $y_k$ 的容量门控和分配可行性间接强制执行。\n\n你的任务是：\n1) 从这些基元出发，且不借助任何预先推导的有效不等式，推导出将总服务流量与中心 $k$ 的开放决策 $y_k$ 联系起来的基准容量不等式。\n2) 将你的推导特殊化到 $y_k = 1$ 的情况。使用边界关系 $x_{ik} \\le d_i z_{ik}$ 来消除连续服务变量，从而得到一个关于分配变量 $z_{ik}$ 的背包类型约束。然后，仅使用背包问题的覆盖 (cover) 定义（即一个子集 $S \\subseteq N$ 满足 $\\sum_{i \\in S} d_i > \\mathrm{cap}_k$），推导一个有效不等式，该不等式限制了这样一个覆盖中的多少客户可以同时被分配到中心 $k$。\n3) 现在考虑具体数据：\n- 客户 $N = \\{1,2,3,4,5,6\\}$，其需求为 $(d_1,d_2,d_3,d_4,d_5,d_6) = (6,5,5,4,4,3)$。\n- 中心容量 $\\mathrm{cap}_k = 20$。\n\n选择 $S$ 为基数最小的子集，该子集由优先选择需求最高的客户构成，使得 $\\sum_{i \\in S} d_i > \\mathrm{cap}_k$。写出关于分配变量 $z_{ik}$ 的相应强化有效不等式，并报告其右侧常数的数值。\n\n将最终答案以该单个数值常数的形式提供。不需要单位，也无需四舍五入。", "solution": "经评估，问题陈述有效。它内容自洽，在优化方法领域内具有数学和科学依据，问题提法得当且客观。不存在矛盾、歧义或不成立的前提。我们开始求解。\n\n该问题要求对一个带容量约束的聚类问题进行三部分的推导和计算。设 $N$ 为客户集合，$d_i \\ge 0$ 为客户 $i \\in N$ 的需求，$\\mathrm{cap}_k > 0$ 为潜在中心 $k$ 的容量。决策变量为：$y_k \\in \\{0,1\\}$ 表示是否开放中心 $k$，$x_{ik} \\ge 0$ 表示中心 $k$ 服务于客户 $i$ 的需求量，$z_{ik} \\in \\{0,1\\}$ 表示客户 $i$ 是否被分配到中心 $k$。\n\n**1) 基准容量不等式的推导**\n\n问题给出了容量约束的以下基元描述：“如果中心 $k$ 开放，则总服务需求量不能超过其容量；如果关闭，则不能服务任何需求。”总服务需求量由 $\\sum_{i \\in N} x_{ik}$ 给出。\n\n我们可以将此条件语句形式化如下：\n- 如果中心 $k$ 开放，则 $y_k=1$。总服务需求量受容量限制：$\\sum_{i \\in N} x_{ik} \\le \\mathrm{cap}_k$。\n- 如果中心 $k$ 关闭，则 $y_k=0$。该中心不能服务任何需求。由于对所有 $i \\in N$ 都有 $x_{ik} \\ge 0$，这意味着 $\\sum_{i \\in N} x_{ik} = 0$。\n\n我们寻求一个使用二元变量 $y_k$ 将这两种情况合并起来的单一线性不等式。考虑不等式：\n$$ \\sum_{i \\in N} x_{ik} \\le \\mathrm{cap}_k y_k $$\n我们来验证这个不等式对于 $y_k$ 的两种可能取值是否成立：\n- 如果 $y_k=1$，不等式变为 $\\sum_{i \\in N} x_{ik} \\le \\mathrm{cap}_k$，这正确地为开放中心建立了容量限制模型。\n- 如果 $y_k=0$，不等式变为 $\\sum_{i \\in N} x_{ik} \\le 0$。考虑到非负约束 $x_{ik} \\ge 0$，这迫使 $\\sum_{i \\in N} x_{ik} = 0$，这正确地为关闭中心建立了零服务条件模型。\n\n因此，基准容量不等式为 $\\sum_{i \\in N} x_{ik} \\le \\mathrm{cap}_k y_k$。\n\n**2) 背包覆盖不等式的推导**\n\n首先，我们将分析特殊化到中心 $k$ 开放的情况，即 $y_k=1$。基准不等式简化为 $\\sum_{i \\in N} x_{ik} \\le \\mathrm{cap}_k$。\n\n问题陈述了另一个基元：对于所有 $i \\in N$，有 $0 \\le x_{ik} \\le d_i z_{ik}$。这把连续流量变量 $x_{ik}$ 与二元分配变量 $z_{ik}$ 联系起来。在许多标准的带容量分配模型中，通常假设如果一个客户被分配到一个设施（$z_{ik}=1$），他们的全部需求 $d_i$ 都会计入容量使用。这种解释导出了一个背包类型的约束。任何可行的整数解都必须满足已分配客户的总需求不超过容量。这得出了有效不等式：\n$$ \\sum_{i \\in N} d_i z_{ik} \\le \\mathrm{cap}_k $$\n这是一个开放中心 $k$ 的一组分配必须满足的背包类型约束。\n\n接下来，我们使用所提供的覆盖定义来推导一个有效不等式。一个覆盖 $S$ 是客户的一个子集，$S \\subseteq N$，使得他们的总需求超过容量：\n$$ \\sum_{i \\in S} d_i > \\mathrm{cap}_k $$\n让我们考虑由 $z_{ik}$ 的值表示的任何可行分配集。覆盖集 $S$ 中的所有客户不可能同时被分配到中心 $k$。如果他们都被分配了，那么对所有 $i \\in S$ 都有 $z_{ik}=1$。这意味着仅这个已分配客户子集的需求总和为 $\\sum_{i \\in S} d_i z_{ik} = \\sum_{i \\in S} d_i$。根据覆盖的定义，这个总和大于 $\\mathrm{cap}_k$。这将违反背包约束 $\\sum_{i \\in N} d_i z_{ik} \\le \\mathrm{cap}_k$，因为仅子集 $S$ 上的总和就已经超过了容量。\n\n因此，任何可行解都不可能对所有 $i \\in S$ 都有 $z_{ik}=1$。这可以表示为一个不等式。$S$ 中客户的分配指示变量之和必须严格小于 $S$ 中的客户数量：\n$$ \\sum_{i \\in S} z_{ik}  |S| $$\n由于每个 $z_{ik}$ 都必须是整数（0 或 1），所以和 $\\sum_{i \\in S} z_{ik}$ 也必须是整数。严格小于 $|S|$ 的最大整数是 $|S|-1$。这导出了著名的背包覆盖有效不等式：\n$$ \\sum_{i \\in S} z_{ik} \\le |S| - 1 $$\n这个不等式通常被称为“强化”不等式，因为它加强了 MILP 的线性规划松弛，切掉了原本可行的分数解。\n\n**3) 应用于具体数据**\n\n给定的数据是：\n- 客户 $N = \\{1,2,3,4,5,6\\}$\n- 需求 $(d_1,d_2,d_3,d_4,d_5,d_6) = (6,5,5,4,4,3)$\n- 中心容量 $\\mathrm{cap}_k = 20$\n\n根据指示，我们需要找到一个基数最小的子集 $S$，该子集由优先选择需求最高的客户构成，使得 $\\sum_{i \\in S} d_i > \\mathrm{cap}_k$。按降序排列的需求为 $6, 5, 5, 4, 4, 3$，对应客户 $1, (2,3), (4,5), 6$。我们按照这个顺序添加客户来构建 $S$，并跟踪累计需求：\n- 添加客户 $1$ ($d_1=6$)：累计需求 = $6$。\n- 添加客户 $2$ ($d_2=5$)：累计需求 = $6+5=11$。\n- 添加客户 $3$ ($d_3=5$)：累计需求 = $11+5=16$。\n- 添加客户 $4$ ($d_4=4$)：累计需求 = $16+4=20$。这个总和不严格大于 $\\mathrm{cap}_k=20$。\n- 添加客户 $5$ ($d_5=4$)：累计需求 = $20+4=24$。这个总和 $24$ 严格大于 $20$。\n\n得到的集合是 $S = \\{1,2,3,4,5\\}$。这是一个覆盖，因为 $\\sum_{i \\in S}d_i = 24 > 20$。这个集合的基数是 $|S|=5$。任何客户数少于 5 的子集都不可能是一个覆盖，因为 4 个客户的最大需求总和是 $6+5+5+4=20$，不大于容量。因此，$S=\\{1,2,3,4,5\\}$ 是一个基数最小的覆盖。\n\n使用在第 2 部分推导的有效不等式公式 $\\sum_{i \\in S} z_{ik} \\le |S| - 1$，我们可以为这个覆盖写出具体的不等式：\n$$ z_{1k} + z_{2k} + z_{3k} + z_{4k} + z_{5k} \\le 5 - 1 $$\n$$ z_{1k} + z_{2k} + z_{3k} + z_{4k} + z_{5k} \\le 4 $$\n问题要求给出这个强化有效不等式右侧常数的数值。\n\n右侧的常数是 $4$。", "answer": "$$\\boxed{4}$$", "id": "3196864"}, {"introduction": "在组合优化中，变量之间的互斥关系或冲突常常可以通过图论的结构来描述。本练习将向您展示如何将一个图模型中的“三角冲突”约束转化为一个冲突图，并从中导出强有力的团不等式。这个过程不仅揭示了有效不等式与图结构之间的深刻联系，还引入了寻找最强（即非支配）不等式的重要思想 [@problem_id:3196773]。", "problem": "考虑一个无向简单图 $G$，其顶点集为 $V(G) = \\{1, 2, 3, 4, 5\\}$，边集为 $E(G) = \\{\\{1,2\\}, \\{1,3\\}, \\{2,3\\}, \\{2,4\\}, \\{3,4\\}, \\{3,5\\}, \\{4,5\\}, \\{1,5\\}\\}$。设每条边 $\\{i,j\\} \\in E(G)$ 都有一个相关的二元选择变量 $x_{ij} \\in \\{0,1\\}$，表示边 $\\{i,j\\}$ 是否被选中。选择必须满足三角形冲突：任何两条被选中的边都不能属于 $G$ 的同一个三角形。\n\n仅使用基本定义，按以下步骤进行：\n1. 定义冲突图 $H$，其顶点对应于 $G$ 的边变量，并且如果 $H$ 的两个顶点所对应的 $G$ 中的边被三角形冲突规则同时禁止，则这两个顶点是相邻的。\n2. 根据 $H$ 中团的定义以及变量的二元、非负性质，为 $H$ 中的每个团推导出一个有效的、限制该团中变量之和的不等式。\n3. 如果满足不等式 $a^\\top x \\le \\beta$ 的每个向量 $x$ 也满足不等式 $a'^\\top x \\le \\beta'$，则称不等式 $a^\\top x \\le \\beta$ 支配另一个不等式 $a'^\\top x \\le \\beta'$。使用这个定义，并仅利用 $H$ 和变量的性质，识别出在移除所有被其他不等式所蕴含的不等式后，哪些派生出的不等式是无支配的。\n\n对于此实例，无支配的团不等式的数量是多少？提供一个整数。无需四舍五入。", "solution": "问题要求我们为一个给定的图问题找出无支配的团不等式的数量。这是一个多步骤的过程，涉及识别冲突、构建冲突图，然后找到其极大团。\n\n图 $G$ 定义在顶点集 $V(G) = \\{1, 2, 3, 4, 5\\}$ 上。边集为 $E(G) = \\{\\{1,2\\}, \\{1,3\\}, \\{2,3\\}, \\{2,4\\}, \\{3,4\\}, \\{3,5\\}, \\{4,5\\}, \\{1,5\\}\\}$。对于每条边 $\\{i,j\\} \\in E(G)$，我们有一个二元变量 $x_{ij} \\in \\{0,1\\}$。核心约束是任何两条被选中的边都不能属于 $G$ 中的同一个三角形。\n\n步骤 $1$：识别 $G$ 中的三角形。\n三角形是由三个顶点 $\\{u,v,w\\}$ 组成的集合，使得边 $\\{u,v\\}, \\{v,w\\}, \\{w,u\\}$ 都属于 $E(G)$。我们系统地搜索这样的三顶点集：\n-   $\\{1,2,3\\}$：边 $\\{1,2\\}, \\{2,3\\}, \\{1,3\\}$ 都在 $E(G)$ 中。这构成一个三角形，我们称之为 $T_1$。\n-   $\\{2,3,4\\}$：边 $\\{2,3\\}, \\{3,4\\}, \\{2,4\\}$ 都在 $E(G)$ 中。这构成一个三角形，$T_2$。\n-   $\\{3,4,5\\}$：边 $\\{3,4\\}, \\{4,5\\}, \\{3,5\\}$ 都在 $E(G)$ 中。这构成一个三角形，$T_3$。\n-   $\\{1,3,5\\}$：边 $\\{1,3\\}, \\{3,5\\}, \\{1,5\\}$ 都在 $E(G)$ 中。这构成一个三角形，$T_4$。\n检查其他组合后发现没有其他三角形。例如，对于 $\\{1,2,4\\}$，缺少边 $\\{1,4\\}$。对于 $\\{2,3,5\\}$，缺少边 $\\{2,5\\}$。因此，$G$ 中恰好有 $4$ 个三角形。\n\n步骤 $2$：定义冲突图 $H$。\n$H$ 的顶点，记为 $V(H)$，对应于 $G$ 的边变量。$G$ 中有 $8$ 条边，所以 $|V(H)| = 8$。我们可以用它们对应的变量来标记 $H$ 的顶点：$V(H) = \\{x_{12}, x_{13}, x_{23}, x_{24}, x_{34}, x_{35}, x_{45}, x_{15}\\}$。\n如果两个顶点在 $G$ 中对应的边因“三角形冲突规则”而不能同时被选中，则这两个 $H$ 中的顶点是相邻的。这意味着这两条对应的边属于 $G$ 中的同一个三角形。\n“任何两条被选中的边都不能属于同一个三角形”这一约束意味着，对于一个三角形 $T$ 中的任意两条边 $\\{i,j\\}$ 和 $\\{k,l\\}$，我们不能同时有 $x_{ij}=1$ 和 $x_{kl}=1$。这等价于约束 $x_{ij} + x_{kl} \\leq 1$。\n因此，在 $H$ 中，任何两个顶点之间都存在一条边，只要它们在 $G$ 中对应的边位于同一个三角形内。这种结构意味着，对于 $G$ 中的每个三角形，其边变量的集合在 $H$ 中形成一个团。\n\n步骤 $3$：推导团不等式。\n$H$ 中的一个团是一个顶点集 $K \\subseteq V(H)$，其中每两个不同的顶点都相邻。设 $K$ 是 $H$ 中的一个团。根据定义，对于 $K$ 中的任意两个变量，它们在 $G$ 中对应的边都位于同一个三角形中。问题约束规定，从任何给定的三角形中，我们最多只能选择一条边。更进一步地说，对于任何一组边，如果其中任意一对都位于一个共同的三角形中（这是 $H$ 中团的性质），我们最多只能选择其中一条。\n鉴于变量是二元的，$x_{ij} \\in \\{0,1\\}$，这个条件可以用以下不等式来表示：\n$$ \\sum_{x_{ij} \\in K} x_{ij} \\leq 1 $$\n这是 $H$ 中任意团 $K$ 的有效不等式的一般形式。\n\n步骤 $4$：识别无支配不等式。\n问题定义中指出，如果不等式 $a^\\top x \\le \\beta$ 的可行解集是不等式 $a'^\\top x \\le \\beta'$ 的可行解集的子集，则称不等式 $a^\\top x \\le \\beta$ 支配 $a'^\\top x \\le \\beta'$。\n考虑 $H$ 中的两个团 $K_1$ 和 $K_2$，使得 $K_1 \\subset K_2$。对应的不等式是 $I_1: \\sum_{x \\in K_1} x \\leq 1$ 和 $I_2: \\sum_{x \\in K_2} x \\leq 1$。\n由于所有变量都满足 $x_{ij} \\geq 0$，任何满足 $I_2$ 的解向量 $x$ 也必定满足 $\\sum_{x \\in K_1} x \\leq \\sum_{x \\in K_2} x \\leq 1$。因此，对于较大的团 $K_2$ 的不等式 $I_2$ 支配了对于较小的团 $K_1$ 的不等式 $I_1$。\n为了找到无支配的团不等式，我们必须找到那些不是任何其他团的真子集的团。根据定义，这些是 $H$ 的极大团。问题现在简化为计算 $H$ 中极大团的数量。\n\n步骤 $5$：找到 $H$ 的极大团。\n根据步骤 $2$，$G$ 中每个三角形的边在 $H$ 中形成一个团。我们列出这些团，称之为 $C_1, C_2, C_3, C_4$：\n-   $T_1 = \\{1,2,3\\} \\implies C_1 = \\{x_{12}, x_{13}, x_{23}\\}$ 是 $H$ 中的一个团。\n-   $T_2 = \\{2,3,4\\} \\implies C_2 = \\{x_{23}, x_{24}, x_{34}\\}$ 是 $H$ 中的一个团。\n-   $T_3 = \\{3,4,5\\} \\implies C_3 = \\{x_{34}, x_{35}, x_{45}\\}$ 是 $H$ 中的一个团。\n-   $T_4 = \\{1,3,5\\} \\implies C_4 = \\{x_{13}, x_{35}, x_{15}\\}$ 是 $H$ 中的一个团。\n\n现在我们必须确定这 $4$ 个团是否是极大的，以及是否存在任何其他极大团。\n如果一个团不能通过从图中添加任何其他顶点来形成一个更大的团，那么它就是极大的。\n我们来分析 $C_1 = \\{x_{12}, x_{13}, x_{23}\\}$。要扩展这个团，我们需要一个顶点 $v \\in V(H) \\setminus C_1$，它与 $C_1$ 中的所有三个顶点都相邻。\n-   考虑 $x_{24}$。边 $\\{2,4\\}$ 与 $\\{2,3\\}$ 同属于 $T_2$，所以 $x_{24}$ 与 $x_{23}$ 相邻。然而，$\\{2,4\\}$ 和 $\\{1,2\\}$ 要形成三角形需要边 $\\{1,4\\}$，但这条边不在 $E(G)$ 中。所以 $x_{24}$ 与 $x_{12}$ 不相邻。因此，$x_{24}$ 不能被加入到 $C_1$ 中。\n-   类似的分析表明，$H$ 中没有其他顶点与 $C_1$ 的所有三个顶点都相邻。例如，$x_{34}$ 与 $x_{12}$ 不相邻；$x_{35}$ 与 $x_{12}$ 或 $x_{23}$ 不相邻。\n因此，$C_1$ 是一个极大团。由于 $H$ 构造的对称性（一个由 $4$ 个大小为 $3$ 的团组成的环），$C_2$、$C_3$ 和 $C_4$ 也都是极大团。\n\n是否存在任何其他极大团？极大团必须由 $H$ 的顶点组成。任何不属于 $\\{C_1, C_2, C_3, C_4\\}$ 的极大团都必须由不同的顶点组合构成。我们来分析初始四个团之间共享的顶点的邻域。\n-   顶点 $x_{23}$ 在 $C_1$ 和 $C_2$ 中。它在 $H$ 中的邻点是 $N(x_{23}) = \\{x_{12}, x_{13}\\} \\cup \\{x_{24}, x_{34}\\}$。任何包含 $x_{23}$ 的团都必须是 $\\{x_{23}\\} \\cup N(x_{23})$ 的子集。由 $N(x_{23})$ 诱导的子图中有边 $\\{x_{12},x_{13}\\}$（来自 $T_1$）和 $\\{x_{24},x_{34}\\}$（来自 $T_2$），但这两对之间没有边（例如，$\\{x_{12},x_{24}\\}$ 在 $H$ 中不是一条边，因为 $\\{1,2,4\\}$ 在 $G$ 中不是一个三角形）。这个诱导子图中的极大团是 $\\{x_{12},x_{13}\\}$ 和 $\\{x_{24},x_{34}\\}$。将 $x_{23}$ 加回去，我们得到 $\\{x_{12}, x_{13}, x_{23}\\} = C_1$ 和 $\\{x_{23}, x_{24}, x_{34}\\} = C_2$。这证实了包含 $x_{23}$ 的仅有的极大团是 $C_1$ 和 $C_2$。\n-   类似地，顶点 $x_{34}$ 在 $C_2$ 和 $C_3$ 中。同样的分析表明，包含它的仅有的极大团是 $C_2$ 和 $C_3$。\n-   顶点 $x_{35}$ 在 $C_3$ 和 $C_4$ 中，导出极大团 $C_3$ 和 $C_4$。\n-   顶点 $x_{13}$ 在 $C_4$ 和 $C_1$ 中，导出极大团 $C_4$ 和 $C_1$。\n-   剩下的顶点（$x_{12}, x_{24}, x_{45}, x_{15}$）每个都只属于这四个团中的一个。例如，$x_{12} \\in C_1$。任何包含 $x_{12}$ 的团都必须是 $\\{x_{12}\\} \\cup N(x_{12}) = \\{x_{12}, x_{13}, x_{23}\\}$ 的子集，也就是 $C_1$。由于 $C_1$ 本身就是一个团，因此它是包含 $x_{12}$ 的唯一极大团。\n\n这个详尽的检查证实了冲突图 $H$ 中唯一的极大团是由 $G$ 的四个三角形生成的四个团 $C_1, C_2, C_3, C_4$。\n由于无支配的团不等式与冲突图的极大团一一对应，因此恰好有 $4$ 个这样的不等式。", "answer": "$$\\boxed{4}$$", "id": "3196773"}, {"introduction": "有效不等式的最终目的是在求解过程中切除线性规划松弛的可行域，从而得到整数解。本练习将让您扮演算法设计者的角色，针对一个给定的分数解，应用多种技术生成有效的割平面。您将亲自推导覆盖不等式、团不等式以及Chvátal-Gomory割，并验证它们如何精确地“切掉”非整数解，从而加深对割平面法工作原理的理解 [@problem_id:3196872]。", "problem": "考虑一个混合整数线性规划 (MILP) 的线性规划 (LP) 松弛，该规划包含四个二元决策变量 $x_1, x_2, x_3, x_4 \\in [0,1]$。该 LP 松弛通过以下系统定义了一个多面体 $\\mathcal{P} \\subseteq \\mathbb{R}^4$：\n$$\n\\begin{aligned}\n0 \\leq x_i \\leq 1 \\quad \\text{对于 } i \\in \\{1,2,3,4\\},\\\\\nx_1 + x_2 \\leq 1,\\quad x_1 + x_3 \\leq 1,\\quad x_2 + x_3 \\leq 1,\\quad x_3 + x_4 \\leq 1,\\\\\n5x_1 + 4x_2 + 3x_3 + 3x_4 \\leq 7,\\\\\n2x_2 + 2x_3 + 2x_4 \\leq 3.\n\\end{aligned}\n$$\n令分数点为\n$$\n\\bar{x} = (x_1, x_2, x_3, x_4) = (0.7,\\,0.2,\\,0.3,\\,0.6),\n$$\n该点满足 $\\mathcal{P}$ 的所有约束。\n\n从有效不等式的基本定义出发，即一个有效不等式是所有整数可行点（此处指满足给定系统的所有 $\\{0,1\\}^4$ 中的向量）都满足的任何线性不等式，执行以下操作：\n\n1. 使用背包约束 $5x_1 + 4x_2 + 3x_3 + 3x_4 \\leq 7$，识别一个其权重之和严格超过7的覆盖 $C \\subseteq \\{1,2,3,4\\}$，并写出相应的覆盖不等式。使用覆盖 $C = \\{1,4\\}$。\n\n2. 使用由 $\\{1,2,3\\}$ 之间的成对约束所隐含的冲突结构，为团 $K = \\{1,2,3\\}$ 写出一个团不等式。\n\n3. 将 Chvátal-Gomory (CG) 取整原理应用于不等式 $2x_2 + 2x_3 + 2x_4 \\leq 3$，使用乘数 $y = \\frac{1}{2}$，推导出相应的 CG 割。\n\n对于这三个不等式中的每一个，解释为什么它对于 $\\mathcal{P}$ 的整数包是有效的，并验证它切割了分数点 $\\bar{x}$（即，在 $\\bar{x}$ 处计算的左侧值超过了右侧值）。将在 $\\bar{x}$ 处的不等式 $a^\\top x \\leq b$ 的违背量定义为 $\\max\\{0,\\,a^\\top\\bar{x} - b\\}$。计算在 $\\bar{x}$ 处的三个违背量之和。\n\n你的最终答案必须是一个实数。不需要四舍五入。", "solution": "首先验证问题以确保其自洽、一致且科学上合理。\n给定的条件是：\n二元决策变量集为 $\\{x_1, x_2, x_3, x_4\\}$，其中对于混合整数线性规划 (MILP)，$x_i \\in \\{0,1\\}$，而对于其线性规划 (LP) 松弛，$x_i \\in [0,1]$。\nLP 松弛的多面体 $\\mathcal{P}$ 由以下约束定义：\n1. 对于 $i \\in \\{1,2,3,4\\}$，$0 \\leq x_i \\leq 1$\n2. $x_1 + x_2 \\leq 1$\n3. $x_1 + x_3 \\leq 1$\n4. $x_2 + x_3 \\leq 1$\n5. $x_3 + x_4 \\leq 1$\n6. $5x_1 + 4x_2 + 3x_3 + 3x_4 \\leq 7$\n7. $2x_2 + 2x_3 + 2x_4 \\leq 3$\n给定的分数点为 $\\bar{x} = (x_1, x_2, x_3, x_4) = (0.7, 0.2, 0.3, 0.6)$。\n\n首先，我们验证 $\\bar{x}$ 是 $\\mathcal{P}$ 内的一个可行点：\n1. 所有分量 $0.7, 0.2, 0.3, 0.6$ 都在区间 $[0,1]$ 内。\n2. $x_1 + x_2 = 0.7 + 0.2 = 0.9 \\leq 1$。该约束满足。\n3. $x_1 + x_3 = 0.7 + 0.3 = 1.0 \\leq 1$。该约束满足。\n4. $x_2 + x_3 = 0.2 + 0.3 = 0.5 \\leq 1$。该约束满足。\n5. $x_3 + x_4 = 0.3 + 0.6 = 0.9 \\leq 1$。该约束满足。\n6. $5x_1 + 4x_2 + 3x_3 + 3x_4 = 5(0.7) + 4(0.2) + 3(0.3) + 3(0.6) = 3.5 + 0.8 + 0.9 + 1.8 = 7.0 \\leq 7$。该约束满足。\n7. $2x_2 + 2x_3 + 2x_4 = 2(0.2) + 2(0.3) + 2(0.6) = 0.4 + 0.6 + 1.2 = 2.2 \\leq 3$。该约束满足。\n点 $\\bar{x}$ 对于 LP 松弛是可行的。该问题定义明确、客观，并在优化方法领域具有科学依据。因此，该问题是有效的。我们开始求解。\n\n问题要求推导和分析三个有效不等式。\n\n1.  **覆盖不等式**\n    我们从背包约束 $5x_1 + 4x_2 + 3x_3 + 3x_4 \\leq 7$ 开始。一组索引 $C \\subseteq \\{1,2,3,4\\}$ 是一个覆盖，如果 $\\sum_{i \\in C} a_i > b$，其中 $a_i$ 是系数，$b$ 是右侧项。问题指定了覆盖 $C = \\{1,4\\}$。\n    相应系数的和是 $a_1 + a_4 = 5 + 3 = 8$。因为 $8 > 7$，所以 $C = \\{1,4\\}$ 确实是一个覆盖。\n    覆盖不等式由 $\\sum_{i \\in C} x_i \\leq |C| - 1$ 给出。\n    对于 $C=\\{1,4\\}$，我们有 $|C|=2$。因此不等式为 $x_1 + x_4 \\leq 2 - 1$，可简化为 $x_1 + x_4 \\leq 1$。\n\n    *有效性*：这个不等式必须对所有整数可行点成立，即满足原始约束的 $\\{0,1\\}^4$ 中的点。如果一个整数解同时有 $x_1=1$ 和 $x_4=1$，背包约束将变为 $5(1) + 4x_2 + 3x_3 + 3(1) \\leq 7$，即 $8 + 4x_2 + 3x_3 \\leq 7$。因为 $x_2, x_3 \\geq 0$，这是不可能的。因此，在任何整数可行解中，不可能同时有 $x_1=1$ 和 $x_4=1$。这意味着对于任何整数解，$x_1 + x_4 \\leq 1$。所以，该不等式对于 $\\mathcal{P}$ 的整数包是有效的。\n\n    *违背情况*：我们检查这个不等式是否切割了点 $\\bar{x} = (0.7, 0.2, 0.3, 0.6)$。\n    在 $\\bar{x}$ 处计算左侧 (LHS) 的值：$x_1 + x_4 = 0.7 + 0.6 = 1.3$。\n    因为 $1.3 > 1$，该不等式被违背。违背量是 $\\max\\{0, (x_1 + x_4) - 1\\} = 1.3 - 1 = 0.3$。\n\n2.  **团不等式**\n    约束 $x_1 + x_2 \\leq 1$、$x_1 + x_3 \\leq 1$ 和 $x_2 + x_3 \\leq 1$ 定义了一个冲突结构。在任何整数解中，如果对于 $i,j \\in \\{1,2,3\\}, i \\neq j$ 有 $x_i=1$ 和 $x_j=1$，则相应的约束 $x_i+x_j \\leq 1$ 将被违背 ($1+1 \\not\\leq 1$)。这意味着集合 $\\{x_1, x_2, x_3\\}$ 中最多只有一个变量可以等于1。在冲突图中，节点是变量，如果两个变量不能同时为1，则它们之间有一条边相连。在此图中，节点集 $\\{1,2,3\\}$ 形成一个团。问题指定了团 $K=\\{1,2,3\\}$。\n    团不等式由 $\\sum_{i \\in K} x_i \\leq 1$ 给出。\n    对于 $K=\\{1,2,3\\}$，不等式是 $x_1 + x_2 + x_3 \\leq 1$。\n\n    *有效性*：如上所述，对于任何整数可行解，来自 $\\{x_1, x_2, x_3\\}$ 的任意两个变量都不能同时为1。这直接意味着它们的和最多为1。因此，该不等式对于 $\\mathcal{P}$ 的整数包是有效的。\n\n    *违背情况*：我们检查该不等式是否切割了 $\\bar{x}$。\n    在 $\\bar{x}$ 处计算左侧 (LHS) 的值：$x_1 + x_2 + x_3 = 0.7 + 0.2 + 0.3 = 1.2$。\n    因为 $1.2 > 1$，该不等式被违背。违背量是 $\\max\\{0, (x_1 + x_2 + x_3) - 1\\} = 1.2 - 1 = 0.2$。\n\n3.  **Chvátal-Gomory (CG) 割**\n    我们从不等式 $2x_2 + 2x_3 + 2x_4 \\leq 3$ 开始。问题指定使用乘数 $y = \\frac{1}{2}$。\n    将不等式乘以 $y$：$\\frac{1}{2} (2x_2 + 2x_3 + 2x_4) \\leq \\frac{1}{2} (3)$，可简化为 $x_2 + x_3 + x_4 \\leq 1.5$。\n    Chvátal-Gomory 过程涉及对所有系数和右侧项向下取整，因为变量是整数约束的。由于 $x_i \\in \\{0, 1\\}$，它们是整数。对于任何整数解，左侧 (LHS) $x_2+x_3+x_4$ 必须是一个整数。如果一个整数小于或等于 $1.5$，它必须小于或等于 $\\lfloor 1.5 \\rfloor = 1$。\n    得到的 CG 割是 $x_2 + x_3 + x_4 \\leq 1$。\n\n    *有效性*：不等式 $x_2+x_3+x_4 \\leq 1.5$ 是原始约束的一个有效推论。对于 $\\mathcal{P}$ 中的任何整数点 $x$，和 $x_2+x_3+x_4$ 必须是一个整数。一个小于或等于 $1.5$ 的整数最多为 $1$。因此，对于所有整数可行点，$x_2 + x_3 + x_4 \\leq 1$ 成立，且该不等式是有效的。\n\n    *违背情况*：我们检查该不等式是否切割了 $\\bar{x}$。\n    在 $\\bar{x}$ 处计算左侧 (LHS) 的值：$x_2 + x_3 + x_4 = 0.2 + 0.3 + 0.6 = 1.1$。\n    因为 $1.1 > 1$，该不等式被违背。违背量是 $\\max\\{0, (x_2 + x_3 + x_4) - 1\\} = 1.1 - 1 = 0.1$。\n\n**违背量之和**\n三个违背量之和是上面计算的各个违背量之和。\n总违背量 = (覆盖不等式的违背量) + (团不等式的违背量) + (CG 割的违背量)\n总违背量 = $0.3 + 0.2 + 0.1 = 0.6$。", "answer": "$$\\boxed{0.6}$$", "id": "3196872"}]}