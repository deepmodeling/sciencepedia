{"hands_on_practices": [{"introduction": "我们学习整数规划的第一步，通常是理解其线性规划（LP）松弛。本练习将通过一个直观的资源分配问题，带你实践如何构建并求解一个整数规划问题的LP松弛，这个过程是后续更复杂算法（如分支定界法）的基石，其解为此问题提供了一个重要的初始界限。[@problem_id:2209681]", "problem": "一家科技初创公司正在部署一个新的服务器集群，并且必须决定购买两种服务器类型的组合：一种是计算密集型服务器（C型），另一种是存储密集型服务器（S型）。目标是在遵守物理与预算约束的同时，最大化一个综合性能指标 $Z$。\n\n设 $x_C$ 为C型服务器的数量，$x_S$ 为S型服务器的数量。该公司的性能模型估计综合指标为 $Z = 5x_C + 6x_S$。\n\n该部署受到两个主要约束：\n1.  **功率容量：** 数据中心机架的总功率容量为 16 千瓦（kW）。每台C型服务器消耗 3 kW，每台S型服务器消耗 2 kW。\n2.  **物理机架空间：** 机架有 17 个单位的可用空间。每台C型服务器占用 1 个单位的空间，而每台S型服务器占用 4 个单位的空间。\n\n每种类型的服务器数量 $x_C$ 和 $x_S$ 必须为非负整数。为解决此整数规划问题，公司决定使用分支定界算法。该方法的第一步涉及求解问题的线性规划（LP）松弛，其中暂时忽略整数约束。\n\n确定这个初始LP松弛问题中综合性能指标 $Z$ 的最优值。您的最终答案应该是一个实数。", "solution": "我们求解LP松弛问题：\n在约束条件 $3x_{C}+2x_{S}\\leq 16$、$x_{C}+4x_{S}\\leq 17$ 和 $x_{C},x_{S}\\geq 0$ 下，最大化 $Z=5x_{C}+6x_{S}$。\n\n对于多边形可行域上的线性规划问题，其最优解出现在一个极点上。候选极点可由约束边界与坐标轴的交点得到。\n\n1) 与坐标轴的交点：\n- 如果 $x_{S}=0$，则 $3x_{C}\\leq 16$ 且 $x_{C}\\leq 17$，所以起作用的约束值为 $x_{C}=\\frac{16}{3}$。此时 $Z=5\\cdot \\frac{16}{3}=\\frac{80}{3}$。\n- 如果 $x_{C}=0$，则 $2x_{S}\\leq 16$ 且 $4x_{S}\\leq 17$，所以起作用的约束值为 $x_{S}=\\frac{17}{4}$。此时 $Z=6\\cdot \\frac{17}{4}=\\frac{102}{4}=\\frac{51}{2}$。\n- 在点 $(0,0)$ 处，$Z=0$。\n\n2) 两条约束直线的交点：\n求解\n$$\n\\begin{cases}\n3x_{C}+2x_{S}=16,\\\\\nx_{C}+4x_{S}=17.\n\\end{cases}\n$$\n由第二个方程得，$x_{C}=17-4x_{S}$。代入第一个方程：\n$$\n3(17-4x_{S})+2x_{S}=16 \\;\\Rightarrow\\; 51-12x_{S}+2x_{S}=16 \\;\\Rightarrow\\; -10x_{S}=-35 \\;\\Rightarrow\\; x_{S}=\\frac{7}{2}.\n$$\n于是 $x_{C}=17-4\\cdot \\frac{7}{2}=17-14=3$。计算目标函数值：\n$$\nZ=5\\cdot 3+6\\cdot \\frac{7}{2}=15+21=36.\n$$\n\n比较所有极点处的目标函数值：$0$、$\\frac{80}{3}$、$\\frac{51}{2}$ 和 $36$。由于 $36\\frac{80}{3}$ 且 $36\\frac{51}{2}$，LP松弛问题的最优值为 $36$。", "answer": "$$\\boxed{36}$$", "id": "2209681"}, {"introduction": "LP松弛为我们提供了一个最优值的界，但其解往往包含分数，无法直接应用于需要整数决策的现实场景。一个常见的启发式方法是对松弛解进行取整。本练习探讨了一种简单的取整策略，并揭示了一个关键概念：启发式解与真正最优解之间的差距，从而展示了为何简单的取整可能会导致次优决策。[@problem_id:2187575]", "problem": "一个偏远研究前哨站的任务规划员正在决定在有限的操作窗口期内运行哪些科学实验。该前哨站在此期间的能源预算有限。正在考虑三个实验：\n\n- **实验A (大气分析):** 科学价值 = 10单位，能源成本 = 6千瓦时。\n- **实验B (地质取样):** 科学价值 = 8单位，能源成本 = 5千瓦时。\n- **实验C (地震监测):** 科学价值 = 5单位，能源成本 = 4千瓦时。\n\n“科学价值”是代表实验重要性的无量纲分数，“能源成本”是所需的能量。可用的总能源预算为10千瓦时。\n\n一位初级工程师提出了一种两步“比例后实践”的规划方法。首先，他们通过解决一个“比例”问题来计算理论上的最大科学价值，在该问题中，实验可以被部分资助（例如，资助一个实验50%的能源成本被假定会产生其50%的科学价值）。其次，为了创建一个实验要么完全资助要么完全不资助的实际计划，他们对比例解进行四舍五入：任何比例资助水平等于或大于0.5的实验都被设定为完全资助（ON），而任何低于0.5的水平则设定为不资助（OFF）。如果这个四舍五入后的计划超出了能源预算，工程师会取消那些被设定为ON的实验中科学价值最低的那个，如有必要则重复此步骤，直到计划符合预算。\n\n计算真实最优计划的总科学价值与工程师方法生成的计划的总科学价值之间的绝对差。“真实最优计划”是在不超过能源预算的情况下，能产生最大可能科学价值的全额资助实验的组合。", "solution": "设 $x_A, x_B, x_C$ 分别是表示是否运行实验A、B、C的决策变量。在真实最优计划中，这些变量必须是二进制的，即 $x_i \\in \\{0, 1\\}$。在比例问题中，这些变量可以是连续的，即 $x_i \\in [0, 1]$。\n\n该问题可以为真实最优解表述为整数线性规划，为比例问题表述为线性规划。\n\n**目标函数：**最大化科学价值 $V = 10x_A + 8x_B + 5x_C$。\n**约束条件：**总能源成本 $C = 6x_A + 5x_B + 4x_C \\le 10$。\n\n首先，我们解决工程师的“比例后实践”方法。\n\n**步骤1：解决比例问题（线性规划松弛）**\n我们需要解决 $x_i \\in [0, 1]$ 的线性规划问题。解决背包类线性规划问题的一个常用方法是根据物品的价值与成本比率进行贪婪选择。\n\n价值与成本的比率如下：\n- 实验A: $\\frac{v_A}{c_A} = \\frac{10}{6} \\approx 1.667$\n- 实验B: $\\frac{v_B}{c_B} = \\frac{8}{5} = 1.6$\n- 实验C: $\\frac{v_C}{c_C} = \\frac{5}{4} = 1.25$\n\n实验A是“效率”最高的。我们尽可能多地选择它。我们设定 $x_A = 1$。\n- 消耗能量：6千瓦时。\n- 产生价值：10单位。\n- 剩余能源预算：$10 - 6 = 4$ 千瓦时。\n\n实验B是效率次高的。它的全部能源成本是5千瓦时，超出了我们剩余的4千瓦时预算。因此，我们资助实验B的一部分。\n我们可以资助的比例是 $\\frac{\\text{剩余预算}}{\\text{全部成本}} = \\frac{4}{5} = 0.8$。所以，我们设定 $x_B = 0.8$。\n- 消耗能量：$0.8 \\times 5 = 4$ 千瓦时。\n- 产生价值：$0.8 \\times 8 = 6.4$ 单位。\n- 剩余能源预算：$4 - 4 = 0$ 千瓦时。\n\n由于预算现已用尽，我们设定 $x_C = 0$。\n比例问题的解是 $(x_A, x_B, x_C) = (1, 0.8, 0)$。\n理论最大价值是 $V_{prop} = 10(1) + 8(0.8) + 5(0) = 10 + 6.4 = 16.4$。\n\n**步骤2：应用四舍五入和修正程序**\n工程师取比例解 $(1, 0.8, 0)$ 并对其进行四舍五入。\n- $x_A = 1 \\ge 0.5 \\implies$ 四舍五入为 $x_A=1$。\n- $x_B = 0.8 \\ge 0.5 \\implies$ 四舍五入为 $x_B=1$。\n- $x_C = 0  0.5 \\implies$ 四舍五入为 $x_C=0$。\n\n最初的四舍五入计划是 $(1, 1, 0)$，意味着运行实验A和B。\n让我们对照能源预算检查该计划的可行性。\n总成本 = $6(1) + 5(1) + 4(0) = 11$ 千瓦时。\n由于 $11  10$，该计划不可行，因为它超出了预算。\n\n修正规则规定：“取消那些被设定为ON的实验中科学价值最低的那个”。被设定为ON的实验是A和B。\n- A的科学价值是10。\n- B的科学价值是8。\n实验B的价值较低，因此被取消资助。我们设定 $x_B = 0$。\n\n新的计划是 $(1, 0, 0)$。\n让我们检查这个修正后计划的可行性。\n总成本 = $6(1) + 5(0) + 4(0) = 6$ 千瓦时。\n由于 $6 \\le 10$，该计划是可行的。\n工程师最终计划的科学价值是 $V_{eng} = 10(1) + 8(0) + 5(0) = 10$。\n\n**步骤3：找到真实最优计划**\n现在我们必须找到通过二元选择（$x_i \\in \\{0, 1\\}$）可实现的真实最大价值。我们可以通过枚举所有可行的实验组合来做到这一点。\n- **仅{A}:** 成本 = 6千瓦时。价值 = 10。（可行）\n- **仅{B}:** 成本 = 5千瓦时。价值 = 8。（可行）\n- **仅{C}:** 成本 = 4千瓦时。价值 = 5。（可行）\n- **{A, B}:** 成本 = $6 + 5 = 11$ 千瓦时。（不可行）\n- **{A, C}:** 成本 = $6 + 4 = 10$ 千瓦时。（可行）价值 = $10 + 5 = 15$。\n- **{B, C}:** 成本 = $5 + 4 = 9$ 千瓦时。（可行）价值 = $8 + 5 = 13$。\n- **{A, B, C}:** 成本 = $6 + 5 + 4 = 15$ 千瓦时。（不可行）\n\n比较所有可行计划的价值：\n- 价值({A}) = 10\n- 价值({B}) = 8\n- 价值({C}) = 5\n- 价值({A, C}) = 15\n- 价值({B, C}) = 13\n\n最大可行价值为15，通过运行实验A和C实现。\n因此，真实最优价值是 $V_{opt} = 15$。\n\n**步骤4：计算绝对差**\n问题要求计算真实最优价值与工程师方法所得价值之间的绝对差。\n差值 = $|V_{opt} - V_{eng}| = |15 - 10| = 5$。\n工程师基于四舍五入的启发式方法的次优性为5个单位的科学价值。", "answer": "$$\\boxed{5}$$", "id": "2187575"}, {"introduction": "基础LP松弛提供的界有时可能不够紧密，从而降低了求解效率。本练习介绍了一种更高级的技巧：通过添加有效不等式（即“割平面”）来加强松弛。通过解决这个图论问题，你将亲手计算并衡量一个精心选择的不等式如何收紧LP松弛的界，使其更接近真实的整数最优值。[@problem_id:3172486]", "problem": "考虑一个五个顶点的圈图，记为 $G=(V,E)$，其中 $V=\\{1,2,3,4,5\\}$ 且 $E=\\{(1,2),(2,3),(3,4),(4,5),(5,1)\\}$。稳定集（也称独立集）是一个顶点子集，其中任意两个顶点都不相邻。最大稳定集问题可以写成一个 $0$-$1$ 整数规划，其中变量 $x_{i} \\in \\{0,1\\}$ 表示顶点 $i \\in V$ 是否被包含，目标函数为 $\\sum_{i=1}^{5} x_{i}$，并且对每条边 $(i,j) \\in E$ 都有边约束 $x_{i} + x_{j} \\leq 1$。\n\n通过将 $x_{i} \\in \\{0,1\\}$ 替换为对所有 $i \\in V$ 的 $0 \\leq x_{i} \\leq 1$，来构造其线性规划 (LP) 松弛。通过为这个5-圈添加奇圈不等式，即 $\\sum_{i=1}^{5} x_{i} \\leq 2$，来加强此 LP 松弛。这是一个对于奇圈上的稳定集多胞体已知的有效约束。\n\n仅使用关于线性规划松弛和有效不等式的基本定义和熟知事实，计算：\n1. 仅包含边约束的 LP 松弛的最优值。\n2. 同时包含奇圈不等式 $\\sum_{i=1}^{5} x_{i} \\leq 2$ 的加强后松弛的最优值。\n\n报告当添加奇圈不等式后，最大稳定集规模的上界减少的量（即，两个最优值之差）。将最终答案表示为一个精确分数。", "solution": "该问题要求计算在5-圈图 $G=(V,E)$（其中 $V=\\{1,2,3,4,5\\}$ 且 $E=\\{(1,2),(2,3),(3,4),(4,5),(5,1)\\}$）上，最大稳定集问题的两个不同线性规划 (LP) 松弛的最优值。目标是找出添加奇圈不等式后，松弛的界收紧了多少。\n\n首先，我们分析初始 LP 松弛。在图 $G$ 上的最大稳定集问题的整数规划如下：\n最大化 $\\sum_{i=1}^{5} x_{i}$\n约束条件：\n对每个 $(i,j) \\in E$，有 $x_{i} + x_{j} \\leq 1$\n对每个 $i \\in V$，有 $x_{i} \\in \\{0,1\\}$\n\n初始 LP 松弛是通过将整数约束 $x_{i} \\in \\{0,1\\}$ 松弛到连续范围 $0 \\leq x_{i} \\leq 1$ 而形成的。令该松弛的最优值为 $Z_{1}^{*}$。该 LP 为：\n最大化 $Z_{1} = x_{1} + x_{2} + x_{3} + x_{4} + x_{5}$\n约束条件：\n$x_{1} + x_{2} \\leq 1$\n$x_{2} + x_{3} \\leq 1$\n$x_{3} + x_{4} \\leq 1$\n$x_{4} + x_{5} \\leq 1$\n$x_{5} + x_{1} \\leq 1$\n对 $i \\in \\{1,2,3,4,5\\}$，有 $0 \\leq x_{i} \\leq 1$\n\n为了找到 $Z_{1}$ 的一个上界，我们可以将五个边约束相加：\n$(x_{1} + x_{2}) + (x_{2} + x_{3}) + (x_{3} + x_{4}) + (x_{4} + x_{5}) + (x_{5} + x_{1}) \\leq 1+1+1+1+1$\n$2x_{1} + 2x_{2} + 2x_{3} + 2x_{4} + 2x_{5} \\leq 5$\n$2(x_{1} + x_{2} + x_{3} + x_{4} + x_{5}) \\leq 5$\n这意味着目标函数有上界：\n$Z_{1} = x_{1} + x_{2} + x_{3} + x_{4} + x_{5} \\leq \\frac{5}{2}$\n所以，最优值 $Z_{1}^{*}$ 不能超过 $\\frac{5}{2}$。\n\n现在，我们检查这个上界是否可以达到。考虑对称解，其中对所有 $i \\in V$ 都有 $x_{i} = c$。边约束变为 $c+c \\leq 1$，即 $2c \\leq 1$，或 $c \\leq \\frac{1}{2}$。为了最大化目标函数 $\\sum x_{i} = 5c$，我们应该为 $c$ 选择可能的最大值，即 $c = \\frac{1}{2}$。\n我们来验证解 $x_{1}=x_{2}=x_{3}=x_{4}=x_{5}=\\frac{1}{2}$。\n每个边约束 $x_{i} + x_{j} \\leq 1$ 变为 $\\frac{1}{2} + \\frac{1}{2} = 1 \\leq 1$，该约束得到满足。\n变量边界 $0 \\leq \\frac{1}{2} \\leq 1$ 也得到满足。\n因此，这是一个可行解。该解的目标值为 $Z_{1} = 5 \\times \\frac{1}{2} = \\frac{5}{2}$。\n由于我们找到了一个目标值等于上界的可行解，因此该解必定是最优解。\n因此，初始 LP 松弛的最优值为 $Z_{1}^{*} = \\frac{5}{2}$。\n\n接下来，我们分析加强后的 LP 松弛，它包含了5-圈的奇圈不等式 $\\sum_{i=1}^{5} x_{i} \\leq 2$。令这个新松弛的最优值为 $Z_{2}^{*}$。加强后的 LP 如下：\n最大化 $Z_{2} = x_{1} + x_{2} + x_{3} + x_{4} + x_{5}$\n约束条件：\n$x_{1} + x_{2} \\leq 1$\n$x_{2} + x_{3} \\leq 1$\n$x_{3} + x_{4} \\leq 1$\n$x_{4} + x_{5} \\leq 1$\n$x_{5} + x_{1} \\leq 1$\n$\\sum_{i=1}^{5} x_{i} \\leq 2$\n对 $i \\in \\{1,2,3,4,5\\}$，有 $0 \\leq x_{i} \\leq 1$\n\n新约束 $\\sum_{i=1}^{5} x_{i} \\leq 2$ 直接约束了目标函数。这立即使我们得到了最优值的一个上界：$Z_{2}^{*} \\leq 2$。\n为了确定这个上界是否可以达到，我们需要找到一个目标值为2的可行解。一个5-圈的实际最大稳定集的大小为2。例如，顶点集 $\\{1,3\\}$ 是一个稳定集。这对应一个整数解：$x_{1}=1$，$x_{3}=1$，以及 $x_{2}=x_{4}=x_{5}=0$。\n我们来检查这个解对于加强后的 LP 是否可行。\n- 目标值为 $1+0+1+0+0 = 2$。\n- 边约束为：\n  - $x_{1}+x_{2} = 1+0 = 1 \\leq 1$ (满足)\n  - $x_{2}+x_{3} = 0+1 = 1 \\leq 1$ (满足)\n  - $x_{3}+x_{4} = 1+0 = 1 \\leq 1$ (满足)\n  - $x_{4}+x_{5} = 0+0 = 0 \\leq 1$ (满足)\n  - $x_{5}+x_{1} = 0+1 = 1 \\leq 1$ (满足)\n- 奇圈约束为 $\\sum x_{i} = 2 \\leq 2$ (满足)。\n- 变量边界 $0 \\leq x_{i} \\leq 1$ 被满足，因为所有变量都为0或1。\n由于这是一个可行解，并且其目标值2与上界相匹配，因此它是一个最优解。\n因此，加强后的 LP 松弛的最优值为 $Z_{2}^{*} = 2$。\n\n最后，问题要求的是当添加奇圈不等式后，最大稳定集规模的上界减少的量。这就是两个最优值之间的差。\n减少量 = $Z_{1}^{*} - Z_{2}^{*}$\n减少量 = $\\frac{5}{2} - 2 = \\frac{5}{2} - \\frac{4}{2} = \\frac{1}{2}$。\n添加奇圈不等式使 LP 松弛的最优值减少了 $\\frac{1}{2}$，从而为真实的整数最优值（即2）提供了一个更紧的界。", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "3172486"}]}