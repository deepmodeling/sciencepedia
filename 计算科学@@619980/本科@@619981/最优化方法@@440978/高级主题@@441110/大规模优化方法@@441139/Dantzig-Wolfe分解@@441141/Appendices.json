{"hands_on_practices": [{"introduction": "应用 Dantzig-Wolfe 分解法的第一步，也是最关键的一步，是如何划分原问题。这个选择并非随意的，它会极大地影响算法的效率。一个好的分解旨在产生结构简单的子问题以及尽可能少的“连接”约束。本练习 [@problem_id:3116333] 将让你像优化建模者一样思考，通过寻找一个最优的变量划分方案，来最大化约束矩阵的“块可分性”，从而为高效求解铺平道路。", "problem": "考虑以下标准型线性规划（LP）问题，其决策变量为 $x_{1}, x_{2}, x_{3}, x_{4}, x_{5}, x_{6} \\geq 0$：\n$$\n\\min \\; c^{\\top} x \\quad \\text{其中} \\quad c = (1, 2, 3, 1, 2, 3),\n$$\n满足以下等式约束\n$$\n\\begin{aligned}\nx_{1} + x_{2} + x_{3} = 6, \\\\\nx_{4} + x_{5} + x_{6} = 6, \\\\\nx_{1} + x_{2} = 4, \\\\\nx_{4} + x_{5} = 4, \\\\\nx_{3} + x_{6} = 4, \\\\\nx_{2} + x_{4} = 4.\n\\end{aligned}\n$$\n在 Dantzig-Wolfe 分解（DWD）中，一个 LP 问题通过将其变量划分成块来进行重构，这会引导约束行划分为特定于子问题的约束和连接约束。如果一个约束行的所有非零系数只涉及单个块中的变量，则称该约束行为“纯”约束；否则称为“连接”约束。记 $A_{i}$ 为收集分配给块 $i$ 的纯约束的子问题矩阵。\n\n你需要将变量精确地划分为大小相等的两个块：\n$$\n\\{x_{1}, x_{2}, x_{3}\\} \\cup \\{x_{4}, x_{5}, x_{6}\\},\n$$\n但是你可以将任意三个变量分配给块1，其余三个分配给块2。定义块可分性指数（BSI）$S$ 为给定划分下的纯约束数量；等价地，$S$ 统计了有多少个约束行可以被分配到子问题矩阵 $A_{1}$ 或 $A_{2}$ 中，而不是成为连接约束。\n\n在所有这样的两块划分中，确定 $S$ 的最大可能值，记为 $S_{\\max}$。你的最终答案必须是给出 $S_{\\max}$ 的单个整数。", "solution": "该问题已被验证为优化理论领域内一个定义明确、有科学依据且客观的问题。它是完整的、一致的，并需要形式化推理。\n\n任务是，在将6个变量划分为两个大小为3的块的所有划分中，找到块可分性指数 $S$（即纯约束的数量）的最大可能值。如果一个约束中所有具有非零系数的变量都属于同一个块，则该约束是纯约束。\n\n设所有变量的集合为 $V = \\{x_1, x_2, x_3, x_4, x_5, x_6\\}$。我们寻求将 $V$ 划分为两个不相交的块 $B_1$ 和 $B_2$，使得 $|B_1| = |B_2| = 3$。\n\n让我们将问题陈述中给出的六个约束表示为 $C_1, \\dots, C_6$。我们可以将每个约束与其所涉及的变量集合关联起来：\n\\begin{itemize}\n    \\item $C_1: x_{1} + x_{2} + x_{3} = 6 \\implies V_1 = \\{x_1, x_2, x_3\\}$\n    \\item $C_2: x_{4} + x_{5} + x_{6} = 6 \\implies V_2 = \\{x_4, x_5, x_6\\}$\n    \\item $C_3: x_{1} + x_{2} = 4 \\implies V_3 = \\{x_1, x_2\\}$\n    \\item $C_4: x_{4} + x_{5} = 4 \\implies V_4 = \\{x_4, x_5\\}$\n    \\item $C_5: x_{3} + x_{6} = 4 \\implies V_5 = \\{x_3, x_6\\}$\n    \\item $C_6: x_{2} + x_{4} = 4 \\implies V_6 = \\{x_2, x_4\\}$\n\\end{itemize}\n对于一个划分 $\\{B_1, B_2\\}$，如果约束 $C_k$ 的变量集 $V_k$ 是 $B_1$ 或 $B_2$ 的子集，则该约束是纯约束。否则，该约束是连接约束。\n\n首先，我们通过分析一个特定的划分来确定 $S_{\\max}$ 的一个下界。考虑由前两个约束中变量的结构所建议的划分 $P_0$：\n$$B_1 = \\{x_1, x_2, x_3\\} \\quad \\text{和} \\quad B_2 = \\{x_4, x_5, x_6\\}$$\n对于这个划分 $P_0$，我们来确定纯约束的数量 $S(P_0)$：\n\\begin{itemize}\n    \\item $V_1 = \\{x_1, x_2, x_3\\} = B_1$。因此，$C_1$ 是纯约束。\n    \\item $V_2 = \\{x_4, x_5, x_6\\} = B_2$。因此，$C_2$ 是纯约束。\n    \\item $V_3 = \\{x_1, x_2\\} \\subseteq B_1$。因此，$C_3$ 是纯约束。\n    \\item $V_4 = \\{x_4, x_5\\} \\subseteq B_2$。因此，$C_4$ 是纯约束。\n    \\item $V_5 = \\{x_3, x_6\\}$。由于 $x_3 \\in B_1$ 且 $x_6 \\in B_2$，因此 $C_5$ 是连接约束。\n    \\item $V_6 = \\{x_2, x_4\\}$。由于 $x_2 \\in B_1$ 且 $x_4 \\in B_2$，因此 $C_6$ 是连接约束。\n\\end{itemize}\n对于这个划分，纯约束的数量是 $S(P_0) = 4$。由于 $S_{\\max}$ 是在所有可能划分上的最大值，我们必有 $S_{\\max} \\ge 4$。\n\n接下来，我们必须确定是否可以实现 $S > 4$ 的值。我们用反证法来证明 $S$ 不能大于 $4$。\n假设存在一个划分，使得 $S \\ge 5$。这意味着 6 个约束中至少有 5 个必须是纯约束。\n\n情况1：假设纯约束的集合是 $\\{C_1, C_2, C_3, C_4, C_5\\}$。\n要使 $C_1$ 成为纯约束，变量集 $V_1 = \\{x_1, x_2, x_3\\}$ 必须完全包含在其中一个块内。由于块的大小为 3，这要求其中一个块必须恰好是 $B_1 = \\{x_1, x_2, x_3\\}$。这个选择唯一地确定了另一个块为其补集，$B_2 = \\{x_4, x_5, x_6\\}$。\n这恰好是我们之前分析过的划分 $P_0$。对于这个划分，我们必须检查所有假设的约束是否确实是纯约束。\n- $C_1$ 是纯约束，因为 $V_1 = B_1$。\n- $C_2$ 是纯约束，因为 $V_2 = B_2$。\n- $C_3$ 是纯约束，因为 $V_3 \\subseteq B_1$。\n- $C_4$ 是纯约束，因为 $V_4 \\subseteq B_2$。\n- 要使 $C_5$ 成为纯约束，$V_5=\\{x_3, x_6\\}$ 必须是单个块的子集。然而，对于这个划分，$x_3 \\in B_1$ 且 $x_6 \\in B_2$。因此，$C_5$ 是连接约束。\n这与我们假设 $C_5$ 对于此划分是纯约束相矛盾。因此，集合 $\\{C_1, C_2, C_3, C_4, C_5\\}$ 不可能同时都是纯约束。\n\n情况2：假设纯约束的集合是 $\\{C_1, C_2, C_3, C_4, C_6\\}$。\n与情况1一样，要求 $C_1$ 对于划分为大小为3的块是纯约束，这迫使划分必须是 $B_1 = \\{x_1, x_2, x_3\\}$ 和 $B_2 = \\{x_4, x_5, x_6\\}$。\n我们检查 $C_6$ 的纯度：$V_6=\\{x_2, x_4\\}$。对于这个划分，$x_2 \\in B_1$ 且 $x_4 \\in B_2$，所以 $C_6$ 是连接约束。这与 $C_6$ 是纯约束的假设相矛盾。\n\n任何试图使至少5个约束成为纯约束的尝试都要求 $C_1$ 或 $C_2$（或两者）必须是纯约束，因为剩下的约束 $\\{C_3, C_4, C_5, C_6\\}$ 只有4个。\n\n如果 $C_1$ 是纯约束，划分必须是 $\\{ \\{x_1, x_2, x_3\\}, \\{x_4, x_5, x_6\\} \\}$。\n如果 $C_2$ 是纯约束，划分必须是 $\\{ \\{x_4, x_5, x_6\\}, \\{x_1, x_2, x_3\\} \\}$。\n在任何一种情况下，划分都是唯一确定的。我们已经计算出，对于这个特定的划分，纯约束的数量恰好是 $4$。这与任何达到 $S \\ge 5$ 的假设相矛盾。\n\n要达到 $S \\ge 5$ 的唯一剩余可能性是 $C_1$ 和 $C_2$ 都是连接约束，但这将要求五个纯约束来自 $\\{C_3, C_4, C_5, C_6\\}$，这是不可能的，因为只有四个约束。因此，如果 $C_1$ 和 $C_2$ 都是连接约束，则 $S$ 的最大可能值为 $4$。对所有 $\\frac{1}{2}\\binom{6}{3}=10$ 种划分进行系统性地枚举将证实这一点，表明没有划分能产生 $S>4$。\n\n我们已经为 $S$ 建立了一个可达到的上界。划分 $B_1 = \\{x_1, x_2, x_3\\}$ 和 $B_2 = \\{x_4, x_5, x_6\\}$ 产生 $S=4$。我们还证明了没有划分可以产生 $S \\ge 5$。因此，$S$ 的最大可能值为 $4$。", "answer": "$$\n\\boxed{4}\n$$", "id": "3116333"}, {"introduction": "当分解结构确定后，列生成算法通过迭代地“定价”并引入新的列来逐步优化解。这个过程是 Dantzig-Wolfe 方法的“引擎”。在本练习 [@problem_id:3116329] 中，你将扮演一位物流规划师，利用主问题给出的对偶变量信息来计算“简约成本”（reduced cost），并找出能带来最大利润的新路径。这个练习将帮助你具体地理解列生成的核心机制及其深刻的经济学内涵。", "problem": "一位物流规划师必须通过一个有向网络将两种商品从单一源点 $s$ 运输到单一汇点 $t$，该网络节点集为 $N=\\{s,a,b,t\\}$，弧集为 $A=\\{(s,a),(s,b),(a,b),(a,t),(b,t)\\}$。从 $s$ 运输到 $t$ 的每单位商品 $k \\in \\{1,2\\}$ 产生收益 $R_k$，并在每条使用的弧 $(i,j) \\in A$ 上产生单位弧运营成本 $c_{ij}$。弧 $(i,j)$ 的容量为 $U_{ij}$，该容量耦合了两种商品：在 $(i,j)$ 上的所有商品总流量不能超过 $U_{ij}$。商品 $k$ 的需求上限为 $d_k$：商品 $k$ 的总运输单位数不能超过 $d_k$。规划师求解一个 Dantzig–Wolfe 分解中的线性规划主问题，该主问题使用 $s$–$t$ 路径作为列；一列对应于沿着一条特定的 $s$–$t$ 路径发送 $1$ 单位特定商品 $k$。主问题是在弧容量和商品需求约束下最大化总净收益。\n\n假设一个受限主问题已经求解，并产生了以下当前的对偶乘子：对于每条弧 $(i,j) \\in A$，其容量约束的对偶乘子为 $\\pi_{ij} \\ge 0$，对于每种商品 $k$，其需求约束的对偶乘子为 $\\mu_k \\ge 0$。每种商品的定价子问题是在给定这些乘子的情况下，寻找一条能最大化列的吸引力的 $s$–$t$ 路径。\n\n数据：\n- 收益：$R_1 = 8$, $R_2 = 5$。\n- 弧运营成本：$c_{s,a}=1$, $c_{s,b}=2$, $c_{a,b}=1$, $c_{a,t}=3$, $c_{b,t}=2$。\n- 当前容量上的对偶乘子：$\\pi_{s,a}=0.5$, $\\pi_{s,b}=1.0$, $\\pi_{a,b}=0.2$, $\\pi_{a,t}=1.2$, $\\pi_{b,t}=0.3$。\n- 当前需求上的对偶乘子：$\\mu_1=1.5$, $\\mu_2=0.5$。\n\n考虑该网络中可用的三条简单 $s$–$t$ 路径：$p_1: s \\to a \\to t$，$p_2: s \\to b \\to t$ 和 $p_3: s \\to a \\to b \\to t$。\n\n哪个选项正确地陈述了对偶变量 $\\pi_{ij}$ 的经济学解释，并指出了在给定乘子下，定价子问题会选择作为最有前景的新列的单一列？\n\nA. $\\pi_{ij}$ 是弧 $(i,j)$ 上每单位容量的影子价格（边际价值）。定价过程将选择在路径 $p_3: s \\to a \\to b \\to t$ 上的商品 1。\n\nB. $\\pi_{ij}$ 是每种商品单位需求的惩罚。定价过程将选择在路径 $p_2: s \\to b \\to t$ 上的商品 1，因为它具有最小的基础运营成本。\n\nC. $\\pi_{ij}$ 是减少拥挤弧上有效成本的补贴。定价过程将选择在路径 $p_1: s \\to a \\to t$ 上的商品 2，因为它在考虑价格前产生正利润。\n\nD. $\\pi_{ij}$ 是弧 $(i,j)$ 上每单位容量的影子价格（边际价值）。定价过程将发现对于任何商品都没有具有正吸引力的路径，因此不会选择任何列。", "solution": "我们从核心的线性规划和分解原理开始。Dantzig–Wolfe 分解将一个带有耦合约束（此处为弧容量）的问题，表示为一个主问题，该主问题基于子问题（每种商品一个）的极点（此处为 $s$–$t$ 路径）进行构建，并带有一个生成改进列的定价步骤。在线性规划中，对于形式为 $\\max\\{c^\\top x : Ax \\le b, x \\ge 0\\}$ 的最大化问题，其对偶问题是 $\\min\\{b^\\top y : A^\\top y \\ge c, y \\ge 0\\}$，变量（列）$x_j$ 的检验数是 $r_j = c_j - a_j^\\top y$，其中 $a_j$ 是 $A$ 的第 $j$ 列，$y$ 是当前的对偶乘子。一个 $r_j > 0$ 的列可以改进主问题的目标函数；定价子问题寻找具有最大正检验数的列。\n\n将这些事实应用于当前的主问题。一列由一种商品 $k$ 和一条路径 $p$ 索引，代表将 1 单位商品 $k$ 沿着路径 $p$ 从 $s$ 运输到 $t$。其原始目标系数是定价前的单位净收益：即商品收益减去路径上弧运营成本的总和，即\n$$\nc_{k,p} = R_k - \\sum_{(i,j)\\in p} c_{ij}.\n$$\n它在容量约束中的列对 $p$ 中的每条弧 $(i,j)$ 贡献 $1$ 单位，在商品 $k$ 的需求约束中贡献 $1$ 单位。因此，对于弧容量的对偶乘子 $\\pi_{ij} \\ge 0$ 和商品需求的对偶乘子 $\\mu_k \\ge 0$，列 $(k,p)$ 的检验数是\n$$\nr_{k,p} = c_{k,p} - \\sum_{(i,j)\\in p} \\pi_{ij} - \\mu_k \\;=\\; R_k \\;-\\; \\sum_{(i,j)\\in p} \\big(c_{ij} + \\pi_{ij}\\big) \\;-\\; \\mu_k.\n$$\n因此，对于每种商品 $k$，定价子问题是找到一条 $s$–$t$ 路径 $p$，该路径相对于弧权重 $c_{ij} + \\pi_{ij}$ 的路径长度最小，然后检查是否 $r_{k,p} > 0$。从经济学上讲，每个 $\\pi_{ij}$ 是弧 $(i,j)$ 上一单位容量的影子价格（边际价值）：它是如果 $U_{ij}$ 放松 1 单位，最优目标函数将改善的速率。因此，在定价中，弧上的容量使用除了其运营成本 $c_{ij}$ 之外，还被“收取”价格 $\\pi_{ij}$。\n\n计算价格调整后的弧权重和路径总和：\n- 弧权重 $c_{ij} + \\pi_{ij}$：\n  - $(s,a)$: $1 + 0.5 = 1.5$,\n  - $(s,b)$: $2 + 1.0 = 3.0$,\n  - $(a,b)$: $1 + 0.2 = 1.2$,\n  - $(a,t)$: $3 + 1.2 = 4.2$,\n  - $(b,t)$: $2 + 0.3 = 2.3$.\n- 路径总和 $\\sum_{(i,j)\\in p} (c_{ij} + \\pi_{ij})$：\n  - $p_1: s \\to a \\to t$: $1.5 + 4.2 = 5.7$,\n  - $p_2: s \\to b \\to t$: $3.0 + 2.3 = 5.3$,\n  - $p_3: s \\to a \\to b \\to t$: $1.5 + 1.2 + 2.3 = 5.0$.\n\n现在评估检验数 $r_{k,p} = R_k - \\mu_k - \\text{(路径总和)}$：\n\n对于商品 1 ($R_1=8$, $\\mu_1=1.5$)：\n- $r_{1,p_1} = 8 - 1.5 - 5.7 = 0.8$,\n- $r_{1,p_2} = 8 - 1.5 - 5.3 = 1.2$,\n- $r_{1,p_3} = 8 - 1.5 - 5.0 = 1.5$.\n\n所有三个都为正，最大的是路径 $p_3: s \\to a \\to b \\to t$ 的 $r_{1,p_3} = 1.5$。\n\n对于商品 2 ($R_2=5$, $\\mu_2=0.5$)：\n- $r_{2,p_1} = 5 - 0.5 - 5.7 = -1.2$,\n- $r_{2,p_2} = 5 - 0.5 - 5.3 = -0.8$,\n- $r_{2,p_3} = 5 - 0.5 - 5.0 = -0.5$.\n\n对于商品 2，所有检验数都为非正。\n\n因此，定价子问题将选择在路径 $p_3$ 上的商品 1 所对应的列，作为最具吸引力的改进列（最大的正检验数）。$\\pi_{ij}$ 的经济学解释确实是弧容量的影子价格，即每单位容量的边际价值。\n\n逐项分析选项：\n\nA. 陈述 $\\pi_{ij}$ 是弧 $(i,j)$ 上每单位容量的影子价格，这与作为容量边际价值的对偶解释相符。它指明在路径 $p_3: s \\to a \\to b \\to t$ 上的商品 1 是被选择的列，这是正确的，因为它具有最大的正检验数 $1.5$。结论：正确。\n\nB. 声称 $\\pi_{ij}$ 是单位需求的惩罚；这将容量对偶与需求对偶混淆了。它还基于最小的基础运营成本选择了 $p_2$，忽略了容量价格和需求对偶，而这并不是定价标准。结论：不正确。\n\nC. 将 $\\pi_{ij}$ 描述为减少有效成本的补贴；实际上，它们在检验数中作为加到运营成本上的价格。它还选择了在路径 $p_1$ 上的商品 2，但商品 2 的所有检验数都是负的。结论：不正确。\n\nD. 正确解释了 $\\pi_{ij}$ 为影子价格，但声称不存在正的检验数。实际上，商品 1 具有正的检验数，其中 $p_3$ 是最优的。结论：不正确。\n\n因此，只有选项 A 是正确的。", "answer": "$$\\boxed{A}$$", "id": "3116329"}, {"introduction": "Dantzig-Wolfe 分解法是一个强大的工具，但并非万能。一个糟糕的分解选择，可能会将一个简单问题变得异常复杂，甚至无法求解。最后的这个练习 [@problem_id:3116357] 提供了一个发人深省的反例。通过分析一个主问题列数量呈指数级爆炸的案例，你将学会审慎评估子问题的结构，并理解分解策略中所蕴含的计算复杂性权衡。", "problem": "考虑以下线性规划 (LP) 问题，其中线性规划 (LP) 指在一个多面体可行域上对一个线性目标进行优化。设 $n$ 是一个偶正整数，定义决策向量 $x \\in \\mathbb{R}^{n}$，其分量为 $x_{i}$，$i=1,\\dots,n$。该 LP 问题为\n$$\n\\min\\ \\sum_{i=1}^{n} c_{i} x_{i}\n\\quad \\text{subject to} \\quad\n\\sum_{i=1}^{n} x_{i} = \\frac{n}{2}, \\quad 0 \\leq x_{i} \\leq 1 \\ \\text{for all } i=1,\\dots,n,\n$$\n其中成本 $c_{i}$ 严格递增，满足 $c_{1}  c_{2}  \\dots  c_{n}$。\n\n1. 仅使用多面体理论和线性优化中的基本定义（极点、凸包和线性目标），论证为何最初的 LP 问题可以根据其可行域的结构和成本的单调性，通过简单的推理直接求解。\n\n2. 现在，通过将变量划分为 $m$ 个大小相等的块，每块大小为 $k$，使得 $n = m k$，来构建上述 LP 问题的 Dantzig-Wolfe 分解 (DWD)。对每个块 $j \\in \\{1,\\dots,m\\}$，定义局部可行集\n$$\nX_{j} = \\{ x^{(j)} \\in \\mathbb{R}^{k} : 0 \\leq x^{(j)}_{p} \\leq 1 \\ \\text{for } p=1,\\dots,k \\},\n$$\n并使用一个连接所有块的单一连接约束：\n$$\n\\sum_{j=1}^{m} \\sum_{p=1}^{k} x^{(j)}_{p} = \\frac{n}{2}.\n$$\n在 Dantzig-Wolfe 重构中，每个块 $j$ 由其可行集 $X_{j}$ 的极点的凸组合表示，并且主问题为每个块的每个极点包含一列。\n\n从第一性原理出发，推导在该分解下主问题中出现的不同列的总数，并将其表示为 $m$ 和 $k$ 的函数。\n\n3. 最后，对 $m=5$ 和 $k=8$ (因此 $n=40$ 且 $\\frac{n}{2}=20$) 的情况，对你的表达式进行数值计算。无需四舍五入。你的最终数值答案必须是该分解下 Dantzig-Wolfe 主问题中的列总数。\n\n此外，根据你的推导，简要地确定并解释避免导致 Dantzig-Wolfe 主问题中出现大量列的过度分解的实践标准。你的解释应基于极点和连接约束的结构，但你的最终答案必须是上面要求的单个数字。", "solution": "用户提供了一个包含三部分的问题，涉及一个特定的线性规划 (LP) 问题及其 Dantzig-Wolfe 分解。\n\n首先，需要对问题陈述进行验证。\n\n**步骤 1：提取已知条件**\n- LP 问题为：\n$$\n\\min\\ \\sum_{i=1}^{n} c_{i} x_{i}\n$$\n约束条件为：\n$$\n\\sum_{i=1}^{n} x_{i} = \\frac{n}{2}\n$$\n$$\n0 \\leq x_{i} \\leq 1 \\quad \\text{for all } i=1,\\dots,n\n$$\n- 整数 $n$ 是一个偶正整数。\n- 决策变量为 $x_{i} \\in \\mathbb{R}$，$i=1,\\dots,n$。\n- 成本系数 $c_{i}$ 严格递增，即 $c_{1}  c_{2}  \\dots  c_{n}$。\n- 对于 Dantzig-Wolfe 分解 (DWD)，变量被划分为 $m$ 个大小相等的块，每块大小为 $k$，其中 $n = mk$。\n- 对于每个块 $j \\in \\{1,\\dots,m\\}$，局部可行集定义为：\n$$\nX_{j} = \\{ x^{(j)} \\in \\mathbb{R}^{k} : 0 \\leq x^{(j)}_{p} \\leq 1 \\ \\text{for } p=1,\\dots,k \\}\n$$\n- 使用一个单一的连接约束：\n$$\n\\sum_{j=1}^{m} \\sum_{p=1}^{k} x^{(j)}_{p} = \\frac{n}{2}\n$$\n- 第三部分要求对 $m=5$ 和 $k=8$ 进行数值计算。\n\n**步骤 2：使用提取的已知条件进行验证**\n该问题具有科学依据、适定且客观。它是线性优化和分解方法领域的标准练习。\n- **科学/事实的可靠性**：该问题基于线性规划和多面体理论的既定原则。LP 结构是有效的，所提出的 DWD 是一种标准技术。\n- **完整性和一致性**：该问题是自洽的。所有必要的变量（$n, m, k, c_i$）、约束和定义都已提供。分解结构 ($n=mk$) 是一致的。连接约束是原始耦合约束的直接重述。\n- **适定性**：问题的每个部分都要求进行推导或论证，以得出唯一、有意义的答案。第一部分是一项推理任务。第二部分要求根据给定结构得出一个公式。第三部分要求对该公式进行数值计算。该问题的结构决定了它有唯一解。\n\n**步骤 3：结论和行动**\n该问题被认为是**有效的**。将提供完整的解答。\n\n**第一部分：直接求解的论证**\n\n线性规划基本定理指出，如果一个 LP 问题有最优解，那么至少有一个最优解必然出现在其可行域的一个极点（顶点）上。该 LP 问题的可行域是由 $n$ 维超立方体 $[0,1]^n$ 与超平面 $\\sum_{i=1}^{n} x_{i} = \\frac{n}{2}$ 的交集定义的多胞体 $P$。\n\n$P$ 的一个极点不能有任何分数分量。为了证明这一点，假设一个可行解 $x$ 有一个分数分量 $0  x_j  1$。为了满足求和约束 $\\sum x_i = \\frac{n}{2}$，必须至少有另一个分数分量，比如说 $0  x_k  1$。我们可以定义一个扰动向量 $d \\in \\mathbb{R}^n$，其中 $d_j = 1$, $d_k = -1$，对所有 $i \\ne j,k$ 有 $d_i = 0$。对于一个足够小的 $\\epsilon > 0$，点 $x + \\epsilon d$ 和 $x - \\epsilon d$ 仍保留在超立方体 $[0,1]^n$ 内并且在超平面上（因为 $\\sum d_i = 0$）。因此，$x = \\frac{1}{2}(x + \\epsilon d) + \\frac{1}{2}(x - \\epsilon d)$，这表明 $x$ 是另外两个可行点的凸组合。根据定义，$x$ 不可能是一个极点。\n\n因此，可行域 $P$ 的极点是二元向量，$x \\in \\{0, 1\\}^n$。约束 $\\sum_{i=1}^{n} x_i = \\frac{n}{2}$ 进一步要求任何这样的极点必须恰好有 $\\frac{n}{2}$ 个分量等于 $1$，以及 $\\frac{n}{2}$ 个分量等于 $0$。\n\n目标是最小化线性函数 $\\sum_{i=1}^{n} c_i x_i$。鉴于成本严格递增 $c_1  c_2  \\dots  c_n$，要使总和最小化，就应该将值 $1$ 赋给对应于最小成本的变量 $x_i$，并将值 $0$ 赋给对应于最大成本的变量。为了满足恰好有 $\\frac{n}{2}$ 个变量为 $1$ 的约束，我们必须将前 $\\frac{n}{2}$ 个变量设为 $x_i=1$，将其余 $\\frac{n}{2}$ 个变量设为 $x_i=0$。\n\n因此，唯一的最优解是：\n$$\nx_i = 1 \\quad \\text{for } i = 1, \\dots, \\frac{n}{2}\n$$\n$$\nx_i = 0 \\quad \\text{for } i = \\frac{n}{2} + 1, \\dots, n\n$$\n这种基于极点结构和目标函数的直接推理，无需使用像单纯形法那样的迭代算法即可解决该 LP 问题。\n\n**第二部分：Dantzig-Wolfe 主问题中列数的推导**\n\n在 Dantzig-Wolfe 方法中，主问题是通过将每个子问题的解空间表示为其极点的凸包来构建的。\n\n子问题 $j$ 涉及变量 $x^{(j)} \\in \\mathbb{R}^k$。子问题 $j$ 的可行域是集合 $X_j = \\{ x^{(j)} \\in \\mathbb{R}^{k} : 0 \\leq x^{(j)}_{p} \\leq 1 \\ \\text{for } p=1,\\dots,k \\}$。这个集合是一个 $k$ 维超立方体。\n\n根据 Minkowski-Weyl 定理，任何点 $x^{(j)} \\in X_j$ 都可以表示为 $X_j$ 极点的凸组合。一个 $k$ 维超立方体的极点是其顶点。一个 $k$ 维超立方体有 $2^k$ 个顶点。每个顶点是 $\\{0, 1\\}^k$ 中的一个二元向量。我们将块 $j$ 的这些极点的集合表示为 $\\{v_{j,q}\\}_{q=1}^{2^k}$。\n\n于是我们可以写出：\n$$\nx^{(j)} = \\sum_{q=1}^{2^k} \\lambda_{j,q} v_{j,q}\n$$\n其中 $\\sum_{q=1}^{2^k} \\lambda_{j,q} = 1$ 并且对所有 $q$ 都有 $\\lambda_{j,q} \\geq 0$。\n\nDWD 主问题使用非负变量 $\\lambda_{j,q}$ 进行构建。对于每个块 $j \\in \\{1, \\dots, m\\}$ 及其 $2^k$ 个极点中的每一个 $v_{j,q}$，都引入一个变量 $\\lambda_{j,q}$。每个这样的变量对应于主问题约束矩阵中的一列。\n\n完整主问题中的总列数就是变量 $\\lambda_{j,q}$ 的总数。这个数量是块的数量 ($m$) 乘以每个块的极点数量。\n\n块的数量 = $m$。\n每个块的可行集 $X_j$（一个 $k$ 维超立方体）的极点数量 = $2^k$。\n\n主问题中出现的不同列的总数是完整表示所需的这类 $\\lambda_{j,q}$ 变量的总数。这是因为每一列都由块索引 $j$ 和极点索引 $q$ 唯一确定。来自不同块 ($j_1 \\ne j_2$) 的列是不同的，因为它们贡献于不同的凸性约束（$\\sum_q \\lambda_{j_1,q} = 1$ 与 $\\sum_q \\lambda_{j_2,q} = 1$）。在同一块内对应于不同极点的列在构建中也被视为不同的，因为它们对应于独立的变量 $\\lambda_{j,q}$，无论它们的系数向量对于一组特定的成本 $c_i$ 是否恰好相同。\n\n因此，主问题中的总列数为：\n$$\n\\text{总列数} = (\\text{块数}) \\times (\\text{每块的极点数}) = m \\times 2^k\n$$\n\n**第三部分：数值计算和实践标准**\n\n给定参数 $m=5$ 和 $k=8$（这意味着 $n=mk=40$，与问题陈述中 $\\frac{n}{2}=20$ 是整数的说法一致），我们可以计算第二部分推导出的表达式。\n\n总列数为：\n$$\nN = m \\times 2^k = 5 \\times 2^8\n$$\n我们计算 $2^8$：\n$$\n2^8 = 256\n$$\n现在，我们求出总列数：\n$$\nN = 5 \\times 256 = 1280\n$$\n\n最终的数值答案是 $1280$。\n\n关于避免大量列的实践标准：表达式 $m \\times 2^k$ 表明，列数由项 $2^k$ 主导，该项随块大小 $k$ 呈指数级增长。原问题中的变量数量是固定的，$n=mk$。为了最小化列数 $m \\times 2^{n/m}$，必须选择使 $k$ 较小的分解。这对应于具有大量块（即 $m$ 较大）的分解。\n\n“过度分解”这个术语可能含糊不清。如果它意味着创建过多的块（大的 $m$，小的 $k$），这恰恰是*最小化*主问题列数的策略。然而，这样做的代价是增加了主问题中的行数（每个块一个凸性约束）。主问题列数过多不是由“过度分解”引起的，而是由“分解不足”引起的，即使用少量非常大的块（小的 $m$，大的 $k$）。\n\n核心原则是，子问题可行域的极点数量通常随其维度呈指数级增长。在这种情况下，子问题区域 $X_j$ 是 $k$ 维超立方体，其极点数恰好为 $2^k$。因此，避免主问题中出现难以处理的大量列的主要实践标准是，在定义块时保持其维度 $k$ 较小。", "answer": "$$\n\\boxed{1280}\n$$", "id": "3116357"}]}