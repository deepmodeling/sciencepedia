{"hands_on_practices": [{"introduction": "理解一个算法最好的方式就是亲手执行一遍。本练习将带领你对一个简单的凸函数应用坐标下降法。通过从头计算一个完整的迭代周期，你将巩固对该方法核心机制的理解：即每次只沿着一个坐标轴方向进行最小化。", "problem": "考虑二元函数 $f(x,y) = 2x^2 + y^2 + xy - 6x - 5y$。我们采用一个优化程序，使用坐标下降算法来寻找该函数的最小值。该过程从初始点 $(x_0, y_0) = (0, 0)$ 开始。\n\n要求你执行恰好一个完整周期的坐标下降。周期内的更新顺序如下：首先，关于 $x$ 坐标最小化函数；然后，使用新找到的 $x$ 坐标，关于 $y$ 坐标最小化函数。\n\n确定经过这一个周期后点的坐标 $(x_1, y_1)$。你的答案应包含这两个坐标值，并以精确分数的形式表示。", "solution": "我们对二次函数 $f(x,y) = 2x^{2} + y^{2} + xy - 6x - 5y$ 从点 $(x_{0}, y_{0}) = (0, 0)$ 开始执行一个完整周期的坐标下降，更新顺序为先 $x$ 后 $y$。对于一个固定的坐标，最小化一个可微函数的方法是将其关于该坐标的偏导数设为零；由于 $f$ 是二次函数且在每个坐标上都是严格凸的（可通过为正的二阶偏导数验证），这样做可以得到该坐标上的唯一最小值点。\n\n首先，在保持 $y = y_{0} = 0$ 固定的情况下，对函数关于 $x$ 进行最小化。计算关于 $x$ 的偏导数：\n$$\n\\frac{\\partial f}{\\partial x} = 4x + y - 6.\n$$\n在 $y=0$ 处将其设为零：\n$$\n4x + 0 - 6 = 0 \\quad \\Longrightarrow \\quad 4x = 6 \\quad \\Longrightarrow \\quad x = \\frac{3}{2}.\n$$\n由于 $\\frac{\\partial^{2} f}{\\partial x^{2}} = 4 > 0$，这是在固定 $y=0$ 时 $x$ 的唯一最小值点。因此，在 $x$ 更新后，我们得到 $x_{1} = \\frac{3}{2}$，而 $y$ 仍为 $0$。\n\n接下来，在保持 $x = x_{1} = \\frac{3}{2}$ 固定的情况下，对函数关于 $y$ 进行最小化。计算关于 $y$ 的偏导数：\n$$\n\\frac{\\partial f}{\\partial y} = 2y + x - 5.\n$$\n在 $x=\\frac{3}{2}$ 处将其设为零：\n$$\n2y + \\frac{3}{2} - 5 = 0 \\quad \\Longrightarrow \\quad 2y - \\frac{7}{2} = 0 \\quad \\Longrightarrow \\quad 2y = \\frac{7}{2} \\quad \\Longrightarrow \\quad y = \\frac{7}{4}.\n$$\n由于 $\\frac{\\partial^{2} f}{\\partial y^{2}} = 2 > 0$，这是在固定 $x=\\frac{3}{2}$ 时 $y$ 的唯一最小值点。因此，经过一个完整周期后，更新后的点是 $\\left(x_{1}, y_{1}\\right) = \\left(\\frac{3}{2}, \\frac{7}{4}\\right)$。", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{3}{2}  \\frac{7}{4}\\end{pmatrix}}$$", "id": "2164480"}, {"introduction": "掌握了基本步骤后，探索坐标下降法在不同类型函数上的行为至关重要。本练习 [@problem_id:2164429] 从光滑的二次函数转向一个不可微的绝对值函数，这种情况在许多现代优化问题（如 LASSO 回归）中很常见。这个思想实验将揭示算法路径的几何特性，以及它为何可能产生“之”字形收敛行为。", "problem": "考虑一个二元函数 $f: \\mathbb{R}^2 \\to \\mathbb{R}$，其表达式为 $f(x, y) = |x - y|$。我们将分析坐标下降算法在此函数上的行为。该算法从一个初始点 $(x_0, y_0)$ 开始，并生成一个通过迭代最小化该函数得到的点序列。\n\n坐标下降算法的步骤如下：对于每次迭代 $k=0, 1, 2, \\dots$，从点 $(x_k, y_k)$ 开始，分两步生成下一个点 $(x_{k+1}, y_{k+1})$：\n1.  首先，通过求解以下一维最小化问题来更新 $x$ 坐标：\n    $x_{new} = \\arg\\min_{z \\in \\mathbb{R}} f(z, y_k)$。\n2.  然后，使用新的 $x$ 坐标更新 $y$ 坐标：\n    $y_{new} = \\arg\\min_{w \\in \\mathbb{R}} f(x_{new}, w)$。\n那么下一次迭代的点是 $(x_{k+1}, y_{k+1}) = (x_{new}, y_{new})$。\n\n设每次坐标更新生成的点序列为 $P_0, P_{0.5}, P_1, P_{1.5}, \\dots$，其中 $P_0=(x_0, y_0)$，$P_{0.5}=(x_1, y_0)$，$P_1=(x_1, y_1)$，以此类推。总路径长度是该序列中连接连续点的线段的欧几里得长度之和，直到算法收敛（即点不再改变）。\n\n考虑两种基于起始点的情形：\n- **情形 A**：起始点为 $(x_0, y_0) = (c, c)$，其中 $c > 0$ 为某个常数。设总路径长度为 $L_A$。\n- **情形 B**：起始点为 $(x_0, y_0) = (c, -c)$，对于相同的常数 $c > 0$。设总路径长度为 $L_B$。\n\n计算比率 $\\frac{L_B}{c}$ 的值。", "solution": "我们分析坐标下降算法在 $f(x,y)=|x-y|$ 上的表现。对于一个固定的 $y$，定义 $g(z)=|z-y|$。函数 $g$ 在 $z=y$ 时达到最小值，因为 $|z-y|\\geq 0$ 且等号当且仅当 $z=y$ 时成立。因此，\n$$\nx_{\\text{new}}=\\arg\\min_{z\\in\\mathbb{R}}|z-y_{k}|=y_{k}.\n$$\n类似地，对于一个固定的 $x$，定义 $h(w)=|x-w|$，它在 $w=x$ 处有唯一的最小值，所以\n$$\ny_{\\text{new}}=\\arg\\min_{w\\in\\mathbb{R}}|x_{\\text{new}}-w|=x_{\\text{new}}.\n$$\n因此，每次完整迭代将 $(x_{k},y_{k})$ 映射到 $(x_{k+1},y_{k+1})=(y_{k},y_{k})$。\n\n情形 A：从 $(x_{0},y_{0})=(c,c)$ 开始，其中 $c0$。第一次 $x$ 更新得到 $x_{\\text{new}}=y_{0}=c$，所以 $P_{0.5}=(c,c)=P_{0}$。$y$ 更新得到 $y_{\\text{new}}=x_{\\text{new}}=c$，所以 $P_{1}=(c,c)=P_{0.5}$。在任何步骤中都没有发生移动，因此总路径长度为 $L_{A}=0$。\n\n情形 B：从 $(x_{0},y_{0})=(c,-c)$ 开始，其中 $c0$。第一次 $x$ 更新得到 $x_{\\text{new}}=y_{0}=-c$，所以\n$$\nP_{0.5}=(-c,-c).\n$$\n从 $P_{0}$ 到 $P_{0.5}$ 的线段的欧几里得长度是\n$$\n\\sqrt{\\left((-c)-c\\right)^{2}+\\left((-c)-(-c)\\right)^{2}}=\\sqrt{(-2c)^{2}}=2c.\n$$\n随后的 $y$ 更新得到 $y_{\\text{new}}=x_{\\text{new}}=-c$，所以 $P_{1}=(-c,-c)=P_{0.5}$，其贡献的额外路径长度为零。因为在点 $(-c,-c)$ 处 $x=y$，所有后续的更新都会保持该点不变。因此，总路径长度为 $L_{B}=2c$。\n\n因此，\n$$\n\\frac{L_{B}}{c}=\\frac{2c}{c}=2.\n$$", "answer": "$$\\boxed{2}$$", "id": "2164429"}, {"introduction": "当目标函数中的变量相互耦合时，我们更新坐标的顺序会影响优化路径。本练习 [@problem_id:2164438] 旨在通过对比一个迭代周期内两种不同更新顺序产生的结果，来探索这种路径依赖性。它突出了坐标下降法的一个关键精妙之处，并强调了坐标选择策略并非无足轻重。", "problem": "考虑优化如下给出的双变量目标函数：\n$$\nf(x, y) = (x + 2y - c_1)^2 + (3x - y - c_2)^2\n$$\n其中 $c_1$ 和 $c_2$ 是实值常数。\n\n一个优化过程使用坐标下降法从起始点 $(x_0, y_0) = (0, 0)$ 开始。在该方法的每一步中，将单个坐标更新为使目标函数最小化的值，而另一个坐标则保持其当前值不变。算法的“一个完整周期”包括对每个坐标恰好更新一次。\n\n我们希望比较在两种不同的更新顺序下，经过一个完整周期后的结果：\n1.  令 $P_{xy} = (x_1, y_1)$ 为更新顺序为 $(x, \\text{然后 } y)$ 时，经过一个完整周期后得到的点。这意味着我们首先固定 $y$ 为 $y_0$ 并更新 $x$（称之为 $x_1$），然后固定 $x$ 为其新值 $x_1$ 并更新 $y$（称之为 $y_1$）。\n2.  令 $P_{yx} = (x'_1, y'_1)$ 为更新顺序为 $(y, \\text{然后 } x)$ 时，经过一个完整周期后得到的点。这意味着我们首先固定 $x$ 为 $x_0$ 并更新 $y$（称之为 $y'_1$），然后固定 $y$ 为其新值 $y'_1$ 并更新 $x$（称之为 $x'_1$）。\n\n请确定这四个坐标 $x_1, y_1, x'_1$ 和 $y'_1$ 关于常数 $c_1$ 和 $c_2$ 的解析表达式。请将你的答案表示为一个 $1 \\times 4$ 的行矩阵，其中包含按顺序 $(x_1, y_1, x'_1, y'_1)$ 排列的坐标。", "solution": "我们对 $f(x,y)=(x+2y-c_{1})^{2}+(3x-y-c_{2})^{2}$ 进行逐坐标最小化。对于固定的 $y$，通过令 $\\frac{\\partial f}{\\partial x}=0$ 来获得关于 $x$ 的最小值点：\n$$\n\\frac{\\partial f}{\\partial x}=2(x+2y-c_{1})+6(3x-y-c_{2})=20x-2y-2c_{1}-6c_{2}.\n$$\n令其等于零，解出 $x$ 可得\n$$\n20x-2y-2c_{1}-6c_{2}=0 \\;\\;\\Rightarrow\\;\\; x^{*}(y)=\\frac{y+c_{1}+3c_{2}}{10}.\n$$\n对于固定的 $x$，通过令 $\\frac{\\partial f}{\\partial y}=0$ 来获得关于 $y$ 的最小值点：\n$$\n\\frac{\\partial f}{\\partial y}=4(x+2y-c_{1})-2(3x-y-c_{2})=-2x+10y-4c_{1}+2c_{2}.\n$$\n令其等于零，解出 $y$ 可得\n$$\n-2x+10y-4c_{1}+2c_{2}=0 \\;\\;\\Rightarrow\\;\\; y^{*}(x)=\\frac{x+2c_{1}-c_{2}}{5}.\n$$\n\n从 $(x_{0},y_{0})=(0,0)$ 开始，按 $(x, \\text{然后 } y)$ 的顺序更新：\n- 在 $y=y_{0}=0$ 的条件下更新 $x$：\n$$\nx_{1}=x^{*}(0)=\\frac{0+c_{1}+3c_{2}}{10}=\\frac{c_{1}+3c_{2}}{10}.\n$$\n- 在 $x=x_{1}$ 的条件下更新 $y$：\n$$\ny_{1}=y^{*}(x_{1})=\\frac{x_{1}+2c_{1}-c_{2}}{5}=\\frac{\\frac{c_{1}+3c_{2}}{10}+2c_{1}-c_{2}}{5}=\\frac{21c_{1}-7c_{2}}{50}.\n$$\n\n从 $(x_{0},y_{0})=(0,0)$ 开始，按 $(y, \\text{然后 } x)$ 的顺序更新：\n- 在 $x=x_{0}=0$ 的条件下更新 $y$：\n$$\ny'_{1}=y^{*}(0)=\\frac{0+2c_{1}-c_{2}}{5}=\\frac{2c_{1}-c_{2}}{5}.\n$$\n- 在 $y=y'_{1}$ 的条件下更新 $x$：\n$$\nx'_{1}=x^{*}(y'_{1})=\\frac{y'_{1}+c_{1}+3c_{2}}{10}=\\frac{\\frac{2c_{1}-c_{2}}{5}+c_{1}+3c_{2}}{10}=\\frac{7c_{1}+14c_{2}}{50}.\n$$\n\n因此，所求的按顺序 $(x_{1},y_{1},x'_{1},y'_{1})$ 排列的行矩阵为\n$$\n\\begin{pmatrix}\n\\frac{c_{1}+3c_{2}}{10}  \\frac{21c_{1}-7c_{2}}{50}  \\frac{7c_{1}+14c_{2}}{50}  \\frac{2c_{1}-c_{2}}{5}\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{c_{1}+3c_{2}}{10}  \\frac{21c_{1}-7c_{2}}{50}  \\frac{7c_{1}+14c_{2}}{50}  \\frac{2c_{1}-c_{2}}{5}\\end{pmatrix}}$$", "id": "2164438"}]}