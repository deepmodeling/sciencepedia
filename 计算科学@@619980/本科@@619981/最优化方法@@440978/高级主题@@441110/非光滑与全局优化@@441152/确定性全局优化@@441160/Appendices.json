{"hands_on_practices": [{"introduction": "确定性全局优化的基石在于为棘手的非凸问题创建一个可解的“松弛”版本，并以此获得真实解的一个有效界。本练习将引导你完成这一核心过程。你将面对一个带有饱和效应的非凸函数，并从第一性原理出发，为其构建最紧的凸松弛，最终计算出一个可靠的全局下界。", "problem": "考虑一个标量决策变量 $x$，其约束在区间 $[l,u]$ 上，其中 $0 < l < u$。目标函数为：\n$$ J(x) = \\left(\\min\\{M,x^{2}\\}-b\\right)^{2} $$\n其中 $M$ 和 $b$ 是给定的正常数。\n从凸包络的定义和分支定界 (B&B) 的定界原理出发，为该问题推导出最紧的根节点下界 $L_B$ 的闭式表达式。然后，使用以下值计算该下界：\n$l=1$, $u=3$, $M=6$, $b=8$。\n您的最终答案应为单个精确数值，四舍五入到小数点后三位。", "solution": "该问题要求使用凸松弛为一个非凸优化问题推导下界，凸松弛是诸如分支定界等确定性全局优化方法的基石。推导将按要求从第一性原理出发。\n\n首先，我们建立必要的定义。一个定义在凸集 $C \\subseteq \\mathbb{R}^n$ 上的函数 $f: C \\to \\mathbb{R}$ 被称为凸函数，如果对于任意两点 $x_1, x_2 \\in C$ 和任意标量 $\\lambda \\in [0, 1]$，以下不等式成立：\n$$f(\\lambda x_1 + (1-\\lambda)x_2) \\le \\lambda f(x_1) + (1-\\lambda)f(x_2)$$\n一个集合 $S \\subseteq \\mathbb{R}^n$ 的凸包，记作 $\\text{conv}(S)$，是包含 $S$ 的最小凸集。它是所有包含 $S$ 的凸集的交集。\n\n该优化问题是要求解目标函数 $J(x) = (\\min\\{M, x^2\\} - b)^2$ 在区间 $x \\in [l, u]$ 上的全局最小值。由于项 $\\min\\{M, x^2\\}$ 的存在，函数 $J(x)$ 是非凸的。为了应用凸优化技术，我们通过引入一个辅助变量 $y$ 来重新表述该问题。原问题等价于：\n$$ \\min_{x,y} (y-b)^2 $$\n约束条件为：\n$$ y = \\min\\{M, x^2\\} $$\n$$ x \\in [l, u] $$\n该等式约束可以分解为在 $(x,y)$ 空间中定义可行域的一组约束：\n$$ y = x^2 $$\n$$ y \\le M $$\n$$ l \\le x \\le u $$\n约束 $y=x^2$ 是非凸的。在分支定界的背景下，我们寻求在由 $x \\in [l, u]$ 定义的域上目标函数的下界。这是通过用一个更大的凸区域（称为凸松弛）替换非凸可行域来实现的。关键在于松弛非凸约束 $y=x^2$。\n\n对于 $x \\in [l, u]$，满足 $y=x^2$ 的点集是该区间上抛物线的图像。函数 $f(x)=x^2$ 是一个凸函数。其图像的最紧凸松弛是其凸包。对于一个在区间 $[l, u]$ 上的凸函数 $f(x)$，其图像的凸包是由函数本身作为下界、由连接端点 $(l, f(l))$ 和 $(u, f(u))$ 的割线作为上界的点集 $(x,y)$。\n\n给定 $f(x)=x^2$，割线的端点是 $(l, l^2)$ 和 $(u, u^2)$。割线的斜率为：\n$$ m = \\frac{u^2 - l^2}{u - l} = \\frac{(u-l)(u+l)}{u-l} = u+l $$\n割线方程 $y_s(x)$ 由点斜式给出：\n$$ y_s(x) - l^2 = (u+l)(x-l) $$\n$$ y_s(x) = (u+l)x - lu - l^2 + l^2 = (u+l)x - lu $$\n因此，对于 $x \\in [l, u]$，约束 $y=x^2$ 的凸松弛是一对不等式：\n$$ x^2 \\le y \\le (u+l)x - lu $$\n将此与其他约束相结合，我们定义了凸松弛可行集 $\\mathcal{R}$：\n$$ \\mathcal{R} = \\{ (x,y) \\in \\mathbb{R}^2 \\mid l \\le x \\le u, \\quad x^2 \\le y \\le (u+l)x - lu, \\quad y \\le M \\} $$\n松弛优化问题为原问题提供了一个下界：\n$$ L_B = \\min_{(x,y) \\in \\mathcal{R}} (y-b)^2 $$\n目标函数 $(y-b)^2$ 仅依赖于变量 $y$。因此，我们可以通过首先确定集合 $\\mathcal{R}$ 中 $y$ 的可行值范围，然后在此范围上最小化目标函数来找到解。设 $Y$ 是 $\\mathcal{R}$ 在 $y$ 轴上的投影。\n$$ Y = \\{ y \\mid \\exists x \\text{ s.t. } (x,y) \\in \\mathcal{R} \\} $$\n对于一个给定的 $y$ 要在 $Y$ 中，必须存在一个 $x$ 满足：\n1. $l \\le x \\le u$\n2. $y \\le M$\n3. $x^2 \\le y \\implies x \\le \\sqrt{y}$ (因为 $x>l>0$)\n4. $y \\le (u+l)x - lu \\implies x \\ge \\frac{y+lu}{u+l}$\n\n因此，对于一个给定的 $y \\le M$，区间 $[l,u]$ 与为 $x$ 定义的区间 $[\\frac{y+lu}{u+l}, \\sqrt{y}]$ 之间必须有交集。为了使后一个区间非空，我们需要 $\\frac{y+lu}{u+l} \\le \\sqrt{y}$，这等价于 $y - (u+l)\\sqrt{y} + lu \\le 0$。令 $z = \\sqrt{y}$，这变成二次不等式 $z^2 - (u+l)z + lu \\le 0$。二次方程 $z^2 - (u+l)z + lu = 0$ 的根是 $z=l$ 和 $z=u$。因此，不等式对 $z \\in [l, u]$ 成立，这意味着 $\\sqrt{y} \\in [l,u]$，或者 $y \\in [l^2, u^2]$。\n对于任何 $y \\in [l^2, u^2]$，有效的 $x$ 值区间 $[\\frac{y+lu}{u+l}, \\sqrt{y}]$ 是非空的，并且是 $[l,u]$ 的一个子区间。因此，存在一个可行的 $x$。\n将此与约束 $y \\le M$ 结合，$y$ 的所有可能值的集合是区间 $Y = [l^2, u^2] \\cap (-\\infty, M]$，可简化为：\n$$ Y = [l^2, \\min(M, u^2)] $$\n下界问题简化为一维最小化问题：\n$$ L_B = \\min_{y \\in [l^2, \\min(M, u^2)]} (y-b)^2 $$\n$(y-b)^2$ 的无约束最小值在 $y=b$ 处取得。约束问题的解是通过将点 $b$ 投影到区间 $[l^2, \\min(M, u^2)]$ 上找到的。\n设 $y_{min} = l^2$ 和 $y_{max} = \\min(M, u^2)$。目标函数的最小值在 $[y_{min}, y_{max}]$ 中离 $b$ 最近的点 $y^*$ 处达到。\n因此，下界 $L_B$ 由以下分段表达式给出：\n$$ L_B = \\begin{cases} (l^2-b)^2 & \\text{若 } b  l^2 \\\\ 0  \\text{若 } l^2 \\le b \\le \\min(M, u^2) \\\\ (\\min(M, u^2)-b)^2  \\text{若 } b > \\min(M, u^2) \\end{cases} $$\n此表达式是所需的闭式下界。\n\n我们现在为给定的数值计算这个界限：$l=1$，$u=3$，$M=6$，和 $b=8$。\n首先，我们确定松弛问题中 $y$ 的区间：\n$$ y_{min} = l^2 = 1^2 = 1 $$\n$$ u^2 = 3^2 = 9 $$\n$$ y_{max} = \\min(M, u^2) = \\min(6, 9) = 6 $$\n该区间是 $Y = [1, 6]$。\n目标值是 $b=8$。我们将 $b$ 与此区间进行比较。\n由于 $b = 8 > 6$，即 $y_{max}$，我们处于下界公式的第三种情况。\n下界 $L_B$ 是：\n$$ L_B = (y_{max} - b)^2 = (6 - 8)^2 = (-2)^2 = 4 $$\n$\\min_{x\\in[1,3]} \\left(\\min\\{6,x^{2}\\}-8\\right)^{2}$ 的数值下界是 $4$。四舍五入到三位有效数字得到 $4.000$。", "answer": "$$\\boxed{4.000}$$", "id": "3118809"}, {"introduction": "现实世界中的优化问题通常涉及众多变量，而利用问题的特殊结构是求解这些问题的关键策略。本练习将介绍“可分离性”这一重要概念，即可将复杂的目标函数分解为多个一维简单函数之和。你将学习如何通过对各分量分别进行凸松弛并求和，从而为高维问题构建全局下界，体验化繁为简的威力。", "problem": "考虑一个确定性全局最小化问题，其目标函数在一个由单个线性连接约束的箱型区域上是可分的。目标函数为\n$$\nf(x) \\;=\\; \\sum_{i=1}^{3} f_i(x_i),\n$$\n其中\n$$\nf_1(x_1) \\;=\\; \\sqrt{x_1}, \\quad f_2(x_2) \\;=\\; \\ln(x_2), \\quad f_3(x_3) \\;=\\; \\arctan(x_3),\n$$\n可行集为\n$$\n\\mathcal{X} \\;=\\; \\left\\{ x \\in \\mathbb{R}^{3} \\;:\\; x_1 \\in [1,3],\\; x_2 \\in [2,5],\\; x_3 \\in [0,4],\\; x_1 + x_2 + x_3 \\;=\\; 7 \\right\\}.\n$$\n所有三角函数均以弧度为单位。\n\n从凸包络的定义和分支定界 (BnB) 的定界原理出发，利用可分性，通过对各个坐标区间上的单变量凸包络 $f_i$求和，并仅通过这些包络进行松弛，来构造一个有效的根节点下界。然后，利用线性连接约束计算根节点处箱型区域上最紧的可分下界。\n\n接下来，将基于包络的最优解 $x^{\\star}$ 处的按坐标的包络间隙定义为\n$$\ng_i \\;=\\; f_i\\!\\left(x_i^{\\star}\\right) \\;-\\; f_i^{\\mathrm{env}}\\!\\left(x_i^{\\star}\\right),\n$$\n其中 $f_i^{\\mathrm{env}}$ 表示 $f_i$ 在其区间上的单变量凸包络。将最大化 $g_i$ 的索引 $i$ 确定为要进行分支的“最差”坐标。\n\n提供：\n- 计算出的根节点下界，以单个精确解析表达式的形式给出。\n- 根据上述规则确定的最差坐标的索引（作为整数）。\n\n请使用精确形式（例如 $\\ln(5)$, $\\arctan(4)$）表达您的最终答案。不要四舍五入。您的最终答案框必须包含这两个值，形式为单行矩阵。", "solution": "任务的核心是在分支定界树的根节点处，对原始的非凸问题建立并求解一个凸松弛问题。该松弛是通过将每个非凸函数分量 $f_i(x_i)$ 替换为其在给定区间上的凸包络 $f_i^{\\mathrm{env}}(x_i)$ 来构造的。\n\n**1. 构造单变量凸包络**\n\n一个函数在某个区间上的凸包络是可能的最紧的凸下估计函数。对于一个在区间 $[a, b]$ 上的凹函数，其凸包络是连接点 $(a, f(a))$ 和 $(b, f(b))$ 的线段（弦）。我们首先通过检查每个 $f_i(x_i)$ 的二阶导数来判断其凹性。\n\n- 对于在 $[1,3]$ 上的 $f_1(x_1) = \\sqrt{x_1}$：\n其二阶导数为 $f_1''(x_1) = \\frac{d^2}{dx_1^2}(\\sqrt{x_1}) = -\\frac{1}{4}x_1^{-3/2}$。对于 $x_1 \\in [1,3]$，$f_1''(x_1)  0$，因此 $f_1$ 是严格凹函数。其凸包络 $f_1^{\\mathrm{env}}$ 是连接 $(1, f_1(1))$ 和 $(3, f_1(3))$ 的线段。\n$f_1(1) = \\sqrt{1} = 1$。\n$f_1(3) = \\sqrt{3}$。\n$$f_1^{\\mathrm{env}}(x_1) = f_1(1) + \\frac{f_1(3) - f_1(1)}{3-1}(x_1 - 1) = 1 + \\frac{\\sqrt{3} - 1}{2}(x_1 - 1).$$\n\n- 对于在 $[2,5]$ 上的 $f_2(x_2) = \\ln(x_2)$：\n其二阶导数为 $f_2''(x_2) = \\frac{d^2}{dx_2^2}(\\ln(x_2)) = -\\frac{1}{x_2^2}$。对于 $x_2 \\in [2,5]$，$f_2''(x_2)  0$，因此 $f_2$ 是严格凹函数。其凸包络 $f_2^{\\mathrm{env}}$ 是连接 $(2, f_2(2))$ 和 $(5, f_2(5))$ 的线段。\n$f_2(2) = \\ln(2)$。\n$f_2(5) = \\ln(5)$。\n$$f_2^{\\mathrm{env}}(x_2) = f_2(2) + \\frac{f_2(5) - f_2(2)}{5-2}(x_2 - 2) = \\ln(2) + \\frac{\\ln(5) - \\ln(2)}{3}(x_2 - 2).$$\n\n- 对于在 $[0,4]$ 上的 $f_3(x_3) = \\arctan(x_3)$：\n其二阶导数为 $f_3''(x_3) = \\frac{d^2}{dx_3^2}(\\arctan(x_3)) = -\\frac{2x_3}{(1+x_3^2)^2}$。对于 $x_3 \\in (0,4]$，$f_3''(x_3)  0$。在 $x_3=0$ 处，$f_3''(0)=0$。该函数在 $[0,4]$ 上是凹函数。其凸包络 $f_3^{\\mathrm{env}}$ 是连接 $(0, f_3(0))$ 和 $(4, f_3(4))$ 的线段。\n$f_3(0) = \\arctan(0) = 0$。\n$f_3(4) = \\arctan(4)$。\n$$f_3^{\\mathrm{env}}(x_3) = f_3(0) + \\frac{f_3(4) - f_3(0)}{4-0}(x_3 - 0) = \\frac{\\arctan(4)}{4}x_3.$$\n\n**2. 求解松弛问题以获得下界**\n\n松弛问题是在原始约束条件下，最小化凸包络之和：\n$$ \\min_{x} \\quad L(x) = f_1^{\\mathrm{env}}(x_1) + f_2^{\\mathrm{env}}(x_2) + f_3^{\\mathrm{env}}(x_3) $$\n$$ \\text{s.t.} \\quad x_1 \\in [1,3], \\quad x_2 \\in [2,5], \\quad x_3 \\in [0,4], \\quad x_1+x_2+x_3 = 7. $$\n目标函数 $L(x)$ 是线性的，因为每个 $f_i^{\\mathrm{env}}$ 都是一个线性函数。我们可以将 $L(x)$ 写成 $L(x) = m_1 x_1 + c_1 + m_2 x_2 + c_2 + m_3 x_3 + c_3$，其中斜率 $m_i$ 为：\n$$ m_1 = \\frac{\\sqrt{3} - 1}{2} \\approx 0.366 $$\n$$ m_2 = \\frac{\\ln(5) - \\ln(2)}{3} = \\frac{\\ln(2.5)}{3} \\approx 0.305 $$\n$$ m_3 = \\frac{\\arctan(4)}{4} \\approx \\frac{1.326}{4} = 0.3315 $$\n问题是在一个多胞形上最小化一个线性函数 $\\sum m_i x_i$。最小值将在一个顶点上达到。为了找到解，我们根据斜率应用贪心策略：为了最小化总和，我们必须将可能的最大值分配给斜率最小的变量，将可能的最小值分配给斜率最大的变量。\n斜率的顺序为 $m_2  m_3  m_1$。\n因此，我们设置：\n- $x_2$ 取其最大值，因为 $m_2$ 是最小的斜率：$x_2^{\\star} = 5$。\n- $x_1$ 取其最小值，因为 $m_1$ 是最大的斜率：$x_1^{\\star} = 1$。\n$x_3$ 的值由连接约束确定：\n$$ x_3^{\\star} = 7 - x_1^{\\star} - x_2^{\\star} = 7 - 1 - 5 = 1. $$\n我们验证解 $x^{\\star} = (1, 5, 1)$ 是可行的：\n- $x_1^{\\star} = 1 \\in [1,3]$ (在下界)。\n- $x_2^{\\star} = 5 \\in [2,5]$ (在上界)。\n- $x_3^{\\star} = 1 \\in [0,4]$ (在内部)。\n点 $x^{\\star}$ 是可行的。根节点下界是松弛目标函数 $L(x)$ 在 $x^{\\star}$ 处的值：\n$$ \\text{下界} = f_1^{\\mathrm{env}}(x_1^{\\star}) + f_2^{\\mathrm{env}}(x_2^{\\star}) + f_3^{\\mathrm{env}}(x_3^{\\star}). $$\n- $f_1^{\\mathrm{env}}(1) = 1 + \\frac{\\sqrt{3}-1}{2}(1-1) = 1$。这是预料之中的，因为 $x_1^\\star$ 是一个端点。\n- $f_2^{\\mathrm{env}}(5) = \\ln(2) + \\frac{\\ln(5)-\\ln(2)}{3}(5-2) = \\ln(2) + \\ln(5) - \\ln(2) = \\ln(5)$。这也是预料之中的。\n- $f_3^{\\mathrm{env}}(1) = \\frac{\\arctan(4)}{4}(1) = \\frac{\\arctan(4)}{4}$。\n根节点下界是这些值的总和：\n$$ \\text{下界} = 1 + \\ln(5) + \\frac{\\arctan(4)}{4}. $$\n\n**3. 确定分支变量**\n\n分支变量选择为在松弛解 $x^{\\star} = (1, 5, 1)$ 处具有最大包络间隙 $g_i = f_i(x_i^{\\star}) - f_i^{\\mathrm{env}}(x_i^{\\star})$ 的那个变量。\n\n- 对于 $i=1$：$x_1^{\\star} = 1$。由于这是区间 $[1,3]$ 的一个端点，函数与其包络在此点重合。\n$$ g_1 = f_1(1) - f_1^{\\mathrm{env}}(1) = \\sqrt{1} - 1 = 0. $$\n- 对于 $i=2$：$x_2^{\\star} = 5$。这是区间 $[2,5]$ 的一个端点。\n$$ g_2 = f_2(5) - f_2^{\\mathrm{env}}(5) = \\ln(5) - \\ln(5) = 0. $$\n- 对于 $i=3$：$x_3^{\\star} = 1$。该点位于区间 $[0,4]$ 的内部。\n$$ f_3(1) = \\arctan(1) = \\frac{\\pi}{4}. $$\n$$ f_3^{\\mathrm{env}}(1) = \\frac{\\arctan(4)}{4}. $$\n间隙为：\n$$ g_3 = f_3(1) - f_3^{\\mathrm{env}}(1) = \\frac{\\pi}{4} - \\frac{\\arctan(4)}{4}. $$\n由于 $f_3$ 在 $(0,4)$ 上是严格凹函数，其在任何内部点的值都严格大于其凸包络的值。因此，$g_3 > 0$。\n比较这些间隙，$g_1=0$, $g_2=0$，而 $g_3 > 0$。最大间隙是 $g_3$。\n因此，要进行分支的坐标是 $i=3$。\n\n所要求的两个值是根节点下界和最差坐标的索引。\n- 根节点下界：$1 + \\ln(5) + \\frac{\\arctan(4)}{4}$。\n- 最差坐标的索引：$3$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1 + \\ln(5) + \\frac{\\arctan(4)}{4}  3\n\\end{pmatrix}\n}\n$$", "id": "3118759"}, {"introduction": "分支定界算法的效率在很大程度上取决于其划分搜索空间的方式，即“分支”策略。一个明智的策略能迅速剪除大片不含最优解的区域。本练习将深入探讨这一关键环节，通过对一个含双线性项的问题比较两种不同的分支选择，你将分析不同选择如何影响著名的 McCormick 松弛的紧致度，从而为设计更高效的分支启发式策略建立直观理解。", "problem": "考虑具有单双线性项的非凸最大化问题：\n最大化 $w$，约束条件为 $w = x y$，$x + y = 1$，$x \\in [0, 10]$ 和 $y \\in [0, 0.1]$。您将使用分支定界法（Branch and Bound, BnB）分析确定性全局优化的单一步骤，该方法采用基于双线性项的 McCormick 包络构建的线性连续松弛。\n\n仅使用以下基本要素：\n- 分支定界法（BnB）的定义：作为一种分割方法，它通过求解子区域上的松弛问题来计算最大化问题的上界，分支后的全局上界由子节点松弛最优值的最大值给出。\n- 对于矩形 $[x_L, x_U] \\times [y_L, y_U]$ 上的双线性项 $w = x y$ 的 McCormick 凸包络和凹包络，即线性不等式\n  $$\n  \\begin{aligned}\n  w \\ge x_L y + x y_L - x_L y_L, \\\\\n  w \\ge x_U y + x y_U - x_U y_U, \\\\\n  w \\le x_U y + x y_L - x_U y_L, \\\\\n  w \\le x_L y + x y_U - x_L y_U.\n  \\end{aligned}\n  $$\n这些是 $w = x y$ 唯一允许的松弛。\n\n在根节点，连续松弛使用 $x \\in [0, 10]$，$y \\in [0, 0.1]$，以及 $x + y = 1$。接下来，比较两种分支策略：\n- 在 $x$ 的中点处进行分支，创建两个子区域 $x \\in [0, 5]$ 和 $x \\in [5, 10]$（$y \\in [0, 0.1]$ 保持不变）。\n- 在 $y$ 的中点处进行分支，创建两个子区域 $y \\in [0, 0.05]$ 和 $y \\in [0.05, 0.1]$（$x \\in [0, 10]$ 保持不变）。\n\n对于每种策略，使用更新了收紧变量边界的 McCormick 包络和线性约束 $x + y = 1$，计算由两个子节点连续松弛最优值的最大值给出的分支后全局上界。然后，在“选择使该分支后全局上界最小化的分支变量”这一启发式规则下，确定应该对哪个变量进行分支。最后，报告以下比率\n$$\n\\frac{\\text{对 x 分支后的全局上界}}{\\text{对 y 分支后的全局上界}}。\n$$\n以单个精确数字（不进行四舍五入）的形式提供您的最终答案。不需要单位。", "solution": "目标是最大化 $w$，约束条件为 $w = xy$，$x+y=1$，$x \\in [0, 10]$ 和 $y \\in [0, 0.1]$。我们使用基于 McCormick 包络的连续松弛来处理双线性项 $w=xy$（在矩形 $[x_L, x_U] \\times [y_L, y_U]$ 上）。由于这是一个最大化问题，我们关心的是凹高估量，它提供了 $w$ 的一个上界：\n$$w \\le x_L y + x y_U - x_L y_U$$\n$$w \\le x_U y + x y_L - x_U y_L$$\n对于给定的子矩形，松弛问题是找到满足这两个不等式以及线性约束 $x+y=1$ 和区域约束 $x \\in [x_L, x_U]$ 及 $y \\in [y_L, y_U]$ 的 $w$ 的最大值。\n\n我们可以将 $x = 1-y$ 代入 McCormick 不等式，将 $w$ 的上界表示为仅关于 $y$ 的函数：\n$w \\le x_L y + (1-y) y_U - x_L y_U = (x_L - y_U)y + y_U(1 - x_L)$。设此为 $W_1(y)$。\n$w \\le x_U y + (1-y) y_L - x_U y_L = (x_U - y_L)y + y_L(1 - x_U)$。设此为 $W_2(y)$。\n松弛的目标是最大化 $w$ 的上界，即 $\\min(W_1(y), W_2(y))$。这个关于 $y$ 的函数是凹函数，因为它是两个线性函数的最小值。$W_1(y)$ 的斜率为 $m_1 = x_L - y_U  0$，$W_2(y)$ 的斜率为 $m_2 = x_U - y_L > 0$。因此，函数 $\\min(W_1(y), W_2(y))$ 在交点 $y_{int}$ 处有一个唯一的峰值，其中 $W_1(y_{int}) = W_2(y_{int})$。\n\n$y$ 的可行区域受区域边界 $[y_L, y_U]$ 和 $x$ 的区域边界对 $y$ 的影响共同约束，$x \\in [x_L, x_U] \\implies 1-y \\in [x_L, x_U] \\implies y \\in [1-x_U, 1-x_L]$。$y$ 的有效可行区间是 $I_y = [\\max(y_L, 1-x_U), \\min(y_U, 1-x_L)]$。如果这个区间包含 $y_{int}$，松弛的最大值就在 $y_{int}$ 处取得。\n\n**策略1：在 $x$ 的中点 $x=5$ 处进行分支。**\n\n*   **子节点1.1：$x \\in [0, 5]$，$y \\in [0, 0.1]$。**\n    这里，$x_L=0, x_U=5, y_L=0, y_U=0.1$。$y$ 的可行区间是 $I_y = [\\max(0, 1-5), \\min(0.1, 1-0)] = [0, 0.1]$。\n    两个边界函数是：\n    $W_1(y) = (0 - 0.1)y + 0.1(1-0) = -0.1y + 0.1$\n    $W_2(y) = (5 - 0)y + 0(1-5) = 5y$\n    交点在 $-0.1y_{int} + 0.1 = 5y_{int}$，这给出 $5.1y_{int} = 0.1$，所以 $y_{int} = \\frac{0.1}{5.1} = \\frac{1}{51}$。\n    由于 $y_{int} = \\frac{1}{51} \\approx 0.0196$ 在区间 $[0, 0.1]$ 内，最大值出现在此点。\n    上界是 $w_{ub,1}^x = 5y_{int} = 5(\\frac{1}{51}) = \\frac{5}{51}$。\n\n*   **子节点1.2：$x \\in [5, 10]$，$y \\in [0, 0.1]$。**\n    这里，$x_L=5, x_U=10, y_L=0, y_U=0.1$。$y$ 的可行区间是 $I_y = [\\max(0, 1-10), \\min(0.1, 1-5)] = [0, -4]$。\n    由于区间的下界大于上界，区间为空。此子问题是不可行的，其最优值为 $w_{ub,2}^x = -\\infty$。\n\n对 $x$ 分支后的全局上界是 $UB_x = \\max(w_{ub,1}^x, w_{ub,2}^x) = \\max(\\frac{5}{51}, -\\infty) = \\frac{5}{51}$。\n\n**策略2：在 $y$ 的中点 $y=0.05$ 处进行分支。**\n\n*   **子节点2.1：$x \\in [0, 10]$，$y \\in [0, 0.05]$。**\n    这里，$x_L=0, x_U=10, y_L=0, y_U=0.05$。$y$ 的可行区间是 $I_y = [\\max(0, 1-10), \\min(0.05, 1-0)] = [0, 0.05]$。\n    两个边界函数是：\n    $W_1(y) = (0 - 0.05)y + 0.05(1-0) = -0.05y + 0.05$\n    $W_2(y) = (10 - 0)y + 0(1-10) = 10y$\n    交点在 $-0.05y_{int} + 0.05 = 10y_{int}$，这给出 $10.05y_{int} = 0.05$，所以 $y_{int} = \\frac{0.05}{10.05} = \\frac{5}{1005} = \\frac{1}{201}$。\n    由于 $y_{int} = \\frac{1}{201} \\approx 0.004975$ 在 $[0, 0.05]$ 内，最大值为 $w_{ub,1}^y = 10y_{int} = 10(\\frac{1}{201}) = \\frac{10}{201}$。\n\n*   **子节点2.2：$x \\in [0, 10]$，$y \\in [0.05, 0.1]$。**\n    这里，$x_L=0, x_U=10, y_L=0.05, y_U=0.1$。$y$ 的可行区间是 $I_y = [\\max(0.05, 1-10), \\min(0.1, 1-0)] = [0.05, 0.1]$。\n    两个边界函数是：\n    $W_1(y) = (0 - 0.1)y + 0.1(1-0) = -0.1y + 0.1$\n    $W_2(y) = (10 - 0.05)y + 0.05(1-10) = 9.95y - 0.45$\n    交点在 $-0.1y_{int} + 0.1 = 9.95y_{int} - 0.45$，这给出 $10.05y_{int} = 0.55$，所以 $y_{int} = \\frac{0.55}{10.05} = \\frac{55}{1005} = \\frac{11}{201}$。\n    由于 $y_{int} = \\frac{11}{201} \\approx 0.0547$ 在 $[0.05, 0.1]$ 内，最大值为 $w_{ub,2}^y = -0.1y_{int} + 0.1 = -0.1(\\frac{11}{201}) + 0.1 = 0.1(1 - \\frac{11}{201}) = \\frac{1}{10}(\\frac{190}{201}) = \\frac{19}{201}$。\n\n对 $y$ 分支后的全局上界是 $UB_y = \\max(w_{ub,1}^y, w_{ub,2}^y) = \\max(\\frac{10}{201}, \\frac{19}{201}) = \\frac{19}{201}$。\n\n**比较与最终计算：**\n为了比较两个上界：\n$UB_x = \\frac{5}{51}$ 和 $UB_y = \\frac{19}{201}$。\n$UB_x = \\frac{5 \\times 67}{51 \\times 67} = \\frac{335}{3417}$。\n$UB_y = \\frac{19 \\times 17}{201 \\times 17} = \\frac{323}{3417}$。\n由于 $UB_y  UB_x$，启发式规则会选择对 $y$ 进行分支。\n\n问题要求计算比率 $\\frac{UB_x}{UB_y}$：\n$$ \\frac{UB_x}{UB_y} = \\frac{5/51}{19/201} = \\frac{5}{51} \\times \\frac{201}{19} = \\frac{5}{3 \\times 17} \\times \\frac{3 \\times 67}{19} = \\frac{5 \\times 67}{17 \\times 19} = \\frac{335}{323} $$", "answer": "$$\n\\boxed{\\frac{335}{323}}\n$$", "id": "3118754"}]}