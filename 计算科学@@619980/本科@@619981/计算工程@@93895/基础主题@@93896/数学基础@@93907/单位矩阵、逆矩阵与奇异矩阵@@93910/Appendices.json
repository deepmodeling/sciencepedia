{"hands_on_practices": [{"introduction": "在依赖计算工具之前，通过手动计算来掌握矩阵求逆的基本原理至关重要。本练习将引导你使用伴随矩阵法，这是一种经典的“纸笔”方法，可以揭示矩阵、其行列式 $A$ ($\\det(A)$) 及其逆矩阵 $A^{-1}$ 之间的深刻联系。通过这个实践，你将把逆矩阵的理论定义转化为具体的计算步骤，为理解更复杂的数值算法奠定坚实的基础。", "problem": "考虑实 $3 \\times 3$ 矩阵\n$$\nA \\;=\\;\n\\begin{pmatrix}\n2 & -1 & 3\\\\\n0 & 4 & -2\\\\\n1 & 5 & 1\n\\end{pmatrix}.\n$$\n一个可靠的计算工具报告了 $A$ 的逆矩阵的以下候选矩阵：\n$$\nB \\;=\\;\n\\begin{pmatrix}\n\\frac{7}{9} & \\frac{8}{9} & -\\frac{5}{9}\\\\\n-\\frac{1}{9} & -\\frac{1}{18} & \\frac{2}{9}\\\\\n-\\frac{2}{9} & -\\frac{11}{18} & \\frac{4}{9}\n\\end{pmatrix}.\n$$\n使用基于伴随矩阵的逆矩阵定义，其中伴随矩阵 $\\operatorname{adj}(A)$ 是 $A$ 的代数余子式矩阵的转置，并且对于 $\\det(A) \\neq 0$ 有 $A^{-1} = \\frac{1}{\\det(A)}\\,\\operatorname{adj}(A)$，计算 $A^{-1}$ 并通过恒等式 $A A^{-1} = I_3$ 将其与 $B$ 进行验证。然后报告标量迹 $\\operatorname{tr}(A^{-1})$。请提供精确值（不要四舍五入）。", "solution": "任务是使用伴随矩阵法计算矩阵 $A$ 的逆。非奇异方阵 $A$ 的逆由以下公式给出：\n$$\nA^{-1} = \\frac{1}{\\det(A)}\\operatorname{adj}(A)\n$$\n其中 $\\operatorname{adj}(A)$ 是 $A$ 的伴随矩阵，即其代数余子式矩阵的转置。\n\n首先，我们必须计算 $A$ 的行列式 $\\det(A)$。我们沿第一列进行代数余子式展开，因为它包含一个零元素，可以简化计算。\n$$\n\\det(A) = 2 \\begin{vmatrix} 4 & -2 \\\\ 5 & 1 \\end{vmatrix} - 0 \\begin{vmatrix} -1 & 3 \\\\ 5 & 1 \\end{vmatrix} + 1 \\begin{vmatrix} -1 & 3 \\\\ 4 & -2 \\end{vmatrix}\n$$\n$$\n\\det(A) = 2(4 \\cdot 1 - (-2) \\cdot 5) + 1((-1) \\cdot (-2) - 3 \\cdot 4)\n$$\n$$\n\\det(A) = 2(4 + 10) + (2 - 12) = 2(14) - 10 = 28 - 10 = 18\n$$\n因为 $\\det(A)=18 \\neq 0$，所以矩阵 $A$ 是可逆的。\n\n接下来，我们计算代数余子式矩阵 $C$。每个元素 $C_{ij}$ 由 $(-1)^{i+j} M_{ij}$ 给出，其中 $M_{ij}$ 是元素 $a_{ij}$ 的余子式。\n$$\nC_{11} = (-1)^{1+1} \\begin{vmatrix} 4 & -2 \\\\ 5 & 1 \\end{vmatrix} = 1(4 - (-10)) = 14\n$$\n$$\nC_{12} = (-1)^{1+2} \\begin{vmatrix} 0 & -2 \\\\ 1 & 1 \\end{vmatrix} = -1(0 - (-2)) = -2\n$$\n$$\nC_{13} = (-1)^{1+3} \\begin{vmatrix} 0 & 4 \\\\ 1 & 5 \\end{vmatrix} = 1(0 - 4) = -4\n$$\n$$\nC_{21} = (-1)^{2+1} \\begin{vmatrix} -1 & 3 \\\\ 5 & 1 \\end{vmatrix} = -1(-1 - 15) = 16\n$$\n$$\nC_{22} = (-1)^{2+2} \\begin{vmatrix} 2 & 3 \\\\ 1 & 1 \\end{vmatrix} = 1(2 - 3) = -1\n$$\n$$\nC_{23} = (-1)^{2+3} \\begin{vmatrix} 2 & -1 \\\\ 1 & 5 \\end{vmatrix} = -1(10 - (-1)) = -11\n$$\n$$\nC_{31} = (-1)^{3+1} \\begin{vmatrix} -1 & 3 \\\\ 4 & -2 \\end{vmatrix} = 1(2 - 12) = -10\n$$\n$$\nC_{32} = (-1)^{3+2} \\begin{vmatrix} 2 & 3 \\\\ 0 & -2 \\end{vmatrix} = -1(-4 - 0) = 4\n$$\n$$\nC_{33} = (-1)^{3+3} \\begin{vmatrix} 2 & -1 \\\\ 0 & 4 \\end{vmatrix} = 1(8 - 0) = 8\n$$\n代数余子式矩阵为：\n$$\nC = \\begin{pmatrix}\n14 & -2 & -4\\\\\n16 & -1 & -11\\\\\n-10 & 4 & 8\n\\end{pmatrix}\n$$\n伴随矩阵是代数余子式矩阵的转置，$\\operatorname{adj}(A) = C^T$。\n$$\n\\operatorname{adj}(A) = \\begin{pmatrix}\n14 & 16 & -10\\\\\n-2 & -1 & 4\\\\\n-4 & -11 & 8\n\\end{pmatrix}\n$$\n现在我们构造逆矩阵 $A^{-1}$：\n$$\nA^{-1} = \\frac{1}{18} \\begin{pmatrix}\n14 & 16 & -10\\\\\n-2 & -1 & 4\\\\\n-4 & -11 & 8\n\\end{pmatrix} = \\begin{pmatrix}\n\\frac{14}{18} & \\frac{16}{18} & -\\frac{10}{18}\\\\\n-\\frac{2}{18} & -\\frac{1}{18} & \\frac{4}{18}\\\\\n-\\frac{4}{18} & -\\frac{11}{18} & \\frac{8}{18}\n\\end{pmatrix}\n$$\n化简分数后得到：\n$$\nA^{-1} = \\begin{pmatrix}\n\\frac{7}{9} & \\frac{8}{9} & -\\frac{5}{9}\\\\\n-\\frac{1}{9} & -\\frac{1}{18} & \\frac{2}{9}\\\\\n-\\frac{2}{9} & -\\frac{11}{18} & \\frac{4}{9}\n\\end{pmatrix}\n$$\n计算出的逆矩阵与提供的候选矩阵 $B$ 完全匹配。\n\n为了验证恒等式 $A A^{-1} = I_3$，我们进行乘法运算。先计算 $A \\cdot \\operatorname{adj}(A)$ 更为方便。根据理论，我们知道 $A \\cdot \\operatorname{adj}(A) = \\det(A) \\cdot I_3$。\n$$\nA \\cdot \\operatorname{adj}(A) = \\begin{pmatrix}\n2 & -1 & 3\\\\\n0 & 4 & -2\\\\\n1 & 5 & 1\n\\end{pmatrix}\n\\begin{pmatrix}\n14 & 16 & -10\\\\\n-2 & -1 & 4\\\\\n-4 & -11 & 8\n\\end{pmatrix}\n$$\n$(1,1)$ 元素是 $2(14) + (-1)(-2) + 3(-4) = 28 + 2 - 12 = 18$。\n$(2,2)$ 元素是 $0(16) + 4(-1) + (-2)(-11) = -4 + 22 = 18$。\n$(3,3)$ 元素是 $1(-10) + 5(4) + 1(8) = -10 + 20 + 8 = 18$。\n非对角线元素都为零，符合预期。例如，$(1,2)$ 元素是 $2(16) + (-1)(-1) + 3(-11) = 32 + 1 - 33 = 0$。\n因此，乘积为：\n$$\nA \\cdot \\operatorname{adj}(A) = \\begin{pmatrix}\n18 & 0 & 0\\\\\n0 & 18 & 0\\\\\n0 & 0 & 18\n\\end{pmatrix} = 18 \\cdot I_3\n$$\n因此，$A A^{-1} = A \\left( \\frac{1}{18}\\operatorname{adj}(A) \\right) = \\frac{1}{18} (A \\cdot \\operatorname{adj}(A)) = \\frac{1}{18}(18 \\cdot I_3) = I_3$。计算正确。\n\n最后，我们计算 $A^{-1}$ 的迹，即其对角线元素之和。\n$$\n\\operatorname{tr}(A^{-1}) = \\frac{7}{9} + \\left(-\\frac{1}{18}\\right) + \\frac{4}{9}\n$$\n为求这些分数之和，我们使用公分母 $18$。\n$$\n\\operatorname{tr}(A^{-1}) = \\frac{14}{18} - \\frac{1}{18} + \\frac{8}{18} = \\frac{14 - 1 + 8}{18} = \\frac{21}{18}\n$$\n将分子和分母除以它们的最大公约数 $3$ 来化简分数，得到：\n$$\n\\operatorname{tr}(A^{-1}) = \\frac{7}{6}\n$$", "answer": "$$\\boxed{\\frac{7}{6}}$$", "id": "2400385"}, {"introduction": "掌握了手动计算之后，下一个合乎逻辑的步骤便是将这一过程自动化。本练习要求你实现高斯-若尔当消元法，这是数值线性代数的一块基石，用于高效地计算矩阵的逆。这个实践不仅仅是编写代码，更重要的是理解初等行变换等理论概念如何转化为一个稳健的数值程序，并学会处理奇异性和数值稳定性等实际问题。", "problem": "要求您实现一个稳健的数值程序，仅使用行变换来确定一个方阵是否可逆，如果可逆，则计算其逆矩阵。该方法必须基于带有部分主元选择的高斯-若尔当消元法。\n\n从线性代数的基础概念开始：一个 $n \\times n$ 矩阵 $A$ 可逆，当且仅当存在一个矩阵 $B$ 使得 $AB = BA = I_n$，其中 $I_n$ 是 $n \\times n$ 的单位矩阵。初等行变换对应于左乘一个可逆的初等矩阵。如果一个有限序列的初等行变换能将 $A$ 转换为 $I_n$，那么将相同的变换序列应用于 $I_n$ 将得到 $A^{-1}$。反之，如果在某一步中因为找不到主元（即，在精确计算下，主元列中当前行及以下的所有元素均为零）而导致不存在这样的变换序列，则矩阵 $A$ 是奇异的。\n\n按如下方式实现高斯-若尔当算法：给定一个 $n \\times n$ 的实矩阵 $A$，构造增广矩阵 $[A \\mid I_n]$。对于每个列索引 $j \\in \\{0,1,\\dots,n-1\\}$，选择行 $p \\in \\{j,\\dots,n-1\\}$ 作为主元行，使得第 $j$ 列中该行元素的绝对值最大（部分主元选择）。交换第 $j$ 行和第 $p$ 行。如果主元的绝对值小于一个很小的容差 $\\tau$，则声明 $A$ 为奇异矩阵并停止。否则，缩放第 $j$ 行使主元等于 $1$，然后通过从其他行中减去第 $j$ 行的适当倍数，来消去第 $j$ 列中的所有其他元素。当左侧块被简化为 $I_n$ 时，右侧块即为 $A^{-1}$。\n\n数值规格：\n- 使用主元容差 $\\tau = 10^{-12}$ 来判断主元是否有效为零。\n- 按照所述使用部分主元选择以提高数值稳定性。\n- 如果矩阵被声明为可逆，则以行主序的扁平化列表形式返回其逆矩阵，每个元素四舍五入到六位小数。如果矩阵是奇异的，则返回一个空列表作为逆矩阵。\n\n测试套件：\n为以下每个矩阵计算结果：\n- 情况 $1$ (正常路径, $3 \\times 3$): \n$$\nA_1 = \\begin{bmatrix}\n2 & 1 & 1 \\\\\n1 & 3 & 2 \\\\\n1 & 0 & 0\n\\end{bmatrix}.\n$$\n- 情况 $2$ (奇异矩阵, $3 \\times 3$):\n$$\nA_2 = \\begin{bmatrix}\n1 & 2 & 3 \\\\\n2 & 4 & 6 \\\\\n1 & 0 & 1\n\\end{bmatrix}.\n$$\n- 情况 $3$ (单位矩阵, $4 \\times 4$):\n$$\nA_3 = \\begin{bmatrix}\n1 & 0 & 0 & 0\\\\\n0 & 1 & 0 & 0\\\\\n0 & 0 & 1 & 0\\\\\n0 & 0 & 0 & 1\n\\end{bmatrix}.\n$$\n- 情况 $4$ (需要行交换, $2 \\times 2$):\n$$\nA_4 = \\begin{bmatrix}\n0 & 1\\\\\n2 & 3\n\\end{bmatrix}.\n$$\n- 情况 $5$ (病态但可逆, $2 \\times 2$):\n$$\nA_5 = \\begin{bmatrix}\n1 & 1\\\\\n1 & 1 + 10^{-10}\n\\end{bmatrix}.\n$$\n\n最终输出格式：\n- 对于每种情况 $k \\in \\{1,2,3,4,5\\}$，您的程序必须生成一个形式为 $[s_k, v_k]$ 的结果，其中 $s_k$ 是一个布尔值，表示在容差 $\\tau$ 下 $A_k$ 是否可逆；当 $s_k$ 为真时，$v_k$ 是按行主序排列的扁平化逆矩阵，其元素为四舍五入到六位小数的浮点数列表，当 $s_k$ 为假时，则为空列表。\n- 将五个情况的结果汇总到一个列表中，并精确地打印一行包含此列表的内容，各项由逗号分隔并用方括号括起来，例如：\"[ [True,[...]], [False,[]], ... ]\"。\n此任务不涉及角度或物理单位。所有数值答案均为纯数字。请确保在输出表示中将浮点数四舍五入到六位小数。", "solution": "任务是实现一个计算 $n \\times n$ 方阵 $A$ 的逆矩阵的程序。其基本原理是，对矩阵进行一次初等行变换等效于用相应的初等矩阵对其进行左乘。初等矩阵是可逆的。如果一个初等矩阵序列 $E_1, E_2, \\dots, E_k$ 将 $A$ 变换为单位矩阵 $I_n$，那么我们有：\n$$ (E_k \\dots E_2 E_1) A = I_n $$\n根据逆矩阵的定义，这意味着：\n$$ A^{-1} = E_k \\dots E_2 E_1 $$\n如果我们对单位矩阵 $I_n$ 应用相同的变换序列，我们将得到：\n$$ (E_k \\dots E_2 E_1) I_n = A^{-1} $$\n这就是对增广矩阵使用高斯-若尔当消元法的理论依据。我们从增广矩阵 $[A \\mid I_n]$ 开始，应用行变换将左侧块 $A$ 转换为 $I_n$。相同的操作也同时应用于右侧块 $I_n$，因此它被转换为 $A^{-1}$。如果在任何时候，因为找不到非零主元而无法将左侧块进一步向 $I_n$ 变换，那么矩阵 $A$ 就是奇异的，并且没有逆矩阵。\n\n要实现的算法是为保证数值稳定性而采用部分主元选择的高斯-若尔当消元法。\n\n**算法步骤：**\n\n1.  **初始化**：给定一个 $n \\times n$ 矩阵 $A$，构造一个 $n \\times 2n$ 的增广矩阵 $M = [A \\mid I_n]$，其中 $I_n$ 是 $n \\times n$ 的单位矩阵。\n\n2.  **前向消元与后向代入（高斯-若尔当）**：遍历左侧块的列，索引 $j$ 从 $0$ 到 $n-1$。在每次迭代 $j$ 中，执行以下步骤：\n    a.  **部分主元选择**：为提高数值稳定性并避免除以小数，找到行索引 $p$ 使得 $j \\le p < n$ 且 $|M_{p,j}|$ 最大。交换第 $j$ 行与第 $p$ 行。此操作会影响整个增广矩阵。\n    b.  **奇异性检查**：元素 $M_{j,j}$ 现在是主元。如果主元的绝对值 $|M_{j,j}|$ 小于预定义的容差 $\\tau$（给定为 $10^{-12}$），则认为该矩阵在数值上是奇异的。终止算法并报告该矩阵不可逆。\n    c.  **归一化**：将整个第 $j$ 行除以主元值 $M_{j,j}$。这使得对角线元素 $M_{j,j}$ 等于 $1$。\n    $$ R_j \\leftarrow \\frac{1}{M_{j,j}} R_j $$\n    d.  **消元**：对于每一其他行 $i$（其中 $i \\ne j$），消去第 $j$ 列中的元素。这通过从行 $R_i$ 中减去归一化主元行 $R_j$ 的一个倍数来实现。该倍数由值 $M_{i,j}$ 给出。\n    $$ R_i \\leftarrow R_i - M_{i,j} R_j \\quad \\text{for } i = 0, \\dots, n-1, i \\ne j $$\n\n3.  **结果提取**：在遍历完所有列 $j$（从 $0$ 到 $n-1$）之后，增广矩阵的左侧块将成为单位矩阵 $I_n$。右侧块将是逆矩阵 $A^{-1}$。\n\n4.  **输出格式化**：\n    - 如果算法成功完成，返回布尔值 `True` 表示可逆。计算出的逆矩阵 $A^{-1}$ 随后按行主序被扁平化为一维列表，每个元素四舍五入到六位小数。\n    - 如果矩阵被确定为奇异的，返回布尔值 `False` 和一个空列表。\n\n此程序将应用于所提供的五个测试矩阵中的每一个，以生成最终输出。使用一个小的容差 $\\tau$ 对于处理浮点运算至关重要，因为由于精度误差，可能无法实现真正的零。部分主元选择对于稳健性至关重要，特别是对于那些病态的（如情况 5）或对角线上有零的（如情况 4）矩阵。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef compute_inverse_with_gauss_jordan(A_list, tolerance):\n    \"\"\"\n    Computes the inverse of a square matrix using Gauss-Jordan elimination\n    with partial pivoting.\n\n    Args:\n        A_list (list of lists): The input square matrix.\n        tolerance (float): A small number to check for singularity.\n\n    Returns:\n        tuple: A tuple (is_invertible, inverse_list).\n               is_invertible (bool): True if the matrix is invertible, False otherwise.\n               inverse_list (list): The flattened, row-major inverse rounded to 6\n                                    decimal places, or an empty list if singular.\n    \"\"\"\n    # Create a copy to avoid modifying the original list, and use float type.\n    matrix = np.array(A_list, dtype=float)\n    \n    n, m = matrix.shape\n    if n != m:\n        # This case is not expected based on the problem description.\n        return False, []\n\n    # Construct the augmented matrix [A | I]\n    identity = np.identity(n)\n    aug_matrix = np.hstack([matrix, identity])\n\n    # Iterate through columns (pivots)\n    for j in range(n):\n        # Step 1: Partial Pivoting\n        # Find the row with the largest pivot in the current column below the diagonal\n        pivot_row_idx = j + np.argmax(np.abs(aug_matrix[j:, j]))\n\n        # Swap the current row with the pivot row\n        if pivot_row_idx != j:\n            aug_matrix[[j, pivot_row_idx]] = aug_matrix[[pivot_row_idx, j]]\n\n        # Step 2: Singularity Check\n        pivot_value = aug_matrix[j, j]\n        if abs(pivot_value) < tolerance:\n            return False, []  # Matrix is singular\n\n        # Step 3: Normalization\n        # Divide the pivot row by the pivot value to make the pivot 1\n        aug_matrix[j, :] /= pivot_value\n\n        # Step 4: Elimination\n        # Eliminate all other entries in the current pivot column\n        for i in range(n):\n            if i != j:\n                factor = aug_matrix[i, j]\n                aug_matrix[i, :] -= factor * aug_matrix[j, :]\n\n    # The right part of the augmented matrix is now the inverse\n    inverse_matrix = aug_matrix[:, n:]\n\n    # Flatten the inverse matrix and round to 6 decimal places\n    flat_inverse = inverse_matrix.flatten().tolist()\n    rounded_inverse = [round(val, 6) for val in flat_inverse]\n\n    return True, rounded_inverse\n\ndef solve():\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # Case 1 (happy path, 3x3)\n        [[2, 1, 1],\n         [1, 3, 2],\n         [1, 0, 0]],\n        # Case 2 (singular, 3x3)\n        [[1, 2, 3],\n         [2, 4, 6],\n         [1, 0, 1]],\n        # Case 3 (identity, 4x4)\n        [[1, 0, 0, 0],\n         [0, 1, 0, 0],\n         [0, 0, 1, 0],\n         [0, 0, 0, 1]],\n        # Case 4 (requires row swap, 2x2)\n        [[0, 1],\n         [2, 3]],\n        # Case 5 (ill-conditioned but invertible, 2x2)\n        [[1, 1],\n         [1, 1 + 1e-10]],\n    ]\n    \n    # Numerical specification\n    pivot_tolerance = 1e-12\n\n    results = []\n    for case_matrix in test_cases:\n        is_invertible, inverse = compute_inverse_with_gauss_jordan(case_matrix, pivot_tolerance)\n        results.append([is_invertible, inverse])\n\n    # Final print statement in the exact required format.\n    # The str() representation of a list in Python naturally includes spaces\n    # after commas, which aligns with the provided example's styling.\n    # The f-string with join ensures a compact representation between the main list items.\n    output_str = f\"[{','.join(map(str, results))}]\"\n    print(output_str)\n\nsolve()\n```", "id": "2400410"}, {"introduction": "最后的这项实践将挑战你跳出标准实数矩阵的框架，探索在不同代数结构中的可逆性。我们将进入模算术的世界——这是现代密码学和纠错码的基础——来研究矩阵的逆。通过推导在模 $26$ 运算下矩阵可逆的条件，你将看到核心的线性代数概念是如何被推广并应用于各种计算工程领域的。", "problem": "一位计算工程师正在为编码为整数 $\\{0,1,\\dots,25\\}$ 的字母数据设计一种线性分块变换。该变换由一个矩阵 $A \\in \\mathbb{Z}^{2 \\times 2}$ 表示，并以模 $26$ 运算，因此编码将列向量 $x \\in \\{0,1,\\dots,25\\}^{2}$ 映射到 $y \\equiv A x \\pmod{26}$。可靠的解码要求存在一个矩阵 $B \\in \\mathbb{Z}^{2 \\times 2}$，使得 $A B \\equiv I_{2} \\pmod{26}$，其中 $I_{2}$ 是 $2 \\times 2$ 的单位矩阵。从行列式、伴随矩阵的定义以及环中单位元（unit）的概念出发，并且不假设任何关于模算术的矩阵可逆性定理，按以下步骤进行：\n\n1. 导出一个关于矩阵 $A = \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}$ 模 $26$ 可逆的充分必要条件，该条件需用 $a$、$b$、$c$ 和 $d$ 明确表述。你的推导必须从整数上的恒等式 $A \\,\\operatorname{adj}(A) = \\det(A)\\, I_{2}$ 出发，并且只使用模 $n$ 的乘法可逆性定义和最大公约数的概念。\n\n2. 使用你得出的条件，以及关于剩余类环和域的基本事实，确定所有元素取自模 $26$ 的 $2 \\times 2$ 矩阵中，模 $26$ 可逆的矩阵所占的确切比例（以最简有理数表示）。从第一性原理出发，对每一步进行论证，从域上的计数论证开始，并利用当 $26$ 分解为互质模数时环的结构保持对应关系。\n\n将你的最终答案表示为一个最简分数。无需四舍五入。", "solution": "该问题包含两部分。首先，我们必须导出 $2 \\times 2$ 矩阵在环 $\\mathbb{Z}_{26}$ 上可逆的条件。其次，我们必须计算这类可逆矩阵所占的比例。\n\n**第一部分：可逆性条件**\n\n设 $A$ 是一个整数元素 $2 \\times 2$ 矩阵，给定为 $A = \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}$。问题要求所有运算都在模 $26$ 的意义下考虑。一个矩阵 $A$ 模 $26$ 可逆，是指存在一个整数元素矩阵 $B$，使得 $AB \\equiv BA \\equiv I_{2} \\pmod{26}$，其中 $I_{2} = \\begin{pmatrix} 1 & 0 \\\\ 0 & 1 \\end{pmatrix}$ 是单位矩阵。\n\n问题要求推导从恒等式 $A \\,\\operatorname{adj}(A) = \\det(A)\\, I_{2}$ 开始，该恒等式对任何元素在交换环（如整数环 $\\mathbb{Z}$）中的方阵都成立。\n\n$A$ 的行列式是 $\\det(A) = ad - bc$。$A$ 的伴随矩阵是 $\\operatorname{adj}(A) = \\begin{pmatrix} d & -b \\\\ -c & a \\end{pmatrix}$。该恒等式可通过直接乘法验证：\n$$\nA \\,\\operatorname{adj}(A) = \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix} \\begin{pmatrix} d & -b \\\\ -c & a \\end{pmatrix} = \\begin{pmatrix} ad-bc & -ab+ba \\\\ cd-dc & -cb+da \\end{pmatrix} = \\begin{pmatrix} ad-bc & 0 \\\\ 0 & ad-bc \\end{pmatrix} = (ad-bc)I_{2} = \\det(A)\\, I_{2}\n$$\n类似地，$\\operatorname{adj}(A) A = \\det(A)\\, I_{2}$。由于这个恒等式在整数上成立，它在模算术下也必然成立。因此，我们有：\n$$\nA \\,\\operatorname{adj}(A) \\equiv \\det(A)\\, I_{2} \\pmod{26}\n$$\n$$\n\\operatorname{adj}(A) A \\equiv \\det(A)\\, I_{2} \\pmod{26}\n$$\n\n我们现在分析逆矩阵（记为 $A^{-1}$）存在的条件。\n\n首先，我们证明必要性。假设逆矩阵 $A^{-1}$ 存在，使得 $A A^{-1} \\equiv I_{2} \\pmod{26}$。对两边取行列式，得到 $\\det(A A^{-1}) \\equiv \\det(I_{2}) \\pmod{26}$。矩阵乘积的行列式等于它们行列式的乘积，所以 $\\det(A)\\det(A^{-1}) \\equiv \\det(I_{2}) \\pmod{26}$。因为 $\\det(I_{2}) = 1$，这变为 $\\det(A)\\det(A^{-1}) \\equiv 1 \\pmod{26}$。令 $k = \\det(A)$ 和 $m = \\det(A^{-1})$，其中 $k, m \\in \\mathbb{Z}$。关系式 $km \\equiv 1 \\pmod{26}$ 意味着 $k$，即 $\\det(A)$，必须是环 $\\mathbb{Z}_{26}$ 中的一个单位元。一个元素 $k \\in \\mathbb{Z}_{26}$ 是一个单位元（即有乘法逆元）当且仅当 $\\operatorname{gcd}(k, 26) = 1$。因此，$A$ 模 $26$ 可逆的一个必要条件是 $\\operatorname{gcd}(\\det(A), 26) = 1$。\n\n接下来，我们证明充分性。假设 $\\operatorname{gcd}(\\det(A), 26) = 1$。根据 Bachet-Bézout 恒等式，因为 $\\det(A)$ 和 $26$ 互质，所以存在整数 $u$ 和 $v$ 使得 $u \\cdot \\det(A) + v \\cdot 26 = 1$。这意味着 $u \\cdot \\det(A) \\equiv 1 \\pmod{26}$。这个整数 $u$ 就是 $\\det(A)$ 模 $26$ 的乘法逆元，我们将其记为 $(\\det(A))^{-1}$。\n\n让我们构造一个候选的逆矩阵。从恒等式 $A \\,\\operatorname{adj}(A) \\equiv \\det(A)\\, I_{2} \\pmod{26}$ 出发，我们可以在两边同乘以 $(\\det(A))^{-1}$（根据我们的假设，它是存在的）：\n$$\n(\\det(A))^{-1} (A \\,\\operatorname{adj}(A)) \\equiv (\\det(A))^{-1} (\\det(A)\\, I_{2}) \\pmod{26}\n$$\n$$\nA \\left( (\\det(A))^{-1} \\operatorname{adj}(A) \\right) \\equiv \\left( (\\det(A))^{-1} \\det(A) \\right) I_{2} \\pmod{26}\n$$\n$$\nA \\left( (\\det(A))^{-1} \\operatorname{adj}(A) \\right) \\equiv 1 \\cdot I_{2} \\equiv I_{2} \\pmod{26}\n$$\n令矩阵 $B = (\\det(A))^{-1} \\operatorname{adj}(A)$。我们已经证明了 $AB \\equiv I_{2} \\pmod{26}$。类似地，从 $\\operatorname{adj}(A) A \\equiv \\det(A)\\, I_{2} \\pmod{26}$ 出发，我们可以证明 $BA \\equiv I_{2} \\pmod{26}$。因此，$B$ 是 $A$ 模 $26$ 的逆矩阵。这个逆矩阵的存在性是由 $\\det(A)$ 模 $26$ 可逆的条件保证的。\n\n矩阵 $A = \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}$ 模 $26$ 可逆的充分必要条件是其行列式 $\\det(A) = ad-bc$ 与 $26$ 互质。即 $\\operatorname{gcd}(ad-bc, 26) = 1$。\n\n**第二部分：可逆矩阵的比例**\n\n我们必须求出元素在 $\\mathbb{Z}_{26} = \\{0, 1, \\dots, 25\\}$ 中的 $2 \\times 2$ 矩阵中可逆矩阵所占的比例。\n这类矩阵的总数是 $26^4$，因为有四个元素，每个元素都可以取 $26$ 个值中的任意一个。\n\n一个矩阵 $A \\in M_{2}(\\mathbb{Z}_{26})$ 可逆，当且仅当 $\\operatorname{gcd}(\\det(A), 26) = 1$。$26$ 的质因数分解是 $2 \\times 13$。条件 $\\operatorname{gcd}(\\det(A), 26) = 1$ 等价于同时满足条件 $\\operatorname{gcd}(\\det(A), 2) = 1$ 和 $\\operatorname{gcd}(\\det(A), 13) = 1$。这又等价于 $\\det(A) \\not\\equiv 0 \\pmod 2$ 和 $\\det(A) \\not\\equiv 0 \\pmod{13}$。\n\n根据中国剩余定理，矩阵环 $M_{2}(\\mathbb{Z}_{26})$ 同构于环的直积 $M_{2}(\\mathbb{Z}_{2}) \\times M_{2}(\\mathbb{Z}_{13})$。一个元素 $A \\in M_{2}(\\mathbb{Z}_{26})$ 是可逆的，当且仅当它在 $M_{2}(\\mathbb{Z}_{2})$ 和 $M_{2}(\\mathbb{Z}_{13})$ 中的像都是可逆的。设这些像为 $A_2 = A \\pmod 2$ 和 $A_{13} = A \\pmod{13}$。\n\n在有限域 $\\mathbb{F}_q$ 上可逆的 $n \\times n$ 矩阵的数量，记为群 $GL_{n}(\\mathbb{F}_q)$，由以下公式给出：\n$$\n|GL_{n}(\\mathbb{F}_q)| = \\prod_{k=0}^{n-1} (q^n - q^k) = (q^n - 1)(q^n - q)\\cdots(q^n - q^{n-1})\n$$\n我们需要将此公式应用于域 $\\mathbb{F}_2 = \\mathbb{Z}_2$ 和 $\\mathbb{F}_{13} = \\mathbb{Z}_{13}$ 上的情况，其中 $n=2$。\n\n1.  **计算在 $\\mathbb{F}_2$ 上的可逆矩阵数量：**\n    这里 $q=2$ 且 $n=2$。$2 \\times 2$ 矩阵的总数是 $2^4 = 16$。\n    可逆矩阵的数量是：\n    $$\n    |GL_{2}(\\mathbb{F}_2)| = (2^2 - 2^0)(2^2 - 2^1) = (4 - 1)(4 - 2) = 3 \\times 2 = 6\n    $$\n    在 $\\mathbb{F}_2$ 上可逆矩阵的比例是 $\\frac{6}{16} = \\frac{3}{8}$。\n\n2.  **计算在 $\\mathbb{F}_{13}$ 上的可逆矩阵数量：**\n    这里 $q=13$ 且 $n=2$。$2 \\times 2$ 矩阵的总数是 $13^4$。\n    可逆矩阵的数量是：\n    $$\n    |GL_{2}(\\mathbb{F}_{13})| = (13^2 - 13^0)(13^2 - 13^1) = (169 - 1)(169 - 13) = 168 \\times 156\n    $$\n    在 $\\mathbb{F}_{13}$ 上可逆矩阵的比例是 $\\frac{168 \\times 156}{13^4}$。\n\n在 $M_2(\\mathbb{Z}_{26})$ 中随机选择一个矩阵，等价于在 $M_2(\\mathbb{F}_2)$ 和 $M_2(\\mathbb{F}_{13})$ 中独立地随机选择矩阵。因此，$M_2(\\mathbb{Z}_{26})$ 中的一个矩阵可逆的概率（或比例）是其在各分量环中可逆的概率（或比例）的乘积。\n\n可逆矩阵的比例 = (在 $\\mathbb{F}_2$ 上的比例) $\\times$ (在 $\\mathbb{F}_{13}$ 上的比例)\n$$\nF = \\frac{|GL_{2}(\\mathbb{F}_2)|}{2^4} \\times \\frac{|GL_{2}(\\mathbb{F}_{13})|}{13^4}\n$$\n这等同于计算在 $\\mathbb{Z}_{26}$ 上的可逆矩阵总数，然后除以矩阵的总数：\n可逆矩阵总数 = $|GL_{2}(\\mathbb{F}_2)| \\times |GL_{2}(\\mathbb{F}_{13})| = 6 \\times (168 \\times 156)$。\n矩阵总数 = $26^4 = (2 \\times 13)^4 = 2^4 \\times 13^4$。\n\n比例 $F$ 为：\n$$\nF = \\frac{6 \\times 168 \\times 156}{2^4 \\times 13^4}\n$$\n我们将分子中的数字替换为其质因数分解：\n$6 = 2 \\times 3$\n$168 = 8 \\times 21 = 2^3 \\times 3 \\times 7$\n$156 = 12 \\times 13 = 2^2 \\times 3 \\times 13$\n\n分子是 $(2 \\times 3) \\times (2^3 \\times 3 \\times 7) \\times (2^2 \\times 3 \\times 13) = 2^{1+3+2} \\times 3^{1+1+1} \\times 7 \\times 13 = 2^6 \\times 3^3 \\times 7 \\times 13$。\n分母是 $2^4 \\times 13^4$。\n\n现在，我们计算这个比例：\n$$\nF = \\frac{2^6 \\times 3^3 \\times 7 \\times 13}{2^4 \\times 13^4} = \\frac{2^{6-4} \\times 3^3 \\times 7}{13^{4-1}} = \\frac{2^2 \\times 3^3 \\times 7}{13^3}\n$$\n计算分子和分母：\n分子 = $4 \\times 27 \\times 7 = 108 \\times 7 = 756$。\n分母 = $13^3 = 169 \\times 13 = 2197$。\n\n所有元素取自模 $26$ 的 $2 \\times 2$ 矩阵中，可逆矩阵所占的比例为 $\\frac{756}{2197}$。由于 $2197 = 13^3$ 且 $756$ 不能被 $13$ 整除，此分数为最简形式。", "answer": "$$\n\\boxed{\\frac{756}{2197}}\n$$", "id": "2400447"}]}