{"hands_on_practices": [{"introduction": "向量的正交投影是计算工程中的一项基本操作，它让我们能够将一个复杂的向量（如力或信号）分解到由一组基向量（如结构振型）定义的特定子空间中。这个过程不仅是为了分解，更是为了找到原向量在该子空间内的“最佳近似”，这是最小二乘法等逼近方法的核心思想。通过这个练习，你将亲手计算一个向量在特定子空间上的投影，从而深入理解投影在物理和工程建模中的实际意义。", "problem": "在一个具有$4$个自由度（degrees of freedom (DOF)）的计算结构模型中，考虑配备了标准欧几里得内积 $\\langle x,y\\rangle = x^{\\mathsf{T}} y$ 的标准欧几里得空间 $\\mathbb{R}^{4}$。设力向量为 $v = \\begin{pmatrix}1 \\\\ 2 \\\\ 3 \\\\ 4\\end{pmatrix}$，并考虑两个振型 $u_{1} = \\begin{pmatrix}1 \\\\ 1 \\\\ 0 \\\\ 0\\end{pmatrix}$ 和 $u_{2} = \\begin{pmatrix}0 \\\\ 1 \\\\ 1 \\\\ 0\\end{pmatrix}$。求 $v$ 在由 $u_{1}$ 和 $u_{2}$ 张成的子空间 $S \\subset \\mathbb{R}^{4}$ 上关于标准欧几里得内积的正交投影。\n\n请将您的答案以列向量的形式给出，其分量为精确的有理数。无需四舍五入。", "solution": "首先对问题陈述进行验证。\n\n**步骤1：提取已知条件**\n- 向量空间为标准欧几里得空间 $\\mathbb{R}^{4}$。\n- 内积为标准欧几里得内积，定义为 $\\langle x,y\\rangle = x^{\\mathsf{T}} y$。\n- 待投影的向量为 $v = \\begin{pmatrix}1 \\\\ 2 \\\\ 3 \\\\ 4\\end{pmatrix}$。\n- 子空间 $S$ 由向量 $u_{1} = \\begin{pmatrix}1 \\\\ 1 \\\\ 0 \\\\ 0\\end{pmatrix}$ 和 $u_{2} = \\begin{pmatrix}0 \\\\ 1 \\\\ 1 \\\\ 0\\end{pmatrix}$ 张成。\n- 任务是求 $v$ 在子空间 $S$ 上的正交投影。\n\n**步骤2：使用提取的已知条件进行验证**\n- **科学依据**：该问题是线性代数中的一个标准练习，具体涉及内积空间中的正交投影。所提供的背景（计算结构模型、自由度、力向量、振型）是这些数学概念在工程中的一个有效应用。该问题在科学上和数学上是合理的。\n- **适定性**：该问题是适定的。向量 $u_1$ 和 $u_2$ 线性无关，因此构成了二维子空间 $S$ 的一个有效基。一个向量在有限维子空间上的正交投影是一个具有唯一解的、定义明确的运算。\n- **客观性**：该问题使用精确、无歧义的数学术语进行陈述。\n\n**步骤3：结论与行动**\n问题有效。将提供解答。\n\n目标是求向量 $v$ 在子空间 $S = \\text{span}\\{u_1, u_2\\}$ 上的正交投影。设该投影为 $p$。根据定义，投影 $p$ 是 $S$ 中唯一的向量，使得误差向量 $e = v - p$ 与子空间 $S$ 正交。如果 $e$ 与 $S$ 的一个基中的每个向量都正交，则该正交条件得到满足。因此，我们必须有：\n$$\n\\langle v - p, u_1 \\rangle = 0\n$$\n$$\n\\langle v - p, u_2 \\rangle = 0\n$$\n由于 $p$ 在 $S$ 中，它可以表示为基向量 $u_1$ 和 $u_2$ 的线性组合：\n$$\np = c_1 u_1 + c_2 u_2\n$$\n其中 $c_1$ 和 $c_2$ 为标量系数。将 $p$ 的这个表达式代入正交条件，得到：\n$$\n\\langle v - (c_1 u_1 + c_2 u_2), u_1 \\rangle = \\langle v, u_1 \\rangle - c_1 \\langle u_1, u_1 \\rangle - c_2 \\langle u_2, u_1 \\rangle = 0\n$$\n$$\n\\langle v - (c_1 u_1 + c_2 u_2), u_2 \\rangle = \\langle v, u_2 \\rangle - c_1 \\langle u_1, u_2 \\rangle - c_2 \\langle u_2, u_2 \\rangle = 0\n$$\n这就构成了一个关于系数 $c_1$ 和 $c_2$ 的线性方程组，称为正规方程：\n$$\n\\begin{pmatrix} \\langle u_1, u_1 \\rangle & \\langle u_1, u_2 \\rangle \\\\ \\langle u_2, u_1 \\rangle & \\langle u_2, u_2 \\rangle \\end{pmatrix} \\begin{pmatrix} c_1 \\\\ c_2 \\end{pmatrix} = \\begin{pmatrix} \\langle v, u_1 \\rangle \\\\ \\langle v, u_2 \\rangle \\end{pmatrix}\n$$\n我们现在使用给定的向量计算所需的内积：\n$v = \\begin{pmatrix}1 \\\\ 2 \\\\ 3 \\\\ 4\\end{pmatrix}$， $u_{1} = \\begin{pmatrix}1 \\\\ 1 \\\\ 0 \\\\ 0\\end{pmatrix}$， $u_{2} = \\begin{pmatrix}0 \\\\ 1 \\\\ 1 \\\\ 0\\end{pmatrix}$。\n\n左侧格拉姆矩阵 (Gram matrix) 的内积为：\n$$\n\\langle u_1, u_1 \\rangle = 1^2 + 1^2 + 0^2 + 0^2 = 2\n$$\n$$\n\\langle u_2, u_2 \\rangle = 0^2 + 1^2 + 1^2 + 0^2 = 2\n$$\n$$\n\\langle u_1, u_2 \\rangle = \\langle u_2, u_1 \\rangle = (1)(0) + (1)(1) + (0)(1) + (0)(0) = 1\n$$\n右侧向量的内积为：\n$$\n\\langle v, u_1 \\rangle = (1)(1) + (2)(1) + (3)(0) + (4)(0) = 3\n$$\n$$\n\\langle v, u_2 \\rangle = (1)(0) + (2)(1) + (3)(1) + (4)(0) = 5\n$$\n代入这些值，正规方程变为：\n$$\n\\begin{pmatrix} 2 & 1 \\\\ 1 & 2 \\end{pmatrix} \\begin{pmatrix} c_1 \\\\ c_2 \\end{pmatrix} = \\begin{pmatrix} 3 \\\\ 5 \\end{pmatrix}\n$$\n我们求解这个方程组以得到 $c_1$ 和 $c_2$。该 $2 \\times 2$ 矩阵的行列式为 $(2)(2) - (1)(1) = 3$。矩阵的逆为：\n$$\n\\frac{1}{3} \\begin{pmatrix} 2 & -1 \\\\ -1 & 2 \\end{pmatrix}\n$$\n求解系数：\n$$\n\\begin{pmatrix} c_1 \\\\ c_2 \\end{pmatrix} = \\frac{1}{3} \\begin{pmatrix} 2 & -1 \\\\ -1 & 2 \\end{pmatrix} \\begin{pmatrix} 3 \\\\ 5 \\end{pmatrix} = \\frac{1}{3} \\begin{pmatrix} (2)(3) + (-1)(5) \\\\ (-1)(3) + (2)(5) \\end{pmatrix} = \\frac{1}{3} \\begin{pmatrix} 6 - 5 \\\\ -3 + 10 \\end{pmatrix} = \\frac{1}{3} \\begin{pmatrix} 1 \\\\ 7 \\end{pmatrix}\n$$\n因此，系数为 $c_1 = \\frac{1}{3}$ 和 $c_2 = \\frac{7}{3}$。\n\n最后，将这些系数代回 $p$ 的表达式，计算出正交投影 $p$：\n$$\np = c_1 u_1 + c_2 u_2 = \\frac{1}{3} u_1 + \\frac{7}{3} u_2\n$$\n$$\np = \\frac{1}{3} \\begin{pmatrix}1 \\\\ 1 \\\\ 0 \\\\ 0\\end{pmatrix} + \\frac{7}{3} \\begin{pmatrix}0 \\\\ 1 \\\\ 1 \\\\ 0\\end{pmatrix} = \\begin{pmatrix} \\frac{1}{3} \\\\ \\frac{1}{3} \\\\ 0 \\\\ 0 \\end{pmatrix} + \\begin{pmatrix} 0 \\\\ \\frac{7}{3} \\\\ \\frac{7}{3} \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\frac{1}{3} \\\\ \\frac{1}{3} + \\frac{7}{3} \\\\ \\frac{7}{3} \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\frac{1}{3} \\\\ \\frac{8}{3} \\\\ \\frac{7}{3} \\\\ 0 \\end{pmatrix}\n$$\n为验证结果的正确性，可以检查误差向量 $e = v - p$ 是否与 $u_1$ 和 $u_2$ 都正交。\n$$\ne = v - p = \\begin{pmatrix}1 \\\\ 2 \\\\ 3 \\\\ 4\\end{pmatrix} - \\begin{pmatrix} \\frac{1}{3} \\\\ \\frac{8}{3} \\\\ \\frac{7}{3} \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\frac{2}{3} \\\\ -\\frac{2}{3} \\\\ \\frac{2}{3} \\\\ 4 \\end{pmatrix}\n$$\n$$\n\\langle e, u_1 \\rangle = (\\frac{2}{3})(1) + (-\\frac{2}{3})(1) + (\\frac{2}{3})(0) + (4)(0) = \\frac{2}{3} - \\frac{2}{3} = 0\n$$\n$$\n\\langle e, u_2 \\rangle = (\\frac{2}{3})(0) + (-\\frac{2}{3})(1) + (\\frac{2}{3})(1) + (4)(0) = -\\frac{2}{3} + \\frac{2}{3} = 0\n$$\n正交条件得到满足。结果正确。", "answer": "$$\\boxed{\\begin{pmatrix} \\frac{1}{3} \\\\ \\frac{8}{3} \\\\ \\frac{7}{3} \\\\ 0 \\end{pmatrix}}$$", "id": "2403749"}, {"introduction": "在掌握了单次投影的计算之后，我们自然会想，如何为一个完整的子空间构建一组标准正交基？Gram-Schmidt 正交化过程正是实现这一目标的核心算法。而 QR 分解则是该过程在矩阵语言中的优雅体现，它将一个矩阵分解为一个正交矩阵 $Q$ 和一个上三角矩阵 $R$，这在求解线性系统和特征值问题中至关重要。这个练习将引导你通过 Gram-Schmidt 过程来计算 QR 分解中的 $R$ 矩阵，让你从几何直观的向量正交化过渡到强大的矩阵分解工具。", "problem": "考虑实向量空间 $\\mathbb{R}^3$，该空间赋有标准欧几里得内积，即点积。设 $A$ 是一个 $3 \\times 2$ 矩阵，其列向量为 $a_1$ 和 $a_2$，其中 $a_1$ 是分量为 $(1, 2, 2)$ 的向量，而 $a_2$ 是分量为 $(1, 0, -1)$ 的向量。\n\n该矩阵 $A$ 可以唯一地分解为一个乘积 $A = QR$，其中 $Q$ 是一个具有标准正交列的 $3 \\times 2$ 矩阵，而 $R$ 是一个对角线元素为正的 $2 \\times 2$ 上三角矩阵。此分解称为QR分解。\n\n求矩阵 $R$。最终答案应以一个 $2 \\times 2$ 矩阵的形式呈现。", "solution": "我们使用 Gram-Schmidt 方法对 $3 \\times 2$ 矩阵 $A=[a_{1}\\ a_{2}]$（其中 $a_{1}=(1,2,2)^{T}$ 且 $a_{2}=(1,0,-1)^{T}$）进行薄QR分解，其中 $Q=[q_{1}\\ q_{2}]$ 具有标准正交列，而 $R$ 是对角线元素为正的 $2 \\times 2$ 上三角矩阵。\n\n首先，设\n$$\nr_{11}=\\|a_{1}\\|=\\sqrt{1^{2}+2^{2}+2^{2}}=\\sqrt{9}=3,\n$$\n并定义\n$$\nq_{1}=\\frac{a_{1}}{r_{11}}=\\left(\\frac{1}{3},\\frac{2}{3},\\frac{2}{3}\\right)^{T}.\n$$\n然后计算\n$$\nr_{12}=q_{1}^{T}a_{2}=\\left(\\frac{1}{3},\\frac{2}{3},\\frac{2}{3}\\right)\\cdot(1,0,-1)=-\\frac{1}{3}.\n$$\n构造 $a_{2}$ 相对于 $q_{1}$ 的正交分量：\n$$\nu_{2}=a_{2}-r_{12}q_{1}=a_{2}+\\frac{1}{3}q_{1}=\\left(\\frac{10}{9},\\frac{2}{9},-\\frac{7}{9}\\right)^{T}.\n$$\n其范数为\n$$\nr_{22}=\\|u_{2}\\|=\\sqrt{\\left(\\frac{10}{9}\\right)^{2}+\\left(\\frac{2}{9}\\right)^{2}+\\left(-\\frac{7}{9}\\right)^{2}}=\\frac{1}{9}\\sqrt{153}=\\frac{\\sqrt{17}}{3},\n$$\n其为正数。因此 $R$ 因子为\n$$\nR=\\begin{pmatrix}\nr_{11} & r_{12} \\\\\n0 & r_{22}\n\\end{pmatrix}\n=\\begin{pmatrix}\n3 & -\\frac{1}{3} \\\\\n0 & \\frac{\\sqrt{17}}{3}\n\\end{pmatrix}.\n$$\n这个 $R$ 的对角线元素为正，符合要求。", "answer": "$$\\boxed{\\begin{pmatrix}3 & -\\frac{1}{3} \\\\ 0 & \\frac{\\sqrt{17}}{3}\\end{pmatrix}}$$", "id": "2179862"}, {"introduction": "理论模型（如有限元方法）常常在连续函数空间中定义概念，例如函数间的正交性。然而，计算机在执行计算时，必须将这些连续问题离散化，例如用求和代替积分。这个练习揭示了一个在计算科学中至关重要的现象：在连续世界里完美正交的函数，在离散化的计算世界里可能不再正交。通过计算一个简单的离散内积，你将量化这种由离散化引入的“正交性误差”，深刻体会到理论与实践之间的微妙差异。", "problem": "在数值分析中，连续的数学构造通常被离散近似所取代。本题探讨了这种取代如何影响像正交性这样的基本性质。\n\n考虑在区间 $[-1, 1]$ 上的实值函数构成的向量空间。我们定义一个连续内积，记作 $\\langle \\cdot, \\cdot \\rangle_C$，其形式为：\n$$\n\\langle u, v \\rangle_C = \\int_{-1}^{1} u(x)v(x) \\, dx\n$$\n关于此内积，函数 $f(x) = x$ 和 $g(x) = \\frac{3}{2}x^2 - \\frac{1}{2}$ 是正交的。\n\n现在，我们用一个离散和来近似这个内积。我们将区间 $[-1, 1]$ 分割成 $N$ 个等宽的子区间，宽度为 $\\Delta x = 2/N$。我们使用复合左矩形法则，在每个子区间的左端点对函数进行采样。采样点由 $x_k = -1 + k\\Delta x$ 给出，其中 $k = 0, 1, \\dots, N-1$。这定义了一个离散内积，记作 $\\langle \\cdot, \\cdot \\rangle_D$，其形式为：\n$$\n\\langle u, v \\rangle_D = \\sum_{k=0}^{N-1} u(x_k)v(x_k) \\Delta x\n$$\n在此离散设定下，两个函数 $u$ 和 $v$ 之间的“夹角” $\\theta_D$ 通过关系式 $\\cos(\\theta_D) = \\frac{\\langle u, v \\rangle_D}{\\|u\\|_D \\|v\\|_D}$ 定义，其中离散范数由 $\\|u\\|_D = \\sqrt{\\langle u, u \\rangle_D}$ 给出。\n\n离散近似不一定能保持在连续情形下观察到的正交性。你的任务是针对一个特定情况量化这种差异。\n\n使用离散内积 $\\langle \\cdot, \\cdot \\rangle_D$ 和 $N=2$，计算函数 $f(x) = x$ 与 $g(x) = \\frac{3}{2}x^2 - \\frac{1}{2}$ 对应的 $\\cos^2(\\theta_D)$ 的值。\n\n将你的答案表示为最简有理分数形式。", "solution": "我们有函数 $f(x)=x$ 和 $g(x)=\\frac{3}{2}x^{2}-\\frac{1}{2}$。对于 $N=2$ 的复合左矩形法则，步长为 $\\Delta x=\\frac{2}{N}=1$，采样点为 $x_{0}=-1$ 和 $x_{1}=0$。\n\n在采样点处计算函数值：\n$$ f(-1)=-1,\\quad f(0)=0 $$\n$$ g(-1)=\\frac{3}{2}(-1)^{2}-\\frac{1}{2}=1,\\quad g(0)=\\frac{3}{2}(0)^2-\\frac{1}{2}=-\\frac{1}{2} $$\n\n计算离散内积：\n$$\n\\langle f,g\\rangle_{D}=\\sum_{k=0}^{1} f(x_{k})g(x_{k})\\Delta x = [f(-1)g(-1) + f(0)g(0)]\\cdot \\Delta x = [(-1)(1) + (0)(-\\frac{1}{2})]\\cdot 1=-1\n$$\n\n计算离散范数的平方：\n$$\n\\langle f,f\\rangle_{D} = \\sum_{k=0}^{1} f(x_k)^2 \\Delta x = [(-1)^2 + 0^2]\\cdot 1 = 1\n$$\n$$\n\\langle g,g\\rangle_{D} = \\sum_{k=0}^{1} g(x_k)^2 \\Delta x = [1^2 + (-\\frac{1}{2})^2]\\cdot 1 = 1+\\frac{1}{4}=\\frac{5}{4}\n$$\n因此，范数为：\n$$\n\\|f\\|_{D} = \\sqrt{1}=1\n$$\n$$\n\\|g\\|_{D} = \\sqrt{\\frac{5}{4}}=\\frac{\\sqrt{5}}{2}\n$$\n因此，夹角的余弦为：\n$$\n\\cos(\\theta_{D})=\\frac{\\langle f,g\\rangle_{D}}{\\|f\\|_{D}\\|g\\|_{D}}=\\frac{-1}{1\\cdot \\frac{\\sqrt{5}}{2}}=-\\frac{2}{\\sqrt{5}}\n$$\n于是，其余弦的平方为：\n$$\n\\cos^{2}(\\theta_{D})=\\left(-\\frac{2}{\\sqrt{5}}\\right)^{2}=\\frac{4}{5}\n$$", "answer": "$$\\boxed{\\frac{4}{5}}$$", "id": "2179886"}]}