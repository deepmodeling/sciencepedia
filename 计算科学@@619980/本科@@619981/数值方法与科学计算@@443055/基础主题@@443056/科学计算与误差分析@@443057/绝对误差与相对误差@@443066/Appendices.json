{"hands_on_practices": [{"introduction": "在科学与工程领域，我们常常使用简化模型来近似求解复杂问题。然而，任何近似都伴随着误差。本练习将误差分析置于一个具体的热力学情境中：计算气体膨胀所做的功。通过对比精确解和一种常见线性近似（梯形法则）的结果，你将亲手计算绝对误差，从而直观地理解它如何量化模型近似的准确性。[@problem_id:2152061]", "problem": "一位工程师正在分析活塞-气缸装置中气体的等温膨胀。气体从初始体积 $V_1$ 膨胀到最终体积 $V_2$ 时所做的功 $W$ 由积分 $W = \\int_{V_1}^{V_2} P(V) dV$ 给出，其中 $P(V)$ 是气体的压力，作为其体积 $V$ 的函数。\n\n该气体被建模为理想气体，因此其压力遵循关系式 $P(V) = \\frac{nRT}{V}$，其中 $n$ 是气体的摩尔数，$R$ 是理想气体常数，$T$ 是绝对温度。膨胀在以下条件下发生：\n- 气体摩尔数，$n = 1.00$ mol\n- 理想气体常数，$R = 8.314 \\, \\text{J/(mol}\\cdot\\text{K)}$\n- 恒定温度，$T = 300$ K\n- 初始体积，$V_1 = 0.0250 \\, \\text{m}^3$\n- 最终体积，$V_2 = 0.0500 \\, \\text{m}^3$\n\n为了快速估算所做的功，工程师对压力使用线性近似。该近似假设功可以用公式 $W_{approx} = \\frac{1}{2}(P_1 + P_2)(V_2 - V_1)$ 来估算，其中 $P_1$ 和 $P_2$ 分别是初始体积 $V_1$ 和最终体积 $V_2$ 时的压力。\n\n计算此近似的绝对误差，其定义为精确功与近似功之间的绝对差。以焦耳为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "问题要求计算等温膨胀理想气体所做的精确功与该功的近似值之间的绝对误差。绝对误差 $E_a$ 由 $E_a = |W_{exact} - W_{approx}|$ 给出。\n\n首先，我们计算精确功 $W_{exact}$。功的公式是 $W = \\int_{V_1}^{V_2} P(V) dV$。对于理想气体，$P(V) = \\frac{nRT}{V}$。将此代入积分中得到：\n$$W_{exact} = \\int_{V_1}^{V_2} \\frac{nRT}{V} dV$$\n由于 $n$、$R$ 和 $T$ 是常数，我们可以将它们从积分中提出：\n$$W_{exact} = nRT \\int_{V_1}^{V_2} \\frac{1}{V} dV$$\n计算 $\\frac{1}{V}$ 的积分得到自然对数 $\\ln(V)$：\n$$W_{exact} = nRT \\left[ \\ln|V| \\right]_{V_1}^{V_2} = nRT (\\ln(V_2) - \\ln(V_1))$$\n利用对数的性质，这可以简化为：\n$$W_{exact} = nRT \\ln\\left(\\frac{V_2}{V_1}\\right)$$\n\n接下来，我们使用给定的公式计算近似功 $W_{approx}$：\n$$W_{approx} = \\frac{1}{2}(P_1 + P_2)(V_2 - V_1)$$\n此处，$P_1$ 和 $P_2$ 分别是体积 $V_1$ 和 $V_2$ 时的压力。使用理想气体定律：\n$$P_1 = P(V_1) = \\frac{nRT}{V_1}$$\n$$P_2 = P(V_2) = \\frac{nRT}{V_2}$$\n将这些压力表达式代入近似公式：\n$$W_{approx} = \\frac{1}{2}\\left(\\frac{nRT}{V_1} + \\frac{nRT}{V_2}\\right)(V_2 - V_1)$$\n我们可以提出常数项 $nRT$：\n$$W_{approx} = \\frac{nRT}{2}\\left(\\frac{1}{V_1} + \\frac{1}{V_2}\\right)(V_2 - V_1)$$\n为了简化括号中的表达式，我们找到一个公分母：\n$$W_{approx} = \\frac{nRT}{2}\\left(\\frac{V_2 + V_1}{V_1 V_2}\\right)(V_2 - V_1)$$\n认识到 $(V_2 + V_1)(V_2 - V_1) = V_2^2 - V_1^2$，我们得到：\n$$W_{approx} = \\frac{nRT}{2} \\frac{V_2^2 - V_1^2}{V_1 V_2}$$\n\n现在我们可以写出绝对误差 $E_a$ 的表达式：\n$$E_a = |W_{exact} - W_{approx}| = \\left| nRT \\ln\\left(\\frac{V_2}{V_1}\\right) - \\frac{nRT}{2} \\frac{V_2^2 - V_1^2}{V_1 V_2} \\right|$$\n提出 $nRT$：\n$$E_a = nRT \\left| \\ln\\left(\\frac{V_2}{V_1}\\right) - \\frac{V_2^2 - V_1^2}{2V_1 V_2} \\right|$$\n\n现在，我们代入给定的数值：\n$n = 1.00$ mol\n$R = 8.314 \\, \\text{J/(mol}\\cdot\\text{K)}$\n$T = 300$ K\n$V_1 = 0.0250 \\, \\text{m}^3$\n$V_2 = 0.0500 \\, \\text{m}^3$\n\n首先，我们计算前置因子 $nRT$：\n$$nRT = (1.00 \\, \\text{mol}) \\times (8.314 \\, \\frac{\\text{J}}{\\text{mol}\\cdot\\text{K}}) \\times (300 \\, \\text{K}) = 2494.2 \\, \\text{J}$$\n接下来，我们计算绝对值内的项。体积比为：\n$$\\frac{V_2}{V_1} = \\frac{0.0500 \\, \\text{m}^3}{0.0250 \\, \\text{m}^3} = 2$$\n所以对数项是 $\\ln(2)$。\n\n对于第二项，我们可以代入体积：\n$$\\frac{V_2^2 - V_1^2}{2V_1 V_2} = \\frac{(0.0500)^2 - (0.0250)^2}{2(0.0250)(0.0500)} = \\frac{0.0025 - 0.000625}{0.0025} = \\frac{0.001875}{0.0025} = 0.75$$\n或者，使用符号比 $V_2 = 2V_1$：\n$$\\frac{(2V_1)^2 - V_1^2}{2V_1 (2V_1)} = \\frac{4V_1^2 - V_1^2}{4V_1^2} = \\frac{3V_1^2}{4V_1^2} = \\frac{3}{4} = 0.75$$\n\n现在，将这些值代回 $E_a$ 的表达式中：\n$$E_a = 2494.2 \\, \\text{J} \\times \\left| \\ln(2) - 0.75 \\right|$$\n使用计算器计算 $\\ln(2)$：\n$$\\ln(2) \\approx 0.693147$$\n所以绝对值内的项是：\n$$|0.693147 - 0.75| = |-0.056853| = 0.056853$$\n最后，计算绝对误差：\n$$E_a = 2494.2 \\times 0.056853 \\approx 141.8105 \\, \\text{J}$$\n\n问题要求答案四舍五入到三位有效数字。\n$$E_a \\approx 142 \\, \\text{J}$$", "answer": "$$\\boxed{142}$$", "id": "2152061"}, {"introduction": "在数值计算中，一个公式的数学正确性并不能保证其在计算机上的计算精度。这个练习揭示了一个经典的数值陷阱——“灾难性抵消”(catastrophic cancellation)。你将看到，当两个相近的数相减时，直接计算可能会导致有效数字的严重损失。通过对比一个直接计算式和一个代数等价但数值上更稳定的形式，本练习突显了监控相对误差和选择合适计算方法的重要性。[@problem_id:2152049]", "problem": "在一次数值模拟中，对于大的 $x$ 值，我们使用函数 $f(x) = \\sqrt{x+1} - \\sqrt{x}$ 来计算一个所关心的量。由于潜在的数值不稳定性，也考虑了其代数等价形式 $g(x) = \\frac{1}{\\sqrt{x+1} + \\sqrt{x}}$。\n\n假设计算在一个使用六位舍入算术的处理器上执行。这意味着在每次算术运算（加法、减法、乘法、除法和平方根）之后，结果都会被舍入到六位有效数字，然后再进行下一次运算。\n\n设 $\\tilde{y}_f$ 和 $\\tilde{y}_g$ 分别为函数 $f(x)$ 和 $g(x)$ 在 $x = 1.2 \\times 10^5$ 时的计算值。为了进行本次分析，我们将从更稳定的形式得到的 $\\tilde{y}_g$ 值视为正确的参考值。\n\n计算 $\\tilde{y}_f$ 相对于 $\\tilde{y}_g$ 的相对误差。将最终答案表示为舍入到四位有效数字的小数。", "solution": "我们模拟每次运算后的六位舍入算术。设 $x = 1.2 \\times 10^{5}$。\n\n计算 $f(x) = \\sqrt{x+1} - \\sqrt{x}$：\n- 加法：$x+1 = 120000 + 1 = 120001$，这已经是六位有效数字。\n- 平方根（每个都舍入到六位有效数字）：\n  - $\\sqrt{120000} = 346.4101615\\ldots \\to 346.410$。\n  - $\\sqrt{120001} \\approx 346.411604886\\ldots \\to 346.412$。\n- 减法和舍入：$\\tilde{y}_{f} = 346.412 - 346.410 = 0.002$。舍入到六位有效数字，结果为 $0.00200000$，数值上为 $0.002$。\n\n计算 $g(x) = \\frac{1}{\\sqrt{x+1} + \\sqrt{x}}$：\n- 重用舍入后的平方根值：$346.412$ 和 $346.410$。\n- 加法和舍入：$346.412 + 346.410 = 692.822$，这有六位有效数字。\n- 除法和舍入：$\\tilde{y}_{g} = \\frac{1}{692.822} \\approx 0.001443372\\ldots \\to 0.00144337$（六位有效数字）。\n\n将 $\\tilde{y}_{g}$ 作为正确参考值。$\\tilde{y}_{f}$ 相对于 $\\tilde{y}_{g}$ 的相对误差为\n$$\n\\text{RelErr} = \\frac{|\\tilde{y}_{f} - \\tilde{y}_{g}|}{|\\tilde{y}_{g}|}\n= \\frac{|0.002 - 0.00144337|}{0.00144337}\n= \\frac{0.00055663}{0.00144337} \\approx 0.385646\\ldots\n$$\n舍入到四位有效数字，相对误差为 $0.3856$。", "answer": "$$\\boxed{0.3856}$$", "id": "2152049"}, {"introduction": "许多科学问题的解并非单个数值，而是一个包含多个分量的向量，例如线性方程组的解或优化问题中的参数。那么，我们该如何衡量一个近似向量与真实解向量之间的“距离”呢？本练习将误差的概念从标量扩展到多维空间，介绍如何使用向量范数（特别是无穷范数 $\\| \\cdot \\|_{\\infty}$）来计算相对误差，这是数值线性代数和优化领域中的一项基本技能。[@problem_id:2152070]", "problem": "在数值分析领域，我们经常处理那些难以或无法直接计算精确解的数学问题的近似解。该领域的一个关键方面是量化精确解与近似解之间的差异。\n\n设问题的精确解由向量 $x \\in \\mathbb{R}^n$ 表示，计算出的近似解由 $\\tilde{x} \\in \\mathbb{R}^n$ 表示。绝对误差是向量 $e = x - \\tilde{x}$。相对误差提供了对这种差异的归一化度量，并相对于所选的向量范数 $\\|\\cdot\\|$ 定义如下：\n$$ \\text{Relative Error} = \\frac{\\|x - \\tilde{x}\\|}{\\|x\\|} $$\n最常用的向量范数之一是无穷范数，也称为最大范数。对于一个向量 $v = (v_1, v_2, \\dots, v_n)^T$，无穷范数定义为 $\\|v\\|_{\\infty} = \\max_{1 \\le i \\le n} |v_i|$。\n\n假设对于一个特定的 $2 \\times 2$ 线性系统，其精确解为向量 $x = (1.0, -1.0)^T$。使用一种数值算法来寻找近似解，得到的结果是 $\\tilde{x} = (1.1, -0.9)^T$。\n\n使用无穷范数 $\\|\\cdot\\|_{\\infty}$ 计算精确解 $x$ 与近似解 $\\tilde{x}$ 之间的相对误差。将您的答案以小数形式表示，并四舍五入到三位有效数字。", "solution": "我们已知精确解向量 $x = \\begin{pmatrix}1.0 \\\\ -1.0\\end{pmatrix}$ 和近似解向量 $\\tilde{x} = \\begin{pmatrix}1.1 \\\\ -0.9\\end{pmatrix}$。绝对误差向量定义为 $e = x - \\tilde{x}$。按分量计算 $e$：\n$$\ne = \\begin{pmatrix}1.0 \\\\ -1.0\\end{pmatrix} - \\begin{pmatrix}1.1 \\\\ -0.9\\end{pmatrix} = \\begin{pmatrix}1.0 - 1.1 \\\\ -1.0 - (-0.9)\\end{pmatrix} = \\begin{pmatrix}-0.1 \\\\ -0.1\\end{pmatrix}.\n$$\n使用无穷范数 $\\|\\cdot\\|_{\\infty}$，其定义为 $\\|v\\|_{\\infty} = \\max_{i} |v_{i}|$，我们计算：\n$$\n\\|e\\|_{\\infty} = \\max\\{|{-0.1}|, |{-0.1}|\\} = 0.1, \\quad \\|x\\|_{\\infty} = \\max\\{|1.0|, |{-1.0}|\\} = 1.0.\n$$\n那么相对误差为\n$$\n\\frac{\\|x - \\tilde{x}\\|_{\\infty}}{\\|x\\|_{\\infty}} = \\frac{\\|e\\|_{\\infty}}{\\|x\\|_{\\infty}} = \\frac{0.1}{1.0} = 0.1.\n$$\n四舍五入到三位有效数字，相对误差为 $0.100$。", "answer": "$$\\boxed{0.100}$$", "id": "2152070"}]}