{"hands_on_practices": [{"introduction": "让我们从一个植根于物理学和微积分的基础问题开始。通过分析一个由多项式函数描述的小珠在钢丝上的势能分布，你将练习在闭区间内寻找全局最优解的核心方法。这个练习要求你找出所有的临界点和端点，然后比较它们对应的函数值，这是解决任何优化问题都不可或缺的基本功。[@problem_id:2185896]", "problem": "一个小珠子穿在一根水平金属丝上，可以沿其自由滑动。珠子的势能 $U$ 作为其位置 $x$ 的函数，由一个四次多项式建模。在这个模型中，位置 $x$ 的单位是米 (m)，势能 $U$ 的单位是焦耳 (J)。具体的势能函数由下式给出：\n\n$$U(x) = x^4 - \\frac{8}{3}x^3 - \\frac{11}{2}x^2 + 15x + 10$$\n\n珠子的运动在物理上被限制在由闭区间 $[-2, 3]$ 定义的金属丝段上，这意味着其位置 $x$ 必须满足 $-2 \\le x \\le 3$。\n\n确定珠子在其允许的运动范围内所能具有的绝对最小势能。将最终答案以焦耳 (J) 为单位表示，并四舍五入到三位有效数字。", "solution": "为了找到连续势能函数 $U(x)$ 在闭区间 $[-2, 3]$ 上的绝对最小值，我们必须计算函数在该区间内的临界点以及区间端点处的值。绝对最小值将是这些值中的最小值。这由极值定理保证。\n\n首先，我们通过求 $U(x)$ 对 $x$ 的导数并将其设为零来找到其临界点。\n势能函数为：\n$$U(x) = x^4 - \\frac{8}{3}x^3 - \\frac{11}{2}x^2 + 15x + 10$$\n\n其导数 $U'(x)$ 为：\n$$U'(x) = \\frac{d}{dx} \\left( x^4 - \\frac{8}{3}x^3 - \\frac{11}{2}x^2 + 15x + 10 \\right)$$\n$$U'(x) = 4x^3 - 8x^2 - 11x + 15$$\n\n为了找到临界点，我们求解方程 $U'(x) = 0$：\n$$4x^3 - 8x^2 - 11x + 15 = 0$$\n\n我们可以使用有理根定理来寻找有理根。我们测试简单的整数值。测试 $x=1$：\n$U'(1) = 4(1)^3 - 8(1)^2 - 11(1) + 15 = 4 - 8 - 11 + 15 = -4 - 11 + 15 = 0$。\n所以，$(x-1)$ 是多项式 $4x^3 - 8x^2 - 11x + 15$ 的一个因子。我们可以使用多项式除法来找到其他因子。\n将 $4x^3 - 8x^2 - 11x + 15$ 除以 $(x-1)$：\n$$ (4x^3 - 8x^2 - 11x + 15) \\div (x-1) = 4x^2 - 4x - 15 $$\n现在我们需要找到二次因子 $4x^2 - 4x - 15 = 0$ 的根。我们可以使用求根公式，$x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$：\n$$x = \\frac{-(-4) \\pm \\sqrt{(-4)^2 - 4(4)(-15)}}{2(4)}$$\n$$x = \\frac{4 \\pm \\sqrt{16 + 240}}{8}$$\n$$x = \\frac{4 \\pm \\sqrt{256}}{8}$$\n$$x = \\frac{4 \\pm 16}{8}$$\n这给出了另外两个根：\n$$x_1 = \\frac{4 + 16}{8} = \\frac{20}{8} = 2.5$$\n$$x_2 = \\frac{4 - 16}{8} = \\frac{-12}{8} = -1.5$$\n临界点是 $x = -1.5$，$x = 1$ 和 $x = 2.5$。这三个临界点都位于指定的区间 $[-2, 3]$ 内。\n\n现在，我们在这些临界点以及区间的端点 $x=-2$ 和 $x=3$ 处计算势能函数 $U(x)$ 的值。\n\n1.  端点 $x=-2$：\n    $U(-2) = (-2)^4 - \\frac{8}{3}(-2)^3 - \\frac{11}{2}(-2)^2 + 15(-2) + 10 = 16 - \\frac{8}{3}(-8) - \\frac{11}{2}(4) - 30 + 10 = 16 + \\frac{64}{3} - 22 - 20 = -26 + \\frac{64}{3} = \\frac{-78+64}{3} = -\\frac{14}{3} \\approx -4.667$ J.\n\n2.  临界点 $x=-1.5$：\n    $U(-1.5) = U(-3/2) = (-\\frac{3}{2})^4 - \\frac{8}{3}(-\\frac{3}{2})^3 - \\frac{11}{2}(-\\frac{3}{2})^2 + 15(-\\frac{3}{2}) + 10$\n    $= \\frac{81}{16} - \\frac{8}{3}(-\\frac{27}{8}) - \\frac{11}{2}(\\frac{9}{4}) - \\frac{45}{2} + 10$\n    $= \\frac{81}{16} + 9 - \\frac{99}{8} - \\frac{45}{2} + 10 = \\frac{81}{16} + 19 - \\frac{198}{16} - \\frac{360}{16}$\n    $= \\frac{81 + 304 - 198 - 360}{16} = \\frac{385 - 558}{16} = -\\frac{173}{16} = -10.8125$ J.\n\n3.  临界点 $x=1$：\n    $U(1) = (1)^4 - \\frac{8}{3}(1)^3 - \\frac{11}{2}(1)^2 + 15(1) + 10 = 1 - \\frac{8}{3} - \\frac{11}{2} + 15 + 10 = 26 - \\frac{16}{6} - \\frac{33}{6} = 26 - \\frac{49}{6} = \\frac{156 - 49}{6} = \\frac{107}{6} \\approx 17.833$ J.\n\n4.  临界点 $x=2.5$：\n    $U(2.5) = U(5/2) = (\\frac{5}{2})^4 - \\frac{8}{3}(\\frac{5}{2})^3 - \\frac{11}{2}(\\frac{5}{2})^2 + 15(\\frac{5}{2}) + 10$\n    $= \\frac{625}{16} - \\frac{8}{3}(\\frac{125}{8}) - \\frac{11}{2}(\\frac{25}{4}) + \\frac{75}{2} + 10$\n    $= \\frac{625}{16} - \\frac{125}{3} - \\frac{275}{8} + \\frac{75}{2} + 10$. 为了将这些分数相加，我们使用公分母 48。\n    $= \\frac{1875}{48} - \\frac{2000}{48} - \\frac{1650}{48} + \\frac{1800}{48} + \\frac{480}{48} = \\frac{1875 - 2000 - 1650 + 1800 + 480}{48} = \\frac{505}{48} \\approx 10.521$ J.\n\n5.  端点 $x=3$：\n    $U(3) = (3)^4 - \\frac{8}{3}(3)^3 - \\frac{11}{2}(3)^2 + 15(3) + 10 = 81 - \\frac{8}{3}(27) - \\frac{11}{2}(9) + 45 + 10 = 81 - 72 - 49.5 + 45 + 10 = 136 - 121.5 = 14.5$ J.\n\n我们现在比较我们计算出的值：\n$U(-2) \\approx -4.667$ J\n$U(-1.5) = -10.8125$ J\n$U(1) \\approx 17.833$ J\n$U(2.5) \\approx 10.521$ J\n$U(3) = 14.5$ J\n\n这些值中的最小值是 $-10.8125$ J，它出现在临界点 $x=-1.5$ 处。\n题目要求将答案四舍五入到三位有效数字。\n将 $-10.8125$ 四舍五入到三位有效数字得到 $-10.8$。", "answer": "$$\\boxed{-10.8}$$", "id": "2185896"}, {"introduction": "现在，我们将问题从一维扩展到一个更真实的二维场景：设施选址。这个问题揭示了当决策相互关联时，局部最优解是如何自然产生的——设施的最佳位置取决于它服务哪些客户，而客户的归属又取决于设施的位置。通过为一个特定的“稳定平衡”状态计算坐标，你将深入理解这种相互依赖性如何创造出一个包含多个局部最小值的复杂优化“地形”。[@problem_id:2185903]", "problem": "一家物流公司正计划建造两个新的配送中心，$F_1$ 和 $F_2$，为位于一个二维平面上的四个主要客户服务。这些客户的坐标为 $C_1 = (-3, 1)$、$C_2 = (-1, -1)$、$C_3 = (1, 1)$ 和 $C_4 = (4, -1)$。\n\n该公司的运营成本被建模为每个客户到其指定配送中心的平方欧几里得距离之和。为最小化成本，每个客户将由离它几何上更近的配送中心（即平方欧几里得距离较小的那个）独家服务。设配送中心的位置为 $F_1 = (x_1, y_1)$ 和 $F_2 = (x_2, y_2)$。因此，总成本函数 $J$ 由下式给出：\n$$ J(F_1, F_2) = \\sum_{i=1}^{4} \\min\\left( \\|C_i - F_1\\|^2, \\|C_i - F_2\\|^2 \\right) $$\n其中 $\\|P - Q\\|^2$ 表示点 $P$ 和 $Q$ 之间的平方欧几里得距离。\n\n如果一个配送中心位置的配置代表了成本函数 $J$ 的一个局部最小值，那么该配置被称为“稳定均衡”。当配送中心相对于其分配的客户集达到最优位置，同时客户的分配与最终的配送中心位置保持一致时，就会出现这种情况。\n\n已知存在一个稳定均衡，其中客户 $C_1$ 由一个配送中心服务，而其余三个客户 $C_2$、$C_3$ 和 $C_4$ 由另一个配送中心服务。这个特定的均衡对应于成本函数的一个局部最小值，但不是全局最小值。\n\n对于这个特定的稳定均衡，服务于由三个客户（$C_2$、$C_3$ 和 $C_4$）组成的群组的配送中心的坐标是什么？\n\nA. $(\\frac{4}{3}, -\\frac{1}{3})$\n\nB. $(-3, 1)$\n\nC. $(2.5, 0)$\n\nD. $(-2, 0)$\n\nE. $(0.25, 0)$\n\nF. $(1, -\\frac{1}{3})$", "solution": "我们寻找一个包含两个配送中心的稳定均衡，其分配方案为 $C_{1}$ 单独组成一个簇，而 $\\{C_{2},C_{3},C_{4}\\}$ 组成另一个簇。对于一个固定的分配方案，当配送中心位于所分配点的算术平均值（质心）处时，每个簇内的平方距离之和最小。这可以通过最小化\n$$\nJ_{S}(f)=\\sum_{k=1}^{n}\\|p_{k}-f\\|^{2}\n=\\sum_{k=1}^{n}\\left(\\|p_{k}\\|^{2}-2\\,p_{k}\\cdot f+\\|f\\|^{2}\\right)\n=\\text{const}-2\\left(\\sum_{k=1}^{n}p_{k}\\right)\\cdot f+n\\|f\\|^{2},\n$$\n得出，其关于 $f$ 的梯度为\n$$\n\\nabla J_{S}(f)=2n f-2\\sum_{k=1}^{n}p_{k}.\n$$\n令 $\\nabla J_{S}(f)=0$ 可得唯一的最小化点\n$$\nf^{\\ast}=\\frac{1}{n}\\sum_{k=1}^{n}p_{k}.\n$$\n\n将此结论应用于给定的分配方案：\n- 单例簇 $\\{C_{1}\\}$ 产生 $F_{1}^{\\ast}=C_{1}=(-3,1)$。\n- 簇 $\\{C_{2},C_{3},C_{4}\\}$ 产生\n$$\nF_{2}^{\\ast}=\\frac{1}{3}\\left[(-1,-1)+(1,1)+(4,-1)\\right]\n=\\left(\\frac{-1+1+4}{3},\\,\\frac{-1+1-1}{3}\\right)\n=\\left(\\frac{4}{3},\\,-\\frac{1}{3}\\right).\n$$\n\n为了验证此配置下分配的一致性，我们检查 $C_{2},C_{3},C_{4}$ 中的每一个点是否都比离 $F_{1}^{\\ast}$ 更接近 $F_{2}^{\\ast}$（以平方距离衡量）。\n\n当 $F_{1}^{\\ast}=(-3,1)$ 且 $F_{2}^{\\ast}=\\left(\\frac{4}{3},-\\frac{1}{3}\\right)$ 时：\n- 对于 $C_{2}=(-1,-1)$，\n$$\n\\|C_{2}-F_{2}^{\\ast}\\|^{2}=\\left(-1-\\frac{4}{3}\\right)^{2}+\\left(-1+\\frac{1}{3}\\right)^{2}\n=\\left(-\\frac{7}{3}\\right)^{2}+\\left(-\\frac{2}{3}\\right)^{2}\n=\\frac{53}{9},\n$$\n$$\n\\|C_{2}-F_{1}^{\\ast}\\|^{2}=(-1+3)^{2}+(-1-1)^{2}=2^{2}+(-2)^{2}=8=\\frac{72}{9},\n$$\n因此 $\\|C_{2}-F_{2}^{\\ast}\\|^{2}<\\|C_{2}-F_{1}^{\\ast}\\|^{2}$。\n\n- 对于 $C_{3}=(1,1)$，\n$$\n\\|C_{3}-F_{2}^{\\ast}\\|^{2}=\\left(1-\\frac{4}{3}\\right)^{2}+\\left(1+\\frac{1}{3}\\right)^{2}\n=\\left(-\\frac{1}{3}\\right)^{2}+\\left(\\frac{4}{3}\\right)^{2}\n=\\frac{17}{9},\n$$\n$$\n\\|C_{3}-F_{1}^{\\ast}\\|^{2}=(1+3)^{2}+(1-1)^{2}=4^{2}+0^{2}=16=\\frac{144}{9},\n$$\n因此 $\\|C_{3}-F_{2}^{\\ast}\\|^{2}<\\|C_{3}-F_{1}^{\\ast}\\|^{2}$。\n\n- 对于 $C_{4}=(4,-1)$，\n$$\n\\|C_{4}-F_{2}^{\\ast}\\|^{2}=\\left(4-\\frac{4}{3}\\right)^{2}+\\left(-1+\\frac{1}{3}\\right)^{2}\n=\\left(\\frac{8}{3}\\right)^{2}+\\left(-\\frac{2}{3}\\right)^{2}\n=\\frac{68}{9},\n$$\n$$\n\\|C_{4}-F_{1}^{\\ast}\\|^{2}=(4+3)^{2}+(-1-1)^{2}=7^{2}+(-2)^{2}=53=\\frac{477}{9},\n$$\n因此 $\\|C_{4}-F_{2}^{\\ast}\\|^{2}<\\|C_{4}-F_{1}^{\\ast}\\|^{2}$。\n\n因此，该分配是一致的，服务于 $C_{2},C_{3},C_{4}$ 的配送中心位于 $\\left(\\frac{4}{3},-\\frac{1}{3}\\right)$，这对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "2185903"}, {"introduction": "我们的最后一个实践将进入离散优化与网络科学的领域。许多重要问题，从物流规划到社交网络分析，涉及的是离散选择而非连续变量。在这个练习中，你将使用“模块度”这一指标来评估网络社群划分的优劣，并亲眼见证一个贪心算法如何因每一步都做出局部最优选择，而最终陷入一个次优的解。这揭示了组合优化中的一个核心挑战，并凸显了局部最优解与真正的全局最优解之间的关键差异。[@problem_id:2185891]", "problem": "在复杂网络分析中，社区检测算法旨在将网络的节点划分为多个社区（或簇），使得社区内的节点连接密集，而不同社区之间的连接稀疏。评估划分质量的一个常用度量是*模块度*，用 $Q$ 表示。对于给定的网络划分为一组社区，模块度的定义如下：\n\n$$Q = \\sum_{c} \\left[ \\frac{l_c}{m} - \\left(\\frac{d_c}{2m}\\right)^2 \\right]$$\n\n其中，求和是针对划分中的所有社区 $c$。在此公式中：\n- $m$ 是网络中边的总数。\n- $l_c$ 是两个端点都在社区 $c$ 内部的边数。\n- $d_c$ 是社区 $c$ 中节点度的总和。（节点的度是指与该节点相连的边数。）\n\n用于模块度最大化的贪心算法虽然计算效率高，但众所周知，它们有时会陷入非全局最优的局部最优划分中。\n\n考虑一个包含 7 个节点（标记为 1 到 7）的简单无向网络。该网络的边为：\n(1,2), (1,3), (2,3), (4,5), (4,6), (5,6), (1,7), (3,7), (4,7).\n\n在此网络上运行了一个贪心凝聚型社区检测算法。由于一系列的局部合并决策，该算法终止时得到的划分是 $P_A = \\{\\{1,2,3\\}, \\{4,5,6,7\\}\\}$。然而，这个划分并非全局最优。能够使模块度最大化的真正全局最优划分是 $P_B = \\{\\{1,2,3,7\\}, \\{4,5,6\\}\\}$。\n\n您的任务是量化该算法结果的次优性。请计算全局最优划分与贪心算法找到的划分之间的模块度差值 $\\Delta Q = Q(P_B) - Q(P_A)$。报告您的答案，并四舍五入到四位有效数字。", "solution": "我们使用模块度的定义\n$$Q=\\sum_{c}\\left[\\frac{l_{c}}{m}-\\left(\\frac{d_{c}}{2m}\\right)^{2}\\right],$$\n其中 $m$ 是边的总数，$l_c$ 是社区 $c$ 内部的边数，$d_c$ 是社区 $c$ 中节点度的总和。\n\n首先计算网络总体数据。边集有 9 条边：\n$$(1,2),(1,3),(2,3),(4,5),(4,6),(5,6),(1,7),(3,7),(4,7),$$\n所以 $m=9$。节点度为\n$$\\deg(1)=3,\\ \\deg(2)=2,\\ \\deg(3)=3,\\ \\deg(4)=3,\\ \\deg(5)=2,\\ \\deg(6)=2,\\ \\deg(7)=3,$$\n因此 $\\sum_{i}\\deg(i)=18$，与 $2m=18$ 一致。\n\n对于 $P_{A}=\\{\\{1,2,3\\},\\{4,5,6,7\\}\\}$：\n- 对于 $c_{1}=\\{1,2,3\\}$，内部边是 $(1,2),(1,3),(2,3)$，所以 $l_{1}=3$，且 $d_{1}=\\deg(1)+\\deg(2)+\\deg(3)=3+2+3=8$。\n- 对于 $c_{2}=\\{4,5,6,7\\}$，内部边是 $(4,5),(4,6),(5,6),(4,7)$，所以 $l_{2}=4$，且 $d_{2}=\\deg(4)+\\deg(5)+\\deg(6)+\\deg(7)=3+2+2+3=10$。\n因此\n$$Q(P_{A})=\\left[\\frac{3}{9}-\\left(\\frac{8}{18}\\right)^{2}\\right]+\\left[\\frac{4}{9}-\\left(\\frac{10}{18}\\right)^{2}\\right]\n=\\left[\\frac{1}{3}-\\frac{16}{81}\\right]+\\left[\\frac{4}{9}-\\frac{25}{81}\\right]\n=\\frac{22}{81}。$$\n\n对于 $P_{B}=\\{\\{1,2,3,7\\},\\{4,5,6\\}\\}$：\n- 对于 $c_{1}'=\\{1,2,3,7\\}$，内部边是 $(1,2),(1,3),(2,3),(1,7),(3,7)$，所以 $l_{1}'=5$，且 $d_{1}'=\\deg(1)+\\deg(2)+\\deg(3)+\\deg(7)=3+2+3+3=11$。\n- 对于 $c_{2}'=\\{4,5,6\\}$，内部边是 $(4,5),(4,6),(5,6)$，所以 $l_{2}'=3$，且 $d_{2}'=\\deg(4)+\\deg(5)+\\deg(6)=3+2+2=7$。\n因此\n$$Q(P_{B})=\\left[\\frac{5}{9}-\\left(\\frac{11}{18}\\right)^{2}\\right]+\\left[\\frac{3}{9}-\\left(\\frac{7}{18}\\right)^{2}\\right]\n=\\left[\\frac{5}{9}-\\frac{121}{324}\\right]+\\left[\\frac{1}{3}-\\frac{49}{324}\\right]\n=\\frac{118}{324}=\\frac{59}{162}。$$\n\n因此模块度差值为\n$$\\Delta Q=Q(P_{B})-Q(P_{A})=\\frac{59}{162}-\\frac{22}{81}=\\frac{59}{162}-\\frac{44}{162}=\\frac{15}{162}=\\frac{5}{54}。$$\n换算成小数，$\\frac{5}{54}=0.092592\\ldots$，四舍五入到四位有效数字为 $0.09259$。", "answer": "$$\\boxed{0.09259}$$", "id": "2185891"}]}