{"hands_on_practices": [{"introduction": "优化问题通常始于一个简单而直观的目标：找到“最佳”位置。本练习将引导你解决一个经典的设施选址问题，即为一家新公司找到仓库的最佳地点，以最小化到多个零售店的平方欧几里得距离之和。这个练习是应用多变量微积分解决无约束优化问题的绝佳入门，它揭示了一个深刻的几何原理：算术平均值（或质心）在最小化形如 $\\sum ((x-x_i)^2 + (y-y_i)^2)$ 的二次成本函数中的核心作用 [@problem_id:2181038]。", "problem": "一家名为“QuikHaul”的新物流公司正在建立一个中央配送中心，以为其四个主要零售合作伙伴提供服务。出于规划目的，零售店的位置被映射到一个二维笛卡尔坐标系中。公司的运筹学团队已确定，配送中心的最佳位置是使得到四个商店的欧几里得距离平方和最小化的位置。选择此标准是为了最小化一个与配送距离成二次方关系的成本函数。\n\n四个零售店的坐标如下：\n商店 A: $(1, 8)$\n商店 B: $(5, 2)$\n商店 C: $(-3, 4)$\n商店 D: $(9, 0)$\n\n设新配送中心的坐标为 $(x, y)$。你的任务是确定配送中心位置的最佳坐标 $(x, y)$。", "solution": "我们要最小化从点 $(x,y)$ 到四个商店的欧几里得距离平方和。设目标函数为\n$$\nS(x,y)=\\sum_{i=1}^{4}\\left[(x-x_{i})^{2}+(y-y_{i})^{2}\\right].\n$$\n对于给定的点 $A(1,8)$、$B(5,2)$、$C(-3,4)$ 和 $D(9,0)$，该函数变为\n$$\nS(x,y)=(x-1)^{2}+(y-8)^{2}+(x-5)^{2}+(y-2)^{2}+(x+3)^{2}+(y-4)^{2}+(x-9)^{2}+y^{2}.\n$$\n为了找到最小值点，我们求偏导数并令其为零。计算\n$$\n\\frac{\\partial S}{\\partial x}=2(x-1)+2(x-5)+2(x+3)+2(x-9)=2\\left[(x-1)+(x-5)+(x+3)+(x-9)\\right].\n$$\n化简括号内的项：\n$$\n(x-1)+(x-5)+(x+3)+(x-9)=4x-(1+5-3+9)=4x-12,\n$$\n所以\n$$\n\\frac{\\partial S}{\\partial x}=2(4x-12)=8x-24.\n$$\n令其为零可得\n$$\n8x-24=0 \\quad\\Rightarrow\\quad x=\\frac{24}{8}=3.\n$$\n同样地，\n$$\n\\frac{\\partial S}{\\partial y}=2(y-8)+2(y-2)+2(y-4)+2y=2\\left[(y-8)+(y-2)+(y-4)+y\\right].\n$$\n化简括号内的项：\n$$\n(y-8)+(y-2)+(y-4)+y=4y-(8+2+4+0)=4y-14,\n$$\n所以\n$$\n\\frac{\\partial S}{\\partial y}=2(4y-14)=8y-28.\n$$\n令其为零可得\n$$\n8y-28=0 \\quad\\Rightarrow\\quad y=\\frac{28}{8}=\\frac{7}{2}.\n$$\n$S$ 的海森矩阵是二维单位矩阵的 $8$ 倍，是正定的，因此这个临界点是唯一的全局最小值点。因此，最佳配送中心位置是商店坐标的算术平均值，即 $(3,\\frac{7}{2})$。", "answer": "$$\\boxed{\\begin{pmatrix}3 & \\frac{7}{2}\\end{pmatrix}}$$", "id": "2181038"}, {"introduction": "现实世界中的优化往往需要在有限的资源下做出权衡。在此练习中，你将扮演一名学生的角色，决定如何在两门课程之间分配有限的总学习时间 $T$，以实现平均成绩的最大化。此问题引入了约束条件和收益递减的概念——成绩的提升与学习时间的平方根 $\\sqrt{t}$ 成正比——这使得你能够实践使用拉格朗日乘数法这一强大工具来解决非线性约束优化问题 [@problem_id:2180973]。", "problem": "一名学生正在为两门学科的期末考试做准备：量子力学和有机化学。他们总共有 $T$ 小时可用于这两门考试的学习。这名学生建立了一个模型，根据投入的学习小时数来预测每门学科的预期成绩。成绩以 0 到 100 的等级来衡量。\n\n对于量子力学，预期成绩 $G_Q(t_Q)$ 由以下函数给出：\n$G_Q(t_Q) = G_{Q,0} + A_Q \\sqrt{t_Q}$\n其中 $t_Q$ 是学习量子力学所花费的小时数，$G_{Q,0}$ 是零学习小时数时的基础成绩，$A_Q$ 是代表学习效率的系数。\n\n对于有机化学，预期成绩 $G_C(t_C)$ 类似地由以下函数给出：\n$G_C(t_C) = G_{C,0} + A_C \\sqrt{t_C}$\n其中 $t_C$ 是学习有机化学所花费的小时数，$G_{C,0}$ 是基础成绩，$A_C$ 是学习效率系数。\n\n这名学生的目标是在两门学科之间分配总学习时间 $T$，以使两门考试的平均成绩最大化。假设所有参数（$T$、$G_{Q,0}$、$A_Q$、$G_{C,0}$、$A_C$）均为正常数。\n\n确定该学生应分配给学习量子力学的最优小时数 $t_Q^*$。以给定的符号参数，用一个封闭形式的解析表达式来表示你的答案。", "solution": "设 $t_{Q}$ 和 $t_{C}$ 分别表示分配给量子力学和有机化学的小时数，约束条件为 $t_{Q}+t_{C}=T$ 且 $t_{Q},t_{C}\\geq 0$。需要最大化的平均成绩是\n$$\n\\frac{G_{Q,0}+A_{Q}\\sqrt{t_{Q}}+G_{C,0}+A_{C}\\sqrt{t_{C}}}{2}。\n$$\n由于加法常数和正因子 $\\frac{1}{2}$ 不影响最优点，这等价于最大化\n$$\nf(t_{Q},t_{C})=A_{Q}\\sqrt{t_{Q}}+A_{C}\\sqrt{t_{C}}\n$$\n约束条件为 $t_{Q}+t_{C}=T$，$t_{Q},t_{C}\\geq 0$。函数 $\\sqrt{t}$ 在 $t\\geq 0$ 上是凹函数，因此 $f$ 是凹函数，并且在线性约束下，Kuhn-Tucker 条件是达到最优的充分必要条件。因为 $A_{Q}>0$, $A_{C}>0$ 且 $T>0$，最优点是内部解，满足 $t_{Q}>0$ 和 $t_{C}>0$。\n\n构建拉格朗日函数\n$$\n\\mathcal{L}=A_{Q}t_{Q}^{\\frac{1}{2}}+A_{C}t_{C}^{\\frac{1}{2}}+\\lambda\\left(T-t_{Q}-t_{C}\\right)\n$$。\n对于内部最优解的一阶条件是\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial t_{Q}}=\\frac{A_{Q}}{2\\,t_{Q}^{\\frac{1}{2}}}-\\lambda=0,\\qquad\n\\frac{\\partial \\mathcal{L}}{\\partial t_{C}}=\\frac{A_{C}}{2\\,t_{C}^{\\frac{1}{2}}}-\\lambda=0,\\qquad\nt_{Q}+t_{C}=T\n$$。\n令边际条件相等，可得\n$$\n\\frac{A_{Q}}{2\\sqrt{t_{Q}}}=\\frac{A_{C}}{2\\sqrt{t_{C}}}\\;\\;\\Longrightarrow\\;\\;A_{Q}\\sqrt{t_{C}}=A_{C}\\sqrt{t_{Q}}\\;\\;\\Longrightarrow\\;\\;t_{C}=\\frac{A_{C}^{2}}{A_{Q}^{2}}\\,t_{Q}。\n$$\n代入资源约束条件：\n$$\nt_{Q}+\\frac{A_{C}^{2}}{A_{Q}^{2}}\\,t_{Q}=T\n\\;\\;\\Longrightarrow\\;\\;\nt_{Q}\\left(1+\\frac{A_{C}^{2}}{A_{Q}^{2}}\\right)=T\n\\;\\;\\Longrightarrow\\;\\;\nt_{Q}^{*}=\\frac{T}{1+\\frac{A_{C}^{2}}{A_{Q}^{2}}}\n=\\frac{T A_{Q}^{2}}{A_{Q}^{2}+A_{C}^{2}}\n$$。\n在给定的正值假设下，该解满足 $0<t_{Q}^{*}<T$，因此是全局最大值点。", "answer": "$$\\boxed{\\frac{T A_{Q}^{2}}{A_{Q}^{2}+A_{C}^{2}}}$$", "id": "2180973"}, {"introduction": "并非所有优化问题都能用微积分平滑解决；许多问题涉及在离散的选项中寻找最优组合，例如物流路线规划。这个练习将你带到火星，任务是为一个探测车规划一条总距离最短的路径，以访问多个采样点后返回基地 [@problem_id:2181042]。这个问题是著名的“旅行商问题”(Traveling Salesperson Problem, TSP) 的一个入门实例，它将让你体验组合优化问题的本质，即通过系统地评估有限数量的离散可能性来寻找全局最优解。", "problem": "一辆机器人探测车，作为火星样本采集探测车 (MSAR) 任务的一部分，其任务是从火星表面的几个指定地点采集地质样本。该探测车从其补给站出发，必须访问三个不同的样本点各一次，然后返回补给站以完成其任务。地形被建模为一个二维笛卡尔网格。补给站和三个样本点的位置由以下坐标给出：\n\n- 补给站 (D): $(0, 0)$\n- A点: $(3, 4)$\n- B点: $(-2, 5)$\n- C点: $(1, -3)$\n\n该探测车只能平行于网格轴移动。因此，网格上任意两点 $(x_1, y_1)$ 和 $(x_2, y_2)$ 之间的距离由曼哈顿距离给出，定义为 $d_M = |x_1 - x_2| + |y_1 - y_2|$。\n\n确定该探测车完成其任务必须行驶的最小总距离。用网格单位表示最小总距离。", "solution": "我们必须找到一个闭合路径的最小总曼哈顿距离，该路径从补给站 $D=(0,0)$ 出发，访问 $A=(3,4)$、$B=(-2,5)$ 和 $C=(1,-3)$ 各一次，然后返回到 $D$。两点 $(x_{1},y_{1})$ 和 $(x_{2},y_{2})$ 之间的距离由曼哈顿度量给出\n$$\nd_{M}\\big((x_{1},y_{1}),(x_{2},y_{2})\\big)=|x_{1}-x_{2}|+|y_{1}-y_{2}|\n$$。\n我们计算必要的两两之间的距离：\n- 从补给站出发：\n$$\nd_{M}(D,A)=|0-3|+|0-4|=3+4=7,\\quad d_{M}(D,B)=|0-(-2)|+|0-5|=2+5=7,\\quad d_{M}(D,C)=|0-1|+|0-(-3)|=1+3=4\n$$。\n- 站点之间：\n$$\nd_{M}(A,B)=|3-(-2)|+|4-5|=5+1=6,\\quad d_{M}(A,C)=|3-1|+|4-(-3)|=2+7=9,\\quad d_{M}(B,C)=|-2-1|+|5-(-3)|=3+8=11\n$$。\n因为 $d_{M}$ 是对称的，所以对于所有点对，$d_{M}(X,Y)=d_{M}(Y,X)$。\n\n探测车必须遵循路径 $D\\to P_{1}\\to P_{2}\\to P_{3}\\to D$，其中 $(P_{1},P_{2},P_{3})$ 是 $(A,B,C)$ 的一个排列。我们枚举所有 $3!=6$ 种可能的顺序，并计算每种情况下的各段距离之和：\n1. $D\\to A\\to B\\to C\\to D$: $\\text{总距离} =d_{M}(D,A)+d_{M}(A,B)+d_{M}(B,C)+d_{M}(C,D)=7+6+11+4=28$。\n2. $D\\to A\\to C\\to B\\to D$: $\\text{总距离} =d_{M}(D,A)+d_{M}(A,C)+d_{M}(C,B)+d_{M}(B,D)=7+9+11+7=34$。\n3. $D\\to B\\to A\\to C\\to D$: $\\text{总距离} =d_{M}(D,B)+d_{M}(B,A)+d_{M}(A,C)+d_{M}(C,D)=7+6+9+4=26$。\n4. $D\\to B\\to C\\to A\\to D$: $\\text{总距离} =d_{M}(D,B)+d_{M}(B,C)+d_{M}(C,A)+d_{M}(A,D)=7+11+9+7=34$。\n5. $D\\to C\\to A\\to B\\to D$: $\\text{总距离} =d_{M}(D,C)+d_{M}(C,A)+d_{M}(A,B)+d_{M}(B,D)=4+9+6+7=26$。\n6. $D\\to C\\to B\\to A\\to D$: $\\text{总距离} =d_{M}(D,C)+d_{M}(C,B)+d_{M}(B,A)+d_{M}(A,D)=4+11+6+7=28$。\n\n这些总距离中的最小值是 $26$。因此，探测车必须行驶的最小总距离是 $26$ 网格单位。", "answer": "$$\\boxed{26}$$", "id": "2181042"}]}