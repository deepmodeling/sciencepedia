{"hands_on_practices": [{"introduction": "在处理现实世界的优化问题时，我们常常需要在满足一系列限制条件（或称“约束”）的情况下，寻找最佳结果。线性规划是解决此类问题的强大工具，尤其适用于目标和约束都可以用线性关系表达的情形。这个练习将带你进入一个典型的生产决策场景，通过最大化利润来亲身体验如何通过分析由不等式约束定义的可行域来找到最优解 [@problem_id:2168954]。", "problem": "一家小型手工企业生产两种专用电子元件：A型和B型。这些元件的生产受到与资源和劳动力相关的几项日常约束。设 $x$ 为每日生产的A型元件数量，$y$ 为每日生产的B型元件数量。\n\n每售出一个A型元件的利润为 $100，每售出一个B型元件的利润为 $200。\n\n生产受到以下因素的限制：\n1.  **组装时间：** 每个元件，无论是A型还是B型，都需要一小时的熟练劳动力进行组装。公司每日总共有40小时的熟练劳动力可用。\n2.  **原材料：** 一种特殊的稀有材料专门用于A型元件。该材料的每日供应量只足够生产最多30个A型元件。\n3.  **非负性：** 生产的元件数量不能为负数。\n\n假设公司能售出其生产的所有元件，最大可能的每日利润是多少？请以美元作答。", "solution": "设 $x$ 和 $y$ 分别表示A型和B型元件的每日产量。需要最大化的利润函数为总利润\n$$P(x,y)=100x+200y.$$\n约束条件如下。组装时间的约束为\n$$x+y\\leq 40,$$\n因为每个元件，不论型号，都需要一小时，而总共只有$40$小时可用。A型元件的原材料约束给出\n$$x\\leq 30.$$\n非负性要求\n$$x\\geq 0,\\quad y\\geq 0.$$\n这是一个线性规划问题：在一个凸多边形可行域上最大化一个线性函数。根据线性规划的基本性质，最优解（如果存在）出现在可行域的极点（顶点）上。\n\n通过求可行域边界线的交点来确定顶点：\n1) 直线 $x=0$ 与 $x+y=40$ 的交点：解 $0+y=40$ 得 $(x,y)=(0,40)$。\n2) 直线 $x=30$ 与 $x+y=40$ 的交点：解 $30+y=40$ 得 $(x,y)=(30,10)$。\n3) 其他顶点是边界线与坐标轴的交点：$(0,0)$ 是可行的；$(30,0)$ 也是可行的，因为 $30\\leq 30$ 且 $30+0=30\\leq 40$。\n\n在这些顶点上计算目标函数的值：\n$$P(0,0)=100\\cdot 0+200\\cdot 0=0,$$\n$$P(0,40)=100\\cdot 0+200\\cdot 40=8000,$$\n$$P(30,0)=100\\cdot 30+200\\cdot 0=3000,$$\n$$P(30,10)=100\\cdot 30+200\\cdot 10=3000+2000=5000.$$\n最大值为 $8000$，在 $(x,y)=(0,40)$ 处取得。这也与每组装小时的边际利润相符：A型元件每小时产生$100的利润，而B型元件每小时产生$200的利润，所以将全部40小时分配给B型生产能在满足 $x\\leq 30$ 的约束下使利润最大化。", "answer": "$$\\boxed{8000}$$", "id": "2168954"}, {"introduction": "当约束条件不再是简单的直线或平面，而是由等式定义的曲线或曲面时，我们需要一种更通用的方法。拉格朗日乘数法正是为此而生，它通过引入一个辅助变量（拉格朗日乘子）将复杂的等式约束问题转化为一个更容易求解的极值问题。这个练习将以一个在球形天体表面寻找温度极点的生动例子，引导你掌握使用拉格朗日乘数法解决等式约束优化问题的核心思想 [@problem_id:2168916]。", "problem": "一个机器人探测器正在绘制一颗小型、完美球形小行星的表面，其半径为 $R=4$ 米。小行星的中心位于笛卡尔坐标系的原点 $(0,0,0)$。探测器上的一个传感器测量表面温度，由于内部热源和太阳辐射，发现表面温度根据函数 $T(x,y,z) = 250 + x - 2y + 3z$ 变化，其中 $T$ 是开尔文温度，$(x,y,z)$ 是小行星表面的坐标（单位为米）。\n\n您的任务是确定小行星表面温度达到绝对最大值的点的坐标。\n\n请用一组精确的三个坐标 $(x,y,z)$（单位为米）来表示您的答案。", "solution": "我们必须在以原点为中心、半径为 $R=4$ 的球面上求温度函数的最大值。该球面由约束条件给出\n$$\nx^{2}+y^{2}+z^{2}=R^{2}.\n$$\n温度为\n$$\nT(x,y,z)=250+x-2y+3z.\n$$\n因为加上一个常数不影响最大值的位置，所以最大化 $T$ 等价于最大化\n$$\nf(x,y,z)=x-2y+3z\n$$\n在约束条件 $x^{2}+y^{2}+z^{2}=R^{2}$ 下。\n\n使用拉格朗日乘数法，定义\n$$\n\\mathcal{L}(x,y,z,\\lambda)=x-2y+3z-\\lambda\\left(x^{2}+y^{2}+z^{2}-R^{2}\\right).\n$$\n令偏导数为零：\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial x}=1-2\\lambda x=0,\\quad \\frac{\\partial \\mathcal{L}}{\\partial y}=-2-2\\lambda y=0,\\quad \\frac{\\partial \\mathcal{L}}{\\partial z}=3-2\\lambda z=0,\\quad \\frac{\\partial \\mathcal{L}}{\\partial \\lambda}=x^{2}+y^{2}+z^{2}-R^{2}=0.\n$$\n由前三个方程可得，\n$$\nx=\\frac{1}{2\\lambda},\\quad y=-\\frac{1}{\\lambda},\\quad z=\\frac{3}{2\\lambda}.\n$$\n代入约束条件：\n$$\nx^{2}+y^{2}+z^{2}=\\left(\\frac{1}{2\\lambda}\\right)^{2}+\\left(\\frac{1}{\\lambda}\\right)^{2}+\\left(\\frac{3}{2\\lambda}\\right)^{2}=\\left(\\frac{1}{4}+\\frac{1}{1}+\\frac{9}{4}\\right)\\frac{1}{\\lambda^{2}}=\\frac{14}{4}\\frac{1}{\\lambda^{2}}=\\frac{7}{2}\\frac{1}{\\lambda^{2}}=R^{2}.\n$$\n因此，\n$$\n\\frac{1}{\\lambda^{2}}=\\frac{2}{7}R^{2}\\quad \\Rightarrow \\quad \\lambda=\\pm \\frac{\\sqrt{7/2}}{R}.\n$$\n使用 $x=\\frac{1}{2\\lambda}$，$y=-\\frac{1}{\\lambda}$，$z=\\frac{3}{2\\lambda}$，我们得到\n$$\n(x,y,z)=\\frac{1}{2\\lambda}(1,-2,3).\n$$\n为了在球面上最大化 $f(x,y,z)=x-2y+3z=(1,-2,3)\\cdot (x,y,z)$，向量 $(x,y,z)$ 必须与 $(1,-2,3)$同向，这对应于选择 $\\lambda0$。当 $\\lambda=\\frac{\\sqrt{7/2}}{R}$ 时，\n$$\n\\frac{1}{2\\lambda}=\\frac{R}{2\\sqrt{7/2}}=\\frac{R}{\\sqrt{14}},\n$$\n所以\n$$\n(x,y,z)=\\frac{R}{\\sqrt{14}}(1,-2,3).\n$$\n最后，代入 $R=4$，\n$$\n(x,y,z)=\\left(\\frac{4}{\\sqrt{14}},-\\frac{8}{\\sqrt{14}},\\frac{12}{\\sqrt{14}}\\right).\n$$\n这些坐标满足 $x^{2}+y^{2}+z^{2}=\\frac{16}{14}(1+4+9)=16=R^{2}$ 并且与温度升高的方向一致，因此给出绝对最大值。", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{4}{\\sqrt{14}}  -\\frac{8}{\\sqrt{14}}  \\frac{12}{\\sqrt{14}}\\end{pmatrix}}$$", "id": "2168916"}, {"introduction": "许多优化问题不仅涉及约束，其目标函数本身也可能是非线性的，例如在数据拟合中最小化误差平方和。这个问题将拉格朗日乘数法应用于一个二次目标函数，即求解约束条件下的最小二乘问题，这在工程和数据科学领域中至关重要。通过解决这个合金配比问题，你将学习如何找到一个既满足特定要求（质量分数之和为1）又最接近目标性能的“最佳”解 [@problem_id:2168934]。", "problem": "一位材料科学家正在通过混合两种现有金属（金属1和金属2）来配制一种新的金属合金。最终的合金由一个包含三个关键性能指标的向量表征。根据实验室数据，混合物的指标向量 $p \\in \\mathbb{R}^3$ 可以通过线性模型 $p = Ax$ 很好地近似，其中 $x = \\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix}$ 是一个列向量，分别包含金属1和金属2的质量分数。矩阵 $A$ 的各列是纯金属的指标向量。\n\n矩阵 $A$ 和期望的目标指标向量 $b$ 的具体数值为：\n$$\nA = \\begin{pmatrix} 10  30 \\\\ 20  10 \\\\ 5  15 \\end{pmatrix}, \\quad b = \\begin{pmatrix} 18 \\\\ 16 \\\\ 9 \\end{pmatrix}\n$$\n科学家的目标是找到一种成分 $x$，使合金的指标 $Ax$ 尽可能接近目标指标 $b$。这可以通过最小化结果指标与目标指标之间的平方误差和来实现，数学上表示为最小化欧几里得范数的平方 $\\|Ax - b\\|_2^2$。\n\n由于 $x_1$ 和 $x_2$ 代表最终混合物中两种金属的质量分数，它们的和必须等于1。\n\n求出在该约束条件下使目标函数最小化的最优质量分数 $x_1$ 和 $x_2$。请将您的答案表示为具有精确分数分量的列向量 $\\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix}$。", "solution": "我们要最小化欧几里得范数的平方 $\\|Ax - b\\|_{2}^{2}$，并满足等式约束 $c^{T}x=1$，其中 $c=\\begin{pmatrix}1 \\\\ 1\\end{pmatrix}$，$A=\\begin{pmatrix}10  30 \\\\ 20  10 \\\\ 5  15\\end{pmatrix}$，以及 $b=\\begin{pmatrix}18 \\\\ 16 \\\\ 9\\end{pmatrix}$。使用拉格朗日乘数法，定义拉格朗日函数：\n$$\n\\mathcal{L}(x,\\lambda)=(Ax-b)^{T}(Ax-b)+\\lambda(c^{T}x-1).\n$$\n一阶最优性条件为：\n$$\n\\nabla_{x}\\mathcal{L}=2A^{T}(Ax-b)+\\lambda c=0,\\quad c^{T}x=1.\n$$\n令 $\\mu=\\lambda/2$。则KKT系统变为：\n$$\nA^{T}A\\,x+\\mu c=A^{T}b,\\quad c^{T}x=1.\n$$\n计算 $A^{T}A$ 和 $A^{T}b$：\n$$\nA^{T}A=\\begin{pmatrix}525  575 \\\\ 575  1225\\end{pmatrix},\\quad A^{T}b=\\begin{pmatrix}545 \\\\ 835\\end{pmatrix},\\quad c=\\begin{pmatrix}1 \\\\ 1\\end{pmatrix}.\n$$\n因此\n$$\n\\begin{cases}\n525x_{1}+575x_{2}+\\mu=545,\\\\\n575x_{1}+1225x_{2}+\\mu=835,\\\\\nx_{1}+x_{2}=1.\n\\end{cases}\n$$\n用第二个方程减去第一个方程以消去 $\\mu$：\n$$\n(575-525)x_{1}+(1225-575)x_{2}=835-545 \\;\\Rightarrow\\; 50x_{1}+650x_{2}=290.\n$$\n两边同时除以 $10$：\n$$\n5x_{1}+65x_{2}=29.\n$$\n使用约束条件 $x_{1}=1-x_{2}$，代入可得：\n$$\n5(1-x_{2})+65x_{2}=29 \\;\\Rightarrow\\; 5+60x_{2}=29 \\;\\Rightarrow\\; 60x_{2}=24 \\;\\Rightarrow\\; x_{2}=\\frac{2}{5}.\n$$\n因此\n$$\nx_{1}=1-\\frac{2}{5}=\\frac{3}{5}.\n$$\n作为检验，对于此 $x$，$Ax=b$ 精确成立，因此残差为零，该解为最优解。", "answer": "$$\\boxed{\\begin{pmatrix} \\frac{3}{5} \\\\ \\frac{2}{5} \\end{pmatrix}}$$", "id": "2168934"}]}