{"hands_on_practices": [{"introduction": "这个练习将引导你解决一个经典的资源分配问题，这是学习拉格朗日乘子法的理想起点。通过为一个虚构的芯片设计分配总功率以最大化其性能指标，你将亲手实践如何在一个固定的预算下优化一项产出 [@problem_id:2183845]。这个问题不仅清晰地展示了拉格朗日乘子法的基本步骤，其结果也揭示了一个关于对称性的深刻而直观的优化原则。", "problem": "一家科技公司正在设计一款新的处理芯片。该芯片的总功耗预算固定为 $P_{total} = 360$ 瓦特。此功耗必须完全分配给三个主要子系统：中央处理器（CPU）、图形处理器（GPU）和内存控制器。设 $p_{cpu}$、$p_{gpu}$ 和 $p_{mem}$ 分别是分配给CPU、GPU和内存控制器的功耗，单位为瓦特。这些分配值必须为正数。\n\n芯片的整体性能由一个经验性指标 $M$ 来量化，其模型为三个子系统功耗分配的乘积：$M = p_{cpu} \\cdot p_{gpu} \\cdot p_{mem}$。\n\n该公司希望确定能使该性能指标最大化的功耗分配方案。性能指标 $M$ 的最大可能值是多少？请以瓦特-立方（$W^3$）为单位，用一个实数表示你的答案。", "solution": "该问题要求我们在总功耗分配的约束下，最大化性能指标函数 $M(p_{cpu}, p_{gpu}, p_{mem}) = p_{cpu} \\cdot p_{gpu} \\cdot p_{mem}$。约束条件是各功耗分配之和必须等于总功耗预算，可以写成方程 $p_{cpu} + p_{gpu} + p_{mem} = P_{total}$，其中 $P_{total} = 360$ W。此外，题目给定$p_{cpu} > 0$，$p_{gpu} > 0$ 且 $p_{mem} > 0$。\n\n这是一个约束优化问题，可以使用拉格朗日乘数法来解决。首先，我们定义目标函数 $f(p_{cpu}, p_{gpu}, p_{mem}) = p_{cpu} p_{gpu} p_{mem}$ 和约束函数 $g(p_{cpu}, p_{gpu}, p_{mem}) = p_{cpu} + p_{gpu} + p_{mem} - P_{total} = 0$。\n\n拉格朗日函数 $\\mathcal{L}$ 构建为 $\\mathcal{L} = f - \\lambda g$，其中 $\\lambda$ 是拉格朗日乘数：\n$$ \\mathcal{L}(p_{cpu}, p_{gpu}, p_{mem}, \\lambda) = p_{cpu} p_{gpu} p_{mem} - \\lambda(p_{cpu} + p_{gpu} + p_{mem} - P_{total}) $$\n为了找到最大值的候选点，我们对 $\\mathcal{L}$ 关于每个变量（$p_{cpu}, p_{gpu}, p_{mem}, \\lambda$）求偏导数，并令它们为零。这会得到一个包含四个方程的方程组：\n\n1.  $\\frac{\\partial \\mathcal{L}}{\\partial p_{cpu}} = p_{gpu} p_{mem} - \\lambda = 0 \\implies \\lambda = p_{gpu} p_{mem}$\n2.  $\\frac{\\partial \\mathcal{L}}{\\partial p_{gpu}} = p_{cpu} p_{mem} - \\lambda = 0 \\implies \\lambda = p_{cpu} p_{mem}$\n3.  $\\frac{\\partial \\mathcal{L}}{\\partial p_{mem}} = p_{cpu} p_{gpu} - \\lambda = 0 \\implies \\lambda = p_{cpu} p_{gpu}$\n4.  $\\frac{\\partial \\mathcal{L}}{\\partial \\lambda} = -(p_{cpu} + p_{gpu} + p_{mem} - P_{total}) = 0 \\implies p_{cpu} + p_{gpu} + p_{mem} = P_{total}$\n\n由方程（1）和（2），我们可以令 $\\lambda$ 的表达式相等：\n$p_{gpu} p_{mem} = p_{cpu} p_{mem}$\n因为题目说明功耗分配必须为正，我们知道 $p_{mem} > 0$。因此，我们可以将等式两边同时除以 $p_{mem}$ 得到：\n$p_{gpu} = p_{cpu}$\n\n同理，令方程（2）和（3）相等：\n$p_{cpu} p_{mem} = p_{cpu} p_{gpu}$\n因为 $p_{cpu}$ 也必须为正，我们可以两边同时除以 $p_{cpu}$ 得到：\n$p_{mem} = p_{gpu}$\n\n结合这些结果，我们发现要使性能指标达到极值，功耗必须在三个子系统之间平均分配：\n$p_{cpu} = p_{gpu} = p_{mem}$\n\n现在我们使用约束方程（4）来求解这些分配的具体数值。将等式关系代入约束条件中：\n$p_{cpu} + p_{cpu} + p_{cpu} = P_{total}$\n$3 p_{cpu} = P_{total}$\n$p_{cpu} = \\frac{P_{total}}{3}$\n\n鉴于总功耗预算为 $P_{total} = 360$ W，每个子系统的最优分配是：\n$p_{cpu} = p_{gpu} = p_{mem} = \\frac{360}{3} = 120 \\text{ W}$\n\n问题要求的是性能指标 $M$ 的最大可能值。我们将最优功耗值代回 $M$ 的表达式来求得此值：\n$M_{max} = (120) \\cdot (120) \\cdot (120) = 120^3$\n\n最后，我们计算其数值：\n$M_{max} = 1,728,000$\n\n因此，性能指标 $M$ 的最大可能值为 $1,728,000$ W$^3$。此解对应于一个最大值，因为目标函数 $M$ 在可行域内为正，但在其边界（即任一分配值为零时）趋于零，并且我们找到了该区域内唯一的临界点。", "answer": "$$\\boxed{1728000}$$", "id": "2183845"}, {"introduction": "接下来，我们将进入一个更具几何直观性的场景，挑战你处理多重约束的能力。想象一个机器人手臂沿两个曲面相交形成的复杂路径移动，我们的任务是找出路径上离中心轴最近和最远的点 [@problem_id:2183829]。这个练习将让你体会到，在应用拉格朗日乘子法之前，如何巧妙地简化问题，这是解决现实世界工程和图形学问题时一项宝贵的技能。", "problem": "一个机械臂正在为一项特殊的焊接应用描绘一条路径。该路径由一个三维笛卡尔坐标系 $(x,y,z)$ 中的两个曲面的交线定义，其中所有坐标均以任意长度单位进行测量。第一个曲面是一个抛物面反射盘，其形状由方程 $z = x^2 + y^2$ 描述。第二个曲面是一个由方程 $x + y + z = 1$ 给出的平面。\n\n为进行质量控制，必须确定这条焊接路径上距离抛物面盘中心轴（即 $z$ 轴）最近和最远的点。\n\n确定路径上距离 $z$ 轴最近的点和最远的点各自的笛卡尔坐标 $(x, y, z)$。答案应以一组六个值 $(x_c, y_c, z_c, x_f, y_f, z_f)$ 的形式给出，其中 $(x_c, y_c, z_c)$ 是最近点的坐标，$(x_f, y_f, z_f)$ 是最远点的坐标。最终答案应为一个单行矩阵，按此特定顺序包含这六个值。", "solution": "我们需要求出在 $z = x^{2} + y^{2}$ 和 $x + y + z = 1$ 的交线上，点到 $z$ 轴距离的极值。点到 $z$ 轴的距离的平方为 $r^{2} = x^{2} + y^{2}$，而在抛物面上 $z = r^{2}$。将其代入平面方程，得到关于 $x,y$ 的单一约束条件：\n$$\nx + y + x^{2} + y^{2} - 1 = 0.\n$$\n我们使用拉格朗日乘数法，在约束条件 $g(x,y) = x + y + x^{2} + y^{2} - 1 = 0$ 下求函数 $f(x,y) = x^{2} + y^{2}$ 的极值。拉格朗日函数为\n$$\n\\mathcal{L}(x,y,\\lambda) = x^{2} + y^{2} - \\lambda\\left(x + y + x^{2} + y^{2} - 1\\right).\n$$\n驻点条件是\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial x} = 2x - \\lambda(1 + 2x) = 0,\\quad \\frac{\\partial \\mathcal{L}}{\\partial y} = 2y - \\lambda(1 + 2y) = 0,\\quad g(x,y) = 0.\n$$\n由 $2x - \\lambda(1 + 2x) = 0$ 可得 $(2 - 2\\lambda)x = \\lambda$，由 $2y - \\lambda(1 + 2y) = 0$ 可得 $(2 - 2\\lambda)y = \\lambda$。若 $\\lambda = 1$，则 $2x - (1 + 2x) = -1 = 0$，这是不可能的，所以 $\\lambda \\neq 1$，因此\n$$\nx = y = \\frac{\\lambda}{2(1 - \\lambda)} \\equiv t.\n$$\n将 $x = y = t$ 代入约束条件，得到\n$$\n2t + 2t^{2} - 1 = 0 \\quad\\Longleftrightarrow\\quad 2t^{2} + 2t - 1 = 0.\n$$\n解此二次方程，\n$$\nt = \\frac{-2 \\pm \\sqrt{4 - 4\\cdot 2 \\cdot (-1)}}{2\\cdot 2} = \\frac{-2 \\pm \\sqrt{12}}{4} = \\frac{-1 \\pm \\sqrt{3}}{2}.\n$$\n相应的距离平方和 $z$ 坐标为\n$$\nr^{2} = x^{2} + y^{2} = 2t^{2} = 2\\left(\\frac{(-1 \\pm \\sqrt{3})^{2}}{4}\\right) = \\frac{4 \\mp 2\\sqrt{3}}{2} = 2 \\mp \\sqrt{3},\n$$\n并且因为在抛物面上 $z = x^{2} + y^{2}$，我们得到 $z = 2 \\mp \\sqrt{3}$。因此，曲线上的两个临界点是\n$$\n\\left(\\frac{-1 + \\sqrt{3}}{2},\\ \\frac{-1 + \\sqrt{3}}{2},\\ 2 - \\sqrt{3}\\right)\\quad\\text{和}\\quad \\left(\\frac{-1 - \\sqrt{3}}{2},\\ \\frac{-1 - \\sqrt{3}}{2},\\ 2 + \\sqrt{3}\\right).\n$$\n因为 $2 - \\sqrt{3}  2 + \\sqrt{3}$，所以第一个点离 $z$ 轴最近，第二个点离 $z$ 轴最远。根据构造，我们有 $x + y = 1 - z$ 且 $z = x^{2} + y^{2}$，因此两点均满足 $x + y + z = 1$。", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{-1+\\sqrt{3}}{2}  \\frac{-1+\\sqrt{3}}{2}  2-\\sqrt{3}  \\frac{-1-\\sqrt{3}}{2}  \\frac{-1-\\sqrt{3}}{2}  2+\\sqrt{3}\\end{pmatrix}}$$", "id": "2183829"}, {"introduction": "最后的这个练习展示了拉格朗日乘子法揭示基本物理量的强大能力。通过寻找材料中任意平面上的最大和最小正应力，你不仅是在解决一个优化问题，更是在发现一个被称为“主应力”的关键物理属性 [@problem_id:2183834]。这个过程将揭示拉格朗日乘子 $\\lambda$ 与应力张量的特征值之间的深刻联系，这是力学和材料科学中的一个基石概念。", "problem": "在连续介质力学领域，材料内部一点的应力状态由一个应力张量来表征。对于一个二维（平面应力）问题，薄板上某特定点的应力张量分量给出为 $\\sigma_{xx} = 80.0$ 兆帕斯卡 (MPa)，$\\sigma_{yy} = 20.0$ MPa，以及 $\\sigma_{xy} = -30.0$ MPa。\n\n通过该点的平面上的正应力 $\\sigma_n$ 取决于该平面的方向，该方向可由分量为 $(n_x, n_y)$ 的单位法向量 $\\mathbf{n}$ 来定义。正应力的值由以下公式给出：\n$$ \\sigma_n = \\sigma_{xx} n_x^2 + \\sigma_{yy} n_y^2 + 2 \\sigma_{xy} n_x n_y $$\n由于 $\\mathbf{n}$ 是一个单位向量，其分量必须满足条件 $n_x^2 + n_y^2 = 1$。\n\n在所有可能方向上，$\\sigma_n$ 的极值被称为主应力。确定最大主应力 $\\sigma_\\text{max}$ 和最小主应力 $\\sigma_\\text{min}$。\n\n答案以 MPa 为单位表示，并四舍五入到三位有效数字。将 $\\sigma_\\text{max}$ 和 $\\sigma_\\text{min}$ 这两个值按此顺序以行矩阵的形式呈现。", "solution": "通过某一点的平面上正应力的极值是主应力，也就是平面内应力张量的特征值。对于单位法向量 $\\mathbf{n}$，正应力为 $\\sigma_{n}=\\mathbf{n}^{T}\\boldsymbol{\\sigma}\\mathbf{n}$，其约束条件为 $\\mathbf{n}^{T}\\mathbf{n}=1$。针对此约束引入一个拉格朗日乘子 $\\lambda$，定义 $L(\\mathbf{n},\\lambda)=\\mathbf{n}^{T}\\boldsymbol{\\sigma}\\mathbf{n}-\\lambda(\\mathbf{n}^{T}\\mathbf{n}-1)$。关于 $\\mathbf{n}$ 的驻定性条件给出\n$$\n\\frac{\\partial L}{\\partial \\mathbf{n}}=2\\boldsymbol{\\sigma}\\mathbf{n}-2\\lambda \\mathbf{n}=\\mathbf{0}\\quad\\Rightarrow\\quad (\\boldsymbol{\\sigma}-\\lambda \\mathbf{I})\\mathbf{n}=\\mathbf{0},\n$$\n因此，非平凡解要求\n$$\n\\det(\\boldsymbol{\\sigma}-\\lambda \\mathbf{I})=0.\n$$\n对于给定的分量为 $\\sigma_{xx}$、$\\sigma_{yy}$ 和 $\\sigma_{xy}$ 的平面应力张量，\n$$\n\\det\\begin{pmatrix}\\sigma_{xx}-\\lambda  \\sigma_{xy}\\\\ \\sigma_{xy}  \\sigma_{yy}-\\lambda\\end{pmatrix}=(\\sigma_{xx}-\\lambda)(\\sigma_{yy}-\\lambda)-\\sigma_{xy}^{2}=0,\n$$\n展开为\n$$\n\\lambda^{2}-(\\sigma_{xx}+\\sigma_{yy})\\lambda+(\\sigma_{xx}\\sigma_{yy}-\\sigma_{xy}^{2})=0.\n$$\n根（主应力）为\n$$\n\\lambda=\\frac{\\sigma_{xx}+\\sigma_{yy}}{2}\\pm \\sqrt{\\left(\\frac{\\sigma_{xx}-\\sigma_{yy}}{2}\\right)^{2}+\\sigma_{xy}^{2}}.\n$$\n代入 $\\sigma_{xx}=80.0$、$\\sigma_{yy}=20.0$ 和 $\\sigma_{xy}=-30.0$（单位为 MPa），\n$$\n\\frac{\\sigma_{xx}+\\sigma_{yy}}{2}=50.0,\\qquad \\left(\\frac{\\sigma_{xx}-\\sigma_{yy}}{2}\\right)^{2}=30^{2}=900,\\qquad \\sigma_{xy}^{2}=900,\n$$\n所以\n$$\n\\sqrt{\\left(\\frac{\\sigma_{xx}-\\sigma_{yy}}{2}\\right)^{2}+\\sigma_{xy}^{2}}=\\sqrt{1800}=30\\sqrt{2}.\n$$\n因此，\n$$\n\\sigma_{\\max}=50+30\\sqrt{2},\\qquad \\sigma_{\\min}=50-30\\sqrt{2}.\n$$\n数值上（单位为 MPa）并保留三位有效数字，\n$$\n\\sigma_{\\max}\\approx 92.4,\\qquad \\sigma_{\\min}\\approx 7.57.\n$$", "answer": "$$\\boxed{\\begin{pmatrix} 92.4  7.57 \\end{pmatrix}}$$", "id": "2183834"}]}