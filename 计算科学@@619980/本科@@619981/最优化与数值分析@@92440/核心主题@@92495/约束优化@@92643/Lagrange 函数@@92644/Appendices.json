{"hands_on_practices": [{"introduction": "我们将从一个经典的入门问题开始，为拉格朗日乘数法打下坚实的基础。这个练习要求你寻找一个线性函数 $f(x,y)$ 在一个圆形路径上的极值 [@problem_id:2216764]。该场景为拉格朗日乘数法提供了一个清晰的几何解释，即在最优点，目标函数的梯度 $\\nabla f$ 与约束函数的梯度 $\\nabla g$ 是平行的。", "problem": "一个传感器被约束在一个二维平面内沿圆形路径 $x^2 + y^2 = 1$ 移动。该传感器测量一个随位置变化的量 $f(x,y)$，该量由函数 $f(x, y) = 2x + 3y$ 给出。求解传感器在其路径上能测量到的量 $f(x,y)$ 的绝对最小值和最大值。请将答案表示为行矩阵 $\\begin{pmatrix} \\text{min\\_value} & \\text{max\\_value} \\end{pmatrix}$ 的形式，其中第一个元素是最小值，第二个元素是最大值。", "solution": "我们寻求函数 $f(x,y) = 2x + 3y$ 在约束条件 $x^{2} + y^{2} = 1$ 下的极值。使用拉格朗日乘数法，其拉格朗日函数为\n$$\nL(x,y,\\lambda) = 2x + 3y - \\lambda \\left(x^{2} + y^{2} - 1\\right).\n$$\n令各偏导数为零：\n$$\n\\frac{\\partial L}{\\partial x} = 2 - 2\\lambda x = 0,\\quad \\frac{\\partial L}{\\partial y} = 3 - 2\\lambda y = 0,\\quad \\frac{\\partial L}{\\partial \\lambda} = -(x^{2} + y^{2} - 1) = 0.\n$$\n由前两个方程可得，\n$$\nx = \\frac{1}{\\lambda}, \\quad y = \\frac{3}{2\\lambda}.\n$$\n代入约束条件 $x^{2} + y^{2} = 1$：\n$$\n\\left(\\frac{1}{\\lambda}\\right)^{2} + \\left(\\frac{3}{2\\lambda}\\right)^{2} = 1 \\;\\;\\Rightarrow\\;\\; \\frac{1}{\\lambda^{2}} + \\frac{9}{4\\lambda^{2}} = 1 \\;\\;\\Rightarrow\\;\\; \\frac{13}{4\\lambda^{2}} = 1 \\;\\;\\Rightarrow\\;\\; \\lambda^{2} = \\frac{13}{4}.\n$$\n因此 $\\lambda = \\pm \\frac{\\sqrt{13}}{2}$。使用 $x = \\frac{1}{\\lambda}$ 和 $y = \\frac{3}{2\\lambda}$ 计算 $f$：\n$$\nf = 2x + 3y = \\frac{2}{\\lambda} + \\frac{9}{2\\lambda} = \\frac{13}{2\\lambda}.\n$$\n当 $\\lambda = \\frac{\\sqrt{13}}{2}$ 时，\n$$\nf_{\\max} = \\frac{13}{2}\\cdot \\frac{2}{\\sqrt{13}} = \\sqrt{13}.\n$$\n当 $\\lambda = -\\frac{\\sqrt{13}}{2}$ 时，\n$$\nf_{\\min} = \\frac{13}{2}\\cdot \\left(-\\frac{2}{\\sqrt{13}}\\right) = -\\sqrt{13}.\n$$\n因此，$f$ 在单位圆上的绝对最小值和最大值分别是 $-\\sqrt{13}$ 和 $\\sqrt{13}$。", "answer": "$$\\boxed{\\begin{pmatrix}-\\sqrt{13} & \\sqrt{13}\\end{pmatrix}}$$", "id": "2216764"}, {"introduction": "在掌握了基础知识之后，让我们来探索一个更复杂的设计与工程应用。该问题涉及在一个椭球形空间内优化一个房间的“宜居分数”，这是一个广义的体积最大化问题 [@problem_id:2216756]。它展示了如何处理带有参数的多变量优化，并介绍了一种通过对目标函数取对数来简化求导的实用技巧，这在处理乘积形式的目标函数时非常有效。", "problem": "一位建筑师正在一个带有大型椭球形穹顶的建筑内设计一个特殊的展览室。该展览室必须是一个长方体盒子，其边与椭球的坐标轴平行。长方体盒子的八个顶点必须位于椭球面上，该椭球面由方程 $\\frac{x^2}{a^2} + \\frac{y^2}{b^2} + \\frac{z^2}{c^2} = 1$ 描述。参数 $a, b, c$ 是椭球的正半轴。\n\n房间的“宜居性得分”是衡量其审美和功能品质的指标，由其半维 $(x, y, z)$ 的加权积决定。该得分由函数 $S(x,y,z) = x^{\\alpha} y^{\\beta} z^{\\gamma}$ 给出，其中 $\\alpha, \\beta, \\gamma$ 是正常数，分别代表对长度、宽度和高度的设计优先级。\n\n使用拉格朗日乘数法，确定能够使此宜居性得分最大化的长方体盒子的半维 $(x, y, z)$。您的答案应为一组关于 $a, b, c, \\alpha, \\beta,$ 和 $\\gamma$ 的 $x, y, z$ 的解析表达式。", "solution": "我们需要最大化加权积 $S(x,y,z) = x^{\\alpha} y^{\\beta} z^{\\gamma}$，并满足椭球面约束\n$$\n\\frac{x^{2}}{a^{2}} + \\frac{y^{2}}{b^{2}} + \\frac{z^{2}}{c^{2}} = 1,\n$$\n其中 $x,y,z > 0$ 为半维。因为 $\\ln$ 函数是严格单调递增的，最大化 $S$ 等价于最大化\n$$\nf(x,y,z) = \\alpha \\ln x + \\beta \\ln y + \\gamma \\ln z\n$$\n在相同的约束条件下。\n\n针对约束 $g(x,y,z) = \\frac{x^{2}}{a^{2}} + \\frac{y^{2}}{b^{2}} + \\frac{z^{2}}{c^{2}} - 1 = 0$ 引入拉格朗日乘数 $\\lambda$，并构造拉格朗日函数\n$$\nL(x,y,z,\\lambda) = \\alpha \\ln x + \\beta \\ln y + \\gamma \\ln z - \\lambda \\left( \\frac{x^{2}}{a^{2}} + \\frac{y^{2}}{b^{2}} + \\frac{z^{2}}{c^{2}} - 1 \\right).\n$$\n平稳性要求关于 $x,y,z$ 的偏导数均为零：\n$$\n\\frac{\\partial L}{\\partial x} = \\frac{\\alpha}{x} - \\lambda \\frac{2x}{a^{2}} = 0,\\quad\n\\frac{\\partial L}{\\partial y} = \\frac{\\beta}{y} - \\lambda \\frac{2y}{b^{2}} = 0,\\quad\n\\frac{\\partial L}{\\partial z} = \\frac{\\gamma}{z} - \\lambda \\frac{2z}{c^{2}} = 0.\n$$\n分别解出 $x^{2}, y^{2}, z^{2}$ 可得\n$$\nx^{2} = \\frac{\\alpha a^{2}}{2\\lambda},\\quad\ny^{2} = \\frac{\\beta b^{2}}{2\\lambda},\\quad\nz^{2} = \\frac{\\gamma c^{2}}{2\\lambda}.\n$$\n将这些代入约束条件：\n$$\n\\frac{x^{2}}{a^{2}} + \\frac{y^{2}}{b^{2}} + \\frac{z^{2}}{c^{2}} = \\frac{\\alpha}{2\\lambda} + \\frac{\\beta}{2\\lambda} + \\frac{\\gamma}{2\\lambda} = \\frac{\\alpha + \\beta + \\gamma}{2\\lambda} = 1,\n$$\n这意味着\n$$\n\\lambda = \\frac{\\alpha + \\beta + \\gamma}{2}.\n$$\n因此，\n$$\nx^{2} = \\frac{\\alpha a^{2}}{\\alpha + \\beta + \\gamma},\\quad\ny^{2} = \\frac{\\beta b^{2}}{\\alpha + \\beta + \\gamma},\\quad\nz^{2} = \\frac{\\gamma c^{2}}{\\alpha + \\beta + \\gamma}.\n$$\n由于 $x,y,z$ 代表半维，我们取正平方根：\n$$\nx = a \\sqrt{\\frac{\\alpha}{\\alpha + \\beta + \\gamma}},\\quad\ny = b \\sqrt{\\frac{\\beta}{\\alpha + \\beta + \\gamma}},\\quad\nz = c \\sqrt{\\frac{\\gamma}{\\alpha + \\beta + \\gamma}}.\n$$\n由于 $f(x,y,z)$ 在 $x,y,z>0$ 上是严格凹函数，并且可行集与正卦限平滑相交，这些一阶条件得出了在椭球面上当 $x,y,z>0$ 时的唯一最大值点。", "answer": "$$\\boxed{\\begin{pmatrix}\na \\sqrt{\\frac{\\alpha}{\\alpha+\\beta+\\gamma}} & b \\sqrt{\\frac{\\beta}{\\alpha+\\beta+\\gamma}} & c \\sqrt{\\frac{\\gamma}{\\alpha+\\beta+\\gamma}}\n\\end{pmatrix}}$$", "id": "2216756"}, {"introduction": "要真正掌握一个工具，我们还必须了解其局限性。这个进阶问题通过考虑一个涉及不可微函数（即 $L_1$ 范数）的优化问题，对拉格朗日乘数法的标准应用提出了挑战 [@problem_id:2216763]。通过分析为什么需要梯度信息的标准方法在函数不可微的点上会遇到困难，你将对可微性假设在约束优化理论中的关键作用有更深刻的认识。", "problem": "实矩阵 $A \\in \\mathbb{R}^{m \\times n}$ 的诱导1-范数由约束优化问题 $\\|A\\|_1 = \\max_{\\mathbf{x} \\in \\mathbb{R}^n, \\|\\mathbf{x}\\|_1=1} \\|A\\mathbf{x}\\|_1$ 定义，其中 $\\|\\mathbf{v}\\|_1 = \\sum_{i} |v_i|$ 是向量1-范数。将标准的拉格朗日乘数法直接应用于此问题是复杂的，因为目标函数 $f(\\mathbf{x}) = \\|A\\mathbf{x}\\|_1$ 和约束函数 $g(\\mathbf{x}) = \\|\\mathbf{x}\\|_1 - 1$ 并非处处可导。\n\n考虑特定矩阵 $A = \\begin{pmatrix} 5 & 1 \\\\ 1 & -3 \\end{pmatrix}$。为了理解此优化的行为，我们可以在函数可导的定义域的一个“片区”上进行分析。设 $R$ 是 $\\mathbb{R}^2$ 中由以下不等式组定义的区域：\n$$x_1 > 0, \\quad x_2 > 0, \\quad \\text{且} \\quad x_1 - 3x_2 < 0$$\n在此区域 $R$ 内，$f(\\mathbf{x})$ 和 $g(\\mathbf{x})$ 都是连续可导的。设 $V_{cand}$ 为目标函数 $f(\\mathbf{x})$ 在任意点 $\\mathbf{x}$ 处的值，该点 $\\mathbf{x}$ 既位于约束曲面 $\\|\\mathbf{x}\\|_1=1$ 上，又在区域 $R$ 内，并且对于某个拉格朗日乘子 $\\lambda$，满足拉格朗日乘数法的一阶必要条件 $\\nabla f(\\mathbf{x}) = \\lambda \\nabla g(\\mathbf{x})$。\n\n这个问题的真正全局最大值 $\\|A\\|_1$ 是在约束集边界上的一点取得的，该点处的梯度没有明确定义。计算比率 $\\frac{V_{cand}}{\\|A\\|_1}$ 的精确值。", "solution": "给定 $A=\\begin{pmatrix}5 & 1 \\\\ 1 & -3\\end{pmatrix}$ 和诱导1-范数 $\\|A\\|_{1}=\\max_{\\mathbf{x}\\in\\mathbb{R}^{2},\\ \\|\\mathbf{x}\\|_{1}=1}\\|A\\mathbf{x}\\|_{1}$，其中 $f(\\mathbf{x})=\\|A\\mathbf{x}\\|_{1}$ 且 $g(\\mathbf{x})=\\|\\mathbf{x}\\|_{1}-1$。在区域 $R=\\{\\mathbf{x}=(x_{1},x_{2})^{\\top}:\\ x_{1}>0,\\ x_{2}>0,\\ x_{1}-3x_{2}<0\\}$ 上，$A\\mathbf{x}$ 各分量的符号是固定的，因此 $f$ 和 $g$ 在该区域上是连续可导的。\n\n计算 $A\\mathbf{x}$：\n$$\nA\\mathbf{x}=\\begin{pmatrix}5 & 1 \\\\ 1 & -3\\end{pmatrix}\\begin{pmatrix}x_{1}\\\\x_{2}\\end{pmatrix}\n=\\begin{pmatrix}5x_{1}+x_{2}\\\\x_{1}-3x_{2}\\end{pmatrix}.\n$$\n在 $R$ 上，我们有 $x_{1}>0$ 和 $x_{2}>0$，因此 $5x_{1}+x_{2}>0$，并且给定 $x_{1}-3x_{2}<0$。所以绝对值可以化简为\n$$\n|5x_{1}+x_{2}|=5x_{1}+x_{2},\\qquad |x_{1}-3x_{2}|=-(x_{1}-3x_{2})=3x_{2}-x_{1}.\n$$\n于是\n$$\nf(\\mathbf{x})=\\|A\\mathbf{x}\\|_{1}=(5x_{1}+x_{2})+(3x_{2}-x_{1})=4x_{1}+4x_{2}=4(x_{1}+x_{2}).\n$$\n在约束 $\\|\\mathbf{x}\\|_{1}=1$ 且 $x_{1},x_{2}>0$ 的条件下，我们有 $x_{1}+x_{2}=1$，因此对于任何属于 $R$ 的可行解 $\\mathbf{x}$，\n$$\nf(\\mathbf{x})=4.\n$$\n计算在 $R$ 中的梯度：$\\nabla f(\\mathbf{x})=4\\begin{pmatrix}1\\\\1\\end{pmatrix}$ 和 $\\nabla g(\\mathbf{x})=\\begin{pmatrix}1\\\\1\\end{pmatrix}$。对于 $R$ 中的每个 $\\mathbf{x}$，取 $\\lambda=4$ 即可满足拉格朗日乘数法的一阶条件 $\\nabla f(\\mathbf{x})=\\lambda \\nabla g(\\mathbf{x})$。因此，任何这样的点都是一个候选点，其对应的目标函数值为常数\n$$\nV_{cand}=4.\n$$\n\n接下来，计算 $A$ 的诱导1-范数。对于任何矩阵，$\\|A\\|_{1}$ 等于其最大绝对列和：\n$$\n\\|A\\|_{1}=\\max_{j}\\sum_{i}|a_{ij}|.\n$$\n各列的和分别为 $|5|+|1|=6$ 和 $|1|+|-3|=4$，因此\n$$\n\\|A\\|_{1}=6.\n$$\n因此所求的比率为\n$$\n\\frac{V_{cand}}{\\|A\\|_{1}}=\\frac{4}{6}=\\frac{2}{3}.\n$$", "answer": "$$\\boxed{\\frac{2}{3}}$$", "id": "2216763"}]}