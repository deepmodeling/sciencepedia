{"hands_on_practices": [{"introduction": "理论学习之后，最好的巩固方式就是实践。我们的第一个练习将处理一个常见但非标准的情况：一个最大化问题，其约束条件是“大于等于”（$ \\ge $）类型。现实世界中的优化问题很少以完美的教科书形式出现，因此掌握将不同形式的线性规划问题转化为标准形式并构建其对偶问题的能力至关重要。这个练习 [@problem_id:2173898] 将帮助你熟练运用这一核心转换技巧。", "problem": "考虑以下以矩阵形式呈现的线性规划问题，称为原始问题 (P)：\n\n最大化 $Z = c^T x$\n约束条件为：\n$Ax \\ge b$\n$x \\ge 0$\n\n其中向量和矩阵定义如下：\n$x = \\begin{pmatrix} x_1 \\\\ x_2 \\\\ x_3 \\end{pmatrix}$，$c = \\begin{pmatrix} 5 \\\\ 4 \\\\ 6 \\end{pmatrix}$，$b = \\begin{pmatrix} 25 \\\\ 30 \\end{pmatrix}$，以及 $A = \\begin{pmatrix} 2 & 1 & 3 \\\\ 1 & 3 & 2 \\end{pmatrix}$。\n\n由于主要约束条件中存在“大于等于”不等式，该特定表述是一个非标准型最大化问题。你的任务是确定其对偶问题的正确表述形式。设对偶变量由向量 $y = \\begin{pmatrix} y_1 \\\\ y_2 \\end{pmatrix}$ 表示。\n\n下列哪个选项正确地表示了对偶线性规划 (D)？\n\nA.\n最小化 $W = 25y_1 + 30y_2$\n约束条件为：\n$2y_1 + y_2 \\le 5$\n$y_1 + 3y_2 \\le 4$\n$3y_1 + 2y_2 \\le 6$\n$y_1, y_2 \\ge 0$\n\nB.\n最小化 $W = 25y_1 + 30y_2$\n约束条件为：\n$-2y_1 - y_2 \\ge 5$\n$-y_1 - 3y_2 \\ge 4$\n$-3y_1 - 2y_2 \\ge 6$\n$y_1, y_2 \\ge 0$\n\nC.\n最小化 $W = -25y_1 - 30y_2$\n约束条件为：\n$-2y_1 - y_2 \\ge 5$\n$-y_1 - 3y_2 \\ge 4$\n$-3y_1 - 2y_2 \\ge 6$\n$y_1, y_2 \\ge 0$\n\nD.\n最小化 $W = -25y_1 - 30y_2$\n约束条件为：\n$2y_1 + y_2 \\ge 5$\n$y_1 + 3y_2 \\ge 4$\n$3y_1 + 2y_2 \\ge 6$\n$y_1, y_2 \\ge 0$\n\nE.\n最小化 $W = -25y_1 - 30y_2$\n约束条件为：\n$-2y_1 - y_2 \\le 5$\n$-y_1 - 3y_2 \\le 4$\n$-3y_1 - 2y_2 \\le 6$\n$y_1, y_2 \\ge 0$", "solution": "我们从给定的原始问题开始：\n最大化 $Z = c^{T}x$，约束条件为 $Ax \\ge b$, $x \\ge 0$，其中\n$$\nA = \\begin{pmatrix} 2 & 1 & 3 \\\\ 1 & 3 & 2 \\end{pmatrix},\\quad\nb = \\begin{pmatrix} 25 \\\\ 30 \\end{pmatrix},\\quad\nc = \\begin{pmatrix} 5 \\\\ 4 \\\\ 6 \\end{pmatrix}.\n$$\n\n这是一个带有 $\\ge$ 类型约束的最大化问题。为了对最大化问题使用标准的对偶构造方法，首先通过将两边同乘以 $-1$ 来将约束条件转换为标准的 $\\le$ 形式：\n$$\n-Ax \\le -b,\\quad x \\ge 0.\n$$\n定义 $\\tilde{A} = -A$ 和 $\\tilde{b} = -b$。那么标准最大化形式的原始问题为：\n$$\n\\text{最大化 } c^{T}x \\quad \\text{约束条件为 } \\tilde{A}x \\le \\tilde{b},\\ x \\ge 0.\n$$\n\n这种标准形式的原始问题的对偶问题是：\n$$\n\\text{最小化 } \\tilde{b}^{T}y \\quad \\text{约束条件为 } \\tilde{A}^{T}y \\ge c,\\ y \\ge 0.\n$$\n代入 $\\tilde{A} = -A$ 和 $\\tilde{b} = -b$ 得到对偶问题：\n$$\n\\text{最小化 } (-b)^{T}y \\quad \\text{约束条件为 } (-A)^{T}y \\ge c,\\ y \\ge 0.\n$$\n\n显式地计算约束条件。因为\n$$\nA^{T} = \\begin{pmatrix} 2 & 1 \\\\ 1 & 3 \\\\ 3 & 2 \\end{pmatrix},\n$$\n我们有\n$$\n(-A)^{T}y = -A^{T}y =\n\\begin{pmatrix}\n-2 & -1 \\\\\n-1 & -3 \\\\\n-3 & -2\n\\end{pmatrix}\n\\begin{pmatrix} y_{1} \\\\ y_{2} \\end{pmatrix}.\n$$\n因此，对偶约束为：\n$$\n-2y_{1} - y_{2} \\ge 5,\\quad\n- y_{1} - 3y_{2} \\ge 4,\\quad\n-3y_{1} - 2y_{2} \\ge 6,\n$$\n且 $y_{1}, y_{2} \\ge 0$。目标函数为\n$$\n(-b)^{T}y = -25\\,y_{1} - 30\\,y_{2}.\n$$\n\n这与选项 C 完全匹配：\n最小化 $W = -25y_{1} - 30y_{2}$，约束条件为 $-2y_{1} - y_{2} \\ge 5$，$-y_{1} - 3y_{2} \\ge 4$，$-3y_{1} - 2y_{2} \\ge 6$，且 $y_{1}, y_{2} \\ge 0$。\n\n等价地，直接使用符号规则：因为原始约束是 $\\ge$ 类型，且这是一个最大化问题，所以对偶变量满足 $y \\le 0$；又因为 $x \\ge 0$，所以对偶约束为 $A^{T}y \\ge c$。将其写为 $A^{T}y \\ge c, y \\le 0$，然后通过乘以-1得到非负变量，会得到与上述相同的对偶形式，其目标函数为 $(-b)^{T}y$，约束条件为 $(-A)^{T}y \\ge c, y \\ge 0$，这证实了选项C。", "answer": "$$\\boxed{C}$$", "id": "2173898"}, {"introduction": "在掌握了基本的对偶转换技巧后，让我们通过一个思想实验来更深入地探索对偶理论的结构。这个练习 [@problem_id:2173871] 不要求你进行复杂的计算，而是要你思考原始问题结构的改变如何影响其对偶问题。通过分析移除一个原始约束的后果，你将深刻理解原始约束与对偶变量之间的一一对应关系，这是对偶理论的基石之一。", "problem": "考虑一个标准的“最大化”线性规划（LP）问题，我们称之为原问题（P），其定义如下：\n\n最大化 $Z = 5x_1 + 8x_2$\n约束条件为：\n$x_1 + x_2 \\le 6$\n$x_1 + 3x_2 \\le 12$\n$4x_1 + x_2 \\le 16$\n$x_1, x_2 \\ge 0$\n\n令（D）为（P）对应的对偶问题。\n\n现在，考虑一个新的原问题（P'），它是通过从问题（P）中完全移除第二个不等式约束 $x_1 + 3x_2 \\le 12$ 而创建的。令（D'）为这个新原问题（P'）对应的对偶问题。\n\n新对偶问题（D'）的构造与原对偶问题（D）的构造有何关系？\n\nA. 对偶问题（D'）是通过移除（D）的第二个约束得到的。\n\nB. 对偶问题（D'）是通过将（D）的目标函数更改为无界得到的。\n\nC. 对偶问题（D'）是通过将（D）中对应于被移除的原约束的第二个变量，在其所有出现之处替换为零得到的。\n\nD. 对偶问题（D'）是通过从（D）中完全移除其第二个变量（该变量对应于被移除的原约束）而得到的。\n\nE. 对偶问题（D'）与（D）相同，但其最优值不同。", "solution": "我们首先将给定的原问题 (P) 写成标准的最大化形式。定义\n$$\nc=\\begin{pmatrix}5\\\\8\\end{pmatrix},\\quad\nA=\\begin{pmatrix}\n1 & 1\\\\\n1 & 3\\\\\n4 & 1\n\\end{pmatrix},\\quad\nb=\\begin{pmatrix}6\\\\12\\\\16\\end{pmatrix},\n$$\n这样 (P) 就是\n$$\n\\max\\; c^{T}x\\quad \\text{约束条件为}\\quad Ax\\le b,\\; x\\ge 0.\n$$\n对于这种形式的原问题，其对偶问题由标准对偶规则给出：\n$$\n\\min\\; b^{T}y\\quad \\text{约束条件为}\\quad A^{T}y\\ge c,\\; y\\ge 0.\n$$\n将此规则应用于 (P)，设 $y=(y_{1},y_{2},y_{3})^{T}\\ge 0$，我们得到 (D)：\n$$\n\\min\\; 6y_{1}+12y_{2}+16y_{3}\n$$\n约束条件为\n$$\n\\begin{aligned}\n&1\\cdot y_{1}+1\\cdot y_{2}+4\\cdot y_{3}\\ge 5,\\\\\n&1\\cdot y_{1}+3\\cdot y_{2}+1\\cdot y_{3}\\ge 8,\\\\\n&y_{1},y_{2},y_{3}\\ge 0.\n\\end{aligned}\n$$\n\n现在通过移除第二个原不等式 $x_{1}+3x_{2}\\le 12$ 来构造 (P')。这对应于移除矩阵 $A$ 的第二行和向量 $b$ 的第二个分量。因此\n$$\nA'=\\begin{pmatrix}\n1 & 1\\\\\n4 & 1\n\\end{pmatrix},\\quad\nb'=\\begin{pmatrix}6\\\\16\\end{pmatrix},\\quad\nc\\ \\text{不变}.\n$$\n因此，(P') 的对偶问题是，设 $y'=(y_{1},y_{3})^{T}\\ge 0$，\n$$\n\\min\\; b'^{T}y'=\\min\\; 6y_{1}+16y_{3}\n$$\n约束条件为\n$$\nA'^{T}y'\\ge c\\;\\;\\Longleftrightarrow\\;\\;\n\\begin{aligned}\n&1\\cdot y_{1}+4\\cdot y_{3}\\ge 5,\\\\\n&1\\cdot y_{1}+1\\cdot y_{3}\\ge 8,\\\\\n&y_{1},y_{3}\\ge 0.\n\\end{aligned}\n$$\n比较 (D) 和这个 (D')，我们看到 (D') 是通过完全移除第二个对偶变量（即对应于被移除的原约束的那个变量），及其在目标函数和约束中的出现而得到的。这符合一般的原对偶对应关系：移除一个原约束会移除相应的对偶变量。\n\n因此，在给定的选项中，正确的关系是 (D') 是通过从 (D) 中完全移除其第二个变量（该变量对应于被移除的原约束）而得到的。", "answer": "$$\\boxed{D}$$", "id": "2173871"}, {"introduction": "最后一个练习将展示对偶理论在更高级场景中的应用威力。我们面对的不再是一个标准的线性规划问题，而是一个目标函数为分式形式的“线性分数规划”（Linear-Fractional Program, LFP）问题。这个挑战 [@problem_id:2173849] 需要两步：首先，使用 Charnes-Cooper 变换将非线性的 LFP 问题转化为等价的 LP 问题；然后，为这个新的 LP 问题构建对偶。此过程不仅展示了对偶理论的广泛适用性，还将引出原始问题中的等式约束如何对应于对偶问题中无符号限制的变量这一重要概念。", "problem": "一家科技公司正在为其 $n$ 种不同的硬件产品制定生产计划。令向量 $x \\in \\mathbb{R}^n$ 表示每种产品的生产数量，其中 $x \\ge 0$。该公司的目标是最小化其“无效率比”，该比率定义为总运营成本除以总收入。\n\n总成本是生产的线性函数，由 $C(x) = c^T x + d$ 给出，其中 $c \\in \\mathbb{R}^n$ 是单位生产成本向量，$d \\in \\mathbb{R}$ 是固定的间接费用。\n总收入也是一个线性函数，由 $R(x) = e^T x + f$ 给出，其中 $e \\in \\mathbb{R}^n$ 是单位收入向量，$f \\in \\mathbb{R}$ 是来自其他业务的固定收入。\n生产受到资源限制，这些限制可概括为不等式组 $Ax \\le b$，其中 $A \\in \\mathbb{R}^{m \\times n}$ 且 $b \\in \\mathbb{R}^m$。\n\n该公司的优化问题是一个线性分式规划 (Linear-Fractional Program, LFP)：\n$$ \\min_{x} \\frac{c^T x + d}{e^T x + f} \\quad \\text{subject to} \\quad Ax \\le b, \\quad x \\ge 0 $$\n已知对于任何可行的生产计划 $x$，总收入 $R(x) = e^T x + f$ 恒为正。\n\n这个 LFP 可以使用 Charnes-Cooper 变换转化为一个等价的线性规划 (Linear Program, LP)。您的任务是确定由此产生的 LP 的对偶问题。设与变换后的等式约束相关的对偶变量为 $\\lambda$，与从 $Ax \\le b$ 导出的变换不等式约束相关的对偶变量向量为 $\\pi$。\n\n以下哪项代表了正确的对偶问题？\n\nA.\n$\\max \\lambda$\n约束条件为：\n$A^T \\pi + e \\lambda \\le c$\n$-b^T \\pi + f \\lambda \\le d$\n$\\pi \\ge 0$\n$\\lambda$ 符号无约束\n\nB.\n$\\max \\lambda$\n约束条件为：\n$A^T \\pi + e \\lambda \\le c$\n$-b^T \\pi + f \\lambda \\le d$\n$\\pi \\le 0$\n$\\lambda \\ge 0$\n\nC.\n$\\max \\lambda$\n约束条件为：\n$A^T \\pi + e \\lambda \\le c$\n$-b^T \\pi + f \\lambda \\le d$\n$\\pi \\le 0$\n$\\lambda$ 符号无约束\n\nD.\n$\\max \\lambda + b^T \\pi$\n约束条件为：\n$A^T \\pi + e \\lambda \\le c$\n$f \\lambda \\le d$\n$\\pi \\le 0$\n$\\lambda$ 符号无约束\n\nE.\n$\\max \\lambda$\n约束条件为：\n$A^T \\pi + f \\lambda \\le c$\n$-b^T \\pi + e \\lambda \\le d$\n$\\pi \\le 0$\n$\\lambda$ 符号无约束", "solution": "我们从线性分式规划开始\n$$\\min_{x} \\frac{c^{T}x + d}{e^{T}x + f} \\quad \\text{约束条件为} \\quad A x \\le b, \\quad x \\ge 0,$$\n假设对于所有可行解 $x$，都有 $e^{T}x + f > 0$。应用 Charnes-Cooper 变换，引入 $t = \\frac{1}{e^{T}x + f} > 0$ 和 $y = t x$。代入后，我们得到等价的线性规划\n$$\\min_{y,t} \\; c^{T}y + d t \\quad \\text{约束条件为} \\quad A y \\le b t, \\quad e^{T}y + f t = 1, \\quad y \\ge 0, \\quad t \\ge 0.$$\n\n为了构建对偶问题，将变量堆叠为 $z = \\begin{pmatrix} y \\\\ t \\end{pmatrix}$，并将约束写成\n$$[A \\;\\; -b]\\begin{pmatrix} y \\\\ t \\end{pmatrix} \\le 0, \\qquad [e^{T} \\;\\; f]\\begin{pmatrix} y \\\\ t \\end{pmatrix} = 1, \\qquad z \\ge 0,$$\n目标函数为 $\\min \\; [c^{T} \\;\\; d]\\begin{pmatrix} y \\\\ t \\end{pmatrix}$。为使用标准的最小化形式的对偶，通过乘以 $-1$ 将不等式转换为 $\\ge$ 形式：\n$$[-A \\;\\; b]\\begin{pmatrix} y \\\\ t \\end{pmatrix} \\ge 0.$$\n因此，原问题的形式为\n$$\\min \\; g^{T} z \\quad \\text{约束条件为} \\quad \\hat{A} z \\ge 0, \\quad E z = 1, \\quad z \\ge 0,$$\n其中 $g = \\begin{pmatrix} c \\\\ d \\end{pmatrix}$，$\\hat{A} = [-A \\;\\; b]$，以及 $E = [e^{T} \\;\\; f]$。对于带有 $\\ge$ 不等式和等式约束的最小化问题，其标准对偶问题为\n$$\\max \\; 0^{T}\\pi + 1 \\cdot \\lambda = \\lambda \\quad \\text{约束条件为} \\quad \\hat{A}^{T}\\pi + E^{T}\\lambda \\le g, \\quad \\pi \\ge 0, \\quad \\lambda \\text{ 符号无约束}.$$\n逐分量计算 $\\hat{A}^{T}\\pi + E^{T}\\lambda$：\n$$\\hat{A}^{T}\\pi = \\begin{pmatrix} -A^{T}\\pi \\\\ b^{T}\\pi \\end{pmatrix}, \\qquad E^{T}\\lambda = \\begin{pmatrix} e \\lambda \\\\ f \\lambda \\end{pmatrix}.$$\n因此，对偶约束为\n$$-A^{T}\\pi + e \\lambda \\le c, \\qquad b^{T}\\pi + f \\lambda \\le d, \\qquad \\pi \\ge 0, \\qquad \\lambda \\text{ 符号无约束}.$$\n如果我们用 $\\pi$ 表示直接与约束 $A y \\le b t$ 相关的对偶变量（不翻转其符号），那么将上式的 $\\pi$ 替换为 $-\\pi$ 就得到等价的对偶问题\n$$A^{T}\\pi + e \\lambda \\le c, \\qquad -b^{T}\\pi + f \\lambda \\le d, \\qquad \\pi \\le 0, \\qquad \\lambda \\text{ 符号无约束}.$$\n这与选项 C 相符。", "answer": "$$\\boxed{C}$$", "id": "2173849"}]}