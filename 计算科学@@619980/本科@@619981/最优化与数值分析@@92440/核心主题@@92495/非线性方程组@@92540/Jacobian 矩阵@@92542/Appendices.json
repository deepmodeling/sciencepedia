{"hands_on_practices": [{"introduction": "在科学与工程领域，我们经常需要求解非线性方程组。牛顿法是解决此类问题的核心数值方法之一，而雅可比矩阵正是牛顿法算法的关键组成部分。这个练习将带你亲手计算一个非线性方程组的雅可比矩阵，为理解和应用更高级的数值算法打下坚实的基础。[@problem_id:2216459]", "problem": "考虑一个向量值函数 $\\mathbf{F}: \\mathbb{R}^3 \\to \\mathbb{R}^3$，其分量函数定义如下：\n$f_1(x, y, z) = x + y + z - 3$\n$f_2(x, y, z) = x^2 + y^2 + z^2 - 5$\n$f_3(x, y, z) = \\exp(x) + yz - 4$\n\n求此函数 $\\mathbf{F}$ 在点 $\\mathbf{p} = (0, 2, 1)$ 处的雅可比矩阵。", "solution": "给定向量值函数 $\\mathbf{F} = (f_{1}, f_{2}, f_{3})$，其分量为\n$$\nf_{1}(x,y,z) = x + y + z - 3,\\quad\nf_{2}(x,y,z) = x^{2} + y^{2} + z^{2} - 5,\\quad\nf_{3}(x,y,z) = \\exp(x) + yz - 4.\n$$\n雅可比矩阵 $J_{\\mathbf{F}}(x,y,z)$ 的元素为 $[J_{\\mathbf{F}}]_{ij} = \\frac{\\partial f_{i}}{\\partial x_{j}}$，其中 $(x_{1},x_{2},x_{3}) = (x,y,z)$。我们计算每个分量的偏导数。\n\n对于 $f_{1}$，根据线性性质可得\n$$\n\\frac{\\partial f_{1}}{\\partial x} = 1,\\quad \\frac{\\partial f_{1}}{\\partial y} = 1,\\quad \\frac{\\partial f_{1}}{\\partial z} = 1.\n$$\n\n对于 $f_{2}$，使用幂法则可得\n$$\n\\frac{\\partial f_{2}}{\\partial x} = 2x,\\quad \\frac{\\partial f_{2}}{\\partial y} = 2y,\\quad \\frac{\\partial f_{2}}{\\partial z} = 2z.\n$$\n\n对于 $f_{3}$，使用 $\\frac{d}{dx}\\exp(x) = \\exp(x)$ 以及对 $yz$ 使用乘法法则可得\n$$\n\\frac{\\partial f_{3}}{\\partial x} = \\exp(x),\\quad \\frac{\\partial f_{3}}{\\partial y} = z,\\quad \\frac{\\partial f_{3}}{\\partial z} = y.\n$$\n\n因此，在任意点 $(x,y,z)$ 处的雅可比矩阵为\n$$\nJ_{\\mathbf{F}}(x,y,z) =\n\\begin{pmatrix}\n1 & 1 & 1 \\\\\n2x & 2y & 2z \\\\\n\\exp(x) & z & y\n\\end{pmatrix}.\n$$\n在点 $\\mathbf{p} = (0,2,1)$ 处求值得到\n$$\nJ_{\\mathbf{F}}(0,2,1) =\n\\begin{pmatrix}\n1 & 1 & 1 \\\\\n0 & 4 & 2 \\\\\n\\exp(0) & 1 & 2\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n1 & 1 & 1 \\\\\n0 & 4 & 2 \\\\\n1 & 1 & 2\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}1 & 1 & 1 \\\\ 0 & 4 & 2 \\\\ 1 & 1 & 2\\end{pmatrix}}$$", "id": "2216459"}, {"introduction": "雅可比矩阵最重要的作用是提供了多变量函数在某一点附近的最佳线性近似。这个强大的特性使我们能够预测一个系统的输出如何响应其输入的微小变化。通过一个直观的机器人手臂控制问题，你将实践如何利用已知的雅可比矩阵来近似预测系统在受到扰动后的新状态，从而深刻理解雅可比矩阵的实际应用价值。[@problem_id:2325300]", "problem": "一个具有两个关节的机械臂在二维平面上运行。其末端执行器的笛卡尔坐标 $(x, y)$ 由其两个关节的角度 $(\\theta_1, \\theta_2)$ 决定，这可以由一个函数 $P: \\mathbb{R}^2 \\to \\mathbb{R}^2$ 来描述，使得 $(x, y) = P(\\theta_1, \\theta_2)$。角度以弧度为单位，坐标以米为单位。\n\n在一个特定的位形，关节角度为 $(\\theta_1, \\theta_2) = (\\frac{\\pi}{6}, \\frac{\\pi}{3})$ 时，末端执行器位于位置 $(x, y) = (2.50, 1.75)$ 米。在此位形下，末端执行器位置对关节角度微小变化的灵敏度由函数 $P$ 的雅可比矩阵描述：\n$$ J_P\\left(\\frac{\\pi}{6}, \\frac{\\pi}{3}\\right) = \\begin{pmatrix} -1.2 & 0.8 \\\\ 2.0 & 1.5 \\end{pmatrix} $$\n雅可比矩阵中各元素的单位是米/弧度。\n\n假设控制系统对关节角度引入了一个小的扰动，将其移动到一个新的位形 $(\\theta_1', \\theta_2') = (\\frac{\\pi}{6} + 0.02, \\frac{\\pi}{3} - 0.04)$。\n\n使用线性近似，估计末端执行器的新笛卡尔坐标 $(x', y')$。将您的答案表示为一对坐标。将每个坐标四舍五入到三位有效数字。最终答案应以米为单位给出。", "solution": "我们使用函数 $P$ 在位形 $(\\theta_{1},\\theta_{2})$ 附近的一阶（线性）近似：\n$$\n\\begin{pmatrix} x' \\\\ y' \\end{pmatrix} \\approx \\begin{pmatrix} x \\\\ y \\end{pmatrix} + J_{P}(\\theta_{1},\\theta_{2}) \\begin{pmatrix} \\Delta \\theta_{1} \\\\ \\Delta \\theta_{2} \\end{pmatrix},\n$$\n其中 $\\Delta \\theta_{1} = \\theta_{1}' - \\theta_{1}$ 且 $\\Delta \\theta_{2} = \\theta_{2}' - \\theta_{2}$。在给定位形下，$(x,y) = (2.50,1.75)$ 米，并且\n$$\nJ_{P}\\left(\\frac{\\pi}{6},\\frac{\\pi}{3}\\right) = \\begin{pmatrix} -1.2 & 0.8 \\\\ 2.0 & 1.5 \\end{pmatrix}.\n$$\n关节角度的扰动为\n$$\n\\Delta \\theta_{1} = 0.02, \\quad \\Delta \\theta_{2} = -0.04.\n$$\n计算位置变化：\n$$\n\\Delta \\mathbf{p} = J_{P} \\begin{pmatrix} 0.02 \\\\ -0.04 \\end{pmatrix} = \\begin{pmatrix} -1.2 & 0.8 \\\\ 2.0 & 1.5 \\end{pmatrix} \\begin{pmatrix} 0.02 \\\\ -0.04 \\end{pmatrix} = \\begin{pmatrix} -1.2\\cdot 0.02 + 0.8\\cdot(-0.04) \\\\ 2.0\\cdot 0.02 + 1.5\\cdot(-0.04) \\end{pmatrix} = \\begin{pmatrix} -0.056 \\\\ -0.02 \\end{pmatrix}.\n$$\n将此变化加到标称位置上：\n$$\n\\begin{pmatrix} x' \\\\ y' \\end{pmatrix} \\approx \\begin{pmatrix} 2.50 \\\\ 1.75 \\end{pmatrix} + \\begin{pmatrix} -0.056 \\\\ -0.02 \\end{pmatrix} = \\begin{pmatrix} 2.444 \\\\ 1.73 \\end{pmatrix}.\n$$\n将每个坐标四舍五入到三位有效数字，得到 $x' \\approx 2.44$ 和 $y' \\approx 1.73$（米）。", "answer": "$$\\boxed{\\begin{pmatrix} 2.44 & 1.73 \\end{pmatrix}}$$", "id": "2325300"}, {"introduction": "复杂的系统通常可以分解为一系列更简单的连续变换。在这种情况下，我们如何计算整个系统的雅可比矩阵呢？多变量链式法则为此提供了优雅的解决方案，它允许我们通过矩阵乘法将各个步骤的雅可比矩阵组合起来。这个练习以计算机图形学中的坐标变换为例，展示了如何运用链式法则来处理复合函数，这是处理如机器人运动学或深度学习网络等复杂模型的关键技巧。[@problem_id:2216466]", "problem": "在一个计算机图形学应用中，一个由坐标 $(u,v)$ 定义的二维控制曲面被映射到一个三维对象空间，然后投影到一个二维观察平面上。\n\n第一个变换 $g: \\mathbb{R}^2 \\to \\mathbb{R}^3$ 将控制坐标 $(u,v)$ 映射到锥形曲面上的一个点 $(x,y,z)$。该变换由以下函数定义：\n$g(u,v) = (u\\cos(v), u\\sin(v), u)$\n\n第二个变换是一个投影和坐标变换 $f: \\mathbb{R}^3 \\to \\mathbb{R}^2$，它将三维对象空间中的点 $(x,y,z)$ 映射到具有坐标 $(s,t)$ 的二维观察平面。该变换由以下线性函数定义：\n$f(x,y,z) = (x + 2y, 3y - z)$\n\n考虑复合函数 $h = f \\circ g$，它将控制坐标 $(u,v)$ 直接映射到观察平面坐标 $(s,t)$。求变换 $h(u,v)$ 的雅可比矩阵。将你的答案表示为一个矩阵，其元素是关于 $u$ 和 $v$ 的函数。", "solution": "该问题要求复合函数 $h = f \\circ g$ 的雅可比矩阵，其中 $g: \\mathbb{R}^2 \\to \\mathbb{R}^3$ 且 $f: \\mathbb{R}^3 \\to \\mathbb{R}^2$。复合函数的雅可比矩阵可以通过使用多变量链式法则来找到，该法则指出，复合函数的雅可比矩阵是各个函数的雅可比矩阵在适当点上求值的乘积。具体来说，$J_h(u,v) = J_f(g(u,v)) \\cdot J_g(u,v)$。\n\n首先，我们求函数 $g(u,v) = (x,y,z) = (u\\cos(v), u\\sin(v), u)$ 的雅可比矩阵。\n雅可比矩阵 $J_g$ 是一个 $3 \\times 2$ 矩阵，由下式给出：\n$$\nJ_g(u,v) = \\begin{pmatrix} \\frac{\\partial x}{\\partial u} & \\frac{\\partial x}{\\partial v} \\\\ \\frac{\\partial y}{\\partial u} & \\frac{\\partial y}{\\partial v} \\\\ \\frac{\\partial z}{\\partial u} & \\frac{\\partial z}{\\partial v} \\end{pmatrix}\n$$\n我们计算偏导数：\n$\\frac{\\partial x}{\\partial u} = \\frac{\\partial}{\\partial u}(u\\cos(v)) = \\cos(v)$\n$\\frac{\\partial x}{\\partial v} = \\frac{\\partial}{\\partial v}(u\\cos(v)) = -u\\sin(v)$\n$\\frac{\\partial y}{\\partial u} = \\frac{\\partial}{\\partial u}(u\\sin(v)) = \\sin(v)$\n$\\frac{\\partial y}{\\partial v} = \\frac{\\partial}{\\partial v}(u\\sin(v)) = u\\cos(v)$\n$\\frac{\\partial z}{\\partial u} = \\frac{\\partial}{\\partial u}(u) = 1$\n$\\frac{\\partial z}{\\partial v} = \\frac{\\partial}{\\partial v}(u) = 0$\n\n将这些偏导数组合成矩阵 $J_g$：\n$$\nJ_g(u,v) = \\begin{pmatrix} \\cos(v) & -u\\sin(v) \\\\ \\sin(v) & u\\cos(v) \\\\ 1 & 0 \\end{pmatrix}\n$$\n\n接下来，我们求函数 $f(x,y,z) = (s,t) = (x + 2y, 3y - z)$ 的雅可比矩阵。\n雅可比矩阵 $J_f$ 是一个 $2 \\times 3$ 矩阵，由下式给出：\n$$\nJ_f(x,y,z) = \\begin{pmatrix} \\frac{\\partial s}{\\partial x} & \\frac{\\partial s}{\\partial y} & \\frac{\\partial s}{\\partial z} \\\\ \\frac{\\partial t}{\\partial x} & \\frac{\\partial t}{\\partial y} & \\frac{\\partial t}{\\partial z} \\end{pmatrix}\n$$\n我们计算偏导数：\n$\\frac{\\partial s}{\\partial x} = \\frac{\\partial}{\\partial x}(x + 2y) = 1$\n$\\frac{\\partial s}{\\partial y} = \\frac{\\partial}{\\partial y}(x + 2y) = 2$\n$\\frac{\\partial s}{\\partial z} = \\frac{\\partial}{\\partial z}(x + 2y) = 0$\n$\\frac{\\partial t}{\\partial x} = \\frac{\\partial}{\\partial x}(3y - z) = 0$\n$\\frac{\\partial t}{\\partial y} = \\frac{\\partial}{\\partial y}(3y - z) = 3$\n$\\frac{\\partial t}{\\partial z} = \\frac{\\partial}{\\partial z}(3y - z) = -1$\n\n将这些偏导数组合成矩阵 $J_f$：\n$$\nJ_f(x,y,z) = \\begin{pmatrix} 1 & 2 & 0 \\\\ 0 & 3 & -1 \\end{pmatrix}\n$$\n由于 $J_f$ 的所有元素都是常数，因此矩阵 $J_f(g(u,v))$ 与 $J_f(x,y,z)$ 相同。\n\n现在我们可以通过将雅可比矩阵 $J_f$ 和 $J_g$ 相乘来求出 $h$ 的雅可比矩阵。一个 $2 \\times 3$ 矩阵和一个 $3 \\times 2$ 矩阵的乘积将得到一个 $2 \\times 2$ 矩阵。\n$$\nJ_h(u,v) = J_f(g(u,v)) \\cdot J_g(u,v) = \\begin{pmatrix} 1 & 2 & 0 \\\\ 0 & 3 & -1 \\end{pmatrix} \\begin{pmatrix} \\cos(v) & -u\\sin(v) \\\\ \\sin(v) & u\\cos(v) \\\\ 1 & 0 \\end{pmatrix}\n$$\n执行矩阵乘法：\n第一行第一列的元素是 $(1)(\\cos(v)) + (2)(\\sin(v)) + (0)(1) = \\cos(v) + 2\\sin(v)$。\n第一行第二列的元素是 $(1)(-u\\sin(v)) + (2)(u\\cos(v)) + (0)(0) = -u\\sin(v) + 2u\\cos(v) = u(2\\cos(v) - \\sin(v))$。\n第二行第一列的元素是 $(0)(\\cos(v)) + (3)(\\sin(v)) + (-1)(1) = 3\\sin(v) - 1$。\n第二行第二列的元素是 $(0)(-u\\sin(v)) + (3)(u\\cos(v)) + (-1)(0) = 3u\\cos(v)$。\n\n所以，$h(u,v)$ 的雅可比矩阵是：\n$$\nJ_h(u,v) = \\begin{pmatrix} \\cos(v) + 2\\sin(v) & u(2\\cos(v) - \\sin(v)) \\\\ 3\\sin(v) - 1 & 3u\\cos(v) \\end{pmatrix}\n$$", "answer": "$$\\boxed{\\begin{pmatrix} \\cos(v) + 2\\sin(v) & u(2\\cos(v) - \\sin(v)) \\\\ 3\\sin(v) - 1 & 3u\\cos(v) \\end{pmatrix}}$$", "id": "2216466"}]}