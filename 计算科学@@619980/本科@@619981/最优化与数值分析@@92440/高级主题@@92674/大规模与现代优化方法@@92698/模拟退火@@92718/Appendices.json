{"hands_on_practices": [{"introduction": "模拟退火算法通过在解空间中从一个状态移动到其“邻近”状态来探索最优解。本练习将帮助您具体理解在旅行商问题 (TSP) 这类组合优化问题中，“邻域”的实际含义。掌握邻域的定义是理解算法如何在复杂的解空间中导航的第一步 [@problem_id:2202549]。", "problem": "在优化领域，模拟退火（SA）是一种用于寻找给定函数的近似全局最优解的概率性技术。考虑其在旅行商问题（TSP）简化版本中的应用，其目标是找到一条访问一组城市并返回起始城市的最短可能路径。\n\n在此背景下，一个“状态”被定义为一个特定的巡回路径，由一个待访问城市的有序列表（一个排列）表示。一个算法正在探索一个包含五个不同城市（标记为 C1、C2、C3、C4 和 C5）的问题的解空间。\n\n在某一步，该算法处于当前状态 $S = [\\text{C1, C2, C3, C4, C5}]$。为了生成候选移动，该算法定义了当前状态的一个“邻域”。在这个具体的实现中，邻域函数定义如下：一个新状态处于 $S$ 的邻域中，当且仅当它可以通过交换表示 $S$ 的列表中的恰好一对相邻城市来获得。\n\n以下哪個集合正确且完整地表示了状态 $S$ 的邻域？\n\nA. $\\{[\\text{C2, C1, C3, C4, C5}], [\\text{C1, C3, C2, C4, C5}], [\\text{C1, C2, C4, C3, C5}], [\\text{C1, C2, C3, C5, C4}]\\}$\n\nB. $\\{[\\text{C5, C2, C3, C4, C1}], [\\text{C1, C4, C3, C2, C5}], [\\text{C1, C2, C5, C4, C3}]\\}$\n\nC. $\\{[\\text{C2, C1, C3, C4, C5}], [\\text{C1, C3, C2, C4, C5}], [\\text{C1, C2, C4, C3, C5}]\\}$\n\nD. $\\{[\\text{C2, C1, C3, C4, C5}], [\\text{C1, C3, C2, C4, C5}], [\\text{C1, C2, C4, C3, C5}], [\\text{C1, C2, C3, C5, C4}], [\\text{C1, C2, C3, C4, C5}]\\}$\n\nE. $\\{[\\text{C3, C2, C1, C4, C5}], [\\text{C1, C4, C3, C2, C5}], [\\text{C1, C2, C5, C4, C3}], [\\text{C5, C2, C3, C4, C1}]\\}$", "solution": "给定当前状态 $S = [\\text{C1, C2, C3, C4, C5}]$ 以及一个通过交换恰好一对相邻城市来定义的邻域。在一个长度为 $n$ 的列表中，有 $n-1$ 对相邻的元素对；这里 $n=5$，所以有 $5-1=4$ 对相邻的城市对：$(\\text{C1, C2})$、$(\\text{C2, C3})$、$(\\text{C3, C4})$ 和 $(\\text{C4, C5})$。\n\n将每一对相邻的城市交换恰好一次，可以产生以下不同的邻域状态：\n- 交换 $\\text{C1}$ 和 $\\text{C2}$：$[\\text{C2, C1, C3, C4, C5}]$。\n- 交换 $\\text{C2}$ 和 $\\text{C3}$：$[\\text{C1, C3, C2, C4, C5}]$。\n- 交换 $\\text{C3}$ 和 $\\text{C4}$：$[\\text{C1, C2, C4, C3, C5}]$。\n- 交换 $\\text{C4}$ 和 $\\text{C5}$：$[\\text{C1, C2, C3, C5, C4}]$。\n\n因此，该邻域恰好由这四个状态组成。与选项进行比较：\n- A 恰好列出了这四个状态。\n- C 遗漏了 $[\\text{C1, C2, C3, C5, C4}]$。\n- D 错误地包含了原始状态，这需要零次交换，违反了“恰好一次”的条件。\n- B 和 E 包含了无法通过单次相邻交换获得的状态。\n\n因此，正确且完整的集合由选项 A 给出。", "answer": "$$\\boxed{A}$$", "id": "2202549"}, {"introduction": "模拟退火的精髓在于它能以一定的概率接受“更差”的解，从而有机会跳出局部最优。本练习聚焦于其核心机制——Metropolis 接受准则，要求您量化关键参数“温度” $T$ 如何影响算法的探索意愿。通过这个计算，您将更深刻地理解温度在平衡“利用”（exploitation）与“探索”（exploration）之间的关键作用 [@problem_id:2202501]。", "problem": "一位工程师正在使用一种计算优化算法来确定电路板上元件的最优布局。任何给定布局的质量由一个成本函数 $E$ 来量化，其中成本越低代表设计越好。该算法通过迭代地对布局提出微小改动来进行。如果一个提议的改动降低了成本，它总是被接受。然而，为了避免陷入次优解，该算法有时可以接受一个增加成本的改动。\n\n接受一个使成本增加量为 $\\Delta E > 0$ 的“更差”移动的概率 $P$ 由以下关系决定：\n$$\nP = \\exp\\left(-\\frac{\\Delta E}{T}\\right)\n$$\n其中 $T$ 是一个称为“计算温度”的正控制参数。\n\n在一个优化过程中，算法考虑了一个特定的布局修改，已知该修改会使成本函数增加 $\\Delta E = 12.5$ 个单位。在算法的一个版本中，此阶段的计算温度设置为 $T_1 = 25.0$。在第二个更具探索性的版本中，同一阶段的温度设置得更高，为 $T_2 = 40.0$。\n\n当计算温度从 $T_1$ 增加到 $T_2$ 时，接受这个特定的有害移动的概率乘以了哪个因子？请以四舍五入到三位有效数字的数值形式提供您的答案。", "solution": "接受有害移动的概率由 $P = \\exp\\left(-\\frac{\\Delta E}{T}\\right)$ 给出。设 $P_{1}$ 为温度 $T_{1}$ 时的概率，$P_{2}$ 为温度 $T_{2}$ 时的概率。当温度从 $T_{1}$ 增加到 $T_{2}$ 时，概率所乘的因子是\n$$\n\\frac{P_{2}}{P_{1}}=\\frac{\\exp\\left(-\\frac{\\Delta E}{T_{2}}\\right)}{\\exp\\left(-\\frac{\\Delta E}{T_{1}}\\right)}=\\exp\\left(-\\frac{\\Delta E}{T_{2}}+\\frac{\\Delta E}{T_{1}}\\right)=\\exp\\left(\\Delta E\\left(\\frac{1}{T_{1}}-\\frac{1}{T_{2}}\\right)\\right).\n$$\n代入 $\\Delta E=12.5$，$T_{1}=25.0$ 和 $T_{2}=40.0$：\n$$\n\\frac{P_{2}}{P_{1}}=\\exp\\left(12.5\\left(\\frac{1}{25.0}-\\frac{1}{40.0}\\right)\\right)=\\exp\\left(12.5\\left(0.04-0.025\\right)\\right)=\\exp\\left(12.5\\times 0.015\\right)=\\exp(0.1875).\n$$\n数值上，\n$$\n\\exp(0.1875)\\approx 1.20623,\n$$\n保留三位有效数字为 $1.21$。", "answer": "$$\\boxed{1.21}$$", "id": "2202501"}, {"introduction": "一次成功的模拟退火运行，很大程度上取决于一个优良的“冷却策略”，而这始于一个合适的初始温度 $T_0$。本练习将介绍一种常见且实用的启发式方法，通过设定一个期望的初始接受率来确定 $T_0$。这个实践将带您从简单的公式应用，走向算法设计中更具策略性的层面，连接理论与实际应用 [@problem_id:2202487]。", "problem": "在使用模拟退火进行优化的背景下，选择一个合适的初始温度 $T_0$ 至关重要。一个常见的启发式方法是选择这样一个 $T_0$，使得能量增加的移动（上坡移动）的平均接受概率很高，例如，在80%左右。这能确保系统在模拟的初始阶段可以自由地探索搜索空间。\n\n一位工程师正试图最小化一个能量函数 $E(x)$。为了设定初始温度，他们进行了一次初步的随机游走，其中包含大量的提议移动。对于每次从状态 $x$ 到新状态 $x'$ 的提议移动，都会计算能量变化 $\\Delta E = E(x') - E(x)$。\n\n预运行分析对能量增加（$\\Delta E > 0$）的移动得出了以下统计数据：\n- 观测到的上坡移动总数为 $M = 2500$。\n- 所有正能量变化的总和为 $\\sum_{\\Delta E > 0} \\Delta E = 582.5$（以任意能量单位计）。\n\n上坡移动的接受概率由 Metropolis 准则给出，$P(\\text{accept}) = \\exp(-\\Delta E / T)$，其中 $T$ 是温度。\n\n您的任务是确定初始温度 $T_0$，以使这些上坡移动达到 $P_{\\text{target}} = 0.8$ 的目标平均接受概率。为此，您必须使用一个近似方法，即指数概率的平均值可以用平均能量变化的指数来估计。也就是说，用 $\\exp(-\\overline{\\Delta E}/T_0)$ 来近似 $\\frac{1}{M}\\sum_{j=1}^{M} \\exp(-\\Delta E_j/T_0)$，其中 $\\overline{\\Delta E}$ 是上坡移动的平均能量变化。\n\n计算 $T_0$ 的值，单位与能量单位相同。将您的最终答案四舍五入到三位有效数字。", "solution": "我们用 $M$ 表示观测到的上坡移动次数，用 $\\{\\Delta E_{j}\\}_{j=1}^{M}$ 表示它们的正能量增量。上坡变化的样本均值为\n$$\n\\overline{\\Delta E}=\\frac{1}{M}\\sum_{j=1}^{M}\\Delta E_{j}=\\frac{582.5}{2500}=\\frac{233}{1000}=0.233.\n$$\n使用前述的在 Metropolis 准则下对平均接受概率的近似方法，\n$$\n\\frac{1}{M}\\sum_{j=1}^{M}\\exp\\!\\left(-\\frac{\\Delta E_{j}}{T_{0}}\\right)\\approx \\exp\\!\\left(-\\frac{\\overline{\\Delta E}}{T_{0}}\\right),\n$$\n并设目标 $P_{\\text{target}}=0.8$，我们有\n$$\n\\exp\\!\\left(-\\frac{\\overline{\\Delta E}}{T_{0}}\\right)=0.8.\n$$\n对等式两边取自然对数，可得\n$$\n-\\frac{\\overline{\\Delta E}}{T_{0}}=\\ln(0.8),\n$$\n所以\n$$\nT_{0}=-\\frac{\\overline{\\Delta E}}{\\ln(0.8)}=\\frac{\\overline{\\Delta E}}{-\\ln(0.8)}.\n$$\n将 $\\overline{\\Delta E}=0.233$ 代入可得\n$$\nT_{0}=\\frac{0.233}{-\\ln(0.8)}\\approx \\frac{0.233}{0.223143551}\\approx 1.044\\ldots\n$$\n四舍五入到三位有效数字，得到 $T_{0}\\approx 1.04$。", "answer": "$$\\boxed{1.04}$$", "id": "2202487"}]}