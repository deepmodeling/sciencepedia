{"hands_on_practices": [{"introduction": "在优化领域，一个函数是否为凸函数至关重要，因为它直接关系到我们能否保证找到的局部最优解就是全局最优解。对于一个二次可微的函数，其凸性可以通过检验其海森矩阵（Hessian matrix）来确定。这个练习将带你通过一个具体的二次成本函数，亲手实践如何利用半正定矩阵的定义来判断函数的凸性，这是理解半正定规划在优化理论中基本作用的第一步。[@problem_id:2201476]", "problem": "在凸优化领域，成本函数的一个关键性质是其凸性，因为这保证了任何找到的局部最小值也是全局最小值。对于一个定义在凸集上的二阶可微函数 $f(\\mathbf{x})$，其为凸函数的充要条件是它的海森矩阵 $H(\\mathbf{x})$ 在其定义域内对所有 $\\mathbf{x}$ 都是半正定的。\n\n考虑一个用于建模双产品生产过程的二次成本函数，其形式如下：\n$$f(x_1, x_2) = x_1^2 + \\alpha x_1 x_2 + \\frac{3}{2}x_2^2$$\n此处，$x_1$ 和 $x_2$ 代表非负的生产数量，而 $\\alpha$ 是一个实值耦合常数，用于模拟两条生产线之间的经济相互作用。为了保证过程的稳定性和可预测性，一个关键目标是确保该成本函数在其整个定义域上是凸的。\n\n确定耦合常数 $\\alpha$ 的完整取值范围，以确保成本函数 $f(x_1, x_2)$ 是凸的。\n\nA) $[-\\sqrt{5}, \\sqrt{5}]$\n\nB) $[-\\sqrt{6}, \\sqrt{6}]$\n\nC) $[-2, 2]$\n\nD) $[-3, 3]$\n\nE) 函数对所有实数 $\\alpha$ 都是凸的。\n\nF) 函数对任何实数 $\\alpha$ 都不是凸的。", "solution": "我们使用凸集上二阶可微函数凸性的海森判据：$f$ 是凸函数的充要条件是其海森矩阵在定义域中的每一点都是半正定的。\n\n给定\n$$f(x_{1}, x_{2}) = x_{1}^{2} + \\alpha x_{1}x_{2} + \\frac{3}{2}x_{2}^{2},$$\n其梯度为\n$$\\nabla f(x_{1}, x_{2}) = \\begin{pmatrix} 2x_{1} + \\alpha x_{2} \\\\ \\alpha x_{1} + 3x_{2} \\end{pmatrix},$$\n并且其海森矩阵是一个常数矩阵，为\n$$H = \\nabla^{2} f = \\begin{pmatrix} 2 & \\alpha \\\\ \\alpha & 3 \\end{pmatrix}.$$\n\n由于 $H$ 是一个对称的 $2 \\times 2$ 矩阵，其为半正定的充要条件是它的所有顺序主子式均为非负：\n- 一阶顺序主子式是 $2 \\geq 0$，此条件成立。\n- 行列式必须满足\n$$\\det(H) = 2 \\cdot 3 - \\alpha^{2} = 6 - \\alpha^{2} \\geq 0.$$\n这可得出\n$$\\alpha^{2} \\leq 6 \\quad \\Longleftrightarrow \\quad |\\alpha| \\leq \\sqrt{6}.$$\n\n因此，$f$ 是凸函数的充要条件是 $\\alpha \\in [-\\sqrt{6}, \\sqrt{6}]$，这对应于选项 B。", "answer": "$$\\boxed{B}$$", "id": "2201476"}, {"introduction": "掌握了半正定矩阵的基本定义后，我们来看一个典型的半正定规划（SDP）问题。这类问题通常涉及在满足半正定等约束条件的情况下，最大化或最小化一个关于矩阵变量的线性目标函数 $\\operatorname{tr}(CX)$。通过解决这个问题，你将发现SDP问题与矩阵的谱理论（特别是特征值）之間深刻而优美的联系，并理解为何最大特征值在此类优化中扮演着核心角色。[@problem_id:2201478]", "problem": "考虑一个 $2 \\times 2$ 的实对称矩阵 $X$ 定义为\n$$\nX = \\begin{pmatrix} x_{11} & x_{12} \\\\ x_{12} & x_{22} \\end{pmatrix}.\n$$\n该矩阵满足两个条件：\n1. 它是半正定的，意味着其所有特征值都是非负的。\n2. 其对角线元素之和等于 1，即 $x_{11} + x_{22} = 1$。\n\n现在，考虑另一个常数 $2 \\times 2$ 实对称矩阵 $C$，其定义为\n$$\nC = \\begin{pmatrix} 3 & -1 \\\\ -1 & 5 \\end{pmatrix}.\n$$\n你的任务是求这两个矩阵乘积的迹 $\\operatorname{tr}(CX)$ 的最大可能值。方阵的迹是其主对角线上元素的和。请以单个闭式解析表达式的形式给出你的最终答案。", "solution": "我们需要在实对称矩阵 $X$ 满足 $X \\succeq 0$ 和 $\\operatorname{tr}(X) = 1$ 的条件下最大化 $\\operatorname{tr}(CX)$。可行集 $\\{X \\succeq 0, \\operatorname{tr}(X)=1\\}$ 是凸集和紧集，且目标函数 $\\operatorname{tr}(CX)$ 对于 $X$ 是线性的，因此最大值在可行集的一个极点上取得。\n\n每个满足 $\\operatorname{tr}(X)=1$ 的半正定矩阵 $X$ 都有一个谱分解 $X = \\sum_{i} \\lambda_{i} u_{i} u_{i}^{\\top}$，其中 $\\lambda_{i} \\geq 0$，$\\sum_{i} \\lambda_{i} = 1$，且 $\\{u_{i}\\}$ 是标准正交向量组。因此，\n$$\n\\operatorname{tr}(CX) = \\operatorname{tr}\\!\\left(C \\sum_{i} \\lambda_{i} u_{i} u_{i}^{\\top}\\right) = \\sum_{i} \\lambda_{i} \\operatorname{tr}(C u_{i} u_{i}^{\\top}) = \\sum_{i} \\lambda_{i} u_{i}^{\\top} C u_{i}.\n$$\n由于 $\\lambda_{i}$ 构成一个凸组合，我们有\n$$\n\\operatorname{tr}(CX) \\leq \\sum_{i} \\lambda_{i} \\lambda_{\\max}(C) = \\lambda_{\\max}(C),\n$$\n当选择 $X = v v^{\\top}$ 时等号成立，其中 $v$ 是 $C$ 的对应于其最大特征值的单位特征向量。因此，最大值为 $\\lambda_{\\max}(C)$。\n\n我们通过 $C = \\begin{pmatrix} 3 & -1 \\\\ -1 & 5 \\end{pmatrix}$ 的特征多项式来计算其特征值：\n$$\n\\det(C - \\lambda I) = (3 - \\lambda)(5 - \\lambda) - (-1)(-1) = (3 - \\lambda)(5 - \\lambda) - 1.\n$$\n展开得，\n$$\n(3 - \\lambda)(5 - \\lambda) - 1 = 15 - 3\\lambda - 5\\lambda + \\lambda^{2} - 1 = \\lambda^{2} - 8\\lambda + 14.\n$$\n解方程 $\\lambda^{2} - 8\\lambda + 14 = 0$ 可得\n$$\n\\lambda = \\frac{8 \\pm \\sqrt{64 - 56}}{2} = \\frac{8 \\pm \\sqrt{8}}{2} = 4 \\pm \\sqrt{2}.\n$$\n因此 $\\lambda_{\\max}(C) = 4 + \\sqrt{2}$，这就是在给定约束条件下 $\\operatorname{tr}(CX)$ 的最大值。", "answer": "$$\\boxed{4+\\sqrt{2}}$$", "id": "2201478"}, {"introduction": "半正定规划最强大的应用之一，是为那些计算上极为困难的组合优化问题提供高质量的近似解，其中最著名的例子就是最大割（Max-Cut）问题。这个练习将引导你探索Goemans-Williamson的松弛方法，通过将离散的变量“提升”到高维向量空间，把一个NP-hard问题转化为一个可以高效求解的SDP问题。这是体验SDP如何巧妙地连接离散世界与连续世界，并解决实际难题的绝佳机会。[@problem_id:2201518]", "problem": "图论中的最大割 (Max-Cut) 问题旨在将一个图的顶点划分成两个不相交的集合，例如 $S_1$ 和 $S_2$，使得连接 $S_1$ 中顶点与 $S_2$ 中顶点的边的权重之和最大化。虽然对于一般图而言，该问题是计算困难的，但存在近似方法。\n\n一种方法是将问题代数化。对于一个顶点为 $V = \\{1, 2, ..., n\\}$、带权边为 $(i,j)$ 且权重为 $w_{ij}$ 的图，我们可以为每个顶点 $i$ 分配一个变量 $y_i \\in \\{-1, 1\\}$。一个划分则由哪些顶点被分配为 $+1$ 和哪些被分配为 $-1$ 来定义。割的权重可以表示为待最大化的目标函数：\n$$\n\\text{maximize} \\quad \\frac{1}{2} \\sum_{(i,j) \\in E} w_{ij}(1 - y_i y_j)\n$$\n其中 $E$ 是边的集合。\n\n一种强大的近似技术是“松弛”该问题。我们不再使用离散标量变量 $y_i \\in \\{-1, 1\\}$，而是将每个顶点 $i$ 与高维空间中的一个连续向量变量 $v_i$ 关联起来。对单个向量的唯一约束是它必须是单位向量，即 $v_i \\cdot v_i = 1$。标量乘积 $y_i y_j$ 被向量点积 $v_i \\cdot v_j$ 所取代。松弛后的优化问题变为：\n$$\n\\text{maximize} \\quad \\frac{1}{2} \\sum_{(i,j) \\in E} w_{ij}(1 - v_i \\cdot v_j)\n$$\n$$\n\\text{subject to} \\quad v_i \\cdot v_i = 1 \\quad \\text{for all } i \\in V.\n$$\n\n考虑一个简单的三角形图，其有三个顶点，标记为1、2和3。每个顶点都与其他所有顶点相连，形成边(1,2)、(2,3)和(3,1)。所有边的权重均为1。\n\n求此松弛问题目标函数的精确最大值。请将最终答案表示为四舍五入到三位有效数字的小数。", "solution": "对于顶点为 $\\{1,2,3\\}$ 且边权重为单位值的三角形图，松弛后的目标函数为\n$$\n\\max \\; \\frac{1}{2}\\sum_{(i,j)\\in E}\\left(1 - v_{i}\\cdot v_{j}\\right),\n$$\n约束条件为对所有 $i$ 都有 $v_{i}\\cdot v_{i}=1$。因为有三条边，定义\n$$\nS \\equiv v_{1}\\cdot v_{2} + v_{2}\\cdot v_{3} + v_{3}\\cdot v_{1}.\n$$\n那么目标函数变为\n$$\n\\frac{1}{2}\\left(3 - S\\right).\n$$\n最大化目标函数等价于在单位向量约束下最小化 $S$。\n\n引入格拉姆矩阵 $G$，其元素为 $G_{ij} = v_{i}\\cdot v_{j}$。向量 $\\{v_{i}\\}$ 的可行性等价于 $G$ 是半正定的（$G\\succeq 0$）且对所有 $i$ 都有 $G_{ii}=1$。目标函数仅通过其非对角元素之和 $S = G_{12}+G_{23}+G_{31}$ 与 $G$ 相关。\n\n根据问题的对称性（约束和目标在 $\\{1,2,3\\}$ 的排列下是不变的），存在一个最优的格拉姆矩阵，其非对角元素相等。将任意可行矩阵 $G$ 对所有6种排列进行平均，会得到一个具有相同 $S$ 值且非对角元素相等的可行矩阵。因此，不失一般性地，设\n$$\nG(t) = \\begin{pmatrix}\n1 & t & t\\\\\nt & 1 & t\\\\\nt & t & 1\n\\end{pmatrix},\n\\qquad S = 3t.\n$$\n$G(t)$ 的特征值为 $1- t$（重数为2）和 $1+2t$（重数为1）。半正定性要求\n$$\n1 - t \\ge 0 \\quad \\text{and} \\quad 1 + 2t \\ge 0,\n$$\n也就是\n$$\n- \\frac{1}{2} \\le t \\le 1.\n$$\n由于 $S=3t$，在可行区间上最小化 $S$ 可得 $t^{\\star} = -\\frac{1}{2}$ 以及\n$$\nS^{\\star} = 3\\left(-\\frac{1}{2}\\right) = -\\frac{3}{2}.\n$$\n因此，目标函数的最大值为\n$$\n\\frac{1}{2}\\left(3 - S^{\\star}\\right)\n= \\frac{1}{2}\\left(3 + \\frac{3}{2}\\right)\n= \\frac{1}{2}\\cdot \\frac{9}{2}\n= \\frac{9}{4}.\n$$\n这个值是可以达到的，例如，通过平面上三个夹角为 $2\\pi/3$ 的单位向量，因为此时对于 $i\\neq j$，有 $v_{i}\\cdot v_{j} = \\cos(2\\pi/3) = -\\frac{1}{2}$。将 $\\frac{9}{4}$ 转换为小数并四舍五入到三位有效数字，得到 $2.25$。", "answer": "$$\\boxed{2.25}$$", "id": "2201518"}]}