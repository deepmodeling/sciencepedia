{"hands_on_practices": [{"introduction": "分支定界法的旅程始于一个关键的初始步骤：求解线性规划（LP）松弛问题。这一步忽略了变量必须是整数的约束，从而为整个问题建立了一个最优目标值的“理想”上界。这个练习模拟了在一个服务器配置场景中计算根节点值的过程，让你亲身体验如何为后续的搜索过程设定一个重要的基准 [@problem_id:2209681]。", "problem": "一家科技初创公司正在部署一个新的服务器集群，必须决定购买两种服务器类型的组合：一种是计算密集型服务器（C型），另一种是存储密集型服务器（S型）。目标是在遵守物理和预算约束的同时，最大化一个综合性能指标 $Z$。\n\n设 $x_C$ 为C型服务器的数量，$x_S$ 为S型服务器的数量。公司的性能模型估算该综合指标为 $Z = 5x_C + 6x_S$。\n\n部署受到以下两个主要约束：\n1.  **电力容量：** 数据中心机架的总电力容量为16千瓦（kW）。每台C型服务器消耗3千瓦，每台S型服务器消耗2千瓦。\n2.  **物理机架空间：** 机架有17个单位的可用空间。每台C型服务器占用1个单位空间，而每台S型服务器占用4个单位空间。\n\n每种类型服务器的数量 $x_C$ 和 $x_S$ 必须为非负整数。为解决此整数规划问题，公司决定使用分支定界算法。该方法的第一步是求解问题的线性规划（LP）松弛，其中整数约束被暂时忽略。\n\n确定此初始LP松弛问题中综合性能指标 $Z$ 的最优值。你的最终答案应为一个实数。", "solution": "我们求解LP松弛问题：\n最大化 $Z=5x_{C}+6x_{S}$，约束条件为 $3x_{C}+2x_{S}\\leq 16$，$x_{C}+4x_{S}\\leq 17$ 以及 $x_{C},x_{S}\\geq 0$。\n\n对于多边形可行域上的线性规划问题，其最优解出现在一个极点处。候选极点由约束边界线与坐标轴的交点得出。\n\n1) 与坐标轴的交点：\n- 若 $x_{S}=0$，则 $3x_{C}\\leq 16$ 且 $x_{C}\\leq 17$，因此有效约束值为 $x_{C}=\\frac{16}{3}$。此时 $Z=5\\cdot \\frac{16}{3}=\\frac{80}{3}$。\n- 若 $x_{C}=0$，则 $2x_{S}\\leq 16$ 且 $4x_{S}\\leq 17$，因此有效约束值为 $x_{S}=\\frac{17}{4}$。此时 $Z=6\\cdot \\frac{17}{4}=\\frac{102}{4}=\\frac{51}{2}$。\n- 在点 $(0,0)$ 处，$Z=0$。\n\n2) 两条约束线的交点：\n求解方程组\n$$\n\\begin{cases}\n3x_{C}+2x_{S}=16,\\\\\nx_{C}+4x_{S}=17.\n\\end{cases}\n$$\n由第二个方程可得 $x_{C}=17-4x_{S}$。将其代入第一个方程：\n$$\n3(17-4x_{S})+2x_{S}=16 \\;\\Rightarrow\\; 51-12x_{S}+2x_{S}=16 \\;\\Rightarrow\\; -10x_{S}=-35 \\;\\Rightarrow\\; x_{S}=\\frac{7}{2}.\n$$\n则 $x_{C}=17-4\\cdot \\frac{7}{2}=17-14=3$。计算目标函数值：\n$$\nZ=5\\cdot 3+6\\cdot \\frac{7}{2}=15+21=36.\n$$\n\n比较所有极点处的目标函数值：$0$，$\\frac{80}{3}$，$\\frac{51}{2}$ 和 $36$。\n由于 $36>\\frac{80}{3}$ 且 $36>\\frac{51}{2}$，因此LP松弛问题的最优值为 $36$。", "answer": "$$\\boxed{36}$$", "id": "2209681"}, {"introduction": "当我们初始的松弛解包含非整数值时，分支定界法的核心机制——“分支”——便开始发挥作用。我们将原问题分解为更小、约束更强的子问题，从而逐步逼近整数最优解。这个练习将引导你执行第一次分支操作，通过在一个假设的整数规划问题中对一个非整数变量添加新的约束，来创建并求解两个新的子问题 [@problem_id:2209717]。", "problem": "考虑以下整数规划 (IP) 问题，其中决策变量 $x_1$ 和 $x_2$ 必须为非负整数：\n\n最大化 $Z = 5x_1 + 8x_2$\n约束条件：\n1. $x_1 + x_2 \\le 6$\n2. $5x_1 + 9x_2 \\le 45$\n3. $x_1, x_2 \\ge 0$ 且为整数。\n\n使用分支定界算法来寻找最优整数解。该过程首先求解问题的线性规划 (LP) 松弛（即忽略整数约束）。在得到这个初始 LP 的最优解后，选择解中值为非整数的变量之一进行分支。\n\n假设选择变量 $x_2$ 进行第一步分支。此分支操作创建了两个新的 LP 子问题，它们构成了分支定界搜索树的第一层。设初始 LP 松弛的最优解中 $x_2$ 的值为 $x_2 = x_2^*$。通过向原始 LP 松弛添加以下约束之一来形成两个新的子问题：\n- 子问题 A：$x_2 \\le \\lfloor x_2^* \\rfloor$\n- 子问题 B：$x_2 \\ge \\lceil x_2^* \\rceil$\n\n确定子问题 A 和子问题 B 的 LP 松弛的最优目标函数值。设这些值分别为 $Z_A$ 和 $Z_B$。\n\n将您的答案表示为包含这两个值的行矩阵，顺序为 $[Z_A, Z_B]$。", "solution": "我们首先求解原始问题的 LP 松弛：\n最大化 $Z=5x_{1}+8x_{2}$，约束条件为 $x_{1}+x_{2}\\leq 6$，$5x_{1}+9x_{2}\\leq 45$，$x_{1},x_{2}\\geq 0$。\n\n根据线性规划基本定理，最优解出现在一个极点上。计算两个紧约束的交点：\n$$\n\\begin{aligned}\nx_{1}+x_{2}&=6,\\\\\n5x_{1}+9x_{2}&=45.\n\\end{aligned}\n$$\n将 $x_{1}=6-x_{2}$ 代入第二个方程：\n$$\n5(6-x_{2})+9x_{2}=45 \\;\\Rightarrow\\; 30-5x_{2}+9x_{2}=45 \\;\\Rightarrow\\; 4x_{2}=15 \\;\\Rightarrow\\; x_{2}^{*}=\\frac{15}{4}.\n$$\n因此 $x_{1}^{*}=6-\\frac{15}{4}=\\frac{9}{4}$，LP 最优值为\n$$\nZ^{*}=5\\cdot\\frac{9}{4}+8\\cdot\\frac{15}{4}=\\frac{45}{4}+\\frac{120}{4}=\\frac{165}{4}.\n$$\n由于 $x_{2}^{*}=\\frac{15}{4}$ 是分数，我们对 $x_{2}$ 进行分支：\n子问题 A：$x_{2}\\leq\\left\\lfloor \\frac{15}{4}\\right\\rfloor=3$。\n子问题 B：$x_{2}\\geq\\left\\lceil \\frac{15}{4}\\right\\rceil=4$。\n\n子问题 A (添加 $x_{2}\\leq 3$)：我们在下述区域上最大化 $Z=5x_{1}+8x_{2}$\n$$\nx_{1}+x_{2}\\leq 6,\\quad 5x_{1}+9x_{2}\\leq 45,\\quad x_{2}\\leq 3,\\quad x_{1},x_{2}\\geq 0.\n$$\n由于目标系数为正且 $8>5$，对于 $x_{2}\\leq 3$ 的可行性，最优的选择是取 $x_{2}$ 允许的最大值，即 $x_{2}=3$，然后根据剩余约束最大化 $x_{1}$。当 $x_{2}=3$ 时，\n$$\nx_{1}\\leq 6-3=3,\\qquad 5x_{1}\\leq 45-27=18 \\;\\Rightarrow\\; x_{1}\\leq \\frac{18}{5}.\n$$\n紧约束是 $x_{1}\\leq 3$，所以选择 $(x_{1},x_{2})=(3,3)$，得到\n$$\nZ_{A}=5\\cdot 3+8\\cdot 3=39.\n$$\n沿着 $x_{1}+x_{2}=6$，任何 $x_{2}<3$ 的点都无法改善 $Z$，因为用一单位的 $x_{1}$ 替换一单位的 $x_{2}$ 会使 $Z$ 改变 $5-8=-3<0$；沿着 $5x_{1}+9x_{2}=45$，从 $x_{2}=3$ 开始增加 $x_{1}$ 需要减少 $x_{2}$，其变化为 $dZ=(5-\\frac{40}{9})dx_{1}<5\\,dx_{1}$，但当 $x_{2}=3$ 时满足 $5x_{1}+9x_{2}=45$ 的点违反了 $x_{1}+x_{2}\\leq 6$。因此 $(3,3)$ 是子问题 A 的最优解。\n\n子问题 B (添加 $x_{2}\\geq 4$)：在下述区域上最大化 $Z$\n$$\nx_{1}+x_{2}\\leq 6,\\quad 5x_{1}+9x_{2}\\leq 45,\\quad x_{2}\\geq 4,\\quad x_{1},x_{2}\\geq 0.\n$$\n考虑与 $x_{2}\\geq 4$ 的关键边界交点：\n- 当 $x_{1}=0$ 时，从 $5x_{1}+9x_{2}\\leq 45$ 可得 $x_{2}\\leq 5$，因此 $(0,5)$ 是可行解，得到 $Z=40$。\n- $x_{2}=4$ 与 $5x_{1}+9x_{2}=45$ 的交点给出 $5x_{1}+36=45\\Rightarrow x_{1}=\\frac{9}{5}$，且 $x_{1}+x_{2}=\\frac{9}{5}+4=\\frac{29}{5}\\leq 6$，所以 $(\\frac{9}{5},4)$ 是可行解，其值为\n$$\nZ=5\\cdot\\frac{9}{5}+8\\cdot 4=9+32=41.\n$$\n- $x_{2}=4$ 与 $x_{1}+x_{2}=6$ 的交点给出 $(2,4)$，但 $5\\cdot 2+9\\cdot 4=46>45$，因此是不可行解。\n\n沿着 $5x_{1}+9x_{2}=45$，从 $(0,5)$ 向较小的 $x_{2}$ 移动会增加 $x_{1}$ 并增加 $Z$，因为 $dZ=(5-\\frac{40}{9})dx_{1}=\\frac{5}{9}dx_{1}>0$，直到在 $(\\frac{9}{5},4)$ 处达到下界 $x_{2}=4$。因此 $(\\frac{9}{5},4)$ 是子问题 B 的最优解，其值为\n$$\nZ_{B}=41.\n$$\n\n因此，所求的数对为 $[Z_{A},Z_{B}]=[39,41]$。", "answer": "$$\\boxed{\\begin{pmatrix} 39 & 41 \\end{pmatrix}}$$", "id": "2209717"}, {"introduction": "分支定界法的威力不仅在于系统地“分支”，更在于智能地“定界”与“剪枝”。为了避免不必要的计算，我们需要根据当前找到的最佳整数解（即“现任解”）来判断哪些分支不可能产生更好的结果，并将其剪除。这个练习为你提供了一个具体场景，要求你根据给定的上界和现任解值，决定哪些节点可以被安全地“剪枝”，从而让你掌握提升算法效率的关键技巧 [@problem_id:2209679]。", "problem": "一个运筹学团队正在使用分支定界算法求解一个旨在最大化生产效率的大规模整数规划问题。该效率由一个无量纲分数 $Z$ 来衡量。问题中的变量必须是整数，例如代表要生产的单位数量或分配给某项任务的工人数。\n\n分支定界算法系统地探索由子问题（或称“节点”）构成的搜索树。在算法执行的任何时刻，它都会维持一个“现行解”，即迄今为止找到的最佳有效整数解。当前现行解的效率分数为 $Z_{incumbent} = 50$。\n\n对于搜索树中的每个未探索节点，都会求解该子问题的一个松弛版本（其中变量被允许为非整数），以计算在该树分支内可能找到的最佳整数解的“上界”。\n\n当前，有三个活动节点正在被考虑：\n- 节点A的上界为 $49.8$。\n- 节点B的上界为 $52.1$。\n- 节点C的上界为 $50.0$。\n\n如果可以证明进一步探索某个节点不会产生比当前现行解更优的解，那么该节点就可以被“剪枝”。在该算法的当前阶段，下列哪个活动节点可以被剪枝？\n\nA. 仅节点A\n\nB. 仅节点B\n\nC. 仅节点C\n\nD. 仅节点A和节点C\n\nE. 仅节点B和节点C\n\nF. 所有三个节点", "solution": "在一个分支定界最大化问题中，求解一个节点的松弛问题会得到该节点内任何整数解可达到的目标值的上界。记现行解的目标值为 $Z_{\\text{incumbent}}$。对于任何松弛界为 $U$ 的节点，该节点内的每个可行整数解都满足\n$$\nZ_{\\text{node}}^{\\ast} \\le U.\n$$\n因此，如果 $U \\le Z_{\\text{incumbent}}$，则该节点内不存在比现行解更优的解，因此该节点可以被剪枝。\n\n此处，$Z_{\\text{incumbent}}=50$。评估每个节点：\n\n节点A: $U_{A}=49.8$。由于 $49.8 \\le 50$，它不可能包含比现行解更优的解，因此可以被剪枝。\n\n节点B: $U_{B}=52.1$。由于 $52.1 > 50$，它可能包含比现行解更优的解，因此不能被剪枝。\n\n节点C: $U_{C}=50.0$。由于 $50.0 \\le 50$，它不可能包含比现行解更优的解，因此可以被剪枝。\n\n因此，可以被剪枝的节点仅为节点A和节点C，对应选项D。", "answer": "$$\\boxed{D}$$", "id": "2209679"}]}