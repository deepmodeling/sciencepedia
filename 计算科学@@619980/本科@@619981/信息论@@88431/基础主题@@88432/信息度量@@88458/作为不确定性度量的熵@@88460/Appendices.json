{"hands_on_practices": [{"introduction": "首先，我们来练习香农熵的基本计算。这个练习 [@problem_id:1620545] 将引导你计算一个数据源的熵，其符号的概率分布由一个类似于统计力学中玻尔兹曼分布的假设原理决定。这个练习不仅能巩固你的计算能力，还将揭示信息论中的“信息”与物理学中的“熵”之间深刻的联系。", "problem": "一个数据源（例如监控物理系统的传感器）的简化模型，会从一个包含四种不同类型（标记为 $\\{S_0, S_1, S_2, S_3\\}$）的集合中生成符号。生成符号 $S_i$ 的概率 $P(S_i)$ 遵循一个统计力学原理，其中每种符号类型对应一个离散的能级 $E_i$。概率分布由下式给出：\n$$ P(S_i) = \\frac{1}{Z} \\exp(-\\alpha E_i) $$\n其中 $\\alpha$ 是一个与系统属性相关的正常数，$Z$ 是配分函数，定义为 $Z = \\sum_{j=0}^{3} \\exp(-\\alpha E_j)$。\n这四种符号类型的能级已确定为：\n- $E_0 = 0$\n- $E_1 = \\frac{\\ln(2)}{\\alpha}$\n- $E_2 = \\frac{2\\ln(2)}{\\alpha}$\n- $E_3 = \\frac{2\\ln(2)}{\\alpha}$\n\n计算该数据源的香农熵 $H$。熵衡量的是每个符号的平均不确定性或信息内容。请以比特为单位表示您的答案。在熵的计算中，对数的底数必须为2。", "solution": "给定一个关于四种符号的玻尔兹曼型分布，其能量为 $E_{i}$，概率为 $P(S_{i}) = Z^{-1}\\exp(-\\alpha E_{i})$，其中配分函数为 $Z = \\sum_{j=0}^{3} \\exp(-\\alpha E_{j})$。已知 $E_{0} = 0$，$E_{1} = \\frac{\\ln(2)}{\\alpha}$，$E_{2} = \\frac{2\\ln(2)}{\\alpha}$ 以及 $E_{3} = \\frac{2\\ln(2)}{\\alpha}$，我们计算未归一化的权重 $w_{i} = \\exp(-\\alpha E_{i})$：\n$$\nw_{0} = \\exp(0) = 1,\\quad\nw_{1} = \\exp\\!\\left(-\\alpha\\cdot\\frac{\\ln(2)}{\\alpha}\\right) = \\exp(-\\ln 2) = 2^{-1},\n$$\n$$\nw_{2} = \\exp\\!\\left(-\\alpha\\cdot\\frac{2\\ln(2)}{\\alpha}\\right) = \\exp(-2\\ln 2) = 2^{-2},\\quad\nw_{3} = 2^{-2}.\n$$\n配分函数为\n$$\nZ = w_{0} + w_{1} + w_{2} + w_{3} = 1 + 2^{-1} + 2^{-2} + 2^{-2} = 1 + 2^{-1} + 2\\cdot 2^{-2} = 1 + 2^{-1} + 2^{-1} = 2.\n$$\n因此，概率为\n$$\nP(S_{0}) = \\frac{1}{2},\\quad P(S_{1}) = \\frac{2^{-1}}{2} = \\frac{1}{4},\\quad P(S_{2}) = \\frac{2^{-2}}{2} = \\frac{1}{8},\\quad P(S_{3}) = \\frac{1}{8}.\n$$\n以比特为单位的香农熵为\n$$\nH = -\\sum_{i=0}^{3} P(S_{i})\\,\\log_{2} P(S_{i}) = -\\left[\\frac{1}{2}\\log_{2}\\!\\left(\\frac{1}{2}\\right) + \\frac{1}{4}\\log_{2}\\!\\left(\\frac{1}{4}\\right) + \\frac{1}{8}\\log_{2}\\!\\left(\\frac{1}{8}\\right) + \\frac{1}{8}\\log_{2}\\!\\left(\\frac{1}{8}\\right)\\right].\n$$\n使用 $\\log_{2}(1/2) = -1$, $\\log_{2}(1/4) = -2$ 和 $\\log_{2}(1/8) = -3$，我们得到\n$$\nH = \\frac{1}{2}\\cdot 1 + \\frac{1}{4}\\cdot 2 + 2\\cdot\\frac{1}{8}\\cdot 3 = \\frac{1}{2} + \\frac{1}{2} + \\frac{3}{4} = \\frac{7}{4}.\n$$\n因此，熵为 $\\frac{7}{4}$ 比特。", "answer": "$$\\boxed{\\frac{7}{4}}$$", "id": "1620545"}, {"introduction": "当我们丢失信息时，熵会如何变化？这个动手实践 [@problem_id:1620519] 通过一个简单的场景——将系统中原本可区分的状态合并，使其变得无法分辨——来探讨这个问题。通过计算熵的变化，你将对熵作为不确定性的直接度量有一个更直观的理解：当系统的可区分性降低时，其不确定性也随之降低。", "problem": "一个简化的无线通信网络诊断系统监控传输数据包，并将其分为四个互斥状态之一：{S1, S2, S3, S4}。最初，在正常操作条件下，观测到所有四种状态以相等的概率发生。\n\n为了简化监控过程，进行了一次系统升级。升级后，诊断工具不再区分状态 S3 和 S4。取而代之的是，S3 或 S4 的任何一次出现都会被报告为一个单一的组合状态，我们称之为 S-prime (S')。状态 S1 和 S2 的概率保持不变，而新状态 S' 的概率是 S3 和 S4 原始概率的总和。\n\n系统输出的不确定性由香农熵 (Shannon entropy) $H$ 来量化，其定义为 $H(X) = -\\sum_{i=1}^{n} p(x_i) \\log_2(p(x_i))$，其中 $p(x_i)$ 是第 $i$ 个结果的概率。\n\n计算升级后系统所报告状态的概率分布的熵。答案以比特 (bits) 为单位表示，并四舍五入到四位有效数字。", "solution": "设初始状态集为 $X = \\{S1, S2, S3, S4\\}$。问题陈述这四种状态以相等的概率发生。由于概率总和必须为 1，因此每个状态的概率是：\n$P(S1) = P(S2) = P(S3) = P(S4) = \\frac{1}{4}$。\n\n系统升级后，状态 S3 和 S4 被合并成一个新状态 S'。新的可观察状态集是 $X' = \\{S1, S2, S'\\}$。我们需要确定这个新状态集的概率分布。\n\nS1 和 S2 的概率不变：\n$P_{new}(S1) = P(S1) = \\frac{1}{4}$\n$P_{new}(S2) = P(S2) = \\frac{1}{4}$\n\n新状态 S' 的概率是构成它的原始状态的概率之和：\n$P_{new}(S') = P(S3) + P(S4) = \\frac{1}{4} + \\frac{1}{4} = \\frac{1}{2}$\n\n我们可以检查新概率的总和是否为 1：\n$P_{new}(S1) + P_{new}(S2) + P_{new}(S') = \\frac{1}{4} + \\frac{1}{4} + \\frac{1}{2} = \\frac{2}{4} + \\frac{1}{2} = \\frac{1}{2} + \\frac{1}{2} = 1$。\n所以，新的概率分布是 $p_{new} = \\{\\frac{1}{4}, \\frac{1}{4}, \\frac{1}{2}\\}$。\n\n现在，我们使用香农熵公式 $H = -\\sum_{i} p_i \\log_2(p_i)$ 来计算这个新分布的熵。\n这个和将有三项，对应 $X'$ 中的每个状态。\n\n$$H_{new} = - \\left[ P_{new}(S1) \\log_2(P_{new}(S1)) + P_{new}(S2) \\log_2(P_{new}(S2)) + P_{new}(S') \\log_2(P_{new}(S')) \\right]$$\n\n将概率值代入公式：\n$$H_{new} = - \\left[ \\frac{1}{4} \\log_2\\left(\\frac{1}{4}\\right) + \\frac{1}{4} \\log_2\\left(\\frac{1}{4}\\right) + \\frac{1}{2} \\log_2\\left(\\frac{1}{2}\\right) \\right]$$\n\n为了简化，我们计算对数项：\n$\\log_2\\left(\\frac{1}{4}\\right) = \\log_2(2^{-2}) = -2$\n$\\log_2\\left(\\frac{1}{2}\\right) = \\log_2(2^{-1}) = -1$\n\n现在，将这些值代回熵方程：\n$$H_{new} = - \\left[ \\frac{1}{4}(-2) + \\frac{1}{4}(-2) + \\frac{1}{2}(-1) \\right]$$\n$$H_{new} = - \\left[ -\\frac{2}{4} - \\frac{2}{4} - \\frac{1}{2} \\right]$$\n$$H_{new} = - \\left[ -\\frac{1}{2} - \\frac{1}{2} - \\frac{1}{2} \\right]$$\n$$H_{new} = - \\left[ -\\frac{3}{2} \\right]$$\n$$H_{new} = \\frac{3}{2} = 1.5$$\n\n问题要求答案以比特为单位，并四舍五入到四位有效数字。\n计算值为 1.5。为了以四位有效数字表示，我们将其写为 1.500。", "answer": "$$\\boxed{1.500}$$", "id": "1620519"}, {"introduction": "现在，让我们将对熵的理解应用到一个实际的安全场景中。这个练习 [@problem_id:1620533] 让你扮演一位分析师，评估信息泄露对加密密钥安全性的影响。你的任务是量化当攻击者获得关于密钥的部分信息（具体来说是奇偶校验位）后，该密钥的*剩余*不确定性（即条件熵）。这个练习展示了熵在评估系统安全性和量化信息泄露实际后果方面所扮演的关键角色。", "problem": "一个容错存储系统被设计用于存储一个8比特的加密密钥，该密钥由比特向量 $K = (K_1, K_2, \\dots, K_8)$ 表示。初始时，密钥是从所有可能的 $2^8$ 个比特串中均匀随机选择的。该存储系统有一个内置的检错机制，但由于设计缺陷，它会无意中向潜在的攻击者泄露一些信息。该攻击者不能直接获知任何密钥位，但能够确定前四位和后四位的奇偶性。具体来说，攻击者可以获知两个量的值：$P_1 = K_1 \\oplus K_2 \\oplus K_3 \\oplus K_4$ 和 $P_2 = K_5 \\oplus K_6 \\oplus K_7 \\oplus K_8$，其中 $\\oplus$ 表示异或（XOR）运算。\n\n在给定此信息泄露的情况下，计算密钥 $K$ 的平均剩余熵。答案以比特为单位表示。熵应使用以2为底的对数计算。", "solution": "设 $K=(K_{1},\\dots,K_{8})$ 在 $\\{0,1\\}^{8}$ 上均匀分布，并设 $P_{1}=K_{1}\\oplus K_{2}\\oplus K_{3}\\oplus K_{4}$ 和 $P_{2}=K_{5}\\oplus K_{6}\\oplus K_{7}\\oplus K_{8}$。攻击者获知 $(P_{1},P_{2})$，因此关于 $K$ 的平均剩余不确定性是以2为底的对数的条件熵 $H(K\\,|\\,P_{1},P_{2})$。\n\n使用确定性泄露的恒等式：由于 $(P_{1},P_{2})$ 是 $K$ 的一个确定性函数，我们有 $H(P_{1},P_{2}\\,|\\,K)=0$，因此互信息满足 $I(K;(P_{1},P_{2}))=H(P_{1},P_{2})$。因此，\n$$\nH(K\\,|\\,P_{1},P_{2}) \\;=\\; H(K)-I(K;(P_{1},P_{2})) \\;=\\; H(K)-H(P_{1},P_{2}).\n$$\n因为 $K$ 在 $2^{8}$ 个值上均匀分布，\n$$\nH(K)=\\log_{2}(2^{8})=8.\n$$\n接下来，$P_{1}$ 仅依赖于 $(K_{1},\\dots,K_{4})$，$P_{2}$ 仅依赖于 $(K_{5},\\dots,K_{8})$。在均匀分布下，这两部分是独立的，并且每个奇偶校验位都服从 $\\mathrm{Bernoulli}\\!\\left(\\frac{1}{2}\\right)$ 分布。因此\n$$\nH(P_{1})=-\\sum_{p\\in\\{0,1\\}}\\frac{1}{2}\\log_{2}\\!\\left(\\frac{1}{2}\\right)=1,\\qquad H(P_{2})=1,\n$$\n并且根据独立性可得\n$$\nH(P_{1},P_{2})=H(P_{1})+H(P_{2})=2.\n$$\n所以，\n$$\nH(K\\,|\\,P_{1},P_{2})=8-2=6.\n$$\n\n作为一种计数交叉检验：固定 $(P_{1},P_{2})$ 会对每四位比特组施加一个线性约束，每组剩下 $4-1=3$ 个自由度，因此任何给定的 $(P_{1},P_{2})$ 都对应 $2^{3}\\cdot 2^{3}=2^{6}$ 个可能的密钥。在 $2^{6}$ 种可能性上的均匀后验分布的熵为 $\\log_{2}(2^{6})=6$，与上述结果一致。", "answer": "$$\\boxed{6}$$", "id": "1620533"}]}