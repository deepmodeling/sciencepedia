{"hands_on_practices": [{"introduction": "本节的第一个练习将带您深入探讨 BB84 协议的核心：量子测量的基本原理。当制备基和测量基不匹配时会发生什么？通过计算这种情况下不同测量结果的概率，您将亲身体验为什么窃听者无法在不引入可察觉的扰动的情况下完美地窃取信息 [@problem_id:1651388]。这个练习是理解量子密钥分发安全性的物理基础的关键一步。", "problem": "在 Bennett-Brassard 1984 (BB84) 量子密钥分发协议的一个简化版本中，Alice 和 Bob 交换编码为偏振光子的量子比特。他们约定使用两种测量基：直线基和对角基。\n\n直线基中的态为：\n-   水平偏振，记作 $|0\\rangle$，由向量 $\\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix}$ 表示。\n-   垂直偏振，记作 $|1\\rangle$，由向量 $\\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$ 表示。\n\n对角基中的态为：\n-   对角偏振 (+45°)，记作 $|+\\rangle$，由向量 $\\frac{1}{\\sqrt{2}}\\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix}$ 表示。\n-   反对角偏振 (-45°)，记作 $|-\\rangle$，由向量 $\\frac{1}{\\sqrt{2}}\\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix}$ 表示。\n\n假设 Alice 制备了一个处于水平偏振态 $|0\\rangle$ 的量子比特，并将其发送给 Bob。Bob 不知道 Alice 选择的基，决定使用对角基来测量传入的量子比特。\n\n确定 Bob 的测量结果分别为态 $|+\\rangle$ 和态 $|-\\rangle$ 的概率。这些概率记作 $P(|+\\rangle)$ 和 $P(|-\\rangle)$。从以下选项中选择正确的概率对 $(P(|+\\rangle), P(|-\\rangle))$。\n\nA) $(1, 0)$\n\nB) $(0, 1)$\n\nC) $(\\frac{1}{2}, \\frac{1}{2})$\n\nD) $(\\frac{1}{\\sqrt{2}}, \\frac{1}{\\sqrt{2}})$\n\nE) $(\\frac{1}{4}, \\frac{1}{4})$", "solution": "我们使用玻恩定则：如果制备的态是 $|\\psi\\rangle$ 并且测量投影到 $|\\phi\\rangle$ 上，那么概率为 $P(|\\phi\\rangle)=|\\langle \\phi|\\psi\\rangle|^{2}$。\n\nAlice 制备了 $|\\psi\\rangle=|0\\rangle=\\begin{pmatrix}1 \\\\ 0\\end{pmatrix}$。Bob 在对角基中进行测量，其本征态为\n$$\n|+\\rangle=\\frac{1}{\\sqrt{2}}\\begin{pmatrix}1 \\\\ 1\\end{pmatrix},\\qquad |-\\rangle=\\frac{1}{\\sqrt{2}}\\begin{pmatrix}1 \\\\ -1\\end{pmatrix}.\n$$\n计算振幅：\n$$\n\\langle +|0\\rangle=\\left(\\frac{1}{\\sqrt{2}}\\begin{pmatrix}1 \\\\ 1\\end{pmatrix}\\right)^{\\dagger}\\begin{pmatrix}1 \\\\ 0\\end{pmatrix}=\\frac{1}{\\sqrt{2}}\\begin{pmatrix}1 & 1\\end{pmatrix}\\begin{pmatrix}1 \\\\ 0\\end{pmatrix}=\\frac{1}{\\sqrt{2}},\n$$\n所以\n$$\nP(|+\\rangle)=|\\langle +|0\\rangle|^{2}=\\left|\\frac{1}{\\sqrt{2}}\\right|^{2}=\\frac{1}{2}.\n$$\n类似地，\n$$\n\\langle -|0\\rangle=\\left(\\frac{1}{\\sqrt{2}}\\begin{pmatrix}1 \\\\ -1\\end{pmatrix}\\right)^{\\dagger}\\begin{pmatrix}1 \\\\ 0\\end{pmatrix}=\\frac{1}{\\sqrt{2}}\\begin{pmatrix}1 & -1\\end{pmatrix}\\begin{pmatrix}1 \\\\ 0\\end{pmatrix}=\\frac{1}{\\sqrt{2}},\n$$\n因此\n$$\nP(|-\\rangle)=|\\langle -|0\\rangle|^{2}=\\left|\\frac{1}{\\sqrt{2}}\\right|^{2}=\\frac{1}{2}.\n$$\n因此，正确的概率对是 $\\left(\\frac{1}{2},\\frac{1}{2}\\right)$，对应于选项 C。", "answer": "$$\\boxed{C}$$", "id": "1651388"}, {"introduction": "在前一个练习的基础上，我们现在来模拟一种经典的窃听策略——“拦截-重发”攻击。由于窃听者（通常称为 Eve）不知道 Alice 使用的基，她必须进行猜测，这必然会引起错误。通过计算在这种全面攻击下产生的量子比特错误率（QBER），我们将量化 Eve 的行为如何不可避免地在 Alice 和 Bob 的密钥中留下痕迹，从而使其存在被探测到 [@problem_id:1651422]。这个计算是 QKD 安全性分析中的一个标志性结果。", "problem": "两位物理学家，Alice和Bob，正在测试他们新设计的量子密钥分发（QKD）系统，该系统基于BB84协议运行。在此协议中，Alice向Bob发送量子比特（qubit），用以编码经典比特信息。\n\n编码方案如下：\n- 为了发送经典比特“0”，Alice可以制备一个处于$|0\\rangle$态（来自直线基）或$|+\\rangle = \\frac{1}{\\sqrt{2}}(|0\\rangle + |1\\rangle)$态（来自对角基）的量子比特。\n- 为了发送经典比特“1”，Alice可以制备一个处于$|1\\rangle$态（来自直线基）或$|-\\rangle = \\frac{1}{\\sqrt{2}}(|0\\rangle - |1\\rangle)$态（来自对角基）的量子比特。\n\n对于她发送的每一个量子比特，Alice都会做出两个独立的随机选择：她选择要发送的经典比特（0或1，各有50%的概率），并选择使用的基（直线基或对角基，各有50%的概率）。\n\n一个窃听者Eve对从Alice传输到Bob的每一个量子比特都实施了拦截重发攻击。对于她拦截的每一个量子比特，由于不知道Alice选择的基，Eve会随机选择一个基（直线基或对角基，各有50%的概率）进行测量。然后，她根据自己的测量结果，在她所用的测量基下，制备一个新的量子比特发送给Bob。\n\nBob接收到来自Eve的量子比特，由于不知道Alice或Eve选择的基，他也会随机选择一个基（直线基或对角基，各有50%的概率）进行测量。\n\n在整个量子比特序列传输和测量完毕后，Alice和Bob通过一个公共信道进行通信，以比较他们为每个比特所使用的基。他们丢弃所有他们选择的基不匹配的比特。余下的比特构成了筛选密钥。\n\n计算预期的量子比特错误率（QBER），其定义为Bob的筛选密钥中的一个比特与Alice最初发送的相应比特不匹配的概率。请用小数表示你的答案。", "solution": "设 $X \\in \\{0,1\\}$ 表示Alice的比特，$A \\in \\{\\mathcal{R},\\mathcal{D}\\}$ 表示Alice的基（直线基或对角基），$E \\in \\{\\mathcal{R},\\mathcal{D}\\}$ 表示Eve的基，$B \\in \\{\\mathcal{R},\\mathcal{D}\\}$ 表示Bob的基。设 $Y \\in \\{0,1\\}$ 表示Bob在其选定基下的测量结果所对应的比特。筛选集对应于事件 $S=\\{A=B\\}$。量子比特错误率（QBER）是条件概率\n$$\n\\mathrm{QBER}=P(Y \\neq X \\mid S).\n$$\n根据全概率公式，针对Eve的基是否与Alice的基匹配进行分解：\n$$\nP(Y \\neq X \\mid S)=P(E=A \\mid S)\\,P(Y \\neq X \\mid S,E=A)+P(E \\neq A \\mid S)\\,P(Y \\neq X \\mid S,E \\neq A).\n$$\n因为 $E$ 的选择与 $A$ 和 $B$ 无关，所以对 $S$ 取条件不会改变 $E$ 相对于 $A$ 的分布：\n$$\nP(E=A \\mid S)=\\frac{P(E=A, S)}{P(S)}=\\frac{P(E=A)\\,P(S)}{P(S)}=P(E=A)=\\frac{1}{2},\n$$\n因此 $P(E \\neq A \\mid S)=\\frac{1}{2}$。\n\n评估这两个条件错误概率：\n1) 如果 $E=A$ 且 $S$ 成立（所以 $B=A$），Eve在Alice的基下进行测量，并重新发送该基下相应的本征态。Bob随后在同一基 $A$ 下进行测量，通过对本征态的投影测量，他必然会得到相同的比特。因此\n$$\nP(Y \\neq X \\mid S,E=A)=0.\n$$\n2) 如果 $E \\neq A$ 且 $S$ 成立（所以 $B=A \\neq E$），Eve在共轭基下进行测量。例如，如果Alice发送了$|0\\rangle$（基$\\mathcal{R}$），而Eve在基$\\mathcal{D}$下测量，Eve的结果是$|+\\rangle$或$|-\\rangle$的概率各为$\\frac{1}{2}$，然后她重新发送该状态。Bob在基$\\mathcal{R}$下测量；根据玻恩定则：\n$$\n|\\langle 0|+\\rangle|^{2}=|\\langle 1|+\\rangle|^{2}=|\\langle 0|-\\rangle|^{2}=|\\langle 1|-\\rangle|^{2}=\\left|\\frac{1}{\\sqrt{2}}\\right|^{2}=\\frac{1}{2},\n$$\n所以Bob的测量结果相对于Alice的原始比特是完全随机的。因此\n$$\nP(Y \\neq X \\mid S,E \\neq A)=\\frac{1}{2}.\n$$\n\n综合以上两点，\n$$\n\\mathrm{QBER}=\\left(\\frac{1}{2}\\right)\\cdot 0+\\left(\\frac{1}{2}\\right)\\cdot \\left(\\frac{1}{2}\\right)=\\frac{1}{4}=0.25.\n$$", "answer": "$$\\boxed{0.25}$$", "id": "1651422"}, {"introduction": "一个非零的量子比特错误率（QBER）不仅是潜在窃听的警报，它还直接影响最终安全密钥的生成。本练习将引导您进入 QKD 的后处理阶段，探讨纠错和隐私放大这两个关键步骤。您将推导出一个重要的关系式，它连接了观测到的错误率 $ \\delta $ 与最终可用的安全密钥长度，这突显了在存在噪声和窃听的情况下所必须付出的“信息代价” [@problem_id:1651417]。这个问题中使用的信息泄露模型（例如，纠错泄露 $1.1 \\cdot h_2(\\delta)$ 比特）是一个为了教学目的而设定的假设场景，旨在清晰地展示其基本原理。", "problem": "Alice 和 Bob 正在使用 BB84 量子密钥分发 (QKD) 协议建立一个秘密密钥。在交换量子比特并公开宣布其测量基之后，他们生成了一个长度为 $N$ 的筛选密钥。这个密钥是他们之间共享的一个比特串，但它尚不安全。\n\n由于量子信道的缺陷以及窃听的可能性，Bob 筛选密钥中有一部分比例为 $\\delta$ 的比特与 Alice 相应的比特不同。这被称为量子比特错误率 (QBER)。\n\n为了将他们带有噪声且可能已被窃听的筛选密钥转换为一个长度为 $k$ 的最终完全安全的密钥，他们必须执行两个经典的后处理步骤：\n\n1.  **纠错 (Error Correction)**：为了纠正错误，Alice 和 Bob 必须通过一个公共信道进行通信。他们使用的一种特定纠错协议，对于筛选密钥中的每一位，会泄漏等效于 $1.1 \\cdot h_2(\\delta)$ 比特的信息。\n2.  **隐私放大 (Privacy Amplification)**：为了消除窃听者 Eve 可能获得的任何信息，他们必须缩短其密钥。在能引起 QBER 为 $\\delta$ 的最优拦截重发攻击下，Eve 对筛选密钥的每一位所能获得的最大信息量为 $h_2(\\delta)$ 比特。为确保最终密钥对 Eve 完全保密，他们必须为原始筛选密钥的每一位牺牲掉相应数量的比特。\n\n函数 $h_2(\\delta)$ 是二元熵函数，定义为 $h_2(\\delta) = -\\delta \\log_2(\\delta) - (1-\\delta) \\log_2(1-\\delta)$。\n\n假设为纠错和隐私放大而牺牲的比特是独立的损失，请推导出一个符号表达式，表示 Alice 和 Bob 为了生成一个长度为 $k$ 的最终秘密密钥所必须开始时使用的筛选密钥的最小长度 $N$。你的表达式应以 $k$ 和 $h_2(\\delta)$ 表示。", "solution": "设筛选密钥的长度为 $N$，目标最终密钥的长度为 $k$。令 $h_{2}(\\delta)$ 表示在 QBER $\\delta$ 处计算的二元熵。根据问题陈述：\n- 纠错会使每个筛选比特泄漏 $(1.1) h_{2}(\\delta)$ 比特的信息。将其解释为必须从原始 $N$ 比特中牺牲的比特，则由纠错造成的总损失为 $N \\cdot \\frac{11}{10} h_{2}(\\delta)$ 比特。\n- 隐私放大需要为每个筛选比特牺牲 $h_{2}(\\delta)$ 比特，因此由隐私放大造成的总损失为 $N \\cdot h_{2}(\\delta)$ 比特。\n\n假设这两项牺牲是相加的独立损失，则牺牲的总比特数为\n$$\nN \\left(\\frac{11}{10} h_{2}(\\delta) + h_{2}(\\delta)\\right) \\;=\\; N \\cdot \\frac{21}{10} h_{2}(\\delta).\n$$\n因此，经过这两个步骤后的最终密钥长度 $k$ 满足\n$$\nk \\;=\\; N - N \\cdot \\frac{21}{10} h_{2}(\\delta) \\;=\\; N \\left(1 - \\frac{21}{10} h_{2}(\\delta)\\right).\n$$\n求解所需的最小 $N$ 可得\n$$\nN \\;=\\; \\frac{k}{1 - \\frac{21}{10} h_{2}(\\delta)}.\n$$\n获得正密钥率的一个必要可行性条件是 $1 - \\frac{21}{10} h_{2}(\\delta) > 0$，等效于 $h_{2}(\\delta) < \\frac{10}{21}$。", "answer": "$$\\boxed{\\frac{k}{1 - \\frac{21}{10} h_{2}(\\delta)}}$$", "id": "1651417"}]}