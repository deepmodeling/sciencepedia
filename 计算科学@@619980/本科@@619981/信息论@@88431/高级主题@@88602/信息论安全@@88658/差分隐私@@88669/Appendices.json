{"hands_on_practices": [{"introduction": "理论学习之后，最好的巩固方式莫过于亲手实践。第一个练习将引导你应用拉普拉斯机制，这是一个实现 $\\epsilon$-差分隐私的核心工具。通过为一个关于社交媒体平均使用时长的查询计算必要的噪声规模，你将掌握从确定查询敏感度到应用隐私预算 $\\epsilon$ 的完整流程，这是将差分隐私付诸实践的基础一步。[@problem_id:1618236]", "problem": "一家数字健康研究所正在进行一项关于社交媒体使用的研究。他们从 $N=500$ 名志愿者那里收集数据。对于每位志愿者 $i$，数据库 $D$ 存储一个数字 $d_i$，代表他们自我报告的每天社交媒体使用小时数。为了处理异常值并确保一致性，所有报告的数值都被裁剪到 $[0, H]$ 的范围内，其中允许的每日最大使用量为 $H = 8.0$ 小时。\n\n该研究所希望发布所有志愿者的日均社交媒体使用量。该查询被正式定义为 $f(D) = \\frac{1}{N} \\sum_{i=1}^{N} d_i$。为了保护志愿者的隐私，该研究所不会公布真实的平均值 $f(D)$。取而代之，他们将发布一个隐私化处理后的结果 $\\tilde{f}(D) = f(D) + Y$，其中 $Y$ 是一个随机噪声值。噪声 $Y$ 从一个概率密度函数为 $p(y|b) = \\frac{1}{2b} \\exp\\left(-\\frac{|y|}{b}\\right)$ 的分布中抽取，其中 $b > 0$ 是一个控制噪声量的尺度参数。\n\n该隐私机制必须满足 $\\epsilon$-差分隐私（DP）。$\\epsilon$-DP 保证确保对于任何仅在一名志愿者数据上有所不同的两个数据库 $D$ 和 $D'$（即它们是邻近的），以及对于任何可能的结果集 $\\mathcal{S}$，以下不等式成立：\n$$\n\\text{Pr}[\\tilde{f}(D) \\in \\mathcal{S}] \\le \\exp(\\epsilon) \\cdot \\text{Pr}[\\tilde{f}(D') \\in \\mathcal{S}]\n$$\n给定隐私预算 $\\epsilon = 0.12$，确定尺度参数 $b$ 所需的最小值，以确保平均使用量查询满足 $\\epsilon$-差分隐私。\n\n你的答案，即尺度参数 $b$，请以小时为单位表示，并四舍五入到四位有效数字。", "solution": "我们使用拉普拉斯机制 $\\tilde{f}(D) = f(D) + Y$ 来发布平均值 $f(D) = \\frac{1}{N} \\sum_{i=1}^{N} d_{i}$，其中 $Y$ 的密度函数为 $p(y \\mid b) = \\frac{1}{2b} \\exp\\!\\left(-\\frac{|y|}{b}\\right)$。为了使用拉普拉斯机制确保 $\\epsilon$-差分隐私，尺度参数必须满足\n$$\nb = \\frac{\\Delta_{1} f}{\\epsilon},\n$$\n其中 $\\Delta_{1} f$ 是 $f$ 的全局 $\\ell_{1}$-灵敏度。\n\n计算平均值的灵敏度。对于在单个条目（比如索引 $j$）上不同的邻近数据库 $D$ 和 $D'$，\n$$\n\\left| f(D) - f(D') \\right| = \\left| \\frac{1}{N} \\sum_{i=1}^{N} d_{i} - \\frac{1}{N} \\sum_{i=1}^{N} d_{i}' \\right| = \\frac{1}{N} \\left| \\sum_{i=1}^{N} (d_{i} - d_{i}') \\right| = \\frac{1}{N} \\left| d_{j} - d_{j}' \\right|.\n$$\n由于所有值都被裁剪到 $[0, H]$，我们有 $\\left| d_{j} - d_{j}' \\right| \\leq H$，因此\n$$\n\\Delta_{1} f = \\max_{D \\sim D'} \\left| f(D) - f(D') \\right| \\leq \\frac{H}{N}.\n$$\n通过将一个值设为 $0$ 而另一个值设为 $H$，可以知道这个上界是紧的，因此 $\\Delta_{1} f = \\frac{H}{N}$。\n\n因此，为实现 $\\epsilon$-DP 所需的拉普拉斯尺度为\n$$\nb_{\\min} = \\frac{\\Delta_{1} f}{\\epsilon} = \\frac{H}{N \\epsilon}.\n$$\n代入 $H = 8.0$，$N = 500$ 和 $\\epsilon = 0.12$，\n$$\nb_{\\min} = \\frac{8}{500 \\cdot 0.12} = \\frac{8}{60} = \\frac{2}{15} = 0.133333\\ldots\n$$\n四舍五入到四位有效数字，结果是 $0.1333$ 小时。", "answer": "$$\\boxed{0.1333}$$", "id": "1618236"}, {"introduction": "既然我们已经了解了像拉普拉斯这样的特定分布如何提供隐私保障，一个自然的问题是：是否任何随机噪声都可以达到同样的效果？这个练习是一个思想实验，它挑战我们去思考一个看似更简单的替代方案——均匀分布噪声。通过分析，你将深刻理解为何噪声分布的数学特性（例如其无限的支撑集）对于满足差分隐私的严格定义至关重要。[@problem_id:1618225]", "problem": "在数据隐私领域，一个核心目标是在保护数据集中个人隐私的同时，回答关于该数据集的查询。一个关键的框架被称为$\\epsilon$-差分隐私 ($\\epsilon$-DP)。如果对于任意两个“相邻”的数据库 $D_1$ 和 $D_2$，以及对于任意可能的输出集合 $\\mathcal{S}$，以下不等式成立，那么我们称一个随机化机制 $M$ 满足$\\epsilon$-DP：\n$$ \\text{Pr}[M(D_1) \\in \\mathcal{S}] \\le \\exp(\\epsilon) \\text{Pr}[M(D_2) \\in \\mathcal{S}] $$\n在这里，$\\epsilon$ 是一个小的正实数，称为隐私预算。如果一个数据库可以通过在另一个数据库中添加或删除单个个体的记录来获得，那么这两个数据库被认为是“相邻”的。\n\n考虑一个简单的数据库查询 $f$，它计算数据库中记录的数量。对于此查询，如果 $D_1$ 和 $D_2$ 是相邻数据库（例如，$D_2$ 比 $D_1$ 多一条记录），那么它们的真实计数满足关系 $|f(D_1) - f(D_2)| = 1$。\n\n一位数据科学家提出了一个新的隐私机制，$M_{\\text{uniform}}$。为了响应查询 $f(D)$，该机制计算真实答案 $f(D)$，然后加上一个从连续均匀分布中抽取的随机噪声。具体来说，输出为 $M_{\\text{uniform}}(D) = f(D) + X$，其中 $X$ 是一个随机变量，服从分布 $X \\sim \\text{Uniform}(-c, c)$，对于某个常数 $c > 0$。\n\n研究这个被提出的机制的属性。下列哪个陈述正确地描述了 $M_{\\text{uniform}}$ 机制对于所述的计数查询满足$\\epsilon$-差分隐私的能力？\n\nA. 该机制对任意 $c > 0$ 和任意 $\\epsilon > 0$ 的选择都满足 $\\epsilon$-DP。\n\nB. 只要 $c \\ge \\frac{1}{\\epsilon}$，该机制就满足 $\\epsilon$-DP。\n\nC. 该机制满足 $\\epsilon$-DP，但仅当 $c$ 和 $\\epsilon$ 都足够大时，才对特定的 $(c, \\epsilon)$ 对成立。\n\nD. 对于任意有限的正值 $c$ 和 $\\epsilon$，该机制永远不能满足 $\\epsilon$-DP。", "solution": "我们分析 $M_{uniform}(D)=f(D)+X$，其中 $X\\sim\\text{Uniform}(-c,c)$ 且 $c>0$。对于任何数据库 $D$，其输出的概率密度函数为\n$$\np_{D}(y)=\\frac{1}{2c}\\,\\mathbf{1}\\{y\\in[f(D)-c,\\,f(D)+c]\\},\n$$\n因此其支撑集是区间 $I_{D}=[f(D)-c,\\,f(D)+c]$。\n\n对于计数查询的相邻数据库 $D_{1}$ 和 $D_{2}$，有 $|f(D_{1})-f(D_{2})|=1$。不失一般性地，令 $f(D_{2})=f(D_{1})+1$。那么支撑集为\n$$\nI_{1}=[f(D_{1})-c,\\,f(D_{1})+c],\\quad I_{2}=[f(D_{1})+1-c,\\,f(D_{1})+1+c].\n$$\n\n$\\epsilon$-DP 条件要求对于每个可测集 $\\mathcal{S}$，都有\n$$\n\\Pr[M_{uniform}(D_{1})\\in\\mathcal{S}]\\leq \\exp(\\epsilon)\\,\\Pr[M_{uniform}(D_{2})\\in\\mathcal{S}]。\n$$\n如果存在一个集合 $\\mathcal{S}$，使得 $\\Pr[M_{uniform}(D_{1})\\in\\mathcal{S}]>0$ 但 $\\Pr[M_{uniform}(D_{2})\\in\\mathcal{S}]=0$，那么不等式的右边为零而左边为正，对于任何有限的 $\\epsilon$ 都违反了该不等式。\n\n我们现在为每个 $c>0$ 构造这样一个集合 $\\mathcal{S}$：\n\n- 情况 $c\\geq \\frac{1}{2}$：考虑 $\\mathcal{S}=[f(D_{1})-c,\\,f(D_{1})+1-c)$。这个区间的长度为1，并且满足 $\\mathcal{S}\\subset I_{1}$，因为当 $1\\leq 2c$ 时，有 $f(D_{1})+1-c\\leq f(D_{1})+c$。同时，$\\mathcal{S}$ 严格位于 $I_{2}$ 的左侧，因为 $I_{2}$ 的起始点是 $f(D_{1})+1-c$。因此\n$$\n\\Pr[M_{uniform}(D_{1})\\in\\mathcal{S}]=\\frac{1}{2c}>0,\\quad \\Pr[M_{uniform}(D_{2})\\in\\mathcal{S}]=0,\n$$\n这与 $\\epsilon$-DP 相矛盾。\n\n- 情况 $0<c<\\frac{1}{2}$：区间 $I_{1}$ 和 $I_{2}$ 是不相交的，因为它们的长度 $2c<1$，而它们的中心点相差1。取 $\\mathcal{S}=I_{1}$。那么\n$$\n\\Pr[M_{uniform}(D_{1})\\in\\mathcal{S}]=1,\\quad \\Pr[M_{uniform}(D_{2})\\in\\mathcal{S}]=0,\n$$\n再次与 $\\epsilon$-DP 相矛盾。\n\n在这两种情况下，对于每个有限的 $c>0$，都存在一个可测集 $\\mathcal{S}$ 证明了差分隐私不等式的失效。因此，对于任何有限的正值 $c$ 和 $\\epsilon$，$M_{uniform}$ 都不能满足 $\\epsilon$-DP。\n\n因此，在给定的选项中，正确的陈述是，对于任意有限的正值 $c$ 和 $\\epsilon$，该机制永远不能满足 $\\epsilon$-DP。", "answer": "$$\\boxed{D}$$", "id": "1618225"}, {"introduction": "差分隐私提供了强大的保障，但这种保护并非没有代价，它常常以牺牲数据的“效用”为交换。最后一个练习将量化这种权衡关系。你将计算一个经过差分隐私处理的查询结果变得“无用”（例如，结果无意义或与真实值偏差极大）的概率，从而揭示在现实应用中隐私保护与数据可用性之间需要寻求的微妙平衡。[@problem_id:1618189]", "problem": "一家新的数据分析初创公司正在一个非常小的初步数据库上测试其隐私保护算法。该数据库包含其最初两位客户的年龄：一位是18岁，另一位是82岁。\n\n该公司希望计算数据库中年龄的总和。为了遵守隐私法规，他们决定使用拉普拉斯机制，这是一种实现 $(\\epsilon, 0)$-差分隐私的标准技术。该机制的工作方式是首先计算真实总和，然后添加从拉普拉斯分布中抽取的随机噪声。\n\n过程如下：\n1.  为了计算隐私预算，假设任何个人的年龄首先被裁剪到预定范围 $[0, C]$ 内，其中 $C = 100$ 岁。因此，求和查询的敏感度由该裁剪值确定。\n2.  计算（可能被裁剪的）年龄的真实总和。\n3.  在这个总和上添加噪声 $Z$。噪声 $Z$ 是一个从拉普拉斯分布中抽取的随机变量，其概率密度函数为 $p(z) = \\frac{1}{2b} \\exp\\left(-\\frac{|z|}{b}\\right)$，其中尺度参数为 $b = \\frac{S_f}{\\epsilon}$。此处，$S_f$ 是求和查询的敏感度，$\\epsilon$ 是隐私参数。\n4.  公司选择的隐私参数为 $\\epsilon = 0.5$。\n\n如果查询结果产生一个无意义的值（即小于0），或者其与真实总和的偏差超过100%，则该结果被视为“低效用”。换句话说，对于真实总和 $S$，如果结果 $\\tilde{S}$ 满足 $\\tilde{S} < 0$ 或 $\\tilde{S} > 2S$，则其效用较低。\n\n计算差分隐私年龄总和具有低效用的概率。将您的答案表示为保留三位有效数字的小数。", "solution": "我们首先确定裁剪下求和查询的敏感度。由于每个人的年龄都被裁剪到范围 $[0, C]$ 内且 $C=100$，改变一个人的值最多可以使总和改变 $C$，因此敏感度为 $S_{f}=C$。\n\n真实的（裁剪后的）年龄是 $18$ 和 $82$，都在 $[0,100]$ 范围内，所以真实总和是\n$$\nS=18+82=100.\n$$\n拉普拉斯机制添加了从 $\\mathrm{Laplace}(0,b)$ 分布中抽取的噪声 $Z$，其密度为 $p(z)=\\frac{1}{2b}\\exp\\!\\left(-\\frac{|z|}{b}\\right)$，尺度为\n$$\nb=\\frac{S_{f}}{\\epsilon}=\\frac{C}{\\epsilon}=\\frac{100}{0.5}=200.\n$$\n发布的值是 $\\tilde{S}=S+Z$。如果 $\\tilde{S}<0$ 或 $\\tilde{S}>2S$，则结果效用较低。当 $S=100$ 时，此条件为\n$$\nS+Z<0 \\;\\;\\text{or}\\;\\; S+Z>200 \\quad\\Longleftrightarrow\\quad Z<-100 \\;\\;\\text{or}\\;\\; Z>100 \\quad\\Longleftrightarrow\\quad |Z|>100.\n$$\n因此，低效用的概率为\n$$\n\\mathbb{P}(|Z|>100)=\\mathbb{P}(Z>100)+\\mathbb{P}(Z<-100).\n$$\n对于 $Z\\sim\\mathrm{Laplace}(0,b)$ 和任意 $t\\ge 0$，\n$$\n\\mathbb{P}(Z>t)=\\int_{t}^{\\infty}\\frac{1}{2b}\\exp\\!\\left(-\\frac{z}{b}\\right)\\,dz=\\frac{1}{2}\\exp\\!\\left(-\\frac{t}{b}\\right),\n$$\n并且根据对称性，\n$$\n\\mathbb{P}(Z<-t)=\\frac{1}{2}\\exp\\!\\left(-\\frac{t}{b}\\right).\n$$\n因此，\n$$\n\\mathbb{P}(|Z|>t)=\\exp\\!\\left(-\\frac{t}{b}\\right).\n$$\n设 $t=100$ 和 $b=200$ 得\n$$\n\\mathbb{P}(\\text{low utility})=\\exp\\!\\left(-\\frac{100}{200}\\right)=\\exp(-0.5)\\approx 0.607 \\text{ (to three significant figures)}.\n$$", "answer": "$$\\boxed{0.607}$$", "id": "1618189"}]}