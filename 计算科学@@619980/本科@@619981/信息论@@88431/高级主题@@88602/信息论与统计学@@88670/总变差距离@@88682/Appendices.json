{"hands_on_practices": [{"introduction": "要真正掌握全变差距离，最好的方法是从一个具体的计算开始。这个练习将带你进入一个质量控制的场景，你需要区分两种看似相似但成功概率不同的生产过程。通过计算两个二项分布之间的全变差距离，你不仅能练习核心公式，还能直观地理解这个距离如何量化我们区分两种概率模型的最佳能力 [@problem_id:1664855]。", "problem": "两个相互竞争的制造商，“CircuitSys”和“Logicore”，生产一种特殊类型的逻辑芯片。每个芯片包含3个相同的处理核心。芯片的质量由其包含的无缺陷核心的数量决定。\n\n对于来自CircuitSys的芯片，其3个核心中的每一个无缺陷的独立概率为 $p_C = \\frac{1}{2}$。\n对于来自Logicore的芯片，其3个核心中的每一个无缺陷的独立概率为 $p_L = \\frac{1}{4}$。\n\n设随机变量 $X_C$ 为CircuitSys芯片中无缺陷核心的数量，随机变量 $X_L$ 为Logicore芯片中无缺陷核心的数量。一个质量控制机构想要设计一个二元测试来区分这两家制造商的芯片。该测试需要指定一个结果集合 $A \\subseteq \\{0, 1, 2, 3\\}$，其中结果是无缺陷核心的数量。为了实现两家制造商之间尽可能好的区分，该机构决定选择能使概率的绝对差 $|P(X_C \\in A) - P(X_L \\in A)|$ 最大化的集合 $A$。\n\n计算这个可能的最大差值。将你的答案表示为最简精确分数。", "solution": "设 $X_{C} \\sim \\mathrm{Binomial}(3,\\frac{1}{2})$ 且 $X_{L} \\sim \\mathrm{Binomial}(3,\\frac{1}{4})$。它们的概率质量函数为\n$$\nP_{C}(k)=\\binom{3}{k}\\left(\\frac{1}{2}\\right)^{k}\\left(1-\\frac{1}{2}\\right)^{3-k}=\\binom{3}{k}\\left(\\frac{1}{2}\\right)^{3},\\quad k\\in\\{0,1,2,3\\},\n$$\n$$\nP_{L}(k)=\\binom{3}{k}\\left(\\frac{1}{4}\\right)^{k}\\left(\\frac{3}{4}\\right)^{3-k},\\quad k\\in\\{0,1,2,3\\}.\n$$\n分别计算每个值，\n$$\nP_{C}(0)=\\frac{1}{8},\\quad P_{C}(1)=\\frac{3}{8},\\quad P_{C}(2)=\\frac{3}{8},\\quad P_{C}(3)=\\frac{1}{8},\n$$\n$$\nP_{L}(0)=\\left(\\frac{3}{4}\\right)^{3}=\\frac{27}{64},\\quad P_{L}(1)=3\\cdot\\frac{1}{4}\\cdot\\left(\\frac{3}{4}\\right)^{2}=\\frac{27}{64},\\quad P_{L}(2)=3\\cdot\\left(\\frac{1}{4}\\right)^{2}\\cdot\\frac{3}{4}=\\frac{9}{64},\\quad P_{L}(3)=\\left(\\frac{1}{4}\\right)^{3}=\\frac{1}{64}.\n$$\n设 $d(k)=P_{C}(k)-P_{L}(k)$。则\n$$\nd(0)=\\frac{1}{8}-\\frac{27}{64}=-\\frac{19}{64},\\quad d(1)=\\frac{3}{8}-\\frac{27}{64}=-\\frac{3}{64},\\quad d(2)=\\frac{3}{8}-\\frac{9}{64}=\\frac{15}{64},\\quad d(3)=\\frac{1}{8}-\\frac{1}{64}=\\frac{7}{64}.\n$$\n对任意 $A\\subseteq\\{0,1,2,3\\}$，\n$$\nP(X_{C}\\in A)-P(X_{L}\\in A)=\\sum_{k\\in A}d(k).\n$$\n为了最大化绝对差，选择 $A$ 仅包含那些 $d(k)>0$ 的 $k$（这是达到全变差距离的集合的标准特征）。因此取 $A=\\{2,3\\}$，得到\n$$\n\\max_{A}\\left|P(X_{C}\\in A)-P(X_{L}\\in A)\\right|=\\sum_{k:d(k)>0}d(k)=\\frac{15}{64}+\\frac{7}{64}=\\frac{22}{64}=\\frac{11}{32}.\n$$\n等价地，这等于 $\\frac{1}{2}\\sum_{k=0}^{3}|P_{C}(k)-P_{L}(k)|=\\frac{1}{2}\\cdot\\frac{44}{64}=\\frac{11}{32}$。", "answer": "$$\\boxed{\\frac{11}{32}}$$", "id": "1664855"}, {"introduction": "在我们学会如何计算全变差距离后，一个更深层次的问题是：这个距离度量有何种基本性质？这个练习探讨了当我们对数据进行处理或变换时，分布间的可区分性会发生什么变化。通过对比原始随机变量和经过模运算变换后的随机变量，你将亲手验证信息论中的一个基本原则——数据处理不等式，即对数据的任何操作都不会增加其可区分性 [@problem_id:1664823]。", "problem": "在信息论中，衡量两个概率分布“可区分性”的一种方法是全变差（TV）距离。对于定义在同一离散样本空间 $\\mathcal{A}$ 上的两个概率分布 $P$ 和 $Q$，其全变差距离由以下公式给出：\n$$ \\delta(P, Q) = \\frac{1}{2} \\sum_{a \\in \\mathcal{A}} |P(a) - Q(a)|$$\n\n考虑两个随机变量 $X_1$ 和 $X_2$，它们都从集合 $\\mathcal{X} = \\{0, 1, 2, 3\\}$ 中取值。它们各自的概率质量函数，记为 $P_1(x)$ 和 $P_2(x)$，在下表中给出。\n\n| $x$ | $P_1(x)$ | $P_2(x)$ |\n|:---:|:--------:|:--------:|\n| 0   | 0.4      | 0.2      |\n| 1   | 0.3      | 0.1      |\n| 2   | 0.1      | 0.4      |\n| 3   | 0.2      | 0.3      |\n\n现在，我们通过变换 $Y = X \\pmod 2$ 定义一个新的随机变量 $Y$ 作为 $X$ 的函数。$Y$ 的样本空间是 $\\mathcal{Y} = \\{0, 1\\}$。设 $Q_1(y)$ 和 $Q_2(y)$ 分别是随机变量 $Y_1 = X_1 \\pmod 2$ 和 $Y_2 = X_2 \\pmod 2$ 的概率质量函数。\n\n计算比率 $R = \\frac{\\delta(Q_1, Q_2)}{\\delta(P_1, P_2)}$。将你的最终答案四舍五入到三位有效数字。", "solution": "给定在 $\\mathcal{X}=\\{0,1,2,3\\}$ 上的两个概率质量函数 $P_{1}$ 和 $P_{2}$ 以及全变差距离\n$$\n\\delta(P,Q)=\\frac{1}{2}\\sum_{a\\in\\mathcal{A}}|P(a)-Q(a)|.\n$$\n首先计算 $\\delta(P_{1},P_{2})$：\n$$\n\\sum_{x\\in\\{0,1,2,3\\}}|P_{1}(x)-P_{2}(x)|=|0.4-0.2|+|0.3-0.1|+|0.1-0.4|+|0.2-0.3|.\n$$\n计算每一项，\n$$\n0.2+0.2+0.3+0.1=0.8,\\quad\\text{所以}\\quad \\delta(P_{1},P_{2})=\\frac{1}{2}\\cdot 0.8=0.4.\n$$\n\n定义 $Y=X\\bmod 2$，其样本空间为 $\\mathcal{Y}=\\{0,1\\}$。对于 $Y_{1}=X_{1}\\bmod 2$ 和 $Y_{2}=X_{2}\\bmod 2$，它们的概率质量函数是通过对 $0$（偶数）和 $1$（奇数）的原像求和得到的：\n$$\nQ_{1}(0)=P_{1}(0)+P_{1}(2)=0.4+0.1=0.5,\\quad Q_{1}(1)=P_{1}(1)+P_{1}(3)=0.3+0.2=0.5,\n$$\n$$\nQ_{2}(0)=P_{2}(0)+P_{2}(2)=0.2+0.4=0.6,\\quad Q_{2}(1)=P_{2}(1)+P_{2}(3)=0.1+0.3=0.4.\n$$\n现在计算 $\\delta(Q_{1},Q_{2})$：\n$$\n\\sum_{y\\in\\{0,1\\}}|Q_{1}(y)-Q_{2}(y)|=|0.5-0.6|+|0.5-0.4|=0.1+0.1=0.2,\n$$\n因此\n$$\n\\delta(Q_{1},Q_{2})=\\frac{1}{2}\\cdot 0.2=0.1.\n$$\n\n该比率为\n$$\nR=\\frac{\\delta(Q_{1},Q_{2})}{\\delta(P_{1},P_{2})}=\\frac{0.1}{0.4}=0.25.\n$$\n四舍五入到三位有效数字， $R=0.250$。", "answer": "$$\\boxed{0.250}$$", "id": "1664823"}, {"introduction": "全变差距离的取值范围是从 $0$ 到 $1$，那么当距离达到最大值 $1$ 时，这意味着什么呢？这个练习通过构建两个具有相同期望值但支撑集完全不相交的概率分布来探索这一极限情况。这个思想实验揭示了一个重要的道理：像期望值这样的简单统计量可能会掩盖分布的根本差异，而全变差距离则能精确地捕捉到这种“完全可区分”的特性 [@problem_id:1664827]。", "problem": "设 $P$ 和 $Q$ 是为随机变量 $X$ 定义的两个不同概率分布，其样本空间为 $\\Omega = \\{1, 2, 3, 4\\}$。\n\n这两个分布是根据以下规则构建的：\n1.  概率质量函数 $P(x)$ 仅在子集 $\\{1, 4\\}$ 中的结果上非零，且这两个结果的概率相等。\n2.  概率质量函数 $Q(x)$ 仅在子集 $\\{2, 3\\}$ 中的结果上非零，且这两个结果的概率也相等。\n3.  这两个分布对于随机变量 $X$ 产生相同的期望值，即 $\\mathbb{E}_P[X] = \\mathbb{E}_Q[X]$。\n\n您的任务是计算 $P$ 和 $Q$ 之间的全变差距离。全变差距离定义为 $\\delta(P, Q) = \\frac{1}{2} \\sum_{x \\in \\Omega} |P(x) - Q(x)|$。\n\n请用一个实数表示您的答案。", "solution": "问题要求计算样本空间 $\\Omega = \\{1, 2, 3, 4\\}$ 上的两个概率分布 $P$ 和 $Q$ 之间的全变差距离。我们必须首先根据给定规则确定概率质量函数 $P(x)$ 和 $Q(x)$ 的显式形式。\n\n**第1步：确定概率分布 P。**\n根据规则1，分布 $P$ 仅在 $x=1$ 和 $x=4$ 时具有非零概率。设 $P(1) = p_1$ 和 $P(4) = p_4$。我们被告知这些概率相等，因此 $p_1 = p_4$。其他结果的概率为零：$P(2) = 0$ 且 $P(3) = 0$。\n对于任何有效的概率分布，样本空间上所有概率的总和必须等于1。\n$$ \\sum_{x \\in \\Omega} P(x) = P(1) + P(2) + P(3) + P(4) = 1 $$\n代入已知值和相等条件：\n$$ p_1 + 0 + 0 + p_1 = 1 $$\n$$ 2p_1 = 1 $$\n$$ p_1 = \\frac{1}{2} $$\n因此，$p_1 = P(1) = 1/2$ 且 $p_4 = P(4) = 1/2$。完整的分布 $P$ 是：\n$P = (P(1), P(2), P(3), P(4)) = (\\frac{1}{2}, 0, 0, \\frac{1}{2})$。\n\n**第2步：确定概率分布 Q。**\n根据规则2，分布 $Q$ 仅在 $x=2$ 和 $x=3$ 时具有非零概率。设 $Q(2) = q_2$ 和 $Q(3) = q_3$。我们被告知这些概率相等，因此 $q_2 = q_3$。其他结果的概率为零：$Q(1) = 0$ 且 $Q(4) = 0$。\n概率总和必须为1：\n$$ \\sum_{x \\in \\Omega} Q(x) = Q(1) + Q(2) + Q(3) + Q(4) = 1 $$\n代入已知值和相等条件：\n$$ 0 + q_2 + q_2 + 0 = 1 $$\n$$ 2q_2 = 1 $$\n$$ q_2 = \\frac{1}{2} $$\n因此，$q_2 = Q(2) = 1/2$ 且 $q_3 = Q(3) = 1/2$。完整的分布 $Q$ 是：\n$Q = (Q(1), Q(2), Q(3), Q(4)) = (0, \\frac{1}{2}, \\frac{1}{2}, 0)$。\n\n**第3步：验证期望约束。**\n规则3指出期望值必须相等，$\\mathbb{E}_P[X] = \\mathbb{E}_Q[X]$。我们来验证这一点以进行一致性检查。\n$P$ 的期望值为：\n$$ \\mathbb{E}_P[X] = \\sum_{x \\in \\Omega} x P(x) = 1 \\cdot P(1) + 2 \\cdot P(2) + 3 \\cdot P(3) + 4 \\cdot P(4) $$\n$$ \\mathbb{E}_P[X] = 1 \\cdot \\left(\\frac{1}{2}\\right) + 2 \\cdot (0) + 3 \\cdot (0) + 4 \\cdot \\left(\\frac{1}{2}\\right) = \\frac{1}{2} + 2 = \\frac{5}{2} $$\n$Q$ 的期望值为：\n$$ \\mathbb{E}_Q[X] = \\sum_{x \\in \\Omega} x Q(x) = 1 \\cdot Q(1) + 2 \\cdot Q(2) + 3 \\cdot Q(3) + 4 \\cdot Q(4) $$\n$$ \\mathbb{E}_Q[X] = 1 \\cdot (0) + 2 \\cdot \\left(\\frac{1}{2}\\right) + 3 \\cdot \\left(\\frac{1}{2}\\right) + 4 \\cdot (0) = 1 + \\frac{3}{2} = \\frac{5}{2} $$\n由于 $\\mathbb{E}_P[X] = \\mathbb{E}_Q[X] = 5/2$，我们找到的分布与问题陈述中给出的所有规则都是一致的。\n\n**第4步：计算全变差距离。**\n全变差距离定义为 $\\delta(P, Q) = \\frac{1}{2} \\sum_{x \\in \\Omega} |P(x) - Q(x)|$。我们逐项计算概率的绝对差之和。\n$$ \\sum_{x \\in \\Omega} |P(x) - Q(x)| = |P(1) - Q(1)| + |P(2) - Q(2)| + |P(3) - Q(3)| + |P(4) - Q(4)| $$\n$$ = \\left|\\frac{1}{2} - 0\\right| + \\left|0 - \\frac{1}{2}\\right| + \\left|0 - \\frac{1}{2}\\right| + \\left|\\frac{1}{2} - 0\\right| $$\n$$ = \\frac{1}{2} + \\frac{1}{2} + \\frac{1}{2} + \\frac{1}{2} = 2 $$\n现在，我们将这个和乘以 $1/2$ 来得到全变差距离：\n$$ \\delta(P, Q) = \\frac{1}{2} \\times 2 = 1 $$\n这两个分布之间的全变差距离是 1。", "answer": "$$\\boxed{1}$$", "id": "1664827"}]}