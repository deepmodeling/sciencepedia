{"hands_on_practices": [{"introduction": "本章的第一个练习聚焦于放大转发（Amplify-and-Forward, AF）中继最基本的操作层面。在分析复杂的系统性能之前，我们必须理解中继如何确定其放大水平。这个练习将指导你计算中继为满足特定的发射功率约束所需的电压增益，这是设计和理解任何AF中继系统的关键第一步。[@problem_id:1602718]", "problem": "在一个无线通信系统中，一个源节点 (S) 向一个目的节点 (D) 传输信息。由于距离较远，S 和 D 之间的直连链路不可靠。为了解决这个问题，在它们之间放置了一个放大转发 (AF) 中继节点 (R)。该系统的工作方式如下：源节点以平均功率 $P_S$ 发射信号。该信号通过一个以功率增益 $|h_{SR}|^2$ 为特征的信道传输到中继节点。在中继节点的接收机处，该信号被平均功率为 $N_0$ 的加性高斯白噪声 (AWGN) 所干扰。\n\nAF 中继是一个不解码信号的简单设备。它将接收到的总波形（信号加噪声）通过一个电压增益 $G$ 进行放大。该中继被设计为维持一个恒定的平均发射功率 $P_R$。\n\n给定系统以下参数：\n- 源发射功率, $P_S = 100$ mW\n- 目标中继发射功率, $P_R = 500$ mW\n- 源到中继信道功率增益, $|h_{SR}|^2 = 2.5 \\times 10^{-4}$\n- 中继输入端的平均噪声功率, $N_0 = 1.5 \\times 10^{-5}$ W\n\n计算中继所需的电压增益 $G$。将你的最终答案四舍五入到三位有效数字。", "solution": "中继节点接收到的信号为 $y_{R} = h_{SR} x_{S} + n_{R}$，其中 $E[|x_{S}|^{2}] = P_{S}$ 且 $E[|n_{R}|^{2}] = N_{0}$。因此，中继输入端的平均功率为\n$$\nE[|y_{R}|^{2}] = P_{S} |h_{SR}|^{2} + N_{0}.\n$$\nAF 中继将接收到的波形通过一个电压增益 $G$ 进行缩放，并发送 $x_{R} = G y_{R}$。中继的发射功率为\n$$\nP_{R} = E[|x_{R}|^{2}] = G^{2} E[|y_{R}|^{2}] = G^{2} \\left(P_{S} |h_{SR}|^{2} + N_{0}\\right).\n$$\n为了满足中继功率约束，求解 $G$：\n$$\nG = \\sqrt{\\frac{P_{R}}{P_{S} |h_{SR}|^{2} + N_{0}}}.\n$$\n代入给定值 $P_{S} = 100 \\times 10^{-3}$， $P_{R} = 500 \\times 10^{-3}$， $|h_{SR}|^{2} = 2.5 \\times 10^{-4}$，以及 $N_{0} = 1.5 \\times 10^{-5}$（适用时单位均为瓦特）：\n$$\nP_{S} |h_{SR}|^{2} = (100 \\times 10^{-3})(2.5 \\times 10^{-4}) = 2.5 \\times 10^{-5},\n$$\n$$\nP_{S} |h_{SR}|^{2} + N_{0} = 2.5 \\times 10^{-5} + 1.5 \\times 10^{-5} = 4.0 \\times 10^{-5},\n$$\n$$\nG^{2} = \\frac{0.5}{4.0 \\times 10^{-5}} = \\frac{5 \\times 10^{-1}}{4 \\times 10^{-5}} = \\frac{5}{4} \\times 10^{4} = 1.25 \\times 10^{4},\n$$\n$$\nG = \\sqrt{1.25 \\times 10^{4}} = \\sqrt{12500} = 50 \\sqrt{5} \\approx 111.803\\ldots\n$$\n四舍五入到三位有效数字， $G = 112$。", "answer": "$$\\boxed{112}$$", "id": "1602718"}, {"introduction": "在理解了基本的增益计算之后，我们现在来探讨AF协议的一个关键限制。一个常见的误解是，我们可以通过简单地增加中继的功率来获得任意好的性能。这个思想实验将研究当我们将中继功率推向无穷大时，端到端的信噪比（$SNR$）会发生什么变化，从而揭示第一跳（S-R链路）噪声放大所带来的固有性能上限。[@problem_id:1602697]", "problem": "考虑一个由三个节点组成的无线通信系统：一个源节点 (S)、一个放大转发 (AF) 中继 (R) 和一个目的节点 (D)。源节点意图向目的节点传输信息，但 S-D 之间的直接链路不可用。通信将通过两跳进行：S-R 和 R-D。\n\n源节点以恒定的平均功率 $P_{S}$ 发射信号。从源节点到中继的无线信道功率增益为 $\\gamma_{SR}$。从中继到目的节点的信道功率增益为 $\\gamma_{RD}$。两条链路都受到加性高斯白噪声 (AWGN) 的影响，中继接收端和目的接收端的噪声功率在信号带宽内均为 $N_{0}$。\n\n中继以 AF 模式工作。它接收来自源节点的、被噪声污染的信号。然后，它将整个接收到的信号（信号加噪声）通过一个放大因子 $\\beta$ 进行缩放。选择该因子使得中继的平均发射功率恰好等于一个固定值 $P_{R}$。放大后的信号随后被转发到目的节点。\n\n当中继的发射功率 $P_{R}$ 趋于无穷大时，确定目的节点的端到端信噪比 (SNR) 的渐近值。请用给定参数的解析表达式来表示您的答案。", "solution": "设源节点发射的符号为 $x$，满足 $\\mathbb{E}\\{|x|^{2}\\}=1$。中继接收到的信号为\n$$\ny_{R}=\\sqrt{\\gamma_{SR}P_{S}}\\,x+n_{R},\n$$\n其中 $n_{R}$ 是加性高斯白噪声，满足 $\\mathbb{E}\\{|n_{R}|^{2}\\}=N_{0}$。因此，中继接收到的功率为\n$$\n\\mathbb{E}\\{|y_{R}|^{2}\\}=P_{S}\\gamma_{SR}+N_{0}.\n$$\n中继以因子 $\\beta$ 进行放大并发射 $s_{R}=\\beta y_{R}$。中继功率约束 $\\mathbb{E}\\{|s_{R}|^{2}\\}=P_{R}$ 要求\n$$\n\\beta^{2}=\\frac{P_{R}}{P_{S}\\gamma_{SR}+N_{0}}.\n$$\n\n目的节点接收到的信号为\n$$\ny_{D}=\\sqrt{\\gamma_{RD}}\\,s_{R}+n_{D}=\\sqrt{\\gamma_{RD}}\\,\\beta\\left(\\sqrt{\\gamma_{SR}P_{S}}\\,x+n_{R}\\right)+n_{D},\n$$\n其中 $n_{D}$ 是加性高斯白噪声，满足 $\\mathbb{E}\\{|n_{D}|^{2}\\}=N_{0}$ 且与 $n_{R}$ 独立。目的节点的期望信号功率为\n$$\nP_{\\text{sig}}=\\gamma_{RD}\\beta^{2}\\gamma_{SR}P_{S},\n$$\n总噪声功率为\n$$\nP_{\\text{noise}}=\\gamma_{RD}\\beta^{2}N_{0}+N_{0}.\n$$\n因此，目的节点的端到端信噪比为\n$$\n\\mathrm{SNR}_{\\text{e2e}}=\\frac{\\gamma_{RD}\\beta^{2}\\gamma_{SR}P_{S}}{\\gamma_{RD}\\beta^{2}N_{0}+N_{0}}.\n$$\n代入 $\\beta^{2}=\\frac{P_{R}}{P_{S}\\gamma_{SR}+N_{0}}$ 可得\n$$\n\\mathrm{SNR}_{\\text{e2e}}=\\frac{P_{R}\\gamma_{RD}\\gamma_{SR}P_{S}}{P_{R}\\gamma_{RD}N_{0}+N_{0}\\left(P_{S}\\gamma_{SR}+N_{0}\\right)}.\n$$\n\n为了找到当 $P_{R}\\to\\infty$ 时的渐近行为，将分子和分母同除以 $P_{R}\\gamma_{RD}$：\n$$\n\\mathrm{SNR}_{\\text{e2e}}=\\frac{\\gamma_{SR}P_{S}}{N_{0}+\\frac{N_{0}\\left(P_{S}\\gamma_{SR}+N_{0}\\right)}{P_{R}\\gamma_{RD}}}\\xrightarrow[P_{R}\\to\\infty]{}\\frac{P_{S}\\gamma_{SR}}{N_{0}}.\n$$\n因此，当中继功率无限增大时，端到端信噪比饱和于第一跳的信噪比。", "answer": "$$\\boxed{\\frac{P_{S}\\gamma_{SR}}{N_{0}}}$$", "id": "1602697"}, {"introduction": "基于我们对AF链路的理解，我们现在来解决一个更贴近现实且更复杂的网络设计挑战。在一个具有多个潜在中继路径的网络中，我们如何选择最佳路径？此问题介绍了在多跳AF系统中端到端信噪比的非累加特性，并挑战你通过将问题转化为一种更熟悉的形式来找到最优路径，从而将通信理论与算法思维联系起来。[@problem_id:1602719]", "problem": "您是一名网络架构师，正在为一个远程环境监测系统设计一个稳健的通信链路。该系统由一个基站（节点0）、一个关键的传感器套件（节点5）和四个可用于形成多跳路径的潜在中继站（节点1、2、3和4）组成。\n\n网络中的所有节点都使用放大转发（AF）协议进行操作。在此协议中，中继节点接收信号，放大整个接收到的信号（包括噪声），然后将其重新传输到路径中的下一个节点。每一步的噪声放大过程都会影响总体的端到端信噪比（SNR），这是衡量通信质量的关键指标。\n\n一条路径的端到端信噪比由各个单跳的信噪比决定。设 $\\Gamma_{\\text{path}}$ 为从源头到某个中继的给定路径的端到端信噪比。如果该路径从最后一个中继（节点 $u$）延伸一跳到一个新节点（$v$），则新的端到端信噪比（记为 $\\Gamma_{\\text{path} \\to v}$）由以下关系式给出：\n$$\n\\frac{1}{\\Gamma_{\\text{path} \\to v}} = \\frac{1}{\\Gamma_{\\text{path}}} + \\frac{1}{\\gamma_{uv}} + \\frac{1}{\\Gamma_{\\text{path}} \\cdot \\gamma_{uv}}\n$$\n这里，$\\gamma_{uv}$ 表示从节点 $u$到节点 $v$的直接链路的单跳信噪比。对于从源头（节点 $s$）到第一个中继（节点 $r_1$）的第一跳，路径信噪比就是单跳信噪比，即 $\\Gamma_{s \\to r_1} = \\gamma_{sr_1}$。\n\n可用的单向链路及其对应的单跳信噪比（$\\gamma_{ij}$ 代表从节点 $i$到节点 $j$的链路）已被确定如下：\n- $\\gamma_{01} = 10$\n- $\\gamma_{02} = 5$\n- $\\gamma_{03} = 3$\n- $\\gamma_{13} = 8$\n- $\\gamma_{14} = 4$\n- $\\gamma_{15} = 2.5$\n- $\\gamma_{23} = 2$\n- $\\gamma_{24} = 9$\n- $\\gamma_{35} = 12$\n- $\\gamma_{45} = 6$\n\n您的任务是确定从基站（节点0）到传感器套件（节点5）的最佳多跳路径，以最大限度地提高最终的端到端信噪比。这个最大可能信噪比的值是多少？\n\n将您的最终答案四舍五入到四位有效数字。", "solution": "我们已知，当用一个单跳信噪比为 $\\gamma_{uv}$ 的跳来扩展一条端到端信噪比为 $\\Gamma_{\\text{path}}$ 的路径时，放大转发（AF）的增量信噪比关系为：\n$$\n\\frac{1}{\\Gamma_{\\text{path} \\to v}}=\\frac{1}{\\Gamma_{\\text{path}}}+\\frac{1}{\\gamma_{uv}}+\\frac{1}{\\Gamma_{\\text{path}}\\gamma_{uv}}.\n$$\n整理后，我们得到\n$$\n\\frac{1}{\\Gamma_{\\text{path} \\to v}}=\\frac{\\gamma_{uv}+\\Gamma_{\\text{path}}+1}{\\Gamma_{\\text{path}}\\gamma_{uv}}\n\\quad\\Longrightarrow\\quad\n\\Gamma_{\\text{path} \\to v}=\\frac{\\Gamma_{\\text{path}}\\gamma_{uv}}{\\Gamma_{\\text{path}}+\\gamma_{uv}+1}.\n$$\n定义变换 $T(\\Gamma)=1+\\frac{1}{\\Gamma}$。则\n$$\nT(\\Gamma_{\\text{path} \\to v})=1+\\frac{1}{\\Gamma_{\\text{path} \\to v}}\n=1+\\frac{\\Gamma_{\\text{path}}+\\gamma_{uv}+1}{\\Gamma_{\\text{path}}\\gamma_{uv}}\n=\\frac{(\\Gamma_{\\text{path}}+1)(\\gamma_{uv}+1)}{\\Gamma_{\\text{path}}\\gamma_{uv}}\n=\\left(1+\\frac{1}{\\Gamma_{\\text{path}}}\\right)\\left(1+\\frac{1}{\\gamma_{uv}}\\right).\n$$\n因此，对于任意一条具有单跳信噪比 $\\{\\gamma_{i}\\}$ 的路径，\n$$\nT_{\\text{total}}=\\prod_{i}\\left(1+\\frac{1}{\\gamma_{i}}\\right),\\qquad\n\\Gamma_{\\text{end}}=\\frac{1}{T_{\\text{total}}-1}.\n$$\n因此，最大化 $\\Gamma_{\\text{end}}$ 等价于在从节点0到节点5的所有有向路径上最小化 $T_{\\text{total}}=\\prod_{i}\\left(1+\\frac{1}{\\gamma_{i}}\\right)$。\n\n为每个可用链路计算 $t_{ij}=1+\\frac{1}{\\gamma_{ij}}$，结果表示为精确分数：\n$$\nt_{01}=\\frac{11}{10},\\quad t_{02}=\\frac{6}{5},\\quad t_{03}=\\frac{4}{3},\\quad\nt_{13}=\\frac{9}{8},\\quad t_{14}=\\frac{5}{4},\\quad t_{15}=\\frac{7}{5},\\quad\nt_{23}=\\frac{3}{2},\\quad t_{24}=\\frac{10}{9},\\quad t_{35}=\\frac{13}{12},\\quad t_{45}=\\frac{7}{6}.\n$$\n对从0到5的每条可行路径，计算 $T_{\\text{total}}$ 和 $\\Gamma_{\\text{end}}$：\n- 路径 $0\\to 1\\to 5$：$T=\\frac{11}{10}\\cdot\\frac{7}{5}=\\frac{77}{50}\\Rightarrow \\Gamma=\\frac{1}{\\frac{77}{50}-1}=\\frac{50}{27}\\approx 1.8518518519$。\n- 路径 $0\\to 1\\to 3\\to 5$：$T=\\frac{11}{10}\\cdot\\frac{9}{8}\\cdot\\frac{13}{12}=\\frac{429}{320}\\Rightarrow \\Gamma=\\frac{1}{\\frac{429}{320}-1}=\\frac{320}{109}\\approx 2.9357798165$。\n- 路径 $0\\to 1\\to 4\\to 5$：$T=\\frac{11}{10}\\cdot\\frac{5}{4}\\cdot\\frac{7}{6}=\\frac{77}{48}\\Rightarrow \\Gamma=\\frac{1}{\\frac{77}{48}-1}=\\frac{48}{29}\\approx 1.6551724138$。\n- 路径 $0\\to 2\\to 3\\to 5$：$T=\\frac{6}{5}\\cdot\\frac{3}{2}\\cdot\\frac{13}{12}=\\frac{39}{20}\\Rightarrow \\Gamma=\\frac{1}{\\frac{39}{20}-1}=\\frac{20}{19}\\approx 1.0526315789$。\n- 路径 $0\\to 2\\to 4\\to 5$：$T=\\frac{6}{5}\\cdot\\frac{10}{9}\\cdot\\frac{7}{6}=\\frac{14}{9}\\Rightarrow \\Gamma=\\frac{1}{\\frac{14}{9}-1}=\\frac{9}{5}=1.8$。\n- 路径 $0\\to 3\\to 5$：$T=\\frac{4}{3}\\cdot\\frac{13}{12}=\\frac{13}{9}\\Rightarrow \\Gamma=\\frac{1}{\\frac{13}{9}-1}=\\frac{9}{4}=2.25$。\n\n最大端到端信噪比由路径 $0\\to 1\\to 3\\to 5$ 实现，其值为 $\\Gamma_{\\text{max}}=\\frac{320}{109}\\approx 2.9357798165$。四舍五入到四位有效数字，得到 $2.936$。", "answer": "$$\\boxed{2.936}$$", "id": "1602719"}]}