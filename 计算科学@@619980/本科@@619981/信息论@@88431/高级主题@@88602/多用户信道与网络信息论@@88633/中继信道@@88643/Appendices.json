{"hands_on_practices": [{"introduction": "为了开启我们对中继信道的动手实践，让我们从解码转发（Decode-and-Forward, DF）策略的基石开始。在DF系统中，可达速率从根本上受限于一个瓶颈：要么是中继节点解码源消息的能力，要么是目的节点结合来自源和中继两路信息的能力。这个练习 [@problem_id:1664036] 要求你应用经典的DF速率公式 $R = \\min\\{ I(X; Y_1 | X_1), I(X, X_1; Y) \\}$ 来计算该速率，通过亲手计算并比较链路上两个关键环节的容量，你将对系统性能的决定因素有更深刻的理解。", "problem": "考虑一个离散无记忆中继信道，其中一个信源、一个中继和一个信宿进行通信。信源发送符号 $X$，中继发送符号 $X_1$，中继接收符号 $Y_1$，信宿接收符号 $Y$。所有四个变量 $X, X_1, Y_1, Y$ 的字母表都是二元的，即 $\\{0, 1\\}$。\n\n信道的行为由以下概率规则定义，其中 $\\oplus$ 表示模2加法：\n1.  中继接收到的符号为 $Y_1 = X \\oplus Z_1$，其中 $Z_1$ 是一个随机噪声变量。$Z_1$ 服从参数为 $p_1$ 的伯努利分布，因此 $P(Z_1=1) = p_1$。\n2.  信宿接收到的符号为 $Y = X \\oplus X_1 \\oplus Z_2$，其中 $Z_2$ 是一个随机噪声变量。$Z_2$ 服从参数为 $p_2$ 的伯努利分布，因此 $P(Z_2=1) = p_2$。\n\n噪声变量 $Z_1$ 和 $Z_2$ 彼此统计独立，并且与信道输入 $X$ 和 $X_1$ 统计独立。这种信道结构意味着信道输出的联合条件概率质量函数为 $p(y, y_1 | x, x_1) = p(y_1 | x) p(y | x, x_1)$。\n\n我们考虑一个译码转发（DF）通信协议。对于特定的输入分布选择，该方案的可达速率由公式 $R = \\min \\{ I(X; Y_1 | X_1), I(X, X_1; Y) \\}$ 给出，其中 $I(\\cdot;\\cdot|\\cdot)$ 和 $I(\\cdot;\\cdot)$ 分别表示条件互信息和无条件互信息。信息论计算中使用的所有对数均以2为底。\n\n假设信源输入 $X$ 和中继输入 $X_1$ 被选择为统计独立的，并且两者都在字母表 $\\{0, 1\\}$ 上均匀分布。给定噪声参数 $p_1 = 1/4$ 和 $p_2 = 1/3$，确定可达速率 $R$ 的值。\n\n请将您的最终答案表示为单个闭式解析表达式，单位为“比特/信道使用”。您的表达式可以包含对数和分数，但必须完全化简。", "solution": "我们给定一个二元输入、二元输出的离散无记忆中继信道，其中\n$Y_{1} = X \\oplus Z_{1}$，其中 $Z_{1} \\sim \\mathrm{Bern}(p_{1})$，以及\n$Y = X \\oplus X_{1} \\oplus Z_{2}$，其中 $Z_{2} \\sim \\mathrm{Bern}(p_{2})$。\n输入 $X$ 和 $X_{1}$ 相互独立且都在 $\\{0,1\\}$ 上均匀分布，$Z_{1}, Z_{2}$ 与所有变量都独立。\n\n对于具有独立均匀输入的译码转发方案，可达速率为\n$$\nR = \\min\\{ I(X; Y_{1} \\mid X_{1}),\\ I(X, X_{1}; Y) \\}.\n$$\n\n首先，计算 $I(X; Y_{1} \\mid X_{1})$。\n根据定义，\n$$\nI(X; Y_{1} \\mid X_{1}) = H(Y_{1} \\mid X_{1}) - H(Y_{1} \\mid X, X_{1}).\n$$\n由于 $Y_1$ 仅取决于 $(X, Z_1)$，并且 $(X, Y_1)$ 与 $X_1$ 独立，因此我们有 $H(Y_1 \\mid X_1) = H(Y_1)$ 和 $H(Y_1 \\mid X, X_1) = H(Y_1 \\mid X)$。\n此外，$Y_{1} = X \\oplus Z_{1}$ 是一个交叉概率为 $p_1$ 且输入 $X$ 均匀分布的二进制对称信道（BSC），因此 $Y_1$ 是均匀分布的，并且\n$$\nH(Y_{1}) = 1, \\quad H(Y_{1} \\mid X) = H(Z_{1}) = h_{2}(p_{1}),\n$$\n其中 $h_{2}(p) = -p \\log_{2} p - (1-p)\\log_{2}(1-p)$ 是二元熵函数。因此，\n$$\nI(X; Y_{1} \\mid X_{1}) = 1 - h_{2}(p_{1}).\n$$\n\n接下来，计算 $I(X, X_{1}; Y)$。令 $S = X \\oplus X_{1}$。由于 $X$ 和 $X_{1}$ 是独立且均匀分布的，所以 $S$ 在 $\\{0,1\\}$ 上是均匀分布的。到信宿的信道为\n$$\nY = S \\oplus Z_{2},\n$$\n这是一个交叉概率为 $p_2$ 且输入 $S$ 均匀分布的 BSC。由于 $S$ 是 $(X, X_{1})$ 的一个确定性函数，根据数据处理恒等式可得\n$$\nI(X, X_{1}; Y) = I(S; Y) = 1 - h_{2}(p_{2}).\n$$\n\n因此，\n$$\nR = \\min\\{ 1 - h_{2}(p_{1}),\\ 1 - h_{2}(p_{2}) \\}.\n$$\n当 $p_{1} = \\frac{1}{4}$ 且 $p_{2} = \\frac{1}{3}$ 时，注意到 $h_{2}(p)$ 在 $[0, \\frac{1}{2}]$ 上是增函数，因此 $h_{2}\\!\\left(\\frac{1}{3}\\right) > h_{2}\\!\\left(\\frac{1}{4}\\right)$，我们有\n$$\nR = 1 - h_{2}\\!\\left(\\frac{1}{3}\\right).\n$$\n展开 $h_{2}\\!\\left(\\frac{1}{3}\\right)$，\n$$\nh_{2}\\!\\left(\\frac{1}{3}\\right) = -\\frac{1}{3}\\log_{2}\\!\\left(\\frac{1}{3}\\right) - \\frac{2}{3}\\log_{2}\\!\\left(\\frac{2}{3}\\right)\n= -\\frac{1}{3}(-\\log_{2} 3) - \\frac{2}{3}(1 - \\log_{2} 3)\n= -\\frac{2}{3} + \\log_{2} 3.\n$$\n因此，\n$$\nR = 1 - \\left(-\\frac{2}{3} + \\log_{2} 3\\right) = \\frac{5}{3} - \\log_{2} 3.\n$$\n这就是可达速率，单位为比特/信道使用。", "answer": "$$\\boxed{\\frac{5}{3}-\\log_{2}3}$$", "id": "1664036"}, {"introduction": "在掌握了基本的DF原理之后，我们现在转向一个更实际的场景，该场景涉及加性高斯白噪声（AWGN）信道和协议设计。这个问题 [@problem_id:1664008] 模拟了一个在直接通信和中继辅助通信之间动态切换的系统，这是一种常见的混合策略。你的任务不仅是计算这些模式下的速率，还要考虑如何优化时间资源分配，从而深入了解如何通过平衡不同的传输策略来最大化系统整体性能的工程艺术。", "problem": "一个源节点 (S) 希望向一个目的节点 (D) 传输数据。一个中间中继节点 (R) 可用于辅助传输。节点之间的通信信道被建模为独立的实值加性高斯白噪声 (AWGN) 信道。源节点和中继节点的发射功率分别为 $P_S$ 和 $P_R$。所有接收端（在 R 和 D）都经受相同功率 $N$ 的加性高斯白噪声。从 S 到 D、S 到 R、以及 R 到 D 的信道功率增益分别表示为 $G_{SD}$、$G_{SR}$ 和 $G_{RD}$。\n\n由于处理能力的限制（模拟了中继只能每隔一个传输块辅助一次的情况），该系统采用一种协议，在两种模式之间进行等时交替：\n1.  **直接模式**：源节点直接向目的节点传输。中继节点处于空闲状态。\n2.  **中继模式**：使用一个两阶段的解码转发协议。在第一阶段，源节点向中继节点传输，中继节点必须成功解码该消息。在第二阶段，中继节点对消息进行重新编码并转发给目的节点。源节点在第二阶段保持静默。该模式下两个阶段之间的时间分配被优化以最大化速率。\n\n确定该通信系统的最大平均可達數據速率 $R_{avg}$，作为给定参数的函数。实值 AWGN 信道的容量由 $C = \\frac{1}{2} \\log_2(1 + \\text{SNR})$ 给出，其中 SNR 是信噪比。请用单位 比特/信道使用 来表示你的答案。", "solution": "设信噪比为 $\\gamma$ 的点对点链路的实值 AWGN 容量为 $C(\\gamma)=\\frac{1}{2}\\log_{2}(1+\\gamma)$ 比特/信道使用。对于三条链路，我们定义信噪比\n$$\n\\gamma_{SD}=\\frac{P_{S}G_{SD}}{N},\\quad \\gamma_{SR}=\\frac{P_{S}G_{SR}}{N},\\quad \\gamma_{RD}=\\frac{P_{R}G_{RD}}{N},\n$$\n以及对应的容量\n$$\nC_{SD}=\\frac{1}{2}\\log_{2}\\!\\left(1+\\frac{P_{S}G_{SD}}{N}\\right),\\quad\nC_{SR}=\\frac{1}{2}\\log_{2}\\!\\left(1+\\frac{P_{S}G_{SR}}{N}\\right),\\quad\nC_{RD}=\\frac{1}{2}\\log_{2}\\!\\left(1+\\frac{P_{R}G_{RD}}{N}\\right).\n$$\n\n该协议在直接模式和中继模式之间进行等时交替。\n\n直接模式（占用 $\\frac{1}{2}$ 的时间）：源节点以速率 $C_{SD}$ 直接向目的节点传输。其对平均速率的贡献为\n$$\nR_{\\text{direct,avg}}=\\frac{1}{2}\\,C_{SD}.\n$$\n\n中继模式（占用 $\\frac{1}{2}$ 的时间）：使用一个两阶段的解码转发协议，S-R 阶段的时间分配为 $\\alpha$，R-D 阶段的时间分配为 $(1-\\alpha)$。在这种正交的 DF 设置中，中继模式下支持的端到端速率为\n$$\nR_{\\text{DF}}(\\alpha)=\\min\\{\\alpha\\,C_{SR},\\,(1-\\alpha)\\,C_{RD}\\}.\n$$\n为了在 $\\alpha\\in(0,1)$ 上最大化 $R_{\\text{DF}}(\\alpha)$，我们令两项相等：\n$$\n\\alpha\\,C_{SR}=(1-\\alpha)\\,C_{RD}\\;\\;\\Longrightarrow\\;\\;\\alpha^{\\star}=\\frac{C_{RD}}{C_{SR}+C_{RD}},\n$$\n这得到了最大化的中继模式速率\n$$\nR_{\\text{DF}}^{\\star}=\\alpha^{\\star}C_{SR}=\\frac{C_{SR}C_{RD}}{C_{SR}+C_{RD}}.\n$$\n其对平均速率的贡献为\n$$\nR_{\\text{relay,avg}}=\\frac{1}{2}\\,R_{\\text{DF}}^{\\star}=\\frac{1}{2}\\,\\frac{C_{SR}C_{RD}}{C_{SR}+C_{RD}}.\n$$\n\n因此，最大平均可达数据速率为\n$$\nR_{\\text{avg}}=\\frac{1}{2}C_{SD}+\\frac{1}{2}\\,\\frac{C_{SR}C_{RD}}{C_{SR}+C_{RD}}.\n$$\n代入链路容量并简化，令\n$$\nA=\\log_{2}\\!\\left(1+\\frac{P_{S}G_{SR}}{N}\\right),\\quad B=\\log_{2}\\!\\left(1+\\frac{P_{R}G_{RD}}{N}\\right),\n$$\n这样 $C_{SR}=\\frac{1}{2}A$ 且 $C_{RD}=\\frac{1}{2}B$。那么\n$$\n\\frac{1}{2}\\,\\frac{C_{SR}C_{RD}}{C_{SR}+C_{RD}}=\\frac{AB}{4\\,(A+B)}.\n$$\n因此\n$$\nR_{\\text{avg}}=\\frac{1}{4}\\log_{2}\\!\\left(1+\\frac{P_{S}G_{SD}}{N}\\right)+\\frac{\\log_{2}\\!\\left(1+\\frac{P_{S}G_{SR}}{N}\\right)\\,\\log_{2}\\!\\left(1+\\frac{P_{R}G_{RD}}{N}\\right)}{4\\left[\\log_{2}\\!\\left(1+\\frac{P_{S}G_{SR}}{N}\\right)+\\log_{2}\\!\\left(1+\\frac{P_{R}G_{RD}}{N}\\right)\\right]}.\n$$\n其单位为 比特/信道使用。", "answer": "$$\\boxed{\\frac{1}{4}\\log_{2}\\!\\left(1+\\frac{P_{S}G_{SD}}{N}\\right)+\\frac{\\log_{2}\\!\\left(1+\\frac{P_{S}G_{SR}}{N}\\right)\\,\\log_{2}\\!\\left(1+\\frac{P_{R}G_{RD}}{N}\\right)}{4\\left[\\log_{2}\\!\\left(1+\\frac{P_{S}G_{SR}}{N}\\right)+\\log_{2}\\!\\left(1+\\frac{P_{R}G_{RD}}{N}\\right)\\right]}}$$", "id": "1664008"}, {"introduction": "我们最后的动手实践将处理现实世界无线通信中的一个关键挑战：信道衰落。与我们目前为止考虑的静态信道不同，无线链路的质量会随时间随机波动。这个练习 [@problem_id:1664009] 引入了一个块衰落模型，并要求你计算遍历速率（ergodic rate）——即在所有可能的信道条件下，系统性能的统计平均值。通过完成这个练习，你将掌握在动态、随机的环境中分析系统性能的基本方法。", "problem": "考虑一个由源节点（S）、中继节点（R）和目的节点（D）组成的无线通信系统。通信在经历加性白高斯噪声（AWGN）的慢块衰落信道上进行。该系统采用半双工的解码转发（DF）协议，其中传输过程被划分为两个等长的正交时隙。在第一个时隙，S向R和D广播其消息。在第二个时隙，如果中继成功解码了该消息，它会重新编码并将其转发给D。\n\n链路上的接收信噪比（SNR）取决于随机的信道功率增益。令 $g_{SR}$、$g_{SD}$ 和 $g_{RD}$ 分别为S-R、S-D和R-D链路的信道功率增益。这些增益在一个传输块的持续时间内是恒定的，但在不同块之间独立变化。为了对这种衰落进行建模，我们假设增益遵循一个简单的离散分布。对于每个链路，增益可以以相等的概率（1/2）取两个值中的一个。可能的值为：\n- $g_{SR} \\in \\{0.1, 1.5\\}$\n- $g_{SD} \\in \\{0.2, 0.8\\}$\n- $g_{RD} \\in \\{0.3, 1.0\\}$\n\n源节点的归一化发射信噪比为 $P_S/N_0 = 10$，中继节点的归一化发射信噪比为 $P_R/N_0 = 20$，其中 $P_S$ 和 $P_R$ 是发射功率，$N_0$ 是噪声功率。\n\n对于信道增益 $(g_{SR}, g_{SD}, g_{RD})$ 的一个特定实现，该DF方案的瞬时可达速率（频谱效率）由下式给出：\n$$R = \\frac{1}{2} \\min\\left\\{ \\log_2\\left(1 + \\frac{P_S}{N_0} g_{SR}\\right), \\log_2\\left(1 + \\frac{P_S}{N_0} g_{SD} + \\frac{P_R}{N_0} g_{RD}\\right) \\right\\}$$\n该速率的单位是比特/秒/赫兹（bits/s/Hz）。\n\n计算遍历速率，其定义为瞬时速率 $R$ 在所有可能的信道状态上的统计平均值。将你的最终答案以 bits/s/Hz 为单位表示，并四舍五入到三位有效数字。", "solution": "对于一个给定的信道状态，瞬时DF速率为\n$$\nR=\\frac{1}{2}\\min\\left\\{\\log_{2}\\left(1+\\frac{P_{S}}{N_{0}}g_{SR}\\right),\\ \\log_{2}\\left(1+\\frac{P_{S}}{N_{0}}g_{SD}+\\frac{P_{R}}{N_{0}}g_{RD}\\right)\\right\\},\n$$\n其中 $\\frac{P_{S}}{N_{0}}=10$ 且 $\\frac{P_{R}}{N_{0}}=20$。每个链路上的增益以概率 $\\frac{1}{2}$ 取两个值中的一个，并且各链路之间相互独立，因此总共有 $8$ 种等概率的状态。\n\n首先计算最小值函数中的两个参数：\n- 对于S-R项，由于 $g_{SR}\\in\\{0.1,1.5\\}$，\n$$\n\\log_{2}\\left(1+10g_{SR}\\right)=\n\\begin{cases}\n\\log_{2}(2)=1, & g_{SR}=0.1,\\\\\n\\log_{2}(16)=4, & g_{SR}=1.5.\n\\end{cases}\n$$\n- 对于组合的S-D和R-D项，由于 $g_{SD}\\in\\{0.2,0.8\\}$ 且 $g_{RD}\\in\\{0.3,1.0\\}$，\n$$\n\\log_{2}\\left(1+10g_{SD}+20g_{RD}\\right)\\in\\left\\{\\log_{2}(9),\\ \\log_{2}(15),\\ \\log_{2}(23),\\ \\log_{2}(29)\\right\\},\n$$\n其数值为\n$$\n\\log_{2}(9)=3.169925001442312,\\quad \\log_{2}(15)=3.9068905956085187,\\quad \\log_{2}(23)=4.523561956057013,\\quad \\log_{2}(29)=4.857980995127572.\n$$\n\n现在我们分情况计算 $R$：\n- 如果 $g_{SR}=0.1$，那么 $\\log_{2}(1+10g_{SR})=1$，这个值小于上面四个组合链路的任何一个值。因此，在 $g_{SR}=0.1$ 的四种状态中，每一种状态的速率为\n$$\nR=\\frac{1}{2}\\cdot 1=\\frac{1}{2}.\n$$\n- 如果 $g_{SR}=1.5$，那么 $\\log_{2}(1+10g_{SR})=4$，所以\n$$\nR=\\frac{1}{2}\\min\\left\\{4,\\ \\log_{2}\\left(1+10g_{SD}+20g_{RD}\\right)\\right\\},\n$$\n对于四个 $(g_{SD},g_{RD})$ 组合，可得到：\n$$\n\\begin{aligned}\n(g_{SD},g_{RD})=(0.2,0.3):&\\quad R=\\frac{1}{2}\\log_{2}(9)=1.584962500721156,\\\\\n(0.2,1.0):&\\quad R=\\frac{1}{2}\\cdot 4=2,\\\\\n(0.8,0.3):&\\quad R=\\frac{1}{2}\\log_{2}(15)=1.953445297804259,\\\\\n(0.8,1.0):&\\quad R=\\frac{1}{2}\\cdot 4=2.\n\\end{aligned}\n$$\n\n遍历速率是这 $8$ 种等概率状态的平均值：\n$$\n\\mathbb{E}[R]=\\frac{1}{8}\\left(4\\cdot \\frac{1}{2}+\\left[1.584962500721156+2+1.953445297804259+2\\right]\\right).\n$$\n计算括号内的总和：\n$$\n4\\cdot \\frac{1}{2}=2,\\quad 1.584962500721156+2+1.953445297804259+2=7.538407798525415,\n$$\n所以\n$$\n\\mathbb{E}[R]=\\frac{1}{8}\\left(2+7.538407798525415\\right)=\\frac{9.538407798525415}{8}=1.1923009748156769.\n$$\n四舍五入到三位有效数字，得到 $1.19$ bits/s/Hz。", "answer": "$$\\boxed{1.19}$$", "id": "1664009"}]}