{"hands_on_practices": [{"introduction": "任何编码方案的最终目标都是为了可靠的解码。前缀码的一个关键优势在于它能够实现即时且无歧义的解码，无需特殊的分隔符。本练习让你扮演接收深空探测器信号的地面站工程师，通过一个具体的解码任务，亲手实践将二进制比特流还原为有意义的科学数据的过程，从而掌握前缀码的核心应用。[@problem_id:1619443]", "problem": "一个深空探测器使用一种可变长度二进制编码方案，在将来自四个不同科学仪器的数据传回地球之前对其进行压缩。这些仪器及其对应的二进制码字如下：\n\n- 仪器A (测量阿尔法粒子通量): `0`\n- 仪器B (测量硼同位素比率): `10`\n- 仪器C (测量碳基分子存在): `110`\n- 仪器D (测量尘埃粒子密度): `111`\n\n探测器传输一个代表测量序列的连续比特流。一个地面站接收到以下流：`101100111`。假设没有传输错误，地面站将重建出的仪器读数序列是什么？\n\nA. `BCAD`\n\nB. `BACD`\n\nC. `ADBC`\n\nD. 比特流包含一个无效码字。\n\nE. `B C A A A`", "solution": "我们有一个可变长度的无前缀码，其映射为：A: 0, B: 10, C: 110, D: 111。因为该编码是无前缀的，所以可以通过从左到右扫描比特流，并在每一步取出匹配码字的最短前缀来进行瞬时解码。\n\n从接收到的流 `101100111` 开始。\n\n第1步：读取第一个比特 1；由于没有码字是单独的 1，再读取下一个比特形成 10，这匹配 B。记录 B 并移除前缀 10。剩余流：`1100111`。\n\n第2步：读取 1 然后 11；1 和 11 都不是完整的码字。再读取下一个比特形成 110，这匹配 C。记录 C 并移除 110。剩余流：`0111`。\n\n第3步：第一个比特 0 匹配 A。记录 A 并移除 0。剩余流：`111`。\n\n第4步：接下来的三个比特 111 匹配 D。记录 D 并移除 111。剩余流为空。\n\n重建的序列是 BCAD，对应于选项 A。", "answer": "$$\\boxed{A}$$", "id": "1619443"}, {"introduction": "理解如何使用编码后，下一步自然是学习如何构建一个高效的编码。著名的霍夫曼算法通过优先合并概率最低的符号来构建最优前缀码。为了让你更深刻地理解其“贪心”策略的精髓，本练习设计了一个思想实验：一个“反向”的算法，它总是合并概率最高的符号。通过分析这个错误算法的后果，你将能更好地领悟霍夫-曼编码为何能确保平均码长最短。[@problem_id:1619430]", "problem": "考虑一个离散无记忆信源，其字母表包含四个符号，$\\{S_1, S_2, S_3, S_4\\}$，其出现概率分别为 $P(S_1)=0.5$，$P(S_2)=0.4$，$P(S_3)=0.05$ 和 $P(S_4)=0.05$。一位工程师实现了一种算法，为该信源构造一个二进制前缀码。该算法通过迭代合并节点来构建一个码树。在每一步中，它会识别当前集合中概率最高的两个节点，并将它们合并成一个新的父节点。这个新节点的概率是其子节点概率之和。此过程重复进行，直到所有符号都成为单个树的一部分，根节点的总概率为1。\n\n计算所得编码的平均码长。以比特/符号为单位表示你的答案。", "solution": "我们给定一个二进制前缀码的构造算法，该算法重复地将当前概率最高的两个节点合并，组合成一个其概率为两者之和的父节点。这将生成一个满二叉树；每个符号的码长等于其在最终树中的深度（距离根节点的距离），平均码长计算公式为 $L=\\sum_{i}P(S_{i})\\,\\ell(S_{i})$。\n\n从节点概率的多重集开始：\n$$\\{0.5,\\,0.4,\\,0.05,\\,0.05\\}.$$\n\n步骤1（合并最高的两个）：合并 $0.5$ 和 $0.4$，形成一个概率为 $0.9$ 的节点。\n当前集合：\n$$\\{0.9,\\,0.05,\\,0.05\\}.$$\n这使得 $S_{1}$ 和 $S_{2}$ 在一个子树中成为兄弟节点，目前在该子树中各自的深度为 $1$。\n\n步骤2（合并最高的两个）：合并 $0.9$ 和其中一个 $0.05$ 的节点，形成一个概率为 $0.95$ 的节点。\n当前集合：\n$$\\{0.95,\\,0.05\\}.$$\n这将合并的 $0.05$ 叶子节点置于这个新子树中深度为 $1$ 的位置，并使 $\\{S_{1},S_{2}\\}$ 子树成为其兄弟节点；相对于最终的根节点，它们在下一步中将增加一个层级。\n\n步骤3（合并最高的两个）：合并 $0.95$ 和 $0.05$，形成概率为 $1$ 的根节点。\n\n根据这个构造过程，最终的码长由每个符号通往根节点路径上受合并影响的次数决定：\n- $S_{4}$（直到最后一步才被合并的那个$0.05$）仅在最后一次合并时被连接，所以 $\\ell(S_{4})=1$。\n- 另一个 $0.05$（比如 $S_{3}$）在步骤2中被合并，然后在步骤3中再次被合并，所以 $\\ell(S_{3})=2$。\n- $S_{1}$ 和 $S_{2}$ 在步骤1中被合并，然后它们的父节点在步骤2中被合并，在步骤3中又被合并一次，所以 $\\ell(S_{1})=\\ell(S_{2})=3$。\n\n因此，平均码长为\n$$\nL \\;=\\; 0.5\\cdot 3 \\;+\\; 0.4\\cdot 3 \\;+\\; 0.05\\cdot 2 \\;+\\; 0.05\\cdot 1\n\\;=\\; 1.5 \\;+\\; 1.2 \\;+\\; 0.1 \\;+\\; 0.05\n\\;=\\; 2.85.\n$$\n在两个 $0.05$ 符号之间任何的平局打破方式只会交换它们的码长 $1$ 和 $2$，而平均值保持不变。", "answer": "$$\\boxed{2.85}$$", "id": "1619430"}, {"introduction": "在实际工程问题中，“最优”的定义并非总是“最短码长”，它常常与“最低成本”相关。此练习将霍夫曼编码的思想推广到一个更贴近现实的场景：编码字母表中的不同符号（如脉冲）具有不同的传输成本。你将需要调整基本的贪心策略，以最小化总传输能量成本，而不是码长。这个挑战将展示编码理论在解决带有实际物理约束问题时的灵活性与强大能力。[@problem_id:1619389]", "problem": "一个深空探测器被设计用于监测四种不同的天文现象，我们将其标记为符号 $S_1, S_2, S_3,$ 和 $S_4$。长期观测表明，这些现象以相等的概率发生。为了将其发现传回地球，该探测器使用一个基于两种脉冲的通信系统：一个短脉冲，其传输成本为1个能量单位；一个长脉冲，其传输成本为3个能量单位。\n\n探测器必须将这四个符号编码成这些脉冲的序列。该序列集必须构成一个前缀码，即任何码字都不能是另一个码字的前缀。传输一个符号的成本是其对应码字中脉冲成本的总和。你的任务是确定一个最优前缀码的设计，以最小化每个符号的平均传输成本。\n\n每个符号的最小可能平均传输成本是多少？请以精确小数形式报告你的最终答案。", "solution": "设两种脉冲类型为二进制编码字母表中的字母，其成本分别为 $c_{S}=1$（短）和 $c_{L}=3$（长）。前缀码对应于一棵有根二叉树，其中每条到子节点的边都会将相应的脉冲成本加到路径上，每个叶节点对应于一个码字，其成本等于其路径上所有边的成本之和。对于四个等概率的符号，平均传输成本等于四个叶节点成本之和除以 $4$。因此，我们必须最小化四个叶节点的成本之和。\n\n从成本为 $0$ 的根节点作为一个单独的叶节点开始。为了得到一个有 $4$ 个叶节点的码，迭代地将一个叶节点替换为其两个子节点。如果我们将一个成本为 $c$ 的叶节点扩展为其两个子节点（成本为 $c+1$ 和 $c+3$），则叶节点总成本之和从 $T$ 变为\n$$\nT' \\;=\\; T - c + (c+1) + (c+3) \\;=\\; T + c + 4.\n$$\n因此，在每一步中，为了最小化总成本的增加量，我们应该扩展当前成本最低的叶节点。这个贪心法则是最优的，可以通过交换论证来证明：任何偏离这个规则，转而扩展一个更昂贵的叶节点的做法，都会使 $T'$ 增加一个更大的量。\n\n执行贪心构造，直到有 $4$ 个叶节点：\n\n1) 从一个叶节点开始：$\\{0\\}$。\n扩展 $0 \\to \\{1,3\\}$。叶节点：成本 $\\{1,3\\}$；总和 $=4$。\n\n2) 扩展成本最低的叶节点 $1 \\to \\{2,4\\}$。叶节点：$\\{2,3,4\\}$；总和 $=9$。\n\n3) 扩展成本最低的叶节点 $2 \\to \\{3,5\\}$。叶节点：$\\{3,3,4,5\\}$；总和 $=15$。\n\n现在我们得到了 $4$ 个叶节点，其最小可能总成本为 $15$，所以最小平均成本是\n$$\n\\frac{15}{4} \\;=\\; 3.75.\n$$\n我们也可以通过可行性约束来确认其最优性：要优于 $15$，我们需要一个总和 $\\leq 14$，例如 $\\{3,3,4,4\\}$。成本为 $3$ 的叶节点只有 $L$ 和 $SSS$，根据前缀约束，同时选择这两个码字将迫使我们排除 $LS$ 和 $SSSS$，这样最多只剩下一个成本为 $4$ 的叶节点 ($SL$)，而第四个叶节点的成本至少为 $5$ (例如 $SSL$)，得到的总和为 $15$。因此，不可能实现低于 $15$ 的总和，我们构造的码是最优的。所以，每个符号的最小可能平均传输成本是 $3.75$。", "answer": "$$\\boxed{3.75}$$", "id": "1619389"}]}