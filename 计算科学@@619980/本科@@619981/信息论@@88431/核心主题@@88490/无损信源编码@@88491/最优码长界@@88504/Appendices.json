{"hands_on_practices": [{"introduction": "在讨论“最优”编码之前，我们必须首先确定一组给定的码长是否能够构成一个有效的前缀码。本练习聚焦于这一存在性的基本检验方法：克拉夫特不等式。我们将通过计算克拉夫特和，来检验一组给定的码长在不同大小的字母表下的有效性，从而为后续更复杂的分析奠定基础。[@problem_id:1605839]", "problem": "一个通信工程师团队正在为一架自主无人机的一小组控制信号开发一种新的编码方案。有三个不同的信号需要编码：`ARM`、`TAKEOFF` 和 `LAND`。所提出的编码方案分别为这些信号分配了长度为 $l_1=1$、$l_2=2$ 和 $l_3=2$ 的码字。\n\n该团队正在讨论两种用于发射机的不同硬件实现方式。\n1.  一个**二进制**系统，它使用的字母表大小为 $D_A=2$（例如，符号 '0' 和 '1'）。\n2.  一个**三进制**系统，它使用的字母表大小为 $D_B=3$（例如，符号 '0'、'1' 和 '2'）。\n\n为了评估所选的码字长度集对每种字母表潜能的利用紧凑程度，他们分析了一个量 $K_D = \\sum_{i=1}^{3} D^{-l_i}$，其中 $D$ 是字母表的大小，$\\{l_i\\}$ 是码字长度。对于给定的长度，$K_D$ 的值越小，表示编码的“饱和度”越低。\n\n计算这个量在二进制系统中的值 $K_A$ 和在三进制系统中的值 $K_B$。将你的最终答案表示为一个行矩阵 $\\begin{pmatrix} K_A & K_B \\end{pmatrix}$。", "solution": "给定三个码字长度 $l_{1}=1$、$l_{2}=2$、$l_{3}=2$，以及利用率度量\n$$\nK_{D}=\\sum_{i=1}^{3}D^{-l_{i}}。\n$$\n对于字母表大小为 $D_{A}=2$ 的二进制系统，我们计算\n$$\nK_{A}=2^{-1}+2^{-2}+2^{-2}=\\frac{1}{2}+\\frac{1}{4}+\\frac{1}{4}=1。\n$$\n对于字母表大小为 $D_{B}=3$ 的三进制系统，我们计算\n$$\nK_{B}=3^{-1}+3^{-2}+3^{-2}=\\frac{1}{3}+\\frac{1}{9}+\\frac{1}{9}=\\frac{5}{9}。\n$$\n因此，所求的行矩阵是 $\\begin{pmatrix} 1 & \\frac{5}{9} \\end{pmatrix}$。", "answer": "$$\\boxed{\\begin{pmatrix} 1 & \\frac{5}{9} \\end{pmatrix}}$$", "id": "1605839"}, {"introduction": "在实际应用中，我们通常从信源的概率分布出发来设计编码。这个练习将理论与实践联系起来，指导我们使用香农编码公式来确定一组优秀的整数码长。接着，我们将运用之前练习过的克拉夫特不等式，来验证这些码长是否确实可以构建一个有效的前缀码。[@problem_id:1605809]", "problem": "一颗遥感气象卫星监测大气状况，并传输一份每日报告，对主要的云层覆盖状态进行分类。源字母表包含四个符号：'Clear'（晴朗）、'Partly Cloudy'（少云）、'Mostly Cloudy'（多云）和 'Overcast'（阴天）。这些状态的概率关系如下：\n- ‘晴朗’天的概率恰好是 $1/4$。\n- ‘少云’天的概率是在考虑了‘晴朗’天后剩余概率的一半。\n- 剩余的概率在‘多云’和‘阴天’之间分配，使得‘多云’天的可能性是‘阴天’天的两倍。\n\n为了压缩这些数据以进行传输，设计了一种唯一可译二进制码。对应于第 $i$ 个符号（概率为 $p_i$）的码字长度 $l_i$ 使用香农编码方法确定，由公式 $l_i = \\lceil -\\log_2 p_i \\rceil$ 给出。\n\n以下哪个陈述准确描述了码字长度的集合和所得代码的属性？长度集合以无序方式给出。\n\nA. 长度为 $\\{2, 2, 2, 3\\}$。可以构造一个有效的前缀码，其平均长度为 $2.125$ 比特/符号。\n\nB. 长度为 $\\{1, 2, 2, 3\\}$。无法用这些长度构造有效的前缀码。\n\nC. 长度为 $\\{2, 2, 2, 3\\}$。无法用这些长度构造有效的前缀码。\n\nD. 长度为 $\\{1, 2, 3, 4\\}$。可以构造一个有效的前缀码，其平均长度为 $2.125$ 比特/符号。\n\nE. 长度为 $\\{2, 2, 2, 2\\}$。可以构造一个有效的前缀码，其平均长度为 $2.0$ 比特/符号。", "solution": "设四个符号为晴朗 (C)、少云 (P)、多云 (M) 和阴天 (O)，其概率分别为 $p_{C}$、$p_{P}$、$p_{M}$ 和 $p_{O}$。\n\n给定 $p_{C} = \\frac{1}{4}$。剩余概率为 $1 - p_{C} = \\frac{3}{4}$。题目说明 $p_{P}$ 是剩余概率的一半，所以\n$$\np_{P} = \\frac{1}{2}\\left(1 - p_{C}\\right) = \\frac{1}{2} \\cdot \\frac{3}{4} = \\frac{3}{8}.\n$$\n剩下的概率 $p_{M} + p_{O} = 1 - p_{C} - p_{P} = 1 - \\frac{1}{4} - \\frac{3}{8} = \\frac{3}{8}$，在 $p_{M} = 2 p_{O}$ 的条件下进行分配。求解\n$$\np_{M} + p_{O} = 3 p_{O} = \\frac{3}{8} \\implies p_{O} = \\frac{1}{8}, \\quad p_{M} = \\frac{1}{4}.\n$$\n因此，概率为 $\\left\\{\\frac{1}{4}, \\frac{3}{8}, \\frac{1}{4}, \\frac{1}{8}\\right\\}$。\n\n使用香农编码，$l_{i} = \\lceil -\\log_{2} p_{i} \\rceil$：\n- 对于 $p = \\frac{1}{4} = 2^{-2}$，$-\\log_{2} p = 2 \\implies l = 2$。\n- 对于 $p = \\frac{3}{8}$，$-\\log_{2}\\left(\\frac{3}{8}\\right) = \\log_{2}\\left(\\frac{8}{3}\\right) = 3 - \\log_{2} 3$。因为 $1 < \\log_{2} 3 < 2$，所以有 $1 < 3 - \\log_{2} 3 < 2$，因此 $\\lceil 3 - \\log_{2} 3 \\rceil = 2$。\n- 对于 $p = \\frac{1}{8} = 2^{-3}$，$-\\log_{2} p = 3 \\implies l = 3$。\n\n因此，长度的多重集为 $\\{2, 2, 2, 3\\}$。\n\n为检查前缀码的可行性，应用克拉夫特不等式：\n$$\n\\sum_{i} 2^{-l_{i}} = 3 \\cdot 2^{-2} + 2^{-3} = \\frac{3}{4} + \\frac{1}{8} = \\frac{7}{8} \\leq 1,\n$$\n所以存在有效的前缀码。\n\n平均码字长度为\n$$\n\\bar{L} = \\sum_{i} p_{i} l_{i} = \\left(\\frac{1}{4}\\right) 2 + \\left(\\frac{3}{8}\\right) 2 + \\left(\\frac{1}{4}\\right) 2 + \\left(\\frac{1}{8}\\right) 3 = \\frac{1}{2} + \\frac{3}{4} + \\frac{1}{2} + \\frac{3}{8} = \\frac{17}{8} = 2.125.\n$$\n这与陈述 A 相符：长度为 $\\{2,2,2,3\\}$，存在有效的前缀码，平均长度为 $2.125$ 比特/符号。所有其他选项都与计算出的长度或属性不一致。", "answer": "$$\\boxed{A}$$", "id": "1605809"}, {"introduction": "克拉夫特不等式 $\\sum D^{-l_i} \\leq 1$ 保证了前缀码的存在性，但并不能保证其最优性。最后的这个练习将探讨一个更深层次的最优性条件。我们将分析一组特定的码长，并在不知道信源概率的情况下，论证为何它永远无法构成最优码，从而揭示所有最优前缀码所共有的一个关键结构特性。[@problem_id:1605827]", "problem": "在数据压缩领域，一个基本目标是为给定的信息源找到一个最优前缀码。前缀码是一种没有任何码字是另一个码字前缀的编码，而最优码是在给定源符号概率分布下，具有最小可能平均码长的前缀码。\n\n一位工程师正在为一个产生五种不同符号的数据源设计一个二进制前缀码。一位同事建议使用一组码长由集合 $L = \\{1, 3, 4, 5, 5\\}$ 给出的编码。该工程师声称这种编码永远不可能是最优的。也就是说，对于这五个源符号的任何可能概率分布，必然存在另一种具有严格更小平均码长的前缀码。\n\n下列哪个陈述为工程师的论断提供了最严谨和正确的理由？\n\nA. 码长集合 $L$ 不满足克拉夫特不等式，而这是任何前缀码存在的必要条件。\n\nB. 最优码必须将较短的码字分配给概率较高的符号，而像 $L$ 这样具有重复码长的编码无法保证这一性质。\n\nC. 对应于这些码长的编码树必须至少包含一个只有一个子节点的内部节点，这种结构总能被改进以创建一个平均长度更小的编码。\n\nD. 对于任何有效的概率分布，可以构造一个码长集合为 $L' = \\{2, 2, 3, 4, 4\\}$ 的不同前缀码，并且在数学上保证这个新编码会产生更低的平均码长。\n\nE. 码长之和 $1+3+4+5+5=18$ 不是2的幂，而这是最优二进制码的一个必要属性。", "solution": "我们考虑一个二进制前缀码，其码长为 $l_{1},\\dots,l_{n}$，对于一个符号概率为 $p_{1},\\dots,p_{n}$ 的信源（其中 $\\sum_{i=1}^{n} p_{i}=1$ 且 $p_{i}\\ge 0$），其平均码长为 $L=\\sum_{i=1}^{n} p_{i} l_{i}$。具有给定码长的前缀码的存在性要求满足克拉夫特不等式\n$$\n\\sum_{i=1}^{n} 2^{-l_{i}} \\le 1.\n$$\n此外，一个众所周知的结构性质是，前缀码可以由一棵有根二叉树表示，其叶子节点对应于码字，并且当且仅当克拉夫特和等于1时，这棵树是满的（即每个内部节点恰好有两个子节点）。如果克拉夫特和严格小于1，则对应的树不可能是满的，这意味着至少存在一个只有一个子节点的内部节点（一个单分支内部节点）。\n\n对于提议的集合 $L=\\{1,3,4,5,5\\}$，其克拉夫特和为\n$$\n2^{-1}+2^{-3}+2^{-4}+2^{-5}+2^{-5}=\\frac{1}{2}+\\frac{1}{8}+\\frac{1}{16}+\\frac{1}{32}+\\frac{1}{32}=\\frac{24}{32} <1.\n$$\n因此，克拉夫特不等式成立（所以选项A作为理由是错误的），但其和严格小于1。因此，任何实现这些码长的编码树都不可能是满的；它必须至少包含一个只有一个子节点的内部节点。\n\n我们现在来证明，为什么任何其编码树中含有只有一个子节点的内部节点的前缀码，对于任何概率分布都是严格次优的。假设 $v$ 是这样一个单分支内部节点， $u$ 是其唯一的子节点， $S$ 是以 $u$ 为根的子树中的叶子节点集合。考虑这样一个操作：移除边 $(v,u)$ 并将 $u$ 合并到 $v$ 中，从而将 $S$ 中的每个码字的长度都减少1比特，而所有其他码字保持不变。无前缀性质得以保持，因为被移除的边仅被 $S$ 中的所有码字遍历，并且在 $v$ 缺失的兄弟子树中没有码字。将新的码长记为 $l_{i}'$：\n$$\nl_{i}'=\\begin{cases}\nl_{i}-1, & \\text{如果第 $i$ 个码字在 } S \\text{ 中,}\\\\\nl_{i}, & \\text{否则.}\n\\end{cases}\n$$\n因此，新的平均长度是\n$$\nL'=\\sum_{i=1}^{n} p_{i} l_{i}'=\\sum_{i=1}^{n} p_{i} l_{i}-\\sum_{i\\in S} p_{i}=L-\\sum_{i\\in S} p_{i}.\n$$\n因为 $S$ 中的叶子节点对应于实际的源符号，并且 $\\sum_{i=1}^{n} p_{i}=1$，所以至少有一个 $i\\in S$ 对应的 $p_{i}$ 是严格为正的，因此\n$$\n\\sum_{i\\in S} p_{i}>0 \\quad \\Rightarrow \\quad L'<L.\n$$\n因此，任何具有单分支内部节点的编码对于任何概率分布都是可以严格改进的，因此不可能是最优的。\n\n将这个结论应用于 $L=\\{1,3,4,5,5\\}$：由于克拉夫特和严格小于1，对应的编码树必须至少有一个单分支内部节点，因此如上所述，它是可以严格改进的。这提供了一个严谨的、与分布无关的理由，证明了任何具有这些码长的编码都不可能是最优的。这正是选项C的内容。\n\n为完整起见：\n- A 是不正确的，因为克拉夫特不等式是满足的。\n- B 不是一个严谨的理由：重复的码长并不排除最优性。\n- D 是错误的，因为对于所有分布，$\\{2,2,3,4,4\\}$ 并不一致地优于 $\\{1,3,4,5,5\\}$；例如，高度倾斜的分布会偏好长度为1的码字。\n- E 是不正确的；最优性的一个必要条件是克拉夫特等式 $\\sum 2^{-l_{i}}=1$ 成立，而不是码长之和是2的幂。\n\n因此，最严谨和正确的理由是C。", "answer": "$$\\boxed{C}$$", "id": "1605827"}]}