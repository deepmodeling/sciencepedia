{"hands_on_practices": [{"introduction": "让我们从算术编码的核心过程——编码——开始。这个练习将引导你一步步地演练核心算法。通过亲手计算一个符号序列如何递归地将一个区间缩窄，你将具体地理解算术编码是如何将整个消息映射为一个小数的 [@problem_id:1602900]。", "problem": "算术编码是一种强大的数据压缩技术，它将整个符号序列表示为区间 $[0, 1)$ 内的一个分数。考虑一个来自行星探测器的遥测数据的简化信源模型。该信源从字母表 $\\{A, B, C\\}$ 中发出符号，其固定概率如下：$P(A) = 0.5$，$P(B) = 0.3$ 和 $P(C) = 0.2$。\n\n算术编码算法从区间 $[0, 1)$ 开始，并根据输入序列中的符号逐步缩小该区间。对于输入序列 'BCA'，确定表示此序列的最终区间 $[L, H)$。\n\n提供最终区间的下界 $L$ 和上界 $H$ 的精确十进制值。", "solution": "算术编码从完整区间 $[0,1)$ 开始，并使用信源模型逐步精化它。令 $L$ 和 $H$ 表示当前区间的下界和上界，令 $W = H - L$ 为当前区间的宽度。对于一个符号 $s$，其累积分布函数为 $F(s)$（直到但不包括 $s$ 的累积概率），概率为 $p(s)$，其更新规则为\n$$\nL' = L + W \\, F(s), \\quad H' = L + W \\, \\big(F(s) + p(s)\\big).\n$$\n使用给定的概率 $P(A) = 0.5$，$P(B) = 0.3$，$P(C) = 0.2$，按 $\\{A,B,C\\}$ 顺序的累积范围是：\n$$\nA: [0, 0.5), \\quad B: [0.5, 0.8), \\quad C: [0.8, 1).\n$$\n从 $[L_{0}, H_{0}) = [0, 1)$ 开始，所以 $W_{0} = 1$。\n\n对于第一个符号 $B$，我们有 $F(B) = 0.5$ 和 $p(B) = 0.3$。因此，\n$$\nL_{1} = 0 + 1 \\cdot 0.5 = 0.5, \\quad H_{1} = 0 + 1 \\cdot (0.5 + 0.3) = 0.8,\n$$\n所以区间为 $[0.5, 0.8)$，宽度为 $W_{1} = 0.3$。\n\n对于第二个符号 $C$，我们有 $F(C) = 0.8$ 和 $p(C) = 0.2$。使用 $L_{1} = 0.5$ 和 $W_{1} = 0.3$：\n$$\nL_{2} = 0.5 + 0.3 \\cdot 0.8 = 0.74, \\quad H_{2} = 0.5 + 0.3 \\cdot 1 = 0.8,\n$$\n所以区间为 $[0.74, 0.8)$，宽度为 $W_{2} = 0.06$。\n\n对于第三个符号 $A$，我们有 $F(A) = 0$ 和 $p(A) = 0.5$。使用 $L_{2} = 0.74$ 和 $W_{2} = 0.06$：\n$$\nL_{3} = 0.74 + 0.06 \\cdot 0 = 0.74, \\quad H_{3} = 0.74 + 0.06 \\cdot 0.5 = 0.77.\n$$\n因此，表示序列 'BCA' 的最终区间是 $[0.74, 0.77)$。作为一致性检查，最终宽度为 $0.77 - 0.74 = 0.03$，这与预期的 $1 \\cdot 0.3 \\cdot 0.2 \\cdot 0.5$ 相等。", "answer": "$$\\boxed{\\begin{pmatrix}0.74 & 0.77\\end{pmatrix}}$$", "id": "1602900"}, {"introduction": "你已经了解了如何编码消息，现在让我们来探索其逆过程：解码。这个练习将展示接收方如何仅根据一个小数来重构原始的符号序列 [@problem_id:1602946]。完成这个练习将巩固你对编码和解码之间对称关系的理解，并让你明白共享的概率模型是如何实现无损数据恢复的。", "problem": "一个无损数据压缩系统被设计用于从一个远程环境传感器传输实时数据。传感器的输出是三种可能的状态之一，由集合 $\\{S_1, S_2, S_3\\}$ 中的符号表示。根据大量的历史数据，已知这些状态出现的平稳概率为 $P(S_1) = 0.6$，$P(S_2) = 0.3$，$P(S_3) = 0.1$。\n\n该系统采用一个理想的算术编码器，它将整个源符号序列映射到一个用二进制表示的单一分数值。一个接收器截获了一段传输，并开始解码传入的消息。接收到的二进制代码的第一部分是 $0.1011_2$。\n\n根据模型概率和接收到的代码，确定原始消息序列的前两个符号。从以下选项中选择正确的序列。\n\nA. $S_1, S_1$\n\nB. $S_1, S_2$\n\nC. $S_2, S_1$\n\nD. $S_2, S_3$\n\nE. $S_3, S_1$", "solution": "在针对符号集为 $\\{S_{1},S_{2},S_{3}\\}$ 且概率为 $P(S_{1})=\\frac{3}{5}$，$P(S_{2})=\\frac{3}{10}$，$P(S_{3})=\\frac{1}{10}$ 的独立同分布(i.i.d.)信源的理想算术编码中，单位区间 $[0,1)$ 使用累积分布边界进行划分\n$$\nF_{0}=0,\\quad F_{1}=\\frac{3}{5},\\quad F_{2}=\\frac{9}{10},\\quad F_{3}=1.\n$$\n因此，第一个符号的区间对于 $S_{1}$ 是 $[0,\\frac{3}{5})$，对于 $S_{2}$ 是 $[\\frac{3}{5},\\frac{9}{10})$，对于 $S_{3}$ 是 $[\\frac{9}{10},1)$。一个算术编码值 $r$ 代表整个消息，并且位于 $[0,1)$ 区间内。仅知道接收到的前四位比特 $0.1011_{2}$ 意味着 $r$ 被限制在区间\n$$\n\\left[0.1011_{2},\\,0.1011_{2}+2^{-4}\\right]=\\left[\\frac{11}{16},\\,\\frac{3}{4}\\right).\n$$\n由于 $\\left[\\frac{11}{16},\\,\\frac{3}{4}\\right)\\subset\\left[\\frac{3}{5},\\,\\frac{9}{10}\\right)$，第一个符号必定是 $S_{2}$。\n\n对于第二个符号，算术解码使用更新规则来细化当前区间：如果当前区间为 $[l,u)$，宽度为 $W=u-l$，那么选择符号 $S_{i}$ 将映射到\n$$\n\\left[l+W F_{i-1},\\,l+W F_{i}\\right).\n$$\n在首先解码出 $S_{2}$ 之后，当前区间为 $[l,u)=\\left[\\frac{3}{5},\\,\\frac{9}{10}\\right)$，宽度为 $W=\\frac{9}{10}-\\frac{3}{5}=\\frac{3}{10}$。为第二个符号划分这个区间得到：\n- $S_{1}$: \n$$\n\\left[\\frac{3}{5},\\,\\frac{3}{5}+ \\frac{3}{10}\\cdot\\frac{3}{5}\\right]=\\left[\\frac{3}{5},\\,\\frac{39}{50}\\right),\n$$\n- $S_{2}$:\n$$\n\\left[\\frac{39}{50},\\,\\frac{39}{50}+ \\frac{3}{10}\\cdot\\frac{3}{10}\\right]=\\left[\\frac{39}{50},\\,\\frac{87}{100}\\right),\n$$\n- $S_{3}$:\n$$\n\\left[\\frac{87}{100},\\,\\frac{9}{10}\\right).\n$$\n接收值的范围 $\\left[\\frac{11}{16},\\,\\frac{3}{4}\\right)$ 完全位于 $\\left[\\frac{3}{5},\\,\\frac{39}{50}\\right)$ 之内，所以第二个符号是 $S_{1}$。\n\n因此，前两个符号是 $S_{2}, S_{1}$，对应于选项 C。", "answer": "$$\\boxed{C}$$", "id": "1602946"}, {"introduction": "在理想情况下，编码器和解码器总是共享一个完美的模型。但在更现实的场景中，如果它们的模型存在哪怕是微小的差异，会发生什么呢？这个练习探讨了模型不匹配的后果，这也是现实世界系统中常见的错误来源 [@problem_id:1602921]。通过分析解码过程在何处以及为何失败，你将更深刻地认识到模型同步在算术编码中的至关重要性。", "problem": "在信息论的背景下，一个编码器和一个解码器使用算术编码进行通信。它们在一个符号字母表 $\\mathcal{A} = \\{A, B, C\\}$ 上进行操作。然而，由于配置错误，它们使用了不同的概率模型。\n\n编码器使用概率模型 $P_E$，定义如下：\n$P_E(A) = 0.5$\n$P_E(B) = 0.3$\n$P_E(C) = 0.2$\n\n解码器使用概率模型 $P_D$，定义如下：\n$P_D(A) = 0.6$\n$P_D(B) = 0.2$\n$P_D(C) = 0.2$\n\n编码器处理输入序列 $S = \\text{BACA}$。遵循标准的算术编码过程，它计算出表示该序列的最终区间 $[L, H)$。为了生成一个用于传输的单一值，编码器将此最终区间的下限 $L$ 发送给解码器。\n\n解码器接收到值 $L$ 并尝试使用其自己的模型 $P_D$ 来重构原始序列。这种不匹配最终会导致解码错误。\n\n在解码出的符号与原始序列 $S$ 中的符号首次出现差异的位置，原始符号是什么？\n\nA. A\n\nB. B\n\nC. C\n\nD. 整个序列被正确解码。", "solution": "我们假设字母表顺序为 $A, B, C$，并使用标准的算术编码在 $[0,1)$ 上操作，区间为左闭右开。令 $[l,h)$ 表示当前区间，范围为 $r=h-l$。对于符号 $s$，其模型累积边界为 $F(s^{-})$ (下界) 和 $F(s^{+})$ (上界)，编码器更新如下：\n$$\nl' = l + r \\, F(s^{-}), \\quad h' = l + r \\, F(s^{+}).\n$$\n编码器模型 $P_{E}$ 为 $P_{E}(A)=\\frac{1}{2}$，$P_{E}(B)=\\frac{3}{10}$，$P_{E}(C)=\\frac{1}{5}$，其累积边界为：\n- $A: [0, \\frac{1}{2})$，\n- $B: [\\frac{1}{2}, \\frac{4}{5})$，\n- $C: [\\frac{4}{5}, 1)$。\n\n编码 $S=\\text{BACA}$：\n\n1) 从 $[0,1)$ 开始，符号 $B \\Rightarrow [\\frac{1}{2}, \\frac{4}{5})$。\n\n2) 范围 $r=\\frac{4}{5}-\\frac{1}{2}=\\frac{3}{10}$。符号 $A$ 使用 $[0,\\frac{1}{2})$：\n$$\nl=\\frac{1}{2}+\\frac{3}{10}\\cdot 0=\\frac{1}{2}, \\quad h=\\frac{1}{2}+\\frac{3}{10}\\cdot \\frac{1}{2}=\\frac{1}{2}+\\frac{3}{20}=\\frac{13}{20}.\n$$\n所以得到 $[\\frac{1}{2}, \\frac{13}{20})$。\n\n3) 范围 $r=\\frac{13}{20}-\\frac{1}{2}=\\frac{3}{20}$。符号 $C$ 使用 $[\\frac{4}{5},1)$：\n$$\nl=\\frac{1}{2}+\\frac{3}{20}\\cdot \\frac{4}{5}=\\frac{1}{2}+\\frac{3}{25}=\\frac{31}{50}, \\quad h=\\frac{1}{2}+\\frac{3}{20}\\cdot 1=\\frac{13}{20}.\n$$\n所以得到 $[\\frac{31}{50}, \\frac{13}{20})$。\n\n4) 范围 $r=\\frac{13}{20}-\\frac{31}{50}=\\frac{3}{100}$。符号 $A$ 使用 $[0,\\frac{1}{2})$：\n$$\nl=\\frac{31}{50}+\\frac{3}{100}\\cdot 0=\\frac{31}{50}, \\quad h=\\frac{31}{50}+\\frac{3}{100}\\cdot \\frac{1}{2}=\\frac{31}{50}+\\frac{3}{200}=\\frac{127}{200}.\n$$\n最终区间为 $\\left[\\frac{31}{50}, \\frac{127}{200}\\right)$，所以编码器发送 $L=\\frac{31}{50}$。\n\n解码器使用模型 $P_{D}$，$P_{D}(A)=\\frac{3}{5}$，$P_{D}(B)=\\frac{1}{5}$，$P_{D}(C)=\\frac{1}{5}$，其累积边界为：\n- $A: [0,\\frac{3}{5})$，\n- $B: [\\frac{3}{5},\\frac{4}{5})$，\n- $C: [\\frac{4}{5},1)$。\n\n解码器从编码值 $v_{0}=L=\\frac{31}{50}$ 开始。在每一步中，它选择其累积区间包含当前编码值（在 $[0,1)$ 中）的符号，然后通过以下方式重新归一化\n$$\nv'=\\frac{v - F(s^{-})}{F(s^{+}) - F(s^{-})}.\n$$\n\n解码步骤：\n\n1) $v_{0}=\\frac{31}{50} \\in \\left[\\frac{3}{5}, \\frac{4}{5}\\right)$，因此解码为 $B$；重新归一化：\n$$\nv_{1}=\\frac{\\frac{31}{50} - \\frac{3}{5}}{\\frac{4}{5}-\\frac{3}{5}}=\\frac{\\frac{1}{50}}{\\frac{1}{5}}=\\frac{1}{10}.\n$$\n\n2) $v_{1}=\\frac{1}{10} \\in \\left[0, \\frac{3}{5}\\right)$，因此解码为 $A$；重新归一化：\n$$\nv_{2}=\\frac{\\frac{1}{10}-0}{\\frac{3}{5}}=\\frac{1}{10}\\cdot \\frac{5}{3}=\\frac{1}{6}.\n$$\n\n3) $v_{2}=\\frac{1}{6} \\in \\left[0, \\frac{3}{5}\\right)$，因此解码器会解码为 $A$。原始的第三个符号是 $C$。因此，解码出的符号首次出现差异的位置是第 3 个位置，该位置的原始符号是 $C$。\n\n因此，正确选项是 C。", "answer": "$$\\boxed{C}$$", "id": "1602921"}]}