{"hands_on_practices": [{"introduction": "本节的第一个练习将带你从头到尾完整地实践霍夫曼编码的全过程。这个练习模拟了一个来自深空探测器的实际数据压缩场景。你将首先从原始数据样本中计算出符号的经验概率，然后应用霍夫曼算法的贪心策略构建最优前缀码，并最终计算其核心性能指标——平均码长 $L$。这个基础练习旨在巩固你对霍夫曼编码核心机制的理解。", "problem": "一个深空探测器使用简化的通信协议来传输其科学数据。该协议基于一个由五个不同符号组成的源字母表：$\\mathcal{S} = \\{A, B, C, D, E\\}$。为了设计一个高效的数据压缩方案，一名任务分析员研究了一个具有代表性的遥测数据样本，该样本包含一个由12个符号组成的序列：\n$$A, B, A, C, A, B, D, A, E, C, B, D$$\n假设该样本在统计上代表了信源的输出，请确定使用一种最佳的、符号对符号的、可变长度的二进制编码方案来编码一个符号时，理论上所需的二进制数字（比特）的最小平均数。\n\n请用精确分数表示你的答案。", "solution": "我们首先从长度为12的代表性样本中计算经验概率：\n- 计数：$A:4$, $B:3$, $C:2$, $D:2$, $E:1$。\n- 概率：$p_{A}=\\frac{4}{12}=\\frac{1}{3}$, $p_{B}=\\frac{3}{12}=\\frac{1}{4}$, $p_{C}=\\frac{2}{12}=\\frac{1}{6}$, $p_{D}=\\frac{2}{12}=\\frac{1}{6}$, $p_{E}=\\frac{1}{12}$。\n\n对于一个最佳的符号对符号可变长度二进制码，其最小平均码长可通过一个Huffman码实现。将Huffman算法应用于这些概率：\n1. 升序排序：$\\frac{1}{12}, \\frac{1}{6}, \\frac{1}{6}, \\frac{1}{4}, \\frac{1}{3}$。\n2. 合并两个最小的概率：$\\frac{1}{12}+\\frac{1}{6}=\\frac{1}{4}$，得到多重集 $\\left\\{\\frac{1}{6}, \\frac{1}{4}, \\frac{1}{4}, \\frac{1}{3}\\right\\}$。\n3. 合并两个最小的概率：$\\frac{1}{6}+\\frac{1}{4}=\\frac{5}{12}$，得到 $\\left\\{\\frac{1}{4}, \\frac{1}{3}, \\frac{5}{12}\\right\\}$。\n4. 合并两个最小的概率：$\\frac{1}{4}+\\frac{1}{3}=\\frac{7}{12}$，得到 $\\left\\{\\frac{5}{12}, \\frac{7}{12}\\right\\}$。\n5. 合并：$\\frac{5}{12}+\\frac{7}{12}=1$。\n\n回溯这棵树可以得到码字长度（单位：比特）：$l_{A}=2$, $l_{B}=2$, $l_{C}=3$, $l_{D}=2$, $l_{E}=3$。得到的最小平均长度为\n$$\n\\bar{L}\n= \\sum_{s \\in \\{A,B,C,D,E\\}} p_{s}\\,l_{s}\n= \\frac{1}{3}\\cdot 2 + \\frac{1}{4}\\cdot 2 + \\frac{1}{6}\\cdot 3 + \\frac{1}{6}\\cdot 2 + \\frac{1}{12}\\cdot 3\n= \\frac{8+6+6+4+3}{12}\n= \\frac{27}{12}\n= \\frac{9}{4}.\n$$\n因此，对于一个最佳的符号对符号前缀码，每个符号的理论最小平均比特数是 $\\frac{9}{4}$。", "answer": "$$\\boxed{\\frac{9}{4}}$$", "id": "1630312"}, {"introduction": "掌握算法不仅在于机械地执行步骤，更在于培养对算法特性的深刻洞察力。这个练习旨在锻炼这种直觉。它提出了一个特殊但重要的情景：当信源中某个符号的出现概率超过 $0.5$ 时会发生什么？通过分析霍夫曼算法的合并过程，你将发现可以在不进行完整编码构建的情况下，直接推断出这个最常见符号的码长，从而加深对算法背后贪心选择性质的理解。", "problem": "一个深空探测器正在分析一颗新发现的系外行星的大气成分。该探测器以符号流的形式传输数据，其中每个符号代表一种检测到的特定分子。为节省能源，该探测器根据测量出的分子相对频率，使用一种最优无前缀二元编码方案，具体为 Huffman 编码算法。\n\n星上光谱仪测定了大气中五种最常见分子的概率如下：\n- 水蒸气 (H₂O): $0.53$\n- 氮气 (N₂): $0.21$\n- 甲烷 (CH₄): $0.11$\n- 二氧化碳 (CO₂): $0.09$\n- 氩气 (Ar): $0.06$\n\n这些概率之和为 $1.00$。所有其他分子的出现概率均可忽略不计。根据此概率分布，确定分配给水蒸气 (H₂O) 符号的二元码字的长度。", "solution": "我们使用 Huffman 编码算法：在每一步中，将两个概率最小的符号合并成一个新节点，其概率为二者之和；重复此过程，直到只剩下一个节点。在最终生成的树中，一个符号的码字长度等于其深度（即从根节点到其对应叶节点的边数）。\n\n按升序排列给定的概率：$0.06, 0.09, 0.11, 0.21, 0.53$。\n\n在每一步合并最小的两个概率：\n$$0.06+0.09=0.15,$$\n此时多重集变为 $0.11, 0.15, 0.21, 0.53$。\n\n接下来，\n$$0.11+0.15=0.26,$$\n此时多重集变为 $0.21, 0.26, 0.53$。\n\n接下来，\n$$0.21+0.26=0.47,$$\n此时多重集变为 $0.47, 0.53$。\n\n最后，\n$$0.47+0.53=1.00,$$\n得到根节点。\n\n概率为 $0.53$ 的符号仅在最后一步被合并，因此它直接连接到根节点，深度为 $1$。因此，其二元码字的长度为 $1$。作为一致性检查，这些合并产生的完整码长集合为 $1, 2, 3, 4, 4$，这满足 Kraft 等式：\n$$2^{-1}+2^{-2}+2^{-3}+2^{-4}+2^{-4}=1.$$\n因此，最优无前缀码为概率最大的符号分配了长度为 $1$ 的码字。", "answer": "$$\\boxed{1}$$", "id": "1630300"}, {"introduction": "“最优”是否意味着“唯一”？这个练习将引导我们探索霍夫曼编码的这一微妙之处。对于一个给定的信源，所有霍夫曼码在平均码长上都是最优的，但编码本身可能并非唯一。当算法在合并步骤中遇到概率相等的节点时，不同的选择可能导致不同的码树结构。本练习要求你分析这些不同选择对码长方差 $\\operatorname{Var}(L)$ 的影响，这有助于你理解，即使核心性能指标（平均码长）相同，不同最优码的其他统计特性也可能存在差异。", "problem": "一个离散无记忆信源从字母表 $\\mathcal{S} = \\{S_1, S_2, S_3, S_4, S_5, S_6\\}$ 中发射符号。这些符号的概率由集合 $P = \\{0.3, 0.2, 0.2, 0.1, 0.1, 0.1\\}$ 给出，其中 $p(S_1)=0.3$， $p(S_2)=0.2$， $p(S_3)=0.2$，以及 $p(S_4)=p(S_5)=p(S_6)=0.1$。\n\n使用霍夫曼编码算法为该信源生成一个最优无前缀二元码。该算法的执行过程包括迭代地合并两个概率最低的节点（符号或符号组）。当出现概率相等的情况时，可以做出不同的选择，这可能导致生成不同的有效霍夫曼树。虽然所有生成的编码都是最优的，并且具有相同的最小平均码长，但各个码长的分布可能会有所不同。\n\n您的任务是确定为该信源生成的最优码的码长 $L$ 的最大可能方差。方差定义为 $\\operatorname{Var}(L) = \\sum_{i=1}^{6} p(S_i) (l_i - E[L])^2 = E[L^2] - (E[L])^2$，其中 $l_i$ 是符号 $S_i$ 的码长，$E[L]$ 是平均码长。\n\n将您的答案表示为一个十进制数，并四舍五入到三位有效数字。", "solution": "设信源概率为 $p_{1}=0.3$，$p_{2}=0.2$，$p_{3}=0.2$，$p_{4}=0.1$，$p_{5}=0.1$，$p_{6}=0.1$。按权重的霍夫曼合并序列是固定的：\n- 将两个 $0.1$ 合并成 $0.2$。\n- 将 $0.1$ 与 $0.2$ 合并成 $0.3$。\n- 将 $0.2$ 与 $0.2$ 合并成 $0.4$。\n- 将 $0.3$ 与 $0.3$ 合并成 $0.6$。\n- 将 $0.6$ 与 $0.4$ 合并成 $1$。\n\n概率相等的情况允许两种结构上不同的最优码长分配。\n\n情况 I（在下一步中，不将初始的 $0.1+0.1$ 对与剩下的 $0.1$ 合并）：在第 2 步，将剩下的 $0.1$ 与一个单独的 $0.2$ 合并。得到的码长为\n- $l_{1}=2$，\n- 在概率为 $p=0.2$ 的符号中，一个的码长为 $l=2$，另一个为 $l=3$，\n- 所有三个概率为 $p=0.1$ 的符号的码长都为 $l=3$。\n因此，码长分布为 $L=2$ 的总概率为 $0.5$，$L=3$ 的总概率为 $0.5$。于是\n$$\nE[L]=2\\cdot 0.5+3\\cdot 0.5=2.5,\\quad\nE[L^{2}]=4\\cdot 0.5+9\\cdot 0.5=6.5,\n$$\n所以\n$$\n\\operatorname{Var}(L)=E[L^{2}]-(E[L])^{2}=6.5-(2.5)^{2}=0.25.\n$$\n\n情况 II（在下一步中，将初始的 $0.1+0.1$ 对与剩下的 $0.1$ 合并）：在第 2 步，将剩下的 $0.1$ 与由两个 $0.1$ 组成的 $0.2$ 合并。得到的码长为\n- $l_{1}=2$，\n- 两个概率为 $p=0.2$ 的符号的码长都为 $l=2$，\n- 一个概率为 $p=0.1$ 的符号的码长为 $l=3$，\n- 另外两个概率为 $p=0.1$ 的符号的码长为 $l=4$。\n因此，码长分布为 $L=2$ 的概率为 $0.7$，$L=3$ 的概率为 $0.1$，$L=4$ 的概率为 $0.2$。于是\n$$\nE[L]=2\\cdot 0.7+3\\cdot 0.1+4\\cdot 0.2=2.5,\n$$\n$$\nE[L^{2}]=4\\cdot 0.7+9\\cdot 0.1+16\\cdot 0.2=6.9,\n$$\n所以\n$$\n\\operatorname{Var}(L)=6.9-(2.5)^{2}=6.9-6.25=0.65.\n$$\n\n两种情况都是最优的，具有相同的最小平均码长 $E[L]=2.5$。方差在情况 II 中达到最大值。因此，最大可能方差为 $0.65$，保留三位有效数字为 $0.650$。", "answer": "$$\\boxed{0.650}$$", "id": "1630317"}]}