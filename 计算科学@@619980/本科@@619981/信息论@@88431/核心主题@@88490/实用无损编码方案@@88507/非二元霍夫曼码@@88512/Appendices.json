{"hands_on_practices": [{"introduction": "在开始应用霍夫曼编码算法之前，我们必须确保我们的符号集能够构建一个完整的 $D$ 元树。这个练习将重点放在非二元霍夫曼编码的一个基本结构要求上。通过这个练习，你将学会如何确定是否需要以及需要多少“伪符号”来满足这个先决条件，这是构建任何有效 $D$ 元霍夫曼树的第一步。[@problem_id:1643132]", "problem": "一个数据压缩算法使用一种非二元的哈夫曼编码方案来表示来自源字母表的消息。在这个特定的应用中，编码字母表是四元的，意味着它由四个不同的符号组成 ($D=4$)。信源从一个包含8个不同符号的集合中生成消息。构建一个有效的 $D$ 元哈夫曼树要求源符号的数量（包括任何必需的零概率“虚拟”符号）允许创建一个满 $D$ 元树，其中每个内部节点恰好有 $D$ 个子节点。\n\n在此设定下，请确定生成的四元哈夫曼编码树中内部节点的总数。", "solution": "设 $D=4$，$s=8$ 为源符号的数量。在一个满 $D$ 元哈夫曼树中，叶子节点数 $L$（等于源符号数加上任何零概率虚拟符号数）必须满足每个内部节点恰好有 $D$ 个子节点的结构约束。\n\n设 $I$ 为内部节点数。在任何有根树中，边的数量是总节点数减 $1$，所以\n$$\nE = (I + L) - 1.\n$$\n在一个满 $D$ 元树中，每个内部节点都为其子节点贡献恰好 $D$ 条边，所以\n$$\nE = D I.\n$$\n令两者相等可得\n$$\nD I = I + L - 1 \\quad \\Longrightarrow \\quad L = (D - 1) I + 1.\n$$\n因此 $L \\equiv 1 \\pmod{D-1}$。对于 $D=4$，我们需要 $L \\equiv 1 \\pmod{3}$。要找到满足此性质且 $L \\geq s=8$ 的最小 $L$，可将 $L$ 写为 $L = 1 + 3k$ 并选择满足 $1 + 3k \\geq 8$ 的最小整数 $k$，即 $k=3$，这给出\n$$\nL = 1 + 3 \\cdot 3 = 10.\n$$\n当 $L=10$ 且 $D=4$ 时，使用 $L = (D - 1) I + 1$ 求解 $I$：\n$$\n10 = 3 I + 1 \\quad \\Longrightarrow \\quad I = \\frac{10 - 1}{3} = 3.\n$$\n因此，四元哈夫曼编码树中的内部节点总数为 $3$。", "answer": "$$\\boxed{3}$$", "id": "1643132"}, {"introduction": "掌握了结构上的先决条件后，我们就可以将理论付诸实践了。这个练习提供了一个具体的三元（$D=3$）霍夫曼编码的完整流程。你将亲手操作，从添加必要的伪符号开始，一步步合并概率最小的符号，最终为一组给定的信源符号生成最优的码长集合。[@problem_id:1643155]", "problem": "一个离散无记忆信源以如下概率从字母表 $X = \\{x_1, x_2, x_3, x_4\\}$ 发射符号：\n$P(x_1) = 0.50$\n$P(x_2) = 0.20$\n$P(x_3) = 0.15$\n$P(x_4) = 0.15$\n\n需要为该信源使用三元霍夫曼算法构造一个唯一可译的变长信源码，该算法将符号按三个一组 ($D=3$) 进行分组。请确定对应于符号 $\\{x_1, x_2, x_3, x_4\\}$ 的码字长度集合 $\\{l_1, l_2, l_3, l_4\\}$。\n\n以下哪一项表示最终的码字长度集合？\nA. $\\{1, 1, 2, 2\\}$\n\nB. $\\{1, 2, 2, 2\\}$\n\nC. $\\{1, 2, 3, 3\\}$\n\nD. $\\{2, 2, 2, 2\\}$", "solution": "我们需要为一个概率为 $P(x_{1})=0.50$、$P(x_{2})=0.20$、$P(x_{3})=0.15$、$P(x_{4})=0.15$ 的信源构建一个三元霍夫曼码。对于一个 $D$ 元霍夫曼码，当 $D=3$ 时，满树的叶子节点数 $n$ 必须满足 $n \\equiv 1 \\pmod{D-1}$，即 $n \\equiv 1 \\pmod{2}$。给定的符号数 $n=4$ 是偶数，所以我们添加一个概率为 0 的伪符号以得到 $n'=5$，它满足 $5 \\equiv 1 \\pmod{2}$。\n\n初始化权重的多重集为 $\\{0.50, 0.20, 0.15, 0.15, 0\\}$。三元霍夫曼算法重复地将三个最小的权重合并成一个权重为其和的新节点，每一次合并都使得被合并节点下的每个叶子节点的码字长度增加1。\n\n步骤1：将三个最小的权重 $0$、$0.15$、$0.15$ 合并为一个权重为 $0.30$ 的节点。当前的节点集合变为 $\\{0.50, 0.20, 0.30\\}$。权重为 $0.15$ 的两个真实符号（即 $x_3$ 和 $x_4$）的码字长度因此次合并各增加1。\n\n步骤2：此时剩下正好三个节点，它们成为根节点的三个子节点。因此，权重为 $0.50$（符号 $x_1$）和 $0.20$（符号 $x_2$）的节点的深度为1（码字长度为1），而权重为 $0.30$ 的合并节点的深度也为1，其所包含的叶子节点 $x_3$ 和 $x_4$ 的深度则为2（码字长度为2）。\n\n因此，码字长度为 $l_{1}=1$，$l_{2}=1$，$l_{3}=2$，$l_{4}=2$，这与选项A相符。作为快速检验，三元克拉夫特不等式成立：\n$$\\sum_{i=1}^{4}3^{-l_{i}}=3^{-1}+3^{-1}+3^{-2}+3^{-2}=\\frac{1}{3}+\\frac{1}{3}+\\frac{1}{9}+\\frac{1}{9}=\\frac{8}{9}\\leq 1.$$\n因此，得到的码字长度集合为 $\\{1,1,2,2\\}$。", "answer": "$$\\boxed{A}$$", "id": "1643155"}, {"introduction": "当算法为我们提供一个选择时，会发生什么？这个练习探讨了霍夫曼编码过程中的一个微妙之处：概率出现平局。通过这个思想实验，你将发现最优码并不总是唯一的，但所有最优码都具有相同的最小平均长度。同时，你将进一步探索这些不同但同样最优的编码在其他统计特性（如码长方差）上可能存在的差异。[@problem_id:1643174]", "problem": "正在为一个简化机械臂的一组六个主要命令 $\\mathcal{C} = \\{C_1, C_2, C_3, C_4, C_5, C_6\\}$ 设计一种数据压缩方案。根据大量的操作数据，发现这些命令的概率为 $P(C_1)=0.30$、$P(C_2)=0.20$、$P(C_3)=0.15$、$P(C_4)=0.15$、$P(C_5)=0.10$ 和 $P(C_6)=0.10$。将使用三元 ($D=3$) Huffman 编码来对这些命令进行编码。\n\nD 元 Huffman 算法的流程是迭代地合并概率最低的 $D$ 个符号或先前已合并的节点。在此过程中，当选择三个概率最低的项进行合并时，出现了概率相同的情况。两位工程师都正确地遵循了该算法，但在这个概率相同的点上做出了不同的有效选择。这导致生成了两种不同但同样最优的三元 Huffman 编码，我们称之为编码 A 和编码 B。\n\n编码 A 中六个命令的码字长度集合将与编码 B 中的长度集合不同。设 $L_A$ 和 $L_B$ 分别为在编码 A 和编码 B 下，原始六个命令的码字长度的随机变量。计算这两个长度分布的方差之间的绝对差，即 $|\\text{Var}(L_A) - \\text{Var}(L_B)|$。\n\n将最终答案保留三位有效数字。", "solution": "我们为这六个概率分别为 $0.30, 0.20, 0.15, 0.15, 0.10, 0.10$ 的命令构建三元 Huffman 编码。对于一个 $D=3$ 的 D 元 Huffman 编码，一个满树要求其叶子节点数 $n$ 满足 $n \\equiv 1 \\pmod{D-1}$。这里 $n=6$ 且 $D-1=2$，所以 $6 \\not\\equiv 1 \\pmod{2}$。因此，我们添加一个概率为 $0$ 的虚构符号，使得扩充集有 $7$ 个项，满足 $7 \\equiv 1 \\pmod{2}$。\n\n从概率的多重集 $\\{0, 0.10, 0.10, 0.15, 0.15, 0.20, 0.30\\}$ 开始。在每一步中，合并三个概率最小的项。\n\n步骤 1：合并 $0$、$0.10$ 和 $0.10$，形成一个概率为 $0.20$ 的节点 $N_1$。\n\n剩余的项为 $\\{0.15, 0.15, 0.20, 0.30, 0.20\\}$，其中两个 $0.20$ 的项分别是 $C_2$ 和 $N_1$。现在，我们必须选择第三个项与两个 $0.15$ 的值进行合并。在来自 $C_2$ 的 $0.20$ 和来自 $N_1$ 的 $0.20$ 之间出现了概率相同的情况，从而产生了两种有效的选项。\n\n编码 A：合并 $0.15$、$0.15$ 和 $0.20(C_2)$，形成一个概率为 $0.50$ 的节点 $N_2$。最后三个项是 $N_1(0.20)$、$C_1(0.30)$ 和 $N_2(0.50)$，它们在根节点处合并。码字长度由深度决定：\n- $C_1$ 是根节点的子节点，所以 $l(C_1)=1$。\n- $N_1$ 和 $N_2$ 是根节点的子节点；其下属叶子节点的长度为 2。因此 $l(C_2)=l(C_3)=l(C_4)=l(C_5)=l(C_6)=2$。\n因此，对于 $L_A$，其长度分布为\n$$\nP(L_{A}=1)=0.30,\\quad P(L_{A}=2)=0.70.\n$$\n计算期望、二阶矩和方差：\n$$\n\\mathbb{E}[L_{A}]=1\\cdot 0.30+2\\cdot 0.70=1.70,\n$$\n$$\n\\mathbb{E}[L_{A}^{2}]=1^{2}\\cdot 0.30+2^{2}\\cdot 0.70=3.10,\n$$\n$$\n\\operatorname{Var}(L_{A})=\\mathbb{E}[L_{A}^{2}]-(\\mathbb{E}[L_{A}])^{2}=3.10-(1.70)^{2}=0.21.\n$$\n\n编码 B：合并 $0.15$、$0.15$ 和 $0.20(N_1)$，形成一个概率为 $0.50$ 的节点 $N_2'$。最后三个项是 $C_2(0.20)$、$C_1(0.30)$ 和 $N_2'(0.50)$，它们在根节点处合并。码字长度为：\n- $C_1$ 和 $C_2$ 是根节点的子节点，所以 $l(C_1)=l(C_2)=1$。\n- $C_3$ 和 $C_4$ 是 $N_2'$ 的子节点，所以 $l(C_3)=l(C_4)=2$。\n- $C_5$ 和 $C_6$ 是 $N_1$ 的子节点，而 $N_1$ 是 $N_2'$ 的子节点，所以 $l(C_5)=l(C_6)=3$。\n因此，对于 $L_B$，其长度分布为\n$$\nP(L_{B}=1)=0.30+0.20=0.50,\\quad P(L_{B}=2)=0.15+0.15=0.30,\\quad P(L_{B}=3)=0.10+0.10=0.20.\n$$\n计算期望、二阶矩和方差：\n$$\n\\mathbb{E}[L_{B}]=1\\cdot 0.50+2\\cdot 0.30+3\\cdot 0.20=1.70,\n$$\n$$\n\\mathbb{E}[L_{B}^{2}]=1^{2}\\cdot 0.50+2^{2}\\cdot 0.30+3^{2}\\cdot 0.20=3.50,\n$$\n$$\n\\operatorname{Var}(L_{B})=\\mathbb{E}[L_{B}^{2}]-(\\mathbb{E}[L_{B}])^{2}=3.50-(1.70)^{2}=0.61.\n$$\n\n两种方差的绝对差为\n$$\n|\\operatorname{Var}(L_{A})-\\operatorname{Var}(L_{B})|=|0.21-0.61|=0.40,\n$$\n保留三位有效数字为 $0.400$。", "answer": "$$\\boxed{0.400}$$", "id": "1643174"}]}