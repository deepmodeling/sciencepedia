{"hands_on_practices": [{"introduction": "任何可变长编码方案的基石是其无歧义解码的能力，这直接源于无前缀属性。此练习将作为您检验编码有效性的第一步，要求您评估几组候选码字，以确定它们是否满足无前缀码的核心要求，从而确保即时解码。通过这项实践，您将巩固对前缀码基本定义的理解 [@problem_id:1610981]。", "problem": "一个远程环境传感器网络被设计用于监测五种不同类型的大气事件，我们可以将其标记为 $S_1, S_2, S_3, S_4, S_5$。为了优化在低带宽信道上的数据传输，采用了一种可变长度的二进制编码方案。根据每个事件的预期频率，系统设计者规定了二进制码字的所需长度：一个事件必须用一个2比特的码字编码，另外四个事件每个必须用一个3比特的码字编码。\n\n该编码方案的一个关键要求是它必须是*即时可解码的*。此属性确保代表一系列检测事件的任何连接码字序列，都可以唯一且无歧义地解析为其组成码字，而无需向前查看。当且仅当集合中没有码字是任何其他码字的前缀时，才能实现这一点。\n\n您的任务是评估几个提议的码字集。从下面列出的选项中，找出所有代表有效编码方案的集合，这些方案既满足指定的长度分布（一个2比特码字，四个3比特码字），又满足即时可解码的属性。\n\nA. $\\{11, 000, 001, 010, 011\\}$\n\nB. $\\{00, 100, 101, 110, 111\\}$\n\nC. $\\{01, 010, 000, 110, 111\\}$\n\nD. $\\{00, 01, 100, 101, 110\\}$\n\nE. $\\{10, 000, 001, 110, 111\\}$\n\nF. $\\{11, 101, 001, 011, 110\\}$", "solution": "我们需要一个用于五个信源符号的二进制编码，其中恰好有一个长度为$2$的码字和四个长度为$3$的码字，并且该编码必须是即时可解码的，这等同于是无前缀的：没有码字可以是另一个码字的前缀。鉴于所有长度都是$2$或$3$，一旦满足长度分布，只需检查唯一的2比特码字不是任何3比特码字的前缀即可，因为不同的3比特码字不可能互为前缀。\n\n评估每个选项：\n\nA. 该集合有一个2比特码字 $11$ 和四个3比特码字 $000, 001, 010, 011$。没有一个3比特码字以 $11$ 开头，因此没有发生前缀冲突。长度分布得到满足。有效。\n\nB. 该集合有一个2比特码字 $00$ 和四个3比特码字 $100, 101, 110, 111$。没有一个3比特码字以 $00$ 开头，因此没有发生前缀冲突。长度分布得到满足。有效。\n\nC. 该集合有一个2比特码字 $01$ 和四个3比特码字 $010, 000, 110, 111$。3比特码字 $010$ 以 $01$ 开头，因此2比特码字是3比特码字的前缀。这违反了无前缀条件。无效。\n\nD. 该集合有两个2比特码字 $00, 01$ 和三个3比特码字 $100, 101, 110$。这不符合要求的长度分布（必须是一个2比特码字和四个3比特码字）。无效。\n\nE. 该集合有一个2比特码字 $10$ 和四个3比特码字 $000, 001, 110, 111$。没有一个3比特码字以 $10$ 开头，因此没有发生前缀冲突。长度分布得到满足。有效。\n\nF. 该集合有一个2比特码字 $11$ 和四个3比特码字 $101, 001, 011, 110$。3比特码字 $110$ 以 $11$ 开头，因此2比特码字是3比特码字的前缀。这违反了无前缀条件。无效。\n\n因此，有效的选项是 A、B 和 E。", "answer": "$$\\boxed{ABE}$$", "id": "1610981"}, {"introduction": "在确认一个编码为有效的前缀码之后，下一个关键问题是评估其效率。本练习引入了衡量编码性能的核心指标：平均码长 $L$。您将基于给定的符号概率，为一个特定的前缀码计算其平均码长，从而将理论概念与实际性能量化联系起来 [@problem_id:1610986]。", "problem": "一个研究团队正在为一种新型低功耗气象传感器开发一种简单的压缩方案。该传感器可以报告四种可能的状态之一，我们用抽象符号 $s_1, s_2, s_3, \\text{和 } s_4$ 来表示。为高效传输数据，该团队提出了一种二进制编码方案，将这些符号映射到以下码字：\n- $s_1 \\rightarrow 01$\n- $s_2 \\rightarrow 1$\n- $s_3 \\rightarrow 000$\n- $s_4 \\rightarrow 001$\n\n为了使这样的码字流能够被无歧义地、即时地解码，该编码必须是前缀码。如果集合中没有任何码字是其他任何码字的前缀，则该编码被定义为前缀码。\n\n根据历史气象模式，每个符号出现的概率估计如下：\n- $P(s_1) = 0.20$\n- $P(s_2) = 0.50$\n- $P(s_3) = 0.15$\n- $P(s_4) = 0.15$\n\n计算该编码方案的平均码长。平均码长是码字长度以其概率为权重的期望值。请用一个十进制数作答。", "solution": "前缀码要求没有任何码字是其他任何码字的前缀。给定的集合 $\\{01, 1, 000, 001\\}$ 是无前缀的，因为这些字符串中没有一个是以集合中另一个完整码字开头的。\n\n设码长分别为 $l(s_{1})=2$、$l(s_{2})=1$、$l(s_{3})=3$ 和 $l(s_{4})=3$，分别对应于 $01$、$1$、$000$ 和 $001$。\n\n平均码长 $L$ 是码长的期望值：\n$$\nL=\\sum_{i=1}^{4}P(s_{i})\\,l(s_{i})=P(s_{1})l(s_{1})+P(s_{2})l(s_{2})+P(s_{3})l(s_{3})+P(s_{4})l(s_{4}).\n$$\n代入给定的概率和长度：\n$$\nL=0.20\\cdot 2+0.50\\cdot 1+0.15\\cdot 3+0.15\\cdot 3=0.4+0.5+0.45+0.45=1.8.\n$$\n因此，平均码长为 $1.8$。", "answer": "$$\\boxed{1.8}$$", "id": "1610986"}, {"introduction": "现实世界的数据源其统计特性并非一成不变。这个更高级的练习将带您进入一个动态场景，探讨当数据源的概率分布发生变化时，一个原本最优的霍夫曼码会发生什么。您将通过计算“效率损失” $\\Delta L = L_{sub} - L_{opt}$ 来量化使用过时编码的代价，这突显了自适应编码的重要性，并加深了对“最优”这一概念在特定情境下意义的理解 [@problem_id:1610971]。", "problem": "一个数据压缩系统使用 Huffman 编码对来自离散无记忆信源的数据进行无损压缩。该信源发出的符号来自集合 $S = \\{s_1, s_2, s_3, s_4, s_5\\}$。最初，该系统是为一个平稳概率分布 $P_0$ 配置的，其中符号的概率如下：\n$p_0(s_1) = 0.45$\n$p_0(s_2) = 0.25$\n$p_0(s_3) = 0.15$\n$p_0(s_4) = 0.10$\n$p_0(s_5) = 0.05$\n\n基于此分布 $P_0$，生成了一个最优 Huffman 编码，为这些符号确定了一组特定的码长 $\\{l_0(s_1), l_0(s_2), l_0(s_3), l_0(s_4), l_0(s_5)\\}$。\n\n一段时间后，生成数据的底层过程发生变化，信源统计特性更新为一个新的平稳分布 $P_1$。新的概率如下：\n$p_1(s_1) = 0.05$\n$p_1(s_2) = 0.25$\n$p_1(s_3) = 0.15$\n$p_1(s_4) = 0.10$\n$p_1(s_5) = 0.45$\n\n然而，该系统并未更新其编码方案，而是继续使用对 $P_0$ 最优的原始码长 $l_0$。这导致了次优的平均码长。\n\n设 $L_{sub}$ 为当信源使用新概率 $P_1$ 时，继续使用原始编码（码长为 $l_0$）得到的平均码长。\n设 $L_{opt}$ 为通过为分布 $P_1$ 专门生成一个新的 Huffman 编码所能达到的新的最优平均码长。\n\n因未更新编码而产生的“效率损失”是差值 $\\Delta L = L_{sub} - L_{opt}$。计算这个损失的值。将最终答案四舍五入至四位有效数字。", "solution": "问题要求计算效率损失 $\\Delta L = L_{sub} - L_{opt}$，这是由于在统计特性已改变的数据源上使用旧的 Huffman 编码而产生的。我们需要计算次优情况下的平均码长（$L_{sub}$）和新的最优情况下的平均码长（$L_{opt}$），然后求出它们的差值。\n\n**步骤1：确定初始 Huffman 编码的码长（$l_0$）。**\n初始编码是使用概率分布 $P_0$ 构建的：$\\{p_0(s_1)=0.45, p_0(s_2)=0.25, p_0(s_3)=0.15, p_0(s_4)=0.10, p_0(s_5)=0.05\\}$。\nHuffman 算法通过迭代合并两个概率最低的节点来进行。\n\n1.  初始节点列表（符号，概率）：\n    $(s_5, 0.05), (s_4, 0.10), (s_3, 0.15), (s_2, 0.25), (s_1, 0.45)$。\n\n2.  合并两个概率最低的节点 $s_5$ 和 $s_4$。这会创建一个新的内部节点，我们称之为 $n_1$，其概率为 $0.05 + 0.10 = 0.15$。\n    列表变为：$(s_3, 0.15), (n_1, 0.15), (s_2, 0.25), (s_1, 0.45)$。\n\n3.  合并两个新的概率最低的节点 $s_3$ 和 $n_1$。这会创建一个新的内部节点 $n_2$，其概率为 $0.15 + 0.15 = 0.30$。\n    列表变为：$(s_2, 0.25), (n_2, 0.30), (s_1, 0.45)$。\n\n4.  合并两个概率最低的节点 $s_2$ 和 $n_2$。这会创建一个新的内部节点 $n_3$，其概率为 $0.25 + 0.30 = 0.55$。\n    列表变为：$(s_1, 0.45), (n_3, 0.55)$。\n\n5.  合并最后两个节点 $s_1$ 和 $n_3$，形成概率为 1.0 的树根。\n\n现在，我们可以确定此树 $T_0$ 中每个符号的深度（码长）。\n-   $s_1$ 是根节点的直接子节点。其深度为 1。所以，$l_0(s_1) = 1$。\n-   $n_3$ 是根节点的直接子节点。\n-   $s_2$ 是 $n_3$ 的子节点。其深度为 2。所以，$l_0(s_2) = 2$。\n-   $n_2$ 是 $n_3$ 的子节点。\n-   $s_3$ 是 $n_2$ 的子节点。其深度为 3。所以，$l_0(s_3) = 3$。\n-   $n_1$ 是 $n_2$ 的子节点。\n-   $s_4$ 是 $n_1$ 的子节点。其深度为 4。所以，$l_0(s_4) = 4$。\n-   $s_5$ 是 $n_1$ 的子节点。其深度为 4。所以，$l_0(s_5) = 4$。\n\n初始码长为：$\\{l_0(s_1), l_0(s_2), l_0(s_3), l_0(s_4), l_0(s_5)\\} = \\{1, 2, 3, 4, 4\\}$。\n\n**步骤2：计算次优平均码长 $L_{sub}$。**\n$L_{sub}$ 是使用旧码长 $l_0$ 和新概率 $P_1$ 计算出的平均码长。\n$P_1$：$\\{p_1(s_1)=0.05, p_1(s_2)=0.25, p_1(s_3)=0.15, p_1(s_4)=0.10, p_1(s_5)=0.45\\}$。\n$$L_{sub} = \\sum_{i=1}^{5} p_1(s_i) l_0(s_i)$$\n$$L_{sub} = p_1(s_1)l_0(s_1) + p_1(s_2)l_0(s_2) + p_1(s_3)l_0(s_3) + p_1(s_4)l_0(s_4) + p_1(s_5)l_0(s_5)$$\n$$L_{sub} = (0.05)(1) + (0.25)(2) + (0.15)(3) + (0.10)(4) + (0.45)(4)$$\n$$L_{sub} = 0.05 + 0.50 + 0.45 + 0.40 + 1.80 = 3.20$$\n\n**步骤3：确定新的最优 Huffman 编码的码长（$l_1$）。**\n新的编码是使用概率分布 $P_1$ 构建的。$P_1$ 中的概率值集合为 $\\{0.05, 0.10, 0.15, 0.25, 0.45\\}$。这与 $P_0$ 中的概率值集合*完全相同*，只是分配给了不同的符号。由于 Huffman 树的结构仅取决于概率值的集合，因此新的最优树 $T_1$ 将具有与 $T_0$ 相同的结构。因此，最优码长的集合也将是相同的：$\\{1, 2, 3, 4, 4\\}$。\n\n关键区别在于哪个符号获得哪个长度。在最优 Huffman 编码中，概率最高的符号获得最短的码长。\n-   $p_1(s_5) = 0.45$ (最高)，所以 $l_1(s_5) = 1$。\n-   $p_1(s_2) = 0.25$ (第二高)，所以 $l_1(s_2) = 2$。\n-   $p_1(s_3) = 0.15$ (第三高)，所以 $l_1(s_3) = 3$。\n-   $p_1(s_4) = 0.10$ (第四高)，所以 $l_1(s_4) = 4$。\n-   $p_1(s_1) = 0.05$ (最低)，所以 $l_1(s_1) = 4$。\n\n新的最优码长为：$\\{l_1(s_1), l_1(s_2), l_1(s_3), l_1(s_4), l_1(s_5)\\} = \\{4, 2, 3, 4, 1\\}$。\n\n**步骤4：计算新的最优平均码长 $L_{opt}$。**\n$L_{opt}$ 是使用新码长 $l_1$ 和新概率 $P_1$ 计算出的平均码长。\n$$L_{opt} = \\sum_{i=1}^{5} p_1(s_i) l_1(s_i)$$\n$$L_{opt} = p_1(s_1)l_1(s_1) + p_1(s_2)l_1(s_2) + p_1(s_3)l_1(s_3) + p_1(s_4)l_1(s_4) + p_1(s_5)l_1(s_5)$$\n$$L_{opt} = (0.05)(4) + (0.25)(2) + (0.15)(3) + (0.10)(4) + (0.45)(1)$$\n$$L_{opt} = 0.20 + 0.50 + 0.45 + 0.40 + 0.45 = 2.00$$\n\n**步骤5：计算效率损失 $\\Delta L$。**\n$$\\Delta L = L_{sub} - L_{opt}$$\n$$\\Delta L = 3.20 - 2.00 = 1.20$$\n将结果四舍五入至四位有效数字，得到 $1.200$。", "answer": "$$\\boxed{1.200}$$", "id": "1610971"}]}