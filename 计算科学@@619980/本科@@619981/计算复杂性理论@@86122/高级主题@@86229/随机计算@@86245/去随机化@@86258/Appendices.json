{"hands_on_practices": [{"introduction": "理论与实践之间的桥梁通常始于对核心定义的透彻理解。这个练习 [@problem_id:1420514] 为我们提供了一个绝佳的起点。它要求我们直接验证一个给定的位串集合是否满足成对独立性和均匀分布这两个关键属性，而不是从头构建。通过系统地检查一个小的、具体的样本空间，你将亲身体验这些理论概念在实践中是如何运作的，并直观地理解为何有限独立性可以显著减少所需样本空间的规模，这是去随机化中的一个核心思想。", "problem": "在理论计算机科学领域，尤其是在随机算法的研究中，两两独立的概念是去随机化的一个强大工具。完全独立的随机变量需要一个很大的样本空间，这在计算上可能成本高昂。两两独立的变量是一个较弱的概念，通常可以用一个显著更小的样本空间来代替。\n\n设 $S$ 是一个由四个长度为三的不同字符串组成的样本空间。我们在 $S$ 上定义一个均匀概率分布，这意味着每个字符串被选中的概率为 $\\frac{1}{4}$。设 $X_1, X_2,$ 和 $X_3$ 是随机变量，分别表示从 $S$ 中均匀随机地选择一个字符串的第一、第二和第三个比特位。\n\n为了使这些变量在许多应用中有用，它们必须满足两个条件：\n1.  **均匀性**：对于 $i \\in \\{1, 2, 3\\}$，每个变量 $X_i$ 都必须是均匀分布的，即它取值为0的概率等于取值为1的概率。也就是说，$P(X_i=0) = P(X_i=1) = \\frac{1}{2}$。\n2.  **两两独立性**：对于每一对不同的索引 $i, j \\in \\{1, 2, 3\\}$，随机变量 $X_i$ 和 $X_j$ 必须是独立的。这意味着对于所有值 $b_1, b_2 \\in \\{0, 1\\}$，联合概率满足 $P(X_i=b_1, X_j=b_2) = P(X_i=b_1)P(X_j=b_2)$。\n\n下列哪个样本空间 $S$ 满足随机变量 $X_1, X_2, X_3$ 的均匀性和两两独立性条件？\n\nA. $S = \\{000, 001, 010, 100\\}$\n\nB. $S = \\{000, 011, 100, 111\\}$\n\nC. $S = \\{000, 011, 101, 110\\}$\n\nD. $S = \\{000, 111, 001, 110\\}$", "solution": "我们在一个包含四个字符串的样本空间上使用均匀分布，因此每个字符串的概率为 $\\frac{1}{4}$。为使 $X_{i}$ 均匀分布，对于每个 $i \\in \\{1,2,3\\}$，我们需要 $P(X_{i}=0)=P(X_{i}=1)=\\frac{1}{2}$。由于分布为这四个字符串分配了相等的权重，这要求在 $S$ 中所有字符串的第 $i$ 个坐标的多重集中，必须恰好有两个0和两个1。对于 $X_{i}$ 和 $X_{j}$ 的两两独立性，因为边际分布必须是均匀的，我们需要对于每个 $b_{1},b_{2} \\in \\{0,1\\}$，都有\n$$\nP(X_{i}=b_{1},X_{j}=b_{2})=P(X_{i}=b_{1})P(X_{j}=b_{2})=\\frac{1}{2}\\cdot\\frac{1}{2}=\\frac{1}{4}.\n$$\n在四个字符串的均匀分布下，这个条件成立当且仅当在这四个字符串中，每个有序对 $(b_{1},b_{2})$ 作为第 $(i,j)$ 个坐标都恰好出现一次。\n\n检查选项A：$S=\\{000,001,010,100\\}$。第一个坐标是 $0,0,0,1$，因此\n$$\nP(X_{1}=0)=\\frac{3}{4}\\neq \\frac{1}{2},\n$$\n所以均匀性不满足，因此A是无效的。\n\n检查选项B：$S=\\{000,011,100,111\\}$。首先检查均匀性：$X_1$ 的坐标为 $(0,0,1,1)$，$X_2$ 为 $(0,1,0,1)$，$X_3$ 为 $(0,1,0,1)$。每个变量都包含两个0和两个1，因此它们都是均匀的。接下来检查两两独立性。对于 $(X_1, X_2)$ 和 $(X_1, X_3)$，可以验证它们是独立的。然而，对于 $(X_2, X_3)$：从 000 得到 (0,0)；从 011 得到 (1,1)；从 100 得到 (0,0)；从 111 得到 (1,1)。这里只有 $(0,0)$ 和 $(1,1)$ 出现，每个出现两次。因此\n$$\nP(X_{2}=0,X_{3}=1)=0 \\neq \\frac{1}{4}=\\frac{1}{2}\\cdot\\frac{1}{2},\n$$\n所以两两独立性不满足；B是无效的。\n\n检查选项D：$S=\\{000,111,001,110\\}$。每个位置都有两个0和两个1，所以每个 $X_{i}$ 都是均匀的。对于 $(X_{1},X_{2})$，这些对是：从 000 得到 (0,0)；从 111 得到 (1,1)；从 001 得到 (0,0)；从 110 得到 (1,1)。因此\n$$\nP(X_{1}=0,X_{2}=1)=0 \\neq \\frac{1}{4},\n$$\n所以两两独立性不满足；D是无效的。\n\n检查选项C：$S=\\{000,011,101,110\\}$。在 $S$ 中，第一、第二和第三个坐标各有两个0和两个1，因此对于每个 $i$，都有\n$$\nP(X_{i}=0)=P(X_{i}=1)=\\frac{1}{2}。\n$$\n对于两两独立性，我们列举出所有的对：\n- 对于 $(X_{1},X_{2})$：从 000 得到 (0,0)；从 011 得到 (0,1)；从 101 得到 (1,0)；从 110 得到 (1,1)。因此对于每个 $(b_{1},b_{2}) \\in \\{0,1\\}^{2}$，\n$$\nP(X_{1}=b_{1},X_{2}=b_{2})=\\frac{1}{4}=\\frac{1}{2}\\cdot\\frac{1}{2}。\n$$\n- 对于 $(X_{1},X_{3})$：从 000 得到 (0,0)；从 011 得到 (0,1)；从 101 得到 (1,1)；从 110 得到 (1,0)，同样每个对出现一次，所以\n$$\nP(X_{1}=b_{1},X_{3}=b_{2})=\\frac{1}{4}=\\frac{1}{2}\\cdot\\frac{1}{2}。\n$$\n- 对于 $(X_{2},X_{3})$：从 000 得到 (0,0)；从 011 得到 (1,1)；从 101 得到 (0,1)；从 110 得到 (1,0)，每个对出现一次，所以\n$$\nP(X_{2}=b_{1},X_{3}=b_{2})=\\frac{1}{4}=\\frac{1}{2}\\cdot\\frac{1}{2}。\n$$\n因此，所有的边际分布都是均匀的，并且所有的对都是独立的。\n\n因此，在给定选项中，唯一有效的选择是C。", "answer": "$$\\boxed{C}$$", "id": "1420514"}, {"introduction": "在我们理解了什么是成对独立性之后，下一个自然的问题就是：我们如何系统地构建它？这个练习 [@problem_id:1420509] 引导我们探索一种经典的构造方法，即使用一个更短的、真正随机的“种子”和异或（XOR）运算来生成一个更大的、具有有限独立性的比特序列。更重要的是，这个练习揭示了伪随机性的一个关键概念：一个分布只对其设计的“测试”类表现出随机性。通过计算一个简单的三位异或和的概率，你将发现这个成对独立的分布是如何在一个三阶测试中“失效”的，从而清晰地描绘出 2-阶独立与 3-阶独立之间的界限。", "problem": "在计算复杂性理论中，一个关键概念是有限独立性。一个在 $\\{0,1\\}^n$ 上的字符串分布被称为 $k$-wise 独立，如果对于任意一组 $k$ 个不同的索引 $\\{i_1, \\dots, i_k\\} \\subseteq \\{1, \\dots, n\\}$，代表这些位置上的比特的随机变量 $(X_{i_1}, \\dots, X_{i_k})$ 在 $\\{0,1\\}^k$ 上是均匀分布的。这类分布对于去随机化算法非常有用。\n\n考虑一个特定的3比特字符串分布，记为 $X = (X_1, X_2, X_3)$，它由一个更短的、真正随机的种子生成。一个种子 $(s_1, s_2)$ 从集合 $\\{0,1\\}^2$ 中均匀随机地选择。然后使用以下关于种子的确定性函数构造3比特字符串 $X$：\n$X_1 = s_1$\n$X_2 = s_2$\n$X_3 = s_1 \\oplus s_2$\n其中 $\\oplus$ 表示按位异或（XOR）运算。这个构造定义了在八个可能的3比特字符串上的一个概率分布。可以验证，该分布是 2-wise 独立的。\n\n从这个分布中抽取的字符串的三个比特的异或和等于1的概率是多少？也就是说，确定 $\\Pr[X_1 \\oplus X_2 \\oplus X_3 = 1]$ 的值。\n\n从以下选项中选择正确的选项。\n\nA. $0$\n\nB. $\\frac{1}{4}$\n\nC. $\\frac{1}{2}$\n\nD. $\\frac{3}{4}$\n\nE. $1$", "solution": "我们给定一个均匀随机的种子 $(s_1,s_2) \\in \\{0,1\\}^{2}$，并定义 $X_1 = s_1$，$X_2 = s_2$，以及 $X_3 = s_1 \\oplus s_2$，其中 $\\oplus$ 表示按位异或。我们要求 $\\Pr[X_1 \\oplus X_2 \\oplus X_3 = 1]$。\n\n使用异或运算的结合律和交换律，以及对于 $a \\in \\{0,1\\}$ 的恒等式 $a \\oplus a = 0$ 和 $a \\oplus 0 = a$。那么\n$$\nX_1 \\oplus X_2 \\oplus X_3 \\;=\\; s_1 \\oplus s_2 \\oplus (s_1 \\oplus s_2)\n\\;=\\; (s_1 \\oplus s_1) \\oplus (s_2 \\oplus s_2)\n\\;=\\; 0 \\oplus 0\n\\;=\\; 0.\n$$\n因此，无论种子如何，异或和总是 $0$。所以事件 $\\{X_1 \\oplus X_2 \\oplus X_3 = 1\\}$ 的概率为 $0$。", "answer": "$$\\boxed{A}$$", "id": "1420509"}, {"introduction": "理论的价值最终体现在其应用上。在探索了有限独立性的定义和构造之后，我们将其应用于一个在算法设计中至关重要的领域：哈希函数。这个练习 [@problem_id:1420528] 展示了成对独立性最强大的用途之一，即构建 2-阶独立哈希函数族。你将了解到，这些抽象的代数性质如何为哈希表等数据结构提供坚实的性能保证，并通过在有限域上求解线性方程组的实际操作，将理论与具体的算法实现联系起来。", "problem": "在随机算法和数据结构的设计中，2-wise独立散列函数族是使用有限的随机性来提供理论保证的基本工具。一个函数族 $H$（其中每个函数 $h \\in H$ 将一个全域 $U$ 映射到一个值域 $V$）被称为 2-wise 独立的，如果对于任意两个不同的元素 $x_1, x_2 \\in U$ 和任意两个（不一定不同的）元素 $y_1, y_2 \\in V$，从 $H$ 中随机选择一个函数 $h$ 同时满足 $h(x_1) = y_1$ 和 $h(x_2) = y_2$ 的概率恰好是 $1/|V|^2$。\n\n构造此类函数族的一个常用方法涉及模运算。考虑一个由整数构成的键的全域 $U = \\{0, 1, ..., 99\\}$。我们希望将这些键映射到一个散列表中。为此，我们选择满足 $p \\ge |U|$ 的最小素数 $p$，即 $p = 101$。\n\n散列函数族 $H$ 定义为所有形式如下的函数 $h_{a,b}$ 的集合，这些函数将集合 $\\{0, 1, ..., 100\\}$ 映射到其自身：\n$$h_{a,b}(x) = (ax + b) \\pmod{101}$$\n其中系数 $a$ 和 $b$ 可以是集合 $\\{0, 1, ..., 100\\}$ 中的任意整数。\n\n该构造的一个关键特性是，对于任意两个不同的键 $x_1, x_2$ 和任意两个散列值 $y_1, y_2$，在函数族 $H$ 中都存在唯一的函数 $h_{a,b}$ 同时满足 $h_{a,b}(x_1) = y_1$ 和 $h_{a,b}(x_2) = y_2$ 这两个条件。\n\n你的任务是找到唯一的散列函数 $h_{a,b}$ 中特定的系数 `a`，该函数需同时满足以下两个映射要求：\n1. 它将键 $x_1 = 10$ 映射到散列值 $y_1 = 50$。\n2. 它将键 $x_2 = 20$ 映射到散列值 $y_2 = 70$。\n\n提供系数 $a$ 的值。答案必须是一个整数。", "solution": "我们在模素数 $101$ 的整数构成的有限域中进行计算。该散列函数族为 $h_{a,b}(x) \\equiv ax + b \\pmod{101}$。这两个映射要求给出了以下同余方程组：\n$$10a + b \\equiv 50 \\pmod{101},$$\n$$20a + b \\equiv 70 \\pmod{101}.$$\n\n将第二个同余方程减去第一个以消去 $b$：\n$$\\left(20a + b\\right) - \\left(10a + b\\right) \\equiv 70 - 50 \\pmod{101},$$\n化简得\n$$10a \\equiv 20 \\pmod{101}.$$\n\n因为 $101$ 是素数且 $10 \\not\\equiv 0 \\pmod{101}$，所以 $10$ 存在模 $101$ 的乘法逆元。为了求出 $10^{-1} \\pmod{101}$，我们使用扩展欧几里得算法：\n$$101 = 10 \\cdot 10 + 1 \\implies 1 = 101 - 10 \\cdot 10.$$\n对 $101$ 取模，得到\n$$10 \\cdot (-10) \\equiv 1 \\pmod{101},$$\n所以\n$$10^{-1} \\equiv -10 \\equiv 91 \\pmod{101}.$$\n\n将 $10a \\equiv 20 \\pmod{101}$ 两边同乘以 $10^{-1}$ 以解出 $a$：\n$$a \\equiv 20 \\cdot 10^{-1} \\equiv 20 \\cdot 91 \\pmod{101}.$$\n计算乘积模 $101$ 的结果：\n$$20 \\cdot 91 = 1820 \\equiv 1820 - 101 \\cdot 18 = 1820 - 1818 = 2 \\pmod{101}.$$\n\n因此，所需的系数为 $a \\equiv 2 \\pmod{101}$。在集合 $\\{0,1,\\ldots,100\\}$ 中取代表元，得到 $a = 2$。快速检验：当 $a=2$ 时，从 $10a + b \\equiv 50$ 我们得到 $b \\equiv 50 - 20 \\equiv 30$，然后 $20a + b \\equiv 40 + 30 \\equiv 70$，符合要求。", "answer": "$$\\boxed{2}$$", "id": "1420528"}]}