{"hands_on_practices": [{"introduction": "对于许多计算上的难题（例如NP-hard问题），找到完美解通常是不可行的，而随机化算法提供了一种强大的替代方案。本练习将通过一个极其简单的随机算法来解决最大2-可满足性问题（MAX-2-SAT），并利用期望的线性性质，揭示其出人意料的有效性。[@problem_id:1441265] 这个实践展示了如何用概率方法为复杂问题提供一个高效且有性能保证的近似解。", "problem": "在计算复杂性理论领域，最大2-可满足性（MAX-2-SAT）问题是一个基本的优化挑战。该问题的一个实例由一组 $n$ 个布尔变量 $V = \\{x_1, x_2, \\dots, x_n\\}$ 和一个包含 $m$ 个子句的集合所定义。每个子句是恰好两个文字的析取（OR 运算）。一个文字可以是变量 $x_i$ 或其否定 $\\neg x_i$。对于任意给定的子句，假定其两个文字涉及不同的变量（例如，形如 $x_i \\lor \\neg x_i$ 或 $x_i \\lor x_i$ 的子句被排除）。MAX-2-SAT 的目标是找到一个真值指派——即将每个变量映射到“真”(TRUE)或“假”(FALSE)——使得被满足的子句总数最大化。\n\n考虑最简单的近似解随机算法：每个变量 $x_i \\in V$ 独立地以 $1/2$ 的概率被赋值为“真”(TRUE)，以 $1/2$ 的概率被赋值为“假”(FALSE)。\n\n对于一个具有 $m > 0$ 个子句并满足上述条件的任意 MAX-2-SAT 实例，应用一次这种随机指派后，被满足子句的期望比例是多少？请用一个单一的闭式解析表达式表示你的答案。", "solution": "设一个子句为 $C=(\\ell_{i} \\lor \\ell_{j})$，其中 $\\ell_{i}$ 是关于变量 $x_{i}$ 的文字，$\\ell_{j}$ 是关于变量 $x_{j}$ 的文字，且 $i \\neq j$。在随机指派下，每个 $x_{k}$ 独立地以概率 $\\frac{1}{2}$ 为真，以概率 $\\frac{1}{2}$ 为假。因此，任何文字（无论是 $x_{k}$ 还是 $\\neg x_{k}$）为真的概率为 $\\frac{1}{2}$，为假的概率也为 $\\frac{1}{2}$。由于文字涉及不同的变量且赋值是独立的，所以 $\\ell_{i}$ 为假和 $\\ell_{j}$ 为假这两个事件是独立的。因此，\n$$\nP(\\text{子句 $C$ 不被满足}) = P(\\ell_{i} \\text{ 为假且 } \\ell_{j} \\text{ 为假}) = \\frac{1}{2} \\cdot \\frac{1}{2} = \\frac{1}{4}.\n$$\n因此，\n$$\nP(\\text{子句 $C$ 被满足}) = 1 - \\frac{1}{4} = \\frac{3}{4}.\n$$\n设 $X_{k}$ 为第 $k$ 个子句被满足的指示变量。那么对于所有的 $k$ 都有 $E[X_{k}] = \\frac{3}{4}$，并且根据期望的线性性质，被满足子句的期望数量为\n$$\nE\\Big[\\sum_{k=1}^{m} X_{k}\\Big] = \\sum_{k=1}^{m} E[X_{k}] = m \\cdot \\frac{3}{4}.\n$$\n被满足子句的期望比例是\n$$\nE\\left[\\frac{1}{m} \\sum_{k=1}^{m} X_{k}\\right] = \\frac{1}{m} \\cdot m \\cdot \\frac{3}{4} = \\frac{3}{4},\n$$\n只要 $m>0$，这个结果就与具体实例无关。", "answer": "$$\\boxed{\\frac{3}{4}}$$", "id": "1441265"}, {"introduction": "在随机化计算中，我们经常需要分析完成某个任务所需的期望时间。本练习探讨了经典的“赠券收集问题”(Coupon Collector's Problem)，这是一个广泛应用于分析网络协议、数据结构等领域的理论模型。通过将总等待时间分解为一系列更简单的阶段，你将学会计算一个随机过程的总体期望，这是算法分析中的一项基本技能。[@problem_id:1441266]", "problem": "在热门在线游戏“Galaxy of Heroes”中，玩家通过从随机的“Chrono-Capsules”中获取“Hero Shards”来获得新角色。\n\n只有当玩家集齐了与某个角色相关的所有不同类型的碎片后，才能解锁该角色。\n\n考虑角色“Zeta Prime”，他需要一套完整的5种不同类型的“Hero Shards”才能解锁。每个“Chrono-Capsule”保证能开出“Zeta Prime”的一个“Hero Shard”。从“Chrono-Capsule”中获得的碎片类型是从5种可能的类型中等可能地随机选择的，且每次获取都是一个独立事件。\n\n玩家需要打开多少个“Chrono-Capsules”才能集齐“Zeta Prime”的全部5种不同类型的“Hero Shard”？求期望数量。您的答案应为一个精确值。", "solution": "设 $T$ 为获得所有 $5$ 种不同类型碎片所需的“Chrono-Capsules”总数。将 $T$ 分解为一系列等待时间的总和：\n$$\nT=\\sum_{k=0}^{4} X_{k},\n$$\n其中 $X_{k}$ 是在已经收集到 $k$ 种不同类型的碎片后，为获得一种新类型碎片所需的额外“Chrono-Capsules”数量。\n\n当已收集到 $k$ 种不同类型的碎片时，下一个“Chrono-Capsule”开出一种新类型碎片的概率为\n$$\np_{k}=\\frac{5-k}{5},\n$$\n因为在 $5$ 种等可能的类型中，有 $5-k$ 种是尚未见过的类型。由于每次开“Chrono-Capsule”的结果是独立的，并且在 $k$ 值固定时 $p_{k}$ 是一个常数，因此 $X_{k}$ 服从几何分布（计算直到首次成功所需的试验次数），其期望为\n$$\n\\mathbb{E}[X_{k}]=\\frac{1}{p_{k}}=\\frac{5}{5-k}.\n$$\n根据期望的线性性，\n$$\n\\mathbb{E}[T]=\\sum_{k=0}^{4} \\mathbb{E}[X_{k}]=\\sum_{k=0}^{4} \\frac{5}{5-k}=5 \\sum_{j=1}^{5} \\frac{1}{j}=5 H_{5},\n$$\n其中 $H_{5}$ 是第五个调和数。精确计算 $H_{5}$：\n$$\nH_{5}=1+\\frac{1}{2}+\\frac{1}{3}+\\frac{1}{4}+\\frac{1}{5}=\\frac{60}{60}+\\frac{30}{60}+\\frac{20}{60}+\\frac{15}{60}+\\frac{12}{60}=\\frac{137}{60}.\n$$\n因此，\n$$\n\\mathbb{E}[T]=5 \\cdot \\frac{137}{60}=\\frac{685}{60}=\\frac{137}{12}.\n$$", "answer": "$$\\boxed{\\frac{137}{12}}$$", "id": "1441266"}, {"introduction": "随机算法的有效性依赖于一个理想的、无偏的随机源，然而在现实世界中，物理随机过程往往存在偏差。本练习提出了一个经典的思维实验：如何利用一枚拥有未知偏差的“不公平硬币”来完美地模拟一枚“公平硬币”。[@problem_id:1441270] 掌握这个巧妙的技巧，有助于你理解在计算中从有偏见的源中提取纯粹随机性的核心思想。", "problem": "一艘深空探测器被设计用于在遥远的系外行星上进行天体生物学分析。该探测器配备了一个传感器，可对大气样本进行二元测量。一次“阳性”检测（我们可标记为'H'）发生的概率为一个恒定但未知的$p$，其中$0 < p < 1$。一次“阴性”检测（标记为'T'）发生的概率为$1-p$。探测器的内部计算机必须仅使用这个有偏传感器的输出来生成完全无偏的随机位（0或1，各自概率为1/2），用于数据加密。\n\n探测器软件实现的程序如下：\n1.  从传感器连续获取两次读数。\n2.  如果两次读数不同（HT或TH），则成功生成一个随机位。序列HT产生'0'，序列TH产生'1'。\n3.  如果两次读数相同（HH或TT），则丢弃这一对读数，并从步骤1重新开始。重复此过程，直到生成一个位。\n\n你的任务是确定探测器为生成一个公平的随机位所需进行的传感器读数的期望次数。请用传感器的阳性检测概率$p$的函数来表示你的答案。", "solution": "我们将每次传感器读数建模为一次伯努利试验，其成功概率为$p$，失败概率为$1-p$，并假设连续的读数是独立同分布的。\n\n在一次试验（一对读数）中，当且仅当两次读数结果不同时，才会生成一个位。每一对读数成功的概率是\n$$\nq = \\Pr(\\text{HT or TH}) = \\Pr(\\text{HT}) + \\Pr(\\text{TH}) = p(1-p) + (1-p)p = 2p(1-p).\n$$\n为获得首次成功所需的读数对数$N$遵循成功概率为$q$的几何分布，因此\n$$\n\\mathbb{E}[N] = \\frac{1}{q} = \\frac{1}{2p(1-p)}.\n$$\n每次试验正好使用两次读数，因此总读数次数$R$为$R = 2N$，根据期望的线性性质，\n$$\n\\mathbb{E}[R] = 2\\,\\mathbb{E}[N] = \\frac{2}{2p(1-p)} = \\frac{1}{p(1-p)}.\n$$\n因此，生成一个公平随机位所需的传感器读数的期望次数是$\\frac{1}{p(1-p)}$。", "answer": "$$\\boxed{\\frac{1}{p(1-p)}}$$", "id": "1441270"}]}