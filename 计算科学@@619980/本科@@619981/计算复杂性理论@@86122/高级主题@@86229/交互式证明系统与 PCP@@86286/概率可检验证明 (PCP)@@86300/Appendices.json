{"hands_on_practices": [{"introduction": "本练习将带你回到计算复杂性理论的基石——3-SAT问题，以最直观的方式揭示概率性可检查证明（PCP）的核心思想。我们将设计一个极其简单的“抽查”验证者，它仅通过读取证明（一个变量赋值）的三个比特，就能对一个大规模3-SAT公式的可满足性进行概率性判断。通过[@problem_id:1437153]的计算，你将亲身体会到，即使在面对一个精心构造的、近乎正确的“伪证明”时，这种局部检查方法也能以很高的概率发现错误，从而理解PCP中“完备性”与“健全性”之间的权衡。", "problem": "一位计算机科学家正在设计一个简单的概率性验证器，用于对 3-可满足性 (3-SAT) 问题的声称解进行“抽查”。一个 3-SAT 公式是 $m$ 个子句的集合，其中每个子句是三个文字（一个变量或其否定）的逻辑或。一个声称的解是对公式中每个变量赋一个布尔值（真/假）的赋值。\n\n该验证器的协议如下：\n1.  从公式的 $m$ 个子句中均匀随机地选择一个。\n2.  从声称的解中，读取所选子句中出现的三个变量的赋值布尔值。\n3.  如果这个值的赋值使子句为真，验证器输出“接受”（ACCEPT）。否则，它输出“拒绝”（REJECT）。\n\n现在，考虑一个特定的、大规模且*不可满足*的 3-SAT 公式。由于该公式是不可满足的，任何声称的满足赋值都必定是错误的。一个对手提供了一个精心构造的赋值，该赋值虽然不能满足整个公式，但能使被满足的子句数量最大化。对于这个特定的公式，已知任何单个赋值能够同时满足的子句的最大比例恰好是 $\\frac{7}{8}$。\n\n如果验证器将其抽查协议应用于这个“尽可能最好”但终究是错误的赋值上，那么验证器被欺骗并输出“接受”（ACCEPT）的概率是多少？请以精确分数的形式给出你的答案。", "solution": "设该 3-SAT 公式有 $m$ 个子句 $\\{C_{1},\\dots,C_{m}\\}$。验证器均匀随机地选择一个子句，因此每个子句被选中的概率为 $\\frac{1}{m}$。\n\n固定一个声称的赋值 $a$。对于每个子句 $C_{i}$，定义指示变量\n$$\nI_{i}(a)=\\begin{cases}\n1, & \\text{if }C_{i}\\text{ is satisfied by }a,\\\\\n0, & \\text{otherwise.}\n\\end{cases}\n$$\n验证器输出 ACCEPT 当且仅当随机选择的子句被满足。因此，根据对子句进行均匀选择的期望定义，\n$$\n\\Pr(\\text{ACCEPT}\\mid a)=\\sum_{i=1}^{m}\\frac{1}{m}\\,I_{i}(a)=\\frac{1}{m}\\sum_{i=1}^{m}I_{i}(a).\n$$\n数量 $\\frac{1}{m}\\sum_{i=1}^{m}I_{i}(a)$ 恰好是被赋值 $a$ 满足的子句的比例。对于问题中给出的对手的最优赋值 $a^{\\ast}$，这个比例是 $\\frac{7}{8}$。因此，\n$$\n\\Pr(\\text{ACCEPT}\\mid a^{\\ast})=\\frac{7}{8}.\n$$\n因此，验证器被欺骗并输出 ACCEPT 的概率是 $\\frac{7}{8}$。", "answer": "$$\\boxed{\\frac{7}{8}}$$", "id": "1437153"}, {"introduction": "在了解了PCP的基本思想后，我们来探索一个构建PCP系统的强大代数工具：低次多项式测试。这个练习将向你展示一个“局部到全局”的深刻原理，即一个函数的全局代数属性（是否为低次多项式）可以通过检查其在随机选取的“线”上的局部行为来高效验证。通过分析[@problem_id:1437147]中验证者的行为，你将理解为何即使证明中仅存在一个微小的瑕疵，一个随机的局部测试也极有可能捕捉到它，这正是PCP定理神奇力量的来源之一。", "problem": "在计算复杂性理论的研究中，低次测试是概率可检验证明（PCPs）的一个基本组成部分。本题探讨了这种测试的一个简化版本。\n\n设 $\\mathbb{F}_q$ 是包含 $q=11$ 个元素的有限域。考虑维度为 $m=3$ 的向量空间 $\\mathbb{F}_q^m$。如果一个函数 $f: \\mathbb{F}_q^m \\to \\mathbb{F}_q$ 可以被写成一个 $m$ 元多项式，其中任意项的次数之和最多为 $d$，则称该函数是一个总次数至多为 $d$ 的多项式。\n\n假设我们对一个函数 $f: \\mathbb{F}_{11}^3 \\to \\mathbb{F}_{11}$ 具有预言机访问权限。我们被告知，这个函数是对某个总次数至多为 $d=5$ 的未知多项式 $p: \\mathbb{F}_{11}^3 \\to \\mathbb{F}_{11}$ 的修改。具体来说，$f$ 的定义如下：\n- 对所有 $\\mathbf{z} \\in \\mathbb{F}_{11}^3$ 且 $\\mathbf{z} \\neq \\mathbf{0}$（原点），有 $f(\\mathbf{z}) = p(\\mathbf{z})$。\n- $f(\\mathbf{0}) = p(\\mathbf{0}) + 1$。\n\n一个验证者想要测试所提供的函数 $f$ 是否为一个总次数至多为 $d=5$ 的多项式。该验证者使用以下随机化协议：\n1.  从 $\\mathbb{F}_{11}^3$ 中独立且均匀随机地选择两个点 $\\mathbf{x}$ 和 $\\mathbf{y}$。如果 $\\mathbf{x} = \\mathbf{y}$，则丢弃这对点并重复选择过程，直到获得两个不同的点。\n2.  考虑 $\\mathbb{F}_{11}^3$ 中穿过点 $\\mathbf{x}$ 和 $\\mathbf{y}$ 的唯一一条直线 $L$。这条直线包含 11 个不同的点，可以参数化为 $L = \\{\\mathbf{x} + t(\\mathbf{y}-\\mathbf{x}) \\mid t \\in \\mathbb{F}_{11}\\}$。\n3.  验证者向预言机查询函数 $f$ 在直线 $L$ 上所有 11 个点的值。这样定义了一个单变量函数 $g: \\mathbb{F}_{11} \\to \\mathbb{F}_{11}$，由 $g(t) = f(\\mathbf{x} + t(\\mathbf{y}-\\mathbf{x}))$ 给出。\n4.  当且仅当函数 $g(t)$ 是一个关于变量 $t$ 的次数至多为 $5$ 的多项式时，验证者接受。\n\n计算验证者接受的概率。将你的最终答案表示为一个精确分数。", "solution": "在推导过程中，我们先使用通用的 $q$，最后再代入 $q=11$。设 $p:\\mathbb{F}_{q}^{3}\\to\\mathbb{F}_{q}$ 是一个总次数至多为 $d=5$ 的多项式，并定义 $f$ 为：当 $\\mathbf{z}\\neq \\mathbf{0}$ 时，$f(\\mathbf{z})=p(\\mathbf{z})$；当 $\\mathbf{z}=\\mathbf{0}$ 时，$f(\\mathbf{0})=p(\\mathbf{0})+1$。\n\n给定相异的 $\\mathbf{x},\\mathbf{y}\\in \\mathbb{F}_{q}^{3}$，直线 $L=\\{\\mathbf{x}+t(\\mathbf{y}-\\mathbf{x}):t\\in\\mathbb{F}_{q}\\}$ 包含 $q$ 个点。定义\n$$\nh(t)=p\\big(\\mathbf{x}+t(\\mathbf{y}-\\mathbf{x})\\big).\n$$\n由于一个次数为 $d$ 的多元多项式在一条仿射直线上的限制是一个次数至多为 $d$ 的单变量多项式，因此 $h(t)$ 是一个次数 $\\deg h\\leq 5$ 的单变量多项式。验证者计算\n$$\ng(t)=f\\big(\\mathbf{x}+t(\\mathbf{y}-\\mathbf{x})\\big).\n$$\n\n有两种情况：\n1) 如果 $\\mathbf{0}\\notin L$，那么在 $L$ 的所有点上都有 $f=p$，因此对所有 $t\\in\\mathbb{F}_{q}$ 都有 $g(t)=h(t)$。所以 $g$ 是一个次数至多为 $5$ 的多项式，验证者接受。\n\n2) 如果 $\\mathbf{0}\\in L$，那么存在唯一的 $t^{\\ast}\\in\\mathbb{F}_{q}$ 满足 $\\mathbf{x}+t^{\\ast}(\\mathbf{y}-\\mathbf{x})=\\mathbf{0}$。对于所有 $t\\neq t^{\\ast}$，我们有 $g(t)=h(t)$，而在 $t^{\\ast}$ 处，我们有 $g(t^{\\ast})=h(t^{\\ast})+1$。假设（为了导出矛盾）$g$ 是一个次数至多为 $5$ 的单变量多项式。那么 $r(t)=g(t)-h(t)$ 是一个次数至多为 $5$ 的单变量多项式，它至少有 $q-1$ 个零点（所有 $t\\neq t^{\\ast}$），但在 $t^{\\ast}$ 处不为零。在一个域上，一个次数至多为 $5$ 的非零单变量多项式最多有 $5$ 个根，所以 $r$ 必须恒为零，这与假设矛盾。因此，如果 $\\mathbf{0}\\in L$，验证者会拒绝。\n\n因此，验证者接受当且仅当随机选择的直线 $L$ 不经过原点。在给定的选择过程（独立均匀选择 $\\mathbf{x},\\mathbf{y}$ 且 $\\mathbf{x}\\neq\\mathbf{y}$）下，直线的分布是均匀的，所以我们只需计算一个随机有序对 $(\\mathbf{x},\\mathbf{y})$（其中 $\\mathbf{x}\\neq\\mathbf{y}$）与原点共线的概率。\n\n设 $V=\\mathbb{F}_{q}^{3}$。满足 $\\mathbf{x}\\neq\\mathbf{y}$ 的有序对的总数为\n$$\nN_{\\text{tot}}=q^{3}(q^{3}-1).\n$$\n计算直线经过原点的“坏”有序对的数量，即 $\\mathbf{x}$ 和 $\\mathbf{y}$ 位于同一个一维子空间中（等价于 $\\mathbf{y}\\in\\langle \\mathbf{x}\\rangle$），且 $\\mathbf{y}\\neq\\mathbf{x}$：\n- 如果 $\\mathbf{x}=\\mathbf{0}$，那么任何 $\\mathbf{y}\\neq\\mathbf{0}$ 都可以，这会产生 $q^{3}-1$ 对。\n- 如果 $\\mathbf{x}\\neq\\mathbf{0}$，那么 $\\langle \\mathbf{x}\\rangle$ 有 $q$ 个元素。排除 $\\mathbf{y}=\\mathbf{x}$ 后，对于 $q^{3}-1$ 个非零的 $\\mathbf{x}$ 中的每一个，都有 $q-1$ 个有效的 $\\mathbf{y}$ 可供选择。\n\n因此\n$$\nN_{\\text{bad}}=(q^{3}-1)+(q^{3}-1)(q-1)=q(q^{3}-1).\n$$\n因此拒绝概率是\n$$\n\\frac{N_{\\text{bad}}}{N_{\\text{tot}}}=\\frac{q(q^{3}-1)}{q^{3}(q^{3}-1)}=\\frac{1}{q^{2}},\n$$\n接受概率是\n$$\n1-\\frac{1}{q^{2}}.\n$$\n代入 $q=11$ 得到\n$$\n1-\\frac{1}{11^{2}}=1-\\frac{1}{121}=\\frac{120}{121}.\n$$", "answer": "$$\\boxed{\\frac{120}{121}}$$", "id": "1437147"}, {"introduction": "单个随机测试或许存在一定的误判概率，那么我们如何将这种不确定性降至任意低的水平呢？本练习将为你解答这一关键问题，介绍PCP乃至整个随机算法领域中的一个基本技术——“放大”（Amplification）。通过一个简单的概率计算[@problem_id:1437141]，你将看到通过重复独立的测试，验证者犯错的概率会呈指数级下降。这个练习虽然简单，但它揭示了如何将一个有瑕疵的概率测试转化为一个几乎完美无缺的工具的强大思想。", "problem": "在计算复杂性理论的研究中，一个概率可检验证明（PCP）系统的验证者是一种算法，它通过对一个数学证明进行有限次数的查询来检查其有效性。这个过程本质上是概率性的。\n\n考虑一个PCP验证者，其运行方式如下：为了检查一个给定的证明，它执行一系列 $k$ 次独立的随机检查。对于任何给定的不正确证明，单次、孤立的检查未能检测到错误从而错误地通过的概率为 $s$，其中 $0 < s < 1$。该验证者的协议是：当且仅当其所有 $k$ 次检查都通过时，才接受整个证明。如果有一次或多次检查失败，验证者就拒绝该证明。\n\n假设提供给验证者的是一个不正确的证明，请确定其总体健全性错误。健全性错误被定义为验证者错误地接受该证明的总概率。请用 $s$ 和 $k$ 将你的答案表示为一个闭式解析表达式。", "solution": "健全性错误是验证者接受一个不正确证明的概率。验证者当且仅当所有 $k$ 次检查都通过时才接受证明。对于一个不正确的证明，设 $E_{i}$ 为第 $i$ 次检查未能检测到错误从而通过的事件。根据假设，对每个 $i \\in \\{1,\\dots,k\\}$，都有 $\\Pr(E_{i})=s$，其中 $0<s<1$，且各次检查是独立的。\n\n根据独立性，所有 $k$ 次检查都通过的概率是它们各自概率的乘积：\n$$\n\\Pr\\left(\\bigcap_{i=1}^{k} E_{i}\\right)=\\prod_{i=1}^{k} \\Pr(E_{i})=s^{k}.\n$$\n因为验证者当且仅当所有检查都通过时才接受证明，所以总的健全性错误等于这个概率。因此，健全性错误是\n$$\ns^{k}.\n$$", "answer": "$$\\boxed{s^{k}}$$", "id": "1437141"}]}