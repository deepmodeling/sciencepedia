{"hands_on_practices": [{"introduction": "为了开始我们对奇偶性函数的实践探索，让我们先思考一个基本问题：要计算它，究竟需要多少信息？这个练习提出了一个简单的查询游戏，直击奇偶性函数计算复杂度的核心 [@problem_id:1460431]。通过确定你必须揭示的最小比特数，你将具体理解为什么在各种计算模型中，奇偶性通常被认为是一个“困难”的函数，因为它依赖于输入的每一个部分。", "problem": "你正在和一位游戏主持人玩一个名为“奇偶谜题”的游戏。游戏主持人秘密选择一个长度为 $n$ 的二进制字符串 $B$，其中 $B = b_1 b_2 \\dots b_n$，且每个 $b_i$ 为 0 或 1。\n\n你的目标是确定字符串 $B$ 的奇偶性。一个二进制字符串的奇偶性定义为：如果字符串中 1 的数量为奇数，则奇偶性为 1；如果为偶数，则奇偶性为 0。\n\n为了实现这个目标，你可以进行一种特定类型的查询。在每次查询中，你可以选择一个索引 $i$（其中 $1 \\le i \\le n$），并向游戏主持人询问比特 $b_i$ 的值。游戏主持人会如实地告知 $b_i$ 的值。\n\n无论游戏主持人选择了哪个字符串，为了完全确定整个字符串 $B$ 的奇偶性，你必须进行的最少查询次数是多少？请用 $n$ 的函数表示你的答案。", "solution": "设 $B = b_{1}b_{2}\\dots b_{n}$，其中每个 $b_{i} \\in \\{0,1\\}$。$B$ 的奇偶性是其所有比特的异或和，定义为\n$$\nP(B) = \\bigoplus_{i=1}^{n} b_{i},\n$$\n如果 1 的数量为奇数，该值等于 $1$，否则等于 $0$。\n\n下界（$n$ 次查询的必要性）：考虑任何一个查询 $k<n$ 个索引的确定性策略（可能是自适应的），并假设被查询的索引集合为 $Q \\subset \\{1,\\dots,n\\}$ 且 $|Q|=k$。在得到 $k$ 个答案后，至少还存在一个未被查询的索引 $j \\notin Q$。设 $B$ 是与这 $k$ 个已揭示的比特一致的任意字符串。构造另一个字符串 $B'$，它在所有被查询的索引上以及除了 $j$ 以外的所有未被查询的索引上都与 $B$ 一致，但在索引 $j$ 处设置 $b'_{j} = b_{j} \\oplus 1$。那么\n$$\nP(B') = \\left(\\bigoplus_{i \\in Q} b_{i}\\right) \\oplus \\left(\\bigoplus_{i \\notin Q, i \\neq j} b_{i}\\right) \\oplus b'_{j}\n= \\left(\\bigoplus_{i=1}^{n} b_{i}\\right) \\oplus 1\n= P(B) \\oplus 1.\n$$\n因此，对于相同的 $k$ 次查询结果，奇偶性为 $0$ 和 $1$ 这两种情况都是可能的，所以无法确定 $P(B)$ 的值。因此，任何正确的策略在最坏情况下都至少需要 $n$ 次查询。\n\n上界（$n$ 次查询的充分性）：查询所有 $n$ 个比特，利用异或运算的结合律和交换律计算 $P(B) = \\bigoplus_{i=1}^{n} b_{i}$，并输出结果。这个方法恰好使用 $n$ 次查询，并且总是正确的。\n\n通过匹配下界和上界，可以得出，要确定奇偶性所需的最少查询次数为 $n$。", "answer": "$$\\boxed{n}$$", "id": "1460431"}, {"introduction": "在理解了奇偶性的信息需求的基础上，让我们在一个更动态、更具策略性的情境中探索它的核心属性。这个双人游戏将奇偶性计算转变为一场控制权的竞赛，胜者取决于谁能操纵系统的最终状态 [@problem_id:1460428]。分析获胜策略揭示了一个关于单个比特的变化如何影响整体奇偶性的关键洞见，这一原则具有广泛的应用。", "problem": "两名玩家，玩家1和玩家2，进行一场“奇偶游戏”。游戏在一组最初为空的 $n$ 个比特位上进行。玩家1先开始游戏。之后两名玩家轮流行动。在每一轮中，玩家必须选择一个当前为空的比特位，并在其中写入“0”或“1”。一旦比特位被写入，就不能更改。游戏在 $n$ 轮后结束，此时所有比特位都将被填满。\n\n如果最终的 $n$ 比特字符串包含奇数个“1”（即具有奇数奇偶性），则玩家1获胜。如果最终的 $n$ 比特字符串包含偶数个“1”（即具有偶数奇偶性），则玩家2获胜。假设两名玩家都以最佳策略来达成自己的获胜条件。\n\n下列哪个陈述正确描述了玩家1拥有必胜策略的条件？\n\nA. 当且仅当 $n$ 为奇数时，玩家1有必胜策略。\n\nB. 当且仅当 $n$ 为偶数时，玩家1有必胜策略。\n\nC. 对于任何正整数 $n$，玩家1都有必胜策略。\n\nD. 对于任何正整数 $n$，玩家2都有必胜策略。\n\nE. 任何一方的必胜策略都取决于具体的行棋顺序，而不仅仅是 $n$ 的值。", "solution": "设 $s_{k}$ 表示 $k$ 轮后写入的“1”的总数。初始时，$s_{0}=0$。在第 $k+1$ 轮中，当前行动的玩家选择一个比特 $b_{k+1}\\in\\{0,1\\}$，总数更新为\n$$\ns_{k+1}=s_{k}+b_{k+1}.\n$$\n$k$ 轮后的奇偶性为 $s_{k}\\bmod 2$。在第 $n$ 轮（即最后一轮）中，给定当前的奇偶性 $s_{n-1}\\bmod 2$，最后一名玩家可以通过设置\n$$\nb_{n}\\equiv t - s_{n-1}\\pmod{2}.\n$$\n来选择 $b_{n}$，从而使最终的奇偶性 $(s_{n-1}+b_{n})\\bmod 2$ 等于任何期望的目标 $t\\in\\{0,1\\}$。\n\n由于 $t-s_{n-1}\\pmod{2}\\in\\{0,1\\}$，这个选择总是可行的。因此，最后一名玩家可以强制使最终的奇偶性成为对自己有利的奇偶性：玩家1的目标是 $t=1$（奇数），玩家2的目标是 $t=0$（偶数）。\n\n当且仅当 $n$ 为奇数时，最后一轮由玩家1行动（因为玩家1在第 $1,3,\\dots$ 轮行动）；当且仅当 $n$ 为偶数时，最后一轮由玩家2行动。因此，当且仅当 $n$ 为奇数时，玩家1有必胜策略。\n\n所以，正确选项是A。", "answer": "$$\\boxed{A}$$", "id": "1460428"}, {"introduction": "最后，我们将从组合和博弈论的视角转向代数视角，这是现代计算复杂性理论中一种强大的方法。这个练习挑战你将离散的、逻辑的奇偶性函数表示为一个连续的、实值的多项式 [@problem_id:1460441]。找到这个唯一的多项式表示不仅仅是一个代数谜题；它是迈向布尔函数分析的第一步，该技术被用来证明关于其结构和复杂度的深刻结果。", "problem": "在分析布尔函数时，将其表示为实值多项式通常很有用。考虑三变量奇偶函数，记作 $PARITY_3: \\{0,1\\}^3 \\to \\{0,1\\}$。如果输入中等于 $1$ 的数量为奇数，该函数返回 $1$，否则返回 $0$。例如，$PARITY_3(1,0,0)=1$ 且 $PARITY_3(1,1,0)=0$。\n\n一个多项式 $P(x_1, x_2, x_3)$ 被称为是多线性的，如果在其每一个项中，每个变量 $x_i$ 的次数最多为一。存在一个唯一的实值多线性多项式，对于定义域 $\\{0,1\\}^3$ 上的所有八种可能的输入，其输出与 $PARITY_3$ 函数的输出完全匹配。\n\n求这个唯一的多线性多项式。请用 $x_1$、$x_2$ 和 $x_3$ 的多项式形式表示你的答案。", "solution": "我们寻求唯一的实值多线性多项式 $P(x_{1},x_{2},x_{3})$，它在 $\\{0,1\\}^{3}$ 的所有输入上都等于 $PARITY_{3}(x_{1},x_{2},x_{3})$。任何三变量的多线性多项式都具有以下形式\n$$\nP(x_{1},x_{2},x_{3})=a_{0}+a_{1}x_{1}+a_{2}x_{2}+a_{3}x_{3}+a_{12}x_{1}x_{2}+a_{13}x_{1}x_{3}+a_{23}x_{2}x_{3}+a_{123}x_{1}x_{2}x_{3}.\n$$\n我们通过使 $P$ 在立方体的每个角点上与 $PARITY_{3}$ 匹配来确定系数。\n\n使用 $PARITY_{3}(0,0,0)=0$ 可得\n$$\nP(0,0,0)=a_{0}=0.\n$$\n使用 $PARITY_{3}(1,0,0)=1$，$PARITY_{3}(0,1,0)=1$ 和 $PARITY_{3}(0,0,1)=1$ 可得\n$$\nP(1,0,0)=a_{0}+a_{1}=1 \\;\\Rightarrow\\; a_{1}=1,\n$$\n$$\nP(0,1,0)=a_{0}+a_{2}=1 \\;\\Rightarrow\\; a_{2}=1,\n$$\n$$\nP(0,0,1)=a_{0}+a_{3}=1 \\;\\Rightarrow\\; a_{3}=1.\n$$\n使用 $PARITY_{3}(1,1,0)=0$，$PARITY_{3}(1,0,1)=0$ 和 $PARITY_{3}(0,1,1)=0$ 可得\n$$\nP(1,1,0)=a_{0}+a_{1}+a_{2}+a_{12}=0 \\;\\Rightarrow\\; 0+1+1+a_{12}=0 \\;\\Rightarrow\\; a_{12}=-2,\n$$\n$$\nP(1,0,1)=a_{0}+a_{1}+a_{3}+a_{13}=0 \\;\\Rightarrow\\; 0+1+1+a_{13}=0 \\;\\Rightarrow\\; a_{13}=-2,\n$$\n$$\nP(0,1,1)=a_{0}+a_{2}+a_{3}+a_{23}=0 \\;\\Rightarrow\\; 0+1+1+a_{23}=0 \\;\\Rightarrow\\; a_{23}=-2.\n$$\n最后，使用 $PARITY_{3}(1,1,1)=1$ 可得\n$$\nP(1,1,1)=a_{0}+a_{1}+a_{2}+a_{3}+a_{12}+a_{13}+a_{23}+a_{123}=1,\n$$\n$$\n0+1+1+1-2-2-2+a_{123}=1 \\;\\Rightarrow\\; -3+a_{123}=1 \\;\\Rightarrow\\; a_{123}=4.\n$$\n代入所有系数，得到唯一的多线性多项式\n$$\nP(x_{1},x_{2},x_{3})=x_{1}+x_{2}+x_{3}-2x_{1}x_{2}-2x_{1}x_{3}-2x_{2}x_{3}+4x_{1}x_{2}x_{3}.\n$$", "answer": "$$\\boxed{x_{1}+x_{2}+x_{3}-2x_{1}x_{2}-2x_{1}x_{3}-2x_{2}x_{3}+4x_{1}x_{2}x_{3}}$$", "id": "1460441"}]}