{"hands_on_practices": [{"introduction": "在构建单调电路之前，我们首先需要深刻理解单调函数本身的性质。描述单调函数的一个强大方法是通过其“最小为真输入”集合。这个练习将引导你探索一个单调函数的代数表示（其最小析取范式 DNF）与其行为定义之间的根本联系，这对于分析和简化复杂逻辑至关重要。[@problem_id:1432217]", "problem": "在计算复杂性理论的研究中，一个布尔函数 $f: \\{0,1\\}^n \\to \\{0,1\\}$ 被称为**单调**函数，如果对于任意两个输入向量 $u = (u_1, \\dots, u_n)$ 和 $v = (v_1, \\dots, v_n)$，当对所有 $i=1, \\dots, n$ 都有 $u_i \\le v_i$ 时，$f(u) \\le f(v)$ 成立。通俗地说，这意味着将一个输入从 0 变为 1 绝不会使函数的输出从 1 变为 0。这类函数仅用逻辑与（$\\land$）和逻辑或（$\\lor$）运算符即可表示。\n\n对于一个单调函数 $f$，其**极小真输入**是指一个输入向量 $v$，使得 $f(v) = 1$，但对于通过将 $v$ 中的单个 1 变为 0 而得到的任何向量 $v'$，都有 $f(v') = 0$。所有极小真输入的集合完全刻画了一个单调函数。\n\n考虑一个 4 变量单调布尔函数 $f(x_1, x_2, x_3, x_4)$，其定义如下：\n$$\nf(x_1, x_2, x_3, x_4) = (x_1 \\land x_2) \\lor (x_3 \\land (x_1 \\lor x_4))\n$$\n下列哪个选项表示函数 $f$ 的所有极小真输入的完整集合？输入向量用二进制字符串表示，其中第 $i$ 个字符对应于 $x_i$ 的值。\n\nA. {`1100`, `1010`}\n\nB. {`1100`, `1010`, `1110`}\n\nC. {`1100`, `1010`, `0011`}\n\nD. {`0100`, `0010`, `0001`}\n\nE. {`1100`, `1010`, `0011`, `1011`}", "solution": "问题要求解单调布尔函数 $f(x_1, x_2, x_3, x_4) = (x_1 \\land x_2) \\lor (x_3 \\land (x_1 \\lor x_4))$ 的所有极小真输入的完整集合。\n\n寻找一个单调函数极小真输入的一种标准方法是，首先将该函数表示为其极小析取范式 (DNF)。对于一个单调函数，其极小析取范式中的每一项都精确对应一个极小真输入。\n\n首先，我们应用 $\\land$ 对 $\\lor$ 的分配律，将给定的 $f$ 表达式展开为析取范式。分配律表明 $A \\land (B \\lor C) = (A \\land B) \\lor (A \\land C)$。\n将此应用于函数表达式的第二部分：\n$$\nx_3 \\land (x_1 \\lor x_4) = (x_3 \\land x_1) \\lor (x_3 \\land x_4)\n$$\n将其代回 $f$ 的表达式中：\n$$\nf(x_1, x_2, x_3, x_4) = (x_1 \\land x_2) \\lor \\left( (x_1 \\land x_3) \\lor (x_3 \\land x_4) \\right)\n$$\n所以，$f$ 的析取范式是：\n$$\nf = (x_1 \\land x_2) \\lor (x_1 \\land x_3) \\lor (x_3 \\land x_4)\n$$\n\n接下来，我们需要确保这是极小析取范式。我们可以使用吸收律检查冗余，该定律表明 $P \\lor (P \\land Q) = P$。如果析取范式中的一个项被另一个项所蕴含，则该项是冗余的。对于单调函数，这意味着检查一个项（变量的合取）是否是另一个项的超集。例如，$(x_1 \\land x_2 \\land x_3)$ 被 $(x_1 \\land x_2)$ 吸收。\n我们来检查析取范式中的三项：\n1. $T_1 = x_1 \\land x_2$\n2. $T_2 = x_1 \\land x_3$\n3. $T_3 = x_3 \\land x_4$\n\n这些项中没有一项包含另一项的所有变量。例如，$T_1$ 不包含 $x_3$ (来自 $T_2$) 或 $x_4$ (来自 $T_3$)，所以它不能被吸收。类似地，$T_2$ 不能被 $T_1$ 或 $T_3$ 吸收，而 $T_3$ 也不能被 $T_1$ 或 $T_2$ 吸收。因此，析取范式 $f = (x_1 \\land x_2) \\lor (x_1 \\land x_3) \\lor (x_3 \\land x_4)$ 是极小的。\n\n这个极小析取范式中的每一项都对应一个极小真输入。形如 $x_{i_1} \\land x_{i_2} \\land \\dots \\land x_{i_k}$ 的项对应于一个输入向量，其中变量 $x_{i_1}, x_{i_2}, \\dots, x_{i_k}$ 被设为 1，所有其他变量被设为 0。这个输入是极小的，因为将这些指定变量中的任何一个设为 0 都会使该项为假，并且由于所有其他变量都已经是零，析取范式中的其他项也将为假，导致函数求值为 0。\n\n让我们从这些项中推导出极小真输入：\n- 从项 $x_1 \\land x_2$：我们将 $x_1=1, x_2=1$，其余的设为 0。这得到输入向量 $(1,1,0,0)$，对应于二进制字符串 `1100`。\n- 从项 $x_1 \\land x_3$：我们将 $x_1=1, x_3=1$，其余的设为 0。这得到输入向量 $(1,0,1,0)$，对应于二进制字符串 `1010`。\n- 从项 $x_3 \\land x_4$：我们将 $x_3=1, x_4=1$，其余的设为 0。这得到输入向量 $(0,0,1,1)$，对应于二进制字符串 `0011`。\n\n因此，所有极小真输入的完整集合是 {`1100`, `1010`, `0011`}。\n\n将此与给定选项进行比较：\n- A. {`1100`, `1010`} 是不完整的；它缺少 `0011`。\n- B. {`1100`, `1010`, `1110`} 包含 `1110`，但它不是一个极小真输入。对于输入 `1110`，我们有 $f(1,1,1,0) = (1\\land1)\\lor(1\\land(1\\lor0)) = 1$。然而，如果我们将 $x_3$ 从 1 变为 0，我们得到输入 `1100`。对于 `1100`，$f(1,1,0,0)=(1\\land1)\\lor(0\\land(1\\lor0))=1$。由于将一个 1 变为 0 并未使函数值变为 0，因此 `1110` 不是极小的。它被极小真输入 `1100` “覆盖”了。\n- C. {`1100`, `1010`, `0011`} 是我们推导出的正确集合。\n- D. {`0100`, `0010`, `0001`} 表示只有一个 1 的输入。这些都不能使函数为真。例如，$f(0,1,0,0) = (0\\land1)\\lor(0\\land(0\\lor0)) = 0$。\n- E. {`1100`, `1010`, `0011`, `1011`} 包含了正确的集合，但还包括了 `1011`。输入 `1011` 不是极小的。$f(1,0,1,1)=(1\\land0)\\lor(1\\land(1\\lor1))=1$。然而，它（在按分量序的意义上）包含两个极小真输入作为子向量：`1010` 和 `0011`。例如，$f(1,0,1,0)=1$，所以将 $x_4$ 从 1 变为 0 并不会翻转函数的输出。因此 `1011` 不是极小的。\n\n因此，正确的选项是 C。", "answer": "$$\\boxed{C}$$", "id": "1432217"}, {"introduction": "理解了函数之后，下一步就是将其高效地实现为逻辑电路。本练习将挑战你超越将公式直接翻译为电路的简单方法，通过巧妙地运用布尔代数来寻找更优化的设计。你将学习如何使用“规模”和“深度”来衡量电路效率，并应用代数简化来创建更紧凑、更快速的电路。[@problem_id:1432269]", "problem": "一个用于自动驾驶汽车的安全关键系统依赖于三个独立的传感器 $S_1$、$S_2$ 和 $S_3$ 来监测一种环境状况。该系统采用冗余设计以确保可靠性。当且仅当三个传感器中至少有两个同时被触发时，系统的控制单元才会启动一个安全协议。\n\n设每个传感器的状态由一个布尔变量 $x_i$ 表示，其中如果传感器 $S_i$ 被触发，则 $x_i=1$，否则 $x_i=0$。启动安全协议的决策可以用一个布尔函数 $f(x_1, x_2, x_3)$ 来描述，如果协议应被启动，则函数输出1，否则输出0。\n\n该逻辑必须使用一个**单调布尔电路**来实现。就本问题而言，单调布尔电路是根据以下规则构建的门网络：\n-   电路输入为变量 $x_1, x_2, x_3$。\n-   电路只包含与门 ($\\land$) 和或门 ($\\lor$)。不允许使用任何其他类型的门（如非门）。\n-   每个门必须正好有两个输入（即扇入数为2）。\n-   电路必须有一个与函数 $f(x_1, x_2, x_3)$ 对应的单一输出。\n\n电路的**大小**定义为其包含的门的总数。电路的**深度**定义为从任何输入变量到最终输出门的最长路径的长度。\n\n找出实现函数 $f$ 的最高效（即可能最小尺寸）的单调布尔电路的大小 $S$ 和深度 $D$。以整数对 $(S, D)$ 的形式给出你的答案。", "solution": "问题要求计算一个函数 $f(x_1, x_2, x_3)$ 的最小尺寸单调电路的大小 $S$ 和深度 $D$。当该函数至少有两个输入为真时，其值为真。这也被称为三变量的阈值-2函数，记作 $Th_2^3$。\n\n首先，我们必须用布尔运算来表示函数 $f(x_1, x_2, x_3)$。条件“$x_1, x_2, x_3$ 中至少有两个为真”可以写成所有可能的对都为真的析取形式：\n($x_1$ 为真 且 $x_2$ 为真) 或 ($x_1$ 为真 且 $x_3$ 为真) 或 ($x_2$ 为真 且 $x_3$ 为真)。\n用布尔代数表示法，即为：\n$$f(x_1, x_2, x_3) = (x_1 \\land x_2) \\lor (x_1 \\land x_3) \\lor (x_2 \\land x_3)$$\n这是该函数的析取范式 (DNF)。\n\n一个直接的电路构建方法是直接实现这个表达式。\n1.  计算三个与项：\n    -   $g_1 = x_1 \\land x_2$ (1个与门)\n    -   $g_2 = x_1 \\land x_3$ (1个与门)\n    -   $g_3 = x_2 \\land x_3$ (1个与门)\n2.  使用或门组合这些项。由于门被限制为2个输入，我们需要两个或门来组合这三个项：\n    -   $g_4 = g_1 \\lor g_2$ (1个或门)\n    -   $f = g_4 \\lor g_3$ (1个或门)\n\n计算门的数量，我们有3个与门和2个或门，总大小为5。虽然这种构造是有效的，但我们必须确定它是否是最高效的（最小尺寸）。让我们研究一下是否可以简化布尔表达式以使用更少的门。\n\n我们可以对该表达式进行因式分解。让我们从前两项中提出因子 $x_1$：\n$$f(x_1, x_2, x_3) = (x_1 \\land (x_2 \\lor x_3)) \\lor (x_2 \\land x_3)$$\n我们来验证这是否是同一个函数。根据分配律，$x_1 \\land (x_2 \\lor x_3) = (x_1 \\land x_2) \\lor (x_1 \\land x_3)$。将其代回即可得到原始表达式，因此因式分解是正确的。\n\n现在，我们基于这个新表达式 $f = (x_1 \\land (x_2 \\lor x_3)) \\lor (x_2 \\land x_3)$ 构建电路。我们可以按如下方式构建它：\n1.  计算最内层括号中的项：$g_1 = x_2 \\lor x_3$。这需要一个或门。\n2.  计算最终析取中的第二项：$g_2 = x_2 \\land x_3$。这需要一个与门。\n3.  计算第一个主要项：$g_3 = x_1 \\land g_1 = x_1 \\land (x_2 \\lor x_3)$。这需要一个与门，它以 $x_1$ 和 $g_1$ 的输出作为输入。\n4.  计算最终函数：$f = g_3 \\lor g_2$。这需要一个或门，它以 $g_3$ 和 $g_2$ 的输出作为输入。\n\n总共，该电路使用了1个或门（用于$g_1$），1个与门（用于$g_2$），1个与门（用于$g_3$）和1个或门（用于$f$）。门的总数为 $1+1+1+1 = 4$。\n由于这比最初的大小5要小，所以这是一个更高效的设计。可以证明（尽管本题不要求）对于使用2输入单调门的该函数，大小为4确实是最优的。因此，最小大小为 $S=4$。\n\n接下来，我们计算这个大小为4的电路的深度 $D$。深度是从输入到输出的最长路径。\n-   输入 $x_1, x_2, x_3$ 的深度为0。\n-   门 $g_1 = x_2 \\lor x_3$ 和 $g_2 = x_2 \\land x_3$ 直接从源变量获取输入。它们的深度为1。\n-   门 $g_3 = x_1 \\land g_1$ 依赖于输入变量 $x_1$（深度为0）和门 $g_1$ 的输出（深度为1）。它的深度为 $1 + \\max(\\text{深度}(x_1), \\text{深度}(g_1)) = 1 + \\max(0, 1) = 2$。\n-   最终输出门 $f = g_3 \\lor g_2$ 依赖于 $g_3$ 的输出（深度为2）和 $g_2$ 的输出（深度为1）。它的深度为 $1 + \\max(\\text{深度}(g_3), \\text{深度}(g_2)) = 1 + \\max(2, 1) = 3$。\n\n最长路径经过门 $g_1$，然后是 $g_3$，再然后是 $f$。例如，从 $x_2$ 经由 $g_1$ 和 $g_3$ 到 $f$ 的路径长度为3。因此，电路的深度为 $D=3$。\n\n最小大小为 $S=4$，对应的深度为 $D=3$。答案是数对 $(4, 3)$。", "answer": "$$\\boxed{\\begin{pmatrix} 4 & 3 \\end{pmatrix}}$$", "id": "1432269"}, {"introduction": "我们已经看到，单调函数既可以表示为电路，也可以表示为公式，例如析取范式（DNF）。但这两种表示方式的效率是否相当？这个练习揭示了计算复杂性理论中的一个关键概念：对于某些函数，电路的表示可以比其等价的 DNF 公式指数级地更紧凑。通过这个具体的“指数爆炸”例子，你将更深刻地体会到为什么电路是如此强大的计算模型。[@problem_id:1432222]", "problem": "在计算复杂性理论中，单调布尔电路是一种仅使用与门（$\\land$）和或门（$\\lor$）构建的电路，其输入来自一组变量 $\\{x_1, x_2, \\ldots, x_n\\}$。单调电路不包含任何非门（$\\neg$）。电路的大小定义为其包含的总门数。\n\n由单调电路计算的任何函数都可以用等价的单调析取范式（DNF）公式表示。单调 DNF 是一个或多个子句的或运算，其中每个子句是一个或多个输入变量的与运算（例如，$(x_1 \\land x_3) \\lor (x_2 \\land x_5)$）。\n\n存在一种标准的递归过程，可将单调电路转换为其 DNF 表示。设 $D(g)$ 表示由门 $g$ 计算的函数的 DNF 公式。\n- 如果 $g$ 是一个输入变量 $x_i$，那么 $D(g) = x_i$。\n- 如果 $g$ 是一个输入为 $g_1$ 和 $g_2$ 的或门，那么 $D(g) = D(g_1) \\lor D(g_2)$。\n- 如果 $g$ 是一个输入为 $g_1$ 和 $g_2$ 的与门，其中 $D(g_1) = \\bigvee_i A_i$ 且 $D(g_2) = \\bigvee_j B_j$，那么通过应用分配律，可以得到 $D(g) = \\bigvee_{i,j} (A_i \\land B_j)$。\n\n考虑一个由整数 $k \\ge 1$ 参数化的特定单调电路族，已知该电路族在转换为 DNF 时其大小会显著增加。该电路有 $2k$ 个不同的输入变量：$\\{x_1, \\ldots, x_k, y_1, \\ldots, y_k\\}$。电路的构建方式如下：\n1. 第一层有 $k$ 个或门，其中第 $i$ 个门（对于 $i=1, \\ldots, k$）计算 $g_i = x_i \\lor y_i$。假设所有门的扇入均为 2。\n2. 这 $k$ 个或门的输出被送入一个由 $k-1$ 个与门组成的平衡二叉树，以产生一个最终输出。\n\n该电路的总大小（计算或门和与门的总数）为 $s = 2k-1$。\n\n你的任务是确定与该电路等价的最终单调 DNF 公式中的子句数量。请将你的答案表示为总电路大小 $s$ 的函数。", "solution": "该电路计算单调函数\n$$\nF=\\bigwedge_{i=1}^{k}(x_{i}\\lor y_{i}).\n$$\n定义 $C(g)$ 为单调 DNF $D(g)$ 中的子句数量。\n\n根据给定的递归 DNF 构建方法：\n- 对于输入变量 $x_{i}$，$D(x_{i})=x_{i}$ 是一个单独的子句，因此 $C(x_{i})=1$，同理 $C(y_{i})=1$。\n- 对于或门，$D(g_{1}\\lor g_{2})=D(g_{1})\\lor D(g_{2})$，因此子句数量相加：\n$$\nC(g_{1}\\lor g_{2})=C(g_{1})+C(g_{2}).\n$$\n- 对于与门，如果 $D(g_{1})=\\bigvee_{i}A_{i}$ 且 $D(g_{2})=\\bigvee_{j}B_{j}$，那么 $D(g_{1}\\land g_{2})=\\bigvee_{i,j}(A_{i}\\land B_{j})$，因此子句数量相乘：\n$$\nC(g_{1}\\land g_{2})=C(g_{1})\\,C(g_{2}).\n$$\n\n对于每个第一层的门 $g_{i}=x_{i}\\lor y_{i}$，利用或运算的加法性质以及 $C(x_{i})=C(y_{i})=1$，可得\n$$\nC(g_{i})=C(x_{i})+C(y_{i})=1+1=2.\n$$\n最终输出是 $k$ 个门 $g_{1},\\ldots,g_{k}$ 的与运算。利用与运算的乘法性质，可得\n$$\nC(F)=\\prod_{i=1}^{k}C(g_{i})=\\prod_{i=1}^{k}2=2^{k}.\n$$\n由于电路总大小为 $s=2k-1$，我们解出 $k$ 可得 $k=\\frac{s+1}{2}$。代入后，\n$$\nC(F)=2^{\\frac{s+1}{2}}.\n$$\n因此，最终单调 DNF 中作为电路大小 $s$ 的函数的子句数量为 $2^{\\frac{s+1}{2}}$。", "answer": "$$\\boxed{2^{\\frac{s+1}{2}}}$$", "id": "1432222"}]}