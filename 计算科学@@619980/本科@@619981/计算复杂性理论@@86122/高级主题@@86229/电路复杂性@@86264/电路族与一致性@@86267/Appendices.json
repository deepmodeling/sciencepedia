{"hands_on_practices": [{"introduction": "在电路设计中，一个核心任务是创建一个能够识别特定模式的系统。本练习提供了一个具体实例：构建一个最小化的电路，用于识别一个定长的唯一“访问码”。通过解决这个问题，你将掌握实现一个仅对特定输入组合为真的布尔函数的基本原则，这是理解非均匀计算的核心概念。[@problem_id:1414500]", "problem": "一个安全系统使用一组称为“访问码”的特殊二进制字符串。对于任意给定的正整数长度 $n$，存在且仅存在一个该长度的有效访问码。针对给定长度 $n$ 的硬件验证器实现为一个布尔电路，记作 $C_n$。该电路接受一个 $n$ 位字符串作为输入，如果该字符串是长度为 $n$ 的有效访问码，则输出 1，否则输出 0。\n\n这些电路仅使用以下标准门构建：2输入与门、2输入或门和1输入非门。电路的“大小”定义为其包含的门的总数。\n\n对于特定长度 $n=12$，有效访问码为字符串 $s = 110100101110$。\n\n计算能正确识别此访问码的电路 $C_{12}$ 的最小可能大小。", "solution": "设输入为 $x=(x_{1},\\ldots,x_{12})$，唯一接受的字符串为 $s=110100101110$。要计算的函数是单一的最小项\n$$\nf(x)=\\bigwedge_{i=1}^{12} \\ell_{i}, \\quad \\text{where } \\ell_{i}=\\begin{cases}\nx_{i} & \\text{if } s_{i}=1,\\\\\n\\neg x_{i} & \\text{if } s_{i}=0.\n\\end{cases}\n$$\n一个直接的实现是在 12 个文字（literal）上使用一个二叉与门树，并对每个 $s_i=0$ 的变量使用一个非门。由于一个仅使用 2 输入与门实现的 $k$ 输入与门至少需要 $k-1$ 个门，因此合取（conjunction）需要 $12-1=11$ 个与门。字符串 $s$ 在位置 $3,5,6,8,12$ 处为 0，因此恰好有 5 个取反的文字，所以需要恰好 5 个非门。这得出一个大小为 $11+5=16$ 的电路。\n\n为了证明其最优性：\n- 任何仅在 $x=s$ 时输出 $1$ 的电路都必须强制执行全部 12 个文字约束；仅使用 2 输入门将 12 个独立输入组合成一个输出，至少需要 11 个二元门（每个这样的门最多能将独立分量的数量减少一个）。\n- 对于每个 $s_i = 0$ 的索引 $i$，函数在 $x_i$ 上是递减的，因此在通往输出的某条路径上必须出现 $\\neg x_i$；否则电路在 $x_i$ 上将是单调的，无法在唯一接受的赋值处区分 $x_i=0$ 和 $x_i=1$。每个这样的变量至少需要一个非门，而单个非门只能反转一个信号，所以至少需要 5 个非门。\n\n因此，任何实现的电路大小至少为 $11+5=16$，而上述构造达到了这个下界。使用或门无法减少这个数量，因为对于这个单边最小项（unate minterm），其最小表示已经使用了最少数量的二元门和非门。\n\n因此，最小可能的大小是 $16$。", "answer": "$$\\boxed{16}$$", "id": "1414500"}, {"introduction": "在将单个电路视为判定器的基础上，本实践将探讨如何组合它们来解决更复杂的问题。我们将学习在已知两个独立语言的判定电路的情况下，如何为这两个语言的交集构建一个新的电路。这个练习展示了复杂度类P/poly的一个关键闭包性质，并为模块化电路设计提供了实用的见解。[@problem_id:1414484]", "problem": "在计算复杂性理论中，如果一个语言 $L$ 可以由一个多项式规模的布尔电路族来判定，那么它就属于复杂度类 $\\mathrm{P/poly}$（多项式规模电路）。这意味着存在一个多项式 $p(n)$ 和一个电路序列 $\\{C_n\\}_{n \\in \\mathbb{N}}$，其中对于每个整数 $n \\ge 0$，$C_n$ 是一个有 $n$ 个输入和 1 个输出的电路。对于任何长度为 $n$ 的二进制串 $x$，电路 $C_n$ 在输入 $x$ 时输出一个比特 $C_n(x)$，当且仅当 $x \\in L$ 时，$C_n(x)=1$。电路的大小定义为其包含的逻辑门数量，并且 $C_n$ 的大小必须以多项式 $p(n)$ 为上界。\n\n考虑两个用于对科学数据模型进行分类的语言 $L_A$ 和 $L_B$。已知这两个语言都属于 $\\mathrm{P/poly}$。\n- 对于一个 $n$ 比特的输入串，语言 $L_A$ 由一个电路 $C_{A,n}$ 判定，其大小恰好为 $S_A(n) = n^3 + 6n^2 + 5n + 10$ 个门。\n- 对于一个 $n$ 比特的输入串，语言 $L_B$ 由一个电路 $C_{B,n}$ 判定，其大小恰好为 $S_B(n) = 2n^3 + 3n + 25$ 个门。\n\n只有当一个数据模型对应的二进制串同时属于 $L_A$ 和 $L_B$ 时，该模型才被认为是“已确认”的。这定义了已确认模型的语言，$L_C = L_A \\cap L_B$。我们想要构建一个电路族 $\\{C_{C,n}\\}$ 来判定 $L_C$。如果我们通过将现有电路 $C_{A,n}$ 和 $C_{B,n}$ 作为不可分割的黑盒组件来构造每个电路 $C_{C,n}$，那么得到的电路 $C_{C,n}$ 的总大小是多少？请用关于 $n$ 的多项式表示你的答案。", "solution": "问题要求计算用于判定语言 $L_C = L_A \\cap L_B$ 的电路 $C_{C,n}$ 的大小。我们已知这个新电路将使用用于 $L_A$ 和 $L_B$ 的电路（分别为 $C_{A,n}$ 和 $C_{B,n}$）作为黑盒组件来构造。\n\n语言 $L_C$ 是 $L_A$ 和 $L_B$ 的交集。根据交集的定义，一个长度为 $n$ 的字符串 $x$ 属于 $L_C$ 当且仅当 $x$ 属于 $L_A$ 并且 $x$ 属于 $L_B$。\n\n电路 $C_{A,n}$ 和 $C_{B,n}$ 是它们各自语言的判定器。这意味着：\n- 如果 $x \\in L_A$，则 $C_{A,n}(x) = 1$，否则 $C_{A,n}(x) = 0$。\n- 如果 $x \\in L_B$，则 $C_{B,n}(x) = 1$，否则 $C_{B,n}(x) = 0$。\n\n为了让电路 $C_{C,n}$ 判定 $L_C$，它必须当且仅当 $x \\in L_C$ 时输出 1。使用上述条件，这意味着 $C_{C,n}(x)$ 必须为 1 当且仅当 $C_{A,n}(x) = 1$ 并且 $C_{B,n}(x) = 1$。这个逻辑条件“A AND B”由一个单独的与门（AND gate）实现。\n\n因此，我们可以如下构造电路 $C_{C,n}$：\n1. 字符串 $x$ 的 $n$ 个输入比特同时馈入电路 $C_{A,n}$ 和电路 $C_{B,n}$ 的输入端。\n2. $C_{A,n}$ 的单比特输出和 $C_{B,n}$ 的单比特输出随后作为两个输入馈入一个新的与门。\n3. 这个与门的输出是电路 $C_{C,n}$ 的最终输出。\n\n这个组合电路的总大小 $S_C(n)$ 是其各组件大小的总和。由于我们使用 $C_{A,n}$ 和 $C_{B,n}$ 作为黑盒组件，我们将它们的大小相加，并加上新门的数量。在这个构造中，我们恰好增加了一个与门。\n\n$C_{A,n}$ 的大小由 $S_A(n) = n^3 + 6n^2 + 5n + 10$ 给出。\n$C_{B,n}$ 的大小由 $S_B(n) = 2n^3 + 3n + 25$ 给出。\n额外门的数量是 1。\n\n因此，$C_{C,n}$ 的总大小为：\n$S_C(n) = S_A(n) + S_B(n) + 1$\n$S_C(n) = (n^3 + 6n^2 + 5n + 10) + (2n^3 + 3n + 25) + 1$\n\n现在，我们合并多项式的各项：\n$S_C(n) = (1+2)n^3 + (6)n^2 + (5+3)n + (10+25+1)$\n$S_C(n) = 3n^3 + 6n^2 + 8n + 36$\n\n这个多项式表示通过这种构造方法构建的所得电路 $C_{C,n}$ 的确切大小。", "answer": "$$\\boxed{3n^3 + 6n^2 + 8n + 36}$$", "id": "1414484"}, {"introduction": "最后的这个实践将我们的视角从设计单个电路，转向分析整个电路族在不同输入长度下的行为。通过考虑一个有限语言，我们研究对于那些不包含任何有效字符串的输入长度，对应的电路必须计算什么。这个思想实验阐明了一个语言的属性与其判定电路族的结构之间的关系，特别是对于超过特定大小的输入。[@problem_id:1414530]", "problem": "在计算复杂性理论中，一个语言（language）是定义在某个固定字母表上的有限长度字符串的集合。如果一个语言 $L$ 包含有限个字符串，则称其为*有限的*（finite）。一个电路族 $\\{C_n\\}_{n \\in \\mathbb{N}}$ 是一系列布尔电路，其中电路 $C_n$ 有 $n$ 个输入和一个输出。如果对于每个字符串 $w$，电路 $C_{|w|}$（其中 $|w|$ 是 $w$ 的长度）在 $w \\in L$ 时输出1，否则输出0，那么我们称该电路族*判定*（decide）语言 $L$。我们考虑的电路由一个包含2输入与门、2输入或门和1输入非门的基础门集构成。电路的*大小*（size）定义为这些门的总数。\n\n如果存在一个图灵机，在给定输入 $1^n$（即一元表示的整数 $n$）时，能在 $n$ 的多项式时间内运行并输出电路 $C_n$ 的描述，那么称电路族 $\\{C_n\\}$ 是P-均匀的（P-uniform）。\n\n设 $L_{fin}$ 是字母表 $\\{0,1\\}$ 上的一个语言，它包含所有长度为严格小于100的质数的字符串。例如，任何长度为2的字符串都在 $L_{fin}$ 中，但任何长度为4或101的字符串都不在 $L_{fin}$ 中。设 $\\{C_n\\}_{n \\in \\mathbb{N}}$ 是任意一个能正确判定语言 $L_{fin}$ 的P-均匀电路族。根据这些定义，对于任意 $n \\geq 100$，该电路族中每个电路 $C_n$ 的最小可能大小是多少？\n\nA. 0\n\nB. 1\n\nC. 2\n\nD. 3\n\nE. 大小必须随 $n$ 增长。", "solution": "对于 $n \\geq 100$，任何长度为 $n$ 的字符串都不在 $L_{fin}$ 中，因为 $L_{fin}$ 只包含长度为严格小于100的质数的字符串。因此，对每个这样的 $n$，$C_n$ 所计算的布尔函数 $f_{n}:\\{0,1\\}^{n} \\to \\{0,1\\}$ 是常数零函数。\n\n在给定的门基础（2输入与门、2输入或门、1输入非门）下，并且常数不被视为门的情况下，我们来确定计算常数零函数所需的最小电路大小：\n- 大小为0的电路无法计算常数零函数：没有门也没有常数线，输出不能是独立于输入的常数。如果输出直接连接到某个输入线，它将等于某个 $x_{i}$，这不是一个常数。\n- 大小为1的电路无法计算常数：单个非门产生 $\\neg x_{i}$，单个与门产生 $x_{i} \\land x_{j}$，单个或门产生 $x_{i} \\lor x_{j}$；这些在所有输入下都不是常数。\n- 大小为2的电路可以计算常数零函数：任选一个输入 $x_{1}$，首先用一个非门计算 $\\neg x_{1}$，然后用一个与门计算 $x_{1} \\land \\neg x_{1}$。根据互补律，\n$$\nx_{1} \\land \\neg x_{1} = 0\n$$\n对于所有输入都成立。因此，两个门就足够了。\n\n因此，当 $n \\geq 100$ 时，每个 $C_{n}$ 的最小可能大小是 $2$。P-均匀性条件是满足的，因为一个图灵机可以在输入 $1^{n}$ 时，在 $n$ 的多项式时间内输出这个固定的双门电路。", "answer": "$$\\boxed{C}$$", "id": "1414530"}]}