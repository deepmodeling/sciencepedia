{"hands_on_practices": [{"introduction": "让我们通过一个基础的构建任务来开始实践，亲手为“阈值为2”的函数（$T_2^n$）设计一个常数深度电路。这项练习旨在将 AC⁰ 电路的抽象定义（如常数深度、多项式规模、无界扇入）转化为一个具体的、可操作的设计。通过这个过程，你将直观地理解如何利用这些特性来高效地解决一类常见问题，为后续更复杂的挑战打下坚实的基础。[@problem_id:1418903]", "problem": "在计算复杂性理论中，**AC⁰** 类（交替电路，常数深度）由一族电路 $\\{C_n\\}_{n \\in \\mathbb{N}}$ 构成，对每个输入大小 $n$ 都有一个电路，且满足两个条件：$C_n$ 的大小由一个关于 $n$ 的多项式为界，并且 $C_n$ 的深度是一个与 $n$ 无关的常数。这些电路是由具有无界扇入的与门和或门（即它们可以有任意数量的输入）以及仅直接应用于电路输入的非门构建的。电路的大小是其门的总数，其深度是从任何输入变量到输出门的最长路径的长度。\n\n考虑阈值为2的函数，记作 $T_2^n(x_1, \\dots, x_n)$，它接受 $n$ 个布尔输入，当且仅当至少有两个输入为1时，输出为1。你的任务是设计一个 AC⁰ 类中的电路族 $\\{C_n\\}_{n \\in \\mathbb{N}}$ 来计算 $T_2^n$ 函数。\n\n确定你所提出的电路 $C_n$ 的确切大小和深度。将大小表示为关于 $n$ 的简化多项式，深度表示为一个整数。以有序对（大小，深度）的形式提供你的答案。", "solution": "我们想要一个由无界扇入的与/或门（且非门仅允许作用于输入）构成的常数深度、多项式大小的电路，该电路用于计算阈值为2的函数 $T_{2}^{n}(x_{1},\\dots,x_{n})$，当且仅当至少有两个输入为 $1$ 时，其值为 $1$。\n\n定义以下电路族。对于每个 $n$，为每一对满足 $1 \\leq i < j \\leq n$ 的不同索引的无序对 $(i,j)$，引入一个与门\n$$\nA_{i,j} \\;=\\; x_{i} \\wedge x_{j}.\n$$\n将所有这些 $A_{i,j}$ 的输出馈入到输出端的一个或门：\n$$\nC_{n}(x_{1},\\dots,x_{n}) \\;=\\; \\bigvee_{1 \\leq i < j \\leq n} \\left(x_{i} \\wedge x_{j}\\right).\n$$\n\n正确性：如果至少有两个输入为 $1$，那么存在索引 $i<j$ 使得 $x_{i}=1$ 且 $x_{j}=1$，这使得 $A_{i,j}=1$，因此最终的或门输出 $1$。反之，如果最终的或门输出 $1$，则某个 $A_{i,j}=1$，这意味着 $x_{i}=x_{j}=1$，所以输入中至少有两个 $1$。如果输入中 $1$ 的个数少于两个，则每个合取式 $x_{i}\\wedge x_{j}$ 均为 $0$，或门输出 $0$。因此\n$$\nC_{n}(x_{1},\\dots,x_{n}) \\;=\\; T_{2}^{n}(x_{1},\\dots,x_{n}).\n$$\n\n深度：每个输入 $x_{k}$ 馈入到某些与门 $A_{i,j}$（深度 $1$），所有 $A_{i,j}$ 直接馈入到唯一的输出或门（深度 $2$）。因为扇入是无界的，所以不需要额外的层。因此深度恰好为 $2$，是一个与 $n$ 无关的常数。\n\n大小：与门的数量等于输入的无序对的数量，即 $\\binom{n}{2}$。顶层还有一个额外的或门。因此，门的总数是\n$$\nS(n) \\;=\\; \\binom{n}{2} + 1 \\;=\\; \\frac{n(n-1)}{2} + 1 \\;=\\; \\frac{n^{2}-n+2}{2}.\n$$\n这如要求，是一个关于 $n$ 的多项式。除了输入端，没有使用非门，满足了 AC⁰ 模型的规定。\n\n因此，电路族 $\\{C_{n}\\}$ 属于 AC⁰ 类，其确切大小为 $\\frac{n^{2}-n+2}{2}$，确切深度为 $2$。", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{n^{2}-n+2}{2} & 2\\end{pmatrix}}$$", "id": "1418903"}, {"introduction": "接下来，我们将挑战一个在电路复杂性理论中扮演核心角色的函数：奇偶校验（PARITY）函数。我们先不处理通用情况，而是通过为一个固定的、小规模的输入（$n=4$）构建一个电路，在一个可控的环境中来探究其结构。这项练习将为你揭示奇偶校验函数所带来的独特挑战提供具体的直觉，并引导你思考我们所采用的构建方法是否能有效扩展到更大的输入规模。[@problem_id:1418856]", "problem": "在计算复杂性理论的研究中，布尔电路为计算提供了一种形式模型。一个布尔电路由输入节点和逻辑门构成。对于本问题，我们考虑一种具有以下性质的特定类型的电路：\n1.  电路的输入是一组布尔变量及其非。这些被称为文字。我们可以认为它们在电路的“输入层”，即深度0处可用。\n2.  电路由与门（AND gates）和或门（OR gates）组成。这些门被假定为具有无界扇入，意味着它们可以接受任意数量的输入。\n3.  电路的深度是从任何输入文字到最终输出门的最长路径上的门数量。\n\n考虑一个布尔函数 $f: \\{0,1\\}^4 \\to \\{0,1\\}$，它接受四个输入变量 $x_1, x_2, x_3, x_4$。当且仅当这些输入中为1的数量为偶数时，函数输出1。否则，函数输出0。\n\n你的任务是确定在最后一层（深度2）的门必须是或门的约束下，使用深度为2的电路实现此函数 $f$ 所需的最少门数。", "solution": "我们受限于最终（深度2）的门是或门的深度为2的电路。任何这样的电路计算的公式都具有以下形式\n$$\nf=\\bigvee_{j=1}^{m} g_{j},\n$$\n其中每个深度1门的输出 $g_{j}$ 是文字的与或文字的或。如果某个 $g_{j}$ 是文字的或，比如说 $g_{j}=\\bigvee_{\\ell \\in S_{j}} \\ell$，那么\n$$\n\\bigvee_{j=1}^{m} g_{j}=\\left(\\bigvee_{\\substack{j:\\ g_{j}\\ \\text{is AND}}} g_{j}\\right)\\ \\vee\\ \\left(\\bigvee_{\\substack{j:\\ g_{j}\\ \\text{is OR}}}\\ \\bigvee_{\\ell \\in S_{j}} \\ell\\right),\n$$\n那么通过将其输入文字直接连接到顶层的或门来替换掉那个底层的或门，会在不改变函数或深度的情况下严格减少门的数量。因此，在给定约束下，任何规模最小的电路中，所有深度1的门都可以假定为与门，该电路是一个与之或（即析取范式，DNF）。\n\n设一个深度1的与门计算一个文字的合取\n$$\nA=\\left(\\bigwedge_{i \\in P} x_{i}\\right)\\ \\wedge\\ \\left(\\bigwedge_{j \\in N} \\neg x_{j}\\right),\n$$\n其中 $P,N \\subseteq \\{1,2,3,4\\}$ 且不相交。如果 $P \\cup N \\subsetneq \\{1,2,3,4\\}$，任取一个 $t \\in \\{1,2,3,4\\} \\setminus (P \\cup N)$。固定 $P \\cup N$ 中的变量使得 $A=1$。那么存在两个仅在 $x_{t}$ 上不同的赋值，一个具有偶数汉明权重，另一个具有奇数汉明权重，两者都满足 $A=1$。由于函数 $f$ 仅在偶校验输入上输出1，因此除非 $A$ 固定了所有四个变量，否则它不能是 $f$ 的一个蕴涵项。因此，在 $f$ 的析取范式中，每个有效的合取都必须包含所有四个变量（每个变量以 $x_{i}$ 或 $\\neg x_{i}$ 的形式出现），也就是说，必须是一个极小项。\n\n每个这样的极小项仅对一个输入赋值为真。因此，任何 $f$ 的析取范式都必须为每个使 $f=1$ 的输入包含至少一个不同的极小项。在四个比特上，偶校验赋值的数量为\n$$\n\\sum_{\\substack{k=0 \\\\ k\\ \\text{even}}}^{4} \\binom{4}{k} \\;=\\; \\binom{4}{0}+\\binom{4}{2}+\\binom{4}{4}\\;=\\;1+6+1\\;=\\;8.\n$$\n因此，至少需要8个深度1的与门。这个下界是紧的，因为由这8个极小项构成的析取范式能正确计算 $f$。加上在深度2处要求的用于聚合这8个输出的最终或门，总门数为\n$$\n8\\ (\\text{AND gates})\\ +\\ 1\\ (\\text{final OR})\\ =\\ 9.\n$$\n因此，最少门数为 $9$。", "answer": "$$\\boxed{9}$$", "id": "1418856"}, {"introduction": "在处理了 $n=4$ 的具体案例并获得了初步直觉后，我们现在将视角从具体构建转向形式化分析。这项实践将引导你探索常数深度电路的一个根本性局限，这也是该领域的一个里程碑式的成果。你将证明，对于通用的 $n$ 变量奇偶校验函数，任何简单的深度为2的电路（具体来说是析取范式，DNF）都不可避免地需要指数级的门，从而深刻地理解为什么奇偶校验函数被认为是 AC⁰ 这类电路的“难”问题。[@problem_id:1418880]", "problem": "在计算复杂性理论中，一个布尔函数可以由多种逻辑公式表示。如果一个公式是一个或多个子句的析取（OR），其中每个子句是一个或多个文字的合取（AND），则该公式处于析取范式（Disjunctive Normal Form, DNF）中。一个文字是变量 $x_i$ 或其否定 $\\neg x_i$。例如，如果我们有变量 $x_1, x_2, x_3$，则表达式 $(x_1 \\land \\neg x_2) \\lor (\\neg x_3)$ 是一个包含两个子句的 DNF。一个 DNF 公式的规模通常用其包含的子句数量来衡量。\n\n考虑一个 $n$ 变量的奇偶校验（PARITY）函数，记作 $\\text{PARITY}_n(x_1, \\dots, x_n)$，当值为 $1$ 的输入变量数量为奇数时，它输出 $1$，否则输出 $0$。\n\n对于任意能正确表示 $\\text{PARITY}_n$ 函数（其中 $n \\ge 1$）的 DNF 公式，其所需的最小子句数是多少？请用 $n$ 的函数表示你的答案。", "solution": "设 $f=\\text{PARITY}_{n}$，其中对于任意 $x=(x_{1},\\dots,x_{n})\\in\\{0,1\\}^{n}$，\n$$\nf(x)=\\left(\\sum_{i=1}^{n} x_{i}\\right)\\bmod 2.\n$$\n一个关于变量 $x_{1},\\dots,x_{n}$ 的 DNF 子句具有以下形式\n$$\nC=\\bigwedge_{i\\in P} x_{i}\\ \\wedge\\ \\bigwedge_{j\\in N} \\neg x_{j},\n$$\n其中 $P,N\\subseteq [n]$ 为不相交的索引集，它固定了 $k=|P|+|N|$ 个变量，剩下 $n-k$ 个变量是自由的。$C$ 的满足赋值构成一个维度为 $n-k$ 的子立方体。\n\n奇偶校验的关键性质：翻转任意单个变量会改变奇偶性。形式上，对于任意 $\\ell\\in[n]$ 和任意赋值 $x$，令 $x^{(\\ell)}$ 为 $x$ 的第 $\\ell$ 位翻转后的结果，我们有\n$$\nf\\bigl(x^{(\\ell)}\\bigr)=f(x)+1 \\pmod{2}.\n$$\n因此，任何维度至少为 $1$ 的子立方体（即，任何具有 $k<n$ 个文字的子句）都包含两个具有相反奇偶性值的满足赋值 $x$ 和 $x^{(\\ell)}$。因此，这样的子句至少会被 $f$ 的一个反例满足，将其包含在 DNF 中会迫使 DNF 对该反例输出 $1$，这与正确性相矛盾。\n\n由此可见，任何正确的 $f$ 的 DNF 中的每个子句都必须有 $k=n$，即是一个固定所有变量的极小项（minterm）。每个这样的子句都精确地对应一个赋值。为了精确地对奇数奇偶性的赋值输出 $1$，该 DNF 必须为每个奇数奇偶性的赋值包含一个不同的子句。奇数奇偶性赋值的数量是\n$$\n\\sum_{\\substack{t=0 \\\\ t\\ \\text{odd}}}^{n} \\binom{n}{t}=\\frac{(1+1)^{n}-(1-1)^{n}}{2}=2^{n-1}.\n$$\n一个达到此下界的 DNF 是所有 $2^{n-1}$ 个对应于奇数汉明权重赋值的极小项的析取。因此，对于所有 $n\\ge 1$，所需的最小子句数恰好是 $2^{n-1}$。", "answer": "$$\\boxed{2^{n-1}}$$", "id": "1418880"}]}