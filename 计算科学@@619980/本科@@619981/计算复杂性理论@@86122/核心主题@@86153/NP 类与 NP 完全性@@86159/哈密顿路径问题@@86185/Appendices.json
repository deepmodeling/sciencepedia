{"hands_on_practices": [{"introduction": "让我们从一个基本问题开始，以建立对哈密顿路径的直观理解。在最理想的情况下，即一个网络中的每个节点都与其他所有节点直接相连（一个完全图 $K_n$）时，存在多少条不同的哈密顿路径呢？通过解决这个问题，您可以巩固哈密顿路径的基本定义，并为更复杂图中的路径搜索打下坚实的基础 [@problem_id:1457540]。", "problem": "考虑一个由 $n$ 个服务器组成的网络，其中 $n \\ge 2$。该网络的拓扑结构是一个完全图，记为 $K_n$，图中每个服务器都与所有其他服务器直接相连。“哈密顿路径”是图中的一条路径，它恰好访问每个服务器一次。一条路径由其服务器序列定义。例如，如果 $n=3$ 且服务器标记为 $\\{1, 2, 3\\}$，则路径 $(1, 2, 3)$ 与 $(2, 1, 3)$ 和 $(3, 2, 1)$ 都是不同的路径。\n\n请确定完全图 $K_n$ 中不同哈密顿路径总数的通用公式。请用含 $n$ 的公式表示你的答案。", "solution": "在一个有 $n$ 个标记顶点的图中，哈密顿路径是所有 $n$ 个顶点的一个序列，其中每个顶点恰好出现一次，且序列中连续的顶点是相邻的。在完全图 $K_n$ 中，根据定义，任意一对不同的顶点都是相邻的。因此，$n$ 个顶点的任何排序（排列）都能构成一条有效的哈密顿路径。\n\n$n$ 个标记顶点的不同排序数量即为排列数，也就是 $n!$。\n\n题目明确指出反向序列被视为不同的路径（例如，$(1,2,3)$ 与 $(3,2,1)$ 是不同的），因此不需要除以 $2$。因此，在 $K_n$ 中，不同哈密顿路径的总数是 $n!$。", "answer": "$$\\boxed{n!}$$", "id": "1457540"}, {"introduction": "现在，我们从“全连接”图转向具有特定结构约束的图。这个练习利用一个物流网络（这是一个二分图）的生动类比，来探索哈密顿路径存在的一个强大的必要条件。理解这类结构性约束是计算复杂性理论中的一项关键技能，它能帮助我们快速识别出不可能存在哈密顿路径的情况，从而避免不必要的计算 [@problem_id:1457571]。", "problem": "一家物流公司正在设计一个新的自动化配送网络。该网络由两种类型的地点组成：充电站和配送中心。一架送货无人机的飞行路径受到限制，其只能直接在充电站和配送中心之间飞行。无人机不能在两个充电站之间或两个配送中心之间飞行。\n\n该公司希望设计一条“全检路线”，即从一个地点开始，在另一个地点结束，并恰好访问网络中每一个地点（包括所有充电站和配送中心）一次的路线。\n\n假设网络中有 $N_U$ 个充电站和 $N_V$ 个配送中心。以下哪个陈述描述了这种全检路线可能存在所需满足的，关于 $N_U$ 和 $N_V$ 数量的一个基本且必要的条件？\n\nA. 充电站的数量必须等于配送中心的数量，即 $N_U = N_V$。\n\nB. 充电站数量与配送中心数量之间的绝对差值必须不大于1，即 $|N_U - N_V| \\le 1$。\n\nC. 其中一类地点的数量必须比另一类地点的数量至少多两个，即 $|N_U - N_V| \\ge 2$。\n\nD. 充电站的数量和配送中心的数量必须正好相差一个，即 $|N_U - N_V| = 1$。", "solution": "题目要求找出一个必要条件，该条件是关于充电站数量（$N_U$）和配送中心数量（$N_V$）的，使得一条访问每个地点恰好一次的路径能够存在。\n\n首先，我们将该网络建模为一个图。设充电站集合为顶点集 $U$，其大小为 $|U| = N_U$，配送中心集合为顶点集 $V$，其大小为 $|V| = N_V$。如果一架无人机可以在两个顶点之间飞行，那么在 $U$ 中的一个顶点和 $V$ 中的一个顶点之间就存在一条边。题目说明了飞行只可能在充电站和配送中心之间进行，而不能在两个充电站之间或两个配送中心之间进行。这描述了一个二分图 $G = (U \\cup V, E)$，其中每条边都连接 $U$ 中的一个顶点和 $V$ 中的一个顶点。\n\n一个访问每个地点恰好一次的“全检路线”，根据定义，是这个图中的一条哈密顿路径。图中顶点的总数是 $N = N_U + N_V$。因此，一条哈密顿路径必须包含所有 $N$ 个顶点。\n\n让我们分析一下二分图中任何路径的结构。一条路径是一个顶点序列，例如，$p_1, p_2, p_3, \\dots, p_k$。因为每条边都连接 $U$ 中的一个顶点和 $V$ 中的一个顶点，所以任何路径中的顶点必须在两个集合之间交替出现。例如，如果起始顶点 $p_1 \\in U$，则路径必须是这样的：\n$p_1 \\in U, p_2 \\in V, p_3 \\in U, p_4 \\in V, \\dots$\n\n让我们考虑一条长度为 $k-1$ 的路径（即包含 $k$ 个顶点）。\n设 $n_U$ 为路径中来自集合 $U$ 的顶点数，而 $n_V$ 为路径中来自集合 $V$ 的顶点数。\n\n情况1：路径在同一个部集中开始和结束（例如，从 $U$ 开始，到 $U$ 结束）。这要求路径有奇数个顶点。例如，$u_1 \\to v_1 \\to u_2$。这里，$k=3$, $n_U=2$, $n_V=1$。在这种情况下，$n_U = n_V + 1$。\n\n情况2：路径从一个部集开始，到另一个部集结束（例如，从 $U$ 开始，到 $V$ 结束）。这要求路径有偶数个顶点。例如，$u_1 \\to v_1 \\to u_2 \\to v_2$。这里，$k=4$, $n_U=2$, $n_V=2$。在这种情况下，$n_U = n_V$。\n\n一般来说，对于二分图中的任何路径，来自两个部集的顶点数 $n_U$ 和 $n_V$ 最多只能相差1。也就是说，$|n_U - n_V| \\le 1$。\n\n一条哈密顿路径必须包含图的所有顶点。因此，对于一条哈密顿路径，路径中来自每个部集的顶点数必须是整个图中该部集的顶点总数。所以，我们必须有 $n_U = N_U$ 和 $n_V = N_V$。\n\n将任何路径的一般约束应用于哈密顿路径的特定情况，我们得到必要条件：\n$|N_U - N_V| \\le 1$。\n\n这意味着，要存在一条哈密顿路径，两个部集的大小必须要么相同（$N_U = N_V$），要么正好相差一（$|N_U - N_V| = 1$）。如果两个部集的大小相差2或更多，就不可能构建出一条恰好访问每个顶点一次的路径，因为任何这样的路径都会违反交替属性。\n\n让我们检查一下给出的选项：\nA. $N_U = N_V$：这是一种可能的情况（例如，路径 $u_1 \\to v_1 \\to u_2 \\to v_2$），但不是唯一的情况。一条路径 $u_1 \\to v_1 \\to u_2$ 也是可能的，其中 $N_U=2$，$N_V=1$。所以这个选项不完整。\nB. $|N_U - N_V| \\le 1$：这个条件正确地涵盖了两种情况：$N_U = N_V$ 和 $|N_U - N_V| = 1$。这是正确的一般必要条件。\nC. $|N_U - N_V| \\ge 2$：这是哈密顿路径*不可能*存在的条件。\nD. $|N_U - N_V| = 1$：这是一种可能的情况，但它忽略了当 $N_U = N_V$ 时哈密顿路径也可能存在的情况。所以这个选项也不完整。\n\n因此，最准确和完整的必要条件是 $|N_U - N_V| \\le 1$。", "answer": "$$\\boxed{B}$$", "id": "1457571"}, {"introduction": "最后，我们将视角转向问题的计算特性，这是理解 NP 完全问题的核心。虽然寻找哈密顿路径是一个著名的难题，但验证一个给定的路径是否是哈密顿路径却非常简单。这个练习将让你扮演一名工程师的角色，设计一个高效的验证算法，从而深刻理解“易于验证，难于求解”这一关键区别，这也是哈密顿路径问题被归入 NP 类的原因 [@problem_id:1457517]。", "problem": "一家名为“RapidRoute”的物流公司管理着 $n$ 个不同配送中心之间的配送。这些中心及它们之间的卡车路线网络可以被建模为一个简单无向图 $G = (V, E)$，其中 $V$ 是 $n$ 个配送中心（顶点）的集合，$E$ 是可用路线（边）的集合。\n\n为了进行年度全系统审计，该公司需要为一辆卡车找到一条“主检视路线”。这条路线必须从某个中心出发，不重复地访问所有其他中心一次，然后结束。在图论中，这样的路线被称为哈密顿路径。\n\n一名实习生开发了一种复杂的启发式算法，声称可以找到这样一条路径。给定图 $G$，该算法输出一个候选路径，这是一个有序的中心序列 $P = (v_1, v_2, \\ldots, v_k)$。您是一名资深工程师，任务是创建一个简单而高效的*验证算法*。这个验证器将以图 $G$（及其 $n$ 个顶点）和提议的路径序列 $P$ 作为输入。如果 $P$ 是 $G$ 的一条有效哈密顿路径，它必须输出 `true`，否则输出 `false`。\n\n下列哪些检查，作为一个组合集合，对于您的验证器正确判断序列 $P$ 是否为图 $G$ 中的哈密顿路径，是充分且必要的？\n\nA. 检查序列 $P$ 的长度（表示为 $k$）是否等于 $G$ 中顶点的总数 $n$。\n\nB. 检查对于从 $1$ 到 $k-1$ 的每个整数 $i$，边 $(v_i, v_{i+1})$ 是否存在于图的边集 $E$ 中。\n\nC. 检查序列 $P$ 中是否不包含重复的顶点。\n\nD. 检查图 $G$ 是否是连通的。\n\nE. 检查对于任意两个不同的顶点 $u, w \\in V$，边 $(u, w)$ 是否存在于集合 $E$ 中。", "solution": "我们将配送网络建模为一个简单无向图 $G=(V,E)$，其中 $|V|=n$。哈密顿路径被定义为一个有序的顶点序列 $P=(v_{1},v_{2},\\ldots,v_{k})$，满足以下条件：\n1) $P$ 是一条路径，这意味着对于每个满足 $1 \\leq i \\leq k-1$ 的 $i$，边 $(v_{i},v_{i+1}) \\in E$。\n2) $P$ 恰好访问 $V$ 中的每个顶点一次，这意味着 $k=n$ 且序列中没有重复的顶点。\n\n首先，确定必要性：\n- 根据哈密顿路径的定义，它必须恰好访问所有 $n$ 个顶点一次。因此，长度条件 $k=n$（检查 A）和无重复条件（检查 C）都是必要的。\n- 为了使 $P$ 成为 $G$ 中的一条路径，每对连续的顶点必须是相邻的；因此，对于所有满足 $1 \\leq i \\leq k-1$ 的 $i$，$(v_{i},v_{i+1}) \\in E$（检查 B）是必要的。\n\n其次，确定充分性：\n- 如果 $k=n$（A），$P$ 中没有重复的顶点（C），并且每对连续的顶点都由 $E$ 中的一条边连接（B），那么 $P$ 是一条恰好包含 $V$ 中每个顶点一次的路径。根据哈密顿路径的定义，这些条件共同足以证明 $P$ 是一条哈密顿路径。\n\n现在评估其他提议的检查：\n- 当给定候选路径 $P$ 时，验证器不需要检查 D（图 $G$ 是连通的）。如果 A、B 和 C 成立，那么 $P$ 使用的边本身就构成了一条生成路径，这意味着图 $G$ 是连通的。因此，当 A、B 和 C 成立时，连通性已由它们所蕴含，检查 D 是多余的。虽然连通性是图 $G$ 包含任何哈密顿路径的必要属性，但在验证了 A、B 和 C 之后，它不是验证特定提议路径 $P$ 时一个额外的必要检查。\n- 检查 E（对于所有不同的 $u,w \\in V$，边 $(u,w) \\in E$）要求图 $G$ 是一个完全图。这个条件比要求的要强得多，会拒绝许多拥有哈密顿路径但并非完全图的图。因此，E 对于一个正确的验证器来说既非必要也不合适。\n\n因此，用于验证 $P$ 是 $G$ 中的哈密顿路径的充分且必要的检查组合正是 A、B 和 C。", "answer": "$$\\boxed{ABC}$$", "id": "1457517"}]}