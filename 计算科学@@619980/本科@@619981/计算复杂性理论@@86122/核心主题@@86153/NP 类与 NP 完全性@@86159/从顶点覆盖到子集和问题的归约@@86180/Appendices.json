{"hands_on_practices": [{"introduction": "掌握任何一种规约技术的第一步都是熟悉其基本构造和运算。本练习将通过一个具体的例子，引导你将一个已知的顶点覆盖解手动转化为其对应的子集和问题的解。通过这个过程，你将深入理解“松弛”变量在确保每条边都被正确“覆盖”到目标和中的关键作用。", "problem": "在计算复杂性理论的研究中，VERTEX-COVER 问题通常被归约到 SUBSET-SUM 问题，以证明后者的 NP 完全性。本题探讨了在一个此类标准归约中的一个具体步骤。\n\n考虑一个图 $G = (V, E)$ 和一个整数 $k$。我们如下构造一个 SUBSET-SUM 问题的实例：\n设顶点集为 $V = \\{v_1, v_2, v_3, v_4\\}$，边集为 $E = \\{e_1, e_2, e_3\\}$，其中 $e_1 = (v_1, v_2)$，$e_2 = (v_2, v_3)$，$e_3 = (v_3, v_4)$。边的数量为 $m=3$。这些数字是使用一个有 $m+1=4$ 个位的4进制表示法构造的。最高有效位（在位置 $m=3$）对应于顶点计数，而位置 $j=0, 1, \\dots, m-1$ 上的数字对应于边 $e_{j+1}$。\n\n对于每个顶点 $v_i \\in V$，创建一个数字 $w_i$。其4进制表示在最高有效位（位置3）上有一个'1'。对于每条与 $v_i$ 相关联的边 $e_j$，数字 $w_i$ 在位置 $j-1$ 上也有一个'1'。所有其他位上的数字都是'0'。\n\n对于每条边 $e_j \\in E$，创建一个“松弛”数 $s_j$。其4进制表示在位置 $j-1$ 上有一个'1'，在其他位置上都是'0'。\n\nSUBSET-SUM 实例的完整数字集合是所有 $w_i$ 和 $s_j$ 的并集。目标和 $T$ 的构造方式是，其4进制表示在最高有效位（位置3）上为整数 $k$，在所有其他位置（位置0、1和2）上为'2'。\n\n现在，考虑上述定义的图 $G$ 的一个具体 VERTEX-COVER 实例，其目标大小为 $k=2$。已知 $C = \\{v_2, v_3\\}$ 是该图的一个大小为2的有效顶点覆盖。为了使 SUBSET-SUM 实例有解，所生成数字的一个特定子集必须加起来等于目标和 $T$。这个子集将对应于顶点覆盖 $C$。\n\n关注边 $e_1 = (v_1, v_2)$，以下哪个特定于边的松弛数必须是这个加和为 $T$ 的子集的一部分？\n\nA. 1\n\nB. 4\n\nC. 16\n\nD. 64\n\nE. 不需要边 $e_1$ 的松弛数。", "solution": "我们在4进制下进行计算，位置索引如下：位置 $j=0,1,2$ 分别对应于边 $e_{1},e_{2},e_{3}$，而位置3（最高有效位）用于计算所选顶点的数量。各位的权重是 $4^{0},4^{1},4^{2},4^{3}$。\n\n对于每个顶点 $v_{i}$，数字 $w_{i}$ 在位置3上的数字为1，并且对于每条关联边 $e_{j}$，它在位置 $j-1$ 上的数字为1。对于每条边 $e_{j}$，松弛数 $s_{j}$ 仅在位置 $j-1$ 上的数字为1。目标和 $T$ 的4进制表示在位置0, 1, 2上的数字等于2，在位置3上的数字等于 $k=2$。\n\n对于顶点覆盖 $C=\\{v_{2},v_{3}\\}$，子集必须包含 $w_{2}$ 和 $w_{3}$。它们按位的贡献如下：\n- 位置3（顶点计数）：$1+1=2$，与 $T$ 的对应位相符。\n- 位置0（边 $e_{1}$）：$w_{2}$ 贡献1（因为 $v_{2}$ 与 $e_{1}$ 相关联），$w_{3}$ 贡献0（不关联），所以和为1。由于 $T$ 在此位置的数字为2，我们必须加上松弛数 $s_{1}$，它在位置0上额外贡献1。\n- 对于边 $e_{2}$ 和 $e_{3}$ 的情况类似。\n\n因此，对于边 $e_{1}$，需要的松弛数是 $s_{1}$，其值为 $4^{0}=1$。在选项中，这对应于A。", "answer": "$$\\boxed{A}$$", "id": "1443805"}, {"introduction": "深刻理解一个精妙构造的最好方法之一，就是探究当其关键部分被移除或修改时会发生什么。这个思想实验将挑战你分析一个有缺陷的规约版本，其中用于控制顶点覆盖规模 $k$ 的关键“高位”数字被完全移除。通过准确指出哪个原始约束在此修改后失效，你将更加清晰地认识到该“高位”数字对于规约逻辑的正确性为何是不可或缺的。", "problem": "在计算复杂性理论中，从VERTEX-COVER问题到SUBSET-SUM问题的归约是将一个图问题映射到一个数值问题的经典例子。\n\n让我们回顾一下标准的构造方法。给定一个无向图 $G=(V, E)$，其顶点集为 $V=\\{v_1, v_2, \\dots, v_n\\}$，边集为 $E=\\{e_1, e_2, \\dots, e_m\\}$，以及一个整数 $k$。VERTEX-COVER问题询问是否存在一个顶点子集 $V' \\subseteq V$，使得 $|V'| \\leq k$ 且对于每一条边 $(u,v) \\in E$，$u$ 或 $v$ 中至少有一个在 $V'$ 中。\n\n该归约从VERTEX-COVER的一个实例 $(G, k)$ 构造出SUBSET-SUM问题的一个实例。它创建一个整数集合 $S$ 和一个目标整数 $T$。当且仅当图 $G$ 中存在一个大小为 $k$ 的顶点覆盖时，$S$ 中存在一个子集的和等于 $T$。这些整数是使用一个包含 $m+1$ 位的4进制表示法构造的。\n\n构造方法如下：\n1.  对于每个顶点 $v_i \\in V$，创建一个整数 $x_i$。在4进制下，这个数的最高位（第 $(m+1)$ 位）为 '1'，并且对于每条与 $v_i$ 相关联的边 $e_j \\in E$，其第 $j$ 位为 '1'。所有其他位均为 '0'。\n    -   符号表示为：$x_i = 4^m + \\sum_{e_j \\text{ incident to } v_i} 4^{j-1}$。\n2.  对于每条边 $e_j \\in E$，创建一个整数 $y_j$。在4进制下，这个数的第 $j$ 位为 '1'，其他所有位均为 '0'。\n    -   符号表示为：$y_j = 4^{j-1}$。\n3.  用于SUBSET-SUM实例的整数集合是 $S = \\{x_1, \\dots, x_n\\} \\cup \\{y_1, \\dots, y_m\\}$。\n4.  构造目标和 $T$。在4进制下，它的最高位是数字 $k$，其他所有 $m$ 位均为 '2'。\n    -   符号表示为：$T = k \\cdot 4^m + \\sum_{j=1}^m 2 \\cdot 4^{j-1}$。\n\n现在，考虑该归约的一个有缺陷的版本，其中所有构造出的数中的最高位都被完全移除。新的数和目标和是在4进制下定义的，只有 $m$ 位（每条边对应一位）。\n-   新的顶点数：$x'_i = \\sum_{e_j \\text{ incident to } v_i} 4^{j-1}$。\n-   新的边数：$y'_j = 4^{j-1}$。（这些与原始的 $y_j$ 相同）。\n-   新的目标和：$T' = \\sum_{j=1}^m 2 \\cdot 4^{j-1}$。\n\n通过找到 $\\{x'_1, \\dots, x'_n\\} \\cup \\{y'_1, \\dots, y'_m\\}$ 中和为 $T'$ 的子集，原始VERTEX-COVER问题 $(G, k)$ 的下列哪个性质不再被正确地强制执行？\n\nA. 所选顶点集必须构成一个顶点覆盖的约束（即，每条边都被覆盖）。\n\nB. 顶点覆盖的大小必须等于 $k$ 的约束。\n\nC. 图 $G$ 必须是连通图才能使归约有效的约束。\n\nD. 归约完全失败，因为对于任何图，都不可能找到任何和为目标 $T'$ 的子集。\n\nE. 所选顶点必须构成一个独立集的约束。", "solution": "我们分析这个有缺陷的归约的4进制数字结构。每个数都恰好有 $m$ 个4进制位，每条边 $e_{j}$ 对应一位，没有最高位的第 $(m+1)$ 位。对于每条边 $e_{j}=\\{u,v\\}$：\n- $x'_{i}$ 的第 $j$ 位等于 $1$ 当且仅当 $v_{i}$ 是 $e_{j}$ 的一个端点，否则为 $0$。\n- $y'_{j}$ 的第 $j$ 位等于 $1$，且 $y'_{j}$ 的所有其他位都等于 $0$。\n- 目标 $T'$ 的第 $j$ 位等于 $2$。\n\n令 $U \\subseteq \\{1,\\dots,n\\}$ 为所选顶点数 $\\{x'_{i}\\}$ 的索引集，令 $J \\subseteq \\{1,\\dots,m\\}$ 为所选边数 $\\{y'_{j}\\}$ 的索引集。因为在4进制加法中，各位数字相加总和最多为 $3$ 时不会产生进位（因为 $3<4$），所以每个位的约束是独立的，并且必须在没有进位的情况下精确地等于目标位上的数字 $2$。\n\n固定一条边 $e_{j}=\\{a,b\\}$。和的第 $j$ 位等于\n$$\n\\mathbf{1}[a \\in U]+\\mathbf{1}[b \\in U]+\\mathbf{1}[j \\in J]=2,\n$$\n其中 $\\mathbf{1}[\\cdot]$ 表示指示函数。由于每一项都在 $\\{0,1\\}$ 中，唯一的解是：\n- $\\mathbf{1}[a \\in U]=1$ 且 $\\mathbf{1}[b \\in U]=1$，同时 $\\mathbf{1}[j \\in J]=0$，或者\n- $a,b$ 中恰好有一个在 $U$ 中，同时 $\\mathbf{1}[j \\in J]=1$。\n\n在任何一种情况下，$e_{j}$ 的至少一个端点在 $U$ 中。因此，任何和为 $T'$ 的子集必然选择了一个覆盖所有边的顶点集 $U$。因此，顶点覆盖的性质仍然被强制执行，所以选项A在这个有缺陷的归约中仍然是正确的。\n\n现在考虑大小约束。在正确的归约中，最高位强制了 $\\sum_{i \\in U}1=k$，因为每个 $x_{i}$ 对该位贡献1，每个 $y_{j}$ 贡献0，而目标值在该位上是 $k$。在这个有缺陷的归约中，这一位被完全移除了。目标 $T'$ 不再包含 $k$，并且子集和的约束只涉及每条边对应的位。因此，所选顶点的数量不受和为 $T'$ 这一条件的限制。例如，选择所有顶点（即 $U=\\{1,\\dots,n\\}$）而不选择任何边（即 $J=\\varnothing$），对于每条边，其对应位的数字和都是2，因此无论 $k$ 是多少，它都始终满足 $T'$ 的条件。因此，顶点覆盖大小等于 $k$ 的约束没有被强制执行。\n\n选项C是无关的，因为该归约原本就不要求图 $G$ 是连通的。\n选项D是错误的，因为存在可行的子集（例如，选择所有顶点）对于任意图都能使其和等于 $T'$。\n选项E不相关，并且无论是原始构造还是有缺陷的构造都没有强制执行该选项。\n\n因此，缺失的最高位导致了与 $k$ 相关的大小约束的丢失，即选项B。", "answer": "$$\\boxed{B}$$", "id": "1443832"}, {"introduction": "复杂的构造有时会产生看似合理的歧义。本练习旨在解决一个关于顶点覆盖到子集和规约的常见困惑点：当一条边被顶点覆盖集中的两个顶点同时覆盖时，规约是如何处理这种情况的？通过剖析一个看似可行但实则错误的论证，你将巩固对规约中“全局约束”的理解，即所选的顶点数字集合必须同时满足所有数位的要求，而不能孤立地、逐个地看待每个数位。", "problem": "在计算复杂性理论的研究中，从VERTEX-COVER问题到SUBSET-SUM问题的标准多项式时间归约，是将一个NP完全问题映射到另一个NP完全问题的经典范例。这个归约通过将一个图和一个目标整数转换为一个数字集合和一个目标和来工作。\n\n设一个VERTEX-COVER实例由一个图 $G=(V, E)$（其中顶点集为 $V=\\{v_1, \\ldots, v_n\\}$，边集为 $E=\\{e_1, \\ldots, e_m\\}$）和一个整数 $k$ 定义。该归约按如下方式构造一个SUBSET-SUM实例：\n\n1.  使用4进制表示法创建一组数字，以防止不同数位之间产生进位。每个数字有 $m+1$ 位。最高有效位（在位置 $m$）对应于顶点的选择，而较低的 $m$ 位（位置 $0$ 到 $m-1$）分别对应于边 $e_1, \\ldots, e_m$。\n2.  对于每个顶点 $v_i \\in V$，定义一个数 $x_i$ 为：$x_i = 4^m + \\sum_{j \\text{ s.t. } e_j \\text{ is incident to } v_i} 4^{j-1}$。\n3.  对于每条边 $e_j \\in E$，定义一个“松弛”数 $y_j$ 为：$y_j = 4^{j-1}$。\n4.  目标和 $T$ 定义为：$T = k \\cdot 4^m + \\sum_{j=1}^{m} 2 \\cdot 4^{j-1}$。\n\nVERTEX-COVER问题的一个“是”实例（存在一个大小至多为 $k$ 的顶点覆盖）对应于SUBSET-SUM问题的一个“是”实例（构造出的数字中存在一个子集，其和等于 $T$）。\n\n现在，考虑一个具体的图，其顶点为 $V = \\{A, B, C, D\\}$，边为 $E = \\{e_1, e_2, e_3, e_4\\}$，其中 $e_1=(A,B)$，$e_2=(B,C)$，$e_3=(C,D)$，$e_4=(B,D)$。设目标顶点覆盖的大小为 $k=2$。该图的一个有效顶点覆盖是集合 $C = \\{B, D\\}$。\n\n根据该归约的逻辑，和为 $T$ 的对应数字子集将通过选择覆盖集中的顶点对应的数（$x_B$ 和 $x_D$）以及为那些仅被 $C$ 中一个顶点覆盖的边所需的松弛变量（本例中为 $e_1$ 的 $y_1$、$e_2$ 的 $y_2$ 和 $e_3$ 的 $y_3$）来构成。边 $e_4=(B,D)$ 被 $B$ 和 $D$ 两者都覆盖，因此来自 $x_B$ 和 $x_D$ 的对应数位之和已为2，所以不选择松弛变量 $y_4$。\n\n一名学生在分析此案例时，指出了一个他认为是歧义的地方。对于边 $e_4=(B,D)$，他认为既然该数位列的目标是求和为2，那么可以通过只选择一个顶点数（比如 $x_B$）和相应的松弛变量（$y_4$）来达到这个目的。他声称这代表了另一种构造和为 $T$ 的有效子集的方法。\n\n下列哪个陈述最好地解释了为什么该学生的推理是错误的？\n\nA. 学生的推理是错误的，因为松弛变量 $y_j$ 的选择与顶点数 $x_i$ 无关，可以自由选择它们以满足每个数位上的目标和。\n\nB. 学生的推理是错误的，因为所选顶点数集合（例如 $\\{x_B, x_D\\}$）对于整个求和是固定的。这个选择必须满足目标和的最高有效位（$k \\cdot 4^m$），并同时决定所有边对应数位的基础和；不能通过任意改变这个主要的顶点数选择来满足单个边对应数位的要求。\n\nC. 学生的推理是正确的。存在多种方式来满足某个边对应数位的和，这证明了此归约存在一个根本性缺陷，说明它是无效的。\n\nD. 学生的推理是错误的，因为松弛变量 $y_4$ 的值为 $4^{4-1}$，这比任何单个顶点数 $x_i$ 的贡献都大，使得所提议的替换不可能。\n\nE. 学生的推理是错误的，因为目标和 $T$ 要求必须正好选择 $k=2$ 个顶点数，但他们提议的以 $\\{x_B, y_4, \\ldots\\}$ 开始的子集不能保证最高有效位满足此条件。", "solution": "我们将此归约及其在4进制下对每一位施加的约束进行形式化。\n\n对于任何由一些顶点数 $\\{x_{i} : i \\in S\\}$ 和一些松弛数 $\\{y_{j} : j \\in J\\}$ 组成的所选子集，其在4进制下的总和有 $m+1$ 位。最高有效位（位置 $m$）是所选顶点数的数量，因为每个 $x_{i}$ 在该位的贡献是 $4^{m}$，而每个 $y_{j}$ 在该位的贡献是 $0$。因此，最高有效位的条件\n$$\n\\sum_{i \\in S} 1 \\;=\\; k\n$$\n强制要求\n$$\n|S| \\;=\\; k.\n$$\n\n对于每个边对应的数位 $j \\in \\{1,\\ldots,m\\}$，第 $j$ 位的贡献是\n$$\na_{j} \\;=\\; \\mathbf{1}[u_{j} \\in S] \\;+\\; \\mathbf{1}[v_{j} \\in S] \\;+\\; \\mathbf{1}[j \\in J],\n$$\n其中 $e_{j}=(u_{j},v_{j})$，每个指示函数的值在 $\\{0,1\\}$ 中，且目标要求对于每个 $j$ 都有\n$$\na_{j} \\;=\\; 2\n$$。由于 $\\mathbf{1}[j \\in J] \\leq 1$，可以得出\n$$\n\\mathbf{1}[u_{j} \\in S] \\;+\\; \\mathbf{1}[v_{j} \\in S] \\;\\geq\\; 1 \\quad \\text{for all } j,\n$$\n所以 $S$是一个顶点覆盖。此外，如果 $e_{j}$ 的恰好一个端点在 $S$ 中，则 $\\mathbf{1}[j \\in J]$ 必须为 $1$；如果两个端点都在 $S$ 中，则 $\\mathbf{1}[j \\in J]$ 必须为 $0$，因为4进制的数位不能超过目标数位 $2$，并且根据构造，进位是被阻止的。\n\n现在考虑学生对边 $e_{4}=(B,D)$ 的建议：用 $x_{B}$ 和 $y_{4}$ 来代替同时使用 $x_{B}$ 和 $x_{D}$。仅仅在 $e_{4}$ 对应数位的层面上，无论是 $(\\mathbf{1}[B \\in S],\\mathbf{1}[D \\in S],\\mathbf{1}[4 \\in J])=(1,1,0)$ 还是 $(1,0,1)$，确实都能得到 $a_{4}=2$。然而，顶点数的选择是全局性的：同一个集合 $S$ 同时决定了最高有效位和所有边对应的数位。如果为了处理边 $e_4$ 而将 $D$ 从 $S$ 中移除，那么为了满足最高有效位的要求，仍然必须确保 $|S|=k$，这就迫使必须将某个其他顶点加入 $S$。对 $S$ 的这一改变会同时改变对其他边对应数位的贡献（例如，改变了哪些边会有一个或两个被选中的端点），从而改变了其他地方需要哪些松弛变量。因此，不能通过用一个松弛变量换掉一个顶点数来独立地“调整”单个边对应的数位，而不影响所有其他列；$S$ 的主要选择对于整个和是固定的，并且一次性约束了所有数位。\n\n因此，学生推理中的缺陷在于，他将边对应的数位与为了同时满足最高有效位和所有边对应数位而必须进行的全局固定顶点数选择分离开来独立对待。这恰好被选项B所捕捉。\n\n选项A、C和D是错误的，原因如下：A暗示松弛变量可以按位自由选择，独立于顶点的选择，这忽略了全局约束 $|S|=k$ 以及 $S$ 对所有边对应数位的同步影响；C错误地声称该归约无效；D错误地比较了数值大小，因为在相关的边对应数位上，每个 $x_i$ 的贡献为1，与 $y_j$ 相同。选项E的理由太弱：虽然确实必须选择恰好 $k$ 个顶点数，但学生仍然可以添加另一个顶点来满足 $|S|=k$，所以E没有解决真正的缺陷，即所有数位通过固定的集合 $S$ 产生的全局耦合关系。", "answer": "$$\\boxed{B}$$", "id": "1443839"}]}