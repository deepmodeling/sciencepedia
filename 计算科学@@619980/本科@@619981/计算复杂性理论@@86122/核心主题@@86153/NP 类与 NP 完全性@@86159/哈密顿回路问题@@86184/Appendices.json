{"hands_on_practices": [{"introduction": "要真正理解一个概念，最好的方法之一就是亲手计算。这个练习将引导你处理一个基本但重要的问题：在一个全连接的网络中，有多少种不同的汉密尔顿圈？通过解决一个关于旅游路线设计的实际问题，你将学会如何将问题抽象为图论模型，并运用组合学原理来处理由于对称性（如选择不同的起点或遍历方向）而产生的重复计数。[@problem_id:1457306]", "problem": "一家旅行社正在为一个有六个主要城市的地区设计豪华旅游套餐。该地区的交通网络非常发达，每对城市之间都有一条直达的专用高速铁路线相连。\n\n该公司希望推出一种“大环游之旅”，这是一种不间断的行程，从一个城市出发，访问其他每个城市恰好一次，然后返回起始城市。出于营销的考虑，如果两条行程经过了相同的铁路线路，那么无论从哪个城市出发，也无论旅行方向如何，这两条行程都将被视为相同的。例如，按 A-B-C-D-E-F-A 顺序访问城市的行程，与行程 C-D-E-F-A-B-C 被视为相同，也与反向行程 A-F-E-D-C-B-A 相同。\n\n计算该公司可以提供的独特的“大环游之旅”行程的总数。", "solution": "设 $n$ 为城市数量。由于每对城市都直接相连，该网络构成一个完全图 $K_{n}$，而一次“大环游之旅”对应于一个汉密尔顿圈。\n\n考虑将这些城市进行标记，并计算所有 $n$ 个城市的线性排列数量；这样的排列共有 $n!$ 种。在这些排列中，每一个独特的无向环都被重复计算了多次：\n- 任何一个环都可以从其 $n$ 个城市中的任何一个作为起点，这产生了一个因子 $n$。\n- 每个环可以按两个方向（顺时针或逆时针）遍历，这产生了一个因子 $2$。\n\n因此，每条不同的旅游路线对应于 $2n$ 个线性排列。独特的旅游路线数量为\n$$\n\\frac{n!}{2n}=\\frac{(n-1)!}{2}.\n$$\n对于 $n=6$ 的情况，\n$$\n\\frac{(6-1)!}{2}=\\frac{5!}{2}=\\frac{120}{2}=60.\n$$\n因此，独特的“大环游之旅”行程总数是 $60$。", "answer": "$$\\boxed{60}$$", "id": "1457306"}, {"introduction": "汉密尔顿圈的存在性并非理所当然，它严重依赖于图的底层结构。这个练习将引导你探索一类特殊的图——完全二分图。通过分析其独特的结构，你将推导出汉密尔顿圈存在的充要条件，从而深刻理解图的结构属性如何决定其计算性质。[@problem_id:1457281]", "problem": "在图论中，一个图 $G$ 由一对集合 $(V, E)$ 定义，其中 $V$ 是一个顶点集合， $E$ 是一个连接顶点对的边集合。一种特殊类型的图是**完全二分图**，记作 $K_{m,n}$，其中 $m$ 和 $n$ 是正整数。在这样的图中，顶点集 $V$ 可以被划分为两个不相交的子集 $U$ 和 $W$，使得 $|U|=m$ 且 $|W|=n$。边连接着 $U$ 中的顶点和 $W$ 中的顶点；事实上，对于 $U$ 中的每个顶点 $u \\in U$ 和 $W$ 中的每个顶点 $w \\in W$，边 $(u,w)$ 都存在于 $E$ 中。在同一划分内部的顶点之间不存在边。\n\n**汉密尔顿圈**是图中的一个闭合回路，它恰好访问每个顶点一次并返回到起始顶点。\n\n给定一个完全二分图 $K_{m,n}$，下列哪个关于整数 $m$ 和 $n$ 的条件是该图拥有汉密尔顿圈的充分必要条件？\n\nA. $m = n$ 且 $m \\ge 2$\n\nB. $m$ 和 $n$ 都是正偶数。\n\nC. $m+n$ 是一个偶数且 $m, n \\ge 2$。\n\nD. $m \\ge 2$ 且 $n \\ge 2$。\n\nE. $m=n$ 且 $m \\ge 1$。", "solution": "我们首先分析必要条件。在任何具有划分集 $U$ 和 $W$ 的二分图中，每个圈都必须在 $U$ 和 $W$ 的顶点之间交替，因为没有边连接同一划分内的两个顶点。因此，任何圈都有偶数个顶点，包含来自 $U$ 和来自 $W$ 的数量相等的顶点。\n\n如果该图有一个汉密尔顿圈，该圈会恰好访问每个顶点一次，因此包含 $U$ 中的所有 $m$ 个顶点和 $W$ 中的所有 $n$ 个顶点。根据交替性质，圈上来自 $U$ 的顶点数必须等于来自 $W$ 的顶点数，这要求\n$$\nm = n.\n$$\n此外，一个简单二分图中的圈的长度必须至少为 $4$，所以每个部分必须至少有两个顶点。因此，$K_{m,n}$ 中的汉密尔顿圈必然要求\n$$\nm = n \\quad \\text{and} \\quad m \\ge 2.\n$$\n\n我们现在证明充分性。假设 $m = n$ 且 $n \\ge 2$。将顶点标记为 $U = \\{u_{1}, u_{2}, \\ldots, u_{n}\\}$ 和 $W = \\{w_{1}, w_{2}, \\ldots, w_{n}\\}$。在 $K_{n,n}$ 中，每一对 $(u_{i}, w_{j})$ 都是一条边。考虑闭合路径\n$$\nu_{1} \\to w_{1} \\to u_{2} \\to w_{2} \\to \\cdots \\to u_{n} \\to w_{n} \\to u_{1}.\n$$\n每一步都使用一条在 $U$ 和 $W$ 之间的边，而这样的边在 $K_{n,n}$ 中是存在的。该路径恰好访问每个顶点一次并返回到起始顶点，因此它是一个汉密尔顿圈。\n\n因此，条件 $m = n$ 且 $m \\ge 2$ 是 $K_{m,n}$ 拥有汉密尔顿圈的充分必要条件，这对应于选项 A。", "answer": "$$\\boxed{A}$$", "id": "1457281"}, {"introduction": "由于寻找汉密尔顿圈是一个计算上的难题，在实际应用中，我们常常使用启发式算法来寻找近似解。这个练习将让你亲手操作一个最直观的贪心策略——最近邻算法。通过一个精心设计的例子，你将发现为什么这个看似合理的策略会失败，并无法保证找到最优解，从而体会到这类计算问题的复杂性。[@problem_id:1457266]", "problem": "考虑一个完全、无向、加权图 $G$，其顶点集为 $V = \\{V_1, V_2, V_3, V_4\\}$。任意两个顶点之间边的权重如下所示：\n- 顶点 $V_1$ 和 $V_2$ 之间边的权重为 $101$。\n- 顶点 $V_1$ 和 $V_3$ 之间边的权重为 $101$。\n- 顶点 $V_1$ 和 $V_4$ 之间边的权重为 $400$。\n- 顶点 $V_2$ 和 $V_3$ 之间边的权重为 $4$。\n- 顶点 $V_2$ 和 $V_4$ 之间边的权重为 $101$。\n- 顶点 $V_3$ 和 $V_4$ 之间边的权重为 $101$。\n\n寻找低权重汉密尔顿圈的一种常用启发式算法是最近邻算法。该算法的步骤如下：\n1.  从一个指定的顶点开始。该顶点是路径的起点。\n2.  从当前顶点出发，前往最近的未访问顶点（即由权重最小的边连接的顶点）。\n3.  如果到最近的未访问顶点存在权重相同的情况，算法选择索引最小的顶点（例如，如果 $i < j$，则选择 $V_i$ 而非 $V_j$）。\n4.  重复步骤2，直到图中的所有顶点都被访问过。\n5.  最后，从最后一个访问的顶点返回到起始顶点，以完成回路。\n\n从顶点 $V_1$ 开始，对图 $G$ 应用最近邻算法。计算所得汉密尔顿圈的总权重。", "solution": "我们从 $V_{1}$ 开始应用最近邻算法，使用给定的边权重 $w(V_{i},V_{j})$ 和偏向最低索引的平局决胜规则。\n\n步骤 1 (开始): 当前顶点为 $V_{1}$。未访问的顶点为 $\\{V_{2},V_{3},V_{4}\\}$。候选边为 $w(V_{1},V_{2})=101$、$w(V_{1},V_{3})=101$ 和 $w(V_{1},V_{4})=400$。在未访问的选择中，最小权重为 $101$，在 $V_{2}$ 和 $V_{3}$ 之间存在平局。根据平局决胜规则，选择索引较低的，因此移动到 $V_{2}$。目前路径: $V_{1}\\to V_{2}$，成本为 $101$。\n\n步骤 2: 当前顶点为 $V_{2}$。未访问的顶点为 $\\{V_{3},V_{4}\\}$。候选边为 $w(V_{2},V_{3})=4$ 和 $w(V_{2},V_{4})=101$。最小值为 $4$，因此移动到 $V_{3}$。目前路径: $V_{1}\\to V_{2}\\to V_{3}$，额外成本为 $4$。\n\n步骤 3: 当前顶点为 $V_{3}$。未访问的顶点仅为 $\\{V_{4}\\}$。通过 $w(V_{3},V_{4})=101$ 移动到 $V_{4}$。目前路径: $V_{1}\\to V_{2}\\to V_{3}\\to V_{4}$，额外成本为 $101$。\n\n步骤 4 (返回起点): 所有顶点均已访问。从 $V_{4}$ 返回起点 $V_{1}$，成本为 $w(V_{4},V_{1})=400$。\n\n最终得到的汉密尔顿圈为 $V_{1}\\to V_{2}\\to V_{3}\\to V_{4}\\to V_{1}$，其总权重为\n$$101+4+101+400=606.$$", "answer": "$$\\boxed{606}$$", "id": "1457266"}]}