{"hands_on_practices": [{"introduction": "理解量化布尔公式 (QBF) 的第一步是亲手评估它们。本练习将引导你完成一个基础的 QBF 求值过程，帮助你理解全称量词（$\\forall$）和存在量词（$\\exists$）之间的博弈关系。你可以将此过程想象成一个游戏：对于“所有”玩家（$\\forall$）的每一个选择，“存在”玩家（$\\exists$）是否总能找到一个应对策略来使公式成立？[@problem_id:1464801]", "problem": "在计算复杂性理论中，量化布尔公式 (QBF) 是一种在经典命题逻辑的基础上，增加了对布尔变量的量词的公式。QBF 的真值是通过在布尔域 $\\{ \\text{False}, \\text{True} \\}$（我们可表示为 $\\{0, 1\\}$）上对其进行求值来确定的。全称量词 $\\forall x$ 意为“对于 $x$ 的所有可能取值”，存在量词 $\\exists y$ 意为“存在至少一个 $y$ 的取值”。\n\n考虑以下记为 $\\Phi$ 的量化布尔公式：\n$$ \\Phi = \\forall x \\exists y ((x \\lor y) \\land (\\neg x \\lor \\neg y)) $$\n此处，$x$ 和 $y$ 是布尔变量，$\\lor$ 表示逻辑或运算，$\\land$ 表示逻辑与运算，$\\neg$ 表示逻辑非运算。\n\n关于公式 $\\Phi$ 的以下哪个陈述是正确的？\n\nA. 公式 $\\Phi$ 为真。\nB. 公式 $\\Phi$ 为假。\nC. $\\Phi$ 的真值无法确定，因为它取决于 $x$ 的初始赋值。\nD. 公式 $\\Phi$ 在语法上是无效的。", "solution": "我们来分析这个量化布尔公式\n$$\n\\Phi = \\forall x \\exists y \\,\\big((x \\lor y) \\land (\\neg x \\lor \\neg y)\\big).\n$$\n根据布尔量词的语义，$\\forall x \\exists y\\,\\psi(x,y)$ 为真，当且仅当对于 $x$ 的每一个真值，都存在一个 $y$ 的真值（可能依赖于 $x$）使得 $\\psi(x,y)$ 为真。\n\n首先，使用分配律简化命题矩阵：\n$$\n(x \\lor y) \\land (\\neg x \\lor \\neg y)\n= \\big(x \\land (\\neg x \\lor \\neg y)\\big) \\lor \\big(y \\land (\\neg x \\lor \\neg y)\\big).\n$$\n对每一项使用分配律：\n$$\n= (x \\land \\neg x) \\lor (x \\land \\neg y) \\lor (y \\land \\neg x) \\lor (y \\land \\neg y).\n$$\n使用矛盾式 $x \\land \\neg x = \\bot$ 和 $y \\land \\neg y = \\bot$，并在析取运算下消除 $\\bot$：\n$$\n= (x \\land \\neg y) \\lor (\\neg x \\land y).\n$$\n这正是 $x$ 和 $y$ 的异或，即当且仅当 $y \\neq x$ 时为真。\n\n现在对量化陈述进行求值。对于任意一个 $x$，选择 $y$ 作为 $x$ 的斯柯伦函数，给定为\n$$\ny = \\neg x.\n$$\n将这个选择代入简化的矩阵中：\n$$\n(x \\land \\neg(\\neg x)) \\lor (\\neg x \\land \\neg x)\n= (x \\land x) \\lor (\\neg x \\land \\neg x)\n= x \\lor \\neg x,\n$$\n这是一个重言式，因此对于每一个 $x$ 都为真。\n\n因此，对于每一个 $x$，都存在一个 $y$（即 $y=\\neg x$）使得矩阵为真。根据量词的定义，$\\Phi$ 为真。在所提供的选项中，这对应于陈述 A。", "answer": "$$\\boxed{A}$$", "id": "1464801"}, {"introduction": "在掌握了基本的求值方法后，下一个关键点是理解量词的顺序至关重要。交换量词的顺序，例如将 $\\exists x \\forall y$ 变为 $\\forall y \\exists x$，可能会完全改变公式的含义和真值。这个练习通过直接比较不同量词顺序的公式，清晰地展示了这一核心原则。[@problem_id:1464842]", "problem": "在计算复杂性理论中，量化布尔公式 (QBF) 是一种命题逻辑公式，其中的变量可以被量化。如果一个 QBF 的值为真，那么它就属于语言 TQBF (真量化布尔公式)。\n\n考虑以下四个 QBF，其中 $x$ 和 $y$ 是取值于 $\\{0, 1\\}$ 的布尔变量。逻辑运算符定义如下：$\\land$ 表示与 (AND)，$\\lor$ 表示或 (OR)，$\\neg$ 表示非 (NOT)，以及 $\\oplus$ 表示异或 (XOR)。一个表达式如果等于 1 则为真，如果等于 0 则为假。\n\n- $\\Phi_1 = \\exists x \\forall y (x \\oplus y = 1)$\n- $\\Phi_2 = \\forall y \\exists x (x \\oplus y = 1)$\n- $\\Phi_3 = \\forall x \\forall y ((x \\land y) \\lor (\\neg x \\land \\neg y) = 1)$\n- $\\Phi_4 = \\exists y \\exists x ((x \\land y) \\lor (\\neg x \\land \\neg y) = 1)$\n\n下列哪个陈述正确地指出了所有值为真的公式？\n\nA. 仅 $\\Phi_1$\nB. 仅 $\\Phi_2$ 和 $\\Phi_4$\nC. 仅 $\\Phi_3$ 和 $\\Phi_4$\nD. 仅 $\\Phi_1$ 和 $\\Phi_3$\nE. 仅 $\\Phi_2$", "solution": "对于布尔变量 $x,y \\in \\{0,1\\}$，我们有：\n- $x \\oplus y = 1$ 当且仅当 $x \\neq y$。\n- $(x \\land y) \\lor (\\neg x \\land \\neg y) = 1$ 当且仅当 $x = y$。\n\n对每个公式求值：\n\n对于 $\\Phi_{1} = \\exists x \\forall y\\,(x \\oplus y = 1)$，即 $\\exists x \\forall y\\,(x \\neq y)$。对于任何固定的 $x$，取 $y=x$ 会使 $x \\neq y$ 为假。因此不存在这样的 $x$，所以 $\\Phi_{1}$ 为假。\n\n对于 $\\Phi_{2} = \\forall y \\exists x\\,(x \\oplus y = 1)$，即 $\\forall y \\exists x\\,(x \\neq y)$。对于每个 $y$，选择 $x=1-y$，这满足 $x \\neq y$。因此 $\\Phi_{2}$ 为真。\n\n对于 $\\Phi_{3} = \\forall x \\forall y\\,((x \\land y) \\lor (\\neg x \\land \\neg y) = 1)$，即 $\\forall x \\forall y\\,(x = y)$。取 $x=0, y=1$ 可得一个反例，所以 $\\Phi_{3}$ 为假。\n\n对于 $\\Phi_{4} = \\exists y \\exists x\\,((x \\land y) \\lor (\\neg x \\land \\neg y) = 1)$，即 $\\exists x \\exists y\\,(x = y)$。取 $x=y=0$（或 $x=y=1$）可满足该式，所以 $\\Phi_{4}$ 为真。\n\n因此，只有 $\\Phi_{2}$ 和 $\\Phi_{4}$ 的值为真，这对应于选项 B。", "answer": "$$\\boxed{B}$$", "id": "1464842"}, {"introduction": "现在，让我们从评估公式的角色转变为构建公式的设计者。QBF 不仅仅是待解的难题，更是一种强大的形式语言，能够精确表达复杂的逻辑属性。这个练习挑战你将“恰好有一个满足赋值”这一抽象概念转化为一个精确的 QBF，从而体验其丰富的表达能力，并为理解 TQBF 在建模和验证中的应用打下基础。[@problem_id:1464839]", "problem": "在计算复杂性理论中，量化布尔公式（Quantified Boolean Formula，QBF）是一种在经典命题逻辑的基础上，增加了对布尔变量的量词（$\\forall$ 表示“对于所有”，$\\exists$ 表示“存在”）的公式。全真量化布尔公式（True Quantified Boolean Formula，TQBF）是一种没有自由变量的QBF，其值可以判定为真或假。\n\n考虑一个依赖于两个布尔变量 $x_1$ 和 $x_2$ 的命题公式 $\\phi(x_1, x_2)$。你的任务是选择一个TQBF，该公式当且仅当 $\\phi(x_1, x_2)$ 恰好有一个满足赋值时为真。\n\n为清楚起见，在下面的选项中，我们为两个赋值的相等性引入一种简写表示法。令表达式 $((x_1, x_2) = (y_1, y_2))$ 等价于布尔公式 $((x_1 \\iff y_1) \\land (x_2 \\iff y_2))$。\n\n下列哪个TQBF正确地表达了 $\\phi(x_1, x_2)$ 恰好有一个满足赋值的性质？\n\nA. $\\exists x_1 \\exists x_2 \\left( \\phi(x_1, x_2) \\land \\forall y_1 \\forall y_2 \\left( \\phi(y_1, y_2) \\implies ((x_1, x_2) = (y_1, y_2)) \\right) \\right)$\nB. $\\exists x_1 \\exists x_2 \\left( \\phi(x_1, x_2) \\land \\forall y_1 \\forall y_2 \\left( ((x_1, x_2) = (y_1, y_2)) \\implies \\phi(y_1, y_2) \\right) \\right)$\nC. $\\exists x_1 \\exists x_2 \\exists y_1 \\exists y_2 \\left( \\phi(x_1,x_2) \\land \\phi(y_1,y_2) \\land \\neg((x_1,x_2)=(y_1,y_2)) \\right)$\nD. $\\forall x_1 \\forall x_2 \\forall y_1 \\forall y_2 \\left( (\\phi(x_1,x_2) \\land \\phi(y_1,y_2)) \\implies ((x_1,x_2)=(y_1,y_2)) \\right)$", "solution": "我们想要一个TQBF，该公式为真的条件是当且仅当存在唯一的一个赋值 $(x_{1},x_{2}) \\in \\{0,1\\}^{2}$ 使得 $\\phi(x_{1},x_{2})$ 为真。“恰好有一个满足赋值”的逻辑规范是存在性与唯一性的合取：\n1) 存在性：$\\exists x_{1}\\exists x_{2}\\,\\phi(x_{1},x_{2})$。\n2) 唯一性：对于特定的见证 $(x_{1},x_{2})$，有 $\\forall y_{1}\\forall y_{2}\\,(\\phi(y_{1},y_{2}) \\implies ((x_{1},x_{2})=(y_{1},y_{2})))$。\n\n将这两者合并成一个单一的公式得到：\n$$\n\\exists x_{1}\\exists x_{2}\\left(\\phi(x_{1},x_{2}) \\land \\forall y_{1}\\forall y_{2}\\left(\\phi(y_{1},y_{2}) \\implies ((x_{1},x_{2})=(y_{1},y_{2}))\\right)\\right),\n$$\n这与选项A相匹配。\n\n现在精确地验证每个选项：\n\n- 选项A陈述：\n$$\n\\exists x_{1}\\exists x_{2}\\left(\\phi(x_{1},x_{2}) \\land \\forall y_{1}\\forall y_{2}\\left(\\phi(y_{1},y_{2}) \\implies ((x_{1},x_{2})=(y_{1},y_{2}))\\right)\\right).\n$$\n这个公式断言存在一个满足赋值 $(x_{1},x_{2})$，并且任何满足赋值 $(y_{1},y_{2})$ 都必须与它相等。这正是“恰好有一个满足赋值”的定义。\n\n- 选项B陈述：\n$$\n\\exists x_{1}\\exists x_{2}\\left(\\phi(x_{1},x_{2}) \\land \\forall y_{1}\\forall y_{2}\\left(((x_{1},x_{2})=(y_{1},y_{2})) \\implies \\phi(y_{1},y_{2})\\right)\\right).\n$$\n对于任何固定的使得 $\\phi(x_{1},x_{2})$ 为真的 $(x_{1},x_{2})$，蕴含式 $((x_{1},x_{2})=(y_{1},y_{2})) \\implies \\phi(y_{1},y_{2})$ 对所有的 $(y_{1},y_{2})$ 都成立：如果 $(y_{1},y_{2})=(x_{1},x_{2})$，那么因为 $\\phi(x_{1},x_{2})$ 为真，所以 $\\phi(y_{1},y_{2})$ 也为真；如果 $(y_{1},y_{2})\\neq(x_{1},x_{2})$，那么前件为假，蕴含式为真。因此，只要给定 $\\phi(x_{1},x_{2})$ 为真，这个全称量词条件总是满足的。整个公式等价于 $\\exists x_{1}\\exists x_{2}\\,\\phi(x_{1},x_{2})$，它表达的是“至少有一个满足赋值”，而不是唯一性。\n\n- 选项C陈述：\n$$\n\\exists x_{1}\\exists x_{2}\\exists y_{1}\\exists y_{2}\\left(\\phi(x_{1},x_{2}) \\land \\phi(y_{1},y_{2}) \\land \\neg((x_{1},x_{2})=(y_{1},y_{2}))\\right),\n$$\n它断言存在两个不同的满足赋值。这表达的是“至少有两个”，与唯一性相反。\n\n- 选项D陈述：\n$$\n\\forall x_{1}\\forall x_{2}\\forall y_{1}\\forall y_{2}\\left((\\phi(x_{1},x_{2}) \\land \\phi(y_{1},y_{2})) \\implies ((x_{1},x_{2})=(y_{1},y_{2}))\\right),\n$$\n它断言不存在两个不同的满足赋值。这表达的是“至多有一个满足赋值”，但并不保证存在性。因此，它允许零个满足赋值，而不是恰好一个。\n\n因此，只有选项A正确地表达了 $\\phi(x_{1},x_{2})$ 恰好有一个满足赋值。", "answer": "$$\\boxed{A}$$", "id": "1464839"}]}