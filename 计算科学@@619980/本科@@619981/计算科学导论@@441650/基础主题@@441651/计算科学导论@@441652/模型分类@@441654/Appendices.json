{"hands_on_practices": [{"introduction": "在许多科学测量中，我们都会遇到一个根本性的问题：何时可以将一个本质上离散和随机的过程（如光子的到达）近似为一个连续和确定的信号？本练习将通过分析荧光显微镜中的光子计数来探讨这一问题 [@problem_id:3160694]。通过推导一个基于信号变异性的标准，你将亲手计算出一个临界曝光时间，在此之上，使用连续确定性模型来描述光子信号是完全可以接受的，从而深入理解模型简化的理论依据和实际应用。", "problem": "荧光显微镜中的单个像素在曝光窗口 $\\left[0, T\\right]$ 内记录光子的到达。计数探测到的光子数量的离散随机变量 $N$ 被建模为参数为 $\\lambda(T)$ 的泊松随机变量，其中泊松参数是该窗口内期望的到达次数。该仪器由一个具有确定性、连续光子通量（强度）$I(t)$（每秒到达像素的光子数）的光源照射，探测器的量子效率为 $\\eta$（一个到达的光子被探测到的概率）。因此，瞬时到达率为 $r(t) = \\eta I(t)$，一次曝光的期望计数值为 $\\lambda(T) = \\int_{0}^{T} r(t)\\, dt = \\eta \\int_{0}^{T} I(t)\\, dt$。显微镜供应商建议，当变异系数 (CV)（定义为 $\\mathrm{CV} = \\sqrt{\\mathrm{Var}(N)}/\\mathbb{E}[N]$）低于容差 $\\varepsilon$ 时，对信号使用连续确定性模型。\n\n根据离散与连续、确定性与随机性这些类别，对 $N$ 的模型和 $I(t)$ 的模型进行分类。然后，仅从泊松过程的基本性质 $\\mathbb{E}[N] = \\lambda(T)$ 和 $\\mathrm{Var}(N) = \\lambda(T)$ 以及给定的变异系数定义出发，推导出一个关于曝光时间 $T$ 的判据，在该判据下连续确定性近似是可接受的，并为以下工作点计算满足此判据的最小曝光时间 $T_{\\min}$：\n- 曝光期间通量恒定，$I(t) = I_{0}$，其中 $I_{0} = 8.0 \\times 10^{4}$ 光子/秒。\n- 探测器效率为 $\\eta = 0.60$。\n- 容差为 $\\varepsilon = 0.020$。\n将您关于 $T_{\\min}$ 的最终数值答案四舍五入到三位有效数字。以秒为单位表示最终时间。", "solution": "该问题将按要求分两部分进行解答：首先，对光子计数 $N$ 的模型和入射通量 $I(t)$ 的模型进行分类；其次，推导曝光时间 $T$ 的判据并计算最小曝光时间 $T_{\\min}$。\n\n首先，我们验证问题陈述的有效性。\n**步骤1：提取已知条件**\n- 曝光窗口: $\\left[0, T\\right]$\n- 光子计数: $N$，一个离散随机变量\n- $N$的模型：参数为 $\\lambda(T)$ 的泊松随机变量\n- 光子通量: $I(t)$，一个确定性的连续函数\n- 探测器量子效率: $\\eta$\n- 瞬时到达率: $r(t) = \\eta I(t)$\n- 期望计数值（泊松参数）: $\\lambda(T) = \\int_{0}^{T} r(t)\\, dt = \\eta \\int_{0}^{T} I(t)\\, dt$\n- 连续确定性近似的条件：变异系数 $\\mathrm{CV}  \\varepsilon$\n- 变异系数的定义: $\\mathrm{CV} = \\sqrt{\\mathrm{Var}(N)}/\\mathbb{E}[N]$\n- $N$ 的泊松分布基本性质: $\\mathbb{E}[N] = \\lambda(T)$ 且 $\\mathrm{Var}(N) = \\lambda(T)$\n- 工作点参数:\n    - 恒定通量: $I(t) = I_{0}$，其中 $I_{0} = 8.0 \\times 10^{4}$ 光子/秒\n    - 探测器效率: $\\eta = 0.60$\n    - 容差: $\\varepsilon = 0.020$\n- 要求：将 $T_{\\min}$ 的最终数值答案四舍五入到三位有效数字。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题具有科学依据，描述了光子探测的标准泊松过程模型，这在光学和成像中是基础。所有术语都有明确定义，它们之间的关系（$\\lambda(T)$, $r(t)$, $I(t)$）在物理上是正确的。该问题是良定的，提供了推导判据和计算最终值所需的所有信息。语言客观且无歧义。所提供的数值在物理上是合理的。因此，该问题被认为是**有效的**。\n\n**第1部分：模型分类**\n问题陈述直接提供了分类。\n- 探测到的光子数 $N$ 的模型被描述为“离散随机变量”。这意味着 $N$ 的状态空间是离散的（非负整数集 $\\{0, 1, 2, ...\\}$），其演化是随机的（由一个概率分布，特别是泊松分布所支配）。因此，$N$ 的模型是**离散和随机的**。\n- 光子通量 $I(t)$ 的模型被描述为“确定性的、连续的光子通量”。这意味着其状态空间是连续的（非负实数），其演化是确定性的（在任何时间 $t$ 的值都是确定已知的）。因此，$I(t)$ 的模型是**连续和确定性的**。\n\n**第2部分：最小曝光时间的推导与计算**\n连续确定性近似可接受的条件是变异系数 $\\mathrm{CV}$ 低于容差 $\\varepsilon$。\n$$\n\\mathrm{CV}  \\varepsilon\n$$\n代入 $\\mathrm{CV}$ 的定义：\n$$\n\\frac{\\sqrt{\\mathrm{Var}(N)}}{\\mathbb{E}[N]}  \\varepsilon\n$$\n问题陈述 $N$ 服从参数为 $\\lambda(T)$ 的泊松分布。对于泊松随机变量，期望值和方差都等于其参数：\n$$\n\\mathbb{E}[N] = \\lambda(T)\n$$\n$$\n\\mathrm{Var}(N) = \\lambda(T)\n$$\n将这些性质代入不等式，得到：\n$$\n\\frac{\\sqrt{\\lambda(T)}}{\\lambda(T)}  \\varepsilon\n$$\n由于对于非零信号 $\\lambda(T)$ 必须为正，我们可以将其简化为：\n$$\n\\frac{1}{\\sqrt{\\lambda(T)}}  \\varepsilon\n$$\n因为两边都是正数，我们可以对不等式两边取倒数（这会反转不等号），然后平方（这不会改变不等号方向），得到：\n$$\n\\sqrt{\\lambda(T)} > \\frac{1}{\\varepsilon} \\implies \\lambda(T) > \\frac{1}{\\varepsilon^2}\n$$\n现在我们使用 $\\lambda(T)$ 在恒定通量 $I(t) = I_0$ 特定情况下的定义：\n$$\n\\lambda(T) = \\eta \\int_{0}^{T} I(t)\\, dt = \\eta \\int_{0}^{T} I_0\\, dt = \\eta I_0 T\n$$\n将此代入我们推导出的不等式，即可得到关于曝光时间 $T$ 的判据：\n$$\n\\eta I_0 T > \\frac{1}{\\varepsilon^2}\n$$\n为求得最小曝光时间 $T_{\\min}$，我们求解此不等式的边界条件（即满足该条件的下确界）：\n$$\n\\eta I_0 T_{\\min} = \\frac{1}{\\varepsilon^2}\n$$\n$$\nT_{\\min} = \\frac{1}{\\eta I_0 \\varepsilon^2}\n$$\n现在我们代入给定的数值：\n- $\\eta = 0.60$\n- $I_{0} = 8.0 \\times 10^{4} \\, \\text{s}^{-1}$\n- $\\varepsilon = 0.020 = 2.0 \\times 10^{-2}$\n\n首先，我们计算分母中的各项：\n$$\n\\varepsilon^2 = (2.0 \\times 10^{-2})^2 = 4.0 \\times 10^{-4}\n$$\n$$\n\\eta I_0 = (0.60) \\times (8.0 \\times 10^{4} \\, \\text{s}^{-1}) = 4.8 \\times 10^{4} \\, \\text{s}^{-1}\n$$\n$$\n\\eta I_0 \\varepsilon^2 = (4.8 \\times 10^{4} \\, \\text{s}^{-1}) \\times (4.0 \\times 10^{-4}) = 19.2 \\, \\text{s}^{-1}\n$$\n最后，我们计算 $T_{\\min}$：\n$$\nT_{\\min} = \\frac{1}{19.2 \\, \\text{s}^{-1}} \\approx 0.0520833... \\, \\text{s}\n$$\n问题要求答案四舍五入到三位有效数字。前三位有效数字是 $5$、$2$ 和 $0$。第四位数字是 $8$，因此我们将第三位数字向上进位。\n$$\nT_{\\min} \\approx 0.0521 \\, \\text{s}\n$$\n用科学记数法表示，即为 $5.21 \\times 10^{-2} \\, \\text{s}$。", "answer": "$$\n\\boxed{5.21 \\times 10^{-2}}\n$$", "id": "3160694"}, {"introduction": "一个纯粹确定性的算法在真实计算机上运行时，其行为可能会表现出随机性，这似乎有悖直觉。本练习通过一个思想实验，揭示了这一有趣现象背后的机制 [@problem_id:3160672]。你将分析一个简单的确定性更新规则，在考虑了有限精度计算引入的舍入误差后，如何演变成一个随机过程。通过推导误差方差随时间累积的表达式，你将理解模型的“随机性”有时并非源于系统本身，而是计算实现过程中涌现出的一种特性。", "problem": "一个离散时间计算模型根据确定性规则 $x_{n+1} = x_n + \\alpha$ 更新一个一维状态，其中 $x_0 \\in \\mathbb{R}$ 且 $\\alpha \\in \\mathbb{R}$ 是一个固定常数。在一台有限精度的计算机中，每个值都通过四舍五入到最近的网格点的方式，存储在间距为 $\\epsilon  0$ 的均匀网格上。设舍入算子为 $Q(z) = \\epsilon \\cdot \\mathrm{round}(z/\\epsilon)$，因此实现的更新为 $x_{n+1} = Q(x_n + \\alpha)$。假设 $x_0$ 可在网格上精确表示，且 $\\alpha/\\epsilon$ 是一个无理数。\n\n从确定性模型和随机模型的核心定义出发，并利用一个经过充分检验的事实，即在圆上增加一个无理增量会产生一个均匀分布的小数部分序列，我们将第 $n$ 步的舍入误差建模为随机变量 $r_n = Q(x_n + \\alpha) - (x_n + \\alpha)$，其取值范围在区间 $[-\\epsilon/2, \\epsilon/2]$ 内。在均匀分布的假设下，将 $\\{r_n\\}$ 视为在 $[-\\epsilon/2, \\epsilon/2]$ 上独立同分布的随机变量，服从均匀分布。\n\n设 $N \\in \\mathbb{N}$ 为一个固定的步数。从方差和随机变量独立性的基本原理出发，推导 $x_N$ 相对于其未舍入的确定性值 $x_0 + N\\alpha$ 的方差的闭式解析表达式。将你的最终答案表示为关于 $N$ 和 $\\epsilon$ 的单个解析表达式。无需进行舍入。", "solution": "该问题要求推导经过 $N$ 步后，计算实现的状态相对于其理想确定性值的方差。对问题陈述的验证已确认其科学上的合理性和良定性。\n\n让我们将第 $n$ 步的理想、未舍入的确定性状态定义为 $y_n$。根据问题描述，该状态按 $y_{n+1} = y_n + \\alpha$ 演化，初始条件为 $y_0 = x_0$。展开此递归关系，可得到第 $N$ 步理想状态的显式形式：\n$$y_N = x_0 + N\\alpha$$\n计算实现的状态，记为 $x_n$，根据涉及舍入算子 $Q(z)$ 的规则进行演化：\n$$x_{n+1} = Q(x_n + \\alpha)$$\n问题将第 $n$ 步的舍入误差定义为随机变量 $r_n$：\n$$r_n = Q(x_n + \\alpha) - (x_n + \\alpha)$$\n使用这个定义，我们可以将实现状态的更新规则重写为：\n$$x_{n+1} = (x_n + \\alpha) + r_n$$\n我们现在可以通过展开这个递归来表示经过 $N$ 步后的状态 $x_N$，从初始条件 $x_0$ 开始，该初始条件被假设为可精确表示，因此没有初始舍入误差。\n当 $n=0$ 时：\n$$x_1 = (x_0 + \\alpha) + r_0$$\n当 $n=1$ 时：\n$$x_2 = (x_1 + \\alpha) + r_1 = ((x_0 + \\alpha) + r_0 + \\alpha) + r_1 = (x_0 + 2\\alpha) + r_0 + r_1$$\n当 $n=2$ 时：\n$$x_3 = (x_2 + \\alpha) + r_2 = ((x_0 + 2\\alpha) + r_0 + r_1 + \\alpha) + r_2 = (x_0 + 3\\alpha) + r_0 + r_1 + r_2$$\n通过归纳法，经过 $N$ 步后状态 $x_N$ 的一般形式是：\n$$x_N = (x_0 + N\\alpha) + \\sum_{n=0}^{N-1} r_n$$\n问题要求计算 $x_N$ 相对于其未舍入的确定性值 $y_N = x_0 + N\\alpha$ 的方差。我们将这个差值定义为总误差 $E_N$：\n$$E_N = x_N - y_N = x_N - (x_0 + N\\alpha)$$\n代入我们关于 $x_N$ 的表达式：\n$$E_N = \\left( (x_0 + N\\alpha) + \\sum_{n=0}^{N-1} r_n \\right) - (x_0 + N\\alpha) = \\sum_{n=0}^{N-1} r_n$$\n待推导的量是这个总误差的方差 $\\mathrm{Var}(E_N)$。\n$$\\mathrm{Var}(E_N) = \\mathrm{Var}\\left(\\sum_{n=0}^{N-1} r_n\\right)$$\n问题陈述提供了一个关键的建模假设：舍入误差 $\\{r_n\\}$ 被视为独立同分布（i.i.d.）的随机变量。方差的一个基本性质表明，对于独立随机变量的和，其和的方差等于各方差之和。因此：\n$$\\mathrm{Var}(E_N) = \\sum_{n=0}^{N-1} \\mathrm{Var}(r_n)$$\n由于这些变量也是同分布的，它们都具有相同的方差。我们将这个共同的方差记为 $\\sigma_r^2 = \\mathrm{Var}(r_n)$（对于任意 $n$）。该和式简化为：\n$$\\mathrm{Var}(E_N) = \\sum_{n=0}^{N-1} \\sigma_r^2 = N \\sigma_r^2$$\n我们的任务现在归结为计算单个舍入误差 $r_n$ 的方差 $\\sigma_r^2$。根据问题， $r_n$ 在区间 $[-\\epsilon/2, \\epsilon/2]$上服从均匀分布。一个在区间 $[a, b]$ 上均匀分布的随机变量 $r$ 的概率密度函数 (PDF) 为 $f(r) = \\frac{1}{b-a}$（当 $r \\in [a, b]$ 时），其他情况下 $f(r)=0$。在我们的例子中，$a = -\\epsilon/2$ 且 $b = \\epsilon/2$，所以 PDF 是：\n$$f(r) = \\frac{1}{\\epsilon/2 - (-\\epsilon/2)} = \\frac{1}{\\epsilon}, \\quad \\text{for } r \\in [-\\epsilon/2, \\epsilon/2]$$\n$r$ 的方差定义为 $\\mathrm{Var}(r) = E[r^2] - (E[r])^2$。我们首先计算期望值 $E[r]$：\n$$E[r] = \\int_{-\\infty}^{\\infty} r f(r) dr = \\int_{-\\epsilon/2}^{\\epsilon/2} r \\cdot \\frac{1}{\\epsilon} dr = \\frac{1}{\\epsilon} \\left[ \\frac{r^2}{2} \\right]_{-\\epsilon/2}^{\\epsilon/2}$$\n$$E[r] = \\frac{1}{2\\epsilon} \\left( \\left(\\frac{\\epsilon}{2}\\right)^2 - \\left(-\\frac{\\epsilon}{2}\\right)^2 \\right) = \\frac{1}{2\\epsilon} \\left( \\frac{\\epsilon^2}{4} - \\frac{\\epsilon^2}{4} \\right) = 0$$\n舍入误差的期望值为 $0$。现在我们计算舍入误差平方的期望值 $E[r^2]$：\n$$E[r^2] = \\int_{-\\infty}^{\\infty} r^2 f(r) dr = \\int_{-\\epsilon/2}^{\\epsilon/2} r^2 \\cdot \\frac{1}{\\epsilon} dr = \\frac{1}{\\epsilon} \\left[ \\frac{r^3}{3} \\right]_{-\\epsilon/2}^{\\epsilon/2}$$\n$$E[r^2] = \\frac{1}{3\\epsilon} \\left( \\left(\\frac{\\epsilon}{2}\\right)^3 - \\left(-\\frac{\\epsilon}{2}\\right)^3 \\right) = \\frac{1}{3\\epsilon} \\left( \\frac{\\epsilon^3}{8} - \\left(-\\frac{\\epsilon^3}{8}\\right) \\right) = \\frac{1}{3\\epsilon} \\left( 2 \\cdot \\frac{\\epsilon^3}{8} \\right) = \\frac{1}{3\\epsilon} \\frac{\\epsilon^3}{4} = \\frac{\\epsilon^2}{12}$$\n现在我们可以计算单个舍入误差的方差：\n$$\\sigma_r^2 = \\mathrm{Var}(r) = E[r^2] - (E[r])^2 = \\frac{\\epsilon^2}{12} - 0^2 = \\frac{\\epsilon^2}{12}$$\n最后，我们将此结果代回到我们关于 $N$ 步后总误差方差的表达式中：\n$$\\mathrm{Var}(E_N) = N \\sigma_r^2 = N \\frac{\\epsilon^2}{12}$$\n这就是实现状态 $x_N$ 相对于其理想确定性值 $x_0 + N\\alpha$ 的方差的闭式解析表达式。", "answer": "$$\n\\boxed{\\frac{N\\epsilon^2}{12}}\n$$", "id": "3160672"}, {"introduction": "正确地对模型进行分类不仅仅是一个学术问题，它直接关系到现实世界决策的成败。本案例研究将理论付诸实践，探讨在库存管理中错误地将随机变量简化为确定性值的后果 [@problem_id:3160736]。你将分析一个场景，其中随机的补货提前期被其期望值所取代，并计算这种模型误分类对服务水平造成的实际影响。这个练习清晰地展示了为何低估系统中的不确定性（方差）会导致运营失败，并让你学会量化此类决策风险。", "problem": "一个单品项库存系统在订货至（基本库存）策略下运作。需求以每天 $\\lambda = 2$ 单位的速率，作为齐次泊松过程到达。当下订单时，补货提前期 $L$ 是随机的：它有 $0.6$ 的概率等于 $1$ 天，有 $0.4$ 的概率等于 $3$ 天。运营目标是周期服务水平达到 $1 - \\varepsilon = 0.95$，该水平定义为补货提前期内的总需求不超过基本库存水平 $S$ 的概率。一位分析师通过用确定性连续延迟 $\\tau = \\mathbb{E}[L]$ 来近似离散随机提前期，从而对该系统进行了错误分类，并在此近似下确定 $S$ 的大小以满足相同的 $95\\%$ 目标。\n\n仅使用泊松过程的定义、周期服务水平的定义以及全期望定律和全方差定律，判断关于模型分类以及在这种错误分类下的性能表现，以下哪些陈述是正确的。选择所有适用的选项。\n\nA. 用 $\\tau = \\mathbb{E}[L]$ 校准连续延迟近似，为 95% 的服务目标得出订货至水平 $S = 7$，并且这个相同的 $S$ 在具有随机提前期的真实系统中也能保证至少 95% 的周期服务水平。\n\nB. 连续确定性近似与提前期内的期望需求相匹配，但相对于真实系统低估了其方差；因此，在该近似下为达到目标服务水平而确定 $S$ 的大小会产生向下的偏差。\n\nC. 在给定参数下，如果分析师使用 $S = 7$，真实系统中的实际缺货概率约为 $0.10$。\n\nD. 如果转而使用最坏情况下的提前期 $L = 3$ 天来确定 $S$ 的大小，那么达到 95% 周期服务水平的最小基本库存水平是 $S = 10$。\n\nE. 真实模型和近似模型都是确定性的，因为 $S$ 是固定的，$\\tau$ 是一个单一的数字。特别是，两个模型都不是随机的。", "solution": "**_步骤 1：问题验证_**\n\n**1.1. 提取已知条件**\n*   系统：单品项库存系统。\n*   策略：订货至（基本库存）策略。\n*   需求过程：速率为 $\\lambda = 2$ 单位/天的齐次泊松过程。\n*   补货提前期 $L$：随机变量。\n    *   $L = 1$ 天，概率为 $p_1 = 0.6$。\n    *   $L = 3$ 天，概率为 $p_2 = 0.4$。\n*   目标周期服务水平：$1 - \\varepsilon = 0.95$。\n*   周期服务水平的定义：补货提前期内的总需求不超过基本库存水平 $S$ 的概率。\n*   近似：分析师通过用确定性连续延迟 $\\tau = \\mathbb{E}[L]$ 来近似离散随机提前期 $L$，从而对系统进行了错误分类。\n*   分析师的目标：在该近似下确定 $S$ 的大小，以满足相同的 95% 目标。\n*   任务：判断关于模型分类以及在这种错误分类下的性能表现，下列哪些陈述是正确的。\n*   允许使用的工具：泊松过程的定义、周期服务水平的定义、全期望定律和全方差定律。\n\n**1.2. 使用提取的已知条件进行验证**\n\n*   **科学依据**：是。该问题是一个标准的库存理论问题。泊松过程、提前期、服务水平和基本库存策略等概念是运筹学和供应链管理的基础。\n*   **适定性**：是。所有必要信息都已提供。需求是泊松过程，提前期分布已给出，服务水平目标已定义。问题要求分析一个特定的、明确定义的近似所带来的后果。问题是可解的。\n*   **客观性**：是。语言精确且定量。没有主观或基于意见的陈述。\n\n**无效性检查清单：**\n1.  **科学/事实不健全**：否。该模型是对一个简单库存系统的标准且合理的表述。\n2.  **无法形式化/不相关**：否。这是一个可形式化的问题，直接关系到模型分类（随机 vs. 确定性）及其后果，这是计算科学和建模的核心主题。\n3.  **不完整/矛盾的设置**：否。所有参数都已给出（$\\lambda$、L的分布、服务水平）。没有矛盾之处。\n4.  **不切实际/不可行**：否。对于一个教科书式的问题，这些参数是合理的。\n5.  **病态/结构不良**：否。每个部分都可以推导出唯一的答案。\n6.  **伪深刻/琐碎**：否。它要求理解 $\\mathbb{E}[f(X)]$ 和 $f(\\mathbb{E}[X])$ 之间的区别以及复合随机变量的属性（特别是在随机时间范围内的泊松变量之和）。它还需要使用全方差定律。这是一个非琐碎的概念性检验。\n7.  **超出科学可验证性**：否。这些说法可以通过计算来验证。\n\n**1.3. 结论与行动**\n该问题是**有效的**。我将继续进行解题推导。\n\n---\n\n**_步骤 2：解题推导_**\n\n让我们分解这个问题。\n*   **需求：** $D(t)$ 是长度为 $t$ 的时间区间内的需求。由于需求是速率为 $\\lambda=2$ 的泊松过程，因此 $D(t) \\sim \\text{Poisson}(\\lambda t)$。\n*   **提前期：** $L$ 是一个随机变量，满足 $P(L=1) = 0.6$ 和 $P(L=3) = 0.4$。\n*   **提前期内的需求（真实系统）：** 设 $D_L$ 为随机提前期 $L$ 内的需求。这是一个随机变量。\n*   **周期服务水平（CSL）：** CSL 是指提前期内的需求不超过库存水平 $S$ 的概率。CSL = $P(D_L \\le S)$。目标是 $P(D_L \\le S) \\ge 0.95$。\n\n**近似模型的分析**\n\n分析师用随机提前期 $L$ 的期望值 $\\tau = \\mathbb{E}[L]$ 来近似它。\n首先，计算 $\\mathbb{E}[L]$：\n$\\mathbb{E}[L] = (1 \\text{ 天}) \\times P(L=1) + (3 \\text{ 天}) \\times P(L=3)$\n$\\mathbb{E}[L] = 1 \\times 0.6 + 3 \\times 0.4 = 0.6 + 1.2 = 1.8$ 天。\n因此，$\\tau = 1.8$ 天。\n\n在近似模型中，提前期是一个固定值 $\\tau = 1.8$。此提前期内的需求，我们称之为 $D_\\tau$，服从均值为 $\\lambda \\tau$ 的泊松分布。\n$\\lambda \\tau = 2 \\text{ 单位/天} \\times 1.8 \\text{ 天} = 3.6$。\n所以，$D_\\tau \\sim \\text{Poisson}(3.6)$。\n\n分析师想要找到满足 $P(D_\\tau \\le S) \\ge 0.95$ 的最小整数 $S$。\n设 $F_{Poi(\\mu)}(k) = \\sum_{i=0}^{k} \\frac{e^{-\\mu}\\mu^i}{i!}$ 为均值为 $\\mu$ 的泊松分布的累积分布函数（CDF）。\n我们需要找到满足 $F_{Poi(3.6)}(S) \\ge 0.95$ 的最小整数 $S$。\n\n让我们计算泊松(3.6)分布的累积概率：\n$P(X=0) = e^{-3.6} \\approx 0.02725$\n$P(X=1) = e^{-3.6}(3.6)^1/1! \\approx 0.09810$\n$P(X=2) = e^{-3.6}(3.6)^2/2! \\approx 0.17659$\n$P(X=3) = e^{-3.6}(3.6)^3/3! \\approx 0.21190$\n$P(X=4) = e^{-3.6}(3.6)^4/4! \\approx 0.19071$\n$P(X=5) = e^{-3.6}(3.6)^5/5! \\approx 0.13731$\n$P(X=6) = e^{-3.6}(3.6)^6/6! \\approx 0.08239$\n$P(X=7) = e^{-3.6}(3.6)^7/7! \\approx 0.04247$\n\n现在计算 CDF 值：\n$F(0) = 0.02725$\n$F(1) = F(0) + P(X=1) = 0.02725 + 0.09810 = 0.12535$\n$F(2) = F(1) + P(X=2) = 0.12535 + 0.17659 = 0.30194$\n$F(3) = F(2) + P(X=3) = 0.30194 + 0.21190 = 0.51384$\n$F(4) = F(3) + P(X=4) = 0.51384 + 0.19071 = 0.70455$\n$F(5) = F(4) + P(X=5) = 0.70455 + 0.13731 = 0.84186$\n$F(6) = F(5) + P(X=6) = 0.84186 + 0.08239 = 0.92425$\n$F(7) = F(6) + P(X=7) = 0.92425 + 0.04247 = 0.96672$\n\n由于 $F(6) = 0.92425  0.95$ 且 $F(7) = 0.96672 \\ge 0.95$，在近似模型中满足目标的最小整数 $S$ 是 $S=7$。\n\n**真实系统的分析**\n\n在真实系统中，提前期 $L$ 是随机的。提前期内的需求 $D_L$ 是一个复合随机变量。\n$D_L$ 的概率分布是泊松分布的混合。\n$P(D_L \\le S) = \\sum_{l} P(D_L \\le S | L=l) P(L=l)$\n$P(D_L \\le S) = P(D(1) \\le S) P(L=1) + P(D(3) \\le S) P(L=3)$\n其中 $D(1) \\sim \\text{Poisson}(\\lambda \\times 1) = \\text{Poisson}(2)$ 且 $D(3) \\sim \\text{Poisson}(\\lambda \\times 3) = \\text{Poisson}(6)$。\n因此，$P(D_L \\le S) = 0.6 \\times P(\\text{Poisson}(2) \\le S) + 0.4 \\times P(\\text{Poisson}(6) \\le S)$。\n\n让我们来评估各个选项。\n\n**选项 A：用 $\\tau = \\mathbb{E}[L]$ 校准连续延迟近似，为 95% 的服务目标得出订货至水平 $S=7$，并且这个相同的 $S$ 在具有随机提前期的真实系统中也能保证至少 95% 的周期服务水平。**\n\n*   第一部分：“用...校准...得出订货至水平 S=7”。我上面的计算表明这是正确的。\n*   第二部分：“这个相同的 S 在真实系统中也能保证至少 95% 的周期服务水平”。让我们对 S=7 进行检验。\n    我们需要计算 S=7 时真实系统中的实际 CSL。\n    实际 CSL = $P(D_L \\le 7) = 0.6 \\times P(\\text{Poisson}(2) \\le 7) + 0.4 \\times P(\\text{Poisson}(6) \\le 7)$。\n\n    让我们计算泊松(2)和泊松(6)的累积分布函数。\n    对于泊松(2)：\n    $F_{Poi(2)}(7) = \\sum_{k=0}^{7} \\frac{e^{-2}2^k}{k!} \\approx 0.9989$。\n\n    对于泊松(6)：\n    $F_{Poi(6)}(7) = \\sum_{k=0}^{7} \\frac{e^{-6}6^k}{k!} \\approx 0.7440$。\n\n    $S=7$ 时的实际 CSL：\n    CSL $\\approx 0.6 \\times 0.9989 + 0.4 \\times 0.7440$\n    CSL $\\approx 0.59934 + 0.2976 = 0.89694$。\n\n    实际 CSL 约为 $0.897$，这小于 $0.95$。因此，$S=7$ 在真实系统中并*不能*保证 95% 的服务水平。陈述 A 的第二部分是错误的。\n    因此，陈述 A 是不正确的。\n\n**选项 B：连续确定性近似与提前期内的期望需求相匹配，但相对于真实系统低估了其方差；因此，在该近似下为达到目标服务水平而确定 $S$ 的大小会产生向下的偏差。**\n\n这需要比较两种模型中提前期内需求的均值和方差。\n设 $D_L$ 为真实系统中的需求，$D_\\tau$ 为近似系统中的需求。\n\n*   **均值比较：**\n    *   近似模型：$\\mathbb{E}[D_\\tau] = \\lambda \\tau = \\lambda \\mathbb{E}[L] = 3.6$。\n    *   真实模型：使用全期望定律（或迭代期望定律）：\n        $\\mathbb{E}[D_L] = \\mathbb{E}[\\mathbb{E}[D_L|L]]$。\n        给定 $L=l$，需求为均值为 $\\lambda l$ 的泊松分布。所以 $\\mathbb{E}[D_L|L=l] = \\lambda l$。\n        这意味着 $\\mathbb{E}[D_L|L] = \\lambda L$。\n        因此，$\\mathbb{E}[D_L] = \\mathbb{E}[\\lambda L] = \\lambda \\mathbb{E}[L] = 3.6$。\n    *   期望需求是相同的。陈述的第一部分是正确的。\n\n*   **方差比较：**\n    *   近似模型：$D_\\tau \\sim \\text{Poisson}(\\lambda \\tau)$。泊松随机变量的方差等于其均值。\n        $\\text{Var}(D_\\tau) = \\lambda \\tau = 3.6$。\n    *   真实模型：使用全方差定律（或称 Eve 定律）：\n        $\\text{Var}(D_L) = \\mathbb{E}[\\text{Var}(D_L|L)] + \\text{Var}(\\mathbb{E}[D_L|L])$.\n        我们知道：\n        $\\mathbb{E}[D_L|L] = \\lambda L$。\n        $\\text{Var}(D_L|L=l) = \\lambda l$（泊松($\\lambda l$)的方差）。所以 $\\text{Var}(D_L|L) = \\lambda L$。\n        将这些代入：\n        $\\text{Var}(D_L) = \\mathbb{E}[\\lambda L] + \\text{Var}(\\lambda L)$.\n        $\\text{Var}(D_L) = \\lambda \\mathbb{E}[L] + \\lambda^2 \\text{Var}(L)$.\n        让我们计算 $\\text{Var}(L)$：\n        $\\mathbb{E}[L] = 1.8$.\n        $\\mathbb{E}[L^2] = (1^2) \\times 0.6 + (3^2) \\times 0.4 = 1 \\times 0.6 + 9 \\times 0.4 = 0.6 + 3.6 = 4.2$.\n        $\\text{Var}(L) = \\mathbb{E}[L^2] - (\\mathbb{E}[L])^2 = 4.2 - (1.8)^2 = 4.2 - 3.24 = 0.96$.\n        现在，计算 $\\text{Var}(D_L)$:\n        $\\text{Var}(D_L) = \\lambda \\mathbb{E}[L] + \\lambda^2 \\text{Var}(L) = (2)(1.8) + (2^2)(0.96) = 3.6 + 4 \\times 0.96 = 3.6 + 3.84 = 7.44$.\n    *   比较：$\\text{Var}(D_\\tau) = 3.6$ 对比 $\\text{Var}(D_L) = 7.44$。\n        该近似明显低估了方差（$3.6  7.44$）。陈述的第二部分，“低估了其方差”，是正确的。\n\n*   **结论部分：** “因此，在该近似下为达到目标服务水平而确定 $S$ 的大小会产生向下的偏差”。\n    真实需求分布 $D_L$ 与近似需求分布 $D_\\tau$ 具有相同的均值，但方差更大。方差更大的分布更“分散”。要覆盖相同的百分位数（如 95%），需要离均值更远。\n    对于大致对称或单峰的分布（如泊松分布，尤其是均值较大时），更大的方差意味着尾部更“重”或下降得更慢。要达到某个累积概率（例如 0.95），将需要一个更大的 $S$ 值。\n    由于近似使用的是方差较小的分布，它计算出的 $S$ 值（$S=7$）将小于真实分布所要求的值。我们已经在对选项 A 的分析中看到了这一点：$S=7$ 对真实系统来说是不够的。$S$ 的值“向下偏置”了。\n    这个推理看起来是合理的。整个陈述 B 都是正确的。\n\n**选项 C：在给定参数下，如果分析师使用 $S = 7$，真实系统中的实际缺货概率约为 $0.10$。**\n\n缺货概率是 $P(D_L > S) = 1 - P(D_L \\le S)$。也就是 $1 - \\text{CSL}$。\n根据对选项 A 的分析，当 $S=7$ 时，实际 CSL 是：\nCSL $\\approx 0.89694$。\n缺货概率是 $1 - 0.89694 = 0.10306$。\n这个值约等于 $0.10$。这个陈述是在错误指定的参数 $S$ 下对系统性能的合理定量描述。\n\n**选项 D：如果转而使用最坏情况下的提前期 $L = 3$ 天来确定 $S$ 的大小，那么达到 95% 周期服务水平的最小基本库存水平是 $S = 10$。**\n\n这提出了另一种确定大小的方法：假设提前期总是最坏情况，即 $L=3$。\n在这种情况下，提前期内的需求是 $D(3) \\sim \\text{Poisson}(\\lambda \\times 3) = \\text{Poisson}(6)$。\n我们需要找到满足 $P(\\text{Poisson}(6) \\le S) \\ge 0.95$ 的最小整数 $S$。\n\n让我们使用为选项 A 开始计算的泊松(6)的 CDF 值。\n设 $F(S) = P(\\text{Poisson}(6) \\le S)$。\n$F(7) \\approx 0.7440$\n让我们继续计算：\n$P(X=8) = e^{-6}(6^8)/8! \\approx 0.10326$\n$P(X=9) = e^{-6}(6^9)/9! \\approx 0.06884$\n$P(X=10) = e^{-6}(6^{10})/10! \\approx 0.04130$\n$F(8) = F(7) + P(X=8) \\approx 0.7440 + 0.10326 = 0.84726$\n$F(9) = F(8) + P(X=9) \\approx 0.84726 + 0.06884 = 0.91610$\n$F(10) = F(9) + P(X=10) \\approx 0.91610 + 0.04130 = 0.95740$\n\n由于 $F(9) \\approx 0.916  0.95$，且 $F(10) \\approx 0.957 \\ge 0.95$。最小整数 $S$ 确实是 $S=10$。\n这个陈述是正确的。\n\n**选项 E：真实模型和近似模型都是确定性的，因为 $S$ 是固定的，$\\tau$ 是一个单一的数字。特别是，两个模型都不是随机的。**\n\n这是一个关于模型分类的陈述。如果一个模型包含任何影响其结果的随机性元素，那么它就是随机模型。\n*   **近似模型：** 提前期是一个确定性值 $\\tau=1.8$。然而，在这段时间内到达的需求是一个泊松过程，这是一个随机过程。需求量 $D_\\tau$ 是一个随机变量。因此，近似模型是一个随机模型。\n*   **真实模型：** 提前期 $L$ 是一个随机变量。需求是一个泊松过程。提前期内的需求 $D_L$ 是一个复合随机变量。这显然是一个随机模型。\n\n该陈述声称两者都是确定性的。这从根本上是错误的。随机需求过程的存在使得两个模型都是随机的。$S$ 是一个固定的决策变量，或者 $\\tau$ 是近似中的一个固定参数，这些事实并不能使整个模型成为确定性的。\n\n对每个选项的最终评估：\nA. 分析师确实计算出 $S=7$。然而，在真实系统中，$S=7$ 的实际周期服务水平是 $P(D_L \\le 7) \\approx 0.897$，这未能达到 $0.95$。**不正确**。\nB. 两种模型中提前期内的期望需求都是 $\\lambda \\mathbb{E}[L] = 3.6$。提前期需求的方差在近似模型中为 $\\lambda \\tau = 3.6$，在真实系统中为 $\\lambda \\mathbb{E}[L] + \\lambda^2 \\text{Var}(L) = 7.44$。近似模型低估了方差。真实系统中更高的方差意味着需要更高的库存水平才能达到相同的服务水平。因此，使用近似法找到的库存水平 $S=7$ 是向下偏置的。**正确**。\nC. 对于 $S=7$，实际服务水平为 $P(D_L \\le 7) \\approx 0.897$。缺货概率为 $1 - 0.897 = 0.103$。这个值可以合理地近似为 $0.10$。**正确**。\nD. 在最坏情况下的提前期 $L=3$ 时，需求为 $\\text{Poisson}(6)$。我们必须找到满足 $P(\\text{Poisson}(6) \\le S) \\ge 0.95$ 的最小整数 $S$。我们发现 $P(\\text{Poisson}(6) \\le 9) \\approx 0.916$ 和 $P(\\text{Poisson}(6) \\le 10) \\approx 0.957$。因此，最小整数库存水平为 $S=10$。**正确**。\nE. 两个模型都是随机的，因为需求由一个随机的泊松过程来表征。**不正确**。", "answer": "$$\\boxed{BCD}$$", "id": "3160736"}]}