{"hands_on_practices": [{"introduction": "让我们从最经典的元胞自动机——康威的生命游戏开始。这个练习将帮助你通过手动模拟，来巩固对元胞自动机基本规则的理解，并观察在一个小型周期性边界网格上，一个简单的初始模式是如何演化的。通过这个过程，你将亲身体验到简单规则如何驱动动态系统的行为。[@problem_id:1666404]", "problem": "康威的生命游戏（Conway's Game of Life）是一种零玩家游戏，意味着它的演化完全由其初始状态决定，无需任何后续输入。该游戏在一个二维方格网格上进行，每个单元格（或称细胞）可以处于两种可能的状态之一：存活或死亡。每个细胞都与其八个邻居相互作用，这八个邻居是指在水平、垂直或对角线上与之相邻的细胞。在每个时间步（或每一代），会发生以下转变：\n\n1.  任何存活的细胞，如果其存活邻居少于两个，则会因数量过少而死亡。\n2.  任何存活的细胞，如果其有两个或三个存活邻居，则会继续存活到下一代。\n3.  任何存活的细胞，如果其存活邻居多于三个，则会因数量过多而死亡。\n4.  任何死亡的细胞，如果其恰好有三个存活邻居，则会因繁殖而变为存活细胞。\n\n考虑一个在小型的 $3 \\times 3$ 网格上遵循这些规则的系统。该网格具有环形边界条件，意味着网格会自我环绕，最右边一列与最左边一列相邻，最上面一行与最下面一行相邻。例如，左上角的细胞的邻居包括了来自最底行和最右列的细胞。\n\n在第0代，系统的初始状态由位于网格中心行的三个存活细胞组成一条水平线。所有其他细胞都处于死亡状态。\n\n从第0代开始（并包括第0代）的整个演化过程中，网格在任何一代中包含的活细胞的最大数量是多少？", "solution": "设网格由 $(i,j)$ 索引，其中 $i,j \\in \\{0,1,2\\}$，并具有环形边界条件，因此索引以 $3$ 为模进行计算。第 $0$ 代的初始活细胞集合为\n$$\nS_{0}=\\{(1,0),(1,1),(1,2)\\},\n$$\n即完整的中间行。\n\n对于任何细胞 $(i,j)$，设 $N_{0}(i,j)$ 为其在第 $0$ 代的存活邻居数量。我们分情况计算 $N_{0}(i,j)$。\n\n1) 对于中间行的活细胞，即 $(i,j)=(1,j)$ 且 $j\\in\\{0,1,2\\}$，它们的存活邻居必须位于同一行，因为第 $0$ 行和第 $2$ 行在第 $0$ 代是死亡的。由于环绕边界，其水平邻居是 $(1,j-1)$ 和 $(1,j+1)$（索引以 $3$ 为模），它们都在 $S_{0}$ 中。因此，\n$$\nN_{0}(1,j)=2.\n$$\n根据规则2，每个这样的活细胞都会存活到下一代。\n\n2) 对于顶行的细胞，即 $(i,j)=(0,j)$，唯一可能的存活邻居在第 $1$ 行。在第 $1$ 行的邻居是 $(1,j-1)$、$(1,j)$ 和 $(1,j+1)$，它们都位于 $S_{0}$ 中。因此，\n$$\nN_{0}(0,j)=3.\n$$\n根据规则4，每个这样的死细胞在下一代都会变成活细胞。\n\n3) 对于底行，即 $(i,j)=(2,j)$，出于同样的对称性，其在第 $1$ 行的邻居也是 $(1,j-1)$、$(1,j)$ 和 $(1,j+1)$，所以\n$$\nN_{0}(2,j)=3,\n$$\n并且每个这样的死细胞在下一代都会变成活细胞。\n\n综合以上情况，在第 $1$ 代，$3\\times 3$ 网格中的每个细胞都是活的，因此\n$$\n|S_{1}|=9.\n$$\n\n现在考虑第 $1$ 代，其中 $S_{1}$ 是完整的 $3\\times 3$ 网格。对于任何细胞，其全部 $8$ 个邻居都是活的，因此每个细胞都有 $8$ 个存活邻居。由于 $8>3$，适用规则3，每个活细胞都会死亡。因此，\n$$\nS_{2}=\\varnothing,\n$$\n并且所有后续代都保持为空。\n\n因此，按代数计算的活细胞数量序列是：第 $0$ 代为 $3$，第 $1$ 代为 $9$，第 $2$ 代为 $0$，此后一直为 $0$。从第0代开始（并包括第0代）的任何一代中达到的活细胞最大数量是\n$$\n9.\n$$", "answer": "$$\\boxed{9}$$", "id": "1666404"}, {"introduction": "接下来，我们将探索一维元胞自动机，特别是著名的“规则90”。尽管其结构比生命游戏更简单，但这个练习揭示了仅通过相邻元胞的简单异或（XOR）运算，就能生成高度复杂且具有分形特征的模式。这个实践旨在展示元胞自动机“简单规则产生复杂行为”的核心魅力。[@problem_id:1421609]", "problem": "在一个简化的生物细胞线性链图案形成模型中，每个细胞可以处于两种状态之一：“活跃”（用 1 表示）或“不活跃”（用 0 表示）。细胞的状态以离散的时间步（代）演化。一个在位置 $i$ 和时间 $t+1$ 的细胞状态，记为 $c_i(t+1)$，由其在时间 $t$ 的直接左右邻居的状态决定。更新规则由异或（XOR）运算给出：\n$$c_i(t+1) = c_{i-1}(t) \\oplus c_{i+1}(t)$$\n其中 $a \\oplus b$ 表示 $(a+b) \\pmod 2$。这意味着一个细胞变为活跃状态，当且仅当其两个邻居中恰好有一个在前一代是活跃的。\n\n考虑一个系统，在第 $t=0$ 代开始时，在一个无限长的、其余细胞均不活跃的链上，只有一个位于位置 $i=0$ 的活跃细胞。所有 $i \\neq 0$ 的细胞在 $t=0$ 时都是不活跃的。\n\n计算从第 $t=0$ 代到第 $t=7$ 代（含）的活跃细胞累计总数。这是从第 $t=0$ 代到第 $t=7$ 代每一代活跃细胞数量的总和。", "solution": "我们在域 $\\mathbb{F}_{2}$ 上进行计算，因此异或运算是模 2 加法。更新规则是线性的：\n$$\nc_{i}(t+1)=c_{i-1}(t)+c_{i+1}(t)\\quad\\text{in }\\mathbb{F}_{2}.\n$$\n对于初始条件 $c_{0}(0)=1$ 和 $i\\neq 0$ 时 $c_{i}(0)=0$，可以通过对 $t$ 进行数学归纳法证明\n$$\nc_{i}(t)=\\sum_{k=0}^{t}\\binom{t}{k}\\,c_{i+t-2k}(0)\\quad\\text{in }\\mathbb{F}_{2}.\n$$\n基础情况 $t=0$ 是显而易见的。对于归纳步骤，\n$$\n\\begin{aligned}\nc_{i}(t+1)=c_{i-1}(t)+c_{i+1}(t)\\\\\n=\\sum_{k=0}^{t}\\binom{t}{k}\\,c_{i-1+t-2k}(0)+\\sum_{k=0}^{t}\\binom{t}{k}\\,c_{i+1+t-2k}(0)\\\\\n=\\sum_{k=0}^{t+1}\\left(\\binom{t}{k}+\\binom{t}{k-1}\\right)c_{i+(t+1)-2k}(0)\\\\\n=\\sum_{k=0}^{t+1}\\binom{t+1}{k}\\,c_{i+(t+1)-2k}(0),\n\\end{aligned}\n$$\n使用了当 $k<0$ 或 $k>t$ 时 $\\binom{t}{k}=0$ 的约定，以及帕斯卡恒等式。因为只有 $c_{0}(0)=1$ 非零，这可以简化为\n$$\nc_{i}(t)\\equiv\\begin{cases}\n\\binom{t}{m}\\pmod 2,\\text{如果 }m=\\frac{t+i}{2}\\in\\mathbb{Z},\\\\\n0,\\text{否则}.\n\\end{cases}\n$$\n因此，在时间 $t$ 的活跃细胞数量等于帕斯卡三角第 $t$ 行中奇数二项式系数的数量。根据卢卡斯定理，如果 $t=\\sum_{j\\ge 0}t_{j}2^{j}$ 且 $t_{j}\\in\\{0,1\\}$，那么使得 $\\binom{t}{k}$ 为奇数的 $k$ 的数量是\n$$\n\\prod_{j}(t_{j}+1)=2^{\\sum_{j}t_{j}}=2^{s_{2}(t)},\n$$\n其中 $s_{2}(t)$ 是 $t$ 的二进制展开式中 1 的数量。\n\n因此，令 $N(t)$ 表示在时间 $t$ 的活跃细胞数量，我们有 $N(t)=2^{s_{2}(t)}$。对于 $t=0$ 到 $7$，\n$$\n\\begin{aligned}\nt=0\\text{时： }s_{2}(0)=0\\Rightarrow N(0)=2^{0}=1,\\\\\nt=1\\text{时： }s_{2}(1)=1\\Rightarrow N(1)=2^{1}=2,\\\\\nt=2\\text{时： }s_{2}(2)=1\\Rightarrow N(2)=2^{1}=2,\\\\\nt=3\\text{时： }s_{2}(3)=2\\Rightarrow N(3)=2^{2}=4,\\\\\nt=4\\text{时： }s_{2}(4)=1\\Rightarrow N(4)=2^{1}=2,\\\\\nt=5\\text{时： }s_{2}(5)=2\\Rightarrow N(5)=2^{2}=4,\\\\\nt=6\\text{时： }s_{2}(6)=2\\Rightarrow N(6)=2^{2}=4,\\\\\nt=7\\text{时： }s_{2}(7)=3\\Rightarrow N(7)=2^{3}=8.\n\\end{aligned}\n$$\n从 $t=0$ 到 $t=7$ 的累计总数是\n$$\n\\sum_{t=0}^{7}N(t)=1+2+2+4+2+4+4+8=27.\n$$", "answer": "$$\\boxed{27}$$", "id": "1421609"}, {"introduction": "最后，我们将元胞自动机的原理应用于一个具体的科学建模问题。这个练习模拟了细胞分化的简化过程，展示了元胞自动机框架的灵活性。你将使用一个具有多种细胞状态和更复杂条件规则的二维模型，这有助于理解如何调整元胞自动机来探索特定的生物学现象。[@problem_id:1421612]", "problem": "一位发育生物学家正在创建一个简化模型，以研究使用二维细胞自动机的细胞分化模式。该模型在一个具有周期性边界条件的 3x3 细胞网格上进行模拟。这意味着网格是环绕的，因此最右列单元格的右邻居是最左列的对应单元格，最上行单元格的上邻居是最下行的对应单元格，以此类推。\n\n网格中的每个单元格可以处于四种可能的整数状态之一：\n- `0`：空位\n- `1`：干细胞\n- `2`：分化细胞类型 A\n- `3`：分化细胞类型 B\n\n网格中每个单元格的状态在每个离散时间步长同时更新。一个给定单元格在时间 $t+1$ 的状态由其自身在时间 $t$ 的状态以及其八个直接邻居（摩尔邻域）的状态决定。更新规则应用如下：\n\n1.  **空位 (`0`)：** 如果一个空位恰好有三个干细胞 (`1`) 邻居，它就会变成一个干细胞 (`1`)。否则，它仍然是空位。\n2.  **干细胞 (`1`)：** 其命运由以下有序检查确定：\n    a. 如果它有一个或多个类型 A (`2`) 的邻居，它就会变成类型 A (`2`)。\n    b. 如果规则 2a 不适用，并且其八个邻居的状态之和严格大于 5，它就会变成类型 B (`3`)。\n    c. 如果规则 2a 和 2b 都不适用，它仍然是干细胞 (`1`)。\n3.  **分化细胞 (`2` 或 `3`)：** 这些细胞是终末分化的，并在所有后续时间步长中保持其当前状态。\n\n在时间 $t=0$ 时，网格被初始化为中间行有一条由三个干细胞组成的水平线，所有其他单元格都是空位，如下矩阵所示：\n$$\n\\begin{pmatrix}\n0  0  0 \\\\\n1  1  1 \\\\\n0  0  0\n\\end{pmatrix}\n$$\n\n根据此初始配置和提供的规则，模拟网格的演化。计算在时间 $t=3$ 时网格中所有九个单元格的状态之和。", "solution": "在时间 $t=0$ 时，中间整行的状态为 $1$，其他位置的状态为 $0$。在周期性（环形）边界条件下，对于任何单元格，其八个邻居包括上一行的三个单元格、同一行的两个单元格（左和右）以及下一行的三个单元格。\n\n从 $t=0$ 到 $t=1$：\n- 对于顶行或底行的任何单元格（在 $t=0$ 时状态为 $0$），其在中间行的三个邻居状态都为 $1$，而其他五个邻居的状态都为 $0$。因此，每个这样的单元格恰好有 $3$ 个状态为 $1$ 的邻居，所以根据规则 1，它变为状态 $1$。\n- 对于中间行的任何单元格（在 $t=0$ 时状态为 $1$），其同行内的两个邻居状态为 $1$，而其他六个邻居（在上下两行）的状态为 $0$，所以邻居状态之和为 $2$，不大于 $5$。没有状态为 $2$ 的邻居，所以规则 2a 不适用。因此，根据规则 2c，它保持状态 $1$。\n\n所以，在 $t=1$ 时，所有九个单元格的状态都为 $1$。\n\n从 $t=1$ 到 $t=2$：\n- 没有状态为 $2$ 的单元格，所以规则 2a 永远不适用。\n- 每个单元格的状态都是 $1$，并且任何单元格的所有八个邻居的状态也都是 $1$，所以邻居状态之和为 $8$，满足 $8>5$。因此，根据规则 2b，每个单元格都变为状态 $3$。\n\n因此，在 $t=2$ 时，所有九个单元格的状态都为 $3$。\n\n从 $t=2$ 到 $t=3$：\n- 根据规则 3，处于状态 $2$ 或 $3$ 的分化细胞保持不变。因此，所有单元格都保持状态 $3$。\n\n在 $t=3$ 时的状态之和为\n$$\n\\sum_{i=1}^{9} 3 = 9 \\cdot 3 = 27.\n$$", "answer": "$$\\boxed{27}$$", "id": "1421612"}]}