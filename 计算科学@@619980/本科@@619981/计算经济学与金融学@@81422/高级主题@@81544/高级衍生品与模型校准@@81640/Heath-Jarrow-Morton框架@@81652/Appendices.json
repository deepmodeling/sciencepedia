{"hands_on_practices": [{"introduction": "Heath-Jarrow-Morton (HJM) 框架使用基于伊藤积分的随机过程来为远期利率建模。为了理解与这些利率变动相关的风险和方差，我们必须掌握二次变分的概念，它衡量了随机过程的累积方差。这个基础练习 [@problem_id:1328957] 将指导你计算一个代表性利率模型中过程的二次变分，从而巩固一项关键的数学技能。", "problem": "设 $\\{B_t\\}_{t \\ge 0}$ 为标准一维布朗运动，定义在概率空间 $(\\Omega, \\mathcal{F}, \\mathbb{P})$ 上，且 $B_0 = 0$。在许多随机模型中，过程是通过对布朗运动进行函数积分来构造的。刻画此类过程的一个关键量是其二次变差，它直观地度量了过程路径的累积方差。\n\n考虑一个固定的终端时间 $T > 0$。通过伊藤积分定义一个随机过程 $\\{X_t\\}_{t \\in [0, T]}$：\n$$\nX_t = \\int_0^t (T-s) \\, dB_s\n$$\n这种类型的积分出现在用于为远期利率建模的 Heath-Jarrow-Morton 框架中。\n\n您的任务是对于任意 $t \\in [0, T]$，计算过程 $X_t$ 在时间区间 $[0, t]$ 上的二次变差，记为 $[X]_t$。\n\n请以 $t$ 和 $T$ 的闭式解析表达式形式给出您的答案。", "solution": "我们考虑由伊藤积分 $X_{t} = \\int_{0}^{t} (T - s)\\, dB_{s}$ 定义的过程，其中 $t \\in [0, T]$。关于连续局部鞅的一个标准结果表明，如果 $X_{t} = \\int_{0}^{t} H_{s}\\, dB_{s}$，其中被积函数 $H_{s}$ 是适应的、平方可积的，那么二次变差为\n$$\n[X]_{t} = \\int_{0}^{t} H_{s}^{2}\\, ds.\n$$\n应用此结果，令 $H_{s} = T - s$，我们得到\n$$\n[X]_{t} = \\int_{0}^{t} (T - s)^{2}\\, ds.\n$$\n为了计算该积分，我们使用 $(T - s)^{2}$ 的原函数：\n$$\n\\int (T - s)^{2}\\, ds = -\\frac{(T - s)^{3}}{3} + C.\n$$\n因此，\n$$\n[X]_{t} = \\left[-\\frac{(T - s)^{3}}{3}\\right]_{s=0}^{s=t} = \\frac{T^{3} - (T - t)^{3}}{3}.\n$$\n等价地，展开 $(T - t)^{3}$ 可得\n$$\n[X]_{t} = T^{2} t - T t^{2} + \\frac{t^{3}}{3}.\n$$\n以上任一形式都提供了所要求的以 $t$ 和 $T$ 表示的闭式表达式。", "answer": "$$\\boxed{T^{2}t - T t^{2} + \\frac{t^{3}}{3}}$$", "id": "1328957"}, {"introduction": "HJM 框架的基石是无套利漂移条件，它将远期利率的漂移与其波动率结构联系起来。在实践中，这通常涉及一个必须进行数值计算的积分。这个动手编程问题 [@problem_id:2398783] 要求你实现该条件，将数值近似与精确解进行比较，并分析收敛性，从而提供金融建模实践方面的直接经验。", "problem": "考虑风险中性测度下的瞬时远期利率 $f(t,T)$ 的单因子 Heath-Jarrow-Morton (HJM) 框架。设远期利率的波动率是确定性的，由 $\\sigma(t,T) = a \\exp(-b\\,(T-t))$ 给出，其中常数 $a > 0$ 且 $b > 0$。对于任意固定的评估时间 $t_0$ 和到期日 $T \\ge t_0$，瞬时远期利率的 HJM 无套利漂移为\n$$\n\\alpha(t_0,T) = \\sigma(t_0,T)\\int_{t_0}^{T} \\sigma(t_0,u)\\,du.\n$$\n使用 $N \\in \\mathbb{N}$ 个在 $[t_0,T]$ 上的相等子区间，将积分的左端点黎曼和近似定义为\n$$\nS_N(t_0,T) = \\sum_{k=0}^{N-1} \\sigma\\!\\left(t_0,\\, t_0 + k\\,\\Delta\\right)\\,\\Delta,\n\\quad \\text{其中} \\quad \\Delta = \\frac{T - t_0}{N}.\n$$\n定义近似漂移为\n$$\n\\alpha_N(t_0,T) = \\sigma(t_0,T)\\,S_N(t_0,T).\n$$\n对于下面的每一组参数，令 $\\{T_j\\}_{j=0}^{M}$ 为一个均匀的到期日网格，其中 $T_j = t_0 + j\\frac{H}{M}$，对于 $j \\in \\{0,1,\\dots,M\\}$，这里 $M$ 是一个给定的正整数。对于指定列表 $\\mathcal{N}$ 中的每个 $N$，通过下式定义此到期日网格上的最大绝对漂移误差\n$$\nE_N = \\max_{0 \\le j \\le M} \\left| \\alpha(t_0, T_j) - \\alpha_N(t_0, T_j) \\right|.\n$$\n对于列表 $\\mathcal{N}$ 中的两个连续值 $N$ 和 $2N$（其中 $2N$ 紧随 $N$），定义观测阶数为\n$$\np_N = \\frac{\\log\\!\\left(E_N / E_{2N}\\right)}{\\log(2)}.\n$$\n您的程序必须为下面的每个测试用例计算：(i) $E_{N_{\\text{last}}}$，即 $\\mathcal{N}$ 中最大 $N$ 对应的最大绝对误差，以及 (ii) $p_{N_{\\text{last}}/2}$，即由 $\\mathcal{N}$ 的最后两个条目计算出的观测阶数。最终输出中的所有数值必须四舍五入到 $10$ 位小数。\n\n使用以下测试套件。在每种情况下，到期日网格大小为 $M = 2000$。\n\n- 测试用例 1：$a = 0.02$, $b = 0.8$, $t_0 = 0.5$, $H = 5.0$, $\\mathcal{N} = [5, 10, 20, 40, 80]$。\n- 测试用例 2：$a = 0.7$, $b = 1.2$, $t_0 = 0.0$, $H = 0.1$, $\\mathcal{N} = [4, 8, 16, 32, 64]$。\n- 测试用例 3：$a = 0.03$, $b = 0.1$, $t_0 = 0.0$, $H = 30.0$, $\\mathcal{N} = [10, 20, 40, 80, 160]$。\n- 测试用例 4：$a = 0.015$, $b = 5.0$, $t_0 = 1.0$, $H = 2.0$, $\\mathcal{N} = [6, 12, 24, 48, 96]$。\n\n您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表形式的结果。对于每个测试用例，输出一个双元素列表 $[E_{N_{\\text{last}}}, p_{N_{\\text{last}}/2}]$。最终输出格式必须是\n$[[E^{(1)},p^{(1)}],[E^{(2)},p^{(2)}],[E^{(3)},p^{(3)}],[E^{(4)},p^{(4)}]]$，\n其中每个 $E^{(i)}$ 和 $p^{(i)}$ 都四舍五入到 $10$ 位小数，并且打印的行中任何地方都没有空格。", "solution": "该问题陈述是计算金融中一个定义明确的练习，具体涉及单因子 Heath-Jarrow-Morton (HJM) 框架。它在科学上是合理的，在数学上是一致的，并且所有参数都已提供。因此，该问题被认为是有效的，并将构建一个解决方案。\n\n任务是计算 HJM 无套利漂移近似的数值精度。瞬时远期利率 $f(t,T)$ 的波动率由确定性函数给出：\n$$ \\sigma(t,T) = a \\exp(-b(T-t)) $$\n其中 $a > 0$ 和 $b > 0$ 是常数。\n\n首先，我们推导在风险中性测度下精确 HJM 无套利漂移 $\\alpha(t_0, T)$ 的解析表达式。对于一个固定的评估时间 $t_0$，漂移定义为：\n$$ \\alpha(t_0,T) = \\sigma(t_0,T) \\int_{t_0}^{T} \\sigma(t_0,u) \\, du $$\n积分项通过对函数 $\\sigma(t_0, u) = a \\exp(-b(u-t_0))$ 关于到期日变量 $u$ 进行直接积分来评估：\n$$ \\int_{t_0}^{T} a e^{-b(u-t_0)} \\, du = a \\left[ -\\frac{1}{b} e^{-b(u-t_0)} \\right]_{u=t_0}^{u=T} = -\\frac{a}{b} \\left( e^{-b(T-t_0)} - e^{0} \\right) = \\frac{a}{b} \\left( 1 - e^{-b(T-t_0)} \\right) $$\n将此结果代入 $\\alpha(t_0,T)$ 的表达式中，我们得到闭式解：\n$$ \\alpha(t_0,T) = \\left( a e^{-b(T-t_0)} \\right) \\left( \\frac{a}{b} (1 - e^{-b(T-t_0)}) \\right) = \\frac{a^2}{b} e^{-b(T-t_0)} \\left(1 - e^{-b(T-t_0)}\\right) $$\n这个精确公式对于计算数值近似的误差至关重要。\n\n其次，我们分析近似漂移 $\\alpha_N(t_0,T)$，它基于左端点黎曼和 $S_N(t_0,T)$：\n$$ \\alpha_N(t_0,T) = \\sigma(t_0,T) S_N(t_0,T), \\quad \\text{其中} \\quad S_N(t_0,T) = \\sum_{k=0}^{N-1} \\sigma(t_0, t_0 + k\\Delta) \\Delta, \\quad \\Delta = \\frac{T - t_0}{N} $$\n为实现计算效率，我们通过将其识别为有限几何级数来重构此和式：\n$$ S_N(t_0,T) = a\\Delta \\sum_{k=0}^{N-1} e^{-bk\\Delta} = a\\Delta \\sum_{k=0}^{N-1} (e^{-b\\Delta})^k $$\n使用几何级数求和公式 $\\sum_{k=0}^{n-1} r^k = (1 - r^n) / (1 - r)$，其中 $r = e^{-b\\Delta}$ 且 $n=N$：\n$$ S_N(t_0,T) = a\\Delta \\frac{1 - (e^{-b\\Delta})^N}{1 - e^{-b\\Delta}} = a\\Delta \\frac{1 - e^{-bN\\Delta}}{1 - e^{-b\\Delta}} $$\n由于 $N\\Delta = T-t_0$，求和的表达式变为：\n$$ S_N(t_0,T) = a \\frac{T-t_0}{N} \\frac{1 - e^{-b(T-t_0)}}{1 - e^{-b(T-t_0)/N}} $$\n该公式在 $T > t_0$ 时成立。对于平凡情况 $T=t_0$，我们有 $\\Delta=0$，积分为 $0$，因此 $\\alpha(t_0,t_0)=0$ 且 $\\alpha_N(t_0,t_0)=0$，导致误差为 $0$。对于数值实现，为防止当 $\\Delta$ 很小时的精度损失，表达式 $1 - e^{-x}$ 应计算为 $- \\mathtt{expm1}(-x)$，其中 $\\mathtt{expm1}$ 是用于计算 $e^x - 1$ 的标准库函数。\n\n每个测试用例的计算步骤如下：\n$1$. 定义一个均匀到期日网格 $\\{T_j\\}_{j=0}^M$，通过 $T_j = t_0 + j \\frac{H}{M}$ 对 $j=0, 1, \\dots, M$ 定义。\n$2$. 使用解析公式为整个网格计算精确漂移值向量 $\\alpha(t_0, T_j)$。\n$3$. 对于列表 $\\mathcal{N}$ 中的每个子区间数 $N$：\n    a. 使用 $S_N(t_0,T_j)$ 的几何级数公式为网格计算近似漂移值向量 $\\alpha_N(t_0, T_j)$。\n    b. 计算绝对误差向量 $|\\alpha(t_0, T_j) - \\alpha_N(t_0, T_j)|$。\n    c. 找到最大绝对误差 $E_N = \\max_{0 \\le j \\le M} |\\alpha(t_0, T_j) - \\alpha_N(t_0, T_j)|$。\n$4$. 一旦计算出所有误差 $\\{E_N\\}_{N \\in \\mathcal{N}}$，确定所需的输出：\n    a. 最终误差 $E_{N_{\\text{last}}}$，对应于 $\\mathcal{N}$ 中最大的 $N$。\n    b. 观测收敛阶数 $p_{N_{\\text{last}}/2}$，从序列中的最后两个误差计算得出：\n$$ p_{N_{\\text{last}}/2} = \\frac{\\log(E_{N_{\\text{last}}/2} / E_{N_{\\text{last}}})}{\\log(2)} $$\n数值积分理论表明，左端点黎曼和的误差阶为 $O(1/N)$，所以我们期望 $p_N \\approx 1$。\n\n该实现将利用 `numpy` 库进行向量化计算以确保效率。根据要求，所有最终数值结果将四舍五入到 $10$ 位小数。", "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Main function to solve the problem for the given test cases.\n    \"\"\"\n    test_cases = [\n        {'a': 0.02, 'b': 0.8, 't0': 0.5, 'H': 5.0, 'N_list': [5, 10, 20, 40, 80], 'M': 2000},\n        {'a': 0.7, 'b': 1.2, 't0': 0.0, 'H': 0.1, 'N_list': [4, 8, 16, 32, 64], 'M': 2000},\n        {'a': 0.03, 'b': 0.1, 't0': 0.0, 'H': 30.0, 'N_list': [10, 20, 40, 80, 160], 'M': 2000},\n        {'a': 0.015, 'b': 5.0, 't0': 1.0, 'H': 2.0, 'N_list': [6, 12, 24, 48, 96], 'M': 2000}\n    ]\n\n    all_results = []\n    for params in test_cases:\n        result = compute_for_case(**params)\n        all_results.append(result)\n\n    # Format the final output string\n    result_strings = []\n    for E, p in all_results:\n        result_strings.append(f\"[{E:.10f},{p:.10f}]\")\n    \n    final_output = f\"[{','.join(result_strings)}]\"\n    print(final_output)\n\ndef compute_for_case(a, b, t0, H, N_list, M):\n    \"\"\"\n    Computes the required values for a single test case.\n    \n    Returns:\n        A tuple (E_N_last, p_N) containing the final error and observed order.\n    \"\"\"\n    \n    # 1. Define the maturity grid\n    T_grid = t0 + np.linspace(0.0, H, M + 1)\n    \n    # 2. Compute the exact drift alpha(t0, T)\n    T_minus_t0 = T_grid - t0\n    \n    # Supress divide by zero warning for b=0, not an issue here.\n    with np.errstate(divide='ignore', invalid='ignore'):\n         integral_part_exact = (a / b) * (1 - np.exp(-b * T_minus_t0))\n    \n    sigma_vals = a * np.exp(-b * T_minus_t0)\n    alpha_exact = sigma_vals * integral_part_exact\n    \n    # Handle T=t0 case where the expression is 0/0 but limit is a/b * 0 = 0.\n    alpha_exact[0] = 0.0\n    \n    errors = []\n    \n    # 3. For each N, compute the approximate drift and error E_N\n    for N in N_list:\n        alpha_approx = np.zeros(M + 1)\n        \n        # Select maturities T > t0 (where j > 0)\n        T_grid_gt0 = T_grid[1:]\n        T_minus_t0_gt0 = T_grid_gt0 - t0\n        delta = T_minus_t0_gt0 / N\n        \n        # Use geometric series sum formula for S_N\n        # S_N = a * delta * (1 - exp(-b*T_minus_t0)) / (1 - exp(-b*delta))\n        # Use expm1 for numerical stability: 1-exp(-x) = -expm1(-x)\n        num = -np.expm1(-b * T_minus_t0_gt0)\n        den = -np.expm1(-b * delta)\n        \n        # Handle cases where delta > 0 but is very small, leading to den being zero.\n        # This shouldn't happen with standard float64 precision for the given params.\n        # If it did, the limit of num/den is T_minus_t0_gt0 / delta = N.\n        # We will assume a small but non-zero denominator will suffice.\n        \n        S_N = a * delta * (num / den)\n        \n        sigma_vals_gt0 = sigma_vals[1:]\n        alpha_approx[1:] = sigma_vals_gt0 * S_N\n        \n        # Error at T=t0 is 0.\n        \n        # Compute maximum absolute error E_N\n        abs_error = np.abs(alpha_exact - alpha_approx)\n        E_N = np.max(abs_error)\n        errors.append(E_N)\n\n    # 4. Calculate final results\n    E_N_last = errors[-1]\n    \n    # 5. Compute observed order p_N\n    # p_N = log(E_N / E_2N) / log(2)\n    # Here N = N_list[-2], 2N = N_list[-1]\n    p_N_last_half = np.log(errors[-2] / errors[-1]) / np.log(2)\n    \n    return E_N_last, p_N_last_half\n\nif __name__ == \"__main__\":\n    solve()\n\n```", "id": "2398783"}, {"introduction": "虽然 HJM 框架功能强大，但其有效性取决于其组成部分的审慎设定，尤其是波动率函数 $\\sigma(t,T)$。并非所有函数都能导出一个表现良好、无套利的模型。这个思维实验 [@problem_id:2398822] 邀请你探讨由不适定 (ill-posed) 的波动率函数引发的数学病态，从而磨练你对金融模型背后假设的批判性思维。", "problem": "考虑一个单因子 Heath-Jarrow-Morton (HJM) 模型，该模型描述了在风险中性概率测度 $\\mathbb{Q}$ 下的瞬时远期利率曲线。该模型建立在一个支持标准布朗运动 $W_t$ 的带滤概率空间 $(\\Omega,\\mathcal{F},(\\mathcal{F}_t)_{t \\ge 0},\\mathbb{Q})$ 上。对于每个到期日 $T \\ge 0$，当 $t \\le T$ 时，瞬时远期利率 $f(t,T)$ 的演化过程为\n$$\n\\mathrm{d}f(t,T) = \\alpha(t,T)\\,\\mathrm{d}t + \\sigma(t,T)\\,\\mathrm{d}W_t,\\quad t \\le T,\n$$\n其中 $\\alpha(t,T)$ 和 $\\sigma(t,T)$ 是 $(t,T)$ 的确定性函数。当短期利率有良好定义时，其值为 $r(t) = f(t,t)$，货币市场账户为 $B(t) = \\exp\\!\\left(\\int_0^t r(s)\\,\\mathrm{d}s\\right)$，到期日为 $T$ 的零息债券在时间 $t$ 的价格为\n$$\nP(t,T) = \\exp\\!\\left(-\\int_t^T f(t,u)\\,\\mathrm{d}u\\right),\\quad 0 \\le t \\le T.\n$$\n假设初始远期曲线 $f(0,T)$ 在紧区间上连续，并且对于每个固定的 $T$，在 $[0,T]$ 上有界。考虑如下确定性波动率函数族\n$$\n\\sigma(t,T) = k\\,(T-t)^{-p},\\quad T>t,\\quad \\text{with } k>0 \\text{ and } p \\ge 0.\n$$\n评估以下关于此类波动率函数可能引起的数学病态和适定性问题的陈述。\n\nA. 如果 $p \\ge 1$，对于每个固定的 $t<T$ 的 $(t,T)$，连接 $\\alpha$ 和 $\\sigma$ 的无套利漂移 $\\alpha(t,T)$ 为无穷大，因此远期利率的随机微分方程是不适定的。\n\nB. 如果 $0 \\le p < 1$ 且 $\\sigma$ 是如上指定的确定性函数，那么对于每个固定的到期日 $T$，贴现债券价格 $B(t)^{-1}P(t,T)$ 在 $[0,T]$ 上是一个真鞅。\n\nC. 如果 $0 < p < 1$，那么 $\\sigma(t,t)$ 是有限的，并且短期利率 $r(t)=f(t,t)$ 满足一个扩散系数为 $\\sigma(t,t)$ 的随机微分方程。\n\nD. 如果 $0 < p < 1$，映射 $(t,T)\\mapsto f(t,T)$ 在边界 $T=t$ 处不必是联合连续的；这种正则性的缺乏会使那些在包含任意接近于 $t$ 的 $T$ 值的网格点上演化远期曲线的数值格式变得不稳定。\n\nE. 如果 $\\sigma$ 关于 $t$ 不是 $\\mathcal{F}_t$ 适应的，HJM 无套利约束仍然可以施加并保证无套利；适应性的缺乏对于适定性是无害的。\n\n选择所有正确的陈述。", "solution": "对问题陈述进行验证。\n\n**1. 提取已知条件：**\n- **模型：** 单因子 Heath-Jarrow-Morton (HJM) 模型。\n- **标的：** 瞬时远期利率 $f(t,T)$。\n- **概率测度：** 风险中性测度 $\\mathbb{Q}$。\n- **随机驱动：** 标准布朗运动 $W_t$。\n- **远期利率 SDE：** $\\mathrm{d}f(t,T) = \\alpha(t,T)\\,\\mathrm{d}t + \\sigma(t,T)\\,\\mathrm{d}W_t$，对于 $t \\le T$。\n- **系数：** $\\alpha(t,T)$ 和 $\\sigma(t,T)$ 是确定性函数。\n- **定义：**\n    - 短期利率：$r(t) = f(t,t)$。\n    - 货币市场账户：$B(t) = \\exp\\!\\left(\\int_0^t r(s)\\,\\mathrm{d}s\\right)$。\n    - 零息债券价格：$P(t,T) = \\exp\\!\\left(-\\int_t^T f(t,u)\\,\\mathrm{d}u\\right)$。\n- **初始条件：** $f(0,T)$ 在紧区间上连续且有界。\n- **波动率设定：** $\\sigma(t,T) = k\\,(T-t)^{-p}$ 对于 $T>t$，其中常数 $k>0$ 且 $p \\ge 0$。\n\n**2. 验证：**\n- **科学依据：** 该问题设定在标准的 HJM 框架内，这是数理金融的基石之一。所给的波动率结构是一个已知的案例，用于研究模型属性和潜在的病态问题。该问题具有科学依据。\n- **适定性：** 问题要求评估在给定波动率结构下模型数学性质的相关陈述。这是一个定义明确的数学任务。\n- **客观性：** 问题以精确、客观的数学语言陈述。\n- **完整性：** 问题提供了推导 HJM 无套利条件和分析指定波动率函数后果所需的所有必要信息。\n- **总体而言：** 该问题是量化金融领域中一个有效且适定的问题。\n\n**3. 结论：**\n问题陈述有效。开始求解。\n\n### HJM 无套利条件的推导\n\n无套利要求任何可交易资产的价格，在用货币市场账户贴现后，在风险中性测度 $\\mathbb{Q}$ 下是一个鞅。对于到期日为 $T$ 的零息债券，其贴现价格为 $Z(t,T) = B(t)^{-1}P(t,T)$。\n\n债券价格 $P(t,T) = \\exp\\left(-\\int_t^T f(t,u)\\,\\mathrm{d}u\\right)$ 的动态过程可通过伊藤引理求得。其微分为：\n$$\n\\frac{\\mathrm{d}P(t,T)}{P(t,T)} = \\left( r(t) - \\int_t^T \\alpha(t,u)\\,\\mathrm{d}u + \\frac{1}{2} \\left(\\int_t^T \\sigma(t,u)\\,\\mathrm{d}u\\right)^2 \\right) \\mathrm{d}t - \\left(\\int_t^T \\sigma(t,u)\\,\\mathrm{d}u\\right) \\mathrm{d}W_t\n$$\n贴现价格 $Z(t,T)$ 的动态过程则由下式给出：\n$$\n\\mathrm{d}Z(t,T) = Z(t,T) \\left[ \\left( - \\int_t^T \\alpha(t,u)\\,\\mathrm{d}u + \\frac{1}{2} \\left(\\int_t^T \\sigma(t,u)\\,\\mathrm{d}u\\right)^2 \\right) \\mathrm{d}t - \\left(\\int_t^T \\sigma(t,u)\\,\\mathrm{d}u\\right) \\mathrm{d}W_t \\right]\n$$\n要使 $Z(t,T)$ 成为一个局部鞅，其漂移项必须为零。这对所有 $T$ 都必须成立：\n$$\n\\int_t^T \\alpha(t,u)\\,\\mathrm{d}u = \\frac{1}{2} \\left( \\int_t^T \\sigma(t,u)\\,\\mathrm{d}u \\right)^2\n$$\n对 $T$ 求导，得到 HJM 无套利漂移条件：\n$$\n\\alpha(t,T) = \\sigma(t,T) \\int_t^T \\sigma(t,u)\\,\\mathrm{d}u\n$$\n该条件将远期利率的漂移和波动率联系起来。我们现在用它来分析给定的波动率结构 $\\sigma(t,T) = k\\,(T-t)^{-p}$。\n\n### 选项评估\n\n**A. 如果 $p \\ge 1$，对于每个固定的 $t<T$ 的 $(t,T)$，连接 $\\alpha$ 和 $\\sigma$ 的无套利漂移 $\\alpha(t,T)$ 为无穷大，因此远期利率的随机微分方程是不适定的。**\n\n为了计算 $\\alpha(t,T)$，我们必须首先计算积分项：\n$$\n\\int_t^T \\sigma(t,u)\\,\\mathrm{d}u = \\int_t^T k\\,(u-t)^{-p}\\,\\mathrm{d}u\n$$\n令 $v = u-t$，则 $\\mathrm{d}v = \\mathrm{d}u$。积分上下限变为 $0$ 和 $T-t$。\n$$\n\\int_0^{T-t} k\\,v^{-p}\\,\\mathrm{d}v\n$$\n这是一个标准的 p-积分。它收敛当且仅当 $v$ 的幂次大于 $-1$，即 $-p > -1$，这意味着 $p < 1$。\n- 如果 $p=1$，积分为 $k\\int_0^{T-t} v^{-1}\\,\\mathrm{d}v = k[\\ln v]_0^{T-t}$，因在 $v=0$ 处的奇点而发散。\n- 如果 $p>1$，积分为 $k\\left[\\frac{v^{1-p}}{1-p}\\right]_0^{T-t}$。由于 $1-p < 0$，在下限 $v=0$ 处求值得到无穷大。\n\n因此，对于任何 $p \\ge 1$，积分 $\\int_t^T \\sigma(t,u)\\,\\mathrm{d}u$ 对于任何 $t<T$ 都是无穷大。由于当 $t<T$ 时 $\\sigma(t,T) = k(T-t)^{-p}$ 是有限且非零的，漂移项 $\\alpha(t,T) = \\sigma(t,T) \\int_t^T \\sigma(t,u)\\,\\mathrm{d}u$ 也是无穷大。一个具有无穷大漂移系数的随机微分方程是不适定的。\n\n**结论：** **正确**。\n\n**B. 如果 $0 \\le p < 1$ 且 $\\sigma$ 是如上指定的确定性函数，那么对于每个固定的到期日 $T$，贴现债券价格 $B(t)^{-1}P(t,T)$ 在 $[0,T]$ 上是一个真鞅。**\n\n对于 $0 \\le p < 1$，漂移条件是适定的。贴现债券价格 $Z(t,T)$ 是一个局部鞅。要成为一个真鞅，一个充分条件是 Novikov's condition。$Z(t,T)$ 的 SDE 是 $\\mathrm{d}Z_t = -Z_t \\Sigma_P(t,T)\\,\\mathrm{d}W_t$，其中 $\\Sigma_P(t,T) = \\int_t^T \\sigma(t,u)\\,\\mathrm{d}u$。其解是随机指数 $Z(t,T) = Z(0,T)\\mathcal{E}(-\\int \\Sigma_P(s,T) \\mathrm{d}W_s)_t$。由于 $\\Sigma_P(s,T)$ 是确定性的，Novikov's condition 简化为要求驱动随机积分的总方差是有限的。也就是说，我们必须检查 $\\int_0^T \\Sigma_P(s,T)^2\\,\\mathrm{d}s < \\infty$ 是否成立。\n\n首先，我们计算 $\\Sigma_P(s,T)$：\n$$\n\\Sigma_P(s,T) = \\int_s^T \\sigma(s,u)\\,\\mathrm{d}u = k \\int_s^T (u-s)^{-p}\\,\\mathrm{d}u = k \\left[\\frac{(u-s)^{1-p}}{1-p}\\right]_s^T = \\frac{k}{1-p}(T-s)^{1-p}\n$$\n现在我们计算其平方的积分：\n$$\n\\int_0^T \\Sigma_P(s,T)^2\\,\\mathrm{d}s = \\int_0^T \\left(\\frac{k}{1-p}\\right)^2 (T-s)^{2(1-p)}\\,\\mathrm{d}s = \\left(\\frac{k}{1-p}\\right)^2 \\int_0^T (T-s)^{2-2p}\\,\\mathrm{d}s\n$$\n该积分收敛当且仅当指数 $2-2p > -1$，这可以简化为 $3 > 2p$，或者 $p < 3/2$。问题陈述的条件是 $0 \\le p < 1$，这是一个更严格的条件，完全位于收敛区域 $p < 3/2$ 内。由于积分方差是一个有限常数，Novikov's condition $E\\left[\\exp\\left(\\frac{1}{2}\\int_0^T \\Sigma_P(s,T)^2\\,\\mathrm{d}s\\right)\\right] < \\infty$ 被平凡地满足。因此，局部鞅 $Z(t,T)$ 是一个真鞅。\n\n**结论：** **正确**。\n\n**C. 如果 $0 < p < 1$，那么 $\\sigma(t,t)$ 是有限的，并且短期利率 $r(t)=f(t,t)$ 满足一个扩散系数为 $\\sigma(t,t)$ 的随机微分方程。**\n\n该陈述包含两个论断。首先，“$\\sigma(t,t)$ 是有限的”。我们用定义 $\\sigma(t,T) = k(T-t)^{-p}$ 来评估这一点。\n$$\n\\sigma(t,t) = \\lim_{T \\to t^+} k(T-t)^{-p}\n$$\n对于任何 $p > 0$，该极限为无穷大。由于陈述考虑的是 $0 < p < 1$，所以 $\\sigma(t,t)$ 是有限的这个前提是错误的。\n其次，该陈述声称 $r(t)$ 的 SDE 具有扩散系数 $\\sigma(t,t)$。短期利率的定义是 $r(t) = f(t,t)$。使用远期利率的积分表示，\n$$\nr(t) = f(t,t) = f(0,t) + \\int_0^t \\alpha(s,t)\\,\\mathrm{d}s + \\int_0^t \\sigma(s,t)\\,\\mathrm{d}W_s\n$$\n$\\mathrm{d}r(t)$ 的扩散部分形式上应为 $\\sigma(t,t)\\mathrm{d}W_t$。然而，为了使其有意义，$\\sigma(t,t)$ 必须有良好定义且是有限的。如上所示，它不是。\n此外，要使短期利率过程 $r(t)$ 是一个适定的半鞅，随机积分 $\\int_0^t \\sigma(s,t)\\,\\mathrm{d}W_s = \\int_0^t k(t-s)^{-p}\\,\\mathrm{d}W_s$ 必须是适定的。这个积分的方差是 $\\int_0^t k^2(t-s)^{-2p}\\,\\mathrm{d}s$。这个积分仅当 $2p < 1$ 时收敛，即 $p < 1/2$。\n对于 $1/2 \\le p < 1$，随机积分的方差是无穷大，这意味着过程 $r(t)$ 甚至在伊藤意义下都没有被恰当定义。该陈述在多个基本层面上都是不正确的。\n\n**结论：** **不正确**。\n\n**D. 如果 $0 < p < 1$，映射 $(t,T)\\mapsto f(t,T)$ 在边界 $T=t$ 处不必是联合连续的；这种正则性的缺乏会使那些在包含任意接近于 $t$ 的 $T$ 值的网格点上演化远期曲线的数值格式变得不稳定。**\n\n我们考察对于一个固定的 $t$，映射 $T \\mapsto f(t,T)$ 在点 $T=t$ 处的连续性。\n$$\nf(t,T) = f(0,T) + \\int_0^t \\alpha(s,T)\\,\\mathrm{d}s + \\int_0^t \\sigma(s,T)\\,\\mathrm{d}W_s\n$$\n根据假设，初始曲线 $f(0,T)$ 是连续的。可以证明对于 $p<1$，确定性积分项在 $T$ 上是连续的。关键项是随机积分 $J(T) = \\int_0^t \\sigma(s,T)\\,\\mathrm{d}W_s$。\n正如对选项 C 的分析，过程 $r(t) = f(t,t)$ 要求随机积分 $J(t) = \\int_0^t \\sigma(s,t)\\,\\mathrm{d}W_s$ 是适定的。这仅当 $p < 1/2$ 时成立。对于 $p \\in [1/2, 1)$，$f(t,t)$ 在 $L^2(\\Omega)$ 中不是一个适定的随机变量，因为其方差是无穷大。在这种情况下，不存在连续的可能性，因为在 $T=t$ 处的值在标准意义下不存在。要使 $f(t,T)$ 在 $T=t$ 处连续，必须有 $\\lim_{T \\to t^+} f(t,T) = f(t,t)$。由于当 $p \\ge 1/2$ 时 $f(t,t)$ 是不适定的，因此连续性不成立。\n范围 $0 < p < 1$ 包括了区间 $[1/2, 1)$，在此区间上连续性不成立。因此，关于连续性没有保证（“不必是联合连续的”）的陈述是正确的。在对角线 $T=t$ 上的这种不连续性是此 HJM 参数化的一个已知病态，并且确实给离散化 $(t,T)$ 平面的数值方法带来了严重问题。\n\n**结论：** **正确**。\n\n**E. 如果 $\\sigma$ 关于 $t$ 不是 $\\mathcal{F}_t$ 适应的，HJM 无套利约束仍然可以施加并保证无套利；适应性的缺乏对于适定性是无害的。**\n\n这个陈述是根本性错误的。支撑 HJM 框架和风险中性定价的整个伊藤随机分析理论，其关键依赖于所有被积过程都适应于信息流 $\\mathcal{F}_t$ 这一假设。一个适应过程 $\\sigma(t,T)$ 是指，对于每个 $t$，$\\sigma(t,T)$ 都是 $\\mathcal{F}_t$ 可测的。这意味着在给定直至时间 $t$ 的布朗运动历史的情况下，其在时间 $t$ 的值是已知的。\n如果 $\\sigma$ 不是适应的，它将是一个“预见性”过程。随机积分 $\\int \\sigma\\,\\mathrm{d}W$ 将不是一个伊藤积分，也不会是一个鞅。伊藤引理将不以其标准形式适用。因此，HJM 无套利条件的整个推导过程都将崩溃。适应性的缺乏并非“无害的”；它是一个致命缺陷，使得模型在数理金融的标准框架下是不适定的。虽然存在用于预见性随机积分的理论（例如 Skorokhod 积分），但它们不具备套利定价所必需的鞅性质。\n\n**结论：** **不正确**。\n\n### 结论\n\n陈述 A、B 和 D 是正确的，而陈述 C 和 E 是不正确的。", "answer": "$$\\boxed{ABD}$$", "id": "2398822"}]}