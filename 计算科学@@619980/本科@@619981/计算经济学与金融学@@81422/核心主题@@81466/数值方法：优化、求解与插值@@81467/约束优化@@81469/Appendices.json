{"hands_on_practices": [{"introduction": "我们从一个基础但至关重要的问题开始我们的实践之旅。这个问题 [@problem_id:4164] 要求我们在一个平面约束下，找到三维空间中距离原点最近的点。这个练习为我们提供了一个关于拉格朗日乘子法核心机制的直观几何解释。通过解决这个问题，你将亲身体会到在最优点，目标函数的梯度如何与约束函数的梯度平行，这是所有约束优化问题的基础。", "problem": "一个质点在三维空间中运动，其势能由函数 $U(x, y, z) = x^2 + y^2 + z^2$ 描述。质点的运动被约束在由方程 $x + 2y + 3z = 6$ 定义的一个平面上。\n\n使用拉格朗日乘子法，求该质点在约束平面上运动时所能具有的最小势能。", "solution": "我们要求在约束条件 $x + 2y + 3z = 6$ 下，$U = x^2 + y^2 + z^2$ 的最小值。引入拉格朗日乘子 $\\lambda$，并设  \n$$L(x,y,z,\\lambda) = x^2 + y^2 + z^2 - \\lambda\\,(x + 2y + 3z - 6).$$  \n计算偏导数：  \n$$\\frac{\\partial L}{\\partial x} = 2x - \\lambda = 0,$$  \n$$\\frac{\\partial L}{\\partial y} = 2y - 2\\lambda = 0,$$  \n$$\\frac{\\partial L}{\\partial z} = 2z - 3\\lambda = 0,$$  \n$$\\frac{\\partial L}{\\partial \\lambda} = -(x + 2y + 3z - 6) = 0.$$  \n\n由前三个方程可得  \n$$2x = \\lambda,\\quad 2y = 2\\lambda,\\quad 2z = 3\\lambda,$$  \n因此  \n$$x = \\frac{\\lambda}{2},\\quad y = \\lambda,\\quad z = \\frac{3\\lambda}{2}.$$  \n\n代入约束条件：  \n$$\\frac{\\lambda}{2} + 2\\lambda + 3\\cdot\\frac{3\\lambda}{2} = 6.$$  \n合并项：  \n$$\\frac{\\lambda}{2} + 2\\lambda + \\frac{9\\lambda}{2} = 6,\\quad\n\\frac{1\\lambda + 4\\lambda + 9\\lambda}{2} = 6,\\quad\n7\\lambda = 6\\quad\\Longrightarrow\\quad \\lambda = \\frac{6}{7}.$$  \n\n因此临界点为  \n$$x = \\frac{3}{7},\\quad y = \\frac{6}{7},\\quad z = \\frac{9}{7}.$$  \n计算势能：  \n$$U_{\\min} = \\left(\\frac{3}{7}\\right)^2 + \\left(\\frac{6}{7}\\right)^2 + \\left(\\frac{9}{7}\\right)^2\n= \\frac{9 + 36 + 81}{49} = \\frac{126}{49} = \\frac{18}{7}.$$", "answer": "$$\\boxed{\\frac{18}{7}}$$", "id": "4164"}, {"introduction": "在掌握了拉格朗日乘子法的基本数学原理之后，是时候将它应用于经济学的核心问题了：消费者选择。这个练习 [@problem_id:2293283] 让你扮演一位经济学家的角色，使用斯通-吉里 (Stone-Geary) 效用函数来模拟一个消费者的决策过程，该函数巧妙地引入了“基本生存”消费水平的概念。通过在给定的预算约束下最大化效用，你将学会如何将抽象的优化理论转化为对消费者行为的可计算预测，这是微观经济分析的一项基本技能。", "problem": "一名经济学专业的学生Alex，正在分析自己每月的数字消费预算。Alex的满意度由一个斯通-吉里 (Stone-Geary) 效用函数建模，$U(x, y) = (x-x_{0})^{0.4}(y-y_{0})^{0.6}$，其中$x$代表每月使用的移动数据总量，单位为千兆字节（GB），$y$代表流媒体服务的订阅数量。根据过去的行为，Alex确定了生存消费水平，低于该水平则无法获得效用，即$x_0 = 5$ GB的数据和$y_0 = 1$个流媒体服务。\n\n移动数据的价格是$p_x = \\$2$/GB，每个流媒体服务的价格是$p_y = \\$15$。Alex用于这两项的总月度预算为$I = \\$200$。为简化模型，$x$和$y$均可被视为连续实变量。\n\n假设Alex希望在预算约束下最大化其效用，请确定最优消费组合。求出能最大化Alex效用的$x$和$y$的值。请将您的答案表示为一对数$(x, y)$，每个值四舍五入到三位有效数字。", "solution": "我们在预算约束$p_{x}x+p_{y}y=I$和定义域约束$x\\geq x_{0}$、$y\\geq y_{0}$下，最大化斯通-吉里 (Stone-Geary) 效用函数$U(x,y)=(x-x_{0})^{a}(y-y_{0})^{b}$，其中$a=0.4$，$b=0.6$。由于$\\ln$是严格递增函数，且在内部最优解处有$x>x_{0}$、$y>y_{0}$，我们等价于在$p_{x}x+p_{y}y=I$的约束下最大化$\\ln U=a\\ln(x-x_{0})+b\\ln(y-y_{0})$。\n\n构造拉格朗日函数\n$$\n\\mathcal{L}=a\\ln(x-x_{0})+b\\ln(y-y_{0})+\\lambda\\left(I-p_{x}x-p_{y}y\\right).\n$$\n内部最优解的一阶条件是\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial x}=\\frac{a}{x-x_{0}}-\\lambda p_{x}=0,\\quad\n\\frac{\\partial \\mathcal{L}}{\\partial y}=\\frac{b}{y-y_{0}}-\\lambda p_{y}=0,\\quad\n\\frac{\\partial \\mathcal{L}}{\\partial \\lambda}=I-p_{x}x-p_{y}y=0.\n$$\n由前两个条件可得，\n$$\nx-x_{0}=\\frac{a}{\\lambda p_{x}},\\qquad y-y_{0}=\\frac{b}{\\lambda p_{y}}.\n$$\n代入预算约束中：\n$$\np_{x}\\left(x_{0}+\\frac{a}{\\lambda p_{x}}\\right)+p_{y}\\left(y_{0}+\\frac{b}{\\lambda p_{y}}\\right)=I\n\\;\\;\\Longrightarrow\\;\\;\np_{x}x_{0}+p_{y}y_{0}+\\frac{a}{\\lambda}+\\frac{b}{\\lambda}=I.\n$$\n因此\n$$\n\\frac{a+b}{\\lambda}=I-p_{x}x_{0}-p_{y}y_{0}\n\\;\\;\\Longrightarrow\\;\\;\n\\lambda=\\frac{a+b}{\\,I-p_{x}x_{0}-p_{y}y_{0}\\,}.\n$$\n所以，\n$$\nx^{\\ast}=x_{0}+\\frac{a}{p_{x}}\\cdot\\frac{I-p_{x}x_{0}-p_{y}y_{0}}{a+b},\\qquad\ny^{\\ast}=y_{0}+\\frac{b}{p_{y}}\\cdot\\frac{I-p_{x}x_{0}-p_{y}y_{0}}{a+b}.\n$$\n当$a=0.4$，$b=0.6$（因此$a+b=1$），$x_{0}=5$，$y_{0}=1$，$p_{x}=2$，$p_{y}=15$，$I=200$时，可自由支配的收入为\n$$\nI-p_{x}x_{0}-p_{y}y_{0}=200-2\\cdot 5-15\\cdot 1=175>0,\n$$\n因此存在一个内部解。那么\n$$\nx^{\\ast}=5+\\frac{0.4}{2}\\cdot 175=5+35=40,\\qquad\ny^{\\ast}=1+\\frac{0.6}{15}\\cdot 175=1+7=8.\n$$\n这个消费组合是可行的，并用尽了所有预算：$2\\cdot 40+15\\cdot 8=200$。将每个值四舍五入到三位有效数字，得到$x^{\\ast}=40.0$和$y^{\\ast}=8.00$。", "answer": "$$\\boxed{\\begin{pmatrix}40.0 & 8.00\\end{pmatrix}}$$", "id": "2293283"}, {"introduction": "虽然解析解对于理解理论至关重要，但许多现实世界中的优化问题过于复杂，需要借助计算方法来求解。罚函数法就是这样一种强大的技术，它将复杂的约束问题转化为计算机可以高效处理的无约束问题。这个练习 [@problem_id:2193334] 是一个精巧的思想实验，它不要求你编写代码，而是通过对比两种不同的罚函数构造方式，让你深入思考算法设计的内在逻辑。通过分析为什么一种方法有效而另一种方法会收敛到错误的解，你将对计算优化算法的正确性与鲁棒性建立深刻的理解。", "problem": "一位工程师的任务是解决一个简单的一维约束优化问题：\n\n最小化函数 $f(x) = (x-a)^2$\n满足不等式约束 $g(x) = x-b \\le 0$。\n\n参数 $a$ 和 $b$ 是固定的实常数，且已知关系为 $a < b$。\n\n该工程师决定使用二次罚函数法来近似求解。然而，他们不确定针对该不等式约束的罚项的正确形式。他们考虑了两种不同的增广目标函数，其中 $\\mu > 0$ 是罚参数：\n\n**方法一：** 增广函数为 $P_1(x; \\mu) = (x-a)^2 + \\frac{\\mu}{2} \\left(\\max\\{0, x-b\\}\\right)^2$。\n**方法二：** 增广函数为 $P_2(x; \\mu) = (x-a)^2 + \\frac{\\mu}{2} (x-b)^2$。\n\n对于每种方法，工程师找到使相应增广函数最小化的 $x$ 值。我们将这些最小值点记为 $x_1^*(\\mu)$（对应 $P_1(x; \\mu)$）和 $x_2^*(\\mu)$（对应 $P_2(x; \\mu)$）。罚函数法的目标是，当罚参数 $\\mu$ 趋于无穷大时，无约束最小值点序列收敛于原始约束问题的真实解 $x^*$。\n\n你的任务是分析这种情况。首先，确定原始约束问题的精确解 $x^*$。然后，对两种方法分别求出当 $\\mu \\to \\infty$ 时无约束最小值点的极限。\n\n将你的三个结果——真实解 $x^*$、方法一的极限 ($\\lim_{\\mu \\to \\infty} x_1^*(\\mu)$) 和方法二的极限 ($\\lim_{\\mu \\to \\infty} x_2^*(\\mu)$)——按此特定顺序表示为一个行矩阵。", "solution": "我们首先解决原始的约束优化问题：\n最小化 $f(x) = (x - a)^{2}$，约束条件为 $x - b \\le 0$，即 $x \\le b$。$f$ 的无约束最小值点是 $x = a$。由于 $a < b$，该无约束最小值点是可行的，因此精确解为\n$$\nx^{*} = a.\n$$\n\n对于方法一，增广目标函数为 $P_{1}(x; \\mu) = (x - a)^{2} + \\frac{\\mu}{2} \\left(\\max\\{0, x - b\\}\\right)^{2}$。通过考虑两个区域来最小化 $P_{1}$。\n\n如果 $x \\le b$，则 $\\max\\{0, x - b\\} = 0$，所以 $P_{1}(x; \\mu) = (x - a)^{2}$。导数条件 $2(x - a) = 0$ 得到 $x = a$，因为 $a < b$，所以该解满足 $x \\le b$。其值为 $P_{1}(a; \\mu) = 0$。\n\n如果 $x > b$，则 $P_{1}(x; \\mu) = (x - a)^{2} + \\frac{\\mu}{2} (x - b)^{2}$。求导并令其为零，得到\n$$\n2(x - a) + \\mu (x - b) = 0 \\;\\;\\Rightarrow\\;\\; (2 + \\mu) x = 2 a + \\mu b \\;\\;\\Rightarrow\\;\\; x = \\frac{2 a + \\mu b}{2 + \\mu}.\n$$\n检验此解在该区域的可行性：\n$$\nx - b = \\frac{2 a + \\mu b}{2 + \\mu} - b = \\frac{2(a - b)}{2 + \\mu} < 0 \\quad \\text{因为 } a < b,\n$$\n所以该驻点位于 $x > b$ 区域之外。根据凸性，在 $x > b$ 上的最小值出现在边界 $x = b$ 处，此时 $P_{1}(b; \\mu) = (b - a)^{2} > 0$。由于 $P_{1}(a; \\mu) = 0$，因此对于所有 $\\mu > 0$，全局最小值点为 $x_{1}^{*}(\\mu) = a$。因此，\n$$\n\\lim_{\\mu \\to \\infty} x_{1}^{*}(\\mu) = a.\n$$\n\n对于方法二，增广目标函数为 $P_{2}(x; \\mu) = (x - a)^{2} + \\frac{\\mu}{2} (x - b)^{2}$。求导并令其为零，得到\n$$\n2(x - a) + \\mu (x - b) = 0 \\;\\;\\Rightarrow\\;\\; (2 + \\mu) x = 2 a + \\mu b \\;\\;\\Rightarrow\\;\\; x_{2}^{*}(\\mu) = \\frac{2 a + \\mu b}{2 + \\mu}.\n$$\n取极限，\n$$\n\\lim_{\\mu \\to \\infty} x_{2}^{*}(\\mu) = \\lim_{\\mu \\to \\infty} \\frac{2 a + \\mu b}{2 + \\mu} = b.\n$$\n\n因此，按要求顺序排列的结果是 $x^{*} = a$，$\\lim_{\\mu \\to \\infty} x_{1}^{*}(\\mu) = a$ 和 $\\lim_{\\mu \\to \\infty} x_{2}^{*}(\\mu) = b$。", "answer": "$$\\boxed{\\begin{pmatrix} a & a & b \\end{pmatrix}}$$", "id": "2193334"}]}