{"hands_on_practices": [{"introduction": "无套利定价的基石在于能够用基础资产和无风险资产的投资组合完美复制衍生品的未来收益。这个练习将指导你通过复制原理，为一个跨式期权（straddle）构建一个等价的投资组合。通过这个过程，你将亲手实践如何构建一个对冲头寸，并直观地理解为何复制是衍生品定价的核心机制。[@problem_id:2430969]", "problem": "在一个符合无套利条件的单期二叉树模型中，一支风险股票在时间$0$的价格为$S_0 = 100$。经过一个时期到达时间$1$时，该股票价格变动为$S_u = u S_0$或$S_d = d S_0$，其中$u = \\frac{6}{5}$且$d = \\frac{4}{5}$。无风险资产是一种纯贴现债券，在时间$0$的价格为$1$，在时间$1$确定性地增长到$R$，其中$R = 1 + r_f = \\frac{21}{20}$。考虑一种针对该股票的欧式看涨期权和一种欧式看跌期权，它们具有相同的行权价$K = 100$和相同的到期日（时间$1$）。多头跨式组合是一个投资组合，包含1份具有相同行权价和到期日的看涨期权和1份看跌期权。\n\n仅使用无套利原则、单一价格定律以及二叉树模型中的逐态复制方法，确定能够复制该多头跨式组合在两种状态下时间$1$收益的股票数量$\\Delta$和无风险债券单位数$B$（在时间$0$购买）。请将最终答案表示为有序对$(\\Delta, B)$。请提供精确值，无需四舍五入。", "solution": "该问题经验证，被认为是内容自洽、在金融工程原理上具有科学依据且提法得当的。无套利条件$d < R < u$得到满足，因为$\\frac{4}{5} < \\frac{21}{20} < \\frac{6}{5}$，等同于$0.8 < 1.05 < 1.2$。因此，可以构建一个解。\n\n任务是找到一个由$\\Delta$股股票和$B$单位无风险债券组成的复制投资组合的构成，使其在时间$t=1$时与多头跨式组合的收益相匹配。多头跨式组合是包含一个欧式看涨期权和一个欧式看跌期权的投资组合，二者具有相同的行权价$K$和到期日。\n\n欧式看涨期权在到期日的收益为$C_1 = \\max(0, S_1 - K)$，其中$S_1$是时间$1$的股票价格。\n欧式看跌期权在到期日的收益为$P_1 = \\max(0, K - S_1)$。\n多头跨式组合的收益，我们记作$V_1$，是其组成的看涨期权和看跌期权收益之和：\n$$V_1 = C_1 + P_1 = \\max(0, S_1 - K) + \\max(0, K - S_1)$$\n这个和可以简化为到期时股票价格与行权价之间的绝对差：\n$$V_1 = |S_1 - K|$$\n给定以下参数：\n初始股价：$S_0 = 100$\n行权价：$K = 100$\n上涨因子：$u = \\frac{6}{5}$\n下跌因子：$d = \\frac{4}{5}$\n无风险总回报率：$R = 1 + r_f = \\frac{21}{20}$\n\n首先，我们必须确定在时间$t=1$时可能的股票价格以及对应的跨式组合收益。\n在“上涨”状态下，股票价格为：\n$$S_u = u S_0 = \\frac{6}{5} \\times 100 = 120$$\n在上涨状态下，跨式组合的收益$V_u$为：\n$$V_u = |S_u - K| = |120 - 100| = 20$$\n在“下跌”状态下，股票价格为：\n$$S_d = d S_0 = \\frac{4}{5} \\times 100 = 80$$\n在下跌状态下，跨式组合的收益$V_d$为：\n$$V_d = |S_d - K| = |80 - 100| = |-20| = 20$$\n\n一个复制投资组合由$\\Delta$股股票和$B$单位无风险债券组成。在时间$t=0$建立此投资组合的成本为$\\Delta S_0 + B$，因为债券价格为$1$。在时间$t=1$，该投资组合的价值必须在两种可能的状态下都与跨式组合的收益相匹配。这产生了一个包含两个未知数$\\Delta$和$B$的二元一次方程组。\n\n在上涨状态下：\n$$\\Delta S_u + B R = V_u$$\n$$\\Delta (u S_0) + B R = V_u \\quad (1)$$\n在下跌状态下：\n$$\\Delta S_d + B R = V_d$$\n$$\\Delta (d S_0) + B R = V_d \\quad (2)$$\n\n为了求解$\\Delta$，我们将方程$(1)$减去方程$(2)$：\n$$\\Delta (u S_0) - \\Delta (d S_0) = V_u - V_d$$\n$$\\Delta S_0 (u - d) = V_u - V_d$$\n$$\\Delta = \\frac{V_u - V_d}{S_0(u - d)}$$\n代入数值：\n$$\\Delta = \\frac{20 - 20}{100 \\left(\\frac{6}{5} - \\frac{4}{5}\\right)} = \\frac{0}{100 \\left(\\frac{2}{5}\\right)} = \\frac{0}{40} = 0$$\n所以，该复制投资组合持有零股股票。这是合乎逻辑的，因为跨式组合的收益在两种状态下都是恒定的（$20$），这意味着其收益是无风险的，并且不依赖于标的股票的变动。\n\n接下来，我们求解$B$。我们可以使用方程$(1)$或$(2)$。使用方程$(1)$：\n$$B R = V_u - \\Delta u S_0$$\n$$B = \\frac{V_u - \\Delta u S_0}{R}$$\n代入数值：\n$$B = \\frac{20 - (0) \\left(\\frac{6}{5} \\times 100\\right)}{\\frac{21}{20}} = \\frac{20}{\\frac{21}{20}}$$\n$$B = 20 \\times \\frac{20}{21} = \\frac{400}{21}$$\n该复制投资组合由$0$股股票和$\\frac{400}{21}$单位的无风险债券组成。该投资组合在时间$0$的成本为$\\Delta S_0 + B = (0)(100) + \\frac{400}{21} = \\frac{400}{21}$。\n在时间$t=1$，其在两种状态下的价值都将是$B R = \\frac{400}{21} \\times \\frac{21}{20} = \\frac{400}{20} = 20$，这完美地复制了跨式组合的收益。\n\n股票的数量为$\\Delta=0$，无风险债券的单位数为$B=\\frac{400}{21}$。问题要求以有序对$(\\Delta, B)$的形式表示。", "answer": "$$\\boxed{\\begin{pmatrix} 0 & \\frac{400}{21} \\end{pmatrix}}$$", "id": "2430969"}, {"introduction": "理论模型如何与真实市场价格联系起来？这个练习将向你展示，已知的期权市场价格中蕴含着关于未来不确定性的宝贵信息。我们将学习如何从一个已交易的看涨期权价格中“反向工程”出市场所隐含的风险中性概率$q$，并利用这个概率去为另一个相关的衍生品——看跌期权——进行定价，从而领会无套利框架的内在一致性。[@problem_id:2430927]", "problem": "考虑一个单期二叉树模型下的一只股票。当前股价为 $S_0 = 100$。在一个时期内，股票价格要么上涨至 $S_u = u S_0$ (其中 $u = 1.20$)，要么下跌至 $S_d = d S_0$ (其中 $d = 0.80$)。每期的无风险简单利率为 $r = 0.05$，因此总无风险因子为 $1+r = 1.05$。一份执行价格为 $K = 115$、期限为一个时期的欧式看涨期权，在时刻零的观测交易价格为 $C_0 = \\frac{125}{42}$。\n\n假设在这个包含股票和无风险资产交易的单期模型中不存在套利机会，请确定由观测到的看涨期权价格所隐含的股价上涨的风险中性概率 $q$。然后，使用这个 $q$ 值，计算具有相同执行价格 $K = 115$ 和相同期限的欧式看跌期权在时刻零的价格。\n\n将 $q$ 表示为小数（而不是百分比），并将看跌期权的价格以与 $S_0$ 相同的货币单位表示。将两个数值都四舍五入到四位有效数字。", "solution": "问题陈述已经过评估并被确定为有效。它在科学上基于金融数学的原理，特别是单期二叉树期权定价模型。该问题是适定的，提供了所有必要数据，并且满足无套利条件 $d &lt; 1+r &lt; u$。问题是客观且内部一致的。我们可以开始求解。\n\n该问题要求我们在单期二叉树模型框架内进行计算。在此框架下，基于无套利假设，任何衍生证券的价格都是其在风险中性概率测度下的期望收益的贴现值。\n\n首先，我们确定股价上涨的风险中性概率 $q$。欧式看涨期权的价格 $C_0$ 由以下公式给出：\n$$C_0 = \\frac{1}{1+r} \\left[ q \\cdot C_u + (1-q) \\cdot C_d \\right]$$\n其中 $r$ 是无风险利率，$C_u$ 是股价上涨时期权的收益，$C_d$ 是股价下跌时期权的收益。\n\n给定的参数如下：\n- 当前股价：$S_0 = 100$\n- 上涨因子：$u = 1.20$\n- 下跌因子：$d = 0.80$\n- 无风险简单利率：$r = 0.05$，因此总无风险因子为 $1+r = 1.05$\n- 执行价格：$K = 115$\n- 时刻零观测到的看涨期权价格：$C_0 = \\frac{125}{42}$\n\n首先，我们计算期末时可能的股票价格：\n- 上涨状态价格：$S_u = u \\cdot S_0 = 1.20 \\times 100 = 120$\n- 下跌状态价格：$S_d = d \\cdot S_0 = 0.80 \\times 100 = 80$\n\n接下来，我们计算欧式看涨期权在每种状态下的收益：\n- 上涨状态下的收益：$C_u = \\max(S_u - K, 0) = \\max(120 - 115, 0) = 5$\n- 下跌状态下的收益：$C_d = \\max(S_d - K, 0) = \\max(80 - 115, 0) = 0$\n\n现在，我们将这些值代入看涨期权定价公式，以求解隐含的风险中性概率 $q$：\n$$\\frac{125}{42} = \\frac{1}{1.05} \\left[ q \\cdot 5 + (1-q) \\cdot 0 \\right]$$\n$$\\frac{125}{42} = \\frac{5q}{1.05}$$\n求解 $q$：\n$$q = \\frac{125}{42} \\cdot \\frac{1.05}{5}$$\n为了精确计算，我们可以使用分数：$1.05 = \\frac{105}{100} = \\frac{21}{20}$。\n$$q = \\frac{125}{42} \\cdot \\frac{21/20}{5} = \\frac{125}{42} \\cdot \\frac{21}{100} = \\frac{125}{100} \\cdot \\frac{21}{42} = \\frac{5}{4} \\cdot \\frac{1}{2} = \\frac{5}{8}$$\n作为小数，$q = 0.625$。问题要求四舍五入到四位有效数字，因此 $q = 0.6250$。\n\n其次，我们使用这个风险中性概率 $q$ 来计算具有相同执行价格 $K=115$ 和期限的欧式看跌期权的价格 $P_0$。其定价公式是类似的：\n$$P_0 = \\frac{1}{1+r} \\left[ q \\cdot P_u + (1-q) \\cdot P_d \\right]$$\n我们计算看跌期权的收益：\n- 上涨状态下的收益：$P_u = \\max(K - S_u, 0) = \\max(115 - 120, 0) = 0$\n- 下跌状态下的收益：$P_d = \\max(K - S_d, 0) = \\max(115 - 80, 0) = 35$\n\n我们有 $q = \\frac{5}{8}$，所以 $1-q = 1 - \\frac{5}{8} = \\frac{3}{8}$。\n将这些值代入看跌期权定价公式：\n$$P_0 = \\frac{1}{1.05} \\left[ \\frac{5}{8} \\cdot 0 + \\frac{3}{8} \\cdot 35 \\right]$$\n$$P_0 = \\frac{1}{1.05} \\left( \\frac{3 \\times 35}{8} \\right) = \\frac{105}{8 \\times 1.05}$$\n注意到 $105 = 100 \\times 1.05$：\n$$P_0 = \\frac{100 \\times 1.05}{8 \\times 1.05} = \\frac{100}{8} = \\frac{25}{2}$$\n作为小数，$P_0 = 12.5$。四舍五入到四位有效数字得到 $P_0 = 12.50$。\n\n可以使用此模型中欧式期权的买卖权平价关系进行一致性检验：$C_0 - P_0 = S_0 - \\frac{K}{1+r}$。\n$$P_0 = C_0 - S_0 + \\frac{K}{1+r} = \\frac{125}{42} - 100 + \\frac{115}{1.05}$$\n$$\\frac{115}{1.05} = \\frac{115}{21/20} = \\frac{115 \\times 20}{21} = \\frac{2300}{21}$$\n$$P_0 = \\frac{125}{42} - \\frac{4200}{42} + \\frac{2 \\times 2300}{42} = \\frac{125 - 4200 + 4600}{42} = \\frac{525}{42}$$\n$$P_0 = \\frac{25 \\times 21}{2 \\times 21} = \\frac{25}{2} = 12.5$$\n结果是一致的。\n\n隐含的风险中性概率为 $q = 0.6250$，看跌期权的价格为 $P_0 = 12.50$。", "answer": "$$\\boxed{\\begin{pmatrix} 0.6250 & 12.50 \\end{pmatrix}}$$", "id": "2430927"}, {"introduction": "金融模型并非一成不变，它们必须能够反映真实世界中不断变化的环境。这个练习模拟了一个重要的现实场景：政府政策干预。你将分析一个价格下限（price floor）政策如何从根本上改变标的资产的未来价格分布。这项练习的挑战在于，你必须认识到这种改变会重塑风险中性概率，进而影响期权的价格，这是对模型背后核心逻辑的深刻考验。[@problem_id:2430937]", "problem": "考虑一个从时间$0$到时间$1$的单期二叉树模型。一个标的资产的现价为 $S_0 = \\$100$，在没有政策干预的情况下，其在时间$1$的价格将演变为 $S_0 u$ 或 $S_0 d$，其中 $u = 1.2$，$d = 0.7$。每期的无风险总回报率为 $R = 1 + r$，其中 $r = 0.05$。该资产不支付任何收益，市场无摩擦且无套利。一份执行价格为 $K = \\$100$ 的欧式看跌期权于时间$1$到期。\n\n在时间$0$，政府可信地实施了一项针对标的资产的价格下限政策，该政策在时间$1$强制执行：标的资产在时间$1$的市场交易价格不能低于 $L = \\$90$。等价地，在上涨情形下，最终交易价格变为 $\\max\\{S_0 u, L\\}$，在下跌情形下，最终交易价格变为 $\\max\\{S_0 d, L\\}$。该政策是完全可信的，且经济环境中没有其他变化。\n\n在此价格下限政策下，该欧式看跌期权在时间$0$的无套利价格是多少？\n\n选项：\n- A. $\\$8.571$\n- B. $\\$4.762$\n- C. $\\$2.857$\n- D. $\\$14.286$\n- E. 在该政策下，价格无法唯一定价。", "solution": "该问题要求在特定政府政策下欧式看跌期权的无套利价格。解决方案将使用单期二叉树框架下的风险中性定价原理推导得出。\n\n首先，我们必须验证问题陈述的有效性。\n给定参数如下：\n- 初始资产价格：$S_0 = \\$100$。\n- 无政策干预时的上涨因子：$u = 1.2$。\n- 无政策干预时的下跌因子：$d = 0.7$。\n- 无风险总回报率：$R = 1.05$。\n- 期权执行价格：$K = \\$100$。\n- 政府价格下限：$L = \\$90$。\n\n该问题在科学上基于标准的资产定价二叉树模型，这是金融工程的基石。引入政府价格下限是对资产最终收益的一个明确定义的修改。\n\n在政策实施前，无套利条件 $d < R < u$ 必须成立。当 $d=0.7$, $R=1.05$, $u=1.2$ 时，我们有 $0.7 < 1.05 < 1.2$，这是成立的。因此初始模型是有效的。\n\n该政策修改了时间 $t=1$ 时的最终资产价格。设政策实施前的价格为 $S_1^{\\text{pre}}(\\text{上涨}) = S_0 u = \\$100 \\times 1.2 = \\$120$ 和 $S_1^{\\text{pre}}(\\text{下跌}) = S_0 d = \\$100 \\times 0.7 = \\$70$。该政策强制执行最低价格 $L = \\$90$。政策实施后的最终价格，我们记为 $S_1(u)$ 和 $S_1(d)$，为：\n$$ S_1(u) = \\max\\{S_1^{\\text{pre}}(\\text{up}), L\\} = \\max\\{\\$120, \\$90\\} = \\$120 $$\n$$ S_1(d) = \\max\\{S_1^{\\text{pre}}(\\text{down}), L\\} = \\max\\{\\$70, \\$90\\} = \\$90 $$\n\n由于资产价格的两个可能最终状态 $\\$120$ 和 $\\$90$ 是不同的，市场保持完备性。为了确保存在唯一的无套利价格，我们必须为*新*的有效上涨和下跌因子检查无套利条件。新的因子是 $u' = S_1(u)/S_0 = \\$120/\\$100 = 1.2$ 和 $d' = S_1(d)/S_0 = \\$90/\\$100 = 0.9$。条件 $d' < R < u'$ 变为 $0.9 < 1.05 < 1.2$，该条件成立。因此，该问题是适定的，并且存在唯一的解。问题陈述是有效的。\n\n我们开始求解。期权的无套利价格是在风险中性测度下其期望收益的贴现值。价格 $P_0$ 由下式给出：\n$$ P_0 = \\frac{1}{R} [q P_1(u) + (1-q) P_1(d)] $$\n其中 $P_1(u)$ 和 $P_1(d)$ 是期权在上涨和下跌状态下的收益，而 $q$ 是风险中性概率。\n\n至关重要的是，风险中性概率 $q$ 由可交易的标的资产决定。由于政策改变了资产的收益结构，风险中性概率必须基于新的最终价格 $S_1(u)$ 和 $S_1(d)$ 重新计算。风险中性概率 $q$ 是使资产的期望回报等于无风险利率的值：\n$$ S_0 R = q S_1(u) + (1-q) S_1(d) $$\n解出 $q$：\n$$ q = \\frac{R S_0 - S_1(d)}{S_1(u) - S_1(d)} $$\n代入数值：\n$$ q = \\frac{1.05 \\times \\$100 - \\$90}{\\$120 - \\$90} = \\frac{\\$105 - \\$90}{\\$30} = \\frac{\\$15}{\\$30} = 0.5 $$\n上涨的风险中性概率是 $q=0.5$。\n\n接下来，我们计算欧式看跌期权在到期时 ($t=1$) 的收益。收益为 $\\max\\{K-S_1, 0\\}$。\n- 上涨状态下的收益：$P_1(u) = \\max\\{\\$100 - S_1(u), 0\\} = \\max\\{\\$100 - \\$120, 0\\} = \\$0$。\n- 下跌状态下的收益：$P_1(d) = \\max\\{\\$100 - S_1(d), 0\\} = \\max\\{\\$100 - \\$90, 0\\} = \\$10$。\n\n最后，我们通过对期望收益进行贴现来计算期权在 $t=0$ 时的价格：\n$$ P_0 = \\frac{1}{1.05} [0.5 \\times \\$0 + (1-0.5) \\times \\$10] $$\n$$ P_0 = \\frac{1}{1.05} [0.5 \\times \\$10] = \\frac{\\$5}{1.05} $$\n为了计算精确的分数，我们可以将 $1.05$ 写成 $\\frac{105}{100} = \\frac{21}{20}$。\n$$ P_0 = \\$5 \\times \\frac{20}{21} = \\frac{\\$100}{21} \\approx \\$4.761904... $$\n\n现在，我们评估每个选项：\n\n- **A. $\\$8.571$**：这个值，约等于 $\\$60/7$，是在*没有*价格下限的情况下看跌期权的价格。在原始模型中，$q = \\frac{1.05 \\times 100 - 70}{120 - 70} = \\frac{35}{50} = 0.7$。原始收益为 $P_u=0$ 和 $P_d = \\max\\{100-70,0\\}=30$。价格将是 $P_0 = \\frac{1}{1.05} [0.7 \\times 0 + 0.3 \\times 30] = \\frac{9}{1.05} = \\frac{180}{21} = \\frac{60}{7} \\approx \\$8.571$。价格下限减少了股票的潜在损失，这必然会降低看跌期权的价值。因此，此选项**错误**。\n\n- **B. $\\$4.762$**：我们计算出的价格是 $P_0 = \\$100/21 \\approx \\$4.7619$。此选项四舍五入到三位小数，与我们的结果匹配。这是**正确**的。\n\n- **C. $\\$2.857$**：这个值，约等于 $\\$20/7$，是由于一个常见错误导致的：使用了原始的风险中性概率 ($q=0.7$) 和新的期权收益 ($P_1(u)=0, P_1(d)=10$)。这样计算将得到 $P_0 = \\frac{1}{1.05} [0.7 \\times 0 + 0.3 \\times 10] = \\frac{3}{1.05} = \\frac{60}{21} = \\frac{20}{7} \\approx \\$2.857$。这在理论上是不一致的，因为风险中性测度必须从实际交易资产的价格动态中推导出来，而该动态已被政策改变。因此，此选项**错误**。\n\n- **D. $\\$14.286$**：这个值远高于原始看跌期权的价格。限制标的资产下行风险的政策不可能增加看跌期权的价值。此选项在逻辑上不合理。因此，此选项**错误**。\n\n- **E. 在该政策下，价格无法唯一定价。**：如果市场变得不完备（即 $S_1(u)=S_1(d)$）或存在套利可能，这才成立。如在验证阶段所示，新的最终价格是不同的（$\\$120 \\neq \\$90$），且无套利条件（$d' < R < u'$）成立。因此，存在唯一的无套利价格。因此，此选项**错误**。", "answer": "$$\\boxed{B}$$", "id": "2430937"}]}